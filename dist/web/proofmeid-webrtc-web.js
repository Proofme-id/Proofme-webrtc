/*! For license information please see proofmeid-webrtc-web.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ProofmeId=t():e.ProofmeId=t()}(self,(function(){return(()=>{var e={869:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EClaimType=void 0,(n=t.EClaimType||(t.EClaimType={}))[n.SIGNED_CONTENT=1e3]="SIGNED_CONTENT",n[n.COMPANY_INFO=2e3]="COMPANY_INFO",n[n.VALIDATORS=2001]="VALIDATORS",n[n.USERS=2002]="USERS"},365:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EDIDAccessLevel=void 0,(n=t.EDIDAccessLevel||(t.EDIDAccessLevel={})).NONE="0",n.MANAGEMENT_KEY="1",n.ACTION_KEY="2",n.CLAIM_SIGNER_KEY="3",n.ENCRYPTION_KEY="4"},346:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EMimeType=void 0,(n=t.EMimeType||(t.EMimeType={})).AAC="audio/aac",n.ABW="application/x-abiword",n.ARC="application/x-freearc",n.AVI="video/x-msvideo",n.AZW="application/vnd.amazon.ebook",n.BIN="application/octet-stream",n.BMP="image/bmp",n.BZ="application/x-bzip",n.BZ2="application/x-bzip2",n.CSH="application/x-csh",n.CSS="text/css",n.CSV="text/csv",n.DOC="application/msword",n.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",n.EOT="application/vnd.ms-fontobject",n.EPUB="application/epub+zip",n.GZ="application/gzip",n.GIF="image/gif",n.HTM="text/html",n.HTML="text/html",n.ICO="image/vnd.microsoft.icon",n.ICS="text/calendar",n.JAR="application/java-archive",n.JPEG=".jpg",n.JS="text/javascript",n.JSON="application/json",n.JSONLD="application/ld+json",n.MID=".midi",n.MJS="text/javascript",n.MP3="audio/mpeg",n.MPEG="video/mpeg",n.MPKG="application/vnd.apple.installer+xml",n.ODP="application/vnd.oasis.opendocument.presentation",n.ODS="application/vnd.oasis.opendocument.spreadsheet",n.ODT="application/vnd.oasis.opendocument.text",n.OGA="audio/ogg",n.OGV="video/ogg",n.OGX="application/ogg",n.OPUS="audio/opus",n.OTF="font/otf",n.PNG="image/png",n.PDF="application/pdf",n.PHP="application/php",n.PPT="application/vnd.ms-powerpoint",n.PPTX="application/vnd.openxmlformats-officedocument.presentationml.presentation",n.RAR="application/vnd.rar",n.RTF="application/rtf",n.SH="application/x-sh",n.SVG="image/svg+xml",n.SWF="application/x-shockwave-flash",n.TAR="application/x-tar",n.TIF="image/tiff",n.TIFF="image/tiff",n.TS="video/mp2t",n.TTF="font/ttf",n.TXT="text/plain",n.URI="text/x-uri",n.VSD="application/vnd.visio",n.WAV="audio/wav",n.WEBA="audio/webm",n.WEBM="video/webm",n.WEBP="image/webp",n.WOFF="font/woff",n.WOFF2="font/woff2",n.XHTML="application/xhtml+xml",n.XLS="application/vnd.ms-excel",n.XLSX="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n.XML="XML",n.XUL="application/vnd.mozilla.xul+xml",n.ZIP="application/zip",n.GP3="video/3gpp",n.G23="video/3gpp2",n.Z7="application/x-7z-compressed"},945:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataPurpose=void 0,(n=t.EProofmeDataPurpose||(t.EProofmeDataPurpose={})).IDENTIFICATION="IDENTIFICATION",n.AGE_VERIFICATION="AGE_VERIFICATION",n.PROOFME_CONNECT="PROOFME_CONNECT",n.KYC_VERIFICATION="KYC_VERIFICATION",n.ACCESS_CONTROL="ACCESS_CONTROL"},491:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataStorage=void 0,(n=t.EProofmeDataStorage||(t.EProofmeDataStorage={})).DATABASE="DATABASE",n.CERTIFICATE="CERTIFICATE",n.NOT_STORED="NOT_STORED"},632:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ESignatureTypes=void 0,(n=t.ESignatureTypes||(t.ESignatureTypes={})).ECDSA="ECDSA",n.RSA="RSA",n.HMAC="HMAC"},390:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRTCConnectionConfig=t.validChannelId=void 0;const r=o(n(235));t.validChannelId=function(e,t){return 1===t.filter((t=>t.uuid===e&&null===t.channel&&!0===t.host)).length},t.getRTCConnectionConfig=function(e,t,n,o){const i=`${Math.floor(Date.now()/1e3)+t}:${e}`;return{iceCandidatePoolSize:5,iceServers:[{urls:o,credential:r.default.createHmac("sha1",n).update(i.toString()).digest("base64"),username:i}]}}},611:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtilsProvider=void 0;const s=n(810),a=i(n(9));class c{proofmeUtils=new s.ProofmeUtils;async isValidCredentials(e,t,n,o,r,i){return this.proofmeUtils.isValidCredentials(e,t,n,o,r,i)}getSignature(e,t){return this.proofmeUtils.getSignature(e,t)}signCredentialObject(e,t){return this.proofmeUtils.signCredentialObject(e,t)}signRequestedCredentials(e,t,n){return this.proofmeUtils.signRequestedCredentials(e,t,n)}async isValidRequestedCredentials(e,t,n){return this.proofmeUtils.isValidRequestedCredentials(e,t,n)}async isValidLicense(e,t,n){return this.proofmeUtils.isValidLicense(e,t,n)}generateChallenge(e,t,n,o){return this.proofmeUtils.generateChallenge(e,t,n,o)}async getClaim(e,t,n,o){return await this.proofmeUtils.getClaim(e,t,n,o)}getContractAddressFromDid(e){return this.proofmeUtils.getContractAddressFromDid(e)}static ɵfac=function(e){return new(e||c)};static ɵprov=a.ɵɵdefineInjectable({token:c,factory:c.ɵfac})}t.ProofmeUtilsProvider=c},810:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtils=void 0;const r=o(n(519)),i=n(869),s=n(365),a=n(632),c=n(621);t.ProofmeUtils=class{excludedCredentialProviders=["OWN","ADDITIONAL_INFO","SIGNATURE"];async isValidCredentials(e,t,n,o,i,s){const a=new r.default(t),c=this.requestedCredentialsCorrect(e,n);if(!c.success)return c.credentials=e,c;const l=await this.checkCredentials(e,t,i,s);if(!l.valid)return l;for(const e of o)a.utils.isAddress(e)||(console.error(`Trusted party did ${e} is NOT a valid address and is removed.`),o=o.filter((t=>t!==e)));if(o.length>0){const t=[];let n=0,r=0;const i=[];for(const[s]of Object.entries(e.credentials))if(!this.excludedCredentialProviders.includes(s))for(const[c,l]of Object.entries(e.credentials[s].credentials)){r++;const e=l.issuer.id.split(":")[2];let s=!1,u=null,f=null,d=!0;for(const r of o){const o=t.find((t=>t.issuerDidContractAddress===e&&t.did===r));let p=null;if(o?p=o.claim:(p=await this.getClaims(e,r,a),t.push({issuerDidContractAddress:e,did:r,claim:p})),p)if(d=!1,new Date(p.expirationDate)>new Date){const e=p.keys;f=e;const t=`${l.provider}_${c}`;if(!e.includes(t)){u=t;break}if(!u){n++,s=!0;break}}else i.push({credential:l,valid:!1,code:14,message:"Claim expired."})}d?i.push({credential:l,valid:!1,code:13,message:`No claims found to check. Checked dids ${o}`}):!u||s||i.push({credential:l,valid:!1,code:12,message:`Tried to validate attribute ${u} but provider was not allowed to issue. Allowed attributes: ${f.join(", ")}`})}return n===r?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential",requestedCheckResult:c}:{valid:!1,code:1,message:"Invalid credentials",invalidCredentials:i}}return{valid:!1,code:10,message:"No trusted parties to check."}}async checkCredentials(e,t,n,o){"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e);const i=new r.default(t),s=[];let a=0,l=0;const u=[];for(const[r]of Object.entries(e.credentials)){if(this.excludedCredentialProviders.includes(r))continue;const f={credentials:{[r]:JSON.parse(JSON.stringify(e.credentials[r]))}};delete f.credentials[r].proof.signature;const d=i.eth.accounts.recover(JSON.stringify(f),e.credentials[r].proof.signature);if(this.userCredentialSignatureWrong(e.credentials[r].proof.holder,d))for(const[,f]of Object.entries(e.credentials[r].credentials)){if(l++,!f.version){u.push({credential:f,code:8,message:"Incorrect credential version. Renew your credentials"});continue}const d=new Date(f.expirationDate),p=new Date;if(p>d){u.push({credential:f,code:7,message:`Your credential expired on ${d}`});continue}const h=new Date(e.credentials[r].proof.nonce);if(this.calculateMinutesDifference(p,h)>5&&n)u.push({credential:f,code:2,message:"Nonce too old"});else if(this.issuerCredentialSignatureWrong(f,i)){const n=f.proof.holder,l=f.issuer.id.split(":")[2];if(await this.correctDidContractKey(i,t,c.claimHolderAbi,n,l,s)){const n=e.credentials[r].proof.holder,l=f.id.split(":")[2];await this.correctDidContractKey(i,t,c.claimHolderAbi,n,l,s)?o&&void 0!==f.verified&&!0!==f.verified?u.push({credential:f,code:15,message:"Liveness check required but credential not verified"}):a++:u.push({credential:f,code:6,message:"User did incorrect"})}else u.push({credential:f,code:5,message:"Issuer did incorrect"})}else u.push({credential:f,code:4,message:"Issuer signature incorrect"})}else u.push({credential:e.credentials[r],code:3,message:"User signature incorrect"})}return a===l?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential"}:{valid:!1,code:1,message:"Invalid credential",invalidCredentials:u}}userCredentialSignatureWrong(e,t){return e===t||(console.error(`User signature of credential ${e} does not match recoveredAddress ${t}`),!1)}issuerCredentialSignatureWrong(e,t){const n=e.proof.signature,o=e.proof.holder,r=JSON.parse(JSON.stringify(e));delete r.proof.signature;const i=t.eth.accounts.recover(JSON.stringify(r),n);return o===i||(console.error(`Issuer signature of credential ${o} does not match recoveredAddress ${i}`),!1)}async correctDidContractKey(e,t,n,o,i,s){const a=s.find((e=>e.did==i&&e.holderKey===o));if(a)return a.result;{const a=[];if(i===o)return s.push({did:i,holderKey:o,result:!0}),!0;{const c=this.getSha3Key(o,e),l=new(new r.default(t).eth.Contract)(n,i);if(!this.knownAddressesContains(a,c,i)){const e=parseInt(await this.getKeyPurpose(l,c),10);if(0===e||e>3)return s.push({did:i,holderKey:o,result:!1}),!1;a.push({sha3Key:c,didAddress:i})}return s.push({did:i,holderKey:o,result:!0}),!0}}}knownAddressesContains(e,t,n){for(const o of e)if(o.sha3Key===t&&o.didContractAddress===n)return!0}getSha3Key(e,t){return t.utils.keccak256(e)}async getKeyPurpose(e,t){return null===e.options.address?Promise.resolve(null):await e.methods.getKeyPurpose(t).call()}calculateMinutesDifference(e,t){let n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}reOrderCredentialObject(e){for(const t of Object.keys(e.credentials)){const n=[];for(const o of Object.keys(e.credentials[t].credentials))n.push(o);n.sort();const o={};for(const r of n){const n=this.reOrderCredential(e.credentials[t].credentials[r]);o[r]=n}e.credentials[t].proof=this.reOrderCredentialProof(e.credentials[t].proof),e.credentials[t]={credentials:o,proof:e.credentials[t].proof}}return e}reOrderCredential(e){return this.sortObjectAlphabetically(e)}sortObjectAlphabetically(e){const t={},n=Object.keys(e);n.sort(((e,t)=>(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0));for(const o in n){const r=n[o];null===e[r]||"object"!=typeof e[r]||e[r]instanceof Array?t[r]=e[r]:t[r]=this.sortObjectAlphabetically(e[r])}return t}reOrderCredentialProof(e){return{holder:e.holder,nonce:e.nonce,signature:e.signature,type:e.type}}getSignature(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderObject(e),(new r.default).eth.accounts.sign(JSON.stringify(e),t).signature}reOrderObject(e){return this.sortObjectAlphabetically(e)}signCredentialObject(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e),(new r.default).eth.accounts.sign(JSON.stringify(e),t).signature}async getClaims(e,t,n){const o=new n.eth.Contract(c.claimHolderAbi,t),r=await o.methods.getClaimIdsByType(e).call();if(!(r.length>0))return Promise.resolve(null);try{const e=await o.methods.getClaim(r[r.length-1]).call(),t=JSON.parse(n.utils.toAscii(e.data));return Promise.resolve(t)}catch(e){return Promise.resolve(null)}}async getClaim(e,t,n,o){const i=new r.default(n),s=new i.eth.Contract(o,t),a=await s.methods.getClaimIdsByType(e).call();if(!(a.length>0))return Promise.resolve(null);try{const e=await s.methods.getClaim(a[a.length-1]).call(),t=i.utils.toAscii(e.data);if(t.length>1){const e=JSON.parse(t);return Promise.resolve(e)}return Promise.resolve(null)}catch(e){return console.log("Error: ",e),Promise.resolve(null)}}requestedCredentialsCorrect(e,t){const n={success:!0,missingKeys:[]};for(const o of t.credentials)if(o.required&&"ADDITIONAL_INFO"===o.provider){const t=Object.keys(e.credentials[o.provider].credentials);for(const r of t){const t=e.credentials[o.provider].credentials[r];t.required&&t.key.find((e=>!e.answer))&&(n.success=!1,n.missingKeys.push(t))}}else if(o.required){Array.isArray(o.provider)||(o.provider=[o.provider]);let t=!1;for(const n of o.provider)e.credentials[n]&&e.credentials[n].credentials&&e.credentials[n].credentials[o.key]&&(t=!0);t||(n.success=!1,n.missingKeys.push(o))}return n}recoverAddressFromSignature(e,t,n){const o=new r.default;return!0===n?(e=this.sortObjectAlphabetically(JSON.parse(e)),o.eth.accounts.recover(JSON.stringify(e),t)):o.eth.accounts.recover(e,t)}signRequestedCredentials(e,t,n){e.proof={holder:t,nonce:Date.now(),type:a.ESignatureTypes.ECDSA};const o=this.getSignature(e,n);return e.proof.signature=o,e}async isValidRequestedCredentials(e,t,n){if(e?.proof?.signature){const o=JSON.parse(JSON.stringify(e));delete o.proof.signature;const i=this.recoverAddressFromSignature(JSON.stringify(o),e.proof.signature,!0),a=new r.default(t),c=e.id;if(i!==e.proof.holder)return console.error(`Recovered address ${i} does not match holder address ${e.proof.holder}`),!1;const l=new a.eth.Contract(n,this.getContractAddressFromDid(c)),u=this.getSha3Key(i,a),f=await this.getKeyPurpose(l,u);return f===s.EDIDAccessLevel.MANAGEMENT_KEY||f===s.EDIDAccessLevel.ACTION_KEY}return console.error("Requested Credentials doesn't have a signature in the proof. Not checking"),!1}async isValidLicense(e,t,n){const o=e.id,r=(await this.getClaim(i.EClaimType.COMPANY_INFO,this.getContractAddressFromDid(o),t,n))?.credentialSubject?.credential?.value?.status;return!!r&&!0===r}privateKeyToPublicKey(e){return(new r.default).eth.accounts.privateKeyToAccount(e).address}generateChallenge(e,t,n,o){const i=new r.default,s=Math.floor(Date.now()/1e3).toString(),a=`${e}-${t}-${n}-${s}`;return{did:t,publicKey:e,endpoint:n,timestamp:s,challenge:a,signature:i.eth.accounts.sign(a,o).signature}}getContractAddressFromDid(e){let t=e;const n=e.split(":");if(2===n.length)return console.error("Unsupported did:",e),null;if(3===n.length){if("did"!==n[0])return console.error("Unsupported did:",e),null;if("didux"!==n[1])return console.error("Unsupported chain:",n[1]),null;t=n[2]}return t}}},930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalServerV2=void 0;const o=n(964),r=n(828),i=n(367),s=n(390),a=n(914);t.SignalServerV2=class{wsServer;wsRequest$=new o.Subject;startSignal(e){this.wsServer=new i.server({httpServer:e,autoAcceptConnections:!1}),this.wsServer.on("request",(async e=>{this.wsRequest$.next(e)}))}sendTo(e,t){e?e.sendUTF(JSON.stringify(t)):console.error("Tried to send this over undefined connection:",t)}rejectConnection(e,t){t.reject(),console.error((new Date).toISOString()+" "+e),console.error((new Date).toISOString()+" Connection from remoteAddress "+t.remoteAddresses+" rejected.")}async setupP2PConnection(e,t,n,o,i,c,l,u,f,d,p,h){const g=e.accept(null,e.origin);if(console.log(`Library - Accepted ${e.origin} valid signed ${t}`),g.uuid=(0,r.v4)(),g.did=t?e?.resourceURL?.query?.did?.toString():null,g.publicKey=t?e?.resourceURL?.query?.publickey?.toString():null,g.authenticated=t,g.channel=n,this.setupWebsocketListeners(g),"validator"===h&&t&&null===n||o&&null===n){g.host=!0,g.origin=h;const e=(0,s.getRTCConnectionConfig)("host",i,l,c);console.log("Library - Host waiting for connection"),this.sendTo(g,{type:"host",success:!0,message:`Host initialised ${g.uuid}`,channelId:g.uuid,signalServer:u,..."validator"===h&&{webRtcConnectionConfig:e}}),"validator"!==h&&(g.webRtcClient=new a.WebRTCClientV2(e,f,g,d,p),await g.webRtcClient.setupPeerconnection(g.uuid))}else if(null!==n){const e=this.wsServer.connections.find((e=>e.uuid===n&&null===e.channel&&!0===e.host));if(e){e.channel=g.uuid,g.channel=e.uuid,console.log(`Library - Client connecting to ${n}`);const t=(0,s.getRTCConnectionConfig)("client",i,l,c);this.sendTo(g,{type:"client",success:!0,message:`Client initialised ${g.uuid}`,channelId:n,webRtcConnectionConfig:t}),"validator"!==e.origin&&(e.webRtcClient.clientChannel=g,e.webRtcClient.data={...e.webRtcClient.data,clientData:p})}else g.close()}else console.error("Library - Not a client or host"),g.close();return g}setupWebsocketListeners(e){e.on("message",(async t=>{let n;try{"utf8Data"in t&&(n=JSON.parse(t.utf8Data))}catch(e){console.error("Library - Websocket connection invalid JSON",e),n={type:null}}const{type:o,offer:r,answer:i,candidate:s}=n;switch(o){case"offer":if(!e.host&&e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid&&!0===t.host));t?"validator"===t.origin?this.sendTo(t,{type:"offer",success:!0,message:"Client shared an offer",offer:r}):(await t.webRtcClient.setRemoteDescription(r),await t.webRtcClient.sendAnswer()):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close();break;case"answer":if(e.host&&e.channel&&"validator"===e.origin){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));t?this.sendTo(t,{type:"answer",success:!0,message:"Client shared an answer",answer:i}):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close();break;case"candidate":if(e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));t?"validator"===t.origin||"validator"===e.origin?this.sendTo(t,{type:"candidate",success:!0,message:"Candidate shared",candidate:s}):t.webRtcClient.addCandidate(s):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close()}})),e.on("close",((t,n)=>{console.log(`Library - ${(new Date).toISOString()} - Peer ${e.remoteAddress} disconnected, Reason ${t}, description ${n}`)}))}}},515:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingServer=void 0;const s=i(n(352)),a=n(828),c=i(n(85));t.SignalingServer=class{wsServer;rtcConnectionConfig;setRTCConnectionConfig(e){this.rtcConnectionConfig=e}getRTCConnectionConfig(e){if(this.rtcConnectionConfig.turnEnabled){const t=`${Math.floor(Date.now()/1e3)+this.rtcConnectionConfig.turnExpiration}:${e}`,n=c.createHmac("sha1",this.rtcConnectionConfig.turnSecret).update(t.toString()).digest("base64");return{iceCandidatePoolSize:5,iceServers:[{urls:this.rtcConnectionConfig.turnUrl,credential:n,username:t}]}}if(this.rtcConnectionConfig.stunEnabled)return{iceServers:[{urls:this.rtcConnectionConfig.stunUrl}]}}startSignal(e){this.wsServer=new s.Server({server:e});const t=(e,t)=>{e.send(JSON.stringify(t))};this.wsServer.on("connection",(e=>{e.uuid=(0,a.v4)(),e.did=null,e.host=!1,e.authenticated=!1,e.connected=null,e.on("error",(e=>{})),e.on("message",(n=>{let o;try{o=JSON.parse(n)}catch(e){o={}}const{type:r,token:i,host:s,offer:c,answer:l,candidate:u}=o;switch(r){case"auth":i?(e.authenticated=!0,t(e,{type:"AUTH",success:!0,message:"Authentication successful"})):t(e,{type:"auth",success:!1,message:"Could not validate token"});break;case"host":e.host=!0,t(e,{type:"host",success:!0,message:"Host initialised "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")});break;case"ping":t(e,{type:"pong"});break;case"connect":{const n=[...this.wsServer.clients].filter((e=>e.uuid===s&&null===e.connected&&!0===e.host));1===n.length?(t(n[0],{type:"connected",success:!0,message:"Client connected "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")}),t(e,{type:"connected",success:!0,message:"Connected to "+s,webRtcConnectionConfig:this.getRTCConnectionConfig("client")}),e.connected=n[0].uuid,n[0].connected=e.uuid):t(e,{type:"connected",success:!1,message:"Could not connect to "+s});break}case"offer":if(null!=e.connected&&this.wsServer.clients.size>0){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"offer",success:!0,offer:c}),t(e,{type:"offer",success:!0,offer:c})):t(e,{type:"offer",success:!1,offer:c,message:"Connection not found."})}else t(e,{type:"offer",success:!1,offer:c,message:"Too soon..."});break;case"answer":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"answer",success:!0,answer:l}),t(e,{type:"answer",success:!0,answer:l})):t(e,{type:"answer",success:!1,answer:l,message:"Connection not found."})}else t(e,{type:"answer",success:!1,answer:l,message:"Too soon..."});break;case"candidate":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?t(n[0],{type:"candidate",success:!0,candidate:u}):t(e,{type:"candidate",success:!1,candidate:u,message:"Connection not found."})}else t(e,{type:"candidate",success:!1,candidate:u,message:"Too soon..."});break;case"leave":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));e.uuid=(0,a.v4)(),1===n.length?(t(n[0],{type:"leave",success:!0,message:"Connection left on receive leave"}),n[0].connected=null,t(e,{type:"leave",success:!0,message:"Connection left.",uuid:e.uuid})):t(e,{type:"leave",success:!1,message:"Connection not found.",uuid:e.uuid}),e.connected=null}else e.uuid=(0,a.v4)(),t(e,{type:"leave",success:!1,message:"Not connected to host/client.",uuid:e.uuid});break;default:t(e,{type:"error",message:"Command not found: "+r})}})),e.on("close",((e,n,o)=>{if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length&&(t(n[0],{type:"leave",success:!0,message:"Connection left on websocket close"}),n[0].connected=null),e.connected=null}})),e.send(JSON.stringify({type:"connect",message:"Well hello there, I am the Signaling Server",success:!0}))}))}}},621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.claimHolderAbi=void 0,t.claimHolderAbi=[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}]},906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Identity=void 0,t.Identity={abi:[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_str",type:"bytes"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getBytes",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getString",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_claimType",type:"uint256[]"},{name:"_scheme",type:"uint256[]"},{name:"_issuer",type:"address[]"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"},{name:"_sigSizes",type:"uint256[]"},{name:"dataSizes",type:"uint256[]"},{name:"uriSizes",type:"uint256[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}],data:"60806040523480156200001157600080fd5b50604051620033333803806200333383398101806040528101908080518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919050505060008060008060008033604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209050806001600083600019166000191681526020019081526020016000206002018160001916905550600180600083600019166000191681526020019081526020016000206000018190555060018060008360001916600019168152602001908152602001600020600101819055506002600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550600180600083600019166000191681526020019081526020016000206000015482600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a450600093506000925060009150600090505b8d51811015620007ba578b818151811015156200020f57fe5b906020019060200201518e828151811015156200022857fe5b90602001906020020151604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401828152602001925050506040518091039020945060c0604051908101604052808f83815181101515620002a657fe5b9060200190602002015181526020018e83815181101515620002c457fe5b9060200190602002015181526020018d83815181101515620002e257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1681526020016200033b8d878c868151811015156200031c57fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003748c858b868151811015156200035557fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003ad8b868a868151811015156200038e57fe5b90602001906020020151620008da640100000000026401000000009004565b815250600460008760001916600019168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301908051906020019062000444929190620009ec565b50608082015181600401908051906020019062000463929190620009ec565b5060a08201518160050190805190602001906200048292919062000a73565b5090505087818151811015156200049557fe5b90602001906020020151840193508581815181101515620004b257fe5b90602001906020020151830192508681815181101515620004cf57fe5b906020019060200201518201915060046000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600087600019166000191681526020019081526020016000206000015486600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c5600460008a6000191660001916815260200190815260200160002060010154600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501604051808581526020018060200180602001806020018481038452878181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156200068b5780601f106200065f576101008083540402835291602001916200068b565b820191906000526020600020905b8154815290600101906020018083116200066d57829003601f168201915b5050848103835286818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007125780601f10620006e65761010080835404028352916020019162000712565b820191906000526020600020905b815481529060010190602001808311620006f457829003601f168201915b5050848103825285818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007995780601f106200076d5761010080835404028352916020019162000799565b820191906000526020600020905b8154815290600101906020018083116200077b57829003601f168201915b505097505050505050505060405180910390a48080600101915050620001f6565b505050505050505050505050505062000b22565b606080600080846040519080825280601f01601f191660200182016040528015620008085781602001602082028038833980820191505090505b509250600091508590505b848601811015620008cd5786818151811015156200082d57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200088757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000813565b8293505050509392505050565b6060806060600080879350856040519080825280601f01601f191660200182016040528015620009195781602001602082028038833980820191505090505b509250600091508690505b858701811015620009de5783818151811015156200093e57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200099857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000924565b829450505050509392505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000a2f57805160ff191683800117855562000a60565b8280016001018555821562000a60579182015b8281111562000a5f57825182559160200191906001019062000a42565b5b50905062000a6f919062000afa565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000ab657805160ff191683800117855562000ae7565b8280016001018555821562000ae7579182015b8281111562000ae657825182559160200191906001019062000ac9565b5b50905062000af6919062000afa565b5090565b62000b1f91905b8082111562000b1b57600081600090555060010162000b01565b5090565b90565b6128018062000b326000396000f3006080604052600436106100d0576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063032c1a8a146100d557806312aaac701461011a5780631d38124014610175578063262b54f5146101d25780634eee424a146102545780635d2cfd611461029d578063747442d314610393578063862642f5146103e45780639010f7261461042d578063b1a34e0d146104af578063b61d27f6146105f4578063c9100bcb1461069b578063d202158d1461085e578063df9319be146108b1575b600080fd5b3480156100e157600080fd5b5061010460048036038101908080356000191690602001909291905050506109a7565b6040518082815260200191505060405180910390f35b34801561012657600080fd5b5061014960048036038101908080356000191690602001909291905050506109cf565b604051808481526020018381526020018260001916600019168152602001935050505060405180910390f35b34801561018157600080fd5b506101b860048036038101908080356000191690602001909291908035906020019092919080359060200190929190505050610a3e565b604051808215151515815260200191505060405180910390f35b3480156101de57600080fd5b506101fd60048036038101908080359060200190929190505050610cf7565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610240578082015181840152602081019050610225565b505050509050019250505060405180910390f35b34801561026057600080fd5b506102836004803603810190808035600019169060200190929190505050610d66565b604051808215151515815260200191505060405180910390f35b3480156102a957600080fd5b50610318600480360381019080803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190803590602001909291905050506111e4565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561035857808201518184015260208101905061033d565b50505050905090810190601f1680156103855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561039f57600080fd5b506103ca600480360381019080803590602001909291908035151590602001909291905050506112eb565b604051808215151515815260200191505060405180910390f35b3480156103f057600080fd5b5061041360048036038101908080356000191690602001909291905050506117ff565b604051808215151515815260200191505060405180910390f35b34801561043957600080fd5b506104586004803603810190808035906020019092919050505061196a565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561049b578082015181840152602081019050610480565b505050509050019250505060405180910390f35b3480156104bb57600080fd5b506105d66004803603810190808035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506119d9565b60405180826000191660001916815260200191505060405180910390f35b34801561060057600080fd5b50610685600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611efe565b6040518082815260200191505060405180910390f35b3480156106a757600080fd5b506106ca60048036038101908080356000191690602001909291905050506121e0565b604051808781526020018681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015610750578082015181840152602081019050610735565b50505050905090810190601f16801561077d5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b838110156107b657808201518184015260208101905061079b565b50505050905090810190601f1680156107e35780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b8381101561081c578082015181840152602081019050610801565b50505050905090810190601f1680156108495780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b34801561086a57600080fd5b506108976004803603810190808035600019169060200190929190803590602001909291905050506124aa565b604051808215151515815260200191505060405180910390f35b3480156108bd57600080fd5b5061092c600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919080359060200190929190505050612513565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561096c578082015181840152602081019050610951565b50505050905090810190601f1680156109995780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000600160008360001916600019168152602001908152602001600020600001549050919050565b60008060006001600085600019166000191681526020019081526020016000206000015460016000866000191660001916815260200190815260200160002060010154600160008760001916600019168152602001908152602001600020600201549250925092509193909250565b60008360001916600160008660001916600019168152602001908152602001600020600201546000191614151515610ade576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f4b657920616c726561647920657869737473000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610c0957610b6e33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610c08576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8360016000866000191660001916815260200190815260200160002060020181600019169055508260016000866000191660001916815260200190815260200160002060000181905550816001600086600019166000191681526020019081526020016000206001018190555060026000848152602001908152602001600020849080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550818385600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b606060056000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610d5a57602002820191906000526020600020905b81546000191681526020019060010190808311610d42575b50505050509050919050565b60003073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e9357610df833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610e92576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600084600019166000191681526020019081526020016000206000015483600019167f3cf57863a89432c61c4a27073c6ee39e8a764bff5a05aebfbcdcdc80b2e6130a60046000876000191660001916815260200190815260200160002060010154600460008860001916600019168152602001908152602001600020600301600460008960001916600019168152602001908152602001600020600401600460008a600019166000191681526020019081526020016000206005016040518085815260200180602001806020018060200184810384528781815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561103d5780601f106110125761010080835404028352916020019161103d565b820191906000526020600020905b81548152906001019060200180831161102057829003601f168201915b50508481038352868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156110c05780601f10611095576101008083540402835291602001916110c0565b820191906000526020600020905b8154815290600101906020018083116110a357829003601f168201915b50508481038252858181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156111435780601f1061111857610100808354040283529160200191611143565b820191906000526020600020905b81548152906001019060200180831161112657829003601f168201915b505097505050505050505060405180910390a460046000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556003820160006111b99190612620565b6004820160006111c99190612620565b6005820160006111d99190612668565b505060019050919050565b606080600080846040519080825280601f01601f19166020018201604052801561121d5781602001602082028038833980820191505090505b509250600091508590505b8486018110156112de57868181518110151561124057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838381518110151561129957fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535081806001019250508080600101915050611228565b8293505050509392505050565b600061134833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b15156113bc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f53656e64657220646f6573206e6f74206861766520616374696f6e206b65790081525060200191505060405180910390fd5b827fb3932da477fe5d6c8ff2eafef050c0f3a1af18fc07121001482600f36f3715d883604051808215151515815260200191505060405180910390a26001151582151514156117c55760016003600085815260200190815260200160002060030160006101000a81548160ff0219169083151502179055506003600084815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660036000858152602001908152602001600020600201600060405180838054600181600116156101000203166002900480156114fe5780601f106114d3576101008083540402835291602001916114fe565b820191906000526020600020905b8154815290600101906020018083116114e157829003601f168201915b50508260ff168152602001925050506000604051808303816000865af19150509050801561168d5760016003600085815260200190815260200160002060030160016101000a81548160ff02191690831515021790555060036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847f1f920dbda597d7bf95035464170fa58d0a4b57f13a1c315ace6793b9f63688b860036000888152602001908152602001600020600201604051808060200182810382528381815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561167a5780601f1061164f5761010080835404028352916020019161167a565b820191906000526020600020905b81548152906001019060200180831161165d57829003601f168201915b50509250505060405180910390a46117f9565b60036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847fe10c49d9f7c71da23262367013434763cfdb2332267641728d25cd712c5c6a686003600088815260200190815260200160002060020160405180806020018281038252838181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156117b25780601f10611787576101008083540402835291602001916117b2565b820191906000526020600020905b81548152906001019060200180831161179557829003601f168201915b50509250505060405180910390a46117f9565b60006003600085815260200190815260200160002060030160006101000a81548160ff021916908315150217905550600190505b92915050565b60008160001916600160008460001916600019168152602001908152602001600020600201546000191614151561189e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f4e6f2073756368206b657900000000000000000000000000000000000000000081525060200191505060405180910390fd5b600160008360001916600019168152602001908152602001600020600101546001600084600019166000191681526020019081526020016000206000015460016000856000191660001916815260200190815260200160002060020154600019167f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460016000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160009055505060019050919050565b6060600260008381526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156119cd57602002820191906000526020600020905b815460001916815260200190600101908083116119b5575b50505050509050919050565b6000808588604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182815260200192505050604051809103902090503073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611b6257611ac733604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060036124aa565b1515611b61576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001807f53656e64657220646f6573206e6f74206861766520636c61696d207369676e6581526020017f72206b657900000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8573ffffffffffffffffffffffffffffffffffffffff1660046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141515611c1957600560008981526020019081526020016000208190806001815401808255809150509060018203906000526020600020016000909192909190915090600019169055505b876004600083600019166000191681526020019081526020016000206000018190555086600460008360001916600019168152602001908152602001600020600101819055508560046000836000191660001916815260200190815260200160002060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550846004600083600019166000191681526020019081526020016000206003019080519060200190611cee9291906126b0565b50836004600083600019166000191681526020019081526020016000206004019080519060200190611d219291906126b0565b50826004600083600019166000191681526020019081526020016000206005019080519060200190611d54929190612730565b508573ffffffffffffffffffffffffffffffffffffffff168882600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c58a89898960405180858152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015611de5578082015181840152602081019050611dca565b50505050905090810190601f168015611e125780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015611e4b578082015181840152602081019050611e30565b50505050905090810190601f168015611e785780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015611eb1578082015181840152602081019050611e96565b50505050905090810190601f168015611ede5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a4809150509695505050505050565b6000600360008054815260200190815260200160002060030160019054906101000a900460ff16151515611f9a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f416c72656164792065786563757465640000000000000000000000000000000081525060200191505060405180910390fd5b83600360008054815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508260036000805481526020019081526020016000206001018190555081600360008054815260200190815260200160002060020190805190602001906120379291906126b0565b50828473ffffffffffffffffffffffffffffffffffffffff166000547f8afcfabcb00e47a53a8fc3e9f23ff47ee1926194bb1350dd007c50b412a6cee8856040518080602001828103825283818151815260200191508051906020019080838360005b838110156120b557808201518184015260208101905061209a565b50505050905090810190601f1680156120e25780820380516001836020036101000a031916815260200191505b509250505060405180910390a461214a33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b806121ac57506121ab33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b5b156121c0576121be60005460016112eb565b505b600080815480929190600101919050555060016000540390509392505050565b600080600060608060606004600088600019166000191681526020019081526020016000206000015460046000896000191660001916815260200190815260200160002060010154600460008a6000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501828054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123565780601f1061232b57610100808354040283529160200191612356565b820191906000526020600020905b81548152906001019060200180831161233957829003601f168201915b50505050509250818054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123f25780601f106123c7576101008083540402835291602001916123f2565b820191906000526020600020905b8154815290600101906020018083116123d557829003601f168201915b50505050509150808054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561248e5780601f106124635761010080835404028352916020019161248e565b820191906000526020600020905b81548152906001019060200180831161247157829003601f168201915b5050505050905095509550955095509550955091939550919395565b6000806000600102600160008660001916600019168152602001908152602001600020600201546000191614156124e4576000915061250c565b8260016000866000191660001916815260200190815260200160002060000154111590508091505b5092915050565b6060806060600080879350856040519080825280601f01601f1916602001820160405280156125515781602001602082028038833980820191505090505b509250600091508690505b85870181101561261257838181518110151561257457fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156125cd57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505061255c565b829450505050509392505050565b50805460018160011615610100020316600290046000825580601f106126465750612665565b601f01602090049060005260206000209081019061266491906127b0565b5b50565b50805460018160011615610100020316600290046000825580601f1061268e57506126ad565b601f0160209004906000526020600020908101906126ac91906127b0565b5b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106126f157805160ff191683800117855561271f565b8280016001018555821561271f579182015b8281111561271e578251825591602001919060010190612703565b5b50905061272c91906127b0565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061277157805160ff191683800117855561279f565b8280016001018555821561279f579182015b8281111561279e578251825591602001919060010190612783565b5b5090506127ac91906127b0565b5090565b6127d291905b808211156127ce5760008160009055506001016127b6565b5090565b905600a165627a7a723058200017634e62c856198c9c8d204756bd9ed5e12ca97b230682c6cc941e813b81330029"}},733:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubDomain=void 0,t.getSubDomain=function(e){return e?.replace("http://","").replace("https://","").split(":")[0]}},918:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkKeyForDid=void 0;const r=n(906),i=o(n(519));t.checkKeyForDid=async function(e,t,n,o){try{const s=new i.default(e),a=new s.eth.Contract(r.Identity.abi,t),c=s.utils.sha3(n);return await a.methods.keyHasPurpose(c,o).call()}catch(e){return console.log("Library - Something went wrong: "+e),!1}}},299:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcProvider=void 0;const s=n(964),a=n(904),c=n(367),l=i(n(9));class u{webRtcConfig;hostUuid;peerConnection=null;dataChannel=null;wsClient=null;receivedActions$=new s.BehaviorSubject(null);uuid$=new s.BehaviorSubject(null);websocketMessage$=new s.BehaviorSubject(null);websocketConnectionClosed$=new s.BehaviorSubject(null);websocketConnectionOpen$=new s.BehaviorSubject(null);websocketConnectionError$=new s.BehaviorSubject(null);webRtcConnectionConfig;connectionTimeout=null;pongCheckInterval=null;pingTimeout=null;WEBSOCKET_PING_ANSWER_DELAY=1e3;WEBSOCKET_PING_PONG_ALLOWED_TIME=3e3;getConfig(){return this.webRtcConfig}setHostUuid(e){this.hostUuid=e}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}'`),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Websocket - Attempted to send data with action ${e} but data channel is not open`)}sendWebsocketData(e,t){return this.wsClient&&this.wsClient.readyState===this.wsClient.OPEN?(this.wsClient.send(JSON.stringify({action:e,...t})),!0):(console.error(`Websocket - Attempted to send data with action ${e} but websocket channel is not open`),!1)}getWebsocket(){return this.wsClient}setUuid(e){this.uuid$.next(e)}disconnect(){clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),this.peerConnection&&this.peerConnection.close(),this.dataChannel&&this.dataChannel.close(),this.wsClient&&(this.wsClient.close(),this.wsClient.onclose=null),this.peerConnection=null,this.dataChannel=null,this.wsClient=null,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)}remoteDisconnect(){this.dataChannel&&"open"===this.dataChannel.readyState&&this.dataChannel.send(JSON.stringify({action:"disconnect"})),setTimeout((()=>{this.disconnect()}),1e3)}async sendOffer(e,t){const n=await e.createOffer();await e.setLocalDescription(n),t.send(JSON.stringify({type:"offer",offer:n}))}async launchWebsocketClient(e,t){this.webRtcConfig=e;let n=null;this.receivedActions$=new s.BehaviorSubject(null),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.uuid$=new s.BehaviorSubject(null),this.websocketMessage$=new s.BehaviorSubject(null),this.websocketConnectionClosed$=new s.BehaviorSubject(null),this.websocketConnectionOpen$=new s.BehaviorSubject(null),this.websocketConnectionError$=new s.BehaviorSubject(null);let o=this.webRtcConfig.signalingUrl;o||(console.log("Launch websocket - URL undefined, falling back to default"),o="wss://auth.proofme.id"),console.log("Launch websocket - Client URL:",o),console.log("Launch websocket - Channel:",e.channel),console.log("Launch websocket - Headers:",t);let r=null;r=o.includes("?")?`${o}&channel=${e.channel}`:`${o}?channel=${e.channel}`,e.data&&(r=`${r}&data=${e.data}`),e.keepalive&&(r=`${r}&keepalive=${e.keepalive}`),this.wsClient=new c.w3cwebsocket(r,null,null,t),this.connectionTimeout=setTimeout((()=>{!0!==n&&(this.websocketConnectionError$.next(!0),this.wsClient&&this.wsClient.close())}),1e4),this.wsClient.onerror=e=>{console.log("Websocket - Error: "+e.toString()),n=!1,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1),this.websocketConnectionError$.next(!0)},this.wsClient.onclose=()=>{console.log("Websocket - Connection closed"),this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)},this.wsClient.onopen=()=>{console.log("Websocket - Connection open"),n=!0,this.websocketConnectionClosed$.next(!1),this.websocketConnectionOpen$.next(!0)},this.wsClient.onmessage=async e=>{if(console.log("Websocket - Message:",e),this.websocketMessage$.next(e),e.data){let t;try{t=JSON.parse(e.data)}catch(e){console.error("Websocket - Message was not JSON"),t={}}const{type:n,message:o,success:r,channelId:i,offer:s,answer:c,candidate:l,webRtcConnectionConfig:u}=t;switch(n){case"error":console.log("Websocket - Error message:",o),"Command not found: ping"==o&&(clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{console.log(`Websocket - Ping pong took more than ${this.WEBSOCKET_PING_PONG_ALLOWED_TIME}ms. Disconnecting`),this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing());break;case"connect":if(r)if(this.webRtcConfig.isHost){const e=500;let t=0;const n=setInterval((()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"host"}))),t>=e&&clearInterval(n),t++}),50)}else{const e=500;let t=0;const n=setInterval((async()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"connect",host:this.hostUuid}))),t>=e&&clearInterval(n),t++}),50)}break;case"connected":clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),u&&(this.webRtcConnectionConfig=u,this.webRtcConfig.isHost||await this.setupPeerconnection(this.hostUuid)),i&&this.webRtcConfig.isHost&&await this.sendOffer(this.peerConnection,this.wsClient);break;case"pong":clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing();break;case"offer":if(s){await this.peerConnection.setRemoteDescription(new a.RTCSessionDescription(s));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.wsClient.send(JSON.stringify({type:"answer",answer:e}))}break;case"host":i&&this.webRtcConfig.isHost&&(this.setUuid(i),u&&(this.webRtcConnectionConfig=u),await this.setupPeerconnection(i),this.sendPing());break;case"leave":this.setUuid(null),this.disconnect();break;case"answer":c&&await this.peerConnection.setRemoteDescription(new a.RTCSessionDescription(c));break;case"candidate":if(l){const e=new a.RTCIceCandidate(l);await this.peerConnection.addIceCandidate(e)}break;case"client":u&&(this.webRtcConnectionConfig=u,this.webRtcConfig.isHost||(await this.setupPeerconnection(this.hostUuid),await this.sendOffer(this.peerConnection,this.wsClient)))}}}}sendPing(){this.pingTimeout=setTimeout((()=>{1===this.wsClient.readyState&&this.wsClient.send(JSON.stringify({type:"ping"}))}),this.WEBSOCKET_PING_ANSWER_DELAY)}async setupPeerconnection(e){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.sendP2PData("clientconnected",{success:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new a.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}async setupClientPeerconnection(){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.sendP2PData("clientconnected",{success:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new a.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}static ɵfac=function(e){return new(e||u)};static ɵprov=l.ɵɵdefineInjectable({token:u,factory:u.ɵfac})}t.WebRtcProvider=u},914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCClientV2=void 0;const o=n(964),r=n(904);t.WebRTCClientV2=class{peerConnection=null;dataChannel=null;clientChannel;webRtcConnectionConfig;requestedCredentials;hostWsConnection;actionType;dataChannelOpen$=new o.Subject;dataChannelMessage$=new o.Subject;data;constructor(e,t,n,o,r){this.webRtcConnectionConfig=e,this.requestedCredentials=t,this.hostWsConnection=n,this.actionType=o,this.data=r}async setupPeerconnection(e){this.peerConnection=new r.RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new r.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.clientChannel.sendUTF(JSON.stringify({type:"candidate",candidate:e.candidate}))}})),this.peerConnection.addEventListener("iceconnectionstatechange",(()=>{"disconnected"===this.peerConnection.iceConnectionState&&this.peerConnection.close()})),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{try{const t=JSON.parse(e.data);this.dataChannelMessage$.next(t)}catch(e){console.error("Could not parse message:",e)}},e.channel.onopen=async()=>{console.log("Library - Datachannel connected"),this.hostWsConnection.sendUTF(JSON.stringify({type:"clientconnected",success:!0})),this.dataChannelOpen$.next()},e.channel.onclose=e=>{console.log("Library - Datachannel onclose:",e),this.hostWsConnection.sendUTF(JSON.stringify({type:"disconnect"}))}}))}async sendOffer(){const e=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"offer",offer:e}))}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}'`),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Library - Attempted to send data with action ${e} but data channel is not open`)}async setRemoteDescription(e){await this.peerConnection.setRemoteDescription(new r.RTCSessionDescription(e))}async addCandidate(e){try{const t=new r.RTCIceCandidate(e);await this.peerConnection.addIceCandidate(t)}catch(e){console.error(e)}}async sendAnswer(){const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"answer",answer:e}))}}},964:e=>{"use strict";e.exports=require("rxjs")},828:e=>{"use strict";e.exports=require("uuid")},519:e=>{"use strict";e.exports=require("web3")},367:e=>{"use strict";e.exports=require("websocket")},904:e=>{"use strict";e.exports=require("wrtc")},352:e=>{"use strict";e.exports=require("ws")},235:()=>{},85:()=>{},9:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>dr,APP_BOOTSTRAP_LISTENER:()=>Vm,APP_ID:()=>Am,APP_INITIALIZER:()=>Sm,ApplicationInitStatus:()=>Om,ApplicationModule:()=>fb,ApplicationRef:()=>wv,Attribute:()=>ur,COMPILER_OPTIONS:()=>Km,CUSTOM_ELEMENTS_SCHEMA:()=>As,ChangeDetectionStrategy:()=>Qe,ChangeDetectorRef:()=>Ov,Compiler:()=>zm,CompilerFactory:()=>Jm,Component:()=>_m,ComponentFactory:()=>sg,ComponentFactoryResolver:()=>cg,ComponentRef:()=>ig,ContentChild:()=>gr,ContentChildren:()=>hr,DEFAULT_CURRENCY_CODE:()=>Hm,DebugElement:()=>Vv,DebugEventListener:()=>Pv,DebugNode:()=>jv,DefaultIterableDiffer:()=>Jv,Directive:()=>wm,ElementRef:()=>ug,EmbeddedViewRef:()=>Nv,ErrorHandler:()=>Os,EventEmitter:()=>iy,Host:()=>ei,HostBinding:()=>xm,HostListener:()=>Im,INJECTOR:()=>Pl,Inject:()=>Zr,InjectFlags:()=>ze,Injectable:()=>uf,InjectionToken:()=>fr,Injector:()=>Gl,Input:()=>Dm,IterableDiffers:()=>ob,KeyValueDiffers:()=>ib,LOCALE_ID:()=>Fm,MissingTranslationStrategy:()=>Wm,ModuleWithComponentFactories:()=>qm,NO_ERRORS_SCHEMA:()=>ks,NgModule:()=>Em,NgModuleFactory:()=>Eg,NgModuleRef:()=>Ig,NgProbeToken:()=>dv,NgZone:()=>Qm,Optional:()=>Qr,Output:()=>Mm,PACKAGE_ROOT_URL:()=>$m,PLATFORM_ID:()=>jm,PLATFORM_INITIALIZER:()=>Rm,Pipe:()=>Cm,PlatformRef:()=>vv,Query:()=>pr,QueryList:()=>ay,ReflectiveInjector:()=>Of,ReflectiveKey:()=>gf,Renderer2:()=>pg,RendererFactory2:()=>dg,RendererStyleFlags2:()=>qs,ResolvedReflectiveFactory:()=>_f,Sanitizer:()=>hg,SecurityContext:()=>cs,Self:()=>Yr,SimpleChange:()=>tn,SkipSelf:()=>Xr,TRANSLATIONS:()=>Um,TRANSLATIONS_FORMAT:()=>Bm,TemplateRef:()=>cy,Testability:()=>rv,TestabilityRegistry:()=>iv,Type:()=>_r,VERSION:()=>yg,Version:()=>gg,ViewChild:()=>mr,ViewChildren:()=>yr,ViewContainerRef:()=>dy,ViewEncapsulation:()=>Xe,ViewRef:()=>kv,asNativeElements:()=>Rv,assertPlatform:()=>gv,createNgModuleRef:()=>Ag,createPlatform:()=>pv,createPlatformFactory:()=>hv,defineInjectable:()=>Ve,destroyPlatform:()=>yv,enableProdMode:()=>Iv,forwardRef:()=>ue,getDebugNode:()=>Wv,getModuleFactory:()=>Ev,getNgModuleById:()=>Tv,getPlatform:()=>mv,inject:()=>Kr,isDevMode:()=>xv,platformCore:()=>ub,resolveForwardRef:()=>fe,setTestabilityGetter:()=>sv,ɵALLOW_MULTIPLE_PLATFORMS:()=>fv,ɵAPP_ID_RANDOM_PROVIDER:()=>Nm,ɵChangeDetectorStatus:()=>Ye,ɵComponentFactory:()=>sg,ɵConsole:()=>Lm,ɵDEFAULT_LOCALE_ID:()=>Vp,ɵINJECTOR_SCOPE:()=>jl,ɵLifecycleHooksFeature:()=>gu,ɵLocaleDataIndex:()=>Rp,ɵNG_COMP_DEF:()=>lt,ɵNG_DIR_DEF:()=>ut,ɵNG_ELEMENT_ID:()=>ht,ɵNG_INJ_DEF:()=>Be,ɵNG_MOD_DEF:()=>dt,ɵNG_PIPE_DEF:()=>ft,ɵNG_PROV_DEF:()=>Ue,ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>mg,ɵNO_CHANGE:()=>Ha,ɵNgModuleFactory:()=>Ng,ɵNoopNgZone:()=>ov,ɵReflectionCapabilities:()=>Rr,ɵRender3ComponentFactory:()=>Dg,ɵRender3ComponentRef:()=>Mg,ɵRender3NgModuleRef:()=>kg,ɵRuntimeError:()=>pe,ɵViewRef:()=>bg,ɵ_sanitizeHtml:()=>ss,ɵ_sanitizeUrl:()=>$i,ɵallowSanitizationBypassAndThrow:()=>Ii,ɵbypassSanitizationTrustHtml:()=>Ti,ɵbypassSanitizationTrustResourceUrl:()=>ki,ɵbypassSanitizationTrustScript:()=>Oi,ɵbypassSanitizationTrustStyle:()=>Si,ɵbypassSanitizationTrustUrl:()=>Ai,ɵclearResolutionOfComponentResourcesQueue:()=>li,ɵcompileComponent:()=>om,ɵcompileDirective:()=>rm,ɵcompileNgModule:()=>Uy,ɵcompileNgModuleDefs:()=>By,ɵcompileNgModuleFactory:()=>lv,ɵcompilePipe:()=>vm,ɵcreateInjector:()=>Hl,ɵdefaultIterableDiffers:()=>cb,ɵdefaultKeyValueDiffers:()=>lb,ɵdetectChanges:()=>kl,ɵdevModeEqual:()=>Tu,ɵfindLocaleData:()=>Op,ɵflushModuleScopingQueueAsMuchAsPossible:()=>Fy,ɵgetDebugNode:()=>Wv,ɵgetDebugNodeR2:()=>qv,ɵgetDirectives:()=>tu,ɵgetHostElement:()=>ou,ɵgetInjectableDef:()=>Le,ɵgetLContext:()=>vs,ɵgetLocaleCurrencyCode:()=>Ap,ɵgetLocalePluralCase:()=>kp,ɵgetSanitizationBypassType:()=>Ei,ɵglobal:()=>it,ɵinjectChangeDetectorRef:()=>Av,ɵisBoundToModule:()=>uv,ɵisDefaultChangeDetectionStrategy:()=>et,ɵisListLikeIterable:()=>Su,ɵisObservable:()=>qf,ɵisPromise:()=>Bf,ɵisSubscribable:()=>Wf,ɵivyEnabled:()=>db,ɵmakeDecorator:()=>sr,ɵmarkDirty:()=>Nl,ɵnoSideEffects:()=>Ze,ɵpatchComponentDefWithScope:()=>Yy,ɵpublishDefaultGlobalUtils:()=>lu,ɵpublishGlobalUtil:()=>uu,ɵregisterLocaleData:()=>Sp,ɵregisterNgModuleType:()=>Sg,ɵrenderComponent:()=>fu,ɵresetCompiledComponents:()=>Gy,ɵresetJitOptions:()=>Vy,ɵresolveComponentResources:()=>ii,ɵsetClassMetadata:()=>xg,ɵsetCurrentInjector:()=>Br,ɵsetDocument:()=>hn,ɵsetLocaleId:()=>Up,ɵstore:()=>of,ɵstringify:()=>ae,ɵtransitiveScopesFor:()=>Xy,ɵunregisterLocaleData:()=>Pp,ɵunwrapSafeValue:()=>xi,ɵwhenRendered:()=>yu,ɵɵCopyDefinitionFeature:()=>xu,ɵɵFactoryTarget:()=>vr,ɵɵInheritDefinitionFeature:()=>vu,ɵɵNgOnChangesFeature:()=>nn,ɵɵProvidersFeature:()=>rg,ɵɵadvance:()=>Ua,ɵɵattribute:()=>Vu,ɵɵattributeInterpolate1:()=>Ku,ɵɵattributeInterpolate2:()=>Ju,ɵɵattributeInterpolate3:()=>Gu,ɵɵattributeInterpolate4:()=>Zu,ɵɵattributeInterpolate5:()=>Qu,ɵɵattributeInterpolate6:()=>Yu,ɵɵattributeInterpolate7:()=>Xu,ɵɵattributeInterpolate8:()=>ef,ɵɵattributeInterpolateV:()=>tf,ɵɵclassMap:()=>Ed,ɵɵclassMapInterpolate1:()=>Qd,ɵɵclassMapInterpolate2:()=>Yd,ɵɵclassMapInterpolate3:()=>Xd,ɵɵclassMapInterpolate4:()=>ep,ɵɵclassMapInterpolate5:()=>tp,ɵɵclassMapInterpolate6:()=>np,ɵɵclassMapInterpolate7:()=>op,ɵɵclassMapInterpolate8:()=>rp,ɵɵclassMapInterpolateV:()=>ip,ɵɵclassProp:()=>Md,ɵɵcontentQuery:()=>Sy,ɵɵdefineComponent:()=>yt,ɵɵdefineDirective:()=>Mt,ɵɵdefineInjectable:()=>je,ɵɵdefineInjector:()=>$e,ɵɵdefineNgModule:()=>_t,ɵɵdefinePipe:()=>xt,ɵɵdirectiveInject:()=>kf,ɵɵdisableBindings:()=>Nn,ɵɵelement:()=>$f,ɵɵelementContainer:()=>Hf,ɵɵelementContainerEnd:()=>Ff,ɵɵelementContainerStart:()=>Lf,ɵɵelementEnd:()=>Vf,ɵɵelementStart:()=>jf,ɵɵenableBindings:()=>kn,ɵɵgetCurrentView:()=>Uf,ɵɵgetInheritedFactory:()=>er,ɵɵhostProperty:()=>Mp,ɵɵi18n:()=>zh,ɵɵi18nApply:()=>Gh,ɵɵi18nAttributes:()=>Kh,ɵɵi18nEnd:()=>qh,ɵɵi18nExp:()=>Jh,ɵɵi18nPostprocess:()=>Zh,ɵɵi18nStart:()=>Wh,ɵɵinject:()=>qr,ɵɵinjectAttribute:()=>nr,ɵɵinvalidFactory:()=>Nf,ɵɵinvalidFactoryDep:()=>zr,ɵɵlistener:()=>zf,ɵɵloadQuery:()=>Oy,ɵɵnamespaceHTML:()=>yo,ɵɵnamespaceMathML:()=>go,ɵɵnamespaceSVG:()=>ho,ɵɵnextContext:()=>Qf,ɵɵngDeclareClassMetadata:()=>hb,ɵɵngDeclareComponent:()=>gb,ɵɵngDeclareDirective:()=>pb,ɵɵngDeclareFactory:()=>yb,ɵɵngDeclareInjectable:()=>vb,ɵɵngDeclareInjector:()=>bb,ɵɵngDeclareNgModule:()=>wb,ɵɵngDeclarePipe:()=>_b,ɵɵpipe:()=>Zg,ɵɵpipeBind1:()=>Qg,ɵɵpipeBind2:()=>Yg,ɵɵpipeBind3:()=>Xg,ɵɵpipeBind4:()=>ey,ɵɵpipeBindV:()=>ty,ɵɵprojection:()=>ed,ɵɵprojectionDef:()=>Xf,ɵɵproperty:()=>Pf,ɵɵpropertyInterpolate:()=>td,ɵɵpropertyInterpolate1:()=>nd,ɵɵpropertyInterpolate2:()=>od,ɵɵpropertyInterpolate3:()=>rd,ɵɵpropertyInterpolate4:()=>id,ɵɵpropertyInterpolate5:()=>sd,ɵɵpropertyInterpolate6:()=>ad,ɵɵpropertyInterpolate7:()=>cd,ɵɵpropertyInterpolate8:()=>ld,ɵɵpropertyInterpolateV:()=>ud,ɵɵpureFunction0:()=>Pg,ɵɵpureFunction1:()=>Rg,ɵɵpureFunction2:()=>jg,ɵɵpureFunction3:()=>Vg,ɵɵpureFunction4:()=>$g,ɵɵpureFunction5:()=>Lg,ɵɵpureFunction6:()=>Fg,ɵɵpureFunction7:()=>Hg,ɵɵpureFunction8:()=>Ug,ɵɵpureFunctionV:()=>Bg,ɵɵqueryRefresh:()=>Ey,ɵɵreference:()=>rf,ɵɵresolveBody:()=>Fs,ɵɵresolveDocument:()=>Ls,ɵɵresolveWindow:()=>$s,ɵɵrestoreView:()=>jn,ɵɵsanitizeHtml:()=>ls,ɵɵsanitizeResourceUrl:()=>ds,ɵɵsanitizeScript:()=>ps,ɵɵsanitizeStyle:()=>us,ɵɵsanitizeUrl:()=>fs,ɵɵsanitizeUrlOrResourceUrl:()=>ys,ɵɵsetComponentScope:()=>mt,ɵɵsetNgModuleScope:()=>Ct,ɵɵstyleMap:()=>xd,ɵɵstyleMapInterpolate1:()=>sp,ɵɵstyleMapInterpolate2:()=>ap,ɵɵstyleMapInterpolate3:()=>cp,ɵɵstyleMapInterpolate4:()=>lp,ɵɵstyleMapInterpolate5:()=>up,ɵɵstyleMapInterpolate6:()=>fp,ɵɵstyleMapInterpolate7:()=>dp,ɵɵstyleMapInterpolate8:()=>pp,ɵɵstyleMapInterpolateV:()=>hp,ɵɵstyleProp:()=>Dd,ɵɵstylePropInterpolate1:()=>gp,ɵɵstylePropInterpolate2:()=>yp,ɵɵstylePropInterpolate3:()=>mp,ɵɵstylePropInterpolate4:()=>vp,ɵɵstylePropInterpolate5:()=>bp,ɵɵstylePropInterpolate6:()=>wp,ɵɵstylePropInterpolate7:()=>_p,ɵɵstylePropInterpolate8:()=>Cp,ɵɵstylePropInterpolateV:()=>Dp,ɵɵsyntheticHostListener:()=>Kf,ɵɵsyntheticHostProperty:()=>xp,ɵɵtemplate:()=>nf,ɵɵtemplateRefExtractor:()=>Py,ɵɵtext:()=>Fd,ɵɵtextInterpolate:()=>Hd,ɵɵtextInterpolate1:()=>Ud,ɵɵtextInterpolate2:()=>Bd,ɵɵtextInterpolate3:()=>Wd,ɵɵtextInterpolate4:()=>qd,ɵɵtextInterpolate5:()=>zd,ɵɵtextInterpolate6:()=>Kd,ɵɵtextInterpolate7:()=>Jd,ɵɵtextInterpolate8:()=>Gd,ɵɵtextInterpolateV:()=>Zd,ɵɵtrustConstantHtml:()=>hs,ɵɵtrustConstantResourceUrl:()=>gs,ɵɵviewQuery:()=>Ty});var o=n(964);const r=require("tslib");var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function s(e){return"function"==typeof e}function a(e){return s(null==e?void 0:e.then)}function c(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var l=c((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function u(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var f=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=(0,r.__values)(a),u=c.next();!u.done;u=c.next())u.value.remove(this)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else a.remove(this);var f=this.initialTeardown;if(s(f))try{f()}catch(e){i=e instanceof l?e.errors:[e]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=(0,r.__values)(d),g=p.next();!g.done;g=p.next()){var y=g.value;try{h(y)}catch(e){i=null!=i?i:[],e instanceof l?i=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(i)),(0,r.__read)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}if(i)throw new l(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&u(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),d=f.EMPTY;function p(e){return e instanceof f||e&&"closed"in e&&s(e.remove)&&s(e.add)&&s(e.unsubscribe)}function h(e){s(e)?e():e.unsubscribe()}var g=null,y=null,m=void 0,v=!1,b=!1,w={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=w.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(e)))},clearTimeout:function(e){var t=w.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _(e){w.setTimeout((function(){if(!g)throw e;g(e)}))}function C(){}var D=M("C",void 0,void 0);function M(e,t,n){return{kind:e,value:t,error:n}}var x=null;function I(e){if(v){var t=!x;if(t&&(x={errorThrown:!1,error:null}),e(),t){var n=x,o=n.errorThrown,r=n.error;if(x=null,o)throw r}}else e()}var E=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,p(t)&&t.add(n)):n.destination=P,n}return(0,r.__extends)(t,e),t.create=function(e,t,n){return new A(e,t,n)},t.prototype.next=function(e){this.isStopped?N(function(e){return M("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?N(M("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?N(D,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(f),T=Function.prototype.bind;function S(e,t){return T.call(e,t)}var O=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){k(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){k(e)}else k(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){k(e)}},e}(),A=function(e){function t(t,n,o){var r,i,a=e.call(this)||this;return s(t)||!t?r={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=o?o:void 0}:a&&b?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},r={next:t.next&&S(t.next,i),error:t.error&&S(t.error,i),complete:t.complete&&S(t.complete,i)}):r=t,a.destination=new O(r),a}return(0,r.__extends)(t,e),t}(E);function k(e){var t;v?(t=e,v&&x&&(x.errorThrown=!0,x.error=t)):_(e)}function N(e,t){var n=y;n&&w.setTimeout((function(){return n(e,t)}))}var P={closed:!0,next:C,error:function(e){throw e},complete:C},R="function"==typeof Symbol&&Symbol.observable||"@@observable";function j(e){return e}function V(e){return 0===e.length?j:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var $=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,r=this,i=(o=e)&&o instanceof E||function(e){return e&&s(e.next)&&s(e.error)&&s(e.complete)}(o)&&p(o)?e:new A(e,t,n);return I((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=L(t))((function(t,o){var r=new A({next:function(t){try{e(t)}catch(e){o(e),r.unsubscribe()}},error:o,complete:t});n.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[R]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=L(e))((function(e,n){var o;t.subscribe((function(e){return o=e}),(function(e){return n(e)}),(function(){return e(o)}))}))},e.create=function(t){return new e(t)},e}();function L(e){var t;return null!==(t=null!=e?e:m)&&void 0!==t?t:Promise}function F(e){return s(e[R])}function H(e){return Symbol.asyncIterator&&s(null==e?void 0:e[Symbol.asyncIterator])}function U(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function W(e){return s(null==e?void 0:e[B])}function q(e){return(0,r.__asyncGenerator)(this,arguments,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.__await)(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,(0,r.__await)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.__await)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function z(e){return s(null==e?void 0:e.getReader)}function K(e){if(e instanceof $)return e;if(null!=e){if(F(e))return o=e,new $((function(e){var t=o[R]();if(s(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(i(e))return n=e,new $((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(a(e))return function(e){return new $((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,_)}))}(e);if(H(e))return J(e);if(W(e))return t=e,new $((function(e){var n,o;try{for(var i=(0,r.__values)(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e.complete()}));if(z(e))return J(q(e))}var t,n,o;throw U(e)}function J(e){return new $((function(t){(function(e,t){var n,o,i,s;return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,c;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,r.__asyncValues)(e),l.label=1;case 1:return[4,n.next()];case 2:if((o=l.sent()).done)return[3,4];if(a=o.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=l.sent(),i={error:c},[3,11];case 6:return l.trys.push([6,,9,10]),o&&!o.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function G(e){return function(t){if(function(e){return s(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Z(e,t,n,o,r){return new Q(e,t,n,o,r)}var Q=function(e){function t(t,n,o,r,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=o?function(){try{o()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,r.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(E);var Y=new $((function(e){return e.complete()}));function X(e){return e<=0?function(){return Y}:G((function(t,n){var o=0;t.subscribe(Z(n,(function(t){++o<=e&&(n.next(t),e<=o&&n.complete())})))}))}var ee=c((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),te=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.__extends)(t,e),t.prototype.lift=function(e){var t=new ne(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new ee},t.prototype.next=function(e){var t=this;I((function(){var n,o;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var s=(0,r.__values)(i),a=s.next();!a.done;a=s.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;I((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;I((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,o=t.isStopped,r=t.observers;return n||o?d:(r.push(e),new f((function(){return u(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,o=t.thrownError,r=t.isStopped;n?e.error(o):r&&e.complete()},t.prototype.asObservable=function(){var e=new $;return e.source=this,e},t.create=function(e,t){return new ne(e,t)},t}($),ne=function(e){function t(t,n){var o=e.call(this)||this;return o.destination=t,o.source=n,o}return(0,r.__extends)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:d},t}(te);function oe(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new te}:t,o=e.resetOnError,r=void 0===o||o,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t=null,o=null,i=null,a=0,l=!1,u=!1,f=function(){null==o||o.unsubscribe(),o=null},d=function(){f(),t=i=null,l=u=!1},p=function(){var e=t;d(),null==e||e.unsubscribe()};return G((function(e,h){a++,u||l||f();var g,y=i=null!=i?i:n();h.add((function(){0!=--a||u||l||(o=re(p,c))})),y.subscribe(h),t||(t=new A({next:function(e){return y.next(e)},error:function(e){u=!0,f(),o=re(d,r,e),y.error(e)},complete:function(){l=!0,f(),o=re(d,s),y.complete()}}),(g=e,K(g)).subscribe(t))}))(e)}}function re(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return!0===t?(e(),null):!1===t?null:t.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(n))).pipe(X(1)).subscribe((function(){return e()}))}function ie(e){for(let t in e)if(e[t]===ie)return t;throw Error("Could not find renamed property on target object.")}function se(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ae(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const le=ie({__forward_ref__:ie});function ue(e){return e.__forward_ref__=ue,e.toString=function(){return ae(this())},e}function fe(e){return de(e)?e():e}function de(e){return"function"==typeof e&&e.hasOwnProperty(le)&&e.__forward_ref__===ue}class pe extends Error{constructor(e,t){super(he(e,t)),this.code=e}}function he(e,t){const n=`NG0${Math.abs(e)}`;let o=`${n}${t?": "+t:""}`;return ngDevMode&&e<0&&(o=`${o}. Find more at https://angular.io/errors/${n}`),o}function ge(e){return"string"==typeof e?e:null==e?"":String(e)}function ye(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ge(e)}function me(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new pe(-200,`Circular dependency in DI detected for ${e}${n}`)}function ve(){throw new Error("Cannot mix multi providers and regular providers")}function be(e,t){const n=t?` in ${t}`:"";throw new pe(-201,`No provider for ${ye(e)} found${n}`)}function we(e,t){"number"!=typeof e&&ke(t,typeof e,"number","===")}function _e(e,t,n){we(e,"Expected a number"),Te(e,n,"Expected number to be less than or equal to"),Oe(e,t,"Expected number to be greater than or equal to")}function Ce(e,t){"string"!=typeof e&&ke(t,null===e?"null":typeof e,"string","===")}function De(e,t,n){e!=t&&ke(n,e,t,"==")}function Me(e,t,n){e==t&&ke(n,e,t,"!=")}function xe(e,t,n){e!==t&&ke(n,e,t,"===")}function Ie(e,t,n){e===t&&ke(n,e,t,"!==")}function Ee(e,t,n){e<t||ke(n,e,t,"<")}function Te(e,t,n){e<=t||ke(n,e,t,"<=")}function Se(e,t,n){e>t||ke(n,e,t,">")}function Oe(e,t,n){e>=t||ke(n,e,t,">=")}function Ae(e,t){null==e&&ke(t,e,null,"!=")}function ke(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}function Ne(e){"undefined"!=typeof Node&&e instanceof Node||"object"==typeof e&&null!=e&&"WebWorkerRenderNode"===e.constructor.name||ke(`The provided value must be an instance of a DOM Node but got ${ae(e)}`)}function Pe(e,t){Ae(e,"Array must be defined.");const n=e.length;(t<0||t>=n)&&ke(`Index expected to be less than ${n} but got ${t}`)}function Re(e,...t){if(-1!==t.indexOf(e))return!0;ke(`Expected value to be one of ${JSON.stringify(t)} but was ${JSON.stringify(e)}.`)}function je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const Ve=je;function $e(e){return{providers:e.providers||[],imports:e.imports||[]}}function Le(e){return Fe(e,Ue)||Fe(e,We)}function Fe(e,t){return e.hasOwnProperty(t)?e[t]:null}function He(e){return e&&(e.hasOwnProperty(Be)||e.hasOwnProperty(qe))?e[Be]:null}const Ue=ie({ɵprov:ie}),Be=ie({ɵinj:ie}),We=ie({ngInjectableDef:ie}),qe=ie({ngInjectorDef:ie});var ze;let Ke;function Je(e){const t=Ke;return Ke=e,t}function Ge(e,t,n){const o=Le(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&ze.Optional?null:void 0!==t?t:void be(ae(e),"Injector")}function Ze(e){return{toString:e}.toString()}var Qe,Ye,Xe;function et(e){return null==e||e===Qe.Default}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(ze||(ze={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Qe||(Qe={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(Ye||(Ye={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Xe||(Xe={}));const tt="undefined"!=typeof globalThis&&globalThis,nt="undefined"!=typeof window&&window,ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rt="undefined"!=typeof global&&global,it=tt||rt||nt||ot;function st(){return!("undefined"!=typeof ngDevMode&&!ngDevMode||("object"!=typeof ngDevMode&&function(){const e="undefined"!=typeof location?location.toString():"",t={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0},n=-1===e.indexOf("ngDevMode=false");it.ngDevMode=n&&t}(),"undefined"==typeof ngDevMode||!ngDevMode))}const at={},ct=[];("undefined"==typeof ngDevMode||ngDevMode)&&st()&&(Object.freeze(at),Object.freeze(ct));const lt=ie({ɵcmp:ie}),ut=ie({ɵdir:ie}),ft=ie({ɵpipe:ie}),dt=ie({ɵmod:ie}),pt=ie({ɵfac:ie}),ht=ie({__NG_ELEMENT_ID__:ie});let gt=0;function yt(e){return Ze((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&st();const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Qe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ct,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Xe.Emulated,id:"c",styles:e.styles||ct,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,r=e.features,i=e.pipes;return n.id+=gt++,n.inputs=Dt(e.inputs,t),n.outputs=Dt(e.outputs),r&&r.forEach((e=>e(n))),n.directiveDefs=o?()=>("function"==typeof o?o():o).map(vt):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(bt):null,n}))}function mt(e,t,n){const o=e.ɵcmp;o.directiveDefs=()=>t.map(vt),o.pipeDefs=()=>n.map(bt)}function vt(e){const t=It(e)||Et(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is neither 'ComponentType' or 'DirectiveType'.`);return t}function bt(e){const t=Tt(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is not a 'PipeType'.`);return t}const wt={};function _t(e){return Ze((()=>{const t={type:e.type,bootstrap:e.bootstrap||ct,declarations:e.declarations||ct,imports:e.imports||ct,exports:e.exports||ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(wt[e.id]=e.type),t}))}function Ct(e,t){return Ze((()=>{const n=St(e,!0);n.declarations=t.declarations||ct,n.imports=t.imports||ct,n.exports=t.exports||ct}))}function Dt(e,t){if(null==e)return at;const n={};for(const o in e)if(e.hasOwnProperty(o)){let r=e[o],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=o,t&&(t[r]=i)}return n}const Mt=yt;function xt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function It(e){return e[lt]||null}function Et(e){return e[ut]||null}function Tt(e){return e[ft]||null}function St(e,t){const n=e[dt]||null;if(!n&&!0===t)throw new Error(`Type ${ae(e)} does not have 'ɵmod' property.`);return n}const Ot=20,At=["Root","Component","Embedded"],kt=10;function Nt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Pt(e){return Array.isArray(e)&&!0===e[1]}function Rt(e){return 0!=(8&e.flags)}function jt(e){return 2==(2&e.flags)}function Vt(e){return 1==(1&e.flags)}function $t(e){return null!==e.template}function Lt(e,t){Ft(e,t[1])}function Ft(e,t){Ht(e),e.hasOwnProperty("tView_")&&De(e.tView_,t,"This TNode does not belong to this TView.")}function Ht(e){Ae(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||ke("Not of type TNode, got: "+e)}function Ut(e){Ae(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&ke("Object is not of TIcu type.")}function Bt(e,t="Type passed in is not ComponentType, it does not have 'ɵcmp' property."){It(e)||ke(t)}function Wt(e){Ae(e,"currentTNode should exist!"),Ae(e.parent,"currentTNode should have a parent")}function qt(e){Ae(e,"LContainer must be defined"),De(Pt(e),!0,"Expecting LContainer")}function zt(e){e&&De(Nt(e),!0,"Expecting LView or undefined or null")}function Kt(e){Ae(e,"LView must be defined"),De(Nt(e),!0,"Expecting LView")}function Jt(e,t){De(e.firstCreatePass,!0,t||"Should only be called in first create pass.")}function Gt(e,t){De(e.firstUpdatePass,!0,t||"Should only be called in first update pass.")}function Zt(e,t){Qt(e[1].expandoStartIndex,e.length,t)}function Qt(e,t,n){e<=n&&n<t||ke(`Index out of range (expecting ${e} <= ${n} < ${t})`)}function Yt(e,t){Ae(e,t||"Component views should always have a parent view (component's host view)")}function Xt(e,t){Zt(e,t),Zt(e,t+8),we(e[t+0],"injectorIndex should point to a bloom filter"),we(e[t+1],"injectorIndex should point to a bloom filter"),we(e[t+2],"injectorIndex should point to a bloom filter"),we(e[t+3],"injectorIndex should point to a bloom filter"),we(e[t+4],"injectorIndex should point to a bloom filter"),we(e[t+5],"injectorIndex should point to a bloom filter"),we(e[t+6],"injectorIndex should point to a bloom filter"),we(e[t+7],"injectorIndex should point to a bloom filter"),we(e[t+8],"injectorIndex should point to parent injector")}function en(e,t){const n=e.hasOwnProperty(pt);if(!n&&!0===t&&ngDevMode)throw new Error(`Type ${ae(e)} does not have 'ɵfac' property.`);return n?e[pt]:null}class tn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function nn(){return on}function on(e){return e.type.prototype.ngOnChanges&&(e.setInput=sn),rn}function rn(){const e=an(this),t=e?.current;if(t){const n=e.previous;if(n===at)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function sn(e,t,n,o){const r=an(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:at,current:null}),i=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];i[a]=new tn(c&&c.currentValue,t,s===at),e[o]=t}function an(e){return e.__ngSimpleChanges__||null}nn.ngInherit=!0;let cn=null;const ln=e=>{cn=e},un=function(e,t,n){null!=cn&&cn(e,t,n)},fn="svg",dn="math";let pn;function hn(e){pn=e}function gn(){return void 0!==pn?pn:"undefined"!=typeof document?document:void 0}var yn;function mn(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(yn||(yn={}));const vn={createRenderer:(e,t)=>gn()};function bn(e){for(;Array.isArray(e);)e=e[0];return e}function wn(e,t){return ngDevMode&&Pe(t,e),ngDevMode&&Oe(e,Ot,"Expected to be past HEADER_OFFSET"),bn(t[e])}function _n(e,t){ngDevMode&&Lt(e,t),ngDevMode&&Pe(t,e.index);const n=bn(t[e.index]);return ngDevMode&&!mn(t[11])&&Ne(n),n}function Cn(e,t){ngDevMode&&Se(t,-1,"wrong index for TNode"),ngDevMode&&Ee(t,e.data.length,"wrong index for TNode");const n=e.data[t];return ngDevMode&&null!==n&&Ht(n),n}function Dn(e,t){return ngDevMode&&Pe(e,t),e[t]}function Mn(e,t){ngDevMode&&Pe(t,e);const n=t[e];return Nt(n)?n:n[0]}function xn(e){return 4==(4&e[2])}function In(e){return 128==(128&e[2])}function En(e,t){return null==t?null:(ngDevMode&&Pe(e,t),e[t])}function Tn(e){e[18]=0}function Sn(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const On={lFrame:so(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function An(){return On.bindingsEnabled}function kn(){On.bindingsEnabled=!0}function Nn(){On.bindingsEnabled=!1}function Pn(){return On.lFrame.lView}function Rn(){return On.lFrame.tView}function jn(e){return On.lFrame.contextLView=e,e[8]}function Vn(){let e=$n();for(;null!==e&&64===e.type;)e=e.parent;return e}function $n(){return On.lFrame.currentTNode}function Ln(){const e=On.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Fn(e,t){ngDevMode&&e&&Ft(e,On.lFrame.tView);const n=On.lFrame;n.currentTNode=e,n.isParent=t}function Hn(){return On.lFrame.isParent}function Un(){On.lFrame.isParent=!1}function Bn(){return On.isInCheckNoChangesMode}function Wn(e){On.isInCheckNoChangesMode=e}function qn(){const e=On.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zn(){return On.lFrame.bindingIndex}function Kn(e){return On.lFrame.bindingIndex=e}function Jn(){return On.lFrame.bindingIndex++}function Gn(e){const t=On.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Zn(e){On.lFrame.inI18n=e}function Qn(e,t){const n=On.lFrame;n.bindingIndex=n.bindingRootIndex=e,Yn(t)}function Yn(e){On.lFrame.currentDirectiveIndex=e}function Xn(e){const t=On.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function eo(){return On.lFrame.currentQueryIndex}function to(e){On.lFrame.currentQueryIndex=e}function no(e){const t=e[1];return 2===t.type?(ngDevMode&&Ae(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===t.type?e[6]:null}function oo(e,t,n){if(ngDevMode&&zt(e),n&ze.SkipSelf){ngDevMode&&Ft(t,e[1]);let o=t,r=e;for(;ngDevMode&&Ae(o,"Parent TNode should be defined"),o=o.parent,!(null!==o||n&ze.Host||(o=no(r),null===o)||(ngDevMode&&Ae(r,"Parent LView should be defined"),r=r[15],10&o.type)););if(null===o)return!1;t=o,e=r}ngDevMode&&Lt(t,e);const o=On.lFrame=io();return o.currentTNode=t,o.lView=e,!0}function ro(e){ngDevMode&&Me(e[0],e[1],"????"),ngDevMode&&zt(e);const t=io();ngDevMode&&(De(t.isParent,!0,"Expected clean LFrame"),De(t.lView,null,"Expected clean LFrame"),De(t.tView,null,"Expected clean LFrame"),De(t.selectedIndex,-1,"Expected clean LFrame"),De(t.elementDepthCount,0,"Expected clean LFrame"),De(t.currentDirectiveIndex,-1,"Expected clean LFrame"),De(t.currentNamespace,null,"Expected clean LFrame"),De(t.bindingRootIndex,-1,"Expected clean LFrame"),De(t.currentQueryIndex,0,"Expected clean LFrame"));const n=e[1];On.lFrame=t,ngDevMode&&n.firstChild&&Ft(n.firstChild,n),t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function io(){const e=On.lFrame,t=null===e?null:e.child;return null===t?so(e):t}function so(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ao(){const e=On.lFrame;return On.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const co=ao;function lo(){const e=ao();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function uo(){return On.lFrame.selectedIndex}function fo(e){ngDevMode&&-1!==e&&Oe(e,Ot,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&Ee(e,On.lFrame.lView.length,"Can't set index passed end of LView"),On.lFrame.selectedIndex=e}function po(){const e=On.lFrame;return Cn(e.tView,e.selectedIndex)}function ho(){On.lFrame.currentNamespace=fn}function go(){On.lFrame.currentNamespace=dn}function yo(){On.lFrame.currentNamespace=null}function mo(e,t){ngDevMode&&Jt(e);for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const t=e.data[n];ngDevMode&&Ae(t,"Expecting DirectiveDef");const o=t.type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:a,ngOnDestroy:c}=o;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function vo(e,t,n){_o(e,t,3,n)}function bo(e,t,n,o){ngDevMode&&Me(n,3,"Init pre-order hooks should not be called more than once"),(3&e[2])===n&&_o(e,t,n,o)}function wo(e,t){ngDevMode&&Me(t,3,"Init hooks phase should not be incremented after all init hooks have been run.");let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _o(e,t,n,o){ngDevMode&&De(Bn(),!1,"Hooks should never be run when in check no changes mode.");const r=void 0!==o?65535&e[18]:0,i=null!=o?o:-1,s=t.length-1;let a=0;for(let c=r;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=o&&a>=o)break}else t[c]<0&&(e[18]+=65536),(a<i||-1==i)&&(Co(e,n,t,c),e[18]=(4294901760&e[18])+c+2),c++}function Co(e,t,n,o){const r=n[o]<0,i=n[o+1],s=e[r?-n[o]:n[o]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,un(4,s,i);try{i.call(s)}finally{un(5,s,i)}}}else{un(4,s,i);try{i.call(s)}finally{un(5,s,i)}}}const Do=-1;class Mo{constructor(e,t,n){this.factory=e,this.resolving=!1,ngDevMode&&Ae(e,"Factory not specified"),ngDevMode&&De(typeof e,"function","Expected factory function."),this.canSeeViewProviders=t,this.injectImpl=n}}function xo(e){let t="";return 1&e&&(t+="|Text"),2&e&&(t+="|Element"),4&e&&(t+="|Container"),8&e&&(t+="|ElementContainer"),16&e&&(t+="|Projection"),32&e&&(t+="|IcuContainer"),64&e&&(t+="|Placeholder"),t.length>0?t.substring(1):t}function Io(e,t,n){Ae(e,"should be called with a TNode"),0==(e.type&t)&&ke(n||`Expected [${xo(t)}] but got ${xo(e.type)}.`)}function Eo(e,t,n){const o=mn(e);let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],c=n[r++];ngDevMode&&ngDevMode.rendererSetAttribute++,o?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=i,a=n[++r];ngDevMode&&ngDevMode.rendererSetAttribute++,So(s)?o&&e.setProperty(t,s,a):o?e.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function To(e){return 3===e||4===e||6===e}function So(e){return 64===e.charCodeAt(0)}function Oo(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const r=t[o];"number"==typeof r?n=r:0===n||Ao(e,n,r,null,-1===n||2===n?t[++o]:null)}}return e}function Ao(e,t,n,o,r){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===o)return void(null!==r&&(e[i+1]=r));if(o===e[i+1])return void(e[i+2]=r)}i++,null!==o&&i++,null!==r&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o),null!==r&&e.splice(i++,0,r)}function ko(e){return e!==Do}function No(e){return ngDevMode&&we(e,"Number expected"),ngDevMode&&Me(e,-1,"Not a valid state."),ngDevMode&&Se(32767&e,Ot,"Parent injector must be pointing past HEADER_OFFSET."),32767&e}function Po(e,t){let n=e>>16,o=t;for(;n>0;)o=o[15],n--;return o}let Ro=!0;function jo(e){const t=Ro;return Ro=e,t}let Vo=0;function $o(e,t){const n=Fo(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,Lo(o.data,e),Lo(t,null),Lo(o.blueprint,null));const r=Ho(e,t),i=e.injectorIndex;if(ko(r)){const e=No(r),n=Po(r,t),o=n[1].data;for(let r=0;r<8;r++)t[i+r]=n[e+r]|o[e+r]}return t[i+8]=r,i}function Lo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fo(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:(ngDevMode&&Pe(t,e.injectorIndex),e.injectorIndex)}function Ho(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,r=t;for(;null!==r;){const e=r[1],t=e.type;if(2===t?(ngDevMode&&Ae(e.declTNode,"Embedded TNodes should have declaration parents."),o=e.declTNode):1===t?o=r[6]:(ngDevMode&&De(e.type,0,"Root type expected"),o=null),null===o)return Do;if(ngDevMode&&o&&Lt(o,r[15]),n++,r=r[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Do}function Uo(e,t,n){!function(e,t,n){let o;ngDevMode&&De(t.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(ht)&&(o=n[ht]),null==o&&(o=n[ht]=Vo++);const r=255&o,i=1<<r;t.data[e+(r>>5)]|=i}(e,t,n)}function Bo(e,t,n){if(n&ze.Optional)return e;be(t,"NodeInjector")}function Wo(e,t,n,o){if(n&ze.Optional&&void 0===o&&(o=null),0==(n&(ze.Self|ze.Host))){const r=e[9],i=Je(void 0);try{return r?r.get(t,o,n&ze.Optional):Ge(t,o,n&ze.Optional)}finally{Je(i)}}return Bo(o,t,n)}function qo(e,t,n,o=ze.Default,r){if(null!==e){const i=function(e){if(ngDevMode&&Ae(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ht)?e[ht]:void 0;return"number"==typeof t?t>=0?255&t:(ngDevMode&&De(t,-1,"Expecting to get Special Injector Id"),Ko):t}(n);if("function"==typeof i){if(!oo(t,e,o))return o&ze.Host?Bo(r,n,o):Wo(t,n,o,r);try{const e=i(o);if(null!=e||o&ze.Optional)return e;be(n)}finally{co()}}else if("number"==typeof i){let r=null,s=Fo(e,t),a=Do,c=o&ze.Host?t[16][6]:null;for((-1===s||o&ze.SkipSelf)&&(a=-1===s?Ho(e,t):t[s+8],a!==Do&&Yo(o,!1)?(r=t[1],s=No(a),t=Po(a,t)):s=-1);-1!==s;){ngDevMode&&Xt(t,s);const e=t[1];if(ngDevMode&&Lt(e.data[s+8],t),Qo(i,s,e.data)){const e=Jo(s,t,n,r,o,c);if(e!==zo)return e}a=t[s+8],a!==Do&&Yo(o,t[1].data[s+8]===c)&&Qo(i,s,t)?(r=e,s=No(a),t=Po(a,t)):s=-1}}}return Wo(t,n,o,r)}const zo={};function Ko(){return new Xo(Vn(),Pn())}function Jo(e,t,n,o,r,i){const s=t[1],a=s.data[e+8],c=Go(a,s,n,null==o?jt(a)&&Ro:o!=s&&0!=(3&a.type),r&ze.Host&&i===a);return null!==c?Zo(t,s,c,a):zo}function Go(e,t,n,o,r){const i=e.providerIndexes,s=t.data,a=1048575&i,c=e.directiveStart,l=e.directiveEnd,u=i>>20,f=r?a+u:l;for(let e=o?a:a+u;e<f;e++){const t=s[e];if(e<c&&n===t||e>=c&&t.type===n)return e}if(r){const e=s[c];if(e&&$t(e)&&e.type===n)return c}return null}function Zo(e,t,n,o){let r=e[n];const i=t.data;if(r instanceof Mo){const a=r;a.resolving&&me(ye(i[n]));const c=jo(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Je(a.injectImpl):null,u=oo(e,o,ze.Default);ngDevMode&&De(u,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{r=e[n]=a.factory(void 0,i,e,o),t.firstCreatePass&&n>=o.directiveStart&&(ngDevMode&&(void 0!==(s=i[n]).type&&null!=s.selectors&&void 0!==s.inputs||ke("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")),function(e,t,n){ngDevMode&&Jt(n);const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=t.type.prototype;if(o){const o=on(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t))}finally{null!==l&&Je(l),jo(c),a.resolving=!1,co()}}var s;return r}function Qo(e,t,n){const o=1<<e;return!!(n[t+(e>>5)]&o)}function Yo(e,t){return!(e&ze.Self||e&ze.Host&&t)}class Xo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return qo(this._tNode,this._lView,e,n,t)}}function er(e){return Ze((()=>{const t=e.prototype.constructor,n=t[pt]||tr(t),o=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==o;){const e=r[pt]||tr(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e}))}function tr(e){return de(e)?()=>{const t=tr(fe(e));return t&&t()}:en(e)}function nr(e){return function(e,t){if(ngDevMode&&Io(e,15),ngDevMode&&Ae(e,"expecting tNode"),"class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let o=0;for(;o<e;){const r=n[o];if(To(r))break;if(0===r)o+=2;else if("number"==typeof r)for(o++;o<e&&"string"==typeof n[o];)o++;else{if(r===t)return n[o+1];o+=2}}}return null}(Vn(),e)}const or="__annotations__",rr="__parameters__",ir="__prop__metadata__";function sr(e,t,n,o,r){return Ze((()=>{const i=ar(t);function s(...e){if(this instanceof s)return i.call(this,...e),this;const t=new s(...e);return function(n){return r&&r(n,...e),(n.hasOwnProperty(or)?n[or]:Object.defineProperty(n,or,{value:[]})[or]).push(t),o&&o(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function ar(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function cr(e,t,n){return Ze((()=>{const o=ar(t);function r(...e){if(this instanceof r)return o.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,o){const r=e.hasOwnProperty(rr)?e[rr]:Object.defineProperty(e,rr,{value:[]})[rr];for(;r.length<=o;)r.push(null);return(r[o]=r[o]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}function lr(e,t,n,o){return Ze((()=>{const r=ar(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return function(n,r){const i=n.constructor,s=i.hasOwnProperty(ir)?i[ir]:Object.defineProperty(i,ir,{value:{}})[ir];s[r]=s.hasOwnProperty(r)&&s[r]||[],s[r].unshift(t),o&&o(n,r,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}const ur=cr("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>nr(e)})));class fr{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?(("undefined"==typeof ngDevMode||ngDevMode)&&Ee(t,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=t):void 0!==t&&(this.ɵprov=je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dr=new fr("AnalyzeForEntryComponents");class pr{}const hr=lr("ContentChildren",((e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...t})),pr),gr=lr("ContentChild",((e,t={})=>({selector:e,first:!0,isViewQuery:!1,descendants:!0,...t})),pr),yr=lr("ViewChildren",((e,t={})=>({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...t})),pr),mr=lr("ViewChild",((e,t)=>({selector:e,first:!0,isViewQuery:!0,descendants:!0,...t})),pr);var vr,br;function wr(e){const t=it.ng;if(t&&t.ɵcompilerFacade)return t.ɵcompilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let t=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(t+=`The ${e.kind} is part of a library that has been partially compiled.\n`,t+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",t+="\n",t+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):t+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",t+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",t+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(t)}throw new Error("JIT compiler unavailable")}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(vr||(vr={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(br||(br={}));const _r=Function;function Cr(e){return"function"==typeof e}function Dr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?(t===e&&(t=e.slice(0,n)),Dr(o,t)):t!==e&&t.push(o)}return t}function Mr(e,t){e.forEach((e=>Array.isArray(e)?Mr(e,t):t(e)))}function xr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ir(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Er(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}function Tr(e,t,n){let o=Or(e,t);return o>=0?e[1|o]=n:(o=~o,function(e,t,n,o){ngDevMode&&Te(t,e.length,"Can't insert past array end.");let r=e.length;if(r==t)e.push(n,o);else if(1===r)e.push(o,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){const t=r-2;e[r]=e[t],r--}e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function Sr(e,t){const n=Or(e,t);if(n>=0)return e[1|n]}function Or(e,t){return function(e,t,n){ngDevMode&&De(Array.isArray(e),!0,"Expecting an array");let o=0,r=e.length>>n;for(;r!==o;){const i=o+(r-o>>1),s=e[i<<n];if(t===s)return i<<n;s>t?r=i:o=i+1}return~(r<<n)}(e,t,1)}const Ar=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,kr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Nr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Pr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Rr{constructor(e){this._reflect=e||it.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Er(void 0===e?t.length:e.length);for(let o=0;o<n.length;o++)void 0===e?n[o]=[]:e[o]&&e[o]!=Object?n[o]=[e[o]]:n[o]=[],t&&null!=t[o]&&(n[o]=n[o].concat(t[o]));return n}_ownParameters(e,t){if(n=e.toString(),Ar.test(n)||Pr.test(n)||kr.test(n)&&!Nr.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const o=e.ctorParameters;if(o&&o!==t.ctorParameters){const e="function"==typeof o?o():o,t=e.map((e=>e&&e.type)),n=e.map((e=>e&&jr(e.decorators)));return this._zipTypesAndAnnotations(t,n)}const r=e.hasOwnProperty(rr)&&e[rr],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):Er(e.length)}parameters(e){if(!Cr(e))return[];const t=Vr(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?jr(e.decorators):e.hasOwnProperty(or)?e[or]:null}annotations(e){if(!Cr(e))return[];const t=Vr(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach((e=>{n[e]=jr(t[e])})),n}return e.hasOwnProperty(ir)?e[ir]:null}propMetadata(e){if(!Cr(e))return{};const t=Vr(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach((t=>{n[t]=e[t]}))}const o=this._ownPropMetadata(e,t);return o&&Object.keys(o).forEach((e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...o[e]),n[e]=t})),n}ownPropMetadata(e){return Cr(e)&&this._ownPropMetadata(e,Vr(e))||{}}hasLifecycleHook(e,t){return e instanceof _r&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${ae(e)}`}resourceUri(e){return`./${ae(e)}`}resolveIdentifier(e,t,n,o){return o}resolveEnum(e,t){return e[t]}}function jr(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function Vr(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const $r={},Lr=/\n/gm,Fr="__source",Hr=ie({provide:String,useValue:ie});let Ur;function Br(e){const t=Ur;return Ur=e,t}function Wr(e,t=ze.Default){if(void 0===Ur){const e="undefined"==typeof ngDevMode||ngDevMode?"inject() must be called from an injection context":"";throw new pe(203,e)}return null===Ur?Ge(e,void 0,t):Ur.get(e,t&ze.Optional?null:void 0,t)}function qr(e,t=ze.Default){return(Ke||Wr)(fe(e),t)}function zr(e){const t=ngDevMode?`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`:"invalid";throw new Error(t)}const Kr=qr;function Jr(e){const t=[];for(let n=0;n<e.length;n++){const o=fe(e[n]);if(Array.isArray(o)){if(0===o.length){const e="undefined"==typeof ngDevMode||ngDevMode?"Arguments array must have arguments.":"";throw new pe(900,e)}let e,n=ze.Default;for(let t=0;t<o.length;t++){const r=o[t],i=r.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=r.token:n|=i:e=r}t.push(qr(e,n))}else t.push(qr(o))}return t}function Gr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Zr=Gr(cr("Inject",(e=>({token:e}))),-1),Qr=Gr(cr("Optional"),8),Yr=Gr(cr("Self"),2),Xr=Gr(cr("SkipSelf"),4),ei=Gr(cr("Host"),1);let ti=null;function ni(){return ti=ti||new Rr}function oi(e){return ri(ni().parameters(e))}function ri(e){return e.map((e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const o=e[n];if(void 0===o)continue;const r=Object.getPrototypeOf(o);if(o instanceof Qr||"Optional"===r.ngMetadataName)t.optional=!0;else if(o instanceof Xr||"SkipSelf"===r.ngMetadataName)t.skipSelf=!0;else if(o instanceof Yr||"Self"===r.ngMetadataName)t.self=!0;else if(o instanceof ei||"Host"===r.ngMetadataName)t.host=!0;else if(o instanceof Zr)t.token=o.token;else if(o instanceof ur){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");t.attribute=o.attributeName}else t.token=o}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e)))}function ii(e){const t=[],n=new Map;function o(t){let o=n.get(t);if(!o){const r=e(t);n.set(t,o=r.then(ui))}return o}return si.forEach(((e,n)=>{const r=[];e.templateUrl&&r.push(o(e.templateUrl).then((t=>{e.template=t})));const i=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;i&&i.forEach(((t,n)=>{s.push(""),r.push(o(t).then((o=>{s[a+n]=o,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));const c=Promise.all(r).then((()=>function(e){ai.delete(e)}(n)));t.push(c)})),li(),Promise.all(t).then((()=>{}))}let si=new Map;const ai=new Set;function ci(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function li(){const e=si;return si=new Map,e}function ui(e){return"string"==typeof e?e:e.text()}let fi,di;function pi(){if(void 0===fi&&(fi=null,it.trustedTypes))try{fi=it.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fi}function hi(e){return pi()?.createHTML(e)||e}function gi(){if(void 0===di&&(di=null,it.trustedTypes))try{di=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return di}function yi(e){return gi()?.createHTML(e)||e}function mi(e){return gi()?.createScript(e)||e}function vi(e){return gi()?.createScriptURL(e)||e}class bi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wi extends bi{getTypeName(){return"HTML"}}class _i extends bi{getTypeName(){return"Style"}}class Ci extends bi{getTypeName(){return"Script"}}class Di extends bi{getTypeName(){return"URL"}}class Mi extends bi{getTypeName(){return"ResourceURL"}}function xi(e){return e instanceof bi?e.changingThisBreaksApplicationSecurity:e}function Ii(e,t){const n=Ei(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Ei(e){return e instanceof bi&&e.getTypeName()||null}function Ti(e){return new wi(e)}function Si(e){return new _i(e)}function Oi(e){return new Ci(e)}function Ai(e){return new Di(e)}function ki(e){return new Mi(e)}function Ni(e){const t=new Ri(e);return function(){try{return!!(new window.DOMParser).parseFromString(hi(""),"text/html")}catch{return!1}}()?new Pi(t):t}class Pi{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(hi(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Ri{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=hi(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=hi(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const o=t.item(n).name;"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||e.removeAttribute(o)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ji=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $i(e){return(e=String(e)).match(ji)||e.match(Vi)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see https://g.co/ng/security#xss)`),"unsafe:"+e)}function Li(e){return(e=String(e)).split(",").map((e=>$i(e.trim()))).join(", ")}function Fi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Hi(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Ui=Fi("area,br,col,hr,img,wbr"),Bi=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wi=Fi("rp,rt"),qi=Hi(Wi,Bi),zi=Hi(Bi,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ki=Hi(Wi,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ji=Hi(Ui,zi,Ki,qi),Gi=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zi=Fi("srcset"),Qi=Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yi=Fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xi=Hi(Gi,Zi,Qi,Yi),es=Fi("script,style,template");class ts{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ji.hasOwnProperty(t))return this.sanitizedSomething=!0,!es.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),o=t.name,r=o.toLowerCase();if(!Xi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let i=t.value;Gi[r]&&(i=$i(i)),Zi[r]&&(i=Li(i)),this.buf.push(" ",o,'="',rs(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ji.hasOwnProperty(t)&&!Ui.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(rs(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ns=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,os=/([^\#-~ |!])/g;function rs(e){return e.replace(/&/g,"&amp;").replace(ns,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(os,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let is;function ss(e,t){let n=null;try{is=is||Ni(e);let o=t?String(t):"";n=is.getInertBodyElement(o);let r=5,i=o;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,o=i,i=n.innerHTML,n=is.getInertBodyElement(o)}while(o!==i);const s=new ts,a=s.sanitizeChildren(as(n)||n);return("undefined"==typeof ngDevMode||ngDevMode)&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),hi(a)}finally{if(n){const e=as(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function as(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var cs;function ls(e){const t=ms();return t?yi(t.sanitize(cs.HTML,e)||""):Ii(e,"HTML")?yi(xi(e)):ss(gn(),ge(e))}function us(e){const t=ms();return t?t.sanitize(cs.STYLE,e)||"":Ii(e,"Style")?xi(e):ge(e)}function fs(e){const t=ms();return t?t.sanitize(cs.URL,e)||"":Ii(e,"URL")?xi(e):$i(ge(e))}function ds(e){const t=ms();if(t)return vi(t.sanitize(cs.RESOURCE_URL,e)||"");if(Ii(e,"ResourceURL"))return vi(xi(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a resource URL context (see https://g.co/ng/security#xss)":"";throw new pe(904,n)}function ps(e){const t=ms();if(t)return mi(t.sanitize(cs.SCRIPT,e)||"");if(Ii(e,"Script"))return mi(xi(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a script context":"";throw new pe(905,n)}function hs(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return hi(e[0])}function gs(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function(e){return pi()?.createScriptURL(e)||e}(e[0])}function ys(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ds:fs}(t,n)(e)}function ms(){const e=Pn();return e&&e[12]}function vs(e){let t=Cs(e);if(t){if(Array.isArray(t)){const o=t;let r,i,s;if((n=e)&&n.constructor&&n.constructor.ɵcmp){if(r=Is(o,e),-1==r)throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.ɵdir}(e)){if(r=function(e,t){let n=e[1].firstChild;for(;n;){const o=n.directiveStart,r=n.directiveEnd;for(let i=o;i<r;i++)if(e[i]===t)return n.index;n=xs(n)}return-1}(o,e),-1==r)throw new Error("The provided directive was not found in the application");s=Es(r,o,!1)}else if(r=Ms(o,e),-1==r)return null;const a=bn(o[r]),c=Cs(a),l=c&&!Array.isArray(c)?c:bs(o,r,a);if(i&&void 0===l.component&&(l.component=i,_s(l.component,l)),s&&void 0===l.directives){l.directives=s;for(let e=0;e<s.length;e++)_s(s[e],l)}_s(l.native,l),t=l}}else{const n=e;ngDevMode&&Ne(n);let o=n;for(;o=o.parentNode;){const e=Cs(o);if(e){let o;if(o=Array.isArray(e)?e:e.lView,!o)return null;const r=Ms(o,n);if(r>=0){const e=bn(o[r]),n=bs(o,r,e);_s(e,n),t=n;break}}}}var n;return t||null}function bs(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function ws(e){let t,n=Cs(e);if(Array.isArray(n)){const o=Is(n,e);t=Mn(o,n);const r=bs(n,o,t[0]);r.component=e,_s(e,r),_s(r.native,r)}else{const e=n;t=Mn(e.nodeIndex,e.lView)}return t}function _s(e,t){ngDevMode&&Ae(e,"Target expected"),e.__ngContext__=t}function Cs(e){return ngDevMode&&Ae(e,"Target expected"),e.__ngContext__||null}function Ds(e){const t=Cs(e);return t?Array.isArray(t)?t:t.lView:null}function Ms(e,t){const n=e[1];for(let o=Ot;o<n.bindingStartIndex;o++)if(bn(e[o])===t)return o;return-1}function xs(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Is(e,t){const n=e[1].components;if(n)for(let o=0;o<n.length;o++){const r=n[o];if(Mn(r,e)[8]===t)return r}else if(Mn(Ot,e)[8]===t)return Ot;return-1}function Es(e,t,n){const o=t[1].data[e];let r=o.directiveStart;if(0==r)return ct;const i=o.directiveEnd;return!n&&2&o.flags&&r++,t.slice(r,i)}function Ts(e){return e.ngOriginalError}function Ss(e,...t){e.error(...t)}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(cs||(cs={}));class Os{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(e){return e&&e.ngErrorLogger||Ss}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ts(e);for(;t&&Ts(t);)t=Ts(t);return t||null}}const As={name:"custom-elements"},ks={name:"no-errors-schema"},Ns=/^>|^->|<!--|-->|--!>|<!-$/g,Ps=/(<|>)/;function Rs(e){return e.replace(Ns,(e=>e.replace(Ps,"​$1​")))}const js=/([A-Z])/g,Vs=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(it);function $s(e){return e.ownerDocument.defaultView}function Ls(e){return e.ownerDocument}function Fs(e){return e.ownerDocument.body}const Hs="�";function Us(e){return e instanceof Function?e():e}function Bs(e){throw new pe(-300,`Multiple components match node with tagname ${e.value}`)}function Ws(e,t,n,o,r){const[i,s,...a]=o.split(Hs);let c=s,l=s;for(let o=0;o<a.length;o++){const i=t+o;c+=`${e[i]}${a[o]}`,l+=`${i===n?r:e[i]}${a[o]}`}return{propName:i,oldValue:c,newValue:l}}var qs;let zs;function Ks(e,t){return zs(e,t)}function Js(e){ngDevMode&&Kt(e);const t=e[3];return Pt(t)?t[3]:t}function Gs(e){const t=function(e){ngDevMode&&Ae(e,"component");let t=Nt(e)?e:Ds(e);for(;t&&!(512&t[2]);)t=Js(t);return ngDevMode&&Kt(t),t}(e);return ngDevMode&&Ae(t[8],"RootView has no context. Perhaps it is disconnected?"),t[8]}function Zs(e){return Ys(e[13])}function Qs(e){return Ys(e[4])}function Ys(e){for(;null!==e&&!Pt(e);)e=e[4];return e}function Xs(e,t,n,o,r){if(null!=o){let i,s=!1;Pt(o)?i=o:Nt(o)&&(s=!0,ngDevMode&&Ae(o[0],"HOST must be defined for a component LView"),o=o[0]);const a=bn(o);ngDevMode&&!mn(t)&&Ne(a),0===e&&null!==n?null==r?fa(t,n,a):ua(t,n,a,r||null,!0):1===e&&null!==n?ua(t,n,a,r||null,!0):2===e?Da(t,a,s):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(a)),null!=i&&function(e,t,n,o,r){ngDevMode&&qt(n);const i=n[7];i!==bn(n)&&Xs(t,e,o,i,r);for(let r=kt;r<n.length;r++){const s=n[r];xa(s[1],s,e,t,o,i)}}(t,e,i,n,r)}}function ea(e,t){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,mn(e)?e.createText(t):e.createTextNode(t)}function ta(e,t,n){ngDevMode&&ngDevMode.rendererSetText++,mn(e)?e.setValue(t,n):t.textContent=n}function na(e,t){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(Rs(t))}function oa(e,t,n){if(ngDevMode&&ngDevMode.rendererCreateElement++,mn(e))return e.createElement(t,n);{const o=null!==n?function(e){const t=e.toLowerCase();return t===fn?"http://www.w3.org/2000/svg":t===dn?"http://www.w3.org/1998/MathML/":null}(n):null;return null===o?e.createElement(t):e.createElementNS(o,t)}}function ra(e,t){ngDevMode&&qt(e),ngDevMode&&Ae(e[9],"A projected view should belong to a non-empty projected views collection");const n=e[9],o=n.indexOf(t),r=t[3];ngDevMode&&qt(r),1024&t[2]&&(t[2]&=-1025,Sn(r,-1)),n.splice(o,1)}function ia(e,t){if(e.length<=kt)return;const n=kt+t,o=e[n];if(o){const i=o[17];null!==i&&i!==e&&ra(i,o),t>0&&(e[n-1][4]=o[4]);const s=Ir(e,kt+t);xa(o[1],r=o,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),o[3]=null,o[4]=null,o[2]&=-129}var r;return o}function sa(e,t){if(!(256&t[2])){const n=t[11];mn(n)&&n.destroyNode&&xa(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return aa(e[1],e);for(;t;){let n=null;if(Nt(t))n=t[13];else{ngDevMode&&qt(t);const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Nt(t)&&aa(t[1],t),t=t[3];null===t&&(t=e),Nt(t)&&aa(t[1],t),n=t&&t[4]}t=n}}(t)}}function aa(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const o=t[n[e]];if(!(o instanceof Mo)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=o[t[e]],r=t[e+1];un(4,n,r);try{r.call(n)}finally{un(5,n,r)}}else{un(4,o,t);try{t.call(o)}finally{un(5,o,t)}}}}}(e,t),function(e,t){const n=e.cleanup,o=t[7];let r=-1;if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const i=n[e+1],s="function"==typeof i?i(t):bn(t[i]),a=o[r=n[e+2]],c=n[e+3];"boolean"==typeof c?s.removeEventListener(n[e],a,c):c>=0?o[r=c]():o[r=-c].unsubscribe(),e+=2}else{const t=o[r=n[e+1]];n[e].call(t)}if(null!==o){for(let e=r+1;e<o.length;e++){const t=o[e];ngDevMode&&(s="Expecting instance cleanup function.","function"!=typeof(i=t)&&ke(s,null===i?"null":typeof i,"function","===")),t()}t[7]=null}var i,s}(e,t),1===t[1].type&&mn(t[11])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[11].destroy());const n=t[17];if(null!==n&&Pt(t[3])){n!==t[3]&&ra(n,t);const o=t[19];null!==o&&o.detachView(e)}}}function ca(e,t,n){return la(e,t.parent,n)}function la(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];if(ngDevMode&&Io(o,7),2&o.flags){ngDevMode&&Lt(o,n);const t=e.data[o.directiveStart].encapsulation;if(t===Xe.None||t===Xe.Emulated)return null}return _n(o,n)}function ua(e,t,n,o,r){ngDevMode&&ngDevMode.rendererInsertBefore++,mn(e)?e.insertBefore(t,n,o,r):t.insertBefore(n,o,r)}function fa(e,t,n){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&Ae(t,"parent node must be defined"),mn(e)?e.appendChild(t,n):t.appendChild(n)}function da(e,t,n,o,r){null!==o?ua(e,t,n,o,r):fa(e,t,n)}function pa(e,t){return mn(e)?e.parentNode(t):t.parentNode}function ha(e,t,n){return ma(e,t,n)}function ga(e,t,n){return 40&e.type?_n(e,n):null}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(qs||(qs={}));let ya,ma=ga;function va(e,t){ma=e,ya=t}function ba(e,t,n,o){const r=ca(e,o,t),i=t[11],s=ha(o.parent||t[6],o,t);if(null!=r)if(Array.isArray(n))for(let e=0;e<n.length;e++)da(i,r,n[e],s,!1);else da(i,r,n,s,!1);void 0!==ya&&ya(i,o,t,n,r)}function wa(e,t){if(null!==t){ngDevMode&&Io(t,63);const n=t.type;if(3&n)return _n(t,e);if(4&n)return Ca(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return wa(e,n);{const n=e[t.index];return Pt(n)?Ca(-1,n):bn(n)}}if(32&n)return Ks(t,e)()||bn(e[t.index]);{const n=_a(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=Js(e[16]);return ngDevMode&&Yt(t),wa(t,n)}return wa(e,t.next)}}return null}function _a(e,t){if(null!==t){const n=e[16][6],o=t.projection;return ngDevMode&&function(e,t){Ae(e[16],"Component views should exist."),Ae(e[16][6].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),n.projection[o]}return null}function Ca(e,t){const n=kt+e+1;if(n<t.length){const e=t[n],o=e[1].firstChild;if(null!==o)return wa(e,o)}return t[7]}function Da(e,t,n){ngDevMode&&ngDevMode.rendererRemoveNode++;const o=pa(e,t);o&&function(e,t,n,o){mn(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}function Ma(e,t,n,o,r,i,s){for(;null!=n;){ngDevMode&&Lt(n,o),ngDevMode&&Io(n,63);const a=o[n.index],c=n.type;if(s&&0===t&&(a&&_s(bn(a),o),n.flags|=4),64!=(64&n.flags))if(8&c)Ma(e,t,n.child,o,r,i,!1),Xs(t,e,r,a,i);else if(32&c){const s=Ks(n,o);let c;for(;c=s();)Xs(t,e,r,c,i);Xs(t,e,r,a,i)}else 16&c?Ia(e,t,o,n,r,i):(ngDevMode&&Io(n,7),Xs(t,e,r,a,i));n=s?n.projectionNext:n.next}}function xa(e,t,n,o,r,i){Ma(n,o,e.firstChild,t,r,i,!1)}function Ia(e,t,n,o,r,i){const s=n[16],a=s[6];ngDevMode&&De(typeof o.projection,"number","expecting projection index");const c=a.projection[o.projection];if(Array.isArray(c))for(let n=0;n<c.length;n++)Xs(t,e,r,c[n],i);else Ma(e,t,c,s[3],r,i,!0)}function Ea(e,t,n){ngDevMode&&Ce(n,"'newValue' should be a string"),mn(e)?e.setAttribute(t,"style",n):t.style.cssText=n,ngDevMode&&ngDevMode.rendererSetStyle++}function Ta(e,t,n){ngDevMode&&Ce(n,"'newValue' should be a string"),mn(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n,ngDevMode&&ngDevMode.rendererSetClassName++}function Sa(e,t,n){ngDevMode&&Me(t,"",'can not look for "" string.');let o=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===o||e.charCodeAt(r+n)<=32)return r}n=r+1}}const Oa="ng-template";function Aa(e,t,n){ngDevMode&&De(t,t.toLowerCase(),"Class name expected to be lowercase.");let o=0;for(;o<e.length;){let r=e[o++];if(n&&"class"===r){if(r=e[o],-1!==Sa(r.toLowerCase(),t,0))return!0}else if(1===r){for(;o<e.length&&"string"==typeof(r=e[o++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function ka(e){return 4===e.type&&e.value!==Oa}function Na(e,t,n){return t===(4!==e.type||n?e.value:Oa)}function Pa(e,t,n){ngDevMode&&Ae(t[0],"Selector should have a tag name");let o=4;const r=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(To(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&o){if(o=2|1&o,""!==c&&!Na(e,c,n)||""===c&&1===t.length){if(Ra(o))return!1;s=!0}}else{const l=8&o?c:t[++a];if(8&o&&null!==e.attrs){if(!Aa(e.attrs,l,n)){if(Ra(o))return!1;s=!0}continue}const u=ja(8&o?"class":c,r,ka(e),n);if(-1===u){if(Ra(o))return!1;s=!0;continue}if(""!==l){let e;u>i?e="":(ngDevMode&&Me(r[u],0,"We do not match directives on namespaced attributes"),e=r[u+1].toLowerCase());const t=8&o?e:null;if(t&&-1!==Sa(t,l,0)||2&o&&l!==e){if(Ra(o))return!1;s=!0}}}}else{if(!s&&!Ra(o)&&!Ra(c))return!1;if(s&&Ra(c))continue;s=!1,o=c|1&o}}return Ra(o)||s}function Ra(e){return 0==(1&e)}function ja(e,t,n,o){if(null===t)return-1;let r=0;if(o||!n){let n=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)n=!0;else{if(1===o||2===o){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Va(e,t,n=!1){for(let o=0;o<t.length;o++)if(Pa(e,t[o],n))return!0;return!1}function $a(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let t=0;t<e.length;t++)if(e[t]!==o[t])continue e;return!0}}return!1}function La(e,t){return e?":not("+t.trim()+")":t}function Fa(e){let t=e[0],n=1,o=2,r="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&o){const t=e[++n];r+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""===r||Ra(s)||(t+=La(i,r),r=""),o=s,i=i||!Ra(o);n++}return""!==r&&(t+=La(i,r)),t}const Ha="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function Ua(e){ngDevMode&&Se(e,0,"Can only advance forward"),Ba(Rn(),Pn(),uo()+e,Bn())}function Ba(e,t,n,o){if(ngDevMode&&function(e,t){const n=e[1];Qt(Ot,n.bindingStartIndex,t)}(t,n),!o)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&vo(t,o,n)}else{const o=e.preOrderHooks;null!==o&&bo(t,o,0,n)}fo(n)}function Wa(e){if(!ngDevMode)throw new Error("Looks like we are in 'prod mode', but we are creating a named Array type, which is wrong! Check your code");try{return function(...e){if("undefined"==typeof ngDevMode)throw new Error("newTrustedFunctionForDev should never be called in production");if(!it.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=it.eval((o=t,pi()?.createScript(o)||o));var o;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(it))}("Array",`return class ${e} extends Array{}`)(Array)}catch(e){return Array}}function qa(e,t){return ngDevMode&&_e(e,0,32767),ngDevMode&&_e(t,0,32767),e<<17|t<<2}function za(e){return ngDevMode&&we(e,"expected number"),e>>17&32767}function Ka(e){return ngDevMode&&we(e,"expected number"),2==(2&e)}function Ja(e){return ngDevMode&&we(e,"expected number"),2|e}function Ga(e){return ngDevMode&&we(e,"expected number"),(131068&e)>>2}function Za(e,t){return ngDevMode&&we(e,"expected number"),ngDevMode&&_e(t,0,32767),-131069&e|t<<2}function Qa(e){return ngDevMode&&we(e,"expected number"),1==(1&e)}function Ya(e){return ngDevMode&&we(e,"expected number"),1|e}function Xa(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{value:t,enumerable:!1})}function ec(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:t,enumerable:!1})}let tc,nc,oc,rc,ic;class sc extends Array{}class ac extends Array{}class cc extends Array{}function lc(e){if(null==e)return"";const t=e.lastIndexOf("_Template");return"_"+(-1===t?e:e.substr(0,t))}function uc(e,t){const n=e.tView_.data,o=[],r=t?e.classBindings:e.styleBindings,i=za(r),s=Ga(r);let a=0!==s,c=a?s:i;for(;0!==c;){const e=n[c],t=n[c+1];o.unshift({key:e,index:c,isTemplate:a,prevDuplicate:Ka(t),nextDuplicate:Qa(t),nextIndex:Ga(t),prevIndex:za(t)}),c===i&&(a=!1),c=za(t)}return o.push((t?e.residualClasses:e.residualStyles)||null),o}function fc(e,t){for(;e;)t.push(e.template_),e=e.next}class dc extends Array{}let pc;class hc extends Array{}class gc extends Array{}class yc extends Array{}class mc extends Array{}class vc extends Array{}class bc extends Array{}class wc extends Array{}function _c(e){if(e){const t=e.debug;return Ae(t,"Object does not have a debug representation."),t}return e}function Cc(e,t=!1){const n=bn(e);if(n)switch(n.nodeType){case Node.TEXT_NODE:return n.textContent;case Node.COMMENT_NODE:return`\x3c!--${n.textContent}--\x3e`;case Node.ELEMENT_NODE:const e=n.outerHTML;if(t)return e;{const t=">"+n.innerHTML+"<";return e.split(t)[0]+">"}}return null}class Dc{constructor(e){this._raw_lView=e}get flags(){const e=this._raw_lView[2];return{__raw__flags__:e,initPhaseState:3&e,creationMode:!!(4&e),firstViewPass:!!(8&e),checkAlways:!!(16&e),dirty:!!(64&e),attached:!!(128&e),destroyed:!!(256&e),isRoot:!!(512&e),indexWithinInitPhase:e>>11}}get parent(){return _c(this._raw_lView[3])}get hostHTML(){return Cc(this._raw_lView[0],!0)}get html(){return(this.nodes||[]).map(Mc).join("")}get context(){return this._raw_lView[8]}get nodes(){const e=this._raw_lView;return Ic(e[1].firstChild,e)}get template(){return this.tView.template_}get tView(){return this._raw_lView[1]}get cleanup(){return this._raw_lView[7]}get injector(){return this._raw_lView[9]}get rendererFactory(){return this._raw_lView[10]}get renderer(){return this._raw_lView[11]}get sanitizer(){return this._raw_lView[12]}get childHead(){return _c(this._raw_lView[13])}get next(){return _c(this._raw_lView[4])}get childTail(){return _c(this._raw_lView[14])}get declarationView(){return _c(this._raw_lView[15])}get queries(){return this._raw_lView[19]}get tHost(){return this._raw_lView[6]}get decls(){return xc(this.tView,this._raw_lView,Ot,this.tView.bindingStartIndex)}get vars(){return xc(this.tView,this._raw_lView,this.tView.bindingStartIndex,this.tView.expandoStartIndex)}get expando(){return xc(this.tView,this._raw_lView,this.tView.expandoStartIndex,this._raw_lView.length)}get childViews(){const e=[];let t=this.childHead;for(;t;)e.push(t),t=t.next;return e}}function Mc(e){if("ElementContainer"===e.type)return(e.children||[]).map(Mc).join("");if("IcuContainer"===e.type)throw new Error("Not implemented");return Cc(e.native,!0)||""}function xc(e,t,n,o){let r=[];for(let i=n;i<o;i++)r.push({index:i,t:e.data[i],l:t[i]});return{start:n,end:o,length:o-n,content:r}}function Ic(e,t){if(e){const n=[];let o=e;for(;o;)n.push(Ec(o,t)),o=o.next;return n}return[]}function Ec(e,t){const n=bn(t[e.index]),o=[],r=[],i=t[1];for(let n=e.directiveStart;n<e.directiveEnd;n++){const e=i.data[n];o.push(e.type),r.push(t[n])}return{html:Cc(n),type:xo(e.type),tNode:e,native:n,children:Ic(e.child,t),factories:o,instances:r,injector:Tc(e,i,t),get injectorResolutionPath(){return e.debugNodeInjectorPath(t)}}}function Tc(e,t,n){const o=[];for(let n=e.providerIndexStart_;n<e.providerIndexEnd_;n++)o.push(t.data[n]);const r=[];for(let n=e.providerIndexEnd_;n<e.directiveEnd;n++)r.push(t.data[n]);return{bloom:Oc(n,e.injectorIndex),cumulativeBloom:Oc(t.data,e.injectorIndex),providers:r,viewProviders:o,parentInjectorIndex:n[e.providerIndexStart_-1]}}function Sc(e,t){const n=e[t];if("number"!=typeof n)return"????????";const o="00000000"+n.toString(2);return o.substring(o.length-8)}function Oc(e,t){return t<0?"NO_NODE_INJECTOR":`${Sc(e,t+7)}_${Sc(e,t+6)}_${Sc(e,t+5)}_${Sc(e,t+4)}_${Sc(e,t+3)}_${Sc(e,t+2)}_${Sc(e,t+1)}_${Sc(e,t+0)}`}class Ac{constructor(e){this._raw_lContainer=e}get hasTransplantedViews(){return this._raw_lContainer[2]}get views(){return this._raw_lContainer.slice(kt).map(_c)}get parent(){return _c(this._raw_lContainer[3])}get movedViews(){return this._raw_lContainer[9]}get host(){return this._raw_lContainer[0]}get native(){return this._raw_lContainer[7]}get next(){return _c(this._raw_lContainer[4])}}const kc=Promise.resolve(null);function Nc(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const r=n[o],i=n[o+1];if(-1!==i){const n=e.data[i];ngDevMode&&Ae(n,"DirectiveDef not found."),ngDevMode&&Ae(n.contentQueries,"contentQueries function should be defined"),to(r),n.contentQueries(2,t[i],i)}}}function Pc(e,t,n,o,r,i,s,a,c,l){const u=ngDevMode?function(e){return function(e,t){switch(e){case 0:return void 0===oc&&(oc=new sc),oc;case 1:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===rc&&(rc=new ac),rc;void 0===tc&&(tc=new Map);let e=tc.get(t);return void 0===e&&(e=new(Wa("LComponentView"+lc(t))),tc.set(t,e)),e;case 2:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===ic&&(ic=new cc),ic;void 0===nc&&(nc=new Map);let n=nc.get(t);return void 0===n&&(n=new(Wa("LEmbeddedView"+lc(t))),nc.set(t,n)),n}}(e.type,e.template&&e.template.name).concat(e.blueprint)}(t):t.blueprint.slice();return u[0]=r,u[2]=140|o,Tn(u),ngDevMode&&t.declTNode&&e&&Lt(t.declTNode,e),u[3]=u[15]=e,u[8]=n,u[10]=s||e&&e[10],ngDevMode&&Ae(u[10],"RendererFactory is required"),u[11]=a||e&&e[11],ngDevMode&&Ae(u[11],"Renderer is required"),u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=i,ngDevMode&&De(2!=t.type||null!==e,!0,"Embedded views must have parentLView"),u[16]=2==t.type?e[16]:u,ngDevMode&&function(e){Xa(e,new Dc(e))}(u),u}function Rc(e,t,n,o,r){ngDevMode&&0!==t&&Oe(t,Ot,"TNodes can't be in the LView header."),ngDevMode&&function(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&ke(`Expected TNodeType to have only a single type selected, but got ${xo(e)}.`)}(n);let i=e.data[t];if(null===i)i=jc(e,t,n,o,r),On.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=o,i.attrs=r;const s=Ln();i.injectorIndex=null===s?-1:s.injectorIndex,ngDevMode&&Ft(i,e),ngDevMode&&De(t,i.index,"Expecting same index")}return Fn(i,!0),i}function jc(e,t,n,o,r){const i=$n(),s=Hn(),a=s?i:i&&i.parent,c=e.data[t]=function(e,t,n,o,r,i){ngDevMode&&0!==o&&Oe(o,Ot,"TNodes can't be in the LView header."),ngDevMode&&Ie(i,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&t&&Ft(t,e);let s=t?t.injectorIndex:-1;const a=ngDevMode?new class{constructor(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v,b,w,_,C,D,M,x,I,E,T,S,O,A){this.tView_=e,this.type=t,this.index=n,this.insertBeforeIndex=o,this.injectorIndex=r,this.directiveStart=i,this.directiveEnd=s,this.directiveStylingLast=a,this.propertyBindings=c,this.flags=l,this.providerIndexes=u,this.value=f,this.attrs=d,this.mergedAttrs=p,this.localNames=h,this.initialInputs=g,this.inputs=y,this.outputs=m,this.tViews=v,this.next=b,this.projectionNext=w,this.child=_,this.parent=C,this.projection=D,this.styles=M,this.stylesWithoutHost=x,this.residualStyles=I,this.classes=E,this.classesWithoutHost=T,this.residualClasses=S,this.classBindings=O,this.styleBindings=A}debugNodeInjectorPath(e){const t=[];let n=Fo(this,e);if(-1===n){const t=Ho(this,e);t!==Do&&(n=No(t),e=Po(t,e))}for(;-1!==n;){ngDevMode&&Xt(e,n);const o=e[1].data[n+8];t.push(Ec(o,e));const r=e[n+8];r===Do?n=-1:(n=No(r),e=Po(r,e))}return t}get type_(){return xo(this.type)||`TNodeType.?${this.type}?`}get flags_(){const e=[];return 16&this.flags&&e.push("TNodeFlags.hasClassInput"),8&this.flags&&e.push("TNodeFlags.hasContentQuery"),32&this.flags&&e.push("TNodeFlags.hasStyleInput"),128&this.flags&&e.push("TNodeFlags.hasHostBindings"),2&this.flags&&e.push("TNodeFlags.isComponentHost"),1&this.flags&&e.push("TNodeFlags.isDirectiveHost"),64&this.flags&&e.push("TNodeFlags.isDetached"),4&this.flags&&e.push("TNodeFlags.isProjected"),e.join("|")}get template_(){if(1&this.type)return this.value;const e=[],t="string"==typeof this.value&&this.value||this.type_;if(e.push("<",t),this.flags&&e.push(" ",this.flags_),this.attrs)for(let t=0;t<this.attrs.length;){const n=this.attrs[t++];if("number"==typeof n)break;const o=this.attrs[t++];e.push(" ",n,'="',o,'"')}return e.push(">"),fc(this.child,e),e.push("</",t,">"),e.join("")}get styleBindings_(){return uc(this,!1)}get classBindings_(){return uc(this,!0)}get providerIndexStart_(){return 1048575&this.providerIndexes}get providerIndexEnd_(){return this.providerIndexStart_+(this.providerIndexes>>>20)}}(e,n,o,null,s,-1,-1,-1,null,0,0,r,i,null,null,void 0,null,null,null,null,null,null,t,null,null,null,void 0,null,null,void 0,0,0):{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return ngDevMode&&Object.seal(a),a}(e,a,n,t,o,r);return null===e.firstChild&&(e.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}function Vc(e,t,n,o){if(0===n)return-1;ngDevMode&&(Jt(e),xe(e,t[1],"`LView` must be associated with `TView`!"),De(e.data.length,t.length,"Expecting LView to be same size as TView"),De(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),Gt(e));const r=t.length;for(let r=0;r<n;r++)t.push(o),e.blueprint.push(o),e.data.push(null);return r}function $c(e,t,n){ngDevMode&&De(xn(t),!0,"Should be run in creation mode"),ro(t);try{const o=e.viewQuery;null!==o&&Cl(1,o,n);const r=e.template;null!==r&&Hc(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Nc(e,t),e.staticViewQueries&&Cl(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)yl(e,t[n])}(t,i)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[2]&=-5,lo()}}function Lc(e,t,n,o){ngDevMode&&De(xn(t),!1,"Should be run in update mode");const r=t[2];if(256==(256&r))return;ro(t);const i=Bn();try{Tn(t),Kn(e.bindingStartIndex),null!==n&&Hc(e,t,n,2,o);const s=3==(3&r);if(!i)if(s){const n=e.preOrderCheckHooks;null!==n&&vo(t,n,null)}else{const n=e.preOrderHooks;null!==n&&bo(t,n,0,null),wo(t,0)}if(function(e){for(let t=Zs(e);null!==t;t=Qs(t)){if(!t[2])continue;const e=t[9];ngDevMode&&Ae(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let t=0;t<e.length;t++){const n=e[t],o=n[3];ngDevMode&&qt(o),0==(1024&n[2])&&Sn(o,1),n[2]|=1024}}}(t),function(e){for(let t=Zs(e);null!==t;t=Qs(t))for(let e=kt;e<t.length;e++){const n=t[e],o=n[1];ngDevMode&&Ae(o,"TView must be allocated"),In(n)&&Lc(o,n,o.template,n[8])}}(t),null!==e.contentQueries&&Nc(e,t),!i)if(s){const n=e.contentCheckHooks;null!==n&&vo(t,n)}else{const n=e.contentHooks;null!==n&&bo(t,n,1),wo(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const o=n[e];if(o<0)fo(~o);else{const r=o,i=n[++e],s=n[++e];Qn(i,r),s(2,t[r])}}}finally{fo(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)hl(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Cl(2,c,o),!i)if(s){const n=e.viewCheckHooks;null!==n&&vo(t,n)}else{const n=e.viewHooks;null!==n&&bo(t,n,2),wo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Sn(t[3],-1))}finally{lo()}}function Fc(e,t,n,o){const r=t[10],i=!Bn(),s=xn(t);try{i&&!s&&r.begin&&r.begin(),s&&$c(e,t,o),Lc(e,t,n,o)}finally{i&&!s&&r.end&&r.end()}}function Hc(e,t,n,o,r){const i=uo(),s=2&o;try{fo(-1),s&&t.length>Ot&&Ba(e,t,Ot,Bn()),un(s?2:0,r),n(o,r)}finally{fo(i),un(s?3:1,r)}}function Uc(e,t,n){if(Rt(t)){const o=t.directiveStart,r=t.directiveEnd;for(let t=o;t<r;t++){const o=e.data[t];o.contentQueries&&o.contentQueries(1,n[t],t)}}}function Bc(e,t,n){An()&&(function(e,t,n,o){const r=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||$o(n,t),_s(o,t);const s=n.initialInputs;for(let o=r;o<i;o++){const i=e.data[o],a=$t(i);a&&(ngDevMode&&Io(n,3),al(t,n,i));const c=Zo(t,e,o,n);_s(c,t),null!==s&&ul(t,o-r,c,i,n,s),a&&(Mn(n.index,t)[8]=c)}}(e,t,n,_n(n,t)),128==(128&n.flags)&&function(e,t,n){const o=n.directiveStart,r=n.directiveEnd,i=(e.firstCreatePass,n.index),s=On.lFrame.currentDirectiveIndex;try{fo(i);for(let n=o;n<r;n++){const o=e.data[n],r=t[n];Yn(n),null===o.hostBindings&&0===o.hostVars&&null===o.hostAttrs||nl(o,r)}}finally{fo(-1),Yn(s)}}(e,t,n))}function Wc(e,t,n=_n){const o=t.localNames;if(null!==o){let r=t.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function qc(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=zc(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function zc(e,t,n,o,r,i,s,a,c,l){ngDevMode&&ngDevMode.tView++;const u=Ot+o,f=u+r,d=function(e,t){const n=ngDevMode?new hc:[];for(let o=0;o<t;o++)n.push(o<e?null:Ha);return n}(u,f),p="function"==typeof l?l():l,h=d[1]=ngDevMode?new class{constructor(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v,b,w,_,C,D,M,x,I,E,T,S,O,A){this.type=e,this.blueprint=t,this.template=n,this.queries=o,this.viewQuery=r,this.declTNode=i,this.data=s,this.bindingStartIndex=a,this.expandoStartIndex=c,this.hostBindingOpCodes=l,this.firstCreatePass=u,this.firstUpdatePass=f,this.staticViewQueries=d,this.staticContentQueries=p,this.preOrderHooks=h,this.preOrderCheckHooks=g,this.contentHooks=y,this.contentCheckHooks=m,this.viewHooks=v,this.viewCheckHooks=b,this.destroyHooks=w,this.cleanup=_,this.contentQueries=C,this.components=D,this.directiveRegistry=M,this.pipeRegistry=x,this.firstChild=I,this.schemas=E,this.consts=T,this.incompleteFirstPass=S,this._decls=O,this._vars=A}get template_(){const e=[];return fc(this.firstChild,e),e.join("")}get type_(){return At[this.type]||`TViewType.?${this.type}?`}}(e,d,n,null,a,t,(g=d,void 0===pc&&(pc=new dc),pc.concat(g)).fill(null,u),u,f,null,!0,!0,!1,!1,null,null,null,null,null,null,null,null,null,null,"function"==typeof i?i():i,"function"==typeof s?s():s,null,c,p,!1,o,r):{type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1};var g;return ngDevMode&&Object.seal(h),h}function Kc(e,t,n){if(mn(e)){const o=n===Xe.ShadowDom;return e.selectRootElement(t,o)}let o="string"==typeof t?e.querySelector(t):t;return ngDevMode&&function(e,t){if(!e)throw new Error(`Renderer: ${"string"==typeof t?"Host node with selector not found:":"Host node is required:"} [${ye(t)}]`)}(o,t),o.textContent="",o}function Jc(e,t,n,o){const r=xl(t);null===n?(ngDevMode&&Object.freeze(Il(e)),r.push(o)):(r.push(n),e.firstCreatePass&&Il(e).push(o,r.length-1))}function Gc(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const r=e[o];n.hasOwnProperty(o)?n[o].push(t,r):n[o]=[t,r]}return n}function Zc(e,t,n,o,r,i,s,a){ngDevMode&&Ie(r,Ha,"Incoming value should never be NO_CHANGE.");const c=_n(t,n);let l,u=t.inputs;if(!a&&null!=u&&(l=u[o]))Sl(e,n,l,o,r),jt(t)&&function(e,t){ngDevMode&&Kt(e);const n=Mn(t,e);16&n[2]||(n[2]|=64)}(n,t.index),ngDevMode&&function(e,t,n,o,r){if(7&n)for(let i=0;i<o.length;i+=2)Qc(e,t,n,o[i+1],r)}(n,c,t.type,l,r);else if(3&t.type){if(o="class"===(f=o)?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f,ngDevMode){if(function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new pe(306,t)}}(o),!function(e,t,n,o){return null===e.schemas||(!!(Yc(e,o.value)||n in t||So(n))||("undefined"==typeof Node||null===Node||!(t instanceof Node)))}(e,c,o,t))return void Xc(o,t);ngDevMode.rendererSetProperty++}r=null!=s?s(r,t.value||"",o):r,mn(i)?i.setProperty(c,o,r):So(o)||(c.setProperty?c.setProperty(o,r):c[o]=r)}else 12&t.type&&ngDevMode&&!Yc(e,t.value)&&Xc(o,t);var f}function Qc(e,t,n,o,r){const i=e[11];var s;s=o.replace(/[$@]/g,"_"),o=`ng-reflect-${s.replace(js,((...e)=>"-"+e[1].toLowerCase()))}`;const a=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(r);if(3&n)null==r?mn(i)?i.removeAttribute(t,o):t.removeAttribute(o):mn(i)?i.setAttribute(t,o,a):t.setAttribute(o,a);else{const e=Rs(`bindings=${JSON.stringify({[o]:a},null,2)}`);mn(i)?i.setValue(t,e):t.textContent=e}}function Yc(e,t){const n=e.schemas;if(null!==n)for(let e=0;e<n.length;e++){const o=n[e];if(o===ks||o===As&&t&&t.indexOf("-")>-1)return!0}return!1}function Xc(e,t){let n=`Can't bind to '${e}' since it isn't a known property of '${t.value}'.`;console.error(he(303,n))}function el(e,t,n,o){ngDevMode&&Jt(e);let r=!1;if(An()){const i=function(e,t,n){ngDevMode&&Jt(e),ngDevMode&&Io(n,15);const o=e.directiveRegistry;let r=null;if(o)for(let i=0;i<o.length;i++){const s=o[i];Va(n,s.selectors,!1)&&(r||(r=ngDevMode?new gc:[]),Uo($o(n,t),e,s.type),$t(s)?(ngDevMode&&(Io(n,2,`"${n.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${ae(s.type)} component.`),2&n.flags&&Bs(n)),ol(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===o?null:{"":-1};if(null!==i){r=!0,il(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,c=Vc(e,t,i.length,null);ngDevMode&&xe(c,n.directiveStart,"TNode.directiveStart should point to just allocated space");for(let r=0;r<i.length;r++){const l=i[r];n.mergedAttrs=Oo(n.mergedAttrs,l.hostAttrs),sl(e,n,t,c,l),rl(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),o=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){ngDevMode&&Jt(e);const n=t.directiveStart,o=t.directiveEnd,r=e.data,i=t.attrs,s=ngDevMode?new vc:[];let a=null,c=null;for(let e=n;e<o;e++){const n=r[e],o=n.inputs,l=null===i||ka(t)?null:fl(o,i);s.push(l),a=Gc(o,e,a),c=Gc(n.outputs,e,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}(e,n)}s&&function(e,t,n){if(t){const o=e.localNames=ngDevMode?new mc:[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new pe(-301,ngDevMode&&`Export of name '${t[e+1]}' not found!`);o.push(t[e],r)}}}(n,o,s)}return n.mergedAttrs=Oo(n.mergedAttrs,n.attrs),r}function tl(e,t,n,o,r,i){ngDevMode&&Jt(e);const s=i.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(o,r,s)}}function nl(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ol(e,t){ngDevMode&&Jt(e),t.flags|=2,(e.components||(e.components=ngDevMode?new yc:[])).push(t.index)}function rl(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;$t(t)&&(n[""]=e)}}function il(e,t,n){ngDevMode&&Me(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function sl(e,t,n,o,r){ngDevMode&&Oe(o,Ot,"Must be in Expando section"),e.data[o]=r;const i=r.factory||(r.factory=en(r.type,!0)),s=new Mo(i,$t(r),null);e.blueprint[o]=s,n[o]=s,tl(e,t,0,o,Vc(e,n,r.hostVars,Ha),r)}function al(e,t,n){const o=_n(t,e),r=qc(n),i=e[10],s=ml(e,Pc(e,r,null,n.onPush?64:16,o,t,i,i.createRenderer(o,n),null,null));e[t.index]=s}function cl(e,t,n,o,r,i){ngDevMode&&(Ie(o,Ha,"Incoming value should never be NO_CHANGE."),function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new pe(306,t)}}(n),Io(e,2,`Attempted to set attribute \`${n}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const s=_n(e,t);ll(t[11],s,i,e.value,n,o,r)}function ll(e,t,n,o,r,i,s){if(null==i)ngDevMode&&ngDevMode.rendererRemoveAttribute++,mn(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const a=null==s?ge(i):s(i,o||"",r);mn(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}function ul(e,t,n,o,r,i){const s=i[t];if(null!==s){const t=o.setInput;for(let i=0;i<s.length;){const a=s[i++],c=s[i++],l=s[i++];null!==t?o.setInput(n,l,a,c):n[c]=l,ngDevMode&&Qc(e,_n(r,e),r.type,c,l)}}}function fl(e,t){let n=null,o=0;for(;o<t.length;){const r=t[o];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[o+1])),o+=2}else o+=2;else o+=4}return n}const dl=class extends Array{};function pl(e,t,n,o){ngDevMode&&Kt(t),ngDevMode&&!mn(t[11])&&Ne(n);const r=new(ngDevMode?dl:Array)(e,!0,!1,t,null,0,o,n,null,null);return ngDevMode&&De(r.length,kt,"Should allocate correct number of slots for LContainer header."),ngDevMode&&function(e){Xa(e,new Ac(e))}(r),r}function hl(e,t){ngDevMode&&De(xn(e),!1,"Should be run in update mode");const n=Mn(t,e);if(In(n)){const e=n[1];80&n[2]?Lc(e,n,e.template,n[8]):n[5]>0&&gl(n)}}function gl(e){for(let t=Zs(e);null!==t;t=Qs(t))for(let e=kt;e<t.length;e++){const n=t[e];if(1024&n[2]){const e=n[1];ngDevMode&&Ae(e,"TView must be allocated"),Lc(e,n,e.template,n[8])}else n[5]>0&&gl(n)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const o=Mn(t[n],e);In(o)&&o[5]>0&&gl(o)}}function yl(e,t){ngDevMode&&De(xn(e),!0,"Should be run in creation mode");const n=Mn(t,e),o=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n),$c(o,n,n[8])}function ml(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function vl(e){for(;e;){e[2]|=64;const t=Js(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function bl(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=Ds(n),r=o[1];Fc(r,o,r.template,n)}}function wl(e,t,n){const o=t[10];o.begin&&o.begin();try{Lc(e,t,e.template,n)}catch(e){throw Tl(t,e),e}finally{o.end&&o.end()}}function _l(e){bl(e[8])}function Cl(e,t,n){ngDevMode&&Ae(t,"View queries function to execute must be defined."),to(0),t(e,n)}function Dl(e,t,n,o,...r){if(null===e[o]&&(null==t.inputs||!t.inputs[n])){(t.propertyBindings||(t.propertyBindings=[])).push(o);let i=n;r.length>0&&(i+=Hs+r.join(Hs)),e[o]=i}}const Ml=kc;function xl(e){return e[7]||(e[7]=ngDevMode?new bc:[])}function Il(e){return e.cleanup||(e.cleanup=ngDevMode?new wc:[])}function El(e,t,n){return(null===e||$t(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Tl(e,t){const n=e[9],o=n?n.get(Os,null):null;o&&o.handleError(t)}function Sl(e,t,n,o,r){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],c=t[s];ngDevMode&&Pe(t,s);const l=e.data[s];null!==l.setInput?l.setInput(c,r,o,a):c[a]=r}}function Ol(e,t,n){ngDevMode&&Ce(n,"Value should be a string"),ngDevMode&&Ie(n,Ha,"value should not be NO_CHANGE"),ngDevMode&&Pe(e,t);const o=wn(t,e);ngDevMode&&Ae(o,"native element should exist"),ta(e[11],o,n)}function Al(e,t,n){ngDevMode&&Jt(Rn(),"Expecting to be called in first template pass only");let o=n?e.styles:null,r=n?e.classes:null,i=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];"number"==typeof n?i=n:1==i?r=ce(r,n):2==i&&(o=ce(o,n+": "+t[++e]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=r:e.classesWithoutHost=r}function kl(e){const t=ws(e);wl(t[1],t,e)}function Nl(e){ngDevMode&&Ae(e,"component");const t=vl(ws(e));ngDevMode&&Ae(t[8],"rootContext should be defined"),function(e,t){if(0===e.flags&&e.clean==kc){let t;e.flags|=1,e.clean=new Promise((e=>t=e)),e.scheduler((()=>{if(1&e.flags&&(e.flags&=-2,bl(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=kc,t(null)}))}}(t[8])}const Pl=new fr("INJECTOR",-1);class Rl{get(e,t=$r){if(t===$r){const t=new Error(`NullInjectorError: No provider for ${ae(e)}!`);throw t.name="NullInjectorError",t}return t}}const jl=new fr("Set Injector scope."),Vl={},$l={};let Ll;function Fl(){return void 0===Ll&&(Ll=new Rl),Ll}function Hl(e,t=null,n=null,o){const r=Ul(e,t,n,o);return r._resolveInjectorDefTypes(),r}function Ul(e,t=null,n=null,o){return new Bl(e,n,t||Fl(),o)}class Bl{constructor(e,t,n,o=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&Mr(t,(n=>this.processProvider(n,e,t))),Mr([e],(e=>this.processInjectorType(e,[],r))),this.records.set(Pl,zl(void 0,this));const i=this.records.get(jl);this.scope=null!=i?i.value:null,this.source=o||("object"==typeof e?null:ae(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((e=>e.ngOnDestroy()))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=$r,n=ze.Default){this.assertNotDestroyed();const o=Br(this),r=Je(void 0);try{if(!(n&ze.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof fr)&&Le(e);t=n&&this.injectableDefInScope(n)?zl(Wl(e),Vl):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const s=n&ze.Self?Fl():this.parent;return t=n&ze.Optional&&t===$r?null:t,s.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(ae(e)),o)throw t;return function(e,t,n,o){const r=e.ngTempTokenPath;throw t[Fr]&&r.unshift(t[Fr]),e.message=function(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.substr(2):e;let r=ae(t);if(Array.isArray(t))r=t.map(ae).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let o=t[n];e.push(n+":"+("string"==typeof o?JSON.stringify(o):ae(o)))}r=`{${e.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${e.replace(Lr,"\n  ")}`}("\n"+e.message,r,n,o),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{Je(r),Br(o)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach((e=>this.get(e)))}toString(){const e=[];return this.records.forEach(((t,n)=>e.push(ae(n)))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,ngDevMode&&"Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=fe(e)))return!1;let o=He(e);const r=null==o&&e.ngModule||void 0,i=void 0===r?e:r;ngDevMode&&-1!==t.indexOf(i)&&me(ae(i),t.map(ae));const s=-1!==n.indexOf(i);if(void 0!==r&&(o=He(r)),null==o)return!1;if(null!=o.imports&&!s){let e;ngDevMode&&t.push(i),n.push(i);try{Mr(o.imports,(o=>{this.processInjectorType(o,t,n)&&(void 0===e&&(e=[]),e.push(o))}))}finally{ngDevMode&&t.pop()}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:o}=e[t];Mr(o,(e=>this.processProvider(e,n,o||ct)))}}this.injectorDefTypes.add(i);const a=en(i)||(()=>new i);this.records.set(i,zl(a,Vl));const c=o.providers;if(null!=c&&!s){const t=e;Mr(c,(e=>this.processProvider(e,t,c)))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let o=Jl(e=fe(e))?e:fe(e&&e.provide);const r=function(e,t,n){return Kl(e)?zl(void 0,e.useValue):zl(ql(e,t,n),Vl)}(e,t,n);if(Jl(e)||!0!==e.multi){const e=this.records.get(o);ngDevMode&&e&&void 0!==e.multi&&ve()}else{let t=this.records.get(o);t?ngDevMode&&void 0===t.multi&&ve():(t=zl(void 0,Vl,!0),t.factory=()=>Jr(t.multi),this.records.set(o,t)),o=e,t.multi.push(e)}this.records.set(o,r)}hydrate(e,t){var n;return ngDevMode&&t.value===$l?me(ae(e)):t.value===Vl&&(t.value=$l,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=fe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Wl(e){const t=Le(e),n=null!==t?t.factory:en(e);if(null!==n)return n;if(e instanceof fr)throw new pe(204,ngDevMode&&`Token ${ae(e)} is missing a ɵprov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Er(t,"?");throw new pe(204,ngDevMode&&`Can't resolve all parameters for ${ae(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[Ue]||e[We]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new pe(204,ngDevMode&&"unreachable")}function ql(e,t,n){let o;if(Jl(e)){const t=fe(e);return en(t)||Wl(t)}if(Kl(e))o=()=>fe(e.useValue);else if((r=e)&&r.useFactory)o=()=>e.useFactory(...Jr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>qr(fe(e.useExisting));else{const r=fe(e&&(e.useClass||e.provide));if(ngDevMode&&!r&&function(e,t,n){let o="";throw e&&t&&(o=` - only instances of Provider and Type are allowed, got: [${t.map((e=>e==n?"?"+n+"?":"...")).join(", ")}]`),new Error(`Invalid provider for the NgModule '${ae(e)}'`+o)}(t,n,e),!function(e){return!!e.deps}(e))return en(r)||Wl(r);o=()=>new r(...Jr(e.deps))}var r;return o}function zl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Kl(e){return null!==e&&"object"==typeof e&&Hr in e}function Jl(e){return"function"==typeof e}class Gl{static create(e,t){if(Array.isArray(e))return Hl({name:""},t,e,"");{const t=e.name??"";return Hl({name:t},e.parent,e.providers,t)}}}function Zl(e){su(e);const t=vs(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];let o=n.directiveStart;return 2&n.flags?t[o]:null}(t.nodeIndex,t.lView)),t.component)}function Ql(e){su(e);const t=vs(e);return null===t?null:t.lView[8]}function Yl(e){const t=vs(e);if(null===t)return null;let n,o=t.lView;for(ngDevMode&&Kt(o);2===o[1].type&&(n=Js(o));)o=n;return 512&o[2]?null:o[8]}function Xl(e){return[...Gs(e).components]}function eu(e){const t=vs(e);if(null===t)return Gl.NULL;const n=t.lView[1].data[t.nodeIndex];return new Xo(n,t.lView)}function tu(e){if(e instanceof Text)return[];const t=vs(e);if(null===t)return[];const n=t.lView,o=n[1],r=t.nodeIndex;return o?.data[r]?(void 0===t.directives&&(t.directives=Es(r,n,!1)),null===t.directives?[]:[...t.directives]):[]}function nu(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=It(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?Qe.OnPush:Qe.Default};const o=Et(t);return o?{inputs:o.inputs,outputs:o.outputs}:null}function ou(e){return vs(e).native}function ru(e){su(e);const t=vs(e);if(null===t)return[];const n=t.lView,o=n[1],r=n[7],i=o.cleanup,s=[];if(i&&r)for(let t=0;t<i.length;){const o=i[t++],a=i[t++];if("string"==typeof o){const c=o,l=bn(n[a]),u=r[i[t++]],f=i[t++],d="boolean"==typeof f||f>=0?"dom":"output",p="boolean"==typeof f&&f;e==l&&s.push({element:e,name:c,callback:u,useCapture:p,type:d})}}return s.sort(iu),s}function iu(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function su(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function au(e){Nl(e),Xl(e).forEach((e=>kl(e)))}Gl.THROW_IF_NOT_FOUND=$r,Gl.NULL=new Rl,Gl.ɵprov=je({token:Gl,providedIn:"any",factory:()=>qr(Pl)}),Gl.__NG_ELEMENT_ID__=-1;let cu=!1;function lu(){cu||(cu=!0,uu("ɵsetProfiler",ln),uu("getDirectiveMetadata",nu),uu("getComponent",Zl),uu("getContext",Ql),uu("getListeners",ru),uu("getOwningComponent",Yl),uu("getHostElement",ou),uu("getInjector",eu),uu("getRootComponents",Xl),uu("getDirectives",tu),uu("applyChanges",au))}function uu(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=it;if(ngDevMode&&Ae(t,"function not defined"),n){let o=n.ng;o||(o=n.ng={}),o[e]=t}}}function fu(e,t={}){ngDevMode&&lu(),ngDevMode&&Bt(e);const n=t.rendererFactory||vn,o=t.sanitizer||null,r=It(e);r.type!=e&&(r.type=e);const i=r.selectors[0][0],s=Kc(n.createRenderer(null,null),t.host||i,r.encapsulation),a=r.onPush?576:528,c=hu(t.scheduler,t.playerHandler),l=n.createRenderer(s,r),u=zc(0,null,null,1,0,null,null,null,null,null),f=Pc(null,u,c,a,null,null,n,l,null,t.injector||null);let d;ro(f);try{n.begin&&n.begin(),d=pu(du(s,r,f,n,l,o),r,f,c,t.hostFeatures||null),$c(u,f,null),Lc(u,f,null,null)}finally{lo(),n.end&&n.end()}return d}function du(e,t,n,o,r,i){const s=n[1];ngDevMode&&Pe(n,20),n[20]=e;const a=Rc(s,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(Al(a,c,!0),null!==e&&(Eo(r,e,c),null!==a.classes&&Ta(r,e,a.classes),null!==a.styles&&Ea(r,e,a.styles)));const l=o.createRenderer(e,t),u=Pc(n,qc(t),null,t.onPush?64:16,n[20],a,o,l,i||null,null);return s.firstCreatePass&&(Uo($o(a,n),s,t.type),ol(s,a),il(a,n.length,1)),ml(n,u),n[20]=u}function pu(e,t,n,o,r){const i=n[1],s=function(e,t,n){const o=Vn();if(e.firstCreatePass){n.providersResolver&&n.providersResolver(n);const r=Vc(e,t,1,null);ngDevMode&&De(r,o.directiveStart,"Because this is a root component the allocated expando should match the TNode component."),sl(e,o,t,r,n)}const r=Zo(t,e,o.directiveStart,o);_s(r,t);const i=_n(o,t);return i&&_s(i,t),r}(i,n,t);if(o.components.push(s),e[8]=s,r&&r.forEach((e=>e(s,t))),t.contentQueries){const e=Vn();ngDevMode&&Ae(e,"TNode expected"),t.contentQueries(1,s,e.directiveStart)}const a=Vn();return ngDevMode&&Ae(a,"tNode should have been already created"),!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(fo(a.index),tl(n[1],a,0,a.directiveStart,a.directiveEnd,t),nl(t,s)),s}function hu(e,t){return{components:[],scheduler:e||Vs,clean:Ml,playerHandler:t||null,flags:0}}function gu(e,t){const n=Ds(e);ngDevMode&&Ae(n,"LView is required");const o=n[1],r=Vn();ngDevMode&&Ae(r,"TNode is required"),mo(o,r)}function yu(e){return Gs(e).clean}function mu(e){return Object.getPrototypeOf(e.prototype).constructor}function vu(e){let t=mu(e.type),n=!0;const o=[e];for(;t;){let r;if($t(e))r=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp){const e="undefined"==typeof ngDevMode||ngDevMode?"Directives cannot inherit Components":"";throw new pe(903,e)}r=t.ɵdir}if(r){if(n){o.push(r);const t=e;t.inputs=bu(e.inputs),t.declaredInputs=bu(e.declaredInputs),t.outputs=bu(e.outputs);const n=r.hostBindings;n&&Cu(e,n);const i=r.viewQuery,s=r.contentQueries;if(i&&wu(e,i),s&&_u(e,s),se(e.inputs,r.inputs),se(e.declaredInputs,r.declaredInputs),se(e.outputs,r.outputs),$t(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let o=0;o<t.length;o++){const r=t[o];r&&r.ngInherit&&r(e),r===vu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const r=e[o];r.hostVars=t+=r.hostVars,r.hostAttrs=Oo(r.hostAttrs,n=Oo(n,r.hostAttrs))}}(o)}function bu(e){return e===at?{}:e===ct?[]:e}function wu(e,t){const n=e.viewQuery;e.viewQuery=n?(e,o)=>{t(e,o),n(e,o)}:t}function _u(e,t){const n=e.contentQueries;e.contentQueries=n?(e,o,r)=>{t(e,o,r),n(e,o,r)}:t}function Cu(e,t){const n=e.hostBindings;e.hostBindings=n?(e,o)=>{t(e,o),n(e,o)}:t}const Du=["providersResolver"],Mu=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function xu(e){let t,n=mu(e.type);t=$t(e)?n.ɵcmp:n.ɵdir;const o=e;for(const e of Du)o[e]=t[e];if($t(t))for(const e of Mu)o[e]=t[e]}let Iu=null;function Eu(){if(!Iu){const e=it.Symbol;if(e&&e.iterator)Iu=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Iu=n)}}}return Iu}function Tu(e,t){const n=Su(e),o=Su(t);if(n&&o)return function(e,t,n){const o=e[Eu()](),r=t[Eu()]();for(;;){const e=o.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Tu);{const r=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!r||o||!i)||Object.is(e,t)}}function Su(e){return!!Ou(e)&&(Array.isArray(e)||!(e instanceof Map)&&Eu()in e)}function Ou(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Au(e,t,n){return e[t]=n}function ku(e,t){return ngDevMode&&Pe(e,t),ngDevMode&&Ie(e[t],Ha,"Stored value should never be NO_CHANGE."),e[t]}function Nu(e,t,n){ngDevMode&&Ie(n,Ha,"Incoming value should never be NO_CHANGE."),ngDevMode&&Ee(t,e.length,"Slot should have been initialized to NO_CHANGE");const o=e[t];if(Object.is(o,n))return!1;if(ngDevMode&&Bn()){const r=o!==Ha?o:void 0;if(!Tu(r,n)){const i=function(e,t,n,o){const r=e[1].data,i=r[t];if("string"==typeof i)return i.indexOf(Hs)>-1?Ws(e,t,t,i,o):{propName:i,oldValue:n,newValue:o};if(null===i){let n=t-1;for(;"string"!=typeof r[n]&&null===r[n+1];)n--;const i=r[n];if("string"==typeof i){const r=i.match(new RegExp(Hs,"g"));if(r&&r.length-1>t-n)return Ws(e,n,t,i,o)}}return{propName:void 0,oldValue:n,newValue:o}}(e,t,r,n);!function(e,t,n,o){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${o?` for '${o}'`:""}: '${t}'. Current value: '${n}'.`;throw e&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new pe(-100,r)}(o===Ha,i.oldValue,i.newValue,i.propName)}return!1}return e[t]=n,!0}function Pu(e,t,n,o){const r=Nu(e,t,n);return Nu(e,t+1,o)||r}function Ru(e,t,n,o,r){const i=Pu(e,t,n,o);return Nu(e,t+2,r)||i}function ju(e,t,n,o,r,i){const s=Pu(e,t,n,o);return Pu(e,t+2,r,i)||s}function Vu(e,t,n,o){const r=Pn(),i=Jn();if(Nu(r,i,t)){const s=Rn(),a=po();cl(a,r,e,t,n,o),ngDevMode&&Dl(s.data,a,"attr."+e,i)}return Vu}function $u(e,t){ngDevMode&&Ee(2,t.length,"should have at least 3 values"),ngDevMode&&De(t.length%2,1,"should have an odd number of values");let n=!1,o=zn();for(let r=1;r<t.length;r+=2)n=Nu(e,o++,t[r])||n;if(Kn(o),!n)return Ha;let r=t[0];for(let e=1;e<t.length;e+=2)r+=ge(t[e])+t[e+1];return r}function Lu(e,t,n,o){return Nu(e,Jn(),n)?t+ge(n)+o:Ha}function Fu(e,t,n,o,r,i){const s=Pu(e,zn(),n,r);return Gn(2),s?t+ge(n)+o+ge(r)+i:Ha}function Hu(e,t,n,o,r,i,s,a){const c=Ru(e,zn(),n,r,s);return Gn(3),c?t+ge(n)+o+ge(r)+i+ge(s)+a:Ha}function Uu(e,t,n,o,r,i,s,a,c,l){const u=ju(e,zn(),n,r,s,c);return Gn(4),u?t+ge(n)+o+ge(r)+i+ge(s)+a+ge(c)+l:Ha}function Bu(e,t,n,o,r,i,s,a,c,l,u,f){const d=zn();let p=ju(e,d,n,r,s,c);return p=Nu(e,d+4,u)||p,Gn(5),p?t+ge(n)+o+ge(r)+i+ge(s)+a+ge(c)+l+ge(u)+f:Ha}function Wu(e,t,n,o,r,i,s,a,c,l,u,f,d,p){const h=zn();let g=ju(e,h,n,r,s,c);return g=Pu(e,h+4,u,d)||g,Gn(6),g?t+ge(n)+o+ge(r)+i+ge(s)+a+ge(c)+l+ge(u)+f+ge(d)+p:Ha}function qu(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g){const y=zn();let m=ju(e,y,n,r,s,c);return m=Ru(e,y+4,u,d,h)||m,Gn(7),m?t+ge(n)+o+ge(r)+i+ge(s)+a+ge(c)+l+ge(u)+f+ge(d)+p+ge(h)+g:Ha}function zu(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m){const v=zn();let b=ju(e,v,n,r,s,c);return b=ju(e,v+4,u,d,h,y)||b,Gn(8),b?t+ge(n)+o+ge(r)+i+ge(s)+a+ge(c)+l+ge(u)+f+ge(d)+p+ge(h)+g+ge(y)+m:Ha}function Ku(e,t,n,o,r,i){const s=Pn(),a=Lu(s,t,n,o);if(a!==Ha){const n=po();cl(n,s,e,a,r,i),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-1,t,o)}return Ku}function Ju(e,t,n,o,r,i,s,a){const c=Pn(),l=Fu(c,t,n,o,r,i);if(l!==Ha){const n=po();cl(n,c,e,l,s,a),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-2,t,o,i)}return Ju}function Gu(e,t,n,o,r,i,s,a,c,l){const u=Pn(),f=Hu(u,t,n,o,r,i,s,a);if(f!==Ha){const n=po();cl(n,u,e,f,c,l),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-3,t,o,i,a)}return Gu}function Zu(e,t,n,o,r,i,s,a,c,l,u,f){const d=Pn(),p=Uu(d,t,n,o,r,i,s,a,c,l);if(p!==Ha){const n=po();cl(n,d,e,p,u,f),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-4,t,o,i,a,l)}return Zu}function Qu(e,t,n,o,r,i,s,a,c,l,u,f,d,p){const h=Pn(),g=Bu(h,t,n,o,r,i,s,a,c,l,u,f);if(g!==Ha){const n=po();cl(n,h,e,g,d,p),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-5,t,o,i,a,l,f)}return Qu}function Yu(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g){const y=Pn(),m=Wu(y,t,n,o,r,i,s,a,c,l,u,f,d,p);if(m!==Ha){const n=po();cl(n,y,e,m,h,g),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-6,t,o,i,a,l,f,p)}return Yu}function Xu(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m){const v=Pn(),b=qu(v,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g);if(b!==Ha){const n=po();cl(n,v,e,b,y,m),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-7,t,o,i,a,l,f,p,g)}return Xu}function ef(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v,b){const w=Pn(),_=zu(w,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m);if(_!==Ha){const n=po();cl(n,w,e,_,v,b),ngDevMode&&Dl(Rn().data,n,"attr."+e,zn()-8,t,o,i,a,l,f,p,g,m)}return ef}function tf(e,t,n,o){const r=Pn(),i=$u(r,t);if(i!==Ha){const s=po();if(cl(s,r,e,i,n,o),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Dl(Rn().data,s,"attr."+e,zn()-n.length+1,...n)}}return tf}function nf(e,t,n,o,r,i,s,a){const c=Pn(),l=Rn(),u=e+Ot,f=l.firstCreatePass?function(e,t,n,o,r,i,s,a,c){ngDevMode&&Jt(t),ngDevMode&&ngDevMode.firstCreatePass++;const l=t.consts,u=Rc(t,e,4,s||null,En(l,a));el(t,n,u,En(l,c)),mo(t,u);const f=u.tViews=zc(2,u,o,r,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,o,r,i,s):l.data[u];Fn(f,!1);const d=c[11].createComment(ngDevMode?"container":"");ba(l,c,d,f),_s(d,c),ml(c,c[u]=pl(d,c,d,f)),Vt(f)&&Bc(l,c,f),null!=s&&Wc(c,f,a)}function of(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}function rf(e){return Dn(On.lFrame.contextLView,Ot+e)}const sf={ɵɵdefineInjectable:je,ɵɵdefineInjector:$e,ɵɵinject:qr,ɵɵinvalidFactoryDep:zr,resolveForwardRef:fe};const af=ie({provide:String,useValue:ie});function cf(e){return void 0!==e.useClass}function lf(e){return void 0!==e.useFactory}const uf=sr("Injectable",void 0,void 0,void 0,((e,t)=>function(e,t){let n=null,o=null;e.hasOwnProperty(Ue)||Object.defineProperty(e,Ue,{get:()=>{if(null===n){const o=wr({usage:0,kind:"injectable",type:e});n=o.compileInjectable(sf,`ng:///${e.name}/ɵprov.js`,function(e,t){const n=t||{providedIn:null},o={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(cf(n)||lf(n))&&void 0!==n.deps&&(o.deps=ri(n.deps)),cf(n)?o.useClass=n.useClass:function(e){return af in e}(n)?o.useValue=n.useValue:lf(n)?o.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(o.useExisting=n.useExisting),o}(e,t))}return n}}),e.hasOwnProperty(pt)||Object.defineProperty(e,pt,{get:()=>{if(null===o){const t=wr({usage:0,kind:"injectable",type:e});o=t.compileFactory(sf,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:oi(e),target:t.FactoryTarget.Injectable})}return o},configurable:!0})}(e,t)));function ff(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((e=>ae(e.token))).join(" -> ")+")":""}function df(e,t,n,o){const r=[t],i=n(r),s=o?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,o=Error(n);return o.ngOriginalError=t,o}(i,o):Error(i);return s.addKey=pf,s.keys=r,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=o,s}function pf(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function hf(e,t){const n=[];for(let e=0,o=t.length;e<o;e++){const o=t[e];o&&0!=o.length?n.push(o.map(ae).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+ae(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ae(e)+"' is decorated with Injectable.")}class gf{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=ae(this.token)}static get(e){return yf.get(fe(e))}static get numberOfKeys(){return yf.numberOfKeys}}const yf=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof gf)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new gf(e,gf.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},mf=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,o){return this.reflectionCapabilities.resolveIdentifier(e,t,n,o)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new Rr);class vf{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new vf(e,!1,null)}}const bf=[];class wf{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class _f{constructor(e,t){this.factory=e,this.dependencies=t}}function Cf(e){let t,n;if(e.useClass){const o=fe(e.useClass);t=mf.factory(o),n=If(o)}else e.useExisting?(t=e=>e,n=[vf.fromKey(gf.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map((e=>[e]));return t.map((t=>Ef(e,t,n)))}return If(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=bf);return new _f(t,n)}function Df(e){return new wf(gf.get(e.provide),[Cf(e)],e.multi||!1)}function Mf(e){const t=function(e,t){for(let n=0;n<e.length;n++){const o=e[n],r=t.get(o.key.id);if(r){if(o.multiProvider!==r.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${r} ${o}`);if(o.multiProvider)for(let e=0;e<o.resolvedFactories.length;e++)r.resolvedFactories.push(o.resolvedFactories[e]);else t.set(o.key.id,o)}else{let e;e=o.multiProvider?new wf(o.key,o.resolvedFactories.slice(),o.multiProvider):o,t.set(o.key.id,e)}}return t}(xf(e,[]).map(Df),new Map);return Array.from(t.values())}function xf(e,t){return e.forEach((e=>{if(e instanceof _r)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);xf(e,t)}})),t}function If(e){const t=mf.parameters(e);if(!t)return[];if(t.some((e=>null==e)))throw hf(e,t);return t.map((n=>Ef(e,n,t)))}function Ef(e,t,n){let o=null,r=!1;if(!Array.isArray(t))return Tf(t instanceof Zr?t.token:t,r,null);let i=null;for(let e=0;e<t.length;++e){const n=t[e];n instanceof _r?o=n:n instanceof Zr?o=n.token:n instanceof Qr?r=!0:n instanceof Yr||n instanceof Xr?i=n:n instanceof fr&&(o=n)}if(o=fe(o),null!=o)return Tf(o,r,i);throw hf(e,n)}function Tf(e,t,n){return new vf(gf.get(e),t,n)}const Sf={};class Of{static resolve(e){return Mf(e)}static resolveAndCreate(e,t){const n=Of.resolve(e);return Of.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Af(e,t)}}class Af{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let t=0;t<n;t++)this.keyIds[t]=e[t].key.id,this.objs[t]=Sf}get(e,t=$r){return this._getByKey(gf.get(e),null,t)}resolveAndCreateChild(e){const t=Of.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Af(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(Of.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,df(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${ff(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let o,r;try{o=t.dependencies.map((e=>this._getByReflectiveDependency(e)))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{r=n(...o)}catch(t){throw this,i=t,t.stack,df(this,e.key,(function(e){const t=ae(e[0].token);return`${i.message}: Error during instantiation of ${t}!${ff(e)}.`}),i)}var i;return r}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:$r)}_getByKey(e,t,n){return e===Af.INJECTOR_KEY?this:t instanceof Yr?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Sf&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Sf}_throwOrNull(e,t){if(t!==$r)return t;throw function(e,t){return df(e,t,(function(e){return`No provider for ${ae(e[0].token)}!${ff(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==Sf?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let o;for(o=n instanceof Xr?this.parent:this;o instanceof Af;){const t=o,n=t._getObjByKeyId(e.id);if(n!==Sf)return n;o=t.parent}return null!==o?o.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let t=0;t<e._providers.length;++t)n[t]=' "'+e.getProviderAtIndex(t).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}function kf(e,t=ze.Default){const n=Pn();return null===n?(ngDevMode&&(ngDevMode&&Me(Ke,kf,"Calling ɵɵinject would cause infinite recursion")),qr(e,t)):qo(Vn(),n,fe(e),t)}function Nf(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function Pf(e,t,n){const o=Pn(),r=Jn();if(Nu(o,r,t)){const i=Rn(),s=po();Zc(i,s,o,e,t,o[11],n,!1),ngDevMode&&Dl(i.data,s,e,r)}return Pf}function Rf(e,t,n,o,r){const i=r?"class":"style";Sl(e,n,t.inputs[i],i,o)}function jf(e,t,n,o){const r=Pn(),i=Rn(),s=Ot+e;ngDevMode&&De(zn(),i.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&Pe(r,s);const a=r[11],c=r[s]=oa(a,t,On.lFrame.currentNamespace),l=i.firstCreatePass?function(e,t,n,o,r,i,s){ngDevMode&&Jt(t),ngDevMode&&ngDevMode.firstCreatePass++;const a=t.consts,c=Rc(t,e,2,r,En(a,i)),l=el(t,n,c,En(a,s));return ngDevMode&&function(e,t,n,o){if(null===e.schemas)return;const r=n.value;if(!o&&null!==r&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&t instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&r.indexOf("-")>-1&&!customElements.get(r))&&!Yc(e,r)){let e=`'${r}' is not a known element:\n`;e+=`1. If '${r}' is an Angular component, then verify that it is part of this module.\n`,r&&r.indexOf("-")>-1?e+=`2. If '${r}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",console.error(he(304,e))}}(t,o,c,l),null!==c.attrs&&Al(c,c.attrs,!1),null!==c.mergedAttrs&&Al(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,r,c,t,n,o):i.data[s];Fn(l,!0);const u=l.mergedAttrs;null!==u&&Eo(a,c,u);const f=l.classes;null!==f&&Ta(a,c,f);const d=l.styles;return null!==d&&Ea(a,c,d),64!=(64&l.flags)&&ba(i,r,c,l),0===On.lFrame.elementDepthCount&&_s(c,r),On.lFrame.elementDepthCount++,Vt(l)&&(Bc(i,r,l),Uc(i,l,r)),null!==o&&Wc(r,l),jf}function Vf(){let e=Vn();ngDevMode&&Ae(e,"No parent node to close."),Hn()?Un():(ngDevMode&&Wt(Vn()),e=e.parent,Fn(e,!1));const t=e;ngDevMode&&Io(t,3),On.lFrame.elementDepthCount--;const n=Rn();return n.firstCreatePass&&(mo(n,e),Rt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Rf(n,t,Pn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Rf(n,t,Pn(),t.stylesWithoutHost,!1),Vf}function $f(e,t,n,o){return jf(e,t,n,o),Vf(),$f}function Lf(e,t,n){const o=Pn(),r=Rn(),i=e+Ot;ngDevMode&&Pe(o,i),ngDevMode&&De(zn(),r.bindingStartIndex,"element containers should be created before any bindings");const s=r.firstCreatePass?function(e,t,n,o,r){ngDevMode&&ngDevMode.firstCreatePass++;const i=t.consts,s=En(i,o),a=Rc(t,e,8,"ng-container",s);return null!==s&&Al(a,s,!0),el(t,n,a,En(i,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,r,o,t,n):r.data[i];Fn(s,!0),ngDevMode&&ngDevMode.rendererCreateComment++;const a=o[i]=o[11].createComment(ngDevMode?"ng-container":"");return ba(r,o,a,s),_s(a,o),Vt(s)&&(Bc(r,o,s),Uc(r,s,o)),null!=n&&Wc(o,s),Lf}function Ff(){let e=Vn();const t=Rn();return Hn()?Un():(ngDevMode&&Wt(e),e=e.parent,Fn(e,!1)),ngDevMode&&Io(e,8),t.firstCreatePass&&(mo(t,e),Rt(e)&&t.queries.elementEnd(e)),Ff}function Hf(e,t,n){return Lf(e,t,n),Ff(),Hf}function Uf(){return Pn()}function Bf(e){return!!e&&"function"==typeof e.then}function Wf(e){return!!e&&"function"==typeof e.subscribe}Af.INJECTOR_KEY=gf.get(Gl);const qf=Wf;function zf(e,t,n,o){const r=Pn(),i=Rn(),s=Vn();return Jf(i,r,r[11],s,e,t,!!n,o),zf}function Kf(e,t){const n=Vn(),o=Pn(),r=Rn();return Jf(r,o,El(Xn(r.data),n,o),n,e,t,!1),Kf}function Jf(e,t,n,o,r,i,s,a){const c=Vt(o),l=e.firstCreatePass&&Il(e),u=t[8],f=xl(t);ngDevMode&&Io(o,15);let d=!0;if(3&o.type||a){const p=_n(o,t),h=a?a(p):p,g=f.length,y=a?e=>a(bn(e[o.index])):o.index;if(mn(n)){let s=null;if(!a&&c&&(s=function(e,t,n,o){const r=e.cleanup;if(null!=r)for(let e=0;e<r.length-1;e+=2){const i=r[e];if(i===n&&r[e+1]===o){const n=t[7],o=r[e+2];return n.length>o?n[o]:null}"string"==typeof i&&(e+=2)}return null}(e,t,r,o.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,d=!1;else{i=Zf(o,t,u,i,!1);const e=n.listen(h,r,i);ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i,e),l&&l.push(r,y,g,g+1)}}else i=Zf(o,t,u,i,!0),h.addEventListener(r,i,s),ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i),l&&l.push(r,y,g,s)}else i=Zf(o,t,u,i,!1);const p=o.outputs;let h;if(d&&null!==p&&(h=p[r])){const e=h.length;if(e)for(let n=0;n<e;n+=2){const e=h[n];ngDevMode&&Pe(t,e);const s=h[n+1],a=t[e],c=a[s];if(ngDevMode&&!qf(c))throw new Error(`@Output ${s} not initialized in '${a.constructor.name}'.`);const u=c.subscribe(i),d=f.length;f.push(i,u),l&&l.push(r,o.index,d,-(d+1))}}}function Gf(e,t,n,o){try{return un(6,t,n),!1!==n(o)}catch(t){return Tl(e,t),!1}finally{un(7,t,n)}}function Zf(e,t,n,o,r){return function i(s){if(s===Function)return o;const a=2&e.flags?Mn(e.index,t):t;0==(32&t[2])&&vl(a);let c=Gf(t,n,o,s),l=i.__ngNextListenerFn__;for(;l;)c=Gf(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Qf(e=1){return function(e){return(On.lFrame.contextLView=function(e,t){for(;e>0;)ngDevMode&&Ae(t[15],"Declaration view should be defined if nesting level is greater than 0."),t=t[15],e--;return t}(e,On.lFrame.contextLView))[8]}(e)}function Yf(e,t){let n=null;const o=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const i=t[r];if("*"!==i){if(null===o?Va(e,i,!0):$a(o,i))return r}else n=r}return n}function Xf(e){const t=Pn()[16][6];if(!t.projection){const n=e?e.length:1,o=t.projection=Er(n,null),r=o.slice();let i=t.child;for(;null!==i;){const t=e?Yf(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:o[t]=i,r[t]=i),i=i.next}}}function ed(e,t=0,n){const o=Pn(),r=Rn(),i=Rc(r,Ot+e,16,null,n||null);null===i.projection&&(i.projection=t),Un(),64!=(64&i.flags)&&function(e,t,n){Ia(t[11],0,t,n,ca(e,n,t),ha(n.parent||t[6],n,t))}(r,o,i)}function td(e,t,n){return nd(e,"",t,"",n),td}function nd(e,t,n,o,r){const i=Pn(),s=Lu(i,t,n,o);if(s!==Ha){const n=Rn(),a=po();Zc(n,a,i,e,s,i[11],r,!1),ngDevMode&&Dl(n.data,a,e,zn()-1,t,o)}return nd}function od(e,t,n,o,r,i,s){const a=Pn(),c=Fu(a,t,n,o,r,i);if(c!==Ha){const n=Rn(),r=po();Zc(n,r,a,e,c,a[11],s,!1),ngDevMode&&Dl(n.data,r,e,zn()-2,t,o,i)}return od}function rd(e,t,n,o,r,i,s,a,c){const l=Pn(),u=Hu(l,t,n,o,r,i,s,a);if(u!==Ha){const n=Rn(),r=po();Zc(n,r,l,e,u,l[11],c,!1),ngDevMode&&Dl(n.data,r,e,zn()-3,t,o,i,a)}return rd}function id(e,t,n,o,r,i,s,a,c,l,u){const f=Pn(),d=Uu(f,t,n,o,r,i,s,a,c,l);if(d!==Ha){const n=Rn(),r=po();Zc(n,r,f,e,d,f[11],u,!1),ngDevMode&&Dl(n.data,r,e,zn()-4,t,o,i,a,l)}return id}function sd(e,t,n,o,r,i,s,a,c,l,u,f,d){const p=Pn(),h=Bu(p,t,n,o,r,i,s,a,c,l,u,f);if(h!==Ha){const n=Rn(),r=po();Zc(n,r,p,e,h,p[11],d,!1),ngDevMode&&Dl(n.data,r,e,zn()-5,t,o,i,a,l,f)}return sd}function ad(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){const g=Pn(),y=Wu(g,t,n,o,r,i,s,a,c,l,u,f,d,p);if(y!==Ha){const n=Rn(),r=po();Zc(n,r,g,e,y,g[11],h,!1),ngDevMode&&Dl(n.data,r,e,zn()-6,t,o,i,a,l,f,p)}return ad}function cd(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){const m=Pn(),v=qu(m,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g);if(v!==Ha){const n=Rn(),r=po();Zc(n,r,m,e,v,m[11],y,!1),ngDevMode&&Dl(n.data,r,e,zn()-7,t,o,i,a,l,f,p,g)}return cd}function ld(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v){const b=Pn(),w=zu(b,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m);if(w!==Ha){const n=Rn(),r=po();Zc(n,r,b,e,w,b[11],v,!1),ngDevMode&&Dl(n.data,r,e,zn()-8,t,o,i,a,l,f,p,g,m)}return ld}function ud(e,t,n){const o=Pn(),r=$u(o,t);if(r!==Ha){const i=Rn(),s=po();if(Zc(i,s,o,e,r,o[11],n,!1),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Dl(i.data,s,e,zn()-n.length+1,...n)}}return ud}function fd(e,t,n,o,r){const i=e[n+1],s=null===t;let a=o?za(i):Ga(i),c=!1;for(;0!==a&&(!1===c||s);){ngDevMode&&Pe(e,a);const n=e[a],r=e[a+1];dd(n,t)&&(c=!0,e[a+1]=o?Ya(r):Ja(r)),a=o?za(r):Ga(r)}c&&(e[n+1]=o?Ja(i):Ya(i))}function dd(e,t){return ngDevMode&&Me(Array.isArray(t),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Or(e,t)>=0}const pd={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hd(e){return e.substring(pd.key,pd.keyEnd)}function gd(e){return e.substring(pd.value,pd.valueEnd)}function yd(e,t){const n=pd.textEnd;return n===t?-1:(t=pd.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pd.key=t,n),bd(e,t,n))}function md(e,t){const n=pd.textEnd;let o=pd.key=bd(e,t,n);return n===o?-1:(o=pd.keyEnd=function(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=wd(e,o,n,58),o=pd.value=bd(e,o,n),o=pd.valueEnd=function(e,t,n){let o=-1,r=-1,i=-1,s=t,a=s;for(;s<n;){const c=e.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=_d(e,c,s,n):t===s-4&&85===i&&82===r&&76===o&&40===c?a=s=_d(e,41,s,n):c>32&&(a=s),i=r,r=o,o=-33&c}return a}(e,o,n),wd(e,o,n,59))}function vd(e){pd.key=0,pd.keyEnd=0,pd.value=0,pd.valueEnd=0,pd.textEnd=e.length}function bd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function wd(e,t,n,o){return(t=bd(e,t,n))<n&&(ngDevMode&&e.charCodeAt(t)!==o&&Cd(e,String.fromCharCode(o),t),t++),t}function _d(e,t,n,o){let r=-1,i=n;for(;i<o;){const n=e.charCodeAt(i++);if(n==t&&92!==r)return i;r=92==n&&92===r?0:n}throw ngDevMode?Cd(e,String.fromCharCode(t),o):new Error}function Cd(e,t,n){throw ngDevMode&&De("string"==typeof e,!0,"String expected here"),ke(`Malformed style at location ${n} in string '`+e.substring(0,n)+"[>>"+e.substring(n,n+1)+"<<]"+e.substr(n+1)+`'. Expecting '${t}'.`)}function Dd(e,t,n){return Sd(e,t,n,!1),Dd}function Md(e,t){return Sd(e,t,null,!0),Md}function xd(e){Od(Rd,Id,e,!1)}function Id(e,t){for(let n=function(e){return vd(e),md(e,bd(e,0,pd.textEnd))}(t);n>=0;n=md(t,n))Rd(e,hd(t),gd(t))}function Ed(e){Od(Tr,Td,e,!0)}function Td(e,t){for(let n=function(e){return vd(e),yd(e,bd(e,0,pd.textEnd))}(t);n>=0;n=yd(t,n))Tr(e,hd(t),!0)}function Sd(e,t,n,o){const r=Pn(),i=Rn(),s=Gn(2);i.firstUpdatePass&&kd(i,e,s,o),t!==Ha&&Nu(r,s,t)&&jd(i,i.data[uo()],r,r[11],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ae(xi(e)))),e}(t,n),o,s)}function Od(e,t,n,o){const r=Rn(),i=Gn(2);r.firstUpdatePass&&kd(r,null,i,o);const s=Pn();if(n!==Ha&&Nu(s,i,n)){const a=r.data[uo()];if(Ld(a,o)&&!Ad(r,i)){if(ngDevMode){const e=r.data[i];De(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=o?a.classesWithoutHost:a.stylesWithoutHost;ngDevMode&&!1===o&&null!==e&&De(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(n=ce(e,n||"")),Rf(r,a,s,n,o)}else!function(e,t,n,o,r,i,s,a){r===Ha&&(r=ct);let c=0,l=0,u=0<r.length?r[0]:null,f=0<i.length?i[0]:null;for(;null!==u||null!==f;){ngDevMode&&Ee(c,999,"Are we stuck in infinite loop?"),ngDevMode&&Ee(l,999,"Are we stuck in infinite loop?");const d=c<r.length?r[c+1]:void 0,p=l<i.length?i[l+1]:void 0;let h,g=null;u===f?(c+=2,l+=2,d!==p&&(g=f,h=p)):null===f||null!==u&&u<f?(c+=2,g=u):(ngDevMode&&Ae(f,"Expecting to have a valid key"),l+=2,g=f,h=p),null!==g&&jd(e,t,n,o,g,h,s,a),u=c<r.length?r[c]:null,f=l<i.length?i[l]:null}}(r,a,s,s[11],s[i+1],s[i+1]=function(e,t,n){if(null==n||""===n)return ct;const o=[],r=xi(n);if(Array.isArray(r))for(let t=0;t<r.length;t++)e(o,r[t],!0);else if("object"==typeof r)for(const t in r)r.hasOwnProperty(t)&&e(o,t,r[t]);else"string"==typeof r?t(o,r):ngDevMode&&ke("Unsupported styling type "+typeof r+": "+r);return o}(e,t,n),o,i)}}function Ad(e,t){return t>=e.expandoStartIndex}function kd(e,t,n,o){ngDevMode&&Gt(e);const r=e.data;if(null===r[n+1]){const i=r[uo()];ngDevMode&&Ae(i,"TNode expected");const s=Ad(e,n);Ld(i,o)&&null===t&&!s&&(t=!1),t=function(e,t,n,o){const r=Xn(e);let i=o?t.residualClasses:t.residualStyles;if(null===r)0===(o?t.classBindings:t.styleBindings)&&(n=Pd(n=Nd(null,e,t,n,o),t.attrs,o),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=Nd(r,e,t,n,o),null===i){let n=function(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Ga(o))return e[za(o)]}(e,t,o);void 0!==n&&Array.isArray(n)&&(n=Nd(null,e,t,n[1],o),n=Pd(n,t.attrs,o),function(e,t,n,o){const r=n?t.classBindings:t.styleBindings;ngDevMode&&Me(Ga(r),0,"Expecting to have at least one template styling binding."),e[za(r)]=o}(e,t,o,n))}else i=function(e,t,n){let o;const r=t.directiveEnd;ngDevMode&&Me(t.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+t.directiveStylingLast;i<r;i++)o=Pd(o,e[i].hostAttrs,n);return Pd(o,t.attrs,n)}(e,t,o)}return void 0!==i&&(o?t.residualClasses=i:t.residualStyles=i),n}(r,i,t,o),function(e,t,n,o,r,i){ngDevMode&&Gt(Rn());let s=i?t.classBindings:t.styleBindings,a=za(s),c=Ga(s);e[o]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||Or(e,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const t=za(e[a+1]);e[o+1]=qa(t,a),0!==t&&(e[t+1]=Za(e[t+1],o)),e[a+1]=(f=e[a+1],d=o,ngDevMode&&we(f,"expected number"),ngDevMode&&_e(d,0,32767),131071&f|d<<17)}else e[o+1]=qa(a,0),0!==a&&(e[a+1]=Za(e[a+1],o)),a=o;else e[o+1]=qa(c,0),ngDevMode&&De(0!==a&&0===c,!1,"Adding template bindings after hostBindings is not allowed."),0===a?a=o:e[c+1]=Za(e[c+1],o),c=o;var f,d;u&&(e[o+1]=Ja(e[o+1])),fd(e,l,o,!0),fd(e,l,o,!1),function(e,t,n,o,r){const i=r?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Or(i,t)>=0&&(n[o+1]=Ya(n[o+1]))}(t,l,e,o,i),s=qa(a,c),i?t.classBindings=s:t.styleBindings=s}(r,i,t,n,s,o)}}function Nd(e,t,n,o,r){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],ngDevMode&&Ae(i,"expected to be defined"),o=Pd(o,i.hostAttrs,r),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),o}function Pd(e,t,n){const o=n?1:2;let r=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?r=s:r===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Tr(e,s,!!n||t[++i]))}return void 0===e?null:e}function Rd(e,t,n){Tr(e,t,xi(n))}function jd(e,t,n,o,r,i,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];$d(Qa(l)?Vd(c,t,n,r,Ga(l),s):void 0)||($d(i)||Ka(l)&&(i=Vd(c,null,n,r,a,s)),function(e,t,n,o,r){const i=mn(e);if(t)r?(ngDevMode&&ngDevMode.rendererAddClass++,i?e.addClass(n,o):(ngDevMode&&Ae(n.classList,"HTMLElement expected"),n.classList.add(o))):(ngDevMode&&ngDevMode.rendererRemoveClass++,i?e.removeClass(n,o):n.classList.remove(o));else{let t=-1===o.indexOf("-")?void 0:qs.DashCase;if(null==r)ngDevMode&&ngDevMode.rendererRemoveStyle++,i?e.removeStyle(n,o,t):n.style.removeProperty(o);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),t|=qs.Important),ngDevMode&&ngDevMode.rendererSetStyle++,i?e.setStyle(n,o,r,t):(ngDevMode&&Ae(n.style,"HTMLElement expected"),n.style.setProperty(o,r,s?"important":""))}}}(o,s,wn(uo(),n),r,i))}function Vd(e,t,n,o,r,i){const s=null===t;let a;for(;r>0;){const t=e[r],i=Array.isArray(t),c=i?t[1]:t,l=null===c;let u=n[r+1];u===Ha&&(u=l?ct:void 0);let f=l?Sr(u,o):c===o?u:void 0;if(i&&!$d(f)&&(f=Sr(t,o)),$d(f)&&(a=f,s))return a;const d=e[r+1];r=s?za(d):Ga(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=Sr(e,o))}return a}function $d(e){return void 0!==e}function Ld(e,t){return 0!=(e.flags&(t?16:32))}function Fd(e,t=""){const n=Pn(),o=Rn(),r=e+Ot;ngDevMode&&De(zn(),o.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&Pe(n,r);const i=o.firstCreatePass?Rc(o,r,1,t,null):o.data[r],s=n[r]=ea(n[11],t);ba(o,n,s,i),Fn(i,!1)}function Hd(e){return Ud("",e,""),Hd}function Ud(e,t,n){const o=Pn(),r=Lu(o,e,t,n);return r!==Ha&&Ol(o,uo(),r),Ud}function Bd(e,t,n,o,r){const i=Pn(),s=Fu(i,e,t,n,o,r);return s!==Ha&&Ol(i,uo(),s),Bd}function Wd(e,t,n,o,r,i,s){const a=Pn(),c=Hu(a,e,t,n,o,r,i,s);return c!==Ha&&Ol(a,uo(),c),Wd}function qd(e,t,n,o,r,i,s,a,c){const l=Pn(),u=Uu(l,e,t,n,o,r,i,s,a,c);return u!==Ha&&Ol(l,uo(),u),qd}function zd(e,t,n,o,r,i,s,a,c,l,u){const f=Pn(),d=Bu(f,e,t,n,o,r,i,s,a,c,l,u);return d!==Ha&&Ol(f,uo(),d),zd}function Kd(e,t,n,o,r,i,s,a,c,l,u,f,d){const p=Pn(),h=Wu(p,e,t,n,o,r,i,s,a,c,l,u,f,d);return h!==Ha&&Ol(p,uo(),h),Kd}function Jd(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){const g=Pn(),y=qu(g,e,t,n,o,r,i,s,a,c,l,u,f,d,p,h);return y!==Ha&&Ol(g,uo(),y),Jd}function Gd(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){const m=Pn(),v=zu(m,e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y);return v!==Ha&&Ol(m,uo(),v),Gd}function Zd(e){const t=Pn(),n=$u(t,e);return n!==Ha&&Ol(t,uo(),n),Zd}function Qd(e,t,n){Od(Tr,Td,Lu(Pn(),e,t,n),!0)}function Yd(e,t,n,o,r){Od(Tr,Td,Fu(Pn(),e,t,n,o,r),!0)}function Xd(e,t,n,o,r,i,s){Od(Tr,Td,Hu(Pn(),e,t,n,o,r,i,s),!0)}function ep(e,t,n,o,r,i,s,a,c){Od(Tr,Td,Uu(Pn(),e,t,n,o,r,i,s,a,c),!0)}function tp(e,t,n,o,r,i,s,a,c,l,u){Od(Tr,Td,Bu(Pn(),e,t,n,o,r,i,s,a,c,l,u),!0)}function np(e,t,n,o,r,i,s,a,c,l,u,f,d){Od(Tr,Td,Wu(Pn(),e,t,n,o,r,i,s,a,c,l,u,f,d),!0)}function op(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){Od(Tr,Td,qu(Pn(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h),!0)}function rp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){Od(Tr,Td,zu(Pn(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y),!0)}function ip(e){Od(Tr,Td,$u(Pn(),e),!0)}function sp(e,t,n){xd(Lu(Pn(),e,t,n))}function ap(e,t,n,o,r){xd(Fu(Pn(),e,t,n,o,r))}function cp(e,t,n,o,r,i,s){xd(Hu(Pn(),e,t,n,o,r,i,s))}function lp(e,t,n,o,r,i,s,a,c){xd(Uu(Pn(),e,t,n,o,r,i,s,a,c))}function up(e,t,n,o,r,i,s,a,c,l,u){xd(Bu(Pn(),e,t,n,o,r,i,s,a,c,l,u))}function fp(e,t,n,o,r,i,s,a,c,l,u,f,d){xd(Wu(Pn(),e,t,n,o,r,i,s,a,c,l,u,f,d))}function dp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){xd(qu(Pn(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h))}function pp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){xd(zu(Pn(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y))}function hp(e){xd($u(Pn(),e))}function gp(e,t,n,o,r){return Sd(e,Lu(Pn(),t,n,o),r,!1),gp}function yp(e,t,n,o,r,i,s){return Sd(e,Fu(Pn(),t,n,o,r,i),s,!1),yp}function mp(e,t,n,o,r,i,s,a,c){return Sd(e,Hu(Pn(),t,n,o,r,i,s,a),c,!1),mp}function vp(e,t,n,o,r,i,s,a,c,l,u){return Sd(e,Uu(Pn(),t,n,o,r,i,s,a,c,l),u,!1),vp}function bp(e,t,n,o,r,i,s,a,c,l,u,f,d){return Sd(e,Bu(Pn(),t,n,o,r,i,s,a,c,l,u,f),d,!1),bp}function wp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){return Sd(e,Wu(Pn(),t,n,o,r,i,s,a,c,l,u,f,d,p),h,!1),wp}function _p(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){return Sd(e,qu(Pn(),t,n,o,r,i,s,a,c,l,u,f,d,p,h,g),y,!1),_p}function Cp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v){return Sd(e,zu(Pn(),t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m),v,!1),Cp}function Dp(e,t,n){return Sd(e,$u(Pn(),t),n,!1),Dp}function Mp(e,t,n){const o=Pn(),r=Jn();if(Nu(o,r,t)){const i=Rn(),s=po();Zc(i,s,o,e,t,o[11],n,!0),ngDevMode&&Dl(i.data,s,e,r)}return Mp}function xp(e,t,n){const o=Pn(),r=Jn();if(Nu(o,r,t)){const i=Rn(),s=po();Zc(i,s,o,e,t,El(Xn(i.data),s,o),n,!0),ngDevMode&&Dl(i.data,s,e,r)}return xp}"undefined"==typeof ngI18nClosureMode&&(it.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);const Ip=void 0;var Ep=["en",[["a","p"],["AM","PM"],Ip],[["AM","PM"],Ip,Ip],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ip,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ip,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ip,"{1} 'at' {0}",Ip],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Tp={};function Sp(e,t,n){"string"!=typeof t&&(n=t,t=e[Rp.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Tp[t]=e,n&&(Tp[t][Rp.ExtraData]=n)}function Op(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Np(t);if(n)return n;const o=t.split("-")[0];if(n=Np(o),n)return n;if("en"===o)return Ep;throw new Error(`Missing locale data for the locale "${e}".`)}function Ap(e){return Op(e)[Rp.CurrencyCode]||null}function kp(e){return Op(e)[Rp.PluralCase]}function Np(e){return e in Tp||(Tp[e]=it.ng&&it.ng.common&&it.ng.common.locales&&it.ng.common.locales[e]),Tp[e]}function Pp(){Tp={}}var Rp;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(Rp||(Rp={}));const jp=["zero","one","two","few","many"],Vp="en-US",$p={marker:"element"},Lp={marker:"ICU"};var Fp;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}(Fp||(Fp={}));let Hp=Vp;function Up(e){Ae(e,"Expected localeId to be defined"),"string"==typeof e&&(Hp=e.toLowerCase().replace(/_/g,"-"))}function Bp(e,t,n){const o=t.insertBeforeIndex,r=Array.isArray(o)?o[0]:o;return null===r?ga(e,0,n):(ngDevMode&&Pe(n,r),bn(n[r]))}function Wp(e,t,n,o,r){const i=t.insertBeforeIndex;if(Array.isArray(i)){ngDevMode&&Ne(o);let s=o,a=null;if(3&t.type||(a=s,s=r),null!==s&&0==(2&t.flags))for(let t=1;t<i.length;t++)ua(e,s,n[i[t]],a,!1)}}function qp(e,t){if(ngDevMode&&De(t.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];zp(o)||Kp(o,t)&&null===Jp(o)&&Gp(o,t.index)}}function zp(e){return!(64&e.type)}function Kp(e,t){return zp(t)||e.index>t.index}function Jp(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Gp(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(va(Bp,Wp),e.insertBeforeIndex=t)}function Zp(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;!ngDevMode||n.hasOwnProperty("tViews")||n.hasOwnProperty("currentCaseLViewIndex")||ke("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+n);const o=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return ngDevMode&&Ut(o),o}function Qp(e,t,n){const o=jc(e,n,64,null,null);return qp(t,o),o}function Yp(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Xp(e){return e>>>17}function eh(e){return(131070&e)>>>1}function th(e){return 1&e}let nh=0,oh=0;function rh(e,t,n,o){ngDevMode&&Ne(o);const r=n[11];let i,s=null;for(let a=0;a<t.length;a++){const c=t[a];if("string"==typeof c){const e=t[++a];null===n[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&Pe(n,e),n[e]=ea(r,c))}else if("number"==typeof c)switch(1&c){case 0:const l=Xp(c);let u,f;if(null===s&&(s=l,i=pa(r,o)),l===s?(u=o,f=i):(u=null,f=bn(n[l])),null!==f){ngDevMode&&Ne(f);const t=eh(c);ngDevMode&&Se(t,Ot,"Missing ref");const o=n[t];ngDevMode&&Ne(o),ua(r,f,o,u,!1);const i=Zp(e,t);if(null!==i&&"object"==typeof i){ngDevMode&&Ut(i);const t=Yp(i,n);null!==t&&rh(e,i.create[t],n,n[i.anchorIdx])}}break;case 1:const d=c>>>1,p=t[++a],h=t[++a];ll(r,wn(d,n),null,null,p,h,null);break;default:if(ngDevMode)throw new pe(700,`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case Lp:const e=t[++a],o=t[++a];null===n[o]&&(ngDevMode&&De(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&Zt(n,o),_s(n[o]=na(r,e),n));break;case $p:const i=t[++a],s=t[++a];null===n[s]&&(ngDevMode&&De(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&Zt(n,s),_s(n[s]=oa(r,i,null),n));break;default:ngDevMode&&ke(`Unable to determine the type of mutate operation for "${c}"`)}}}function ih(e,t,n,o,r){for(let i=0;i<n.length;i++){const s=n[i],a=n[++i];if(s&r){let r="";for(let s=i+1;s<=i+a;s++){const i=n[s];if("string"==typeof i)r+=i;else if("number"==typeof i)if(i<0)r+=ge(t[o-i]);else{const a=i>>>2;switch(3&i){case 1:const i=n[++s],c=n[++s],l=e.data[a];ngDevMode&&Ae(l,"Experting TNode or string"),"string"==typeof l?ll(t[11],t[a],null,l,i,r,c):Zc(e,l,t,i,r,t[11],c,!1);break;case 0:const u=t[a];null!==u&&ta(t[11],u,r);break;case 2:ah(e,Zp(e,a),t,r);break;case 3:sh(e,Zp(e,a),o,t)}}}}else{const r=n[i+1];if(r>0&&3==(3&r)){const n=Zp(e,r>>>2);t[n.currentCaseLViewIndex]<0&&sh(e,n,o,t)}}i+=a}}function sh(e,t,n,o){ngDevMode&&Pe(o,t.currentCaseLViewIndex);let r=o[t.currentCaseLViewIndex];if(null!==r){let i=nh;r<0&&(r=o[t.currentCaseLViewIndex]=~r,i=-1),ih(e,o,t.update[r],n,i)}}function ah(e,t,n,o){const r=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function(e,t){const n=kp(t)(parseInt(e,10)),o=jp[n];return void 0!==o?o:"other"}(t,Hp);n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(Yp(t,n)!==r&&(ch(e,t,n),n[t.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const o=n[t.anchorIdx];o&&(ngDevMode&&Ne(o),rh(e,t.create[r],n,o))}}function ch(e,t,n){let o=Yp(t,n);if(null!==o){const r=t.remove[o];for(let t=0;t<r.length;t++){const o=r[t];if(o>0){const e=wn(o,n);null!==e&&Da(n[11],e)}else ch(e,Zp(e,~o),n)}}}function lh(){const e=[];let t,n,o=-1;function r(e,t){o=0;const r=Yp(e,t);null!==r?(ngDevMode&&_e(r,0,e.cases.length-1),n=e.remove[r]):n=ct}function i(){if(o<n.length){const s=n[o++];if(ngDevMode&&we(s,"Expecting OpCode number"),s>0){const e=t[s];return ngDevMode&&Ne(e),e}{e.push(o,n);const a=~s,c=t[1].data[a];return ngDevMode&&Ut(c),r(c,t),i()}}return 0===e.length?null:(n=e.pop(),o=e.pop(),i())}return function(n,o){for(t=o;e.length;)e.pop();return ngDevMode&&Lt(n,o),r(n.value,o),i}}function uh(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const o=t[e++],r=t[e],i=(o&Fp.COMMENT)===Fp.COMMENT,s=(o&Fp.APPEND_EAGERLY)===Fp.APPEND_EAGERLY,a=o>>>Fp.SHIFT;n.push(`lView[${a}] = document.${i?"createComment":"createText"}(${JSON.stringify(r)});`),s&&n.push(`parent.appendChild(lView[${a}]);`)}return n}function fh(e){const t=new hh(e||(Array.isArray(this)?this:[]));let n=[];function o(e){const n=e>>>2;switch(3&e){case 0:return`(lView[${n}] as Text).textContent = $$$`;case 1:const e=t.consumeString(),o=t.consumeFunction();return`(lView[${n}] as Element).setAttribute('${e}', ${o?`(${o})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${n}, $$$)`;case 3:return`icuUpdateCase(${n})`}throw new Error("unexpected OpCode")}for(;t.hasMore();){let e=t.consumeNumber(),r=t.consumeNumber();const i=t.i+r,s=[];let a="";for(;t.i<i;){let e=t.consumeNumberOrString();if("string"==typeof e)a+=e;else if(e<0)a+="${lView[i"+e+"]}";else{const t=o(e);s.push(t.replace("$$$","`"+a+"`")+";"),a=""}}n.push(`if (mask & 0b${e.toString(2)}) { ${s.join(" ")} }`)}return n}function dh(e){const t=new hh(e||(Array.isArray(this)?this:[]));let n=[];function o(e){const n=Xp(e),o=eh(e);switch(th(e)){case 0:return`(lView[${n}] as Element).appendChild(lView[${r}])`;case 1:return`(lView[${o}] as Element).setAttribute("${t.consumeString()}", "${t.consumeString()}")`}throw new Error("Unexpected OpCode: "+th(e))}let r=-1;for(;t.hasMore();){let e=t.consumeNumberStringOrMarker();if(e===Lp){const e=t.consumeString();r=t.consumeNumber(),n.push(`lView[${r}] = document.createComment("${e}")`)}else if(e===$p){const e=t.consumeString();r=t.consumeNumber(),n.push(`lView[${r}] = document.createElement("${e}")`)}else if("string"==typeof e)r=t.consumeNumber(),n.push(`lView[${r}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const t=o(e);t&&n.push(t)}}}return n}function ph(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const o=t[e];o>0?n.push(`remove(lView[${o}])`):n.push(`removeNestedICU(${~o})`)}return n}class hh{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return we(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return Ce(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||we(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==Lp||e==$p||we(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const gh=/�(\d+):?\d*�/gi,yh=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,mh=/�(\d+)�/,vh=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,bh=/�\/?\*(\d+:\d+)�/gi,wh=/�(\/?[#*]\d+):?\d*�/gi,_h=/\uE500/g;function Ch(e,t,n,o,r,i,s){const a=Vc(e,o,1,null);let c=a<<Fp.SHIFT,l=Ln();t===l&&(l=null),null===l&&(c|=Fp.APPEND_EAGERLY),s&&(c|=Fp.COMMENT,void 0===zs&&(zs=lh())),r.push(c,null===i?"":i);const u=jc(e,a,s?32:1,null===i?ngDevMode?"{{?}}":"":i,null);qp(n,u);const f=u.index;return Fn(u,!1),null!==l&&t!==l&&function(e,t){ngDevMode&&Ht(e);let n=e.insertBeforeIndex;null===n?(va(Bp,Wp),n=e.insertBeforeIndex=[null,t]):(De(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(l,f),u}function Dh(e,t,n,o,r,i,s){const a=s.match(gh),c=Ch(e,t,n,i,o,a?null:s,!1);a&&Mh(r,s,c.index,null,0,null)}function Mh(e,t,n,o,r,i){ngDevMode&&Oe(n,Ot,"Index must be in absolute LView offset");const s=e.length,a=s+1;e.push(null,null);const c=s+2;ngDevMode&&ec(e,fh);const l=t.split(gh);let u=0;for(let t=0;t<l.length;t++){const n=l[t];if(1&t){const t=r+parseInt(n,10);e.push(-1-t),u|=Ih(t)}else""!==n&&e.push(n)}return e.push(n<<2|(o?1:0)),o&&e.push(o,i),e[s]=u,e[a]=e.length-c,u}function xh(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n];"number"==typeof o&&o<0&&t++}return t}function Ih(e){return 1<<Math.min(e,31)}function Eh(e){let t,n,o="",r=0,i=!1;for(;null!==(t=bh.exec(e));)i?t[0]===`�/*${n}�`&&(r=t.index,i=!1):(o+=e.substring(r,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&De(i,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),o+=e.substr(r),o}function Th(e,t,n,o,r,i){ngDevMode&&Ae(r,"ICU expression must be defined");let s=0;const a={type:r.type,currentCaseLViewIndex:Vc(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Ih(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,r,i),function(e,t,n){const o=e.data[t];ngDevMode&&De(null===o||o.hasOwnProperty("tViews"),!0,"We expect to get 'null'|'TIcuContainer'"),null===o?e.data[t]=n:(ngDevMode&&Io(o,32),o.value=n)}(e,i,a);const c=r.values;for(let i=0;i<c.length;i++){const l=c[i],u=[];for(let e=0;e<l.length;e++){const t=l[e];if("string"!=typeof t){const n=u.push(t)-1;l[e]=`\x3c!--�${n}�--\x3e`}}s=Ah(e,a,t,n,o,r.cases[i],l.join(""),u)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,i)}function Sh(e){const t=[],n=[];let o=1,r=0;const i=Oh(e=e.replace(vh,(function(e,t,n){return o="select"===n?0:1,r=parseInt(t.substr(1),10),""})));for(let e=0;e<i.length;){let r=i[e++].trim();1===o&&(r=r.replace(/\s*(?:=)?(\w+)\s*/,"$1")),r.length&&t.push(r);const s=Oh(i[e++]);t.length>n.length&&n.push(s)}return{type:o,mainBinding:r,cases:t,values:n}}function Oh(e){if(!e)return[];let t=0;const n=[],o=[],r=/[{}]/g;let i;for(r.lastIndex=0;i=r.exec(e);){const r=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const n=e.substring(t,r);vh.test(n)?o.push(Sh(n)):o.push(n),t=r+1}}else{if(0==n.length){const n=e.substring(t,r);o.push(n),t=r+1}n.push("{")}}const s=e.substring(t);return o.push(s),o}function Ah(e,t,n,o,r,i,s,a){const c=[],l=[],u=[];ngDevMode&&(ec(c,dh),ec(l,ph),ec(u,fh)),t.cases.push(i),t.create.push(c),t.remove.push(l),t.update.push(u);const f=Ni(gn()).getInertBodyElement(s);ngDevMode&&Ae(f,"Unable to generate inert body element");const d=as(f)||f;return d?kh(e,t,n,o,c,l,u,d,r,a,0):0}function kh(e,t,n,o,r,i,s,a,c,l,u){let f=0,d=a.firstChild;for(;d;){const a=Vc(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,h=p.tagName.toLowerCase();if(Ji.hasOwnProperty(h)){Rh(r,$p,h,c,a),e.data[a]=h;const g=p.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(gh)?Xi.hasOwnProperty(n)?Gi[n]?Mh(s,t.value,a,t.name,0,$i):Zi[n]?Mh(s,t.value,a,t.name,0,Li):Mh(s,t.value,a,t.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${n} on element ${h} (see https://g.co/ng/security#xss)`):jh(r,a,t)}f=kh(e,t,n,o,r,i,s,d,a,l,u+1)|f,Nh(i,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",y=g.match(gh);Rh(r,null,y?"":g,c,a),Nh(i,a,u),y&&(f=Mh(s,g,a,null,0,null)|f);break;case Node.COMMENT_NODE:const m=mh.exec(d.textContent||"");if(m){const t=parseInt(m[1],10),s=l[t];Rh(r,Lp,ngDevMode?`nested ICU ${t}`:"",c,a),Th(e,n,o,c,s,a),Ph(i,a,u)}}d=d.nextSibling}return f}function Nh(e,t,n){0===n&&e.push(t)}function Ph(e,t,n){0===n&&(e.push(~t),e.push(t))}function Rh(e,t,n,o,r){var i,s;null!==t&&e.push(t),e.push(n,r,(0,i=o,s=r,ngDevMode&&Oe(i,0,"Missing parent index"),ngDevMode&&Se(s,0,"Missing ref index"),0|i<<17|s<<1))}function jh(e,t,n){e.push(t<<1|1,n.name,n.value)}const Vh=/\[(�.+?�?)\]/,$h=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Lh=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Fh=/{([A-Z0-9_]+)}/g,Hh=/�I18N_EXP_(ICU(_\d+)?)�/g,Uh=/\/\*/,Bh=/\d+\:(\d+)/;function Wh(e,t,n=-1){const o=Rn(),r=Pn(),i=Ot+e;ngDevMode&&Ae(o,"tView should be defined");const s=En(o.consts,t),a=Ln();o.firstCreatePass&&function(e,t,n,o,r,i){const s=Ln(),a=[],c=[],l=[[]];ngDevMode&&(ec(a,uh),ec(c,fh)),r=function(e,t){if(function(e){return-1===e}(t))return Eh(e);{const n=e.indexOf(`:${t}�`)+2+t.toString().length,o=e.search(new RegExp(`�\\/\\*\\d+:${t}�`));return Eh(e.substring(n,o))}}(r,i);const u=(f=r,f.replace(_h," ")).split(wh);var f;for(let i=0;i<u.length;i++){let f=u[i];if(0==(1&i)){const i=Oh(f);for(let u=0;u<i.length;u++){let f=i[u];if(0==(1&u)){const t=f;ngDevMode&&Ce(t,"Parsed ICU part should be string"),""!==t&&Dh(e,s,l[0],a,c,n,t)}else{const i=f;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const u=Ch(e,s,l[0],n,a,ngDevMode?`ICU ${o}:${i.mainBinding}`:"",!0).index;ngDevMode&&Oe(u,Ot,"Index must be in absolute LView offset"),Th(e,n,c,t,i,u)}}}else{const t=47===f.charCodeAt(0),n=f.charCodeAt(t?1:0);ngDevMode&&Re(n,42,35);const o=Ot+Number.parseInt(f.substring(t?2:1));if(t)l.shift(),Fn(Ln(),!1);else{const t=Qp(e,l[0],o);l.unshift([]),Fn(t,!0)}}}e.data[o]={create:a,update:c}}(o,null===a?0:a.index,r,i,s,n);const c=o.data[i],l=la(o,a===r[6]?null:a,r),u=a&&8&a.type?r[a.index]:null;!function(e,t,n,o){const r=e[11];for(let i=0;i<t.length;i++){const s=t[i++],a=t[i],c=(s&Fp.COMMENT)===Fp.COMMENT,l=(s&Fp.APPEND_EAGERLY)===Fp.APPEND_EAGERLY,u=s>>>Fp.SHIFT;let f=e[u];null===f&&(f=e[u]=c?r.createComment(a):ea(r,a)),l&&null!==n&&ua(r,n,f,o,!1)}}(r,c.create,l,u),Zn(!0)}function qh(){Zn(!1)}function zh(e,t,n){Wh(e,t,n),qh()}function Kh(e,t){const n=Rn();ngDevMode&&Ae(n,"tView should be defined");const o=En(n.consts,t);!function(e,t,n){const o=Vn().index,r=[];if(ngDevMode&&ec(r,fh),e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],i=n[e+1];if(""!==i){if(yh.test(i))throw new Error(`ICU expressions are not supported in attributes. Message: "${i}".`);Mh(r,i,o,t,xh(r),null)}}e.data[t]=r}}(n,e+Ot,o)}function Jh(e){return Nu(Pn(),Jn(),e)&&(nh|=1<<Math.min(oh,31)),oh++,Jh}function Gh(e){!function(e,t,n){if(oh>0){ngDevMode&&Ae(e,"tView should be defined");const o=e.data[n];ih(e,t,Array.isArray(o)?o:o.update,zn()-oh-1,nh)}nh=0,oh=0}(Rn(),Pn(),e+Ot)}function Zh(e,t={}){return function(e,t={}){let n=e;if(Vh.test(e)){const e={},t=[0];n=n.replace($h,((n,o,r)=>{const i=o||r,s=e[i]||[];if(s.length||(i.split("|").forEach((e=>{const t=e.match(Bh),n=t?parseInt(t[1],10):0,o=Uh.test(e);s.push([n,o,e])})),e[i]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${i}`);const a=t[t.length-1];let c=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){c=e;break}const[l,u,f]=s[c];return u?t.pop():a!==l&&t.push(l),s.splice(c,1),f}))}return Object.keys(t).length?(n=n.replace(Lh,((e,n,o,r,i,s)=>t.hasOwnProperty(o)?`${n}${t[o]}${s}`:e)),n=n.replace(Fh,((e,n)=>t.hasOwnProperty(n)?t[n]:e)),n=n.replace(Hh,((e,n)=>{if(t.hasOwnProperty(n)){const o=t[n];if(!o.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return o.shift()}return e})),n):n}(e,t)}function Qh(e,t,n,o,r){if(e=fe(e),Array.isArray(e))for(let i=0;i<e.length;i++)Qh(e[i],t,n,o,r);else{const i=Rn(),s=Pn();let a=Jl(e)?e:fe(e.provide),c=ql(e);const l=Vn(),u=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Jl(e)||!e.multi){const o=new Mo(c,r,kf),p=eg(a,t,r?u:u+d,f);-1===p?(Uo($o(l,s),i,a),Yh(i,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(o),s.push(o)):(n[p]=o,s[p]=o)}else{const p=eg(a,t,u+d,f),h=eg(a,t,u,u+d),g=p>=0&&n[p],y=h>=0&&n[h];if(r&&!y||!r&&!g){Uo($o(l,s),i,a);const u=function(e,t,n,o,r){const i=new Mo(e,n,kf);return i.multi=[],i.index=t,i.componentProviders=0,Xh(i,r,o&&!n),i}(r?ng:tg,n.length,r,o,c);!r&&y&&(n[h].providerFactory=u),Yh(i,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else Yh(i,e,p>-1?p:h,Xh(n[r?h:p],c,!r&&o));!r&&o&&y&&n[h].componentProviders++}}}function Yh(e,t,n,o){const r=Jl(t),i=!!t.useClass;if(r||i){const s=(i?fe(t.useClass):t).prototype.ngOnDestroy;if(s){const i=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){ngDevMode&&Ae(o,"indexInFactory when registering multi factory destroy hook");const e=i.indexOf(n);-1===e?i.push(n,[o,s]):i[e+1].push(o,s)}else i.push(n,s)}}}function Xh(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eg(e,t,n,o){for(let r=n;r<o;r++)if(t[r]===e)return r;return-1}function tg(e,t,n,o){return og(this.multi,[])}function ng(e,t,n,o){const r=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Zo(n,n[1],this.providerFactory.index,o);i=t.slice(0,e),og(r,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],og(r,i);return i}function og(e,t){for(let n=0;n<e.length;n++){const o=e[n];t.push(o())}return t}function rg(e,t=[]){return n=>{n.providersResolver=(n,o)=>function(e,t,n){const o=Rn();if(o.firstCreatePass){const r=$t(e);Qh(n,o.data,o.blueprint,r,!0),Qh(t,o.data,o.blueprint,r,!1)}}(n,o?o(e):e,t)}}class ig{}class sg{}class ag{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${ae(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class cg{}function lg(e,t){return new ug(_n(e,t))}cg.NULL=new ag;class ug{constructor(e){this.nativeElement=e}}function fg(e){return e instanceof ug?e.nativeElement:e}ug.__NG_ELEMENT_ID__=function(){return lg(Vn(),Pn())},new fr("Renderer2Interceptor");class dg{}class pg{}pg.__NG_ELEMENT_ID__=()=>function(){const e=Pn(),t=Mn(Vn().index,e);return function(e){const t=e[11];if(ngDevMode&&!mn(t))throw new Error("Cannot inject Renderer2 when the application uses Renderer3!");return t}(Nt(t)?t:e)}();class hg{}hg.ɵprov=je({token:hg,providedIn:"root",factory:()=>null});class gg{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yg=new gg("13.2.6"),mg={};function vg(e,t,n,o,r=!1){for(;null!==n;){ngDevMode&&Io(n,63);const i=t[n.index];if(null!==i&&o.push(bn(i)),Pt(i))for(let e=kt;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&vg(t[1],t,n,o)}const s=n.type;if(8&s)vg(e,t,n.child,o);else if(32&s){const e=Ks(n,t);let r;for(;r=e();)o.push(r)}else if(16&s){const e=_a(t,n);if(Array.isArray(e))o.push(...e);else{const n=Js(t[16]);ngDevMode&&Yt(n),vg(n[1],n,e,o,!0)}}n=r?n.projectionNext:n.next}return o}class bg{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return vg(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Pt(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ngDevMode&&De(n,e.indexOf(this._lView)-kt,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),ia(e,n),Ir(t,n))}this._attachedToViewContainer=!1}sa(this._lView[1],this._lView)}onDestroy(e){Jc(this._lView[1],this._lView,null,e)}markForCheck(){vl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Wn(!0);try{wl(e,t,n)}finally{Wn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef){const e=ngDevMode?"This view is already attached directly to the ApplicationRef!":"";throw new pe(902,e)}this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,xa(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer){const e=ngDevMode?"This view is already attached to a ViewContainer!":"";throw new pe(902,e)}this._appRef=e}}class wg extends bg{constructor(e){super(e),this._view=e}detectChanges(){_l(this._view)}checkNoChanges(){!function(e){Wn(!0);try{_l(e)}finally{Wn(!1)}}(this._view)}get context(){return null}}class _g extends cg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&Bt(e);const t=It(e);return new Dg(t,this.ngModule)}}function Cg(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const o=e[n];t.push({propName:o,templateName:n})}return t}class Dg extends sg{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Fa).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Cg(this.componentDef.inputs)}get outputs(){return Cg(this.componentDef.outputs)}create(e,t,n,o){const r=(o=o||this.ngModule)?function(e,t){return{get:(n,o,r)=>{const i=e.get(n,mg,r);return i!==mg||o===mg?i:t.get(n,o,r)}}}(e,o.injector):e,i=r.get(dg,vn),s=r.get(hg,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?Kc(a,n,this.componentDef.encapsulation):oa(i.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?fn:"math"===t?dn:null}(c)),u=this.componentDef.onPush?576:528,f=hu(),d=zc(0,null,null,1,0,null,null,null,null,null),p=Pc(null,d,f,u,null,null,i,a,s,r);let h,g;ro(p);try{const e=du(l,this.componentDef,p,i,a);if(l)if(n)Eo(a,l,["ng-version",yg.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let o=1,r=2;for(;o<e.length;){let i=e[o];if("string"==typeof i)2===r?""!==i&&t.push(i,e[++o]):8===r&&n.push(i);else{if(!Ra(r))break;r=i}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Eo(a,l,e),t&&t.length>0&&Ta(a,l,t.join(" "))}if(g=Cn(d,Ot),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const o=t[n];e.push(null!=o?Array.from(o):null)}}h=pu(e,this.componentDef,p,f,[gu]),$c(d,p,null)}finally{lo()}return new Mg(this.componentType,h,lg(g,p),p,g)}}new _g;class Mg extends ig{constructor(e,t,n,o,r){super(),this.location=n,this._rootLView=o,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new wg(o),this.componentType=e}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xg(e,t,n,o){return Ze((()=>{const r=e;null!==t&&(r.hasOwnProperty("decorators")&&void 0!==r.decorators?r.decorators.push(...t):r.decorators=t),null!==n&&(r.ctorParameters=n),null!==o&&(r.hasOwnProperty("propDecorators")&&void 0!==r.propDecorators?r.propDecorators={...r.propDecorators,...o}:r.propDecorators=o)}))}class Ig{}class Eg{}const Tg=new Map;function Sg(e){const t=new Set;!function e(n){const o=St(n,!0),r=o.id;if(null!==r){(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ae(t)} vs ${ae(t.name)}`)})(r,Tg.get(r),n),Tg.set(r,n)}const i=Us(o.imports);for(const n of i)t.has(n)||(t.add(n),e(n))}(e)}function Og(e){return Tg.get(e)||wt[e]}function Ag(e,t){return new kg(e,t??null)}class kg extends Ig{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _g(this);const n=St(e);ngDevMode&&Ae(n,`NgModule '${ae(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=Us(n.bootstrap),this._r3Injector=Ul(e,t,[{provide:Ig,useValue:this},{provide:cg,useValue:this.componentFactoryResolver}],ae(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Gl.THROW_IF_NOT_FOUND,n=ze.Default){return e===Gl||e===Ig||e===Pl?this:this._r3Injector.get(e,t,n)}destroy(){ngDevMode&&Ae(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&Ae(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class Ng extends Eg{constructor(e){super(),this.moduleType=e,null!==St(e)&&Sg(e)}create(e){return new kg(this.moduleType,e)}}function Pg(e,t,n){const o=qn()+e,r=Pn();return r[o]===Ha?Au(r,o,n?t.call(n):t()):ku(r,o)}function Rg(e,t,n,o){return qg(Pn(),qn(),e,t,n,o)}function jg(e,t,n,o,r){return zg(Pn(),qn(),e,t,n,o,r)}function Vg(e,t,n,o,r,i){return Kg(Pn(),qn(),e,t,n,o,r,i)}function $g(e,t,n,o,r,i,s){return Jg(Pn(),qn(),e,t,n,o,r,i,s)}function Lg(e,t,n,o,r,i,s,a){const c=qn()+e,l=Pn(),u=ju(l,c,n,o,r,i);return Nu(l,c+4,s)||u?Au(l,c+5,a?t.call(a,n,o,r,i,s):t(n,o,r,i,s)):ku(l,c+5)}function Fg(e,t,n,o,r,i,s,a,c){const l=qn()+e,u=Pn(),f=ju(u,l,n,o,r,i);return Pu(u,l+4,s,a)||f?Au(u,l+6,c?t.call(c,n,o,r,i,s,a):t(n,o,r,i,s,a)):ku(u,l+6)}function Hg(e,t,n,o,r,i,s,a,c,l){const u=qn()+e,f=Pn();let d=ju(f,u,n,o,r,i);return Ru(f,u+4,s,a,c)||d?Au(f,u+7,l?t.call(l,n,o,r,i,s,a,c):t(n,o,r,i,s,a,c)):ku(f,u+7)}function Ug(e,t,n,o,r,i,s,a,c,l,u){const f=qn()+e,d=Pn(),p=ju(d,f,n,o,r,i);return ju(d,f+4,s,a,c,l)||p?Au(d,f+8,u?t.call(u,n,o,r,i,s,a,c,l):t(n,o,r,i,s,a,c,l)):ku(d,f+8)}function Bg(e,t,n,o){return Gg(Pn(),qn(),e,t,n,o)}function Wg(e,t){ngDevMode&&Pe(e,t);const n=e[t];return n===Ha?void 0:n}function qg(e,t,n,o,r,i){const s=t+n;return Nu(e,s,r)?Au(e,s+1,i?o.call(i,r):o(r)):Wg(e,s+1)}function zg(e,t,n,o,r,i,s){const a=t+n;return Pu(e,a,r,i)?Au(e,a+2,s?o.call(s,r,i):o(r,i)):Wg(e,a+2)}function Kg(e,t,n,o,r,i,s,a){const c=t+n;return Ru(e,c,r,i,s)?Au(e,c+3,a?o.call(a,r,i,s):o(r,i,s)):Wg(e,c+3)}function Jg(e,t,n,o,r,i,s,a,c){const l=t+n;return ju(e,l,r,i,s,a)?Au(e,l+4,c?o.call(c,r,i,s,a):o(r,i,s,a)):Wg(e,l+4)}function Gg(e,t,n,o,r,i){let s=t+n,a=!1;for(let t=0;t<r.length;t++)Nu(e,s++,r[t])&&(a=!0);return a?Au(e,s,o.apply(i,r)):Wg(e,s)}function Zg(e,t){const n=Rn();let o;const r=e+Ot;n.firstCreatePass?(o=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}if(ngDevMode){const t=Pn()[16][8],n=t?` in the '${t.constructor.name}' component`:"";throw new pe(-302,`The pipe '${e}' could not be found${n}!`)}}(t,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,o.onDestroy)):o=n.data[r];const i=o.factory||(o.factory=en(o.type,!0)),s=Je(kf);try{const e=jo(!1),t=i();return jo(e),of(n,Pn(),r,t),t}finally{Je(s)}}function Qg(e,t,n){const o=e+Ot,r=Pn(),i=Dn(r,o);return ny(r,o)?qg(r,qn(),t,i.transform,n,i):i.transform(n)}function Yg(e,t,n,o){const r=e+Ot,i=Pn(),s=Dn(i,r);return ny(i,r)?zg(i,qn(),t,s.transform,n,o,s):s.transform(n,o)}function Xg(e,t,n,o,r){const i=e+Ot,s=Pn(),a=Dn(s,i);return ny(s,i)?Kg(s,qn(),t,a.transform,n,o,r,a):a.transform(n,o,r)}function ey(e,t,n,o,r,i){const s=e+Ot,a=Pn(),c=Dn(a,s);return ny(a,s)?Jg(a,qn(),t,c.transform,n,o,r,i,c):c.transform(n,o,r,i)}function ty(e,t,n){const o=e+Ot,r=Pn(),i=Dn(r,o);return ny(r,o)?Gg(r,qn(),t,i.transform,n,i):i.transform.apply(i,n)}function ny(e,t){return e[1].data[t].pure}class oy extends o.Subject{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,i=t||(()=>null),s=n;if(e&&"object"==typeof e){const t=e;r=t.next?.bind(t),i=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(i=ry(i),r&&(r=ry(r)),s&&(s=ry(s)));const a=super.subscribe({next:r,error:i,complete:s});return e instanceof o.Subscription&&e.add(a),a}}function ry(e){return t=>{setTimeout(e,void 0,t)}}const iy=oy;function sy(){return this._results[Eu()]()}class ay{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Eu(),n=ay.prototype;n[t]||(n[t]=sy)}get changes(){return this._changes||(this._changes=new iy)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const o=Dr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let r=e[o],i=t[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}(n._results,o,t))&&(n._results=o,n.length=o.length,n.last=o[this.length-1],n.first=o[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class cy{}cy.__NG_ELEMENT_ID__=function(){return fy(Vn(),Pn())};const ly=cy,uy=class extends ly{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Pc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null),o=this._declarationLView[this._declarationTContainer.index];ngDevMode&&qt(o),n[17]=o;const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),$c(t,n,e),new bg(n)}};function fy(e,t){return 4&e.type?(ngDevMode&&Ae(e.tViews,"TView must be allocated"),new uy(t,e,lg(e,t))):null}class dy{}dy.__NG_ELEMENT_ID__=function(){return my(Vn(),Pn())};const py=dy,hy=class extends py{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return lg(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ho(this._hostTNode,this._hostLView);if(ko(e)){const t=Po(e,this._hostLView),n=No(e);ngDevMode&&Xt(t,n);const o=t[1].data[n+8];return new Xo(o,t)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=gy(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,t,n){const o=e.createEmbeddedView(t||{});return this.insert(o,n),o}createComponent(e,t,n,o,r){const i=e&&!Cr(e);let s;if(i)ngDevMode&&De("object"!=typeof t,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),s=t;else{ngDevMode&&(Ae(It(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),De("number"!=typeof t,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const i=t||{};s=i.index,n=i.injector,o=i.projectableNodes,r=i.ngModuleRef}const a=i?e:new Dg(It(e)),c=n||this.parentInjector;if(!r&&null==a.ngModule){const e=(i?c:this.parentInjector).get(Ig,null);e&&(r=e)}const l=a.create(c,o,void 0,r);return this.insert(l.hostView,s),l}insert(e,t){const n=e._lView,o=n[1];if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(Pt(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3];ngDevMode&&De(Pt(t),!0,"An attached view should have its PARENT point to a container.");const o=new hy(t,t[6],t[3]);o.detach(o.indexOf(e))}}const r=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,o){ngDevMode&&Kt(t),ngDevMode&&qt(n);const r=kt+o,i=n.length;o>0&&(n[r-1][4]=t),o<i-kt?(t[4]=n[r],xr(n,kt+o,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){ngDevMode&&Ae(t,"LView required"),ngDevMode&&qt(e);const n=e[9],o=t[3];ngDevMode&&qt(o);const r=o[3][16];ngDevMode&&Ae(r,"Missing insertedComponentLView");const i=t[16];ngDevMode&&Ae(i,"Missing declaredComponentLView"),i!==r&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(o,n,i,r);const s=Ca(r,i),a=n[11],c=pa(a,i[7]);return null!==c&&function(e,t,n,o,r,i){o[0]=r,o[6]=t,xa(e,o,n,1,r,i)}(o,i[6],a,n,c,s),e.attachToViewContainerRef(),xr(yy(i),r,e),e}move(e,t){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=gy(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=ia(this._lContainer,t);n&&(Ir(yy(this._lContainer),t),sa(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=ia(this._lContainer,t);return n&&null!=Ir(yy(this._lContainer),t)?new bg(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:(ngDevMode&&(Se(e,-1,`ViewRef index must be positive, got ${e}`),Ee(e,this.length+1+t,"index")),e)}};function gy(e){return e[8]}function yy(e){return e[8]||(e[8]=[])}function my(e,t){let n;ngDevMode&&Io(e,15);const o=t[e.index];if(Pt(o))n=o;else{let r;if(8&e.type)r=bn(o);else{const n=t[11];ngDevMode&&ngDevMode.rendererCreateComment++,r=n.createComment(ngDevMode?"container":"");const o=_n(e,t);ua(n,pa(n,o),r,function(e,t){return mn(e)?e.nextSibling(t):t.nextSibling}(n,o),!1)}t[e.index]=n=pl(o,t,r,e),ml(t,n)}return new hy(n,e,t)}class vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class by{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),r=this.queries[n.indexInDeclarationView];o.push(r.clone())}return new by(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ny(e,t).matches&&this.queries[t].setDirty()}}class wy{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class _y{constructor(e=[]){this.queries=e}elementStart(e,t){ngDevMode&&Jt(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const o=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,o);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new _y(t):null}template(e,t){ngDevMode&&Jt(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return ngDevMode&&Pe(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Cy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Cy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const r=n[o];this.matchTNodeWithReadOption(e,t,Dy(t,r)),this.matchTNodeWithReadOption(e,t,Go(t,e,r,!1,!1))}else n===cy?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Go(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===ug||o===dy||o===cy&&4&t.type)this.addMatch(t.index,-2);else{const n=Go(t,e,o,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Dy(e,t){const n=e.localNames;if(null!==n)for(let e=0;e<n.length;e+=2)if(n[e]===t)return n[e+1];return null}function My(e,t,n,o){return-1===n?function(e,t){return 11&e.type?lg(e,t):4&e.type?fy(e,t):null}(t,e):-2===n?function(e,t,n){return n===ug?lg(t,e):n===cy?fy(t,e):n===dy?(ngDevMode&&Io(t,15),my(t,e)):void(ngDevMode&&ke(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${ae(n)}.`))}(e,t,o):Zo(e,e[1],n,t)}function xy(e,t,n,o){const r=t[19].queries[o];if(null===r.matches){const o=e.data,i=n.matches,s=[];for(let e=0;e<i.length;e+=2){const r=i[e];if(r<0)s.push(null);else{ngDevMode&&Pe(o,r);const a=o[r];s.push(My(t,a,i[e+1],n.metadata.read))}}r.matches=s}return r.matches}function Iy(e,t,n,o){const r=e.queries.getByIndex(n),i=r.matches;if(null!==i){const s=xy(e,t,r,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)o.push(s[e/2]);else{const r=i[e+1],s=t[-n];ngDevMode&&qt(s);for(let e=kt;e<s.length;e++){const t=s[e];t[17]===t[3]&&Iy(t[1],t,r,o)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Iy(n[1],n,r,o)}}}}}return o}function Ey(e){const t=Pn(),n=Rn(),o=eo();to(o+1);const r=Ny(n,o);if(e.dirty&&xn(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const i=r.crossesNgTemplate?Iy(n,t,o,[]):xy(n,t,r,o);e.reset(i,fg),e.notifyOnChanges()}return!0}return!1}function Ty(e,t,n){ngDevMode&&we(t,"Expecting flags");const o=Rn();o.firstCreatePass&&(ky(o,new wy(e,t,n),-1),2==(2&t)&&(o.staticViewQueries=!0)),Ay(o,Pn(),t)}function Sy(e,t,n,o){ngDevMode&&we(n,"Expecting flags");const r=Rn();if(r.firstCreatePass){const i=Vn();ky(r,new wy(t,n,o),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Ay(r,Pn(),n)}function Oy(){return e=Pn(),t=eo(),ngDevMode&&Ae(e[19],"LQueries should be defined when trying to load a query"),ngDevMode&&Pe(e[19].queries,t),e[19].queries[t].queryList;var e,t}function Ay(e,t,n){const o=new ay(4==(4&n));Jc(e,t,o,o.destroy),null===t[19]&&(t[19]=new by),t[19].queries.push(new vy(o))}function ky(e,t,n){null===e.queries&&(e.queries=new _y),e.queries.track(new Cy(t,n))}function Ny(e,t){return ngDevMode&&Ae(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(t)}function Py(e,t){return fy(e,t)}const Ry={ɵɵattribute:Vu,ɵɵattributeInterpolate1:Ku,ɵɵattributeInterpolate2:Ju,ɵɵattributeInterpolate3:Gu,ɵɵattributeInterpolate4:Zu,ɵɵattributeInterpolate5:Qu,ɵɵattributeInterpolate6:Yu,ɵɵattributeInterpolate7:Xu,ɵɵattributeInterpolate8:ef,ɵɵattributeInterpolateV:tf,ɵɵdefineComponent:yt,ɵɵdefineDirective:Mt,ɵɵdefineInjectable:je,ɵɵdefineInjector:$e,ɵɵdefineNgModule:_t,ɵɵdefinePipe:xt,ɵɵdirectiveInject:kf,ɵɵgetInheritedFactory:er,ɵɵinject:qr,ɵɵinjectAttribute:nr,ɵɵinvalidFactory:Nf,ɵɵinvalidFactoryDep:zr,ɵɵtemplateRefExtractor:Py,ɵɵNgOnChangesFeature:nn,ɵɵProvidersFeature:rg,ɵɵCopyDefinitionFeature:xu,ɵɵInheritDefinitionFeature:vu,ɵɵnextContext:Qf,ɵɵnamespaceHTML:yo,ɵɵnamespaceMathML:go,ɵɵnamespaceSVG:ho,ɵɵenableBindings:kn,ɵɵdisableBindings:Nn,ɵɵelementStart:jf,ɵɵelementEnd:Vf,ɵɵelement:$f,ɵɵelementContainerStart:Lf,ɵɵelementContainerEnd:Ff,ɵɵelementContainer:Hf,ɵɵpureFunction0:Pg,ɵɵpureFunction1:Rg,ɵɵpureFunction2:jg,ɵɵpureFunction3:Vg,ɵɵpureFunction4:$g,ɵɵpureFunction5:Lg,ɵɵpureFunction6:Fg,ɵɵpureFunction7:Hg,ɵɵpureFunction8:Ug,ɵɵpureFunctionV:Bg,ɵɵgetCurrentView:Uf,ɵɵrestoreView:jn,ɵɵlistener:zf,ɵɵprojection:ed,ɵɵsyntheticHostProperty:xp,ɵɵsyntheticHostListener:Kf,ɵɵpipeBind1:Qg,ɵɵpipeBind2:Yg,ɵɵpipeBind3:Xg,ɵɵpipeBind4:ey,ɵɵpipeBindV:ty,ɵɵprojectionDef:Xf,ɵɵhostProperty:Mp,ɵɵproperty:Pf,ɵɵpropertyInterpolate:td,ɵɵpropertyInterpolate1:nd,ɵɵpropertyInterpolate2:od,ɵɵpropertyInterpolate3:rd,ɵɵpropertyInterpolate4:id,ɵɵpropertyInterpolate5:sd,ɵɵpropertyInterpolate6:ad,ɵɵpropertyInterpolate7:cd,ɵɵpropertyInterpolate8:ld,ɵɵpropertyInterpolateV:ud,ɵɵpipe:Zg,ɵɵqueryRefresh:Ey,ɵɵviewQuery:Ty,ɵɵloadQuery:Oy,ɵɵcontentQuery:Sy,ɵɵreference:rf,ɵɵclassMap:Ed,ɵɵclassMapInterpolate1:Qd,ɵɵclassMapInterpolate2:Yd,ɵɵclassMapInterpolate3:Xd,ɵɵclassMapInterpolate4:ep,ɵɵclassMapInterpolate5:tp,ɵɵclassMapInterpolate6:np,ɵɵclassMapInterpolate7:op,ɵɵclassMapInterpolate8:rp,ɵɵclassMapInterpolateV:ip,ɵɵstyleMap:xd,ɵɵstyleMapInterpolate1:sp,ɵɵstyleMapInterpolate2:ap,ɵɵstyleMapInterpolate3:cp,ɵɵstyleMapInterpolate4:lp,ɵɵstyleMapInterpolate5:up,ɵɵstyleMapInterpolate6:fp,ɵɵstyleMapInterpolate7:dp,ɵɵstyleMapInterpolate8:pp,ɵɵstyleMapInterpolateV:hp,ɵɵstyleProp:Dd,ɵɵstylePropInterpolate1:gp,ɵɵstylePropInterpolate2:yp,ɵɵstylePropInterpolate3:mp,ɵɵstylePropInterpolate4:vp,ɵɵstylePropInterpolate5:bp,ɵɵstylePropInterpolate6:wp,ɵɵstylePropInterpolate7:_p,ɵɵstylePropInterpolate8:Cp,ɵɵstylePropInterpolateV:Dp,ɵɵclassProp:Md,ɵɵadvance:Ua,ɵɵtemplate:nf,ɵɵtext:Fd,ɵɵtextInterpolate:Hd,ɵɵtextInterpolate1:Ud,ɵɵtextInterpolate2:Bd,ɵɵtextInterpolate3:Wd,ɵɵtextInterpolate4:qd,ɵɵtextInterpolate5:zd,ɵɵtextInterpolate6:Kd,ɵɵtextInterpolate7:Jd,ɵɵtextInterpolate8:Gd,ɵɵtextInterpolateV:Zd,ɵɵi18n:zh,ɵɵi18nAttributes:Kh,ɵɵi18nExp:Jh,ɵɵi18nStart:Wh,ɵɵi18nEnd:qh,ɵɵi18nApply:Gh,ɵɵi18nPostprocess:Zh,ɵɵresolveWindow:$s,ɵɵresolveDocument:Ls,ɵɵresolveBody:Fs,ɵɵsetComponentScope:mt,ɵɵsetNgModuleScope:Ct,ɵɵsanitizeHtml:ls,ɵɵsanitizeStyle:us,ɵɵsanitizeResourceUrl:ds,ɵɵsanitizeScript:ps,ɵɵsanitizeUrl:fs,ɵɵsanitizeUrlOrResourceUrl:ys,ɵɵtrustConstantHtml:hs,ɵɵtrustConstantResourceUrl:gs,forwardRef:ue,resolveForwardRef:fe};let jy=null;function Vy(){jy=null}const $y=[];let Ly=!1;function Fy(){if(!Ly){Ly=!0;try{for(let e=$y.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=$y[e];n.declarations&&n.declarations.every(Hy)&&($y.splice(e,1),Qy(t,n))}}finally{Ly=!1}}}function Hy(e){return Array.isArray(e)?e.every(Hy):!!fe(e)}function Uy(e,t={}){By(e,t),function(e,t){$y.push({moduleType:e,ngModule:t})}(e,t)}function By(e,t,n=!1){ngDevMode&&Ae(e,"Required value moduleType"),ngDevMode&&Ae(t,"Required value ngModule");const o=Dr(t.declarations||ct);let r=null;Object.defineProperty(e,dt,{configurable:!0,get:()=>{if(null===r){if(ngDevMode&&t.imports&&t.imports.indexOf(e)>-1)throw new Error(`'${ye(e)}' module can't import itself`);const n=wr({usage:0,kind:"NgModule",type:e});r=n.compileNgModule(Ry,`ng:///${e.name}/ɵmod.js`,{type:e,bootstrap:Dr(t.bootstrap||ct).map(fe),declarations:o.map(fe),imports:Dr(t.imports||ct).map(fe).map(em),exports:Dr(t.exports||ct).map(fe).map(em),schemas:t.schemas?Dr(t.schemas):null,id:t.id||null}),r.schemas||(r.schemas=[])}return r}});let i=null;Object.defineProperty(e,pt,{get:()=>{if(null===i){const t=wr({usage:0,kind:"NgModule",type:e});i=t.compileFactory(Ry,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,deps:oi(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!!ngDevMode});let s=null;Object.defineProperty(e,Be,{get:()=>{if(null===s){ngDevMode&&Wy(e,n);const o={name:e.name,type:e,providers:t.providers||ct,imports:[(t.imports||ct).map(fe),(t.exports||ct).map(fe)]},r=wr({usage:0,kind:"NgModule",type:e});s=r.compileInjector(Ry,`ng:///${e.name}/ɵinj.js`,o)}return s},configurable:!!ngDevMode})}function Wy(e,t,n){if(Jy.get(e))return;let o;if(Jy.set(e,!0),e=fe(e),n){if(o=St(e),!o)throw new Error(`Unexpected value '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}else o=St(e,!0);const r=[],i=Us(o.declarations),s=Us(o.imports);Dr(s).map(qy).forEach((t=>{f(t,e),Wy(t,!1,e)}));const a=Us(o.exports);i.forEach((function(t){It(t=fe(t))||Et(t)||Tt(t)||r.push(`Unexpected value '${ye(t)}' declared by the module '${ye(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),i.forEach((function(e){const t=Et(e=fe(e));!It(e)&&t&&0==t.selectors.length&&r.push(`Directive ${ye(e)} has no selector, please add it!`)}));const c=[...i.map(fe),...Dr(s.map(Zy)).map(fe)];a.forEach((function(t){const n=(It(t=fe(t))?"component":Et(t)&&"directive")||Tt(t)&&"pipe";n&&-1===c.lastIndexOf(t)&&r.push(`Can't export ${n} ${ye(t)} from ${ye(e)} as it was neither declared nor imported!`)})),i.forEach((n=>function(t,n){t=fe(t);const o=Ky.get(t);if(o&&o!==e){if(!n){const n=[o,e].map(ye).sort();r.push(`Type ${ye(t)} is part of the declarations of 2 modules: ${n[0]} and ${n[1]}! Please consider moving ${ye(t)} to a higher module that imports ${n[0]} and ${n[1]}. You can also create a new NgModule that exports and includes ${ye(t)} then import that NgModule in ${n[0]} and ${n[1]}.`)}}else Ky.set(t,e)}(n,t))),i.forEach((function(e){if(It(e=fe(e))){const t=zy(e,"Component");t&&t.entryComponents&&Mr(t.entryComponents,u)}}));const l=zy(e,"NgModule");if(l&&(l.imports&&Dr(l.imports).map(qy).forEach((t=>{f(t,e),Wy(t,!1,e)})),l.bootstrap&&Mr(l.bootstrap,(function(e){It(e=fe(e))||r.push(`${ye(e)} cannot be used as an entry component.`)})),l.bootstrap&&Mr(l.bootstrap,u),l.entryComponents&&Mr(l.entryComponents,u)),r.length)throw new Error(r.join("\n"));function u(e){e=fe(e),Ky.get(e)||r.push(`Component ${ye(e)} is not part of any NgModule or the module has not been imported into your module.`)}function f(e,t){if(It(e=fe(e))||Et(e))throw new Error(`Unexpected directive '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`);if(Tt(e))throw new Error(`Unexpected pipe '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`)}}function qy(e){return(e=fe(e)).ngModule||e}function zy(e,t){let n=null;return o(e.__annotations__),o(e.decorators),n;function o(e){e&&e.forEach(r)}function r(e){n||(Object.getPrototypeOf(e).ngMetadataName==t?n=e:e.type&&Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0]))}}let Ky=new WeakMap,Jy=new WeakMap;function Gy(){Ky=new WeakMap,Jy=new WeakMap,$y.length=0}function Zy(e){return[...Dr(Us(St(e=fe(e),!0).exports).map((e=>St(e)?(Wy(e,!1),Zy(e)):e)))]}function Qy(e,t){const n=Dr(t.declarations||ct),o=Xy(e);n.forEach((t=>{t.hasOwnProperty(lt)?Yy(It(t),o):t.hasOwnProperty(ut)||t.hasOwnProperty(ft)||(t.ngSelectorScope=e)}))}function Yy(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map((e=>e.hasOwnProperty(lt)?It(e):Et(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(t.compilation.pipes).map((e=>Tt(e))),e.schemas=t.schemas,e.tView=null}function Xy(e){if(!tm(e))throw new Error(`${e.name} does not have a module def (ɵmod property)`);const t=St(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Us(t.imports).forEach((e=>{const t=e;if(!tm(t))throw new Error(`Importing ${t.name} which does not have a ɵmod property`);const o=Xy(t);o.exported.directives.forEach((e=>n.compilation.directives.add(e))),o.exported.pipes.forEach((e=>n.compilation.pipes.add(e)))})),Us(t.declarations).forEach((e=>{Tt(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),Us(t.exports).forEach((e=>{const t=e;if(tm(t)){const e=Xy(t);e.exported.directives.forEach((e=>{n.compilation.directives.add(e),n.exported.directives.add(e)})),e.exported.pipes.forEach((e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else Tt(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function em(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function tm(e){return!!St(e)}let nm=0;function om(e,t){("undefined"==typeof ngDevMode||ngDevMode)&&st();let n=null;!function(e,t){ci(t)&&(si.set(e,t),ai.add(e))}(e,t),sm(e,t),Object.defineProperty(e,lt,{get:()=>{if(null===n){const o=wr({usage:0,kind:"component",type:e});if(ci(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const r=jy;let i=t.preserveWhitespaces;void 0===i&&(i=null!==r&&void 0!==r.preserveWhitespaces&&r.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==r&&void 0!==r.defaultEncapsulation?r.defaultEncapsulation:Xe.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,c={...cm(e,t),typeSourceSpan:o.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:i,styles:t.styles||ct,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null};nm++;try{c.usesInheritance&&lm(e),n=o.compileComponent(Ry,a,c)}finally{nm--}if(0===nm&&Fy(),void 0!==e.ngSelectorScope){const t=Xy(e.ngSelectorScope);Yy(n,t)}}return n},configurable:!!ngDevMode})}function rm(e,t){let n=null;sm(e,t||{}),Object.defineProperty(e,ut,{get:()=>{if(null===n){const o=im(e,t||{}),r=wr({usage:0,kind:"directive",type:e});n=r.compileDirective(Ry,o.sourceMapUrl,o.metadata)}return n},configurable:!!ngDevMode})}function im(e,t){const n=e&&e.name,o=`ng:///${n}/ɵdir.js`,r=wr({usage:0,kind:"directive",type:e}),i=cm(e,t);return i.typeSourceSpan=r.createParseSourceSpan("Directive",n,o),i.usesInheritance&&lm(e),{metadata:i,sourceMapUrl:o}}function sm(e,t){let n=null;Object.defineProperty(e,pt,{get:()=>{if(null===n){const o=im(e,t),r=wr({usage:0,kind:"directive",type:e});n=r.compileFactory(Ry,`ng:///${e.name}/ɵfac.js`,{name:o.metadata.name,type:o.metadata.type,typeArgumentCount:0,deps:oi(e),target:r.FactoryTarget.Directive})}return n},configurable:!!ngDevMode})}function am(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function cm(e,t){const n=ni(),o=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||at,propMetadata:o,inputs:t.inputs||ct,outputs:t.outputs||ct,queries:fm(e,o,dm),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!am(e),exportAs:(r=t.exportAs,void 0===r?null:gm(r)),providers:t.providers||null,viewQueries:fm(e,o,pm)};var r}function lm(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)Et(n)||It(n)||!mm(n)||rm(n,null),n=Object.getPrototypeOf(n)}function um(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?gm(n):fe(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function fm(e,t,n){const o=[];for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];i.forEach((t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${r}" of "${ye(e)}" since the query selector wasn't defined.`);if(i.some(hm))throw new Error("Cannot combine @Input decorators with query decorators");o.push(um(r,t))}}))}return o}function dm(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function pm(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function hm(e){return"Input"===e.ngMetadataName}function gm(e){return e.split(",").map((e=>e.trim()))}const ym=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function mm(e){const t=ni();if(ym.some((n=>t.hasLifecycleHook(e,n))))return!0;const n=t.propMetadata(e);for(const e in n){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e],o=n.ngMetadataName;if(hm(n)||dm(n)||pm(n)||"Output"===o||"HostBinding"===o||"HostListener"===o)return!0}}return!1}function vm(e,t){let n=null,o=null;Object.defineProperty(e,pt,{get:()=>{if(null===o){const n=bm(e,t),r=wr({usage:0,kind:"pipe",type:n.type});o=r.compileFactory(Ry,`ng:///${n.name}/ɵfac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:oi(e),target:r.FactoryTarget.Pipe})}return o},configurable:!!ngDevMode}),Object.defineProperty(e,ft,{get:()=>{if(null===n){const o=bm(e,t),r=wr({usage:0,kind:"pipe",type:o.type});n=r.compilePipe(Ry,`ng:///${o.name}/ɵpipe.js`,o)}return n},configurable:!!ngDevMode})}function bm(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const wm=sr("Directive",((e={})=>e),void 0,void 0,((e,t)=>rm(e,t))),_m=sr("Component",((e={})=>({changeDetection:Qe.Default,...e})),wm,void 0,((e,t)=>om(e,t))),Cm=sr("Pipe",(e=>({pure:!0,...e})),void 0,void 0,((e,t)=>vm(e,t))),Dm=lr("Input",(e=>({bindingPropertyName:e}))),Mm=lr("Output",(e=>({bindingPropertyName:e}))),xm=lr("HostBinding",(e=>({hostPropertyName:e}))),Im=lr("HostListener",((e,t)=>({eventName:e,args:t}))),Em=sr("NgModule",(e=>e),void 0,void 0,((e,t)=>Uy(e,t)));function Tm(...e){}const Sm=new fr("Application Initializer");class Om{constructor(e){this.appInits=e,this.resolve=Tm,this.reject=Tm,this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();if(Bf(n))e.push(n);else if(qf(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}}Om.ɵfac=function(e){return new(e||Om)(qr(Sm,8))},Om.ɵprov=je({token:Om,factory:Om.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(Om,[{type:uf,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:Zr,args:[Sm]},{type:Qr}]}]}),null);const Am=new fr("AppId",{providedIn:"root",factory:km});function km(){return`${Pm()}${Pm()}${Pm()}`}const Nm={provide:Am,useFactory:km,deps:[]};function Pm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rm=new fr("Platform Initializer"),jm=new fr("Platform ID"),Vm=new fr("appBootstrapListener"),$m=new fr("Application Packages Root URL");class Lm{log(e){console.log(e)}warn(e){console.warn(e)}}Lm.ɵfac=function(e){return new(e||Lm)},Lm.ɵprov=je({token:Lm,factory:Lm.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(Lm,[{type:uf}],null,null);const Fm=new fr("LocaleId",{providedIn:"root",factory:()=>Kr(Fm,ze.Optional|ze.SkipSelf)||("undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.getLocale()?goog.getLocale():"undefined"!=typeof $localize&&$localize.locale||Vp)}),Hm=new fr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Um=new fr("Translations"),Bm=new fr("TranslationsFormat");var Wm;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Wm||(Wm={}));class qm{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class zm{compileModuleSync(e){return new Ng(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=Us(St(e).declarations).reduce(((e,t)=>{const n=It(t);return n&&e.push(new Dg(n)),e}),[]);return new qm(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}zm.ɵfac=function(e){return new(e||zm)},zm.ɵprov=je({token:zm,factory:zm.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(zm,[{type:uf,args:[{providedIn:"root"}]}],null,null);const Km=new fr("compilerOptions");class Jm{}const Gm=Promise.resolve(0);function Zm(e){"undefined"==typeof Zone?Gm.then((()=>{e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qm{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new iy(!1),this.onMicrotaskEmpty=new iy(!1),this.onStable=new iy(!1),this.onError=new iy(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&t,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let e=it.requestAnimationFrame,t=it.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(it,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,ev(e),e.isCheckStableRunning=!0,Xm(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),ev(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,i,s,a)=>{try{return tv(e),n.invokeTask(r,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),nv(e)}},onInvoke:(n,o,r,i,s,a,c)=>{try{return tv(e),n.invoke(r,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),nv(e)}},onHasTask:(t,n,o,r)=>{t.hasTask(o,r),n===o&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,ev(e),Xm(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,o,r)=>(t.handleError(o,r),e.runOutsideAngular((()=>e.onError.emit(r))),!1)})}(o)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qm.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qm.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,o){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+o,e,Ym,Tm,Tm);try{return r.runTask(i,t,n)}finally{r.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Ym={};function Xm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function ev(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function tv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nv(e){e._nesting--,Xm(e)}class ov{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new iy,this.onMicrotaskEmpty=new iy,this.onStable=new iy,this.onError=new iy}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,o){return e.apply(t,n)}}class rv{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Qm.assertNotInAngularZone(),Zm((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zm((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let o=-1;t&&t>0&&(o=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==o)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}rv.ɵfac=function(e){return new(e||rv)(qr(Qm))},rv.ɵprov=je({token:rv,factory:rv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(rv,[{type:uf}],(function(){return[{type:Qm}]}),null);class iv{constructor(){this._applications=new Map,cv.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return cv.findTestabilityInTree(this,e,t)}}function sv(e){cv=e}iv.ɵfac=function(e){return new(e||iv)},iv.ɵprov=je({token:iv,factory:iv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(iv,[{type:uf}],(function(){return[]}),null);let av,cv=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}};function lv(e,t,n){ngDevMode&&function(e,t="Type passed in is not NgModuleType, it does not have 'ɵmod' property."){St(e)||ke(t)}(n);const o=new Ng(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(o);const r=e.get(Km,[]).concat(t);if(function(e){if(null!==jy){if(e.defaultEncapsulation!==jy.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(e.preserveWhitespaces!==jy.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}jy=e}({defaultEncapsulation:Cv(r.map((e=>e.defaultEncapsulation))),preserveWhitespaces:Cv(r.map((e=>e.preserveWhitespaces)))}),0===si.size)return Promise.resolve(o);const i=function(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}(r.map((e=>e.providers)));if(0===i.length)return Promise.resolve(o);const s=wr({usage:0,kind:"NgModule",type:n}),a=Gl.create({providers:i}).get(s.ResourceLoader);return ii((e=>Promise.resolve(a.get(e)))).then((()=>o))}function uv(e){return e.isBoundToModule}const fv=new fr("AllowMultipleToken");class dv{constructor(e,t){this.name=e,this.token=t}}function pv(e){if(av&&!av.destroyed&&!av.injector.get(fv,!1)){const e="undefined"==typeof ngDevMode||ngDevMode?"There can be only one platform. Destroy the previous one to create a new one.":"";throw new pe(400,e)}ngDevMode&&lu(),av=e.get(vv);const t=e.get(Rm,null);return t&&t.forEach((e=>e())),av}function hv(e,t,n=[]){const o=`Platform: ${t}`,r=new fr(o);return(t=[])=>{let i=mv();if(!i||i.injector.get(fv,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:jl,useValue:"platform"});pv(Gl.create({providers:e,name:o}))}return gv(r)}}function gv(e){const t=mv();if(!t){const e="undefined"==typeof ngDevMode||ngDevMode?"No platform exists!":"";throw new pe(401,e)}if(("undefined"==typeof ngDevMode||ngDevMode)&&!t.injector.get(e,null))throw new pe(400,"A platform with a different configuration has been created. Please destroy it first.");return t}function yv(){av&&!av.destroyed&&av.destroy()}function mv(){return av&&!av.destroyed?av:null}class vv{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new ov:("zone.js"===e?void 0:e)||new Qm({enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),o=[{provide:Qm,useValue:n}];return n.run((()=>{const t=Gl.create({providers:o,parent:this.injector,name:e.moduleType.name}),r=e.create(t),i=r.injector.get(Os,null);if(!i){const e="undefined"==typeof ngDevMode||ngDevMode?"No ErrorHandler. Is platform module (BrowserModule) included?":"";throw new pe(402,e)}return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});r.onDestroy((()=>{_v(this._modules,r),e.unsubscribe()}))})),function(e,t,n){try{const o=n();return Bf(o)?o.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):o}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}(i,n,(()=>{const e=r.injector.get(Om);return e.runInitializers(),e.donePromise.then((()=>(Up(r.injector.get(Fm,Vp)||Vp),this._moduleDoBootstrap(r),r)))}))}))}bootstrapModule(e,t=[]){const n=bv({},t);return lv(this.injector,n,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(wv);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap){const t="undefined"==typeof ngDevMode||ngDevMode?`The module ${ae(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`:"";throw new pe(403,t)}e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed){const e="undefined"==typeof ngDevMode||ngDevMode?"The platform has already been destroyed!":"";throw new pe(404,e)}this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e())),this._destroyed=!0}get destroyed(){return this._destroyed}}function bv(e,t){return Array.isArray(t)?t.reduce(bv,e):{...e,...t}}vv.ɵfac=function(e){return new(e||vv)(qr(Gl))},vv.ɵprov=je({token:vv,factory:vv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(vv,[{type:uf}],(function(){return[{type:Gl}]}),null);class wv{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run((()=>{this.tick()}))}});const s=new o.Observable((e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular((()=>{e.next(this._stable),e.complete()}))})),a=new o.Observable((e=>{let t;this._zone.runOutsideAngular((()=>{t=this._zone.onStable.subscribe((()=>{Qm.assertNotInAngularZone(),Zm((()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))}))}))}));const n=this._zone.onUnstable.subscribe((()=>{Qm.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular((()=>{e.next(!1)})))}));return()=>{t.unsubscribe(),n.unsubscribe()}}));this.isStable=(0,o.merge)(s,a.pipe(oe()))}bootstrap(e,t){if(!this._initStatus.done){const e="undefined"==typeof ngDevMode||ngDevMode?"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.":"";throw new pe(405,e)}let n;n=e instanceof sg?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const o=uv(n)?void 0:this._injector.get(Ig),r=t||n.selector,i=n.create(Gl.NULL,[],r,o),s=i.location.nativeElement,a=i.injector.get(rv,null),c=a&&i.injector.get(iv);return a&&c&&c.registerApplication(s,a),i.onDestroy((()=>{this.detachView(i.hostView),_v(this.components,i),c&&c.unregisterApplication(s)})),this._loadComponent(i),("undefined"==typeof ngDevMode||ngDevMode)&&this._injector.get(Lm).log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick){const e="undefined"==typeof ngDevMode||ngDevMode?"ApplicationRef.tick is called recursively":"";throw new pe(101,e)}try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if("undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular((()=>this._exceptionHandler.handleError(e)))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;_v(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Vm,[]).concat(this._bootstrapListeners).forEach((t=>t(e)))}ngOnDestroy(){this._views.slice().forEach((e=>e.destroy())),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function _v(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Cv(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}wv.ɵfac=function(e){return new(e||wv)(qr(Qm),qr(Gl),qr(Os),qr(cg),qr(Om))},wv.ɵprov=je({token:wv,factory:wv.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(wv,[{type:uf,args:[{providedIn:"root"}]}],(function(){return[{type:Qm},{type:Gl},{type:Os},{type:cg},{type:Om}]}),null);let Dv=!0,Mv=!1;function xv(){return Mv=!0,Dv}function Iv(){if(Mv)throw new Error("Cannot enable prod mode after platform setup.");(void 0===typeof ngDevMode||ngDevMode)&&(it.ngDevMode=!1),Dv=!1}function Ev(e){const t=Og(e);if(!t)throw Sv(e);return new Ng(t)}function Tv(e){const t=Og(e);if(!t)throw Sv(e);return t}function Sv(e){return new Error(`No module with ID ${e} loaded`)}class Ov{}function Av(e){return function(e,t,n){if(jt(e)&&!n){const n=Mn(e.index,t);return new bg(n,n)}if(47&e.type){const e=t[16];return new bg(e,t)}return null}(Vn(),Pn(),16==(16&e))}Ov.__NG_ELEMENT_ID__=Av;class kv extends Ov{}class Nv extends kv{}class Pv{constructor(e,t){this.name=e,this.callback=t}}function Rv(e){return e.map((e=>e.nativeElement))}class jv{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Vv(e):null}get injector(){return eu(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Zl(e)||Yl(e))}get context(){return Zl(this.nativeNode)||Ql(this.nativeNode)}get listeners(){return ru(this.nativeNode).filter((e=>"dom"===e.type))}get references(){return function(e){const t=vs(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let o=n.index+1;for(let r=0;r<n.localNames.length;r+=2)t[n.localNames[r]]=e[o],o++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=vs(e);if(null===t)return[];const n=t.lView[1],o=n.data[t.nodeIndex],r=[],i=1048575&o.providerIndexes,s=o.directiveEnd;for(let e=i;e<s;e++){let t=n.data[e];void 0!==(a=t).type&&void 0!==a.template&&void 0!==a.declaredInputs&&(t=t.type),r.push(t)}var a;return r}(this.nativeNode)}}class Vv extends jv{constructor(e){ngDevMode&&Ne(e),super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=vs(this.nativeNode);return null!==e?e.lView[1].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=vs(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,o=n[e.nodeIndex],r={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const o=Node.prototype;for(;null!==n&&n!==o;){const o=Object.getOwnPropertyDescriptors(n);for(let n in o)if(!n.startsWith("__")&&!n.startsWith("on")){const o=e[n];$v(o)&&(t[n]=o)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,r),function(e,t,n,o){let r=t.propertyBindings;if(null!==r)for(let t=0;t<r.length;t++){const i=r[t],s=o[i].split(Hs),a=s[0];if(s.length>1){let t=s[1];for(let e=1;e<s.length-1;e++)t+=ge(n[i+e-1])+s[e+1];e[a]=t}else e[a]=n[i]}}(r,o,t,n),r}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=vs(t);if(null===n)return{};const o=n.lView[1].data[n.nodeIndex].attrs,r=[];if(o){let t=0;for(;t<o.length;){const n=o[t];if("string"!=typeof n)break;const i=o[t+1];e[n]=i,r.push(n.toLowerCase()),t+=2}}const i=t.attributes;for(let t=0;t<i.length;t++){const n=i[t],o=n.name.toLowerCase();-1===r.indexOf(o)&&(e[o]=n.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return("string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((t=>e[t]=!0)),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const o=e[n];t.push(Wv(o))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let e=0;e<t.length;e++){const o=t[e];n.push(Wv(o))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Lv(this,e,t,!0),t}queryAllNodes(e){const t=[];return Lv(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,o=[];this.listeners.forEach((r=>{if(r.name===e){const e=r.callback;e.call(n,t),o.push(e)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const r=e("__ngUnwrap__");return-1===o.indexOf(r)&&r.call(n,t)}}))}}function $v(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Lv(e,t,n,o){const r=vs(e.nativeNode);null!==r?Fv(r.lView[1].data[r.nodeIndex],r.lView,t,n,o,e.nativeNode):Bv(e.nativeNode,t,n,o)}function Fv(e,t,n,o,r,i){ngDevMode&&Lt(e,t);const s=function(e,t){const n=null===e?-1:e.index;if(-1!==n){ngDevMode&&Lt(e,t);const o=bn(t[n]);return ngDevMode&&null!==o&&!mn(t[11])&&Ne(o),o}return null}(e,t);if(11&e.type){if(Uv(s,n,o,r,i),jt(e)){const s=Mn(e.index,t);s&&s[1].firstChild&&Fv(s[1].firstChild,s,n,o,r,i)}else e.child&&Fv(e.child,t,n,o,r,i),s&&Bv(s,n,o,r);const a=t[e.index];Pt(a)&&Hv(a,n,o,r,i)}else if(4&e.type){const s=t[e.index];Uv(s[7],n,o,r,i),Hv(s,n,o,r,i)}else if(16&e.type){const s=t[16],a=s[6].projection[e.projection];if(Array.isArray(a))for(let e of a)Uv(e,n,o,r,i);else if(a){const e=s[3];Fv(e[1].data[a.index],e,n,o,r,i)}}else e.child&&Fv(e.child,t,n,o,r,i);if(i!==s){const s=4&e.flags?e.projectionNext:e.next;s&&Fv(s,t,n,o,r,i)}}function Hv(e,t,n,o,r){for(let i=kt;i<e.length;i++){const s=e[i],a=s[1].firstChild;a&&Fv(a,s,t,n,o,r)}}function Uv(e,t,n,o,r){if(r!==e){const r=Wv(e);if(!r)return;(o&&r instanceof Vv&&t(r)&&-1===n.indexOf(r)||!o&&t(r)&&-1===n.indexOf(r))&&n.push(r)}}function Bv(e,t,n,o){const r=e.childNodes,i=r.length;for(let e=0;e<i;e++){const i=r[e],s=Wv(i);s&&((o&&s instanceof Vv&&t(s)&&-1===n.indexOf(s)||!o&&t(s)&&-1===n.indexOf(s))&&n.push(s),Bv(i,t,n,o))}}new Map;function Wv(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new Vv(e):new jv(e)),e.__ng_debug__):null}function qv(e){return null}class zv{constructor(){}supports(e){return Su(e)}create(e){return new Jv(e)}}const Kv=(e,t)=>t;class Jv{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kv}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,o=0,r=null;for(;t||n;){const i=!n||t&&t.currentIndex<Yv(n,o,r)?t:n,s=Yv(i,o,r),a=i.currentIndex;if(i===n)o--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)o++;else{r||(r=[]);const e=s-o,t=a-o;if(e!=t){for(let n=0;n<e;n++){const o=n<r.length?r[n]:r[n]=0,i=o+n;t<=i&&i<e&&(r[n]=o+1)}r[i.previousIndex]=t-e}}s!==a&&e(i,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Su(e)){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${ae(e)}'. Only arrays and iterables are allowed`:"";throw new pe(900,t)}return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,o,r=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],o=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,o)?(i&&(r=this._verifyReinsertion(r,n,o,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,o,t),i=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Eu()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(e,(e=>{o=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,o)?(i&&(r=this._verifyReinsertion(r,e,o,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,o,t),i=!0),r=r._next,t++})),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,o){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,o)):e=this._addAfter(new Gv(t,n),r,o),e}_verifyReinsertion(e,t,n,o){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,r=e._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qv),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Gv{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zv{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Qv{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Zv,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,o=this.map.get(n);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yv(e,t,n){const o=e.previousIndex;if(null===o)return o;let r=0;return n&&o<n.length&&(r=n[o]),o+t+r}class Xv{constructor(){}supports(e){return e instanceof Map||Ou(e)}create(){return new eb}}class eb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ou(e))){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${ae(e)}'. Only maps and objects are allowed`:"";throw new pe(900,t)}}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,o)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const o=n._prev,r=n._next;return o&&(o._next=r),r&&(r._prev=o),n._next=null,n._prev=null,n}const n=new tb(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((n=>t(e[n],n)))}}class tb{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nb(){return new ob([new zv])}class ob{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new ob(e)}static extend(e){return{provide:ob,useFactory:t=>ob.create(e,t||nb()),deps:[[ob,new Xr,new Qr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;{const t="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`:"";throw new pe(901,t)}var n}}function rb(){return new ib([new Xv])}ob.ɵprov=je({token:ob,providedIn:"root",factory:nb});class ib{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new ib(e)}static extend(e){return{provide:ib,useFactory:t=>ib.create(e,t||rb()),deps:[[ib,new Xr,new Qr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(t)return t;const n="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}'`:"";throw new pe(901,n)}}ib.ɵprov=je({token:ib,providedIn:"root",factory:rb});const sb=[new Xv],ab=[new zv],cb=new ob(ab),lb=new ib(sb),ub=hv(null,"core",[{provide:jm,useValue:"unknown"},{provide:vv,deps:[Gl]},{provide:iv,deps:[]},{provide:Lm,deps:[]}]);class fb{constructor(e){}}fb.ɵfac=function(e){return new(e||fb)(qr(wv))},fb.ɵmod=_t({type:fb}),fb.ɵinj=$e({}),("undefined"==typeof ngDevMode||ngDevMode)&&xg(fb,[{type:Em}],(function(){return[{type:wv}]}),null);const db=!0;function pb(e){return wr({usage:1,kind:"directive",type:e.type}).compileDirectiveDeclaration(Ry,`ng:///${e.type.name}/ɵfac.js`,e)}function hb(e){xg(e.type,e.decorators,e.ctorParameters??null,e.propDecorators??null)}function gb(e){return wr({usage:1,kind:"component",type:e.type}).compileComponentDeclaration(Ry,`ng:///${e.type.name}/ɵcmp.js`,e)}function yb(e){return wr({usage:1,kind:mb(e.target),type:e.type}).compileFactoryDeclaration(Ry,`ng:///${e.type.name}/ɵfac.js`,e)}function mb(e){switch(e){case vr.Directive:return"directive";case vr.Component:return"component";case vr.Injectable:return"injectable";case vr.Pipe:return"pipe";case vr.NgModule:return"NgModule"}}function vb(e){return wr({usage:1,kind:"injectable",type:e.type}).compileInjectableDeclaration(Ry,`ng:///${e.type.name}/ɵprov.js`,e)}function bb(e){return wr({usage:1,kind:"NgModule",type:e.type}).compileInjectorDeclaration(Ry,`ng:///${e.type.name}/ɵinj.js`,e)}function wb(e){return wr({usage:1,kind:"NgModule",type:e.type}).compileNgModuleDeclaration(Ry,`ng:///${e.type.name}/ɵmod.js`,e)}function _b(e){return wr({usage:1,kind:"pipe",type:e.type}).compilePipeDeclaration(Ry,`ng:///${e.type.name}/ɵpipe.js`,e)}"undefined"!=typeof ngDevMode&&ngDevMode&&(it.$localize=it.$localize||function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.checkKeyForDid=e.EProofmeDataStorage=e.EProofmeDataPurpose=e.EClaimType=e.ESignatureTypes=e.EMimeType=e.getSubDomain=e.SignalServerV2=e.ProofmeUtils=e.ProofmeUtilsProvider=e.WebRtcProvider=e.SignalingServer=void 0;var t=n(515);Object.defineProperty(e,"SignalingServer",{enumerable:!0,get:function(){return t.SignalingServer}});var r=n(299);Object.defineProperty(e,"WebRtcProvider",{enumerable:!0,get:function(){return r.WebRtcProvider}});var i=n(611);Object.defineProperty(e,"ProofmeUtilsProvider",{enumerable:!0,get:function(){return i.ProofmeUtilsProvider}});var s=n(810);Object.defineProperty(e,"ProofmeUtils",{enumerable:!0,get:function(){return s.ProofmeUtils}});var a=n(930);Object.defineProperty(e,"SignalServerV2",{enumerable:!0,get:function(){return a.SignalServerV2}});var c=n(733);Object.defineProperty(e,"getSubDomain",{enumerable:!0,get:function(){return c.getSubDomain}});var l=n(346);Object.defineProperty(e,"EMimeType",{enumerable:!0,get:function(){return l.EMimeType}});var u=n(632);Object.defineProperty(e,"ESignatureTypes",{enumerable:!0,get:function(){return u.ESignatureTypes}});var f=n(869);Object.defineProperty(e,"EClaimType",{enumerable:!0,get:function(){return f.EClaimType}});var d=n(945);Object.defineProperty(e,"EProofmeDataPurpose",{enumerable:!0,get:function(){return d.EProofmeDataPurpose}});var p=n(491);Object.defineProperty(e,"EProofmeDataStorage",{enumerable:!0,get:function(){return p.EProofmeDataStorage}});var h=n(918);Object.defineProperty(e,"checkKeyForDid",{enumerable:!0,get:function(){return h.checkKeyForDid}})})(),o})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvb2ZtZWlkLXdlYnJ0Yy13ZWIuanMiLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBbUIsVUFBSUQsSUFFdkJELEVBQWdCLFVBQUlDLElBUnRCLENBU0dLLE1BQU0sV0FDVCw0Q0NWQSxJQUFZQyx3RUFBQUEsRUFBQUwsRUFBQUEsYUFBQUEsRUFBQUEsV0FBVSxLQUNsQkssRUFBQUEsZUFBQUEsS0FBQUEsaUJBQ0FBLEVBQUFBLEVBQUFBLGFBQUFBLEtBQUFBLGVBQ0FBLEVBQUFBLEVBQUFBLFdBQUFBLE1BQUFBLGFBQ0FBLEVBQUFBLEVBQUFBLE1BQUFBLE1BQUFBLGtDQ0pKLElBQVlDLDZFQUFBQSxFQUFBTixFQUFBQSxrQkFBQUEsRUFBQUEsZ0JBQWUsS0FDdkJNLEtBQUFBLElBQ0FBLEVBQUFBLGVBQUFBLElBQ0FBLEVBQUFBLFdBQUFBLElBQ0FBLEVBQUFBLGlCQUFBQSxJQUNBQSxFQUFBQSxlQUFBQSw4QkNMSixJQUFZQyx1RUFBQUEsRUFBQVAsRUFBQUEsWUFBQUEsRUFBQUEsVUFBUyxLQUNqQk8sSUFBQUEsWUFDQUEsRUFBQUEsSUFBQUEsd0JBQ0FBLEVBQUFBLElBQUFBLHdCQUNBQSxFQUFBQSxJQUFBQSxrQkFDQUEsRUFBQUEsSUFBQUEsK0JBQ0FBLEVBQUFBLElBQUFBLDJCQUNBQSxFQUFBQSxJQUFBQSxZQUNBQSxFQUFBQSxHQUFBQSxxQkFDQUEsRUFBQUEsSUFBQUEsc0JBQ0FBLEVBQUFBLElBQUFBLG9CQUNBQSxFQUFBQSxJQUFBQSxXQUNBQSxFQUFBQSxJQUFBQSxXQUNBQSxFQUFBQSxJQUFBQSxxQkFDQUEsRUFBQUEsS0FBQUEsMEVBQ0FBLEVBQUFBLElBQUFBLGdDQUNBQSxFQUFBQSxLQUFBQSx1QkFDQUEsRUFBQUEsR0FBQUEsbUJBQ0FBLEVBQUFBLElBQUFBLFlBQ0FBLEVBQUFBLElBQUFBLFlBQ0FBLEVBQUFBLEtBQUFBLFlBQ0FBLEVBQUFBLElBQUFBLDJCQUNBQSxFQUFBQSxJQUFBQSxnQkFDQUEsRUFBQUEsSUFBQUEsMkJBQ0FBLEVBQUFBLEtBQUFBLE9BQ0FBLEVBQUFBLEdBQUFBLGtCQUNBQSxFQUFBQSxLQUFBQSxtQkFDQUEsRUFBQUEsT0FBQUEsc0JBQ0FBLEVBQUFBLElBQUFBLFFBQ0FBLEVBQUFBLElBQUFBLGtCQUNBQSxFQUFBQSxJQUFBQSxhQUNBQSxFQUFBQSxLQUFBQSxhQUNBQSxFQUFBQSxLQUFBQSxzQ0FDQUEsRUFBQUEsSUFBQUEsa0RBQ0FBLEVBQUFBLElBQUFBLGlEQUNBQSxFQUFBQSxJQUFBQSwwQ0FDQUEsRUFBQUEsSUFBQUEsWUFDQUEsRUFBQUEsSUFBQUEsWUFDQUEsRUFBQUEsSUFBQUEsa0JBQ0FBLEVBQUFBLEtBQUFBLGFBQ0FBLEVBQUFBLElBQUFBLFdBQ0FBLEVBQUFBLElBQUFBLFlBQ0FBLEVBQUFBLElBQUFBLGtCQUNBQSxFQUFBQSxJQUFBQSxrQkFDQUEsRUFBQUEsSUFBQUEsZ0NBQ0FBLEVBQUFBLEtBQUFBLDRFQUNBQSxFQUFBQSxJQUFBQSxzQkFDQUEsRUFBQUEsSUFBQUEsa0JBQ0FBLEVBQUFBLEdBQUFBLG1CQUNBQSxFQUFBQSxJQUFBQSxnQkFDQUEsRUFBQUEsSUFBQUEsZ0NBQ0FBLEVBQUFBLElBQUFBLG9CQUNBQSxFQUFBQSxJQUFBQSxhQUNBQSxFQUFBQSxLQUFBQSxhQUNBQSxFQUFBQSxHQUFBQSxhQUNBQSxFQUFBQSxJQUFBQSxXQUNBQSxFQUFBQSxJQUFBQSxhQUNBQSxFQUFBQSxJQUFBQSxhQUNBQSxFQUFBQSxJQUFBQSx3QkFDQUEsRUFBQUEsSUFBQUEsWUFDQUEsRUFBQUEsS0FBQUEsYUFDQUEsRUFBQUEsS0FBQUEsYUFDQUEsRUFBQUEsS0FBQUEsYUFDQUEsRUFBQUEsS0FBQUEsWUFDQUEsRUFBQUEsTUFBQUEsYUFDQUEsRUFBQUEsTUFBQUEsd0JBQ0FBLEVBQUFBLElB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QVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGFBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxTQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGVBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxTQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGVBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLGNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsS0FDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxRQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE9BQ1IsS0FBUSxVQUdo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U0FBQWhqQix1QkFHVCxhQUFTMkUsT0FBQUEsZUFBQUEsRUFBQUEsaUJBQUFBLENBQUFzZSxZQUFBQSxFQUFBRCxJQUFBQSxXQUFBLFNBQUEyeEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9jbGFpbVR5cGVzLmVudW0udHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2VudW1zL2RpZEFjY2Vzc0xldmVsLmVudW0udHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2VudW1zL21pbWVUeXBlcy5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9wcm9vZm1lRGF0YVB1cnBvc2UudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2VudW1zL3Byb29mbWVEYXRhU3RvcmFnZS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvc2lnbmF0dXJlVHlwZXMuZW51bS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvaGVscGVycy9zaWduYWxIZWxwZXJzLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9wcm9vZm1lLXV0aWxzLnByb3ZpZGVyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9wcm9vZm1lLXV0aWxzLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zaWduYWxTZXJ2ZXIvc2lnbmFsU2VydmVyVjIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3NpZ25hbGluZ1NlcnZlci50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvc21hcnRjb250cmFjdHMvY2xhaW1Ib2xkZXJBYmkudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3NtYXJ0Y29udHJhY3RzL2lkZW50aXR5LnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy91dGlscy9nbG9iYWwvdjFVdGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvdXRpbHMvc21hcnRDb250cmFjdHMvc21hcnRDb250cmFjdFV0aWxzLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy93ZWJSdGMucHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3dlYlJ0Y0NsaWVudFYyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcInJ4anNcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ1dWlkXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwid2ViM1wiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndlYnNvY2tldFwiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndydGNcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ3c1wiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcInRzbGliXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyclJlbW92ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvTm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2Vycm9yQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbm5lckZyb20uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbGlmdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zaGFyZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL2Zlc20yMDIwL2NvcmUubWpzIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJQcm9vZm1lSWRcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUHJvb2ZtZUlkXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiZXhwb3J0IGVudW0gRUNsYWltVHlwZSB7XG4gICAgU0lHTkVEX0NPTlRFTlQgPSAxMDAwLFxuICAgIENPTVBBTllfSU5GTyA9IDIwMDAsXG4gICAgVkFMSURBVE9SUyA9IDIwMDEsXG4gICAgVVNFUlMgPSAyMDAyXG59IiwiZXhwb3J0IGVudW0gRURJREFjY2Vzc0xldmVsIHtcbiAgICBOT05FPSBcIjBcIixcbiAgICBNQU5BR0VNRU5UX0tFWT0gXCIxXCIsXG4gICAgQUNUSU9OX0tFWSA9IFwiMlwiLFxuICAgIENMQUlNX1NJR05FUl9LRVkgPSBcIjNcIixcbiAgICBFTkNSWVBUSU9OX0tFWSA9IFwiNFwiXG59IiwiZXhwb3J0IGVudW0gRU1pbWVUeXBlIHtcbiAgICBBQUMgPSBcImF1ZGlvL2FhY1wiLFxuICAgIEFCVyA9IFwiYXBwbGljYXRpb24veC1hYml3b3JkXCIsXG4gICAgQVJDID0gXCJhcHBsaWNhdGlvbi94LWZyZWVhcmNcIixcbiAgICBBVkkgPSBcInZpZGVvL3gtbXN2aWRlb1wiLFxuICAgIEFaVyA9IFwiYXBwbGljYXRpb24vdm5kLmFtYXpvbi5lYm9va1wiLFxuICAgIEJJTiA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsXG4gICAgQk1QID0gXCJpbWFnZS9ibXBcIixcbiAgICBCWiA9IFwiYXBwbGljYXRpb24veC1iemlwXCIsXG4gICAgQloyID0gXCJhcHBsaWNhdGlvbi94LWJ6aXAyXCIsXG4gICAgQ1NIID0gXCJhcHBsaWNhdGlvbi94LWNzaFwiLFxuICAgIENTUyA9IFwidGV4dC9jc3NcIixcbiAgICBDU1YgPSBcInRleHQvY3N2XCIsXG4gICAgRE9DID0gXCJhcHBsaWNhdGlvbi9tc3dvcmRcIixcbiAgICBET0NYID0gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiLFxuICAgIEVPVCA9IFwiYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3RcIixcbiAgICBFUFVCID0gXCJhcHBsaWNhdGlvbi9lcHViK3ppcFwiLFxuICAgIEdaID0gXCJhcHBsaWNhdGlvbi9nemlwXCIsXG4gICAgR0lGID0gXCJpbWFnZS9naWZcIixcbiAgICBIVE0gPSBcInRleHQvaHRtbFwiLFxuICAgIEhUTUwgPSBcInRleHQvaHRtbFwiLFxuICAgIElDTyA9IFwiaW1hZ2Uvdm5kLm1pY3Jvc29mdC5pY29uXCIsXG4gICAgSUNTID0gXCJ0ZXh0L2NhbGVuZGFyXCIsXG4gICAgSkFSID0gXCJhcHBsaWNhdGlvbi9qYXZhLWFyY2hpdmVcIixcbiAgICBKUEVHID0gXCIuanBnXCIsXG4gICAgSlMgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIEpTT04gPSBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBKU09OTEQgPSBcImFwcGxpY2F0aW9uL2xkK2pzb25cIixcbiAgICBNSUQgPSBcIi5taWRpXCIsXG4gICAgTUpTID0gXCJ0ZXh0L2phdmFzY3JpcHRcIixcbiAgICBNUDMgPSBcImF1ZGlvL21wZWdcIixcbiAgICBNUEVHID0gXCJ2aWRlby9tcGVnXCIsXG4gICAgTVBLRyA9IFwiYXBwbGljYXRpb24vdm5kLmFwcGxlLmluc3RhbGxlcit4bWxcIixcbiAgICBPRFAgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uXCIsXG4gICAgT0RTID0gXCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0XCIsXG4gICAgT0RUID0gXCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHRcIixcbiAgICBPR0EgPSBcImF1ZGlvL29nZ1wiLFxuICAgIE9HViA9IFwidmlkZW8vb2dnXCIsXG4gICAgT0dYID0gXCJhcHBsaWNhdGlvbi9vZ2dcIixcbiAgICBPUFVTID0gXCJhdWRpby9vcHVzXCIsXG4gICAgT1RGID0gXCJmb250L290ZlwiLFxuICAgIFBORyA9IFwiaW1hZ2UvcG5nXCIsXG4gICAgUERGID0gXCJhcHBsaWNhdGlvbi9wZGZcIixcbiAgICBQSFAgPSBcImFwcGxpY2F0aW9uL3BocFwiLFxuICAgIFBQVCA9IFwiYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnRcIixcbiAgICBQUFRYID0gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwucHJlc2VudGF0aW9uXCIsXG4gICAgUkFSID0gXCJhcHBsaWNhdGlvbi92bmQucmFyXCIsXG4gICAgUlRGID0gXCJhcHBsaWNhdGlvbi9ydGZcIixcbiAgICBTSCA9IFwiYXBwbGljYXRpb24veC1zaFwiLFxuICAgIFNWRyA9IFwiaW1hZ2Uvc3ZnK3htbFwiLFxuICAgIFNXRiA9IFwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIixcbiAgICBUQVIgPSBcImFwcGxpY2F0aW9uL3gtdGFyXCIsXG4gICAgVElGID0gXCJpbWFnZS90aWZmXCIsXG4gICAgVElGRiA9IFwiaW1hZ2UvdGlmZlwiLFxuICAgIFRTID0gXCJ2aWRlby9tcDJ0XCIsXG4gICAgVFRGID0gXCJmb250L3R0ZlwiLFxuICAgIFRYVCA9IFwidGV4dC9wbGFpblwiLFxuICAgIFVSSSA9IFwidGV4dC94LXVyaVwiLFxuICAgIFZTRCA9IFwiYXBwbGljYXRpb24vdm5kLnZpc2lvXCIsXG4gICAgV0FWID0gXCJhdWRpby93YXZcIixcbiAgICBXRUJBID0gXCJhdWRpby93ZWJtXCIsXG4gICAgV0VCTSA9IFwidmlkZW8vd2VibVwiLFxuICAgIFdFQlAgPSBcImltYWdlL3dlYnBcIixcbiAgICBXT0ZGID0gXCJmb250L3dvZmZcIixcbiAgICBXT0ZGMiA9IFwiZm9udC93b2ZmMlwiLFxuICAgIFhIVE1MID0gXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcIixcbiAgICBYTFMgPSBcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbFwiLFxuICAgIFhMU1ggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0XCIsXG4gICAgWE1MID0gXCJYTUxcIixcbiAgICBYVUwgPSBcImFwcGxpY2F0aW9uL3ZuZC5tb3ppbGxhLnh1bCt4bWxcIixcbiAgICBaSVAgPSBcImFwcGxpY2F0aW9uL3ppcFwiLFxuICAgIEdQMyA9IFwidmlkZW8vM2dwcFwiLFxuICAgIEcyMyA9IFwidmlkZW8vM2dwcDJcIixcbiAgICBaNyA9IFwiYXBwbGljYXRpb24veC03ei1jb21wcmVzc2VkXCJcbn0iLCJleHBvcnQgZW51bSBFUHJvb2ZtZURhdGFQdXJwb3NlIHtcbiAgICBJREVOVElGSUNBVElPTiA9IFwiSURFTlRJRklDQVRJT05cIixcbiAgICBBR0VfVkVSSUZJQ0FUSU9OID0gXCJBR0VfVkVSSUZJQ0FUSU9OXCIsXG4gICAgUFJPT0ZNRV9DT05ORUNUID0gXCJQUk9PRk1FX0NPTk5FQ1RcIixcbiAgICBLWUNfVkVSSUZJQ0FUSU9OID0gXCJLWUNfVkVSSUZJQ0FUSU9OXCIsXG4gICAgQUNDRVNTX0NPTlRST0wgPSBcIkFDQ0VTU19DT05UUk9MXCJcbn0iLCJleHBvcnQgZW51bSBFUHJvb2ZtZURhdGFTdG9yYWdlIHtcbiAgICBEQVRBQkFTRSA9IFwiREFUQUJBU0VcIixcbiAgICBDRVJUSUZJQ0FURSA9IFwiQ0VSVElGSUNBVEVcIixcbiAgICBOT1RfU1RPUkVEID0gXCJOT1RfU1RPUkVEXCJcbn0iLCJleHBvcnQgZW51bSBFU2lnbmF0dXJlVHlwZXMge1xuICAgIEVDRFNBID0gXCJFQ0RTQVwiLFxuICAgIFJTQSA9IFwiUlNBXCIsXG4gICAgSE1BQyA9IFwiSE1BQ1wiXG59IiwiaW1wb3J0IHsgSUNvbm5lY3Rpb25EZXRhaWxzIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY29ubmVjdGlvbkRldGFpbHNcIjtcbmltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgY2hhbm5lbElkIGlzIHZhbGlkIGFuZCBleGlzdHNcbiAqIEBwYXJhbSBjaGFubmVsSWRcbiAqIEBwYXJhbSBjb25uZWN0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRDaGFubmVsSWQoY2hhbm5lbElkOiBzdHJpbmcsIGNvbm5lY3Rpb25zOiBJQ29ubmVjdGlvbkRldGFpbHNbXSk6IGJvb2xlYW4ge1xuICAgIC8vIENoZWNrIGlmIGNoYW5uZWxJZCBpcyBwcmVzZW50IGluIGNvbm5lY3Rpb25zXG4gICAgLy8gQ2hlY2sgaWYgY2hhbm5lbElkIGlzIG5vdCBhbHJlYWR5IGNvbm5lY3RlZFxuICAgIGNvbnN0IGhvc3RzID0gY29ubmVjdGlvbnMuZmlsdGVyKChjbGllbnQ6IElDb25uZWN0aW9uRGV0YWlscykgPT4ge1xuICAgICAgICByZXR1cm4gY2xpZW50LnV1aWQgPT09IGNoYW5uZWxJZCAmJiBjbGllbnQuY2hhbm5lbCA9PT0gbnVsbCAmJiBjbGllbnQuaG9zdCA9PT0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBob3N0cy5sZW5ndGggPT09IDE7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIFJUQyBwZWVyY29ubmVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyh0eXBlOiBzdHJpbmcsIHR1cm5FeHBpcmF0aW9uOiBudW1iZXIsIHR1cm5TZWNyZXQ6IHN0cmluZywgdHVyblVybDogc3RyaW5nIHwgc3RyaW5nW10pOiBSVENDb25maWd1cmF0aW9uIHtcbiAgICBjb25zdCB0aW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgY29uc3QgdXNlcm5hbWUgPSBgJHt0aW1lICsgdHVybkV4cGlyYXRpb259OiR7dHlwZX1gO1xuICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjcnlwdG8uY3JlYXRlSG1hYyhcInNoYTFcIiwgdHVyblNlY3JldCkudXBkYXRlKHVzZXJuYW1lLnRvU3RyaW5nKCkpLmRpZ2VzdChcImJhc2U2NFwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpY2VDYW5kaWRhdGVQb29sU2l6ZTogNSxcbiAgICAgICAgaWNlU2VydmVyczogW3tcbiAgICAgICAgICAgIHVybHM6IHR1cm5VcmwsXG4gICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIH1dLFxuICAgIH0gYXMgUlRDQ29uZmlndXJhdGlvbjtcbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgSVZhbGlkYXRlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy92YWxpZGF0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDcmVkZW50aWFsT2JqZWN0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jcmVkZW50aWFsc09iamVjdC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuaW1wb3J0IHsgUHJvb2ZtZVV0aWxzIH0gZnJvbSBcIi4vcHJvb2ZtZS11dGlsc1wiO1xuaW1wb3J0IHsgSUNoYWxsZW5nZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2hhbGxlbmdlLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgRUNsYWltVHlwZSB9IGZyb20gXCIuL2VudW1zL2NsYWltVHlwZXMuZW51bVwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUHJvb2ZtZVV0aWxzUHJvdmlkZXIge1xuXG4gICAgcHJvb2ZtZVV0aWxzID0gbmV3IFByb29mbWVVdGlscygpO1xuXG5cdGFzeW5jIGlzVmFsaWRDcmVkZW50aWFscyhjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCwgd2ViM1VybDogc3RyaW5nLCByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCB0cnVzdGVkRGlkczogc3RyaW5nW10sIGNoZWNrVXNlck5vbmNlOiBib29sZWFuLCBsaXZlbmVzc0NoZWNrUmVxdWlyZWQ/OiBib29sZWFuKTogUHJvbWlzZTxJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfCBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdD4gIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmlzVmFsaWRDcmVkZW50aWFscyhjcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsLCByZXF1ZXN0ZWRDcmVkZW50aWFscywgdHJ1c3RlZERpZHMsIGNoZWNrVXNlck5vbmNlLCBsaXZlbmVzc0NoZWNrUmVxdWlyZWQpO1xuICAgIH1cblxuICAgIGdldFNpZ25hdHVyZShtZXNzYWdlOiBhbnksIHByaXZhdGVLZXk6IHN0cmluZyk6IHN0cmluZyAge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9vZm1lVXRpbHMuZ2V0U2lnbmF0dXJlKG1lc3NhZ2UsIHByaXZhdGVLZXkpO1xuICAgIH1cblxuICAgIHNpZ25DcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWw6IElDcmVkZW50aWFsT2JqZWN0LCBwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLnNpZ25DcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWwsIHByaXZhdGVLZXkpO1xuICAgIH1cblxuICAgIHNpZ25SZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCBkaWQ6IHN0cmluZywgcHJpdmF0ZUtleTogc3RyaW5nKTogSVJlcXVlc3RlZENyZWRlbnRpYWxzICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5zaWduUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHMsIGRpZCwgcHJpdmF0ZUtleSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaXNWYWxpZFJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1ob2xkZXJBYmk6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4gIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmlzVmFsaWRSZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybCwgY2xhaW1ob2xkZXJBYmkpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRMaWNlbnNlKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1Ib2xkZXJBYmk6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4gIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmlzVmFsaWRMaWNlbnNlKHJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsLCBjbGFpbUhvbGRlckFiaSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDaGFsbGVuZ2UocHVibGljS2V5OiBzdHJpbmcsIGRpZDogc3RyaW5nLCBob3N0OiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElDaGFsbGVuZ2UgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdlbmVyYXRlQ2hhbGxlbmdlKHB1YmxpY0tleSwgZGlkLCBob3N0LCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDbGFpbShjbGFpbVR5cGU6IEVDbGFpbVR5cGUsIGNvbnRyYWN0QWRkcmVzczogc3RyaW5nLCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltSG9sZGVyQWJpOiBhbnkpOiBQcm9taXNlPGFueT4gIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvb2ZtZVV0aWxzLmdldENsYWltKGNsYWltVHlwZSwgY29udHJhY3RBZGRyZXNzLCB3ZWIzVXJsLCBjbGFpbUhvbGRlckFiaSk7XG4gICAgfVxuXG4gICAgZ2V0Q29udHJhY3RBZGRyZXNzRnJvbURpZChkaWQ6IHN0cmluZyk6IHN0cmluZyAge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9vZm1lVXRpbHMuZ2V0Q29udHJhY3RBZGRyZXNzRnJvbURpZChkaWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgV2ViMyBmcm9tIFwid2ViM1wiO1xuaW1wb3J0IHsgRUNsYWltVHlwZSB9IGZyb20gXCIuL2VudW1zL2NsYWltVHlwZXMuZW51bVwiO1xuaW1wb3J0IHsgRURJREFjY2Vzc0xldmVsIH0gZnJvbSBcIi4vZW51bXMvZGlkQWNjZXNzTGV2ZWwuZW51bVwiO1xuaW1wb3J0IHsgRVNpZ25hdHVyZVR5cGVzIH0gZnJvbSBcIi4vZW51bXMvc2lnbmF0dXJlVHlwZXMuZW51bVwiO1xuaW1wb3J0IHsgSUFkZGl0aW9uYWxJbmZvIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9hZGRpdGlvbmFsLWluZm8uaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ2hhbGxlbmdlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jaGFsbGVuZ2UuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ2hlY2tlZERpZCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2hlY2tlZERpZC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElTaWduZWRDb250ZW50IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jbGFpbXMvc2lnbmVkQ29udGVudC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDb21wYW55SW5mbyB9IGZyb20gXCIuL2ludGVyZmFjZXMvY29tcGFueUluZm8uaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDcmVkZW50aWFsT2JqZWN0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jcmVkZW50aWFsc09iamVjdC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElQcm9vZiB9IGZyb20gXCIuL2ludGVyZmFjZXMvcHJvb2YuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbEtleSB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbEtleS5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuaW1wb3J0IHsgSVZhbGlkYXRlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy92YWxpZGF0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IGNsYWltSG9sZGVyQWJpIH0gZnJvbSBcIi4vc21hcnRjb250cmFjdHMvY2xhaW1Ib2xkZXJBYmlcIjtcblxuZXhwb3J0IGNsYXNzIFByb29mbWVVdGlscyB7XG5cbiAgICBleGNsdWRlZENyZWRlbnRpYWxQcm92aWRlcnMgPSBbXCJPV05cIiwgXCJBRERJVElPTkFMX0lORk9cIiwgXCJTSUdOQVRVUkVcIl07XG5cbiAgICBhc3luYyBpc1ZhbGlkQ3JlZGVudGlhbHMoXG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LFxuICAgICAgICB3ZWIzVXJsOiBzdHJpbmcsXG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsXG4gICAgICAgIHRydXN0ZWREaWRzOiBzdHJpbmdbXSxcbiAgICAgICAgY2hlY2tVc2VyTm9uY2U6IGJvb2xlYW4sXG4gICAgICAgIGxpdmVuZXNzQ2hlY2tSZXF1aXJlZD86IGJvb2xlYW5cbiAgICApOiBQcm9taXNlPElWYWxpZGF0ZWRDcmVkZW50aWFscyB8IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0PiB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENoZWNrUmVzdWx0ID0gdGhpcy5yZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcnJlY3QoY3JlZGVudGlhbE9iamVjdCwgcmVxdWVzdGVkQ3JlZGVudGlhbHMpO1xuICAgICAgICBpZiAoIXJlcXVlc3RlZENoZWNrUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJlcXVlc3RlZENoZWNrUmVzdWx0LmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbE9iamVjdDtcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZWRDaGVja1Jlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNoZWNrQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdCwgd2ViM1VybCwgY2hlY2tVc2VyTm9uY2UsIGxpdmVuZXNzQ2hlY2tSZXF1aXJlZCk7XG4gICAgICAgIC8vIElmIHRoZSBcIm5vcm1hbFwiIGNoZWNrIHdhcyBub3QgdmFsaWQsIGRvbid0IGNoZWNrIHRoZSB0cnVzdGVkIHBhcnRpZXMgYnV0IHJldHVybiB0aGUgcmVzdWx0XG4gICAgICAgIGlmICghcmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0cnVzdGVkIGFkZHJlc3NlcyBhcmUgYWRkcmVzc2VzXG4gICAgICAgIGZvciAoY29uc3QgZGlkIG9mIHRydXN0ZWREaWRzKSB7XG4gICAgICAgICAgICBpZiAoIXdlYjMudXRpbHMuaXNBZGRyZXNzKGRpZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUcnVzdGVkIHBhcnR5IGRpZCAke2RpZH0gaXMgTk9UIGEgdmFsaWQgYWRkcmVzcyBhbmQgaXMgcmVtb3ZlZC5gKTtcbiAgICAgICAgICAgICAgICB0cnVzdGVkRGlkcyA9IHRydXN0ZWREaWRzLmZpbHRlcih4ID0+IHggIT09IGRpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRydXN0ZWREaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWREaWQgPSBbXTtcbiAgICAgICAgICAgIGxldCB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgICAgIGxldCBjcmVkZW50aWFsc0Ftb3VudCA9IDA7XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkQ3JlZGVudGlhbHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyLF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjaGVjayBvd24gcHJvdmlkZWQgY3JlZGVudGlhbHNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5leGNsdWRlZENyZWRlbnRpYWxQcm92aWRlcnMuaW5jbHVkZXMocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtjdXJyZW50Q3JlZGVudGlhbEtleSwgY3JlZGVudGlhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyA9IChjcmVkZW50aWFsIGFzIElDcmVkZW50aWFsKS5pc3N1ZXIuaWQuc3BsaXQoXCI6XCIpWzJdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW52YWxpZEtleVByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vVHJ1c3RlZENsYWltRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRpZCBvZiB0cnVzdGVkRGlkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRFbnRyeSA9IGNoZWNrZWREaWQuZmluZCh4ID0+IHguaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID09PSBpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MgJiYgeC5kaWQgPT09IGRpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xhaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbSA9IGZvdW5kRW50cnkuY2xhaW07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltID0gYXdhaXQgdGhpcy5nZXRDbGFpbXMoaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzLCBkaWQsIHdlYjMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgZGlkLCBjbGFpbSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9UcnVzdGVkQ2xhaW1Gb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYWltRXhwaXJhdGlvbkRhdGUgPSBuZXcgRGF0ZShjbGFpbS5leHBpcmF0aW9uRGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltRXhwaXJhdGlvbkRhdGUgPiBuZXcgRGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzID0gY2xhaW0ua2V5cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMgPSBjbGFpbUFsbG93ZWRDcmVkZW50aWFsS2V5cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJDcmVkZW50aWFsS2V5ID0gYCR7KGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnByb3ZpZGVyfV8ke2N1cnJlbnRDcmVkZW50aWFsS2V5fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXMuaW5jbHVkZXMocHJvdmlkZXJDcmVkZW50aWFsS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZEtleVByb3ZpZGVyID0gcHJvdmlkZXJDcmVkZW50aWFsS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnZhbGlkS2V5UHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkQ3JlZGVudGlhbHNBbW91bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsYWltIGV4cGlyZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub1RydXN0ZWRDbGFpbUZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE5vIGNsYWltcyBmb3VuZCB0byBjaGVjay4gQ2hlY2tlZCBkaWRzICR7dHJ1c3RlZERpZHN9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52YWxpZEtleVByb3ZpZGVyICYmICFmb3VuZFZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRyaWVkIHRvIHZhbGlkYXRlIGF0dHJpYnV0ZSAke2ludmFsaWRLZXlQcm92aWRlcn0gYnV0IHByb3ZpZGVyIHdhcyBub3QgYWxsb3dlZCB0byBpc3N1ZS4gQWxsb3dlZCBhdHRyaWJ1dGVzOiAke2ludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbGlkQ3JlZGVudGlhbHNBbW91bnQgPT09IGNyZWRlbnRpYWxzQW1vdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZENoZWNrUmVzdWx0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBjcmVkZW50aWFsc1wiLFxuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb2RlOiAxMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIHRydXN0ZWQgcGFydGllcyB0byBjaGVjay5cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBjaGVja0NyZWRlbnRpYWxzKGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsOiBzdHJpbmcsIGNoZWNrVXNlck5vbmNlOiBib29sZWFuLCBsaXZlbmVzc0NoZWNrUmVxdWlyZWQ/OiBib29sZWFuKTogUHJvbWlzZTxJVmFsaWRhdGVkQ3JlZGVudGlhbHM+IHtcbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBzdHJpbmdpZmllZFxuICAgICAgICBpZiAodHlwZW9mIGNyZWRlbnRpYWxPYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QgPSBKU09OLnBhcnNlKGNyZWRlbnRpYWxPYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3QgPSB0aGlzLnJlT3JkZXJDcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWxPYmplY3QpO1xuICAgICAgICBjb25zdCB3ZWIzTm9kZSA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICBjb25zdCBjaGVja2VkRGlkOiBJQ2hlY2tlZERpZFtdID0gW107XG4gICAgICAgIGxldCB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgY29uc3QgaW52YWxpZENyZWRlbnRpYWxzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyLF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGNoZWNrIE9XTiBwcm92aWRlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLmV4Y2x1ZGVkQ3JlZGVudGlhbFByb3ZpZGVycy5pbmNsdWRlcyhwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSB1c2VyIGNyZWRlbnRpYWxzIChmb3IgZWFjaCBwcm92aWRlcik6IFJlY29uc3RydWN0IGl0IHNvIHdlIG9ubHkgaGF2ZSB0aGUgY3JlZGVudGlhbE9iamVjdCBvZiBcbiAgICAgICAgICAgIC8vIHRoYXQgc3BlY2lmaWMgcHJvdmlkZXIgKHdoaWNoIHdlIGdlbmVyYXRlZCB0aGUgc2lnbmF0dXJlIG92ZXIpXG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlOiBJQ3JlZGVudGlhbE9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICAgICAgICAgICAgICBbcHJvdmlkZXJdOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgY3JlZGVudGlhbE9iamVjdFdpdGhvdXRQcm9vZlNpZ25hdHVyZS5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yuc2lnbmF0dXJlO1xuICAgICAgICAgICAgY29uc3QgdXNlclJlY292ZXJlZEFkZHJlc3MgPSB3ZWIzTm9kZS5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlKSwgY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yuc2lnbmF0dXJlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RVc2VyU2lnbmF0dXJlID0gdGhpcy51c2VyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLmhvbGRlciwgdXNlclJlY292ZXJlZEFkZHJlc3MpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgKElkZW50aXR5IEFwcCkgZGlkIHNpZ24gaXQgY29ycmVjdDsgb3RoZXJ3aGlzZSBza2lwIHRoaXMgcHJvdmlkZXJcbiAgICAgICAgICAgIGlmIChjb3JyZWN0VXNlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgWywgY3JlZGVudGlhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbmNvcnJlY3QgY3JlZGVudGlhbCB2ZXJzaW9uLiBSZW5ldyB5b3VyIGNyZWRlbnRpYWxzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbEV4cGlyYXRpb25EYXRlID0gbmV3IERhdGUoKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmV4cGlyYXRpb25EYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+IGNyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91ciBjcmVkZW50aWFsIGV4cGlyZWQgb24gJHtjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVuID0gbmV3IERhdGUoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yubm9uY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzRGlmZmVyZW5jZSA9IHRoaXMuY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2Uobm93LCB0aGVuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbnV0ZXNEaWZmZXJlbmNlID4gNSAmJiBjaGVja1VzZXJOb25jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vbmNlIHRvbyBvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VudCBjcmVkZW50aWFscyB3ZXJlIHByb3ZpZGVkIGJ5IHRoZSBkaWQgb2YgdGhlIGNyZWRlbnRpYWwgKGNoZWNrIHRoZSBzaWduYXR1cmUgb2YgZWFjaCBjcmVkZW50aWFsKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0SXNzdWVyU2lnbmF0dXJlID0gdGhpcy5pc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCwgd2ViM05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ycmVjdElzc3VlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZXZlcnkgY3JlZGVudGlhbCBESUQgY29udHJhY3QgaWYgdGhlIGhvbGRlciBiZWxvbmdzIHRvIHRoYXQgRElEXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJIb2xkZXJLZXkgPSAoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkucHJvb2YuaG9sZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID0gKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmlzc3Vlci5pZC5zcGxpdChcIjpcIilbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJDb3JyZWN0RGlkID0gYXdhaXQgdGhpcy5jb3JyZWN0RGlkQ29udHJhY3RLZXkod2ViM05vZGUsIHdlYjNVcmwsIGNsYWltSG9sZGVyQWJpLCBpc3N1ZXJIb2xkZXJLZXksIGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWVyQ29ycmVjdERpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJIb2xkZXJLZXkgPSBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZi5ob2xkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRpZENvbnRyYWN0QWRkcmVzcyA9IChjcmVkZW50aWFsIGFzIElDcmVkZW50aWFsKS5pZC5zcGxpdChcIjpcIilbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckNvcnJlY3REaWQgPSBhd2FpdCB0aGlzLmNvcnJlY3REaWRDb250cmFjdEtleSh3ZWIzTm9kZSwgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmksIHVzZXJIb2xkZXJLZXksIHVzZXJEaWRDb250cmFjdEFkZHJlc3MsIGNoZWNrZWREaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyQ29ycmVjdERpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpdmVuZXNzQ2hlY2tSZXF1aXJlZCB8fCAoKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcmlmaWVkID09PSB1bmRlZmluZWQgfHwgKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcmlmaWVkID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMaXZlbmVzcyBjaGVjayByZXF1aXJlZCBidXQgY3JlZGVudGlhbCBub3QgdmVyaWZpZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXNlciBkaWQgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSXNzdWVyIGRpZCBpbmNvcnJlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIklzc3VlciBzaWduYXR1cmUgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbDogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0sXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXNlciBzaWduYXR1cmUgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9PT0gY3JlZGVudGlhbHNBbW91bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxcIixcbiAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVzZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoaG9sZGVyS2V5OiBzdHJpbmcsIHJlY292ZXJlZEFkZHJlc3M6IHN0cmluZykge1xuICAgICAgICBpZiAoaG9sZGVyS2V5ICE9PSByZWNvdmVyZWRBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVc2VyIHNpZ25hdHVyZSBvZiBjcmVkZW50aWFsICR7aG9sZGVyS2V5fSBkb2VzIG5vdCBtYXRjaCByZWNvdmVyZWRBZGRyZXNzICR7cmVjb3ZlcmVkQWRkcmVzc31gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuICAgIGlzc3VlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyhjcmVkZW50aWFsOiBJQ3JlZGVudGlhbCwgd2ViM05vZGU6IFdlYjMpIHtcbiAgICAgICAgY29uc3QgaXNzdWVyU2lnbmF0dXJlID0gY3JlZGVudGlhbC5wcm9vZi5zaWduYXR1cmU7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxJc3N1ZXJLZXkgPSBjcmVkZW50aWFsLnByb29mLmhvbGRlcjtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbFdpdGhvdXRJc3N1ZXJQcm9vZiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbCkpO1xuICAgICAgICBkZWxldGUgY3JlZGVudGlhbFdpdGhvdXRJc3N1ZXJQcm9vZi5wcm9vZi5zaWduYXR1cmU7XG4gICAgICAgIGNvbnN0IHJlY292ZXJlZEFkZHJlc3MgPSB3ZWIzTm9kZS5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mKSwgaXNzdWVyU2lnbmF0dXJlKTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxJc3N1ZXJLZXkgIT09IHJlY292ZXJlZEFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYElzc3VlciBzaWduYXR1cmUgb2YgY3JlZGVudGlhbCAke2NyZWRlbnRpYWxJc3N1ZXJLZXl9IGRvZXMgbm90IG1hdGNoIHJlY292ZXJlZEFkZHJlc3MgJHtyZWNvdmVyZWRBZGRyZXNzfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFzeW5jIGNvcnJlY3REaWRDb250cmFjdEtleSh3ZWIzTm9kZTogV2ViMywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55LCBob2xkZXJLZXk6IHN0cmluZywgZGlkQWRkcmVzczogc3RyaW5nLCBjaGVja2VkRGlkOiBJQ2hlY2tlZERpZFtdKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGZvdW5kRW50cnkgPSBjaGVja2VkRGlkLmZpbmQoeCA9PiB4LmRpZCA9PSBkaWRBZGRyZXNzICYmIHguaG9sZGVyS2V5ID09PSBob2xkZXJLZXkpO1xuICAgICAgICBpZiAoZm91bmRFbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kRW50cnkucmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qga25vd25BZGRyZXNzZXMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGRpZEFkZHJlc3MgPT09IGhvbGRlcktleSkge1xuICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGRpZDogZGlkQWRkcmVzcywgaG9sZGVyS2V5LCByZXN1bHQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYTNLZXkgPSB0aGlzLmdldFNoYTNLZXkoaG9sZGVyS2V5LCB3ZWIzTm9kZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleU1hbmFnZXJDb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChcbiAgICAgICAgICAgICAgICAgICAgY2xhaW1Ib2xkZXJBYmksXG4gICAgICAgICAgICAgICAgICAgIGRpZEFkZHJlc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5rbm93bkFkZHJlc3Nlc0NvbnRhaW5zKGtub3duQWRkcmVzc2VzLCBzaGEzS2V5LCBkaWRBZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlQdXJwb3NlID0gcGFyc2VJbnQoYXdhaXQgdGhpcy5nZXRLZXlQdXJwb3NlKGtleU1hbmFnZXJDb250cmFjdCwgc2hhM0tleSksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAxID0gT3duZXJcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAyID0gQWN0aW9uIEtleVxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDMgPSBDbGFpbSBTaWduZXIgS2V5IFxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDQgPSBFbmNyeXB0aW9uIGtleVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UHVycG9zZSA9PT0gMCB8fCBrZXlQdXJwb3NlID4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgZGlkOiBkaWRBZGRyZXNzLCBob2xkZXJLZXksIHJlc3VsdDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAga25vd25BZGRyZXNzZXMucHVzaCh7IHNoYTNLZXksIGRpZEFkZHJlc3MgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGRpZDogZGlkQWRkcmVzcywgaG9sZGVyS2V5LCByZXN1bHQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBrbm93bkFkZHJlc3Nlc0NvbnRhaW5zKGxpc3Q6IGFueVtdLCBzaGEzS2V5OiBzdHJpbmcsIGRpZENvbnRyYWN0QWRkcmVzczogc3RyaW5nKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdEl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgaWYgKGxpc3RJdGVtLnNoYTNLZXkgPT09IHNoYTNLZXkgJiYgbGlzdEl0ZW0uZGlkQ29udHJhY3RBZGRyZXNzID09PSBkaWRDb250cmFjdEFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNoYTNLZXkoa2V5OiBzdHJpbmcsIHdlYjM6IFdlYjMpIHtcbiAgICAgICAgcmV0dXJuIHdlYjMudXRpbHMua2VjY2FrMjU2KGtleSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0S2V5UHVycG9zZShrZXlNYW5hZ2VyQ29udHJhY3Q6IGFueSwga2V5OiBzdHJpbmcpOiBQcm9taXNlPEVESURBY2Nlc3NMZXZlbD4ge1xuICAgICAgICAvLyBHZXQgRXZlbnRzXG4gICAgICAgIGlmIChrZXlNYW5hZ2VyQ29udHJhY3Qub3B0aW9ucy5hZGRyZXNzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGtleU1hbmFnZXJDb250cmFjdC5tZXRob2RzLmdldEtleVB1cnBvc2Uoa2V5KS5jYWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVNaW51dGVzRGlmZmVyZW5jZShkdDI6IERhdGUsIGR0MTogRGF0ZSk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gKGR0Mi5nZXRUaW1lKCkgLSBkdDEuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgIGRpZmYgLz0gNjA7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhNYXRoLnJvdW5kKGRpZmYpKTtcbiAgICB9XG5cbiAgICByZU9yZGVyQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCk6IElDcmVkZW50aWFsT2JqZWN0IHtcbiAgICAgICAgLy8gTG9vcCBldmVyeSBwcm92aWRlclxuICAgICAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIE9iamVjdC5rZXlzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsS2V5cyA9IFtdO1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBjcmVkZW50aWFsIGtleXNcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3JlZGVudGlhbEtleSBvZiBPYmplY3Qua2V5cyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsS2V5cy5wdXNoKGNyZWRlbnRpYWxLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlZGVudGlhbEtleXMuc29ydCgpO1xuICAgICAgICAgICAgY29uc3QgcmVPcmRlcmVkQ3JlZGVudGlhbHMgPSB7fTtcbiAgICAgICAgICAgIC8vIExvb3AgdGhlIGNyZWRlbnRpYWwga2V5cyBvbmUgYnkgb25lIGFuZCByZSBvcmRlciB0aGUgY3JlZGVudGlhbHMgc28gaXRzIGFscGhhYmV0aWNhbFxuICAgICAgICAgICAgZm9yIChjb25zdCBjcmVkZW50aWFsS2V5IG9mIGNyZWRlbnRpYWxLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVPcmRlcmVkQ3JlZGVudGlhbCA9IHRoaXMucmVPcmRlckNyZWRlbnRpYWwoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHNbY3JlZGVudGlhbEtleV0gYXMgSUNyZWRlbnRpYWwpO1xuICAgICAgICAgICAgICAgIHJlT3JkZXJlZENyZWRlbnRpYWxzW2NyZWRlbnRpYWxLZXldID0gcmVPcmRlcmVkQ3JlZGVudGlhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mID0gdGhpcy5yZU9yZGVyQ3JlZGVudGlhbFByb29mKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mKTtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdID0ge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiByZU9yZGVyZWRDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBwcm9vZjogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2ZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlZGVudGlhbE9iamVjdDtcbiAgICB9XG5cbiAgICByZU9yZGVyQ3JlZGVudGlhbChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbCk6IElDcmVkZW50aWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KGNyZWRlbnRpYWwpO1xuICAgIH1cblxuICAgIHNvcnRPYmplY3RBbHBoYWJldGljYWxseShvYmplY3Q6IGFueSk6IGFueSB7XG4gICAgICAgIGNvbnN0IHNvcnRlZE9iaiA9IHt9O1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgICAgICBrZXlzLnNvcnQoKGtleTEsIGtleTIpID0+IHtcbiAgICAgICAgICAgIGtleTEgPSBrZXkxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBrZXkyID0ga2V5Mi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKGtleTEgPCBrZXkyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleTEgPiBrZXkyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBpdCdzIHRoZSBzYW1lXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBrZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbmVzdGVkIG9iamVjdHMsIHdlIG5lZWQgdG8gZGlnIGRlZXBlclxuICAgICAgICAgICAgaWYgKG9iamVjdFtrZXldICE9PSBudWxsICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PSBcIm9iamVjdFwiICYmICEob2JqZWN0W2tleV0gaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICBzb3J0ZWRPYmpba2V5XSA9IHRoaXMuc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc29ydGVkT2JqW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3J0ZWRPYmo7XG4gICAgfVxuXG4gICAgcmVPcmRlckNyZWRlbnRpYWxQcm9vZihwcm9vZjogSVByb29mKTogSVByb29mIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhvbGRlcjogcHJvb2YuaG9sZGVyLFxuICAgICAgICAgICAgbm9uY2U6IHByb29mLm5vbmNlLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBwcm9vZi5zaWduYXR1cmUsXG4gICAgICAgICAgICB0eXBlOiBwcm9vZi50eXBlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzaWduIChjYW4gYmUgYW55dGhpbmcsIG9iamVjdCwgc3RyaW5nLCBldGMuKSBcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSAtIFRoZSBwcml2YXRlIGtleSB0byBzaWduIHdpdGhcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBnZXRTaWduYXR1cmUobWVzc2FnZTogYW55LCBwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIHN0cmluZ2lmaWVkXG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSA9IHRoaXMucmVPcmRlck9iamVjdChtZXNzYWdlKTtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5zaWduKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLCBwcml2YXRlS2V5KS5zaWduYXR1cmVcbiAgICB9XG5cbiAgICByZU9yZGVyT2JqZWN0KGNvbnRlbnRUb1NpZ246IElTaWduZWRDb250ZW50KTogSVNpZ25lZENvbnRlbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkoY29udGVudFRvU2lnbik7XG4gICAgfVxuXG4gICAgc2lnbkNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHByaXZhdGVLZXk6IHN0cmluZykge1xuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIHN0cmluZ2lmaWVkXG4gICAgICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbE9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY3JlZGVudGlhbE9iamVjdCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlZGVudGlhbE9iamVjdCA9IHRoaXMucmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMuc2lnbihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0KSwgcHJpdmF0ZUtleSkuc2lnbmF0dXJlXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q2xhaW1zKGNsYWltVHlwZTogbnVtYmVyIHwgc3RyaW5nLCBjb250cmFjdEFkZHJlc3M6IHN0cmluZywgd2ViMzogV2ViMyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGNsYWltSG9sZGVyQWJpLCBjb250cmFjdEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBjbGFpbUlkcyA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuZ2V0Q2xhaW1JZHNCeVR5cGUoY2xhaW1UeXBlKS5jYWxsKCk7XG4gICAgICAgIGlmIChjbGFpbUlkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgcmF3IGNsYWltc1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0NsYWltcyA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuZ2V0Q2xhaW0oY2xhaW1JZHNbY2xhaW1JZHMubGVuZ3RoIC0gMV0pLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZENsYWltcyA9IEpTT04ucGFyc2Uod2ViMy51dGlscy50b0FzY2lpKHJhd0NsYWltcy5kYXRhKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXJzZWRDbGFpbXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGdldENsYWltKGNsYWltVHlwZTogRUNsYWltVHlwZSwgY29udHJhY3RBZGRyZXNzOiBzdHJpbmcsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1Ib2xkZXJBYmk6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoY2xhaW1Ib2xkZXJBYmksIGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGNsYWltSWRzID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbUlkc0J5VHlwZShjbGFpbVR5cGUpLmNhbGwoKTtcbiAgICAgICAgaWYgKGNsYWltSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3Q2xhaW1zID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbShjbGFpbUlkc1tjbGFpbUlkcy5sZW5ndGggLSAxXSkuY2FsbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB3ZWIzLnV0aWxzLnRvQXNjaWkocmF3Q2xhaW1zLmRhdGEpXG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZENsYWltcyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFyc2VkQ2xhaW1zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIsIGVycm9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0KGNyZWRlbnRpYWxzOiBJQ3JlZGVudGlhbE9iamVjdCwgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyk6IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0IHtcbiAgICAgICAgY29uc3QgY2hlY2tSZXN1bHQ6IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0ID0ge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIG1pc3NpbmdLZXlzOiBbXVxuICAgICAgICB9XG4gICAgICAgIC8vIExvb3AgYWxsIHJlcXVlc3RlZCBjcmVkZW50aWFsc1xuICAgICAgICBmb3IgKGNvbnN0IHJlcXVlc3RlZENyZWRlbnRpYWwgb2YgcmVxdWVzdGVkQ3JlZGVudGlhbHMuY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0ZWRDcmVkZW50aWFsLnJlcXVpcmVkICYmIHJlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXIgPT09IFwiQURESVRJT05BTF9JTkZPXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcl0uY3JlZGVudGlhbHMpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIG9iamVjdEtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkaXRpb25hbEluZm8gPSBjcmVkZW50aWFscy5jcmVkZW50aWFsc1tyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyXS5jcmVkZW50aWFsc1trZXldIGFzIElSZXF1ZXN0ZWRDcmVkZW50aWFsS2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbEluZm8ucmVxdWlyZWQgJiYgKGFkZGl0aW9uYWxJbmZvLmtleSBhcyBJQWRkaXRpb25hbEluZm9bXSkuZmluZCh4ID0+ICF4LmFuc3dlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0LnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0Lm1pc3NpbmdLZXlzLnB1c2goYWRkaXRpb25hbEluZm8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBvbmx5IHJlcXVpcmVkIGtleXNcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdGVkQ3JlZGVudGlhbC5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXIgPSBbcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvdmlkZXIgb2YgcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFsc1tyZXF1ZXN0ZWRDcmVkZW50aWFsLmtleSBhcyBzdHJpbmddXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgZ29vZCwgZm91bmQhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0LnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0Lm1pc3NpbmdLZXlzLnB1c2gocmVxdWVzdGVkQ3JlZGVudGlhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrUmVzdWx0O1xuICAgIH1cblxuICAgIHJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZShtZXNzYWdlOiBzdHJpbmcsIHNpZ25hdHVyZTogc3RyaW5nLCBzb3J0QWxwaGFiZXRpY2FsbHk/OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICBpZiAoc29ydEFscGhhYmV0aWNhbGx5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5zb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkoSlNPTi5wYXJzZShtZXNzYWdlKSk7XG4gICAgICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgc2lnbmF0dXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5yZWNvdmVyKG1lc3NhZ2UsIHNpZ25hdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgc2lnblJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHB1YmxpY0tleTogc3RyaW5nLCBwcml2YXRlS2V5OiBzdHJpbmcpOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMge1xuICAgICAgICByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZiA9IHtcbiAgICAgICAgICAgIGhvbGRlcjogcHVibGljS2V5LFxuICAgICAgICAgICAgbm9uY2U6IERhdGUubm93KCksXG4gICAgICAgICAgICB0eXBlOiBFU2lnbmF0dXJlVHlwZXMuRUNEU0FcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShyZXF1ZXN0ZWRDcmVkZW50aWFscywgcHJpdmF0ZUtleSk7XG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRSZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltaG9sZGVyQWJpOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgaWYgKHJlcXVlc3RlZENyZWRlbnRpYWxzPy5wcm9vZj8uc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAvLyBNYWtlIGEgY29weSBzaW5jZSB3ZSBkZWxldGUgdGhlIHNpZ25hdHVyZSBvZiB0aGUgb2JqZWN0OyBvdGhlcndoaXNlIHdlIGNhbiBvbmx5IGNoZWNrIGl0IG9uY2UgYW5kIGl0J3MgZ29uZSBmb3JldmVyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHk6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVxdWVzdGVkQ3JlZGVudGlhbHMpKTtcbiAgICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHkucHJvb2Yuc2lnbmF0dXJlO1xuXG4gICAgICAgICAgICAvLyBSZWNvdmVyIHRoZSBwdWJsaWMga2V5XG4gICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSB0aGlzLnJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZShKU09OLnN0cmluZ2lmeShyZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHkpLCByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZi5zaWduYXR1cmUsIHRydWUpO1xuICAgICAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICAgICAgY29uc3QgZGlkID0gcmVxdWVzdGVkQ3JlZGVudGlhbHMuaWRcbiAgICAgICAgICAgIGlmIChwdWJsaWNLZXkgIT09IHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLmhvbGRlcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJlY292ZXJlZCBhZGRyZXNzICR7cHVibGljS2V5fSBkb2VzIG5vdCBtYXRjaCBob2xkZXIgYWRkcmVzcyAke3JlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLmhvbGRlcn1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgYWNjZXNzIGxldmVsIG9uIHRoZSBjb250cmFjdFxuICAgICAgICAgICAgY29uc3QgY2xhaW1Ib2xkZXJDb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChjbGFpbWhvbGRlckFiaSwgdGhpcy5nZXRDb250cmFjdEFkZHJlc3NGcm9tRGlkKGRpZCkpO1xuICAgICAgICAgICAgY29uc3Qga2VjY2FrMjU2T3JnYW5pc2F0aW9uS2V5ID0gdGhpcy5nZXRTaGEzS2V5KHB1YmxpY0tleSwgd2ViMyk7XG4gICAgICAgICAgICBjb25zdCBrZXlQdXJwb3NlID0gYXdhaXQgdGhpcy5nZXRLZXlQdXJwb3NlKGNsYWltSG9sZGVyQ29udHJhY3QsIGtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSkgYXMgRURJREFjY2Vzc0xldmVsO1xuICAgICAgICAgICAgcmV0dXJuIChrZXlQdXJwb3NlID09PSBFRElEQWNjZXNzTGV2ZWwuTUFOQUdFTUVOVF9LRVkgfHwga2V5UHVycG9zZSA9PT0gRURJREFjY2Vzc0xldmVsLkFDVElPTl9LRVkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlcXVlc3RlZCBDcmVkZW50aWFscyBkb2Vzbid0IGhhdmUgYSBzaWduYXR1cmUgaW4gdGhlIHByb29mLiBOb3QgY2hlY2tpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgYXN5bmMgaXNWYWxpZExpY2Vuc2UocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55KSB7XG4gICAgICAgIGNvbnN0IG9yZ2FuaXNhdGlvbkRpZCA9IHJlcXVlc3RlZENyZWRlbnRpYWxzLmlkO1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsczogSUNyZWRlbnRpYWwgPSBhd2FpdCB0aGlzLmdldENsYWltKEVDbGFpbVR5cGUuQ09NUEFOWV9JTkZPLCB0aGlzLmdldENvbnRyYWN0QWRkcmVzc0Zyb21EaWQob3JnYW5pc2F0aW9uRGlkKSwgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSAoY3JlZGVudGlhbHM/LmNyZWRlbnRpYWxTdWJqZWN0Py5jcmVkZW50aWFsPy52YWx1ZSBhcyBJQ29tcGFueUluZm8pPy5zdGF0dXM7XG4gICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlS2V5VG9QdWJsaWNLZXkocHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5wcml2YXRlS2V5VG9BY2NvdW50KHByaXZhdGVLZXkpLmFkZHJlc3M7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDaGFsbGVuZ2UocHVibGljS2V5OiBzdHJpbmcsIGRpZDogc3RyaW5nLCBob3N0OiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElDaGFsbGVuZ2Uge1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlID0gYCR7cHVibGljS2V5fS0ke2RpZH0tJHtob3N0fS0ke3RpbWVzdGFtcH1gO1xuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSB3ZWIzLmV0aC5hY2NvdW50cy5zaWduKGNoYWxsZW5nZSwgcHJpdmF0ZUtleSkuc2lnbmF0dXJlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaWQsXG4gICAgICAgICAgICBwdWJsaWNLZXksXG4gICAgICAgICAgICBlbmRwb2ludDogaG9zdCxcbiAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgIGNoYWxsZW5nZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICB9IGFzIElDaGFsbGVuZ2VcbiAgICB9XG5cbiAgICBnZXRDb250cmFjdEFkZHJlc3NGcm9tRGlkKGRpZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNvbnRyYWN0QWRkcmVzcyA9IGRpZDtcbiAgICAgICAgY29uc3Qgc3BsaXR0ZWREaWQgPSBkaWQuc3BsaXQoXCI6XCIpO1xuICAgICAgICBpZiAoc3BsaXR0ZWREaWQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5zdXBwb3J0ZWQgZGlkOlwiLCBkaWQpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoc3BsaXR0ZWREaWQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICBpZiAoc3BsaXR0ZWREaWRbMF0gIT09IFwiZGlkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5zdXBwb3J0ZWQgZGlkOlwiLCBkaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzcGxpdHRlZERpZFsxXSAhPT0gXCJkaWR1eFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuc3VwcG9ydGVkIGNoYWluOlwiLCBzcGxpdHRlZERpZFsxXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzcyA9IHNwbGl0dGVkRGlkWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250cmFjdEFkZHJlc3M7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgU3ViamVjdCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuaW1wb3J0IHsgcmVxdWVzdCwgc2VydmVyIGFzIFdlYlNvY2tldFNlcnZlciB9IGZyb20gXCJ3ZWJzb2NrZXRcIjtcbmltcG9ydCB7IGdldFJUQ0Nvbm5lY3Rpb25Db25maWcgfSBmcm9tIFwiLi4vaGVscGVycy9zaWduYWxIZWxwZXJzXCI7XG5pbXBvcnQgeyBJQ29ubmVjdGlvbkRhdGEgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jb25uZWN0aW9uRGF0YVwiO1xuaW1wb3J0IHsgSUNvbm5lY3Rpb25EZXRhaWxzIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY29ubmVjdGlvbkRldGFpbHNcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgV2ViUlRDQ2xpZW50VjIgfSBmcm9tIFwiLi4vd2ViUnRjQ2xpZW50VjJcIjtcblxuZXhwb3J0IGNsYXNzIFNpZ25hbFNlcnZlclYyIHtcbiAgICB3c1NlcnZlcjogV2ViU29ja2V0U2VydmVyO1xuICAgIHdzUmVxdWVzdCQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBodHRwU2VydmVyXG4gICAgICovXG5cbiAgICBwdWJsaWMgc3RhcnRTaWduYWwoXG4gICAgICAgIGh0dHBTZXJ2ZXI6IGh0dHAuU2VydmVyXG4gICAgKTogdm9pZCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHVwIHdlYnNvY2tldCBzZXJ2ZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3NTZXJ2ZXIgPSBuZXcgV2ViU29ja2V0U2VydmVyKHtcbiAgICAgICAgICAgIGh0dHBTZXJ2ZXI6IGh0dHBTZXJ2ZXIsXG4gICAgICAgICAgICBhdXRvQWNjZXB0Q29ubmVjdGlvbnM6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJzb2NrZXQgZXZlbnRzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndzU2VydmVyLm9uKFwicmVxdWVzdFwiLCBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53c1JlcXVlc3QkLm5leHQocmVxdWVzdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgVVRGRGF0YSB0byBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBjaGFubmVsXG4gICAgICogQHBhcmFtIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBwdWJsaWMgc2VuZFRvKGNvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscywgbWVzc2FnZTogYW55KSB7XG4gICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRyaWVkIHRvIHNlbmQgdGhpcyBvdmVyIHVuZGVmaW5lZCBjb25uZWN0aW9uOlwiLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZXJyb3JcbiAgICAgKiBAcGFyYW0gcmVhc29uXG4gICAgICogQHBhcmFtXG4gICAgICovXG4gICAgcHVibGljIHJlamVjdENvbm5lY3Rpb24ocmVhc29uOiBzdHJpbmcsIHJlcXVlc3Q6IGFueSkge1xuICAgICAgICByZXF1ZXN0LnJlamVjdCgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpICsgXCIgXCIgKyByZWFzb24pO1xuICAgICAgICBjb25zb2xlLmVycm9yKChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpICsgXCIgQ29ubmVjdGlvbiBmcm9tIHJlbW90ZUFkZHJlc3MgXCIgKyByZXF1ZXN0LnJlbW90ZUFkZHJlc3NlcyArIFwiIHJlamVjdGVkLlwiKTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXR1cFAyUENvbm5lY3Rpb24oXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXG4gICAgICAgIHZhbGlkU2lnbjogYm9vbGVhbixcbiAgICAgICAgY2hhbm5lbDogc3RyaW5nLFxuICAgICAgICBvcmlnaW5BbGxvd2VkOiBib29sZWFuLFxuICAgICAgICB0dXJuRXhwaXJhdGlvbjogbnVtYmVyLFxuICAgICAgICB0dXJuVXJsOiBzdHJpbmcsXG4gICAgICAgIHR1cm5TZWNyZXQ6IHN0cmluZyxcbiAgICAgICAgc2lnbmFsU2VydmVyOiBzdHJpbmcsXG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsXG4gICAgICAgIGFjdGlvblR5cGU6IHN0cmluZyxcbiAgICAgICAgZGF0YTogYW55LFxuICAgICAgICBvcmlnaW46IHN0cmluZ1xuICAgICk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaW5jZSBhbGwgaXMgd2VsbCwgd2UgYWNjZXB0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAqIEFjY2VwdCBjb25uZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uOiBJQ29ubmVjdGlvbkRldGFpbHMgPSByZXF1ZXN0LmFjY2VwdChudWxsLCByZXF1ZXN0Lm9yaWdpbik7XG4gICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gQWNjZXB0ZWQgJHtyZXF1ZXN0Lm9yaWdpbn0gdmFsaWQgc2lnbmVkICR7dmFsaWRTaWdufWApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCBkZWZhdWx0IHZhbHVlcyB1cG9uIGNvbm5lY3RcbiAgICAgICAgICovXG4gICAgICAgIGNvbm5lY3Rpb24udXVpZCA9IHV1aWR2NCgpOyAvLyBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNsaWVudFxuICAgICAgICBjb25uZWN0aW9uLmRpZCA9IHZhbGlkU2lnbiA/IChyZXF1ZXN0Py5yZXNvdXJjZVVSTD8ucXVlcnkgYXMgYW55KT8uZGlkPy50b1N0cmluZygpIDogbnVsbDsgLy8gV2hlbiBhdXRoZW50aWNhdGVkOiBkaWRBZGRyZXNzXG4gICAgICAgIGNvbm5lY3Rpb24ucHVibGljS2V5ID0gdmFsaWRTaWduID8gKHJlcXVlc3Q/LnJlc291cmNlVVJMPy5xdWVyeSBhcyBhbnkpPy5wdWJsaWNrZXk/LnRvU3RyaW5nKCkgOiBudWxsOyAvLyBXaGVuIGF1dGhlbnRpY2F0ZWQ6IHB1YmxpY0tleVxuICAgICAgICBjb25uZWN0aW9uLmF1dGhlbnRpY2F0ZWQgPSB2YWxpZFNpZ247IC8vIHRydWUgb3IgZmFsc2VcbiAgICAgICAgY29ubmVjdGlvbi5jaGFubmVsID0gY2hhbm5lbDsgLy8gY29ubmVjdGlvbiBvciBjbGllbnQudXVpZCBjb25uZWN0ZWQgdG9cblxuICAgICAgICB0aGlzLnNldHVwV2Vic29ja2V0TGlzdGVuZXJzKGNvbm5lY3Rpb24pO1xuXG4gICAgICAgIC8vIEhvc3RcbiAgICAgICAgaWYgKChvcmlnaW4gPT09IFwidmFsaWRhdG9yXCIgJiYgdmFsaWRTaWduICYmIGNoYW5uZWwgPT09IG51bGwpIHx8IChvcmlnaW5BbGxvd2VkICYmIGNoYW5uZWwgPT09IG51bGwpKSB7XG4gICAgICAgICAgICAvLyBjb25uZWN0aW9uIGlzIHZlcmlmaWVkIVxuICAgICAgICAgICAgY29ubmVjdGlvbi5ob3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24ub3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgY29uc3Qgd2ViUnRjQ29uZmlnID0gZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhcImhvc3RcIiwgdHVybkV4cGlyYXRpb24sIHR1cm5TZWNyZXQsIHR1cm5VcmwpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gSG9zdCB3YWl0aW5nIGZvciBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVG8oY29ubmVjdGlvbiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaG9zdFwiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYEhvc3QgaW5pdGlhbGlzZWQgJHtjb25uZWN0aW9uLnV1aWR9YCxcbiAgICAgICAgICAgICAgICBjaGFubmVsSWQ6IGNvbm5lY3Rpb24udXVpZCxcbiAgICAgICAgICAgICAgICBzaWduYWxTZXJ2ZXIsXG4gICAgICAgICAgICAgICAgLi4uKG9yaWdpbiA9PT0gXCJ2YWxpZGF0b3JcIiAmJiB7IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IHdlYlJ0Y0NvbmZpZyB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob3JpZ2luICE9PSBcInZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi53ZWJSdGNDbGllbnQgPSBuZXcgV2ViUlRDQ2xpZW50VjIod2ViUnRjQ29uZmlnLCByZXF1ZXN0ZWRDcmVkZW50aWFscywgY29ubmVjdGlvbiwgYWN0aW9uVHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi53ZWJSdGNDbGllbnQuc2V0dXBQZWVyY29ubmVjdGlvbihjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2xpZW50XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgaG9zdCB0byBjb25uZWN0IHRvLCBhbmQgY29ubmVjdFxuICAgICAgICAgICAgY29uc3QgaG9zdENoYW5uZWw6IElDb25uZWN0aW9uRGV0YWlscyA9IHRoaXMud3NTZXJ2ZXIuY29ubmVjdGlvbnMuZmluZCgoY29ubjogSUNvbm5lY3Rpb25EZXRhaWxzKSA9PiBjb25uLnV1aWQgPT09IGNoYW5uZWwgJiYgY29ubi5jaGFubmVsID09PSBudWxsICYmIGNvbm4uaG9zdCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoaG9zdENoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAvLyBMZXQncyBjb25uZWN0XG4gICAgICAgICAgICAgICAgaG9zdENoYW5uZWwuY2hhbm5lbCA9IGNvbm5lY3Rpb24udXVpZDtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNoYW5uZWwgPSBob3N0Q2hhbm5lbC51dWlkO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYExpYnJhcnkgLSBDbGllbnQgY29ubmVjdGluZyB0byAke2NoYW5uZWx9YCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2ViUnRjQ29uZmlnID0gZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhcImNsaWVudFwiLCB0dXJuRXhwaXJhdGlvbiwgdHVyblNlY3JldCwgdHVyblVybCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oY29ubmVjdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWVudFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ2xpZW50IGluaXRpYWxpc2VkICR7Y29ubmVjdGlvbi51dWlkfWAsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY2hhbm5lbCxcbiAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogd2ViUnRjQ29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RDaGFubmVsLm9yaWdpbiAhPT0gXCJ2YWxpZGF0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICBob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuY2xpZW50Q2hhbm5lbCA9IGNvbm5lY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIGhvc3RDaGFubmVsLndlYlJ0Y0NsaWVudC5kYXRhID0geyAuLi5ob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuZGF0YSwgY2xpZW50RGF0YTogZGF0YSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkxpYnJhcnkgLSBOb3QgYSBjbGllbnQgb3IgaG9zdFwiKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICB9XG5cbiAgICBzZXR1cFdlYnNvY2tldExpc3RlbmVycyhjb25uZWN0aW9uOiBJQ29ubmVjdGlvbkRldGFpbHMpOiB2b2lkIHtcbiAgICAgICAgY29ubmVjdGlvbi5vbihcIm1lc3NhZ2VcIiwgYXN5bmMgKG1lc3NhZ2UpID0+IHtcblxuICAgICAgICAgICAgbGV0IGRhdGE6IElDb25uZWN0aW9uRGF0YTtcblxuICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoXCJ1dGY4RGF0YVwiIGluIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZS51dGY4RGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJMaWJyYXJ5IC0gV2Vic29ja2V0IGNvbm5lY3Rpb24gaW52YWxpZCBKU09OXCIsIGUpO1xuICAgICAgICAgICAgICAgIGRhdGEgPSB7IHR5cGU6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgb2ZmZXIsIGFuc3dlciwgY2FuZGlkYXRlIH0gPSBkYXRhO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNpbmNlIHZhbGlkYXRpb24gaGFwcGVucyBvbiBjb25uZWN0aW9uLCB3ZSBvbmx5IGV4cGVjdCAzIHR5cGUgb2YgbWVzc2FnZXNcbiAgICAgICAgICAgICAqIEluIHRoaXMgb3JkZXI6XG4gICAgICAgICAgICAgKiAtIE9mZmVyXG4gICAgICAgICAgICAgKiAgIFRoZSBob3N0IHNlbmRzIGFuIG9mZmVyIHRvIHRoZSBjbGllbnQuXG4gICAgICAgICAgICAgKiAtIEFuc3dlclxuICAgICAgICAgICAgICogICBUaGUgQ2xpZW50IHJlc3BvbnNlIHdpdGggYW4gQW5zd2VyXG4gICAgICAgICAgICAgKiAtIENhbmRpZGF0ZXNcbiAgICAgICAgICAgICAqICAgQ2xpZW50L0hvc3Qgc2hhcmUgY2FuZGlkYXRlc1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFdoZW4gb2ZmZXIgYW5kIGFuc3dlciBpcyBzZW5kLCB0aGV5IGNhbiBzdGFydCB0byBjb25uZWN0IG92ZXIgd2ViUnRjLlxuICAgICAgICAgICAgICogRXh0cmEgY2FuZGlkYXRlcyBoZWxwcyB0byBjb25uZWN0IGZhc3Rlci9iZXR0ZXJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9mZmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjbGllbnQgc2VuZHMgYW4gb2ZmZXIgdG8gdGhlIGhvc3QuXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29ubmVjdGlvbi5ob3N0ICYmIGNvbm5lY3Rpb24uY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdENoYW5uZWw6IElDb25uZWN0aW9uRGV0YWlscyA9IHRoaXMud3NTZXJ2ZXIuY29ubmVjdGlvbnMuZmluZCgoY29ubjogSUNvbm5lY3Rpb25EZXRhaWxzKSA9PiBjb25uLmNoYW5uZWwgPT09IGNvbm5lY3Rpb24udXVpZCAmJiBjb25uLmhvc3QgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RDaGFubmVsLm9yaWdpbiA9PT0gXCJ2YWxpZGF0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRUbyhob3N0Q2hhbm5lbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2xpZW50IHNoYXJlZCBhbiBvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaG9zdENoYW5uZWwud2ViUnRjQ2xpZW50LnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaG9zdENoYW5uZWwud2ViUnRjQ2xpZW50LnNlbmRBbnN3ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBmaW5kIGNvbm5lY3Rpb24gb24gdXVpZDpcIiwgY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGhvc3QgcmVzcG9uZHMgd2l0aCBhbiBhbnN3ZXIgZm9yIHRoZSBjbGllbnQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmhvc3QgJiYgY29ubmVjdGlvbi5jaGFubmVsICYmIGNvbm5lY3Rpb24ub3JpZ2luID09PSBcInZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHMgPSB0aGlzLndzU2VydmVyLmNvbm5lY3Rpb25zLmZpbmQoKGNvbm46IElDb25uZWN0aW9uRGV0YWlscykgPT4gY29ubi5jaGFubmVsID09PSBjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudENoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRUbyhjbGllbnRDaGFubmVsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2xpZW50IHNoYXJlZCBhbiBhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBmaW5kIGNvbm5lY3Rpb24gb24gdXVpZDpcIiwgY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5kaWRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gSG9zdCBhbmQgQ2xpZW50IHNoYXJlIGNhbmRpZGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzID0gdGhpcy53c1NlcnZlci5jb25uZWN0aW9ucy5maW5kKChjb25uOiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IGNvbm4uY2hhbm5lbCA9PT0gY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwub3JpZ2luID09PSBcInZhbGlkYXRvclwiIHx8IGNvbm5lY3Rpb24ub3JpZ2luID09PSBcInZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRvKGNoYW5uZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FuZGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDYW5kaWRhdGUgc2hhcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC53ZWJSdGNDbGllbnQuYWRkQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGRuJ3QgZmluZCBjb25uZWN0aW9uIG9uIHV1aWQ6XCIsIGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIGFsc28gbGlzdGVuIHRvIHdlYnNvY2tldCBldmVudHMgb24gdGhlIGhvc3Qgc28gd2UgZG9uJ3Qgd2FudCB0byB0aHJvdyBhbnkgZXJyb3IgaGVyZTsgY3VzdG9tIGltcGxlbWVudGF0aW9uIGlzIGJlaW5nIG1hZGUgb24gdGhlIGFwcGxpY2F0aW9uIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY29ubmVjdGlvbiBpcyBjbG9zZWRcbiAgICAgICAgICovXG4gICAgICAgIGNvbm5lY3Rpb24ub24oXCJjbG9zZVwiLCAocmVhc29uQ29kZSwgZGVzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gJHsobmV3IERhdGUoKS50b0lTT1N0cmluZygpKX0gLSBQZWVyICR7Y29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzfSBkaXNjb25uZWN0ZWQsIFJlYXNvbiAke3JlYXNvbkNvZGV9LCBkZXNjcmlwdGlvbiAke2Rlc2NyaXB0aW9ufWApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBXZWJTb2NrZXQgZnJvbSBcIndzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuaW1wb3J0ICogYXMgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcbmltcG9ydCB7IElSVENDb25uZWN0aW9uQ29uZmlnIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9ydGNDb25uZWN0aW9uQ29uZmlnLmludGVyZmFjZVwiO1xuaW1wb3J0ICogYXMgaHR0cCBmcm9tIFwiaHR0cFwiO1xuXG5leHBvcnQgY2xhc3MgU2lnbmFsaW5nU2VydmVyIHtcbiAgICB3c1NlcnZlcjogYW55O1xuICAgIHJ0Y0Nvbm5lY3Rpb25Db25maWc6IElSVENDb25uZWN0aW9uQ29uZmlnOyBcblxuICAgIC8qKlxuICAgICAqIFdlYiBSVEMgY29ubmVjdGlvbiBjb25maWdcbiAgICAgKiBAcGFyYW0gcnRjQ29ubmVjdGlvbkNvbmZpZyBcbiAgICAgKi9cbiAgICBzZXRSVENDb25uZWN0aW9uQ29uZmlnKHJ0Y0Nvbm5lY3Rpb25Db25maWc6IElSVENDb25uZWN0aW9uQ29uZmlnKTogdm9pZCB7XG4gICAgICAgIHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZyA9IHJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIFJUQyBwZWVyY29ubmVjdGlvblxuICAgICAqL1xuICAgIGdldFJUQ0Nvbm5lY3Rpb25Db25maWcodHlwZTogc3RyaW5nKTogUlRDQ29uZmlndXJhdGlvbiB7XG4gICAgICAgIGlmICh0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcudHVybkVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyYXRpb24gPSB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcudHVybkV4cGlyYXRpb247XG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IGAke3RpbWUgKyBleHBpcmF0aW9ufToke3R5cGV9YDtcbiAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjcnlwdG8uY3JlYXRlSG1hYyhcInNoYTFcIiwgdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5TZWNyZXQpLnVwZGF0ZSh1c2VybmFtZS50b1N0cmluZygpKS5kaWdlc3QoXCJiYXNlNjRcIik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGljZUNhbmRpZGF0ZVBvb2xTaXplOiA1LFxuICAgICAgICAgICAgICAgIGljZVNlcnZlcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHVybHM6IHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuVXJsLFxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0gYXMgUlRDQ29uZmlndXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcuc3R1bkVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWNlU2VydmVyczogW3tcbiAgICAgICAgICAgICAgICAgICAgdXJsczogdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnN0dW5VcmwsXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB9IGFzIFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2VydmVyIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydFNpZ25hbChzZXJ2ZXI6IGh0dHAuU2VydmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMud3NTZXJ2ZXIgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7IHNlcnZlciB9KTtcblxuICAgICAgICBjb25zdCBzZW5kVG8gPSAoZGF0YWNoYW5uZWw6IFJUQ0RhdGFDaGFubmVsLCBtZXNzYWdlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGRhdGFjaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3NTZXJ2ZXIub24oXCJjb25uZWN0aW9uXCIsICh3czogYW55KSA9PiB7XG4gICAgICAgICAgICB3cy51dWlkID0gdXVpZHY0KCk7IC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2xpZW50XG4gICAgICAgICAgICB3cy5kaWQgPSBudWxsOyAvLyBXaGVuIGF1dGhlbnRpY2F0ZWQ6IHB1YmxpY0tleSBvciBkaWRBZGRyZXNzXG4gICAgICAgICAgICB3cy5ob3N0ID0gZmFsc2U7IC8vIElzIGEgaG9zdCwgdHJ1ZSBvciBmYWxzZVxuICAgICAgICAgICAgd3MuYXV0aGVudGljYXRlZCA9IGZhbHNlOyAvLyB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICB3cy5jb25uZWN0ZWQgPSBudWxsOyAvLyBudWxsIG9yIGNsaWVudC51dWlkIGNvbm5lY3RlZCB0b1xuXG4gICAgICAgICAgICB3cy5vbihcImVycm9yXCIsIChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEVDT05OUkVTRVQgY2FuIGdldCB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGRpc2Nvbm5lY3RzLiBUaGlzIGFwcGxpY2F0aW9uXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBjcmFzaC4gSWdub3JlIHRoaXMgZXJyb3IuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd3Mub24oXCJtZXNzYWdlXCIsIChtc2c6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhOiBhbnk7XG5cbiAgICAgICAgICAgICAgICAvLyBhY2NlcHRpbmcgb25seSBKU09OIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UobXNnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0eXBlLCB0b2tlbiwgaG9zdCwgb2ZmZXIsIGFuc3dlciwgY2FuZGlkYXRlIH0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGEgdXNlciB0cmllcyB0byBsb2dpblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXV0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlcm5hbWUgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXV0aFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3QgdmFsaWRhdGUgdG9rZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLmF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkFVVEhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBdXRoZW50aWNhdGlvbiBzdWNjZXNzZnVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9zdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgYSBjaGFubmVsIChIb3N0KVxuICAgICAgICAgICAgICAgICAgICAgICAgd3MuaG9zdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSG9zdCBpbml0aWFsaXNlZCBcIiArIHdzLnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiB0aGlzLmdldFJUQ0Nvbm5lY3Rpb25Db25maWcoXCJob3N0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgYSBjaGFubmVsIChIb3N0KVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwb25nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb25uZWN0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbm5lY3QgdG8gYSBjaGFubmVsIChIb3N0KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdHMgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQudXVpZCA9PT0gaG9zdCAmJiBjbGllbnQuY29ubmVjdGVkID09PSBudWxsICYmIGNsaWVudC5ob3N0ID09PSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2xpZW50IGNvbm5lY3RlZCBcIiArIHdzLnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IHRoaXMuZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhcImhvc3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsaWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3RlZCB0byBcIiArIGhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IHRoaXMuZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhcImNsaWVudFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluayB0aGVtIHRvZ2V0aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuY29ubmVjdGVkID0gaG9zdHNbMF0udXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0c1swXS5jb25uZWN0ZWQgPSB3cy51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gXCIgKyBob3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZmVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBDbGllbnQgZXhpc3RzIHRoZW4gc2VuZCBoaW0gb2ZmZXIgZGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdzLmNvbm5lY3RlZCAhPSBudWxsICYmIHRoaXMud3NTZXJ2ZXIuY2xpZW50cy5zaXplID4gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdHNPZmZlciA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQuY29ubmVjdGVkID09PSB3cy51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RzT2ZmZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhob3N0c09mZmVyWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBub3QgZm91bmQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9vIHNvb24uLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCByZXNwb25zZSB0byBhbiBvZmZlciB3aXRoIGFuIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdzLmNvbm5lY3RlZCAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRvbyBzb29uLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2FuZGlkYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBDbGllbnQgcmVzcG9uc2UgdG8gYW4gb2ZmZXIgd2l0aCBhbiBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdHNPZmZlciA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQuY29ubmVjdGVkID09PSB3cy51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RzT2ZmZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhob3N0c09mZmVyWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FuZGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBub3QgZm91bmQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYW5kaWRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb28gc29vbi4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxlYXZlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRzID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy51dWlkID0gdXVpZHY0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGNsaWVudHNbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbGVmdCBvbiByZWNlaXZlIGxlYXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50c1swXS5jb25uZWN0ZWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBsZWZ0LlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLmNvbm5lY3RlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLnV1aWQgPSB1dWlkdjQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOb3QgY29ubmVjdGVkIHRvIGhvc3QvY2xpZW50LlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbW1hbmQgbm90IGZvdW5kOiBcIiArIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdzLm9uKFwiY2xvc2VcIiwgKHdzQXJnOiBhbnksIHJlcXVlc3Q6IGFueSwgY2xpZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod3NBcmcuY29ubmVjdGVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50cyA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50QXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50QXJnLmNvbm5lY3RlZCA9PT0gd3NBcmcudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oY2xpZW50c1swXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBsZWZ0IG9uIHdlYnNvY2tldCBjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudHNbMF0uY29ubmVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3c0FyZy5jb25uZWN0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gc2VuZCBpbW1lZGlhdGVseSBhIGZlZWRiYWNrIHRvIHRoZSBpbmNvbWluZyBjb25uZWN0aW9uXG4gICAgICAgICAgICB3cy5zZW5kKFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiV2VsbCBoZWxsbyB0aGVyZSwgSSBhbSB0aGUgU2lnbmFsaW5nIFNlcnZlclwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBYmlJdGVtIH0gZnJvbSBcIndlYjMtdXRpbHMvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGNsYWltSG9sZGVyQWJpOiBBYmlJdGVtW10gPSBbXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRLZXlQdXJwb3NlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldEtleVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3R5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImFkZEtleVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRDbGFpbUlkc0J5VHlwZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbUlkc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2NsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcInJlbW92ZUNsYWltXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfaWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9hcHByb3ZlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJhcHByb3ZlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJyZW1vdmVLZXlcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldEtleXNCeVB1cnBvc2VcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJbXVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9zY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9pc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9zaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl91cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiYWRkQ2xhaW1cIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1SZXF1ZXN0SWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfdG9cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl92YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJleGVjdXRlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0Q2xhaW1cIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwia2V5SGFzUHVycG9zZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJyZXN1bHRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1SZXF1ZXN0ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltQWRkZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbVJlbW92ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbUNoYW5nZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkV4ZWN1dGlvbkZhaWxlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIktleUFkZGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiS2V5UmVtb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiRXhlY3V0aW9uUmVxdWVzdGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidG9cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJFeGVjdXRlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJhcHByb3ZlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQXBwcm92ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfVxuXTtcbiIsImltcG9ydCB7IEFiaUl0ZW0gfSBmcm9tIFwid2ViMy11dGlscy90eXBlc1wiO1xuZXhwb3J0IGNvbnN0IElkZW50aXR5ID0ge1xuICAgIGFiaTogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRLZXlQdXJwb3NlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEtleVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3R5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImFkZEtleVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRDbGFpbUlkc0J5VHlwZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltSWRzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJbXVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2NsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcInJlbW92ZUNsYWltXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zdHJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfb2Zmc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfbGVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRCeXRlc1wiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfYXBwcm92ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiYXBwcm92ZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwicmVtb3ZlS2V5XCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRLZXlzQnlQdXJwb3NlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImFkZENsYWltXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1SZXF1ZXN0SWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3RvXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0ZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2NsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldENsYWltXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImtleUhhc1B1cnBvc2VcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJyZXN1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc3RyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9vZmZzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9sZW5ndGhcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldFN0cmluZ1wiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2W11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZbXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9pc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1tdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3NpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3VyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc2lnU2l6ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVNpemVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZbXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVNpemVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZbXVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiY29uc3RydWN0b3JcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2xhaW1SZXF1ZXN0ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNsYWltQWRkZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbVJlbW92ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2xhaW1DaGFuZ2VkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXhlY3V0aW9uRmFpbGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJLZXlBZGRlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiS2V5UmVtb3ZlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV4ZWN1dGlvblJlcXVlc3RlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV4ZWN1dGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImFwcHJvdmVkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBcHByb3ZlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9XG4gICAgXSBhcyBBYmlJdGVtW10sXG4gICAgZGF0YTogXCI2MDgwNjA0MDUyMzQ4MDE1NjIwMDAwMTE1NzYwMDA4MGZkNWI1MDYwNDA1MTYyMDAzMzMzMzgwMzgwNjIwMDMzMzM4MzM5ODEwMTgwNjA0MDUyODEwMTkwODA4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA1MDUwNTA2MDAwODA2MDAwODA2MDAwODAzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA5MDUwODA2MDAxNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE4MTYwMDAxOTE2OTA1NTUwNjAwMTgwNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE4MTkwNTU1MDYwMDE4MDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxODE5MDU1NTA2MDAyNjAwMDYwMDE4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODE5MDgwNjAwMTgxNTQwMTgwODI1NTgwOTE1MDUwOTA2MDAxODIwMzkwNjAwMDUyNjAyMDYwMDAyMDAxNjAwMDkwOTE5MjkwOTE5MDkxNTA5MDYwMDAxOTE2OTA1NTUwNjAwMTgwNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDgyNjAwMDE5MTY3ZjQ4MDAwMGJiMWVkYWQ4Y2ExNDcwMzgxY2MzMzRiMTkxN2ZiZDUxYzY1MzFmM2E2MjNlYThlMGVjN2UzOGE2ZTk2MDQwNTE2MDQwNTE4MDkxMDM5MGE0NTA2MDAwOTM1MDYwMDA5MjUwNjAwMDkxNTA2MDAwOTA1MDViOGQ1MTgxMTAxNTYyMDAwN2JhNTc4YjgxODE1MTgxMTAxNTE1NjIwMDAyMGY1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MThlODI4MTUxODExMDE1MTU2MjAwMDIyODU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxNjA0MDUxODA4MzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxODI4MTUyNjAyMDAxOTI1MDUwNTA2MDQwNTE4MDkxMDM5MDIwOTQ1MDYwYzA2MDQwNTE5MDgxMDE2MDQwNTI4MDhmODM4MTUxODExMDE1MTU2MjAwMDJhNjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxODE1MjYwMjAwMThlODM4MTUxODExMDE1MTU2MjAwMDJjNDU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxODE1MjYwMjAwMThkODM4MTUxODExMDE1MTU2MjAwMDJlMjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY4MTUyNjAyMDAxNjIwMDAzM2I4ZDg3OGM4NjgxNTE4MTEwMTUxNTYyMDAwMzFjNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE2MjAwMDdjZTY0MDEwMDAwMDAwMDAyNjQwMTAwMDAwMDAwOTAwNDU2NWI4MTUyNjAyMDAxNjIwMDAzNzQ4Yzg1OGI4NjgxNTE4MTEwMTUxNTYyMDAwMzU1NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE2MjAwMDdjZTY0MDEwMDAwMDAwMDAyNjQwMTAwMDAwMDAwOTAwNDU2NWI4MTUyNjAyMDAxNjIwMDAzYWQ4Yjg2OGE4NjgxNTE4MTEwMTUxNTYyMDAwMzhlNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE2MjAwMDhkYTY0MDEwMDAwMDAwMDAyNjQwMTAwMDAwMDAwOTAwNDU2NWI4MTUyNTA2MDA0NjAwMDg3NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwODIwMTUxODE2MDAwMDE1NTYwMjA4MjAxNTE4MTYwMDEwMTU1NjA0MDgyMDE1MTgxNjAwMjAxNjAwMDYxMDEwMDBhODE1NDgxNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMDIxOTE2OTA4MzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MDIxNzkwNTU1MDYwNjA4MjAxNTE4MTYwMDMwMTkwODA1MTkwNjAyMDAxOTA2MjAwMDQ0NDkyOTE5MDYyMDAwOWVjNTY1YjUwNjA4MDgyMDE1MTgxNjAwNDAxOTA4MDUxOTA2MDIwMDE5MDYyMDAwNDYzOTI5MTkwNjIwMDA5ZWM1NjViNTA2MGEwODIwMTUxODE2MDA1MDE5MDgwNTE5MDYwMjAwMTkwNjIwMDA0ODI5MjkxOTA2MjAwMGE3MzU2NWI1MDkwNTA1MDg3ODE4MTUxODExMDE1MTU2MjAwMDQ5NTU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxODQwMTkzNTA4NTgxODE1MTgxMTAxNTE1NjIwMDA0YjI1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTgzMDE5MjUwODY4MTgxNTE4MTEwMTUxNTYyMDAwNGNmNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4MjAxOTE1MDYwMDQ2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwNDYwMDA4NzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ4NjYwMDAxOTE2N2Y0NjE0OWIxOGFhMDg0NTAyYzNmMTJiYzc1ZTE5ZWRhOGJkYThkMTAyYjgyY2NlODQ3NDY3N2E2ZDBkNWY0M2M1NjAwNDYwMDA4YTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDA0NjAwMDhiNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDA0NjAwMDhjNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA0MDE2MDA0NjAwMDhkNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA1MDE2MDQwNTE4MDg1ODE1MjYwMjAwMTgwNjAyMDAxODA2MDIwMDE4MDYwMjAwMTg0ODEwMzg0NTI4NzgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYyMDAwNjhiNTc4MDYwMWYxMDYyMDAwNjVmNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MjAwMDY4YjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjIwMDA2NmQ1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDg0ODEwMzgzNTI4NjgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYyMDAwNzEyNTc4MDYwMWYxMDYyMDAwNmU2NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MjAwMDcxMjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjIwMDA2ZjQ1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDg0ODEwMzgyNTI4NTgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYyMDAwNzk5NTc4MDYwMWYxMDYyMDAwNzZkNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MjAwMDc5OTU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjIwMDA3N2I1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDk3NTA1MDUwNTA1MDUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ4MDgwNjAwMTAxOTE1MDUwNjIwMDAxZjY1NjViNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDYyMDAwYjIyNTY1YjYwNjA4MDYwMDA4MDg0NjA0MDUxOTA4MDgyNTI4MDYwMWYwMTYwMWYxOTE2NjAyMDAxODIwMTYwNDA1MjgwMTU2MjAwMDgwODU3ODE2MDIwMDE2MDIwODIwMjgwMzg4MzM5ODA4MjAxOTE1MDUwOTA1MDViNTA5MjUwNjAwMDkxNTA4NTkwNTA1Yjg0ODYwMTgxMTAxNTYyMDAwOGNkNTc4NjgxODE1MTgxMTAxNTE1NjIwMDA4MmQ1N2ZlNWI5MDYwMjAwMTAxNTE3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0N2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MzgzODE1MTgxMTAxNTE1NjIwMDA4ODc1N2ZlNWI5MDYwMjAwMTAxOTA3ZWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTkxNjkwODE2MDAwMWE5MDUzNTA4MTgwNjAwMTAxOTI1MDUwODA4MDYwMDEwMTkxNTA1MDYyMDAwODEzNTY1YjgyOTM1MDUwNTA1MDkzOTI1MDUwNTA1NjViNjA2MDgwNjA2MDYwMDA4MDg3OTM1MDg1NjA0MDUxOTA4MDgyNTI4MDYwMWYwMTYwMWYxOTE2NjAyMDAxODIwMTYwNDA1MjgwMTU2MjAwMDkxOTU3ODE2MDIwMDE2MDIwODIwMjgwMzg4MzM5ODA4MjAxOTE1MDUwOTA1MDViNTA5MjUwNjAwMDkxNTA4NjkwNTA1Yjg1ODcwMTgxMTAxNTYyMDAwOWRlNTc4MzgxODE1MTgxMTAxNTE1NjIwMDA5M2U1N2ZlNWI5MDYwMjAwMTAxNTE3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0N2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MzgzODE1MTgxMTAxNTE1NjIwMDA5OTg1N2ZlNWI5MDYwMjAwMTAxOTA3ZWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTkxNjkwODE2MDAwMWE5MDUzNTA4MTgwNjAwMTAxOTI1MDUwODA4MDYwMDEwMTkxNTA1MDYyMDAwOTI0NTY1YjgyOTQ1MDUwNTA1MDUwOTM5MjUwNTA1MDU2NWI4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA2MDFmMDE2MDIwOTAwNDgxMDE5MjgyNjAxZjEwNjIwMDBhMmY1NzgwNTE2MGZmMTkxNjgzODAwMTE3ODU1NTYyMDAwYTYwNTY1YjgyODAwMTYwMDEwMTg1NTU4MjE1NjIwMDBhNjA1NzkxODIwMTViODI4MTExMTU2MjAwMGE1ZjU3ODI1MTgyNTU5MTYwMjAwMTkxOTA2MDAxMDE5MDYyMDAwYTQyNTY1YjViNTA5MDUwNjIwMDBhNmY5MTkwNjIwMDBhZmE1NjViNTA5MDU2NWI4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA2MDFmMDE2MDIwOTAwNDgxMDE5MjgyNjAxZjEwNjIwMDBhYjY1NzgwNTE2MGZmMTkxNjgzODAwMTE3ODU1NTYyMDAwYWU3NTY1YjgyODAwMTYwMDEwMTg1NTU4MjE1NjIwMDBhZTc1NzkxODIwMTViODI4MTExMTU2MjAwMGFlNjU3ODI1MTgyNTU5MTYwMjAwMTkxOTA2MDAxMDE5MDYyMDAwYWM5NTY1YjViNTA5MDUwNjIwMDBhZjY5MTkwNjIwMDBhZmE1NjViNTA5MDU2NWI2MjAwMGIxZjkxOTA1YjgwODIxMTE1NjIwMDBiMWI1NzYwMDA4MTYwMDA5MDU1NTA2MDAxMDE2MjAwMGIwMTU2NWI1MDkwNTY1YjkwNTY1YjYxMjgwMTgwNjIwMDBiMzI2MDAwMzk2MDAwZjMwMDYwODA2MDQwNTI2MDA0MzYxMDYxMDBkMDU3NjAwMDM1N2MwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOTAwNDYzZmZmZmZmZmYxNjgwNjMwMzJjMWE4YTE0NjEwMGQ1NTc4MDYzMTJhYWFjNzAxNDYxMDExYTU3ODA2MzFkMzgxMjQwMTQ2MTAxNzU1NzgwNjMyNjJiNTRmNTE0NjEwMWQyNTc4MDYzNGVlZTQyNGExNDYxMDI1NDU3ODA2MzVkMmNmZDYxMTQ2MTAyOWQ1NzgwNjM3NDc0NDJkMzE0NjEwMzkzNTc4MDYzODYyNjQyZjUxNDYxMDNlNDU3ODA2MzkwMTBmNzI2MTQ2MTA0MmQ1NzgwNjNiMWEzNGUwZDE0NjEwNGFmNTc4MDYzYjYxZDI3ZjYxNDYxMDVmNDU3ODA2M2M5MTAwYmNiMTQ2MTA2OWI1NzgwNjNkMjAyMTU4ZDE0NjEwODVlNTc4MDYzZGY5MzE5YmUxNDYxMDhiMTU3NWI2MDAwODBmZDViMzQ4MDE1NjEwMGUxNTc2MDAwODBmZDViNTA2MTAxMDQ2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEwOWE3NTY1YjYwNDA1MTgwODI4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMTI2NTc2MDAwODBmZDViNTA2MTAxNDk2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEwOWNmNTY1YjYwNDA1MTgwODQ4MTUyNjAyMDAxODM4MTUyNjAyMDAxODI2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkzNTA1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAxODE1NzYwMDA4MGZkNWI1MDYxMDFiODYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEwYTNlNTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAxZGU1NzYwMDA4MGZkNWI1MDYxMDFmZDYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEwY2Y3NTY1YjYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwNjAyMDAyODA4MzgzNjAwMDViODM4MTEwMTU2MTAyNDA1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTAyMjU1NjViNTA1MDUwNTA5MDUwMDE5MjUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDI2MDU3NjAwMDgwZmQ1YjUwNjEwMjgzNjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMGQ2NjU2NWI2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMmE5NTc2MDAwODBmZDViNTA2MTAzMTg2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTExZTQ1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDM1ODU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDMzZDU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTAzODU1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMzlmNTc2MDAwODBmZDViNTA2MTAzY2E2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzUxNTE1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMTJlYjU2NWI2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwM2YwNTc2MDAwODBmZDViNTA2MTA0MTM2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjExN2ZmNTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA0Mzk1NzYwMDA4MGZkNWI1MDYxMDQ1ODYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjExOTZhNTY1YjYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwNjAyMDAyODA4MzgzNjAwMDViODM4MTEwMTU2MTA0OWI1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTA0ODA1NjViNTA1MDUwNTA5MDUwMDE5MjUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDRiYjU3NjAwMDgwZmQ1YjUwNjEwNWQ2NjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA1MDUwNTA2MTE5ZDk1NjViNjA0MDUxODA4MjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwNjAwNTc2MDAwODBmZDViNTA2MTA2ODU2MDA0ODAzNjAzODEwMTkwODA4MDM1NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDUwNTA1MDYxMWVmZTU2NWI2MDQwNTE4MDgyODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDZhNzU3NjAwMDgwZmQ1YjUwNjEwNmNhNjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMjFlMDU2NWI2MDQwNTE4MDg3ODE1MjYwMjAwMTg2ODE1MjYwMjAwMTg1NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjgxNTI2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODA2MDIwMDE4NDgxMDM4NDUyODc4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTA3NTA1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTA3MzU1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjEwNzdkNTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA4NDgxMDM4MzUyODY4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTA3YjY1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTA3OWI1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjEwN2UzNTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA4NDgxMDM4MjUyODU4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTA4MWM1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTA4MDE1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjEwODQ5NTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA5OTUwNTA1MDUwNTA1MDUwNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwODZhNTc2MDAwODBmZDViNTA2MTA4OTc2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTI0YWE1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDhiZDU3NjAwMDgwZmQ1YjUwNjEwOTJjNjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEyNTEzNTY1YjYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTA5NmM1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTA5NTE1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjEwOTk5NTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA5MjUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjYwMDA2MDAxNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDkwNTA5MTkwNTA1NjViNjAwMDgwNjAwMDYwMDE2MDAwODU2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0NjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAxNjAwMDg3NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE1NDkyNTA5MjUwOTI1MDkxOTM5MDkyNTA1NjViNjAwMDgzNjAwMDE5MTY2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE1NDYwMDAxOTE2MTQxNTE1MTU2MTBhZGU1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMTI4MTUyNjAyMDAxODA3ZjRiNjU3OTIwNjE2YzcyNjU2MTY0NzkyMDY1Nzg2OTczNzQ3MzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNTA2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWIzMDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MzM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjE0MTUxNTYxMGMwOTU3NjEwYjZlMzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMTYxMjRhYTU2NWIxNTE1NjEwYzA4NTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDIzODE1MjYwMjAwMTgwN2Y1MzY1NmU2NDY1NzIyMDY0NmY2NTczMjA2ZTZmNzQyMDY4NjE3NjY1MjA2ZDYxNmU2MTY3NjU2ZDY1NmU3NDIwODE1MjYwMjAwMTdmNmI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwNDAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjViODM2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE4MTYwMDAxOTE2OTA1NTUwODI2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE4MTkwNTU1MDgxNjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxODE5MDU1NTA2MDAyNjAwMDg0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDg0OTA4MDYwMDE4MTU0MDE4MDgyNTU4MDkxNTA1MDkwNjAwMTgyMDM5MDYwMDA1MjYwMjA2MDAwMjAwMTYwMDA5MDkxOTI5MDkxOTA5MTUwOTA2MDAwMTkxNjkwNTU1MDgxODM4NTYwMDAxOTE2N2Y0ODAwMDBiYjFlZGFkOGNhMTQ3MDM4MWNjMzM0YjE5MTdmYmQ1MWM2NTMxZjNhNjIzZWE4ZTBlYzdlMzhhNmU5NjA0MDUxNjA0MDUxODA5MTAzOTBhNDYwMDE5MDUwOTM5MjUwNTA1MDU2NWI2MDYwNjAwNTYwMDA4MzgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA4MDU0ODA2MDIwMDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkyOTE5MDgxODE1MjYwMjAwMTgyODA1NDgwMTU2MTBkNWE1NzYwMjAwMjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0NjAwMDE5MTY4MTUyNjAyMDAxOTA2MDAxMDE5MDgwODMxMTYxMGQ0MjU3NWI1MDUwNTA1MDUwOTA1MDkxOTA1MDU2NWI2MDAwMzA3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjMzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYxNDE1MTU2MTBlOTM1NzYxMGRmODMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDE2MTI0YWE1NjViMTUxNTYxMGU5MjU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAyMzgxNTI2MDIwMDE4MDdmNTM2NTZlNjQ2NTcyMjA2NDZmNjU3MzIwNmU2Zjc0MjA2ODYxNzY2NTIwNmQ2MTZlNjE2NzY1NmQ2NTZlNzQyMDgxNTI2MDIwMDE3ZjZiNjU3OTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNTA2MDQwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI1YjYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwNDYwMDA4NDYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ4MzYwMDAxOTE2N2YzY2Y1Nzg2M2E4OTQzMmM2MWM0YTI3MDczYzZlZTM5ZThhNzY0YmZmNWEwNWFlYmZiY2RjZGM4MGIyZTYxMzBhNjAwNDYwMDA4NzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDA0NjAwMDg4NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDA0NjAwMDg5NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA0MDE2MDA0NjAwMDhhNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA1MDE2MDQwNTE4MDg1ODE1MjYwMjAwMTgwNjAyMDAxODA2MDIwMDE4MDYwMjAwMTg0ODEwMzg0NTI4NzgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTAzZDU3ODA2MDFmMTA2MTEwMTI1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTAzZDU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExMDIwNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4NDgxMDM4MzUyODY4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTEwYzA1NzgwNjAxZjEwNjExMDk1NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTEwYzA1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTBhMzU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODQ4MTAzODI1Mjg1ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExMTQzNTc4MDYwMWYxMDYxMTExODU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExMTQzNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTExMjY1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDk3NTA1MDUwNTA1MDUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwODA4MjAxNjAwMDkwNTU2MDAxODIwMTYwMDA5MDU1NjAwMjgyMDE2MDAwNjEwMTAwMGE4MTU0OTA3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYwMjE5MTY5MDU1NjAwMzgyMDE2MDAwNjExMWI5OTE5MDYxMjYyMDU2NWI2MDA0ODIwMTYwMDA2MTExYzk5MTkwNjEyNjIwNTY1YjYwMDU4MjAxNjAwMDYxMTFkOTkxOTA2MTI2Njg1NjViNTA1MDYwMDE5MDUwOTE5MDUwNTY1YjYwNjA4MDYwMDA4MDg0NjA0MDUxOTA4MDgyNTI4MDYwMWYwMTYwMWYxOTE2NjAyMDAxODIwMTYwNDA1MjgwMTU2MTEyMWQ1NzgxNjAyMDAxNjAyMDgyMDI4MDM4ODMzOTgwODIwMTkxNTA1MDkwNTA1YjUwOTI1MDYwMDA5MTUwODU5MDUwNWI4NDg2MDE4MTEwMTU2MTEyZGU1Nzg2ODE4MTUxODExMDE1MTU2MTEyNDA1N2ZlNWI5MDYwMjAwMTAxNTE3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0N2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MzgzODE1MTgxMTAxNTE1NjExMjk5NTdmZTViOTA2MDIwMDEwMTkwN2VmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE5MTY5MDgxNjAwMDFhOTA1MzUwODE4MDYwMDEwMTkyNTA1MDgwODA2MDAxMDE5MTUwNTA2MTEyMjg1NjViODI5MzUwNTA1MDUwOTM5MjUwNTA1MDU2NWI2MDAwNjExMzQ4MzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMjYxMjRhYTU2NWIxNTE1NjExM2JjNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDFmODE1MjYwMjAwMTgwN2Y1MzY1NmU2NDY1NzIyMDY0NmY2NTczMjA2ZTZmNzQyMDY4NjE3NjY1MjA2MTYzNzQ2OTZmNmUyMDZiNjU3OTAwODE1MjUwNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViODI3ZmIzOTMyZGE0NzdmZTVkNmM4ZmYyZWFmZWYwNTBjMGYzYTFhZjE4ZmMwNzEyMTAwMTQ4MjYwMGYzNmYzNzE1ZDg4MzYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGEyNjAwMTE1MTU4MjE1MTUxNDE1NjExN2M1NTc2MDAxNjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDAwNjEwMTAwMGE4MTU0ODE2MGZmMDIxOTE2OTA4MzE1MTUwMjE3OTA1NTUwNjAwMzYwMDA4NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDYwNDA1MTgwODM4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTE0ZmU1NzgwNjAxZjEwNjExNGQzNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTE0ZmU1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTRlMTU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODI2MGZmMTY4MTUyNjAyMDAxOTI1MDUwNTA2MDAwNjA0MDUxODA4MzAzODE2MDAwODY1YWYxOTE1MDUwOTA1MDgwMTU2MTE2OGQ1NzYwMDE2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDE2MTAxMDAwYTgxNTQ4MTYwZmYwMjE5MTY5MDgzMTUxNTAyMTc5MDU1NTA2MDAzNjAwMDg0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjg0N2YxZjkyMGRiZGE1OTdkN2JmOTUwMzU0NjQxNzBmYTU4ZDBhNGI1N2YxM2ExYzMxNWFjZTY3OTNiOWY2MzY4OGI4NjAwMzYwMDA4ODgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExNjdhNTc4MDYwMWYxMDYxMTY0ZjU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExNjdhNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTE2NWQ1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBhNDYxMTdmOTU2NWI2MDAzNjAwMDg0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjg0N2ZlMTBjNDlkOWY3YzcxZGEyMzI2MjM2NzAxMzQzNDc2M2NmZGIyMzMyMjY3NjQxNzI4ZDI1Y2Q3MTJjNWM2YTY4NjAwMzYwMDA4ODgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExN2IyNTc4MDYwMWYxMDYxMTc4NzU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExN2IyNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTE3OTU1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBhNDYxMTdmOTU2NWI2MDAwNjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDAwNjEwMTAwMGE4MTU0ODE2MGZmMDIxOTE2OTA4MzE1MTUwMjE3OTA1NTUwNjAwMTkwNTA1YjkyOTE1MDUwNTY1YjYwMDA4MTYwMDAxOTE2NjAwMTYwMDA4NDYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNTQ2MDAwMTkxNjE0MTUxNTYxMTg5ZTU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAwYjgxNTI2MDIwMDE4MDdmNGU2ZjIwNzM3NTYzNjgyMDZiNjU3OTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjYwMDE2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwMTYwMDA4NDYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ2MDAxNjAwMDg1NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE1NDYwMDAxOTE2N2Y1ODVhNGFlZjUwZjgyNjdhOTJiMzI0MTJiMzMxYjIwZjdmOGI5NmYyMjQ1YjI1M2I5Y2M1MGRjYzYyMWQzMzk3NjA0MDUxNjA0MDUxODA5MTAzOTBhNDYwMDE2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDA4MDgyMDE2MDAwOTA1NTYwMDE4MjAxNjAwMDkwNTU2MDAyODIwMTYwMDA5MDU1NTA1MDYwMDE5MDUwOTE5MDUwNTY1YjYwNjA2MDAyNjAwMDgzODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDgwNTQ4MDYwMjAwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTI5MTkwODE4MTUyNjAyMDAxODI4MDU0ODAxNTYxMTljZDU3NjAyMDAyODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ2MDAwMTkxNjgxNTI2MDIwMDE5MDYwMDEwMTkwODA4MzExNjExOWI1NTc1YjUwNTA1MDUwNTA5MDUwOTE5MDUwNTY1YjYwMDA4MDg1ODg2MDQwNTE4MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE4MjgxNTI2MDIwMDE5MjUwNTA1MDYwNDA1MTgwOTEwMzkwMjA5MDUwMzA3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjMzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYxNDE1MTU2MTFiNjI1NzYxMWFjNzMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDM2MTI0YWE1NjViMTUxNTYxMWI2MTU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAyNTgxNTI2MDIwMDE4MDdmNTM2NTZlNjQ2NTcyMjA2NDZmNjU3MzIwNmU2Zjc0MjA2ODYxNzY2NTIwNjM2YzYxNjk2ZDIwNzM2OTY3NmU2NTgxNTI2MDIwMDE3ZjcyMjA2YjY1NzkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNTA2MDQwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI1Yjg1NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjE0MTUxNTYxMWMxOTU3NjAwNTYwMDA4OTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA4MTkwODA2MDAxODE1NDAxODA4MjU1ODA5MTUwNTA5MDYwMDE4MjAzOTA2MDAwNTI2MDIwNjAwMDIwMDE2MDAwOTA5MTkyOTA5MTkwOTE1MDkwNjAwMDE5MTY5MDU1NTA1Yjg3NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxODE5MDU1NTA4NjYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTgxOTA1NTUwODU2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwNjEwMTAwMGE4MTU0ODE3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYwMjE5MTY5MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYwMjE3OTA1NTUwODQ2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE5MDgwNTE5MDYwMjAwMTkwNjExY2VlOTI5MTkwNjEyNmIwNTY1YjUwODM2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA0MDE5MDgwNTE5MDYwMjAwMTkwNjExZDIxOTI5MTkwNjEyNmIwNTY1YjUwODI2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA1MDE5MDgwNTE5MDYwMjAwMTkwNjExZDU0OTI5MTkwNjEyNzMwNTY1YjUwODU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjg4ODI2MDAwMTkxNjdmNDYxNDliMThhYTA4NDUwMmMzZjEyYmM3NWUxOWVkYThiZGE4ZDEwMmI4MmNjZTg0NzQ2NzdhNmQwZDVmNDNjNThhODk4OTg5NjA0MDUxODA4NTgxNTI2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODA2MDIwMDE4NDgxMDM4NDUyODc4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTFkZTU1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTFkY2E1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjExZTEyNTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA4NDgxMDM4MzUyODY4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTFlNGI1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTFlMzA1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjExZTc4NTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA4NDgxMDM4MjUyODU4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTFlYjE1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTFlOTY1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjExZWRlNTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA5NzUwNTA1MDUwNTA1MDUwNTA2MDQwNTE4MDkxMDM5MGE0ODA5MTUwNTA5Njk1NTA1MDUwNTA1MDUwNTY1YjYwMDA2MDAzNjAwMDgwNTQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwMTkwNTQ5MDYxMDEwMDBhOTAwNDYwZmYxNjE1MTUxNTYxMWY5YTU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAxMDgxNTI2MDIwMDE4MDdmNDE2YzcyNjU2MTY0NzkyMDY1Nzg2NTYzNzU3NDY1NjQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjgzNjAwMzYwMDA4MDU0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA2MTAxMDAwYTgxNTQ4MTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjAyMTkxNjkwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjAyMTc5MDU1NTA4MjYwMDM2MDAwODA1NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE4MTkwNTU1MDgxNjAwMzYwMDA4MDU0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTkwODA1MTkwNjAyMDAxOTA2MTIwMzc5MjkxOTA2MTI2YjA1NjViNTA4Mjg0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDAwNTQ3ZjhhZmNmYWJjYjAwZTQ3YTUzYThmYzNlOWYyM2ZmNDdlZTE5MjYxOTRiYjEzNTBkZDAwN2M1MGI0MTJhNmNlZTg4NTYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTIwYjU1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTIwOWE1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjEyMGUyNTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA5MjUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ2MTIxNGEzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAxNjEyNGFhNTY1YjgwNjEyMWFjNTc1MDYxMjFhYjMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDI2MTI0YWE1NjViNWIxNTYxMjFjMDU3NjEyMWJlNjAwMDU0NjAwMTYxMTJlYjU2NWI1MDViNjAwMDgwODE1NDgwOTI5MTkwNjAwMTAxOTE5MDUwNTU1MDYwMDE2MDAwNTQwMzkwNTA5MzkyNTA1MDUwNTY1YjYwMDA4MDYwMDA2MDYwODA2MDYwNjAwNDYwMDA4ODYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ2MDA0NjAwMDg5NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDQ2MDAwOGE2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDQ2MDAwOGI2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDQ2MDAwOGM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTYwMDQ2MDAwOGQ2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTI5MTkwODE4MTUyNjAyMDAxODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTIzNTY1NzgwNjAxZjEwNjEyMzJiNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTIzNTY1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMjMzOTU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwNTA1MDUwOTI1MDgxODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTI5MTkwODE4MTUyNjAyMDAxODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTIzZjI1NzgwNjAxZjEwNjEyM2M3NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTIzZjI1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMjNkNTU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwNTA1MDUwOTE1MDgwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTI5MTkwODE4MTUyNjAyMDAxODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTI0OGU1NzgwNjAxZjEwNjEyNDYzNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTI0OGU1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMjQ3MTU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwNTA1MDUwOTA1MDk1NTA5NTUwOTU1MDk1NTA5NTUwOTU1MDkxOTM5NTUwOTE5Mzk1NTY1YjYwMDA4MDYwMDA2MDAxMDI2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE1NDYwMDAxOTE2MTQxNTYxMjRlNDU3NjAwMDkxNTA2MTI1MGM1NjViODI2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDExMTU5MDUwODA5MTUwNWI1MDkyOTE1MDUwNTY1YjYwNjA4MDYwNjA2MDAwODA4NzkzNTA4NTYwNDA1MTkwODA4MjUyODA2MDFmMDE2MDFmMTkxNjYwMjAwMTgyMDE2MDQwNTI4MDE1NjEyNTUxNTc4MTYwMjAwMTYwMjA4MjAyODAzODgzMzk4MDgyMDE5MTUwNTA5MDUwNWI1MDkyNTA2MDAwOTE1MDg2OTA1MDViODU4NzAxODExMDE1NjEyNjEyNTc4MzgxODE1MTgxMTAxNTE1NjEyNTc0NTdmZTViOTA2MDIwMDEwMTUxN2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOTAwNDdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODM4MzgxNTE4MTEwMTUxNTYxMjVjZDU3ZmU1YjkwNjAyMDAxMDE5MDdlZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxOTE2OTA4MTYwMDAxYTkwNTM1MDgxODA2MDAxMDE5MjUwNTA4MDgwNjAwMTAxOTE1MDUwNjEyNTVjNTY1YjgyOTQ1MDUwNTA1MDUwOTM5MjUwNTA1MDU2NWI1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0NjAwMDgyNTU4MDYwMWYxMDYxMjY0NjU3NTA2MTI2NjU1NjViNjAxZjAxNjAyMDkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDgxMDE5MDYxMjY2NDkxOTA2MTI3YjA1NjViNWI1MDU2NWI1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0NjAwMDgyNTU4MDYwMWYxMDYxMjY4ZTU3NTA2MTI2YWQ1NjViNjAxZjAxNjAyMDkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDgxMDE5MDYxMjZhYzkxOTA2MTI3YjA1NjViNWI1MDU2NWI4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA2MDFmMDE2MDIwOTAwNDgxMDE5MjgyNjAxZjEwNjEyNmYxNTc4MDUxNjBmZjE5MTY4MzgwMDExNzg1NTU2MTI3MWY1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MTI3MWY1NzkxODIwMTViODI4MTExMTU2MTI3MWU1NzgyNTE4MjU1OTE2MDIwMDE5MTkwNjAwMTAxOTA2MTI3MDM1NjViNWI1MDkwNTA2MTI3MmM5MTkwNjEyN2IwNTY1YjUwOTA1NjViODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwNjAxZjAxNjAyMDkwMDQ4MTAxOTI4MjYwMWYxMDYxMjc3MTU3ODA1MTYwZmYxOTE2ODM4MDAxMTc4NTU1NjEyNzlmNTY1YjgyODAwMTYwMDEwMTg1NTU4MjE1NjEyNzlmNTc5MTgyMDE1YjgyODExMTE1NjEyNzllNTc4MjUxODI1NTkxNjAyMDAxOTE5MDYwMDEwMTkwNjEyNzgzNTY1YjViNTA5MDUwNjEyN2FjOTE5MDYxMjdiMDU2NWI1MDkwNTY1YjYxMjdkMjkxOTA1YjgwODIxMTE1NjEyN2NlNTc2MDAwODE2MDAwOTA1NTUwNjAwMTAxNjEyN2I2NTY1YjUwOTA1NjViOTA1NjAwYTE2NTYyN2E3YTcyMzA1ODIwMDAxNzYzNGU2MmM4NTYxOThjOWM4ZDIwNDc1NmJkOWVkNWUxMmNhOTdiMjMwNjgyYzZjYzk0MWU4MTNiODEzMzAwMjlcIlxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRTdWJEb21haW4odXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlcGxhY2UgaHR0cCwgaHR0cHMgYW5kIHJlbW92ZSB0aGUgcG9ydFxuICAgIHJldHVybiB1cmw/LnJlcGxhY2UoXCJodHRwOi8vXCIsIFwiXCIpLnJlcGxhY2UoXCJodHRwczovL1wiLCBcIlwiKS5zcGxpdChcIjpcIilbMF07XG59IiwiaW1wb3J0IHsgRURJREFjY2Vzc0xldmVsIH0gZnJvbSBcIi4uLy4uL2VudW1zL2RpZEFjY2Vzc0xldmVsLmVudW1cIjtcbmltcG9ydCB7IElkZW50aXR5IH0gZnJvbSBcIi4uLy4uL3NtYXJ0Y29udHJhY3RzL2lkZW50aXR5XCI7XG5pbXBvcnQgV2ViMyBmcm9tIFwid2ViM1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tLZXlGb3JEaWQod2ViM1VybDogc3RyaW5nLCBjb250cmFjdEFkZHJlc3M6IHN0cmluZywgcHVibGljS2V5OiBzdHJpbmcsIGtleVRvQ2hlY2s6IEVESURBY2Nlc3NMZXZlbCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoSWRlbnRpdHkuYWJpLCBjb250cmFjdEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBzaGFBZGRyZXNzID0gd2ViMy51dGlscy5zaGEzKHB1YmxpY0tleSk7XG4gICAgICAgIHJldHVybiBhd2FpdCBjb250cmFjdC5tZXRob2RzLmtleUhhc1B1cnBvc2Uoc2hhQWRkcmVzcywga2V5VG9DaGVjaykuY2FsbCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGlicmFyeSAtIFNvbWV0aGluZyB3ZW50IHdyb25nOiBcIiArIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBJV2ViUlRDQ29uZmlnIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy93ZWJSdGNDb25maWcuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBSVENTZXNzaW9uRGVzY3JpcHRpb24sIFJUQ0ljZUNhbmRpZGF0ZSB9IGZyb20gXCJ3cnRjXCI7XG5pbXBvcnQgeyB3M2N3ZWJzb2NrZXQgfSBmcm9tIFwid2Vic29ja2V0XCI7XG5pbXBvcnQgeyBPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcImh0dHBcIjtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFdlYlJ0Y1Byb3ZpZGVyIHtcbiAgICB3ZWJSdGNDb25maWc6IElXZWJSVENDb25maWc7XG4gICAgaG9zdFV1aWQ6IHN0cmluZzsgLy8gVGhlIGhvc3QgVVVJRCB0byBjb25uZWN0IHRvIGZyb20gdGhlIGNsaWVudFxuICAgIHBlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiA9IG51bGw7IC8vIFRoZSBwZWVyIGNvbm5lY3Rpb24gYmV0d2VlbiBjbGllbnQgYW5kIGhvc3RcbiAgICBkYXRhQ2hhbm5lbDogUlRDRGF0YUNoYW5uZWwgPSBudWxsOyAvLyBUaGUgZGF0YSBjaGFubmVsIGJldHdlZW4gY2xpZW50IGFuZCBob3N0XG4gICAgd3NDbGllbnQ6IHczY3dlYnNvY2tldCA9IG51bGw7IC8vIFRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBiZXR3ZWVuIGNsaWVudCBhbmQgc2lnbmFsaW5nIHNlcnZlciBvciBob3N0IGFuZCBzaWduYWxpbmcgc2VydmVyXG4gICAgcmVjZWl2ZWRBY3Rpb25zJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7IC8vIFdoZW5ldmVyIGFuIGFjdGlvbiBpcyByZWNlaXZlZCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdCBhbiBldmVudFxuICAgIHV1aWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+KG51bGwpOyAvLyBXaGVuZXZlciB0aGUgVVVJRCBpcyBzZXQsIGl0IHdpbGwgZW1pdCBhbiBldmVudCAoc28gdGhhdCB0aGUgaG9zdCBjYW4gc2V0IGl0IHNvbWV3aGVyZSBpbiBsaWtlIGEgUVIpXG4gICAgd2Vic29ja2V0TWVzc2FnZSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZXJlIGlzIGFuIGV2ZW50IG9uIHRoZSB3ZWJzb2NrZXQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAgICB3ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZXJlIGlzIGFuIGV2ZW50IG9uIHRoZSB3ZWJzb2NrZXQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAgICB3ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KG51bGwpOyAvLyBXaGVuZXZlciB0aGVyZSBpcyBhbiBldmVudCBvbiB0aGUgd2Vic29ja2V0LCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0XG4gICAgd2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZXJlIGlzIGFuIGVycm9yIGV2ZW50IG9uIHRoZSB3ZWJzb2NrZXQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAgICB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiBSVENDb25maWd1cmF0aW9uO1xuICAgIGNvbm5lY3Rpb25UaW1lb3V0OiBOb2RlSlMuVGltZW91dCA9IG51bGw7XG4gICAgcG9uZ0NoZWNrSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0ID0gbnVsbDtcbiAgICBwaW5nVGltZW91dDogTm9kZUpTLlRpbWVvdXQgPSBudWxsO1xuICAgIFdFQlNPQ0tFVF9QSU5HX0FOU1dFUl9ERUxBWSA9IDEwMDA7XG4gICAgLy8gVGhlIGFsbG93ZWQgdGltZSBiZWZvcmUgYSBwaW5nIHBvbmcgaXMgbWlzc2luZyBhbmQgdGh1cyBkaXNjb25uZWN0aW5nIHRoZSBjb25uZWN0aW9uXG4gICAgV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUUgPSAzMDAwO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgV2ViUlRDIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBnZXRDb25maWcoKTogSVdlYlJUQ0NvbmZpZyB7XG4gICAgICAgIHJldHVybiB0aGlzLndlYlJ0Y0NvbmZpZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IG5lZWRzIHRvIHNldCB0aGUgaG9zdCBVVUlEIHRvIGNvbm5lY3QgdG8gYmVmb3JlIHNldHRpbmcgdXAgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIGhvc3RVdWlkIFRoZSBVVUlEIG9mIHRoZSBob3N0XG4gICAgICovXG4gICAgc2V0SG9zdFV1aWQoaG9zdFV1aWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmhvc3RVdWlkID0gaG9zdFV1aWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIG92ZXIgdGhlIFAyUCBkYXRhIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gYWN0aW9uIEFzIGEgc3RyaW5nLCB3aGljaCBhY3Rpb24gdHlwZSBkbyB5b3Ugd2FudCB0byBzZW5kP1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgYXMgYW4gb2JqZWN0XG4gICAgICovXG4gICAgc2VuZFAyUERhdGEoYWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhQ2hhbm5lbCAmJiB0aGlzLmRhdGFDaGFubmVsLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtIFNlbmRpbmcgYWN0aW9uICcke2FjdGlvbn0nYCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb24sIC4uLmRhdGEgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgV2Vic29ja2V0IC0gQXR0ZW1wdGVkIHRvIHNlbmQgZGF0YSB3aXRoIGFjdGlvbiAke2FjdGlvbn0gYnV0IGRhdGEgY2hhbm5lbCBpcyBub3Qgb3BlbmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIG92ZXIgdGhlIGRhdGEgY2hhbm5lbFxuICAgICAqIEBwYXJhbSBhY3Rpb24gQXMgYSBzdHJpbmcsIHdoaWNoIGFjdGlvbiB0eXBlIGRvIHlvdSB3YW50IHRvIHNlbmQ/XG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gc2VuZCBhcyBhbiBvYmplY3RcbiAgICAgKi9cbiAgICBzZW5kV2Vic29ja2V0RGF0YShhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gdGhpcy53c0NsaWVudC5PUEVOKSB7XG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb24sIC4uLmRhdGEgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBXZWJzb2NrZXQgLSBBdHRlbXB0ZWQgdG8gc2VuZCBkYXRhIHdpdGggYWN0aW9uICR7YWN0aW9ufSBidXQgd2Vic29ja2V0IGNoYW5uZWwgaXMgbm90IG9wZW5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFdlYnNvY2tldCgpOiB3M2N3ZWJzb2NrZXQge1xuICAgICAgICByZXR1cm4gdGhpcy53c0NsaWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuZXZlciB0aGUgVVVJRCBpcyBzZXQgZnJvbSB0aGUgaG9zdCB0aGlzIG9ic2VydmFibGUgZW1pdHNcbiAgICAgKiBAcGFyYW0gdXVpZCBUaGUgVVVJRCB0byBhbGxvdyBjbGllbnRzIGNvbm5lYyB0b1xuICAgICAqL1xuICAgIHNldFV1aWQodXVpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXVpZCQubmV4dCh1dWlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbmx5IGRpc2Nvbm5lY3Qgb24gdGhpcyBhcHBsaWNhdGlvbiBhbmQgc2VuZCBubyBkaXNjb25uZWN0IG92ZXIgdGhlIGRhdGEgY2hhbm5lbFxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKTogdm9pZCB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvbmdDaGVja0ludGVydmFsKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud3NDbGllbnQpIHtcblxuICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy53c0NsaWVudC5vbmNsb3NlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMud3NDbGllbnQgPSBudWxsO1xuICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkLm5leHQodHJ1ZSk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQoZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3Qgb24gdGhpcyBhcHBsaWNhdGlvbiBhbmQgc2VuZCBhIGRpc2Nvbm5lY3QgZXZlbnQgb3ZlciB0aGUgZGF0YWNoYW5uZWxcbiAgICAgKi9cbiAgICByZW1vdGVEaXNjb25uZWN0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhQ2hhbm5lbCAmJiB0aGlzLmRhdGFDaGFubmVsLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb246IFwiZGlzY29ubmVjdFwiIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBJcyBvbmUgc2Vjb25kIGVub3VnaD9cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSwgMTAwMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9zdCB3aWxsIHNlbmQgYW4gb2ZmZXIgd2hlbiBhIGNsaWVudCBjb25uZWN0cyB0byBoaXMgVVVJRFxuICAgICAqIEBwYXJhbSBwZWVyQ29ubmVjdGlvbiBUaGUgcGVlciBjb25uZWN0aW9uIHRvIHNldCB0aGUgbG9jYWwgZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gd3NDbGllbnQgVGhlIHdlYnNvY2tldCB0byBzZW5kIHRoZSBvZmZlciB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNlbmRPZmZlcihwZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb24sIHdzQ2xpZW50OiB3M2N3ZWJzb2NrZXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCBwZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO1xuICAgICAgICBhd2FpdCBwZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgd3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICBvZmZlclxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBsYXVuY2ggdGhlIHdlYnNvY2tldCBhbmQgbGlzdGVuIHRvIGV2ZW50c1xuICAgICAqL1xuICAgIGFzeW5jIGxhdW5jaFdlYnNvY2tldENsaWVudCh3ZWJSdGNDb25maWc6IElXZWJSVENDb25maWcsIGhlYWRlcnM/OiBPdXRnb2luZ0h0dHBIZWFkZXJzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMud2ViUnRjQ29uZmlnID0gd2ViUnRjQ29uZmlnO1xuXG4gICAgICAgIGxldCBjb25uZWN0aW9uU3VjY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dWlkJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0TWVzc2FnZSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuXG4gICAgICAgIGxldCBzaWduYWxpbmdVcmwgPSB0aGlzLndlYlJ0Y0NvbmZpZy5zaWduYWxpbmdVcmw7XG4gICAgICAgIGlmICghc2lnbmFsaW5nVXJsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxhdW5jaCB3ZWJzb2NrZXQgLSBVUkwgdW5kZWZpbmVkLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdFwiKTtcbiAgICAgICAgICAgIHNpZ25hbGluZ1VybCA9IFwid3NzOi8vYXV0aC5wcm9vZm1lLmlkXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJMYXVuY2ggd2Vic29ja2V0IC0gQ2xpZW50IFVSTDpcIiwgc2lnbmFsaW5nVXJsKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJMYXVuY2ggd2Vic29ja2V0IC0gQ2hhbm5lbDpcIiwgd2ViUnRjQ29uZmlnLmNoYW5uZWwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkxhdW5jaCB3ZWJzb2NrZXQgLSBIZWFkZXJzOlwiLCBoZWFkZXJzKTtcbiAgICAgICAgbGV0IHVybCA9IG51bGw7XG4gICAgICAgIC8vIElmIGl0IGFscmVhZHkgaGFzIHF1ZXJpZXMsIGFwcGVuZFxuICAgICAgICBpZiAoc2lnbmFsaW5nVXJsLmluY2x1ZGVzKFwiP1wiKSkge1xuICAgICAgICAgICAgdXJsID0gYCR7c2lnbmFsaW5nVXJsfSZjaGFubmVsPSR7d2ViUnRjQ29uZmlnLmNoYW5uZWx9YDtcbiAgICAgICAgLy8gSWYgaXQgZG9lcyBub3QgeWV0IGhhdmUgcXVlcmllcywgc3RhcnQgd2l0aCBpdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsID0gYCR7c2lnbmFsaW5nVXJsfT9jaGFubmVsPSR7d2ViUnRjQ29uZmlnLmNoYW5uZWx9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2ViUnRjQ29uZmlnLmRhdGEpIHtcbiAgICAgICAgICAgIHVybCA9IGAke3VybH0mZGF0YT0ke3dlYlJ0Y0NvbmZpZy5kYXRhfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdlYlJ0Y0NvbmZpZy5rZWVwYWxpdmUpIHtcbiAgICAgICAgICAgIHVybCA9IGAke3VybH0ma2VlcGFsaXZlPSR7d2ViUnRjQ29uZmlnLmtlZXBhbGl2ZX1gO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3NDbGllbnQgPSBuZXcgdzNjd2Vic29ja2V0KHVybCwgbnVsbCwgbnVsbCwgaGVhZGVycyk7XG4gICAgICAgIC8vIFNvIGlmIHRoZXJlIGlzIG5vdCBhIHN1Y2Nlc3MgY29ubmVjdGlvbiBhZnRlciAxMCBzZWNvbmRzLCBjbG9zZSB0aGUgc29ja2V0IGFuZCBzZW5kIGFuIGVycm9yXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uU3VjY2VzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDAwKTtcbiAgICAgICAgdGhpcy53c0NsaWVudC5vbmVycm9yID0gKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IC0gRXJyb3I6IFwiICsgZXJyb3IudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25uZWN0aW9uU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dChmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQubmV4dCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3NDbGllbnQub25jbG9zZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIENvbm5lY3Rpb24gY2xvc2VkXCIpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9ub3BlbiA9ICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIENvbm5lY3Rpb24gb3BlblwiKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dChmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJC5uZXh0KHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53c0NsaWVudC5vbm1lc3NhZ2UgPSAoYXN5bmMgbXNnID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IC0gTWVzc2FnZTpcIiwgbXNnKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0TWVzc2FnZSQubmV4dChtc2cpO1xuICAgICAgICAgICAgaWYgKG1zZy5kYXRhKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuICAgICAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShtc2cuZGF0YSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIldlYnNvY2tldCAtIE1lc3NhZ2Ugd2FzIG5vdCBKU09OXCIpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgbWVzc2FnZSwgc3VjY2VzcywgY2hhbm5lbElkLCBvZmZlciwgYW5zd2VyLCBjYW5kaWRhdGUsIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgfSA9IGRhdGE7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBhbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBFcnJvciBtZXNzYWdlOlwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlID09IFwiQ29tbWFuZCBub3QgZm91bmQ6IHBpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvbmdDaGVja0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvbmdDaGVja0ludGVydmFsID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXZWJzb2NrZXQgLSBQaW5nIHBvbmcgdG9vayBtb3JlIHRoYW4gJHt0aGlzLldFQlNPQ0tFVF9QSU5HX1BPTkdfQUxMT1dFRF9USU1FfW1zLiBEaXNjb25uZWN0aW5nYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBjb25uZWN0ZWQgdG8gdGhlIFNpZ25hbGluZyBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VHJpZXMgPSA1MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmllcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndzQ2xpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53c0NsaWVudCAmJiB0aGlzLndzQ2xpZW50LnJlYWR5U3RhdGUgPT09IDEgJiYgdHJpZXMgPCBtYXhUcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBhcHBsaWNhdGlvbiBpcyB0aGUgaG9zdCwgc2VuZCBhIGhvc3QgcmVxdWVzdCB0byByZWNlaXZlIGEgVVVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiaG9zdFwiIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmllcyA+PSBtYXhUcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VHJpZXMgPSA1MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmllcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndzQ2xpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53c0NsaWVudCAmJiB0aGlzLndzQ2xpZW50LnJlYWR5U3RhdGUgPT09IDEgJiYgdHJpZXMgPCBtYXhUcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhcHBsaWNhdGlvbiBpcyBub3QgdGhlIGhvc3QsIHNlbmQgYSBjb25uZWN0IHJlcXVlc3Qgd2l0aCB0aGUgaG9zdCBVVUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjb25uZWN0XCIsIGhvc3Q6IHRoaXMuaG9zdFV1aWQgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWVzID49IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmllcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCBzbyBubyBuZWVkIHRvIGNoZWNrIG9uIHRoZSBwaW5nIHBvbmcgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgPSB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dXBQZWVyY29ubmVjdGlvbih0aGlzLmhvc3RVdWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBob3N0IHJlY2VpdmVkIGFuIFVVSURcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsSWQgJiYgdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kT2ZmZXIodGhpcy5wZWVyQ29ubmVjdGlvbiwgdGhpcy53c0NsaWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBvbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvbmdDaGVja0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdCB0aGUgaG9zdCwgaXQgcmVjZWl2ZXMgYW4gb2ZmZXIgd2hlbmV2ZXIgYSBjbGllbnQgY29ubmVjdHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHdpbGwgc2VuZCBhbiBhbnN3ZXIgYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG9mZmVyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdEFuc3dlciA9IGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGhvc3RBbnN3ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcjogaG9zdEFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9zdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGhvc3QgcmVjZWl2ZXMgYSBob3N0IHJlcXVlc3QgYmFjaywgc2V0IHRoZSBVVUlEIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbElkICYmIHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXVpZChjaGFubmVsSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWJSdGNDb25uZWN0aW9uQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dXBQZWVyY29ubmVjdGlvbihjaGFubmVsSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVhdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW5ldmVyIHRoZSBob3N0IG9yIGNsaWVudCBsZWF2ZXMgc2V0dXAgYSBuZXcgY29ubmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRVdWlkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCB3aWxsIHNlbmQgYW4gYW5zd2VyIGFuZCB0aGUgaG9zdCB3aWxsIHNldCBpdCBhcyBhIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGFuc3dlcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5kaWRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIHJlY2VpdmluZyBhbiBjYW5kaWRhdGUgZnJvbSB0aGUgY2xpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50Q2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNsaWVudENhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsaWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgPSB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dXBQZWVyY29ubmVjdGlvbih0aGlzLmhvc3RVdWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kT2ZmZXIodGhpcy5wZWVyQ29ubmVjdGlvbiwgdGhpcy53c0NsaWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIldlYnNvY2tldCBvbm1lc3NhZ2UgZGVmYXVsdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VuZFBpbmcoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIFJlYWR5IHN0YXRlIDEgPSBvcGVuXG4gICAgICAgICAgICBpZiAodGhpcy53c0NsaWVudC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwaW5nXCJcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuV0VCU09DS0VUX1BJTkdfQU5TV0VSX0RFTEFZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldHVwIHRoZSBwZWVyY29ubmVjdGlvbiBhbmQgZGF0YWNoYW5uZWxcbiAgICAgKiBJdCB3aWxsIGFsc28gZW1pdCByZWNlaXZlZCBhY3Rpb25zIG92ZXIgYW4gb2JzZXJ2YWJsZVxuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyBzZXR1cFBlZXJjb25uZWN0aW9uKHV1aWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwodXVpZCk7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFjaGFubmVsXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25tZXNzYWdlID0gKGFzeW5jIGV2ZW50TWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGE6IGFueTtcblxuICAgICAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShldmVudE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQgdGhpcyBjbGFzcyB3aWxsIG9ubHkgaGFuZGxlIHRoZSBkaXNjb25uZWN0IGV2ZW50LiBDbG9zZSB0aGUgd2Vic29ja2V0IG9uIHRoaXMgc2lkZS5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRpc2Nvbm5lY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dChkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlAyUCAtIE1lc3NhZ2UgaW52YWxpZCBKU09OOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudC5jaGFubmVsLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dCh7IGFjdGlvbjogXCJwMnBDb25uZWN0ZWRcIiwgcDJwQ29ubmVjdGVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFAyUERhdGEoXCJjbGllbnRjb25uZWN0ZWRcIiwgeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dCh7IGFjdGlvbjogXCJwMnBDb25uZWN0ZWRcIiwgcDJwQ29ubmVjdGVkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJsZWF2ZVwiIH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLCBhc3luYyBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShldmVudC5jYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbGVuY2UgZXJyb3IgYmVjYXVzZSBpdCBjYW5ub3QgYWRkIGl0c2VsZiwgaXQgd2lsbCBzZW5kIG92ZXIgd2Vic29ja2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY2FuZGlkYXRlXCIsIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBzZXR1cCB0aGUgcGVlcmNvbm5lY3Rpb24gYW5kIGRhdGFjaGFubmVsXG4gICAgICogSXQgd2lsbCBhbHNvIGVtaXQgcmVjZWl2ZWQgYWN0aW9ucyBvdmVyIGFuIG9ic2VydmFibGVcbiAgICAgKiBAcGFyYW0gdXVpZCBUaGUgVVVJRCB0byBjb25uZWN0IHRvXG4gICAgICovXG4gICAgYXN5bmMgc2V0dXBDbGllbnRQZWVyY29ubmVjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFjaGFubmVsXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25tZXNzYWdlID0gKGFzeW5jIGV2ZW50TWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGE6IGFueTtcblxuICAgICAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShldmVudE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQgdGhpcyBjbGFzcyB3aWxsIG9ubHkgaGFuZGxlIHRoZSBkaXNjb25uZWN0IGV2ZW50LiBDbG9zZSB0aGUgd2Vic29ja2V0IG9uIHRoaXMgc2lkZS5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRpc2Nvbm5lY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dChkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlAyUCAtIE1lc3NhZ2UgaW52YWxpZCBKU09OOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudC5jaGFubmVsLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dCh7IGFjdGlvbjogXCJwMnBDb25uZWN0ZWRcIiwgcDJwQ29ubmVjdGVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFAyUERhdGEoXCJjbGllbnRjb25uZWN0ZWRcIiwgeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dCh7IGFjdGlvbjogXCJwMnBDb25uZWN0ZWRcIiwgcDJwQ29ubmVjdGVkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJsZWF2ZVwiIH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLCBhc3luYyBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShldmVudC5jYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbGVuY2UgZXJyb3IgYmVjYXVzZSBpdCBjYW5ub3QgYWRkIGl0c2VsZiwgaXQgd2lsbCBzZW5kIG92ZXIgd2Vic29ja2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY2FuZGlkYXRlXCIsIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBSVENJY2VDYW5kaWRhdGUsIFJUQ1BlZXJDb25uZWN0aW9uLCBSVENTZXNzaW9uRGVzY3JpcHRpb24sIFJUQ0RhdGFDaGFubmVsIH0gZnJvbSBcIndydGNcIjtcbmltcG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvY29ubmVjdGlvbkRldGFpbHNcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBXZWJSVENDbGllbnRWMiB7XG5cbiAgICBwZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb24gPSBudWxsO1xuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbCA9IG51bGw7XG4gICAgY2xpZW50Q2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzO1xuICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscztcbiAgICBob3N0V3NDb25uZWN0aW9uOiBJQ29ubmVjdGlvbkRldGFpbHM7XG4gICAgYWN0aW9uVHlwZTogc3RyaW5nO1xuICAgIGRhdGFDaGFubmVsT3BlbiQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuICAgIGRhdGFDaGFubmVsTWVzc2FnZSQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XG4gICAgZGF0YTogYW55O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb24sXG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsXG4gICAgICAgIGhvc3RXc0Nvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscyxcbiAgICAgICAgYWN0aW9uVHlwZTogc3RyaW5nLFxuICAgICAgICBkYXRhOiBhbnlcbiAgICApIHtcbiAgICAgICAgdGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnID0gd2ViUnRjQ29ubmVjdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRDcmVkZW50aWFscyA9IHJlcXVlc3RlZENyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmhvc3RXc0Nvbm5lY3Rpb24gPSBob3N0V3NDb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBhY3Rpb25UeXBlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0dXAgdGhlIHBlZXJjb25uZWN0aW9uIGFuZCBkYXRhY2hhbm5lbFxuICAgICAqIEl0IHdpbGwgYWxzbyBlbWl0IHJlY2VpdmVkIGFjdGlvbnMgb3ZlciBhbiBvYnNlcnZhYmxlXG4gICAgICogQHBhcmFtIHV1aWQgVGhlIFVVSUQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNldHVwUGVlcmNvbm5lY3Rpb24oY2hhbm5lbFV1aWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgIHRoaXMuZGF0YUNoYW5uZWwgPSB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKGNoYW5uZWxVdWlkKTtcblxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2VjYW5kaWRhdGVcIiwgYXN5bmMgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoZXZlbnQuY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbGVuY2UgdGhpcyBlcnJvci4gQSBsb3Qgb2YgY2FuZGlkYXRlcyBjYW4ndCBiZSBhZGRlZCBhbmQgdGhhdHMgZmluZTsgdGhhdCdzIHdoeSB3ZSBoYXZlIG11bHRpcGxlIGNhbmRpZGF0ZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnRDaGFubmVsLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNhbmRpZGF0ZVwiLCBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFjaGFubmVsXCIsIGRhdGFDaGFubmVsRXZlbnQgPT4ge1xuICAgICAgICAgICAgZGF0YUNoYW5uZWxFdmVudC5jaGFubmVsLm9ubWVzc2FnZSA9IChhc3luYyBtZXNzYWdlRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2VFdmVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsTWVzc2FnZSQubmV4dChwYXJzZWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IHBhcnNlIG1lc3NhZ2U6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbEV2ZW50LmNoYW5uZWwub25vcGVuID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlicmFyeSAtIERhdGFjaGFubmVsIGNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3RXc0Nvbm5lY3Rpb24uc2VuZFVURihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpZW50Y29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsT3BlbiQubmV4dCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGF0YUNoYW5uZWxFdmVudC5jaGFubmVsLm9uY2xvc2UgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlicmFyeSAtIERhdGFjaGFubmVsIG9uY2xvc2U6XCIsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9zdFdzQ29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkaXNjb25uZWN0XCJcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9zdCB3aWxsIHNlbmQgYW4gb2ZmZXIgd2hlbiBhIGNsaWVudCBjb25uZWN0cyB0byBoaXMgVVVJRFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRPZmZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgIHRoaXMuY2xpZW50Q2hhbm5lbC5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgIG9mZmVyXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICogQHBhcmFtIGFjdGlvbiBBcyBhIHN0cmluZywgd2hpY2ggYWN0aW9uIHR5cGUgZG8geW91IHdhbnQgdG8gc2VuZD9cbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBzZW5kIGFzIGFuIG9iamVjdFxuICAgICAqL1xuICAgICBzZW5kUDJQRGF0YShhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gU2VuZGluZyBhY3Rpb24gJyR7YWN0aW9ufSdgKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBMaWJyYXJ5IC0gQXR0ZW1wdGVkIHRvIHNlbmQgZGF0YSB3aXRoIGFjdGlvbiAke2FjdGlvbn0gYnV0IGRhdGEgY2hhbm5lbCBpcyBub3Qgb3BlbmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVtb3RlIGRlc2NyaXB0aW9uIG9mIHRoZSBvdGhlciBzaWRlXG4gICAgICogQHBhcmFtIHJlbW90ZURlc2NyaXB0aW9uIENhbiBiZSBvZmZlciBvciBhbnN3ZXIgZGVwZW5kaW5nIG9uIHRoZSBjbGllbnQgLyBob3N0XG4gICAgICovXG4gICAgYXN5bmMgc2V0UmVtb3RlRGVzY3JpcHRpb24ocmVtb3RlRGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ocmVtb3RlRGVzY3JpcHRpb24pKTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRDYW5kaWRhdGUoY2FuZGlkYXRlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudENhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNsaWVudENhbmRpZGF0ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNlbmRBbnN3ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGhvc3RBbnN3ZXIgPSBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO1xuICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaG9zdEFuc3dlcik7XG4gICAgICAgIHRoaXMuY2xpZW50Q2hhbm5lbC5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICBhbnN3ZXI6IGhvc3RBbnN3ZXJcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3ZWIzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYnNvY2tldFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3cnRjXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwidHNsaWJcIik7IiwiZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCIuL2lzRnVuY3Rpb25cIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudGhlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25zID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxUZWFyZG93biA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaW5pdGlhbFRlYXJkb3duKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxUZWFyZG93bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGVhcmRvd25zID0gdGhpcy5fdGVhcmRvd25zO1xuICAgICAgICAgICAgaWYgKF90ZWFyZG93bnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWFyZG93bnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF90ZWFyZG93bnNfMSA9IF9fdmFsdWVzKF90ZWFyZG93bnMpLCBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCk7ICFfdGVhcmRvd25zXzFfMS5kb25lOyBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZWFyZG93bl8xID0gX3RlYXJkb3duc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNUZWFyZG93bih0ZWFyZG93bl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RlYXJkb3duc18xXzEgJiYgIV90ZWFyZG93bnNfMV8xLmRvbmUgJiYgKF9iID0gX3RlYXJkb3duc18xLnJldHVybikpIF9iLmNhbGwoX3RlYXJkb3duc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjVGVhcmRvd24odGVhcmRvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93bi5jbG9zZWQgfHwgdGVhcmRvd24uX2hhc1BhcmVudCh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duLl9hZGRQYXJlbnQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICh0aGlzLl90ZWFyZG93bnMgPSAoX2EgPSB0aGlzLl90ZWFyZG93bnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX3RlYXJkb3ducyA9IHRoaXMuX3RlYXJkb3ducztcbiAgICAgICAgX3RlYXJkb3ducyAmJiBhcnJSZW1vdmUoX3RlYXJkb3ducywgdGVhcmRvd24pO1xuICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRlYXJkb3duLl9yZW1vdmVQYXJlbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbXB0eSA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmV4cG9ydCB2YXIgRU1QVFlfU1VCU0NSSVBUSU9OID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5yZW1vdmUpICYmIGlzRnVuY3Rpb24odmFsdWUuYWRkKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSkpO1xufVxuZnVuY3Rpb24gZXhlY1RlYXJkb3duKHRlYXJkb3duKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odGVhcmRvd24pKSB7XG4gICAgICAgIHRlYXJkb3duKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0ZWFyZG93bi51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkgfHwgc2V0VGltZW91dCkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG52YXIgY29udGV4dCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHZhciBpc1Jvb3QgPSAhY29udGV4dDtcbiAgICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICAgICAgY29udGV4dCA9IHsgZXJyb3JUaHJvd246IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGNvbnRleHQsIGVycm9yVGhyb3duID0gX2EuZXJyb3JUaHJvd24sIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIF9iaW5kLmNhbGwoZm4sIHRoaXNBcmcpO1xufVxudmFyIENvbnN1bWVyT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gcGFydGlhbE9ic2VydmVyO1xuICAgIH1cbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25zdW1lck9ic2VydmVyO1xufSgpKTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0ICE9PSBudWxsICYmIG9ic2VydmVyT3JOZXh0ICE9PSB2b2lkIDAgPyBvYnNlcnZlck9yTmV4dCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSAhPT0gbnVsbCAmJiBjb21wbGV0ZSAhPT0gdm9pZCAwID8gY29tcGxldGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfMTtcbiAgICAgICAgICAgIGlmIChfdGhpcyAmJiBjb25maWcudXNlRGVwcmVjYXRlZE5leHRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmUoKTsgfTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG5mdW5jdGlvbiBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgb25TdG9wcGVkTm90aWZpY2F0aW9uID0gY29uZmlnLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0IHZhciBFTVBUWV9PQlNFUlZFUiA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogbm9vcCxcbiAgICBlcnJvcjogZGVmYXVsdEVycm9ySGFuZGxlcixcbiAgICBjb21wbGV0ZTogbm9vcCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcCIsImV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXAiLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcCIsImltcG9ydCB7IFNhZmVTdWJzY3JpYmVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBlcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMsIG9wZXJhdG9yID0gX2Eub3BlcmF0b3IsIHNvdXJjZSA9IF9hLnNvdXJjZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKG9wZXJhdG9yXG4gICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICA6IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiByZXNvbHZlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gcHJvbWlzZUN0b3IgIT09IG51bGwgJiYgcHJvbWlzZUN0b3IgIT09IHZvaWQgMCA/IHByb21pc2VDdG9yIDogY29uZmlnLlByb21pc2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFByb21pc2U7XG59XG5mdW5jdGlvbiBpc09ic2VydmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb21wbGV0ZSk7XG59XG5mdW5jdGlvbiBpc1N1YnNjcmliZXIodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jVmFsdWVzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb20oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhYmxlXzEgPSBfX3ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpOyAhaXRlcmFibGVfMV8xLmRvbmU7IGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBoYXNMaWZ0KHNvdXJjZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZS5saWZ0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVyYXRlKGluaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzTGlmdChzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQoZnVuY3Rpb24gKGxpZnRlZFNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0KGxpZnRlZFNvdXJjZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlJyk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZnQuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUsIHNob3VsZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuc2hvdWxkVW5zdWJzY3JpYmUgPSBzaG91bGRVbnN1YnNjcmliZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZWRfMSA9IHRoaXMuY2xvc2VkO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgIWNsb3NlZF8xICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IHZhciBFTVBUWSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogRU1QVFk7XG59XG5mdW5jdGlvbiBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LmpzLm1hcCIsImltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiB0YWtlKGNvdW50KSB7XG4gICAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICAgICAgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gRU1QVFk7IH1cbiAgICAgICAgOiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzZWVuID0gMDtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICgrK3NlZW4gPD0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDw9IHNlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuZXhwb3J0IHZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwoKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ29iamVjdCB1bnN1YnNjcmliZWQnO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBFTVBUWV9TVUJTQ1JJUFRJT04gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuL3V0aWwvYXJyUmVtb3ZlJztcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xudmFyIFN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnRocm93bkVycm9yID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdGhyb3dJZkNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29weSA9IF90aGlzLm9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNvcHlfMSA9IF9fdmFsdWVzKGNvcHkpLCBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCk7ICFjb3B5XzFfMS5kb25lOyBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IGNvcHlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3B5XzFfMSAmJiAhY29weV8xXzEuZG9uZSAmJiAoX2EgPSBjb3B5XzEucmV0dXJuKSkgX2EuY2FsbChjb3B5XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYXNFcnJvciA9IF90aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJqZWN0LnByb3RvdHlwZSwgXCJvYnNlcnZlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLm9ic2VydmVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2lubmVyU3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkLCBvYnNlcnZlcnMgPSBfYS5vYnNlcnZlcnM7XG4gICAgICAgIHJldHVybiBoYXNFcnJvciB8fCBpc1N0b3BwZWRcbiAgICAgICAgICAgID8gRU1QVFlfU1VCU0NSSVBUSU9OXG4gICAgICAgICAgICA6IChvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKSwgbmV3IFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoKSB7IHJldHVybiBhcnJSZW1vdmUob2JzZXJ2ZXJzLCBzdWJzY3JpYmVyKTsgfSkpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgU3ViamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdDtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgU3ViamVjdCB9O1xudmFyIEFub255bW91c1N1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHZhbHVlKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBlcnIpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogRU1QVFlfU1VCU0NSSVBUSU9OO1xuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IHRha2UgfSBmcm9tICcuLi9vcGVyYXRvcnMvdGFrZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTYWZlU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5leHBvcnQgZnVuY3Rpb24gc2hhcmUob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIF9hID0gb3B0aW9ucy5jb25uZWN0b3IsIGNvbm5lY3RvciA9IF9hID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgU3ViamVjdCgpOyB9IDogX2EsIF9iID0gb3B0aW9ucy5yZXNldE9uRXJyb3IsIHJlc2V0T25FcnJvciA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2IsIF9jID0gb3B0aW9ucy5yZXNldE9uQ29tcGxldGUsIHJlc2V0T25Db21wbGV0ZSA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gb3B0aW9ucy5yZXNldE9uUmVmQ291bnRaZXJvLCByZXNldE9uUmVmQ291bnRaZXJvID0gX2QgPT09IHZvaWQgMCA/IHRydWUgOiBfZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHdyYXBwZXJTb3VyY2UpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgcmVzZXRDb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSAwO1xuICAgICAgICB2YXIgaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNFcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBjYW5jZWxSZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9PT0gbnVsbCB8fCByZXNldENvbm5lY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc2V0Q29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBzdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGhhc0NvbXBsZXRlZCA9IGhhc0Vycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc2V0QW5kVW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29ubiA9IGNvbm5lY3Rpb247XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgICAgY29ubiA9PT0gbnVsbCB8fCBjb25uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJlZkNvdW50Kys7XG4gICAgICAgICAgICBpZiAoIWhhc0Vycm9yZWQgJiYgIWhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGVzdCA9IChzdWJqZWN0ID0gc3ViamVjdCAhPT0gbnVsbCAmJiBzdWJqZWN0ICE9PSB2b2lkIDAgPyBzdWJqZWN0IDogY29ubmVjdG9yKCkpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlZkNvdW50LS07XG4gICAgICAgICAgICAgICAgaWYgKHJlZkNvdW50ID09PSAwICYmICFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXRBbmRVbnN1YnNjcmliZSwgcmVzZXRPblJlZkNvdW50WmVybyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGRlc3QubmV4dCh2YWx1ZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBoYW5kbGVSZXNldChyZXNldCwgcmVzZXRPbkVycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBoYW5kbGVSZXNldChyZXNldCwgcmVzZXRPbkNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmcm9tKHNvdXJjZSkuc3Vic2NyaWJlKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSh3cmFwcGVyU291cmNlKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFuZGxlUmVzZXQocmVzZXQsIG9uKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAob24gPT09IHRydWUpIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBvbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpLnBpcGUodGFrZSgxKSlcbiAgICAgICAgLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiByZXNldCgpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXJlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikgOiBpbm5lckZyb20oaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXIgdjEzLjIuNlxuICogKGMpIDIwMTAtMjAyMiBHb29nbGUgTExDLiBodHRwczovL2FuZ3VsYXIuaW8vXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuXG5pbXBvcnQgeyBTdWJqZWN0LCBTdWJzY3JpcHRpb24sIE9ic2VydmFibGUsIG1lcmdlIGFzIG1lcmdlJDEgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHNoYXJlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldENsb3N1cmVTYWZlUHJvcGVydHkob2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0KSB7XG4gICAgZm9yIChsZXQga2V5IGluIG9ialdpdGhQcm9wZXJ0eVRvRXh0cmFjdCkge1xuICAgICAgICBpZiAob2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0W2tleV0gPT09IGdldENsb3N1cmVTYWZlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHJlbmFtZWQgcHJvcGVydHkgb24gdGFyZ2V0IG9iamVjdC4nKTtcbn1cbi8qKlxuICogU2V0cyBwcm9wZXJ0aWVzIG9uIGEgdGFyZ2V0IG9iamVjdCBmcm9tIGEgc291cmNlIG9iamVjdCwgYnV0IG9ubHkgaWZcbiAqIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgdG8gc2V0IHByb3BlcnRpZXMgb25cbiAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvZiB0aGUgcHJvcGVydHkga2V5cyBhbmQgdmFsdWVzIHRvIHNldFxuICovXG5mdW5jdGlvbiBmaWxsUHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkgJiYgIXRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeSh0b2tlbikge1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodG9rZW4pKSB7XG4gICAgICAgIHJldHVybiAnWycgKyB0b2tlbi5tYXAoc3RyaW5naWZ5KS5qb2luKCcsICcpICsgJ10nO1xuICAgIH1cbiAgICBpZiAodG9rZW4gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuLm92ZXJyaWRkZW5OYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHt0b2tlbi5vdmVycmlkZGVuTmFtZX1gO1xuICAgIH1cbiAgICBpZiAodG9rZW4ubmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7dG9rZW4ubmFtZX1gO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSB0b2tlbi50b1N0cmluZygpO1xuICAgIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyByZXM7XG4gICAgfVxuICAgIGNvbnN0IG5ld0xpbmVJbmRleCA9IHJlcy5pbmRleE9mKCdcXG4nKTtcbiAgICByZXR1cm4gbmV3TGluZUluZGV4ID09PSAtMSA/IHJlcyA6IHJlcy5zdWJzdHJpbmcoMCwgbmV3TGluZUluZGV4KTtcbn1cbi8qKlxuICogQ29uY2F0ZW5hdGVzIHR3byBzdHJpbmdzIHdpdGggc2VwYXJhdG9yLCBhbGxvY2F0aW5nIG5ldyBzdHJpbmdzIG9ubHkgd2hlbiBuZWNlc3NhcnkuXG4gKlxuICogQHBhcmFtIGJlZm9yZSBiZWZvcmUgc3RyaW5nLlxuICogQHBhcmFtIHNlcGFyYXRvciBzZXBhcmF0b3Igc3RyaW5nLlxuICogQHBhcmFtIGFmdGVyIGFmdGVyIHN0cmluZy5cbiAqIEByZXR1cm5zIGNvbmNhdGVuYXRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbmNhdFN0cmluZ3NXaXRoU3BhY2UoYmVmb3JlLCBhZnRlcikge1xuICAgIHJldHVybiAoYmVmb3JlID09IG51bGwgfHwgYmVmb3JlID09PSAnJykgP1xuICAgICAgICAoYWZ0ZXIgPT09IG51bGwgPyAnJyA6IGFmdGVyKSA6XG4gICAgICAgICgoYWZ0ZXIgPT0gbnVsbCB8fCBhZnRlciA9PT0gJycpID8gYmVmb3JlIDogYmVmb3JlICsgJyAnICsgYWZ0ZXIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IF9fZm9yd2FyZF9yZWZfXyA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBfX2ZvcndhcmRfcmVmX186IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG4vKipcbiAqIEFsbG93cyB0byByZWZlciB0byByZWZlcmVuY2VzIHdoaWNoIGFyZSBub3QgeWV0IGRlZmluZWQuXG4gKlxuICogRm9yIGluc3RhbmNlLCBgZm9yd2FyZFJlZmAgaXMgdXNlZCB3aGVuIHRoZSBgdG9rZW5gIHdoaWNoIHdlIG5lZWQgdG8gcmVmZXIgdG8gZm9yIHRoZSBwdXJwb3NlcyBvZlxuICogREkgaXMgZGVjbGFyZWQsIGJ1dCBub3QgeWV0IGRlZmluZWQuIEl0IGlzIGFsc28gdXNlZCB3aGVuIHRoZSBgdG9rZW5gIHdoaWNoIHdlIHVzZSB3aGVuIGNyZWF0aW5nXG4gKiBhIHF1ZXJ5IGlzIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2ZvcndhcmRfcmVmL2ZvcndhcmRfcmVmX3NwZWMudHMgcmVnaW9uPSdmb3J3YXJkX3JlZid9XG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGZvcndhcmRSZWYoZm9yd2FyZFJlZkZuKSB7XG4gICAgZm9yd2FyZFJlZkZuLl9fZm9yd2FyZF9yZWZfXyA9IGZvcndhcmRSZWY7XG4gICAgZm9yd2FyZFJlZkZuLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5KHRoaXMoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZm9yd2FyZFJlZkZuO1xufVxuLyoqXG4gKiBMYXppbHkgcmV0cmlldmVzIHRoZSByZWZlcmVuY2UgdmFsdWUgZnJvbSBhIGZvcndhcmRSZWYuXG4gKlxuICogQWN0cyBhcyB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gd2hlbiBnaXZlbiBhIG5vbi1mb3J3YXJkLXJlZiB2YWx1ZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9mb3J3YXJkX3JlZi9mb3J3YXJkX3JlZl9zcGVjLnRzIHJlZ2lvbj0ncmVzb2x2ZV9mb3J3YXJkX3JlZid9XG4gKlxuICogQHNlZSBgZm9yd2FyZFJlZmBcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSkge1xuICAgIHJldHVybiBpc0ZvcndhcmRSZWYodHlwZSkgPyB0eXBlKCkgOiB0eXBlO1xufVxuLyoqIENoZWNrcyB3aGV0aGVyIGEgZnVuY3Rpb24gaXMgd3JhcHBlZCBieSBhIGBmb3J3YXJkUmVmYC4gKi9cbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZihmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgZm4uaGFzT3duUHJvcGVydHkoX19mb3J3YXJkX3JlZl9fKSAmJlxuICAgICAgICBmbi5fX2ZvcndhcmRfcmVmX18gPT09IGZvcndhcmRSZWY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCYXNlIFVSTCBmb3IgdGhlIGVycm9yIGRldGFpbHMgcGFnZS5cbiAqXG4gKiBLZWVwIHRoZSBmaWxlcyBiZWxvdyBpbiBmdWxsIHN5bmM6XG4gKiAgLSBwYWNrYWdlcy9jb21waWxlci1jbGkvc3JjL25ndHNjL2RpYWdub3N0aWNzL3NyYy9lcnJvcl9kZXRhaWxzX2Jhc2VfdXJsLnRzXG4gKiAgLSBwYWNrYWdlcy9jb3JlL3NyYy9lcnJvcl9kZXRhaWxzX2Jhc2VfdXJsLnRzXG4gKi9cbmNvbnN0IEVSUk9SX0RFVEFJTFNfUEFHRV9CQVNFX1VSTCA9ICdodHRwczovL2FuZ3VsYXIuaW8vZXJyb3JzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHJ1bnRpbWUgZXJyb3IuXG4gKiBGb3JtYXRzIGFuZCBvdXRwdXRzIHRoZSBlcnJvciBtZXNzYWdlIGluIGEgY29uc2lzdGVudCB3YXkuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gKiAgICBSdW50aW1lRXJyb3JDb2RlLklOSkVDVE9SX0FMUkVBRFlfREVTVFJPWUVELFxuICogICAgbmdEZXZNb2RlICYmICdJbmplY3RvciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC4nKTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHRoZSBgbWVzc2FnZWAgYXJndW1lbnQgY29udGFpbnMgYSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlIGFzIGEgc3RyaW5nIGluIGRldmVsb3BtZW50XG4gKiBtb2RlICh3aGVuIHRoZSBgbmdEZXZNb2RlYCBpcyBkZWZpbmVkKS4gSW4gcHJvZHVjdGlvbiBtb2RlIChhZnRlciB0cmVlLXNoYWtpbmcgcGFzcyksIHRoZVxuICogYG1lc3NhZ2VgIGFyZ3VtZW50IGJlY29tZXMgYGZhbHNlYCwgdGh1cyB3ZSBhY2NvdW50IGZvciBpdCBpbiB0aGUgdHlwaW5ncyBhbmQgdGhlIHJ1bnRpbWUgbG9naWMuXG4gKi9cbmNsYXNzIFJ1bnRpbWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKGZvcm1hdFJ1bnRpbWVFcnJvcihjb2RlLCBtZXNzYWdlKSk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuLyoqXG4gKiBDYWxsZWQgdG8gZm9ybWF0IGEgcnVudGltZSBlcnJvci5cbiAqIFNlZSBhZGRpdGlvbmFsIGluZm8gb24gdGhlIGBtZXNzYWdlYCBhcmd1bWVudCB0eXBlIGluIHRoZSBgUnVudGltZUVycm9yYCBjbGFzcyBkZXNjcmlwdGlvbi5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0UnVudGltZUVycm9yKGNvZGUsIG1lc3NhZ2UpIHtcbiAgICAvLyBFcnJvciBjb2RlIG1pZ2h0IGJlIGEgbmVnYXRpdmUgbnVtYmVyLCB3aGljaCBpcyBhIHNwZWNpYWwgbWFya2VyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBsb2dpYyB0b1xuICAgIC8vIGdlbmVyYXRlIGEgbGluayB0byB0aGUgZXJyb3IgZGV0YWlscyBwYWdlIG9uIGFuZ3VsYXIuaW8uXG4gICAgY29uc3QgZnVsbENvZGUgPSBgTkcwJHtNYXRoLmFicyhjb2RlKX1gO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgJHtmdWxsQ29kZX0ke21lc3NhZ2UgPyAnOiAnICsgbWVzc2FnZSA6ICcnfWA7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiBjb2RlIDwgMCkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgJHtlcnJvck1lc3NhZ2V9LiBGaW5kIG1vcmUgYXQgJHtFUlJPUl9ERVRBSUxTX1BBR0VfQkFTRV9VUkx9LyR7ZnVsbENvZGV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVzZWQgZm9yIHN0cmluZ2lmeSByZW5kZXIgb3V0cHV0IGluIEl2eS5cbiAqIEltcG9ydGFudCEgVGhpcyBmdW5jdGlvbiBpcyB2ZXJ5IHBlcmZvcm1hbmNlLXNlbnNpdGl2ZSBhbmQgd2Ugc2hvdWxkXG4gKiBiZSBleHRyYSBjYXJlZnVsIG5vdCB0byBpbnRyb2R1Y2UgbWVnYW1vcnBoaWMgcmVhZHMgaW4gaXQuXG4gKiBDaGVjayBgY29yZS90ZXN0L3JlbmRlcjMvcGVyZi9yZW5kZXJfc3RyaW5naWZ5YCBmb3IgYmVuY2htYXJrcyBhbmQgYWx0ZXJuYXRlIGltcGxlbWVudGF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3RyaW5naWZ5KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIC8vIFVzZSBgU3RyaW5nYCBzbyB0aGF0IGl0IGludm9rZXMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIHRoZSB2YWx1ZS4gTm90ZSB0aGF0IHRoaXNcbiAgICAvLyBhcHBlYXJzIHRvIGJlIGZhc3RlciB0aGFuIGNhbGxpbmcgYHZhbHVlLnRvU3RyaW5nYCAoc2VlIGByZW5kZXJfc3RyaW5naWZ5YCBiZW5jaG1hcmspLlxuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuLyoqXG4gKiBVc2VkIHRvIHN0cmluZ2lmeSBhIHZhbHVlIHNvIHRoYXQgaXQgY2FuIGJlIGRpc3BsYXllZCBpbiBhbiBlcnJvciBtZXNzYWdlLlxuICogSW1wb3J0YW50ISBUaGlzIGZ1bmN0aW9uIGNvbnRhaW5zIGEgbWVnYW1vcnBoaWMgcmVhZCBhbmQgc2hvdWxkIG9ubHkgYmVcbiAqIHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlGb3JFcnJvcih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB2YWx1ZS5uYW1lIHx8IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWUudHlwZS5uYW1lIHx8IHZhbHVlLnR5cGUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclN0cmluZ2lmeSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIENhbGxlZCB3aGVuIGRpcmVjdGl2ZXMgaW5qZWN0IGVhY2ggb3RoZXIgKGNyZWF0aW5nIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSkgKi9cbmZ1bmN0aW9uIHRocm93Q3ljbGljRGVwZW5kZW5jeUVycm9yKHRva2VuLCBwYXRoKSB7XG4gICAgY29uc3QgZGVwUGF0aCA9IHBhdGggPyBgLiBEZXBlbmRlbmN5IHBhdGg6ICR7cGF0aC5qb2luKCcgPiAnKX0gPiAke3Rva2VufWAgOiAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0yMDAgLyogQ1lDTElDX0RJX0RFUEVOREVOQ1kgKi8sIGBDaXJjdWxhciBkZXBlbmRlbmN5IGluIERJIGRldGVjdGVkIGZvciAke3Rva2VufSR7ZGVwUGF0aH1gKTtcbn1cbmZ1bmN0aW9uIHRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbWl4IG11bHRpIHByb3ZpZGVycyBhbmQgcmVndWxhciBwcm92aWRlcnNgKTtcbn1cbmZ1bmN0aW9uIHRocm93SW52YWxpZFByb3ZpZGVyRXJyb3IobmdNb2R1bGVUeXBlLCBwcm92aWRlcnMsIHByb3ZpZGVyKSB7XG4gICAgbGV0IG5nTW9kdWxlRGV0YWlsID0gJyc7XG4gICAgaWYgKG5nTW9kdWxlVHlwZSAmJiBwcm92aWRlcnMpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJEZXRhaWwgPSBwcm92aWRlcnMubWFwKHYgPT4gdiA9PSBwcm92aWRlciA/ICc/JyArIHByb3ZpZGVyICsgJz8nIDogJy4uLicpO1xuICAgICAgICBuZ01vZHVsZURldGFpbCA9XG4gICAgICAgICAgICBgIC0gb25seSBpbnN0YW5jZXMgb2YgUHJvdmlkZXIgYW5kIFR5cGUgYXJlIGFsbG93ZWQsIGdvdDogWyR7cHJvdmlkZXJEZXRhaWwuam9pbignLCAnKX1dYDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb3ZpZGVyIGZvciB0aGUgTmdNb2R1bGUgJyR7c3RyaW5naWZ5KG5nTW9kdWxlVHlwZSl9J2AgKyBuZ01vZHVsZURldGFpbCk7XG59XG4vKiogVGhyb3dzIGFuIGVycm9yIHdoZW4gYSB0b2tlbiBpcyBub3QgZm91bmQgaW4gREkuICovXG5mdW5jdGlvbiB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgaW5qZWN0b3JOYW1lKSB7XG4gICAgY29uc3QgaW5qZWN0b3JEZXRhaWxzID0gaW5qZWN0b3JOYW1lID8gYCBpbiAke2luamVjdG9yTmFtZX1gIDogJyc7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMjAxIC8qIFBST1ZJREVSX05PVF9GT1VORCAqLywgYE5vIHByb3ZpZGVyIGZvciAke3N0cmluZ2lmeUZvckVycm9yKHRva2VuKX0gZm91bmQke2luamVjdG9yRGV0YWlsc31gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBhc3NlcnROdW1iZXIoYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoISh0eXBlb2YgYWN0dWFsID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIHR5cGVvZiBhY3R1YWwsICdudW1iZXInLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TnVtYmVySW5SYW5nZShhY3R1YWwsIG1pbkluY2x1c2l2ZSwgbWF4SW5jbHVzaXZlKSB7XG4gICAgYXNzZXJ0TnVtYmVyKGFjdHVhbCwgJ0V4cGVjdGVkIGEgbnVtYmVyJyk7XG4gICAgYXNzZXJ0TGVzc1RoYW5PckVxdWFsKGFjdHVhbCwgbWF4SW5jbHVzaXZlLCAnRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0bycpO1xuICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChhY3R1YWwsIG1pbkluY2x1c2l2ZSwgJ0V4cGVjdGVkIG51bWJlciB0byBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFN0cmluZyhhY3R1YWwsIG1zZykge1xuICAgIGlmICghKHR5cGVvZiBhY3R1YWwgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdHVhbCwgJ3N0cmluZycsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRGdW5jdGlvbihhY3R1YWwsIG1zZykge1xuICAgIGlmICghKHR5cGVvZiBhY3R1YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0dWFsLCAnZnVuY3Rpb24nLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID09IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsICE9IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJyE9Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0U2FtZShhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPT09IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz09PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE5vdFNhbWUoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsICE9PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICchPT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRMZXNzVGhhbihhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPCBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc8Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TGVzc1RoYW5PckVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA8PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc8PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEdyZWF0ZXJUaGFuKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA+IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID49IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz49Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90RGVmaW5lZChhY3R1YWwsIG1zZykge1xuICAgIGlmIChhY3R1YWwgIT0gbnVsbCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBudWxsLCAnPT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnREZWZpbmVkKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIG51bGwsICchPScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJpc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBU1NFUlRJT04gRVJST1I6ICR7bXNnfWAgK1xuICAgICAgICAoY29tcGFyaXNvbiA9PSBudWxsID8gJycgOiBgIFtFeHBlY3RlZD0+ICR7ZXhwZWN0ZWR9ICR7Y29tcGFyaXNvbn0gJHthY3R1YWx9IDw9QWN0dWFsXWApKTtcbn1cbmZ1bmN0aW9uIGFzc2VydERvbU5vZGUobm9kZSkge1xuICAgIC8vIElmIHdlJ3JlIGluIGEgd29ya2VyLCBgTm9kZWAgd2lsbCBub3QgYmUgZGVmaW5lZC5cbiAgICBpZiAoISh0eXBlb2YgTm9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbm9kZSBpbnN0YW5jZW9mIE5vZGUpICYmXG4gICAgICAgICEodHlwZW9mIG5vZGUgPT09ICdvYmplY3QnICYmIG5vZGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgbm9kZS5jb25zdHJ1Y3Rvci5uYW1lID09PSAnV2ViV29ya2VyUmVuZGVyTm9kZScpKSB7XG4gICAgICAgIHRocm93RXJyb3IoYFRoZSBwcm92aWRlZCB2YWx1ZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIGEgRE9NIE5vZGUgYnV0IGdvdCAke3N0cmluZ2lmeShub2RlKX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRJbmRleEluUmFuZ2UoYXJyLCBpbmRleCkge1xuICAgIGFzc2VydERlZmluZWQoYXJyLCAnQXJyYXkgbXVzdCBiZSBkZWZpbmVkLicpO1xuICAgIGNvbnN0IG1heExlbiA9IGFyci5sZW5ndGg7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBtYXhMZW4pIHtcbiAgICAgICAgdGhyb3dFcnJvcihgSW5kZXggZXhwZWN0ZWQgdG8gYmUgbGVzcyB0aGFuICR7bWF4TGVufSBidXQgZ290ICR7aW5kZXh9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0T25lT2YodmFsdWUsIC4uLnZhbGlkVmFsdWVzKSB7XG4gICAgaWYgKHZhbGlkVmFsdWVzLmluZGV4T2YodmFsdWUpICE9PSAtMSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgdGhyb3dFcnJvcihgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICR7SlNPTi5zdHJpbmdpZnkodmFsaWRWYWx1ZXMpfSBidXQgd2FzICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfS5gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnN0cnVjdCBhbiBpbmplY3RhYmxlIGRlZmluaXRpb24gd2hpY2ggZGVmaW5lcyBob3cgYSB0b2tlbiB3aWxsIGJlIGNvbnN0cnVjdGVkIGJ5IHRoZSBESVxuICogc3lzdGVtLCBhbmQgaW4gd2hpY2ggaW5qZWN0b3JzIChpZiBhbnkpIGl0IHdpbGwgYmUgYXZhaWxhYmxlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGFzc2lnbmVkIHRvIGEgc3RhdGljIGDJtXByb3ZgIGZpZWxkIG9uIGEgdHlwZSwgd2hpY2ggd2lsbCB0aGVuIGJlIGFuXG4gKiBgSW5qZWN0YWJsZVR5cGVgLlxuICpcbiAqIE9wdGlvbnM6XG4gKiAqIGBwcm92aWRlZEluYCBkZXRlcm1pbmVzIHdoaWNoIGluamVjdG9ycyB3aWxsIGluY2x1ZGUgdGhlIGluamVjdGFibGUsIGJ5IGVpdGhlciBhc3NvY2lhdGluZyBpdFxuICogICB3aXRoIGFuIGBATmdNb2R1bGVgIG9yIG90aGVyIGBJbmplY3RvclR5cGVgLCBvciBieSBzcGVjaWZ5aW5nIHRoYXQgdGhpcyBpbmplY3RhYmxlIHNob3VsZCBiZVxuICogICBwcm92aWRlZCBpbiB0aGUgYCdyb290J2AgaW5qZWN0b3IsIHdoaWNoIHdpbGwgYmUgdGhlIGFwcGxpY2F0aW9uLWxldmVsIGluamVjdG9yIGluIG1vc3QgYXBwcy5cbiAqICogYGZhY3RvcnlgIGdpdmVzIHRoZSB6ZXJvIGFyZ3VtZW50IGZ1bmN0aW9uIHdoaWNoIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBpbmplY3RhYmxlLlxuICogICBUaGUgZmFjdG9yeSBjYW4gY2FsbCBgaW5qZWN0YCB0byBhY2Nlc3MgdGhlIGBJbmplY3RvcmAgYW5kIHJlcXVlc3QgaW5qZWN0aW9uIG9mIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICogQHB1YmxpY0FwaSBUaGlzIGluc3RydWN0aW9uIGhhcyBiZWVuIGVtaXR0ZWQgYnkgVmlld0VuZ2luZSBmb3Igc29tZSB0aW1lIGFuZCBpcyBkZXBsb3llZCB0byBucG0uXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVJbmplY3RhYmxlKG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbjogb3B0cy50b2tlbixcbiAgICAgICAgcHJvdmlkZWRJbjogb3B0cy5wcm92aWRlZEluIHx8IG51bGwsXG4gICAgICAgIGZhY3Rvcnk6IG9wdHMuZmFjdG9yeSxcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBpbiB2OCwgZGVsZXRlIGFmdGVyIHYxMC4gVGhpcyBBUEkgc2hvdWxkIGJlIHVzZWQgb25seSBieSBnZW5lcmF0ZWQgY29kZSwgYW5kIHRoYXRcbiAqIGNvZGUgc2hvdWxkIG5vdyB1c2UgybXJtWRlZmluZUluamVjdGFibGUgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgZGVmaW5lSW5qZWN0YWJsZSA9IMm1ybVkZWZpbmVJbmplY3RhYmxlO1xuLyoqXG4gKiBDb25zdHJ1Y3QgYW4gYEluamVjdG9yRGVmYCB3aGljaCBjb25maWd1cmVzIGFuIGluamVjdG9yLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGFzc2lnbmVkIHRvIGEgc3RhdGljIGluamVjdG9yIGRlZiAoYMm1aW5qYCkgZmllbGQgb24gYSB0eXBlLCB3aGljaCB3aWxsIHRoZW4gYmUgYW5cbiAqIGBJbmplY3RvclR5cGVgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogKiBgcHJvdmlkZXJzYDogYW4gb3B0aW9uYWwgYXJyYXkgb2YgcHJvdmlkZXJzIHRvIGFkZCB0byB0aGUgaW5qZWN0b3IuIEVhY2ggcHJvdmlkZXIgbXVzdFxuICogICBlaXRoZXIgaGF2ZSBhIGZhY3Rvcnkgb3IgcG9pbnQgdG8gYSB0eXBlIHdoaWNoIGhhcyBhIGDJtXByb3ZgIHN0YXRpYyBwcm9wZXJ0eSAodGhlXG4gKiAgIHR5cGUgbXVzdCBiZSBhbiBgSW5qZWN0YWJsZVR5cGVgKS5cbiAqICogYGltcG9ydHNgOiBhbiBvcHRpb25hbCBhcnJheSBvZiBpbXBvcnRzIG9mIG90aGVyIGBJbmplY3RvclR5cGVgcyBvciBgSW5qZWN0b3JUeXBlV2l0aE1vZHVsZWBzXG4gKiAgIHdob3NlIHByb3ZpZGVycyB3aWxsIGFsc28gYmUgYWRkZWQgdG8gdGhlIGluamVjdG9yLiBMb2NhbGx5IHByb3ZpZGVkIHR5cGVzIHdpbGwgb3ZlcnJpZGVcbiAqICAgcHJvdmlkZXJzIGZyb20gaW1wb3J0cy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZGVmaW5lSW5qZWN0b3Iob3B0aW9ucykge1xuICAgIHJldHVybiB7IHByb3ZpZGVyczogb3B0aW9ucy5wcm92aWRlcnMgfHwgW10sIGltcG9ydHM6IG9wdGlvbnMuaW1wb3J0cyB8fCBbXSB9O1xufVxuLyoqXG4gKiBSZWFkIHRoZSBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIGZvciBgdHlwZWAgaW4gYSB3YXkgd2hpY2ggaXMgaW1tdW5lIHRvIGFjY2lkZW50YWxseSByZWFkaW5nXG4gKiBpbmhlcml0ZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHR5cGUgQSB0eXBlIHdoaWNoIG1heSBoYXZlIGl0cyBvd24gKG5vbi1pbmhlcml0ZWQpIGDJtXByb3ZgLlxuICovXG5mdW5jdGlvbiBnZXRJbmplY3RhYmxlRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gZ2V0T3duRGVmaW5pdGlvbih0eXBlLCBOR19QUk9WX0RFRikgfHwgZ2V0T3duRGVmaW5pdGlvbih0eXBlLCBOR19JTkpFQ1RBQkxFX0RFRik7XG59XG4vKipcbiAqIFJldHVybiBkZWZpbml0aW9uIG9ubHkgaWYgaXQgaXMgZGVmaW5lZCBkaXJlY3RseSBvbiBgdHlwZWAgYW5kIGlzIG5vdCBpbmhlcml0ZWQgZnJvbSBhIGJhc2VcbiAqIGNsYXNzIG9mIGB0eXBlYC5cbiAqL1xuZnVuY3Rpb24gZ2V0T3duRGVmaW5pdGlvbih0eXBlLCBmaWVsZCkge1xuICAgIHJldHVybiB0eXBlLmhhc093blByb3BlcnR5KGZpZWxkKSA/IHR5cGVbZmllbGRdIDogbnVsbDtcbn1cbi8qKlxuICogUmVhZCB0aGUgaW5qZWN0YWJsZSBkZWYgKGDJtXByb3ZgKSBmb3IgYHR5cGVgIG9yIHJlYWQgdGhlIGDJtXByb3ZgIGZyb20gb25lIG9mIGl0cyBhbmNlc3RvcnMuXG4gKlxuICogQHBhcmFtIHR5cGUgQSB0eXBlIHdoaWNoIG1heSBoYXZlIGDJtXByb3ZgLCB2aWEgaW5oZXJpdGFuY2UuXG4gKlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgQW5ndWxhciwgd2hlcmUgYW4gZXJyb3Igd2lsbCBvY2N1ciBpbiB0aGVcbiAqICAgICBzY2VuYXJpbyBpZiB3ZSBmaW5kIHRoZSBgybVwcm92YCBvbiBhbiBhbmNlc3RvciBvbmx5LlxuICovXG5mdW5jdGlvbiBnZXRJbmhlcml0ZWRJbmplY3RhYmxlRGVmKHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSB0eXBlICYmICh0eXBlW05HX1BST1ZfREVGXSB8fCB0eXBlW05HX0lOSkVDVEFCTEVfREVGXSk7XG4gICAgaWYgKGRlZikge1xuICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGdldFR5cGVOYW1lKHR5cGUpO1xuICAgICAgICAvLyBUT0RPKEZXLTEzMDcpOiBSZS1hZGQgbmdEZXZNb2RlIHdoZW4gY2xvc3VyZSBjYW4gaGFuZGxlIGl0XG4gICAgICAgIC8vIG5nRGV2TW9kZSAmJlxuICAgICAgICBjb25zb2xlLndhcm4oYERFUFJFQ0FURUQ6IERJIGlzIGluc3RhbnRpYXRpbmcgYSB0b2tlbiBcIiR7dHlwZU5hbWV9XCIgdGhhdCBpbmhlcml0cyBpdHMgQEluamVjdGFibGUgZGVjb3JhdG9yIGJ1dCBkb2VzIG5vdCBwcm92aWRlIG9uZSBpdHNlbGYuXFxuYCArXG4gICAgICAgICAgICBgVGhpcyB3aWxsIGJlY29tZSBhbiBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEFuZ3VsYXIuIFBsZWFzZSBhZGQgQEluamVjdGFibGUoKSB0byB0aGUgXCIke3R5cGVOYW1lfVwiIGNsYXNzLmApO1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqIEdldHMgdGhlIG5hbWUgb2YgYSB0eXBlLCBhY2NvdW50aW5nIGZvciBzb21lIGNyb3NzLWJyb3dzZXIgZGlmZmVyZW5jZXMuICovXG5mdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgLy8gYEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lYCBiZWhhdmVzIGRpZmZlcmVudGx5IGJldHdlZW4gSUUgYW5kIG90aGVyIGJyb3dzZXJzLiBJbiBtb3N0IGJyb3dzZXJzXG4gICAgLy8gaXQnbGwgYWx3YXlzIHJldHVybiB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gaXRzZWxmLCBubyBtYXR0ZXIgaG93IG1hbnkgb3RoZXIgZnVuY3Rpb25zIGl0XG4gICAgLy8gaW5oZXJpdHMgZnJvbS4gT24gSUUgdGhlIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSBpdHMgb3duIGBuYW1lYCBwcm9wZXJ0eSwgYnV0IGl0IHRha2VzIGl0IGZyb21cbiAgICAvLyB0aGUgbG93ZXN0IGxldmVsIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uIEUuZy4gaWYgd2UgaGF2ZSBgY2xhc3MgRm9vIGV4dGVuZHMgUGFyZW50YCBtb3N0XG4gICAgLy8gYnJvd3NlcnMgd2lsbCBldmFsdWF0ZSBgRm9vLm5hbWVgIHRvIGBGb29gIHdoaWxlIElFIHdpbGwgcmV0dXJuIGBQYXJlbnRgLiBXZSB3b3JrIGFyb3VuZFxuICAgIC8vIHRoZSBpc3N1ZSBieSBjb252ZXJ0aW5nIHRoZSBmdW5jdGlvbiB0byBhIHN0cmluZyBhbmQgcGFyc2luZyBpdHMgbmFtZSBvdXQgdGhhdCB3YXkgdmlhIGEgcmVnZXguXG4gICAgaWYgKHR5cGUuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkge1xuICAgICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9ICgnJyArIHR5cGUpLm1hdGNoKC9eZnVuY3Rpb25cXHMqKFteXFxzKF0rKS8pO1xuICAgIHJldHVybiBtYXRjaCA9PT0gbnVsbCA/ICcnIDogbWF0Y2hbMV07XG59XG4vKipcbiAqIFJlYWQgdGhlIGluamVjdG9yIGRlZiB0eXBlIGluIGEgd2F5IHdoaWNoIGlzIGltbXVuZSB0byBhY2NpZGVudGFsbHkgcmVhZGluZyBpbmhlcml0ZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHR5cGUgdHlwZSB3aGljaCBtYXkgaGF2ZSBhbiBpbmplY3RvciBkZWYgKGDJtWluamApXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdG9yRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSAmJiAodHlwZS5oYXNPd25Qcm9wZXJ0eShOR19JTkpfREVGKSB8fCB0eXBlLmhhc093blByb3BlcnR5KE5HX0lOSkVDVE9SX0RFRikpID9cbiAgICAgICAgdHlwZVtOR19JTkpfREVGXSA6XG4gICAgICAgIG51bGw7XG59XG5jb25zdCBOR19QUk9WX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtXByb3Y6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19JTkpfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1aW5qOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLy8gV2UgbmVlZCB0byBrZWVwIHRoZXNlIGFyb3VuZCBzbyB3ZSBjYW4gcmVhZCBvZmYgb2xkIGRlZnMgaWYgbmV3IGRlZnMgYXJlIHVuYXZhaWxhYmxlXG5jb25zdCBOR19JTkpFQ1RBQkxFX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBuZ0luamVjdGFibGVEZWY6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19JTkpFQ1RPUl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgbmdJbmplY3RvckRlZjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdGlvbiBmbGFncyBmb3IgREkuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgSW5qZWN0RmxhZ3M7XG4oZnVuY3Rpb24gKEluamVjdEZsYWdzKSB7XG4gICAgLy8gVE9ETyhhbHhodWIpOiBtYWtlIHRoaXMgJ2NvbnN0JyAoYW5kIHJlbW92ZSBgSW50ZXJuYWxJbmplY3RGbGFnc2AgZW51bSkgd2hlbiBuZ2Mgbm8gbG9uZ2VyXG4gICAgLy8gd3JpdGVzIGV4cG9ydHMgb2YgaXQgaW50byBuZ2ZhY3RvcnkgZmlsZXMuXG4gICAgLyoqIENoZWNrIHNlbGYgYW5kIGNoZWNrIHBhcmVudCBpbmplY3RvciBpZiBuZWVkZWQgKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGluamVjdG9yIHNob3VsZCByZXRyaWV2ZSBhIGRlcGVuZGVuY3kgZnJvbSBhbnkgaW5qZWN0b3IgdW50aWwgcmVhY2hpbmcgdGhlXG4gICAgICogaG9zdCBlbGVtZW50IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudC4gKE9ubHkgdXNlZCB3aXRoIEVsZW1lbnQgSW5qZWN0b3IpXG4gICAgICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJIb3N0XCJdID0gMV0gPSBcIkhvc3RcIjtcbiAgICAvKiogRG9uJ3QgYXNjZW5kIHRvIGFuY2VzdG9ycyBvZiB0aGUgbm9kZSByZXF1ZXN0aW5nIGluamVjdGlvbi4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIlNlbGZcIl0gPSAyXSA9IFwiU2VsZlwiO1xuICAgIC8qKiBTa2lwIHRoZSBub2RlIHRoYXQgaXMgcmVxdWVzdGluZyBpbmplY3Rpb24uICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJTa2lwU2VsZlwiXSA9IDRdID0gXCJTa2lwU2VsZlwiO1xuICAgIC8qKiBJbmplY3QgYGRlZmF1bHRWYWx1ZWAgaW5zdGVhZCBpZiB0b2tlbiBub3QgZm91bmQuICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJPcHRpb25hbFwiXSA9IDhdID0gXCJPcHRpb25hbFwiO1xufSkoSW5qZWN0RmxhZ3MgfHwgKEluamVjdEZsYWdzID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgaW5qZWN0LlxuICpcbiAqIEJ5IGRlZmF1bHQsIGl0IGlzIGBpbmplY3RJbmplY3Rvck9ubHlgLCB3aGljaCBtYWtlcyBpdCBgSW5qZWN0b3JgLW9ubHkgYXdhcmUuIEl0IGNhbiBiZSBjaGFuZ2VkXG4gKiB0byBgZGlyZWN0aXZlSW5qZWN0YCwgd2hpY2ggYnJpbmdzIGluIHRoZSBgTm9kZUluamVjdG9yYCBzeXN0ZW0gb2YgaXZ5LiBJdCBpcyBkZXNpZ25lZCB0aGlzXG4gKiB3YXkgZm9yIHR3byByZWFzb25zOlxuICogIDEuIGBJbmplY3RvcmAgc2hvdWxkIG5vdCBkZXBlbmQgb24gaXZ5IGxvZ2ljLlxuICogIDIuIFRvIG1haW50YWluIHRyZWUgc2hha2UtYWJpbGl0eSB3ZSBkb24ndCB3YW50IHRvIGJyaW5nIGluIHVubmVjZXNzYXJ5IGNvZGUuXG4gKi9cbmxldCBfaW5qZWN0SW1wbGVtZW50YXRpb247XG5mdW5jdGlvbiBnZXRJbmplY3RJbXBsZW1lbnRhdGlvbigpIHtcbiAgICByZXR1cm4gX2luamVjdEltcGxlbWVudGF0aW9uO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBjdXJyZW50IGluamVjdCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24oaW1wbCkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gX2luamVjdEltcGxlbWVudGF0aW9uO1xuICAgIF9pbmplY3RJbXBsZW1lbnRhdGlvbiA9IGltcGw7XG4gICAgcmV0dXJuIHByZXZpb3VzO1xufVxuLyoqXG4gKiBJbmplY3RzIGByb290YCB0b2tlbnMgaW4gbGltcCBtb2RlLlxuICpcbiAqIElmIG5vIGluamVjdG9yIGV4aXN0cywgd2UgY2FuIHN0aWxsIGluamVjdCB0cmVlLXNoYWthYmxlIHByb3ZpZGVycyB3aGljaCBoYXZlIGBwcm92aWRlZEluYCBzZXQgdG9cbiAqIGBcInJvb3RcImAuIFRoaXMgaXMga25vd24gYXMgdGhlIGxpbXAgbW9kZSBpbmplY3Rpb24uIEluIHN1Y2ggY2FzZSB0aGUgdmFsdWUgaXMgc3RvcmVkIGluIHRoZVxuICogaW5qZWN0YWJsZSBkZWZpbml0aW9uLlxuICovXG5mdW5jdGlvbiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgY29uc3QgaW5qZWN0YWJsZURlZiA9IGdldEluamVjdGFibGVEZWYodG9rZW4pO1xuICAgIGlmIChpbmplY3RhYmxlRGVmICYmIGluamVjdGFibGVEZWYucHJvdmlkZWRJbiA9PSAncm9vdCcpIHtcbiAgICAgICAgcmV0dXJuIGluamVjdGFibGVEZWYudmFsdWUgPT09IHVuZGVmaW5lZCA/IGluamVjdGFibGVEZWYudmFsdWUgPSBpbmplY3RhYmxlRGVmLmZhY3RvcnkoKSA6XG4gICAgICAgICAgICBpbmplY3RhYmxlRGVmLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKG5vdEZvdW5kVmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3Ioc3RyaW5naWZ5KHRva2VuKSwgJ0luamVjdG9yJyk7XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IGBfaW5qZWN0SW1wbGVtZW50YXRpb25gIGlzIG5vdCBgZm5gLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsLCB0byBwcmV2ZW50IGluZmluaXRlIHJlY3Vyc2lvbi5cbiAqXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gd2hpY2ggaXQgc2hvdWxkIG5vdCBlcXVhbCB0b1xuICovXG5mdW5jdGlvbiBhc3NlcnRJbmplY3RJbXBsZW1lbnRhdGlvbk5vdEVxdWFsKGZuKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKF9pbmplY3RJbXBsZW1lbnRhdGlvbiwgZm4sICdDYWxsaW5nIMm1ybVpbmplY3Qgd291bGQgY2F1c2UgaW5maW5pdGUgcmVjdXJzaW9uJyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb252aW5jZSBjbG9zdXJlIGNvbXBpbGVyIHRoYXQgdGhlIHdyYXBwZWQgZnVuY3Rpb24gaGFzIG5vIHNpZGUtZWZmZWN0cy5cbiAqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIGFsd2F5cyBhc3N1bWVzIHRoYXQgYHRvU3RyaW5nYCBoYXMgbm8gc2lkZS1lZmZlY3RzLiBXZSB1c2UgdGhpcyBxdWlyayB0b1xuICogYWxsb3cgdXMgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGJ1dCBoYXZlIGNsb3N1cmUgY29tcGlsZXIgbWFyayB0aGUgY2FsbCBhcyBuby1zaWRlLWVmZmVjdHMuXG4gKiBJdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgcmV0dXJuIHZhbHVlIGZvciB0aGUgYG5vU2lkZUVmZmVjdHNgIGZ1bmN0aW9uIGJlIGFzc2lnbmVkXG4gKiB0byBzb21ldGhpbmcgd2hpY2ggaXMgcmV0YWluZWQgb3RoZXJ3aXNlIHRoZSBjYWxsIHRvIGBub1NpZGVFZmZlY3RzYCB3aWxsIGJlIHJlbW92ZWQgYnkgY2xvc3VyZVxuICogY29tcGlsZXIuXG4gKi9cbmZ1bmN0aW9uIG5vU2lkZUVmZmVjdHMoZm4pIHtcbiAgICByZXR1cm4geyB0b1N0cmluZzogZm4gfS50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIHN0cmF0ZWd5IHRoYXQgdGhlIGRlZmF1bHQgY2hhbmdlIGRldGVjdG9yIHVzZXMgdG8gZGV0ZWN0IGNoYW5nZXMuXG4gKiBXaGVuIHNldCwgdGFrZXMgZWZmZWN0IHRoZSBuZXh0IHRpbWUgY2hhbmdlIGRldGVjdGlvbiBpcyB0cmlnZ2VyZWQuXG4gKlxuICogQHNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjdXNhZ2Utbm90ZXMgQ2hhbmdlIGRldGVjdGlvbiB1c2FnZX1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneTtcbihmdW5jdGlvbiAoQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kpIHtcbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIGBDaGVja09uY2VgIHN0cmF0ZWd5LCBtZWFuaW5nIHRoYXQgYXV0b21hdGljIGNoYW5nZSBkZXRlY3Rpb24gaXMgZGVhY3RpdmF0ZWRcbiAgICAgKiB1bnRpbCByZWFjdGl2YXRlZCBieSBzZXR0aW5nIHRoZSBzdHJhdGVneSB0byBgRGVmYXVsdGAgKGBDaGVja0Fsd2F5c2ApLlxuICAgICAqIENoYW5nZSBkZXRlY3Rpb24gY2FuIHN0aWxsIGJlIGV4cGxpY2l0bHkgaW52b2tlZC5cbiAgICAgKiBUaGlzIHN0cmF0ZWd5IGFwcGxpZXMgdG8gYWxsIGNoaWxkIGRpcmVjdGl2ZXMgYW5kIGNhbm5vdCBiZSBvdmVycmlkZGVuLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5W0NoYW5nZURldGVjdGlvblN0cmF0ZWd5W1wiT25QdXNoXCJdID0gMF0gPSBcIk9uUHVzaFwiO1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgZGVmYXVsdCBgQ2hlY2tBbHdheXNgIHN0cmF0ZWd5LCBpbiB3aGljaCBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGF1dG9tYXRpYyB1bnRpbFxuICAgICAqIGV4cGxpY2l0bHkgZGVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJEZWZhdWx0XCJdID0gMV0gPSBcIkRlZmF1bHRcIjtcbn0pKENoYW5nZURldGVjdGlvblN0cmF0ZWd5IHx8IChDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IHt9KSk7XG4vKipcbiAqIERlZmluZXMgdGhlIHBvc3NpYmxlIHN0YXRlcyBvZiB0aGUgZGVmYXVsdCBjaGFuZ2UgZGV0ZWN0b3IuXG4gKiBAc2VlIGBDaGFuZ2VEZXRlY3RvclJlZmBcbiAqL1xudmFyIENoYW5nZURldGVjdG9yU3RhdHVzO1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3RvclN0YXR1cykge1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2gsIGFmdGVyIGNhbGxpbmcgYGRldGVjdENoYW5nZXMoKWAsIHRoZSBjaGFuZ2UgZGV0ZWN0b3JcbiAgICAgKiBzdGF0ZSBiZWNvbWVzIGBDaGVja2VkYCwgYW5kIG11c3QgYmUgZXhwbGljaXRseSBpbnZva2VkIG9yIHJlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tPbmNlXCJdID0gMF0gPSBcIkNoZWNrT25jZVwiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggY2hhbmdlIGRldGVjdGlvbiBpcyBza2lwcGVkIHVudGlsIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgbW9kZVxuICAgICAqIGJlY29tZXMgYENoZWNrT25jZWAuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja2VkXCJdID0gMV0gPSBcIkNoZWNrZWRcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGNoYW5nZSBkZXRlY3Rpb24gY29udGludWVzIGF1dG9tYXRpY2FsbHkgdW50aWwgZXhwbGljaXRseVxuICAgICAqIGRlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tBbHdheXNcIl0gPSAyXSA9IFwiQ2hlY2tBbHdheXNcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGEgY2hhbmdlIGRldGVjdG9yIHN1YiB0cmVlIGlzIG5vdCBhIHBhcnQgb2YgdGhlIG1haW4gdHJlZSBhbmRcbiAgICAgKiBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkRldGFjaGVkXCJdID0gM10gPSBcIkRldGFjaGVkXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBlbmNvdW50ZXJlZCBhbiBlcnJvciBjaGVja2luZyBhIGJpbmRpbmdcbiAgICAgKiBvciBjYWxsaW5nIGEgZGlyZWN0aXZlIGxpZmVjeWNsZSBtZXRob2QgYW5kIGlzIG5vdyBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuIENoYW5nZVxuICAgICAqIGRldGVjdG9ycyBpbiB0aGlzIHN0YXRlIGRvIG5vdCBkZXRlY3QgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkVycm9yZWRcIl0gPSA0XSA9IFwiRXJyb3JlZFwiO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBjaGFuZ2UgZGV0ZWN0b3IgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRGVzdHJveWVkXCJdID0gNV0gPSBcIkRlc3Ryb3llZFwiO1xufSkoQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgfHwgKENoYW5nZURldGVjdG9yU3RhdHVzID0ge30pKTtcbi8qKlxuICogUmVwb3J0cyB3aGV0aGVyIGEgZ2l2ZW4gc3RyYXRlZ3kgaXMgY3VycmVudGx5IHRoZSBkZWZhdWx0IGZvciBjaGFuZ2UgZGV0ZWN0aW9uLlxuICogQHBhcmFtIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5IFRoZSBzdHJhdGVneSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGdpdmVuIHN0cmF0ZWd5IGlzIHRoZSBjdXJyZW50IGRlZmF1bHQsIGZhbHNlIG90aGVyd2lzZS5cbiAqIEBzZWUgYENoYW5nZURldGVjdG9yU3RhdHVzYFxuICogQHNlZSBgQ2hhbmdlRGV0ZWN0b3JSZWZgXG4gKi9cbmZ1bmN0aW9uIGlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5KGNoYW5nZURldGVjdGlvblN0cmF0ZWd5KSB7XG4gICAgcmV0dXJuIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5ID09IG51bGwgfHxcbiAgICAgICAgY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPT09IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZWZpbmVzIHRoZSBDU1Mgc3R5bGVzIGVuY2Fwc3VsYXRpb24gcG9saWNpZXMgZm9yIHRoZSB7QGxpbmsgQ29tcG9uZW50fSBkZWNvcmF0b3Inc1xuICogYGVuY2Fwc3VsYXRpb25gIG9wdGlvbi5cbiAqXG4gKiBTZWUge0BsaW5rIENvbXBvbmVudCNlbmNhcHN1bGF0aW9uIGVuY2Fwc3VsYXRpb259LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL3RzL21ldGFkYXRhL2VuY2Fwc3VsYXRpb24udHMgcmVnaW9uPSdsb25nZm9ybSd9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgVmlld0VuY2Fwc3VsYXRpb24kMTtcbihmdW5jdGlvbiAoVmlld0VuY2Fwc3VsYXRpb24pIHtcbiAgICAvLyBUT0RPOiBjb25zaWRlciBtYWtpbmcgYFZpZXdFbmNhcHN1bGF0aW9uYCBhIGBjb25zdCBlbnVtYCBpbnN0ZWFkLiBTZWVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy80NDExOSBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlcyBhIG5hdGl2ZSBTaGFkb3cgRE9NIGVuY2Fwc3VsYXRpb24gYmVoYXZpb3IgYnkgYWRkaW5nIGEgc3BlY2lmaWMgYXR0cmlidXRlIHRvIHRoZVxuICAgICAqIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCBhbmQgYXBwbHlpbmcgdGhlIHNhbWUgYXR0cmlidXRlIHRvIGFsbCB0aGUgQ1NTIHNlbGVjdG9ycyBwcm92aWRlZFxuICAgICAqIHZpYSB7QGxpbmsgQ29tcG9uZW50I3N0eWxlcyBzdHlsZXN9IG9yIHtAbGluayBDb21wb25lbnQjc3R5bGVVcmxzIHN0eWxlVXJsc30uXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0IG9wdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIkVtdWxhdGVkXCJdID0gMF0gPSBcIkVtdWxhdGVkXCI7XG4gICAgLy8gSGlzdG9yaWNhbGx5IHRoZSAxIHZhbHVlIHdhcyBmb3IgYE5hdGl2ZWAgZW5jYXBzdWxhdGlvbiB3aGljaCBoYXMgYmVlbiByZW1vdmVkIGFzIG9mIHYxMS5cbiAgICAvKipcbiAgICAgKiBEb2Vzbid0IHByb3ZpZGUgYW55IHNvcnQgb2YgQ1NTIHN0eWxlIGVuY2Fwc3VsYXRpb24sIG1lYW5pbmcgdGhhdCBhbGwgdGhlIHN0eWxlcyBwcm92aWRlZFxuICAgICAqIHZpYSB7QGxpbmsgQ29tcG9uZW50I3N0eWxlcyBzdHlsZXN9IG9yIHtAbGluayBDb21wb25lbnQjc3R5bGVVcmxzIHN0eWxlVXJsc30gYXJlIGFwcGxpY2FibGVcbiAgICAgKiB0byBhbnkgSFRNTCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiByZWdhcmRsZXNzIG9mIHRoZWlyIGhvc3QgQ29tcG9uZW50LlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiTm9uZVwiXSA9IDJdID0gXCJOb25lXCI7XG4gICAgLyoqXG4gICAgICogVXNlcyB0aGUgYnJvd3NlcidzIG5hdGl2ZSBTaGFkb3cgRE9NIEFQSSB0byBlbmNhcHN1bGF0ZSBDU1Mgc3R5bGVzLCBtZWFuaW5nIHRoYXQgaXQgY3JlYXRlc1xuICAgICAqIGEgU2hhZG93Um9vdCBmb3IgdGhlIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCB3aGljaCBpcyB0aGVuIHVzZWQgdG8gZW5jYXBzdWxhdGVcbiAgICAgKiBhbGwgdGhlIENvbXBvbmVudCdzIHN0eWxpbmcuXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJTaGFkb3dEb21cIl0gPSAzXSA9IFwiU2hhZG93RG9tXCI7XG59KShWaWV3RW5jYXBzdWxhdGlvbiQxIHx8IChWaWV3RW5jYXBzdWxhdGlvbiQxID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcztcbmNvbnN0IF9fd2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93O1xuY29uc3QgX19zZWxmID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiYgc2VsZjtcbmNvbnN0IF9fZ2xvYmFsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsO1xuLy8gQWx3YXlzIHVzZSBfX2dsb2JhbFRoaXMgaWYgYXZhaWxhYmxlLCB3aGljaCBpcyB0aGUgc3BlYy1kZWZpbmVkIGdsb2JhbCB2YXJpYWJsZSBhY3Jvc3MgYWxsXG4vLyBlbnZpcm9ubWVudHMsIHRoZW4gZmFsbGJhY2sgdG8gX19nbG9iYWwgZmlyc3QsIGJlY2F1c2UgaW4gTm9kZSB0ZXN0cyBib3RoIF9fZ2xvYmFsIGFuZFxuLy8gX193aW5kb3cgbWF5IGJlIGRlZmluZWQgYW5kIF9nbG9iYWwgc2hvdWxkIGJlIF9fZ2xvYmFsIGluIHRoYXQgY2FzZS5cbmNvbnN0IF9nbG9iYWwgPSBfX2dsb2JhbFRoaXMgfHwgX19nbG9iYWwgfHwgX193aW5kb3cgfHwgX19zZWxmO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5nRGV2TW9kZVJlc2V0UGVyZkNvdW50ZXJzKCkge1xuICAgIGNvbnN0IGxvY2F0aW9uU3RyaW5nID0gdHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJyA/IGxvY2F0aW9uLnRvU3RyaW5nKCkgOiAnJztcbiAgICBjb25zdCBuZXdDb3VudGVycyA9IHtcbiAgICAgICAgbmFtZWRDb25zdHJ1Y3RvcnM6IGxvY2F0aW9uU3RyaW5nLmluZGV4T2YoJ25nRGV2TW9kZT1uYW1lZENvbnN0cnVjdG9ycycpICE9IC0xLFxuICAgICAgICBmaXJzdENyZWF0ZVBhc3M6IDAsXG4gICAgICAgIHROb2RlOiAwLFxuICAgICAgICB0VmlldzogMCxcbiAgICAgICAgcmVuZGVyZXJDcmVhdGVUZXh0Tm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRUZXh0OiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZUVsZW1lbnQ6IDAsXG4gICAgICAgIHJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcjogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRBdHRyaWJ1dGU6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlQXR0cmlidXRlOiAwLFxuICAgICAgICByZW5kZXJlclNldFByb3BlcnR5OiAwLFxuICAgICAgICByZW5kZXJlclNldENsYXNzTmFtZTogMCxcbiAgICAgICAgcmVuZGVyZXJBZGRDbGFzczogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVDbGFzczogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRTdHlsZTogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVTdHlsZTogMCxcbiAgICAgICAgcmVuZGVyZXJEZXN0cm95OiAwLFxuICAgICAgICByZW5kZXJlckRlc3Ryb3lOb2RlOiAwLFxuICAgICAgICByZW5kZXJlck1vdmVOb2RlOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZU5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyQXBwZW5kQ2hpbGQ6IDAsXG4gICAgICAgIHJlbmRlcmVySW5zZXJ0QmVmb3JlOiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZUNvbW1lbnQ6IDAsXG4gICAgfTtcbiAgICAvLyBNYWtlIHN1cmUgdG8gcmVmZXIgdG8gbmdEZXZNb2RlIGFzIFsnbmdEZXZNb2RlJ10gZm9yIGNsb3N1cmUuXG4gICAgY29uc3QgYWxsb3dOZ0Rldk1vZGVUcnVlID0gbG9jYXRpb25TdHJpbmcuaW5kZXhPZignbmdEZXZNb2RlPWZhbHNlJykgPT09IC0xO1xuICAgIF9nbG9iYWxbJ25nRGV2TW9kZSddID0gYWxsb3dOZ0Rldk1vZGVUcnVlICYmIG5ld0NvdW50ZXJzO1xuICAgIHJldHVybiBuZXdDb3VudGVycztcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHRoZSBgbmdEZXZNb2RlYCBoYXMgYmVlbiBzZXQuIElmIHllcyxcbiAqIHRoZW4gd2UgaG9ub3IgaXQsIG90aGVyd2lzZSB3ZSBkZWZhdWx0IHRvIGRldiBtb2RlIHdpdGggYWRkaXRpb25hbCBjaGVja3MuXG4gKlxuICogVGhlIGlkZWEgaXMgdGhhdCB1bmxlc3Mgd2UgYXJlIGRvaW5nIHByb2R1Y3Rpb24gYnVpbGQgd2hlcmUgd2UgZXhwbGljaXRseVxuICogc2V0IGBuZ0Rldk1vZGUgPT0gZmFsc2VgIHdlIHNob3VsZCBiZSBoZWxwaW5nIHRoZSBkZXZlbG9wZXIgYnkgcHJvdmlkaW5nXG4gKiBhcyBtdWNoIGVhcmx5IHdhcm5pbmcgYW5kIGVycm9ycyBhcyBwb3NzaWJsZS5cbiAqXG4gKiBgybXJtWRlZmluZUNvbXBvbmVudGAgaXMgZ3VhcmFudGVlZCB0byBoYXZlIGJlZW4gY2FsbGVkIGJlZm9yZSBhbnkgY29tcG9uZW50IHRlbXBsYXRlIGZ1bmN0aW9uc1xuICogKGFuZCB0aHVzIEl2eSBpbnN0cnVjdGlvbnMpLCBzbyBhIHNpbmdsZSBpbml0aWFsaXphdGlvbiB0aGVyZSBpcyBzdWZmaWNpZW50IHRvIGVuc3VyZSBuZ0Rldk1vZGVcbiAqIGlzIGRlZmluZWQgZm9yIHRoZSBlbnRpcmUgaW5zdHJ1Y3Rpb24gc2V0LlxuICpcbiAqIFdoZW4gY2hlY2tpbmcgYG5nRGV2TW9kZWAgb24gdG9wbGV2ZWwsIGFsd2F5cyBpbml0IGl0IGJlZm9yZSByZWZlcmVuY2luZyBpdFxuICogKGUuZy4gYCgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCkpYCksIG90aGVyd2lzZSB5b3UgY2FuXG4gKiAgZ2V0IGEgYFJlZmVyZW5jZUVycm9yYCBsaWtlIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzMxNTk1LlxuICpcbiAqIERldGFpbHMgb24gcG9zc2libGUgdmFsdWVzIGZvciBgbmdEZXZNb2RlYCBjYW4gYmUgZm91bmQgb24gaXRzIGRvY3N0cmluZy5cbiAqXG4gKiBOT1RFOlxuICogLSBjaGFuZ2VzIHRvIHRoZSBgbmdEZXZNb2RlYCBuYW1lIG11c3QgYmUgc3luY2VkIHdpdGggYGNvbXBpbGVyLWNsaS9zcmMvdG9vbGluZy50c2AuXG4gKi9cbmZ1bmN0aW9uIGluaXROZ0Rldk1vZGUoKSB7XG4gICAgLy8gVGhlIGJlbG93IGNoZWNrcyBhcmUgdG8gZW5zdXJlIHRoYXQgY2FsbGluZyBgaW5pdE5nRGV2TW9kZWAgbXVsdGlwbGUgdGltZXMgZG9lcyBub3RcbiAgICAvLyByZXNldCB0aGUgY291bnRlcnMuXG4gICAgLy8gSWYgdGhlIGBuZ0Rldk1vZGVgIGlzIG5vdCBhbiBvYmplY3QsIHRoZW4gaXQgbWVhbnMgd2UgaGF2ZSBub3QgY3JlYXRlZCB0aGUgcGVyZiBjb3VudGVyc1xuICAgIC8vIHlldC5cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbmdEZXZNb2RlUmVzZXRQZXJmQ291bnRlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZW9mIG5nRGV2TW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISFuZ0Rldk1vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyByZXVzZWFibGUgXCJlbXB0eVwiIHN5bWJvbHMgdGhhdCBjYW4gYmUgdXNlZCBhcyBkZWZhdWx0IHJldHVybiB2YWx1ZXNcbiAqIGluIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgcmVuZGVyaW5nIGNvZGUuIEJlY2F1c2UgdGhlIHNhbWUgc3ltYm9scyBhcmUgcmV0dXJuZWQsIHRoaXNcbiAqIGFsbG93cyBmb3IgaWRlbnRpdHkgY2hlY2tzIGFnYWluc3QgdGhlc2UgdmFsdWVzIHRvIGJlIGNvbnNpc3RlbnRseSB1c2VkIGJ5IHRoZSBmcmFtZXdvcmtcbiAqIGNvZGUuXG4gKi9cbmNvbnN0IEVNUFRZX09CSiA9IHt9O1xuY29uc3QgRU1QVFlfQVJSQVkgPSBbXTtcbi8vIGZyZWV6aW5nIHRoZSB2YWx1ZXMgcHJldmVudHMgYW55IGNvZGUgZnJvbSBhY2NpZGVudGFsbHkgaW5zZXJ0aW5nIG5ldyB2YWx1ZXMgaW5cbmlmICgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCkpIHtcbiAgICAvLyBUaGVzZSBwcm9wZXJ0eSBhY2Nlc3NlcyBjYW4gYmUgaWdub3JlZCBiZWNhdXNlIG5nRGV2TW9kZSB3aWxsIGJlIHNldCB0byBmYWxzZVxuICAgIC8vIHdoZW4gb3B0aW1pemluZyBjb2RlIGFuZCB0aGUgd2hvbGUgaWYgc3RhdGVtZW50IHdpbGwgYmUgZHJvcHBlZC5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBOR19DT01QX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWNtcDogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0RJUl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVkaXI6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19QSVBFX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtXBpcGU6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19NT0RfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1bW9kOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfRkFDVE9SWV9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVmYWM6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG4vKipcbiAqIElmIGEgZGlyZWN0aXZlIGlzIGRpUHVibGljLCBibG9vbUFkZCBzZXRzIGEgcHJvcGVydHkgb24gdGhlIHR5cGUgd2l0aCB0aGlzIGNvbnN0YW50IGFzXG4gKiB0aGUga2V5IGFuZCB0aGUgZGlyZWN0aXZlJ3MgdW5pcXVlIElEIGFzIHRoZSB2YWx1ZS4gVGhpcyBhbGxvd3MgdXMgdG8gbWFwIGRpcmVjdGl2ZXMgdG8gdGhlaXJcbiAqIGJsb29tIGZpbHRlciBiaXQgZm9yIERJLlxuICovXG4vLyBUT0RPKG1pc2tvKTogVGhpcyBpcyB3cm9uZy4gVGhlIE5HX0VMRU1FTlRfSUQgc2hvdWxkIG5ldmVyIGJlIG1pbmlmaWVkLlxuY29uc3QgTkdfRUxFTUVOVF9JRCA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBfX05HX0VMRU1FTlRfSURfXzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3JlbmRlckNvbXBDb3VudCA9IDA7XG4vKipcbiAqIENyZWF0ZSBhIGNvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgLy8gR2VuZXJhdGVkIGJ5IEFuZ3VsYXIgVGVtcGxhdGUgQ29tcGlsZXJcbiAqICAgLy8gW1N5bWJvbF0gc3ludGF4IHdpbGwgbm90IGJlIHN1cHBvcnRlZCBieSBUeXBlU2NyaXB0IHVudGlsIHYyLjdcbiAqICAgc3RhdGljIMm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVDb21wb25lbnQoY29tcG9uZW50RGVmaW5pdGlvbikge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBuZ0Rldk1vZGUuIFRoaXMgbXVzdCBiZSB0aGUgZmlyc3Qgc3RhdGVtZW50IGluIMm1ybVkZWZpbmVDb21wb25lbnQuXG4gICAgICAgIC8vIFNlZSB0aGUgYGluaXROZ0Rldk1vZGVgIGRvY3N0cmluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgaW5pdE5nRGV2TW9kZSgpO1xuICAgICAgICBjb25zdCB0eXBlID0gY29tcG9uZW50RGVmaW5pdGlvbi50eXBlO1xuICAgICAgICBjb25zdCBkZWNsYXJlZElucHV0cyA9IHt9O1xuICAgICAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgcHJvdmlkZXJzUmVzb2x2ZXI6IG51bGwsXG4gICAgICAgICAgICBkZWNsczogY29tcG9uZW50RGVmaW5pdGlvbi5kZWNscyxcbiAgICAgICAgICAgIHZhcnM6IGNvbXBvbmVudERlZmluaXRpb24udmFycyxcbiAgICAgICAgICAgIGZhY3Rvcnk6IG51bGwsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogY29tcG9uZW50RGVmaW5pdGlvbi50ZW1wbGF0ZSB8fCBudWxsLFxuICAgICAgICAgICAgY29uc3RzOiBjb21wb25lbnREZWZpbml0aW9uLmNvbnN0cyB8fCBudWxsLFxuICAgICAgICAgICAgbmdDb250ZW50U2VsZWN0b3JzOiBjb21wb25lbnREZWZpbml0aW9uLm5nQ29udGVudFNlbGVjdG9ycyxcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nczogY29tcG9uZW50RGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgfHwgbnVsbCxcbiAgICAgICAgICAgIGhvc3RWYXJzOiBjb21wb25lbnREZWZpbml0aW9uLmhvc3RWYXJzIHx8IDAsXG4gICAgICAgICAgICBob3N0QXR0cnM6IGNvbXBvbmVudERlZmluaXRpb24uaG9zdEF0dHJzIHx8IG51bGwsXG4gICAgICAgICAgICBjb250ZW50UXVlcmllczogY29tcG9uZW50RGVmaW5pdGlvbi5jb250ZW50UXVlcmllcyB8fCBudWxsLFxuICAgICAgICAgICAgZGVjbGFyZWRJbnB1dHM6IGRlY2xhcmVkSW5wdXRzLFxuICAgICAgICAgICAgaW5wdXRzOiBudWxsLFxuICAgICAgICAgICAgb3V0cHV0czogbnVsbCxcbiAgICAgICAgICAgIGV4cG9ydEFzOiBjb21wb25lbnREZWZpbml0aW9uLmV4cG9ydEFzIHx8IG51bGwsXG4gICAgICAgICAgICBvblB1c2g6IGNvbXBvbmVudERlZmluaXRpb24uY2hhbmdlRGV0ZWN0aW9uID09PSBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBkaXJlY3RpdmVEZWZzOiBudWxsLFxuICAgICAgICAgICAgcGlwZURlZnM6IG51bGwsXG4gICAgICAgICAgICBzZWxlY3RvcnM6IGNvbXBvbmVudERlZmluaXRpb24uc2VsZWN0b3JzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgdmlld1F1ZXJ5OiBjb21wb25lbnREZWZpbml0aW9uLnZpZXdRdWVyeSB8fCBudWxsLFxuICAgICAgICAgICAgZmVhdHVyZXM6IGNvbXBvbmVudERlZmluaXRpb24uZmVhdHVyZXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGRhdGE6IGNvbXBvbmVudERlZmluaXRpb24uZGF0YSB8fCB7fSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvbXBvbmVudERlZmluaXRpb24uZW5jYXBzdWxhdGlvbiB8fCBWaWV3RW5jYXBzdWxhdGlvbiQxLkVtdWxhdGVkLFxuICAgICAgICAgICAgaWQ6ICdjJyxcbiAgICAgICAgICAgIHN0eWxlczogY29tcG9uZW50RGVmaW5pdGlvbi5zdHlsZXMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBfOiBudWxsLFxuICAgICAgICAgICAgc2V0SW5wdXQ6IG51bGwsXG4gICAgICAgICAgICBzY2hlbWFzOiBjb21wb25lbnREZWZpbml0aW9uLnNjaGVtYXMgfHwgbnVsbCxcbiAgICAgICAgICAgIHRWaWV3OiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVUeXBlcyA9IGNvbXBvbmVudERlZmluaXRpb24uZGlyZWN0aXZlcztcbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IGNvbXBvbmVudERlZmluaXRpb24uZmVhdHVyZXM7XG4gICAgICAgIGNvbnN0IHBpcGVUeXBlcyA9IGNvbXBvbmVudERlZmluaXRpb24ucGlwZXM7XG4gICAgICAgIGRlZi5pZCArPSBfcmVuZGVyQ29tcENvdW50Kys7XG4gICAgICAgIGRlZi5pbnB1dHMgPSBpbnZlcnRPYmplY3QoY29tcG9uZW50RGVmaW5pdGlvbi5pbnB1dHMsIGRlY2xhcmVkSW5wdXRzKSxcbiAgICAgICAgICAgIGRlZi5vdXRwdXRzID0gaW52ZXJ0T2JqZWN0KGNvbXBvbmVudERlZmluaXRpb24ub3V0cHV0cyksXG4gICAgICAgICAgICBmZWF0dXJlICYmIGZlYXR1cmUuZm9yRWFjaCgoZm4pID0+IGZuKGRlZikpO1xuICAgICAgICBkZWYuZGlyZWN0aXZlRGVmcyA9IGRpcmVjdGl2ZVR5cGVzID9cbiAgICAgICAgICAgICgpID0+ICh0eXBlb2YgZGlyZWN0aXZlVHlwZXMgPT09ICdmdW5jdGlvbicgPyBkaXJlY3RpdmVUeXBlcygpIDogZGlyZWN0aXZlVHlwZXMpXG4gICAgICAgICAgICAgICAgLm1hcChleHRyYWN0RGlyZWN0aXZlRGVmKSA6XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICBkZWYucGlwZURlZnMgPSBwaXBlVHlwZXMgP1xuICAgICAgICAgICAgKCkgPT4gKHR5cGVvZiBwaXBlVHlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlVHlwZXMoKSA6IHBpcGVUeXBlcykubWFwKGV4dHJhY3RQaXBlRGVmKSA6XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZW5lcmF0ZWQgbmV4dCB0byBOZ01vZHVsZXMgdG8gbW9ua2V5LXBhdGNoIGRpcmVjdGl2ZSBhbmQgcGlwZSByZWZlcmVuY2VzIG9udG8gYSBjb21wb25lbnQnc1xuICogZGVmaW5pdGlvbiwgd2hlbiBnZW5lcmF0aW5nIGEgZGlyZWN0IHJlZmVyZW5jZSBpbiB0aGUgY29tcG9uZW50IGZpbGUgd291bGQgb3RoZXJ3aXNlIGNyZWF0ZSBhblxuICogaW1wb3J0IGN5Y2xlLlxuICpcbiAqIFNlZSBbdGhpcyBleHBsYW5hdGlvbl0oaHR0cHM6Ly9oYWNrbWQuaW8vT2R3ODBEMHBSNnlmc09qZ183WENKZz92aWV3KSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzZXRDb21wb25lbnRTY29wZSh0eXBlLCBkaXJlY3RpdmVzLCBwaXBlcykge1xuICAgIGNvbnN0IGRlZiA9IHR5cGUuybVjbXA7XG4gICAgZGVmLmRpcmVjdGl2ZURlZnMgPSAoKSA9PiBkaXJlY3RpdmVzLm1hcChleHRyYWN0RGlyZWN0aXZlRGVmKTtcbiAgICBkZWYucGlwZURlZnMgPSAoKSA9PiBwaXBlcy5tYXAoZXh0cmFjdFBpcGVEZWYpO1xufVxuZnVuY3Rpb24gZXh0cmFjdERpcmVjdGl2ZURlZih0eXBlKSB7XG4gICAgY29uc3QgZGVmID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKTtcbiAgICBpZiAobmdEZXZNb2RlICYmICFkZWYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHt0eXBlLm5hbWV9JyBpcyBuZWl0aGVyICdDb21wb25lbnRUeXBlJyBvciAnRGlyZWN0aXZlVHlwZScuYCk7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBleHRyYWN0UGlwZURlZih0eXBlKSB7XG4gICAgY29uc3QgZGVmID0gZ2V0UGlwZURlZiQxKHR5cGUpO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIWRlZikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3R5cGUubmFtZX0nIGlzIG5vdCBhICdQaXBlVHlwZScuYCk7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG5jb25zdCBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkID0ge307XG4vKipcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVOZ01vZHVsZShkZWYpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IGRlZi50eXBlLFxuICAgICAgICAgICAgYm9vdHN0cmFwOiBkZWYuYm9vdHN0cmFwIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWYuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgaW1wb3J0czogZGVmLmltcG9ydHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBleHBvcnRzOiBkZWYuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOiBudWxsLFxuICAgICAgICAgICAgc2NoZW1hczogZGVmLnNjaGVtYXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGlkOiBkZWYuaWQgfHwgbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlZi5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkW2RlZi5pZF0gPSBkZWYudHlwZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xufVxuLyoqXG4gKiBBZGRzIHRoZSBtb2R1bGUgbWV0YWRhdGEgdGhhdCBpcyBuZWNlc3NhcnkgdG8gY29tcHV0ZSB0aGUgbW9kdWxlJ3MgdHJhbnNpdGl2ZSBzY29wZSB0byBhblxuICogZXhpc3RpbmcgbW9kdWxlIGRlZmluaXRpb24uXG4gKlxuICogU2NvcGUgbWV0YWRhdGEgb2YgbW9kdWxlcyBpcyBub3QgdXNlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcywgc28gY2FsbHMgdG8gdGhpcyBmdW5jdGlvbiBjYW4gYmVcbiAqIG1hcmtlZCBwdXJlIHRvIHRyZWUtc2hha2UgaXQgZnJvbSB0aGUgYnVuZGxlLCBhbGxvd2luZyBmb3IgYWxsIHJlZmVyZW5jZWQgZGVjbGFyYXRpb25zXG4gKiB0byBiZWNvbWUgZWxpZ2libGUgZm9yIHRyZWUtc2hha2luZyBhcyB3ZWxsLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzZXROZ01vZHVsZVNjb3BlKHR5cGUsIHNjb3BlKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKHR5cGUsIHRydWUpO1xuICAgICAgICBuZ01vZHVsZURlZi5kZWNsYXJhdGlvbnMgPSBzY29wZS5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVk7XG4gICAgICAgIG5nTW9kdWxlRGVmLmltcG9ydHMgPSBzY29wZS5pbXBvcnRzIHx8IEVNUFRZX0FSUkFZO1xuICAgICAgICBuZ01vZHVsZURlZi5leHBvcnRzID0gc2NvcGUuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWTtcbiAgICB9KTtcbn1cbi8qKlxuICogSW52ZXJ0cyBhbiBpbnB1dHMgb3Igb3V0cHV0cyBsb29rdXAgc3VjaCB0aGF0IHRoZSBrZXlzLCB3aGljaCB3ZXJlIHRoZVxuICogbWluaWZpZWQga2V5cywgYXJlIHBhcnQgb2YgdGhlIHZhbHVlcywgYW5kIHRoZSB2YWx1ZXMgYXJlIHBhcnNlZCBzbyB0aGF0XG4gKiB0aGUgcHVibGljTmFtZSBvZiB0aGUgcHJvcGVydHkgaXMgdGhlIG5ldyBrZXlcbiAqXG4gKiBlLmcuIGZvclxuICpcbiAqIGBgYFxuICogY2xhc3MgQ29tcCB7XG4gKiAgIEBJbnB1dCgpXG4gKiAgIHByb3BOYW1lMTogc3RyaW5nO1xuICpcbiAqICAgQElucHV0KCdwdWJsaWNOYW1lMicpXG4gKiAgIGRlY2xhcmVkUHJvcE5hbWUyOiBudW1iZXI7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB3aWxsIGJlIHNlcmlhbGl6ZWQgYXNcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAgcHJvcE5hbWUxOiAncHJvcE5hbWUxJyxcbiAqICAgZGVjbGFyZWRQcm9wTmFtZTI6IFsncHVibGljTmFtZTInLCAnZGVjbGFyZWRQcm9wTmFtZTInXSxcbiAqIH1cbiAqIGBgYFxuICpcbiAqIHdoaWNoIGlzIHRoYW4gdHJhbnNsYXRlZCBieSB0aGUgbWluaWZpZXIgYXM6XG4gKlxuICogYGBgXG4gKiB7XG4gKiAgIG1pbmlmaWVkUHJvcE5hbWUxOiAncHJvcE5hbWUxJyxcbiAqICAgbWluaWZpZWRQcm9wTmFtZTI6IFsncHVibGljTmFtZTInLCAnZGVjbGFyZWRQcm9wTmFtZTInXSxcbiAqIH1cbiAqIGBgYFxuICpcbiAqIGJlY29tZXM6IChwdWJsaWMgbmFtZSA9PiBtaW5pZmllZE5hbWUpXG4gKlxuICogYGBgXG4gKiB7XG4gKiAgJ3Byb3BOYW1lMSc6ICdtaW5pZmllZFByb3BOYW1lMScsXG4gKiAgJ3B1YmxpY05hbWUyJzogJ21pbmlmaWVkUHJvcE5hbWUyJyxcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE9wdGlvbmFsbHkgdGhlIGZ1bmN0aW9uIGNhbiB0YWtlIGBzZWNvbmRhcnlgIHdoaWNoIHdpbGwgcmVzdWx0IGluOiAocHVibGljIG5hbWUgPT4gZGVjbGFyZWQgbmFtZSlcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAncHJvcE5hbWUxJzogJ3Byb3BOYW1lMScsXG4gKiAgJ3B1YmxpY05hbWUyJzogJ2RlY2xhcmVkUHJvcE5hbWUyJyxcbiAqIH1cbiAqIGBgYFxuICpcblxuICovXG5mdW5jdGlvbiBpbnZlcnRPYmplY3Qob2JqLCBzZWNvbmRhcnkpIHtcbiAgICBpZiAob2JqID09IG51bGwpXG4gICAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3TG9va3VwID0ge307XG4gICAgZm9yIChjb25zdCBtaW5pZmllZEtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShtaW5pZmllZEtleSkpIHtcbiAgICAgICAgICAgIGxldCBwdWJsaWNOYW1lID0gb2JqW21pbmlmaWVkS2V5XTtcbiAgICAgICAgICAgIGxldCBkZWNsYXJlZE5hbWUgPSBwdWJsaWNOYW1lO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHVibGljTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBkZWNsYXJlZE5hbWUgPSBwdWJsaWNOYW1lWzFdO1xuICAgICAgICAgICAgICAgIHB1YmxpY05hbWUgPSBwdWJsaWNOYW1lWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TG9va3VwW3B1YmxpY05hbWVdID0gbWluaWZpZWRLZXk7XG4gICAgICAgICAgICBpZiAoc2Vjb25kYXJ5KSB7XG4gICAgICAgICAgICAgICAgKHNlY29uZGFyeVtwdWJsaWNOYW1lXSA9IGRlY2xhcmVkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0xvb2t1cDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqICMgRXhhbXBsZVxuICogYGBgdHNcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgLy8gR2VuZXJhdGVkIGJ5IEFuZ3VsYXIgVGVtcGxhdGUgQ29tcGlsZXJcbiAqICAgLy8gW1N5bWJvbF0gc3ludGF4IHdpbGwgbm90IGJlIHN1cHBvcnRlZCBieSBUeXBlU2NyaXB0IHVudGlsIHYyLjdcbiAqICAgc3RhdGljIMm1ZGlyID0gybXJtWRlZmluZURpcmVjdGl2ZSh7XG4gKiAgICAgLi4uXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuY29uc3QgybXJtWRlZmluZURpcmVjdGl2ZSA9IMm1ybVkZWZpbmVDb21wb25lbnQ7XG4vKipcbiAqIENyZWF0ZSBhIHBpcGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIE15UGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICogICAvLyBHZW5lcmF0ZWQgYnkgQW5ndWxhciBUZW1wbGF0ZSBDb21waWxlclxuICogICBzdGF0aWMgybVwaXBlID0gZGVmaW5lUGlwZSh7XG4gKiAgICAgLi4uXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKiBAcGFyYW0gcGlwZURlZiBQaXBlIGRlZmluaXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlclxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVQaXBlKHBpcGVEZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwaXBlRGVmLnR5cGUsXG4gICAgICAgIG5hbWU6IHBpcGVEZWYubmFtZSxcbiAgICAgICAgZmFjdG9yeTogbnVsbCxcbiAgICAgICAgcHVyZTogcGlwZURlZi5wdXJlICE9PSBmYWxzZSxcbiAgICAgICAgb25EZXN0cm95OiBwaXBlRGVmLnR5cGUucHJvdG90eXBlLm5nT25EZXN0cm95IHx8IG51bGxcbiAgICB9O1xufVxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGdldHRlciBtZXRob2RzIHJldHJpZXZlIHRoZSBkZWZpbml0aW9uIGZyb20gdGhlIHR5cGUuIEN1cnJlbnRseSB0aGUgcmV0cmlldmFsXG4gKiBob25vcnMgaW5oZXJpdGFuY2UsIGJ1dCBpbiB0aGUgZnV0dXJlIHdlIG1heSBjaGFuZ2UgdGhlIHJ1bGUgdG8gcmVxdWlyZSB0aGF0IGRlZmluaXRpb25zIGFyZVxuICogZXhwbGljaXQuIFRoaXMgd291bGQgcmVxdWlyZSBzb21lIHNvcnQgb2YgbWlncmF0aW9uIHN0cmF0ZWd5LlxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnREZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX0NPTVBfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZVtOR19ESVJfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0UGlwZURlZiQxKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZVtOR19QSVBFX0RFRl0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldE5nTW9kdWxlRGVmKHR5cGUsIHRocm93Tm90Rm91bmQpIHtcbiAgICBjb25zdCBuZ01vZHVsZURlZiA9IHR5cGVbTkdfTU9EX0RFRl0gfHwgbnVsbDtcbiAgICBpZiAoIW5nTW9kdWxlRGVmICYmIHRocm93Tm90Rm91bmQgPT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlICR7c3RyaW5naWZ5KHR5cGUpfSBkb2VzIG5vdCBoYXZlICfJtW1vZCcgcHJvcGVydHkuYCk7XG4gICAgfVxuICAgIHJldHVybiBuZ01vZHVsZURlZjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBCZWxvdyBhcmUgY29uc3RhbnRzIGZvciBMVmlldyBpbmRpY2VzIHRvIGhlbHAgdXMgbG9vayB1cCBMVmlldyBtZW1iZXJzXG4vLyB3aXRob3V0IGhhdmluZyB0byByZW1lbWJlciB0aGUgc3BlY2lmaWMgaW5kaWNlcy5cbi8vIFVnbGlmeSB3aWxsIGlubGluZSB0aGVzZSB3aGVuIG1pbmlmeWluZyBzbyB0aGVyZSBzaG91bGRuJ3QgYmUgYSBjb3N0LlxuY29uc3QgSE9TVCA9IDA7XG5jb25zdCBUVklFVyA9IDE7XG5jb25zdCBGTEFHUyA9IDI7XG5jb25zdCBQQVJFTlQgPSAzO1xuY29uc3QgTkVYVCA9IDQ7XG5jb25zdCBUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSCA9IDU7XG5jb25zdCBUX0hPU1QgPSA2O1xuY29uc3QgQ0xFQU5VUCA9IDc7XG5jb25zdCBDT05URVhUID0gODtcbmNvbnN0IElOSkVDVE9SJDEgPSA5O1xuY29uc3QgUkVOREVSRVJfRkFDVE9SWSA9IDEwO1xuY29uc3QgUkVOREVSRVIgPSAxMTtcbmNvbnN0IFNBTklUSVpFUiA9IDEyO1xuY29uc3QgQ0hJTERfSEVBRCA9IDEzO1xuY29uc3QgQ0hJTERfVEFJTCA9IDE0O1xuLy8gRklYTUUobWlza28pOiBJbnZlc3RpZ2F0ZSBpZiB0aGUgdGhyZWUgZGVjbGFyYXRpb25zIGFyZW4ndCBhbGwgc2FtZSB0aGluZy5cbmNvbnN0IERFQ0xBUkFUSU9OX1ZJRVcgPSAxNTtcbmNvbnN0IERFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXID0gMTY7XG5jb25zdCBERUNMQVJBVElPTl9MQ09OVEFJTkVSID0gMTc7XG5jb25zdCBQUkVPUkRFUl9IT09LX0ZMQUdTID0gMTg7XG5jb25zdCBRVUVSSUVTID0gMTk7XG4vKipcbiAqIFNpemUgb2YgTFZpZXcncyBoZWFkZXIuIE5lY2Vzc2FyeSB0byBhZGp1c3QgZm9yIGl0IHdoZW4gc2V0dGluZyBzbG90cy5cbiAqXG4gKiBJTVBPUlRBTlQ6IGBIRUFERVJfT0ZGU0VUYCBzaG91bGQgb25seSBiZSByZWZlcnJlZCB0byB0aGUgaW4gdGhlIGDJtcm1KmAgaW5zdHJ1Y3Rpb25zIHRvIHRyYW5zbGF0ZVxuICogaW5zdHJ1Y3Rpb24gaW5kZXggaW50byBgTFZpZXdgIGluZGV4LiBBbGwgb3RoZXIgaW5kZXhlcyBzaG91bGQgYmUgaW4gdGhlIGBMVmlld2AgaW5kZXggc3BhY2UgYW5kXG4gKiB0aGVyZSBzaG91bGQgYmUgbm8gbmVlZCB0byByZWZlciB0byBgSEVBREVSX09GRlNFVGAgYW55d2hlcmUgZWxzZS5cbiAqL1xuY29uc3QgSEVBREVSX09GRlNFVCA9IDIwO1xuLyoqXG4gKiBDb252ZXJ0cyBgVFZpZXdUeXBlYCBpbnRvIGh1bWFuIHJlYWRhYmxlIHRleHQuXG4gKiBNYWtlIHN1cmUgdGhpcyBtYXRjaGVzIHdpdGggYFRWaWV3VHlwZWBcbiAqL1xuY29uc3QgVFZpZXdUeXBlQXNTdHJpbmcgPSBbXG4gICAgJ1Jvb3QnLFxuICAgICdDb21wb25lbnQnLFxuICAgICdFbWJlZGRlZCcsIC8vIDJcbl07XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ4ID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFNwZWNpYWwgbG9jYXRpb24gd2hpY2ggYWxsb3dzIGVhc3kgaWRlbnRpZmljYXRpb24gb2YgdHlwZS4gSWYgd2UgaGF2ZSBhbiBhcnJheSB3aGljaCB3YXNcbiAqIHJldHJpZXZlZCBmcm9tIHRoZSBgTFZpZXdgIGFuZCB0aGF0IGFycmF5IGhhcyBgdHJ1ZWAgYXQgYFRZUEVgIGxvY2F0aW9uLCB3ZSBrbm93IGl0IGlzXG4gKiBgTENvbnRhaW5lcmAuXG4gKi9cbmNvbnN0IFRZUEUgPSAxO1xuLyoqXG4gKiBCZWxvdyBhcmUgY29uc3RhbnRzIGZvciBMQ29udGFpbmVyIGluZGljZXMgdG8gaGVscCB1cyBsb29rIHVwIExDb250YWluZXIgbWVtYmVyc1xuICogd2l0aG91dCBoYXZpbmcgdG8gcmVtZW1iZXIgdGhlIHNwZWNpZmljIGluZGljZXMuXG4gKiBVZ2xpZnkgd2lsbCBpbmxpbmUgdGhlc2Ugd2hlbiBtaW5pZnlpbmcgc28gdGhlcmUgc2hvdWxkbid0IGJlIGEgY29zdC5cbiAqL1xuLyoqXG4gKiBGbGFnIHRvIHNpZ25pZnkgdGhhdCB0aGlzIGBMQ29udGFpbmVyYCBtYXkgaGF2ZSB0cmFuc3BsYW50ZWQgdmlld3Mgd2hpY2ggbmVlZCB0byBiZSBjaGFuZ2VcbiAqIGRldGVjdGVkLiAoc2VlOiBgTFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddKWAuXG4gKlxuICogVGhpcyBmbGFnLCBvbmNlIHNldCwgaXMgbmV2ZXIgdW5zZXQgZm9yIHRoZSBgTENvbnRhaW5lcmAuIFRoaXMgbWVhbnMgdGhhdCB3aGVuIHVuc2V0IHdlIGNhbiBza2lwXG4gKiBhIGxvdCBvZiB3b3JrIGluIGByZWZyZXNoRW1iZWRkZWRWaWV3c2AuIEJ1dCB3aGVuIHNldCB3ZSBzdGlsbCBuZWVkIHRvIHZlcmlmeVxuICogdGhhdCB0aGUgYE1PVkVEX1ZJRVdTYCBhcmUgdHJhbnNwbGFudGVkIGFuZCBvbi1wdXNoLlxuICovXG5jb25zdCBIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTID0gMjtcbi8vIFBBUkVOVCwgTkVYVCwgVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0ggYXJlIGluZGljZXMgMywgNCwgYW5kIDVcbi8vIEFzIHdlIGFscmVhZHkgaGF2ZSB0aGVzZSBjb25zdGFudHMgaW4gTFZpZXcsIHdlIGRvbid0IG5lZWQgdG8gcmUtY3JlYXRlIHRoZW0uXG4vLyBUX0hPU1QgaXMgaW5kZXggNlxuLy8gV2UgYWxyZWFkeSBoYXZlIHRoaXMgY29uc3RhbnRzIGluIExWaWV3LCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNyZWF0ZSBpdC5cbmNvbnN0IE5BVElWRSA9IDc7XG5jb25zdCBWSUVXX1JFRlMgPSA4O1xuY29uc3QgTU9WRURfVklFV1MgPSA5O1xuLyoqXG4gKiBTaXplIG9mIExDb250YWluZXIncyBoZWFkZXIuIFJlcHJlc2VudHMgdGhlIGluZGV4IGFmdGVyIHdoaWNoIGFsbCB2aWV3cyBpbiB0aGVcbiAqIGNvbnRhaW5lciB3aWxsIGJlIGluc2VydGVkLiBXZSBuZWVkIHRvIGtlZXAgYSByZWNvcmQgb2YgY3VycmVudCB2aWV3cyBzbyB3ZSBrbm93XG4gKiB3aGljaCB2aWV3cyBhcmUgYWxyZWFkeSBpbiB0aGUgRE9NIChhbmQgZG9uJ3QgbmVlZCB0byBiZSByZS1hZGRlZCkgYW5kIHNvIHdlIGNhblxuICogcmVtb3ZlIHZpZXdzIGZyb20gdGhlIERPTSB3aGVuIHRoZXkgYXJlIG5vIGxvbmdlciByZXF1aXJlZC5cbiAqL1xuY29uc3QgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgPSAxMDtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDcgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVHJ1ZSBpZiBgdmFsdWVgIGlzIGBMVmlld2AuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gaXNMVmlldyh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWVbVFlQRV0gPT09ICdvYmplY3QnO1xufVxuLyoqXG4gKiBUcnVlIGlmIGB2YWx1ZWAgaXMgYExDb250YWluZXJgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIGlzTENvbnRhaW5lcih2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZVtUWVBFXSA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLykgIT09IDA7XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pID09PSAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLztcbn1cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLykgPT09IDEgLyogaXNEaXJlY3RpdmVIb3N0ICovO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnREZWYoZGVmKSB7XG4gICAgcmV0dXJuIGRlZi50ZW1wbGF0ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUm9vdFZpZXcodGFyZ2V0KSB7XG4gICAgcmV0dXJuICh0YXJnZXRbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLykgIT09IDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gW0Fzc2VydCBmdW5jdGlvbnMgZG8gbm90IGNvbnN0cmFpbnQgdHlwZSB3aGVuIHRoZXkgYXJlIGd1YXJkZWQgYnkgYSB0cnV0aHlcbi8vIGV4cHJlc3Npb24uXShodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM3Mjk1KVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpIHtcbiAgICBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBsVmlld1tUVklFV10pO1xufVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgdFZpZXcpIHtcbiAgICBhc3NlcnRUTm9kZSh0Tm9kZSk7XG4gICAgdE5vZGUuaGFzT3duUHJvcGVydHkoJ3RWaWV3XycpICYmXG4gICAgICAgIGFzc2VydEVxdWFsKHROb2RlLnRWaWV3XywgdFZpZXcsICdUaGlzIFROb2RlIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIFRWaWV3LicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGUodE5vZGUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKCEodE5vZGUgJiYgdHlwZW9mIHROb2RlID09PSAnb2JqZWN0JyAmJiB0Tm9kZS5oYXNPd25Qcm9wZXJ0eSgnZGlyZWN0aXZlU3R5bGluZ0xhc3QnKSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcignTm90IG9mIHR5cGUgVE5vZGUsIGdvdDogJyArIHROb2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRUSWN1KHRJY3UpIHtcbiAgICBhc3NlcnREZWZpbmVkKHRJY3UsICdFeHBlY3RlZCBUSWN1IHRvIGJlIGRlZmluZWQnKTtcbiAgICBpZiAoISh0eXBlb2YgdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXggPT09ICdudW1iZXInKSkge1xuICAgICAgICB0aHJvd0Vycm9yKCdPYmplY3QgaXMgbm90IG9mIFRJY3UgdHlwZS4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDb21wb25lbnRUeXBlKGFjdHVhbCwgbXNnID0gJ1R5cGUgcGFzc2VkIGluIGlzIG5vdCBDb21wb25lbnRUeXBlLCBpdCBkb2VzIG5vdCBoYXZlIFxcJ8m1Y21wXFwnIHByb3BlcnR5LicpIHtcbiAgICBpZiAoIWdldENvbXBvbmVudERlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROZ01vZHVsZVR5cGUoYWN0dWFsLCBtc2cgPSAnVHlwZSBwYXNzZWQgaW4gaXMgbm90IE5nTW9kdWxlVHlwZSwgaXQgZG9lcyBub3QgaGF2ZSBcXCfJtW1vZFxcJyBwcm9wZXJ0eS4nKSB7XG4gICAgaWYgKCFnZXROZ01vZHVsZURlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDdXJyZW50VE5vZGVJc1BhcmVudChpc1BhcmVudCkge1xuICAgIGFzc2VydEVxdWFsKGlzUGFyZW50LCB0cnVlLCAnY3VycmVudFROb2RlIHNob3VsZCBiZSBhIHBhcmVudCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0SGFzUGFyZW50KHROb2RlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ2N1cnJlbnRUTm9kZSBzaG91bGQgZXhpc3QhJyk7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZS5wYXJlbnQsICdjdXJyZW50VE5vZGUgc2hvdWxkIGhhdmUgYSBwYXJlbnQnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydERhdGFOZXh0KGxWaWV3LCBpbmRleCwgYXJyKSB7XG4gICAgaWYgKGFyciA9PSBudWxsKVxuICAgICAgICBhcnIgPSBsVmlldztcbiAgICBhc3NlcnRFcXVhbChhcnIubGVuZ3RoLCBpbmRleCwgYGluZGV4ICR7aW5kZXh9IGV4cGVjdGVkIHRvIGJlIGF0IHRoZSBlbmQgb2YgYXJyIChsZW5ndGggJHthcnIubGVuZ3RofSlgKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExDb250YWluZXIodmFsdWUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCAnTENvbnRhaW5lciBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBhc3NlcnRFcXVhbChpc0xDb250YWluZXIodmFsdWUpLCB0cnVlLCAnRXhwZWN0aW5nIExDb250YWluZXInKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExWaWV3T3JVbmRlZmluZWQodmFsdWUpIHtcbiAgICB2YWx1ZSAmJiBhc3NlcnRFcXVhbChpc0xWaWV3KHZhbHVlKSwgdHJ1ZSwgJ0V4cGVjdGluZyBMVmlldyBvciB1bmRlZmluZWQgb3IgbnVsbCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0TFZpZXcodmFsdWUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCAnTFZpZXcgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgYXNzZXJ0RXF1YWwoaXNMVmlldyh2YWx1ZSksIHRydWUsICdFeHBlY3RpbmcgTFZpZXcnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydEVxdWFsKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcywgdHJ1ZSwgZXJyTWVzc2FnZSB8fCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IGNyZWF0ZSBwYXNzLicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBlcnJNZXNzYWdlKSB7XG4gICAgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RVcGRhdGVQYXNzLCB0cnVlLCBlcnJNZXNzYWdlIHx8ICdTaG91bGQgb25seSBiZSBjYWxsZWQgaW4gZmlyc3QgdXBkYXRlIHBhc3MuJyk7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBzYW5pdHkgY2hlY2sgdGhhdCBhbiBvYmplY3QgaXMgcHJvYmFibHkgYSBkaXJlY3RpdmUgZGVmLiBEaXJlY3RpdmVEZWYgaXNcbiAqIGFuIGludGVyZmFjZSwgc28gd2UgY2FuJ3QgZG8gYSBkaXJlY3QgaW5zdGFuY2VvZiBjaGVjay5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0RGlyZWN0aXZlRGVmKG9iaikge1xuICAgIGlmIChvYmoudHlwZSA9PT0gdW5kZWZpbmVkIHx8IG9iai5zZWxlY3RvcnMgPT0gdW5kZWZpbmVkIHx8IG9iai5pbnB1dHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCBhIERpcmVjdGl2ZURlZi9Db21wb25lbnREZWYgYW5kIHRoaXMgb2JqZWN0IGRvZXMgbm90IHNlZW0gdG8gaGF2ZSB0aGUgZXhwZWN0ZWQgc2hhcGUuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZShsVmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3WzFdO1xuICAgIGFzc2VydEJldHdlZW4oSEVBREVSX09GRlNFVCwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5WYXJzUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCB0Vmlldy5leHBhbmRvU3RhcnRJbmRleCwgaW5kZXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3WzFdO1xuICAgIGFzc2VydEJldHdlZW4odFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIGxWaWV3Lmxlbmd0aCwgaW5kZXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0QmV0d2Vlbihsb3dlciwgdXBwZXIsIGluZGV4KSB7XG4gICAgaWYgKCEobG93ZXIgPD0gaW5kZXggJiYgaW5kZXggPCB1cHBlcikpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgSW5kZXggb3V0IG9mIHJhbmdlIChleHBlY3RpbmcgJHtsb3dlcn0gPD0gJHtpbmRleH0gPCAke3VwcGVyfSlgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRQcm9qZWN0aW9uU2xvdHMobFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSwgJ0NvbXBvbmVudCB2aWV3cyBzaG91bGQgZXhpc3QuJyk7XG4gICAgYXNzZXJ0RGVmaW5lZChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV11bVF9IT1NUXS5wcm9qZWN0aW9uLCBlcnJNZXNzYWdlIHx8XG4gICAgICAgICdDb21wb25lbnRzIHdpdGggcHJvamVjdGlvbiBub2RlcyAoPG5nLWNvbnRlbnQ+KSBtdXN0IGhhdmUgcHJvamVjdGlvbiBzbG90cyBkZWZpbmVkLicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0UGFyZW50VmlldyhsVmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydERlZmluZWQobFZpZXcsIGVyck1lc3NhZ2UgfHwgJ0NvbXBvbmVudCB2aWV3cyBzaG91bGQgYWx3YXlzIGhhdmUgYSBwYXJlbnQgdmlldyAoY29tcG9uZW50XFwncyBob3N0IHZpZXcpJyk7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBzYW5pdHkgY2hlY2sgdGhhdCB0aGUgYGluamVjdG9ySW5kZXhgIHNlZW1zIHRvIHBvaW50IHRvIHdoYXQgbG9va3MgbGlrZSBhXG4gKiBOb2RlSW5qZWN0b3IgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2Agd2hpY2ggc2hvdWxkIGJlIGNoZWNrZWQuXG4gKiBAcGFyYW0gaW5qZWN0b3JJbmRleCBpbmRleCBpbnRvIHRoZSBgTFZpZXdgIHdoZXJlIHRoZSBgTm9kZUluamVjdG9yYCBpcyBleHBlY3RlZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KSB7XG4gICAgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDBdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDFdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDJdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDNdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDRdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDVdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDZdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDddLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIHBhcmVudCBpbmplY3RvcicpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldEZhY3RvcnlEZWYodHlwZSwgdGhyb3dOb3RGb3VuZCkge1xuICAgIGNvbnN0IGhhc0ZhY3RvcnlEZWYgPSB0eXBlLmhhc093blByb3BlcnR5KE5HX0ZBQ1RPUllfREVGKTtcbiAgICBpZiAoIWhhc0ZhY3RvcnlEZWYgJiYgdGhyb3dOb3RGb3VuZCA9PT0gdHJ1ZSAmJiBuZ0Rldk1vZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlICR7c3RyaW5naWZ5KHR5cGUpfSBkb2VzIG5vdCBoYXZlICfJtWZhYycgcHJvcGVydHkuYCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNGYWN0b3J5RGVmID8gdHlwZVtOR19GQUNUT1JZX0RFRl0gOiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGJhc2ljIGNoYW5nZSBmcm9tIGEgcHJldmlvdXMgdG8gYSBuZXcgdmFsdWUgZm9yIGEgc2luZ2xlXG4gKiBwcm9wZXJ0eSBvbiBhIGRpcmVjdGl2ZSBpbnN0YW5jZS4gUGFzc2VkIGFzIGEgdmFsdWUgaW4gYVxuICoge0BsaW5rIFNpbXBsZUNoYW5nZXN9IG9iamVjdCB0byB0aGUgYG5nT25DaGFuZ2VzYCBob29rLlxuICpcbiAqIEBzZWUgYE9uQ2hhbmdlc2BcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFNpbXBsZUNoYW5nZSB7XG4gICAgY29uc3RydWN0b3IocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBmaXJzdENoYW5nZSkge1xuICAgICAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1ZhbHVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgdGhpcy5maXJzdENoYW5nZSA9IGZpcnN0Q2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBuZXcgdmFsdWUgaXMgdGhlIGZpcnN0IHZhbHVlIGFzc2lnbmVkLlxuICAgICAqL1xuICAgIGlzRmlyc3RDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hhbmdlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBOZ09uQ2hhbmdlc0ZlYXR1cmUgZGVjb3JhdGVzIGEgY29tcG9uZW50IHdpdGggc3VwcG9ydCBmb3IgdGhlIG5nT25DaGFuZ2VzXG4gKiBsaWZlY3ljbGUgaG9vaywgc28gaXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGFueSBjb21wb25lbnQgdGhhdCBpbXBsZW1lbnRzXG4gKiB0aGF0IGhvb2suXG4gKlxuICogSWYgdGhlIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgdXNlcyBpbmhlcml0YW5jZSwgdGhlIE5nT25DaGFuZ2VzRmVhdHVyZSBNVVNUXG4gKiBiZSBpbmNsdWRlZCBhcyBhIGZlYXR1cmUgQUZURVIge0BsaW5rIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZX0sIG90aGVyd2lzZVxuICogaW5oZXJpdGVkIHByb3BlcnRpZXMgd2lsbCBub3QgYmUgcHJvcGFnYXRlZCB0byB0aGUgbmdPbkNoYW5nZXMgbGlmZWN5Y2xlXG4gKiBob29rLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKlxuICogYGBgXG4gKiBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAuLi5cbiAqICAgaW5wdXRzOiB7bmFtZTogJ3B1YmxpY05hbWUnfSxcbiAqICAgZmVhdHVyZXM6IFtOZ09uQ2hhbmdlc0ZlYXR1cmVdXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUoKSB7XG4gICAgcmV0dXJuIE5nT25DaGFuZ2VzRmVhdHVyZUltcGw7XG59XG5mdW5jdGlvbiBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsKGRlZmluaXRpb24pIHtcbiAgICBpZiAoZGVmaW5pdGlvbi50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcykge1xuICAgICAgICBkZWZpbml0aW9uLnNldElucHV0ID0gbmdPbkNoYW5nZXNTZXRJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbWVtYmVyQ2hhbmdlSGlzdG9yeUFuZEludm9rZU9uQ2hhbmdlc0hvb2s7XG59XG4vLyBUaGlzIG9wdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG5nT25DaGFuZ2VzIGxpZmVjeWNsZSBob29rIHdpbGwgYmUgaW5oZXJpdGVkXG4vLyBmcm9tIHN1cGVyY2xhc3NlcyAoaW4gSW5oZXJpdERlZmluaXRpb25GZWF0dXJlKS5cbi8qKiBAbm9jb2xsYXBzZSAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuybXJtU5nT25DaGFuZ2VzRmVhdHVyZS5uZ0luaGVyaXQgPSB0cnVlO1xuLyoqXG4gKiBUaGlzIGlzIGEgc3ludGhldGljIGxpZmVjeWNsZSBob29rIHdoaWNoIGdldHMgaW5zZXJ0ZWQgaW50byBgVFZpZXcucHJlT3JkZXJIb29rc2AgdG8gc2ltdWxhdGVcbiAqIGBuZ09uQ2hhbmdlc2AuXG4gKlxuICogVGhlIGhvb2sgcmVhZHMgdGhlIGBOZ1NpbXBsZUNoYW5nZXNTdG9yZWAgZGF0YSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIGlmIGNoYW5nZXMgYXJlXG4gKiBmb3VuZCBpdCBpbnZva2VzIGBuZ09uQ2hhbmdlc2Agb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdGhpcyBDb21wb25lbnQgaW5zdGFuY2UuIEJlY2F1c2UgdGhpcyBmdW5jdGlvbiBnZXRzIGluc2VydGVkIGludG8gYFRWaWV3LnByZU9yZGVySG9va3NgLFxuICogICAgIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIHdpdGggY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiByZW1lbWJlckNoYW5nZUhpc3RvcnlBbmRJbnZva2VPbkNoYW5nZXNIb29rKCkge1xuICAgIGNvbnN0IHNpbXBsZUNoYW5nZXNTdG9yZSA9IGdldFNpbXBsZUNoYW5nZXNTdG9yZSh0aGlzKTtcbiAgICBjb25zdCBjdXJyZW50ID0gc2ltcGxlQ2hhbmdlc1N0b3JlPy5jdXJyZW50O1xuICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gc2ltcGxlQ2hhbmdlc1N0b3JlLnByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMgPT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgc2ltcGxlQ2hhbmdlc1N0b3JlLnByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5ldyBjaGFuZ2VzIGFyZSBjb3BpZWQgdG8gdGhlIHByZXZpb3VzIHN0b3JlLCBzbyB0aGF0IHdlIGRvbid0IGxvc2UgaGlzdG9yeSBmb3IgaW5wdXRzXG4gICAgICAgICAgICAvLyB3aGljaCB3ZXJlIG5vdCBjaGFuZ2VkIHRoaXMgdGltZVxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1trZXldID0gY3VycmVudFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNpbXBsZUNoYW5nZXNTdG9yZS5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZ09uQ2hhbmdlcyhjdXJyZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZ09uQ2hhbmdlc1NldElucHV0KGluc3RhbmNlLCB2YWx1ZSwgcHVibGljTmFtZSwgcHJpdmF0ZU5hbWUpIHtcbiAgICBjb25zdCBzaW1wbGVDaGFuZ2VzU3RvcmUgPSBnZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UpIHx8XG4gICAgICAgIHNldFNpbXBsZUNoYW5nZXNTdG9yZShpbnN0YW5jZSwgeyBwcmV2aW91czogRU1QVFlfT0JKLCBjdXJyZW50OiBudWxsIH0pO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBzaW1wbGVDaGFuZ2VzU3RvcmUuY3VycmVudCB8fCAoc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQgPSB7fSk7XG4gICAgY29uc3QgcHJldmlvdXMgPSBzaW1wbGVDaGFuZ2VzU3RvcmUucHJldmlvdXM7XG4gICAgY29uc3QgZGVjbGFyZWROYW1lID0gdGhpcy5kZWNsYXJlZElucHV0c1twdWJsaWNOYW1lXTtcbiAgICBjb25zdCBwcmV2aW91c0NoYW5nZSA9IHByZXZpb3VzW2RlY2xhcmVkTmFtZV07XG4gICAgY3VycmVudFtkZWNsYXJlZE5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShwcmV2aW91c0NoYW5nZSAmJiBwcmV2aW91c0NoYW5nZS5jdXJyZW50VmFsdWUsIHZhbHVlLCBwcmV2aW91cyA9PT0gRU1QVFlfT0JKKTtcbiAgICBpbnN0YW5jZVtwcml2YXRlTmFtZV0gPSB2YWx1ZTtcbn1cbmNvbnN0IFNJTVBMRV9DSEFOR0VTX1NUT1JFID0gJ19fbmdTaW1wbGVDaGFuZ2VzX18nO1xuZnVuY3Rpb24gZ2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlW1NJTVBMRV9DSEFOR0VTX1NUT1JFXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gc2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlLCBzdG9yZSkge1xuICAgIHJldHVybiBpbnN0YW5jZVtTSU1QTEVfQ0hBTkdFU19TVE9SRV0gPSBzdG9yZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgcHJvZmlsZXJDYWxsYmFjayA9IG51bGw7XG4vKipcbiAqIFNldHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgaW52b2tlZCBiZWZvcmUgYW5kIGFmdGVyIHBlcmZvcm1pbmcgY2VydGFpbiBhY3Rpb25zIGF0XG4gKiBydW50aW1lIChmb3IgZXhhbXBsZSwgYmVmb3JlIGFuZCBhZnRlciBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24pLlxuICpcbiAqIFdhcm5pbmc6IHRoaXMgZnVuY3Rpb24gaXMgKklOVEVSTkFMKiBhbmQgc2hvdWxkIG5vdCBiZSByZWxpZWQgdXBvbiBpbiBhcHBsaWNhdGlvbidzIGNvZGUuXG4gKiBUaGUgY29udHJhY3Qgb2YgdGhlIGZ1bmN0aW9uIG1pZ2h0IGJlIGNoYW5nZWQgaW4gYW55IHJlbGVhc2UgYW5kL29yIHRoZSBmdW5jdGlvbiBjYW4gYmUgcmVtb3ZlZFxuICogY29tcGxldGVseS5cbiAqXG4gKiBAcGFyYW0gcHJvZmlsZXIgZnVuY3Rpb24gcHJvdmlkZWQgYnkgdGhlIGNhbGxlciBvciBudWxsIHZhbHVlIHRvIGRpc2FibGUgcHJvZmlsaW5nLlxuICovXG5jb25zdCBzZXRQcm9maWxlciA9IChwcm9maWxlcikgPT4ge1xuICAgIHByb2ZpbGVyQ2FsbGJhY2sgPSBwcm9maWxlcjtcbn07XG4vKipcbiAqIFByb2ZpbGVyIGZ1bmN0aW9uIHdoaWNoIHdyYXBzIHVzZXIgY29kZSBleGVjdXRlZCBieSB0aGUgcnVudGltZS5cbiAqXG4gKiBAcGFyYW0gZXZlbnQgUHJvZmlsZXJFdmVudCBjb3JyZXNwb25kaW5nIHRvIHRoZSBleGVjdXRpb24gY29udGV4dFxuICogQHBhcmFtIGluc3RhbmNlIGNvbXBvbmVudCBpbnN0YW5jZVxuICogQHBhcmFtIGhvb2tPckxpc3RlbmVyIGxpZmVjeWNsZSBob29rIGZ1bmN0aW9uIG9yIG91dHB1dCBsaXN0ZW5lci4gVGhlIHZhbHVlIGRlcGVuZHMgb24gdGhlXG4gKiAgZXhlY3V0aW9uIGNvbnRleHRcbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IHByb2ZpbGVyID0gZnVuY3Rpb24gKGV2ZW50LCBpbnN0YW5jZSwgaG9va09yTGlzdGVuZXIpIHtcbiAgICBpZiAocHJvZmlsZXJDYWxsYmFjayAhPSBudWxsIC8qIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYCAqLykge1xuICAgICAgICBwcm9maWxlckNhbGxiYWNrKGV2ZW50LCBpbnN0YW5jZSwgaG9va09yTGlzdGVuZXIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgU1ZHX05BTUVTUEFDRSA9ICdzdmcnO1xuY29uc3QgU1ZHX05BTUVTUEFDRV9VUkkgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgTUFUSF9NTF9OQU1FU1BBQ0UgPSAnbWF0aCc7XG5jb25zdCBNQVRIX01MX05BTUVTUEFDRV9VUkkgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvJztcbmZ1bmN0aW9uIGdldE5hbWVzcGFjZVVyaShuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBuYW1lID0gbmFtZXNwYWNlLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5hbWUgPT09IFNWR19OQU1FU1BBQ0UgPyBTVkdfTkFNRVNQQUNFX1VSSSA6XG4gICAgICAgIChuYW1lID09PSBNQVRIX01MX05BTUVTUEFDRSA/IE1BVEhfTUxfTkFNRVNQQUNFX1VSSSA6IG51bGwpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTW9zdCBvZiB0aGUgdXNlIG9mIGBkb2N1bWVudGAgaW4gQW5ndWxhciBpcyBmcm9tIHdpdGhpbiB0aGUgREkgc3lzdGVtIHNvIGl0IGlzIHBvc3NpYmxlIHRvIHNpbXBseVxuICogaW5qZWN0IHRoZSBgRE9DVU1FTlRgIHRva2VuIGFuZCBhcmUgZG9uZS5cbiAqXG4gKiBJdnkgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGRvZXMgbm90IHJlbHkgdXBvbiB0aGUgREkgYW5kIG11c3QgZ2V0IGhvbGQgb2YgdGhlIGRvY3VtZW50IHNvbWUgb3RoZXJcbiAqIHdheS5cbiAqXG4gKiBUaGUgc29sdXRpb24gaXMgdG8gZGVmaW5lIGBnZXREb2N1bWVudCgpYCBhbmQgYHNldERvY3VtZW50KClgIHRvcC1sZXZlbCBmdW5jdGlvbnMgZm9yIGl2eS5cbiAqIFdoZXJldmVyIGl2eSBuZWVkcyB0aGUgZ2xvYmFsIGRvY3VtZW50LCBpdCBjYWxscyBgZ2V0RG9jdW1lbnQoKWAgaW5zdGVhZC5cbiAqXG4gKiBXaGVuIHJ1bm5pbmcgaXZ5IG91dHNpZGUgb2YgYSBicm93c2VyIGVudmlyb25tZW50LCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbCBgc2V0RG9jdW1lbnQoKWAgdG9cbiAqIHRlbGwgaXZ5IHdoYXQgdGhlIGdsb2JhbCBgZG9jdW1lbnRgIGlzLlxuICpcbiAqIEFuZ3VsYXIgZG9lcyB0aGlzIGZvciB1cyBpbiBlYWNoIG9mIHRoZSBzdGFuZGFyZCBwbGF0Zm9ybXMgKGBCcm93c2VyYCwgYFNlcnZlcmAsIGFuZCBgV2ViV29ya2VyYClcbiAqIGJ5IGNhbGxpbmcgYHNldERvY3VtZW50KClgIHdoZW4gcHJvdmlkaW5nIHRoZSBgRE9DVU1FTlRgIHRva2VuLlxuICovXG5sZXQgRE9DVU1FTlQgPSB1bmRlZmluZWQ7XG4vKipcbiAqIFRlbGwgaXZ5IHdoYXQgdGhlIGBkb2N1bWVudGAgaXMgZm9yIHRoaXMgcGxhdGZvcm0uXG4gKlxuICogSXQgaXMgb25seSBuZWNlc3NhcnkgdG8gY2FsbCB0aGlzIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIGlzIG5vdCBhIGJyb3dzZXIuXG4gKlxuICogQHBhcmFtIGRvY3VtZW50IFRoZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBnbG9iYWwgYGRvY3VtZW50YCBpbiB0aGlzIGVudmlyb25tZW50LlxuICovXG5mdW5jdGlvbiBzZXREb2N1bWVudChkb2N1bWVudCkge1xuICAgIERPQ1VNRU5UID0gZG9jdW1lbnQ7XG59XG4vKipcbiAqIEFjY2VzcyB0aGUgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgYGRvY3VtZW50YCBmb3IgdGhpcyBwbGF0Zm9ybS5cbiAqXG4gKiBJdnkgY2FsbHMgdGhpcyB3aGVuZXZlciBpdCBuZWVkcyB0byBhY2Nlc3MgdGhlIGBkb2N1bWVudGAgb2JqZWN0LlxuICogRm9yIGV4YW1wbGUgdG8gY3JlYXRlIHRoZSByZW5kZXJlciBvciB0byBkbyBzYW5pdGl6YXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICAgIGlmIChET0NVTUVOVCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBET0NVTUVOVDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxuICAgIC8vIE5vIFwiZG9jdW1lbnRcIiBjYW4gYmUgZm91bmQuIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHdlIGFyZSBydW5uaW5nIGl2eSBvdXRzaWRlIEFuZ3VsYXIgYW5kXG4gICAgLy8gdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgbm90IGEgYnJvd3Nlci4gU2luY2UgdGhpcyBpcyBub3QgYSBzdXBwb3J0ZWQgc2NlbmFyaW8gYXQgdGhlIG1vbWVudFxuICAgIC8vIHRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gaW4gQW5ndWxhciBhcHBzLlxuICAgIC8vIE9uY2Ugd2Ugc3VwcG9ydCBydW5uaW5nIGl2eSBvdXRzaWRlIG9mIEFuZ3VsYXIgd2Ugd2lsbCBuZWVkIHRvIHB1Ymxpc2ggYHNldERvY3VtZW50KClgIGFzIGFcbiAgICAvLyBwdWJsaWMgQVBJLiBNZWFud2hpbGUgd2UganVzdCByZXR1cm4gYHVuZGVmaW5lZGAgYW5kIGxldCB0aGUgYXBwbGljYXRpb24gZmFpbC5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE86IGNsZWFudXAgb25jZSB0aGUgY29kZSBpcyBtZXJnZWQgaW4gYW5ndWxhci9hbmd1bGFyXG52YXIgUmVuZGVyZXJTdHlsZUZsYWdzMztcbihmdW5jdGlvbiAoUmVuZGVyZXJTdHlsZUZsYWdzMykge1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczNbUmVuZGVyZXJTdHlsZUZsYWdzM1tcIkltcG9ydGFudFwiXSA9IDFdID0gXCJJbXBvcnRhbnRcIjtcbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MzW1JlbmRlcmVyU3R5bGVGbGFnczNbXCJEYXNoQ2FzZVwiXSA9IDJdID0gXCJEYXNoQ2FzZVwiO1xufSkoUmVuZGVyZXJTdHlsZUZsYWdzMyB8fCAoUmVuZGVyZXJTdHlsZUZsYWdzMyA9IHt9KSk7XG4vKiogUmV0dXJucyB3aGV0aGVyIHRoZSBgcmVuZGVyZXJgIGlzIGEgYFByb2NlZHVyYWxSZW5kZXJlcjNgICovXG5mdW5jdGlvbiBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikge1xuICAgIHJldHVybiAhIShyZW5kZXJlci5saXN0ZW4pO1xufVxuY29uc3QgZG9tUmVuZGVyZXJGYWN0b3J5MyA9IHtcbiAgICBjcmVhdGVSZW5kZXJlcjogKGhvc3RFbGVtZW50LCByZW5kZXJlclR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldERvY3VtZW50KCk7XG4gICAgfVxufTtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDYgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRm9yIGVmZmljaWVuY3kgcmVhc29ucyB3ZSBvZnRlbiBwdXQgc2V2ZXJhbCBkaWZmZXJlbnQgZGF0YSB0eXBlcyAoYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgKVxuICogaW4gc2FtZSBsb2NhdGlvbiBpbiBgTFZpZXdgLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBwcmUtYWxsb2NhdGUgc3BhY2UgZm9yIGl0XG4gKiBiZWNhdXNlIHRoZSBzdG9yYWdlIGlzIHNwYXJzZS4gVGhpcyBmaWxlIGNvbnRhaW5zIHV0aWxpdGllcyBmb3IgZGVhbGluZyB3aXRoIHN1Y2ggZGF0YSB0eXBlcy5cbiAqXG4gKiBIb3cgZG8gd2Uga25vdyB3aGF0IGlzIHN0b3JlZCBhdCBhIGdpdmVuIGxvY2F0aW9uIGluIGBMVmlld2AuXG4gKiAtIGBBcnJheS5pc0FycmF5KHZhbHVlKSA9PT0gZmFsc2VgID0+IGBSTm9kZWAgKFRoZSBub3JtYWwgc3RvcmFnZSB2YWx1ZSlcbiAqIC0gYEFycmF5LmlzQXJyYXkodmFsdWUpID09PSB0cnVlYCA9PiB0aGVuIHRoZSBgdmFsdWVbMF1gIHJlcHJlc2VudHMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gKiAgIC0gYHR5cGVvZiB2YWx1ZVtUWVBFXSA9PT0gJ29iamVjdCdgID0+IGBMVmlld2BcbiAqICAgICAgLSBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBoYXZlIGEgY29tcG9uZW50IGF0IGEgZ2l2ZW4gbG9jYXRpb25cbiAqICAgLSBgdHlwZW9mIHZhbHVlW1RZUEVdID09PSB0cnVlYCA9PiBgTENvbnRhaW5lcmBcbiAqICAgICAgLSBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBoYXZlIGBMQ29udGFpbmVyYCBiaW5kaW5nIGF0IGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICpcbiAqIE5PVEU6IGl0IGlzIGFzc3VtZWQgdGhhdCBgQXJyYXkuaXNBcnJheWAgYW5kIGB0eXBlb2ZgIG9wZXJhdGlvbnMgYXJlIHZlcnkgZWZmaWNpZW50LlxuICovXG4vKipcbiAqIFJldHVybnMgYFJOb2RlYC5cbiAqIEBwYXJhbSB2YWx1ZSB3cmFwcGVkIHZhbHVlIG9mIGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYFxuICovXG5mdW5jdGlvbiB1bndyYXBSTm9kZSh2YWx1ZSkge1xuICAgIHdoaWxlIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlW0hPU1RdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFJldHVybnMgYExWaWV3YCBvciBgbnVsbGAgaWYgbm90IGZvdW5kLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIHVud3JhcExWaWV3KHZhbHVlKSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFRoaXMgY2hlY2sgaXMgc2FtZSBhcyBgaXNMVmlldygpYCBidXQgd2UgZG9uJ3QgY2FsbCBhdCBhcyB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgICAgICAgLy8gYEFycmF5LmlzQXJyYXkoKWAgdHdpY2UgYW5kIGdpdmUgSklUZXIgbW9yZSB3b3JrIGZvciBpbmxpbmluZy5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtUWVBFXSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gdmFsdWVbSE9TVF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXR1cm5zIGBMQ29udGFpbmVyYCBvciBgbnVsbGAgaWYgbm90IGZvdW5kLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIHVud3JhcExDb250YWluZXIodmFsdWUpIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gVGhpcyBjaGVjayBpcyBzYW1lIGFzIGBpc0xDb250YWluZXIoKWAgYnV0IHdlIGRvbid0IGNhbGwgYXQgYXMgd2UgZG9uJ3Qgd2FudCB0byBjYWxsXG4gICAgICAgIC8vIGBBcnJheS5pc0FycmF5KClgIHR3aWNlIGFuZCBnaXZlIEpJVGVyIG1vcmUgd29yayBmb3IgaW5saW5pbmcuXG4gICAgICAgIGlmICh2YWx1ZVtUWVBFXSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVtIT1NUXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhbiBlbGVtZW50IHZhbHVlIGZyb20gdGhlIHByb3ZpZGVkIGB2aWV3RGF0YWAsIGJ5IHVud3JhcHBpbmdcbiAqIGZyb20gYW55IGNvbnRhaW5lcnMsIGNvbXBvbmVudCB2aWV3cywgb3Igc3R5bGUgY29udGV4dHMuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZUJ5SW5kZXgoaW5kZXgsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdFeHBlY3RlZCB0byBiZSBwYXN0IEhFQURFUl9PRkZTRVQnKTtcbiAgICByZXR1cm4gdW53cmFwUk5vZGUobFZpZXdbaW5kZXhdKTtcbn1cbi8qKlxuICogUmV0cmlldmUgYW4gYFJOb2RlYCBmb3IgYSBnaXZlbiBgVE5vZGVgIGFuZCBgTFZpZXdgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZ3VhcmFudGVlcyBpbiBkZXYgbW9kZSB0byByZXRyaWV2ZSBhIG5vbi1udWxsIGBSTm9kZWAuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKiBAcGFyYW0gbFZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHROb2RlLmluZGV4KTtcbiAgICBjb25zdCBub2RlID0gdW53cmFwUk5vZGUobFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICBuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKGxWaWV3W1JFTkRFUkVSXSkgJiYgYXNzZXJ0RG9tTm9kZShub2RlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cbi8qKlxuICogUmV0cmlldmUgYW4gYFJOb2RlYCBvciBgbnVsbGAgZm9yIGEgZ2l2ZW4gYFROb2RlYCBhbmQgYExWaWV3YC5cbiAqXG4gKiBTb21lIGBUTm9kZWBzIGRvbid0IGhhdmUgYXNzb2NpYXRlZCBgUk5vZGVgcy4gRm9yIGV4YW1wbGUgYFByb2plY3Rpb25gXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKiBAcGFyYW0gbFZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlUTm9kZU9yTnVsbCh0Tm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCBpbmRleCA9IHROb2RlID09PSBudWxsID8gLTEgOiB0Tm9kZS5pbmRleDtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB1bndyYXBSTm9kZShsVmlld1tpbmRleF0pO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbm9kZSAhPT0gbnVsbCAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIobFZpZXdbUkVOREVSRVJdKSAmJiBhc3NlcnREb21Ob2RlKG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBmaXhtZShtaXNrbyk6IFRoZSByZXR1cm4gVHlwZSBzaG91bGQgYmUgYFROb2RlfG51bGxgXG5mdW5jdGlvbiBnZXRUTm9kZSh0VmlldywgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4oaW5kZXgsIC0xLCAnd3JvbmcgaW5kZXggZm9yIFROb2RlJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuKGluZGV4LCB0Vmlldy5kYXRhLmxlbmd0aCwgJ3dyb25nIGluZGV4IGZvciBUTm9kZScpO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgbmdEZXZNb2RlICYmIHROb2RlICE9PSBudWxsICYmIGFzc2VydFROb2RlKHROb2RlKTtcbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKiogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSBhbnkgYExWaWV3YCBvciBgVERhdGFgLiAqL1xuZnVuY3Rpb24gbG9hZCh2aWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UodmlldywgaW5kZXgpO1xuICAgIHJldHVybiB2aWV3W2luZGV4XTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudExWaWV3QnlJbmRleChub2RlSW5kZXgsIGhvc3RWaWV3KSB7XG4gICAgLy8gQ291bGQgYmUgYW4gTFZpZXcgb3IgYW4gTENvbnRhaW5lci4gSWYgTENvbnRhaW5lciwgdW53cmFwIHRvIGZpbmQgTFZpZXcuXG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShob3N0Vmlldywgbm9kZUluZGV4KTtcbiAgICBjb25zdCBzbG90VmFsdWUgPSBob3N0Vmlld1tub2RlSW5kZXhdO1xuICAgIGNvbnN0IGxWaWV3ID0gaXNMVmlldyhzbG90VmFsdWUpID8gc2xvdFZhbHVlIDogc2xvdFZhbHVlW0hPU1RdO1xuICAgIHJldHVybiBsVmlldztcbn1cbi8qKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIHZpZXcgaXMgaW4gY3JlYXRpb24gbW9kZSAqL1xuZnVuY3Rpb24gaXNDcmVhdGlvbk1vZGUodmlldykge1xuICAgIHJldHVybiAodmlld1tGTEFHU10gJiA0IC8qIENyZWF0aW9uTW9kZSAqLykgPT09IDQgLyogQ3JlYXRpb25Nb2RlICovO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3Igd2hldGhlciB0aGUgdmlldyBpcyBhdHRhY2hlZCB0byB0aGUgY2hhbmdlIGRldGVjdGlvbiB0cmVlLlxuICpcbiAqIE5vdGU6IFRoaXMgZGV0ZXJtaW5lcyB3aGV0aGVyIGEgdmlldyBzaG91bGQgYmUgY2hlY2tlZCwgbm90IHdoZXRoZXIgaXQncyBpbnNlcnRlZFxuICogaW50byBhIGNvbnRhaW5lci4gRm9yIHRoYXQsIHlvdSdsbCB3YW50IGB2aWV3QXR0YWNoZWRUb0NvbnRhaW5lcmAgYmVsb3cuXG4gKi9cbmZ1bmN0aW9uIHZpZXdBdHRhY2hlZFRvQ2hhbmdlRGV0ZWN0b3Iodmlldykge1xuICAgIHJldHVybiAodmlld1tGTEFHU10gJiAxMjggLyogQXR0YWNoZWQgKi8pID09PSAxMjggLyogQXR0YWNoZWQgKi87XG59XG4vKiogUmV0dXJucyBhIGJvb2xlYW4gZm9yIHdoZXRoZXIgdGhlIHZpZXcgaXMgYXR0YWNoZWQgdG8gYSBjb250YWluZXIuICovXG5mdW5jdGlvbiB2aWV3QXR0YWNoZWRUb0NvbnRhaW5lcih2aWV3KSB7XG4gICAgcmV0dXJuIGlzTENvbnRhaW5lcih2aWV3W1BBUkVOVF0pO1xufVxuZnVuY3Rpb24gZ2V0Q29uc3RhbnQoY29uc3RzLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gbnVsbCB8fCBpbmRleCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGNvbnN0cywgaW5kZXgpO1xuICAgIHJldHVybiBjb25zdHNbaW5kZXhdO1xufVxuLyoqXG4gKiBSZXNldHMgdGhlIHByZS1vcmRlciBob29rIGZsYWdzIG9mIHRoZSB2aWV3LlxuICogQHBhcmFtIGxWaWV3IHRoZSBMVmlldyBvbiB3aGljaCB0aGUgZmxhZ3MgYXJlIHJlc2V0XG4gKi9cbmZ1bmN0aW9uIHJlc2V0UHJlT3JkZXJIb29rRmxhZ3MobFZpZXcpIHtcbiAgICBsVmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSA9IDA7XG59XG4vKipcbiAqIFVwZGF0ZXMgdGhlIGBUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSGAgY291bnRlciBvbiB0aGUgYExDb250YWluZXJgIGFzIHdlbGwgYXMgdGhlIHBhcmVudHNcbiAqIHdob3NlXG4gKiAgMS4gY291bnRlciBnb2VzIGZyb20gMCB0byAxLCBpbmRpY2F0aW5nIHRoYXQgdGhlcmUgaXMgYSBuZXcgY2hpbGQgdGhhdCBoYXMgYSB2aWV3IHRvIHJlZnJlc2hcbiAqICBvclxuICogIDIuIGNvdW50ZXIgZ29lcyBmcm9tIDEgdG8gMCwgaW5kaWNhdGluZyB0aGVyZSBhcmUgbm8gbW9yZSBkZXNjZW5kYW50IHZpZXdzIHRvIHJlZnJlc2hcbiAqL1xuZnVuY3Rpb24gdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGxDb250YWluZXIsIGFtb3VudCkge1xuICAgIGxDb250YWluZXJbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdICs9IGFtb3VudDtcbiAgICBsZXQgdmlld09yQ29udGFpbmVyID0gbENvbnRhaW5lcjtcbiAgICBsZXQgcGFyZW50ID0gbENvbnRhaW5lcltQQVJFTlRdO1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiZcbiAgICAgICAgKChhbW91bnQgPT09IDEgJiYgdmlld09yQ29udGFpbmVyW1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA9PT0gMSkgfHxcbiAgICAgICAgICAgIChhbW91bnQgPT09IC0xICYmIHZpZXdPckNvbnRhaW5lcltUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPT09IDApKSkge1xuICAgICAgICBwYXJlbnRbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdICs9IGFtb3VudDtcbiAgICAgICAgdmlld09yQ29udGFpbmVyID0gcGFyZW50O1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnRbUEFSRU5UXTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgaW5zdHJ1Y3Rpb25TdGF0ZSA9IHtcbiAgICBsRnJhbWU6IGNyZWF0ZUxGcmFtZShudWxsKSxcbiAgICBiaW5kaW5nc0VuYWJsZWQ6IHRydWUsXG4gICAgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZTogZmFsc2UsXG59O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGluc3RydWN0aW9uIHN0YXRlIHN0YWNrIGlzIGVtcHR5LlxuICpcbiAqIEludGVuZGVkIHRvIGJlIGNhbGxlZCBmcm9tIHRlc3RzIG9ubHkgKHRyZWUgc2hha2VuIG90aGVyd2lzZSkuXG4gKi9cbmZ1bmN0aW9uIHNwZWNPbmx5SXNJbnN0cnVjdGlvblN0YXRlRW1wdHkoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnBhcmVudCA9PT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnREZXB0aENvdW50KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudDtcbn1cbmZ1bmN0aW9uIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQrKztcbn1cbmZ1bmN0aW9uIGRlY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQtLTtcbn1cbmZ1bmN0aW9uIGdldEJpbmRpbmdzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5iaW5kaW5nc0VuYWJsZWQ7XG59XG4vKipcbiAqIEVuYWJsZXMgZGlyZWN0aXZlIG1hdGNoaW5nIG9uIGVsZW1lbnRzLlxuICpcbiAqICAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPCEtLSDJtcm1ZGlzYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiAgIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgICBTaG91bGQgbm90IG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZSBiZWNhdXNlIHdlIGFyZSBpbiBuZ05vbkJpbmRhYmxlLlxuICogICA8L215LWNvbXA+XG4gKiAgIDwhLS0gybXJtWVuYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbmFibGVCaW5kaW5ncygpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmJpbmRpbmdzRW5hYmxlZCA9IHRydWU7XG59XG4vKipcbiAqIERpc2FibGVzIGRpcmVjdGl2ZSBtYXRjaGluZyBvbiBlbGVtZW50LlxuICpcbiAqICAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPCEtLSDJtcm1ZGlzYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiAgIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgICBTaG91bGQgbm90IG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZSBiZWNhdXNlIHdlIGFyZSBpbiBuZ05vbkJpbmRhYmxlLlxuICogICA8L215LWNvbXA+XG4gKiAgIDwhLS0gybXJtWVuYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkaXNhYmxlQmluZGluZ3MoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5iaW5kaW5nc0VuYWJsZWQgPSBmYWxzZTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGdldExWaWV3KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5sVmlldztcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjdXJyZW50IGBUVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGdldFRWaWV3KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS50Vmlldztcbn1cbi8qKlxuICogUmVzdG9yZXMgYGNvbnRleHRWaWV3RGF0YWAgdG8gdGhlIGdpdmVuIE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGdldEN1cnJlbnRWaWV3KCkgaW5zdHJ1Y3Rpb24gdG8gc2F2ZSBhIHNuYXBzaG90XG4gKiBvZiB0aGUgY3VycmVudCB2aWV3IGFuZCByZXN0b3JlIGl0IHdoZW4gbGlzdGVuZXJzIGFyZSBpbnZva2VkLiBUaGlzIGFsbG93c1xuICogd2Fsa2luZyB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIGluIGxpc3RlbmVycyB0byBnZXQgdmFycyBmcm9tIHBhcmVudCB2aWV3cy5cbiAqXG4gKiBAcGFyYW0gdmlld1RvUmVzdG9yZSBUaGUgT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlIHRvIHJlc3RvcmUuXG4gKiBAcmV0dXJucyBDb250ZXh0IG9mIHRoZSByZXN0b3JlZCBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlc3RvcmVWaWV3KHZpZXdUb1Jlc3RvcmUpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXcgPSB2aWV3VG9SZXN0b3JlO1xuICAgIHJldHVybiB2aWV3VG9SZXN0b3JlW0NPTlRFWFRdO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFROb2RlKCkge1xuICAgIGxldCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGVQbGFjZWhvbGRlck9rKCk7XG4gICAgd2hpbGUgKGN1cnJlbnRUTm9kZSAhPT0gbnVsbCAmJiBjdXJyZW50VE5vZGUudHlwZSA9PT0gNjQgLyogUGxhY2Vob2xkZXIgKi8pIHtcbiAgICAgICAgY3VycmVudFROb2RlID0gY3VycmVudFROb2RlLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRUTm9kZTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRUTm9kZVBsYWNlaG9sZGVyT2soKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnRUTm9kZTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBjb25zdCBjdXJyZW50VE5vZGUgPSBsRnJhbWUuY3VycmVudFROb2RlO1xuICAgIHJldHVybiBsRnJhbWUuaXNQYXJlbnQgPyBjdXJyZW50VE5vZGUgOiBjdXJyZW50VE5vZGUucGFyZW50O1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFROb2RlKHROb2RlLCBpc1BhcmVudCkge1xuICAgIG5nRGV2TW9kZSAmJiB0Tm9kZSAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS50Vmlldyk7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgbEZyYW1lLmN1cnJlbnRUTm9kZSA9IHROb2RlO1xuICAgIGxGcmFtZS5pc1BhcmVudCA9IGlzUGFyZW50O1xufVxuZnVuY3Rpb24gaXNDdXJyZW50VE5vZGVQYXJlbnQoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmlzUGFyZW50O1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaXNQYXJlbnQgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRUTm9kZUFzUGFyZW50KCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmlzUGFyZW50ID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldENvbnRleHRMVmlldygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY29udGV4dExWaWV3O1xufVxuZnVuY3Rpb24gaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogcmVtb3ZlIHRoaXMgZnJvbSB0aGUgTFZpZXcgc2luY2UgaXQgaXMgbmdEZXZNb2RlPXRydWUgbW9kZSBvbmx5LlxuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmlzSW5DaGVja05vQ2hhbmdlc01vZGU7XG59XG5mdW5jdGlvbiBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKG1vZGUpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmlzSW5DaGVja05vQ2hhbmdlc01vZGUgPSBtb2RlO1xufVxuLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuZnVuY3Rpb24gZ2V0QmluZGluZ1Jvb3QoKSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgbGV0IGluZGV4ID0gbEZyYW1lLmJpbmRpbmdSb290SW5kZXg7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IGxGcmFtZS5iaW5kaW5nUm9vdEluZGV4ID0gbEZyYW1lLnRWaWV3LmJpbmRpbmdTdGFydEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG5mdW5jdGlvbiBnZXRCaW5kaW5nSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmJpbmRpbmdJbmRleDtcbn1cbmZ1bmN0aW9uIHNldEJpbmRpbmdJbmRleCh2YWx1ZSkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5iaW5kaW5nSW5kZXggPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG5leHRCaW5kaW5nSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmJpbmRpbmdJbmRleCsrO1xufVxuZnVuY3Rpb24gaW5jcmVtZW50QmluZGluZ0luZGV4KGNvdW50KSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgY29uc3QgaW5kZXggPSBsRnJhbWUuYmluZGluZ0luZGV4O1xuICAgIGxGcmFtZS5iaW5kaW5nSW5kZXggPSBsRnJhbWUuYmluZGluZ0luZGV4ICsgY291bnQ7XG4gICAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gaXNJbkkxOG5CbG9jaygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaW5JMThuO1xufVxuZnVuY3Rpb24gc2V0SW5JMThuQmxvY2soaXNJbkkxOG5CbG9jaykge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmluSTE4biA9IGlzSW5JMThuQmxvY2s7XG59XG4vKipcbiAqIFNldCBhIG5ldyBiaW5kaW5nIHJvb3QgaW5kZXggc28gdGhhdCBob3N0IHRlbXBsYXRlIGZ1bmN0aW9ucyBjYW4gZXhlY3V0ZS5cbiAqXG4gKiBCaW5kaW5ncyBpbnNpZGUgdGhlIGhvc3QgdGVtcGxhdGUgYXJlIDAgaW5kZXguIEJ1dCBiZWNhdXNlIHdlIGRvbid0IGtub3cgYWhlYWQgb2YgdGltZVxuICogaG93IG1hbnkgaG9zdCBiaW5kaW5ncyB3ZSBoYXZlIHdlIGNhbid0IHByZS1jb21wdXRlIHRoZW0uIEZvciB0aGlzIHJlYXNvbiB0aGV5IGFyZSBhbGxcbiAqIDAgaW5kZXggYW5kIHdlIGp1c3Qgc2hpZnQgdGhlIHJvb3Qgc28gdGhhdCB0aGV5IG1hdGNoIG5leHQgYXZhaWxhYmxlIGxvY2F0aW9uIGluIHRoZSBMVmlldy5cbiAqXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3RJbmRleCBSb290IGluZGV4IGZvciBgaG9zdEJpbmRpbmdzYFxuICogQHBhcmFtIGN1cnJlbnREaXJlY3RpdmVJbmRleCBgVERhdGFbY3VycmVudERpcmVjdGl2ZUluZGV4XWAgd2lsbCBwb2ludCB0byB0aGUgY3VycmVudCBkaXJlY3RpdmVcbiAqICAgICAgICB3aG9zZSBgaG9zdEJpbmRpbmdzYCBhcmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5mdW5jdGlvbiBzZXRCaW5kaW5nUm9vdEZvckhvc3RCaW5kaW5ncyhiaW5kaW5nUm9vdEluZGV4LCBjdXJyZW50RGlyZWN0aXZlSW5kZXgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBsRnJhbWUuYmluZGluZ0luZGV4ID0gbEZyYW1lLmJpbmRpbmdSb290SW5kZXggPSBiaW5kaW5nUm9vdEluZGV4O1xuICAgIHNldEN1cnJlbnREaXJlY3RpdmVJbmRleChjdXJyZW50RGlyZWN0aXZlSW5kZXgpO1xufVxuLyoqXG4gKiBXaGVuIGhvc3QgYmluZGluZyBpcyBleGVjdXRpbmcgdGhpcyBwb2ludHMgdG8gdGhlIGRpcmVjdGl2ZSBpbmRleC5cbiAqIGBUVmlldy5kYXRhW2dldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpXWAgaXMgYERpcmVjdGl2ZURlZmBcbiAqIGBMVmlld1tnZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoKV1gIGlzIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7XG59XG4vKipcbiAqIFNldHMgYW4gaW5kZXggb2YgYSBkaXJlY3RpdmUgd2hvc2UgYGhvc3RCaW5kaW5nc2AgYXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqXG4gKiBAcGFyYW0gY3VycmVudERpcmVjdGl2ZUluZGV4IGBURGF0YWAgaW5kZXggd2hlcmUgY3VycmVudCBkaXJlY3RpdmUgaW5zdGFuY2UgY2FuIGJlIGZvdW5kLlxuICovXG5mdW5jdGlvbiBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoY3VycmVudERpcmVjdGl2ZUluZGV4KSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4ID0gY3VycmVudERpcmVjdGl2ZUluZGV4O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBgRGlyZWN0aXZlRGVmYCB3aGljaCBpcyBhY3RpdmUgd2hlbiBgaG9zdEJpbmRpbmdzYCBpbnN0cnVjdGlvbiBpcyBiZWluZ1xuICogZXhlY3V0ZWQuXG4gKlxuICogQHBhcmFtIHREYXRhIEN1cnJlbnQgYFREYXRhYCB3aGVyZSB0aGUgYERpcmVjdGl2ZURlZmAgd2lsbCBiZSBsb29rZWQgdXAgYXQuXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnREaXJlY3RpdmVEZWYodERhdGEpIHtcbiAgICBjb25zdCBjdXJyZW50RGlyZWN0aXZlSW5kZXggPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7XG4gICAgcmV0dXJuIGN1cnJlbnREaXJlY3RpdmVJbmRleCA9PT0gLTEgPyBudWxsIDogdERhdGFbY3VycmVudERpcmVjdGl2ZUluZGV4XTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRRdWVyeUluZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleDtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRRdWVyeUluZGV4KHZhbHVlKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXggPSB2YWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGBUTm9kZWAgb2YgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBjdXJyZW50IGBMVmlld2AgaXMgZGVjbGFyZWQgYXQuXG4gKlxuICogQHBhcmFtIGxWaWV3IGFuIGBMVmlld2AgdGhhdCB3ZSB3YW50IHRvIGZpbmQgcGFyZW50IGBUTm9kZWAgZm9yLlxuICovXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvblROb2RlKGxWaWV3KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgLy8gUmV0dXJuIHRoZSBkZWNsYXJhdGlvbiBwYXJlbnQgZm9yIGVtYmVkZGVkIHZpZXdzXG4gICAgaWYgKHRWaWV3LnR5cGUgPT09IDIgLyogRW1iZWRkZWQgKi8pIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcuZGVjbFROb2RlLCAnRW1iZWRkZWQgVE5vZGVzIHNob3VsZCBoYXZlIGRlY2xhcmF0aW9uIHBhcmVudHMuJyk7XG4gICAgICAgIHJldHVybiB0Vmlldy5kZWNsVE5vZGU7XG4gICAgfVxuICAgIC8vIENvbXBvbmVudHMgZG9uJ3QgaGF2ZSBgVFZpZXcuZGVjbFROb2RlYCBiZWNhdXNlIGVhY2ggaW5zdGFuY2Ugb2YgY29tcG9uZW50IGNvdWxkIGJlXG4gICAgLy8gaW5zZXJ0ZWQgaW4gZGlmZmVyZW50IGxvY2F0aW9uLCBoZW5jZSBgVFZpZXcuZGVjbFROb2RlYCBpcyBtZWFuaW5nbGVzcy5cbiAgICAvLyBGYWxsaW5nIGJhY2sgdG8gYFRfSE9TVGAgaW4gY2FzZSB3ZSBjcm9zcyBjb21wb25lbnQgYm91bmRhcnkuXG4gICAgaWYgKHRWaWV3LnR5cGUgPT09IDEgLyogQ29tcG9uZW50ICovKSB7XG4gICAgICAgIHJldHVybiBsVmlld1tUX0hPU1RdO1xuICAgIH1cbiAgICAvLyBSZW1haW5pbmcgVE5vZGUgdHlwZSBpcyBgVFZpZXdUeXBlLlJvb3RgIHdoaWNoIGRvZXNuJ3QgaGF2ZSBhIHBhcmVudCBUTm9kZS5cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGxpZ2h0IHdlaWdodCB2ZXJzaW9uIG9mIHRoZSBgZW50ZXJWaWV3YCB3aGljaCBpcyBuZWVkZWQgYnkgdGhlIERJIHN5c3RlbS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBsb2NhdGlvbiBvZiB0aGUgREkgY29udGV4dC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciBESSBjb250ZXh0XG4gKiBAcGFyYW0gZmxhZ3MgREkgY29udGV4dCBmbGFncy4gaWYgYFNraXBTZWxmYCBmbGFnIGlzIHNldCB0aGFuIHdlIHdhbGsgdXAgdGhlIGRlY2xhcmF0aW9uXG4gKiAgICAgdHJlZSBmcm9tIGB0Tm9kZWAgIHVudGlsIHdlIGZpbmQgcGFyZW50IGRlY2xhcmVkIGBURWxlbWVudE5vZGVgLlxuICogQHJldHVybnMgYHRydWVgIGlmIHdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGVudGVyZWQgREkgYXNzb2NpYXRlZCB3aXRoIGB0Tm9kZWAgKG9yIHdpdGggZGVjbGFyZWRcbiAqICAgICBgVE5vZGVgIGlmIGBmbGFnc2AgaGFzICBgU2tpcFNlbGZgKS4gRmFpbGluZyB0byBlbnRlciBESSBpbXBsaWVzIHRoYXQgbm8gYXNzb2NpYXRlZFxuICogICAgIGBOb2RlSW5qZWN0b3JgIGNhbiBiZSBmb3VuZCBhbmQgd2Ugc2hvdWxkIGluc3RlYWQgdXNlIGBNb2R1bGVJbmplY3RvcmAuXG4gKiAgICAgLSBJZiBgdHJ1ZWAgdGhhbiB0aGlzIGNhbGwgbXVzdCBiZSBmYWxsb3dlZCBieSBgbGVhdmVESWBcbiAqICAgICAtIElmIGBmYWxzZWAgdGhhbiB0aGlzIGNhbGwgZmFpbGVkIGFuZCB3ZSBzaG91bGQgTk9UIGNhbGwgYGxlYXZlRElgXG4gKi9cbmZ1bmN0aW9uIGVudGVyREkobFZpZXcsIHROb2RlLCBmbGFncykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlld09yVW5kZWZpbmVkKGxWaWV3KTtcbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgbFZpZXdbVFZJRVddKTtcbiAgICAgICAgbGV0IHBhcmVudFROb2RlID0gdE5vZGU7XG4gICAgICAgIGxldCBwYXJlbnRMVmlldyA9IGxWaWV3O1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocGFyZW50VE5vZGUsICdQYXJlbnQgVE5vZGUgc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gcGFyZW50VE5vZGUucGFyZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0KSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFROb2RlID0gZ2V0RGVjbGFyYXRpb25UTm9kZShwYXJlbnRMVmlldyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIGEgcGFyZW50IGV4aXN0cyBhbmQgaXMgZGVmaW5pdGVseSBhbiBlbGVtZW50LiBTbyBpdCB3aWxsIGRlZmluaXRlbHlcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGFuIGV4aXN0aW5nIGxWaWV3IGFzIHRoZSBkZWNsYXJhdGlvbiB2aWV3LCB3aGljaCBpcyB3aHkgd2UgY2FuIGFzc3VtZSBpdCdzIGRlZmluZWQuXG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocGFyZW50TFZpZXcsICdQYXJlbnQgTFZpZXcgc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRMVmlldyA9IHBhcmVudExWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICAgICAgICAgIC8vIEluIEl2eSB0aGVyZSBhcmUgQ29tbWVudCBub2RlcyB0aGF0IGNvcnJlc3BvbmQgdG8gbmdJZiBhbmQgTmdGb3IgZW1iZWRkZWQgZGlyZWN0aXZlc1xuICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gc2tpcCB0aG9zZSBhbmQgbG9vayBvbmx5IGF0IEVsZW1lbnRzIGFuZCBFbGVtZW50Q29udGFpbmVycyB0byBlbnN1cmVcbiAgICAgICAgICAgICAgICAvLyB3ZSdyZSBsb29raW5nIGF0IHRydWUgcGFyZW50IG5vZGVzLCBhbmQgbm90IGNvbnRlbnQgb3Igb3RoZXIgdHlwZXMuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFROb2RlLnR5cGUgJiAoMiAvKiBFbGVtZW50ICovIHwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGZhaWxlZCB0byBmaW5kIGEgcGFyZW50IFROb2RlIHRoaXMgbWVhbnMgdGhhdCB3ZSBzaG91bGQgdXNlIG1vZHVsZSBpbmplY3Rvci5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHROb2RlID0gcGFyZW50VE5vZGU7XG4gICAgICAgICAgICBsVmlldyA9IHBhcmVudExWaWV3O1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUgPSBhbGxvY0xGcmFtZSgpO1xuICAgIGxGcmFtZS5jdXJyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICBsRnJhbWUubFZpZXcgPSBsVmlldztcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogU3dhcCB0aGUgY3VycmVudCBsVmlldyB3aXRoIGEgbmV3IGxWaWV3LlxuICpcbiAqIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIHdlIHN0b3JlIHRoZSBsVmlldyBpbiB0aGUgdG9wIGxldmVsIG9mIHRoZSBtb2R1bGUuXG4gKiBUaGlzIHdheSB3ZSBtaW5pbWl6ZSB0aGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgdG8gcmVhZC4gV2hlbmV2ZXIgYSBuZXcgdmlld1xuICogaXMgZW50ZXJlZCB3ZSBoYXZlIHRvIHN0b3JlIHRoZSBsVmlldyBmb3IgbGF0ZXIsIGFuZCB3aGVuIHRoZSB2aWV3IGlzXG4gKiBleGl0ZWQgdGhlIHN0YXRlIGhhcyB0byBiZSByZXN0b3JlZFxuICpcbiAqIEBwYXJhbSBuZXdWaWV3IE5ldyBsVmlldyB0byBiZWNvbWUgYWN0aXZlXG4gKiBAcmV0dXJucyB0aGUgcHJldmlvdXNseSBhY3RpdmUgbFZpZXc7XG4gKi9cbmZ1bmN0aW9uIGVudGVyVmlldyhuZXdWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdEVxdWFsKG5ld1ZpZXdbMF0sIG5ld1ZpZXdbMV0sICc/Pz8/Jyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3T3JVbmRlZmluZWQobmV3Vmlldyk7XG4gICAgY29uc3QgbmV3TEZyYW1lID0gYWxsb2NMRnJhbWUoKTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5pc1BhcmVudCwgdHJ1ZSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUubFZpZXcsIG51bGwsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLnRWaWV3LCBudWxsLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5zZWxlY3RlZEluZGV4LCAtMSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuZWxlbWVudERlcHRoQ291bnQsIDAsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleCwgLTEsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmN1cnJlbnROYW1lc3BhY2UsIG51bGwsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmJpbmRpbmdSb290SW5kZXgsIC0xLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5jdXJyZW50UXVlcnlJbmRleCwgMCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgIH1cbiAgICBjb25zdCB0VmlldyA9IG5ld1ZpZXdbVFZJRVddO1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lID0gbmV3TEZyYW1lO1xuICAgIG5nRGV2TW9kZSAmJiB0Vmlldy5maXJzdENoaWxkICYmIGFzc2VydFROb2RlRm9yVFZpZXcodFZpZXcuZmlyc3RDaGlsZCwgdFZpZXcpO1xuICAgIG5ld0xGcmFtZS5jdXJyZW50VE5vZGUgPSB0Vmlldy5maXJzdENoaWxkO1xuICAgIG5ld0xGcmFtZS5sVmlldyA9IG5ld1ZpZXc7XG4gICAgbmV3TEZyYW1lLnRWaWV3ID0gdFZpZXc7XG4gICAgbmV3TEZyYW1lLmNvbnRleHRMVmlldyA9IG5ld1ZpZXc7XG4gICAgbmV3TEZyYW1lLmJpbmRpbmdJbmRleCA9IHRWaWV3LmJpbmRpbmdTdGFydEluZGV4O1xuICAgIG5ld0xGcmFtZS5pbkkxOG4gPSBmYWxzZTtcbn1cbi8qKlxuICogQWxsb2NhdGVzIG5leHQgZnJlZSBMRnJhbWUuIFRoaXMgZnVuY3Rpb24gdHJpZXMgdG8gcmV1c2UgdGhlIGBMRnJhbWVgcyB0byBsb3dlciBtZW1vcnkgcHJlc3N1cmUuXG4gKi9cbmZ1bmN0aW9uIGFsbG9jTEZyYW1lKCkge1xuICAgIGNvbnN0IGN1cnJlbnRMRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBjb25zdCBjaGlsZExGcmFtZSA9IGN1cnJlbnRMRnJhbWUgPT09IG51bGwgPyBudWxsIDogY3VycmVudExGcmFtZS5jaGlsZDtcbiAgICBjb25zdCBuZXdMRnJhbWUgPSBjaGlsZExGcmFtZSA9PT0gbnVsbCA/IGNyZWF0ZUxGcmFtZShjdXJyZW50TEZyYW1lKSA6IGNoaWxkTEZyYW1lO1xuICAgIHJldHVybiBuZXdMRnJhbWU7XG59XG5mdW5jdGlvbiBjcmVhdGVMRnJhbWUocGFyZW50KSB7XG4gICAgY29uc3QgbEZyYW1lID0ge1xuICAgICAgICBjdXJyZW50VE5vZGU6IG51bGwsXG4gICAgICAgIGlzUGFyZW50OiB0cnVlLFxuICAgICAgICBsVmlldzogbnVsbCxcbiAgICAgICAgdFZpZXc6IG51bGwsXG4gICAgICAgIHNlbGVjdGVkSW5kZXg6IC0xLFxuICAgICAgICBjb250ZXh0TFZpZXc6IG51bGwsXG4gICAgICAgIGVsZW1lbnREZXB0aENvdW50OiAwLFxuICAgICAgICBjdXJyZW50TmFtZXNwYWNlOiBudWxsLFxuICAgICAgICBjdXJyZW50RGlyZWN0aXZlSW5kZXg6IC0xLFxuICAgICAgICBiaW5kaW5nUm9vdEluZGV4OiAtMSxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgY3VycmVudFF1ZXJ5SW5kZXg6IDAsXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICBjaGlsZDogbnVsbCxcbiAgICAgICAgaW5JMThuOiBmYWxzZSxcbiAgICB9O1xuICAgIHBhcmVudCAhPT0gbnVsbCAmJiAocGFyZW50LmNoaWxkID0gbEZyYW1lKTsgLy8gbGluayB0aGUgbmV3IExGcmFtZSBmb3IgcmV1c2UuXG4gICAgcmV0dXJuIGxGcmFtZTtcbn1cbi8qKlxuICogQSBsaWdodHdlaWdodCB2ZXJzaW9uIG9mIGxlYXZlIHdoaWNoIGlzIHVzZWQgd2l0aCBESS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG9ubHkgcmVzZXRzIGBjdXJyZW50VE5vZGVgIGFuZCBgTFZpZXdgIGFzIHRob3NlIGFyZSB0aGUgb25seSBwcm9wZXJ0aWVzXG4gKiB1c2VkIHdpdGggREkgKGBlbnRlckRJKClgKS5cbiAqXG4gKiBOT1RFOiBUaGlzIGZ1bmN0aW9uIGlzIHJlZXhwb3J0ZWQgYXMgYGxlYXZlRElgLiBIb3dldmVyIGBsZWF2ZURJYCBoYXMgcmV0dXJuIHR5cGUgb2YgYHZvaWRgIHdoZXJlXG4gKiBhcyBgbGVhdmVWaWV3TGlnaHRgIGhhcyBgTEZyYW1lYC4gVGhpcyBpcyBzbyB0aGF0IGBsZWF2ZVZpZXdMaWdodGAgY2FuIGJlIHVzZWQgaW4gYGxlYXZlVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGxlYXZlVmlld0xpZ2h0KCkge1xuICAgIGNvbnN0IG9sZExGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lID0gb2xkTEZyYW1lLnBhcmVudDtcbiAgICBvbGRMRnJhbWUuY3VycmVudFROb2RlID0gbnVsbDtcbiAgICBvbGRMRnJhbWUubFZpZXcgPSBudWxsO1xuICAgIHJldHVybiBvbGRMRnJhbWU7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBsaWdodHdlaWdodCB2ZXJzaW9uIG9mIHRoZSBgbGVhdmVWaWV3YCB3aGljaCBpcyBuZWVkZWQgYnkgdGhlIERJIHN5c3RlbS5cbiAqXG4gKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIGlzIGFuIGFsaWFzIHNvIHRoYXQgd2UgY2FuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gdG8gaGF2ZSBgdm9pZGBcbiAqIHJldHVybiB0eXBlLlxuICovXG5jb25zdCBsZWF2ZURJID0gbGVhdmVWaWV3TGlnaHQ7XG4vKipcbiAqIExlYXZlIHRoZSBjdXJyZW50IGBMVmlld2BcbiAqXG4gKiBUaGlzIHBvcHMgdGhlIGBMRnJhbWVgIHdpdGggdGhlIGFzc29jaWF0ZWQgYExWaWV3YCBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBJTVBPUlRBTlQ6IFdlIG11c3QgemVybyBvdXQgdGhlIGBMRnJhbWVgIHZhbHVlcyBoZXJlIG90aGVyd2lzZSB0aGV5IHdpbGwgYmUgcmV0YWluZWQuIFRoaXMgaXNcbiAqIGJlY2F1c2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgd2UgZG9uJ3QgcmVsZWFzZSBgTEZyYW1lYCBidXQgcmF0aGVyIGtlZXAgaXQgZm9yIG5leHQgdXNlLlxuICovXG5mdW5jdGlvbiBsZWF2ZVZpZXcoKSB7XG4gICAgY29uc3Qgb2xkTEZyYW1lID0gbGVhdmVWaWV3TGlnaHQoKTtcbiAgICBvbGRMRnJhbWUuaXNQYXJlbnQgPSB0cnVlO1xuICAgIG9sZExGcmFtZS50VmlldyA9IG51bGw7XG4gICAgb2xkTEZyYW1lLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuY29udGV4dExWaWV3ID0gbnVsbDtcbiAgICBvbGRMRnJhbWUuZWxlbWVudERlcHRoQ291bnQgPSAwO1xuICAgIG9sZExGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IG51bGw7XG4gICAgb2xkTEZyYW1lLmJpbmRpbmdSb290SW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuYmluZGluZ0luZGV4ID0gLTE7XG4gICAgb2xkTEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4ID0gMDtcbn1cbmZ1bmN0aW9uIG5leHRDb250ZXh0SW1wbChsZXZlbCkge1xuICAgIGNvbnN0IGNvbnRleHRMVmlldyA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyA9XG4gICAgICAgIHdhbGtVcFZpZXdzKGxldmVsLCBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXcpO1xuICAgIHJldHVybiBjb250ZXh0TFZpZXdbQ09OVEVYVF07XG59XG5mdW5jdGlvbiB3YWxrVXBWaWV3cyhuZXN0aW5nTGV2ZWwsIGN1cnJlbnRWaWV3KSB7XG4gICAgd2hpbGUgKG5lc3RpbmdMZXZlbCA+IDApIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnREZWZpbmVkKGN1cnJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddLCAnRGVjbGFyYXRpb24gdmlldyBzaG91bGQgYmUgZGVmaW5lZCBpZiBuZXN0aW5nIGxldmVsIGlzIGdyZWF0ZXIgdGhhbiAwLicpO1xuICAgICAgICBjdXJyZW50VmlldyA9IGN1cnJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICBuZXN0aW5nTGV2ZWwtLTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRWaWV3O1xufVxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudCBpbmRleC5cbiAqXG4gKiBVc2VkIHdpdGgge0BsaW5rIHByb3BlcnR5fSBpbnN0cnVjdGlvbiAoYW5kIG1vcmUgaW4gdGhlIGZ1dHVyZSkgdG8gaWRlbnRpZnkgdGhlIGluZGV4IGluIHRoZVxuICogY3VycmVudCBgTFZpZXdgIHRvIGFjdCBvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleDtcbn1cbi8qKlxuICogU2V0cyB0aGUgbW9zdCByZWNlbnQgaW5kZXggcGFzc2VkIHRvIHtAbGluayBzZWxlY3R9XG4gKlxuICogVXNlZCB3aXRoIHtAbGluayBwcm9wZXJ0eX0gaW5zdHJ1Y3Rpb24gKGFuZCBtb3JlIGluIHRoZSBmdXR1cmUpIHRvIGlkZW50aWZ5IHRoZSBpbmRleCBpbiB0aGVcbiAqIGN1cnJlbnQgYExWaWV3YCB0byBhY3Qgb24uXG4gKlxuICogKE5vdGUgdGhhdCBpZiBhbiBcImV4aXQgZnVuY3Rpb25cIiB3YXMgc2V0IGVhcmxpZXIgKHZpYSBgc2V0RWxlbWVudEV4aXRGbigpYCkgdGhlbiB0aGF0IHdpbGwgYmVcbiAqIHJ1biBpZiBhbmQgd2hlbiB0aGUgcHJvdmlkZWQgYGluZGV4YCB2YWx1ZSBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgY3VycmVudCBzZWxlY3RlZCBpbmRleCB2YWx1ZS4pXG4gKi9cbmZ1bmN0aW9uIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgaW5kZXggIT09IC0xICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgcGFzdCBIRUFERVJfT0ZGU0VUIChvciAtMSkuJyk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydExlc3NUaGFuKGluZGV4LCBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5sVmlldy5sZW5ndGgsICdDYW5cXCd0IHNldCBpbmRleCBwYXNzZWQgZW5kIG9mIExWaWV3Jyk7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xufVxuLyoqXG4gKiBHZXRzIHRoZSBgdE5vZGVgIHRoYXQgcmVwcmVzZW50cyBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUTm9kZSgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICByZXR1cm4gZ2V0VE5vZGUobEZyYW1lLnRWaWV3LCBsRnJhbWUuc2VsZWN0ZWRJbmRleCk7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ2AgaW4gZ2xvYmFsIHN0YXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuYW1lc3BhY2VTVkcoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IFNWR19OQU1FU1BBQ0U7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLydgIGluIGdsb2JhbCBzdGF0ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmFtZXNwYWNlTWF0aE1MKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnROYW1lc3BhY2UgPSBNQVRIX01MX05BTUVTUEFDRTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGBudWxsYCwgd2hpY2ggZm9yY2VzIGVsZW1lbnQgY3JlYXRpb24gdG8gdXNlXG4gKiBgY3JlYXRlRWxlbWVudGAgcmF0aGVyIHRoYW4gYGNyZWF0ZUVsZW1lbnROU2AuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5hbWVzcGFjZUhUTUwoKSB7XG4gICAgbmFtZXNwYWNlSFRNTEludGVybmFsKCk7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgbnVsbGAsIHdoaWNoIGZvcmNlcyBlbGVtZW50IGNyZWF0aW9uIHRvIHVzZVxuICogYGNyZWF0ZUVsZW1lbnRgIHJhdGhlciB0aGFuIGBjcmVhdGVFbGVtZW50TlNgLlxuICovXG5mdW5jdGlvbiBuYW1lc3BhY2VIVE1MSW50ZXJuYWwoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IG51bGw7XG59XG5mdW5jdGlvbiBnZXROYW1lc3BhY2UkMSgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkZHMgYWxsIGRpcmVjdGl2ZSBsaWZlY3ljbGUgaG9va3MgZnJvbSB0aGUgZ2l2ZW4gYERpcmVjdGl2ZURlZmAgdG8gdGhlIGdpdmVuIGBUVmlld2AuXG4gKlxuICogTXVzdCBiZSBydW4gKm9ubHkqIG9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLlxuICpcbiAqIFNldHMgdXAgdGhlIHByZS1vcmRlciBob29rcyBvbiB0aGUgcHJvdmlkZWQgYHRWaWV3YCxcbiAqIHNlZSB7QGxpbmsgSG9va0RhdGF9IGZvciBkZXRhaWxzIGFib3V0IHRoZSBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggVGhlIGluZGV4IG9mIHRoZSBkaXJlY3RpdmUgaW4gTFZpZXdcbiAqIEBwYXJhbSBkaXJlY3RpdmVEZWYgVGhlIGRlZmluaXRpb24gY29udGFpbmluZyB0aGUgaG9va3MgdG8gc2V0dXAgaW4gdFZpZXdcbiAqIEBwYXJhbSB0VmlldyBUaGUgY3VycmVudCBUVmlld1xuICovXG5mdW5jdGlvbiByZWdpc3RlclByZU9yZGVySG9va3MoZGlyZWN0aXZlSW5kZXgsIGRpcmVjdGl2ZURlZiwgdFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCB7IG5nT25DaGFuZ2VzLCBuZ09uSW5pdCwgbmdEb0NoZWNrIH0gPSBkaXJlY3RpdmVEZWYudHlwZS5wcm90b3R5cGU7XG4gICAgaWYgKG5nT25DaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRPbkNoYW5nZXMgPSBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsKGRpcmVjdGl2ZURlZik7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckhvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckhvb2tzID0gW10pKS5wdXNoKGRpcmVjdGl2ZUluZGV4LCB3cmFwcGVkT25DaGFuZ2VzKTtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyB8fCAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzID0gW10pKVxuICAgICAgICAgICAgLnB1c2goZGlyZWN0aXZlSW5kZXgsIHdyYXBwZWRPbkNoYW5nZXMpO1xuICAgIH1cbiAgICBpZiAobmdPbkluaXQpIHtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2goMCAtIGRpcmVjdGl2ZUluZGV4LCBuZ09uSW5pdCk7XG4gICAgfVxuICAgIGlmIChuZ0RvQ2hlY2spIHtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2goZGlyZWN0aXZlSW5kZXgsIG5nRG9DaGVjayk7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgfHwgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyA9IFtdKSkucHVzaChkaXJlY3RpdmVJbmRleCwgbmdEb0NoZWNrKTtcbiAgICB9XG59XG4vKipcbiAqXG4gKiBMb29wcyB0aHJvdWdoIHRoZSBkaXJlY3RpdmVzIG9uIHRoZSBwcm92aWRlZCBgdE5vZGVgIGFuZCBxdWV1ZXMgaG9va3MgdG8gYmVcbiAqIHJ1biB0aGF0IGFyZSBub3QgaW5pdGlhbGl6YXRpb24gaG9va3MuXG4gKlxuICogU2hvdWxkIGJlIGV4ZWN1dGVkIGR1cmluZyBgZWxlbWVudEVuZCgpYCBhbmQgc2ltaWxhciB0b1xuICogcHJlc2VydmUgaG9vayBleGVjdXRpb24gb3JkZXIuIENvbnRlbnQsIHZpZXcsIGFuZCBkZXN0cm95IGhvb2tzIGZvciBwcm9qZWN0ZWRcbiAqIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXMgbXVzdCBiZSBjYWxsZWQgKmJlZm9yZSogdGhlaXIgaG9zdHMuXG4gKlxuICogU2V0cyB1cCB0aGUgY29udGVudCwgdmlldywgYW5kIGRlc3Ryb3kgaG9va3Mgb24gdGhlIHByb3ZpZGVkIGB0Vmlld2AsXG4gKiBzZWUge0BsaW5rIEhvb2tEYXRhfSBmb3IgZGV0YWlscyBhYm91dCB0aGUgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogTk9URTogVGhpcyBkb2VzIG5vdCBzZXQgdXAgYG9uQ2hhbmdlc2AsIGBvbkluaXRgIG9yIGBkb0NoZWNrYCwgdGhvc2UgYXJlIHNldCB1cFxuICogc2VwYXJhdGVseSBhdCBgZWxlbWVudFN0YXJ0YC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGN1cnJlbnQgVFZpZXdcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgVE5vZGUgd2hvc2UgZGlyZWN0aXZlcyBhcmUgdG8gYmUgc2VhcmNoZWQgZm9yIGhvb2tzIHRvIHF1ZXVlXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgLy8gSXQncyBuZWNlc3NhcnkgdG8gbG9vcCB0aHJvdWdoIHRoZSBkaXJlY3RpdmVzIGF0IGVsZW1lbnRFbmQoKSAocmF0aGVyIHRoYW4gcHJvY2Vzc2luZyBpblxuICAgIC8vIGRpcmVjdGl2ZUNyZWF0ZSkgc28gd2UgY2FuIHByZXNlcnZlIHRoZSBjdXJyZW50IGhvb2sgb3JkZXIuIENvbnRlbnQsIHZpZXcsIGFuZCBkZXN0cm95XG4gICAgLy8gaG9va3MgZm9yIHByb2plY3RlZCBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzIG11c3QgYmUgY2FsbGVkICpiZWZvcmUqIHRoZWlyIGhvc3RzLlxuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydCwgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZGlyZWN0aXZlRGVmLCAnRXhwZWN0aW5nIERpcmVjdGl2ZURlZicpO1xuICAgICAgICBjb25zdCBsaWZlY3ljbGVIb29rcyA9IGRpcmVjdGl2ZURlZi50eXBlLnByb3RvdHlwZTtcbiAgICAgICAgY29uc3QgeyBuZ0FmdGVyQ29udGVudEluaXQsIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCwgbmdBZnRlclZpZXdJbml0LCBuZ0FmdGVyVmlld0NoZWNrZWQsIG5nT25EZXN0cm95IH0gPSBsaWZlY3ljbGVIb29rcztcbiAgICAgICAgaWYgKG5nQWZ0ZXJDb250ZW50SW5pdCkge1xuICAgICAgICAgICAgKHRWaWV3LmNvbnRlbnRIb29rcyB8fCAodFZpZXcuY29udGVudEhvb2tzID0gW10pKS5wdXNoKC1pLCBuZ0FmdGVyQ29udGVudEluaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0FmdGVyQ29udGVudENoZWNrZWQpIHtcbiAgICAgICAgICAgICh0Vmlldy5jb250ZW50SG9va3MgfHwgKHRWaWV3LmNvbnRlbnRIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyQ29udGVudENoZWNrZWQpO1xuICAgICAgICAgICAgKHRWaWV3LmNvbnRlbnRDaGVja0hvb2tzIHx8ICh0Vmlldy5jb250ZW50Q2hlY2tIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyQ29udGVudENoZWNrZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0FmdGVyVmlld0luaXQpIHtcbiAgICAgICAgICAgICh0Vmlldy52aWV3SG9va3MgfHwgKHRWaWV3LnZpZXdIb29rcyA9IFtdKSkucHVzaCgtaSwgbmdBZnRlclZpZXdJbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdBZnRlclZpZXdDaGVja2VkKSB7XG4gICAgICAgICAgICAodFZpZXcudmlld0hvb2tzIHx8ICh0Vmlldy52aWV3SG9va3MgPSBbXSkpLnB1c2goaSwgbmdBZnRlclZpZXdDaGVja2VkKTtcbiAgICAgICAgICAgICh0Vmlldy52aWV3Q2hlY2tIb29rcyB8fCAodFZpZXcudmlld0NoZWNrSG9va3MgPSBbXSkpLnB1c2goaSwgbmdBZnRlclZpZXdDaGVja2VkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdPbkRlc3Ryb3kgIT0gbnVsbCkge1xuICAgICAgICAgICAgKHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pKS5wdXNoKGksIG5nT25EZXN0cm95KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRXhlY3V0aW5nIGhvb2tzIHJlcXVpcmVzIGNvbXBsZXggbG9naWMgYXMgd2UgbmVlZCB0byBkZWFsIHdpdGggMiBjb25zdHJhaW50cy5cbiAqXG4gKiAxLiBJbml0IGhvb2tzIChuZ09uSW5pdCwgbmdBZnRlckNvbnRlbnRJbml0LCBuZ0FmdGVyVmlld0luaXQpIG11c3QgYWxsIGJlIGV4ZWN1dGVkIG9uY2UgYW5kIG9ubHlcbiAqIG9uY2UsIGFjcm9zcyBtYW55IGNoYW5nZSBkZXRlY3Rpb24gY3ljbGVzLiBUaGlzIG11c3QgYmUgdHJ1ZSBldmVuIGlmIHNvbWUgaG9va3MgdGhyb3csIG9yIGlmXG4gKiBzb21lIHJlY3Vyc2l2ZWx5IHRyaWdnZXIgYSBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlLlxuICogVG8gc29sdmUgdGhhdCwgaXQgaXMgcmVxdWlyZWQgdG8gdHJhY2sgdGhlIHN0YXRlIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlc2UgaW5pdCBob29rcy5cbiAqIFRoaXMgaXMgZG9uZSBieSBzdG9yaW5nIGFuZCBtYWludGFpbmluZyBmbGFncyBpbiB0aGUgdmlldzogdGhlIHtAbGluayBJbml0UGhhc2VTdGF0ZX0sXG4gKiBhbmQgdGhlIGluZGV4IHdpdGhpbiB0aGF0IHBoYXNlLiBUaGV5IGNhbiBiZSBzZWVuIGFzIGEgY3Vyc29yIGluIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuICogW1tvbkluaXQxLCBvbkluaXQyXSwgW2FmdGVyQ29udGVudEluaXQxXSwgW2FmdGVyVmlld0luaXQxLCBhZnRlclZpZXdJbml0MiwgYWZ0ZXJWaWV3SW5pdDNdXVxuICogVGhleSBhcmUgYXJlIHN0b3JlZCBhcyBmbGFncyBpbiBMVmlld1tGTEFHU10uXG4gKlxuICogMi4gUHJlLW9yZGVyIGhvb2tzIGNhbiBiZSBleGVjdXRlZCBpbiBiYXRjaGVzLCBiZWNhdXNlIG9mIHRoZSBzZWxlY3QgaW5zdHJ1Y3Rpb24uXG4gKiBUbyBiZSBhYmxlIHRvIHBhdXNlIGFuZCByZXN1bWUgdGhlaXIgZXhlY3V0aW9uLCB3ZSBhbHNvIG5lZWQgc29tZSBzdGF0ZSBhYm91dCB0aGUgaG9vaydzIGFycmF5XG4gKiB0aGF0IGlzIGJlaW5nIHByb2Nlc3NlZDpcbiAqIC0gdGhlIGluZGV4IG9mIHRoZSBuZXh0IGhvb2sgdG8gYmUgZXhlY3V0ZWRcbiAqIC0gdGhlIG51bWJlciBvZiBpbml0IGhvb2tzIGFscmVhZHkgZm91bmQgaW4gdGhlIHByb2Nlc3NlZCBwYXJ0IG9mIHRoZSAgYXJyYXlcbiAqIFRoZXkgYXJlIGFyZSBzdG9yZWQgYXMgZmxhZ3MgaW4gTFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10uXG4gKi9cbi8qKlxuICogRXhlY3V0ZXMgcHJlLW9yZGVyIGNoZWNrIGhvb2tzICggT25DaGFuZ2VzLCBEb0NoYW5nZXMpIGdpdmVuIGEgdmlldyB3aGVyZSBhbGwgdGhlIGluaXQgaG9va3Mgd2VyZVxuICogZXhlY3V0ZWQgb25jZS4gVGhpcyBpcyBhIGxpZ2h0IHZlcnNpb24gb2YgZXhlY3V0ZUluaXRBbmRDaGVja1ByZU9yZGVySG9va3Mgd2hlcmUgd2UgY2FuIHNraXAgcmVhZFxuICogLyB3cml0ZSBvZiB0aGUgaW5pdC1ob29rcyByZWxhdGVkIGZsYWdzLlxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB3aGVyZSBob29rcyBhcmUgZGVmaW5lZFxuICogQHBhcmFtIGhvb2tzIEhvb2tzIHRvIGJlIHJ1blxuICogQHBhcmFtIG5vZGVJbmRleCAzIGNhc2VzIGRlcGVuZGluZyBvbiB0aGUgdmFsdWU6XG4gKiAtIHVuZGVmaW5lZDogYWxsIGhvb2tzIGZyb20gdGhlIGFycmF5IHNob3VsZCBiZSBleGVjdXRlZCAocG9zdC1vcmRlciBjYXNlKVxuICogLSBudWxsOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHByZS1vcmRlciBjYXNlLCB3aGVuXG4gKiBmbHVzaGluZyB0aGUgcmVtYWluaW5nIGhvb2tzKVxuICogLSBudW1iZXI6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGF0IG5vZGUgaW5kZXggZXhjbHVzaXZlIChwcmUtb3JkZXJcbiAqIGNhc2UsIHdoZW4gZXhlY3V0aW5nIHNlbGVjdChudW1iZXIpKVxuICovXG5mdW5jdGlvbiBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgaG9va3MsIG5vZGVJbmRleCkge1xuICAgIGNhbGxIb29rcyhsVmlldywgaG9va3MsIDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovLCBub2RlSW5kZXgpO1xufVxuLyoqXG4gKiBFeGVjdXRlcyBwb3N0LW9yZGVyIGluaXQgYW5kIGNoZWNrIGhvb2tzIChvbmUgb2YgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAqIEFmdGVyVmlld0luaXQsIEFmdGVyVmlld0NoZWNrZWQpIGdpdmVuIGEgdmlldyB3aGVyZSB0aGVyZSBhcmUgcGVuZGluZyBpbml0IGhvb2tzIHRvIGJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB3aGVyZSBob29rcyBhcmUgZGVmaW5lZFxuICogQHBhcmFtIGhvb2tzIEhvb2tzIHRvIGJlIHJ1blxuICogQHBhcmFtIGluaXRQaGFzZSBBIHBoYXNlIGZvciB3aGljaCBob29rcyBzaG91bGQgYmUgcnVuXG4gKiBAcGFyYW0gbm9kZUluZGV4IDMgY2FzZXMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZTpcbiAqIC0gdW5kZWZpbmVkOiBhbGwgaG9va3MgZnJvbSB0aGUgYXJyYXkgc2hvdWxkIGJlIGV4ZWN1dGVkIChwb3N0LW9yZGVyIGNhc2UpXG4gKiAtIG51bGw6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBhcnJheSAocHJlLW9yZGVyIGNhc2UsIHdoZW5cbiAqIGZsdXNoaW5nIHRoZSByZW1haW5pbmcgaG9va3MpXG4gKiAtIG51bWJlcjogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoYXQgbm9kZSBpbmRleCBleGNsdXNpdmUgKHByZS1vcmRlclxuICogY2FzZSwgd2hlbiBleGVjdXRpbmcgc2VsZWN0KG51bWJlcikpXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgaG9va3MsIGluaXRQaGFzZSwgbm9kZUluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGluaXRQaGFzZSwgMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi8sICdJbml0IHByZS1vcmRlciBob29rcyBzaG91bGQgbm90IGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIGlmICgobFZpZXdbRkxBR1NdICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSBpbml0UGhhc2UpIHtcbiAgICAgICAgY2FsbEhvb2tzKGxWaWV3LCBob29rcywgaW5pdFBoYXNlLCBub2RlSW5kZXgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCBpbml0UGhhc2UpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoaW5pdFBoYXNlLCAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLywgJ0luaXQgaG9va3MgcGhhc2Ugc2hvdWxkIG5vdCBiZSBpbmNyZW1lbnRlZCBhZnRlciBhbGwgaW5pdCBob29rcyBoYXZlIGJlZW4gcnVuLicpO1xuICAgIGxldCBmbGFncyA9IGxWaWV3W0ZMQUdTXTtcbiAgICBpZiAoKGZsYWdzICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSBpbml0UGhhc2UpIHtcbiAgICAgICAgZmxhZ3MgJj0gMjA0NyAvKiBJbmRleFdpdGhpbkluaXRQaGFzZVJlc2V0ICovO1xuICAgICAgICBmbGFncyArPSAxIC8qIEluaXRQaGFzZVN0YXRlSW5jcmVtZW50ZXIgKi87XG4gICAgICAgIGxWaWV3W0ZMQUdTXSA9IGZsYWdzO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbHMgbGlmZWN5Y2xlIGhvb2tzIHdpdGggdGhlaXIgY29udGV4dHMsIHNraXBwaW5nIGluaXQgaG9va3MgaWYgaXQncyBub3RcbiAqIHRoZSBmaXJzdCBMVmlldyBwYXNzXG4gKlxuICogQHBhcmFtIGN1cnJlbnRWaWV3IFRoZSBjdXJyZW50IHZpZXdcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IGluIHdoaWNoIHRoZSBob29rcyBhcmUgZm91bmRcbiAqIEBwYXJhbSBpbml0UGhhc2VTdGF0ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaW5pdCBwaGFzZVxuICogQHBhcmFtIGN1cnJlbnROb2RlSW5kZXggMyBjYXNlcyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlOlxuICogLSB1bmRlZmluZWQ6IGFsbCBob29rcyBmcm9tIHRoZSBhcnJheSBzaG91bGQgYmUgZXhlY3V0ZWQgKHBvc3Qtb3JkZXIgY2FzZSlcbiAqIC0gbnVsbDogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoZSBlbmQgb2YgdGhlIGFycmF5IChwcmUtb3JkZXIgY2FzZSwgd2hlblxuICogZmx1c2hpbmcgdGhlIHJlbWFpbmluZyBob29rcylcbiAqIC0gbnVtYmVyOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhhdCBub2RlIGluZGV4IGV4Y2x1c2l2ZSAocHJlLW9yZGVyXG4gKiBjYXNlLCB3aGVuIGV4ZWN1dGluZyBzZWxlY3QobnVtYmVyKSlcbiAqL1xuZnVuY3Rpb24gY2FsbEhvb2tzKGN1cnJlbnRWaWV3LCBhcnIsIGluaXRQaGFzZSwgY3VycmVudE5vZGVJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCksIGZhbHNlLCAnSG9va3Mgc2hvdWxkIG5ldmVyIGJlIHJ1biB3aGVuIGluIGNoZWNrIG5vIGNoYW5nZXMgbW9kZS4nKTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gY3VycmVudE5vZGVJbmRleCAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgKGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdICYgNjU1MzUgLyogSW5kZXhPZlRoZU5leHRQcmVPcmRlckhvb2tNYXNrTWFzayAqLykgOlxuICAgICAgICAwO1xuICAgIGNvbnN0IG5vZGVJbmRleExpbWl0ID0gY3VycmVudE5vZGVJbmRleCAhPSBudWxsID8gY3VycmVudE5vZGVJbmRleCA6IC0xO1xuICAgIGNvbnN0IG1heCA9IGFyci5sZW5ndGggLSAxOyAvLyBTdG9wIHRoZSBsb29wIGF0IGxlbmd0aCAtIDEsIGJlY2F1c2Ugd2UgbG9vayBmb3IgdGhlIGhvb2sgYXQgaSArIDFcbiAgICBsZXQgbGFzdE5vZGVJbmRleEZvdW5kID0gMDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGhvb2sgPSBhcnJbaSArIDFdO1xuICAgICAgICBpZiAodHlwZW9mIGhvb2sgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBsYXN0Tm9kZUluZGV4Rm91bmQgPSBhcnJbaV07XG4gICAgICAgICAgICBpZiAoY3VycmVudE5vZGVJbmRleCAhPSBudWxsICYmIGxhc3ROb2RlSW5kZXhGb3VuZCA+PSBjdXJyZW50Tm9kZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpc0luaXRIb29rID0gYXJyW2ldIDwgMDtcbiAgICAgICAgICAgIGlmIChpc0luaXRIb29rKVxuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdICs9IDY1NTM2IC8qIE51bWJlck9mSW5pdEhvb2tzQ2FsbGVkSW5jcmVtZW50ZXIgKi87XG4gICAgICAgICAgICBpZiAobGFzdE5vZGVJbmRleEZvdW5kIDwgbm9kZUluZGV4TGltaXQgfHwgbm9kZUluZGV4TGltaXQgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjYWxsSG9vayhjdXJyZW50VmlldywgaW5pdFBoYXNlLCBhcnIsIGkpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdID1cbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdICYgNDI5NDkwMTc2MCAvKiBOdW1iZXJPZkluaXRIb29rc0NhbGxlZE1hc2sgKi8pICsgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBFeGVjdXRlIG9uZSBob29rIGFnYWluc3QgdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIGN1cnJlbnQgdmlld1xuICogQHBhcmFtIGluaXRQaGFzZVN0YXRlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBpbml0IHBoYXNlXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSBpbiB3aGljaCB0aGUgaG9va3MgYXJlIGZvdW5kXG4gKiBAcGFyYW0gaSBUaGUgY3VycmVudCBpbmRleCB3aXRoaW4gdGhlIGhvb2sgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiBjYWxsSG9vayhjdXJyZW50VmlldywgaW5pdFBoYXNlLCBhcnIsIGkpIHtcbiAgICBjb25zdCBpc0luaXRIb29rID0gYXJyW2ldIDwgMDtcbiAgICBjb25zdCBob29rID0gYXJyW2kgKyAxXTtcbiAgICBjb25zdCBkaXJlY3RpdmVJbmRleCA9IGlzSW5pdEhvb2sgPyAtYXJyW2ldIDogYXJyW2ldO1xuICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGN1cnJlbnRWaWV3W2RpcmVjdGl2ZUluZGV4XTtcbiAgICBpZiAoaXNJbml0SG9vaykge1xuICAgICAgICBjb25zdCBpbmRleFdpdGhpbnRJbml0UGhhc2UgPSBjdXJyZW50Vmlld1tGTEFHU10gPj4gMTEgLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VTaGlmdCAqLztcbiAgICAgICAgLy8gVGhlIGluaXQgcGhhc2Ugc3RhdGUgbXVzdCBiZSBhbHdheXMgY2hlY2tlZCBoZXJlIGFzIGl0IG1heSBoYXZlIGJlZW4gcmVjdXJzaXZlbHkgdXBkYXRlZC5cbiAgICAgICAgaWYgKGluZGV4V2l0aGludEluaXRQaGFzZSA8XG4gICAgICAgICAgICAoY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gPj4gMTYgLyogTnVtYmVyT2ZJbml0SG9va3NDYWxsZWRTaGlmdCAqLykgJiZcbiAgICAgICAgICAgIChjdXJyZW50Vmlld1tGTEFHU10gJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IGluaXRQaGFzZSkge1xuICAgICAgICAgICAgY3VycmVudFZpZXdbRkxBR1NdICs9IDIwNDggLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VJbmNyZW1lbnRlciAqLztcbiAgICAgICAgICAgIHByb2ZpbGVyKDQgLyogTGlmZWN5Y2xlSG9va1N0YXJ0ICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBob29rLmNhbGwoZGlyZWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGRpcmVjdGl2ZSwgaG9vayk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBob29rLmNhbGwoZGlyZWN0aXZlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBOT19QQVJFTlRfSU5KRUNUT1IgPSAtMTtcbi8qKlxuICogRWFjaCBpbmplY3RvciBpcyBzYXZlZCBpbiA5IGNvbnRpZ3VvdXMgc2xvdHMgaW4gYExWaWV3YCBhbmQgOSBjb250aWd1b3VzIHNsb3RzIGluXG4gKiBgVFZpZXcuZGF0YWAuIFRoaXMgYWxsb3dzIHVzIHRvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IG5vZGUncyB0b2tlbnMgKHdoaWNoXG4gKiBjYW4gYmUgc2hhcmVkIGluIGBUVmlld2ApIGFzIHdlbGwgYXMgdGhlIHRva2VucyBvZiBpdHMgYW5jZXN0b3Igbm9kZXMgKHdoaWNoIGNhbm5vdCBiZVxuICogc2hhcmVkLCBzbyB0aGV5IGxpdmUgaW4gYExWaWV3YCkuXG4gKlxuICogRWFjaCBvZiB0aGVzZSBzbG90cyAoYXNpZGUgZnJvbSB0aGUgbGFzdCBzbG90KSBjb250YWlucyBhIGJsb29tIGZpbHRlci4gVGhpcyBibG9vbSBmaWx0ZXJcbiAqIGRldGVybWluZXMgd2hldGhlciBhIGRpcmVjdGl2ZSBpcyBhdmFpbGFibGUgb24gdGhlIGFzc29jaWF0ZWQgbm9kZSBvciBub3QuIFRoaXMgcHJldmVudHMgdXNcbiAqIGZyb20gc2VhcmNoaW5nIHRoZSBkaXJlY3RpdmVzIGFycmF5IGF0IHRoaXMgbGV2ZWwgdW5sZXNzIGl0J3MgcHJvYmFibGUgdGhlIGRpcmVjdGl2ZSBpcyBpbiBpdC5cbiAqXG4gKiBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jsb29tX2ZpbHRlciBmb3IgbW9yZSBhYm91dCBibG9vbSBmaWx0ZXJzLlxuICpcbiAqIEJlY2F1c2UgYWxsIGluamVjdG9ycyBoYXZlIGJlZW4gZmxhdHRlbmVkIGludG8gYExWaWV3YCBhbmQgYFRWaWV3RGF0YWAsIHRoZXkgY2Fubm90IHR5cGVkXG4gKiB1c2luZyBpbnRlcmZhY2VzIGFzIHRoZXkgd2VyZSBwcmV2aW91c2x5LiBUaGUgc3RhcnQgaW5kZXggb2YgZWFjaCBgTEluamVjdG9yYCBhbmQgYFRJbmplY3RvcmBcbiAqIHdpbGwgZGlmZmVyIGJhc2VkIG9uIHdoZXJlIGl0IGlzIGZsYXR0ZW5lZCBpbnRvIHRoZSBtYWluIGFycmF5LCBzbyBpdCdzIG5vdCBwb3NzaWJsZSB0byBrbm93XG4gKiB0aGUgaW5kaWNlcyBhaGVhZCBvZiB0aW1lIGFuZCBzYXZlIHRoZWlyIHR5cGVzIGhlcmUuIFRoZSBpbnRlcmZhY2VzIGFyZSBzdGlsbCBpbmNsdWRlZCBoZXJlXG4gKiBmb3IgZG9jdW1lbnRhdGlvbiBwdXJwb3Nlcy5cbiAqXG4gKiBleHBvcnQgaW50ZXJmYWNlIExJbmplY3RvciBleHRlbmRzIEFycmF5PGFueT4ge1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMC0zMSAgKElEcyBhcmUgJSBCTE9PTV9TSVpFKVxuICogICAgWzBdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAzMi02M1xuICogICAgWzFdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA2NC05NVxuICogICAgWzJdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA5Ni0xMjdcbiAqICAgIFszXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTI4LTE1OVxuICogICAgWzRdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxNjAgLSAxOTFcbiAqICAgIFs1XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTkyIC0gMjIzXG4gKiAgICBbNl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDIyNCAtIDI1NVxuICogICAgWzddOiBudW1iZXI7XG4gKlxuICogICAgLy8gV2UgbmVlZCB0byBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgaW5qZWN0b3IncyBwYXJlbnQgc28gREkgY2FuIGtlZXAgbG9va2luZyB1cFxuICogICAgLy8gdGhlIGluamVjdG9yIHRyZWUgdW50aWwgaXQgZmluZHMgdGhlIGRlcGVuZGVuY3kgaXQncyBsb29raW5nIGZvci5cbiAqICAgIFtQQVJFTlRfSU5KRUNUT1JdOiBudW1iZXI7XG4gKiB9XG4gKlxuICogZXhwb3J0IGludGVyZmFjZSBUSW5qZWN0b3IgZXh0ZW5kcyBBcnJheTxhbnk+IHtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAwLTMxICAoSURzIGFyZSAlIEJMT09NX1NJWkUpXG4gKiAgICBbMF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAzMi02M1xuICogICAgWzFdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgNjQtOTVcbiAqICAgIFsyXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDk2LTEyN1xuICogICAgWzNdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTI4LTE1OVxuICogICAgWzRdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTYwIC0gMTkxXG4gKiAgICBbNV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxOTIgLSAyMjNcbiAqICAgIFs2XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDIyNCAtIDI1NVxuICogICAgWzddOiBudW1iZXI7XG4gKlxuICogICAgLy8gTmVjZXNzYXJ5IHRvIGZpbmQgZGlyZWN0aXZlIGluZGljZXMgZm9yIGEgcGFydGljdWxhciBub2RlLlxuICogICAgW1ROT0RFXTogVEVsZW1lbnROb2RlfFRFbGVtZW50Q29udGFpbmVyTm9kZXxUQ29udGFpbmVyTm9kZTtcbiAqICB9XG4gKi9cbi8qKlxuICogRmFjdG9yeSBmb3IgY3JlYXRpbmcgaW5zdGFuY2VzIG9mIGluamVjdG9ycyBpbiB0aGUgTm9kZUluamVjdG9yLlxuICpcbiAqIFRoaXMgZmFjdG9yeSBpcyBjb21wbGljYXRlZCBieSB0aGUgZmFjdCB0aGF0IGl0IGNhbiByZXNvbHZlIGBtdWx0aWAgZmFjdG9yaWVzIGFzIHdlbGwuXG4gKlxuICogTk9URTogU29tZSBvZiB0aGUgZmllbGRzIGFyZSBvcHRpb25hbCB3aGljaCBtZWFucyB0aGF0IHRoaXMgY2xhc3MgaGFzIHR3byBoaWRkZW4gY2xhc3Nlcy5cbiAqIC0gT25lIHdpdGhvdXQgYG11bHRpYCBzdXBwb3J0IChtb3N0IGNvbW1vbilcbiAqIC0gT25lIHdpdGggYG11bHRpYCB2YWx1ZXMsIChyYXJlKS5cbiAqXG4gKiBTaW5jZSBWTXMgY2FuIGNhY2hlIHVwIHRvIDQgaW5saW5lIGhpZGRlbiBjbGFzc2VzIHRoaXMgaXMgT0suXG4gKlxuICogLSBTaW5nbGUgZmFjdG9yeTogT25seSBgcmVzb2x2aW5nYCBhbmQgYGZhY3RvcnlgIGlzIGRlZmluZWQuXG4gKiAtIGBwcm92aWRlcnNgIGZhY3Rvcnk6IGBjb21wb25lbnRQcm92aWRlcnNgIGlzIGEgbnVtYmVyIGFuZCBgaW5kZXggPSAtMWAuXG4gKiAtIGB2aWV3UHJvdmlkZXJzYCBmYWN0b3J5OiBgY29tcG9uZW50UHJvdmlkZXJzYCBpcyBhIG51bWJlciBhbmQgYGluZGV4YCBwb2ludHMgdG8gYHByb3ZpZGVyc2AuXG4gKi9cbmNsYXNzIE5vZGVJbmplY3RvckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgdG8gaW52b2tlIGluIG9yZGVyIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBTZXQgdG8gYHRydWVgIGlmIHRoZSB0b2tlbiBpcyBkZWNsYXJlZCBpbiBgdmlld1Byb3ZpZGVyc2AgKG9yIGlmIGl0IGlzIGNvbXBvbmVudCkuXG4gICAgICovXG4gICAgaXNWaWV3UHJvdmlkZXIsIGluamVjdEltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXJrZXIgc2V0IHRvIHRydWUgZHVyaW5nIGZhY3RvcnkgaW52b2NhdGlvbiB0byBzZWUgaWYgd2UgZ2V0IGludG8gcmVjdXJzaXZlIGxvb3AuXG4gICAgICAgICAqIFJlY3Vyc2l2ZSBsb29wIGNhdXNlcyBhbiBlcnJvciB0byBiZSBkaXNwbGF5ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChmYWN0b3J5LCAnRmFjdG9yeSBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0eXBlb2YgZmFjdG9yeSwgJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGZhY3RvcnkgZnVuY3Rpb24uJyk7XG4gICAgICAgIHRoaXMuY2FuU2VlVmlld1Byb3ZpZGVycyA9IGlzVmlld1Byb3ZpZGVyO1xuICAgICAgICB0aGlzLmluamVjdEltcGwgPSBpbmplY3RJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0ZhY3Rvcnkob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE5vZGVJbmplY3RvckZhY3Rvcnk7XG59XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ1ID0gMTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgVE5vZGVUeXBlYCBpbnRvIGh1bWFuIHJlYWRhYmxlIHRleHQuXG4gKiBNYWtlIHN1cmUgdGhpcyBtYXRjaGVzIHdpdGggYFROb2RlVHlwZWBcbiAqL1xuZnVuY3Rpb24gdG9UTm9kZVR5cGVBc1N0cmluZyh0Tm9kZVR5cGUpIHtcbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgICh0Tm9kZVR5cGUgJiAxIC8qIFRleHQgKi8pICYmICh0ZXh0ICs9ICd8VGV4dCcpO1xuICAgICh0Tm9kZVR5cGUgJiAyIC8qIEVsZW1lbnQgKi8pICYmICh0ZXh0ICs9ICd8RWxlbWVudCcpO1xuICAgICh0Tm9kZVR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykgJiYgKHRleHQgKz0gJ3xDb250YWluZXInKTtcbiAgICAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSAmJiAodGV4dCArPSAnfEVsZW1lbnRDb250YWluZXInKTtcbiAgICAodE5vZGVUeXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykgJiYgKHRleHQgKz0gJ3xQcm9qZWN0aW9uJyk7XG4gICAgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykgJiYgKHRleHQgKz0gJ3xJY3VDb250YWluZXInKTtcbiAgICAodE5vZGVUeXBlICYgNjQgLyogUGxhY2Vob2xkZXIgKi8pICYmICh0ZXh0ICs9ICd8UGxhY2Vob2xkZXInKTtcbiAgICByZXR1cm4gdGV4dC5sZW5ndGggPiAwID8gdGV4dC5zdWJzdHJpbmcoMSkgOiB0ZXh0O1xufVxuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNCA9IDE7XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBgVE5vZGVgIGhhcyBhIGRpcmVjdGl2ZSB3aGljaCBoYXMgYEBJbnB1dCgpYCBmb3IgYGNsYXNzYCBiaW5kaW5nLlxuICpcbiAqIGBgYFxuICogPGRpdiBteS1kaXIgW2NsYXNzXT1cImV4cFwiPjwvZGl2PlxuICogYGBgXG4gKiBhbmRcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiB9KVxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICBASW5wdXQoKVxuICogICBjbGFzczogc3RyaW5nO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGNhc2UgaXQgaXMgbmVjZXNzYXJ5IHRvIHdyaXRlIHRoZSByZWNvbmNpbGVkIHN0eWxpbmcgaW5mb3JtYXRpb24gaW50byB0aGVcbiAqIGRpcmVjdGl2ZSdzIGlucHV0LlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICovXG5mdW5jdGlvbiBoYXNDbGFzc0lucHV0KHROb2RlKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIDE2IC8qIGhhc0NsYXNzSW5wdXQgKi8pICE9PSAwO1xufVxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYFROb2RlYCBoYXMgYSBkaXJlY3RpdmUgd2hpY2ggaGFzIGBASW5wdXQoKWAgZm9yIGBzdHlsZWAgYmluZGluZy5cbiAqXG4gKiBgYGBcbiAqIDxkaXYgbXktZGlyIFtzdHlsZV09XCJleHBcIj48L2Rpdj5cbiAqIGBgYFxuICogYW5kXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoe1xuICogfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgQElucHV0KClcbiAqICAgY2xhc3M6IHN0cmluZztcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGl0IGlzIG5lY2Vzc2FyeSB0byB3cml0ZSB0aGUgcmVjb25jaWxlZCBzdHlsaW5nIGluZm9ybWF0aW9uIGludG8gdGhlXG4gKiBkaXJlY3RpdmUncyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqL1xuZnVuY3Rpb24gaGFzU3R5bGVJbnB1dCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAzMiAvKiBoYXNTdHlsZUlucHV0ICovKSAhPT0gMDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIGV4cGVjdGVkVHlwZXMsIG1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKHROb2RlLCAnc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgVE5vZGUnKTtcbiAgICBpZiAoKHROb2RlLnR5cGUgJiBleHBlY3RlZFR5cGVzKSA9PT0gMCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1lc3NhZ2UgfHxcbiAgICAgICAgICAgIGBFeHBlY3RlZCBbJHt0b1ROb2RlVHlwZUFzU3RyaW5nKGV4cGVjdGVkVHlwZXMpfV0gYnV0IGdvdCAke3RvVE5vZGVUeXBlQXNTdHJpbmcodE5vZGUudHlwZSl9LmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFB1cmVUTm9kZVR5cGUodHlwZSkge1xuICAgIGlmICghKHR5cGUgPT09IDIgLyogRWxlbWVudCAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSAxIC8qIFRleHQgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gNCAvKiBDb250YWluZXIgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gOCAvKiBFbGVtZW50Q29udGFpbmVyICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDMyIC8qIEljdSAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSAxNiAvKiBQcm9qZWN0aW9uICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDY0IC8qIFBsYWNlaG9sZGVyICovKSkge1xuICAgICAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCBUTm9kZVR5cGUgdG8gaGF2ZSBvbmx5IGEgc2luZ2xlIHR5cGUgc2VsZWN0ZWQsIGJ1dCBnb3QgJHt0b1ROb2RlVHlwZUFzU3RyaW5nKHR5cGUpfS5gKTtcbiAgICB9XG59XG5cbi8qKlxuICogQXNzaWducyBhbGwgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgcHJvdmlkZWQgZWxlbWVudCB2aWEgdGhlIGluZmVycmVkIHJlbmRlcmVyLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyB0d28gZm9ybXMgb2YgYXR0cmlidXRlIGVudHJpZXM6XG4gKlxuICogZGVmYXVsdDogKGtleSwgdmFsdWUpOlxuICogIGF0dHJzID0gW2tleTEsIHZhbHVlMSwga2V5MiwgdmFsdWUyXVxuICpcbiAqIG5hbWVzcGFjZWQ6IChOQU1FU1BBQ0VfTUFSS0VSLCB1cmksIG5hbWUsIHZhbHVlKVxuICogIGF0dHJzID0gW05BTUVTUEFDRV9NQVJLRVIsIHVyaSwgbmFtZSwgdmFsdWUsIE5BTUVTUEFDRV9NQVJLRVIsIHVyaSwgbmFtZSwgdmFsdWVdXG4gKlxuICogVGhlIGBhdHRyc2AgYXJyYXkgY2FuIGNvbnRhaW4gYSBtaXggb2YgYm90aCB0aGUgZGVmYXVsdCBhbmQgbmFtZXNwYWNlZCBlbnRyaWVzLlxuICogVGhlIFwiZGVmYXVsdFwiIHZhbHVlcyBhcmUgc2V0IHdpdGhvdXQgYSBtYXJrZXIsIGJ1dCBpZiB0aGUgZnVuY3Rpb24gY29tZXMgYWNyb3NzXG4gKiBhIG1hcmtlciB2YWx1ZSB0aGVuIGl0IHdpbGwgYXR0ZW1wdCB0byBzZXQgYSBuYW1lc3BhY2VkIHZhbHVlLiBJZiB0aGUgbWFya2VyIGlzXG4gKiBub3Qgb2YgYSBuYW1lc3BhY2VkIHZhbHVlIHRoZW4gdGhlIGZ1bmN0aW9uIHdpbGwgcXVpdCBhbmQgcmV0dXJuIHRoZSBpbmRleCB2YWx1ZVxuICogd2hlcmUgaXQgc3RvcHBlZCBkdXJpbmcgdGhlIGl0ZXJhdGlvbiBvZiB0aGUgYXR0cnMgYXJyYXkuXG4gKlxuICogU2VlIFtBdHRyaWJ1dGVNYXJrZXJdIHRvIHVuZGVyc3RhbmQgd2hhdCB0aGUgbmFtZXNwYWNlIG1hcmtlciB2YWx1ZSBpcy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBpbnN0cnVjdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGFzc2lnbmluZyBzdHlsZSBhbmQgY2xhc3MgdmFsdWVzIHRvXG4gKiBhbiBlbGVtZW50LiBTZWUgYGVsZW1lbnRTdGFydGAgYW5kIGBlbGVtZW50SG9zdEF0dHJzYCB0byBsZWFybiBob3cgc3R5bGluZyB2YWx1ZXNcbiAqIGFyZSBhcHBsaWVkIHRvIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRvIGJlIHVzZWRcbiAqIEBwYXJhbSBuYXRpdmUgVGhlIGVsZW1lbnQgdGhhdCB0aGUgYXR0cmlidXRlcyB3aWxsIGJlIGFzc2lnbmVkIHRvXG4gKiBAcGFyYW0gYXR0cnMgVGhlIGF0dHJpYnV0ZSBhcnJheSBvZiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSBlbGVtZW50XG4gKiBAcmV0dXJucyB0aGUgaW5kZXggdmFsdWUgdGhhdCB3YXMgbGFzdCBhY2Nlc3NlZCBpbiB0aGUgYXR0cmlidXRlcyBhcnJheVxuICovXG5mdW5jdGlvbiBzZXRVcEF0dHJpYnV0ZXMocmVuZGVyZXIsIG5hdGl2ZSwgYXR0cnMpIHtcbiAgICBjb25zdCBpc1Byb2MgPSBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cnNbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG5hbWVzcGFjZXMgYXJlIHN1cHBvcnRlZC4gT3RoZXIgdmFsdWUgdHlwZXMgKHN1Y2ggYXMgc3R5bGUvY2xhc3NcbiAgICAgICAgICAgIC8vIGVudHJpZXMpIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBqdXN0IGxhbmRlZCBvbiB0aGUgbWFya2VyIHZhbHVlIC4uLiB0aGVyZWZvcmVcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCBza2lwIHRvIHRoZSBuZXh0IGVudHJ5XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VVUkkgPSBhdHRyc1tpKytdO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBhdHRyc1tpKytdO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbCA9IGF0dHJzW2krK107XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgICAgICBpc1Byb2MgP1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShuYXRpdmUsIGF0dHJOYW1lLCBhdHRyVmFsLCBuYW1lc3BhY2VVUkkpIDpcbiAgICAgICAgICAgICAgICBuYXRpdmUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlVVJJLCBhdHRyTmFtZSwgYXR0clZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBhdHRyTmFtZSBpcyBzdHJpbmc7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbCA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAvLyBTdGFuZGFyZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgICAgICBpZiAoaXNBbmltYXRpb25Qcm9wKGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1Byb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0UHJvcGVydHkobmF0aXZlLCBhdHRyTmFtZSwgYXR0clZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNQcm9jID9cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwpIDpcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYW5vdGhlciBwaWVjZSBvZiBjb2RlIG1heSBpdGVyYXRlIG92ZXIgdGhlIHNhbWUgYXR0cmlidXRlcyBhcnJheS4gVGhlcmVmb3JlXG4gICAgLy8gaXQgbWF5IGJlIGhlbHBmdWwgdG8gcmV0dXJuIHRoZSBleGFjdCBzcG90IHdoZXJlIHRoZSBhdHRyaWJ1dGVzIGFycmF5IGV4aXRlZFxuICAgIC8vIHdoZXRoZXIgYnkgcnVubmluZyBpbnRvIGFuIHVuc3VwcG9ydGVkIG1hcmtlciBvciBpZiBhbGwgdGhlIHN0YXRpYyB2YWx1ZXMgd2VyZVxuICAgIC8vIGl0ZXJhdGVkIG92ZXIuXG4gICAgcmV0dXJuIGk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBtYXJrZXIgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZm9sbG93aW5nXG4gKiBhdHRyaWJ1dGUgdmFsdWVzIGluIGEgYFRBdHRyaWJ1dGVzYCBhcnJheSBhcmUgb25seSB0aGUgbmFtZXMgb2YgYXR0cmlidXRlcyxcbiAqIGFuZCBub3QgbmFtZS12YWx1ZSBwYWlycy5cbiAqIEBwYXJhbSBtYXJrZXIgVGhlIGF0dHJpYnV0ZSBtYXJrZXIgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIG1hcmtlciBpcyBhIFwibmFtZS1vbmx5XCIgbWFya2VyIChlLmcuIGBCaW5kaW5nc2AsIGBUZW1wbGF0ZWAgb3IgYEkxOG5gKS5cbiAqL1xuZnVuY3Rpb24gaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlcihtYXJrZXIpIHtcbiAgICByZXR1cm4gbWFya2VyID09PSAzIC8qIEJpbmRpbmdzICovIHx8IG1hcmtlciA9PT0gNCAvKiBUZW1wbGF0ZSAqLyB8fFxuICAgICAgICBtYXJrZXIgPT09IDYgLyogSTE4biAqLztcbn1cbmZ1bmN0aW9uIGlzQW5pbWF0aW9uUHJvcChuYW1lKSB7XG4gICAgLy8gUGVyZiBub3RlOiBhY2Nlc3NpbmcgY2hhckNvZGVBdCB0byBjaGVjayBmb3IgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZyBpcyBmYXN0ZXIgYXNcbiAgICAvLyBjb21wYXJlZCB0byBhY2Nlc3NpbmcgYSBjaGFyYWN0ZXIgYXQgaW5kZXggMCAoZXguIG5hbWVbMF0pLiBUaGUgbWFpbiByZWFzb24gZm9yIHRoaXMgaXMgdGhhdFxuICAgIC8vIGNoYXJDb2RlQXQgZG9lc24ndCBhbGxvY2F0ZSBtZW1vcnkgdG8gcmV0dXJuIGEgc3Vic3RyaW5nLlxuICAgIHJldHVybiBuYW1lLmNoYXJDb2RlQXQoMCkgPT09IDY0IC8qIEFUX1NJR04gKi87XG59XG4vKipcbiAqIE1lcmdlcyBgc3JjYCBgVEF0dHJpYnV0ZXNgIGludG8gYGRzdGAgYFRBdHRyaWJ1dGVzYCByZW1vdmluZyBhbnkgZHVwbGljYXRlcyBpbiB0aGUgcHJvY2Vzcy5cbiAqXG4gKiBUaGlzIG1lcmdlIGZ1bmN0aW9uIGtlZXBzIHRoZSBvcmRlciBvZiBhdHRycyBzYW1lLlxuICpcbiAqIEBwYXJhbSBkc3QgTG9jYXRpb24gb2Ygd2hlcmUgdGhlIG1lcmdlZCBgVEF0dHJpYnV0ZXNgIHNob3VsZCBlbmQgdXAuXG4gKiBAcGFyYW0gc3JjIGBUQXR0cmlidXRlc2Agd2hpY2ggc2hvdWxkIGJlIGFwcGVuZGVkIHRvIGBkc3RgXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9zdEF0dHJzKGRzdCwgc3JjKSB7XG4gICAgaWYgKHNyYyA9PT0gbnVsbCB8fCBzcmMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgZWxzZSBpZiAoZHN0ID09PSBudWxsIHx8IGRzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBzb3VyY2UsIGJ1dCBkc3QgaXMgZW1wdHksIGp1c3QgbWFrZSBhIGNvcHkuXG4gICAgICAgIGRzdCA9IHNyYy5zbGljZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHNyY01hcmtlciA9IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzcmNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3JjTWFya2VyID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzcmNNYXJrZXIgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugd2hlcmUgd2UgbmVlZCB0byBjb25zdW1lIGBrZXkxYCwgYGtleTJgLCBgdmFsdWVgIGl0ZW1zLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzcmNNYXJrZXIgPT09IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLyB8fFxuICAgICAgICAgICAgICAgICAgICBzcmNNYXJrZXIgPT09IDIgLyogU3R5bGVzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugd2hlcmUgd2UgaGF2ZSB0byBjb25zdW1lIGBrZXkxYCBhbmQgYHZhbHVlYCBvbmx5LlxuICAgICAgICAgICAgICAgICAgICBtZXJnZUhvc3RBdHRyaWJ1dGUoZHN0LCBzcmNNYXJrZXIsIGl0ZW0sIG51bGwsIHNyY1srK2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugd2hlcmUgd2UgaGF2ZSB0byBjb25zdW1lIGBrZXkxYCBvbmx5LlxuICAgICAgICAgICAgICAgICAgICBtZXJnZUhvc3RBdHRyaWJ1dGUoZHN0LCBzcmNNYXJrZXIsIGl0ZW0sIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBcHBlbmQgYGtleWAvYHZhbHVlYCB0byBleGlzdGluZyBgVEF0dHJpYnV0ZXNgIHRha2luZyByZWdpb24gbWFya2VyIGFuZCBkdXBsaWNhdGVzIGludG8gYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0gZHN0IGBUQXR0cmlidXRlc2AgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIG1hcmtlciBSZWdpb24gd2hlcmUgdGhlIGBrZXlgL2B2YWx1ZWAgc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIGtleTEgS2V5IHRvIGFkZCB0byBgVEF0dHJpYnV0ZXNgXG4gKiBAcGFyYW0ga2V5MiBLZXkgdG8gYWRkIHRvIGBUQXR0cmlidXRlc2AgKGluIGNhc2Ugb2YgYEF0dHJpYnV0ZU1hcmtlci5OYW1lc3BhY2VVUklgKVxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGFkZCBvciB0byBvdmVyd3JpdGUgdG8gYFRBdHRyaWJ1dGVzYCBPbmx5IHVzZWQgaWYgYG1hcmtlcmAgaXMgbm90IENsYXNzLlxuICovXG5mdW5jdGlvbiBtZXJnZUhvc3RBdHRyaWJ1dGUoZHN0LCBtYXJrZXIsIGtleTEsIGtleTIsIHZhbHVlKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIEFzc3VtZSB0aGF0IG5ldyBtYXJrZXJzIHdpbGwgYmUgaW5zZXJ0ZWQgYXQgdGhlIGVuZC5cbiAgICBsZXQgbWFya2VySW5zZXJ0UG9zaXRpb24gPSBkc3QubGVuZ3RoO1xuICAgIC8vIHNjYW4gdW50aWwgY29ycmVjdCB0eXBlLlxuICAgIGlmIChtYXJrZXIgPT09IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLykge1xuICAgICAgICBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGkgPCBkc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBkc3RWYWx1ZSA9IGRzdFtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkc3RWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAoZHN0VmFsdWUgPT09IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZHN0VmFsdWUgPiBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBzYXZlIHRoaXMgYXMgd2Ugd2FudCB0aGUgbWFya2VycyB0byBiZSBpbnNlcnRlZCBpbiBzcGVjaWZpYyBvcmRlci5cbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zZXJ0UG9zaXRpb24gPSBpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHNlYXJjaCB1bnRpbCB5b3UgZmluZCBwbGFjZSBvZiBpbnNlcnRpb25cbiAgICB3aGlsZSAoaSA8IGRzdC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRzdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gc2luY2UgYGlgIHN0YXJ0ZWQgYXMgdGhlIGluZGV4IGFmdGVyIHRoZSBtYXJrZXIsIHdlIGRpZCBub3QgZmluZCBpdCBpZiB3ZSBhcmUgYXQgdGhlIG5leHRcbiAgICAgICAgICAgIC8vIG1hcmtlclxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSA9PT0ga2V5MSkge1xuICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIHNhbWUgdG9rZW5cbiAgICAgICAgICAgIGlmIChrZXkyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFtpICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5MiA9PT0gZHN0W2kgKyAxXSkge1xuICAgICAgICAgICAgICAgIGRzdFtpICsgMl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXIuXG4gICAgICAgIGkrKztcbiAgICAgICAgaWYgKGtleTIgIT09IG51bGwpXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIGkrKztcbiAgICB9XG4gICAgLy8gaW5zZXJ0IGF0IGxvY2F0aW9uLlxuICAgIGlmIChtYXJrZXJJbnNlcnRQb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgZHN0LnNwbGljZShtYXJrZXJJbnNlcnRQb3NpdGlvbiwgMCwgbWFya2VyKTtcbiAgICAgICAgaSA9IG1hcmtlckluc2VydFBvc2l0aW9uICsgMTtcbiAgICB9XG4gICAgZHN0LnNwbGljZShpKyssIDAsIGtleTEpO1xuICAgIGlmIChrZXkyICE9PSBudWxsKSB7XG4gICAgICAgIGRzdC5zcGxpY2UoaSsrLCAwLCBrZXkyKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIGRzdC5zcGxpY2UoaSsrLCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vLyBQYXJlbnQgSW5qZWN0b3IgVXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2NhdGlvbikge1xuICAgIHJldHVybiBwYXJlbnRMb2NhdGlvbiAhPT0gTk9fUEFSRU5UX0lOSkVDVE9SO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIocGFyZW50TG9jYXRpb24sICdOdW1iZXIgZXhwZWN0ZWQnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwocGFyZW50TG9jYXRpb24sIC0xLCAnTm90IGEgdmFsaWQgc3RhdGUuJyk7XG4gICAgY29uc3QgcGFyZW50SW5qZWN0b3JJbmRleCA9IHBhcmVudExvY2F0aW9uICYgMzI3NjcgLyogSW5qZWN0b3JJbmRleE1hc2sgKi87XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuKHBhcmVudEluamVjdG9ySW5kZXgsIEhFQURFUl9PRkZTRVQsICdQYXJlbnQgaW5qZWN0b3IgbXVzdCBiZSBwb2ludGluZyBwYXN0IEhFQURFUl9PRkZTRVQuJyk7XG4gICAgcmV0dXJuIHBhcmVudExvY2F0aW9uICYgMzI3NjcgLyogSW5qZWN0b3JJbmRleE1hc2sgKi87XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRJbmplY3RvclZpZXdPZmZzZXQocGFyZW50TG9jYXRpb24pIHtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gPj4gMTYgLyogVmlld09mZnNldFNoaWZ0ICovO1xufVxuLyoqXG4gKiBVbndyYXBzIGEgcGFyZW50IGluamVjdG9yIGxvY2F0aW9uIG51bWJlciB0byBmaW5kIHRoZSB2aWV3IG9mZnNldCBmcm9tIHRoZSBjdXJyZW50IGluamVjdG9yLFxuICogdGhlbiB3YWxrcyB1cCB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIHVudGlsIHRoZSB2aWV3IGlzIGZvdW5kIHRoYXQgY29udGFpbnMgdGhlIHBhcmVudFxuICogaW5qZWN0b3IuXG4gKlxuICogQHBhcmFtIGxvY2F0aW9uIFRoZSBsb2NhdGlvbiBvZiB0aGUgcGFyZW50IGluamVjdG9yLCB3aGljaCBjb250YWlucyB0aGUgdmlldyBvZmZzZXRcbiAqIEBwYXJhbSBzdGFydFZpZXcgVGhlIExWaWV3IGluc3RhbmNlIGZyb20gd2hpY2ggdG8gc3RhcnQgd2Fsa2luZyB1cCB0aGUgdmlldyB0cmVlXG4gKiBAcmV0dXJucyBUaGUgTFZpZXcgaW5zdGFuY2UgdGhhdCBjb250YWlucyB0aGUgcGFyZW50IGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yVmlldyhsb2NhdGlvbiwgc3RhcnRWaWV3KSB7XG4gICAgbGV0IHZpZXdPZmZzZXQgPSBnZXRQYXJlbnRJbmplY3RvclZpZXdPZmZzZXQobG9jYXRpb24pO1xuICAgIGxldCBwYXJlbnRWaWV3ID0gc3RhcnRWaWV3O1xuICAgIC8vIEZvciBtb3N0IGNhc2VzLCB0aGUgcGFyZW50IGluamVjdG9yIGNhbiBiZSBmb3VuZCBvbiB0aGUgaG9zdCBub2RlIChlLmcuIGZvciBjb21wb25lbnRcbiAgICAvLyBvciBjb250YWluZXIpLCBidXQgd2UgbXVzdCBrZWVwIHRoZSBsb29wIGhlcmUgdG8gc3VwcG9ydCB0aGUgcmFyZXIgY2FzZSBvZiBkZWVwbHkgbmVzdGVkXG4gICAgLy8gPG5nLXRlbXBsYXRlPiB0YWdzIG9yIGlubGluZSB2aWV3cywgd2hlcmUgdGhlIHBhcmVudCBpbmplY3RvciBtaWdodCBsaXZlIG1hbnkgdmlld3NcbiAgICAvLyBhYm92ZSB0aGUgY2hpbGQgaW5qZWN0b3IuXG4gICAgd2hpbGUgKHZpZXdPZmZzZXQgPiAwKSB7XG4gICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICB2aWV3T2Zmc2V0LS07XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRWaWV3O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyBpZiB0aGUgY2FsbCB0byBgaW5qZWN0YCBzaG91bGQgaW5jbHVkZSBgdmlld1Byb3ZpZGVyc2AgaW4gaXRzIHJlc29sdXRpb24uXG4gKlxuICogVGhpcyBpcyBzZXQgdG8gdHJ1ZSB3aGVuIHdlIHRyeSB0byBpbnN0YW50aWF0ZSBhIGNvbXBvbmVudC4gVGhpcyB2YWx1ZSBpcyByZXNldCBpblxuICogYGdldE5vZGVJbmplY3RhYmxlYCB0byBhIHZhbHVlIHdoaWNoIG1hdGNoZXMgdGhlIGRlY2xhcmF0aW9uIGxvY2F0aW9uIG9mIHRoZSB0b2tlbiBhYm91dCB0byBiZVxuICogaW5zdGFudGlhdGVkLiBUaGlzIGlzIGRvbmUgc28gdGhhdCBpZiB3ZSBhcmUgaW5qZWN0aW5nIGEgdG9rZW4gd2hpY2ggd2FzIGRlY2xhcmVkIG91dHNpZGUgb2ZcbiAqIGB2aWV3UHJvdmlkZXJzYCB3ZSBkb24ndCBhY2NpZGVudGFsbHkgcHVsbCBgdmlld1Byb3ZpZGVyc2AgaW4uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIE15U2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogU3RyaW5nKSB7fVxuICogfVxuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBwcm92aWRlcnM6IFtcbiAqICAgICBNeVNlcnZpY2UsXG4gKiAgICAge3Byb3ZpZGU6IFN0cmluZywgdmFsdWU6ICdwcm92aWRlcnMnIH1cbiAqICAgXVxuICogICB2aWV3UHJvdmlkZXJzOiBbXG4gKiAgICAge3Byb3ZpZGU6IFN0cmluZywgdmFsdWU6ICd2aWV3UHJvdmlkZXJzJ31cbiAqICAgXVxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IobXlTZXJ2aWNlOiBNeVNlcnZpY2UsIHZhbHVlOiBTdHJpbmcpIHtcbiAqICAgICAvLyBXZSBleHBlY3QgdGhhdCBDb21wb25lbnQgY2FuIHNlZSBpbnRvIGB2aWV3UHJvdmlkZXJzYC5cbiAqICAgICBleHBlY3QodmFsdWUpLnRvRXF1YWwoJ3ZpZXdQcm92aWRlcnMnKTtcbiAqICAgICAvLyBgTXlTZXJ2aWNlYCB3YXMgbm90IGRlY2xhcmVkIGluIGB2aWV3UHJvdmlkZXJzYCBoZW5jZSBpdCBjYW4ndCBzZWUgaXQuXG4gKiAgICAgZXhwZWN0KG15U2VydmljZS52YWx1ZSkudG9FcXVhbCgncHJvdmlkZXJzJyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBgYGBcbiAqL1xubGV0IGluY2x1ZGVWaWV3UHJvdmlkZXJzID0gdHJ1ZTtcbmZ1bmN0aW9uIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHYpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGluY2x1ZGVWaWV3UHJvdmlkZXJzO1xuICAgIGluY2x1ZGVWaWV3UHJvdmlkZXJzID0gdjtcbiAgICByZXR1cm4gb2xkVmFsdWU7XG59XG4vKipcbiAqIFRoZSBudW1iZXIgb2Ygc2xvdHMgaW4gZWFjaCBibG9vbSBmaWx0ZXIgKHVzZWQgYnkgREkpLiBUaGUgbGFyZ2VyIHRoaXMgbnVtYmVyLCB0aGUgZmV3ZXJcbiAqIGRpcmVjdGl2ZXMgdGhhdCB3aWxsIHNoYXJlIHNsb3RzLCBhbmQgdGh1cywgdGhlIGZld2VyIGZhbHNlIHBvc2l0aXZlcyB3aGVuIGNoZWNraW5nIGZvclxuICogdGhlIGV4aXN0ZW5jZSBvZiBhIGRpcmVjdGl2ZS5cbiAqL1xuY29uc3QgQkxPT01fU0laRSA9IDI1NjtcbmNvbnN0IEJMT09NX01BU0sgPSBCTE9PTV9TSVpFIC0gMTtcbi8qKlxuICogVGhlIG51bWJlciBvZiBiaXRzIHRoYXQgaXMgcmVwcmVzZW50ZWQgYnkgYSBzaW5nbGUgYmxvb20gYnVja2V0LiBKUyBiaXQgb3BlcmF0aW9ucyBhcmUgMzIgYml0cyxcbiAqIHNvIGVhY2ggYnVja2V0IHJlcHJlc2VudHMgMzIgZGlzdGluY3QgdG9rZW5zIHdoaWNoIGFjY291bnRzIGZvciBsb2cyKDMyKSA9IDUgYml0cyBvZiBhIGJsb29tIGhhc2hcbiAqIG51bWJlci5cbiAqL1xuY29uc3QgQkxPT01fQlVDS0VUX0JJVFMgPSA1O1xuLyoqIENvdW50ZXIgdXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzIGZvciBkaXJlY3RpdmVzLiAqL1xubGV0IG5leHROZ0VsZW1lbnRJZCA9IDA7XG4vKipcbiAqIFJlZ2lzdGVycyB0aGlzIGRpcmVjdGl2ZSBhcyBwcmVzZW50IGluIGl0cyBub2RlJ3MgaW5qZWN0b3IgYnkgZmxpcHBpbmcgdGhlIGRpcmVjdGl2ZSdzXG4gKiBjb3JyZXNwb25kaW5nIGJpdCBpbiB0aGUgaW5qZWN0b3IncyBibG9vbSBmaWx0ZXIuXG4gKlxuICogQHBhcmFtIGluamVjdG9ySW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIGluamVjdG9yIHdoZXJlIHRoaXMgdG9rZW4gc2hvdWxkIGJlIHJlZ2lzdGVyZWRcbiAqIEBwYXJhbSB0VmlldyBUaGUgVFZpZXcgZm9yIHRoZSBpbmplY3RvcidzIGJsb29tIGZpbHRlcnNcbiAqIEBwYXJhbSB0eXBlIFRoZSBkaXJlY3RpdmUgdG9rZW4gdG8gcmVnaXN0ZXJcbiAqL1xuZnVuY3Rpb24gYmxvb21BZGQoaW5qZWN0b3JJbmRleCwgdFZpZXcsIHR5cGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RDcmVhdGVQYXNzLCB0cnVlLCAnZXhwZWN0ZWQgZmlyc3RDcmVhdGVQYXNzIHRvIGJlIHRydWUnKTtcbiAgICBsZXQgaWQ7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZCA9IHR5cGUuY2hhckNvZGVBdCgwKSB8fCAwO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmhhc093blByb3BlcnR5KE5HX0VMRU1FTlRfSUQpKSB7XG4gICAgICAgIGlkID0gdHlwZVtOR19FTEVNRU5UX0lEXTtcbiAgICB9XG4gICAgLy8gU2V0IGEgdW5pcXVlIElEIG9uIHRoZSBkaXJlY3RpdmUgdHlwZSwgc28gaWYgc29tZXRoaW5nIHRyaWVzIHRvIGluamVjdCB0aGUgZGlyZWN0aXZlLFxuICAgIC8vIHdlIGNhbiBlYXNpbHkgcmV0cmlldmUgdGhlIElEIGFuZCBoYXNoIGl0IGludG8gdGhlIGJsb29tIGJpdCB0aGF0IHNob3VsZCBiZSBjaGVja2VkLlxuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIGlkID0gdHlwZVtOR19FTEVNRU5UX0lEXSA9IG5leHROZ0VsZW1lbnRJZCsrO1xuICAgIH1cbiAgICAvLyBXZSBvbmx5IGhhdmUgQkxPT01fU0laRSAoMjU2KSBzbG90cyBpbiBvdXIgYmxvb20gZmlsdGVyICg4IGJ1Y2tldHMgKiAzMiBiaXRzIGVhY2gpLFxuICAgIC8vIHNvIGFsbCB1bmlxdWUgSURzIG11c3QgYmUgbW9kdWxvLWVkIGludG8gYSBudW1iZXIgZnJvbSAwIC0gMjU1IHRvIGZpdCBpbnRvIHRoZSBmaWx0ZXIuXG4gICAgY29uc3QgYmxvb21IYXNoID0gaWQgJiBCTE9PTV9NQVNLO1xuICAgIC8vIENyZWF0ZSBhIG1hc2sgdGhhdCB0YXJnZXRzIHRoZSBzcGVjaWZpYyBiaXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBkaXJlY3RpdmUuXG4gICAgLy8gSlMgYml0IG9wZXJhdGlvbnMgYXJlIDMyIGJpdHMsIHNvIHRoaXMgd2lsbCBiZSBhIG51bWJlciBiZXR3ZWVuIDJeMCBhbmQgMl4zMSwgY29ycmVzcG9uZGluZ1xuICAgIC8vIHRvIGJpdCBwb3NpdGlvbnMgMCAtIDMxIGluIGEgMzIgYml0IGludGVnZXIuXG4gICAgY29uc3QgbWFzayA9IDEgPDwgYmxvb21IYXNoO1xuICAgIC8vIEVhY2ggYmxvb20gYnVja2V0IGluIGB0RGF0YWAgcmVwcmVzZW50cyBgQkxPT01fQlVDS0VUX0JJVFNgIG51bWJlciBvZiBiaXRzIG9mIGBibG9vbUhhc2hgLlxuICAgIC8vIEFueSBiaXRzIGluIGBibG9vbUhhc2hgIGJleW9uZCBgQkxPT01fQlVDS0VUX0JJVFNgIGluZGljYXRlIHRoZSBidWNrZXQgb2Zmc2V0IHRoYXQgdGhlIG1hc2tcbiAgICAvLyBzaG91bGQgYmUgd3JpdHRlbiB0by5cbiAgICB0Vmlldy5kYXRhW2luamVjdG9ySW5kZXggKyAoYmxvb21IYXNoID4+IEJMT09NX0JVQ0tFVF9CSVRTKV0gfD0gbWFzaztcbn1cbi8qKlxuICogQ3JlYXRlcyAob3IgZ2V0cyBhbiBleGlzdGluZykgaW5qZWN0b3IgZm9yIGEgZ2l2ZW4gZWxlbWVudCBvciBjb250YWluZXIuXG4gKlxuICogQHBhcmFtIHROb2RlIGZvciB3aGljaCBhbiBpbmplY3RvciBzaG91bGQgYmUgcmV0cmlldmVkIC8gY3JlYXRlZC5cbiAqIEBwYXJhbSBsVmlldyBWaWV3IHdoZXJlIHRoZSBub2RlIGlzIHN0b3JlZFxuICogQHJldHVybnMgTm9kZSBpbmplY3RvclxuICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgZXhpc3RpbmdJbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0Tm9kZSwgbFZpZXcpO1xuICAgIGlmIChleGlzdGluZ0luamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0luamVjdG9ySW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgdE5vZGUuaW5qZWN0b3JJbmRleCA9IGxWaWV3Lmxlbmd0aDtcbiAgICAgICAgaW5zZXJ0Qmxvb20odFZpZXcuZGF0YSwgdE5vZGUpOyAvLyBmb3VuZGF0aW9uIGZvciBub2RlIGJsb29tXG4gICAgICAgIGluc2VydEJsb29tKGxWaWV3LCBudWxsKTsgLy8gZm91bmRhdGlvbiBmb3IgY3VtdWxhdGl2ZSBibG9vbVxuICAgICAgICBpbnNlcnRCbG9vbSh0Vmlldy5ibHVlcHJpbnQsIG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRMb2MgPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgaW5qZWN0b3JJbmRleCA9IHROb2RlLmluamVjdG9ySW5kZXg7XG4gICAgLy8gSWYgYSBwYXJlbnQgaW5qZWN0b3IgY2FuJ3QgYmUgZm91bmQsIGl0cyBsb2NhdGlvbiBpcyBzZXQgdG8gLTEuXG4gICAgLy8gSW4gdGhhdCBjYXNlLCB3ZSBkb24ndCBuZWVkIHRvIHNldCB1cCBhIGN1bXVsYXRpdmUgYmxvb21cbiAgICBpZiAoaGFzUGFyZW50SW5qZWN0b3IocGFyZW50TG9jKSkge1xuICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jKTtcbiAgICAgICAgY29uc3QgcGFyZW50TFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jLCBsVmlldyk7XG4gICAgICAgIGNvbnN0IHBhcmVudERhdGEgPSBwYXJlbnRMVmlld1tUVklFV10uZGF0YTtcbiAgICAgICAgLy8gQ3JlYXRlcyBhIGN1bXVsYXRpdmUgYmxvb20gZmlsdGVyIHRoYXQgbWVyZ2VzIHRoZSBwYXJlbnQncyBibG9vbSBmaWx0ZXJcbiAgICAgICAgLy8gYW5kIGl0cyBvd24gY3VtdWxhdGl2ZSBibG9vbSAod2hpY2ggY29udGFpbnMgdG9rZW5zIGZvciBhbGwgYW5jZXN0b3JzKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDggLyogQkxPT01fU0laRSAqLzsgaSsrKSB7XG4gICAgICAgICAgICBsVmlld1tpbmplY3RvckluZGV4ICsgaV0gPSBwYXJlbnRMVmlld1twYXJlbnRJbmRleCArIGldIHwgcGFyZW50RGF0YVtwYXJlbnRJbmRleCArIGldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL10gPSBwYXJlbnRMb2M7XG4gICAgcmV0dXJuIGluamVjdG9ySW5kZXg7XG59XG5mdW5jdGlvbiBpbnNlcnRCbG9vbShhcnIsIGZvb3Rlcikge1xuICAgIGFyci5wdXNoKDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIGZvb3Rlcik7XG59XG5mdW5jdGlvbiBnZXRJbmplY3RvckluZGV4KHROb2RlLCBsVmlldykge1xuICAgIGlmICh0Tm9kZS5pbmplY3RvckluZGV4ID09PSAtMSB8fFxuICAgICAgICAvLyBJZiB0aGUgaW5qZWN0b3IgaW5kZXggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzIGluamVjdG9yIGluZGV4LCB0aGVuIHRoZSBpbmRleCBoYXMgYmVlblxuICAgICAgICAvLyBjb3BpZWQgZG93biBmcm9tIHRoZSBwYXJlbnQgbm9kZS4gTm8gaW5qZWN0b3IgaGFzIGJlZW4gY3JlYXRlZCB5ZXQgb24gdGhpcyBub2RlLlxuICAgICAgICAodE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ID09PSB0Tm9kZS5pbmplY3RvckluZGV4KSB8fFxuICAgICAgICAvLyBBZnRlciB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcywgdGhlIGluamVjdG9yIGluZGV4IG1pZ2h0IGV4aXN0IGJ1dCB0aGUgcGFyZW50IHZhbHVlc1xuICAgICAgICAvLyBtaWdodCBub3QgaGF2ZSBiZWVuIGNhbGN1bGF0ZWQgeWV0IGZvciB0aGlzIGluc3RhbmNlXG4gICAgICAgIGxWaWV3W3ROb2RlLmluamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL10gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdE5vZGUuaW5qZWN0b3JJbmRleCk7XG4gICAgICAgIHJldHVybiB0Tm9kZS5pbmplY3RvckluZGV4O1xuICAgIH1cbn1cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBwYXJlbnQgaW5qZWN0b3IsIHdpdGggYSB2aWV3IG9mZnNldCBpZiBhcHBsaWNhYmxlLiBVc2VkIHRvIHNldCB0aGVcbiAqIHBhcmVudCBpbmplY3RvciBpbml0aWFsbHkuXG4gKlxuICogQHJldHVybnMgUmV0dXJucyBhIG51bWJlciB0aGF0IGlzIHRoZSBjb21iaW5hdGlvbiBvZiB0aGUgbnVtYmVyIG9mIExWaWV3cyB0aGF0IHdlIGhhdmUgdG8gZ28gdXBcbiAqIHRvIGZpbmQgdGhlIExWaWV3IGNvbnRhaW5pbmcgdGhlIHBhcmVudCBpbmplY3QgQU5EIHRoZSBpbmRleCBvZiB0aGUgaW5qZWN0b3Igd2l0aGluIHRoYXQgTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHROb2RlLnBhcmVudCAmJiB0Tm9kZS5wYXJlbnQuaW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBhcmVudCBgVE5vZGVgIGFuZCB0aGVyZSBpcyBhbiBpbmplY3RvciBhc3NvY2lhdGVkIHdpdGggaXQgd2UgYXJlIGRvbmUsIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHBhcmVudCBpbmplY3RvciBpcyB3aXRoaW4gdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAgICAgICAgcmV0dXJuIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4OyAvLyBWaWV3T2Zmc2V0IGlzIDBcbiAgICB9XG4gICAgLy8gV2hlbiBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24gaXMgY29tcHV0ZWQgaXQgbWF5IGJlIG91dHNpZGUgb2YgdGhlIGN1cnJlbnQgdmlldy4gKGllIGl0IGNvdWxkXG4gICAgLy8gYmUgcG9pbnRpbmcgdG8gYSBkZWNsYXJlZCBwYXJlbnQgbG9jYXRpb24pLiBUaGlzIHZhcmlhYmxlIHN0b3JlcyBudW1iZXIgb2YgZGVjbGFyYXRpb24gcGFyZW50c1xuICAgIC8vIHdlIG5lZWQgdG8gd2FsayB1cCBpbiBvcmRlciB0byBmaW5kIHRoZSBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24uXG4gICAgbGV0IGRlY2xhcmF0aW9uVmlld09mZnNldCA9IDA7XG4gICAgbGV0IHBhcmVudFROb2RlID0gbnVsbDtcbiAgICBsZXQgbFZpZXdDdXJzb3IgPSBsVmlldztcbiAgICAvLyBUaGUgcGFyZW50IGluamVjdG9yIGlzIG5vdCBpbiB0aGUgY3VycmVudCBgTFZpZXdgLiBXZSB3aWxsIGhhdmUgdG8gd2FsayB0aGUgZGVjbGFyZWQgcGFyZW50XG4gICAgLy8gYExWaWV3YCBoaWVyYXJjaHkgYW5kIGxvb2sgZm9yIGl0LiBJZiB3ZSB3YWxrIG9mIHRoZSB0b3AsIHRoYXQgbWVhbnMgdGhhdCB0aGVyZSBpcyBubyBwYXJlbnRcbiAgICAvLyBgTm9kZUluamVjdG9yYC5cbiAgICB3aGlsZSAobFZpZXdDdXJzb3IgIT09IG51bGwpIHtcbiAgICAgICAgLy8gRmlyc3QgZGV0ZXJtaW5lIHRoZSBgcGFyZW50VE5vZGVgIGxvY2F0aW9uLiBUaGUgcGFyZW50IHBvaW50ZXIgZGlmZmVycyBiYXNlZCBvbiBgVFZpZXcudHlwZWAuXG4gICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdDdXJzb3JbVFZJRVddO1xuICAgICAgICBjb25zdCB0Vmlld1R5cGUgPSB0Vmlldy50eXBlO1xuICAgICAgICBpZiAodFZpZXdUeXBlID09PSAyIC8qIEVtYmVkZGVkICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKHRWaWV3LmRlY2xUTm9kZSwgJ0VtYmVkZGVkIFROb2RlcyBzaG91bGQgaGF2ZSBkZWNsYXJhdGlvbiBwYXJlbnRzLicpO1xuICAgICAgICAgICAgcGFyZW50VE5vZGUgPSB0Vmlldy5kZWNsVE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodFZpZXdUeXBlID09PSAxIC8qIENvbXBvbmVudCAqLykge1xuICAgICAgICAgICAgLy8gQ29tcG9uZW50cyBkb24ndCBoYXZlIGBUVmlldy5kZWNsVE5vZGVgIGJlY2F1c2UgZWFjaCBpbnN0YW5jZSBvZiBjb21wb25lbnQgY291bGQgYmVcbiAgICAgICAgICAgIC8vIGluc2VydGVkIGluIGRpZmZlcmVudCBsb2NhdGlvbiwgaGVuY2UgYFRWaWV3LmRlY2xUTm9kZWAgaXMgbWVhbmluZ2xlc3MuXG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IGxWaWV3Q3Vyc29yW1RfSE9TVF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodFZpZXcudHlwZSwgMCAvKiBSb290ICovLCAnUm9vdCB0eXBlIGV4cGVjdGVkJyk7XG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIHBhcmVudCwgdGhhbiB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIHJldHVybiBOT19QQVJFTlRfSU5KRUNUT1I7XG4gICAgICAgIH1cbiAgICAgICAgbmdEZXZNb2RlICYmIHBhcmVudFROb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcocGFyZW50VE5vZGUsIGxWaWV3Q3Vyc29yW0RFQ0xBUkFUSU9OX1ZJRVddKTtcbiAgICAgICAgLy8gRXZlcnkgaXRlcmF0aW9uIG9mIHRoZSBsb29wIHJlcXVpcmVzIHRoYXQgd2UgZ28gdG8gdGhlIGRlY2xhcmVkIHBhcmVudC5cbiAgICAgICAgZGVjbGFyYXRpb25WaWV3T2Zmc2V0Kys7XG4gICAgICAgIGxWaWV3Q3Vyc29yID0gbFZpZXdDdXJzb3JbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZS5pbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBOb2RlSW5qZWN0b3Igd2hpY2ggcG9pbnRzIHRvIHNvbWV0aGluZy5cbiAgICAgICAgICAgIHJldHVybiAocGFyZW50VE5vZGUuaW5qZWN0b3JJbmRleCB8XG4gICAgICAgICAgICAgICAgKGRlY2xhcmF0aW9uVmlld09mZnNldCA8PCAxNiAvKiBWaWV3T2Zmc2V0U2hpZnQgKi8pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTk9fUEFSRU5UX0lOSkVDVE9SO1xufVxuLyoqXG4gKiBNYWtlcyBhIHR5cGUgb3IgYW4gaW5qZWN0aW9uIHRva2VuIHB1YmxpYyB0byB0aGUgREkgc3lzdGVtIGJ5IGFkZGluZyBpdCB0byBhblxuICogaW5qZWN0b3IncyBibG9vbSBmaWx0ZXIuXG4gKlxuICogQHBhcmFtIGRpIFRoZSBub2RlIGluamVjdG9yIGluIHdoaWNoIGEgZGlyZWN0aXZlIHdpbGwgYmUgYWRkZWRcbiAqIEBwYXJhbSB0b2tlbiBUaGUgdHlwZSBvciB0aGUgaW5qZWN0aW9uIHRva2VuIHRvIGJlIG1hZGUgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGRpUHVibGljSW5JbmplY3RvcihpbmplY3RvckluZGV4LCB0VmlldywgdG9rZW4pIHtcbiAgICBibG9vbUFkZChpbmplY3RvckluZGV4LCB0VmlldywgdG9rZW4pO1xufVxuLyoqXG4gKiBJbmplY3Qgc3RhdGljIGF0dHJpYnV0ZSB2YWx1ZSBpbnRvIGRpcmVjdGl2ZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHdpdGggYGZhY3RvcnlgIGZ1bmN0aW9ucyB3aGljaCBhcmUgZ2VuZXJhdGVkIGFzIHBhcnQgb2ZcbiAqIGBkZWZpbmVEaXJlY3RpdmVgIG9yIGBkZWZpbmVDb21wb25lbnRgLiBUaGUgbWV0aG9kIHJldHJpZXZlcyB0aGUgc3RhdGljIHZhbHVlXG4gKiBvZiBhbiBhdHRyaWJ1dGUuIChEeW5hbWljIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgc2luY2UgdGhleSBhcmUgbm90IHJlc29sdmVkXG4gKiAgYXQgdGhlIHRpbWUgb2YgaW5qZWN0aW9uIGFuZCBjYW4gY2hhbmdlIG92ZXIgdGltZS4pXG4gKlxuICogIyBFeGFtcGxlXG4gKiBHaXZlbjpcbiAqIGBgYFxuICogQENvbXBvbmVudCguLi4pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKEBBdHRyaWJ1dGUoJ3RpdGxlJykgdGl0bGU6IHN0cmluZykgeyAuLi4gfVxuICogfVxuICogYGBgXG4gKiBXaGVuIGluc3RhbnRpYXRlZCB3aXRoXG4gKiBgYGBcbiAqIDxteS1jb21wb25lbnQgdGl0bGU9XCJIZWxsb1wiPjwvbXktY29tcG9uZW50PlxuICogYGBgXG4gKlxuICogVGhlbiBmYWN0b3J5IG1ldGhvZCBnZW5lcmF0ZWQgaXM6XG4gKiBgYGBcbiAqIE15Q29tcG9uZW50Lsm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgZmFjdG9yeTogKCkgPT4gbmV3IE15Q29tcG9uZW50KGluamVjdEF0dHJpYnV0ZSgndGl0bGUnKSlcbiAqICAgLi4uXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBpbmplY3RBdHRyaWJ1dGVJbXBsKHROb2RlLCBhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMyAvKiBBbnlSTm9kZSAqLyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdleHBlY3RpbmcgdE5vZGUnKTtcbiAgICBpZiAoYXR0ck5hbWVUb0luamVjdCA9PT0gJ2NsYXNzJykge1xuICAgICAgICByZXR1cm4gdE5vZGUuY2xhc3NlcztcbiAgICB9XG4gICAgaWYgKGF0dHJOYW1lVG9JbmplY3QgPT09ICdzdHlsZScpIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLnN0eWxlcztcbiAgICB9XG4gICAgY29uc3QgYXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgY29uc3QgYXR0cnNMZW5ndGggPSBhdHRycy5sZW5ndGg7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRyc0xlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhpdCBhIGBCaW5kaW5nc2Agb3IgYFRlbXBsYXRlYCBtYXJrZXIgdGhlbiB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIGlmIChpc05hbWVPbmx5QXR0cmlidXRlTWFya2VyKHZhbHVlKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIFNraXAgbmFtZXNwYWNlZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc2tpcCB0aGUgbmV4dCB0d28gdmFsdWVzXG4gICAgICAgICAgICAgICAgLy8gYXMgbmFtZXNwYWNlZCBhdHRyaWJ1dGVzIGxvb2tzIGxpa2VcbiAgICAgICAgICAgICAgICAvLyBbLi4uLCBBdHRyaWJ1dGVNYXJrZXIuTmFtZXNwYWNlVVJJLCAnaHR0cDovL3NvbWV1cmkuY29tL3Rlc3QnLCAndGVzdDpleGlzdCcsXG4gICAgICAgICAgICAgICAgLy8gJ2V4aXN0VmFsdWUnLCAuLi5dXG4gICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdG8gdGhlIGZpcnN0IHZhbHVlIG9mIHRoZSBtYXJrZWQgYXR0cmlidXRlLlxuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGF0dHJzTGVuZ3RoICYmIHR5cGVvZiBhdHRyc1tpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG5vdEZvdW5kVmFsdWVPclRocm93KG5vdEZvdW5kVmFsdWUsIHRva2VuLCBmbGFncykge1xuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3IodG9rZW4sICdOb2RlSW5qZWN0b3InKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGFzc29jaWF0ZWQgdG8gdGhlIGdpdmVuIHRva2VuIGZyb20gdGhlIE1vZHVsZUluamVjdG9yIG9yIHRocm93cyBleGNlcHRpb25cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2AgdGhhdCBjb250YWlucyB0aGUgYHROb2RlYFxuICogQHBhcmFtIHRva2VuIFRoZSB0b2tlbiB0byBsb29rIGZvclxuICogQHBhcmFtIGZsYWdzIEluamVjdGlvbiBmbGFnc1xuICogQHBhcmFtIG5vdEZvdW5kVmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiB3aGVuIHRoZSBpbmplY3Rpb24gZmxhZ3MgaXMgYEluamVjdEZsYWdzLk9wdGlvbmFsYFxuICogQHJldHVybnMgdGhlIHZhbHVlIGZyb20gdGhlIGluamVjdG9yIG9yIHRocm93cyBhbiBleGNlcHRpb25cbiAqL1xuZnVuY3Rpb24gbG9va3VwVG9rZW5Vc2luZ01vZHVsZUluamVjdG9yKGxWaWV3LCB0b2tlbiwgZmxhZ3MsIG5vdEZvdW5kVmFsdWUpIHtcbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCAmJiBub3RGb3VuZFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCBvciB0aGUgTnVsbEluamVjdG9yIHdpbGwgdGhyb3cgZm9yIG9wdGlvbmFsIGRlcHNcbiAgICAgICAgbm90Rm91bmRWYWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIGlmICgoZmxhZ3MgJiAoSW5qZWN0RmxhZ3MuU2VsZiB8IEluamVjdEZsYWdzLkhvc3QpKSA9PT0gMCkge1xuICAgICAgICBjb25zdCBtb2R1bGVJbmplY3RvciA9IGxWaWV3W0lOSkVDVE9SJDFdO1xuICAgICAgICAvLyBzd2l0Y2ggdG8gYGluamVjdEluamVjdG9yT25seWAgaW1wbGVtZW50YXRpb24gZm9yIG1vZHVsZSBpbmplY3Rvciwgc2luY2UgbW9kdWxlIGluamVjdG9yXG4gICAgICAgIC8vIHNob3VsZCBub3QgaGF2ZSBhY2Nlc3MgdG8gQ29tcG9uZW50L0RpcmVjdGl2ZSBESSBzY29wZSAodGhhdCBtYXkgaGFwcGVuIHRocm91Z2hcbiAgICAgICAgLy8gYGRpcmVjdGl2ZUluamVjdGAgaW1wbGVtZW50YXRpb24pXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbih1bmRlZmluZWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKG1vZHVsZUluamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3RGb3VuZFZhbHVlT3JUaHJvdyhub3RGb3VuZFZhbHVlLCB0b2tlbiwgZmxhZ3MpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHRvIHRoZSBnaXZlbiB0b2tlbiBmcm9tIHRoZSBOb2RlSW5qZWN0b3JzID0+IE1vZHVsZUluamVjdG9yLlxuICpcbiAqIExvb2sgZm9yIHRoZSBpbmplY3RvciBwcm92aWRpbmcgdGhlIHRva2VuIGJ5IHdhbGtpbmcgdXAgdGhlIG5vZGUgaW5qZWN0b3IgdHJlZSBhbmQgdGhlblxuICogdGhlIG1vZHVsZSBpbmplY3RvciB0cmVlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcGF0Y2hlcyBgdG9rZW5gIHdpdGggYF9fTkdfRUxFTUVOVF9JRF9fYCB3aGljaCBjb250YWlucyB0aGUgaWQgZm9yIHRoZSBibG9vbVxuICogZmlsdGVyLiBgLTFgIGlzIHJlc2VydmVkIGZvciBpbmplY3RpbmcgYEluamVjdG9yYCAoaW1wbGVtZW50ZWQgYnkgYE5vZGVJbmplY3RvcmApXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBOb2RlIHdoZXJlIHRoZSBzZWFyY2ggZm9yIHRoZSBpbmplY3RvciBzaG91bGQgc3RhcnRcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB0aGF0IGNvbnRhaW5zIHRoZSBgdE5vZGVgXG4gKiBAcGFyYW0gdG9rZW4gVGhlIHRva2VuIHRvIGxvb2sgZm9yXG4gKiBAcGFyYW0gZmxhZ3MgSW5qZWN0aW9uIGZsYWdzXG4gKiBAcGFyYW0gbm90Rm91bmRWYWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIHdoZW4gdGhlIGluamVjdGlvbiBmbGFncyBpcyBgSW5qZWN0RmxhZ3MuT3B0aW9uYWxgXG4gKiBAcmV0dXJucyB0aGUgdmFsdWUgZnJvbSB0aGUgaW5qZWN0b3IsIGBudWxsYCB3aGVuIG5vdCBmb3VuZCwgb3IgYG5vdEZvdW5kVmFsdWVgIGlmIHByb3ZpZGVkXG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlSW5qZWN0YWJsZSh0Tm9kZSwgbFZpZXcsIHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQsIG5vdEZvdW5kVmFsdWUpIHtcbiAgICBpZiAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgYmxvb21IYXNoID0gYmxvb21IYXNoQml0T3JGYWN0b3J5KHRva2VuKTtcbiAgICAgICAgLy8gSWYgdGhlIElEIHN0b3JlZCBoZXJlIGlzIGEgZnVuY3Rpb24sIHRoaXMgaXMgYSBzcGVjaWFsIG9iamVjdCBsaWtlIEVsZW1lbnRSZWYgb3IgVGVtcGxhdGVSZWZcbiAgICAgICAgLy8gc28ganVzdCBjYWxsIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBpdC5cbiAgICAgICAgaWYgKHR5cGVvZiBibG9vbUhhc2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmICghZW50ZXJESShsVmlldywgdE5vZGUsIGZsYWdzKSkge1xuICAgICAgICAgICAgICAgIC8vIEZhaWxlZCB0byBlbnRlciBESSwgdHJ5IG1vZHVsZSBpbmplY3RvciBpbnN0ZWFkLiBJZiBhIHRva2VuIGlzIGluamVjdGVkIHdpdGggdGhlIEBIb3N0XG4gICAgICAgICAgICAgICAgLy8gZmxhZywgdGhlIG1vZHVsZSBpbmplY3RvciBpcyBub3Qgc2VhcmNoZWQgZm9yIHRoYXQgdG9rZW4gaW4gSXZ5LlxuICAgICAgICAgICAgICAgIHJldHVybiAoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0KSA/XG4gICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kVmFsdWVPclRocm93KG5vdEZvdW5kVmFsdWUsIHRva2VuLCBmbGFncykgOlxuICAgICAgICAgICAgICAgICAgICBsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IobFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYmxvb21IYXNoKGZsYWdzKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBsZWF2ZURJKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJsb29tSGFzaCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyBpbmplY3RvciBUVmlldyB0aGF0IHdhcyBmb3VuZCB3aGlsZSBjbGltYmluZyB0aGUgZWxlbWVudFxuICAgICAgICAgICAgLy8gaW5qZWN0b3IgdHJlZS4gVGhpcyBpcyB1c2VkIHRvIGtub3cgaWYgdmlld1Byb3ZpZGVycyBjYW4gYmUgYWNjZXNzZWQgb24gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIGluamVjdG9yLlxuICAgICAgICAgICAgbGV0IHByZXZpb3VzVFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGluamVjdG9ySW5kZXggPSBnZXRJbmplY3RvckluZGV4KHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBsZXQgcGFyZW50TG9jYXRpb24gPSBOT19QQVJFTlRfSU5KRUNUT1I7XG4gICAgICAgICAgICBsZXQgaG9zdFRFbGVtZW50Tm9kZSA9IGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCA/IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXVtUX0hPU1RdIDogbnVsbDtcbiAgICAgICAgICAgIC8vIElmIHdlIHNob3VsZCBza2lwIHRoaXMgaW5qZWN0b3IsIG9yIGlmIHRoZXJlIGlzIG5vIGluamVjdG9yIG9uIHRoaXMgbm9kZSwgc3RhcnQgYnlcbiAgICAgICAgICAgIC8vIHNlYXJjaGluZyB0aGUgcGFyZW50IGluamVjdG9yLlxuICAgICAgICAgICAgaWYgKGluamVjdG9ySW5kZXggPT09IC0xIHx8IGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRMb2NhdGlvbiA9IGluamVjdG9ySW5kZXggPT09IC0xID8gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0Tm9kZSwgbFZpZXcpIDpcbiAgICAgICAgICAgICAgICAgICAgbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50TG9jYXRpb24gPT09IE5PX1BBUkVOVF9JTkpFQ1RPUiB8fCAhc2hvdWxkU2VhcmNoUGFyZW50KGZsYWdzLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUVmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYXZlcnNlIHVwIHRoZSBpbmplY3RvciB0cmVlIHVudGlsIHdlIGZpbmQgYSBwb3RlbnRpYWwgbWF0Y2ggb3IgdW50aWwgd2Uga25vdyB0aGVyZVxuICAgICAgICAgICAgLy8gKmlzbid0KiBhIG1hdGNoLlxuICAgICAgICAgICAgd2hpbGUgKGluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVJbmplY3RvcihsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGN1cnJlbnQgaW5qZWN0b3IuIElmIGl0IG1hdGNoZXMsIHNlZSBpZiBpdCBjb250YWlucyB0b2tlbi5cbiAgICAgICAgICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Vmlldy5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIGlmIChibG9vbUhhc1Rva2VuKGJsb29tSGFzaCwgaW5qZWN0b3JJbmRleCwgdFZpZXcuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSBhbiBpbmplY3RvciB3aGljaCAqbWF5KiBjb250YWluIHRoZSB0b2tlbiwgc28gd2Ugc3RlcCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwcm92aWRlcnMgYW5kIGRpcmVjdGl2ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmplY3RvcidzIGNvcnJlc3BvbmRpbmcgbm9kZSB0byBnZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGluc3RhbmNlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHNlYXJjaFRva2Vuc09uSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgbFZpZXcsIHRva2VuLCBwcmV2aW91c1RWaWV3LCBmbGFncywgaG9zdFRFbGVtZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50TG9jYXRpb24gPSBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiAhPT0gTk9fUEFSRU5UX0lOSkVDVE9SICYmXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNlYXJjaFBhcmVudChmbGFncywgbFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dID09PSBob3N0VEVsZW1lbnROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICBibG9vbUhhc1Rva2VuKGJsb29tSGFzaCwgaW5qZWN0b3JJbmRleCwgbFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWYgd2Fzbid0IGZvdW5kIGFueXdoZXJlIG9uIHRoaXMgbm9kZSwgc28gaXQgd2FzIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYXZlcnNlIHVwIHRoZSB0cmVlIGFuZCBjb250aW51ZSBzZWFyY2hpbmcuXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVFZpZXcgPSB0VmlldztcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2Ugc2hvdWxkIG5vdCBzZWFyY2ggcGFyZW50IE9SIElmIHRoZSBhbmNlc3RvciBibG9vbSBmaWx0ZXIgdmFsdWUgZG9lcyBub3QgaGF2ZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYml0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGRpcmVjdGl2ZSB3ZSBjYW4gZ2l2ZSB1cCBvbiB0cmF2ZXJzaW5nIHVwIHRvIGZpbmQgdGhlIHNwZWNpZmljXG4gICAgICAgICAgICAgICAgICAgIC8vIGluamVjdG9yLlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IobFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSk7XG59XG5jb25zdCBOT1RfRk9VTkQgPSB7fTtcbmZ1bmN0aW9uIGNyZWF0ZU5vZGVJbmplY3RvcigpIHtcbiAgICByZXR1cm4gbmV3IE5vZGVJbmplY3RvcihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG5mdW5jdGlvbiBzZWFyY2hUb2tlbnNPbkluamVjdG9yKGluamVjdG9ySW5kZXgsIGxWaWV3LCB0b2tlbiwgcHJldmlvdXNUVmlldywgZmxhZ3MsIGhvc3RURWxlbWVudE5vZGUpIHtcbiAgICBjb25zdCBjdXJyZW50VFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3QgdE5vZGUgPSBjdXJyZW50VFZpZXcuZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL107XG4gICAgLy8gRmlyc3QsIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHZpZXcgcHJvdmlkZXJzIGNhbiBiZSBhY2Nlc3NlZCBieSB0aGUgc3RhcnRpbmcgZWxlbWVudC5cbiAgICAvLyBUaGVyZSBhcmUgdHdvIHBvc3NpYmlsaXRpZXNcbiAgICBjb25zdCBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzID0gcHJldmlvdXNUVmlldyA9PSBudWxsID9cbiAgICAgICAgLy8gMSkgVGhpcyBpcyB0aGUgZmlyc3QgaW52b2NhdGlvbiBgcHJldmlvdXNUVmlldyA9PSBudWxsYCB3aGljaCBtZWFucyB0aGF0IHdlIGFyZSBhdCB0aGVcbiAgICAgICAgLy8gYFROb2RlYCBvZiB3aGVyZSBpbmplY3RvciBpcyBzdGFydGluZyB0byBsb29rLiBJbiBzdWNoIGEgY2FzZSB0aGUgb25seSB0aW1lIHdlIGFyZSBhbGxvd2VkXG4gICAgICAgIC8vIHRvIGxvb2sgaW50byB0aGUgVmlld1Byb3ZpZGVycyBpcyBpZjpcbiAgICAgICAgLy8gLSB3ZSBhcmUgb24gYSBjb21wb25lbnRcbiAgICAgICAgLy8gLSBBTkQgdGhlIGluamVjdG9yIHNldCBgaW5jbHVkZVZpZXdQcm92aWRlcnNgIHRvIHRydWUgKGltcGx5aW5nIHRoYXQgdGhlIHRva2VuIGNhbiBzZWVcbiAgICAgICAgLy8gVmlld1Byb3ZpZGVycyBiZWNhdXNlIGl0IGlzIHRoZSBDb21wb25lbnQgb3IgYSBTZXJ2aWNlIHdoaWNoIGl0c2VsZiB3YXMgZGVjbGFyZWQgaW5cbiAgICAgICAgLy8gVmlld1Byb3ZpZGVycylcbiAgICAgICAgKGlzQ29tcG9uZW50SG9zdCh0Tm9kZSkgJiYgaW5jbHVkZVZpZXdQcm92aWRlcnMpIDpcbiAgICAgICAgLy8gMikgYHByZXZpb3VzVFZpZXcgIT0gbnVsbGAgd2hpY2ggbWVhbnMgdGhhdCB3ZSBhcmUgbm93IHdhbGtpbmcgYWNyb3NzIHRoZSBwYXJlbnQgbm9kZXMuXG4gICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlIHdlIGFyZSBvbmx5IGFsbG93ZWQgdG8gbG9vayBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzIGlmOlxuICAgICAgICAvLyAtIFdlIGp1c3QgY3Jvc3NlZCBmcm9tIGNoaWxkIFZpZXcgdG8gUGFyZW50IFZpZXcgYHByZXZpb3VzVFZpZXcgIT0gY3VycmVudFRWaWV3YFxuICAgICAgICAvLyAtIEFORCB0aGUgcGFyZW50IFROb2RlIGlzIGFuIEVsZW1lbnQuXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBqdXN0IGNhbWUgZnJvbSB0aGUgQ29tcG9uZW50J3MgVmlldyBhbmQgdGhlcmVmb3JlIGFyZSBhbGxvd2VkIHRvIHNlZVxuICAgICAgICAvLyBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzLlxuICAgICAgICAocHJldmlvdXNUVmlldyAhPSBjdXJyZW50VFZpZXcgJiYgKCh0Tm9kZS50eXBlICYgMyAvKiBBbnlSTm9kZSAqLykgIT09IDApKTtcbiAgICAvLyBUaGlzIHNwZWNpYWwgY2FzZSBoYXBwZW5zIHdoZW4gdGhlcmUgaXMgYSBAaG9zdCBvbiB0aGUgaW5qZWN0IGFuZCB3aGVuIHdlIGFyZSBzZWFyY2hpbmdcbiAgICAvLyBvbiB0aGUgaG9zdCBlbGVtZW50IG5vZGUuXG4gICAgY29uc3QgaXNIb3N0U3BlY2lhbENhc2UgPSAoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0KSAmJiBob3N0VEVsZW1lbnROb2RlID09PSB0Tm9kZTtcbiAgICBjb25zdCBpbmplY3RhYmxlSWR4ID0gbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgY3VycmVudFRWaWV3LCB0b2tlbiwgY2FuQWNjZXNzVmlld1Byb3ZpZGVycywgaXNIb3N0U3BlY2lhbENhc2UpO1xuICAgIGlmIChpbmplY3RhYmxlSWR4ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgY3VycmVudFRWaWV3LCBpbmplY3RhYmxlSWR4LCB0Tm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTk9UX0ZPVU5EO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoZXMgZm9yIHRoZSBnaXZlbiB0b2tlbiBhbW9uZyB0aGUgbm9kZSdzIGRpcmVjdGl2ZXMgYW5kIHByb3ZpZGVycy5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVE5vZGUgb24gd2hpY2ggZGlyZWN0aXZlcyBhcmUgcHJlc2VudC5cbiAqIEBwYXJhbSB0VmlldyBUaGUgdFZpZXcgd2UgYXJlIGN1cnJlbnRseSBwcm9jZXNzaW5nXG4gKiBAcGFyYW0gdG9rZW4gUHJvdmlkZXIgdG9rZW4gb3IgdHlwZSBvZiBhIGRpcmVjdGl2ZSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzIFdoZXRoZXIgdmlldyBwcm92aWRlcnMgc2hvdWxkIGJlIGNvbnNpZGVyZWQuXG4gKiBAcGFyYW0gaXNIb3N0U3BlY2lhbENhc2UgV2hldGhlciB0aGUgaG9zdCBzcGVjaWFsIGNhc2UgYXBwbGllcy5cbiAqIEByZXR1cm5zIEluZGV4IG9mIGEgZm91bmQgZGlyZWN0aXZlIG9yIHByb3ZpZGVyLCBvciBudWxsIHdoZW4gbm9uZSBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIHRva2VuLCBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzLCBpc0hvc3RTcGVjaWFsQ2FzZSkge1xuICAgIGNvbnN0IG5vZGVQcm92aWRlckluZGV4ZXMgPSB0Tm9kZS5wcm92aWRlckluZGV4ZXM7XG4gICAgY29uc3QgdEluamVjdGFibGVzID0gdFZpZXcuZGF0YTtcbiAgICBjb25zdCBpbmplY3RhYmxlc1N0YXJ0ID0gbm9kZVByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgY29uc3QgZGlyZWN0aXZlc1N0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGNvbnN0IGNwdFZpZXdQcm92aWRlcnNDb3VudCA9IG5vZGVQcm92aWRlckluZGV4ZXMgPj4gMjAgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnQgKi87XG4gICAgY29uc3Qgc3RhcnRpbmdJbmRleCA9IGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgPyBpbmplY3RhYmxlc1N0YXJ0IDogaW5qZWN0YWJsZXNTdGFydCArIGNwdFZpZXdQcm92aWRlcnNDb3VudDtcbiAgICAvLyBXaGVuIHRoZSBob3N0IHNwZWNpYWwgY2FzZSBhcHBsaWVzLCBvbmx5IHRoZSB2aWV3UHJvdmlkZXJzIGFuZCB0aGUgY29tcG9uZW50IGFyZSB2aXNpYmxlXG4gICAgY29uc3QgZW5kSW5kZXggPSBpc0hvc3RTcGVjaWFsQ2FzZSA/IGluamVjdGFibGVzU3RhcnQgKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQgOiBkaXJlY3RpdmVFbmQ7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0aW5nSW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyVG9rZW5PckRlZiA9IHRJbmplY3RhYmxlc1tpXTtcbiAgICAgICAgaWYgKGkgPCBkaXJlY3RpdmVzU3RhcnQgJiYgdG9rZW4gPT09IHByb3ZpZGVyVG9rZW5PckRlZiB8fFxuICAgICAgICAgICAgaSA+PSBkaXJlY3RpdmVzU3RhcnQgJiYgcHJvdmlkZXJUb2tlbk9yRGVmLnR5cGUgPT09IHRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNIb3N0U3BlY2lhbENhc2UpIHtcbiAgICAgICAgY29uc3QgZGlyRGVmID0gdEluamVjdGFibGVzW2RpcmVjdGl2ZXNTdGFydF07XG4gICAgICAgIGlmIChkaXJEZWYgJiYgaXNDb21wb25lbnREZWYoZGlyRGVmKSAmJiBkaXJEZWYudHlwZSA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzU3RhcnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlIG9yIGluc3RhbnRpYXRlIHRoZSBpbmplY3RhYmxlIGZyb20gdGhlIGBMVmlld2AgYXQgcGFydGljdWxhciBgaW5kZXhgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGFscmVhZHkgYmVlbiBpbnN0YW50aWF0ZWQgYW5kIGlmIHNvIHJldHVybnMgdGhlXG4gKiBjYWNoZWQgYGluamVjdGFibGVgLiBPdGhlcndpc2UgaWYgaXQgZGV0ZWN0cyB0aGF0IHRoZSB2YWx1ZSBpcyBzdGlsbCBhIGZhY3RvcnkgaXRcbiAqIGluc3RhbnRpYXRlcyB0aGUgYGluamVjdGFibGVgIGFuZCBjYWNoZXMgdGhlIHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgdFZpZXcsIGluZGV4LCB0Tm9kZSkge1xuICAgIGxldCB2YWx1ZSA9IGxWaWV3W2luZGV4XTtcbiAgICBjb25zdCB0RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgaWYgKGlzRmFjdG9yeSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHZhbHVlO1xuICAgICAgICBpZiAoZmFjdG9yeS5yZXNvbHZpbmcpIHtcbiAgICAgICAgICAgIHRocm93Q3ljbGljRGVwZW5kZW5jeUVycm9yKHN0cmluZ2lmeUZvckVycm9yKHREYXRhW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMgPSBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhmYWN0b3J5LmNhblNlZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICBmYWN0b3J5LnJlc29sdmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBmYWN0b3J5LmluamVjdEltcGwgPyBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihmYWN0b3J5LmluamVjdEltcGwpIDogbnVsbDtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGVudGVyREkobFZpZXcsIHROb2RlLCBJbmplY3RGbGFncy5EZWZhdWx0KTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRFcXVhbChzdWNjZXNzLCB0cnVlLCAnQmVjYXVzZSBmbGFncyBkbyBub3QgY29udGFpbiBcXGBTa2lwU2VsZlxcJyB3ZSBleHBlY3QgdGhpcyB0byBhbHdheXMgc3VjY2VlZC4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gbFZpZXdbaW5kZXhdID0gZmFjdG9yeS5mYWN0b3J5KHVuZGVmaW5lZCwgdERhdGEsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgICAgICAvLyBUaGlzIGNvZGUgcGF0aCBpcyBoaXQgZm9yIGJvdGggZGlyZWN0aXZlcyBhbmQgcHJvdmlkZXJzLlxuICAgICAgICAgICAgLy8gRm9yIHBlcmYgcmVhc29ucywgd2Ugd2FudCB0byBhdm9pZCBzZWFyY2hpbmcgZm9yIGhvb2tzIG9uIHByb3ZpZGVycy5cbiAgICAgICAgICAgIC8vIEl0IGRvZXMgbm8gaGFybSB0byB0cnkgKHRoZSBob29rcyBqdXN0IHdvbid0IGV4aXN0KSwgYnV0IHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gY2hlY2tzIGFyZSB1bm5lY2Vzc2FyeSBhbmQgdGhpcyBpcyBhIGhvdCBwYXRoLiBTbyB3ZSBjaGVjayB0byBzZWVcbiAgICAgICAgICAgIC8vIGlmIHRoZSBpbmRleCBvZiB0aGUgZGVwZW5kZW5jeSBpcyBpbiB0aGUgZGlyZWN0aXZlIHJhbmdlIGZvciB0aGlzXG4gICAgICAgICAgICAvLyB0Tm9kZS4gSWYgaXQncyBub3QsIHdlIGtub3cgaXQncyBhIHByb3ZpZGVyIGFuZCBza2lwIGhvb2sgcmVnaXN0cmF0aW9uLlxuICAgICAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJiBpbmRleCA+PSB0Tm9kZS5kaXJlY3RpdmVTdGFydCkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREaXJlY3RpdmVEZWYodERhdGFbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICByZWdpc3RlclByZU9yZGVySG9va3MoaW5kZXgsIHREYXRhW2luZGV4XSwgdFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgc2V0SW5jbHVkZVZpZXdQcm92aWRlcnMocHJldmlvdXNJbmNsdWRlVmlld1Byb3ZpZGVycyk7XG4gICAgICAgICAgICBmYWN0b3J5LnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgbGVhdmVESSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgYml0IGluIGFuIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90XG4gKiB0aGUgZGlyZWN0aXZlIG1pZ2h0IGJlIHByb3ZpZGVkIGJ5IHRoZSBpbmplY3Rvci5cbiAqXG4gKiBXaGVuIGEgZGlyZWN0aXZlIGlzIHB1YmxpYywgaXQgaXMgYWRkZWQgdG8gdGhlIGJsb29tIGZpbHRlciBhbmQgZ2l2ZW4gYSB1bmlxdWUgSUQgdGhhdCBjYW4gYmVcbiAqIHJldHJpZXZlZCBvbiB0aGUgVHlwZS4gV2hlbiB0aGUgZGlyZWN0aXZlIGlzbid0IHB1YmxpYyBvciB0aGUgdG9rZW4gaXMgbm90IGEgZGlyZWN0aXZlIGBudWxsYFxuICogaXMgcmV0dXJuZWQgYXMgdGhlIG5vZGUgaW5qZWN0b3IgY2FuIG5vdCBwb3NzaWJseSBwcm92aWRlIHRoYXQgdG9rZW4uXG4gKlxuICogQHBhcmFtIHRva2VuIHRoZSBpbmplY3Rpb24gdG9rZW5cbiAqIEByZXR1cm5zIHRoZSBtYXRjaGluZyBiaXQgdG8gY2hlY2sgaW4gdGhlIGJsb29tIGZpbHRlciBvciBgbnVsbGAgaWYgdGhlIHRva2VuIGlzIG5vdCBrbm93bi5cbiAqICAgV2hlbiB0aGUgcmV0dXJuZWQgdmFsdWUgaXMgbmVnYXRpdmUgdGhlbiBpdCByZXByZXNlbnRzIHNwZWNpYWwgdmFsdWVzIHN1Y2ggYXMgYEluamVjdG9yYC5cbiAqL1xuZnVuY3Rpb24gYmxvb21IYXNoQml0T3JGYWN0b3J5KHRva2VuKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodG9rZW4sICd0b2tlbiBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdG9rZW4uY2hhckNvZGVBdCgwKSB8fCAwO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbklkID0gXG4gICAgLy8gRmlyc3QgY2hlY2sgd2l0aCBgaGFzT3duUHJvcGVydHlgIHNvIHdlIGRvbid0IGdldCBhbiBpbmhlcml0ZWQgSUQuXG4gICAgdG9rZW4uaGFzT3duUHJvcGVydHkoTkdfRUxFTUVOVF9JRCkgPyB0b2tlbltOR19FTEVNRU5UX0lEXSA6IHVuZGVmaW5lZDtcbiAgICAvLyBOZWdhdGl2ZSB0b2tlbiBJRHMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgb2JqZWN0cyBzdWNoIGFzIGBJbmplY3RvcmBcbiAgICBpZiAodHlwZW9mIHRva2VuSWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICh0b2tlbklkID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbklkICYgQkxPT01fTUFTSztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHRva2VuSWQsIC0xIC8qIEluamVjdG9yICovLCAnRXhwZWN0aW5nIHRvIGdldCBTcGVjaWFsIEluamVjdG9yIElkJyk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTm9kZUluamVjdG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9rZW5JZDtcbiAgICB9XG59XG5mdW5jdGlvbiBibG9vbUhhc1Rva2VuKGJsb29tSGFzaCwgaW5qZWN0b3JJbmRleCwgaW5qZWN0b3JWaWV3KSB7XG4gICAgLy8gQ3JlYXRlIGEgbWFzayB0aGF0IHRhcmdldHMgdGhlIHNwZWNpZmljIGJpdCBhc3NvY2lhdGVkIHdpdGggdGhlIGRpcmVjdGl2ZSB3ZSdyZSBsb29raW5nIGZvci5cbiAgICAvLyBKUyBiaXQgb3BlcmF0aW9ucyBhcmUgMzIgYml0cywgc28gdGhpcyB3aWxsIGJlIGEgbnVtYmVyIGJldHdlZW4gMl4wIGFuZCAyXjMxLCBjb3JyZXNwb25kaW5nXG4gICAgLy8gdG8gYml0IHBvc2l0aW9ucyAwIC0gMzEgaW4gYSAzMiBiaXQgaW50ZWdlci5cbiAgICBjb25zdCBtYXNrID0gMSA8PCBibG9vbUhhc2g7XG4gICAgLy8gRWFjaCBibG9vbSBidWNrZXQgaW4gYGluamVjdG9yVmlld2AgcmVwcmVzZW50cyBgQkxPT01fQlVDS0VUX0JJVFNgIG51bWJlciBvZiBiaXRzIG9mXG4gICAgLy8gYGJsb29tSGFzaGAuIEFueSBiaXRzIGluIGBibG9vbUhhc2hgIGJleW9uZCBgQkxPT01fQlVDS0VUX0JJVFNgIGluZGljYXRlIHRoZSBidWNrZXQgb2Zmc2V0XG4gICAgLy8gdGhhdCBzaG91bGQgYmUgdXNlZC5cbiAgICBjb25zdCB2YWx1ZSA9IGluamVjdG9yVmlld1tpbmplY3RvckluZGV4ICsgKGJsb29tSGFzaCA+PiBCTE9PTV9CVUNLRVRfQklUUyldO1xuICAgIC8vIElmIHRoZSBibG9vbSBmaWx0ZXIgdmFsdWUgaGFzIHRoZSBiaXQgY29ycmVzcG9uZGluZyB0byB0aGUgZGlyZWN0aXZlJ3MgYmxvb21CaXQgZmxpcHBlZCBvbixcbiAgICAvLyB0aGlzIGluamVjdG9yIGlzIGEgcG90ZW50aWFsIG1hdGNoLlxuICAgIHJldHVybiAhISh2YWx1ZSAmIG1hc2spO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiBmbGFncyBwcmV2ZW50IHBhcmVudCBpbmplY3RvciBmcm9tIGJlaW5nIHNlYXJjaGVkIGZvciB0b2tlbnMgKi9cbmZ1bmN0aW9uIHNob3VsZFNlYXJjaFBhcmVudChmbGFncywgaXNGaXJzdEhvc3RUTm9kZSkge1xuICAgIHJldHVybiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2VsZikgJiYgIShmbGFncyAmIEluamVjdEZsYWdzLkhvc3QgJiYgaXNGaXJzdEhvc3RUTm9kZSk7XG59XG5jbGFzcyBOb2RlSW5qZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKF90Tm9kZSwgX2xWaWV3KSB7XG4gICAgICAgIHRoaXMuX3ROb2RlID0gX3ROb2RlO1xuICAgICAgICB0aGlzLl9sVmlldyA9IF9sVmlldztcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgICAgICByZXR1cm4gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHRoaXMuX3ROb2RlLCB0aGlzLl9sVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKTtcbiAgICB9XG59XG4vKipcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVnZXRJbmhlcml0ZWRGYWN0b3J5KHR5cGUpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG93bkNvbnN0cnVjdG9yID0gdHlwZS5wcm90b3R5cGUuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IG93bkZhY3RvcnkgPSBvd25Db25zdHJ1Y3RvcltOR19GQUNUT1JZX0RFRl0gfHwgZ2V0RmFjdG9yeU9mKG93bkNvbnN0cnVjdG9yKTtcbiAgICAgICAgY29uc3Qgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICAgICAgbGV0IHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG4gICAgICAgIC8vIEdvIHVwIHRoZSBwcm90b3R5cGUgdW50aWwgd2UgaGl0IGBPYmplY3RgLlxuICAgICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcGFyZW50W05HX0ZBQ1RPUllfREVGXSB8fCBnZXRGYWN0b3J5T2YocGFyZW50KTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhpdCBzb21ldGhpbmcgdGhhdCBoYXMgYSBmYWN0b3J5IGFuZCB0aGUgZmFjdG9yeSBpc24ndCB0aGUgc2FtZSBhcyB0aGUgdHlwZSxcbiAgICAgICAgICAgIC8vIHdlJ3ZlIGZvdW5kIHRoZSBpbmhlcml0ZWQgZmFjdG9yeS4gTm90ZSB0aGUgY2hlY2sgdGhhdCB0aGUgZmFjdG9yeSBpc24ndCB0aGUgdHlwZSdzXG4gICAgICAgICAgICAvLyBvd24gZmFjdG9yeSBpcyByZWR1bmRhbnQgaW4gbW9zdCBjYXNlcywgYnV0IGlmIHRoZSB1c2VyIGhhcyBjdXN0b20gZGVjb3JhdG9ycyBvbiB0aGVcbiAgICAgICAgICAgIC8vIGNsYXNzLCB0aGlzIGxvb2t1cCB3aWxsIHN0YXJ0IG9uZSBsZXZlbCBkb3duIGluIHRoZSBwcm90b3R5cGUgY2hhaW4sIGNhdXNpbmcgdXMgdG9cbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIG93biBmYWN0b3J5IGZpcnN0IGFuZCBwb3RlbnRpYWxseSB0cmlnZ2VyaW5nIGFuIGluZmluaXRlIGxvb3AgZG93bnN0cmVhbS5cbiAgICAgICAgICAgIGlmIChmYWN0b3J5ICYmIGZhY3RvcnkgIT09IG93bkZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGZhY3RvcnkgZGVmaW5lZC4gRWl0aGVyIHRoaXMgd2FzIGltcHJvcGVyIHVzYWdlIG9mIGluaGVyaXRhbmNlXG4gICAgICAgIC8vIChubyBBbmd1bGFyIGRlY29yYXRvciBvbiB0aGUgc3VwZXJjbGFzcykgb3IgdGhlcmUgaXMgbm8gY29uc3RydWN0b3IgYXQgYWxsXG4gICAgICAgIC8vIGluIHRoZSBpbmhlcml0YW5jZSBjaGFpbi4gU2luY2UgdGhlIHR3byBjYXNlcyBjYW5ub3QgYmUgZGlzdGluZ3Vpc2hlZCwgdGhlXG4gICAgICAgIC8vIGxhdHRlciBoYXMgdG8gYmUgYXNzdW1lZC5cbiAgICAgICAgcmV0dXJuIHQgPT4gbmV3IHQoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldEZhY3RvcnlPZih0eXBlKSB7XG4gICAgaWYgKGlzRm9yd2FyZFJlZih0eXBlKSkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IGdldEZhY3RvcnlPZihyZXNvbHZlRm9yd2FyZFJlZih0eXBlKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeSAmJiBmYWN0b3J5KCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBnZXRGYWN0b3J5RGVmKHR5cGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmFjYWRlIGZvciB0aGUgYXR0cmlidXRlIGluamVjdGlvbiBmcm9tIERJLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpbmplY3RBdHRyaWJ1dGUoYXR0ck5hbWVUb0luamVjdCkge1xuICAgIHJldHVybiBpbmplY3RBdHRyaWJ1dGVJbXBsKGdldEN1cnJlbnRUTm9kZSgpLCBhdHRyTmFtZVRvSW5qZWN0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBBTk5PVEFUSU9OUyA9ICdfX2Fubm90YXRpb25zX18nO1xuY29uc3QgUEFSQU1FVEVSUyA9ICdfX3BhcmFtZXRlcnNfXyc7XG5jb25zdCBQUk9QX01FVEFEQVRBID0gJ19fcHJvcF9fbWV0YWRhdGFfXyc7XG4vKipcbiAqIEBzdXBwcmVzcyB7Z2xvYmFsVGhpc31cbiAqL1xuZnVuY3Rpb24gbWFrZURlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MsIGFkZGl0aW9uYWxQcm9jZXNzaW5nLCB0eXBlRm4pIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRvckZhY3RvcnkoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBEZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgbWV0YUN0b3IuY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25JbnN0YW5jZSA9IG5ldyBEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIFR5cGVEZWNvcmF0b3IoY2xzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVGbilcbiAgICAgICAgICAgICAgICAgICAgdHlwZUZuKGNscywgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgc2luY2UgaXQgY3JlYXRlcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB3aGljaFxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBwcm9wZXJ0eSBpcyBjb3BpZWQgZHVyaW5nIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25zID0gY2xzLmhhc093blByb3BlcnR5KEFOTk9UQVRJT05TKSA/XG4gICAgICAgICAgICAgICAgICAgIGNsc1tBTk5PVEFUSU9OU10gOlxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xzLCBBTk5PVEFUSU9OUywgeyB2YWx1ZTogW10gfSlbQU5OT1RBVElPTlNdO1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbFByb2Nlc3NpbmcpXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9jZXNzaW5nKGNscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICBEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZSA9IG5hbWU7XG4gICAgICAgIERlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IERlY29yYXRvckZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBEZWNvcmF0b3JGYWN0b3J5O1xuICAgIH0pO1xufVxuZnVuY3Rpb24gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBwcm9wcyguLi5hcmdzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSB2YWx1ZXNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1ha2VQYXJhbURlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgICAgIGZ1bmN0aW9uIFBhcmFtRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFBhcmFtRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIG1ldGFDdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbkluc3RhbmNlID0gbmV3IFBhcmFtRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKTtcbiAgICAgICAgICAgIFBhcmFtRGVjb3JhdG9yLmFubm90YXRpb24gPSBhbm5vdGF0aW9uSW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3I7XG4gICAgICAgICAgICBmdW5jdGlvbiBQYXJhbURlY29yYXRvcihjbHMsIHVudXNlZEtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGlzIGltcG9ydGFudCBzaW5jZSBpdCBjcmVhdGVzIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIHByb3BlcnR5IGlzIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IGNscy5oYXNPd25Qcm9wZXJ0eShQQVJBTUVURVJTKSA/XG4gICAgICAgICAgICAgICAgICAgIGNsc1tQQVJBTUVURVJTXSA6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbHMsIFBBUkFNRVRFUlMsIHsgdmFsdWU6IFtdIH0pW1BBUkFNRVRFUlNdO1xuICAgICAgICAgICAgICAgIC8vIHRoZXJlIG1pZ2h0IGJlIGdhcHMgaWYgc29tZSBpbiBiZXR3ZWVuIHBhcmFtZXRlcnMgZG8gbm90IGhhdmUgYW5ub3RhdGlvbnMuXG4gICAgICAgICAgICAgICAgLy8gd2UgcGFkIHdpdGggbnVsbHMuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhcmFtZXRlcnMubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHBhcmFtZXRlcnNbaW5kZXhdID0gcGFyYW1ldGVyc1tpbmRleF0gfHwgW10pLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICAgICAgUGFyYW1EZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICAgICAgUGFyYW1EZWNvcmF0b3JGYWN0b3J5LmFubm90YXRpb25DbHMgPSBQYXJhbURlY29yYXRvckZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBQYXJhbURlY29yYXRvckZhY3Rvcnk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtYWtlUHJvcERlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MsIGFkZGl0aW9uYWxQcm9jZXNzaW5nKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgICAgICBmdW5jdGlvbiBQcm9wRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb3BEZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgbWV0YUN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZWNvcmF0b3JJbnN0YW5jZSA9IG5ldyBQcm9wRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3IodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3IgPSB0YXJnZXQuY29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgYmVjYXVzZSBpdCBjcmVhdGVzIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBwcmV2ZW50cyB0aGUgcHJvcGVydHkgZnJvbSBiZWluZyBjb3BpZWQgZHVyaW5nIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShQUk9QX01FVEFEQVRBKSA/XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yW1BST1BfTUVUQURBVEFdIDpcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCBQUk9QX01FVEFEQVRBLCB7IHZhbHVlOiB7fSB9KVtQUk9QX01FVEFEQVRBXTtcbiAgICAgICAgICAgICAgICBtZXRhW25hbWVdID0gbWV0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBtZXRhW25hbWVdIHx8IFtdO1xuICAgICAgICAgICAgICAgIG1ldGFbbmFtZV0udW5zaGlmdChkZWNvcmF0b3JJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxQcm9jZXNzaW5nKVxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvY2Vzc2luZyh0YXJnZXQsIG5hbWUsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb3BEZWNvcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudENsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgUHJvcERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICAgICAgUHJvcERlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IFByb3BEZWNvcmF0b3JGYWN0b3J5O1xuICAgICAgICByZXR1cm4gUHJvcERlY29yYXRvckZhY3Rvcnk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBdHRyaWJ1dGUgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBdHRyaWJ1dGUgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ0F0dHJpYnV0ZScsIChhdHRyaWJ1dGVOYW1lKSA9PiAoeyBhdHRyaWJ1dGVOYW1lLCBfX05HX0VMRU1FTlRfSURfXzogKCkgPT4gybXJtWluamVjdEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSB9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBpbiBhIERJIFByb3ZpZGVyLlxuICpcbiAqIFVzZSBhbiBgSW5qZWN0aW9uVG9rZW5gIHdoZW5ldmVyIHRoZSB0eXBlIHlvdSBhcmUgaW5qZWN0aW5nIGlzIG5vdCByZWlmaWVkIChkb2VzIG5vdCBoYXZlIGFcbiAqIHJ1bnRpbWUgcmVwcmVzZW50YXRpb24pIHN1Y2ggYXMgd2hlbiBpbmplY3RpbmcgYW4gaW50ZXJmYWNlLCBjYWxsYWJsZSB0eXBlLCBhcnJheSBvclxuICogcGFyYW1ldGVyaXplZCB0eXBlLlxuICpcbiAqIGBJbmplY3Rpb25Ub2tlbmAgaXMgcGFyYW1ldGVyaXplZCBvbiBgVGAgd2hpY2ggaXMgdGhlIHR5cGUgb2Ygb2JqZWN0IHdoaWNoIHdpbGwgYmUgcmV0dXJuZWQgYnlcbiAqIHRoZSBgSW5qZWN0b3JgLiBUaGlzIHByb3ZpZGVzIGFuIGFkZGl0aW9uYWwgbGV2ZWwgb2YgdHlwZSBzYWZldHkuXG4gKlxuICogYGBgXG4gKiBpbnRlcmZhY2UgTXlJbnRlcmZhY2Ugey4uLn1cbiAqIGNvbnN0IG15SW50ZXJmYWNlID0gaW5qZWN0b3IuZ2V0KG5ldyBJbmplY3Rpb25Ub2tlbjxNeUludGVyZmFjZT4oJ1NvbWVUb2tlbicpKTtcbiAqIC8vIG15SW50ZXJmYWNlIGlzIGluZmVycmVkIHRvIGJlIE15SW50ZXJmYWNlLlxuICogYGBgXG4gKlxuICogV2hlbiBjcmVhdGluZyBhbiBgSW5qZWN0aW9uVG9rZW5gLCB5b3UgY2FuIG9wdGlvbmFsbHkgc3BlY2lmeSBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggcmV0dXJuc1xuICogKHBvc3NpYmx5IGJ5IGNyZWF0aW5nKSBhIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHBhcmFtZXRlcml6ZWQgdHlwZSBgVGAuIFRoaXMgc2V0cyB1cCB0aGVcbiAqIGBJbmplY3Rpb25Ub2tlbmAgdXNpbmcgdGhpcyBmYWN0b3J5IGFzIGEgcHJvdmlkZXIgYXMgaWYgaXQgd2FzIGRlZmluZWQgZXhwbGljaXRseSBpbiB0aGVcbiAqIGFwcGxpY2F0aW9uJ3Mgcm9vdCBpbmplY3Rvci4gSWYgdGhlIGZhY3RvcnkgZnVuY3Rpb24sIHdoaWNoIHRha2VzIHplcm8gYXJndW1lbnRzLCBuZWVkcyB0byBpbmplY3RcbiAqIGRlcGVuZGVuY2llcywgaXQgY2FuIGRvIHNvIHVzaW5nIHRoZSBgaW5qZWN0YCBmdW5jdGlvbi5cbiAqIEFzIHlvdSBjYW4gc2VlIGluIHRoZSBUcmVlLXNoYWthYmxlIEluamVjdGlvblRva2VuIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogQWRkaXRpb25hbGx5LCBpZiBhIGBmYWN0b3J5YCBpcyBzcGVjaWZpZWQgeW91IGNhbiBhbHNvIHNwZWNpZnkgdGhlIGBwcm92aWRlZEluYCBvcHRpb24sIHdoaWNoXG4gKiBvdmVycmlkZXMgdGhlIGFib3ZlIGJlaGF2aW9yIGFuZCBtYXJrcyB0aGUgdG9rZW4gYXMgYmVsb25naW5nIHRvIGEgcGFydGljdWxhciBgQE5nTW9kdWxlYC4gQXNcbiAqIG1lbnRpb25lZCBhYm92ZSwgYCdyb290J2AgaXMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIGBwcm92aWRlZEluYC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEJhc2ljIEV4YW1wbGVzXG4gKlxuICogIyMjIFBsYWluIEluamVjdGlvblRva2VuXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J0luamVjdGlvblRva2VuJ31cbiAqXG4gKiAjIyMgVHJlZS1zaGFrYWJsZSBJbmplY3Rpb25Ub2tlblxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdTaGFrYWJsZUluamVjdGlvblRva2VuJ31cbiAqXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBJbmplY3Rpb25Ub2tlbiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIF9kZXNjICAgRGVzY3JpcHRpb24gZm9yIHRoZSB0b2tlbixcbiAgICAgKiAgICAgICAgICAgICAgICB1c2VkIG9ubHkgZm9yIGRlYnVnZ2luZyBwdXJwb3NlcyxcbiAgICAgKiAgICAgICAgICAgICAgICBpdCBzaG91bGQgYnV0IGRvZXMgbm90IG5lZWQgdG8gYmUgdW5pcXVlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIHRva2VuJ3MgdXNhZ2UsIGFzIGRlc2NyaWJlZCBhYm92ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9kZXNjLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Rlc2MgPSBfZGVzYztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLm5nTWV0YWRhdGFOYW1lID0gJ0luamVjdGlvblRva2VuJztcbiAgICAgICAgdGhpcy7JtXByb3YgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRMZXNzVGhhbihvcHRpb25zLCAwLCAnT25seSBuZWdhdGl2ZSBudW1iZXJzIGFyZSBzdXBwb3J0ZWQgaGVyZScpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNwZWNpYWwgaGFjayB0byBhc3NpZ24gX19OR19FTEVNRU5UX0lEX18gdG8gdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICAgIC8vIFNlZSBgSW5qZWN0b3JNYXJrZXJzYFxuICAgICAgICAgICAgdGhpcy5fX05HX0VMRU1FTlRfSURfXyA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHtcbiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcyxcbiAgICAgICAgICAgICAgICBwcm92aWRlZEluOiBvcHRpb25zLnByb3ZpZGVkSW4gfHwgJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIGZhY3Rvcnk6IG9wdGlvbnMuZmFjdG9yeSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYEluamVjdGlvblRva2VuICR7dGhpcy5fZGVzY31gO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgREkgdG9rZW4gdGhhdCB5b3UgY2FuIHVzZSB0byBjcmVhdGUgYSB2aXJ0dWFsIFtwcm92aWRlcl0oZ3VpZGUvZ2xvc3NhcnkjcHJvdmlkZXIpXG4gKiB0aGF0IHdpbGwgcG9wdWxhdGUgdGhlIGBlbnRyeUNvbXBvbmVudHNgIGZpZWxkIG9mIGNvbXBvbmVudHMgYW5kIE5nTW9kdWxlc1xuICogYmFzZWQgb24gaXRzIGB1c2VWYWx1ZWAgcHJvcGVydHkgdmFsdWUuXG4gKiBBbGwgY29tcG9uZW50cyB0aGF0IGFyZSByZWZlcmVuY2VkIGluIHRoZSBgdXNlVmFsdWVgIHZhbHVlIChlaXRoZXIgZGlyZWN0bHlcbiAqIG9yIGluIGEgbmVzdGVkIGFycmF5IG9yIG1hcCkgYXJlIGFkZGVkIHRvIHRoZSBgZW50cnlDb21wb25lbnRzYCBwcm9wZXJ0eS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdGhlIHJvdXRlciBjYW4gcG9wdWxhdGUgdGhlIGBlbnRyeUNvbXBvbmVudHNgXG4gKiBmaWVsZCBvZiBhbiBOZ01vZHVsZSBiYXNlZCBvbiBhIHJvdXRlciBjb25maWd1cmF0aW9uIHRoYXQgcmVmZXJzXG4gKiB0byBjb21wb25lbnRzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIGhlbHBlciBmdW5jdGlvbiBpbnNpZGUgdGhlIHJvdXRlclxuICogZnVuY3Rpb24gcHJvdmlkZVJvdXRlcyhyb3V0ZXMpIHtcbiAqICAgcmV0dXJuIFtcbiAqICAgICB7cHJvdmlkZTogUk9VVEVTLCB1c2VWYWx1ZTogcm91dGVzfSxcbiAqICAgICB7cHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgdXNlVmFsdWU6IHJvdXRlcywgbXVsdGk6IHRydWV9XG4gKiAgIF07XG4gKiB9XG4gKlxuICogLy8gdXNlciBjb2RlXG4gKiBsZXQgcm91dGVzID0gW1xuICogICB7cGF0aDogJy9yb290JywgY29tcG9uZW50OiBSb290Q29tcH0sXG4gKiAgIHtwYXRoOiAnL3RlYW1zJywgY29tcG9uZW50OiBUZWFtc0NvbXB9XG4gKiBdO1xuICpcbiAqIEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3Byb3ZpZGVSb3V0ZXMocm91dGVzKV1cbiAqIH0pXG4gKiBjbGFzcyBNb2R1bGVXaXRoUm91dGVzIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZGVwcmVjYXRlZCBTaW5jZSA5LjAuMC4gV2l0aCBJdnksIHRoaXMgcHJvcGVydHkgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeS5cbiAqL1xuY29uc3QgQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignQW5hbHl6ZUZvckVudHJ5Q29tcG9uZW50cycpO1xuLy8gU3RvcmVzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIGBlbWl0RGlzdGluY3RDaGFuZ2VzT25seWAgd2hlbiB0aGUgYGVtaXREaXN0aW5jdENoYW5nZXNPbmx5YCBpcyBub3Rcbi8vIGV4cGxpY2l0bHkgc2V0LlxuY29uc3QgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlEZWZhdWx0VmFsdWUgPSB0cnVlO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBxdWVyeSBtZXRhZGF0YS5cbiAqXG4gKiBAc2VlIGBDb250ZW50Q2hpbGRyZW5gLlxuICogQHNlZSBgQ29udGVudENoaWxkYC5cbiAqIEBzZWUgYFZpZXdDaGlsZHJlbmAuXG4gKiBAc2VlIGBWaWV3Q2hpbGRgLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUXVlcnkge1xufVxuLyoqXG4gKiBDb250ZW50Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ29udGVudENoaWxkcmVuID0gbWFrZVByb3BEZWNvcmF0b3IoJ0NvbnRlbnRDaGlsZHJlbicsIChzZWxlY3RvciwgZGF0YSA9IHt9KSA9PiAoe1xuICAgIHNlbGVjdG9yLFxuICAgIGZpcnN0OiBmYWxzZSxcbiAgICBpc1ZpZXdRdWVyeTogZmFsc2UsXG4gICAgZGVzY2VuZGFudHM6IGZhbHNlLFxuICAgIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seURlZmF1bHRWYWx1ZSxcbiAgICAuLi5kYXRhXG59KSwgUXVlcnkpO1xuLyoqXG4gKiBDb250ZW50Q2hpbGQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKlxuICogQEFubm90YXRpb25cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENvbnRlbnRDaGlsZCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdDb250ZW50Q2hpbGQnLCAoc2VsZWN0b3IsIGRhdGEgPSB7fSkgPT4gKHsgc2VsZWN0b3IsIGZpcnN0OiB0cnVlLCBpc1ZpZXdRdWVyeTogZmFsc2UsIGRlc2NlbmRhbnRzOiB0cnVlLCAuLi5kYXRhIH0pLCBRdWVyeSk7XG4vKipcbiAqIFZpZXdDaGlsZHJlbiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFZpZXdDaGlsZHJlbiA9IG1ha2VQcm9wRGVjb3JhdG9yKCdWaWV3Q2hpbGRyZW4nLCAoc2VsZWN0b3IsIGRhdGEgPSB7fSkgPT4gKHtcbiAgICBzZWxlY3RvcixcbiAgICBmaXJzdDogZmFsc2UsXG4gICAgaXNWaWV3UXVlcnk6IHRydWUsXG4gICAgZGVzY2VuZGFudHM6IHRydWUsXG4gICAgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk6IGVtaXREaXN0aW5jdENoYW5nZXNPbmx5RGVmYXVsdFZhbHVlLFxuICAgIC4uLmRhdGFcbn0pLCBRdWVyeSk7XG4vKipcbiAqIFZpZXdDaGlsZCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFZpZXdDaGlsZCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdWaWV3Q2hpbGQnLCAoc2VsZWN0b3IsIGRhdGEpID0+ICh7IHNlbGVjdG9yLCBmaXJzdDogdHJ1ZSwgaXNWaWV3UXVlcnk6IHRydWUsIGRlc2NlbmRhbnRzOiB0cnVlLCAuLi5kYXRhIH0pLCBRdWVyeSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEZhY3RvcnlUYXJnZXQ7XG4oZnVuY3Rpb24gKEZhY3RvcnlUYXJnZXQpIHtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJEaXJlY3RpdmVcIl0gPSAwXSA9IFwiRGlyZWN0aXZlXCI7XG4gICAgRmFjdG9yeVRhcmdldFtGYWN0b3J5VGFyZ2V0W1wiQ29tcG9uZW50XCJdID0gMV0gPSBcIkNvbXBvbmVudFwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIkluamVjdGFibGVcIl0gPSAyXSA9IFwiSW5qZWN0YWJsZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIlBpcGVcIl0gPSAzXSA9IFwiUGlwZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIk5nTW9kdWxlXCJdID0gNF0gPSBcIk5nTW9kdWxlXCI7XG59KShGYWN0b3J5VGFyZ2V0IHx8IChGYWN0b3J5VGFyZ2V0ID0ge30pKTtcbnZhciBWaWV3RW5jYXBzdWxhdGlvbjtcbihmdW5jdGlvbiAoVmlld0VuY2Fwc3VsYXRpb24pIHtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIkVtdWxhdGVkXCJdID0gMF0gPSBcIkVtdWxhdGVkXCI7XG4gICAgLy8gSGlzdG9yaWNhbGx5IHRoZSAxIHZhbHVlIHdhcyBmb3IgYE5hdGl2ZWAgZW5jYXBzdWxhdGlvbiB3aGljaCBoYXMgYmVlbiByZW1vdmVkIGFzIG9mIHYxMS5cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIk5vbmVcIl0gPSAyXSA9IFwiTm9uZVwiO1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiU2hhZG93RG9tXCJdID0gM10gPSBcIlNoYWRvd0RvbVwiO1xufSkoVmlld0VuY2Fwc3VsYXRpb24gfHwgKFZpZXdFbmNhcHN1bGF0aW9uID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRDb21waWxlckZhY2FkZShyZXF1ZXN0KSB7XG4gICAgY29uc3QgZ2xvYmFsTmcgPSBfZ2xvYmFsWyduZyddO1xuICAgIGlmIChnbG9iYWxOZyAmJiBnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIExvZyB0aGUgdHlwZSBhcyBhbiBlcnJvciBzbyB0aGF0IGEgZGV2ZWxvcGVyIGNhbiBlYXNpbHkgbmF2aWdhdGUgdG8gdGhlIHR5cGUgZnJvbSB0aGVcbiAgICAgICAgLy8gY29uc29sZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihgSklUIGNvbXBpbGF0aW9uIGZhaWxlZCBmb3IgJHtyZXF1ZXN0LmtpbmR9YCwgcmVxdWVzdC50eXBlKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBgVGhlICR7cmVxdWVzdC5raW5kfSAnJHtyZXF1ZXN0XG4gICAgICAgICAgICAudHlwZS5uYW1lfScgbmVlZHMgdG8gYmUgY29tcGlsZWQgdXNpbmcgdGhlIEpJVCBjb21waWxlciwgYnV0ICdAYW5ndWxhci9jb21waWxlcicgaXMgbm90IGF2YWlsYWJsZS5cXG5cXG5gO1xuICAgICAgICBpZiAocmVxdWVzdC51c2FnZSA9PT0gMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFRoZSAke3JlcXVlc3Qua2luZH0gaXMgcGFydCBvZiBhIGxpYnJhcnkgdGhhdCBoYXMgYmVlbiBwYXJ0aWFsbHkgY29tcGlsZWQuXFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICBgSG93ZXZlciwgdGhlIEFuZ3VsYXIgTGlua2VyIGhhcyBub3QgcHJvY2Vzc2VkIHRoZSBsaWJyYXJ5IHN1Y2ggdGhhdCBKSVQgY29tcGlsYXRpb24gaXMgdXNlZCBhcyBmYWxsYmFjay5cXG5gO1xuICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuJztcbiAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICBgSWRlYWxseSwgdGhlIGxpYnJhcnkgaXMgcHJvY2Vzc2VkIHVzaW5nIHRoZSBBbmd1bGFyIExpbmtlciB0byBiZWNvbWUgZnVsbHkgQU9UIGNvbXBpbGVkLlxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYEpJVCBjb21waWxhdGlvbiBpcyBkaXNjb3VyYWdlZCBmb3IgcHJvZHVjdGlvbiB1c2UtY2FzZXMhIENvbnNpZGVyIHVzaW5nIEFPVCBtb2RlIGluc3RlYWQuXFxuYDtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICBgQWx0ZXJuYXRpdmVseSwgdGhlIEpJVCBjb21waWxlciBzaG91bGQgYmUgbG9hZGVkIGJ5IGJvb3RzdHJhcHBpbmcgdXNpbmcgJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYycgb3IgJ0Bhbmd1bGFyL3BsYXRmb3JtLXNlcnZlcicsXFxuYDtcbiAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgYG9yIG1hbnVhbGx5IHByb3ZpZGUgdGhlIGNvbXBpbGVyIHdpdGggJ2ltcG9ydCBcIkBhbmd1bGFyL2NvbXBpbGVyXCI7JyBiZWZvcmUgYm9vdHN0cmFwcGluZy5gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pJVCBjb21waWxlciB1bmF2YWlsYWJsZScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlcHJlc2VudHMgYSB0eXBlIHRoYXQgYSBDb21wb25lbnQgb3Igb3RoZXIgb2JqZWN0IGlzIGluc3RhbmNlcyBvZi5cbiAqXG4gKiBBbiBleGFtcGxlIG9mIGEgYFR5cGVgIGlzIGBNeUN1c3RvbUNvbXBvbmVudGAgY2xhc3MsIHdoaWNoIGluIEphdmFTY3JpcHQgaXMgcmVwcmVzZW50ZWQgYnlcbiAqIHRoZSBgTXlDdXN0b21Db21wb25lbnRgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVHlwZSA9IEZ1bmN0aW9uO1xuZnVuY3Rpb24gaXNUeXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEVTNiBzcHJlYWQsIGFkZCBlYWNoIGl0ZW0gdG8gYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIGl0ZW1zIFRoZSBpdGVtcyB0byBhZGRcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHdoaWNoIHlvdSB3YW50IHRvIGFkZCB0aGUgaXRlbXNcbiAqL1xuZnVuY3Rpb24gYWRkQWxsVG9BcnJheShpdGVtcywgYXJyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnIucHVzaChpdGVtc1tpXSk7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjb250ZW50cyBvZiB0d28gYXJyYXlzIGlzIGlkZW50aWNhbFxuICpcbiAqIEBwYXJhbSBhIGZpcnN0IGFycmF5XG4gKiBAcGFyYW0gYiBzZWNvbmQgYXJyYXlcbiAqIEBwYXJhbSBpZGVudGl0eUFjY2Vzc29yIE9wdGlvbmFsIGZ1bmN0aW9uIGZvciBleHRyYWN0aW5nIHN0YWJsZSBvYmplY3QgaWRlbnRpdHkgZnJvbSBhIHZhbHVlIGluXG4gKiAgICAgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUVxdWFscyhhLCBiLCBpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWVBID0gYVtpXTtcbiAgICAgICAgbGV0IHZhbHVlQiA9IGJbaV07XG4gICAgICAgIGlmIChpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgICAgICAgICB2YWx1ZUEgPSBpZGVudGl0eUFjY2Vzc29yKHZhbHVlQSk7XG4gICAgICAgICAgICB2YWx1ZUIgPSBpZGVudGl0eUFjY2Vzc29yKHZhbHVlQik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlQiAhPT0gdmFsdWVBKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEZsYXR0ZW5zIGFuIGFycmF5LlxuICovXG5mdW5jdGlvbiBmbGF0dGVuKGxpc3QsIGRzdCkge1xuICAgIGlmIChkc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgZHN0ID0gbGlzdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbmxpbmUgaXQuXG4gICAgICAgICAgICBpZiAoZHN0ID09PSBsaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gT3VyIGFzc3VtcHRpb24gdGhhdCB0aGUgbGlzdCB3YXMgYWxyZWFkeSBmbGF0IHdhcyB3cm9uZyBhbmRcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGNsb25lIGZsYXQgc2luY2Ugd2UgbmVlZCB0byB3cml0ZSB0byBpdC5cbiAgICAgICAgICAgICAgICBkc3QgPSBsaXN0LnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdHRlbihpdGVtLCBkc3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRzdCAhPT0gbGlzdCkge1xuICAgICAgICAgICAgZHN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbmZ1bmN0aW9uIGRlZXBGb3JFYWNoKGlucHV0LCBmbikge1xuICAgIGlucHV0LmZvckVhY2godmFsdWUgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBkZWVwRm9yRWFjaCh2YWx1ZSwgZm4pIDogZm4odmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGFkZFRvQXJyYXkoYXJyLCBpbmRleCwgdmFsdWUpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wdXNoIGlzIGZhc3RlciB0aGFuIGFycmF5LnNwbGljZSFcbiAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGFyciwgaW5kZXgpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wb3AgaXMgZmFzdGVyIHRoYW4gYXJyYXkuc3BsaWNlIVxuICAgIGlmIChpbmRleCA+PSBhcnIubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gYXJyLnBvcCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5ld0FycmF5KHNpemUsIHZhbHVlKSB7XG4gICAgY29uc3QgbGlzdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGxpc3QucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufVxuLyoqXG4gKiBSZW1vdmUgaXRlbSBmcm9tIGFycmF5IChTYW1lIGFzIGBBcnJheS5zcGxpY2UoKWAgYnV0IGZhc3Rlci4pXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgYXMgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBodHRwczovL2pzcGVyZi5jb20vZmFzdC1hcnJheS1zcGxpY2UgKEFib3V0IDIweCBmYXN0ZXIpXG4gKlxuICogQHBhcmFtIGFycmF5IEFycmF5IHRvIHNwbGljZVxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGVsZW1lbnQgaW4gYXJyYXkgdG8gcmVtb3ZlLlxuICogQHBhcmFtIGNvdW50IE51bWJlciBvZiBpdGVtcyB0byByZW1vdmUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U3BsaWNlKGFycmF5LCBpbmRleCwgY291bnQpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggLSBjb3VudDtcbiAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBjb3VudF07XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHdoaWxlIChjb3VudC0tKSB7XG4gICAgICAgIGFycmF5LnBvcCgpOyAvLyBzaHJpbmsgdGhlIGFycmF5XG4gICAgfVxufVxuLyoqXG4gKiBTYW1lIGFzIGBBcnJheS5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKWAgYnV0IGZhc3Rlci5cbiAqXG4gKiBgQXJyYXkuc3BsaWNlKClgIGlzIG5vdCBmYXN0IGJlY2F1c2UgaXQgaGFzIHRvIGFsbG9jYXRlIGFuIGFycmF5IGZvciB0aGUgZWxlbWVudHMgd2hpY2ggd2VyZVxuICogcmVtb3ZlZC4gVGhpcyBjYXVzZXMgbWVtb3J5IHByZXNzdXJlIGFuZCBzbG93cyBkb3duIGNvZGUgd2hlbiBtb3N0IG9mIHRoZSB0aW1lIHdlIGRvbid0XG4gKiBjYXJlIGFib3V0IHRoZSBkZWxldGVkIGl0ZW1zIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnJheSBBcnJheSB0byBzcGxpY2UuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggaW4gYXJyYXkgd2hlcmUgdGhlIGB2YWx1ZWAgc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGFkZCB0byBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlJbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoaW5kZXgsIGFycmF5Lmxlbmd0aCwgJ0NhblxcJ3QgaW5zZXJ0IHBhc3QgYXJyYXkgZW5kLicpO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGVuZCA+IGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRW5kID0gZW5kIC0gMTtcbiAgICAgICAgYXJyYXlbZW5kXSA9IGFycmF5W3ByZXZpb3VzRW5kXTtcbiAgICAgICAgZW5kID0gcHJldmlvdXNFbmQ7XG4gICAgfVxuICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xufVxuLyoqXG4gKiBTYW1lIGFzIGBBcnJheS5zcGxpY2UyKGluZGV4LCAwLCB2YWx1ZTEsIHZhbHVlMilgIGJ1dCBmYXN0ZXIuXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQXJyYXkgdG8gc3BsaWNlLlxuICogQHBhcmFtIGluZGV4IEluZGV4IGluIGFycmF5IHdoZXJlIHRoZSBgdmFsdWVgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB2YWx1ZTEgVmFsdWUgdG8gYWRkIHRvIGFycmF5LlxuICogQHBhcmFtIHZhbHVlMiBWYWx1ZSB0byBhZGQgdG8gYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0MihhcnJheSwgaW5kZXgsIHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuT3JFcXVhbChpbmRleCwgYXJyYXkubGVuZ3RoLCAnQ2FuXFwndCBpbnNlcnQgcGFzdCBhcnJheSBlbmQuJyk7XG4gICAgbGV0IGVuZCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoZW5kID09IGluZGV4KSB7XG4gICAgICAgIC8vIGluc2VydGluZyBhdCB0aGUgZW5kLlxuICAgICAgICBhcnJheS5wdXNoKHZhbHVlMSwgdmFsdWUyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5kID09PSAxKSB7XG4gICAgICAgIC8vIGNvcm5lciBjYXNlIHdoZW4gd2UgaGF2ZSBsZXNzIGl0ZW1zIGluIGFycmF5IHRoYW4gd2UgaGF2ZSBpdGVtcyB0byBpbnNlcnQuXG4gICAgICAgIGFycmF5LnB1c2godmFsdWUyLCBhcnJheVswXSk7XG4gICAgICAgIGFycmF5WzBdID0gdmFsdWUxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW5kLS07XG4gICAgICAgIGFycmF5LnB1c2goYXJyYXlbZW5kIC0gMV0sIGFycmF5W2VuZF0pO1xuICAgICAgICB3aGlsZSAoZW5kID4gaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRW5kID0gZW5kIC0gMjtcbiAgICAgICAgICAgIGFycmF5W2VuZF0gPSBhcnJheVtwcmV2aW91c0VuZF07XG4gICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTE7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMV0gPSB2YWx1ZTI7XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnQgYSBgdmFsdWVgIGludG8gYW4gYGFycmF5YCBzbyB0aGF0IHRoZSBhcnJheSByZW1haW5zIHNvcnRlZC5cbiAqXG4gKiBOT1RFOlxuICogLSBEdXBsaWNhdGVzIGFyZSBub3QgYWxsb3dlZCwgYW5kIGFyZSBpZ25vcmVkLlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgaW5zZXJ0cy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gaW5zZXJ0IGludG8uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc2VydC5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSBpbnNlcnRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlJbnNlcnRTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0gYXJyYXlJbmRleE9mU29ydGVkKGFycmF5LCB2YWx1ZSk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAvLyBpZiB3ZSBkaWQgbm90IGZpbmQgaXQgaW5zZXJ0IGl0LlxuICAgICAgICBpbmRleCA9IH5pbmRleDtcbiAgICAgICAgYXJyYXlJbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogUmVtb3ZlIGB2YWx1ZWAgZnJvbSBhIHNvcnRlZCBgYXJyYXlgLlxuICpcbiAqIE5PVEU6XG4gKiAtIFRoaXMgdXNlcyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBmb3IgZmFzdCByZW1vdmFscy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gcmVtb3ZlIGZyb20uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSByZW1vdmVkIHZhbHVlLlxuICogICAtIHBvc2l0aXZlIGluZGV4IGlmIHZhbHVlIGZvdW5kIGFuZCByZW1vdmVkLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIHZhbHVlIG5vdCBmb3VuZC4gKGB+aW5kZXhgIHRvIGdldCB0aGUgdmFsdWUgd2hlcmUgaXQgc2hvdWxkIGhhdmUgYmVlblxuICogICAgIGluc2VydGVkKVxuICovXG5mdW5jdGlvbiBhcnJheVJlbW92ZVNvcnRlZChhcnJheSwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGFycmF5U3BsaWNlKGFycmF5LCBpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogR2V0IGFuIGluZGV4IG9mIGFuIGB2YWx1ZWAgaW4gYSBzb3J0ZWQgYGFycmF5YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGJpbmFyeSBzZWFyY2guXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGxvb2sgZm9yLlxuICogQHJldHVybnMgaW5kZXggb2YgdGhlIHZhbHVlLlxuICogICAtIHBvc2l0aXZlIGluZGV4IGlmIHZhbHVlIGZvdW5kLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIHZhbHVlIG5vdCBmb3VuZC4gKGB+aW5kZXhgIHRvIGdldCB0aGUgdmFsdWUgd2hlcmUgaXQgc2hvdWxkIGhhdmUgYmVlblxuICogICAgIGxvY2F0ZWQpXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpIHtcbiAgICByZXR1cm4gX2FycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUsIDApO1xufVxuLyoqXG4gKiBTZXQgYSBgdmFsdWVgIGZvciBhIGBrZXlgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUgb3IgY3JlYXRlLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgZm9yIGEgYGtleWAuXG4gKiBAcmV0dXJucyBpbmRleCAoYWx3YXlzIGV2ZW4pIG9mIHdoZXJlIHRoZSB2YWx1ZSB2YXMgc2V0LlxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdmFsdWUpIHtcbiAgICBsZXQgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHNldCBpdC5cbiAgICAgICAga2V5VmFsdWVBcnJheVtpbmRleCB8IDFdID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleCA9IH5pbmRleDtcbiAgICAgICAgYXJyYXlJbnNlcnQyKGtleVZhbHVlQXJyYXksIGluZGV4LCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIGB2YWx1ZWAgZm9yIGEgYGtleWAgKG9uIGB1bmRlZmluZWRgIGlmIG5vdCBmb3VuZC4pXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgdG8gc2VhcmNoLlxuICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGxvY2F0ZS5cbiAqIEByZXR1cm4gVGhlIGB2YWx1ZWAgc3RvcmVkIGF0IHRoZSBga2V5YCBsb2NhdGlvbiBvciBgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheUdldChrZXlWYWx1ZUFycmF5LCBrZXkpIHtcbiAgICBjb25zdCBpbmRleCA9IGtleVZhbHVlQXJyYXlJbmRleE9mKGtleVZhbHVlQXJyYXksIGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgLy8gaWYgd2UgZm91bmQgaXQgcmV0cmlldmUgaXQuXG4gICAgICAgIHJldHVybiBrZXlWYWx1ZUFycmF5W2luZGV4IHwgMV07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgYGtleWAgaW5kZXggdmFsdWUgaW4gdGhlIGFycmF5IG9yIGAtMWAgaWYgbm90IGZvdW5kLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB3aGVyZSB0aGUga2V5IGlzIChvciBzaG91bGQgaGF2ZSBiZWVuLilcbiAqICAgLSBwb3NpdGl2ZSAoZXZlbikgaW5kZXggaWYga2V5IGZvdW5kLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIGtleSBub3QgZm91bmQuIChgfmluZGV4YCAoZXZlbikgdG8gZ2V0IHRoZSBpbmRleCB3aGVyZSBpdCBzaG91bGQgaGF2ZVxuICogICAgIGJlZW4gaW5zZXJ0ZWQuKVxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpIHtcbiAgICByZXR1cm4gX2FycmF5SW5kZXhPZlNvcnRlZChrZXlWYWx1ZUFycmF5LCBrZXksIDEpO1xufVxuLyoqXG4gKiBEZWxldGUgYSBga2V5YCAoYW5kIGB2YWx1ZWApIGZyb20gdGhlIGBLZXlWYWx1ZUFycmF5YC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlIG9yIGRlbGV0ZSAoaWYgZXhpc3QpLlxuICogQHJldHVybnMgaW5kZXggb2Ygd2hlcmUgdGhlIGtleSB3YXMgKG9yIHNob3VsZCBoYXZlIGJlZW4uKVxuICogICAtIHBvc2l0aXZlIChldmVuKSBpbmRleCBpZiBrZXkgZm91bmQgYW5kIGRlbGV0ZWQuXG4gKiAgIC0gbmVnYXRpdmUgaW5kZXggaWYga2V5IG5vdCBmb3VuZC4gKGB+aW5kZXhgIChldmVuKSB0byBnZXQgdGhlIGluZGV4IHdoZXJlIGl0IHNob3VsZCBoYXZlXG4gKiAgICAgYmVlbi4pXG4gKi9cbmZ1bmN0aW9uIGtleVZhbHVlQXJyYXlEZWxldGUoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgY29uc3QgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHJlbW92ZSBpdC5cbiAgICAgICAgYXJyYXlTcGxpY2Uoa2V5VmFsdWVBcnJheSwgaW5kZXgsIDIpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIElOVEVSTkFMOiBHZXQgYW4gaW5kZXggb2YgYW4gYHZhbHVlYCBpbiBhIHNvcnRlZCBgYXJyYXlgIGJ5IGdyb3VwaW5nIHNlYXJjaCBieSBgc2hpZnRgLlxuICpcbiAqIE5PVEU6XG4gKiAtIFRoaXMgdXNlcyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBmb3IgZmFzdCByZW1vdmFscy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gYmluYXJ5IHNlYXJjaC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0gc2hpZnQgZ3JvdXBpbmcgc2hpZnQuXG4gKiAgIC0gYDBgIG1lYW5zIGxvb2sgYXQgZXZlcnkgbG9jYXRpb25cbiAqICAgLSBgMWAgbWVhbnMgb25seSBsb29rIGF0IGV2ZXJ5IG90aGVyIChldmVuKSBsb2NhdGlvbiAodGhlIG9kZCBsb2NhdGlvbnMgYXJlIHRvIGJlIGlnbm9yZWQgYXNcbiAqICAgICAgICAgdGhleSBhcmUgdmFsdWVzLilcbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqIGluc2VydGVkKVxuICovXG5mdW5jdGlvbiBfYXJyYXlJbmRleE9mU29ydGVkKGFycmF5LCB2YWx1ZSwgc2hpZnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoQXJyYXkuaXNBcnJheShhcnJheSksIHRydWUsICdFeHBlY3RpbmcgYW4gYXJyYXknKTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGggPj4gc2hpZnQ7XG4gICAgd2hpbGUgKGVuZCAhPT0gc3RhcnQpIHtcbiAgICAgICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyAoKGVuZCAtIHN0YXJ0KSA+PiAxKTsgLy8gZmluZCB0aGUgbWlkZGxlLlxuICAgICAgICBjb25zdCBjdXJyZW50ID0gYXJyYXlbbWlkZGxlIDw8IHNoaWZ0XTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKG1pZGRsZSA8PCBzaGlmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudCA+IHZhbHVlKSB7XG4gICAgICAgICAgICBlbmQgPSBtaWRkbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydCA9IG1pZGRsZSArIDE7IC8vIFdlIGFscmVhZHkgc2VhcmNoZWQgbWlkZGxlIHNvIG1ha2UgaXQgbm9uLWluY2x1c2l2ZSBieSBhZGRpbmcgMVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB+KGVuZCA8PCBzaGlmdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLypcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAqIEF0dGVudGlvbjogVGhlc2UgUmVndWxhciBleHByZXNzaW9ucyBoYXZlIHRvIGhvbGQgZXZlbiBpZiB0aGUgY29kZSBpcyBtaW5pZmllZCFcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gKi9cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBwYXNzLXRocm91Z2ggY29uc3RydWN0b3JzIGZvciBFUzUgb3V0cHV0LiBUaGlzIFJlZ2V4XG4gKiBpbnRlbmRzIHRvIGNhcHR1cmUgdGhlIGNvbW1vbiBkZWxlZ2F0aW9uIHBhdHRlcm4gZW1pdHRlZCBieSBUeXBlU2NyaXB0IGFuZCBCYWJlbC4gQWxzb1xuICogaXQgaW50ZW5kcyB0byBjYXB0dXJlIHRoZSBwYXR0ZXJuIHdoZXJlIGV4aXN0aW5nIGNvbnN0cnVjdG9ycyBoYXZlIGJlZW4gZG93bmxldmVsZWQgZnJvbVxuICogRVMyMDE1IHRvIEVTNSB1c2luZyBUeXBlU2NyaXB0IHcvIGRvd25sZXZlbCBpdGVyYXRpb24uIGUuZy5cbiAqXG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICogYGBgXG4gKlxuICogZG93bmxldmVsZWQgdG8gRVM1IHdpdGggYGRvd25sZXZlbEl0ZXJhdGlvbmAgZm9yIFR5cGVTY3JpcHQgPCA0LjI6XG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWQoYXJndW1lbnRzKSkgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIG9yIGRvd25sZXZlbGVkIHRvIEVTNSB3aXRoIGBkb3dubGV2ZWxJdGVyYXRpb25gIGZvciBUeXBlU2NyaXB0ID49IDQuMjpcbiAqIGBgYFxuICogICBmdW5jdGlvbiBNeUNsYXNzKCkge1xuICogICAgIHZhciBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJndW1lbnRzKSwgZmFsc2UpKSB8fCB0aGlzO1xuICogYGBgXG4gKlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBpbjogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzg0NTMuXG4gKi9cbmNvbnN0IEVTNV9ERUxFR0FURV9DVE9SID0gL15mdW5jdGlvblxccytcXFMrXFwoXFwpXFxzKntbXFxzXFxTXStcXC5hcHBseVxcKHRoaXMsXFxzKihhcmd1bWVudHN8KD86W14oKV0rXFwoXFxbXFxdLCk/W14oKV0rXFwoYXJndW1lbnRzXFwpLiopXFwpLztcbi8qKiBSZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBkZXRlY3RzIEVTMjAxNSBjbGFzc2VzIHdoaWNoIGV4dGVuZCBmcm9tIG90aGVyIGNsYXNzZXMuICovXG5jb25zdCBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTID0gL15jbGFzc1xccytbQS1aYS16XFxkJF9dKlxccypleHRlbmRzXFxzK1tee10rey87XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgRVMyMDE1IGNsYXNzZXMgd2hpY2ggZXh0ZW5kIGZyb20gb3RoZXIgY2xhc3NlcyBhbmRcbiAqIGhhdmUgYW4gZXhwbGljaXQgY29uc3RydWN0b3IgZGVmaW5lZC5cbiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IgPSAvXmNsYXNzXFxzK1tBLVphLXpcXGQkX10qXFxzKmV4dGVuZHNcXHMrW157XSt7W1xcc1xcU10qY29uc3RydWN0b3JcXHMqXFwoLztcbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBFUzIwMTUgY2xhc3NlcyB3aGljaCBleHRlbmQgZnJvbSBvdGhlciBjbGFzc2VzXG4gKiBhbmQgaW5oZXJpdCBhIGNvbnN0cnVjdG9yLlxuICovXG5jb25zdCBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiA9IC9eY2xhc3NcXHMrW0EtWmEtelxcZCRfXSpcXHMqZXh0ZW5kc1xccytbXntdK3tbXFxzXFxTXSpjb25zdHJ1Y3RvclxccypcXChcXClcXHMqe1tefV0qc3VwZXJcXChcXC5cXC5cXC5hcmd1bWVudHNcXCkvO1xuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBhIHN0cmluZ2lmaWVkIHR5cGUgaXMgYSBjbGFzcyB3aGljaCBkZWxlZ2F0ZXMgaXRzIGNvbnN0cnVjdG9yXG4gKiB0byBpdHMgcGFyZW50LlxuICpcbiAqIFRoaXMgaXMgbm90IHRyaXZpYWwgc2luY2UgY29tcGlsZWQgY29kZSBjYW4gYWN0dWFsbHkgY29udGFpbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gKiBldmVuIGlmIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZSBkaWQgbm90LiBGb3IgaW5zdGFuY2UsIHdoZW4gdGhlIGNoaWxkIGNsYXNzIGNvbnRhaW5zXG4gKiBhbiBpbml0aWFsaXplZCBpbnN0YW5jZSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gaXNEZWxlZ2F0ZUN0b3IodHlwZVN0cikge1xuICAgIHJldHVybiBFUzVfREVMRUdBVEVfQ1RPUi50ZXN0KHR5cGVTdHIpIHx8XG4gICAgICAgIEVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9ERUxFR0FURV9DVE9SLnRlc3QodHlwZVN0cikgfHxcbiAgICAgICAgKEVTMjAxNV9JTkhFUklURURfQ0xBU1MudGVzdCh0eXBlU3RyKSAmJiAhRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IudGVzdCh0eXBlU3RyKSk7XG59XG5jbGFzcyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0KSB7XG4gICAgICAgIHRoaXMuX3JlZmxlY3QgPSByZWZsZWN0IHx8IF9nbG9iYWxbJ1JlZmxlY3QnXTtcbiAgICB9XG4gICAgaXNSZWZsZWN0aW9uRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZhY3RvcnkodCkge1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IG5ldyB0KC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXdBcnJheShwYXJhbUFubm90YXRpb25zLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXdBcnJheShwYXJhbVR5cGVzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRTIG91dHB1dHMgT2JqZWN0IGZvciBwYXJhbWV0ZXJzIHdpdGhvdXQgdHlwZXMsIHdoaWxlIFRyYWNldXIgb21pdHNcbiAgICAgICAgICAgIC8vIHRoZSBhbm5vdGF0aW9ucy4gRm9yIG5vdyB3ZSBwcmVzZXJ2ZSB0aGUgVHJhY2V1ciBiZWhhdmlvciB0byBhaWRcbiAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiwgYnV0IHRoaXMgY2FuIGJlIHJldmlzaXRlZC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1UeXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtVHlwZXNbaV0gJiYgcGFyYW1UeXBlc1tpXSAhPSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbcGFyYW1UeXBlc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJhbUFubm90YXRpb25zICYmIHBhcmFtQW5ub3RhdGlvbnNbaV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHJlc3VsdFtpXS5jb25jYXQocGFyYW1Bbm5vdGF0aW9uc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcikge1xuICAgICAgICBjb25zdCB0eXBlU3RyID0gdHlwZS50b1N0cmluZygpO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIGRlY29yYXRvcnMsIHdlIG9ubHkgaGF2ZSBmdW5jdGlvbi5sZW5ndGggYXMgbWV0YWRhdGEuXG4gICAgICAgIC8vIEluIHRoYXQgY2FzZSwgdG8gZGV0ZWN0IHdoZXRoZXIgYSBjaGlsZCBjbGFzcyBkZWNsYXJlZCBhbiBvd24gY29uc3RydWN0b3Igb3Igbm90LFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGxvb2sgaW5zaWRlIG9mIHRoYXQgY29uc3RydWN0b3IgdG8gY2hlY2sgd2hldGhlciBpdCBpc1xuICAgICAgICAvLyBqdXN0IGNhbGxpbmcgdGhlIHBhcmVudC5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGhlbHBzIHRvIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEyNDM5XG4gICAgICAgIC8vIHRoYXQgc2V0cyAnZGVzaWduOnBhcmFtdHlwZXMnIHRvIFtdXG4gICAgICAgIC8vIGlmIGEgY2xhc3MgaW5oZXJpdHMgZnJvbSBhbm90aGVyIGNsYXNzIGJ1dCBoYXMgbm8gY3RvciBkZWNsYXJlZCBpdHNlbGYuXG4gICAgICAgIGlmIChpc0RlbGVnYXRlQ3Rvcih0eXBlU3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJlZmVyIHRoZSBkaXJlY3QgQVBJLlxuICAgICAgICBpZiAodHlwZS5wYXJhbWV0ZXJzICYmIHR5cGUucGFyYW1ldGVycyAhPT0gcGFyZW50Q3Rvci5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5wYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBjb25zdCB0c2lja2xlQ3RvclBhcmFtcyA9IHR5cGUuY3RvclBhcmFtZXRlcnM7XG4gICAgICAgIGlmICh0c2lja2xlQ3RvclBhcmFtcyAmJiB0c2lja2xlQ3RvclBhcmFtcyAhPT0gcGFyZW50Q3Rvci5jdG9yUGFyYW1ldGVycykge1xuICAgICAgICAgICAgLy8gTmV3ZXIgdHNpY2tsZSB1c2VzIGEgZnVuY3Rpb24gY2xvc3VyZVxuICAgICAgICAgICAgLy8gUmV0YWluIHRoZSBub24tZnVuY3Rpb24gY2FzZSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHRzaWNrbGVcbiAgICAgICAgICAgIGNvbnN0IGN0b3JQYXJhbWV0ZXJzID0gdHlwZW9mIHRzaWNrbGVDdG9yUGFyYW1zID09PSAnZnVuY3Rpb24nID8gdHNpY2tsZUN0b3JQYXJhbXMoKSA6IHRzaWNrbGVDdG9yUGFyYW1zO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IGN0b3JQYXJhbWV0ZXJzLm1hcCgoY3RvclBhcmFtKSA9PiBjdG9yUGFyYW0gJiYgY3RvclBhcmFtLnR5cGUpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1Bbm5vdGF0aW9ucyA9IGN0b3JQYXJhbWV0ZXJzLm1hcCgoY3RvclBhcmFtKSA9PiBjdG9yUGFyYW0gJiYgY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEoY3RvclBhcmFtLmRlY29yYXRvcnMpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgY29uc3QgcGFyYW1Bbm5vdGF0aW9ucyA9IHR5cGUuaGFzT3duUHJvcGVydHkoUEFSQU1FVEVSUykgJiYgdHlwZVtQQVJBTUVURVJTXTtcbiAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IHRoaXMuX3JlZmxlY3QgJiYgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCB0eXBlKTtcbiAgICAgICAgaWYgKHBhcmFtVHlwZXMgfHwgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBjbGFzcyBoYXMgbm8gZGVjb3JhdG9ycywgYXQgbGVhc3QgY3JlYXRlIG1ldGFkYXRhXG4gICAgICAgIC8vIGJhc2VkIG9uIGZ1bmN0aW9uLmxlbmd0aC5cbiAgICAgICAgLy8gTm90ZTogV2Uga25vdyB0aGF0IHRoaXMgaXMgYSByZWFsIGNvbnN0cnVjdG9yIGFzIHdlIGNoZWNrZWRcbiAgICAgICAgLy8gdGhlIGNvbnRlbnQgb2YgdGhlIGNvbnN0cnVjdG9yIGFib3ZlLlxuICAgICAgICByZXR1cm4gbmV3QXJyYXkodHlwZS5sZW5ndGgpO1xuICAgIH1cbiAgICBwYXJhbWV0ZXJzKHR5cGUpIHtcbiAgICAgICAgLy8gTm90ZTogb25seSByZXBvcnQgbWV0YWRhdGEgaWYgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgY2xhc3MgZGVjb3JhdG9yXG4gICAgICAgIC8vIHRvIHN0YXkgaW4gc3luYyB3aXRoIHRoZSBzdGF0aWMgcmVmbGVjdG9yLlxuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGUpO1xuICAgICAgICBsZXQgcGFyYW1ldGVycyA9IHRoaXMuX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmICghcGFyYW1ldGVycyAmJiBwYXJlbnRDdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnMocGFyZW50Q3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnMgfHwgW107XG4gICAgfVxuICAgIF9vd25Bbm5vdGF0aW9ucyh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuYW5ub3RhdGlvbnMgJiYgdHlwZU9yRnVuYy5hbm5vdGF0aW9ucyAhPT0gcGFyZW50Q3Rvci5hbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgbGV0IGFubm90YXRpb25zID0gdHlwZU9yRnVuYy5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYW5ub3RhdGlvbnMgPT09ICdmdW5jdGlvbicgJiYgYW5ub3RhdGlvbnMuYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmFubm90YXRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFubm90YXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5kZWNvcmF0b3JzICYmIHR5cGVPckZ1bmMuZGVjb3JhdG9ycyAhPT0gcGFyZW50Q3Rvci5kZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEodHlwZU9yRnVuYy5kZWNvcmF0b3JzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmhhc093blByb3BlcnR5KEFOTk9UQVRJT05TKSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVPckZ1bmNbQU5OT1RBVElPTlNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhbm5vdGF0aW9ucyh0eXBlT3JGdW5jKSB7XG4gICAgICAgIGlmICghaXNUeXBlKHR5cGVPckZ1bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50Q3RvciA9IGdldFBhcmVudEN0b3IodHlwZU9yRnVuYyk7XG4gICAgICAgIGNvbnN0IG93bkFubm90YXRpb25zID0gdGhpcy5fb3duQW5ub3RhdGlvbnModHlwZU9yRnVuYywgcGFyZW50Q3RvcikgfHwgW107XG4gICAgICAgIGNvbnN0IHBhcmVudEFubm90YXRpb25zID0gcGFyZW50Q3RvciAhPT0gT2JqZWN0ID8gdGhpcy5hbm5vdGF0aW9ucyhwYXJlbnRDdG9yKSA6IFtdO1xuICAgICAgICByZXR1cm4gcGFyZW50QW5ub3RhdGlvbnMuY29uY2F0KG93bkFubm90YXRpb25zKTtcbiAgICB9XG4gICAgX293blByb3BNZXRhZGF0YSh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMucHJvcE1ldGFkYXRhICYmXG4gICAgICAgICAgICB0eXBlT3JGdW5jLnByb3BNZXRhZGF0YSAhPT0gcGFyZW50Q3Rvci5wcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGxldCBwcm9wTWV0YWRhdGEgPSB0eXBlT3JGdW5jLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcE1ldGFkYXRhID09PSAnZnVuY3Rpb24nICYmIHByb3BNZXRhZGF0YS5wcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBwcm9wTWV0YWRhdGEgPSBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnMgJiZcbiAgICAgICAgICAgIHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnMgIT09IHBhcmVudEN0b3IucHJvcERlY29yYXRvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BEZWNvcmF0b3JzID0gdHlwZU9yRnVuYy5wcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocHJvcERlY29yYXRvcnMpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BdID0gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEocHJvcERlY29yYXRvcnNbcHJvcF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuaGFzT3duUHJvcGVydHkoUFJPUF9NRVRBREFUQSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlT3JGdW5jW1BST1BfTUVUQURBVEFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBwcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGVPckZ1bmMpO1xuICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgaWYgKHBhcmVudEN0b3IgIT09IE9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UHJvcE1ldGFkYXRhID0gdGhpcy5wcm9wTWV0YWRhdGEocGFyZW50Q3Rvcik7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwYXJlbnRQcm9wTWV0YWRhdGEpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IHBhcmVudFByb3BNZXRhZGF0YVtwcm9wTmFtZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvd25Qcm9wTWV0YWRhdGEgPSB0aGlzLl9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmIChvd25Qcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG93blByb3BNZXRhZGF0YSkuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvcmF0b3JzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHByb3BNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdG9ycy5wdXNoKC4uLnByb3BNZXRhZGF0YVtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JzLnB1c2goLi4ub3duUHJvcE1ldGFkYXRhW3Byb3BOYW1lXSk7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IGRlY29yYXRvcnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgIH1cbiAgICBvd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKSkgfHwge307XG4gICAgfVxuICAgIGhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIFR5cGUgJiYgbGNQcm9wZXJ0eSBpbiB0eXBlLnByb3RvdHlwZTtcbiAgICB9XG4gICAgZ3VhcmRzKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ3JldHVybiBvLicgKyBuYW1lICsgJzsnKTtcbiAgICB9XG4gICAgc2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICd2JywgJ3JldHVybiBvLicgKyBuYW1lICsgJyA9IHY7Jyk7XG4gICAgfVxuICAgIG1ldGhvZChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQm9keSA9IGBpZiAoIW8uJHtuYW1lfSkgdGhyb3cgbmV3IEVycm9yKCdcIiR7bmFtZX1cIiBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIG8uJHtuYW1lfS5hcHBseShvLCBhcmdzKTtgO1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ2FyZ3MnLCBmdW5jdGlvbkJvZHkpO1xuICAgIH1cbiAgICAvLyBUaGVyZSBpcyBub3QgYSBjb25jZXB0IG9mIGltcG9ydCB1cmkgaW4gSnMsIGJ1dCB0aGlzIGlzIHVzZWZ1bCBpbiBkZXZlbG9waW5nIERhcnQgYXBwbGljYXRpb25zLlxuICAgIGltcG9ydFVyaSh0eXBlKSB7XG4gICAgICAgIC8vIFN0YXRpY1N5bWJvbFxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGVbJ2ZpbGVQYXRoJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlWydmaWxlUGF0aCddO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1bnRpbWUgdHlwZVxuICAgICAgICByZXR1cm4gYC4vJHtzdHJpbmdpZnkodHlwZSl9YDtcbiAgICB9XG4gICAgcmVzb3VyY2VVcmkodHlwZSkge1xuICAgICAgICByZXR1cm4gYC4vJHtzdHJpbmdpZnkodHlwZSl9YDtcbiAgICB9XG4gICAgcmVzb2x2ZUlkZW50aWZpZXIobmFtZSwgbW9kdWxlVXJsLCBtZW1iZXJzLCBydW50aW1lKSB7XG4gICAgICAgIHJldHVybiBydW50aW1lO1xuICAgIH1cbiAgICByZXNvbHZlRW51bShlbnVtSWRlbnRpZmllciwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZW51bUlkZW50aWZpZXJbbmFtZV07XG4gICAgfVxufVxuZnVuY3Rpb24gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEoZGVjb3JhdG9ySW52b2NhdGlvbnMpIHtcbiAgICBpZiAoIWRlY29yYXRvckludm9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29yYXRvckludm9jYXRpb25zLm1hcChkZWNvcmF0b3JJbnZvY2F0aW9uID0+IHtcbiAgICAgICAgY29uc3QgZGVjb3JhdG9yVHlwZSA9IGRlY29yYXRvckludm9jYXRpb24udHlwZTtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkNscyA9IGRlY29yYXRvclR5cGUuYW5ub3RhdGlvbkNscztcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkFyZ3MgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgPyBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgOiBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBhbm5vdGF0aW9uQ2xzKC4uLmFubm90YXRpb25BcmdzKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEN0b3IoY3Rvcikge1xuICAgIGNvbnN0IHBhcmVudFByb3RvID0gY3Rvci5wcm90b3R5cGUgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3Rvci5wcm90b3R5cGUpIDogbnVsbDtcbiAgICBjb25zdCBwYXJlbnRDdG9yID0gcGFyZW50UHJvdG8gPyBwYXJlbnRQcm90by5jb25zdHJ1Y3RvciA6IG51bGw7XG4gICAgLy8gTm90ZTogV2UgYWx3YXlzIHVzZSBgT2JqZWN0YCBhcyB0aGUgbnVsbCB2YWx1ZVxuICAgIC8vIHRvIHNpbXBsaWZ5IGNoZWNraW5nIGxhdGVyIG9uLlxuICAgIHJldHVybiBwYXJlbnRDdG9yIHx8IE9iamVjdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfVEhST1dfSUZfTk9UX0ZPVU5EID0ge307XG5jb25zdCBUSFJPV19JRl9OT1RfRk9VTkQgPSBfVEhST1dfSUZfTk9UX0ZPVU5EO1xuLypcbiAqIE5hbWUgb2YgYSBwcm9wZXJ0eSAodGhhdCB3ZSBwYXRjaCBvbnRvIERJIGRlY29yYXRvciksIHdoaWNoIGlzIHVzZWQgYXMgYW4gYW5ub3RhdGlvbiBvZiB3aGljaFxuICogSW5qZWN0RmxhZyB0aGlzIGRlY29yYXRvciByZXByZXNlbnRzLiBUaGlzIGFsbG93cyB0byBhdm9pZCBkaXJlY3QgcmVmZXJlbmNlcyB0byB0aGUgREkgZGVjb3JhdG9yc1xuICogaW4gdGhlIGNvZGUsIHRodXMgbWFraW5nIHRoZW0gdHJlZS1zaGFrYWJsZS5cbiAqL1xuY29uc3QgRElfREVDT1JBVE9SX0ZMQUcgPSAnX19OR19ESV9GTEFHX18nO1xuY29uc3QgTkdfVEVNUF9UT0tFTl9QQVRIID0gJ25nVGVtcFRva2VuUGF0aCc7XG5jb25zdCBOR19UT0tFTl9QQVRIID0gJ25nVG9rZW5QYXRoJztcbmNvbnN0IE5FV19MSU5FID0gL1xcbi9nbTtcbmNvbnN0IE5PX05FV19MSU5FID0gJ8m1JztcbmNvbnN0IFNPVVJDRSA9ICdfX3NvdXJjZSc7XG5jb25zdCBVU0VfVkFMVUUkMSA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBwcm92aWRlOiBTdHJpbmcsIHVzZVZhbHVlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLyoqXG4gKiBDdXJyZW50IGluamVjdG9yIHZhbHVlIHVzZWQgYnkgYGluamVjdGAuXG4gKiAtIGB1bmRlZmluZWRgOiBpdCBpcyBhbiBlcnJvciB0byBjYWxsIGBpbmplY3RgXG4gKiAtIGBudWxsYDogYGluamVjdGAgY2FuIGJlIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gaW5qZWN0b3IgKGxpbXAtbW9kZSkuXG4gKiAtIEluamVjdG9yIGluc3RhbmNlOiBVc2UgdGhlIGluamVjdG9yIGZvciByZXNvbHV0aW9uLlxuICovXG5sZXQgX2N1cnJlbnRJbmplY3RvciA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRJbmplY3RvcihpbmplY3Rvcikge1xuICAgIGNvbnN0IGZvcm1lciA9IF9jdXJyZW50SW5qZWN0b3I7XG4gICAgX2N1cnJlbnRJbmplY3RvciA9IGluamVjdG9yO1xuICAgIHJldHVybiBmb3JtZXI7XG59XG5mdW5jdGlvbiBpbmplY3RJbmplY3Rvck9ubHkodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIGlmIChfY3VycmVudEluamVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgYGluamVjdCgpIG11c3QgYmUgY2FsbGVkIGZyb20gYW4gaW5qZWN0aW9uIGNvbnRleHRgIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwMyAvKiBNSVNTSU5HX0lOSkVDVElPTl9DT05URVhUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChfY3VycmVudEluamVjdG9yID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50SW5qZWN0b3IuZ2V0KHRva2VuLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsID8gbnVsbCA6IHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIMm1ybVpbmplY3QodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIHJldHVybiAoZ2V0SW5qZWN0SW1wbGVtZW50YXRpb24oKSB8fCBpbmplY3RJbmplY3Rvck9ubHkpKHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW5kaWNhdGluZyB0aGF0IGEgZmFjdG9yeSBmdW5jdGlvbiBjb3VsZCBub3QgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBmb3IgYVxuICogcGFydGljdWxhciBjbGFzcy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFsbG93cyB0aGUgYWN0dWFsIGVycm9yIG1lc3NhZ2UgdG8gYmUgb3B0aW1pemVkIGF3YXkgd2hlbiBuZ0Rldk1vZGUgaXMgdHVybmVkXG4gKiBvZmYsIHNhdmluZyBieXRlcyBvZiBnZW5lcmF0ZWQgY29kZSB3aGlsZSBzdGlsbCBwcm92aWRpbmcgYSBnb29kIGV4cGVyaWVuY2UgaW4gZGV2IG1vZGUuXG4gKlxuICogVGhlIG5hbWUgb2YgdGhlIGNsYXNzIGlzIG5vdCBtZW50aW9uZWQgaGVyZSwgYnV0IHdpbGwgYmUgaW4gdGhlIGdlbmVyYXRlZCBmYWN0b3J5IGZ1bmN0aW9uIG5hbWVcbiAqIGFuZCB0aHVzIGluIHRoZSBzdGFjayB0cmFjZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aW52YWxpZEZhY3RvcnlEZXAoaW5kZXgpIHtcbiAgICBjb25zdCBtc2cgPSBuZ0Rldk1vZGUgP1xuICAgICAgICBgVGhpcyBjb25zdHJ1Y3RvciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIEFuZ3VsYXIgRGVwZW5kZW5jeSBJbmplY3Rpb24gYmVjYXVzZSBpdHMgZGVwZW5kZW5jeSBhdCBpbmRleCAke2luZGV4fSBvZiB0aGUgcGFyYW1ldGVyIGxpc3QgaXMgaW52YWxpZC5cblRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgZGVwZW5kZW5jeSB0eXBlIGlzIGEgcHJpbWl0aXZlIGxpa2UgYSBzdHJpbmcgb3IgaWYgYW4gYW5jZXN0b3Igb2YgdGhpcyBjbGFzcyBpcyBtaXNzaW5nIGFuIEFuZ3VsYXIgZGVjb3JhdG9yLlxuXG5QbGVhc2UgY2hlY2sgdGhhdCAxKSB0aGUgdHlwZSBmb3IgdGhlIHBhcmFtZXRlciBhdCBpbmRleCAke2luZGV4fSBpcyBjb3JyZWN0IGFuZCAyKSB0aGUgY29ycmVjdCBBbmd1bGFyIGRlY29yYXRvcnMgYXJlIGRlZmluZWQgZm9yIHRoaXMgY2xhc3MgYW5kIGl0cyBhbmNlc3RvcnMuYCA6XG4gICAgICAgICdpbnZhbGlkJztcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cbi8qKlxuICogSW5qZWN0cyBhIHRva2VuIGZyb20gdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5qZWN0b3IuXG4gKlxuICogTXVzdCBiZSB1c2VkIGluIHRoZSBjb250ZXh0IG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBzdWNoIGFzIG9uZSBkZWZpbmVkIGZvciBhblxuICogYEluamVjdGlvblRva2VuYC4gVGhyb3dzIGFuIGVycm9yIGlmIG5vdCBjYWxsZWQgZnJvbSBzdWNoIGEgY29udGV4dC5cbiAqXG4gKiBXaXRoaW4gc3VjaCBhIGZhY3RvcnkgZnVuY3Rpb24sIHVzaW5nIHRoaXMgZnVuY3Rpb24gdG8gcmVxdWVzdCBpbmplY3Rpb24gb2YgYSBkZXBlbmRlbmN5XG4gKiBpcyBmYXN0ZXIgYW5kIG1vcmUgdHlwZS1zYWZlIHRoYW4gcHJvdmlkaW5nIGFuIGFkZGl0aW9uYWwgYXJyYXkgb2YgZGVwZW5kZW5jaWVzXG4gKiAoYXMgaGFzIGJlZW4gY29tbW9uIHdpdGggYHVzZUZhY3RvcnlgIHByb3ZpZGVycykuXG4gKlxuICogQHBhcmFtIHRva2VuIFRoZSBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkLlxuICogQHBhcmFtIGZsYWdzIE9wdGlvbmFsIGZsYWdzIHRoYXQgY29udHJvbCBob3cgaW5qZWN0aW9uIGlzIGV4ZWN1dGVkLlxuICogVGhlIGZsYWdzIGNvcnJlc3BvbmQgdG8gaW5qZWN0aW9uIHN0cmF0ZWdpZXMgdGhhdCBjYW4gYmUgc3BlY2lmaWVkIHdpdGhcbiAqIHBhcmFtZXRlciBkZWNvcmF0b3JzIGBASG9zdGAsIGBAU2VsZmAsIGBAU2tpcFNlZmAsIGFuZCBgQE9wdGlvbmFsYC5cbiAqIEByZXR1cm5zIHRoZSBpbmplY3RlZCB2YWx1ZSBpZiBpbmplY3Rpb24gaXMgc3VjY2Vzc2Z1bCwgYG51bGxgIG90aGVyd2lzZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J1NoYWthYmxlSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgaW5qZWN0ID0gybXJtWluamVjdDtcbmZ1bmN0aW9uIGluamVjdEFyZ3ModHlwZXMpIHtcbiAgICBjb25zdCBhcmdzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhcmcgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlc1tpXSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICAgICAnQXJndW1lbnRzIGFycmF5IG11c3QgaGF2ZSBhcmd1bWVudHMuJyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0O1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcmcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gYXJnW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSBnZXRJbmplY3RGbGFnKG1ldGEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmxhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHdoZW4gd2UgaGFuZGxlIEBJbmplY3QgZGVjb3JhdG9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PT0gLTEgLyogSW5qZWN0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbWV0YS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzIHw9IGZsYWc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtZXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaCjJtcm1aW5qZWN0KHR5cGUsIGZsYWdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goybXJtWluamVjdChhcmcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJncztcbn1cbi8qKlxuICogQXR0YWNoZXMgYSBnaXZlbiBJbmplY3RGbGFnIHRvIGEgZ2l2ZW4gZGVjb3JhdG9yIHVzaW5nIG1vbmtleS1wYXRjaGluZy5cbiAqIFNpbmNlIERJIGRlY29yYXRvcnMgY2FuIGJlIHVzZWQgaW4gcHJvdmlkZXJzIGBkZXBzYCBhcnJheSAod2hlbiBwcm92aWRlciBpcyBjb25maWd1cmVkIHVzaW5nXG4gKiBgdXNlRmFjdG9yeWApIHdpdGhvdXQgaW5pdGlhbGl6YXRpb24gKGUuZy4gYEhvc3RgKSBhbmQgYXMgYW4gaW5zdGFuY2UgKGUuZy4gYG5ldyBIb3N0KClgKSwgd2VcbiAqIGF0dGFjaCB0aGUgZmxhZyB0byBtYWtlIGl0IGF2YWlsYWJsZSBib3RoIGFzIGEgc3RhdGljIHByb3BlcnR5IGFuZCBhcyBhIGZpZWxkIG9uIGRlY29yYXRvclxuICogaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGRlY29yYXRvciBQcm92aWRlZCBESSBkZWNvcmF0b3IuXG4gKiBAcGFyYW0gZmxhZyBJbmplY3RGbGFnIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEluamVjdEZsYWcoZGVjb3JhdG9yLCBmbGFnKSB7XG4gICAgZGVjb3JhdG9yW0RJX0RFQ09SQVRPUl9GTEFHXSA9IGZsYWc7XG4gICAgZGVjb3JhdG9yLnByb3RvdHlwZVtESV9ERUNPUkFUT1JfRkxBR10gPSBmbGFnO1xuICAgIHJldHVybiBkZWNvcmF0b3I7XG59XG4vKipcbiAqIFJlYWRzIG1vbmtleS1wYXRjaGVkIHByb3BlcnR5IHRoYXQgY29udGFpbnMgSW5qZWN0RmxhZyBhdHRhY2hlZCB0byBhIGRlY29yYXRvci5cbiAqXG4gKiBAcGFyYW0gdG9rZW4gVG9rZW4gdGhhdCBtYXkgY29udGFpbiBtb25rZXktcGF0Y2hlZCBESSBmbGFncyBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0RmxhZyh0b2tlbikge1xuICAgIHJldHVybiB0b2tlbltESV9ERUNPUkFUT1JfRkxBR107XG59XG5mdW5jdGlvbiBjYXRjaEluamVjdG9yRXJyb3IoZSwgdG9rZW4sIGluamVjdG9yRXJyb3JOYW1lLCBzb3VyY2UpIHtcbiAgICBjb25zdCB0b2tlblBhdGggPSBlW05HX1RFTVBfVE9LRU5fUEFUSF07XG4gICAgaWYgKHRva2VuW1NPVVJDRV0pIHtcbiAgICAgICAgdG9rZW5QYXRoLnVuc2hpZnQodG9rZW5bU09VUkNFXSk7XG4gICAgfVxuICAgIGUubWVzc2FnZSA9IGZvcm1hdEVycm9yKCdcXG4nICsgZS5tZXNzYWdlLCB0b2tlblBhdGgsIGluamVjdG9yRXJyb3JOYW1lLCBzb3VyY2UpO1xuICAgIGVbTkdfVE9LRU5fUEFUSF0gPSB0b2tlblBhdGg7XG4gICAgZVtOR19URU1QX1RPS0VOX1BBVEhdID0gbnVsbDtcbiAgICB0aHJvdyBlO1xufVxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodGV4dCwgb2JqLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlID0gbnVsbCkge1xuICAgIHRleHQgPSB0ZXh0ICYmIHRleHQuY2hhckF0KDApID09PSAnXFxuJyAmJiB0ZXh0LmNoYXJBdCgxKSA9PSBOT19ORVdfTElORSA/IHRleHQuc3Vic3RyKDIpIDogdGV4dDtcbiAgICBsZXQgY29udGV4dCA9IHN0cmluZ2lmeShvYmopO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgY29udGV4dCA9IG9iai5tYXAoc3RyaW5naWZ5KS5qb2luKCcgLT4gJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGtleSArICc6JyArICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogc3RyaW5naWZ5KHZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBgeyR7cGFydHMuam9pbignLCAnKX19YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke2luamVjdG9yRXJyb3JOYW1lfSR7c291cmNlID8gJygnICsgc291cmNlICsgJyknIDogJyd9WyR7Y29udGV4dH1dOiAke3RleHQucmVwbGFjZShORVdfTElORSwgJ1xcbiAgJyl9YDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEluamVjdCA9IGF0dGFjaEluamVjdEZsYWcoXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBEZWNvcmF0b3JGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5tYWtlUGFyYW1EZWNvcmF0b3IoJ0luamVjdCcsICh0b2tlbikgPT4gKHsgdG9rZW4gfSkpLCAtMSAvKiBJbmplY3QgKi8pO1xuLyoqXG4gKiBPcHRpb25hbCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE9wdGlvbmFsID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdPcHRpb25hbCcpLCA4IC8qIE9wdGlvbmFsICovKTtcbi8qKlxuICogU2VsZiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFNlbGYgPSBcbi8vIERpc2FibGUgdHNsaW50IGJlY2F1c2UgYEludGVybmFsSW5qZWN0RmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuYXR0YWNoSW5qZWN0RmxhZyhtYWtlUGFyYW1EZWNvcmF0b3IoJ1NlbGYnKSwgMiAvKiBTZWxmICovKTtcbi8qKlxuICogYFNraXBTZWxmYCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFNraXBTZWxmID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdTa2lwU2VsZicpLCA0IC8qIFNraXBTZWxmICovKTtcbi8qKlxuICogSG9zdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEhvc3QgPSBcbi8vIERpc2FibGUgdHNsaW50IGJlY2F1c2UgYEludGVybmFsSW5qZWN0RmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuYXR0YWNoSW5qZWN0RmxhZyhtYWtlUGFyYW1EZWNvcmF0b3IoJ0hvc3QnKSwgMSAvKiBIb3N0ICovKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3JlZmxlY3QgPSBudWxsO1xuZnVuY3Rpb24gZ2V0UmVmbGVjdCgpIHtcbiAgICByZXR1cm4gKF9yZWZsZWN0ID0gX3JlZmxlY3QgfHwgbmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKSk7XG59XG5mdW5jdGlvbiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpIHtcbiAgICByZXR1cm4gY29udmVydERlcGVuZGVuY2llcyhnZXRSZWZsZWN0KCkucGFyYW1ldGVycyh0eXBlKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RGVwZW5kZW5jaWVzKGRlcHMpIHtcbiAgICByZXR1cm4gZGVwcy5tYXAoZGVwID0+IHJlZmxlY3REZXBlbmRlbmN5KGRlcCkpO1xufVxuZnVuY3Rpb24gcmVmbGVjdERlcGVuZGVuY3koZGVwKSB7XG4gICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgdG9rZW46IG51bGwsXG4gICAgICAgIGF0dHJpYnV0ZTogbnVsbCxcbiAgICAgICAgaG9zdDogZmFsc2UsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgc2VsZjogZmFsc2UsXG4gICAgICAgIHNraXBTZWxmOiBmYWxzZSxcbiAgICB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlcCkgJiYgZGVwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkZXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVwW2pdO1xuICAgICAgICAgICAgaWYgKHBhcmFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhbSBtYXkgYmUgdW5kZWZpbmVkIGlmIHR5cGUgb2YgZGVwIGlzIG5vdCBzZXQgYnkgbmd0c2NcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmFtKTtcbiAgICAgICAgICAgIGlmIChwYXJhbSBpbnN0YW5jZW9mIE9wdGlvbmFsIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnT3B0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5vcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNraXBTZWxmIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnU2tpcFNlbGYnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5za2lwU2VsZiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNlbGYgfHwgcHJvdG8ubmdNZXRhZGF0YU5hbWUgPT09ICdTZWxmJykge1xuICAgICAgICAgICAgICAgIG1ldGEuc2VsZiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEhvc3QgfHwgcHJvdG8ubmdNZXRhZGF0YU5hbWUgPT09ICdIb3N0Jykge1xuICAgICAgICAgICAgICAgIG1ldGEuaG9zdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgICAgIG1ldGEudG9rZW4gPSBwYXJhbS50b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLmF0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dHJpYnV0ZSBuYW1lIG11c3QgYmUgZGVmaW5lZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWV0YS5hdHRyaWJ1dGUgPSBwYXJhbS5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0YS50b2tlbiA9IHBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlcCA9PT0gdW5kZWZpbmVkIHx8IChBcnJheS5pc0FycmF5KGRlcCkgJiYgZGVwLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgbWV0YS50b2tlbiA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXRhLnRva2VuID0gZGVwO1xuICAgIH1cbiAgICByZXR1cm4gbWV0YTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSByZXNvdXJjZSBVUkxzIG9uIGBAQ29tcG9uZW50YCB3aGVuIHVzZWQgd2l0aCBKSVQgY29tcGlsYXRpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbXktY29tcCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnbXktY29tcC5odG1sJywgLy8gVGhpcyByZXF1aXJlcyBhc3luY2hyb25vdXMgcmVzb2x1dGlvblxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50e1xuICogfVxuICpcbiAqIC8vIENhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgd2lsbCBmYWlsIGJlY2F1c2UgYHJlbmRlckNvbXBvbmVudGAgaXMgYSBzeW5jaHJvbm91cyBwcm9jZXNzXG4gKiAvLyBhbmQgYE15Q29tcG9uZW50YCdzIGBAQ29tcG9uZW50LnRlbXBsYXRlVXJsYCBuZWVkcyB0byBiZSByZXNvbHZlZCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiAvLyBDYWxsaW5nIGByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKClgIHdpbGwgcmVzb2x2ZSBgQENvbXBvbmVudC50ZW1wbGF0ZVVybGAgaW50b1xuICogLy8gYEBDb21wb25lbnQudGVtcGxhdGVgLCB3aGljaCBhbGxvd3MgYHJlbmRlckNvbXBvbmVudGAgdG8gcHJvY2VlZCBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAqXG4gKiAvLyBVc2UgYnJvd3NlcidzIGBmZXRjaCgpYCBmdW5jdGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvdXJjZSByZXNvbHV0aW9uIHN0cmF0ZWd5LlxuICogcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyhmZXRjaCkudGhlbigoKSA9PiB7XG4gKiAgIC8vIEFmdGVyIHJlc29sdXRpb24gYWxsIFVSTHMgaGF2ZSBiZWVuIGNvbnZlcnRlZCBpbnRvIGB0ZW1wbGF0ZWAgc3RyaW5ncy5cbiAqICAgcmVuZGVyQ29tcG9uZW50KE15Q29tcG9uZW50KTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIE5PVEU6IEluIEFPVCB0aGUgcmVzb2x1dGlvbiBoYXBwZW5zIGR1cmluZyBjb21waWxhdGlvbiwgYW5kIHNvIHRoZXJlIHNob3VsZCBiZSBubyBuZWVkXG4gKiB0byBjYWxsIHRoaXMgbWV0aG9kIG91dHNpZGUgSklUIG1vZGUuXG4gKlxuICogQHBhcmFtIHJlc291cmNlUmVzb2x2ZXIgYSBmdW5jdGlvbiB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIGEgYFByb21pc2VgIHRvIHRoZVxuICogY29udGVudHMgb2YgdGhlIHJlc29sdmVkIFVSTC4gQnJvd3NlcidzIGBmZXRjaCgpYCBtZXRob2QgaXMgYSBnb29kIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMocmVzb3VyY2VSZXNvbHZlcikge1xuICAgIC8vIFN0b3JlIGFsbCBwcm9taXNlcyB3aGljaCBhcmUgZmV0Y2hpbmcgdGhlIHJlc291cmNlcy5cbiAgICBjb25zdCBjb21wb25lbnRSZXNvbHZlZCA9IFtdO1xuICAgIC8vIENhY2hlIHNvIHRoYXQgd2UgZG9uJ3QgZmV0Y2ggdGhlIHNhbWUgcmVzb3VyY2UgbW9yZSB0aGFuIG9uY2UuXG4gICAgY29uc3QgdXJsTWFwID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGNhY2hlZFJlc291cmNlUmVzb2x2ZSh1cmwpIHtcbiAgICAgICAgbGV0IHByb21pc2UgPSB1cmxNYXAuZ2V0KHVybCk7XG4gICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgY29uc3QgcmVzcCA9IHJlc291cmNlUmVzb2x2ZXIodXJsKTtcbiAgICAgICAgICAgIHVybE1hcC5zZXQodXJsLCBwcm9taXNlID0gcmVzcC50aGVuKHVud3JhcFJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLmZvckVhY2goKGNvbXBvbmVudCwgdHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBpZiAoY29tcG9uZW50LnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGNhY2hlZFJlc291cmNlUmVzb2x2ZShjb21wb25lbnQudGVtcGxhdGVVcmwpLnRoZW4oKHRlbXBsYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGVVcmxzID0gY29tcG9uZW50LnN0eWxlVXJscztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gY29tcG9uZW50LnN0eWxlcyB8fCAoY29tcG9uZW50LnN0eWxlcyA9IFtdKTtcbiAgICAgICAgY29uc3Qgc3R5bGVPZmZzZXQgPSBjb21wb25lbnQuc3R5bGVzLmxlbmd0aDtcbiAgICAgICAgc3R5bGVVcmxzICYmIHN0eWxlVXJscy5mb3JFYWNoKChzdHlsZVVybCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKCcnKTsgLy8gcHJlLWFsbG9jYXRlIGFycmF5LlxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjYWNoZWRSZXNvdXJjZVJlc29sdmUoc3R5bGVVcmwpLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3R5bGVzW3N0eWxlT2Zmc2V0ICsgaW5kZXhdID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgc3R5bGVVcmxzLnNwbGljZShzdHlsZVVybHMuaW5kZXhPZihzdHlsZVVybCksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZVVybHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0eWxlVXJscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdWxseVJlc29sdmVkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gY29tcG9uZW50RGVmUmVzb2x2ZWQodHlwZSkpO1xuICAgICAgICBjb21wb25lbnRSZXNvbHZlZC5wdXNoKGZ1bGx5UmVzb2x2ZWQpO1xuICAgIH0pO1xuICAgIGNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoY29tcG9uZW50UmVzb2x2ZWQpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cbmxldCBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IG5ldyBNYXAoKTtcbi8vIFRyYWNrIHdoZW4gZXhpc3RpbmcgybVjbXAgZm9yIGEgVHlwZSBpcyB3YWl0aW5nIG9uIHJlc291cmNlcy5cbmNvbnN0IGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gbWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyh0eXBlLCBtZXRhZGF0YSkge1xuICAgIGlmIChjb21wb25lbnROZWVkc1Jlc29sdXRpb24obWV0YWRhdGEpKSB7XG4gICAgICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLnNldCh0eXBlLCBtZXRhZGF0YSk7XG4gICAgICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmFkZCh0eXBlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uaGFzKHR5cGUpO1xufVxuZnVuY3Rpb24gY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKGNvbXBvbmVudCkge1xuICAgIHJldHVybiAhISgoY29tcG9uZW50LnRlbXBsYXRlVXJsICYmICFjb21wb25lbnQuaGFzT3duUHJvcGVydHkoJ3RlbXBsYXRlJykpIHx8XG4gICAgICAgIGNvbXBvbmVudC5zdHlsZVVybHMgJiYgY29tcG9uZW50LnN0eWxlVXJscy5sZW5ndGgpO1xufVxuZnVuY3Rpb24gY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSgpIHtcbiAgICBjb25zdCBvbGQgPSBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZTtcbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4gb2xkO1xufVxuZnVuY3Rpb24gcmVzdG9yZUNvbXBvbmVudFJlc29sdXRpb25RdWV1ZShxdWV1ZSkge1xuICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmNsZWFyKCk7XG4gICAgcXVldWUuZm9yRWFjaCgoXywgdHlwZSkgPT4gY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uYWRkKHR5cGUpKTtcbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IHF1ZXVlO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZUVtcHR5KCkge1xuICAgIHJldHVybiBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5zaXplID09PSAwO1xufVxuZnVuY3Rpb24gdW53cmFwUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3BvbnNlID09ICdzdHJpbmcnID8gcmVzcG9uc2UgOiByZXNwb25zZS50ZXh0KCk7XG59XG5mdW5jdGlvbiBjb21wb25lbnREZWZSZXNvbHZlZCh0eXBlKSB7XG4gICAgY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uZGVsZXRlKHR5cGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcG9saWN5IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldC5cbiAqL1xubGV0IHBvbGljeSQxO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLiBUaGUgZmlyc3QgY2FsbCB0byB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIHRoZSBwb2xpY3kuXG4gKi9cbmZ1bmN0aW9uIGdldFBvbGljeSQxKCkge1xuICAgIGlmIChwb2xpY3kkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvbGljeSQxID0gbnVsbDtcbiAgICAgICAgaWYgKF9nbG9iYWwudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvbGljeSQxID0gX2dsb2JhbC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdhbmd1bGFyJywge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0OiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0VVJMOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5IHRocm93cyBpZiBjYWxsZWQgd2l0aCBhIG5hbWUgdGhhdCBpc1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgcmVnaXN0ZXJlZCwgZXZlbiBpbiByZXBvcnQtb25seSBtb2RlLiBVbnRpbCB0aGUgQVBJIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgLy8gY2F0Y2ggdGhlIGVycm9yIG5vdCB0byBicmVhayB0aGUgYXBwbGljYXRpb25zIGZ1bmN0aW9uYWxseS4gSW4gc3VjaFxuICAgICAgICAgICAgICAgIC8vIGNhc2VzLCB0aGUgY29kZSB3aWxsIGZhbGwgYmFjayB0byB1c2luZyBzdHJpbmdzLlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2xpY3kkMTtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRIVE1MLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5ncyB3aGVuXG4gKiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlXG4gKiBwcm92aWRlZCBzdHJpbmcgd2lsbCBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dFxuICogdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIEhUTUwgYnkgYSBicm93c2VyLCBlLmcuIHdoZW4gYXNzaWduaW5nIHRvXG4gKiBlbGVtZW50LmlubmVySFRNTC5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpIHtcbiAgICByZXR1cm4gZ2V0UG9saWN5JDEoKT8uY3JlYXRlSFRNTChodG1sKSB8fCBodG1sO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZFNjcmlwdCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCB0aGUgcHJvdmlkZWQgc3RyaW5nIHdpbGxcbiAqIG5ldmVyIGNhdXNlIGFuIFhTUyB2dWxuZXJhYmlsaXR5IGlmIHVzZWQgaW4gYSBjb250ZXh0IHRoYXQgd2lsbCBiZVxuICogaW50ZXJwcmV0ZWQgYW5kIGV4ZWN1dGVkIGFzIGEgc2NyaXB0IGJ5IGEgYnJvd3NlciwgZS5nLiB3aGVuIGNhbGxpbmcgZXZhbC5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoc2NyaXB0KSB7XG4gICAgcmV0dXJuIGdldFBvbGljeSQxKCk/LmNyZWF0ZVNjcmlwdChzY3JpcHQpIHx8IHNjcmlwdDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHRVUkwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzXG4gKiB3aGVuIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCB0aGVcbiAqIHByb3ZpZGVkIHN0cmluZyB3aWxsIG5ldmVyIGNhdXNlIGFuIFhTUyB2dWxuZXJhYmlsaXR5IGlmIHVzZWQgaW4gYSBjb250ZXh0XG4gKiB0aGF0IHdpbGwgY2F1c2UgYSBicm93c2VyIHRvIGxvYWQgYW5kIGV4ZWN1dGUgYSByZXNvdXJjZSwgZS5nLiB3aGVuXG4gKiBhc3NpZ25pbmcgdG8gc2NyaXB0LnNyYy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmcodXJsKSB7XG4gICAgcmV0dXJuIGdldFBvbGljeSQxKCk/LmNyZWF0ZVNjcmlwdFVSTCh1cmwpIHx8IHVybDtcbn1cbi8qKlxuICogVW5zYWZlbHkgY2FsbCB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc3RyaW5nIGFyZ3VtZW50cy4gSXRcbiAqIGlzIG9ubHkgYXZhaWxhYmxlIGluIGRldmVsb3BtZW50IG1vZGUsIGFuZCBzaG91bGQgYmUgc3RyaXBwZWQgb3V0IG9mXG4gKiBwcm9kdWN0aW9uIGNvZGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBjYWxsZWQgZnJvbSBkZXZlbG9wbWVudCBjb2RlLCBhcyB1c2UgaW4gcHJvZHVjdGlvbiBjb2RlIGNhbiBsZWFkIHRvXG4gKiBYU1MgdnVsbmVyYWJpbGl0aWVzLlxuICovXG5mdW5jdGlvbiBuZXdUcnVzdGVkRnVuY3Rpb25Gb3JEZXYoLi4uYXJncykge1xuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25ld1RydXN0ZWRGdW5jdGlvbkZvckRldiBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGluIHByb2R1Y3Rpb24nKTtcbiAgICB9XG4gICAgaWYgKCFfZ2xvYmFsLnRydXN0ZWRUeXBlcykge1xuICAgICAgICAvLyBJbiBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBzdXBwb3J0IFRydXN0ZWQgVHlwZXMsIGZhbGwgYmFjayB0byB0aGUgbW9zdFxuICAgICAgICAvLyBzdHJhaWdodGZvcndhcmQgaW1wbGVtZW50YXRpb246XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oLi4uYXJncyk7XG4gICAgfVxuICAgIC8vIENocm9tZSBjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBwYXNzaW5nIFRydXN0ZWRTY3JpcHQgdG8gdGhlIEZ1bmN0aW9uXG4gICAgLy8gY29uc3RydWN0b3IuIFRoZSBmb2xsb3dpbmcgaW1wbGVtZW50cyB0aGUgd29ya2Fyb3VuZCBwcm9wb3NlZCBvbiB0aGUgcGFnZVxuICAgIC8vIGJlbG93LCB3aGVyZSB0aGUgQ2hyb21pdW0gYnVnIGlzIGFsc28gcmVmZXJlbmNlZDpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL3dlYmFwcHNlYy10cnVzdGVkLXR5cGVzL3dpa2kvVHJ1c3RlZC1UeXBlcy1mb3ItZnVuY3Rpb24tY29uc3RydWN0b3JcbiAgICBjb25zdCBmbkFyZ3MgPSBhcmdzLnNsaWNlKDAsIC0xKS5qb2luKCcsJyk7XG4gICAgY29uc3QgZm5Cb2R5ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGJvZHkgPSBgKGZ1bmN0aW9uIGFub255bW91cygke2ZuQXJnc31cbikgeyAke2ZuQm9keX1cbn0pYDtcbiAgICAvLyBVc2luZyBldmFsIGRpcmVjdGx5IGNvbmZ1c2VzIHRoZSBjb21waWxlciBhbmQgcHJldmVudHMgdGhpcyBtb2R1bGUgZnJvbVxuICAgIC8vIGJlaW5nIHN0cmlwcGVkIG91dCBvZiBKUyBiaW5hcmllcyBldmVuIGlmIG5vdCB1c2VkLiBUaGUgZ2xvYmFsWydldmFsJ11cbiAgICAvLyBpbmRpcmVjdGlvbiBmaXhlcyB0aGF0LlxuICAgIGNvbnN0IGZuID0gX2dsb2JhbFsnZXZhbCddKHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nKGJvZHkpKTtcbiAgICBpZiAoZm4uYmluZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGEgYnJvd3NlciBidWcgdGhhdCBvbmx5IGV4aXN0cyBpbiBDaHJvbWUgODMsIHdoZXJlIHBhc3NpbmdcbiAgICAgICAgLy8gYSBUcnVzdGVkU2NyaXB0IHRvIGV2YWwganVzdCByZXR1cm5zIHRoZSBUcnVzdGVkU2NyaXB0IGJhY2sgd2l0aG91dFxuICAgICAgICAvLyBldmFsdWF0aW5nIGl0LiBJbiB0aGF0IGNhc2UsIGZhbGwgYmFjayB0byB0aGUgbW9zdCBzdHJhaWdodGZvcndhcmRcbiAgICAgICAgLy8gaW1wbGVtZW50YXRpb246XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oLi4uYXJncyk7XG4gICAgfVxuICAgIC8vIFRvIGNvbXBsZXRlbHkgbWltaWMgdGhlIGJlaGF2aW9yIG9mIGNhbGxpbmcgXCJuZXcgRnVuY3Rpb25cIiwgdHdvIG1vcmVcbiAgICAvLyB0aGluZ3MgbmVlZCB0byBoYXBwZW46XG4gICAgLy8gMS4gU3RyaW5naWZ5aW5nIHRoZSByZXN1bHRpbmcgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBpdHMgc291cmNlIGNvZGVcbiAgICBmbi50b1N0cmluZyA9ICgpID0+IGJvZHk7XG4gICAgLy8gMi4gV2hlbiBjYWxsaW5nIHRoZSByZXN1bHRpbmcgZnVuY3Rpb24sIGB0aGlzYCBzaG91bGQgcmVmZXIgdG8gYGdsb2JhbGBcbiAgICByZXR1cm4gZm4uYmluZChfZ2xvYmFsKTtcbiAgICAvLyBXaGVuIFRydXN0ZWQgVHlwZXMgc3VwcG9ydCBpbiBGdW5jdGlvbiBjb25zdHJ1Y3RvcnMgaXMgd2lkZWx5IGF2YWlsYWJsZSxcbiAgICAvLyB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBmdW5jdGlvbiBjYW4gYmUgc2ltcGxpZmllZCB0bzpcbiAgICAvLyByZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLmFyZ3MubWFwKGEgPT4gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoYSkpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLCBvciB1bmRlZmluZWQgaWYgdGhlIHBvbGljeSBoYXMgbm90IGJlZW4gY3JlYXRlZCB5ZXQuXG4gKi9cbmxldCBwb2xpY3k7XG4vKipcbiAqIFJldHVybnMgdGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQuIFRoZSBmaXJzdCBjYWxsIHRvIHRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgdGhlIHBvbGljeS5cbiAqL1xuZnVuY3Rpb24gZ2V0UG9saWN5KCkge1xuICAgIGlmIChwb2xpY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2xpY3kgPSBudWxsO1xuICAgICAgICBpZiAoX2dsb2JhbC50cnVzdGVkVHlwZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcG9saWN5ID0gX2dsb2JhbC50cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZVBvbGljeSgnYW5ndWxhciN1bnNhZmUtYnlwYXNzJywge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0OiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0VVJMOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5IHRocm93cyBpZiBjYWxsZWQgd2l0aCBhIG5hbWUgdGhhdCBpc1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgcmVnaXN0ZXJlZCwgZXZlbiBpbiByZXBvcnQtb25seSBtb2RlLiBVbnRpbCB0aGUgQVBJIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgLy8gY2F0Y2ggdGhlIGVycm9yIG5vdCB0byBicmVhayB0aGUgYXBwbGljYXRpb25zIGZ1bmN0aW9uYWxseS4gSW4gc3VjaFxuICAgICAgICAgICAgICAgIC8vIGNhc2VzLCB0aGUgY29kZSB3aWxsIGZhbGwgYmFjayB0byB1c2luZyBzdHJpbmdzLlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2xpY3k7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkSFRNTCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IGl0XG4gKiBpcyBvbmx5IHBhc3NlZCBzdHJpbmdzIHRoYXQgY29tZSBkaXJlY3RseSBmcm9tIGN1c3RvbSBzYW5pdGl6ZXJzIG9yIHRoZVxuICogYnlwYXNzU2VjdXJpdHlUcnVzdCogZnVuY3Rpb25zLlxuICovXG5mdW5jdGlvbiB0cnVzdGVkSFRNTEZyb21TdHJpbmdCeXBhc3MoaHRtbCkge1xuICAgIHJldHVybiBnZXRQb2xpY3koKT8uY3JlYXRlSFRNTChodG1sKSB8fCBodG1sO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZFNjcmlwdCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IGl0XG4gKiBpcyBvbmx5IHBhc3NlZCBzdHJpbmdzIHRoYXQgY29tZSBkaXJlY3RseSBmcm9tIGN1c3RvbSBzYW5pdGl6ZXJzIG9yIHRoZVxuICogYnlwYXNzU2VjdXJpdHlUcnVzdCogZnVuY3Rpb25zLlxuICovXG5mdW5jdGlvbiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZ0J5cGFzcyhzY3JpcHQpIHtcbiAgICByZXR1cm4gZ2V0UG9saWN5KCk/LmNyZWF0ZVNjcmlwdChzY3JpcHQpIHx8IHNjcmlwdDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHRVUkwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzXG4gKiB3aGVuIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3ModXJsKSB7XG4gICAgcmV0dXJuIGdldFBvbGljeSgpPy5jcmVhdGVTY3JpcHRVUkwodXJsKSB8fCB1cmw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgU2FmZVZhbHVlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eSkge1xuICAgICAgICB0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkgPSBjaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBTYWZlVmFsdWUgbXVzdCB1c2UgW3Byb3BlcnR5XT1iaW5kaW5nOiAke3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eX1gICtcbiAgICAgICAgICAgIGAgKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWA7XG4gICAgfVxufVxuY2xhc3MgU2FmZUh0bWxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkhUTUxcIiAvKiBIdG1sICovO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVTdHlsZUltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU3R5bGVcIiAvKiBTdHlsZSAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlU2NyaXB0SW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTY3JpcHRcIiAvKiBTY3JpcHQgKi87XG4gICAgfVxufVxuY2xhc3MgU2FmZVVybEltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiVVJMXCIgLyogVXJsICovO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVSZXNvdXJjZVVybEltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmVzb3VyY2VVUkxcIiAvKiBSZXNvdXJjZVVybCAqLztcbiAgICB9XG59XG5mdW5jdGlvbiB1bndyYXBTYWZlVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTYWZlVmFsdWVJbXBsID8gdmFsdWUuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eSA6XG4gICAgICAgIHZhbHVlO1xufVxuZnVuY3Rpb24gYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh2YWx1ZSwgdHlwZSkge1xuICAgIGNvbnN0IGFjdHVhbFR5cGUgPSBnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlKHZhbHVlKTtcbiAgICBpZiAoYWN0dWFsVHlwZSAhPSBudWxsICYmIGFjdHVhbFR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgLy8gQWxsb3cgUmVzb3VyY2VVUkxzIGluIFVSTCBjb250ZXh0cywgdGhleSBhcmUgc3RyaWN0bHkgbW9yZSB0cnVzdGVkLlxuICAgICAgICBpZiAoYWN0dWFsVHlwZSA9PT0gXCJSZXNvdXJjZVVSTFwiIC8qIFJlc291cmNlVXJsICovICYmIHR5cGUgPT09IFwiVVJMXCIgLyogVXJsICovKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgYSBzYWZlICR7dHlwZX0sIGdvdCBhICR7YWN0dWFsVHlwZX0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApO1xuICAgIH1cbiAgICByZXR1cm4gYWN0dWFsVHlwZSA9PT0gdHlwZTtcbn1cbmZ1bmN0aW9uIGdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTYWZlVmFsdWVJbXBsICYmIHZhbHVlLmdldFR5cGVOYW1lKCkgfHwgbnVsbDtcbn1cbi8qKlxuICogTWFyayBgaHRtbGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayBodG1sU2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRIdG1sIGBodG1sYCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgaHRtbGAgd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCh0cnVzdGVkSHRtbCkge1xuICAgIHJldHVybiBuZXcgU2FmZUh0bWxJbXBsKHRydXN0ZWRIdG1sKTtcbn1cbi8qKlxuICogTWFyayBgc3R5bGVgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgc3R5bGVTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZFN0eWxlIGBzdHlsZWAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHN0eWxlYCBoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlKHRydXN0ZWRTdHlsZSkge1xuICAgIHJldHVybiBuZXcgU2FmZVN0eWxlSW1wbCh0cnVzdGVkU3R5bGUpO1xufVxuLyoqXG4gKiBNYXJrIGBzY3JpcHRgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgc2NyaXB0U2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRTY3JpcHQgYHNjcmlwdGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHNjcmlwdGAgd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0KHRydXN0ZWRTY3JpcHQpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVTY3JpcHRJbXBsKHRydXN0ZWRTY3JpcHQpO1xufVxuLyoqXG4gKiBNYXJrIGB1cmxgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgdXJsU2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRVcmwgYHVybGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHVybGAgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCh0cnVzdGVkVXJsKSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlVXJsSW1wbCh0cnVzdGVkVXJsKTtcbn1cbi8qKlxuICogTWFyayBgdXJsYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHJlc291cmNlVXJsU2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRSZXNvdXJjZVVybCBgdXJsYCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgdXJsYCB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybCh0cnVzdGVkUmVzb3VyY2VVcmwpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVSZXNvdXJjZVVybEltcGwodHJ1c3RlZFJlc291cmNlVXJsKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgaGVscGVyIGlzIHVzZWQgdG8gZ2V0IGhvbGQgb2YgYW4gaW5lcnQgdHJlZSBvZiBET00gZWxlbWVudHMgY29udGFpbmluZyBkaXJ0eSBIVE1MXG4gKiB0aGF0IG5lZWRzIHNhbml0aXppbmcuXG4gKiBEZXBlbmRpbmcgdXBvbiBicm93c2VyIHN1cHBvcnQgd2UgdXNlIG9uZSBvZiB0d28gc3RyYXRlZ2llcyBmb3IgZG9pbmcgdGhpcy5cbiAqIERlZmF1bHQ6IERPTVBhcnNlciBzdHJhdGVneVxuICogRmFsbGJhY2s6IEluZXJ0RG9jdW1lbnQgc3RyYXRlZ3lcbiAqL1xuZnVuY3Rpb24gZ2V0SW5lcnRCb2R5SGVscGVyKGRlZmF1bHREb2MpIHtcbiAgICBjb25zdCBpbmVydERvY3VtZW50SGVscGVyID0gbmV3IEluZXJ0RG9jdW1lbnRIZWxwZXIoZGVmYXVsdERvYyk7XG4gICAgcmV0dXJuIGlzRE9NUGFyc2VyQXZhaWxhYmxlKCkgPyBuZXcgRE9NUGFyc2VySGVscGVyKGluZXJ0RG9jdW1lbnRIZWxwZXIpIDogaW5lcnREb2N1bWVudEhlbHBlcjtcbn1cbi8qKlxuICogVXNlcyBET01QYXJzZXIgdG8gY3JlYXRlIGFuZCBmaWxsIGFuIGluZXJ0IGJvZHkgZWxlbWVudC5cbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgc3RyYXRlZ3kgdXNlZCBpbiBicm93c2VycyB0aGF0IHN1cHBvcnQgaXQuXG4gKi9cbmNsYXNzIERPTVBhcnNlckhlbHBlciB7XG4gICAgY29uc3RydWN0b3IoaW5lcnREb2N1bWVudEhlbHBlcikge1xuICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIgPSBpbmVydERvY3VtZW50SGVscGVyO1xuICAgIH1cbiAgICBnZXRJbmVydEJvZHlFbGVtZW50KGh0bWwpIHtcbiAgICAgICAgLy8gV2UgYWRkIHRoZXNlIGV4dHJhIGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0IHRoZSByZXN0IG9mIHRoZSBjb250ZW50IGlzIHBhcnNlZCBhcyBleHBlY3RlZFxuICAgICAgICAvLyBlLmcuIGxlYWRpbmcgd2hpdGVzcGFjZSBpcyBtYWludGFpbmVkIGFuZCB0YWdzIGxpa2UgYDxtZXRhPmAgZG8gbm90IGdldCBob2lzdGVkIHRvIHRoZVxuICAgICAgICAvLyBgPGhlYWQ+YCB0YWcuIE5vdGUgdGhhdCB0aGUgYDxib2R5PmAgdGFnIGlzIGNsb3NlZCBpbXBsaWNpdGx5IHRvIHByZXZlbnQgdW5jbG9zZWQgdGFnc1xuICAgICAgICAvLyBpbiBgaHRtbGAgZnJvbSBjb25zdW1pbmcgdGhlIG90aGVyd2lzZSBleHBsaWNpdCBgPC9ib2R5PmAgdGFnLlxuICAgICAgICBodG1sID0gJzxib2R5PjxyZW1vdmU+PC9yZW1vdmU+JyArIGh0bWw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKVxuICAgICAgICAgICAgICAgIC5wYXJzZUZyb21TdHJpbmcodHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpLCAndGV4dC9odG1sJylcbiAgICAgICAgICAgICAgICAuYm9keTtcbiAgICAgICAgICAgIGlmIChib2R5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gc29tZSBicm93c2VycyAoZS5nLiBNb3ppbGxhLzUuMCBpUGFkIEFwcGxlV2ViS2l0IE1vYmlsZSkgdGhlIGBib2R5YCBwcm9wZXJ0eSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gYmVjb21lcyBhdmFpbGFibGUgaW4gdGhlIGZvbGxvd2luZyB0aWNrIG9mIHRoZSBKUyBlbmdpbmUuIEluIHRoYXQgY2FzZSB3ZSBmYWxsIGJhY2sgdG9cbiAgICAgICAgICAgICAgICAvLyB0aGUgYGluZXJ0RG9jdW1lbnRIZWxwZXJgIGluc3RlYWQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5lcnREb2N1bWVudEhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KGh0bWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVzZSBhbiBIVE1MNSBgdGVtcGxhdGVgIGVsZW1lbnQsIGlmIHN1cHBvcnRlZCwgb3IgYW4gaW5lcnQgYm9keSBlbGVtZW50IGNyZWF0ZWQgdmlhXG4gKiBgY3JlYXRlSHRtbERvY3VtZW50YCB0byBjcmVhdGUgYW5kIGZpbGwgYW4gaW5lcnQgRE9NIGVsZW1lbnQuXG4gKiBUaGlzIGlzIHRoZSBmYWxsYmFjayBzdHJhdGVneSBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IERPTVBhcnNlci5cbiAqL1xuY2xhc3MgSW5lcnREb2N1bWVudEhlbHBlciB7XG4gICAgY29uc3RydWN0b3IoZGVmYXVsdERvYykge1xuICAgICAgICB0aGlzLmRlZmF1bHREb2MgPSBkZWZhdWx0RG9jO1xuICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnQgPSB0aGlzLmRlZmF1bHREb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCdzYW5pdGl6YXRpb24taW5lcnQnKTtcbiAgICAgICAgaWYgKHRoaXMuaW5lcnREb2N1bWVudC5ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHVzdWFsbHkgdGhlcmUgc2hvdWxkIGJlIG9ubHkgb25lIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQsIGJ1dCBJRSBkb2Vzbid0IGhhdmUgYW55LCBzb1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgb25lLlxuICAgICAgICAgICAgY29uc3QgaW5lcnRIdG1sID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHRoaXMuaW5lcnREb2N1bWVudC5hcHBlbmRDaGlsZChpbmVydEh0bWwpO1xuICAgICAgICAgICAgY29uc3QgaW5lcnRCb2R5RWxlbWVudCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgICAgICBpbmVydEh0bWwuYXBwZW5kQ2hpbGQoaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKSB7XG4gICAgICAgIC8vIFByZWZlciB1c2luZyA8dGVtcGxhdGU+IGVsZW1lbnQgaWYgc3VwcG9ydGVkLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZUVsID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIGlmICgnY29udGVudCcgaW4gdGVtcGxhdGVFbCkge1xuICAgICAgICAgICAgdGVtcGxhdGVFbC5pbm5lckhUTUwgPSB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVFbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlIHRoYXQgcHJldmlvdXNseSB3ZSB1c2VkIHRvIGRvIHNvbWV0aGluZyBsaWtlIGB0aGlzLmluZXJ0RG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBodG1sYFxuICAgICAgICAvLyBhbmQgd2UgcmV0dXJuZWQgdGhlIGluZXJ0IGBib2R5YCBub2RlLiBUaGlzIHdhcyBjaGFuZ2VkLCBiZWNhdXNlIElFIHNlZW1zIHRvIHRyZWF0IHNldHRpbmdcbiAgICAgICAgLy8gYGlubmVySFRNTGAgb24gYW4gaW5zZXJ0ZWQgZWxlbWVudCBkaWZmZXJlbnRseSwgY29tcGFyZWQgdG8gb25lIHRoYXQgaGFzbid0IGJlZW4gaW5zZXJ0ZWRcbiAgICAgICAgLy8geWV0LiBJbiBwYXJ0aWN1bGFyLCBJRSBhcHBlYXJzIHRvIHNwbGl0IHNvbWUgb2YgdGhlIHRleHQgaW50byBtdWx0aXBsZSB0ZXh0IG5vZGVzIHJhdGhlclxuICAgICAgICAvLyB0aGFuIGtlZXBpbmcgdGhlbSBpbiBhIHNpbmdsZSBvbmUgd2hpY2ggZW5kcyB1cCBtZXNzaW5nIHdpdGggSXZ5J3MgaTE4biBwYXJzaW5nIGZ1cnRoZXJcbiAgICAgICAgLy8gZG93biB0aGUgbGluZS4gVGhpcyBoYXMgYmVlbiB3b3JrZWQgYXJvdW5kIGJ5IGNyZWF0aW5nIGEgbmV3IGluZXJ0IGBib2R5YCBhbmQgdXNpbmcgaXQgYXNcbiAgICAgICAgLy8gdGhlIHJvb3Qgbm9kZSBpbiB3aGljaCB3ZSBpbnNlcnQgdGhlIEhUTUwuXG4gICAgICAgIGNvbnN0IGluZXJ0Qm9keSA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgIGluZXJ0Qm9keS5pbm5lckhUTUwgPSB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcbiAgICAgICAgLy8gc3RyaXAgY3VzdG9tLW5hbWVzcGFjZWQgYXR0cmlidXRlcyBvbiBJRTw9MTFcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdERvYy5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGluZXJ0Qm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZXJ0Qm9keTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBJRTExIGNvbWVzIGFjcm9zcyBhbiB1bmtub3duIG5hbWVzcGFjZWQgYXR0cmlidXRlIGUuZy4gJ3hsaW5rOmZvbycgaXQgYWRkcyAneG1sbnM6bnMxJ1xuICAgICAqIGF0dHJpYnV0ZSB0byBkZWNsYXJlIG5zMSBuYW1lc3BhY2UgYW5kIHByZWZpeGVzIHRoZSBhdHRyaWJ1dGUgd2l0aCAnbnMxJyAoZS5nLlxuICAgICAqICduczE6eGxpbms6Zm9vJykuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVuZGVzaXJhYmxlIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gYWxsb3cgYW55IG9mIHRoZXNlIGN1c3RvbSBhdHRyaWJ1dGVzLiBUaGlzIG1ldGhvZFxuICAgICAqIHN0cmlwcyB0aGVtIGFsbC5cbiAgICAgKi9cbiAgICBzdHJpcEN1c3RvbU5zQXR0cnMoZWwpIHtcbiAgICAgICAgY29uc3QgZWxBdHRycyA9IGVsLmF0dHJpYnV0ZXM7XG4gICAgICAgIC8vIGxvb3AgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnQgcmVtb3ZhbHMuXG4gICAgICAgIGZvciAobGV0IGkgPSBlbEF0dHJzLmxlbmd0aCAtIDE7IDAgPCBpOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYiA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cmliLm5hbWU7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmluZGV4T2YoJ25zMTonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoaWxkTm9kZSA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFdlIG5lZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIERPTVBhcnNlciBleGlzdHMgaW4gdGhlIGdsb2JhbCBjb250ZXh0IGFuZFxuICogc3VwcG9ydHMgcGFyc2luZyBIVE1MOyBIVE1MIHBhcnNpbmcgc3VwcG9ydCBpcyBub3QgYXMgd2lkZSBhcyBvdGhlciBmb3JtYXRzLCBzZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ET01QYXJzZXIjQnJvd3Nlcl9jb21wYXRpYmlsaXR5LlxuICpcbiAqIEBzdXBwcmVzcyB7dXNlbGVzc0NvZGV9XG4gKi9cbmZ1bmN0aW9uIGlzRE9NUGFyc2VyQXZhaWxhYmxlKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIW5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRydXN0ZWRIVE1MRnJvbVN0cmluZygnJyksICd0ZXh0L2h0bWwnKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBwYXR0ZXJuIHRoYXQgcmVjb2duaXplcyBhIGNvbW1vbmx5IHVzZWZ1bCBzdWJzZXQgb2YgVVJMcyB0aGF0IGFyZSBzYWZlLlxuICpcbiAqIFRoaXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgYSBzdWJzZXQgb2YgVVJMcyB0aGF0IHdpbGwgbm90IGNhdXNlIHNjcmlwdFxuICogZXhlY3V0aW9uIGlmIHVzZWQgaW4gVVJMIGNvbnRleHQgd2l0aGluIGEgSFRNTCBkb2N1bWVudC4gU3BlY2lmaWNhbGx5LCB0aGlzXG4gKiByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBpZiAoY29tbWVudCBmcm9tIGhlcmUgb24gYW5kIHJlZ2V4IGNvcGllZCBmcm9tXG4gKiBTb3kncyBFc2NhcGluZ0NvbnZlbnRpb25zKTpcbiAqICgxKSBFaXRoZXIgYW4gYWxsb3dlZCBwcm90b2NvbCAoaHR0cCwgaHR0cHMsIG1haWx0byBvciBmdHApLlxuICogKDIpIG9yIG5vIHByb3RvY29sLiAgQSBwcm90b2NvbCBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgY29sb24uIFRoZSBiZWxvd1xuICogICAgIGFsbG93cyB0aGF0IGJ5IGFsbG93aW5nIGNvbG9ucyBvbmx5IGFmdGVyIG9uZSBvZiB0aGUgY2hhcmFjdGVycyBbLz8jXS5cbiAqICAgICBBIGNvbG9uIGFmdGVyIGEgaGFzaCAoIykgbXVzdCBiZSBpbiB0aGUgZnJhZ21lbnQuXG4gKiAgICAgT3RoZXJ3aXNlLCBhIGNvbG9uIGFmdGVyIGEgKD8pIG11c3QgYmUgaW4gYSBxdWVyeS5cbiAqICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSBzaW5nbGUgc29saWR1cyAoLykgbXVzdCBiZSBpbiBhIHBhdGguXG4gKiAgICAgT3RoZXJ3aXNlLCBhIGNvbG9uIGFmdGVyIGEgZG91YmxlIHNvbGlkdXMgKC8vKSBtdXN0IGJlIGluIHRoZSBhdXRob3JpdHlcbiAqICAgICAoYmVmb3JlIHBvcnQpLlxuICpcbiAqIFRoZSBwYXR0ZXJuIGRpc2FsbG93cyAmLCB1c2VkIGluIEhUTUwgZW50aXR5IGRlY2xhcmF0aW9ucyBiZWZvcmVcbiAqIG9uZSBvZiB0aGUgY2hhcmFjdGVycyBpbiBbLz8jXS4gVGhpcyBkaXNhbGxvd3MgSFRNTCBlbnRpdGllcyB1c2VkIGluIHRoZVxuICogcHJvdG9jb2wgbmFtZSwgd2hpY2ggc2hvdWxkIG5ldmVyIGhhcHBlbiwgZS5nLiBcImgmIzExNjt0cFwiIGZvciBcImh0dHBcIi5cbiAqIEl0IGFsc28gZGlzYWxsb3dzIEhUTUwgZW50aXRpZXMgaW4gdGhlIGZpcnN0IHBhdGggcGFydCBvZiBhIHJlbGF0aXZlIHBhdGgsXG4gKiBlLmcuIFwiZm9vJmx0O2Jhci9iYXpcIi4gIE91ciBleGlzdGluZyBlc2NhcGluZyBmdW5jdGlvbnMgc2hvdWxkIG5vdCBwcm9kdWNlXG4gKiB0aGF0LiBNb3JlIGltcG9ydGFudGx5LCBpdCBkaXNhbGxvd3MgbWFza2luZyBvZiBhIGNvbG9uLFxuICogZS5nLiBcImphdmFzY3JpcHQmIzU4Oy4uLlwiLlxuICpcbiAqIFRoaXMgcmVndWxhciBleHByZXNzaW9uIHdhcyB0YWtlbiBmcm9tIHRoZSBDbG9zdXJlIHNhbml0aXphdGlvbiBsaWJyYXJ5LlxuICovXG5jb25zdCBTQUZFX1VSTF9QQVRURVJOID0gL14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZXxzbXMpOnxbXiY6Lz8jXSooPzpbLz8jXXwkKSkvZ2k7XG4vKiBBIHBhdHRlcm4gdGhhdCBtYXRjaGVzIHNhZmUgc3Jjc2V0IHZhbHVlcyAqL1xuY29uc3QgU0FGRV9TUkNTRVRfUEFUVEVSTiA9IC9eKD86KD86aHR0cHM/fGZpbGUpOnxbXiY6Lz8jXSooPzpbLz8jXXwkKSkvZ2k7XG4vKiogQSBwYXR0ZXJuIHRoYXQgbWF0Y2hlcyBzYWZlIGRhdGEgVVJMcy4gT25seSBtYXRjaGVzIGltYWdlLCB2aWRlbyBhbmQgYXVkaW8gdHlwZXMuICovXG5jb25zdCBEQVRBX1VSTF9QQVRURVJOID0gL15kYXRhOig/OmltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1xcLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1xcLyg/Om1wM3xvZ2F8b2dnfG9wdXMpKTtiYXNlNjQsW2EtejAtOStcXC9dKz0qJC9pO1xuZnVuY3Rpb24gX3Nhbml0aXplVXJsKHVybCkge1xuICAgIHVybCA9IFN0cmluZyh1cmwpO1xuICAgIGlmICh1cmwubWF0Y2goU0FGRV9VUkxfUEFUVEVSTikgfHwgdXJsLm1hdGNoKERBVEFfVVJMX1BBVFRFUk4pKVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBXQVJOSU5HOiBzYW5pdGl6aW5nIHVuc2FmZSBVUkwgdmFsdWUgJHt1cmx9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICB9XG4gICAgcmV0dXJuICd1bnNhZmU6JyArIHVybDtcbn1cbmZ1bmN0aW9uIHNhbml0aXplU3Jjc2V0KHNyY3NldCkge1xuICAgIHNyY3NldCA9IFN0cmluZyhzcmNzZXQpO1xuICAgIHJldHVybiBzcmNzZXQuc3BsaXQoJywnKS5tYXAoKHNyY3NldCkgPT4gX3Nhbml0aXplVXJsKHNyY3NldC50cmltKCkpKS5qb2luKCcsICcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHRhZ1NldCh0YWdzKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChjb25zdCB0IG9mIHRhZ3Muc3BsaXQoJywnKSlcbiAgICAgICAgcmVzW3RdID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbWVyZ2UoLi4uc2V0cykge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcyBvZiBzZXRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBpbiBzKSB7XG4gICAgICAgICAgICBpZiAocy5oYXNPd25Qcm9wZXJ0eSh2KSlcbiAgICAgICAgICAgICAgICByZXNbdl0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyBHb29kIHNvdXJjZSBvZiBpbmZvIGFib3V0IGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzXG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzZW1hbnRpY3Ncbi8vIGh0dHBzOi8vc2ltb24uaHRtbDUub3JnL2h0bWwtZWxlbWVudHNcbi8vIFNhZmUgVm9pZCBFbGVtZW50cyAtIEhUTUw1XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyN2b2lkLWVsZW1lbnRzXG5jb25zdCBWT0lEX0VMRU1FTlRTID0gdGFnU2V0KCdhcmVhLGJyLGNvbCxocixpbWcsd2JyJyk7XG4vLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW4gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jb3B0aW9uYWwtdGFnc1xuY29uc3QgT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyA9IHRhZ1NldCgnY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0cicpO1xuY29uc3QgT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMgPSB0YWdTZXQoJ3JwLHJ0Jyk7XG5jb25zdCBPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTID0gbWVyZ2UoT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMsIE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMpO1xuLy8gU2FmZSBCbG9jayBFbGVtZW50cyAtIEhUTUw1XG5jb25zdCBCTE9DS19FTEVNRU5UUyA9IG1lcmdlKE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMsIHRhZ1NldCgnYWRkcmVzcyxhcnRpY2xlLCcgK1xuICAgICdhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkZXRhaWxzLGRpYWxvZyxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSwnICtcbiAgICAnaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFpbixtYXAsbWVudSxuYXYsb2wscHJlLHNlY3Rpb24sc3VtbWFyeSx0YWJsZSx1bCcpKTtcbi8vIElubGluZSBFbGVtZW50cyAtIEhUTUw1XG5jb25zdCBJTkxJTkVfRUxFTUVOVFMgPSBtZXJnZShPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUywgdGFnU2V0KCdhLGFiYnIsYWNyb255bSxhdWRpbyxiLCcgK1xuICAgICdiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscGljdHVyZSxxLHJ1YnkscnAscnQscywnICtcbiAgICAnc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlbycpKTtcbmNvbnN0IFZBTElEX0VMRU1FTlRTID0gbWVyZ2UoVk9JRF9FTEVNRU5UUywgQkxPQ0tfRUxFTUVOVFMsIElOTElORV9FTEVNRU5UUywgT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyk7XG4vLyBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBocmVmIGFuZCBoZW5jZSBuZWVkIHRvIGJlIHNhbml0aXplZFxuY29uc3QgVVJJX0FUVFJTID0gdGFnU2V0KCdiYWNrZ3JvdW5kLGNpdGUsaHJlZixpdGVtdHlwZSxsb25nZGVzYyxwb3N0ZXIsc3JjLHhsaW5rOmhyZWYnKTtcbi8vIEF0dHJpYnV0ZXMgdGhhdCBoYXZlIHNwZWNpYWwgaHJlZiBzZXQgaGVuY2UgbmVlZCB0byBiZSBzYW5pdGl6ZWRcbmNvbnN0IFNSQ1NFVF9BVFRSUyA9IHRhZ1NldCgnc3Jjc2V0Jyk7XG5jb25zdCBIVE1MX0FUVFJTID0gdGFnU2V0KCdhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sJyArXG4gICAgJ2NvbXBhY3QsY29udHJvbHMsY29vcmRzLGRhdGV0aW1lLGRlZmF1bHQsZGlyLGRvd25sb2FkLGZhY2UsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhyZWZsYW5nLGhzcGFjZSwnICtcbiAgICAnaXNtYXAsaXRlbXNjb3BlLGl0ZW1wcm9wLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb29wLG1lZGlhLG11dGVkLG5vaHJlZixub3dyYXAsb3BlbixwcmVsb2FkLHJlbCxyZXYscm9sZSxyb3dzLHJvd3NwYW4scnVsZXMsJyArXG4gICAgJ3Njb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzdGFydCxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsJyArXG4gICAgJ3ZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgnKTtcbi8vIEFjY2Vzc2liaWxpdHkgYXR0cmlidXRlcyBhcyBwZXIgV0FJLUFSSUEgMS4xIChXM0MgV29ya2luZyBEcmFmdCAxNCBEZWNlbWJlciAyMDE4KVxuY29uc3QgQVJJQV9BVFRSUyA9IHRhZ1NldCgnYXJpYS1hY3RpdmVkZXNjZW5kYW50LGFyaWEtYXRvbWljLGFyaWEtYXV0b2NvbXBsZXRlLGFyaWEtYnVzeSxhcmlhLWNoZWNrZWQsYXJpYS1jb2xjb3VudCxhcmlhLWNvbGluZGV4LCcgK1xuICAgICdhcmlhLWNvbHNwYW4sYXJpYS1jb250cm9scyxhcmlhLWN1cnJlbnQsYXJpYS1kZXNjcmliZWRieSxhcmlhLWRldGFpbHMsYXJpYS1kaXNhYmxlZCxhcmlhLWRyb3BlZmZlY3QsJyArXG4gICAgJ2FyaWEtZXJyb3JtZXNzYWdlLGFyaWEtZXhwYW5kZWQsYXJpYS1mbG93dG8sYXJpYS1ncmFiYmVkLGFyaWEtaGFzcG9wdXAsYXJpYS1oaWRkZW4sYXJpYS1pbnZhbGlkLCcgK1xuICAgICdhcmlhLWtleXNob3J0Y3V0cyxhcmlhLWxhYmVsLGFyaWEtbGFiZWxsZWRieSxhcmlhLWxldmVsLGFyaWEtbGl2ZSxhcmlhLW1vZGFsLGFyaWEtbXVsdGlsaW5lLCcgK1xuICAgICdhcmlhLW11bHRpc2VsZWN0YWJsZSxhcmlhLW9yaWVudGF0aW9uLGFyaWEtb3ducyxhcmlhLXBsYWNlaG9sZGVyLGFyaWEtcG9zaW5zZXQsYXJpYS1wcmVzc2VkLGFyaWEtcmVhZG9ubHksJyArXG4gICAgJ2FyaWEtcmVsZXZhbnQsYXJpYS1yZXF1aXJlZCxhcmlhLXJvbGVkZXNjcmlwdGlvbixhcmlhLXJvd2NvdW50LGFyaWEtcm93aW5kZXgsYXJpYS1yb3dzcGFuLGFyaWEtc2VsZWN0ZWQsJyArXG4gICAgJ2FyaWEtc2V0c2l6ZSxhcmlhLXNvcnQsYXJpYS12YWx1ZW1heCxhcmlhLXZhbHVlbWluLGFyaWEtdmFsdWVub3csYXJpYS12YWx1ZXRleHQnKTtcbi8vIE5COiBUaGlzIGN1cnJlbnRseSBjb25zY2lvdXNseSBkb2Vzbid0IHN1cHBvcnQgU1ZHLiBTVkcgc2FuaXRpemF0aW9uIGhhcyBoYWQgc2V2ZXJhbCBzZWN1cml0eVxuLy8gaXNzdWVzIGluIHRoZSBwYXN0LCBzbyBpdCBzZWVtcyBzYWZlciB0byBsZWF2ZSBpdCBvdXQgaWYgcG9zc2libGUuIElmIHN1cHBvcnQgZm9yIGJpbmRpbmcgU1ZHIHZpYVxuLy8gaW5uZXJIVE1MIGlzIHJlcXVpcmVkLCBTVkcgYXR0cmlidXRlcyBzaG91bGQgYmUgYWRkZWQgaGVyZS5cbi8vIE5COiBTYW5pdGl6YXRpb24gZG9lcyBub3QgYWxsb3cgPGZvcm0+IGVsZW1lbnRzIG9yIG90aGVyIGFjdGl2ZSBlbGVtZW50cyAoPGJ1dHRvbj4gZXRjKS4gVGhvc2Vcbi8vIGNhbiBiZSBzYW5pdGl6ZWQsIGJ1dCB0aGV5IGluY3JlYXNlIHNlY3VyaXR5IHN1cmZhY2UgYXJlYSB3aXRob3V0IGEgbGVnaXRpbWF0ZSB1c2UgY2FzZSwgc28gdGhleVxuLy8gYXJlIGxlZnQgb3V0IGhlcmUuXG5jb25zdCBWQUxJRF9BVFRSUyA9IG1lcmdlKFVSSV9BVFRSUywgU1JDU0VUX0FUVFJTLCBIVE1MX0FUVFJTLCBBUklBX0FUVFJTKTtcbi8vIEVsZW1lbnRzIHdob3NlIGNvbnRlbnQgc2hvdWxkIG5vdCBiZSB0cmF2ZXJzZWQvcHJlc2VydmVkLCBpZiB0aGUgZWxlbWVudHMgdGhlbXNlbHZlcyBhcmUgaW52YWxpZC5cbi8vXG4vLyBUeXBpY2FsbHksIGA8aW52YWxpZD5Tb21lIGNvbnRlbnQ8L2ludmFsaWQ+YCB3b3VsZCB0cmF2ZXJzZSAoYW5kIGluIHRoaXMgY2FzZSBwcmVzZXJ2ZSlcbi8vIGBTb21lIGNvbnRlbnRgLCBidXQgc3RyaXAgYGludmFsaWQtZWxlbWVudGAgb3BlbmluZy9jbG9zaW5nIHRhZ3MuIEZvciBzb21lIGVsZW1lbnRzLCB0aG91Z2gsIHdlXG4vLyBkb24ndCB3YW50IHRvIHByZXNlcnZlIHRoZSBjb250ZW50LCBpZiB0aGUgZWxlbWVudHMgdGhlbXNlbHZlcyBhcmUgZ29pbmcgdG8gYmUgcmVtb3ZlZC5cbmNvbnN0IFNLSVBfVFJBVkVSU0lOR19DT05URU5UX0lGX0lOVkFMSURfRUxFTUVOVFMgPSB0YWdTZXQoJ3NjcmlwdCxzdHlsZSx0ZW1wbGF0ZScpO1xuLyoqXG4gKiBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIgc2VyaWFsaXplcyBhIERPTSBmcmFnbWVudCwgc3RyaXBwaW5nIG91dCBhbnkgdW5zYWZlIGVsZW1lbnRzIGFuZCB1bnNhZmVcbiAqIGF0dHJpYnV0ZXMuXG4gKi9cbmNsYXNzIFNhbml0aXppbmdIdG1sU2VyaWFsaXplciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgdHJhY2sgaWYgc29tZXRoaW5nIHdhcyBzdHJpcHBlZCwgdG8gYXZvaWQgYWNjaWRlbnRhbGx5IHdhcm5pbmcgb2Ygc2FuaXRpemF0aW9uIGp1c3RcbiAgICAgICAgLy8gYmVjYXVzZSBjaGFyYWN0ZXJzIHdlcmUgcmUtZW5jb2RlZC5cbiAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICB9XG4gICAgc2FuaXRpemVDaGlsZHJlbihlbCkge1xuICAgICAgICAvLyBUaGlzIGNhbm5vdCB1c2UgYSBUcmVlV2Fsa2VyLCBhcyBpdCBoYXMgdG8gcnVuIG9uIEFuZ3VsYXIncyB2YXJpb3VzIERPTSBhZGFwdGVycy5cbiAgICAgICAgLy8gSG93ZXZlciB0aGlzIGNvZGUgbmV2ZXIgYWNjZXNzZXMgcHJvcGVydGllcyBvZmYgb2YgYGRvY3VtZW50YCBiZWZvcmUgZGVsZXRpbmcgaXRzIGNvbnRlbnRzXG4gICAgICAgIC8vIGFnYWluLCBzbyBpdCBzaG91bGRuJ3QgYmUgdnVsbmVyYWJsZSB0byBET00gY2xvYmJlcmluZy5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBlbC5maXJzdENoaWxkO1xuICAgICAgICBsZXQgdHJhdmVyc2VDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlQ29udGVudCA9IHRoaXMuc3RhcnRFbGVtZW50KGN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzKGN1cnJlbnQubm9kZVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFN0cmlwIG5vbi1lbGVtZW50LCBub24tdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJhdmVyc2VDb250ZW50ICYmIGN1cnJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIExlYXZpbmcgdGhlIGVsZW1lbnQuIFdhbGsgdXAgYW5kIHRvIHRoZSByaWdodCwgY2xvc2luZyB0YWdzIGFzIHdlIGdvLlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEVsZW1lbnQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoY3VycmVudCwgY3VycmVudC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoY3VycmVudCwgY3VycmVudC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWYuam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbml0aXplcyBhbiBvcGVuaW5nIGVsZW1lbnQgdGFnIChpZiB2YWxpZCkgYW5kIHJldHVybnMgd2hldGhlciB0aGUgZWxlbWVudCdzIGNvbnRlbnRzIHNob3VsZFxuICAgICAqIGJlIHRyYXZlcnNlZC4gRWxlbWVudCBjb250ZW50IG11c3QgYWx3YXlzIGJlIHRyYXZlcnNlZCAoZXZlbiBpZiB0aGUgZWxlbWVudCBpdHNlbGYgaXMgbm90XG4gICAgICogdmFsaWQvc2FmZSksIHVubGVzcyB0aGUgZWxlbWVudCBpcyBvbmUgb2YgYFNLSVBfVFJBVkVSU0lOR19DT05URU5UX0lGX0lOVkFMSURfRUxFTUVOVFNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2FuaXRpemUuXG4gICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBlbGVtZW50J3MgY29udGVudHMgc2hvdWxkIGJlIHRyYXZlcnNlZC5cbiAgICAgKi9cbiAgICBzdGFydEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIVZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gIVNLSVBfVFJBVkVSU0lOR19DT05URU5UX0lGX0lOVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYucHVzaCgnPCcpO1xuICAgICAgICB0aGlzLmJ1Zi5wdXNoKHRhZ05hbWUpO1xuICAgICAgICBjb25zdCBlbEF0dHJzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsQXR0ciA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gZWxBdHRyLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBsb3dlciA9IGF0dHJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoIVZBTElEX0FUVFJTLmhhc093blByb3BlcnR5KGxvd2VyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsQXR0ci52YWx1ZTtcbiAgICAgICAgICAgIC8vIFRPRE8obWFydGlucHJvYnN0KTogU3BlY2lhbCBjYXNlIGltYWdlIFVSSXMgZm9yIGRhdGE6aW1hZ2UvLi4uXG4gICAgICAgICAgICBpZiAoVVJJX0FUVFJTW2xvd2VyXSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9zYW5pdGl6ZVVybCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoU1JDU0VUX0FUVFJTW2xvd2VyXSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNhbml0aXplU3Jjc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2goJyAnLCBhdHRyTmFtZSwgJz1cIicsIGVuY29kZUVudGl0aWVzKHZhbHVlKSwgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYucHVzaCgnPicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZW5kRWxlbWVudChjdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBjdXJyZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSAmJiAhVk9JRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnPC8nKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2godGFnTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhcnMoY2hhcnMpIHtcbiAgICAgICAgdGhpcy5idWYucHVzaChlbmNvZGVFbnRpdGllcyhjaGFycykpO1xuICAgIH1cbiAgICBjaGVja0Nsb2JiZXJlZEVsZW1lbnQobm9kZSwgbmV4dE5vZGUpIHtcbiAgICAgICAgaWYgKG5leHROb2RlICYmXG4gICAgICAgICAgICAobm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0Tm9kZSkgJlxuICAgICAgICAgICAgICAgIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKSA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgZWxlbWVudCBpcyBjbG9iYmVyZWQ6ICR7bm9kZS5vdXRlckhUTUx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xuICAgIH1cbn1cbi8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlc1xuY29uc3QgU1VSUk9HQVRFX1BBSVJfUkVHRVhQID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZztcbi8vICEgdG8gfiBpcyB0aGUgQVNDSUkgcmFuZ2UuXG5jb25zdCBOT05fQUxQSEFOVU1FUklDX1JFR0VYUCA9IC8oW15cXCMtfiB8IV0pL2c7XG4vKipcbiAqIEVzY2FwZXMgYWxsIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLCBzbyB0aGF0IHRoZVxuICogcmVzdWx0aW5nIHN0cmluZyBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYXR0cmlidXRlIG9yXG4gKiBlbGVtZW50IHRleHQuXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gZW5jb2RlRW50aXRpZXModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZShTVVJST0dBVEVfUEFJUl9SRUdFWFAsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICBjb25zdCBoaSA9IG1hdGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGNvbnN0IGxvdyA9IG1hdGNoLmNoYXJDb2RlQXQoMSk7XG4gICAgICAgIHJldHVybiAnJiMnICsgKCgoaGkgLSAweEQ4MDApICogMHg0MDApICsgKGxvdyAtIDB4REMwMCkgKyAweDEwMDAwKSArICc7JztcbiAgICB9KVxuICAgICAgICAucmVwbGFjZShOT05fQUxQSEFOVU1FUklDX1JFR0VYUCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiAnJiMnICsgbWF0Y2guY2hhckNvZGVBdCgwKSArICc7JztcbiAgICB9KVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG5sZXQgaW5lcnRCb2R5SGVscGVyO1xuLyoqXG4gKiBTYW5pdGl6ZXMgdGhlIGdpdmVuIHVuc2FmZSwgdW50cnVzdGVkIEhUTUwgZnJhZ21lbnQsIGFuZCByZXR1cm5zIEhUTUwgdGV4dCB0aGF0IGlzIHNhZmUgdG8gYWRkIHRvXG4gKiB0aGUgRE9NIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAqL1xuZnVuY3Rpb24gX3Nhbml0aXplSHRtbChkZWZhdWx0RG9jLCB1bnNhZmVIdG1sSW5wdXQpIHtcbiAgICBsZXQgaW5lcnRCb2R5RWxlbWVudCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5lcnRCb2R5SGVscGVyID0gaW5lcnRCb2R5SGVscGVyIHx8IGdldEluZXJ0Qm9keUhlbHBlcihkZWZhdWx0RG9jKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHVuc2FmZUh0bWwgaXMgYWN0dWFsbHkgYSBzdHJpbmcgKFR5cGVTY3JpcHQgdHlwZXMgYXJlIG5vdCBlbmZvcmNlZCBhdCBydW50aW1lKS5cbiAgICAgICAgbGV0IHVuc2FmZUh0bWwgPSB1bnNhZmVIdG1sSW5wdXQgPyBTdHJpbmcodW5zYWZlSHRtbElucHV0KSA6ICcnO1xuICAgICAgICBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlSHRtbCk7XG4gICAgICAgIC8vIG1YU1MgcHJvdGVjdGlvbi4gUmVwZWF0ZWRseSBwYXJzZSB0aGUgZG9jdW1lbnQgdG8gbWFrZSBzdXJlIGl0IHN0YWJpbGl6ZXMsIHNvIHRoYXQgYSBicm93c2VyXG4gICAgICAgIC8vIHRyeWluZyB0byBhdXRvLWNvcnJlY3QgaW5jb3JyZWN0IEhUTUwgY2Fubm90IGNhdXNlIGZvcm1lcmx5IGluZXJ0IEhUTUwgdG8gYmVjb21lIGRhbmdlcm91cy5cbiAgICAgICAgbGV0IG1YU1NBdHRlbXB0cyA9IDU7XG4gICAgICAgIGxldCBwYXJzZWRIdG1sID0gdW5zYWZlSHRtbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKG1YU1NBdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1YU1NBdHRlbXB0cy0tO1xuICAgICAgICAgICAgdW5zYWZlSHRtbCA9IHBhcnNlZEh0bWw7XG4gICAgICAgICAgICBwYXJzZWRIdG1sID0gaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlSHRtbCk7XG4gICAgICAgIH0gd2hpbGUgKHVuc2FmZUh0bWwgIT09IHBhcnNlZEh0bWwpO1xuICAgICAgICBjb25zdCBzYW5pdGl6ZXIgPSBuZXcgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyKCk7XG4gICAgICAgIGNvbnN0IHNhZmVIdG1sID0gc2FuaXRpemVyLnNhbml0aXplQ2hpbGRyZW4oZ2V0VGVtcGxhdGVDb250ZW50KGluZXJ0Qm9keUVsZW1lbnQpIHx8IGluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICBpZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgc2FuaXRpemVyLnNhbml0aXplZFNvbWV0aGluZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBzYW5pdGl6aW5nIEhUTUwgc3RyaXBwZWQgc29tZSBjb250ZW50LCBzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmcoc2FmZUh0bWwpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgLy8gSW4gY2FzZSBhbnl0aGluZyBnb2VzIHdyb25nLCBjbGVhciBvdXQgaW5lcnRFbGVtZW50IHRvIHJlc2V0IHRoZSBlbnRpcmUgRE9NIHN0cnVjdHVyZS5cbiAgICAgICAgaWYgKGluZXJ0Qm9keUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRlbXBsYXRlQ29udGVudChlbCkge1xuICAgIHJldHVybiAnY29udGVudCcgaW4gZWwgLyoqIE1pY3Jvc29mdC9UeXBlU2NyaXB0IzIxNTE3ICovICYmIGlzVGVtcGxhdGVFbGVtZW50KGVsKSA/XG4gICAgICAgIGVsLmNvbnRlbnQgOlxuICAgICAgICBudWxsO1xufVxuZnVuY3Rpb24gaXNUZW1wbGF0ZUVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVsLm5vZGVOYW1lID09PSAnVEVNUExBVEUnO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBTZWN1cml0eUNvbnRleHQgbWFya3MgYSBsb2NhdGlvbiB0aGF0IGhhcyBkYW5nZXJvdXMgc2VjdXJpdHkgaW1wbGljYXRpb25zLCBlLmcuIGEgRE9NIHByb3BlcnR5XG4gKiBsaWtlIGBpbm5lckhUTUxgIHRoYXQgY291bGQgY2F1c2UgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmcgKFhTUykgc2VjdXJpdHkgYnVncyB3aGVuIGltcHJvcGVybHlcbiAqIGhhbmRsZWQuXG4gKlxuICogU2VlIERvbVNhbml0aXplciBmb3IgbW9yZSBkZXRhaWxzIG9uIHNlY3VyaXR5IGluIEFuZ3VsYXIgYXBwbGljYXRpb25zLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFNlY3VyaXR5Q29udGV4dDtcbihmdW5jdGlvbiAoU2VjdXJpdHlDb250ZXh0KSB7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJIVE1MXCJdID0gMV0gPSBcIkhUTUxcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiU1RZTEVcIl0gPSAyXSA9IFwiU1RZTEVcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiU0NSSVBUXCJdID0gM10gPSBcIlNDUklQVFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJVUkxcIl0gPSA0XSA9IFwiVVJMXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlJFU09VUkNFX1VSTFwiXSA9IDVdID0gXCJSRVNPVVJDRV9VUkxcIjtcbn0pKFNlY3VyaXR5Q29udGV4dCB8fCAoU2VjdXJpdHlDb250ZXh0ID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGBodG1sYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGBodG1sYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91cyBjb250ZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGUgYGh0bWxgIGFuZCBsb2NhdGVzIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjb250ZW50IChzdWNoIGFzIHVybHMgYW5kXG4gKiBqYXZhc2NyaXB0KSBhbmQgcmVtb3ZlcyBpdC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RIdG1sfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlSHRtbCB1bnRydXN0ZWQgYGh0bWxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGBodG1sYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBkaXNwbGF5IHRvIHVzZXIsIGJlY2F1c2UgYWxsIG9mIHRoZSBkYW5nZXJvdXMgamF2YXNjcmlwdFxuICogYW5kIHVybHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplSHRtbCh1bnNhZmVIdG1sKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuSFRNTCwgdW5zYWZlSHRtbCkgfHwgJycpO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVIdG1sLCBcIkhUTUxcIiAvKiBIdG1sICovKSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVIdG1sKSk7XG4gICAgfVxuICAgIHJldHVybiBfc2FuaXRpemVIdG1sKGdldERvY3VtZW50KCksIHJlbmRlclN0cmluZ2lmeSh1bnNhZmVIdG1sKSk7XG59XG4vKipcbiAqIEEgYHN0eWxlYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGBzdHlsZWAgKipzdHJpbmcqKiBpbnRvIHRydXN0ZWQgc3RyaW5nIGJ5IHJlbW92aW5nXG4gKiBkYW5nZXJvdXMgY29udGVudC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZX0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVN0eWxlIHVudHJ1c3RlZCBgc3R5bGVgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGBzdHlsZWAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHN0eWxlYCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVN0eWxlKHVuc2FmZVN0eWxlKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5TVFlMRSwgdW5zYWZlU3R5bGUpIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVTdHlsZSwgXCJTdHlsZVwiIC8qIFN0eWxlICovKSkge1xuICAgICAgICByZXR1cm4gdW53cmFwU2FmZVZhbHVlKHVuc2FmZVN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclN0cmluZ2lmeSh1bnNhZmVTdHlsZSk7XG59XG4vKipcbiAqIEEgYHVybGAgc2FuaXRpemVyIHdoaWNoIGNvbnZlcnRzIHVudHJ1c3RlZCBgdXJsYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91c1xuICogY29udGVudC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBwYXJzZXMgdGhlIGB1cmxgIGFuZCBsb2NhdGVzIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjb250ZW50IChzdWNoIGFzIGphdmFzY3JpcHQpIGFuZFxuICogcmVtb3ZlcyBpdC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmx9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVVcmwgdW50cnVzdGVkIGB1cmxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGBzcmNgIHByb3BlcnRpZXMgc3VjaCBhcyBgPGltZyBzcmM+YCwgYmVjYXVzZVxuICogYWxsIG9mIHRoZSBkYW5nZXJvdXMgamF2YXNjcmlwdCBoYXMgYmVlbiByZW1vdmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVVybCh1bnNhZmVVcmwpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlVSTCwgdW5zYWZlVXJsKSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlVXJsLCBcIlVSTFwiIC8qIFVybCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVVcmwpO1xuICAgIH1cbiAgICByZXR1cm4gX3Nhbml0aXplVXJsKHJlbmRlclN0cmluZ2lmeSh1bnNhZmVVcmwpKTtcbn1cbi8qKlxuICogQSBgdXJsYCBzYW5pdGl6ZXIgd2hpY2ggb25seSBsZXRzIHRydXN0ZWQgYHVybGBzIHRocm91Z2guXG4gKlxuICogVGhpcyBwYXNzZXMgb25seSBgdXJsYHMgbWFya2VkIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVJlc291cmNlVXJsIHVudHJ1c3RlZCBgdXJsYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgc3JjYCBwcm9wZXJ0aWVzIHN1Y2ggYXMgYDxpbWcgc3JjPmAsIGJlY2F1c2VcbiAqIG9ubHkgdHJ1c3RlZCBgdXJsYHMgaGF2ZSBiZWVuIGFsbG93ZWQgdG8gcGFzcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVSZXNvdXJjZVVybCh1bnNhZmVSZXNvdXJjZVVybCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nQnlwYXNzKHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuUkVTT1VSQ0VfVVJMLCB1bnNhZmVSZXNvdXJjZVVybCkgfHwgJycpO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVSZXNvdXJjZVVybCwgXCJSZXNvdXJjZVVSTFwiIC8qIFJlc291cmNlVXJsICovKSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3ModW53cmFwU2FmZVZhbHVlKHVuc2FmZVJlc291cmNlVXJsKSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgJ3Vuc2FmZSB2YWx1ZSB1c2VkIGluIGEgcmVzb3VyY2UgVVJMIGNvbnRleHQgKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKScgOlxuICAgICAgICAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwNCAvKiBVTlNBRkVfVkFMVUVfSU5fUkVTT1VSQ0VfVVJMICovLCBlcnJvck1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBIGBzY3JpcHRgIHNhbml0aXplciB3aGljaCBvbmx5IGxldHMgdHJ1c3RlZCBqYXZhc2NyaXB0IHRocm91Z2guXG4gKlxuICogVGhpcyBwYXNzZXMgb25seSBgc2NyaXB0YHMgbWFya2VkIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmtcbiAqIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0fS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlU2NyaXB0IHVudHJ1c3RlZCBgc2NyaXB0YCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgPHNjcmlwdD5gIGVsZW1lbnQgc3VjaCBhcyBgPGltZyBzcmM+YCxcbiAqIGJlY2F1c2Ugb25seSB0cnVzdGVkIGBzY3JpcHRzYCBoYXZlIGJlZW4gYWxsb3dlZCB0byBwYXNzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVNjcmlwdCh1bnNhZmVTY3JpcHQpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZ0J5cGFzcyhzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlNDUklQVCwgdW5zYWZlU2NyaXB0KSB8fCAnJyk7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVNjcmlwdCwgXCJTY3JpcHRcIiAvKiBTY3JpcHQgKi8pKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZ0J5cGFzcyh1bndyYXBTYWZlVmFsdWUodW5zYWZlU2NyaXB0KSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgJ3Vuc2FmZSB2YWx1ZSB1c2VkIGluIGEgc2NyaXB0IGNvbnRleHQnIDpcbiAgICAgICAgJyc7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDUgLyogVU5TQUZFX1ZBTFVFX0lOX1NDUklQVCAqLywgZXJyb3JNZXNzYWdlKTtcbn1cbi8qKlxuICogQSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb24gZm9yIHByb21vdGluZyB0aGUgYXNzb2NpYXRlZCBjb25zdGFudCBsaXRlcmFsIHRvIGFcbiAqIFRydXN0ZWRIVE1MLiBJbnRlcnBvbGF0aW9uIGlzIGV4cGxpY2l0bHkgbm90IGFsbG93ZWQuXG4gKlxuICogQHBhcmFtIGh0bWwgY29uc3RhbnQgdGVtcGxhdGUgbGl0ZXJhbCBjb250YWluaW5nIHRydXN0ZWQgSFRNTC5cbiAqIEByZXR1cm5zIFRydXN0ZWRIVE1MIHdyYXBwaW5nIGBodG1sYC5cbiAqXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbiBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZCB0b1xuICogY29udmVydCBjb25zdGFudCB2YWx1ZXMgb2YgYXR0cmlidXRlcyBhbmQgcHJvcGVydGllcyBmb3VuZCBpblxuICogYXBwbGljYXRpb24tcHJvdmlkZWQgQW5ndWxhciB0ZW1wbGF0ZXMgdG8gVHJ1c3RlZEhUTUwuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRydXN0Q29uc3RhbnRIdG1sKGh0bWwpIHtcbiAgICAvLyBUaGUgZm9sbG93aW5nIHJ1bnRpbWUgY2hlY2sgZW5zdXJlcyB0aGF0IHRoZSBmdW5jdGlvbiB3YXMgY2FsbGVkIGFzIGFcbiAgICAvLyB0ZW1wbGF0ZSB0YWcgKGUuZy4gybXJtXRydXN0Q29uc3RhbnRIdG1sYGNvbnRlbnRgKSwgd2l0aG91dCBhbnkgaW50ZXJwb2xhdGlvblxuICAgIC8vIChlLmcuIG5vdCDJtcm1dHJ1c3RDb25zdGFudEh0bWxgY29udGVudCAke3ZhcmlhYmxlfWApLiBBIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gICAgLy8gaXMgYW4gYXJyYXkgd2l0aCBhIGByYXdgIHByb3BlcnR5IHRoYXQgaXMgYWxzbyBhbiBhcnJheS4gVGhlIGFzc29jaWF0ZWRcbiAgICAvLyB0ZW1wbGF0ZSBsaXRlcmFsIGhhcyBubyBpbnRlcnBvbGF0aW9uIGlmIGFuZCBvbmx5IGlmIHRoZSBsZW5ndGggb2YgdGhlXG4gICAgLy8gVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgMS5cbiAgICBpZiAobmdEZXZNb2RlICYmICghQXJyYXkuaXNBcnJheShodG1sKSB8fCAhQXJyYXkuaXNBcnJheShodG1sLnJhdykgfHwgaHRtbC5sZW5ndGggIT09IDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnRlcnBvbGF0aW9uIGluIHRydXN0ZWQgSFRNTCBjb25zdGFudDogJHtodG1sLmpvaW4oJz8nKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydXN0ZWRIVE1MRnJvbVN0cmluZyhodG1sWzBdKTtcbn1cbi8qKlxuICogQSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb24gZm9yIHByb21vdGluZyB0aGUgYXNzb2NpYXRlZCBjb25zdGFudCBsaXRlcmFsIHRvIGFcbiAqIFRydXN0ZWRTY3JpcHRVUkwuIEludGVycG9sYXRpb24gaXMgZXhwbGljaXRseSBub3QgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0gdXJsIGNvbnN0YW50IHRlbXBsYXRlIGxpdGVyYWwgY29udGFpbmluZyBhIHRydXN0ZWQgc2NyaXB0IFVSTC5cbiAqIEByZXR1cm5zIFRydXN0ZWRTY3JpcHRVUkwgd3JhcHBpbmcgYHVybGAuXG4gKlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb24gYW5kIHNob3VsZCBvbmx5IGJlIHVzZWQgdG9cbiAqIGNvbnZlcnQgY29uc3RhbnQgdmFsdWVzIG9mIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXMgZm91bmQgaW5cbiAqIGFwcGxpY2F0aW9uLXByb3ZpZGVkIEFuZ3VsYXIgdGVtcGxhdGVzIHRvIFRydXN0ZWRTY3JpcHRVUkwuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCh1cmwpIHtcbiAgICAvLyBUaGUgZm9sbG93aW5nIHJ1bnRpbWUgY2hlY2sgZW5zdXJlcyB0aGF0IHRoZSBmdW5jdGlvbiB3YXMgY2FsbGVkIGFzIGFcbiAgICAvLyB0ZW1wbGF0ZSB0YWcgKGUuZy4gybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybGBjb250ZW50YCksIHdpdGhvdXQgYW55XG4gICAgLy8gaW50ZXJwb2xhdGlvbiAoZS5nLiBub3QgybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybGBjb250ZW50ICR7dmFyaWFibGV9YCkuIEFcbiAgICAvLyBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyBhbiBhcnJheSB3aXRoIGEgYHJhd2AgcHJvcGVydHkgdGhhdCBpcyBhbHNvIGFuXG4gICAgLy8gYXJyYXkuIFRoZSBhc3NvY2lhdGVkIHRlbXBsYXRlIGxpdGVyYWwgaGFzIG5vIGludGVycG9sYXRpb24gaWYgYW5kIG9ubHkgaWZcbiAgICAvLyB0aGUgbGVuZ3RoIG9mIHRoZSBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyAxLlxuICAgIGlmIChuZ0Rldk1vZGUgJiYgKCFBcnJheS5pc0FycmF5KHVybCkgfHwgIUFycmF5LmlzQXJyYXkodXJsLnJhdykgfHwgdXJsLmxlbmd0aCAhPT0gMSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGludGVycG9sYXRpb24gaW4gdHJ1c3RlZCBVUkwgY29uc3RhbnQ6ICR7dXJsLmpvaW4oJz8nKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nKHVybFswXSk7XG59XG4vKipcbiAqIERldGVjdHMgd2hpY2ggc2FuaXRpemVyIHRvIHVzZSBmb3IgVVJMIHByb3BlcnR5LCBiYXNlZCBvbiB0YWcgbmFtZSBhbmQgcHJvcCBuYW1lLlxuICpcbiAqIFRoZSBydWxlcyBhcmUgYmFzZWQgb24gdGhlIFJFU09VUkNFX1VSTCBjb250ZXh0IGNvbmZpZyBmcm9tXG4gKiBgcGFja2FnZXMvY29tcGlsZXIvc3JjL3NjaGVtYS9kb21fc2VjdXJpdHlfc2NoZW1hLnRzYC5cbiAqIElmIHRhZyBhbmQgcHJvcCBuYW1lcyBkb24ndCBtYXRjaCBSZXNvdXJjZSBVUkwgc2NoZW1hLCB1c2UgVVJMIHNhbml0aXplci5cbiAqL1xuZnVuY3Rpb24gZ2V0VXJsU2FuaXRpemVyKHRhZywgcHJvcCkge1xuICAgIGlmICgocHJvcCA9PT0gJ3NyYycgJiZcbiAgICAgICAgKHRhZyA9PT0gJ2VtYmVkJyB8fCB0YWcgPT09ICdmcmFtZScgfHwgdGFnID09PSAnaWZyYW1lJyB8fCB0YWcgPT09ICdtZWRpYScgfHxcbiAgICAgICAgICAgIHRhZyA9PT0gJ3NjcmlwdCcpKSB8fFxuICAgICAgICAocHJvcCA9PT0gJ2hyZWYnICYmICh0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdsaW5rJykpKSB7XG4gICAgICAgIHJldHVybiDJtcm1c2FuaXRpemVSZXNvdXJjZVVybDtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVzYW5pdGl6ZVVybDtcbn1cbi8qKlxuICogU2FuaXRpemVzIFVSTCwgc2VsZWN0aW5nIHNhbml0aXplciBmdW5jdGlvbiBiYXNlZCBvbiB0YWcgYW5kIHByb3BlcnR5IG5hbWVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBpbiBjYXNlIHdlIGNhbid0IGRlZmluZSBzZWN1cml0eSBjb250ZXh0IGF0IGNvbXBpbGUgdGltZSwgd2hlbiBvbmx5IHByb3BcbiAqIG5hbWUgaXMgYXZhaWxhYmxlLiBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBnZW5lcmF0ZSBob3N0IGJpbmRpbmdzIGZvciBEaXJlY3RpdmVzL0NvbXBvbmVudHMuIFRoZVxuICogaG9zdCBlbGVtZW50IGlzIHVua25vd24gYXQgY29tcGlsZSB0aW1lLCBzbyB3ZSBkZWZlciBjYWxjdWxhdGlvbiBvZiBzcGVjaWZpYyBzYW5pdGl6ZXIgdG9cbiAqIHJ1bnRpbWUuXG4gKlxuICogQHBhcmFtIHVuc2FmZVVybCB1bnRydXN0ZWQgYHVybGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHBhcmFtIHRhZyB0YXJnZXQgZWxlbWVudCB0YWcgbmFtZS5cbiAqIEBwYXJhbSBwcm9wIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgY29udGFpbnMgdGhlIHZhbHVlLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVVcmxPclJlc291cmNlVXJsKHVuc2FmZVVybCwgdGFnLCBwcm9wKSB7XG4gICAgcmV0dXJuIGdldFVybFNhbml0aXplcih0YWcsIHByb3ApKHVuc2FmZVVybCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFnYWluc3RFdmVudFByb3BlcnRpZXMobmFtZSkge1xuICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnb24nKSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgQmluZGluZyB0byBldmVudCBwcm9wZXJ0eSAnJHtuYW1lfScgaXMgZGlzYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgYCArXG4gICAgICAgICAgICBgcGxlYXNlIHVzZSAoJHtuYW1lLnNsaWNlKDIpfSk9Li4uYCArXG4gICAgICAgICAgICBgXFxuSWYgJyR7bmFtZX0nIGlzIGEgZGlyZWN0aXZlIGlucHV0LCBtYWtlIHN1cmUgdGhlIGRpcmVjdGl2ZSBpcyBpbXBvcnRlZCBieSB0aGVgICtcbiAgICAgICAgICAgIGAgY3VycmVudCBtb2R1bGUuYDtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigzMDYgLyogSU5WQUxJRF9FVkVOVF9CSU5ESU5HICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQWdhaW5zdEV2ZW50QXR0cmlidXRlcyhuYW1lKSB7XG4gICAgaWYgKG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdvbicpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBCaW5kaW5nIHRvIGV2ZW50IGF0dHJpYnV0ZSAnJHtuYW1lfScgaXMgZGlzYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgYCArXG4gICAgICAgICAgICBgcGxlYXNlIHVzZSAoJHtuYW1lLnNsaWNlKDIpfSk9Li4uYDtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigzMDYgLyogSU5WQUxJRF9FVkVOVF9CSU5ESU5HICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFNhbml0aXplcigpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgcmV0dXJuIGxWaWV3ICYmIGxWaWV3W1NBTklUSVpFUl07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXRjaGluZyBgTENvbnRleHRgIGRhdGEgZm9yIGEgZ2l2ZW4gRE9NIG5vZGUsIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGV4YW1pbmUgdGhlIHByb3ZpZGVkIERPTSBlbGVtZW50LCBjb21wb25lbnQsIG9yIGRpcmVjdGl2ZSBpbnN0YW5jZVxcJ3NcbiAqIG1vbmtleS1wYXRjaGVkIHByb3BlcnR5IHRvIGRlcml2ZSB0aGUgYExDb250ZXh0YCBkYXRhLiBPbmNlIGNhbGxlZCB0aGVuIHRoZSBtb25rZXktcGF0Y2hlZFxuICogdmFsdWUgd2lsbCBiZSB0aGF0IG9mIHRoZSBuZXdseSBjcmVhdGVkIGBMQ29udGV4dGAuXG4gKlxuICogSWYgdGhlIG1vbmtleS1wYXRjaGVkIHZhbHVlIGlzIHRoZSBgTFZpZXdgIGluc3RhbmNlIHRoZW4gdGhlIGNvbnRleHQgdmFsdWUgZm9yIHRoYXRcbiAqIHRhcmdldCB3aWxsIGJlIGNyZWF0ZWQgYW5kIHRoZSBtb25rZXktcGF0Y2ggcmVmZXJlbmNlIHdpbGwgYmUgdXBkYXRlZC4gVGhlcmVmb3JlIHdoZW4gdGhpc1xuICogZnVuY3Rpb24gaXMgY2FsbGVkIGl0IG1heSBtdXRhdGUgdGhlIHByb3ZpZGVkIGVsZW1lbnRcXCdzLCBjb21wb25lbnRcXCdzIG9yIGFueSBvZiB0aGUgYXNzb2NpYXRlZFxuICogZGlyZWN0aXZlXFwncyBtb25rZXktcGF0Y2ggdmFsdWVzLlxuICpcbiAqIElmIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgaXMgbm90IGRldGVjdGVkIHRoZW4gdGhlIGNvZGUgd2lsbCB3YWxrIHVwIHRoZSBET00gdW50aWwgYW4gZWxlbWVudFxuICogaXMgZm91bmQgd2hpY2ggY29udGFpbnMgYSBtb25rZXktcGF0Y2ggcmVmZXJlbmNlLiBXaGVuIHRoYXQgb2NjdXJzIHRoZW4gdGhlIHByb3ZpZGVkIGVsZW1lbnRcbiAqIHdpbGwgYmUgdXBkYXRlZCB3aXRoIGEgbmV3IGNvbnRleHQgKHdoaWNoIGlzIHRoZW4gcmV0dXJuZWQpLiBJZiB0aGUgbW9ua2V5LXBhdGNoIHZhbHVlIGlzIG5vdFxuICogZGV0ZWN0ZWQgZm9yIGEgY29tcG9uZW50L2RpcmVjdGl2ZSBpbnN0YW5jZSB0aGVuIGl0IHdpbGwgdGhyb3cgYW4gZXJyb3IgKGFsbCBjb21wb25lbnRzIGFuZFxuICogZGlyZWN0aXZlcyBzaG91bGQgYmUgYXV0b21hdGljYWxseSBtb25rZXktcGF0Y2hlZCBieSBpdnkpLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgQ29tcG9uZW50LCBEaXJlY3RpdmUgb3IgRE9NIE5vZGUuXG4gKi9cbmZ1bmN0aW9uIGdldExDb250ZXh0KHRhcmdldCkge1xuICAgIGxldCBtcFZhbHVlID0gcmVhZFBhdGNoZWREYXRhKHRhcmdldCk7XG4gICAgaWYgKG1wVmFsdWUpIHtcbiAgICAgICAgLy8gb25seSB3aGVuIGl0J3MgYW4gYXJyYXkgaXMgaXQgY29uc2lkZXJlZCBhbiBMVmlldyBpbnN0YW5jZVxuICAgICAgICAvLyAuLi4gb3RoZXJ3aXNlIGl0J3MgYW4gYWxyZWFkeSBjb25zdHJ1Y3RlZCBMQ29udGV4dCBpbnN0YW5jZVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtcFZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgbFZpZXcgPSBtcFZhbHVlO1xuICAgICAgICAgICAgbGV0IG5vZGVJbmRleDtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aXZlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgY29tcG9uZW50IHdhcyBub3QgZm91bmQgaW4gdGhlIGFwcGxpY2F0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGlyZWN0aXZlSW5zdGFuY2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFEaXJlY3RpdmUobFZpZXcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBkaXJlY3RpdmUgd2FzIG5vdCBmb3VuZCBpbiB0aGUgYXBwbGljYXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGdldERpcmVjdGl2ZXNBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoZSBnb2FsIGlzIG5vdCB0byBmaWxsIHRoZSBlbnRpcmUgY29udGV4dCBmdWxsIG9mIGRhdGEgYmVjYXVzZSB0aGUgbG9va3Vwc1xuICAgICAgICAgICAgLy8gYXJlIGV4cGVuc2l2ZS4gSW5zdGVhZCwgb25seSB0aGUgdGFyZ2V0IGRhdGEgKHRoZSBlbGVtZW50LCBjb21wb25lbnQsIGNvbnRhaW5lciwgSUNVXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uIG9yIGRpcmVjdGl2ZSBkZXRhaWxzKSBhcmUgZmlsbGVkIGludG8gdGhlIGNvbnRleHQuIElmIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgdGFyZ2V0IHZhbHVlcyB0aGVuIHRoZSBtaXNzaW5nIHRhcmdldCBkYXRhIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUobFZpZXdbbm9kZUluZGV4XSk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0N0eCA9IHJlYWRQYXRjaGVkRGF0YShuYXRpdmUpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IChleGlzdGluZ0N0eCAmJiAhQXJyYXkuaXNBcnJheShleGlzdGluZ0N0eCkpID9cbiAgICAgICAgICAgICAgICBleGlzdGluZ0N0eCA6XG4gICAgICAgICAgICAgICAgY3JlYXRlTENvbnRleHQobFZpZXcsIG5vZGVJbmRleCwgbmF0aXZlKTtcbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIGRpc2NvdmVyZWQgdGhlbiB1cGRhdGUgdGhlIG1vbmtleS1wYXRjaFxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb250ZXh0LmNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbnRleHQuY29tcG9uZW50LCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gZGlzY292ZXJlZCB0aGVuIHVwZGF0ZSB0aGUgbW9ua2V5LXBhdGNoXG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlcyAmJiBjb250ZXh0LmRpcmVjdGl2ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShkaXJlY3RpdmVzW2ldLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5uYXRpdmUsIGNvbnRleHQpO1xuICAgICAgICAgICAgbXBWYWx1ZSA9IGNvbnRleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJFbGVtZW50ID0gdGFyZ2V0O1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShyRWxlbWVudCk7XG4gICAgICAgIC8vIGlmIHRoZSBjb250ZXh0IGlzIG5vdCBmb3VuZCB0aGVuIHdlIG5lZWQgdG8gdHJhdmVyc2UgdXB3YXJkcyB1cCB0aGUgRE9NXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIG5lYXJlc3QgZWxlbWVudCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gbW9ua2V5IHBhdGNoZWQgd2l0aCBkYXRhXG4gICAgICAgIGxldCBwYXJlbnQgPSByRWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRDb250ZXh0ID0gcmVhZFBhdGNoZWREYXRhKHBhcmVudCk7XG4gICAgICAgICAgICBpZiAocGFyZW50Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGxldCBsVmlldztcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnRDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IHBhcmVudENvbnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IHBhcmVudENvbnRleHQubFZpZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSBlZGdlIG9mIHRoZSBhcHAgd2FzIGFsc28gcmVhY2hlZCBoZXJlIHRocm91Z2ggYW5vdGhlciBtZWFuc1xuICAgICAgICAgICAgICAgIC8vIChtYXliZSBiZWNhdXNlIHRoZSBET00gd2FzIGNoYW5nZWQgbWFudWFsbHkpLlxuICAgICAgICAgICAgICAgIGlmICghbFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZmluZFZpYU5hdGl2ZUVsZW1lbnQobFZpZXcsIHJFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShsVmlld1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlTENvbnRleHQobFZpZXcsIGluZGV4LCBuYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgbXBWYWx1ZSA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbXBWYWx1ZSB8fCBudWxsO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGVtcHR5IGluc3RhbmNlIG9mIGEgYExDb250ZXh0YCBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBub2RlSW5kZXgsIG5hdGl2ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxWaWV3LFxuICAgICAgICBub2RlSW5kZXgsXG4gICAgICAgIG5hdGl2ZSxcbiAgICAgICAgY29tcG9uZW50OiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdGl2ZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9jYWxSZWZzOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogVGFrZXMgYSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIHJldHVybnMgdGhlIHZpZXcgZm9yIHRoYXQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRJbnN0YW5jZVxuICogQHJldHVybnMgVGhlIGNvbXBvbmVudCdzIHZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBsZXQgbFZpZXcgPSByZWFkUGF0Y2hlZERhdGEoY29tcG9uZW50SW5zdGFuY2UpO1xuICAgIGxldCB2aWV3O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxWaWV3KSkge1xuICAgICAgICBjb25zdCBub2RlSW5kZXggPSBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCBjb21wb25lbnRJbnN0YW5jZSk7XG4gICAgICAgIHZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgobm9kZUluZGV4LCBsVmlldyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVMQ29udGV4dChsVmlldywgbm9kZUluZGV4LCB2aWV3W0hPU1RdKTtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBjb21wb25lbnRJbnN0YW5jZTtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbXBvbmVudEluc3RhbmNlLCBjb250ZXh0KTtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbnRleHQubmF0aXZlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBsVmlldztcbiAgICAgICAgdmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChjb250ZXh0Lm5vZGVJbmRleCwgY29udGV4dC5sVmlldyk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3O1xufVxuLyoqXG4gKiBUaGlzIHByb3BlcnR5IHdpbGwgYmUgbW9ua2V5LXBhdGNoZWQgb24gZWxlbWVudHMsIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXMuXG4gKi9cbmNvbnN0IE1PTktFWV9QQVRDSF9LRVlfTkFNRSA9ICdfX25nQ29udGV4dF9fJztcbi8qKlxuICogQXNzaWducyB0aGUgZ2l2ZW4gZGF0YSB0byB0aGUgZ2l2ZW4gdGFyZ2V0ICh3aGljaCBjb3VsZCBiZSBhIGNvbXBvbmVudCxcbiAqIGRpcmVjdGl2ZSBvciBET00gbm9kZSBpbnN0YW5jZSkgdXNpbmcgbW9ua2V5LXBhdGNoaW5nLlxuICovXG5mdW5jdGlvbiBhdHRhY2hQYXRjaERhdGEodGFyZ2V0LCBkYXRhKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodGFyZ2V0LCAnVGFyZ2V0IGV4cGVjdGVkJyk7XG4gICAgdGFyZ2V0W01PTktFWV9QQVRDSF9LRVlfTkFNRV0gPSBkYXRhO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgZGF0YSBwcmVzZW50IG9uIHRoZSB0YXJnZXQgKHdoaWNoIGNvdWxkIGJlXG4gKiBhIGNvbXBvbmVudCwgZGlyZWN0aXZlIG9yIGEgRE9NIG5vZGUpLlxuICovXG5mdW5jdGlvbiByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodGFyZ2V0LCAnVGFyZ2V0IGV4cGVjdGVkJyk7XG4gICAgcmV0dXJuIHRhcmdldFtNT05LRVlfUEFUQ0hfS0VZX05BTUVdIHx8IG51bGw7XG59XG5mdW5jdGlvbiByZWFkUGF0Y2hlZExWaWV3KHRhcmdldCkge1xuICAgIGNvbnN0IHZhbHVlID0gcmVhZFBhdGNoZWREYXRhKHRhcmdldCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUubFZpZXc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3RvciAmJiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci7JtWNtcDtcbn1cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IuybVkaXI7XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGVsZW1lbnQgd2l0aGluIHRoZSBnaXZlbiBMVmlldyBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgaW5kZXhcbiAqL1xuZnVuY3Rpb24gZmluZFZpYU5hdGl2ZUVsZW1lbnQobFZpZXcsIHRhcmdldCkge1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGZvciAobGV0IGkgPSBIRUFERVJfT0ZGU0VUOyBpIDwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXg7IGkrKykge1xuICAgICAgICBpZiAodW53cmFwUk5vZGUobFZpZXdbaV0pID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgbmV4dCB0Tm9kZSAoY2hpbGQsIHNpYmxpbmcgb3IgcGFyZW50KS5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VOZXh0RWxlbWVudCh0Tm9kZSkge1xuICAgIGlmICh0Tm9kZS5jaGlsZCkge1xuICAgICAgICByZXR1cm4gdE5vZGUuY2hpbGQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLm5leHQpIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLm5leHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBMZXQncyB0YWtlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6IDxkaXY+PHNwYW4+dGV4dDwvc3Bhbj48L2Rpdj48Y29tcG9uZW50Lz5cbiAgICAgICAgLy8gQWZ0ZXIgY2hlY2tpbmcgdGhlIHRleHQgbm9kZSwgd2UgbmVlZCB0byBmaW5kIHRoZSBuZXh0IHBhcmVudCB0aGF0IGhhcyBhIFwibmV4dFwiIFROb2RlLFxuICAgICAgICAvLyBpbiB0aGlzIGNhc2UgdGhlIHBhcmVudCBgZGl2YCwgc28gdGhhdCB3ZSBjYW4gZmluZCB0aGUgY29tcG9uZW50LlxuICAgICAgICB3aGlsZSAodE5vZGUucGFyZW50ICYmICF0Tm9kZS5wYXJlbnQubmV4dCkge1xuICAgICAgICAgICAgdE5vZGUgPSB0Tm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHROb2RlLnBhcmVudCAmJiB0Tm9kZS5wYXJlbnQubmV4dDtcbiAgICB9XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGNvbXBvbmVudCB3aXRoaW4gdGhlIGdpdmVuIExWaWV3IGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBpbmRleFxuICovXG5mdW5jdGlvbiBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCBjb21wb25lbnRJbnN0YW5jZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudEluZGljZXMgPSBsVmlld1tUVklFV10uY29tcG9uZW50cztcbiAgICBpZiAoY29tcG9uZW50SW5kaWNlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudEluZGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRDb21wb25lbnRJbmRleCA9IGNvbXBvbmVudEluZGljZXNbaV07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGVsZW1lbnRDb21wb25lbnRJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdbQ09OVEVYVF0gPT09IGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRDb21wb25lbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgcm9vdENvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoSEVBREVSX09GRlNFVCwgbFZpZXcpO1xuICAgICAgICBjb25zdCByb290Q29tcG9uZW50ID0gcm9vdENvbXBvbmVudFZpZXdbQ09OVEVYVF07XG4gICAgICAgIGlmIChyb290Q29tcG9uZW50ID09PSBjb21wb25lbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgLy8gd2UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgcm9vdCBlbGVtZW50IGhlcmUgdGhlcmVmb3JlIHdlIGtub3cgdGhhdCB0aGVcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgdGhlIHZlcnkgZmlyc3QgZWxlbWVudCBhZnRlciB0aGUgSEVBREVSIGRhdGEgaW4gdGhlIGxWaWV3XG4gICAgICAgICAgICByZXR1cm4gSEVBREVSX09GRlNFVDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGRpcmVjdGl2ZSB3aXRoaW4gdGhlIGdpdmVuIExWaWV3IGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBpbmRleFxuICovXG5mdW5jdGlvbiBmaW5kVmlhRGlyZWN0aXZlKGxWaWV3LCBkaXJlY3RpdmVJbnN0YW5jZSkge1xuICAgIC8vIGlmIGEgZGlyZWN0aXZlIGlzIG1vbmtleSBwYXRjaGVkIHRoZW4gaXQgd2lsbCAoYnkgZGVmYXVsdClcbiAgICAvLyBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBMVmlldyBvZiB0aGUgY3VycmVudCB2aWV3LiBUaGVcbiAgICAvLyBlbGVtZW50IGJvdW5kIHRvIHRoZSBkaXJlY3RpdmUgYmVpbmcgc2VhcmNoIGxpdmVzIHNvbWV3aGVyZVxuICAgIC8vIGluIHRoZSB2aWV3IGRhdGEuIFdlIGxvb3AgdGhyb3VnaCB0aGUgbm9kZXMgYW5kIGNoZWNrIHRoZWlyXG4gICAgLy8gbGlzdCBvZiBkaXJlY3RpdmVzIGZvciB0aGUgaW5zdGFuY2UuXG4gICAgbGV0IHROb2RlID0gbFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKHROb2RlKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4U3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5kZXhFbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBkaXJlY3RpdmVJbmRleFN0YXJ0OyBpIDwgZGlyZWN0aXZlSW5kZXhFbmQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxWaWV3W2ldID09PSBkaXJlY3RpdmVJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0Tm9kZS5pbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IHRyYXZlcnNlTmV4dEVsZW1lbnQodE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIGRpcmVjdGl2ZXMgZXh0cmFjdGVkIGZyb20gdGhlIGdpdmVuIHZpZXcgYmFzZWQgb24gdGhlXG4gKiBwcm92aWRlZCBsaXN0IG9mIGRpcmVjdGl2ZSBpbmRleCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIG5vZGVJbmRleCBUaGUgbm9kZSBpbmRleFxuICogQHBhcmFtIGxWaWV3IFRoZSB0YXJnZXQgdmlldyBkYXRhXG4gKiBAcGFyYW0gaW5jbHVkZUNvbXBvbmVudHMgV2hldGhlciBvciBub3QgdG8gaW5jbHVkZSBjb21wb25lbnRzIGluIHJldHVybmVkIGRpcmVjdGl2ZXNcbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcsIGluY2x1ZGVDb21wb25lbnRzKSB7XG4gICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIGxldCBkaXJlY3RpdmVTdGFydEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgaWYgKGRpcmVjdGl2ZVN0YXJ0SW5kZXggPT0gMClcbiAgICAgICAgcmV0dXJuIEVNUFRZX0FSUkFZO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGlmICghaW5jbHVkZUNvbXBvbmVudHMgJiYgdE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLylcbiAgICAgICAgZGlyZWN0aXZlU3RhcnRJbmRleCsrO1xuICAgIHJldHVybiBsVmlldy5zbGljZShkaXJlY3RpdmVTdGFydEluZGV4LCBkaXJlY3RpdmVFbmRJbmRleCk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3KSB7XG4gICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIGxldCBkaXJlY3RpdmVTdGFydEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgcmV0dXJuIHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8gPyBsVmlld1tkaXJlY3RpdmVTdGFydEluZGV4XSA6IG51bGw7XG59XG4vKipcbiAqIFJldHVybnMgYSBtYXAgb2YgbG9jYWwgcmVmZXJlbmNlcyAobG9jYWwgcmVmZXJlbmNlIG5hbWUgPT4gZWxlbWVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UpIHRoYXRcbiAqIGV4aXN0IG9uIGEgZ2l2ZW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZGlzY292ZXJMb2NhbFJlZnMobFZpZXcsIG5vZGVJbmRleCkge1xuICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbbm9kZUluZGV4XTtcbiAgICBpZiAodE5vZGUgJiYgdE5vZGUubG9jYWxOYW1lcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgbGV0IGxvY2FsSW5kZXggPSB0Tm9kZS5pbmRleCArIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdE5vZGUubG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgcmVzdWx0W3ROb2RlLmxvY2FsTmFtZXNbaV1dID0gbFZpZXdbbG9jYWxJbmRleF07XG4gICAgICAgICAgICBsb2NhbEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgRVJST1JfT1JJR0lOQUxfRVJST1IgPSAnbmdPcmlnaW5hbEVycm9yJztcbmNvbnN0IEVSUk9SX0xPR0dFUiA9ICduZ0Vycm9yTG9nZ2VyJztcbmZ1bmN0aW9uIHdyYXBwZWRFcnJvcihtZXNzYWdlLCBvcmlnaW5hbEVycm9yKSB7XG4gICAgY29uc3QgbXNnID0gYCR7bWVzc2FnZX0gY2F1c2VkIGJ5OiAke29yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IG9yaWdpbmFsRXJyb3IubWVzc2FnZSA6IG9yaWdpbmFsRXJyb3J9YDtcbiAgICBjb25zdCBlcnJvciA9IEVycm9yKG1zZyk7XG4gICAgZXJyb3JbRVJST1JfT1JJR0lOQUxfRVJST1JdID0gb3JpZ2luYWxFcnJvcjtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5mdW5jdGlvbiBnZXRPcmlnaW5hbEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yW0VSUk9SX09SSUdJTkFMX0VSUk9SXTtcbn1cbmZ1bmN0aW9uIGdldEVycm9yTG9nZ2VyKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yICYmIGVycm9yW0VSUk9SX0xPR0dFUl0gfHwgZGVmYXVsdEVycm9yTG9nZ2VyO1xufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9yTG9nZ2VyKGNvbnNvbGUsIC4uLnZhbHVlcykge1xuICAgIGNvbnNvbGUuZXJyb3IoLi4udmFsdWVzKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFByb3ZpZGVzIGEgaG9vayBmb3IgY2VudHJhbGl6ZWQgZXhjZXB0aW9uIGhhbmRsaW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBFcnJvckhhbmRsZXJgIHByaW50cyBlcnJvciBtZXNzYWdlcyB0byB0aGUgYGNvbnNvbGVgLiBUb1xuICogaW50ZXJjZXB0IGVycm9yIGhhbmRsaW5nLCB3cml0ZSBhIGN1c3RvbSBleGNlcHRpb24gaGFuZGxlciB0aGF0IHJlcGxhY2VzIHRoaXMgZGVmYXVsdCBhc1xuICogYXBwcm9wcmlhdGUgZm9yIHlvdXIgYXBwLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogY2xhc3MgTXlFcnJvckhhbmRsZXIgaW1wbGVtZW50cyBFcnJvckhhbmRsZXIge1xuICogICBoYW5kbGVFcnJvcihlcnJvcikge1xuICogICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIHRoZSBleGNlcHRpb25cbiAqICAgfVxuICogfVxuICpcbiAqIEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBFcnJvckhhbmRsZXIsIHVzZUNsYXNzOiBNeUVycm9ySGFuZGxlcn1dXG4gKiB9KVxuICogY2xhc3MgTXlNb2R1bGUge31cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRXJyb3JIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29uc29sZSA9IGNvbnNvbGU7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSB0aGlzLl9maW5kT3JpZ2luYWxFcnJvcihlcnJvcik7XG4gICAgICAgIC8vIE5vdGU6IEJyb3dzZXIgY29uc29sZXMgc2hvdyB0aGUgcGxhY2UgZnJvbSB3aGVyZSBjb25zb2xlLmVycm9yIHdhcyBjYWxsZWQuXG4gICAgICAgIC8vIFdlIGNhbiB1c2UgdGhpcyB0byBnaXZlIHVzZXJzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLlxuICAgICAgICBjb25zdCBlcnJvckxvZ2dlciA9IGdldEVycm9yTG9nZ2VyKGVycm9yKTtcbiAgICAgICAgZXJyb3JMb2dnZXIodGhpcy5fY29uc29sZSwgYEVSUk9SYCwgZXJyb3IpO1xuICAgICAgICBpZiAob3JpZ2luYWxFcnJvcikge1xuICAgICAgICAgICAgZXJyb3JMb2dnZXIodGhpcy5fY29uc29sZSwgYE9SSUdJTkFMIEVSUk9SYCwgb3JpZ2luYWxFcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9maW5kT3JpZ2luYWxFcnJvcihlcnJvcikge1xuICAgICAgICBsZXQgZSA9IGVycm9yICYmIGdldE9yaWdpbmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICB3aGlsZSAoZSAmJiBnZXRPcmlnaW5hbEVycm9yKGUpKSB7XG4gICAgICAgICAgICBlID0gZ2V0T3JpZ2luYWxFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZSB8fCBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERlZmluZXMgYSBzY2hlbWEgdGhhdCBhbGxvd3MgYW4gTmdNb2R1bGUgdG8gY29udGFpbiB0aGUgZm9sbG93aW5nOlxuICogLSBOb24tQW5ndWxhciBlbGVtZW50cyBuYW1lZCB3aXRoIGRhc2ggY2FzZSAoYC1gKS5cbiAqIC0gRWxlbWVudCBwcm9wZXJ0aWVzIG5hbWVkIHdpdGggZGFzaCBjYXNlIChgLWApLlxuICogRGFzaCBjYXNlIGlzIHRoZSBuYW1pbmcgY29udmVudGlvbiBmb3IgY3VzdG9tIGVsZW1lbnRzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSA9IHtcbiAgICBuYW1lOiAnY3VzdG9tLWVsZW1lbnRzJ1xufTtcbi8qKlxuICogRGVmaW5lcyBhIHNjaGVtYSB0aGF0IGFsbG93cyBhbnkgcHJvcGVydHkgb24gYW55IGVsZW1lbnQuXG4gKlxuICogVGhpcyBzY2hlbWEgYWxsb3dzIHlvdSB0byBpZ25vcmUgdGhlIGVycm9ycyByZWxhdGVkIHRvIGFueSB1bmtub3duIGVsZW1lbnRzIG9yIHByb3BlcnRpZXMgaW4gYVxuICogdGVtcGxhdGUuIFRoZSB1c2FnZSBvZiB0aGlzIHNjaGVtYSBpcyBnZW5lcmFsbHkgZGlzY291cmFnZWQgYmVjYXVzZSBpdCBwcmV2ZW50cyB1c2VmdWwgdmFsaWRhdGlvblxuICogYW5kIG1heSBoaWRlIHJlYWwgZXJyb3JzIGluIHlvdXIgdGVtcGxhdGUuIENvbnNpZGVyIHVzaW5nIHRoZSBgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQWAgaW5zdGVhZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE5PX0VSUk9SU19TQ0hFTUEgPSB7XG4gICAgbmFtZTogJ25vLWVycm9ycy1zY2hlbWEnXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGlzYWxsb3dlZCBzdHJpbmdzIGluIHRoZSBjb21tZW50LlxuICpcbiAqIHNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjY29tbWVudHNcbiAqL1xuY29uc3QgQ09NTUVOVF9ESVNBTExPV0VEID0gL14+fF4tPnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbi8qKlxuICogRGVsaW1pdGVyIGluIHRoZSBkaXNhbGxvd2VkIHN0cmluZ3Mgd2hpY2ggbmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIHplcm8gd2l0aCBjaGFyYWN0ZXIuXG4gKi9cbmNvbnN0IENPTU1FTlRfREVMSU1JVEVSID0gLyg8fD4pLztcbmNvbnN0IENPTU1FTlRfREVMSU1JVEVSX0VTQ0FQRUQgPSAnXFx1MjAwQiQxXFx1MjAwQic7XG4vKipcbiAqIEVzY2FwZSB0aGUgY29udGVudCBvZiBjb21tZW50IHN0cmluZ3Mgc28gdGhhdCBpdCBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYSBjb21tZW50IG5vZGUuXG4gKlxuICogVGhlIGlzc3VlIGlzIHRoYXQgSFRNTCBkb2VzIG5vdCBzcGVjaWZ5IGFueSB3YXkgdG8gZXNjYXBlIGNvbW1lbnQgZW5kIHRleHQgaW5zaWRlIHRoZSBjb21tZW50LlxuICogQ29uc2lkZXI6IGA8IS0tIFRoZSB3YXkgeW91IGNsb3NlIGEgY29tbWVudCBpcyB3aXRoIFwiPlwiLCBhbmQgXCItPlwiIGF0IHRoZSBiZWdpbm5pbmcgb3IgYnkgXCItLT5cIiBvclxuICogXCItLSE+XCIgYXQgdGhlIGVuZC4gLS0+YC4gQWJvdmUgdGhlIGBcIi0tPlwiYCBpcyBtZWFudCB0byBiZSB0ZXh0IG5vdCBhbiBlbmQgdG8gdGhlIGNvbW1lbnQuIFRoaXNcbiAqIGNhbiBiZSBjcmVhdGVkIHByb2dyYW1tYXRpY2FsbHkgdGhyb3VnaCBET00gQVBJcy4gKGA8IS0tYCBhcmUgYWxzbyBkaXNhbGxvd2VkLilcbiAqXG4gKiBzZWU6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2NvbW1lbnRzXG4gKlxuICogYGBgXG4gKiBkaXYuaW5uZXJIVE1MID0gZGl2LmlubmVySFRNTFxuICogYGBgXG4gKlxuICogT25lIHdvdWxkIGV4cGVjdCB0aGF0IHRoZSBhYm92ZSBjb2RlIHdvdWxkIGJlIHNhZmUgdG8gZG8sIGJ1dCBpdCB0dXJucyBvdXQgdGhhdCBiZWNhdXNlIGNvbW1lbnRcbiAqIHRleHQgaXMgbm90IGVzY2FwZWQsIHRoZSBjb21tZW50IG1heSBjb250YWluIHRleHQgd2hpY2ggd2lsbCBwcmVtYXR1cmVseSBjbG9zZSB0aGUgY29tbWVudFxuICogb3BlbmluZyB1cCB0aGUgYXBwbGljYXRpb24gZm9yIFhTUyBhdHRhY2suIChJbiBTU1Igd2UgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgY29tbWVudCBub2RlcyB3aGljaFxuICogbWF5IGNvbnRhaW4gc3VjaCB0ZXh0IGFuZCBleHBlY3QgdGhlbSB0byBiZSBzYWZlLilcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVzY2FwZXMgdGhlIGNvbW1lbnQgdGV4dCBieSBsb29raW5nIGZvciBjb21tZW50IGRlbGltaXRlcnMgKGA8YCBhbmQgYD5gKSBhbmRcbiAqIHN1cnJvdW5kaW5nIHRoZW0gd2l0aCBgXz5fYCB3aGVyZSB0aGUgYF9gIGlzIGEgemVybyB3aWR0aCBzcGFjZSBgXFx1MjAwQmAuIFRoZSByZXN1bHQgaXMgdGhhdCBpZiBhXG4gKiBjb21tZW50IGNvbnRhaW5zIGFueSBvZiB0aGUgY29tbWVudCBzdGFydC9lbmQgZGVsaW1pdGVycyAoc3VjaCBhcyBgPCEtLWAsIGAtLT5gIG9yIGAtLSE+YCkgdGhlXG4gKiB0ZXh0IGl0IHdpbGwgcmVuZGVyIG5vcm1hbGx5IGJ1dCBpdCB3aWxsIG5vdCBjYXVzZSB0aGUgSFRNTCBwYXJzZXIgdG8gY2xvc2Uvb3BlbiB0aGUgY29tbWVudC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgdGV4dCB0byBtYWtlIHNhZmUgZm9yIGNvbW1lbnQgbm9kZSBieSBlc2NhcGluZyB0aGUgY29tbWVudCBvcGVuL2Nsb3NlIGNoYXJhY3RlclxuICogICAgIHNlcXVlbmNlLlxuICovXG5mdW5jdGlvbiBlc2NhcGVDb21tZW50VGV4dCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKENPTU1FTlRfRElTQUxMT1dFRCwgKHRleHQpID0+IHRleHQucmVwbGFjZShDT01NRU5UX0RFTElNSVRFUiwgQ09NTUVOVF9ERUxJTUlURVJfRVNDQVBFRCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlYnVnQmluZGluZ05hbWUobmFtZSkge1xuICAgIC8vIEF0dHJpYnV0ZSBuYW1lcyB3aXRoIGAkYCAoZWcgYHgteSRgKSBhcmUgdmFsaWQgcGVyIHNwZWMsIGJ1dCB1bnN1cHBvcnRlZCBieSBzb21lIGJyb3dzZXJzXG4gICAgbmFtZSA9IGNhbWVsQ2FzZVRvRGFzaENhc2UobmFtZS5yZXBsYWNlKC9bJEBdL2csICdfJykpO1xuICAgIHJldHVybiBgbmctcmVmbGVjdC0ke25hbWV9YDtcbn1cbmNvbnN0IENBTUVMX0NBU0VfUkVHRVhQID0gLyhbQS1aXSkvZztcbmZ1bmN0aW9uIGNhbWVsQ2FzZVRvRGFzaENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShDQU1FTF9DQVNFX1JFR0VYUCwgKC4uLm0pID0+ICctJyArIG1bMV0udG9Mb3dlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIExpbWl0IHRoZSBzaXplIG9mIHRoZSB2YWx1ZSBhcyBvdGhlcndpc2UgdGhlIERPTSBqdXN0IGdldHMgcG9sbHV0ZWQuXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUudG9TdHJpbmcoKS5zbGljZSgwLCAzMCkgOiB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICdbRVJST1JdIEV4Y2VwdGlvbiB3aGlsZSB0cnlpbmcgdG8gc2VyaWFsaXplIHRoZSB2YWx1ZSc7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IGRlZmF1bHRTY2hlZHVsZXIgPSAoKCkgPT4gKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IC8vIGJyb3dzZXIgb25seVxuICAgIHNldFRpbWVvdXQgLy8gZXZlcnl0aGluZyBlbHNlXG4pXG4gICAgLmJpbmQoX2dsb2JhbCkpKCk7XG4vKipcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzb2x2ZVdpbmRvdyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcbn1cbi8qKlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXNvbHZlRG9jdW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG4vKipcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzb2x2ZUJvZHkoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbn1cbi8qKlxuICogVGhlIHNwZWNpYWwgZGVsaW1pdGVyIHdlIHVzZSB0byBzZXBhcmF0ZSBwcm9wZXJ0eSBuYW1lcywgcHJlZml4ZXMsIGFuZCBzdWZmaXhlc1xuICogaW4gcHJvcGVydHkgYmluZGluZyBtZXRhZGF0YS4gU2VlIHN0b3JlQmluZGluZ01ldGFkYXRhKCkuXG4gKlxuICogV2UgaW50ZW50aW9uYWxseSB1c2UgdGhlIFVuaWNvZGUgXCJSRVBMQUNFTUVOVCBDSEFSQUNURVJcIiAoVStGRkZEKSBhcyBhIGRlbGltaXRlclxuICogYmVjYXVzZSBpdCBpcyBhIHZlcnkgdW5jb21tb24gY2hhcmFjdGVyIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcGFydCBvZiBhIHVzZXInc1xuICogcHJvcGVydHkgbmFtZXMgb3IgaW50ZXJwb2xhdGlvbiBzdHJpbmdzLiBJZiBpdCBpcyBpbiBmYWN0IHVzZWQgaW4gYSBwcm9wZXJ0eVxuICogYmluZGluZywgRGVidWdFbGVtZW50LnByb3BlcnRpZXMgd2lsbCBub3QgcmV0dXJuIHRoZSBjb3JyZWN0IHZhbHVlIGZvciB0aGF0XG4gKiBiaW5kaW5nLiBIb3dldmVyLCB0aGVyZSBzaG91bGQgYmUgbm8gcnVudGltZSBlZmZlY3QgZm9yIHJlYWwgYXBwbGljYXRpb25zLlxuICpcbiAqIFRoaXMgY2hhcmFjdGVyIGlzIHR5cGljYWxseSByZW5kZXJlZCBhcyBhIHF1ZXN0aW9uIG1hcmsgaW5zaWRlIG9mIGEgZGlhbW9uZC5cbiAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TcGVjaWFsc18oVW5pY29kZV9ibG9jaylcbiAqXG4gKi9cbmNvbnN0IElOVEVSUE9MQVRJT05fREVMSU1JVEVSID0gYO+/vWA7XG4vKipcbiAqIFVud3JhcCBhIHZhbHVlIHdoaWNoIG1pZ2h0IGJlIGJlaGluZCBhIGNsb3N1cmUgKGZvciBmb3J3YXJkIGRlY2xhcmF0aW9uIHJlYXNvbnMpLlxuICovXG5mdW5jdGlvbiBtYXliZVVud3JhcEZuKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBDYWxsZWQgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgY29tcG9uZW50IHNlbGVjdG9ycyB0aGF0IG1hdGNoIGEgZ2l2ZW4gbm9kZSAqL1xuZnVuY3Rpb24gdGhyb3dNdWx0aXBsZUNvbXBvbmVudEVycm9yKHROb2RlKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMzAwIC8qIE1VTFRJUExFX0NPTVBPTkVOVFNfTUFUQ0ggKi8sIGBNdWx0aXBsZSBjb21wb25lbnRzIG1hdGNoIG5vZGUgd2l0aCB0YWduYW1lICR7dE5vZGUudmFsdWV9YCk7XG59XG4vKiogVGhyb3dzIGFuIEV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJDaGVja2VkIGVycm9yIGlmIGNoZWNrTm9DaGFuZ2VzIG1vZGUgaXMgb24uICovXG5mdW5jdGlvbiB0aHJvd0Vycm9ySWZOb0NoYW5nZXNNb2RlKGNyZWF0aW9uTW9kZSwgb2xkVmFsdWUsIGN1cnJWYWx1ZSwgcHJvcE5hbWUpIHtcbiAgICBjb25zdCBmaWVsZCA9IHByb3BOYW1lID8gYCBmb3IgJyR7cHJvcE5hbWV9J2AgOiAnJztcbiAgICBsZXQgbXNnID0gYEV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3I6IEV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYWZ0ZXIgaXQgd2FzIGNoZWNrZWQuIFByZXZpb3VzIHZhbHVlJHtmaWVsZH06ICcke29sZFZhbHVlfScuIEN1cnJlbnQgdmFsdWU6ICcke2N1cnJWYWx1ZX0nLmA7XG4gICAgaWYgKGNyZWF0aW9uTW9kZSkge1xuICAgICAgICBtc2cgKz1cbiAgICAgICAgICAgIGAgSXQgc2VlbXMgbGlrZSB0aGUgdmlldyBoYXMgYmVlbiBjcmVhdGVkIGFmdGVyIGl0cyBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlbiBoYXZlIGJlZW4gZGlydHkgY2hlY2tlZC5gICtcbiAgICAgICAgICAgICAgICBgIEhhcyBpdCBiZWVuIGNyZWF0ZWQgaW4gYSBjaGFuZ2UgZGV0ZWN0aW9uIGhvb2s/YDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMTAwIC8qIEVYUFJFU1NJT05fQ0hBTkdFRF9BRlRFUl9DSEVDS0VEICovLCBtc2cpO1xufVxuZnVuY3Rpb24gY29uc3RydWN0RGV0YWlsc0ZvckludGVycG9sYXRpb24obFZpZXcsIHJvb3RJbmRleCwgZXhwcmVzc2lvbkluZGV4LCBtZXRhLCBjaGFuZ2VkVmFsdWUpIHtcbiAgICBjb25zdCBbcHJvcE5hbWUsIHByZWZpeCwgLi4uY2h1bmtzXSA9IG1ldGEuc3BsaXQoSU5URVJQT0xBVElPTl9ERUxJTUlURVIpO1xuICAgIGxldCBvbGRWYWx1ZSA9IHByZWZpeCwgbmV3VmFsdWUgPSBwcmVmaXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdElkeCA9IHJvb3RJbmRleCArIGk7XG4gICAgICAgIG9sZFZhbHVlICs9IGAke2xWaWV3W3Nsb3RJZHhdfSR7Y2h1bmtzW2ldfWA7XG4gICAgICAgIG5ld1ZhbHVlICs9IGAke3Nsb3RJZHggPT09IGV4cHJlc3Npb25JbmRleCA/IGNoYW5nZWRWYWx1ZSA6IGxWaWV3W3Nsb3RJZHhdfSR7Y2h1bmtzW2ldfWA7XG4gICAgfVxuICAgIHJldHVybiB7IHByb3BOYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfTtcbn1cbi8qKlxuICogQ29uc3RydWN0cyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBkZXRhaWxzIGZvciB0aGUgRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcjpcbiAqIC0gcHJvcGVydHkgbmFtZSAoZm9yIHByb3BlcnR5IGJpbmRpbmdzIG9yIGludGVycG9sYXRpb25zKVxuICogLSBvbGQgYW5kIG5ldyB2YWx1ZXMsIGVucmljaGVkIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gbWV0YWRhdGFcbiAqXG4gKiBNb3JlIGluZm9ybWF0aW9uIG9uIHRoZSBtZXRhZGF0YSBzdG9yYWdlIGZvcm1hdCBjYW4gYmUgZm91bmQgaW4gYHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGFgXG4gKiBmdW5jdGlvbiBkZXNjcmlwdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RXhwcmVzc2lvbkNoYW5nZWRFcnJvckRldGFpbHMobFZpZXcsIGJpbmRpbmdJbmRleCwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgY29uc3QgdERhdGEgPSBsVmlld1tUVklFV10uZGF0YTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IHREYXRhW2JpbmRpbmdJbmRleF07XG4gICAgaWYgKHR5cGVvZiBtZXRhZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gbWV0YWRhdGEgZm9yIHByb3BlcnR5IGludGVycG9sYXRpb25cbiAgICAgICAgaWYgKG1ldGFkYXRhLmluZGV4T2YoSU5URVJQT0xBVElPTl9ERUxJTUlURVIpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbihsVmlldywgYmluZGluZ0luZGV4LCBiaW5kaW5nSW5kZXgsIG1ldGFkYXRhLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWV0YWRhdGEgZm9yIHByb3BlcnR5IGJpbmRpbmdcbiAgICAgICAgcmV0dXJuIHsgcHJvcE5hbWU6IG1ldGFkYXRhLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfTtcbiAgICB9XG4gICAgLy8gbWV0YWRhdGEgaXMgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyBleHByZXNzaW9uLCBjaGVjayBpZiB0aGlzIGV4cHJlc3Npb24gaXMgYSBwYXJ0IG9mIHRoZVxuICAgIC8vIHByb3BlcnR5IGludGVycG9sYXRpb24gYnkgZ29pbmcgZnJvbSB0aGUgY3VycmVudCBiaW5kaW5nIGluZGV4IGxlZnQgYW5kIGxvb2sgZm9yIGEgc3RyaW5nIHRoYXRcbiAgICAvLyBjb250YWlucyBJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiwgdGhlIGxheW91dCBpbiB0Vmlldy5kYXRhIGZvciB0aGlzIGNhc2Ugd2lsbCBsb29rIGxpa2UgdGhpczpcbiAgICAvLyBbLi4uLCAnaWTvv71QcmVmaXgg77+9IGFuZCDvv70gc3VmZml4JywgbnVsbCwgbnVsbCwgbnVsbCwgLi4uXVxuICAgIGlmIChtZXRhZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICBsZXQgaWR4ID0gYmluZGluZ0luZGV4IC0gMTtcbiAgICAgICAgd2hpbGUgKHR5cGVvZiB0RGF0YVtpZHhdICE9PSAnc3RyaW5nJyAmJiB0RGF0YVtpZHggKyAxXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWR4LS07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0YSA9IHREYXRhW2lkeF07XG4gICAgICAgIGlmICh0eXBlb2YgbWV0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBtZXRhLm1hdGNoKG5ldyBSZWdFeHAoSU5URVJQT0xBVElPTl9ERUxJTUlURVIsICdnJykpO1xuICAgICAgICAgICAgLy8gZmlyc3QgaW50ZXJwb2xhdGlvbiBkZWxpbWl0ZXIgc2VwYXJhdGVzIHByb3BlcnR5IG5hbWUgZnJvbSBpbnRlcnBvbGF0aW9uIHBhcnRzIChpbiBjYXNlIG9mXG4gICAgICAgICAgICAvLyBwcm9wZXJ0eSBpbnRlcnBvbGF0aW9ucyksIHNvIHdlIHN1YnRyYWN0IG9uZSBmcm9tIHRvdGFsIG51bWJlciBvZiBmb3VuZCBkZWxpbWl0ZXJzXG4gICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiAobWF0Y2hlcy5sZW5ndGggLSAxKSA+IGJpbmRpbmdJbmRleCAtIGlkeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbihsVmlldywgaWR4LCBiaW5kaW5nSW5kZXgsIG1ldGEsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBwcm9wTmFtZTogdW5kZWZpbmVkLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEZsYWdzIGZvciByZW5kZXJlci1zcGVjaWZpYyBzdHlsZSBtb2RpZmllcnMuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBSZW5kZXJlclN0eWxlRmxhZ3MyO1xuKGZ1bmN0aW9uIChSZW5kZXJlclN0eWxlRmxhZ3MyKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IFRoaXMgbmVlZHMgdG8gYmUgcmVmYWN0b3JlZCBpbnRvIGEgc2VwYXJhdGUgZmlsZSBzbyB0aGF0IGl0IGNhbiBiZSBpbXBvcnRlZCBmcm9tXG4gICAgLy8gYG5vZGVfbWFuaXB1bGF0aW9uLnRzYCBDdXJyZW50bHkgZG9pbmcgdGhlIGltcG9ydCBjYXVzZSByZXNvbHV0aW9uIG9yZGVyIHRvIGNoYW5nZSBhbmQgZmFpbHNcbiAgICAvLyB0aGUgdGVzdHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBoYXZlIGhhcmQgY29kZWQgdmFsdWUgaW4gYG5vZGVfbWFuaXB1bGF0aW9uLnRzYCBmb3Igbm93LlxuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgc3R5bGUgYXMgaW1wb3J0YW50LlxuICAgICAqL1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczJbUmVuZGVyZXJTdHlsZUZsYWdzMltcIkltcG9ydGFudFwiXSA9IDFdID0gXCJJbXBvcnRhbnRcIjtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHN0eWxlIGFzIHVzaW5nIGRhc2ggY2FzZSBuYW1pbmcgKHRoaXMtaXMtZGFzaC1jYXNlKS5cbiAgICAgKi9cbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MyW1JlbmRlcmVyU3R5bGVGbGFnczJbXCJEYXNoQ2FzZVwiXSA9IDJdID0gXCJEYXNoQ2FzZVwiO1xufSkoUmVuZGVyZXJTdHlsZUZsYWdzMiB8fCAoUmVuZGVyZXJTdHlsZUZsYWdzMiA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9pY3VDb250YWluZXJJdGVyYXRlO1xuLyoqXG4gKiBJdGVyYXRvciB3aGljaCBwcm92aWRlcyBhYmlsaXR5IHRvIHZpc2l0IGFsbCBvZiB0aGUgYFRJY3VDb250YWluZXJOb2RlYCByb290IGBSTm9kZWBzLlxuICovXG5mdW5jdGlvbiBpY3VDb250YWluZXJJdGVyYXRlKHRJY3VDb250YWluZXJOb2RlLCBsVmlldykge1xuICAgIHJldHVybiBfaWN1Q29udGFpbmVySXRlcmF0ZSh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpO1xufVxuLyoqXG4gKiBFbnN1cmVzIHRoYXQgYEljdUNvbnRhaW5lclZpc2l0b3JgJ3MgaW1wbGVtZW50YXRpb24gaXMgcHJlc2VudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludm9rZWQgd2hlbiBpMThuIGluc3RydWN0aW9uIGNvbWVzIGFjcm9zcyBhbiBJQ1UuIFRoZSBwdXJwb3NlIGlzIHRvIGFsbG93IHRoZVxuICogYnVuZGxlciB0byB0cmVlIHNoYWtlIElDVSBsb2dpYyBhbmQgb25seSBsb2FkIGl0IGlmIElDVSBpbnN0cnVjdGlvbiBpcyBleGVjdXRlZC5cbiAqL1xuZnVuY3Rpb24gZW5zdXJlSWN1Q29udGFpbmVyVmlzaXRvckxvYWRlZChsb2FkZXIpIHtcbiAgICBpZiAoX2ljdUNvbnRhaW5lckl0ZXJhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBEbyBub3QgaW5saW5lIHRoaXMgZnVuY3Rpb24uIFdlIHdhbnQgdG8ga2VlcCBgZW5zdXJlSWN1Q29udGFpbmVyVmlzaXRvckxvYWRlZGAgbGlnaHQsIHNvIGl0XG4gICAgICAgIC8vIGNhbiBiZSBpbmxpbmVkIGludG8gY2FsbC1zaXRlLlxuICAgICAgICBfaWN1Q29udGFpbmVySXRlcmF0ZSA9IGxvYWRlcigpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQzID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCBMVmlldyBvZiB0aGUgcGFzc2VkIExWaWV3LCBpZiB0aGUgUEFSRU5UIGlzIGFuIExDb250YWluZXIsIHdpbGwgZ2V0IHRoZSBwYXJlbnQgb2ZcbiAqIHRoYXQgTENvbnRhaW5lciwgd2hpY2ggaXMgYW4gTFZpZXdcbiAqIEBwYXJhbSBsVmlldyB0aGUgbFZpZXcgd2hvc2UgcGFyZW50IHRvIGdldFxuICovXG5mdW5jdGlvbiBnZXRMVmlld1BhcmVudChsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgY29uc3QgcGFyZW50ID0gbFZpZXdbUEFSRU5UXTtcbiAgICByZXR1cm4gaXNMQ29udGFpbmVyKHBhcmVudCkgPyBwYXJlbnRbUEFSRU5UXSA6IHBhcmVudDtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIHJvb3QgdmlldyBmcm9tIGFueSBjb21wb25lbnQgb3IgYExWaWV3YCBieSB3YWxraW5nIHRoZSBwYXJlbnQgYExWaWV3YCB1bnRpbFxuICogcmVhY2hpbmcgdGhlIHJvb3QgYExWaWV3YC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50T3JMVmlldyBhbnkgY29tcG9uZW50IG9yIGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdFZpZXcoY29tcG9uZW50T3JMVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGNvbXBvbmVudE9yTFZpZXcsICdjb21wb25lbnQnKTtcbiAgICBsZXQgbFZpZXcgPSBpc0xWaWV3KGNvbXBvbmVudE9yTFZpZXcpID8gY29tcG9uZW50T3JMVmlldyA6IHJlYWRQYXRjaGVkTFZpZXcoY29tcG9uZW50T3JMVmlldyk7XG4gICAgd2hpbGUgKGxWaWV3ICYmICEobFZpZXdbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLykpIHtcbiAgICAgICAgbFZpZXcgPSBnZXRMVmlld1BhcmVudChsVmlldyk7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBgUm9vdENvbnRleHRgIGluc3RhbmNlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoXG4gKiB0aGUgYXBwbGljYXRpb24gd2hlcmUgdGhlIHRhcmdldCBpcyBzaXR1YXRlZC4gSXQgZG9lcyB0aGlzIGJ5IHdhbGtpbmcgdGhlIHBhcmVudCB2aWV3cyB1bnRpbCBpdFxuICogZ2V0cyB0byB0aGUgcm9vdCB2aWV3LCB0aGVuIGdldHRpbmcgdGhlIGNvbnRleHQgb2ZmIG9mIHRoYXQuXG4gKlxuICogQHBhcmFtIHZpZXdPckNvbXBvbmVudCB0aGUgYExWaWV3YCBvciBjb21wb25lbnQgdG8gZ2V0IHRoZSByb290IGNvbnRleHQgZm9yLlxuICovXG5mdW5jdGlvbiBnZXRSb290Q29udGV4dCh2aWV3T3JDb21wb25lbnQpIHtcbiAgICBjb25zdCByb290VmlldyA9IGdldFJvb3RWaWV3KHZpZXdPckNvbXBvbmVudCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydERlZmluZWQocm9vdFZpZXdbQ09OVEVYVF0sICdSb290VmlldyBoYXMgbm8gY29udGV4dC4gUGVyaGFwcyBpdCBpcyBkaXNjb25uZWN0ZWQ/Jyk7XG4gICAgcmV0dXJuIHJvb3RWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBmaXJzdCBgTENvbnRhaW5lcmAgaW4gdGhlIExWaWV3IG9yIGBudWxsYCBpZiBub25lIGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KSB7XG4gICAgcmV0dXJuIGdldE5lYXJlc3RMQ29udGFpbmVyKGxWaWV3W0NISUxEX0hFQURdKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgbmV4dCBgTENvbnRhaW5lcmAgdGhhdCBpcyBhIHNpYmxpbmcgb2YgdGhlIGdpdmVuIGNvbnRhaW5lci5cbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dExDb250YWluZXIoY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGdldE5lYXJlc3RMQ29udGFpbmVyKGNvbnRhaW5lcltORVhUXSk7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0TENvbnRhaW5lcih2aWV3T3JDb250YWluZXIpIHtcbiAgICB3aGlsZSAodmlld09yQ29udGFpbmVyICE9PSBudWxsICYmICFpc0xDb250YWluZXIodmlld09yQ29udGFpbmVyKSkge1xuICAgICAgICB2aWV3T3JDb250YWluZXIgPSB2aWV3T3JDb250YWluZXJbTkVYVF07XG4gICAgfVxuICAgIHJldHVybiB2aWV3T3JDb250YWluZXI7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgdW51c2VkVmFsdWVUb1BsYWNhdGVBamQkMiA9IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDcgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMyArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDYgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ4O1xuLyoqXG4gKiBOT1RFOiBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgdGhlIHBvc3NpYmxlIGFjdGlvbnMgYXJlIGlubGluZWQgd2l0aGluIHRoZSBmdW5jdGlvbiBpbnN0ZWFkIG9mXG4gKiBiZWluZyBwYXNzZWQgYXMgYW4gYXJndW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50LCBsTm9kZVRvSGFuZGxlLCBiZWZvcmVOb2RlKSB7XG4gICAgLy8gSWYgdGhpcyBzbG90IHdhcyBhbGxvY2F0ZWQgZm9yIGEgdGV4dCBub2RlIGR5bmFtaWNhbGx5IGNyZWF0ZWQgYnkgaTE4biwgdGhlIHRleHQgbm9kZSBpdHNlbGZcbiAgICAvLyB3b24ndCBiZSBjcmVhdGVkIHVudGlsIGkxOG5BcHBseSgpIGluIHRoZSB1cGRhdGUgYmxvY2ssIHNvIHRoaXMgbm9kZSBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAvLyBGb3IgbW9yZSBpbmZvLCBzZWUgXCJJQ1UgZXhwcmVzc2lvbnMgc2hvdWxkIHdvcmsgaW5zaWRlIGFuIG5nVGVtcGxhdGVPdXRsZXQgaW5zaWRlIGFuIG5nRm9yXCJcbiAgICAvLyBpbiBgaTE4bl9zcGVjLnRzYC5cbiAgICBpZiAobE5vZGVUb0hhbmRsZSAhPSBudWxsKSB7XG4gICAgICAgIGxldCBsQ29udGFpbmVyO1xuICAgICAgICBsZXQgaXNDb21wb25lbnQgPSBmYWxzZTtcbiAgICAgICAgLy8gV2UgYXJlIGV4cGVjdGluZyBhbiBSTm9kZSwgYnV0IGluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50IG9yIExDb250YWluZXIgdGhlIGBSTm9kZWAgaXNcbiAgICAgICAgLy8gd3JhcHBlZCBpbiBhbiBhcnJheSB3aGljaCBuZWVkcyB0byBiZSB1bndyYXBwZWQuIFdlIG5lZWQgdG8ga25vdyBpZiBpdCBpcyBhIGNvbXBvbmVudCBhbmQgaWZcbiAgICAgICAgLy8gaXQgaGFzIExDb250YWluZXIgc28gdGhhdCB3ZSBjYW4gcHJvY2VzcyBhbGwgb2YgdGhvc2UgY2FzZXMgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgaWYgKGlzTENvbnRhaW5lcihsTm9kZVRvSGFuZGxlKSkge1xuICAgICAgICAgICAgbENvbnRhaW5lciA9IGxOb2RlVG9IYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMVmlldyhsTm9kZVRvSGFuZGxlKSkge1xuICAgICAgICAgICAgaXNDb21wb25lbnQgPSB0cnVlO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobE5vZGVUb0hhbmRsZVtIT1NUXSwgJ0hPU1QgbXVzdCBiZSBkZWZpbmVkIGZvciBhIGNvbXBvbmVudCBMVmlldycpO1xuICAgICAgICAgICAgbE5vZGVUb0hhbmRsZSA9IGxOb2RlVG9IYW5kbGVbSE9TVF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgck5vZGUgPSB1bndyYXBSTm9kZShsTm9kZVRvSGFuZGxlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgJiYgYXNzZXJ0RG9tTm9kZShyTm9kZSk7XG4gICAgICAgIGlmIChhY3Rpb24gPT09IDAgLyogQ3JlYXRlICovICYmIHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUFwcGVuZENoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIHJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCByTm9kZSwgYmVmb3JlTm9kZSB8fCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09IDEgLyogSW5zZXJ0ICovICYmIHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIHJOb2RlLCBiZWZvcmVOb2RlIHx8IG51bGwsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gMiAvKiBEZXRhY2ggKi8pIHtcbiAgICAgICAgICAgIG5hdGl2ZVJlbW92ZU5vZGUocmVuZGVyZXIsIHJOb2RlLCBpc0NvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAzIC8qIERlc3Ryb3kgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJEZXN0cm95Tm9kZSsrO1xuICAgICAgICAgICAgcmVuZGVyZXIuZGVzdHJveU5vZGUock5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsQ29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFwcGx5Q29udGFpbmVyKHJlbmRlcmVyLCBhY3Rpb24sIGxDb250YWluZXIsIHBhcmVudCwgYmVmb3JlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZShyZW5kZXJlciwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUrKztcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0VGV4dCsrO1xuICAgIHJldHVybiBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5jcmVhdGVUZXh0KHZhbHVlKSA6XG4gICAgICAgIHJlbmRlcmVyLmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlKHJlbmRlcmVyLCByTm9kZSwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0VGV4dCsrO1xuICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnNldFZhbHVlKHJOb2RlLCB2YWx1ZSkgOiByTm9kZS50ZXh0Q29udGVudCA9IHZhbHVlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudE5vZGUocmVuZGVyZXIsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICAvLyBpc1Byb2NlZHVyYWxSZW5kZXJlciBjaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2UgYm90aCBgUmVuZGVyZXIyYCBhbmQgYFJlbmRlcmVyM2AgaGF2ZSB0aGUgc2FtZVxuICAgIC8vIG1ldGhvZCBuYW1lLlxuICAgIHJldHVybiByZW5kZXJlci5jcmVhdGVDb21tZW50KGVzY2FwZUNvbW1lbnRUZXh0KHZhbHVlKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuYXRpdmUgZWxlbWVudCBmcm9tIGEgdGFnIG5hbWUsIHVzaW5nIGEgcmVuZGVyZXIuXG4gKiBAcGFyYW0gcmVuZGVyZXIgQSByZW5kZXJlciB0byB1c2VcbiAqIEBwYXJhbSBuYW1lIHRoZSB0YWcgbmFtZVxuICogQHBhcmFtIG5hbWVzcGFjZSBPcHRpb25hbCBuYW1lc3BhY2UgZm9yIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB0aGUgZWxlbWVudCBjcmVhdGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyLCBuYW1lLCBuYW1lc3BhY2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlRWxlbWVudCsrO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZVVyaSA9IG5hbWVzcGFjZSAhPT0gbnVsbCA/IGdldE5hbWVzcGFjZVVyaShuYW1lc3BhY2UpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZVVyaSA9PT0gbnVsbCA/IHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQobmFtZSkgOlxuICAgICAgICAgICAgcmVuZGVyZXIuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVyaSwgbmFtZSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBET00gZWxlbWVudHMgYXNzb2NpYXRlZCB3aXRoIGEgdmlldy5cbiAqXG4gKiBCZWNhdXNlIHNvbWUgcm9vdCBub2RlcyBvZiB0aGUgdmlldyBtYXkgYmUgY29udGFpbmVycywgd2Ugc29tZXRpbWVzIG5lZWRcbiAqIHRvIHByb3BhZ2F0ZSBkZWVwbHkgaW50byB0aGUgbmVzdGVkIGNvbnRhaW5lcnMgdG8gcmVtb3ZlIGFsbCBlbGVtZW50cyBpbiB0aGVcbiAqIHZpZXdzIGJlbmVhdGggaXQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyBmcm9tIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCBvciByZW1vdmVkXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVZpZXdGcm9tQ29udGFpbmVyKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCAyIC8qIERldGFjaCAqLywgbnVsbCwgbnVsbCk7XG4gICAgbFZpZXdbSE9TVF0gPSBudWxsO1xuICAgIGxWaWV3W1RfSE9TVF0gPSBudWxsO1xufVxuLyoqXG4gKiBBZGRzIGFsbCBET00gZWxlbWVudHMgYXNzb2NpYXRlZCB3aXRoIGEgdmlldy5cbiAqXG4gKiBCZWNhdXNlIHNvbWUgcm9vdCBub2RlcyBvZiB0aGUgdmlldyBtYXkgYmUgY29udGFpbmVycywgd2Ugc29tZXRpbWVzIG5lZWRcbiAqIHRvIHByb3BhZ2F0ZSBkZWVwbHkgaW50byB0aGUgbmVzdGVkIGNvbnRhaW5lcnMgdG8gYWRkIGFsbCBlbGVtZW50cyBpbiB0aGVcbiAqIHZpZXdzIGJlbmVhdGggaXQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBUaGUgYFROb2RlYCB3aGVyZSB0aGUgYExWaWV3YCBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gKiBAcGFyYW0gcmVuZGVyZXIgQ3VycmVudCByZW5kZXJlciB0byB1c2UgZm9yIERPTSBtYW5pcHVsYXRpb25zLlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqIEBwYXJhbSBwYXJlbnROYXRpdmVOb2RlIFRoZSBwYXJlbnQgYFJFbGVtZW50YCB3aGVyZSBpdCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50by5cbiAqIEBwYXJhbSBiZWZvcmVOb2RlIFRoZSBub2RlIGJlZm9yZSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQsIGlmIGluc2VydCBtb2RlXG4gKi9cbmZ1bmN0aW9uIGFkZFZpZXdUb0NvbnRhaW5lcih0VmlldywgcGFyZW50VE5vZGUsIHJlbmRlcmVyLCBsVmlldywgcGFyZW50TmF0aXZlTm9kZSwgYmVmb3JlTm9kZSkge1xuICAgIGxWaWV3W0hPU1RdID0gcGFyZW50TmF0aXZlTm9kZTtcbiAgICBsVmlld1tUX0hPU1RdID0gcGFyZW50VE5vZGU7XG4gICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIDEgLyogSW5zZXJ0ICovLCBwYXJlbnROYXRpdmVOb2RlLCBiZWZvcmVOb2RlKTtcbn1cbi8qKlxuICogRGV0YWNoIGEgYExWaWV3YCBmcm9tIHRoZSBET00gYnkgZGV0YWNoaW5nIGl0cyBub2Rlcy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgdG8gYmUgZGV0YWNoZWRcbiAqIEBwYXJhbSBsVmlldyB0aGUgYExWaWV3YCB0byBiZSBkZXRhY2hlZC5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRGV0YWNoVmlldyh0VmlldywgbFZpZXcpIHtcbiAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIDIgLyogRGV0YWNoICovLCBudWxsLCBudWxsKTtcbn1cbi8qKlxuICogVHJhdmVyc2VzIGRvd24gYW5kIHVwIHRoZSB0cmVlIG9mIHZpZXdzIGFuZCBjb250YWluZXJzIHRvIHJlbW92ZSBsaXN0ZW5lcnMgYW5kXG4gKiBjYWxsIG9uRGVzdHJveSBjYWxsYmFja3MuXG4gKlxuICogTm90ZXM6XG4gKiAgLSBCZWNhdXNlIGl0J3MgdXNlZCBmb3Igb25EZXN0cm95IGNhbGxzLCBpdCBuZWVkcyB0byBiZSBib3R0b20tdXAuXG4gKiAgLSBNdXN0IHByb2Nlc3MgY29udGFpbmVycyBpbnN0ZWFkIG9mIHRoZWlyIHZpZXdzIHRvIGF2b2lkIHNwbGljaW5nXG4gKiAgd2hlbiB2aWV3cyBhcmUgZGVzdHJveWVkIGFuZCByZS1hZGRlZC5cbiAqICAtIFVzaW5nIGEgd2hpbGUgbG9vcCBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gcmVjdXJzaW9uXG4gKiAgLSBEZXN0cm95IG9ubHkgY2FsbGVkIG9uIG1vdmVtZW50IHRvIHNpYmxpbmcgb3IgbW92ZW1lbnQgdG8gcGFyZW50IChsYXRlcmFsbHkgb3IgdXApXG4gKlxuICogIEBwYXJhbSByb290VmlldyBUaGUgdmlldyB0byBkZXN0cm95XG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lWaWV3VHJlZShyb290Vmlldykge1xuICAgIC8vIElmIHRoZSB2aWV3IGhhcyBubyBjaGlsZHJlbiwgd2UgY2FuIGNsZWFuIGl0IHVwIGFuZCByZXR1cm4gZWFybHkuXG4gICAgbGV0IGxWaWV3T3JMQ29udGFpbmVyID0gcm9vdFZpZXdbQ0hJTERfSEVBRF07XG4gICAgaWYgKCFsVmlld09yTENvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gY2xlYW5VcFZpZXcocm9vdFZpZXdbVFZJRVddLCByb290Vmlldyk7XG4gICAgfVxuICAgIHdoaWxlIChsVmlld09yTENvbnRhaW5lcikge1xuICAgICAgICBsZXQgbmV4dCA9IG51bGw7XG4gICAgICAgIGlmIChpc0xWaWV3KGxWaWV3T3JMQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgLy8gSWYgTFZpZXcsIHRyYXZlcnNlIGRvd24gdG8gY2hpbGQuXG4gICAgICAgICAgICBuZXh0ID0gbFZpZXdPckxDb250YWluZXJbQ0hJTERfSEVBRF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihsVmlld09yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAvLyBJZiBjb250YWluZXIsIHRyYXZlcnNlIGRvd24gdG8gaXRzIGZpcnN0IExWaWV3LlxuICAgICAgICAgICAgY29uc3QgZmlyc3RWaWV3ID0gbFZpZXdPckxDb250YWluZXJbQ09OVEFJTkVSX0hFQURFUl9PRkZTRVRdO1xuICAgICAgICAgICAgaWYgKGZpcnN0VmlldylcbiAgICAgICAgICAgICAgICBuZXh0ID0gZmlyc3RWaWV3O1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgLy8gT25seSBjbGVhbiB1cCB2aWV3IHdoZW4gbW92aW5nIHRvIHRoZSBzaWRlIG9yIHVwLCBhcyBkZXN0cm95IGhvb2tzXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgY2FsbGVkIGluIG9yZGVyIGZyb20gdGhlIGJvdHRvbSB1cC5cbiAgICAgICAgICAgIHdoaWxlIChsVmlld09yTENvbnRhaW5lciAmJiAhbFZpZXdPckxDb250YWluZXJbTkVYVF0gJiYgbFZpZXdPckxDb250YWluZXIgIT09IHJvb3RWaWV3KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTFZpZXcobFZpZXdPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuVXBWaWV3KGxWaWV3T3JMQ29udGFpbmVyW1RWSUVXXSwgbFZpZXdPckxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsVmlld09yTENvbnRhaW5lciA9IGxWaWV3T3JMQ29udGFpbmVyW1BBUkVOVF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobFZpZXdPckxDb250YWluZXIgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgbFZpZXdPckxDb250YWluZXIgPSByb290VmlldztcbiAgICAgICAgICAgIGlmIChpc0xWaWV3KGxWaWV3T3JMQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgIGNsZWFuVXBWaWV3KGxWaWV3T3JMQ29udGFpbmVyW1RWSUVXXSwgbFZpZXdPckxDb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCA9IGxWaWV3T3JMQ29udGFpbmVyICYmIGxWaWV3T3JMQ29udGFpbmVyW05FWFRdO1xuICAgICAgICB9XG4gICAgICAgIGxWaWV3T3JMQ29udGFpbmVyID0gbmV4dDtcbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgYSB2aWV3IGludG8gYSBjb250YWluZXIuXG4gKlxuICogVGhpcyBhZGRzIHRoZSB2aWV3IHRvIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBhY3RpdmUgdmlld3MgaW4gdGhlIGNvcnJlY3RcbiAqIHBvc2l0aW9uLiBJdCBhbHNvIGFkZHMgdGhlIHZpZXcncyBlbGVtZW50cyB0byB0aGUgRE9NIGlmIHRoZSBjb250YWluZXIgaXNuJ3QgYVxuICogcm9vdCBub2RlIG9mIGFub3RoZXIgdmlldyAoaW4gdGhhdCBjYXNlLCB0aGUgdmlldydzIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQgd2hlblxuICogdGhlIGNvbnRhaW5lcidzIHBhcmVudCB2aWV3IGlzIGFkZGVkIGxhdGVyKS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgdG8gaW5zZXJ0XG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gaW5zZXJ0XG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgY29udGFpbmVyIGludG8gd2hpY2ggdGhlIHZpZXcgc2hvdWxkIGJlIGluc2VydGVkXG4gKiBAcGFyYW0gaW5kZXggV2hpY2ggaW5kZXggaW4gdGhlIGNvbnRhaW5lciB0byBpbnNlcnQgdGhlIGNoaWxkIHZpZXcgaW50b1xuICovXG5mdW5jdGlvbiBpbnNlcnRWaWV3KHRWaWV3LCBsVmlldywgbENvbnRhaW5lciwgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcobFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGxDb250YWluZXIpO1xuICAgIGNvbnN0IGluZGV4SW5Db250YWluZXIgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIGNvbnN0IGNvbnRhaW5lckxlbmd0aCA9IGxDb250YWluZXIubGVuZ3RoO1xuICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyB2aWV3LCB3ZSBuZWVkIHRvIGFkZCBpdCB0byB0aGUgY2hpbGRyZW4uXG4gICAgICAgIGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lciAtIDFdW05FWFRdID0gbFZpZXc7XG4gICAgfVxuICAgIGlmIChpbmRleCA8IGNvbnRhaW5lckxlbmd0aCAtIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUKSB7XG4gICAgICAgIGxWaWV3W05FWFRdID0gbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyXTtcbiAgICAgICAgYWRkVG9BcnJheShsQ29udGFpbmVyLCBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIGluZGV4LCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsQ29udGFpbmVyLnB1c2gobFZpZXcpO1xuICAgICAgICBsVmlld1tORVhUXSA9IG51bGw7XG4gICAgfVxuICAgIGxWaWV3W1BBUkVOVF0gPSBsQ29udGFpbmVyO1xuICAgIC8vIHRyYWNrIHZpZXdzIHdoZXJlIGRlY2xhcmF0aW9uIGFuZCBpbnNlcnRpb24gcG9pbnRzIGFyZSBkaWZmZXJlbnRcbiAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSBsVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXTtcbiAgICBpZiAoZGVjbGFyYXRpb25MQ29udGFpbmVyICE9PSBudWxsICYmIGxDb250YWluZXIgIT09IGRlY2xhcmF0aW9uTENvbnRhaW5lcikge1xuICAgICAgICB0cmFja01vdmVkVmlldyhkZWNsYXJhdGlvbkxDb250YWluZXIsIGxWaWV3KTtcbiAgICB9XG4gICAgLy8gbm90aWZ5IHF1ZXJ5IHRoYXQgYSBuZXcgdmlldyBoYXMgYmVlbiBhZGRlZFxuICAgIGNvbnN0IGxRdWVyaWVzID0gbFZpZXdbUVVFUklFU107XG4gICAgaWYgKGxRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIGxRdWVyaWVzLmluc2VydFZpZXcodFZpZXcpO1xuICAgIH1cbiAgICAvLyBTZXRzIHRoZSBhdHRhY2hlZCBmbGFnXG4gICAgbFZpZXdbRkxBR1NdIHw9IDEyOCAvKiBBdHRhY2hlZCAqLztcbn1cbi8qKlxuICogVHJhY2sgdmlld3MgY3JlYXRlZCBmcm9tIHRoZSBkZWNsYXJhdGlvbiBjb250YWluZXIgKFRlbXBsYXRlUmVmKSBhbmQgaW5zZXJ0ZWQgaW50byBhXG4gKiBkaWZmZXJlbnQgTENvbnRhaW5lci5cbiAqL1xuZnVuY3Rpb24gdHJhY2tNb3ZlZFZpZXcoZGVjbGFyYXRpb25Db250YWluZXIsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXcsICdMVmlldyByZXF1aXJlZCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGRlY2xhcmF0aW9uQ29udGFpbmVyKTtcbiAgICBjb25zdCBtb3ZlZFZpZXdzID0gZGVjbGFyYXRpb25Db250YWluZXJbTU9WRURfVklFV1NdO1xuICAgIGNvbnN0IGluc2VydGVkTENvbnRhaW5lciA9IGxWaWV3W1BBUkVOVF07XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoaW5zZXJ0ZWRMQ29udGFpbmVyKTtcbiAgICBjb25zdCBpbnNlcnRlZENvbXBvbmVudExWaWV3ID0gaW5zZXJ0ZWRMQ29udGFpbmVyW1BBUkVOVF1bREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGluc2VydGVkQ29tcG9uZW50TFZpZXcsICdNaXNzaW5nIGluc2VydGVkQ29tcG9uZW50TFZpZXcnKTtcbiAgICBjb25zdCBkZWNsYXJlZENvbXBvbmVudExWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGRlY2xhcmVkQ29tcG9uZW50TFZpZXcsICdNaXNzaW5nIGRlY2xhcmVkQ29tcG9uZW50TFZpZXcnKTtcbiAgICBpZiAoZGVjbGFyZWRDb21wb25lbnRMVmlldyAhPT0gaW5zZXJ0ZWRDb21wb25lbnRMVmlldykge1xuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBkZWNsYXJhdGlvbi1jb21wb25lbnQgaXMgbm90IHNhbWUgYXMgaW5zZXJ0aW9uLWNvbXBvbmVudDsgdGhpcyBtZWFucyB0aGF0XG4gICAgICAgIC8vIHRoaXMgaXMgYSB0cmFuc3BsYW50ZWQgdmlldy4gTWFyayB0aGUgZGVjbGFyZWQgbFZpZXcgYXMgaGF2aW5nIHRyYW5zcGxhbnRlZCB2aWV3cyBzbyB0aGF0XG4gICAgICAgIC8vIHRob3NlIHZpZXdzIGNhbiBwYXJ0aWNpcGF0ZSBpbiBDRC5cbiAgICAgICAgZGVjbGFyYXRpb25Db250YWluZXJbSEFTX1RSQU5TUExBTlRFRF9WSUVXU10gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobW92ZWRWaWV3cyA9PT0gbnVsbCkge1xuICAgICAgICBkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU10gPSBbbFZpZXddO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW92ZWRWaWV3cy5wdXNoKGxWaWV3KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hNb3ZlZFZpZXcoZGVjbGFyYXRpb25Db250YWluZXIsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25Db250YWluZXIpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnREZWZpbmVkKGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXSwgJ0EgcHJvamVjdGVkIHZpZXcgc2hvdWxkIGJlbG9uZyB0byBhIG5vbi1lbXB0eSBwcm9qZWN0ZWQgdmlld3MgY29sbGVjdGlvbicpO1xuICAgIGNvbnN0IG1vdmVkVmlld3MgPSBkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgY29uc3QgZGVjbGFyYXRpb25WaWV3SW5kZXggPSBtb3ZlZFZpZXdzLmluZGV4T2YobFZpZXcpO1xuICAgIGNvbnN0IGluc2VydGlvbkxDb250YWluZXIgPSBsVmlld1tQQVJFTlRdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGluc2VydGlvbkxDb250YWluZXIpO1xuICAgIC8vIElmIHRoZSB2aWV3IHdhcyBtYXJrZWQgZm9yIHJlZnJlc2ggYnV0IHRoZW4gZGV0YWNoZWQgYmVmb3JlIGl0IHdhcyBjaGVja2VkICh3aGVyZSB0aGUgZmxhZ1xuICAgIC8vIHdvdWxkIGJlIGNsZWFyZWQgYW5kIHRoZSBjb3VudGVyIGRlY3JlbWVudGVkKSwgd2UgbmVlZCB0byBkZWNyZW1lbnQgdGhlIHZpZXcgY291bnRlciBoZXJlXG4gICAgLy8gaW5zdGVhZC5cbiAgICBpZiAobFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykge1xuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi87XG4gICAgICAgIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChpbnNlcnRpb25MQ29udGFpbmVyLCAtMSk7XG4gICAgfVxuICAgIG1vdmVkVmlld3Muc3BsaWNlKGRlY2xhcmF0aW9uVmlld0luZGV4LCAxKTtcbn1cbi8qKlxuICogRGV0YWNoZXMgYSB2aWV3IGZyb20gYSBjb250YWluZXIuXG4gKlxuICogVGhpcyBtZXRob2QgcmVtb3ZlcyB0aGUgdmlldyBmcm9tIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBhY3RpdmUgdmlld3MuIEl0IGFsc29cbiAqIHJlbW92ZXMgdGhlIHZpZXcncyBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gKlxuICogQHBhcmFtIGxDb250YWluZXIgVGhlIGNvbnRhaW5lciBmcm9tIHdoaWNoIHRvIGRldGFjaCBhIHZpZXdcbiAqIEBwYXJhbSByZW1vdmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIHZpZXcgdG8gZGV0YWNoXG4gKiBAcmV0dXJucyBEZXRhY2hlZCBMVmlldyBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZGV0YWNoVmlldyhsQ29udGFpbmVyLCByZW1vdmVJbmRleCkge1xuICAgIGlmIChsQ29udGFpbmVyLmxlbmd0aCA8PSBDT05UQUlORVJfSEVBREVSX09GRlNFVClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGluZGV4SW5Db250YWluZXIgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIHJlbW92ZUluZGV4O1xuICAgIGNvbnN0IHZpZXdUb0RldGFjaCA9IGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lcl07XG4gICAgaWYgKHZpZXdUb0RldGFjaCkge1xuICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSB2aWV3VG9EZXRhY2hbREVDTEFSQVRJT05fTENPTlRBSU5FUl07XG4gICAgICAgIGlmIChkZWNsYXJhdGlvbkxDb250YWluZXIgIT09IG51bGwgJiYgZGVjbGFyYXRpb25MQ29udGFpbmVyICE9PSBsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBkZXRhY2hNb3ZlZFZpZXcoZGVjbGFyYXRpb25MQ29udGFpbmVyLCB2aWV3VG9EZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmVJbmRleCA+IDApIHtcbiAgICAgICAgICAgIGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lciAtIDFdW05FWFRdID0gdmlld1RvRGV0YWNoW05FWFRdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZWRMVmlldyA9IHJlbW92ZUZyb21BcnJheShsQ29udGFpbmVyLCBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIHJlbW92ZUluZGV4KTtcbiAgICAgICAgcmVtb3ZlVmlld0Zyb21Db250YWluZXIodmlld1RvRGV0YWNoW1RWSUVXXSwgdmlld1RvRGV0YWNoKTtcbiAgICAgICAgLy8gbm90aWZ5IHF1ZXJ5IHRoYXQgYSB2aWV3IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgY29uc3QgbFF1ZXJpZXMgPSByZW1vdmVkTFZpZXdbUVVFUklFU107XG4gICAgICAgIGlmIChsUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbFF1ZXJpZXMuZGV0YWNoVmlldyhyZW1vdmVkTFZpZXdbVFZJRVddKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3VG9EZXRhY2hbUEFSRU5UXSA9IG51bGw7XG4gICAgICAgIHZpZXdUb0RldGFjaFtORVhUXSA9IG51bGw7XG4gICAgICAgIC8vIFVuc2V0cyB0aGUgYXR0YWNoZWQgZmxhZ1xuICAgICAgICB2aWV3VG9EZXRhY2hbRkxBR1NdICY9IH4xMjggLyogQXR0YWNoZWQgKi87XG4gICAgfVxuICAgIHJldHVybiB2aWV3VG9EZXRhY2g7XG59XG4vKipcbiAqIEEgc3RhbmRhbG9uZSBmdW5jdGlvbiB3aGljaCBkZXN0cm95cyBhbiBMVmlldyxcbiAqIGNvbmR1Y3RpbmcgY2xlYW4gdXAgKGUuZy4gcmVtb3ZpbmcgbGlzdGVuZXJzLCBjYWxsaW5nIG9uRGVzdHJveXMpLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCB0byBiZSBkZXN0cm95ZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byBiZSBkZXN0cm95ZWQuXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lMVmlldyh0VmlldywgbFZpZXcpIHtcbiAgICBpZiAoIShsVmlld1tGTEFHU10gJiAyNTYgLyogRGVzdHJveWVkICovKSkge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSAmJiByZW5kZXJlci5kZXN0cm95Tm9kZSkge1xuICAgICAgICAgICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIDMgLyogRGVzdHJveSAqLywgbnVsbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveVZpZXdUcmVlKGxWaWV3KTtcbiAgICB9XG59XG4vKipcbiAqIENhbGxzIG9uRGVzdHJveXMgaG9va3MgZm9yIGFsbCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBpbiBhIGdpdmVuIHZpZXcgYW5kIHRoZW4gcmVtb3ZlcyBhbGxcbiAqIGxpc3RlbmVycy4gTGlzdGVuZXJzIGFyZSByZW1vdmVkIGFzIHRoZSBsYXN0IHN0ZXAgc28gZXZlbnRzIGRlbGl2ZXJlZCBpbiB0aGUgb25EZXN0cm95cyBob29rc1xuICogY2FuIGJlIHByb3BhZ2F0ZWQgdG8gQE91dHB1dCBsaXN0ZW5lcnMuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgZm9yIHRoZSBgTFZpZXdgIHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB0byBjbGVhbiB1cFxuICovXG5mdW5jdGlvbiBjbGVhblVwVmlldyh0VmlldywgbFZpZXcpIHtcbiAgICBpZiAoIShsVmlld1tGTEFHU10gJiAyNTYgLyogRGVzdHJveWVkICovKSkge1xuICAgICAgICAvLyBVc3VhbGx5IHRoZSBBdHRhY2hlZCBmbGFnIGlzIHJlbW92ZWQgd2hlbiB0aGUgdmlldyBpcyBkZXRhY2hlZCBmcm9tIGl0cyBwYXJlbnQsIGhvd2V2ZXJcbiAgICAgICAgLy8gaWYgaXQncyBhIHJvb3QgdmlldywgdGhlIGZsYWcgd29uJ3QgYmUgdW5zZXQgaGVuY2Ugd2h5IHdlJ3JlIGFsc28gcmVtb3Zpbmcgb24gZGVzdHJveS5cbiAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4xMjggLyogQXR0YWNoZWQgKi87XG4gICAgICAgIC8vIE1hcmsgdGhlIExWaWV3IGFzIGRlc3Ryb3llZCAqYmVmb3JlKiBleGVjdXRpbmcgdGhlIG9uRGVzdHJveSBob29rcy4gQW4gb25EZXN0cm95IGhvb2tcbiAgICAgICAgLy8gcnVucyBhcmJpdHJhcnkgdXNlciBjb2RlLCB3aGljaCBjb3VsZCBpbmNsdWRlIGl0cyBvd24gYHZpZXdSZWYuZGVzdHJveSgpYCAob3Igc2ltaWxhcikuIElmXG4gICAgICAgIC8vIFdlIGRvbid0IGZsYWcgdGhlIHZpZXcgYXMgZGVzdHJveWVkIGJlZm9yZSB0aGUgaG9va3MsIHRoaXMgY291bGQgbGVhZCB0byBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgICAvLyBUaGlzIGFsc28gYWxpZ25zIHdpdGggdGhlIFZpZXdFbmdpbmUgYmVoYXZpb3IuIEl0IGFsc28gbWVhbnMgdGhhdCB0aGUgb25EZXN0cm95IGhvb2sgaXNcbiAgICAgICAgLy8gcmVhbGx5IG1vcmUgb2YgYW4gXCJhZnRlckRlc3Ryb3lcIiBob29rIGlmIHlvdSB0aGluayBhYm91dCBpdC5cbiAgICAgICAgbFZpZXdbRkxBR1NdIHw9IDI1NiAvKiBEZXN0cm95ZWQgKi87XG4gICAgICAgIGV4ZWN1dGVPbkRlc3Ryb3lzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIHByb2Nlc3NDbGVhbnVwcyh0VmlldywgbFZpZXcpO1xuICAgICAgICAvLyBGb3IgY29tcG9uZW50IHZpZXdzIG9ubHksIHRoZSBsb2NhbCByZW5kZXJlciBpcyBkZXN0cm95ZWQgYXQgY2xlYW4gdXAgdGltZS5cbiAgICAgICAgaWYgKGxWaWV3W1RWSUVXXS50eXBlID09PSAxIC8qIENvbXBvbmVudCAqLyAmJiBpc1Byb2NlZHVyYWxSZW5kZXJlcihsVmlld1tSRU5ERVJFUl0pKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyRGVzdHJveSsrO1xuICAgICAgICAgICAgbFZpZXdbUkVOREVSRVJdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkNvbnRhaW5lciA9IGxWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdO1xuICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIGFuIGVtYmVkZGVkIHZpZXcgdGhhdCBpcyBzdGlsbCBpbnNlcnRlZCBpbnRvIGEgY29udGFpbmVyXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbnRhaW5lciAhPT0gbnVsbCAmJiBpc0xDb250YWluZXIobFZpZXdbUEFSRU5UXSkpIHtcbiAgICAgICAgICAgIC8vIGFuZCB0aGlzIGlzIGEgcHJvamVjdGVkIHZpZXdcbiAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbnRhaW5lciAhPT0gbFZpZXdbUEFSRU5UXSkge1xuICAgICAgICAgICAgICAgIGRldGFjaE1vdmVkVmlldyhkZWNsYXJhdGlvbkNvbnRhaW5lciwgbFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm9yIGVtYmVkZGVkIHZpZXdzIHN0aWxsIGF0dGFjaGVkIHRvIGEgY29udGFpbmVyOiByZW1vdmUgcXVlcnkgcmVzdWx0IGZyb20gdGhpcyB2aWV3LlxuICAgICAgICAgICAgY29uc3QgbFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXTtcbiAgICAgICAgICAgIGlmIChsUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxRdWVyaWVzLmRldGFjaFZpZXcodFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqIFJlbW92ZXMgbGlzdGVuZXJzIGFuZCB1bnN1YnNjcmliZXMgZnJvbSBvdXRwdXQgc3Vic2NyaXB0aW9ucyAqL1xuZnVuY3Rpb24gcHJvY2Vzc0NsZWFudXBzKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IHRDbGVhbnVwID0gdFZpZXcuY2xlYW51cDtcbiAgICBjb25zdCBsQ2xlYW51cCA9IGxWaWV3W0NMRUFOVVBdO1xuICAgIC8vIGBMQ2xlYW51cGAgY29udGFpbnMgYm90aCBzaGFyZSBpbmZvcm1hdGlvbiB3aXRoIGBUQ2xlYW51cGAgYXMgd2VsbCBhcyBpbnN0YW5jZSBzcGVjaWZpY1xuICAgIC8vIGluZm9ybWF0aW9uIGFwcGVuZGVkIGF0IHRoZSBlbmQuIFdlIG5lZWQgdG8ga25vdyB3aGVyZSB0aGUgZW5kIG9mIHRoZSBgVENsZWFudXBgIGluZm9ybWF0aW9uXG4gICAgLy8gaXMsIGFuZCB3ZSB0cmFjayB0aGlzIHdpdGggYGxhc3RMQ2xlYW51cEluZGV4YC5cbiAgICBsZXQgbGFzdExDbGVhbnVwSW5kZXggPSAtMTtcbiAgICBpZiAodENsZWFudXAgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Q2xlYW51cC5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdENsZWFudXBbaV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5hdGl2ZSBET00gbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBjb25zdCBpZHhPclRhcmdldEdldHRlciA9IHRDbGVhbnVwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0eXBlb2YgaWR4T3JUYXJnZXRHZXR0ZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICBpZHhPclRhcmdldEdldHRlcihsVmlldykgOlxuICAgICAgICAgICAgICAgICAgICB1bndyYXBSTm9kZShsVmlld1tpZHhPclRhcmdldEdldHRlcl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSB0Q2xlYW51cFtpICsgMl1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZUNhcHR1cmVPclN1YklkeCA9IHRDbGVhbnVwW2kgKyAzXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVzZUNhcHR1cmVPclN1YklkeCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5hdGl2ZSBET00gbGlzdGVuZXIgcmVnaXN0ZXJlZCB3aXRoIFJlbmRlcmVyM1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0Q2xlYW51cFtpXSwgbGlzdGVuZXIsIHVzZUNhcHR1cmVPclN1YklkeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNlQ2FwdHVyZU9yU3ViSWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gdXNlQ2FwdHVyZU9yU3ViSWR4XSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsQ2xlYW51cFtsYXN0TENsZWFudXBJbmRleCA9IC11c2VDYXB0dXJlT3JTdWJJZHhdLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGNsZWFudXAgZnVuY3Rpb24gdGhhdCBpcyBncm91cGVkIHdpdGggdGhlIGluZGV4IG9mIGl0cyBjb250ZXh0XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gdENsZWFudXBbaSArIDFdXTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cFtpXS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsQ2xlYW51cCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gbGFzdExDbGVhbnVwSW5kZXggKyAxOyBpIDwgbENsZWFudXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlQ2xlYW51cEZuID0gbENsZWFudXBbaV07XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RnVuY3Rpb24oaW5zdGFuY2VDbGVhbnVwRm4sICdFeHBlY3RpbmcgaW5zdGFuY2UgY2xlYW51cCBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgIGluc3RhbmNlQ2xlYW51cEZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgbFZpZXdbQ0xFQU5VUF0gPSBudWxsO1xuICAgIH1cbn1cbi8qKiBDYWxscyBvbkRlc3Ryb3kgaG9va3MgZm9yIHRoaXMgdmlldyAqL1xuZnVuY3Rpb24gZXhlY3V0ZU9uRGVzdHJveXModFZpZXcsIGxWaWV3KSB7XG4gICAgbGV0IGRlc3Ryb3lIb29rcztcbiAgICBpZiAodFZpZXcgIT0gbnVsbCAmJiAoZGVzdHJveUhvb2tzID0gdFZpZXcuZGVzdHJveUhvb2tzKSAhPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzdHJveUhvb2tzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbFZpZXdbZGVzdHJveUhvb2tzW2ldXTtcbiAgICAgICAgICAgIC8vIE9ubHkgY2FsbCB0aGUgZGVzdHJveSBob29rIGlmIHRoZSBjb250ZXh0IGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICAgICAgICAgIGlmICghKGNvbnRleHQgaW5zdGFuY2VvZiBOb2RlSW5qZWN0b3JGYWN0b3J5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvQ2FsbCA9IGRlc3Ryb3lIb29rc1tpICsgMV07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG9DYWxsKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRvQ2FsbC5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbENvbnRleHQgPSBjb250ZXh0W3RvQ2FsbFtqXV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob29rID0gdG9DYWxsW2ogKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDQgLyogTGlmZWN5Y2xlSG9va1N0YXJ0ICovLCBjYWxsQ29udGV4dCwgaG9vayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvb2suY2FsbChjYWxsQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlcig1IC8qIExpZmVjeWNsZUhvb2tFbmQgKi8sIGNhbGxDb250ZXh0LCBob29rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGNvbnRleHQsIHRvQ2FsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b0NhbGwuY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgY29udGV4dCwgdG9DYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhIG5hdGl2ZSBlbGVtZW50IGlmIGEgbm9kZSBjYW4gYmUgaW5zZXJ0ZWQgaW50byB0aGUgZ2l2ZW4gcGFyZW50LlxuICpcbiAqIFRoZXJlIGFyZSB0d28gcmVhc29ucyB3aHkgd2UgbWF5IG5vdCBiZSBhYmxlIHRvIGluc2VydCBhIGVsZW1lbnQgaW1tZWRpYXRlbHkuXG4gKiAtIFByb2plY3Rpb246IFdoZW4gY3JlYXRpbmcgYSBjaGlsZCBjb250ZW50IGVsZW1lbnQgb2YgYSBjb21wb25lbnQsIHdlIGhhdmUgdG8gc2tpcCB0aGVcbiAqICAgaW5zZXJ0aW9uIGJlY2F1c2UgdGhlIGNvbnRlbnQgb2YgYSBjb21wb25lbnQgd2lsbCBiZSBwcm9qZWN0ZWQuXG4gKiAgIGA8Y29tcG9uZW50Pjxjb250ZW50PmRlbGF5ZWQgZHVlIHRvIHByb2plY3Rpb248L2NvbnRlbnQ+PC9jb21wb25lbnQ+YFxuICogLSBQYXJlbnQgY29udGFpbmVyIGlzIGRpc2Nvbm5lY3RlZDogVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYXJlIGluc2VydGluZyBhIHZpZXcgaW50b1xuICogICBwYXJlbnQgY29udGFpbmVyLCB3aGljaCBpdHNlbGYgaXMgZGlzY29ubmVjdGVkLiBGb3IgZXhhbXBsZSB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBwYXJ0XG4gKiAgIG9mIGEgVmlldyB3aGljaCBoYXMgbm90IGJlIGluc2VydGVkIG9yIGlzIG1hZGUgZm9yIHByb2plY3Rpb24gYnV0IGhhcyBub3QgYmVlbiBpbnNlcnRlZFxuICogICBpbnRvIGRlc3RpbmF0aW9uLlxuICpcbiAqIEBwYXJhbSB0VmlldzogQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIHROb2RlOiBgVE5vZGVgIGZvciB3aGljaCB3ZSB3aXNoIHRvIHJldHJpZXZlIHJlbmRlciBwYXJlbnQuXG4gKiBAcGFyYW0gbFZpZXc6IEN1cnJlbnQgYExWaWV3YC5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50UkVsZW1lbnQodFZpZXcsIHROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBnZXRDbG9zZXN0UkVsZW1lbnQodFZpZXcsIHROb2RlLnBhcmVudCwgbFZpZXcpO1xufVxuLyoqXG4gKiBHZXQgY2xvc2VzdCBgUkVsZW1lbnRgIG9yIGBudWxsYCBpZiBpdCBjYW4ndCBiZSBmb3VuZC5cbiAqXG4gKiBJZiBgVE5vZGVgIGlzIGBUTm9kZVR5cGUuRWxlbWVudGAgPT4gcmV0dXJuIGBSRWxlbWVudGAgYXQgYExWaWV3W3ROb2RlLmluZGV4XWAgbG9jYXRpb24uXG4gKiBJZiBgVE5vZGVgIGlzIGBUTm9kZVR5cGUuRWxlbWVudENvbnRhaW5lcnxJY3VDb250YWluYCA9PiByZXR1cm4gdGhlIHBhcmVudCAocmVjdXJzaXZlbHkpLlxuICogSWYgYFROb2RlYCBpcyBgbnVsbGAgdGhlbiByZXR1cm4gaG9zdCBgUkVsZW1lbnRgOlxuICogICAtIHJldHVybiBgbnVsbGAgaWYgcHJvamVjdGlvblxuICogICAtIHJldHVybiBgbnVsbGAgaWYgcGFyZW50IGNvbnRhaW5lciBpcyBkaXNjb25uZWN0ZWQgKHdlIGhhdmUgbm8gcGFyZW50LilcbiAqXG4gKiBAcGFyYW0gdFZpZXc6IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSB0Tm9kZTogYFROb2RlYCBmb3Igd2hpY2ggd2Ugd2lzaCB0byByZXRyaWV2ZSBgUkVsZW1lbnRgIChvciBgbnVsbGAgaWYgaG9zdCBlbGVtZW50IGlzXG4gKiAgICAgbmVlZGVkKS5cbiAqIEBwYXJhbSBsVmlldzogQ3VycmVudCBgTFZpZXdgLlxuICogQHJldHVybnMgYG51bGxgIGlmIHRoZSBgUkVsZW1lbnRgIGNhbid0IGJlIGRldGVybWluZWQgYXQgdGhpcyB0aW1lIChubyBwYXJlbnQgLyBwcm9qZWN0aW9uKVxuICovXG5mdW5jdGlvbiBnZXRDbG9zZXN0UkVsZW1lbnQodFZpZXcsIHROb2RlLCBsVmlldykge1xuICAgIGxldCBwYXJlbnRUTm9kZSA9IHROb2RlO1xuICAgIC8vIFNraXAgb3ZlciBlbGVtZW50IGFuZCBJQ1UgY29udGFpbmVycyBhcyB0aG9zZSBhcmUgcmVwcmVzZW50ZWQgYnkgYSBjb21tZW50IG5vZGUgYW5kXG4gICAgLy8gY2FuJ3QgYmUgdXNlZCBhcyBhIHJlbmRlciBwYXJlbnQuXG4gICAgd2hpbGUgKHBhcmVudFROb2RlICE9PSBudWxsICYmXG4gICAgICAgIChwYXJlbnRUTm9kZS50eXBlICYgKDggLyogRWxlbWVudENvbnRhaW5lciAqLyB8IDMyIC8qIEljdSAqLykpKSB7XG4gICAgICAgIHROb2RlID0gcGFyZW50VE5vZGU7XG4gICAgICAgIHBhcmVudFROb2RlID0gdE5vZGUucGFyZW50O1xuICAgIH1cbiAgICAvLyBJZiB0aGUgcGFyZW50IHROb2RlIGlzIG51bGwsIHRoZW4gd2UgYXJlIGluc2VydGluZyBhY3Jvc3Mgdmlld3M6IGVpdGhlciBpbnRvIGFuIGVtYmVkZGVkIHZpZXdcbiAgICAvLyBvciBhIGNvbXBvbmVudCB2aWV3LlxuICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBhcmUgaW5zZXJ0aW5nIGEgcm9vdCBlbGVtZW50IG9mIHRoZSBjb21wb25lbnQgdmlldyBpbnRvIHRoZSBjb21wb25lbnQgaG9zdCBlbGVtZW50IGFuZFxuICAgICAgICAvLyBpdCBzaG91bGQgYWx3YXlzIGJlIGVhZ2VyLlxuICAgICAgICByZXR1cm4gbFZpZXdbSE9TVF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHBhcmVudFROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgNCAvKiBDb250YWluZXIgKi8pO1xuICAgICAgICBpZiAocGFyZW50VE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcocGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgIGNvbnN0IGVuY2Fwc3VsYXRpb24gPSB0Vmlldy5kYXRhW3BhcmVudFROb2RlLmRpcmVjdGl2ZVN0YXJ0XS5lbmNhcHN1bGF0aW9uO1xuICAgICAgICAgICAgLy8gV2UndmUgZ290IGEgcGFyZW50IHdoaWNoIGlzIGFuIGVsZW1lbnQgaW4gdGhlIGN1cnJlbnQgdmlldy4gV2UganVzdCBuZWVkIHRvIHZlcmlmeSBpZiB0aGVcbiAgICAgICAgICAgIC8vIHBhcmVudCBlbGVtZW50IGlzIG5vdCBhIGNvbXBvbmVudC4gQ29tcG9uZW50J3MgY29udGVudCBub2RlcyBhcmUgbm90IGluc2VydGVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoZXkgd2lsbCBiZSBwcm9qZWN0ZWQsIGFuZCBzbyBkb2luZyBpbnNlcnQgYXQgdGhpcyBwb2ludCB3b3VsZCBiZSB3YXN0ZWZ1bC5cbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBwcm9qZWN0aW9uIHdvdWxkIHRoZW4gbW92ZSBpdCB0byBpdHMgZmluYWwgZGVzdGluYXRpb24uIE5vdGUgdGhhdCB3ZSBjYW4ndFxuICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGFzc3VtcHRpb24gd2hlbiB1c2luZyB0aGUgU2hhZG93IERPTSwgYmVjYXVzZSB0aGUgbmF0aXZlIHByb2plY3Rpb24gcGxhY2Vob2xkZXJzXG4gICAgICAgICAgICAvLyAoPGNvbnRlbnQ+IG9yIDxzbG90PikgaGF2ZSB0byBiZSBpbiBwbGFjZSBhcyBlbGVtZW50cyBhcmUgYmVpbmcgaW5zZXJ0ZWQuXG4gICAgICAgICAgICBpZiAoZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24kMS5Ob25lIHx8XG4gICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24kMS5FbXVsYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXROYXRpdmVCeVROb2RlKHBhcmVudFROb2RlLCBsVmlldyk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnRzIGEgbmF0aXZlIG5vZGUgYmVmb3JlIGFub3RoZXIgbmF0aXZlIG5vZGUgZm9yIGEgZ2l2ZW4gcGFyZW50IHVzaW5nIHtAbGluayBSZW5kZXJlcjN9LlxuICogVGhpcyBpcyBhIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB3aGVuIG5hdGl2ZSBub2RlcyB3ZXJlIGRldGVybWluZWQgLSBpdCBhYnN0cmFjdHMgYW5cbiAqIGFjdHVhbCByZW5kZXJlciBiZWluZyB1c2VkLlxuICovXG5mdW5jdGlvbiBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJJbnNlcnRCZWZvcmUrKztcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLmluc2VydEJlZm9yZShwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuYXRpdmVBcHBlbmRDaGlsZChyZW5kZXJlciwgcGFyZW50LCBjaGlsZCkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBcHBlbmRDaGlsZCsrO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHBhcmVudCwgJ3BhcmVudCBub2RlIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIuYXBwZW5kQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5hdGl2ZUFwcGVuZE9ySW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpIHtcbiAgICBpZiAoYmVmb3JlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuYXRpdmVBcHBlbmRDaGlsZChyZW5kZXJlciwgcGFyZW50LCBjaGlsZCk7XG4gICAgfVxufVxuLyoqIFJlbW92ZXMgYSBub2RlIGZyb20gdGhlIERPTSBnaXZlbiBpdHMgbmF0aXZlIHBhcmVudC4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVJlbW92ZUNoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBpc0hvc3RFbGVtZW50KSB7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5yZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkLCBpc0hvc3RFbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIHBhcmVudCBvZiBhIGdpdmVuIG5hdGl2ZSBub2RlLlxuICovXG5mdW5jdGlvbiBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBub2RlKSB7XG4gICAgcmV0dXJuIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5wYXJlbnROb2RlKG5vZGUpIDogbm9kZS5wYXJlbnROb2RlKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIG5hdGl2ZSBzaWJsaW5nIG9mIGEgZ2l2ZW4gbmF0aXZlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZU5leHRTaWJsaW5nKHJlbmRlcmVyLCBub2RlKSB7XG4gICAgcmV0dXJuIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLm5leHRTaWJsaW5nKG5vZGUpIDogbm9kZS5uZXh0U2libGluZztcbn1cbi8qKlxuICogRmluZCBhIG5vZGUgaW4gZnJvbnQgb2Ygd2hpY2ggYGN1cnJlbnRUTm9kZWAgc2hvdWxkIGJlIGluc2VydGVkLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRldGVybWluZXMgdGhlIGBSTm9kZWAgaW4gZnJvbnQgb2Ygd2hpY2ggd2Ugc2hvdWxkIGluc2VydCB0aGUgYGN1cnJlbnRSTm9kZWAuIFRoaXNcbiAqIHRha2VzIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgaW50byBhY2NvdW50IGlmIGkxOG4gY29kZSBoYXMgYmVlbiBpbnZva2VkLlxuICpcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBwYXJlbnQgYFROb2RlYFxuICogQHBhcmFtIGN1cnJlbnRUTm9kZSBjdXJyZW50IGBUTm9kZWAgKFRoZSBub2RlIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gaW5zZXJ0IGludG8gdGhlIERPTSlcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpO1xufVxuLyoqXG4gKiBGaW5kIGEgbm9kZSBpbiBmcm9udCBvZiB3aGljaCBgY3VycmVudFROb2RlYCBzaG91bGQgYmUgaW5zZXJ0ZWQuIChEb2VzIG5vdCB0YWtlIGkxOG4gaW50b1xuICogYWNjb3VudClcbiAqXG4gKiBUaGlzIG1ldGhvZCBkZXRlcm1pbmVzIHRoZSBgUk5vZGVgIGluIGZyb250IG9mIHdoaWNoIHdlIHNob3VsZCBpbnNlcnQgdGhlIGBjdXJyZW50Uk5vZGVgLiBUaGlzXG4gKiBkb2VzIG5vdCB0YWtlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgaW50byBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBwYXJlbnQgYFROb2RlYFxuICogQHBhcmFtIGN1cnJlbnRUTm9kZSBjdXJyZW50IGBUTm9kZWAgKFRoZSBub2RlIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gaW5zZXJ0IGludG8gdGhlIERPTSlcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHBhcmVudFROb2RlLnR5cGUgJiAoOCAvKiBFbGVtZW50Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovKSkge1xuICAgICAgICByZXR1cm4gZ2V0TmF0aXZlQnlUTm9kZShwYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVHJlZSBzaGFrYWJsZSBib3VuZGFyeSBmb3IgYGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG5gIGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIHNldCBpZiBpMThuIGNvZGUgcnVucy5cbiAqL1xubGV0IF9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuO1xuLyoqXG4gKiBUcmVlIHNoYWthYmxlIGJvdW5kYXJ5IGZvciBgcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmVgIGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIHNldCBpZiBpMThuIGNvZGUgcnVucy5cbiAqL1xubGV0IF9wcm9jZXNzSTE4bkluc2VydEJlZm9yZTtcbmZ1bmN0aW9uIHNldEkxOG5IYW5kbGluZyhnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuLCBwcm9jZXNzSTE4bkluc2VydEJlZm9yZSkge1xuICAgIF9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bjtcbiAgICBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUgPSBwcm9jZXNzSTE4bkluc2VydEJlZm9yZTtcbn1cbi8qKlxuICogQXBwZW5kcyB0aGUgYGNoaWxkYCBuYXRpdmUgbm9kZSAob3IgYSBjb2xsZWN0aW9uIG9mIG5vZGVzKSB0byB0aGUgYHBhcmVudGAuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIHRvIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGN1cnJlbnQgTFZpZXdcbiAqIEBwYXJhbSBjaGlsZFJOb2RlIFRoZSBuYXRpdmUgY2hpbGQgKG9yIGNoaWxkcmVuKSB0aGF0IHNob3VsZCBiZSBhcHBlbmRlZFxuICogQHBhcmFtIGNoaWxkVE5vZGUgVGhlIFROb2RlIG9mIHRoZSBjaGlsZCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgY2hpbGRSTm9kZSwgY2hpbGRUTm9kZSkge1xuICAgIGNvbnN0IHBhcmVudFJOb2RlID0gZ2V0UGFyZW50UkVsZW1lbnQodFZpZXcsIGNoaWxkVE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBjb25zdCBwYXJlbnRUTm9kZSA9IGNoaWxkVE5vZGUucGFyZW50IHx8IGxWaWV3W1RfSE9TVF07XG4gICAgY29uc3QgYW5jaG9yTm9kZSA9IGdldEluc2VydEluRnJvbnRPZlJOb2RlKHBhcmVudFROb2RlLCBjaGlsZFROb2RlLCBsVmlldyk7XG4gICAgaWYgKHBhcmVudFJOb2RlICE9IG51bGwpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRSTm9kZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRSTm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUFwcGVuZE9ySW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgY2hpbGRSTm9kZVtpXSwgYW5jaG9yTm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCBjaGlsZFJOb2RlLCBhbmNob3JOb2RlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBjaGlsZFROb2RlLCBsVmlldywgY2hpbGRSTm9kZSwgcGFyZW50Uk5vZGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBuYXRpdmUgbm9kZSBmb3IgYSBnaXZlbiBMVmlldywgc3RhcnRpbmcgZnJvbSB0aGUgcHJvdmlkZWQgVE5vZGUuXG4gKlxuICogTmF0aXZlIG5vZGVzIGFyZSByZXR1cm5lZCBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhvc2UgYXBwZWFyIGluIHRoZSBuYXRpdmUgdHJlZSAoRE9NKS5cbiAqL1xuZnVuY3Rpb24gZ2V0Rmlyc3ROYXRpdmVOb2RlKGxWaWV3LCB0Tm9kZSkge1xuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDMyIC8qIEljdSAqLyB8IDE2IC8qIFByb2plY3Rpb24gKi8pO1xuICAgICAgICBjb25zdCB0Tm9kZVR5cGUgPSB0Tm9kZS50eXBlO1xuICAgICAgICBpZiAodE5vZGVUeXBlICYgMyAvKiBBbnlSTm9kZSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJlZm9yZU5vZGVGb3JWaWV3KC0xLCBsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgY29uc3QgZWxJY3VDb250YWluZXJDaGlsZCA9IHROb2RlLmNoaWxkO1xuICAgICAgICAgICAgaWYgKGVsSWN1Q29udGFpbmVyQ2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVOb2RlKGxWaWV3LCBlbEljdUNvbnRhaW5lckNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJOb2RlT3JMQ29udGFpbmVyID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc0xDb250YWluZXIock5vZGVPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRCZWZvcmVOb2RlRm9yVmlldygtMSwgck5vZGVPckxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVud3JhcFJOb2RlKHJOb2RlT3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSB7XG4gICAgICAgICAgICBsZXQgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0ZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgbGV0IHJOb2RlID0gbmV4dFJOb2RlKCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgSUNVIGNvbnRhaW5lciBoYXMgbm8gbm9kZXMsIHRoYW4gd2UgdXNlIHRoZSBJQ1UgYW5jaG9yIGFzIHRoZSBub2RlLlxuICAgICAgICAgICAgcmV0dXJuIHJOb2RlIHx8IHVud3JhcFJOb2RlKGxWaWV3W3ROb2RlLmluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uTm9kZXMgPSBnZXRQcm9qZWN0aW9uTm9kZXMobFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0aW9uTm9kZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9qZWN0aW9uTm9kZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0aW9uTm9kZXNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSBnZXRMVmlld1BhcmVudChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10pO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQYXJlbnRWaWV3KHBhcmVudFZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUocGFyZW50VmlldywgcHJvamVjdGlvbk5vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIHROb2RlLm5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0UHJvamVjdGlvbk5vZGVzKGxWaWV3LCB0Tm9kZSkge1xuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgICAgICBjb25zdCBjb21wb25lbnRIb3N0ID0gY29tcG9uZW50Vmlld1tUX0hPU1RdO1xuICAgICAgICBjb25zdCBzbG90SWR4ID0gdE5vZGUucHJvamVjdGlvbjtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFByb2plY3Rpb25TbG90cyhsVmlldyk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRIb3N0LnByb2plY3Rpb25bc2xvdElkeF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0QmVmb3JlTm9kZUZvclZpZXcodmlld0luZGV4SW5Db250YWluZXIsIGxDb250YWluZXIpIHtcbiAgICBjb25zdCBuZXh0Vmlld0luZGV4ID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgKyB2aWV3SW5kZXhJbkNvbnRhaW5lciArIDE7XG4gICAgaWYgKG5leHRWaWV3SW5kZXggPCBsQ29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IGxDb250YWluZXJbbmV4dFZpZXdJbmRleF07XG4gICAgICAgIGNvbnN0IGZpcnN0VE5vZGVPZlZpZXcgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0VE5vZGVPZlZpZXcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIGZpcnN0VE5vZGVPZlZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsQ29udGFpbmVyW05BVElWRV07XG59XG4vKipcbiAqIFJlbW92ZXMgYSBuYXRpdmUgbm9kZSBpdHNlbGYgdXNpbmcgYSBnaXZlbiByZW5kZXJlci4gVG8gcmVtb3ZlIHRoZSBub2RlIHdlIGFyZSBsb29raW5nIHVwIGl0c1xuICogcGFyZW50IGZyb20gdGhlIG5hdGl2ZSB0cmVlIGFzIG5vdCBhbGwgcGxhdGZvcm1zIC8gYnJvd3NlcnMgc3VwcG9ydCB0aGUgZXF1aXZhbGVudCBvZlxuICogbm9kZS5yZW1vdmUoKS5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgQSByZW5kZXJlciB0byBiZSB1c2VkXG4gKiBAcGFyYW0gck5vZGUgVGhlIG5hdGl2ZSBub2RlIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAqIEBwYXJhbSBpc0hvc3RFbGVtZW50IEEgZmxhZyBpbmRpY2F0aW5nIGlmIGEgbm9kZSB0byBiZSByZW1vdmVkIGlzIGEgaG9zdCBvZiBhIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlUmVtb3ZlTm9kZShyZW5kZXJlciwgck5vZGUsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlTm9kZSsrO1xuICAgIGNvbnN0IG5hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIHJOb2RlKTtcbiAgICBpZiAobmF0aXZlUGFyZW50KSB7XG4gICAgICAgIG5hdGl2ZVJlbW92ZUNoaWxkKHJlbmRlcmVyLCBuYXRpdmVQYXJlbnQsIHJOb2RlLCBpc0hvc3RFbGVtZW50KTtcbiAgICB9XG59XG4vKipcbiAqIFBlcmZvcm1zIHRoZSBvcGVyYXRpb24gb2YgYGFjdGlvbmAgb24gdGhlIG5vZGUuIFR5cGljYWxseSB0aGlzIGludm9sdmVzIGluc2VydGluZyBvciByZW1vdmluZ1xuICogbm9kZXMgb24gdGhlIExWaWV3IG9yIHByb2plY3Rpb24gYm91bmRhcnkuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgdE5vZGUsIGxWaWV3LCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSwgaXNQcm9qZWN0aW9uKSB7XG4gICAgd2hpbGUgKHROb2RlICE9IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAxNiAvKiBQcm9qZWN0aW9uICovIHwgMzIgLyogSWN1ICovKTtcbiAgICAgICAgY29uc3QgcmF3U2xvdFZhbHVlID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBjb25zdCB0Tm9kZVR5cGUgPSB0Tm9kZS50eXBlO1xuICAgICAgICBpZiAoaXNQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSAwIC8qIENyZWF0ZSAqLykge1xuICAgICAgICAgICAgICAgIHJhd1Nsb3RWYWx1ZSAmJiBhdHRhY2hQYXRjaERhdGEodW53cmFwUk5vZGUocmF3U2xvdFZhbHVlKSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDQgLyogaXNQcm9qZWN0ZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0Tm9kZS5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pICE9PSA2NCAvKiBpc0RldGFjaGVkICovKSB7XG4gICAgICAgICAgICBpZiAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCB0Tm9kZS5jaGlsZCwgbFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgcmF3U2xvdFZhbHVlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRSTm9kZSA9IGljdUNvbnRhaW5lckl0ZXJhdGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICBsZXQgck5vZGU7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJOb2RlID0gbmV4dFJOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgck5vZGUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByYXdTbG90VmFsdWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAgICAgICAgIGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZShyZW5kZXJlciwgYWN0aW9uLCBsVmlldywgdE5vZGUsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCA0IC8qIENvbnRhaW5lciAqLyk7XG4gICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgcmF3U2xvdFZhbHVlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IGlzUHJvamVjdGlvbiA/IHROb2RlLnByb2plY3Rpb25OZXh0IDogdE5vZGUubmV4dDtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgYWN0aW9uLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSkge1xuICAgIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgdFZpZXcuZmlyc3RDaGlsZCwgbFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCBmYWxzZSk7XG59XG4vKipcbiAqIGBhcHBseVByb2plY3Rpb25gIHBlcmZvcm1zIG9wZXJhdGlvbiBvbiB0aGUgcHJvamVjdGlvbi5cbiAqXG4gKiBJbnNlcnRpbmcgYSBwcm9qZWN0aW9uIHJlcXVpcmVzIHVzIHRvIGxvY2F0ZSB0aGUgcHJvamVjdGVkIG5vZGVzIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuIFRoZVxuICogY29tcGxpY2F0aW9uIGlzIHRoYXQgdGhvc2Ugbm9kZXMgdGhlbXNlbHZlcyBjb3VsZCBiZSByZS1wcm9qZWN0ZWQgZnJvbSB0aGVpciBwYXJlbnQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3YCBvZiBgTFZpZXdgIHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkLCBkZXRhY2hlZCwgZGVzdHJveWVkXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2Agd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWQuXG4gKiBAcGFyYW0gdFByb2plY3Rpb25Ob2RlIG5vZGUgdG8gcHJvamVjdFxuICovXG5mdW5jdGlvbiBhcHBseVByb2plY3Rpb24odFZpZXcsIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBjb25zdCBwYXJlbnRSTm9kZSA9IGdldFBhcmVudFJFbGVtZW50KHRWaWV3LCB0UHJvamVjdGlvbk5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBwYXJlbnRUTm9kZSA9IHRQcm9qZWN0aW9uTm9kZS5wYXJlbnQgfHwgbFZpZXdbVF9IT1NUXTtcbiAgICBsZXQgYmVmb3JlTm9kZSA9IGdldEluc2VydEluRnJvbnRPZlJOb2RlKHBhcmVudFROb2RlLCB0UHJvamVjdGlvbk5vZGUsIGxWaWV3KTtcbiAgICBhcHBseVByb2plY3Rpb25SZWN1cnNpdmUocmVuZGVyZXIsIDAgLyogQ3JlYXRlICovLCBsVmlldywgdFByb2plY3Rpb25Ob2RlLCBwYXJlbnRSTm9kZSwgYmVmb3JlTm9kZSk7XG59XG4vKipcbiAqIGBhcHBseVByb2plY3Rpb25SZWN1cnNpdmVgIHBlcmZvcm1zIG9wZXJhdGlvbiBvbiB0aGUgcHJvamVjdGlvbiBzcGVjaWZpZWQgYnkgYGFjdGlvbmAgKGluc2VydCxcbiAqIGRldGFjaCwgZGVzdHJveSlcbiAqXG4gKiBJbnNlcnRpbmcgYSBwcm9qZWN0aW9uIHJlcXVpcmVzIHVzIHRvIGxvY2F0ZSB0aGUgcHJvamVjdGVkIG5vZGVzIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuIFRoZVxuICogY29tcGxpY2F0aW9uIGlzIHRoYXQgdGhvc2Ugbm9kZXMgdGhlbXNlbHZlcyBjb3VsZCBiZSByZS1wcm9qZWN0ZWQgZnJvbSB0aGVpciBwYXJlbnQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXIgdG8gdXNlXG4gKiBAcGFyYW0gYWN0aW9uIGFjdGlvbiB0byBwZXJmb3JtIChpbnNlcnQsIGRldGFjaCwgZGVzdHJveSlcbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWQuXG4gKiBAcGFyYW0gdFByb2plY3Rpb25Ob2RlIG5vZGUgdG8gcHJvamVjdFxuICogQHBhcmFtIHBhcmVudFJFbGVtZW50IHBhcmVudCBET00gZWxlbWVudCBmb3IgaW5zZXJ0aW9uL3JlbW92YWwuXG4gKiBAcGFyYW0gYmVmb3JlTm9kZSBCZWZvcmUgd2hpY2ggbm9kZSB0aGUgaW5zZXJ0aW9ucyBzaG91bGQgaGFwcGVuLlxuICovXG5mdW5jdGlvbiBhcHBseVByb2plY3Rpb25SZWN1cnNpdmUocmVuZGVyZXIsIGFjdGlvbiwgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpIHtcbiAgICBjb25zdCBjb21wb25lbnRMVmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICBjb25zdCBjb21wb25lbnROb2RlID0gY29tcG9uZW50TFZpZXdbVF9IT1NUXTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIHRQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uLCAnbnVtYmVyJywgJ2V4cGVjdGluZyBwcm9qZWN0aW9uIGluZGV4Jyk7XG4gICAgY29uc3Qgbm9kZVRvUHJvamVjdE9yUk5vZGVzID0gY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uW3RQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlVG9Qcm9qZWN0T3JSTm9kZXMpKSB7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIG5vdCBleGlzdCwgaXQgaXMgYSBiaXQgb2YgYSBoYWNrLiBXaGVuIHdlIGJvb3RzdHJhcCBhIHRvcCBsZXZlbCBub2RlIGFuZCB3ZVxuICAgICAgICAvLyBuZWVkIHRvIHN1cHBvcnQgcGFzc2luZyBwcm9qZWN0YWJsZSBub2Rlcywgc28gd2UgY2hlYXQgYW5kIHB1dCB0aGVtIGluIHRoZSBUTm9kZVxuICAgICAgICAvLyBvZiB0aGUgSG9zdCBUVmlldy4gKFllcyB3ZSBwdXQgaW5zdGFuY2UgaW5mbyBhdCB0aGUgVCBMZXZlbCkuIFdlIGNhbiBnZXQgYXdheSB3aXRoIGl0XG4gICAgICAgIC8vIGJlY2F1c2Ugd2Uga25vdyB0aGF0IHRoYXQgVFZpZXcgaXMgbm90IHNoYXJlZCBhbmQgdGhlcmVmb3JlIGl0IHdpbGwgbm90IGJlIGEgcHJvYmxlbS5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgcmVmYWN0b3JlZCBhbmQgY2xlYW5lZCB1cC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlVG9Qcm9qZWN0T3JSTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJOb2RlID0gbm9kZVRvUHJvamVjdE9yUk5vZGVzW2ldO1xuICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgck5vZGUsIGJlZm9yZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbm9kZVRvUHJvamVjdCA9IG5vZGVUb1Byb2plY3RPclJOb2RlcztcbiAgICAgICAgY29uc3QgcHJvamVjdGVkQ29tcG9uZW50TFZpZXcgPSBjb21wb25lbnRMVmlld1tQQVJFTlRdO1xuICAgICAgICBhcHBseU5vZGVzKHJlbmRlcmVyLCBhY3Rpb24sIG5vZGVUb1Byb2plY3QsIHByb2plY3RlZENvbXBvbmVudExWaWV3LCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSwgdHJ1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBgYXBwbHlDb250YWluZXJgIHBlcmZvcm1zIGFuIG9wZXJhdGlvbiBvbiB0aGUgY29udGFpbmVyIGFuZCBpdHMgdmlld3MgYXMgc3BlY2lmaWVkIGJ5XG4gKiBgYWN0aW9uYCAoaW5zZXJ0LCBkZXRhY2gsIGRlc3Ryb3kpXG4gKlxuICogSW5zZXJ0aW5nIGEgQ29udGFpbmVyIGlzIGNvbXBsaWNhdGVkIGJ5IHRoZSBmYWN0IHRoYXQgdGhlIGNvbnRhaW5lciBtYXkgaGF2ZSBWaWV3cyB3aGljaFxuICogdGhlbXNlbHZlcyBoYXZlIGNvbnRhaW5lcnMgb3IgcHJvamVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIGFjdGlvbiBhY3Rpb24gdG8gcGVyZm9ybSAoaW5zZXJ0LCBkZXRhY2gsIGRlc3Ryb3kpXG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgTENvbnRhaW5lciB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZC5cbiAqIEBwYXJhbSBwYXJlbnRSRWxlbWVudCBwYXJlbnQgRE9NIGVsZW1lbnQgZm9yIGluc2VydGlvbi9yZW1vdmFsLlxuICogQHBhcmFtIGJlZm9yZU5vZGUgQmVmb3JlIHdoaWNoIG5vZGUgdGhlIGluc2VydGlvbnMgc2hvdWxkIGhhcHBlbi5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDb250YWluZXIocmVuZGVyZXIsIGFjdGlvbiwgbENvbnRhaW5lciwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihsQ29udGFpbmVyKTtcbiAgICBjb25zdCBhbmNob3IgPSBsQ29udGFpbmVyW05BVElWRV07IC8vIExDb250YWluZXIgaGFzIGl0cyBvd24gYmVmb3JlIG5vZGUuXG4gICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUobENvbnRhaW5lcik7XG4gICAgLy8gQW4gTENvbnRhaW5lciBjYW4gYmUgY3JlYXRlZCBkeW5hbWljYWxseSBvbiBhbnkgbm9kZSBieSBpbmplY3RpbmcgVmlld0NvbnRhaW5lclJlZi5cbiAgICAvLyBBc2tpbmcgZm9yIGEgVmlld0NvbnRhaW5lclJlZiBvbiBhbiBlbGVtZW50IHdpbGwgcmVzdWx0IGluIGEgY3JlYXRpb24gb2YgYSBzZXBhcmF0ZSBhbmNob3JcbiAgICAvLyBub2RlIChjb21tZW50IGluIHRoZSBET00pIHRoYXQgd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgTENvbnRhaW5lcidzIGhvc3Qgbm9kZS4gSW4gdGhpc1xuICAgIC8vIHBhcnRpY3VsYXIgY2FzZSB3ZSBuZWVkIHRvIGV4ZWN1dGUgYWN0aW9uIG9uIDIgbm9kZXM6XG4gICAgLy8gLSBjb250YWluZXIncyBob3N0IG5vZGUgKHRoaXMgaXMgZG9uZSBpbiB0aGUgZXhlY3V0ZUFjdGlvbk9uRWxlbWVudE9yQ29udGFpbmVyKVxuICAgIC8vIC0gY29udGFpbmVyJ3MgaG9zdCBub2RlICh0aGlzIGlzIGRvbmUgaGVyZSlcbiAgICBpZiAoYW5jaG9yICE9PSBuYXRpdmUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB2ZXJ5IHN0cmFuZ2UgdG8gbWUgKE1pc2tvKS4gSSB3b3VsZCBleHBlY3QgdGhhdCB0aGUgbmF0aXZlIGlzIHNhbWUgYXMgYW5jaG9yLiBJXG4gICAgICAgIC8vIGRvbid0IHNlZSBhIHJlYXNvbiB3aHkgdGhleSBzaG91bGQgYmUgZGlmZmVyZW50LCBidXQgdGhleSBhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZXkgYXJlIHdlIG5lZWQgdG8gcHJvY2VzcyB0aGUgc2Vjb25kIGFuY2hvciBhcyB3ZWxsLlxuICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCBhbmNob3IsIGJlZm9yZU5vZGUpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgYXBwbHlWaWV3KGxWaWV3W1RWSUVXXSwgbFZpZXcsIHJlbmRlcmVyLCBhY3Rpb24sIHBhcmVudFJFbGVtZW50LCBhbmNob3IpO1xuICAgIH1cbn1cbi8qKlxuICogV3JpdGVzIGNsYXNzL3N0eWxlIHRvIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZS5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGl0IHNob3VsZCBiZSB3cml0dGVuIHRvIGBjbGFzc2AgKGBmYWxzZWAgdG8gd3JpdGUgdG8gYHN0eWxlYClcbiAqIEBwYXJhbSByTm9kZSBUaGUgTm9kZSB0byB3cml0ZSB0by5cbiAqIEBwYXJhbSBwcm9wIFByb3BlcnR5IHRvIHdyaXRlIHRvLiBUaGlzIHdvdWxkIGJlIHRoZSBjbGFzcy9zdHlsZSBuYW1lLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHdyaXRlLiBJZiBgbnVsbGAvYHVuZGVmaW5lZGAvYGZhbHNlYCB0aGlzIGlzIGNvbnNpZGVyZWQgYSByZW1vdmUgKHNldC9hZGRcbiAqICAgICAgICBvdGhlcndpc2UpLlxuICovXG5mdW5jdGlvbiBhcHBseVN0eWxpbmcocmVuZGVyZXIsIGlzQ2xhc3NCYXNlZCwgck5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgY29uc3QgaXNQcm9jZWR1cmFsID0gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpO1xuICAgIGlmIChpc0NsYXNzQmFzZWQpIHtcbiAgICAgICAgLy8gV2UgYWN0dWFsbHkgd2FudCBKUyB0cnVlL2ZhbHNlIGhlcmUgYmVjYXVzZSBhbnkgdHJ1dGh5IHZhbHVlIHNob3VsZCBhZGQgdGhlIGNsYXNzXG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVDbGFzcysrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZUNsYXNzKHJOb2RlLCBwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJOb2RlLmNsYXNzTGlzdC5yZW1vdmUocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQWRkQ2xhc3MrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5hZGRDbGFzcyhyTm9kZSwgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChyTm9kZS5jbGFzc0xpc3QsICdIVE1MRWxlbWVudCBleHBlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHJOb2RlLmNsYXNzTGlzdC5hZGQocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBmbGFncyA9IHByb3AuaW5kZXhPZignLScpID09PSAtMSA/IHVuZGVmaW5lZCA6IFJlbmRlcmVyU3R5bGVGbGFnczIuRGFzaENhc2U7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIC8qKiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlU3R5bGUrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW1vdmVTdHlsZShyTm9kZSwgcHJvcCwgZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgck5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBIHZhbHVlIGlzIGltcG9ydGFudCBpZiBpdCBlbmRzIHdpdGggYCFpbXBvcnRhbnRgLiBUaGUgc3R5bGVcbiAgICAgICAgICAgIC8vIHBhcnNlciBzdHJpcHMgYW55IHNlbWljb2xvbnMgYXQgdGhlIGVuZCBvZiB0aGUgdmFsdWUuXG4gICAgICAgICAgICBjb25zdCBpc0ltcG9ydGFudCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZS5lbmRzV2l0aCgnIWltcG9ydGFudCcpIDogZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNJbXBvcnRhbnQpIHtcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50IGhhcyB0byBiZSBzdHJpcHBlZCBmcm9tIHRoZSB2YWx1ZSBmb3IgaXQgdG8gYmUgdmFsaWQuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCAtMTApO1xuICAgICAgICAgICAgICAgIGZsYWdzIHw9IFJlbmRlcmVyU3R5bGVGbGFnczIuSW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldFN0eWxlKys7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZWR1cmFsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0U3R5bGUock5vZGUsIHByb3AsIHZhbHVlLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChyTm9kZS5zdHlsZSwgJ0hUTUxFbGVtZW50IGV4cGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgck5vZGUuc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgdmFsdWUsIGlzSW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFdyaXRlIGBjc3NUZXh0YCB0byBgUkVsZW1lbnRgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBkaXJlY3Qgd3JpdGUgd2l0aG91dCBhbnkgcmVjb25jaWxpYXRpb24uIFVzZWQgZm9yIHdyaXRpbmcgaW5pdGlhbCB2YWx1ZXMsIHNvXG4gKiB0aGF0IHN0YXRpYyBzdHlsaW5nIHZhbHVlcyBkbyBub3QgcHVsbCBpbiB0aGUgc3R5bGUgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2VcbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHdoaWNoIG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gKiBAcGFyYW0gbmV3VmFsdWUgVGhlIG5ldyBjbGFzcyBsaXN0IHRvIHdyaXRlLlxuICovXG5mdW5jdGlvbiB3cml0ZURpcmVjdFN0eWxlKHJlbmRlcmVyLCBlbGVtZW50LCBuZXdWYWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRTdHJpbmcobmV3VmFsdWUsICdcXCduZXdWYWx1ZVxcJyBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnc3R5bGUnLCBuZXdWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldFN0eWxlKys7XG59XG4vKipcbiAqIFdyaXRlIGBjbGFzc05hbWVgIHRvIGBSRWxlbWVudGAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIGRpcmVjdCB3cml0ZSB3aXRob3V0IGFueSByZWNvbmNpbGlhdGlvbi4gVXNlZCBmb3Igd3JpdGluZyBpbml0aWFsIHZhbHVlcywgc29cbiAqIHRoYXQgc3RhdGljIHN0eWxpbmcgdmFsdWVzIGRvIG5vdCBwdWxsIGluIHRoZSBzdHlsZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hpY2ggbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSBuZXdWYWx1ZSBUaGUgbmV3IGNsYXNzIGxpc3QgdG8gd3JpdGUuXG4gKi9cbmZ1bmN0aW9uIHdyaXRlRGlyZWN0Q2xhc3MocmVuZGVyZXIsIGVsZW1lbnQsIG5ld1ZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyhuZXdWYWx1ZSwgJ1xcJ25ld1ZhbHVlXFwnIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgLy8gVGhlcmUgYXJlIHRlc3RzIGluIGBnb29nbGUzYCB3aGljaCBleHBlY3QgYGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpYCB0byBiZSBgbnVsbGAuXG4gICAgICAgICAgICByZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2NsYXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2NsYXNzJywgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0Q2xhc3NOYW1lKys7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGFuIGluZGV4IG9mIGBjbGFzc1RvU2VhcmNoYCBpbiBgY2xhc3NOYW1lYCB0YWtpbmcgdG9rZW4gYm91bmRhcmllcyBpbnRvIGFjY291bnQuXG4gKlxuICogYGNsYXNzSW5kZXhPZignQUIgQScsICdBJywgMClgIHdpbGwgYmUgMyAobm90IDAgc2luY2UgYEFCIT09QWApXG4gKlxuICogQHBhcmFtIGNsYXNzTmFtZSBBIHN0cmluZyBjb250YWluaW5nIGNsYXNzZXMgKHdoaXRlc3BhY2Ugc2VwYXJhdGVkKVxuICogQHBhcmFtIGNsYXNzVG9TZWFyY2ggQSBjbGFzcyBuYW1lIHRvIGxvY2F0ZVxuICogQHBhcmFtIHN0YXJ0aW5nSW5kZXggU3RhcnRpbmcgbG9jYXRpb24gb2Ygc2VhcmNoXG4gKiBAcmV0dXJucyBhbiBpbmRleCBvZiB0aGUgbG9jYXRlZCBjbGFzcyAob3IgLTEgaWYgbm90IGZvdW5kKVxuICovXG5mdW5jdGlvbiBjbGFzc0luZGV4T2YoY2xhc3NOYW1lLCBjbGFzc1RvU2VhcmNoLCBzdGFydGluZ0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdEVxdWFsKGNsYXNzVG9TZWFyY2gsICcnLCAnY2FuIG5vdCBsb29rIGZvciBcIlwiIHN0cmluZy4nKTtcbiAgICBsZXQgZW5kID0gY2xhc3NOYW1lLmxlbmd0aDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBmb3VuZEluZGV4ID0gY2xhc3NOYW1lLmluZGV4T2YoY2xhc3NUb1NlYXJjaCwgc3RhcnRpbmdJbmRleCk7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybiBmb3VuZEluZGV4O1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gMCB8fCBjbGFzc05hbWUuY2hhckNvZGVBdChmb3VuZEluZGV4IC0gMSkgPD0gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGl0IGhhcyBsZWFkaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNsYXNzVG9TZWFyY2gubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZvdW5kSW5kZXggKyBsZW5ndGggPT09IGVuZCB8fFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZS5jaGFyQ29kZUF0KGZvdW5kSW5kZXggKyBsZW5ndGgpIDw9IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgaXQgaGFzIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGYWxzZSBwb3NpdGl2ZSwga2VlcCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBsZWZ0IG9mZi5cbiAgICAgICAgc3RhcnRpbmdJbmRleCA9IGZvdW5kSW5kZXggKyAxO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCB1bnVzZWRWYWx1ZVRvUGxhY2F0ZUFqZCQxID0gdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNCArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDM7XG5jb25zdCBOR19URU1QTEFURV9TRUxFQ1RPUiA9ICduZy10ZW1wbGF0ZSc7XG4vKipcbiAqIFNlYXJjaCB0aGUgYFRBdHRyaWJ1dGVzYCB0byBzZWUgaWYgaXQgY29udGFpbnMgYGNzc0NsYXNzVG9NYXRjaGAgKGNhc2UgaW5zZW5zaXRpdmUpXG4gKlxuICogQHBhcmFtIGF0dHJzIGBUQXR0cmlidXRlc2AgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0gY3NzQ2xhc3NUb01hdGNoIGNsYXNzIHRvIG1hdGNoIChsb3dlcmNhc2UpXG4gKiBAcGFyYW0gaXNQcm9qZWN0aW9uTW9kZSBXaGV0aGVyIG9yIG5vdCBjbGFzcyBtYXRjaGluZyBzaG91bGQgbG9vayBpbnRvIHRoZSBhdHRyaWJ1dGUgYGNsYXNzYCBpblxuICogICAgYWRkaXRpb24gdG8gdGhlIGBBdHRyaWJ1dGVNYXJrZXIuQ2xhc3Nlc2AuXG4gKi9cbmZ1bmN0aW9uIGlzQ3NzQ2xhc3NNYXRjaGluZyhhdHRycywgY3NzQ2xhc3NUb01hdGNoLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IFRoZSBmYWN0IHRoYXQgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBrbm93IGFib3V0IGBpc1Byb2plY3Rpb25Nb2RlYCBzZWVtcyBzdXNwZWN0LlxuICAgIC8vIEl0IGlzIHN0cmFuZ2UgdG8gbWUgdGhhdCBzb21ldGltZXMgdGhlIGNsYXNzIGluZm9ybWF0aW9uIGNvbWVzIGluIGZvcm0gb2YgYGNsYXNzYCBhdHRyaWJ1dGVcbiAgICAvLyBhbmQgc29tZXRpbWVzIGluIGZvcm0gb2YgYEF0dHJpYnV0ZU1hcmtlci5DbGFzc2VzYC4gU29tZSBpbnZlc3RpZ2F0aW9uIGlzIG5lZWRlZCB0byBkZXRlcm1pbmVcbiAgICAvLyBpZiB0aGF0IGlzIHRoZSByaWdodCBiZWhhdmlvci5cbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoY3NzQ2xhc3NUb01hdGNoLCBjc3NDbGFzc1RvTWF0Y2gudG9Mb3dlckNhc2UoKSwgJ0NsYXNzIG5hbWUgZXhwZWN0ZWQgdG8gYmUgbG93ZXJjYXNlLicpO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICBsZXQgaXRlbSA9IGF0dHJzW2krK107XG4gICAgICAgIGlmIChpc1Byb2plY3Rpb25Nb2RlICYmIGl0ZW0gPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgIGl0ZW0gPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmIChjbGFzc0luZGV4T2YoaXRlbS50b0xvd2VyQ2FzZSgpLCBjc3NDbGFzc1RvTWF0Y2gsIDApICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gPT09IDEgLyogQ2xhc3NlcyAqLykge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgdGhlIGNsYXNzZXMgc2VjdGlvbi4gU3RhcnQgc2VhcmNoaW5nIGZvciB0aGUgY2xhc3MuXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCAmJiB0eXBlb2YgKGl0ZW0gPSBhdHRyc1tpKytdKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIHdoaWxlIHdlIGhhdmUgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnRvTG93ZXJDYXNlKCkgPT09IGNzc0NsYXNzVG9NYXRjaClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgYHROb2RlYCByZXByZXNlbnRzIGFuIGlubGluZSB0ZW1wbGF0ZSAoZS5nLiBgKm5nRm9yYCkuXG4gKlxuICogQHBhcmFtIHROb2RlIGN1cnJlbnQgVE5vZGVcbiAqL1xuZnVuY3Rpb24gaXNJbmxpbmVUZW1wbGF0ZSh0Tm9kZSkge1xuICAgIHJldHVybiB0Tm9kZS50eXBlID09PSA0IC8qIENvbnRhaW5lciAqLyAmJiB0Tm9kZS52YWx1ZSAhPT0gTkdfVEVNUExBVEVfU0VMRUNUT1I7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIHdoZXRoZXIgYSBnaXZlbiB0Tm9kZSBtYXRjaGVzIHRhZy1iYXNlZCBzZWxlY3RvciBhbmQgaGFzIGEgdmFsaWQgdHlwZS5cbiAqXG4gKiBNYXRjaGluZyBjYW4gYmUgcGVyZm9ybWVkIGluIDIgbW9kZXM6IHByb2plY3Rpb24gbW9kZSAod2hlbiB3ZSBwcm9qZWN0IG5vZGVzKSBhbmQgcmVndWxhclxuICogZGlyZWN0aXZlIG1hdGNoaW5nIG1vZGU6XG4gKiAtIGluIHRoZSBcImRpcmVjdGl2ZSBtYXRjaGluZ1wiIG1vZGUgd2UgZG8gX25vdF8gdGFrZSBUQ29udGFpbmVyJ3MgdGFnTmFtZSBpbnRvIGFjY291bnQgaWYgaXQgaXNcbiAqIGRpZmZlcmVudCBmcm9tIE5HX1RFTVBMQVRFX1NFTEVDVE9SICh2YWx1ZSBkaWZmZXJlbnQgZnJvbSBOR19URU1QTEFURV9TRUxFQ1RPUiBpbmRpY2F0ZXMgdGhhdCBhXG4gKiB0YWcgbmFtZSB3YXMgZXh0cmFjdGVkIGZyb20gKiBzeW50YXggc28gd2Ugd291bGQgbWF0Y2ggdGhlIHNhbWUgZGlyZWN0aXZlIHR3aWNlKTtcbiAqIC0gaW4gdGhlIFwicHJvamVjdGlvblwiIG1vZGUsIHdlIHVzZSBhIHRhZyBuYW1lIHBvdGVudGlhbGx5IGV4dHJhY3RlZCBmcm9tIHRoZSAqIHN5bnRheCBwcm9jZXNzaW5nXG4gKiAoYXBwbGljYWJsZSB0byBUTm9kZVR5cGUuQ29udGFpbmVyIG9ubHkpLlxuICovXG5mdW5jdGlvbiBoYXNUYWdBbmRUeXBlTWF0Y2godE5vZGUsIGN1cnJlbnRTZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIGNvbnN0IHRhZ05hbWVUb0NvbXBhcmUgPSB0Tm9kZS50eXBlID09PSA0IC8qIENvbnRhaW5lciAqLyAmJiAhaXNQcm9qZWN0aW9uTW9kZSA/IE5HX1RFTVBMQVRFX1NFTEVDVE9SIDogdE5vZGUudmFsdWU7XG4gICAgcmV0dXJuIGN1cnJlbnRTZWxlY3RvciA9PT0gdGFnTmFtZVRvQ29tcGFyZTtcbn1cbi8qKlxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1hdGNoIGFuIEl2eSBub2RlIHN0YXRpYyBkYXRhIGFnYWluc3QgYSBzaW1wbGUgQ1NTIHNlbGVjdG9yXG4gKlxuICogQHBhcmFtIG5vZGUgc3RhdGljIGRhdGEgb2YgdGhlIG5vZGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBzZWxlY3RvciBUaGUgc2VsZWN0b3IgdG8gdHJ5IG1hdGNoaW5nIGFnYWluc3QgdGhlIG5vZGUuXG4gKiBAcGFyYW0gaXNQcm9qZWN0aW9uTW9kZSBpZiBgdHJ1ZWAgd2UgYXJlIG1hdGNoaW5nIGZvciBjb250ZW50IHByb2plY3Rpb24sIG90aGVyd2lzZSB3ZSBhcmUgZG9pbmdcbiAqIGRpcmVjdGl2ZSBtYXRjaGluZy5cbiAqIEByZXR1cm5zIHRydWUgaWYgbm9kZSBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3IsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChzZWxlY3RvclswXSwgJ1NlbGVjdG9yIHNob3VsZCBoYXZlIGEgdGFnIG5hbWUnKTtcbiAgICBsZXQgbW9kZSA9IDQgLyogRUxFTUVOVCAqLztcbiAgICBjb25zdCBub2RlQXR0cnMgPSB0Tm9kZS5hdHRycyB8fCBbXTtcbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiBmaXJzdCBhdHRyaWJ1dGUgdGhhdCBoYXMgbm8gdmFsdWUsIG9ubHkgYSBuYW1lLlxuICAgIGNvbnN0IG5hbWVPbmx5TWFya2VySWR4ID0gZ2V0TmFtZU9ubHlNYXJrZXJJbmRleChub2RlQXR0cnMpO1xuICAgIC8vIFdoZW4gcHJvY2Vzc2luZyBcIjpub3RcIiBzZWxlY3RvcnMsIHdlIHNraXAgdG8gdGhlIG5leHQgXCI6bm90XCIgaWYgdGhlXG4gICAgLy8gY3VycmVudCBvbmUgZG9lc24ndCBtYXRjaFxuICAgIGxldCBza2lwVG9OZXh0U2VsZWN0b3IgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBzZWxlY3RvcltpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gSWYgd2UgZmluaXNoIHByb2Nlc3NpbmcgYSA6bm90IHNlbGVjdG9yIGFuZCBpdCBoYXNuJ3QgZmFpbGVkLCByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIGlmICghc2tpcFRvTmV4dFNlbGVjdG9yICYmICFpc1Bvc2l0aXZlKG1vZGUpICYmICFpc1Bvc2l0aXZlKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIHNraXBwaW5nIHRvIHRoZSBuZXh0IDpub3QoKSBhbmQgdGhpcyBtb2RlIGZsYWcgaXMgcG9zaXRpdmUsXG4gICAgICAgICAgICAvLyBpdCdzIGEgcGFydCBvZiB0aGUgY3VycmVudCA6bm90KCkgc2VsZWN0b3IsIGFuZCB3ZSBzaG91bGQga2VlcCBza2lwcGluZ1xuICAgICAgICAgICAgaWYgKHNraXBUb05leHRTZWxlY3RvciAmJiBpc1Bvc2l0aXZlKGN1cnJlbnQpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gZmFsc2U7XG4gICAgICAgICAgICBtb2RlID0gY3VycmVudCB8IChtb2RlICYgMSAvKiBOT1QgKi8pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNraXBUb05leHRTZWxlY3RvcilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAobW9kZSAmIDQgLyogRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgbW9kZSA9IDIgLyogQVRUUklCVVRFICovIHwgbW9kZSAmIDEgLyogTk9UICovO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09ICcnICYmICFoYXNUYWdBbmRUeXBlTWF0Y2godE5vZGUsIGN1cnJlbnQsIGlzUHJvamVjdGlvbk1vZGUpIHx8XG4gICAgICAgICAgICAgICAgY3VycmVudCA9PT0gJycgJiYgc2VsZWN0b3IubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JBdHRyVmFsdWUgPSBtb2RlICYgOCAvKiBDTEFTUyAqLyA/IGN1cnJlbnQgOiBzZWxlY3RvclsrK2ldO1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBtYXRjaGluZyBhZ2FpbnN0IGNsYXNzZXMgd2hlbiBhIHROb2RlIGhhcyBiZWVuIGluc3RhbnRpYXRlZCB3aXRoXG4gICAgICAgICAgICAvLyBjbGFzcyBhbmQgc3R5bGUgdmFsdWVzIGFzIHNlcGFyYXRlIGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4gWyd0aXRsZScsIENMQVNTLCAnZm9vJ10pXG4gICAgICAgICAgICBpZiAoKG1vZGUgJiA4IC8qIENMQVNTICovKSAmJiB0Tm9kZS5hdHRycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICghaXNDc3NDbGFzc01hdGNoaW5nKHROb2RlLmF0dHJzLCBzZWxlY3RvckF0dHJWYWx1ZSwgaXNQcm9qZWN0aW9uTW9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSAobW9kZSAmIDggLyogQ0xBU1MgKi8pID8gJ2NsYXNzJyA6IGN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBhdHRySW5kZXhJbk5vZGUgPSBmaW5kQXR0ckluZGV4SW5Ob2RlKGF0dHJOYW1lLCBub2RlQXR0cnMsIGlzSW5saW5lVGVtcGxhdGUodE5vZGUpLCBpc1Byb2plY3Rpb25Nb2RlKTtcbiAgICAgICAgICAgIGlmIChhdHRySW5kZXhJbk5vZGUgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yQXR0clZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGxldCBub2RlQXR0clZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChhdHRySW5kZXhJbk5vZGUgPiBuYW1lT25seU1hcmtlcklkeCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlQXR0clZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydE5vdEVxdWFsKG5vZGVBdHRyc1thdHRySW5kZXhJbk5vZGVdLCAwIC8qIE5hbWVzcGFjZVVSSSAqLywgJ1dlIGRvIG5vdCBtYXRjaCBkaXJlY3RpdmVzIG9uIG5hbWVzcGFjZWQgYXR0cmlidXRlcycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBsb3dlcmNhc2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB0byBiZSBhYmxlIHRvIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdG9ycyB3aXRob3V0IGNhc2Utc2Vuc2l0aXZpdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gKHNlbGVjdG9ycyBhcmUgYWxyZWFkeSBpbiBsb3dlcmNhc2Ugd2hlbiBnZW5lcmF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIG5vZGVBdHRyVmFsdWUgPSBub2RlQXR0cnNbYXR0ckluZGV4SW5Ob2RlICsgMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGFyZUFnYWluc3RDbGFzc05hbWUgPSBtb2RlICYgOCAvKiBDTEFTUyAqLyA/IG5vZGVBdHRyVmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlQWdhaW5zdENsYXNzTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICBjbGFzc0luZGV4T2YoY29tcGFyZUFnYWluc3RDbGFzc05hbWUsIHNlbGVjdG9yQXR0clZhbHVlLCAwKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICAgICAgICAgbW9kZSAmIDIgLyogQVRUUklCVVRFICovICYmIHNlbGVjdG9yQXR0clZhbHVlICE9PSBub2RlQXR0clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNQb3NpdGl2ZShtb2RlKSB8fCBza2lwVG9OZXh0U2VsZWN0b3I7XG59XG5mdW5jdGlvbiBpc1Bvc2l0aXZlKG1vZGUpIHtcbiAgICByZXR1cm4gKG1vZGUgJiAxIC8qIE5PVCAqLykgPT09IDA7XG59XG4vKipcbiAqIEV4YW1pbmVzIHRoZSBhdHRyaWJ1dGUncyBkZWZpbml0aW9uIGFycmF5IGZvciBhIG5vZGUgdG8gZmluZCB0aGUgaW5kZXggb2YgdGhlXG4gKiBhdHRyaWJ1dGUgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBgbmFtZWAuXG4gKlxuICogTk9URTogVGhpcyB3aWxsIG5vdCBtYXRjaCBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMuXG4gKlxuICogQXR0cmlidXRlIG1hdGNoaW5nIGRlcGVuZHMgdXBvbiBgaXNJbmxpbmVUZW1wbGF0ZWAgYW5kIGBpc1Byb2plY3Rpb25Nb2RlYC5cbiAqIFRoZSBmb2xsb3dpbmcgdGFibGUgc3VtbWFyaXplcyB3aGljaCB0eXBlcyBvZiBhdHRyaWJ1dGVzIHdlIGF0dGVtcHQgdG8gbWF0Y2g6XG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZGVzICAgICAgICAgICAgICAgICAgIHwgTm9ybWFsIEF0dHJpYnV0ZXMgfCBCaW5kaW5ncyBBdHRyaWJ1dGVzIHwgVGVtcGxhdGUgQXR0cmlidXRlcyB8IEkxOG5cbiAqIEF0dHJpYnV0ZXNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbmxpbmUgKyBQcm9qZWN0aW9uICAgICB8IFlFUyAgICAgICAgICAgICAgIHwgWUVTICAgICAgICAgICAgICAgICB8IE5PICAgICAgICAgICAgICAgICAgfCBZRVNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBJbmxpbmUgKyBEaXJlY3RpdmUgICAgICB8IE5PICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOT1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE5vbi1pbmxpbmUgKyBQcm9qZWN0aW9uIHwgWUVTICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE5vbi1pbmxpbmUgKyBEaXJlY3RpdmUgIHwgWUVTICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFU1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGZpbmRcbiAqIEBwYXJhbSBhdHRycyB0aGUgYXR0cmlidXRlIGFycmF5IHRvIGV4YW1pbmVcbiAqIEBwYXJhbSBpc0lubGluZVRlbXBsYXRlIHRydWUgaWYgdGhlIG5vZGUgYmVpbmcgbWF0Y2hlZCBpcyBhbiBpbmxpbmUgdGVtcGxhdGUgKGUuZy4gYCpuZ0ZvcmApXG4gKiByYXRoZXIgdGhhbiBhIG1hbnVhbGx5IGV4cGFuZGVkIHRlbXBsYXRlIG5vZGUgKGUuZyBgPG5nLXRlbXBsYXRlPmApLlxuICogQHBhcmFtIGlzUHJvamVjdGlvbk1vZGUgdHJ1ZSBpZiB3ZSBhcmUgbWF0Y2hpbmcgYWdhaW5zdCBjb250ZW50IHByb2plY3Rpb24gb3RoZXJ3aXNlIHdlIGFyZVxuICogbWF0Y2hpbmcgYWdhaW5zdCBkaXJlY3RpdmVzLlxuICovXG5mdW5jdGlvbiBmaW5kQXR0ckluZGV4SW5Ob2RlKG5hbWUsIGF0dHJzLCBpc0lubGluZVRlbXBsYXRlLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgaWYgKGF0dHJzID09PSBudWxsKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgbGV0IGkgPSAwO1xuICAgIGlmIChpc1Byb2plY3Rpb25Nb2RlIHx8ICFpc0lubGluZVRlbXBsYXRlKSB7XG4gICAgICAgIGxldCBiaW5kaW5nc01vZGUgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlQXR0ck5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmIChtYXliZUF0dHJOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSAzIC8qIEJpbmRpbmdzICovIHx8IG1heWJlQXR0ck5hbWUgPT09IDYgLyogSTE4biAqLykge1xuICAgICAgICAgICAgICAgIGJpbmRpbmdzTW9kZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSAxIC8qIENsYXNzZXMgKi8gfHwgbWF5YmVBdHRyTmFtZSA9PT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBza2lwIGNsYXNzZXMgaGVyZSBiZWNhdXNlIHdlIGhhdmUgYSBzZXBhcmF0ZSBtZWNoYW5pc20gZm9yXG4gICAgICAgICAgICAgICAgLy8gbWF0Y2hpbmcgY2xhc3NlcyBpbiBwcm9qZWN0aW9uIG1vZGUuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDQgLyogVGVtcGxhdGUgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3QgY2FyZSBhYm91dCBUZW1wbGF0ZSBhdHRyaWJ1dGVzIGluIHRoaXMgc2NlbmFyaW8uXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIHdob2xlIG5hbWVzcGFjZWQgYXR0cmlidXRlIGFuZCB2YWx1ZS4gVGhpcyBpcyBieSBkZXNpZ24uXG4gICAgICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW4gYmluZGluZyBtb2RlIHRoZXJlIGFyZSBvbmx5IG5hbWVzLCByYXRoZXIgdGhhbiBuYW1lLXZhbHVlIHBhaXJzLlxuICAgICAgICAgICAgaSArPSBiaW5kaW5nc01vZGUgPyAxIDogMjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBkaWQgbm90IG1hdGNoIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoVGVtcGxhdGVBdHRyaWJ1dGUoYXR0cnMsIG5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBzZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSA9IGZhbHNlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3JbaV0sIGlzUHJvamVjdGlvbk1vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRQcm9qZWN0QXNBdHRyVmFsdWUodE5vZGUpIHtcbiAgICBjb25zdCBub2RlQXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBpZiAobm9kZUF0dHJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbmdQcm9qZWN0QXNBdHRySWR4ID0gbm9kZUF0dHJzLmluZGV4T2YoNSAvKiBQcm9qZWN0QXMgKi8pO1xuICAgICAgICAvLyBvbmx5IGNoZWNrIGZvciBuZ1Byb2plY3RBcyBpbiBhdHRyaWJ1dGUgbmFtZXMsIGRvbid0IGFjY2lkZW50YWxseSBtYXRjaCBhdHRyaWJ1dGUncyB2YWx1ZVxuICAgICAgICAvLyAoYXR0cmlidXRlIG5hbWVzIGFyZSBzdG9yZWQgYXQgZXZlbiBpbmRleGVzKVxuICAgICAgICBpZiAoKG5nUHJvamVjdEFzQXR0cklkeCAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZUF0dHJzW25nUHJvamVjdEFzQXR0cklkeCArIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TmFtZU9ubHlNYXJrZXJJbmRleChub2RlQXR0cnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlQXR0ciA9IG5vZGVBdHRyc1tpXTtcbiAgICAgICAgaWYgKGlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIobm9kZUF0dHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZUF0dHJzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIG1hdGNoVGVtcGxhdGVBdHRyaWJ1dGUoYXR0cnMsIG5hbWUpIHtcbiAgICBsZXQgaSA9IGF0dHJzLmluZGV4T2YoNCAvKiBUZW1wbGF0ZSAqLyk7XG4gICAgaWYgKGkgPiAtMSkge1xuICAgICAgICBpKys7XG4gICAgICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgICAgICAvLyBSZXR1cm4gaW4gY2FzZSB3ZSBjaGVja2VkIGFsbCB0ZW1wbGF0ZSBhdHRycyBhbmQgYXJlIHN3aXRjaGluZyB0byB0aGUgbmV4dCBzZWN0aW9uIGluIHRoZVxuICAgICAgICAgICAgLy8gYXR0cnMgYXJyYXkgKHRoYXQgc3RhcnRzIHdpdGggYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIGFuIGF0dHJpYnV0ZSBtYXJrZXIpLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYXR0ciA9PT0gbmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgc2VsZWN0b3IgaXMgaW5zaWRlIGEgQ3NzU2VsZWN0b3JMaXN0XG4gKiBAcGFyYW0gc2VsZWN0b3IgU2VsZWN0b3IgdG8gYmUgY2hlY2tlZC5cbiAqIEBwYXJhbSBsaXN0IExpc3QgaW4gd2hpY2ggdG8gbG9vayBmb3IgdGhlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBpc1NlbGVjdG9ySW5TZWxlY3Rvckxpc3Qoc2VsZWN0b3IsIGxpc3QpIHtcbiAgICBzZWxlY3Rvckxpc3RMb29wOiBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdG9ySW5MaXN0ID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKHNlbGVjdG9yLmxlbmd0aCAhPT0gY3VycmVudFNlbGVjdG9ySW5MaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzZWxlY3Rvci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yW2pdICE9PSBjdXJyZW50U2VsZWN0b3JJbkxpc3Rbal0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZSBzZWxlY3Rvckxpc3RMb29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBtYXliZVdyYXBJbk5vdFNlbGVjdG9yKGlzTmVnYXRpdmVNb2RlLCBjaHVuaykge1xuICAgIHJldHVybiBpc05lZ2F0aXZlTW9kZSA/ICc6bm90KCcgKyBjaHVuay50cmltKCkgKyAnKScgOiBjaHVuaztcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUNTU1NlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgbGV0IHJlc3VsdCA9IHNlbGVjdG9yWzBdO1xuICAgIGxldCBpID0gMTtcbiAgICBsZXQgbW9kZSA9IDIgLyogQVRUUklCVVRFICovO1xuICAgIGxldCBjdXJyZW50Q2h1bmsgPSAnJztcbiAgICBsZXQgaXNOZWdhdGl2ZU1vZGUgPSBmYWxzZTtcbiAgICB3aGlsZSAoaSA8IHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgICBsZXQgdmFsdWVPck1hcmtlciA9IHNlbGVjdG9yW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlT3JNYXJrZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAobW9kZSAmIDIgLyogQVRUUklCVVRFICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gc2VsZWN0b3JbKytpXTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz1cbiAgICAgICAgICAgICAgICAgICAgJ1snICsgdmFsdWVPck1hcmtlciArIChhdHRyVmFsdWUubGVuZ3RoID4gMCA/ICc9XCInICsgYXR0clZhbHVlICsgJ1wiJyA6ICcnKSArICddJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgJiA4IC8qIENMQVNTICovKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rICs9ICcuJyArIHZhbHVlT3JNYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlICYgNCAvKiBFTEVNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rICs9ICcgJyArIHZhbHVlT3JNYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQXBwZW5kIGN1cnJlbnQgY2h1bmsgdG8gdGhlIGZpbmFsIHJlc3VsdCBpbiBjYXNlIHdlIGNvbWUgYWNyb3NzIFNlbGVjdG9yRmxhZywgd2hpY2hcbiAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGF0IHRoZSBwcmV2aW91cyBzZWN0aW9uIG9mIGEgc2VsZWN0b3IgaXMgb3Zlci4gV2UgbmVlZCB0byBhY2N1bXVsYXRlIGNvbnRlbnRcbiAgICAgICAgICAgIC8vIGJldHdlZW4gZmxhZ3MgdG8gbWFrZSBzdXJlIHdlIHdyYXAgdGhlIGNodW5rIGxhdGVyIGluIDpub3QoKSBzZWxlY3RvciBpZiBuZWVkZWQsIGUuZy5cbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgLy8gIFsnJywgRmxhZ3MuQ0xBU1MsICcuY2xhc3NBJywgRmxhZ3MuQ0xBU1MgfCBGbGFncy5OT1QsICcuY2xhc3NCJywgJy5jbGFzc0MnXVxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgdHJhbnNmb3JtZWQgdG8gYC5jbGFzc0EgOm5vdCguY2xhc3NCIC5jbGFzc0MpYC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBOb3RlOiBmb3IgbmVnYXRpdmUgc2VsZWN0b3IgcGFydCwgd2UgYWNjdW11bGF0ZSBjb250ZW50IGJldHdlZW4gZmxhZ3MgdW50aWwgd2UgZmluZCB0aGVcbiAgICAgICAgICAgIC8vIG5leHQgbmVnYXRpdmUgZmxhZy4gVGhpcyBpcyBuZWVkZWQgdG8gc3VwcG9ydCBhIGNhc2Ugd2hlcmUgYDpub3QoKWAgcnVsZSBjb250YWlucyBtb3JlIHRoYW5cbiAgICAgICAgICAgIC8vIG9uZSBjaHVuaywgZS5nLiB0aGUgZm9sbG93aW5nIHNlbGVjdG9yOlxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyAgWycnLCBGbGFncy5FTEVNRU5UIHwgRmxhZ3MuTk9ULCAncCcsIEZsYWdzLkNMQVNTLCAnZm9vJywgRmxhZ3MuQ0xBU1MgfCBGbGFncy5OT1QsICdiYXInXVxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgc3RyaW5naWZpZWQgdG8gYDpub3QocC5mb28pIDpub3QoLmJhcilgXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaHVuayAhPT0gJycgJiYgIWlzUG9zaXRpdmUodmFsdWVPck1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbWF5YmVXcmFwSW5Ob3RTZWxlY3Rvcihpc05lZ2F0aXZlTW9kZSwgY3VycmVudENodW5rKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZGUgPSB2YWx1ZU9yTWFya2VyO1xuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIENzc1NlbGVjdG9yIHNwZWMsIG9uY2Ugd2UgY29tZSBhY3Jvc3MgYFNlbGVjdG9yRmxhZ3MuTk9UYCBmbGFnLCB0aGUgbmVnYXRpdmVcbiAgICAgICAgICAgIC8vIG1vZGUgaXMgbWFpbnRhaW5lZCBmb3IgcmVtYWluaW5nIGNodW5rcyBvZiBhIHNlbGVjdG9yLlxuICAgICAgICAgICAgaXNOZWdhdGl2ZU1vZGUgPSBpc05lZ2F0aXZlTW9kZSB8fCAhaXNQb3NpdGl2ZShtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChjdXJyZW50Q2h1bmsgIT09ICcnKSB7XG4gICAgICAgIHJlc3VsdCArPSBtYXliZVdyYXBJbk5vdFNlbGVjdG9yKGlzTmVnYXRpdmVNb2RlLCBjdXJyZW50Q2h1bmspO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIENTUyBzZWxlY3RvciBpbiBwYXJzZWQgZm9ybS5cbiAqXG4gKiBDb21wb25lbnREZWYgYW5kIERpcmVjdGl2ZURlZiBhcmUgZ2VuZXJhdGVkIHdpdGggdGhlIHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtIHRvIGF2b2lkIGRvaW5nXG4gKiBhZGRpdGlvbmFsIHBhcnNpbmcgYXQgcnVudGltZSAoZm9yIGV4YW1wbGUsIGZvciBkaXJlY3RpdmUgbWF0Y2hpbmcpLiBIb3dldmVyIGluIHNvbWUgY2FzZXMgKGZvclxuICogZXhhbXBsZSwgd2hpbGUgYm9vdHN0cmFwcGluZyBhIGNvbXBvbmVudCksIGEgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHNlbGVjdG9yIGlzIHJlcXVpcmVkIHRvIHF1ZXJ5XG4gKiBmb3IgdGhlIGhvc3QgZWxlbWVudCBvbiB0aGUgcGFnZS4gVGhpcyBmdW5jdGlvbiB0YWtlcyB0aGUgcGFyc2VkIGZvcm0gb2YgYSBzZWxlY3RvciBhbmQgcmV0dXJuc1xuICogaXRzIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3JMaXN0IHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtXG4gKiBAcmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBnaXZlbiBzZWxlY3RvclxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlDU1NTZWxlY3Rvckxpc3Qoc2VsZWN0b3JMaXN0KSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yTGlzdC5tYXAoc3RyaW5naWZ5Q1NTU2VsZWN0b3IpLmpvaW4oJywnKTtcbn1cbi8qKlxuICogRXh0cmFjdHMgYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBpbmZvcm1hdGlvbiBmcm9tIGEgZ2l2ZW4gQ1NTIHNlbGVjdG9yLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB3aGlsZSBjcmVhdGluZyBhIGNvbXBvbmVudCBkeW5hbWljYWxseS4gSW4gdGhpcyBjYXNlLCB0aGUgaG9zdCBlbGVtZW50XG4gKiAodGhhdCBpcyBjcmVhdGVkIGR5bmFtaWNhbGx5KSBzaG91bGQgY29udGFpbiBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIHNwZWNpZmllZCBpbiBjb21wb25lbnQncyBDU1NcbiAqIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBDU1Mgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm0gKGluIGEgZm9ybSBvZiBhcnJheSlcbiAqIEByZXR1cm5zIG9iamVjdCB3aXRoIGBhdHRyc2AgYW5kIGBjbGFzc2VzYCBmaWVsZHMgdGhhdCBjb250YWluIGV4dHJhY3RlZCBpbmZvcm1hdGlvblxuICovXG5mdW5jdGlvbiBleHRyYWN0QXR0cnNBbmRDbGFzc2VzRnJvbVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgYXR0cnMgPSBbXTtcbiAgICBjb25zdCBjbGFzc2VzID0gW107XG4gICAgbGV0IGkgPSAxO1xuICAgIGxldCBtb2RlID0gMiAvKiBBVFRSSUJVVEUgKi87XG4gICAgd2hpbGUgKGkgPCBzZWxlY3Rvci5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHZhbHVlT3JNYXJrZXIgPSBzZWxlY3RvcltpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZU9yTWFya2VyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IDIgLyogQVRUUklCVVRFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlT3JNYXJrZXIgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJzLnB1c2godmFsdWVPck1hcmtlciwgc2VsZWN0b3JbKytpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gOCAvKiBDTEFTUyAqLykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCh2YWx1ZU9yTWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byBDc3NTZWxlY3RvciBzcGVjLCBvbmNlIHdlIGNvbWUgYWNyb3NzIGBTZWxlY3RvckZsYWdzLk5PVGAgZmxhZywgdGhlIG5lZ2F0aXZlXG4gICAgICAgICAgICAvLyBtb2RlIGlzIG1haW50YWluZWQgZm9yIHJlbWFpbmluZyBjaHVua3Mgb2YgYSBzZWxlY3Rvci4gU2luY2UgYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBhcmVcbiAgICAgICAgICAgIC8vIGV4dHJhY3RlZCBvbmx5IGZvciBcInBvc2l0aXZlXCIgcGFydCBvZiB0aGUgc2VsZWN0b3IsIHdlIGNhbiBzdG9wIGhlcmUuXG4gICAgICAgICAgICBpZiAoIWlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBtb2RlID0gdmFsdWVPck1hcmtlcjtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB7IGF0dHJzLCBjbGFzc2VzIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIEEgc3BlY2lhbCB2YWx1ZSB3aGljaCBkZXNpZ25hdGVzIHRoYXQgYSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQuICovXG5jb25zdCBOT19DSEFOR0UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/IHsgX19icmFuZF9fOiAnTk9fQ0hBTkdFJyB9IDoge307XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZHZhbmNlcyB0byBhbiBlbGVtZW50IGZvciBsYXRlciBiaW5kaW5nIGluc3RydWN0aW9ucy5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggaW5zdHJ1Y3Rpb25zIGxpa2Uge0BsaW5rIHByb3BlcnR5fSB0byBhY3Qgb24gZWxlbWVudHMgd2l0aCBzcGVjaWZpZWRcbiAqIGluZGljZXMsIGZvciBleGFtcGxlIHRob3NlIGNyZWF0ZWQgd2l0aCB7QGxpbmsgZWxlbWVudH0gb3Ige0BsaW5rIGVsZW1lbnRTdGFydH0uXG4gKlxuICogYGBgdHNcbiAqIChyZjogUmVuZGVyRmxhZ3MsIGN0eDogYW55KSA9PiB7XG4gKiAgIGlmIChyZiAmIDEpIHtcbiAqICAgICB0ZXh0KDAsICdIZWxsbycpO1xuICogICAgIHRleHQoMSwgJ0dvb2RieWUnKVxuICogICAgIGVsZW1lbnQoMiwgJ2RpdicpO1xuICogICB9XG4gKiAgIGlmIChyZiAmIDIpIHtcbiAqICAgICBhZHZhbmNlKDIpOyAvLyBBZHZhbmNlIHR3aWNlIHRvIHRoZSA8ZGl2Pi5cbiAqICAgICBwcm9wZXJ0eSgndGl0bGUnLCAndGVzdCcpO1xuICogICB9XG4gKiAgfVxuICogYGBgXG4gKiBAcGFyYW0gZGVsdGEgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIGFkdmFuY2UgZm9yd2FyZHMgYnkuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWFkdmFuY2UoZGVsdGEpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4oZGVsdGEsIDAsICdDYW4gb25seSBhZHZhbmNlIGZvcndhcmQnKTtcbiAgICBzZWxlY3RJbmRleEludGVybmFsKGdldFRWaWV3KCksIGdldExWaWV3KCksIGdldFNlbGVjdGVkSW5kZXgoKSArIGRlbHRhLCBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkpO1xufVxuZnVuY3Rpb24gc2VsZWN0SW5kZXhJbnRlcm5hbCh0VmlldywgbFZpZXcsIGluZGV4LCBjaGVja05vQ2hhbmdlc01vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZShsVmlldywgaW5kZXgpO1xuICAgIC8vIEZsdXNoIHRoZSBpbml0aWFsIGhvb2tzIGZvciBlbGVtZW50cyBpbiB0aGUgdmlldyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB1cCB0byB0aGlzIHBvaW50LlxuICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgaWYgKCFjaGVja05vQ2hhbmdlc01vZGUpIHtcbiAgICAgICAgY29uc3QgaG9va3NJbml0UGhhc2VDb21wbGV0ZWQgPSAobFZpZXdbRkxBR1NdICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLztcbiAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVPcmRlckNoZWNrSG9va3MgPSB0Vmlldy5wcmVPcmRlckNoZWNrSG9va3M7XG4gICAgICAgICAgICBpZiAocHJlT3JkZXJDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIHByZU9yZGVyQ2hlY2tIb29rcywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlT3JkZXJIb29rcyA9IHRWaWV3LnByZU9yZGVySG9va3M7XG4gICAgICAgICAgICBpZiAocHJlT3JkZXJIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJIb29rcywgMCAvKiBPbkluaXRIb29rc1RvQmVSdW4gKi8sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBtdXN0IHNldCB0aGUgc2VsZWN0ZWQgaW5kZXggKmFmdGVyKiBydW5uaW5nIHRoZSBob29rcywgYmVjYXVzZSBob29rcyBtYXkgaGF2ZSBzaWRlLWVmZmVjdHNcbiAgICAvLyB0aGF0IGNhdXNlIG90aGVyIHRlbXBsYXRlIGZ1bmN0aW9ucyB0byBydW4sIHRodXMgdXBkYXRpbmcgdGhlIHNlbGVjdGVkIGluZGV4LCB3aGljaCBpcyBnbG9iYWxcbiAgICAvLyBzdGF0ZS4gSWYgd2UgcnVuIGBzZXRTZWxlY3RlZEluZGV4YCAqYmVmb3JlKiB3ZSBydW4gdGhlIGhvb2tzLCBpbiBzb21lIGNhc2VzIHRoZSBzZWxlY3RlZCBpbmRleFxuICAgIC8vIHdpbGwgYmUgYWx0ZXJlZCBieSB0aGUgdGltZSB3ZSBsZWF2ZSB0aGUgYMm1ybVhZHZhbmNlYCBpbnN0cnVjdGlvbi5cbiAgICBzZXRTZWxlY3RlZEluZGV4KGluZGV4KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRISVMgRklMRSBDT05UQUlOUyBDT0RFIFdISUNIIFNIT1VMRCBCRSBUUkVFIFNIQUtFTiBBTkQgTkVWRVIgQ0FMTEVEIEZST00gUFJPRFVDVElPTiBDT0RFISEhXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhbiBgQXJyYXlgIGNvbnN0cnVjdGlvbiB3aXRoIGEgZ2l2ZW4gbmFtZS4gVGhpcyBpcyB1c2VmdWwgd2hlblxuICogbG9va2luZyBmb3IgbWVtb3J5IGNvbnN1bXB0aW9uIHRvIHNlZSB3aGF0IHRpbWUgb2YgYXJyYXkgaXQgaXMuXG4gKlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gZ2l2ZSB0byB0aGUgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIEEgc3ViY2xhc3Mgb2YgYEFycmF5YCBpZiBwb3NzaWJsZS4gVGhpcyBjYW4gb25seSBiZSBkb25lIGluXG4gKiAgICAgICAgICBlbnZpcm9ubWVudHMgd2hpY2ggc3VwcG9ydCBgY2xhc3NgIGNvbnN0cnVjdC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTmFtZWRBcnJheVR5cGUobmFtZSkge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpbiBwcm9kIG1vZGUsIHNvIGxldCdzIHZlcmlmeSB0aGF0IGlzIHRoZSBjYXNlLlxuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgZnVuY3Rpb24gd2VyZSBjb21wcm9taXNlZCB0aGUgZm9sbG93aW5nIGNvdWxkIGxlYWQgdG8gYXJiaXRyYXJ5XG4gICAgICAgICAgICAvLyBzY3JpcHQgZXhlY3V0aW9uLiBXZSBibGVzcyBpdCB3aXRoIFRydXN0ZWQgVHlwZXMgYW55d2F5IHNpbmNlIHRoaXNcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGlzIHN0cmlwcGVkIG91dCBvZiBwcm9kdWN0aW9uIGJpbmFyaWVzLlxuICAgICAgICAgICAgcmV0dXJuIChuZXdUcnVzdGVkRnVuY3Rpb25Gb3JEZXYoJ0FycmF5JywgYHJldHVybiBjbGFzcyAke25hbWV9IGV4dGVuZHMgQXJyYXl7fWApKShBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIElmIGl0IGRvZXMgbm90IHdvcmsganVzdCBnaXZlIHVwIGFuZCBmYWxsIGJhY2sgdG8gcmVndWxhciBBcnJheS5cbiAgICAgICAgICAgIHJldHVybiBBcnJheTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb29rcyBsaWtlIHdlIGFyZSBpbiBcXCdwcm9kIG1vZGVcXCcsIGJ1dCB3ZSBhcmUgY3JlYXRpbmcgYSBuYW1lZCBBcnJheSB0eXBlLCB3aGljaCBpcyB3cm9uZyEgQ2hlY2sgeW91ciBjb2RlJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHRvVFN0eWxpbmdSYW5nZShwcmV2LCBuZXh0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UocHJldiwgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UobmV4dCwgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgcmV0dXJuIChwcmV2IDw8IDE3IC8qIFBSRVZfU0hJRlQgKi8gfCBuZXh0IDw8IDIgLyogTkVYVF9TSElGVCAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlID4+IDE3IC8qIFBSRVZfU0hJRlQgKi8pICYgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLztcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgJiAyIC8qIFBSRVZfRFVQTElDQVRFICovKSA9PVxuICAgICAgICAyIC8qIFBSRVZfRFVQTElDQVRFICovO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdSYW5nZSwgcHJldmlvdXMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShwcmV2aW91cywgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgcmV0dXJuICgodFN0eWxpbmdSYW5nZSAmIH40Mjk0ODM2MjI0IC8qIFBSRVZfTUFTSyAqLykgfFxuICAgICAgICAocHJldmlvdXMgPDwgMTcgLyogUFJFVl9TSElGVCAqLykpO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSB8IDIgLyogUFJFVl9EVVBMSUNBVEUgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSAmIDEzMTA2OCAvKiBORVhUX01BU0sgKi8pID4+IDIgLyogTkVYVF9TSElGVCAqLztcbn1cbmZ1bmN0aW9uIHNldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nUmFuZ2UsIG5leHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShuZXh0LCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICByZXR1cm4gKCh0U3R5bGluZ1JhbmdlICYgfjEzMTA2OCAvKiBORVhUX01BU0sgKi8pIHwgLy9cbiAgICAgICAgbmV4dCA8PCAyIC8qIE5FWFRfU0hJRlQgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSAmIDEgLyogTkVYVF9EVVBMSUNBVEUgKi8pID09PVxuICAgICAgICAxIC8qIE5FWFRfRFVQTElDQVRFICovO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSB8IDEgLyogTkVYVF9EVVBMSUNBVEUgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZVRhaWwodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIGNvbnN0IG5leHQgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGluZ1JhbmdlKTtcbiAgICByZXR1cm4gbmV4dCA9PT0gMCA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsaW5nUmFuZ2UpIDogbmV4dDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFBhdGNoIGEgYGRlYnVnYCBwcm9wZXJ0eSBvbiB0b3Agb2YgdGhlIGV4aXN0aW5nIG9iamVjdC5cbiAqXG4gKiBOT1RFOiBhbHdheXMgY2FsbCB0aGlzIG1ldGhvZCB3aXRoIGBuZ0Rldk1vZGUgJiYgYXR0YWNoRGVidWdPYmplY3QoLi4uKWBcbiAqXG4gKiBAcGFyYW0gb2JqIE9iamVjdCB0byBwYXRjaFxuICogQHBhcmFtIGRlYnVnIFZhbHVlIHRvIHBhdGNoXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaERlYnVnT2JqZWN0KG9iaiwgZGVidWcpIHtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdkZWJ1ZycsIHsgdmFsdWU6IGRlYnVnLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGd1YXJkZWQgd2l0aCBgbmdEZXZNb2RlYCBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBpbiBwcm9kdWN0aW9uIScpO1xuICAgIH1cbn1cbi8qKlxuICogUGF0Y2ggYSBgZGVidWdgIHByb3BlcnR5IGdldHRlciBvbiB0b3Agb2YgdGhlIGV4aXN0aW5nIG9iamVjdC5cbiAqXG4gKiBOT1RFOiBhbHdheXMgY2FsbCB0aGlzIG1ldGhvZCB3aXRoIGBuZ0Rldk1vZGUgJiYgYXR0YWNoRGVidWdPYmplY3QoLi4uKWBcbiAqXG4gKiBAcGFyYW0gb2JqIE9iamVjdCB0byBwYXRjaFxuICogQHBhcmFtIGRlYnVnR2V0dGVyIEdldHRlciByZXR1cm5pbmcgYSB2YWx1ZSB0byBwYXRjaFxuICovXG5mdW5jdGlvbiBhdHRhY2hEZWJ1Z0dldHRlcihvYmosIGRlYnVnR2V0dGVyKSB7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnZGVidWcnLCB7IGdldDogZGVidWdHZXR0ZXIsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBzaG91bGQgYmUgZ3VhcmRlZCB3aXRoIGBuZ0Rldk1vZGVgIHNvIHRoYXQgaXQgY2FuIGJlIHRyZWUgc2hha2VuIGluIHByb2R1Y3Rpb24hJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgY29uZGl0aW9uYWxseSBhdHRhY2hlZCBjbGFzc2VzIHdoaWNoIHByb3ZpZGUgaHVtYW4gcmVhZGFibGUgKGRlYnVnKSBsZXZlbFxuICogaW5mb3JtYXRpb24gZm9yIGBMVmlld2AsIGBMQ29udGFpbmVyYCBhbmQgb3RoZXIgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzLiBUaGVzZSBkYXRhIHN0cnVjdHVyZXNcbiAqIGFyZSBzdG9yZWQgaW50ZXJuYWxseSBhcyBhcnJheSB3aGljaCBtYWtlcyBpdCB2ZXJ5IGRpZmZpY3VsdCBkdXJpbmcgZGVidWdnaW5nIHRvIHJlYXNvbiBhYm91dCB0aGVcbiAqIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHN5c3RlbS5cbiAqXG4gKiBQYXRjaGluZyB0aGUgYXJyYXkgd2l0aCBleHRyYSBwcm9wZXJ0eSBkb2VzIGNoYW5nZSB0aGUgYXJyYXkncyBoaWRkZW4gY2xhc3MnIGJ1dCBpdCBkb2VzIG5vdFxuICogY2hhbmdlIHRoZSBjb3N0IG9mIGFjY2VzcywgdGhlcmVmb3JlIHRoaXMgcGF0Y2hpbmcgc2hvdWxkIG5vdCBoYXZlIHNpZ25pZmljYW50IGlmIGFueSBpbXBhY3QgaW5cbiAqIGBuZ0Rldk1vZGVgIG1vZGUuIChzZWU6IGh0dHBzOi8vanNwZXJmLmNvbS9hcnJheS12cy1tb25rZXktcGF0Y2gtYXJyYXkpXG4gKlxuICogU28gaW5zdGVhZCBvZiBzZWVpbmc6XG4gKiBgYGBcbiAqIEFycmF5KDMwKSBbT2JqZWN0LCA2NTksIG51bGwsIOKApl1cbiAqIGBgYFxuICpcbiAqIFlvdSBnZXQgdG8gc2VlOlxuICogYGBgXG4gKiBMVmlld0RlYnVnIHtcbiAqICAgdmlld3M6IFsuLi5dLFxuICogICBmbGFnczoge2F0dGFjaGVkOiB0cnVlLCAuLi59XG4gKiAgIG5vZGVzOiBbXG4gKiAgICAge2h0bWw6ICc8ZGl2IGlkPVwiMTIzXCI+JywgLi4uLCBub2RlczogW1xuICogICAgICAge2h0bWw6ICc8c3Bhbj4nLCAuLi4sIG5vZGVzOiBudWxsfVxuICogICAgIF19XG4gKiAgIF1cbiAqIH1cbiAqIGBgYFxuICovXG5sZXQgTFZJRVdfQ09NUE9ORU5UX0NBQ0hFO1xubGV0IExWSUVXX0VNQkVEREVEX0NBQ0hFO1xubGV0IExWSUVXX1JPT1Q7XG5sZXQgTFZJRVdfQ09NUE9ORU5UO1xubGV0IExWSUVXX0VNQkVEREVEO1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNsb25lcyBhIGJsdWVwcmludCBhbmQgY3JlYXRlcyBMVmlldy5cbiAqXG4gKiBTaW1wbGUgc2xpY2Ugd2lsbCBrZWVwIHRoZSBzYW1lIHR5cGUsIGFuZCB3ZSBuZWVkIGl0IHRvIGJlIExWaWV3XG4gKi9cbmZ1bmN0aW9uIGNsb25lVG9MVmlld0Zyb21UVmlld0JsdWVwcmludCh0Vmlldykge1xuICAgIGNvbnN0IGRlYnVnVFZpZXcgPSB0VmlldztcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3VG9DbG9uZShkZWJ1Z1RWaWV3LnR5cGUsIHRWaWV3LnRlbXBsYXRlICYmIHRWaWV3LnRlbXBsYXRlLm5hbWUpO1xuICAgIHJldHVybiBsVmlldy5jb25jYXQodFZpZXcuYmx1ZXByaW50KTtcbn1cbmNsYXNzIExSb290VmlldyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIExDb21wb25lbnRWaWV3IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTEVtYmVkZGVkVmlldyBleHRlbmRzIEFycmF5IHtcbn1cbmZ1bmN0aW9uIGdldExWaWV3VG9DbG9uZSh0eXBlLCBuYW1lKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgMCAvKiBSb290ICovOlxuICAgICAgICAgICAgaWYgKExWSUVXX1JPT1QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBMVklFV19ST09UID0gbmV3IExSb290VmlldygpO1xuICAgICAgICAgICAgcmV0dXJuIExWSUVXX1JPT1Q7XG4gICAgICAgIGNhc2UgMSAvKiBDb21wb25lbnQgKi86XG4gICAgICAgICAgICBpZiAoIW5nRGV2TW9kZSB8fCAhbmdEZXZNb2RlLm5hbWVkQ29uc3RydWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKExWSUVXX0NPTVBPTkVOVCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBMVklFV19DT01QT05FTlQgPSBuZXcgTENvbXBvbmVudFZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTFZJRVdfQ09NUE9ORU5UO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKExWSUVXX0NPTVBPTkVOVF9DQUNIRSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIExWSUVXX0NPTVBPTkVOVF9DQUNIRSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnRBcnJheSA9IExWSUVXX0NPTVBPTkVOVF9DQUNIRS5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50QXJyYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudEFycmF5ID0gbmV3IChjcmVhdGVOYW1lZEFycmF5VHlwZSgnTENvbXBvbmVudFZpZXcnICsgbmFtZVN1ZmZpeChuYW1lKSkpKCk7XG4gICAgICAgICAgICAgICAgTFZJRVdfQ09NUE9ORU5UX0NBQ0hFLnNldChuYW1lLCBjb21wb25lbnRBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50QXJyYXk7XG4gICAgICAgIGNhc2UgMiAvKiBFbWJlZGRlZCAqLzpcbiAgICAgICAgICAgIGlmICghbmdEZXZNb2RlIHx8ICFuZ0Rldk1vZGUubmFtZWRDb25zdHJ1Y3RvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoTFZJRVdfRU1CRURERUQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgTFZJRVdfRU1CRURERUQgPSBuZXcgTEVtYmVkZGVkVmlldygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMVklFV19FTUJFRERFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChMVklFV19FTUJFRERFRF9DQUNIRSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIExWSUVXX0VNQkVEREVEX0NBQ0hFID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgbGV0IGVtYmVkZGVkQXJyYXkgPSBMVklFV19FTUJFRERFRF9DQUNIRS5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoZW1iZWRkZWRBcnJheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZW1iZWRkZWRBcnJheSA9IG5ldyAoY3JlYXRlTmFtZWRBcnJheVR5cGUoJ0xFbWJlZGRlZFZpZXcnICsgbmFtZVN1ZmZpeChuYW1lKSkpKCk7XG4gICAgICAgICAgICAgICAgTFZJRVdfRU1CRURERURfQ0FDSEUuc2V0KG5hbWUsIGVtYmVkZGVkQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVtYmVkZGVkQXJyYXk7XG4gICAgfVxufVxuZnVuY3Rpb24gbmFtZVN1ZmZpeCh0ZXh0KSB7XG4gICAgaWYgKHRleHQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIGNvbnN0IGluZGV4ID0gdGV4dC5sYXN0SW5kZXhPZignX1RlbXBsYXRlJyk7XG4gICAgcmV0dXJuICdfJyArIChpbmRleCA9PT0gLTEgPyB0ZXh0IDogdGV4dC5zdWJzdHIoMCwgaW5kZXgpKTtcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIGRlYnVnIHZlcnNpb24gb2YgT2JqZWN0IGxpdGVyYWwgc28gdGhhdCB3ZSBjYW4gaGF2ZSBjb25zdHJ1Y3RvciBuYW1lIHNob3cgdXBcbiAqIGluXG4gKiBkZWJ1ZyB0b29scyBpbiBuZ0Rldk1vZGUuXG4gKi9cbmNvbnN0IFRWaWV3Q29uc3RydWN0b3IgPSBjbGFzcyBUVmlldyB7XG4gICAgY29uc3RydWN0b3IodHlwZSwgYmx1ZXByaW50LCB0ZW1wbGF0ZSwgcXVlcmllcywgdmlld1F1ZXJ5LCBkZWNsVE5vZGUsIGRhdGEsIGJpbmRpbmdTdGFydEluZGV4LCBleHBhbmRvU3RhcnRJbmRleCwgaG9zdEJpbmRpbmdPcENvZGVzLCBmaXJzdENyZWF0ZVBhc3MsIGZpcnN0VXBkYXRlUGFzcywgc3RhdGljVmlld1F1ZXJpZXMsIHN0YXRpY0NvbnRlbnRRdWVyaWVzLCBwcmVPcmRlckhvb2tzLCBwcmVPcmRlckNoZWNrSG9va3MsIGNvbnRlbnRIb29rcywgY29udGVudENoZWNrSG9va3MsIHZpZXdIb29rcywgdmlld0NoZWNrSG9va3MsIGRlc3Ryb3lIb29rcywgY2xlYW51cCwgY29udGVudFF1ZXJpZXMsIGNvbXBvbmVudHMsIGRpcmVjdGl2ZVJlZ2lzdHJ5LCBwaXBlUmVnaXN0cnksIGZpcnN0Q2hpbGQsIHNjaGVtYXMsIGNvbnN0cywgaW5jb21wbGV0ZUZpcnN0UGFzcywgX2RlY2xzLCBfdmFycykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmJsdWVwcmludCA9IGJsdWVwcmludDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgICAgICB0aGlzLnZpZXdRdWVyeSA9IHZpZXdRdWVyeTtcbiAgICAgICAgdGhpcy5kZWNsVE5vZGUgPSBkZWNsVE5vZGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuYmluZGluZ1N0YXJ0SW5kZXggPSBiaW5kaW5nU3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5leHBhbmRvU3RhcnRJbmRleCA9IGV4cGFuZG9TdGFydEluZGV4O1xuICAgICAgICB0aGlzLmhvc3RCaW5kaW5nT3BDb2RlcyA9IGhvc3RCaW5kaW5nT3BDb2RlcztcbiAgICAgICAgdGhpcy5maXJzdENyZWF0ZVBhc3MgPSBmaXJzdENyZWF0ZVBhc3M7XG4gICAgICAgIHRoaXMuZmlyc3RVcGRhdGVQYXNzID0gZmlyc3RVcGRhdGVQYXNzO1xuICAgICAgICB0aGlzLnN0YXRpY1ZpZXdRdWVyaWVzID0gc3RhdGljVmlld1F1ZXJpZXM7XG4gICAgICAgIHRoaXMuc3RhdGljQ29udGVudFF1ZXJpZXMgPSBzdGF0aWNDb250ZW50UXVlcmllcztcbiAgICAgICAgdGhpcy5wcmVPcmRlckhvb2tzID0gcHJlT3JkZXJIb29rcztcbiAgICAgICAgdGhpcy5wcmVPcmRlckNoZWNrSG9va3MgPSBwcmVPcmRlckNoZWNrSG9va3M7XG4gICAgICAgIHRoaXMuY29udGVudEhvb2tzID0gY29udGVudEhvb2tzO1xuICAgICAgICB0aGlzLmNvbnRlbnRDaGVja0hvb2tzID0gY29udGVudENoZWNrSG9va3M7XG4gICAgICAgIHRoaXMudmlld0hvb2tzID0gdmlld0hvb2tzO1xuICAgICAgICB0aGlzLnZpZXdDaGVja0hvb2tzID0gdmlld0NoZWNrSG9va3M7XG4gICAgICAgIHRoaXMuZGVzdHJveUhvb2tzID0gZGVzdHJveUhvb2tzO1xuICAgICAgICB0aGlzLmNsZWFudXAgPSBjbGVhbnVwO1xuICAgICAgICB0aGlzLmNvbnRlbnRRdWVyaWVzID0gY29udGVudFF1ZXJpZXM7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlUmVnaXN0cnkgPSBkaXJlY3RpdmVSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5waXBlUmVnaXN0cnkgPSBwaXBlUmVnaXN0cnk7XG4gICAgICAgIHRoaXMuZmlyc3RDaGlsZCA9IGZpcnN0Q2hpbGQ7XG4gICAgICAgIHRoaXMuc2NoZW1hcyA9IHNjaGVtYXM7XG4gICAgICAgIHRoaXMuY29uc3RzID0gY29uc3RzO1xuICAgICAgICB0aGlzLmluY29tcGxldGVGaXJzdFBhc3MgPSBpbmNvbXBsZXRlRmlyc3RQYXNzO1xuICAgICAgICB0aGlzLl9kZWNscyA9IF9kZWNscztcbiAgICAgICAgdGhpcy5fdmFycyA9IF92YXJzO1xuICAgIH1cbiAgICBnZXQgdGVtcGxhdGVfKCkge1xuICAgICAgICBjb25zdCBidWYgPSBbXTtcbiAgICAgICAgcHJvY2Vzc1ROb2RlQ2hpbGRyZW4odGhpcy5maXJzdENoaWxkLCBidWYpO1xuICAgICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXQgdHlwZV8oKSB7XG4gICAgICAgIHJldHVybiBUVmlld1R5cGVBc1N0cmluZ1t0aGlzLnR5cGVdIHx8IGBUVmlld1R5cGUuPyR7dGhpcy50eXBlfT9gO1xuICAgIH1cbn07XG5jbGFzcyBUTm9kZSB7XG4gICAgY29uc3RydWN0b3IodFZpZXdfLCAvL1xuICAgIHR5cGUsIC8vXG4gICAgaW5kZXgsIC8vXG4gICAgaW5zZXJ0QmVmb3JlSW5kZXgsIC8vXG4gICAgaW5qZWN0b3JJbmRleCwgLy9cbiAgICBkaXJlY3RpdmVTdGFydCwgLy9cbiAgICBkaXJlY3RpdmVFbmQsIC8vXG4gICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QsIC8vXG4gICAgcHJvcGVydHlCaW5kaW5ncywgLy9cbiAgICBmbGFncywgLy9cbiAgICBwcm92aWRlckluZGV4ZXMsIC8vXG4gICAgdmFsdWUsIC8vXG4gICAgYXR0cnMsIC8vXG4gICAgbWVyZ2VkQXR0cnMsIC8vXG4gICAgbG9jYWxOYW1lcywgLy9cbiAgICBpbml0aWFsSW5wdXRzLCAvL1xuICAgIGlucHV0cywgLy9cbiAgICBvdXRwdXRzLCAvL1xuICAgIHRWaWV3cywgLy9cbiAgICBuZXh0LCAvL1xuICAgIHByb2plY3Rpb25OZXh0LCAvL1xuICAgIGNoaWxkLCAvL1xuICAgIHBhcmVudCwgLy9cbiAgICBwcm9qZWN0aW9uLCAvL1xuICAgIHN0eWxlcywgLy9cbiAgICBzdHlsZXNXaXRob3V0SG9zdCwgLy9cbiAgICByZXNpZHVhbFN0eWxlcywgLy9cbiAgICBjbGFzc2VzLCAvL1xuICAgIGNsYXNzZXNXaXRob3V0SG9zdCwgLy9cbiAgICByZXNpZHVhbENsYXNzZXMsIC8vXG4gICAgY2xhc3NCaW5kaW5ncywgLy9cbiAgICBzdHlsZUJpbmRpbmdzKSB7XG4gICAgICAgIHRoaXMudFZpZXdfID0gdFZpZXdfO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuaW5zZXJ0QmVmb3JlSW5kZXggPSBpbnNlcnRCZWZvcmVJbmRleDtcbiAgICAgICAgdGhpcy5pbmplY3RvckluZGV4ID0gaW5qZWN0b3JJbmRleDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVTdGFydCA9IGRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZUVuZCA9IGRpcmVjdGl2ZUVuZDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVTdHlsaW5nTGFzdCA9IGRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgICAgICB0aGlzLnByb3BlcnR5QmluZGluZ3MgPSBwcm9wZXJ0eUJpbmRpbmdzO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMucHJvdmlkZXJJbmRleGVzID0gcHJvdmlkZXJJbmRleGVzO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgICAgICAgdGhpcy5tZXJnZWRBdHRycyA9IG1lcmdlZEF0dHJzO1xuICAgICAgICB0aGlzLmxvY2FsTmFtZXMgPSBsb2NhbE5hbWVzO1xuICAgICAgICB0aGlzLmluaXRpYWxJbnB1dHMgPSBpbml0aWFsSW5wdXRzO1xuICAgICAgICB0aGlzLmlucHV0cyA9IGlucHV0cztcbiAgICAgICAgdGhpcy5vdXRwdXRzID0gb3V0cHV0cztcbiAgICAgICAgdGhpcy50Vmlld3MgPSB0Vmlld3M7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbk5leHQgPSBwcm9qZWN0aW9uTmV4dDtcbiAgICAgICAgdGhpcy5jaGlsZCA9IGNoaWxkO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuc3R5bGVzV2l0aG91dEhvc3QgPSBzdHlsZXNXaXRob3V0SG9zdDtcbiAgICAgICAgdGhpcy5yZXNpZHVhbFN0eWxlcyA9IHJlc2lkdWFsU3R5bGVzO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBjbGFzc2VzO1xuICAgICAgICB0aGlzLmNsYXNzZXNXaXRob3V0SG9zdCA9IGNsYXNzZXNXaXRob3V0SG9zdDtcbiAgICAgICAgdGhpcy5yZXNpZHVhbENsYXNzZXMgPSByZXNpZHVhbENsYXNzZXM7XG4gICAgICAgIHRoaXMuY2xhc3NCaW5kaW5ncyA9IGNsYXNzQmluZGluZ3M7XG4gICAgICAgIHRoaXMuc3R5bGVCaW5kaW5ncyA9IHN0eWxlQmluZGluZ3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGh1bWFuIGRlYnVnIHZlcnNpb24gb2YgdGhlIHNldCBvZiBgTm9kZUluamVjdG9yYHMgd2hpY2ggd2lsbCBiZSBjb25zdWx0ZWQgd2hlblxuICAgICAqIHJlc29sdmluZyB0b2tlbnMgZnJvbSB0aGlzIGBUTm9kZWAuXG4gICAgICpcbiAgICAgKiBXaGVuIGRlYnVnZ2luZyBhcHBsaWNhdGlvbnMsIGl0IGlzIG9mdGVuIGRpZmZpY3VsdCB0byBkZXRlcm1pbmUgd2hpY2ggYE5vZGVJbmplY3RvcmBzIHdpbGwgYmVcbiAgICAgKiBjb25zdWx0ZWQuIFRoaXMgbWV0aG9kIHNob3dzIGEgbGlzdCBvZiBgRGVidWdOb2RlYHMgcmVwcmVzZW50aW5nIHRoZSBgVE5vZGVgcyB3aGljaCB3aWxsIGJlXG4gICAgICogY29uc3VsdGVkIGluIG9yZGVyIHdoZW4gcmVzb2x2aW5nIGEgdG9rZW4gc3RhcnRpbmcgYXQgdGhpcyBgVE5vZGVgLlxuICAgICAqXG4gICAgICogVGhlIG9yaWdpbmFsIGRhdGEgaXMgc3RvcmVkIGluIGBMVmlld2AgYW5kIGBUVmlld2Agd2l0aCBhIGxvdCBvZiBvZmZzZXQgaW5kZXhlcywgYW5kIHNvIGl0IGlzXG4gICAgICogZGlmZmljdWx0IHRvIHJlYXNvbiBhYm91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCBpbnN0YW5jZSBmb3IgdGhpcyBgVE5vZGVgLlxuICAgICAqL1xuICAgIGRlYnVnTm9kZUluamVjdG9yUGF0aChsVmlldykge1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIGxldCBpbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0aGlzLCBsVmlldyk7XG4gICAgICAgIGlmIChpbmplY3RvckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gTG9va3MgbGlrZSB0aGUgY3VycmVudCBgVE5vZGVgIGRvZXMgbm90IGhhdmUgYE5vZGVJbmplY3RvcmAgYXNzb2NpYXRlZCB3aXRoIGl0ID0+IGxvb2sgZm9yXG4gICAgICAgICAgICAvLyBwYXJlbnQgTm9kZUluamVjdG9yLlxuICAgICAgICAgICAgY29uc3QgcGFyZW50TG9jYXRpb24gPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHRoaXMsIGxWaWV3KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiAhPT0gTk9fUEFSRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBwYXJlbnQsIHNvIHN0YXJ0IHNlYXJjaGluZyBmcm9tIHRoZSBwYXJlbnQgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyBwYXJlbnRzIGhhdmUgYmVlbiBmb3VuZCwgc28gdGhlcmUgYXJlIG5vIGBOb2RlSW5qZWN0b3JgcyB0byBjb25zdWx0LlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVJbmplY3RvcihsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgICAgICAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXTtcbiAgICAgICAgICAgIHBhdGgucHVzaChidWlsZERlYnVnTm9kZSh0Tm9kZSwgbFZpZXcpKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudExvY2F0aW9uID0gbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiA9PT0gTk9fUEFSRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuICAgIGdldCB0eXBlXygpIHtcbiAgICAgICAgcmV0dXJuIHRvVE5vZGVUeXBlQXNTdHJpbmcodGhpcy50eXBlKSB8fCBgVE5vZGVUeXBlLj8ke3RoaXMudHlwZX0/YDtcbiAgICB9XG4gICAgZ2V0IGZsYWdzXygpIHtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAxNiAvKiBoYXNDbGFzc0lucHV0ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5oYXNDbGFzc0lucHV0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgOCAvKiBoYXNDb250ZW50UXVlcnkgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc0NvbnRlbnRRdWVyeScpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDMyIC8qIGhhc1N0eWxlSW5wdXQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc1N0eWxlSW5wdXQnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5oYXNIb3N0QmluZGluZ3MnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNDb21wb25lbnRIb3N0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMSAvKiBpc0RpcmVjdGl2ZUhvc3QgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzRGlyZWN0aXZlSG9zdCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzRGV0YWNoZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiA0IC8qIGlzUHJvamVjdGVkICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5pc1Byb2plY3RlZCcpO1xuICAgICAgICByZXR1cm4gZmxhZ3Muam9pbignfCcpO1xuICAgIH1cbiAgICBnZXQgdGVtcGxhdGVfKCkge1xuICAgICAgICBpZiAodGhpcy50eXBlICYgMSAvKiBUZXh0ICovKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IFtdO1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gdHlwZW9mIHRoaXMudmFsdWUgPT09ICdzdHJpbmcnICYmIHRoaXMudmFsdWUgfHwgdGhpcy50eXBlXztcbiAgICAgICAgYnVmLnB1c2goJzwnLCB0YWdOYW1lKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MpIHtcbiAgICAgICAgICAgIGJ1Zi5wdXNoKCcgJywgdGhpcy5mbGFnc18pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cnMubGVuZ3RoOykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdGhpcy5hdHRyc1tpKytdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ck5hbWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHRoaXMuYXR0cnNbaSsrXTtcbiAgICAgICAgICAgICAgICBidWYucHVzaCgnICcsIGF0dHJOYW1lLCAnPVwiJywgYXR0clZhbHVlLCAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidWYucHVzaCgnPicpO1xuICAgICAgICBwcm9jZXNzVE5vZGVDaGlsZHJlbih0aGlzLmNoaWxkLCBidWYpO1xuICAgICAgICBidWYucHVzaCgnPC8nLCB0YWdOYW1lLCAnPicpO1xuICAgICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXQgc3R5bGVCaW5kaW5nc18oKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnU3R5bGVCaW5kaW5nKHRoaXMsIGZhbHNlKTtcbiAgICB9XG4gICAgZ2V0IGNsYXNzQmluZGluZ3NfKCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z1N0eWxlQmluZGluZyh0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgZ2V0IHByb3ZpZGVySW5kZXhTdGFydF8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgfVxuICAgIGdldCBwcm92aWRlckluZGV4RW5kXygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJJbmRleFN0YXJ0XyArXG4gICAgICAgICAgICAodGhpcy5wcm92aWRlckluZGV4ZXMgPj4+IDIwIC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ICovKTtcbiAgICB9XG59XG5jb25zdCBUTm9kZURlYnVnID0gVE5vZGU7XG5mdW5jdGlvbiB0b0RlYnVnU3R5bGVCaW5kaW5nKHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCB0RGF0YSA9IHROb2RlLnRWaWV3Xy5kYXRhO1xuICAgIGNvbnN0IGJpbmRpbmdzID0gW107XG4gICAgY29uc3QgcmFuZ2UgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBjb25zdCBwcmV2ID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYocmFuZ2UpO1xuICAgIGNvbnN0IG5leHQgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dChyYW5nZSk7XG4gICAgbGV0IGlzVGVtcGxhdGUgPSBuZXh0ICE9PSAwO1xuICAgIGxldCBjdXJzb3IgPSBpc1RlbXBsYXRlID8gbmV4dCA6IHByZXY7XG4gICAgd2hpbGUgKGN1cnNvciAhPT0gMCkge1xuICAgICAgICBjb25zdCBpdGVtS2V5ID0gdERhdGFbY3Vyc29yXTtcbiAgICAgICAgY29uc3QgaXRlbVJhbmdlID0gdERhdGFbY3Vyc29yICsgMV07XG4gICAgICAgIGJpbmRpbmdzLnVuc2hpZnQoe1xuICAgICAgICAgICAga2V5OiBpdGVtS2V5LFxuICAgICAgICAgICAgaW5kZXg6IGN1cnNvcixcbiAgICAgICAgICAgIGlzVGVtcGxhdGU6IGlzVGVtcGxhdGUsXG4gICAgICAgICAgICBwcmV2RHVwbGljYXRlOiBnZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZShpdGVtUmFuZ2UpLFxuICAgICAgICAgICAgbmV4dER1cGxpY2F0ZTogZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUoaXRlbVJhbmdlKSxcbiAgICAgICAgICAgIG5leHRJbmRleDogZ2V0VFN0eWxpbmdSYW5nZU5leHQoaXRlbVJhbmdlKSxcbiAgICAgICAgICAgIHByZXZJbmRleDogZ2V0VFN0eWxpbmdSYW5nZVByZXYoaXRlbVJhbmdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJzb3IgPT09IHByZXYpXG4gICAgICAgICAgICBpc1RlbXBsYXRlID0gZmFsc2U7XG4gICAgICAgIGN1cnNvciA9IGdldFRTdHlsaW5nUmFuZ2VQcmV2KGl0ZW1SYW5nZSk7XG4gICAgfVxuICAgIGJpbmRpbmdzLnB1c2goKGlzQ2xhc3NCYXNlZCA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzKSB8fCBudWxsKTtcbiAgICByZXR1cm4gYmluZGluZ3M7XG59XG5mdW5jdGlvbiBwcm9jZXNzVE5vZGVDaGlsZHJlbih0Tm9kZSwgYnVmKSB7XG4gICAgd2hpbGUgKHROb2RlKSB7XG4gICAgICAgIGJ1Zi5wdXNoKHROb2RlLnRlbXBsYXRlXyk7XG4gICAgICAgIHROb2RlID0gdE5vZGUubmV4dDtcbiAgICB9XG59XG5jbGFzcyBUVmlld0RhdGEgZXh0ZW5kcyBBcnJheSB7XG59XG5sZXQgVFZJRVdEQVRBX0VNUFRZOyAvLyBjYW4ndCBpbml0aWFsaXplIGhlcmUgb3IgaXQgd2lsbCBub3QgYmUgdHJlZSBzaGFrZW4sIGJlY2F1c2Vcbi8vIGBMVmlld2AgY29uc3RydWN0b3IgY291bGQgaGF2ZSBzaWRlLWVmZmVjdHMuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGEgYmx1ZXByaW50IGFuZCBjcmVhdGVzIFREYXRhLlxuICpcbiAqIFNpbXBsZSBzbGljZSB3aWxsIGtlZXAgdGhlIHNhbWUgdHlwZSwgYW5kIHdlIG5lZWQgaXQgdG8gYmUgVERhdGFcbiAqL1xuZnVuY3Rpb24gY2xvbmVUb1RWaWV3RGF0YShsaXN0KSB7XG4gICAgaWYgKFRWSUVXREFUQV9FTVBUWSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBUVklFV0RBVEFfRU1QVFkgPSBuZXcgVFZpZXdEYXRhKCk7XG4gICAgcmV0dXJuIFRWSUVXREFUQV9FTVBUWS5jb25jYXQobGlzdCk7XG59XG5jbGFzcyBMVmlld0JsdWVwcmludCBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIE1hdGNoZXNBcnJheSBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFRWaWV3Q29tcG9uZW50cyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFROb2RlTG9jYWxOYW1lcyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFROb2RlSW5pdGlhbElucHV0cyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIExDbGVhbnVwIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVENsZWFudXAgZXh0ZW5kcyBBcnJheSB7XG59XG5mdW5jdGlvbiBhdHRhY2hMVmlld0RlYnVnKGxWaWV3KSB7XG4gICAgYXR0YWNoRGVidWdPYmplY3QobFZpZXcsIG5ldyBMVmlld0RlYnVnKGxWaWV3KSk7XG59XG5mdW5jdGlvbiBhdHRhY2hMQ29udGFpbmVyRGVidWcobENvbnRhaW5lcikge1xuICAgIGF0dGFjaERlYnVnT2JqZWN0KGxDb250YWluZXIsIG5ldyBMQ29udGFpbmVyRGVidWcobENvbnRhaW5lcikpO1xufVxuZnVuY3Rpb24gdG9EZWJ1ZyhvYmopIHtcbiAgICBpZiAob2JqKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnID0gb2JqLmRlYnVnO1xuICAgICAgICBhc3NlcnREZWZpbmVkKGRlYnVnLCAnT2JqZWN0IGRvZXMgbm90IGhhdmUgYSBkZWJ1ZyByZXByZXNlbnRhdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuIGRlYnVnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG59XG4vKipcbiAqIFVzZSB0aGlzIG1ldGhvZCB0byB1bndyYXAgYSBuYXRpdmUgZWxlbWVudCBpbiBgTFZpZXdgIGFuZCBjb252ZXJ0IGl0IGludG8gSFRNTCBmb3IgZWFzaWVyXG4gKiByZWFkaW5nLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBwb3NzaWJseSB3cmFwcGVkIG5hdGl2ZSBET00gbm9kZS5cbiAqIEBwYXJhbSBpbmNsdWRlQ2hpbGRyZW4gSWYgYHRydWVgIHRoZW4gdGhlIHNlcmlhbGl6ZWQgSFRNTCBmb3JtIHdpbGwgaW5jbHVkZSBjaGlsZCBlbGVtZW50c1xuICogKHNhbWVcbiAqIGFzIGBvdXRlckhUTUxgKS4gSWYgYGZhbHNlYCB0aGVuIHRoZSBzZXJpYWxpemVkIEhUTUwgZm9ybSB3aWxsIG9ubHkgY29udGFpbiB0aGUgZWxlbWVudFxuICogaXRzZWxmXG4gKiAod2lsbCBub3Qgc2VyaWFsaXplIGNoaWxkIGVsZW1lbnRzKS5cbiAqL1xuZnVuY3Rpb24gdG9IdG1sKHZhbHVlLCBpbmNsdWRlQ2hpbGRyZW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IG5vZGUgPSB1bndyYXBSTm9kZSh2YWx1ZSk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgICAgY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDwhLS0ke25vZGUudGV4dENvbnRlbnR9LS0+YDtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0ZXJIVE1MID0gbm9kZS5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJIVE1MID0gJz4nICsgbm9kZS5pbm5lckhUTUwgKyAnPCc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAob3V0ZXJIVE1MLnNwbGl0KGlubmVySFRNTClbMF0pICsgJz4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNsYXNzIExWaWV3RGVidWcge1xuICAgIGNvbnN0cnVjdG9yKF9yYXdfbFZpZXcpIHtcbiAgICAgICAgdGhpcy5fcmF3X2xWaWV3ID0gX3Jhd19sVmlldztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmxhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBgTFZpZXdgIHVucGFja2VkIGludG8gYSBtb3JlIHJlYWRhYmxlIHN0YXRlLlxuICAgICAqL1xuICAgIGdldCBmbGFncygpIHtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSB0aGlzLl9yYXdfbFZpZXdbRkxBR1NdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX19yYXdfX2ZsYWdzX186IGZsYWdzLFxuICAgICAgICAgICAgaW5pdFBoYXNlU3RhdGU6IGZsYWdzICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8sXG4gICAgICAgICAgICBjcmVhdGlvbk1vZGU6ICEhKGZsYWdzICYgNCAvKiBDcmVhdGlvbk1vZGUgKi8pLFxuICAgICAgICAgICAgZmlyc3RWaWV3UGFzczogISEoZmxhZ3MgJiA4IC8qIEZpcnN0TFZpZXdQYXNzICovKSxcbiAgICAgICAgICAgIGNoZWNrQWx3YXlzOiAhIShmbGFncyAmIDE2IC8qIENoZWNrQWx3YXlzICovKSxcbiAgICAgICAgICAgIGRpcnR5OiAhIShmbGFncyAmIDY0IC8qIERpcnR5ICovKSxcbiAgICAgICAgICAgIGF0dGFjaGVkOiAhIShmbGFncyAmIDEyOCAvKiBBdHRhY2hlZCAqLyksXG4gICAgICAgICAgICBkZXN0cm95ZWQ6ICEhKGZsYWdzICYgMjU2IC8qIERlc3Ryb3llZCAqLyksXG4gICAgICAgICAgICBpc1Jvb3Q6ICEhKGZsYWdzICYgNTEyIC8qIElzUm9vdCAqLyksXG4gICAgICAgICAgICBpbmRleFdpdGhpbkluaXRQaGFzZTogZmxhZ3MgPj4gMTEgLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VTaGlmdCAqLyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W1BBUkVOVF0pO1xuICAgIH1cbiAgICBnZXQgaG9zdEhUTUwoKSB7XG4gICAgICAgIHJldHVybiB0b0h0bWwodGhpcy5fcmF3X2xWaWV3W0hPU1RdLCB0cnVlKTtcbiAgICB9XG4gICAgZ2V0IGh0bWwoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5ub2RlcyB8fCBbXSkubWFwKG1hcFRvSFRNTCkuam9pbignJyk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W0NPTlRFWFRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHJlZSBvZiBub2RlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgYExWaWV3YC4gVGhlIG5vZGVzIGhhdmUgYmVlbiBub3JtYWxpemVkIGludG9cbiAgICAgKiBhIHRyZWUgc3RydWN0dXJlIHdpdGggcmVsZXZhbnQgZGV0YWlscyBwdWxsZWQgb3V0IGZvciByZWFkYWJpbGl0eS5cbiAgICAgKi9cbiAgICBnZXQgbm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gdGhpcy5fcmF3X2xWaWV3O1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z05vZGVzKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudFZpZXcudGVtcGxhdGVfO1xuICAgIH1cbiAgICBnZXQgdFZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbVFZJRVddO1xuICAgIH1cbiAgICBnZXQgY2xlYW51cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tDTEVBTlVQXTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W0lOSkVDVE9SJDFdO1xuICAgIH1cbiAgICBnZXQgcmVuZGVyZXJGYWN0b3J5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldO1xuICAgIH1cbiAgICBnZXQgcmVuZGVyZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbUkVOREVSRVJdO1xuICAgIH1cbiAgICBnZXQgc2FuaXRpemVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1NBTklUSVpFUl07XG4gICAgfVxuICAgIGdldCBjaGlsZEhlYWQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tDSElMRF9IRUFEXSk7XG4gICAgfVxuICAgIGdldCBuZXh0KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbTkVYVF0pO1xuICAgIH1cbiAgICBnZXQgY2hpbGRUYWlsKCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbQ0hJTERfVEFJTF0pO1xuICAgIH1cbiAgICBnZXQgZGVjbGFyYXRpb25WaWV3KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbREVDTEFSQVRJT05fVklFV10pO1xuICAgIH1cbiAgICBnZXQgcXVlcmllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tRVUVSSUVTXTtcbiAgICB9XG4gICAgZ2V0IHRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1RfSE9TVF07XG4gICAgfVxuICAgIGdldCBkZWNscygpIHtcbiAgICAgICAgcmV0dXJuIHRvTFZpZXdSYW5nZSh0aGlzLnRWaWV3LCB0aGlzLl9yYXdfbFZpZXcsIEhFQURFUl9PRkZTRVQsIHRoaXMudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpO1xuICAgIH1cbiAgICBnZXQgdmFycygpIHtcbiAgICAgICAgcmV0dXJuIHRvTFZpZXdSYW5nZSh0aGlzLnRWaWV3LCB0aGlzLl9yYXdfbFZpZXcsIHRoaXMudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsIHRoaXMudFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgpO1xuICAgIH1cbiAgICBnZXQgZXhwYW5kbygpIHtcbiAgICAgICAgcmV0dXJuIHRvTFZpZXdSYW5nZSh0aGlzLnRWaWV3LCB0aGlzLl9yYXdfbFZpZXcsIHRoaXMudFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIHRoaXMuX3Jhd19sVmlldy5sZW5ndGgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVkIHZpZXcgb2YgY2hpbGQgdmlld3MgKGFuZCBjb250YWluZXJzKSBhdHRhY2hlZCBhdCB0aGlzIGxvY2F0aW9uLlxuICAgICAqL1xuICAgIGdldCBjaGlsZFZpZXdzKCkge1xuICAgICAgICBjb25zdCBjaGlsZFZpZXdzID0gW107XG4gICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRIZWFkO1xuICAgICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgICAgIGNoaWxkVmlld3MucHVzaChjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkVmlld3M7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwVG9IVE1MKG5vZGUpIHtcbiAgICBpZiAobm9kZS50eXBlID09PSAnRWxlbWVudENvbnRhaW5lcicpIHtcbiAgICAgICAgcmV0dXJuIChub2RlLmNoaWxkcmVuIHx8IFtdKS5tYXAobWFwVG9IVE1MKS5qb2luKCcnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS50eXBlID09PSAnSWN1Q29udGFpbmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRvSHRtbChub2RlLm5hdGl2ZSwgdHJ1ZSkgfHwgJyc7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9MVmlld1JhbmdlKHRWaWV3LCBsVmlldywgc3RhcnQsIGVuZCkge1xuICAgIGxldCBjb250ZW50ID0gW107XG4gICAgZm9yIChsZXQgaW5kZXggPSBzdGFydDsgaW5kZXggPCBlbmQ7IGluZGV4KyspIHtcbiAgICAgICAgY29udGVudC5wdXNoKHsgaW5kZXg6IGluZGV4LCB0OiB0Vmlldy5kYXRhW2luZGV4XSwgbDogbFZpZXdbaW5kZXhdIH0pO1xuICAgIH1cbiAgICByZXR1cm4geyBzdGFydDogc3RhcnQsIGVuZDogZW5kLCBsZW5ndGg6IGVuZCAtIHN0YXJ0LCBjb250ZW50OiBjb250ZW50IH07XG59XG4vKipcbiAqIFR1cm5zIGEgZmxhdCBsaXN0IG9mIG5vZGVzIGludG8gYSB0cmVlIGJ5IHdhbGtpbmcgdGhlIGFzc29jaWF0ZWQgYFROb2RlYCB0cmVlLlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICogQHBhcmFtIGxWaWV3XG4gKi9cbmZ1bmN0aW9uIHRvRGVidWdOb2Rlcyh0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAodE5vZGUpIHtcbiAgICAgICAgY29uc3QgZGVidWdOb2RlcyA9IFtdO1xuICAgICAgICBsZXQgdE5vZGVDdXJzb3IgPSB0Tm9kZTtcbiAgICAgICAgd2hpbGUgKHROb2RlQ3Vyc29yKSB7XG4gICAgICAgICAgICBkZWJ1Z05vZGVzLnB1c2goYnVpbGREZWJ1Z05vZGUodE5vZGVDdXJzb3IsIGxWaWV3KSk7XG4gICAgICAgICAgICB0Tm9kZUN1cnNvciA9IHROb2RlQ3Vyc29yLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlYnVnTm9kZXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuZnVuY3Rpb24gYnVpbGREZWJ1Z05vZGUodE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgcmF3VmFsdWUgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUocmF3VmFsdWUpO1xuICAgIGNvbnN0IGZhY3RvcmllcyA9IFtdO1xuICAgIGNvbnN0IGluc3RhbmNlcyA9IFtdO1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDsgaSA8IHROb2RlLmRpcmVjdGl2ZUVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIGZhY3Rvcmllcy5wdXNoKGRlZi50eXBlKTtcbiAgICAgICAgaW5zdGFuY2VzLnB1c2gobFZpZXdbaV0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBodG1sOiB0b0h0bWwobmF0aXZlKSxcbiAgICAgICAgdHlwZTogdG9UTm9kZVR5cGVBc1N0cmluZyh0Tm9kZS50eXBlKSxcbiAgICAgICAgdE5vZGUsXG4gICAgICAgIG5hdGl2ZTogbmF0aXZlLFxuICAgICAgICBjaGlsZHJlbjogdG9EZWJ1Z05vZGVzKHROb2RlLmNoaWxkLCBsVmlldyksXG4gICAgICAgIGZhY3RvcmllcyxcbiAgICAgICAgaW5zdGFuY2VzLFxuICAgICAgICBpbmplY3RvcjogYnVpbGROb2RlSW5qZWN0b3JEZWJ1Zyh0Tm9kZSwgdFZpZXcsIGxWaWV3KSxcbiAgICAgICAgZ2V0IGluamVjdG9yUmVzb2x1dGlvblBhdGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdE5vZGUuZGVidWdOb2RlSW5qZWN0b3JQYXRoKGxWaWV3KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGROb2RlSW5qZWN0b3JEZWJ1Zyh0Tm9kZSwgdFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3Qgdmlld1Byb3ZpZGVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5wcm92aWRlckluZGV4U3RhcnRfOyBpIDwgdE5vZGUucHJvdmlkZXJJbmRleEVuZF87IGkrKykge1xuICAgICAgICB2aWV3UHJvdmlkZXJzLnB1c2godFZpZXcuZGF0YVtpXSk7XG4gICAgfVxuICAgIGNvbnN0IHByb3ZpZGVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5wcm92aWRlckluZGV4RW5kXzsgaSA8IHROb2RlLmRpcmVjdGl2ZUVuZDsgaSsrKSB7XG4gICAgICAgIHByb3ZpZGVycy5wdXNoKHRWaWV3LmRhdGFbaV0pO1xuICAgIH1cbiAgICBjb25zdCBub2RlSW5qZWN0b3JEZWJ1ZyA9IHtcbiAgICAgICAgYmxvb206IHRvQmxvb20obFZpZXcsIHROb2RlLmluamVjdG9ySW5kZXgpLFxuICAgICAgICBjdW11bGF0aXZlQmxvb206IHRvQmxvb20odFZpZXcuZGF0YSwgdE5vZGUuaW5qZWN0b3JJbmRleCksXG4gICAgICAgIHByb3ZpZGVycyxcbiAgICAgICAgdmlld1Byb3ZpZGVycyxcbiAgICAgICAgcGFyZW50SW5qZWN0b3JJbmRleDogbFZpZXdbdE5vZGUucHJvdmlkZXJJbmRleFN0YXJ0XyAtIDFdLFxuICAgIH07XG4gICAgcmV0dXJuIG5vZGVJbmplY3RvckRlYnVnO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgbnVtYmVyIGF0IGBpZHhgIGxvY2F0aW9uIGluIGBhcnJheWAgaW50byBiaW5hcnkgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQHBhcmFtIGFycmF5XG4gKiBAcGFyYW0gaWR4XG4gKi9cbmZ1bmN0aW9uIGJpbmFyeShhcnJheSwgaWR4KSB7XG4gICAgY29uc3QgdmFsdWUgPSBhcnJheVtpZHhdO1xuICAgIC8vIElmIG5vdCBhIG51bWJlciB3ZSBwcmludCA4IGA/YCB0byByZXRhaW4gYWxpZ25tZW50IGJ1dCBsZXQgdXNlciBrbm93IHRoYXQgaXQgd2FzIGNhbGxlZCBvblxuICAgIC8vIHdyb25nIHR5cGUuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiAnPz8/Pz8/Pz8nO1xuICAgIC8vIFdlIHByZWZpeCAwcyBzbyB0aGF0IHdlIGhhdmUgY29uc3RhbnQgbGVuZ3RoIG51bWJlclxuICAgIGNvbnN0IHRleHQgPSAnMDAwMDAwMDAnICsgdmFsdWUudG9TdHJpbmcoMik7XG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHRleHQubGVuZ3RoIC0gOCk7XG59XG4vKipcbiAqIENvbnZlcnQgYSBibG9vbSBmaWx0ZXIgYXQgbG9jYXRpb24gYGlkeGAgaW4gYGFycmF5YCBpbnRvIGJpbmFyeSByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYXJyYXlcbiAqIEBwYXJhbSBpZHhcbiAqL1xuZnVuY3Rpb24gdG9CbG9vbShhcnJheSwgaWR4KSB7XG4gICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgcmV0dXJuICdOT19OT0RFX0lOSkVDVE9SJztcbiAgICB9XG4gICAgcmV0dXJuIGAke2JpbmFyeShhcnJheSwgaWR4ICsgNyl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyA2KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDUpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgNCl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAzKX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDIpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgMSl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAwKX1gO1xufVxuY2xhc3MgTENvbnRhaW5lckRlYnVnIHtcbiAgICBjb25zdHJ1Y3RvcihfcmF3X2xDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5fcmF3X2xDb250YWluZXIgPSBfcmF3X2xDb250YWluZXI7XG4gICAgfVxuICAgIGdldCBoYXNUcmFuc3BsYW50ZWRWaWV3cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW0hBU19UUkFOU1BMQU5URURfVklFV1NdO1xuICAgIH1cbiAgICBnZXQgdmlld3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lci5zbGljZShDT05UQUlORVJfSEVBREVSX09GRlNFVClcbiAgICAgICAgICAgIC5tYXAodG9EZWJ1Zyk7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sQ29udGFpbmVyW1BBUkVOVF0pO1xuICAgIH1cbiAgICBnZXQgbW92ZWRWaWV3cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICB9XG4gICAgZ2V0IGhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lcltIT1NUXTtcbiAgICB9XG4gICAgZ2V0IG5hdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW05BVElWRV07XG4gICAgfVxuICAgIGdldCBuZXh0KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbENvbnRhaW5lcltORVhUXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgcGVybWFuZW50IG1hcmtlciBwcm9taXNlIHdoaWNoIHNpZ25pZmllcyB0aGF0IHRoZSBjdXJyZW50IENEIHRyZWUgaXNcbiAqIGNsZWFuLlxuICovXG5jb25zdCBfQ0xFQU5fUFJPTUlTRSA9ICgoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCkpKCk7XG4vKipcbiAqIEludm9rZSBgSG9zdEJpbmRpbmdzRnVuY3Rpb25gcyBmb3Igdmlldy5cbiAqXG4gKiBUaGlzIG1ldGhvZHMgZXhlY3V0ZXMgYFRWaWV3Lmhvc3RCaW5kaW5nT3BDb2Rlc2AuIEl0IGlzIHVzZWQgdG8gZXhlY3V0ZSB0aGVcbiAqIGBIb3N0QmluZGluZ3NGdW5jdGlvbmBzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzSG9zdEJpbmRpbmdPcENvZGVzKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IGhvc3RCaW5kaW5nT3BDb2RlcyA9IHRWaWV3Lmhvc3RCaW5kaW5nT3BDb2RlcztcbiAgICBpZiAoaG9zdEJpbmRpbmdPcENvZGVzID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob3N0QmluZGluZ09wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9wQ29kZSA9IGhvc3RCaW5kaW5nT3BDb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBhcmUgZWxlbWVudCBpbmRleGVzLlxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkSW5kZXgofm9wQ29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGl2ZSBudW1iZXJzIGFyZSBOdW1iZXJUdXBsZSB3aGljaCBzdG9yZSBiaW5kaW5nUm9vdEluZGV4IGFuZCBkaXJlY3RpdmVJbmRleC5cbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVJZHggPSBvcENvZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluZGluZ1Jvb3RJbmR4ID0gaG9zdEJpbmRpbmdPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgY29uc3QgaG9zdEJpbmRpbmdGbiA9IGhvc3RCaW5kaW5nT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgIHNldEJpbmRpbmdSb290Rm9ySG9zdEJpbmRpbmdzKGJpbmRpbmdSb290SW5keCwgZGlyZWN0aXZlSWR4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbFZpZXdbZGlyZWN0aXZlSWR4XTtcbiAgICAgICAgICAgICAgICBob3N0QmluZGluZ0ZuKDIgLyogVXBkYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCgtMSk7XG4gICAgfVxufVxuLyoqIFJlZnJlc2hlcyBhbGwgY29udGVudCBxdWVyaWVzIGRlY2xhcmVkIGJ5IGRpcmVjdGl2ZXMgaW4gYSBnaXZlbiB2aWV3ICovXG5mdW5jdGlvbiByZWZyZXNoQ29udGVudFF1ZXJpZXModFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgY29udGVudFF1ZXJpZXMgPSB0Vmlldy5jb250ZW50UXVlcmllcztcbiAgICBpZiAoY29udGVudFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50UXVlcmllcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdGFydElkeCA9IGNvbnRlbnRRdWVyaWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmSWR4ID0gY29udGVudFF1ZXJpZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZURlZklkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSB0Vmlldy5kYXRhW2RpcmVjdGl2ZURlZklkeF07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZGlyZWN0aXZlRGVmLCAnRGlyZWN0aXZlRGVmIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChkaXJlY3RpdmVEZWYuY29udGVudFF1ZXJpZXMsICdjb250ZW50UXVlcmllcyBmdW5jdGlvbiBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRRdWVyeUluZGV4KHF1ZXJ5U3RhcnRJZHgpO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZURlZi5jb250ZW50UXVlcmllcygyIC8qIFVwZGF0ZSAqLywgbFZpZXdbZGlyZWN0aXZlRGVmSWR4XSwgZGlyZWN0aXZlRGVmSWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBSZWZyZXNoZXMgY2hpbGQgY29tcG9uZW50cyBpbiB0aGUgY3VycmVudCB2aWV3ICh1cGRhdGUgbW9kZSkuICovXG5mdW5jdGlvbiByZWZyZXNoQ2hpbGRDb21wb25lbnRzKGhvc3RMVmlldywgY29tcG9uZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZWZyZXNoQ29tcG9uZW50KGhvc3RMVmlldywgY29tcG9uZW50c1tpXSk7XG4gICAgfVxufVxuLyoqIFJlbmRlcnMgY2hpbGQgY29tcG9uZW50cyBpbiB0aGUgY3VycmVudCB2aWV3IChjcmVhdGlvbiBtb2RlKS4gKi9cbmZ1bmN0aW9uIHJlbmRlckNoaWxkQ29tcG9uZW50cyhob3N0TFZpZXcsIGNvbXBvbmVudHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50JDEoaG9zdExWaWV3LCBjb21wb25lbnRzW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVMVmlldyhwYXJlbnRMVmlldywgdFZpZXcsIGNvbnRleHQsIGZsYWdzLCBob3N0LCB0SG9zdE5vZGUsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplciwgaW5qZWN0b3IpIHtcbiAgICBjb25zdCBsVmlldyA9IG5nRGV2TW9kZSA/IGNsb25lVG9MVmlld0Zyb21UVmlld0JsdWVwcmludCh0VmlldykgOiB0Vmlldy5ibHVlcHJpbnQuc2xpY2UoKTtcbiAgICBsVmlld1tIT1NUXSA9IGhvc3Q7XG4gICAgbFZpZXdbRkxBR1NdID0gZmxhZ3MgfCA0IC8qIENyZWF0aW9uTW9kZSAqLyB8IDEyOCAvKiBBdHRhY2hlZCAqLyB8IDggLyogRmlyc3RMVmlld1Bhc3MgKi87XG4gICAgcmVzZXRQcmVPcmRlckhvb2tGbGFncyhsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIHRWaWV3LmRlY2xUTm9kZSAmJiBwYXJlbnRMVmlldyAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHRWaWV3LmRlY2xUTm9kZSwgcGFyZW50TFZpZXcpO1xuICAgIGxWaWV3W1BBUkVOVF0gPSBsVmlld1tERUNMQVJBVElPTl9WSUVXXSA9IHBhcmVudExWaWV3O1xuICAgIGxWaWV3W0NPTlRFWFRdID0gY29udGV4dDtcbiAgICBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXSA9IChyZW5kZXJlckZhY3RvcnkgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbUkVOREVSRVJfRkFDVE9SWV0pO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldLCAnUmVuZGVyZXJGYWN0b3J5IGlzIHJlcXVpcmVkJyk7XG4gICAgbFZpZXdbUkVOREVSRVJdID0gKHJlbmRlcmVyIHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W1JFTkRFUkVSXSk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXdbUkVOREVSRVJdLCAnUmVuZGVyZXIgaXMgcmVxdWlyZWQnKTtcbiAgICBsVmlld1tTQU5JVElaRVJdID0gc2FuaXRpemVyIHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W1NBTklUSVpFUl0gfHwgbnVsbDtcbiAgICBsVmlld1tJTkpFQ1RPUiQxXSA9IGluamVjdG9yIHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W0lOSkVDVE9SJDFdIHx8IG51bGw7XG4gICAgbFZpZXdbVF9IT1NUXSA9IHRIb3N0Tm9kZTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcudHlwZSA9PSAyIC8qIEVtYmVkZGVkICovID8gcGFyZW50TFZpZXcgIT09IG51bGwgOiB0cnVlLCB0cnVlLCAnRW1iZWRkZWQgdmlld3MgbXVzdCBoYXZlIHBhcmVudExWaWV3Jyk7XG4gICAgbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddID1cbiAgICAgICAgdFZpZXcudHlwZSA9PSAyIC8qIEVtYmVkZGVkICovID8gcGFyZW50TFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddIDogbFZpZXc7XG4gICAgbmdEZXZNb2RlICYmIGF0dGFjaExWaWV3RGVidWcobFZpZXcpO1xuICAgIHJldHVybiBsVmlldztcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCB0eXBlLCBuYW1lLCBhdHRycykge1xuICAgIG5nRGV2TW9kZSAmJiBpbmRleCAhPT0gMCAmJiAvLyAwIGFyZSBib2d1cyBub2RlcyBhbmQgdGhleSBhcmUgT0suIFNlZSBgY3JlYXRlQ29udGFpbmVyUmVmYCBpblxuICAgICAgICAvLyBgdmlld19lbmdpbmVfY29tcGF0aWJpbGl0eWAgZm9yIGFkZGl0aW9uYWwgY29udGV4dC5cbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGluZGV4LCBIRUFERVJfT0ZGU0VULCAnVE5vZGVzIGNhblxcJ3QgYmUgaW4gdGhlIExWaWV3IGhlYWRlci4nKTtcbiAgICAvLyBLZWVwIHRoaXMgZnVuY3Rpb24gc2hvcnQsIHNvIHRoYXQgdGhlIFZNIHdpbGwgaW5saW5lIGl0LlxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQdXJlVE5vZGVUeXBlKHR5cGUpO1xuICAgIGxldCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIGlmICh0Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICB0Tm9kZSA9IGNyZWF0ZVROb2RlQXRJbmRleCh0VmlldywgaW5kZXgsIHR5cGUsIG5hbWUsIGF0dHJzKTtcbiAgICAgICAgaWYgKGlzSW5JMThuQmxvY2soKSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGluIGkxOG4gYmxvY2sgdGhlbiBhbGwgZWxlbWVudHMgc2hvdWxkIGJlIHByZSBkZWNsYXJlZCB0aHJvdWdoIGBQbGFjZWhvbGRlcmBcbiAgICAgICAgICAgIC8vIFNlZSBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBhbmQgYExGcmFtZS5pbkkxOG5gIGZvciBtb3JlIGNvbnRleHQuXG4gICAgICAgICAgICAvLyBJZiB0aGUgYFROb2RlYCB3YXMgbm90IHByZS1kZWNsYXJlZCB0aGFuIGl0IG1lYW5zIGl0IHdhcyBub3QgbWVudGlvbmVkIHdoaWNoIG1lYW5zIGl0IHdhc1xuICAgICAgICAgICAgLy8gcmVtb3ZlZCwgc28gd2UgbWFyayBpdCBhcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDY0IC8qIGlzRGV0YWNoZWQgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDY0IC8qIFBsYWNlaG9sZGVyICovKSB7XG4gICAgICAgIHROb2RlLnR5cGUgPSB0eXBlO1xuICAgICAgICB0Tm9kZS52YWx1ZSA9IG5hbWU7XG4gICAgICAgIHROb2RlLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpO1xuICAgICAgICB0Tm9kZS5pbmplY3RvckluZGV4ID0gcGFyZW50ID09PSBudWxsID8gLTEgOiBwYXJlbnQuaW5qZWN0b3JJbmRleDtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIHRWaWV3KTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGluZGV4LCB0Tm9kZS5pbmRleCwgJ0V4cGVjdGluZyBzYW1lIGluZGV4Jyk7XG4gICAgfVxuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHROb2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpbmRleCwgdHlwZSwgbmFtZSwgYXR0cnMpIHtcbiAgICBjb25zdCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGVQbGFjZWhvbGRlck9rKCk7XG4gICAgY29uc3QgaXNQYXJlbnQgPSBpc0N1cnJlbnRUTm9kZVBhcmVudCgpO1xuICAgIGNvbnN0IHBhcmVudCA9IGlzUGFyZW50ID8gY3VycmVudFROb2RlIDogY3VycmVudFROb2RlICYmIGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgLy8gUGFyZW50cyBjYW5ub3QgY3Jvc3MgY29tcG9uZW50IGJvdW5kYXJpZXMgYmVjYXVzZSBjb21wb25lbnRzIHdpbGwgYmUgdXNlZCBpbiBtdWx0aXBsZSBwbGFjZXMuXG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XSA9XG4gICAgICAgIGNyZWF0ZVROb2RlKHRWaWV3LCBwYXJlbnQsIHR5cGUsIGluZGV4LCBuYW1lLCBhdHRycyk7XG4gICAgLy8gQXNzaWduIGEgcG9pbnRlciB0byB0aGUgZmlyc3QgY2hpbGQgbm9kZSBvZiBhIGdpdmVuIHZpZXcuIFRoZSBmaXJzdCBub2RlIGlzIG5vdCBhbHdheXMgdGhlIG9uZVxuICAgIC8vIGF0IGluZGV4IDAsIGluIGNhc2Ugb2YgaTE4biwgaW5kZXggMCBjYW4gYmUgdGhlIGluc3RydWN0aW9uIGBpMThuU3RhcnRgIGFuZCB0aGUgZmlyc3Qgbm9kZSBoYXNcbiAgICAvLyB0aGUgaW5kZXggMSBvciBtb3JlLCBzbyB3ZSBjYW4ndCBqdXN0IGNoZWNrIG5vZGUgaW5kZXguXG4gICAgaWYgKHRWaWV3LmZpcnN0Q2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcuZmlyc3RDaGlsZCA9IHROb2RlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1BhcmVudCkge1xuICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBUaGlzIGxvZ2ljIGxvb2tzIHVubmVjZXNzYXJpbHkgY29tcGxpY2F0ZWQuIENvdWxkIHdlIHNpbXBsaWZ5P1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRUTm9kZS5jaGlsZCA9PSBudWxsICYmIHROb2RlLnBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBpbiB0aGUgc2FtZSB2aWV3LCB3aGljaCBtZWFucyB3ZSBhcmUgYWRkaW5nIGNvbnRlbnQgbm9kZSB0byB0aGUgcGFyZW50IHZpZXcuXG4gICAgICAgICAgICAgICAgY3VycmVudFROb2RlLmNoaWxkID0gdE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFROb2RlLm5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiBpMThuIHRoZSBgY3VycmVudFROb2RlYCBtYXkgYWxyZWFkeSBiZSBsaW5rZWQsIGluIHdoaWNoIGNhc2Ugd2UgZG9uJ3Qgd2FudFxuICAgICAgICAgICAgICAgIC8vIHRvIGJyZWFrIHRoZSBsaW5rcyB3aGljaCBpMThuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgICAgY3VycmVudFROb2RlLm5leHQgPSB0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIFdoZW4gZWxlbWVudHMgYXJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgYWZ0ZXIgYSB2aWV3IGJsdWVwcmludCBpcyBjcmVhdGVkIChlLmcuIHRocm91Z2hcbiAqIGkxOG5BcHBseSgpKSwgd2UgbmVlZCB0byBhZGp1c3QgdGhlIGJsdWVwcmludCBmb3IgZnV0dXJlXG4gKiB0ZW1wbGF0ZSBwYXNzZXMuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgYXNzb2NpYXRlZCB3aXRoIGBMVmlld2BcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCBjb250YWluaW5nIHRoZSBibHVlcHJpbnQgdG8gYWRqdXN0XG4gKiBAcGFyYW0gbnVtU2xvdHNUb0FsbG9jIFRoZSBudW1iZXIgb2Ygc2xvdHMgdG8gYWxsb2MgaW4gdGhlIExWaWV3LCBzaG91bGQgYmUgPjBcbiAqIEBwYXJhbSBpbml0aWFsVmFsdWUgSW5pdGlhbCB2YWx1ZSB0byBzdG9yZSBpbiBibHVlcHJpbnRcbiAqL1xuZnVuY3Rpb24gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgbnVtU2xvdHNUb0FsbG9jLCBpbml0aWFsVmFsdWUpIHtcbiAgICBpZiAobnVtU2xvdHNUb0FsbG9jID09PSAwKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgICAgICBhc3NlcnRTYW1lKHRWaWV3LCBsVmlld1tUVklFV10sICdgTFZpZXdgIG11c3QgYmUgYXNzb2NpYXRlZCB3aXRoIGBUVmlld2AhJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKHRWaWV3LmRhdGEubGVuZ3RoLCBsVmlldy5sZW5ndGgsICdFeHBlY3RpbmcgTFZpZXcgdG8gYmUgc2FtZSBzaXplIGFzIFRWaWV3Jyk7XG4gICAgICAgIGFzc2VydEVxdWFsKHRWaWV3LmRhdGEubGVuZ3RoLCB0Vmlldy5ibHVlcHJpbnQubGVuZ3RoLCAnRXhwZWN0aW5nIEJsdWVwcmludCB0byBiZSBzYW1lIHNpemUgYXMgVFZpZXcnKTtcbiAgICAgICAgYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKHRWaWV3KTtcbiAgICB9XG4gICAgY29uc3QgYWxsb2NJZHggPSBsVmlldy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TbG90c1RvQWxsb2M7IGkrKykge1xuICAgICAgICBsVmlldy5wdXNoKGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIHRWaWV3LmJsdWVwcmludC5wdXNoKGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIHRWaWV3LmRhdGEucHVzaChudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jSWR4O1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gUmVuZGVyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBQcm9jZXNzZXMgYSB2aWV3IGluIHRoZSBjcmVhdGlvbiBtb2RlLiBUaGlzIGluY2x1ZGVzIGEgbnVtYmVyIG9mIHN0ZXBzIGluIGEgc3BlY2lmaWMgb3JkZXI6XG4gKiAtIGNyZWF0aW5nIHZpZXcgcXVlcnkgZnVuY3Rpb25zIChpZiBhbnkpO1xuICogLSBleGVjdXRpbmcgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBpbiB0aGUgY3JlYXRpb24gbW9kZTtcbiAqIC0gdXBkYXRpbmcgc3RhdGljIHF1ZXJpZXMgKGlmIGFueSk7XG4gKiAtIGNyZWF0aW5nIGNoaWxkIGNvbXBvbmVudHMgZGVmaW5lZCBpbiBhIGdpdmVuIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclZpZXcodFZpZXcsIGxWaWV3LCBjb250ZXh0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGlzQ3JlYXRpb25Nb2RlKGxWaWV3KSwgdHJ1ZSwgJ1Nob3VsZCBiZSBydW4gaW4gY3JlYXRpb24gbW9kZScpO1xuICAgIGVudGVyVmlldyhsVmlldyk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgdmlld1F1ZXJ5ID0gdFZpZXcudmlld1F1ZXJ5O1xuICAgICAgICBpZiAodmlld1F1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVmlld1F1ZXJ5Rm4oMSAvKiBDcmVhdGUgKi8sIHZpZXdRdWVyeSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhlY3V0ZSBhIHRlbXBsYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHZpZXcsIGlmIGl0IGV4aXN0cy4gQSB0ZW1wbGF0ZSBmdW5jdGlvbiBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gZGVmaW5lZCBmb3IgdGhlIHJvb3QgY29tcG9uZW50IHZpZXdzLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZUZuID0gdFZpZXcudGVtcGxhdGU7XG4gICAgICAgIGlmICh0ZW1wbGF0ZUZuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCAxIC8qIENyZWF0ZSAqLywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBzZXQgYmVmb3JlIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQgdG8gc3VwcG9ydCByZWN1cnNpdmUgY29tcG9uZW50cy5cbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCB0byBmYWxzZSBpbW1lZGlhdGVseSBhZnRlciB0aGUgZmlyc3QgY3JlYXRpb24gcnVuIGJlY2F1c2UgaW4gYW5cbiAgICAgICAgLy8gbmdGb3IgbG9vcCwgYWxsIHRoZSB2aWV3cyB3aWxsIGJlIGNyZWF0ZWQgdG9nZXRoZXIgYmVmb3JlIHVwZGF0ZSBtb2RlIHJ1bnMgYW5kIHR1cm5zXG4gICAgICAgIC8vIG9mZiBmaXJzdENyZWF0ZVBhc3MuIElmIHdlIGRvbid0IHNldCBpdCBoZXJlLCBpbnN0YW5jZXMgd2lsbCBwZXJmb3JtIGRpcmVjdGl2ZVxuICAgICAgICAvLyBtYXRjaGluZywgZXRjIGFnYWluIGFuZCBhZ2Fpbi5cbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAgICAgdFZpZXcuZmlyc3RDcmVhdGVQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgcmVzb2x2ZSBjb250ZW50IHF1ZXJpZXMgc3BlY2lmaWNhbGx5IG1hcmtlZCBhcyBgc3RhdGljYCBpbiBjcmVhdGlvbiBtb2RlLiBEeW5hbWljXG4gICAgICAgIC8vIGNvbnRlbnQgcXVlcmllcyBhcmUgcmVzb2x2ZWQgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24gKGkuZS4gdXBkYXRlIG1vZGUpLCBhZnRlciBlbWJlZGRlZFxuICAgICAgICAvLyB2aWV3cyBhcmUgcmVmcmVzaGVkIChzZWUgYmxvY2sgYWJvdmUpLlxuICAgICAgICBpZiAodFZpZXcuc3RhdGljQ29udGVudFF1ZXJpZXMpIHtcbiAgICAgICAgICAgIHJlZnJlc2hDb250ZW50UXVlcmllcyh0VmlldywgbFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG11c3QgbWF0ZXJpYWxpemUgcXVlcnkgcmVzdWx0cyBiZWZvcmUgY2hpbGQgY29tcG9uZW50cyBhcmUgcHJvY2Vzc2VkXG4gICAgICAgIC8vIGluIGNhc2UgYSBjaGlsZCBjb21wb25lbnQgaGFzIHByb2plY3RlZCBhIGNvbnRhaW5lci4gVGhlIExDb250YWluZXIgbmVlZHNcbiAgICAgICAgLy8gdG8gZXhpc3Qgc28gdGhlIGVtYmVkZGVkIHZpZXdzIGFyZSBwcm9wZXJseSBhdHRhY2hlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAgICBpZiAodFZpZXcuc3RhdGljVmlld1F1ZXJpZXMpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVWaWV3UXVlcnlGbigyIC8qIFVwZGF0ZSAqLywgdFZpZXcudmlld1F1ZXJ5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5kZXIgY2hpbGQgY29tcG9uZW50IHZpZXdzLlxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdFZpZXcuY29tcG9uZW50cztcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbmRlckNoaWxkQ29tcG9uZW50cyhsVmlldywgY29tcG9uZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHdlIGRpZG4ndCBtYW5hZ2UgdG8gZ2V0IHBhc3QgdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MgZHVlIHRvXG4gICAgICAgIC8vIGFuIGVycm9yLCBtYXJrIHRoZSB2aWV3IGFzIGNvcnJ1cHRlZCBzbyB3ZSBjYW4gdHJ5IHRvIHJlY292ZXIuXG4gICAgICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgICAgIHRWaWV3LmluY29tcGxldGVGaXJzdFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgdFZpZXcuZmlyc3RDcmVhdGVQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjQgLyogQ3JlYXRpb25Nb2RlICovO1xuICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3NlcyBhIHZpZXcgaW4gdXBkYXRlIG1vZGUuIFRoaXMgaW5jbHVkZXMgYSBudW1iZXIgb2Ygc3RlcHMgaW4gYSBzcGVjaWZpYyBvcmRlcjpcbiAqIC0gZXhlY3V0aW5nIGEgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdXBkYXRlIG1vZGU7XG4gKiAtIGV4ZWN1dGluZyBob29rcztcbiAqIC0gcmVmcmVzaGluZyBxdWVyaWVzO1xuICogLSBzZXR0aW5nIGhvc3QgYmluZGluZ3M7XG4gKiAtIHJlZnJlc2hpbmcgY2hpbGQgKGVtYmVkZGVkIGFuZCBjb21wb25lbnQpIHZpZXdzLlxuICovXG5mdW5jdGlvbiByZWZyZXNoVmlldyh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGNvbnRleHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUobFZpZXcpLCBmYWxzZSwgJ1Nob3VsZCBiZSBydW4gaW4gdXBkYXRlIG1vZGUnKTtcbiAgICBjb25zdCBmbGFncyA9IGxWaWV3W0ZMQUdTXTtcbiAgICBpZiAoKGZsYWdzICYgMjU2IC8qIERlc3Ryb3llZCAqLykgPT09IDI1NiAvKiBEZXN0cm95ZWQgKi8pXG4gICAgICAgIHJldHVybjtcbiAgICBlbnRlclZpZXcobFZpZXcpO1xuICAgIC8vIENoZWNrIG5vIGNoYW5nZXMgbW9kZSBpcyBhIGRldiBvbmx5IG1vZGUgdXNlZCB0byB2ZXJpZnkgdGhhdCBiaW5kaW5ncyBoYXZlIG5vdCBjaGFuZ2VkXG4gICAgLy8gc2luY2UgdGhleSB3ZXJlIGFzc2lnbmVkLiBXZSBkbyBub3Qgd2FudCB0byBleGVjdXRlIGxpZmVjeWNsZSBob29rcyBpbiB0aGF0IG1vZGUuXG4gICAgY29uc3QgaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcyA9IGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKTtcbiAgICB0cnkge1xuICAgICAgICByZXNldFByZU9yZGVySG9va0ZsYWdzKGxWaWV3KTtcbiAgICAgICAgc2V0QmluZGluZ0luZGV4KHRWaWV3LmJpbmRpbmdTdGFydEluZGV4KTtcbiAgICAgICAgaWYgKHRlbXBsYXRlRm4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIDIgLyogVXBkYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob29rc0luaXRQaGFzZUNvbXBsZXRlZCA9IChmbGFncyAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi87XG4gICAgICAgIC8vIGV4ZWN1dGUgcHJlLW9yZGVyIGhvb2tzIChPbkluaXQsIE9uQ2hhbmdlcywgRG9DaGVjaylcbiAgICAgICAgLy8gUEVSRiBXQVJOSU5HOiBkbyBOT1QgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gd2l0aG91dCBydW5uaW5nIGJlbmNobWFya3NcbiAgICAgICAgaWYgKCFpc0luQ2hlY2tOb0NoYW5nZXNQYXNzKSB7XG4gICAgICAgICAgICBpZiAoaG9va3NJbml0UGhhc2VDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVPcmRlckNoZWNrSG9va3MgPSB0Vmlldy5wcmVPcmRlckNoZWNrSG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHByZU9yZGVyQ2hlY2tIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJDaGVja0hvb2tzLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVPcmRlckhvb2tzID0gdFZpZXcucHJlT3JkZXJIb29rcztcbiAgICAgICAgICAgICAgICBpZiAocHJlT3JkZXJIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIHByZU9yZGVySG9va3MsIDAgLyogT25Jbml0SG9va3NUb0JlUnVuICovLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIDAgLyogT25Jbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGaXJzdCBtYXJrIHRyYW5zcGxhbnRlZCB2aWV3cyB0aGF0IGFyZSBkZWNsYXJlZCBpbiB0aGlzIGxWaWV3IGFzIG5lZWRpbmcgYSByZWZyZXNoIGF0IHRoZWlyXG4gICAgICAgIC8vIGluc2VydGlvbiBwb2ludHMuIFRoaXMgaXMgbmVlZGVkIHRvIGF2b2lkIHRoZSBzaXR1YXRpb24gd2hlcmUgdGhlIHRlbXBsYXRlIGlzIGRlZmluZWQgaW4gdGhpc1xuICAgICAgICAvLyBgTFZpZXdgIGJ1dCBpdHMgZGVjbGFyYXRpb24gYXBwZWFycyBhZnRlciB0aGUgaW5zZXJ0aW9uIGNvbXBvbmVudC5cbiAgICAgICAgbWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaChsVmlldyk7XG4gICAgICAgIHJlZnJlc2hFbWJlZGRlZFZpZXdzKGxWaWV3KTtcbiAgICAgICAgLy8gQ29udGVudCBxdWVyeSByZXN1bHRzIG11c3QgYmUgcmVmcmVzaGVkIGJlZm9yZSBjb250ZW50IGhvb2tzIGFyZSBjYWxsZWQuXG4gICAgICAgIGlmICh0Vmlldy5jb250ZW50UXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmcmVzaENvbnRlbnRRdWVyaWVzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSBjb250ZW50IGhvb2tzIChBZnRlckNvbnRlbnRJbml0LCBBZnRlckNvbnRlbnRDaGVja2VkKVxuICAgICAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRDaGVja0hvb2tzID0gdFZpZXcuY29udGVudENoZWNrSG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBjb250ZW50Q2hlY2tIb29rcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudEhvb2tzID0gdFZpZXcuY29udGVudEhvb2tzO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50SG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBjb250ZW50SG9va3MsIDEgLyogQWZ0ZXJDb250ZW50SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCAxIC8qIEFmdGVyQ29udGVudEluaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgLy8gUmVmcmVzaCBjaGlsZCBjb21wb25lbnQgdmlld3MuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0Vmlldy5jb21wb25lbnRzO1xuICAgICAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmcmVzaENoaWxkQ29tcG9uZW50cyhsVmlldywgY29tcG9uZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmlldyBxdWVyaWVzIG11c3QgZXhlY3V0ZSBhZnRlciByZWZyZXNoaW5nIGNoaWxkIGNvbXBvbmVudHMgYmVjYXVzZSBhIHRlbXBsYXRlIGluIHRoaXMgdmlld1xuICAgICAgICAvLyBjb3VsZCBiZSBpbnNlcnRlZCBpbiBhIGNoaWxkIGNvbXBvbmVudC4gSWYgdGhlIHZpZXcgcXVlcnkgZXhlY3V0ZXMgYmVmb3JlIGNoaWxkIGNvbXBvbmVudFxuICAgICAgICAvLyByZWZyZXNoLCB0aGUgdGVtcGxhdGUgbWlnaHQgbm90IHlldCBiZSBpbnNlcnRlZC5cbiAgICAgICAgY29uc3Qgdmlld1F1ZXJ5ID0gdFZpZXcudmlld1F1ZXJ5O1xuICAgICAgICBpZiAodmlld1F1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVmlld1F1ZXJ5Rm4oMiAvKiBVcGRhdGUgKi8sIHZpZXdRdWVyeSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSB2aWV3IGhvb2tzIChBZnRlclZpZXdJbml0LCBBZnRlclZpZXdDaGVja2VkKVxuICAgICAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdDaGVja0hvb2tzID0gdFZpZXcudmlld0NoZWNrSG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXdDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCB2aWV3Q2hlY2tIb29rcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld0hvb2tzID0gdFZpZXcudmlld0hvb2tzO1xuICAgICAgICAgICAgICAgIGlmICh2aWV3SG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCB2aWV3SG9va3MsIDIgLyogQWZ0ZXJWaWV3SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCAyIC8qIEFmdGVyVmlld0luaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0Vmlldy5maXJzdFVwZGF0ZVBhc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgd2Ugb25seSBmbGlwIHRoZSBmbGFnIG9uIHN1Y2Nlc3NmdWwgYHJlZnJlc2hWaWV3YCBvbmx5XG4gICAgICAgICAgICAvLyBEb24ndCBkbyB0aGlzIGluIGBmaW5hbGx5YCBibG9jay5cbiAgICAgICAgICAgIC8vIElmIHdlIGRpZCB0aGlzIGluIGBmaW5hbGx5YCBibG9jayB0aGVuIGFuIGV4Y2VwdGlvbiBjb3VsZCBibG9jayB0aGUgZXhlY3V0aW9uIG9mIHN0eWxpbmdcbiAgICAgICAgICAgIC8vIGluc3RydWN0aW9ucyB3aGljaCBpbiB0dXJuIHdvdWxkIGJlIHVuYWJsZSB0byBpbnNlcnQgdGhlbXNlbHZlcyBpbnRvIHRoZSBzdHlsaW5nIGxpbmtlZFxuICAgICAgICAgICAgLy8gbGlzdC4gVGhlIHJlc3VsdCBvZiB0aGlzIHdvdWxkIGJlIHRoYXQgaWYgdGhlIGV4Y2VwdGlvbiB3b3VsZCBub3QgYmUgdGhyb3cgb24gc3Vic2VxdWVudCBDRFxuICAgICAgICAgICAgLy8gdGhlIHN0eWxpbmcgd291bGQgYmUgdW5hYmxlIHRvIHByb2Nlc3MgaXQgZGF0YSBhbmQgcmVmbGVjdCB0byB0aGUgRE9NLlxuICAgICAgICAgICAgdFZpZXcuZmlyc3RVcGRhdGVQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gbm90IHJlc2V0IHRoZSBkaXJ0eSBzdGF0ZSB3aGVuIHJ1bm5pbmcgaW4gY2hlY2sgbm8gY2hhbmdlcyBtb2RlLiBXZSBkb24ndCB3YW50IGNvbXBvbmVudHNcbiAgICAgICAgLy8gdG8gYmVoYXZlIGRpZmZlcmVudGx5IGRlcGVuZGluZyBvbiB3aGV0aGVyIGNoZWNrIG5vIGNoYW5nZXMgaXMgZW5hYmxlZCBvciBub3QuIEZvciBleGFtcGxlOlxuICAgICAgICAvLyBNYXJraW5nIGFuIE9uUHVzaCBjb21wb25lbnQgYXMgZGlydHkgZnJvbSB3aXRoaW4gdGhlIGBuZ0FmdGVyVmlld0luaXRgIGhvb2sgaW4gb3JkZXIgdG9cbiAgICAgICAgLy8gcmVmcmVzaCBhIGBOZ0NsYXNzYCBiaW5kaW5nIHNob3VsZCB3b3JrLiBJZiB3ZSB3b3VsZCByZXNldCB0aGUgZGlydHkgc3RhdGUgaW4gdGhlIGNoZWNrXG4gICAgICAgIC8vIG5vIGNoYW5nZXMgY3ljbGUsIHRoZSBjb21wb25lbnQgd291bGQgYmUgbm90IGJlIGRpcnR5IGZvciB0aGUgbmV4dCB1cGRhdGUgcGFzcy4gVGhpcyB3b3VsZFxuICAgICAgICAvLyBiZSBkaWZmZXJlbnQgaW4gcHJvZHVjdGlvbiBtb2RlIHdoZXJlIHRoZSBjb21wb25lbnQgZGlydHkgc3RhdGUgaXMgbm90IHJlc2V0LlxuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+KDY0IC8qIERpcnR5ICovIHwgOCAvKiBGaXJzdExWaWV3UGFzcyAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxWaWV3W0ZMQUdTXSAmIDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi8pIHtcbiAgICAgICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+MTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLztcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChsVmlld1tQQVJFTlRdLCAtMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGxlYXZlVmlldygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudE9yVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBjb250ZXh0KSB7XG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgY29uc3Qgbm9ybWFsRXhlY3V0aW9uUGF0aCA9ICFpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCk7XG4gICAgY29uc3QgY3JlYXRpb25Nb2RlSXNBY3RpdmUgPSBpc0NyZWF0aW9uTW9kZShsVmlldyk7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5vcm1hbEV4ZWN1dGlvblBhdGggJiYgIWNyZWF0aW9uTW9kZUlzQWN0aXZlICYmIHJlbmRlcmVyRmFjdG9yeS5iZWdpbikge1xuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWF0aW9uTW9kZUlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZW5kZXJWaWV3KHRWaWV3LCBsVmlldywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVmcmVzaFZpZXcodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmIChub3JtYWxFeGVjdXRpb25QYXRoICYmICFjcmVhdGlvbk1vZGVJc0FjdGl2ZSAmJiByZW5kZXJlckZhY3RvcnkuZW5kKSB7XG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCByZiwgY29udGV4dCkge1xuICAgIGNvbnN0IHByZXZTZWxlY3RlZEluZGV4ID0gZ2V0U2VsZWN0ZWRJbmRleCgpO1xuICAgIGNvbnN0IGlzVXBkYXRlUGhhc2UgPSByZiAmIDIgLyogVXBkYXRlICovO1xuICAgIHRyeSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xuICAgICAgICBpZiAoaXNVcGRhdGVQaGFzZSAmJiBsVmlldy5sZW5ndGggPiBIRUFERVJfT0ZGU0VUKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlJ3JlIHVwZGF0aW5nLCBpbmhlcmVudGx5IHNlbGVjdCAwIHNvIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBoYXZlIHRvIGdlbmVyYXRlIHRoYXQgaW5zdHJ1Y3Rpb24gZm9yIG1vc3QgdXBkYXRlIGJsb2Nrcy5cbiAgICAgICAgICAgIHNlbGVjdEluZGV4SW50ZXJuYWwodFZpZXcsIGxWaWV3LCBIRUFERVJfT0ZGU0VULCBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZUhvb2tUeXBlID0gaXNVcGRhdGVQaGFzZSA/IDIgLyogVGVtcGxhdGVVcGRhdGVTdGFydCAqLyA6IDAgLyogVGVtcGxhdGVDcmVhdGVTdGFydCAqLztcbiAgICAgICAgcHJvZmlsZXIocHJlSG9va1R5cGUsIGNvbnRleHQpO1xuICAgICAgICB0ZW1wbGF0ZUZuKHJmLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgocHJldlNlbGVjdGVkSW5kZXgpO1xuICAgICAgICBjb25zdCBwb3N0SG9va1R5cGUgPSBpc1VwZGF0ZVBoYXNlID8gMyAvKiBUZW1wbGF0ZVVwZGF0ZUVuZCAqLyA6IDEgLyogVGVtcGxhdGVDcmVhdGVFbmQgKi87XG4gICAgICAgIHByb2ZpbGVyKHBvc3RIb29rVHlwZSwgY29udGV4dCk7XG4gICAgfVxufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gRWxlbWVudFxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGV4ZWN1dGVDb250ZW50UXVlcmllcyh0VmlldywgdE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgY29uc3QgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgICAgICBmb3IgKGxldCBkaXJlY3RpdmVJbmRleCA9IHN0YXJ0OyBkaXJlY3RpdmVJbmRleCA8IGVuZDsgZGlyZWN0aXZlSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtkaXJlY3RpdmVJbmRleF07XG4gICAgICAgICAgICBpZiAoZGVmLmNvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgICAgICAgICAgZGVmLmNvbnRlbnRRdWVyaWVzKDEgLyogQ3JlYXRlICovLCBsVmlld1tkaXJlY3RpdmVJbmRleF0sIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBkaXJlY3RpdmUgaW5zdGFuY2VzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpIHtcbiAgICBpZiAoIWdldEJpbmRpbmdzRW5hYmxlZCgpKVxuICAgICAgICByZXR1cm47XG4gICAgaW5zdGFudGlhdGVBbGxEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KSk7XG4gICAgaWYgKCh0Tm9kZS5mbGFncyAmIDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi8pID09PSAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZXNIb3N0QmluZGluZ3ModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBUYWtlcyBhIGxpc3Qgb2YgbG9jYWwgbmFtZXMgYW5kIGluZGljZXMgYW5kIHB1c2hlcyB0aGUgcmVzb2x2ZWQgbG9jYWwgdmFyaWFibGUgdmFsdWVzXG4gKiB0byBMVmlldyBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGV5IGFyZSBsb2FkZWQgaW4gdGhlIHRlbXBsYXRlIHdpdGggbG9hZCgpLlxuICovXG5mdW5jdGlvbiBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEodmlld0RhdGEsIHROb2RlLCBsb2NhbFJlZkV4dHJhY3RvciA9IGdldE5hdGl2ZUJ5VE5vZGUpIHtcbiAgICBjb25zdCBsb2NhbE5hbWVzID0gdE5vZGUubG9jYWxOYW1lcztcbiAgICBpZiAobG9jYWxOYW1lcyAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgbG9jYWxJbmRleCA9IHROb2RlLmluZGV4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbE5hbWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvY2FsTmFtZXNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRleCA9PT0gLTEgP1xuICAgICAgICAgICAgICAgIGxvY2FsUmVmRXh0cmFjdG9yKHROb2RlLCB2aWV3RGF0YSkgOlxuICAgICAgICAgICAgICAgIHZpZXdEYXRhW2luZGV4XTtcbiAgICAgICAgICAgIHZpZXdEYXRhW2xvY2FsSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2V0cyBUVmlldyBmcm9tIGEgdGVtcGxhdGUgZnVuY3Rpb24gb3IgY3JlYXRlcyBhIG5ldyBUVmlld1xuICogaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxuICpcbiAqIEBwYXJhbSBkZWYgQ29tcG9uZW50RGVmXG4gKiBAcmV0dXJucyBUVmlld1xuICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3KGRlZikge1xuICAgIGNvbnN0IHRWaWV3ID0gZGVmLnRWaWV3O1xuICAgIC8vIENyZWF0ZSBhIFRWaWV3IGlmIHRoZXJlIGlzbid0IG9uZSwgb3IgcmVjcmVhdGUgaXQgaWYgdGhlIGZpcnN0IGNyZWF0ZSBwYXNzIGRpZG4ndFxuICAgIC8vIGNvbXBsZXRlIHN1Y2Nlc3NmdWxseSBzaW5jZSB3ZSBjYW4ndCBrbm93IGZvciBzdXJlIHdoZXRoZXIgaXQncyBpbiBhIHVzYWJsZSBzaGFwZS5cbiAgICBpZiAodFZpZXcgPT09IG51bGwgfHwgdFZpZXcuaW5jb21wbGV0ZUZpcnN0UGFzcykge1xuICAgICAgICAvLyBEZWNsYXJhdGlvbiBub2RlIGhlcmUgaXMgbnVsbCBzaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHdlIGR5bmFtaWNhbGx5IGNyZWF0ZSBhXG4gICAgICAgIC8vIGNvbXBvbmVudCBhbmQgaGVuY2UgdGhlcmUgaXMgbm8gZGVjbGFyYXRpb24uXG4gICAgICAgIGNvbnN0IGRlY2xUTm9kZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBkZWYudFZpZXcgPSBjcmVhdGVUVmlldygxIC8qIENvbXBvbmVudCAqLywgZGVjbFROb2RlLCBkZWYudGVtcGxhdGUsIGRlZi5kZWNscywgZGVmLnZhcnMsIGRlZi5kaXJlY3RpdmVEZWZzLCBkZWYucGlwZURlZnMsIGRlZi52aWV3UXVlcnksIGRlZi5zY2hlbWFzLCBkZWYuY29uc3RzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRWaWV3O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVFZpZXcgaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGBUVmlld2AuXG4gKiBAcGFyYW0gZGVjbFROb2RlIERlY2xhcmF0aW9uIGxvY2F0aW9uIG9mIHRoaXMgYFRWaWV3YC5cbiAqIEBwYXJhbSB0ZW1wbGF0ZUZuIFRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcGFyYW0gZGVjbHMgVGhlIG51bWJlciBvZiBub2RlcywgbG9jYWwgcmVmcywgYW5kIHBpcGVzIGluIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSBkaXJlY3RpdmVzIFJlZ2lzdHJ5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIHBpcGVzIFJlZ2lzdHJ5IG9mIHBpcGVzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSB2aWV3UXVlcnkgVmlldyBxdWVyaWVzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSBzY2hlbWFzIFNjaGVtYXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIGNvbnN0cyBDb25zdGFudHMgZm9yIHRoaXMgdmlld1xuICovXG5mdW5jdGlvbiBjcmVhdGVUVmlldyh0eXBlLCBkZWNsVE5vZGUsIHRlbXBsYXRlRm4sIGRlY2xzLCB2YXJzLCBkaXJlY3RpdmVzLCBwaXBlcywgdmlld1F1ZXJ5LCBzY2hlbWFzLCBjb25zdHNPckZhY3RvcnkpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnRWaWV3Kys7XG4gICAgY29uc3QgYmluZGluZ1N0YXJ0SW5kZXggPSBIRUFERVJfT0ZGU0VUICsgZGVjbHM7XG4gICAgLy8gVGhpcyBsZW5ndGggZG9lcyBub3QgeWV0IGNvbnRhaW4gaG9zdCBiaW5kaW5ncyBmcm9tIGNoaWxkIGRpcmVjdGl2ZXMgYmVjYXVzZSBhdCB0aGlzIHBvaW50LFxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggZGlyZWN0aXZlcyBhcmUgYWN0aXZlIG9uIHRoaXMgdGVtcGxhdGUuIEFzIHNvb24gYXMgYSBkaXJlY3RpdmUgaXMgbWF0Y2hlZFxuICAgIC8vIHRoYXQgaGFzIGEgaG9zdCBiaW5kaW5nLCB3ZSB3aWxsIHVwZGF0ZSB0aGUgYmx1ZXByaW50IHdpdGggdGhhdCBkZWYncyBob3N0VmFycyBjb3VudC5cbiAgICBjb25zdCBpbml0aWFsVmlld0xlbmd0aCA9IGJpbmRpbmdTdGFydEluZGV4ICsgdmFycztcbiAgICBjb25zdCBibHVlcHJpbnQgPSBjcmVhdGVWaWV3Qmx1ZXByaW50KGJpbmRpbmdTdGFydEluZGV4LCBpbml0aWFsVmlld0xlbmd0aCk7XG4gICAgY29uc3QgY29uc3RzID0gdHlwZW9mIGNvbnN0c09yRmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnN0c09yRmFjdG9yeSgpIDogY29uc3RzT3JGYWN0b3J5O1xuICAgIGNvbnN0IHRWaWV3ID0gYmx1ZXByaW50W1RWSUVXXSA9IG5nRGV2TW9kZSA/XG4gICAgICAgIG5ldyBUVmlld0NvbnN0cnVjdG9yKHR5cGUsIC8vIHR5cGU6IFRWaWV3VHlwZSxcbiAgICAgICAgYmx1ZXByaW50LCAvLyBibHVlcHJpbnQ6IExWaWV3LFxuICAgICAgICB0ZW1wbGF0ZUZuLCAvLyB0ZW1wbGF0ZTogQ29tcG9uZW50VGVtcGxhdGU8e30+fG51bGwsXG4gICAgICAgIG51bGwsIC8vIHF1ZXJpZXM6IFRRdWVyaWVzfG51bGxcbiAgICAgICAgdmlld1F1ZXJ5LCAvLyB2aWV3UXVlcnk6IFZpZXdRdWVyaWVzRnVuY3Rpb248e30+fG51bGwsXG4gICAgICAgIGRlY2xUTm9kZSwgLy8gZGVjbFROb2RlOiBUTm9kZXxudWxsLFxuICAgICAgICBjbG9uZVRvVFZpZXdEYXRhKGJsdWVwcmludCkuZmlsbChudWxsLCBiaW5kaW5nU3RhcnRJbmRleCksIC8vIGRhdGE6IFREYXRhLFxuICAgICAgICBiaW5kaW5nU3RhcnRJbmRleCwgLy8gYmluZGluZ1N0YXJ0SW5kZXg6IG51bWJlcixcbiAgICAgICAgaW5pdGlhbFZpZXdMZW5ndGgsIC8vIGV4cGFuZG9TdGFydEluZGV4OiBudW1iZXIsXG4gICAgICAgIG51bGwsIC8vIGhvc3RCaW5kaW5nT3BDb2RlczogSG9zdEJpbmRpbmdPcENvZGVzLFxuICAgICAgICB0cnVlLCAvLyBmaXJzdENyZWF0ZVBhc3M6IGJvb2xlYW4sXG4gICAgICAgIHRydWUsIC8vIGZpcnN0VXBkYXRlUGFzczogYm9vbGVhbixcbiAgICAgICAgZmFsc2UsIC8vIHN0YXRpY1ZpZXdRdWVyaWVzOiBib29sZWFuLFxuICAgICAgICBmYWxzZSwgLy8gc3RhdGljQ29udGVudFF1ZXJpZXM6IGJvb2xlYW4sXG4gICAgICAgIG51bGwsIC8vIHByZU9yZGVySG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIHByZU9yZGVyQ2hlY2tIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29udGVudEhvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb250ZW50Q2hlY2tIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gdmlld0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyB2aWV3Q2hlY2tIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gZGVzdHJveUhvb2tzOiBEZXN0cm95SG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY2xlYW51cDogYW55W118bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29udGVudFF1ZXJpZXM6IG51bWJlcltdfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNvbXBvbmVudHM6IG51bWJlcltdfG51bGwsXG4gICAgICAgIHR5cGVvZiBkaXJlY3RpdmVzID09PSAnZnVuY3Rpb24nID8gLy9cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMoKSA6IC8vXG4gICAgICAgICAgICBkaXJlY3RpdmVzLCAvLyBkaXJlY3RpdmVSZWdpc3RyeTogRGlyZWN0aXZlRGVmTGlzdHxudWxsLFxuICAgICAgICB0eXBlb2YgcGlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlcygpIDogcGlwZXMsIC8vIHBpcGVSZWdpc3RyeTogUGlwZURlZkxpc3R8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gZmlyc3RDaGlsZDogVE5vZGV8bnVsbCxcbiAgICAgICAgc2NoZW1hcywgLy8gc2NoZW1hczogU2NoZW1hTWV0YWRhdGFbXXxudWxsLFxuICAgICAgICBjb25zdHMsIC8vIGNvbnN0czogVENvbnN0YW50c3xudWxsXG4gICAgICAgIGZhbHNlLCAvLyBpbmNvbXBsZXRlRmlyc3RQYXNzOiBib29sZWFuXG4gICAgICAgIGRlY2xzLCAvLyBuZ0Rldk1vZGUgb25seTogZGVjbHNcbiAgICAgICAgdmFycykgOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgYmx1ZXByaW50OiBibHVlcHJpbnQsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVGbixcbiAgICAgICAgICAgIHF1ZXJpZXM6IG51bGwsXG4gICAgICAgICAgICB2aWV3UXVlcnk6IHZpZXdRdWVyeSxcbiAgICAgICAgICAgIGRlY2xUTm9kZTogZGVjbFROb2RlLFxuICAgICAgICAgICAgZGF0YTogYmx1ZXByaW50LnNsaWNlKCkuZmlsbChudWxsLCBiaW5kaW5nU3RhcnRJbmRleCksXG4gICAgICAgICAgICBiaW5kaW5nU3RhcnRJbmRleDogYmluZGluZ1N0YXJ0SW5kZXgsXG4gICAgICAgICAgICBleHBhbmRvU3RhcnRJbmRleDogaW5pdGlhbFZpZXdMZW5ndGgsXG4gICAgICAgICAgICBob3N0QmluZGluZ09wQ29kZXM6IG51bGwsXG4gICAgICAgICAgICBmaXJzdENyZWF0ZVBhc3M6IHRydWUsXG4gICAgICAgICAgICBmaXJzdFVwZGF0ZVBhc3M6IHRydWUsXG4gICAgICAgICAgICBzdGF0aWNWaWV3UXVlcmllczogZmFsc2UsXG4gICAgICAgICAgICBzdGF0aWNDb250ZW50UXVlcmllczogZmFsc2UsXG4gICAgICAgICAgICBwcmVPcmRlckhvb2tzOiBudWxsLFxuICAgICAgICAgICAgcHJlT3JkZXJDaGVja0hvb2tzOiBudWxsLFxuICAgICAgICAgICAgY29udGVudEhvb2tzOiBudWxsLFxuICAgICAgICAgICAgY29udGVudENoZWNrSG9va3M6IG51bGwsXG4gICAgICAgICAgICB2aWV3SG9va3M6IG51bGwsXG4gICAgICAgICAgICB2aWV3Q2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgICAgIGRlc3Ryb3lIb29rczogbnVsbCxcbiAgICAgICAgICAgIGNsZWFudXA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50UXVlcmllczogbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgICAgICAgICBkaXJlY3RpdmVSZWdpc3RyeTogdHlwZW9mIGRpcmVjdGl2ZXMgPT09ICdmdW5jdGlvbicgPyBkaXJlY3RpdmVzKCkgOiBkaXJlY3RpdmVzLFxuICAgICAgICAgICAgcGlwZVJlZ2lzdHJ5OiB0eXBlb2YgcGlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlcygpIDogcGlwZXMsXG4gICAgICAgICAgICBmaXJzdENoaWxkOiBudWxsLFxuICAgICAgICAgICAgc2NoZW1hczogc2NoZW1hcyxcbiAgICAgICAgICAgIGNvbnN0czogY29uc3RzLFxuICAgICAgICAgICAgaW5jb21wbGV0ZUZpcnN0UGFzczogZmFsc2VcbiAgICAgICAgfTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSB0VmlldyByZXRhaW5zIHRoZSBzYW1lIHNoYXBlIGR1cmluZyBydW50aW1lLlxuICAgICAgICAvLyAoVG8gbWFrZSBzdXJlIHRoYXQgYWxsIG9mIHRoZSBjb2RlIGlzIG1vbm9tb3JwaGljLikgRm9yIHRoaXMgcmVhc29uIHdlIHNlYWwgdGhlIG9iamVjdCB0b1xuICAgICAgICAvLyBwcmV2ZW50IGNsYXNzIHRyYW5zaXRpb25zLlxuICAgICAgICBPYmplY3Quc2VhbCh0Vmlldyk7XG4gICAgfVxuICAgIHJldHVybiB0Vmlldztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdCbHVlcHJpbnQoYmluZGluZ1N0YXJ0SW5kZXgsIGluaXRpYWxWaWV3TGVuZ3RoKSB7XG4gICAgY29uc3QgYmx1ZXByaW50ID0gbmdEZXZNb2RlID8gbmV3IExWaWV3Qmx1ZXByaW50KCkgOiBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxWaWV3TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmx1ZXByaW50LnB1c2goaSA8IGJpbmRpbmdTdGFydEluZGV4ID8gbnVsbCA6IE5PX0NIQU5HRSk7XG4gICAgfVxuICAgIHJldHVybiBibHVlcHJpbnQ7XG59XG5mdW5jdGlvbiBjcmVhdGVFcnJvcih0ZXh0LCB0b2tlbikge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYFJlbmRlcmVyOiAke3RleHR9IFske3N0cmluZ2lmeUZvckVycm9yKHRva2VuKX1dYCk7XG59XG5mdW5jdGlvbiBhc3NlcnRIb3N0Tm9kZUV4aXN0cyhyRWxlbWVudCwgZWxlbWVudE9yU2VsZWN0b3IpIHtcbiAgICBpZiAoIXJFbGVtZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudE9yU2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSG9zdCBub2RlIHdpdGggc2VsZWN0b3Igbm90IGZvdW5kOicsIGVsZW1lbnRPclNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdIb3N0IG5vZGUgaXMgcmVxdWlyZWQ6JywgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBob3N0IG5hdGl2ZSBlbGVtZW50LCB1c2VkIGZvciBib290c3RyYXBwaW5nIGV4aXN0aW5nIG5vZGVzIGludG8gcmVuZGVyaW5nIHBpcGVsaW5lLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgcmVuZGVyZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0gZWxlbWVudE9yU2VsZWN0b3IgUmVuZGVyIGVsZW1lbnQgb3IgQ1NTIHNlbGVjdG9yIHRvIGxvY2F0ZSB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBlbmNhcHN1bGF0aW9uIFZpZXcgRW5jYXBzdWxhdGlvbiBkZWZpbmVkIGZvciBjb21wb25lbnQgdGhhdCByZXF1ZXN0cyBob3N0IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGxvY2F0ZUhvc3RFbGVtZW50KHJlbmRlcmVyLCBlbGVtZW50T3JTZWxlY3RvciwgZW5jYXBzdWxhdGlvbikge1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgLy8gV2hlbiB1c2luZyBuYXRpdmUgU2hhZG93IERPTSwgZG8gbm90IGNsZWFyIGhvc3QgZWxlbWVudCB0byBhbGxvdyBuYXRpdmUgc2xvdCBwcm9qZWN0aW9uXG4gICAgICAgIGNvbnN0IHByZXNlcnZlQ29udGVudCA9IGVuY2Fwc3VsYXRpb24gPT09IFZpZXdFbmNhcHN1bGF0aW9uJDEuU2hhZG93RG9tO1xuICAgICAgICByZXR1cm4gcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQoZWxlbWVudE9yU2VsZWN0b3IsIHByZXNlcnZlQ29udGVudCk7XG4gICAgfVxuICAgIGxldCByRWxlbWVudCA9IHR5cGVvZiBlbGVtZW50T3JTZWxlY3RvciA9PT0gJ3N0cmluZycgP1xuICAgICAgICByZW5kZXJlci5xdWVyeVNlbGVjdG9yKGVsZW1lbnRPclNlbGVjdG9yKSA6XG4gICAgICAgIGVsZW1lbnRPclNlbGVjdG9yO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIb3N0Tm9kZUV4aXN0cyhyRWxlbWVudCwgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgIC8vIEFsd2F5cyBjbGVhciBob3N0IGVsZW1lbnQncyBjb250ZW50IHdoZW4gUmVuZGVyZXIzIGlzIGluIHVzZS4gRm9yIHByb2NlZHVyYWwgcmVuZGVyZXIgY2FzZSB3ZVxuICAgIC8vIG1ha2UgaXQgZGVwZW5kIG9uIHdoZXRoZXIgU2hhZG93RG9tIGVuY2Fwc3VsYXRpb24gaXMgdXNlZCAoaW4gd2hpY2ggY2FzZSB0aGUgY29udGVudCBzaG91bGQgYmVcbiAgICAvLyBwcmVzZXJ2ZWQgdG8gYWxsb3cgbmF0aXZlIHNsb3QgcHJvamVjdGlvbikuIFNoYWRvd0RvbSBlbmNhcHN1bGF0aW9uIHJlcXVpcmVzIHByb2NlZHVyYWxcbiAgICAvLyByZW5kZXJlciwgYW5kIHByb2NlZHVyYWwgcmVuZGVyZXIgY2FzZSBpcyBoYW5kbGVkIGFib3ZlLlxuICAgIHJFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgcmV0dXJuIHJFbGVtZW50O1xufVxuLyoqXG4gKiBTYXZlcyBjb250ZXh0IGZvciB0aGlzIGNsZWFudXAgZnVuY3Rpb24gaW4gTFZpZXcuY2xlYW51cEluc3RhbmNlcy5cbiAqXG4gKiBPbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcywgc2F2ZXMgaW4gVFZpZXc6XG4gKiAtIENsZWFudXAgZnVuY3Rpb25cbiAqIC0gSW5kZXggb2YgY29udGV4dCB3ZSBqdXN0IHNhdmVkIGluIExWaWV3LmNsZWFudXBJbnN0YW5jZXNcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3RvcmUgaW5zdGFuY2Ugc3BlY2lmaWMgY2xlYW51cCBmbnMuIEluIHRoYXQgY2FzZSB0aGUgYGNvbnRleHRgXG4gKiBpcyBgbnVsbGAgYW5kIHRoZSBmdW5jdGlvbiBpcyBzdG9yZSBpbiBgTFZpZXdgIChyYXRoZXIgdGhhbiBpdCBgVFZpZXdgKS5cbiAqL1xuZnVuY3Rpb24gc3RvcmVDbGVhbnVwV2l0aENvbnRleHQodFZpZXcsIGxWaWV3LCBjb250ZXh0LCBjbGVhbnVwRm4pIHtcbiAgICBjb25zdCBsQ2xlYW51cCA9IGdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwKGxWaWV3KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJZiBjb250ZXh0IGlzIG51bGwgdGhhdCB0aGlzIGlzIGluc3RhbmNlIHNwZWNpZmljIGNhbGxiYWNrLiBUaGVzZSBjYWxsYmFja3MgY2FuIG9ubHkgYmVcbiAgICAgICAgLy8gaW5zZXJ0ZWQgYWZ0ZXIgdGVtcGxhdGUgc2hhcmVkIGluc3RhbmNlcy4gRm9yIHRoaXMgcmVhc29uIGluIG5nRGV2TW9kZSB3ZSBmcmVlemUgdGhlIFRWaWV3LlxuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKGdldE9yQ3JlYXRlVFZpZXdDbGVhbnVwKHRWaWV3KSk7XG4gICAgICAgIH1cbiAgICAgICAgbENsZWFudXAucHVzaChjbGVhbnVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbENsZWFudXAucHVzaChjb250ZXh0KTtcbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAgICAgZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpLnB1c2goY2xlYW51cEZuLCBsQ2xlYW51cC5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVROb2RlKHRWaWV3LCB0UGFyZW50LCB0eXBlLCBpbmRleCwgdmFsdWUsIGF0dHJzKSB7XG4gICAgbmdEZXZNb2RlICYmIGluZGV4ICE9PSAwICYmIC8vIDAgYXJlIGJvZ3VzIG5vZGVzIGFuZCB0aGV5IGFyZSBPSy4gU2VlIGBjcmVhdGVDb250YWluZXJSZWZgIGluXG4gICAgICAgIC8vIGB2aWV3X2VuZ2luZV9jb21wYXRpYmlsaXR5YCBmb3IgYWRkaXRpb25hbCBjb250ZXh0LlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdUTm9kZXMgY2FuXFwndCBiZSBpbiB0aGUgTFZpZXcgaGVhZGVyLicpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKGF0dHJzLCB1bmRlZmluZWQsICdcXCd1bmRlZmluZWRcXCcgaXMgbm90IHZhbGlkIHZhbHVlIGZvciBcXCdhdHRyc1xcJycpO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUudE5vZGUrKztcbiAgICBuZ0Rldk1vZGUgJiYgdFBhcmVudCAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHRQYXJlbnQsIHRWaWV3KTtcbiAgICBsZXQgaW5qZWN0b3JJbmRleCA9IHRQYXJlbnQgPyB0UGFyZW50LmluamVjdG9ySW5kZXggOiAtMTtcbiAgICBjb25zdCB0Tm9kZSA9IG5nRGV2TW9kZSA/XG4gICAgICAgIG5ldyBUTm9kZURlYnVnKHRWaWV3LCAvLyB0Vmlld186IFRWaWV3XG4gICAgICAgIHR5cGUsIC8vIHR5cGU6IFROb2RlVHlwZVxuICAgICAgICBpbmRleCwgLy8gaW5kZXg6IG51bWJlclxuICAgICAgICBudWxsLCAvLyBpbnNlcnRCZWZvcmVJbmRleDogbnVsbHwtMXxudW1iZXJ8bnVtYmVyW11cbiAgICAgICAgaW5qZWN0b3JJbmRleCwgLy8gaW5qZWN0b3JJbmRleDogbnVtYmVyXG4gICAgICAgIC0xLCAvLyBkaXJlY3RpdmVTdGFydDogbnVtYmVyXG4gICAgICAgIC0xLCAvLyBkaXJlY3RpdmVFbmQ6IG51bWJlclxuICAgICAgICAtMSwgLy8gZGlyZWN0aXZlU3R5bGluZ0xhc3Q6IG51bWJlclxuICAgICAgICBudWxsLCAvLyBwcm9wZXJ0eUJpbmRpbmdzOiBudW1iZXJbXXxudWxsXG4gICAgICAgIDAsIC8vIGZsYWdzOiBUTm9kZUZsYWdzXG4gICAgICAgIDAsIC8vIHByb3ZpZGVySW5kZXhlczogVE5vZGVQcm92aWRlckluZGV4ZXNcbiAgICAgICAgdmFsdWUsIC8vIHZhbHVlOiBzdHJpbmd8bnVsbFxuICAgICAgICBhdHRycywgLy8gYXR0cnM6IChzdHJpbmd8QXR0cmlidXRlTWFya2VyfChzdHJpbmd8U2VsZWN0b3JGbGFncylbXSlbXXxudWxsXG4gICAgICAgIG51bGwsIC8vIG1lcmdlZEF0dHJzXG4gICAgICAgIG51bGwsIC8vIGxvY2FsTmFtZXM6IChzdHJpbmd8bnVtYmVyKVtdfG51bGxcbiAgICAgICAgdW5kZWZpbmVkLCAvLyBpbml0aWFsSW5wdXRzOiAoc3RyaW5nW118bnVsbClbXXxudWxsfHVuZGVmaW5lZFxuICAgICAgICBudWxsLCAvLyBpbnB1dHM6IFByb3BlcnR5QWxpYXNlc3xudWxsXG4gICAgICAgIG51bGwsIC8vIG91dHB1dHM6IFByb3BlcnR5QWxpYXNlc3xudWxsXG4gICAgICAgIG51bGwsIC8vIHRWaWV3czogSVRWaWV3fElUVmlld1tdfG51bGxcbiAgICAgICAgbnVsbCwgLy8gbmV4dDogSVROb2RlfG51bGxcbiAgICAgICAgbnVsbCwgLy8gcHJvamVjdGlvbk5leHQ6IElUTm9kZXxudWxsXG4gICAgICAgIG51bGwsIC8vIGNoaWxkOiBJVE5vZGV8bnVsbFxuICAgICAgICB0UGFyZW50LCAvLyBwYXJlbnQ6IFRFbGVtZW50Tm9kZXxUQ29udGFpbmVyTm9kZXxudWxsXG4gICAgICAgIG51bGwsIC8vIHByb2plY3Rpb246IG51bWJlcnwoSVROb2RlfFJOb2RlW10pW118bnVsbFxuICAgICAgICBudWxsLCAvLyBzdHlsZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIG51bGwsIC8vIHN0eWxlc1dpdGhvdXRIb3N0OiBzdHJpbmd8bnVsbFxuICAgICAgICB1bmRlZmluZWQsIC8vIHJlc2lkdWFsU3R5bGVzOiBzdHJpbmd8bnVsbFxuICAgICAgICBudWxsLCAvLyBjbGFzc2VzOiBzdHJpbmd8bnVsbFxuICAgICAgICBudWxsLCAvLyBjbGFzc2VzV2l0aG91dEhvc3Q6IHN0cmluZ3xudWxsXG4gICAgICAgIHVuZGVmaW5lZCwgLy8gcmVzaWR1YWxDbGFzc2VzOiBzdHJpbmd8bnVsbFxuICAgICAgICAwLCAvLyBjbGFzc0JpbmRpbmdzOiBUU3R5bGluZ1JhbmdlO1xuICAgICAgICAwKSA6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGluc2VydEJlZm9yZUluZGV4OiBudWxsLFxuICAgICAgICAgICAgaW5qZWN0b3JJbmRleCxcbiAgICAgICAgICAgIGRpcmVjdGl2ZVN0YXJ0OiAtMSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZUVuZDogLTEsXG4gICAgICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdDogLTEsXG4gICAgICAgICAgICBwcm9wZXJ0eUJpbmRpbmdzOiBudWxsLFxuICAgICAgICAgICAgZmxhZ3M6IDAsXG4gICAgICAgICAgICBwcm92aWRlckluZGV4ZXM6IDAsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBhdHRyczogYXR0cnMsXG4gICAgICAgICAgICBtZXJnZWRBdHRyczogbnVsbCxcbiAgICAgICAgICAgIGxvY2FsTmFtZXM6IG51bGwsXG4gICAgICAgICAgICBpbml0aWFsSW5wdXRzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpbnB1dHM6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXRzOiBudWxsLFxuICAgICAgICAgICAgdFZpZXdzOiBudWxsLFxuICAgICAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgICAgIHByb2plY3Rpb25OZXh0OiBudWxsLFxuICAgICAgICAgICAgY2hpbGQ6IG51bGwsXG4gICAgICAgICAgICBwYXJlbnQ6IHRQYXJlbnQsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBudWxsLFxuICAgICAgICAgICAgc3R5bGVzOiBudWxsLFxuICAgICAgICAgICAgc3R5bGVzV2l0aG91dEhvc3Q6IG51bGwsXG4gICAgICAgICAgICByZXNpZHVhbFN0eWxlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzZXNXaXRob3V0SG9zdDogbnVsbCxcbiAgICAgICAgICAgIHJlc2lkdWFsQ2xhc3NlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2xhc3NCaW5kaW5nczogMCxcbiAgICAgICAgICAgIHN0eWxlQmluZGluZ3M6IDAsXG4gICAgICAgIH07XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgdE5vZGUgcmV0YWlucyB0aGUgc2FtZSBzaGFwZSBkdXJpbmcgcnVudGltZS5cbiAgICAgICAgLy8gKFRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBvZiB0aGUgY29kZSBpcyBtb25vbW9ycGhpYy4pIEZvciB0aGlzIHJlYXNvbiB3ZSBzZWFsIHRoZSBvYmplY3QgdG9cbiAgICAgICAgLy8gcHJldmVudCBjbGFzcyB0cmFuc2l0aW9ucy5cbiAgICAgICAgT2JqZWN0LnNlYWwodE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyhpbnB1dEFsaWFzTWFwLCBkaXJlY3RpdmVEZWZJZHgsIHByb3BTdG9yZSkge1xuICAgIGZvciAobGV0IHB1YmxpY05hbWUgaW4gaW5wdXRBbGlhc01hcCkge1xuICAgICAgICBpZiAoaW5wdXRBbGlhc01hcC5oYXNPd25Qcm9wZXJ0eShwdWJsaWNOYW1lKSkge1xuICAgICAgICAgICAgcHJvcFN0b3JlID0gcHJvcFN0b3JlID09PSBudWxsID8ge30gOiBwcm9wU3RvcmU7XG4gICAgICAgICAgICBjb25zdCBpbnRlcm5hbE5hbWUgPSBpbnB1dEFsaWFzTWFwW3B1YmxpY05hbWVdO1xuICAgICAgICAgICAgaWYgKHByb3BTdG9yZS5oYXNPd25Qcm9wZXJ0eShwdWJsaWNOYW1lKSkge1xuICAgICAgICAgICAgICAgIHByb3BTdG9yZVtwdWJsaWNOYW1lXS5wdXNoKGRpcmVjdGl2ZURlZklkeCwgaW50ZXJuYWxOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIChwcm9wU3RvcmVbcHVibGljTmFtZV0gPSBbZGlyZWN0aXZlRGVmSWR4LCBpbnRlcm5hbE5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcFN0b3JlO1xufVxuLyoqXG4gKiBJbml0aWFsaXplcyBkYXRhIHN0cnVjdHVyZXMgcmVxdWlyZWQgdG8gd29yayB3aXRoIGRpcmVjdGl2ZSBpbnB1dHMgYW5kIG91dHB1dHMuXG4gKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGZvciBhbGwgZGlyZWN0aXZlcyBtYXRjaGVkIG9uIGEgZ2l2ZW4gVE5vZGUuXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVJbnB1dEFuZE91dHB1dEFsaWFzZXModFZpZXcsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgY29uc3QgdFZpZXdEYXRhID0gdFZpZXcuZGF0YTtcbiAgICBjb25zdCB0Tm9kZUF0dHJzID0gdE5vZGUuYXR0cnM7XG4gICAgY29uc3QgaW5wdXRzRnJvbUF0dHJzID0gbmdEZXZNb2RlID8gbmV3IFROb2RlSW5pdGlhbElucHV0cygpIDogW107XG4gICAgbGV0IGlucHV0c1N0b3JlID0gbnVsbDtcbiAgICBsZXQgb3V0cHV0c1N0b3JlID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSB0Vmlld0RhdGFbaV07XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZUlucHV0cyA9IGRpcmVjdGl2ZURlZi5pbnB1dHM7XG4gICAgICAgIC8vIERvIG5vdCB1c2UgdW5ib3VuZCBhdHRyaWJ1dGVzIGFzIGlucHV0cyB0byBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXMsIHNpbmNlIHN0cnVjdHVyYWxcbiAgICAgICAgLy8gZGlyZWN0aXZlIGlucHV0cyBjYW4gb25seSBiZSBzZXQgdXNpbmcgbWljcm9zeW50YXggKGUuZy4gYDxkaXYgKmRpcj1cImV4cFwiPmApLlxuICAgICAgICAvLyBUT0RPKEZXLTE5MzApOiBtaWNyb3N5bnRheCBleHByZXNzaW9ucyBtYXkgYWxzbyBjb250YWluIHVuYm91bmQvc3RhdGljIGF0dHJpYnV0ZXMsIHdoaWNoXG4gICAgICAgIC8vIHNob3VsZCBiZSBzZXQgZm9yIGlubGluZSB0ZW1wbGF0ZXMuXG4gICAgICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSAodE5vZGVBdHRycyAhPT0gbnVsbCAmJiAhaXNJbmxpbmVUZW1wbGF0ZSh0Tm9kZSkpID9cbiAgICAgICAgICAgIGdlbmVyYXRlSW5pdGlhbElucHV0cyhkaXJlY3RpdmVJbnB1dHMsIHROb2RlQXR0cnMpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIGlucHV0c0Zyb21BdHRycy5wdXNoKGluaXRpYWxJbnB1dHMpO1xuICAgICAgICBpbnB1dHNTdG9yZSA9IGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKGRpcmVjdGl2ZUlucHV0cywgaSwgaW5wdXRzU3RvcmUpO1xuICAgICAgICBvdXRwdXRzU3RvcmUgPSBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyhkaXJlY3RpdmVEZWYub3V0cHV0cywgaSwgb3V0cHV0c1N0b3JlKTtcbiAgICB9XG4gICAgaWYgKGlucHV0c1N0b3JlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChpbnB1dHNTdG9yZS5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSkge1xuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gMTYgLyogaGFzQ2xhc3NJbnB1dCAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXRzU3RvcmUuaGFzT3duUHJvcGVydHkoJ3N0eWxlJykpIHtcbiAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDMyIC8qIGhhc1N0eWxlSW5wdXQgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgdE5vZGUuaW5pdGlhbElucHV0cyA9IGlucHV0c0Zyb21BdHRycztcbiAgICB0Tm9kZS5pbnB1dHMgPSBpbnB1dHNTdG9yZTtcbiAgICB0Tm9kZS5vdXRwdXRzID0gb3V0cHV0c1N0b3JlO1xufVxuLyoqXG4gKiBNYXBwaW5nIGJldHdlZW4gYXR0cmlidXRlcyBuYW1lcyB0aGF0IGRvbid0IGNvcnJlc3BvbmQgdG8gdGhlaXIgZWxlbWVudCBwcm9wZXJ0eSBuYW1lcy5cbiAqXG4gKiBQZXJmb3JtYW5jZSBub3RlOiB0aGlzIGZ1bmN0aW9uIGlzIHdyaXR0ZW4gYXMgYSBzZXJpZXMgb2YgaWYgY2hlY2tzIChpbnN0ZWFkIG9mLCBzYXksIGEgcHJvcGVydHlcbiAqIG9iamVjdCBsb29rdXApIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIC0gdGhlIHNlcmllcyBvZiBgaWZgIGNoZWNrcyBzZWVtcyB0byBiZSB0aGUgZmFzdGVzdCB3YXkgb2ZcbiAqIG1hcHBpbmcgcHJvcGVydHkgbmFtZXMuIERvIE5PVCBjaGFuZ2Ugd2l0aG91dCBiZW5jaG1hcmtpbmcuXG4gKlxuICogTm90ZTogdGhpcyBtYXBwaW5nIGhhcyB0byBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgZXF1YWxseSBuYW1lZCBtYXBwaW5nIGluIHRoZSB0ZW1wbGF0ZVxuICogdHlwZS1jaGVja2luZyBtYWNoaW5lcnkgb2Ygbmd0c2MuXG4gKi9cbmZ1bmN0aW9uIG1hcFByb3BOYW1lKG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gJ2NsYXNzJylcbiAgICAgICAgcmV0dXJuICdjbGFzc05hbWUnO1xuICAgIGlmIChuYW1lID09PSAnZm9yJylcbiAgICAgICAgcmV0dXJuICdodG1sRm9yJztcbiAgICBpZiAobmFtZSA9PT0gJ2Zvcm1hY3Rpb24nKVxuICAgICAgICByZXR1cm4gJ2Zvcm1BY3Rpb24nO1xuICAgIGlmIChuYW1lID09PSAnaW5uZXJIdG1sJylcbiAgICAgICAgcmV0dXJuICdpbm5lckhUTUwnO1xuICAgIGlmIChuYW1lID09PSAncmVhZG9ubHknKVxuICAgICAgICByZXR1cm4gJ3JlYWRPbmx5JztcbiAgICBpZiAobmFtZSA9PT0gJ3RhYmluZGV4JylcbiAgICAgICAgcmV0dXJuICd0YWJJbmRleCc7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIHJlbmRlcmVyLCBzYW5pdGl6ZXIsIG5hdGl2ZU9ubHkpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90U2FtZSh2YWx1ZSwgTk9fQ0hBTkdFLCAnSW5jb21pbmcgdmFsdWUgc2hvdWxkIG5ldmVyIGJlIE5PX0NIQU5HRS4nKTtcbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIGxldCBpbnB1dERhdGEgPSB0Tm9kZS5pbnB1dHM7XG4gICAgbGV0IGRhdGFWYWx1ZTtcbiAgICBpZiAoIW5hdGl2ZU9ubHkgJiYgaW5wdXREYXRhICE9IG51bGwgJiYgKGRhdGFWYWx1ZSA9IGlucHV0RGF0YVtwcm9wTmFtZV0pKSB7XG4gICAgICAgIHNldElucHV0c0ZvclByb3BlcnR5KHRWaWV3LCBsVmlldywgZGF0YVZhbHVlLCBwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAoaXNDb21wb25lbnRIb3N0KHROb2RlKSlcbiAgICAgICAgICAgIG1hcmtEaXJ0eUlmT25QdXNoKGxWaWV3LCB0Tm9kZS5pbmRleCk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnRpZXMobFZpZXcsIGVsZW1lbnQsIHROb2RlLnR5cGUsIGRhdGFWYWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB7XG4gICAgICAgIHByb3BOYW1lID0gbWFwUHJvcE5hbWUocHJvcE5hbWUpO1xuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUFnYWluc3RFdmVudFByb3BlcnRpZXMocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVByb3BlcnR5KHRWaWV3LCBlbGVtZW50LCBwcm9wTmFtZSwgdE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGhlcmUgc2luY2Ugd2Ugb25seSBsb2cgd2FybmluZ3MgZm9yIHVua25vd24gcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICBsb2dVbmtub3duUHJvcGVydHlFcnJvcihwcm9wTmFtZSwgdE5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5nRGV2TW9kZS5yZW5kZXJlclNldFByb3BlcnR5Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBzYW5pdGl6ZXIgaXMgb25seSBhZGRlZCB3aGVuIHRoZSBjb21waWxlciBkZXRlcm1pbmVzIHRoYXQgdGhlXG4gICAgICAgIC8vIHByb3BlcnR5IGlzIHJpc2t5LCBzbyBzYW5pdGl6YXRpb24gY2FuIGJlIGRvbmUgd2l0aG91dCBmdXJ0aGVyIGNoZWNrcy5cbiAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZXIgIT0gbnVsbCA/IHNhbml0aXplcih2YWx1ZSwgdE5vZGUudmFsdWUgfHwgJycsIHByb3BOYW1lKSA6IHZhbHVlO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRQcm9wZXJ0eShlbGVtZW50LCBwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc0FuaW1hdGlvblByb3AocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldFByb3BlcnR5ID8gZWxlbWVudC5zZXRQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50W3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAxMiAvKiBBbnlDb250YWluZXIgKi8pIHtcbiAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgYSBjb250YWluZXIgYW5kIHRoZSBwcm9wZXJ0eSBkaWRuJ3RcbiAgICAgICAgLy8gbWF0Y2ggYW55IG9mIHRoZSBpbnB1dHMgb3Igc2NoZW1hcyB3ZSBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgIW1hdGNoaW5nU2NoZW1hcyh0VmlldywgdE5vZGUudmFsdWUpKSB7XG4gICAgICAgICAgICBsb2dVbmtub3duUHJvcGVydHlFcnJvcihwcm9wTmFtZSwgdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIElmIG5vZGUgaXMgYW4gT25QdXNoIGNvbXBvbmVudCwgbWFya3MgaXRzIExWaWV3IGRpcnR5LiAqL1xuZnVuY3Rpb24gbWFya0RpcnR5SWZPblB1c2gobFZpZXcsIHZpZXdJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgY29uc3QgY2hpbGRDb21wb25lbnRMVmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh2aWV3SW5kZXgsIGxWaWV3KTtcbiAgICBpZiAoIShjaGlsZENvbXBvbmVudExWaWV3W0ZMQUdTXSAmIDE2IC8qIENoZWNrQWx3YXlzICovKSkge1xuICAgICAgICBjaGlsZENvbXBvbmVudExWaWV3W0ZMQUdTXSB8PSA2NCAvKiBEaXJ0eSAqLztcbiAgICB9XG59XG5mdW5jdGlvbiBzZXROZ1JlZmxlY3RQcm9wZXJ0eShsVmlldywgZWxlbWVudCwgdHlwZSwgYXR0ck5hbWUsIHZhbHVlKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgYXR0ck5hbWUgPSBub3JtYWxpemVEZWJ1Z0JpbmRpbmdOYW1lKGF0dHJOYW1lKTtcbiAgICBjb25zdCBkZWJ1Z1ZhbHVlID0gbm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUodmFsdWUpO1xuICAgIGlmICh0eXBlICYgMyAvKiBBbnlSTm9kZSAqLykge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lKSA6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID9cbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0ck5hbWUsIGRlYnVnVmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgZGVidWdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZXNjYXBlQ29tbWVudFRleHQoYGJpbmRpbmdzPSR7SlNPTi5zdHJpbmdpZnkoeyBbYXR0ck5hbWVdOiBkZWJ1Z1ZhbHVlIH0sIG51bGwsIDIpfWApO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRWYWx1ZShlbGVtZW50LCB0ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXROZ1JlZmxlY3RQcm9wZXJ0aWVzKGxWaWV3LCBlbGVtZW50LCB0eXBlLCBkYXRhVmFsdWUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDQgLyogQ29udGFpbmVyICovKSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogZGF0YVZhbHVlIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgcnVudGltZSBpbnB1dCBvciBvdXRwdXQgbmFtZXMgZm9yIHRoZSBkaXJlY3RpdmVzOlxuICAgICAgICAgKiBpKzA6IGRpcmVjdGl2ZSBpbnN0YW5jZSBpbmRleFxuICAgICAgICAgKiBpKzE6IHByaXZhdGVOYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIGUuZy4gWzAsICdjaGFuZ2UnLCAnY2hhbmdlLW1pbmlmaWVkJ11cbiAgICAgICAgICogd2Ugd2FudCB0byBzZXQgdGhlIHJlZmxlY3RlZCBwcm9wZXJ0eSB3aXRoIHRoZSBwcml2YXRlTmFtZTogZGF0YVZhbHVlW2krMV1cbiAgICAgICAgICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVZhbHVlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBzZXROZ1JlZmxlY3RQcm9wZXJ0eShsVmlldywgZWxlbWVudCwgdHlwZSwgZGF0YVZhbHVlW2kgKyAxXSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSh0VmlldywgZWxlbWVudCwgcHJvcE5hbWUsIHROb2RlKSB7XG4gICAgLy8gSWYgYHNjaGVtYXNgIGlzIHNldCB0byBgbnVsbGAsIHRoYXQncyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhpcyBDb21wb25lbnQgd2FzIGNvbXBpbGVkIGluIEFPVFxuICAgIC8vIG1vZGUgd2hlcmUgdGhpcyBjaGVjayBoYXBwZW5zIGF0IGNvbXBpbGUgdGltZS4gSW4gSklUIG1vZGUsIGBzY2hlbWFzYCBpcyBhbHdheXMgcHJlc2VudCBhbmRcbiAgICAvLyBkZWZpbmVkIGFzIGFuIGFycmF5IChhcyBhbiBlbXB0eSBhcnJheSBpbiBjYXNlIGBzY2hlbWFzYCBmaWVsZCBpcyBub3QgZGVmaW5lZCkgYW5kIHdlIHNob3VsZFxuICAgIC8vIGV4ZWN1dGUgdGhlIGNoZWNrIGJlbG93LlxuICAgIGlmICh0Vmlldy5zY2hlbWFzID09PSBudWxsKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAvLyBUaGUgcHJvcGVydHkgaXMgY29uc2lkZXJlZCB2YWxpZCBpZiB0aGUgZWxlbWVudCBtYXRjaGVzIHRoZSBzY2hlbWEsIGl0IGV4aXN0cyBvbiB0aGUgZWxlbWVudFxuICAgIC8vIG9yIGl0IGlzIHN5bnRoZXRpYywgYW5kIHdlIGFyZSBpbiBhIGJyb3dzZXIgY29udGV4dCAod2ViIHdvcmtlciBub2RlcyBzaG91bGQgYmUgc2tpcHBlZCkuXG4gICAgaWYgKG1hdGNoaW5nU2NoZW1hcyh0VmlldywgdE5vZGUudmFsdWUpIHx8IHByb3BOYW1lIGluIGVsZW1lbnQgfHwgaXNBbmltYXRpb25Qcm9wKHByb3BOYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gTm90ZTogYHR5cGVvZiBOb2RlYCByZXR1cm5zICdmdW5jdGlvbicgaW4gbW9zdCBicm93c2VycywgYnV0IG9uIElFIGl0IGlzICdvYmplY3QnIHNvIHdlXG4gICAgLy8gbmVlZCB0byBhY2NvdW50IGZvciBib3RoIGhlcmUsIHdoaWxlIGJlaW5nIGNhcmVmdWwgZm9yIGB0eXBlb2YgbnVsbGAgYWxzbyByZXR1cm5pbmcgJ29iamVjdCcuXG4gICAgcmV0dXJuIHR5cGVvZiBOb2RlID09PSAndW5kZWZpbmVkJyB8fCBOb2RlID09PSBudWxsIHx8ICEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpO1xufVxuZnVuY3Rpb24gbWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0YWdOYW1lKSB7XG4gICAgY29uc3Qgc2NoZW1hcyA9IHRWaWV3LnNjaGVtYXM7XG4gICAgaWYgKHNjaGVtYXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzW2ldO1xuICAgICAgICAgICAgaWYgKHNjaGVtYSA9PT0gTk9fRVJST1JTX1NDSEVNQSB8fFxuICAgICAgICAgICAgICAgIHNjaGVtYSA9PT0gQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSAmJiB0YWdOYW1lICYmIHRhZ05hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIExvZ3MgYW4gZXJyb3IgdGhhdCBhIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgb24gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSBwcm9wTmFtZSBOYW1lIG9mIHRoZSBpbnZhbGlkIHByb3BlcnR5LlxuICogQHBhcmFtIHROb2RlIE5vZGUgb24gd2hpY2ggd2UgZW5jb3VudGVyZWQgdGhlIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBsb2dVbmtub3duUHJvcGVydHlFcnJvcihwcm9wTmFtZSwgdE5vZGUpIHtcbiAgICBsZXQgbWVzc2FnZSA9IGBDYW4ndCBiaW5kIHRvICcke3Byb3BOYW1lfScgc2luY2UgaXQgaXNuJ3QgYSBrbm93biBwcm9wZXJ0eSBvZiAnJHt0Tm9kZS52YWx1ZX0nLmA7XG4gICAgY29uc29sZS5lcnJvcihmb3JtYXRSdW50aW1lRXJyb3IoMzAzIC8qIFVOS05PV05fQklORElORyAqLywgbWVzc2FnZSkpO1xufVxuLyoqXG4gKiBJbnN0YW50aWF0ZSBhIHJvb3QgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQodFZpZXcsIGxWaWV3LCBkZWYpIHtcbiAgICBjb25zdCByb290VE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGlmIChkZWYucHJvdmlkZXJzUmVzb2x2ZXIpXG4gICAgICAgICAgICBkZWYucHJvdmlkZXJzUmVzb2x2ZXIoZGVmKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5kZXggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRFcXVhbChkaXJlY3RpdmVJbmRleCwgcm9vdFROb2RlLmRpcmVjdGl2ZVN0YXJ0LCAnQmVjYXVzZSB0aGlzIGlzIGEgcm9vdCBjb21wb25lbnQgdGhlIGFsbG9jYXRlZCBleHBhbmRvIHNob3VsZCBtYXRjaCB0aGUgVE5vZGUgY29tcG9uZW50LicpO1xuICAgICAgICBjb25maWd1cmVWaWV3V2l0aERpcmVjdGl2ZSh0Vmlldywgcm9vdFROb2RlLCBsVmlldywgZGlyZWN0aXZlSW5kZXgsIGRlZik7XG4gICAgfVxuICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCB0Vmlldywgcm9vdFROb2RlLmRpcmVjdGl2ZVN0YXJ0LCByb290VE5vZGUpO1xuICAgIGF0dGFjaFBhdGNoRGF0YShkaXJlY3RpdmUsIGxWaWV3KTtcbiAgICBjb25zdCBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKHJvb3RUTm9kZSwgbFZpZXcpO1xuICAgIGlmIChuYXRpdmUpIHtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xufVxuLyoqXG4gKiBSZXNvbHZlIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb24gYSBub2RlLlxuICovXG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBsb2NhbFJlZnMpIHtcbiAgICAvLyBQbGVhc2UgbWFrZSBzdXJlIHRvIGhhdmUgZXhwbGljaXQgdHlwZSBmb3IgYGV4cG9ydHNNYXBgLiBJbmZlcnJlZCB0eXBlIHRyaWdnZXJzIGJ1ZyBpblxuICAgIC8vIHRzaWNrbGUuXG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgbGV0IGhhc0RpcmVjdGl2ZXMgPSBmYWxzZTtcbiAgICBpZiAoZ2V0QmluZGluZ3NFbmFibGVkKCkpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmcyA9IGZpbmREaXJlY3RpdmVEZWZNYXRjaGVzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgICAgICBjb25zdCBleHBvcnRzTWFwID0gbG9jYWxSZWZzID09PSBudWxsID8gbnVsbCA6IHsgJyc6IC0xIH07XG4gICAgICAgIGlmIChkaXJlY3RpdmVEZWZzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICAgICAgICAgIGluaXRUTm9kZUZsYWdzKHROb2RlLCB0Vmlldy5kYXRhLmxlbmd0aCwgZGlyZWN0aXZlRGVmcy5sZW5ndGgpO1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgc2FtZSB0b2tlbiBpcyBwcm92aWRlZCBieSBzZXZlcmFsIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWUgbm9kZSwgc29tZSBydWxlcyBhcHBseSBpblxuICAgICAgICAgICAgLy8gdGhlIHZpZXdFbmdpbmU6XG4gICAgICAgICAgICAvLyAtIHZpZXdQcm92aWRlcnMgaGF2ZSBwcmlvcml0eSBvdmVyIHByb3ZpZGVyc1xuICAgICAgICAgICAgLy8gLSB0aGUgbGFzdCBkaXJlY3RpdmUgaW4gTmdNb2R1bGUuZGVjbGFyYXRpb25zIGhhcyBwcmlvcml0eSBvdmVyIHRoZSBwcmV2aW91cyBvbmVcbiAgICAgICAgICAgIC8vIFNvIHRvIG1hdGNoIHRoZXNlIHJ1bGVzLCB0aGUgb3JkZXIgaW4gd2hpY2ggcHJvdmlkZXJzIGFyZSBhZGRlZCBpbiB0aGUgYXJyYXlzIGlzIHZlcnlcbiAgICAgICAgICAgIC8vIGltcG9ydGFudC5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlRGVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IGRpcmVjdGl2ZURlZnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGRlZi5wcm92aWRlcnNSZXNvbHZlcilcbiAgICAgICAgICAgICAgICAgICAgZGVmLnByb3ZpZGVyc1Jlc29sdmVyKGRlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHJlT3JkZXJIb29rc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHJlT3JkZXJDaGVja0hvb2tzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBkaXJlY3RpdmVJZHggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCBkaXJlY3RpdmVEZWZzLmxlbmd0aCwgbnVsbCk7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRTYW1lKGRpcmVjdGl2ZUlkeCwgdE5vZGUuZGlyZWN0aXZlU3RhcnQsICdUTm9kZS5kaXJlY3RpdmVTdGFydCBzaG91bGQgcG9pbnQgdG8ganVzdCBhbGxvY2F0ZWQgc3BhY2UnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlRGVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IGRpcmVjdGl2ZURlZnNbaV07XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgdGhlIGF0dHJzIGluIHRoZSBvcmRlciBvZiBtYXRjaGVzLiBUaGlzIGFzc3VtZXMgdGhhdCB0aGUgZmlyc3QgZGlyZWN0aXZlIGlzIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBpdHNlbGYsIHNvIHRoYXQgdGhlIGNvbXBvbmVudCBoYXMgdGhlIGxlYXN0IHByaW9yaXR5LlxuICAgICAgICAgICAgICAgIHROb2RlLm1lcmdlZEF0dHJzID0gbWVyZ2VIb3N0QXR0cnModE5vZGUubWVyZ2VkQXR0cnMsIGRlZi5ob3N0QXR0cnMpO1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUlkeCwgZGVmKTtcbiAgICAgICAgICAgICAgICBzYXZlTmFtZVRvRXhwb3J0TWFwKGRpcmVjdGl2ZUlkeCwgZGVmLCBleHBvcnRzTWFwKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmLmNvbnRlbnRRdWVyaWVzICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLztcbiAgICAgICAgICAgICAgICBpZiAoZGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCB8fCBkZWYuaG9zdEF0dHJzICE9PSBudWxsIHx8IGRlZi5ob3N0VmFycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gMTI4IC8qIGhhc0hvc3RCaW5kaW5ncyAqLztcbiAgICAgICAgICAgICAgICBjb25zdCBsaWZlQ3ljbGVIb29rcyA9IGRlZi50eXBlLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHB1c2ggYSBub2RlIGluZGV4IGludG8gdGhlIHByZU9yZGVySG9va3MgYXJyYXkgaWYgdGhpcyBpcyB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyBwcmUtb3JkZXIgaG9vayBmb3VuZCBvbiB0aGlzIG5vZGUuXG4gICAgICAgICAgICAgICAgaWYgKCFwcmVPcmRlckhvb2tzRm91bmQgJiZcbiAgICAgICAgICAgICAgICAgICAgKGxpZmVDeWNsZUhvb2tzLm5nT25DaGFuZ2VzIHx8IGxpZmVDeWNsZUhvb2tzLm5nT25Jbml0IHx8IGxpZmVDeWNsZUhvb2tzLm5nRG9DaGVjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugd2lsbCBwdXNoIHRoZSBhY3R1YWwgaG9vayBmdW5jdGlvbiBpbnRvIHRoaXMgYXJyYXkgbGF0ZXIgZHVyaW5nIGRpciBpbnN0YW50aWF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW5ub3QgZG8gaXQgbm93IGJlY2F1c2Ugd2UgbXVzdCBlbnN1cmUgaG9va3MgYXJlIHJlZ2lzdGVyZWQgaW4gdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JkZXIgdGhhdCBkaXJlY3RpdmVzIGFyZSBjcmVhdGVkIChpLmUuIGluamVjdGlvbiBvcmRlcikuXG4gICAgICAgICAgICAgICAgICAgICh0Vmlldy5wcmVPcmRlckhvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckhvb2tzID0gW10pKS5wdXNoKHROb2RlLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcHJlT3JkZXJIb29rc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVPcmRlckNoZWNrSG9va3NGb3VuZCAmJiAobGlmZUN5Y2xlSG9va3MubmdPbkNoYW5nZXMgfHwgbGlmZUN5Y2xlSG9va3MubmdEb0NoZWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgPSBbXSkpLnB1c2godE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBwcmVPcmRlckNoZWNrSG9va3NGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZUlkeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5pdGlhbGl6ZUlucHV0QW5kT3V0cHV0QWxpYXNlcyh0VmlldywgdE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvcnRzTWFwKVxuICAgICAgICAgICAgY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXModE5vZGUsIGxvY2FsUmVmcywgZXhwb3J0c01hcCk7XG4gICAgfVxuICAgIC8vIE1lcmdlIHRoZSB0ZW1wbGF0ZSBhdHRycyBsYXN0IHNvIHRoYXQgdGhleSBoYXZlIHRoZSBoaWdoZXN0IHByaW9yaXR5LlxuICAgIHROb2RlLm1lcmdlZEF0dHJzID0gbWVyZ2VIb3N0QXR0cnModE5vZGUubWVyZ2VkQXR0cnMsIHROb2RlLmF0dHJzKTtcbiAgICByZXR1cm4gaGFzRGlyZWN0aXZlcztcbn1cbi8qKlxuICogQWRkIGBob3N0QmluZGluZ3NgIHRvIHRoZSBgVFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzYC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCB0byB3aGljaCB0aGUgYGhvc3RCaW5kaW5nc2Agc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgdGhlIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIGRpcmVjdGl2ZVxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgY3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gZGlyZWN0aXZlSWR4IERpcmVjdGl2ZSBpbmRleCBpbiB2aWV3LlxuICogQHBhcmFtIGRpcmVjdGl2ZVZhcnNJZHggV2hlcmUgd2lsbCB0aGUgZGlyZWN0aXZlJ3MgdmFycyBiZSBzdG9yZWRcbiAqIEBwYXJhbSBkZWYgYENvbXBvbmVudERlZmAvYERpcmVjdGl2ZURlZmAsIHdoaWNoIGNvbnRhaW5zIHRoZSBgaG9zdFZhcnNgL2Bob3N0QmluZGluZ3NgIHRvIGFkZC5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSWR4LCBkaXJlY3RpdmVWYXJzSWR4LCBkZWYpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCBob3N0QmluZGluZ3MgPSBkZWYuaG9zdEJpbmRpbmdzO1xuICAgIGlmIChob3N0QmluZGluZ3MpIHtcbiAgICAgICAgbGV0IGhvc3RCaW5kaW5nT3BDb2RlcyA9IHRWaWV3Lmhvc3RCaW5kaW5nT3BDb2RlcztcbiAgICAgICAgaWYgKGhvc3RCaW5kaW5nT3BDb2RlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaG9zdEJpbmRpbmdPcENvZGVzID0gdFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudEluZHggPSB+dE5vZGUuaW5kZXg7XG4gICAgICAgIGlmIChsYXN0U2VsZWN0ZWRFbGVtZW50SWR4KGhvc3RCaW5kaW5nT3BDb2RlcykgIT0gZWxlbWVudEluZHgpIHtcbiAgICAgICAgICAgIC8vIENvbmRpdGlvbmFsbHkgYWRkIHNlbGVjdCBlbGVtZW50IHNvIHRoYXQgd2UgYXJlIG1vcmUgZWZmaWNpZW50IGluIGV4ZWN1dGlvbi5cbiAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgaXMgc3RyaWN0bHkgbm90IG5lY2Vzc2FyeSBhbmQgaXQgdHJhZGVzIGNvZGUgc2l6ZSBmb3IgcnVudGltZSBwZXJmLlxuICAgICAgICAgICAgLy8gKFdlIGNvdWxkIGp1c3QgYWx3YXlzIGFkZCBpdC4pXG4gICAgICAgICAgICBob3N0QmluZGluZ09wQ29kZXMucHVzaChlbGVtZW50SW5keCk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdEJpbmRpbmdPcENvZGVzLnB1c2goZGlyZWN0aXZlSWR4LCBkaXJlY3RpdmVWYXJzSWR4LCBob3N0QmluZGluZ3MpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbGFzdCBzZWxlY3RlZCBlbGVtZW50IGluZGV4IGluIHRoZSBgSG9zdEJpbmRpbmdPcENvZGVzYFxuICpcbiAqIEZvciBwZXJmIHJlYXNvbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHNlbGVjdGVkIGVsZW1lbnQgaW5kZXggaW4gYEhvc3RCaW5kaW5nT3BDb2Rlc2Agb25seVxuICogaWYgaXQgY2hhbmdlcy4gVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgbGFzdCBpbmRleCAob3IgJzAnIGlmIG5vdCBmb3VuZC4pXG4gKlxuICogU2VsZWN0ZWQgZWxlbWVudCBpbmRleCBhcmUgb25seSB0aGUgb25lcyB3aGljaCBhcmUgbmVnYXRpdmUuXG4gKi9cbmZ1bmN0aW9uIGxhc3RTZWxlY3RlZEVsZW1lbnRJZHgoaG9zdEJpbmRpbmdPcENvZGVzKSB7XG4gICAgbGV0IGkgPSBob3N0QmluZGluZ09wQ29kZXMubGVuZ3RoO1xuICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGhvc3RCaW5kaW5nT3BDb2Rlc1stLWldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbi8qKlxuICogSW5zdGFudGlhdGUgYWxsIHRoZSBkaXJlY3RpdmVzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlc29sdmVkIG9uIHRoZSBjdXJyZW50IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBuYXRpdmUpIHtcbiAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBpZiAoIXRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSB0Tm9kZS5pbml0aWFsSW5wdXRzO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50ID0gaXNDb21wb25lbnREZWYoZGVmKTtcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovKTtcbiAgICAgICAgICAgIGFkZENvbXBvbmVudExvZ2ljKGxWaWV3LCB0Tm9kZSwgZGVmKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgdFZpZXcsIGksIHROb2RlKTtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZSwgbFZpZXcpO1xuICAgICAgICBpZiAoaW5pdGlhbElucHV0cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0SW5wdXRzRnJvbUF0dHJzKGxWaWV3LCBpIC0gc3RhcnQsIGRpcmVjdGl2ZSwgZGVmLCB0Tm9kZSwgaW5pdGlhbElucHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICBjb21wb25lbnRWaWV3W0NPTlRFWFRdID0gZGlyZWN0aXZlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyh0VmlldywgbFZpZXcsIHROb2RlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgY29uc3QgZmlyc3RDcmVhdGVQYXNzID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzO1xuICAgIGNvbnN0IGVsZW1lbnRJbmRleCA9IHROb2RlLmluZGV4O1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3RpdmVJbmRleCA9IGdldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpO1xuICAgIHRyeSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoZWxlbWVudEluZGV4KTtcbiAgICAgICAgZm9yIChsZXQgZGlySW5kZXggPSBzdGFydDsgZGlySW5kZXggPCBlbmQ7IGRpckluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbZGlySW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gbFZpZXdbZGlySW5kZXhdO1xuICAgICAgICAgICAgc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGRpckluZGV4KTtcbiAgICAgICAgICAgIGlmIChkZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsIHx8IGRlZi5ob3N0VmFycyAhPT0gMCB8fCBkZWYuaG9zdEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUoZGVmLCBkaXJlY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcbiAgICAgICAgc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGN1cnJlbnREaXJlY3RpdmVJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnZva2UgdGhlIGhvc3QgYmluZGluZ3MgaW4gY3JlYXRpb24gbW9kZS5cbiAqXG4gKiBAcGFyYW0gZGVmIGBEaXJlY3RpdmVEZWZgIHdoaWNoIG1heSBjb250YWluIHRoZSBgaG9zdEJpbmRpbmdzYCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBkaXJlY3RpdmUgSW5zdGFuY2Ugb2YgZGlyZWN0aXZlLlxuICovXG5mdW5jdGlvbiBpbnZva2VIb3N0QmluZGluZ3NJbkNyZWF0aW9uTW9kZShkZWYsIGRpcmVjdGl2ZSkge1xuICAgIGlmIChkZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsKSB7XG4gICAgICAgIGRlZi5ob3N0QmluZGluZ3MoMSAvKiBDcmVhdGUgKi8sIGRpcmVjdGl2ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBNYXRjaGVzIHRoZSBjdXJyZW50IG5vZGUgYWdhaW5zdCBhbGwgYXZhaWxhYmxlIHNlbGVjdG9ycy5cbiAqIElmIGEgY29tcG9uZW50IGlzIG1hdGNoZWQgKGF0IG1vc3Qgb25lKSwgaXQgaXMgcmV0dXJuZWQgaW4gZmlyc3QgcG9zaXRpb24gaW4gdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBmaW5kRGlyZWN0aXZlRGVmTWF0Y2hlcyh0Vmlldywgdmlld0RhdGEsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyk7XG4gICAgY29uc3QgcmVnaXN0cnkgPSB0Vmlldy5kaXJlY3RpdmVSZWdpc3RyeTtcbiAgICBsZXQgbWF0Y2hlcyA9IG51bGw7XG4gICAgaWYgKHJlZ2lzdHJ5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVnaXN0cnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHJlZ2lzdHJ5W2ldO1xuICAgICAgICAgICAgaWYgKGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBkZWYuc2VsZWN0b3JzLCAvKiBpc1Byb2plY3Rpb25Nb2RlICovIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMgfHwgKG1hdGNoZXMgPSBuZ0Rldk1vZGUgPyBuZXcgTWF0Y2hlc0FycmF5KCkgOiBbXSk7XG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgdmlld0RhdGEpLCB0VmlldywgZGVmLnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudERlZihkZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMiAvKiBFbGVtZW50ICovLCBgXCIke3ROb2RlLnZhbHVlfVwiIHRhZ3MgY2Fubm90IGJlIHVzZWQgYXMgY29tcG9uZW50IGhvc3RzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUGxlYXNlIHVzZSBhIGRpZmZlcmVudCB0YWcgdG8gYWN0aXZhdGUgdGhlICR7c3RyaW5naWZ5KGRlZi50eXBlKX0gY29tcG9uZW50LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dNdWx0aXBsZUNvbXBvbmVudEVycm9yKHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXJrQXNDb21wb25lbnRIb3N0KHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb21wb25lbnQgaXMgYWx3YXlzIHN0b3JlZCBmaXJzdCB3aXRoIGRpcmVjdGl2ZXMgYWZ0ZXIuXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMudW5zaGlmdChkZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzO1xufVxuLyoqXG4gKiBNYXJrcyBhIGdpdmVuIFROb2RlIGFzIGEgY29tcG9uZW50J3MgaG9zdC4gVGhpcyBjb25zaXN0cyBvZjpcbiAqIC0gc2V0dGluZyBhcHByb3ByaWF0ZSBUTm9kZSBmbGFncztcbiAqIC0gc3RvcmluZyBpbmRleCBvZiBjb21wb25lbnQncyBob3N0IGVsZW1lbnQgc28gaXQgd2lsbCBiZSBxdWV1ZWQgZm9yIHZpZXcgcmVmcmVzaCBkdXJpbmcgQ0QuXG4gKi9cbmZ1bmN0aW9uIG1hcmtBc0NvbXBvbmVudEhvc3QodFZpZXcsIGhvc3RUTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGhvc3RUTm9kZS5mbGFncyB8PSAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLztcbiAgICAodFZpZXcuY29tcG9uZW50cyB8fCAodFZpZXcuY29tcG9uZW50cyA9IG5nRGV2TW9kZSA/IG5ldyBUVmlld0NvbXBvbmVudHMoKSA6IFtdKSlcbiAgICAgICAgLnB1c2goaG9zdFROb2RlLmluZGV4KTtcbn1cbi8qKiBDYWNoZXMgbG9jYWwgbmFtZXMgYW5kIHRoZWlyIG1hdGNoaW5nIGRpcmVjdGl2ZSBpbmRpY2VzIGZvciBxdWVyeSBhbmQgdGVtcGxhdGUgbG9va3Vwcy4gKi9cbmZ1bmN0aW9uIGNhY2hlTWF0Y2hpbmdMb2NhbE5hbWVzKHROb2RlLCBsb2NhbFJlZnMsIGV4cG9ydHNNYXApIHtcbiAgICBpZiAobG9jYWxSZWZzKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzID0gbmdEZXZNb2RlID8gbmV3IFROb2RlTG9jYWxOYW1lcygpIDogW107XG4gICAgICAgIC8vIExvY2FsIG5hbWVzIG11c3QgYmUgc3RvcmVkIGluIHROb2RlIGluIHRoZSBzYW1lIG9yZGVyIHRoYXQgbG9jYWxSZWZzIGFyZSBkZWZpbmVkXG4gICAgICAgIC8vIGluIHRoZSB0ZW1wbGF0ZSB0byBlbnN1cmUgdGhlIGRhdGEgaXMgbG9hZGVkIGluIHRoZSBzYW1lIHNsb3RzIGFzIHRoZWlyIHJlZnNcbiAgICAgICAgLy8gaW4gdGhlIHRlbXBsYXRlIChmb3IgdGVtcGxhdGUgcXVlcmllcykuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxSZWZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV4cG9ydHNNYXBbbG9jYWxSZWZzW2kgKyAxXV07XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0zMDEgLyogRVhQT1JUX05PVF9GT1VORCAqLywgbmdEZXZNb2RlICYmIGBFeHBvcnQgb2YgbmFtZSAnJHtsb2NhbFJlZnNbaSArIDFdfScgbm90IGZvdW5kIWApO1xuICAgICAgICAgICAgbG9jYWxOYW1lcy5wdXNoKGxvY2FsUmVmc1tpXSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgdXAgYW4gZXhwb3J0IG1hcCBhcyBkaXJlY3RpdmVzIGFyZSBjcmVhdGVkLCBzbyBsb2NhbCByZWZzIGNhbiBiZSBxdWlja2x5IG1hcHBlZFxuICogdG8gdGhlaXIgZGlyZWN0aXZlIGluc3RhbmNlcy5cbiAqL1xuZnVuY3Rpb24gc2F2ZU5hbWVUb0V4cG9ydE1hcChkaXJlY3RpdmVJZHgsIGRlZiwgZXhwb3J0c01hcCkge1xuICAgIGlmIChleHBvcnRzTWFwKSB7XG4gICAgICAgIGlmIChkZWYuZXhwb3J0QXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmLmV4cG9ydEFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0c01hcFtkZWYuZXhwb3J0QXNbaV1dID0gZGlyZWN0aXZlSWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBvbmVudERlZihkZWYpKVxuICAgICAgICAgICAgZXhwb3J0c01hcFsnJ10gPSBkaXJlY3RpdmVJZHg7XG4gICAgfVxufVxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgZmxhZ3Mgb24gdGhlIGN1cnJlbnQgbm9kZSwgc2V0dGluZyBhbGwgaW5kaWNlcyB0byB0aGUgaW5pdGlhbCBpbmRleCxcbiAqIHRoZSBkaXJlY3RpdmUgY291bnQgdG8gMCwgYW5kIGFkZGluZyB0aGUgaXNDb21wb25lbnQgZmxhZy5cbiAqIEBwYXJhbSBpbmRleCB0aGUgaW5pdGlhbCBpbmRleFxuICovXG5mdW5jdGlvbiBpbml0VE5vZGVGbGFncyh0Tm9kZSwgaW5kZXgsIG51bWJlck9mRGlyZWN0aXZlcykge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChudW1iZXJPZkRpcmVjdGl2ZXMsIHROb2RlLmRpcmVjdGl2ZUVuZCAtIHROb2RlLmRpcmVjdGl2ZVN0YXJ0LCAnUmVhY2hlZCB0aGUgbWF4IG51bWJlciBvZiBkaXJlY3RpdmVzJyk7XG4gICAgdE5vZGUuZmxhZ3MgfD0gMSAvKiBpc0RpcmVjdGl2ZUhvc3QgKi87XG4gICAgLy8gV2hlbiB0aGUgZmlyc3QgZGlyZWN0aXZlIGlzIGNyZWF0ZWQgb24gYSBub2RlLCBzYXZlIHRoZSBpbmRleFxuICAgIHROb2RlLmRpcmVjdGl2ZVN0YXJ0ID0gaW5kZXg7XG4gICAgdE5vZGUuZGlyZWN0aXZlRW5kID0gaW5kZXggKyBudW1iZXJPZkRpcmVjdGl2ZXM7XG4gICAgdE5vZGUucHJvdmlkZXJJbmRleGVzID0gaW5kZXg7XG59XG4vKipcbiAqIFNldHVwIGRpcmVjdGl2ZSBmb3IgaW5zdGFudGlhdGlvbi5cbiAqXG4gKiBXZSBuZWVkIHRvIGNyZWF0ZSBhIGBOb2RlSW5qZWN0b3JGYWN0b3J5YCB3aGljaCBpcyB0aGVuIGluc2VydGVkIGluIGJvdGggdGhlIGBCbHVlcHJpbnRgIGFzIHdlbGxcbiAqIGFzIGBMVmlld2AuIGBUVmlld2AgZ2V0cyB0aGUgYERpcmVjdGl2ZURlZmAuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2BcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YFxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEluZGV4IHdoZXJlIHRoZSBkaXJlY3RpdmUgd2lsbCBiZSBzdG9yZWQgaW4gdGhlIEV4cGFuZG8uXG4gKiBAcGFyYW0gZGVmIGBEaXJlY3RpdmVEZWZgXG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBkZWYpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGRpcmVjdGl2ZUluZGV4LCBIRUFERVJfT0ZGU0VULCAnTXVzdCBiZSBpbiBFeHBhbmRvIHNlY3Rpb24nKTtcbiAgICB0Vmlldy5kYXRhW2RpcmVjdGl2ZUluZGV4XSA9IGRlZjtcbiAgICBjb25zdCBkaXJlY3RpdmVGYWN0b3J5ID0gZGVmLmZhY3RvcnkgfHwgKGRlZi5mYWN0b3J5ID0gZ2V0RmFjdG9yeURlZihkZWYudHlwZSwgdHJ1ZSkpO1xuICAgIGNvbnN0IG5vZGVJbmplY3RvckZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShkaXJlY3RpdmVGYWN0b3J5LCBpc0NvbXBvbmVudERlZihkZWYpLCBudWxsKTtcbiAgICB0Vmlldy5ibHVlcHJpbnRbZGlyZWN0aXZlSW5kZXhdID0gbm9kZUluamVjdG9yRmFjdG9yeTtcbiAgICBsVmlld1tkaXJlY3RpdmVJbmRleF0gPSBub2RlSW5qZWN0b3JGYWN0b3J5O1xuICAgIHJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCBkZWYuaG9zdFZhcnMsIE5PX0NIQU5HRSksIGRlZik7XG59XG5mdW5jdGlvbiBhZGRDb21wb25lbnRMb2dpYyhsVmlldywgaG9zdFROb2RlLCBkZWYpIHtcbiAgICBjb25zdCBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKGhvc3RUTm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyhkZWYpO1xuICAgIC8vIE9ubHkgY29tcG9uZW50IHZpZXdzIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgdmlldyB0cmVlIGRpcmVjdGx5LiBFbWJlZGRlZCB2aWV3cyBhcmVcbiAgICAvLyBhY2Nlc3NlZCB0aHJvdWdoIHRoZWlyIGNvbnRhaW5lcnMgYmVjYXVzZSB0aGV5IG1heSBiZSByZW1vdmVkIC8gcmUtYWRkZWQgbGF0ZXIuXG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgY29uc3QgY29tcG9uZW50VmlldyA9IGFkZFRvVmlld1RyZWUobFZpZXcsIGNyZWF0ZUxWaWV3KGxWaWV3LCB0VmlldywgbnVsbCwgZGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIDogMTYgLyogQ2hlY2tBbHdheXMgKi8sIG5hdGl2ZSwgaG9zdFROb2RlLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihuYXRpdmUsIGRlZiksIG51bGwsIG51bGwpKTtcbiAgICAvLyBDb21wb25lbnQgdmlldyB3aWxsIGFsd2F5cyBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgaW5qZWN0ZWQgTENvbnRhaW5lcnMsXG4gICAgLy8gc28gdGhpcyBpcyBhIHJlZ3VsYXIgZWxlbWVudCwgd3JhcCBpdCB3aXRoIHRoZSBjb21wb25lbnQgdmlld1xuICAgIGxWaWV3W2hvc3RUTm9kZS5pbmRleF0gPSBjb21wb25lbnRWaWV3O1xufVxuZnVuY3Rpb24gZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgbmFtZSwgdmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgICAgICB2YWxpZGF0ZUFnYWluc3RFdmVudEF0dHJpYnV0ZXMobmFtZSk7XG4gICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMiAvKiBFbGVtZW50ICovLCBgQXR0ZW1wdGVkIHRvIHNldCBhdHRyaWJ1dGUgXFxgJHtuYW1lfVxcYCBvbiBhIGNvbnRhaW5lciBub2RlLiBgICtcbiAgICAgICAgICAgIGBIb3N0IGJpbmRpbmdzIGFyZSBub3QgdmFsaWQgb24gbmctY29udGFpbmVyIG9yIG5nLXRlbXBsYXRlLmApO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIHNldEVsZW1lbnRBdHRyaWJ1dGUobFZpZXdbUkVOREVSRVJdLCBlbGVtZW50LCBuYW1lc3BhY2UsIHROb2RlLnZhbHVlLCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyKTtcbn1cbmZ1bmN0aW9uIHNldEVsZW1lbnRBdHRyaWJ1dGUocmVuZGVyZXIsIGVsZW1lbnQsIG5hbWVzcGFjZSwgdGFnTmFtZSwgbmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGUrKztcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIG5hbWVzcGFjZSkgOlxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgIGNvbnN0IHN0clZhbHVlID0gc2FuaXRpemVyID09IG51bGwgPyByZW5kZXJTdHJpbmdpZnkodmFsdWUpIDogc2FuaXRpemVyKHZhbHVlLCB0YWdOYW1lIHx8ICcnLCBuYW1lKTtcbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIHN0clZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFtZXNwYWNlID8gZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIG5hbWUsIHN0clZhbHVlKSA6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgc3RyVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBTZXRzIGluaXRpYWwgaW5wdXQgcHJvcGVydGllcyBvbiBkaXJlY3RpdmUgaW5zdGFuY2VzIGZyb20gYXR0cmlidXRlIGRhdGFcbiAqXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBMVmlldyB0aGF0IGlzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBJbmRleCBvZiB0aGUgZGlyZWN0aXZlIGluIGRpcmVjdGl2ZXMgYXJyYXlcbiAqIEBwYXJhbSBpbnN0YW5jZSBJbnN0YW5jZSBvZiB0aGUgZGlyZWN0aXZlIG9uIHdoaWNoIHRvIHNldCB0aGUgaW5pdGlhbCBpbnB1dHNcbiAqIEBwYXJhbSBkZWYgVGhlIGRpcmVjdGl2ZSBkZWYgdGhhdCBjb250YWlucyB0aGUgbGlzdCBvZiBpbnB1dHNcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgc3RhdGljIGRhdGEgZm9yIHRoaXMgbm9kZVxuICovXG5mdW5jdGlvbiBzZXRJbnB1dHNGcm9tQXR0cnMobFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBpbnN0YW5jZSwgZGVmLCB0Tm9kZSwgaW5pdGlhbElucHV0RGF0YSkge1xuICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSBpbml0aWFsSW5wdXREYXRhW2RpcmVjdGl2ZUluZGV4XTtcbiAgICBpZiAoaW5pdGlhbElucHV0cyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzZXRJbnB1dCA9IGRlZi5zZXRJbnB1dDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsSW5wdXRzLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY05hbWUgPSBpbml0aWFsSW5wdXRzW2krK107XG4gICAgICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9IGluaXRpYWxJbnB1dHNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbElucHV0c1tpKytdO1xuICAgICAgICAgICAgaWYgKHNldElucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVmLnNldElucHV0KGluc3RhbmNlLCB2YWx1ZSwgcHVibGljTmFtZSwgcHJpdmF0ZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2VbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICBzZXROZ1JlZmxlY3RQcm9wZXJ0eShsVmlldywgbmF0aXZlRWxlbWVudCwgdE5vZGUudHlwZSwgcHJpdmF0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2VuZXJhdGVzIGluaXRpYWxJbnB1dERhdGEgZm9yIGEgbm9kZSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0ZW1wbGF0ZSdzIHN0YXRpYyBzdG9yYWdlXG4gKiBzbyBzdWJzZXF1ZW50IHRlbXBsYXRlIGludm9jYXRpb25zIGRvbid0IGhhdmUgdG8gcmVjYWxjdWxhdGUgaXQuXG4gKlxuICogaW5pdGlhbElucHV0RGF0YSBpcyBhbiBhcnJheSBjb250YWluaW5nIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgc2V0IGFzIGlucHV0IHByb3BlcnRpZXNcbiAqIGZvciBkaXJlY3RpdmVzIG9uIHRoaXMgbm9kZSwgYnV0IG9ubHkgb25jZSBvbiBjcmVhdGlvbi4gV2UgbmVlZCB0aGlzIGFycmF5IHRvIHN1cHBvcnRcbiAqIHRoZSBjYXNlIHdoZXJlIHlvdSBzZXQgYW4gQElucHV0IHByb3BlcnR5IG9mIGEgZGlyZWN0aXZlIHVzaW5nIGF0dHJpYnV0ZS1saWtlIHN5bnRheC5cbiAqIGUuZy4gaWYgeW91IGhhdmUgYSBgbmFtZWAgQElucHV0LCB5b3UgY2FuIHNldCBpdCBvbmNlIGxpa2UgdGhpczpcbiAqXG4gKiA8bXktY29tcG9uZW50IG5hbWU9XCJCZXNzXCI+PC9teS1jb21wb25lbnQ+XG4gKlxuICogQHBhcmFtIGlucHV0cyBUaGUgbGlzdCBvZiBpbnB1dHMgZnJvbSB0aGUgZGlyZWN0aXZlIGRlZlxuICogQHBhcmFtIGF0dHJzIFRoZSBzdGF0aWMgYXR0cnMgb24gdGhpcyBub2RlXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlSW5pdGlhbElucHV0cyhpbnB1dHMsIGF0dHJzKSB7XG4gICAgbGV0IGlucHV0c1RvU3RvcmUgPSBudWxsO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICBpZiAoYXR0ck5hbWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAvLyBXZSBkbyBub3QgYWxsb3cgaW5wdXRzIG9uIG5hbWVzcGFjZWQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0dHJOYW1lID09PSA1IC8qIFByb2plY3RBcyAqLykge1xuICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHRoZSBgbmdQcm9qZWN0QXNgIHZhbHVlLlxuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGl0IGFueSBvdGhlciBhdHRyaWJ1dGUgbWFya2Vycywgd2UncmUgZG9uZSBhbnl3YXkuIE5vbmUgb2YgdGhvc2UgYXJlIHZhbGlkIGlucHV0cy5cbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyTmFtZSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKGlucHV0cy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dHNUb1N0b3JlID09PSBudWxsKVxuICAgICAgICAgICAgICAgIGlucHV0c1RvU3RvcmUgPSBbXTtcbiAgICAgICAgICAgIGlucHV0c1RvU3RvcmUucHVzaChhdHRyTmFtZSwgaW5wdXRzW2F0dHJOYW1lXSwgYXR0cnNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBpICs9IDI7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dHNUb1N0b3JlO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gVmlld0NvbnRhaW5lciAmIFZpZXdcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBOb3Qgc3VyZSB3aHkgSSBuZWVkIHRvIGRvIGBhbnlgIGhlcmUgYnV0IFRTIGNvbXBsYWlucyBsYXRlci5cbmNvbnN0IExDb250YWluZXJBcnJheSA9IGNsYXNzIExDb250YWluZXIgZXh0ZW5kcyBBcnJheSB7XG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgTENvbnRhaW5lciwgZWl0aGVyIGZyb20gYSBjb250YWluZXIgaW5zdHJ1Y3Rpb24sIG9yIGZvciBhIFZpZXdDb250YWluZXJSZWYuXG4gKlxuICogQHBhcmFtIGhvc3ROYXRpdmUgVGhlIGhvc3QgZWxlbWVudCBmb3IgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIGhvc3QgVE5vZGUgZm9yIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIHBhcmVudCB2aWV3IG9mIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gbmF0aXZlIFRoZSBuYXRpdmUgY29tbWVudCBlbGVtZW50XG4gKiBAcGFyYW0gaXNGb3JWaWV3Q29udGFpbmVyUmVmIE9wdGlvbmFsIGEgZmxhZyBpbmRpY2F0aW5nIHRoZSBWaWV3Q29udGFpbmVyUmVmIGNhc2VcbiAqIEByZXR1cm5zIExDb250YWluZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTENvbnRhaW5lcihob3N0TmF0aXZlLCBjdXJyZW50VmlldywgbmF0aXZlLCB0Tm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhjdXJyZW50Vmlldyk7XG4gICAgbmdEZXZNb2RlICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihjdXJyZW50Vmlld1tSRU5ERVJFUl0pICYmIGFzc2VydERvbU5vZGUobmF0aXZlKTtcbiAgICAvLyBodHRwczovL2pzcGVyZi5jb20vYXJyYXktbGl0ZXJhbC12cy1uZXctYXJyYXktcmVhbGx5XG4gICAgY29uc3QgbENvbnRhaW5lciA9IG5ldyAobmdEZXZNb2RlID8gTENvbnRhaW5lckFycmF5IDogQXJyYXkpKGhvc3ROYXRpdmUsIC8vIGhvc3QgbmF0aXZlXG4gICAgdHJ1ZSwgLy8gQm9vbGVhbiBgdHJ1ZWAgaW4gdGhpcyBwb3NpdGlvbiBzaWduaWZpZXMgdGhhdCB0aGlzIGlzIGFuIGBMQ29udGFpbmVyYFxuICAgIGZhbHNlLCAvLyBoYXMgdHJhbnNwbGFudGVkIHZpZXdzXG4gICAgY3VycmVudFZpZXcsIC8vIHBhcmVudFxuICAgIG51bGwsIC8vIG5leHRcbiAgICAwLCAvLyB0cmFuc3BsYW50ZWQgdmlld3MgdG8gcmVmcmVzaCBjb3VudFxuICAgIHROb2RlLCAvLyB0X2hvc3RcbiAgICBuYXRpdmUsIC8vIG5hdGl2ZSxcbiAgICBudWxsLCAvLyB2aWV3IHJlZnNcbiAgICBudWxsKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwobENvbnRhaW5lci5sZW5ndGgsIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VULCAnU2hvdWxkIGFsbG9jYXRlIGNvcnJlY3QgbnVtYmVyIG9mIHNsb3RzIGZvciBMQ29udGFpbmVyIGhlYWRlci4nKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXR0YWNoTENvbnRhaW5lckRlYnVnKGxDb250YWluZXIpO1xuICAgIHJldHVybiBsQ29udGFpbmVyO1xufVxuLyoqXG4gKiBHb2VzIG92ZXIgZW1iZWRkZWQgdmlld3MgKG9uZXMgY3JlYXRlZCB0aHJvdWdoIFZpZXdDb250YWluZXJSZWYgQVBJcykgYW5kIHJlZnJlc2hlc1xuICogdGhlbSBieSBleGVjdXRpbmcgYW4gYXNzb2NpYXRlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gcmVmcmVzaEVtYmVkZGVkVmlld3MobFZpZXcpIHtcbiAgICBmb3IgKGxldCBsQ29udGFpbmVyID0gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KTsgbENvbnRhaW5lciAhPT0gbnVsbDsgbENvbnRhaW5lciA9IGdldE5leHRMQ29udGFpbmVyKGxDb250YWluZXIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IGVtYmVkZGVkTFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZW1iZWRkZWRUVmlldywgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgICAgICBpZiAodmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3RvcihlbWJlZGRlZExWaWV3KSkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hWaWV3KGVtYmVkZGVkVFZpZXcsIGVtYmVkZGVkTFZpZXcsIGVtYmVkZGVkVFZpZXcudGVtcGxhdGUsIGVtYmVkZGVkTFZpZXdbQ09OVEVYVF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBNYXJrIHRyYW5zcGxhbnRlZCB2aWV3cyBhcyBuZWVkaW5nIHRvIGJlIHJlZnJlc2hlZCBhdCB0aGVpciBpbnNlcnRpb24gcG9pbnRzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB0aGF0IG1heSBoYXZlIHRyYW5zcGxhbnRlZCB2aWV3cy5cbiAqL1xuZnVuY3Rpb24gbWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaChsVmlldykge1xuICAgIGZvciAobGV0IGxDb250YWluZXIgPSBnZXRGaXJzdExDb250YWluZXIobFZpZXcpOyBsQ29udGFpbmVyICE9PSBudWxsOyBsQ29udGFpbmVyID0gZ2V0TmV4dExDb250YWluZXIobENvbnRhaW5lcikpIHtcbiAgICAgICAgaWYgKCFsQ29udGFpbmVyW0hBU19UUkFOU1BMQU5URURfVklFV1NdKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IG1vdmVkVmlld3MgPSBsQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobW92ZWRWaWV3cywgJ1RyYW5zcGxhbnRlZCBWaWV3IGZsYWdzIHNldCBidXQgbWlzc2luZyBNT1ZFRF9WSUVXUycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVkVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVkTFZpZXcgPSBtb3ZlZFZpZXdzW2ldO1xuICAgICAgICAgICAgY29uc3QgaW5zZXJ0aW9uTENvbnRhaW5lciA9IG1vdmVkTFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGluc2VydGlvbkxDb250YWluZXIpO1xuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIG1vdmVkIExWaWV3IHdhcyBhbHJlYWR5IG1hcmtlZCBmb3JcbiAgICAgICAgICAgIC8vIHJlZnJlc2guXG4gICAgICAgICAgICBpZiAoKG1vdmVkTFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc3BsYW50ZWRWaWV3Q291bnQoaW5zZXJ0aW9uTENvbnRhaW5lciwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3RlLCBpdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBgbW92ZWRWaWV3c2AgaXMgdHJhY2tpbmcgdmlld3MgdGhhdCBhcmUgdHJhbnNwbGFudGVkICphbmQqXG4gICAgICAgICAgICAvLyB0aG9zZSB0aGF0IGFyZW4ndCAoZGVjbGFyYXRpb24gY29tcG9uZW50ID09PSBpbnNlcnRpb24gY29tcG9uZW50KS4gSW4gdGhlIGxhdHRlciBjYXNlLFxuICAgICAgICAgICAgLy8gaXQncyBmaW5lIHRvIGFkZCB0aGUgZmxhZywgYXMgd2Ugd2lsbCBjbGVhciBpdCBpbW1lZGlhdGVseSBpblxuICAgICAgICAgICAgLy8gYHJlZnJlc2hFbWJlZGRlZFZpZXdzYCBmb3IgdGhlIHZpZXcgY3VycmVudGx5IGJlaW5nIHJlZnJlc2hlZC5cbiAgICAgICAgICAgIG1vdmVkTFZpZXdbRkxBR1NdIHw9IDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi87XG4gICAgICAgIH1cbiAgICB9XG59XG4vLy8vLy8vLy8vLy8vXG4vKipcbiAqIFJlZnJlc2hlcyBjb21wb25lbnRzIGJ5IGVudGVyaW5nIHRoZSBjb21wb25lbnQgdmlldyBhbmQgcHJvY2Vzc2luZyBpdHMgYmluZGluZ3MsIHF1ZXJpZXMsIGV0Yy5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50SG9zdElkeCAgRWxlbWVudCBpbmRleCBpbiBMVmlld1tdIChhZGp1c3RlZCBmb3IgSEVBREVSX09GRlNFVClcbiAqL1xuZnVuY3Rpb24gcmVmcmVzaENvbXBvbmVudChob3N0TFZpZXcsIGNvbXBvbmVudEhvc3RJZHgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUoaG9zdExWaWV3KSwgZmFsc2UsICdTaG91bGQgYmUgcnVuIGluIHVwZGF0ZSBtb2RlJyk7XG4gICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChjb21wb25lbnRIb3N0SWR4LCBob3N0TFZpZXcpO1xuICAgIC8vIE9ubHkgYXR0YWNoZWQgY29tcG9uZW50cyB0aGF0IGFyZSBDaGVja0Fsd2F5cyBvciBPblB1c2ggYW5kIGRpcnR5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICBpZiAodmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3Rvcihjb21wb25lbnRWaWV3KSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGNvbXBvbmVudFZpZXdbVFZJRVddO1xuICAgICAgICBpZiAoY29tcG9uZW50Vmlld1tGTEFHU10gJiAoMTYgLyogQ2hlY2tBbHdheXMgKi8gfCA2NCAvKiBEaXJ0eSAqLykpIHtcbiAgICAgICAgICAgIHJlZnJlc2hWaWV3KHRWaWV3LCBjb21wb25lbnRWaWV3LCB0Vmlldy50ZW1wbGF0ZSwgY29tcG9uZW50Vmlld1tDT05URVhUXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29tcG9uZW50Vmlld1tUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPiAwKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGF0dGFjaGVkIGNvbXBvbmVudHMgdGhhdCBhcmUgQ2hlY2tBbHdheXMgb3IgT25QdXNoIGFuZCBkaXJ0eSBzaG91bGQgYmUgcmVmcmVzaGVkXG4gICAgICAgICAgICByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcoY29tcG9uZW50Vmlldyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJlZnJlc2hlcyBhbGwgdHJhbnNwbGFudGVkIHZpZXdzIG1hcmtlZCB3aXRoIGBMVmlld0ZsYWdzLlJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3YCB0aGF0IGFyZVxuICogY2hpbGRyZW4gb3IgZGVzY2VuZGFudHMgb2YgdGhlIGdpdmVuIGxWaWV3LlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgbFZpZXcgd2hpY2ggY29udGFpbnMgZGVzY2VuZGFudCB0cmFuc3BsYW50ZWQgdmlld3MgdGhhdCBuZWVkIHRvIGJlIHJlZnJlc2hlZC5cbiAqL1xuZnVuY3Rpb24gcmVmcmVzaENvbnRhaW5zRGlydHlWaWV3KGxWaWV3KSB7XG4gICAgZm9yIChsZXQgbENvbnRhaW5lciA9IGdldEZpcnN0TENvbnRhaW5lcihsVmlldyk7IGxDb250YWluZXIgIT09IG51bGw7IGxDb250YWluZXIgPSBnZXROZXh0TENvbnRhaW5lcihsQ29udGFpbmVyKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZExWaWV3W0ZMQUdTXSAmIDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gZW1iZWRkZWRMVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZW1iZWRkZWRUVmlldywgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFZpZXcoZW1iZWRkZWRUVmlldywgZW1iZWRkZWRMVmlldywgZW1iZWRkZWRUVmlldy50ZW1wbGF0ZSwgZW1iZWRkZWRMVmlld1tDT05URVhUXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbWJlZGRlZExWaWV3W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA+IDApIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcoZW1iZWRkZWRMVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgLy8gUmVmcmVzaCBjaGlsZCBjb21wb25lbnQgdmlld3MuXG4gICAgY29uc3QgY29tcG9uZW50cyA9IHRWaWV3LmNvbXBvbmVudHM7XG4gICAgaWYgKGNvbXBvbmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbXBvbmVudHNbaV0sIGxWaWV3KTtcbiAgICAgICAgICAgIC8vIE9ubHkgYXR0YWNoZWQgY29tcG9uZW50cyB0aGF0IGFyZSBDaGVja0Fsd2F5cyBvciBPblB1c2ggYW5kIGRpcnR5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICAgICAgICAgIGlmICh2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKGNvbXBvbmVudFZpZXcpICYmXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Vmlld1tUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaENvbnRhaW5zRGlydHlWaWV3KGNvbXBvbmVudFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50JDEoaG9zdExWaWV3LCBjb21wb25lbnRIb3N0SWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGlzQ3JlYXRpb25Nb2RlKGhvc3RMVmlldyksIHRydWUsICdTaG91bGQgYmUgcnVuIGluIGNyZWF0aW9uIG1vZGUnKTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbXBvbmVudEhvc3RJZHgsIGhvc3RMVmlldyk7XG4gICAgY29uc3QgY29tcG9uZW50VFZpZXcgPSBjb21wb25lbnRWaWV3W1RWSUVXXTtcbiAgICBzeW5jVmlld1dpdGhCbHVlcHJpbnQoY29tcG9uZW50VFZpZXcsIGNvbXBvbmVudFZpZXcpO1xuICAgIHJlbmRlclZpZXcoY29tcG9uZW50VFZpZXcsIGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0pO1xufVxuLyoqXG4gKiBTeW5jcyBhbiBMVmlldyBpbnN0YW5jZSB3aXRoIGl0cyBibHVlcHJpbnQgaWYgdGhleSBoYXZlIGdvdHRlbiBvdXQgb2Ygc3luYy5cbiAqXG4gKiBUeXBpY2FsbHksIGJsdWVwcmludHMgYW5kIHRoZWlyIHZpZXcgaW5zdGFuY2VzIHNob3VsZCBhbHdheXMgYmUgaW4gc3luYywgc28gdGhlIGxvb3AgaGVyZVxuICogd2lsbCBiZSBza2lwcGVkLiBIb3dldmVyLCBjb25zaWRlciB0aGlzIGNhc2Ugb2YgdHdvIGNvbXBvbmVudHMgc2lkZS1ieS1zaWRlOlxuICpcbiAqIEFwcCB0ZW1wbGF0ZTpcbiAqIGBgYFxuICogPGNvbXA+PC9jb21wPlxuICogPGNvbXA+PC9jb21wPlxuICogYGBgXG4gKlxuICogVGhlIGZvbGxvd2luZyB3aWxsIGhhcHBlbjpcbiAqIDEuIEFwcCB0ZW1wbGF0ZSBiZWdpbnMgcHJvY2Vzc2luZy5cbiAqIDIuIEZpcnN0IDxjb21wPiBpcyBtYXRjaGVkIGFzIGEgY29tcG9uZW50IGFuZCBpdHMgTFZpZXcgaXMgY3JlYXRlZC5cbiAqIDMuIFNlY29uZCA8Y29tcD4gaXMgbWF0Y2hlZCBhcyBhIGNvbXBvbmVudCBhbmQgaXRzIExWaWV3IGlzIGNyZWF0ZWQuXG4gKiA0LiBBcHAgdGVtcGxhdGUgY29tcGxldGVzIHByb2Nlc3NpbmcsIHNvIGl0J3MgdGltZSB0byBjaGVjayBjaGlsZCB0ZW1wbGF0ZXMuXG4gKiA1LiBGaXJzdCA8Y29tcD4gdGVtcGxhdGUgaXMgY2hlY2tlZC4gSXQgaGFzIGEgZGlyZWN0aXZlLCBzbyBpdHMgZGVmIGlzIHB1c2hlZCB0byBibHVlcHJpbnQuXG4gKiA2LiBTZWNvbmQgPGNvbXA+IHRlbXBsYXRlIGlzIGNoZWNrZWQuIEl0cyBibHVlcHJpbnQgaGFzIGJlZW4gdXBkYXRlZCBieSB0aGUgZmlyc3RcbiAqIDxjb21wPiB0ZW1wbGF0ZSwgYnV0IGl0cyBMVmlldyB3YXMgY3JlYXRlZCBiZWZvcmUgdGhpcyB1cGRhdGUsIHNvIGl0IGlzIG91dCBvZiBzeW5jLlxuICpcbiAqIE5vdGUgdGhhdCBlbWJlZGRlZCB2aWV3cyBpbnNpZGUgbmdGb3IgbG9vcHMgd2lsbCBuZXZlciBiZSBvdXQgb2Ygc3luYyBiZWNhdXNlIHRoZXNlIHZpZXdzXG4gKiBhcmUgcHJvY2Vzc2VkIGFzIHNvb24gYXMgdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlld2AgdGhhdCBjb250YWlucyB0aGUgYmx1ZXByaW50IGZvciBzeW5jaW5nXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gc3luY1xuICovXG5mdW5jdGlvbiBzeW5jVmlld1dpdGhCbHVlcHJpbnQodFZpZXcsIGxWaWV3KSB7XG4gICAgZm9yIChsZXQgaSA9IGxWaWV3Lmxlbmd0aDsgaSA8IHRWaWV3LmJsdWVwcmludC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsVmlldy5wdXNoKHRWaWV3LmJsdWVwcmludFtpXSk7XG4gICAgfVxufVxuLyoqXG4gKiBBZGRzIExWaWV3IG9yIExDb250YWluZXIgdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCB2aWV3IHRyZWUuXG4gKlxuICogVGhpcyBzdHJ1Y3R1cmUgd2lsbCBiZSB1c2VkIHRvIHRyYXZlcnNlIHRocm91Z2ggbmVzdGVkIHZpZXdzIHRvIHJlbW92ZSBsaXN0ZW5lcnNcbiAqIGFuZCBjYWxsIG9uRGVzdHJveSBjYWxsYmFja3MuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHdoZXJlIExWaWV3IG9yIExDb250YWluZXIgc2hvdWxkIGJlIGFkZGVkXG4gKiBAcGFyYW0gYWRqdXN0ZWRIb3N0SW5kZXggSW5kZXggb2YgdGhlIHZpZXcncyBob3N0IG5vZGUgaW4gTFZpZXdbXSwgYWRqdXN0ZWQgZm9yIGhlYWRlclxuICogQHBhcmFtIGxWaWV3T3JMQ29udGFpbmVyIFRoZSBMVmlldyBvciBMQ29udGFpbmVyIHRvIGFkZCB0byB0aGUgdmlldyB0cmVlXG4gKiBAcmV0dXJucyBUaGUgc3RhdGUgcGFzc2VkIGluXG4gKi9cbmZ1bmN0aW9uIGFkZFRvVmlld1RyZWUobFZpZXcsIGxWaWV3T3JMQ29udGFpbmVyKSB7XG4gICAgLy8gVE9ETyhiZW5sZXNoL21pc2tvKTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBpbmNvcnJlY3QsIGJlY2F1c2UgaXQgYWx3YXlzIGFkZHMgdGhlIExDb250YWluZXJcbiAgICAvLyB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZSwgd2hpY2ggbWVhbnMgaWYgdGhlIGRldmVsb3BlciByZXRyaWV2ZXMgdGhlIExDb250YWluZXJzIGZyb20gUk5vZGVzIG91dFxuICAgIC8vIG9mIG9yZGVyLCB0aGUgY2hhbmdlIGRldGVjdGlvbiB3aWxsIHJ1biBvdXQgb2Ygb3JkZXIsIGFzIHRoZSBhY3Qgb2YgcmV0cmlldmluZyB0aGUgdGhlXG4gICAgLy8gTENvbnRhaW5lciBmcm9tIHRoZSBSTm9kZSBpcyB3aGF0IGFkZHMgaXQgdG8gdGhlIHF1ZXVlLlxuICAgIGlmIChsVmlld1tDSElMRF9IRUFEXSkge1xuICAgICAgICBsVmlld1tDSElMRF9UQUlMXVtORVhUXSA9IGxWaWV3T3JMQ29udGFpbmVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbFZpZXdbQ0hJTERfSEVBRF0gPSBsVmlld09yTENvbnRhaW5lcjtcbiAgICB9XG4gICAgbFZpZXdbQ0hJTERfVEFJTF0gPSBsVmlld09yTENvbnRhaW5lcjtcbiAgICByZXR1cm4gbFZpZXdPckxDb250YWluZXI7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIENoYW5nZSBkZXRlY3Rpb25cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogTWFya3MgY3VycmVudCB2aWV3IGFuZCBhbGwgYW5jZXN0b3JzIGRpcnR5LlxuICpcbiAqIFJldHVybnMgdGhlIHJvb3QgdmlldyBiZWNhdXNlIGl0IGlzIGZvdW5kIGFzIGEgYnlwcm9kdWN0IG9mIG1hcmtpbmcgdGhlIHZpZXcgdHJlZVxuICogZGlydHksIGFuZCBjYW4gYmUgdXNlZCBieSBtZXRob2RzIHRoYXQgY29uc3VtZSBtYXJrVmlld0RpcnR5KCkgdG8gZWFzaWx5IHNjaGVkdWxlXG4gKiBjaGFuZ2UgZGV0ZWN0aW9uLiBPdGhlcndpc2UsIHN1Y2ggbWV0aG9kcyB3b3VsZCBuZWVkIHRvIHRyYXZlcnNlIHVwIHRoZSB2aWV3IHRyZWVcbiAqIGFuIGFkZGl0aW9uYWwgdGltZSB0byBnZXQgdGhlIHJvb3QgdmlldyBhbmQgc2NoZWR1bGUgYSB0aWNrIG9uIGl0LlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgc3RhcnRpbmcgTFZpZXcgdG8gbWFyayBkaXJ0eVxuICogQHJldHVybnMgdGhlIHJvb3QgTFZpZXdcbiAqL1xuZnVuY3Rpb24gbWFya1ZpZXdEaXJ0eShsVmlldykge1xuICAgIHdoaWxlIChsVmlldykge1xuICAgICAgICBsVmlld1tGTEFHU10gfD0gNjQgLyogRGlydHkgKi87XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldExWaWV3UGFyZW50KGxWaWV3KTtcbiAgICAgICAgLy8gU3RvcCB0cmF2ZXJzaW5nIHVwIGFzIHNvb24gYXMgeW91IGZpbmQgYSByb290IHZpZXcgdGhhdCB3YXNuJ3QgYXR0YWNoZWQgdG8gYW55IGNvbnRhaW5lclxuICAgICAgICBpZiAoaXNSb290VmlldyhsVmlldykgJiYgIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGxWaWV3O1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnRpbnVlIG90aGVyd2lzZVxuICAgICAgICBsVmlldyA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFVzZWQgdG8gc2NoZWR1bGUgY2hhbmdlIGRldGVjdGlvbiBvbiB0aGUgd2hvbGUgYXBwbGljYXRpb24uXG4gKlxuICogVW5saWtlIGB0aWNrYCwgYHNjaGVkdWxlVGlja2AgY29hbGVzY2VzIG11bHRpcGxlIGNhbGxzIGludG8gb25lIGNoYW5nZSBkZXRlY3Rpb24gcnVuLlxuICogSXQgaXMgdXN1YWxseSBjYWxsZWQgaW5kaXJlY3RseSBieSBjYWxsaW5nIGBtYXJrRGlydHlgIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmVcbiAqIHJlLXJlbmRlcmVkLlxuICpcbiAqIFR5cGljYWxseSBgc2NoZWR1bGVUaWNrYCB1c2VzIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIHRvIGNvYWxlc2NlIG11bHRpcGxlXG4gKiBgc2NoZWR1bGVUaWNrYCByZXF1ZXN0cy4gVGhlIHNjaGVkdWxpbmcgZnVuY3Rpb24gY2FuIGJlIG92ZXJyaWRkZW4gaW5cbiAqIGByZW5kZXJDb21wb25lbnRgJ3MgYHNjaGVkdWxlcmAgb3B0aW9uLlxuICovXG5mdW5jdGlvbiBzY2hlZHVsZVRpY2socm9vdENvbnRleHQsIGZsYWdzKSB7XG4gICAgY29uc3Qgbm90aGluZ1NjaGVkdWxlZCA9IHJvb3RDb250ZXh0LmZsYWdzID09PSAwIC8qIEVtcHR5ICovO1xuICAgIGlmIChub3RoaW5nU2NoZWR1bGVkICYmIHJvb3RDb250ZXh0LmNsZWFuID09IF9DTEVBTl9QUk9NSVNFKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM5Mjk2XG4gICAgICAgIC8vIHNob3VsZCBvbmx5IGF0dGFjaCB0aGUgZmxhZ3Mgd2hlbiByZWFsbHkgc2NoZWR1bGluZyBhIHRpY2tcbiAgICAgICAgcm9vdENvbnRleHQuZmxhZ3MgfD0gZmxhZ3M7XG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIHJvb3RDb250ZXh0LmNsZWFuID0gbmV3IFByb21pc2UoKHIpID0+IHJlcyA9IHIpO1xuICAgICAgICByb290Q29udGV4dC5zY2hlZHVsZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJvb3RDb250ZXh0LmZsYWdzICYgMSAvKiBEZXRlY3RDaGFuZ2VzICovKSB7XG4gICAgICAgICAgICAgICAgcm9vdENvbnRleHQuZmxhZ3MgJj0gfjEgLyogRGV0ZWN0Q2hhbmdlcyAqLztcbiAgICAgICAgICAgICAgICB0aWNrUm9vdENvbnRleHQocm9vdENvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvb3RDb250ZXh0LmZsYWdzICYgMiAvKiBGbHVzaFBsYXllcnMgKi8pIHtcbiAgICAgICAgICAgICAgICByb290Q29udGV4dC5mbGFncyAmPSB+MiAvKiBGbHVzaFBsYXllcnMgKi87XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGFuZGxlciA9IHJvb3RDb250ZXh0LnBsYXllckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySGFuZGxlci5mbHVzaFBsYXllcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290Q29udGV4dC5jbGVhbiA9IF9DTEVBTl9QUk9NSVNFO1xuICAgICAgICAgICAgcmVzKG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aWNrUm9vdENvbnRleHQocm9vdENvbnRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3RDb250ZXh0LmNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgcm9vdENvbXBvbmVudCA9IHJvb3RDb250ZXh0LmNvbXBvbmVudHNbaV07XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gcmVhZFBhdGNoZWRMVmlldyhyb290Q29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgIHJlbmRlckNvbXBvbmVudE9yVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0Vmlldy50ZW1wbGF0ZSwgcm9vdENvbXBvbmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRWaWV3LCBsVmlldywgY29udGV4dCkge1xuICAgIGNvbnN0IHJlbmRlcmVyRmFjdG9yeSA9IGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldO1xuICAgIGlmIChyZW5kZXJlckZhY3RvcnkuYmVnaW4pXG4gICAgICAgIHJlbmRlcmVyRmFjdG9yeS5iZWdpbigpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlZnJlc2hWaWV3KHRWaWV3LCBsVmlldywgdFZpZXcudGVtcGxhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IobFZpZXcsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmVuZClcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5lbmQoKTtcbiAgICB9XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGEgcm9vdCB2aWV3IGFuZCBpdHMgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgd2hpY2ggdGhlIGNoYW5nZSBkZXRlY3Rpb24gc2hvdWxkIGJlIHBlcmZvcm1lZCBvbi5cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXcobFZpZXcpIHtcbiAgICB0aWNrUm9vdENvbnRleHQobFZpZXdbQ09OVEVYVF0pO1xufVxuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNJbnRlcm5hbCh0VmlldywgdmlldywgY29udGV4dCkge1xuICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRWaWV3LCB2aWV3LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUoZmFsc2UpO1xuICAgIH1cbn1cbi8qKlxuICogQ2hlY2tzIHRoZSBjaGFuZ2UgZGV0ZWN0b3Igb24gYSByb290IHZpZXcgYW5kIGl0cyBjb21wb25lbnRzLCBhbmQgdGhyb3dzIGlmIGFueSBjaGFuZ2VzIGFyZVxuICogZGV0ZWN0ZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIGluIGRldmVsb3BtZW50IG1vZGUgdG8gdmVyaWZ5IHRoYXQgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uIGRvZXNuJ3RcbiAqIGludHJvZHVjZSBvdGhlciBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgY2hlY2tlZCBvbi5cbiAqL1xuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNJblJvb3RWaWV3KGxWaWV3KSB7XG4gICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW5Sb290VmlldyhsVmlldyk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKGZhbHNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlVmlld1F1ZXJ5Rm4oZmxhZ3MsIHZpZXdRdWVyeUZuLCBjb21wb25lbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh2aWV3UXVlcnlGbiwgJ1ZpZXcgcXVlcmllcyBmdW5jdGlvbiB0byBleGVjdXRlIG11c3QgYmUgZGVmaW5lZC4nKTtcbiAgICBzZXRDdXJyZW50UXVlcnlJbmRleCgwKTtcbiAgICB2aWV3UXVlcnlGbihmbGFncywgY29tcG9uZW50KTtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gQmluZGluZ3MgJiBpbnRlcnBvbGF0aW9uc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBTdG9yZXMgbWV0YS1kYXRhIGZvciBhIHByb3BlcnR5IGJpbmRpbmcgdG8gYmUgdXNlZCBieSBUZXN0QmVkJ3MgYERlYnVnRWxlbWVudC5wcm9wZXJ0aWVzYC5cbiAqXG4gKiBJbiBvcmRlciB0byBzdXBwb3J0IFRlc3RCZWQncyBgRGVidWdFbGVtZW50LnByb3BlcnRpZXNgIHdlIG5lZWQgdG8gc2F2ZSwgZm9yIGVhY2ggYmluZGluZzpcbiAqIC0gYSBib3VuZCBwcm9wZXJ0eSBuYW1lO1xuICogLSBhIHN0YXRpYyBwYXJ0cyBvZiBpbnRlcnBvbGF0ZWQgc3RyaW5ncztcbiAqXG4gKiBBIGdpdmVuIHByb3BlcnR5IG1ldGFkYXRhIGlzIHNhdmVkIGF0IHRoZSBiaW5kaW5nJ3MgaW5kZXggaW4gdGhlIGBUVmlldy5kYXRhYCAoaW4gb3RoZXIgd29yZHMsIGFcbiAqIHByb3BlcnR5IGJpbmRpbmcgbWV0YWRhdGEgd2lsbCBiZSBzdG9yZWQgaW4gYFRWaWV3LmRhdGFgIGF0IHRoZSBzYW1lIGluZGV4IGFzIGEgYm91bmQgdmFsdWUgaW5cbiAqIGBMVmlld2ApLiBNZXRhZGF0YSBhcmUgcmVwcmVzZW50ZWQgYXMgYElOVEVSUE9MQVRJT05fREVMSU1JVEVSYC1kZWxpbWl0ZWQgc3RyaW5nIHdpdGggdGhlXG4gKiBmb2xsb3dpbmcgZm9ybWF0OlxuICogLSBgcHJvcGVydHlOYW1lYCBmb3IgYm91bmQgcHJvcGVydGllcztcbiAqIC0gYHByb3BlcnR5TmFtZe+/vXByZWZpeO+/vWludGVycG9sYXRpb25fc3RhdGljX3BhcnQx77+9Li5pbnRlcnBvbGF0aW9uX3N0YXRpY19wYXJ0Tu+/vXN1ZmZpeGAgZm9yXG4gKiBpbnRlcnBvbGF0ZWQgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSBtZXRhLWRhdGEgd2lsbCBiZSBzYXZlZDtcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHRoYXQgaXMgYSB0YXJnZXQgb2YgdGhlIGJpbmRpbmc7XG4gKiBAcGFyYW0gcHJvcGVydHlOYW1lIGJvdW5kIHByb3BlcnR5IG5hbWU7XG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IGJpbmRpbmcgaW5kZXggaW4gYExWaWV3YFxuICogQHBhcmFtIGludGVycG9sYXRpb25QYXJ0cyBzdGF0aWMgaW50ZXJwb2xhdGlvbiBwYXJ0cyAoZm9yIHByb3BlcnR5IGludGVycG9sYXRpb25zKVxuICovXG5mdW5jdGlvbiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHREYXRhLCB0Tm9kZSwgcHJvcGVydHlOYW1lLCBiaW5kaW5nSW5kZXgsIC4uLmludGVycG9sYXRpb25QYXJ0cykge1xuICAgIC8vIEJpbmRpbmcgbWV0YS1kYXRhIGFyZSBzdG9yZWQgb25seSB0aGUgZmlyc3QgdGltZSBhIGdpdmVuIHByb3BlcnR5IGluc3RydWN0aW9uIGlzIHByb2Nlc3NlZC5cbiAgICAvLyBTaW5jZSB3ZSBkb24ndCBoYXZlIGEgY29uY2VwdCBvZiB0aGUgXCJmaXJzdCB1cGRhdGUgcGFzc1wiIHdlIG5lZWQgdG8gY2hlY2sgZm9yIHByZXNlbmNlIG9mIHRoZVxuICAgIC8vIGJpbmRpbmcgbWV0YS1kYXRhIHRvIGRlY2lkZSBpZiBvbmUgc2hvdWxkIGJlIHN0b3JlZCAob3IgaWYgd2FzIHN0b3JlZCBhbHJlYWR5KS5cbiAgICBpZiAodERhdGFbYmluZGluZ0luZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAodE5vZGUuaW5wdXRzID09IG51bGwgfHwgIXROb2RlLmlucHV0c1twcm9wZXJ0eU5hbWVdKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wQmluZGluZ0lkeHMgPSB0Tm9kZS5wcm9wZXJ0eUJpbmRpbmdzIHx8ICh0Tm9kZS5wcm9wZXJ0eUJpbmRpbmdzID0gW10pO1xuICAgICAgICAgICAgcHJvcEJpbmRpbmdJZHhzLnB1c2goYmluZGluZ0luZGV4KTtcbiAgICAgICAgICAgIGxldCBiaW5kaW5nTWV0YWRhdGEgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvblBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nTWV0YWRhdGEgKz1cbiAgICAgICAgICAgICAgICAgICAgSU5URVJQT0xBVElPTl9ERUxJTUlURVIgKyBpbnRlcnBvbGF0aW9uUGFydHMuam9pbihJTlRFUlBPTEFUSU9OX0RFTElNSVRFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0RGF0YVtiaW5kaW5nSW5kZXhdID0gYmluZGluZ01ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgQ0xFQU5fUFJPTUlTRSA9IF9DTEVBTl9QUk9NSVNFO1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAodmlldykge1xuICAgIC8vIHRvcCBsZXZlbCB2YXJpYWJsZXMgc2hvdWxkIG5vdCBiZSBleHBvcnRlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoUEVSRl9OT1RFUy5tZClcbiAgICByZXR1cm4gdmlld1tDTEVBTlVQXSB8fCAodmlld1tDTEVBTlVQXSA9IG5nRGV2TW9kZSA/IG5ldyBMQ2xlYW51cCgpIDogW10pO1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpIHtcbiAgICByZXR1cm4gdFZpZXcuY2xlYW51cCB8fCAodFZpZXcuY2xlYW51cCA9IG5nRGV2TW9kZSA/IG5ldyBUQ2xlYW51cCgpIDogW10pO1xufVxuLyoqXG4gKiBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgdGhlIHN1YiBjb21wb25lbnQncyByZW5kZXJlciBuZWVkcyB0byBiZSBpbmNsdWRlZFxuICogaW5zdGVhZCBvZiB0aGUgY3VycmVudCByZW5kZXJlciAoc2VlIHRoZSBjb21wb25lbnRTeW50aGV0aWNIb3N0KiBpbnN0cnVjdGlvbnMpLlxuICovXG5mdW5jdGlvbiBsb2FkQ29tcG9uZW50UmVuZGVyZXIoY3VycmVudERlZiwgdE5vZGUsIGxWaWV3KSB7XG4gICAgLy8gVE9ETyhGVy0yMDQzKTogdGhlIGBjdXJyZW50RGVmYCBpcyBudWxsIHdoZW4gaG9zdCBiaW5kaW5ncyBhcmUgaW52b2tlZCB3aGlsZSBjcmVhdGluZyByb290XG4gICAgLy8gY29tcG9uZW50IChzZWUgcGFja2FnZXMvY29yZS9zcmMvcmVuZGVyMy9jb21wb25lbnQudHMpLiBUaGlzIGlzIG5vdCBjb25zaXN0ZW50IHdpdGggdGhlIHByb2Nlc3NcbiAgICAvLyBvZiBjcmVhdGluZyBpbm5lciBjb21wb25lbnRzLCB3aGVuIGN1cnJlbnQgZGlyZWN0aXZlIGluZGV4IGlzIGF2YWlsYWJsZSBpbiB0aGUgc3RhdGUuIEluIG9yZGVyXG4gICAgLy8gdG8gYXZvaWQgcmVseWluZyBvbiBjdXJyZW50IGRlZiBiZWluZyBgbnVsbGAgKHRodXMgc3BlY2lhbC1jYXNpbmcgcm9vdCBjb21wb25lbnQgY3JlYXRpb24pLCB0aGVcbiAgICAvLyBwcm9jZXNzIG9mIGNyZWF0aW5nIHJvb3QgY29tcG9uZW50IHNob3VsZCBiZSB1bmlmaWVkIHdpdGggdGhlIHByb2Nlc3Mgb2YgY3JlYXRpbmcgaW5uZXJcbiAgICAvLyBjb21wb25lbnRzLlxuICAgIGlmIChjdXJyZW50RGVmID09PSBudWxsIHx8IGlzQ29tcG9uZW50RGVmKGN1cnJlbnREZWYpKSB7XG4gICAgICAgIGxWaWV3ID0gdW53cmFwTFZpZXcobFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICB9XG4gICAgcmV0dXJuIGxWaWV3W1JFTkRFUkVSXTtcbn1cbi8qKiBIYW5kbGVzIGFuIGVycm9yIHRocm93biBpbiBhbiBMVmlldy4gKi9cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGxWaWV3LCBlcnJvcikge1xuICAgIGNvbnN0IGluamVjdG9yID0gbFZpZXdbSU5KRUNUT1IkMV07XG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gaW5qZWN0b3IgPyBpbmplY3Rvci5nZXQoRXJyb3JIYW5kbGVyLCBudWxsKSA6IG51bGw7XG4gICAgZXJyb3JIYW5kbGVyICYmIGVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlcnJvcik7XG59XG4vKipcbiAqIFNldCB0aGUgaW5wdXRzIG9mIGRpcmVjdGl2ZXMgYXQgdGhlIGN1cnJlbnQgbm9kZSB0byBjb3JyZXNwb25kaW5nIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgY3VycmVudCBUVmlld1xuICogQHBhcmFtIGxWaWV3IHRoZSBgTFZpZXdgIHdoaWNoIGNvbnRhaW5zIHRoZSBkaXJlY3RpdmVzLlxuICogQHBhcmFtIGlucHV0cyBtYXBwaW5nIGJldHdlZW4gdGhlIHB1YmxpYyBcImlucHV0XCIgbmFtZSBhbmQgcHJpdmF0ZWx5LWtub3duLFxuICogICAgICAgIHBvc3NpYmx5IG1pbmlmaWVkLCBwcm9wZXJ0eSBuYW1lcyB0byB3cml0ZSB0by5cbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldElucHV0c0ZvclByb3BlcnR5KHRWaWV3LCBsVmlldywgaW5wdXRzLCBwdWJsaWNOYW1lLCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDspIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBpbnB1dHNbaSsrXTtcbiAgICAgICAgY29uc3QgcHJpdmF0ZU5hbWUgPSBpbnB1dHNbaSsrXTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBsVmlld1tpbmRleF07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChkZWYuc2V0SW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlZi5zZXRJbnB1dChpbnN0YW5jZSwgdmFsdWUsIHB1YmxpY05hbWUsIHByaXZhdGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc3RhbmNlW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGVzIGEgdGV4dCBiaW5kaW5nIGF0IGEgZ2l2ZW4gaW5kZXggaW4gYSBnaXZlbiBMVmlldy5cbiAqL1xuZnVuY3Rpb24gdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgaW5kZXgsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyh2YWx1ZSwgJ1ZhbHVlIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICd2YWx1ZSBzaG91bGQgbm90IGJlIE5PX0NIQU5HRScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgbFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGVsZW1lbnQsICduYXRpdmUgZWxlbWVudCBzaG91bGQgZXhpc3QnKTtcbiAgICB1cGRhdGVUZXh0Tm9kZShsVmlld1tSRU5ERVJFUl0sIGVsZW1lbnQsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbXB1dGUgdGhlIHN0YXRpYyBzdHlsaW5nIChjbGFzcy9zdHlsZSkgZnJvbSBgVEF0dHJpYnV0ZXNgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgYGZpcnN0Q3JlYXRlUGFzc2Agb25seS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIGBUTm9kZWAgaW50byB3aGljaCB0aGUgc3R5bGluZyBpbmZvcm1hdGlvbiBzaG91bGQgYmUgbG9hZGVkLlxuICogQHBhcmFtIGF0dHJzIGBUQXR0cmlidXRlc2AgY29udGFpbmluZyB0aGUgc3R5bGluZyBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB3cml0ZVRvSG9zdCBXaGVyZSBzaG91bGQgdGhlIHJlc3VsdGluZyBzdGF0aWMgc3R5bGVzIGJlIHdyaXR0ZW4/XG4gKiAgIC0gYGZhbHNlYCBXcml0ZSB0byBgVE5vZGUuc3R5bGVzV2l0aG91dEhvc3RgIC8gYFROb2RlLmNsYXNzZXNXaXRob3V0SG9zdGBcbiAqICAgLSBgdHJ1ZWAgV3JpdGUgdG8gYFROb2RlLnN0eWxlc2AgLyBgVE5vZGUuY2xhc3Nlc2BcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIGF0dHJzLCB3cml0ZVRvSG9zdCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3MoZ2V0VFZpZXcoKSwgJ0V4cGVjdGluZyB0byBiZSBjYWxsZWQgaW4gZmlyc3QgdGVtcGxhdGUgcGFzcyBvbmx5Jyk7XG4gICAgbGV0IHN0eWxlcyA9IHdyaXRlVG9Ib3N0ID8gdE5vZGUuc3R5bGVzIDogbnVsbDtcbiAgICBsZXQgY2xhc3NlcyA9IHdyaXRlVG9Ib3N0ID8gdE5vZGUuY2xhc3NlcyA6IG51bGw7XG4gICAgbGV0IG1vZGUgPSAwO1xuICAgIGlmIChhdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBtb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09IDEgLyogQ2xhc3NlcyAqLykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBjb25jYXRTdHJpbmdzV2l0aFNwYWNlKGNsYXNzZXMsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgICAgIHN0eWxlcyA9IGNvbmNhdFN0cmluZ3NXaXRoU3BhY2Uoc3R5bGVzLCBzdHlsZSArICc6ICcgKyBzdHlsZVZhbHVlICsgJzsnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB3cml0ZVRvSG9zdCA/IHROb2RlLnN0eWxlcyA9IHN0eWxlcyA6IHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0ID0gc3R5bGVzO1xuICAgIHdyaXRlVG9Ib3N0ID8gdE5vZGUuY2xhc3NlcyA9IGNsYXNzZXMgOiB0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QgPSBjbGFzc2VzO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3luY2hyb25vdXNseSBwZXJmb3JtIGNoYW5nZSBkZXRlY3Rpb24gb24gYSBjb21wb25lbnQgKGFuZCBwb3NzaWJseSBpdHMgc3ViLWNvbXBvbmVudHMpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdHJpZ2dlcnMgY2hhbmdlIGRldGVjdGlvbiBpbiBhIHN5bmNocm9ub3VzIHdheSBvbiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgd2hpY2ggdGhlIGNoYW5nZSBkZXRlY3Rpb24gc2hvdWxkIGJlIHBlcmZvcm1lZCBvbi5cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlcyhjb21wb25lbnQpIHtcbiAgICBjb25zdCB2aWV3ID0gZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50KTtcbiAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodmlld1tUVklFV10sIHZpZXcsIGNvbXBvbmVudCk7XG59XG4vKipcbiAqIE1hcmtzIHRoZSBjb21wb25lbnQgYXMgZGlydHkgKG5lZWRpbmcgY2hhbmdlIGRldGVjdGlvbikuIE1hcmtpbmcgYSBjb21wb25lbnQgZGlydHkgd2lsbFxuICogc2NoZWR1bGUgYSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGl0IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAqXG4gKiBNYXJraW5nIGFuIGFscmVhZHkgZGlydHkgY29tcG9uZW50IGFzIGRpcnR5IHdvbid0IGRvIGFueXRoaW5nLiBPbmx5IG9uZSBvdXRzdGFuZGluZyBjaGFuZ2VcbiAqIGRldGVjdGlvbiBjYW4gYmUgc2NoZWR1bGVkIHBlciBjb21wb25lbnQgdHJlZS5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCB0byBtYXJrIGFzIGRpcnR5LlxuICovXG5mdW5jdGlvbiBtYXJrRGlydHkoY29tcG9uZW50KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY29tcG9uZW50LCAnY29tcG9uZW50Jyk7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSBtYXJrVmlld0RpcnR5KGdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlKGNvbXBvbmVudCkpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJvb3RWaWV3W0NPTlRFWFRdLCAncm9vdENvbnRleHQgc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICBzY2hlZHVsZVRpY2socm9vdFZpZXdbQ09OVEVYVF0sIDEgLyogRGV0ZWN0Q2hhbmdlcyAqLyk7XG59XG4vKipcbiAqIFVzZWQgdG8gcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYGRldGVjdENoYW5nZXNgLCBidXQgaW52b2tlZCBvbiByb290IGNvbXBvbmVudC4gQWRkaXRpb25hbGx5LCBgdGlja2BcbiAqIGV4ZWN1dGVzIGxpZmVjeWNsZSBob29rcyBhbmQgY29uZGl0aW9uYWxseSBjaGVja3MgY29tcG9uZW50cyBiYXNlZCBvbiB0aGVpclxuICogYENoYW5nZURldGVjdGlvblN0cmF0ZWd5YCBhbmQgZGlydGluZXNzLlxuICpcbiAqIFRoZSBwcmVmZXJyZWQgd2F5IHRvIHRyaWdnZXIgY2hhbmdlIGRldGVjdGlvbiBpcyB0byBjYWxsIGBtYXJrRGlydHlgLiBgbWFya0RpcnR5YCBpbnRlcm5hbGx5XG4gKiBzY2hlZHVsZXMgYHRpY2tgIHVzaW5nIGEgc2NoZWR1bGVyIGluIG9yZGVyIHRvIGNvYWxlc2NlIG11bHRpcGxlIGBtYXJrRGlydHlgIGNhbGxzIGludG8gYVxuICogc2luZ2xlIGNoYW5nZSBkZXRlY3Rpb24gcnVuLiBCeSBkZWZhdWx0LCB0aGUgc2NoZWR1bGVyIGlzIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLCBidXQgY2FuXG4gKiBiZSBjaGFuZ2VkIHdoZW4gY2FsbGluZyBgcmVuZGVyQ29tcG9uZW50YCBhbmQgcHJvdmlkaW5nIHRoZSBgc2NoZWR1bGVyYCBvcHRpb24uXG4gKi9cbmZ1bmN0aW9uIHRpY2soY29tcG9uZW50KSB7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSBnZXRSb290Vmlldyhjb21wb25lbnQpO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gcm9vdFZpZXdbQ09OVEVYVF07XG4gICAgdGlja1Jvb3RDb250ZXh0KHJvb3RDb250ZXh0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIEluamVjdGlvblRva2VuIHRoYXQgZ2V0cyB0aGUgY3VycmVudCBgSW5qZWN0b3JgIGZvciBgY3JlYXRlSW5qZWN0b3IoKWAtc3R5bGUgaW5qZWN0b3JzLlxuICpcbiAqIFJlcXVlc3RpbmcgdGhpcyB0b2tlbiBpbnN0ZWFkIG9mIGBJbmplY3RvcmAgYWxsb3dzIGBTdGF0aWNJbmplY3RvcmAgdG8gYmUgdHJlZS1zaGFrZW4gZnJvbSBhXG4gKiBwcm9qZWN0LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSU5KRUNUT1IgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0lOSkVDVE9SJywgXG4vLyBEaXNzYWJsZSB0c2xpbnQgYmVjYXVzZSB0aGlzIGlzIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkIG5vdCB0b3AgbGV2ZWwgcHJvcCBhY2Nlc3MuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuLTEgLyogSW5qZWN0b3IgKi8pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIE51bGxJbmplY3RvciB7XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlID09PSBUSFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBOdWxsSW5qZWN0b3JFcnJvcjogTm8gcHJvdmlkZXIgZm9yICR7c3RyaW5naWZ5KHRva2VuKX0hYCk7XG4gICAgICAgICAgICBlcnJvci5uYW1lID0gJ051bGxJbmplY3RvckVycm9yJztcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGludGVybmFsIHRva2VuIHdob3NlIHByZXNlbmNlIGluIGFuIGluamVjdG9yIGluZGljYXRlcyB0aGF0IHRoZSBpbmplY3RvciBzaG91bGQgdHJlYXQgaXRzZWxmXG4gKiBhcyBhIHJvb3Qgc2NvcGVkIGluamVjdG9yIHdoZW4gcHJvY2Vzc2luZyByZXF1ZXN0cyBmb3IgdW5rbm93biB0b2tlbnMgd2hpY2ggbWF5IGluZGljYXRlXG4gKiB0aGV5IGFyZSBwcm92aWRlZCBpbiB0aGUgcm9vdCBzY29wZS5cbiAqL1xuY29uc3QgSU5KRUNUT1JfU0NPUEUgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1NldCBJbmplY3RvciBzY29wZS4nKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtlciB3aGljaCBpbmRpY2F0ZXMgdGhhdCBhIHZhbHVlIGhhcyBub3QgeWV0IGJlZW4gY3JlYXRlZCBmcm9tIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICovXG5jb25zdCBOT1RfWUVUID0ge307XG4vKipcbiAqIE1hcmtlciB3aGljaCBpbmRpY2F0ZXMgdGhhdCB0aGUgZmFjdG9yeSBmdW5jdGlvbiBmb3IgYSB0b2tlbiBpcyBpbiB0aGUgcHJvY2VzcyBvZiBiZWluZyBjYWxsZWQuXG4gKlxuICogSWYgdGhlIGluamVjdG9yIGlzIGFza2VkIHRvIGluamVjdCBhIHRva2VuIHdpdGggaXRzIHZhbHVlIHNldCB0byBDSVJDVUxBUiwgdGhhdCBpbmRpY2F0ZXNcbiAqIGluamVjdGlvbiBvZiBhIGRlcGVuZGVuY3kgaGFzIHJlY3Vyc2l2ZWx5IGF0dGVtcHRlZCB0byBpbmplY3QgdGhlIG9yaWdpbmFsIHRva2VuLCBhbmQgdGhlcmUgaXNcbiAqIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBhbW9uZyB0aGUgcHJvdmlkZXJzLlxuICovXG5jb25zdCBDSVJDVUxBUiA9IHt9O1xuLyoqXG4gKiBBIGxhemlseSBpbml0aWFsaXplZCBOdWxsSW5qZWN0b3IuXG4gKi9cbmxldCBOVUxMX0lOSkVDVE9SJDEgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBnZXROdWxsSW5qZWN0b3IoKSB7XG4gICAgaWYgKE5VTExfSU5KRUNUT1IkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIE5VTExfSU5KRUNUT1IkMSA9IG5ldyBOdWxsSW5qZWN0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIE5VTExfSU5KRUNUT1IkMTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGBJbmplY3RvcmAgd2hpY2ggaXMgY29uZmlndXJlZCB1c2luZyBhIGBkZWZUeXBlYCBvZiBgSW5qZWN0b3JUeXBlPGFueT5gcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKGRlZlR5cGUsIHBhcmVudCA9IG51bGwsIGFkZGl0aW9uYWxQcm92aWRlcnMgPSBudWxsLCBuYW1lKSB7XG4gICAgY29uc3QgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3RvcldpdGhvdXRJbmplY3Rvckluc3RhbmNlcyhkZWZUeXBlLCBwYXJlbnQsIGFkZGl0aW9uYWxQcm92aWRlcnMsIG5hbWUpO1xuICAgIGluamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpO1xuICAgIHJldHVybiBpbmplY3Rvcjtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbmplY3RvciB3aXRob3V0IGVhZ2VybHkgcmVzb2x2aW5nIGl0cyBpbmplY3RvciB0eXBlcy4gQ2FuIGJlIHVzZWQgaW4gcGxhY2VzXG4gKiB3aGVyZSByZXNvbHZpbmcgdGhlIGluamVjdG9yIHR5cGVzIGltbWVkaWF0ZWx5IGNhbiBsZWFkIHRvIGFuIGluZmluaXRlIGxvb3AuIFRoZSBpbmplY3RvciB0eXBlc1xuICogc2hvdWxkIGJlIHJlc29sdmVkIGF0IGEgbGF0ZXIgcG9pbnQgYnkgY2FsbGluZyBgX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzYC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3JXaXRob3V0SW5qZWN0b3JJbnN0YW5jZXMoZGVmVHlwZSwgcGFyZW50ID0gbnVsbCwgYWRkaXRpb25hbFByb3ZpZGVycyA9IG51bGwsIG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFIzSW5qZWN0b3IoZGVmVHlwZSwgYWRkaXRpb25hbFByb3ZpZGVycywgcGFyZW50IHx8IGdldE51bGxJbmplY3RvcigpLCBuYW1lKTtcbn1cbmNsYXNzIFIzSW5qZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRlZiwgYWRkaXRpb25hbFByb3ZpZGVycywgcGFyZW50LCBzb3VyY2UgPSBudWxsKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHRva2VucyB0byByZWNvcmRzIHdoaWNoIGNvbnRhaW4gdGhlIGluc3RhbmNlcyBvZiB0aG9zZSB0b2tlbnMuXG4gICAgICAgICAqIC0gYG51bGxgIHZhbHVlIGltcGxpZXMgdGhhdCB3ZSBkb24ndCBoYXZlIHRoZSByZWNvcmQuIFVzZWQgYnkgdHJlZS1zaGFrYWJsZSBpbmplY3RvcnNcbiAgICAgICAgICogdG8gcHJldmVudCBmdXJ0aGVyIHNlYXJjaGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNvcmRzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zaXRpdmUgc2V0IG9mIGBJbmplY3RvclR5cGVgcyB3aGljaCBkZWZpbmUgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBvZiB2YWx1ZXMgaW5zdGFudGlhdGVkIGJ5IHRoaXMgaW5qZWN0b3Igd2hpY2ggY29udGFpbiBgbmdPbkRlc3Ryb3lgIGxpZmVjeWNsZSBob29rcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25EZXN0cm95ID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZGVkdXBTdGFjayA9IFtdO1xuICAgICAgICAvLyBTdGFydCBvZmYgYnkgY3JlYXRpbmcgUmVjb3JkcyBmb3IgZXZlcnkgcHJvdmlkZXIgZGVjbGFyZWQgaW4gZXZlcnkgSW5qZWN0b3JUeXBlXG4gICAgICAgIC8vIGluY2x1ZGVkIHRyYW5zaXRpdmVseSBpbiBhZGRpdGlvbmFsIHByb3ZpZGVycyB0aGVuIGRvIHRoZSBzYW1lIGZvciBgZGVmYC4gVGhpcyBvcmRlciBpc1xuICAgICAgICAvLyBpbXBvcnRhbnQgYmVjYXVzZSBgZGVmYCBtYXkgaW5jbHVkZSBwcm92aWRlcnMgdGhhdCBvdmVycmlkZSBvbmVzIGluIGFkZGl0aW9uYWxQcm92aWRlcnMuXG4gICAgICAgIGFkZGl0aW9uYWxQcm92aWRlcnMgJiZcbiAgICAgICAgICAgIGRlZXBGb3JFYWNoKGFkZGl0aW9uYWxQcm92aWRlcnMsIHByb3ZpZGVyID0+IHRoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBkZWYsIGFkZGl0aW9uYWxQcm92aWRlcnMpKTtcbiAgICAgICAgZGVlcEZvckVhY2goW2RlZl0sIGluamVjdG9yRGVmID0+IHRoaXMucHJvY2Vzc0luamVjdG9yVHlwZShpbmplY3RvckRlZiwgW10sIGRlZHVwU3RhY2spKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBJTkpFQ1RPUiB0b2tlbiBwcm92aWRlcyB0aGlzIGluamVjdG9yLlxuICAgICAgICB0aGlzLnJlY29yZHMuc2V0KElOSkVDVE9SLCBtYWtlUmVjb3JkKHVuZGVmaW5lZCwgdGhpcykpO1xuICAgICAgICAvLyBEZXRlY3Qgd2hldGhlciB0aGlzIGluamVjdG9yIGhhcyB0aGUgQVBQX1JPT1RfU0NPUEUgdG9rZW4gYW5kIHRodXMgc2hvdWxkIHByb3ZpZGVcbiAgICAgICAgLy8gYW55IGluamVjdGFibGUgc2NvcGVkIHRvIEFQUF9ST09UX1NDT1BFLlxuICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLnJlY29yZHMuZ2V0KElOSkVDVE9SX1NDT1BFKTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHJlY29yZCAhPSBudWxsID8gcmVjb3JkLnZhbHVlIDogbnVsbDtcbiAgICAgICAgLy8gU291cmNlIG5hbWUsIHVzZWQgZm9yIGRlYnVnZ2luZ1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZSB8fCAodHlwZW9mIGRlZiA9PT0gJ29iamVjdCcgPyBudWxsIDogc3RyaW5naWZ5KGRlZikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbGFnIGluZGljYXRpbmcgdGhhdCB0aGlzIGluamVjdG9yIHdhcyBwcmV2aW91c2x5IGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBpbmplY3RvciBhbmQgcmVsZWFzZSByZWZlcmVuY2VzIHRvIGV2ZXJ5IGluc3RhbmNlIG9yIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAgKlxuICAgICAqIEFsc28gY2FsbHMgdGhlIGBPbkRlc3Ryb3lgIGxpZmVjeWNsZSBob29rcyBvZiBldmVyeSBpbnN0YW5jZSB0aGF0IHdhcyBjcmVhdGVkIGZvciB3aGljaCBhXG4gICAgICogaG9vayB3YXMgZm91bmQuXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICAgICAgLy8gU2V0IGRlc3Ryb3llZCA9IHRydWUgZmlyc3QsIGluIGNhc2UgbGlmZWN5Y2xlIGhvb2tzIHJlLWVudGVyIGRlc3Ryb3koKS5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENhbGwgYWxsIHRoZSBsaWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5mb3JFYWNoKHNlcnZpY2UgPT4gc2VydmljZS5uZ09uRGVzdHJveSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIFJlbGVhc2UgYWxsIHJlZmVyZW5jZXMuXG4gICAgICAgICAgICB0aGlzLnJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95LmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQsIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgICAgICAvLyBTZXQgdGhlIGluamVjdGlvbiBjb250ZXh0LlxuICAgICAgICBjb25zdCBwcmV2aW91c0luamVjdG9yID0gc2V0Q3VycmVudEluamVjdG9yKHRoaXMpO1xuICAgICAgICBjb25zdCBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uID0gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24odW5kZWZpbmVkKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgU2tpcFNlbGYgZmxhZy5cbiAgICAgICAgICAgIGlmICghKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcFNlbGYgaXNuJ3Qgc2V0LCBjaGVjayBpZiB0aGUgcmVjb3JkIGJlbG9uZ3MgdG8gdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5yZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHJlY29yZCwgYnV0IG1heWJlIHRoZSB0b2tlbiBpcyBzY29wZWQgdG8gdGhpcyBpbmplY3Rvci4gTG9vayBmb3IgYW4gaW5qZWN0YWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBkZWYgd2l0aCBhIHNjb3BlIG1hdGNoaW5nIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IGNvdWxkQmVJbmplY3RhYmxlVHlwZSh0b2tlbikgJiYgZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWYgJiYgdGhpcy5pbmplY3RhYmxlRGVmSW5TY29wZShkZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBhbiBpbmplY3RhYmxlIGRlZiBhbmQgaXQncyBzY29wZWQgdG8gdGhpcyBpbmplY3Rvci4gUHJldGVuZCBhcyBpZiBpdCB3YXMgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIGFsb25nLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gbWFrZVJlY29yZChpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodG9rZW4pLCBOT1RfWUVUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYSByZWNvcmQgd2FzIGZvdW5kLCBnZXQgdGhlIGluc3RhbmNlIGZvciBpdCBhbmQgcmV0dXJuIGl0LlxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgIT0gbnVsbCAvKiBOT1QgbnVsbCB8fCB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHlkcmF0ZSh0b2tlbiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIG5leHQgaW5qZWN0b3IgYmFzZWQgb24gdGhlIFNlbGYgZmxhZyAtIGlmIHNlbGYgaXMgc2V0LCB0aGUgbmV4dCBpbmplY3RvciBpc1xuICAgICAgICAgICAgLy8gdGhlIE51bGxJbmplY3Rvciwgb3RoZXJ3aXNlIGl0J3MgdGhlIHBhcmVudC5cbiAgICAgICAgICAgIGNvbnN0IG5leHRJbmplY3RvciA9ICEoZmxhZ3MgJiBJbmplY3RGbGFncy5TZWxmKSA/IHRoaXMucGFyZW50IDogZ2V0TnVsbEluamVjdG9yKCk7XG4gICAgICAgICAgICAvLyBTZXQgdGhlIG5vdEZvdW5kVmFsdWUgYmFzZWQgb24gdGhlIE9wdGlvbmFsIGZsYWcgLSBpZiBvcHRpb25hbCBpcyBzZXQgYW5kIG5vdEZvdW5kVmFsdWVcbiAgICAgICAgICAgIC8vIGlzIHVuZGVmaW5lZCwgdGhlIHZhbHVlIGlzIG51bGwsIG90aGVyd2lzZSBpdCdzIHRoZSBub3RGb3VuZFZhbHVlLlxuICAgICAgICAgICAgbm90Rm91bmRWYWx1ZSA9IChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKSAmJiBub3RGb3VuZFZhbHVlID09PSBUSFJPV19JRl9OT1RfRk9VTkQgP1xuICAgICAgICAgICAgICAgIG51bGwgOlxuICAgICAgICAgICAgICAgIG5vdEZvdW5kVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gbmV4dEluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdOdWxsSW5qZWN0b3JFcnJvcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gZVtOR19URU1QX1RPS0VOX1BBVEhdID0gZVtOR19URU1QX1RPS0VOX1BBVEhdIHx8IFtdO1xuICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChzdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNJbmplY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdGlsbCBoYXZlIGEgcGFyZW50IGluamVjdG9yLCBrZWVwIHRocm93aW5nXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgJiB0aHJvdyB0aGUgZmluYWwgZXJyb3IgbWVzc2FnZSB3aGVuIHdlIGRvbid0IGhhdmUgYW55IHByZXZpb3VzIGluamVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRjaEluamVjdG9yRXJyb3IoZSwgdG9rZW4sICdSM0luamVjdG9yRXJyb3InLCB0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIExhc3RseSwgcmVzdG9yZSB0aGUgcHJldmlvdXMgaW5qZWN0aW9uIGNvbnRleHQuXG4gICAgICAgICAgICBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRJbmplY3RvcihwcmV2aW91c0luamVjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCkge1xuICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMuZm9yRWFjaChkZWZUeXBlID0+IHRoaXMuZ2V0KGRlZlR5cGUpKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IFtdLCByZWNvcmRzID0gdGhpcy5yZWNvcmRzO1xuICAgICAgICByZWNvcmRzLmZvckVhY2goKHYsIHRva2VuKSA9PiB0b2tlbnMucHVzaChzdHJpbmdpZnkodG9rZW4pKSk7XG4gICAgICAgIHJldHVybiBgUjNJbmplY3Rvclske3Rva2Vucy5qb2luKCcsICcpfV1gO1xuICAgIH1cbiAgICBhc3NlcnROb3REZXN0cm95ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMjA1IC8qIElOSkVDVE9SX0FMUkVBRFlfREVTVFJPWUVEICovLCBuZ0Rldk1vZGUgJiYgJ0luamVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBgSW5qZWN0b3JUeXBlYCBvciBgSW5qZWN0b3JUeXBlV2l0aFByb3ZpZGVyc2AgYW5kIGFsbCBvZiBpdHMgdHJhbnNpdGl2ZSBwcm92aWRlcnNcbiAgICAgKiB0byB0aGlzIGluamVjdG9yLlxuICAgICAqXG4gICAgICogSWYgYW4gYEluamVjdG9yVHlwZVdpdGhQcm92aWRlcnNgIHRoYXQgZGVjbGFyZXMgcHJvdmlkZXJzIGJlc2lkZXMgdGhlIHR5cGUgaXMgc3BlY2lmaWVkLFxuICAgICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBcInRydWVcIiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwcm92aWRlcnMgb2YgdGhlIHR5cGUgZGVmaW5pdGlvbiBuZWVkXG4gICAgICogdG8gYmUgcHJvY2Vzc2VkLiBUaGlzIGFsbG93cyB1cyB0byBwcm9jZXNzIHByb3ZpZGVycyBvZiBpbmplY3RvciB0eXBlcyBhZnRlciBhbGwgaW1wb3J0cyBvZlxuICAgICAqIGFuIGluamVjdG9yIGRlZmluaXRpb24gYXJlIHByb2Nlc3NlZC4gKGZvbGxvd2luZyBWaWV3IEVuZ2luZSBzZW1hbnRpY3M6IHNlZSBGVy0xMzQ5KVxuICAgICAqL1xuICAgIHByb2Nlc3NJbmplY3RvclR5cGUoZGVmT3JXcmFwcGVkRGVmLCBwYXJlbnRzLCBkZWR1cFN0YWNrKSB7XG4gICAgICAgIGRlZk9yV3JhcHBlZERlZiA9IHJlc29sdmVGb3J3YXJkUmVmKGRlZk9yV3JhcHBlZERlZik7XG4gICAgICAgIGlmICghZGVmT3JXcmFwcGVkRGVmKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBFaXRoZXIgdGhlIGRlZk9yV3JhcHBlZERlZiBpcyBhbiBJbmplY3RvclR5cGUgKHdpdGggaW5qZWN0b3IgZGVmKSBvciBhblxuICAgICAgICAvLyBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzIChha2EgTW9kdWxlV2l0aFByb3ZpZGVycykuIERldGVjdGluZyBlaXRoZXIgaXMgYSBtZWdhbW9ycGhpY1xuICAgICAgICAvLyByZWFkLCBzbyBjYXJlIGlzIHRha2VuIHRvIG9ubHkgZG8gdGhlIHJlYWQgb25jZS5cbiAgICAgICAgLy8gRmlyc3QgYXR0ZW1wdCB0byByZWFkIHRoZSBpbmplY3RvciBkZWYgKGDJtWluamApLlxuICAgICAgICBsZXQgZGVmID0gZ2V0SW5qZWN0b3JEZWYoZGVmT3JXcmFwcGVkRGVmKTtcbiAgICAgICAgLy8gSWYgdGhhdCdzIG5vdCBwcmVzZW50LCB0aGVuIGF0dGVtcHQgdG8gcmVhZCBuZ01vZHVsZSBmcm9tIHRoZSBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzLlxuICAgICAgICBjb25zdCBuZ01vZHVsZSA9IChkZWYgPT0gbnVsbCkgJiYgZGVmT3JXcmFwcGVkRGVmLm5nTW9kdWxlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBJbmplY3RvclR5cGUuIEluIHRoZSBjYXNlIHdoZXJlIGBkZWZPcldyYXBwZWREZWZgIGlzIGFuIGBJbmplY3RvclR5cGVgLFxuICAgICAgICAvLyB0aGVuIHRoaXMgaXMgZWFzeS4gSW4gdGhlIGNhc2Ugb2YgYW4gSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycywgdGhlbiB0aGUgZGVmaW5pdGlvbiB0eXBlXG4gICAgICAgIC8vIGlzIHRoZSBgbmdNb2R1bGVgLlxuICAgICAgICBjb25zdCBkZWZUeXBlID0gKG5nTW9kdWxlID09PSB1bmRlZmluZWQpID8gZGVmT3JXcmFwcGVkRGVmIDogbmdNb2R1bGU7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgcGFyZW50cy5pbmRleE9mKGRlZlR5cGUpICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZGVmTmFtZSA9IHN0cmluZ2lmeShkZWZUeXBlKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBwYXJlbnRzLm1hcChzdHJpbmdpZnkpO1xuICAgICAgICAgICAgdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IoZGVmTmFtZSwgcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIGltcG9ydHMgb2YgdGhlIHNhbWUgbW9kdWxlXG4gICAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gZGVkdXBTdGFjay5pbmRleE9mKGRlZlR5cGUpICE9PSAtMTtcbiAgICAgICAgLy8gRmluYWxseSwgaWYgZGVmT3JXcmFwcGVkVHlwZSB3YXMgYW4gYEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnNgLCB0aGVuIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gYEluamVjdG9yRGVmYCBpcyBvbiBpdHMgYG5nTW9kdWxlYC5cbiAgICAgICAgaWYgKG5nTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlZiA9IGdldEluamVjdG9yRGVmKG5nTW9kdWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyBkZWZpbml0aW9uIHdhcyBmb3VuZCwgaXQgbWlnaHQgYmUgZnJvbSBleHBvcnRzLiBSZW1vdmUgaXQuXG4gICAgICAgIGlmIChkZWYgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBwcm92aWRlcnMgaW4gdGhlIHNhbWUgd2F5IHRoYXQgQE5nTW9kdWxlIHJlc29sdXRpb24gZGlkOlxuICAgICAgICAvLyBGaXJzdCwgaW5jbHVkZSBwcm92aWRlcnMgZnJvbSBhbnkgaW1wb3J0cy5cbiAgICAgICAgaWYgKGRlZi5pbXBvcnRzICE9IG51bGwgJiYgIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICAvLyBCZWZvcmUgcHJvY2Vzc2luZyBkZWZUeXBlJ3MgaW1wb3J0cywgYWRkIGl0IHRvIHRoZSBzZXQgb2YgcGFyZW50cy4gVGhpcyB3YXksIGlmIGl0IGVuZHNcbiAgICAgICAgICAgIC8vIHVwIGRlZXBseSBpbXBvcnRpbmcgaXRzZWxmLCB0aGlzIGNhbiBiZSBkZXRlY3RlZC5cbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBwYXJlbnRzLnB1c2goZGVmVHlwZSk7XG4gICAgICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIHNldCBvZiBkZWR1cHMuIFRoaXMgd2F5IHdlIGNhbiBkZXRlY3QgbXVsdGlwbGUgaW1wb3J0cyBvZiB0aGUgc2FtZSBtb2R1bGVcbiAgICAgICAgICAgIGRlZHVwU3RhY2sucHVzaChkZWZUeXBlKTtcbiAgICAgICAgICAgIGxldCBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlZXBGb3JFYWNoKGRlZi5pbXBvcnRzLCBpbXBvcnRlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NJbmplY3RvclR5cGUoaW1wb3J0ZWQsIHBhcmVudHMsIGRlZHVwU3RhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJvY2Vzc2VkIGltcG9ydCBpcyBhbiBpbmplY3RvciB0eXBlIHdpdGggcHJvdmlkZXJzLCB3ZSBzdG9yZSBpdCBpbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgaW1wb3J0IHR5cGVzIHdpdGggcHJvdmlkZXJzLCBzbyB0aGF0IHdlIGNhbiBwcm9jZXNzIHRob3NlIGFmdGVyd2FyZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMucHVzaChpbXBvcnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBpdCBmcm9tIHRoZSBwYXJlbnRzIHNldCB3aGVuIGZpbmlzaGVkLlxuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBwYXJlbnRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW1wb3J0cyB3aGljaCBhcmUgZGVjbGFyZWQgd2l0aCBwcm92aWRlcnMgKFR5cGVXaXRoUHJvdmlkZXJzKSBuZWVkIHRvIGJlIHByb2Nlc3NlZFxuICAgICAgICAgICAgLy8gYWZ0ZXIgYWxsIGltcG9ydGVkIG1vZHVsZXMgYXJlIHByb2Nlc3NlZC4gVGhpcyBpcyBzaW1pbGFyIHRvIGhvdyBWaWV3IEVuZ2luZVxuICAgICAgICAgICAgLy8gcHJvY2Vzc2VzL21lcmdlcyBtb2R1bGUgaW1wb3J0cyBpbiB0aGUgbWV0YWRhdGEgcmVzb2x2ZXIuIFNlZTogRlctMTM0OS5cbiAgICAgICAgICAgIGlmIChpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbmdNb2R1bGUsIHByb3ZpZGVycyB9ID0gaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBkZWVwRm9yRWFjaChwcm92aWRlcnMsIHByb3ZpZGVyID0+IHRoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBuZ01vZHVsZSwgcHJvdmlkZXJzIHx8IEVNUFRZX0FSUkFZKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRyYWNrIHRoZSBJbmplY3RvclR5cGUgYW5kIGFkZCBhIHByb3ZpZGVyIGZvciBpdC4gSXQncyBpbXBvcnRhbnQgdGhhdCB0aGlzIGlzIGRvbmUgYWZ0ZXIgdGhlXG4gICAgICAgIC8vIGRlZidzIGltcG9ydHMuXG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5hZGQoZGVmVHlwZSk7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKGRlZlR5cGUpIHx8ICgoKSA9PiBuZXcgZGVmVHlwZSgpKTtcbiAgICAgICAgdGhpcy5yZWNvcmRzLnNldChkZWZUeXBlLCBtYWtlUmVjb3JkKGZhY3RvcnksIE5PVF9ZRVQpKTtcbiAgICAgICAgLy8gTmV4dCwgaW5jbHVkZSBwcm92aWRlcnMgbGlzdGVkIG9uIHRoZSBkZWZpbml0aW9uIGl0c2VsZi5cbiAgICAgICAgY29uc3QgZGVmUHJvdmlkZXJzID0gZGVmLnByb3ZpZGVycztcbiAgICAgICAgaWYgKGRlZlByb3ZpZGVycyAhPSBudWxsICYmICFpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0b3JUeXBlID0gZGVmT3JXcmFwcGVkRGVmO1xuICAgICAgICAgICAgZGVlcEZvckVhY2goZGVmUHJvdmlkZXJzLCBwcm92aWRlciA9PiB0aGlzLnByb2Nlc3NQcm92aWRlcihwcm92aWRlciwgaW5qZWN0b3JUeXBlLCBkZWZQcm92aWRlcnMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG5nTW9kdWxlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGRlZk9yV3JhcHBlZERlZi5wcm92aWRlcnMgIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBgU2luZ2xlUHJvdmlkZXJgIGFuZCBhZGQgaXQuXG4gICAgICovXG4gICAgcHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHRva2VuIGZyb20gdGhlIHByb3ZpZGVyLiBFaXRoZXIgaXQncyBpdHMgb3duIHRva2VuLCBvciBoYXMgYSB7cHJvdmlkZTogLi4ufVxuICAgICAgICAvLyBwcm9wZXJ0eS5cbiAgICAgICAgcHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgICAgIGxldCB0b2tlbiA9IGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSA/IHByb3ZpZGVyIDogcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIgJiYgcHJvdmlkZXIucHJvdmlkZSk7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhIGBSZWNvcmRgIGZvciB0aGUgcHJvdmlkZXIuXG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHByb3ZpZGVyVG9SZWNvcmQocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKTtcbiAgICAgICAgaWYgKCFpc1R5cGVQcm92aWRlcihwcm92aWRlcikgJiYgcHJvdmlkZXIubXVsdGkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwcm92aWRlciBpbmRpY2F0ZXMgdGhhdCBpdCdzIGEgbXVsdGktcHJvdmlkZXIsIHByb2Nlc3MgaXQgc3BlY2lhbGx5LlxuICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgd2hldGhlciBpdCdzIGJlZW4gZGVmaW5lZCBhbHJlYWR5LlxuICAgICAgICAgICAgbGV0IG11bHRpUmVjb3JkID0gdGhpcy5yZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICBpZiAobXVsdGlSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBoYXMuIFRocm93IGEgbmljZSBlcnJvciBpZlxuICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgbXVsdGlSZWNvcmQubXVsdGkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd01peGVkTXVsdGlQcm92aWRlckVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXVsdGlSZWNvcmQgPSBtYWtlUmVjb3JkKHVuZGVmaW5lZCwgTk9UX1lFVCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbXVsdGlSZWNvcmQuZmFjdG9yeSA9ICgpID0+IGluamVjdEFyZ3MobXVsdGlSZWNvcmQubXVsdGkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5zZXQodG9rZW4sIG11bHRpUmVjb3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuID0gcHJvdmlkZXI7XG4gICAgICAgICAgICBtdWx0aVJlY29yZC5tdWx0aS5wdXNoKHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5yZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmIGV4aXN0aW5nICYmIGV4aXN0aW5nLm11bHRpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvd01peGVkTXVsdGlQcm92aWRlckVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgcmVjb3JkKTtcbiAgICB9XG4gICAgaHlkcmF0ZSh0b2tlbiwgcmVjb3JkKSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgcmVjb3JkLnZhbHVlID09PSBDSVJDVUxBUikge1xuICAgICAgICAgICAgdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3Ioc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLnZhbHVlID09PSBOT1RfWUVUKSB7XG4gICAgICAgICAgICByZWNvcmQudmFsdWUgPSBDSVJDVUxBUjtcbiAgICAgICAgICAgIHJlY29yZC52YWx1ZSA9IHJlY29yZC5mYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWNvcmQudmFsdWUgPT09ICdvYmplY3QnICYmIHJlY29yZC52YWx1ZSAmJiBoYXNPbkRlc3Ryb3kocmVjb3JkLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3kuYWRkKHJlY29yZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZC52YWx1ZTtcbiAgICB9XG4gICAgaW5qZWN0YWJsZURlZkluU2NvcGUoZGVmKSB7XG4gICAgICAgIGlmICghZGVmLnByb3ZpZGVkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm92aWRlZEluID0gcmVzb2x2ZUZvcndhcmRSZWYoZGVmLnByb3ZpZGVkSW4pO1xuICAgICAgICBpZiAodHlwZW9mIHByb3ZpZGVkSW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZWRJbiA9PT0gJ2FueScgfHwgKHByb3ZpZGVkSW4gPT09IHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5oYXMocHJvdmlkZWRJbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodG9rZW4pIHtcbiAgICAvLyBNb3N0IHRva2VucyB3aWxsIGhhdmUgYW4gaW5qZWN0YWJsZSBkZWYgZGlyZWN0bHkgb24gdGhlbSwgd2hpY2ggc3BlY2lmaWVzIGEgZmFjdG9yeSBkaXJlY3RseS5cbiAgICBjb25zdCBpbmplY3RhYmxlRGVmID0gZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgY29uc3QgZmFjdG9yeSA9IGluamVjdGFibGVEZWYgIT09IG51bGwgPyBpbmplY3RhYmxlRGVmLmZhY3RvcnkgOiBnZXRGYWN0b3J5RGVmKHRva2VuKTtcbiAgICBpZiAoZmFjdG9yeSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9XG4gICAgLy8gSW5qZWN0aW9uVG9rZW5zIHNob3VsZCBoYXZlIGFuIGluamVjdGFibGUgZGVmICjJtXByb3YpIGFuZCB0aHVzIHNob3VsZCBiZSBoYW5kbGVkIGFib3ZlLlxuICAgIC8vIElmIGl0J3MgbWlzc2luZyB0aGF0LCBpdCdzIGFuIGVycm9yLlxuICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIEluamVjdGlvblRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMjA0IC8qIElOVkFMSURfSU5KRUNUSU9OX1RPS0VOICovLCBuZ0Rldk1vZGUgJiYgYFRva2VuICR7c3RyaW5naWZ5KHRva2VuKX0gaXMgbWlzc2luZyBhIMm1cHJvdiBkZWZpbml0aW9uLmApO1xuICAgIH1cbiAgICAvLyBVbmRlY29yYXRlZCB0eXBlcyBjYW4gc29tZXRpbWVzIGJlIGNyZWF0ZWQgaWYgdGhleSBoYXZlIG5vIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0VW5kZWNvcmF0ZWRJbmplY3RhYmxlRmFjdG9yeSh0b2tlbik7XG4gICAgfVxuICAgIC8vIFRoZXJlIHdhcyBubyB3YXkgdG8gcmVzb2x2ZSBhIGZhY3RvcnkgZm9yIHRoaXMgdG9rZW4uXG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDQgLyogSU5WQUxJRF9JTkpFQ1RJT05fVE9LRU4gKi8sIG5nRGV2TW9kZSAmJiAndW5yZWFjaGFibGUnKTtcbn1cbmZ1bmN0aW9uIGdldFVuZGVjb3JhdGVkSW5qZWN0YWJsZUZhY3RvcnkodG9rZW4pIHtcbiAgICAvLyBJZiB0aGUgdG9rZW4gaGFzIHBhcmFtZXRlcnMgdGhlbiBpdCBoYXMgZGVwZW5kZW5jaWVzIHRoYXQgd2UgY2Fubm90IHJlc29sdmUgaW1wbGljaXRseS5cbiAgICBjb25zdCBwYXJhbUxlbmd0aCA9IHRva2VuLmxlbmd0aDtcbiAgICBpZiAocGFyYW1MZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBuZXdBcnJheShwYXJhbUxlbmd0aCwgJz8nKTtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDQgLyogSU5WQUxJRF9JTkpFQ1RJT05fVE9LRU4gKi8sIG5nRGV2TW9kZSAmJiBgQ2FuJ3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgJHtzdHJpbmdpZnkodG9rZW4pfTogKCR7YXJncy5qb2luKCcsICcpfSkuYCk7XG4gICAgfVxuICAgIC8vIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcHBlYXJzIHRvIGhhdmUgbm8gcGFyYW1ldGVycy5cbiAgICAvLyBUaGlzIG1pZ2h0IGJlIGJlY2F1c2UgaXQgaW5oZXJpdHMgZnJvbSBhIHN1cGVyLWNsYXNzLiBJbiB3aGljaCBjYXNlLCB1c2UgYW4gaW5qZWN0YWJsZVxuICAgIC8vIGRlZiBmcm9tIGFuIGFuY2VzdG9yIGlmIHRoZXJlIGlzIG9uZS5cbiAgICAvLyBPdGhlcndpc2UgdGhpcyByZWFsbHkgaXMgYSBzaW1wbGUgY2xhc3Mgd2l0aCBubyBkZXBlbmRlbmNpZXMsIHNvIHJldHVybiBhIGZhY3RvcnkgdGhhdFxuICAgIC8vIGp1c3QgaW5zdGFudGlhdGVzIHRoZSB6ZXJvLWFyZyBjb25zdHJ1Y3Rvci5cbiAgICBjb25zdCBpbmhlcml0ZWRJbmplY3RhYmxlRGVmID0gZ2V0SW5oZXJpdGVkSW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgaWYgKGluaGVyaXRlZEluamVjdGFibGVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGluaGVyaXRlZEluamVjdGFibGVEZWYuZmFjdG9yeSh0b2tlbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKCkgPT4gbmV3IHRva2VuKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvdmlkZXJUb1JlY29yZChwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpIHtcbiAgICBpZiAoaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICByZXR1cm4gbWFrZVJlY29yZCh1bmRlZmluZWQsIHByb3ZpZGVyLnVzZVZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBwcm92aWRlclRvRmFjdG9yeShwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gbWFrZVJlY29yZChmYWN0b3J5LCBOT1RfWUVUKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIGEgYFNpbmdsZVByb3ZpZGVyYCBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gcHJvdmlkZXIgcHJvdmlkZXIgdG8gY29udmVydCB0byBmYWN0b3J5XG4gKi9cbmZ1bmN0aW9uIHByb3ZpZGVyVG9GYWN0b3J5KHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgIGxldCBmYWN0b3J5ID0gdW5kZWZpbmVkO1xuICAgIGlmIChpc1R5cGVQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgY29uc3QgdW53cmFwcGVkUHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgICAgIHJldHVybiBnZXRGYWN0b3J5RGVmKHVud3JhcHBlZFByb3ZpZGVyKSB8fCBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodW53cmFwcGVkUHJvdmlkZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzVmFsdWVQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGYWN0b3J5UHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gKCkgPT4gcHJvdmlkZXIudXNlRmFjdG9yeSguLi5pbmplY3RBcmdzKHByb3ZpZGVyLmRlcHMgfHwgW10pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0V4aXN0aW5nUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gKCkgPT4gybXJtWluamVjdChyZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VFeGlzdGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NSZWYgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlciAmJlxuICAgICAgICAgICAgICAgIChwcm92aWRlci51c2VDbGFzcyB8fCBwcm92aWRlci5wcm92aWRlKSk7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmICFjbGFzc1JlZikge1xuICAgICAgICAgICAgICAgIHRocm93SW52YWxpZFByb3ZpZGVyRXJyb3IobmdNb2R1bGVUeXBlLCBwcm92aWRlcnMsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNEZXBzKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiBuZXcgKGNsYXNzUmVmKSguLi5pbmplY3RBcmdzKHByb3ZpZGVyLmRlcHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGYWN0b3J5RGVmKGNsYXNzUmVmKSB8fCBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkoY2xhc3NSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWN0b3J5O1xufVxuZnVuY3Rpb24gbWFrZVJlY29yZChmYWN0b3J5LCB2YWx1ZSwgbXVsdGkgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGZhY3Rvcnk6IGZhY3RvcnksXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgbXVsdGk6IG11bHRpID8gW10gOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzVmFsdWVQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgVVNFX1ZBTFVFJDEgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBpc0V4aXN0aW5nUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUudXNlRXhpc3RpbmcpO1xufVxuZnVuY3Rpb24gaXNGYWN0b3J5UHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUudXNlRmFjdG9yeSk7XG59XG5mdW5jdGlvbiBpc1R5cGVQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0NsYXNzUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZS51c2VDbGFzcztcbn1cbmZ1bmN0aW9uIGhhc0RlcHModmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZS5kZXBzO1xufVxuZnVuY3Rpb24gaGFzT25EZXN0cm95KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlLm5nT25EZXN0cm95ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gY291bGRCZUluamVjdGFibGVUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlIGluc3RhbmNlb2YgSW5qZWN0aW9uVG9rZW4pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29uY3JldGUgaW5qZWN0b3JzIGltcGxlbWVudCB0aGlzIGludGVyZmFjZS4gSW5qZWN0b3JzIGFyZSBjb25maWd1cmVkXG4gKiB3aXRoIFtwcm92aWRlcnNdKGd1aWRlL2dsb3NzYXJ5I3Byb3ZpZGVyKSB0aGF0IGFzc29jaWF0ZVxuICogZGVwZW5kZW5jaWVzIG9mIHZhcmlvdXMgdHlwZXMgd2l0aCBbaW5qZWN0aW9uIHRva2Vuc10oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4pLlxuICpcbiAqIEBzZWUgW1wiREkgUHJvdmlkZXJzXCJdKGd1aWRlL2RlcGVuZGVuY3ktaW5qZWN0aW9uLXByb3ZpZGVycykuXG4gKiBAc2VlIGBTdGF0aWNQcm92aWRlcmBcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqICBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIHNlcnZpY2UgaW5qZWN0b3IgaW5zdGFuY2UuXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvcHJvdmlkZXJfc3BlYy50cyByZWdpb249J0NvbnN0cnVjdG9yUHJvdmlkZXInfVxuICpcbiAqICMjIyBVc2FnZSBleGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J0luamVjdG9yJ31cbiAqXG4gKiBgSW5qZWN0b3JgIHJldHVybnMgaXRzZWxmIHdoZW4gZ2l2ZW4gYEluamVjdG9yYCBhcyBhIHRva2VuOlxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdpbmplY3RJbmplY3Rvcid9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBJbmplY3RvciB7XG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmplY3Rvcih7IG5hbWU6ICcnIH0sIHBhcmVudCwgb3B0aW9ucywgJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG9wdGlvbnMubmFtZSA/PyAnJztcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmplY3Rvcih7IG5hbWUgfSwgb3B0aW9ucy5wYXJlbnQsIG9wdGlvbnMucHJvdmlkZXJzLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORCA9IFRIUk9XX0lGX05PVF9GT1VORDtcbkluamVjdG9yLk5VTEwgPSAoIC8qIEBfX1BVUkVfXyAqL25ldyBOdWxsSW5qZWN0b3IoKSk7XG4vKiogQG5vY29sbGFwc2UgKi9cbkluamVjdG9yLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHtcbiAgICB0b2tlbjogSW5qZWN0b3IsXG4gICAgcHJvdmlkZWRJbjogJ2FueScsXG4gICAgZmFjdG9yeTogKCkgPT4gybXJtWluamVjdChJTkpFQ1RPUiksXG59KTtcbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5JbmplY3Rvci5fX05HX0VMRU1FTlRfSURfXyA9IC0xIC8qIEluamVjdG9yICovO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gRE9NIGVsZW1lbnQuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgRE9NIHN0cnVjdHVyZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLXJvb3Q+XG4gKiAgIDxkaXY+XG4gKiAgICAgPGNoaWxkLWNvbXA+PC9jaGlsZC1jb21wPlxuICogICA8L2Rpdj5cbiAqIDwvYXBwLXJvb3Q+XG4gKiBgYGBcbiAqXG4gKiBDYWxsaW5nIGBnZXRDb21wb25lbnRgIG9uIGA8Y2hpbGQtY29tcD5gIHdpbGwgcmV0dXJuIHRoZSBpbnN0YW5jZSBvZiBgQ2hpbGRDb21wb25lbnRgXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhpcyBET00gZWxlbWVudC5cbiAqXG4gKiBDYWxsaW5nIHRoZSBmdW5jdGlvbiBvbiBgPGFwcC1yb290PmAgd2lsbCByZXR1cm4gdGhlIGBNeUFwcGAgaW5zdGFuY2UuXG4gKlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IERPTSBlbGVtZW50IGZyb20gd2hpY2ggdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHJldHVybnMgQ29tcG9uZW50IGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudCBvciBgbnVsbGAgaWYgdGhlcmVcbiAqICAgIGlzIG5vIGNvbXBvbmVudCBhc3NvY2lhdGVkIHdpdGggaXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnQkMShlbGVtZW50KSB7XG4gICAgYXNzZXJ0RG9tRWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChjb250ZXh0LmNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50ID0gZ2V0Q29tcG9uZW50QXROb2RlSW5kZXgoY29udGV4dC5ub2RlSW5kZXgsIGNvbnRleHQubFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnQ7XG59XG4vKipcbiAqIElmIGluc2lkZSBhbiBlbWJlZGRlZCB2aWV3IChlLmcuIGAqbmdJZmAgb3IgYCpuZ0ZvcmApLCByZXRyaWV2ZXMgdGhlIGNvbnRleHQgb2YgdGhlIGVtYmVkZGVkXG4gKiB2aWV3IHRoYXQgdGhlIGVsZW1lbnQgaXMgcGFydCBvZi4gT3RoZXJ3aXNlIHJldHJpZXZlcyB0aGUgaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCB3aG9zZSB2aWV3XG4gKiBvd25zIHRoZSBlbGVtZW50IChpbiB0aGlzIGNhc2UsIHRoZSByZXN1bHQgaXMgdGhlIHNhbWUgYXMgY2FsbGluZyBgZ2V0T3duaW5nQ29tcG9uZW50YCkuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBzdXJyb3VuZGluZyBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyBJbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IHRoYXQgaXMgYXJvdW5kIHRoZSBlbGVtZW50IG9yIG51bGwgaWYgdGhlIGVsZW1lbnQgaXNuJ3RcbiAqICAgIGluc2lkZSBhbnkgY29tcG9uZW50LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGV4dChlbGVtZW50KSB7XG4gICAgYXNzZXJ0RG9tRWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgcmV0dXJuIGNvbnRleHQgPT09IG51bGwgPyBudWxsIDogY29udGV4dC5sVmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb21wb25lbnQgaW5zdGFuY2Ugd2hvc2UgdmlldyBjb250YWlucyB0aGUgRE9NIGVsZW1lbnQuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmIGA8Y2hpbGQtY29tcD5gIGlzIHVzZWQgaW4gdGhlIHRlbXBsYXRlIG9mIGA8YXBwLWNvbXA+YFxuICogKGkuZS4gYSBgVmlld0NoaWxkYCBvZiBgPGFwcC1jb21wPmApLCBjYWxsaW5nIGBnZXRPd25pbmdDb21wb25lbnRgIG9uIGA8Y2hpbGQtY29tcD5gXG4gKiB3b3VsZCByZXR1cm4gYDxhcHAtY29tcD5gLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50T3JEaXIgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2VcbiAqICAgIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgcm9vdCBjb21wb25lbnRzLlxuICogQHJldHVybnMgQ29tcG9uZW50IGluc3RhbmNlIHdob3NlIHZpZXcgb3ducyB0aGUgRE9NIGVsZW1lbnQgb3IgbnVsbCBpZiB0aGUgZWxlbWVudCBpcyBub3RcbiAqICAgIHBhcnQgb2YgYSBjb21wb25lbnQgdmlldy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldE93bmluZ0NvbXBvbmVudChlbGVtZW50T3JEaXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudE9yRGlyKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICBsZXQgcGFyZW50O1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgd2hpbGUgKGxWaWV3W1RWSUVXXS50eXBlID09PSAyIC8qIEVtYmVkZGVkICovICYmIChwYXJlbnQgPSBnZXRMVmlld1BhcmVudChsVmlldykpKSB7XG4gICAgICAgIGxWaWV3ID0gcGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbFZpZXdbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLyA/IG51bGwgOiBsVmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFsbCByb290IGNvbXBvbmVudHMgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQsIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBSb290IGNvbXBvbmVudHMgYXJlIHRob3NlIHdoaWNoIGhhdmUgYmVlbiBib290c3RyYXBwZWQgYnkgQW5ndWxhci5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudE9yRGlyIERPTSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlXG4gKiAgICBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlIHJvb3QgY29tcG9uZW50cy5cbiAqIEByZXR1cm5zIFJvb3QgY29tcG9uZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRSb290Q29tcG9uZW50cyhlbGVtZW50T3JEaXIpIHtcbiAgICByZXR1cm4gWy4uLmdldFJvb3RDb250ZXh0KGVsZW1lbnRPckRpcikuY29tcG9uZW50c107XG59XG4vKipcbiAqIFJldHJpZXZlcyBhbiBgSW5qZWN0b3JgIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50T3JEaXIgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UgZm9yIHdoaWNoIHRvXG4gKiAgICByZXRyaWV2ZSB0aGUgaW5qZWN0b3IuXG4gKiBAcmV0dXJucyBJbmplY3RvciBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRJbmplY3RvcihlbGVtZW50T3JEaXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudE9yRGlyKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIEluamVjdG9yLk5VTEw7XG4gICAgY29uc3QgdE5vZGUgPSBjb250ZXh0LmxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0Tm9kZSwgY29udGV4dC5sVmlldyk7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgc2V0IG9mIGluamVjdGlvbiB0b2tlbnMgYXQgYSBnaXZlbiBET00gbm9kZS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0aGUgaW5qZWN0aW9uIHRva2VucyBzaG91bGQgYmUgcmV0cmlldmVkLlxuICovXG5mdW5jdGlvbiBnZXRJbmplY3Rpb25Ub2tlbnMoZWxlbWVudCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgIGNvbnN0IHByb3ZpZGVyVG9rZW5zID0gW107XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgY29uc3QgZW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIGlmIChpc0RpcmVjdGl2ZURlZkhhY2sodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBUaGUgZmFjdCB0aGF0IHdlIHNvbWV0aW1lcyBzdG9yZSBUeXBlIGFuZCBzb21ldGltZXMgRGlyZWN0aXZlRGVmIGluIHRoaXMgbG9jYXRpb24gaXMgYVxuICAgICAgICAgICAgLy8gZGVzaWduIGZsYXcuICBXZSBzaG91bGQgYWx3YXlzIHN0b3JlIHNhbWUgdHlwZSBzbyB0aGF0IHdlIGNhbiBiZSBtb25vbW9ycGhpYy4gVGhlIGlzc3VlXG4gICAgICAgICAgICAvLyBpcyB0aGF0IGZvciBDb21wb25lbnRzL0RpcmVjdGl2ZXMgd2Ugc3RvcmUgdGhlIGRlZiBpbnN0ZWFkIHRoZSB0eXBlLiBUaGUgY29ycmVjdCBiZWhhdmlvclxuICAgICAgICAgICAgLy8gaXMgdGhhdCB3ZSBzaG91bGQgYWx3YXlzIGJlIHN0b3JpbmcgaW5qZWN0YWJsZSB0eXBlIGluIHRoaXMgbG9jYXRpb24uXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdmlkZXJUb2tlbnMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlclRva2Vucztcbn1cbi8qKlxuICogUmV0cmlldmVzIGRpcmVjdGl2ZSBpbnN0YW5jZXMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gRE9NIG5vZGUuIERvZXMgbm90IGluY2x1ZGVcbiAqIGNvbXBvbmVudCBpbnN0YW5jZXMuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgRE9NIHN0cnVjdHVyZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLXJvb3Q+XG4gKiAgIDxidXR0b24gbXktYnV0dG9uPjwvYnV0dG9uPlxuICogICA8bXktY29tcD48L215LWNvbXA+XG4gKiA8L2FwcC1yb290PlxuICogYGBgXG4gKlxuICogQ2FsbGluZyBgZ2V0RGlyZWN0aXZlc2Agb24gYDxidXR0b24+YCB3aWxsIHJldHVybiBhbiBhcnJheSB3aXRoIGFuIGluc3RhbmNlIG9mIHRoZSBgTXlCdXR0b25gXG4gKiBkaXJlY3RpdmUgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIERPTSBub2RlLlxuICpcbiAqIENhbGxpbmcgYGdldERpcmVjdGl2ZXNgIG9uIGA8bXktY29tcD5gIHdpbGwgcmV0dXJuIGFuIGVtcHR5IGFycmF5LlxuICpcbiAqIEBwYXJhbSBub2RlIERPTSBub2RlIGZvciB3aGljaCB0byBnZXQgdGhlIGRpcmVjdGl2ZXMuXG4gKiBAcmV0dXJucyBBcnJheSBvZiBkaXJlY3RpdmVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgbm9kZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZXMobm9kZSkge1xuICAgIC8vIFNraXAgdGV4dCBub2RlcyBiZWNhdXNlIHdlIGNhbid0IGhhdmUgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggdGhlbS5cbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQobm9kZSk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3Qgbm9kZUluZGV4ID0gY29udGV4dC5ub2RlSW5kZXg7XG4gICAgaWYgKCF0Vmlldz8uZGF0YVtub2RlSW5kZXhdKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQuZGlyZWN0aXZlcyA9IGdldERpcmVjdGl2ZXNBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3LCBmYWxzZSk7XG4gICAgfVxuICAgIC8vIFRoZSBgZGlyZWN0aXZlc2AgaW4gdGhpcyBjYXNlIGFyZSBhIG5hbWVkIGFycmF5IGNhbGxlZCBgTENvbXBvbmVudFZpZXdgLiBDbG9uZSB0aGVcbiAgICAvLyByZXN1bHQgc28gd2UgZG9uJ3QgZXhwb3NlIGFuIGludGVybmFsIGRhdGEgc3RydWN0dXJlIGluIHRoZSB1c2VyJ3MgY29uc29sZS5cbiAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzID09PSBudWxsID8gW10gOiBbLi4uY29udGV4dC5kaXJlY3RpdmVzXTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVidWcgKHBhcnRpYWwpIG1ldGFkYXRhIGZvciBhIHBhcnRpY3VsYXIgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIFRoZSBmdW5jdGlvbiBhY2NlcHRzIGFuIGluc3RhbmNlIG9mIGEgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZ1xuICogbWV0YWRhdGEuXG4gKlxuICogQHBhcmFtIGRpcmVjdGl2ZU9yQ29tcG9uZW50SW5zdGFuY2UgSW5zdGFuY2Ugb2YgYSBkaXJlY3RpdmUgb3IgY29tcG9uZW50XG4gKiBAcmV0dXJucyBtZXRhZGF0YSBvZiB0aGUgcGFzc2VkIGRpcmVjdGl2ZSBvciBjb21wb25lbnRcbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZU1ldGFkYXRhJDEoZGlyZWN0aXZlT3JDb21wb25lbnRJbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgY29uc3RydWN0b3IgfSA9IGRpcmVjdGl2ZU9yQ29tcG9uZW50SW5zdGFuY2U7XG4gICAgaWYgKCFjb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHRoZSBpbnN0YW5jZSBjb25zdHJ1Y3RvcicpO1xuICAgIH1cbiAgICAvLyBJbiBjYXNlIGEgY29tcG9uZW50IGluaGVyaXRzIGZyb20gYSBkaXJlY3RpdmUsIHdlIG1heSBoYXZlIGNvbXBvbmVudCBhbmQgZGlyZWN0aXZlIG1ldGFkYXRhXG4gICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGdldCB0aGUgbWV0YWRhdGEgb2YgdGhlIGRpcmVjdGl2ZSwgd2Ugd2FudCB0byBjYWxsIGBnZXRDb21wb25lbnREZWZgIGZpcnN0LlxuICAgIGNvbnN0IGNvbXBvbmVudERlZiA9IGdldENvbXBvbmVudERlZihjb25zdHJ1Y3Rvcik7XG4gICAgaWYgKGNvbXBvbmVudERlZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXRzOiBjb21wb25lbnREZWYuaW5wdXRzLFxuICAgICAgICAgICAgb3V0cHV0czogY29tcG9uZW50RGVmLm91dHB1dHMsXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogY29tcG9uZW50RGVmLm9uUHVzaCA/IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCA6XG4gICAgICAgICAgICAgICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSBnZXREaXJlY3RpdmVEZWYoY29uc3RydWN0b3IpO1xuICAgIGlmIChkaXJlY3RpdmVEZWYpIHtcbiAgICAgICAgcmV0dXJuIHsgaW5wdXRzOiBkaXJlY3RpdmVEZWYuaW5wdXRzLCBvdXRwdXRzOiBkaXJlY3RpdmVEZWYub3V0cHV0cyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmUgbWFwIG9mIGxvY2FsIHJlZmVyZW5jZXMuXG4gKlxuICogVGhlIHJlZmVyZW5jZXMgYXJlIHJldHJpZXZlZCBhcyBhIG1hcCBvZiBsb2NhbCByZWZlcmVuY2UgbmFtZSB0byBlbGVtZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IERPTSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlIGZvciB3aGljaCB0byByZXRyaWV2ZVxuICogICAgdGhlIGxvY2FsIHJlZmVyZW5jZXMuXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsUmVmcyh0YXJnZXQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQodGFyZ2V0KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmIChjb250ZXh0LmxvY2FsUmVmcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQubG9jYWxSZWZzID0gZGlzY292ZXJMb2NhbFJlZnMoY29udGV4dC5sVmlldywgY29udGV4dC5ub2RlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5sb2NhbFJlZnMgfHwge307XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgaG9zdCBlbGVtZW50IG9mIGEgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqIFRoZSBob3N0IGVsZW1lbnQgaXMgdGhlIERPTSBlbGVtZW50IHRoYXQgbWF0Y2hlZCB0aGUgc2VsZWN0b3Igb2YgdGhlIGRpcmVjdGl2ZS5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50T3JEaXJlY3RpdmUgQ29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSBmb3Igd2hpY2ggdGhlIGhvc3RcbiAqICAgICBlbGVtZW50IHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKiBAcmV0dXJucyBIb3N0IGVsZW1lbnQgb2YgdGhlIHRhcmdldC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldEhvc3RFbGVtZW50KGNvbXBvbmVudE9yRGlyZWN0aXZlKSB7XG4gICAgcmV0dXJuIGdldExDb250ZXh0KGNvbXBvbmVudE9yRGlyZWN0aXZlKS5uYXRpdmU7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgcmVuZGVyZWQgdGV4dCBmb3IgYSBnaXZlbiBjb21wb25lbnQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXRyaWV2ZXMgdGhlIGhvc3QgZWxlbWVudCBvZiBhIGNvbXBvbmVudCBhbmRcbiAqIGFuZCB0aGVuIHJldHVybnMgdGhlIGB0ZXh0Q29udGVudGAgZm9yIHRoYXQgZWxlbWVudC4gVGhpcyBpbXBsaWVzXG4gKiB0aGF0IHRoZSB0ZXh0IHJldHVybmVkIHdpbGwgaW5jbHVkZSByZS1wcm9qZWN0ZWQgY29udGVudCBvZlxuICogdGhlIGNvbXBvbmVudCBhcyB3ZWxsLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB0byByZXR1cm4gdGhlIGNvbnRlbnQgdGV4dCBmb3IuXG4gKi9cbmZ1bmN0aW9uIGdldFJlbmRlcmVkVGV4dChjb21wb25lbnQpIHtcbiAgICBjb25zdCBob3N0RWxlbWVudCA9IGdldEhvc3RFbGVtZW50KGNvbXBvbmVudCk7XG4gICAgcmV0dXJuIGhvc3RFbGVtZW50LnRleHRDb250ZW50IHx8ICcnO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIGV2ZW50IGxpc3RlbmVycyBhc3NvY2lhdGVkIHdpdGggYSBET00gZWxlbWVudC4gVGhlIGxpc3QgZG9lcyBpbmNsdWRlIGhvc3RcbiAqIGxpc3RlbmVycywgYnV0IGl0IGRvZXMgbm90IGluY2x1ZGUgZXZlbnQgbGlzdGVuZXJzIGRlZmluZWQgb3V0c2lkZSBvZiB0aGUgQW5ndWxhciBjb250ZXh0XG4gKiAoZS5nLiB0aHJvdWdoIGBhZGRFdmVudExpc3RlbmVyYCkuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgRE9NIHN0cnVjdHVyZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLXJvb3Q+XG4gKiAgIDxkaXYgKGNsaWNrKT1cImRvU29tZXRoaW5nKClcIj48L2Rpdj5cbiAqIDwvYXBwLXJvb3Q+XG4gKiBgYGBcbiAqXG4gKiBDYWxsaW5nIGBnZXRMaXN0ZW5lcnNgIG9uIGA8ZGl2PmAgd2lsbCByZXR1cm4gYW4gb2JqZWN0IHRoYXQgbG9va3MgYXMgZm9sbG93czpcbiAqXG4gKiBgYGB0c1xuICoge1xuICogICBuYW1lOiAnY2xpY2snLFxuICogICBlbGVtZW50OiA8ZGl2PixcbiAqICAgY2FsbGJhY2s6ICgpID0+IGRvU29tZXRoaW5nKCksXG4gKiAgIHVzZUNhcHR1cmU6IGZhbHNlXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0aGUgRE9NIGxpc3RlbmVycyBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHJldHVybnMgQXJyYXkgb2YgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSBET00gZWxlbWVudC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldExpc3RlbmVycyhlbGVtZW50KSB7XG4gICAgYXNzZXJ0RG9tRWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCBsQ29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgIGlmIChsQ29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGxWaWV3ID0gbENvbnRleHQubFZpZXc7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3QgbENsZWFudXAgPSBsVmlld1tDTEVBTlVQXTtcbiAgICBjb25zdCB0Q2xlYW51cCA9IHRWaWV3LmNsZWFudXA7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gW107XG4gICAgaWYgKHRDbGVhbnVwICYmIGxDbGVhbnVwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdENsZWFudXAubGVuZ3RoOykge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RQYXJhbSA9IHRDbGVhbnVwW2krK107XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRQYXJhbSA9IHRDbGVhbnVwW2krK107XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpcnN0UGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZpcnN0UGFyYW07XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJFbGVtZW50ID0gdW53cmFwUk5vZGUobFZpZXdbc2Vjb25kUGFyYW1dKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGxDbGVhbnVwW3RDbGVhbnVwW2krK11dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZUNhcHR1cmVPckluZHggPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgICAgIC8vIGlmIHVzZUNhcHR1cmVPckluZHggaXMgYm9vbGVhbiB0aGVuIHJlcG9ydCBpdCBhcyBpcy5cbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIHBvc2l0aXZlIG51bWJlciB0aGVuIGl0IGluIHVuc3Vic2NyaWJlIG1ldGhvZFxuICAgICAgICAgICAgICAgIC8vIGlmIHVzZUNhcHR1cmVPckluZHggaXMgbmVnYXRpdmUgbnVtYmVyIHRoZW4gaXQgaXMgYSBTdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gKHR5cGVvZiB1c2VDYXB0dXJlT3JJbmR4ID09PSAnYm9vbGVhbicgfHwgdXNlQ2FwdHVyZU9ySW5keCA+PSAwKSA/ICdkb20nIDogJ291dHB1dCc7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlQ2FwdHVyZSA9IHR5cGVvZiB1c2VDYXB0dXJlT3JJbmR4ID09PSAnYm9vbGVhbicgPyB1c2VDYXB0dXJlT3JJbmR4IDogZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT0gbGlzdGVuZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHsgZWxlbWVudCwgbmFtZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxpc3RlbmVycy5zb3J0KHNvcnRMaXN0ZW5lcnMpO1xuICAgIHJldHVybiBsaXN0ZW5lcnM7XG59XG5mdW5jdGlvbiBzb3J0TGlzdGVuZXJzKGEsIGIpIHtcbiAgICBpZiAoYS5uYW1lID09IGIubmFtZSlcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgcmV0dXJuIGEubmFtZSA8IGIubmFtZSA/IC0xIDogMTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IGV4aXN0IGJlY2F1c2UgaXQgaXMgbWVnYW1vcnBoaWMgYW5kIG9ubHkgbW9zdGx5IGNvcnJlY3QuXG4gKlxuICogU2VlIGNhbGwgc2l0ZSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBpc0RpcmVjdGl2ZURlZkhhY2sob2JqKSB7XG4gICAgcmV0dXJuIG9iai50eXBlICE9PSB1bmRlZmluZWQgJiYgb2JqLnRlbXBsYXRlICE9PSB1bmRlZmluZWQgJiYgb2JqLmRlY2xhcmVkSW5wdXRzICE9PSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGF0dGFjaGVkIGBEZWJ1Z05vZGVgIGluc3RhbmNlIGZvciBhbiBlbGVtZW50IGluIHRoZSBET00uXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgb3duZWQgYnkgYW4gZXhpc3RpbmcgY29tcG9uZW50J3Mgdmlldy5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVidWdOb2RlJDEoZWxlbWVudCkge1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIShlbGVtZW50IGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgaW5zdGFuY2Ugb2YgRE9NIEVsZW1lbnQnKTtcbiAgICB9XG4gICAgY29uc3QgbENvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAobENvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGxWaWV3ID0gbENvbnRleHQubFZpZXc7XG4gICAgY29uc3Qgbm9kZUluZGV4ID0gbENvbnRleHQubm9kZUluZGV4O1xuICAgIGlmIChub2RlSW5kZXggIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlSW5MVmlldyA9IGxWaWV3W25vZGVJbmRleF07XG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB2YWx1ZSBpbiB0aGUgbFZpZXcgaXMgYSBjb21wb25lbnQgd2l0aCBpdHMgb3duXG4gICAgICAgIC8vIGRhdGEuIEluIHRoaXMgc2l0dWF0aW9uIHRoZSBUTm9kZSBpcyBub3QgYWNjZXNzZWQgYXQgdGhlIHNhbWUgc3BvdC5cbiAgICAgICAgY29uc3QgdE5vZGUgPSBpc0xWaWV3KHZhbHVlSW5MVmlldykgPyB2YWx1ZUluTFZpZXdbVF9IT1NUXSA6IGdldFROb2RlKGxWaWV3W1RWSUVXXSwgbm9kZUluZGV4KTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRFcXVhbCh0Tm9kZS5pbmRleCwgbm9kZUluZGV4LCAnRXhwZWN0aW5nIHRoYXQgVE5vZGUgYXQgaW5kZXggaXMgc2FtZSBhcyBpbmRleCcpO1xuICAgICAgICByZXR1cm4gYnVpbGREZWJ1Z05vZGUodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSBjb21wb25lbnQgYExWaWV3YCBmcm9tIGNvbXBvbmVudC9lbGVtZW50LlxuICpcbiAqIE5PVEU6IGBMVmlld2AgaXMgYSBwcml2YXRlIGFuZCBzaG91bGQgbm90IGJlIGxlYWtlZCBvdXRzaWRlLlxuICogICAgICAgRG9uJ3QgZXhwb3J0IHRoaXMgbWV0aG9kIHRvIGBuZy4qYCBvbiB3aW5kb3cuXG4gKlxuICogQHBhcmFtIHRhcmdldCBET00gZWxlbWVudCBvciBjb21wb25lbnQgaW5zdGFuY2UgZm9yIHdoaWNoIHRvIHJldHJpZXZlIHRoZSBMVmlldy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TFZpZXcodGFyZ2V0KSB7XG4gICAgY29uc3QgbENvbnRleHQgPSBnZXRMQ29udGV4dCh0YXJnZXQpO1xuICAgIGNvbnN0IG5vZGVJbmR4ID0gbENvbnRleHQubm9kZUluZGV4O1xuICAgIGNvbnN0IGxWaWV3ID0gbENvbnRleHQubFZpZXc7XG4gICAgY29uc3QgY29tcG9uZW50TFZpZXcgPSBsVmlld1tub2RlSW5keF07XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGNvbXBvbmVudExWaWV3KTtcbiAgICByZXR1cm4gY29tcG9uZW50TFZpZXc7XG59XG4vKiogQXNzZXJ0cyB0aGF0IGEgdmFsdWUgaXMgYSBET00gRWxlbWVudC4gKi9cbmZ1bmN0aW9uIGFzc2VydERvbUVsZW1lbnQodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmICEodmFsdWUgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGluZyBpbnN0YW5jZSBvZiBET00gRWxlbWVudCcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtzIGEgY29tcG9uZW50IGZvciBjaGVjayAoaW4gY2FzZSBvZiBPblB1c2ggY29tcG9uZW50cykgYW5kIHN5bmNocm9ub3VzbHlcbiAqIHBlcmZvcm1zIGNoYW5nZSBkZXRlY3Rpb24gb24gdGhlIGFwcGxpY2F0aW9uIHRoaXMgY29tcG9uZW50IGJlbG9uZ3MgdG8uXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgdG8ge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI21hcmtGb3JDaGVjayBtYXJrIGZvciBjaGVja30uXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBhcHBseUNoYW5nZXMoY29tcG9uZW50KSB7XG4gICAgbWFya0RpcnR5KGNvbXBvbmVudCk7XG4gICAgZ2V0Um9vdENvbXBvbmVudHMoY29tcG9uZW50KS5mb3JFYWNoKHJvb3RDb21wb25lbnQgPT4gZGV0ZWN0Q2hhbmdlcyhyb290Q29tcG9uZW50KSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGZpbGUgaW50cm9kdWNlcyBzZXJpZXMgb2YgZ2xvYmFsbHkgYWNjZXNzaWJsZSBkZWJ1ZyB0b29sc1xuICogdG8gYWxsb3cgZm9yIHRoZSBBbmd1bGFyIGRlYnVnZ2luZyBzdG9yeSB0byBmdW5jdGlvbi5cbiAqXG4gKiBUbyBzZWUgdGhpcyBpbiBhY3Rpb24gcnVuIHRoZSBmb2xsb3dpbmcgY29tbWFuZDpcbiAqXG4gKiAgIGJhemVsIHJ1biAvL3BhY2thZ2VzL2NvcmUvdGVzdC9idW5kbGluZy90b2RvOmRldnNlcnZlclxuICpcbiAqICBUaGVuIGxvYWQgYGxvY2FsaG9zdDo1NDMyYCBhbmQgc3RhcnQgdXNpbmcgdGhlIGNvbnNvbGUgdG9vbHMuXG4gKi9cbi8qKlxuICogVGhpcyB2YWx1ZSByZWZsZWN0cyB0aGUgcHJvcGVydHkgb24gdGhlIHdpbmRvdyB3aGVyZSB0aGUgZGV2XG4gKiB0b29scyBhcmUgcGF0Y2hlZCAod2luZG93Lm5nKS5cbiAqICovXG5jb25zdCBHTE9CQUxfUFVCTElTSF9FWFBBTkRPX0tFWSA9ICduZyc7XG5sZXQgX3B1Ymxpc2hlZCA9IGZhbHNlO1xuLyoqXG4gKiBQdWJsaXNoZXMgYSBjb2xsZWN0aW9uIG9mIGRlZmF1bHQgZGVidWcgdG9vbHMgb250b2B3aW5kb3cubmdgLlxuICpcbiAqIFRoZXNlIGZ1bmN0aW9ucyBhcmUgYXZhaWxhYmxlIGdsb2JhbGx5IHdoZW4gQW5ndWxhciBpcyBpbiBkZXZlbG9wbWVudFxuICogbW9kZSBhbmQgYXJlIGF1dG9tYXRpY2FsbHkgc3RyaXBwZWQgYXdheSBmcm9tIHByb2QgbW9kZSBpcyBvbi5cbiAqL1xuZnVuY3Rpb24gcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxKCkge1xuICAgIGlmICghX3B1Ymxpc2hlZCkge1xuICAgICAgICBfcHVibGlzaGVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdhcm5pbmc6IHRoaXMgZnVuY3Rpb24gaXMgKklOVEVSTkFMKiBhbmQgc2hvdWxkIG5vdCBiZSByZWxpZWQgdXBvbiBpbiBhcHBsaWNhdGlvbidzIGNvZGUuXG4gICAgICAgICAqIFRoZSBjb250cmFjdCBvZiB0aGUgZnVuY3Rpb24gbWlnaHQgYmUgY2hhbmdlZCBpbiBhbnkgcmVsZWFzZSBhbmQvb3IgdGhlIGZ1bmN0aW9uIGNhbiBiZVxuICAgICAgICAgKiByZW1vdmVkIGNvbXBsZXRlbHkuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnybVzZXRQcm9maWxlcicsIHNldFByb2ZpbGVyKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldERpcmVjdGl2ZU1ldGFkYXRhJywgZ2V0RGlyZWN0aXZlTWV0YWRhdGEkMSk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRDb21wb25lbnQnLCBnZXRDb21wb25lbnQkMSk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRDb250ZXh0JywgZ2V0Q29udGV4dCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRMaXN0ZW5lcnMnLCBnZXRMaXN0ZW5lcnMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0T3duaW5nQ29tcG9uZW50JywgZ2V0T3duaW5nQ29tcG9uZW50KTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldEhvc3RFbGVtZW50JywgZ2V0SG9zdEVsZW1lbnQpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0SW5qZWN0b3InLCBnZXRJbmplY3Rvcik7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRSb290Q29tcG9uZW50cycsIGdldFJvb3RDb21wb25lbnRzKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldERpcmVjdGl2ZXMnLCBnZXREaXJlY3RpdmVzKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2FwcGx5Q2hhbmdlcycsIGFwcGx5Q2hhbmdlcyk7XG4gICAgfVxufVxuLyoqXG4gKiBQdWJsaXNoZXMgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIGB3aW5kb3cubmdgIHNvIHRoYXQgaXQgY2FuIGJlXG4gKiB1c2VkIGZyb20gdGhlIGJyb3dzZXIgY29uc29sZSB3aGVuIGFuIGFwcGxpY2F0aW9uIGlzIG5vdCBpbiBwcm9kdWN0aW9uLlxuICovXG5mdW5jdGlvbiBwdWJsaXNoR2xvYmFsVXRpbChuYW1lLCBmbikge1xuICAgIGlmICh0eXBlb2YgQ09NUElMRUQgPT09ICd1bmRlZmluZWQnIHx8ICFDT01QSUxFRCkge1xuICAgICAgICAvLyBOb3RlOiB3ZSBjYW4ndCBleHBvcnQgYG5nYCB3aGVuIHVzaW5nIGNsb3N1cmUgZW5oYW5jZWQgb3B0aW1pemF0aW9uIGFzOlxuICAgICAgICAvLyAtIGNsb3N1cmUgZGVjbGFyZXMgZ2xvYmFscyBpdHNlbGYgZm9yIG1pbmlmaWVkIG5hbWVzLCB3aGljaCBzb21ldGltZXMgY2xvYmJlciBvdXIgYG5nYCBnbG9iYWxcbiAgICAgICAgLy8gLSB3ZSBjYW4ndCBkZWNsYXJlIGEgY2xvc3VyZSBleHRlcm4gYXMgdGhlIG5hbWVzcGFjZSBgbmdgIGlzIGFscmVhZHkgdXNlZCB3aXRoaW4gR29vZ2xlXG4gICAgICAgIC8vICAgZm9yIHR5cGluZ3MgZm9yIEFuZ3VsYXJKUyAodmlhIGBnb29nLnByb3ZpZGUoJ25nLi4uLicpYCkuXG4gICAgICAgIGNvbnN0IHcgPSBfZ2xvYmFsO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChmbiwgJ2Z1bmN0aW9uIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIGlmICh3KSB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gd1tHTE9CQUxfUFVCTElTSF9FWFBBTkRPX0tFWV07XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHdbR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVldID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250YWluZXJbbmFtZV0gPSBmbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUT0RPOiBBIGhhY2sgdG8gbm90IHB1bGwgaW4gdGhlIE51bGxJbmplY3RvciBmcm9tIEBhbmd1bGFyL2NvcmUuXG5jb25zdCBOVUxMX0lOSkVDVE9SID0ge1xuICAgIGdldDogKHRva2VuLCBub3RGb3VuZFZhbHVlKSA9PiB7XG4gICAgICAgIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHRva2VuLCAnTnVsbEluamVjdG9yJyk7XG4gICAgfVxufTtcbi8qKlxuICogQm9vdHN0cmFwcyBhIENvbXBvbmVudCBpbnRvIGFuIGV4aXN0aW5nIGhvc3QgZWxlbWVudCBhbmQgcmV0dXJucyBhbiBpbnN0YW5jZVxuICogb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBib290c3RyYXAgYSBjb21wb25lbnQgaW50byB0aGUgRE9NIHRyZWUuIEVhY2ggaW52b2NhdGlvblxuICogb2YgdGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIHNlcGFyYXRlIHRyZWUgb2YgY29tcG9uZW50cywgaW5qZWN0b3JzIGFuZFxuICogY2hhbmdlIGRldGVjdGlvbiBjeWNsZXMgYW5kIGxpZmV0aW1lcy4gVG8gZHluYW1pY2FsbHkgaW5zZXJ0IGEgbmV3IGNvbXBvbmVudFxuICogaW50byBhbiBleGlzdGluZyB0cmVlIHN1Y2ggdGhhdCBpdCBzaGFyZXMgdGhlIHNhbWUgaW5qZWN0aW9uLCBjaGFuZ2UgZGV0ZWN0aW9uXG4gKiBhbmQgb2JqZWN0IGxpZmV0aW1lLCB1c2Uge0BsaW5rIFZpZXdDb250YWluZXIjY3JlYXRlQ29tcG9uZW50fS5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50VHlwZSBDb21wb25lbnQgdG8gYm9vdHN0cmFwXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzIHdoaWNoIGNvbnRyb2wgYm9vdHN0cmFwcGluZ1xuICovXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50VHlwZSAvKiBUeXBlIGFzIHdvcmthcm91bmQgZm9yOiBNaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNDg4MSAqLywgb3B0cyA9IHt9KSB7XG4gICAgbmdEZXZNb2RlICYmIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMkMSgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRDb21wb25lbnRUeXBlKGNvbXBvbmVudFR5cGUpO1xuICAgIGNvbnN0IHJlbmRlcmVyRmFjdG9yeSA9IG9wdHMucmVuZGVyZXJGYWN0b3J5IHx8IGRvbVJlbmRlcmVyRmFjdG9yeTM7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gb3B0cy5zYW5pdGl6ZXIgfHwgbnVsbDtcbiAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29tcG9uZW50VHlwZSk7XG4gICAgaWYgKGNvbXBvbmVudERlZi50eXBlICE9IGNvbXBvbmVudFR5cGUpXG4gICAgICAgIGNvbXBvbmVudERlZi50eXBlID0gY29tcG9uZW50VHlwZTtcbiAgICAvLyBUaGUgZmlyc3QgaW5kZXggb2YgdGhlIGZpcnN0IHNlbGVjdG9yIGlzIHRoZSB0YWcgbmFtZS5cbiAgICBjb25zdCBjb21wb25lbnRUYWcgPSBjb21wb25lbnREZWYuc2VsZWN0b3JzWzBdWzBdO1xuICAgIGNvbnN0IGhvc3RSZW5kZXJlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCBudWxsKTtcbiAgICBjb25zdCBob3N0Uk5vZGUgPSBsb2NhdGVIb3N0RWxlbWVudChob3N0UmVuZGVyZXIsIG9wdHMuaG9zdCB8fCBjb21wb25lbnRUYWcsIGNvbXBvbmVudERlZi5lbmNhcHN1bGF0aW9uKTtcbiAgICBjb25zdCByb290RmxhZ3MgPSBjb21wb25lbnREZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gfCA1MTIgLyogSXNSb290ICovIDpcbiAgICAgICAgMTYgLyogQ2hlY2tBbHdheXMgKi8gfCA1MTIgLyogSXNSb290ICovO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gY3JlYXRlUm9vdENvbnRleHQob3B0cy5zY2hlZHVsZXIsIG9wdHMucGxheWVySGFuZGxlcik7XG4gICAgY29uc3QgcmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIoaG9zdFJOb2RlLCBjb21wb25lbnREZWYpO1xuICAgIGNvbnN0IHJvb3RUVmlldyA9IGNyZWF0ZVRWaWV3KDAgLyogUm9vdCAqLywgbnVsbCwgbnVsbCwgMSwgMCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSBjcmVhdGVMVmlldyhudWxsLCByb290VFZpZXcsIHJvb3RDb250ZXh0LCByb290RmxhZ3MsIG51bGwsIG51bGwsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIG51bGwsIG9wdHMuaW5qZWN0b3IgfHwgbnVsbCk7XG4gICAgZW50ZXJWaWV3KHJvb3RWaWV3KTtcbiAgICBsZXQgY29tcG9uZW50O1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChyZW5kZXJlckZhY3RvcnkuYmVnaW4pXG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuYmVnaW4oKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3KGhvc3RSTm9kZSwgY29tcG9uZW50RGVmLCByb290VmlldywgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlciwgc2FuaXRpemVyKTtcbiAgICAgICAgY29tcG9uZW50ID0gY3JlYXRlUm9vdENvbXBvbmVudChjb21wb25lbnRWaWV3LCBjb21wb25lbnREZWYsIHJvb3RWaWV3LCByb290Q29udGV4dCwgb3B0cy5ob3N0RmVhdHVyZXMgfHwgbnVsbCk7XG4gICAgICAgIC8vIGNyZWF0ZSBtb2RlIHBhc3NcbiAgICAgICAgcmVuZGVyVmlldyhyb290VFZpZXcsIHJvb3RWaWV3LCBudWxsKTtcbiAgICAgICAgLy8gdXBkYXRlIG1vZGUgcGFzc1xuICAgICAgICByZWZyZXNoVmlldyhyb290VFZpZXcsIHJvb3RWaWV3LCBudWxsLCBudWxsKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGxlYXZlVmlldygpO1xuICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmVuZClcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5lbmQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgcm9vdCBjb21wb25lbnQgdmlldyBhbmQgdGhlIHJvb3QgY29tcG9uZW50IG5vZGUuXG4gKlxuICogQHBhcmFtIHJOb2RlIFJlbmRlciBob3N0IGVsZW1lbnQuXG4gKiBAcGFyYW0gZGVmIENvbXBvbmVudERlZlxuICogQHBhcmFtIHJvb3RWaWV3IFRoZSBwYXJlbnQgdmlldyB3aGVyZSB0aGUgaG9zdCBub2RlIGlzIHN0b3JlZFxuICogQHBhcmFtIHJlbmRlcmVyRmFjdG9yeSBGYWN0b3J5IHRvIGJlIHVzZWQgZm9yIGNyZWF0aW5nIGNoaWxkIHJlbmRlcmVycy5cbiAqIEBwYXJhbSBob3N0UmVuZGVyZXIgVGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAqIEBwYXJhbSBzYW5pdGl6ZXIgVGhlIHNhbml0aXplciwgaWYgcHJvdmlkZWRcbiAqXG4gKiBAcmV0dXJucyBDb21wb25lbnQgdmlldyBjcmVhdGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3KHJOb2RlLCBkZWYsIHJvb3RWaWV3LCByZW5kZXJlckZhY3RvcnksIGhvc3RSZW5kZXJlciwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgdFZpZXcgPSByb290Vmlld1tUVklFV107XG4gICAgY29uc3QgaW5kZXggPSBIRUFERVJfT0ZGU0VUO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2Uocm9vdFZpZXcsIGluZGV4KTtcbiAgICByb290Vmlld1tpbmRleF0gPSByTm9kZTtcbiAgICAvLyAnI2hvc3QnIGlzIGFkZGVkIGhlcmUgYXMgd2UgZG9uJ3Qga25vdyB0aGUgcmVhbCBob3N0IERPTSBuYW1lICh3ZSBkb24ndCB3YW50IHRvIHJlYWQgaXQpIGFuZCBhdFxuICAgIC8vIHRoZSBzYW1lIHRpbWUgd2Ugd2FudCB0byBjb21tdW5pY2F0ZSB0aGUgZGVidWcgYFROb2RlYCB0aGF0IHRoaXMgaXMgYSBzcGVjaWFsIGBUTm9kZWBcbiAgICAvLyByZXByZXNlbnRpbmcgYSBob3N0IGVsZW1lbnQuXG4gICAgY29uc3QgdE5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgMiAvKiBFbGVtZW50ICovLCAnI2hvc3QnLCBudWxsKTtcbiAgICBjb25zdCBtZXJnZWRBdHRycyA9IHROb2RlLm1lcmdlZEF0dHJzID0gZGVmLmhvc3RBdHRycztcbiAgICBpZiAobWVyZ2VkQXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIG1lcmdlZEF0dHJzLCB0cnVlKTtcbiAgICAgICAgaWYgKHJOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRVcEF0dHJpYnV0ZXMoaG9zdFJlbmRlcmVyLCByTm9kZSwgbWVyZ2VkQXR0cnMpO1xuICAgICAgICAgICAgaWYgKHROb2RlLmNsYXNzZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZURpcmVjdENsYXNzKGhvc3RSZW5kZXJlciwgck5vZGUsIHROb2RlLmNsYXNzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHROb2RlLnN0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdyaXRlRGlyZWN0U3R5bGUoaG9zdFJlbmRlcmVyLCByTm9kZSwgdE5vZGUuc3R5bGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB2aWV3UmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIock5vZGUsIGRlZik7XG4gICAgY29uc3QgY29tcG9uZW50VmlldyA9IGNyZWF0ZUxWaWV3KHJvb3RWaWV3LCBnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3KGRlZiksIG51bGwsIGRlZi5vblB1c2ggPyA2NCAvKiBEaXJ0eSAqLyA6IDE2IC8qIENoZWNrQWx3YXlzICovLCByb290Vmlld1tpbmRleF0sIHROb2RlLCByZW5kZXJlckZhY3RvcnksIHZpZXdSZW5kZXJlciwgc2FuaXRpemVyIHx8IG51bGwsIG51bGwpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgcm9vdFZpZXcpLCB0VmlldywgZGVmLnR5cGUpO1xuICAgICAgICBtYXJrQXNDb21wb25lbnRIb3N0KHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGluaXRUTm9kZUZsYWdzKHROb2RlLCByb290Vmlldy5sZW5ndGgsIDEpO1xuICAgIH1cbiAgICBhZGRUb1ZpZXdUcmVlKHJvb3RWaWV3LCBjb21wb25lbnRWaWV3KTtcbiAgICAvLyBTdG9yZSBjb21wb25lbnQgdmlldyBhdCBub2RlIGluZGV4LCB3aXRoIG5vZGUgYXMgdGhlIEhPU1RcbiAgICByZXR1cm4gcm9vdFZpZXdbaW5kZXhdID0gY29tcG9uZW50Vmlldztcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHJvb3QgY29tcG9uZW50IGFuZCBzZXRzIGl0IHVwIHdpdGggZmVhdHVyZXMgYW5kIGhvc3QgYmluZGluZ3MuIFNoYXJlZCBieVxuICogcmVuZGVyQ29tcG9uZW50KCkgYW5kIFZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KCkuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvb3RDb21wb25lbnQoY29tcG9uZW50VmlldywgY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJvb3RDb250ZXh0LCBob3N0RmVhdHVyZXMpIHtcbiAgICBjb25zdCB0VmlldyA9IHJvb3RMVmlld1tUVklFV107XG4gICAgLy8gQ3JlYXRlIGRpcmVjdGl2ZSBpbnN0YW5jZSB3aXRoIGZhY3RvcnkoKSBhbmQgc3RvcmUgYXQgbmV4dCBpbmRleCBpbiB2aWV3RGF0YVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IGluc3RhbnRpYXRlUm9vdENvbXBvbmVudCh0Vmlldywgcm9vdExWaWV3LCBjb21wb25lbnREZWYpO1xuICAgIHJvb3RDb250ZXh0LmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0gPSBjb21wb25lbnQ7XG4gICAgaG9zdEZlYXR1cmVzICYmIGhvc3RGZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlKSA9PiBmZWF0dXJlKGNvbXBvbmVudCwgY29tcG9uZW50RGVmKSk7XG4gICAgLy8gV2Ugd2FudCB0byBnZW5lcmF0ZSBhbiBlbXB0eSBRdWVyeUxpc3QgZm9yIHJvb3QgY29udGVudCBxdWVyaWVzIGZvciBiYWNrd2FyZHNcbiAgICAvLyBjb21wYXRpYmlsaXR5IHdpdGggVmlld0VuZ2luZS5cbiAgICBpZiAoY29tcG9uZW50RGVmLmNvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgZXhwZWN0ZWQnKTtcbiAgICAgICAgY29tcG9uZW50RGVmLmNvbnRlbnRRdWVyaWVzKDEgLyogQ3JlYXRlICovLCBjb21wb25lbnQsIHROb2RlLmRpcmVjdGl2ZVN0YXJ0KTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdFROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocm9vdFROb2RlLCAndE5vZGUgc2hvdWxkIGhhdmUgYmVlbiBhbHJlYWR5IGNyZWF0ZWQnKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzICYmXG4gICAgICAgIChjb21wb25lbnREZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsIHx8IGNvbXBvbmVudERlZi5ob3N0QXR0cnMgIT09IG51bGwpKSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgocm9vdFROb2RlLmluZGV4KTtcbiAgICAgICAgY29uc3Qgcm9vdFRWaWV3ID0gcm9vdExWaWV3W1RWSUVXXTtcbiAgICAgICAgcmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXMocm9vdFRWaWV3LCByb290VE5vZGUsIHJvb3RMVmlldywgcm9vdFROb2RlLmRpcmVjdGl2ZVN0YXJ0LCByb290VE5vZGUuZGlyZWN0aXZlRW5kLCBjb21wb25lbnREZWYpO1xuICAgICAgICBpbnZva2VIb3N0QmluZGluZ3NJbkNyZWF0aW9uTW9kZShjb21wb25lbnREZWYsIGNvbXBvbmVudCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBjcmVhdGVSb290Q29udGV4dChzY2hlZHVsZXIsIHBsYXllckhhbmRsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb21wb25lbnRzOiBbXSxcbiAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIgfHwgZGVmYXVsdFNjaGVkdWxlcixcbiAgICAgICAgY2xlYW46IENMRUFOX1BST01JU0UsXG4gICAgICAgIHBsYXllckhhbmRsZXI6IHBsYXllckhhbmRsZXIgfHwgbnVsbCxcbiAgICAgICAgZmxhZ3M6IDAgLyogRW1wdHkgKi9cbiAgICB9O1xufVxuLyoqXG4gKiBVc2VkIHRvIGVuYWJsZSBsaWZlY3ljbGUgaG9va3Mgb24gdGhlIHJvb3QgY29tcG9uZW50LlxuICpcbiAqIEluY2x1ZGUgdGhpcyBmZWF0dXJlIHdoZW4gY2FsbGluZyBgcmVuZGVyQ29tcG9uZW50YCBpZiB0aGUgcm9vdCBjb21wb25lbnRcbiAqIHlvdSBhcmUgcmVuZGVyaW5nIGhhcyBsaWZlY3ljbGUgaG9va3MgZGVmaW5lZC4gT3RoZXJ3aXNlLCB0aGUgaG9va3Mgd29uJ3RcbiAqIGJlIGNhbGxlZCBwcm9wZXJseS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogcmVuZGVyQ29tcG9uZW50KEFwcENvbXBvbmVudCwge2hvc3RGZWF0dXJlczogW0xpZmVjeWNsZUhvb2tzRmVhdHVyZV19KTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBMaWZlY3ljbGVIb29rc0ZlYXR1cmUoY29tcG9uZW50LCBkZWYpIHtcbiAgICBjb25zdCBsVmlldyA9IHJlYWRQYXRjaGVkTFZpZXcoY29tcG9uZW50KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlldywgJ0xWaWV3IGlzIHJlcXVpcmVkJyk7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIGlzIHJlcXVpcmVkJyk7XG4gICAgcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgdE5vZGUpO1xufVxuLyoqXG4gKiBXYWl0IG9uIGNvbXBvbmVudCB1bnRpbCBpdCBpcyByZW5kZXJlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBgUHJvbWlzZWAgd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiB0aGUgY29tcG9uZW50J3NcbiAqIGNoYW5nZSBkZXRlY3Rpb24gaXMgZXhlY3V0ZWQuIFRoaXMgaXMgZGV0ZXJtaW5lZCBieSBmaW5kaW5nIHRoZSBzY2hlZHVsZXJcbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgYGNvbXBvbmVudGAncyByZW5kZXIgdHJlZSBhbmQgd2FpdGluZyB1bnRpbCB0aGUgc2NoZWR1bGVyXG4gKiBmbHVzaGVzLiBJZiBub3RoaW5nIGlzIHNjaGVkdWxlZCwgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSByZXNvbHZlZCBwcm9taXNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIGF3YWl0IHdoZW5SZW5kZXJlZChteUNvbXBvbmVudCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCB0byB3YWl0IHVwb25cbiAqIEByZXR1cm5zIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlbmRlcmVkLlxuICovXG5mdW5jdGlvbiB3aGVuUmVuZGVyZWQoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGdldFJvb3RDb250ZXh0KGNvbXBvbmVudCkuY2xlYW47XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0U3VwZXJUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3Rvcjtcbn1cbi8qKlxuICogTWVyZ2VzIHRoZSBkZWZpbml0aW9uIGZyb20gYSBzdXBlciBjbGFzcyB0byBhIHN1YiBjbGFzcy5cbiAqIEBwYXJhbSBkZWZpbml0aW9uIFRoZSBkZWZpbml0aW9uIHRoYXQgaXMgYSBTdWJDbGFzcyBvZiBhbm90aGVyIGRpcmVjdGl2ZSBvZiBjb21wb25lbnRcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlKGRlZmluaXRpb24pIHtcbiAgICBsZXQgc3VwZXJUeXBlID0gZ2V0U3VwZXJUeXBlKGRlZmluaXRpb24udHlwZSk7XG4gICAgbGV0IHNob3VsZEluaGVyaXRGaWVsZHMgPSB0cnVlO1xuICAgIGNvbnN0IGluaGVyaXRhbmNlQ2hhaW4gPSBbZGVmaW5pdGlvbl07XG4gICAgd2hpbGUgKHN1cGVyVHlwZSkge1xuICAgICAgICBsZXQgc3VwZXJEZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudERlZihkZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUuybVjbXAgfHwgc3VwZXJUeXBlLsm1ZGlyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN1cGVyVHlwZS7JtWNtcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAgICAgJ0RpcmVjdGl2ZXMgY2Fubm90IGluaGVyaXQgQ29tcG9uZW50cycgOlxuICAgICAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMyAvKiBJTlZBTElEX0lOSEVSSVRBTkNFICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUuybVkaXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1cGVyRGVmKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkSW5oZXJpdEZpZWxkcykge1xuICAgICAgICAgICAgICAgIGluaGVyaXRhbmNlQ2hhaW4ucHVzaChzdXBlckRlZik7XG4gICAgICAgICAgICAgICAgLy8gU29tZSBmaWVsZHMgaW4gdGhlIGRlZmluaXRpb24gbWF5IGJlIGVtcHR5LCBpZiB0aGVyZSB3ZXJlIG5vIHZhbHVlcyB0byBwdXQgaW4gdGhlbSB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd291bGQndmUganVzdGlmaWVkIG9iamVjdCBjcmVhdGlvbi4gVW53cmFwIHRoZW0gaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlYWJsZURlZiA9IGRlZmluaXRpb247XG4gICAgICAgICAgICAgICAgd3JpdGVhYmxlRGVmLmlucHV0cyA9IG1heWJlVW53cmFwRW1wdHkoZGVmaW5pdGlvbi5pbnB1dHMpO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5kZWNsYXJlZElucHV0cyA9IG1heWJlVW53cmFwRW1wdHkoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cyk7XG4gICAgICAgICAgICAgICAgd3JpdGVhYmxlRGVmLm91dHB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24ub3V0cHV0cyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgaG9zdEJpbmRpbmdzXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VwZXJIb3N0QmluZGluZ3MgPSBzdXBlckRlZi5ob3N0QmluZGluZ3M7XG4gICAgICAgICAgICAgICAgc3VwZXJIb3N0QmluZGluZ3MgJiYgaW5oZXJpdEhvc3RCaW5kaW5ncyhkZWZpbml0aW9uLCBzdXBlckhvc3RCaW5kaW5ncyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgcXVlcmllc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cGVyVmlld1F1ZXJ5ID0gc3VwZXJEZWYudmlld1F1ZXJ5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cGVyQ29udGVudFF1ZXJpZXMgPSBzdXBlckRlZi5jb250ZW50UXVlcmllcztcbiAgICAgICAgICAgICAgICBzdXBlclZpZXdRdWVyeSAmJiBpbmhlcml0Vmlld1F1ZXJ5KGRlZmluaXRpb24sIHN1cGVyVmlld1F1ZXJ5KTtcbiAgICAgICAgICAgICAgICBzdXBlckNvbnRlbnRRdWVyaWVzICYmIGluaGVyaXRDb250ZW50UXVlcmllcyhkZWZpbml0aW9uLCBzdXBlckNvbnRlbnRRdWVyaWVzKTtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBpbnB1dHMgYW5kIG91dHB1dHNcbiAgICAgICAgICAgICAgICBmaWxsUHJvcGVydGllcyhkZWZpbml0aW9uLmlucHV0cywgc3VwZXJEZWYuaW5wdXRzKTtcbiAgICAgICAgICAgICAgICBmaWxsUHJvcGVydGllcyhkZWZpbml0aW9uLmRlY2xhcmVkSW5wdXRzLCBzdXBlckRlZi5kZWNsYXJlZElucHV0cyk7XG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5vdXRwdXRzLCBzdXBlckRlZi5vdXRwdXRzKTtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBhbmltYXRpb25zIG1ldGFkYXRhLlxuICAgICAgICAgICAgICAgIC8vIElmIGBzdXBlckRlZmAgaXMgYSBDb21wb25lbnQsIHRoZSBgZGF0YWAgZmllbGQgaXMgcHJlc2VudCAoZGVmYXVsdHMgdG8gYW4gZW1wdHkgb2JqZWN0KS5cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoc3VwZXJEZWYpICYmIHN1cGVyRGVmLmRhdGEuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHN1cGVyIGRlZiBpcyBhIENvbXBvbmVudCwgdGhlIGBkZWZpbml0aW9uYCBpcyBhbHNvIGEgQ29tcG9uZW50LCBzaW5jZSBEaXJlY3RpdmVzIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBub3QgaW5oZXJpdCBDb21wb25lbnRzICh3ZSB0aHJvdyBhbiBlcnJvciBhYm92ZSBhbmQgY2Fubm90IHJlYWNoIHRoaXMgY29kZSkuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZkRhdGEgPSBkZWZpbml0aW9uLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGRlZkRhdGEuYW5pbWF0aW9uID0gKGRlZkRhdGEuYW5pbWF0aW9uIHx8IFtdKS5jb25jYXQoc3VwZXJEZWYuZGF0YS5hbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJ1biBwYXJlbnQgZmVhdHVyZXNcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3VwZXJEZWYuZmVhdHVyZXM7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUgJiYgZmVhdHVyZS5uZ0luaGVyaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmUoZGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYEluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAgaXMgYSBwYXJ0IG9mIHRoZSBjdXJyZW50IGBzdXBlckRlZmAsIGl0IG1lYW5zIHRoYXQgdGhpc1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWYgYWxyZWFkeSBoYXMgYWxsIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gaW5oZXJpdGVkIGZyb20gaXRzIHN1cGVyIGNsYXNzKGVzKSwgc28gd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuIHN0b3AgbWVyZ2luZyBmaWVsZHMgZnJvbSBzdXBlciBjbGFzc2VzLiBIb3dldmVyIHdlIG5lZWQgdG8gaXRlcmF0ZSB0aHJvdWdoIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBwcm90b3R5cGUgY2hhaW4gdG8gbG9vayBmb3IgY2xhc3NlcyB0aGF0IG1pZ2h0IGNvbnRhaW4gb3RoZXIgXCJmZWF0dXJlc1wiIChsaWtlXG4gICAgICAgICAgICAgICAgICAgIC8vIE5nT25DaGFuZ2VzKSwgd2hpY2ggd2Ugc2hvdWxkIGludm9rZSBmb3IgdGhlIG9yaWdpbmFsIGBkZWZpbml0aW9uYC4gV2Ugc2V0IHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBgc2hvdWxkSW5oZXJpdEZpZWxkc2AgZmxhZyB0byBpbmRpY2F0ZSB0aGF0LCBlc3NlbnRpYWxseSBza2lwcGluZyBmaWVsZHMgaW5oZXJpdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9naWMgYW5kIG9ubHkgaW52b2tpbmcgZnVuY3Rpb25zIGZyb20gdGhlIFwiZmVhdHVyZXNcIiBsaXN0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZSA9PT0gybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSW5oZXJpdEZpZWxkcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyVHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihzdXBlclR5cGUpO1xuICAgIH1cbiAgICBtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlKGluaGVyaXRhbmNlQ2hhaW4pO1xufVxuLyoqXG4gKiBNZXJnZSB0aGUgYGhvc3RBdHRyc2AgYW5kIGBob3N0VmFyc2AgZnJvbSB0aGUgaW5oZXJpdGVkIHBhcmVudCB0byB0aGUgYmFzZSBjbGFzcy5cbiAqXG4gKiBAcGFyYW0gaW5oZXJpdGFuY2VDaGFpbiBBIGxpc3Qgb2YgYFdyaXRhYmxlRGVmc2Agc3RhcnRpbmcgYXQgdGhlIHRvcCBtb3N0IHR5cGUgYW5kIGxpc3RpbmdcbiAqIHN1Yi10eXBlcyBpbiBvcmRlci4gRm9yIGVhY2ggdHlwZSB0YWtlIHRoZSBgaG9zdEF0dHJzYCBhbmQgYGhvc3RWYXJzYCBhbmQgbWVyZ2UgaXQgd2l0aCB0aGUgY2hpbGRcbiAqIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9zdEF0dHJzQWNyb3NzSW5oZXJpdGFuY2UoaW5oZXJpdGFuY2VDaGFpbikge1xuICAgIGxldCBob3N0VmFycyA9IDA7XG4gICAgbGV0IGhvc3RBdHRycyA9IG51bGw7XG4gICAgLy8gV2UgcHJvY2VzcyB0aGUgaW5oZXJpdGFuY2Ugb3JkZXIgZnJvbSB0aGUgYmFzZSB0byB0aGUgbGVhdmVzIGhlcmUuXG4gICAgZm9yIChsZXQgaSA9IGluaGVyaXRhbmNlQ2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgZGVmID0gaW5oZXJpdGFuY2VDaGFpbltpXTtcbiAgICAgICAgLy8gRm9yIGVhY2ggYGhvc3RWYXJzYCwgd2UgbmVlZCB0byBhZGQgdGhlIHN1cGVyY2xhc3MgYW1vdW50LlxuICAgICAgICBkZWYuaG9zdFZhcnMgPSAoaG9zdFZhcnMgKz0gZGVmLmhvc3RWYXJzKTtcbiAgICAgICAgLy8gZm9yIGVhY2ggYGhvc3RBdHRyc2Agd2UgbmVlZCB0byBtZXJnZSBpdCB3aXRoIHN1cGVyY2xhc3MuXG4gICAgICAgIGRlZi5ob3N0QXR0cnMgPVxuICAgICAgICAgICAgbWVyZ2VIb3N0QXR0cnMoZGVmLmhvc3RBdHRycywgaG9zdEF0dHJzID0gbWVyZ2VIb3N0QXR0cnMoaG9zdEF0dHJzLCBkZWYuaG9zdEF0dHJzKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWF5YmVVbndyYXBFbXB0eSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPT09IEVNUFRZX0FSUkFZKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmhlcml0Vmlld1F1ZXJ5KGRlZmluaXRpb24sIHN1cGVyVmlld1F1ZXJ5KSB7XG4gICAgY29uc3QgcHJldlZpZXdRdWVyeSA9IGRlZmluaXRpb24udmlld1F1ZXJ5O1xuICAgIGlmIChwcmV2Vmlld1F1ZXJ5KSB7XG4gICAgICAgIGRlZmluaXRpb24udmlld1F1ZXJ5ID0gKHJmLCBjdHgpID0+IHtcbiAgICAgICAgICAgIHN1cGVyVmlld1F1ZXJ5KHJmLCBjdHgpO1xuICAgICAgICAgICAgcHJldlZpZXdRdWVyeShyZiwgY3R4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluaXRpb24udmlld1F1ZXJ5ID0gc3VwZXJWaWV3UXVlcnk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5oZXJpdENvbnRlbnRRdWVyaWVzKGRlZmluaXRpb24sIHN1cGVyQ29udGVudFF1ZXJpZXMpIHtcbiAgICBjb25zdCBwcmV2Q29udGVudFF1ZXJpZXMgPSBkZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzO1xuICAgIGlmIChwcmV2Q29udGVudFF1ZXJpZXMpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5jb250ZW50UXVlcmllcyA9IChyZiwgY3R4LCBkaXJlY3RpdmVJbmRleCkgPT4ge1xuICAgICAgICAgICAgc3VwZXJDb250ZW50UXVlcmllcyhyZiwgY3R4LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgICAgICBwcmV2Q29udGVudFF1ZXJpZXMocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVmaW5pdGlvbi5jb250ZW50UXVlcmllcyA9IHN1cGVyQ29udGVudFF1ZXJpZXM7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5oZXJpdEhvc3RCaW5kaW5ncyhkZWZpbml0aW9uLCBzdXBlckhvc3RCaW5kaW5ncykge1xuICAgIGNvbnN0IHByZXZIb3N0QmluZGluZ3MgPSBkZWZpbml0aW9uLmhvc3RCaW5kaW5ncztcbiAgICBpZiAocHJldkhvc3RCaW5kaW5ncykge1xuICAgICAgICBkZWZpbml0aW9uLmhvc3RCaW5kaW5ncyA9IChyZiwgY3R4KSA9PiB7XG4gICAgICAgICAgICBzdXBlckhvc3RCaW5kaW5ncyhyZiwgY3R4KTtcbiAgICAgICAgICAgIHByZXZIb3N0QmluZGluZ3MocmYsIGN0eCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWZpbml0aW9uLmhvc3RCaW5kaW5ncyA9IHN1cGVySG9zdEJpbmRpbmdzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEZpZWxkcyB3aGljaCBleGlzdCBvbiBlaXRoZXIgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBkZWZpbml0aW9ucywgYW5kIG5lZWQgdG8gYmUgY29waWVkIGZyb21cbiAqIHBhcmVudCB0byBjaGlsZCBjbGFzc2VzIGJ5IHRoZSBgybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZWAuXG4gKi9cbmNvbnN0IENPUFlfRElSRUNUSVZFX0ZJRUxEUyA9IFtcbiAgICAvLyBUaGUgY2hpbGQgY2xhc3Mgc2hvdWxkIHVzZSB0aGUgcHJvdmlkZXJzIG9mIGl0cyBwYXJlbnQuXG4gICAgJ3Byb3ZpZGVyc1Jlc29sdmVyJyxcbiAgICAvLyBOb3QgbGlzdGVkIGhlcmUgYXJlIGFueSBmaWVsZHMgd2hpY2ggYXJlIGhhbmRsZWQgYnkgdGhlIGDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlYCwgc3VjaFxuICAgIC8vIGFzIGlucHV0cywgb3V0cHV0cywgYW5kIGhvc3QgYmluZGluZyBmdW5jdGlvbnMuXG5dO1xuLyoqXG4gKiBGaWVsZHMgd2hpY2ggZXhpc3Qgb25seSBvbiBjb21wb25lbnQgZGVmaW5pdGlvbnMsIGFuZCBuZWVkIHRvIGJlIGNvcGllZCBmcm9tIHBhcmVudCB0byBjaGlsZFxuICogY2xhc3NlcyBieSB0aGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgLlxuICpcbiAqIFRoZSB0eXBlIGhlcmUgYWxsb3dzIGFueSBmaWVsZCBvZiBgQ29tcG9uZW50RGVmYCB3aGljaCBpcyBub3QgYWxzbyBhIHByb3BlcnR5IG9mIGBEaXJlY3RpdmVEZWZgLFxuICogc2luY2UgdGhvc2Ugc2hvdWxkIGdvIGluIGBDT1BZX0RJUkVDVElWRV9GSUVMRFNgIGFib3ZlLlxuICovXG5jb25zdCBDT1BZX0NPTVBPTkVOVF9GSUVMRFMgPSBbXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uIG9mIGl0cyBwYXJlbnQsIGluY2x1ZGluZyBhbGwgdGVtcGxhdGVcbiAgICAvLyBzZW1hbnRpY3MuXG4gICAgJ3RlbXBsYXRlJyxcbiAgICAnZGVjbHMnLFxuICAgICdjb25zdHMnLFxuICAgICd2YXJzJyxcbiAgICAnb25QdXNoJyxcbiAgICAnbmdDb250ZW50U2VsZWN0b3JzJyxcbiAgICAvLyBUaGUgY2hpbGQgY2xhc3Mgc2hvdWxkIHVzZSB0aGUgQ1NTIHN0eWxlcyBvZiBpdHMgcGFyZW50LCBpbmNsdWRpbmcgYWxsIHN0eWxpbmcgc2VtYW50aWNzLlxuICAgICdzdHlsZXMnLFxuICAgICdlbmNhcHN1bGF0aW9uJyxcbiAgICAvLyBUaGUgY2hpbGQgY2xhc3Mgc2hvdWxkIGJlIGNoZWNrZWQgYnkgdGhlIHJ1bnRpbWUgaW4gdGhlIHNhbWUgd2F5IGFzIGl0cyBwYXJlbnQuXG4gICAgJ3NjaGVtYXMnLFxuXTtcbi8qKlxuICogQ29waWVzIHRoZSBmaWVsZHMgbm90IGhhbmRsZWQgYnkgdGhlIGDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlYCBmcm9tIHRoZSBzdXBlcnR5cGUgb2YgYVxuICogZGVmaW5pdGlvbi5cbiAqXG4gKiBUaGlzIGV4aXN0cyBwcmltYXJpbHkgdG8gc3VwcG9ydCBuZ2NjIG1pZ3JhdGlvbiBvZiBhbiBleGlzdGluZyBWaWV3IEVuZ2luZSBwYXR0ZXJuLCB3aGVyZSBhblxuICogZW50aXJlIGRlY29yYXRvciBpcyBpbmhlcml0ZWQgZnJvbSBhIHBhcmVudCB0byBhIGNoaWxkIGNsYXNzLiBXaGVuIG5nY2MgZGV0ZWN0cyB0aGlzIGNhc2UsIGl0XG4gKiBnZW5lcmF0ZXMgYSBza2VsZXRvbiBkZWZpbml0aW9uIG9uIHRoZSBjaGlsZCBjbGFzcywgYW5kIGFwcGxpZXMgdGhpcyBmZWF0dXJlLlxuICpcbiAqIFRoZSBgybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZWAgdGhlbiBjb3BpZXMgYW55IG5lZWRlZCBmaWVsZHMgZnJvbSB0aGUgcGFyZW50IGNsYXNzJyBkZWZpbml0aW9uLFxuICogaW5jbHVkaW5nIHRoaW5ncyBsaWtlIHRoZSBjb21wb25lbnQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIGRlZmluaXRpb24gVGhlIGRlZmluaXRpb24gb2YgYSBjaGlsZCBjbGFzcyB3aGljaCBpbmhlcml0cyBmcm9tIGEgcGFyZW50IGNsYXNzIHdpdGggaXRzXG4gKiBvd24gZGVmaW5pdGlvbi5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlKGRlZmluaXRpb24pIHtcbiAgICBsZXQgc3VwZXJUeXBlID0gZ2V0U3VwZXJUeXBlKGRlZmluaXRpb24udHlwZSk7XG4gICAgbGV0IHN1cGVyRGVmID0gdW5kZWZpbmVkO1xuICAgIGlmIChpc0NvbXBvbmVudERlZihkZWZpbml0aW9uKSkge1xuICAgICAgICAvLyBEb24ndCB1c2UgZ2V0Q29tcG9uZW50RGVmL2dldERpcmVjdGl2ZURlZi4gVGhpcyBsb2dpYyByZWxpZXMgb24gaW5oZXJpdGFuY2UuXG4gICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1Y21wO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS7JtWRpcjtcbiAgICB9XG4gICAgLy8gTmVlZGVkIGJlY2F1c2UgYGRlZmluaXRpb25gIGZpZWxkcyBhcmUgcmVhZG9ubHkuXG4gICAgY29uc3QgZGVmQW55ID0gZGVmaW5pdGlvbjtcbiAgICAvLyBDb3B5IG92ZXIgYW55IGZpZWxkcyB0aGF0IGFwcGx5IHRvIGVpdGhlciBkaXJlY3RpdmVzIG9yIGNvbXBvbmVudHMuXG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBDT1BZX0RJUkVDVElWRV9GSUVMRFMpIHtcbiAgICAgICAgZGVmQW55W2ZpZWxkXSA9IHN1cGVyRGVmW2ZpZWxkXTtcbiAgICB9XG4gICAgaWYgKGlzQ29tcG9uZW50RGVmKHN1cGVyRGVmKSkge1xuICAgICAgICAvLyBDb3B5IG92ZXIgYW55IGNvbXBvbmVudC1zcGVjaWZpYyBmaWVsZHMuXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgQ09QWV9DT01QT05FTlRfRklFTERTKSB7XG4gICAgICAgICAgICBkZWZBbnlbZmllbGRdID0gc3VwZXJEZWZbZmllbGRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBfc3ltYm9sSXRlcmF0b3IgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKCFfc3ltYm9sSXRlcmF0b3IpIHtcbiAgICAgICAgY29uc3QgU3ltYm9sID0gX2dsb2JhbFsnU3ltYm9sJ107XG4gICAgICAgIGlmIChTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBTeW1ib2wuaXRlcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlczYtc2hpbSBzcGVjaWZpYyBsb2dpY1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnZW50cmllcycgJiYga2V5ICE9PSAnc2l6ZScgJiZcbiAgICAgICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtrZXldID09PSBNYXAucHJvdG90eXBlWydlbnRyaWVzJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3N5bWJvbEl0ZXJhdG9yO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGRldk1vZGVFcXVhbChhLCBiKSB7XG4gICAgY29uc3QgaXNMaXN0TGlrZUl0ZXJhYmxlQSA9IGlzTGlzdExpa2VJdGVyYWJsZShhKTtcbiAgICBjb25zdCBpc0xpc3RMaWtlSXRlcmFibGVCID0gaXNMaXN0TGlrZUl0ZXJhYmxlKGIpO1xuICAgIGlmIChpc0xpc3RMaWtlSXRlcmFibGVBICYmIGlzTGlzdExpa2VJdGVyYWJsZUIpIHtcbiAgICAgICAgcmV0dXJuIGFyZUl0ZXJhYmxlc0VxdWFsKGEsIGIsIGRldk1vZGVFcXVhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpc0FPYmplY3QgPSBhICYmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicpO1xuICAgICAgICBjb25zdCBpc0JPYmplY3QgPSBiICYmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicpO1xuICAgICAgICBpZiAoIWlzTGlzdExpa2VJdGVyYWJsZUEgJiYgaXNBT2JqZWN0ICYmICFpc0xpc3RMaWtlSXRlcmFibGVCICYmIGlzQk9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmlzKGEsIGIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghaXNKc09iamVjdChvYmopKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBNYXApICYmIC8vIEpTIE1hcCBhcmUgaXRlcmFibGVzIGJ1dCByZXR1cm4gZW50cmllcyBhcyBbaywgdl1cbiAgICAgICAgICAgIGdldFN5bWJvbEl0ZXJhdG9yKCkgaW4gb2JqKTsgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5mdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBjb21wYXJhdG9yKSB7XG4gICAgY29uc3QgaXRlcmF0b3IxID0gYVtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIGNvbnN0IGl0ZXJhdG9yMiA9IGJbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBpdGVtMSA9IGl0ZXJhdG9yMS5uZXh0KCk7XG4gICAgICAgIGNvbnN0IGl0ZW0yID0gaXRlcmF0b3IyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgJiYgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSB8fCBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWNvbXBhcmF0b3IoaXRlbTEudmFsdWUsIGl0ZW0yLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpdGVyYXRlTGlzdExpa2Uob2JqLCBmbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZuKG9ialtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gb2JqW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgICAgIGxldCBpdGVtO1xuICAgICAgICB3aGlsZSAoISgoaXRlbSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgIGZuKGl0ZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNKc09iamVjdChvKSB7XG4gICAgcmV0dXJuIG8gIT09IG51bGwgJiYgKHR5cGVvZiBvID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBvID09PSAnb2JqZWN0Jyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETyhtaXNrbyk6IGNvbnNpZGVyIGlubGluaW5nXG4vKiogVXBkYXRlcyBiaW5kaW5nIGFuZCByZXR1cm5zIHRoZSB2YWx1ZS4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gbFZpZXdbYmluZGluZ0luZGV4XSA9IHZhbHVlO1xufVxuLyoqIEdldHMgdGhlIGN1cnJlbnQgYmluZGluZyB2YWx1ZS4gKi9cbmZ1bmN0aW9uIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGJpbmRpbmdJbmRleCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdFNhbWUobFZpZXdbYmluZGluZ0luZGV4XSwgTk9fQ0hBTkdFLCAnU3RvcmVkIHZhbHVlIHNob3VsZCBuZXZlciBiZSBOT19DSEFOR0UuJyk7XG4gICAgcmV0dXJuIGxWaWV3W2JpbmRpbmdJbmRleF07XG59XG4vKipcbiAqIFVwZGF0ZXMgYmluZGluZyBpZiBjaGFuZ2VkLCB0aGVuIHJldHVybnMgd2hldGhlciBpdCB3YXMgdXBkYXRlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFsc28gY2hlY2tzIHRoZSBgQ2hlY2tOb0NoYW5nZXNNb2RlYCBhbmQgdGhyb3dzIGlmIGNoYW5nZXMgYXJlIG1hZGUuXG4gKiBTb21lIGNoYW5nZXMgKE9iamVjdHMvaXRlcmFibGVzKSBkdXJpbmcgYENoZWNrTm9DaGFuZ2VzTW9kZWAgYXJlIGV4ZW1wdCB0byBjb21wbHkgd2l0aCBWRVxuICogYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIGJpbmRpbmdJbmRleCBUaGUgYmluZGluZyBpbiB0aGUgYExWaWV3YCB0byBjaGVja1xuICogQHBhcmFtIHZhbHVlIE5ldyB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IGBsVmlld1tiaW5kaW5nSW5kZXhdYFxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBiaW5kaW5ncyBoYXMgY2hhbmdlZC4gKFRocm93cyBpZiBiaW5kaW5nIGhhcyBjaGFuZ2VkIGR1cmluZ1xuICogICAgICAgICAgYENoZWNrTm9DaGFuZ2VzTW9kZWApXG4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdFNhbWUodmFsdWUsIE5PX0NIQU5HRSwgJ0luY29taW5nIHZhbHVlIHNob3VsZCBuZXZlciBiZSBOT19DSEFOR0UuJyk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydExlc3NUaGFuKGJpbmRpbmdJbmRleCwgbFZpZXcubGVuZ3RoLCBgU2xvdCBzaG91bGQgaGF2ZSBiZWVuIGluaXRpYWxpemVkIHRvIE5PX0NIQU5HRWApO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gbFZpZXdbYmluZGluZ0luZGV4XTtcbiAgICBpZiAoT2JqZWN0LmlzKG9sZFZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkpIHtcbiAgICAgICAgICAgIC8vIFZpZXcgZW5naW5lIGRpZG4ndCByZXBvcnQgdW5kZWZpbmVkIHZhbHVlcyBhcyBjaGFuZ2VkIG9uIHRoZSBmaXJzdCBjaGVja05vQ2hhbmdlcyBwYXNzXG4gICAgICAgICAgICAvLyAoYmVmb3JlIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHdhcyBydW4pLlxuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWVUb0NvbXBhcmUgPSBvbGRWYWx1ZSAhPT0gTk9fQ0hBTkdFID8gb2xkVmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIWRldk1vZGVFcXVhbChvbGRWYWx1ZVRvQ29tcGFyZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IGdldEV4cHJlc3Npb25DaGFuZ2VkRXJyb3JEZXRhaWxzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIG9sZFZhbHVlVG9Db21wYXJlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcklmTm9DaGFuZ2VzTW9kZShvbGRWYWx1ZSA9PT0gTk9fQ0hBTkdFLCBkZXRhaWxzLm9sZFZhbHVlLCBkZXRhaWxzLm5ld1ZhbHVlLCBkZXRhaWxzLnByb3BOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZXJlIHdhcyBhIGNoYW5nZSwgYnV0IHRoZSBgZGV2TW9kZUVxdWFsYCBkZWNpZGVkIHRoYXQgdGhlIGNoYW5nZSBpcyBleGVtcHQgZnJvbSBhbiBlcnJvci5cbiAgICAgICAgICAgIC8vIEZvciB0aGlzIHJlYXNvbiB3ZSBleGl0IGFzIGlmIG5vIGNoYW5nZS4gVGhlIGVhcmx5IGV4aXQgaXMgbmVlZGVkIHRvIHByZXZlbnQgdGhlIGNoYW5nZWRcbiAgICAgICAgICAgIC8vIHZhbHVlIHRvIGJlIHdyaXR0ZW4gaW50byBgTFZpZXdgIChJZiB3ZSB3b3VsZCB3cml0ZSB0aGUgbmV3IHZhbHVlIHRoYXQgd2Ugd291bGQgbm90IHNlZSBpdFxuICAgICAgICAgICAgLy8gYXMgY2hhbmdlIG9uIG5leHQgQ0QuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxWaWV3W2JpbmRpbmdJbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuLyoqIFVwZGF0ZXMgMiBiaW5kaW5ncyBpZiBjaGFuZ2VkLCB0aGVuIHJldHVybnMgd2hldGhlciBlaXRoZXIgd2FzIHVwZGF0ZWQuICovXG5mdW5jdGlvbiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMikge1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4ICsgMSwgZXhwMikgfHwgZGlmZmVyZW50O1xufVxuLyoqIFVwZGF0ZXMgMyBiaW5kaW5ncyBpZiBjaGFuZ2VkLCB0aGVuIHJldHVybnMgd2hldGhlciBhbnkgd2FzIHVwZGF0ZWQuICovXG5mdW5jdGlvbiBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMykge1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIGV4cDMpIHx8IGRpZmZlcmVudDtcbn1cbi8qKiBVcGRhdGVzIDQgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgYW55IHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMik7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4ICsgMiwgZXhwMywgZXhwNCkgfHwgZGlmZmVyZW50O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWUgb2Ygb3IgcmVtb3ZlcyBhIGJvdW5kIGF0dHJpYnV0ZSBvbiBhbiBFbGVtZW50LlxuICpcbiAqIFVzZWQgaW4gdGhlIGNhc2Ugb2YgYFthdHRyLnRpdGxlXT1cInZhbHVlXCJgXG4gKlxuICogQHBhcmFtIG5hbWUgbmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlLlxuICogQHBhcmFtIHZhbHVlIHZhbHVlIFRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCB3aGVuIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqICAgICAgICAgICAgICAgICAgT3RoZXJ3aXNlIHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgc2V0IHRvIHRoZSBzdHJpbmdpZmllZCB2YWx1ZS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgdmFsdWUuXG4gKiBAcGFyYW0gbmFtZXNwYWNlIE9wdGlvbmFsIG5hbWVzcGFjZSB0byB1c2Ugd2hlbiBzZXR0aW5nIHRoZSBhdHRyaWJ1dGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gbmV4dEJpbmRpbmdJbmRleCgpO1xuICAgIGlmIChiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgbmFtZSwgdmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBuYW1lLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZSBpbnRlcnBvbGF0aW9uIGJpbmRpbmdzIHdpdGggYSB2YXJpYWJsZSBudW1iZXIgb2YgZXhwcmVzc2lvbnMuXG4gKlxuICogSWYgdGhlcmUgYXJlIDEgdG8gOCBleHByZXNzaW9ucyBgaW50ZXJwb2xhdGlvbjEoKWAgdG8gYGludGVycG9sYXRpb244KClgIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gKiBUaG9zZSBhcmUgZmFzdGVyIGJlY2F1c2UgdGhlcmUgaXMgbm8gbmVlZCB0byBjcmVhdGUgYW4gYXJyYXkgb2YgZXhwcmVzc2lvbnMgYW5kIGl0ZXJhdGUgb3ZlciBpdC5cbiAqXG4gKiBgdmFsdWVzYDpcbiAqIC0gaGFzIHN0YXRpYyB0ZXh0IGF0IGV2ZW4gaW5kZXhlcyxcbiAqIC0gaGFzIGV2YWx1YXRlZCBleHByZXNzaW9ucyBhdCBvZGQgaW5kZXhlcy5cbiAqXG4gKiBSZXR1cm5zIHRoZSBjb25jYXRlbmF0ZWQgc3RyaW5nIHdoZW4gYW55IG9mIHRoZSBhcmd1bWVudHMgY2hhbmdlcywgYE5PX0NIQU5HRWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuKDIsIHZhbHVlcy5sZW5ndGgsICdzaG91bGQgaGF2ZSBhdCBsZWFzdCAzIHZhbHVlcycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh2YWx1ZXMubGVuZ3RoICUgMiwgMSwgJ3Nob3VsZCBoYXZlIGFuIG9kZCBudW1iZXIgb2YgdmFsdWVzJyk7XG4gICAgbGV0IGlzQmluZGluZ1VwZGF0ZWQgPSBmYWxzZTtcbiAgICBsZXQgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYmluZGluZ3MgKG9kZCBpbmRleGVzKSBoYXZlIGNoYW5nZWRcbiAgICAgICAgaXNCaW5kaW5nVXBkYXRlZCA9IGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgrKywgdmFsdWVzW2ldKSB8fCBpc0JpbmRpbmdVcGRhdGVkO1xuICAgIH1cbiAgICBzZXRCaW5kaW5nSW5kZXgoYmluZGluZ0luZGV4KTtcbiAgICBpZiAoIWlzQmluZGluZ1VwZGF0ZWQpIHtcbiAgICAgICAgcmV0dXJuIE5PX0NIQU5HRTtcbiAgICB9XG4gICAgLy8gQnVpbGQgdGhlIHVwZGF0ZWQgY29udGVudFxuICAgIGxldCBjb250ZW50ID0gdmFsdWVzWzBdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gcmVuZGVyU3RyaW5naWZ5KHZhbHVlc1tpXSkgKyB2YWx1ZXNbaSArIDFdO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCAxIGV4cHJlc3Npb24uXG4gKlxuICogQHBhcmFtIHByZWZpeCBzdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIHZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggc3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBuZXh0QmluZGluZ0luZGV4KCksIHYwKTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIHN1ZmZpeCA6IE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCAyIGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxKTtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoMik7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBzdWZmaXggOiBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMyBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2Mik7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDMpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgP1xuICAgICAgICBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgKyByZW5kZXJTdHJpbmdpZnkodjIpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNCBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyLCB2Myk7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDQpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgKyByZW5kZXJTdHJpbmdpZnkodjMpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDUgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB2NCkgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg1KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIGkzICsgcmVuZGVyU3RyaW5naWZ5KHY0KSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA2IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQsIHY1KSB8fCBkaWZmZXJlbnQ7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDYpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgP1xuICAgICAgICBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgKyByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgK1xuICAgICAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYzKSArIGkzICsgcmVuZGVyU3RyaW5naWZ5KHY0KSArIGk0ICsgcmVuZGVyU3RyaW5naWZ5KHY1KSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA3IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyLCB2Myk7XG4gICAgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB2NCwgdjUsIHY2KSB8fCBkaWZmZXJlbnQ7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDcpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgKyByZW5kZXJTdHJpbmdpZnkodjMpICsgaTMgKyByZW5kZXJTdHJpbmdpZnkodjQpICsgaTQgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjUpICsgaTUgKyByZW5kZXJTdHJpbmdpZnkodjYpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDggZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQsIHY1LCB2NiwgdjcpIHx8IGRpZmZlcmVudDtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoOCk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBpNCArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2NSkgKyBpNSArIHJlbmRlclN0cmluZ2lmeSh2NikgKyBpNiArIHJlbmRlclN0cmluZ2lmeSh2NykgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG5cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSgndGl0bGUnLCAncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxKGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDEsIHByZWZpeCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTE7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyKCd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDIsIHByZWZpeCwgaTAsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzKGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMywgcHJlZml4LCBpMCwgaTEsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU0KFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNChhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA0LCBwcmVmaXgsIGkwLCBpMSwgaTIsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNShcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDUsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYoXG4gKiAgICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNiwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU3KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyhhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA3LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgaTUsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU3O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOChcbiAqICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU4KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA4LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgaTUsIGk2LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVihcbiAqICAndGl0bGUnLCBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGUuXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4tYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVihhdHRyTmFtZSwgdmFsdWVzLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWQsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGlvbkluQmV0d2VlbiA9IFt2YWx1ZXNbMF1dOyAvLyBwcmVmaXhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5wdXNoKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuLmxlbmd0aCArIDEsIC4uLmludGVycG9sYXRpb25JbkJldHdlZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHRlbXBsYXRlRmlyc3RDcmVhdGVQYXNzKGluZGV4LCB0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGRlY2xzLCB2YXJzLCB0YWdOYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUuZmlyc3RDcmVhdGVQYXNzKys7XG4gICAgY29uc3QgdFZpZXdDb25zdHMgPSB0Vmlldy5jb25zdHM7XG4gICAgLy8gVE9ETyhwayk6IHJlZmFjdG9yIGdldE9yQ3JlYXRlVE5vZGUgdG8gaGF2ZSB0aGUgXCJjcmVhdGVcIiBvbmx5IHZlcnNpb25cbiAgICBjb25zdCB0Tm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCA0IC8qIENvbnRhaW5lciAqLywgdGFnTmFtZSB8fCBudWxsLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgYXR0cnNJbmRleCkpO1xuICAgIHJlc29sdmVEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBsb2NhbFJlZnNJbmRleCkpO1xuICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIHROb2RlKTtcbiAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gdE5vZGUudFZpZXdzID0gY3JlYXRlVFZpZXcoMiAvKiBFbWJlZGRlZCAqLywgdE5vZGUsIHRlbXBsYXRlRm4sIGRlY2xzLCB2YXJzLCB0Vmlldy5kaXJlY3RpdmVSZWdpc3RyeSwgdFZpZXcucGlwZVJlZ2lzdHJ5LCBudWxsLCB0Vmlldy5zY2hlbWFzLCB0Vmlld0NvbnN0cyk7XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcucXVlcmllcy50ZW1wbGF0ZSh0VmlldywgdE5vZGUpO1xuICAgICAgICBlbWJlZGRlZFRWaWV3LnF1ZXJpZXMgPSB0Vmlldy5xdWVyaWVzLmVtYmVkZGVkVFZpZXcodE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gTENvbnRhaW5lciBmb3IgYW4gbmctdGVtcGxhdGUgKGR5bmFtaWNhbGx5LWluc2VydGVkIHZpZXcpLCBlLmcuXG4gKlxuICogPG5nLXRlbXBsYXRlICNmb28+XG4gKiAgICA8ZGl2PjwvZGl2PlxuICogPC9uZy10ZW1wbGF0ZT5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBjb250YWluZXIgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSB0ZW1wbGF0ZUZuIElubGluZSB0ZW1wbGF0ZVxuICogQHBhcmFtIGRlY2xzIFRoZSBudW1iZXIgb2Ygbm9kZXMsIGxvY2FsIHJlZnMsIGFuZCBwaXBlcyBmb3IgdGhpcyB0ZW1wbGF0ZVxuICogQHBhcmFtIHZhcnMgVGhlIG51bWJlciBvZiBiaW5kaW5ncyBmb3IgdGhpcyB0ZW1wbGF0ZVxuICogQHBhcmFtIHRhZ05hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbnRhaW5lciBlbGVtZW50LCBpZiBhcHBsaWNhYmxlXG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0ZW1wbGF0ZSBhdHRyaWJ1dGVzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnMgSW5kZXggb2YgdGhlIGxvY2FsIHJlZmVyZW5jZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmRXh0cmFjdG9yIEEgZnVuY3Rpb24gd2hpY2ggZXh0cmFjdHMgbG9jYWwtcmVmcyB2YWx1ZXMgZnJvbSB0aGUgdGVtcGxhdGUuXG4gKiAgICAgICAgRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGxvY2FsLXJlZi5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGVtcGxhdGUoaW5kZXgsIHRlbXBsYXRlRm4sIGRlY2xzLCB2YXJzLCB0YWdOYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCwgbG9jYWxSZWZFeHRyYWN0b3IpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgPyB0ZW1wbGF0ZUZpcnN0Q3JlYXRlUGFzcyhhZGp1c3RlZEluZGV4LCB0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGRlY2xzLCB2YXJzLCB0YWdOYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkgOlxuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgZmFsc2UpO1xuICAgIGNvbnN0IGNvbW1lbnQgPSBsVmlld1tSRU5ERVJFUl0uY3JlYXRlQ29tbWVudChuZ0Rldk1vZGUgPyAnY29udGFpbmVyJyA6ICcnKTtcbiAgICBhcHBlbmRDaGlsZCh0VmlldywgbFZpZXcsIGNvbW1lbnQsIHROb2RlKTtcbiAgICBhdHRhY2hQYXRjaERhdGEoY29tbWVudCwgbFZpZXcpO1xuICAgIGFkZFRvVmlld1RyZWUobFZpZXcsIGxWaWV3W2FkanVzdGVkSW5kZXhdID0gY3JlYXRlTENvbnRhaW5lcihjb21tZW50LCBsVmlldywgY29tbWVudCwgdE5vZGUpKTtcbiAgICBpZiAoaXNEaXJlY3RpdmVIb3N0KHROb2RlKSkge1xuICAgICAgICBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgIH1cbiAgICBpZiAobG9jYWxSZWZzSW5kZXggIT0gbnVsbCkge1xuICAgICAgICBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEobFZpZXcsIHROb2RlLCBsb2NhbFJlZkV4dHJhY3Rvcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBTdG9yZSBhIHZhbHVlIGluIHRoZSBgZGF0YWAgYXQgYSBnaXZlbiBgaW5kZXhgLiAqL1xuZnVuY3Rpb24gc3RvcmUodFZpZXcsIGxWaWV3LCBpbmRleCwgdmFsdWUpIHtcbiAgICAvLyBXZSBkb24ndCBzdG9yZSBhbnkgc3RhdGljIGRhdGEgZm9yIGxvY2FsIHZhcmlhYmxlcywgc28gdGhlIGZpcnN0IHRpbWVcbiAgICAvLyB3ZSBzZWUgdGhlIHRlbXBsYXRlLCB3ZSBzaG91bGQgc3RvcmUgYXMgbnVsbCB0byBhdm9pZCBhIHNwYXJzZSBhcnJheVxuICAgIGlmIChpbmRleCA+PSB0Vmlldy5kYXRhLmxlbmd0aCkge1xuICAgICAgICB0Vmlldy5kYXRhW2luZGV4XSA9IG51bGw7XG4gICAgICAgIHRWaWV3LmJsdWVwcmludFtpbmRleF0gPSBudWxsO1xuICAgIH1cbiAgICBsVmlld1tpbmRleF0gPSB2YWx1ZTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGEgbG9jYWwgcmVmZXJlbmNlIGZyb20gdGhlIGN1cnJlbnQgY29udGV4dFZpZXdEYXRhLlxuICpcbiAqIElmIHRoZSByZWZlcmVuY2UgdG8gcmV0cmlldmUgaXMgaW4gYSBwYXJlbnQgdmlldywgdGhpcyBpbnN0cnVjdGlvbiBpcyB1c2VkIGluIGNvbmp1bmN0aW9uXG4gKiB3aXRoIGEgbmV4dENvbnRleHQoKSBjYWxsLCB3aGljaCB3YWxrcyB1cCB0aGUgdHJlZSBhbmQgdXBkYXRlcyB0aGUgY29udGV4dFZpZXdEYXRhIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGxvY2FsIHJlZiBpbiBjb250ZXh0Vmlld0RhdGEuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlZmVyZW5jZShpbmRleCkge1xuICAgIGNvbnN0IGNvbnRleHRMVmlldyA9IGdldENvbnRleHRMVmlldygpO1xuICAgIHJldHVybiBsb2FkKGNvbnRleHRMVmlldywgSEVBREVSX09GRlNFVCArIGluZGV4KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgbWFwcGluZyBvZiB0aGUgQGFuZ3VsYXIvY29yZSBBUEkgc3VyZmFjZSB1c2VkIGluIGdlbmVyYXRlZCBleHByZXNzaW9ucyB0byB0aGUgYWN0dWFsIHN5bWJvbHMuXG4gKlxuICogVGhpcyBzaG91bGQgYmUga2VwdCB1cCB0byBkYXRlIHdpdGggdGhlIHB1YmxpYyBleHBvcnRzIG9mIEBhbmd1bGFyL2NvcmUuXG4gKi9cbmNvbnN0IGFuZ3VsYXJDb3JlRGlFbnYgPSB7XG4gICAgJ8m1ybVkZWZpbmVJbmplY3RhYmxlJzogybXJtWRlZmluZUluamVjdGFibGUsXG4gICAgJ8m1ybVkZWZpbmVJbmplY3Rvcic6IMm1ybVkZWZpbmVJbmplY3RvcixcbiAgICAnybXJtWluamVjdCc6IMm1ybVpbmplY3QsXG4gICAgJ8m1ybVpbnZhbGlkRmFjdG9yeURlcCc6IMm1ybVpbnZhbGlkRmFjdG9yeURlcCxcbiAgICAncmVzb2x2ZUZvcndhcmRSZWYnOiByZXNvbHZlRm9yd2FyZFJlZixcbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb21waWxlIGFuIEFuZ3VsYXIgaW5qZWN0YWJsZSBhY2NvcmRpbmcgdG8gaXRzIGBJbmplY3RhYmxlYCBtZXRhZGF0YSwgYW5kIHBhdGNoIHRoZSByZXN1bHRpbmdcbiAqIGluamVjdGFibGUgZGVmIChgybVwcm92YCkgb250byB0aGUgaW5qZWN0YWJsZSB0eXBlLlxuICovXG5mdW5jdGlvbiBjb21waWxlSW5qZWN0YWJsZSh0eXBlLCBtZXRhKSB7XG4gICAgbGV0IG5nSW5qZWN0YWJsZURlZiA9IG51bGw7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgLy8gaWYgTkdfUFJPVl9ERUYgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIHRoaXMgY2xhc3MgdGhlbiBkb24ndCBvdmVyd3JpdGUgaXRcbiAgICBpZiAoIXR5cGUuaGFzT3duUHJvcGVydHkoTkdfUFJPVl9ERUYpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19QUk9WX0RFRiwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5nSW5qZWN0YWJsZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnaW5qZWN0YWJsZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5nSW5qZWN0YWJsZURlZiA9IGNvbXBpbGVyLmNvbXBpbGVJbmplY3RhYmxlKGFuZ3VsYXJDb3JlRGlFbnYsIGBuZzovLy8ke3R5cGUubmFtZX0vybVwcm92LmpzYCwgZ2V0SW5qZWN0YWJsZU1ldGFkYXRhKHR5cGUsIG1ldGEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5nSW5qZWN0YWJsZURlZjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBpZiBOR19GQUNUT1JZX0RFRiBpcyBhbHJlYWR5IGRlZmluZWQgb24gdGhpcyBjbGFzcyB0aGVuIGRvbid0IG92ZXJ3cml0ZSBpdFxuICAgIGlmICghdHlwZS5oYXNPd25Qcm9wZXJ0eShOR19GQUNUT1JZX0RFRikpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobmdGYWN0b3J5RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdpbmplY3RhYmxlJywgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVEaUVudiwgYG5nOi8vLyR7dHlwZS5uYW1lfS/JtWZhYy5qc2AsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IHJlZmxlY3REZXBlbmRlbmNpZXModHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBpbGVyLkZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5nRmFjdG9yeURlZjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBMZWF2ZSB0aGlzIGNvbmZpZ3VyYWJsZSBzbyB0aGF0IHRoZSBmYWN0b3JpZXMgZnJvbSBkaXJlY3RpdmVzIG9yIHBpcGVzIGNhbiB0YWtlIHByZWNlZGVuY2UuXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY29uc3QgVVNFX1ZBTFVFID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IHByb3ZpZGU6IFN0cmluZywgdXNlVmFsdWU6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5mdW5jdGlvbiBpc1VzZUNsYXNzUHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBtZXRhLnVzZUNsYXNzICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBVU0VfVkFMVUUgaW4gbWV0YTtcbn1cbmZ1bmN0aW9uIGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VGYWN0b3J5ICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc1VzZUV4aXN0aW5nUHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBtZXRhLnVzZUV4aXN0aW5nICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBnZXRJbmplY3RhYmxlTWV0YWRhdGEodHlwZSwgc3JjTWV0YSkge1xuICAgIC8vIEFsbG93IHRoZSBjb21waWxhdGlvbiBvZiBhIGNsYXNzIHdpdGggYSBgQEluamVjdGFibGUoKWAgZGVjb3JhdG9yIHdpdGhvdXQgcGFyYW1ldGVyc1xuICAgIGNvbnN0IG1ldGEgPSBzcmNNZXRhIHx8IHsgcHJvdmlkZWRJbjogbnVsbCB9O1xuICAgIGNvbnN0IGNvbXBpbGVyTWV0YSA9IHtcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgcHJvdmlkZWRJbjogbWV0YS5wcm92aWRlZEluLFxuICAgIH07XG4gICAgaWYgKChpc1VzZUNsYXNzUHJvdmlkZXIobWV0YSkgfHwgaXNVc2VGYWN0b3J5UHJvdmlkZXIobWV0YSkpICYmIG1ldGEuZGVwcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBpbGVyTWV0YS5kZXBzID0gY29udmVydERlcGVuZGVuY2llcyhtZXRhLmRlcHMpO1xuICAgIH1cbiAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIHVzZXIgZXhwbGljaXRseSBwcm92aWRlZCBhIGB1c2VYeHh4YCBwcm9wZXJ0eS5cbiAgICBpZiAoaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpKSB7XG4gICAgICAgIGNvbXBpbGVyTWV0YS51c2VDbGFzcyA9IG1ldGEudXNlQ2xhc3M7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXNlVmFsdWVQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlVmFsdWUgPSBtZXRhLnVzZVZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VzZUZhY3RvcnlQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlRmFjdG9yeSA9IG1ldGEudXNlRmFjdG9yeTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNVc2VFeGlzdGluZ1Byb3ZpZGVyKG1ldGEpKSB7XG4gICAgICAgIGNvbXBpbGVyTWV0YS51c2VFeGlzdGluZyA9IG1ldGEudXNlRXhpc3Rpbmc7XG4gICAgfVxuICAgIHJldHVybiBjb21waWxlck1ldGE7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBJbmplY3RhYmxlIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSW5qZWN0YWJsZSA9IG1ha2VEZWNvcmF0b3IoJ0luamVjdGFibGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAodHlwZSwgbWV0YSkgPT4gY29tcGlsZUluamVjdGFibGUodHlwZSwgbWV0YSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGZpbmRGaXJzdENsb3NlZEN5Y2xlKGtleXMpIHtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHJlcy5pbmRleE9mKGtleXNbaV0pID4gLTEpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGtleXNbaV0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICByZXMucHVzaChrZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cykge1xuICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgcmV2ZXJzZWQgPSBmaW5kRmlyc3RDbG9zZWRDeWNsZShrZXlzLnNsaWNlKCkucmV2ZXJzZSgpKTtcbiAgICAgICAgY29uc3QgdG9rZW5TdHJzID0gcmV2ZXJzZWQubWFwKGsgPT4gc3RyaW5naWZ5KGsudG9rZW4pKTtcbiAgICAgICAgcmV0dXJuICcgKCcgKyB0b2tlblN0cnMuam9pbignIC0+ICcpICsgJyknO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5mdW5jdGlvbiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlLCBvcmlnaW5hbEVycm9yKSB7XG4gICAgY29uc3Qga2V5cyA9IFtrZXldO1xuICAgIGNvbnN0IGVyck1zZyA9IGNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2Uoa2V5cyk7XG4gICAgY29uc3QgZXJyb3IgPSAob3JpZ2luYWxFcnJvciA/IHdyYXBwZWRFcnJvcihlcnJNc2csIG9yaWdpbmFsRXJyb3IpIDogRXJyb3IoZXJyTXNnKSk7XG4gICAgZXJyb3IuYWRkS2V5ID0gYWRkS2V5O1xuICAgIGVycm9yLmtleXMgPSBrZXlzO1xuICAgIGVycm9yLmluamVjdG9ycyA9IFtpbmplY3Rvcl07XG4gICAgZXJyb3IuY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSA9IGNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2U7XG4gICAgZXJyb3JbRVJST1JfT1JJR0lOQUxfRVJST1JdID0gb3JpZ2luYWxFcnJvcjtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5mdW5jdGlvbiBhZGRLZXkoaW5qZWN0b3IsIGtleSkge1xuICAgIHRoaXMuaW5qZWN0b3JzLnB1c2goaW5qZWN0b3IpO1xuICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG4gICAgLy8gTm90ZTogVGhpcyB1cGRhdGVkIG1lc3NhZ2Ugd29uJ3QgYmUgcmVmbGVjdGVkIGluIHRoZSBgLnN0YWNrYCBwcm9wZXJ0eVxuICAgIHRoaXMubWVzc2FnZSA9IHRoaXMuY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSh0aGlzLmtleXMpO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiB0cnlpbmcgdG8gcmV0cmlldmUgYSBkZXBlbmRlbmN5IGJ5IGtleSBmcm9tIHtAbGluayBJbmplY3Rvcn0sIGJ1dCB0aGVcbiAqIHtAbGluayBJbmplY3Rvcn0gZG9lcyBub3QgaGF2ZSBhIHtAbGluayBQcm92aWRlcn0gZm9yIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge31cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBub1Byb3ZpZGVyRXJyb3IoaW5qZWN0b3IsIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICBjb25zdCBmaXJzdCA9IHN0cmluZ2lmeShrZXlzWzBdLnRva2VuKTtcbiAgICAgICAgcmV0dXJuIGBObyBwcm92aWRlciBmb3IgJHtmaXJzdH0hJHtjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpfWA7XG4gICAgfSk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGRlcGVuZGVuY2llcyBmb3JtIGEgY3ljbGUuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHtwcm92aWRlOiBcIm9uZVwiLCB1c2VGYWN0b3J5OiAodHdvKSA9PiBcInR3b1wiLCBkZXBzOiBbW25ldyBJbmplY3QoXCJ0d29cIildXX0sXG4gKiAgIHtwcm92aWRlOiBcInR3b1wiLCB1c2VGYWN0b3J5OiAob25lKSA9PiBcIm9uZVwiLCBkZXBzOiBbW25ldyBJbmplY3QoXCJvbmVcIildXX1cbiAqIF0pO1xuICpcbiAqIGV4cGVjdCgoKSA9PiBpbmplY3Rvci5nZXQoXCJvbmVcIikpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICogUmV0cmlldmluZyBgQWAgb3IgYEJgIHRocm93cyBhIGBDeWNsaWNEZXBlbmRlbmN5RXJyb3JgIGFzIHRoZSBncmFwaCBhYm92ZSBjYW5ub3QgYmUgY29uc3RydWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGN5Y2xpY0RlcGVuZGVuY3lFcnJvcihpbmplY3Rvciwga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIHJldHVybiBgQ2Fubm90IGluc3RhbnRpYXRlIGN5Y2xpYyBkZXBlbmRlbmN5ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX1gO1xuICAgIH0pO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIGNvbnN0cnVjdGluZyB0eXBlIHJldHVybnMgd2l0aCBhbiBFcnJvci5cbiAqXG4gKiBUaGUgYEluc3RhbnRpYXRpb25FcnJvcmAgY2xhc3MgY29udGFpbnMgdGhlIG9yaWdpbmFsIGVycm9yIHBsdXMgdGhlIGRlcGVuZGVuY3kgZ3JhcGggd2hpY2ggY2F1c2VkXG4gKiB0aGlzIG9iamVjdCB0byBiZSBpbnN0YW50aWF0ZWQuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRocm93IG5ldyBFcnJvcignbWVzc2FnZScpO1xuICogICB9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pO1xuXG4gKiB0cnkge1xuICogICBpbmplY3Rvci5nZXQoQSk7XG4gKiB9IGNhdGNoIChlKSB7XG4gKiAgIGV4cGVjdChlIGluc3RhbmNlb2YgSW5zdGFudGlhdGlvbkVycm9yKS50b0JlKHRydWUpO1xuICogICBleHBlY3QoZS5vcmlnaW5hbEV4Y2VwdGlvbi5tZXNzYWdlKS50b0VxdWFsKFwibWVzc2FnZVwiKTtcbiAqICAgZXhwZWN0KGUub3JpZ2luYWxTdGFjaykudG9CZURlZmluZWQoKTtcbiAqIH1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBpbnN0YW50aWF0aW9uRXJyb3IoaW5qZWN0b3IsIG9yaWdpbmFsRXhjZXB0aW9uLCBvcmlnaW5hbFN0YWNrLCBrZXkpIHtcbiAgICByZXR1cm4gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBzdHJpbmdpZnkoa2V5c1swXS50b2tlbik7XG4gICAgICAgIHJldHVybiBgJHtvcmlnaW5hbEV4Y2VwdGlvbi5tZXNzYWdlfTogRXJyb3IgZHVyaW5nIGluc3RhbnRpYXRpb24gb2YgJHtmaXJzdH0hJHtjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpfS5gO1xuICAgIH0sIG9yaWdpbmFsRXhjZXB0aW9uKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gYW4gb2JqZWN0IG90aGVyIHRoZW4ge0BsaW5rIFByb3ZpZGVyfSAob3IgYFR5cGVgKSBpcyBwYXNzZWQgdG8ge0BsaW5rIEluamVjdG9yfVxuICogY3JlYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1wibm90IGEgdHlwZVwiXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGludmFsaWRQcm92aWRlckVycm9yKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIEVycm9yKGBJbnZhbGlkIHByb3ZpZGVyIC0gb25seSBpbnN0YW5jZXMgb2YgUHJvdmlkZXIgYW5kIFR5cGUgYXJlIGFsbG93ZWQsIGdvdDogJHtwcm92aWRlcn1gKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIGNsYXNzIGhhcyBubyBhbm5vdGF0aW9uIGluZm9ybWF0aW9uLlxuICpcbiAqIExhY2sgb2YgYW5ub3RhdGlvbiBpbmZvcm1hdGlvbiBwcmV2ZW50cyB0aGUge0BsaW5rIEluamVjdG9yfSBmcm9tIGRldGVybWluaW5nIHdoaWNoIGRlcGVuZGVuY2llc1xuICogbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYikge31cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZXJyb3IgaXMgYWxzbyB0aHJvd24gd2hlbiB0aGUgY2xhc3Mgbm90IG1hcmtlZCB3aXRoIHtAbGluayBJbmplY3RhYmxlfSBoYXMgcGFyYW1ldGVyIHR5cGVzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEIge31cbiAqXG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYjpCKSB7fSAvLyBubyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGFyYW1ldGVyIHR5cGVzIG9mIEEgaXMgYXZhaWxhYmxlIGF0IHJ1bnRpbWUuXG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0EsQl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqL1xuZnVuY3Rpb24gbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKSB7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcGFyYW1zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyID0gcGFyYW1zW2ldO1xuICAgICAgICBpZiAoIXBhcmFtZXRlciB8fCBwYXJhbWV0ZXIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZS5wdXNoKCc/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaWduYXR1cmUucHVzaChwYXJhbWV0ZXIubWFwKHN0cmluZ2lmeSkuam9pbignICcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRXJyb3IoJ0Nhbm5vdCByZXNvbHZlIGFsbCBwYXJhbWV0ZXJzIGZvciBcXCcnICsgc3RyaW5naWZ5KHR5cGVPckZ1bmMpICsgJ1xcJygnICtcbiAgICAgICAgc2lnbmF0dXJlLmpvaW4oJywgJykgKyAnKS4gJyArXG4gICAgICAgICdNYWtlIHN1cmUgdGhhdCBhbGwgdGhlIHBhcmFtZXRlcnMgYXJlIGRlY29yYXRlZCB3aXRoIEluamVjdCBvciBoYXZlIHZhbGlkIHR5cGUgYW5ub3RhdGlvbnMgYW5kIHRoYXQgXFwnJyArXG4gICAgICAgIHN0cmluZ2lmeSh0eXBlT3JGdW5jKSArICdcXCcgaXMgZGVjb3JhdGVkIHdpdGggSW5qZWN0YWJsZS4nKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gZ2V0dGluZyBhbiBvYmplY3QgYnkgaW5kZXguXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7fVxuICpcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKTtcbiAqXG4gKiBleHBlY3QoKCkgPT4gaW5qZWN0b3IuZ2V0QXQoMTAwKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKi9cbmZ1bmN0aW9uIG91dE9mQm91bmRzRXJyb3IoaW5kZXgpIHtcbiAgICByZXR1cm4gRXJyb3IoYEluZGV4ICR7aW5kZXh9IGlzIG91dC1vZi1ib3VuZHMuYCk7XG59XG4vLyBUT0RPOiBhZGQgYSB3b3JraW5nIGV4YW1wbGUgYWZ0ZXIgYWxwaGEzOCBpcyByZWxlYXNlZFxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIG11bHRpIHByb3ZpZGVyIGFuZCBhIHJlZ3VsYXIgcHJvdmlkZXIgYXJlIGJvdW5kIHRvIHRoZSBzYW1lIHRva2VuLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAqICAgeyBwcm92aWRlOiBcIlN0cmluZ3NcIiwgdXNlVmFsdWU6IFwic3RyaW5nMVwiLCBtdWx0aTogdHJ1ZX0sXG4gKiAgIHsgcHJvdmlkZTogXCJTdHJpbmdzXCIsIHVzZVZhbHVlOiBcInN0cmluZzJcIiwgbXVsdGk6IGZhbHNlfVxuICogXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIG1peGluZ011bHRpUHJvdmlkZXJzV2l0aFJlZ3VsYXJQcm92aWRlcnNFcnJvcihwcm92aWRlcjEsIHByb3ZpZGVyMikge1xuICAgIHJldHVybiBFcnJvcihgQ2Fubm90IG1peCBtdWx0aSBwcm92aWRlcnMgYW5kIHJlZ3VsYXIgcHJvdmlkZXJzLCBnb3Q6ICR7cHJvdmlkZXIxfSAke3Byb3ZpZGVyMn1gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgdW5pcXVlIG9iamVjdCB1c2VkIGZvciByZXRyaWV2aW5nIGl0ZW1zIGZyb20gdGhlIHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9LlxuICpcbiAqIEtleXMgaGF2ZTpcbiAqIC0gYSBzeXN0ZW0td2lkZSB1bmlxdWUgYGlkYC5cbiAqIC0gYSBgdG9rZW5gLlxuICpcbiAqIGBLZXlgIGlzIHVzZWQgaW50ZXJuYWxseSBieSB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfSBiZWNhdXNlIGl0cyBzeXN0ZW0td2lkZSB1bmlxdWUgYGlkYCBhbGxvd3NcbiAqIHRoZVxuICogaW5qZWN0b3IgdG8gc3RvcmUgY3JlYXRlZCBvYmplY3RzIGluIGEgbW9yZSBlZmZpY2llbnQgd2F5LlxuICpcbiAqIGBLZXlgIHNob3VsZCBub3QgYmUgY3JlYXRlZCBkaXJlY3RseS4ge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0gY3JlYXRlcyBrZXlzIGF1dG9tYXRpY2FsbHkgd2hlblxuICogcmVzb2x2aW5nXG4gKiBwcm92aWRlcnMuXG4gKlxuICogQGRlcHJlY2F0ZWQgTm8gcmVwbGFjZW1lbnRcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZUtleSB7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRva2VuLCBpZCkge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBtdXN0IGJlIGRlZmluZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IHN0cmluZ2lmeSh0aGlzLnRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgYEtleWAgZm9yIGEgdG9rZW4uXG4gICAgICovXG4gICAgc3RhdGljIGdldCh0b2tlbikge1xuICAgICAgICByZXR1cm4gX2dsb2JhbEtleVJlZ2lzdHJ5LmdldChyZXNvbHZlRm9yd2FyZFJlZih0b2tlbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGtleXMgcmVnaXN0ZXJlZCBpbiB0aGUgc3lzdGVtLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgbnVtYmVyT2ZLZXlzKCkge1xuICAgICAgICByZXR1cm4gX2dsb2JhbEtleVJlZ2lzdHJ5Lm51bWJlck9mS2V5cztcbiAgICB9XG59XG5jbGFzcyBLZXlSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2FsbEtleXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldCh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBSZWZsZWN0aXZlS2V5KVxuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICBpZiAodGhpcy5fYWxsS2V5cy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsS2V5cy5nZXQodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IG5ldyBSZWZsZWN0aXZlS2V5KHRva2VuLCBSZWZsZWN0aXZlS2V5Lm51bWJlck9mS2V5cyk7XG4gICAgICAgIHRoaXMuX2FsbEtleXMuc2V0KHRva2VuLCBuZXdLZXkpO1xuICAgICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBnZXQgbnVtYmVyT2ZLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsS2V5cy5zaXplO1xuICAgIH1cbn1cbmNvbnN0IF9nbG9iYWxLZXlSZWdpc3RyeSA9IG5ldyBLZXlSZWdpc3RyeSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIHJlZmxlY3Rpb24gZGF0YSBhYm91dCBzeW1ib2xzLiBVc2VkIGludGVybmFsbHkgYnkgQW5ndWxhclxuICogdG8gcG93ZXIgZGVwZW5kZW5jeSBpbmplY3Rpb24gYW5kIGNvbXBpbGF0aW9uLlxuICovXG5jbGFzcyBSZWZsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlZmxlY3Rpb25DYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gcmVmbGVjdGlvbkNhcGFiaWxpdGllcztcbiAgICB9XG4gICAgdXBkYXRlQ2FwYWJpbGl0aWVzKGNhcHMpIHtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gY2FwcztcbiAgICB9XG4gICAgZmFjdG9yeSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuZmFjdG9yeSh0eXBlKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycyh0eXBlT3JGdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucGFyYW1ldGVycyh0eXBlT3JGdW5jKTtcbiAgICB9XG4gICAgYW5ub3RhdGlvbnModHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmFubm90YXRpb25zKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBwcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3BNZXRhZGF0YSh0eXBlT3JGdW5jKTtcbiAgICB9XG4gICAgaGFzTGlmZWN5Y2xlSG9vayh0eXBlLCBsY1Byb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuaGFzTGlmZWN5Y2xlSG9vayh0eXBlLCBsY1Byb3BlcnR5KTtcbiAgICB9XG4gICAgZ2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5nZXR0ZXIobmFtZSk7XG4gICAgfVxuICAgIHNldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuc2V0dGVyKG5hbWUpO1xuICAgIH1cbiAgICBtZXRob2QobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLm1ldGhvZChuYW1lKTtcbiAgICB9XG4gICAgaW1wb3J0VXJpKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5pbXBvcnRVcmkodHlwZSk7XG4gICAgfVxuICAgIHJlc291cmNlVXJpKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvdXJjZVVyaSh0eXBlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUlkZW50aWZpZXIobmFtZSwgbW9kdWxlVXJsLCBtZW1iZXJzLCBydW50aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb2x2ZUlkZW50aWZpZXIobmFtZSwgbW9kdWxlVXJsLCBtZW1iZXJzLCBydW50aW1lKTtcbiAgICB9XG4gICAgcmVzb2x2ZUVudW0oaWRlbnRpZmllciwgbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnJlc29sdmVFbnVtKGlkZW50aWZpZXIsIG5hbWUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVmbGVjdG9yfSB1c2VkIGludGVybmFsbHkgaW4gQW5ndWxhciB0byBhY2Nlc3MgbWV0YWRhdGFcbiAqIGFib3V0IHN5bWJvbHMuXG4gKi9cbmNvbnN0IHJlZmxlY3RvciA9IG5ldyBSZWZsZWN0b3IobmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBgRGVwZW5kZW5jeWAgaXMgdXNlZCBieSB0aGUgZnJhbWV3b3JrIHRvIGV4dGVuZCBESS5cbiAqIFRoaXMgaXMgaW50ZXJuYWwgdG8gQW5ndWxhciBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG5jbGFzcyBSZWZsZWN0aXZlRGVwZW5kZW5jeSB7XG4gICAgY29uc3RydWN0b3Ioa2V5LCBvcHRpb25hbCwgdmlzaWJpbGl0eSkge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IG9wdGlvbmFsO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHkgPSB2aXNpYmlsaXR5O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUtleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlRGVwZW5kZW5jeShrZXksIGZhbHNlLCBudWxsKTtcbiAgICB9XG59XG5jb25zdCBfRU1QVFlfTElTVCA9IFtdO1xuY2xhc3MgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfIHtcbiAgICBjb25zdHJ1Y3RvcihrZXksIHJlc29sdmVkRmFjdG9yaWVzLCBtdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnJlc29sdmVkRmFjdG9yaWVzID0gcmVzb2x2ZWRGYWN0b3JpZXM7XG4gICAgICAgIHRoaXMubXVsdGlQcm92aWRlciA9IG11bHRpUHJvdmlkZXI7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRGYWN0b3J5ID0gdGhpcy5yZXNvbHZlZEZhY3Rvcmllc1swXTtcbiAgICB9XG59XG4vKipcbiAqIEFuIGludGVybmFsIHJlc29sdmVkIHJlcHJlc2VudGF0aW9uIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBjcmVhdGVkIGJ5IHJlc29sdmluZyBgUHJvdmlkZXJgLlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBGYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIGNhbiByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgYW4gb2JqZWN0IHJlcHJlc2VudGVkIGJ5IGEga2V5LlxuICAgICAqL1xuICAgIGZhY3RvcnksIFxuICAgIC8qKlxuICAgICAqIEFyZ3VtZW50cyAoZGVwZW5kZW5jaWVzKSB0byB0aGUgYGZhY3RvcnlgIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGRlcGVuZGVuY2llcykge1xuICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmUgYSBzaW5nbGUgcHJvdmlkZXIuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeShwcm92aWRlcikge1xuICAgIGxldCBmYWN0b3J5Rm47XG4gICAgbGV0IHJlc29sdmVkRGVwcztcbiAgICBpZiAocHJvdmlkZXIudXNlQ2xhc3MpIHtcbiAgICAgICAgY29uc3QgdXNlQ2xhc3MgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VDbGFzcyk7XG4gICAgICAgIGZhY3RvcnlGbiA9IHJlZmxlY3Rvci5mYWN0b3J5KHVzZUNsYXNzKTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gX2RlcGVuZGVuY2llc0Zvcih1c2VDbGFzcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUV4aXN0aW5nKSB7XG4gICAgICAgIGZhY3RvcnlGbiA9IChhbGlhc0luc3RhbmNlKSA9PiBhbGlhc0luc3RhbmNlO1xuICAgICAgICByZXNvbHZlZERlcHMgPSBbUmVmbGVjdGl2ZURlcGVuZGVuY3kuZnJvbUtleShSZWZsZWN0aXZlS2V5LmdldChwcm92aWRlci51c2VFeGlzdGluZykpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlRmFjdG9yeSkge1xuICAgICAgICBmYWN0b3J5Rm4gPSBwcm92aWRlci51c2VGYWN0b3J5O1xuICAgICAgICByZXNvbHZlZERlcHMgPSBjb25zdHJ1Y3REZXBlbmRlbmNpZXMocHJvdmlkZXIudXNlRmFjdG9yeSwgcHJvdmlkZXIuZGVwcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmYWN0b3J5Rm4gPSAoKSA9PiBwcm92aWRlci51c2VWYWx1ZTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gX0VNUFRZX0xJU1Q7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeShmYWN0b3J5Rm4sIHJlc29sdmVkRGVwcyk7XG59XG4vKipcbiAqIENvbnZlcnRzIHRoZSBgUHJvdmlkZXJgIGludG8gYFJlc29sdmVkUHJvdmlkZXJgLlxuICpcbiAqIGBJbmplY3RvcmAgaW50ZXJuYWxseSBvbmx5IHVzZXMgYFJlc29sdmVkUHJvdmlkZXJgLCBgUHJvdmlkZXJgIGNvbnRhaW5zIGNvbnZlbmllbmNlIHByb3ZpZGVyXG4gKiBzeW50YXguXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyhSZWZsZWN0aXZlS2V5LmdldChwcm92aWRlci5wcm92aWRlKSwgW3Jlc29sdmVSZWZsZWN0aXZlRmFjdG9yeShwcm92aWRlcildLCBwcm92aWRlci5tdWx0aSB8fCBmYWxzZSk7XG59XG4vKipcbiAqIFJlc29sdmUgYSBsaXN0IG9mIFByb3ZpZGVycy5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IF9ub3JtYWxpemVQcm92aWRlcnMocHJvdmlkZXJzLCBbXSk7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBub3JtYWxpemVkLm1hcChyZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKTtcbiAgICBjb25zdCByZXNvbHZlZFByb3ZpZGVyTWFwID0gbWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocmVzb2x2ZWQsIG5ldyBNYXAoKSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocmVzb2x2ZWRQcm92aWRlck1hcC52YWx1ZXMoKSk7XG59XG4vKipcbiAqIE1lcmdlcyBhIGxpc3Qgb2YgUmVzb2x2ZWRQcm92aWRlcnMgaW50byBhIGxpc3Qgd2hlcmUgZWFjaCBrZXkgaXMgY29udGFpbmVkIGV4YWN0bHkgb25jZSBhbmRcbiAqIG11bHRpIHByb3ZpZGVycyBoYXZlIGJlZW4gbWVyZ2VkLlxuICovXG5mdW5jdGlvbiBtZXJnZVJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyhwcm92aWRlcnMsIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IHByb3ZpZGVyc1tpXTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBub3JtYWxpemVkUHJvdmlkZXJzTWFwLmdldChwcm92aWRlci5rZXkuaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyICE9PSBleGlzdGluZy5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yKGV4aXN0aW5nLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcucmVzb2x2ZWRGYWN0b3JpZXMucHVzaChwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3ZpZGVyc01hcC5zZXQocHJvdmlkZXIua2V5LmlkLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmVzb2x2ZWRQcm92aWRlcjtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm92aWRlciA9IG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8ocHJvdmlkZXIua2V5LCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5zbGljZSgpLCBwcm92aWRlci5tdWx0aVByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXAuc2V0KHByb3ZpZGVyLmtleS5pZCwgcmVzb2x2ZWRQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXA7XG59XG5mdW5jdGlvbiBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgcmVzKSB7XG4gICAgcHJvdmlkZXJzLmZvckVhY2goYiA9PiB7XG4gICAgICAgIGlmIChiIGluc3RhbmNlb2YgVHlwZSkge1xuICAgICAgICAgICAgcmVzLnB1c2goeyBwcm92aWRlOiBiLCB1c2VDbGFzczogYiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiICYmIHR5cGVvZiBiID09ICdvYmplY3QnICYmIGIucHJvdmlkZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMucHVzaChiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgICAgICBfbm9ybWFsaXplUHJvdmlkZXJzKGIsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkUHJvdmlkZXJFcnJvcihiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3REZXBlbmRlbmNpZXModHlwZU9yRnVuYywgZGVwZW5kZW5jaWVzKSB7XG4gICAgaWYgKCFkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgcmV0dXJuIF9kZXBlbmRlbmNpZXNGb3IodHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBkZXBlbmRlbmNpZXMubWFwKHQgPT4gW3RdKTtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcy5tYXAodCA9PiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIHQsIHBhcmFtcykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9kZXBlbmRlbmNpZXNGb3IodHlwZU9yRnVuYykge1xuICAgIGNvbnN0IHBhcmFtcyA9IHJlZmxlY3Rvci5wYXJhbWV0ZXJzKHR5cGVPckZ1bmMpO1xuICAgIGlmICghcGFyYW1zKVxuICAgICAgICByZXR1cm4gW107XG4gICAgaWYgKHBhcmFtcy5zb21lKHAgPT4gcCA9PSBudWxsKSkge1xuICAgICAgICB0aHJvdyBub0Fubm90YXRpb25FcnJvcih0eXBlT3JGdW5jLCBwYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zLm1hcChwID0+IF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgcCwgcGFyYW1zKSk7XG59XG5mdW5jdGlvbiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIG1ldGFkYXRhLCBwYXJhbXMpIHtcbiAgICBsZXQgdG9rZW4gPSBudWxsO1xuICAgIGxldCBvcHRpb25hbCA9IGZhbHNlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtZXRhZGF0YSkpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhIGluc3RhbmNlb2YgSW5qZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEudG9rZW4sIG9wdGlvbmFsLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeShtZXRhZGF0YSwgb3B0aW9uYWwsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCB2aXNpYmlsaXR5ID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1ldGFkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtTWV0YWRhdGEgPSBtZXRhZGF0YVtpXTtcbiAgICAgICAgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcmFtTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhLnRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBPcHRpb25hbCkge1xuICAgICAgICAgICAgb3B0aW9uYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBTZWxmIHx8IHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBTa2lwU2VsZikge1xuICAgICAgICAgICAgdmlzaWJpbGl0eSA9IHBhcmFtTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIEluamVjdGlvblRva2VuKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcmFtTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW4gPSByZXNvbHZlRm9yd2FyZFJlZih0b2tlbik7XG4gICAgaWYgKHRva2VuICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVEZXBlbmRlbmN5KHRva2VuLCBvcHRpb25hbCwgdmlzaWJpbGl0eSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBub0Fubm90YXRpb25FcnJvcih0eXBlT3JGdW5jLCBwYXJhbXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVEZXBlbmRlbmN5KHRva2VuLCBvcHRpb25hbCwgdmlzaWJpbGl0eSkge1xuICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koUmVmbGVjdGl2ZUtleS5nZXQodG9rZW4pLCBvcHRpb25hbCwgdmlzaWJpbGl0eSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVGhyZXNob2xkIGZvciB0aGUgZHluYW1pYyB2ZXJzaW9uXG5jb25zdCBVTkRFRklORUQgPSB7fTtcbi8qKlxuICogQSBSZWZsZWN0aXZlRGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIHVzZWQgZm9yIGluc3RhbnRpYXRpbmcgb2JqZWN0cyBhbmQgcmVzb2x2aW5nXG4gKiBkZXBlbmRlbmNpZXMuXG4gKlxuICogQW4gYEluamVjdG9yYCBpcyBhIHJlcGxhY2VtZW50IGZvciBhIGBuZXdgIG9wZXJhdG9yLCB3aGljaCBjYW4gYXV0b21hdGljYWxseSByZXNvbHZlIHRoZVxuICogY29uc3RydWN0b3IgZGVwZW5kZW5jaWVzLlxuICpcbiAqIEluIHR5cGljYWwgdXNlLCBhcHBsaWNhdGlvbiBjb2RlIGFza3MgZm9yIHRoZSBkZXBlbmRlbmNpZXMgaW4gdGhlIGNvbnN0cnVjdG9yIGFuZCB0aGV5IGFyZVxuICogcmVzb2x2ZWQgYnkgdGhlIGBJbmplY3RvcmAuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYW4gYEluamVjdG9yYCBjb25maWd1cmVkIHRvIGNyZWF0ZSBgRW5naW5lYCBhbmQgYENhcmAuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgRW5naW5lIHtcbiAqIH1cbiAqXG4gKiBASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBDYXIge1xuICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAqIH1cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyLCBFbmdpbmVdKTtcbiAqIHZhciBjYXIgPSBpbmplY3Rvci5nZXQoQ2FyKTtcbiAqIGV4cGVjdChjYXIgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gKiBleHBlY3QoY2FyLmVuZ2luZSBpbnN0YW5jZW9mIEVuZ2luZSkudG9CZSh0cnVlKTtcbiAqIGBgYFxuICpcbiAqIE5vdGljZSwgd2UgZG9uJ3QgdXNlIHRoZSBgbmV3YCBvcGVyYXRvciBiZWNhdXNlIHdlIGV4cGxpY2l0bHkgd2FudCB0byBoYXZlIHRoZSBgSW5qZWN0b3JgXG4gKiByZXNvbHZlIGFsbCBvZiB0aGUgb2JqZWN0J3MgZGVwZW5kZW5jaWVzIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogVE9ETzogZGVsZXRlIGluIHYxNC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBmcm9tIHY1IC0gc2xvdyBhbmQgYnJpbmdzIGluIGEgbG90IG9mIGNvZGUsIFVzZSBgSW5qZWN0b3IuY3JlYXRlYCBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBSZWZsZWN0aXZlSW5qZWN0b3Ige1xuICAgIC8qKlxuICAgICAqIFR1cm5zIGFuIGFycmF5IG9mIHByb3ZpZGVyIGRlZmluaXRpb25zIGludG8gYW4gYXJyYXkgb2YgcmVzb2x2ZWQgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogQSByZXNvbHV0aW9uIGlzIGEgcHJvY2VzcyBvZiBmbGF0dGVuaW5nIG11bHRpcGxlIG5lc3RlZCBhcnJheXMgYW5kIGNvbnZlcnRpbmcgaW5kaXZpZHVhbFxuICAgICAqIHByb3ZpZGVycyBpbnRvIGFuIGFycmF5IG9mIGBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcmBzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIFtbRW5naW5lXV1dKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnMubGVuZ3RoKS50b0VxdWFsKDIpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXSBpbnN0YW5jZW9mIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0ua2V5LmRpc3BsYXlOYW1lKS50b0JlKFwiQ2FyXCIpO1xuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0uZGVwZW5kZW5jaWVzLmxlbmd0aCkudG9FcXVhbCgxKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmZhY3RvcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzFdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkVuZ2luZVwiKTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyByZXNvbHZlKHByb3ZpZGVycykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgYW4gYXJyYXkgb2YgcHJvdmlkZXJzIGFuZCBjcmVhdGVzIGFuIGluamVjdG9yIGZyb20gdGhvc2UgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogVGhlIHBhc3NlZC1pbiBwcm92aWRlcnMgY2FuIGJlIGFuIGFycmF5IG9mIGBUeXBlYCwgYFByb3ZpZGVyYCxcbiAgICAgKiBvciBhIHJlY3Vyc2l2ZSBhcnJheSBvZiBtb3JlIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoQ2FyKSBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZUFuZENyZWF0ZShwcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICBjb25zdCBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMsIHBhcmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5qZWN0b3IgZnJvbSBwcmV2aW91c2x5IHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIHRoZSByZWNvbW1lbmRlZCB3YXkgdG8gY29uc3RydWN0IGluamVjdG9ycyBpbiBwZXJmb3JtYW5jZS1zZW5zaXRpdmUgcGFydHMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgcHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW0NhciwgRW5naW5lXSk7XG4gICAgICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhwcm92aWRlcnMpO1xuICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoQ2FyKSBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlc29sdmVkUHJvdmlkZXJzKHByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZUluamVjdG9yXyhwcm92aWRlcnMsIHBhcmVudCk7XG4gICAgfVxufVxuY2xhc3MgUmVmbGVjdGl2ZUluamVjdG9yXyB7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9wcm92aWRlcnMsIF9wYXJlbnQpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9jb25zdHJ1Y3Rpb25Db3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXJzID0gX3Byb3ZpZGVycztcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBfcGFyZW50IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGxlbiA9IF9wcm92aWRlcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmtleUlkcyA9IFtdO1xuICAgICAgICB0aGlzLm9ianMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5rZXlJZHNbaV0gPSBfcHJvdmlkZXJzW2ldLmtleS5pZDtcbiAgICAgICAgICAgIHRoaXMub2Jqc1tpXSA9IFVOREVGSU5FRDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgbnVsbCwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfVxuICAgIHJlc29sdmVBbmRDcmVhdGVDaGlsZChwcm92aWRlcnMpIHtcbiAgICAgICAgY29uc3QgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUocHJvdmlkZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKTtcbiAgICB9XG4gICAgY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQocHJvdmlkZXJzKSB7XG4gICAgICAgIGNvbnN0IGluaiA9IG5ldyBSZWZsZWN0aXZlSW5qZWN0b3JfKHByb3ZpZGVycyk7XG4gICAgICAgIGluai5wYXJlbnQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gaW5qO1xuICAgIH1cbiAgICByZXNvbHZlQW5kSW5zdGFudGlhdGUocHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFudGlhdGVSZXNvbHZlZChSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbcHJvdmlkZXJdKVswXSk7XG4gICAgfVxuICAgIGluc3RhbnRpYXRlUmVzb2x2ZWQocHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICBnZXRQcm92aWRlckF0SW5kZXgoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLl9wcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBvdXRPZkJvdW5kc0Vycm9yKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXJzW2luZGV4XTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9uZXcocHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnN0cnVjdGlvbkNvdW50ZXIrKyA+IHRoaXMuX2dldE1heE51bWJlck9mT2JqZWN0cygpKSB7XG4gICAgICAgICAgICB0aHJvdyBjeWNsaWNEZXBlbmRlbmN5RXJyb3IodGhpcywgcHJvdmlkZXIua2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFudGlhdGVQcm92aWRlcihwcm92aWRlcik7XG4gICAgfVxuICAgIF9nZXRNYXhOdW1iZXJPZk9iamVjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ianMubGVuZ3RoO1xuICAgIH1cbiAgICBfaW5zdGFudGlhdGVQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2ldID0gdGhpcy5faW5zdGFudGlhdGUocHJvdmlkZXIsIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFudGlhdGUocHJvdmlkZXIsIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzWzBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaW5zdGFudGlhdGUocHJvdmlkZXIsIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkuZmFjdG9yeTtcbiAgICAgICAgbGV0IGRlcHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZXBzID1cbiAgICAgICAgICAgICAgICBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5LmRlcGVuZGVuY2llcy5tYXAoZGVwID0+IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3koZGVwKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmFkZEtleSkge1xuICAgICAgICAgICAgICAgIGUuYWRkS2V5KHRoaXMsIHByb3ZpZGVyLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvYmo7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvYmogPSBmYWN0b3J5KC4uLmRlcHMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnN0YW50aWF0aW9uRXJyb3IodGhpcywgZSwgZS5zdGFjaywgcHJvdmlkZXIua2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBfZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeShkZXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5KGRlcC5rZXksIGRlcC52aXNpYmlsaXR5LCBkZXAub3B0aW9uYWwgPyBudWxsIDogVEhST1dfSUZfTk9UX0ZPVU5EKTtcbiAgICB9XG4gICAgX2dldEJ5S2V5KGtleSwgdmlzaWJpbGl0eSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAoa2V5ID09PSBSZWZsZWN0aXZlSW5qZWN0b3JfLklOSkVDVE9SX0tFWSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpc2liaWxpdHkgaW5zdGFuY2VvZiBTZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXlTZWxmKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXlEZWZhdWx0KGtleSwgbm90Rm91bmRWYWx1ZSwgdmlzaWJpbGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldE9iakJ5S2V5SWQoa2V5SWQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmtleUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMua2V5SWRzW2ldID09PSBrZXlJZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9ianNbaV0gPT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ianNbaV0gPSB0aGlzLl9uZXcodGhpcy5fcHJvdmlkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Jqc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVU5ERUZJTkVEO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Rocm93T3JOdWxsKGtleSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5vUHJvdmlkZXJFcnJvcih0aGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZ2V0QnlLZXlTZWxmKGtleSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLl9nZXRPYmpCeUtleUlkKGtleS5pZCk7XG4gICAgICAgIHJldHVybiAob2JqICE9PSBVTkRFRklORUQpID8gb2JqIDogdGhpcy5fdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9nZXRCeUtleURlZmF1bHQoa2V5LCBub3RGb3VuZFZhbHVlLCB2aXNpYmlsaXR5KSB7XG4gICAgICAgIGxldCBpbmo7XG4gICAgICAgIGlmICh2aXNpYmlsaXR5IGluc3RhbmNlb2YgU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXMucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5qID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5qIGluc3RhbmNlb2YgUmVmbGVjdGl2ZUluamVjdG9yXykge1xuICAgICAgICAgICAgY29uc3QgaW5qXyA9IGluajtcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGlual8uX2dldE9iakJ5S2V5SWQoa2V5LmlkKTtcbiAgICAgICAgICAgIGlmIChvYmogIT09IFVOREVGSU5FRClcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgaW5qID0gaW5qXy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGluai5nZXQoa2V5LnRva2VuLCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNwbGF5TmFtZSgpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gX21hcFByb3ZpZGVycyh0aGlzLCAoYikgPT4gJyBcIicgKyBiLmtleS5kaXNwbGF5TmFtZSArICdcIiAnKVxuICAgICAgICAgICAgLmpvaW4oJywgJyk7XG4gICAgICAgIHJldHVybiBgUmVmbGVjdGl2ZUluamVjdG9yKHByb3ZpZGVyczogWyR7cHJvdmlkZXJzfV0pYDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlOYW1lO1xuICAgIH1cbn1cblJlZmxlY3RpdmVJbmplY3Rvcl8uSU5KRUNUT1JfS0VZID0gKCAvKiBAX19QVVJFX18gKi9SZWZsZWN0aXZlS2V5LmdldChJbmplY3RvcikpO1xuZnVuY3Rpb24gX21hcFByb3ZpZGVycyhpbmplY3RvciwgZm4pIHtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluamVjdG9yLl9wcm92aWRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzW2ldID0gZm4oaW5qZWN0b3IuZ2V0UHJvdmlkZXJBdEluZGV4KGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIMm1ybVkaXJlY3RpdmVJbmplY3QodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAvLyBGYWxsIGJhY2sgdG8gaW5qZWN0KCkgaWYgdmlldyBoYXNuJ3QgYmVlbiBjcmVhdGVkLiBUaGlzIHNpdHVhdGlvbiBjYW4gaGFwcGVuIGluIHRlc3RzXG4gICAgLy8gaWYgaW5qZWN0IHV0aWxpdGllcyBhcmUgdXNlZCBiZWZvcmUgYm9vdHN0cmFwcGluZy5cbiAgICBpZiAobFZpZXcgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVmVyaWZ5IHRoYXQgd2Ugd2lsbCBub3QgZ2V0IGludG8gaW5maW5pdGUgbG9vcC5cbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluamVjdEltcGxlbWVudGF0aW9uTm90RXF1YWwoybXJtWRpcmVjdGl2ZUluamVjdCk7XG4gICAgICAgIHJldHVybiDJtcm1aW5qZWN0KHRva2VuLCBmbGFncyk7XG4gICAgfVxuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgcmV0dXJuIGdldE9yQ3JlYXRlSW5qZWN0YWJsZSh0Tm9kZSwgbFZpZXcsIHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW5kaWNhdGluZyB0aGF0IGEgZmFjdG9yeSBmdW5jdGlvbiBjb3VsZCBub3QgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBmb3IgYVxuICogcGFydGljdWxhciBjbGFzcy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFsbG93cyB0aGUgYWN0dWFsIGVycm9yIG1lc3NhZ2UgdG8gYmUgb3B0aW1pemVkIGF3YXkgd2hlbiBuZ0Rldk1vZGUgaXMgdHVybmVkXG4gKiBvZmYsIHNhdmluZyBieXRlcyBvZiBnZW5lcmF0ZWQgY29kZSB3aGlsZSBzdGlsbCBwcm92aWRpbmcgYSBnb29kIGV4cGVyaWVuY2UgaW4gZGV2IG1vZGUuXG4gKlxuICogVGhlIG5hbWUgb2YgdGhlIGNsYXNzIGlzIG5vdCBtZW50aW9uZWQgaGVyZSwgYnV0IHdpbGwgYmUgaW4gdGhlIGdlbmVyYXRlZCBmYWN0b3J5IGZ1bmN0aW9uIG5hbWVcbiAqIGFuZCB0aHVzIGluIHRoZSBzdGFjayB0cmFjZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aW52YWxpZEZhY3RvcnkoKSB7XG4gICAgY29uc3QgbXNnID0gbmdEZXZNb2RlID8gYFRoaXMgY29uc3RydWN0b3Igd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggRGVwZW5kZW5jeSBJbmplY3Rpb24uYCA6ICdpbnZhbGlkJztcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZSBhIHByb3BlcnR5IG9uIGEgc2VsZWN0ZWQgZWxlbWVudC5cbiAqXG4gKiBPcGVyYXRlcyBvbiB0aGUgZWxlbWVudCBzZWxlY3RlZCBieSBpbmRleCB2aWEgdGhlIHtAbGluayBzZWxlY3R9IGluc3RydWN0aW9uLlxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWRcbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgTmFtZSBvZiBwcm9wZXJ0eS4gQmVjYXVzZSBpdCBpcyBnb2luZyB0byBET00sIHRoaXMgaXMgbm90IHN1YmplY3QgdG9cbiAqICAgICAgICByZW5hbWluZyBhcyBwYXJ0IG9mIG1pbmlmaWNhdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkXG4gKiAoZS5nLiBgcHJvcGVydHkoJ25hbWUnLCBjdHgubmFtZSkoJ3RpdGxlJywgY3R4LnRpdGxlKWApXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5KHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCB2YWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5O1xufVxuLyoqXG4gKiBHaXZlbiBgPGRpdiBzdHlsZT1cIi4uLlwiIG15LWRpcj5gIGFuZCBgTXlEaXJgIHdpdGggYEBJbnB1dCgnc3R5bGUnKWAgd2UgbmVlZCB0byB3cml0ZSB0b1xuICogZGlyZWN0aXZlIGlucHV0LlxuICovXG5mdW5jdGlvbiBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHZhbHVlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCBpbnB1dHMgPSB0Tm9kZS5pbnB1dHM7XG4gICAgY29uc3QgcHJvcGVydHkgPSBpc0NsYXNzQmFzZWQgPyAnY2xhc3MnIDogJ3N0eWxlJztcbiAgICAvLyBXZSBzdXBwb3J0IGJvdGggJ2NsYXNzJyBhbmQgYGNsYXNzTmFtZWAgaGVuY2UgdGhlIGZhbGxiYWNrLlxuICAgIHNldElucHV0c0ZvclByb3BlcnR5KHRWaWV3LCBsVmlldywgaW5wdXRzW3Byb3BlcnR5XSwgcHJvcGVydHksIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBlbGVtZW50U3RhcnRGaXJzdENyZWF0ZVBhc3MoaW5kZXgsIHRWaWV3LCBsVmlldywgbmF0aXZlLCBuYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUuZmlyc3RDcmVhdGVQYXNzKys7XG4gICAgY29uc3QgdFZpZXdDb25zdHMgPSB0Vmlldy5jb25zdHM7XG4gICAgY29uc3QgYXR0cnMgPSBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgYXR0cnNJbmRleCk7XG4gICAgY29uc3QgdE5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgMiAvKiBFbGVtZW50ICovLCBuYW1lLCBhdHRycyk7XG4gICAgY29uc3QgaGFzRGlyZWN0aXZlcyA9IHJlc29sdmVEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBsb2NhbFJlZnNJbmRleCkpO1xuICAgIG5nRGV2TW9kZSAmJiBsb2dVbmtub3duRWxlbWVudEVycm9yKHRWaWV3LCBuYXRpdmUsIHROb2RlLCBoYXNEaXJlY3RpdmVzKTtcbiAgICBpZiAodE5vZGUuYXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIHROb2RlLmF0dHJzLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmICh0Tm9kZS5tZXJnZWRBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBjb21wdXRlU3RhdGljU3R5bGluZyh0Tm9kZSwgdE5vZGUubWVyZ2VkQXR0cnMsIHRydWUpO1xuICAgIH1cbiAgICBpZiAodFZpZXcucXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5xdWVyaWVzLmVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIENyZWF0ZSBET00gZWxlbWVudC4gVGhlIGluc3RydWN0aW9uIG11c3QgbGF0ZXIgYmUgZm9sbG93ZWQgYnkgYGVsZW1lbnRFbmQoKWAgY2FsbC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIExWaWV3IGFycmF5XG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBET00gTm9kZVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGVzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnNJbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIGxvY2FsIHJlZmVyZW5jZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICpcbiAqIEF0dHJpYnV0ZXMgYW5kIGxvY2FsUmVmcyBhcmUgcGFzc2VkIGFzIGFuIGFycmF5IG9mIHN0cmluZ3Mgd2hlcmUgZWxlbWVudHMgd2l0aCBhbiBldmVuIGluZGV4XG4gKiBob2xkIGFuIGF0dHJpYnV0ZSBuYW1lIGFuZCBlbGVtZW50cyB3aXRoIGFuIG9kZCBpbmRleCBob2xkIGFuIGF0dHJpYnV0ZSB2YWx1ZSwgZXguOlxuICogWydpZCcsICd3YXJuaW5nNScsICdjbGFzcycsICdhbGVydCddXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRTdGFydChpbmRleCwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBIRUFERVJfT0ZGU0VUICsgaW5kZXg7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGdldEJpbmRpbmdJbmRleCgpLCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgJ2VsZW1lbnRzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBjb25zdCBuYXRpdmUgPSBsVmlld1thZGp1c3RlZEluZGV4XSA9IGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyLCBuYW1lLCBnZXROYW1lc3BhY2UkMSgpKTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA/XG4gICAgICAgIGVsZW1lbnRTdGFydEZpcnN0Q3JlYXRlUGFzcyhhZGp1c3RlZEluZGV4LCB0VmlldywgbFZpZXcsIG5hdGl2ZSwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIHRydWUpO1xuICAgIGNvbnN0IG1lcmdlZEF0dHJzID0gdE5vZGUubWVyZ2VkQXR0cnM7XG4gICAgaWYgKG1lcmdlZEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIHNldFVwQXR0cmlidXRlcyhyZW5kZXJlciwgbmF0aXZlLCBtZXJnZWRBdHRycyk7XG4gICAgfVxuICAgIGNvbnN0IGNsYXNzZXMgPSB0Tm9kZS5jbGFzc2VzO1xuICAgIGlmIChjbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICAgIHdyaXRlRGlyZWN0Q2xhc3MocmVuZGVyZXIsIG5hdGl2ZSwgY2xhc3Nlcyk7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IHROb2RlLnN0eWxlcztcbiAgICBpZiAoc3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgIHdyaXRlRGlyZWN0U3R5bGUocmVuZGVyZXIsIG5hdGl2ZSwgc3R5bGVzKTtcbiAgICB9XG4gICAgaWYgKCh0Tm9kZS5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pICE9PSA2NCAvKiBpc0RldGFjaGVkICovKSB7XG4gICAgICAgIC8vIEluIHRoZSBpMThuIGNhc2UsIHRoZSB0cmFuc2xhdGlvbiBtYXkgaGF2ZSByZW1vdmVkIHRoaXMgZWxlbWVudCwgc28gb25seSBhZGQgaXQgaWYgaXQgaXMgbm90XG4gICAgICAgIC8vIGRldGFjaGVkLiBTZWUgYFROb2RlVHlwZS5QbGFjZWhvbGRlcmAgYW5kIGBMRnJhbWUuaW5JMThuYCBmb3IgbW9yZSBjb250ZXh0LlxuICAgICAgICBhcHBlbmRDaGlsZCh0VmlldywgbFZpZXcsIG5hdGl2ZSwgdE5vZGUpO1xuICAgIH1cbiAgICAvLyBhbnkgaW1tZWRpYXRlIGNoaWxkcmVuIG9mIGEgY29tcG9uZW50IG9yIHRlbXBsYXRlIGNvbnRhaW5lciBtdXN0IGJlIHByZS1lbXB0aXZlbHlcbiAgICAvLyBtb25rZXktcGF0Y2hlZCB3aXRoIHRoZSBjb21wb25lbnQgdmlldyBkYXRhIHNvIHRoYXQgdGhlIGVsZW1lbnQgY2FuIGJlIGluc3BlY3RlZFxuICAgIC8vIGxhdGVyIG9uIHVzaW5nIGFueSBlbGVtZW50IGRpc2NvdmVyeSB1dGlsaXR5IG1ldGhvZHMgKHNlZSBgZWxlbWVudF9kaXNjb3ZlcnkudHNgKVxuICAgIGlmIChnZXRFbGVtZW50RGVwdGhDb3VudCgpID09PSAwKSB7XG4gICAgICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGxWaWV3KTtcbiAgICB9XG4gICAgaW5jcmVhc2VFbGVtZW50RGVwdGhDb3VudCgpO1xuICAgIGlmIChpc0RpcmVjdGl2ZUhvc3QodE5vZGUpKSB7XG4gICAgICAgIGNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGV4ZWN1dGVDb250ZW50UXVlcmllcyh0VmlldywgdE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgaWYgKGxvY2FsUmVmc0luZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIHNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YShsVmlldywgdE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWVsZW1lbnRTdGFydDtcbn1cbi8qKlxuICogTWFyayB0aGUgZW5kIG9mIHRoZSBlbGVtZW50LlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50RW5kKCkge1xuICAgIGxldCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjdXJyZW50VE5vZGUsICdObyBwYXJlbnQgbm9kZSB0byBjbG9zZS4nKTtcbiAgICBpZiAoaXNDdXJyZW50VE5vZGVQYXJlbnQoKSkge1xuICAgICAgICBzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEhhc1BhcmVudChnZXRDdXJyZW50VE5vZGUoKSk7XG4gICAgICAgIGN1cnJlbnRUTm9kZSA9IGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgICAgIHNldEN1cnJlbnRUTm9kZShjdXJyZW50VE5vZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc3QgdE5vZGUgPSBjdXJyZW50VE5vZGU7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyk7XG4gICAgZGVjcmVhc2VFbGVtZW50RGVwdGhDb3VudCgpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIGlmIChpc0NvbnRlbnRRdWVyeUhvc3QoY3VycmVudFROb2RlKSkge1xuICAgICAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50RW5kKGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHROb2RlLmNsYXNzZXNXaXRob3V0SG9zdCAhPSBudWxsICYmIGhhc0NsYXNzSW5wdXQodE5vZGUpKSB7XG4gICAgICAgIHNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmcodFZpZXcsIHROb2RlLCBnZXRMVmlldygpLCB0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QsIHRydWUpO1xuICAgIH1cbiAgICBpZiAodE5vZGUuc3R5bGVzV2l0aG91dEhvc3QgIT0gbnVsbCAmJiBoYXNTdHlsZUlucHV0KHROb2RlKSkge1xuICAgICAgICBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgZ2V0TFZpZXcoKSwgdE5vZGUuc3R5bGVzV2l0aG91dEhvc3QsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50RW5kO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGVtcHR5IGVsZW1lbnQgdXNpbmcge0BsaW5rIGVsZW1lbnRTdGFydH0gYW5kIHtAbGluayBlbGVtZW50RW5kfVxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgRE9NIE5vZGVcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudChpbmRleCwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICDJtcm1ZWxlbWVudFN0YXJ0KGluZGV4LCBuYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCk7XG4gICAgybXJtWVsZW1lbnRFbmQoKTtcbiAgICByZXR1cm4gybXJtWVsZW1lbnQ7XG59XG5mdW5jdGlvbiBsb2dVbmtub3duRWxlbWVudEVycm9yKHRWaWV3LCBlbGVtZW50LCB0Tm9kZSwgaGFzRGlyZWN0aXZlcykge1xuICAgIGNvbnN0IHNjaGVtYXMgPSB0Vmlldy5zY2hlbWFzO1xuICAgIC8vIElmIGBzY2hlbWFzYCBpcyBzZXQgdG8gYG51bGxgLCB0aGF0J3MgYW4gaW5kaWNhdGlvbiB0aGF0IHRoaXMgQ29tcG9uZW50IHdhcyBjb21waWxlZCBpbiBBT1RcbiAgICAvLyBtb2RlIHdoZXJlIHRoaXMgY2hlY2sgaGFwcGVucyBhdCBjb21waWxlIHRpbWUuIEluIEpJVCBtb2RlLCBgc2NoZW1hc2AgaXMgYWx3YXlzIHByZXNlbnQgYW5kXG4gICAgLy8gZGVmaW5lZCBhcyBhbiBhcnJheSAoYXMgYW4gZW1wdHkgYXJyYXkgaW4gY2FzZSBgc2NoZW1hc2AgZmllbGQgaXMgbm90IGRlZmluZWQpIGFuZCB3ZSBzaG91bGRcbiAgICAvLyBleGVjdXRlIHRoZSBjaGVjayBiZWxvdy5cbiAgICBpZiAoc2NoZW1hcyA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHRhZ05hbWUgPSB0Tm9kZS52YWx1ZTtcbiAgICAvLyBJZiB0aGUgZWxlbWVudCBtYXRjaGVzIGFueSBkaXJlY3RpdmUsIGl0J3MgY29uc2lkZXJlZCBhcyB2YWxpZC5cbiAgICBpZiAoIWhhc0RpcmVjdGl2ZXMgJiYgdGFnTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyB1bmtub3duIGlmIGl0J3MgYW4gaW5zdGFuY2Ugb2YgSFRNTFVua25vd25FbGVtZW50IG9yIGl0IGlzbid0IHJlZ2lzdGVyZWRcbiAgICAgICAgLy8gYXMgYSBjdXN0b20gZWxlbWVudC4gTm90ZSB0aGF0IHVua25vd24gZWxlbWVudHMgd2l0aCBhIGRhc2ggaW4gdGhlaXIgbmFtZSB3b24ndCBiZSBpbnN0YW5jZXNcbiAgICAgICAgLy8gb2YgSFRNTFVua25vd25FbGVtZW50IGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB3ZWIgY29tcG9uZW50cy5cbiAgICAgICAgY29uc3QgaXNVbmtub3duID0gXG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBjYW4ndCBjaGVjayBmb3IgYHR5cGVvZiBIVE1MVW5rbm93bkVsZW1lbnQgPT09ICdmdW5jdGlvbidgLFxuICAgICAgICAvLyBiZWNhdXNlIHdoaWxlIG1vc3QgYnJvd3NlcnMgcmV0dXJuICdmdW5jdGlvbicsIElFIHJldHVybnMgJ29iamVjdCcuXG4gICAgICAgICh0eXBlb2YgSFRNTFVua25vd25FbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBIVE1MVW5rbm93bkVsZW1lbnQgJiZcbiAgICAgICAgICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVW5rbm93bkVsZW1lbnQpIHx8XG4gICAgICAgICAgICAodHlwZW9mIGN1c3RvbUVsZW1lbnRzICE9PSAndW5kZWZpbmVkJyAmJiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSk7XG4gICAgICAgIGlmIChpc1Vua25vd24gJiYgIW1hdGNoaW5nU2NoZW1hcyh0VmlldywgdGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYCcke3RhZ05hbWV9JyBpcyBub3QgYSBrbm93biBlbGVtZW50OlxcbmA7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGAxLiBJZiAnJHt0YWdOYW1lfScgaXMgYW4gQW5ndWxhciBjb21wb25lbnQsIHRoZW4gdmVyaWZ5IHRoYXQgaXQgaXMgcGFydCBvZiB0aGlzIG1vZHVsZS5cXG5gO1xuICAgICAgICAgICAgaWYgKHRhZ05hbWUgJiYgdGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYDIuIElmICcke3RhZ05hbWV9JyBpcyBhIFdlYiBDb21wb25lbnQgdGhlbiBhZGQgJ0NVU1RPTV9FTEVNRU5UU19TQ0hFTUEnIHRvIHRoZSAnQE5nTW9kdWxlLnNjaGVtYXMnIG9mIHRoaXMgY29tcG9uZW50IHRvIHN1cHByZXNzIHRoaXMgbWVzc2FnZS5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgICAgICAgICBgMi4gVG8gYWxsb3cgYW55IGVsZW1lbnQgYWRkICdOT19FUlJPUlNfU0NIRU1BJyB0byB0aGUgJ0BOZ01vZHVsZS5zY2hlbWFzJyBvZiB0aGlzIGNvbXBvbmVudC5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihmb3JtYXRSdW50aW1lRXJyb3IoMzA0IC8qIFVOS05PV05fRUxFTUVOVCAqLywgbWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRDb250YWluZXJTdGFydEZpcnN0Q3JlYXRlUGFzcyhpbmRleCwgdFZpZXcsIGxWaWV3LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUuZmlyc3RDcmVhdGVQYXNzKys7XG4gICAgY29uc3QgdFZpZXdDb25zdHMgPSB0Vmlldy5jb25zdHM7XG4gICAgY29uc3QgYXR0cnMgPSBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgYXR0cnNJbmRleCk7XG4gICAgY29uc3QgdE5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovLCAnbmctY29udGFpbmVyJywgYXR0cnMpO1xuICAgIC8vIFdoaWxlIG5nLWNvbnRhaW5lciBkb2Vzbid0IG5lY2Vzc2FyaWx5IHN1cHBvcnQgc3R5bGluZywgd2UgdXNlIHRoZSBzdHlsZSBjb250ZXh0IHRvIGlkZW50aWZ5XG4gICAgLy8gYW5kIGV4ZWN1dGUgZGlyZWN0aXZlcyBvbiB0aGUgbmctY29udGFpbmVyLlxuICAgIGlmIChhdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBjb21wdXRlU3RhdGljU3R5bGluZyh0Tm9kZSwgYXR0cnMsIHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbFJlZnMgPSBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpO1xuICAgIHJlc29sdmVEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGxvY2FsUmVmcyk7XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbG9naWNhbCBjb250YWluZXIgZm9yIG90aGVyIG5vZGVzICg8bmctY29udGFpbmVyPikgYmFja2VkIGJ5IGEgY29tbWVudCBub2RlIGluIHRoZSBET00uXG4gKiBUaGUgaW5zdHJ1Y3Rpb24gbXVzdCBsYXRlciBiZSBmb2xsb3dlZCBieSBgZWxlbWVudENvbnRhaW5lckVuZCgpYCBjYWxsLlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgTFZpZXcgYXJyYXlcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGNvbnRhaW5lcidzIGxvY2FsIHJlZmVyZW5jZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICpcbiAqIEV2ZW4gaWYgdGhpcyBpbnN0cnVjdGlvbiBhY2NlcHRzIGEgc2V0IG9mIGF0dHJpYnV0ZXMgbm8gYWN0dWFsIGF0dHJpYnV0ZSB2YWx1ZXMgYXJlIHByb3BhZ2F0ZWQgdG9cbiAqIHRoZSBET00gKGFzIGEgY29tbWVudCBub2RlIGNhbid0IGhhdmUgYXR0cmlidXRlcykuIEF0dHJpYnV0ZXMgYXJlIGhlcmUgb25seSBmb3IgZGlyZWN0aXZlXG4gKiBtYXRjaGluZyBwdXJwb3NlcyBhbmQgc2V0dGluZyBpbml0aWFsIGlucHV0cyBvZiBkaXJlY3RpdmVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQoaW5kZXgsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRCaW5kaW5nSW5kZXgoKSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICdlbGVtZW50IGNvbnRhaW5lcnMgc2hvdWxkIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBiaW5kaW5ncycpO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID9cbiAgICAgICAgZWxlbWVudENvbnRhaW5lclN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGFkanVzdGVkSW5kZXgsIHRWaWV3LCBsVmlldywgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIHRydWUpO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVDb21tZW50Kys7XG4gICAgY29uc3QgbmF0aXZlID0gbFZpZXdbYWRqdXN0ZWRJbmRleF0gPVxuICAgICAgICBsVmlld1tSRU5ERVJFUl0uY3JlYXRlQ29tbWVudChuZ0Rldk1vZGUgPyAnbmctY29udGFpbmVyJyA6ICcnKTtcbiAgICBhcHBlbmRDaGlsZCh0VmlldywgbFZpZXcsIG5hdGl2ZSwgdE5vZGUpO1xuICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGxWaWV3KTtcbiAgICBpZiAoaXNEaXJlY3RpdmVIb3N0KHROb2RlKSkge1xuICAgICAgICBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgICAgICBleGVjdXRlQ29udGVudFF1ZXJpZXModFZpZXcsIHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGlmIChsb2NhbFJlZnNJbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YShsVmlldywgdE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWVsZW1lbnRDb250YWluZXJTdGFydDtcbn1cbi8qKlxuICogTWFyayB0aGUgZW5kIG9mIHRoZSA8bmctY29udGFpbmVyPi5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCgpIHtcbiAgICBsZXQgY3VycmVudFROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmIChpc0N1cnJlbnRUTm9kZVBhcmVudCgpKSB7XG4gICAgICAgIHNldEN1cnJlbnRUTm9kZUFzTm90UGFyZW50KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SGFzUGFyZW50KGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIGN1cnJlbnRUTm9kZSA9IGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgICAgIHNldEN1cnJlbnRUTm9kZShjdXJyZW50VE5vZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZShjdXJyZW50VE5vZGUsIDggLyogRWxlbWVudENvbnRhaW5lciAqLyk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCBjdXJyZW50VE5vZGUpO1xuICAgICAgICBpZiAoaXNDb250ZW50UXVlcnlIb3N0KGN1cnJlbnRUTm9kZSkpIHtcbiAgICAgICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudEVuZChjdXJyZW50VE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiDJtcm1ZWxlbWVudENvbnRhaW5lckVuZDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBsb2dpY2FsIGNvbnRhaW5lciB1c2luZyB7QGxpbmsgZWxlbWVudENvbnRhaW5lclN0YXJ0fVxuICogYW5kIHtAbGluayBlbGVtZW50Q29udGFpbmVyRW5kfVxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgTFZpZXcgYXJyYXlcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGNvbnRhaW5lcidzIGxvY2FsIHJlZmVyZW5jZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50Q29udGFpbmVyKGluZGV4LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIMm1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQoaW5kZXgsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KTtcbiAgICDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCgpO1xuICAgIHJldHVybiDJtcm1ZWxlbWVudENvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIHJlc3RvcmVWaWV3KCkgaW5zdHJ1Y3Rpb24gdG8gc2F2ZSBhIHNuYXBzaG90XG4gKiBvZiB0aGUgY3VycmVudCB2aWV3IGFuZCByZXN0b3JlIGl0IHdoZW4gbGlzdGVuZXJzIGFyZSBpbnZva2VkLiBUaGlzIGFsbG93c1xuICogd2Fsa2luZyB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIGluIGxpc3RlbmVycyB0byBnZXQgdmFycyBmcm9tIHBhcmVudCB2aWV3cy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Z2V0Q3VycmVudFZpZXcoKSB7XG4gICAgcmV0dXJuIGdldExWaWV3KCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIHNoYXBlZCBsaWtlIGEgUHJvbWlzZVxuICovXG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gICAgLy8gYWxsb3cgYW55IFByb21pc2UvQSsgY29tcGxpYW50IHRoZW5hYmxlLlxuICAgIC8vIEl0J3MgdXAgdG8gdGhlIGNhbGxlciB0byBlbnN1cmUgdGhhdCBvYmoudGhlbiBjb25mb3JtcyB0byB0aGUgc3BlY1xuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBTdWJzY3JpYmFibGVcbiAqL1xuZnVuY3Rpb24gaXNTdWJzY3JpYmFibGUob2JqKSB7XG4gICAgcmV0dXJuICEhb2JqICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIE9ic2VydmFibGVcbiAqXG4gKiBTdHJpY3RseSB0aGlzIHRlc3RzIHRoYXQgdGhlIGBvYmpgIGlzIGBTdWJzY3JpYmFibGVgLCBzaW5jZSBgT2JzZXJ2YWJsZWBcbiAqIHR5cGVzIG5lZWQgYWRkaXRpb25hbCBtZXRob2RzLCBzdWNoIGFzIGBsaWZ0KClgLiBCdXQgaXQgaXMgYWRlcXVhdGUgZm9yIG91clxuICogbmVlZHMgc2luY2Ugd2l0aGluIHRoZSBBbmd1bGFyIGZyYW1ld29yayBjb2RlIHdlIG9ubHkgZXZlciBuZWVkIHRvIHVzZSB0aGVcbiAqIGBzdWJzY3JpYmUoKWAgbWV0aG9kLCBhbmQgUnhKUyBoYXMgbWVjaGFuaXNtcyB0byB3cmFwIGBTdWJzY3JpYmFibGVgIG9iamVjdHNcbiAqIGludG8gYE9ic2VydmFibGVgIGFzIG5lZWRlZC5cbiAqL1xuY29uc3QgaXNPYnNlcnZhYmxlID0gaXNTdWJzY3JpYmFibGU7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjdXJyZW50IG5vZGUuXG4gKlxuICogSWYgYW4gb3V0cHV0IGV4aXN0cyBvbiBvbmUgb2YgdGhlIG5vZGUncyBkaXJlY3RpdmVzLCBpdCBhbHNvIHN1YnNjcmliZXMgdG8gdGhlIG91dHB1dFxuICogYW5kIHNhdmVzIHRoZSBzdWJzY3JpcHRpb24gZm9yIGxhdGVyIGNsZWFudXAuXG4gKlxuICogQHBhcmFtIGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudFxuICogQHBhcmFtIGxpc3RlbmVyRm4gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGV2ZW50IGVtaXRzXG4gKiBAcGFyYW0gdXNlQ2FwdHVyZSBXaGV0aGVyIG9yIG5vdCB0byB1c2UgY2FwdHVyZSBpbiBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIGV2ZW50VGFyZ2V0UmVzb2x2ZXIgRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdsb2JhbCB0YXJnZXQgaW5mb3JtYXRpb24gaW4gY2FzZSB0aGlzIGxpc3RlbmVyXG4gKiBzaG91bGQgYmUgYXR0YWNoZWQgdG8gYSBnbG9iYWwgb2JqZWN0IGxpa2Ugd2luZG93LCBkb2N1bWVudCBvciBib2R5XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSwgZXZlbnRUYXJnZXRSZXNvbHZlcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBsaXN0ZW5lckludGVybmFsKHRWaWV3LCBsVmlldywgbFZpZXdbUkVOREVSRVJdLCB0Tm9kZSwgZXZlbnROYW1lLCBsaXN0ZW5lckZuLCAhIXVzZUNhcHR1cmUsIGV2ZW50VGFyZ2V0UmVzb2x2ZXIpO1xuICAgIHJldHVybiDJtcm1bGlzdGVuZXI7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIHN5bnRoZXRpYyBob3N0IGxpc3RlbmVyIChlLmcuIGAoQGZvby5zdGFydClgKSBvbiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBmb3IgY29tcGF0aWJpbGl0eSBwdXJwb3NlcyBhbmQgaXMgZGVzaWduZWQgdG8gZW5zdXJlIHRoYXQgYVxuICogc3ludGhldGljIGhvc3QgbGlzdGVuZXIgKGUuZy4gYEBIb3N0TGlzdGVuZXIoJ0Bmb28uc3RhcnQnKWApIHByb3Blcmx5IGdldHMgcmVuZGVyZWRcbiAqIGluIHRoZSBjb21wb25lbnQncyByZW5kZXJlci4gTm9ybWFsbHkgYWxsIGhvc3QgbGlzdGVuZXJzIGFyZSBldmFsdWF0ZWQgd2l0aCB0aGVcbiAqIHBhcmVudCBjb21wb25lbnQncyByZW5kZXJlciwgYnV0LCBpbiB0aGUgY2FzZSBvZiBhbmltYXRpb24gQHRyaWdnZXJzLCB0aGV5IG5lZWRcbiAqIHRvIGJlIGV2YWx1YXRlZCB3aXRoIHRoZSBzdWIgY29tcG9uZW50J3MgcmVuZGVyZXIgKGJlY2F1c2UgdGhhdCdzIHdoZXJlIHRoZVxuICogYW5pbWF0aW9uIHRyaWdnZXJzIGFyZSBkZWZpbmVkKS5cbiAqXG4gKiBEbyBub3QgdXNlIHRoaXMgaW5zdHJ1Y3Rpb24gYXMgYSByZXBsYWNlbWVudCBmb3IgYGxpc3RlbmVyYC4gVGhpcyBpbnN0cnVjdGlvblxuICogb25seSBleGlzdHMgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgVmlld0VuZ2luZSdzIGhvc3QgYmluZGluZyBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gZXZlbnROYW1lIE5hbWUgb2YgdGhlIGV2ZW50XG4gKiBAcGFyYW0gbGlzdGVuZXJGbiBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gZXZlbnQgZW1pdHNcbiAqIEBwYXJhbSB1c2VDYXB0dXJlIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBjYXB0dXJlIGluIGV2ZW50IGxpc3RlbmVyXG4gKiBAcGFyYW0gZXZlbnRUYXJnZXRSZXNvbHZlciBGdW5jdGlvbiB0aGF0IHJldHVybnMgZ2xvYmFsIHRhcmdldCBpbmZvcm1hdGlvbiBpbiBjYXNlIHRoaXMgbGlzdGVuZXJcbiAqIHNob3VsZCBiZSBhdHRhY2hlZCB0byBhIGdsb2JhbCBvYmplY3QgbGlrZSB3aW5kb3csIGRvY3VtZW50IG9yIGJvZHlcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbikge1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBjdXJyZW50RGVmID0gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0Vmlldy5kYXRhKTtcbiAgICBjb25zdCByZW5kZXJlciA9IGxvYWRDb21wb25lbnRSZW5kZXJlcihjdXJyZW50RGVmLCB0Tm9kZSwgbFZpZXcpO1xuICAgIGxpc3RlbmVySW50ZXJuYWwodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgdE5vZGUsIGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyO1xufVxuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGhhcyBhbHJlYWR5IGFuIGV2ZW50IGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgYW5cbiAqIGV2ZW50IHdpdGggYSBzcGVjaWZpZWQgbmFtZS4gVGhlIFRWaWV3LmNsZWFudXAgZGF0YSBzdHJ1Y3R1cmUgaXMgdXNlZCB0byBmaW5kIG91dCB3aGljaCBldmVudHNcbiAqIGFyZSByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRFeGlzdGluZ0xpc3RlbmVyKHRWaWV3LCBsVmlldywgZXZlbnROYW1lLCB0Tm9kZUlkeCkge1xuICAgIGNvbnN0IHRDbGVhbnVwID0gdFZpZXcuY2xlYW51cDtcbiAgICBpZiAodENsZWFudXAgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgY2xlYW51cEV2ZW50TmFtZSA9IHRDbGVhbnVwW2ldO1xuICAgICAgICAgICAgaWYgKGNsZWFudXBFdmVudE5hbWUgPT09IGV2ZW50TmFtZSAmJiB0Q2xlYW51cFtpICsgMV0gPT09IHROb2RlSWR4KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBhIG1hdGNoaW5nIGV2ZW50IG5hbWUgb24gdGhlIHNhbWUgbm9kZSBidXQgaXQgbWlnaHQgbm90IGhhdmUgYmVlblxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyZWQgeWV0LCBzbyB3ZSBtdXN0IGV4cGxpY2l0bHkgdmVyaWZ5IGVudHJpZXMgaW4gdGhlIExWaWV3IGNsZWFudXAgZGF0YVxuICAgICAgICAgICAgICAgIC8vIHN0cnVjdHVyZXMuXG4gICAgICAgICAgICAgICAgY29uc3QgbENsZWFudXAgPSBsVmlld1tDTEVBTlVQXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lcklkeEluTENsZWFudXAgPSB0Q2xlYW51cFtpICsgMl07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxDbGVhbnVwLmxlbmd0aCA+IGxpc3RlbmVySWR4SW5MQ2xlYW51cCA/IGxDbGVhbnVwW2xpc3RlbmVySWR4SW5MQ2xlYW51cF0gOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVFZpZXcuY2xlYW51cCBjYW4gaGF2ZSBhIG1peCBvZiA0LWVsZW1lbnRzIGVudHJpZXMgKGZvciBldmVudCBoYW5kbGVyIGNsZWFudXBzKSBvclxuICAgICAgICAgICAgLy8gMi1lbGVtZW50IGVudHJpZXMgKGZvciBkaXJlY3RpdmUgYW5kIHF1ZXJpZXMgZGVzdHJveSBob29rcykuIEFzIHN1Y2ggd2UgY2FuIGVuY291bnRlclxuICAgICAgICAgICAgLy8gYmxvY2tzIG9mIDQgb3IgMiBpdGVtcyBpbiB0aGUgdFZpZXcuY2xlYW51cCBhbmQgdGhpcyBpcyB3aHkgd2UgaXRlcmF0ZSBvdmVyIDIgZWxlbWVudHNcbiAgICAgICAgICAgIC8vIGZpcnN0IGFuZCBqdW1wIGFub3RoZXIgMiBlbGVtZW50cyBpZiB3ZSBkZXRlY3QgbGlzdGVuZXJzIGNsZWFudXAgKDQgZWxlbWVudHMpLiBBbHNvIGNoZWNrXG4gICAgICAgICAgICAvLyBkb2N1bWVudGF0aW9uIG9mIFRWaWV3LmNsZWFudXAgZm9yIG1vcmUgZGV0YWlscyBvZiB0aGlzIGRhdGEgc3RydWN0dXJlIGxheW91dC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xlYW51cEV2ZW50TmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBsaXN0ZW5lckludGVybmFsKHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIHROb2RlLCBldmVudE5hbWUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUsIGV2ZW50VGFyZ2V0UmVzb2x2ZXIpIHtcbiAgICBjb25zdCBpc1ROb2RlRGlyZWN0aXZlSG9zdCA9IGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSk7XG4gICAgY29uc3QgZmlyc3RDcmVhdGVQYXNzID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzO1xuICAgIGNvbnN0IHRDbGVhbnVwID0gZmlyc3RDcmVhdGVQYXNzICYmIGdldE9yQ3JlYXRlVFZpZXdDbGVhbnVwKHRWaWV3KTtcbiAgICBjb25zdCBjb250ZXh0ID0gbFZpZXdbQ09OVEVYVF07XG4gICAgLy8gV2hlbiB0aGUgybXJtWxpc3RlbmVyIGluc3RydWN0aW9uIHdhcyBnZW5lcmF0ZWQgYW5kIGlzIGV4ZWN1dGVkIHdlIGtub3cgdGhhdCB0aGVyZSBpcyBlaXRoZXIgYVxuICAgIC8vIG5hdGl2ZSBsaXN0ZW5lciBvciBhIGRpcmVjdGl2ZSBvdXRwdXQgb24gdGhpcyBlbGVtZW50LiBBcyBzdWNoIHdlIHdlIGtub3cgdGhhdCB3ZSB3aWxsIGhhdmUgdG9cbiAgICAvLyByZWdpc3RlciBhIGxpc3RlbmVyIGFuZCBzdG9yZSBpdHMgY2xlYW51cCBmdW5jdGlvbiBvbiBMVmlldy5cbiAgICBjb25zdCBsQ2xlYW51cCA9IGdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwKGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovKTtcbiAgICBsZXQgcHJvY2Vzc091dHB1dHMgPSB0cnVlO1xuICAgIC8vIEFkZGluZyBhIG5hdGl2ZSBldmVudCBsaXN0ZW5lciBpcyBhcHBsaWNhYmxlIHdoZW46XG4gICAgLy8gLSBUaGUgY29ycmVzcG9uZGluZyBUTm9kZSByZXByZXNlbnRzIGEgRE9NIGVsZW1lbnQuXG4gICAgLy8gLSBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBhIHJlc29sdmVyICh1c3VhbGx5IHJlc3VsdGluZyBpbiBhIGdsb2JhbCBvYmplY3QsXG4gICAgLy8gICBzdWNoIGFzIGB3aW5kb3dgIG9yIGBkb2N1bWVudGApLlxuICAgIGlmICgodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pIHx8IGV2ZW50VGFyZ2V0UmVzb2x2ZXIpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudFRhcmdldFJlc29sdmVyID8gZXZlbnRUYXJnZXRSZXNvbHZlcihuYXRpdmUpIDogbmF0aXZlO1xuICAgICAgICBjb25zdCBsQ2xlYW51cEluZGV4ID0gbENsZWFudXAubGVuZ3RoO1xuICAgICAgICBjb25zdCBpZHhPclRhcmdldEdldHRlciA9IGV2ZW50VGFyZ2V0UmVzb2x2ZXIgP1xuICAgICAgICAgICAgKF9sVmlldykgPT4gZXZlbnRUYXJnZXRSZXNvbHZlcih1bndyYXBSTm9kZShfbFZpZXdbdE5vZGUuaW5kZXhdKSkgOlxuICAgICAgICAgICAgdE5vZGUuaW5kZXg7XG4gICAgICAgIC8vIEluIG9yZGVyIHRvIG1hdGNoIGN1cnJlbnQgYmVoYXZpb3IsIG5hdGl2ZSBET00gZXZlbnQgbGlzdGVuZXJzIG11c3QgYmUgYWRkZWQgZm9yIGFsbFxuICAgICAgICAvLyBldmVudHMgKGluY2x1ZGluZyBvdXRwdXRzKS5cbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHRyeSB0byByZWdpc3RlciBhbiBldmVudFxuICAgICAgICAgICAgLy8gaGFuZGxlciBmdW5jdGlvbiBmb3IgdGhlIHNhbWUgZXZlbnQuIEluIHRoaXMgc2l0dWF0aW9uIHdlIHdhbnQgdG8gYXZvaWQgcmVnaXN0cmF0aW9uIG9mXG4gICAgICAgICAgICAvLyBzZXZlcmFsIG5hdGl2ZSBsaXN0ZW5lcnMgYXMgZWFjaCByZWdpc3RyYXRpb24gd291bGQgYmUgaW50ZXJjZXB0ZWQgYnkgTmdab25lIGFuZFxuICAgICAgICAgICAgLy8gdHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uLiBUaGlzIHdvdWxkIG1lYW4gdGhhdCBhIHNpbmdsZSB1c2VyIGFjdGlvbiB3b3VsZCByZXN1bHQgaW4gc2V2ZXJhbFxuICAgICAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbnMgYmVpbmcgaW52b2tlZC4gVG8gYXZvaWQgdGhpcyBzaXR1YXRpb24gd2Ugd2FudCB0byBoYXZlIG9ubHkgb25lIGNhbGwgdG9cbiAgICAgICAgICAgIC8vIG5hdGl2ZSBoYW5kbGVyIHJlZ2lzdHJhdGlvbiAoZm9yIHRoZSBzYW1lIGVsZW1lbnQgYW5kIHNhbWUgdHlwZSBvZiBldmVudCkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gaGF2ZSBqdXN0IG9uZSBuYXRpdmUgZXZlbnQgaGFuZGxlciBpbiBwcmVzZW5jZSBvZiBtdWx0aXBsZSBoYW5kbGVyIGZ1bmN0aW9ucyxcbiAgICAgICAgICAgIC8vIHdlIGp1c3QgcmVnaXN0ZXIgYSBmaXJzdCBoYW5kbGVyIGZ1bmN0aW9uIGFzIGEgbmF0aXZlIGV2ZW50IGxpc3RlbmVyIGFuZCB0aGVuIGNoYWluXG4gICAgICAgICAgICAvLyAoY29hbGVzY2UpIG90aGVyIGhhbmRsZXIgZnVuY3Rpb25zIG9uIHRvcCBvZiB0aGUgZmlyc3QgbmF0aXZlIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgICAgICAvLyBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBjb2FsZXNjaW5nIGRlc2NyaWJlZCBoZXJlIGRvZXNuJ3QgaGFwcGVuIGZvciBldmVudHMgc3BlY2lmeWluZyBhblxuICAgICAgICAgICAgLy8gYWx0ZXJuYXRpdmUgdGFyZ2V0IChleC4gKGRvY3VtZW50OmNsaWNrKSkgLSB0aGlzIGlzIHRvIGtlZXAgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHRoZVxuICAgICAgICAgICAgLy8gdmlldyBlbmdpbmUuXG4gICAgICAgICAgICAvLyBBbHNvLCB3ZSBkb24ndCBoYXZlIHRvIHNlYXJjaCBmb3IgZXhpc3RpbmcgbGlzdGVuZXJzIGlzIHRoZXJlIGFyZSBubyBkaXJlY3RpdmVzXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBvbiBhIGdpdmVuIG5vZGUgYXMgd2UgY2FuJ3QgcmVnaXN0ZXIgbXVsdGlwbGUgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBzYW1lIGV2ZW50IGluXG4gICAgICAgICAgICAvLyBhIHRlbXBsYXRlICh0aGlzIHdvdWxkIG1lYW4gaGF2aW5nIGR1cGxpY2F0ZSBhdHRyaWJ1dGVzKS5cbiAgICAgICAgICAgIGlmICghZXZlbnRUYXJnZXRSZXNvbHZlciAmJiBpc1ROb2RlRGlyZWN0aXZlSG9zdCkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nTGlzdGVuZXIgPSBmaW5kRXhpc3RpbmdMaXN0ZW5lcih0VmlldywgbFZpZXcsIGV2ZW50TmFtZSwgdE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBBdHRhY2ggYSBuZXcgbGlzdGVuZXIgdG8gY29hbGVzY2VkIGxpc3RlbmVycyBsaXN0LCBtYWludGFpbmluZyB0aGUgb3JkZXIgaW4gd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQuIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBsYXN0XG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuZXIgaW4gdGhhdCBsaXN0IChpbiBgX19uZ0xhc3RMaXN0ZW5lckZuX19gIGZpZWxkKSwgc28gd2UgY2FuIGF2b2lkIGdvaW5nIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyB0aGUgZW50aXJlIHNldCBlYWNoIHRpbWUgd2UgbmVlZCB0byBhZGQgYSBuZXcgbGlzdGVuZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExpc3RlbmVyRm4gPSBleGlzdGluZ0xpc3RlbmVyLl9fbmdMYXN0TGlzdGVuZXJGbl9fIHx8IGV4aXN0aW5nTGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgbGFzdExpc3RlbmVyRm4uX19uZ05leHRMaXN0ZW5lckZuX18gPSBsaXN0ZW5lckZuO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nTGlzdGVuZXIuX19uZ0xhc3RMaXN0ZW5lckZuX18gPSBsaXN0ZW5lckZuO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NPdXRwdXRzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lckZuID0gd3JhcExpc3RlbmVyKHROb2RlLCBsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZmFsc2UgLyoqIHByZXZlbnREZWZhdWx0ICovKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbnVwRm4gPSByZW5kZXJlci5saXN0ZW4odGFyZ2V0LCBldmVudE5hbWUsIGxpc3RlbmVyRm4pO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBZGRFdmVudExpc3RlbmVyKys7XG4gICAgICAgICAgICAgICAgbENsZWFudXAucHVzaChsaXN0ZW5lckZuLCBjbGVhbnVwRm4pO1xuICAgICAgICAgICAgICAgIHRDbGVhbnVwICYmIHRDbGVhbnVwLnB1c2goZXZlbnROYW1lLCBpZHhPclRhcmdldEdldHRlciwgbENsZWFudXBJbmRleCwgbENsZWFudXBJbmRleCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIHRydWUgLyoqIHByZXZlbnREZWZhdWx0ICovKTtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcisrO1xuICAgICAgICAgICAgbENsZWFudXAucHVzaChsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgIHRDbGVhbnVwICYmIHRDbGVhbnVwLnB1c2goZXZlbnROYW1lLCBpZHhPclRhcmdldEdldHRlciwgbENsZWFudXBJbmRleCwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbmF0aXZlIGxpc3RlbmVyIHRvIGFkZCwgd2Ugc3RpbGwgbmVlZCB0byB3cmFwIHRoZSBsaXN0ZW5lciBzbyB0aGF0IE9uUHVzaFxuICAgICAgICAvLyBhbmNlc3RvcnMgYXJlIG1hcmtlZCBkaXJ0eSB3aGVuIGFuIGV2ZW50IG9jY3Vycy5cbiAgICAgICAgbGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIGZhbHNlIC8qKiBwcmV2ZW50RGVmYXVsdCAqLyk7XG4gICAgfVxuICAgIC8vIHN1YnNjcmliZSB0byBkaXJlY3RpdmUgb3V0cHV0c1xuICAgIGNvbnN0IG91dHB1dHMgPSB0Tm9kZS5vdXRwdXRzO1xuICAgIGxldCBwcm9wcztcbiAgICBpZiAocHJvY2Vzc091dHB1dHMgJiYgb3V0cHV0cyAhPT0gbnVsbCAmJiAocHJvcHMgPSBvdXRwdXRzW2V2ZW50TmFtZV0pKSB7XG4gICAgICAgIGNvbnN0IHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICBpZiAocHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNMZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbmlmaWVkTmFtZSA9IHByb3BzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVJbnN0YW5jZSA9IGxWaWV3W2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBkaXJlY3RpdmVJbnN0YW5jZVttaW5pZmllZE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgIWlzT2JzZXJ2YWJsZShvdXRwdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQE91dHB1dCAke21pbmlmaWVkTmFtZX0gbm90IGluaXRpYWxpemVkIGluICcke2RpcmVjdGl2ZUluc3RhbmNlLmNvbnN0cnVjdG9yLm5hbWV9Jy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gb3V0cHV0LnN1YnNjcmliZShsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBsQ2xlYW51cC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbENsZWFudXAucHVzaChsaXN0ZW5lckZuLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIHRDbGVhbnVwICYmIHRDbGVhbnVwLnB1c2goZXZlbnROYW1lLCB0Tm9kZS5pbmRleCwgaWR4LCAtKGlkeCArIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nKGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcHJvZmlsZXIoNiAvKiBPdXRwdXRTdGFydCAqLywgY29udGV4dCwgbGlzdGVuZXJGbik7XG4gICAgICAgIC8vIE9ubHkgZXhwbGljaXRseSByZXR1cm5pbmcgZmFsc2UgZnJvbSBhIGxpc3RlbmVyIHNob3VsZCBwcmV2ZW50RGVmYXVsdFxuICAgICAgICByZXR1cm4gbGlzdGVuZXJGbihlKSAhPT0gZmFsc2U7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihsVmlldywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBwcm9maWxlcig3IC8qIE91dHB1dEVuZCAqLywgY29udGV4dCwgbGlzdGVuZXJGbik7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcyBhbiBldmVudCBsaXN0ZW5lciB3aXRoIGEgZnVuY3Rpb24gdGhhdCBtYXJrcyBhbmNlc3RvcnMgZGlydHkgYW5kIHByZXZlbnRzIGRlZmF1bHQgYmVoYXZpb3IsXG4gKiBpZiBhcHBsaWNhYmxlLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgVE5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGlzdGVuZXJcbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgdGhhdCBjb250YWlucyB0aGlzIGxpc3RlbmVyXG4gKiBAcGFyYW0gbGlzdGVuZXJGbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHdyYXBXaXRoUHJldmVudERlZmF1bHQgV2hldGhlciBvciBub3QgdG8gcHJldmVudCBkZWZhdWx0IGJlaGF2aW9yXG4gKiAodGhlIHByb2NlZHVyYWwgcmVuZGVyZXIgZG9lcyB0aGlzIGFscmVhZHksIHNvIGluIHRob3NlIGNhc2VzLCB3ZSBzaG91bGQgc2tpcClcbiAqL1xuZnVuY3Rpb24gd3JhcExpc3RlbmVyKHROb2RlLCBsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgd3JhcFdpdGhQcmV2ZW50RGVmYXVsdCkge1xuICAgIC8vIE5vdGU6IHdlIGFyZSBwZXJmb3JtaW5nIG1vc3Qgb2YgdGhlIHdvcmsgaW4gdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIGl0c2VsZlxuICAgIC8vIHRvIG9wdGltaXplIGxpc3RlbmVyIHJlZ2lzdHJhdGlvbi5cbiAgICByZXR1cm4gZnVuY3Rpb24gd3JhcExpc3RlbmVySW5fbWFya0RpcnR5QW5kUHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICAvLyBJdnkgdXNlcyBgRnVuY3Rpb25gIGFzIGEgc3BlY2lhbCB0b2tlbiB0aGF0IGFsbG93cyB1cyB0byB1bndyYXAgdGhlIGZ1bmN0aW9uXG4gICAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIGludm9rZWQgcHJvZ3JhbW1hdGljYWxseSBieSBgRGVidWdOb2RlLnRyaWdnZXJFdmVudEhhbmRsZXJgLlxuICAgICAgICBpZiAoZSA9PT0gRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lckZuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGJlIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggVmlldyBFbmdpbmUsIGV2ZW50cyBvbiBjb21wb25lbnQgaG9zdCBub2Rlc1xuICAgICAgICAvLyBtdXN0IGFsc28gbWFyayB0aGUgY29tcG9uZW50IHZpZXcgaXRzZWxmIGRpcnR5IChpLmUuIHRoZSB2aWV3IHRoYXQgaXQgb3ducykuXG4gICAgICAgIGNvbnN0IHN0YXJ0VmlldyA9IHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8gP1xuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldykgOlxuICAgICAgICAgICAgbFZpZXc7XG4gICAgICAgIC8vIFNlZSBpbnRlcmZhY2VzL3ZpZXcudHMgZm9yIG1vcmUgb24gTFZpZXdGbGFncy5NYW51YWxPblB1c2hcbiAgICAgICAgaWYgKChsVmlld1tGTEFHU10gJiAzMiAvKiBNYW51YWxPblB1c2ggKi8pID09PSAwKSB7XG4gICAgICAgICAgICBtYXJrVmlld0RpcnR5KHN0YXJ0Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IGV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nKGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBlKTtcbiAgICAgICAgLy8gQSBqdXN0LWludm9rZWQgbGlzdGVuZXIgZnVuY3Rpb24gbWlnaHQgaGF2ZSBjb2FsZXNjZWQgbGlzdGVuZXJzIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yXG4gICAgICAgIC8vIHRoZWlyIHByZXNlbmNlIGFuZCBpbnZva2UgYXMgbmVlZGVkLlxuICAgICAgICBsZXQgbmV4dExpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXJJbl9tYXJrRGlydHlBbmRQcmV2ZW50RGVmYXVsdC5fX25nTmV4dExpc3RlbmVyRm5fXztcbiAgICAgICAgd2hpbGUgKG5leHRMaXN0ZW5lckZuKSB7XG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgcHJldmVudCBkZWZhdWx0IGlmIGFueSBvZiB0aGUgbGlzdGVuZXJzIGV4cGxpY2l0bHkgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICByZXN1bHQgPSBleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyhsVmlldywgY29udGV4dCwgbmV4dExpc3RlbmVyRm4sIGUpICYmIHJlc3VsdDtcbiAgICAgICAgICAgIG5leHRMaXN0ZW5lckZuID0gbmV4dExpc3RlbmVyRm4uX19uZ05leHRMaXN0ZW5lckZuX187XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdyYXBXaXRoUHJldmVudERlZmF1bHQgJiYgcmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gTmVjZXNzYXJ5IGZvciBsZWdhY3kgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByZXZlbnREZWZhdWx0IChlLmcuIElFKVxuICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZXMgYSBjb250ZXh0IGF0IHRoZSBsZXZlbCBzcGVjaWZpZWQgYW5kIHNhdmVzIGl0IGFzIHRoZSBnbG9iYWwsIGNvbnRleHRWaWV3RGF0YS5cbiAqIFdpbGwgZ2V0IHRoZSBuZXh0IGxldmVsIHVwIGlmIGxldmVsIGlzIG5vdCBzcGVjaWZpZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIHRvIHNhdmUgY29udGV4dHMgb2YgcGFyZW50IHZpZXdzIHNvIHRoZXkgY2FuIGJlIGJvdW5kIGluIGVtYmVkZGVkIHZpZXdzLCBvclxuICogaW4gY29uanVuY3Rpb24gd2l0aCByZWZlcmVuY2UoKSB0byBiaW5kIGEgcmVmIGZyb20gYSBwYXJlbnQgdmlldy5cbiAqXG4gKiBAcGFyYW0gbGV2ZWwgVGhlIHJlbGF0aXZlIGxldmVsIG9mIHRoZSB2aWV3IGZyb20gd2hpY2ggdG8gZ3JhYiBjb250ZXh0IGNvbXBhcmVkIHRvIGNvbnRleHRWZXdEYXRhXG4gKiBAcmV0dXJucyBjb250ZXh0XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5leHRDb250ZXh0KGxldmVsID0gMSkge1xuICAgIHJldHVybiBuZXh0Q29udGV4dEltcGwobGV2ZWwpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ2hlY2tzIGEgZ2l2ZW4gbm9kZSBhZ2FpbnN0IG1hdGNoaW5nIHByb2plY3Rpb24gc2xvdHMgYW5kIHJldHVybnMgdGhlXG4gKiBkZXRlcm1pbmVkIHNsb3QgaW5kZXguIFJldHVybnMgXCJudWxsXCIgaWYgbm8gc2xvdCBtYXRjaGVkIHRoZSBnaXZlbiBub2RlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW50byBhY2NvdW50IHRoZSBwYXJzZWQgbmdQcm9qZWN0QXMgc2VsZWN0b3IgZnJvbSB0aGVcbiAqIG5vZGUncyBhdHRyaWJ1dGVzLiBJZiBwcmVzZW50LCBpdCB3aWxsIGNoZWNrIHdoZXRoZXIgdGhlIG5nUHJvamVjdEFzIHNlbGVjdG9yXG4gKiBtYXRjaGVzIGFueSBvZiB0aGUgcHJvamVjdGlvbiBzbG90IHNlbGVjdG9ycy5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hpbmdQcm9qZWN0aW9uU2xvdEluZGV4KHROb2RlLCBwcm9qZWN0aW9uU2xvdHMpIHtcbiAgICBsZXQgd2lsZGNhcmROZ0NvbnRlbnRJbmRleCA9IG51bGw7XG4gICAgY29uc3QgbmdQcm9qZWN0QXNBdHRyVmFsID0gZ2V0UHJvamVjdEFzQXR0clZhbHVlKHROb2RlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3Rpb25TbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzbG90VmFsdWUgPSBwcm9qZWN0aW9uU2xvdHNbaV07XG4gICAgICAgIC8vIFRoZSBsYXN0IHdpbGRjYXJkIHByb2plY3Rpb24gc2xvdCBzaG91bGQgbWF0Y2ggYWxsIG5vZGVzIHdoaWNoIGFyZW4ndCBtYXRjaGluZ1xuICAgICAgICAvLyBhbnkgc2VsZWN0b3IuIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGJlIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggdmlldyBlbmdpbmUuXG4gICAgICAgIGlmIChzbG90VmFsdWUgPT09ICcqJykge1xuICAgICAgICAgICAgd2lsZGNhcmROZ0NvbnRlbnRJbmRleCA9IGk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSByYW4gaW50byBhbiBgbmdQcm9qZWN0QXNgIGF0dHJpYnV0ZSwgd2Ugc2hvdWxkIG1hdGNoIGl0cyBwYXJzZWQgc2VsZWN0b3JcbiAgICAgICAgLy8gdG8gdGhlIGxpc3Qgb2Ygc2VsZWN0b3JzLCBvdGhlcndpc2Ugd2UgZmFsbCBiYWNrIHRvIG1hdGNoaW5nIGFnYWluc3QgdGhlIG5vZGUuXG4gICAgICAgIGlmIChuZ1Byb2plY3RBc0F0dHJWYWwgPT09IG51bGwgP1xuICAgICAgICAgICAgaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIHNsb3RWYWx1ZSwgLyogaXNQcm9qZWN0aW9uTW9kZSAqLyB0cnVlKSA6XG4gICAgICAgICAgICBpc1NlbGVjdG9ySW5TZWxlY3Rvckxpc3QobmdQcm9qZWN0QXNBdHRyVmFsLCBzbG90VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTsgLy8gZmlyc3QgbWF0Y2hpbmcgc2VsZWN0b3IgXCJjYXB0dXJlc1wiIGEgZ2l2ZW4gbm9kZVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB3aWxkY2FyZE5nQ29udGVudEluZGV4O1xufVxuLyoqXG4gKiBJbnN0cnVjdGlvbiB0byBkaXN0cmlidXRlIHByb2plY3RhYmxlIG5vZGVzIGFtb25nIDxuZy1jb250ZW50PiBvY2N1cnJlbmNlcyBpbiBhIGdpdmVuIHRlbXBsYXRlLlxuICogSXQgdGFrZXMgYWxsIHRoZSBzZWxlY3RvcnMgZnJvbSB0aGUgZW50aXJlIGNvbXBvbmVudCdzIHRlbXBsYXRlIGFuZCBkZWNpZGVzIHdoZXJlXG4gKiBlYWNoIHByb2plY3RlZCBub2RlIGJlbG9uZ3MgKGl0IHJlLWRpc3RyaWJ1dGVzIG5vZGVzIGFtb25nIFwiYnVja2V0c1wiIHdoZXJlIGVhY2ggXCJidWNrZXRcIiBpc1xuICogYmFja2VkIGJ5IGEgc2VsZWN0b3IpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgQ1NTIHNlbGVjdG9ycyB0byBiZSBwcm92aWRlZCBpbiAyIGZvcm1zOiBwYXJzZWQgKGJ5IGEgY29tcGlsZXIpIGFuZCB0ZXh0LFxuICogdW4tcGFyc2VkIGZvcm0uXG4gKlxuICogVGhlIHBhcnNlZCBmb3JtIGlzIG5lZWRlZCBmb3IgZWZmaWNpZW50IG1hdGNoaW5nIG9mIGEgbm9kZSBhZ2FpbnN0IGEgZ2l2ZW4gQ1NTIHNlbGVjdG9yLlxuICogVGhlIHVuLXBhcnNlZCwgdGV4dHVhbCBmb3JtIGlzIG5lZWRlZCBmb3Igc3VwcG9ydCBvZiB0aGUgbmdQcm9qZWN0QXMgYXR0cmlidXRlLlxuICpcbiAqIEhhdmluZyBhIENTUyBzZWxlY3RvciBpbiAyIGRpZmZlcmVudCBmb3JtYXRzIGlzIG5vdCBpZGVhbCwgYnV0IGFsdGVybmF0aXZlcyBoYXZlIGV2ZW4gbW9yZVxuICogZHJhd2JhY2tzOlxuICogLSBoYXZpbmcgb25seSBhIHRleHR1YWwgZm9ybSB3b3VsZCByZXF1aXJlIHJ1bnRpbWUgcGFyc2luZyBvZiBDU1Mgc2VsZWN0b3JzO1xuICogLSB3ZSBjYW4ndCBoYXZlIG9ubHkgYSBwYXJzZWQgYXMgd2UgY2FuJ3QgcmUtY29uc3RydWN0IHRleHR1YWwgZm9ybSBmcm9tIGl0IChhcyBlbnRlcmVkIGJ5IGFcbiAqIHRlbXBsYXRlIGF1dGhvcikuXG4gKlxuICogQHBhcmFtIHByb2plY3Rpb25TbG90cz8gQSBjb2xsZWN0aW9uIG9mIHByb2plY3Rpb24gc2xvdHMuIEEgcHJvamVjdGlvbiBzbG90IGNhbiBiZSBiYXNlZFxuICogICAgICAgIG9uIGEgcGFyc2VkIENTUyBzZWxlY3RvcnMgb3Igc2V0IHRvIHRoZSB3aWxkY2FyZCBzZWxlY3RvciAoXCIqXCIpIGluIG9yZGVyIHRvIG1hdGNoXG4gKiAgICAgICAgYWxsIG5vZGVzIHdoaWNoIGRvIG5vdCBtYXRjaCBhbnkgc2VsZWN0b3IuIElmIG5vdCBzcGVjaWZpZWQsIGEgc2luZ2xlIHdpbGRjYXJkXG4gKiAgICAgICAgc2VsZWN0b3IgcHJvamVjdGlvbiBzbG90IHdpbGwgYmUgZGVmaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvamVjdGlvbkRlZihwcm9qZWN0aW9uU2xvdHMpIHtcbiAgICBjb25zdCBjb21wb25lbnROb2RlID0gZ2V0TFZpZXcoKVtERUNMQVJBVElPTl9DT01QT05FTlRfVklFV11bVF9IT1NUXTtcbiAgICBpZiAoIWNvbXBvbmVudE5vZGUucHJvamVjdGlvbikge1xuICAgICAgICAvLyBJZiBubyBleHBsaWNpdCBwcm9qZWN0aW9uIHNsb3RzIGFyZSBkZWZpbmVkLCBmYWxsIGJhY2sgdG8gYSBzaW5nbGVcbiAgICAgICAgLy8gcHJvamVjdGlvbiBzbG90IHdpdGggdGhlIHdpbGRjYXJkIHNlbGVjdG9yLlxuICAgICAgICBjb25zdCBudW1Qcm9qZWN0aW9uU2xvdHMgPSBwcm9qZWN0aW9uU2xvdHMgPyBwcm9qZWN0aW9uU2xvdHMubGVuZ3RoIDogMTtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkhlYWRzID0gY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uID1cbiAgICAgICAgICAgIG5ld0FycmF5KG51bVByb2plY3Rpb25TbG90cywgbnVsbCk7XG4gICAgICAgIGNvbnN0IHRhaWxzID0gcHJvamVjdGlvbkhlYWRzLnNsaWNlKCk7XG4gICAgICAgIGxldCBjb21wb25lbnRDaGlsZCA9IGNvbXBvbmVudE5vZGUuY2hpbGQ7XG4gICAgICAgIHdoaWxlIChjb21wb25lbnRDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gcHJvamVjdGlvblNsb3RzID8gbWF0Y2hpbmdQcm9qZWN0aW9uU2xvdEluZGV4KGNvbXBvbmVudENoaWxkLCBwcm9qZWN0aW9uU2xvdHMpIDogMDtcbiAgICAgICAgICAgIGlmIChzbG90SW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFpbHNbc2xvdEluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICB0YWlsc1tzbG90SW5kZXhdLnByb2plY3Rpb25OZXh0ID0gY29tcG9uZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uSGVhZHNbc2xvdEluZGV4XSA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YWlsc1tzbG90SW5kZXhdID0gY29tcG9uZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnRDaGlsZCA9IGNvbXBvbmVudENoaWxkLm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgcHJldmlvdXNseSByZS1kaXN0cmlidXRlZCBwcm9qZWN0ZWQgbm9kZXMuIFRoaXMgaW5zdHJ1Y3Rpb24gbXVzdCBiZSBwcmVjZWRlZCBieSBhIGNhbGxcbiAqIHRvIHRoZSBwcm9qZWN0aW9uRGVmIGluc3RydWN0aW9uLlxuICpcbiAqIEBwYXJhbSBub2RlSW5kZXhcbiAqIEBwYXJhbSBzZWxlY3RvckluZGV4OlxuICogICAgICAgIC0gMCB3aGVuIHRoZSBzZWxlY3RvciBpcyBgKmAgKG9yIHVuc3BlY2lmaWVkIGFzIHRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUpLFxuICogICAgICAgIC0gMSBiYXNlZCBpbmRleCBvZiB0aGUgc2VsZWN0b3IgZnJvbSB0aGUge0BsaW5rIHByb2plY3Rpb25EZWZ9XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb2plY3Rpb24obm9kZUluZGV4LCBzZWxlY3RvckluZGV4ID0gMCwgYXR0cnMpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IHRQcm9qZWN0aW9uTm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIEhFQURFUl9PRkZTRVQgKyBub2RlSW5kZXgsIDE2IC8qIFByb2plY3Rpb24gKi8sIG51bGwsIGF0dHJzIHx8IG51bGwpO1xuICAgIC8vIFdlIGNhbid0IHVzZSB2aWV3RGF0YVtIT1NUX05PREVdIGJlY2F1c2UgcHJvamVjdGlvbiBub2RlcyBjYW4gYmUgbmVzdGVkIGluIGVtYmVkZGVkIHZpZXdzLlxuICAgIGlmICh0UHJvamVjdGlvbk5vZGUucHJvamVjdGlvbiA9PT0gbnVsbClcbiAgICAgICAgdFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24gPSBzZWxlY3RvckluZGV4O1xuICAgIC8vIGA8bmctY29udGVudD5gIGhhcyBubyBjb250ZW50XG4gICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICBpZiAoKHRQcm9qZWN0aW9uTm9kZS5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pICE9PSA2NCAvKiBpc0RldGFjaGVkICovKSB7XG4gICAgICAgIC8vIHJlLWRpc3RyaWJ1dGlvbiBvZiBwcm9qZWN0YWJsZSBub2RlcyBpcyBzdG9yZWQgb24gYSBjb21wb25lbnQncyB2aWV3IGxldmVsXG4gICAgICAgIGFwcGx5UHJvamVjdGlvbih0VmlldywgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSk7XG4gICAgfVxufVxuXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCBhIGxvbmUgYm91bmQgdmFsdWVcbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdCwgYW4gbm8gYWRkaXRpb25hbCB0ZXh0XG4gKiBzdXJyb3VuZHMgdGhhdCBpbnRlcnBvbGF0ZWQgdmFsdWU6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInt7djB9fVwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUoJ3RpdGxlJywgdjApO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZShwcm9wTmFtZSwgdjAsIHNhbml0aXplcikge1xuICAgIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMShwcm9wTmFtZSwgJycsIHYwLCAnJywgc2FuaXRpemVyKTtcbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSgndGl0bGUnLCAncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxKHByb3BOYW1lLCBwcmVmaXgsIHYwLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAxLCBwcmVmaXgsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTE7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMihwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDIsIHByZWZpeCwgaTAsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTI7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUzKFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMyhwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAzLCBwcmVmaXgsIGkwLCBpMSwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0KFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNChwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNCwgcHJlZml4LCBpMCwgaTEsIGkyLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1KFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNShwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDUsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU2KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNihwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA2LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNyhwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNywgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4KFxuICogICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA4LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgaTUsIGk2LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4O1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVihcbiAqICAndGl0bGUnLCBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoIGFcbiAqIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWKHByb3BOYW1lLCB2YWx1ZXMsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGlvbkluQmV0d2VlbiA9IFt2YWx1ZXNbMF1dOyAvLyBwcmVmaXhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5wdXNoKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuLmxlbmd0aCArIDEsIC4uLmludGVycG9sYXRpb25JbkJldHdlZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBOT1RFOiBUaGUgd29yZCBgc3R5bGluZ2AgaXMgdXNlZCBpbnRlcmNoYW5nZWFibHkgYXMgc3R5bGUgb3IgY2xhc3Mgc3R5bGluZy5cbiAqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgY29kZSB0byBsaW5rIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zIHRvZ2V0aGVyIHNvIHRoYXQgdGhleSBjYW4gYmUgcmVwbGF5ZWQgaW5cbiAqIHByaW9yaXR5IG9yZGVyLiBUaGUgZmlsZSBleGlzdHMgYmVjYXVzZSBJdnkgc3R5bGluZyBpbnN0cnVjdGlvbiBleGVjdXRpb24gb3JkZXIgZG9lcyBub3QgbWF0Y2hcbiAqIHRoYXQgb2YgdGhlIHByaW9yaXR5IG9yZGVyLiBUaGUgcHVycG9zZSBvZiB0aGlzIGNvZGUgaXMgdG8gY3JlYXRlIGEgbGlua2VkIGxpc3Qgc28gdGhhdCB0aGVcbiAqIGluc3RydWN0aW9ucyBjYW4gYmUgdHJhdmVyc2VkIGluIHByaW9yaXR5IG9yZGVyIHdoZW4gY29tcHV0aW5nIHRoZSBzdHlsZXMuXG4gKlxuICogQXNzdW1lIHdlIGFyZSBkZWFsaW5nIHdpdGggdGhlIGZvbGxvd2luZyBjb2RlOlxuICogYGBgXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8bXktY21wIFtzdHlsZV09XCIge2NvbG9yOiAnIzAwMSd9IFwiXG4gKiAgICAgICAgICAgICBbc3R5bGUuY29sb3JdPVwiICMwMDIgXCJcbiAqICAgICAgICAgICAgIGRpci1zdHlsZS1jb2xvci0xXG4gKiAgICAgICAgICAgICBkaXItc3R5bGUtY29sb3ItMj4gYFxuICogfSlcbiAqIGNsYXNzIEV4YW1wbGVDb21wb25lbnQge1xuICogICBzdGF0aWMgbmdDb21wID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDEnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKlxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiBgW2Rpci1zdHlsZS1jb2xvci0xXScsXG4gKiB9KVxuICogY2xhc3MgU3R5bGUxRGlyZWN0aXZlIHtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZScpIHN0eWxlID0ge2NvbG9yOiAnIzAwNSd9O1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlLmNvbG9yJykgY29sb3IgPSAnIzAwNic7XG4gKlxuICogICBzdGF0aWMgbmdEaXIgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNSd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2Jyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6IGBbZGlyLXN0eWxlLWNvbG9yLTJdJyxcbiAqIH0pXG4gKiBjbGFzcyBTdHlsZTJEaXJlY3RpdmUge1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlJykgc3R5bGUgPSB7Y29sb3I6ICcjMDA3J307XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUuY29sb3InKSBjb2xvciA9ICcjMDA4JztcbiAqXG4gKiAgIHN0YXRpYyBuZ0RpciA9IC4uLiB7XG4gKiAgICAgLi4uXG4gKiAgICAgLy8gQ29tcGlsZXIgZW5zdXJlcyB0aGF0IGDJtcm1c3R5bGVQcm9wYCBpcyBhZnRlciBgybXJtXN0eWxlTWFwYFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA3J30pO1xuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogYG15LWNtcCcsXG4gKiB9KVxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlJykgc3R5bGUgPSB7Y29sb3I6ICcjMDAzJ307XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUuY29sb3InKSBjb2xvciA9ICcjMDA0JztcbiAqXG4gKiAgIHN0YXRpYyBuZ0NvbXAgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMyd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0Jyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBPcmRlciBvZiBpbnN0cnVjdGlvbiBleGVjdXRpb24gaXM6XG4gKlxuICogTk9URTogdGhlIGNvbW1lbnQgYmluZGluZyBsb2NhdGlvbiBpcyBmb3IgaWxsdXN0cmF0aXZlIHB1cnBvc2VzIG9ubHkuXG4gKlxuICogYGBgXG4gKiAvLyBUZW1wbGF0ZTogKEV4YW1wbGVDb21wb25lbnQpXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDEnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMTBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJyk7ICAvLyBCaW5kaW5nIGluZGV4OiAxMlxuICogLy8gTXlDb21wb25lbnRcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyMFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDQnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDIyXG4gKiAvLyBTdHlsZTFEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNSd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyNFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDI2XG4gKiAvLyBTdHlsZTJEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyOFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDMwXG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCBwcmlvcml0eSBvcmRlciBvZiBjb25jYXRlbmF0aW9uIGlzOlxuICpcbiAqIGBgYFxuICogLy8gTXlDb21wb25lbnRcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyMFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDQnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDIyXG4gKiAvLyBTdHlsZTFEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNSd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyNFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDI2XG4gKiAvLyBTdHlsZTJEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyOFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDMwXG4gKiAvLyBUZW1wbGF0ZTogKEV4YW1wbGVDb21wb25lbnQpXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDEnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMTBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJyk7ICAvLyBCaW5kaW5nIGluZGV4OiAxMlxuICogYGBgXG4gKlxuICogV2hhdCBjb2xvciBzaG91bGQgYmUgcmVuZGVyZWQ/XG4gKlxuICogT25jZSB0aGUgaXRlbXMgYXJlIGNvcnJlY3RseSBzb3J0ZWQgaW4gdGhlIGxpc3QsIHRoZSBhbnN3ZXIgaXMgc2ltcGx5IHRoZSBsYXN0IGl0ZW0gaW4gdGhlXG4gKiBjb25jYXRlbmF0aW9uIGxpc3Qgd2hpY2ggaXMgYCMwMDJgLlxuICpcbiAqIFRvIGRvIHNvIHdlIGtlZXAgYSBsaW5rZWQgbGlzdCBvZiBhbGwgb2YgdGhlIGJpbmRpbmdzIHdoaWNoIHBlcnRhaW4gdG8gdGhpcyBlbGVtZW50LlxuICogTm90aWNlIHRoYXQgdGhlIGJpbmRpbmdzIGFyZSBpbnNlcnRlZCBpbiB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uLCBidXQgdGhlIGBUVmlldy5kYXRhYCBhbGxvd3NcbiAqIHVzIHRvIHRyYXZlcnNlIHRoZW0gaW4gdGhlIG9yZGVyIG9mIHByaW9yaXR5LlxuICpcbiAqIHxJZHh8YFRWaWV3LmRhdGFgfGBMVmlld2AgICAgICAgICAgfCBOb3Rlc1xuICogfC0tLXwtLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS1cbiAqIHwuLi58ICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgfFxuICogfDEwIHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDEnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwMSd9KWBcbiAqIHwxMSB8YDMwIHwgMTJgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDEyIHxgY29sb3JgICAgICB8YCcjMDAyJ2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJylgXG4gKiB8MTMgfGAxMCB8IDBgICAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwuLi58ICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgfFxuICogfDIwIHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDMnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwMyd9KWBcbiAqIHwyMSB8YDAgfCAyMmAgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDIyIHxgY29sb3JgICAgICB8YCcjMDA0J2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0JylgXG4gKiB8MjMgfGAyMCB8IDI0YCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyNCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDA1J31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDUnfSlgXG4gKiB8MjUgfGAyMiB8IDI2YCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyNiB8YGNvbG9yYCAgICAgfGAnIzAwNidgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNicpYFxuICogfDI3IHxgMjQgfCAyOGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjggfGBudWxsYCAgICAgIHxge2NvbG9yOiAnIzAwNyd9YHwgYMm1ybVzdHlsZU1hcCgnY29sb3InLCB7Y29sb3I6ICcjMDA3J30pYFxuICogfDI5IHxgMjYgfCAzMGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MzAgfGBjb2xvcmAgICAgIHxgJyMwMDgnYCAgICAgICAgIHwgYMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKWBcbiAqIHwzMSB8YDI4IHwgMTBgICAgfCAuLi4gICAgICAgICAgICAgfFxuICpcbiAqIFRoZSBhYm92ZSBkYXRhIHN0cnVjdHVyZSBhbGxvd3MgdXMgdG8gcmUtY29uY2F0ZW5hdGUgdGhlIHN0eWxpbmcgbm8gbWF0dGVyIHdoaWNoIGRhdGEgYmluZGluZ1xuICogY2hhbmdlcy5cbiAqXG4gKiBOT1RFOiBpbiBhZGRpdGlvbiB0byBrZWVwaW5nIHRyYWNrIG9mIG5leHQvcHJldmlvdXMgaW5kZXggdGhlIGBUVmlldy5kYXRhYCBhbHNvIHN0b3JlcyBwcmV2L25leHRcbiAqIGR1cGxpY2F0ZSBiaXQuIFRoZSBkdXBsaWNhdGUgYml0IGlmIHRydWUgc2F5cyB0aGVyZSBlaXRoZXIgaXMgYSBiaW5kaW5nIHdpdGggdGhlIHNhbWUgbmFtZSBvclxuICogdGhlcmUgaXMgYSBtYXAgKHdoaWNoIG1heSBjb250YWluIHRoZSBuYW1lKS4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgaW4ga25vd2luZyBpZiBvdGhlclxuICogc3R5bGVzIHdpdGggaGlnaGVyIHByaW9yaXR5IG5lZWQgdG8gYmUgc2VhcmNoZWQgZm9yIG92ZXJ3cml0ZXMuXG4gKlxuICogTk9URTogU2VlIGBzaG91bGQgc3VwcG9ydCBleGFtcGxlIGluICd0bm9kZV9saW5rZWRfbGlzdC50cycgZG9jdW1lbnRhdGlvbmAgaW5cbiAqIGB0bm9kZV9saW5rZWRfbGlzdF9zcGVjLnRzYCBmb3Igd29ya2luZyBleGFtcGxlLlxuICovXG5sZXQgX191bnVzZWRfY29uc3RfYXNfY2xvc3VyZV9kb2VzX25vdF9saWtlX3N0YW5kYWxvbmVfY29tbWVudF9ibG9ja3NfXztcbi8qKlxuICogSW5zZXJ0IG5ldyBgdFN0eWxlVmFsdWVgIGF0IGBURGF0YWAgYW5kIGxpbmsgZXhpc3Rpbmcgc3R5bGUgYmluZGluZ3Mgc3VjaCB0aGF0IHdlIG1haW50YWluIGxpbmtlZFxuICogbGlzdCBvZiBzdHlsZXMgYW5kIGNvbXB1dGUgdGhlIGR1cGxpY2F0ZSBmbGFnLlxuICpcbiAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZHVyaW5nIGBmaXJzdFVwZGF0ZVBhc3NgIG9ubHkgdG8gcG9wdWxhdGUgdGhlIGBUVmlldy5kYXRhYC5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gd29ya3MgYnkga2VlcGluZyB0cmFjayBvZiBgdFN0eWxpbmdSYW5nZWAgd2hpY2ggY29udGFpbnMgdHdvIHBvaW50ZXJzIHBvaW50aW5nIHRvXG4gKiB0aGUgaGVhZC90YWlsIG9mIHRoZSB0ZW1wbGF0ZSBwb3J0aW9uIG9mIHRoZSBzdHlsZXMuXG4gKiAgLSBpZiBgaXNIb3N0ID09PSBmYWxzZWAgKHdlIGFyZSB0ZW1wbGF0ZSkgdGhlbiBpbnNlcnRpb24gaXMgYXQgdGFpbCBvZiBgVFN0eWxpbmdSYW5nZWBcbiAqICAtIGlmIGBpc0hvc3QgPT09IHRydWVgICh3ZSBhcmUgaG9zdCBiaW5kaW5nKSB0aGVuIGluc2VydGlvbiBpcyBhdCBoZWFkIG9mIGBUU3R5bGluZ1JhbmdlYFxuICpcbiAqIEBwYXJhbSB0RGF0YSBUaGUgYFREYXRhYCB0byBpbnNlcnQgaW50by5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3R5bGluZyBlbGVtZW50LlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IFNlZSBgVFN0eWxpbmdLZXlgLlxuICogQHBhcmFtIGluZGV4IGxvY2F0aW9uIG9mIHdoZXJlIGB0U3R5bGVWYWx1ZWAgc2hvdWxkIGJlIHN0b3JlZCAoYW5kIGxpbmtlZCBpbnRvIGxpc3QuKVxuICogQHBhcmFtIGlzSG9zdEJpbmRpbmcgYHRydWVgIGlmIHRoZSBpbnNlcnRpb24gaXMgZm9yIGEgYGhvc3RCaW5kaW5nYC4gKGluc2VydGlvbiBpcyBpbiBmcm9udCBvZlxuICogICAgICAgICAgICAgICB0ZW1wbGF0ZS4pXG4gKiBAcGFyYW0gaXNDbGFzc0JpbmRpbmcgVHJ1ZSBpZiB0aGUgYXNzb2NpYXRlZCBgdFN0eWxpbmdLZXlgIGFzIGEgYGNsYXNzYCBzdHlsaW5nLlxuICogICAgICAgICAgICAgICAgICAgICAgIGB0Tm9kZS5jbGFzc0JpbmRpbmdzYCBzaG91bGQgYmUgdXNlZCAob3IgYHROb2RlLnN0eWxlQmluZGluZ3NgIG90aGVyd2lzZS4pXG4gKi9cbmZ1bmN0aW9uIGluc2VydFRTdHlsaW5nQmluZGluZyh0RGF0YSwgdE5vZGUsIHRTdHlsaW5nS2V5V2l0aFN0YXRpYywgaW5kZXgsIGlzSG9zdEJpbmRpbmcsIGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0VXBkYXRlUGFzcyhnZXRUVmlldygpKTtcbiAgICBsZXQgdEJpbmRpbmdzID0gaXNDbGFzc0JpbmRpbmcgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBsZXQgdG1wbEhlYWQgPSBnZXRUU3R5bGluZ1JhbmdlUHJldih0QmluZGluZ3MpO1xuICAgIGxldCB0bXBsVGFpbCA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRCaW5kaW5ncyk7XG4gICAgdERhdGFbaW5kZXhdID0gdFN0eWxpbmdLZXlXaXRoU3RhdGljO1xuICAgIGxldCBpc0tleUR1cGxpY2F0ZU9mU3RhdGljID0gZmFsc2U7XG4gICAgbGV0IHRTdHlsaW5nS2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5V2l0aFN0YXRpYykpIHtcbiAgICAgICAgLy8gV2UgYXJlIGNhc2Ugd2hlbiB0aGUgYFRTdHlsaW5nS2V5YCBjb250YWlucyBzdGF0aWMgZmllbGRzIGFzIHdlbGwuXG4gICAgICAgIGNvbnN0IHN0YXRpY0tleVZhbHVlQXJyYXkgPSB0U3R5bGluZ0tleVdpdGhTdGF0aWM7XG4gICAgICAgIHRTdHlsaW5nS2V5ID0gc3RhdGljS2V5VmFsdWVBcnJheVsxXTsgLy8gdW53cmFwLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIG91ciBrZXkgaXMgcHJlc2VudCBpbiB0aGUgc3RhdGljIHNvIHRoYXQgd2UgY2FuIG1hcmsgaXQgYXMgZHVwbGljYXRlLlxuICAgICAgICBpZiAodFN0eWxpbmdLZXkgPT09IG51bGwgfHxcbiAgICAgICAgICAgIGtleVZhbHVlQXJyYXlJbmRleE9mKHN0YXRpY0tleVZhbHVlQXJyYXksIHRTdHlsaW5nS2V5KSA+IDApIHtcbiAgICAgICAgICAgIC8vIHRTdHlsaW5nS2V5IGlzIHByZXNlbnQgaW4gdGhlIHN0YXRpY3MsIG5lZWQgdG8gbWFyayBpdCBhcyBkdXBsaWNhdGUuXG4gICAgICAgICAgICBpc0tleUR1cGxpY2F0ZU9mU3RhdGljID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdFN0eWxpbmdLZXkgPSB0U3R5bGluZ0tleVdpdGhTdGF0aWM7XG4gICAgfVxuICAgIGlmIChpc0hvc3RCaW5kaW5nKSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbnNlcnRpbmcgaG9zdCBiaW5kaW5nc1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIHRlbXBsYXRlIGJpbmRpbmdzIHRoZW4gYHRhaWxgIGlzIDAuXG4gICAgICAgIGNvbnN0IGhhc1RlbXBsYXRlQmluZGluZ3MgPSB0bXBsVGFpbCAhPT0gMDtcbiAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyBiZWNhdXNlIHRoYXQgbWVhbnMgdGhhdCB0aGUgYGhlYWRgIGNhbid0IHBvaW50IHRvIHRoZSBmaXJzdFxuICAgICAgICAvLyB0ZW1wbGF0ZSBiaW5kaW5ncyAodGhlcmUgYXJlIG5vbmUuKSBJbnN0ZWFkIHRoZSBoZWFkIHBvaW50cyB0byB0aGUgdGFpbCBvZiB0aGUgdGVtcGxhdGUuXG4gICAgICAgIGlmIChoYXNUZW1wbGF0ZUJpbmRpbmdzKSB7XG4gICAgICAgICAgICAvLyB0ZW1wbGF0ZSBoZWFkJ3MgXCJwcmV2XCIgd2lsbCBwb2ludCB0byBsYXN0IGhvc3QgYmluZGluZyBvciB0byAwIGlmIG5vIGhvc3QgYmluZGluZ3MgeWV0XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c05vZGUgPSBnZXRUU3R5bGluZ1JhbmdlUHJldih0RGF0YVt0bXBsSGVhZCArIDFdKTtcbiAgICAgICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSB0b1RTdHlsaW5nUmFuZ2UocHJldmlvdXNOb2RlLCB0bXBsSGVhZCk7XG4gICAgICAgICAgICAvLyBpZiBhIGhvc3QgYmluZGluZyBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBuZXh0IG9mIHRoYXQgaG9zdFxuICAgICAgICAgICAgLy8gYmluZGluZyB0byBwb2ludCB0byB0aGlzIG9uZVxuICAgICAgICAgICAgaWYgKHByZXZpb3VzTm9kZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSB0ZW1wbGF0ZS10YWlsIHZhbHVlIHRvIHBvaW50IHRvIHVzLlxuICAgICAgICAgICAgICAgIHREYXRhW3ByZXZpb3VzTm9kZSArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgc2V0VFN0eWxpbmdSYW5nZU5leHQodERhdGFbcHJldmlvdXNOb2RlICsgMV0sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBcInByZXZpb3VzXCIgb2YgdGhlIHRlbXBsYXRlIGJpbmRpbmcgaGVhZCBzaG91bGQgcG9pbnQgdG8gdGhpcyBob3N0IGJpbmRpbmdcbiAgICAgICAgICAgIHREYXRhW3RtcGxIZWFkICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlUHJldih0RGF0YVt0bXBsSGVhZCArIDFdLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gdG9UU3R5bGluZ1JhbmdlKHRtcGxIZWFkLCAwKTtcbiAgICAgICAgICAgIC8vIGlmIGEgaG9zdCBiaW5kaW5nIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIG5leHQgb2YgdGhhdCBob3N0XG4gICAgICAgICAgICAvLyBiaW5kaW5nIHRvIHBvaW50IHRvIHRoaXMgb25lXG4gICAgICAgICAgICBpZiAodG1wbEhlYWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUtdGFpbCB2YWx1ZSB0byBwb2ludCB0byB1cy5cbiAgICAgICAgICAgICAgICB0RGF0YVt0bXBsSGVhZCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZU5leHQodERhdGFbdG1wbEhlYWQgKyAxXSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSB0ZW1wbGF0ZSwgdGhlIGhlYWQgcG9pbnRzIHRvIHRlbXBsYXRlLXRhaWwsIGFuZCBuZWVkcyB0byBiZSBhZHZhbmNlZC5cbiAgICAgICAgICAgIHRtcGxIZWFkID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbnNlcnRpbmcgaW4gdGVtcGxhdGUgc2VjdGlvbi5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBzZXQgdGhpcyBiaW5kaW5nJ3MgXCJwcmV2aW91c1wiIHRvIHRoZSBjdXJyZW50IHRlbXBsYXRlIHRhaWxcbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHRvVFN0eWxpbmdSYW5nZSh0bXBsVGFpbCwgMCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwodG1wbEhlYWQgIT09IDAgJiYgdG1wbFRhaWwgPT09IDAsIGZhbHNlLCAnQWRkaW5nIHRlbXBsYXRlIGJpbmRpbmdzIGFmdGVyIGhvc3RCaW5kaW5ncyBpcyBub3QgYWxsb3dlZC4nKTtcbiAgICAgICAgaWYgKHRtcGxIZWFkID09PSAwKSB7XG4gICAgICAgICAgICB0bXBsSGVhZCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgdGhlIHByZXZpb3VzIHZhbHVlIFwibmV4dFwiIHRvIHBvaW50IHRvIHRoaXMgYmluZGluZ1xuICAgICAgICAgICAgdERhdGFbdG1wbFRhaWwgKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VOZXh0KHREYXRhW3RtcGxUYWlsICsgMV0sIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0bXBsVGFpbCA9IGluZGV4O1xuICAgIH1cbiAgICAvLyBOb3cgd2UgbmVlZCB0byB1cGRhdGUgLyBjb21wdXRlIHRoZSBkdXBsaWNhdGVzLlxuICAgIC8vIFN0YXJ0aW5nIHdpdGggb3VyIGxvY2F0aW9uIHNlYXJjaCB0b3dhcmRzIGhlYWQgKGxlYXN0IHByaW9yaXR5KVxuICAgIGlmIChpc0tleUR1cGxpY2F0ZU9mU3RhdGljKSB7XG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0RGF0YVtpbmRleCArIDFdKTtcbiAgICB9XG4gICAgbWFya0R1cGxpY2F0ZXModERhdGEsIHRTdHlsaW5nS2V5LCBpbmRleCwgdHJ1ZSwgaXNDbGFzc0JpbmRpbmcpO1xuICAgIG1hcmtEdXBsaWNhdGVzKHREYXRhLCB0U3R5bGluZ0tleSwgaW5kZXgsIGZhbHNlLCBpc0NsYXNzQmluZGluZyk7XG4gICAgbWFya0R1cGxpY2F0ZU9mUmVzaWR1YWxTdHlsaW5nKHROb2RlLCB0U3R5bGluZ0tleSwgdERhdGEsIGluZGV4LCBpc0NsYXNzQmluZGluZyk7XG4gICAgdEJpbmRpbmdzID0gdG9UU3R5bGluZ1JhbmdlKHRtcGxIZWFkLCB0bXBsVGFpbCk7XG4gICAgaWYgKGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgICAgIHROb2RlLmNsYXNzQmluZGluZ3MgPSB0QmluZGluZ3M7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0Tm9kZS5zdHlsZUJpbmRpbmdzID0gdEJpbmRpbmdzO1xuICAgIH1cbn1cbi8qKlxuICogTG9vayBpbnRvIHRoZSByZXNpZHVhbCBzdHlsaW5nIHRvIHNlZSBpZiB0aGUgY3VycmVudCBgdFN0eWxpbmdLZXlgIGlzIGR1cGxpY2F0ZSBvZiByZXNpZHVhbC5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGVyZSB0aGUgcmVzaWR1YWwgaXMgc3RvcmVkLlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IGBUU3R5bGluZ0tleWAgdG8gc3RvcmUuXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqIEBwYXJhbSBpbmRleCBsb2NhdGlvbiBvZiB3aGVyZSBgdFN0eWxlVmFsdWVgIHNob3VsZCBiZSBzdG9yZWQgKGFuZCBsaW5rZWQgaW50byBsaXN0LilcbiAqIEBwYXJhbSBpc0NsYXNzQmluZGluZyBUcnVlIGlmIHRoZSBhc3NvY2lhdGVkIGB0U3R5bGluZ0tleWAgYXMgYSBgY2xhc3NgIHN0eWxpbmcuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgYHROb2RlLmNsYXNzQmluZGluZ3NgIHNob3VsZCBiZSB1c2VkIChvciBgdE5vZGUuc3R5bGVCaW5kaW5nc2Agb3RoZXJ3aXNlLilcbiAqL1xuZnVuY3Rpb24gbWFya0R1cGxpY2F0ZU9mUmVzaWR1YWxTdHlsaW5nKHROb2RlLCB0U3R5bGluZ0tleSwgdERhdGEsIGluZGV4LCBpc0NsYXNzQmluZGluZykge1xuICAgIGNvbnN0IHJlc2lkdWFsID0gaXNDbGFzc0JpbmRpbmcgPyB0Tm9kZS5yZXNpZHVhbENsYXNzZXMgOiB0Tm9kZS5yZXNpZHVhbFN0eWxlcztcbiAgICBpZiAocmVzaWR1YWwgIT0gbnVsbCAvKiBvciB1bmRlZmluZWQgKi8gJiYgdHlwZW9mIHRTdHlsaW5nS2V5ID09ICdzdHJpbmcnICYmXG4gICAgICAgIGtleVZhbHVlQXJyYXlJbmRleE9mKHJlc2lkdWFsLCB0U3R5bGluZ0tleSkgPj0gMCkge1xuICAgICAgICAvLyBXZSBoYXZlIGR1cGxpY2F0ZSBpbiB0aGUgcmVzaWR1YWwgc28gbWFyayBvdXJzZWx2ZXMgYXMgZHVwbGljYXRlLlxuICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodERhdGFbaW5kZXggKyAxXSk7XG4gICAgfVxufVxuLyoqXG4gKiBNYXJrcyBgVFN0eWxlVmFsdWVgcyBhcyBkdXBsaWNhdGVzIGlmIGFub3RoZXIgc3R5bGUgYmluZGluZyBpbiB0aGUgbGlzdCBoYXMgdGhlIHNhbWVcbiAqIGBUU3R5bGVWYWx1ZWAuXG4gKlxuICogTk9URTogdGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSBjYWxsZWQgdHdpY2Ugb25jZSB3aXRoIGBpc1ByZXZEaXJgIHNldCB0byBgdHJ1ZWAgYW5kIG9uY2VcbiAqIHdpdGggaXQgc2V0IHRvIGBmYWxzZWAgdG8gc2VhcmNoIGJvdGggdGhlIHByZXZpb3VzIGFzIHdlbGwgYXMgbmV4dCBpdGVtcyBpbiB0aGUgbGlzdC5cbiAqXG4gKiBObyBkdXBsaWNhdGUgY2FzZVxuICogYGBgXG4gKiAgIFtzdHlsZS5jb2xvcl1cbiAqICAgW3N0eWxlLndpZHRoLnB4XSA8PC0gaW5kZXhcbiAqICAgW3N0eWxlLmhlaWdodC5weF1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGFkZGluZyBgW3N0eWxlLndpZHRoLnB4XWAgdG8gdGhlIGV4aXN0aW5nIGBbc3R5bGUuY29sb3JdYCBwcm9kdWNlcyBub1xuICogZHVwbGljYXRlcyBiZWNhdXNlIGB3aWR0aGAgaXMgbm90IGZvdW5kIGluIGFueSBvdGhlciBwYXJ0IG9mIHRoZSBsaW5rZWQgbGlzdC5cbiAqXG4gKiBEdXBsaWNhdGUgY2FzZVxuICogYGBgXG4gKiAgIFtzdHlsZS5jb2xvcl1cbiAqICAgW3N0eWxlLndpZHRoLmVtXVxuICogICBbc3R5bGUud2lkdGgucHhdIDw8LSBpbmRleFxuICogYGBgXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZS53aWR0aC5weF1gIHdpbGwgcHJvZHVjZSBhIGR1cGxpY2F0ZSB3aXRoIGBbc3R5bGUud2lkdGguZW1dYFxuICogYmVjYXVzZSBgd2lkdGhgIGlzIGZvdW5kIGluIHRoZSBjaGFpbi5cbiAqXG4gKiBNYXAgY2FzZSAxXG4gKiBgYGBcbiAqICAgW3N0eWxlLndpZHRoLnB4XVxuICogICBbc3R5bGUuY29sb3JdXG4gKiAgIFtzdHlsZV0gIDw8LSBpbmRleFxuICogYGBgXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZV1gIHdpbGwgcHJvZHVjZSBhIGR1cGxpY2F0ZSB3aXRoIGFueSBvdGhlciBiaW5kaW5ncyBiZWNhdXNlXG4gKiBgW3N0eWxlXWAgaXMgYSBNYXAgYW5kIGFzIHN1Y2ggaXMgZnVsbHkgZHluYW1pYyBhbmQgY291bGQgcHJvZHVjZSBgY29sb3JgIG9yIGB3aWR0aGAuXG4gKlxuICogTWFwIGNhc2UgMlxuICogYGBgXG4gKiAgIFtzdHlsZV1cbiAqICAgW3N0eWxlLndpZHRoLnB4XVxuICogICBbc3R5bGUuY29sb3JdICA8PC0gaW5kZXhcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGUuY29sb3JdYCB3aWxsIHByb2R1Y2UgYSBkdXBsaWNhdGUgYmVjYXVzZSB0aGVyZSBpcyBhbHJlYWR5IGFcbiAqIGBbc3R5bGVdYCBiaW5kaW5nIHdoaWNoIGlzIGEgTWFwIGFuZCBhcyBzdWNoIGlzIGZ1bGx5IGR5bmFtaWMgYW5kIGNvdWxkIHByb2R1Y2UgYGNvbG9yYCBvclxuICogYHdpZHRoYC5cbiAqXG4gKiBOT1RFOiBPbmNlIGBbc3R5bGVdYCAoTWFwKSBpcyBhZGRlZCBpbnRvIHRoZSBzeXN0ZW0gYWxsIHRoaW5ncyBhcmUgbWFwcGVkIGFzIGR1cGxpY2F0ZXMuXG4gKiBOT1RFOiBXZSB1c2UgYHN0eWxlYCBhcyBleGFtcGxlLCBidXQgc2FtZSBsb2dpYyBpcyBhcHBsaWVkIHRvIGBjbGFzc2BlcyBhcyB3ZWxsLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXkgYFRTdHlsaW5nS2V5UHJpbWl0aXZlYCB3aGljaCBjb250YWlucyB0aGUgdmFsdWUgdG8gY29tcGFyZSB0byBvdGhlciBrZXlzIGluXG4gKiAgICAgICAgdGhlIGxpbmtlZCBsaXN0LlxuICogQHBhcmFtIGluZGV4IFN0YXJ0aW5nIGxvY2F0aW9uIGluIHRoZSBsaW5rZWQgbGlzdCB0byBzZWFyY2ggZnJvbVxuICogQHBhcmFtIGlzUHJldkRpciBEaXJlY3Rpb24uXG4gKiAgICAgICAgLSBgdHJ1ZWAgZm9yIHByZXZpb3VzIChsb3dlciBwcmlvcml0eSk7XG4gKiAgICAgICAgLSBgZmFsc2VgIGZvciBuZXh0IChoaWdoZXIgcHJpb3JpdHkpLlxuICovXG5mdW5jdGlvbiBtYXJrRHVwbGljYXRlcyh0RGF0YSwgdFN0eWxpbmdLZXksIGluZGV4LCBpc1ByZXZEaXIsIGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgY29uc3QgdFN0eWxpbmdBdEluZGV4ID0gdERhdGFbaW5kZXggKyAxXTtcbiAgICBjb25zdCBpc01hcCA9IHRTdHlsaW5nS2V5ID09PSBudWxsO1xuICAgIGxldCBjdXJzb3IgPSBpc1ByZXZEaXIgPyBnZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ0F0SW5kZXgpIDogZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdBdEluZGV4KTtcbiAgICBsZXQgZm91bmREdXBsaWNhdGUgPSBmYWxzZTtcbiAgICAvLyBXZSBrZWVwIGl0ZXJhdGluZyBhcyBsb25nIGFzIHdlIGhhdmUgYSBjdXJzb3JcbiAgICAvLyBBTkQgZWl0aGVyOlxuICAgIC8vIC0gd2UgZm91bmQgd2hhdCB3ZSBhcmUgbG9va2luZyBmb3IsIE9SXG4gICAgLy8gLSB3ZSBhcmUgYSBtYXAgaW4gd2hpY2ggY2FzZSB3ZSBoYXZlIHRvIGNvbnRpbnVlIHNlYXJjaGluZyBldmVuIGFmdGVyIHdlIGZpbmQgd2hhdCB3ZSB3ZXJlXG4gICAgLy8gICBsb29raW5nIGZvciBzaW5jZSB3ZSBhcmUgYSB3aWxkIGNhcmQgYW5kIGV2ZXJ5dGhpbmcgbmVlZHMgdG8gYmUgZmxpcHBlZCB0byBkdXBsaWNhdGUuXG4gICAgd2hpbGUgKGN1cnNvciAhPT0gMCAmJiAoZm91bmREdXBsaWNhdGUgPT09IGZhbHNlIHx8IGlzTWFwKSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHREYXRhLCBjdXJzb3IpO1xuICAgICAgICBjb25zdCB0U3R5bGluZ1ZhbHVlQXRDdXJzb3IgPSB0RGF0YVtjdXJzb3JdO1xuICAgICAgICBjb25zdCB0U3R5bGVSYW5nZUF0Q3Vyc29yID0gdERhdGFbY3Vyc29yICsgMV07XG4gICAgICAgIGlmIChpc1N0eWxpbmdNYXRjaCh0U3R5bGluZ1ZhbHVlQXRDdXJzb3IsIHRTdHlsaW5nS2V5KSkge1xuICAgICAgICAgICAgZm91bmREdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdERhdGFbY3Vyc29yICsgMV0gPSBpc1ByZXZEaXIgPyBzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGVSYW5nZUF0Q3Vyc29yKSA6XG4gICAgICAgICAgICAgICAgc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxlUmFuZ2VBdEN1cnNvcik7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yID0gaXNQcmV2RGlyID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxlUmFuZ2VBdEN1cnNvcikgOlxuICAgICAgICAgICAgZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxlUmFuZ2VBdEN1cnNvcik7XG4gICAgfVxuICAgIGlmIChmb3VuZER1cGxpY2F0ZSkge1xuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBhIGR1cGxpY2F0ZSwgdGhhbiBtYXJrIG91cnNlbHZlcy5cbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IGlzUHJldkRpciA/IHNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsaW5nQXRJbmRleCkgOlxuICAgICAgICAgICAgc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxpbmdBdEluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgdHdvIGBUU3R5bGluZ0tleWBzIGFyZSBhIG1hdGNoLlxuICpcbiAqIFdoZW4gY29tcHV0aW5nIHdoZXRoZXIgYSBiaW5kaW5nIGNvbnRhaW5zIGEgZHVwbGljYXRlLCB3ZSBuZWVkIHRvIGNvbXBhcmUgaWYgdGhlIGluc3RydWN0aW9uXG4gKiBgVFN0eWxpbmdLZXlgIGhhcyBhIG1hdGNoLlxuICpcbiAqIEhlcmUgYXJlIGV4YW1wbGVzIG9mIGBUU3R5bGluZ0tleWBzIHdoaWNoIG1hdGNoIGdpdmVuIGB0U3R5bGluZ0tleUN1cnNvcmAgaXM6XG4gKiAtIGBjb2xvcmBcbiAqICAgIC0gYGNvbG9yYCAgICAvLyBNYXRjaCBhbm90aGVyIGNvbG9yXG4gKiAgICAtIGBudWxsYCAgICAgLy8gVGhhdCBtZWFucyB0aGF0IGB0U3R5bGluZ0tleWAgaXMgYSBgY2xhc3NNYXBgL2BzdHlsZU1hcGAgaW5zdHJ1Y3Rpb25cbiAqICAgIC0gYFsnJywgJ2NvbG9yJywgJ290aGVyJywgdHJ1ZV1gIC8vIHdyYXBwZWQgYGNvbG9yYCBzbyBtYXRjaFxuICogICAgLSBgWycnLCBudWxsLCAnb3RoZXInLCB0cnVlXWAgICAgICAgLy8gd3JhcHBlZCBgbnVsbGAgc28gbWF0Y2hcbiAqICAgIC0gYFsnJywgJ3dpZHRoJywgJ2NvbG9yJywgJ3ZhbHVlJ11gIC8vIHdyYXBwZWQgc3RhdGljIHZhbHVlIGNvbnRhaW5zIGEgbWF0Y2ggb24gYCdjb2xvcidgXG4gKiAtIGBudWxsYCAgICAgICAvLyBgdFN0eWxpbmdLZXlDdXJzb3JgIGFsd2F5cyBtYXRjaCBhcyBpdCBpcyBgY2xhc3NNYXBgL2BzdHlsZU1hcGAgaW5zdHJ1Y3Rpb25cbiAqXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXlDdXJzb3JcbiAqIEBwYXJhbSB0U3R5bGluZ0tleVxuICovXG5mdW5jdGlvbiBpc1N0eWxpbmdNYXRjaCh0U3R5bGluZ0tleUN1cnNvciwgdFN0eWxpbmdLZXkpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleSksIHRydWUsICdFeHBlY3RlZCB0aGF0IFxcJ3RTdHlsaW5nS2V5XFwnIGhhcyBiZWVuIHVud3JhcHBlZCcpO1xuICAgIGlmICh0U3R5bGluZ0tleUN1cnNvciA9PT0gbnVsbCB8fCAvLyBJZiB0aGUgY3Vyc29yIGlzIGBudWxsYCBpdCBtZWFucyB0aGF0IHdlIGhhdmUgbWFwIGF0IHRoYXRcbiAgICAgICAgLy8gbG9jYXRpb24gc28gd2UgbXVzdCBhc3N1bWUgdGhhdCB3ZSBoYXZlIGEgbWF0Y2guXG4gICAgICAgIHRTdHlsaW5nS2V5ID09IG51bGwgfHwgLy8gSWYgYHRTdHlsaW5nS2V5YCBpcyBgbnVsbGAgdGhlbiBpdCBpcyBhIG1hcCB0aGVyZWZvciBhc3N1bWUgdGhhdCBpdFxuICAgICAgICAvLyBjb250YWlucyBhIG1hdGNoLlxuICAgICAgICAoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleUN1cnNvcikgPyB0U3R5bGluZ0tleUN1cnNvclsxXSA6IHRTdHlsaW5nS2V5Q3Vyc29yKSA9PT1cbiAgICAgICAgICAgIHRTdHlsaW5nS2V5IC8vIElmIHRoZSBrZXlzIG1hdGNoIGV4cGxpY2l0bHkgdGhhbiB3ZSBhcmUgYSBtYXRjaC5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXlDdXJzb3IpICYmIHR5cGVvZiB0U3R5bGluZ0tleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gaWYgd2UgZGlkIG5vdCBmaW5kIGEgbWF0Y2gsIGJ1dCBgdFN0eWxpbmdLZXlDdXJzb3JgIGlzIGBLZXlWYWx1ZUFycmF5YCB0aGF0IG1lYW5zIGN1cnNvciBoYXNcbiAgICAgICAgLy8gc3RhdGljcyBhbmQgd2UgbmVlZCB0byBjaGVjayB0aG9zZSBhcyB3ZWxsLlxuICAgICAgICByZXR1cm4ga2V5VmFsdWVBcnJheUluZGV4T2YodFN0eWxpbmdLZXlDdXJzb3IsIHRTdHlsaW5nS2V5KSA+PVxuICAgICAgICAgICAgMDsgLy8gc2VlIGlmIHdlIGFyZSBtYXRjaGluZyB0aGUga2V5XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBHbG9iYWwgc3RhdGUgb2YgdGhlIHBhcnNlci4gKFRoaXMgbWFrZXMgcGFyc2VyIG5vbi1yZWVudHJhbnQsIGJ1dCB0aGF0IGlzIG5vdCBhbiBpc3N1ZSlcbmNvbnN0IHBhcnNlclN0YXRlID0ge1xuICAgIHRleHRFbmQ6IDAsXG4gICAga2V5OiAwLFxuICAgIGtleUVuZDogMCxcbiAgICB2YWx1ZTogMCxcbiAgICB2YWx1ZUVuZDogMCxcbn07XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgbGFzdCBwYXJzZWQgYGtleWAgb2Ygc3R5bGUuXG4gKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzdWJzdHJpbmcgdGhlIGtleSBmcm9tLlxuICovXG5mdW5jdGlvbiBnZXRMYXN0UGFyc2VkS2V5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcocGFyc2VyU3RhdGUua2V5LCBwYXJzZXJTdGF0ZS5rZXlFbmQpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGxhc3QgcGFyc2VkIGB2YWx1ZWAgb2Ygc3R5bGUuXG4gKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzdWJzdHJpbmcgdGhlIGtleSBmcm9tLlxuICovXG5mdW5jdGlvbiBnZXRMYXN0UGFyc2VkVmFsdWUodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhwYXJzZXJTdGF0ZS52YWx1ZSwgcGFyc2VyU3RhdGUudmFsdWVFbmQpO1xufVxuLyoqXG4gKiBJbml0aWFsaXplcyBgY2xhc3NOYW1lYCBzdHJpbmcgZm9yIHBhcnNpbmcgYW5kIHBhcnNlcyB0aGUgZmlyc3QgdG9rZW4uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VDbGFzc05hbWUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBAcGFyYW0gdGV4dCBgY2xhc3NOYW1lYCB0byBwYXJzZVxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VDbGFzc05hbWVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZUNsYXNzTmFtZSh0ZXh0KSB7XG4gICAgcmVzZXRQYXJzZXJTdGF0ZSh0ZXh0KTtcbiAgICByZXR1cm4gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIDAsIHBhcnNlclN0YXRlLnRleHRFbmQpKTtcbn1cbi8qKlxuICogUGFyc2VzIG5leHQgYGNsYXNzTmFtZWAgdG9rZW4uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VDbGFzc05hbWUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHRleHQgYGNsYXNzTmFtZWAgdG8gcGFyc2VcbiAqIEBwYXJhbSBpbmRleCB3aGVyZSB0aGUgcGFyc2luZyBzaG91bGQgcmVzdW1lLlxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VDbGFzc05hbWVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaW5kZXgpIHtcbiAgICBjb25zdCBlbmQgPSBwYXJzZXJTdGF0ZS50ZXh0RW5kO1xuICAgIGlmIChlbmQgPT09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaW5kZXggPSBwYXJzZXJTdGF0ZS5rZXlFbmQgPSBjb25zdW1lQ2xhc3NUb2tlbih0ZXh0LCBwYXJzZXJTdGF0ZS5rZXkgPSBpbmRleCwgZW5kKTtcbiAgICByZXR1cm4gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgaW5kZXgsIGVuZCk7XG59XG4vKipcbiAqIEluaXRpYWxpemVzIGBjc3NUZXh0YCBzdHJpbmcgZm9yIHBhcnNpbmcgYW5kIHBhcnNlcyB0aGUgZmlyc3Qga2V5L3ZhbHVlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gdGhpcyBmb3JtYXQ6XG4gKiBgYGBcbiAqIGZvciAobGV0IGkgPSBwYXJzZVN0eWxlKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBpKSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICBjb25zdCB2YWx1ZSA9IGdldExhc3RQYXJzZWRWYWx1ZSgpO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogQHBhcmFtIHRleHQgYGNzc1RleHRgIHRvIHBhcnNlXG4gKiBAcmV0dXJucyBpbmRleCB3aGVyZSB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwYXJzZVN0eWxlTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHlsZSh0ZXh0KSB7XG4gICAgcmVzZXRQYXJzZXJTdGF0ZSh0ZXh0KTtcbiAgICByZXR1cm4gcGFyc2VTdHlsZU5leHQodGV4dCwgY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgMCwgcGFyc2VyU3RhdGUudGV4dEVuZCkpO1xufVxuLyoqXG4gKiBQYXJzZXMgdGhlIG5leHQgYGNzc1RleHRgIGtleS92YWx1ZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VTdHlsZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VTdHlsZU5leHQodGV4dCwgaSkpKSB7XG4gKiAgIGNvbnN0IGtleSA9IGdldExhc3RQYXJzZWRLZXkoKTtcbiAqICAgY29uc3QgdmFsdWUgPSBnZXRMYXN0UGFyc2VkVmFsdWUoKTtcbiAqICAgLi4uXG4gKiB9XG4gKlxuICogQHBhcmFtIHRleHQgYGNzc1RleHRgIHRvIHBhcnNlXG4gKiBAcGFyYW0gaW5kZXggd2hlcmUgdGhlIHBhcnNpbmcgc2hvdWxkIHJlc3VtZS5cbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlU3R5bGVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBzdGFydEluZGV4KSB7XG4gICAgY29uc3QgZW5kID0gcGFyc2VyU3RhdGUudGV4dEVuZDtcbiAgICBsZXQgaW5kZXggPSBwYXJzZXJTdGF0ZS5rZXkgPSBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBzdGFydEluZGV4LCBlbmQpO1xuICAgIGlmIChlbmQgPT09IGluZGV4KSB7XG4gICAgICAgIC8vIHdlIHJlYWNoZWQgYW4gZW5kIHNvIGp1c3QgcXVpdFxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUua2V5RW5kID0gY29uc3VtZVN0eWxlS2V5KHRleHQsIGluZGV4LCBlbmQpO1xuICAgIGluZGV4ID0gY29uc3VtZVNlcGFyYXRvcih0ZXh0LCBpbmRleCwgZW5kLCA1OCAvKiBDT0xPTiAqLyk7XG4gICAgaW5kZXggPSBwYXJzZXJTdGF0ZS52YWx1ZSA9IGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIGluZGV4LCBlbmQpO1xuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUudmFsdWVFbmQgPSBjb25zdW1lU3R5bGVWYWx1ZSh0ZXh0LCBpbmRleCwgZW5kKTtcbiAgICByZXR1cm4gY29uc3VtZVNlcGFyYXRvcih0ZXh0LCBpbmRleCwgZW5kLCA1OSAvKiBTRU1JX0NPTE9OICovKTtcbn1cbi8qKlxuICogUmVzZXQgdGhlIGdsb2JhbCBzdGF0ZSBvZiB0aGUgc3R5bGluZyBwYXJzZXIuXG4gKiBAcGFyYW0gdGV4dCBUaGUgc3R5bGluZyB0ZXh0IHRvIHBhcnNlLlxuICovXG5mdW5jdGlvbiByZXNldFBhcnNlclN0YXRlKHRleHQpIHtcbiAgICBwYXJzZXJTdGF0ZS5rZXkgPSAwO1xuICAgIHBhcnNlclN0YXRlLmtleUVuZCA9IDA7XG4gICAgcGFyc2VyU3RhdGUudmFsdWUgPSAwO1xuICAgIHBhcnNlclN0YXRlLnZhbHVlRW5kID0gMDtcbiAgICBwYXJzZXJTdGF0ZS50ZXh0RW5kID0gdGV4dC5sZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgaW5kZXggb2YgbmV4dCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IG9mIG5leHQgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyIChNYXkgYmUgdGhlIHNhbWUgYXMgYHN0YXJ0YCBpZiBubyB3aGl0ZXNwYWNlIGF0XG4gKiAgICAgICAgICB0aGF0IGxvY2F0aW9uLilcbiAqL1xuZnVuY3Rpb24gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGVuZEluZGV4ICYmIHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSA8PSAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBzdGFydEluZGV4O1xufVxuLyoqXG4gKiBSZXR1cm5zIGluZGV4IG9mIGxhc3QgY2hhciBpbiBjbGFzcyB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgbGFzdCBjaGFyIGluIGNsYXNzIHRva2VuLlxuICovXG5mdW5jdGlvbiBjb25zdW1lQ2xhc3NUb2tlbih0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIHdoaWxlIChzdGFydEluZGV4IDwgZW5kSW5kZXggJiYgdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpID4gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgYWxsIG9mIHRoZSBjaGFyYWN0ZXJzIGJlbG9uZ2luZyB0byBzdHlsZSBrZXkgYW5kIHRva2VuLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBsYXN0IHN0eWxlIGtleSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVTdHlsZUtleSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGxldCBjaDtcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGVuZEluZGV4ICYmXG4gICAgICAgICgoY2ggPSB0ZXh0LmNoYXJDb2RlQXQoc3RhcnRJbmRleCkpID09PSA0NSAvKiBEQVNIICovIHx8IGNoID09PSA5NSAvKiBVTkRFUlNDT1JFICovIHx8XG4gICAgICAgICAgICAoKGNoICYgLTMzIC8qIFVQUEVSX0NBU0UgKi8pID49IDY1IC8qIEEgKi8gJiYgKGNoICYgLTMzIC8qIFVQUEVSX0NBU0UgKi8pIDw9IDkwIC8qIFogKi8pIHx8XG4gICAgICAgICAgICAoY2ggPj0gNDggLyogWkVSTyAqLyAmJiBjaCA8PSA1NyAvKiBOSU5FICovKSkpIHtcbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgYWxsIHdoaXRlc3BhY2UgYW5kIHRoZSBzZXBhcmF0b3IgYDpgIGFmdGVyIHRoZSBzdHlsZSBrZXkuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIHNlcGFyYXRvciBhbmQgc3Vycm91bmRpbmcgd2hpdGVzcGFjZS5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZVNlcGFyYXRvcih0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCwgc2VwYXJhdG9yKSB7XG4gICAgc3RhcnRJbmRleCA9IGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICBpZiAoc3RhcnRJbmRleCA8IGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpICE9PSBzZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIG1hbGZvcm1lZFN0eWxlRXJyb3IodGV4dCwgU3RyaW5nLmZyb21DaGFyQ29kZShzZXBhcmF0b3IpLCBzdGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBzdGFydEluZGV4O1xufVxuLyoqXG4gKiBDb25zdW1lcyBzdHlsZSB2YWx1ZSBob25vcmluZyBgdXJsKClgIGFuZCBgXCJcImAgdGV4dC5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgbGFzdCBzdHlsZSB2YWx1ZSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVTdHlsZVZhbHVlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgbGV0IGNoMSA9IC0xOyAvLyAxc3QgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGNoMiA9IC0xOyAvLyAybmQgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGNoMyA9IC0xOyAvLyAzcmQgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGkgPSBzdGFydEluZGV4O1xuICAgIGxldCBsYXN0Q2hJbmRleCA9IGk7XG4gICAgd2hpbGUgKGkgPCBlbmRJbmRleCkge1xuICAgICAgICBjb25zdCBjaCA9IHRleHQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBpZiAoY2ggPT09IDU5IC8qIFNFTUlfQ09MT04gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0Q2hJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gMzQgLyogRE9VQkxFX1FVT1RFICovIHx8IGNoID09PSAzOSAvKiBTSU5HTEVfUVVPVEUgKi8pIHtcbiAgICAgICAgICAgIGxhc3RDaEluZGV4ID0gaSA9IGNvbnN1bWVRdW90ZWRUZXh0KHRleHQsIGNoLCBpLCBlbmRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRJbmRleCA9PT1cbiAgICAgICAgICAgIGkgLSA0ICYmIC8vIFdlIGhhdmUgc2VlbiBvbmx5IDQgY2hhcmFjdGVycyBzbyBmYXIgXCJVUkwoXCIgKElnbm9yZSBcImZvb19VUkwoKVwiKVxuICAgICAgICAgICAgY2gzID09PSA4NSAvKiBVICovICYmXG4gICAgICAgICAgICBjaDIgPT09IDgyIC8qIFIgKi8gJiYgY2gxID09PSA3NiAvKiBMICovICYmIGNoID09PSA0MCAvKiBPUEVOX1BBUkVOICovKSB7XG4gICAgICAgICAgICBsYXN0Q2hJbmRleCA9IGkgPSBjb25zdW1lUXVvdGVkVGV4dCh0ZXh0LCA0MSAvKiBDTE9TRV9QQVJFTiAqLywgaSwgZW5kSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID4gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgdGhlbiBjYXB0dXJlIGl0cyBsb2NhdGlvblxuICAgICAgICAgICAgbGFzdENoSW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICAgIGNoMyA9IGNoMjtcbiAgICAgICAgY2gyID0gY2gxO1xuICAgICAgICBjaDEgPSBjaCAmIC0zMyAvKiBVUFBFUl9DQVNFICovO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdENoSW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIGFsbCBvZiB0aGUgcXVvdGVkIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gcXVvdGVDaGFyQ29kZSBDaGFyQ29kZSBvZiBlaXRoZXIgYFwiYCBvciBgJ2AgcXVvdGUgb3IgYClgIGZvciBgdXJsKC4uLilgLlxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBxdW90ZWQgY2hhcmFjdGVycy5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZVF1b3RlZFRleHQodGV4dCwgcXVvdGVDaGFyQ29kZSwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBsZXQgY2gxID0gLTE7IC8vIDFzdCBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICBsZXQgaW5kZXggPSBzdGFydEluZGV4O1xuICAgIHdoaWxlIChpbmRleCA8IGVuZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoID0gdGV4dC5jaGFyQ29kZUF0KGluZGV4KyspO1xuICAgICAgICBpZiAoY2ggPT0gcXVvdGVDaGFyQ29kZSAmJiBjaDEgIT09IDkyIC8qIEJBQ0tfU0xBU0ggKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPT0gOTIgLyogQkFDS19TTEFTSCAqLyAmJiBjaDEgPT09IDkyIC8qIEJBQ0tfU0xBU0ggKi8pIHtcbiAgICAgICAgICAgIC8vIHR3byBiYWNrIHNsYXNoZXMgY2FuY2VsIGVhY2ggb3RoZXIgb3V0LiBGb3IgZXhhbXBsZSBgXCJcXFxcXCJgIHNob3VsZCBwcm9wZXJseSBlbmQgdGhlXG4gICAgICAgICAgICAvLyBxdW90YXRpb24uIChJdCBzaG91bGQgbm90IGFzc3VtZSB0aGF0IHRoZSBsYXN0IGBcImAgaXMgZXNjYXBlZC4pXG4gICAgICAgICAgICBjaDEgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2gxID0gY2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmdEZXZNb2RlID8gbWFsZm9ybWVkU3R5bGVFcnJvcih0ZXh0LCBTdHJpbmcuZnJvbUNoYXJDb2RlKHF1b3RlQ2hhckNvZGUpLCBlbmRJbmRleCkgOlxuICAgICAgICBuZXcgRXJyb3IoKTtcbn1cbmZ1bmN0aW9uIG1hbGZvcm1lZFN0eWxlRXJyb3IodGV4dCwgZXhwZWN0aW5nLCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycsIHRydWUsICdTdHJpbmcgZXhwZWN0ZWQgaGVyZScpO1xuICAgIHRocm93IHRocm93RXJyb3IoYE1hbGZvcm1lZCBzdHlsZSBhdCBsb2NhdGlvbiAke2luZGV4fSBpbiBzdHJpbmcgJ2AgKyB0ZXh0LnN1YnN0cmluZygwLCBpbmRleCkgKyAnWz4+JyArXG4gICAgICAgIHRleHQuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDEpICsgJzw8XScgKyB0ZXh0LnN1YnN0cihpbmRleCArIDEpICtcbiAgICAgICAgYCcuIEV4cGVjdGluZyAnJHtleHBlY3Rpbmd9Jy5gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZSBhIHN0eWxlIGJpbmRpbmcgb24gYW4gZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAqXG4gKiBJZiB0aGUgc3R5bGUgdmFsdWUgaXMgZmFsc3kgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICogKG9yIGFzc2lnbmVkIGEgZGlmZmVyZW50IHZhbHVlIGRlcGVuZGluZyBpZiB0aGVyZSBhcmUgYW55IHN0eWxlcyBwbGFjZWRcbiAqIG9uIHRoZSBlbGVtZW50IHdpdGggYHN0eWxlTWFwYCBvciBhbnkgc3RhdGljIHN0eWxlcyB0aGF0IGFyZVxuICogcHJlc2VudCBmcm9tIHdoZW4gdGhlIGVsZW1lbnQgd2FzIGNyZWF0ZWQgd2l0aCBgc3R5bGluZ2ApLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgc3R5bGluZyBlbGVtZW50IGlzIHVwZGF0ZWQgYXMgcGFydCBvZiBgc3R5bGluZ0FwcGx5YC5cbiAqXG4gKiBAcGFyYW0gcHJvcCBBIHZhbGlkIENTUyBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUgKGBudWxsYCBvciBhbiBlbXB0eSBzdHJpbmcgdG8gcmVtb3ZlKS5cbiAqIEBwYXJhbSBzdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCBhcHBseSB0aGUgcHJvdmlkZWQgc3R5bGUgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICogd2l0aGluIGEgaG9zdCBiaW5kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3AocHJvcCwgdmFsdWUsIHN1ZmZpeCkge1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIHZhbHVlLCBzdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcDtcbn1cbi8qKlxuICogVXBkYXRlIGEgY2xhc3MgYmluZGluZyBvbiBhbiBlbGVtZW50IHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgbWVhbnQgdG8gaGFuZGxlIHRoZSBgW2NsYXNzLmZvb109XCJleHBcImAgY2FzZSBhbmQsXG4gKiB0aGVyZWZvcmUsIHRoZSBjbGFzcyBiaW5kaW5nIGl0c2VsZiBtdXN0IGFscmVhZHkgYmUgYWxsb2NhdGVkIHVzaW5nXG4gKiBgc3R5bGluZ2Agd2l0aGluIHRoZSBjcmVhdGlvbiBibG9jay5cbiAqXG4gKiBAcGFyYW0gcHJvcCBBIHZhbGlkIENTUyBjbGFzcyAob25seSBvbmUpLlxuICogQHBhcmFtIHZhbHVlIEEgdHJ1ZS9mYWxzZSB2YWx1ZSB3aGljaCB3aWxsIHR1cm4gdGhlIGNsYXNzIG9uIG9yIG9mZi5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIGFwcGx5IHRoZSBwcm92aWRlZCBjbGFzcyB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb25cbiAqIGlzIGNhbGxlZCB3aXRoaW4gYSBob3N0IGJpbmRpbmcgZnVuY3Rpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzUHJvcChjbGFzc05hbWUsIHZhbHVlKSB7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkoY2xhc3NOYW1lLCB2YWx1ZSwgbnVsbCwgdHJ1ZSk7XG4gICAgcmV0dXJuIMm1ybVjbGFzc1Byb3A7XG59XG4vKipcbiAqIFVwZGF0ZSBzdHlsZSBiaW5kaW5ncyB1c2luZyBhbiBvYmplY3QgbGl0ZXJhbCBvbiBhbiBlbGVtZW50LlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgbWVhbnQgdG8gYXBwbHkgc3R5bGluZyB2aWEgdGhlIGBbc3R5bGVdPVwiZXhwXCJgIHRlbXBsYXRlIGJpbmRpbmdzLlxuICogV2hlbiBzdHlsZXMgYXJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgdGhleSB3aWxsIHRoZW4gYmUgdXBkYXRlZCB3aXRoIHJlc3BlY3QgdG9cbiAqIGFueSBzdHlsZXMvY2xhc3NlcyBzZXQgdmlhIGBzdHlsZVByb3BgLiBJZiBhbnkgc3R5bGVzIGFyZSBzZXQgdG8gZmFsc3lcbiAqIHRoZW4gdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gd2lsbCBub3QgYmUgYXBwbGllZCB1bnRpbCBgc3R5bGluZ0FwcGx5YCBpcyBjYWxsZWQuXG4gKlxuICogQHBhcmFtIHN0eWxlcyBBIGtleS92YWx1ZSBzdHlsZSBtYXAgb2YgdGhlIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqICAgICAgICBBbnkgbWlzc2luZyBzdHlsZXMgKHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0aGUgZWxlbWVudCBiZWZvcmVoYW5kKSB3aWxsIGJlXG4gKiAgICAgICAgcmVtb3ZlZCAodW5zZXQpIGZyb20gdGhlIGVsZW1lbnQncyBzdHlsaW5nLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgYXBwbHkgdGhlIHByb3ZpZGVkIHN0eWxlTWFwIHZhbHVlIHRvIHRoZSBob3N0IGVsZW1lbnQgaWYgdGhpcyBmdW5jdGlvblxuICogaXMgY2FsbGVkIHdpdGhpbiBhIGhvc3QgYmluZGluZy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXAoc3R5bGVzKSB7XG4gICAgY2hlY2tTdHlsaW5nTWFwKHN0eWxlS2V5VmFsdWVBcnJheVNldCwgc3R5bGVTdHJpbmdQYXJzZXIsIHN0eWxlcywgZmFsc2UpO1xufVxuLyoqXG4gKiBQYXJzZSB0ZXh0IGFzIHN0eWxlIGFuZCBhZGQgdmFsdWVzIHRvIEtleVZhbHVlQXJyYXkuXG4gKlxuICogVGhpcyBjb2RlIGlzIHB1bGxlZCBvdXQgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBhd2F5IGlmIGl0IGlzIG5vdFxuICogbmVlZGVkLiBJdCBpcyBvbmx5IHJlZmVyZW5jZWQgZnJvbSBgybXJtXN0eWxlTWFwYC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSBLZXlWYWx1ZUFycmF5IHRvIGFkZCBwYXJzZWQgdmFsdWVzIHRvLlxuICogQHBhcmFtIHRleHQgdGV4dCB0byBwYXJzZS5cbiAqL1xuZnVuY3Rpb24gc3R5bGVTdHJpbmdQYXJzZXIoa2V5VmFsdWVBcnJheSwgdGV4dCkge1xuICAgIGZvciAobGV0IGkgPSBwYXJzZVN0eWxlKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBpKSkge1xuICAgICAgICBzdHlsZUtleVZhbHVlQXJyYXlTZXQoa2V5VmFsdWVBcnJheSwgZ2V0TGFzdFBhcnNlZEtleSh0ZXh0KSwgZ2V0TGFzdFBhcnNlZFZhbHVlKHRleHQpKTtcbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZSBjbGFzcyBiaW5kaW5ncyB1c2luZyBhbiBvYmplY3QgbGl0ZXJhbCBvciBjbGFzcy1zdHJpbmcgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGFwcGx5IHN0eWxpbmcgdmlhIHRoZSBgW2NsYXNzXT1cImV4cFwiYCB0ZW1wbGF0ZSBiaW5kaW5ncy5cbiAqIFdoZW4gY2xhc3NlcyBhcmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCB0aGV5IHdpbGwgdGhlbiBiZSB1cGRhdGVkIHdpdGhcbiAqIHJlc3BlY3QgdG8gYW55IHN0eWxlcy9jbGFzc2VzIHNldCB2aWEgYGNsYXNzUHJvcGAuIElmIGFueVxuICogY2xhc3NlcyBhcmUgc2V0IHRvIGZhbHN5IHRoZW4gdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gd2lsbCBub3QgYmUgYXBwbGllZCB1bnRpbCBgc3R5bGluZ0FwcGx5YCBpcyBjYWxsZWQuXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHRoZSBwcm92aWRlZCBjbGFzc01hcCB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiB3aXRoaW4gYSBob3N0IGJpbmRpbmcuXG4gKlxuICogQHBhcmFtIGNsYXNzZXMgQSBrZXkvdmFsdWUgbWFwIG9yIHN0cmluZyBvZiBDU1MgY2xhc3NlcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gKiAgICAgICAgZ2l2ZW4gZWxlbWVudC4gQW55IG1pc3NpbmcgY2xhc3NlcyAodGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKiAgICAgICAgYmVmb3JlaGFuZCkgd2lsbCBiZSByZW1vdmVkICh1bnNldCkgZnJvbSB0aGUgZWxlbWVudCdzIGxpc3Qgb2YgQ1NTIGNsYXNzZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwKGNsYXNzZXMpIHtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGNsYXNzZXMsIHRydWUpO1xufVxuLyoqXG4gKiBQYXJzZSB0ZXh0IGFzIGNsYXNzIGFuZCBhZGQgdmFsdWVzIHRvIEtleVZhbHVlQXJyYXkuXG4gKlxuICogVGhpcyBjb2RlIGlzIHB1bGxlZCBvdXQgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBhd2F5IGlmIGl0IGlzIG5vdFxuICogbmVlZGVkLiBJdCBpcyBvbmx5IHJlZmVyZW5jZWQgZnJvbSBgybXJtWNsYXNzTWFwYC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSBLZXlWYWx1ZUFycmF5IHRvIGFkZCBwYXJzZWQgdmFsdWVzIHRvLlxuICogQHBhcmFtIHRleHQgdGV4dCB0byBwYXJzZS5cbiAqL1xuZnVuY3Rpb24gY2xhc3NTdHJpbmdQYXJzZXIoa2V5VmFsdWVBcnJheSwgdGV4dCkge1xuICAgIGZvciAobGV0IGkgPSBwYXJzZUNsYXNzTmFtZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGkpKSB7XG4gICAgICAgIGtleVZhbHVlQXJyYXlTZXQoa2V5VmFsdWVBcnJheSwgZ2V0TGFzdFBhcnNlZEtleSh0ZXh0KSwgdHJ1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDb21tb24gY29kZSBiZXR3ZWVuIGDJtcm1Y2xhc3NQcm9wYCBhbmQgYMm1ybVzdHlsZVByb3BgLlxuICpcbiAqIEBwYXJhbSBwcm9wIHByb3BlcnR5IG5hbWUuXG4gKiBAcGFyYW0gdmFsdWUgYmluZGluZyB2YWx1ZS5cbiAqIEBwYXJhbSBzdWZmaXggc3VmZml4IGZvciB0aGUgcHJvcGVydHkgKGUuZy4gYGVtYCBvciBgcHhgKVxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCBjaGFuZ2UgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgdmFsdWUsIHN1ZmZpeCwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAvLyBTdHlsaW5nIGluc3RydWN0aW9ucyB1c2UgMiBzbG90cyBwZXIgYmluZGluZy5cbiAgICAvLyAxLiBvbmUgZm9yIHRoZSB2YWx1ZSAvIFRTdHlsaW5nS2V5XG4gICAgLy8gMi4gb25lIGZvciB0aGUgaW50ZXJtaXR0ZW50LXZhbHVlIC8gVFN0eWxpbmdSYW5nZVxuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGluY3JlbWVudEJpbmRpbmdJbmRleCgyKTtcbiAgICBpZiAodFZpZXcuZmlyc3RVcGRhdGVQYXNzKSB7XG4gICAgICAgIHN0eWxpbmdGaXJzdFVwZGF0ZVBhc3ModFZpZXcsIHByb3AsIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSBOT19DSEFOR0UgJiYgYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtnZXRTZWxlY3RlZEluZGV4KCldO1xuICAgICAgICB1cGRhdGVTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgcHJvcCwgbFZpZXdbYmluZGluZ0luZGV4ICsgMV0gPSBub3JtYWxpemVTdWZmaXgodmFsdWUsIHN1ZmZpeCksIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIENvbW1vbiBjb2RlIGJldHdlZW4gYMm1ybVjbGFzc01hcGAgYW5kIGDJtcm1c3R5bGVNYXBgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5U2V0IChTZWUgYGtleVZhbHVlQXJyYXlTZXRgIGluIFwidXRpbC9hcnJheV91dGlsc1wiKSBHZXRzIHBhc3NlZCBpbiBhcyBhXG4gKiAgICAgICAgZnVuY3Rpb24gc28gdGhhdCBgc3R5bGVgIGNhbiBiZSBwcm9jZXNzZWQuIFRoaXMgaXMgZG9uZSBmb3IgdHJlZSBzaGFraW5nIHB1cnBvc2VzLlxuICogQHBhcmFtIHN0cmluZ1BhcnNlciBQYXJzZXIgdXNlZCB0byBwYXJzZSBgdmFsdWVgIGlmIGBzdHJpbmdgLiAoUGFzc2VkIGluIGFzIGBzdHlsZWAgYW5kIGBjbGFzc2BcbiAqICAgICAgICBoYXZlIGRpZmZlcmVudCBwYXJzZXJzLilcbiAqIEBwYXJhbSB2YWx1ZSBib3VuZCB2YWx1ZSBmcm9tIGFwcGxpY2F0aW9uXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIGNoYW5nZSAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgc3RyaW5nUGFyc2VyLCB2YWx1ZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGluY3JlbWVudEJpbmRpbmdJbmRleCgyKTtcbiAgICBpZiAodFZpZXcuZmlyc3RVcGRhdGVQYXNzKSB7XG4gICAgICAgIHN0eWxpbmdGaXJzdFVwZGF0ZVBhc3ModFZpZXcsIG51bGwsIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGlmICh2YWx1ZSAhPT0gTk9fQ0hBTkdFICYmIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICAvLyBgZ2V0U2VsZWN0ZWRJbmRleCgpYCBzaG91bGQgYmUgaGVyZSAocmF0aGVyIHRoYW4gaW4gaW5zdHJ1Y3Rpb24pIHNvIHRoYXQgaXQgaXMgZ3VhcmRlZCBieSB0aGVcbiAgICAgICAgLy8gaWYgc28gYXMgbm90IHRvIHJlYWQgdW5uZWNlc3NhcmlseS5cbiAgICAgICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2dldFNlbGVjdGVkSW5kZXgoKV07XG4gICAgICAgIGlmIChoYXNTdHlsaW5nSW5wdXRTaGFkb3codE5vZGUsIGlzQ2xhc3NCYXNlZCkgJiYgIWlzSW5Ib3N0QmluZGluZ3ModFZpZXcsIGJpbmRpbmdJbmRleCkpIHtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgdGhhdCBpZiB3ZSBhcmUgc2hhZG93aW5nIHRoZW4gYFREYXRhYCBpcyBhcHByb3ByaWF0ZWx5IG1hcmtlZCBzbyB0aGF0IHdlIHNraXBcbiAgICAgICAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgYmluZGluZyBpbiBzdHlsaW5nIHJlc29sdXRpb24uXG4gICAgICAgICAgICAgICAgY29uc3QgdFN0eWxpbmdLZXkgPSB0Vmlldy5kYXRhW2JpbmRpbmdJbmRleF07XG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleSkgPyB0U3R5bGluZ0tleVsxXSA6IHRTdHlsaW5nS2V5LCBmYWxzZSwgJ1N0eWxpbmcgbGlua2VkIGxpc3Qgc2hhZG93IGlucHV0IHNob3VsZCBiZSBtYXJrZWQgYXMgXFwnZmFsc2VcXCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFZFIGRvZXMgbm90IGNvbmNhdGVuYXRlIHRoZSBzdGF0aWMgcG9ydGlvbiBsaWtlIHdlIGFyZSBkb2luZyBoZXJlLlxuICAgICAgICAgICAgLy8gSW5zdGVhZCBWRSBqdXN0IGlnbm9yZXMgdGhlIHN0YXRpYyBjb21wbGV0ZWx5IGlmIGR5bmFtaWMgYmluZGluZyBpcyBwcmVzZW50LlxuICAgICAgICAgICAgLy8gQmVjYXVzZSBvZiBsb2NhbGl0eSB3ZSBoYXZlIGFscmVhZHkgc2V0IHRoZSBzdGF0aWMgcG9ydGlvbiBiZWNhdXNlIHdlIGRvbid0IGtub3cgaWYgdGhlcmVcbiAgICAgICAgICAgIC8vIGlzIGEgZHluYW1pYyBwb3J0aW9uIHVudGlsIGxhdGVyLiBJZiB3ZSB3b3VsZCBpZ25vcmUgdGhlIHN0YXRpYyBwb3J0aW9uIGl0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAgICAgICAgLy8gdGhlIGJpbmRpbmcgaGFzIHJlbW92ZWQgaXQuIFRoaXMgd291bGQgY29uZnVzZSBgW25nU3R5bGVdYC9gW25nQ2xhc3NdYCB0byBkbyB0aGUgd3JvbmdcbiAgICAgICAgICAgIC8vIHRoaW5nIGFzIGl0IHdvdWxkIHRoaW5rIHRoYXQgdGhlIHN0YXRpYyBwb3J0aW9uIHdhcyByZW1vdmVkLiBGb3IgdGhpcyByZWFzb24gd2VcbiAgICAgICAgICAgIC8vIGNvbmNhdGVuYXRlIGl0IHNvIHRoYXQgYFtuZ1N0eWxlXWAvYFtuZ0NsYXNzXWAgIGNhbiBjb250aW51ZSB0byB3b3JrIG9uIGNoYW5nZWQuXG4gICAgICAgICAgICBsZXQgc3RhdGljUHJlZml4ID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0IDogdE5vZGUuc3R5bGVzV2l0aG91dEhvc3Q7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgaXNDbGFzc0Jhc2VkID09PSBmYWxzZSAmJiBzdGF0aWNQcmVmaXggIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChzdGF0aWNQcmVmaXguZW5kc1dpdGgoJzsnKSwgdHJ1ZSwgJ0V4cGVjdGluZyBzdGF0aWMgcG9ydGlvbiB0byBlbmQgd2l0aCBcXCc7XFwnJyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJlZml4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCBmYWxzeSB2YWx1ZXMgb2YgYHZhbHVlYCBiZWNvbWUgZW1wdHkgc3RyaW5ncy5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGNvbmNhdFN0cmluZ3NXaXRoU3BhY2Uoc3RhdGljUHJlZml4LCB2YWx1ZSA/IHZhbHVlIDogJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2l2ZW4gYDxkaXYgW3N0eWxlXSBteS1kaXI+YCBzdWNoIHRoYXQgYG15LWRpcmAgaGFzIGBASW5wdXQoJ3N0eWxlJylgLlxuICAgICAgICAgICAgLy8gVGhpcyB0YWtlcyBvdmVyIHRoZSBgW3N0eWxlXWAgYmluZGluZy4gKFNhbWUgZm9yIGBbY2xhc3NdYClcbiAgICAgICAgICAgIHNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgdmFsdWUsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVTdHlsaW5nTWFwKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgbFZpZXdbYmluZGluZ0luZGV4ICsgMV0sIGxWaWV3W2JpbmRpbmdJbmRleCArIDFdID0gdG9TdHlsaW5nS2V5VmFsdWVBcnJheShrZXlWYWx1ZUFycmF5U2V0LCBzdHJpbmdQYXJzZXIsIHZhbHVlKSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGJpbmRpbmcgaXMgaW4gYGhvc3RCaW5kaW5nc2Agc2VjdGlvblxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggaW5kZXggb2YgYmluZGluZyB3aGljaCB3ZSB3b3VsZCBsaWtlIGlmIGl0IGlzIGluIGBob3N0QmluZGluZ3NgXG4gKi9cbmZ1bmN0aW9uIGlzSW5Ib3N0QmluZGluZ3ModFZpZXcsIGJpbmRpbmdJbmRleCkge1xuICAgIC8vIEFsbCBob3N0IGJpbmRpbmdzIGFyZSBwbGFjZWQgYWZ0ZXIgdGhlIGV4cGFuZG8gc2VjdGlvbi5cbiAgICByZXR1cm4gYmluZGluZ0luZGV4ID49IHRWaWV3LmV4cGFuZG9TdGFydEluZGV4O1xufVxuLyoqXG4gKiBDb2xsZWN0cyB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIHRvIGluc2VydCB0aGUgYmluZGluZyBpbnRvIGEgbGlua2VkIGxpc3Qgb2Ygc3R5bGUgYmluZGluZ3NcbiAqIHVzaW5nIGBpbnNlcnRUU3R5bGluZ0JpbmRpbmdgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIHdoZXJlIHRoZSBiaW5kaW5nIGxpbmtlZCBsaXN0IHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IFByb3BlcnR5L2tleSBvZiB0aGUgYmluZGluZy5cbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggSW5kZXggb2YgYmluZGluZyBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9wYFxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCBjaGFuZ2UgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gc3R5bGluZ0ZpcnN0VXBkYXRlUGFzcyh0VmlldywgdFN0eWxpbmdLZXksIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0VXBkYXRlUGFzcyh0Vmlldyk7XG4gICAgY29uc3QgdERhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGlmICh0RGF0YVtiaW5kaW5nSW5kZXggKyAxXSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUaGUgYWJvdmUgY2hlY2sgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgZG9uJ3QgY2xlYXIgZmlyc3QgdXBkYXRlIHBhc3MgdW50aWwgZmlyc3Qgc3VjY2Vzc2Z1bFxuICAgICAgICAvLyAobm8gZXhjZXB0aW9uKSB0ZW1wbGF0ZSBleGVjdXRpb24uIFRoaXMgcHJldmVudHMgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gZnJvbSBkb3VibGUgYWRkaW5nXG4gICAgICAgIC8vIGl0c2VsZiB0byB0aGUgbGlzdC5cbiAgICAgICAgLy8gYGdldFNlbGVjdGVkSW5kZXgoKWAgc2hvdWxkIGJlIGhlcmUgKHJhdGhlciB0aGFuIGluIGluc3RydWN0aW9uKSBzbyB0aGF0IGl0IGlzIGd1YXJkZWQgYnkgdGhlXG4gICAgICAgIC8vIGlmIHNvIGFzIG5vdCB0byByZWFkIHVubmVjZXNzYXJpbHkuXG4gICAgICAgIGNvbnN0IHROb2RlID0gdERhdGFbZ2V0U2VsZWN0ZWRJbmRleCgpXTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdUTm9kZSBleHBlY3RlZCcpO1xuICAgICAgICBjb25zdCBpc0hvc3RCaW5kaW5ncyA9IGlzSW5Ib3N0QmluZGluZ3ModFZpZXcsIGJpbmRpbmdJbmRleCk7XG4gICAgICAgIGlmIChoYXNTdHlsaW5nSW5wdXRTaGFkb3codE5vZGUsIGlzQ2xhc3NCYXNlZCkgJiYgdFN0eWxpbmdLZXkgPT09IG51bGwgJiYgIWlzSG9zdEJpbmRpbmdzKSB7XG4gICAgICAgICAgICAvLyBgdFN0eWxpbmdLZXkgPT09IG51bGxgIGltcGxpZXMgdGhhdCB3ZSBhcmUgZWl0aGVyIGBbc3R5bGVdYCBvciBgW2NsYXNzXWAgYmluZGluZy5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgZGlyZWN0aXZlIHdoaWNoIHVzZXMgYEBJbnB1dCgnc3R5bGUnKWAgb3IgYEBJbnB1dCgnY2xhc3MnKWAgdGhhblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBuZXV0cmFsaXplIHRoaXMgYmluZGluZyBzaW5jZSB0aGF0IGRpcmVjdGl2ZSBpcyBzaGFkb3dpbmcgaXQuXG4gICAgICAgICAgICAvLyBXZSB0dXJuIHRoaXMgaW50byBhIG5vb3AgYnkgc2V0dGluZyB0aGUga2V5IHRvIGBmYWxzZWBcbiAgICAgICAgICAgIHRTdHlsaW5nS2V5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdFN0eWxpbmdLZXkgPSB3cmFwSW5TdGF0aWNTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgdFN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgIGluc2VydFRTdHlsaW5nQmluZGluZyh0RGF0YSwgdE5vZGUsIHRTdHlsaW5nS2V5LCBiaW5kaW5nSW5kZXgsIGlzSG9zdEJpbmRpbmdzLCBpc0NsYXNzQmFzZWQpO1xuICAgIH1cbn1cbi8qKlxuICogQWRkcyBzdGF0aWMgc3R5bGluZyBpbmZvcm1hdGlvbiB0byB0aGUgYmluZGluZyBpZiBhcHBsaWNhYmxlLlxuICpcbiAqIFRoZSBsaW5rZWQgbGlzdCBvZiBzdHlsZXMgbm90IG9ubHkgc3RvcmVzIHRoZSBsaXN0IGFuZCBrZXlzLCBidXQgYWxzbyBzdG9yZXMgc3RhdGljIHN0eWxpbmdcbiAqIGluZm9ybWF0aW9uIG9uIHNvbWUgb2YgdGhlIGtleXMuIFRoaXMgZnVuY3Rpb24gZGV0ZXJtaW5lcyBpZiB0aGUga2V5IHNob3VsZCBjb250YWluIHRoZSBzdHlsaW5nXG4gKiBpbmZvcm1hdGlvbiBhbmQgY29tcHV0ZXMgaXQuXG4gKlxuICogU2VlIGBUU3R5bGluZ1N0YXRpY2AgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIHdoaWNoIHRoZSBzdHlsaW5nIGlzIGJlaW5nIGNvbXB1dGVkLlxuICogQHBhcmFtIHN0eWxpbmdLZXkgYFRTdHlsaW5nS2V5UHJpbWl0aXZlYCB3aGljaCBtYXkgbmVlZCB0byBiZSB3cmFwcGVkIGludG8gYFRTdHlsaW5nS2V5YFxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiB3cmFwSW5TdGF0aWNTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgaG9zdERpcmVjdGl2ZURlZiA9IGdldEN1cnJlbnREaXJlY3RpdmVEZWYodERhdGEpO1xuICAgIGxldCByZXNpZHVhbCA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzO1xuICAgIGlmIChob3N0RGlyZWN0aXZlRGVmID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbiB0ZW1wbGF0ZSBub2RlLlxuICAgICAgICAvLyBJZiB0ZW1wbGF0ZSBub2RlIGFscmVhZHkgaGFkIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gdGhlbiBpdCBoYXMgYWxyZWFkeSBjb2xsZWN0ZWQgdGhlIHN0YXRpY1xuICAgICAgICAvLyBzdHlsaW5nIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbGxlY3QgdGhlbSBhZ2Fpbi4gV2Uga25vdyB0aGF0IHdlIGFyZSB0aGUgZmlyc3Qgc3R5bGluZ1xuICAgICAgICAvLyBpbnN0cnVjdGlvbiBiZWNhdXNlIHRoZSBgVE5vZGUuKkJpbmRpbmdzYCBwb2ludHMgdG8gMCAobm90aGluZyBoYXMgYmVlbiBpbnNlcnRlZCB5ZXQpLlxuICAgICAgICBjb25zdCBpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5UZW1wbGF0ZSA9IChpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncykgPT09IDA7XG4gICAgICAgIGlmIChpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5UZW1wbGF0ZSkge1xuICAgICAgICAgICAgLy8gSXQgd291bGQgYmUgbmljZSB0byBiZSBhYmxlIHRvIGdldCB0aGUgc3RhdGljcyBmcm9tIGBtZXJnZUF0dHJzYCwgaG93ZXZlciwgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgLy8gdGhleSBhcmUgYWxyZWFkeSBtZXJnZWQgYW5kIGl0IHdvdWxkIG5vdCBiZSBwb3NzaWJsZSB0byBmaWd1cmUgd2hpY2ggcHJvcGVydHkgYmVsb25ncyB3aGVyZVxuICAgICAgICAgICAgLy8gaW4gdGhlIHByaW9yaXR5LlxuICAgICAgICAgICAgc3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMobnVsbCwgdERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgc3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhzdHlsaW5nS2V5LCB0Tm9kZS5hdHRycywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIC8vIFdlIGtub3cgdGhhdCBpZiB3ZSBoYXZlIHN0eWxpbmcgYmluZGluZyBpbiB0ZW1wbGF0ZSB3ZSBjYW4ndCBoYXZlIHJlc2lkdWFsLlxuICAgICAgICAgICAgcmVzaWR1YWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSBhcmUgaW4gaG9zdCBiaW5kaW5nIG5vZGUgYW5kIHRoZXJlIHdhcyBubyBiaW5kaW5nIGluc3RydWN0aW9uIGluIHRlbXBsYXRlIG5vZGUuXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIGNvbXB1dGUgdGhlIHJlc2lkdWFsLlxuICAgICAgICBjb25zdCBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9IHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgICAgICBjb25zdCBpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5Ib3N0QmluZGluZyA9IGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID09PSAtMSB8fCB0RGF0YVtkaXJlY3RpdmVTdHlsaW5nTGFzdF0gIT09IGhvc3REaXJlY3RpdmVEZWY7XG4gICAgICAgIGlmIChpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5Ib3N0QmluZGluZykge1xuICAgICAgICAgICAgc3R5bGluZ0tleSA9XG4gICAgICAgICAgICAgICAgY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyhob3N0RGlyZWN0aXZlRGVmLCB0RGF0YSwgdE5vZGUsIHN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICBpZiAocmVzaWR1YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAtIElmIGBudWxsYCB0aGFuIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvLyAgICAtIFRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gYWxyZWFkeSByYW4gYW5kIGl0IGhhcyBjb25zdW1lZCB0aGUgc3RhdGljXG4gICAgICAgICAgICAgICAgLy8gICAgICBzdHlsaW5nIGludG8gaXRzIGBUU3R5bGluZ0tleWAgYW5kIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gdXBkYXRlIHJlc2lkdWFsLiBJbnN0ZWFkXG4gICAgICAgICAgICAgICAgLy8gICAgICB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgYFRTdHlsaW5nS2V5YCBhc3NvY2lhdGVkIHdpdGggdGhlIGZpcnN0IHRlbXBsYXRlIG5vZGVcbiAgICAgICAgICAgICAgICAvLyAgICAgIGluc3RydWN0aW9uLiBPUlxuICAgICAgICAgICAgICAgIC8vICAgIC0gU29tZSBvdGhlciBzdHlsaW5nIGluc3RydWN0aW9uIHJhbiBhbmQgZGV0ZXJtaW5lZCB0aGF0IHRoZXJlIGFyZSBubyByZXNpZHVhbHNcbiAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVTdHlsaW5nS2V5ID0gZ2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVN0eWxpbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBBcnJheS5pc0FycmF5KHRlbXBsYXRlU3R5bGluZ0tleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZWNvbXB1dGUgaWYgYHRlbXBsYXRlU3R5bGluZ0tleWAgaGFkIHN0YXRpYyB2YWx1ZXMuIChJZiBubyBzdGF0aWMgdmFsdWUgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGRvIHNpbmNlIHRoaXMgb3BlcmF0aW9uIGNhbiBvbmx5IHByb2R1Y2UgbGVzcyBzdGF0aWMga2V5cywgbm90XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vcmUuKVxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKG51bGwsIHREYXRhLCB0Tm9kZSwgdGVtcGxhdGVTdHlsaW5nS2V5WzFdIC8qIHVud3JhcCBwcmV2aW91cyBzdGF0aWNzICovLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVN0eWxpbmdLZXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHRlbXBsYXRlU3R5bGluZ0tleSwgdE5vZGUuYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkLCB0ZW1wbGF0ZVN0eWxpbmdLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgbmVlZCB0byByZWNvbXB1dGUgcmVzaWR1YWwgaWYgaXQgaXMgbm90IGBudWxsYC5cbiAgICAgICAgICAgICAgICAvLyAtIElmIGV4aXN0aW5nIHJlc2lkdWFsIChpbXBsaWVzIHRoZXJlIHdhcyBubyB0ZW1wbGF0ZSBzdHlsaW5nKS4gVGhpcyBtZWFucyB0aGF0IHNvbWUgb2ZcbiAgICAgICAgICAgICAgICAvLyAgIHRoZSBzdGF0aWNzIG1heSBoYXZlIG1vdmVkIGZyb20gdGhlIHJlc2lkdWFsIHRvIHRoZSBgc3R5bGluZ0tleWAgYW5kIHNvIHdlIGhhdmUgdG9cbiAgICAgICAgICAgICAgICAvLyAgIHJlY29tcHV0ZS5cbiAgICAgICAgICAgICAgICAvLyAtIElmIGB1bmRlZmluZWRgIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgd2UgYXJlIHJ1bm5pbmcuXG4gICAgICAgICAgICAgICAgcmVzaWR1YWwgPSBjb2xsZWN0UmVzaWR1YWwodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXNpZHVhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzQ2xhc3NCYXNlZCA/ICh0Tm9kZS5yZXNpZHVhbENsYXNzZXMgPSByZXNpZHVhbCkgOiAodE5vZGUucmVzaWR1YWxTdHlsZXMgPSByZXNpZHVhbCk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgYFRTdHlsaW5nS2V5YCBmb3IgdGhlIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24uXG4gKlxuICogVGhpcyBpcyBuZWVkZWQgc2luY2UgYGhvc3RCaW5kaW5nYCBzdHlsaW5nIGluc3RydWN0aW9ucyBhcmUgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIHRlbXBsYXRlXG4gKiBpbnN0cnVjdGlvbi4gV2hpbGUgdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIG5lZWRzIHRvIHVwZGF0ZSB0aGUgcmVzaWR1YWwgaW4gYFROb2RlYCB0aGVcbiAqIGBob3N0QmluZGluZ2AgaW5zdHJ1Y3Rpb25zIG5lZWQgdG8gdXBkYXRlIHRoZSBgVFN0eWxpbmdLZXlgIG9mIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBiZWNhdXNlXG4gKiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gaXMgZG93bnN0cmVhbSBmcm9tIHRoZSBgaG9zdEJpbmRpbmdzYCBpbnN0cnVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEByZXR1cm4gYFRTdHlsaW5nS2V5YCBpZiBmb3VuZCBvciBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGdldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgYmluZGluZ3MgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBpZiAoZ2V0VFN0eWxpbmdSYW5nZU5leHQoYmluZGluZ3MpID09PSAwKSB7XG4gICAgICAgIC8vIFRoZXJlIGRvZXMgbm90IHNlZW0gdG8gYmUgYSBzdHlsaW5nIGluc3RydWN0aW9uIGluIHRoZSBgdGVtcGxhdGVgLlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdERhdGFbZ2V0VFN0eWxpbmdSYW5nZVByZXYoYmluZGluZ3MpXTtcbn1cbi8qKlxuICogVXBkYXRlIHRoZSBgVFN0eWxpbmdLZXlgIG9mIHRoZSBmaXJzdCB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBpbiBgVE5vZGVgLlxuICpcbiAqIExvZ2ljYWxseSBgaG9zdEJpbmRpbmdzYCBzdHlsaW5nIGluc3RydWN0aW9ucyBhcmUgb2YgbG93ZXIgcHJpb3JpdHkgdGhhbiB0aGF0IG9mIHRoZSB0ZW1wbGF0ZS5cbiAqIEhvd2V2ZXIsIHRoZXkgZXhlY3V0ZSBhZnRlciB0aGUgdGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCB0aGV5IGdldCBpbnNlcnRlZFxuICogaW4gZnJvbnQgb2YgdGhlIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIElmIHdlIGhhdmUgYSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9uIGFuZCBhIG5ldyBgaG9zdEJpbmRpbmdzYCBzdHlsaW5nIGluc3RydWN0aW9uIGlzXG4gKiBleGVjdXRlZCBpdCBtZWFucyB0aGF0IGl0IG1heSBuZWVkIHRvIHN0ZWFsIHN0YXRpYyBmaWVsZHMgZnJvbSB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24uIFRoaXNcbiAqIG1ldGhvZCBhbGxvd3MgdXMgdG8gdXBkYXRlIHRoZSBmaXJzdCB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBgVFN0eWxpbmdLZXlgIHdpdGggYSBuZXcgdmFsdWUuXG4gKlxuICogQXNzdW1lOlxuICogYGBgXG4gKiA8ZGl2IG15LWRpciBzdHlsZT1cImNvbG9yOiByZWRcIiBbc3R5bGUuY29sb3JdPVwidG1wbEV4cFwiPjwvZGl2PlxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBob3N0OiB7XG4gKiAgICAgJ3N0eWxlJzogJ3dpZHRoOiAxMDBweCcsXG4gKiAgICAgJ1tzdHlsZS5jb2xvcl0nOiAnZGlyRXhwJyxcbiAqICAgfVxuICogfSlcbiAqIGNsYXNzIE15RGlyIHt9XG4gKiBgYGBcbiAqXG4gKiB3aGVuIGBbc3R5bGUuY29sb3JdPVwidG1wbEV4cFwiYCBleGVjdXRlcyBpdCBjcmVhdGVzIHRoaXMgZGF0YSBzdHJ1Y3R1cmUuXG4gKiBgYGBcbiAqICBbJycsICdjb2xvcicsICdjb2xvcicsICdyZWQnLCAnd2lkdGgnLCAnMTAwcHgnXSxcbiAqIGBgYFxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gZG9lcyBub3Qga25vdyBpZiB0aGVyZSBhcmUgc3R5bGluZ1xuICogaW5zdHJ1Y3Rpb25zIGFuZCBtdXN0IGFzc3VtZSB0aGF0IHRoZXJlIGFyZSBub25lIGFuZCBtdXN0IGNvbGxlY3QgYWxsIG9mIHRoZSBzdGF0aWMgc3R5bGluZy5cbiAqIChib3RoXG4gKiBgY29sb3InIGFuZCAnd2lkdGhgKVxuICpcbiAqIFdoZW4gYCdbc3R5bGUuY29sb3JdJzogJ2RpckV4cCcsYCBleGVjdXRlcyB3ZSBuZWVkIHRvIGluc2VydCBhIG5ldyBkYXRhIGludG8gdGhlIGxpbmtlZCBsaXN0LlxuICogYGBgXG4gKiAgWycnLCAnY29sb3InLCAnd2lkdGgnLCAnMTAwcHgnXSwgIC8vIG5ld2x5IGluc2VydGVkXG4gKiAgWycnLCAnY29sb3InLCAnY29sb3InLCAncmVkJywgJ3dpZHRoJywgJzEwMHB4J10sIC8vIHRoaXMgaXMgd3JvbmdcbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IHRoZSB0ZW1wbGF0ZSBzdGF0aWNzIGlzIG5vdyB3cm9uZyBhcyBpdCBpbmNvcnJlY3RseSBjb250YWlucyBgd2lkdGhgIHNvIHdlIG5lZWQgdG9cbiAqIHVwZGF0ZSBpdCBsaWtlIHNvOlxuICogYGBgXG4gKiAgWycnLCAnY29sb3InLCAnd2lkdGgnLCAnMTAwcHgnXSxcbiAqICBbJycsICdjb2xvcicsICdjb2xvcicsICdyZWQnXSwgICAgLy8gVVBEQVRFXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIHdoaWNoIHRoZSBzdHlsaW5nIGlzIGJlaW5nIGNvbXB1dGVkLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICogQHBhcmFtIHRTdHlsaW5nS2V5IE5ldyBgVFN0eWxpbmdLZXlgIHdoaWNoIGlzIHJlcGxhY2luZyB0aGUgb2xkIG9uZS5cbiAqL1xuZnVuY3Rpb24gc2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQsIHRTdHlsaW5nS2V5KSB7XG4gICAgY29uc3QgYmluZGluZ3MgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoZ2V0VFN0eWxpbmdSYW5nZU5leHQoYmluZGluZ3MpLCAwLCAnRXhwZWN0aW5nIHRvIGhhdmUgYXQgbGVhc3Qgb25lIHRlbXBsYXRlIHN0eWxpbmcgYmluZGluZy4nKTtcbiAgICB0RGF0YVtnZXRUU3R5bGluZ1JhbmdlUHJldihiaW5kaW5ncyldID0gdFN0eWxpbmdLZXk7XG59XG4vKipcbiAqIENvbGxlY3QgYWxsIHN0YXRpYyB2YWx1ZXMgYWZ0ZXIgdGhlIGN1cnJlbnQgYFROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0YCBpbmRleC5cbiAqXG4gKiBDb2xsZWN0IHRoZSByZW1haW5pbmcgc3R5bGluZyBpbmZvcm1hdGlvbiB3aGljaCBoYXMgbm90IHlldCBiZWVuIGNvbGxlY3RlZCBieSBhbiBleGlzdGluZ1xuICogc3R5bGluZyBpbnN0cnVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgYERpcmVjdGl2ZURlZnNgIGFyZSBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGljaCBjb250YWlucyB0aGUgZGlyZWN0aXZlIHJhbmdlLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0UmVzaWR1YWwodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBsZXQgcmVzaWR1YWwgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbCh0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdCwgLTEsICdCeSB0aGUgdGltZSB0aGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIGF0IGxlYXN0IG9uZSBob3N0QmluZGluZ3Mtbm9kZSBzdHlsaW5nIGluc3RydWN0aW9uIG11c3QgaGF2ZSBleGVjdXRlZC4nKTtcbiAgICAvLyBXZSBhZGQgYDEgKyB0Tm9kZS5kaXJlY3RpdmVTdGFydGAgYmVjYXVzZSB3ZSBuZWVkIHRvIHNraXAgdGhlIGN1cnJlbnQgZGlyZWN0aXZlIChhcyB3ZSBhcmVcbiAgICAvLyBjb2xsZWN0aW5nIHRoaW5ncyBhZnRlciB0aGUgbGFzdCBgaG9zdEJpbmRpbmdzYCBkaXJlY3RpdmUgd2hpY2ggaGFkIGEgc3R5bGluZyBpbnN0cnVjdGlvbi4pXG4gICAgZm9yIChsZXQgaSA9IDEgKyB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDsgaSA8IGRpcmVjdGl2ZUVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gdERhdGFbaV0uaG9zdEF0dHJzO1xuICAgICAgICByZXNpZHVhbCA9IGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhyZXNpZHVhbCwgYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMocmVzaWR1YWwsIHROb2RlLmF0dHJzLCBpc0NsYXNzQmFzZWQpO1xufVxuLyoqXG4gKiBDb2xsZWN0IHRoZSBzdGF0aWMgc3R5bGluZyBpbmZvcm1hdGlvbiB3aXRoIGxvd2VyIHByaW9yaXR5IHRoYW4gYGhvc3REaXJlY3RpdmVEZWZgLlxuICpcbiAqIChUaGlzIGlzIG9wcG9zaXRlIG9mIHJlc2lkdWFsIHN0eWxpbmcuKVxuICpcbiAqIEBwYXJhbSBob3N0RGlyZWN0aXZlRGVmIGBEaXJlY3RpdmVEZWZgIGZvciB3aGljaCB3ZSB3YW50IHRvIGNvbGxlY3QgbG93ZXIgcHJpb3JpdHkgc3RhdGljXG4gKiAgICAgICAgc3R5bGluZy4gKE9yIGBudWxsYCBpZiB0ZW1wbGF0ZSBzdHlsaW5nKVxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBzdHlsaW5nS2V5IEV4aXN0aW5nIGBUU3R5bGluZ0tleWAgdG8gdXBkYXRlIG9yIHdyYXAuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMoaG9zdERpcmVjdGl2ZURlZiwgdERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGxvb3AgYmVjYXVzZSB0aGVyZSBjYW4gYmUgZGlyZWN0aXZlcyB3aGljaCBoYXZlIGBob3N0QXR0cnNgIGJ1dCBkb24ndCBoYXZlXG4gICAgLy8gYGhvc3RCaW5kaW5nc2Agc28gdGhpcyBsb29wIGNhdGNoZXMgdXAgdG8gdGhlIGN1cnJlbnQgZGlyZWN0aXZlLi5cbiAgICBsZXQgY3VycmVudERpcmVjdGl2ZSA9IG51bGw7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGxldCBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9IHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgIGlmIChkaXJlY3RpdmVTdHlsaW5nTGFzdCA9PT0gLTEpIHtcbiAgICAgICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0Kys7XG4gICAgfVxuICAgIHdoaWxlIChkaXJlY3RpdmVTdHlsaW5nTGFzdCA8IGRpcmVjdGl2ZUVuZCkge1xuICAgICAgICBjdXJyZW50RGlyZWN0aXZlID0gdERhdGFbZGlyZWN0aXZlU3R5bGluZ0xhc3RdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjdXJyZW50RGlyZWN0aXZlLCAnZXhwZWN0ZWQgdG8gYmUgZGVmaW5lZCcpO1xuICAgICAgICBzdHlsaW5nS2V5ID0gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHN0eWxpbmdLZXksIGN1cnJlbnREaXJlY3RpdmUuaG9zdEF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICBpZiAoY3VycmVudERpcmVjdGl2ZSA9PT0gaG9zdERpcmVjdGl2ZURlZilcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCsrO1xuICAgIH1cbiAgICBpZiAoaG9zdERpcmVjdGl2ZURlZiAhPT0gbnVsbCkge1xuICAgICAgICAvLyB3ZSBvbmx5IGFkdmFuY2UgdGhlIHN0eWxpbmcgY3Vyc29yIGlmIHdlIGFyZSBjb2xsZWN0aW5nIGRhdGEgZnJvbSBob3N0IGJpbmRpbmdzLlxuICAgICAgICAvLyBUZW1wbGF0ZSBleGVjdXRlcyBiZWZvcmUgaG9zdCBiaW5kaW5ncyBhbmQgc28gaWYgd2Ugd291bGQgdXBkYXRlIHRoZSBpbmRleCxcbiAgICAgICAgLy8gaG9zdCBiaW5kaW5ncyB3b3VsZCBub3QgZ2V0IHRoZWlyIHN0YXRpY3MuXG4gICAgICAgIHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gZGlyZWN0aXZlU3R5bGluZ0xhc3Q7XG4gICAgfVxuICAgIHJldHVybiBzdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBDb252ZXJ0IGBUQXR0cnNgIGludG8gYFRTdHlsaW5nU3RhdGljYC5cbiAqXG4gKiBAcGFyYW0gc3R5bGluZ0tleSBleGlzdGluZyBgVFN0eWxpbmdLZXlgIHRvIHVwZGF0ZSBvciB3cmFwLlxuICogQHBhcmFtIGF0dHJzIGBUQXR0cmlidXRlc2AgdG8gcHJvY2Vzcy5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHN0eWxpbmdLZXksIGF0dHJzLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCBkZXNpcmVkTWFya2VyID0gaXNDbGFzc0Jhc2VkID8gMSAvKiBDbGFzc2VzICovIDogMiAvKiBTdHlsZXMgKi87XG4gICAgbGV0IGN1cnJlbnRNYXJrZXIgPSAtMSAvKiBJbXBsaWNpdEF0dHJpYnV0ZXMgKi87XG4gICAgaWYgKGF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TWFya2VyID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TWFya2VyID09PSBkZXNpcmVkTWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsaW5nS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGluZ0tleSA9IHN0eWxpbmdLZXkgPT09IHVuZGVmaW5lZCA/IFtdIDogWycnLCBzdHlsaW5nS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KHN0eWxpbmdLZXksIGl0ZW0sIGlzQ2xhc3NCYXNlZCA/IHRydWUgOiBhdHRyc1srK2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxpbmdLZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBzdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBDb252ZXJ0IHVzZXIgaW5wdXQgdG8gYEtleVZhbHVlQXJyYXlgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgdXNlciBpbnB1dCB3aGljaCBjb3VsZCBiZSBgc3RyaW5nYCwgT2JqZWN0IGxpdGVyYWwsIG9yIGl0ZXJhYmxlIGFuZCBjb252ZXJ0c1xuICogaXQgaW50byBhIGNvbnNpc3RlbnQgcmVwcmVzZW50YXRpb24uIFRoZSBvdXRwdXQgb2YgdGhpcyBpcyBgS2V5VmFsdWVBcnJheWAgKHdoaWNoIGlzIGFuIGFycmF5XG4gKiB3aGVyZVxuICogZXZlbiBpbmRleGVzIGNvbnRhaW4ga2V5cyBhbmQgb2RkIGluZGV4ZXMgY29udGFpbiB2YWx1ZXMgZm9yIHRob3NlIGtleXMpLlxuICpcbiAqIFRoZSBhZHZhbnRhZ2Ugb2YgY29udmVydGluZyB0byBgS2V5VmFsdWVBcnJheWAgaXMgdGhhdCB3ZSBjYW4gcGVyZm9ybSBkaWZmIGluIGFuIGlucHV0XG4gKiBpbmRlcGVuZGVudFxuICogd2F5LlxuICogKGllIHdlIGNhbiBjb21wYXJlIGBmb28gYmFyYCB0byBgWydiYXInLCAnYmF6J10gYW5kIGRldGVybWluZSBhIHNldCBvZiBjaGFuZ2VzIHdoaWNoIG5lZWQgdG8gYmVcbiAqIGFwcGxpZWQpXG4gKlxuICogVGhlIGZhY3QgdGhhdCBgS2V5VmFsdWVBcnJheWAgaXMgc29ydGVkIGlzIHZlcnkgaW1wb3J0YW50IGJlY2F1c2UgaXQgYWxsb3dzIHVzIHRvIGNvbXB1dGUgdGhlXG4gKiBkaWZmZXJlbmNlIGluIGxpbmVhciBmYXNoaW9uIHdpdGhvdXQgdGhlIG5lZWQgdG8gYWxsb2NhdGUgYW55IGFkZGl0aW9uYWwgZGF0YS5cbiAqXG4gKiBGb3IgZXhhbXBsZSBpZiB3ZSBrZXB0IHRoaXMgYXMgYSBgTWFwYCB3ZSB3b3VsZCBoYXZlIHRvIGl0ZXJhdGUgb3ZlciBwcmV2aW91cyBgTWFwYCB0byBkZXRlcm1pbmVcbiAqIHdoaWNoIHZhbHVlcyBuZWVkIHRvIGJlIGRlbGV0ZWQsIG92ZXIgdGhlIG5ldyBgTWFwYCB0byBkZXRlcm1pbmUgYWRkaXRpb25zLCBhbmQgd2Ugd291bGQgaGF2ZSB0b1xuICoga2VlcCBhZGRpdGlvbmFsIGBNYXBgIHRvIGtlZXAgdHJhY2sgb2YgZHVwbGljYXRlcyBvciBpdGVtcyB3aGljaCBoYXZlIG5vdCB5ZXQgYmVlbiB2aXNpdGVkLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5U2V0IChTZWUgYGtleVZhbHVlQXJyYXlTZXRgIGluIFwidXRpbC9hcnJheV91dGlsc1wiKSBHZXRzIHBhc3NlZCBpbiBhcyBhXG4gKiAgICAgICAgZnVuY3Rpb24gc28gdGhhdCBgc3R5bGVgIGNhbiBiZSBwcm9jZXNzZWQuIFRoaXMgaXMgZG9uZVxuICogICAgICAgIGZvciB0cmVlIHNoYWtpbmcgcHVycG9zZXMuXG4gKiBAcGFyYW0gc3RyaW5nUGFyc2VyIFRoZSBwYXJzZXIgaXMgcGFzc2VkIGluIHNvIHRoYXQgaXQgd2lsbCBiZSB0cmVlIHNoYWthYmxlLiBTZWVcbiAqICAgICAgICBgc3R5bGVTdHJpbmdQYXJzZXJgIGFuZCBgY2xhc3NTdHJpbmdQYXJzZXJgXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhcnNlL2NvbnZlcnQgdG8gYEtleVZhbHVlQXJyYXlgXG4gKi9cbmZ1bmN0aW9uIHRvU3R5bGluZ0tleVZhbHVlQXJyYXkoa2V5VmFsdWVBcnJheVNldCwgc3RyaW5nUGFyc2VyLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIC8qfHwgdmFsdWUgPT09IHVuZGVmaW5lZCAqLyB8fCB2YWx1ZSA9PT0gJycpXG4gICAgICAgIHJldHVybiBFTVBUWV9BUlJBWTtcbiAgICBjb25zdCBzdHlsZUtleVZhbHVlQXJyYXkgPSBbXTtcbiAgICBjb25zdCB1bndyYXBwZWRWYWx1ZSA9IHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodW53cmFwcGVkVmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW53cmFwcGVkVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleVZhbHVlQXJyYXlTZXQoc3R5bGVLZXlWYWx1ZUFycmF5LCB1bndyYXBwZWRWYWx1ZVtpXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHVud3JhcHBlZFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB1bndyYXBwZWRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHVud3JhcHBlZFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KHN0eWxlS2V5VmFsdWVBcnJheSwga2V5LCB1bndyYXBwZWRWYWx1ZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdW53cmFwcGVkVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0cmluZ1BhcnNlcihzdHlsZUtleVZhbHVlQXJyYXksIHVud3JhcHBlZFZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgdGhyb3dFcnJvcignVW5zdXBwb3J0ZWQgc3R5bGluZyB0eXBlICcgKyB0eXBlb2YgdW53cmFwcGVkVmFsdWUgKyAnOiAnICsgdW53cmFwcGVkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGVLZXlWYWx1ZUFycmF5O1xufVxuLyoqXG4gKiBTZXQgYSBgdmFsdWVgIGZvciBhIGBrZXlgLlxuICpcbiAqIFNlZTogYGtleVZhbHVlQXJyYXlTZXRgIGZvciBkZXRhaWxzXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgS2V5VmFsdWVBcnJheSB0byBhZGQgdG8uXG4gKiBAcGFyYW0ga2V5IFN0eWxlIGtleSB0byBhZGQuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc3R5bGVLZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdmFsdWUpIHtcbiAgICBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdW53cmFwU2FmZVZhbHVlKHZhbHVlKSk7XG59XG4vKipcbiAqIFVwZGF0ZSBtYXAgYmFzZWQgc3R5bGluZy5cbiAqXG4gKiBNYXAgYmFzZWQgc3R5bGluZyBjb3VsZCBiZSBhbnl0aGluZyB3aGljaCBjb250YWlucyBtb3JlIHRoYW4gb25lIGJpbmRpbmcuIEZvciBleGFtcGxlIGBzdHJpbmdgLFxuICogb3Igb2JqZWN0IGxpdGVyYWwuIERlYWxpbmcgd2l0aCBhbGwgb2YgdGhlc2UgdHlwZXMgd291bGQgY29tcGxpY2F0ZSB0aGUgbG9naWMgc29cbiAqIGluc3RlYWQgdGhpcyBmdW5jdGlvbiBleHBlY3RzIHRoYXQgdGhlIGNvbXBsZXggaW5wdXQgaXMgZmlyc3QgY29udmVydGVkIGludG8gbm9ybWFsaXplZFxuICogYEtleVZhbHVlQXJyYXlgLiBUaGUgYWR2YW50YWdlIG9mIG5vcm1hbGl6YXRpb24gaXMgdGhhdCB3ZSBnZXQgdGhlIHZhbHVlcyBzb3J0ZWQsIHdoaWNoIG1ha2VzIGl0XG4gKiB2ZXJ5IGNoZWFwIHRvIGNvbXB1dGUgZGVsdGFzIGJldHdlZW4gdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBBc3NvY2lhdGVkIGBUVmlldy5kYXRhYCBjb250YWlucyB0aGUgbGlua2VkIGxpc3Qgb2YgYmluZGluZyBwcmlvcml0aWVzLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hlcmUgdGhlIGJpbmRpbmcgaXMgbG9jYXRlZC5cbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGNvbnRhaW5zIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIG90aGVyIHN0eWxpbmcgYmluZGluZyBhdCB0aGlzIGBUTm9kZWAuXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlIGlmIGFueSB1cGRhdGVzLlxuICogQHBhcmFtIG9sZEtleVZhbHVlQXJyYXkgUHJldmlvdXMgdmFsdWUgcmVwcmVzZW50ZWQgYXMgYEtleVZhbHVlQXJyYXlgXG4gKiBAcGFyYW0gbmV3S2V5VmFsdWVBcnJheSBDdXJyZW50IHZhbHVlIHJlcHJlc2VudGVkIGFzIGBLZXlWYWx1ZUFycmF5YFxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICogQHBhcmFtIGJpbmRpbmdJbmRleCBCaW5kaW5nIGluZGV4IG9mIHRoZSBiaW5kaW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdHlsaW5nTWFwKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHJlbmRlcmVyLCBvbGRLZXlWYWx1ZUFycmF5LCBuZXdLZXlWYWx1ZUFycmF5LCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCkge1xuICAgIGlmIChvbGRLZXlWYWx1ZUFycmF5ID09PSBOT19DSEFOR0UpIHtcbiAgICAgICAgLy8gT24gZmlyc3QgZXhlY3V0aW9uIHRoZSBvbGRLZXlWYWx1ZUFycmF5IGlzIE5PX0NIQU5HRSA9PiB0cmVhdCBpdCBhcyBlbXB0eSBLZXlWYWx1ZUFycmF5LlxuICAgICAgICBvbGRLZXlWYWx1ZUFycmF5ID0gRU1QVFlfQVJSQVk7XG4gICAgfVxuICAgIGxldCBvbGRJbmRleCA9IDA7XG4gICAgbGV0IG5ld0luZGV4ID0gMDtcbiAgICBsZXQgb2xkS2V5ID0gMCA8IG9sZEtleVZhbHVlQXJyYXkubGVuZ3RoID8gb2xkS2V5VmFsdWVBcnJheVswXSA6IG51bGw7XG4gICAgbGV0IG5ld0tleSA9IDAgPCBuZXdLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG5ld0tleVZhbHVlQXJyYXlbMF0gOiBudWxsO1xuICAgIHdoaWxlIChvbGRLZXkgIT09IG51bGwgfHwgbmV3S2V5ICE9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbihvbGRJbmRleCwgOTk5LCAnQXJlIHdlIHN0dWNrIGluIGluZmluaXRlIGxvb3A/Jyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbihuZXdJbmRleCwgOTk5LCAnQXJlIHdlIHN0dWNrIGluIGluZmluaXRlIGxvb3A/Jyk7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gb2xkSW5kZXggPCBvbGRLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG9sZEtleVZhbHVlQXJyYXlbb2xkSW5kZXggKyAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdJbmRleCA8IG5ld0tleVZhbHVlQXJyYXkubGVuZ3RoID8gbmV3S2V5VmFsdWVBcnJheVtuZXdJbmRleCArIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgc2V0S2V5ID0gbnVsbDtcbiAgICAgICAgbGV0IHNldFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAob2xkS2V5ID09PSBuZXdLZXkpIHtcbiAgICAgICAgICAgIC8vIFVQREFURTogS2V5cyBhcmUgZXF1YWwgPT4gbmV3IHZhbHVlIGlzIG92ZXJ3cml0aW5nIG9sZCB2YWx1ZS5cbiAgICAgICAgICAgIG9sZEluZGV4ICs9IDI7XG4gICAgICAgICAgICBuZXdJbmRleCArPSAyO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldEtleSA9IG5ld0tleTtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0tleSA9PT0gbnVsbCB8fCBvbGRLZXkgIT09IG51bGwgJiYgb2xkS2V5IDwgbmV3S2V5KSB7XG4gICAgICAgICAgICAvLyBERUxFVEU6IG9sZEtleSBrZXkgaXMgbWlzc2luZyBvciB3ZSBkaWQgbm90IGZpbmQgdGhlIG9sZEtleSBpbiB0aGUgbmV3VmFsdWVcbiAgICAgICAgICAgIC8vIChiZWNhdXNlIHRoZSBrZXlWYWx1ZUFycmF5IGlzIHNvcnRlZCBhbmQgYG5ld0tleWAgaXMgZm91bmQgbGF0ZXIgYWxwaGFiZXRpY2FsbHkpLlxuICAgICAgICAgICAgLy8gYFwiYmFja2dyb3VuZFwiIDwgXCJjb2xvclwiYCBzbyB3ZSBuZWVkIHRvIGRlbGV0ZSBgXCJiYWNrZ3JvdW5kXCJgIGJlY2F1c2UgaXQgaXMgbm90IGZvdW5kIGluIHRoZVxuICAgICAgICAgICAgLy8gbmV3IGFycmF5LlxuICAgICAgICAgICAgb2xkSW5kZXggKz0gMjtcbiAgICAgICAgICAgIHNldEtleSA9IG9sZEtleTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENSRUFURTogbmV3S2V5J3MgaXMgZWFybGllciBhbHBoYWJldGljYWxseSB0aGFuIG9sZEtleSdzIChvciBubyBvbGRLZXkpID0+IHdlIGhhdmUgbmV3IGtleS5cbiAgICAgICAgICAgIC8vIGBcImNvbG9yXCIgPiBcImJhY2tncm91bmRcImAgc28gd2UgbmVlZCB0byBhZGQgYGNvbG9yYCBiZWNhdXNlIGl0IGlzIGluIG5ldyBhcnJheSBidXQgbm90IGluXG4gICAgICAgICAgICAvLyBvbGQgYXJyYXkuXG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChuZXdLZXksICdFeHBlY3RpbmcgdG8gaGF2ZSBhIHZhbGlkIGtleScpO1xuICAgICAgICAgICAgbmV3SW5kZXggKz0gMjtcbiAgICAgICAgICAgIHNldEtleSA9IG5ld0tleTtcbiAgICAgICAgICAgIHNldFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldEtleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdXBkYXRlU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCByZW5kZXJlciwgc2V0S2V5LCBzZXRWYWx1ZSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIG9sZEtleSA9IG9sZEluZGV4IDwgb2xkS2V5VmFsdWVBcnJheS5sZW5ndGggPyBvbGRLZXlWYWx1ZUFycmF5W29sZEluZGV4XSA6IG51bGw7XG4gICAgICAgIG5ld0tleSA9IG5ld0luZGV4IDwgbmV3S2V5VmFsdWVBcnJheS5sZW5ndGggPyBuZXdLZXlWYWx1ZUFycmF5W25ld0luZGV4XSA6IG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGUgYSBzaW1wbGUgKHByb3BlcnR5IG5hbWUpIHN0eWxpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBgcHJvcGAgYW5kIHVwZGF0ZXMgdGhlIERPTSB0byB0aGF0IHZhbHVlLiBUaGUgZnVuY3Rpb24gdGFrZXMgdGhlIGJpbmRpbmdcbiAqIHZhbHVlIGFzIHdlbGwgYXMgYmluZGluZyBwcmlvcml0eSBpbnRvIGNvbnNpZGVyYXRpb24gdG8gZGV0ZXJtaW5lIHdoaWNoIHZhbHVlIHNob3VsZCBiZSB3cml0dGVuXG4gKiB0byBET00uIChGb3IgZXhhbXBsZSBpdCBtYXkgYmUgZGV0ZXJtaW5lZCB0aGF0IHRoZXJlIGlzIGEgaGlnaGVyIHByaW9yaXR5IG92ZXJ3cml0ZSB3aGljaCBibG9ja3NcbiAqIHRoZSBET00gd3JpdGUsIG9yIGlmIHRoZSB2YWx1ZSBnb2VzIHRvIGB1bmRlZmluZWRgIGEgbG93ZXIgcHJpb3JpdHkgb3ZlcndyaXRlIG1heSBiZSBjb25zdWx0ZWQuKVxuICpcbiAqIEBwYXJhbSB0VmlldyBBc3NvY2lhdGVkIGBUVmlldy5kYXRhYCBjb250YWlucyB0aGUgbGlua2VkIGxpc3Qgb2YgYmluZGluZyBwcmlvcml0aWVzLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hlcmUgdGhlIGJpbmRpbmcgaXMgbG9jYXRlZC5cbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGNvbnRhaW5zIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIG90aGVyIHN0eWxpbmcgYmluZGluZyBhdCB0aGlzIGBUTm9kZWAuXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlIGlmIGFueSB1cGRhdGVzLlxuICogQHBhcmFtIHByb3AgRWl0aGVyIHN0eWxlIHByb3BlcnR5IG5hbWUgb3IgYSBjbGFzcyBuYW1lLlxuICogQHBhcmFtIHZhbHVlIEVpdGhlciBzdHlsZSB2YWx1ZSBmb3IgYHByb3BgIG9yIGB0cnVlYC9gZmFsc2VgIGlmIGBwcm9wYCBpcyBjbGFzcy5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggQmluZGluZyBpbmRleCBvZiB0aGUgYmluZGluZy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCByZW5kZXJlciwgcHJvcCwgdmFsdWUsIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KSB7XG4gICAgaWYgKCEodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pKSB7XG4gICAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgc3R5bGluZyBvbiBub24tZWxlbWVudHMgKHN1Y2ggYXMgbmctY29udGFpbmVyKS5cbiAgICAgICAgLy8gVGhpcyBpcyByYXJlLCBidXQgaXQgZG9lcyBoYXBwZW4uIEluIHN1Y2ggYSBjYXNlLCBqdXN0IGlnbm9yZSB0aGUgYmluZGluZy5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgY29uc3QgdFJhbmdlID0gdERhdGFbYmluZGluZ0luZGV4ICsgMV07XG4gICAgY29uc3QgaGlnaGVyUHJpb3JpdHlWYWx1ZSA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRSYW5nZSkgP1xuICAgICAgICBmaW5kU3R5bGluZ1ZhbHVlKHREYXRhLCB0Tm9kZSwgbFZpZXcsIHByb3AsIGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRSYW5nZSksIGlzQ2xhc3NCYXNlZCkgOlxuICAgICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKCFpc1N0eWxpbmdWYWx1ZVByZXNlbnQoaGlnaGVyUHJpb3JpdHlWYWx1ZSkpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSBhIG5leHQgZHVwbGljYXRlLCBvciB3ZSBkaWQgbm90IGZpbmQgYSBkdXBsaWNhdGUgdmFsdWUuXG4gICAgICAgIGlmICghaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIGRlbGV0ZSBjdXJyZW50IHZhbHVlIG9yIHJlc3RvcmUgdG8gbG93ZXIgcHJpb3JpdHkgdmFsdWUuXG4gICAgICAgICAgICBpZiAoZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFJhbmdlKSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBwb3NzaWJsZSBwcmV2IGR1cGxpY2F0ZSwgbGV0J3MgcmV0cmlldmUgaXQuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmaW5kU3R5bGluZ1ZhbHVlKHREYXRhLCBudWxsLCBsVmlldywgcHJvcCwgYmluZGluZ0luZGV4LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJOb2RlID0gZ2V0TmF0aXZlQnlJbmRleChnZXRTZWxlY3RlZEluZGV4KCksIGxWaWV3KTtcbiAgICAgICAgYXBwbHlTdHlsaW5nKHJlbmRlcmVyLCBpc0NsYXNzQmFzZWQsIHJOb2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2ggZm9yIHN0eWxpbmcgdmFsdWUgd2l0aCBoaWdoZXIgcHJpb3JpdHkgd2hpY2ggaXMgb3ZlcndyaXRpbmcgY3VycmVudCB2YWx1ZSwgb3IgYVxuICogdmFsdWUgb2YgbG93ZXIgcHJpb3JpdHkgdG8gd2hpY2ggd2Ugc2hvdWxkIGZhbGwgYmFjayBpZiB0aGUgdmFsdWUgaXMgYHVuZGVmaW5lZGAuXG4gKlxuICogV2hlbiB2YWx1ZSBpcyBiZWluZyBhcHBsaWVkIGF0IGEgbG9jYXRpb24sIHJlbGF0ZWQgdmFsdWVzIG5lZWQgdG8gYmUgY29uc3VsdGVkLlxuICogLSBJZiB0aGVyZSBpcyBhIGhpZ2hlciBwcmlvcml0eSBiaW5kaW5nLCB3ZSBzaG91bGQgYmUgdXNpbmcgdGhhdCBvbmUgaW5zdGVhZC5cbiAqICAgRm9yIGV4YW1wbGUgYDxkaXYgIFtzdHlsZV09XCJ7Y29sb3I6ZXhwMX1cIiBbc3R5bGUuY29sb3JdPVwiZXhwMlwiPmAgY2hhbmdlIHRvIGBleHAxYFxuICogICByZXF1aXJlcyB0aGF0IHdlIGNoZWNrIGBleHAyYCB0byBzZWUgaWYgaXQgaXMgc2V0IHRvIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gKiAtIElmIHRoZXJlIGlzIGEgbG93ZXIgcHJpb3JpdHkgYmluZGluZyBhbmQgd2UgYXJlIGNoYW5naW5nIHRvIGB1bmRlZmluZWRgXG4gKiAgIEZvciBleGFtcGxlIGA8ZGl2ICBbc3R5bGVdPVwie2NvbG9yOmV4cDF9XCIgW3N0eWxlLmNvbG9yXT1cImV4cDJcIj5gIGNoYW5nZSB0byBgZXhwMmAgdG9cbiAqICAgYHVuZGVmaW5lZGAgcmVxdWlyZXMgdGhhdCB3ZSBjaGVjayBgZXhwMWAgKGFuZCBzdGF0aWMgdmFsdWVzKSBhbmQgdXNlIHRoYXQgYXMgbmV3IHZhbHVlLlxuICpcbiAqIE5PVEU6IFRoZSBzdHlsaW5nIHN0b3JlcyB0d28gdmFsdWVzLlxuICogMS4gVGhlIHJhdyB2YWx1ZSB3aGljaCBjYW1lIGZyb20gdGhlIGFwcGxpY2F0aW9uIGlzIHN0b3JlZCBhdCBgaW5kZXggKyAwYCBsb2NhdGlvbi4gKFRoaXMgdmFsdWVcbiAqICAgIGlzIHVzZWQgZm9yIGRpcnR5IGNoZWNraW5nKS5cbiAqIDIuIFRoZSBub3JtYWxpemVkIHZhbHVlIGlzIHN0b3JlZCBhdCBgaW5kZXggKyAxYC5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB1c2VkIGZvciB0cmF2ZXJzaW5nIHRoZSBwcmlvcml0eS5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHRvIHVzZSBmb3IgcmVzb2x2aW5nIHN0YXRpYyBzdHlsaW5nLiBBbHNvIGNvbnRyb2xzIHNlYXJjaCBkaXJlY3Rpb24uXG4gKiAgIC0gYFROb2RlYCBzZWFyY2ggbmV4dCBhbmQgcXVpdCBhcyBzb29uIGFzIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICogICAgICBJZiBubyB2YWx1ZSBmb3VuZCBjb25zdWx0IGB0Tm9kZS5yZXNpZHVhbFN0eWxlYC9gdE5vZGUucmVzaWR1YWxDbGFzc2AgZm9yIGRlZmF1bHQgdmFsdWUuXG4gKiAgIC0gYG51bGxgIHNlYXJjaCBwcmV2IGFuZCBnbyBhbGwgdGhlIHdheSB0byBlbmQuIFJldHVybiBsYXN0IHZhbHVlIHdoZXJlXG4gKiAgICAgYGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSlgIGlzIHRydWUuXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCB1c2VkIGZvciByZXRyaWV2aW5nIHRoZSBhY3R1YWwgdmFsdWVzLlxuICogQHBhcmFtIHByb3AgUHJvcGVydHkgd2hpY2ggd2UgYXJlIGludGVyZXN0ZWQgaW4uXG4gKiBAcGFyYW0gaW5kZXggU3RhcnRpbmcgaW5kZXggaW4gdGhlIGxpbmtlZCBsaXN0IG9mIHN0eWxpbmcgYmluZGluZ3Mgd2hlcmUgdGhlIHNlYXJjaCBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGZpbmRTdHlsaW5nVmFsdWUodERhdGEsIHROb2RlLCBsVmlldywgcHJvcCwgaW5kZXgsIGlzQ2xhc3NCYXNlZCkge1xuICAgIC8vIGBUTm9kZWAgdG8gdXNlIGZvciByZXNvbHZpbmcgc3RhdGljIHN0eWxpbmcuIEFsc28gY29udHJvbHMgc2VhcmNoIGRpcmVjdGlvbi5cbiAgICAvLyAgIC0gYFROb2RlYCBzZWFyY2ggbmV4dCBhbmQgcXVpdCBhcyBzb29uIGFzIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICAgIC8vICAgICAgSWYgbm8gdmFsdWUgZm91bmQgY29uc3VsdCBgdE5vZGUucmVzaWR1YWxTdHlsZWAvYHROb2RlLnJlc2lkdWFsQ2xhc3NgIGZvciBkZWZhdWx0IHZhbHVlLlxuICAgIC8vICAgLSBgbnVsbGAgc2VhcmNoIHByZXYgYW5kIGdvIGFsbCB0aGUgd2F5IHRvIGVuZC4gUmV0dXJuIGxhc3QgdmFsdWUgd2hlcmVcbiAgICAvLyAgICAgYGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSlgIGlzIHRydWUuXG4gICAgY29uc3QgaXNQcmV2RGlyZWN0aW9uID0gdE5vZGUgPT09IG51bGw7XG4gICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHdoaWxlIChpbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgcmF3S2V5ID0gdERhdGFbaW5kZXhdO1xuICAgICAgICBjb25zdCBjb250YWluc1N0YXRpY3MgPSBBcnJheS5pc0FycmF5KHJhd0tleSk7XG4gICAgICAgIC8vIFVud3JhcCB0aGUga2V5IGlmIHdlIGNvbnRhaW4gc3RhdGljIHZhbHVlcy5cbiAgICAgICAgY29uc3Qga2V5ID0gY29udGFpbnNTdGF0aWNzID8gcmF3S2V5WzFdIDogcmF3S2V5O1xuICAgICAgICBjb25zdCBpc1N0eWxpbmdNYXAgPSBrZXkgPT09IG51bGw7XG4gICAgICAgIGxldCB2YWx1ZUF0TFZpZXdJbmRleCA9IGxWaWV3W2luZGV4ICsgMV07XG4gICAgICAgIGlmICh2YWx1ZUF0TFZpZXdJbmRleCA9PT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgICAgICAvLyBJbiBmaXJzdFVwZGF0ZVBhc3MgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zIGNyZWF0ZSBhIGxpbmtlZCBsaXN0IG9mIHN0eWxpbmcuXG4gICAgICAgICAgICAvLyBPbiBzdWJzZXF1ZW50IHBhc3NlcyBpdCBpcyBwb3NzaWJsZSBmb3IgYSBzdHlsaW5nIGluc3RydWN0aW9uIHRvIHRyeSB0byByZWFkIGEgYmluZGluZ1xuICAgICAgICAgICAgLy8gd2hpY2hcbiAgICAgICAgICAgIC8vIGhhcyBub3QgeWV0IGV4ZWN1dGVkLiBJbiB0aGF0IGNhc2Ugd2Ugd2lsbCBmaW5kIGBOT19DSEFOR0VgIGFuZCB3ZSBzaG91bGQgYXNzdW1lIHRoYXRcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYHVuZGVmaW5lZGAgKG9yIGVtcHR5IGFycmF5IGluIGNhc2Ugb2Ygc3R5bGluZy1tYXAgaW5zdHJ1Y3Rpb24pIGluc3RlYWQuIFRoaXNcbiAgICAgICAgICAgIC8vIGFsbG93cyB0aGUgcmVzb2x1dGlvbiB0byBhcHBseSB0aGUgdmFsdWUgKHdoaWNoIG1heSBsYXRlciBiZSBvdmVyd3JpdHRlbiB3aGVuIHRoZVxuICAgICAgICAgICAgLy8gYmluZGluZyBhY3R1YWxseSBleGVjdXRlcy4pXG4gICAgICAgICAgICB2YWx1ZUF0TFZpZXdJbmRleCA9IGlzU3R5bGluZ01hcCA/IEVNUFRZX0FSUkFZIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBpc1N0eWxpbmdNYXAgPyBrZXlWYWx1ZUFycmF5R2V0KHZhbHVlQXRMVmlld0luZGV4LCBwcm9wKSA6XG4gICAgICAgICAgICBrZXkgPT09IHByb3AgPyB2YWx1ZUF0TFZpZXdJbmRleCA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGNvbnRhaW5zU3RhdGljcyAmJiAhaXNTdHlsaW5nVmFsdWVQcmVzZW50KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IGtleVZhbHVlQXJyYXlHZXQocmF3S2V5LCBwcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHlsaW5nVmFsdWVQcmVzZW50KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgaWYgKGlzUHJldkRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0UmFuZ2UgPSB0RGF0YVtpbmRleCArIDFdO1xuICAgICAgICBpbmRleCA9IGlzUHJldkRpcmVjdGlvbiA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRSYW5nZSkgOiBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0UmFuZ2UpO1xuICAgIH1cbiAgICBpZiAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gaW4gY2FzZSB3aGVyZSB3ZSBhcmUgZ29pbmcgaW4gbmV4dCBkaXJlY3Rpb24gQU5EIHdlIGRpZCBub3QgZmluZCBhbnl0aGluZywgd2UgbmVlZCB0b1xuICAgICAgICAvLyBjb25zdWx0IHJlc2lkdWFsIHN0eWxpbmdcbiAgICAgICAgbGV0IHJlc2lkdWFsID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXM7XG4gICAgICAgIGlmIChyZXNpZHVhbCAhPSBudWxsIC8qKiBPUiByZXNpZHVhbCAhPT09IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXlWYWx1ZUFycmF5R2V0KHJlc2lkdWFsLCBwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGJpbmRpbmcgdmFsdWUgc2hvdWxkIGJlIHVzZWQgKG9yIGlmIHRoZSB2YWx1ZSBpcyAndW5kZWZpbmVkJyBhbmQgaGVuY2UgcHJpb3JpdHlcbiAqIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWQuKVxuICpcbiAqIEBwYXJhbSB2YWx1ZSBCaW5kaW5nIHN0eWxlIHZhbHVlLlxuICovXG5mdW5jdGlvbiBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpIHtcbiAgICAvLyBDdXJyZW50bHkgb25seSBgdW5kZWZpbmVkYCB2YWx1ZSBpcyBjb25zaWRlcmVkIG5vbi1iaW5kaW5nLiBUaGF0IGlzIGB1bmRlZmluZWRgIHNheXMgSSBkb24ndFxuICAgIC8vIGhhdmUgYW4gb3BpbmlvbiBhcyB0byB3aGF0IHRoaXMgYmluZGluZyBzaG91bGQgYmUgYW5kIHlvdSBzaG91bGQgY29uc3VsdCBvdGhlciBiaW5kaW5ncyBieVxuICAgIC8vIHByaW9yaXR5IHRvIGRldGVybWluZSB0aGUgdmFsaWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBleHRyYWN0ZWQgaW50byBhIHNpbmdsZSBmdW5jdGlvbiBzbyB0aGF0IHdlIGhhdmUgYSBzaW5nbGUgcGxhY2UgdG8gY29udHJvbCB0aGlzLlxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBOb3JtYWxpemVzIGFuZC9vciBhZGRzIGEgc3VmZml4IHRvIHRoZSB2YWx1ZS5cbiAqXG4gKiBJZiB2YWx1ZSBpcyBgbnVsbGAvYHVuZGVmaW5lZGAgbm8gc3VmZml4IGlzIGFkZGVkXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBzdWZmaXhcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU3VmZml4KHZhbHVlLCBzdWZmaXgpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAvKiogfHwgdmFsdWUgPT09IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzdWZmaXggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFsdWUgPSBzdHJpbmdpZnkodW53cmFwU2FmZVZhbHVlKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogVGVzdHMgaWYgdGhlIGBUTm9kZWAgaGFzIGlucHV0IHNoYWRvdy5cbiAqXG4gKiBBbiBpbnB1dCBzaGFkb3cgaXMgd2hlbiBhIGRpcmVjdGl2ZSBzdGVhbHMgKHNoYWRvd3MpIHRoZSBpbnB1dCBieSB1c2luZyBgQElucHV0KCdzdHlsZScpYCBvclxuICogYEBJbnB1dCgnY2xhc3MnKWAgYXMgaW5wdXQuXG4gKlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBzZWUgaWYgaXQgaGFzIHNoYWRvdy5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gaGFzU3R5bGluZ0lucHV0U2hhZG93KHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgKGlzQ2xhc3NCYXNlZCA/IDE2IC8qIGhhc0NsYXNzSW5wdXQgKi8gOiAzMiAvKiBoYXNTdHlsZUlucHV0ICovKSkgIT09IDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgc3RhdGljIHRleHQgbm9kZVxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbm9kZSBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIHZhbHVlIFN0YXRpYyBzdHJpbmcgdmFsdWUgdG8gd3JpdGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHQoaW5kZXgsIHZhbHVlID0gJycpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGdldEJpbmRpbmdJbmRleCgpLCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgJ3RleHQgbm9kZXMgc2hvdWxkIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBiaW5kaW5ncycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID9cbiAgICAgICAgZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgYWRqdXN0ZWRJbmRleCwgMSAvKiBUZXh0ICovLCB2YWx1ZSwgbnVsbCkgOlxuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIGNvbnN0IHRleHROYXRpdmUgPSBsVmlld1thZGp1c3RlZEluZGV4XSA9IGNyZWF0ZVRleHROb2RlKGxWaWV3W1JFTkRFUkVSXSwgdmFsdWUpO1xuICAgIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgdGV4dE5hdGl2ZSwgdE5vZGUpO1xuICAgIC8vIFRleHQgbm9kZXMgYXJlIHNlbGYgY2xvc2luZy5cbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggYSBsb25lIGJvdW5kIHZhbHVlXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdCwgYW4gbm8gYWRkaXRpb25hbCB0ZXh0XG4gKiBzdXJyb3VuZHMgdGhhdCBpbnRlcnBvbGF0ZWQgdmFsdWU6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj57e3YwfX08L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZSh2MCk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZSh2MCkge1xuICAgIMm1ybV0ZXh0SW50ZXJwb2xhdGUxKCcnLCB2MCwgJycpO1xuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlMSgncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlMShwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTIoJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTIocHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTI7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTMoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlMyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTM7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU0KFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgybXJtXRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU0KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTQ7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNShcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU1KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU2KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTYocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU2O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNyhcbiAqICAgICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU3KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTc7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlOChcbiAqICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlOChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgb3RoZXIgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGVWKFxuICogIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICouXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4gYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZVYodmFsdWVzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxKCdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlMShwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyKCdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlMihwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlNShcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlNShwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlOChcbiAqICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWKFxuICogIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICouXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4tYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYodmFsdWVzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxKCdrZXk6ICcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxKHByZWZpeCwgdjAsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMigna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIocHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5Mjoge3t2MX19OyBrZXkyOiB7e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzKFxuICogICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0KFxuICogICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNShcbiAqICAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19O1xuICogICAgICAgICAgICAga2V5NToge3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNihcbiAqICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJzsga2V5NTogJywgdjUsXG4gKiAgICAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07IGtleTU6IHt7djV9fTtcbiAqICAgICAgICAgICAgIGtleTY6IHt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcoXG4gKiAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgJzsga2V5NjogJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07IGtleTU6IHt7djV9fTtcbiAqICAgICAgICAgICAgIGtleTY6IHt7djZ9fTsga2V5Nzoge3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlOChcbiAqICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJzsga2V5NTogJywgdjUsXG4gKiAgICAnOyBrZXk2OiAnLCB2NiwgJzsga2V5NzogJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICBjbGFzcz1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07IGtleTU6IHt7djV9fTtcbiAqICAgICAgICAga2V5Njoge3t2Nn19OyBrZXk3OiB7e3Y3fX07IGtleTg6IHt7djh9fTsga2V5OToge3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlVihcbiAqICAgIFsna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgICc7IGtleTY6ICcsIHY2LCAnOyBrZXk3OiAnLCB2NywgJzsga2V5ODogJywgdjgsICc7IGtleTk6ICcsIHY5LCAnc3VmZml4J10pO1xuICogYGBgXG4gKi5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbi1iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnOyBrZXkyOiAnLCB2YWx1ZTEsICc7IGtleTI6ICcsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWKHZhbHVlcykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEoMCwgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMShwcm9wLCBwcmVmaXgsIHYwLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTE7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTIoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMihwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMygwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzKHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNChwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQ7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNShwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNigwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTcoXG4gKiAgICAwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCgwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsXG4gKiAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlOChwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4O1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnlcbiAqIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlVihcbiAqICAwLCBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlVihwcm9wLCB2YWx1ZXMsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBwcm9wZXJ0eSBvbiBhIGhvc3QgZWxlbWVudC4gT25seSBhcHBsaWVzIHRvIG5hdGl2ZSBub2RlIHByb3BlcnRpZXMsIG5vdCBpbnB1dHMuXG4gKlxuICogT3BlcmF0ZXMgb24gdGhlIGVsZW1lbnQgc2VsZWN0ZWQgYnkgaW5kZXggdmlhIHRoZSB7QGxpbmsgc2VsZWN0fSBpbnN0cnVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgTmFtZSBvZiBwcm9wZXJ0eS4gQmVjYXVzZSBpdCBpcyBnb2luZyB0byBET00sIHRoaXMgaXMgbm90IHN1YmplY3QgdG9cbiAqICAgICAgICByZW5hbWluZyBhcyBwYXJ0IG9mIG1pbmlmaWNhdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkXG4gKiAoZS5nLiBgcHJvcGVydHkoJ25hbWUnLCBjdHgubmFtZSkoJ3RpdGxlJywgY3R4LnRpdGxlKWApXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWhvc3RQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCB0cnVlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWhvc3RQcm9wZXJ0eTtcbn1cbi8qKlxuICogVXBkYXRlcyBhIHN5bnRoZXRpYyBob3N0IGJpbmRpbmcgKGUuZy4gYFtAZm9vXWApIG9uIGEgY29tcG9uZW50IG9yIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIGZvciBjb21wYXRpYmlsaXR5IHB1cnBvc2VzIGFuZCBpcyBkZXNpZ25lZCB0byBlbnN1cmUgdGhhdCBhXG4gKiBzeW50aGV0aWMgaG9zdCBiaW5kaW5nIChlLmcuIGBASG9zdEJpbmRpbmcoJ0Bmb28nKWApIHByb3Blcmx5IGdldHMgcmVuZGVyZWQgaW5cbiAqIHRoZSBjb21wb25lbnQncyByZW5kZXJlci4gTm9ybWFsbHkgYWxsIGhvc3QgYmluZGluZ3MgYXJlIGV2YWx1YXRlZCB3aXRoIHRoZSBwYXJlbnRcbiAqIGNvbXBvbmVudCdzIHJlbmRlcmVyLCBidXQsIGluIHRoZSBjYXNlIG9mIGFuaW1hdGlvbiBAdHJpZ2dlcnMsIHRoZXkgbmVlZCB0byBiZVxuICogZXZhbHVhdGVkIHdpdGggdGhlIHN1YiBjb21wb25lbnQncyByZW5kZXJlciAoYmVjYXVzZSB0aGF0J3Mgd2hlcmUgdGhlIGFuaW1hdGlvblxuICogdHJpZ2dlcnMgYXJlIGRlZmluZWQpLlxuICpcbiAqIERvIG5vdCB1c2UgdGhpcyBpbnN0cnVjdGlvbiBhcyBhIHJlcGxhY2VtZW50IGZvciBgZWxlbWVudFByb3BlcnR5YC4gVGhpcyBpbnN0cnVjdGlvblxuICogb25seSBleGlzdHMgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgVmlld0VuZ2luZSdzIGhvc3QgYmluZGluZyBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHVwZGF0ZSBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5KHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREZWYgPSBnZXRDdXJyZW50RGlyZWN0aXZlRGVmKHRWaWV3LmRhdGEpO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IGxvYWRDb21wb25lbnRSZW5kZXJlcihjdXJyZW50RGVmLCB0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIHJlbmRlcmVyLCBzYW5pdGl6ZXIsIHRydWUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTk9URTogY2hhbmdlcyB0byB0aGUgYG5nSTE4bkNsb3N1cmVNb2RlYCBuYW1lIG11c3QgYmUgc3luY2VkIHdpdGggYGNvbXBpbGVyLWNsaS9zcmMvdG9vbGluZy50c2AuXG4gKi9cbmlmICh0eXBlb2YgbmdJMThuQ2xvc3VyZU1vZGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gVGhlc2UgcHJvcGVydHkgYWNjZXNzZXMgY2FuIGJlIGlnbm9yZWQgYmVjYXVzZSBuZ0kxOG5DbG9zdXJlTW9kZSB3aWxsIGJlIHNldCB0byBmYWxzZVxuICAgIC8vIHdoZW4gb3B0aW1pemluZyBjb2RlIGFuZCB0aGUgd2hvbGUgaWYgc3RhdGVtZW50IHdpbGwgYmUgZHJvcHBlZC5cbiAgICAvLyBNYWtlIHN1cmUgdG8gcmVmZXIgdG8gbmdJMThuQ2xvc3VyZU1vZGUgYXMgWyduZ0kxOG5DbG9zdXJlTW9kZSddIGZvciBjbG9zdXJlLlxuICAgIC8vIE5PVEU6IHdlIG5lZWQgdG8gaGF2ZSBpdCBpbiBJSUZFIHNvIHRoYXQgdGhlIHRyZWUtc2hha2VyIGlzIGhhcHB5LlxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICAgICAgX2dsb2JhbFsnbmdJMThuQ2xvc3VyZU1vZGUnXSA9XG4gICAgICAgICAgICAvLyBUT0RPKEZXLTEyNTApOiB2YWxpZGF0ZSB0aGF0IHRoaXMgYWN0dWFsbHksIHlvdSBrbm93LCB3b3Jrcy5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICAgICAgICAgIHR5cGVvZiBnb29nICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ29vZy5nZXRNc2cgPT09ICdmdW5jdGlvbic7XG4gICAgfSkoKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUSElTIENPREUgSVMgR0VORVJBVEVEIC0gRE8gTk9UIE1PRElGWS5cbmNvbnN0IHUgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBwbHVyYWwodmFsKSB7XG4gICAgY29uc3QgbiA9IHZhbCwgaSA9IE1hdGguZmxvb3IoTWF0aC5hYnModmFsKSksIHYgPSB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcXC4/LywgJycpLmxlbmd0aDtcbiAgICBpZiAoaSA9PT0gMSAmJiB2ID09PSAwKVxuICAgICAgICByZXR1cm4gMTtcbiAgICByZXR1cm4gNTtcbn1cbnZhciBsb2NhbGVFbiA9IFtcImVuXCIsIFtbXCJhXCIsIFwicFwiXSwgW1wiQU1cIiwgXCJQTVwiXSwgdV0sIFtbXCJBTVwiLCBcIlBNXCJdLCB1LCB1XSwgW1tcIlNcIiwgXCJNXCIsIFwiVFwiLCBcIldcIiwgXCJUXCIsIFwiRlwiLCBcIlNcIl0sIFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSwgW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl0sIFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGhcIiwgXCJGclwiLCBcIlNhXCJdXSwgdSwgW1tcIkpcIiwgXCJGXCIsIFwiTVwiLCBcIkFcIiwgXCJNXCIsIFwiSlwiLCBcIkpcIiwgXCJBXCIsIFwiU1wiLCBcIk9cIiwgXCJOXCIsIFwiRFwiXSwgW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdLCBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXV0sIHUsIFtbXCJCXCIsIFwiQVwiXSwgW1wiQkNcIiwgXCJBRFwiXSwgW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdXSwgMCwgWzYsIDBdLCBbXCJNL2QveXlcIiwgXCJNTU0gZCwgeVwiLCBcIk1NTU0gZCwgeVwiLCBcIkVFRUUsIE1NTU0gZCwgeVwiXSwgW1wiaDptbSBhXCIsIFwiaDptbTpzcyBhXCIsIFwiaDptbTpzcyBhIHpcIiwgXCJoOm1tOnNzIGEgenp6elwiXSwgW1wiezF9LCB7MH1cIiwgdSwgXCJ7MX0gJ2F0JyB7MH1cIiwgdV0sIFtcIi5cIiwgXCIsXCIsIFwiO1wiLCBcIiVcIiwgXCIrXCIsIFwiLVwiLCBcIkVcIiwgXCLDl1wiLCBcIuKAsFwiLCBcIuKInlwiLCBcIk5hTlwiLCBcIjpcIl0sIFtcIiMsIyMwLiMjI1wiLCBcIiMsIyMwJVwiLCBcIsKkIywjIzAuMDBcIiwgXCIjRTBcIl0sIFwiVVNEXCIsIFwiJFwiLCBcIlVTIERvbGxhclwiLCB7fSwgXCJsdHJcIiwgcGx1cmFsXTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgY29uc3QgaXMgdXNlZCB0byBzdG9yZSB0aGUgbG9jYWxlIGRhdGEgcmVnaXN0ZXJlZCB3aXRoIGByZWdpc3RlckxvY2FsZURhdGFgXG4gKi9cbmxldCBMT0NBTEVfREFUQSA9IHt9O1xuLyoqXG4gKiBSZWdpc3RlciBsb2NhbGUgZGF0YSB0byBiZSB1c2VkIGludGVybmFsbHkgYnkgQW5ndWxhci4gU2VlIHRoZVxuICogW1wiSTE4biBndWlkZVwiXShndWlkZS9pMThuLWNvbW1vbi1mb3JtYXQtZGF0YS1sb2NhbGUpIHRvIGtub3cgaG93IHRvIGltcG9ydCBhZGRpdGlvbmFsIGxvY2FsZVxuICogZGF0YS5cbiAqXG4gKiBUaGUgc2lnbmF0dXJlIGByZWdpc3RlckxvY2FsZURhdGEoZGF0YTogYW55LCBleHRyYURhdGE/OiBhbnkpYCBpcyBkZXByZWNhdGVkIHNpbmNlIHY1LjFcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJMb2NhbGVEYXRhKGRhdGEsIGxvY2FsZUlkLCBleHRyYURhdGEpIHtcbiAgICBpZiAodHlwZW9mIGxvY2FsZUlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICBleHRyYURhdGEgPSBsb2NhbGVJZDtcbiAgICAgICAgbG9jYWxlSWQgPSBkYXRhW0xvY2FsZURhdGFJbmRleC5Mb2NhbGVJZF07XG4gICAgfVxuICAgIGxvY2FsZUlkID0gbG9jYWxlSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XG4gICAgTE9DQUxFX0RBVEFbbG9jYWxlSWRdID0gZGF0YTtcbiAgICBpZiAoZXh0cmFEYXRhKSB7XG4gICAgICAgIExPQ0FMRV9EQVRBW2xvY2FsZUlkXVtMb2NhbGVEYXRhSW5kZXguRXh0cmFEYXRhXSA9IGV4dHJhRGF0YTtcbiAgICB9XG59XG4vKipcbiAqIEZpbmRzIHRoZSBsb2NhbGUgZGF0YSBmb3IgYSBnaXZlbiBsb2NhbGUuXG4gKlxuICogQHBhcmFtIGxvY2FsZSBUaGUgbG9jYWxlIGNvZGUuXG4gKiBAcmV0dXJucyBUaGUgbG9jYWxlIGRhdGEuXG4gKiBAc2VlIFtJbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgR3VpZGVdKGh0dHBzOi8vYW5ndWxhci5pby9ndWlkZS9pMThuLW92ZXJ2aWV3KVxuICovXG5mdW5jdGlvbiBmaW5kTG9jYWxlRGF0YShsb2NhbGUpIHtcbiAgICBjb25zdCBub3JtYWxpemVkTG9jYWxlID0gbm9ybWFsaXplTG9jYWxlKGxvY2FsZSk7XG4gICAgbGV0IG1hdGNoID0gZ2V0TG9jYWxlRGF0YShub3JtYWxpemVkTG9jYWxlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgICAvLyBsZXQncyB0cnkgdG8gZmluZCBhIHBhcmVudCBsb2NhbGVcbiAgICBjb25zdCBwYXJlbnRMb2NhbGUgPSBub3JtYWxpemVkTG9jYWxlLnNwbGl0KCctJylbMF07XG4gICAgbWF0Y2ggPSBnZXRMb2NhbGVEYXRhKHBhcmVudExvY2FsZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICAgaWYgKHBhcmVudExvY2FsZSA9PT0gJ2VuJykge1xuICAgICAgICByZXR1cm4gbG9jYWxlRW47XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBsb2NhbGUgZGF0YSBmb3IgdGhlIGxvY2FsZSBcIiR7bG9jYWxlfVwiLmApO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSBmb3IgdGhlIGdpdmVuIGxvY2FsZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpcyBkZWZpbmVkIGFzIHRoZSBmaXJzdCBjdXJyZW5jeSB3aGljaCBpcyBzdGlsbCBpbiB1c2UuXG4gKlxuICogQHBhcmFtIGxvY2FsZSBUaGUgY29kZSBvZiB0aGUgbG9jYWxlIHdob3NlIGN1cnJlbmN5IGNvZGUgd2Ugd2FudC5cbiAqIEByZXR1cm5zIFRoZSBjb2RlIG9mIHRoZSBkZWZhdWx0IGN1cnJlbmN5IGZvciB0aGUgZ2l2ZW4gbG9jYWxlLlxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlQ3VycmVuY3lDb2RlKGxvY2FsZSkge1xuICAgIGNvbnN0IGRhdGEgPSBmaW5kTG9jYWxlRGF0YShsb2NhbGUpO1xuICAgIHJldHVybiBkYXRhW0xvY2FsZURhdGFJbmRleC5DdXJyZW5jeUNvZGVdIHx8IG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgcGx1cmFsIGZ1bmN0aW9uIHVzZWQgYnkgSUNVIGV4cHJlc3Npb25zIHRvIGRldGVybWluZSB0aGUgcGx1cmFsIGNhc2UgdG8gdXNlXG4gKiBmb3IgYSBnaXZlbiBsb2NhbGUuXG4gKiBAcGFyYW0gbG9jYWxlIEEgbG9jYWxlIGNvZGUgZm9yIHRoZSBsb2NhbGUgZm9ybWF0IHJ1bGVzIHRvIHVzZS5cbiAqIEByZXR1cm5zIFRoZSBwbHVyYWwgZnVuY3Rpb24gZm9yIHRoZSBsb2NhbGUuXG4gKiBAc2VlIGBOZ1BsdXJhbGBcbiAqIEBzZWUgW0ludGVybmF0aW9uYWxpemF0aW9uIChpMThuKSBHdWlkZV0oaHR0cHM6Ly9hbmd1bGFyLmlvL2d1aWRlL2kxOG4tb3ZlcnZpZXcpXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsZVBsdXJhbENhc2UobG9jYWxlKSB7XG4gICAgY29uc3QgZGF0YSA9IGZpbmRMb2NhbGVEYXRhKGxvY2FsZSk7XG4gICAgcmV0dXJuIGRhdGFbTG9jYWxlRGF0YUluZGV4LlBsdXJhbENhc2VdO1xufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBnaXZlbiBgbm9ybWFsaXplZExvY2FsZWAgZnJvbSBgTE9DQUxFX0RBVEFgXG4gKiBvciBmcm9tIHRoZSBnbG9iYWwgYG5nLmNvbW1vbi5sb2NhbGVgLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVEYXRhKG5vcm1hbGl6ZWRMb2NhbGUpIHtcbiAgICBpZiAoIShub3JtYWxpemVkTG9jYWxlIGluIExPQ0FMRV9EQVRBKSkge1xuICAgICAgICBMT0NBTEVfREFUQVtub3JtYWxpemVkTG9jYWxlXSA9IF9nbG9iYWwubmcgJiYgX2dsb2JhbC5uZy5jb21tb24gJiYgX2dsb2JhbC5uZy5jb21tb24ubG9jYWxlcyAmJlxuICAgICAgICAgICAgX2dsb2JhbC5uZy5jb21tb24ubG9jYWxlc1tub3JtYWxpemVkTG9jYWxlXTtcbiAgICB9XG4gICAgcmV0dXJuIExPQ0FMRV9EQVRBW25vcm1hbGl6ZWRMb2NhbGVdO1xufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmVtb3ZlIGFsbCB0aGUgbG9jYWxlIGRhdGEgZnJvbSBgTE9DQUxFX0RBVEFgLlxuICovXG5mdW5jdGlvbiB1bnJlZ2lzdGVyQWxsTG9jYWxlRGF0YSgpIHtcbiAgICBMT0NBTEVfREFUQSA9IHt9O1xufVxuLyoqXG4gKiBJbmRleCBvZiBlYWNoIHR5cGUgb2YgbG9jYWxlIGRhdGEgZnJvbSB0aGUgbG9jYWxlIGRhdGEgYXJyYXlcbiAqL1xudmFyIExvY2FsZURhdGFJbmRleDtcbihmdW5jdGlvbiAoTG9jYWxlRGF0YUluZGV4KSB7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkxvY2FsZUlkXCJdID0gMF0gPSBcIkxvY2FsZUlkXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRheVBlcmlvZHNGb3JtYXRcIl0gPSAxXSA9IFwiRGF5UGVyaW9kc0Zvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlQZXJpb2RzU3RhbmRhbG9uZVwiXSA9IDJdID0gXCJEYXlQZXJpb2RzU3RhbmRhbG9uZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlzRm9ybWF0XCJdID0gM10gPSBcIkRheXNGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5c1N0YW5kYWxvbmVcIl0gPSA0XSA9IFwiRGF5c1N0YW5kYWxvbmVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTW9udGhzRm9ybWF0XCJdID0gNV0gPSBcIk1vbnRoc0Zvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJNb250aHNTdGFuZGFsb25lXCJdID0gNl0gPSBcIk1vbnRoc1N0YW5kYWxvbmVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRXJhc1wiXSA9IDddID0gXCJFcmFzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkZpcnN0RGF5T2ZXZWVrXCJdID0gOF0gPSBcIkZpcnN0RGF5T2ZXZWVrXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIldlZWtlbmRSYW5nZVwiXSA9IDldID0gXCJXZWVrZW5kUmFuZ2VcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF0ZUZvcm1hdFwiXSA9IDEwXSA9IFwiRGF0ZUZvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJUaW1lRm9ybWF0XCJdID0gMTFdID0gXCJUaW1lRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRhdGVUaW1lRm9ybWF0XCJdID0gMTJdID0gXCJEYXRlVGltZUZvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJOdW1iZXJTeW1ib2xzXCJdID0gMTNdID0gXCJOdW1iZXJTeW1ib2xzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIk51bWJlckZvcm1hdHNcIl0gPSAxNF0gPSBcIk51bWJlckZvcm1hdHNcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiQ3VycmVuY3lDb2RlXCJdID0gMTVdID0gXCJDdXJyZW5jeUNvZGVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiQ3VycmVuY3lTeW1ib2xcIl0gPSAxNl0gPSBcIkN1cnJlbmN5U3ltYm9sXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmN5TmFtZVwiXSA9IDE3XSA9IFwiQ3VycmVuY3lOYW1lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmNpZXNcIl0gPSAxOF0gPSBcIkN1cnJlbmNpZXNcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGlyZWN0aW9uYWxpdHlcIl0gPSAxOV0gPSBcIkRpcmVjdGlvbmFsaXR5XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIlBsdXJhbENhc2VcIl0gPSAyMF0gPSBcIlBsdXJhbENhc2VcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRXh0cmFEYXRhXCJdID0gMjFdID0gXCJFeHRyYURhdGFcIjtcbn0pKExvY2FsZURhdGFJbmRleCB8fCAoTG9jYWxlRGF0YUluZGV4ID0ge30pKTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2Fub25pY2FsIGZvcm0gb2YgYSBsb2NhbGUgbmFtZSAtIGxvd2VyY2FzZSB3aXRoIGBfYCByZXBsYWNlZCB3aXRoIGAtYC5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgcGx1cmFsTWFwcGluZyA9IFsnemVybycsICdvbmUnLCAndHdvJywgJ2ZldycsICdtYW55J107XG4vKipcbiAqIFJldHVybnMgdGhlIHBsdXJhbCBjYXNlIGJhc2VkIG9uIHRoZSBsb2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0UGx1cmFsQ2FzZSh2YWx1ZSwgbG9jYWxlKSB7XG4gICAgY29uc3QgcGx1cmFsID0gZ2V0TG9jYWxlUGx1cmFsQ2FzZShsb2NhbGUpKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHBsdXJhbE1hcHBpbmdbcGx1cmFsXTtcbiAgICByZXR1cm4gKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSA/IHJlc3VsdCA6ICdvdGhlcic7XG59XG4vKipcbiAqIFRoZSBsb2NhbGUgaWQgdGhhdCB0aGUgYXBwbGljYXRpb24gaXMgdXNpbmcgYnkgZGVmYXVsdCAoZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zKS5cbiAqL1xuY29uc3QgREVGQVVMVF9MT0NBTEVfSUQgPSAnZW4tVVMnO1xuLyoqXG4gKiBVU0QgY3VycmVuY3kgY29kZSB0aGF0IHRoZSBhcHBsaWNhdGlvbiB1c2VzIGJ5IGRlZmF1bHQgZm9yIEN1cnJlbmN5UGlwZSB3aGVuIG5vXG4gKiBERUZBVUxUX0NVUlJFTkNZX0NPREUgaXMgcHJvdmlkZWQuXG4gKi9cbmNvbnN0IFVTRF9DVVJSRU5DWV9DT0RFID0gJ1VTRCc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyB0aGF0IHRoZSBuZXh0IHN0cmluZyBpcyBhbiBlbGVtZW50IG5hbWUuXG4gKlxuICogU2VlIGBJMThuTXV0YXRlT3BDb2Rlc2AgZG9jdW1lbnRhdGlvbi5cbiAqL1xuY29uc3QgRUxFTUVOVF9NQVJLRVIgPSB7XG4gICAgbWFya2VyOiAnZWxlbWVudCdcbn07XG4vKipcbiAqIE1hcmtzIHRoYXQgdGhlIG5leHQgc3RyaW5nIGlzIGNvbW1lbnQgdGV4dCBuZWVkIGZvciBJQ1UuXG4gKlxuICogU2VlIGBJMThuTXV0YXRlT3BDb2Rlc2AgZG9jdW1lbnRhdGlvbi5cbiAqL1xuY29uc3QgSUNVX01BUktFUiA9IHtcbiAgICBtYXJrZXI6ICdJQ1UnXG59O1xuLyoqXG4gKiBTZWUgYEkxOG5DcmVhdGVPcENvZGVzYFxuICovXG52YXIgSTE4bkNyZWF0ZU9wQ29kZTtcbihmdW5jdGlvbiAoSTE4bkNyZWF0ZU9wQ29kZSkge1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBiaXRzIHRvIHNoaWZ0IGluZGV4IHNvIHRoYXQgaXQgY2FuIGJlIGNvbWJpbmVkIHdpdGggdGhlIGBBUFBFTkRfRUFHRVJMWWAgYW5kXG4gICAgICogYENPTU1FTlRgLlxuICAgICAqL1xuICAgIEkxOG5DcmVhdGVPcENvZGVbSTE4bkNyZWF0ZU9wQ29kZVtcIlNISUZUXCJdID0gMl0gPSBcIlNISUZUXCI7XG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBub2RlIGJlIGFwcGVuZGVkIHRvIHBhcmVudCBpbWVkZGl0YXRseSBhZnRlciBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICBJMThuQ3JlYXRlT3BDb2RlW0kxOG5DcmVhdGVPcENvZGVbXCJBUFBFTkRfRUFHRVJMWVwiXSA9IDFdID0gXCJBUFBFTkRfRUFHRVJMWVwiO1xuICAgIC8qKlxuICAgICAqIElmIHNldCB0aGUgbm9kZSBzaG91bGQgYmUgY29tbWVudCAocmF0aGVyIHRoYW4gYSB0ZXh0KSBub2RlLlxuICAgICAqL1xuICAgIEkxOG5DcmVhdGVPcENvZGVbSTE4bkNyZWF0ZU9wQ29kZVtcIkNPTU1FTlRcIl0gPSAyXSA9IFwiQ09NTUVOVFwiO1xufSkoSTE4bkNyZWF0ZU9wQ29kZSB8fCAoSTE4bkNyZWF0ZU9wQ29kZSA9IHt9KSk7XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQyID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBsb2NhbGUgaWQgdGhhdCB0aGUgYXBwbGljYXRpb24gaXMgY3VycmVudGx5IHVzaW5nIChmb3IgdHJhbnNsYXRpb25zIGFuZCBJQ1UgZXhwcmVzc2lvbnMpLlxuICogVGhpcyBpcyB0aGUgaXZ5IHZlcnNpb24gb2YgYExPQ0FMRV9JRGAgdGhhdCB3YXMgZGVmaW5lZCBhcyBhbiBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSB2aWV3IGVuZ2luZVxuICogYnV0IGlzIG5vdyBkZWZpbmVkIGFzIGEgZ2xvYmFsIHZhbHVlLlxuICovXG5sZXQgTE9DQUxFX0lEJDEgPSBERUZBVUxUX0xPQ0FMRV9JRDtcbi8qKlxuICogU2V0cyB0aGUgbG9jYWxlIGlkIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucy5cbiAqIFRoaXMgaXMgdGhlIGl2eSB2ZXJzaW9uIG9mIGBMT0NBTEVfSURgIHRoYXQgd2FzIGRlZmluZWQgYXMgYW4gaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgdmlldyBlbmdpbmVcbiAqIGJ1dCBpcyBub3cgZGVmaW5lZCBhcyBhIGdsb2JhbCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbG9jYWxlSWRcbiAqL1xuZnVuY3Rpb24gc2V0TG9jYWxlSWQobG9jYWxlSWQpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxvY2FsZUlkLCBgRXhwZWN0ZWQgbG9jYWxlSWQgdG8gYmUgZGVmaW5lZGApO1xuICAgIGlmICh0eXBlb2YgbG9jYWxlSWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIExPQ0FMRV9JRCQxID0gbG9jYWxlSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XG4gICAgfVxufVxuLyoqXG4gKiBHZXRzIHRoZSBsb2NhbGUgaWQgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zLlxuICogVGhpcyBpcyB0aGUgaXZ5IHZlcnNpb24gb2YgYExPQ0FMRV9JRGAgdGhhdCB3YXMgZGVmaW5lZCBhcyBhbiBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSB2aWV3IGVuZ2luZVxuICogYnV0IGlzIG5vdyBkZWZpbmVkIGFzIGEgZ2xvYmFsIHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVJZCgpIHtcbiAgICByZXR1cm4gTE9DQUxFX0lEJDE7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGaW5kIGEgbm9kZSBpbiBmcm9udCBvZiB3aGljaCBgY3VycmVudFROb2RlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgKHRha2VzIGkxOG4gaW50byBhY2NvdW50KS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkZXRlcm1pbmVzIHRoZSBgUk5vZGVgIGluIGZyb250IG9mIHdoaWNoIHdlIHNob3VsZCBpbnNlcnQgdGhlIGBjdXJyZW50Uk5vZGVgLiBUaGlzXG4gKiB0YWtlcyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGludG8gYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0gcGFyZW50VE5vZGUgcGFyZW50IGBUTm9kZWBcbiAqIEBwYXJhbSBjdXJyZW50VE5vZGUgY3VycmVudCBgVE5vZGVgIChUaGUgbm9kZSB3aGljaCB3ZSB3b3VsZCBsaWtlIHRvIGluc2VydCBpbnRvIHRoZSBET00pXG4gKiBAcGFyYW0gbFZpZXcgY3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCB0Tm9kZUluc2VydEJlZm9yZUluZGV4ID0gY3VycmVudFROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIGNvbnN0IGluc2VydEJlZm9yZUluZGV4ID0gQXJyYXkuaXNBcnJheSh0Tm9kZUluc2VydEJlZm9yZUluZGV4KSA/IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXhbMF0gOiB0Tm9kZUluc2VydEJlZm9yZUluZGV4O1xuICAgIGlmIChpbnNlcnRCZWZvcmVJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluc2VydEJlZm9yZUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHVud3JhcFJOb2RlKGxWaWV3W2luc2VydEJlZm9yZUluZGV4XSk7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9jZXNzIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgYnkgYWRkaW5nIGkxOG4gdGV4dCBub2Rlcy5cbiAqXG4gKiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICovXG5mdW5jdGlvbiBwcm9jZXNzSTE4bkluc2VydEJlZm9yZShyZW5kZXJlciwgY2hpbGRUTm9kZSwgbFZpZXcsIGNoaWxkUk5vZGUsIHBhcmVudFJFbGVtZW50KSB7XG4gICAgY29uc3QgdE5vZGVJbnNlcnRCZWZvcmVJbmRleCA9IGNoaWxkVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodE5vZGVJbnNlcnRCZWZvcmVJbmRleCkpIHtcbiAgICAgICAgLy8gQW4gYXJyYXkgaW5kaWNhdGVzIHRoYXQgdGhlcmUgYXJlIGkxOG4gbm9kZXMgdGhhdCBuZWVkIHRvIGJlIGFkZGVkIGFzIGNoaWxkcmVuIG9mIHRoaXNcbiAgICAgICAgLy8gYGNoaWxkUk5vZGVgLiBUaGVzZSBpMThuIG5vZGVzIHdlcmUgY3JlYXRlZCBiZWZvcmUgdGhpcyBgY2hpbGRSTm9kZWAgd2FzIGF2YWlsYWJsZSBhbmQgc29cbiAgICAgICAgLy8gb25seSBub3cgY2FuIGJlIGFkZGVkLiBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgdGhlIG5vcm1hbCBpbmRleCB3aGVyZSB3ZSBzaG91bGRcbiAgICAgICAgLy8gaW5zZXJ0IHRoZSBgY2hpbGRSTm9kZWAuIEFkZGl0aW9uYWwgZWxlbWVudHMgYXJlIHRoZSBleHRyYSBub2RlcyB0byBiZSBhZGRlZCBhcyBjaGlsZHJlbiBvZlxuICAgICAgICAvLyBgY2hpbGRSTm9kZWAuXG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKGNoaWxkUk5vZGUpO1xuICAgICAgICBsZXQgaTE4blBhcmVudCA9IGNoaWxkUk5vZGU7XG4gICAgICAgIGxldCBhbmNob3JSTm9kZSA9IG51bGw7XG4gICAgICAgIGlmICghKGNoaWxkVE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pKSB7XG4gICAgICAgICAgICBhbmNob3JSTm9kZSA9IGkxOG5QYXJlbnQ7XG4gICAgICAgICAgICBpMThuUGFyZW50ID0gcGFyZW50UkVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkxOG5QYXJlbnQgIT09IG51bGwgJiYgKGNoaWxkVE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdE5vZGVJbnNlcnRCZWZvcmVJbmRleC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gYHVud3JhcFJOb2RlYCBiZWNhdXNlIGFsbCBvZiB0aGUgaW5kZXhlcyBwb2ludCB0byBpMThuIHRleHQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gc2VlIGBhc3NlcnREb21Ob2RlYCBiZWxvdy5cbiAgICAgICAgICAgICAgICBjb25zdCBpMThuQ2hpbGQgPSBsVmlld1t0Tm9kZUluc2VydEJlZm9yZUluZGV4W2ldXTtcbiAgICAgICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIGkxOG5QYXJlbnQsIGkxOG5DaGlsZCwgYW5jaG9yUk5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkZCBgdE5vZGVgIHRvIGBwcmV2aW91c1ROb2Rlc2AgbGlzdCBhbmQgdXBkYXRlIHJlbGV2YW50IGBUTm9kZWBzIGluIGBwcmV2aW91c1ROb2Rlc2AgbGlzdFxuICogYHROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqXG4gKiBUaGluZ3MgdG8ga2VlcCBpbiBtaW5kOlxuICogMS4gQWxsIGkxOG4gdGV4dCBub2RlcyBhcmUgZW5jb2RlZCBhcyBgVE5vZGVUeXBlLkVsZW1lbnRgIGFuZCBhcmUgY3JlYXRlZCBlYWdlcmx5IGJ5IHRoZVxuICogICAgYMm1ybVpMThuU3RhcnRgIGluc3RydWN0aW9uLlxuICogMi4gQWxsIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGBUTm9kZXNgIGFyZSBlbGVtZW50cyB3aGljaCB3aWxsIGJlIGNyZWF0ZWQgbGF0ZXIgYnlcbiAqICAgIGDJtcm1ZWxlbWVudFN0YXJ0YCBpbnN0cnVjdGlvbi5cbiAqIDMuIGDJtcm1ZWxlbWVudFN0YXJ0YCBpbnN0cnVjdGlvbiB3aWxsIGNyZWF0ZSBgVE5vZGVgcyBpbiB0aGUgYXNjZW5kaW5nIGBUTm9kZS5pbmRleGAgb3JkZXIuIChTbyBhXG4gKiAgICBzbWFsbGVyIGluZGV4IGBUTm9kZWAgaXMgZ3VhcmFudGVlZCB0byBiZSBjcmVhdGVkIGJlZm9yZSBhIGxhcmdlciBvbmUpXG4gKlxuICogV2UgdXNlIHRoZSBhYm92ZSB0aHJlZSBpbnZhcmlhbnRzIHRvIGRldGVybWluZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICpcbiAqIEluIGFuIGlkZWFsIHdvcmxkIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgd291bGQgYWx3YXlzIGJlIGBUTm9kZS5uZXh0LmluZGV4YC4gSG93ZXZlcixcbiAqIHRoaXMgd2lsbCBub3Qgd29yayBiZWNhdXNlIGBUTm9kZS5uZXh0LmluZGV4YCBtYXkgYmUgbGFyZ2VyIHRoYW4gYFROb2RlLmluZGV4YCB3aGljaCBtZWFucyB0aGF0XG4gKiB0aGUgbmV4dCBub2RlIGlzIG5vdCB5ZXQgY3JlYXRlZCBhbmQgdGhlcmVmb3JlIHdlIGNhbid0IGluc2VydCBpbiBmcm9udCBvZiBpdC5cbiAqXG4gKiBSdWxlMTogYFROb2RlLmluc2VydEJlZm9yZUluZGV4ID0gbnVsbGAgaWYgYFROb2RlLm5leHQgPT09IG51bGxgIChJbml0aWFsIGNvbmRpdGlvbiwgYXMgd2UgZG9uJ3RcbiAqICAgICAgICBrbm93IGlmIHRoZXJlIHdpbGwgYmUgZnVydGhlciBgVE5vZGVgcyBpbnNlcnRlZCBhZnRlci4pXG4gKiBSdWxlMjogSWYgYHByZXZpb3VzVE5vZGVgIGlzIGNyZWF0ZWQgYWZ0ZXIgdGhlIGB0Tm9kZWAgYmVpbmcgaW5zZXJ0ZWQsIHRoZW5cbiAqICAgICAgICBgcHJldmlvdXNUTm9kZS5pbnNlcnRCZWZvcmVOb2RlID0gdE5vZGUuaW5kZXhgIChTbyB3aGVuIGEgbmV3IGB0Tm9kZWAgaXMgYWRkZWQgd2UgY2hlY2tcbiAqICAgICAgICBwcmV2aW91cyB0byBzZWUgaWYgd2UgY2FuIHVwZGF0ZSBpdHMgYGluc2VydEJlZm9yZVROb2RlYClcbiAqXG4gKiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBmb3IgbW9yZSBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBwcmV2aW91c1ROb2RlcyBBIGxpc3Qgb2YgcHJldmlvdXMgVE5vZGVzIHNvIHRoYXQgd2UgY2FuIGVhc2lseSB0cmF2ZXJzZSBgVE5vZGVgcyBpblxuICogICAgIHJldmVyc2Ugb3JkZXIuIChJZiBgVE5vZGVgIHdvdWxkIGhhdmUgYHByZXZpb3VzYCB0aGlzIHdvdWxkIG5vdCBiZSBuZWNlc3NhcnkuKVxuICogQHBhcmFtIG5ld1ROb2RlIEEgVE5vZGUgdG8gYWRkIHRvIHRoZSBgcHJldmlvdXNUTm9kZXNgIGxpc3QuXG4gKi9cbmZ1bmN0aW9uIGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgocHJldmlvdXNUTm9kZXMsIG5ld1ROb2RlKSB7XG4gICAgLy8gU3RhcnQgd2l0aCBSdWxlMVxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChuZXdUTm9kZS5pbnNlcnRCZWZvcmVJbmRleCwgbnVsbCwgJ1dlIGV4cGVjdCB0aGF0IGluc2VydEJlZm9yZUluZGV4IGlzIG5vdCBzZXQnKTtcbiAgICBwcmV2aW91c1ROb2Rlcy5wdXNoKG5ld1ROb2RlKTtcbiAgICBpZiAocHJldmlvdXNUTm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKGxldCBpID0gcHJldmlvdXNUTm9kZXMubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVE5vZGUgPSBwcmV2aW91c1ROb2Rlc1tpXTtcbiAgICAgICAgICAgIC8vIFRleHQgbm9kZXMgYXJlIGNyZWF0ZWQgZWFnZXJseSBhbmQgc28gdGhleSBkb24ndCBuZWVkIHRoZWlyIGBpbmRleEJlZm9yZUluZGV4YCB1cGRhdGVkLlxuICAgICAgICAgICAgLy8gSXQgaXMgc2FmZSB0byBpZ25vcmUgdGhlbS5cbiAgICAgICAgICAgIGlmICghaXNJMThuVGV4dChleGlzdGluZ1ROb2RlKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc05ld1ROb2RlQ3JlYXRlZEJlZm9yZShleGlzdGluZ1ROb2RlLCBuZXdUTm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgZ2V0SW5zZXJ0QmVmb3JlSW5kZXgoZXhpc3RpbmdUTm9kZSkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgd2FzIGNyZWF0ZWQgYmVmb3JlIHVzIGluIHRpbWUsIChhbmQgaXQgZG9lcyBub3QgeWV0IGhhdmUgYGluc2VydEJlZm9yZUluZGV4YClcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBhZGQgdGhlIGBpbnNlcnRCZWZvcmVJbmRleGAuXG4gICAgICAgICAgICAgICAgICAgIHNldEluc2VydEJlZm9yZUluZGV4KGV4aXN0aW5nVE5vZGUsIG5ld1ROb2RlLmluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc0kxOG5UZXh0KHROb2RlKSB7XG4gICAgcmV0dXJuICEodE5vZGUudHlwZSAmIDY0IC8qIFBsYWNlaG9sZGVyICovKTtcbn1cbmZ1bmN0aW9uIGlzTmV3VE5vZGVDcmVhdGVkQmVmb3JlKGV4aXN0aW5nVE5vZGUsIG5ld1ROb2RlKSB7XG4gICAgcmV0dXJuIGlzSTE4blRleHQobmV3VE5vZGUpIHx8IGV4aXN0aW5nVE5vZGUuaW5kZXggPiBuZXdUTm9kZS5pbmRleDtcbn1cbmZ1bmN0aW9uIGdldEluc2VydEJlZm9yZUluZGV4KHROb2RlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpbmRleCkgPyBpbmRleFswXSA6IGluZGV4O1xufVxuZnVuY3Rpb24gc2V0SW5zZXJ0QmVmb3JlSW5kZXgodE5vZGUsIHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleCkpIHtcbiAgICAgICAgLy8gQXJyYXkgaXMgc3RvcmVkIGlmIHdlIGhhdmUgdG8gaW5zZXJ0IGNoaWxkIG5vZGVzLiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICAgICAgICBpbmRleFswXSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0STE4bkhhbmRsaW5nKGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4sIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKTtcbiAgICAgICAgdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXggPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZSBgVEljdWAgYXQgYSBnaXZlbiBgaW5kZXhgLlxuICpcbiAqIFRoZSBgVEljdWAgY2FuIGJlIHN0b3JlZCBlaXRoZXIgZGlyZWN0bHkgKGlmIGl0IGlzIG5lc3RlZCBJQ1UpIE9SXG4gKiBpdCBpcyBzdG9yZWQgaW5zaWRlIHRobyBgVEljdUNvbnRhaW5lcmAgaWYgaXQgaXMgdG9wIGxldmVsIElDVS5cbiAqXG4gKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhlIHRvcCBsZXZlbCBJQ1UgbmVlZCBhIGBUTm9kZWAgc28gdGhhdCB0aGV5IGFyZSBwYXJ0IG9mIHRoZSByZW5kZXJcbiAqIHRyZWUsIGJ1dCBuZXN0ZWQgSUNVJ3MgaGF2ZSBubyBUTm9kZSwgYmVjYXVzZSB3ZSBkb24ndCBrbm93IGFoZWFkIG9mIHRpbWUgaWYgdGhlIG5lc3RlZCBJQ1UgaXNcbiAqIGV4cHJlc3NlZCAocGFyZW50IElDVSBtYXkgaGF2ZSBzZWxlY3RlZCBhIGNhc2Ugd2hpY2ggZG9lcyBub3QgY29udGFpbiBpdC4pXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSBpbmRleCBJbmRleCB3aGVyZSB0aGUgdmFsdWUgc2hvdWxkIGJlIHJlYWQgZnJvbS5cbiAqL1xuZnVuY3Rpb24gZ2V0VEljdSh0VmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobmdEZXZNb2RlICYmXG4gICAgICAgICEodmFsdWUuaGFzT3duUHJvcGVydHkoJ3RWaWV3cycpIHx8IHZhbHVlLmhhc093blByb3BlcnR5KCdjdXJyZW50Q2FzZUxWaWV3SW5kZXgnKSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcignV2UgZXhwZWN0IHRvIGdldCBcXCdudWxsXFwnfFxcJ1RJY3VcXCd8XFwnVEljdUNvbnRhaW5lclxcJywgYnV0IGdvdDogJyArIHZhbHVlKTtcbiAgICB9XG4gICAgLy8gSGVyZSB0aGUgYHZhbHVlLmhhc093blByb3BlcnR5KCdjdXJyZW50Q2FzZUxWaWV3SW5kZXgnKWAgaXMgYSBwb2x5bW9ycGhpYyByZWFkIGFzIGl0IGNhbiBiZVxuICAgIC8vIGVpdGhlciBUSWN1IG9yIFRJY3VDb250YWluZXJOb2RlLiBUaGlzIGlzIG5vdCBpZGVhbCwgYnV0IHdlIHN0aWxsIHRoaW5rIGl0IGlzIE9LIGJlY2F1c2UgaXRcbiAgICAvLyB3aWxsIGJlIGp1c3QgdHdvIGNhc2VzIHdoaWNoIGZpdHMgaW50byB0aGUgYnJvd3NlciBpbmxpbmUgY2FjaGUgKGlubGluZSBjYWNoZSBjYW4gdGFrZSB1cCB0b1xuICAgIC8vIDQpXG4gICAgY29uc3QgdEljdSA9IHZhbHVlLmhhc093blByb3BlcnR5KCdjdXJyZW50Q2FzZUxWaWV3SW5kZXgnKSA/IHZhbHVlIDpcbiAgICAgICAgdmFsdWUudmFsdWU7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFRJY3UodEljdSk7XG4gICAgcmV0dXJuIHRJY3U7XG59XG4vKipcbiAqIFN0b3JlIGBUSWN1YCBhdCBhIGdpdmUgYGluZGV4YC5cbiAqXG4gKiBUaGUgYFRJY3VgIGNhbiBiZSBzdG9yZWQgZWl0aGVyIGRpcmVjdGx5IChpZiBpdCBpcyBuZXN0ZWQgSUNVKSBPUlxuICogaXQgaXMgc3RvcmVkIGluc2lkZSB0aG8gYFRJY3VDb250YWluZXJgIGlmIGl0IGlzIHRvcCBsZXZlbCBJQ1UuXG4gKlxuICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHRoZSB0b3AgbGV2ZWwgSUNVIG5lZWQgYSBgVE5vZGVgIHNvIHRoYXQgdGhleSBhcmUgcGFydCBvZiB0aGUgcmVuZGVyXG4gKiB0cmVlLCBidXQgbmVzdGVkIElDVSdzIGhhdmUgbm8gVE5vZGUsIGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lIGlmIHRoZSBuZXN0ZWQgSUNVIGlzXG4gKiBleHByZXNzZWQgKHBhcmVudCBJQ1UgbWF5IGhhdmUgc2VsZWN0ZWQgYSBjYXNlIHdoaWNoIGRvZXMgbm90IGNvbnRhaW4gaXQuKVxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggd2hlcmUgdGhlIHZhbHVlIHNob3VsZCBiZSBzdG9yZWQgYXQgaW4gYFR2aWV3LmRhdGFgXG4gKiBAcGFyYW0gdEljdSBUaGUgVEljdSB0byBzdG9yZS5cbiAqL1xuZnVuY3Rpb24gc2V0VEljdSh0VmlldywgaW5kZXgsIHRJY3UpIHtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0Tm9kZSA9PT0gbnVsbCB8fCB0Tm9kZS5oYXNPd25Qcm9wZXJ0eSgndFZpZXdzJyksIHRydWUsICdXZSBleHBlY3QgdG8gZ2V0IFxcJ251bGxcXCd8XFwnVEljdUNvbnRhaW5lclxcJycpO1xuICAgIGlmICh0Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5kYXRhW2luZGV4XSA9IHRJY3U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzMiAvKiBJY3UgKi8pO1xuICAgICAgICB0Tm9kZS52YWx1ZSA9IHRJY3U7XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCB0YWtpbmcgdGhlIGBBcnJheWAgaW50byBhY2NvdW50LlxuICpcbiAqIFNlZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgXG4gKi9cbmZ1bmN0aW9uIHNldFROb2RlSW5zZXJ0QmVmb3JlSW5kZXgodE5vZGUsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlKHROb2RlKTtcbiAgICBsZXQgaW5zZXJ0QmVmb3JlSW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoaW5zZXJ0QmVmb3JlSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgc2V0STE4bkhhbmRsaW5nKGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4sIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlSW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleCA9XG4gICAgICAgICAgICBbbnVsbCAvKiBtYXkgYmUgdXBkYXRlZCB0byBudW1iZXIgbGF0ZXIgKi8sIGluZGV4XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydEVxdWFsKEFycmF5LmlzQXJyYXkoaW5zZXJ0QmVmb3JlSW5kZXgpLCB0cnVlLCAnRXhwZWN0aW5nIGFycmF5IGhlcmUnKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlSW5kZXgucHVzaChpbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYFROb2RlLnR5cGU9VE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBub2RlLlxuICpcbiAqIFNlZSBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVE5vZGVQbGFjZWhvbGRlcih0VmlldywgcHJldmlvdXNUTm9kZXMsIGluZGV4KSB7XG4gICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGluZGV4LCA2NCAvKiBQbGFjZWhvbGRlciAqLywgbnVsbCwgbnVsbCk7XG4gICAgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleChwcmV2aW91c1ROb2RlcywgdE5vZGUpO1xuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogUmV0dXJucyBjdXJyZW50IElDVSBjYXNlLlxuICpcbiAqIElDVSBjYXNlcyBhcmUgc3RvcmVkIGFzIGluZGV4IGludG8gdGhlIGBUSWN1LmNhc2VzYC5cbiAqIEF0IHRpbWVzIGl0IGlzIG5lY2Vzc2FyeSB0byBjb21tdW5pY2F0ZSB0aGF0IHRoZSBJQ1UgY2FzZSBqdXN0IHN3aXRjaGVkIGFuZCB0aGF0IG5leHQgSUNVIHVwZGF0ZVxuICogc2hvdWxkIHVwZGF0ZSBhbGwgYmluZGluZ3MgcmVnYXJkbGVzcyBvZiB0aGUgbWFzay4gSW4gc3VjaCBhIGNhc2UgdGhlIHdlIHN0b3JlIG5lZ2F0aXZlIG51bWJlcnNcbiAqIGZvciBjYXNlcyB3aGljaCBoYXZlIGp1c3QgYmVlbiBzd2l0Y2hlZC4gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBuZWdhdGl2ZSBmbGFnLlxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KSB7XG4gICAgY29uc3QgY3VycmVudENhc2UgPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF07XG4gICAgcmV0dXJuIGN1cnJlbnRDYXNlID09PSBudWxsID8gY3VycmVudENhc2UgOiAoY3VycmVudENhc2UgPCAwID8gfmN1cnJlbnRDYXNlIDogY3VycmVudENhc2UpO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZShtZXJnZWRDb2RlKSB7XG4gICAgcmV0dXJuIG1lcmdlZENvZGUgPj4+IDE3IC8qIFNISUZUX1BBUkVOVCAqLztcbn1cbmZ1bmN0aW9uIGdldFJlZkZyb21JY3VDcmVhdGVPcENvZGUobWVyZ2VkQ29kZSkge1xuICAgIHJldHVybiAobWVyZ2VkQ29kZSAmIDEzMTA3MCAvKiBNQVNLX1JFRiAqLykgPj4+IDEgLyogU0hJRlRfUkVGICovO1xufVxuZnVuY3Rpb24gZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlKG1lcmdlZENvZGUpIHtcbiAgICByZXR1cm4gbWVyZ2VkQ29kZSAmIDEgLyogTUFTS19JTlNUUlVDVElPTiAqLztcbn1cbmZ1bmN0aW9uIGljdUNyZWF0ZU9wQ29kZShvcENvZGUsIHBhcmVudElkeCwgcmVmSWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChwYXJlbnRJZHgsIDAsICdNaXNzaW5nIHBhcmVudCBpbmRleCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihyZWZJZHgsIDAsICdNaXNzaW5nIHJlZiBpbmRleCcpO1xuICAgIHJldHVybiBvcENvZGUgfCBwYXJlbnRJZHggPDwgMTcgLyogU0hJRlRfUEFSRU5UICovIHwgcmVmSWR4IDw8IDEgLyogU0hJRlRfUkVGICovO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogS2VlcCB0cmFjayBvZiB3aGljaCBpbnB1dCBiaW5kaW5ncyBpbiBgybXJtWkxOG5FeHBgIGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgdG8gZWZmaWNpZW50bHkgdXBkYXRlIGV4cHJlc3Npb25zIGluIGkxOG4gb25seSB3aGVuIHRoZSBjb3JyZXNwb25kaW5nIGlucHV0IGhhc1xuICogY2hhbmdlZC5cbiAqXG4gKiAxKSBFYWNoIGJpdCByZXByZXNlbnRzIHdoaWNoIG9mIHRoZSBgybXJtWkxOG5FeHBgIGhhcyBjaGFuZ2VkLlxuICogMikgVGhlcmUgYXJlIDMyIGJpdHMgYWxsb3dlZCBpbiBKUy5cbiAqIDMpIEJpdCAzMiBpcyBzcGVjaWFsIGFzIGl0IGlzIHNoYXJlZCBmb3IgYWxsIGNoYW5nZXMgcGFzdCAzMi4gKEluIG90aGVyIHdvcmRzIGlmIHlvdSBoYXZlIG1vcmVcbiAqIHRoYW4gMzIgYMm1ybVpMThuRXhwYCB0aGVuIGFsbCBjaGFuZ2VzIHBhc3QgMzJuZCBgybXJtWkxOG5FeHBgIHdpbGwgYmUgbWFwcGVkIHRvIHNhbWUgYml0LiBUaGlzIG1lYW5zXG4gKiB0aGF0IHdlIG1heSBlbmQgdXAgY2hhbmdpbmcgbW9yZSB0aGFuIHdlIG5lZWQgdG8uIEJ1dCBpMThuIGV4cHJlc3Npb25zIHdpdGggMzIgYmluZGluZ3MgaXMgcmFyZVxuICogc28gaW4gcHJhY3RpY2UgaXQgc2hvdWxkIG5vdCBiZSBhbiBpc3N1ZS4pXG4gKi9cbmxldCBjaGFuZ2VNYXNrID0gMGIwO1xuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB3aGljaCBiaXQgbmVlZHMgdG8gYmUgdXBkYXRlZCBpbiBgY2hhbmdlTWFza2BcbiAqXG4gKiBUaGlzIHZhbHVlIGdldHMgaW5jcmVtZW50ZWQgb24gZXZlcnkgY2FsbCB0byBgybXJtWkxOG5FeHBgXG4gKi9cbmxldCBjaGFuZ2VNYXNrQ291bnRlciA9IDA7XG4vKipcbiAqIEtlZXAgdHJhY2sgb2Ygd2hpY2ggaW5wdXQgYmluZGluZ3MgaW4gYMm1ybVpMThuRXhwYCBoYXZlIGNoYW5nZWQuXG4gKlxuICogYHNldE1hc2tCaXRgIGdldHMgaW52b2tlZCBieSBlYWNoIGNhbGwgdG8gYMm1ybVpMThuRXhwYC5cbiAqXG4gKiBAcGFyYW0gaGFzQ2hhbmdlIGRpZCBgybXJtWkxOG5FeHBgIGRldGVjdCBhIGNoYW5nZS5cbiAqL1xuZnVuY3Rpb24gc2V0TWFza0JpdChoYXNDaGFuZ2UpIHtcbiAgICBpZiAoaGFzQ2hhbmdlKSB7XG4gICAgICAgIGNoYW5nZU1hc2sgPSBjaGFuZ2VNYXNrIHwgKDEgPDwgTWF0aC5taW4oY2hhbmdlTWFza0NvdW50ZXIsIDMxKSk7XG4gICAgfVxuICAgIGNoYW5nZU1hc2tDb3VudGVyKys7XG59XG5mdW5jdGlvbiBhcHBseUkxOG4odFZpZXcsIGxWaWV3LCBpbmRleCkge1xuICAgIGlmIChjaGFuZ2VNYXNrQ291bnRlciA+IDApIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIGB0VmlldyBzaG91bGQgYmUgZGVmaW5lZGApO1xuICAgICAgICBjb25zdCB0STE4biA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgICAgICAvLyBXaGVuIGBpbmRleGAgcG9pbnRzIHRvIGFuIGDJtcm1aTE4bkF0dHJpYnV0ZXNgIHRoZW4gd2UgaGF2ZSBhbiBhcnJheSBvdGhlcndpc2UgYFRJMThuYFxuICAgICAgICBjb25zdCB1cGRhdGVPcENvZGVzID0gQXJyYXkuaXNBcnJheSh0STE4bikgPyB0STE4biA6IHRJMThuLnVwZGF0ZTtcbiAgICAgICAgY29uc3QgYmluZGluZ3NTdGFydEluZGV4ID0gZ2V0QmluZGluZ0luZGV4KCkgLSBjaGFuZ2VNYXNrQ291bnRlciAtIDE7XG4gICAgICAgIGFwcGx5VXBkYXRlT3BDb2Rlcyh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIGJpbmRpbmdzU3RhcnRJbmRleCwgY2hhbmdlTWFzayk7XG4gICAgfVxuICAgIC8vIFJlc2V0IGNoYW5nZU1hc2sgJiBtYXNrQml0IHRvIGRlZmF1bHQgZm9yIHRoZSBuZXh0IHVwZGF0ZSBjeWNsZVxuICAgIGNoYW5nZU1hc2sgPSAwYjA7XG4gICAgY2hhbmdlTWFza0NvdW50ZXIgPSAwO1xufVxuLyoqXG4gKiBBcHBseSBgSTE4bkNyZWF0ZU9wQ29kZXNgIG9wLWNvZGVzIGFzIHN0b3JlZCBpbiBgVEkxOG4uY3JlYXRlYC5cbiAqXG4gKiBDcmVhdGVzIHRleHQgKGFuZCBjb21tZW50KSBub2RlcyB3aGljaCBhcmUgaW50ZXJuYXRpb25hbGl6ZWQuXG4gKlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgbFZpZXdcbiAqIEBwYXJhbSBjcmVhdGVPcENvZGVzIFNldCBvZiBvcC1jb2RlcyB0byBhcHBseVxuICogQHBhcmFtIHBhcmVudFJOb2RlIFBhcmVudCBub2RlIChzbyB0aGF0IGRpcmVjdCBjaGlsZHJlbiBjYW4gYmUgYWRkZWQgZWFnZXJseSkgb3IgYG51bGxgIGlmIGl0IGlzXG4gKiAgICAgYSByb290IG5vZGUuXG4gKiBAcGFyYW0gaW5zZXJ0SW5Gcm9udE9mIERPTSBub2RlIHRoYXQgc2hvdWxkIGJlIHVzZWQgYXMgYW4gYW5jaG9yLlxuICovXG5mdW5jdGlvbiBhcHBseUNyZWF0ZU9wQ29kZXMobFZpZXcsIGNyZWF0ZU9wQ29kZXMsIHBhcmVudFJOb2RlLCBpbnNlcnRJbkZyb250T2YpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNyZWF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gY3JlYXRlT3BDb2Rlc1tpKytdO1xuICAgICAgICBjb25zdCB0ZXh0ID0gY3JlYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgY29uc3QgaXNDb21tZW50ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVCkgPT09IEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVDtcbiAgICAgICAgY29uc3QgYXBwZW5kTm93ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFkpID09PSBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9wQ29kZSA+Pj4gSTE4bkNyZWF0ZU9wQ29kZS5TSElGVDtcbiAgICAgICAgbGV0IHJOb2RlID0gbFZpZXdbaW5kZXhdO1xuICAgICAgICBpZiAock5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgY3JlYXRlIG5ldyBET00gbm9kZXMgaWYgdGhleSBkb24ndCBhbHJlYWR5IGV4aXN0OiBJZiBJQ1Ugc3dpdGNoZXMgY2FzZSBiYWNrIHRvIGFcbiAgICAgICAgICAgIC8vIGNhc2Ugd2hpY2ggd2FzIGFscmVhZHkgaW5zdGFudGlhdGVkLCBubyBuZWVkIHRvIGNyZWF0ZSBuZXcgRE9NIG5vZGVzLlxuICAgICAgICAgICAgck5vZGUgPSBsVmlld1tpbmRleF0gPVxuICAgICAgICAgICAgICAgIGlzQ29tbWVudCA/IHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQodGV4dCkgOiBjcmVhdGVUZXh0Tm9kZShyZW5kZXJlciwgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcGVuZE5vdyAmJiBwYXJlbnRSTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgck5vZGUsIGluc2VydEluRnJvbnRPZiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBgSTE4bk11dGF0ZU9wQ29kZXNgIE9wQ29kZXMuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIG11dGFibGVPcENvZGVzIE11dGFibGUgT3BDb2RlcyB0byBwcm9jZXNzXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gYW5jaG9yUk5vZGUgcGxhY2Ugd2hlcmUgdGhlIGkxOG4gbm9kZSBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5TXV0YWJsZU9wQ29kZXModFZpZXcsIG11dGFibGVPcENvZGVzLCBsVmlldywgYW5jaG9yUk5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShhbmNob3JSTm9kZSk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgLy8gYHJvb3RJZHhgIHJlcHJlc2VudHMgdGhlIG5vZGUgaW50byB3aGljaCBhbGwgaW5zZXJ0cyBoYXBwZW4uXG4gICAgbGV0IHJvb3RJZHggPSBudWxsO1xuICAgIC8vIGByb290Uk5vZGVgIHJlcHJlc2VudHMgdGhlIHJlYWwgbm9kZSBpbnRvIHdoaWNoIHdlIGluc2VydC4gVGhpcyBjYW4gYmUgZGlmZmVyZW50IGZyb21cbiAgICAvLyBgbFZpZXdbcm9vdElkeF1gIGlmIHdlIGhhdmUgcHJvamVjdGlvbi5cbiAgICAvLyAgLSBudWxsIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgKGFzIGNhbiBiZSB0aGUgY2FzZSBpbiB3aGVuIHdlIGFyZSBpbnNlcnRpbmcgaW50byBhIHJvb3Qgb2ZcbiAgICAvLyAgICBMVmlldyB3aGljaCBoYXMgbm8gcGFyZW50LilcbiAgICAvLyAgLSBgUkVsZW1lbnRgIFRoZSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgcm9vdCBhZnRlciB0YWtpbmcgcHJvamVjdGlvbiBpbnRvIGFjY291bnQuXG4gICAgbGV0IHJvb3RSTm9kZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGFibGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IG11dGFibGVPcENvZGVzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIG9wQ29kZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgdGV4dE5vZGVJbmRleCA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICBpZiAobFZpZXdbdGV4dE5vZGVJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUrKztcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0ZXh0Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICBsVmlld1t0ZXh0Tm9kZUluZGV4XSA9IGNyZWF0ZVRleHROb2RlKHJlbmRlcmVyLCBvcENvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHN3aXRjaCAob3BDb2RlICYgMSAvKiBNQVNLX0lOU1RSVUNUSU9OICovKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIEFwcGVuZENoaWxkICovOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZHggPSBnZXRQYXJlbnRGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290SWR4ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZmlyc3Qgb3BlcmF0aW9uIHNob3VsZCBzYXZlIHRoZSBgcm9vdElkeGAgYmVjYXVzZSB0aGUgZmlyc3Qgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtdXN0IGluc2VydCBpbnRvIHRoZSByb290LiAoT25seSBzdWJzZXF1ZW50IG9wZXJhdGlvbnMgY2FuIGluc2VydCBpbnRvIGEgZHluYW1pY1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdElkeCA9IHBhcmVudElkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RSTm9kZSA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIGFuY2hvclJOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0SW5Gcm9udE9mO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50Uk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRJZHggPT09IHJvb3RJZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEluRnJvbnRPZiA9IGFuY2hvclJOb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Uk5vZGUgPSByb290Uk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRJbkZyb250T2YgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Uk5vZGUgPSB1bndyYXBSTm9kZShsVmlld1twYXJlbnRJZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRShtaXNrbyk6IFJlZmFjdG9yIHdpdGggYHByb2Nlc3NJMThuVGV4dGBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFJOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGBMVmlld2Agd2UgYXJlIGFkZGluZyB0byBpcyBub3QgYXR0YWNoZWQgdG8gYSBwYXJlbnQgYExWaWV3YC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlIHRoZXJlIGlzIG5vIFwicm9vdFwiIHdlIGNhbiBhdHRhY2ggdG8uIFRoaXMgaXMgZmluZSwgYXMgd2Ugc3RpbGwgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBlbGVtZW50cy4gV2hlbiB0aGUgYExWaWV3YCBnZXRzIGxhdGVyIGFkZGVkIHRvIGEgcGFyZW50IHRoZXNlIFwicm9vdFwiIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgcGlja2VkIHVwIGFuZCBhZGRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKHBhcmVudFJOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZklkeCA9IGdldFJlZkZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihyZWZJZHgsIEhFQURFUl9PRkZTRVQsICdNaXNzaW5nIHJlZicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYHVud3JhcFJOb2RlYCBpcyBub3QgbmVlZGVkIGhlcmUgYXMgYWxsIG9mIHRoZXNlIHBvaW50IHRvIFJOb2RlcyBhcyBwYXJ0IG9mIHRoZSBpMThuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBjYW4ndCBoYXZlIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGxWaWV3W3JlZklkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCBjaGlsZCwgaW5zZXJ0SW5Gcm9udE9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0SWN1ID0gZ2V0VEljdSh0VmlldywgcmVmSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0SWN1ICE9PSBudWxsICYmIHR5cGVvZiB0SWN1ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGp1c3QgYWRkZWQgYSBjb21tZW50IG5vZGUgd2hpY2ggaGFzIElDVSB0aGVuIHRoYXQgSUNVIG1heSBoYXZlIGFscmVhZHkgYmVlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlcmVkIGFuZCB0aGVyZWZvcmUgd2UgbmVlZCB0byByZS1hZGQgaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VEljdSh0SWN1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXNlSW5kZXggPSBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5TXV0YWJsZU9wQ29kZXModFZpZXcsIHRJY3UuY3JlYXRlW2Nhc2VJbmRleF0sIGxWaWV3LCBsVmlld1t0SWN1LmFuY2hvcklkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudE5vZGVJbmRleCA9IG9wQ29kZSA+Pj4gMSAvKiBTSElGVF9SRUYgKi87XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb2RlIGlzIHVzZWQgZm9yIElDVSBleHByZXNzaW9ucyBvbmx5LCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMvY29tcG9uZW50cyBpbiBJQ1VzLCB3ZSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGlucHV0cyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRBdHRyaWJ1dGUocmVuZGVyZXIsIGdldE5hdGl2ZUJ5SW5kZXgoZWxlbWVudE5vZGVJbmRleCwgbFZpZXcpLCBudWxsLCBudWxsLCBhdHRyTmFtZSwgYXR0clZhbHVlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig3MDAgLyogSU5WQUxJRF9JMThOX1NUUlVDVFVSRSAqLywgYFVuYWJsZSB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgbXV0YXRlIG9wZXJhdGlvbiBmb3IgXCIke29wQ29kZX1cImApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgSUNVX01BUktFUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudFZhbHVlID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudE5vZGVJbmRleCA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsVmlld1tjb21tZW50Tm9kZUluZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIGNvbW1lbnRWYWx1ZSwgJ3N0cmluZycsIGBFeHBlY3RlZCBcIiR7Y29tbWVudFZhbHVlfVwiIHRvIGJlIGEgY29tbWVudCBub2RlIHZhbHVlYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGNvbW1lbnROb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudFJOb2RlID0gbFZpZXdbY29tbWVudE5vZGVJbmRleF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvbW1lbnROb2RlKHJlbmRlcmVyLCBjb21tZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBBdHRhY2hpbmcgcGF0Y2ggZGF0YSBpcyBvbmx5IG5lZWRlZCBmb3IgdGhlIHJvb3QgKEFsc28gYWRkIHRlc3RzKVxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbW1lbnRSTm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUxFTUVOVF9NQVJLRVI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50Tm9kZUluZGV4ID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxWaWV3W2VsZW1lbnROb2RlSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgdGFnTmFtZSwgJ3N0cmluZycsIGBFeHBlY3RlZCBcIiR7dGFnTmFtZX1cIiB0byBiZSBhbiBlbGVtZW50IG5vZGUgdGFnIG5hbWVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVFbGVtZW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgZWxlbWVudE5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50Uk5vZGUgPSBsVmlld1tlbGVtZW50Tm9kZUluZGV4XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudE5vZGUocmVuZGVyZXIsIHRhZ05hbWUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBBdHRhY2hpbmcgcGF0Y2ggZGF0YSBpcyBvbmx5IG5lZWRlZCBmb3IgdGhlIHJvb3QgKEFsc28gYWRkIHRlc3RzKVxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGVsZW1lbnRSTm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihgVW5hYmxlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBtdXRhdGUgb3BlcmF0aW9uIGZvciBcIiR7b3BDb2RlfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IGBJMThuVXBkYXRlT3BDb2Rlc2AgT3BDb2Rlc1xuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSB1cGRhdGVPcENvZGVzIE9wQ29kZXMgdG8gcHJvY2Vzc1xuICogQHBhcmFtIGJpbmRpbmdzU3RhcnRJbmRleCBMb2NhdGlvbiBvZiB0aGUgZmlyc3QgYMm1ybVpMThuQXBwbHlgXG4gKiBAcGFyYW0gY2hhbmdlTWFzayBFYWNoIGJpdCBjb3JyZXNwb25kcyB0byBhIGDJtcm1aTE4bkV4cGAgKENvdW50aW5nIGJhY2t3YXJkcyBmcm9tXG4gKiAgICAgYGJpbmRpbmdzU3RhcnRJbmRleGApXG4gKi9cbmZ1bmN0aW9uIGFwcGx5VXBkYXRlT3BDb2Rlcyh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIGJpbmRpbmdzU3RhcnRJbmRleCwgY2hhbmdlTWFzaykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBiaXQgY29kZSB0byBjaGVjayBpZiB3ZSBzaG91bGQgYXBwbHkgdGhlIG5leHQgdXBkYXRlXG4gICAgICAgIGNvbnN0IGNoZWNrQml0ID0gdXBkYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgLy8gTnVtYmVyIG9mIG9wQ29kZXMgdG8gc2tpcCB1bnRpbCBuZXh0IHNldCBvZiB1cGRhdGUgY29kZXNcbiAgICAgICAgY29uc3Qgc2tpcENvZGVzID0gdXBkYXRlT3BDb2Rlc1srK2ldO1xuICAgICAgICBpZiAoY2hlY2tCaXQgJiBjaGFuZ2VNYXNrKSB7XG4gICAgICAgICAgICAvLyBUaGUgdmFsdWUgaGFzIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IGNoZWNrZWRcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDw9IChpICsgc2tpcENvZGVzKTsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3BDb2RlID0gdXBkYXRlT3BDb2Rlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wQ29kZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBvcENvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wQ29kZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG9wQ29kZSByZXByZXNlbnQgYGkxOG5FeHBgIHZhbHVlcyBvZmZzZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSByZW5kZXJTdHJpbmdpZnkobFZpZXdbYmluZGluZ3NTdGFydEluZGV4IC0gb3BDb2RlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlSW5kZXggPSAob3BDb2RlID4+PiAyIC8qIFNISUZUX1JFRiAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSAmIDMgLyogTUFTS19PUENPREUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcE5hbWUgPSB1cGRhdGVPcENvZGVzWysral07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbml0aXplRm4gPSB1cGRhdGVPcENvZGVzWysral07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHROb2RlT3JUYWdOYW1lID0gdFZpZXcuZGF0YVtub2RlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZU9yVGFnTmFtZSwgJ0V4cGVydGluZyBUTm9kZSBvciBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0Tm9kZU9yVGFnTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElGIHdlIGRvbid0IGhhdmUgYSBgVE5vZGVgLCB0aGVuIHdlIGFyZSBhbiBlbGVtZW50IGluIElDVSAoYXMgSUNVIGNvbnRlbnQgZG9lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90IGhhdmUgVE5vZGUpLCBpbiB3aGljaCBjYXNlIHdlIGtub3cgdGhhdCB0aGVyZSBhcmUgbm8gZGlyZWN0aXZlcywgYW5kIGhlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSB1c2UgYXR0cmlidXRlIHNldHRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50QXR0cmlidXRlKGxWaWV3W1JFTkRFUkVSXSwgbFZpZXdbbm9kZUluZGV4XSwgbnVsbCwgdE5vZGVPclRhZ05hbWUsIHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVGbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGVPclRhZ05hbWUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVGbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUZXh0ICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByVGV4dCA9IGxWaWV3W25vZGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJUZXh0ICE9PSBudWxsICYmIHVwZGF0ZVRleHROb2RlKGxWaWV3W1JFTkRFUkVSXSwgclRleHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIEljdVN3aXRjaCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlJY3VTd2l0Y2hDYXNlKHRWaWV3LCBnZXRUSWN1KHRWaWV3LCBub2RlSW5kZXgpLCBsVmlldywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogSWN1VXBkYXRlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUljdVVwZGF0ZUNhc2UodFZpZXcsIGdldFRJY3UodFZpZXcsIG5vZGVJbmRleCksIGJpbmRpbmdzU3RhcnRJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9wQ29kZSA9IHVwZGF0ZU9wQ29kZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKG9wQ29kZSA+IDAgJiYgKG9wQ29kZSAmIDMgLyogTUFTS19PUENPREUgKi8pID09PSAzIC8qIEljdVVwZGF0ZSAqLykge1xuICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdGhlIGBpY3VVcGRhdGVDYXNlYC4gSXQgY291bGQgYmUgdGhhdCB0aGUgbWFzayBkaWQgbm90IG1hdGNoLCBidXRcbiAgICAgICAgICAgICAgICAvLyB3ZSBzdGlsbCBuZWVkIHRvIGV4ZWN1dGUgYGljdVVwZGF0ZUNhc2VgIGJlY2F1c2UgdGhlIGNhc2UgaGFzIGNoYW5nZWQgcmVjZW50bHkgZHVlIHRvXG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgYGljdVN3aXRjaENhc2VgIGluc3RydWN0aW9uLiAoYGljdVN3aXRjaENhc2VgIGFuZCBgaWN1VXBkYXRlQ2FzZWAgYWx3YXlzIGNvbWUgaW5cbiAgICAgICAgICAgICAgICAvLyBwYWlycy4pXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUluZGV4ID0gKG9wQ29kZSA+Pj4gMiAvKiBTSElGVF9SRUYgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRJY3UgPSBnZXRUSWN1KHRWaWV3LCBub2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBhcHBseUljdVVwZGF0ZUNhc2UodFZpZXcsIHRJY3UsIGJpbmRpbmdzU3RhcnRJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpICs9IHNraXBDb2RlcztcbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IE9wQ29kZXMgYXNzb2NpYXRlZCB3aXRoIHVwZGF0aW5nIGFuIGV4aXN0aW5nIElDVS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gdEljdSBDdXJyZW50IGBUSWN1YFxuICogQHBhcmFtIGJpbmRpbmdzU3RhcnRJbmRleCBMb2NhdGlvbiBvZiB0aGUgZmlyc3QgYMm1ybVpMThuQXBwbHlgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SWN1VXBkYXRlQ2FzZSh0VmlldywgdEljdSwgYmluZGluZ3NTdGFydEluZGV4LCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHRJY3UuY3VycmVudENhc2VMVmlld0luZGV4KTtcbiAgICBsZXQgYWN0aXZlQ2FzZUluZGV4ID0gbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdO1xuICAgIGlmIChhY3RpdmVDYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBjaGFuZ2VNYXNrO1xuICAgICAgICBpZiAoYWN0aXZlQ2FzZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGZsYWcuXG4gICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXIgbWVhbnMgdGhhdCB0aGUgSUNVIHdhcyBmcmVzaGx5IGNyZWF0ZWQgYW5kIHdlIG5lZWQgdG8gZm9yY2UgdGhlIHVwZGF0ZS5cbiAgICAgICAgICAgIGFjdGl2ZUNhc2VJbmRleCA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XSA9IH5hY3RpdmVDYXNlSW5kZXg7XG4gICAgICAgICAgICAvLyAtMSBpcyBzYW1lIGFzIGFsbCBiaXRzIG9uLCB3aGljaCBzaW11bGF0ZXMgY3JlYXRpb24gc2luY2UgaXQgbWFya3MgYWxsIGJpdHMgZGlydHlcbiAgICAgICAgICAgIG1hc2sgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBhcHBseVVwZGF0ZU9wQ29kZXModFZpZXcsIGxWaWV3LCB0SWN1LnVwZGF0ZVthY3RpdmVDYXNlSW5kZXhdLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIG1hc2spO1xuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgT3BDb2RlcyBhc3NvY2lhdGVkIHdpdGggc3dpdGNoaW5nIGEgY2FzZSBvbiBJQ1UuXG4gKlxuICogVGhpcyBpbnZvbHZlcyB0ZWFyaW5nIGRvd24gZXhpc3RpbmcgY2FzZSBhbmQgdGhhbiBidWlsZGluZyB1cCBhIG5ldyBjYXNlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSB0SWN1IEN1cnJlbnQgYFRJY3VgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgb2YgdGhlIGNhc2UgdG8gdXBkYXRlIHRvLlxuICovXG5mdW5jdGlvbiBhcHBseUljdVN3aXRjaENhc2UodFZpZXcsIHRJY3UsIGxWaWV3LCB2YWx1ZSkge1xuICAgIC8vIFJlYnVpbGQgYSBuZXcgY2FzZSBmb3IgdGhpcyBJQ1VcbiAgICBjb25zdCBjYXNlSW5kZXggPSBnZXRDYXNlSW5kZXgodEljdSwgdmFsdWUpO1xuICAgIGxldCBhY3RpdmVDYXNlSW5kZXggPSBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KTtcbiAgICBpZiAoYWN0aXZlQ2FzZUluZGV4ICE9PSBjYXNlSW5kZXgpIHtcbiAgICAgICAgYXBwbHlJY3VTd2l0Y2hDYXNlUmVtb3ZlKHRWaWV3LCB0SWN1LCBsVmlldyk7XG4gICAgICAgIGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XSA9IGNhc2VJbmRleCA9PT0gbnVsbCA/IG51bGwgOiB+Y2FzZUluZGV4O1xuICAgICAgICBpZiAoY2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIG5vZGVzIGZvciB0aGUgbmV3IGNhc2VcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclJOb2RlID0gbFZpZXdbdEljdS5hbmNob3JJZHhdO1xuICAgICAgICAgICAgaWYgKGFuY2hvclJOb2RlKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoYW5jaG9yUk5vZGUpO1xuICAgICAgICAgICAgICAgIGFwcGx5TXV0YWJsZU9wQ29kZXModFZpZXcsIHRJY3UuY3JlYXRlW2Nhc2VJbmRleF0sIGxWaWV3LCBhbmNob3JSTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IE9wQ29kZXMgYXNzb2NpYXRlZCB3aXRoIHRlYXJpbmcgSUNVIGNhc2UuXG4gKlxuICogVGhpcyBpbnZvbHZlcyB0ZWFyaW5nIGRvd24gZXhpc3RpbmcgY2FzZSBhbmQgdGhhbiBidWlsZGluZyB1cCBhIG5ldyBjYXNlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSB0SWN1IEN1cnJlbnQgYFRJY3VgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSh0VmlldywgdEljdSwgbFZpZXcpIHtcbiAgICBsZXQgYWN0aXZlQ2FzZUluZGV4ID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgaWYgKGFjdGl2ZUNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByZW1vdmVDb2RlcyA9IHRJY3UucmVtb3ZlW2FjdGl2ZUNhc2VJbmRleF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVPckljdUluZGV4ID0gcmVtb3ZlQ29kZXNbaV07XG4gICAgICAgICAgICBpZiAobm9kZU9ySWN1SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVycyBhcmUgYFJOb2RlYHMuXG4gICAgICAgICAgICAgICAgY29uc3Qgck5vZGUgPSBnZXROYXRpdmVCeUluZGV4KG5vZGVPckljdUluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICAgICAgck5vZGUgIT09IG51bGwgJiYgbmF0aXZlUmVtb3ZlTm9kZShsVmlld1tSRU5ERVJFUl0sIHJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlcnMgYXJlIElDVXNcbiAgICAgICAgICAgICAgICBhcHBseUljdVN3aXRjaENhc2VSZW1vdmUodFZpZXcsIGdldFRJY3UodFZpZXcsIH5ub2RlT3JJY3VJbmRleCksIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2FzZSBvZiBhbiBJQ1UgZXhwcmVzc2lvbiBkZXBlbmRpbmcgb24gdGhlIG1haW4gYmluZGluZyB2YWx1ZVxuICpcbiAqIEBwYXJhbSBpY3VFeHByZXNzaW9uXG4gKiBAcGFyYW0gYmluZGluZ1ZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbWFpbiBiaW5kaW5nIHVzZWQgYnkgdGhpcyBJQ1UgZXhwcmVzc2lvblxuICovXG5mdW5jdGlvbiBnZXRDYXNlSW5kZXgoaWN1RXhwcmVzc2lvbiwgYmluZGluZ1ZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKGJpbmRpbmdWYWx1ZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBzd2l0Y2ggKGljdUV4cHJlc3Npb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIHBsdXJhbCAqLzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ2FzZSA9IGdldFBsdXJhbENhc2UoYmluZGluZ1ZhbHVlLCBnZXRMb2NhbGVJZCgpKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZihyZXNvbHZlZENhc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEgJiYgcmVzb2x2ZWRDYXNlICE9PSAnb3RoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKCdvdGhlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMCAvKiBzZWxlY3QgKi86IHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZignb3RoZXInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gbnVsbCA6IGluZGV4O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGxvYWRJY3VDb250YWluZXJWaXNpdG9yKCkge1xuICAgIGNvbnN0IF9zdGFjayA9IFtdO1xuICAgIGxldCBfaW5kZXggPSAtMTtcbiAgICBsZXQgX2xWaWV3O1xuICAgIGxldCBfcmVtb3ZlcztcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBzZXQgb2Ygcm9vdCBub2RlcyBmcm9tIGBUSWN1LnJlbW92ZWAuIFVzZWQgYnkgYFROb2RlVHlwZS5JQ1VDb250YWluZXJgXG4gICAgICogdG8gZGV0ZXJtaW5lIHdoaWNoIHJvb3QgYmVsb25nIHRvIHRoZSBJQ1UuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlIG9mIHVzYWdlLlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IG5leHRSTm9kZSA9IGljdUNvbnRhaW5lckl0ZXJhdG9yU3RhcnQodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KTtcbiAgICAgKiBsZXQgck5vZGU6IFJOb2RlfG51bGw7XG4gICAgICogd2hpbGUock5vZGUgPSBuZXh0Uk5vZGUoKSkge1xuICAgICAqICAgY29uc29sZS5sb2cock5vZGUpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0SWN1Q29udGFpbmVyTm9kZSBDdXJyZW50IGBUSWN1Q29udGFpbmVyTm9kZWBcbiAgICAgKiBAcGFyYW0gbFZpZXcgYExWaWV3YCB3aGVyZSB0aGUgYFJOb2RlYHMgc2hvdWxkIGJlIGxvb2tlZCB1cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpY3VDb250YWluZXJJdGVyYXRvclN0YXJ0KHRJY3VDb250YWluZXJOb2RlLCBsVmlldykge1xuICAgICAgICBfbFZpZXcgPSBsVmlldztcbiAgICAgICAgd2hpbGUgKF9zdGFjay5sZW5ndGgpXG4gICAgICAgICAgICBfc3RhY2sucG9wKCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHRJY3VDb250YWluZXJOb2RlLCBsVmlldyk7XG4gICAgICAgIGVudGVySWN1KHRJY3VDb250YWluZXJOb2RlLnZhbHVlLCBsVmlldyk7XG4gICAgICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvck5leHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGVySWN1KHRJY3UsIGxWaWV3KSB7XG4gICAgICAgIF9pbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDYXNlID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgICAgIGlmIChjdXJyZW50Q2FzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UoY3VycmVudENhc2UsIDAsIHRJY3UuY2FzZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBfcmVtb3ZlcyA9IHRJY3UucmVtb3ZlW2N1cnJlbnRDYXNlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9yZW1vdmVzID0gRU1QVFlfQVJSQVk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0KCkge1xuICAgICAgICBpZiAoX2luZGV4IDwgX3JlbW92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVPcENvZGUgPSBfcmVtb3Zlc1tfaW5kZXgrK107XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHJlbW92ZU9wQ29kZSwgJ0V4cGVjdGluZyBPcENvZGUgbnVtYmVyJyk7XG4gICAgICAgICAgICBpZiAocmVtb3ZlT3BDb2RlID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJOb2RlID0gX2xWaWV3W3JlbW92ZU9wQ29kZV07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUock5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9zdGFjay5wdXNoKF9pbmRleCwgX3JlbW92ZXMpO1xuICAgICAgICAgICAgICAgIC8vIElDVXMgYXJlIHJlcHJlc2VudGVkIGJ5IG5lZ2F0aXZlIGluZGljZXNcbiAgICAgICAgICAgICAgICBjb25zdCB0SWN1SW5kZXggPSB+cmVtb3ZlT3BDb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRJY3UgPSBfbFZpZXdbVFZJRVddLmRhdGFbdEljdUluZGV4XTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VEljdSh0SWN1KTtcbiAgICAgICAgICAgICAgICBlbnRlckljdSh0SWN1LCBfbFZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvck5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfc3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcmVtb3ZlcyA9IF9zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBfaW5kZXggPSBfc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvclN0YXJ0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29udmVydHMgYEkxOG5DcmVhdGVPcENvZGVzYCBhcnJheSBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYXR0YWNoZWQgdG8gdGhlIGBJMThuQ3JlYXRlT3BDb2Rlcy5kZWJ1Z2AgcHJvcGVydHkgaWYgYG5nRGV2TW9kZWAgaXMgZW5hYmxlZC5cbiAqIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYSBodW1hbiByZWFkYWJsZSB2aWV3IG9mIHRoZSBvcGNvZGVzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRlYnVnZ2luZyB0aGVcbiAqIGFwcGxpY2F0aW9uIGFzIHdlbGwgYXMgd3JpdGluZyBtb3JlIHJlYWRhYmxlIHRlc3RzLlxuICpcbiAqIEBwYXJhbSB0aGlzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgaWYgYXR0YWNoZWQgYXMgYSBtZXRob2QuXG4gKiBAcGFyYW0gb3Bjb2RlcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGludm9rZWQgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaTE4bkNyZWF0ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgY3JlYXRlT3BDb2RlcyA9IG9wY29kZXMgfHwgKEFycmF5LmlzQXJyYXkodGhpcykgPyB0aGlzIDogW10pO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3JlYXRlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBjcmVhdGVPcENvZGVzW2krK107XG4gICAgICAgIGNvbnN0IHRleHQgPSBjcmVhdGVPcENvZGVzW2ldO1xuICAgICAgICBjb25zdCBpc0NvbW1lbnQgPSAob3BDb2RlICYgSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UKSA9PT0gSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UO1xuICAgICAgICBjb25zdCBhcHBlbmROb3cgPSAob3BDb2RlICYgSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWSkgPT09IEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gb3BDb2RlID4+PiBJMThuQ3JlYXRlT3BDb2RlLlNISUZUO1xuICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2luZGV4fV0gPSBkb2N1bWVudC4ke2lzQ29tbWVudCA/ICdjcmVhdGVDb21tZW50JyA6ICdjcmVhdGVUZXh0J30oJHtKU09OLnN0cmluZ2lmeSh0ZXh0KX0pO2ApO1xuICAgICAgICBpZiAoYXBwZW5kTm93KSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBwYXJlbnQuYXBwZW5kQ2hpbGQobFZpZXdbJHtpbmRleH1dKTtgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcbiAqIENvbnZlcnRzIGBJMThuVXBkYXRlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4blVwZGF0ZU9wQ29kZXMuZGVidWdgIHByb3BlcnR5IGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuXG4gKiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4blVwZGF0ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5VcGRhdGVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBPcENvZGVQYXJzZXIob3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSkpO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZ1bmN0aW9uIGNvbnN1bWVPcENvZGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVmID0gdmFsdWUgPj4+IDIgLyogU0hJRlRfUkVGICovO1xuICAgICAgICBjb25zdCBvcENvZGUgPSB2YWx1ZSAmIDMgLyogTUFTS19PUENPREUgKi87XG4gICAgICAgIHN3aXRjaCAob3BDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogVGV4dCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3JlZn1dIGFzIFRleHQpLnRleHRDb250ZW50ID0gJCQkYDtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBBdHRyICovOlxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gcGFyc2VyLmNvbnN1bWVTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzYW5pdGl6YXRpb25GbiA9IHBhcnNlci5jb25zdW1lRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNhbml0aXphdGlvbkZuID8gYCgke3Nhbml0aXphdGlvbkZufSkoJCQkKWAgOiAnJCQkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3JlZn1dIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZSgnJHthdHRyTmFtZX0nLCAke3ZhbHVlfSlgO1xuICAgICAgICAgICAgY2FzZSAyIC8qIEljdVN3aXRjaCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGljdVN3aXRjaENhc2UoJHtyZWZ9LCAkJCQpYDtcbiAgICAgICAgICAgIGNhc2UgMyAvKiBJY3VVcGRhdGUgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBpY3VVcGRhdGVDYXNlKCR7cmVmfSlgO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCBPcENvZGUnKTtcbiAgICB9XG4gICAgd2hpbGUgKHBhcnNlci5oYXNNb3JlKCkpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICBsZXQgc2l6ZSA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHBhcnNlci5pICsgc2l6ZTtcbiAgICAgICAgY29uc3Qgc3RhdGVtZW50cyA9IFtdO1xuICAgICAgICBsZXQgc3RhdGVtZW50ID0gJyc7XG4gICAgICAgIHdoaWxlIChwYXJzZXIuaSA8IGVuZCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VyLmNvbnN1bWVOdW1iZXJPclN0cmluZygpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnQgKz0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSByZWYgaW5kZXhlc1xuICAgICAgICAgICAgICAgIC8vIEhlcmUgYGlgIHJlZmVycyB0byBjdXJyZW50IGJpbmRpbmcgaW5kZXguIEl0IGlzIHRvIHNpZ25pZnkgdGhhdCB0aGUgdmFsdWUgaXMgcmVsYXRpdmUsXG4gICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYWJzb2x1dGUuXG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ICs9ICcke2xWaWV3W2knICsgdmFsdWUgKyAnXX0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVycyBhcmUgb3BlcmF0aW9ucy5cbiAgICAgICAgICAgICAgICBjb25zdCBvcENvZGVUZXh0ID0gY29uc3VtZU9wQ29kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50cy5wdXNoKG9wQ29kZVRleHQucmVwbGFjZSgnJCQkJywgJ2AnICsgc3RhdGVtZW50ICsgJ2AnKSArICc7Jyk7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMucHVzaChgaWYgKG1hc2sgJiAwYiR7bWFzay50b1N0cmluZygyKX0pIHsgJHtzdGF0ZW1lbnRzLmpvaW4oJyAnKX0gfWApO1xuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcbiAqIENvbnZlcnRzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4bkNyZWF0ZU9wQ29kZXMuZGVidWdgIGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGljdUNyZWF0ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IE9wQ29kZVBhcnNlcihvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZnVuY3Rpb24gY29uc3VtZU9wQ29kZShvcENvZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICBjb25zdCByZWYgPSBnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgIHN3aXRjaCAoZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSkpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBBcHBlbmRDaGlsZCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3BhcmVudH1dIGFzIEVsZW1lbnQpLmFwcGVuZENoaWxkKGxWaWV3WyR7bGFzdFJlZn1dKWA7XG4gICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3JlZn1dIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZShcIiR7cGFyc2VyLmNvbnN1bWVTdHJpbmcoKX1cIiwgXCIke3BhcnNlci5jb25zdW1lU3RyaW5nKCl9XCIpYDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgT3BDb2RlOiAnICsgZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSkpO1xuICAgIH1cbiAgICBsZXQgbGFzdFJlZiA9IC0xO1xuICAgIHdoaWxlIChwYXJzZXIuaGFzTW9yZSgpKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlci5jb25zdW1lTnVtYmVyU3RyaW5nT3JNYXJrZXIoKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBJQ1VfTUFSS0VSKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFyc2VyLmNvbnN1bWVTdHJpbmcoKTtcbiAgICAgICAgICAgIGxhc3RSZWYgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgbFZpZXdbJHtsYXN0UmVmfV0gPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiJHt0ZXh0fVwiKWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBFTEVNRU5UX01BUktFUikge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnNlci5jb25zdW1lU3RyaW5nKCk7XG4gICAgICAgICAgICBsYXN0UmVmID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7bGFzdFJlZn1dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIiR7dGV4dH1cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsYXN0UmVmID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7bGFzdFJlZn1dID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIke3ZhbHVlfVwiKWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBjb25zdW1lT3BDb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIGxpbmUgJiYgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbi8qKlxuICogQ29udmVydHMgYEkxOG5SZW1vdmVPcENvZGVzYCBhcnJheSBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYXR0YWNoZWQgdG8gdGhlIGBJMThuUmVtb3ZlT3BDb2Rlcy5kZWJ1Z2AgaWYgYG5nRGV2TW9kZWAgaXMgZW5hYmxlZC4gVGhpc1xuICogZnVuY3Rpb24gcHJvdmlkZXMgYSBodW1hbiByZWFkYWJsZSB2aWV3IG9mIHRoZSBvcGNvZGVzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRlYnVnZ2luZyB0aGVcbiAqIGFwcGxpY2F0aW9uIGFzIHdlbGwgYXMgd3JpdGluZyBtb3JlIHJlYWRhYmxlIHRlc3RzLlxuICpcbiAqIEBwYXJhbSB0aGlzIGBJMThuUmVtb3ZlT3BDb2Rlc2AgaWYgYXR0YWNoZWQgYXMgYSBtZXRob2QuXG4gKiBAcGFyYW0gb3Bjb2RlcyBgSTE4blJlbW92ZU9wQ29kZXNgIGlmIGludm9rZWQgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaTE4blJlbW92ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgcmVtb3ZlQ29kZXMgPSBvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZUNvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGVPckljdUluZGV4ID0gcmVtb3ZlQ29kZXNbaV07XG4gICAgICAgIGlmIChub2RlT3JJY3VJbmRleCA+IDApIHtcbiAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIGBSTm9kZWBzLlxuICAgICAgICAgICAgbGluZXMucHVzaChgcmVtb3ZlKGxWaWV3WyR7bm9kZU9ySWN1SW5kZXh9XSlgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlcnMgYXJlIElDVXNcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYHJlbW92ZU5lc3RlZElDVSgke35ub2RlT3JJY3VJbmRleH0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuY2xhc3MgT3BDb2RlUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2Rlcykge1xuICAgICAgICB0aGlzLmkgPSAwO1xuICAgICAgICB0aGlzLmNvZGVzID0gY29kZXM7XG4gICAgfVxuICAgIGhhc01vcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkgPCB0aGlzLmNvZGVzLmxlbmd0aDtcbiAgICB9XG4gICAgY29uc3VtZU51bWJlcigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGFzc2VydE51bWJlcih2YWx1ZSwgJ2V4cGVjdGluZyBudW1iZXIgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3VtZVN0cmluZygpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGFzc2VydFN0cmluZyh2YWx1ZSwgJ2V4cGVjdGluZyBzdHJpbmcgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3VtZUZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0aW5nIGZ1bmN0aW9uIGluIE9wQ29kZScpO1xuICAgIH1cbiAgICBjb25zdW1lTnVtYmVyT3JTdHJpbmcoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydE51bWJlcih2YWx1ZSwgJ2V4cGVjdGluZyBudW1iZXIgb3Igc3RyaW5nIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN1bWVOdW1iZXJTdHJpbmdPck1hcmtlcigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgPT0gSUNVX01BUktFUiB8fFxuICAgICAgICAgICAgdmFsdWUgPT0gRUxFTUVOVF9NQVJLRVIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnROdW1iZXIodmFsdWUsICdleHBlY3RpbmcgbnVtYmVyLCBzdHJpbmcsIElDVV9NQVJLRVIgb3IgRUxFTUVOVF9NQVJLRVIgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgQklORElOR19SRUdFWFAgPSAv77+9KFxcZCspOj9cXGQq77+9L2dpO1xuY29uc3QgSUNVX1JFR0VYUCA9IC8oe1xccyrvv71cXGQrOj9cXGQq77+9XFxzKixcXHMqXFxTezZ9XFxzKixbXFxzXFxTXSp9KS9naTtcbmNvbnN0IE5FU1RFRF9JQ1UgPSAv77+9KFxcZCsp77+9LztcbmNvbnN0IElDVV9CTE9DS19SRUdFWFAgPSAvXlxccyoo77+9XFxkKzo/XFxkKu+/vSlcXHMqLFxccyooc2VsZWN0fHBsdXJhbClcXHMqLC87XG5jb25zdCBNQVJLRVIgPSBg77+9YDtcbmNvbnN0IFNVQlRFTVBMQVRFX1JFR0VYUCA9IC/vv71cXC8/XFwqKFxcZCs6XFxkKynvv70vZ2k7XG5jb25zdCBQSF9SRUdFWFAgPSAv77+9KFxcLz9bIypdXFxkKyk6P1xcZCrvv70vZ2k7XG4vKipcbiAqIEFuZ3VsYXIgRGFydCBpbnRyb2R1Y2VkICZuZ3NwOyBhcyBhIHBsYWNlaG9sZGVyIGZvciBub24tcmVtb3ZhYmxlIHNwYWNlLCBzZWU6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFydC1sYW5nL2FuZ3VsYXIvYmxvYi8wYmI2MTEzODdkMjlkNjViNWFmN2Y5ZDI1MTVhYjU3MWZkM2ZiZWU0L190ZXN0cy90ZXN0L2NvbXBpbGVyL3ByZXNlcnZlX3doaXRlc3BhY2VfdGVzdC5kYXJ0I0wyNS1MMzJcbiAqIEluIEFuZ3VsYXIgRGFydCAmbmdzcDsgaXMgY29udmVydGVkIHRvIHRoZSAweEU1MDAgUFVBIChQcml2YXRlIFVzZSBBcmVhcykgdW5pY29kZSBjaGFyYWN0ZXJcbiAqIGFuZCBsYXRlciBvbiByZXBsYWNlZCBieSBhIHNwYWNlLiBXZSBhcmUgcmUtaW1wbGVtZW50aW5nIHRoZSBzYW1lIGlkZWEgaGVyZSwgc2luY2UgdHJhbnNsYXRpb25zXG4gKiBtaWdodCBjb250YWluIHRoaXMgc3BlY2lhbCBjaGFyYWN0ZXIuXG4gKi9cbmNvbnN0IE5HU1BfVU5JQ09ERV9SRUdFWFAgPSAvXFx1RTUwMC9nO1xuZnVuY3Rpb24gcmVwbGFjZU5nc3AodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShOR1NQX1VOSUNPREVfUkVHRVhQLCAnICcpO1xufVxuLyoqXG4gKiBDcmVhdGUgZHluYW1pYyBub2RlcyBmcm9tIGkxOG4gdHJhbnNsYXRpb24gYmxvY2suXG4gKlxuICogLSBUZXh0IG5vZGVzIGFyZSBjcmVhdGVkIHN5bmNocm9ub3VzbHlcbiAqIC0gVE5vZGVzIGFyZSBsaW5rZWQgaW50byB0cmVlIGxhemlseVxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJlbnRUTm9kZUluZGV4IGluZGV4IHRvIHRoZSBwYXJlbnQgVE5vZGUgb2YgdGhpcyBpMThuIGJsb2NrXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgYMm1ybVpMThuU3RhcnRgIGluc3RydWN0aW9uLlxuICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBJbmRleCBpbnRvIHRoZSBzdWIgdGVtcGxhdGUgb2YgbWVzc2FnZSB0cmFuc2xhdGlvbi4gKGllIGluIGNhc2Ugb2ZcbiAqICAgICBgbmdJZmApICgtMSBvdGhlcndpc2UpXG4gKi9cbmZ1bmN0aW9uIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgcGFyZW50VE5vZGVJbmRleCwgbFZpZXcsIGluZGV4LCBtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgY29uc3Qgcm9vdFROb2RlID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgY29uc3QgY3JlYXRlT3BDb2RlcyA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZU9wQ29kZXMgPSBbXTtcbiAgICBjb25zdCBleGlzdGluZ1ROb2RlU3RhY2sgPSBbW11dO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIoY3JlYXRlT3BDb2RlcywgaTE4bkNyZWF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHVwZGF0ZU9wQ29kZXMsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICBtZXNzYWdlID0gZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZShtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KTtcbiAgICBjb25zdCBtc2dQYXJ0cyA9IHJlcGxhY2VOZ3NwKG1lc3NhZ2UpLnNwbGl0KFBIX1JFR0VYUCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtc2dQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWUgPSBtc2dQYXJ0c1tpXTtcbiAgICAgICAgaWYgKChpICYgMSkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV2ZW4gaW5kZXhlcyBhcmUgdGV4dCAoaW5jbHVkaW5nIGJpbmRpbmdzICYgSUNVIGV4cHJlc3Npb25zKVxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVKHZhbHVlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgIGlmICgoaiAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGBqYCBpcyBvZGQgdGhlcmVmb3JlIGBwYXJ0YCBpcyBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRTdHJpbmcodGV4dCwgJ1BhcnNlZCBJQ1UgcGFydCBzaG91bGQgYmUgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0ICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzUHJvY2Vzc1RleHROb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVTdGFja1swXSwgY3JlYXRlT3BDb2RlcywgdXBkYXRlT3BDb2RlcywgbFZpZXcsIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBgamAgaXMgRXZlbiB0aGVyZWZvciBgcGFydGAgaXMgYW4gYElDVUV4cHJlc3Npb25gXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdUV4cHJlc3Npb24gPSBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCBJQ1UgZXhwcmVzc2lvbiBoYXMgdGhlIHJpZ2h0IHNoYXBlLiBUcmFuc2xhdGlvbnMgbWlnaHQgY29udGFpbiBpbnZhbGlkXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdGlvbnMgKHdoaWxlIG9yaWdpbmFsIG1lc3NhZ2VzIHdlcmUgY29ycmVjdCksIHNvIElDVSBwYXJzaW5nIGF0IHJ1bnRpbWUgbWF5XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBzdWNjZWVkICh0aHVzIGBpY3VFeHByZXNzaW9uYCByZW1haW5zIGEgc3RyaW5nKS5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogd2UgaW50ZW50aW9uYWxseSByZXRhaW4gdGhlIGVycm9yIGhlcmUgYnkgbm90IHVzaW5nIGBuZ0Rldk1vZGVgLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBjYW4gY2hhbmdlIGJhc2VkIG9uIHRoZSBsb2NhbGUgYW5kIHVzZXJzIGFyZW4ndCBndWFyYW50ZWVkIHRvIGhpdFxuICAgICAgICAgICAgICAgICAgICAvLyBhbiBpbnZhbGlkIHN0cmluZyB3aGlsZSB0aGV5J3JlIGRldmVsb3BpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaWN1RXhwcmVzc2lvbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIElDVSBleHByZXNzaW9uIGluIFwiJHttZXNzYWdlfVwiIG1lc3NhZ2UuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWN1Q29udGFpbmVyVE5vZGUgPSBjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlU3RhY2tbMF0sIGxWaWV3LCBjcmVhdGVPcENvZGVzLCBuZ0Rldk1vZGUgPyBgSUNVICR7aW5kZXh9OiR7aWN1RXhwcmVzc2lvbi5tYWluQmluZGluZ31gIDogJycsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VOb2RlSW5kZXggPSBpY3VDb250YWluZXJUTm9kZS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaWN1Tm9kZUluZGV4LCBIRUFERVJfT0ZGU0VULCAnSW5kZXggbXVzdCBiZSBpbiBhYnNvbHV0ZSBMVmlldyBvZmZzZXQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWN1U3RhcnQodFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRUTm9kZUluZGV4LCBpY3VFeHByZXNzaW9uLCBpY3VOb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE9kZCBpbmRleGVzIGFyZSBwbGFjZWhvbGRlcnMgKGVsZW1lbnRzIGFuZCBzdWItdGVtcGxhdGVzKVxuICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCB2YWx1ZSBpcyBzb21ldGhpbmcgbGlrZTogJy8jMToyJyAob3JpZ2luYWxseSBjb21pbmcgZnJvbSAn77+9LyMxOjLvv70nKVxuICAgICAgICAgICAgY29uc3QgaXNDbG9zaW5nID0gdmFsdWUuY2hhckNvZGVBdCgwKSA9PT0gNDcgLyogU0xBU0ggKi87XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdmFsdWUuY2hhckNvZGVBdChpc0Nsb3NpbmcgPyAxIDogMCk7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0T25lT2YodHlwZSwgNDIgLyogU1RBUiAqLywgMzUgLyogSEFTSCAqLyk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IEhFQURFUl9PRkZTRVQgKyBOdW1iZXIucGFyc2VJbnQodmFsdWUuc3Vic3RyaW5nKChpc0Nsb3NpbmcgPyAyIDogMSkpKTtcbiAgICAgICAgICAgIGlmIChpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1ROb2RlU3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VE5vZGUoZ2V0Q3VycmVudFBhcmVudFROb2RlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHROb2RlID0gY3JlYXRlVE5vZGVQbGFjZWhvbGRlcih0VmlldywgZXhpc3RpbmdUTm9kZVN0YWNrWzBdLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUTm9kZVN0YWNrLnVuc2hpZnQoW10pO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdFZpZXcuZGF0YVtpbmRleF0gPSB7XG4gICAgICAgIGNyZWF0ZTogY3JlYXRlT3BDb2RlcyxcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVPcENvZGVzLFxuICAgIH07XG59XG4vKipcbiAqIEFsbG9jYXRlIHNwYWNlIGluIGkxOG4gUmFuZ2UgYWRkIGNyZWF0ZSBPcENvZGUgaW5zdHJ1Y3Rpb24gdG8gY3JlYXRlIGEgdGV4dCBvciBjb21tZW50IG5vZGUuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YCBuZWVkZWQgdG8gYWxsb2NhdGUgc3BhY2UgaW4gaTE4biByYW5nZS5cbiAqIEBwYXJhbSByb290VE5vZGUgUm9vdCBgVE5vZGVgIG9mIHRoZSBpMThuIGJsb2NrLiBUaGlzIG5vZGUgZGV0ZXJtaW5lcyBpZiB0aGUgbmV3IFROb2RlIHdpbGwgYmVcbiAqICAgICBhZGRlZCBhcyBwYXJ0IG9mIHRoZSBgaTE4blN0YXJ0YCBpbnN0cnVjdGlvbiBvciBhcyBwYXJ0IG9mIHRoZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGV4aXN0aW5nVE5vZGVzIGludGVybmFsIHN0YXRlIGZvciBgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgIG5lZWRlZCB0byBhbGxvY2F0ZSBzcGFjZSBpbiBpMThuIHJhbmdlLlxuICogQHBhcmFtIGNyZWF0ZU9wQ29kZXMgQXJyYXkgc3RvcmluZyBgSTE4bkNyZWF0ZU9wQ29kZXNgIHdoZXJlIG5ldyBvcENvZGVzIHdpbGwgYmUgYWRkZWQuXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIGJlIGFkZGVkIHdoZW4gdGhlIGBUZXh0YCBvciBgQ29tbWVudGAgbm9kZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKiBAcGFyYW0gaXNJQ1UgdHJ1ZSBpZiBhIGBDb21tZW50YCBub2RlIGZvciBJQ1UgKGluc3RlYWQgb2YgYFRleHRgKSBub2RlIHNob3VsZCBiZSBjcmVhdGVkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlcywgbFZpZXcsIGNyZWF0ZU9wQ29kZXMsIHRleHQsIGlzSUNVKSB7XG4gICAgY29uc3QgaTE4bk5vZGVJZHggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKTtcbiAgICBsZXQgb3BDb2RlID0gaTE4bk5vZGVJZHggPDwgSTE4bkNyZWF0ZU9wQ29kZS5TSElGVDtcbiAgICBsZXQgcGFyZW50VE5vZGUgPSBnZXRDdXJyZW50UGFyZW50VE5vZGUoKTtcbiAgICBpZiAocm9vdFROb2RlID09PSBwYXJlbnRUTm9kZSkge1xuICAgICAgICAvLyBGSVhNRShtaXNrbyk6IEEgbnVsbCBgcGFyZW50VE5vZGVgIHNob3VsZCByZXByZXNlbnQgd2hlbiB3ZSBmYWxsIG9mIHRoZSBgTFZpZXdgIGJvdW5kYXJ5LlxuICAgICAgICAvLyAodGhlcmUgaXMgbm8gcGFyZW50KSwgYnV0IGluIHNvbWUgY2lyY3Vtc3RhbmNlcyAoYmVjYXVzZSB3ZSBhcmUgaW5jb25zaXN0ZW50IGFib3V0IGhvdyB3ZSBzZXRcbiAgICAgICAgLy8gYHByZXZpb3VzT3JQYXJlbnRUTm9kZWApIGl0IGNvdWxkIHBvaW50IHRvIGByb290VE5vZGVgIFNvIHRoaXMgaXMgYSB3b3JrIGFyb3VuZC5cbiAgICAgICAgcGFyZW50VE5vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCB0aGF0IG1lYW5zIHRoYXQgd2UgY2FuIGVhZ2VybHkgYWRkIG5vZGVzLlxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcGFyZW50IHRoYW4gdGhlc2Ugbm9kZXMgY2FuJ3QgYmUgYWRkZWQgbm93IChhcyB0aGUgcGFyZW50IGhhcyBub3QgYmVlbiBjcmVhdGVkXG4gICAgICAgIC8vIHlldCkgYW5kIGluc3RlYWQgdGhlIGBwYXJlbnRUTm9kZWAgaXMgcmVzcG9uc2libGUgZm9yIGFkZGluZyBpdC4gU2VlXG4gICAgICAgIC8vIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAgICAgICAgb3BDb2RlIHw9IEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFk7XG4gICAgfVxuICAgIGlmIChpc0lDVSkge1xuICAgICAgICBvcENvZGUgfD0gSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UO1xuICAgICAgICBlbnN1cmVJY3VDb250YWluZXJWaXNpdG9yTG9hZGVkKGxvYWRJY3VDb250YWluZXJWaXNpdG9yKTtcbiAgICB9XG4gICAgY3JlYXRlT3BDb2Rlcy5wdXNoKG9wQ29kZSwgdGV4dCA9PT0gbnVsbCA/ICcnIDogdGV4dCk7XG4gICAgLy8gV2Ugc3RvcmUgYHt7P319YCBzbyB0aGF0IHdoZW4gbG9va2luZyBhdCBkZWJ1ZyBgVE5vZGVUeXBlLnRlbXBsYXRlYCB3ZSBjYW4gc2VlIHdoZXJlIHRoZVxuICAgIC8vIGJpbmRpbmdzIGFyZS5cbiAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlQXRJbmRleCh0VmlldywgaTE4bk5vZGVJZHgsIGlzSUNVID8gMzIgLyogSWN1ICovIDogMSAvKiBUZXh0ICovLCB0ZXh0ID09PSBudWxsID8gKG5nRGV2TW9kZSA/ICd7ez99fScgOiAnJykgOiB0ZXh0LCBudWxsKTtcbiAgICBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4KGV4aXN0aW5nVE5vZGVzLCB0Tm9kZSk7XG4gICAgY29uc3QgdE5vZGVJZHggPSB0Tm9kZS5pbmRleDtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlIC8qIFRleHQgbm9kZXMgYXJlIHNlbGYgY2xvc2luZyAqLyk7XG4gICAgaWYgKHBhcmVudFROb2RlICE9PSBudWxsICYmIHJvb3RUTm9kZSAhPT0gcGFyZW50VE5vZGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGEgY2hpbGQgb2YgZGVlcGVyIG5vZGUgKHJhdGhlciB0aGFuIGEgZGlyZWN0IGNoaWxkIG9mIGBpMThuU3RhcnRgIGluc3RydWN0aW9uLilcbiAgICAgICAgLy8gV2UgaGF2ZSB0byBtYWtlIHN1cmUgdG8gYWRkIG91cnNlbHZlcyB0byB0aGUgcGFyZW50LlxuICAgICAgICBzZXRUTm9kZUluc2VydEJlZm9yZUluZGV4KHBhcmVudFROb2RlLCB0Tm9kZUlkeCk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogUHJvY2Vzc2VzIHRleHQgbm9kZSBpbiBpMThuIGJsb2NrLlxuICpcbiAqIFRleHQgbm9kZXMgY2FuIGhhdmU6XG4gKiAtIENyZWF0ZSBpbnN0cnVjdGlvbiBpbiBgY3JlYXRlT3BDb2Rlc2AgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0IG5vZGUuXG4gKiAtIEFsbG9jYXRlIHNwZWMgZm9yIHRleHQgbm9kZSBpbiBpMThuIHJhbmdlIG9mIGBMVmlld2BcbiAqIC0gSWYgY29udGFpbnMgYmluZGluZzpcbiAqICAgIC0gYmluZGluZ3MgPT4gYWxsb2NhdGUgc3BhY2UgaW4gaTE4biByYW5nZSBvZiBgTFZpZXdgIHRvIHN0b3JlIHRoZSBiaW5kaW5nIHZhbHVlLlxuICogICAgLSBwb3B1bGF0ZSBgdXBkYXRlT3BDb2Rlc2Agd2l0aCB1cGRhdGUgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSByb290VE5vZGUgUm9vdCBgVE5vZGVgIG9mIHRoZSBpMThuIGJsb2NrLiBUaGlzIG5vZGUgZGV0ZXJtaW5lcyBpZiB0aGUgbmV3IFROb2RlIHdpbGxcbiAqICAgICBiZSBhZGRlZCBhcyBwYXJ0IG9mIHRoZSBgaTE4blN0YXJ0YCBpbnN0cnVjdGlvbiBvciBhcyBwYXJ0IG9mIHRoZVxuICogICAgIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gZXhpc3RpbmdUTm9kZXMgaW50ZXJuYWwgc3RhdGUgZm9yIGBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4YC5cbiAqIEBwYXJhbSBjcmVhdGVPcENvZGVzIExvY2F0aW9uIHdoZXJlIHRoZSBjcmVhdGlvbiBPcENvZGVzIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIHRleHQgVGhlIHRyYW5zbGF0ZWQgdGV4dCAod2hpY2ggbWF5IGNvbnRhaW4gYmluZGluZylcbiAqL1xuZnVuY3Rpb24gaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzUHJvY2Vzc1RleHROb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVzLCBjcmVhdGVPcENvZGVzLCB1cGRhdGVPcENvZGVzLCBsVmlldywgdGV4dCkge1xuICAgIGNvbnN0IGhhc0JpbmRpbmcgPSB0ZXh0Lm1hdGNoKEJJTkRJTkdfUkVHRVhQKTtcbiAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlQW5kQWRkT3BDb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVzLCBsVmlldywgY3JlYXRlT3BDb2RlcywgaGFzQmluZGluZyA/IG51bGwgOiB0ZXh0LCBmYWxzZSk7XG4gICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGVPcENvZGVzLCB0ZXh0LCB0Tm9kZS5pbmRleCwgbnVsbCwgMCwgbnVsbCk7XG4gICAgfVxufVxuLyoqXG4gKiBTZWUgYGkxOG5BdHRyaWJ1dGVzYCBhYm92ZS5cbiAqL1xuZnVuY3Rpb24gaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3ModFZpZXcsIGluZGV4LCB2YWx1ZXMpIHtcbiAgICBjb25zdCBwcmV2aW91c0VsZW1lbnQgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBjb25zdCBwcmV2aW91c0VsZW1lbnRJbmRleCA9IHByZXZpb3VzRWxlbWVudC5pbmRleDtcbiAgICBjb25zdCB1cGRhdGVPcENvZGVzID0gW107XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGVPcENvZGVzLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJiB0Vmlldy5kYXRhW2luZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdmFsdWVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlICE9PSAnJykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGF0dHJpYnV0ZSB2YWx1ZSBjb250YWlucyBhbiBJQ1UgYW5kIHRocm93IGFuIGVycm9yIGlmIHRoYXQncyB0aGUgY2FzZS5cbiAgICAgICAgICAgICAgICAvLyBJQ1VzIGluIGVsZW1lbnQgYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB3ZSBpbnRlbnRpb25hbGx5IHJldGFpbiB0aGUgZXJyb3IgaGVyZSBieSBub3QgdXNpbmcgYG5nRGV2TW9kZWAsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgYHZhbHVlYCBjYW4gY2hhbmdlIGJhc2VkIG9uIHRoZSBsb2NhbGUgYW5kIHVzZXJzIGFyZW4ndCBndWFyYW50ZWVkIHRvIGhpdFxuICAgICAgICAgICAgICAgIC8vIGFuIGludmFsaWQgc3RyaW5nIHdoaWxlIHRoZXkncmUgZGV2ZWxvcGluZy5cbiAgICAgICAgICAgICAgICBpZiAoSUNVX1JFR0VYUC50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSUNVIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluIGF0dHJpYnV0ZXMuIE1lc3NhZ2U6IFwiJHttZXNzYWdlfVwiLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpMThuIGF0dHJpYnV0ZXMgdGhhdCBoaXQgdGhpcyBjb2RlIHBhdGggYXJlIGd1YXJhbnRlZWQgdG8gaGF2ZSBiaW5kaW5ncywgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBjb21waWxlciB0cmVhdHMgc3RhdGljIGkxOG4gYXR0cmlidXRlcyBhcyByZWd1bGFyIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGlzIG1heSBub3QgYmUgdGhlIGZpcnN0IGkxOG4gYXR0cmlidXRlIG9uIHRoaXMgZWxlbWVudCB3ZSBuZWVkIHRvIHBhc3MgaW4gaG93XG4gICAgICAgICAgICAgICAgLy8gbWFueSBwcmV2aW91cyBiaW5kaW5ncyB0aGVyZSBoYXZlIGFscmVhZHkgYmVlbi5cbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZU9wQ29kZXMsIG1lc3NhZ2UsIHByZXZpb3VzRWxlbWVudEluZGV4LCBhdHRyTmFtZSwgY291bnRCaW5kaW5ncyh1cGRhdGVPcENvZGVzKSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSB1cGRhdGVPcENvZGVzO1xuICAgIH1cbn1cbi8qKlxuICogR2VuZXJhdGUgdGhlIE9wQ29kZXMgdG8gdXBkYXRlIHRoZSBiaW5kaW5ncyBvZiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gdXBkYXRlT3BDb2RlcyBQbGFjZSB3aGVyZSB0aGUgdXBkYXRlIG9wY29kZXMgd2lsbCBiZSBzdG9yZWQuXG4gKiBAcGFyYW0gc3RyIFRoZSBzdHJpbmcgY29udGFpbmluZyB0aGUgYmluZGluZ3MuXG4gKiBAcGFyYW0gZGVzdGluYXRpb25Ob2RlIEluZGV4IG9mIHRoZSBkZXN0aW5hdGlvbiBub2RlIHdoaWNoIHdpbGwgcmVjZWl2ZSB0aGUgYmluZGluZy5cbiAqIEBwYXJhbSBhdHRyTmFtZSBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUsIGlmIHRoZSBzdHJpbmcgYmVsb25ncyB0byBhbiBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0gc2FuaXRpemVGbiBTYW5pdGl6YXRpb24gZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgc3RyaW5nIGFmdGVyIHVwZGF0ZSwgaWYgbmVjZXNzYXJ5LlxuICogQHBhcmFtIGJpbmRpbmdTdGFydCBUaGUgbFZpZXcgaW5kZXggb2YgdGhlIG5leHQgZXhwcmVzc2lvbiB0aGF0IGNhbiBiZSBib3VuZCB2aWEgYW4gb3BDb2RlLlxuICogQHJldHVybnMgVGhlIG1hc2sgdmFsdWUgZm9yIHRoZXNlIGJpbmRpbmdzXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2Rlcywgc3RyLCBkZXN0aW5hdGlvbk5vZGUsIGF0dHJOYW1lLCBiaW5kaW5nU3RhcnQsIHNhbml0aXplRm4pIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGRlc3RpbmF0aW9uTm9kZSwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgaW4gYWJzb2x1dGUgTFZpZXcgb2Zmc2V0Jyk7XG4gICAgY29uc3QgbWFza0luZGV4ID0gdXBkYXRlT3BDb2Rlcy5sZW5ndGg7IC8vIExvY2F0aW9uIG9mIG1hc2tcbiAgICBjb25zdCBzaXplSW5kZXggPSBtYXNrSW5kZXggKyAxOyAvLyBsb2NhdGlvbiBvZiBzaXplIGZvciBza2lwcGluZ1xuICAgIHVwZGF0ZU9wQ29kZXMucHVzaChudWxsLCBudWxsKTsgLy8gQWxsb2Mgc3BhY2UgZm9yIG1hc2sgYW5kIHNpemVcbiAgICBjb25zdCBzdGFydEluZGV4ID0gbWFza0luZGV4ICsgMjsgLy8gbG9jYXRpb24gb2YgZmlyc3QgYWxsb2NhdGlvbi5cbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHVwZGF0ZU9wQ29kZXMsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0UGFydHMgPSBzdHIuc3BsaXQoQklORElOR19SRUdFWFApO1xuICAgIGxldCBtYXNrID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHRQYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB0ZXh0VmFsdWUgPSB0ZXh0UGFydHNbal07XG4gICAgICAgIGlmIChqICYgMSkge1xuICAgICAgICAgICAgLy8gT2RkIGluZGV4ZXMgYXJlIGJpbmRpbmdzXG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nU3RhcnQgKyBwYXJzZUludCh0ZXh0VmFsdWUsIDEwKTtcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMucHVzaCgtMSAtIGJpbmRpbmdJbmRleCk7XG4gICAgICAgICAgICBtYXNrID0gbWFzayB8IHRvTWFza0JpdChiaW5kaW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHRWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIC8vIEV2ZW4gaW5kZXhlcyBhcmUgdGV4dFxuICAgICAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKHRleHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlT3BDb2Rlcy5wdXNoKGRlc3RpbmF0aW9uTm9kZSA8PCAyIC8qIFNISUZUX1JFRiAqLyB8XG4gICAgICAgIChhdHRyTmFtZSA/IDEgLyogQXR0ciAqLyA6IDAgLyogVGV4dCAqLykpO1xuICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICB1cGRhdGVPcENvZGVzLnB1c2goYXR0ck5hbWUsIHNhbml0aXplRm4pO1xuICAgIH1cbiAgICB1cGRhdGVPcENvZGVzW21hc2tJbmRleF0gPSBtYXNrO1xuICAgIHVwZGF0ZU9wQ29kZXNbc2l6ZUluZGV4XSA9IHVwZGF0ZU9wQ29kZXMubGVuZ3RoIC0gc3RhcnRJbmRleDtcbiAgICByZXR1cm4gbWFzaztcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBiaW5kaW5ncyBpbiB0aGUgZ2l2ZW4gYG9wQ29kZXNgLlxuICpcbiAqIEl0IGNvdWxkIGJlIHBvc3NpYmxlIHRvIHNwZWVkIHRoaXMgdXAsIGJ5IHBhc3NpbmcgdGhlIG51bWJlciBvZiBiaW5kaW5ncyBmb3VuZCBiYWNrIGZyb21cbiAqIGBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKClgIHRvIGBpMThuQXR0cmlidXRlc0ZpcnN0UGFzcygpYCBidXQgdGhpcyB3b3VsZCB0aGVuIHJlcXVpcmUgbW9yZVxuICogY29tcGxleGl0eSBpbiB0aGUgY29kZSBhbmQvb3IgdHJhbnNpZW50IG9iamVjdHMgdG8gYmUgY3JlYXRlZC5cbiAqXG4gKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2Ugd2hlbiB0aGUgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkLCBpcyB0cml2aWFsIGluIHRoZVxuICogZmlyc3QgaW5zdGFuY2UgKHNpbmNlIGBvcENvZGVzYCB3aWxsIGJlIGFuIGVtcHR5IGFycmF5KSwgYW5kIGl0IGlzIG5vdCBjb21tb24gZm9yIGVsZW1lbnRzIHRvXG4gKiBjb250YWluIG11bHRpcGxlIGkxOG4gYm91bmQgYXR0cmlidXRlcywgaXQgc2VlbXMgbGlrZSB0aGlzIGlzIGEgcmVhc29uYWJsZSBjb21wcm9taXNlLlxuICovXG5mdW5jdGlvbiBjb3VudEJpbmRpbmdzKG9wQ29kZXMpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBvcENvZGVzW2ldO1xuICAgICAgICAvLyBCaW5kaW5ncyBhcmUgbmVnYXRpdmUgbnVtYmVycy5cbiAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT09ICdudW1iZXInICYmIG9wQ29kZSA8IDApIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xufVxuLyoqXG4gKiBDb252ZXJ0IGJpbmRpbmcgaW5kZXggdG8gbWFzayBiaXQuXG4gKlxuICogRWFjaCBpbmRleCByZXByZXNlbnRzIGEgc2luZ2xlIGJpdCBvbiB0aGUgYml0LW1hc2suIEJlY2F1c2UgYml0LW1hc2sgb25seSBoYXMgMzIgYml0cywgd2UgbWFrZVxuICogdGhlIDMybmQgYml0IHNoYXJlIGFsbCBtYXNrcyBmb3IgYWxsIGJpbmRpbmdzIGhpZ2hlciB0aGFuIDMyLiBTaW5jZSBpdCBpcyBleHRyZW1lbHkgcmFyZSB0b1xuICogaGF2ZSBtb3JlIHRoYW4gMzIgYmluZGluZ3MgdGhpcyB3aWxsIGJlIGhpdCB2ZXJ5IHJhcmVseS4gVGhlIGRvd25zaWRlIG9mIGhpdHRpbmcgdGhpcyBjb3JuZXJcbiAqIGNhc2UgaXMgdGhhdCB3ZSB3aWxsIGV4ZWN1dGUgYmluZGluZyBjb2RlIG1vcmUgb2Z0ZW4gdGhhbiBuZWNlc3NhcnkuIChwZW5hbHR5IG9mIHBlcmZvcm1hbmNlKVxuICovXG5mdW5jdGlvbiB0b01hc2tCaXQoYmluZGluZ0luZGV4KSB7XG4gICAgcmV0dXJuIDEgPDwgTWF0aC5taW4oYmluZGluZ0luZGV4LCAzMSk7XG59XG5mdW5jdGlvbiBpc1Jvb3RUZW1wbGF0ZU1lc3NhZ2Uoc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIHJldHVybiBzdWJUZW1wbGF0ZUluZGV4ID09PSAtMTtcbn1cbi8qKlxuICogUmVtb3ZlcyBldmVyeXRoaW5nIGluc2lkZSB0aGUgc3ViLXRlbXBsYXRlcyBvZiBhIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbihtZXNzYWdlKSB7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCByZXMgPSAnJztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBpblRlbXBsYXRlID0gZmFsc2U7XG4gICAgbGV0IHRhZ01hdGNoZWQ7XG4gICAgd2hpbGUgKChtYXRjaCA9IFNVQlRFTVBMQVRFX1JFR0VYUC5leGVjKG1lc3NhZ2UpKSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWluVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHJlcyArPSBtZXNzYWdlLnN1YnN0cmluZyhpbmRleCwgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGFnTWF0Y2hlZCA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgaW5UZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobWF0Y2hbMF0gPT09IGAke01BUktFUn0vKiR7dGFnTWF0Y2hlZH0ke01BUktFUn1gKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICAgICAgICBpblRlbXBsYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGluVGVtcGxhdGUsIGZhbHNlLCBgVGFnIG1pc21hdGNoOiB1bmFibGUgdG8gZmluZCB0aGUgZW5kIG9mIHRoZSBzdWItdGVtcGxhdGUgaW4gdGhlIHRyYW5zbGF0aW9uIFwiJHttZXNzYWdlfVwiYCk7XG4gICAgcmVzICs9IG1lc3NhZ2Uuc3Vic3RyKGluZGV4KTtcbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBFeHRyYWN0cyBhIHBhcnQgb2YgYSBtZXNzYWdlIGFuZCByZW1vdmVzIHRoZSByZXN0LlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIGV4dHJhY3RpbmcgYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIGFzc29jaWF0ZWQgd2l0aCBhIHRlbXBsYXRlLiBBXG4gKiB0cmFuc2xhdGVkIG1lc3NhZ2UgY2FuIHNwYW4gbXVsdGlwbGUgdGVtcGxhdGVzLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxkaXYgaTE4bj5UcmFuc2xhdGUgPHNwYW4gKm5nSWY+bWU8L3NwYW4+ITwvZGl2PlxuICogYGBgXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gY3JvcFxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggSW5kZXggb2YgdGhlIHN1Yi10ZW1wbGF0ZSB0byBleHRyYWN0LiBJZiB1bmRlZmluZWQgaXQgcmV0dXJucyB0aGVcbiAqIGV4dGVybmFsIHRlbXBsYXRlIGFuZCByZW1vdmVzIGFsbCBzdWItdGVtcGxhdGVzLlxuICovXG5mdW5jdGlvbiBnZXRUcmFuc2xhdGlvbkZvclRlbXBsYXRlKG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICBpZiAoaXNSb290VGVtcGxhdGVNZXNzYWdlKHN1YlRlbXBsYXRlSW5kZXgpKSB7XG4gICAgICAgIC8vIFdlIHdhbnQgdGhlIHJvb3QgdGVtcGxhdGUgbWVzc2FnZSwgaWdub3JlIGFsbCBzdWItdGVtcGxhdGVzXG4gICAgICAgIHJldHVybiByZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24obWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSB3YW50IGEgc3BlY2lmaWMgc3ViLXRlbXBsYXRlXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbWVzc2FnZS5pbmRleE9mKGA6JHtzdWJUZW1wbGF0ZUluZGV4fSR7TUFSS0VSfWApICsgMiArIHN1YlRlbXBsYXRlSW5kZXgudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGVuZCA9IG1lc3NhZ2Uuc2VhcmNoKG5ldyBSZWdFeHAoYCR7TUFSS0VSfVxcXFwvXFxcXCpcXFxcZCs6JHtzdWJUZW1wbGF0ZUluZGV4fSR7TUFSS0VSfWApKTtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbihtZXNzYWdlLnN1YnN0cmluZyhzdGFydCwgZW5kKSk7XG4gICAgfVxufVxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgT3BDb2RlcyBmb3IgSUNVIGV4cHJlc3Npb25zLlxuICpcbiAqIEBwYXJhbSBpY3VFeHByZXNzaW9uXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggd2hlcmUgdGhlIGFuY2hvciBpcyBzdG9yZWQgYW5kIGFuIG9wdGlvbmFsIGBUSWN1Q29udGFpbmVyTm9kZWBcbiAqICAgLSBgbFZpZXdbYW5jaG9ySWR4XWAgcG9pbnRzIHRvIGEgYENvbW1lbnRgIG5vZGUgcmVwcmVzZW50aW5nIHRoZSBhbmNob3IgZm9yIHRoZSBJQ1UuXG4gKiAgIC0gYHRWaWV3LmRhdGFbYW5jaG9ySWR4XWAgcG9pbnRzIHRvIHRoZSBgVEljdUNvbnRhaW5lck5vZGVgIGlmIElDVSBpcyByb290IChgbnVsbGAgb3RoZXJ3aXNlKVxuICovXG5mdW5jdGlvbiBpY3VTdGFydCh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIHBhcmVudElkeCwgaWN1RXhwcmVzc2lvbiwgYW5jaG9ySWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaWN1RXhwcmVzc2lvbiwgJ0lDVSBleHByZXNzaW9uIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGxldCBiaW5kaW5nTWFzayA9IDA7XG4gICAgY29uc3QgdEljdSA9IHtcbiAgICAgICAgdHlwZTogaWN1RXhwcmVzc2lvbi50eXBlLFxuICAgICAgICBjdXJyZW50Q2FzZUxWaWV3SW5kZXg6IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIDEsIG51bGwpLFxuICAgICAgICBhbmNob3JJZHgsXG4gICAgICAgIGNhc2VzOiBbXSxcbiAgICAgICAgY3JlYXRlOiBbXSxcbiAgICAgICAgcmVtb3ZlOiBbXSxcbiAgICAgICAgdXBkYXRlOiBbXVxuICAgIH07XG4gICAgYWRkVXBkYXRlSWN1U3dpdGNoKHVwZGF0ZU9wQ29kZXMsIGljdUV4cHJlc3Npb24sIGFuY2hvcklkeCk7XG4gICAgc2V0VEljdSh0VmlldywgYW5jaG9ySWR4LCB0SWN1KTtcbiAgICBjb25zdCB2YWx1ZXMgPSBpY3VFeHByZXNzaW9uLnZhbHVlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBFYWNoIHZhbHVlIGlzIGFuIGFycmF5IG9mIHN0cmluZ3MgJiBvdGhlciBJQ1UgZXhwcmVzc2lvbnNcbiAgICAgICAgY29uc3QgdmFsdWVBcnIgPSB2YWx1ZXNbaV07XG4gICAgICAgIGNvbnN0IG5lc3RlZEljdXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWx1ZUFyci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZUFycltqXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYW4gbmVzdGVkIElDVSBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgY29uc3QgaWN1SW5kZXggPSBuZXN0ZWRJY3VzLnB1c2godmFsdWUpIC0gMTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIG5lc3RlZCBJQ1UgZXhwcmVzc2lvbiBieSBhIGNvbW1lbnQgbm9kZVxuICAgICAgICAgICAgICAgIHZhbHVlQXJyW2pdID0gYDwhLS3vv70ke2ljdUluZGV4fe+/vS0tPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYmluZGluZ01hc2sgPSBwYXJzZUljdUNhc2UodFZpZXcsIHRJY3UsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGljdUV4cHJlc3Npb24uY2FzZXNbaV0sIHZhbHVlQXJyLmpvaW4oJycpLCBuZXN0ZWRJY3VzKSB8XG4gICAgICAgICAgICBiaW5kaW5nTWFzaztcbiAgICB9XG4gICAgaWYgKGJpbmRpbmdNYXNrKSB7XG4gICAgICAgIGFkZFVwZGF0ZUljdVVwZGF0ZSh1cGRhdGVPcENvZGVzLCBiaW5kaW5nTWFzaywgYW5jaG9ySWR4KTtcbiAgICB9XG59XG4vKipcbiAqIFBhcnNlcyB0ZXh0IGNvbnRhaW5pbmcgYW4gSUNVIGV4cHJlc3Npb24gYW5kIHByb2R1Y2VzIGEgSlNPTiBvYmplY3QgZm9yIGl0LlxuICogT3JpZ2luYWwgY29kZSBmcm9tIGNsb3N1cmUgbGlicmFyeSwgbW9kaWZpZWQgZm9yIEFuZ3VsYXIuXG4gKlxuICogQHBhcmFtIHBhdHRlcm4gVGV4dCBjb250YWluaW5nIGFuIElDVSBleHByZXNzaW9uIHRoYXQgbmVlZHMgdG8gYmUgcGFyc2VkLlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VJQ1VCbG9jayhwYXR0ZXJuKSB7XG4gICAgY29uc3QgY2FzZXMgPSBbXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBsZXQgaWN1VHlwZSA9IDEgLyogcGx1cmFsICovO1xuICAgIGxldCBtYWluQmluZGluZyA9IDA7XG4gICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShJQ1VfQkxPQ0tfUkVHRVhQLCBmdW5jdGlvbiAoc3RyLCBiaW5kaW5nLCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgaWN1VHlwZSA9IDAgLyogc2VsZWN0ICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWN1VHlwZSA9IDEgLyogcGx1cmFsICovO1xuICAgICAgICB9XG4gICAgICAgIG1haW5CaW5kaW5nID0gcGFyc2VJbnQoYmluZGluZy5zdWJzdHIoMSksIDEwKTtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICAgIGNvbnN0IHBhcnRzID0gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVShwYXR0ZXJuKTtcbiAgICAvLyBMb29raW5nIGZvciAoa2V5IGJsb2NrKSsgc2VxdWVuY2UuIE9uZSBvZiB0aGUga2V5cyBoYXMgdG8gYmUgXCJvdGhlclwiLlxuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHBhcnRzLmxlbmd0aDspIHtcbiAgICAgICAgbGV0IGtleSA9IHBhcnRzW3BvcysrXS50cmltKCk7XG4gICAgICAgIGlmIChpY3VUeXBlID09PSAxIC8qIHBsdXJhbCAqLykge1xuICAgICAgICAgICAgLy8gS2V5IGNhbiBiZSBcIj14XCIsIHdlIGp1c3Qgd2FudCBcInhcIlxuICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xccyooPzo9KT8oXFx3KylcXHMqLywgJyQxJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2VzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9ja3MgPSBpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVKHBhcnRzW3BvcysrXSk7XG4gICAgICAgIGlmIChjYXNlcy5sZW5ndGggPiB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChibG9ja3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8ob2NvbWJlKTogc3VwcG9ydCBJQ1UgZXhwcmVzc2lvbnMgaW4gYXR0cmlidXRlcywgc2VlICMyMTYxNVxuICAgIHJldHVybiB7IHR5cGU6IGljdVR5cGUsIG1haW5CaW5kaW5nOiBtYWluQmluZGluZywgY2FzZXMsIHZhbHVlcyB9O1xufVxuLyoqXG4gKiBCcmVha3MgcGF0dGVybiBpbnRvIHN0cmluZ3MgYW5kIHRvcCBsZXZlbCB7Li4ufSBibG9ja3MuXG4gKiBDYW4gYmUgdXNlZCB0byBicmVhayBhIG1lc3NhZ2UgaW50byB0ZXh0IGFuZCBJQ1UgZXhwcmVzc2lvbnMsIG9yIHRvIGJyZWFrIGFuIElDVSBleHByZXNzaW9uXG4gKiBpbnRvIGtleXMgYW5kIGNhc2VzLiBPcmlnaW5hbCBjb2RlIGZyb20gY2xvc3VyZSBsaWJyYXJ5LCBtb2RpZmllZCBmb3IgQW5ndWxhci5cbiAqXG4gKiBAcGFyYW0gcGF0dGVybiAoc3ViKVBhdHRlcm4gdG8gYmUgYnJva2VuLlxuICogQHJldHVybnMgQW4gYEFycmF5PHN0cmluZ3xJY3VFeHByZXNzaW9uPmAgd2hlcmU6XG4gKiAgIC0gb2RkIHBvc2l0aW9uczogYHN0cmluZ2AgPT4gdGV4dCBiZXR3ZWVuIElDVSBleHByZXNzaW9uc1xuICogICAtIGV2ZW4gcG9zaXRpb25zOiBgSUNVRXhwcmVzc2lvbmAgPT4gSUNVIGV4cHJlc3Npb24gcGFyc2VkIGludG8gYElDVUV4cHJlc3Npb25gIHJlY29yZC5cbiAqL1xuZnVuY3Rpb24gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVShwYXR0ZXJuKSB7XG4gICAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IHByZXZQb3MgPSAwO1xuICAgIGNvbnN0IGJyYWNlU3RhY2sgPSBbXTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgYnJhY2VzID0gL1t7fV0vZztcbiAgICAvLyBsYXN0SW5kZXggZG9lc24ndCBnZXQgc2V0IHRvIDAgc28gd2UgaGF2ZSB0by5cbiAgICBicmFjZXMubGFzdEluZGV4ID0gMDtcbiAgICBsZXQgbWF0Y2g7XG4gICAgd2hpbGUgKG1hdGNoID0gYnJhY2VzLmV4ZWMocGF0dGVybikpIHtcbiAgICAgICAgY29uc3QgcG9zID0gbWF0Y2guaW5kZXg7XG4gICAgICAgIGlmIChtYXRjaFswXSA9PSAnfScpIHtcbiAgICAgICAgICAgIGJyYWNlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoYnJhY2VTdGFjay5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zLCBwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChJQ1VfQkxPQ0tfUkVHRVhQLnRlc3QoYmxvY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChwYXJzZUlDVUJsb2NrKGJsb2NrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2UG9zID0gcG9zICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChicmFjZVN0YWNrLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic3RyaW5nID0gcGF0dGVybi5zdWJzdHJpbmcocHJldlBvcywgcG9zKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc3Vic3RyaW5nKTtcbiAgICAgICAgICAgICAgICBwcmV2UG9zID0gcG9zICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyYWNlU3RhY2sucHVzaCgneycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN1YnN0cmluZyA9IHBhdHRlcm4uc3Vic3RyaW5nKHByZXZQb3MpO1xuICAgIHJlc3VsdHMucHVzaChzdWJzdHJpbmcpO1xuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBQYXJzZXMgYSBub2RlLCBpdHMgY2hpbGRyZW4gYW5kIGl0cyBzaWJsaW5ncywgYW5kIGdlbmVyYXRlcyB0aGUgbXV0YXRlICYgdXBkYXRlIE9wQ29kZXMuXG4gKlxuICovXG5mdW5jdGlvbiBwYXJzZUljdUNhc2UodFZpZXcsIHRJY3UsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGNhc2VOYW1lLCB1bnNhZmVDYXNlSHRtbCwgbmVzdGVkSWN1cykge1xuICAgIGNvbnN0IGNyZWF0ZSA9IFtdO1xuICAgIGNvbnN0IHJlbW92ZSA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZSA9IFtdO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIoY3JlYXRlLCBpY3VDcmVhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcihyZW1vdmUsIGkxOG5SZW1vdmVPcENvZGVzVG9TdHJpbmcpO1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGUsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICB0SWN1LmNhc2VzLnB1c2goY2FzZU5hbWUpO1xuICAgIHRJY3UuY3JlYXRlLnB1c2goY3JlYXRlKTtcbiAgICB0SWN1LnJlbW92ZS5wdXNoKHJlbW92ZSk7XG4gICAgdEljdS51cGRhdGUucHVzaCh1cGRhdGUpO1xuICAgIGNvbnN0IGluZXJ0Qm9keUhlbHBlciA9IGdldEluZXJ0Qm9keUhlbHBlcihnZXREb2N1bWVudCgpKTtcbiAgICBjb25zdCBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlQ2FzZUh0bWwpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGluZXJ0Qm9keUVsZW1lbnQsICdVbmFibGUgdG8gZ2VuZXJhdGUgaW5lcnQgYm9keSBlbGVtZW50Jyk7XG4gICAgY29uc3QgaW5lcnRSb290Tm9kZSA9IGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50O1xuICAgIGlmIChpbmVydFJvb3ROb2RlKSB7XG4gICAgICAgIHJldHVybiB3YWxrSWN1VHJlZSh0VmlldywgdEljdSwgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIGNyZWF0ZSwgcmVtb3ZlLCB1cGRhdGUsIGluZXJ0Um9vdE5vZGUsIHBhcmVudElkeCwgbmVzdGVkSWN1cywgMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5mdW5jdGlvbiB3YWxrSWN1VHJlZSh0VmlldywgdEljdSwgbFZpZXcsIHNoYXJlZFVwZGF0ZU9wQ29kZXMsIGNyZWF0ZSwgcmVtb3ZlLCB1cGRhdGUsIHBhcmVudE5vZGUsIHBhcmVudElkeCwgbmVzdGVkSWN1cywgZGVwdGgpIHtcbiAgICBsZXQgYmluZGluZ01hc2sgPSAwO1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKTtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50Tm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY3VycmVudE5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgRUxFTUVOVF9NQVJLRVIsIHRhZ05hbWUsIHBhcmVudElkeCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0Vmlldy5kYXRhW25ld0luZGV4XSA9IHRhZ05hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ciA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyQXR0ck5hbWUgPSBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc0JpbmRpbmcgPSAhIWF0dHIudmFsdWUubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXNzdW1lIHRoZSBpbnB1dCBzdHJpbmcgaXMgc2FmZSwgdW5sZXNzIGl0J3MgdXNpbmcgYSBiaW5kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQmluZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChWQUxJRF9BVFRSUy5oYXNPd25Qcm9wZXJ0eShsb3dlckF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVVJJX0FUVFJTW2xvd2VyQXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgYXR0ci52YWx1ZSwgbmV3SW5kZXgsIGF0dHIubmFtZSwgMCwgX3Nhbml0aXplVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChTUkNTRVRfQVRUUlNbbG93ZXJBdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlLCBhdHRyLnZhbHVlLCBuZXdJbmRleCwgYXR0ci5uYW1lLCAwLCBzYW5pdGl6ZVNyY3NldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgYXR0ci52YWx1ZSwgbmV3SW5kZXgsIGF0dHIubmFtZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBXQVJOSU5HOiBpZ25vcmluZyB1bnNhZmUgYXR0cmlidXRlIHZhbHVlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2xvd2VyQXR0ck5hbWV9IG9uIGVsZW1lbnQgJHt0YWdOYW1lfSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENyZWF0ZUF0dHJpYnV0ZShjcmVhdGUsIG5ld0luZGV4LCBhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlIChpZiBhbnkpXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdNYXNrID0gd2Fsa0ljdVRyZWUodFZpZXcsIHRJY3UsIGxWaWV3LCBzaGFyZWRVcGRhdGVPcENvZGVzLCBjcmVhdGUsIHJlbW92ZSwgdXBkYXRlLCBjdXJyZW50Tm9kZSwgbmV3SW5kZXgsIG5lc3RlZEljdXMsIGRlcHRoICsgMSkgfFxuICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ01hc2s7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU5vZGUocmVtb3ZlLCBuZXdJbmRleCwgZGVwdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTm9kZS5URVhUX05PREU6XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNCaW5kaW5nID0gdmFsdWUubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgICAgICAgICAgICAgIGFkZENyZWF0ZU5vZGVBbmRBcHBlbmQoY3JlYXRlLCBudWxsLCBoYXNCaW5kaW5nID8gJycgOiB2YWx1ZSwgcGFyZW50SWR4LCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgYWRkUmVtb3ZlTm9kZShyZW1vdmUsIG5ld0luZGV4LCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ01hc2sgPVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIHZhbHVlLCBuZXdJbmRleCwgbnVsbCwgMCwgbnVsbCkgfCBiaW5kaW5nTWFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb21tZW50IG5vZGUgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBuZXN0ZWQgSUNVXG4gICAgICAgICAgICAgICAgY29uc3QgaXNOZXN0ZWRJY3UgPSBORVNURURfSUNVLmV4ZWMoY3VycmVudE5vZGUudGV4dENvbnRlbnQgfHwgJycpO1xuICAgICAgICAgICAgICAgIGlmIChpc05lc3RlZEljdSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRJY3VJbmRleCA9IHBhcnNlSW50KGlzTmVzdGVkSWN1WzFdLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdUV4cHJlc3Npb24gPSBuZXN0ZWRJY3VzW25lc3RlZEljdUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb21tZW50IG5vZGUgdGhhdCB3aWxsIGFuY2hvciB0aGUgSUNVIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIElDVV9NQVJLRVIsIG5nRGV2TW9kZSA/IGBuZXN0ZWQgSUNVICR7bmVzdGVkSWN1SW5kZXh9YCA6ICcnLCBwYXJlbnRJZHgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWN1U3RhcnQodFZpZXcsIGxWaWV3LCBzaGFyZWRVcGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGljdUV4cHJlc3Npb24sIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVtb3ZlTmVzdGVkSWN1KHJlbW92ZSwgbmV3SW5kZXgsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGJpbmRpbmdNYXNrO1xufVxuZnVuY3Rpb24gYWRkUmVtb3ZlTm9kZShyZW1vdmUsIGluZGV4LCBkZXB0aCkge1xuICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZW1vdmUucHVzaChpbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkUmVtb3ZlTmVzdGVkSWN1KHJlbW92ZSwgaW5kZXgsIGRlcHRoKSB7XG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJlbW92ZS5wdXNoKH5pbmRleCk7IC8vIHJlbW92ZSBJQ1UgYXQgYGluZGV4YFxuICAgICAgICByZW1vdmUucHVzaChpbmRleCk7IC8vIHJlbW92ZSBJQ1UgY29tbWVudCBhdCBgaW5kZXhgXG4gICAgfVxufVxuZnVuY3Rpb24gYWRkVXBkYXRlSWN1U3dpdGNoKHVwZGF0ZSwgaWN1RXhwcmVzc2lvbiwgaW5kZXgpIHtcbiAgICB1cGRhdGUucHVzaCh0b01hc2tCaXQoaWN1RXhwcmVzc2lvbi5tYWluQmluZGluZyksIDIsIC0xIC0gaWN1RXhwcmVzc2lvbi5tYWluQmluZGluZywgaW5kZXggPDwgMiAvKiBTSElGVF9SRUYgKi8gfCAyIC8qIEljdVN3aXRjaCAqLyk7XG59XG5mdW5jdGlvbiBhZGRVcGRhdGVJY3VVcGRhdGUodXBkYXRlLCBiaW5kaW5nTWFzaywgaW5kZXgpIHtcbiAgICB1cGRhdGUucHVzaChiaW5kaW5nTWFzaywgMSwgaW5kZXggPDwgMiAvKiBTSElGVF9SRUYgKi8gfCAzIC8qIEljdVVwZGF0ZSAqLyk7XG59XG5mdW5jdGlvbiBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgbWFya2VyLCB0ZXh0LCBhcHBlbmRUb1BhcmVudElkeCwgY3JlYXRlQXRJZHgpIHtcbiAgICBpZiAobWFya2VyICE9PSBudWxsKSB7XG4gICAgICAgIGNyZWF0ZS5wdXNoKG1hcmtlcik7XG4gICAgfVxuICAgIGNyZWF0ZS5wdXNoKHRleHQsIGNyZWF0ZUF0SWR4LCBpY3VDcmVhdGVPcENvZGUoMCAvKiBBcHBlbmRDaGlsZCAqLywgYXBwZW5kVG9QYXJlbnRJZHgsIGNyZWF0ZUF0SWR4KSk7XG59XG5mdW5jdGlvbiBhZGRDcmVhdGVBdHRyaWJ1dGUoY3JlYXRlLCBuZXdJbmRleCwgYXR0cikge1xuICAgIGNyZWF0ZS5wdXNoKG5ld0luZGV4IDw8IDEgLyogU0hJRlRfUkVGICovIHwgMSAvKiBBdHRyICovLCBhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIGkxOG5Qb3N0cHJvY2VzcyBjb25zdHNcbmNvbnN0IFJPT1RfVEVNUExBVEVfSUQgPSAwO1xuY29uc3QgUFBfTVVMVElfVkFMVUVfUExBQ0VIT0xERVJTX1JFR0VYUCA9IC9cXFso77+9Lis/77+9PylcXF0vO1xuY29uc3QgUFBfUExBQ0VIT0xERVJTX1JFR0VYUCA9IC9cXFso77+9Lis/77+9PylcXF18KO+/vVxcLz9cXCpcXGQrOlxcZCvvv70pL2c7XG5jb25zdCBQUF9JQ1VfVkFSU19SRUdFWFAgPSAvKHtcXHMqKShWQVJfKFBMVVJBTHxTRUxFQ1QpKF9cXGQrKT8pKFxccyosKS9nO1xuY29uc3QgUFBfSUNVX1BMQUNFSE9MREVSU19SRUdFWFAgPSAveyhbQS1aMC05X10rKX0vZztcbmNvbnN0IFBQX0lDVVNfUkVHRVhQID0gL++/vUkxOE5fRVhQXyhJQ1UoX1xcZCspPynvv70vZztcbmNvbnN0IFBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUCA9IC9cXC9cXCovO1xuY29uc3QgUFBfVEVNUExBVEVfSURfUkVHRVhQID0gL1xcZCtcXDooXFxkKykvO1xuLyoqXG4gKiBIYW5kbGVzIG1lc3NhZ2Ugc3RyaW5nIHBvc3QtcHJvY2Vzc2luZyBmb3IgaW50ZXJuYXRpb25hbGl6YXRpb24uXG4gKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgYnkgdHJhbnNmb3JtaW5nIGl0IGZyb20gaW50ZXJtZWRpYXRlXG4gKiBmb3JtYXQgKHRoYXQgbWlnaHQgY29udGFpbiBzb21lIG1hcmtlcnMgdGhhdCB3ZSBuZWVkIHRvIHJlcGxhY2UpIHRvIHRoZSBmaW5hbFxuICogZm9ybSwgY29uc3VtYWJsZSBieSBpMThuU3RhcnQgaW5zdHJ1Y3Rpb24uIFBvc3QgcHJvY2Vzc2luZyBzdGVwcyBpbmNsdWRlOlxuICpcbiAqIDEuIFJlc29sdmUgYWxsIG11bHRpLXZhbHVlIGNhc2VzIChsaWtlIFvvv70qMTox77+977+9IzI6Me+/vXzvv70jNDox77+9fO+/vTXvv71dKVxuICogMi4gUmVwbGFjZSBhbGwgSUNVIHZhcnMgKGxpa2UgXCJWQVJfUExVUkFMXCIpXG4gKiAzLiBSZXBsYWNlIGFsbCBwbGFjZWhvbGRlcnMgdXNlZCBpbnNpZGUgSUNVcyBpbiBhIGZvcm0gb2Yge1BMQUNFSE9MREVSfVxuICogNC4gUmVwbGFjZSBhbGwgSUNVIHJlZmVyZW5jZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcyAobGlrZSDvv71JQ1VfRVhQX0lDVV8x77+9KVxuICogICAgaW4gY2FzZSBtdWx0aXBsZSBJQ1VzIGhhdmUgdGhlIHNhbWUgcGxhY2Vob2xkZXIgbmFtZVxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFJhdyB0cmFuc2xhdGlvbiBzdHJpbmcgZm9yIHBvc3QgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHJlcGxhY2VtZW50cyBTZXQgb2YgcmVwbGFjZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAqXG4gKiBAcmV0dXJucyBUcmFuc2Zvcm1lZCBzdHJpbmcgdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gaTE4blBvc3Rwcm9jZXNzKG1lc3NhZ2UsIHJlcGxhY2VtZW50cyA9IHt9KSB7XG4gICAgLyoqXG4gICAgICogU3RlcCAxOiByZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBwbGFjZWhvbGRlcnMgbGlrZSBb77+9IzXvv71877+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vV1cbiAgICAgKlxuICAgICAqIE5vdGU6IGR1ZSB0byB0aGUgd2F5IHdlIHByb2Nlc3MgbmVzdGVkIHRlbXBsYXRlcyAoQkZTKSwgbXVsdGktdmFsdWUgcGxhY2Vob2xkZXJzIGFyZSB0eXBpY2FsbHlcbiAgICAgKiBncm91cGVkIGJ5IHRlbXBsYXRlcywgZm9yIGV4YW1wbGU6IFvvv70jNe+/vXzvv70jNu+/vXzvv70jMTox77+9fO+/vSMzOjLvv71dIHdoZXJlIO+/vSM177+9IGFuZCDvv70jNu+/vSBiZWxvbmcgdG8gcm9vdFxuICAgICAqIHRlbXBsYXRlLCDvv70jMTox77+9IGJlbG9uZyB0byBuZXN0ZWQgdGVtcGxhdGUgd2l0aCBpbmRleCAxIGFuZCDvv70jMToy77+9IC0gbmVzdGVkIHRlbXBsYXRlIHdpdGggaW5kZXhcbiAgICAgKiAzLiBIb3dldmVyIGluIHJlYWwgdGVtcGxhdGVzIHRoZSBvcmRlciBtaWdodCBiZSBkaWZmZXJlbnQ6IGkuZS4g77+9IzE6Me+/vSBhbmQvb3Ig77+9IzM6Mu+/vSBtYXkgZ28gaW5cbiAgICAgKiBmcm9udCBvZiDvv70jNu+/vS4gVGhlIHBvc3QgcHJvY2Vzc2luZyBzdGVwIHJlc3RvcmVzIHRoZSByaWdodCBvcmRlciBieSBrZWVwaW5nIHRyYWNrIG9mIHRoZVxuICAgICAqIHRlbXBsYXRlIGlkIHN0YWNrIGFuZCBsb29rcyBmb3IgcGxhY2Vob2xkZXJzIHRoYXQgYmVsb25nIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIHRlbXBsYXRlLlxuICAgICAqL1xuICAgIGxldCByZXN1bHQgPSBtZXNzYWdlO1xuICAgIGlmIChQUF9NVUxUSV9WQUxVRV9QTEFDRUhPTERFUlNfUkVHRVhQLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHt9O1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZUlkc1N0YWNrID0gW1JPT1RfVEVNUExBVEVfSURdO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9QTEFDRUhPTERFUlNfUkVHRVhQLCAobSwgcGhzLCB0bXBsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gcGhzIHx8IHRtcGw7XG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBtYXRjaGVzW2NvbnRlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaWYgKCFwbGFjZWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5zcGxpdCgnfCcpLmZvckVhY2goKHBsYWNlaG9sZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcGxhY2Vob2xkZXIubWF0Y2goUFBfVEVNUExBVEVfSURfUkVHRVhQKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVJZCA9IG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSA6IFJPT1RfVEVNUExBVEVfSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xvc2VUZW1wbGF0ZVRhZyA9IFBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUC50ZXN0KHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzLnB1c2goW3RlbXBsYXRlSWQsIGlzQ2xvc2VUZW1wbGF0ZVRhZywgcGxhY2Vob2xkZXJdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtYXRjaGVzW2NvbnRlbnRdID0gcGxhY2Vob2xkZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwbGFjZWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpMThuIHBvc3Rwcm9jZXNzOiB1bm1hdGNoZWQgcGxhY2Vob2xkZXIgLSAke2NvbnRlbnR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGVtcGxhdGVJZCA9IHRlbXBsYXRlSWRzU3RhY2tbdGVtcGxhdGVJZHNTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICAgICAgLy8gZmluZCBwbGFjZWhvbGRlciBpbmRleCB0aGF0IG1hdGNoZXMgY3VycmVudCB0ZW1wbGF0ZSBpZFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGFjZWhvbGRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXJzW2ldWzBdID09PSBjdXJyZW50VGVtcGxhdGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGVtcGxhdGUgaWQgc3RhY2sgYmFzZWQgb24gdGhlIGN1cnJlbnQgdGFnIGV4dHJhY3RlZFxuICAgICAgICAgICAgY29uc3QgW3RlbXBsYXRlSWQsIGlzQ2xvc2VUZW1wbGF0ZVRhZywgcGxhY2Vob2xkZXJdID0gcGxhY2Vob2xkZXJzW2lkeF07XG4gICAgICAgICAgICBpZiAoaXNDbG9zZVRlbXBsYXRlVGFnKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVJZHNTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRUZW1wbGF0ZUlkICE9PSB0ZW1wbGF0ZUlkKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVJZHNTdGFjay5wdXNoKHRlbXBsYXRlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIHByb2Nlc3NlZCB0YWcgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGN1cnJlbnQgcmVzdWx0IGlmIG5vIHJlcGxhY2VtZW50cyBzcGVjaWZpZWRcbiAgICBpZiAoIU9iamVjdC5rZXlzKHJlcGxhY2VtZW50cykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0ZXAgMjogcmVwbGFjZSBhbGwgSUNVIHZhcnMgKGxpa2UgXCJWQVJfUExVUkFMXCIpXG4gICAgICovXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVX1ZBUlNfUkVHRVhQLCAobWF0Y2gsIHN0YXJ0LCBrZXksIF90eXBlLCBfaWR4LCBlbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gYCR7c3RhcnR9JHtyZXBsYWNlbWVudHNba2V5XX0ke2VuZH1gIDogbWF0Y2g7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RlcCAzOiByZXBsYWNlIGFsbCBwbGFjZWhvbGRlcnMgdXNlZCBpbnNpZGUgSUNVcyBpbiBhIGZvcm0gb2Yge1BMQUNFSE9MREVSfVxuICAgICAqL1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFBQX0lDVV9QTEFDRUhPTERFUlNfUkVHRVhQLCAobWF0Y2gsIGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzLmhhc093blByb3BlcnR5KGtleSkgPyByZXBsYWNlbWVudHNba2V5XSA6IG1hdGNoO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0ZXAgNDogcmVwbGFjZSBhbGwgSUNVIHJlZmVyZW5jZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcyAobGlrZSDvv71JQ1VfRVhQX0lDVV8x77+9KSBpbiBjYXNlXG4gICAgICogbXVsdGlwbGUgSUNVcyBoYXZlIHRoZSBzYW1lIHBsYWNlaG9sZGVyIG5hbWVcbiAgICAgKi9cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9JQ1VTX1JFR0VYUCwgKG1hdGNoLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gcmVwbGFjZW1lbnRzW2tleV07XG4gICAgICAgICAgICBpZiAoIWxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpMThuIHBvc3Rwcm9jZXNzOiB1bm1hdGNoZWQgSUNVIC0gJHttYXRjaH0gd2l0aCBrZXk6ICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtzIGEgYmxvY2sgb2YgdGV4dCBhcyB0cmFuc2xhdGFibGUuXG4gKlxuICogVGhlIGluc3RydWN0aW9ucyBgaTE4blN0YXJ0YCBhbmQgYGkxOG5FbmRgIG1hcmsgdGhlIHRyYW5zbGF0aW9uIGJsb2NrIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgaXMgdGhlIHZhbHVlIHdoaWNoIGlzIGxvY2FsZSBzcGVjaWZpYy4gVGhlIHRyYW5zbGF0aW9uIHN0cmluZyBtYXlcbiAqIGNvbnRhaW4gcGxhY2Vob2xkZXJzIHdoaWNoIGFzc29jaWF0ZSBpbm5lciBlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgcGxhY2Vob2xkZXJzIGFyZTpcbiAqIC0gYO+/vXtpbmRleH0oOntibG9ja30p77+9YDogKkJpbmRpbmcgUGxhY2Vob2xkZXIqOiBNYXJrcyBhIGxvY2F0aW9uIHdoZXJlIGFuIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICBpbnRlcnBvbGF0ZWQgaW50by4gVGhlIHBsYWNlaG9sZGVyIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBleHByZXNzaW9uIGJpbmRpbmcgaW5kZXguIEFuIG9wdGlvbmFsXG4gKiAgIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9I3tpbmRleH0oOntibG9ja30p77+9YC9g77+9LyN7aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpFbGVtZW50IFBsYWNlaG9sZGVyKjogIE1hcmtzIHRoZSBiZWdpbm5pbmdcbiAqICAgYW5kIGVuZCBvZiBET00gZWxlbWVudCB0aGF0IHdlcmUgZW1iZWRkZWQgaW4gdGhlIG9yaWdpbmFsIHRyYW5zbGF0aW9uIGJsb2NrLiBUaGUgcGxhY2Vob2xkZXJcbiAqICAgYGluZGV4YCBwb2ludHMgdG8gdGhlIGVsZW1lbnQgaW5kZXggaW4gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9ucyBzZXQuIEFuIG9wdGlvbmFsIGBibG9ja2AgdGhhdFxuICogICBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9KntpbmRleH06e2Jsb2Nrfe+/vWAvYO+/vS8qe2luZGV4fTp7YmxvY2t977+9YDogKlN1Yi10ZW1wbGF0ZSBQbGFjZWhvbGRlcio6IFN1Yi10ZW1wbGF0ZXMgbXVzdCBiZVxuICogICBzcGxpdCB1cCBhbmQgdHJhbnNsYXRlZCBzZXBhcmF0ZWx5IGluIGVhY2ggYW5ndWxhciB0ZW1wbGF0ZSBmdW5jdGlvbi4gVGhlIGBpbmRleGAgcG9pbnRzIHRvIHRoZVxuICogICBgdGVtcGxhdGVgIGluc3RydWN0aW9uIGluZGV4LiBBIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gaW4gdGhlIHN0YXRpYyBibG9jay5cbiAqIEBwYXJhbSBtZXNzYWdlSW5kZXggQW4gaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgYGRlZi5jb25zdHNgIGFycmF5LlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggT3B0aW9uYWwgc3ViLXRlbXBsYXRlIGluZGV4IGluIHRoZSBgbWVzc2FnZWAuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5TdGFydChpbmRleCwgbWVzc2FnZUluZGV4LCBzdWJUZW1wbGF0ZUluZGV4ID0gLTEpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBIRUFERVJfT0ZGU0VUICsgaW5kZXg7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIGB0VmlldyBzaG91bGQgYmUgZGVmaW5lZGApO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRDb25zdGFudCh0Vmlldy5jb25zdHMsIG1lc3NhZ2VJbmRleCk7XG4gICAgY29uc3QgcGFyZW50VE5vZGUgPSBnZXRDdXJyZW50UGFyZW50VE5vZGUoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgcGFyZW50VE5vZGUgPT09IG51bGwgPyAwIDogcGFyZW50VE5vZGUuaW5kZXgsIGxWaWV3LCBhZGp1c3RlZEluZGV4LCBtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KTtcbiAgICB9XG4gICAgY29uc3QgdEkxOG4gPSB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIGNvbnN0IHNhbWVWaWV3UGFyZW50VE5vZGUgPSBwYXJlbnRUTm9kZSA9PT0gbFZpZXdbVF9IT1NUXSA/IG51bGwgOiBwYXJlbnRUTm9kZTtcbiAgICBjb25zdCBwYXJlbnRSTm9kZSA9IGdldENsb3Nlc3RSRWxlbWVudCh0Vmlldywgc2FtZVZpZXdQYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIC8vIElmIGBwYXJlbnRUTm9kZWAgaXMgYW4gYEVsZW1lbnRDb250YWluZXJgIHRoYW4gaXQgaGFzIGA8IS0tbmctY29udGFpbmVyLS0tPmAuXG4gICAgLy8gV2hlbiB3ZSBkbyBpbnNlcnRzIHdlIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGluc2VydCBpbiBmcm9udCBvZiBgPCEtLW5nLWNvbnRhaW5lci0tLT5gLlxuICAgIGNvbnN0IGluc2VydEluRnJvbnRPZiA9IHBhcmVudFROb2RlICYmIChwYXJlbnRUTm9kZS50eXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSA/XG4gICAgICAgIGxWaWV3W3BhcmVudFROb2RlLmluZGV4XSA6XG4gICAgICAgIG51bGw7XG4gICAgYXBwbHlDcmVhdGVPcENvZGVzKGxWaWV3LCB0STE4bi5jcmVhdGUsIHBhcmVudFJOb2RlLCBpbnNlcnRJbkZyb250T2YpO1xuICAgIHNldEluSTE4bkJsb2NrKHRydWUpO1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIGEgdHJhbnNsYXRpb24gYmxvY2sgbWFya2VkIGJ5IGBpMThuU3RhcnRgIGFuZCBgaTE4bkVuZGAuIEl0IGluc2VydHMgdGhlIHRleHQvSUNVIG5vZGVzXG4gKiBpbnRvIHRoZSByZW5kZXIgdHJlZSwgbW92ZXMgdGhlIHBsYWNlaG9sZGVyIG5vZGVzIGFuZCByZW1vdmVzIHRoZSBkZWxldGVkIG5vZGVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuRW5kKCkge1xuICAgIHNldEluSTE4bkJsb2NrKGZhbHNlKTtcbn1cbi8qKlxuICpcbiAqIFVzZSB0aGlzIGluc3RydWN0aW9uIHRvIGNyZWF0ZSBhIHRyYW5zbGF0aW9uIGJsb2NrIHRoYXQgZG9lc24ndCBjb250YWluIGFueSBwbGFjZWhvbGRlci5cbiAqIEl0IGNhbGxzIGJvdGgge0BsaW5rIGkxOG5TdGFydH0gYW5kIHtAbGluayBpMThuRW5kfSBpbiBvbmUgaW5zdHJ1Y3Rpb24uXG4gKlxuICogVGhlIHRyYW5zbGF0aW9uIGBtZXNzYWdlYCBpcyB0aGUgdmFsdWUgd2hpY2ggaXMgbG9jYWxlIHNwZWNpZmljLiBUaGUgdHJhbnNsYXRpb24gc3RyaW5nIG1heVxuICogY29udGFpbiBwbGFjZWhvbGRlcnMgd2hpY2ggYXNzb2NpYXRlIGlubmVyIGVsZW1lbnRzIGFuZCBzdWItdGVtcGxhdGVzIHdpdGhpbiB0aGUgdHJhbnNsYXRpb24uXG4gKlxuICogVGhlIHRyYW5zbGF0aW9uIGBtZXNzYWdlYCBwbGFjZWhvbGRlcnMgYXJlOlxuICogLSBg77+9e2luZGV4fSg6e2Jsb2NrfSnvv71gOiAqQmluZGluZyBQbGFjZWhvbGRlcio6IE1hcmtzIGEgbG9jYXRpb24gd2hlcmUgYW4gZXhwcmVzc2lvbiB3aWxsIGJlXG4gKiAgIGludGVycG9sYXRlZCBpbnRvLiBUaGUgcGxhY2Vob2xkZXIgYGluZGV4YCBwb2ludHMgdG8gdGhlIGV4cHJlc3Npb24gYmluZGluZyBpbmRleC4gQW4gb3B0aW9uYWxcbiAqICAgYGJsb2NrYCB0aGF0IG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKiAtIGDvv70je2luZGV4fSg6e2Jsb2NrfSnvv71gL2Dvv70vI3tpbmRleH0oOntibG9ja30p77+9YDogKkVsZW1lbnQgUGxhY2Vob2xkZXIqOiAgTWFya3MgdGhlIGJlZ2lubmluZ1xuICogICBhbmQgZW5kIG9mIERPTSBlbGVtZW50IHRoYXQgd2VyZSBlbWJlZGRlZCBpbiB0aGUgb3JpZ2luYWwgdHJhbnNsYXRpb24gYmxvY2suIFRoZSBwbGFjZWhvbGRlclxuICogICBgaW5kZXhgIHBvaW50cyB0byB0aGUgZWxlbWVudCBpbmRleCBpbiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb25zIHNldC4gQW4gb3B0aW9uYWwgYGJsb2NrYCB0aGF0XG4gKiAgIG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKiAtIGDvv70qe2luZGV4fTp7YmxvY2t977+9YC9g77+9Lyp7aW5kZXh9OntibG9ja33vv71gOiAqU3ViLXRlbXBsYXRlIFBsYWNlaG9sZGVyKjogU3ViLXRlbXBsYXRlcyBtdXN0IGJlXG4gKiAgIHNwbGl0IHVwIGFuZCB0cmFuc2xhdGVkIHNlcGFyYXRlbHkgaW4gZWFjaCBhbmd1bGFyIHRlbXBsYXRlIGZ1bmN0aW9uLiBUaGUgYGluZGV4YCBwb2ludHMgdG8gdGhlXG4gKiAgIGB0ZW1wbGF0ZWAgaW5zdHJ1Y3Rpb24gaW5kZXguIEEgYGJsb2NrYCB0aGF0IG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKlxuICogQHBhcmFtIGluZGV4IEEgdW5pcXVlIGluZGV4IG9mIHRoZSB0cmFuc2xhdGlvbiBpbiB0aGUgc3RhdGljIGJsb2NrLlxuICogQHBhcmFtIG1lc3NhZ2VJbmRleCBBbiBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gbWVzc2FnZSBmcm9tIHRoZSBgZGVmLmNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBPcHRpb25hbCBzdWItdGVtcGxhdGUgaW5kZXggaW4gdGhlIGBtZXNzYWdlYC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bihpbmRleCwgbWVzc2FnZUluZGV4LCBzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgybXJtWkxOG5TdGFydChpbmRleCwgbWVzc2FnZUluZGV4LCBzdWJUZW1wbGF0ZUluZGV4KTtcbiAgICDJtcm1aTE4bkVuZCgpO1xufVxuLyoqXG4gKiBNYXJrcyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBhcyB0cmFuc2xhdGFibGUuXG4gKlxuICogQHBhcmFtIGluZGV4IEEgdW5pcXVlIGluZGV4IGluIHRoZSBzdGF0aWMgYmxvY2tcbiAqIEBwYXJhbSB2YWx1ZXNcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkF0dHJpYnV0ZXMoaW5kZXgsIGF0dHJzSW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIGB0VmlldyBzaG91bGQgYmUgZGVmaW5lZGApO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXcuY29uc3RzLCBhdHRyc0luZGV4KTtcbiAgICBpMThuQXR0cmlidXRlc0ZpcnN0UGFzcyh0VmlldywgaW5kZXggKyBIRUFERVJfT0ZGU0VULCBhdHRycyk7XG59XG4vKipcbiAqIFN0b3JlcyB0aGUgdmFsdWVzIG9mIHRoZSBiaW5kaW5ncyBkdXJpbmcgZWFjaCB1cGRhdGUgY3ljbGUgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG9cbiAqIHVwZGF0ZSB0aGUgdHJhbnNsYXRlZCBub2Rlcy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGJpbmRpbmcncyB2YWx1ZVxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkXG4gKiAoZS5nLiBgaTE4bkV4cChjdHgubmFtZSkoY3R4LnRpdGxlKWApXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5FeHAodmFsdWUpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgc2V0TWFza0JpdChiaW5kaW5nVXBkYXRlZChsVmlldywgbmV4dEJpbmRpbmdJbmRleCgpLCB2YWx1ZSkpO1xuICAgIHJldHVybiDJtcm1aTE4bkV4cDtcbn1cbi8qKlxuICogVXBkYXRlcyBhIHRyYW5zbGF0aW9uIGJsb2NrIG9yIGFuIGkxOG4gYXR0cmlidXRlIHdoZW4gdGhlIGJpbmRpbmdzIGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgZWl0aGVyIHtAbGluayBpMThuU3RhcnR9ICh0cmFuc2xhdGlvbiBibG9jaykgb3Ige0BsaW5rIGkxOG5BdHRyaWJ1dGVzfVxuICogKGkxOG4gYXR0cmlidXRlKSBvbiB3aGljaCBpdCBzaG91bGQgdXBkYXRlIHRoZSBjb250ZW50LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuQXBwbHkoaW5kZXgpIHtcbiAgICBhcHBseUkxOG4oZ2V0VFZpZXcoKSwgZ2V0TFZpZXcoKSwgaW5kZXggKyBIRUFERVJfT0ZGU0VUKTtcbn1cbi8qKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgZm9yIGludGVybmF0aW9uYWxpemF0aW9uLlxuICpcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGJ5IHRyYW5zZm9ybWluZyBpdCBmcm9tIGludGVybWVkaWF0ZVxuICogZm9ybWF0ICh0aGF0IG1pZ2h0IGNvbnRhaW4gc29tZSBtYXJrZXJzIHRoYXQgd2UgbmVlZCB0byByZXBsYWNlKSB0byB0aGUgZmluYWxcbiAqIGZvcm0sIGNvbnN1bWFibGUgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uLiBQb3N0IHByb2Nlc3Npbmcgc3RlcHMgaW5jbHVkZTpcbiAqXG4gKiAxLiBSZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBjYXNlcyAobGlrZSBb77+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vXzvv70177+9XSlcbiAqIDIuIFJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICogMy4gUmVwbGFjZSBhbGwgcGxhY2Vob2xkZXJzIHVzZWQgaW5zaWRlIElDVXMgaW4gYSBmb3JtIG9mIHtQTEFDRUhPTERFUn1cbiAqIDQuIFJlcGxhY2UgYWxsIElDVSByZWZlcmVuY2VzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMgKGxpa2Ug77+9SUNVX0VYUF9JQ1VfMe+/vSlcbiAqICAgIGluIGNhc2UgbXVsdGlwbGUgSUNVcyBoYXZlIHRoZSBzYW1lIHBsYWNlaG9sZGVyIG5hbWVcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBSYXcgdHJhbnNsYXRpb24gc3RyaW5nIGZvciBwb3N0IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSByZXBsYWNlbWVudHMgU2V0IG9mIHJlcGxhY2VtZW50cyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQHJldHVybnMgVHJhbnNmb3JtZWQgc3RyaW5nIHRoYXQgY2FuIGJlIGNvbnN1bWVkIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvblxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuUG9zdHByb2Nlc3MobWVzc2FnZSwgcmVwbGFjZW1lbnRzID0ge30pIHtcbiAgICByZXR1cm4gaTE4blBvc3Rwcm9jZXNzKG1lc3NhZ2UsIHJlcGxhY2VtZW50cyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVzb2x2ZXMgdGhlIHByb3ZpZGVycyB3aGljaCBhcmUgZGVmaW5lZCBpbiB0aGUgRGlyZWN0aXZlRGVmLlxuICpcbiAqIFdoZW4gaW5zZXJ0aW5nIHRoZSB0b2tlbnMgYW5kIHRoZSBmYWN0b3JpZXMgaW4gdGhlaXIgcmVzcGVjdGl2ZSBhcnJheXMsIHdlIGNhbiBhc3N1bWUgdGhhdFxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGZpcnN0IGZvciB0aGUgY29tcG9uZW50IChpZiBhbnkpLCBhbmQgdGhlbiBmb3Igb3RoZXIgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZVxuICogbm9kZS5cbiAqIEFzIGEgY29uc2VxdWVuY2UsdGhlIHByb3ZpZGVycyBhcmUgYWx3YXlzIHByb2Nlc3NlZCBpbiB0aGF0IG9yZGVyOlxuICogMSkgVGhlIHZpZXcgcHJvdmlkZXJzIG9mIHRoZSBjb21wb25lbnRcbiAqIDIpIFRoZSBwcm92aWRlcnMgb2YgdGhlIGNvbXBvbmVudFxuICogMykgVGhlIHByb3ZpZGVycyBvZiB0aGUgb3RoZXIgZGlyZWN0aXZlc1xuICogVGhpcyBtYXRjaGVzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGluamVjdGFibGVzIGFycmF5cyBvZiBhIHZpZXcgKGZvciBlYWNoIG5vZGUpLlxuICogU28gdGhlIHRva2VucyBhbmQgdGhlIGZhY3RvcmllcyBjYW4gYmUgcHVzaGVkIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5cywgZXhjZXB0XG4gKiBpbiBvbmUgY2FzZSBmb3IgbXVsdGkgcHJvdmlkZXJzLlxuICpcbiAqIEBwYXJhbSBkZWYgdGhlIGRpcmVjdGl2ZSBkZWZpbml0aW9uXG4gKiBAcGFyYW0gcHJvdmlkZXJzOiBBcnJheSBvZiBgcHJvdmlkZXJzYC5cbiAqIEBwYXJhbSB2aWV3UHJvdmlkZXJzOiBBcnJheSBvZiBgdmlld1Byb3ZpZGVyc2AuXG4gKi9cbmZ1bmN0aW9uIHByb3ZpZGVyc1Jlc29sdmVyKGRlZiwgcHJvdmlkZXJzLCB2aWV3UHJvdmlkZXJzKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudERlZihkZWYpO1xuICAgICAgICAvLyBUaGUgbGlzdCBvZiB2aWV3IHByb3ZpZGVycyBpcyBwcm9jZXNzZWQgZmlyc3QsIGFuZCB0aGUgZmxhZ3MgYXJlIHVwZGF0ZWRcbiAgICAgICAgcmVzb2x2ZVByb3ZpZGVyKHZpZXdQcm92aWRlcnMsIHRWaWV3LmRhdGEsIHRWaWV3LmJsdWVwcmludCwgaXNDb21wb25lbnQsIHRydWUpO1xuICAgICAgICAvLyBUaGVuLCB0aGUgbGlzdCBvZiBwcm92aWRlcnMgaXMgcHJvY2Vzc2VkLCBhbmQgdGhlIGZsYWdzIGFyZSB1cGRhdGVkXG4gICAgICAgIHJlc29sdmVQcm92aWRlcihwcm92aWRlcnMsIHRWaWV3LmRhdGEsIHRWaWV3LmJsdWVwcmludCwgaXNDb21wb25lbnQsIGZhbHNlKTtcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmVzIGEgcHJvdmlkZXIgYW5kIHB1Ymxpc2hlcyBpdCB0byB0aGUgREkgc3lzdGVtLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXIsIHRJbmplY3RhYmxlcywgbEluamVjdGFibGVzQmx1ZXByaW50LCBpc0NvbXBvbmVudCwgaXNWaWV3UHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm92aWRlcikpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY2FsbCBgcmVzb2x2ZVByb3ZpZGVyYFxuICAgICAgICAvLyBSZWN1cnNpb24gaXMgT0sgaW4gdGhpcyBjYXNlIGJlY2F1c2UgdGhpcyBjb2RlIHdpbGwgbm90IGJlIGluIGhvdC1wYXRoIG9uY2Ugd2UgaW1wbGVtZW50XG4gICAgICAgIC8vIGNsb25pbmcgb2YgdGhlIGluaXRpYWwgc3RhdGUuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvdmlkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc29sdmVQcm92aWRlcihwcm92aWRlcltpXSwgdEluamVjdGFibGVzLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQsIGlzQ29tcG9uZW50LCBpc1ZpZXdQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgICAgICBsZXQgdG9rZW4gPSBpc1R5cGVQcm92aWRlcihwcm92aWRlcikgPyBwcm92aWRlciA6IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnByb3ZpZGUpO1xuICAgICAgICBsZXQgcHJvdmlkZXJGYWN0b3J5ID0gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgICAgICBjb25zdCBiZWdpbkluZGV4ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgY29uc3QgY3B0Vmlld1Byb3ZpZGVyc0NvdW50ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzID4+IDIwIC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ICovO1xuICAgICAgICBpZiAoaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpIHx8ICFwcm92aWRlci5tdWx0aSkge1xuICAgICAgICAgICAgLy8gU2luZ2xlIHByb3ZpZGVyIGNhc2U6IHRoZSBmYWN0b3J5IGlzIGNyZWF0ZWQgYW5kIHB1c2hlZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IG5ldyBOb2RlSW5qZWN0b3JGYWN0b3J5KHByb3ZpZGVyRmFjdG9yeSwgaXNWaWV3UHJvdmlkZXIsIMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdGYWN0b3J5SW5kZXggPSBpbmRleE9mKHRva2VuLCB0SW5qZWN0YWJsZXMsIGlzVmlld1Byb3ZpZGVyID8gYmVnaW5JbmRleCA6IGJlZ2luSW5kZXggKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQsIGVuZEluZGV4KTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0ZhY3RvcnlJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldyksIHRWaWV3LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIHRJbmplY3RhYmxlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRJbmplY3RhYmxlcy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdGFydCsrO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZUVuZCsrO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgKz0gMTA0ODU3NiAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdGVyICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnQucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBsVmlldy5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nRmFjdG9yeUluZGV4XSA9IGZhY3Rvcnk7XG4gICAgICAgICAgICAgICAgbFZpZXdbZXhpc3RpbmdGYWN0b3J5SW5kZXhdID0gZmFjdG9yeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE11bHRpIHByb3ZpZGVyIGNhc2U6XG4gICAgICAgICAgICAvLyBXZSBjcmVhdGUgYSBtdWx0aSBmYWN0b3J5IHdoaWNoIGlzIGdvaW5nIHRvIGFnZ3JlZ2F0ZSBhbGwgdGhlIHZhbHVlcy5cbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBvdXRwdXQgb2Ygc3VjaCBhIGZhY3RvcnkgZGVwZW5kcyBvbiBjb250ZW50IG9yIHZpZXcgaW5qZWN0aW9uLFxuICAgICAgICAgICAgLy8gd2UgY3JlYXRlIHR3byBvZiB0aGVtLCB3aGljaCBhcmUgbGlua2VkIHRvZ2V0aGVyLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBvbmUgKGZvciB2aWV3IHByb3ZpZGVycykgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgaW5qZWN0YWJsZXMgYXJyYXksXG4gICAgICAgICAgICAvLyBhbmQgdGhlIHNlY29uZCBvbmUgKGZvciBwcm92aWRlcnMpIGlzIGFsd2F5cyBpbiB0aGUgc2Vjb25kIGJsb2NrLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgYmVjYXVzZSB2aWV3IHByb3ZpZGVycyBoYXZlIGhpZ2hlciBwcmlvcml0eS4gV2hlbiBhIG11bHRpIHRva2VuXG4gICAgICAgICAgICAvLyBpcyBiZWluZyBsb29rZWQgdXAsIHRoZSB2aWV3IHByb3ZpZGVycyBzaG91bGQgYmUgZm91bmQgZmlyc3QuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGhhdmUgYSBtdWx0aSBmYWN0b3J5IGluIHRoZSB0aGlyZCBibG9jayAoZGlyZWN0aXZlIGJsb2NrKS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgYWxnb3JpdGhtIHRvIHByb2Nlc3MgbXVsdGkgcHJvdmlkZXJzIGlzIGFzIGZvbGxvd3M6XG4gICAgICAgICAgICAvLyAxKSBJZiB0aGUgbXVsdGkgcHJvdmlkZXIgY29tZXMgZnJvbSB0aGUgYHZpZXdQcm92aWRlcnNgIG9mIHRoZSBjb21wb25lbnQ6XG4gICAgICAgICAgICAvLyAgIGEpIElmIHRoZSBzcGVjaWFsIHZpZXcgcHJvdmlkZXJzIGZhY3RvcnkgZG9lc24ndCBleGlzdCwgaXQgaXMgY3JlYXRlZCBhbmQgcHVzaGVkLlxuICAgICAgICAgICAgLy8gICBiKSBFbHNlLCB0aGUgbXVsdGkgcHJvdmlkZXIgaXMgYWRkZWQgdG8gdGhlIGV4aXN0aW5nIG11bHRpIGZhY3RvcnkuXG4gICAgICAgICAgICAvLyAyKSBJZiB0aGUgbXVsdGkgcHJvdmlkZXIgY29tZXMgZnJvbSB0aGUgYHByb3ZpZGVyc2Agb2YgdGhlIGNvbXBvbmVudCBvciBvZiBhbm90aGVyXG4gICAgICAgICAgICAvLyBkaXJlY3RpdmU6XG4gICAgICAgICAgICAvLyAgIGEpIElmIHRoZSBtdWx0aSBmYWN0b3J5IGRvZXNuJ3QgZXhpc3QsIGl0IGlzIGNyZWF0ZWQgYW5kIHByb3ZpZGVyIHB1c2hlZCBpbnRvIGl0LlxuICAgICAgICAgICAgLy8gICAgICBJdCBpcyBhbHNvIGxpbmtlZCB0byB0aGUgbXVsdGkgZmFjdG9yeSBmb3IgdmlldyBwcm92aWRlcnMsIGlmIGl0IGV4aXN0cy5cbiAgICAgICAgICAgIC8vICAgYikgRWxzZSwgdGhlIG11bHRpIHByb3ZpZGVyIGlzIGFkZGVkIHRvIHRoZSBleGlzdGluZyBtdWx0aSBmYWN0b3J5LlxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggPSBpbmRleE9mKHRva2VuLCB0SW5qZWN0YWJsZXMsIGJlZ2luSW5kZXggKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQsIGVuZEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgYmVnaW5JbmRleCwgYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCk7XG4gICAgICAgICAgICBjb25zdCBkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0ID0gZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggPj0gMCAmJlxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF07XG4gICAgICAgICAgICBjb25zdCBkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCA9IGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA+PSAwICYmXG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF07XG4gICAgICAgICAgICBpZiAoaXNWaWV3UHJvdmlkZXIgJiYgIWRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0IHx8XG4gICAgICAgICAgICAgICAgIWlzVmlld1Byb3ZpZGVyICYmICFkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FzZXMgMS5hIGFuZCAyLmFcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldyksIHRWaWV3LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IG11bHRpRmFjdG9yeShpc1ZpZXdQcm92aWRlciA/IG11bHRpVmlld1Byb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciA6IG11bHRpUHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQubGVuZ3RoLCBpc1ZpZXdQcm92aWRlciwgaXNDb21wb25lbnQsIHByb3ZpZGVyRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZpZXdQcm92aWRlciAmJiBkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XS5wcm92aWRlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkKHRWaWV3LCBwcm92aWRlciwgdEluamVjdGFibGVzLmxlbmd0aCwgMCk7XG4gICAgICAgICAgICAgICAgdEluamVjdGFibGVzLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZVN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlRW5kKys7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmlld1Byb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHROb2RlLnByb3ZpZGVySW5kZXhlcyArPSAxMDQ4NTc2IC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ZXIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludC5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGxWaWV3LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlcyAxLmIgYW5kIDIuYlxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4SW5GYWN0b3J5ID0gbXVsdGlGYWN0b3J5QWRkKGxJbmplY3RhYmxlc0JsdWVwcmludFtpc1ZpZXdQcm92aWRlciA/IGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA6XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4XSwgcHJvdmlkZXJGYWN0b3J5LCAhaXNWaWV3UHJvdmlkZXIgJiYgaXNDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA+IC0xID8gZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggOlxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXgsIGluZGV4SW5GYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNWaWV3UHJvdmlkZXIgJiYgaXNDb21wb25lbnQgJiYgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XS5jb21wb25lbnRQcm92aWRlcnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmVnaXN0ZXJzIHRoZSBgbmdPbkRlc3Ryb3lgIGhvb2sgb2YgYSBwcm92aWRlciwgaWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIGRlc3Ryb3kgaG9va3MuXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCBpbiB3aGljaCB0byByZWdpc3RlciB0aGUgaG9vay5cbiAqIEBwYXJhbSBwcm92aWRlciBQcm92aWRlciB3aG9zZSBob29rIHNob3VsZCBiZSByZWdpc3RlcmVkLlxuICogQHBhcmFtIGNvbnRleHRJbmRleCBJbmRleCB1bmRlciB3aGljaCB0byBmaW5kIHRoZSBjb250ZXh0IGZvciB0aGUgaG9vayB3aGVuIGl0J3MgYmVpbmcgaW52b2tlZC5cbiAqIEBwYXJhbSBpbmRleEluRmFjdG9yeSBPbmx5IHJlcXVpcmVkIGZvciBgbXVsdGlgIHByb3ZpZGVycy4gSW5kZXggb2YgdGhlIHByb3ZpZGVyIGluIHRoZSBtdWx0aVxuICogcHJvdmlkZXIgZmFjdG9yeS5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIGNvbnRleHRJbmRleCwgaW5kZXhJbkZhY3RvcnkpIHtcbiAgICBjb25zdCBwcm92aWRlcklzVHlwZVByb3ZpZGVyID0gaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIGNvbnN0IHByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyID0gaXNDbGFzc1Byb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICBpZiAocHJvdmlkZXJJc1R5cGVQcm92aWRlciB8fCBwcm92aWRlcklzQ2xhc3NQcm92aWRlcikge1xuICAgICAgICAvLyBSZXNvbHZlIGZvcndhcmQgcmVmZXJlbmNlcyBhcyBgdXNlQ2xhc3NgIGNhbiBob2xkIGEgZm9yd2FyZCByZWZlcmVuY2UuXG4gICAgICAgIGNvbnN0IGNsYXNzVG9rZW4gPSBwcm92aWRlcklzQ2xhc3NQcm92aWRlciA/IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUNsYXNzKSA6IHByb3ZpZGVyO1xuICAgICAgICBjb25zdCBwcm90b3R5cGUgPSBjbGFzc1Rva2VuLnByb3RvdHlwZTtcbiAgICAgICAgY29uc3QgbmdPbkRlc3Ryb3kgPSBwcm90b3R5cGUubmdPbkRlc3Ryb3k7XG4gICAgICAgIGlmIChuZ09uRGVzdHJveSkge1xuICAgICAgICAgICAgY29uc3QgaG9va3MgPSB0Vmlldy5kZXN0cm95SG9va3MgfHwgKHRWaWV3LmRlc3Ryb3lIb29rcyA9IFtdKTtcbiAgICAgICAgICAgIGlmICghcHJvdmlkZXJJc1R5cGVQcm92aWRlciAmJiBwcm92aWRlci5tdWx0aSkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKGluZGV4SW5GYWN0b3J5LCAnaW5kZXhJbkZhY3Rvcnkgd2hlbiByZWdpc3RlcmluZyBtdWx0aSBmYWN0b3J5IGRlc3Ryb3kgaG9vaycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ2FsbGJhY2tzSW5kZXggPSBob29rcy5pbmRleE9mKGNvbnRleHRJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2FsbGJhY2tzSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnB1c2goY29udGV4dEluZGV4LCBbaW5kZXhJbkZhY3RvcnksIG5nT25EZXN0cm95XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob29rc1tleGlzdGluZ0NhbGxiYWNrc0luZGV4ICsgMV0ucHVzaChpbmRleEluRmFjdG9yeSwgbmdPbkRlc3Ryb3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvb2tzLnB1c2goY29udGV4dEluZGV4LCBuZ09uRGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFkZCBhIGZhY3RvcnkgaW4gYSBtdWx0aSBmYWN0b3J5LlxuICogQHJldHVybnMgSW5kZXggYXQgd2hpY2ggdGhlIGZhY3Rvcnkgd2FzIGluc2VydGVkLlxuICovXG5mdW5jdGlvbiBtdWx0aUZhY3RvcnlBZGQobXVsdGlGYWN0b3J5LCBmYWN0b3J5LCBpc0NvbXBvbmVudFByb3ZpZGVyKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50UHJvdmlkZXIpIHtcbiAgICAgICAgbXVsdGlGYWN0b3J5LmNvbXBvbmVudFByb3ZpZGVycysrO1xuICAgIH1cbiAgICByZXR1cm4gbXVsdGlGYWN0b3J5Lm11bHRpLnB1c2goZmFjdG9yeSkgLSAxO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBpdGVtIGluIHRoZSBhcnJheSwgYnV0IG9ubHkgaW4gdGhlIGJlZ2luIHRvIGVuZCByYW5nZS5cbiAqL1xuZnVuY3Rpb24gaW5kZXhPZihpdGVtLCBhcnIsIGJlZ2luLCBlbmQpIHtcbiAgICBmb3IgKGxldCBpID0gYmVnaW47IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBpZiAoYXJyW2ldID09PSBpdGVtKVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogVXNlIHRoaXMgd2l0aCBgbXVsdGlgIGBwcm92aWRlcnNgLlxuICovXG5mdW5jdGlvbiBtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlcihfLCB0RGF0YSwgbERhdGEsIHROb2RlKSB7XG4gICAgcmV0dXJuIG11bHRpUmVzb2x2ZSh0aGlzLm11bHRpLCBbXSk7XG59XG4vKipcbiAqIFVzZSB0aGlzIHdpdGggYG11bHRpYCBgdmlld1Byb3ZpZGVyc2AuXG4gKlxuICogVGhpcyBmYWN0b3J5IGtub3dzIGhvdyB0byBjb25jYXRlbmF0ZSBpdHNlbGYgd2l0aCB0aGUgZXhpc3RpbmcgYG11bHRpYCBgcHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlWaWV3UHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyKF8sIHREYXRhLCBsVmlldywgdE5vZGUpIHtcbiAgICBjb25zdCBmYWN0b3JpZXMgPSB0aGlzLm11bHRpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHRoaXMucHJvdmlkZXJGYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudENvdW50ID0gdGhpcy5wcm92aWRlckZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzO1xuICAgICAgICBjb25zdCBtdWx0aVByb3ZpZGVycyA9IGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCBsVmlld1tUVklFV10sIHRoaXMucHJvdmlkZXJGYWN0b3J5LmluZGV4LCB0Tm9kZSk7XG4gICAgICAgIC8vIENvcHkgdGhlIHNlY3Rpb24gb2YgdGhlIGFycmF5IHdoaWNoIGNvbnRhaW5zIGBtdWx0aWAgYHByb3ZpZGVyc2AgZnJvbSB0aGUgY29tcG9uZW50XG4gICAgICAgIHJlc3VsdCA9IG11bHRpUHJvdmlkZXJzLnNsaWNlKDAsIGNvbXBvbmVudENvdW50KTtcbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBgdmlld1Byb3ZpZGVyYCBpbnN0YW5jZXMuXG4gICAgICAgIG11bHRpUmVzb2x2ZShmYWN0b3JpZXMsIHJlc3VsdCk7XG4gICAgICAgIC8vIENvcHkgdGhlIHNlY3Rpb24gb2YgdGhlIGFycmF5IHdoaWNoIGNvbnRhaW5zIGBtdWx0aWAgYHByb3ZpZGVyc2AgZnJvbSBvdGhlciBkaXJlY3RpdmVzXG4gICAgICAgIGZvciAobGV0IGkgPSBjb21wb25lbnRDb3VudDsgaSA8IG11bHRpUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChtdWx0aVByb3ZpZGVyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICAvLyBJbnNlcnQgdGhlIGB2aWV3UHJvdmlkZXJgIGluc3RhbmNlcy5cbiAgICAgICAgbXVsdGlSZXNvbHZlKGZhY3RvcmllcywgcmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogTWFwcyBhbiBhcnJheSBvZiBmYWN0b3JpZXMgaW50byBhbiBhcnJheSBvZiB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIG11bHRpUmVzb2x2ZShmYWN0b3JpZXMsIHJlc3VsdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjdG9yaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBmYWN0b3JpZXNbaV07XG4gICAgICAgIHJlc3VsdC5wdXNoKGZhY3RvcnkoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtdWx0aSBmYWN0b3J5LlxuICovXG5mdW5jdGlvbiBtdWx0aUZhY3RvcnkoZmFjdG9yeUZuLCBpbmRleCwgaXNWaWV3UHJvdmlkZXIsIGlzQ29tcG9uZW50LCBmKSB7XG4gICAgY29uc3QgZmFjdG9yeSA9IG5ldyBOb2RlSW5qZWN0b3JGYWN0b3J5KGZhY3RvcnlGbiwgaXNWaWV3UHJvdmlkZXIsIMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgIGZhY3RvcnkubXVsdGkgPSBbXTtcbiAgICBmYWN0b3J5LmluZGV4ID0gaW5kZXg7XG4gICAgZmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMgPSAwO1xuICAgIG11bHRpRmFjdG9yeUFkZChmYWN0b3J5LCBmLCBpc0NvbXBvbmVudCAmJiAhaXNWaWV3UHJvdmlkZXIpO1xuICAgIHJldHVybiBmYWN0b3J5O1xufVxuXG4vKipcbiAqIFRoaXMgZmVhdHVyZSByZXNvbHZlcyB0aGUgcHJvdmlkZXJzIG9mIGEgZGlyZWN0aXZlIChvciBjb21wb25lbnQpLFxuICogYW5kIHB1Ymxpc2ggdGhlbSBpbnRvIHRoZSBESSBzeXN0ZW0sIG1ha2luZyBpdCB2aXNpYmxlIHRvIG90aGVycyBmb3IgaW5qZWN0aW9uLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICogYGBgdHNcbiAqIGNsYXNzIENvbXBvbmVudFdpdGhQcm92aWRlcnMge1xuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIGdyZWV0ZXI6IEdyZWV0ZXJERSkge31cbiAqXG4gKiAgIHN0YXRpYyDJtWNtcCA9IGRlZmluZUNvbXBvbmVudCh7XG4gKiAgICAgdHlwZTogQ29tcG9uZW50V2l0aFByb3ZpZGVycyxcbiAqICAgICBzZWxlY3RvcnM6IFtbJ2NvbXBvbmVudC13aXRoLXByb3ZpZGVycyddXSxcbiAqICAgIGZhY3Rvcnk6ICgpID0+IG5ldyBDb21wb25lbnRXaXRoUHJvdmlkZXJzKGRpcmVjdGl2ZUluamVjdChHcmVldGVyREUgYXMgYW55KSksXG4gKiAgICBkZWNsczogMSxcbiAqICAgIHZhcnM6IDEsXG4gKiAgICB0ZW1wbGF0ZTogZnVuY3Rpb24oZnM6IFJlbmRlckZsYWdzLCBjdHg6IENvbXBvbmVudFdpdGhQcm92aWRlcnMpIHtcbiAqICAgICAgaWYgKGZzICYgUmVuZGVyRmxhZ3MuQ3JlYXRlKSB7XG4gKiAgICAgICAgybXJtXRleHQoMCk7XG4gKiAgICAgIH1cbiAqICAgICAgaWYgKGZzICYgUmVuZGVyRmxhZ3MuVXBkYXRlKSB7XG4gKiAgICAgICAgybXJtXRleHRJbnRlcnBvbGF0ZShjdHguZ3JlZXRlci5ncmVldCgpKTtcbiAqICAgICAgfVxuICogICAgfSxcbiAqICAgIGZlYXR1cmVzOiBbybXJtVByb3ZpZGVyc0ZlYXR1cmUoW0dyZWV0ZXJERV0pXVxuICogIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGRlZmluaXRpb25cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1UHJvdmlkZXJzRmVhdHVyZShwcm92aWRlcnMsIHZpZXdQcm92aWRlcnMgPSBbXSkge1xuICAgIHJldHVybiAoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICBkZWZpbml0aW9uLnByb3ZpZGVyc1Jlc29sdmVyID1cbiAgICAgICAgICAgIChkZWYsIHByb2Nlc3NQcm92aWRlcnNGbikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm92aWRlcnNSZXNvbHZlcihkZWYsIC8vXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1Byb3ZpZGVyc0ZuID8gcHJvY2Vzc1Byb3ZpZGVyc0ZuKHByb3ZpZGVycykgOiBwcm92aWRlcnMsIC8vXG4gICAgICAgICAgICAgICAgdmlld1Byb3ZpZGVycyk7XG4gICAgICAgICAgICB9O1xuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29tcG9uZW50IGNyZWF0ZWQgYnkgYSBgQ29tcG9uZW50RmFjdG9yeWAuXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBhbmQgcmVsYXRlZCBvYmplY3RzLFxuICogYW5kIHByb3ZpZGVzIHRoZSBtZWFucyBvZiBkZXN0cm95aW5nIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIENvbXBvbmVudFJlZiQxIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYSBmYWN0b3J5IHRoYXQgY2FuIGNyZWF0ZSBhIGNvbXBvbmVudCBkeW5hbWljYWxseS5cbiAqIEluc3RhbnRpYXRlIGEgZmFjdG9yeSBmb3IgYSBnaXZlbiB0eXBlIG9mIGNvbXBvbmVudCB3aXRoIGByZXNvbHZlQ29tcG9uZW50RmFjdG9yeSgpYC5cbiAqIFVzZSB0aGUgcmVzdWx0aW5nIGBDb21wb25lbnRGYWN0b3J5LmNyZWF0ZSgpYCBtZXRob2QgdG8gY3JlYXRlIGEgY29tcG9uZW50IG9mIHRoYXQgdHlwZS5cbiAqXG4gKiBAc2VlIFtEeW5hbWljIENvbXBvbmVudHNdKGd1aWRlL2R5bmFtaWMtY29tcG9uZW50LWxvYWRlcilcbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWQgQW5ndWxhciBubyBsb25nZXIgcmVxdWlyZXMgQ29tcG9uZW50IGZhY3Rvcmllcy4gUGxlYXNlIHVzZSBvdGhlciBBUElzIHdoZXJlXG4gKiAgICAgQ29tcG9uZW50IGNsYXNzIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5JDEge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5vQ29tcG9uZW50RmFjdG9yeUVycm9yKGNvbXBvbmVudCkge1xuICAgIGNvbnN0IGVycm9yID0gRXJyb3IoYE5vIGNvbXBvbmVudCBmYWN0b3J5IGZvdW5kIGZvciAke3N0cmluZ2lmeShjb21wb25lbnQpfS4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9gKTtcbiAgICBlcnJvcltFUlJPUl9DT01QT05FTlRdID0gY29tcG9uZW50O1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmNvbnN0IEVSUk9SX0NPTVBPTkVOVCA9ICduZ0NvbXBvbmVudCc7XG5mdW5jdGlvbiBnZXRDb21wb25lbnQoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3JbRVJST1JfQ09NUE9ORU5UXTtcbn1cbmNsYXNzIF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHtcbiAgICByZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnQpIHtcbiAgICAgICAgdGhyb3cgbm9Db21wb25lbnRGYWN0b3J5RXJyb3IoY29tcG9uZW50KTtcbiAgICB9XG59XG4vKipcbiAqIEEgc2ltcGxlIHJlZ2lzdHJ5IHRoYXQgbWFwcyBgQ29tcG9uZW50c2AgdG8gZ2VuZXJhdGVkIGBDb21wb25lbnRGYWN0b3J5YCBjbGFzc2VzXG4gKiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBpbnN0YW5jZXMgb2YgY29tcG9uZW50cy5cbiAqIFVzZSB0byBvYnRhaW4gdGhlIGZhY3RvcnkgZm9yIGEgZ2l2ZW4gY29tcG9uZW50IHR5cGUsXG4gKiB0aGVuIHVzZSB0aGUgZmFjdG9yeSdzIGBjcmVhdGUoKWAgbWV0aG9kIHRvIGNyZWF0ZSBhIGNvbXBvbmVudCBvZiB0aGF0IHR5cGUuXG4gKlxuICogTm90ZTogc2luY2UgdjEzLCBkeW5hbWljIGNvbXBvbmVudCBjcmVhdGlvbiB2aWFcbiAqIFtgVmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnRgXShhcGkvY29yZS9WaWV3Q29udGFpbmVyUmVmI2NyZWF0ZUNvbXBvbmVudClcbiAqIGRvZXMgKipub3QqKiByZXF1aXJlIHJlc29sdmluZyBjb21wb25lbnQgZmFjdG9yeTogY29tcG9uZW50IGNsYXNzIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZCBBbmd1bGFyIG5vIGxvbmdlciByZXF1aXJlcyBDb21wb25lbnQgZmFjdG9yaWVzLiBQbGVhc2UgdXNlIG90aGVyIEFQSXMgd2hlcmVcbiAqICAgICBDb21wb25lbnQgY2xhc3MgY2FuIGJlIHVzZWQgZGlyZWN0bHkuXG4gKi9cbmNsYXNzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIHtcbn1cbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxLk5VTEwgPSAoIC8qIEBfX1BVUkVfXyAqL25ldyBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYW4gRWxlbWVudFJlZiBmcm9tIHRoZSBtb3N0IHJlY2VudCBub2RlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBFbGVtZW50UmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RFbGVtZW50UmVmKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBFbGVtZW50UmVmIGdpdmVuIGEgbm9kZS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIG5vZGUgZm9yIHdoaWNoIHlvdSdkIGxpa2UgYW4gRWxlbWVudFJlZlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBFbGVtZW50UmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50UmVmKHROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBuZXcgRWxlbWVudFJlZihnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldykpO1xufVxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGVsZW1lbnQgaW5zaWRlIG9mIGEgVmlldy5cbiAqXG4gKiBBbiBgRWxlbWVudFJlZmAgaXMgYmFja2VkIGJ5IGEgcmVuZGVyLXNwZWNpZmljIGVsZW1lbnQuIEluIHRoZSBicm93c2VyLCB0aGlzIGlzIHVzdWFsbHkgYSBET01cbiAqIGVsZW1lbnQuXG4gKlxuICogQHNlY3VyaXR5IFBlcm1pdHRpbmcgZGlyZWN0IGFjY2VzcyB0byB0aGUgRE9NIGNhbiBtYWtlIHlvdXIgYXBwbGljYXRpb24gbW9yZSB2dWxuZXJhYmxlIHRvXG4gKiBYU1MgYXR0YWNrcy4gQ2FyZWZ1bGx5IHJldmlldyBhbnkgdXNlIG9mIGBFbGVtZW50UmVmYCBpbiB5b3VyIGNvZGUuIEZvciBtb3JlIGRldGFpbCwgc2VlIHRoZVxuICogW1NlY3VyaXR5IEd1aWRlXShodHRwczovL2cuY28vbmcvc2VjdXJpdHkpLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuLy8gTm90ZTogV2UgZG9uJ3QgZXhwb3NlIHRoaW5ncyBsaWtlIGBJbmplY3RvcmAsIGBWaWV3Q29udGFpbmVyYCwgLi4uIGhlcmUsXG4vLyBpLmUuIHVzZXJzIGhhdmUgdG8gYXNrIGZvciB3aGF0IHRoZXkgbmVlZC4gV2l0aCB0aGF0LCB3ZSBjYW4gYnVpbGQgYmV0dGVyIGFuYWx5c2lzIHRvb2xzXG4vLyBhbmQgY291bGQgZG8gYmV0dGVyIGNvZGVnZW4gaW4gdGhlIGZ1dHVyZS5cbmNsYXNzIEVsZW1lbnRSZWYge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVFbGVtZW50ID0gbmF0aXZlRWxlbWVudDtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuRWxlbWVudFJlZi5fX05HX0VMRU1FTlRfSURfXyA9IGluamVjdEVsZW1lbnRSZWY7XG4vKipcbiAqIFVud3JhcHMgYEVsZW1lbnRSZWZgIGFuZCByZXR1cm4gdGhlIGBuYXRpdmVFbGVtZW50YC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgdmFsdWUgdG8gdW53cmFwXG4gKiBAcmV0dXJucyBgbmF0aXZlRWxlbWVudGAgaWYgYEVsZW1lbnRSZWZgIG90aGVyd2lzZSByZXR1cm5zIHZhbHVlIGFzIGlzLlxuICovXG5mdW5jdGlvbiB1bndyYXBFbGVtZW50UmVmKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudFJlZiA/IHZhbHVlLm5hdGl2ZUVsZW1lbnQgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBSZW5kZXJlcjJJbnRlcmNlcHRvciA9IG5ldyBJbmplY3Rpb25Ub2tlbignUmVuZGVyZXIySW50ZXJjZXB0b3InKTtcbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSBjdXN0b20gcmVuZGVyZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBgUmVuZGVyZXIyYCBiYXNlIGNsYXNzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVuZGVyZXJGYWN0b3J5MiB7XG59XG4vKipcbiAqIEV4dGVuZCB0aGlzIGJhc2UgY2xhc3MgdG8gaW1wbGVtZW50IGN1c3RvbSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQsIEFuZ3VsYXJcbiAqIHJlbmRlcnMgYSB0ZW1wbGF0ZSBpbnRvIERPTS4gWW91IGNhbiB1c2UgY3VzdG9tIHJlbmRlcmluZyB0byBpbnRlcmNlcHRcbiAqIHJlbmRlcmluZyBjYWxscywgb3IgdG8gcmVuZGVyIHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIERPTS5cbiAqXG4gKiBDcmVhdGUgeW91ciBjdXN0b20gcmVuZGVyZXIgdXNpbmcgYFJlbmRlcmVyRmFjdG9yeTJgLlxuICpcbiAqIFVzZSBhIGN1c3RvbSByZW5kZXJlciB0byBieXBhc3MgQW5ndWxhcidzIHRlbXBsYXRpbmcgYW5kXG4gKiBtYWtlIGN1c3RvbSBVSSBjaGFuZ2VzIHRoYXQgY2FuJ3QgYmUgZXhwcmVzc2VkIGRlY2xhcmF0aXZlbHkuXG4gKiBGb3IgZXhhbXBsZSBpZiB5b3UgbmVlZCB0byBzZXQgYSBwcm9wZXJ0eSBvciBhbiBhdHRyaWJ1dGUgd2hvc2UgbmFtZSBpc1xuICogbm90IHN0YXRpY2FsbHkga25vd24sIHVzZSB0aGUgYHNldFByb3BlcnR5KClgIG9yXG4gKiBgc2V0QXR0cmlidXRlKClgIG1ldGhvZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlbmRlcmVyMiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuUmVuZGVyZXIyLl9fTkdfRUxFTUVOVF9JRF9fID0gKCkgPT4gaW5qZWN0UmVuZGVyZXIyKCk7XG4vKiogUmV0dXJucyBhIFJlbmRlcmVyMiAob3IgdGhyb3dzIHdoZW4gYXBwbGljYXRpb24gd2FzIGJvb3RzdHJhcHBlZCB3aXRoIFJlbmRlcmVyMykgKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlUmVuZGVyZXIyKGxWaWV3KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGluamVjdCBSZW5kZXJlcjIgd2hlbiB0aGUgYXBwbGljYXRpb24gdXNlcyBSZW5kZXJlcjMhJyk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJlcjtcbn1cbi8qKiBJbmplY3RzIGEgUmVuZGVyZXIyIGZvciB0aGUgY3VycmVudCBjb21wb25lbnQuICovXG5mdW5jdGlvbiBpbmplY3RSZW5kZXJlcjIoKSB7XG4gICAgLy8gV2UgbmVlZCB0aGUgUmVuZGVyZXIgdG8gYmUgYmFzZWQgb24gdGhlIGNvbXBvbmVudCB0aGF0IGl0J3MgYmVpbmcgaW5qZWN0ZWQgaW50bywgaG93ZXZlciBzaW5jZVxuICAgIC8vIERJIGhhcHBlbnMgYmVmb3JlIHdlJ3ZlIGVudGVyZWQgaXRzIHZpZXcsIGBnZXRMVmlld2Agd2lsbCByZXR1cm4gdGhlIHBhcmVudCB2aWV3IGluc3RlYWQuXG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3Qgbm9kZUF0SW5kZXggPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTtcbiAgICByZXR1cm4gZ2V0T3JDcmVhdGVSZW5kZXJlcjIoaXNMVmlldyhub2RlQXRJbmRleCkgPyBub2RlQXRJbmRleCA6IGxWaWV3KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFNhbml0aXplciBpcyB1c2VkIGJ5IHRoZSB2aWV3cyB0byBzYW5pdGl6ZSBwb3RlbnRpYWxseSBkYW5nZXJvdXMgdmFsdWVzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgU2FuaXRpemVyIHtcbn1cbi8qKiBAbm9jb2xsYXBzZSAqL1xuU2FuaXRpemVyLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHtcbiAgICB0b2tlbjogU2FuaXRpemVyLFxuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiAoKSA9PiBudWxsLFxufSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gUmVwcmVzZW50cyB0aGUgdmVyc2lvbiBvZiBBbmd1bGFyXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBWZXJzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihmdWxsKSB7XG4gICAgICAgIHRoaXMuZnVsbCA9IGZ1bGw7XG4gICAgICAgIHRoaXMubWFqb3IgPSBmdWxsLnNwbGl0KCcuJylbMF07XG4gICAgICAgIHRoaXMubWlub3IgPSBmdWxsLnNwbGl0KCcuJylbMV07XG4gICAgICAgIHRoaXMucGF0Y2ggPSBmdWxsLnNwbGl0KCcuJykuc2xpY2UoMikuam9pbignLicpO1xuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWRVJTSU9OID0gbmV3IFZlcnNpb24oJzEzLjIuNicpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZGVmYXVsdCB2YWx1ZSBpcyB3aGVuIGNoZWNraW5nIHRoZSBoaWVyYXJjaHkgZm9yIGEgdG9rZW4uXG4vL1xuLy8gSXQgbWVhbnMgYm90aDpcbi8vIC0gdGhlIHRva2VuIGlzIG5vdCBwcm92aWRlZCBieSB0aGUgY3VycmVudCBpbmplY3Rvcixcbi8vIC0gb25seSB0aGUgZWxlbWVudCBpbmplY3RvcnMgc2hvdWxkIGJlIGNoZWNrZWQgKGllIGRvIG5vdCBjaGVjayBtb2R1bGUgaW5qZWN0b3JzXG4vL1xuLy8gICAgICAgICAgbW9kMVxuLy8gICAgICAgICAvXG4vLyAgICAgICBlbDEgICBtb2QyXG4vLyAgICAgICAgIFxcICAvXG4vLyAgICAgICAgIGVsMlxuLy9cbi8vIFdoZW4gcmVxdWVzdGluZyBlbDIuaW5qZWN0b3IuZ2V0KHRva2VuKSwgd2Ugc2hvdWxkIGNoZWNrIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIgYW5kIHJldHVybiB0aGVcbi8vIGZpcnN0IGZvdW5kIHZhbHVlOlxuLy8gLSBlbDIuaW5qZWN0b3IuZ2V0KHRva2VuLCBkZWZhdWx0KVxuLy8gLSBlbDEuaW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKSAtPiBkbyBub3QgY2hlY2sgdGhlIG1vZHVsZVxuLy8gLSBtb2QyLmluamVjdG9yLmdldCh0b2tlbiwgZGVmYXVsdClcbmNvbnN0IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgPSB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBjb2xsZWN0TmF0aXZlTm9kZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgcmVzdWx0LCBpc1Byb2plY3Rpb24gPSBmYWxzZSkge1xuICAgIHdoaWxlICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDE2IC8qIFByb2plY3Rpb24gKi8gfCAzMiAvKiBJY3UgKi8pO1xuICAgICAgICBjb25zdCBsTm9kZSA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgaWYgKGxOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh1bndyYXBSTm9kZShsTm9kZSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgZ2l2ZW4gbE5vZGUgY2FuIHJlcHJlc2VudCBlaXRoZXIgYSBuYXRpdmUgbm9kZSBvciBhIExDb250YWluZXIgKHdoZW4gaXQgaXMgYSBob3N0IG9mIGFcbiAgICAgICAgLy8gVmlld0NvbnRhaW5lclJlZikuIFdoZW4gd2UgZmluZCBhIExDb250YWluZXIgd2UgbmVlZCB0byBkZXNjZW5kIGludG8gaXQgdG8gY29sbGVjdCByb290IG5vZGVzXG4gICAgICAgIC8vIGZyb20gdGhlIHZpZXdzIGluIHRoaXMgY29udGFpbmVyLlxuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKGxOb2RlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbE5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsVmlld0luQUNvbnRhaW5lciA9IGxOb2RlW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxWaWV3Rmlyc3RDaGlsZFROb2RlID0gbFZpZXdJbkFDb250YWluZXJbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGxWaWV3Rmlyc3RDaGlsZFROb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3ROYXRpdmVOb2RlcyhsVmlld0luQUNvbnRhaW5lcltUVklFV10sIGxWaWV3SW5BQ29udGFpbmVyLCBsVmlld0ZpcnN0Q2hpbGRUTm9kZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdE5vZGVUeXBlID0gdE5vZGUudHlwZTtcbiAgICAgICAgaWYgKHROb2RlVHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgY29sbGVjdE5hdGl2ZU5vZGVzKHRWaWV3LCBsVmlldywgdE5vZGUuY2hpbGQsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRlKHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBsZXQgck5vZGU7XG4gICAgICAgICAgICB3aGlsZSAock5vZGUgPSBuZXh0Uk5vZGUoKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgICAgICBjb25zdCBub2Rlc0luU2xvdCA9IGdldFByb2plY3Rpb25Ob2RlcyhsVmlldywgdE5vZGUpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZXNJblNsb3QpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goLi4ubm9kZXNJblNsb3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IGdldExWaWV3UGFyZW50KGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSk7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFBhcmVudFZpZXcocGFyZW50Vmlldyk7XG4gICAgICAgICAgICAgICAgY29sbGVjdE5hdGl2ZU5vZGVzKHBhcmVudFZpZXdbVFZJRVddLCBwYXJlbnRWaWV3LCBub2Rlc0luU2xvdCwgcmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IGlzUHJvamVjdGlvbiA/IHROb2RlLnByb2plY3Rpb25OZXh0IDogdE5vZGUubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBWaWV3UmVmJDEge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVwcmVzZW50cyBgTFZpZXdgIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29tcG9uZW50IHdoZW4gVmlld1JlZiBpcyBhIENoYW5nZURldGVjdG9yUmVmLlxuICAgICAqXG4gICAgICogV2hlbiBWaWV3UmVmIGlzIGNyZWF0ZWQgZm9yIGEgZHluYW1pYyBjb21wb25lbnQsIHRoaXMgYWxzbyByZXByZXNlbnRzIHRoZSBgTFZpZXdgIGZvciB0aGVcbiAgICAgKiBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBGb3IgYSBcInJlZ3VsYXJcIiBWaWV3UmVmIGNyZWF0ZWQgZm9yIGFuIGVtYmVkZGVkIHZpZXcsIHRoaXMgaXMgdGhlIGBMVmlld2AgZm9yIHRoZSBlbWJlZGRlZFxuICAgICAqIHZpZXcuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbFZpZXcsIFxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVwcmVzZW50cyB0aGUgYExWaWV3YCBhc3NvY2lhdGVkIHdpdGggdGhlIHBvaW50IHdoZXJlIGBDaGFuZ2VEZXRlY3RvclJlZmAgd2FzXG4gICAgICogcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgZGlmZmVyZW50IGZyb20gYF9sVmlld2AgaWYgdGhlIGBfY2RSZWZJbmplY3RpbmdWaWV3YCBpcyBhbiBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIF9jZFJlZkluamVjdGluZ1ZpZXcpIHtcbiAgICAgICAgdGhpcy5fbFZpZXcgPSBfbFZpZXc7XG4gICAgICAgIHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlldyA9IF9jZFJlZkluamVjdGluZ1ZpZXc7XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyID0gZmFsc2U7XG4gICAgfVxuICAgIGdldCByb290Tm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gdGhpcy5fbFZpZXc7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICByZXR1cm4gY29sbGVjdE5hdGl2ZU5vZGVzKHRWaWV3LCBsVmlldywgdFZpZXcuZmlyc3RDaGlsZCwgW10pO1xuICAgIH1cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xWaWV3W0NPTlRFWFRdO1xuICAgIH1cbiAgICBzZXQgY29udGV4dCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9sVmlld1tDT05URVhUXSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2xWaWV3W0ZMQUdTXSAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pID09PSAyNTYgLyogRGVzdHJveWVkICovO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fYXBwUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgIGlmIChpc0xDb250YWluZXIocGFyZW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdSZWZzID0gcGFyZW50W1ZJRVdfUkVGU107XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2aWV3UmVmcyA/IHZpZXdSZWZzLmluZGV4T2YodGhpcykgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKGluZGV4LCBwYXJlbnQuaW5kZXhPZih0aGlzLl9sVmlldykgLSBDT05UQUlORVJfSEVBREVSX09GRlNFVCwgJ0FuIGF0dGFjaGVkIHZpZXcgc2hvdWxkIGJlIGluIHRoZSBzYW1lIHBvc2l0aW9uIHdpdGhpbiBpdHMgY29udGFpbmVyIGFzIGl0cyBWaWV3UmVmIGluIHRoZSBWSUVXX1JFRlMgYXJyYXkuJyk7XG4gICAgICAgICAgICAgICAgICAgIGRldGFjaFZpZXcocGFyZW50LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh2aWV3UmVmcywgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveUxWaWV3KHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcpO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgc3RvcmVDbGVhbnVwV2l0aENvbnRleHQodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldywgbnVsbCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHZpZXcgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzIGRpcnR5LlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBlbnN1cmUgYW4ge0BsaW5rIENoYW5nZURldGVjdGlvblN0cmF0ZWd5I09uUHVzaCBPblB1c2h9IGNvbXBvbmVudCBpc1xuICAgICAqIGNoZWNrZWQgd2hlbiBpdCBuZWVkcyB0byBiZSByZS1yZW5kZXJlZCBidXQgdGhlIHR3byBub3JtYWwgdHJpZ2dlcnMgaGF2ZW4ndCBtYXJrZWQgaXRcbiAgICAgKiBkaXJ0eSAoaS5lLiBpbnB1dHMgaGF2ZW4ndCBjaGFuZ2VkIGFuZCBldmVudHMgaGF2ZW4ndCBmaXJlZCBpbiB0aGUgdmlldykuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIE9uUHVzaCBjb21wb25lbnRzIC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAtcm9vdCcsXG4gICAgICogICB0ZW1wbGF0ZTogYE51bWJlciBvZiB0aWNrczoge3tudW1iZXJPZlRpY2tzfX1gXG4gICAgICogICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgICogICBudW1iZXJPZlRpY2tzID0gMDtcbiAgICAgKlxuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLm51bWJlck9mVGlja3MrKztcbiAgICAgKiAgICAgICAvLyB0aGUgZm9sbG93aW5nIGlzIHJlcXVpcmVkLCBvdGhlcndpc2UgdGhlIHZpZXcgd2lsbCBub3QgYmUgdXBkYXRlZFxuICAgICAqICAgICAgIHRoaXMucmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAqICAgICB9LCAxMDAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgbWFya0ZvckNoZWNrKCkge1xuICAgICAgICBtYXJrVmlld0RpcnR5KHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlldyB8fCB0aGlzLl9sVmlldyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGFjaGVzIHRoZSB2aWV3IGZyb20gdGhlIGNoYW5nZSBkZXRlY3Rpb24gdHJlZS5cbiAgICAgKlxuICAgICAqIERldGFjaGVkIHZpZXdzIHdpbGwgbm90IGJlIGNoZWNrZWQgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24gcnVucyB1bnRpbCB0aGV5IGFyZVxuICAgICAqIHJlLWF0dGFjaGVkLCBldmVuIGlmIHRoZXkgYXJlIGRpcnR5LiBgZGV0YWNoYCBjYW4gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAgICoge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGVjdENoYW5nZXMgZGV0ZWN0Q2hhbmdlc30gdG8gaW1wbGVtZW50IGxvY2FsIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBjaGVja3MuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaXZlIGRlbW8gb25jZSByZWYuZGV0ZWN0Q2hhbmdlcyBpcyBtZXJnZWQgaW50byBtYXN0ZXIgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkb25seSBkYXRhLlxuICAgICAqIEltYWdpbmUgdGhlIGRhdGEgY2hhbmdlcyBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLFxuICAgICAqIHdlIHdhbnQgdG8gY2hlY2sgYW5kIHVwZGF0ZSB0aGUgbGlzdCBldmVyeSBmaXZlIHNlY29uZHMuIFdlIGNhbiBkbyB0aGF0IGJ5IGRldGFjaGluZ1xuICAgICAqIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGRvaW5nIGEgbG9jYWwgY2hlY2sgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIERhdGFQcm92aWRlciB7XG4gICAgICogICAvLyBpbiBhIHJlYWwgYXBwbGljYXRpb24gdGhlIHJldHVybmVkIGRhdGEgd2lsbCBiZSBkaWZmZXJlbnQgZXZlcnkgdGltZVxuICAgICAqICAgZ2V0IGRhdGEoKSB7XG4gICAgICogICAgIHJldHVybiBbMSwyLDMsNCw1XTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnZ2lhbnQtbGlzdCcsXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICA8bGkgKm5nRm9yPVwibGV0IGQgb2YgZGF0YVByb3ZpZGVyLmRhdGFcIj5EYXRhIHt7ZH19PC9saT5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBHaWFudExpc3Qge1xuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyKSB7XG4gICAgICogICAgIHJlZi5kZXRhY2goKTtcbiAgICAgKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgKiAgICAgfSwgNTAwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2FwcCcsXG4gICAgICogICBwcm92aWRlcnM6IFtEYXRhUHJvdmlkZXJdLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgPGdpYW50LWxpc3Q+PGdpYW50LWxpc3Q+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgQXBwIHtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICB0aGlzLl9sVmlld1tGTEFHU10gJj0gfjEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmUtYXR0YWNoZXMgYSB2aWV3IHRvIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHJlLWF0dGFjaCB2aWV3cyB0aGF0IHdlcmUgcHJldmlvdXNseSBkZXRhY2hlZCBmcm9tIHRoZSB0cmVlXG4gICAgICogdXNpbmcge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGFjaCBkZXRhY2h9LiBWaWV3cyBhcmUgYXR0YWNoZWQgdG8gdGhlIHRyZWUgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgY29tcG9uZW50IGRpc3BsYXlpbmcgYGxpdmVgIGRhdGEuIFRoZSBjb21wb25lbnQgd2lsbCBkZXRhY2hcbiAgICAgKiBpdHMgY2hhbmdlIGRldGVjdG9yIGZyb20gdGhlIG1haW4gY2hhbmdlIGRldGVjdG9yIHRyZWUgd2hlbiB0aGUgY29tcG9uZW50J3MgbGl2ZSBwcm9wZXJ0eVxuICAgICAqIGlzIHNldCB0byBmYWxzZS5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgZGF0YSA9IDE7XG4gICAgICpcbiAgICAgKiAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhICogMjtcbiAgICAgKiAgICAgfSwgNTAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnbGl2ZS1kYXRhJyxcbiAgICAgKiAgIGlucHV0czogWydsaXZlJ10sXG4gICAgICogICB0ZW1wbGF0ZTogJ0RhdGE6IHt7ZGF0YVByb3ZpZGVyLmRhdGF9fSdcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIExpdmVEYXRhIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkYXRhUHJvdmlkZXI6IERhdGFQcm92aWRlcikge31cbiAgICAgKlxuICAgICAqICAgc2V0IGxpdmUodmFsdWUpIHtcbiAgICAgKiAgICAgaWYgKHZhbHVlKSB7XG4gICAgICogICAgICAgdGhpcy5yZWYucmVhdHRhY2goKTtcbiAgICAgKiAgICAgfSBlbHNlIHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5kZXRhY2goKTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAtcm9vdCcsXG4gICAgICogICBwcm92aWRlcnM6IFtEYXRhUHJvdmlkZXJdLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgTGl2ZSBVcGRhdGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbKG5nTW9kZWwpXT1cImxpdmVcIj5cbiAgICAgKiAgICAgPGxpdmUtZGF0YSBbbGl2ZV09XCJsaXZlXCI+PGxpdmUtZGF0YT5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgICAqICAgbGl2ZSA9IHRydWU7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJlYXR0YWNoKCkge1xuICAgICAgICB0aGlzLl9sVmlld1tGTEFHU10gfD0gMTI4IC8qIEF0dGFjaGVkICovO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdGhlIHZpZXcgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRhY2ggZGV0YWNofSB0byBpbXBsZW1lbnRcbiAgICAgKiBsb2NhbCBjaGFuZ2UgZGV0ZWN0aW9uIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpdmUgZGVtbyBvbmNlIHJlZi5kZXRlY3RDaGFuZ2VzIGlzIG1lcmdlZCBpbnRvIG1hc3RlciAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWZpbmVzIGEgY29tcG9uZW50IHdpdGggYSBsYXJnZSBsaXN0IG9mIHJlYWRvbmx5IGRhdGEuXG4gICAgICogSW1hZ2luZSwgdGhlIGRhdGEgY2hhbmdlcyBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLFxuICAgICAqIHdlIHdhbnQgdG8gY2hlY2sgYW5kIHVwZGF0ZSB0aGUgbGlzdCBldmVyeSBmaXZlIHNlY29uZHMuXG4gICAgICpcbiAgICAgKiBXZSBjYW4gZG8gdGhhdCBieSBkZXRhY2hpbmcgdGhlIGNvbXBvbmVudCdzIGNoYW5nZSBkZXRlY3RvciBhbmQgZG9pbmcgYSBsb2NhbCBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogY2hlY2sgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRhY2ggZGV0YWNofSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldywgdGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGl0cyBjaGlsZHJlbiwgYW5kIHRocm93cyBpZiBhbnkgY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byB2ZXJpZnkgdGhhdCBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24gZG9lc24ndFxuICAgICAqIGludHJvZHVjZSBvdGhlciBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNoZWNrTm9DaGFuZ2VzKCkge1xuICAgICAgICBjaGVja05vQ2hhbmdlc0ludGVybmFsKHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcsIHRoaXMuY29udGV4dCk7XG4gICAgfVxuICAgIGF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFJlZikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbmdEZXZNb2RlID8gJ1RoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiEnIDogJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMiAvKiBWSUVXX0FMUkVBRFlfQVRUQUNIRUQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIgPSB0cnVlO1xuICAgIH1cbiAgICBkZXRhY2hGcm9tQXBwUmVmKCkge1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBudWxsO1xuICAgICAgICByZW5kZXJEZXRhY2hWaWV3KHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcpO1xuICAgIH1cbiAgICBhdHRhY2hUb0FwcFJlZihhcHBSZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBuZ0Rldk1vZGUgPyAnVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyIScgOiAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAyIC8qIFZJRVdfQUxSRUFEWV9BVFRBQ0hFRCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBSZWYgPSBhcHBSZWY7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgUm9vdFZpZXdSZWYgZXh0ZW5kcyBWaWV3UmVmJDEge1xuICAgIGNvbnN0cnVjdG9yKF92aWV3KSB7XG4gICAgICAgIHN1cGVyKF92aWV3KTtcbiAgICAgICAgdGhpcy5fdmlldyA9IF92aWV3O1xuICAgIH1cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW5Sb290Vmlldyh0aGlzLl92aWV3KTtcbiAgICB9XG4gICAgY2hlY2tOb0NoYW5nZXMoKSB7XG4gICAgICAgIGNoZWNrTm9DaGFuZ2VzSW5Sb290Vmlldyh0aGlzLl92aWV3KTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgZXh0ZW5kcyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5nTW9kdWxlIFRoZSBOZ01vZHVsZVJlZiB0byB3aGljaCBhbGwgcmVzb2x2ZWQgZmFjdG9yaWVzIGFyZSBib3VuZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuZ01vZHVsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5nTW9kdWxlID0gbmdNb2R1bGU7XG4gICAgfVxuICAgIHJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Q29tcG9uZW50VHlwZShjb21wb25lbnQpO1xuICAgICAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudERlZiwgdGhpcy5uZ01vZHVsZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9SZWZBcnJheShtYXApIHtcbiAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgIGZvciAobGV0IG5vbk1pbmlmaWVkIGluIG1hcCkge1xuICAgICAgICBpZiAobWFwLmhhc093blByb3BlcnR5KG5vbk1pbmlmaWVkKSkge1xuICAgICAgICAgICAgY29uc3QgbWluaWZpZWQgPSBtYXBbbm9uTWluaWZpZWRdO1xuICAgICAgICAgICAgYXJyYXkucHVzaCh7IHByb3BOYW1lOiBtaW5pZmllZCwgdGVtcGxhdGVOYW1lOiBub25NaW5pZmllZCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBnZXROYW1lc3BhY2UoZWxlbWVudE5hbWUpIHtcbiAgICBjb25zdCBuYW1lID0gZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ3N2ZycgPyBTVkdfTkFNRVNQQUNFIDogKG5hbWUgPT09ICdtYXRoJyA/IE1BVEhfTUxfTkFNRVNQQUNFIDogbnVsbCk7XG59XG5mdW5jdGlvbiBjcmVhdGVDaGFpbmVkSW5qZWN0b3Iocm9vdFZpZXdJbmplY3RvciwgbW9kdWxlSW5qZWN0b3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6ICh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcm9vdFZpZXdJbmplY3Rvci5nZXQodG9rZW4sIE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IsIGZsYWdzKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiB8fFxuICAgICAgICAgICAgICAgIG5vdEZvdW5kVmFsdWUgPT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZyb20gdGhlIHJvb3QgZWxlbWVudCBpbmplY3RvciB3aGVuXG4gICAgICAgICAgICAgICAgLy8gLSBpdCBwcm92aWRlcyBpdFxuICAgICAgICAgICAgICAgIC8vICAgKHZhbHVlICE9PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKVxuICAgICAgICAgICAgICAgIC8vIC0gdGhlIG1vZHVsZSBpbmplY3RvciBzaG91bGQgbm90IGJlIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAvLyAgIChub3RGb3VuZFZhbHVlID09PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbmplY3Rvci5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIFJlbmRlcjMgaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIHZpZXdFbmdpbmVfQ29tcG9uZW50RmFjdG9yeX0uXG4gKi9cbmNsYXNzIENvbXBvbmVudEZhY3RvcnkgZXh0ZW5kcyBDb21wb25lbnRGYWN0b3J5JDEge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb21wb25lbnREZWYgVGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLlxuICAgICAqIEBwYXJhbSBuZ01vZHVsZSBUaGUgTmdNb2R1bGVSZWYgdG8gd2hpY2ggdGhlIGZhY3RvcnkgaXMgYm91bmQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50RGVmLCBuZ01vZHVsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudERlZiA9IGNvbXBvbmVudERlZjtcbiAgICAgICAgdGhpcy5uZ01vZHVsZSA9IG5nTW9kdWxlO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnREZWYudHlwZTtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHN0cmluZ2lmeUNTU1NlbGVjdG9yTGlzdChjb21wb25lbnREZWYuc2VsZWN0b3JzKTtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMgPVxuICAgICAgICAgICAgY29tcG9uZW50RGVmLm5nQ29udGVudFNlbGVjdG9ycyA/IGNvbXBvbmVudERlZi5uZ0NvbnRlbnRTZWxlY3RvcnMgOiBbXTtcbiAgICAgICAgdGhpcy5pc0JvdW5kVG9Nb2R1bGUgPSAhIW5nTW9kdWxlO1xuICAgIH1cbiAgICBnZXQgaW5wdXRzKCkge1xuICAgICAgICByZXR1cm4gdG9SZWZBcnJheSh0aGlzLmNvbXBvbmVudERlZi5pbnB1dHMpO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRvUmVmQXJyYXkodGhpcy5jb21wb25lbnREZWYub3V0cHV0cyk7XG4gICAgfVxuICAgIGNyZWF0ZShpbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSkge1xuICAgICAgICBuZ01vZHVsZSA9IG5nTW9kdWxlIHx8IHRoaXMubmdNb2R1bGU7XG4gICAgICAgIGNvbnN0IHJvb3RWaWV3SW5qZWN0b3IgPSBuZ01vZHVsZSA/IGNyZWF0ZUNoYWluZWRJbmplY3RvcihpbmplY3RvciwgbmdNb2R1bGUuaW5qZWN0b3IpIDogaW5qZWN0b3I7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyRmFjdG9yeSA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KFJlbmRlcmVyRmFjdG9yeTIsIGRvbVJlbmRlcmVyRmFjdG9yeTMpO1xuICAgICAgICBjb25zdCBzYW5pdGl6ZXIgPSByb290Vmlld0luamVjdG9yLmdldChTYW5pdGl6ZXIsIG51bGwpO1xuICAgICAgICBjb25zdCBob3N0UmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgdGhpcy5jb21wb25lbnREZWYpO1xuICAgICAgICAvLyBEZXRlcm1pbmUgYSB0YWcgbmFtZSB1c2VkIGZvciBjcmVhdGluZyBob3N0IGVsZW1lbnRzIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgY3JlYXRlZFxuICAgICAgICAvLyBkeW5hbWljYWxseS4gRGVmYXVsdCB0byAnZGl2JyBpZiB0aGlzIGNvbXBvbmVudCBkaWQgbm90IHNwZWNpZnkgYW55IHRhZyBuYW1lIGluIGl0cyBzZWxlY3Rvci5cbiAgICAgICAgY29uc3QgZWxlbWVudE5hbWUgPSB0aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF0gfHwgJ2Rpdic7XG4gICAgICAgIGNvbnN0IGhvc3RSTm9kZSA9IHJvb3RTZWxlY3Rvck9yTm9kZSA/XG4gICAgICAgICAgICBsb2NhdGVIb3N0RWxlbWVudChob3N0UmVuZGVyZXIsIHJvb3RTZWxlY3Rvck9yTm9kZSwgdGhpcy5jb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbikgOlxuICAgICAgICAgICAgY3JlYXRlRWxlbWVudE5vZGUocmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG51bGwsIHRoaXMuY29tcG9uZW50RGVmKSwgZWxlbWVudE5hbWUsIGdldE5hbWVzcGFjZShlbGVtZW50TmFtZSkpO1xuICAgICAgICBjb25zdCByb290RmxhZ3MgPSB0aGlzLmNvbXBvbmVudERlZi5vblB1c2ggPyA2NCAvKiBEaXJ0eSAqLyB8IDUxMiAvKiBJc1Jvb3QgKi8gOlxuICAgICAgICAgICAgMTYgLyogQ2hlY2tBbHdheXMgKi8gfCA1MTIgLyogSXNSb290ICovO1xuICAgICAgICBjb25zdCByb290Q29udGV4dCA9IGNyZWF0ZVJvb3RDb250ZXh0KCk7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgcm9vdCB2aWV3LiBVc2VzIGVtcHR5IFRWaWV3IGFuZCBDb250ZW50VGVtcGxhdGUuXG4gICAgICAgIGNvbnN0IHJvb3RUVmlldyA9IGNyZWF0ZVRWaWV3KDAgLyogUm9vdCAqLywgbnVsbCwgbnVsbCwgMSwgMCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIGNvbnN0IHJvb3RMVmlldyA9IGNyZWF0ZUxWaWV3KG51bGwsIHJvb3RUVmlldywgcm9vdENvbnRleHQsIHJvb3RGbGFncywgbnVsbCwgbnVsbCwgcmVuZGVyZXJGYWN0b3J5LCBob3N0UmVuZGVyZXIsIHNhbml0aXplciwgcm9vdFZpZXdJbmplY3Rvcik7XG4gICAgICAgIC8vIHJvb3RWaWV3IGlzIHRoZSBwYXJlbnQgd2hlbiBib290c3RyYXBwaW5nXG4gICAgICAgIC8vIFRPRE8obWlza28pOiBpdCBsb29rcyBsaWtlIHdlIGFyZSBlbnRlcmluZyB2aWV3IGhlcmUgYnV0IHdlIGRvbid0IHJlYWxseSBuZWVkIHRvIGFzXG4gICAgICAgIC8vIGByZW5kZXJWaWV3YCBkb2VzIHRoYXQuIEhvd2V2ZXIgYXMgdGhlIGNvZGUgaXMgd3JpdHRlbiBpdCBpcyBuZWVkZWQgYmVjYXVzZVxuICAgICAgICAvLyBgY3JlYXRlUm9vdENvbXBvbmVudFZpZXdgIGFuZCBgY3JlYXRlUm9vdENvbXBvbmVudGAgYm90aCByZWFkIGdsb2JhbCBzdGF0ZS4gRml4aW5nIHRob3NlXG4gICAgICAgIC8vIGlzc3VlcyB3b3VsZCBhbGxvdyB1cyB0byBkcm9wIHRoaXMuXG4gICAgICAgIGVudGVyVmlldyhyb290TFZpZXcpO1xuICAgICAgICBsZXQgY29tcG9uZW50O1xuICAgICAgICBsZXQgdEVsZW1lbnROb2RlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3KGhvc3RSTm9kZSwgdGhpcy5jb21wb25lbnREZWYsIHJvb3RMVmlldywgcmVuZGVyZXJGYWN0b3J5LCBob3N0UmVuZGVyZXIpO1xuICAgICAgICAgICAgaWYgKGhvc3RSTm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChyb290U2VsZWN0b3JPck5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKGhvc3RSZW5kZXJlciwgaG9zdFJOb2RlLCBbJ25nLXZlcnNpb24nLCBWRVJTSU9OLmZ1bGxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGhvc3QgZWxlbWVudCBpcyBjcmVhdGVkIGFzIGEgcGFydCBvZiB0aGlzIGZ1bmN0aW9uIGNhbGwgKGkuZS4gYHJvb3RTZWxlY3Rvck9yTm9kZWBcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgbm90IGRlZmluZWQpLCBhbHNvIGFwcGx5IGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMgZXh0cmFjdGVkIGZyb20gY29tcG9uZW50IHNlbGVjdG9yLlxuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMgZnJvbSB0aGUgZmlyc3Qgc2VsZWN0b3Igb25seSB0byBtYXRjaCBWRSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhdHRycywgY2xhc3NlcyB9ID0gZXh0cmFjdEF0dHJzQW5kQ2xhc3Nlc0Zyb21TZWxlY3Rvcih0aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFVwQXR0cmlidXRlcyhob3N0UmVuZGVyZXIsIGhvc3RSTm9kZSwgYXR0cnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzICYmIGNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVEaXJlY3RDbGFzcyhob3N0UmVuZGVyZXIsIGhvc3RSTm9kZSwgY2xhc3Nlcy5qb2luKCcgJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdEVsZW1lbnROb2RlID0gZ2V0VE5vZGUocm9vdFRWaWV3LCBIRUFERVJfT0ZGU0VUKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0YWJsZU5vZGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdEVsZW1lbnROb2RlLnByb2plY3Rpb24gPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmdDb250ZW50U2VsZWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzZm9yU2xvdCA9IHByb2plY3RhYmxlTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2plY3RhYmxlIG5vZGVzIGNhbiBiZSBwYXNzZWQgYXMgYXJyYXkgb2YgYXJyYXlzIG9yIGFuIGFycmF5IG9mIGl0ZXJhYmxlcyAobmdVcGdyYWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2UpLiBIZXJlIHdlIGRvIG5vcm1hbGl6ZSBwYXNzZWQgZGF0YSBzdHJ1Y3R1cmUgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXggY2hlY2tzIGRvd24gdGhlIGxpbmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFsc28gbm9ybWFsaXplIHRoZSBsZW5ndGggb2YgdGhlIHBhc3NlZCBpbiBwcm9qZWN0YWJsZSBub2RlcyAodG8gbWF0Y2ggdGhlIG51bWJlciBvZlxuICAgICAgICAgICAgICAgICAgICAvLyA8bmctY29udGFpbmVyPiBzbG90cyBkZWZpbmVkIGJ5IGEgY29tcG9uZW50KS5cbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbi5wdXNoKG5vZGVzZm9yU2xvdCAhPSBudWxsID8gQXJyYXkuZnJvbShub2Rlc2ZvclNsb3QpIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIExpZmVjeWNsZUhvb2tzRmVhdHVyZSBhbmQgb3RoZXIgaG9zdCBmZWF0dXJlcyBiZSBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZFxuICAgICAgICAgICAgLy8gZXhlY3V0ZWQgaGVyZT9cbiAgICAgICAgICAgIC8vIEFuZ3VsYXIgNSByZWZlcmVuY2U6IGh0dHBzOi8vc3RhY2tibGl0ei5jb20vZWRpdC9saWZlY3ljbGUtaG9va3MtdmNyZWZcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IGNyZWF0ZVJvb3RDb21wb25lbnQoY29tcG9uZW50VmlldywgdGhpcy5jb21wb25lbnREZWYsIHJvb3RMVmlldywgcm9vdENvbnRleHQsIFtMaWZlY3ljbGVIb29rc0ZlYXR1cmVdKTtcbiAgICAgICAgICAgIHJlbmRlclZpZXcocm9vdFRWaWV3LCByb290TFZpZXcsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgbGVhdmVWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRSZWYodGhpcy5jb21wb25lbnRUeXBlLCBjb21wb25lbnQsIGNyZWF0ZUVsZW1lbnRSZWYodEVsZW1lbnROb2RlLCByb290TFZpZXcpLCByb290TFZpZXcsIHRFbGVtZW50Tm9kZSk7XG4gICAgfVxufVxuY29uc3QgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gbmV3IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpO1xuLyoqXG4gKiBDcmVhdGVzIGEgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yLiBPciwgaWYgdGhlXG4gKiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJcbiAqIGFscmVhZHkgZXhpc3RzLCByZXRyaWV2ZXMgdGhlIGV4aXN0aW5nIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbn1cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnN0YW5jZSBvZiBhIENvbXBvbmVudCBjcmVhdGVkIHZpYSBhIHtAbGluayBDb21wb25lbnRGYWN0b3J5fS5cbiAqXG4gKiBgQ29tcG9uZW50UmVmYCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIENvbXBvbmVudCBJbnN0YW5jZSBhcyB3ZWxsIG90aGVyIG9iamVjdHMgcmVsYXRlZCB0byB0aGlzXG4gKiBDb21wb25lbnQgSW5zdGFuY2UgYW5kIGFsbG93cyB5b3UgdG8gZGVzdHJveSB0aGUgQ29tcG9uZW50IEluc3RhbmNlIHZpYSB0aGUge0BsaW5rICNkZXN0cm95fVxuICogbWV0aG9kLlxuICpcbiAqL1xuY2xhc3MgQ29tcG9uZW50UmVmIGV4dGVuZHMgQ29tcG9uZW50UmVmJDEge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudFR5cGUsIGluc3RhbmNlLCBsb2NhdGlvbiwgX3Jvb3RMVmlldywgX3ROb2RlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5fcm9vdExWaWV3ID0gX3Jvb3RMVmlldztcbiAgICAgICAgdGhpcy5fdE5vZGUgPSBfdE5vZGU7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgdGhpcy5ob3N0VmlldyA9IHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYgPSBuZXcgUm9vdFZpZXdSZWYoX3Jvb3RMVmlldyk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgfVxuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IodGhpcy5fdE5vZGUsIHRoaXMuX3Jvb3RMVmlldyk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcuZGVzdHJveSgpO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5ob3N0Vmlldy5vbkRlc3Ryb3koY2FsbGJhY2spO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkZHMgZGVjb3JhdG9yLCBjb25zdHJ1Y3RvciwgYW5kIHByb3BlcnR5IG1ldGFkYXRhIHRvIGEgZ2l2ZW4gdHlwZSB2aWEgc3RhdGljIG1ldGFkYXRhIGZpZWxkc1xuICogb24gdGhlIHR5cGUuXG4gKlxuICogVGhlc2UgbWV0YWRhdGEgZmllbGRzIGNhbiBsYXRlciBiZSByZWFkIHdpdGggQW5ndWxhcidzIGBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzYCBBUEkuXG4gKlxuICogQ2FsbHMgdG8gYHNldENsYXNzTWV0YWRhdGFgIGNhbiBiZSBndWFyZGVkIGJ5IG5nRGV2TW9kZSwgcmVzdWx0aW5nIGluIHRoZSBtZXRhZGF0YSBhc3NpZ25tZW50c1xuICogYmVpbmcgdHJlZS1zaGFrZW4gYXdheSBkdXJpbmcgcHJvZHVjdGlvbiBidWlsZHMuXG4gKi9cbmZ1bmN0aW9uIHNldENsYXNzTWV0YWRhdGEodHlwZSwgZGVjb3JhdG9ycywgY3RvclBhcmFtZXRlcnMsIHByb3BEZWNvcmF0b3JzKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGF6eiA9IHR5cGU7XG4gICAgICAgIGlmIChkZWNvcmF0b3JzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY2xhenouaGFzT3duUHJvcGVydHkoJ2RlY29yYXRvcnMnKSAmJiBjbGF6ei5kZWNvcmF0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5kZWNvcmF0b3JzLnB1c2goLi4uZGVjb3JhdG9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3RvclBhcmFtZXRlcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFJhdGhlciB0aGFuIG1lcmdpbmcsIGNsb2JiZXIgdGhlIGV4aXN0aW5nIHBhcmFtZXRlcnMuIElmIG90aGVyIHByb2plY3RzIGV4aXN0IHdoaWNoXG4gICAgICAgICAgICAvLyB1c2UgdHNpY2tsZS1zdHlsZSBhbm5vdGF0aW9ucyBhbmQgcmVmbGVjdCBvdmVyIHRoZW0gaW4gdGhlIHNhbWUgd2F5LCB0aGlzIGNvdWxkXG4gICAgICAgICAgICAvLyBjYXVzZSBpc3N1ZXMsIGJ1dCB0aGF0IGlzIHZhbmlzaGluZ2x5IHVubGlrZWx5LlxuICAgICAgICAgICAgY2xhenouY3RvclBhcmFtZXRlcnMgPSBjdG9yUGFyYW1ldGVycztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcERlY29yYXRvcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRoZSBwcm9wZXJ0eSBkZWNvcmF0b3Igb2JqZWN0cyBhcmUgbWVyZ2VkIGFzIGl0IGlzIHBvc3NpYmxlIGRpZmZlcmVudCBmaWVsZHMgaGF2ZVxuICAgICAgICAgICAgLy8gZGlmZmVyZW50IGRlY29yYXRvciB0eXBlcy4gRGVjb3JhdG9ycyBvbiBpbmRpdmlkdWFsIGZpZWxkcyBhcmUgbm90IG1lcmdlZCwgYXMgaXQnc1xuICAgICAgICAgICAgLy8gYWxzbyBpbmNyZWRpYmx5IHVubGlrZWx5IHRoYXQgYSBmaWVsZCB3aWxsIGJlIGRlY29yYXRlZCBib3RoIHdpdGggYW4gQW5ndWxhclxuICAgICAgICAgICAgLy8gZGVjb3JhdG9yIGFuZCBhIG5vbi1Bbmd1bGFyIGRlY29yYXRvciB0aGF0J3MgYWxzbyBiZWVuIGRvd25sZXZlbGVkLlxuICAgICAgICAgICAgaWYgKGNsYXp6Lmhhc093blByb3BlcnR5KCdwcm9wRGVjb3JhdG9ycycpICYmIGNsYXp6LnByb3BEZWNvcmF0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5wcm9wRGVjb3JhdG9ycyA9IHsgLi4uY2xhenoucHJvcERlY29yYXRvcnMsIC4uLnByb3BEZWNvcmF0b3JzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5wcm9wRGVjb3JhdG9ycyA9IHByb3BEZWNvcmF0b3JzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGluc3RhbmNlIG9mIGFuIGBOZ01vZHVsZWAgY3JlYXRlZCBieSBhbiBgTmdNb2R1bGVGYWN0b3J5YC5cbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgYE5nTW9kdWxlYCBpbnN0YW5jZSBhbmQgcmVsYXRlZCBvYmplY3RzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgTmdNb2R1bGVSZWYkMSB7XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogVGhpcyBjbGFzcyB3YXMgbW9zdGx5IHVzZWQgYXMgYSBwYXJ0IG9mIFZpZXdFbmdpbmUtYmFzZWQgSklUIEFQSSBhbmQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBJdnlcbiAqIEpJVCBtb2RlLiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcylcbiAqIGZvciBhZGRpdGlvbmFsIGNvbnRleHQuIEFuZ3VsYXIgcHJvdmlkZXMgQVBJcyB0aGF0IGFjY2VwdCBOZ01vZHVsZSBjbGFzc2VzIGRpcmVjdGx5IChzdWNoIGFzXG4gKiBbUGxhdGZvcm1SZWYuYm9vdHN0cmFwTW9kdWxlXShhcGkvY29yZS9QbGF0Zm9ybVJlZiNib290c3RyYXBNb2R1bGUpIGFuZFxuICogW2NyZWF0ZU5nTW9kdWxlUmVmXShhcGkvY29yZS9jcmVhdGVOZ01vZHVsZVJlZikpLCBjb25zaWRlciBzd2l0Y2hpbmcgdG8gdGhvc2UgQVBJcyBpbnN0ZWFkIG9mXG4gKiB1c2luZyBmYWN0b3J5LWJhc2VkIG9uZXMuXG4gKi9cbmNsYXNzIE5nTW9kdWxlRmFjdG9yeSQxIHtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcCBvZiBtb2R1bGUtaWQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgTmdNb2R1bGUuXG4gKiAtIEluIHByZSBJdnkgd2UgdHJhY2sgTmdNb2R1bGVGYWN0b3J5LFxuICogLSBJbiBwb3N0IEl2eSB3ZSB0cmFjayB0aGUgTmdNb2R1bGVUeXBlXG4gKi9cbmNvbnN0IG1vZHVsZXMgPSBuZXcgTWFwKCk7XG4vKipcbiAqIFJlZ2lzdGVycyBhIGxvYWRlZCBtb2R1bGUuIFNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tIGdlbmVyYXRlZCBOZ01vZHVsZUZhY3RvcnkgY29kZS5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGVGYWN0b3J5KGlkLCBmYWN0b3J5KSB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBtb2R1bGVzLmdldChpZCk7XG4gICAgYXNzZXJ0U2FtZU9yTm90RXhpc3RpbmcoaWQsIGV4aXN0aW5nICYmIGV4aXN0aW5nLm1vZHVsZVR5cGUsIGZhY3RvcnkubW9kdWxlVHlwZSk7XG4gICAgbW9kdWxlcy5zZXQoaWQsIGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gYXNzZXJ0U2FtZU9yTm90RXhpc3RpbmcoaWQsIHR5cGUsIGluY29taW5nKSB7XG4gICAgaWYgKHR5cGUgJiYgdHlwZSAhPT0gaW5jb21pbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbW9kdWxlIHJlZ2lzdGVyZWQgZm9yICR7aWR9IC0gJHtzdHJpbmdpZnkodHlwZSl9IHZzICR7c3RyaW5naWZ5KHR5cGUubmFtZSl9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVnaXN0ZXJOZ01vZHVsZVR5cGUobmdNb2R1bGVUeXBlKSB7XG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgICByZWN1cnNlKG5nTW9kdWxlVHlwZSk7XG4gICAgZnVuY3Rpb24gcmVjdXJzZShuZ01vZHVsZVR5cGUpIHtcbiAgICAgICAgLy8gVGhlIGltcG9ydHMgYXJyYXkgb2YgYW4gTmdNb2R1bGUgbXVzdCByZWZlciB0byBvdGhlciBOZ01vZHVsZXMsXG4gICAgICAgIC8vIHNvIGFuIGVycm9yIGlzIHRocm93biBpZiBubyBtb2R1bGUgZGVmaW5pdGlvbiBpcyBhdmFpbGFibGUuXG4gICAgICAgIGNvbnN0IGRlZiA9IGdldE5nTW9kdWxlRGVmKG5nTW9kdWxlVHlwZSwgLyogdGhyb3dOb3RGb3VuZCAqLyB0cnVlKTtcbiAgICAgICAgY29uc3QgaWQgPSBkZWYuaWQ7XG4gICAgICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBtb2R1bGVzLmdldChpZCk7XG4gICAgICAgICAgICBhc3NlcnRTYW1lT3JOb3RFeGlzdGluZyhpZCwgZXhpc3RpbmcsIG5nTW9kdWxlVHlwZSk7XG4gICAgICAgICAgICBtb2R1bGVzLnNldChpZCwgbmdNb2R1bGVUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbXBvcnRzID0gbWF5YmVVbndyYXBGbihkZWYuaW1wb3J0cyk7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBpbXBvcnRzKSB7XG4gICAgICAgICAgICBpZiAoIXZpc2l0ZWQuaGFzKGkpKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRlZC5hZGQoaSk7XG4gICAgICAgICAgICAgICAgcmVjdXJzZShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNsZWFyTW9kdWxlc0ZvclRlc3QoKSB7XG4gICAgbW9kdWxlcy5jbGVhcigpO1xufVxuZnVuY3Rpb24gZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZShpZCkge1xuICAgIHJldHVybiAobW9kdWxlcy5nZXQoaWQpIHx8IGF1dG9SZWdpc3Rlck1vZHVsZUJ5SWRbaWRdKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgYSBuZXcgTmdNb2R1bGVSZWYgaW5zdGFuY2UgYmFzZWQgb24gdGhlIE5nTW9kdWxlIGNsYXNzIGFuZCBwYXJlbnQgaW5qZWN0b3IgcHJvdmlkZWQuXG4gKiBAcGFyYW0gbmdNb2R1bGUgTmdNb2R1bGUgY2xhc3MuXG4gKiBAcGFyYW0gcGFyZW50SW5qZWN0b3IgT3B0aW9uYWwgaW5qZWN0b3IgaW5zdGFuY2UgdG8gdXNlIGFzIGEgcGFyZW50IGZvciB0aGUgbW9kdWxlIGluamVjdG9yLiBJZlxuICogICAgIG5vdCBwcm92aWRlZCwgYE51bGxJbmplY3RvcmAgd2lsbCBiZSB1c2VkIGluc3RlYWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5nTW9kdWxlUmVmKG5nTW9kdWxlLCBwYXJlbnRJbmplY3Rvcikge1xuICAgIHJldHVybiBuZXcgTmdNb2R1bGVSZWYobmdNb2R1bGUsIHBhcmVudEluamVjdG9yID8/IG51bGwpO1xufVxuY2xhc3MgTmdNb2R1bGVSZWYgZXh0ZW5kcyBOZ01vZHVsZVJlZiQxIHtcbiAgICBjb25zdHJ1Y3RvcihuZ01vZHVsZVR5cGUsIF9wYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnJlcXVpcmUtaW50ZXJuYWwtd2l0aC11bmRlcnNjb3JlXG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5pbmplY3RvciA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicyA9IFtdO1xuICAgICAgICAvLyBXaGVuIGJvb3RzdHJhcHBpbmcgYSBtb2R1bGUgd2UgaGF2ZSBhIGRlcGVuZGVuY3kgZ3JhcGggdGhhdCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICAgIC8vIEFwcGxpY2F0aW9uUmVmIC0+IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciAtPiBOZ01vZHVsZVJlZi4gVGhlIHByb2JsZW0gaXMgdGhhdCBpZiB0aGVcbiAgICAgICAgLy8gbW9kdWxlIGJlaW5nIHJlc29sdmVkIHRyaWVzIHRvIGluamVjdCB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBpdCdsbCBjcmVhdGUgYVxuICAgICAgICAvLyBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgcnVudGltZSBlcnJvciwgYmVjYXVzZSB0aGUgaW5qZWN0b3IgZG9lc24ndFxuICAgICAgICAvLyBleGlzdCB5ZXQuIFdlIHdvcmsgYXJvdW5kIHRoZSBpc3N1ZSBieSBjcmVhdGluZyB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIG91cnNlbHZlc1xuICAgICAgICAvLyBhbmQgcHJvdmlkaW5nIGl0LCByYXRoZXIgdGhhbiBsZXR0aW5nIHRoZSBpbmplY3RvciByZXNvbHZlIGl0LlxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IG5ldyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIodGhpcyk7XG4gICAgICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobmdNb2R1bGVUeXBlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnREZWZpbmVkKG5nTW9kdWxlRGVmLCBgTmdNb2R1bGUgJyR7c3RyaW5naWZ5KG5nTW9kdWxlVHlwZSl9JyBpcyBub3QgYSBzdWJ0eXBlIG9mICdOZ01vZHVsZVR5cGUnLmApO1xuICAgICAgICB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5ib290c3RyYXApO1xuICAgICAgICB0aGlzLl9yM0luamVjdG9yID0gY3JlYXRlSW5qZWN0b3JXaXRob3V0SW5qZWN0b3JJbnN0YW5jZXMobmdNb2R1bGVUeXBlLCBfcGFyZW50LCBbXG4gICAgICAgICAgICB7IHByb3ZpZGU6IE5nTW9kdWxlUmVmJDEsIHVzZVZhbHVlOiB0aGlzIH0sIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSxcbiAgICAgICAgICAgICAgICB1c2VWYWx1ZTogdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSwgc3RyaW5naWZ5KG5nTW9kdWxlVHlwZSkpO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIHJlc29sdmUgdGhlIGluamVjdG9yIHR5cGVzIHNlcGFyYXRlbHkgZnJvbSB0aGUgaW5qZWN0b3IgY3JlYXRpb24sIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIG1vZHVsZSBtaWdodCBiZSB0cnlpbmcgdG8gdXNlIHRoaXMgcmVmIGluIGl0cyBjb25zdHJ1Y3RvciBmb3IgREkgd2hpY2ggd2lsbCBjYXVzZSBhXG4gICAgICAgIC8vIGNpcmN1bGFyIGVycm9yIHRoYXQgd2lsbCBldmVudHVhbGx5IGVycm9yIG91dCwgYmVjYXVzZSB0aGUgaW5qZWN0b3IgaXNuJ3QgY3JlYXRlZCB5ZXQuXG4gICAgICAgIHRoaXMuX3IzSW5qZWN0b3IuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCk7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSB0aGlzLmdldChuZ01vZHVsZVR5cGUpO1xuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUgPSBJbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQsIGluamVjdEZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgICAgICBpZiAodG9rZW4gPT09IEluamVjdG9yIHx8IHRva2VuID09PSBOZ01vZHVsZVJlZiQxIHx8IHRva2VuID09PSBJTkpFQ1RPUikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3IzSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBpbmplY3RGbGFncyk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRoaXMuZGVzdHJveUNicywgJ05nTW9kdWxlIGFscmVhZHkgZGVzdHJveWVkJyk7XG4gICAgICAgIGNvbnN0IGluamVjdG9yID0gdGhpcy5fcjNJbmplY3RvcjtcbiAgICAgICAgIWluamVjdG9yLmRlc3Ryb3llZCAmJiBpbmplY3Rvci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicy5mb3JFYWNoKGZuID0+IGZuKCkpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMgPSBudWxsO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodGhpcy5kZXN0cm95Q2JzLCAnTmdNb2R1bGUgYWxyZWFkeSBkZXN0cm95ZWQnKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Q2JzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbn1cbmNsYXNzIE5nTW9kdWxlRmFjdG9yeSBleHRlbmRzIE5nTW9kdWxlRmFjdG9yeSQxIHtcbiAgICBjb25zdHJ1Y3Rvcihtb2R1bGVUeXBlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubW9kdWxlVHlwZSA9IG1vZHVsZVR5cGU7XG4gICAgICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSk7XG4gICAgICAgIGlmIChuZ01vZHVsZURlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIE5nTW9kdWxlIHdpdGggQW5ndWxhcidzIG1vZHVsZSByZWdpc3RyeS4gVGhlIGxvY2F0aW9uIChhbmQgaGVuY2UgdGltaW5nKSBvZlxuICAgICAgICAgICAgLy8gdGhpcyBjYWxsIGlzIGNyaXRpY2FsIHRvIGVuc3VyZSB0aGlzIHdvcmtzIGNvcnJlY3RseSAobW9kdWxlcyBnZXQgcmVnaXN0ZXJlZCB3aGVuIGV4cGVjdGVkKVxuICAgICAgICAgICAgLy8gd2l0aG91dCBibG9hdGluZyBidW5kbGVzIChtb2R1bGVzIGFyZSByZWdpc3RlcmVkIHdoZW4gb3RoZXJ3aXNlIG5vdCByZWZlcmVuY2VkKS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJbiBWaWV3IEVuZ2luZSwgcmVnaXN0cmF0aW9uIG9jY3VycyBpbiB0aGUgLm5nZmFjdG9yeS5qcyBmaWxlIGFzIGEgc2lkZSBlZmZlY3QuIFRoaXMgaGFzXG4gICAgICAgICAgICAvLyBzZXZlcmFsIHByYWN0aWNhbCBjb25zZXF1ZW5jZXM6XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gLSBJZiBhbiAubmdmYWN0b3J5IGZpbGUgaXMgbm90IGltcG9ydGVkIGZyb20sIHRoZSBtb2R1bGUgd29uJ3QgYmUgcmVnaXN0ZXJlZCAoYW5kIGNhbiBiZVxuICAgICAgICAgICAgLy8gICB0cmVlIHNoYWtlbikuXG4gICAgICAgICAgICAvLyAtIElmIGFuIC5uZ2ZhY3RvcnkgZmlsZSBpcyBpbXBvcnRlZCBmcm9tLCB0aGUgbW9kdWxlIHdpbGwgYmUgcmVnaXN0ZXJlZCBldmVuIGlmIGFuIGluc3RhbmNlXG4gICAgICAgICAgICAvLyAgIGlzIG5vdCBhY3R1YWxseSBjcmVhdGVkICh2aWEgYGNyZWF0ZWAgYmVsb3cpLlxuICAgICAgICAgICAgLy8gLSBTaW5jZSBhbiAubmdmYWN0b3J5IGZpbGUgaW4gVmlldyBFbmdpbmUgcmVmZXJlbmNlcyB0aGUgLm5nZmFjdG9yeSBmaWxlcyBvZiB0aGUgTmdNb2R1bGUnc1xuICAgICAgICAgICAgLy8gICBpbXBvcnRzLFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEluIEl2eSwgdGhpbmdzIGFyZSBhIGJpdCBkaWZmZXJlbnQuIC5uZ2ZhY3RvcnkgZmlsZXMgc3RpbGwgZXhpc3QgZm9yIGNvbXBhdGliaWxpdHksIGJ1dCBhcmVcbiAgICAgICAgICAgIC8vIG5vdCBhIHJlcXVpcmVkIEFQSSB0byB1c2UgLSB0aGVyZSBhcmUgb3RoZXIgd2F5cyB0byBvYnRhaW4gYW4gTmdNb2R1bGVGYWN0b3J5IGZvciBhIGdpdmVuXG4gICAgICAgICAgICAvLyBOZ01vZHVsZS4gVGh1cywgcmVseWluZyBvbiBhIHNpZGUgZWZmZWN0IGluIHRoZSAubmdmYWN0b3J5IGZpbGUgaXMgbm90IHN1ZmZpY2llbnQuIEluc3RlYWQsXG4gICAgICAgICAgICAvLyB0aGUgc2lkZSBlZmZlY3Qgb2YgcmVnaXN0cmF0aW9uIGlzIGFkZGVkIGhlcmUsIGluIHRoZSBjb25zdHJ1Y3RvciBvZiBOZ01vZHVsZUZhY3RvcnksXG4gICAgICAgICAgICAvLyBlbnN1cmluZyBubyBtYXR0ZXIgaG93IGEgZmFjdG9yeSBpcyBjcmVhdGVkLCB0aGUgbW9kdWxlIGlzIHJlZ2lzdGVyZWQgY29ycmVjdGx5LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEFuIGFsdGVybmF0aXZlIHdvdWxkIGJlIHRvIGluY2x1ZGUgdGhlIHJlZ2lzdHJhdGlvbiBzaWRlIGVmZmVjdCBpbmxpbmUgZm9sbG93aW5nIHRoZSBhY3R1YWxcbiAgICAgICAgICAgIC8vIE5nTW9kdWxlIGRlZmluaXRpb24uIFRoaXMgYWxzbyBoYXMgdGhlIGNvcnJlY3QgdGltaW5nLCBidXQgYnJlYWtzIHRyZWUtc2hha2luZyAtIG1vZHVsZXNcbiAgICAgICAgICAgIC8vIHdpbGwgYmUgcmVnaXN0ZXJlZCBhbmQgcmV0YWluZWQgZXZlbiBpZiB0aGV5J3JlIG90aGVyd2lzZSBuZXZlciByZWZlcmVuY2VkLlxuICAgICAgICAgICAgcmVnaXN0ZXJOZ01vZHVsZVR5cGUobW9kdWxlVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlKHBhcmVudEluamVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgTmdNb2R1bGVSZWYodGhpcy5tb2R1bGVUeXBlLCBwYXJlbnRJbmplY3Rvcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQmluZGluZ3MgZm9yIHB1cmUgZnVuY3Rpb25zIGFyZSBzdG9yZWQgYWZ0ZXIgcmVndWxhciBiaW5kaW5ncy5cbiAqXG4gKiB8LS0tLS0tLWRlY2xzLS0tLS0tfC0tLS0tLS0tLXZhcnMtLS0tLS0tLS18ICAgICAgICAgICAgICAgICB8LS0tLS0gaG9zdFZhcnMgKGRpcjEpIC0tLS0tLXxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogfCBub2Rlcy9yZWZzL3BpcGVzIHwgYmluZGluZ3MgfCBmbiBzbG90cyAgfCBpbmplY3RvciB8IGRpcjEgfCBob3N0IGJpbmRpbmdzIHwgaG9zdCBzbG90cyB8XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICAgICAgICAgICAgICAgICAgICBeICAgICAgICAgICAgICAgICAgICAgIF5cbiAqICAgICAgVFZpZXcuYmluZGluZ1N0YXJ0SW5kZXggICAgICBUVmlldy5leHBhbmRvU3RhcnRJbmRleFxuICpcbiAqIFB1cmUgZnVuY3Rpb24gaW5zdHJ1Y3Rpb25zIGFyZSBnaXZlbiBhbiBvZmZzZXQgZnJvbSB0aGUgYmluZGluZyByb290LiBBZGRpbmcgdGhlIG9mZnNldCB0byB0aGVcbiAqIGJpbmRpbmcgcm9vdCBnaXZlcyB0aGUgZmlyc3QgaW5kZXggd2hlcmUgdGhlIGJpbmRpbmdzIGFyZSBzdG9yZWQuIEluIGNvbXBvbmVudCB2aWV3cywgdGhlIGJpbmRpbmdcbiAqIHJvb3QgaXMgdGhlIGJpbmRpbmdTdGFydEluZGV4LiBJbiBob3N0IGJpbmRpbmdzLCB0aGUgYmluZGluZyByb290IGlzIHRoZSBleHBhbmRvU3RhcnRJbmRleCArXG4gKiBhbnkgZGlyZWN0aXZlIGluc3RhbmNlcyArIGFueSBob3N0VmFycyBpbiBkaXJlY3RpdmVzIGV2YWx1YXRlZCBiZWZvcmUgaXQuXG4gKlxuICogU2VlIFZJRVdfREFUQS5tZCBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3N0IGJpbmRpbmcgcmVzb2x1dGlvbi5cbiAqL1xuLyoqXG4gKiBJZiB0aGUgdmFsdWUgaGFzbid0IGJlZW4gc2F2ZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHN0b3JlIGFuZCByZXR1cm4gdGhlXG4gKiB2YWx1ZS4gSWYgaXQgaGFzIGJlZW4gc2F2ZWQsIHJldHVybnMgdGhlIHNhdmVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjAoc2xvdE9mZnNldCwgcHVyZUZuLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHJldHVybiBsVmlld1tiaW5kaW5nSW5kZXhdID09PSBOT19DSEFOR0UgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnKSA6IHB1cmVGbigpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIHVwZGF0ZWQgdmFsdWVcbiAqIEBwYXJhbSBleHAgVXBkYXRlZCBleHByZXNzaW9uIHZhbHVlXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24xKHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cCwgdGhpc0FyZyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uMihzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gcHVyZUZ1bmN0aW9uMkludGVybmFsKGdldExWaWV3KCksIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgdGhpc0FyZyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjMoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjNJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uNChzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gcHVyZUZ1bmN0aW9uNEludGVybmFsKGdldExWaWV3KCksIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgdGhpc0FyZyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gZXhwNVxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uNShzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4ICsgNCwgZXhwNSkgfHwgZGlmZmVyZW50ID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNSwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUpIDpcbiAgICAgICAgICAgIHB1cmVGbihleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1KSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA1KTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSBleHA1XG4gKiBAcGFyYW0gZXhwNlxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uNihzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUsIGV4cDYpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDYsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2KSA6XG4gICAgICAgICAgICBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNikpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNik7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gZXhwNVxuICogQHBhcmFtIGV4cDZcbiAqIEBwYXJhbSBleHA3XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb243KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUsIGV4cDYsIGV4cDcpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDcsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3KSA6XG4gICAgICAgICAgICBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNykpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gZXhwNVxuICogQHBhcmFtIGV4cDZcbiAqIEBwYXJhbSBleHA3XG4gKiBAcGFyYW0gZXhwOFxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uOChzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDgsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4KSA6XG4gICAgICAgICAgICBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCkpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgOCk7XG59XG4vKipcbiAqIHB1cmVGdW5jdGlvbiBpbnN0cnVjdGlvbiB0aGF0IGNhbiBzdXBwb3J0IGFueSBudW1iZXIgb2YgYmluZGluZ3MuXG4gKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBBIHB1cmUgZnVuY3Rpb24gdGhhdCB0YWtlcyBiaW5kaW5nIHZhbHVlcyBhbmQgYnVpbGRzIGFuIG9iamVjdCBvciBhcnJheVxuICogY29udGFpbmluZyB0aG9zZSB2YWx1ZXMuXG4gKiBAcGFyYW0gZXhwcyBBbiBhcnJheSBvZiBiaW5kaW5nIHZhbHVlc1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uVihzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cHMsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gcHVyZUZ1bmN0aW9uVkludGVybmFsKGdldExWaWV3KCksIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwcywgdGhpc0FyZyk7XG59XG4vKipcbiAqIFJlc3VsdHMgb2YgYSBwdXJlIGZ1bmN0aW9uIGludm9jYXRpb24gYXJlIHN0b3JlZCBpbiBMVmlldyBpbiBhIGRlZGljYXRlZCBzbG90IHRoYXQgaXMgaW5pdGlhbGl6ZWRcbiAqIHRvIE5PX0NIQU5HRS4gSW4gcmFyZSBzaXR1YXRpb25zIGEgcHVyZSBwaXBlIG1pZ2h0IHRocm93IGFuIGV4Y2VwdGlvbiBvbiB0aGUgdmVyeSBmaXJzdFxuICogaW52b2NhdGlvbiBhbmQgbm90IHByb2R1Y2UgYW55IHZhbGlkIHJlc3VsdHMuIEluIHRoaXMgY2FzZSBMVmlldyB3b3VsZCBrZWVwIGhvbGRpbmcgdGhlIE5PX0NIQU5HRVxuICogdmFsdWUuIFRoZSBOT19DSEFOR0UgaXMgbm90IHNvbWV0aGluZyB0aGF0IHdlIGNhbiB1c2UgaW4gZXhwcmVzc2lvbnMgLyBiaW5kaW5ncyB0aHVzIHdlIGNvbnZlcnRcbiAqIGl0IHRvIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgcmV0dXJuVmFsdWVJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHJldHVyblZhbHVlSW5kZXgpO1xuICAgIGNvbnN0IGxhc3RSZXR1cm5WYWx1ZSA9IGxWaWV3W3JldHVyblZhbHVlSW5kZXhdO1xuICAgIHJldHVybiBsYXN0UmV0dXJuVmFsdWUgPT09IE5PX0NIQU5HRSA/IHVuZGVmaW5lZCA6IGxhc3RSZXR1cm5WYWx1ZTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgdGhlIHZhbHVlIGhhcyBub3QgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxWaWV3IExWaWV3IGluIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZC5cbiAqIEBwYXJhbSBiaW5kaW5nUm9vdCBCaW5kaW5nIHJvb3QgaW5kZXguXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiB1cGRhdGVkIHZhbHVlXG4gKiBAcGFyYW0gZXhwIFVwZGF0ZWQgZXhwcmVzc2lvbiB2YWx1ZVxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uMUludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cCkgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAxLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwKSA6IHB1cmVGbihleHApKSA6XG4gICAgICAgIGdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAxKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxWaWV3IExWaWV3IGluIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZC5cbiAqIEBwYXJhbSBiaW5kaW5nUm9vdCBCaW5kaW5nIHJvb3QgaW5kZXguXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjJJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMiwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIpIDogcHVyZUZuKGV4cDEsIGV4cDIpKSA6XG4gICAgICAgIGdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxWaWV3IExWaWV3IGluIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZC5cbiAqIEBwYXJhbSBiaW5kaW5nUm9vdCBCaW5kaW5nIHJvb3QgaW5kZXguXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb24zSW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzKSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDMsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzKSA6IHB1cmVGbihleHAxLCBleHAyLCBleHAzKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb240SW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0KSA6IHB1cmVGbihleHAxLCBleHAyLCBleHAzLCBleHA0KSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgNCk7XG59XG4vKipcbiAqIHB1cmVGdW5jdGlvbiBpbnN0cnVjdGlvbiB0aGF0IGNhbiBzdXBwb3J0IGFueSBudW1iZXIgb2YgYmluZGluZ3MuXG4gKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxWaWV3IExWaWV3IGluIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZC5cbiAqIEBwYXJhbSBiaW5kaW5nUm9vdCBCaW5kaW5nIHJvb3QgaW5kZXguXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEEgcHVyZSBmdW5jdGlvbiB0aGF0IHRha2VzIGJpbmRpbmcgdmFsdWVzIGFuZCBidWlsZHMgYW4gb2JqZWN0IG9yIGFycmF5XG4gKiBjb250YWluaW5nIHRob3NlIHZhbHVlcy5cbiAqIEBwYXJhbSBleHBzIEFuIGFycmF5IG9mIGJpbmRpbmcgdmFsdWVzXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb25WSW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cHMsIHRoaXNBcmcpIHtcbiAgICBsZXQgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIGxldCBkaWZmZXJlbnQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCsrLCBleHBzW2ldKSAmJiAoZGlmZmVyZW50ID0gdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBkaWZmZXJlbnQgPyB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHB1cmVGbi5hcHBseSh0aGlzQXJnLCBleHBzKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZSBhIHBpcGUuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2lsbCBiZSBzdG9yZWQuXG4gKiBAcGFyYW0gcGlwZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHBpcGVcbiAqIEByZXR1cm5zIFQgdGhlIGluc3RhbmNlIG9mIHRoZSBwaXBlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlKGluZGV4LCBwaXBlTmFtZSkge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBsZXQgcGlwZURlZjtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgLy8gVGhlIGBnZXRQaXBlRGVmYCB0aHJvd3MgaWYgYSBwaXBlIHdpdGggYSBnaXZlbiBuYW1lIGlzIG5vdCBmb3VuZFxuICAgICAgICAvLyAoc28gd2UgdXNlIG5vbi1udWxsIGFzc2VydGlvbiBiZWxvdykuXG4gICAgICAgIHBpcGVEZWYgPSBnZXRQaXBlRGVmKHBpcGVOYW1lLCB0Vmlldy5waXBlUmVnaXN0cnkpO1xuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdID0gcGlwZURlZjtcbiAgICAgICAgaWYgKHBpcGVEZWYub25EZXN0cm95KSB7XG4gICAgICAgICAgICAodFZpZXcuZGVzdHJveUhvb2tzIHx8ICh0Vmlldy5kZXN0cm95SG9va3MgPSBbXSkpLnB1c2goYWRqdXN0ZWRJbmRleCwgcGlwZURlZi5vbkRlc3Ryb3kpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwaXBlRGVmID0gdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICB9XG4gICAgY29uc3QgcGlwZUZhY3RvcnkgPSBwaXBlRGVmLmZhY3RvcnkgfHwgKHBpcGVEZWYuZmFjdG9yeSA9IGdldEZhY3RvcnlEZWYocGlwZURlZi50eXBlLCB0cnVlKSk7XG4gICAgY29uc3QgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IHNldEluamVjdEltcGxlbWVudGF0aW9uKMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIERJIGZvciBwaXBlcyBpcyBzdXBwb3NlZCB0byBiZWhhdmUgbGlrZSBkaXJlY3RpdmVzIHdoZW4gcGxhY2VkIG9uIGEgY29tcG9uZW50XG4gICAgICAgIC8vIGhvc3Qgbm9kZSwgd2hpY2ggbWVhbnMgdGhhdCB3ZSBoYXZlIHRvIGRpc2FibGUgYWNjZXNzIHRvIGB2aWV3UHJvdmlkZXJzYC5cbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmNsdWRlVmlld1Byb3ZpZGVycyA9IHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKGZhbHNlKTtcbiAgICAgICAgY29uc3QgcGlwZUluc3RhbmNlID0gcGlwZUZhY3RvcnkoKTtcbiAgICAgICAgc2V0SW5jbHVkZVZpZXdQcm92aWRlcnMocHJldmlvdXNJbmNsdWRlVmlld1Byb3ZpZGVycyk7XG4gICAgICAgIHN0b3JlKHRWaWV3LCBnZXRMVmlldygpLCBhZGp1c3RlZEluZGV4LCBwaXBlSW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gcGlwZUluc3RhbmNlO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0byByZXN0b3JlIHRoZSBpbmplY3RvciBpbXBsZW1lbnRhdGlvbiBpbiBmaW5hbGx5LCBqdXN0IGluIGNhc2UgdGhlIGNyZWF0aW9uIG9mIHRoZVxuICAgICAgICAvLyBwaXBlIHRocm93cyBhbiBlcnJvci5cbiAgICAgICAgc2V0SW5qZWN0SW1wbGVtZW50YXRpb24ocHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbik7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyB0aGUgcGlwZSByZWdpc3RyeSBmb3IgYSBwaXBlIHdpdGggdGhlIGdpdmVuIG5hbWUuIElmIG9uZSBpcyBmb3VuZCxcbiAqIHJldHVybnMgdGhlIHBpcGUuIE90aGVyd2lzZSwgYW4gZXJyb3IgaXMgdGhyb3duIGJlY2F1c2UgdGhlIHBpcGUgY2Fubm90IGJlIHJlc29sdmVkLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgcGlwZSB0byByZXNvbHZlXG4gKiBAcGFyYW0gcmVnaXN0cnkgRnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBwaXBlc1xuICogQHJldHVybnMgTWF0Y2hpbmcgUGlwZURlZlxuICovXG5mdW5jdGlvbiBnZXRQaXBlRGVmKG5hbWUsIHJlZ2lzdHJ5KSB7XG4gICAgaWYgKHJlZ2lzdHJ5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSByZWdpc3RyeS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgcGlwZURlZiA9IHJlZ2lzdHJ5W2ldO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09IHBpcGVEZWYubmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaXBlRGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkxWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZGVjbGFyYXRpb25MVmlld1tDT05URVhUXTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY29udGV4dCA/IGAgaW4gdGhlICcke2NvbnRleHQuY29uc3RydWN0b3IubmFtZX0nIGNvbXBvbmVudGAgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMzAyIC8qIFBJUEVfTk9UX0ZPVU5EICovLCBgVGhlIHBpcGUgJyR7bmFtZX0nIGNvdWxkIG5vdCBiZSBmb3VuZCR7Y29tcG9uZW50fSFgKTtcbiAgICB9XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggMSBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2MSAxc3QgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmQxKGluZGV4LCBzbG90T2Zmc2V0LCB2MSkge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uMUludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgcGlwZUluc3RhbmNlKSA6XG4gICAgICAgIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0odjEpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDIgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kMihpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb24ySW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCB2MiwgcGlwZUluc3RhbmNlKSA6XG4gICAgICAgIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0odjEsIHYyKTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCAzIGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHYxIDFzdCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYyIDJuZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYzIDRyZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZDMoaW5kZXgsIHNsb3RPZmZzZXQsIHYxLCB2MiwgdjMpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/XG4gICAgICAgIHB1cmVGdW5jdGlvbjNJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHYyLCB2MywgcGlwZUluc3RhbmNlKSA6XG4gICAgICAgIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0odjEsIHYyLCB2Myk7XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggNCBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2MSAxc3QgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MiAybmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MyAzcmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2NCA0dGggYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmQ0KGluZGV4LCBzbG90T2Zmc2V0LCB2MSwgdjIsIHYzLCB2NCkge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID8gcHVyZUZ1bmN0aW9uNEludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgdjIsIHYzLCB2NCwgcGlwZUluc3RhbmNlKSA6XG4gICAgICAgIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0odjEsIHYyLCB2MywgdjQpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIHZhcmlhYmxlIG51bWJlciBvZiBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2YWx1ZXMgQXJyYXkgb2YgYXJndW1lbnRzIHRvIHBhc3MgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBtZXRob2QuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kVihpbmRleCwgc2xvdE9mZnNldCwgdmFsdWVzKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb25WSW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHZhbHVlcywgcGlwZUluc3RhbmNlKSA6XG4gICAgICAgIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0uYXBwbHkocGlwZUluc3RhbmNlLCB2YWx1ZXMpO1xufVxuZnVuY3Rpb24gaXNQdXJlKGxWaWV3LCBpbmRleCkge1xuICAgIHJldHVybiBsVmlld1tUVklFV10uZGF0YVtpbmRleF0ucHVyZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBFdmVudEVtaXR0ZXJfIGV4dGVuZHMgU3ViamVjdCB7XG4gICAgY29uc3RydWN0b3IoaXNBc3luYyA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX19pc0FzeW5jID0gaXNBc3luYztcbiAgICB9XG4gICAgZW1pdCh2YWx1ZSkge1xuICAgICAgICBzdXBlci5uZXh0KHZhbHVlKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgbGV0IG5leHRGbiA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICBsZXQgZXJyb3JGbiA9IGVycm9yIHx8ICgoKSA9PiBudWxsKTtcbiAgICAgICAgbGV0IGNvbXBsZXRlRm4gPSBjb21wbGV0ZTtcbiAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICYmIHR5cGVvZiBvYnNlcnZlck9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICBuZXh0Rm4gPSBvYnNlcnZlci5uZXh0Py5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgICAgIGVycm9yRm4gPSBvYnNlcnZlci5lcnJvcj8uYmluZChvYnNlcnZlcik7XG4gICAgICAgICAgICBjb21wbGV0ZUZuID0gb2JzZXJ2ZXIuY29tcGxldGU/LmJpbmQob2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9faXNBc3luYykge1xuICAgICAgICAgICAgZXJyb3JGbiA9IF93cmFwSW5UaW1lb3V0KGVycm9yRm4pO1xuICAgICAgICAgICAgaWYgKG5leHRGbikge1xuICAgICAgICAgICAgICAgIG5leHRGbiA9IF93cmFwSW5UaW1lb3V0KG5leHRGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcGxldGVGbikge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlRm4gPSBfd3JhcEluVGltZW91dChjb21wbGV0ZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaW5rID0gc3VwZXIuc3Vic2NyaWJlKHsgbmV4dDogbmV4dEZuLCBlcnJvcjogZXJyb3JGbiwgY29tcGxldGU6IGNvbXBsZXRlRm4gfSk7XG4gICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgb2JzZXJ2ZXJPck5leHQuYWRkKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF93cmFwSW5UaW1lb3V0KGZuKSB7XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KGZuLCB1bmRlZmluZWQsIHZhbHVlKTtcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcl87XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gc3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHNbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbn1cbi8qKlxuICogQW4gdW5tb2RpZmlhYmxlIGxpc3Qgb2YgaXRlbXMgdGhhdCBBbmd1bGFyIGtlZXBzIHVwIHRvIGRhdGUgd2hlbiB0aGUgc3RhdGVcbiAqIG9mIHRoZSBhcHBsaWNhdGlvbiBjaGFuZ2VzLlxuICpcbiAqIFRoZSB0eXBlIG9mIG9iamVjdCB0aGF0IHtAbGluayBWaWV3Q2hpbGRyZW59LCB7QGxpbmsgQ29udGVudENoaWxkcmVufSwgYW5kIHtAbGluayBRdWVyeUxpc3R9XG4gKiBwcm92aWRlLlxuICpcbiAqIEltcGxlbWVudHMgYW4gaXRlcmFibGUgaW50ZXJmYWNlLCB0aGVyZWZvcmUgaXQgY2FuIGJlIHVzZWQgaW4gYm90aCBFUzZcbiAqIGphdmFzY3JpcHQgYGZvciAodmFyIGkgb2YgaXRlbXMpYCBsb29wcyBhcyB3ZWxsIGFzIGluIEFuZ3VsYXIgdGVtcGxhdGVzIHdpdGhcbiAqIGAqbmdGb3I9XCJsZXQgaSBvZiBteUxpc3RcImAuXG4gKlxuICogQ2hhbmdlcyBjYW4gYmUgb2JzZXJ2ZWQgYnkgc3Vic2NyaWJpbmcgdG8gdGhlIGNoYW5nZXMgYE9ic2VydmFibGVgLlxuICpcbiAqIE5PVEU6IEluIHRoZSBmdXR1cmUgdGhpcyBjbGFzcyB3aWxsIGltcGxlbWVudCBhbiBgT2JzZXJ2YWJsZWAgaW50ZXJmYWNlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogQENvbXBvbmVudCh7Li4ufSlcbiAqIGNsYXNzIENvbnRhaW5lciB7XG4gKiAgIEBWaWV3Q2hpbGRyZW4oSXRlbSkgaXRlbXM6UXVlcnlMaXN0PEl0ZW0+O1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBRdWVyeUxpc3Qge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlbWl0RGlzdGluY3RDaGFuZ2VzT25seSBXaGV0aGVyIGBRdWVyeUxpc3QuY2hhbmdlc2Agc2hvdWxkIGZpcmUgb25seSB3aGVuIGFjdHVhbCBjaGFuZ2VcbiAgICAgKiAgICAgaGFzIG9jY3VycmVkLiBPciBpZiBpdCBzaG91bGQgZmlyZSB3aGVuIHF1ZXJ5IGlzIHJlY29tcHV0ZWQuIChyZWNvbXB1dGluZyBjb3VsZCByZXNvbHZlIGluXG4gICAgICogICAgIHRoZSBzYW1lIHJlc3VsdClcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9lbWl0RGlzdGluY3RDaGFuZ2VzT25seSA9IF9lbWl0RGlzdGluY3RDaGFuZ2VzT25seTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgdGhpcy5fY2hhbmdlc0RldGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZmlyc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgZGVjbGFyZWQgb24gdGhlIHByb3RvdHlwZSwgYnV0IGRvaW5nIHNvIHRoZXJlIHdpbGwgY2F1c2UgdGhlIGNsYXNzXG4gICAgICAgIC8vIGRlY2xhcmF0aW9uIHRvIGhhdmUgc2lkZS1lZmZlY3RzIGFuZCBiZWNvbWUgbm90IHRyZWUtc2hha2FibGUuIEZvciB0aGlzIHJlYXNvbiB3ZSBkbyBpdCBpblxuICAgICAgICAvLyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgIC8vIFtnZXRTeW1ib2xJdGVyYXRvcigpXSgpOiBJdGVyYXRvcjxUPiB7IC4uLiB9XG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IHByb3RvID0gUXVlcnlMaXN0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKCFwcm90b1tzeW1ib2xdKVxuICAgICAgICAgICAgcHJvdG9bc3ltYm9sXSA9IHN5bWJvbEl0ZXJhdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGBPYnNlcnZhYmxlYCBvZiBgUXVlcnlMaXN0YCBub3RpZnlpbmcgdGhlIHN1YnNjcmliZXIgb2YgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZXMgfHwgKHRoaXMuX2NoYW5nZXMgPSBuZXcgRXZlbnRFbWl0dGVyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBRdWVyeUxpc3QgZW50cnkgYXQgYGluZGV4YC5cbiAgICAgKi9cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHNbaW5kZXhdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkubWFwXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9tYXApXG4gICAgICovXG4gICAgbWFwKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLm1hcChmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5maWx0ZXJdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlcilcbiAgICAgKi9cbiAgICBmaWx0ZXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmlsdGVyKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZpbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbmQpXG4gICAgICovXG4gICAgZmluZChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnJlZHVjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmVkdWNlKVxuICAgICAqL1xuICAgIHJlZHVjZShmbiwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UoZm4sIGluaXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZm9yRWFjaF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZm9yRWFjaClcbiAgICAgKi9cbiAgICBmb3JFYWNoKGZuKSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdHMuZm9yRWFjaChmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5zb21lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb21lKVxuICAgICAqL1xuICAgIHNvbWUoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZShmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBpbnRlcm5hbCByZXN1bHRzIGxpc3QgYXMgYW4gQXJyYXkuXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2UoKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0b3JlZCBkYXRhIG9mIHRoZSBxdWVyeSBsaXN0LCBhbmQgcmVzZXRzIHRoZSBgZGlydHlgIGZsYWcgdG8gYGZhbHNlYCwgc28gdGhhdFxuICAgICAqIG9uIGNoYW5nZSBkZXRlY3Rpb24sIGl0IHdpbGwgbm90IG5vdGlmeSBvZiBjaGFuZ2VzIHRvIHRoZSBxdWVyaWVzLCB1bmxlc3MgYSBuZXcgY2hhbmdlXG4gICAgICogb2NjdXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3VsdHNUcmVlIFRoZSBxdWVyeSByZXN1bHRzIHRvIHN0b3JlXG4gICAgICogQHBhcmFtIGlkZW50aXR5QWNjZXNzb3IgT3B0aW9uYWwgZnVuY3Rpb24gZm9yIGV4dHJhY3Rpbmcgc3RhYmxlIG9iamVjdCBpZGVudGl0eSBmcm9tIGEgdmFsdWVcbiAgICAgKiAgICBpbiB0aGUgYXJyYXkuIFRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZm9yIGVhY2ggZWxlbWVudCBvZiB0aGUgcXVlcnkgcmVzdWx0IGxpc3Qgd2hpbGVcbiAgICAgKiAgICBjb21wYXJpbmcgY3VycmVudCBxdWVyeSBsaXN0IHdpdGggdGhlIG5ldyBvbmUgKHByb3ZpZGVkIGFzIGEgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGByZXNldGBcbiAgICAgKiAgICBmdW5jdGlvbikgdG8gZGV0ZWN0IGlmIHRoZSBsaXN0cyBhcmUgZGlmZmVyZW50LiBJZiB0aGUgZnVuY3Rpb24gaXMgbm90IHByb3ZpZGVkLCBlbGVtZW50c1xuICAgICAqICAgIGFyZSBjb21wYXJlZCBhcyBpcyAod2l0aG91dCBhbnkgcHJlLXByb2Nlc3NpbmcpLlxuICAgICAqL1xuICAgIHJlc2V0KHJlc3VsdHNUcmVlLCBpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgICAgIC8vIENhc3QgdG8gYFF1ZXJ5TGlzdEludGVybmFsYCBzbyB0aGF0IHdlIGNhbiBtdXRhdGUgZmllbGRzIHdoaWNoIGFyZSByZWFkb25seSBmb3IgdGhlIHVzYWdlIG9mXG4gICAgICAgIC8vIFF1ZXJ5TGlzdCAoYnV0IG5vdCBmb3IgUXVlcnlMaXN0IGl0c2VsZi4pXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG5ld1Jlc3VsdEZsYXQgPSBmbGF0dGVuKHJlc3VsdHNUcmVlKTtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNEZXRlY3RlZCA9ICFhcnJheUVxdWFscyhzZWxmLl9yZXN1bHRzLCBuZXdSZXN1bHRGbGF0LCBpZGVudGl0eUFjY2Vzc29yKSkge1xuICAgICAgICAgICAgc2VsZi5fcmVzdWx0cyA9IG5ld1Jlc3VsdEZsYXQ7XG4gICAgICAgICAgICBzZWxmLmxlbmd0aCA9IG5ld1Jlc3VsdEZsYXQubGVuZ3RoO1xuICAgICAgICAgICAgc2VsZi5sYXN0ID0gbmV3UmVzdWx0RmxhdFt0aGlzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgc2VsZi5maXJzdCA9IG5ld1Jlc3VsdEZsYXRbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYSBjaGFuZ2UgZXZlbnQgYnkgZW1pdHRpbmcgb24gdGhlIGBjaGFuZ2VzYCB7QGxpbmsgRXZlbnRFbWl0dGVyfS5cbiAgICAgKi9cbiAgICBub3RpZnlPbkNoYW5nZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzICYmICh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQgfHwgIXRoaXMuX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5KSlcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXMuZW1pdCh0aGlzKTtcbiAgICB9XG4gICAgLyoqIGludGVybmFsICovXG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICAvKiogaW50ZXJuYWwgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuU3ltYm9sLml0ZXJhdG9yO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBlbWJlZGRlZCB0ZW1wbGF0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIGVtYmVkZGVkIHZpZXdzLlxuICogVG8gaW5zdGFudGlhdGUgZW1iZWRkZWQgdmlld3MgYmFzZWQgb24gYSB0ZW1wbGF0ZSwgdXNlIHRoZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqIG1ldGhvZCBgY3JlYXRlRW1iZWRkZWRWaWV3KClgLlxuICpcbiAqIEFjY2VzcyBhIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2UgYnkgcGxhY2luZyBhIGRpcmVjdGl2ZSBvbiBhbiBgPG5nLXRlbXBsYXRlPmBcbiAqIGVsZW1lbnQgKG9yIGRpcmVjdGl2ZSBwcmVmaXhlZCB3aXRoIGAqYCkuIFRoZSBgVGVtcGxhdGVSZWZgIGZvciB0aGUgZW1iZWRkZWQgdmlld1xuICogaXMgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGRpcmVjdGl2ZSxcbiAqIHVzaW5nIHRoZSBgVGVtcGxhdGVSZWZgIHRva2VuLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgYSBgUXVlcnlgIHRvIGZpbmQgYSBgVGVtcGxhdGVSZWZgIGFzc29jaWF0ZWQgd2l0aFxuICogYSBjb21wb25lbnQgb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogQHNlZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqIEBzZWUgW05hdmlnYXRlIHRoZSBDb21wb25lbnQgVHJlZSB3aXRoIERJXShndWlkZS9kZXBlbmRlbmN5LWluamVjdGlvbi1uYXZ0cmVlKVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVtcGxhdGVSZWYge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cblRlbXBsYXRlUmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gaW5qZWN0VGVtcGxhdGVSZWY7XG5jb25zdCBWaWV3RW5naW5lVGVtcGxhdGVSZWYgPSBUZW1wbGF0ZVJlZjtcbi8vIFRPRE8oYWx4aHViKTogY29tYmluZSBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uLiBDdXJyZW50bHkgdGhpcyBpcyBjaGFsbGVuZ2luZyBzaW5jZSBzb21ldGhpbmdcbi8vIGluIGczIGRlcGVuZHMgb24gdGhlbSBiZWluZyBzZXBhcmF0ZS5cbmNvbnN0IFIzVGVtcGxhdGVSZWYgPSBjbGFzcyBUZW1wbGF0ZVJlZiBleHRlbmRzIFZpZXdFbmdpbmVUZW1wbGF0ZVJlZiB7XG4gICAgY29uc3RydWN0b3IoX2RlY2xhcmF0aW9uTFZpZXcsIF9kZWNsYXJhdGlvblRDb250YWluZXIsIGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZGVjbGFyYXRpb25MVmlldyA9IF9kZWNsYXJhdGlvbkxWaWV3O1xuICAgICAgICB0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIgPSBfZGVjbGFyYXRpb25UQ29udGFpbmVyO1xuICAgICAgICB0aGlzLmVsZW1lbnRSZWYgPSBlbGVtZW50UmVmO1xuICAgIH1cbiAgICBjcmVhdGVFbWJlZGRlZFZpZXcoY29udGV4dCkge1xuICAgICAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLnRWaWV3cztcbiAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGNyZWF0ZUxWaWV3KHRoaXMuX2RlY2xhcmF0aW9uTFZpZXcsIGVtYmVkZGVkVFZpZXcsIGNvbnRleHQsIDE2IC8qIENoZWNrQWx3YXlzICovLCBudWxsLCBlbWJlZGRlZFRWaWV3LmRlY2xUTm9kZSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IHRoaXMuX2RlY2xhcmF0aW9uTFZpZXdbdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLmluZGV4XTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25MQ29udGFpbmVyKTtcbiAgICAgICAgZW1iZWRkZWRMVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXSA9IGRlY2xhcmF0aW9uTENvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25WaWV3TFF1ZXJpZXMgPSB0aGlzLl9kZWNsYXJhdGlvbkxWaWV3W1FVRVJJRVNdO1xuICAgICAgICBpZiAoZGVjbGFyYXRpb25WaWV3TFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVtYmVkZGVkTFZpZXdbUVVFUklFU10gPSBkZWNsYXJhdGlvblZpZXdMUXVlcmllcy5jcmVhdGVFbWJlZGRlZFZpZXcoZW1iZWRkZWRUVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyVmlldyhlbWJlZGRlZFRWaWV3LCBlbWJlZGRlZExWaWV3LCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmJDEoZW1iZWRkZWRMVmlldyk7XG4gICAgfVxufTtcbi8qKlxuICogQ3JlYXRlcyBhIFRlbXBsYXRlUmVmIGdpdmVuIGEgbm9kZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgVGVtcGxhdGVSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGluamVjdFRlbXBsYXRlUmVmKCkge1xuICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBUZW1wbGF0ZVJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gaG9zdFROb2RlIFRoZSBub2RlIG9uIHdoaWNoIGEgVGVtcGxhdGVSZWYgaXMgcmVxdWVzdGVkXG4gKiBAcGFyYW0gaG9zdExWaWV3IFRoZSBgTFZpZXdgIHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBUZW1wbGF0ZVJlZiBpbnN0YW5jZSBvciBudWxsIGlmIHdlIGNhbid0IGNyZWF0ZSBhIFRlbXBsYXRlUmVmIG9uIGEgZ2l2ZW4gbm9kZSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlUmVmKGhvc3RUTm9kZSwgaG9zdExWaWV3KSB7XG4gICAgaWYgKGhvc3RUTm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaG9zdFROb2RlLnRWaWV3cywgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgIHJldHVybiBuZXcgUjNUZW1wbGF0ZVJlZihob3N0TFZpZXcsIGhvc3RUTm9kZSwgY3JlYXRlRWxlbWVudFJlZihob3N0VE5vZGUsIGhvc3RMVmlldykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb250YWluZXIgd2hlcmUgb25lIG9yIG1vcmUgdmlld3MgY2FuIGJlIGF0dGFjaGVkIHRvIGEgY29tcG9uZW50LlxuICpcbiAqIENhbiBjb250YWluICpob3N0IHZpZXdzKiAoY3JlYXRlZCBieSBpbnN0YW50aWF0aW5nIGFcbiAqIGNvbXBvbmVudCB3aXRoIHRoZSBgY3JlYXRlQ29tcG9uZW50KClgIG1ldGhvZCksIGFuZCAqZW1iZWRkZWQgdmlld3MqXG4gKiAoY3JlYXRlZCBieSBpbnN0YW50aWF0aW5nIGEgYFRlbXBsYXRlUmVmYCB3aXRoIHRoZSBgY3JlYXRlRW1iZWRkZWRWaWV3KClgIG1ldGhvZCkuXG4gKlxuICogQSB2aWV3IGNvbnRhaW5lciBpbnN0YW5jZSBjYW4gY29udGFpbiBvdGhlciB2aWV3IGNvbnRhaW5lcnMsXG4gKiBjcmVhdGluZyBhIFt2aWV3IGhpZXJhcmNoeV0oZ3VpZGUvZ2xvc3Nhcnkjdmlldy10cmVlKS5cbiAqXG4gKiBAc2VlIGBDb21wb25lbnRSZWZgXG4gKiBAc2VlIGBFbWJlZGRlZFZpZXdSZWZgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBWaWV3Q29udGFpbmVyUmVmIHtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5WaWV3Q29udGFpbmVyUmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gaW5qZWN0Vmlld0NvbnRhaW5lclJlZjtcbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdDb250YWluZXJSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuIE9yLCBpZiB0aGUgVmlld0NvbnRhaW5lclJlZlxuICogYWxyZWFkeSBleGlzdHMsIHJldHJpZXZlcyB0aGUgZXhpc3RpbmcgVmlld0NvbnRhaW5lclJlZi5cbiAqXG4gKiBAcmV0dXJucyBUaGUgVmlld0NvbnRhaW5lclJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0Vmlld0NvbnRhaW5lclJlZigpIHtcbiAgICBjb25zdCBwcmV2aW91c1ROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbnRhaW5lclJlZihwcmV2aW91c1ROb2RlLCBnZXRMVmlldygpKTtcbn1cbmNvbnN0IFZFX1ZpZXdDb250YWluZXJSZWYgPSBWaWV3Q29udGFpbmVyUmVmO1xuLy8gVE9ETyhhbHhodWIpOiBjbGVhbmluZyB1cCB0aGlzIGluZGlyZWN0aW9uIHRyaWdnZXJzIGEgc3VidGxlIGJ1ZyBpbiBDbG9zdXJlIGluIGczLiBPbmNlIHRoZSBmaXhcbi8vIGZvciB0aGF0IGxhbmRzLCB0aGlzIGNhbiBiZSBjbGVhbmVkIHVwLlxuY29uc3QgUjNWaWV3Q29udGFpbmVyUmVmID0gY2xhc3MgVmlld0NvbnRhaW5lclJlZiBleHRlbmRzIFZFX1ZpZXdDb250YWluZXJSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9sQ29udGFpbmVyLCBfaG9zdFROb2RlLCBfaG9zdExWaWV3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xDb250YWluZXIgPSBfbENvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5faG9zdFROb2RlID0gX2hvc3RUTm9kZTtcbiAgICAgICAgdGhpcy5faG9zdExWaWV3ID0gX2hvc3RMVmlldztcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdExWaWV3KTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0aGlzLl9ob3N0VE5vZGUsIHRoaXMuX2hvc3RMVmlldyk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBObyByZXBsYWNlbWVudCAqL1xuICAgIGdldCBwYXJlbnRJbmplY3RvcigpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TG9jYXRpb24gPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdExWaWV3KTtcbiAgICAgICAgaWYgKGhhc1BhcmVudEluamVjdG9yKHBhcmVudExvY2F0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgdGhpcy5faG9zdExWaWV3KTtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlSW5qZWN0b3IocGFyZW50VmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRUTm9kZSA9IHBhcmVudFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IocGFyZW50VE5vZGUsIHBhcmVudFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IobnVsbCwgdGhpcy5faG9zdExWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhpcy5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZnMgPSBnZXRWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWZzICE9PSBudWxsICYmIHZpZXdSZWZzW2luZGV4XSB8fCBudWxsO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbENvbnRhaW5lci5sZW5ndGggLSBDT05UQUlORVJfSEVBREVSX09GRlNFVDtcbiAgICB9XG4gICAgY3JlYXRlRW1iZWRkZWRWaWV3KHRlbXBsYXRlUmVmLCBjb250ZXh0LCBpbmRleCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGVtcGxhdGVSZWYuY3JlYXRlRW1iZWRkZWRWaWV3KGNvbnRleHQgfHwge30pO1xuICAgICAgICB0aGlzLmluc2VydCh2aWV3UmVmLCBpbmRleCk7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICBjcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeU9yVHlwZSwgaW5kZXhPck9wdGlvbnMsIGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCBuZ01vZHVsZVJlZikge1xuICAgICAgICBjb25zdCBpc0NvbXBvbmVudEZhY3RvcnkgPSBjb21wb25lbnRGYWN0b3J5T3JUeXBlICYmICFpc1R5cGUoY29tcG9uZW50RmFjdG9yeU9yVHlwZSk7XG4gICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyAyIHNpZ25hdHVyZXMgYW5kIHdlIG5lZWQgdG8gaGFuZGxlIG9wdGlvbnMgY29ycmVjdGx5IGZvciBib3RoOlxuICAgICAgICAvLyAgIDEuIFdoZW4gZmlyc3QgYXJndW1lbnQgaXMgYSBDb21wb25lbnQgdHlwZS4gVGhpcyBzaWduYXR1cmUgYWxzbyByZXF1aXJlcyBleHRyYVxuICAgICAgICAvLyAgICAgIG9wdGlvbnMgdG8gYmUgcHJvdmlkZWQgYXMgYXMgb2JqZWN0IChtb3JlIGVyZ29ub21pYyBvcHRpb24pLlxuICAgICAgICAvLyAgIDIuIEZpcnN0IGFyZ3VtZW50IGlzIGEgQ29tcG9uZW50IGZhY3RvcnkuIEluIHRoaXMgY2FzZSBleHRyYSBvcHRpb25zIGFyZSByZXByZXNlbnRlZCBhc1xuICAgICAgICAvLyAgICAgIHBvc2l0aW9uYWwgYXJndW1lbnRzLiBUaGlzIHNpZ25hdHVyZSBpcyBsZXNzIGVyZ29ub21pYyBhbmQgd2lsbCBiZSBkZXByZWNhdGVkLlxuICAgICAgICBpZiAoaXNDb21wb25lbnRGYWN0b3J5KSB7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIGluZGV4T3JPcHRpb25zICE9PSAnb2JqZWN0JywgdHJ1ZSwgJ0l0IGxvb2tzIGxpa2UgQ29tcG9uZW50IGZhY3Rvcnkgd2FzIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuZCBhbiBvcHRpb25zIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LiBUaGlzIGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2lzIGluY29tcGF0aWJsZS4gWW91IGNhbiBlaXRoZXIgY2hhbmdlIHRoZSBmaXJzdCBhcmd1bWVudCB0byBwcm92aWRlIENvbXBvbmVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUgb3IgY2hhbmdlIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBudW1iZXIgKHJlcHJlc2VudGluZyBhbiBpbmRleCBhdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3doaWNoIHRvIGluc2VydCB0aGUgbmV3IGNvbXBvbmVudFxcJ3MgaG9zdCB2aWV3IGludG8gdGhpcyBjb250YWluZXIpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCA9IGluZGV4T3JPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgIGFzc2VydERlZmluZWQoZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudEZhY3RvcnlPclR5cGUpLCBgUHJvdmlkZWQgQ29tcG9uZW50IGNsYXNzIGRvZXNuJ3QgY29udGFpbiBDb21wb25lbnQgZGVmaW5pdGlvbi4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgY2hlY2sgd2hldGhlciBwcm92aWRlZCBjbGFzcyBoYXMgQENvbXBvbmVudCBkZWNvcmF0b3IuYCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIGluZGV4T3JPcHRpb25zICE9PSAnbnVtYmVyJywgdHJ1ZSwgJ0l0IGxvb2tzIGxpa2UgQ29tcG9uZW50IHR5cGUgd2FzIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuZCBhIG51bWJlciAocmVwcmVzZW50aW5nIGFuIGluZGV4IGF0IHdoaWNoIHRvIGluc2VydCB0aGUgbmV3IGNvbXBvbmVudFxcJ3MgJyArXG4gICAgICAgICAgICAgICAgICAgICdob3N0IHZpZXcgaW50byB0aGlzIGNvbnRhaW5lciBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LiBUaGlzIGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2lzIGluY29tcGF0aWJsZS4gUGxlYXNlIHVzZSBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IChpbmRleE9yT3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICBpbmRleCA9IG9wdGlvbnMuaW5kZXg7XG4gICAgICAgICAgICBpbmplY3RvciA9IG9wdGlvbnMuaW5qZWN0b3I7XG4gICAgICAgICAgICBwcm9qZWN0YWJsZU5vZGVzID0gb3B0aW9ucy5wcm9qZWN0YWJsZU5vZGVzO1xuICAgICAgICAgICAgbmdNb2R1bGVSZWYgPSBvcHRpb25zLm5nTW9kdWxlUmVmO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSBpc0NvbXBvbmVudEZhY3RvcnkgP1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeU9yVHlwZSA6XG4gICAgICAgICAgICBuZXcgQ29tcG9uZW50RmFjdG9yeShnZXRDb21wb25lbnREZWYoY29tcG9uZW50RmFjdG9yeU9yVHlwZSkpO1xuICAgICAgICBjb25zdCBjb250ZXh0SW5qZWN0b3IgPSBpbmplY3RvciB8fCB0aGlzLnBhcmVudEluamVjdG9yO1xuICAgICAgICAvLyBJZiBhbiBgTmdNb2R1bGVSZWZgIGlzIG5vdCBwcm92aWRlZCBleHBsaWNpdGx5LCB0cnkgcmV0cmlldmluZyBpdCBmcm9tIHRoZSBESSB0cmVlLlxuICAgICAgICBpZiAoIW5nTW9kdWxlUmVmICYmIGNvbXBvbmVudEZhY3RvcnkubmdNb2R1bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBgQ29tcG9uZW50RmFjdG9yeWAgY2FzZSwgZW50ZXJpbmcgdGhpcyBsb2dpYyBpcyB2ZXJ5IHVubGlrZWx5LCBzaW5jZSB3ZSBleHBlY3QgdGhhdFxuICAgICAgICAgICAgLy8gYW4gaW5zdGFuY2Ugb2YgYSBgQ29tcG9uZW50RmFjdG9yeWAsIHJlc29sdmVkIHZpYSBgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyYCB3b3VsZCBoYXZlIGFuXG4gICAgICAgICAgICAvLyBgbmdNb2R1bGVgIGZpZWxkLiBUaGlzIGlzIHBvc3NpYmxlIGluIHNvbWUgdGVzdCBzY2VuYXJpb3MgYW5kIHBvdGVudGlhbGx5IGluIHNvbWUgSklULWJhc2VkXG4gICAgICAgICAgICAvLyB1c2UtY2FzZXMuIEZvciB0aGUgYENvbXBvbmVudEZhY3RvcnlgIGNhc2Ugd2UgcHJlc2VydmUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgYW5kIHRyeVxuICAgICAgICAgICAgLy8gdXNpbmcgYSBwcm92aWRlZCBpbmplY3RvciBmaXJzdCwgdGhlbiBmYWxsIGJhY2sgdG8gdGhlIHBhcmVudCBpbmplY3RvciBvZiB0aGlzXG4gICAgICAgICAgICAvLyBgVmlld0NvbnRhaW5lclJlZmAgaW5zdGFuY2UuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBmYWN0b3J5LWxlc3MgY2FzZSwgaXQncyBjcml0aWNhbCB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIG1vZHVsZVxuICAgICAgICAgICAgLy8gaW5qZWN0b3IgdHJlZSAoYnkgcmV0cmlldmluZyBhbiBpbnN0YW5jZSBvZiBhbiBgTmdNb2R1bGVSZWZgIGFuZCBhY2Nlc3NpbmcgaXRzIGluamVjdG9yKSxcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgYSBjb21wb25lbnQgY2FuIHVzZSBESSB0b2tlbnMgcHJvdmlkZWQgaW4gTWdNb2R1bGVzLiBGb3IgdGhpcyByZWFzb24sIHdlIGNhbiBub3RcbiAgICAgICAgICAgIC8vIHJlbHkgb24gdGhlIHByb3ZpZGVkIGluamVjdG9yLCBzaW5jZSBpdCBtaWdodCBiZSBkZXRhY2hlZCBmcm9tIHRoZSBESSB0cmVlIChmb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICAgIC8vIGl0IHdhcyBjcmVhdGVkIHZpYSBgSW5qZWN0b3IuY3JlYXRlYCB3aXRob3V0IHNwZWNpZnlpbmcgYSBwYXJlbnQgaW5qZWN0b3IsIG9yIGlmIGFuXG4gICAgICAgICAgICAvLyBpbmplY3RvciBpcyByZXRyaWV2ZWQgZnJvbSBhbiBgTmdNb2R1bGVSZWZgIGNyZWF0ZWQgdmlhIGBjcmVhdGVOZ01vZHVsZVJlZmAgdXNpbmcgYW5cbiAgICAgICAgICAgIC8vIE5nTW9kdWxlIG91dHNpZGUgb2YgYSBtb2R1bGUgdHJlZSkuIEluc3RlYWQsIHdlIGFsd2F5cyB1c2UgYFZpZXdDb250YWluZXJSZWZgJ3MgcGFyZW50XG4gICAgICAgICAgICAvLyBpbmplY3Rvciwgd2hpY2ggaXMgbm9ybWFsbHkgY29ubmVjdGVkIHRvIHRoZSBESSB0cmVlLCB3aGljaCBpbmNsdWRlcyBtb2R1bGUgaW5qZWN0b3JcbiAgICAgICAgICAgIC8vIHN1YnRyZWUuXG4gICAgICAgICAgICBjb25zdCBfaW5qZWN0b3IgPSBpc0NvbXBvbmVudEZhY3RvcnkgPyBjb250ZXh0SW5qZWN0b3IgOiB0aGlzLnBhcmVudEluamVjdG9yO1xuICAgICAgICAgICAgLy8gRE8gTk9UIFJFRkFDVE9SLiBUaGUgY29kZSBoZXJlIHVzZWQgdG8gaGF2ZSBhIGBpbmplY3Rvci5nZXQoTmdNb2R1bGVSZWYsIG51bGwpIHx8XG4gICAgICAgICAgICAvLyB1bmRlZmluZWRgIGV4cHJlc3Npb24gd2hpY2ggc2VlbXMgdG8gY2F1c2UgaW50ZXJuYWwgZ29vZ2xlIGFwcHMgdG8gZmFpbC4gVGhpcyBpcyBkb2N1bWVudGVkXG4gICAgICAgICAgICAvLyBpbiB0aGUgZm9sbG93aW5nIGludGVybmFsIGJ1ZyBpc3N1ZTogZ28vYi8xNDI5Njc4MDJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IF9pbmplY3Rvci5nZXQoTmdNb2R1bGVSZWYkMSwgbnVsbCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgbmdNb2R1bGVSZWYgPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoY29udGV4dEluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCB1bmRlZmluZWQsIG5nTW9kdWxlUmVmKTtcbiAgICAgICAgdGhpcy5pbnNlcnQoY29tcG9uZW50UmVmLmhvc3RWaWV3LCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIGluc2VydCh2aWV3UmVmLCBpbmRleCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IHZpZXdSZWYuX2xWaWV3O1xuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiB2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW5zZXJ0IGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWV3QXR0YWNoZWRUb0NvbnRhaW5lcihsVmlldykpIHtcbiAgICAgICAgICAgIC8vIElmIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCwgZGV0YWNoIGl0IGZpcnN0IHNvIHdlIGNsZWFuIHVwIHJlZmVyZW5jZXMgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgICAgIGNvbnN0IHByZXZJZHggPSB0aGlzLmluZGV4T2Yodmlld1JlZik7XG4gICAgICAgICAgICAvLyBBIHZpZXcgbWlnaHQgYmUgYXR0YWNoZWQgZWl0aGVyIHRvIHRoaXMgb3IgYSBkaWZmZXJlbnQgY29udGFpbmVyLiBUaGUgYHByZXZJZHhgIGZvclxuICAgICAgICAgICAgLy8gdGhvc2UgY2FzZXMgd2lsbCBiZTpcbiAgICAgICAgICAgIC8vIGVxdWFsIHRvIC0xIGZvciB2aWV3cyBhdHRhY2hlZCB0byB0aGlzIFZpZXdDb250YWluZXJSZWZcbiAgICAgICAgICAgIC8vID49IDAgZm9yIHZpZXdzIGF0dGFjaGVkIHRvIGEgZGlmZmVyZW50IFZpZXdDb250YWluZXJSZWZcbiAgICAgICAgICAgIGlmIChwcmV2SWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKHByZXZJZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkxDb250YWluZXIgPSBsVmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChpc0xDb250YWluZXIocHJldkxDb250YWluZXIpLCB0cnVlLCAnQW4gYXR0YWNoZWQgdmlldyBzaG91bGQgaGF2ZSBpdHMgUEFSRU5UIHBvaW50IHRvIGEgY29udGFpbmVyLicpO1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcmUtY3JlYXRlIGEgUjNWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHNpbmNlIHRob3NlIGFyZSBub3Qgc3RvcmVkIG9uXG4gICAgICAgICAgICAgICAgLy8gTFZpZXcgKG5vciBhbnl3aGVyZSBlbHNlKS5cbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VkNSZWYgPSBuZXcgUjNWaWV3Q29udGFpbmVyUmVmKHByZXZMQ29udGFpbmVyLCBwcmV2TENvbnRhaW5lcltUX0hPU1RdLCBwcmV2TENvbnRhaW5lcltQQVJFTlRdKTtcbiAgICAgICAgICAgICAgICBwcmV2VkNSZWYuZGV0YWNoKHByZXZWQ1JlZi5pbmRleE9mKHZpZXdSZWYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMb2dpY2FsIG9wZXJhdGlvbiBvZiBhZGRpbmcgYExWaWV3YCB0byBgTENvbnRhaW5lcmBcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRJZHggPSB0aGlzLl9hZGp1c3RJbmRleChpbmRleCk7XG4gICAgICAgIGNvbnN0IGxDb250YWluZXIgPSB0aGlzLl9sQ29udGFpbmVyO1xuICAgICAgICBpbnNlcnRWaWV3KHRWaWV3LCBsVmlldywgbENvbnRhaW5lciwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICAvLyBQaHlzaWNhbCBvcGVyYXRpb24gb2YgYWRkaW5nIHRoZSBET00gbm9kZXMuXG4gICAgICAgIGNvbnN0IGJlZm9yZU5vZGUgPSBnZXRCZWZvcmVOb2RlRm9yVmlldyhhZGp1c3RlZElkeCwgbENvbnRhaW5lcik7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgICAgICBjb25zdCBwYXJlbnRSTm9kZSA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIGxDb250YWluZXJbTkFUSVZFXSk7XG4gICAgICAgIGlmIChwYXJlbnRSTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYWRkVmlld1RvQ29udGFpbmVyKHRWaWV3LCBsQ29udGFpbmVyW1RfSE9TVF0sIHJlbmRlcmVyLCBsVmlldywgcGFyZW50Uk5vZGUsIGJlZm9yZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdSZWYuYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKCk7XG4gICAgICAgIGFkZFRvQXJyYXkoZ2V0T3JDcmVhdGVWaWV3UmVmcyhsQ29udGFpbmVyKSwgYWRqdXN0ZWRJZHgsIHZpZXdSZWYpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgbW92ZSh2aWV3UmVmLCBuZXdJbmRleCkge1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHZpZXdSZWYuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtb3ZlIGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydCh2aWV3UmVmLCBuZXdJbmRleCk7XG4gICAgfVxuICAgIGluZGV4T2Yodmlld1JlZikge1xuICAgICAgICBjb25zdCB2aWV3UmVmc0FyciA9IGdldFZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gdmlld1JlZnNBcnIgIT09IG51bGwgPyB2aWV3UmVmc0Fyci5pbmRleE9mKHZpZXdSZWYpIDogLTE7XG4gICAgfVxuICAgIHJlbW92ZShpbmRleCkge1xuICAgICAgICBjb25zdCBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4LCAtMSk7XG4gICAgICAgIGNvbnN0IGRldGFjaGVkVmlldyA9IGRldGFjaFZpZXcodGhpcy5fbENvbnRhaW5lciwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICBpZiAoZGV0YWNoZWRWaWV3KSB7XG4gICAgICAgICAgICAvLyBCZWZvcmUgZGVzdHJveWluZyB0aGUgdmlldywgcmVtb3ZlIGl0IGZyb20gdGhlIGNvbnRhaW5lcidzIGFycmF5IG9mIGBWaWV3UmVmYHMuXG4gICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIHZpZXcgY29udGFpbmVyIGxlbmd0aCBpcyB1cGRhdGVkIGJlZm9yZSBjYWxsaW5nXG4gICAgICAgICAgICAvLyBgZGVzdHJveUxWaWV3YCwgd2hpY2ggY291bGQgcmVjdXJzaXZlbHkgY2FsbCB2aWV3IGNvbnRhaW5lciBtZXRob2RzIHRoYXRcbiAgICAgICAgICAgIC8vIHJlbHkgb24gYW4gYWNjdXJhdGUgY29udGFpbmVyIGxlbmd0aC5cbiAgICAgICAgICAgIC8vIChlLmcuIGEgbWV0aG9kIG9uIHRoaXMgdmlldyBjb250YWluZXIgYmVpbmcgY2FsbGVkIGJ5IGEgY2hpbGQgZGlyZWN0aXZlJ3MgT25EZXN0cm95XG4gICAgICAgICAgICAvLyBsaWZlY3ljbGUgaG9vaylcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShnZXRPckNyZWF0ZVZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpLCBhZGp1c3RlZElkeCk7XG4gICAgICAgICAgICBkZXN0cm95TFZpZXcoZGV0YWNoZWRWaWV3W1RWSUVXXSwgZGV0YWNoZWRWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXRhY2goaW5kZXgpIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRJZHggPSB0aGlzLl9hZGp1c3RJbmRleChpbmRleCwgLTEpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZGV0YWNoVmlldyh0aGlzLl9sQ29udGFpbmVyLCBhZGp1c3RlZElkeCk7XG4gICAgICAgIGNvbnN0IHdhc0RldGFjaGVkID0gdmlldyAmJiByZW1vdmVGcm9tQXJyYXkoZ2V0T3JDcmVhdGVWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKSwgYWRqdXN0ZWRJZHgpICE9IG51bGw7XG4gICAgICAgIHJldHVybiB3YXNEZXRhY2hlZCA/IG5ldyBWaWV3UmVmJDEodmlldykgOiBudWxsO1xuICAgIH1cbiAgICBfYWRqdXN0SW5kZXgoaW5kZXgsIHNoaWZ0ID0gMCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoICsgc2hpZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW4oaW5kZXgsIC0xLCBgVmlld1JlZiBpbmRleCBtdXN0IGJlIHBvc2l0aXZlLCBnb3QgJHtpbmRleH1gKTtcbiAgICAgICAgICAgIC8vICsxIGJlY2F1c2UgaXQncyBsZWdhbCB0byBpbnNlcnQgYXQgdGhlIGVuZC5cbiAgICAgICAgICAgIGFzc2VydExlc3NUaGFuKGluZGV4LCB0aGlzLmxlbmd0aCArIDEgKyBzaGlmdCwgJ2luZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn07XG5mdW5jdGlvbiBnZXRWaWV3UmVmcyhsQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGxDb250YWluZXJbVklFV19SRUZTXTtcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVmlld1JlZnMobENvbnRhaW5lcikge1xuICAgIHJldHVybiAobENvbnRhaW5lcltWSUVXX1JFRlNdIHx8IChsQ29udGFpbmVyW1ZJRVdfUkVGU10gPSBbXSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVmlld0NvbnRhaW5lclJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gVmlld0NvbnRhaW5lclJlZlRva2VuIFRoZSBWaWV3Q29udGFpbmVyUmVmIHR5cGVcbiAqIEBwYXJhbSBFbGVtZW50UmVmVG9rZW4gVGhlIEVsZW1lbnRSZWYgdHlwZVxuICogQHBhcmFtIGhvc3RUTm9kZSBUaGUgbm9kZSB0aGF0IGlzIHJlcXVlc3RpbmcgYSBWaWV3Q29udGFpbmVyUmVmXG4gKiBAcGFyYW0gaG9zdExWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXJSZWYoaG9zdFROb2RlLCBob3N0TFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKGhvc3RUTm9kZSwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMyAvKiBBbnlSTm9kZSAqLyk7XG4gICAgbGV0IGxDb250YWluZXI7XG4gICAgY29uc3Qgc2xvdFZhbHVlID0gaG9zdExWaWV3W2hvc3RUTm9kZS5pbmRleF07XG4gICAgaWYgKGlzTENvbnRhaW5lcihzbG90VmFsdWUpKSB7XG4gICAgICAgIC8vIElmIHRoZSBob3N0IGlzIGEgY29udGFpbmVyLCB3ZSBkb24ndCBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBMQ29udGFpbmVyXG4gICAgICAgIGxDb250YWluZXIgPSBzbG90VmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgY29tbWVudE5vZGU7XG4gICAgICAgIC8vIElmIHRoZSBob3N0IGlzIGFuIGVsZW1lbnQgY29udGFpbmVyLCB0aGUgbmF0aXZlIGhvc3QgZWxlbWVudCBpcyBndWFyYW50ZWVkIHRvIGJlIGFcbiAgICAgICAgLy8gY29tbWVudCBhbmQgd2UgY2FuIHJldXNlIHRoYXQgY29tbWVudCBhcyBhbmNob3IgZWxlbWVudCBmb3IgdGhlIG5ldyBMQ29udGFpbmVyLlxuICAgICAgICAvLyBUaGUgY29tbWVudCBub2RlIGluIHF1ZXN0aW9uIGlzIGFscmVhZHkgcGFydCBvZiB0aGUgRE9NIHN0cnVjdHVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIGFwcGVuZFxuICAgICAgICAvLyBpdCBhZ2Fpbi5cbiAgICAgICAgaWYgKGhvc3RUTm9kZS50eXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjb21tZW50Tm9kZSA9IHVud3JhcFJOb2RlKHNsb3RWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhIHJlZ3VsYXIgZWxlbWVudCwgd2UgaGF2ZSB0byBpbnNlcnQgYSBjb21tZW50IG5vZGUgbWFudWFsbHkgd2hpY2ggd2lsbFxuICAgICAgICAgICAgLy8gYmUgdXNlZCBhcyBhbiBhbmNob3Igd2hlbiBpbnNlcnRpbmcgZWxlbWVudHMuIEluIHRoaXMgc3BlY2lmaWMgY2FzZSB3ZSB1c2UgbG93LWxldmVsIERPTVxuICAgICAgICAgICAgLy8gbWFuaXB1bGF0aW9uIHRvIGluc2VydCBpdC5cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gaG9zdExWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVDb21tZW50Kys7XG4gICAgICAgICAgICBjb21tZW50Tm9kZSA9IHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ2NvbnRhaW5lcicgOiAnJyk7XG4gICAgICAgICAgICBjb25zdCBob3N0TmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShob3N0VE5vZGUsIGhvc3RMVmlldyk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRPZkhvc3ROYXRpdmUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBob3N0TmF0aXZlKTtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50T2ZIb3N0TmF0aXZlLCBjb21tZW50Tm9kZSwgbmF0aXZlTmV4dFNpYmxpbmcocmVuZGVyZXIsIGhvc3ROYXRpdmUpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdExWaWV3W2hvc3RUTm9kZS5pbmRleF0gPSBsQ29udGFpbmVyID1cbiAgICAgICAgICAgIGNyZWF0ZUxDb250YWluZXIoc2xvdFZhbHVlLCBob3N0TFZpZXcsIGNvbW1lbnROb2RlLCBob3N0VE5vZGUpO1xuICAgICAgICBhZGRUb1ZpZXdUcmVlKGhvc3RMVmlldywgbENvbnRhaW5lcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUjNWaWV3Q29udGFpbmVyUmVmKGxDb250YWluZXIsIGhvc3RUTm9kZSwgaG9zdExWaWV3KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQxID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgdW51c2VkVmFsdWVUb1BsYWNhdGVBamQgPSB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQxICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNSArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDQgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZDtcbmNsYXNzIExRdWVyeV8ge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJ5TGlzdCkge1xuICAgICAgICB0aGlzLnF1ZXJ5TGlzdCA9IHF1ZXJ5TGlzdDtcbiAgICAgICAgdGhpcy5tYXRjaGVzID0gbnVsbDtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTFF1ZXJ5Xyh0aGlzLnF1ZXJ5TGlzdCk7XG4gICAgfVxuICAgIHNldERpcnR5KCkge1xuICAgICAgICB0aGlzLnF1ZXJ5TGlzdC5zZXREaXJ0eSgpO1xuICAgIH1cbn1cbmNsYXNzIExRdWVyaWVzXyB7XG4gICAgY29uc3RydWN0b3IocXVlcmllcyA9IFtdKSB7XG4gICAgICAgIHRoaXMucXVlcmllcyA9IHF1ZXJpZXM7XG4gICAgfVxuICAgIGNyZWF0ZUVtYmVkZGVkVmlldyh0Vmlldykge1xuICAgICAgICBjb25zdCB0UXVlcmllcyA9IHRWaWV3LnF1ZXJpZXM7XG4gICAgICAgIGlmICh0UXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgbm9PZkluaGVyaXRlZFF1ZXJpZXMgPSB0Vmlldy5jb250ZW50UXVlcmllcyAhPT0gbnVsbCA/IHRWaWV3LmNvbnRlbnRRdWVyaWVzWzBdIDogdFF1ZXJpZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3Qgdmlld0xRdWVyaWVzID0gW107XG4gICAgICAgICAgICAvLyBBbiBlbWJlZGRlZCB2aWV3IGhhcyBxdWVyaWVzIHByb3BhZ2F0ZWQgZnJvbSBhIGRlY2xhcmF0aW9uIHZpZXcgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICAgICAgICAgIC8vIFRRdWVyaWVzIGNvbGxlY3Rpb24gYW5kIHVwIHVudGlsIGEgZmlyc3QgY29udGVudCBxdWVyeSBkZWNsYXJlZCBpbiB0aGUgZW1iZWRkZWQgdmlldy4gT25seVxuICAgICAgICAgICAgLy8gcHJvcGFnYXRlZCBMUXVlcmllcyBhcmUgY3JlYXRlZCBhdCB0aGlzIHBvaW50IChMUXVlcnkgY29ycmVzcG9uZGluZyB0byBkZWNsYXJlZCBjb250ZW50XG4gICAgICAgICAgICAvLyBxdWVyaWVzIHdpbGwgYmUgaW5zdGFudGlhdGVkIGZyb20gdGhlIGNvbnRlbnQgcXVlcnkgaW5zdHJ1Y3Rpb25zIGZvciBlYWNoIGRpcmVjdGl2ZSkuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vT2ZJbmhlcml0ZWRRdWVyaWVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0UXVlcnkgPSB0UXVlcmllcy5nZXRCeUluZGV4KGkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudExRdWVyeSA9IHRoaXMucXVlcmllc1t0UXVlcnkuaW5kZXhJbkRlY2xhcmF0aW9uVmlld107XG4gICAgICAgICAgICAgICAgdmlld0xRdWVyaWVzLnB1c2gocGFyZW50TFF1ZXJ5LmNsb25lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMUXVlcmllc18odmlld0xRdWVyaWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5zZXJ0Vmlldyh0Vmlldykge1xuICAgICAgICB0aGlzLmRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHRWaWV3KTtcbiAgICB9XG4gICAgZGV0YWNoVmlldyh0Vmlldykge1xuICAgICAgICB0aGlzLmRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHRWaWV3KTtcbiAgICB9XG4gICAgZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModFZpZXcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChnZXRUUXVlcnkodFZpZXcsIGkpLm1hdGNoZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0uc2V0RGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFRRdWVyeU1ldGFkYXRhXyB7XG4gICAgY29uc3RydWN0b3IocHJlZGljYXRlLCBmbGFncywgcmVhZCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5yZWFkID0gcmVhZDtcbiAgICB9XG59XG5jbGFzcyBUUXVlcmllc18ge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJpZXMgPSBbXSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgIH1cbiAgICBlbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3LCAnUXVlcmllcyBzaG91bGQgY29sbGVjdCByZXN1bHRzIG9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVlcmllc1tpXS5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50RW5kKHROb2RlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0uZWxlbWVudEVuZCh0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1iZWRkZWRUVmlldyh0Tm9kZSkge1xuICAgICAgICBsZXQgcXVlcmllc0ZvclRlbXBsYXRlUmVmID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFF1ZXJ5SW5kZXggPSBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgIT09IG51bGwgPyBxdWVyaWVzRm9yVGVtcGxhdGVSZWYubGVuZ3RoIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHRxdWVyeUNsb25lID0gdGhpcy5nZXRCeUluZGV4KGkpLmVtYmVkZGVkVFZpZXcodE5vZGUsIGNoaWxkUXVlcnlJbmRleCk7XG4gICAgICAgICAgICBpZiAodHF1ZXJ5Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICB0cXVlcnlDbG9uZS5pbmRleEluRGVjbGFyYXRpb25WaWV3ID0gaTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcmllc0ZvclRlbXBsYXRlUmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZi5wdXNoKHRxdWVyeUNsb25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiA9IFt0cXVlcnlDbG9uZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgIT09IG51bGwgPyBuZXcgVFF1ZXJpZXNfKHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZikgOiBudWxsO1xuICAgIH1cbiAgICB0ZW1wbGF0ZSh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsICdRdWVyaWVzIHNob3VsZCBjb2xsZWN0IHJlc3VsdHMgb24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3Mgb25seScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLnRlbXBsYXRlKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QnlJbmRleChpbmRleCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHRoaXMucXVlcmllcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyaWVzW2luZGV4XTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcmllcy5sZW5ndGg7XG4gICAgfVxuICAgIHRyYWNrKHRxdWVyeSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMucHVzaCh0cXVlcnkpO1xuICAgIH1cbn1cbmNsYXNzIFRRdWVyeV8ge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBub2RlSW5kZXggPSAtMSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMubWF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldyA9IC0xO1xuICAgICAgICB0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWcgaW5kaWNhdGluZyBpZiBhIGdpdmVuIHF1ZXJ5IHN0aWxsIGFwcGxpZXMgdG8gbm9kZXMgaXQgaXMgY3Jvc3NpbmcuIFdlIHVzZSB0aGlzIGZsYWdcbiAgICAgICAgICogKGFsb25nc2lkZSB3aXRoIF9kZWNsYXJhdGlvbk5vZGVJbmRleCkgdG8ga25vdyB3aGVuIHRvIHN0b3AgYXBwbHlpbmcgY29udGVudCBxdWVyaWVzIHRvXG4gICAgICAgICAqIGVsZW1lbnRzIGluIGEgdGVtcGxhdGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4ID0gbm9kZUluZGV4O1xuICAgIH1cbiAgICBlbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQXBwbHlpbmdUb05vZGUodE5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGUodFZpZXcsIHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50RW5kKHROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleCA9PT0gdE5vZGUuaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGxpZXNUb05leHROb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGVtcGxhdGUodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIGVtYmVkZGVkVFZpZXcodE5vZGUsIGNoaWxkUXVlcnlJbmRleCkge1xuICAgICAgICBpZiAodGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHROb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBBIG1hcmtlciBpbmRpY2F0aW5nIGEgYDxuZy10ZW1wbGF0ZT5gIGVsZW1lbnQgKGEgcGxhY2Vob2xkZXIgZm9yIHF1ZXJ5IHJlc3VsdHMgZnJvbVxuICAgICAgICAgICAgLy8gZW1iZWRkZWQgdmlld3MgY3JlYXRlZCBiYXNlZCBvbiB0aGlzIGA8bmctdGVtcGxhdGU+YCkuXG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoKC10Tm9kZS5pbmRleCwgY2hpbGRRdWVyeUluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVFF1ZXJ5Xyh0aGlzLm1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaXNBcHBseWluZ1RvTm9kZSh0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5fYXBwbGllc1RvTmV4dE5vZGUgJiZcbiAgICAgICAgICAgICh0aGlzLm1ldGFkYXRhLmZsYWdzICYgMSAvKiBkZXNjZW5kYW50cyAqLykgIT09IDEgLyogZGVzY2VuZGFudHMgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTm9kZUlkeCA9IHRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4O1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHROb2RlLnBhcmVudDtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBpZiBhIGdpdmVuIFROb2RlIGlzIGEgXCJkaXJlY3RcIiBjaGlsZCBvZiBhIG5vZGUgb24gd2hpY2ggYSBjb250ZW50IHF1ZXJ5IHdhc1xuICAgICAgICAgICAgLy8gZGVjbGFyZWQgKG9ubHkgZGlyZWN0IGNoaWxkcmVuIG9mIHF1ZXJ5J3MgaG9zdCBub2RlIGNhbiBtYXRjaCB3aXRoIHRoZSBkZXNjZW5kYW50czogZmFsc2VcbiAgICAgICAgICAgIC8vIG9wdGlvbikuIFRoZXJlIGFyZSAzIG1haW4gdXNlLWNhc2UgLyBjb25kaXRpb25zIHRvIGNvbnNpZGVyIGhlcmU6XG4gICAgICAgICAgICAvLyAtIDxuZWVkcy10YXJnZXQ+PGkgI3RhcmdldD48L2k+PC9uZWVkcy10YXJnZXQ+OiBoZXJlIDxpICN0YXJnZXQ+IHBhcmVudCBub2RlIGlzIGEgcXVlcnlcbiAgICAgICAgICAgIC8vIGhvc3Qgbm9kZTtcbiAgICAgICAgICAgIC8vIC0gPG5lZWRzLXRhcmdldD48bmctdGVtcGxhdGUgW25nSWZdPVwidHJ1ZVwiPjxpICN0YXJnZXQ+PC9pPjwvbmctdGVtcGxhdGU+PC9uZWVkcy10YXJnZXQ+OlxuICAgICAgICAgICAgLy8gaGVyZSA8aSAjdGFyZ2V0PiBwYXJlbnQgbm9kZSBpcyBudWxsO1xuICAgICAgICAgICAgLy8gLSA8bmVlZHMtdGFyZ2V0PjxuZy1jb250YWluZXI+PGkgI3RhcmdldD48L2k+PC9uZy1jb250YWluZXI+PC9uZWVkcy10YXJnZXQ+OiBoZXJlIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGdvIHBhc3QgYDxuZy1jb250YWluZXI+YCB0byBkZXRlcm1pbmUgPGkgI3RhcmdldD4gcGFyZW50IG5vZGUgKGJ1dCB3ZSBzaG91bGRuJ3QgdHJhdmVyc2VcbiAgICAgICAgICAgIC8vIHVwIHBhc3QgdGhlIHF1ZXJ5J3MgaG9zdCBub2RlISkuXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQudHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykgJiZcbiAgICAgICAgICAgICAgICBwYXJlbnQuaW5kZXggIT09IGRlY2xhcmF0aW9uTm9kZUlkeCkge1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjbGFyYXRpb25Ob2RlSWR4ID09PSAocGFyZW50ICE9PSBudWxsID8gcGFyZW50LmluZGV4IDogLTEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZTtcbiAgICB9XG4gICAgbWF0Y2hUTm9kZSh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgY29uc3QgcHJlZGljYXRlID0gdGhpcy5tZXRhZGF0YS5wcmVkaWNhdGU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByZWRpY2F0ZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZGljYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHByZWRpY2F0ZVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIGdldElkeE9mTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgbmFtZSkpO1xuICAgICAgICAgICAgICAgIC8vIEFsc28gdHJ5IG1hdGNoaW5nIHRoZSBuYW1lIHRvIGEgcHJvdmlkZXIgc2luY2Ugc3RyaW5ncyBjYW4gYmUgdXNlZCBhcyBESSB0b2tlbnMgdG9vLlxuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIG5hbWUsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSA9PT0gVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgICAgICBpZiAodE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgLTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIHByZWRpY2F0ZSwgZmFsc2UsIGZhbHNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgbm9kZU1hdGNoSWR4KSB7XG4gICAgICAgIGlmIChub2RlTWF0Y2hJZHggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWQgPSB0aGlzLm1ldGFkYXRhLnJlYWQ7XG4gICAgICAgICAgICBpZiAocmVhZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWFkID09PSBFbGVtZW50UmVmIHx8IHJlYWQgPT09IFZpZXdDb250YWluZXJSZWYgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVhZCA9PT0gVGVtcGxhdGVSZWYgJiYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCh0Tm9kZS5pbmRleCwgLTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlT3JQcm92aWRlcklkeCA9IGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCByZWFkLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aXZlT3JQcm92aWRlcklkeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCh0Tm9kZS5pbmRleCwgZGlyZWN0aXZlT3JQcm92aWRlcklkeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE1hdGNoKHROb2RlLmluZGV4LCBub2RlTWF0Y2hJZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZE1hdGNoKHROb2RlSWR4LCBtYXRjaElkeCkge1xuICAgICAgICBpZiAodGhpcy5tYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBbdE5vZGVJZHgsIG1hdGNoSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hlcy5wdXNoKHROb2RlSWR4LCBtYXRjaElkeCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgbG9jYWwgbmFtZXMgZm9yIGEgZ2l2ZW4gbm9kZSBhbmQgcmV0dXJucyBkaXJlY3RpdmUgaW5kZXhcbiAqIChvciAtMSBpZiBhIGxvY2FsIG5hbWUgcG9pbnRzIHRvIGFuIGVsZW1lbnQpLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBzdGF0aWMgZGF0YSBvZiBhIG5vZGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBzZWxlY3RvciBzZWxlY3RvciB0byBtYXRjaFxuICogQHJldHVybnMgZGlyZWN0aXZlIGluZGV4LCAtMSBvciBudWxsIGlmIGEgc2VsZWN0b3IgZGlkbid0IG1hdGNoIGFueSBvZiB0aGUgbG9jYWwgbmFtZXNcbiAqL1xuZnVuY3Rpb24gZ2V0SWR4T2ZNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzO1xuICAgIGlmIChsb2NhbE5hbWVzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKGxvY2FsTmFtZXNbaV0gPT09IHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsTmFtZXNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVzdWx0QnlUTm9kZVR5cGUodE5vZGUsIGN1cnJlbnRWaWV3KSB7XG4gICAgaWYgKHROb2RlLnR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDggLyogRWxlbWVudENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYodE5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZih0Tm9kZSwgY3VycmVudFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlc3VsdEZvck5vZGUobFZpZXcsIHROb2RlLCBtYXRjaGluZ0lkeCwgcmVhZCkge1xuICAgIGlmIChtYXRjaGluZ0lkeCA9PT0gLTEpIHtcbiAgICAgICAgLy8gaWYgcmVhZCB0b2tlbiBhbmQgLyBvciBzdHJhdGVneSBpcyBub3Qgc3BlY2lmaWVkLCBkZXRlY3QgaXQgdXNpbmcgYXBwcm9wcmlhdGUgdE5vZGUgdHlwZVxuICAgICAgICByZXR1cm4gY3JlYXRlUmVzdWx0QnlUTm9kZVR5cGUodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF0Y2hpbmdJZHggPT09IC0yKSB7XG4gICAgICAgIC8vIHJlYWQgYSBzcGVjaWFsIHRva2VuIGZyb20gYSBub2RlIGluamVjdG9yXG4gICAgICAgIHJldHVybiBjcmVhdGVTcGVjaWFsVG9rZW4obFZpZXcsIHROb2RlLCByZWFkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHJlYWQgYSB0b2tlblxuICAgICAgICByZXR1cm4gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIGxWaWV3W1RWSUVXXSwgbWF0Y2hpbmdJZHgsIHROb2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTcGVjaWFsVG9rZW4obFZpZXcsIHROb2RlLCByZWFkKSB7XG4gICAgaWYgKHJlYWQgPT09IEVsZW1lbnRSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVhZCA9PT0gVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlYWQgPT09IFZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb250YWluZXJSZWYodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgdGhyb3dFcnJvcihgU3BlY2lhbCB0b2tlbiB0byByZWFkIHNob3VsZCBiZSBvbmUgb2YgRWxlbWVudFJlZiwgVGVtcGxhdGVSZWYgb3IgVmlld0NvbnRhaW5lclJlZiBidXQgZ290ICR7c3RyaW5naWZ5KHJlYWQpfS5gKTtcbiAgICB9XG59XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBxdWVyeSByZXN1bHRzIGZvciBhIGdpdmVuIHZpZXcuIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgdG8gZG8gdGhlXG4gKiBwcm9jZXNzaW5nIG9uY2UgYW5kIG9ubHkgb25jZSBmb3IgYSBnaXZlbiB2aWV3IGluc3RhbmNlIChhIHNldCBvZiByZXN1bHRzIGZvciBhIGdpdmVuIHZpZXdcbiAqIGRvZXNuJ3QgY2hhbmdlKS5cbiAqL1xuZnVuY3Rpb24gbWF0ZXJpYWxpemVWaWV3UmVzdWx0cyh0VmlldywgbFZpZXcsIHRRdWVyeSwgcXVlcnlJbmRleCkge1xuICAgIGNvbnN0IGxRdWVyeSA9IGxWaWV3W1FVRVJJRVNdLnF1ZXJpZXNbcXVlcnlJbmRleF07XG4gICAgaWYgKGxRdWVyeS5tYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgICAgIGNvbnN0IHRRdWVyeU1hdGNoZXMgPSB0UXVlcnkubWF0Y2hlcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdFF1ZXJ5TWF0Y2hlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZE5vZGVJZHggPSB0UXVlcnlNYXRjaGVzW2ldO1xuICAgICAgICAgICAgaWYgKG1hdGNoZWROb2RlSWR4IDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGF0IHRoZSA8bmctdGVtcGxhdGU+IG1hcmtlciB3aGljaCBtaWdodCBoYXZlIHJlc3VsdHMgaW4gdmlld3MgY3JlYXRlZCBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gPG5nLXRlbXBsYXRlPiAtIHRob3NlIHJlc3VsdHMgd2lsbCBiZSBpbiBzZXBhcmF0ZSB2aWV3cyB0aG91Z2gsIHNvIGhlcmUgd2UganVzdCBsZWF2ZVxuICAgICAgICAgICAgICAgIC8vIG51bGwgYXMgYSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh0Vmlld0RhdGEsIG1hdGNoZWROb2RlSWR4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0Tm9kZSA9IHRWaWV3RGF0YVttYXRjaGVkTm9kZUlkeF07XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3JlYXRlUmVzdWx0Rm9yTm9kZShsVmlldywgdE5vZGUsIHRRdWVyeU1hdGNoZXNbaSArIDFdLCB0UXVlcnkubWV0YWRhdGEucmVhZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxRdWVyeS5tYXRjaGVzID0gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbFF1ZXJ5Lm1hdGNoZXM7XG59XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgY29sbGVjdHMgKGFscmVhZHkgbWF0ZXJpYWxpemVkKSBxdWVyeSByZXN1bHRzIGZyb20gYSB0cmVlIG9mIHZpZXdzLFxuICogc3RhcnRpbmcgd2l0aCBhIHByb3ZpZGVkIExWaWV3LlxuICovXG5mdW5jdGlvbiBjb2xsZWN0UXVlcnlSZXN1bHRzKHRWaWV3LCBsVmlldywgcXVlcnlJbmRleCwgcmVzdWx0KSB7XG4gICAgY29uc3QgdFF1ZXJ5ID0gdFZpZXcucXVlcmllcy5nZXRCeUluZGV4KHF1ZXJ5SW5kZXgpO1xuICAgIGNvbnN0IHRRdWVyeU1hdGNoZXMgPSB0UXVlcnkubWF0Y2hlcztcbiAgICBpZiAodFF1ZXJ5TWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBsVmlld1Jlc3VsdHMgPSBtYXRlcmlhbGl6ZVZpZXdSZXN1bHRzKHRWaWV3LCBsVmlldywgdFF1ZXJ5LCBxdWVyeUluZGV4KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0UXVlcnlNYXRjaGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCB0Tm9kZUlkeCA9IHRRdWVyeU1hdGNoZXNbaV07XG4gICAgICAgICAgICBpZiAodE5vZGVJZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobFZpZXdSZXN1bHRzW2kgLyAyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFF1ZXJ5SW5kZXggPSB0UXVlcnlNYXRjaGVzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSBsVmlld1stdE5vZGVJZHhdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGRlY2xhcmF0aW9uTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdCBtYXRjaGVzIGZvciB2aWV3cyBpbnNlcnRlZCBpbiB0aGlzIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGRlY2xhcmF0aW9uTENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gZGVjbGFyYXRpb25MQ29udGFpbmVyW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW1iZWRkZWRMVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXSA9PT0gZW1iZWRkZWRMVmlld1tQQVJFTlRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0UXVlcnlSZXN1bHRzKGVtYmVkZGVkTFZpZXdbVFZJRVddLCBlbWJlZGRlZExWaWV3LCBjaGlsZFF1ZXJ5SW5kZXgsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdCBtYXRjaGVzIGZvciB2aWV3cyBjcmVhdGVkIGZyb20gdGhpcyBkZWNsYXJhdGlvbiBjb250YWluZXIgYW5kIGluc2VydGVkIGludG9cbiAgICAgICAgICAgICAgICAvLyBkaWZmZXJlbnQgY29udGFpbmVyc1xuICAgICAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkxDb250YWluZXJbTU9WRURfVklFV1NdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXdzID0gZGVjbGFyYXRpb25MQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbWJlZGRlZExWaWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGVtYmVkZGVkTFZpZXdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFF1ZXJ5UmVzdWx0cyhlbWJlZGRlZExWaWV3W1RWSUVXXSwgZW1iZWRkZWRMVmlldywgY2hpbGRRdWVyeUluZGV4LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFJlZnJlc2hlcyBhIHF1ZXJ5IGJ5IGNvbWJpbmluZyBtYXRjaGVzIGZyb20gYWxsIGFjdGl2ZSB2aWV3cyBhbmQgcmVtb3ZpbmcgbWF0Y2hlcyBmcm9tIGRlbGV0ZWRcbiAqIHZpZXdzLlxuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiBhIHF1ZXJ5IGdvdCBkaXJ0eSBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbiBvciBpZiB0aGlzIGlzIGEgc3RhdGljIHF1ZXJ5XG4gKiByZXNvbHZpbmcgaW4gY3JlYXRpb24gbW9kZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXF1ZXJ5UmVmcmVzaChxdWVyeUxpc3QpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IHF1ZXJ5SW5kZXggPSBnZXRDdXJyZW50UXVlcnlJbmRleCgpO1xuICAgIHNldEN1cnJlbnRRdWVyeUluZGV4KHF1ZXJ5SW5kZXggKyAxKTtcbiAgICBjb25zdCB0UXVlcnkgPSBnZXRUUXVlcnkodFZpZXcsIHF1ZXJ5SW5kZXgpO1xuICAgIGlmIChxdWVyeUxpc3QuZGlydHkgJiZcbiAgICAgICAgKGlzQ3JlYXRpb25Nb2RlKGxWaWV3KSA9PT1cbiAgICAgICAgICAgICgodFF1ZXJ5Lm1ldGFkYXRhLmZsYWdzICYgMiAvKiBpc1N0YXRpYyAqLykgPT09IDIgLyogaXNTdGF0aWMgKi8pKSkge1xuICAgICAgICBpZiAodFF1ZXJ5Lm1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5TGlzdC5yZXNldChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0UXVlcnkuY3Jvc3Nlc05nVGVtcGxhdGUgP1xuICAgICAgICAgICAgICAgIGNvbGxlY3RRdWVyeVJlc3VsdHModFZpZXcsIGxWaWV3LCBxdWVyeUluZGV4LCBbXSkgOlxuICAgICAgICAgICAgICAgIG1hdGVyaWFsaXplVmlld1Jlc3VsdHModFZpZXcsIGxWaWV3LCB0UXVlcnksIHF1ZXJ5SW5kZXgpO1xuICAgICAgICAgICAgcXVlcnlMaXN0LnJlc2V0KHJlc3VsdCwgdW53cmFwRWxlbWVudFJlZik7XG4gICAgICAgICAgICBxdWVyeUxpc3Qubm90aWZ5T25DaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBuZXcgUXVlcnlMaXN0LCBzdG9yZXMgdGhlIHJlZmVyZW5jZSBpbiBMVmlldyBhbmQgcmV0dXJucyBRdWVyeUxpc3QuXG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSBUaGUgdHlwZSBmb3Igd2hpY2ggdGhlIHF1ZXJ5IHdpbGwgc2VhcmNoXG4gKiBAcGFyYW0gZmxhZ3MgRmxhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBxdWVyeVxuICogQHBhcmFtIHJlYWQgV2hhdCB0byBzYXZlIGluIHRoZSBxdWVyeVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV2aWV3UXVlcnkocHJlZGljYXRlLCBmbGFncywgcmVhZCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIoZmxhZ3MsICdFeHBlY3RpbmcgZmxhZ3MnKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBjcmVhdGVUUXVlcnkodFZpZXcsIG5ldyBUUXVlcnlNZXRhZGF0YV8ocHJlZGljYXRlLCBmbGFncywgcmVhZCksIC0xKTtcbiAgICAgICAgaWYgKChmbGFncyAmIDIgLyogaXNTdGF0aWMgKi8pID09PSAyIC8qIGlzU3RhdGljICovKSB7XG4gICAgICAgICAgICB0Vmlldy5zdGF0aWNWaWV3UXVlcmllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTFF1ZXJ5KHRWaWV3LCBnZXRMVmlldygpLCBmbGFncyk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIFF1ZXJ5TGlzdCwgYXNzb2NpYXRlZCB3aXRoIGEgY29udGVudCBxdWVyeSwgZm9yIGxhdGVyIHJlZnJlc2ggKHBhcnQgb2YgYSB2aWV3XG4gKiByZWZyZXNoKS5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggQ3VycmVudCBkaXJlY3RpdmUgaW5kZXhcbiAqIEBwYXJhbSBwcmVkaWNhdGUgVGhlIHR5cGUgZm9yIHdoaWNoIHRoZSBxdWVyeSB3aWxsIHNlYXJjaFxuICogQHBhcmFtIGZsYWdzIEZsYWdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcXVlcnlcbiAqIEBwYXJhbSByZWFkIFdoYXQgdG8gc2F2ZSBpbiB0aGUgcXVlcnlcbiAqIEByZXR1cm5zIFF1ZXJ5TGlzdDxUPlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjb250ZW50UXVlcnkoZGlyZWN0aXZlSW5kZXgsIHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKGZsYWdzLCAnRXhwZWN0aW5nIGZsYWdzJyk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICAgICAgY3JlYXRlVFF1ZXJ5KHRWaWV3LCBuZXcgVFF1ZXJ5TWV0YWRhdGFfKHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpLCB0Tm9kZS5pbmRleCk7XG4gICAgICAgIHNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCh0VmlldywgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICBpZiAoKGZsYWdzICYgMiAvKiBpc1N0YXRpYyAqLykgPT09IDIgLyogaXNTdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIHRWaWV3LnN0YXRpY0NvbnRlbnRRdWVyaWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVMUXVlcnkodFZpZXcsIGdldExWaWV3KCksIGZsYWdzKTtcbn1cbi8qKlxuICogTG9hZHMgYSBRdWVyeUxpc3QgY29ycmVzcG9uZGluZyB0byB0aGUgY3VycmVudCB2aWV3IG9yIGNvbnRlbnQgcXVlcnkuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWxvYWRRdWVyeSgpIHtcbiAgICByZXR1cm4gbG9hZFF1ZXJ5SW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0Q3VycmVudFF1ZXJ5SW5kZXgoKSk7XG59XG5mdW5jdGlvbiBsb2FkUXVlcnlJbnRlcm5hbChsVmlldywgcXVlcnlJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnREZWZpbmVkKGxWaWV3W1FVRVJJRVNdLCAnTFF1ZXJpZXMgc2hvdWxkIGJlIGRlZmluZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCBhIHF1ZXJ5Jyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlld1tRVUVSSUVTXS5xdWVyaWVzLCBxdWVyeUluZGV4KTtcbiAgICByZXR1cm4gbFZpZXdbUVVFUklFU10ucXVlcmllc1txdWVyeUluZGV4XS5xdWVyeUxpc3Q7XG59XG5mdW5jdGlvbiBjcmVhdGVMUXVlcnkodFZpZXcsIGxWaWV3LCBmbGFncykge1xuICAgIGNvbnN0IHF1ZXJ5TGlzdCA9IG5ldyBRdWVyeUxpc3QoKGZsYWdzICYgNCAvKiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seSAqLykgPT09IDQgLyogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgKi8pO1xuICAgIHN0b3JlQ2xlYW51cFdpdGhDb250ZXh0KHRWaWV3LCBsVmlldywgcXVlcnlMaXN0LCBxdWVyeUxpc3QuZGVzdHJveSk7XG4gICAgaWYgKGxWaWV3W1FVRVJJRVNdID09PSBudWxsKVxuICAgICAgICBsVmlld1tRVUVSSUVTXSA9IG5ldyBMUXVlcmllc18oKTtcbiAgICBsVmlld1tRVUVSSUVTXS5xdWVyaWVzLnB1c2gobmV3IExRdWVyeV8ocXVlcnlMaXN0KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVUUXVlcnkodFZpZXcsIG1ldGFkYXRhLCBub2RlSW5kZXgpIHtcbiAgICBpZiAodFZpZXcucXVlcmllcyA9PT0gbnVsbClcbiAgICAgICAgdFZpZXcucXVlcmllcyA9IG5ldyBUUXVlcmllc18oKTtcbiAgICB0Vmlldy5xdWVyaWVzLnRyYWNrKG5ldyBUUXVlcnlfKG1ldGFkYXRhLCBub2RlSW5kZXgpKTtcbn1cbmZ1bmN0aW9uIHNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCh0VmlldywgZGlyZWN0aXZlSW5kZXgpIHtcbiAgICBjb25zdCB0Vmlld0NvbnRlbnRRdWVyaWVzID0gdFZpZXcuY29udGVudFF1ZXJpZXMgfHwgKHRWaWV3LmNvbnRlbnRRdWVyaWVzID0gW10pO1xuICAgIGNvbnN0IGxhc3RTYXZlZERpcmVjdGl2ZUluZGV4ID0gdFZpZXdDb250ZW50UXVlcmllcy5sZW5ndGggPyB0Vmlld0NvbnRlbnRRdWVyaWVzW3RWaWV3Q29udGVudFF1ZXJpZXMubGVuZ3RoIC0gMV0gOiAtMTtcbiAgICBpZiAoZGlyZWN0aXZlSW5kZXggIT09IGxhc3RTYXZlZERpcmVjdGl2ZUluZGV4KSB7XG4gICAgICAgIHRWaWV3Q29udGVudFF1ZXJpZXMucHVzaCh0Vmlldy5xdWVyaWVzLmxlbmd0aCAtIDEsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUUXVlcnkodFZpZXcsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcucXVlcmllcywgJ1RRdWVyaWVzIG11c3QgYmUgZGVmaW5lZCB0byByZXRyaWV2ZSBhIFRRdWVyeScpO1xuICAgIHJldHVybiB0Vmlldy5xdWVyaWVzLmdldEJ5SW5kZXgoaW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmVzIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2UgZnJvbSBgSW5qZWN0b3JgIHdoZW4gYSBsb2NhbCByZWZlcmVuY2UgaXMgcGxhY2VkIG9uIHRoZVxuICogYDxuZy10ZW1wbGF0ZT5gIGVsZW1lbnQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRlbXBsYXRlUmVmRXh0cmFjdG9yKHROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZih0Tm9kZSwgbFZpZXcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgbWFwcGluZyBvZiB0aGUgQGFuZ3VsYXIvY29yZSBBUEkgc3VyZmFjZSB1c2VkIGluIGdlbmVyYXRlZCBleHByZXNzaW9ucyB0byB0aGUgYWN0dWFsIHN5bWJvbHMuXG4gKlxuICogVGhpcyBzaG91bGQgYmUga2VwdCB1cCB0byBkYXRlIHdpdGggdGhlIHB1YmxpYyBleHBvcnRzIG9mIEBhbmd1bGFyL2NvcmUuXG4gKi9cbmNvbnN0IGFuZ3VsYXJDb3JlRW52ID0gKCgpID0+ICh7XG4gICAgJ8m1ybVhdHRyaWJ1dGUnOiDJtcm1YXR0cmlidXRlLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMic6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU0JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNCxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNSc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU3JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOCc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1ZGVmaW5lQ29tcG9uZW50JzogybXJtWRlZmluZUNvbXBvbmVudCxcbiAgICAnybXJtWRlZmluZURpcmVjdGl2ZSc6IMm1ybVkZWZpbmVEaXJlY3RpdmUsXG4gICAgJ8m1ybVkZWZpbmVJbmplY3RhYmxlJzogybXJtWRlZmluZUluamVjdGFibGUsXG4gICAgJ8m1ybVkZWZpbmVJbmplY3Rvcic6IMm1ybVkZWZpbmVJbmplY3RvcixcbiAgICAnybXJtWRlZmluZU5nTW9kdWxlJzogybXJtWRlZmluZU5nTW9kdWxlLFxuICAgICfJtcm1ZGVmaW5lUGlwZSc6IMm1ybVkZWZpbmVQaXBlLFxuICAgICfJtcm1ZGlyZWN0aXZlSW5qZWN0JzogybXJtWRpcmVjdGl2ZUluamVjdCxcbiAgICAnybXJtWdldEluaGVyaXRlZEZhY3RvcnknOiDJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSxcbiAgICAnybXJtWluamVjdCc6IMm1ybVpbmplY3QsXG4gICAgJ8m1ybVpbmplY3RBdHRyaWJ1dGUnOiDJtcm1aW5qZWN0QXR0cmlidXRlLFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnknOiDJtcm1aW52YWxpZEZhY3RvcnksXG4gICAgJ8m1ybVpbnZhbGlkRmFjdG9yeURlcCc6IMm1ybVpbnZhbGlkRmFjdG9yeURlcCxcbiAgICAnybXJtXRlbXBsYXRlUmVmRXh0cmFjdG9yJzogybXJtXRlbXBsYXRlUmVmRXh0cmFjdG9yLFxuICAgICfJtcm1TmdPbkNoYW5nZXNGZWF0dXJlJzogybXJtU5nT25DaGFuZ2VzRmVhdHVyZSxcbiAgICAnybXJtVByb3ZpZGVyc0ZlYXR1cmUnOiDJtcm1UHJvdmlkZXJzRmVhdHVyZSxcbiAgICAnybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZSc6IMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUsXG4gICAgJ8m1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUnOiDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlLFxuICAgICfJtcm1bmV4dENvbnRleHQnOiDJtcm1bmV4dENvbnRleHQsXG4gICAgJ8m1ybVuYW1lc3BhY2VIVE1MJzogybXJtW5hbWVzcGFjZUhUTUwsXG4gICAgJ8m1ybVuYW1lc3BhY2VNYXRoTUwnOiDJtcm1bmFtZXNwYWNlTWF0aE1MLFxuICAgICfJtcm1bmFtZXNwYWNlU1ZHJzogybXJtW5hbWVzcGFjZVNWRyxcbiAgICAnybXJtWVuYWJsZUJpbmRpbmdzJzogybXJtWVuYWJsZUJpbmRpbmdzLFxuICAgICfJtcm1ZGlzYWJsZUJpbmRpbmdzJzogybXJtWRpc2FibGVCaW5kaW5ncyxcbiAgICAnybXJtWVsZW1lbnRTdGFydCc6IMm1ybVlbGVtZW50U3RhcnQsXG4gICAgJ8m1ybVlbGVtZW50RW5kJzogybXJtWVsZW1lbnRFbmQsXG4gICAgJ8m1ybVlbGVtZW50JzogybXJtWVsZW1lbnQsXG4gICAgJ8m1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQnOiDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0LFxuICAgICfJtcm1ZWxlbWVudENvbnRhaW5lckVuZCc6IMm1ybVlbGVtZW50Q29udGFpbmVyRW5kLFxuICAgICfJtcm1ZWxlbWVudENvbnRhaW5lcic6IMm1ybVlbGVtZW50Q29udGFpbmVyLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMCc6IMm1ybVwdXJlRnVuY3Rpb24wLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMSc6IMm1ybVwdXJlRnVuY3Rpb24xLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMic6IMm1ybVwdXJlRnVuY3Rpb24yLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMyc6IMm1ybVwdXJlRnVuY3Rpb24zLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNCc6IMm1ybVwdXJlRnVuY3Rpb240LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNSc6IMm1ybVwdXJlRnVuY3Rpb241LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNic6IMm1ybVwdXJlRnVuY3Rpb242LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNyc6IMm1ybVwdXJlRnVuY3Rpb243LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uOCc6IMm1ybVwdXJlRnVuY3Rpb244LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uVic6IMm1ybVwdXJlRnVuY3Rpb25WLFxuICAgICfJtcm1Z2V0Q3VycmVudFZpZXcnOiDJtcm1Z2V0Q3VycmVudFZpZXcsXG4gICAgJ8m1ybVyZXN0b3JlVmlldyc6IMm1ybVyZXN0b3JlVmlldyxcbiAgICAnybXJtWxpc3RlbmVyJzogybXJtWxpc3RlbmVyLFxuICAgICfJtcm1cHJvamVjdGlvbic6IMm1ybVwcm9qZWN0aW9uLFxuICAgICfJtcm1c3ludGhldGljSG9zdFByb3BlcnR5JzogybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSxcbiAgICAnybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcic6IMm1ybVzeW50aGV0aWNIb3N0TGlzdGVuZXIsXG4gICAgJ8m1ybVwaXBlQmluZDEnOiDJtcm1cGlwZUJpbmQxLFxuICAgICfJtcm1cGlwZUJpbmQyJzogybXJtXBpcGVCaW5kMixcbiAgICAnybXJtXBpcGVCaW5kMyc6IMm1ybVwaXBlQmluZDMsXG4gICAgJ8m1ybVwaXBlQmluZDQnOiDJtcm1cGlwZUJpbmQ0LFxuICAgICfJtcm1cGlwZUJpbmRWJzogybXJtXBpcGVCaW5kVixcbiAgICAnybXJtXByb2plY3Rpb25EZWYnOiDJtcm1cHJvamVjdGlvbkRlZixcbiAgICAnybXJtWhvc3RQcm9wZXJ0eSc6IMm1ybVob3N0UHJvcGVydHksXG4gICAgJ8m1ybVwcm9wZXJ0eSc6IMm1ybVwcm9wZXJ0eSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxLFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTInOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlMyc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMyxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNic6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNixcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlVic6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVixcbiAgICAnybXJtXBpcGUnOiDJtcm1cGlwZSxcbiAgICAnybXJtXF1ZXJ5UmVmcmVzaCc6IMm1ybVxdWVyeVJlZnJlc2gsXG4gICAgJ8m1ybV2aWV3UXVlcnknOiDJtcm1dmlld1F1ZXJ5LFxuICAgICfJtcm1bG9hZFF1ZXJ5JzogybXJtWxvYWRRdWVyeSxcbiAgICAnybXJtWNvbnRlbnRRdWVyeSc6IMm1ybVjb250ZW50UXVlcnksXG4gICAgJ8m1ybVyZWZlcmVuY2UnOiDJtcm1cmVmZXJlbmNlLFxuICAgICfJtcm1Y2xhc3NNYXAnOiDJtcm1Y2xhc3NNYXAsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlMSc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlMSxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNCc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNCxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU1JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNyc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNyxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVzdHlsZU1hcCc6IMm1ybVzdHlsZU1hcCxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxJzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxLFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTInOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlMyc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlMyxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNic6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNixcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlVic6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlVixcbiAgICAnybXJtXN0eWxlUHJvcCc6IMm1ybVzdHlsZVByb3AsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyJzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMixcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlMyc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlNic6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTcnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlVic6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVjbGFzc1Byb3AnOiDJtcm1Y2xhc3NQcm9wLFxuICAgICfJtcm1YWR2YW5jZSc6IMm1ybVhZHZhbmNlLFxuICAgICfJtcm1dGVtcGxhdGUnOiDJtcm1dGVtcGxhdGUsXG4gICAgJ8m1ybV0ZXh0JzogybXJtXRleHQsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGUnOiDJtcm1dGV4dEludGVycG9sYXRlLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlMSc6IMm1ybV0ZXh0SW50ZXJwb2xhdGUxLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlMic6IMm1ybV0ZXh0SW50ZXJwb2xhdGUyLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlMyc6IMm1ybV0ZXh0SW50ZXJwb2xhdGUzLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNCc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU0LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNSc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU1LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNic6IMm1ybV0ZXh0SW50ZXJwb2xhdGU2LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNyc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU3LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlOCc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU4LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlVic6IMm1ybV0ZXh0SW50ZXJwb2xhdGVWLFxuICAgICfJtcm1aTE4bic6IMm1ybVpMThuLFxuICAgICfJtcm1aTE4bkF0dHJpYnV0ZXMnOiDJtcm1aTE4bkF0dHJpYnV0ZXMsXG4gICAgJ8m1ybVpMThuRXhwJzogybXJtWkxOG5FeHAsXG4gICAgJ8m1ybVpMThuU3RhcnQnOiDJtcm1aTE4blN0YXJ0LFxuICAgICfJtcm1aTE4bkVuZCc6IMm1ybVpMThuRW5kLFxuICAgICfJtcm1aTE4bkFwcGx5JzogybXJtWkxOG5BcHBseSxcbiAgICAnybXJtWkxOG5Qb3N0cHJvY2Vzcyc6IMm1ybVpMThuUG9zdHByb2Nlc3MsXG4gICAgJ8m1ybVyZXNvbHZlV2luZG93JzogybXJtXJlc29sdmVXaW5kb3csXG4gICAgJ8m1ybVyZXNvbHZlRG9jdW1lbnQnOiDJtcm1cmVzb2x2ZURvY3VtZW50LFxuICAgICfJtcm1cmVzb2x2ZUJvZHknOiDJtcm1cmVzb2x2ZUJvZHksXG4gICAgJ8m1ybVzZXRDb21wb25lbnRTY29wZSc6IMm1ybVzZXRDb21wb25lbnRTY29wZSxcbiAgICAnybXJtXNldE5nTW9kdWxlU2NvcGUnOiDJtcm1c2V0TmdNb2R1bGVTY29wZSxcbiAgICAnybXJtXNhbml0aXplSHRtbCc6IMm1ybVzYW5pdGl6ZUh0bWwsXG4gICAgJ8m1ybVzYW5pdGl6ZVN0eWxlJzogybXJtXNhbml0aXplU3R5bGUsXG4gICAgJ8m1ybVzYW5pdGl6ZVJlc291cmNlVXJsJzogybXJtXNhbml0aXplUmVzb3VyY2VVcmwsXG4gICAgJ8m1ybVzYW5pdGl6ZVNjcmlwdCc6IMm1ybVzYW5pdGl6ZVNjcmlwdCxcbiAgICAnybXJtXNhbml0aXplVXJsJzogybXJtXNhbml0aXplVXJsLFxuICAgICfJtcm1c2FuaXRpemVVcmxPclJlc291cmNlVXJsJzogybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCxcbiAgICAnybXJtXRydXN0Q29uc3RhbnRIdG1sJzogybXJtXRydXN0Q29uc3RhbnRIdG1sLFxuICAgICfJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsJzogybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCxcbiAgICAnZm9yd2FyZFJlZic6IGZvcndhcmRSZWYsXG4gICAgJ3Jlc29sdmVGb3J3YXJkUmVmJzogcmVzb2x2ZUZvcndhcmRSZWYsXG59KSkoKTtcblxubGV0IGppdE9wdGlvbnMgPSBudWxsO1xuZnVuY3Rpb24gc2V0Sml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKGppdE9wdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb24gIT09IGppdE9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb24pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb3ZpZGVkIHZhbHVlIGZvciBgZGVmYXVsdEVuY2Fwc3VsYXRpb25gIGNhbiBub3QgYmUgY2hhbmdlZCBvbmNlIGl0IGhhcyBiZWVuIHNldC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzICE9PSBqaXRPcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZXMpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb3ZpZGVkIHZhbHVlIGZvciBgcHJlc2VydmVXaGl0ZXNwYWNlc2AgY2FuIG5vdCBiZSBjaGFuZ2VkIG9uY2UgaXQgaGFzIGJlZW4gc2V0LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGppdE9wdGlvbnMgPSBvcHRpb25zO1xufVxuZnVuY3Rpb24gZ2V0Sml0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gaml0T3B0aW9ucztcbn1cbmZ1bmN0aW9uIHJlc2V0Sml0T3B0aW9ucygpIHtcbiAgICBqaXRPcHRpb25zID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBtb2R1bGVRdWV1ZSA9IFtdO1xuLyoqXG4gKiBFbnF1ZXVlcyBtb2R1bGVEZWYgdG8gYmUgY2hlY2tlZCBsYXRlciB0byBzZWUgaWYgc2NvcGUgY2FuIGJlIHNldCBvbiBpdHNcbiAqIGNvbXBvbmVudCBkZWNsYXJhdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGVucXVldWVNb2R1bGVGb3JEZWxheWVkU2NvcGluZyhtb2R1bGVUeXBlLCBuZ01vZHVsZSkge1xuICAgIG1vZHVsZVF1ZXVlLnB1c2goeyBtb2R1bGVUeXBlLCBuZ01vZHVsZSB9KTtcbn1cbmxldCBmbHVzaGluZ01vZHVsZVF1ZXVlID0gZmFsc2U7XG4vKipcbiAqIExvb3BzIG92ZXIgcXVldWVkIG1vZHVsZSBkZWZpbml0aW9ucywgaWYgYSBnaXZlbiBtb2R1bGUgZGVmaW5pdGlvbiBoYXMgYWxsIG9mIGl0c1xuICogZGVjbGFyYXRpb25zIHJlc29sdmVkLCBpdCBkZXF1ZXVlcyB0aGF0IG1vZHVsZSBkZWZpbml0aW9uIGFuZCBzZXRzIHRoZSBzY29wZSBvblxuICogaXRzIGRlY2xhcmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlKCkge1xuICAgIGlmICghZmx1c2hpbmdNb2R1bGVRdWV1ZSkge1xuICAgICAgICBmbHVzaGluZ01vZHVsZVF1ZXVlID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBtb2R1bGVRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlVHlwZSwgbmdNb2R1bGUgfSA9IG1vZHVsZVF1ZXVlW2ldO1xuICAgICAgICAgICAgICAgIGlmIChuZ01vZHVsZS5kZWNsYXJhdGlvbnMgJiYgbmdNb2R1bGUuZGVjbGFyYXRpb25zLmV2ZXJ5KGlzUmVzb2x2ZWREZWNsYXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVxdWV1ZVxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVRdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGZsdXNoaW5nTW9kdWxlUXVldWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0cnV0aHkgaWYgYSBkZWNsYXJhdGlvbiBoYXMgcmVzb2x2ZWQuIElmIHRoZSBkZWNsYXJhdGlvbiBoYXBwZW5zIHRvIGJlXG4gKiBhbiBhcnJheSBvZiBkZWNsYXJhdGlvbnMsIGl0IHdpbGwgcmVjdXJzZSB0byBjaGVjayBlYWNoIGRlY2xhcmF0aW9uIGluIHRoYXQgYXJyYXlcbiAqICh3aGljaCBtYXkgYWxzbyBiZSBhcnJheXMpLlxuICovXG5mdW5jdGlvbiBpc1Jlc29sdmVkRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWNsYXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uLmV2ZXJ5KGlzUmVzb2x2ZWREZWNsYXJhdGlvbik7XG4gICAgfVxuICAgIHJldHVybiAhIXJlc29sdmVGb3J3YXJkUmVmKGRlY2xhcmF0aW9uKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBtb2R1bGUgaW4gSklUIG1vZGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhdXRvbWF0aWNhbGx5IGdldHMgY2FsbGVkIHdoZW4gYSBjbGFzcyBoYXMgYSBgQE5nTW9kdWxlYCBkZWNvcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZShtb2R1bGVUeXBlLCBuZ01vZHVsZSA9IHt9KSB7XG4gICAgY29tcGlsZU5nTW9kdWxlRGVmcyhtb2R1bGVUeXBlLCBuZ01vZHVsZSk7XG4gICAgLy8gQmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIGFsbCBkZWNsYXJhdGlvbnMgaGF2ZSByZXNvbHZlZCB5ZXQgYXQgdGhlIG1vbWVudCB0aGVcbiAgICAvLyBOZ01vZHVsZSBkZWNvcmF0b3IgaXMgZXhlY3V0aW5nLCB3ZSdyZSBlbnF1ZXVlaW5nIHRoZSBzZXR0aW5nIG9mIG1vZHVsZSBzY29wZVxuICAgIC8vIG9uIGl0cyBkZWNsYXJhdGlvbnMgdG8gYmUgcnVuIGF0IGEgbGF0ZXIgdGltZSB3aGVuIGFsbCBkZWNsYXJhdGlvbnMgZm9yIHRoZSBtb2R1bGUsXG4gICAgLy8gaW5jbHVkaW5nIGZvcndhcmQgcmVmcywgaGF2ZSByZXNvbHZlZC5cbiAgICBlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmcobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhbmQgYWRkcyB0aGUgYMm1bW9kYCwgYMm1ZmFjYCBhbmQgYMm1aW5qYCBwcm9wZXJ0aWVzIHRvIHRoZSBtb2R1bGUgY2xhc3MuXG4gKlxuICogSXQncyBwb3NzaWJsZSB0byBjb21waWxlIGEgbW9kdWxlIHZpYSB0aGlzIEFQSSB3aGljaCB3aWxsIGFsbG93IGR1cGxpY2F0ZSBkZWNsYXJhdGlvbnMgaW4gaXRzXG4gKiByb290LlxuICovXG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGVEZWZzKG1vZHVsZVR5cGUsIG5nTW9kdWxlLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCA9IGZhbHNlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobW9kdWxlVHlwZSwgJ1JlcXVpcmVkIHZhbHVlIG1vZHVsZVR5cGUnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZSwgJ1JlcXVpcmVkIHZhbHVlIG5nTW9kdWxlJyk7XG4gICAgY29uc3QgZGVjbGFyYXRpb25zID0gZmxhdHRlbihuZ01vZHVsZS5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVkpO1xuICAgIGxldCBuZ01vZHVsZURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZVR5cGUsIE5HX01PRF9ERUYsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ01vZHVsZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgbmdNb2R1bGUuaW1wb3J0cyAmJiBuZ01vZHVsZS5pbXBvcnRzLmluZGV4T2YobW9kdWxlVHlwZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGFzc2VydCB0aGlzIGltbWVkaWF0ZWx5LCBiZWNhdXNlIGFsbG93aW5nIGl0IHRvIGNvbnRpbnVlIHdpbGwgY2F1c2UgaXQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gZ28gaW50byBhbiBpbmZpbml0ZSBsb29wIGJlZm9yZSB3ZSd2ZSByZWFjaGVkIHRoZSBwb2ludCB3aGVyZSB3ZSB0aHJvdyBhbGwgdGhlIGVycm9ycy5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtzdHJpbmdpZnlGb3JFcnJvcihtb2R1bGVUeXBlKX0nIG1vZHVsZSBjYW4ndCBpbXBvcnQgaXRzZWxmYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdNb2R1bGVEZWYgPSBjb21waWxlci5jb21waWxlTmdNb2R1bGUoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21vZHVsZVR5cGUubmFtZX0vybVtb2QuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcDogZmxhdHRlbihuZ01vZHVsZS5ib290c3RyYXAgfHwgRU1QVFlfQVJSQVkpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IGZsYXR0ZW4obmdNb2R1bGUuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAocmVzb2x2ZUZvcndhcmRSZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGV4cGFuZE1vZHVsZVdpdGhQcm92aWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBmbGF0dGVuKG5nTW9kdWxlLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVkpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc29sdmVGb3J3YXJkUmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogbmdNb2R1bGUuc2NoZW1hcyA/IGZsYXR0ZW4obmdNb2R1bGUuc2NoZW1hcykgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpZDogbmdNb2R1bGUuaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgYHNjaGVtYXNgIG9uIG5nTW9kdWxlRGVmIHRvIGFuIGVtcHR5IGFycmF5IGluIEpJVCBtb2RlIHRvIGluZGljYXRlIHRoYXQgcnVudGltZVxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCB2ZXJpZnkgdGhhdCB0aGVyZSBhcmUgbm8gdW5rbm93biBlbGVtZW50cyBpbiBhIHRlbXBsYXRlLiBJbiBBT1QgbW9kZSwgdGhhdCBjaGVja1xuICAgICAgICAgICAgICAgIC8vIGhhcHBlbnMgYXQgY29tcGlsZSB0aW1lIGFuZCBgc2NoZW1hc2AgaW5mb3JtYXRpb24gaXMgbm90IHByZXNlbnQgb24gQ29tcG9uZW50IGFuZCBNb2R1bGVcbiAgICAgICAgICAgICAgICAvLyBkZWZzIGFmdGVyIGNvbXBpbGF0aW9uIChzbyB0aGUgY2hlY2sgZG9lc24ndCBoYXBwZW4gdGhlIHNlY29uZCB0aW1lIGF0IHJ1bnRpbWUpLlxuICAgICAgICAgICAgICAgIGlmICghbmdNb2R1bGVEZWYuc2NoZW1hcykge1xuICAgICAgICAgICAgICAgICAgICBuZ01vZHVsZURlZi5zY2hlbWFzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nTW9kdWxlRGVmO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZVR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21vZHVsZVR5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1vZHVsZVR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kdWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyhtb2R1bGVUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG4gICAgbGV0IG5nSW5qZWN0b3JEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGVUeXBlLCBOR19JTkpfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nSW5qZWN0b3JEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2R1bGVUeXBlLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbW9kdWxlVHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IG5nTW9kdWxlLnByb3ZpZGVycyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgKG5nTW9kdWxlLmltcG9ydHMgfHwgRU1QVFlfQVJSQVkpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgICAgICAobmdNb2R1bGUuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWSkubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdJbmplY3RvckRlZiA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmNvbXBpbGVJbmplY3Rvcihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bW9kdWxlVHlwZS5uYW1lfS/JtWluai5qc2AsIG1ldGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nSW5qZWN0b3JEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKG1vZHVsZVR5cGUsIGFsbG93RHVwbGljYXRlRGVjbGFyYXRpb25zSW5Sb290LCBpbXBvcnRpbmdNb2R1bGUpIHtcbiAgICBpZiAodmVyaWZpZWROZ01vZHVsZS5nZXQobW9kdWxlVHlwZSkpXG4gICAgICAgIHJldHVybjtcbiAgICB2ZXJpZmllZE5nTW9kdWxlLnNldChtb2R1bGVUeXBlLCB0cnVlKTtcbiAgICBtb2R1bGVUeXBlID0gcmVzb2x2ZUZvcndhcmRSZWYobW9kdWxlVHlwZSk7XG4gICAgbGV0IG5nTW9kdWxlRGVmO1xuICAgIGlmIChpbXBvcnRpbmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgaWYgKCFuZ01vZHVsZURlZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHZhbHVlICcke21vZHVsZVR5cGUubmFtZX0nIGltcG9ydGVkIGJ5IHRoZSBtb2R1bGUgJyR7aW1wb3J0aW5nTW9kdWxlLm5hbWV9Jy4gUGxlYXNlIGFkZCBhbiBATmdNb2R1bGUgYW5ub3RhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlLCB0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3QgZGVjbGFyYXRpb25zID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5kZWNsYXJhdGlvbnMpO1xuICAgIGNvbnN0IGltcG9ydHMgPSBtYXliZVVud3JhcEZuKG5nTW9kdWxlRGVmLmltcG9ydHMpO1xuICAgIGZsYXR0ZW4oaW1wb3J0cykubWFwKHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKS5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVJbXBvcnQobW9kLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2QsIGZhbHNlLCBtb2R1bGVUeXBlKTtcbiAgICB9KTtcbiAgICBjb25zdCBleHBvcnRzID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5leHBvcnRzKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlEZWNsYXJhdGlvbnNIYXZlRGVmaW5pdGlvbnMpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKHZlcmlmeURpcmVjdGl2ZXNIYXZlU2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvbWJpbmVkRGVjbGFyYXRpb25zID0gW1xuICAgICAgICAuLi5kZWNsYXJhdGlvbnMubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgLi4uZmxhdHRlbihpbXBvcnRzLm1hcChjb21wdXRlQ29tYmluZWRFeHBvcnRzKSkubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICBdO1xuICAgIGV4cG9ydHMuZm9yRWFjaCh2ZXJpZnlFeHBvcnRzQXJlRGVjbGFyZWRPclJlRXhwb3J0ZWQpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKGRlY2wgPT4gdmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZShkZWNsLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCkpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKHZlcmlmeUNvbXBvbmVudEVudHJ5Q29tcG9uZW50c0lzUGFydE9mTmdNb2R1bGUpO1xuICAgIGNvbnN0IG5nTW9kdWxlID0gZ2V0QW5ub3RhdGlvbihtb2R1bGVUeXBlLCAnTmdNb2R1bGUnKTtcbiAgICBpZiAobmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGUuaW1wb3J0cyAmJlxuICAgICAgICAgICAgZmxhdHRlbihuZ01vZHVsZS5pbXBvcnRzKS5tYXAodW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHMpLmZvckVhY2gobW9kID0+IHtcbiAgICAgICAgICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0KG1vZCwgbW9kdWxlVHlwZSk7XG4gICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2QsIGZhbHNlLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBuZ01vZHVsZS5ib290c3RyYXAgJiYgZGVlcEZvckVhY2gobmdNb2R1bGUuYm9vdHN0cmFwLCB2ZXJpZnlDb3JyZWN0Qm9vdHN0cmFwVHlwZSk7XG4gICAgICAgIG5nTW9kdWxlLmJvb3RzdHJhcCAmJiBkZWVwRm9yRWFjaChuZ01vZHVsZS5ib290c3RyYXAsIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUpO1xuICAgICAgICBuZ01vZHVsZS5lbnRyeUNvbXBvbmVudHMgJiZcbiAgICAgICAgICAgIGRlZXBGb3JFYWNoKG5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cywgdmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgfVxuICAgIC8vIFRocm93IEVycm9yIGlmIGFueSBlcnJvcnMgd2VyZSBkZXRlY3RlZC5cbiAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgZnVuY3Rpb24gdmVyaWZ5RGVjbGFyYXRpb25zSGF2ZURlZmluaXRpb25zKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBkZWYgPSBnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpIHx8IGdldFBpcGVEZWYkMSh0eXBlKTtcbiAgICAgICAgaWYgKCFkZWYpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBVbmV4cGVjdGVkIHZhbHVlICcke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfScgZGVjbGFyZWQgYnkgdGhlIG1vZHVsZSAnJHtzdHJpbmdpZnlGb3JFcnJvcihtb2R1bGVUeXBlKX0nLiBQbGVhc2UgYWRkIGEgQFBpcGUvQERpcmVjdGl2ZS9AQ29tcG9uZW50IGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5RGlyZWN0aXZlc0hhdmVTZWxlY3Rvcih0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZGVmID0gZ2V0RGlyZWN0aXZlRGVmKHR5cGUpO1xuICAgICAgICBpZiAoIWdldENvbXBvbmVudERlZih0eXBlKSAmJiBkZWYgJiYgZGVmLnNlbGVjdG9ycy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYERpcmVjdGl2ZSAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBoYXMgbm8gc2VsZWN0b3IsIHBsZWFzZSBhZGQgaXQhYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5RXhwb3J0c0FyZURlY2xhcmVkT3JSZUV4cG9ydGVkKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBraW5kID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpICYmICdjb21wb25lbnQnIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSAmJiAnZGlyZWN0aXZlJyB8fFxuICAgICAgICAgICAgZ2V0UGlwZURlZiQxKHR5cGUpICYmICdwaXBlJztcbiAgICAgICAgaWYgKGtpbmQpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgY2hlY2tlZCBpZiB3ZSBhcmUgZGVjbGFyZWQgYXMgQ29tcG9uZW50LCBEaXJlY3RpdmUsIG9yIFBpcGVcbiAgICAgICAgICAgIC8vIE1vZHVsZXMgZG9uJ3QgbmVlZCB0byBiZSBkZWNsYXJlZCBvciBpbXBvcnRlZC5cbiAgICAgICAgICAgIGlmIChjb21iaW5lZERlY2xhcmF0aW9ucy5sYXN0SW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgZXhwb3J0aW5nIHNvbWV0aGluZyB3aGljaCB3ZSBkb24ndCBleHBsaWNpdGx5IGRlY2xhcmUgb3IgaW1wb3J0LlxuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBDYW4ndCBleHBvcnQgJHtraW5kfSAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBmcm9tICR7c3RyaW5naWZ5Rm9yRXJyb3IobW9kdWxlVHlwZSl9IGFzIGl0IHdhcyBuZWl0aGVyIGRlY2xhcmVkIG5vciBpbXBvcnRlZCFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlEZWNsYXJhdGlvbklzVW5pcXVlKHR5cGUsIHN1cHByZXNzRXJyb3JzKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdNb2R1bGUgPSBvd25lck5nTW9kdWxlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nTW9kdWxlICYmIGV4aXN0aW5nTW9kdWxlICE9PSBtb2R1bGVUeXBlKSB7XG4gICAgICAgICAgICBpZiAoIXN1cHByZXNzRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlcyA9IFtleGlzdGluZ01vZHVsZSwgbW9kdWxlVHlwZV0ubWFwKHN0cmluZ2lmeUZvckVycm9yKS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYFR5cGUgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gaXMgcGFydCBvZiB0aGUgZGVjbGFyYXRpb25zIG9mIDIgbW9kdWxlczogJHttb2R1bGVzWzBdfSBhbmQgJHttb2R1bGVzWzFdfSEgYCArXG4gICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgY29uc2lkZXIgbW92aW5nICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IHRvIGEgaGlnaGVyIG1vZHVsZSB0aGF0IGltcG9ydHMgJHttb2R1bGVzWzBdfSBhbmQgJHttb2R1bGVzWzFdfS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBZb3UgY2FuIGFsc28gY3JlYXRlIGEgbmV3IE5nTW9kdWxlIHRoYXQgZXhwb3J0cyBhbmQgaW5jbHVkZXMgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gdGhlbiBpbXBvcnQgdGhhdCBOZ01vZHVsZSBpbiAke21vZHVsZXNbMF19IGFuZCAke21vZHVsZXNbMV19LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFyayB0eXBlIGFzIGhhdmluZyBvd25lci5cbiAgICAgICAgICAgIG93bmVyTmdNb2R1bGUuc2V0KHR5cGUsIG1vZHVsZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kdWxlID0gb3duZXJOZ01vZHVsZS5nZXQodHlwZSk7XG4gICAgICAgIGlmICghZXhpc3RpbmdNb2R1bGUpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBDb21wb25lbnQgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gaXMgbm90IHBhcnQgb2YgYW55IE5nTW9kdWxlIG9yIHRoZSBtb2R1bGUgaGFzIG5vdCBiZWVuIGltcG9ydGVkIGludG8geW91ciBtb2R1bGUuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5Q29ycmVjdEJvb3RzdHJhcFR5cGUodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGlmICghZ2V0Q29tcG9uZW50RGVmKHR5cGUpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gY2Fubm90IGJlIHVzZWQgYXMgYW4gZW50cnkgY29tcG9uZW50LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUNvbXBvbmVudEVudHJ5Q29tcG9uZW50c0lzUGFydE9mTmdNb2R1bGUodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGlmIChnZXRDb21wb25lbnREZWYodHlwZSkpIHtcbiAgICAgICAgICAgIC8vIFdlIGtub3cgd2UgYXJlIGNvbXBvbmVudFxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZ2V0QW5ub3RhdGlvbih0eXBlLCAnQ29tcG9uZW50Jyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5lbnRyeUNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICBkZWVwRm9yRWFjaChjb21wb25lbnQuZW50cnlDb21wb25lbnRzLCB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0KHR5cGUsIGltcG9ydGluZ01vZHVsZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGlmIChnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZGlyZWN0aXZlICcke3R5cGUubmFtZX0nIGltcG9ydGVkIGJ5IHRoZSBtb2R1bGUgJyR7aW1wb3J0aW5nTW9kdWxlLm5hbWV9Jy4gUGxlYXNlIGFkZCBhbiBATmdNb2R1bGUgYW5ub3RhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGlwZURlZiQxKHR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcGlwZSAnJHt0eXBlLm5hbWV9JyBpbXBvcnRlZCBieSB0aGUgbW9kdWxlICcke2ltcG9ydGluZ01vZHVsZS5uYW1lfScuIFBsZWFzZSBhZGQgYW4gQE5nTW9kdWxlIGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB1bndyYXBNb2R1bGVXaXRoUHJvdmlkZXJzSW1wb3J0cyh0eXBlT3JXaXRoUHJvdmlkZXJzKSB7XG4gICAgdHlwZU9yV2l0aFByb3ZpZGVycyA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGVPcldpdGhQcm92aWRlcnMpO1xuICAgIHJldHVybiB0eXBlT3JXaXRoUHJvdmlkZXJzLm5nTW9kdWxlIHx8IHR5cGVPcldpdGhQcm92aWRlcnM7XG59XG5mdW5jdGlvbiBnZXRBbm5vdGF0aW9uKHR5cGUsIG5hbWUpIHtcbiAgICBsZXQgYW5ub3RhdGlvbiA9IG51bGw7XG4gICAgY29sbGVjdCh0eXBlLl9fYW5ub3RhdGlvbnNfXyk7XG4gICAgY29sbGVjdCh0eXBlLmRlY29yYXRvcnMpO1xuICAgIHJldHVybiBhbm5vdGF0aW9uO1xuICAgIGZ1bmN0aW9uIGNvbGxlY3QoYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgaWYgKGFubm90YXRpb25zKSB7XG4gICAgICAgICAgICBhbm5vdGF0aW9ucy5mb3JFYWNoKHJlYWRBbm5vdGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQW5ub3RhdGlvbihkZWNvcmF0b3IpIHtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWNvcmF0b3IpO1xuICAgICAgICAgICAgaWYgKHByb3RvLm5nTWV0YWRhdGFOYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uID0gZGVjb3JhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVjb3JhdG9yLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWNvcmF0b3IudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3RvLm5nTWV0YWRhdGFOYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbiA9IGRlY29yYXRvci5hcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogS2VlcCB0cmFjayBvZiBjb21waWxlZCBjb21wb25lbnRzLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIGluIHRlc3RzIHdlIG9mdGVuIHdhbnQgdG8gY29tcGlsZSB0aGVcbiAqIHNhbWUgY29tcG9uZW50IHdpdGggbW9yZSB0aGFuIG9uZSBOZ01vZHVsZS4gVGhpcyB3b3VsZCBjYXVzZSBhbiBlcnJvciB1bmxlc3Mgd2UgcmVzZXQgd2hpY2hcbiAqIE5nTW9kdWxlIHRoZSBjb21wb25lbnQgYmVsb25ncyB0by4gV2Uga2VlcCB0aGUgbGlzdCBvZiBjb21waWxlZCBjb21wb25lbnRzIGhlcmUgc28gdGhhdCB0aGVcbiAqIFRlc3RCZWQgY2FuIHJlc2V0IGl0IGxhdGVyLlxuICovXG5sZXQgb3duZXJOZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgdmVyaWZpZWROZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiByZXNldENvbXBpbGVkQ29tcG9uZW50cygpIHtcbiAgICBvd25lck5nTW9kdWxlID0gbmV3IFdlYWtNYXAoKTtcbiAgICB2ZXJpZmllZE5nTW9kdWxlID0gbmV3IFdlYWtNYXAoKTtcbiAgICBtb2R1bGVRdWV1ZS5sZW5ndGggPSAwO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY29tYmluZWQgZGVjbGFyYXRpb25zIG9mIGV4cGxpY2l0IGRlY2xhcmF0aW9ucywgYXMgd2VsbCBhcyBkZWNsYXJhdGlvbnMgaW5oZXJpdGVkIGJ5XG4gKiB0cmF2ZXJzaW5nIHRoZSBleHBvcnRzIG9mIGltcG9ydGVkIG1vZHVsZXMuXG4gKiBAcGFyYW0gdHlwZVxuICovXG5mdW5jdGlvbiBjb21wdXRlQ29tYmluZWRFeHBvcnRzKHR5cGUpIHtcbiAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgY29uc3QgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZih0eXBlLCB0cnVlKTtcbiAgICByZXR1cm4gWy4uLmZsYXR0ZW4obWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5leHBvcnRzKS5tYXAoKHR5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYodHlwZSk7XG4gICAgICAgICAgICBpZiAobmdNb2R1bGVEZWYpIHtcbiAgICAgICAgICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKHR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyh0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSldO1xufVxuLyoqXG4gKiBTb21lIGRlY2xhcmVkIGNvbXBvbmVudHMgbWF5IGJlIGNvbXBpbGVkIGFzeW5jaHJvbm91c2x5LCBhbmQgdGh1cyBtYXkgbm90IGhhdmUgdGhlaXJcbiAqIMm1Y21wIHNldCB5ZXQuIElmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZW4gYSByZWZlcmVuY2UgdG8gdGhlIG1vZHVsZSBpcyB3cml0dGVuIGludG9cbiAqIHRoZSBgbmdTZWxlY3RvclNjb3BlYCBwcm9wZXJ0eSBvZiB0aGUgZGVjbGFyZWQgdHlwZS5cbiAqL1xuZnVuY3Rpb24gc2V0U2NvcGVPbkRlY2xhcmVkQ29tcG9uZW50cyhtb2R1bGVUeXBlLCBuZ01vZHVsZSkge1xuICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IGZsYXR0ZW4obmdNb2R1bGUuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZKTtcbiAgICBjb25zdCB0cmFuc2l0aXZlU2NvcGVzID0gdHJhbnNpdGl2ZVNjb3Blc0Zvcihtb2R1bGVUeXBlKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaChkZWNsYXJhdGlvbiA9PiB7XG4gICAgICAgIGlmIChkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19DT01QX0RFRikpIHtcbiAgICAgICAgICAgIC8vIEEgYMm1Y21wYCBmaWVsZCBleGlzdHMgLSBnbyBhaGVhZCBhbmQgcGF0Y2ggdGhlIGNvbXBvbmVudCBkaXJlY3RseS5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRlY2xhcmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudCk7XG4gICAgICAgICAgICBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZShjb21wb25lbnREZWYsIHRyYW5zaXRpdmVTY29wZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19ESVJfREVGKSAmJiAhZGVjbGFyYXRpb24uaGFzT3duUHJvcGVydHkoTkdfUElQRV9ERUYpKSB7XG4gICAgICAgICAgICAvLyBTZXQgYG5nU2VsZWN0b3JTY29wZWAgZm9yIGZ1dHVyZSByZWZlcmVuY2Ugd2hlbiB0aGUgY29tcG9uZW50IGNvbXBpbGF0aW9uIGZpbmlzaGVzLlxuICAgICAgICAgICAgZGVjbGFyYXRpb24ubmdTZWxlY3RvclNjb3BlID0gbW9kdWxlVHlwZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBQYXRjaCB0aGUgZGVmaW5pdGlvbiBvZiBhIGNvbXBvbmVudCB3aXRoIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGZyb20gdGhlIGNvbXBpbGF0aW9uIHNjb3BlIG9mXG4gKiBhIGdpdmVuIG1vZHVsZS5cbiAqL1xuZnVuY3Rpb24gcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUoY29tcG9uZW50RGVmLCB0cmFuc2l0aXZlU2NvcGVzKSB7XG4gICAgY29tcG9uZW50RGVmLmRpcmVjdGl2ZURlZnMgPSAoKSA9PiBBcnJheS5mcm9tKHRyYW5zaXRpdmVTY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcylcbiAgICAgICAgLm1hcChkaXIgPT4gZGlyLmhhc093blByb3BlcnR5KE5HX0NPTVBfREVGKSA/IGdldENvbXBvbmVudERlZihkaXIpIDogZ2V0RGlyZWN0aXZlRGVmKGRpcikpXG4gICAgICAgIC5maWx0ZXIoZGVmID0+ICEhZGVmKTtcbiAgICBjb21wb25lbnREZWYucGlwZURlZnMgPSAoKSA9PiBBcnJheS5mcm9tKHRyYW5zaXRpdmVTY29wZXMuY29tcGlsYXRpb24ucGlwZXMpLm1hcChwaXBlID0+IGdldFBpcGVEZWYkMShwaXBlKSk7XG4gICAgY29tcG9uZW50RGVmLnNjaGVtYXMgPSB0cmFuc2l0aXZlU2NvcGVzLnNjaGVtYXM7XG4gICAgLy8gU2luY2Ugd2UgYXZvaWQgQ29tcG9uZW50cy9EaXJlY3RpdmVzL1BpcGVzIHJlY29tcGlsaW5nIGluIGNhc2UgdGhlcmUgYXJlIG5vIG92ZXJyaWRlcywgd2VcbiAgICAvLyBtYXkgZmFjZSBhIHByb2JsZW0gd2hlcmUgcHJldmlvdXNseSBjb21waWxlZCBkZWZzIGF2YWlsYWJsZSB0byBhIGdpdmVuIENvbXBvbmVudC9EaXJlY3RpdmVcbiAgICAvLyBhcmUgY2FjaGVkIGluIFRWaWV3IGFuZCBtYXkgYmVjb21lIHN0YWxlIChpbiBjYXNlIGFueSBvZiB0aGVzZSBkZWZzIGdldHMgcmVjb21waWxlZCkuIEluXG4gICAgLy8gb3JkZXIgdG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBmb3JjZSBmcmVzaCBUVmlldyB0byBiZSBjcmVhdGVkLlxuICAgIGNvbXBvbmVudERlZi50VmlldyA9IG51bGw7XG59XG4vKipcbiAqIENvbXB1dGUgdGhlIHBhaXIgb2YgdHJhbnNpdGl2ZSBzY29wZXMgKGNvbXBpbGF0aW9uIHNjb3BlIGFuZCBleHBvcnRlZCBzY29wZSkgZm9yIGEgZ2l2ZW4gbW9kdWxlLlxuICpcbiAqIFRoaXMgb3BlcmF0aW9uIGlzIG1lbW9pemVkIGFuZCB0aGUgcmVzdWx0IGlzIGNhY2hlZCBvbiB0aGUgbW9kdWxlJ3MgZGVmaW5pdGlvbi4gVGhpcyBmdW5jdGlvbiBjYW5cbiAqIGJlIGNhbGxlZCBvbiBtb2R1bGVzIHdpdGggY29tcG9uZW50cyB0aGF0IGhhdmUgbm90IGZ1bGx5IGNvbXBpbGVkIHlldCwgYnV0IHRoZSByZXN1bHQgc2hvdWxkIG5vdFxuICogYmUgdXNlZCB1bnRpbCB0aGV5IGhhdmUuXG4gKlxuICogQHBhcmFtIG1vZHVsZVR5cGUgbW9kdWxlIHRoYXQgdHJhbnNpdGl2ZSBzY29wZSBzaG91bGQgYmUgY2FsY3VsYXRlZCBmb3IuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zaXRpdmVTY29wZXNGb3IobW9kdWxlVHlwZSkge1xuICAgIGlmICghaXNOZ01vZHVsZShtb2R1bGVUeXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bW9kdWxlVHlwZS5uYW1lfSBkb2VzIG5vdCBoYXZlIGEgbW9kdWxlIGRlZiAoybVtb2QgcHJvcGVydHkpYCk7XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgIGlmIChkZWYudHJhbnNpdGl2ZUNvbXBpbGVTY29wZXMgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcztcbiAgICB9XG4gICAgY29uc3Qgc2NvcGVzID0ge1xuICAgICAgICBzY2hlbWFzOiBkZWYuc2NoZW1hcyB8fCBudWxsLFxuICAgICAgICBjb21waWxhdGlvbjoge1xuICAgICAgICAgICAgZGlyZWN0aXZlczogbmV3IFNldCgpLFxuICAgICAgICAgICAgcGlwZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgfSxcbiAgICAgICAgZXhwb3J0ZWQ6IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHBpcGVzOiBuZXcgU2V0KCksXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBtYXliZVVud3JhcEZuKGRlZi5pbXBvcnRzKS5mb3JFYWNoKChpbXBvcnRlZCkgPT4ge1xuICAgICAgICBjb25zdCBpbXBvcnRlZFR5cGUgPSBpbXBvcnRlZDtcbiAgICAgICAgaWYgKCFpc05nTW9kdWxlKGltcG9ydGVkVHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW1wb3J0aW5nICR7aW1wb3J0ZWRUeXBlLm5hbWV9IHdoaWNoIGRvZXMgbm90IGhhdmUgYSDJtW1vZCBwcm9wZXJ0eWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhpcyBtb2R1bGUgaW1wb3J0cyBhbm90aGVyLCB0aGUgaW1wb3J0ZWQgbW9kdWxlJ3MgZXhwb3J0ZWQgZGlyZWN0aXZlcyBhbmQgcGlwZXMgYXJlXG4gICAgICAgIC8vIGFkZGVkIHRvIHRoZSBjb21waWxhdGlvbiBzY29wZSBvZiB0aGlzIG1vZHVsZS5cbiAgICAgICAgY29uc3QgaW1wb3J0ZWRTY29wZSA9IHRyYW5zaXRpdmVTY29wZXNGb3IoaW1wb3J0ZWRUeXBlKTtcbiAgICAgICAgaW1wb3J0ZWRTY29wZS5leHBvcnRlZC5kaXJlY3RpdmVzLmZvckVhY2goZW50cnkgPT4gc2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KSk7XG4gICAgICAgIGltcG9ydGVkU2NvcGUuZXhwb3J0ZWQucGlwZXMuZm9yRWFjaChlbnRyeSA9PiBzY29wZXMuY29tcGlsYXRpb24ucGlwZXMuYWRkKGVudHJ5KSk7XG4gICAgfSk7XG4gICAgbWF5YmVVbndyYXBGbihkZWYuZGVjbGFyYXRpb25zKS5mb3JFYWNoKGRlY2xhcmVkID0+IHtcbiAgICAgICAgY29uc3QgZGVjbGFyZWRXaXRoRGVmcyA9IGRlY2xhcmVkO1xuICAgICAgICBpZiAoZ2V0UGlwZURlZiQxKGRlY2xhcmVkV2l0aERlZnMpKSB7XG4gICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24ucGlwZXMuYWRkKGRlY2xhcmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEVpdGhlciBkZWNsYXJlZCBoYXMgYSDJtWNtcCBvciDJtWRpciwgb3IgaXQncyBhIGNvbXBvbmVudCB3aGljaCBoYXNuJ3RcbiAgICAgICAgICAgIC8vIGhhZCBpdHMgdGVtcGxhdGUgY29tcGlsZWQgeWV0LiBJbiBlaXRoZXIgY2FzZSwgaXQgZ2V0cyBhZGRlZCB0byB0aGUgY29tcGlsYXRpb24nc1xuICAgICAgICAgICAgLy8gZGlyZWN0aXZlcy5cbiAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChkZWNsYXJlZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtYXliZVVud3JhcEZuKGRlZi5leHBvcnRzKS5mb3JFYWNoKChleHBvcnRlZCkgPT4ge1xuICAgICAgICBjb25zdCBleHBvcnRlZFR5cGUgPSBleHBvcnRlZDtcbiAgICAgICAgLy8gRWl0aGVyIHRoZSB0eXBlIGlzIGEgbW9kdWxlLCBhIHBpcGUsIG9yIGEgY29tcG9uZW50L2RpcmVjdGl2ZSAod2hpY2ggbWF5IG5vdCBoYXZlIGFcbiAgICAgICAgLy8gybVjbXAgYXMgaXQgbWlnaHQgYmUgY29tcGlsZWQgYXN5bmNocm9ub3VzbHkpLlxuICAgICAgICBpZiAoaXNOZ01vZHVsZShleHBvcnRlZFR5cGUpKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoaXMgbW9kdWxlIGV4cG9ydHMgYW5vdGhlciwgdGhlIGV4cG9ydGVkIG1vZHVsZSdzIGV4cG9ydGVkIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGFyZVxuICAgICAgICAgICAgLy8gYWRkZWQgdG8gYm90aCB0aGUgY29tcGlsYXRpb24gYW5kIGV4cG9ydGVkIHNjb3BlcyBvZiB0aGlzIG1vZHVsZS5cbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydGVkU2NvcGUgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKGV4cG9ydGVkVHlwZSk7XG4gICAgICAgICAgICBleHBvcnRlZFNjb3BlLmV4cG9ydGVkLmRpcmVjdGl2ZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQuZGlyZWN0aXZlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBvcnRlZFNjb3BlLmV4cG9ydGVkLnBpcGVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5waXBlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5waXBlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2V0UGlwZURlZiQxKGV4cG9ydGVkVHlwZSkpIHtcbiAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5waXBlcy5hZGQoZXhwb3J0ZWRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5kaXJlY3RpdmVzLmFkZChleHBvcnRlZFR5cGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZGVmLnRyYW5zaXRpdmVDb21waWxlU2NvcGVzID0gc2NvcGVzO1xuICAgIHJldHVybiBzY29wZXM7XG59XG5mdW5jdGlvbiBleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKHZhbHVlKSB7XG4gICAgaWYgKGlzTW9kdWxlV2l0aFByb3ZpZGVycyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm5nTW9kdWxlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBpc01vZHVsZVdpdGhQcm92aWRlcnModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUubmdNb2R1bGUgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzTmdNb2R1bGUodmFsdWUpIHtcbiAgICByZXR1cm4gISFnZXROZ01vZHVsZURlZih2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIHRoZSBjb21waWxhdGlvbiBkZXB0aCB0byBhdm9pZCByZWVudHJhbmN5IGlzc3VlcyBkdXJpbmcgSklUIGNvbXBpbGF0aW9uLiBUaGlzXG4gKiBtYXR0ZXJzIGluIHRoZSBmb2xsb3dpbmcgc2NlbmFyaW86XG4gKlxuICogQ29uc2lkZXIgYSBjb21wb25lbnQgJ0EnIHRoYXQgZXh0ZW5kcyBjb21wb25lbnQgJ0InLCBib3RoIGRlY2xhcmVkIGluIG1vZHVsZSAnTScuIER1cmluZ1xuICogdGhlIGNvbXBpbGF0aW9uIG9mICdBJyB0aGUgZGVmaW5pdGlvbiBvZiAnQicgaXMgcmVxdWVzdGVkIHRvIGNhcHR1cmUgdGhlIGluaGVyaXRhbmNlIGNoYWluLFxuICogcG90ZW50aWFsbHkgdHJpZ2dlcmluZyBjb21waWxhdGlvbiBvZiAnQicuIElmIHRoaXMgbmVzdGVkIGNvbXBpbGF0aW9uIHdlcmUgdG8gdHJpZ2dlclxuICogYGZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZWAgaXQgbWF5IGhhcHBlbiB0aGF0IG1vZHVsZSAnTScgaXMgc3RpbGwgcGVuZGluZyBpbiB0aGVcbiAqIHF1ZXVlLCByZXN1bHRpbmcgaW4gJ0EnIGFuZCAnQicgdG8gYmUgcGF0Y2hlZCB3aXRoIHRoZSBOZ01vZHVsZSBzY29wZS4gQXMgdGhlIGNvbXBpbGF0aW9uIG9mXG4gKiAnQScgaXMgc3RpbGwgaW4gcHJvZ3Jlc3MsIHRoaXMgd291bGQgaW50cm9kdWNlIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBvbiBpdHMgY29tcGlsYXRpb24uIFRvIGF2b2lkXG4gKiB0aGlzIGlzc3VlLCB0aGUgbW9kdWxlIHNjb3BlIHF1ZXVlIGlzIG9ubHkgZmx1c2hlZCBmb3IgY29tcGlsYXRpb25zIGF0IHRoZSBkZXB0aCAwLCB0byBlbnN1cmVcbiAqIGFsbCBjb21waWxhdGlvbnMgaGF2ZSBmaW5pc2hlZC5cbiAqL1xubGV0IGNvbXBpbGF0aW9uRGVwdGggPSAwO1xuLyoqXG4gKiBDb21waWxlIGFuIEFuZ3VsYXIgY29tcG9uZW50IGFjY29yZGluZyB0byBpdHMgZGVjb3JhdG9yIG1ldGFkYXRhLCBhbmQgcGF0Y2ggdGhlIHJlc3VsdGluZ1xuICogY29tcG9uZW50IGRlZiAoybVjbXApIG9udG8gdGhlIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIENvbXBpbGF0aW9uIG1heSBiZSBhc3luY2hyb25vdXMgKGR1ZSB0byB0aGUgbmVlZCB0byByZXNvbHZlIFVSTHMgZm9yIHRoZSBjb21wb25lbnQgdGVtcGxhdGUgb3JcbiAqIG90aGVyIHJlc291cmNlcywgZm9yIGV4YW1wbGUpLiBJbiB0aGUgZXZlbnQgdGhhdCBjb21waWxhdGlvbiBpcyBub3QgaW1tZWRpYXRlLCBgY29tcGlsZUNvbXBvbmVudGBcbiAqIHdpbGwgZW5xdWV1ZSByZXNvdXJjZSByZXNvbHV0aW9uIGludG8gYSBnbG9iYWwgcXVldWUgYW5kIHdpbGwgZmFpbCB0byByZXR1cm4gdGhlIGDJtWNtcGBcbiAqIHVudGlsIHRoZSBnbG9iYWwgcXVldWUgaGFzIGJlZW4gcmVzb2x2ZWQgd2l0aCBhIGNhbGwgdG8gYHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXNgLlxuICovXG5mdW5jdGlvbiBjb21waWxlQ29tcG9uZW50KHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBuZ0Rldk1vZGUuIFRoaXMgbXVzdCBiZSB0aGUgZmlyc3Qgc3RhdGVtZW50IGluIGNvbXBpbGVDb21wb25lbnQuXG4gICAgLy8gU2VlIHRoZSBgaW5pdE5nRGV2TW9kZWAgZG9jc3RyaW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKTtcbiAgICBsZXQgbmdDb21wb25lbnREZWYgPSBudWxsO1xuICAgIC8vIE1ldGFkYXRhIG1heSBoYXZlIHJlc291cmNlcyB3aGljaCBuZWVkIHRvIGJlIHJlc29sdmVkLlxuICAgIG1heWJlUXVldWVSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXModHlwZSwgbWV0YWRhdGEpO1xuICAgIC8vIE5vdGUgdGhhdCB3ZSdyZSB1c2luZyB0aGUgc2FtZSBmdW5jdGlvbiBhcyBgRGlyZWN0aXZlYCwgYmVjYXVzZSB0aGF0J3Mgb25seSBzdWJzZXQgb2YgbWV0YWRhdGFcbiAgICAvLyB0aGF0IHdlIG5lZWQgdG8gY3JlYXRlIHRoZSBuZ0ZhY3RvcnlEZWYuIFdlJ3JlIGF2b2lkaW5nIHVzaW5nIHRoZSBjb21wb25lbnQgbWV0YWRhdGFcbiAgICAvLyBiZWNhdXNlIHdlJ2QgaGF2ZSB0byByZXNvbHZlIHRoZSBhc3luY2hyb25vdXMgdGVtcGxhdGVzLlxuICAgIGFkZERpcmVjdGl2ZUZhY3RvcnlEZWYodHlwZSwgbWV0YWRhdGEpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19DT01QX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0NvbXBvbmVudERlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdjb21wb25lbnQnLCB0eXBlOiB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnROZWVkc1Jlc29sdXRpb24obWV0YWRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gW2BDb21wb25lbnQgJyR7dHlwZS5uYW1lfScgaXMgbm90IHJlc29sdmVkOmBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goYCAtIHRlbXBsYXRlVXJsOiAke21ldGFkYXRhLnRlbXBsYXRlVXJsfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YS5zdHlsZVVybHMgJiYgbWV0YWRhdGEuc3R5bGVVcmxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChgIC0gc3R5bGVVcmxzOiAke0pTT04uc3RyaW5naWZ5KG1ldGFkYXRhLnN0eWxlVXJscyl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChgRGlkIHlvdSBydW4gYW5kIHdhaXQgZm9yICdyZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKCknP2ApO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3Iuam9pbignXFxuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbnN0IHdhcyBjYWxsZWQgYGppdE9wdGlvbnNgIHByZXZpb3VzbHkgYnV0IGhhZCB0byBiZSByZW5hbWVkIHRvIGBvcHRpb25zYCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gb2YgYSBidWcgd2l0aCBUZXJzZXIgdGhhdCBjYXVzZWQgb3B0aW1pemVkIEpJVCBidWlsZHMgdG8gdGhyb3cgYSBgUmVmZXJlbmNlRXJyb3JgLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYnVnIHdhcyBpbnZlc3RpZ2F0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci1jbGkvaXNzdWVzLzE3MjY0LlxuICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBub3QgcmVuYW1lIGl0IGJhY2sgdW50aWwgaHR0cHM6Ly9naXRodWIuY29tL3RlcnNlci90ZXJzZXIvaXNzdWVzLzYxNSBpcyBmaXhlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0Sml0T3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIGxldCBwcmVzZXJ2ZVdoaXRlc3BhY2VzID0gbWV0YWRhdGEucHJlc2VydmVXaGl0ZXNwYWNlcztcbiAgICAgICAgICAgICAgICBpZiAocHJlc2VydmVXaGl0ZXNwYWNlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2VzID0gb3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBlbmNhcHN1bGF0aW9uID0gbWV0YWRhdGEuZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoZW5jYXBzdWxhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9IG9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNhcHN1bGF0aW9uID0gVmlld0VuY2Fwc3VsYXRpb24kMS5FbXVsYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZVVybCA9IG1ldGFkYXRhLnRlbXBsYXRlVXJsIHx8IGBuZzovLy8ke3R5cGUubmFtZX0vdGVtcGxhdGUuaHRtbGA7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlU291cmNlU3BhbjogY29tcGlsZXIuY3JlYXRlUGFyc2VTb3VyY2VTcGFuKCdDb21wb25lbnQnLCB0eXBlLm5hbWUsIHRlbXBsYXRlVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IG1ldGFkYXRhLnRlbXBsYXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2VzLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IG1ldGFkYXRhLnN0eWxlcyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uczogbWV0YWRhdGEuYW5pbWF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogbWV0YWRhdGEuY2hhbmdlRGV0ZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBwaXBlczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICBlbmNhcHN1bGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uOiBtZXRhZGF0YS5pbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2aWV3UHJvdmlkZXJzOiBtZXRhZGF0YS52aWV3UHJvdmlkZXJzIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb21waWxhdGlvbkRlcHRoKys7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGEudXNlc0luaGVyaXRhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyh0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZ0NvbXBvbmVudERlZiA9IGNvbXBpbGVyLmNvbXBpbGVDb21wb25lbnQoYW5ndWxhckNvcmVFbnYsIHRlbXBsYXRlVXJsLCBtZXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBjb21waWxhdGlvbiBkZXB0aCBpcyBkZWNyZW1lbnRlZCBldmVuIHdoZW4gdGhlIGNvbXBpbGF0aW9uIGZhaWxlZC5cbiAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb25EZXB0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tcGlsYXRpb25EZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIE5nTW9kdWxlIGRlY29yYXRvciBleGVjdXRlZCwgd2UgZW5xdWV1ZWQgdGhlIG1vZHVsZSBkZWZpbml0aW9uIHN1Y2ggdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyBpdCB3b3VsZCBvbmx5IGRlcXVldWUgYW5kIGFkZCBpdHNlbGYgYXMgbW9kdWxlIHNjb3BlIHRvIGFsbCBvZiBpdHMgZGVjbGFyYXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgb25seSBpZiAgaWYgYWxsIG9mIGl0cyBkZWNsYXJhdGlvbnMgaGFkIHJlc29sdmVkLiBUaGlzIGNhbGwgcnVucyB0aGUgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gc2VlIGlmIGFueSBtb2R1bGVzIHRoYXQgYXJlIGluIHRoZSBxdWV1ZSBjYW4gYmUgZGVxdWV1ZWQgYW5kIGFkZCBzY29wZSB0b1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVpciBkZWNsYXJhdGlvbnMuXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBjb21wb25lbnQgY29tcGlsYXRpb24gaXMgYXN5bmMsIHRoZW4gdGhlIEBOZ01vZHVsZSBhbm5vdGF0aW9uIHdoaWNoIGRlY2xhcmVzIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgZXhlY3V0ZSBhbmQgc2V0IGFuIG5nU2VsZWN0b3JTY29wZSBwcm9wZXJ0eSBvbiB0aGUgY29tcG9uZW50IHR5cGUuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbXBvbmVudCB0byBwYXRjaCBpdHNlbGYgd2l0aCBkaXJlY3RpdmVEZWZzIGZyb20gdGhlIG1vZHVsZSBhZnRlciBpdFxuICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVzIGNvbXBpbGluZy5cbiAgICAgICAgICAgICAgICBpZiAoaGFzU2VsZWN0b3JTY29wZSh0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZXMgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKHR5cGUubmdTZWxlY3RvclNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUobmdDb21wb25lbnREZWYsIHNjb3Blcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nQ29tcG9uZW50RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gaGFzU2VsZWN0b3JTY29wZShjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50Lm5nU2VsZWN0b3JTY29wZSAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBDb21waWxlIGFuIEFuZ3VsYXIgZGlyZWN0aXZlIGFjY29yZGluZyB0byBpdHMgZGVjb3JhdG9yIG1ldGFkYXRhLCBhbmQgcGF0Y2ggdGhlIHJlc3VsdGluZ1xuICogZGlyZWN0aXZlIGRlZiBvbnRvIHRoZSBjb21wb25lbnQgdHlwZS5cbiAqXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCBjb21waWxhdGlvbiBpcyBub3QgaW1tZWRpYXRlLCBgY29tcGlsZURpcmVjdGl2ZWAgd2lsbCByZXR1cm4gYSBgUHJvbWlzZWAgd2hpY2hcbiAqIHdpbGwgcmVzb2x2ZSB3aGVuIGNvbXBpbGF0aW9uIGNvbXBsZXRlcyBhbmQgdGhlIGRpcmVjdGl2ZSBiZWNvbWVzIHVzYWJsZS5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZURpcmVjdGl2ZSh0eXBlLCBkaXJlY3RpdmUpIHtcbiAgICBsZXQgbmdEaXJlY3RpdmVEZWYgPSBudWxsO1xuICAgIGFkZERpcmVjdGl2ZUZhY3RvcnlEZWYodHlwZSwgZGlyZWN0aXZlIHx8IHt9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfRElSX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0RpcmVjdGl2ZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGBkaXJlY3RpdmVgIGNhbiBiZSBudWxsIGluIHRoZSBjYXNlIG9mIGFic3RyYWN0IGRpcmVjdGl2ZXMgYXMgYSBiYXNlIGNsYXNzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB1c2UgYEBEaXJlY3RpdmUoKWAgd2l0aCBubyBzZWxlY3Rvci4gSW4gdGhhdCBjYXNlLCBwYXNzIGVtcHR5IG9iamVjdCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBgZGlyZWN0aXZlTWV0YWRhdGFgIGZ1bmN0aW9uIGluc3RlYWQgb2YgbnVsbC5cbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gZ2V0RGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgZGlyZWN0aXZlIHx8IHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0RpcmVjdGl2ZURlZiA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmNvbXBpbGVEaXJlY3RpdmUoYW5ndWxhckNvcmVFbnYsIG1ldGEuc291cmNlTWFwVXJsLCBtZXRhLm1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0RpcmVjdGl2ZURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgY29uc3QgbmFtZSA9IHR5cGUgJiYgdHlwZS5uYW1lO1xuICAgIGNvbnN0IHNvdXJjZU1hcFVybCA9IGBuZzovLy8ke25hbWV9L8m1ZGlyLmpzYDtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZSB9KTtcbiAgICBjb25zdCBmYWNhZGUgPSBkaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSk7XG4gICAgZmFjYWRlLnR5cGVTb3VyY2VTcGFuID0gY29tcGlsZXIuY3JlYXRlUGFyc2VTb3VyY2VTcGFuKCdEaXJlY3RpdmUnLCBuYW1lLCBzb3VyY2VNYXBVcmwpO1xuICAgIGlmIChmYWNhZGUudXNlc0luaGVyaXRhbmNlKSB7XG4gICAgICAgIGFkZERpcmVjdGl2ZURlZlRvVW5kZWNvcmF0ZWRQYXJlbnRzKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXRhZGF0YTogZmFjYWRlLCBzb3VyY2VNYXBVcmwgfTtcbn1cbmZ1bmN0aW9uIGFkZERpcmVjdGl2ZUZhY3RvcnlEZWYodHlwZSwgbWV0YWRhdGEpIHtcbiAgICBsZXQgbmdGYWN0b3J5RGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfRkFDVE9SWV9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdGYWN0b3J5RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGdldERpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0ZhY3RvcnlEZWYgPSBjb21waWxlci5jb21waWxlRmFjdG9yeShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7dHlwZS5uYW1lfS/JtWZhYy5qc2AsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWV0YS5tZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZXRhLm1ldGFkYXRhLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBpbGVyLkZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdGYWN0b3J5RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG4vKipcbiAqIEV4dHJhY3QgdGhlIGBSM0RpcmVjdGl2ZU1ldGFkYXRhYCBmb3IgYSBwYXJ0aWN1bGFyIGRpcmVjdGl2ZSAoZWl0aGVyIGEgYERpcmVjdGl2ZWAgb3IgYVxuICogYENvbXBvbmVudGApLlxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSkge1xuICAgIC8vIFJlZmxlY3QgaW5wdXRzIGFuZCBvdXRwdXRzLlxuICAgIGNvbnN0IHJlZmxlY3QgPSBnZXRSZWZsZWN0KCk7XG4gICAgY29uc3QgcHJvcE1ldGFkYXRhID0gcmVmbGVjdC5vd25Qcm9wTWV0YWRhdGEodHlwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBzZWxlY3RvcjogbWV0YWRhdGEuc2VsZWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFkYXRhLnNlbGVjdG9yIDogbnVsbCxcbiAgICAgICAgaG9zdDogbWV0YWRhdGEuaG9zdCB8fCBFTVBUWV9PQkosXG4gICAgICAgIHByb3BNZXRhZGF0YTogcHJvcE1ldGFkYXRhLFxuICAgICAgICBpbnB1dHM6IG1ldGFkYXRhLmlucHV0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgb3V0cHV0czogbWV0YWRhdGEub3V0cHV0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgcXVlcmllczogZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzQ29udGVudFF1ZXJ5KSxcbiAgICAgICAgbGlmZWN5Y2xlOiB7IHVzZXNPbkNoYW5nZXM6IHJlZmxlY3QuaGFzTGlmZWN5Y2xlSG9vayh0eXBlLCAnbmdPbkNoYW5nZXMnKSB9LFxuICAgICAgICB0eXBlU291cmNlU3BhbjogbnVsbCxcbiAgICAgICAgdXNlc0luaGVyaXRhbmNlOiAhZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCh0eXBlKSxcbiAgICAgICAgZXhwb3J0QXM6IGV4dHJhY3RFeHBvcnRBcyhtZXRhZGF0YS5leHBvcnRBcyksXG4gICAgICAgIHByb3ZpZGVyczogbWV0YWRhdGEucHJvdmlkZXJzIHx8IG51bGwsXG4gICAgICAgIHZpZXdRdWVyaWVzOiBleHRyYWN0UXVlcmllc01ldGFkYXRhKHR5cGUsIHByb3BNZXRhZGF0YSwgaXNWaWV3UXVlcnkpXG4gICAgfTtcbn1cbi8qKlxuICogQWRkcyBhIGRpcmVjdGl2ZSBkZWZpbml0aW9uIHRvIGFsbCBwYXJlbnQgY2xhc3NlcyBvZiBhIHR5cGUgdGhhdCBkb24ndCBoYXZlIGFuIEFuZ3VsYXIgZGVjb3JhdG9yLlxuICovXG5mdW5jdGlvbiBhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyh0eXBlKSB7XG4gICAgY29uc3Qgb2JqUHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICBsZXQgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtcbiAgICAvLyBHbyB1cCB0aGUgcHJvdG90eXBlIHVudGlsIHdlIGhpdCBgT2JqZWN0YC5cbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gb2JqUHJvdG90eXBlKSB7XG4gICAgICAgIC8vIFNpbmNlIGluaGVyaXRhbmNlIHdvcmtzIGlmIHRoZSBjbGFzcyB3YXMgYW5ub3RhdGVkIGFscmVhZHksIHdlIG9ubHkgbmVlZCB0byBhZGRcbiAgICAgICAgLy8gdGhlIGRlZiBpZiB0aGVyZSBhcmUgbm8gYW5ub3RhdGlvbnMgYW5kIHRoZSBkZWYgaGFzbid0IGJlZW4gY3JlYXRlZCBhbHJlYWR5LlxuICAgICAgICBpZiAoIWdldERpcmVjdGl2ZURlZihwYXJlbnQpICYmICFnZXRDb21wb25lbnREZWYocGFyZW50KSAmJlxuICAgICAgICAgICAgc2hvdWxkQWRkQWJzdHJhY3REaXJlY3RpdmUocGFyZW50KSkge1xuICAgICAgICAgICAgY29tcGlsZURpcmVjdGl2ZShwYXJlbnQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1IzUXVlcnlQcmVkaWNhdGUoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJyA/IHNwbGl0QnlDb21tYShzZWxlY3RvcikgOiByZXNvbHZlRm9yd2FyZFJlZihzZWxlY3Rvcik7XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9SM1F1ZXJ5TWV0YWRhdGEocHJvcGVydHlOYW1lLCBhbm4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSxcbiAgICAgICAgcHJlZGljYXRlOiBjb252ZXJ0VG9SM1F1ZXJ5UHJlZGljYXRlKGFubi5zZWxlY3RvciksXG4gICAgICAgIGRlc2NlbmRhbnRzOiBhbm4uZGVzY2VuZGFudHMsXG4gICAgICAgIGZpcnN0OiBhbm4uZmlyc3QsXG4gICAgICAgIHJlYWQ6IGFubi5yZWFkID8gYW5uLnJlYWQgOiBudWxsLFxuICAgICAgICBzdGF0aWM6ICEhYW5uLnN0YXRpYyxcbiAgICAgICAgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk6ICEhYW5uLmVtaXREaXN0aW5jdENoYW5nZXNPbmx5LFxuICAgIH07XG59XG5mdW5jdGlvbiBleHRyYWN0UXVlcmllc01ldGFkYXRhKHR5cGUsIHByb3BNZXRhZGF0YSwgaXNRdWVyeUFubikge1xuICAgIGNvbnN0IHF1ZXJpZXNNZXRhID0gW107XG4gICAgZm9yIChjb25zdCBmaWVsZCBpbiBwcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKHByb3BNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25zID0gcHJvcE1ldGFkYXRhW2ZpZWxkXTtcbiAgICAgICAgICAgIGFubm90YXRpb25zLmZvckVhY2goYW5uID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNRdWVyeUFubihhbm4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5uLnNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGNvbnN0cnVjdCBhIHF1ZXJ5IGZvciB0aGUgcHJvcGVydHkgXCIke2ZpZWxkfVwiIG9mIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcIiR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9XCIgc2luY2UgdGhlIHF1ZXJ5IHNlbGVjdG9yIHdhc24ndCBkZWZpbmVkLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbm5vdGF0aW9ucy5zb21lKGlzSW5wdXRBbm5vdGF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29tYmluZSBASW5wdXQgZGVjb3JhdG9ycyB3aXRoIHF1ZXJ5IGRlY29yYXRvcnNgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzTWV0YS5wdXNoKGNvbnZlcnRUb1IzUXVlcnlNZXRhZGF0YShmaWVsZCwgYW5uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJpZXNNZXRhO1xufVxuZnVuY3Rpb24gZXh0cmFjdEV4cG9ydEFzKGV4cG9ydEFzKSB7XG4gICAgcmV0dXJuIGV4cG9ydEFzID09PSB1bmRlZmluZWQgPyBudWxsIDogc3BsaXRCeUNvbW1hKGV4cG9ydEFzKTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFF1ZXJ5KHZhbHVlKSB7XG4gICAgY29uc3QgbmFtZSA9IHZhbHVlLm5nTWV0YWRhdGFOYW1lO1xuICAgIHJldHVybiBuYW1lID09PSAnQ29udGVudENoaWxkJyB8fCBuYW1lID09PSAnQ29udGVudENoaWxkcmVuJztcbn1cbmZ1bmN0aW9uIGlzVmlld1F1ZXJ5KHZhbHVlKSB7XG4gICAgY29uc3QgbmFtZSA9IHZhbHVlLm5nTWV0YWRhdGFOYW1lO1xuICAgIHJldHVybiBuYW1lID09PSAnVmlld0NoaWxkJyB8fCBuYW1lID09PSAnVmlld0NoaWxkcmVuJztcbn1cbmZ1bmN0aW9uIGlzSW5wdXRBbm5vdGF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm5nTWV0YWRhdGFOYW1lID09PSAnSW5wdXQnO1xufVxuZnVuY3Rpb24gc3BsaXRCeUNvbW1hKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNwbGl0KCcsJykubWFwKHBpZWNlID0+IHBpZWNlLnRyaW0oKSk7XG59XG5jb25zdCBMSUZFQ1lDTEVfSE9PS1MgPSBbXG4gICAgJ25nT25DaGFuZ2VzJywgJ25nT25Jbml0JywgJ25nT25EZXN0cm95JywgJ25nRG9DaGVjaycsICduZ0FmdGVyVmlld0luaXQnLCAnbmdBZnRlclZpZXdDaGVja2VkJyxcbiAgICAnbmdBZnRlckNvbnRlbnRJbml0JywgJ25nQWZ0ZXJDb250ZW50Q2hlY2tlZCdcbl07XG5mdW5jdGlvbiBzaG91bGRBZGRBYnN0cmFjdERpcmVjdGl2ZSh0eXBlKSB7XG4gICAgY29uc3QgcmVmbGVjdCA9IGdldFJlZmxlY3QoKTtcbiAgICBpZiAoTElGRUNZQ0xFX0hPT0tTLnNvbWUoaG9va05hbWUgPT4gcmVmbGVjdC5oYXNMaWZlY3ljbGVIb29rKHR5cGUsIGhvb2tOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHJlZmxlY3QucHJvcE1ldGFkYXRhKHR5cGUpO1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gcHJvcE1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25zID0gcHJvcE1ldGFkYXRhW2ZpZWxkXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbm5vdGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGFubm90YXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGFOYW1lID0gY3VycmVudC5uZ01ldGFkYXRhTmFtZTtcbiAgICAgICAgICAgIGlmIChpc0lucHV0QW5ub3RhdGlvbihjdXJyZW50KSB8fCBpc0NvbnRlbnRRdWVyeShjdXJyZW50KSB8fCBpc1ZpZXdRdWVyeShjdXJyZW50KSB8fFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhTmFtZSA9PT0gJ091dHB1dCcgfHwgbWV0YWRhdGFOYW1lID09PSAnSG9zdEJpbmRpbmcnIHx8XG4gICAgICAgICAgICAgICAgbWV0YWRhdGFOYW1lID09PSAnSG9zdExpc3RlbmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBjb21waWxlUGlwZSh0eXBlLCBtZXRhKSB7XG4gICAgbGV0IG5nUGlwZURlZiA9IG51bGw7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0UGlwZU1ldGFkYXRhKHR5cGUsIG1ldGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdwaXBlJywgdHlwZTogbWV0YWRhdGEudHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0ZhY3RvcnlEZWYgPSBjb21waWxlci5jb21waWxlRmFjdG9yeShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bWV0YWRhdGEubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1ldGFkYXRhLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBpbGVyLkZhY3RvcnlUYXJnZXQuUGlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nRmFjdG9yeURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfUElQRV9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdQaXBlRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBnZXRQaXBlTWV0YWRhdGEodHlwZSwgbWV0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ3BpcGUnLCB0eXBlOiBtZXRhZGF0YS50eXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nUGlwZURlZiA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmNvbXBpbGVQaXBlKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttZXRhZGF0YS5uYW1lfS/JtXBpcGUuanNgLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdQaXBlRGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0UGlwZU1ldGFkYXRhKHR5cGUsIG1ldGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgIHBpcGVOYW1lOiBtZXRhLm5hbWUsXG4gICAgICAgIHB1cmU6IG1ldGEucHVyZSAhPT0gdW5kZWZpbmVkID8gbWV0YS5wdXJlIDogdHJ1ZVxuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUeXBlIG9mIHRoZSBEaXJlY3RpdmUgbWV0YWRhdGEuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBEaXJlY3RpdmUgPSBtYWtlRGVjb3JhdG9yKCdEaXJlY3RpdmUnLCAoZGlyID0ge30pID0+IGRpciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlRGlyZWN0aXZlKHR5cGUsIG1ldGEpKTtcbi8qKlxuICogQ29tcG9uZW50IGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ29tcG9uZW50ID0gbWFrZURlY29yYXRvcignQ29tcG9uZW50JywgKGMgPSB7fSkgPT4gKHsgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5EZWZhdWx0LCAuLi5jIH0pLCBEaXJlY3RpdmUsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVDb21wb25lbnQodHlwZSwgbWV0YSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQaXBlID0gbWFrZURlY29yYXRvcignUGlwZScsIChwKSA9PiAoeyBwdXJlOiB0cnVlLCAuLi5wIH0pLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVQaXBlKHR5cGUsIG1ldGEpKTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSW5wdXQgPSBtYWtlUHJvcERlY29yYXRvcignSW5wdXQnLCAoYmluZGluZ1Byb3BlcnR5TmFtZSkgPT4gKHsgYmluZGluZ1Byb3BlcnR5TmFtZSB9KSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE91dHB1dCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdPdXRwdXQnLCAoYmluZGluZ1Byb3BlcnR5TmFtZSkgPT4gKHsgYmluZGluZ1Byb3BlcnR5TmFtZSB9KSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEhvc3RCaW5kaW5nID0gbWFrZVByb3BEZWNvcmF0b3IoJ0hvc3RCaW5kaW5nJywgKGhvc3RQcm9wZXJ0eU5hbWUpID0+ICh7IGhvc3RQcm9wZXJ0eU5hbWUgfSkpO1xuLyoqXG4gKiBEZWNvcmF0b3IgdGhhdCBiaW5kcyBhIERPTSBldmVudCB0byBhIGhvc3QgbGlzdGVuZXIgYW5kIHN1cHBsaWVzIGNvbmZpZ3VyYXRpb24gbWV0YWRhdGEuXG4gKiBBbmd1bGFyIGludm9rZXMgdGhlIHN1cHBsaWVkIGhhbmRsZXIgbWV0aG9kIHdoZW4gdGhlIGhvc3QgZWxlbWVudCBlbWl0cyB0aGUgc3BlY2lmaWVkIGV2ZW50LFxuICogYW5kIHVwZGF0ZXMgdGhlIGJvdW5kIGVsZW1lbnQgd2l0aCB0aGUgcmVzdWx0LlxuICpcbiAqIElmIHRoZSBoYW5kbGVyIG1ldGhvZCByZXR1cm5zIGZhbHNlLCBhcHBsaWVzIGBwcmV2ZW50RGVmYXVsdGAgb24gdGhlIGJvdW5kIGVsZW1lbnQuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVjbGFyZXMgYSBkaXJlY3RpdmVcbiAqIHRoYXQgYXR0YWNoZXMgYSBjbGljayBsaXN0ZW5lciB0byBhIGJ1dHRvbiBhbmQgY291bnRzIGNsaWNrcy5cbiAqXG4gKiBgYGB0c1xuICogQERpcmVjdGl2ZSh7c2VsZWN0b3I6ICdidXR0b25bY291bnRpbmddJ30pXG4gKiBjbGFzcyBDb3VudENsaWNrcyB7XG4gKiAgIG51bWJlck9mQ2xpY2tzID0gMDtcbiAqXG4gKiAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJywgWyckZXZlbnQudGFyZ2V0J10pXG4gKiAgIG9uQ2xpY2soYnRuKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ2J1dHRvbicsIGJ0biwgJ251bWJlciBvZiBjbGlja3M6JywgdGhpcy5udW1iZXJPZkNsaWNrcysrKTtcbiAqICAgfVxuICogfVxuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHRlbXBsYXRlOiAnPGJ1dHRvbiBjb3VudGluZz5JbmNyZW1lbnQ8L2J1dHRvbj4nLFxuICogfSlcbiAqIGNsYXNzIEFwcCB7fVxuICpcbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSByZWdpc3RlcnMgYW5vdGhlciBET00gZXZlbnQgaGFuZGxlciB0aGF0IGxpc3RlbnMgZm9yIGBFbnRlcmAga2V5LXByZXNzXG4gKiBldmVudHMgb24gdGhlIGdsb2JhbCBgd2luZG93YC5cbiAqIGBgYCB0c1xuICogaW1wb3J0IHsgSG9zdExpc3RlbmVyLCBDb21wb25lbnQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHRlbXBsYXRlOiBgPGgxPkhlbGxvLCB5b3UgaGF2ZSBwcmVzc2VkIGVudGVyIHt7Y291bnRlcn19IG51bWJlciBvZiB0aW1lcyE8L2gxPiBQcmVzcyBlbnRlciBrZXlcbiAqIHRvIGluY3JlbWVudCB0aGUgY291bnRlci5cbiAqICAgPGJ1dHRvbiAoY2xpY2spPVwicmVzZXRDb3VudGVyKClcIj5SZXNldCBDb3VudGVyPC9idXR0b24+YFxuICogfSlcbiAqIGNsYXNzIEFwcENvbXBvbmVudCB7XG4gKiAgIGNvdW50ZXIgPSAwO1xuICogICBASG9zdExpc3RlbmVyKCd3aW5kb3c6a2V5ZG93bi5lbnRlcicsIFsnJGV2ZW50J10pXG4gKiAgIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAqICAgICB0aGlzLmNvdW50ZXIrKztcbiAqICAgfVxuICogICByZXNldENvdW50ZXIoKSB7XG4gKiAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBUaGUgbGlzdCBvZiB2YWxpZCBrZXkgbmFtZXMgZm9yIGBrZXlkb3duYCBhbmQgYGtleXVwYCBldmVudHNcbiAqIGNhbiBiZSBmb3VuZCBoZXJlOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy1rZXkvI25hbWVkLWtleS1hdHRyaWJ1dGUtdmFsdWVzXG4gKlxuICogTm90ZSB0aGF0IGtleXMgY2FuIGFsc28gYmUgY29tYmluZWQsIGUuZy4gYEBIb3N0TGlzdGVuZXIoJ2tleWRvd24uc2hpZnQuYScpYC5cbiAqXG4gKiBUaGUgZ2xvYmFsIHRhcmdldCBuYW1lcyB0aGF0IGNhbiBiZSB1c2VkIHRvIHByZWZpeCBhbiBldmVudCBuYW1lIGFyZVxuICogYGRvY3VtZW50OmAsIGB3aW5kb3c6YCBhbmQgYGJvZHk6YC5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBIb3N0TGlzdGVuZXIgPSBtYWtlUHJvcERlY29yYXRvcignSG9zdExpc3RlbmVyJywgKGV2ZW50TmFtZSwgYXJncykgPT4gKHsgZXZlbnROYW1lLCBhcmdzIH0pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE5nTW9kdWxlID0gbWFrZURlY29yYXRvcignTmdNb2R1bGUnLCAobmdNb2R1bGUpID0+IG5nTW9kdWxlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXG4vKipcbiAqIERlY29yYXRvciB0aGF0IG1hcmtzIHRoZSBmb2xsb3dpbmcgY2xhc3MgYXMgYW4gTmdNb2R1bGUsIGFuZCBzdXBwbGllc1xuICogY29uZmlndXJhdGlvbiBtZXRhZGF0YSBmb3IgaXQuXG4gKlxuICogKiBUaGUgYGRlY2xhcmF0aW9uc2AgYW5kIGBlbnRyeUNvbXBvbmVudHNgIG9wdGlvbnMgY29uZmlndXJlIHRoZSBjb21waWxlclxuICogd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJlbG9uZ3MgdG8gdGhlIE5nTW9kdWxlLlxuICogKiBUaGUgYHByb3ZpZGVyc2Agb3B0aW9ucyBjb25maWd1cmVzIHRoZSBOZ01vZHVsZSdzIGluamVjdG9yIHRvIHByb3ZpZGVcbiAqIGRlcGVuZGVuY2llcyB0aGUgTmdNb2R1bGUgbWVtYmVycy5cbiAqICogVGhlIGBpbXBvcnRzYCBhbmQgYGV4cG9ydHNgIG9wdGlvbnMgYnJpbmcgaW4gbWVtYmVycyBmcm9tIG90aGVyIG1vZHVsZXMsIGFuZCBtYWtlXG4gKiB0aGlzIG1vZHVsZSdzIG1lbWJlcnMgYXZhaWxhYmxlIHRvIG90aGVycy5cbiAqL1xuKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVOZ01vZHVsZSh0eXBlLCBtZXRhKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBub29wKC4uLmFyZ3MpIHtcbiAgICAvLyBEbyBub3RoaW5nLlxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIGV4aXN0ZW5jZSBvZiB0aGlzIGNvbnN0YW50IChpbiB0aGlzIHBhcnRpY3VsYXIgZmlsZSkgaW5mb3JtcyB0aGUgQW5ndWxhciBjb21waWxlciB0aGF0IHRoZVxuICogY3VycmVudCBwcm9ncmFtIGlzIGFjdHVhbGx5IEBhbmd1bGFyL2NvcmUsIHdoaWNoIG5lZWRzIHRvIGJlIGNvbXBpbGVkIHNwZWNpYWxseS5cbiAqL1xuY29uc3QgSVRTX0pVU1RfQU5HVUxBUiA9IHRydWU7XG5cbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSB0aGF0IHlvdSBjYW4gdXNlIHRvIHByb3ZpZGVcbiAqIG9uZSBvciBtb3JlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9ucy5cbiAqXG4gKiBUaGUgcHJvdmlkZWQgZnVuY3Rpb25zIGFyZSBpbmplY3RlZCBhdCBhcHBsaWNhdGlvbiBzdGFydHVwIGFuZCBleGVjdXRlZCBkdXJpbmdcbiAqIGFwcCBpbml0aWFsaXphdGlvbi4gSWYgYW55IG9mIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm5zIGEgUHJvbWlzZSBvciBhbiBPYnNlcnZhYmxlLCBpbml0aWFsaXphdGlvblxuICogZG9lcyBub3QgY29tcGxldGUgdW50aWwgdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQgb3IgdGhlIE9ic2VydmFibGUgaXMgY29tcGxldGVkLlxuICpcbiAqIFlvdSBjYW4sIGZvciBleGFtcGxlLCBjcmVhdGUgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgbG9hZHMgbGFuZ3VhZ2UgZGF0YVxuICogb3IgYW4gZXh0ZXJuYWwgY29uZmlndXJhdGlvbiwgYW5kIHByb3ZpZGUgdGhhdCBmdW5jdGlvbiB0byB0aGUgYEFQUF9JTklUSUFMSVpFUmAgdG9rZW4uXG4gKiBUaGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZHVyaW5nIHRoZSBhcHBsaWNhdGlvbiBib290c3RyYXAgcHJvY2VzcyxcbiAqIGFuZCB0aGUgbmVlZGVkIGRhdGEgaXMgYXZhaWxhYmxlIG9uIHN0YXJ0dXAuXG4gKlxuICogQHNlZSBgQXBwbGljYXRpb25Jbml0U3RhdHVzYFxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGlsbHVzdHJhdGVzIGhvdyB0byBjb25maWd1cmUgYSBtdWx0aS1wcm92aWRlciB1c2luZyBgQVBQX0lOSVRJQUxJWkVSYCB0b2tlblxuICogYW5kIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvbWlzZS5cbiAqXG4gKiBgYGBcbiAqICBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCk6IFByb21pc2U8YW55PiB7XG4gKiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICogICAgICAvLyBEbyBzb21lIGFzeW5jaHJvbm91cyBzdHVmZlxuICogICAgICByZXNvbHZlKCk7XG4gKiAgICB9KTtcbiAqICB9XG4gKlxuICogIEBOZ01vZHVsZSh7XG4gKiAgIGltcG9ydHM6IFtCcm93c2VyTW9kdWxlXSxcbiAqICAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgcHJvdmlkZXJzOiBbe1xuICogICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAqICAgICB1c2VGYWN0b3J5OiAoKSA9PiBpbml0aWFsaXplQXBwLFxuICogICAgIG11bHRpOiB0cnVlXG4gKiAgICB9XVxuICogICB9KVxuICogIGV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge31cbiAqIGBgYFxuICpcbiAqIEl0J3MgYWxzbyBwb3NzaWJsZSB0byBjb25maWd1cmUgYSBtdWx0aS1wcm92aWRlciB1c2luZyBgQVBQX0lOSVRJQUxJWkVSYCB0b2tlbiBhbmQgYSBmdW5jdGlvblxuICogcmV0dXJuaW5nIGFuIG9ic2VydmFibGUsIHNlZSBhbiBleGFtcGxlIGJlbG93LiBOb3RlOiB0aGUgYEh0dHBDbGllbnRgIGluIHRoaXMgZXhhbXBsZSBpcyB1c2VkIGZvclxuICogZGVtbyBwdXJwb3NlcyB0byBpbGx1c3RyYXRlIGhvdyB0aGUgZmFjdG9yeSBmdW5jdGlvbiBjYW4gd29yayB3aXRoIG90aGVyIHByb3ZpZGVycyBhdmFpbGFibGVcbiAqIHRocm91Z2ggREkuXG4gKlxuICogYGBgXG4gKiAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcEZhY3RvcnkoaHR0cENsaWVudDogSHR0cENsaWVudCk6ICgpID0+IE9ic2VydmFibGU8YW55PiB7XG4gKiAgIHJldHVybiAoKSA9PiBodHRwQ2xpZW50LmdldChcImh0dHBzOi8vc29tZVVybC5jb20vYXBpL3VzZXJcIilcbiAqICAgICAucGlwZShcbiAqICAgICAgICB0YXAodXNlciA9PiB7IC4uLiB9KVxuICogICAgICk7XG4gKiAgfVxuICpcbiAqICBATmdNb2R1bGUoe1xuICogICAgaW1wb3J0czogW0Jyb3dzZXJNb2R1bGUsIEh0dHBDbGllbnRNb2R1bGVdLFxuICogICAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sXG4gKiAgICBwcm92aWRlcnM6IFt7XG4gKiAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAqICAgICAgdXNlRmFjdG9yeTogaW5pdGlhbGl6ZUFwcEZhY3RvcnksXG4gKiAgICAgIGRlcHM6IFtIdHRwQ2xpZW50XSxcbiAqICAgICAgbXVsdGk6IHRydWVcbiAqICAgIH1dXG4gKiAgfSlcbiAqICBleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9JTklUSUFMSVpFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwbGljYXRpb24gSW5pdGlhbGl6ZXInKTtcbi8qKlxuICogQSBjbGFzcyB0aGF0IHJlZmxlY3RzIHRoZSBzdGF0ZSBvZiBydW5uaW5nIHtAbGluayBBUFBfSU5JVElBTElaRVJ9IGZ1bmN0aW9ucy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uSW5pdFN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoYXBwSW5pdHMpIHtcbiAgICAgICAgdGhpcy5hcHBJbml0cyA9IGFwcEluaXRzO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSBub29wO1xuICAgICAgICB0aGlzLnJlamVjdCA9IG5vb3A7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9uZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlcztcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJ1bkluaXRpYWxpemVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhc3luY0luaXRQcm9taXNlcyA9IFtdO1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuYXBwSW5pdHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hcHBJbml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRSZXN1bHQgPSB0aGlzLmFwcEluaXRzW2ldKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShpbml0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICBhc3luY0luaXRQcm9taXNlcy5wdXNoKGluaXRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc09ic2VydmFibGUoaW5pdFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2YWJsZUFzUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRSZXN1bHQuc3Vic2NyaWJlKHsgY29tcGxldGU6IHJlc29sdmUsIGVycm9yOiByZWplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBhc3luY0luaXRQcm9taXNlcy5wdXNoKG9ic2VydmFibGVBc1Byb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlLmFsbChhc3luY0luaXRQcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhc3luY0luaXRQcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxufVxuQXBwbGljYXRpb25Jbml0U3RhdHVzLsm1ZmFjID0gZnVuY3Rpb24gQXBwbGljYXRpb25Jbml0U3RhdHVzX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uSW5pdFN0YXR1cykoybXJtWluamVjdChBUFBfSU5JVElBTElaRVIsIDgpKTsgfTtcbkFwcGxpY2F0aW9uSW5pdFN0YXR1cy7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgZmFjdG9yeTogQXBwbGljYXRpb25Jbml0U3RhdHVzLsm1ZmFjLCBwcm92aWRlZEluOiAncm9vdCcgfSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQXBwbGljYXRpb25Jbml0U3RhdHVzLCBbe1xuICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICBhcmdzOiBbeyBwcm92aWRlZEluOiAncm9vdCcgfV1cbiAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbQVBQX0lOSVRJQUxJWkVSXVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICB9XSB9XTsgfSwgbnVsbCk7IH0pKCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFtESSB0b2tlbl0oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4gXCJESSB0b2tlbiBkZWZpbml0aW9uXCIpIHJlcHJlc2VudGluZyBhIHVuaXF1ZSBzdHJpbmcgSUQsIHVzZWRcbiAqIHByaW1hcmlseSBmb3IgcHJlZml4aW5nIGFwcGxpY2F0aW9uIGF0dHJpYnV0ZXMgYW5kIENTUyBzdHlsZXMgd2hlblxuICoge0BsaW5rIFZpZXdFbmNhcHN1bGF0aW9uI0VtdWxhdGVkIFZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkfSBpcyBiZWluZyB1c2VkLlxuICpcbiAqIEJZIGRlZmF1bHQsIHRoZSB2YWx1ZSBpcyByYW5kb21seSBnZW5lcmF0ZWQgYW5kIGFzc2lnbmVkIHRvIHRoZSBhcHBsaWNhdGlvbiBieSBBbmd1bGFyLlxuICogVG8gcHJvdmlkZSBhIGN1c3RvbSBJRCB2YWx1ZSwgdXNlIGEgREkgcHJvdmlkZXIgPCEtLSBUT0RPOiBwcm92aWRlciAtLT4gdG8gY29uZmlndXJlXG4gKiB0aGUgcm9vdCB7QGxpbmsgSW5qZWN0b3J9IHRoYXQgdXNlcyB0aGlzIHRva2VuLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBJZCcsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5LFxufSk7XG5mdW5jdGlvbiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGAke19yYW5kb21DaGFyKCl9JHtfcmFuZG9tQ2hhcigpfSR7X3JhbmRvbUNoYXIoKX1gO1xufVxuLyoqXG4gKiBQcm92aWRlcnMgdGhhdCBnZW5lcmF0ZSBhIHJhbmRvbSBgQVBQX0lEX1RPS0VOYC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0lEX1JBTkRPTV9QUk9WSURFUiA9IHtcbiAgICBwcm92aWRlOiBBUFBfSUQsXG4gICAgdXNlRmFjdG9yeTogX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5LFxuICAgIGRlcHM6IFtdLFxufTtcbmZ1bmN0aW9uIF9yYW5kb21DaGFyKCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUpKTtcbn1cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIHdoZW4gYSBwbGF0Zm9ybSBpcyBpbml0aWFsaXplZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUExBVEZPUk1fSU5JVElBTElaRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1BsYXRmb3JtIEluaXRpYWxpemVyJyk7XG4vKipcbiAqIEEgdG9rZW4gdGhhdCBpbmRpY2F0ZXMgYW4gb3BhcXVlIHBsYXRmb3JtIElELlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQTEFURk9STV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSUQnKTtcbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIGNhbGxiYWNrcyB0b1xuICogYmUgY2FsbGVkIGZvciBldmVyeSBjb21wb25lbnQgdGhhdCBpcyBib290c3RyYXBwZWQuXG4gKlxuICogRWFjaCBjYWxsYmFjayBtdXN0IHRha2UgYSBgQ29tcG9uZW50UmVmYCBpbnN0YW5jZSBhbmQgcmV0dXJuIG5vdGhpbmcuXG4gKlxuICogYChjb21wb25lbnRSZWY6IENvbXBvbmVudFJlZikgPT4gdm9pZGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9CT09UU1RSQVBfTElTVEVORVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ2FwcEJvb3RzdHJhcExpc3RlbmVyJyk7XG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgdGhhdCBpbmRpY2F0ZXMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mXG4gKiB0aGUgYXBwbGljYXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUEFDS0FHRV9ST09UX1VSTCA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwbGljYXRpb24gUGFja2FnZXMgUm9vdCBVUkwnKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBDb25zb2xlIHtcbiAgICBsb2cobWVzc2FnZSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG4gICAgLy8gTm90ZTogZm9yIHJlcG9ydGluZyBlcnJvcnMgdXNlIGBET00ubG9nRXJyb3IoKWAgYXMgaXQgaXMgcGxhdGZvcm0gc3BlY2lmaWNcbiAgICB3YXJuKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbn1cbkNvbnNvbGUuybVmYWMgPSBmdW5jdGlvbiBDb25zb2xlX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IENvbnNvbGUpKCk7IH07XG5Db25zb2xlLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQ29uc29sZSwgZmFjdG9yeTogQ29uc29sZS7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7ICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShDb25zb2xlLCBbe1xuICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgfV0sIG51bGwsIG51bGwpOyB9KSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogV29yayBvdXQgdGhlIGxvY2FsZSBmcm9tIHRoZSBwb3RlbnRpYWwgZ2xvYmFsIHByb3BlcnRpZXMuXG4gKlxuICogKiBDbG9zdXJlIENvbXBpbGVyOiB1c2UgYGdvb2cuZ2V0TG9jYWxlKClgLlxuICogKiBJdnkgZW5hYmxlZDogdXNlIGAkbG9jYWxpemUubG9jYWxlYFxuICovXG5mdW5jdGlvbiBnZXRHbG9iYWxMb2NhbGUoKSB7XG4gICAgaWYgKHR5cGVvZiBuZ0kxOG5DbG9zdXJlTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbmdJMThuQ2xvc3VyZU1vZGUgJiZcbiAgICAgICAgdHlwZW9mIGdvb2cgIT09ICd1bmRlZmluZWQnICYmIGdvb2cuZ2V0TG9jYWxlKCkgIT09ICdlbicpIHtcbiAgICAgICAgLy8gKiBUaGUgZGVmYXVsdCBgZ29vZy5nZXRMb2NhbGUoKWAgdmFsdWUgaXMgYGVuYCwgd2hpbGUgQW5ndWxhciB1c2VkIGBlbi1VU2AuXG4gICAgICAgIC8vICogSW4gb3JkZXIgdG8gcHJlc2VydmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHdlIHVzZSBBbmd1bGFyIGRlZmF1bHQgdmFsdWUgb3ZlclxuICAgICAgICAvLyAgIENsb3N1cmUgQ29tcGlsZXIncyBvbmUuXG4gICAgICAgIHJldHVybiBnb29nLmdldExvY2FsZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gS0VFUCBgdHlwZW9mICRsb2NhbGl6ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgJGxvY2FsaXplLmxvY2FsZWAgSU4gU1lOQyBXSVRIIFRIRSBMT0NBTElaRVxuICAgICAgICAvLyBDT01QSUxFLVRJTUUgSU5MSU5FUi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gKiBEdXJpbmcgY29tcGlsZSB0aW1lIGlubGluaW5nIG9mIHRyYW5zbGF0aW9ucyB0aGUgZXhwcmVzc2lvbiB3aWxsIGJlIHJlcGxhY2VkXG4gICAgICAgIC8vICAgd2l0aCBhIHN0cmluZyBsaXRlcmFsIHRoYXQgaXMgdGhlIGN1cnJlbnQgbG9jYWxlLiBPdGhlciBmb3JtcyBvZiB0aGlzIGV4cHJlc3Npb24gYXJlIG5vdFxuICAgICAgICAvLyAgIGd1YXJhbnRlZWQgdG8gYmUgcmVwbGFjZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICogRHVyaW5nIHJ1bnRpbWUgdHJhbnNsYXRpb24gZXZhbHVhdGlvbiwgdGhlIGRldmVsb3BlciBpcyByZXF1aXJlZCB0byBzZXQgYCRsb2NhbGl6ZS5sb2NhbGVgXG4gICAgICAgIC8vICAgaWYgcmVxdWlyZWQsIG9yIGp1c3QgdG8gcHJvdmlkZSB0aGVpciBvd24gYExPQ0FMRV9JRGAgcHJvdmlkZXIuXG4gICAgICAgIHJldHVybiAodHlwZW9mICRsb2NhbGl6ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgJGxvY2FsaXplLmxvY2FsZSkgfHwgREVGQVVMVF9MT0NBTEVfSUQ7XG4gICAgfVxufVxuLyoqXG4gKiBQcm92aWRlIHRoaXMgdG9rZW4gdG8gc2V0IHRoZSBsb2NhbGUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAqIEl0IGlzIHVzZWQgZm9yIGkxOG4gZXh0cmFjdGlvbiwgYnkgaTE4biBwaXBlcyAoRGF0ZVBpcGUsIEkxOG5QbHVyYWxQaXBlLCBDdXJyZW5jeVBpcGUsXG4gKiBEZWNpbWFsUGlwZSBhbmQgUGVyY2VudFBpcGUpIGFuZCBieSBJQ1UgZXhwcmVzc2lvbnMuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbG9jYWxlLWlkKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBMT0NBTEVfSUQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IExPQ0FMRV9JRCwgdXNlVmFsdWU6ICdlbi1VUycgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBMT0NBTEVfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0xvY2FsZUlkJywge1xuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiAoKSA9PiBpbmplY3QoTE9DQUxFX0lELCBJbmplY3RGbGFncy5PcHRpb25hbCB8IEluamVjdEZsYWdzLlNraXBTZWxmKSB8fCBnZXRHbG9iYWxMb2NhbGUoKSxcbn0pO1xuLyoqXG4gKiBQcm92aWRlIHRoaXMgdG9rZW4gdG8gc2V0IHRoZSBkZWZhdWx0IGN1cnJlbmN5IGNvZGUgeW91ciBhcHBsaWNhdGlvbiB1c2VzIGZvclxuICogQ3VycmVuY3lQaXBlIHdoZW4gdGhlcmUgaXMgbm8gY3VycmVuY3kgY29kZSBwYXNzZWQgaW50byBpdC4gVGhpcyBpcyBvbmx5IHVzZWQgYnlcbiAqIEN1cnJlbmN5UGlwZSBhbmQgaGFzIG5vIHJlbGF0aW9uIHRvIGxvY2FsZSBjdXJyZW5jeS4gRGVmYXVsdHMgdG8gVVNEIGlmIG5vdCBjb25maWd1cmVkLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLWxvY2FsZS1pZCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGlzLWhlbHBmdWxcIj5cbiAqXG4gKiAqKkRlcHJlY2F0aW9uIG5vdGljZToqKlxuICpcbiAqIFRoZSBkZWZhdWx0IGN1cnJlbmN5IGNvZGUgaXMgY3VycmVudGx5IGFsd2F5cyBgVVNEYCBidXQgdGhpcyBpcyBkZXByZWNhdGVkIGZyb20gdjkuXG4gKlxuICogKipJbiB2MTAgdGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSB3aWxsIGJlIHRha2VuIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlLioqXG4gKlxuICogSWYgeW91IG5lZWQgdGhlIHByZXZpb3VzIGJlaGF2aW9yIHRoZW4gc2V0IGl0IGJ5IGNyZWF0aW5nIGEgYERFRkFVTFRfQ1VSUkVOQ1lfQ09ERWAgcHJvdmlkZXIgaW5cbiAqIHlvdXIgYXBwbGljYXRpb24gYE5nTW9kdWxlYDpcbiAqXG4gKiBgYGB0c1xuICoge3Byb3ZpZGU6IERFRkFVTFRfQ1VSUkVOQ1lfQ09ERSwgdXNlVmFsdWU6ICdVU0QnfVxuICogYGBgXG4gKlxuICogPC9kaXY+XG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogREVGQVVMVF9DVVJSRU5DWV9DT0RFLCB1c2VWYWx1ZTogJ0VVUicgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBERUZBVUxUX0NVUlJFTkNZX0NPREUgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0RlZmF1bHRDdXJyZW5jeUNvZGUnLCB7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgIGZhY3Rvcnk6ICgpID0+IFVTRF9DVVJSRU5DWV9DT0RFLFxufSk7XG4vKipcbiAqIFVzZSB0aGlzIHRva2VuIGF0IGJvb3RzdHJhcCB0byBwcm92aWRlIHRoZSBjb250ZW50IG9mIHlvdXIgdHJhbnNsYXRpb24gZmlsZSAoYHh0YmAsXG4gKiBgeGxmYCBvciBgeGxmMmApIHdoZW4geW91IHdhbnQgdG8gdHJhbnNsYXRlIHlvdXIgYXBwbGljYXRpb24gaW4gYW5vdGhlciBsYW5ndWFnZS5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuLWNvbW1vbi1tZXJnZSkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgVFJBTlNMQVRJT05TIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIC8vIGNvbnRlbnQgb2YgeW91ciB0cmFuc2xhdGlvbiBmaWxlXG4gKiBjb25zdCB0cmFuc2xhdGlvbnMgPSAnLi4uLic7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IFRSQU5TTEFUSU9OUywgdXNlVmFsdWU6IHRyYW5zbGF0aW9ucyB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFRSQU5TTEFUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignVHJhbnNsYXRpb25zJyk7XG4vKipcbiAqIFByb3ZpZGUgdGhpcyB0b2tlbiBhdCBib290c3RyYXAgdG8gc2V0IHRoZSBmb3JtYXQgb2YgeW91ciB7QGxpbmsgVFJBTlNMQVRJT05TfTogYHh0YmAsXG4gKiBgeGxmYCBvciBgeGxmMmAuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFRSQU5TTEFUSU9OU19GT1JNQVQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IFRSQU5TTEFUSU9OU19GT1JNQVQsIHVzZVZhbHVlOiAneGxmJyB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFRSQU5TTEFUSU9OU19GT1JNQVQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RyYW5zbGF0aW9uc0Zvcm1hdCcpO1xuLyoqXG4gKiBVc2UgdGhpcyBlbnVtIGF0IGJvb3RzdHJhcCBhcyBhbiBvcHRpb24gb2YgYGJvb3RzdHJhcE1vZHVsZWAgdG8gZGVmaW5lIHRoZSBzdHJhdGVneVxuICogdGhhdCB0aGUgY29tcGlsZXIgc2hvdWxkIHVzZSBpbiBjYXNlIG9mIG1pc3NpbmcgdHJhbnNsYXRpb25zOlxuICogLSBFcnJvcjogdGhyb3cgaWYgeW91IGhhdmUgbWlzc2luZyB0cmFuc2xhdGlvbnMuXG4gKiAtIFdhcm5pbmcgKGRlZmF1bHQpOiBzaG93IGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBhbmQvb3Igc2hlbGwuXG4gKiAtIElnbm9yZTogZG8gbm90aGluZy5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuLWNvbW1vbi1tZXJnZSNyZXBvcnQtbWlzc2luZy10cmFuc2xhdGlvbnMpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgbWlzc2luZ1RyYW5zbGF0aW9uOiBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneS5FcnJvclxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneTtcbihmdW5jdGlvbiAoTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kpIHtcbiAgICBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtcIkVycm9yXCJdID0gMF0gPSBcIkVycm9yXCI7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJXYXJuaW5nXCJdID0gMV0gPSBcIldhcm5pbmdcIjtcbiAgICBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtcIklnbm9yZVwiXSA9IDJdID0gXCJJZ25vcmVcIjtcbn0pKE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5IHx8IChNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb21iaW5hdGlvbiBvZiBOZ01vZHVsZUZhY3RvcnkgYW5kIENvbXBvbmVudEZhY3Rvcmllcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEl2eSBKSVQgbW9kZSBkb2Vzbid0IHJlcXVpcmUgYWNjZXNzaW5nIHRoaXMgc3ltYm9sLlxuICogU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpIGZvclxuICogYWRkaXRpb25hbCBjb250ZXh0LlxuICovXG5jbGFzcyBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzIHtcbiAgICBjb25zdHJ1Y3RvcihuZ01vZHVsZUZhY3RvcnksIGNvbXBvbmVudEZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLm5nTW9kdWxlRmFjdG9yeSA9IG5nTW9kdWxlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3JpZXMgPSBjb21wb25lbnRGYWN0b3JpZXM7XG4gICAgfVxufVxuLyoqXG4gKiBMb3ctbGV2ZWwgc2VydmljZSBmb3IgcnVubmluZyB0aGUgYW5ndWxhciBjb21waWxlciBkdXJpbmcgcnVudGltZVxuICogdG8gY3JlYXRlIHtAbGluayBDb21wb25lbnRGYWN0b3J5fXMsIHdoaWNoXG4gKiBjYW4gbGF0ZXIgYmUgdXNlZCB0byBjcmVhdGUgYW5kIHJlbmRlciBhIENvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBFYWNoIGBATmdNb2R1bGVgIHByb3ZpZGVzIGFuIG93biBgQ29tcGlsZXJgIHRvIGl0cyBpbmplY3RvcixcbiAqIHRoYXQgd2lsbCB1c2UgdGhlIGRpcmVjdGl2ZXMvcGlwZXMgb2YgdGhlIG5nIG1vZHVsZSBmb3IgY29tcGlsYXRpb25cbiAqIG9mIGNvbXBvbmVudHMuXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBJdnkgSklUIG1vZGUgZG9lc24ndCByZXF1aXJlIGFjY2Vzc2luZyB0aGlzIHN5bWJvbC5cbiAqIFNlZSBbSklUIEFQSSBjaGFuZ2VzIGR1ZSB0byBWaWV3RW5naW5lIGRlcHJlY2F0aW9uXShndWlkZS9kZXByZWNhdGlvbnMjaml0LWFwaS1jaGFuZ2VzKSBmb3JcbiAqIGFkZGl0aW9uYWwgY29udGV4dC5cbiAqL1xuY2xhc3MgQ29tcGlsZXIge1xuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBnaXZlbiBOZ01vZHVsZSBhbmQgYWxsIG9mIGl0cyBjb21wb25lbnRzLiBBbGwgdGVtcGxhdGVzIG9mIHRoZSBjb21wb25lbnRzIGxpc3RlZFxuICAgICAqIGluIGBlbnRyeUNvbXBvbmVudHNgIGhhdmUgdG8gYmUgaW5saW5lZC5cbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlU3luYyhtb2R1bGVUeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTmdNb2R1bGVGYWN0b3J5KG1vZHVsZVR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgZ2l2ZW4gTmdNb2R1bGUgYW5kIGFsbCBvZiBpdHMgY29tcG9uZW50c1xuICAgICAqL1xuICAgIGNvbXBpbGVNb2R1bGVBc3luYyhtb2R1bGVUeXBlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jb21waWxlTW9kdWxlU3luYyhtb2R1bGVUeXBlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMge0BsaW5rICNjb21waWxlTW9kdWxlU3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIGNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luYyhtb2R1bGVUeXBlKSB7XG4gICAgICAgIGNvbnN0IG5nTW9kdWxlRmFjdG9yeSA9IHRoaXMuY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSk7XG4gICAgICAgIGNvbnN0IG1vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRGYWN0b3JpZXMgPSBtYXliZVVud3JhcEZuKG1vZHVsZURlZi5kZWNsYXJhdGlvbnMpXG4gICAgICAgICAgICAucmVkdWNlKChmYWN0b3JpZXMsIGRlY2xhcmF0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoZGVjbGFyYXRpb24pO1xuICAgICAgICAgICAgY29tcG9uZW50RGVmICYmIGZhY3Rvcmllcy5wdXNoKG5ldyBDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudERlZikpO1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcmllcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gbmV3IE1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMobmdNb2R1bGVGYWN0b3J5LCBjb21wb25lbnRGYWN0b3JpZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHtAbGluayAjY29tcGlsZU1vZHVsZUFzeW5jfSBidXQgYWxzbyBjcmVhdGVzIENvbXBvbmVudEZhY3RvcmllcyBmb3IgYWxsIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyhtb2R1bGVUeXBlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmMobW9kdWxlVHlwZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGNhY2hlcy5cbiAgICAgKi9cbiAgICBjbGVhckNhY2hlKCkgeyB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYWNoZSBmb3IgdGhlIGdpdmVuIGNvbXBvbmVudC9uZ01vZHVsZS5cbiAgICAgKi9cbiAgICBjbGVhckNhY2hlRm9yKHR5cGUpIHsgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGlkIGZvciBhIGdpdmVuIE5nTW9kdWxlLCBpZiBvbmUgaXMgZGVmaW5lZCBhbmQga25vd24gdG8gdGhlIGNvbXBpbGVyLlxuICAgICAqL1xuICAgIGdldE1vZHVsZUlkKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5Db21waWxlci7JtWZhYyA9IGZ1bmN0aW9uIENvbXBpbGVyX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IENvbXBpbGVyKSgpOyB9O1xuQ29tcGlsZXIuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBDb21waWxlciwgZmFjdG9yeTogQ29tcGlsZXIuybVmYWMsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbihmdW5jdGlvbiAoKSB7ICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShDb21waWxlciwgW3tcbiAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgfV0sIG51bGwsIG51bGwpOyB9KSgpO1xuLyoqXG4gKiBUb2tlbiB0byBwcm92aWRlIENvbXBpbGVyT3B0aW9ucyBpbiB0aGUgcGxhdGZvcm0gaW5qZWN0b3IuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDT01QSUxFUl9PUFRJT05TID0gbmV3IEluamVjdGlvblRva2VuKCdjb21waWxlck9wdGlvbnMnKTtcbi8qKlxuICogQSBmYWN0b3J5IGZvciBjcmVhdGluZyBhIENvbXBpbGVyXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBJdnkgSklUIG1vZGUgZG9lc24ndCByZXF1aXJlIGFjY2Vzc2luZyB0aGlzIHN5bWJvbC5cbiAqIFNlZSBbSklUIEFQSSBjaGFuZ2VzIGR1ZSB0byBWaWV3RW5naW5lIGRlcHJlY2F0aW9uXShndWlkZS9kZXByZWNhdGlvbnMjaml0LWFwaS1jaGFuZ2VzKSBmb3JcbiAqIGFkZGl0aW9uYWwgY29udGV4dC5cbiAqL1xuY2xhc3MgQ29tcGlsZXJGYWN0b3J5IHtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBwcm9taXNlID0gKCgpID0+IFByb21pc2UucmVzb2x2ZSgwKSkoKTtcbmZ1bmN0aW9uIHNjaGVkdWxlTWljcm9UYXNrKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBab25lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyB1c2UgcHJvbWlzZSB0byBzY2hlZHVsZSBtaWNyb1Rhc2sgaW5zdGVhZCBvZiB1c2UgWm9uZVxuICAgICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZm4gJiYgZm4uYXBwbHkobnVsbCwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgWm9uZS5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCdzY2hlZHVsZU1pY3JvdGFzaycsIGZuKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkge1xuICAgIGxldCBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBfZ2xvYmFsWydyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICBsZXQgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBfZ2xvYmFsWydjYW5jZWxBbmltYXRpb25GcmFtZSddO1xuICAgIGlmICh0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIC8vIHVzZSB1bnBhdGNoZWQgdmVyc2lvbiBvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobmF0aXZlIGRlbGVnYXRlKSBpZiBwb3NzaWJsZVxuICAgICAgICAvLyB0byBhdm9pZCBhbm90aGVyIENoYW5nZSBkZXRlY3Rpb25cbiAgICAgICAgY29uc3QgdW5wYXRjaGVkUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gbmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lW1pvbmUuX19zeW1ib2xfXygnT3JpZ2luYWxEZWxlZ2F0ZScpXTtcbiAgICAgICAgaWYgKHVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgbmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gdW5wYXRjaGVkUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVucGF0Y2hlZENhbmNlbEFuaW1hdGlvbkZyYW1lID0gbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWVbWm9uZS5fX3N5bWJvbF9fKCdPcmlnaW5hbERlbGVnYXRlJyldO1xuICAgICAgICBpZiAodW5wYXRjaGVkQ2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lID0gdW5wYXRjaGVkQ2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gaW5qZWN0YWJsZSBzZXJ2aWNlIGZvciBleGVjdXRpbmcgd29yayBpbnNpZGUgb3Igb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICpcbiAqIFRoZSBtb3N0IGNvbW1vbiB1c2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIG9wdGltaXplIHBlcmZvcm1hbmNlIHdoZW4gc3RhcnRpbmcgYSB3b3JrIGNvbnNpc3Rpbmcgb2ZcbiAqIG9uZSBvciBtb3JlIGFzeW5jaHJvbm91cyB0YXNrcyB0aGF0IGRvbid0IHJlcXVpcmUgVUkgdXBkYXRlcyBvciBlcnJvciBoYW5kbGluZyB0byBiZSBoYW5kbGVkIGJ5XG4gKiBBbmd1bGFyLiBTdWNoIHRhc2tzIGNhbiBiZSBraWNrZWQgb2ZmIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbmQgaWYgbmVlZGVkLCB0aGVzZSB0YXNrc1xuICogY2FuIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSB2aWEge0BsaW5rICNydW59LlxuICpcbiAqIDwhLS0gVE9ETzogYWRkL2ZpeCBsaW5rcyB0bzpcbiAqICAgLSBkb2NzIGV4cGxhaW5pbmcgem9uZXMgYW5kIHRoZSB1c2Ugb2Ygem9uZXMgaW4gQW5ndWxhciBhbmQgY2hhbmdlLWRldGVjdGlvblxuICogICAtIGxpbmsgdG8gcnVuT3V0c2lkZUFuZ3VsYXIvcnVuICh0aHJvdWdob3V0IHRoaXMgZmlsZSEpXG4gKiAgIC0tPlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogaW1wb3J0IHtDb21wb25lbnQsIE5nWm9uZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge05nSWZ9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbmctem9uZS1kZW1vJyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8aDI+RGVtbzogTmdab25lPC9oMj5cbiAqXG4gKiAgICAgPHA+UHJvZ3Jlc3M6IHt7cHJvZ3Jlc3N9fSU8L3A+XG4gKiAgICAgPHAgKm5nSWY9XCJwcm9ncmVzcyA+PSAxMDBcIj5Eb25lIHByb2Nlc3Npbmcge3tsYWJlbH19IG9mIEFuZ3VsYXIgem9uZSE8L3A+XG4gKlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyB3aXRoaW4gQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIG91dHNpZGUgb2YgQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgIGAsXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIE5nWm9uZURlbW8ge1xuICogICBwcm9ncmVzczogbnVtYmVyID0gMDtcbiAqICAgbGFiZWw6IHN0cmluZztcbiAqXG4gKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX25nWm9uZTogTmdab25lKSB7fVxuICpcbiAqICAgLy8gTG9vcCBpbnNpZGUgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdpbnNpZGUnO1xuICogICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICogICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4gY29uc29sZS5sb2coJ0luc2lkZSBEb25lIScpKTtcbiAqICAgfVxuICpcbiAqICAgLy8gTG9vcCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgTk9UIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ291dHNpZGUnO1xuICogICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICogICAgIHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gKiAgICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IHtcbiAqICAgICAgICAgLy8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkaXNwbGF5IGRvbmVcbiAqICAgICAgICAgdGhpcy5fbmdab25lLnJ1bigoKSA9PiB7IGNvbnNvbGUubG9nKCdPdXRzaWRlIERvbmUhJyk7IH0pO1xuICogICAgICAgfSk7XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqXG4gKiAgIF9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICogICAgIHRoaXMucHJvZ3Jlc3MgKz0gMTtcbiAqICAgICBjb25zb2xlLmxvZyhgQ3VycmVudCBwcm9ncmVzczogJHt0aGlzLnByb2dyZXNzfSVgKTtcbiAqXG4gKiAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAxMDApIHtcbiAqICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrKSwgMTApO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICBkb25lQ2FsbGJhY2soKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgTmdab25lIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGVuYWJsZUxvbmdTdGFja1RyYWNlID0gZmFsc2UsIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSB9KSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGVyZSBhcmUgbm8gb3V0c3RhbmRpbmcgbWljcm90YXNrcyBvciBtYWNyb3Rhc2tzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIGNvZGUgZW50ZXJzIEFuZ3VsYXIgWm9uZS4gVGhpcyBnZXRzIGZpcmVkIGZpcnN0IG9uIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVW5zdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlcmUgaXMgbm8gbW9yZSBtaWNyb3Rhc2tzIGVucXVldWVkIGluIHRoZSBjdXJyZW50IFZNIFR1cm4uXG4gICAgICAgICAqIFRoaXMgaXMgYSBoaW50IGZvciBBbmd1bGFyIHRvIGRvIGNoYW5nZSBkZXRlY3Rpb24sIHdoaWNoIG1heSBlbnF1ZXVlIG1vcmUgbWljcm90YXNrcy5cbiAgICAgICAgICogRm9yIHRoaXMgcmVhc29uIHRoaXMgZXZlbnQgY2FuIGZpcmUgbXVsdGlwbGUgdGltZXMgcGVyIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTWljcm90YXNrRW1wdHkgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlIGxhc3QgYG9uTWljcm90YXNrRW1wdHlgIGhhcyBydW4gYW5kIHRoZXJlIGFyZSBubyBtb3JlIG1pY3JvdGFza3MsIHdoaWNoXG4gICAgICAgICAqIGltcGxpZXMgd2UgYXJlIGFib3V0IHRvIHJlbGlucXVpc2ggVk0gdHVybi5cbiAgICAgICAgICogVGhpcyBldmVudCBnZXRzIGNhbGxlZCBqdXN0IG9uY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB0aGF0IGFuIGVycm9yIGhhcyBiZWVuIGRlbGl2ZXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICBpZiAodHlwZW9mIFpvbmUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW4gdGhpcyBjb25maWd1cmF0aW9uIEFuZ3VsYXIgcmVxdWlyZXMgWm9uZS5qc2ApO1xuICAgICAgICB9XG4gICAgICAgIFpvbmUuYXNzZXJ0Wm9uZVBhdGNoZWQoKTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX25lc3RpbmcgPSAwO1xuICAgICAgICBzZWxmLl9vdXRlciA9IHNlbGYuX2lubmVyID0gWm9uZS5jdXJyZW50O1xuICAgICAgICBpZiAoWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKG5ldyBab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlTG9uZ1N0YWNrVHJhY2UgJiYgWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsoWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLCBhbGwgdGFza3MgaW5jbHVkaW5nIGV2ZW50IHRhc2tzIHdpbGwgYmVcbiAgICAgICAgLy8gY29hbGVzY2VkLCBzbyBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIG9wdGlvbiBpcyBub3QgbmVjZXNzYXJ5IGFuZCBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID1cbiAgICAgICAgICAgICFzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiAmJiBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgIHNlbGYubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZ2V0TmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgICAgICBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcihzZWxmKTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgLy8gWm9uZSBuZWVkcyB0byBiZSBjaGVja2VkLCBiZWNhdXNlIHRoaXMgbWV0aG9kIG1pZ2h0IGJlIGNhbGxlZCBldmVuIHdoZW4gTm9vcE5nWm9uZSBpcyB1c2VkLlxuICAgICAgICByZXR1cm4gdHlwZW9mIFpvbmUgIT09ICd1bmRlZmluZWQnICYmIFpvbmUuY3VycmVudC5nZXQoJ2lzQW5ndWxhclpvbmUnKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmICghTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKE5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZSBhcyBhIHRhc2sgYW5kIHJldHVybnMgdmFsdWVcbiAgICAgKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuVGFzayhmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIG5hbWUpIHtcbiAgICAgICAgY29uc3Qgem9uZSA9IHRoaXMuX2lubmVyO1xuICAgICAgICBjb25zdCB0YXNrID0gem9uZS5zY2hlZHVsZUV2ZW50VGFzaygnTmdab25lRXZlbnQ6ICcgKyBuYW1lLCBmbiwgRU1QVFlfUEFZTE9BRCwgbm9vcCwgbm9vcCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gem9uZS5ydW5UYXNrKHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuY2FuY2VsVGFzayh0YXNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIGBydW5gLCBleGNlcHQgdGhhdCBzeW5jaHJvbm91cyBlcnJvcnMgYXJlIGNhdWdodCBhbmQgZm9yd2FyZGVkIHZpYSBgb25FcnJvcmAgYW5kIG5vdFxuICAgICAqIHJldGhyb3duLlxuICAgICAqL1xuICAgIHJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgaW4gQW5ndWxhcidzIHBhcmVudCB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFsbG93cyB5b3UgdG8gZXNjYXBlIEFuZ3VsYXIncyB6b25lIGFuZCBkb1xuICAgICAqIHdvcmsgdGhhdFxuICAgICAqIGRvZXNuJ3QgdHJpZ2dlciBBbmd1bGFyIGNoYW5nZS1kZXRlY3Rpb24gb3IgaXMgc3ViamVjdCB0byBBbmd1bGFyJ3MgZXJyb3IgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgI3J1bn0gdG8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkbyB3b3JrIHRoYXQgdXBkYXRlcyB0aGUgYXBwbGljYXRpb24gbW9kZWwuXG4gICAgICovXG4gICAgcnVuT3V0c2lkZUFuZ3VsYXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyLnJ1bihmbik7XG4gICAgfVxufVxuY29uc3QgRU1QVFlfUEFZTE9BRCA9IHt9O1xuZnVuY3Rpb24gY2hlY2tTdGFibGUoem9uZSkge1xuICAgIC8vIFRPRE86IEBKaWFMaVBhc3Npb24sIHNob3VsZCBjaGVjayB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nIHRvIHByZXZlbnRcbiAgICAvLyByZS1lbnRyeS4gVGhlIGNhc2UgaXM6XG4gICAgLy9cbiAgICAvLyBAQ29tcG9uZW50KHsuLi59KVxuICAgIC8vIGV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgIC8vIGNvbnN0cnVjdG9yKHByaXZhdGUgbmdab25lOiBOZ1pvbmUpIHtcbiAgICAvLyAgIHRoaXMubmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgLy8gICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiBjb25zb2xlLmxvZygnc3RhYmxlJyk7KTtcbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIFRoZSBvblN0YWJsZSBzdWJzY3JpYmVyIHJ1biBhbm90aGVyIGZ1bmN0aW9uIGluc2lkZSBuZ1pvbmVcbiAgICAvLyB3aGljaCBjYXVzZXMgYGNoZWNrU3RhYmxlKClgIHJlLWVudHJ5LlxuICAgIC8vIEJ1dCB0aGlzIGZpeCBjYXVzZXMgc29tZSBpc3N1ZXMgaW4gZzMsIHNvIHRoaXMgZml4IHdpbGwgYmVcbiAgICAvLyBsYXVuY2hlZCBpbiBhbm90aGVyIFBSLlxuICAgIGlmICh6b25lLl9uZXN0aW5nID09IDAgJiYgIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgJiYgIXpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICAgICAgICAgIHpvbmUub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZy0tO1xuICAgICAgICAgICAgaWYgKCF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uU3RhYmxlLmVtaXQobnVsbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSkge1xuICAgIC8qKlxuICAgICAqIFdlIGFsc28gbmVlZCB0byBjaGVjayBfbmVzdGluZyBoZXJlXG4gICAgICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlIHdpdGggc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSB0cnVlXG4gICAgICpcbiAgICAgKiBuZ1pvbmUucnVuKCgpID0+IHt9KTtcbiAgICAgKiBuZ1pvbmUucnVuKCgpID0+IHt9KTtcbiAgICAgKlxuICAgICAqIFdlIHdhbnQgdGhlIHR3byBgbmdab25lLnJ1bigpYCBvbmx5IHRyaWdnZXIgb25lIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgKiB3aGVuIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUuXG4gICAgICogQW5kIGJlY2F1c2UgaW4gdGhpcyBjYXNlLCBjaGFuZ2UgZGV0ZWN0aW9uIHJ1biBpbiBhc3luYyB3YXkocmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxcbiAgICAgKiBzbyB3ZSBhbHNvIG5lZWQgdG8gY2hlY2sgdGhlIF9uZXN0aW5nIGhlcmUgdG8gcHJldmVudCBtdWx0aXBsZVxuICAgICAqIGNoYW5nZSBkZXRlY3Rpb25zLlxuICAgICAqL1xuICAgIGlmICh6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nIHx8IHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gem9uZS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUuY2FsbChfZ2xvYmFsLCAoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzY4MzkuXG4gICAgICAgIC8vIFRoZSBjb3JlIGlzc3VlIGlzIHRoYXQgd2hlbiBldmVudCBjb2FsZXNjaW5nIGlzIGVuYWJsZWQgaXQgaXMgcG9zc2libGUgZm9yIG1pY3JvdGFza3NcbiAgICAgICAgLy8gdG8gZ2V0IGZsdXNoZWQgdG9vIGVhcmx5IChBcyBpcyB0aGUgY2FzZSB3aXRoIGBQcm9taXNlLnRoZW5gKSBiZXR3ZWVuIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRvIHdvcmthcm91bmQgdGhpcyB3ZSBzY2hlZHVsZSBhIFwiZmFrZVwiIGV2ZW50VGFzayBiZWZvcmUgd2UgcHJvY2VzcyB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLiBUaGUgYmVuZWZpdCBvZiB0aGlzIGlzIHRoYXQgdGhlIFwiZmFrZVwiIGNvbnRhaW5lciBldmVudFRhc2tcbiAgICAgICAgLy8gIHdpbGwgcHJldmVudCB0aGUgbWljcm90YXNrcyBxdWV1ZSBmcm9tIGdldHRpbmcgZHJhaW5lZCBpbiBiZXR3ZWVuIHRoZSBjb2FsZXNjaW5nXG4gICAgICAgIC8vIGV2ZW50VGFzayBleGVjdXRpb24uXG4gICAgICAgIGlmICghem9uZS5mYWtlVG9wRXZlbnRUYXNrKSB7XG4gICAgICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2sgPSBab25lLnJvb3Quc2NoZWR1bGVFdmVudFRhc2soJ2Zha2VUb3BFdmVudFRhc2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG4gICAgICAgICAgICAgICAgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCAoKSA9PiB7IH0sICgpID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrLmludm9rZSgpO1xuICAgIH0pO1xuICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbn1cbmZ1bmN0aW9uIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHpvbmUpIHtcbiAgICBjb25zdCBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlID0gKCkgPT4ge1xuICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKTtcbiAgICB9O1xuICAgIHpvbmUuX2lubmVyID0gem9uZS5faW5uZXIuZm9yayh7XG4gICAgICAgIG5hbWU6ICdhbmd1bGFyJyxcbiAgICAgICAgcHJvcGVydGllczogeyAnaXNBbmd1bGFyWm9uZSc6IHRydWUgfSxcbiAgICAgICAgb25JbnZva2VUYXNrOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlVGFzayh0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICgoem9uZS5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uICYmIHRhc2sudHlwZSA9PT0gJ2V2ZW50VGFzaycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkludm9rZTogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZSh0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICh6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25IYXNUYXNrOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgaGFzVGFza1N0YXRlKSA9PiB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5oYXNUYXNrKHRhcmdldCwgaGFzVGFza1N0YXRlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGhhc1Rhc2sgZXZlbnRzIHdoaWNoIG9yaWdpbmF0ZSBmcm9tIG91ciB6b25lXG4gICAgICAgICAgICAgICAgLy8gKEEgY2hpbGQgaGFzVGFzayBldmVudCBpcyBub3QgaW50ZXJlc3RpbmcgdG8gdXMpXG4gICAgICAgICAgICAgICAgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21pY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5faGFzUGVuZGluZ01pY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWljcm9UYXNrO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtYWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWFjcm9UYXNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25IYW5kbGVFcnJvcjogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5oYW5kbGVFcnJvcih0YXJnZXQsIGVycm9yKTtcbiAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vbkVycm9yLmVtaXQoZXJyb3IpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpIHtcbiAgICBpZiAoem9uZS5faGFzUGVuZGluZ01pY3JvdGFza3MgfHxcbiAgICAgICAgKCh6b25lLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gfHwgem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikgJiZcbiAgICAgICAgICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkICE9PSAtMSkpIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gb25FbnRlcih6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZysrO1xuICAgIGlmICh6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHpvbmUuaXNTdGFibGUgPSBmYWxzZTtcbiAgICAgICAgem9uZS5vblVuc3RhYmxlLmVtaXQobnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gb25MZWF2ZSh6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZy0tO1xuICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xufVxuLyoqXG4gKiBQcm92aWRlcyBhIG5vb3AgaW1wbGVtZW50YXRpb24gb2YgYE5nWm9uZWAgd2hpY2ggZG9lcyBub3RoaW5nLiBUaGlzIHpvbmUgcmVxdWlyZXMgZXhwbGljaXQgY2FsbHNcbiAqIHRvIGZyYW1ld29yayB0byBwZXJmb3JtIHJlbmRlcmluZy5cbiAqL1xuY2xhc3MgTm9vcE5nWm9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uTWljcm90YXNrRW1wdHkgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25TdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgcnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICBydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICBydW5PdXRzaWRlQW5ndWxhcihmbikge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgcnVuVGFzayhmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgVGVzdGFiaWxpdHkgc2VydmljZSBwcm92aWRlcyB0ZXN0aW5nIGhvb2tzIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGZyb21cbiAqIHRoZSBicm93c2VyLiBFYWNoIGJvb3RzdHJhcHBlZCBBbmd1bGFyIGFwcGxpY2F0aW9uIG9uIHRoZSBwYWdlIHdpbGwgaGF2ZVxuICogYW4gaW5zdGFuY2Ugb2YgVGVzdGFiaWxpdHkuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFRlc3RhYmlsaXR5IHtcbiAgICBjb25zdHJ1Y3Rvcihfbmdab25lKSB7XG4gICAgICAgIHRoaXMuX25nWm9uZSA9IF9uZ1pvbmU7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2lzWm9uZVN0YWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGFueSB3b3JrIHdhcyBkb25lIHNpbmNlIHRoZSBsYXN0ICd3aGVuU3RhYmxlJyBjYWxsYmFjay4gVGhpcyBpc1xuICAgICAgICAgKiB1c2VmdWwgdG8gZGV0ZWN0IGlmIHRoaXMgY291bGQgaGF2ZSBwb3RlbnRpYWxseSBkZXN0YWJpbGl6ZWQgYW5vdGhlclxuICAgICAgICAgKiBjb21wb25lbnQgd2hpbGUgaXQgaXMgc3RhYmlsaXppbmcuXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGlkV29yayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy50YXNrVHJhY2tpbmdab25lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCk7XG4gICAgICAgIF9uZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFza1RyYWNraW5nWm9uZSA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIFpvbmUgPT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogWm9uZS5jdXJyZW50LmdldCgnVGFza1RyYWNraW5nWm9uZScpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3dhdGNoQW5ndWxhckV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5fbmdab25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1pvbmVTdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9uZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIE5nWm9uZS5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlTWljcm9UYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzWm9uZVN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBudW1iZXIgb2YgcGVuZGluZyByZXF1ZXN0XG4gICAgICogQGRlcHJlY2F0ZWQgcGVuZGluZyByZXF1ZXN0cyBhcmUgbm93IHRyYWNrZWQgd2l0aCB6b25lcy5cbiAgICAgKi9cbiAgICBpbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCArPSAxO1xuICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjcmVhc2VzIHRoZSBudW1iZXIgb2YgcGVuZGluZyByZXF1ZXN0XG4gICAgICogQGRlcHJlY2F0ZWQgcGVuZGluZyByZXF1ZXN0cyBhcmUgbm93IHRyYWNrZWQgd2l0aCB6b25lc1xuICAgICAqL1xuICAgIGRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50IC09IDE7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nQ291bnQgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BlbmRpbmcgYXN5bmMgcmVxdWVzdHMgYmVsb3cgemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciBhbiBhc3NvY2lhdGVkIGFwcGxpY2F0aW9uIGlzIHN0YWJsZVxuICAgICAqL1xuICAgIGlzU3RhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNab25lU3RhYmxlICYmIHRoaXMuX3BlbmRpbmdDb3VudCA9PT0gMCAmJiAhdGhpcy5fbmdab25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzO1xuICAgIH1cbiAgICBfcnVuQ2FsbGJhY2tzSWZSZWFkeSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFibGUoKSkge1xuICAgICAgICAgICAgLy8gU2NoZWR1bGVzIHRoZSBjYWxsIGJhY2tzIGluIGEgbmV3IGZyYW1lIHNvIHRoYXQgaXQgaXMgYWx3YXlzIGFzeW5jLlxuICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9jYWxsYmFja3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYiA9IHRoaXMuX2NhbGxiYWNrcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNiLnRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNiLmRvbmVDYih0aGlzLl9kaWRXb3JrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlkV29yayA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTdGlsbCBub3Qgc3RhYmxlLCBzZW5kIHVwZGF0ZXMuXG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRoaXMuZ2V0UGVuZGluZ1Rhc2tzKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MuZmlsdGVyKChjYikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYi51cGRhdGVDYiAmJiBjYi51cGRhdGVDYihwZW5kaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2IudGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fZGlkV29yayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UGVuZGluZ1Rhc2tzKCkge1xuICAgICAgICBpZiAoIXRoaXMudGFza1RyYWNraW5nWm9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvcHkgdGhlIHRhc2tzIGRhdGEgc28gdGhhdCB3ZSBkb24ndCBsZWFrIHRhc2tzLlxuICAgICAgICByZXR1cm4gdGhpcy50YXNrVHJhY2tpbmdab25lLm1hY3JvVGFza3MubWFwKCh0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNvdXJjZTogdC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgLy8gRnJvbSBUYXNrVHJhY2tpbmdab25lOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3pvbmUuanMvYmxvYi9tYXN0ZXIvbGliL3pvbmUtc3BlYy90YXNrLXRyYWNraW5nLnRzI0w0MFxuICAgICAgICAgICAgICAgIGNyZWF0aW9uTG9jYXRpb246IHQuY3JlYXRpb25Mb2NhdGlvbixcbiAgICAgICAgICAgICAgICBkYXRhOiB0LmRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRDYWxsYmFjayhjYiwgdGltZW91dCwgdXBkYXRlQ2IpIHtcbiAgICAgICAgbGV0IHRpbWVvdXRJZCA9IC0xO1xuICAgICAgICBpZiAodGltZW91dCAmJiB0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzLmZpbHRlcigoY2IpID0+IGNiLnRpbWVvdXRJZCAhPT0gdGltZW91dElkKTtcbiAgICAgICAgICAgICAgICBjYih0aGlzLl9kaWRXb3JrLCB0aGlzLmdldFBlbmRpbmdUYXNrcygpKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKHsgZG9uZUNiOiBjYiwgdGltZW91dElkOiB0aW1lb3V0SWQsIHVwZGF0ZUNiOiB1cGRhdGVDYiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FpdCBmb3IgdGhlIGFwcGxpY2F0aW9uIHRvIGJlIHN0YWJsZSB3aXRoIGEgdGltZW91dC4gSWYgdGhlIHRpbWVvdXQgaXMgcmVhY2hlZCBiZWZvcmUgdGhhdFxuICAgICAqIGhhcHBlbnMsIHRoZSBjYWxsYmFjayByZWNlaXZlcyBhIGxpc3Qgb2YgdGhlIG1hY3JvIHRhc2tzIHRoYXQgd2VyZSBwZW5kaW5nLCBvdGhlcndpc2UgbnVsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb25lQ2IgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aGVuIEFuZ3VsYXIgaXMgc3RhYmxlIG9yIHRoZSB0aW1lb3V0IGV4cGlyZXNcbiAgICAgKiAgICB3aGljaGV2ZXIgY29tZXMgZmlyc3QuXG4gICAgICogQHBhcmFtIHRpbWVvdXQgT3B0aW9uYWwuIFRoZSBtYXhpbXVtIHRpbWUgdG8gd2FpdCBmb3IgQW5ndWxhciB0byBiZWNvbWUgc3RhYmxlLiBJZiBub3RcbiAgICAgKiAgICBzcGVjaWZpZWQsIHdoZW5TdGFibGUoKSB3aWxsIHdhaXQgZm9yZXZlci5cbiAgICAgKiBAcGFyYW0gdXBkYXRlQ2IgT3B0aW9uYWwuIElmIHNwZWNpZmllZCwgdGhpcyBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNldCBvZlxuICAgICAqICAgIHBlbmRpbmcgbWFjcm90YXNrcyBjaGFuZ2VzLiBJZiB0aGlzIGNhbGxiYWNrIHJldHVybnMgdHJ1ZSBkb25lQ2Igd2lsbCBub3QgYmUgaW52b2tlZFxuICAgICAqICAgIGFuZCBubyBmdXJ0aGVyIHVwZGF0ZXMgd2lsbCBiZSBpc3N1ZWQuXG4gICAgICovXG4gICAgd2hlblN0YWJsZShkb25lQ2IsIHRpbWVvdXQsIHVwZGF0ZUNiKSB7XG4gICAgICAgIGlmICh1cGRhdGVDYiAmJiAhdGhpcy50YXNrVHJhY2tpbmdab25lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rhc2sgdHJhY2tpbmcgem9uZSBpcyByZXF1aXJlZCB3aGVuIHBhc3NpbmcgYW4gdXBkYXRlIGNhbGxiYWNrIHRvICcgK1xuICAgICAgICAgICAgICAgICd3aGVuU3RhYmxlKCkuIElzIFwiem9uZS5qcy9wbHVnaW5zL3Rhc2stdHJhY2tpbmdcIiBsb2FkZWQ/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlc2UgYXJndW1lbnRzIGFyZSAnRnVuY3Rpb24nIGFib3ZlIHRvIGtlZXAgdGhlIHB1YmxpYyBBUEkgc2ltcGxlLlxuICAgICAgICB0aGlzLmFkZENhbGxiYWNrKGRvbmVDYiwgdGltZW91dCwgdXBkYXRlQ2IpO1xuICAgICAgICB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVxdWVzdHNcbiAgICAgKiBAZGVwcmVjYXRlZCBwZW5kaW5nIHJlcXVlc3RzIGFyZSBub3cgdHJhY2tlZCB3aXRoIHpvbmVzXG4gICAgICovXG4gICAgZ2V0UGVuZGluZ1JlcXVlc3RDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBwcm92aWRlcnMgYnkgbmFtZVxuICAgICAqIEBwYXJhbSB1c2luZyBUaGUgcm9vdCBlbGVtZW50IHRvIHNlYXJjaCBmcm9tXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIFRoZSBuYW1lIG9mIGJpbmRpbmcgdmFyaWFibGVcbiAgICAgKiBAcGFyYW0gZXhhY3RNYXRjaCBXaGV0aGVyIHVzaW5nIGV4YWN0TWF0Y2hcbiAgICAgKi9cbiAgICBmaW5kUHJvdmlkZXJzKHVzaW5nLCBwcm92aWRlciwgZXhhY3RNYXRjaCkge1xuICAgICAgICAvLyBUT0RPKGp1bGllbXIpOiBpbXBsZW1lbnQuXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5UZXN0YWJpbGl0eS7JtWZhYyA9IGZ1bmN0aW9uIFRlc3RhYmlsaXR5X0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IFRlc3RhYmlsaXR5KSjJtcm1aW5qZWN0KE5nWm9uZSkpOyB9O1xuVGVzdGFiaWxpdHkuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBUZXN0YWJpbGl0eSwgZmFjdG9yeTogVGVzdGFiaWxpdHkuybVmYWMgfSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoVGVzdGFiaWxpdHksIFt7XG4gICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmdab25lIH1dOyB9LCBudWxsKTsgfSkoKTtcbi8qKlxuICogQSBnbG9iYWwgcmVnaXN0cnkgb2Yge0BsaW5rIFRlc3RhYmlsaXR5fSBpbnN0YW5jZXMgZm9yIHNwZWNpZmljIGVsZW1lbnRzLlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBUZXN0YWJpbGl0eVJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIF90ZXN0YWJpbGl0eUdldHRlci5hZGRUb1dpbmRvdyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFuIGFwcGxpY2F0aW9uIHdpdGggYSB0ZXN0YWJpbGl0eSBob29rIHNvIHRoYXQgaXQgY2FuIGJlIHRyYWNrZWRcbiAgICAgKiBAcGFyYW0gdG9rZW4gdG9rZW4gb2YgYXBwbGljYXRpb24sIHJvb3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSB0ZXN0YWJpbGl0eSBUZXN0YWJpbGl0eSBob29rXG4gICAgICovXG4gICAgcmVnaXN0ZXJBcHBsaWNhdGlvbih0b2tlbiwgdGVzdGFiaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLnNldCh0b2tlbiwgdGVzdGFiaWxpdHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyBhbiBhcHBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0gdG9rZW4gdG9rZW4gb2YgYXBwbGljYXRpb24sIHJvb3QgZWxlbWVudFxuICAgICAqL1xuICAgIHVucmVnaXN0ZXJBcHBsaWNhdGlvbih0b2tlbikge1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMuZGVsZXRlKHRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYWxsIGFwcGxpY2F0aW9uc1xuICAgICAqL1xuICAgIHVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucy5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSB0ZXN0YWJpbGl0eSBob29rIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBAcGFyYW0gZWxlbSByb290IGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRUZXN0YWJpbGl0eShlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBsaWNhdGlvbnMuZ2V0KGVsZW0pIHx8IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcmVnaXN0ZXJlZCB0ZXN0YWJpbGl0aWVzXG4gICAgICovXG4gICAgZ2V0QWxsVGVzdGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLnZhbHVlcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCByZWdpc3RlcmVkIGFwcGxpY2F0aW9ucyhyb290IGVsZW1lbnRzKVxuICAgICAqL1xuICAgIGdldEFsbFJvb3RFbGVtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGVzdGFiaWxpdHkgb2YgYSBub2RlIGluIHRoZSBUcmVlXG4gICAgICogQHBhcmFtIGVsZW0gbm9kZVxuICAgICAqIEBwYXJhbSBmaW5kSW5BbmNlc3RvcnMgd2hldGhlciBmaW5kaW5nIHRlc3RhYmlsaXR5IGluIGFuY2VzdG9ycyBpZiB0ZXN0YWJpbGl0eSB3YXMgbm90IGZvdW5kIGluXG4gICAgICogY3VycmVudCBub2RlXG4gICAgICovXG4gICAgZmluZFRlc3RhYmlsaXR5SW5UcmVlKGVsZW0sIGZpbmRJbkFuY2VzdG9ycyA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIF90ZXN0YWJpbGl0eUdldHRlci5maW5kVGVzdGFiaWxpdHlJblRyZWUodGhpcywgZWxlbSwgZmluZEluQW5jZXN0b3JzKTtcbiAgICB9XG59XG5UZXN0YWJpbGl0eVJlZ2lzdHJ5Lsm1ZmFjID0gZnVuY3Rpb24gVGVzdGFiaWxpdHlSZWdpc3RyeV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBUZXN0YWJpbGl0eVJlZ2lzdHJ5KSgpOyB9O1xuVGVzdGFiaWxpdHlSZWdpc3RyeS7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IFRlc3RhYmlsaXR5UmVnaXN0cnksIGZhY3Rvcnk6IFRlc3RhYmlsaXR5UmVnaXN0cnkuybVmYWMgfSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoVGVzdGFiaWxpdHlSZWdpc3RyeSwgW3tcbiAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSwgbnVsbCk7IH0pKCk7XG5jbGFzcyBfTm9vcEdldFRlc3RhYmlsaXR5IHtcbiAgICBhZGRUb1dpbmRvdyhyZWdpc3RyeSkgeyB9XG4gICAgZmluZFRlc3RhYmlsaXR5SW5UcmVlKHJlZ2lzdHJ5LCBlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgdGhlIHtAbGluayBHZXRUZXN0YWJpbGl0eX0gaW1wbGVtZW50YXRpb24gdXNlZCBieSB0aGUgQW5ndWxhciB0ZXN0aW5nIGZyYW1ld29yay5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gc2V0VGVzdGFiaWxpdHlHZXR0ZXIoZ2V0dGVyKSB7XG4gICAgX3Rlc3RhYmlsaXR5R2V0dGVyID0gZ2V0dGVyO1xufVxubGV0IF90ZXN0YWJpbGl0eUdldHRlciA9IG5ldyBfTm9vcEdldFRlc3RhYmlsaXR5KCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9wbGF0Zm9ybTtcbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZUZhY3RvcnkoaW5qZWN0b3IsIG9wdGlvbnMsIG1vZHVsZVR5cGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TmdNb2R1bGVUeXBlKG1vZHVsZVR5cGUpO1xuICAgIGNvbnN0IG1vZHVsZUZhY3RvcnkgPSBuZXcgTmdNb2R1bGVGYWN0b3J5KG1vZHVsZVR5cGUpO1xuICAgIC8vIEFsbCBvZiB0aGUgbG9naWMgYmVsb3cgaXMgaXJyZWxldmFudCBmb3IgQU9ULWNvbXBpbGVkIGNvZGUuXG4gICAgaWYgKHR5cGVvZiBuZ0ppdE1vZGUgIT09ICd1bmRlZmluZWQnICYmICFuZ0ppdE1vZGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2R1bGVGYWN0b3J5KTtcbiAgICB9XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gaW5qZWN0b3IuZ2V0KENPTVBJTEVSX09QVElPTlMsIFtdKS5jb25jYXQob3B0aW9ucyk7XG4gICAgLy8gQ29uZmlndXJlIHRoZSBjb21waWxlciB0byB1c2UgdGhlIHByb3ZpZGVkIG9wdGlvbnMuIFRoaXMgY2FsbCBtYXkgZmFpbCB3aGVuIG11bHRpcGxlIG1vZHVsZXNcbiAgICAvLyBhcmUgYm9vdHN0cmFwcGVkIHdpdGggaW5jb21wYXRpYmxlIG9wdGlvbnMsIGFzIGEgY29tcG9uZW50IGNhbiBvbmx5IGJlIGNvbXBpbGVkIGFjY29yZGluZyB0b1xuICAgIC8vIGEgc2luZ2xlIHNldCBvZiBvcHRpb25zLlxuICAgIHNldEppdE9wdGlvbnMoe1xuICAgICAgICBkZWZhdWx0RW5jYXBzdWxhdGlvbjogX2xhc3REZWZpbmVkKGNvbXBpbGVyT3B0aW9ucy5tYXAob3B0cyA9PiBvcHRzLmRlZmF1bHRFbmNhcHN1bGF0aW9uKSksXG4gICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZXM6IF9sYXN0RGVmaW5lZChjb21waWxlck9wdGlvbnMubWFwKG9wdHMgPT4gb3B0cy5wcmVzZXJ2ZVdoaXRlc3BhY2VzKSksXG4gICAgfSk7XG4gICAgaWYgKGlzQ29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWVFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyUHJvdmlkZXJzID0gX21lcmdlQXJyYXlzKGNvbXBpbGVyT3B0aW9ucy5tYXAobyA9PiBvLnByb3ZpZGVycykpO1xuICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG5vIGNvbXBpbGVyIHByb3ZpZGVycywgd2UganVzdCByZXR1cm4gdGhlIG1vZHVsZSBmYWN0b3J5IGFzXG4gICAgLy8gdGhlcmUgd29uJ3QgYmUgYW55IHJlc291cmNlIGxvYWRlci4gVGhpcyBjYW4gaGFwcGVuIHdpdGggSXZ5LCBiZWNhdXNlIEFPVCBjb21waWxlZFxuICAgIC8vIG1vZHVsZXMgY2FuIGJlIHN0aWxsIHBhc3NlZCB0aHJvdWdoIFwiYm9vdHN0cmFwTW9kdWxlXCIuIEluIHRoYXQgY2FzZSB3ZSBzaG91bGRuJ3RcbiAgICAvLyB1bm5lY2Vzc2FyaWx5IHJlcXVpcmUgdGhlIEpJVCBjb21waWxlci5cbiAgICBpZiAoY29tcGlsZXJQcm92aWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoe1xuICAgICAgICB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sXG4gICAgICAgIGtpbmQ6ICdOZ01vZHVsZScsXG4gICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogY29tcGlsZXJQcm92aWRlcnMgfSk7XG4gICAgY29uc3QgcmVzb3VyY2VMb2FkZXIgPSBjb21waWxlckluamVjdG9yLmdldChjb21waWxlci5SZXNvdXJjZUxvYWRlcik7XG4gICAgLy8gVGhlIHJlc291cmNlIGxvYWRlciBjYW4gYWxzbyByZXR1cm4gYSBzdHJpbmcgd2hpbGUgdGhlIFwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlc1wiXG4gICAgLy8gYWx3YXlzIGV4cGVjdHMgYSBwcm9taXNlLiBUaGVyZWZvcmUgd2UgbmVlZCB0byB3cmFwIHRoZSByZXR1cm5lZCB2YWx1ZSBpbiBhIHByb21pc2UuXG4gICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXModXJsID0+IFByb21pc2UucmVzb2x2ZShyZXNvdXJjZUxvYWRlci5nZXQodXJsKSkpXG4gICAgICAgIC50aGVuKCgpID0+IG1vZHVsZUZhY3RvcnkpO1xufVxuZnVuY3Rpb24gcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscygpIHtcbiAgICBuZ0Rldk1vZGUgJiYgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxKCk7XG59XG5mdW5jdGlvbiBpc0JvdW5kVG9Nb2R1bGUoY2YpIHtcbiAgICByZXR1cm4gY2YuaXNCb3VuZFRvTW9kdWxlO1xufVxuY29uc3QgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TID0gbmV3IEluamVjdGlvblRva2VuKCdBbGxvd011bHRpcGxlVG9rZW4nKTtcbi8qKlxuICogQSB0b2tlbiBmb3IgdGhpcmQtcGFydHkgY29tcG9uZW50cyB0aGF0IGNhbiByZWdpc3RlciB0aGVtc2VsdmVzIHdpdGggTmdQcm9iZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nUHJvYmVUb2tlbiB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdG9rZW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIHBsYXRmb3JtLlxuICogUGxhdGZvcm1zIG11c3QgYmUgY3JlYXRlZCBvbiBsYXVuY2ggdXNpbmcgdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtKGluamVjdG9yKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCAmJlxuICAgICAgICAhX3BsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAnVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4nIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMCAvKiBNVUxUSVBMRV9QTEFURk9STVMgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMoKTtcbiAgICBfcGxhdGZvcm0gPSBpbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgIGNvbnN0IGluaXRzID0gaW5qZWN0b3IuZ2V0KFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBudWxsKTtcbiAgICBpZiAoaW5pdHMpXG4gICAgICAgIGluaXRzLmZvckVhY2goKGluaXQpID0+IGluaXQoKSk7XG4gICAgcmV0dXJuIF9wbGF0Zm9ybTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGZhY3RvcnkgZm9yIGEgcGxhdGZvcm0uIENhbiBiZSB1c2VkIHRvIHByb3ZpZGUgb3Igb3ZlcnJpZGUgYFByb3ZpZGVyc2Agc3BlY2lmaWMgdG9cbiAqIHlvdXIgYXBwbGljYXRpb24ncyBydW50aW1lIG5lZWRzLCBzdWNoIGFzIGBQTEFURk9STV9JTklUSUFMSVpFUmAgYW5kIGBQTEFURk9STV9JRGAuXG4gKiBAcGFyYW0gcGFyZW50UGxhdGZvcm1GYWN0b3J5IEFub3RoZXIgcGxhdGZvcm0gZmFjdG9yeSB0byBtb2RpZnkuIEFsbG93cyB5b3UgdG8gY29tcG9zZSBmYWN0b3JpZXNcbiAqIHRvIGJ1aWxkIHVwIGNvbmZpZ3VyYXRpb25zIHRoYXQgbWlnaHQgYmUgcmVxdWlyZWQgYnkgZGlmZmVyZW50IGxpYnJhcmllcyBvciBwYXJ0cyBvZiB0aGVcbiAqIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIG5hbWUgSWRlbnRpZmllcyB0aGUgbmV3IHBsYXRmb3JtIGZhY3RvcnkuXG4gKiBAcGFyYW0gcHJvdmlkZXJzIEEgc2V0IG9mIGRlcGVuZGVuY3kgcHJvdmlkZXJzIGZvciBwbGF0Zm9ybXMgY3JlYXRlZCB3aXRoIHRoZSBuZXcgZmFjdG9yeS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwYXJlbnRQbGF0Zm9ybUZhY3RvcnksIG5hbWUsIHByb3ZpZGVycyA9IFtdKSB7XG4gICAgY29uc3QgZGVzYyA9IGBQbGF0Zm9ybTogJHtuYW1lfWA7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IEluamVjdGlvblRva2VuKGRlc2MpO1xuICAgIHJldHVybiAoZXh0cmFQcm92aWRlcnMgPSBbXSkgPT4ge1xuICAgICAgICBsZXQgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgICAgICBpZiAoIXBsYXRmb3JtIHx8IHBsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudFBsYXRmb3JtRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFBsYXRmb3JtRmFjdG9yeShwcm92aWRlcnMuY29uY2F0KGV4dHJhUHJvdmlkZXJzKS5jb25jYXQoeyBwcm92aWRlOiBtYXJrZXIsIHVzZVZhbHVlOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGVkUHJvdmlkZXJzID0gcHJvdmlkZXJzLmNvbmNhdChleHRyYVByb3ZpZGVycykuY29uY2F0KHsgcHJvdmlkZTogbWFya2VyLCB1c2VWYWx1ZTogdHJ1ZSB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IElOSkVDVE9SX1NDT1BFLFxuICAgICAgICAgICAgICAgICAgICB1c2VWYWx1ZTogJ3BsYXRmb3JtJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVBsYXRmb3JtKEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogaW5qZWN0ZWRQcm92aWRlcnMsIG5hbWU6IGRlc2MgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NlcnRQbGF0Zm9ybShtYXJrZXIpO1xuICAgIH07XG59XG4vKipcbiAqIENoZWNrcyB0aGF0IHRoZXJlIGlzIGN1cnJlbnRseSBhIHBsYXRmb3JtIHRoYXQgY29udGFpbnMgdGhlIGdpdmVuIHRva2VuIGFzIGEgcHJvdmlkZXIuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBhc3NlcnRQbGF0Zm9ybShyZXF1aXJlZFRva2VuKSB7XG4gICAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgIGlmICghcGxhdGZvcm0pIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgPyAnTm8gcGxhdGZvcm0gZXhpc3RzIScgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDEgLyogUExBVEZPUk1fTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiZcbiAgICAgICAgIXBsYXRmb3JtLmluamVjdG9yLmdldChyZXF1aXJlZFRva2VuLCBudWxsKSkge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMCAvKiBNVUxUSVBMRV9QTEFURk9STVMgKi8sICdBIHBsYXRmb3JtIHdpdGggYSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBjcmVhdGVkLiBQbGVhc2UgZGVzdHJveSBpdCBmaXJzdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXRmb3JtO1xufVxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY3VycmVudCBBbmd1bGFyIHBsYXRmb3JtIGFuZCBhbGwgQW5ndWxhciBhcHBsaWNhdGlvbnMgb24gdGhlIHBhZ2UuXG4gKiBEZXN0cm95cyBhbGwgbW9kdWxlcyBhbmQgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgcGxhdGZvcm0uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBkZXN0cm95UGxhdGZvcm0oKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCkge1xuICAgICAgICBfcGxhdGZvcm0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldFBsYXRmb3JtKCkge1xuICAgIHJldHVybiBfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQgPyBfcGxhdGZvcm0gOiBudWxsO1xufVxuLyoqXG4gKiBUaGUgQW5ndWxhciBwbGF0Zm9ybSBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIEFuZ3VsYXIgb24gYSB3ZWIgcGFnZS5cbiAqIEVhY2ggcGFnZSBoYXMgZXhhY3RseSBvbmUgcGxhdGZvcm0uIFNlcnZpY2VzIChzdWNoIGFzIHJlZmxlY3Rpb24pIHdoaWNoIGFyZSBjb21tb25cbiAqIHRvIGV2ZXJ5IEFuZ3VsYXIgYXBwbGljYXRpb24gcnVubmluZyBvbiB0aGUgcGFnZSBhcmUgYm91bmQgaW4gaXRzIHNjb3BlLlxuICogQSBwYWdlJ3MgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQgaW1wbGljaXRseSB3aGVuIGEgcGxhdGZvcm0gaXMgY3JlYXRlZCB1c2luZyBhIHBsYXRmb3JtXG4gKiBmYWN0b3J5IHN1Y2ggYXMgYFBsYXRmb3JtQnJvd3NlcmAsIG9yIGV4cGxpY2l0bHkgYnkgY2FsbGluZyB0aGUgYGNyZWF0ZVBsYXRmb3JtKClgIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUGxhdGZvcm1SZWYge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3RvcihfaW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX21vZHVsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgQE5nTW9kdWxlYCBmb3IgdGhlIGdpdmVuIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGFzc2luZyBOZ01vZHVsZSBmYWN0b3JpZXMgYXMgdGhlIGBQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVGYWN0b3J5YCBmdW5jdGlvblxuICAgICAqICAgICBhcmd1bWVudCBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIGBQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVgIEFQSSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSwgb3B0aW9ucykge1xuICAgICAgICAvLyBOb3RlOiBXZSBuZWVkIHRvIGNyZWF0ZSB0aGUgTmdab25lIF9iZWZvcmVfIHdlIGluc3RhbnRpYXRlIHRoZSBtb2R1bGUsXG4gICAgICAgIC8vIGFzIGluc3RhbnRpYXRpbmcgdGhlIG1vZHVsZSBjcmVhdGVzIHNvbWUgcHJvdmlkZXJzIGVhZ2VybHkuXG4gICAgICAgIC8vIFNvIHdlIGNyZWF0ZSBhIG1pbmkgcGFyZW50IGluamVjdG9yIHRoYXQganVzdCBjb250YWlucyB0aGUgbmV3IE5nWm9uZSBhbmRcbiAgICAgICAgLy8gcGFzcyB0aGF0IGFzIHBhcmVudCB0byB0aGUgTmdNb2R1bGVGYWN0b3J5LlxuICAgICAgICBjb25zdCBuZ1pvbmVPcHRpb24gPSBvcHRpb25zID8gb3B0aW9ucy5uZ1pvbmUgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5nWm9uZUV2ZW50Q29hbGVzY2luZyA9IChvcHRpb25zICYmIG9wdGlvbnMubmdab25lRXZlbnRDb2FsZXNjaW5nKSB8fCBmYWxzZTtcbiAgICAgICAgY29uc3Qgbmdab25lUnVuQ29hbGVzY2luZyA9IChvcHRpb25zICYmIG9wdGlvbnMubmdab25lUnVuQ29hbGVzY2luZykgfHwgZmFsc2U7XG4gICAgICAgIGNvbnN0IG5nWm9uZSA9IGdldE5nWm9uZShuZ1pvbmVPcHRpb24sIHsgbmdab25lRXZlbnRDb2FsZXNjaW5nLCBuZ1pvbmVSdW5Db2FsZXNjaW5nIH0pO1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBbeyBwcm92aWRlOiBOZ1pvbmUsIHVzZVZhbHVlOiBuZ1pvbmUgfV07XG4gICAgICAgIC8vIE5vdGU6IENyZWF0ZSBuZ1pvbmVJbmplY3RvciB3aXRoaW4gbmdab25lLnJ1biBzbyB0aGF0IGFsbCBvZiB0aGUgaW5zdGFudGlhdGVkIHNlcnZpY2VzIGFyZVxuICAgICAgICAvLyBjcmVhdGVkIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lXG4gICAgICAgIC8vIERvIG5vdCB0cnkgdG8gcmVwbGFjZSBuZ1pvbmUucnVuIHdpdGggQXBwbGljYXRpb25SZWYjcnVuIGJlY2F1c2UgQXBwbGljYXRpb25SZWYgd291bGQgdGhlbiBiZVxuICAgICAgICAvLyBjcmVhdGVkIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgICAgcmV0dXJuIG5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbmdab25lSW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IHByb3ZpZGVycywgcGFyZW50OiB0aGlzLmluamVjdG9yLCBuYW1lOiBtb2R1bGVGYWN0b3J5Lm1vZHVsZVR5cGUubmFtZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZVJlZiA9IG1vZHVsZUZhY3RvcnkuY3JlYXRlKG5nWm9uZUluamVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGV4Y2VwdGlvbkhhbmRsZXIgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoIWV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgICAgICdObyBFcnJvckhhbmRsZXIuIElzIHBsYXRmb3JtIG1vZHVsZSAoQnJvd3Nlck1vZHVsZSkgaW5jbHVkZWQ/JyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAyIC8qIEVSUk9SX0hBTkRMRVJfTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZ1pvbmUub25FcnJvci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbW9kdWxlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0aGlzLl9tb2R1bGVzLCBtb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIoZXhjZXB0aW9uSGFuZGxlciwgbmdab25lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdFN0YXR1cyA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoQXBwbGljYXRpb25Jbml0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICBpbml0U3RhdHVzLnJ1bkluaXRpYWxpemVycygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0U3RhdHVzLmRvbmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYExPQ0FMRV9JRGAgcHJvdmlkZXIgaXMgZGVmaW5lZCBhdCBib290c3RyYXAgdGhlbiB3ZSBzZXQgdGhlIHZhbHVlIGZvciBpdnlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxlSWQgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KExPQ0FMRV9JRCwgREVGQVVMVF9MT0NBTEVfSUQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbGVJZChsb2NhbGVJZCB8fCBERUZBVUxUX0xPQ0FMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZHVsZURvQm9vdHN0cmFwKG1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVSZWY7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYEBOZ01vZHVsZWAgZm9yIGEgZ2l2ZW4gcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBTaW1wbGUgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBOZ01vZHVsZSh7XG4gICAgICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV1cbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIE15TW9kdWxlIHt9XG4gICAgICpcbiAgICAgKiBsZXQgbW9kdWxlUmVmID0gcGxhdGZvcm1Ccm93c2VyKCkuYm9vdHN0cmFwTW9kdWxlKE15TW9kdWxlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIGJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMgPSBbXSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc1JlZHVjZXIoe30sIGNvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBjb21waWxlTmdNb2R1bGVGYWN0b3J5KHRoaXMuaW5qZWN0b3IsIG9wdGlvbnMsIG1vZHVsZVR5cGUpXG4gICAgICAgICAgICAudGhlbihtb2R1bGVGYWN0b3J5ID0+IHRoaXMuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5LCBvcHRpb25zKSk7XG4gICAgfVxuICAgIF9tb2R1bGVEb0Jvb3RzdHJhcChtb2R1bGVSZWYpIHtcbiAgICAgICAgY29uc3QgYXBwUmVmID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChBcHBsaWNhdGlvblJlZik7XG4gICAgICAgIGlmIChtb2R1bGVSZWYuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW9kdWxlUmVmLl9ib290c3RyYXBDb21wb25lbnRzLmZvckVhY2goZiA9PiBhcHBSZWYuYm9vdHN0cmFwKGYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2R1bGVSZWYuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCkge1xuICAgICAgICAgICAgbW9kdWxlUmVmLmluc3RhbmNlLm5nRG9Cb290c3RyYXAoYXBwUmVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgVGhlIG1vZHVsZSAke3N0cmluZ2lmeShtb2R1bGVSZWYuaW5zdGFuY2UuY29uc3RydWN0b3IpfSB3YXMgYm9vdHN0cmFwcGVkLCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlIFwiQE5nTW9kdWxlLmJvb3RzdHJhcFwiIGNvbXBvbmVudHMgbm9yIGEgXCJuZ0RvQm9vdHN0cmFwXCIgbWV0aG9kLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmAgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDMgLyogQk9PVFNUUkFQX0NPTVBPTkVOVFNfTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZHVsZXMucHVzaChtb2R1bGVSZWYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGxhdGZvcm0gaXMgZGVzdHJveWVkLlxuICAgICAqL1xuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHBsYXRmb3JtIHtAbGluayBJbmplY3Rvcn0sIHdoaWNoIGlzIHRoZSBwYXJlbnQgaW5qZWN0b3IgZm9yXG4gICAgICogZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSBhbmQgcHJvdmlkZXMgc2luZ2xldG9uIHByb3ZpZGVycy5cbiAgICAgKi9cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmplY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGN1cnJlbnQgQW5ndWxhciBwbGF0Zm9ybSBhbmQgYWxsIEFuZ3VsYXIgYXBwbGljYXRpb25zIG9uIHRoZSBwYWdlLlxuICAgICAqIERlc3Ryb3lzIGFsbCBtb2R1bGVzIGFuZCBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBwbGF0Zm9ybS5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ1RoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEnIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDA0IC8qIEFMUkVBRFlfREVTVFJPWUVEX1BMQVRGT1JNICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZHVsZXMuc2xpY2UoKS5mb3JFYWNoKG1vZHVsZSA9PiBtb2R1bGUuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cbn1cblBsYXRmb3JtUmVmLsm1ZmFjID0gZnVuY3Rpb24gUGxhdGZvcm1SZWZfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgUGxhdGZvcm1SZWYpKMm1ybVpbmplY3QoSW5qZWN0b3IpKTsgfTtcblBsYXRmb3JtUmVmLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogUGxhdGZvcm1SZWYsIGZhY3Rvcnk6IFBsYXRmb3JtUmVmLsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHsgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKFBsYXRmb3JtUmVmLCBbe1xuICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEluamVjdG9yIH1dOyB9LCBudWxsKTsgfSkoKTtcbmZ1bmN0aW9uIGdldE5nWm9uZShuZ1pvbmVPcHRpb24sIGV4dHJhKSB7XG4gICAgbGV0IG5nWm9uZTtcbiAgICBpZiAobmdab25lT3B0aW9uID09PSAnbm9vcCcpIHtcbiAgICAgICAgbmdab25lID0gbmV3IE5vb3BOZ1pvbmUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nWm9uZSA9IChuZ1pvbmVPcHRpb24gPT09ICd6b25lLmpzJyA/IHVuZGVmaW5lZCA6IG5nWm9uZU9wdGlvbikgfHwgbmV3IE5nWm9uZSh7XG4gICAgICAgICAgICBlbmFibGVMb25nU3RhY2tUcmFjZTogdHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6ICEhbmdEZXZNb2RlLFxuICAgICAgICAgICAgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjogISFleHRyYT8ubmdab25lRXZlbnRDb2FsZXNjaW5nLFxuICAgICAgICAgICAgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb246ICEhZXh0cmE/Lm5nWm9uZVJ1bkNvYWxlc2NpbmdcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZ1pvbmU7XG59XG5mdW5jdGlvbiBfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyKGVycm9ySGFuZGxlciwgbmdab25lLCBjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICAgICAgICAgIC8vIHJldGhyb3cgYXMgdGhlIGV4Y2VwdGlvbiBoYW5kbGVyIG1pZ2h0IG5vdCBkbyBpdFxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpKTtcbiAgICAgICAgLy8gcmV0aHJvdyBhcyB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgbWlnaHQgbm90IGRvIGl0XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuZnVuY3Rpb24gb3B0aW9uc1JlZHVjZXIoZHN0LCBvYmpzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqcykpIHtcbiAgICAgICAgZHN0ID0gb2Jqcy5yZWR1Y2Uob3B0aW9uc1JlZHVjZXIsIGRzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3QgPSB7IC4uLmRzdCwgLi4ub2JqcyB9O1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIHJ1bm5pbmcgb24gYSBwYWdlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICoge0BhIGlzLXN0YWJsZS1leGFtcGxlc31cbiAqICMjIyBpc1N0YWJsZSBleGFtcGxlcyBhbmQgY2F2ZWF0c1xuICpcbiAqIE5vdGUgdHdvIGltcG9ydGFudCBwb2ludHMgYWJvdXQgYGlzU3RhYmxlYCwgZGVtb25zdHJhdGVkIGluIHRoZSBleGFtcGxlcyBiZWxvdzpcbiAqIC0gdGhlIGFwcGxpY2F0aW9uIHdpbGwgbmV2ZXIgYmUgc3RhYmxlIGlmIHlvdSBzdGFydCBhbnkga2luZFxuICogb2YgcmVjdXJyZW50IGFzeW5jaHJvbm91cyB0YXNrIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHN0YXJ0c1xuICogKGZvciBleGFtcGxlIGZvciBhIHBvbGxpbmcgcHJvY2Vzcywgc3RhcnRlZCB3aXRoIGEgYHNldEludGVydmFsYCwgYSBgc2V0VGltZW91dGBcbiAqIG9yIHVzaW5nIFJ4SlMgb3BlcmF0b3JzIGxpa2UgYGludGVydmFsYCk7XG4gKiAtIHRoZSBgaXNTdGFibGVgIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogTGV0J3MgaW1hZ2luZSB0aGF0IHlvdSBzdGFydCBhIHJlY3VycmVudCB0YXNrXG4gKiAoaGVyZSBpbmNyZW1lbnRpbmcgYSBjb3VudGVyLCB1c2luZyBSeEpTIGBpbnRlcnZhbGApLFxuICogYW5kIGF0IHRoZSBzYW1lIHRpbWUgc3Vic2NyaWJlIHRvIGBpc1N0YWJsZWAuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgICBmaWx0ZXIoc3RhYmxlID0+IHN0YWJsZSlcbiAqICAgKS5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ0FwcCBpcyBzdGFibGUgbm93Jyk7XG4gKiAgIGludGVydmFsKDEwMDApLnN1YnNjcmliZShjb3VudGVyID0+IGNvbnNvbGUubG9nKGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICogSW4gdGhpcyBleGFtcGxlLCBgaXNTdGFibGVgIHdpbGwgbmV2ZXIgZW1pdCBgdHJ1ZWAsXG4gKiBhbmQgdGhlIHRyYWNlIFwiQXBwIGlzIHN0YWJsZSBub3dcIiB3aWxsIG5ldmVyIGdldCBsb2dnZWQuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gZXhlY3V0ZSBzb21ldGhpbmcgd2hlbiB0aGUgYXBwIGlzIHN0YWJsZSxcbiAqIHlvdSBoYXZlIHRvIHdhaXQgZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSBzdGFibGVcbiAqIGJlZm9yZSBzdGFydGluZyB5b3VyIHBvbGxpbmcgcHJvY2Vzcy5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgdGFwKHN0YWJsZSA9PiBjb25zb2xlLmxvZygnQXBwIGlzIHN0YWJsZSBub3cnKSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IGNvbnNvbGUubG9nKGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICogSW4gdGhpcyBleGFtcGxlLCB0aGUgdHJhY2UgXCJBcHAgaXMgc3RhYmxlIG5vd1wiIHdpbGwgYmUgbG9nZ2VkXG4gKiBhbmQgdGhlbiB0aGUgY291bnRlciBzdGFydHMgaW5jcmVtZW50aW5nIGV2ZXJ5IHNlY29uZC5cbiAqXG4gKiBOb3RlIGFsc28gdGhhdCB0aGlzIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUsXG4gKiB3aGljaCBtZWFucyB0aGF0IHRoZSBjb2RlIGluIHRoZSBzdWJzY3JpcHRpb25cbiAqIHRvIHRoaXMgT2JzZXJ2YWJsZSB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uLlxuICpcbiAqIExldCdzIGltYWdpbmUgdGhhdCBpbnN0ZWFkIG9mIGxvZ2dpbmcgdGhlIGNvdW50ZXIgdmFsdWUsXG4gKiB5b3UgdXBkYXRlIGEgZmllbGQgb2YgeW91ciBjb21wb25lbnRcbiAqIGFuZCBkaXNwbGF5IGl0IGluIGl0cyB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHRoaXMudmFsdWUgPSBjb3VudGVyKTtcbiAqIH1cbiAqIGBgYFxuICogQXMgdGhlIGBpc1N0YWJsZWAgT2JzZXJ2YWJsZSBydW5zIG91dHNpZGUgdGhlIHpvbmUsXG4gKiB0aGUgYHZhbHVlYCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgcHJvcGVybHksXG4gKiBidXQgdGhlIHRlbXBsYXRlIHdpbGwgbm90IGJlIHJlZnJlc2hlZCFcbiAqXG4gKiBZb3UnbGwgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLCBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHtcbiAqICAgICB0aGlzLnZhbHVlID0gY291bnRlcjtcbiAqICAgICBjZC5kZXRlY3RDaGFuZ2VzKCk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogT3IgbWFrZSB0aGUgc3Vic2NyaXB0aW9uIGNhbGxiYWNrIHJ1biBpbnNpZGUgdGhlIHpvbmUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLCB6b25lOiBOZ1pvbmUpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHpvbmUucnVuKCgpID0+IHRoaXMudmFsdWUgPSBjb3VudGVyKSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uUmVmIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29uc3RydWN0b3IoX3pvbmUsIF9pbmplY3RvciwgX2V4Y2VwdGlvbkhhbmRsZXIsIF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIF9pbml0U3RhdHVzKSB7XG4gICAgICAgIHRoaXMuX3pvbmUgPSBfem9uZTtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIgPSBfZXhjZXB0aW9uSGFuZGxlcjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5faW5pdFN0YXR1cyA9IF9pbml0U3RhdHVzO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl92aWV3cyA9IFtdO1xuICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgbGlzdCBvZiBjb21wb25lbnQgdHlwZXMgcmVnaXN0ZXJlZCB0byB0aGlzIGFwcGxpY2F0aW9uLlxuICAgICAgICAgKiBUaGlzIGxpc3QgaXMgcG9wdWxhdGVkIGV2ZW4gYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgY3JlYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbiA9IHRoaXMuX3pvbmUub25NaWNyb3Rhc2tFbXB0eS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpc0N1cnJlbnRseVN0YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gdGhpcy5fem9uZS5pc1N0YWJsZSAmJiAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzO1xuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0aGlzLl9zdGFibGUpO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGlzU3RhYmxlID0gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHN1YnNjcmlwdGlvbiB0byBvblN0YWJsZSBvdXRzaWRlIHRoZSBBbmd1bGFyIFpvbmUgc28gdGhhdFxuICAgICAgICAgICAgLy8gdGhlIGNhbGxiYWNrIGlzIHJ1biBvdXRzaWRlIHRoZSBBbmd1bGFyIFpvbmUuXG4gICAgICAgICAgICBsZXQgc3RhYmxlU3ViO1xuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhYmxlU3ViID0gdGhpcy5fem9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZXJlIGFyZSBubyBwZW5kaW5nIG1hY3JvL21pY3JvIHRhc2tzIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgZm9yIE5nWm9uZSB0byB1cGRhdGUgdGhlIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3N0YWJsZSAmJiAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdW5zdGFibGVTdWIgPSB0aGlzLl96b25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBzdGFibGVTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB1bnN0YWJsZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaXNTdGFibGUgPVxuICAgICAgICAgICAgbWVyZ2UkMShpc0N1cnJlbnRseVN0YWJsZSwgaXNTdGFibGUucGlwZShzaGFyZSgpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJvb3RzdHJhcCBhIGNvbXBvbmVudCBvbnRvIHRoZSBlbGVtZW50IGlkZW50aWZpZWQgYnkgaXRzIHNlbGVjdG9yIG9yLCBvcHRpb25hbGx5LCB0byBhXG4gICAgICogc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBCb290c3RyYXAgcHJvY2Vzc1xuICAgICAqXG4gICAgICogV2hlbiBib290c3RyYXBwaW5nIGEgY29tcG9uZW50LCBBbmd1bGFyIG1vdW50cyBpdCBvbnRvIGEgdGFyZ2V0IERPTSBlbGVtZW50XG4gICAgICogYW5kIGtpY2tzIG9mZiBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbi4gVGhlIHRhcmdldCBET00gZWxlbWVudCBjYW4gYmVcbiAgICAgKiBwcm92aWRlZCB1c2luZyB0aGUgYHJvb3RTZWxlY3Rvck9yTm9kZWAgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IERPTSBlbGVtZW50IGlzIG5vdCBwcm92aWRlZCwgQW5ndWxhciB0cmllcyB0byBmaW5kIG9uZSBvbiBhIHBhZ2VcbiAgICAgKiB1c2luZyB0aGUgYHNlbGVjdG9yYCBvZiB0aGUgY29tcG9uZW50IHRoYXQgaXMgYmVpbmcgYm9vdHN0cmFwcGVkXG4gICAgICogKGZpcnN0IG1hdGNoZWQgZWxlbWVudCBpcyB1c2VkKS5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBHZW5lcmFsbHksIHdlIGRlZmluZSB0aGUgY29tcG9uZW50IHRvIGJvb3RzdHJhcCBpbiB0aGUgYGJvb3RzdHJhcGAgYXJyYXkgb2YgYE5nTW9kdWxlYCxcbiAgICAgKiBidXQgaXQgcmVxdWlyZXMgdXMgdG8ga25vdyB0aGUgY29tcG9uZW50IHdoaWxlIHdyaXRpbmcgdGhlIGFwcGxpY2F0aW9uIGNvZGUuXG4gICAgICpcbiAgICAgKiBJbWFnaW5lIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGhhdmUgdG8gd2FpdCBmb3IgYW4gQVBJIGNhbGwgdG8gZGVjaWRlIGFib3V0IHRoZSBjb21wb25lbnQgdG9cbiAgICAgKiBib290c3RyYXAuIFdlIGNhbiB1c2UgdGhlIGBuZ0RvQm9vdHN0cmFwYCBob29rIG9mIHRoZSBgTmdNb2R1bGVgIGFuZCBjYWxsIHRoaXMgbWV0aG9kIHRvXG4gICAgICogZHluYW1pY2FsbHkgYm9vdHN0cmFwIGEgY29tcG9uZW50LlxuICAgICAqXG4gICAgICoge0BleGFtcGxlIGNvcmUvdHMvcGxhdGZvcm0vcGxhdGZvcm0udHMgcmVnaW9uPSdjb21wb25lbnRTZWxlY3Rvcid9XG4gICAgICpcbiAgICAgKiBPcHRpb25hbGx5LCBhIGNvbXBvbmVudCBjYW4gYmUgbW91bnRlZCBvbnRvIGEgRE9NIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGVcbiAgICAgKiBzZWxlY3RvciBvZiB0aGUgYm9vdHN0cmFwcGVkIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgd2UgYXJlIHByb3ZpZGluZyBhIENTUyBzZWxlY3RvciB0byBtYXRjaCB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgY29yZS90cy9wbGF0Zm9ybS9wbGF0Zm9ybS50cyByZWdpb249J2Nzc1NlbGVjdG9yJ31cbiAgICAgKlxuICAgICAqIFdoaWxlIGluIHRoaXMgZXhhbXBsZSwgd2UgYXJlIHByb3ZpZGluZyByZWZlcmVuY2UgdG8gYSBET00gbm9kZS5cbiAgICAgKlxuICAgICAqIHtAZXhhbXBsZSBjb3JlL3RzL3BsYXRmb3JtL3BsYXRmb3JtLnRzIHJlZ2lvbj0nZG9tTm9kZSd9XG4gICAgICovXG4gICAgYm9vdHN0cmFwKGNvbXBvbmVudE9yRmFjdG9yeSwgcm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdFN0YXR1cy5kb25lKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ0Nhbm5vdCBib290c3RyYXAgYXMgdGhlcmUgYXJlIHN0aWxsIGFzeW5jaHJvbm91cyBpbml0aWFsaXplcnMgcnVubmluZy4gJyArXG4gICAgICAgICAgICAgICAgICAgICdCb290c3RyYXAgY29tcG9uZW50cyBpbiB0aGUgYG5nRG9Cb290c3RyYXBgIG1ldGhvZCBvZiB0aGUgcm9vdCBtb2R1bGUuJyA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwNSAvKiBBU1lOQ19JTklUSUFMSVpFUlNfU1RJTExfUlVOTklORyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcG9uZW50RmFjdG9yeTtcbiAgICAgICAgaWYgKGNvbXBvbmVudE9yRmFjdG9yeSBpbnN0YW5jZW9mIENvbXBvbmVudEZhY3RvcnkkMSkge1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeSA9IGNvbXBvbmVudE9yRmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudEZhY3RvcnkgPVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRPckZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChjb21wb25lbnRGYWN0b3J5LmNvbXBvbmVudFR5cGUpO1xuICAgICAgICAvLyBDcmVhdGUgYSBmYWN0b3J5IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2R1bGUgaWYgaXQncyBub3QgYm91bmQgdG8gc29tZSBvdGhlclxuICAgICAgICBjb25zdCBuZ01vZHVsZSA9IGlzQm91bmRUb01vZHVsZShjb21wb25lbnRGYWN0b3J5KSA/IHVuZGVmaW5lZCA6IHRoaXMuX2luamVjdG9yLmdldChOZ01vZHVsZVJlZiQxKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JPck5vZGUgPSByb290U2VsZWN0b3JPck5vZGUgfHwgY29tcG9uZW50RmFjdG9yeS5zZWxlY3RvcjtcbiAgICAgICAgY29uc3QgY29tcFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKEluamVjdG9yLk5VTEwsIFtdLCBzZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpO1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gY29tcFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCB0ZXN0YWJpbGl0eSA9IGNvbXBSZWYuaW5qZWN0b3IuZ2V0KFRlc3RhYmlsaXR5LCBudWxsKTtcbiAgICAgICAgY29uc3QgdGVzdGFiaWxpdHlSZWdpc3RyeSA9IHRlc3RhYmlsaXR5ICYmIGNvbXBSZWYuaW5qZWN0b3IuZ2V0KFRlc3RhYmlsaXR5UmVnaXN0cnkpO1xuICAgICAgICBpZiAodGVzdGFiaWxpdHkgJiYgdGVzdGFiaWxpdHlSZWdpc3RyeSkge1xuICAgICAgICAgICAgdGVzdGFiaWxpdHlSZWdpc3RyeS5yZWdpc3RlckFwcGxpY2F0aW9uKG5hdGl2ZUVsZW1lbnQsIHRlc3RhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaFZpZXcoY29tcFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICByZW1vdmUodGhpcy5jb21wb25lbnRzLCBjb21wUmVmKTtcbiAgICAgICAgICAgIGlmICh0ZXN0YWJpbGl0eVJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICAgICAgdGVzdGFiaWxpdHlSZWdpc3RyeS51bnJlZ2lzdGVyQXBwbGljYXRpb24obmF0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9sb2FkQ29tcG9uZW50KGNvbXBSZWYpO1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBfY29uc29sZSA9IHRoaXMuX2luamVjdG9yLmdldChDb25zb2xlKTtcbiAgICAgICAgICAgIF9jb25zb2xlLmxvZyhgQW5ndWxhciBpcyBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGUuIENhbGwgZW5hYmxlUHJvZE1vZGUoKSB0byBlbmFibGUgcHJvZHVjdGlvbiBtb2RlLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gZXhwbGljaXRseSBwcm9jZXNzIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGl0cyBzaWRlLWVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBJbiBkZXZlbG9wbWVudCBtb2RlLCBgdGljaygpYCBhbHNvIHBlcmZvcm1zIGEgc2Vjb25kIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUgdG8gZW5zdXJlIHRoYXQgbm9cbiAgICAgKiBmdXJ0aGVyIGNoYW5nZXMgYXJlIGRldGVjdGVkLiBJZiBhZGRpdGlvbmFsIGNoYW5nZXMgYXJlIHBpY2tlZCB1cCBkdXJpbmcgdGhpcyBzZWNvbmQgY3ljbGUsXG4gICAgICogYmluZGluZ3MgaW4gdGhlIGFwcCBoYXZlIHNpZGUtZWZmZWN0cyB0aGF0IGNhbm5vdCBiZSByZXNvbHZlZCBpbiBhIHNpbmdsZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogcGFzcy5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIEFuZ3VsYXIgdGhyb3dzIGFuIGVycm9yLCBzaW5jZSBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIGNhbiBvbmx5IGhhdmUgb25lIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBwYXNzIGR1cmluZyB3aGljaCBhbGwgY2hhbmdlIGRldGVjdGlvbiBtdXN0IGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHRpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl9ydW5uaW5nVGljaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICdBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseScgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigxMDEgLyogUkVDVVJTSVZFX0FQUExJQ0FUSU9OX1JFRl9USUNLICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMuX3ZpZXdzKSB7XG4gICAgICAgICAgICAgICAgdmlldy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLl92aWV3cykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNoZWNrTm9DaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBBdHRlbnRpb246IERvbid0IHJldGhyb3cgYXMgaXQgY291bGQgY2FuY2VsIHN1YnNjcmlwdGlvbnMgdG8gT2JzZXJ2YWJsZXMhXG4gICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHZpZXcgc28gdGhhdCBpdCB3aWxsIGJlIGRpcnR5IGNoZWNrZWQuXG4gICAgICogVGhlIHZpZXcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRldGFjaGVkIHdoZW4gaXQgaXMgZGVzdHJveWVkLlxuICAgICAqIFRoaXMgd2lsbCB0aHJvdyBpZiB0aGUgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgVmlld0NvbnRhaW5lci5cbiAgICAgKi9cbiAgICBhdHRhY2hWaWV3KHZpZXdSZWYpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuX3ZpZXdzLnB1c2godmlldyk7XG4gICAgICAgIHZpZXcuYXR0YWNoVG9BcHBSZWYodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGFjaGVzIGEgdmlldyBmcm9tIGRpcnR5IGNoZWNraW5nIGFnYWluLlxuICAgICAqL1xuICAgIGRldGFjaFZpZXcodmlld1JlZikge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmlld1JlZjtcbiAgICAgICAgcmVtb3ZlKHRoaXMuX3ZpZXdzLCB2aWV3KTtcbiAgICAgICAgdmlldy5kZXRhY2hGcm9tQXBwUmVmKCk7XG4gICAgfVxuICAgIF9sb2FkQ29tcG9uZW50KGNvbXBvbmVudFJlZikge1xuICAgICAgICB0aGlzLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudFJlZik7XG4gICAgICAgIC8vIEdldCB0aGUgbGlzdGVuZXJzIGxhemlseSB0byBwcmV2ZW50IERJIGN5Y2xlcy5cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5faW5qZWN0b3IuZ2V0KEFQUF9CT09UU1RSQVBfTElTVEVORVIsIFtdKS5jb25jYXQodGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzKTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihjb21wb25lbnRSZWYpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2goKHZpZXcpID0+IHZpZXcuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYXR0YWNoZWQgdmlld3MuXG4gICAgICovXG4gICAgZ2V0IHZpZXdDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aDtcbiAgICB9XG59XG5BcHBsaWNhdGlvblJlZi7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uUmVmX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uUmVmKSjJtcm1aW5qZWN0KE5nWm9uZSksIMm1ybVpbmplY3QoSW5qZWN0b3IpLCDJtcm1aW5qZWN0KEVycm9ySGFuZGxlciksIMm1ybVpbmplY3QoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEpLCDJtcm1aW5qZWN0KEFwcGxpY2F0aW9uSW5pdFN0YXR1cykpOyB9O1xuQXBwbGljYXRpb25SZWYuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBBcHBsaWNhdGlvblJlZiwgZmFjdG9yeTogQXBwbGljYXRpb25SZWYuybVmYWMsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbihmdW5jdGlvbiAoKSB7ICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShBcHBsaWNhdGlvblJlZiwgW3tcbiAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5nWm9uZSB9LCB7IHR5cGU6IEluamVjdG9yIH0sIHsgdHlwZTogRXJyb3JIYW5kbGVyIH0sIHsgdHlwZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEgfSwgeyB0eXBlOiBBcHBsaWNhdGlvbkluaXRTdGF0dXMgfV07IH0sIG51bGwpOyB9KSgpO1xuZnVuY3Rpb24gcmVtb3ZlKGxpc3QsIGVsKSB7XG4gICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YoZWwpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfbGFzdERlZmluZWQoYXJncykge1xuICAgIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChhcmdzW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBfbWVyZ2VBcnJheXMocGFydHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBwYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiBwYXJ0ICYmIHJlc3VsdC5wdXNoKC4uLnBhcnQpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGlzIHVzZWQgdG8gY29udHJvbCBpZiB0aGUgZGVmYXVsdCByZW5kZXJpbmcgcGlwZWxpbmUgc2hvdWxkIGJlIGBWaWV3RW5naW5lYCBvciBgSXZ5YC5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gcnVuIGFuZCBkZWJ1ZyB0ZXN0cyB3aXRoIGVpdGhlciBJdnkgb3IgVmlldyBFbmdpbmUgKGxlZ2FjeSksXG4gKiBwbGVhc2Ugc2VlIFtCQVpFTC5tZF0oLi9kb2NzL0JBWkVMLm1kKS5cbiAqL1xubGV0IF9kZXZNb2RlID0gdHJ1ZTtcbmxldCBfcnVuTW9kZUxvY2tlZCA9IGZhbHNlO1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgQW5ndWxhciBpcyBpbiBkZXZlbG9wbWVudCBtb2RlLiBBZnRlciBjYWxsZWQgb25jZSxcbiAqIHRoZSB2YWx1ZSBpcyBsb2NrZWQgYW5kIHdvbid0IGNoYW5nZSBhbnkgbW9yZS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRydWUsIHVubGVzcyBhIHVzZXIgY2FsbHMgYGVuYWJsZVByb2RNb2RlYCBiZWZvcmUgY2FsbGluZyB0aGlzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gaXNEZXZNb2RlKCkge1xuICAgIF9ydW5Nb2RlTG9ja2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gX2Rldk1vZGU7XG59XG4vKipcbiAqIERpc2FibGUgQW5ndWxhcidzIGRldmVsb3BtZW50IG1vZGUsIHdoaWNoIHR1cm5zIG9mZiBhc3NlcnRpb25zIGFuZCBvdGhlclxuICogY2hlY2tzIHdpdGhpbiB0aGUgZnJhbWV3b3JrLlxuICpcbiAqIE9uZSBpbXBvcnRhbnQgYXNzZXJ0aW9uIHRoaXMgZGlzYWJsZXMgdmVyaWZpZXMgdGhhdCBhIGNoYW5nZSBkZXRlY3Rpb24gcGFzc1xuICogZG9lcyBub3QgcmVzdWx0IGluIGFkZGl0aW9uYWwgY2hhbmdlcyB0byBhbnkgYmluZGluZ3MgKGFsc28ga25vd24gYXNcbiAqIHVuaWRpcmVjdGlvbmFsIGRhdGEgZmxvdykuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBlbmFibGVQcm9kTW9kZSgpIHtcbiAgICBpZiAoX3J1bk1vZGVMb2NrZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZW5hYmxlIHByb2QgbW9kZSBhZnRlciBwbGF0Zm9ybSBzZXR1cC4nKTtcbiAgICB9XG4gICAgLy8gVGhlIGJlbG93IGNoZWNrIGlzIHRoZXJlIHNvIHdoZW4gbmdEZXZNb2RlIGlzIHNldCB2aWEgdGVyc2VyXG4gICAgLy8gYGdsb2JhbFsnbmdEZXZNb2RlJ10gPSBmYWxzZTtgIGlzIGFsc28gZHJvcHBlZC5cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gdW5kZWZpbmVkIHx8ICEhbmdEZXZNb2RlKSB7XG4gICAgICAgIF9nbG9iYWxbJ25nRGV2TW9kZSddID0gZmFsc2U7XG4gICAgfVxuICAgIF9kZXZNb2RlID0gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIE5nTW9kdWxlRmFjdG9yeSB3aXRoIHRoZSBnaXZlbiBpZCAoc3BlY2lmaWVkIHVzaW5nIFtATmdNb2R1bGUuaWRcbiAqIGZpZWxkXShhcGkvY29yZS9OZ01vZHVsZSNpZCkpLCBpZiBpdCBleGlzdHMgYW5kIGhhcyBiZWVuIGxvYWRlZC4gRmFjdG9yaWVzIGZvciBOZ01vZHVsZXMgdGhhdCBkb1xuICogbm90IHNwZWNpZnkgYW4gYGlkYCBjYW5ub3QgYmUgcmV0cmlldmVkLiBUaHJvd3MgaWYgYW4gTmdNb2R1bGUgY2Fubm90IGJlIGZvdW5kLlxuICogQHB1YmxpY0FwaVxuICogQGRlcHJlY2F0ZWQgVXNlIGBnZXROZ01vZHVsZUJ5SWRgIGluc3RlYWQuXG4gKi9cbmZ1bmN0aW9uIGdldE1vZHVsZUZhY3RvcnkoaWQpIHtcbiAgICBjb25zdCB0eXBlID0gZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZShpZCk7XG4gICAgaWYgKCF0eXBlKVxuICAgICAgICB0aHJvdyBub01vZHVsZUVycm9yKGlkKTtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlRmFjdG9yeSh0eXBlKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgTmdNb2R1bGUgY2xhc3Mgd2l0aCB0aGUgZ2l2ZW4gaWQgKHNwZWNpZmllZCB1c2luZyBbQE5nTW9kdWxlLmlkXG4gKiBmaWVsZF0oYXBpL2NvcmUvTmdNb2R1bGUjaWQpKSwgaWYgaXQgZXhpc3RzIGFuZCBoYXMgYmVlbiBsb2FkZWQuIENsYXNzZXMgZm9yIE5nTW9kdWxlcyB0aGF0IGRvXG4gKiBub3Qgc3BlY2lmeSBhbiBgaWRgIGNhbm5vdCBiZSByZXRyaWV2ZWQuIFRocm93cyBpZiBhbiBOZ01vZHVsZSBjYW5ub3QgYmUgZm91bmQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldE5nTW9kdWxlQnlJZChpZCkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRSZWdpc3RlcmVkTmdNb2R1bGVUeXBlKGlkKTtcbiAgICBpZiAoIXR5cGUpXG4gICAgICAgIHRocm93IG5vTW9kdWxlRXJyb3IoaWQpO1xuICAgIHJldHVybiB0eXBlO1xufVxuZnVuY3Rpb24gbm9Nb2R1bGVFcnJvcihpZCkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYE5vIG1vZHVsZSB3aXRoIElEICR7aWR9IGxvYWRlZGApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQmFzZSBjbGFzcyB0aGF0IHByb3ZpZGVzIGNoYW5nZSBkZXRlY3Rpb24gZnVuY3Rpb25hbGl0eS5cbiAqIEEgY2hhbmdlLWRldGVjdGlvbiB0cmVlIGNvbGxlY3RzIGFsbCB2aWV3cyB0aGF0IGFyZSB0byBiZSBjaGVja2VkIGZvciBjaGFuZ2VzLlxuICogVXNlIHRoZSBtZXRob2RzIHRvIGFkZCBhbmQgcmVtb3ZlIHZpZXdzIGZyb20gdGhlIHRyZWUsIGluaXRpYXRlIGNoYW5nZS1kZXRlY3Rpb24sXG4gKiBhbmQgZXhwbGljaXRseSBtYXJrIHZpZXdzIGFzIF9kaXJ0eV8sIG1lYW5pbmcgdGhhdCB0aGV5IGhhdmUgY2hhbmdlZCBhbmQgbmVlZCB0byBiZSByZS1yZW5kZXJlZC5cbiAqXG4gKiBAc2VlIFtVc2luZyBjaGFuZ2UgZGV0ZWN0aW9uIGhvb2tzXShndWlkZS9saWZlY3ljbGUtaG9va3MjdXNpbmctY2hhbmdlLWRldGVjdGlvbi1ob29rcylcbiAqIEBzZWUgW0RlZmluaW5nIGN1c3RvbSBjaGFuZ2UgZGV0ZWN0aW9uXShndWlkZS9saWZlY3ljbGUtaG9va3MjZGVmaW5pbmctY3VzdG9tLWNoYW5nZS1kZXRlY3Rpb24pXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGVzIGRlbW9uc3RyYXRlIGhvdyB0byBtb2RpZnkgZGVmYXVsdCBjaGFuZ2UtZGV0ZWN0aW9uIGJlaGF2aW9yXG4gKiB0byBwZXJmb3JtIGV4cGxpY2l0IGRldGVjdGlvbiB3aGVuIG5lZWRlZC5cbiAqXG4gKiAjIyMgVXNlIGBtYXJrRm9yQ2hlY2soKWAgd2l0aCBgQ2hlY2tPbmNlYCBzdHJhdGVneVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzZXRzIHRoZSBgT25QdXNoYCBjaGFuZ2UtZGV0ZWN0aW9uIHN0cmF0ZWd5IGZvciBhIGNvbXBvbmVudFxuICogKGBDaGVja09uY2VgLCByYXRoZXIgdGhhbiB0aGUgZGVmYXVsdCBgQ2hlY2tBbHdheXNgKSwgdGhlbiBmb3JjZXMgYSBzZWNvbmQgY2hlY2tcbiAqIGFmdGVyIGFuIGludGVydmFsLiBTZWUgW2xpdmUgZGVtb10oaHR0cHM6Ly9wbG5rci5jby9lZGl0L0dDNTEyYj9wPXByZXZpZXcpLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCJcbiAqIHJlZ2lvbj1cIm1hcmstZm9yLWNoZWNrXCI+PC9jb2RlLWV4YW1wbGU+XG4gKlxuICogIyMjIERldGFjaCBjaGFuZ2UgZGV0ZWN0b3IgdG8gbGltaXQgaG93IG9mdGVuIGNoZWNrIG9jY3Vyc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWZpbmVzIGEgY29tcG9uZW50IHdpdGggYSBsYXJnZSBsaXN0IG9mIHJlYWQtb25seSBkYXRhXG4gKiB0aGF0IGlzIGV4cGVjdGVkIHRvIGNoYW5nZSBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuXG4gKiBUbyBpbXByb3ZlIHBlcmZvcm1hbmNlLCB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3RcbiAqIGxlc3Mgb2Z0ZW4gdGhhbiB0aGUgY2hhbmdlcyBhY3R1YWxseSBvY2N1ci4gVG8gZG8gdGhhdCwgd2UgZGV0YWNoXG4gKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBwZXJmb3JtIGFuIGV4cGxpY2l0IGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiIHJlZ2lvbj1cImRldGFjaFwiPjwvY29kZS1leGFtcGxlPlxuICpcbiAqXG4gKiAjIyMgUmVhdHRhY2hpbmcgYSBkZXRhY2hlZCBjb21wb25lbnRcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIGNvbXBvbmVudCBkaXNwbGF5aW5nIGxpdmUgZGF0YS5cbiAqIFRoZSBjb21wb25lbnQgZGV0YWNoZXMgaXRzIGNoYW5nZSBkZXRlY3RvciBmcm9tIHRoZSBtYWluIGNoYW5nZSBkZXRlY3RvciB0cmVlXG4gKiB3aGVuIHRoZSBgbGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIGZhbHNlLCBhbmQgcmVhdHRhY2hlcyBpdCB3aGVuIHRoZSBwcm9wZXJ0eVxuICogYmVjb21lcyB0cnVlLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCIgcmVnaW9uPVwicmVhdHRhY2hcIj48L2NvZGUtZXhhbXBsZT5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIENoYW5nZURldGVjdG9yUmVmIHtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5DaGFuZ2VEZXRlY3RvclJlZi5fX05HX0VMRU1FTlRfSURfXyA9IGluamVjdENoYW5nZURldGVjdG9yUmVmO1xuLyoqIFJldHVybnMgYSBDaGFuZ2VEZXRlY3RvclJlZiAoYS5rLmEuIGEgVmlld1JlZikgKi9cbmZ1bmN0aW9uIGluamVjdENoYW5nZURldGVjdG9yUmVmKGZsYWdzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZpZXdSZWYoZ2V0Q3VycmVudFROb2RlKCksIGdldExWaWV3KCksIChmbGFncyAmIDE2IC8qIEZvclBpcGUgKi8pID09PSAxNiAvKiBGb3JQaXBlICovKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IgYXMgQ2hhbmdlRGV0ZWN0b3JSZWYgKHB1YmxpYyBhbGlhcykuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBub2RlIHRoYXQgaXMgcmVxdWVzdGluZyBhIENoYW5nZURldGVjdG9yUmVmXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHBhcmFtIGlzUGlwZSBXaGV0aGVyIHRoZSB2aWV3IGlzIGJlaW5nIGluamVjdGVkIGludG8gYSBwaXBlLlxuICogQHJldHVybnMgVGhlIENoYW5nZURldGVjdG9yUmVmIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3UmVmKHROb2RlLCBsVmlldywgaXNQaXBlKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50SG9zdCh0Tm9kZSkgJiYgIWlzUGlwZSkge1xuICAgICAgICAvLyBUaGUgTFZpZXcgcmVwcmVzZW50cyB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIGNvbXBvbmVudCBpcyBkZWNsYXJlZC5cbiAgICAgICAgLy8gSW5zdGVhZCB3ZSB3YW50IHRoZSBMVmlldyBmb3IgdGhlIGNvbXBvbmVudCBWaWV3IGFuZCBzbyB3ZSBuZWVkIHRvIGxvb2sgaXQgdXAuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTsgLy8gbG9vayBkb3duXG4gICAgICAgIHJldHVybiBuZXcgVmlld1JlZiQxKGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAzMiAvKiBJY3UgKi8pKSB7XG4gICAgICAgIC8vIFRoZSBMVmlldyByZXByZXNlbnRzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgaW5qZWN0aW9uIGlzIHJlcXVlc3RlZCBmcm9tLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGxvY2F0ZSB0aGUgY29udGFpbmluZyBMVmlldyAoaW4gY2FzZSB3aGVyZSB0aGUgYGxWaWV3YCBpcyBhbiBlbWJlZGRlZCB2aWV3KVxuICAgICAgICBjb25zdCBob3N0Q29tcG9uZW50VmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTsgLy8gbG9vayB1cFxuICAgICAgICByZXR1cm4gbmV3IFZpZXdSZWYkMShob3N0Q29tcG9uZW50VmlldywgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gQW5ndWxhciBbdmlld10oZ3VpZGUvZ2xvc3NhcnkjdmlldyBcIkRlZmluaXRpb25cIikuXG4gKlxuICogQHNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjdXNhZ2Utbm90ZXMgQ2hhbmdlIGRldGVjdGlvbiB1c2FnZX1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFZpZXdSZWYgZXh0ZW5kcyBDaGFuZ2VEZXRlY3RvclJlZiB7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gQW5ndWxhciBbdmlld10oZ3VpZGUvZ2xvc3NhcnkjdmlldykgaW4gYSB2aWV3IGNvbnRhaW5lci5cbiAqIEFuIFtlbWJlZGRlZCB2aWV3XShndWlkZS9nbG9zc2FyeSN2aWV3LXRyZWUpIGNhbiBiZSByZWZlcmVuY2VkIGZyb20gYSBjb21wb25lbnRcbiAqIG90aGVyIHRoYW4gdGhlIGhvc3RpbmcgY29tcG9uZW50IHdob3NlIHRlbXBsYXRlIGRlZmluZXMgaXQsIG9yIGl0IGNhbiBiZSBkZWZpbmVkXG4gKiBpbmRlcGVuZGVudGx5IGJ5IGEgYFRlbXBsYXRlUmVmYC5cbiAqXG4gKiBQcm9wZXJ0aWVzIG9mIGVsZW1lbnRzIGluIGEgdmlldyBjYW4gY2hhbmdlLCBidXQgdGhlIHN0cnVjdHVyZSAobnVtYmVyIGFuZCBvcmRlcikgb2YgZWxlbWVudHMgaW5cbiAqIGEgdmlldyBjYW5ub3QuIENoYW5nZSB0aGUgc3RydWN0dXJlIG9mIGVsZW1lbnRzIGJ5IGluc2VydGluZywgbW92aW5nLCBvclxuICogcmVtb3ZpbmcgbmVzdGVkIHZpZXdzIGluIGEgdmlldyBjb250YWluZXIuXG4gKlxuICogQHNlZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgYnJlYWtzIGRvd24gaW50byB0d28gc2VwYXJhdGUgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZXMsXG4gKiBhbiBvdXRlciBvbmUgYW5kIGFuIGlubmVyIG9uZS5cbiAqXG4gKiBgYGBcbiAqIENvdW50OiB7e2l0ZW1zLmxlbmd0aH19XG4gKiA8dWw+XG4gKiAgIDxsaSAqbmdGb3I9XCJsZXQgIGl0ZW0gb2YgaXRlbXNcIj57e2l0ZW19fTwvbGk+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogVGhpcyBpcyB0aGUgb3V0ZXIgYFRlbXBsYXRlUmVmYDpcbiAqXG4gKiBgYGBcbiAqIENvdW50OiB7e2l0ZW1zLmxlbmd0aH19XG4gKiA8dWw+XG4gKiAgIDxuZy10ZW1wbGF0ZSBuZ0ZvciBsZXQtaXRlbSBbbmdGb3JPZl09XCJpdGVtc1wiPjwvbmctdGVtcGxhdGU+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogVGhpcyBpcyB0aGUgaW5uZXIgYFRlbXBsYXRlUmVmYDpcbiAqXG4gKiBgYGBcbiAqICAgPGxpPnt7aXRlbX19PC9saT5cbiAqIGBgYFxuICpcbiAqIFRoZSBvdXRlciBhbmQgaW5uZXIgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZXMgYXJlIGFzc2VtYmxlZCBpbnRvIHZpZXdzIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgXG4gKiA8IS0tIFZpZXdSZWY6IG91dGVyLTAgLS0+XG4gKiBDb3VudDogMlxuICogPHVsPlxuICogICA8bmctdGVtcGxhdGUgdmlldy1jb250YWluZXItcmVmPjwvbmctdGVtcGxhdGU+XG4gKiAgIDwhLS0gVmlld1JlZjogaW5uZXItMSAtLT48bGk+Zmlyc3Q8L2xpPjwhLS0gL1ZpZXdSZWY6IGlubmVyLTEgLS0+XG4gKiAgIDwhLS0gVmlld1JlZjogaW5uZXItMiAtLT48bGk+c2Vjb25kPC9saT48IS0tIC9WaWV3UmVmOiBpbm5lci0yIC0tPlxuICogPC91bD5cbiAqIDwhLS0gL1ZpZXdSZWY6IG91dGVyLTAgLS0+XG4gKiBgYGBcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRW1iZWRkZWRWaWV3UmVmIGV4dGVuZHMgVmlld1JlZiB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZmlsZSBleGlzdHMgZm9yIGVhc2lseSBwYXRjaGluZyBOZ01vZHVsZUZhY3RvcnlMb2FkZXIgaW4gZzNcbnZhciBuZ19tb2R1bGVfZmFjdG9yeV9sb2FkZXJfaW1wbCA9IHt9O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBEZWJ1Z0V2ZW50TGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gYXNOYXRpdmVFbGVtZW50cyhkZWJ1Z0Vscykge1xuICAgIHJldHVybiBkZWJ1Z0Vscy5tYXAoKGVsKSA9PiBlbC5uYXRpdmVFbGVtZW50KTtcbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBEZWJ1Z05vZGUge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVOb2RlID0gbmF0aXZlTm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGBEZWJ1Z0VsZW1lbnRgIHBhcmVudC4gV2lsbCBiZSBgbnVsbGAgaWYgdGhpcyBpcyB0aGUgcm9vdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubmF0aXZlTm9kZS5wYXJlbnROb2RlO1xuICAgICAgICByZXR1cm4gcGFyZW50ID8gbmV3IERlYnVnRWxlbWVudChwYXJlbnQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhvc3QgZGVwZW5kZW5jeSBpbmplY3Rvci4gRm9yIGV4YW1wbGUsIHRoZSByb290IGVsZW1lbnQncyBjb21wb25lbnQgaW5zdGFuY2UgaW5qZWN0b3IuXG4gICAgICovXG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW5qZWN0b3IodGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQncyBvd24gY29tcG9uZW50IGluc3RhbmNlLCBpZiBpdCBoYXMgb25lLlxuICAgICAqL1xuICAgIGdldCBjb21wb25lbnRJbnN0YW5jZSgpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMubmF0aXZlTm9kZTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUVsZW1lbnQgJiZcbiAgICAgICAgICAgIChnZXRDb21wb25lbnQkMShuYXRpdmVFbGVtZW50KSB8fCBnZXRPd25pbmdDb21wb25lbnQobmF0aXZlRWxlbWVudCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBwcm92aWRlcyBwYXJlbnQgY29udGV4dCBmb3IgdGhpcyBlbGVtZW50LiBPZnRlbiBhbiBhbmNlc3RvciBjb21wb25lbnQgaW5zdGFuY2VcbiAgICAgKiB0aGF0IGdvdmVybnMgdGhpcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogV2hlbiBhbiBlbGVtZW50IGlzIHJlcGVhdGVkIHdpdGhpbiAqbmdGb3IsIHRoZSBjb250ZXh0IGlzIGFuIGBOZ0Zvck9mYCB3aG9zZSBgJGltcGxpY2l0YFxuICAgICAqIHByb3BlcnR5IGlzIHRoZSB2YWx1ZSBvZiB0aGUgcm93IGluc3RhbmNlIHZhbHVlLiBGb3IgZXhhbXBsZSwgdGhlIGBoZXJvYCBpbiBgKm5nRm9yPVwibGV0IGhlcm9cbiAgICAgKiBvZiBoZXJvZXNcImAuXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnQkMSh0aGlzLm5hdGl2ZU5vZGUpIHx8IGdldENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxiYWNrcyBhdHRhY2hlZCB0byB0aGUgY29tcG9uZW50J3MgQE91dHB1dCBwcm9wZXJ0aWVzIGFuZC9vciB0aGUgZWxlbWVudCdzIGV2ZW50XG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBnZXQgbGlzdGVuZXJzKCkge1xuICAgICAgICByZXR1cm4gZ2V0TGlzdGVuZXJzKHRoaXMubmF0aXZlTm9kZSkuZmlsdGVyKGxpc3RlbmVyID0+IGxpc3RlbmVyLnR5cGUgPT09ICdkb20nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGljdGlvbmFyeSBvZiBvYmplY3RzIGFzc29jaWF0ZWQgd2l0aCB0ZW1wbGF0ZSBsb2NhbCB2YXJpYWJsZXMgKGUuZy4gI2ZvbyksIGtleWVkIGJ5IHRoZSBsb2NhbFxuICAgICAqIHZhcmlhYmxlIG5hbWUuXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZXMoKSB7XG4gICAgICAgIHJldHVybiBnZXRMb2NhbFJlZnModGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBjb21wb25lbnQncyBpbmplY3RvciBsb29rdXAgdG9rZW5zLiBJbmNsdWRlcyB0aGUgY29tcG9uZW50IGl0c2VsZiBwbHVzIHRoZSB0b2tlbnMgdGhhdCB0aGVcbiAgICAgKiBjb21wb25lbnQgbGlzdHMgaW4gaXRzIHByb3ZpZGVycyBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBnZXQgcHJvdmlkZXJUb2tlbnMoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbmplY3Rpb25Ub2tlbnModGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAc2VlIFtDb21wb25lbnQgdGVzdGluZyBzY2VuYXJpb3NdKGd1aWRlL3Rlc3RpbmctY29tcG9uZW50cy1zY2VuYXJpb3MpXG4gKiBAc2VlIFtCYXNpY3Mgb2YgdGVzdGluZyBjb21wb25lbnRzXShndWlkZS90ZXN0aW5nLWNvbXBvbmVudHMtYmFzaWNzKVxuICogQHNlZSBbVGVzdGluZyB1dGlsaXR5IEFQSXNdKGd1aWRlL3Rlc3RpbmctdXRpbGl0eS1hcGlzKVxuICovXG5jbGFzcyBEZWJ1Z0VsZW1lbnQgZXh0ZW5kcyBEZWJ1Z05vZGUge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIHN1cGVyKG5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdW5kZXJseWluZyBET00gZWxlbWVudCBhdCB0aGUgcm9vdCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBuYXRpdmVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVOb2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFID8gdGhpcy5uYXRpdmVOb2RlIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgdGFnIG5hbWUsIGlmIGl0IGlzIGFuIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dCh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoY29udGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgICAgICAgICAgY29uc3QgdERhdGEgPSBsVmlld1tUVklFV10uZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHROb2RlID0gdERhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICAgICAgcmV0dXJuIHROb2RlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlTm9kZS5ub2RlTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgR2V0cyBhIG1hcCBvZiBwcm9wZXJ0eSBuYW1lcyB0byBwcm9wZXJ0eSB2YWx1ZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiAgVGhpcyBtYXAgaW5jbHVkZXM6XG4gICAgICogIC0gUmVndWxhciBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgW2lkXT1cImlkXCJgKVxuICAgICAqICAtIEhvc3QgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYGhvc3Q6IHsgJ1tpZF0nOiBcImlkXCIgfWApXG4gICAgICogIC0gSW50ZXJwb2xhdGVkIHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIGBpZD1cInt7IHZhbHVlIH19XCIpXG4gICAgICpcbiAgICAgKiAgSXQgZG9lcyBub3QgaW5jbHVkZTpcbiAgICAgKiAgLSBpbnB1dCBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgW215Q3VzdG9tSW5wdXRdPVwidmFsdWVcImApXG4gICAgICogIC0gYXR0cmlidXRlIGJpbmRpbmdzIChlLmcuIGBbYXR0ci5yb2xlXT1cIm1lbnVcImApXG4gICAgICovXG4gICAgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dCh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgY29uc3QgdERhdGEgPSBsVmlld1tUVklFV10uZGF0YTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSB0RGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgLy8gQ29sbGVjdCBwcm9wZXJ0aWVzIGZyb20gdGhlIERPTS5cbiAgICAgICAgY29weURvbVByb3BlcnRpZXModGhpcy5uYXRpdmVFbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgLy8gQ29sbGVjdCBwcm9wZXJ0aWVzIGZyb20gdGhlIGJpbmRpbmdzLiBUaGlzIGlzIG5lZWRlZCBmb3IgYW5pbWF0aW9uIHJlbmRlcmVyIHdoaWNoIGhhc1xuICAgICAgICAvLyBzeW50aGV0aWMgcHJvcGVydGllcyB3aGljaCBkb24ndCBnZXQgcmVmbGVjdGVkIGludG8gdGhlIERPTS5cbiAgICAgICAgY29sbGVjdFByb3BlcnR5QmluZGluZ3MocHJvcGVydGllcywgdE5vZGUsIGxWaWV3LCB0RGF0YSk7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAgQSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IGF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgICAgICBjb25zdCB0Tm9kZUF0dHJzID0gbFZpZXdbVFZJRVddLmRhdGFbY29udGV4dC5ub2RlSW5kZXhdLmF0dHJzO1xuICAgICAgICBjb25zdCBsb3dlcmNhc2VUTm9kZUF0dHJzID0gW107XG4gICAgICAgIC8vIEZvciBkZWJ1ZyBub2RlcyB3ZSB0YWtlIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlIGRpcmVjdGx5IGZyb20gdGhlIERPTSBzaW5jZSBpdCBhbGxvd3MgdXNcbiAgICAgICAgLy8gdG8gYWNjb3VudCBmb3Igb25lcyB0aGF0IHdlcmVuJ3Qgc2V0IHZpYSBiaW5kaW5ncyAoZS5nLiBWaWV3RW5naW5lIGtlZXBzIHRyYWNrIG9mIHRoZSBvbmVzXG4gICAgICAgIC8vIHRoYXQgYXJlIHNldCB0aHJvdWdoIGBSZW5kZXJlcjJgKS4gVGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgYnJvd3NlciB3aWxsIGxvd2VyY2FzZSBhbGwgbmFtZXMsXG4gICAgICAgIC8vIGhvd2V2ZXIgc2luY2Ugd2UgaGF2ZSB0aGUgYXR0cmlidXRlcyBhbHJlYWR5IG9uIHRoZSBUTm9kZSwgd2UgY2FuIHByZXNlcnZlIHRoZSBjYXNlIGJ5IGdvaW5nXG4gICAgICAgIC8vIHRocm91Z2ggdGhlbSBvbmNlLCBhZGRpbmcgdGhlbSB0byB0aGUgYGF0dHJpYnV0ZXNgIG1hcCBhbmQgcHV0dGluZyB0aGVpciBsb3dlci1jYXNlZCBuYW1lXG4gICAgICAgIC8vIGludG8gYW4gYXJyYXkuIEFmdGVyd2FyZHMgd2hlbiB3ZSdyZSBnb2luZyB0aHJvdWdoIHRoZSBuYXRpdmUgRE9NIGF0dHJpYnV0ZXMsIHdlIGNhbiBjaGVja1xuICAgICAgICAvLyB3aGV0aGVyIHdlIGhhdmVuJ3QgcnVuIGludG8gYW4gYXR0cmlidXRlIGFscmVhZHkgdGhyb3VnaCB0aGUgVE5vZGUuXG4gICAgICAgIGlmICh0Tm9kZUF0dHJzKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHROb2RlQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB0Tm9kZUF0dHJzW2ldO1xuICAgICAgICAgICAgICAgIC8vIFN0b3AgYXMgc29vbiBhcyB3ZSBoaXQgYSBtYXJrZXIuIFdlIG9ubHkgY2FyZSBhYm91dCB0aGUgcmVndWxhciBhdHRyaWJ1dGVzLiBFdmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgLy8gZWxzZSB3aWxsIGJlIGhhbmRsZWQgYmVsb3cgd2hlbiB3ZSByZWFkIHRoZSBmaW5hbCBhdHRyaWJ1dGVzIG9mZiB0aGUgRE9NLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ck5hbWUgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSB0Tm9kZUF0dHJzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJOYW1lXSA9IGF0dHJWYWx1ZTtcbiAgICAgICAgICAgICAgICBsb3dlcmNhc2VUTm9kZUF0dHJzLnB1c2goYXR0ck5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVBdHRycyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBlQXR0cnNbaV07XG4gICAgICAgICAgICBjb25zdCBsb3dlcmNhc2VOYW1lID0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCBhc3NpZ24gdGhlIHNhbWUgYXR0cmlidXRlIGJvdGggaW4gaXRzXG4gICAgICAgICAgICAvLyBjYXNlLXNlbnNpdGl2ZSBmb3JtIGFuZCB0aGUgbG93ZXItY2FzZWQgb25lIGZyb20gdGhlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlVE5vZGVBdHRycy5pbmRleE9mKGxvd2VyY2FzZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGxvd2VyY2FzZSBuYW1lIHRvIGFsaWduIHRoZSBiZWhhdmlvciBiZXR3ZWVuIGJyb3dzZXJzLlxuICAgICAgICAgICAgICAgIC8vIElFIHByZXNlcnZlcyB0aGUgY2FzZSwgd2hpbGUgYWxsIG90aGVyIGJyb3dzZXIgY29udmVydCBpdCB0byBsb3dlciBjYXNlLlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbbG93ZXJjYXNlTmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaW5saW5lIHN0eWxlcyBvZiB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBXaWxsIGJlIGBudWxsYCBpZiB0aGVyZSBpcyBubyBgc3R5bGVgIHByb3BlcnR5IG9uIHRoZSB1bmRlcmx5aW5nIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHNlZSBbRWxlbWVudENTU0lubGluZVN0eWxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudENTU0lubGluZVN0eWxlL3N0eWxlKVxuICAgICAqL1xuICAgIGdldCBzdHlsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZUVsZW1lbnQgJiYgdGhpcy5uYXRpdmVFbGVtZW50LnN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVFbGVtZW50LnN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgY29udGFpbmluZyB0aGUgY2xhc3MgbmFtZXMgb24gdGhlIGVsZW1lbnQgYXMga2V5cy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWFwIGlzIGRlcml2ZWQgZnJvbSB0aGUgYGNsYXNzTmFtZWAgcHJvcGVydHkgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogTm90ZTogVGhlIHZhbHVlcyBvZiB0aGlzIG9iamVjdCB3aWxsIGFsd2F5cyBiZSBgdHJ1ZWAuIFRoZSBjbGFzcyBrZXkgd2lsbCBub3QgYXBwZWFyIGluIHRoZSBLVlxuICAgICAqIG9iamVjdCBpZiBpdCBkb2VzIG5vdCBleGlzdCBvbiB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzZWUgW0VsZW1lbnQuY2xhc3NOYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9jbGFzc05hbWUpXG4gICAgICovXG4gICAgZ2V0IGNsYXNzZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICAvLyBTVkcgZWxlbWVudHMgcmV0dXJuIGFuIGBTVkdBbmltYXRlZFN0cmluZ2AgaW5zdGVhZCBvZiBhIHBsYWluIHN0cmluZyBmb3IgdGhlIGBjbGFzc05hbWVgLlxuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTtcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IHR5cGVvZiBjbGFzc05hbWUgIT09ICdzdHJpbmcnID8gY2xhc3NOYW1lLmJhc2VWYWwuc3BsaXQoJyAnKSA6IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBjbGFzc2VzLmZvckVhY2goKHZhbHVlKSA9PiByZXN1bHRbdmFsdWVdID0gdHJ1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgY2hpbGROb2Rlc2Agb2YgdGhlIERPTSBlbGVtZW50IGFzIGEgYERlYnVnTm9kZWAgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc2VlIFtOb2RlLmNoaWxkTm9kZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2NoaWxkTm9kZXMpXG4gICAgICovXG4gICAgZ2V0IGNoaWxkTm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzLm5hdGl2ZU5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goZ2V0RGVidWdOb2RlKGVsZW1lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpbW1lZGlhdGUgYERlYnVnRWxlbWVudGAgY2hpbGRyZW4uIFdhbGsgdGhlIHRyZWUgYnkgZGVzY2VuZGluZyB0aHJvdWdoIGBjaGlsZHJlbmAuXG4gICAgICovXG4gICAgZ2V0IGNoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAoIW5hdGl2ZUVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBuYXRpdmVFbGVtZW50LmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChnZXREZWJ1Z05vZGUoZWxlbWVudCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIGZpcnN0IGBEZWJ1Z0VsZW1lbnRgIHRoYXQgbWF0Y2hlcyB0aGUgcHJlZGljYXRlIGF0IGFueSBkZXB0aCBpbiB0aGUgc3VidHJlZS5cbiAgICAgKi9cbiAgICBxdWVyeShwcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucXVlcnlBbGwocHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF0gfHwgbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQWxsIGBEZWJ1Z0VsZW1lbnRgIG1hdGNoZXMgZm9yIHRoZSBwcmVkaWNhdGUgYXQgYW55IGRlcHRoIGluIHRoZSBzdWJ0cmVlLlxuICAgICAqL1xuICAgIHF1ZXJ5QWxsKHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgICAgIF9xdWVyeUFsbCh0aGlzLCBwcmVkaWNhdGUsIG1hdGNoZXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQWxsIGBEZWJ1Z05vZGVgIG1hdGNoZXMgZm9yIHRoZSBwcmVkaWNhdGUgYXQgYW55IGRlcHRoIGluIHRoZSBzdWJ0cmVlLlxuICAgICAqL1xuICAgIHF1ZXJ5QWxsTm9kZXMocHJlZGljYXRlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5QWxsKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGV2ZW50IGJ5IGl0cyBuYW1lIGlmIHRoZXJlIGlzIGEgY29ycmVzcG9uZGluZyBsaXN0ZW5lciBpbiB0aGUgZWxlbWVudCdzXG4gICAgICogYGxpc3RlbmVyc2AgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIElmIHRoZSBldmVudCBsYWNrcyBhIGxpc3RlbmVyIG9yIHRoZXJlJ3Mgc29tZSBvdGhlciBwcm9ibGVtLCBjb25zaWRlclxuICAgICAqIGNhbGxpbmcgYG5hdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudE9iamVjdClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gdHJpZ2dlclxuICAgICAqIEBwYXJhbSBldmVudE9iaiBUaGUgX2V2ZW50IG9iamVjdF8gZXhwZWN0ZWQgYnkgdGhlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBzZWUgW1Rlc3RpbmcgY29tcG9uZW50cyBzY2VuYXJpb3NdKGd1aWRlL3Rlc3RpbmctY29tcG9uZW50cy1zY2VuYXJpb3MjdHJpZ2dlci1ldmVudC1oYW5kbGVyKVxuICAgICAqL1xuICAgIHRyaWdnZXJFdmVudEhhbmRsZXIoZXZlbnROYW1lLCBldmVudE9iaikge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5uYXRpdmVOb2RlO1xuICAgICAgICBjb25zdCBpbnZva2VkTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm5hbWUgPT09IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gbGlzdGVuZXIuY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChub2RlLCBldmVudE9iaik7XG4gICAgICAgICAgICAgICAgaW52b2tlZExpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgd2hldGhlciBgZXZlbnRMaXN0ZW5lcnNgIGV4aXN0cywgYmVjYXVzZSBpdCdzIHNvbWV0aGluZ1xuICAgICAgICAvLyB0aGF0IFpvbmUuanMgb25seSBhZGRzIHRvIGBFdmVudFRhcmdldGAgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuXG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZS5ldmVudExpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGluIEl2eSB3ZSB3cmFwIGV2ZW50IGxpc3RlbmVycyB3aXRoIGEgY2FsbCB0byBgZXZlbnQucHJldmVudERlZmF1bHRgIGluIHNvbWVcbiAgICAgICAgICAgIC8vIGNhc2VzLiBXZSB1c2UgJ19fbmdVbndyYXBfXycgYXMgYSBzcGVjaWFsIHRva2VuIHRoYXQgZ2l2ZXMgdXMgYWNjZXNzIHRvIHRoZSBhY3R1YWwgZXZlbnRcbiAgICAgICAgICAgIC8vIGxpc3RlbmVyLlxuICAgICAgICAgICAgbm9kZS5ldmVudExpc3RlbmVycyhldmVudE5hbWUpLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgd2UgY2FuIGRldGVjdCB0aGUgc3BlY2lhbCBfX25nVW53cmFwX18gdG9rZW4gZGVzY3JpYmVkIGFib3ZlLCB3ZVxuICAgICAgICAgICAgICAgIC8vIHVzZSBgdG9TdHJpbmdgIG9uIHRoZSBsaXN0ZW5lciBhbmQgc2VlIGlmIGl0IGNvbnRhaW5zIHRoZSB0b2tlbi4gV2UgdXNlIHRoaXMgYXBwcm9hY2ggdG9cbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCBpdCBzdGlsbCB3b3JrZWQgd2l0aCBjb21waWxlZCBjb2RlIHNpbmNlIGl0IGNhbm5vdCByZW1vdmUgb3IgcmVuYW1lIHN0cmluZ1xuICAgICAgICAgICAgICAgIC8vIGxpdGVyYWxzLiBXZSBhbHNvIGNvbnNpZGVyZWQgdXNpbmcgYSBzcGVjaWFsIGZ1bmN0aW9uIG5hbWUgKGkuZS4gaWYobGlzdGVuZXIubmFtZSA9PT1cbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsKSkgYnV0IHRoYXQgd2FzIG1vcmUgY3VtYmVyc29tZSBhbmQgd2Ugd2VyZSBhbHNvIGNvbmNlcm5lZCB0aGUgY29tcGlsZWQgY29kZSBjb3VsZFxuICAgICAgICAgICAgICAgIC8vIHN0cmlwIHRoZSBuYW1lLCB0dXJuaW5nIHRoZSBjb25kaXRpb24gaW4gdG8gKFwiXCIgPT09IFwiXCIpIGFuZCBhbHdheXMgcmV0dXJuaW5nIHRydWUuXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnRvU3RyaW5nKCkuaW5kZXhPZignX19uZ1Vud3JhcF9fJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVud3JhcHBlZExpc3RlbmVyID0gbGlzdGVuZXIoJ19fbmdVbndyYXBfXycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW52b2tlZExpc3RlbmVycy5pbmRleE9mKHVud3JhcHBlZExpc3RlbmVyKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHVud3JhcHBlZExpc3RlbmVyLmNhbGwobm9kZSwgZXZlbnRPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY29weURvbVByb3BlcnRpZXMoZWxlbWVudCwgcHJvcGVydGllcykge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIC8vIFNraXAgb3duIHByb3BlcnRpZXMgKGFzIHRob3NlIGFyZSBwYXRjaGVkKVxuICAgICAgICBsZXQgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBOb2RlUHJvdG90eXBlID0gTm9kZS5wcm90b3R5cGU7XG4gICAgICAgIHdoaWxlIChvYmogIT09IG51bGwgJiYgb2JqICE9PSBOb2RlUHJvdG90eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaik7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtleS5zdGFydHNXaXRoKCdfXycpICYmICFrZXkuc3RhcnRzV2l0aCgnb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIHByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCBgX19gIGFuZCBgb25gLlxuICAgICAgICAgICAgICAgICAgICAvLyBgX19gIGFyZSBwYXRjaGVkIHZhbHVlcyB3aGljaCBzaG91bGQgbm90IGJlIGluY2x1ZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBgb25gIGFyZSBsaXN0ZW5lcnMgd2hpY2ggYWxzbyBzaG91bGQgbm90IGJlIGluY2x1ZGVkLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsZW1lbnRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJpbWl0aXZlVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQcmltaXRpdmVWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdmFsdWUgPT09IG51bGw7XG59XG5mdW5jdGlvbiBfcXVlcnlBbGwocGFyZW50RWxlbWVudCwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQocGFyZW50RWxlbWVudC5uYXRpdmVOb2RlKTtcbiAgICBpZiAoY29udGV4dCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBwYXJlbnRUTm9kZSA9IGNvbnRleHQubFZpZXdbVFZJRVddLmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4ocGFyZW50VE5vZGUsIGNvbnRleHQubFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCBwYXJlbnRFbGVtZW50Lm5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvbnRleHQgaXMgbnVsbCwgdGhlbiBgcGFyZW50RWxlbWVudGAgd2FzIGVpdGhlciBjcmVhdGVkIHdpdGggUmVuZGVyZXIyIG9yIG5hdGl2ZSBET01cbiAgICAgICAgLy8gQVBJcy5cbiAgICAgICAgX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKHBhcmVudEVsZW1lbnQubmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgIH1cbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgbWF0Y2ggdGhlIGN1cnJlbnQgVE5vZGUgYWdhaW5zdCB0aGUgcHJlZGljYXRlLCBhbmQgZ29lcyBvbiB3aXRoIHRoZSBuZXh0IG9uZXMuXG4gKlxuICogQHBhcmFtIHROb2RlIHRoZSBjdXJyZW50IFROb2RlXG4gKiBAcGFyYW0gbFZpZXcgdGhlIExWaWV3IG9mIHRoaXMgVE5vZGVcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byBtYXRjaFxuICogQHBhcmFtIG1hdGNoZXMgdGhlIGxpc3Qgb2YgcG9zaXRpdmUgbWF0Y2hlc1xuICogQHBhcmFtIGVsZW1lbnRzT25seSB3aGV0aGVyIG9ubHkgZWxlbWVudHMgc2hvdWxkIGJlIHNlYXJjaGVkXG4gKiBAcGFyYW0gcm9vdE5hdGl2ZU5vZGUgdGhlIHJvb3QgbmF0aXZlIG5vZGUgb24gd2hpY2ggcHJlZGljYXRlIHNob3VsZCBub3QgYmUgbWF0Y2hlZFxuICovXG5mdW5jdGlvbiBfcXVlcnlOb2RlQ2hpbGRyZW4odE5vZGUsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IG5hdGl2ZU5vZGUgPSBnZXROYXRpdmVCeVROb2RlT3JOdWxsKHROb2RlLCBsVmlldyk7XG4gICAgLy8gRm9yIGVhY2ggdHlwZSBvZiBUTm9kZSwgc3BlY2lmaWMgbG9naWMgaXMgZXhlY3V0ZWQuXG4gICAgaWYgKHROb2RlLnR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDggLyogRWxlbWVudENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgLy8gQ2FzZSAxOiB0aGUgVE5vZGUgaXMgYW4gZWxlbWVudFxuICAgICAgICAvLyBUaGUgbmF0aXZlIG5vZGUgaGFzIHRvIGJlIGNoZWNrZWQuXG4gICAgICAgIF9hZGRRdWVyeU1hdGNoKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEhvc3QodE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyB0aGUgaG9zdCBvZiBhIGNvbXBvbmVudCwgdGhlbiBhbGwgbm9kZXMgaW4gaXRzIHZpZXcgaGF2ZSB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAgICAvLyBOb3RlOiB0aGUgY29tcG9uZW50J3MgY29udGVudCAodE5vZGUuY2hpbGQpIHdpbGwgYmUgcHJvY2Vzc2VkIGZyb20gdGhlIGluc2VydGlvbiBwb2ludHMuXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50VmlldyAmJiBjb21wb25lbnRWaWV3W1RWSUVXXS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKGNvbXBvbmVudFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQsIGNvbXBvbmVudFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodE5vZGUuY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGl0cyBjaGlsZHJlbiBoYXZlIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4odE5vZGUuY2hpbGQsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBoYXZlIHRvIHF1ZXJ5IHRoZSBET00gZGlyZWN0bHkgaW4gb3JkZXIgdG8gY2F0Y2ggZWxlbWVudHMgaW5zZXJ0ZWQgdGhyb3VnaFxuICAgICAgICAgICAgLy8gUmVuZGVyZXIyLiBOb3RlIHRoYXQgdGhpcyBpcyBfX25vdF9fIG9wdGltYWwsIGJlY2F1c2Ugd2UncmUgd2Fsa2luZyBzaW1pbGFyIHRyZWVzIG11bHRpcGxlXG4gICAgICAgICAgICAvLyB0aW1lcy4gVmlld0VuZ2luZSBjb3VsZCBkbyBpdCBtb3JlIGVmZmljaWVudGx5LCBiZWNhdXNlIGFsbCB0aGUgaW5zZXJ0aW9ucyBnbyB0aHJvdWdoXG4gICAgICAgICAgICAvLyBSZW5kZXJlcjIsIGhvd2V2ZXIgdGhhdCdzIG5vdCB0aGUgY2FzZSBpbiBJdnkuIFRoaXMgYXBwcm9hY2ggaXMgYmVpbmcgdXNlZCBiZWNhdXNlOlxuICAgICAgICAgICAgLy8gMS4gTWF0Y2hpbmcgdGhlIFZpZXdFbmdpbmUgYmVoYXZpb3Igd291bGQgbWVhbiBwb3RlbnRpYWxseSBpbnRyb2R1Y2luZyBhIGRlcGVkZW5jeVxuICAgICAgICAgICAgLy8gICAgZnJvbSBgUmVuZGVyZXIyYCB0byBJdnkgd2hpY2ggY291bGQgYnJpbmcgSXZ5IGNvZGUgaW50byBWaWV3RW5naW5lLlxuICAgICAgICAgICAgLy8gMi4gV2Ugd291bGQgaGF2ZSB0byBtYWtlIGBSZW5kZXJlcjNgIFwia25vd1wiIGFib3V0IGRlYnVnIG5vZGVzLlxuICAgICAgICAgICAgLy8gMy4gSXQgYWxsb3dzIHVzIHRvIGNhcHR1cmUgbm9kZXMgdGhhdCB3ZXJlIGluc2VydGVkIGRpcmVjdGx5IHZpYSB0aGUgRE9NLlxuICAgICAgICAgICAgbmF0aXZlTm9kZSAmJiBfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIGFsbCBjYXNlcywgaWYgYSBkeW5hbWljIGNvbnRhaW5lciBleGlzdHMgZm9yIHRoaXMgbm9kZSwgZWFjaCB2aWV3IGluc2lkZSBpdCBoYXMgdG8gYmVcbiAgICAgICAgLy8gcHJvY2Vzc2VkLlxuICAgICAgICBjb25zdCBub2RlT3JDb250YWluZXIgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIGlmIChpc0xDb250YWluZXIobm9kZU9yQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIobm9kZU9yQ29udGFpbmVyLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAvLyBDYXNlIDI6IHRoZSBUTm9kZSBpcyBhIGNvbnRhaW5lclxuICAgICAgICAvLyBUaGUgbmF0aXZlIG5vZGUgaGFzIHRvIGJlIGNoZWNrZWQuXG4gICAgICAgIGNvbnN0IGxDb250YWluZXIgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIF9hZGRRdWVyeU1hdGNoKGxDb250YWluZXJbTkFUSVZFXSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgLy8gRWFjaCB2aWV3IGluc2lkZSB0aGUgY29udGFpbmVyIGhhcyB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyKGxDb250YWluZXIsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgIC8vIENhc2UgMzogdGhlIFROb2RlIGlzIGEgcHJvamVjdGlvbiBpbnNlcnRpb24gcG9pbnQgKGkuZS4gYSA8bmctY29udGVudD4pLlxuICAgICAgICAvLyBUaGUgbm9kZXMgcHJvamVjdGVkIGF0IHRoaXMgbG9jYXRpb24gYWxsIG5lZWQgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgICAgICBjb25zdCBjb21wb25lbnRIb3N0ID0gY29tcG9uZW50Vmlld1tUX0hPU1RdO1xuICAgICAgICBjb25zdCBoZWFkID0gY29tcG9uZW50SG9zdC5wcm9qZWN0aW9uW3ROb2RlLnByb2plY3Rpb25dO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShoZWFkKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgbmF0aXZlTm9kZSBvZiBoZWFkKSB7XG4gICAgICAgICAgICAgICAgX2FkZFF1ZXJ5TWF0Y2gobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoZWFkKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TFZpZXcgPSBjb21wb25lbnRWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICBjb25zdCBuZXh0VE5vZGUgPSBuZXh0TFZpZXdbVFZJRVddLmRhdGFbaGVhZC5pbmRleF07XG4gICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4obmV4dFROb2RlLCBuZXh0TFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUuY2hpbGQpIHtcbiAgICAgICAgLy8gQ2FzZSA0OiB0aGUgVE5vZGUgaXMgYSB2aWV3LlxuICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4odE5vZGUuY2hpbGQsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvLyBXZSBkb24ndCB3YW50IHRvIGdvIHRvIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIHJvb3Qgbm9kZS5cbiAgICBpZiAocm9vdE5hdGl2ZU5vZGUgIT09IG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgLy8gVG8gZGV0ZXJtaW5lIHRoZSBuZXh0IG5vZGUgdG8gYmUgcHJvY2Vzc2VkLCB3ZSBuZWVkIHRvIHVzZSB0aGUgbmV4dCBvciB0aGUgcHJvamVjdGlvbk5leHRcbiAgICAgICAgLy8gbGluaywgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgbm9kZSBoYXMgYmVlbiBwcm9qZWN0ZWQuXG4gICAgICAgIGNvbnN0IG5leHRUTm9kZSA9ICh0Tm9kZS5mbGFncyAmIDQgLyogaXNQcm9qZWN0ZWQgKi8pID8gdE5vZGUucHJvamVjdGlvbk5leHQgOiB0Tm9kZS5uZXh0O1xuICAgICAgICBpZiAobmV4dFROb2RlKSB7XG4gICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4obmV4dFROb2RlLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUHJvY2VzcyBhbGwgVE5vZGVzIGluIGEgZ2l2ZW4gY29udGFpbmVyLlxuICpcbiAqIEBwYXJhbSBsQ29udGFpbmVyIHRoZSBjb250YWluZXIgdG8gYmUgcHJvY2Vzc2VkXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IG9mIHBvc2l0aXZlIG1hdGNoZXNcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICogQHBhcmFtIHJvb3ROYXRpdmVOb2RlIHRoZSByb290IG5hdGl2ZSBub2RlIG9uIHdoaWNoIHByZWRpY2F0ZSBzaG91bGQgbm90IGJlIG1hdGNoZWRcbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIobENvbnRhaW5lciwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKSB7XG4gICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICBjb25zdCBmaXJzdENoaWxkID0gY2hpbGRWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKGZpcnN0Q2hpbGQsIGNoaWxkVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTWF0Y2ggdGhlIGN1cnJlbnQgbmF0aXZlIG5vZGUgYWdhaW5zdCB0aGUgcHJlZGljYXRlLlxuICpcbiAqIEBwYXJhbSBuYXRpdmVOb2RlIHRoZSBjdXJyZW50IG5hdGl2ZSBub2RlXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IG9mIHBvc2l0aXZlIG1hdGNoZXNcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICogQHBhcmFtIHJvb3ROYXRpdmVOb2RlIHRoZSByb290IG5hdGl2ZSBub2RlIG9uIHdoaWNoIHByZWRpY2F0ZSBzaG91bGQgbm90IGJlIG1hdGNoZWRcbiAqL1xuZnVuY3Rpb24gX2FkZFF1ZXJ5TWF0Y2gobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKSB7XG4gICAgaWYgKHJvb3ROYXRpdmVOb2RlICE9PSBuYXRpdmVOb2RlKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnTm9kZSA9IGdldERlYnVnTm9kZShuYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKCFkZWJ1Z05vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUeXBlIG9mIHRoZSBcInByZWRpY2F0ZSBhbmQgXCJtYXRjaGVzXCIgYXJyYXkgYXJlIHNldCBiYXNlZCBvbiB0aGUgdmFsdWUgb2ZcbiAgICAgICAgLy8gdGhlIFwiZWxlbWVudHNPbmx5XCIgcGFyYW1ldGVyLiBUeXBlU2NyaXB0IGlzIG5vdCBhYmxlIHRvIHByb3Blcmx5IGluZmVyIHRoZXNlXG4gICAgICAgIC8vIHR5cGVzIHdpdGggZ2VuZXJpY3MsIHNvIHdlIG1hbnVhbGx5IGNhc3QgdGhlIHBhcmFtZXRlcnMgYWNjb3JkaW5nbHkuXG4gICAgICAgIGlmIChlbGVtZW50c09ubHkgJiYgKGRlYnVnTm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgIG1hdGNoZXMuaW5kZXhPZihkZWJ1Z05vZGUpID09PSAtMSkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWVsZW1lbnRzT25seSAmJiBwcmVkaWNhdGUoZGVidWdOb2RlKSAmJlxuICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTWF0Y2ggYWxsIHRoZSBkZXNjZW5kYW50cyBvZiBhIERPTSBub2RlIGFnYWluc3QgYSBwcmVkaWNhdGUuXG4gKlxuICogQHBhcmFtIG5hdGl2ZU5vZGUgdGhlIGN1cnJlbnQgbmF0aXZlIG5vZGVcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byBtYXRjaFxuICogQHBhcmFtIG1hdGNoZXMgdGhlIGxpc3Qgd2hlcmUgbWF0Y2hlcyBhcmUgc3RvcmVkXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKHBhcmVudE5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KSB7XG4gICAgY29uc3Qgbm9kZXMgPSBwYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgY29uc3QgbGVuZ3RoID0gbm9kZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBjb25zdCBkZWJ1Z05vZGUgPSBnZXREZWJ1Z05vZGUobm9kZSk7XG4gICAgICAgIGlmIChkZWJ1Z05vZGUpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50c09ubHkgJiYgKGRlYnVnTm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFlbGVtZW50c09ubHkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhub2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggdGhlIHByb3BlcnR5IGJpbmRpbmdzIGZvciBhIGdpdmVuIG5vZGUgYW5kIGdlbmVyYXRlc1xuICogYSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gdmFsdWVzLiBUaGlzIG1hcCBvbmx5IGNvbnRhaW5zIHByb3BlcnR5IGJpbmRpbmdzXG4gKiBkZWZpbmVkIGluIHRlbXBsYXRlcywgbm90IGluIGhvc3QgYmluZGluZ3MuXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RQcm9wZXJ0eUJpbmRpbmdzKHByb3BlcnRpZXMsIHROb2RlLCBsVmlldywgdERhdGEpIHtcbiAgICBsZXQgYmluZGluZ0luZGV4ZXMgPSB0Tm9kZS5wcm9wZXJ0eUJpbmRpbmdzO1xuICAgIGlmIChiaW5kaW5nSW5kZXhlcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdJbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nSW5kZXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHREYXRhW2JpbmRpbmdJbmRleF07XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YVBhcnRzID0gcHJvcE1ldGFkYXRhLnNwbGl0KElOVEVSUE9MQVRJT05fREVMSU1JVEVSKTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IG1ldGFkYXRhUGFydHNbMF07XG4gICAgICAgICAgICBpZiAobWV0YWRhdGFQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gbWV0YWRhdGFQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8IG1ldGFkYXRhUGFydHMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHJlbmRlclN0cmluZ2lmeShsVmlld1tiaW5kaW5nSW5kZXggKyBqIC0gMV0pICsgbWV0YWRhdGFQYXJ0c1tqICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gbFZpZXdbYmluZGluZ0luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIE5lZWQgdG8ga2VlcCB0aGUgbm9kZXMgaW4gYSBnbG9iYWwgTWFwIHNvIHRoYXQgbXVsdGlwbGUgYW5ndWxhciBhcHBzIGFyZSBzdXBwb3J0ZWQuXG5jb25zdCBfbmF0aXZlTm9kZVRvRGVidWdOb2RlID0gbmV3IE1hcCgpO1xuY29uc3QgTkdfREVCVUdfUFJPUEVSVFkgPSAnX19uZ19kZWJ1Z19fJztcbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXREZWJ1Z05vZGUobmF0aXZlTm9kZSkge1xuICAgIGlmIChuYXRpdmVOb2RlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICBpZiAoIShuYXRpdmVOb2RlLmhhc093blByb3BlcnR5KE5HX0RFQlVHX1BST1BFUlRZKSkpIHtcbiAgICAgICAgICAgIG5hdGl2ZU5vZGVbTkdfREVCVUdfUFJPUEVSVFldID0gbmF0aXZlTm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSA/XG4gICAgICAgICAgICAgICAgbmV3IERlYnVnRWxlbWVudChuYXRpdmVOb2RlKSA6XG4gICAgICAgICAgICAgICAgbmV3IERlYnVnTm9kZShuYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF0aXZlTm9kZVtOR19ERUJVR19QUk9QRVJUWV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gVE9ETzogY2xlYW51cCBhbGwgcmVmZXJlbmNlcyB0byB0aGlzIGZ1bmN0aW9uIGFuZCByZW1vdmUgaXQuXG5mdW5jdGlvbiBnZXREZWJ1Z05vZGVSMihfbmF0aXZlTm9kZSkge1xuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0QWxsRGVidWdOb2RlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShfbmF0aXZlTm9kZVRvRGVidWdOb2RlLnZhbHVlcygpKTtcbn1cbmZ1bmN0aW9uIGluZGV4RGVidWdOb2RlKG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLnNldChub2RlLm5hdGl2ZU5vZGUsIG5vZGUpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRGVidWdOb2RlRnJvbUluZGV4KG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLmRlbGV0ZShub2RlLm5hdGl2ZU5vZGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3VwcG9ydHMob2JqKSB7XG4gICAgICAgIHJldHVybiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKTtcbiAgICB9XG4gICAgY3JlYXRlKHRyYWNrQnlGbikge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRJdGVyYWJsZURpZmZlcih0cmFja0J5Rm4pO1xuICAgIH1cbn1cbmNvbnN0IHRyYWNrQnlJZGVudGl0eSA9IChpbmRleCwgaXRlbSkgPT4gaXRlbTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdjQuMC4wIC0gU2hvdWxkIG5vdCBiZSBwYXJ0IG9mIHB1YmxpYyBBUEkuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIERlZmF1bHRJdGVyYWJsZURpZmZlciB7XG4gICAgY29uc3RydWN0b3IodHJhY2tCeUZuKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHVzZWQgcmVjb3JkcyBhdCBhbnkgcG9pbnQgaW4gdGltZSAoZHVyaW5nICYgYWNyb3NzIGBfY2hlY2soKWAgY2FsbHMpXG4gICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMgPSBudWxsO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgcmVtb3ZlZCByZWNvcmRzIGF0IGFueSBwb2ludCBpbiB0aW1lIGR1cmluZyBgX2NoZWNrKClgIGNhbGxzLlxuICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0SGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0VGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gbnVsbDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgcmVjb3JkcyB3aGVyZSBjdXN0b20gdHJhY2sgYnkgaXMgdGhlIHNhbWUsIGJ1dCBpdGVtIGlkZW50aXR5IGhhcyBjaGFuZ2VkXG4gICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdHJhY2tCeUZuID0gdHJhY2tCeUZuIHx8IHRyYWNrQnlJZGVudGl0eTtcbiAgICB9XG4gICAgZm9yRWFjaEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hPcGVyYXRpb24oZm4pIHtcbiAgICAgICAgbGV0IG5leHRJdCA9IHRoaXMuX2l0SGVhZDtcbiAgICAgICAgbGV0IG5leHRSZW1vdmUgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7XG4gICAgICAgIGxldCBhZGRSZW1vdmVPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgbW92ZU9mZnNldHMgPSBudWxsO1xuICAgICAgICB3aGlsZSAobmV4dEl0IHx8IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggaXMgdGhlIG5leHQgcmVjb3JkIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIC8vIE9yZGVyOiByZW1vdmUsIGFkZCwgbW92ZVxuICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gIW5leHRSZW1vdmUgfHxcbiAgICAgICAgICAgICAgICBuZXh0SXQgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV4dEl0LmN1cnJlbnRJbmRleCA8XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRQcmV2aW91c0luZGV4KG5leHRSZW1vdmUsIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpID9cbiAgICAgICAgICAgICAgICBuZXh0SXQgOlxuICAgICAgICAgICAgICAgIG5leHRSZW1vdmU7XG4gICAgICAgICAgICBjb25zdCBhZGpQcmV2aW91c0luZGV4ID0gZ2V0UHJldmlvdXNJbmRleChyZWNvcmQsIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIC8vIGNvbnN1bWUgdGhlIGl0ZW0sIGFuZCBhZGp1c3QgdGhlIGFkZFJlbW92ZU9mZnNldCBhbmQgdXBkYXRlIG1vdmVEaXN0YW5jZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBhZGRSZW1vdmVPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlID0gbmV4dFJlbW92ZS5fbmV4dFJlbW92ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0SXQgPSBuZXh0SXQuX25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5wcmV2aW91c0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVtb3ZlT2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJTlZBUklBTlQ6ICBjdXJyZW50SW5kZXggPCBwcmV2aW91c0luZGV4XG4gICAgICAgICAgICAgICAgICAgIGlmICghbW92ZU9mZnNldHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbE1vdmVQcmV2aW91c0luZGV4ID0gYWRqUHJldmlvdXNJbmRleCAtIGFkZFJlbW92ZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxDdXJyZW50SW5kZXggPSBjdXJyZW50SW5kZXggLSBhZGRSZW1vdmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbE1vdmVQcmV2aW91c0luZGV4ICE9IGxvY2FsQ3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsTW92ZVByZXZpb3VzSW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGkgPCBtb3ZlT2Zmc2V0cy5sZW5ndGggPyBtb3ZlT2Zmc2V0c1tpXSA6IChtb3ZlT2Zmc2V0c1tpXSA9IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gb2Zmc2V0ICsgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxDdXJyZW50SW5kZXggPD0gaW5kZXggJiYgaW5kZXggPCBsb2NhbE1vdmVQcmV2aW91c0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVPZmZzZXRzW2ldID0gb2Zmc2V0ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0luZGV4ID0gcmVjb3JkLnByZXZpb3VzSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0c1twcmV2aW91c0luZGV4XSA9IGxvY2FsQ3VycmVudEluZGV4IC0gbG9jYWxNb3ZlUHJldmlvdXNJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGpQcmV2aW91c0luZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmbihyZWNvcmQsIGFkalByZXZpb3VzSW5kZXgsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFByZXZpb3VzSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzSXRIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFByZXZpb3VzKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hBZGRlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hNb3ZlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9tb3Zlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0TW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFJlbW92ZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcmVtb3ZhbHNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFJlbW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaElkZW50aXR5Q2hhbmdlKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRJZGVudGl0eUNoYW5nZSkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaWZmKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbClcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBbXTtcbiAgICAgICAgaWYgKCFpc0xpc3RMaWtlSXRlcmFibGUoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7c3RyaW5naWZ5KGNvbGxlY3Rpb24pfScuIE9ubHkgYXJyYXlzIGFuZCBpdGVyYWJsZXMgYXJlIGFsbG93ZWRgIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHsgfVxuICAgIGNoZWNrKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMuX2l0SGVhZDtcbiAgICAgICAgbGV0IG1heUJlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgbGV0IGl0ZW1UcmFja0J5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpdGVtVHJhY2tCeSA9IHRoaXMuX3RyYWNrQnlGbihpbmRleCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCB8fCAhT2JqZWN0LmlzKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9taXNtYXRjaChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIG1heUJlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heUJlRGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8obWlza28pOiBjYW4gd2UgbGltaXQgdGhpcyB0byBkdXBsaWNhdGVzIG9ubHk/XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl92ZXJpZnlSZWluc2VydGlvbihyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgaXRlcmF0ZUxpc3RMaWtlKGNvbGxlY3Rpb24sIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbVRyYWNrQnkgPSB0aGlzLl90cmFja0J5Rm4oaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwgfHwgIU9iamVjdC5pcyhyZWNvcmQudHJhY2tCeUlkLCBpdGVtVHJhY2tCeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RydW5jYXRlKHJlY29yZCk7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlydHk7XG4gICAgfVxuICAgIC8qIENvbGxlY3Rpb25DaGFuZ2VzIGlzIGNvbnNpZGVyZWQgZGlydHkgaWYgaXQgaGFzIGFueSBhZGRpdGlvbnMsIG1vdmVzLCByZW1vdmFscywgb3IgaWRlbnRpdHlcbiAgICAgKiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkaXRpb25zSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9tb3Zlc0hlYWQgIT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkICE9PSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGNoYW5nZSBvYmplY3RzIHRvIHNob3cgbm8gY2hhbmdlcy4gVGhpcyBtZWFucyBzZXQgcHJldmlvdXNLZXkgdG9cbiAgICAgKiBjdXJyZW50S2V5LCBhbmQgY2xlYXIgYWxsIG9mIHRoZSBxdWV1ZXMgKGFkZGl0aW9ucywgbW92ZXMsIHJlbW92YWxzKS5cbiAgICAgKiBTZXQgdGhlIHByZXZpb3VzSW5kZXhlcyBvZiBtb3ZlZCBhbmQgYWRkZWQgaXRlbXMgdG8gdGhlaXIgY3VycmVudEluZGV4ZXNcbiAgICAgKiBSZXNldCB0aGUgbGlzdCBvZiBhZGRpdGlvbnMsIG1vdmVzIGFuZCByZW1vdmFsc1xuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KSB7XG4gICAgICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IHRoaXMuX2l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c0luZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzSW5kZXggPSByZWNvcmQuY3VycmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOiB3aGVuIGFzc2VydCBnZXRzIHN1cHBvcnRlZFxuICAgICAgICAgICAgLy8gYXNzZXJ0KCF0aGlzLmlzRGlydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGNvcmUgZnVuY3Rpb24gd2hpY2ggaGFuZGxlcyBkaWZmZXJlbmNlcyBiZXR3ZWVuIGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogLSBgcmVjb3JkYCBpcyB0aGUgcmVjb3JkIHdoaWNoIHdlIHNhdyBhdCB0aGlzIHBvc2l0aW9uIGxhc3QgdGltZS4gSWYgbnVsbCB0aGVuIGl0IGlzIGEgbmV3XG4gICAgICogICBpdGVtLlxuICAgICAqIC0gYGl0ZW1gIGlzIHRoZSBjdXJyZW50IGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiAtIGBpbmRleGAgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpIHtcbiAgICAgICAgLy8gVGhlIHByZXZpb3VzIHJlY29yZCBhZnRlciB3aGljaCB3ZSB3aWxsIGFwcGVuZCB0aGUgY3VycmVudCBvbmUuXG4gICAgICAgIGxldCBwcmV2aW91c1JlY29yZDtcbiAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcHJldmlvdXNSZWNvcmQgPSB0aGlzLl9pdFRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2aW91c1JlY29yZCA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmVjb3JkIGZyb20gdGhlIGNvbGxlY3Rpb24gc2luY2Ugd2Uga25vdyBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgaXRlbS5cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlZSBpZiB3ZSBoYXZlIGV2aWN0ZWQgdGhlIGl0ZW0sIHdoaWNoIHVzZWQgdG8gYmUgYXQgc29tZSBhbnRlcmlvciBwb3NpdGlvbiBvZiBfaXRIZWFkIGxpc3QuXG4gICAgICAgIHJlY29yZCA9IHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBudWxsKTtcbiAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSXQgaXMgYW4gaXRlbSB3aGljaCB3ZSBoYXZlIGV2aWN0ZWQgZWFybGllcjogcmVpbnNlcnQgaXQgYmFjayBpbnRvIHRoZSBsaXN0LlxuICAgICAgICAgICAgLy8gQnV0IGZpcnN0IHdlIG5lZWQgdG8gY2hlY2sgaWYgaWRlbnRpdHkgY2hhbmdlZCwgc28gd2UgY2FuIHVwZGF0ZSBpbiB2aWV3IGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fcmVpbnNlcnRBZnRlcihyZWNvcmQsIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIHNlZSBpZiB0aGUgaXRlbSBpcyBhdCBzb21lIHBvc3RlcmlvciBwb3NpdGlvbiBvZiBfaXRIZWFkIGxpc3QuXG4gICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICBpZiAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0aGUgaXRlbSBpbiBfaXRIZWFkIGF0L2FmdGVyIGBpbmRleGAgcG9zaXRpb24uIFdlIG5lZWQgdG8gbW92ZSBpdCBmb3J3YXJkIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgLy8gQnV0IGZpcnN0IHdlIG5lZWQgdG8gY2hlY2sgaWYgaWRlbnRpdHkgY2hhbmdlZCwgc28gd2UgY2FuIHVwZGF0ZSBpbiB2aWV3IGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92ZUFmdGVyKHJlY29yZCwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGEgbmV3IGl0ZW06IGFkZCBpdC5cbiAgICAgICAgICAgICAgICByZWNvcmQgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRBZnRlcihuZXcgSXRlcmFibGVDaGFuZ2VSZWNvcmRfKGl0ZW0sIGl0ZW1UcmFja0J5KSwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGNoZWNrIGlzIG9ubHkgbmVlZGVkIGlmIGFuIGFycmF5IGNvbnRhaW5zIGR1cGxpY2F0ZXMuIChTaG9ydCBjaXJjdWl0IG9mIG5vdGhpbmcgZGlydHkpXG4gICAgICpcbiAgICAgKiBVc2UgY2FzZTogYFthLCBhXWAgPT4gYFtiLCBhLCBhXWBcbiAgICAgKlxuICAgICAqIElmIHdlIGRpZCBub3QgaGF2ZSB0aGlzIGNoZWNrIHRoZW4gdGhlIGluc2VydGlvbiBvZiBgYmAgd291bGQ6XG4gICAgICogICAxKSBldmljdCBmaXJzdCBgYWBcbiAgICAgKiAgIDIpIGluc2VydCBgYmAgYXQgYDBgIGluZGV4LlxuICAgICAqICAgMykgbGVhdmUgYGFgIGF0IGluZGV4IGAxYCBhcyBpcy4gPC0tIHRoaXMgaXMgd3JvbmchXG4gICAgICogICAzKSByZWluc2VydCBgYWAgYXQgaW5kZXggMi4gPC0tIHRoaXMgaXMgd3JvbmchXG4gICAgICpcbiAgICAgKiBUaGUgY29ycmVjdCBiZWhhdmlvciBpczpcbiAgICAgKiAgIDEpIGV2aWN0IGZpcnN0IGBhYFxuICAgICAqICAgMikgaW5zZXJ0IGBiYCBhdCBgMGAgaW5kZXguXG4gICAgICogICAzKSByZWluc2VydCBgYWAgYXQgaW5kZXggMS5cbiAgICAgKiAgIDMpIG1vdmUgYGFgIGF0IGZyb20gYDFgIHRvIGAyYC5cbiAgICAgKlxuICAgICAqXG4gICAgICogRG91YmxlIGNoZWNrIHRoYXQgd2UgaGF2ZSBub3QgZXZpY3RlZCBhIGR1cGxpY2F0ZSBpdGVtLiBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBpdGVtIHR5cGUgbWF5XG4gICAgICogaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZDpcbiAgICAgKiBUaGUgaW5zZXJ0aW9uIG9mIGIgd2lsbCBldmljdCB0aGUgZmlyc3QgJ2EnLiBJZiB3ZSBkb24ndCByZWluc2VydCBpdCBub3cgaXQgd2lsbCBiZSByZWluc2VydGVkXG4gICAgICogYXQgdGhlIGVuZC4gV2hpY2ggd2lsbCBzaG93IHVwIGFzIHRoZSB0d28gJ2EncyBzd2l0Y2hpbmcgcG9zaXRpb24uIFRoaXMgaXMgaW5jb3JyZWN0LCBzaW5jZSBhXG4gICAgICogYmV0dGVyIHdheSB0byB0aGluayBvZiBpdCBpcyBhcyBpbnNlcnQgb2YgJ2InIHJhdGhlciB0aGVuIHN3aXRjaCAnYScgd2l0aCAnYicgYW5kIHRoZW4gYWRkICdhJ1xuICAgICAqIGF0IHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHJlaW5zZXJ0UmVjb3JkID0gdGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnksIG51bGwpO1xuICAgICAgICBpZiAocmVpbnNlcnRSZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVpbnNlcnRSZWNvcmQsIHJlY29yZC5fcHJldiwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZC5jdXJyZW50SW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHJpZCBvZiBhbnkgZXhjZXNzIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99cyBmcm9tIHRoZSBwcmV2aW91cyBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiAtIGByZWNvcmRgIFRoZSBmaXJzdCBleGNlc3Mge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfdHJ1bmNhdGUocmVjb3JkKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGFmdGVyIHRoYXQgbmVlZHMgdG8gYmUgcmVtb3ZlZDtcbiAgICAgICAgd2hpbGUgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgICAgICAgICAgcmVjb3JkID0gbmV4dFJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2l0VGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3JlaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldlJlbW92ZWQ7XG4gICAgICAgIGNvbnN0IG5leHQgPSByZWNvcmQuX25leHRSZW1vdmVkO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHRSZW1vdmVkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXZSZW1vdmVkID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9tb3ZlQWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICB0aGlzLl91bmxpbmsocmVjb3JkKTtcbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfYWRkQWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQodGhpcy5fYWRkaXRpb25zSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gdGhpcy5fYWRkaXRpb25zSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0QWRkZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZCAhPSBwcmV2UmVjb3JkKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dCA9PT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX3ByZXYgPT09IG51bGwpO1xuICAgICAgICBjb25zdCBuZXh0ID0gcHJldlJlY29yZCA9PT0gbnVsbCA/IHRoaXMuX2l0SGVhZCA6IHByZXZSZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChuZXh0ICE9IHJlY29yZCk7XG4gICAgICAgIC8vIGFzc2VydChwcmV2UmVjb3JkICE9IHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5fbmV4dCA9IG5leHQ7XG4gICAgICAgIHJlY29yZC5fcHJldiA9IHByZXZSZWNvcmQ7XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdFRhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UmVjb3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdEhlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2UmVjb3JkLl9uZXh0ID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9saW5rZWRSZWNvcmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbmV3IF9EdXBsaWNhdGVNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzLnB1dChyZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcmVtb3ZlKHJlY29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsocmVjb3JkKSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfdW5saW5rKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fbGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2ID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQoKHJlY29yZC5fcHJldiA9IG51bGwpID09PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KChyZWNvcmQuX25leHQgPSBudWxsKSA9PT0gbnVsbCk7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdEhlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2FkZFRvTW92ZXMocmVjb3JkLCB0b0luZGV4KSB7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRNb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNJbmRleCA9PT0gdG9JbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9tb3Zlc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gdGhpcy5fbW92ZXNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfbW92ZXNUYWlsLl9uZXh0TW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gdGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgX2FkZFRvUmVtb3ZhbHMocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3JkcyA9IG5ldyBfRHVwbGljYXRlTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzLnB1dChyZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgcmVjb3JkLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmFsc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX3JlbW92YWxzSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSB0aGlzLl9yZW1vdmFsc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dFJlbW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCA9IHRoaXMuX3JlbW92YWxzVGFpbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pIHtcbiAgICAgICAgcmVjb3JkLml0ZW0gPSBpdGVtO1xuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxufVxuY2xhc3MgSXRlcmFibGVDaGFuZ2VSZWNvcmRfIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtLCB0cmFja0J5SWQpIHtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy50cmFja0J5SWQgPSB0cmFja0J5SWQ7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2aW91c0luZGV4ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXZEdXAgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHREdXAgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0TW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRJZGVudGl0eUNoYW5nZSA9IG51bGw7XG4gICAgfVxufVxuLy8gQSBsaW5rZWQgbGlzdCBvZiBJdGVyYWJsZUNoYW5nZVJlY29yZHMgd2l0aCB0aGUgc2FtZSBJdGVyYWJsZUNoYW5nZVJlY29yZF8uaXRlbVxuY2xhc3MgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIHRoZSByZWNvcmQgdG8gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIE5vdGU6IGJ5IGRlc2lnbiBhbGwgcmVjb3JkcyBpbiB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGhvbGQgdGhlIHNhbWUgdmFsdWUgaW4gcmVjb3JkLml0ZW0uXG4gICAgICovXG4gICAgYWRkKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5faGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX25leHREdXAgPSBudWxsO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLml0ZW0gPT0gIF9oZWFkLml0ZW0gfHxcbiAgICAgICAgICAgIC8vICAgICAgIHJlY29yZC5pdGVtIGlzIG51bSAmJiByZWNvcmQuaXRlbS5pc05hTiAmJiBfaGVhZC5pdGVtIGlzIG51bSAmJiBfaGVhZC5pdGVtLmlzTmFOKTtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwuX25leHREdXAgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZEdXAgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyBoYXZpbmcgSXRlcmFibGVDaGFuZ2VSZWNvcmRfLnRyYWNrQnlJZCA9PSB0cmFja0J5SWQgYW5kXG4gICAgLy8gSXRlcmFibGVDaGFuZ2VSZWNvcmRfLmN1cnJlbnRJbmRleCA+PSBhdE9yQWZ0ZXJJbmRleFxuICAgIGdldCh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHREdXApIHtcbiAgICAgICAgICAgIGlmICgoYXRPckFmdGVySW5kZXggPT09IG51bGwgfHwgYXRPckFmdGVySW5kZXggPD0gcmVjb3JkLmN1cnJlbnRJbmRleCkgJiZcbiAgICAgICAgICAgICAgICBPYmplY3QuaXMocmVjb3JkLnRyYWNrQnlJZCwgdHJhY2tCeUlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvbmUge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30gZnJvbSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgaXMgZW1wdHkuXG4gICAgICovXG4gICAgcmVtb3ZlKHJlY29yZCkge1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQoKCkge1xuICAgICAgICAvLyAgLy8gdmVyaWZ5IHRoYXQgdGhlIHJlY29yZCBiZWluZyByZW1vdmVkIGlzIGluIHRoZSBsaXN0LlxuICAgICAgICAvLyAgZm9yIChJdGVyYWJsZUNoYW5nZVJlY29yZF8gY3Vyc29yID0gX2hlYWQ7IGN1cnNvciAhPSBudWxsOyBjdXJzb3IgPSBjdXJzb3IuX25leHREdXApIHtcbiAgICAgICAgLy8gICAgaWYgKGlkZW50aWNhbChjdXJzb3IsIHJlY29yZCkpIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAgfVxuICAgICAgICAvLyAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvL30pO1xuICAgICAgICBjb25zdCBwcmV2ID0gcmVjb3JkLl9wcmV2RHVwO1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0RHVwO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0RHVwID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2RHVwID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faGVhZCA9PT0gbnVsbDtcbiAgICB9XG59XG5jbGFzcyBfRHVwbGljYXRlTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHB1dChyZWNvcmQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVjb3JkLnRyYWNrQnlJZDtcbiAgICAgICAgbGV0IGR1cGxpY2F0ZXMgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFkdXBsaWNhdGVzKSB7XG4gICAgICAgICAgICBkdXBsaWNhdGVzID0gbmV3IF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGtleSwgZHVwbGljYXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZHVwbGljYXRlcy5hZGQocmVjb3JkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGB2YWx1ZWAgdXNpbmcga2V5LiBCZWNhdXNlIHRoZSBJdGVyYWJsZUNoYW5nZVJlY29yZF8gdmFsdWUgbWF5IGJlIG9uZSB3aGljaCB3ZVxuICAgICAqIGhhdmUgYWxyZWFkeSBpdGVyYXRlZCBvdmVyLCB3ZSB1c2UgdGhlIGBhdE9yQWZ0ZXJJbmRleGAgdG8gcHJldGVuZCBpdCBpcyBub3QgdGhlcmUuXG4gICAgICpcbiAgICAgKiBVc2UgY2FzZTogYFthLCBiLCBjLCBhLCBhXWAgaWYgd2UgYXJlIGF0IGluZGV4IGAzYCB3aGljaCBpcyB0aGUgc2Vjb25kIGBhYCB0aGVuIGFza2luZyBpZiB3ZVxuICAgICAqIGhhdmUgYW55IG1vcmUgYGFgcyBuZWVkcyB0byByZXR1cm4gdGhlIHNlY29uZCBgYWAuXG4gICAgICovXG4gICAgZ2V0KHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdHJhY2tCeUlkO1xuICAgICAgICBjb25zdCByZWNvcmRMaXN0ID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiByZWNvcmRMaXN0ID8gcmVjb3JkTGlzdC5nZXQodHJhY2tCeUlkLCBhdE9yQWZ0ZXJJbmRleCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30gZnJvbSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogVGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBhbHNvIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIGlmIGl0IGdldHMgZW1wdHkuXG4gICAgICovXG4gICAgcmVtb3ZlKHJlY29yZCkge1xuICAgICAgICBjb25zdCBrZXkgPSByZWNvcmQudHJhY2tCeUlkO1xuICAgICAgICBjb25zdCByZWNvcmRMaXN0ID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIHdoZW4gaXQgZ2V0cyBlbXB0eVxuICAgICAgICBpZiAocmVjb3JkTGlzdC5yZW1vdmUocmVjb3JkKSkge1xuICAgICAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5zaXplID09PSAwO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRQcmV2aW91c0luZGV4KGl0ZW0sIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpIHtcbiAgICBjb25zdCBwcmV2aW91c0luZGV4ID0gaXRlbS5wcmV2aW91c0luZGV4O1xuICAgIGlmIChwcmV2aW91c0luZGV4ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gcHJldmlvdXNJbmRleDtcbiAgICBsZXQgbW92ZU9mZnNldCA9IDA7XG4gICAgaWYgKG1vdmVPZmZzZXRzICYmIHByZXZpb3VzSW5kZXggPCBtb3ZlT2Zmc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgbW92ZU9mZnNldCA9IG1vdmVPZmZzZXRzW3ByZXZpb3VzSW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNJbmRleCArIGFkZFJlbW92ZU9mZnNldCArIG1vdmVPZmZzZXQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICBzdXBwb3J0cyhvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1hcCB8fCBpc0pzT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0S2V5VmFsdWVEaWZmZXIoKTtcbiAgICB9XG59XG5jbGFzcyBEZWZhdWx0S2V5VmFsdWVEaWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9yZWNvcmRzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9tYXBIZWFkID0gbnVsbDtcbiAgICAgICAgLy8gX2FwcGVuZEFmdGVyIGlzIHVzZWQgaW4gdGhlIGNoZWNrIGxvb3BcbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmV2aW91c01hcEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgIH1cbiAgICBnZXQgaXNEaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZGl0aW9uc0hlYWQgIT09IG51bGwgfHwgdGhpcy5fY2hhbmdlc0hlYWQgIT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCAhPT0gbnVsbDtcbiAgICB9XG4gICAgZm9yRWFjaEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9tYXBIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoUHJldmlvdXNJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNNYXBIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFByZXZpb3VzKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hDaGFuZ2VkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaEFkZGVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFJlbW92ZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcmVtb3ZhbHNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFJlbW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlmZihtYXApIHtcbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghKG1hcCBpbnN0YW5jZW9mIE1hcCB8fCBpc0pzT2JqZWN0KG1hcCkpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgYEVycm9yIHRyeWluZyB0byBkaWZmICcke3N0cmluZ2lmeShtYXApfScuIE9ubHkgbWFwcyBhbmQgb2JqZWN0cyBhcmUgYWxsb3dlZGAgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDAgLyogSU5WQUxJRF9ESUZGRVJfSU5QVVQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2sobWFwKSA/IHRoaXMgOiBudWxsO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7IH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbWFwIHZzIHRoZSBwcmV2aW91cy5cbiAgICAgKiBUaGUgYWxnb3JpdGhtIGlzIG9wdGltaXNlZCBmb3Igd2hlbiB0aGUga2V5cyBkbyBubyBjaGFuZ2UuXG4gICAgICovXG4gICAgY2hlY2sobWFwKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIGxldCBpbnNlcnRCZWZvcmUgPSB0aGlzLl9tYXBIZWFkO1xuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gobWFwLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZSAmJiBpbnNlcnRCZWZvcmUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhpbnNlcnRCZWZvcmUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IGluc2VydEJlZm9yZTtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmUuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSB0aGlzLl9pbnNlcnRCZWZvcmVPckFwcGVuZChpbnNlcnRCZWZvcmUsIHJlY29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJdGVtcyByZW1haW5pbmcgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBoYXZlIGJlZW4gZGVsZXRlZFxuICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlLl9wcmV2KSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlLl9wcmV2Ll9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IGluc2VydEJlZm9yZTtcbiAgICAgICAgICAgIGZvciAobGV0IHJlY29yZCA9IGluc2VydEJlZm9yZTsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gdGhpcy5fbWFwSGVhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjb3Jkcy5kZWxldGUocmVjb3JkLmtleSk7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UmVtb3ZlZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0YWlscyBoYXZlIG5vIG5leHQgcmVjb3JkcyBmcm9tIHByZXZpb3VzIHJ1bnNcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNUYWlsKVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwpXG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgcmVjb3JkIGJlZm9yZSBgYmVmb3JlYCBvciBhcHBlbmQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCB3aGVuIGBiZWZvcmVgIGlzIG51bGwuXG4gICAgICpcbiAgICAgKiBOb3RlczpcbiAgICAgKiAtIFRoaXMgbWV0aG9kIGFwcGVuZHMgYXQgYHRoaXMuX2FwcGVuZEFmdGVyYCxcbiAgICAgKiAtIFRoaXMgbWV0aG9kIHVwZGF0ZXMgYHRoaXMuX2FwcGVuZEFmdGVyYCxcbiAgICAgKiAtIFRoZSByZXR1cm4gdmFsdWUgaXMgdGhlIG5ldyB2YWx1ZSBmb3IgdGhlIGluc2VydGlvbiBwb2ludGVyLlxuICAgICAqL1xuICAgIF9pbnNlcnRCZWZvcmVPckFwcGVuZChiZWZvcmUsIHJlY29yZCkge1xuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gYmVmb3JlLl9wcmV2O1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gYmVmb3JlO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gcHJldjtcbiAgICAgICAgICAgIGJlZm9yZS5fcHJldiA9IHJlY29yZDtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgcHJldi5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiZWZvcmUgPT09IHRoaXMuX21hcEhlYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBiZWZvcmU7XG4gICAgICAgICAgICByZXR1cm4gYmVmb3JlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hcHBlbmRBZnRlcikge1xuICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIuX25leHQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSB0aGlzLl9hcHBlbmRBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcEhlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSByZWNvcmQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVjb3Jkcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5fcmVjb3Jkcy5nZXQoa2V5KTtcbiAgICAgICAgICAgIHRoaXMuX21heWJlQWRkVG9DaGFuZ2VzKHJlY29yZCwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcHJldjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY29yZC5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWNvcmQgPSBuZXcgS2V5VmFsdWVDaGFuZ2VSZWNvcmRfKGtleSk7XG4gICAgICAgIHRoaXMuX3JlY29yZHMuc2V0KGtleSwgcmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9hZGRUb0FkZGl0aW9ucyhyZWNvcmQpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KSB7XG4gICAgICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICAgICAgLy8gbGV0IGBfcHJldmlvdXNNYXBIZWFkYCBjb250YWluIHRoZSBzdGF0ZSBvZiB0aGUgbWFwIGJlZm9yZSB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNNYXBIZWFkID0gdGhpcy5fbWFwSGVhZDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNNYXBIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dFByZXZpb3VzID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIGByZWNvcmQucHJldmlvdXNWYWx1ZWAgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIGl0ZW0gYmVmb3JlIHRoZSBjaGFuZ2VzXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSBhbGwgY2hhbmdlZCBpdGVtcyAodGhhdCdzIHRob3NlIHdoaWNoIGhhdmUgYmVlbiBhZGRlZCBhbmQgY2hhbmdlZClcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fY2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSB0aGlzLl9jaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgcmVjb3JkIG9yIGEgZ2l2ZW4ga2V5IHRvIHRoZSBsaXN0IG9mIGNoYW5nZXMgb25seSB3aGVuIHRoZSB2YWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZFxuICAgIF9tYXliZUFkZFRvQ2hhbmdlcyhyZWNvcmQsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmICghT2JqZWN0LmlzKG5ld1ZhbHVlLCByZWNvcmQuY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9DaGFuZ2VzKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZFRvQWRkaXRpb25zKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zSGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRUb0NoYW5nZXMocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzSGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSB0aGlzLl9jaGFuZ2VzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZCA9IHJlY29yZDtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZm9yRWFjaChvYmosIGZuKSB7XG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgIG9iai5mb3JFYWNoKGZuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrID0+IGZuKG9ialtrXSwgaykpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgS2V5VmFsdWVDaGFuZ2VSZWNvcmRfIHtcbiAgICBjb25zdHJ1Y3RvcihrZXkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIG5ldyBJdGVyYWJsZURpZmZlcnMoW25ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCldKTtcbn1cbi8qKlxuICogQSByZXBvc2l0b3J5IG9mIGRpZmZlcmVudCBpdGVyYWJsZSBkaWZmaW5nIHN0cmF0ZWdpZXMgdXNlZCBieSBOZ0ZvciwgTmdDbGFzcywgYW5kIG90aGVycy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEl0ZXJhYmxlRGlmZmVycyB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY29waWVkID0gcGFyZW50LmZhY3Rvcmllcy5zbGljZSgpO1xuICAgICAgICAgICAgZmFjdG9yaWVzID0gZmFjdG9yaWVzLmNvbmNhdChjb3BpZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSXRlcmFibGVEaWZmZXJzKGZhY3Rvcmllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIHtAbGluayBJdGVyYWJsZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtAbGluayBJdGVyYWJsZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge0BsaW5rIEl0ZXJhYmxlRGlmZmVyc30gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGV4dGVuZCBhbiBleGlzdGluZyBsaXN0IG9mIGZhY3RvcmllcyxcbiAgICAgKiB3aGljaCB3aWxsIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgaW5qZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogVGhpcyBzdGVwIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWQgdG8gbWFrZSBhIG5ldyB7QGxpbmsgSXRlcmFibGVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBJdGVyYWJsZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTGlzdERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmQoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm92aWRlOiBJdGVyYWJsZURpZmZlcnMsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiAocGFyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgcGFyZW50IGlzIG51bGwsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGluIHRoZSByb290IGluamVjdG9yIGFuZCB3ZSBoYXZlIGp1c3Qgb3ZlcnJpZGRlblxuICAgICAgICAgICAgICAgIC8vIHRoZSBkZWZhdWx0IGluamVjdGlvbiBtZWNoYW5pc20gZm9yIEl0ZXJhYmxlRGlmZmVycywgaW4gc3VjaCBhIGNhc2UganVzdCBhc3N1bWVcbiAgICAgICAgICAgICAgICAvLyBgZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnlgLlxuICAgICAgICAgICAgICAgIHJldHVybiBJdGVyYWJsZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50IHx8IGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlcGVuZGVuY3kgdGVjaG5pY2FsbHkgaXNuJ3Qgb3B0aW9uYWwsIGJ1dCB3ZSBjYW4gcHJvdmlkZSBhIGJldHRlciBlcnJvciBtZXNzYWdlIHRoaXMgd2F5LlxuICAgICAgICAgICAgZGVwczogW1tJdGVyYWJsZURpZmZlcnMsIG5ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKV1dXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmQoaXRlcmFibGUpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMuZmFjdG9yaWVzLmZpbmQoZiA9PiBmLnN1cHBvcnRzKGl0ZXJhYmxlKSk7XG4gICAgICAgIGlmIChmYWN0b3J5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgIGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHtpdGVyYWJsZX0nIG9mIHR5cGUgJyR7Z2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcoaXRlcmFibGUpfSdgIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAxIC8qIE5PX1NVUFBPUlRJTkdfRElGRkVSX0ZBQ1RPUlkgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogQG5vY29sbGFwc2UgKi9cbkl0ZXJhYmxlRGlmZmVycy7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBJdGVyYWJsZURpZmZlcnMsIHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkgfSk7XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbJ25hbWUnXSB8fCB0eXBlb2YgdHlwZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IEtleVZhbHVlRGlmZmVycyhbbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKV0pO1xufVxuLyoqXG4gKiBBIHJlcG9zaXRvcnkgb2YgZGlmZmVyZW50IE1hcCBkaWZmaW5nIHN0cmF0ZWdpZXMgdXNlZCBieSBOZ0NsYXNzLCBOZ1N0eWxlLCBhbmQgb3RoZXJzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgS2V5VmFsdWVEaWZmZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBmYWN0b3JpZXM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29waWVkID0gcGFyZW50LmZhY3Rvcmllcy5zbGljZSgpO1xuICAgICAgICAgICAgZmFjdG9yaWVzID0gZmFjdG9yaWVzLmNvbmNhdChjb3BpZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgS2V5VmFsdWVEaWZmZXJzKGZhY3Rvcmllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIHtAbGluayBLZXlWYWx1ZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge0BsaW5rIEtleVZhbHVlRGlmZmVyc30gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGV4dGVuZCBhbiBleGlzdGluZyBsaXN0IG9mIGZhY3RvcmllcyxcbiAgICAgKiB3aGljaCB3aWxsIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgaW5qZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogVGhpcyBzdGVwIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWQgdG8gbWFrZSBhIG5ldyB7QGxpbmsgS2V5VmFsdWVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBLZXlWYWx1ZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTWFwRGlmZmVyKCldKVxuICAgICAqICAgXVxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZChmYWN0b3JpZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEtleVZhbHVlRGlmZmVycyxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IChwYXJlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiBwYXJlbnQgaXMgbnVsbCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgaW4gdGhlIHJvb3QgaW5qZWN0b3IgYW5kIHdlIGhhdmUganVzdCBvdmVycmlkZGVuXG4gICAgICAgICAgICAgICAgLy8gdGhlIGRlZmF1bHQgaW5qZWN0aW9uIG1lY2hhbmlzbSBmb3IgS2V5VmFsdWVEaWZmZXJzLCBpbiBzdWNoIGEgY2FzZSBqdXN0IGFzc3VtZVxuICAgICAgICAgICAgICAgIC8vIGBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeWAuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtleVZhbHVlRGlmZmVycy5jcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQgfHwgZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnkoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGVwZW5kZW5jeSB0ZWNobmljYWxseSBpc24ndCBvcHRpb25hbCwgYnV0IHdlIGNhbiBwcm92aWRlIGEgYmV0dGVyIGVycm9yIG1lc3NhZ2UgdGhpcyB3YXkuXG4gICAgICAgICAgICBkZXBzOiBbW0tleVZhbHVlRGlmZmVycywgbmV3IFNraXBTZWxmKCksIG5ldyBPcHRpb25hbCgpXV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmluZChrdikge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmID0+IGYuc3VwcG9ydHMoa3YpKTtcbiAgICAgICAgaWYgKGZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgIGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHtrdn0nYCA6XG4gICAgICAgICAgICAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDEgLyogTk9fU1VQUE9SVElOR19ESUZGRVJfRkFDVE9SWSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG59XG4vKiogQG5vY29sbGFwc2UgKi9cbktleVZhbHVlRGlmZmVycy7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBLZXlWYWx1ZURpZmZlcnMsIHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnkgfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTdHJ1Y3R1cmFsIGRpZmZpbmcgZm9yIGBPYmplY3RgcyBhbmQgYE1hcGBzLlxuICovXG5jb25zdCBrZXlWYWxEaWZmID0gW25ldyBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5KCldO1xuLyoqXG4gKiBTdHJ1Y3R1cmFsIGRpZmZpbmcgZm9yIGBJdGVyYWJsZWAgdHlwZXMgc3VjaCBhcyBgQXJyYXlgcy5cbiAqL1xuY29uc3QgaXRlcmFibGVEaWZmID0gW25ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCldO1xuY29uc3QgZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyA9IG5ldyBJdGVyYWJsZURpZmZlcnMoaXRlcmFibGVEaWZmKTtcbmNvbnN0IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnMgPSBuZXcgS2V5VmFsdWVEaWZmZXJzKGtleVZhbERpZmYpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfQ09SRV9QTEFURk9STV9QUk9WSURFUlMgPSBbXG4gICAgLy8gU2V0IGEgZGVmYXVsdCBwbGF0Zm9ybSBuYW1lIGZvciBwbGF0Zm9ybXMgdGhhdCBkb24ndCBzZXQgaXQgZXhwbGljaXRseS5cbiAgICB7IHByb3ZpZGU6IFBMQVRGT1JNX0lELCB1c2VWYWx1ZTogJ3Vua25vd24nIH0sXG4gICAgeyBwcm92aWRlOiBQbGF0Zm9ybVJlZiwgZGVwczogW0luamVjdG9yXSB9LFxuICAgIHsgcHJvdmlkZTogVGVzdGFiaWxpdHlSZWdpc3RyeSwgZGVwczogW10gfSxcbiAgICB7IHByb3ZpZGU6IENvbnNvbGUsIGRlcHM6IFtdIH0sXG5dO1xuLyoqXG4gKiBUaGlzIHBsYXRmb3JtIGhhcyB0byBiZSBpbmNsdWRlZCBpbiBhbnkgb3RoZXIgcGxhdGZvcm1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IHBsYXRmb3JtQ29yZSA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShudWxsLCAnY29yZScsIF9DT1JFX1BMQVRGT1JNX1BST1ZJREVSUyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZS1leHBvcnRlZCBieSBgQnJvd3Nlck1vZHVsZWAsIHdoaWNoIGlzIGluY2x1ZGVkIGF1dG9tYXRpY2FsbHkgaW4gdGhlIHJvb3RcbiAqIGBBcHBNb2R1bGVgIHdoZW4geW91IGNyZWF0ZSBhIG5ldyBhcHAgd2l0aCB0aGUgQ0xJIGBuZXdgIGNvbW1hbmQuIEVhZ2VybHkgaW5qZWN0c1xuICogYEFwcGxpY2F0aW9uUmVmYCB0byBpbnN0YW50aWF0ZSBpdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uTW9kdWxlIHtcbiAgICAvLyBJbmplY3QgQXBwbGljYXRpb25SZWYgdG8gbWFrZSBpdCBlYWdlci4uLlxuICAgIGNvbnN0cnVjdG9yKGFwcFJlZikgeyB9XG59XG5BcHBsaWNhdGlvbk1vZHVsZS7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uTW9kdWxlX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uTW9kdWxlKSjJtcm1aW5qZWN0KEFwcGxpY2F0aW9uUmVmKSk7IH07XG5BcHBsaWNhdGlvbk1vZHVsZS7JtW1vZCA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZU5nTW9kdWxlKHsgdHlwZTogQXBwbGljYXRpb25Nb2R1bGUgfSk7XG5BcHBsaWNhdGlvbk1vZHVsZS7JtWluaiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdG9yKHt9KTtcbihmdW5jdGlvbiAoKSB7ICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShBcHBsaWNhdGlvbk1vZHVsZSwgW3tcbiAgICAgICAgdHlwZTogTmdNb2R1bGVcbiAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogQXBwbGljYXRpb25SZWYgfV07IH0sIG51bGwpOyB9KSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE8oYWx4aHViKTogYWxsb3dzIHRlc3RzIHRvIGNvbXBpbGUsIGNhbiBiZSByZW1vdmVkIHdoZW4gdGVzdHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXG5jb25zdCDJtWl2eUVuYWJsZWQgPSB0cnVlO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdkaXJlY3RpdmUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVEaXJlY3RpdmVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1ZmFjLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIEV2YWx1YXRlcyB0aGUgY2xhc3MgbWV0YWRhdGEgZGVjbGFyYXRpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoZGVjbCkge1xuICAgIHNldENsYXNzTWV0YWRhdGEoZGVjbC50eXBlLCBkZWNsLmRlY29yYXRvcnMsIGRlY2wuY3RvclBhcmFtZXRlcnMgPz8gbnVsbCwgZGVjbC5wcm9wRGVjb3JhdG9ycyA/PyBudWxsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGNvbXBvbmVudCBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVDb21wb25lbnQoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdjb21wb25lbnQnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVDb21wb25lbnREZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1Y21wLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBwaXBlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBwaXBlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVGYWN0b3J5KGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHtcbiAgICAgICAgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLFxuICAgICAgICBraW5kOiBnZXRGYWN0b3J5S2luZChkZWNsLnRhcmdldCksXG4gICAgICAgIHR5cGU6IGRlY2wudHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlRmFjdG9yeURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVmYWMuanNgLCBkZWNsKTtcbn1cbmZ1bmN0aW9uIGdldEZhY3RvcnlLaW5kKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0KSB7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5EaXJlY3RpdmU6XG4gICAgICAgICAgICByZXR1cm4gJ2RpcmVjdGl2ZSc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5Db21wb25lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ2NvbXBvbmVudCc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5JbmplY3RhYmxlOlxuICAgICAgICAgICAgcmV0dXJuICdpbmplY3RhYmxlJztcbiAgICAgICAgY2FzZSBGYWN0b3J5VGFyZ2V0LlBpcGU6XG4gICAgICAgICAgICByZXR1cm4gJ3BpcGUnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuTmdNb2R1bGU6XG4gICAgICAgICAgICByZXR1cm4gJ05nTW9kdWxlJztcbiAgICB9XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBpbmplY3RhYmxlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBpbmplY3RhYmxlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnaW5qZWN0YWJsZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUluamVjdGFibGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1cHJvdi5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgaW5qZWN0b3IgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIGluamVjdG9yIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVJbmplY3RvcihkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlSW5qZWN0b3JEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1aW5qLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBOZ01vZHVsZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgTmdNb2R1bGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZU5nTW9kdWxlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVOZ01vZHVsZURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVtb2QuanNgLCBkZWNsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIHBpcGUgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIHBpcGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZVBpcGUoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdwaXBlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlUGlwZURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVwaXBlLmpzYCwgZGVjbCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gY2xhbmctZm9ybWF0IG9uXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuaWYgKHR5cGVvZiBuZ0Rldk1vZGUgIT09ICd1bmRlZmluZWQnICYmIG5nRGV2TW9kZSkge1xuICAgIC8vIFRoaXMgaGVscGVyIGlzIHRvIGdpdmUgYSByZWFzb25hYmxlIGVycm9yIG1lc3NhZ2UgdG8gcGVvcGxlIHVwZ3JhZGluZyB0byB2OSB0aGF0IGhhdmUgbm90IHlldFxuICAgIC8vIGluc3RhbGxlZCBgQGFuZ3VsYXIvbG9jYWxpemVgIGluIHRoZWlyIGFwcC5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgIF9nbG9iYWwuJGxvY2FsaXplID0gX2dsb2JhbC4kbG9jYWxpemUgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0IGxvb2tzIGxpa2UgeW91ciBhcHBsaWNhdGlvbiBvciBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcyBpcyB1c2luZyBpMThuLlxcbicgK1xuICAgICAgICAgICAgJ0FuZ3VsYXIgOSBpbnRyb2R1Y2VkIGEgZ2xvYmFsIGAkbG9jYWxpemUoKWAgZnVuY3Rpb24gdGhhdCBuZWVkcyB0byBiZSBsb2FkZWQuXFxuJyArXG4gICAgICAgICAgICAnUGxlYXNlIHJ1biBgbmcgYWRkIEBhbmd1bGFyL2xvY2FsaXplYCBmcm9tIHRoZSBBbmd1bGFyIENMSS5cXG4nICtcbiAgICAgICAgICAgICcoRm9yIG5vbi1DTEkgcHJvamVjdHMsIGFkZCBgaW1wb3J0IFxcJ0Bhbmd1bGFyL2xvY2FsaXplL2luaXRcXCc7YCB0byB5b3VyIGBwb2x5ZmlsbHMudHNgIGZpbGUuXFxuJyArXG4gICAgICAgICAgICAnRm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZyBhcHBsaWNhdGlvbnMgYWRkIHRoZSBpbXBvcnQgdG8geW91ciBgbWFpbi5zZXJ2ZXIudHNgIGZpbGUuKScpO1xuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVGhpcyBmaWxlIG9ubHkgcmVleHBvcnRzIGNvbnRlbnQgb2YgdGhlIGBzcmNgIGZvbGRlci4gS2VlcCBpdCB0aGF0IHdheS5cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0IHsgQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgQVBQX0JPT1RTVFJBUF9MSVNURU5FUiwgQVBQX0lELCBBUFBfSU5JVElBTElaRVIsIEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgQXBwbGljYXRpb25Nb2R1bGUsIEFwcGxpY2F0aW9uUmVmLCBBdHRyaWJ1dGUsIENPTVBJTEVSX09QVElPTlMsIENVU1RPTV9FTEVNRU5UU19TQ0hFTUEsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcGlsZXIsIENvbXBpbGVyRmFjdG9yeSwgQ29tcG9uZW50LCBDb21wb25lbnRGYWN0b3J5JDEgYXMgQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEgYXMgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBDb21wb25lbnRSZWYkMSBhcyBDb21wb25lbnRSZWYsIENvbnRlbnRDaGlsZCwgQ29udGVudENoaWxkcmVuLCBERUZBVUxUX0NVUlJFTkNZX0NPREUsIERlYnVnRWxlbWVudCwgRGVidWdFdmVudExpc3RlbmVyLCBEZWJ1Z05vZGUsIERlZmF1bHRJdGVyYWJsZURpZmZlciwgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFbWJlZGRlZFZpZXdSZWYsIEVycm9ySGFuZGxlciwgRXZlbnRFbWl0dGVyLCBIb3N0LCBIb3N0QmluZGluZywgSG9zdExpc3RlbmVyLCBJTkpFQ1RPUiwgSW5qZWN0LCBJbmplY3RGbGFncywgSW5qZWN0YWJsZSwgSW5qZWN0aW9uVG9rZW4sIEluamVjdG9yLCBJbnB1dCwgSXRlcmFibGVEaWZmZXJzLCBLZXlWYWx1ZURpZmZlcnMsIExPQ0FMRV9JRCwgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3ksIE1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMsIE5PX0VSUk9SU19TQ0hFTUEsIE5nTW9kdWxlLCBOZ01vZHVsZUZhY3RvcnkkMSBhcyBOZ01vZHVsZUZhY3RvcnksIE5nTW9kdWxlUmVmJDEgYXMgTmdNb2R1bGVSZWYsIE5nUHJvYmVUb2tlbiwgTmdab25lLCBPcHRpb25hbCwgT3V0cHV0LCBQQUNLQUdFX1JPT1RfVVJMLCBQTEFURk9STV9JRCwgUExBVEZPUk1fSU5JVElBTElaRVIsIFBpcGUsIFBsYXRmb3JtUmVmLCBRdWVyeSwgUXVlcnlMaXN0LCBSZWZsZWN0aXZlSW5qZWN0b3IsIFJlZmxlY3RpdmVLZXksIFJlbmRlcmVyMiwgUmVuZGVyZXJGYWN0b3J5MiwgUmVuZGVyZXJTdHlsZUZsYWdzMiwgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSwgU2FuaXRpemVyLCBTZWN1cml0eUNvbnRleHQsIFNlbGYsIFNpbXBsZUNoYW5nZSwgU2tpcFNlbGYsIFRSQU5TTEFUSU9OUywgVFJBTlNMQVRJT05TX0ZPUk1BVCwgVGVtcGxhdGVSZWYsIFRlc3RhYmlsaXR5LCBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBUeXBlLCBWRVJTSU9OLCBWZXJzaW9uLCBWaWV3Q2hpbGQsIFZpZXdDaGlsZHJlbiwgVmlld0NvbnRhaW5lclJlZiwgVmlld0VuY2Fwc3VsYXRpb24kMSBhcyBWaWV3RW5jYXBzdWxhdGlvbiwgVmlld1JlZiwgYXNOYXRpdmVFbGVtZW50cywgYXNzZXJ0UGxhdGZvcm0sIGNyZWF0ZU5nTW9kdWxlUmVmLCBjcmVhdGVQbGF0Zm9ybSwgY3JlYXRlUGxhdGZvcm1GYWN0b3J5LCBkZWZpbmVJbmplY3RhYmxlLCBkZXN0cm95UGxhdGZvcm0sIGVuYWJsZVByb2RNb2RlLCBmb3J3YXJkUmVmLCBnZXREZWJ1Z05vZGUsIGdldE1vZHVsZUZhY3RvcnksIGdldE5nTW9kdWxlQnlJZCwgZ2V0UGxhdGZvcm0sIGluamVjdCwgaXNEZXZNb2RlLCBwbGF0Zm9ybUNvcmUsIHJlc29sdmVGb3J3YXJkUmVmLCBzZXRUZXN0YWJpbGl0eUdldHRlciwgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TIGFzIMm1QUxMT1dfTVVMVElQTEVfUExBVEZPUk1TLCBBUFBfSURfUkFORE9NX1BST1ZJREVSIGFzIMm1QVBQX0lEX1JBTkRPTV9QUk9WSURFUiwgQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgYXMgybVDaGFuZ2VEZXRlY3RvclN0YXR1cywgQ29tcG9uZW50RmFjdG9yeSQxIGFzIMm1Q29tcG9uZW50RmFjdG9yeSwgQ29uc29sZSBhcyDJtUNvbnNvbGUsIERFRkFVTFRfTE9DQUxFX0lEIGFzIMm1REVGQVVMVF9MT0NBTEVfSUQsIElOSkVDVE9SX1NDT1BFIGFzIMm1SU5KRUNUT1JfU0NPUEUsIExpZmVjeWNsZUhvb2tzRmVhdHVyZSBhcyDJtUxpZmVjeWNsZUhvb2tzRmVhdHVyZSwgTG9jYWxlRGF0YUluZGV4IGFzIMm1TG9jYWxlRGF0YUluZGV4LCBOR19DT01QX0RFRiBhcyDJtU5HX0NPTVBfREVGLCBOR19ESVJfREVGIGFzIMm1TkdfRElSX0RFRiwgTkdfRUxFTUVOVF9JRCBhcyDJtU5HX0VMRU1FTlRfSUQsIE5HX0lOSl9ERUYgYXMgybVOR19JTkpfREVGLCBOR19NT0RfREVGIGFzIMm1TkdfTU9EX0RFRiwgTkdfUElQRV9ERUYgYXMgybVOR19QSVBFX0RFRiwgTkdfUFJPVl9ERUYgYXMgybVOR19QUk9WX0RFRiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiBhcyDJtU5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IsIE5PX0NIQU5HRSBhcyDJtU5PX0NIQU5HRSwgTmdNb2R1bGVGYWN0b3J5IGFzIMm1TmdNb2R1bGVGYWN0b3J5LCBOb29wTmdab25lIGFzIMm1Tm9vcE5nWm9uZSwgUmVmbGVjdGlvbkNhcGFiaWxpdGllcyBhcyDJtVJlZmxlY3Rpb25DYXBhYmlsaXRpZXMsIENvbXBvbmVudEZhY3RvcnkgYXMgybVSZW5kZXIzQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50UmVmIGFzIMm1UmVuZGVyM0NvbXBvbmVudFJlZiwgTmdNb2R1bGVSZWYgYXMgybVSZW5kZXIzTmdNb2R1bGVSZWYsIFJ1bnRpbWVFcnJvciBhcyDJtVJ1bnRpbWVFcnJvciwgVmlld1JlZiQxIGFzIMm1Vmlld1JlZiwgX3Nhbml0aXplSHRtbCBhcyDJtV9zYW5pdGl6ZUh0bWwsIF9zYW5pdGl6ZVVybCBhcyDJtV9zYW5pdGl6ZVVybCwgYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyBhcyDJtWFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3csIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCwgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0IGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlLCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0VXJsLCBjbGVhclJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlc1F1ZXVlIGFzIMm1Y2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSwgY29tcGlsZUNvbXBvbmVudCBhcyDJtWNvbXBpbGVDb21wb25lbnQsIGNvbXBpbGVEaXJlY3RpdmUgYXMgybVjb21waWxlRGlyZWN0aXZlLCBjb21waWxlTmdNb2R1bGUgYXMgybVjb21waWxlTmdNb2R1bGUsIGNvbXBpbGVOZ01vZHVsZURlZnMgYXMgybVjb21waWxlTmdNb2R1bGVEZWZzLCBjb21waWxlTmdNb2R1bGVGYWN0b3J5IGFzIMm1Y29tcGlsZU5nTW9kdWxlRmFjdG9yeSwgY29tcGlsZVBpcGUgYXMgybVjb21waWxlUGlwZSwgY3JlYXRlSW5qZWN0b3IgYXMgybVjcmVhdGVJbmplY3RvciwgZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyBhcyDJtWRlZmF1bHRJdGVyYWJsZURpZmZlcnMsIGRlZmF1bHRLZXlWYWx1ZURpZmZlcnMgYXMgybVkZWZhdWx0S2V5VmFsdWVEaWZmZXJzLCBkZXRlY3RDaGFuZ2VzIGFzIMm1ZGV0ZWN0Q2hhbmdlcywgZGV2TW9kZUVxdWFsIGFzIMm1ZGV2TW9kZUVxdWFsLCBmaW5kTG9jYWxlRGF0YSBhcyDJtWZpbmRMb2NhbGVEYXRhLCBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUgYXMgybVmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUsIGdldERlYnVnTm9kZSBhcyDJtWdldERlYnVnTm9kZSwgZ2V0RGVidWdOb2RlUjIgYXMgybVnZXREZWJ1Z05vZGVSMiwgZ2V0RGlyZWN0aXZlcyBhcyDJtWdldERpcmVjdGl2ZXMsIGdldEhvc3RFbGVtZW50IGFzIMm1Z2V0SG9zdEVsZW1lbnQsIGdldEluamVjdGFibGVEZWYgYXMgybVnZXRJbmplY3RhYmxlRGVmLCBnZXRMQ29udGV4dCBhcyDJtWdldExDb250ZXh0LCBnZXRMb2NhbGVDdXJyZW5jeUNvZGUgYXMgybVnZXRMb2NhbGVDdXJyZW5jeUNvZGUsIGdldExvY2FsZVBsdXJhbENhc2UgYXMgybVnZXRMb2NhbGVQbHVyYWxDYXNlLCBnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlIGFzIMm1Z2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSwgX2dsb2JhbCBhcyDJtWdsb2JhbCwgaW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYgYXMgybVpbmplY3RDaGFuZ2VEZXRlY3RvclJlZiwgaXNCb3VuZFRvTW9kdWxlIGFzIMm1aXNCb3VuZFRvTW9kdWxlLCBpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSBhcyDJtWlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBpc0xpc3RMaWtlSXRlcmFibGUgYXMgybVpc0xpc3RMaWtlSXRlcmFibGUsIGlzT2JzZXJ2YWJsZSBhcyDJtWlzT2JzZXJ2YWJsZSwgaXNQcm9taXNlIGFzIMm1aXNQcm9taXNlLCBpc1N1YnNjcmliYWJsZSBhcyDJtWlzU3Vic2NyaWJhYmxlLCDJtWl2eUVuYWJsZWQsIG1ha2VEZWNvcmF0b3IgYXMgybVtYWtlRGVjb3JhdG9yLCBtYXJrRGlydHkgYXMgybVtYXJrRGlydHksIG5vU2lkZUVmZmVjdHMgYXMgybVub1NpZGVFZmZlY3RzLCBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZSBhcyDJtXBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlLCBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEgYXMgybVwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzLCBwdWJsaXNoR2xvYmFsVXRpbCBhcyDJtXB1Ymxpc2hHbG9iYWxVdGlsLCByZWdpc3RlckxvY2FsZURhdGEgYXMgybVyZWdpc3RlckxvY2FsZURhdGEsIHJlZ2lzdGVyTmdNb2R1bGVUeXBlIGFzIMm1cmVnaXN0ZXJOZ01vZHVsZVR5cGUsIHJlbmRlckNvbXBvbmVudCBhcyDJtXJlbmRlckNvbXBvbmVudCwgcmVzZXRDb21waWxlZENvbXBvbmVudHMgYXMgybVyZXNldENvbXBpbGVkQ29tcG9uZW50cywgcmVzZXRKaXRPcHRpb25zIGFzIMm1cmVzZXRKaXRPcHRpb25zLCByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzIGFzIMm1cmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcywgc2V0Q2xhc3NNZXRhZGF0YSBhcyDJtXNldENsYXNzTWV0YWRhdGEsIHNldEN1cnJlbnRJbmplY3RvciBhcyDJtXNldEN1cnJlbnRJbmplY3Rvciwgc2V0RG9jdW1lbnQgYXMgybVzZXREb2N1bWVudCwgc2V0TG9jYWxlSWQgYXMgybVzZXRMb2NhbGVJZCwgc3RvcmUgYXMgybVzdG9yZSwgc3RyaW5naWZ5IGFzIMm1c3RyaW5naWZ5LCB0cmFuc2l0aXZlU2NvcGVzRm9yIGFzIMm1dHJhbnNpdGl2ZVNjb3Blc0ZvciwgdW5yZWdpc3RlckFsbExvY2FsZURhdGEgYXMgybV1bnJlZ2lzdGVyTG9jYWxlRGF0YSwgdW53cmFwU2FmZVZhbHVlIGFzIMm1dW53cmFwU2FmZVZhbHVlLCB3aGVuUmVuZGVyZWQgYXMgybV3aGVuUmVuZGVyZWQsIMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUsIEZhY3RvcnlUYXJnZXQgYXMgybXJtUZhY3RvcnlUYXJnZXQsIMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUsIMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUsIMm1ybVQcm92aWRlcnNGZWF0dXJlLCDJtcm1YWR2YW5jZSwgybXJtWF0dHJpYnV0ZSwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMiwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMywgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNCwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNSwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNiwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNywgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOCwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlViwgybXJtWNsYXNzTWFwLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEsIMm1ybVjbGFzc01hcEludGVycG9sYXRlMiwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQsIMm1ybVjbGFzc01hcEludGVycG9sYXRlNSwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcsIMm1ybVjbGFzc01hcEludGVycG9sYXRlOCwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWLCDJtcm1Y2xhc3NQcm9wLCDJtcm1Y29udGVudFF1ZXJ5LCDJtcm1ZGVmaW5lQ29tcG9uZW50LCDJtcm1ZGVmaW5lRGlyZWN0aXZlLCDJtcm1ZGVmaW5lSW5qZWN0YWJsZSwgybXJtWRlZmluZUluamVjdG9yLCDJtcm1ZGVmaW5lTmdNb2R1bGUsIMm1ybVkZWZpbmVQaXBlLCDJtcm1ZGlyZWN0aXZlSW5qZWN0LCDJtcm1ZGlzYWJsZUJpbmRpbmdzLCDJtcm1ZWxlbWVudCwgybXJtWVsZW1lbnRDb250YWluZXIsIMm1ybVlbGVtZW50Q29udGFpbmVyRW5kLCDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0LCDJtcm1ZWxlbWVudEVuZCwgybXJtWVsZW1lbnRTdGFydCwgybXJtWVuYWJsZUJpbmRpbmdzLCDJtcm1Z2V0Q3VycmVudFZpZXcsIMm1ybVnZXRJbmhlcml0ZWRGYWN0b3J5LCDJtcm1aG9zdFByb3BlcnR5LCDJtcm1aTE4biwgybXJtWkxOG5BcHBseSwgybXJtWkxOG5BdHRyaWJ1dGVzLCDJtcm1aTE4bkVuZCwgybXJtWkxOG5FeHAsIMm1ybVpMThuUG9zdHByb2Nlc3MsIMm1ybVpMThuU3RhcnQsIMm1ybVpbmplY3QsIMm1ybVpbmplY3RBdHRyaWJ1dGUsIMm1ybVpbnZhbGlkRmFjdG9yeSwgybXJtWludmFsaWRGYWN0b3J5RGVwLCDJtcm1bGlzdGVuZXIsIMm1ybVsb2FkUXVlcnksIMm1ybVuYW1lc3BhY2VIVE1MLCDJtcm1bmFtZXNwYWNlTWF0aE1MLCDJtcm1bmFtZXNwYWNlU1ZHLCDJtcm1bmV4dENvbnRleHQsIMm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhLCDJtcm1bmdEZWNsYXJlQ29tcG9uZW50LCDJtcm1bmdEZWNsYXJlRGlyZWN0aXZlLCDJtcm1bmdEZWNsYXJlRmFjdG9yeSwgybXJtW5nRGVjbGFyZUluamVjdGFibGUsIMm1ybVuZ0RlY2xhcmVJbmplY3RvciwgybXJtW5nRGVjbGFyZU5nTW9kdWxlLCDJtcm1bmdEZWNsYXJlUGlwZSwgybXJtXBpcGUsIMm1ybVwaXBlQmluZDEsIMm1ybVwaXBlQmluZDIsIMm1ybVwaXBlQmluZDMsIMm1ybVwaXBlQmluZDQsIMm1ybVwaXBlQmluZFYsIMm1ybVwcm9qZWN0aW9uLCDJtcm1cHJvamVjdGlvbkRlZiwgybXJtXByb3BlcnR5LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxLCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMywgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNiwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlViwgybXJtXB1cmVGdW5jdGlvbjAsIMm1ybVwdXJlRnVuY3Rpb24xLCDJtcm1cHVyZUZ1bmN0aW9uMiwgybXJtXB1cmVGdW5jdGlvbjMsIMm1ybVwdXJlRnVuY3Rpb240LCDJtcm1cHVyZUZ1bmN0aW9uNSwgybXJtXB1cmVGdW5jdGlvbjYsIMm1ybVwdXJlRnVuY3Rpb243LCDJtcm1cHVyZUZ1bmN0aW9uOCwgybXJtXB1cmVGdW5jdGlvblYsIMm1ybVxdWVyeVJlZnJlc2gsIMm1ybVyZWZlcmVuY2UsIMm1ybVyZXNvbHZlQm9keSwgybXJtXJlc29sdmVEb2N1bWVudCwgybXJtXJlc29sdmVXaW5kb3csIMm1ybVyZXN0b3JlVmlldywgybXJtXNhbml0aXplSHRtbCwgybXJtXNhbml0aXplUmVzb3VyY2VVcmwsIMm1ybVzYW5pdGl6ZVNjcmlwdCwgybXJtXNhbml0aXplU3R5bGUsIMm1ybVzYW5pdGl6ZVVybCwgybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCwgybXJtXNldENvbXBvbmVudFNjb3BlLCDJtcm1c2V0TmdNb2R1bGVTY29wZSwgybXJtXN0eWxlTWFwLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTEsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMiwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTQsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNSwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlOCwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWLCDJtcm1c3R5bGVQcm9wLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWLCDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyLCDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5LCDJtcm1dGVtcGxhdGUsIMm1ybV0ZW1wbGF0ZVJlZkV4dHJhY3RvciwgybXJtXRleHQsIMm1ybV0ZXh0SW50ZXJwb2xhdGUsIMm1ybV0ZXh0SW50ZXJwb2xhdGUxLCDJtcm1dGV4dEludGVycG9sYXRlMiwgybXJtXRleHRJbnRlcnBvbGF0ZTMsIMm1ybV0ZXh0SW50ZXJwb2xhdGU0LCDJtcm1dGV4dEludGVycG9sYXRlNSwgybXJtXRleHRJbnRlcnBvbGF0ZTYsIMm1ybV0ZXh0SW50ZXJwb2xhdGU3LCDJtcm1dGV4dEludGVycG9sYXRlOCwgybXJtXRleHRJbnRlcnBvbGF0ZVYsIMm1ybV0cnVzdENvbnN0YW50SHRtbCwgybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCwgybXJtXZpZXdRdWVyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5tanMubWFwXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCB7IFNpZ25hbGluZ1NlcnZlciB9IGZyb20gXCIuL3NpZ25hbGluZ1NlcnZlclwiO1xuZXhwb3J0IHsgV2ViUnRjUHJvdmlkZXIgfSBmcm9tIFwiLi93ZWJSdGMucHJvdmlkZXJcIjtcbmV4cG9ydCB7IFByb29mbWVVdGlsc1Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvb2ZtZS11dGlscy5wcm92aWRlclwiO1xuZXhwb3J0IHsgUHJvb2ZtZVV0aWxzIH0gZnJvbSBcIi4vcHJvb2ZtZS11dGlsc1wiO1xuZXhwb3J0IHsgU2lnbmFsU2VydmVyVjIgfSBmcm9tIFwiLi9zaWduYWxTZXJ2ZXIvc2lnbmFsU2VydmVyVjJcIjtcbmV4cG9ydCB7IGdldFN1YkRvbWFpbiB9IGZyb20gXCIuL3V0aWxzL2dsb2JhbC92MVV0aWxzXCI7XG5leHBvcnQgeyBJUlRDQ29ubmVjdGlvbkNvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcnRjQ29ubmVjdGlvbkNvbmZpZy5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvY29ubmVjdGlvbkRldGFpbHNcIjtcbmV4cG9ydCB7IElXZWJSVENDb25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3dlYlJ0Y0NvbmZpZy5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IEVNaW1lVHlwZSB9IGZyb20gXCIuL2VudW1zL21pbWVUeXBlcy5lbnVtXCI7XG5leHBvcnQgeyBFU2lnbmF0dXJlVHlwZXMgfSBmcm9tIFwiLi9lbnVtcy9zaWduYXR1cmVUeXBlcy5lbnVtXCI7XG5leHBvcnQgeyBFQ2xhaW1UeXBlIH0gZnJvbSBcIi4vZW51bXMvY2xhaW1UeXBlcy5lbnVtXCI7XG5leHBvcnQgeyBJU2lnbmVkQ29udGVudCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2xhaW1zL3NpZ25lZENvbnRlbnQuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUHJvb2YgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3Byb29mLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNoZWNrZWREaWQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoZWNrZWREaWQuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbEtleSB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbEtleS5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElWYWxpZGF0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvdmFsaWRhdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ3JlZGVudGlhbE9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ3JlZGVudGlhbEtleU9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbEtleU9iamVjdC5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuZXhwb3J0IHsgRVByb29mbWVEYXRhUHVycG9zZSB9IGZyb20gXCIuL2VudW1zL3Byb29mbWVEYXRhUHVycG9zZVwiO1xuZXhwb3J0IHsgRVByb29mbWVEYXRhU3RvcmFnZSB9IGZyb20gXCIuL2VudW1zL3Byb29mbWVEYXRhU3RvcmFnZVwiO1xuZXhwb3J0IHsgRVByb29mVHlwZSB9IGZyb20gXCIuL2VudW1zL3Byb29mVHlwZS5lbnVtXCI7XG5leHBvcnQgeyBFV2Vic29ja2V0UmVhZHlTdGF0ZSB9IGZyb20gXCIuL2VudW1zL3dlYnNvY2tldFJlYWR5U3RhdGUuZW51bVwiO1xuZXhwb3J0IHsgY2hlY2tLZXlGb3JEaWQgfSBmcm9tIFwiLi91dGlscy9zbWFydENvbnRyYWN0cy9zbWFydENvbnRyYWN0VXRpbHNcIlxuZXhwb3J0IHsgSUFkZGl0aW9uYWxJbmZvIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9hZGRpdGlvbmFsLWluZm8uaW50ZXJmYWNlXCI7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIkVDbGFpbVR5cGUiLCJFRElEQWNjZXNzTGV2ZWwiLCJFTWltZVR5cGUiLCJFUHJvb2ZtZURhdGFQdXJwb3NlIiwiRVByb29mbWVEYXRhU3RvcmFnZSIsIkVTaWduYXR1cmVUeXBlcyIsImNoYW5uZWxJZCIsImNvbm5lY3Rpb25zIiwiZmlsdGVyIiwiY2xpZW50IiwidXVpZCIsImNoYW5uZWwiLCJob3N0IiwibGVuZ3RoIiwidHlwZSIsInR1cm5FeHBpcmF0aW9uIiwidHVyblNlY3JldCIsInR1cm5VcmwiLCJ1c2VybmFtZSIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJpY2VDYW5kaWRhdGVQb29sU2l6ZSIsImljZVNlcnZlcnMiLCJ1cmxzIiwiY3JlZGVudGlhbCIsImNyeXB0b18xIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsInRvU3RyaW5nIiwiZGlnZXN0IiwiUHJvb2ZtZVV0aWxzUHJvdmlkZXIiLCJwcm9vZm1lVXRpbHMiLCJwcm9vZm1lX3V0aWxzXzEiLCJjcmVkZW50aWFsT2JqZWN0Iiwid2ViM1VybCIsInJlcXVlc3RlZENyZWRlbnRpYWxzIiwidHJ1c3RlZERpZHMiLCJjaGVja1VzZXJOb25jZSIsImxpdmVuZXNzQ2hlY2tSZXF1aXJlZCIsInRoaXMiLCJpc1ZhbGlkQ3JlZGVudGlhbHMiLCJnZXRTaWduYXR1cmUiLCJtZXNzYWdlIiwicHJpdmF0ZUtleSIsInNpZ25DcmVkZW50aWFsT2JqZWN0Iiwic2lnblJlcXVlc3RlZENyZWRlbnRpYWxzIiwiZGlkIiwiY2xhaW1ob2xkZXJBYmkiLCJpc1ZhbGlkUmVxdWVzdGVkQ3JlZGVudGlhbHMiLCJjbGFpbUhvbGRlckFiaSIsImlzVmFsaWRMaWNlbnNlIiwiZ2VuZXJhdGVDaGFsbGVuZ2UiLCJwdWJsaWNLZXkiLCJjbGFpbVR5cGUiLCJjb250cmFjdEFkZHJlc3MiLCJnZXRDbGFpbSIsImdldENvbnRyYWN0QWRkcmVzc0Zyb21EaWQiLCJleGNsdWRlZENyZWRlbnRpYWxQcm92aWRlcnMiLCJ3ZWIzIiwid2ViM18xIiwicmVxdWVzdGVkQ2hlY2tSZXN1bHQiLCJyZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcnJlY3QiLCJzdWNjZXNzIiwiY3JlZGVudGlhbHMiLCJyZXN1bHQiLCJjaGVja0NyZWRlbnRpYWxzIiwidmFsaWQiLCJ1dGlscyIsImlzQWRkcmVzcyIsImNvbnNvbGUiLCJlcnJvciIsIngiLCJjaGVja2VkRGlkIiwidmFsaWRDcmVkZW50aWFsc0Ftb3VudCIsImNyZWRlbnRpYWxzQW1vdW50IiwiaW52YWxpZENyZWRlbnRpYWxzIiwicHJvdmlkZXIiLCJPYmplY3QiLCJlbnRyaWVzIiwiaW5jbHVkZXMiLCJjdXJyZW50Q3JlZGVudGlhbEtleSIsImlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyIsImlzc3VlciIsImlkIiwic3BsaXQiLCJmb3VuZFZhbGlkIiwiaW52YWxpZEtleVByb3ZpZGVyIiwiaW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMiLCJub1RydXN0ZWRDbGFpbUZvdW5kIiwiZm91bmRFbnRyeSIsImZpbmQiLCJjbGFpbSIsImdldENsYWltcyIsInB1c2giLCJleHBpcmF0aW9uRGF0ZSIsImNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzIiwia2V5cyIsInByb3ZpZGVyQ3JlZGVudGlhbEtleSIsImNvZGUiLCJqb2luIiwiSlNPTiIsInBhcnNlIiwicmVPcmRlckNyZWRlbnRpYWxPYmplY3QiLCJ3ZWIzTm9kZSIsImNyZWRlbnRpYWxPYmplY3RXaXRob3V0UHJvb2ZTaWduYXR1cmUiLCJzdHJpbmdpZnkiLCJwcm9vZiIsInNpZ25hdHVyZSIsInVzZXJSZWNvdmVyZWRBZGRyZXNzIiwiZXRoIiwiYWNjb3VudHMiLCJyZWNvdmVyIiwidXNlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyIsImhvbGRlciIsInZlcnNpb24iLCJjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGUiLCJ0aGVuIiwibm9uY2UiLCJjYWxjdWxhdGVNaW51dGVzRGlmZmVyZW5jZSIsImlzc3VlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyIsImlzc3VlckhvbGRlcktleSIsImNvcnJlY3REaWRDb250cmFjdEtleSIsImNsYWltSG9sZGVyQWJpXzEiLCJ1c2VySG9sZGVyS2V5IiwidXNlckRpZENvbnRyYWN0QWRkcmVzcyIsInVuZGVmaW5lZCIsInZlcmlmaWVkIiwiaG9sZGVyS2V5IiwicmVjb3ZlcmVkQWRkcmVzcyIsImlzc3VlclNpZ25hdHVyZSIsImNyZWRlbnRpYWxJc3N1ZXJLZXkiLCJjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mIiwiZGlkQWRkcmVzcyIsImtub3duQWRkcmVzc2VzIiwic2hhM0tleSIsImdldFNoYTNLZXkiLCJrZXlNYW5hZ2VyQ29udHJhY3QiLCJDb250cmFjdCIsImtub3duQWRkcmVzc2VzQ29udGFpbnMiLCJrZXlQdXJwb3NlIiwicGFyc2VJbnQiLCJnZXRLZXlQdXJwb3NlIiwibGlzdCIsImRpZENvbnRyYWN0QWRkcmVzcyIsImxpc3RJdGVtIiwia2V5Iiwia2VjY2FrMjU2Iiwib3B0aW9ucyIsImFkZHJlc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1ldGhvZHMiLCJjYWxsIiwiZHQyIiwiZHQxIiwiZGlmZiIsImdldFRpbWUiLCJhYnMiLCJyb3VuZCIsImNyZWRlbnRpYWxLZXlzIiwiY3JlZGVudGlhbEtleSIsInNvcnQiLCJyZU9yZGVyZWRDcmVkZW50aWFscyIsInJlT3JkZXJlZENyZWRlbnRpYWwiLCJyZU9yZGVyQ3JlZGVudGlhbCIsInJlT3JkZXJDcmVkZW50aWFsUHJvb2YiLCJzb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkiLCJvYmplY3QiLCJzb3J0ZWRPYmoiLCJrZXkxIiwia2V5MiIsInRvTG93ZXJDYXNlIiwiaW5kZXgiLCJBcnJheSIsInJlT3JkZXJPYmplY3QiLCJzaWduIiwiY29udGVudFRvU2lnbiIsImNvbnRyYWN0IiwiY2xhaW1JZHMiLCJnZXRDbGFpbUlkc0J5VHlwZSIsInJhd0NsYWltcyIsInBhcnNlZENsYWltcyIsInRvQXNjaWkiLCJkYXRhIiwibG9nIiwiY2hlY2tSZXN1bHQiLCJtaXNzaW5nS2V5cyIsInJlcXVlc3RlZENyZWRlbnRpYWwiLCJyZXF1aXJlZCIsIm9iamVjdEtleXMiLCJhZGRpdGlvbmFsSW5mbyIsImFuc3dlciIsImlzQXJyYXkiLCJmb3VuZCIsInJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZSIsInNvcnRBbHBoYWJldGljYWxseSIsInNpZ25hdHVyZVR5cGVzX2VudW1fMSIsIkVDRFNBIiwicmVxdWVzdGVkQ3JlZGVudGlhbHNDb3B5IiwiY2xhaW1Ib2xkZXJDb250cmFjdCIsImtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSIsImRpZEFjY2Vzc0xldmVsX2VudW1fMSIsIk1BTkFHRU1FTlRfS0VZIiwiQUNUSU9OX0tFWSIsIm9yZ2FuaXNhdGlvbkRpZCIsInN0YXR1cyIsImNsYWltVHlwZXNfZW51bV8xIiwiQ09NUEFOWV9JTkZPIiwiY3JlZGVudGlhbFN1YmplY3QiLCJ2YWx1ZSIsInByaXZhdGVLZXlUb1B1YmxpY0tleSIsInByaXZhdGVLZXlUb0FjY291bnQiLCJ0aW1lc3RhbXAiLCJjaGFsbGVuZ2UiLCJlbmRwb2ludCIsInNwbGl0dGVkRGlkIiwid3NTZXJ2ZXIiLCJ3c1JlcXVlc3QkIiwicnhqc18xIiwic3RhcnRTaWduYWwiLCJodHRwU2VydmVyIiwid2Vic29ja2V0XzEiLCJhdXRvQWNjZXB0Q29ubmVjdGlvbnMiLCJvbiIsImFzeW5jIiwibmV4dCIsInJlcXVlc3QiLCJzZW5kVG8iLCJjb25uZWN0aW9uIiwic2VuZFVURiIsInJlamVjdENvbm5lY3Rpb24iLCJyZWFzb24iLCJyZWplY3QiLCJ0b0lTT1N0cmluZyIsInJlbW90ZUFkZHJlc3NlcyIsInZhbGlkU2lnbiIsIm9yaWdpbkFsbG93ZWQiLCJzaWduYWxTZXJ2ZXIiLCJhY3Rpb25UeXBlIiwib3JpZ2luIiwiYWNjZXB0IiwicmVzb3VyY2VVUkwiLCJxdWVyeSIsInB1YmxpY2tleSIsImF1dGhlbnRpY2F0ZWQiLCJzZXR1cFdlYnNvY2tldExpc3RlbmVycyIsIndlYlJ0Y0NvbmZpZyIsImdldFJUQ0Nvbm5lY3Rpb25Db25maWciLCJ3ZWJSdGNDb25uZWN0aW9uQ29uZmlnIiwid2ViUnRjQ2xpZW50Iiwid2ViUnRjQ2xpZW50VjJfMSIsInNldHVwUGVlcmNvbm5lY3Rpb24iLCJob3N0Q2hhbm5lbCIsImNvbm4iLCJjbGllbnRDaGFubmVsIiwiY2xpZW50RGF0YSIsImNsb3NlIiwidXRmOERhdGEiLCJlIiwib2ZmZXIiLCJjYW5kaWRhdGUiLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsInNlbmRBbnN3ZXIiLCJhZGRDYW5kaWRhdGUiLCJyZWFzb25Db2RlIiwiZGVzY3JpcHRpb24iLCJyZW1vdGVBZGRyZXNzIiwicnRjQ29ubmVjdGlvbkNvbmZpZyIsInNldFJUQ0Nvbm5lY3Rpb25Db25maWciLCJ0dXJuRW5hYmxlZCIsImNyeXB0byIsInN0dW5FbmFibGVkIiwic3R1blVybCIsInNlcnZlciIsIldlYlNvY2tldCIsIlNlcnZlciIsImRhdGFjaGFubmVsIiwic2VuZCIsIndzIiwiY29ubmVjdGVkIiwiZXJyIiwibXNnIiwidG9rZW4iLCJob3N0cyIsImNsaWVudHMiLCJzaXplIiwiaG9zdHNPZmZlciIsIndzQXJnIiwiY2xpZW50QXJnIiwiY29uc3RhbnQiLCJpbnB1dHMiLCJuYW1lIiwib3V0cHV0cyIsInBheWFibGUiLCJzdGF0ZU11dGFiaWxpdHkiLCJhbm9ueW1vdXMiLCJpbmRleGVkIiwiYWJpIiwidXJsIiwicmVwbGFjZSIsImtleVRvQ2hlY2siLCJpZGVudGl0eV8xIiwic2hhQWRkcmVzcyIsInNoYTMiLCJrZXlIYXNQdXJwb3NlIiwiV2ViUnRjUHJvdmlkZXIiLCJob3N0VXVpZCIsInBlZXJDb25uZWN0aW9uIiwiZGF0YUNoYW5uZWwiLCJ3c0NsaWVudCIsInJlY2VpdmVkQWN0aW9ucyQiLCJ1dWlkJCIsIndlYnNvY2tldE1lc3NhZ2UkIiwid2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQiLCJ3ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQiLCJ3ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkIiwiY29ubmVjdGlvblRpbWVvdXQiLCJwb25nQ2hlY2tJbnRlcnZhbCIsInBpbmdUaW1lb3V0IiwiV0VCU09DS0VUX1BJTkdfQU5TV0VSX0RFTEFZIiwiV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUUiLCJnZXRDb25maWciLCJzZXRIb3N0VXVpZCIsInNlbmRQMlBEYXRhIiwiYWN0aW9uIiwicmVhZHlTdGF0ZSIsInNlbmRXZWJzb2NrZXREYXRhIiwiT1BFTiIsImdldFdlYnNvY2tldCIsInNldFV1aWQiLCJkaXNjb25uZWN0IiwiY2xlYXJUaW1lb3V0Iiwib25jbG9zZSIsInJlbW90ZURpc2Nvbm5lY3QiLCJzZXRUaW1lb3V0IiwiY3JlYXRlT2ZmZXIiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwiaGVhZGVycyIsImNvbm5lY3Rpb25TdWNjZXNzIiwic2lnbmFsaW5nVXJsIiwia2VlcGFsaXZlIiwib25lcnJvciIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInNlbmRQaW5nIiwiaXNIb3N0IiwibWF4VHJpZXMiLCJ0cmllcyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2VuZE9mZmVyIiwid3J0Y18xIiwiaG9zdEFuc3dlciIsImNyZWF0ZUFuc3dlciIsImNsaWVudENhbmRpZGF0ZSIsImFkZEljZUNhbmRpZGF0ZSIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiY3JlYXRlRGF0YUNoYW5uZWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJldmVudE1lc3NhZ2UiLCJwMnBDb25uZWN0ZWQiLCJpY2VDb25uZWN0aW9uU3RhdGUiLCJob3N0V3NDb25uZWN0aW9uIiwiZGF0YUNoYW5uZWxPcGVuJCIsImRhdGFDaGFubmVsTWVzc2FnZSQiLCJjb25zdHJ1Y3RvciIsImNoYW5uZWxVdWlkIiwiZGF0YUNoYW5uZWxFdmVudCIsInBhcnNlZE1lc3NhZ2UiLCJtZXNzYWdlRXZlbnQiLCJyZW1vdGVEZXNjcmlwdGlvbiIsInJlcXVpcmUiLCJpc0FycmF5TGlrZSIsImlzRnVuY3Rpb24iLCJpc1Byb21pc2UiLCJjcmVhdGVFcnJvckNsYXNzIiwiY3JlYXRlSW1wbCIsImN0b3JGdW5jIiwiaW5zdGFuY2UiLCJFcnJvciIsInN0YWNrIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIl9zdXBlciIsImVycm9ycyIsIm1hcCIsImkiLCJhcnJSZW1vdmUiLCJhcnIiLCJpdGVtIiwiaW5kZXhPZiIsInNwbGljZSIsIlN1YnNjcmlwdGlvbiIsImluaXRpYWxUZWFyZG93biIsImNsb3NlZCIsIl9wYXJlbnRhZ2UiLCJfdGVhcmRvd25zIiwidW5zdWJzY3JpYmUiLCJlXzEiLCJfYSIsImVfMiIsIl9iIiwiX3BhcmVudGFnZV8xIiwiX192YWx1ZXMiLCJfcGFyZW50YWdlXzFfMSIsImRvbmUiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsIl90ZWFyZG93bnNfMSIsIl90ZWFyZG93bnNfMV8xIiwidGVhcmRvd25fMSIsImV4ZWNUZWFyZG93biIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJlXzJfMSIsImFkZCIsInRlYXJkb3duIiwiX2hhc1BhcmVudCIsIl9hZGRQYXJlbnQiLCJwYXJlbnQiLCJfcmVtb3ZlUGFyZW50IiwiRU1QVFkiLCJlbXB0eSIsIkVNUFRZX1NVQlNDUklQVElPTiIsImlzU3Vic2NyaXB0aW9uIiwiY29uZmlnIiwidGltZW91dFByb3ZpZGVyIiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwiZGVsZWdhdGUiLCJhcHBseSIsImhhbmRsZSIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwibm9vcCIsIkNPTVBMRVRFX05PVElGSUNBVElPTiIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImtpbmQiLCJjb250ZXh0IiwiZXJyb3JDb250ZXh0IiwiY2IiLCJpc1Jvb3QiLCJlcnJvclRocm93biIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaXNTdG9wcGVkIiwiRU1QVFlfT0JTRVJWRVIiLCJfX2V4dGVuZHMiLCJjb21wbGV0ZSIsIlNhZmVTdWJzY3JpYmVyIiwiaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbiIsIm5leHROb3RpZmljYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJiaW5kIiwiZm4iLCJ0aGlzQXJnIiwiQ29uc3VtZXJPYnNlcnZlciIsInBhcnRpYWxPYnNlcnZlciIsImhhbmRsZVVuaGFuZGxlZEVycm9yIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0XzEiLCJub3RpZmljYXRpb24iLCJzdWJzY3JpYmVyIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwib2JzZXJ2YWJsZSIsIlN5bWJvbCIsImlkZW50aXR5IiwicGlwZUZyb21BcnJheSIsImZucyIsImlucHV0IiwicmVkdWNlIiwicHJldiIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJwaXBlIiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0FzeW5jSXRlcmFibGUiLCJvYmoiLCJhc3luY0l0ZXJhdG9yIiwiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCJUeXBlRXJyb3IiLCJpdGVyYXRvciIsImlzSXRlcmFibGUiLCJyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIiwicmVhZGFibGVTdHJlYW0iLCJfX2FzeW5jR2VuZXJhdG9yIiwicmVhZGVyIiwiX19nZW5lcmF0b3IiLCJsYWJlbCIsImdldFJlYWRlciIsInRyeXMiLCJfX2F3YWl0IiwicmVhZCIsInNlbnQiLCJyZWxlYXNlTG9jayIsImlzUmVhZGFibGVTdHJlYW1MaWtlIiwiaW5uZXJGcm9tIiwib2JzIiwiYXJyYXkiLCJwcm9taXNlIiwiZnJvbVByb21pc2UiLCJmcm9tQXN5bmNJdGVyYWJsZSIsIml0ZXJhYmxlIiwiaXRlcmFibGVfMSIsIml0ZXJhYmxlXzFfMSIsImFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlXzEiLCJhc3luY0l0ZXJhYmxlXzFfMSIsIl9fYXdhaXRlciIsIl9fYXN5bmNWYWx1ZXMiLCJwcm9jZXNzIiwiY2F0Y2giLCJvcGVyYXRlIiwiaW5pdCIsImhhc0xpZnQiLCJsaWZ0ZWRTb3VyY2UiLCJjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIiLCJvbk5leHQiLCJvbkNvbXBsZXRlIiwib25FcnJvciIsIm9uRmluYWxpemUiLCJPcGVyYXRvclN1YnNjcmliZXIiLCJzaG91bGRVbnN1YnNjcmliZSIsImNsb3NlZF8xIiwidGFrZSIsImNvdW50Iiwic2VlbiIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwiU3ViamVjdCIsIm9ic2VydmVycyIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJzdWJqZWN0IiwiQW5vbnltb3VzU3ViamVjdCIsIl90aHJvd0lmQ2xvc2VkIiwiY29weSIsInNsaWNlIiwiY29weV8xIiwiY29weV8xXzEiLCJzaGlmdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzIiwiX2lubmVyU3Vic2NyaWJlIiwiYXNPYnNlcnZhYmxlIiwic2hhcmUiLCJjb25uZWN0b3IiLCJyZXNldE9uRXJyb3IiLCJfYyIsInJlc2V0T25Db21wbGV0ZSIsIl9kIiwicmVzZXRPblJlZkNvdW50WmVybyIsIndyYXBwZXJTb3VyY2UiLCJyZXNldENvbm5lY3Rpb24iLCJyZWZDb3VudCIsImhhc0NvbXBsZXRlZCIsImhhc0Vycm9yZWQiLCJjYW5jZWxSZXNldCIsInJlc2V0IiwicmVzZXRBbmRVbnN1YnNjcmliZSIsImRlc3QiLCJoYW5kbGVSZXNldCIsImdldENsb3N1cmVTYWZlUHJvcGVydHkiLCJvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QiLCJmaWxsUHJvcGVydGllcyIsInRhcmdldCIsImhhc093blByb3BlcnR5Iiwib3ZlcnJpZGRlbk5hbWUiLCJyZXMiLCJuZXdMaW5lSW5kZXgiLCJzdWJzdHJpbmciLCJjb25jYXRTdHJpbmdzV2l0aFNwYWNlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJfX2ZvcndhcmRfcmVmX18iLCJmb3J3YXJkUmVmIiwiZm9yd2FyZFJlZkZuIiwicmVzb2x2ZUZvcndhcmRSZWYiLCJpc0ZvcndhcmRSZWYiLCJSdW50aW1lRXJyb3IiLCJzdXBlciIsImZvcm1hdFJ1bnRpbWVFcnJvciIsImZ1bGxDb2RlIiwiZXJyb3JNZXNzYWdlIiwibmdEZXZNb2RlIiwicmVuZGVyU3RyaW5naWZ5IiwiU3RyaW5nIiwic3RyaW5naWZ5Rm9yRXJyb3IiLCJ0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvciIsInBhdGgiLCJkZXBQYXRoIiwidGhyb3dNaXhlZE11bHRpUHJvdmlkZXJFcnJvciIsInRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yIiwiaW5qZWN0b3JOYW1lIiwiaW5qZWN0b3JEZXRhaWxzIiwiYXNzZXJ0TnVtYmVyIiwiYWN0dWFsIiwidGhyb3dFcnJvciIsImFzc2VydE51bWJlckluUmFuZ2UiLCJtaW5JbmNsdXNpdmUiLCJtYXhJbmNsdXNpdmUiLCJhc3NlcnRMZXNzVGhhbk9yRXF1YWwiLCJhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwiLCJhc3NlcnRTdHJpbmciLCJhc3NlcnRFcXVhbCIsImV4cGVjdGVkIiwiYXNzZXJ0Tm90RXF1YWwiLCJhc3NlcnRTYW1lIiwiYXNzZXJ0Tm90U2FtZSIsImFzc2VydExlc3NUaGFuIiwiYXNzZXJ0R3JlYXRlclRoYW4iLCJhc3NlcnREZWZpbmVkIiwiY29tcGFyaXNvbiIsImFzc2VydERvbU5vZGUiLCJub2RlIiwiTm9kZSIsImFzc2VydEluZGV4SW5SYW5nZSIsIm1heExlbiIsImFzc2VydE9uZU9mIiwidmFsaWRWYWx1ZXMiLCJvcHRzIiwicHJvdmlkZWRJbiIsImRlZmluZUluamVjdGFibGUiLCJwcm92aWRlcnMiLCJpbXBvcnRzIiwiZ2V0SW5qZWN0YWJsZURlZiIsImdldE93bkRlZmluaXRpb24iLCJOR19QUk9WX0RFRiIsIk5HX0lOSkVDVEFCTEVfREVGIiwiZmllbGQiLCJnZXRJbmplY3RvckRlZiIsIk5HX0lOSl9ERUYiLCJOR19JTkpFQ1RPUl9ERUYiLCJuZ0luamVjdGFibGVEZWYiLCJuZ0luamVjdG9yRGVmIiwiSW5qZWN0RmxhZ3MiLCJfaW5qZWN0SW1wbGVtZW50YXRpb24iLCJzZXRJbmplY3RJbXBsZW1lbnRhdGlvbiIsImltcGwiLCJwcmV2aW91cyIsImluamVjdFJvb3RMaW1wTW9kZSIsIm5vdEZvdW5kVmFsdWUiLCJmbGFncyIsImluamVjdGFibGVEZWYiLCJPcHRpb25hbCIsIm5vU2lkZUVmZmVjdHMiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNoYW5nZURldGVjdG9yU3RhdHVzIiwiVmlld0VuY2Fwc3VsYXRpb24kMSIsImlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJEZWZhdWx0IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJfX2dsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwiX193aW5kb3ciLCJ3aW5kb3ciLCJfX3NlbGYiLCJXb3JrZXJHbG9iYWxTY29wZSIsIl9fZ2xvYmFsIiwiZ2xvYmFsIiwiX2dsb2JhbCIsImluaXROZ0Rldk1vZGUiLCJsb2NhdGlvblN0cmluZyIsImxvY2F0aW9uIiwibmV3Q291bnRlcnMiLCJuYW1lZENvbnN0cnVjdG9ycyIsImZpcnN0Q3JlYXRlUGFzcyIsInROb2RlIiwidFZpZXciLCJyZW5kZXJlckNyZWF0ZVRleHROb2RlIiwicmVuZGVyZXJTZXRUZXh0IiwicmVuZGVyZXJDcmVhdGVFbGVtZW50IiwicmVuZGVyZXJBZGRFdmVudExpc3RlbmVyIiwicmVuZGVyZXJTZXRBdHRyaWJ1dGUiLCJyZW5kZXJlclJlbW92ZUF0dHJpYnV0ZSIsInJlbmRlcmVyU2V0UHJvcGVydHkiLCJyZW5kZXJlclNldENsYXNzTmFtZSIsInJlbmRlcmVyQWRkQ2xhc3MiLCJyZW5kZXJlclJlbW92ZUNsYXNzIiwicmVuZGVyZXJTZXRTdHlsZSIsInJlbmRlcmVyUmVtb3ZlU3R5bGUiLCJyZW5kZXJlckRlc3Ryb3kiLCJyZW5kZXJlckRlc3Ryb3lOb2RlIiwicmVuZGVyZXJNb3ZlTm9kZSIsInJlbmRlcmVyUmVtb3ZlTm9kZSIsInJlbmRlcmVyQXBwZW5kQ2hpbGQiLCJyZW5kZXJlckluc2VydEJlZm9yZSIsInJlbmRlcmVyQ3JlYXRlQ29tbWVudCIsImFsbG93TmdEZXZNb2RlVHJ1ZSIsIm5nRGV2TW9kZVJlc2V0UGVyZkNvdW50ZXJzIiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSQVkiLCJmcmVlemUiLCJOR19DT01QX0RFRiIsIk5HX0RJUl9ERUYiLCJOR19QSVBFX0RFRiIsIk5HX01PRF9ERUYiLCJOR19GQUNUT1JZX0RFRiIsIk5HX0VMRU1FTlRfSUQiLCJfX05HX0VMRU1FTlRfSURfXyIsIl9yZW5kZXJDb21wQ291bnQiLCJjb21wb25lbnREZWZpbml0aW9uIiwiZGVjbGFyZWRJbnB1dHMiLCJkZWYiLCJwcm92aWRlcnNSZXNvbHZlciIsImRlY2xzIiwidmFycyIsInRlbXBsYXRlIiwiY29uc3RzIiwibmdDb250ZW50U2VsZWN0b3JzIiwiaG9zdEJpbmRpbmdzIiwiaG9zdFZhcnMiLCJob3N0QXR0cnMiLCJjb250ZW50UXVlcmllcyIsImV4cG9ydEFzIiwib25QdXNoIiwiY2hhbmdlRGV0ZWN0aW9uIiwiT25QdXNoIiwiZGlyZWN0aXZlRGVmcyIsInBpcGVEZWZzIiwic2VsZWN0b3JzIiwidmlld1F1ZXJ5IiwiZmVhdHVyZXMiLCJlbmNhcHN1bGF0aW9uIiwiRW11bGF0ZWQiLCJzdHlsZXMiLCJfIiwic2V0SW5wdXQiLCJzY2hlbWFzIiwiZGlyZWN0aXZlVHlwZXMiLCJkaXJlY3RpdmVzIiwiZmVhdHVyZSIsInBpcGVUeXBlcyIsInBpcGVzIiwiaW52ZXJ0T2JqZWN0IiwiZXh0cmFjdERpcmVjdGl2ZURlZiIsImV4dHJhY3RQaXBlRGVmIiwiZ2V0Q29tcG9uZW50RGVmIiwiZ2V0RGlyZWN0aXZlRGVmIiwiZ2V0UGlwZURlZiQxIiwiYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZCIsImJvb3RzdHJhcCIsImRlY2xhcmF0aW9ucyIsInRyYW5zaXRpdmVDb21waWxlU2NvcGVzIiwic2NvcGUiLCJuZ01vZHVsZURlZiIsImdldE5nTW9kdWxlRGVmIiwic2Vjb25kYXJ5IiwibmV3TG9va3VwIiwibWluaWZpZWRLZXkiLCJwdWJsaWNOYW1lIiwiZGVjbGFyZWROYW1lIiwicGlwZURlZiIsInB1cmUiLCJvbkRlc3Ryb3kiLCJuZ09uRGVzdHJveSIsInRocm93Tm90Rm91bmQiLCJIRUFERVJfT0ZGU0VUIiwiVFZpZXdUeXBlQXNTdHJpbmciLCJDT05UQUlORVJfSEVBREVSX09GRlNFVCIsImlzTFZpZXciLCJpc0xDb250YWluZXIiLCJpc0NvbnRlbnRRdWVyeUhvc3QiLCJpc0NvbXBvbmVudEhvc3QiLCJpc0RpcmVjdGl2ZUhvc3QiLCJpc0NvbXBvbmVudERlZiIsImFzc2VydFROb2RlRm9yTFZpZXciLCJsVmlldyIsImFzc2VydFROb2RlRm9yVFZpZXciLCJhc3NlcnRUTm9kZSIsInRWaWV3XyIsImFzc2VydFRJY3UiLCJ0SWN1IiwiY3VycmVudENhc2VMVmlld0luZGV4IiwiYXNzZXJ0Q29tcG9uZW50VHlwZSIsImFzc2VydEhhc1BhcmVudCIsImFzc2VydExDb250YWluZXIiLCJhc3NlcnRMVmlld09yVW5kZWZpbmVkIiwiYXNzZXJ0TFZpZXciLCJhc3NlcnRGaXJzdENyZWF0ZVBhc3MiLCJlcnJNZXNzYWdlIiwiYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzIiwiZmlyc3RVcGRhdGVQYXNzIiwiYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZSIsImFzc2VydEJldHdlZW4iLCJleHBhbmRvU3RhcnRJbmRleCIsImxvd2VyIiwidXBwZXIiLCJhc3NlcnRQYXJlbnRWaWV3IiwiYXNzZXJ0Tm9kZUluamVjdG9yIiwiaW5qZWN0b3JJbmRleCIsImdldEZhY3RvcnlEZWYiLCJoYXNGYWN0b3J5RGVmIiwiU2ltcGxlQ2hhbmdlIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImZpcnN0Q2hhbmdlIiwiaXNGaXJzdENoYW5nZSIsIk5nT25DaGFuZ2VzRmVhdHVyZUltcGwiLCJkZWZpbml0aW9uIiwibmdPbkNoYW5nZXMiLCJuZ09uQ2hhbmdlc1NldElucHV0IiwicmVtZW1iZXJDaGFuZ2VIaXN0b3J5QW5kSW52b2tlT25DaGFuZ2VzSG9vayIsInNpbXBsZUNoYW5nZXNTdG9yZSIsImdldFNpbXBsZUNoYW5nZXNTdG9yZSIsImN1cnJlbnQiLCJwcml2YXRlTmFtZSIsInN0b3JlIiwic2V0U2ltcGxlQ2hhbmdlc1N0b3JlIiwicHJldmlvdXNDaGFuZ2UiLCJuZ0luaGVyaXQiLCJwcm9maWxlckNhbGxiYWNrIiwic2V0UHJvZmlsZXIiLCJwcm9maWxlciIsImhvb2tPckxpc3RlbmVyIiwiU1ZHX05BTUVTUEFDRSIsIk1BVEhfTUxfTkFNRVNQQUNFIiwiRE9DVU1FTlQiLCJzZXREb2N1bWVudCIsImRvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJSZW5kZXJlclN0eWxlRmxhZ3MzIiwiaXNQcm9jZWR1cmFsUmVuZGVyZXIiLCJyZW5kZXJlciIsImRvbVJlbmRlcmVyRmFjdG9yeTMiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwicmVuZGVyZXJUeXBlIiwidW53cmFwUk5vZGUiLCJnZXROYXRpdmVCeUluZGV4IiwiZ2V0TmF0aXZlQnlUTm9kZSIsIlJFTkRFUkVSIiwiZ2V0VE5vZGUiLCJsb2FkIiwidmlldyIsImdldENvbXBvbmVudExWaWV3QnlJbmRleCIsIm5vZGVJbmRleCIsImhvc3RWaWV3Iiwic2xvdFZhbHVlIiwiaXNDcmVhdGlvbk1vZGUiLCJ2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yIiwiZ2V0Q29uc3RhbnQiLCJyZXNldFByZU9yZGVySG9va0ZsYWdzIiwiUFJFT1JERVJfSE9PS19GTEFHUyIsInVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudCIsImxDb250YWluZXIiLCJhbW91bnQiLCJ2aWV3T3JDb250YWluZXIiLCJpbnN0cnVjdGlvblN0YXRlIiwibEZyYW1lIiwiY3JlYXRlTEZyYW1lIiwiYmluZGluZ3NFbmFibGVkIiwiaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSIsImdldEJpbmRpbmdzRW5hYmxlZCIsImdldExWaWV3IiwiZ2V0VFZpZXciLCJ2aWV3VG9SZXN0b3JlIiwiY29udGV4dExWaWV3IiwiZ2V0Q3VycmVudFROb2RlIiwiY3VycmVudFROb2RlIiwiZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPayIsImdldEN1cnJlbnRQYXJlbnRUTm9kZSIsImlzUGFyZW50Iiwic2V0Q3VycmVudFROb2RlIiwiaXNDdXJyZW50VE5vZGVQYXJlbnQiLCJzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCIsInNldElzSW5DaGVja05vQ2hhbmdlc01vZGUiLCJtb2RlIiwiZ2V0QmluZGluZ1Jvb3QiLCJiaW5kaW5nUm9vdEluZGV4IiwiYmluZGluZ1N0YXJ0SW5kZXgiLCJnZXRCaW5kaW5nSW5kZXgiLCJiaW5kaW5nSW5kZXgiLCJzZXRCaW5kaW5nSW5kZXgiLCJuZXh0QmluZGluZ0luZGV4IiwiaW5jcmVtZW50QmluZGluZ0luZGV4Iiwic2V0SW5JMThuQmxvY2siLCJpc0luSTE4bkJsb2NrIiwiaW5JMThuIiwic2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MiLCJjdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJnZXRDdXJyZW50RGlyZWN0aXZlRGVmIiwidERhdGEiLCJnZXRDdXJyZW50UXVlcnlJbmRleCIsImN1cnJlbnRRdWVyeUluZGV4Iiwic2V0Q3VycmVudFF1ZXJ5SW5kZXgiLCJnZXREZWNsYXJhdGlvblROb2RlIiwiZGVjbFROb2RlIiwiZW50ZXJESSIsIlNraXBTZWxmIiwicGFyZW50VE5vZGUiLCJwYXJlbnRMVmlldyIsIkhvc3QiLCJERUNMQVJBVElPTl9WSUVXIiwiYWxsb2NMRnJhbWUiLCJlbnRlclZpZXciLCJuZXdWaWV3IiwibmV3TEZyYW1lIiwic2VsZWN0ZWRJbmRleCIsImVsZW1lbnREZXB0aENvdW50IiwiY3VycmVudE5hbWVzcGFjZSIsImZpcnN0Q2hpbGQiLCJjdXJyZW50TEZyYW1lIiwiY2hpbGRMRnJhbWUiLCJjaGlsZCIsImxlYXZlVmlld0xpZ2h0Iiwib2xkTEZyYW1lIiwibGVhdmVESSIsImxlYXZlVmlldyIsImdldFNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZEluZGV4IiwiZ2V0U2VsZWN0ZWRUTm9kZSIsInJlZ2lzdGVyUG9zdE9yZGVySG9va3MiLCJkaXJlY3RpdmVTdGFydCIsImVuZCIsImRpcmVjdGl2ZUVuZCIsImRpcmVjdGl2ZURlZiIsImxpZmVjeWNsZUhvb2tzIiwibmdBZnRlckNvbnRlbnRJbml0IiwibmdBZnRlckNvbnRlbnRDaGVja2VkIiwibmdBZnRlclZpZXdJbml0IiwibmdBZnRlclZpZXdDaGVja2VkIiwiY29udGVudEhvb2tzIiwiY29udGVudENoZWNrSG9va3MiLCJ2aWV3SG9va3MiLCJ2aWV3Q2hlY2tIb29rcyIsImRlc3Ryb3lIb29rcyIsImV4ZWN1dGVDaGVja0hvb2tzIiwiaG9va3MiLCJjYWxsSG9va3MiLCJleGVjdXRlSW5pdEFuZENoZWNrSG9va3MiLCJpbml0UGhhc2UiLCJpbmNyZW1lbnRJbml0UGhhc2VGbGFncyIsImN1cnJlbnRWaWV3IiwiY3VycmVudE5vZGVJbmRleCIsInN0YXJ0SW5kZXgiLCJub2RlSW5kZXhMaW1pdCIsIm1heCIsImxhc3ROb2RlSW5kZXhGb3VuZCIsImNhbGxIb29rIiwiaXNJbml0SG9vayIsImhvb2siLCJkaXJlY3RpdmUiLCJOT19QQVJFTlRfSU5KRUNUT1IiLCJOb2RlSW5qZWN0b3JGYWN0b3J5IiwiaXNWaWV3UHJvdmlkZXIiLCJpbmplY3RJbXBsZW1lbnRhdGlvbiIsInJlc29sdmluZyIsImNhblNlZVZpZXdQcm92aWRlcnMiLCJpbmplY3RJbXBsIiwidG9UTm9kZVR5cGVBc1N0cmluZyIsInROb2RlVHlwZSIsInRleHQiLCJhc3NlcnRUTm9kZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwic2V0VXBBdHRyaWJ1dGVzIiwibmF0aXZlIiwiYXR0cnMiLCJpc1Byb2MiLCJuYW1lc3BhY2VVUkkiLCJhdHRyTmFtZSIsImF0dHJWYWwiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsImlzQW5pbWF0aW9uUHJvcCIsInNldFByb3BlcnR5IiwiaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlciIsIm1hcmtlciIsImNoYXJDb2RlQXQiLCJtZXJnZUhvc3RBdHRycyIsImRzdCIsInNyYyIsInNyY01hcmtlciIsIm1lcmdlSG9zdEF0dHJpYnV0ZSIsIm1hcmtlckluc2VydFBvc2l0aW9uIiwiZHN0VmFsdWUiLCJoYXNQYXJlbnRJbmplY3RvciIsInBhcmVudExvY2F0aW9uIiwiZ2V0UGFyZW50SW5qZWN0b3JJbmRleCIsImdldFBhcmVudEluamVjdG9yVmlldyIsInN0YXJ0VmlldyIsInZpZXdPZmZzZXQiLCJwYXJlbnRWaWV3IiwiaW5jbHVkZVZpZXdQcm92aWRlcnMiLCJzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyIsInYiLCJvbGRWYWx1ZSIsIm5leHROZ0VsZW1lbnRJZCIsImdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSIsImV4aXN0aW5nSW5qZWN0b3JJbmRleCIsImdldEluamVjdG9ySW5kZXgiLCJpbnNlcnRCbG9vbSIsImJsdWVwcmludCIsInBhcmVudExvYyIsImdldFBhcmVudEluamVjdG9yTG9jYXRpb24iLCJwYXJlbnRJbmRleCIsInBhcmVudERhdGEiLCJmb290ZXIiLCJkZWNsYXJhdGlvblZpZXdPZmZzZXQiLCJsVmlld0N1cnNvciIsInRWaWV3VHlwZSIsImRpUHVibGljSW5JbmplY3RvciIsImJsb29tSGFzaCIsIkJMT09NX1NJWkUiLCJtYXNrIiwiYmxvb21BZGQiLCJub3RGb3VuZFZhbHVlT3JUaHJvdyIsImxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvciIsIlNlbGYiLCJtb2R1bGVJbmplY3RvciIsInByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24iLCJnZXRPckNyZWF0ZUluamVjdGFibGUiLCJ0b2tlbklkIiwiY3JlYXRlTm9kZUluamVjdG9yIiwiYmxvb21IYXNoQml0T3JGYWN0b3J5IiwicHJldmlvdXNUVmlldyIsImhvc3RURWxlbWVudE5vZGUiLCJERUNMQVJBVElPTl9DT01QT05FTlRfVklFVyIsInNob3VsZFNlYXJjaFBhcmVudCIsImJsb29tSGFzVG9rZW4iLCJzZWFyY2hUb2tlbnNPbkluamVjdG9yIiwiTk9UX0ZPVU5EIiwiTm9kZUluamVjdG9yIiwiY3VycmVudFRWaWV3IiwiaW5qZWN0YWJsZUlkeCIsImxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIiLCJnZXROb2RlSW5qZWN0YWJsZSIsImNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMiLCJpc0hvc3RTcGVjaWFsQ2FzZSIsIm5vZGVQcm92aWRlckluZGV4ZXMiLCJwcm92aWRlckluZGV4ZXMiLCJ0SW5qZWN0YWJsZXMiLCJpbmplY3RhYmxlc1N0YXJ0IiwiZGlyZWN0aXZlc1N0YXJ0IiwiY3B0Vmlld1Byb3ZpZGVyc0NvdW50IiwiZW5kSW5kZXgiLCJwcm92aWRlclRva2VuT3JEZWYiLCJkaXJEZWYiLCJwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzIiwiZGlyZWN0aXZlSW5kZXgiLCJuZ09uSW5pdCIsIm5nRG9DaGVjayIsIndyYXBwZWRPbkNoYW5nZXMiLCJwcmVPcmRlckhvb2tzIiwicHJlT3JkZXJDaGVja0hvb2tzIiwicmVnaXN0ZXJQcmVPcmRlckhvb2tzIiwiaW5qZWN0b3JWaWV3IiwiaXNGaXJzdEhvc3RUTm9kZSIsIl90Tm9kZSIsIl9sVmlldyIsIm93bkNvbnN0cnVjdG9yIiwib3duRmFjdG9yeSIsImdldEZhY3RvcnlPZiIsIm9iamVjdFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwidCIsImF0dHJOYW1lVG9JbmplY3QiLCJjbGFzc2VzIiwiYXR0cnNMZW5ndGgiLCJpbmplY3RBdHRyaWJ1dGVJbXBsIiwiQU5OT1RBVElPTlMiLCJQQVJBTUVURVJTIiwiUFJPUF9NRVRBREFUQSIsIm1ha2VEZWNvcmF0b3IiLCJwcm9wcyIsInBhcmVudENsYXNzIiwiYWRkaXRpb25hbFByb2Nlc3NpbmciLCJ0eXBlRm4iLCJtZXRhQ3RvciIsIm1ha2VNZXRhZGF0YUN0b3IiLCJEZWNvcmF0b3JGYWN0b3J5IiwiYW5ub3RhdGlvbkluc3RhbmNlIiwiY2xzIiwibmdNZXRhZGF0YU5hbWUiLCJhbm5vdGF0aW9uQ2xzIiwidmFsdWVzIiwicHJvcE5hbWUiLCJtYWtlUGFyYW1EZWNvcmF0b3IiLCJQYXJhbURlY29yYXRvckZhY3RvcnkiLCJQYXJhbURlY29yYXRvciIsImFubm90YXRpb24iLCJ1bnVzZWRLZXkiLCJwYXJhbWV0ZXJzIiwibWFrZVByb3BEZWNvcmF0b3IiLCJQcm9wRGVjb3JhdG9yRmFjdG9yeSIsImRlY29yYXRvckluc3RhbmNlIiwibWV0YSIsInVuc2hpZnQiLCJBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwiSW5qZWN0aW9uVG9rZW4iLCJfZGVzYyIsIkFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMiLCJRdWVyeSIsIkNvbnRlbnRDaGlsZHJlbiIsInNlbGVjdG9yIiwiZmlyc3QiLCJpc1ZpZXdRdWVyeSIsImRlc2NlbmRhbnRzIiwiZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkiLCJDb250ZW50Q2hpbGQiLCJWaWV3Q2hpbGRyZW4iLCJWaWV3Q2hpbGQiLCJGYWN0b3J5VGFyZ2V0IiwiZ2V0Q29tcGlsZXJGYWNhZGUiLCJnbG9iYWxOZyIsInVzYWdlIiwiVHlwZSIsImlzVHlwZSIsImZsYXR0ZW4iLCJkZWVwRm9yRWFjaCIsImFkZFRvQXJyYXkiLCJyZW1vdmVGcm9tQXJyYXkiLCJwb3AiLCJuZXdBcnJheSIsImtleVZhbHVlQXJyYXlTZXQiLCJrZXlWYWx1ZUFycmF5Iiwia2V5VmFsdWVBcnJheUluZGV4T2YiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJwcmV2aW91c0VuZCIsImFycmF5SW5zZXJ0MiIsImtleVZhbHVlQXJyYXlHZXQiLCJzdGFydCIsIm1pZGRsZSIsIl9hcnJheUluZGV4T2ZTb3J0ZWQiLCJFUzVfREVMRUdBVEVfQ1RPUiIsIkVTMjAxNV9JTkhFUklURURfQ0xBU1MiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfQ1RPUiIsIkVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9ERUxFR0FURV9DVE9SIiwiUmVmbGVjdGlvbkNhcGFiaWxpdGllcyIsInJlZmxlY3QiLCJfcmVmbGVjdCIsImlzUmVmbGVjdGlvbkVuYWJsZWQiLCJfemlwVHlwZXNBbmRBbm5vdGF0aW9ucyIsInBhcmFtVHlwZXMiLCJwYXJhbUFubm90YXRpb25zIiwiY29uY2F0IiwiX293blBhcmFtZXRlcnMiLCJwYXJlbnRDdG9yIiwidHlwZVN0ciIsInRlc3QiLCJ0c2lja2xlQ3RvclBhcmFtcyIsImN0b3JQYXJhbWV0ZXJzIiwiY3RvclBhcmFtIiwiY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEiLCJkZWNvcmF0b3JzIiwiZ2V0T3duTWV0YWRhdGEiLCJnZXRQYXJlbnRDdG9yIiwiX293bkFubm90YXRpb25zIiwidHlwZU9yRnVuYyIsImFubm90YXRpb25zIiwib3duQW5ub3RhdGlvbnMiLCJfb3duUHJvcE1ldGFkYXRhIiwicHJvcE1ldGFkYXRhIiwicHJvcERlY29yYXRvcnMiLCJwcm9wIiwicGFyZW50UHJvcE1ldGFkYXRhIiwib3duUHJvcE1ldGFkYXRhIiwiaGFzTGlmZWN5Y2xlSG9vayIsImxjUHJvcGVydHkiLCJndWFyZHMiLCJnZXR0ZXIiLCJzZXR0ZXIiLCJtZXRob2QiLCJpbXBvcnRVcmkiLCJyZXNvdXJjZVVyaSIsInJlc29sdmVJZGVudGlmaWVyIiwibW9kdWxlVXJsIiwibWVtYmVycyIsInJ1bnRpbWUiLCJyZXNvbHZlRW51bSIsImVudW1JZGVudGlmaWVyIiwiZGVjb3JhdG9ySW52b2NhdGlvbnMiLCJkZWNvcmF0b3JJbnZvY2F0aW9uIiwiY3RvciIsInBhcmVudFByb3RvIiwiVEhST1dfSUZfTk9UX0ZPVU5EIiwiTkVXX0xJTkUiLCJTT1VSQ0UiLCJVU0VfVkFMVUUkMSIsInByb3ZpZGUiLCJ1c2VWYWx1ZSIsIl9jdXJyZW50SW5qZWN0b3IiLCJzZXRDdXJyZW50SW5qZWN0b3IiLCJpbmplY3RvciIsImZvcm1lciIsImluamVjdEluamVjdG9yT25seSIsImluamVjdCIsImluamVjdEFyZ3MiLCJ0eXBlcyIsImFyZyIsImoiLCJmbGFnIiwiYXR0YWNoSW5qZWN0RmxhZyIsImRlY29yYXRvciIsIkluamVjdCIsImdldFJlZmxlY3QiLCJyZWZsZWN0RGVwZW5kZW5jaWVzIiwiY29udmVydERlcGVuZGVuY2llcyIsImRlcHMiLCJkZXAiLCJhdHRyaWJ1dGUiLCJvcHRpb25hbCIsInNraXBTZWxmIiwicGFyYW0iLCJwcm90byIsInJlZmxlY3REZXBlbmRlbmN5IiwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyIsInJlc291cmNlUmVzb2x2ZXIiLCJjb21wb25lbnRSZXNvbHZlZCIsInVybE1hcCIsIk1hcCIsImNhY2hlZFJlc291cmNlUmVzb2x2ZSIsInJlc3AiLCJzZXQiLCJ1bndyYXBSZXNwb25zZSIsImNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlIiwiY29tcG9uZW50IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInN0eWxlT2Zmc2V0Iiwic3R5bGVVcmwiLCJzdHlsZSIsImZ1bGx5UmVzb2x2ZWQiLCJhbGwiLCJjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiIsImRlbGV0ZSIsImNvbXBvbmVudERlZlJlc29sdmVkIiwiY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSIsIlNldCIsImNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbiIsIm9sZCIsInJlc3BvbnNlIiwicG9saWN5JDEiLCJwb2xpY3kiLCJnZXRQb2xpY3kkMSIsInRydXN0ZWRUeXBlcyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJzIiwiY3JlYXRlU2NyaXB0IiwiY3JlYXRlU2NyaXB0VVJMIiwidHJ1c3RlZEhUTUxGcm9tU3RyaW5nIiwiaHRtbCIsImdldFBvbGljeSIsInRydXN0ZWRIVE1MRnJvbVN0cmluZ0J5cGFzcyIsInRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzIiwic2NyaXB0IiwidHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3MiLCJTYWZlVmFsdWVJbXBsIiwiY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eSIsIlNhZmVIdG1sSW1wbCIsImdldFR5cGVOYW1lIiwiU2FmZVN0eWxlSW1wbCIsIlNhZmVTY3JpcHRJbXBsIiwiU2FmZVVybEltcGwiLCJTYWZlUmVzb3VyY2VVcmxJbXBsIiwidW53cmFwU2FmZVZhbHVlIiwiYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyIsImFjdHVhbFR5cGUiLCJnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RIdG1sIiwidHJ1c3RlZEh0bWwiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlIiwidHJ1c3RlZFN0eWxlIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQiLCJ0cnVzdGVkU2NyaXB0IiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwiLCJ0cnVzdGVkVXJsIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybCIsInRydXN0ZWRSZXNvdXJjZVVybCIsImdldEluZXJ0Qm9keUhlbHBlciIsImRlZmF1bHREb2MiLCJpbmVydERvY3VtZW50SGVscGVyIiwiSW5lcnREb2N1bWVudEhlbHBlciIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImlzRE9NUGFyc2VyQXZhaWxhYmxlIiwiRE9NUGFyc2VySGVscGVyIiwiZ2V0SW5lcnRCb2R5RWxlbWVudCIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImluZXJ0RG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImluZXJ0SHRtbCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImluZXJ0Qm9keUVsZW1lbnQiLCJ0ZW1wbGF0ZUVsIiwiaW5uZXJIVE1MIiwiaW5lcnRCb2R5IiwiZG9jdW1lbnRNb2RlIiwic3RyaXBDdXN0b21Oc0F0dHJzIiwiZWwiLCJlbEF0dHJzIiwiYXR0cmlidXRlcyIsInJlbW92ZUF0dHJpYnV0ZSIsImNoaWxkTm9kZSIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwibmV4dFNpYmxpbmciLCJTQUZFX1VSTF9QQVRURVJOIiwiREFUQV9VUkxfUEFUVEVSTiIsIl9zYW5pdGl6ZVVybCIsIm1hdGNoIiwid2FybiIsInNhbml0aXplU3Jjc2V0Iiwic3Jjc2V0IiwidHJpbSIsInRhZ1NldCIsInRhZ3MiLCJtZXJnZSIsInNldHMiLCJWT0lEX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyIsIk9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyIsIkJMT0NLX0VMRU1FTlRTIiwiSU5MSU5FX0VMRU1FTlRTIiwiVkFMSURfRUxFTUVOVFMiLCJVUklfQVRUUlMiLCJTUkNTRVRfQVRUUlMiLCJIVE1MX0FUVFJTIiwiQVJJQV9BVFRSUyIsIlZBTElEX0FUVFJTIiwiU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UUyIsIlNhbml0aXppbmdIdG1sU2VyaWFsaXplciIsInNhbml0aXplZFNvbWV0aGluZyIsImJ1ZiIsInNhbml0aXplQ2hpbGRyZW4iLCJ0cmF2ZXJzZUNvbnRlbnQiLCJzdGFydEVsZW1lbnQiLCJURVhUX05PREUiLCJjaGFycyIsIm5vZGVWYWx1ZSIsImVuZEVsZW1lbnQiLCJjaGVja0Nsb2JiZXJlZEVsZW1lbnQiLCJwYXJlbnROb2RlIiwiZWxlbWVudCIsInRhZ05hbWUiLCJub2RlTmFtZSIsImVsQXR0ciIsImVuY29kZUVudGl0aWVzIiwibmV4dE5vZGUiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSIsIm91dGVySFRNTCIsIlNVUlJPR0FURV9QQUlSX1JFR0VYUCIsIk5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQIiwiaW5lcnRCb2R5SGVscGVyIiwiX3Nhbml0aXplSHRtbCIsInVuc2FmZUh0bWxJbnB1dCIsInVuc2FmZUh0bWwiLCJtWFNTQXR0ZW1wdHMiLCJwYXJzZWRIdG1sIiwic2FuaXRpemVyIiwic2FmZUh0bWwiLCJnZXRUZW1wbGF0ZUNvbnRlbnQiLCJpc1RlbXBsYXRlRWxlbWVudCIsImNvbnRlbnQiLCJTZWN1cml0eUNvbnRleHQiLCJnZXRTYW5pdGl6ZXIiLCJzYW5pdGl6ZSIsIkhUTUwiLCJ1bnNhZmVTdHlsZSIsIlNUWUxFIiwidW5zYWZlVXJsIiwiVVJMIiwidW5zYWZlUmVzb3VyY2VVcmwiLCJSRVNPVVJDRV9VUkwiLCJ1bnNhZmVTY3JpcHQiLCJTQ1JJUFQiLCJyYXciLCJ0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZyIsInRhZyIsImdldFVybFNhbml0aXplciIsImdldExDb250ZXh0IiwibXBWYWx1ZSIsInJlYWRQYXRjaGVkRGF0YSIsImZpbmRWaWFDb21wb25lbnQiLCJpc0RpcmVjdGl2ZUluc3RhbmNlIiwiZGlyZWN0aXZlSW5zdGFuY2UiLCJkaXJlY3RpdmVJbmRleFN0YXJ0IiwiZGlyZWN0aXZlSW5kZXhFbmQiLCJ0cmF2ZXJzZU5leHRFbGVtZW50IiwiZmluZFZpYURpcmVjdGl2ZSIsImdldERpcmVjdGl2ZXNBdE5vZGVJbmRleCIsImZpbmRWaWFOYXRpdmVFbGVtZW50IiwiZXhpc3RpbmdDdHgiLCJjcmVhdGVMQ29udGV4dCIsImF0dGFjaFBhdGNoRGF0YSIsInJFbGVtZW50IiwicGFyZW50Q29udGV4dCIsImxvY2FsUmVmcyIsImdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlIiwiY29tcG9uZW50SW5zdGFuY2UiLCJyZWFkUGF0Y2hlZExWaWV3IiwiY29tcG9uZW50SW5kaWNlcyIsImNvbXBvbmVudHMiLCJlbGVtZW50Q29tcG9uZW50SW5kZXgiLCJpbmNsdWRlQ29tcG9uZW50cyIsImRpcmVjdGl2ZVN0YXJ0SW5kZXgiLCJkaXJlY3RpdmVFbmRJbmRleCIsImdldE9yaWdpbmFsRXJyb3IiLCJkZWZhdWx0RXJyb3JMb2dnZXIiLCJFcnJvckhhbmRsZXIiLCJfY29uc29sZSIsImhhbmRsZUVycm9yIiwib3JpZ2luYWxFcnJvciIsIl9maW5kT3JpZ2luYWxFcnJvciIsImVycm9yTG9nZ2VyIiwiZ2V0RXJyb3JMb2dnZXIiLCJDVVNUT01fRUxFTUVOVFNfU0NIRU1BIiwiTk9fRVJST1JTX1NDSEVNQSIsIkNPTU1FTlRfRElTQUxMT1dFRCIsIkNPTU1FTlRfREVMSU1JVEVSIiwiZXNjYXBlQ29tbWVudFRleHQiLCJDQU1FTF9DQVNFX1JFR0VYUCIsImRlZmF1bHRTY2hlZHVsZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiIsIm1heWJlVW53cmFwRm4iLCJ0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IiLCJjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbiIsInJvb3RJbmRleCIsImV4cHJlc3Npb25JbmRleCIsImNoYW5nZWRWYWx1ZSIsInByZWZpeCIsImNodW5rcyIsIm5ld1ZhbHVlIiwic2xvdElkeCIsIlJlbmRlcmVyU3R5bGVGbGFnczIiLCJfaWN1Q29udGFpbmVySXRlcmF0ZSIsImljdUNvbnRhaW5lckl0ZXJhdGUiLCJ0SWN1Q29udGFpbmVyTm9kZSIsImdldExWaWV3UGFyZW50IiwiZ2V0Um9vdENvbnRleHQiLCJ2aWV3T3JDb21wb25lbnQiLCJyb290VmlldyIsImNvbXBvbmVudE9yTFZpZXciLCJnZXRSb290VmlldyIsImdldEZpcnN0TENvbnRhaW5lciIsImdldE5lYXJlc3RMQ29udGFpbmVyIiwiQ0hJTERfSEVBRCIsImdldE5leHRMQ29udGFpbmVyIiwiY29udGFpbmVyIiwiYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lciIsImxOb2RlVG9IYW5kbGUiLCJiZWZvcmVOb2RlIiwiaXNDb21wb25lbnQiLCJyTm9kZSIsIm5hdGl2ZUFwcGVuZENoaWxkIiwibmF0aXZlSW5zZXJ0QmVmb3JlIiwibmF0aXZlUmVtb3ZlTm9kZSIsImRlc3Ryb3lOb2RlIiwicGFyZW50UkVsZW1lbnQiLCJhbmNob3IiLCJhcHBseVZpZXciLCJhcHBseUNvbnRhaW5lciIsImNyZWF0ZVRleHROb2RlIiwiY3JlYXRlVGV4dCIsInVwZGF0ZVRleHROb2RlIiwic2V0VmFsdWUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZUNvbW1lbnROb2RlIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZUVsZW1lbnROb2RlIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlVXJpIiwiZ2V0TmFtZXNwYWNlVXJpIiwiY3JlYXRlRWxlbWVudE5TIiwiZGV0YWNoTW92ZWRWaWV3IiwiZGVjbGFyYXRpb25Db250YWluZXIiLCJtb3ZlZFZpZXdzIiwiZGVjbGFyYXRpb25WaWV3SW5kZXgiLCJpbnNlcnRpb25MQ29udGFpbmVyIiwiZGV0YWNoVmlldyIsInJlbW92ZUluZGV4IiwiaW5kZXhJbkNvbnRhaW5lciIsInZpZXdUb0RldGFjaCIsImRlY2xhcmF0aW9uTENvbnRhaW5lciIsInJlbW92ZWRMVmlldyIsImxRdWVyaWVzIiwiUVVFUklFUyIsImRlc3Ryb3lMVmlldyIsImxWaWV3T3JMQ29udGFpbmVyIiwiY2xlYW5VcFZpZXciLCJmaXJzdFZpZXciLCJkZXN0cm95Vmlld1RyZWUiLCJ0b0NhbGwiLCJjYWxsQ29udGV4dCIsImV4ZWN1dGVPbkRlc3Ryb3lzIiwidENsZWFudXAiLCJjbGVhbnVwIiwibENsZWFudXAiLCJsYXN0TENsZWFudXBJbmRleCIsImlkeE9yVGFyZ2V0R2V0dGVyIiwibGlzdGVuZXIiLCJ1c2VDYXB0dXJlT3JTdWJJZHgiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaW5zdGFuY2VDbGVhbnVwRm4iLCJwcm9jZXNzQ2xlYW51cHMiLCJkZXN0cm95IiwiZ2V0UGFyZW50UkVsZW1lbnQiLCJnZXRDbG9zZXN0UkVsZW1lbnQiLCJOb25lIiwiaXNNb3ZlIiwiaW5zZXJ0QmVmb3JlIiwibmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUiLCJuYXRpdmVQYXJlbnROb2RlIiwiZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUiLCJfZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biIsImdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aE5vSTE4biIsIl9wcm9jZXNzSTE4bkluc2VydEJlZm9yZSIsInNldEkxOG5IYW5kbGluZyIsImdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4iLCJwcm9jZXNzSTE4bkluc2VydEJlZm9yZSIsImNoaWxkUk5vZGUiLCJjaGlsZFROb2RlIiwicGFyZW50Uk5vZGUiLCJhbmNob3JOb2RlIiwiZ2V0Rmlyc3ROYXRpdmVOb2RlIiwiZ2V0QmVmb3JlTm9kZUZvclZpZXciLCJlbEljdUNvbnRhaW5lckNoaWxkIiwick5vZGVPckxDb250YWluZXIiLCJuZXh0Uk5vZGUiLCJwcm9qZWN0aW9uTm9kZXMiLCJnZXRQcm9qZWN0aW9uTm9kZXMiLCJjb21wb25lbnRIb3N0IiwicHJvamVjdGlvbiIsImFzc2VydFByb2plY3Rpb25TbG90cyIsInZpZXdJbmRleEluQ29udGFpbmVyIiwibmV4dFZpZXdJbmRleCIsImZpcnN0VE5vZGVPZlZpZXciLCJpc0hvc3RFbGVtZW50IiwibmF0aXZlUGFyZW50IiwibmF0aXZlUmVtb3ZlQ2hpbGQiLCJhcHBseU5vZGVzIiwiaXNQcm9qZWN0aW9uIiwicmF3U2xvdFZhbHVlIiwiYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlIiwicHJvamVjdGlvbk5leHQiLCJ0UHJvamVjdGlvbk5vZGUiLCJjb21wb25lbnRMVmlldyIsImNvbXBvbmVudE5vZGUiLCJub2RlVG9Qcm9qZWN0T3JSTm9kZXMiLCJ3cml0ZURpcmVjdFN0eWxlIiwiY3NzVGV4dCIsIndyaXRlRGlyZWN0Q2xhc3MiLCJjbGFzc05hbWUiLCJjbGFzc0luZGV4T2YiLCJjbGFzc1RvU2VhcmNoIiwic3RhcnRpbmdJbmRleCIsImZvdW5kSW5kZXgiLCJOR19URU1QTEFURV9TRUxFQ1RPUiIsImlzQ3NzQ2xhc3NNYXRjaGluZyIsImNzc0NsYXNzVG9NYXRjaCIsImlzUHJvamVjdGlvbk1vZGUiLCJpc0lubGluZVRlbXBsYXRlIiwiaGFzVGFnQW5kVHlwZU1hdGNoIiwiY3VycmVudFNlbGVjdG9yIiwiaXNOb2RlTWF0Y2hpbmdTZWxlY3RvciIsIm5vZGVBdHRycyIsIm5hbWVPbmx5TWFya2VySWR4IiwiZ2V0TmFtZU9ubHlNYXJrZXJJbmRleCIsInNraXBUb05leHRTZWxlY3RvciIsImlzUG9zaXRpdmUiLCJzZWxlY3RvckF0dHJWYWx1ZSIsImF0dHJJbmRleEluTm9kZSIsImZpbmRBdHRySW5kZXhJbk5vZGUiLCJub2RlQXR0clZhbHVlIiwiY29tcGFyZUFnYWluc3RDbGFzc05hbWUiLCJiaW5kaW5nc01vZGUiLCJtYXliZUF0dHJOYW1lIiwiYXR0ciIsIm1hdGNoVGVtcGxhdGVBdHRyaWJ1dGUiLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCIsImlzU2VsZWN0b3JJblNlbGVjdG9yTGlzdCIsInNlbGVjdG9yTGlzdExvb3AiLCJjdXJyZW50U2VsZWN0b3JJbkxpc3QiLCJtYXliZVdyYXBJbk5vdFNlbGVjdG9yIiwiaXNOZWdhdGl2ZU1vZGUiLCJjaHVuayIsInN0cmluZ2lmeUNTU1NlbGVjdG9yIiwiY3VycmVudENodW5rIiwidmFsdWVPck1hcmtlciIsImF0dHJWYWx1ZSIsIk5PX0NIQU5HRSIsIl9fYnJhbmRfXyIsImRlbHRhIiwic2VsZWN0SW5kZXhJbnRlcm5hbCIsImNoZWNrTm9DaGFuZ2VzTW9kZSIsImFzc2VydEluZGV4SW5EZWNsUmFuZ2UiLCJjcmVhdGVOYW1lZEFycmF5VHlwZSIsInRvVFN0eWxpbmdSYW5nZSIsImdldFRTdHlsaW5nUmFuZ2VQcmV2IiwidFN0eWxpbmdSYW5nZSIsImdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlIiwic2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUiLCJnZXRUU3R5bGluZ1JhbmdlTmV4dCIsInNldFRTdHlsaW5nUmFuZ2VOZXh0IiwiZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUiLCJzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSIsImF0dGFjaERlYnVnT2JqZWN0IiwiZGVidWciLCJhdHRhY2hEZWJ1Z0dldHRlciIsImRlYnVnR2V0dGVyIiwiTFZJRVdfQ09NUE9ORU5UX0NBQ0hFIiwiTFZJRVdfRU1CRURERURfQ0FDSEUiLCJMVklFV19ST09UIiwiTFZJRVdfQ09NUE9ORU5UIiwiTFZJRVdfRU1CRURERUQiLCJMUm9vdFZpZXciLCJMQ29tcG9uZW50VmlldyIsIkxFbWJlZGRlZFZpZXciLCJuYW1lU3VmZml4IiwibGFzdEluZGV4T2YiLCJzdWJzdHIiLCJ0b0RlYnVnU3R5bGVCaW5kaW5nIiwiaXNDbGFzc0Jhc2VkIiwiYmluZGluZ3MiLCJyYW5nZSIsImNsYXNzQmluZGluZ3MiLCJzdHlsZUJpbmRpbmdzIiwiaXNUZW1wbGF0ZSIsImN1cnNvciIsIml0ZW1LZXkiLCJpdGVtUmFuZ2UiLCJwcmV2RHVwbGljYXRlIiwibmV4dER1cGxpY2F0ZSIsIm5leHRJbmRleCIsInByZXZJbmRleCIsInJlc2lkdWFsQ2xhc3NlcyIsInJlc2lkdWFsU3R5bGVzIiwicHJvY2Vzc1ROb2RlQ2hpbGRyZW4iLCJ0ZW1wbGF0ZV8iLCJUVmlld0RhdGEiLCJUVklFV0RBVEFfRU1QVFkiLCJMVmlld0JsdWVwcmludCIsIk1hdGNoZXNBcnJheSIsIlRWaWV3Q29tcG9uZW50cyIsIlROb2RlTG9jYWxOYW1lcyIsIlROb2RlSW5pdGlhbElucHV0cyIsIkxDbGVhbnVwIiwiVENsZWFudXAiLCJ0b0RlYnVnIiwidG9IdG1sIiwiaW5jbHVkZUNoaWxkcmVuIiwiQ09NTUVOVF9OT0RFIiwiTFZpZXdEZWJ1ZyIsIl9yYXdfbFZpZXciLCJfX3Jhd19fZmxhZ3NfXyIsImluaXRQaGFzZVN0YXRlIiwiY3JlYXRpb25Nb2RlIiwiZmlyc3RWaWV3UGFzcyIsImNoZWNrQWx3YXlzIiwiZGlydHkiLCJhdHRhY2hlZCIsImRlc3Ryb3llZCIsImluZGV4V2l0aGluSW5pdFBoYXNlIiwiaG9zdEhUTUwiLCJub2RlcyIsIm1hcFRvSFRNTCIsInRvRGVidWdOb2RlcyIsInJlbmRlcmVyRmFjdG9yeSIsIlJFTkRFUkVSX0ZBQ1RPUlkiLCJjaGlsZEhlYWQiLCJjaGlsZFRhaWwiLCJkZWNsYXJhdGlvblZpZXciLCJxdWVyaWVzIiwidEhvc3QiLCJ0b0xWaWV3UmFuZ2UiLCJleHBhbmRvIiwiY2hpbGRWaWV3cyIsImNoaWxkcmVuIiwibCIsImRlYnVnTm9kZXMiLCJ0Tm9kZUN1cnNvciIsImJ1aWxkRGVidWdOb2RlIiwiZmFjdG9yaWVzIiwiaW5zdGFuY2VzIiwiYnVpbGROb2RlSW5qZWN0b3JEZWJ1ZyIsImluamVjdG9yUmVzb2x1dGlvblBhdGgiLCJkZWJ1Z05vZGVJbmplY3RvclBhdGgiLCJ2aWV3UHJvdmlkZXJzIiwicHJvdmlkZXJJbmRleFN0YXJ0XyIsInByb3ZpZGVySW5kZXhFbmRfIiwiYmxvb20iLCJ0b0Jsb29tIiwiY3VtdWxhdGl2ZUJsb29tIiwicGFyZW50SW5qZWN0b3JJbmRleCIsImJpbmFyeSIsImlkeCIsIkxDb250YWluZXJEZWJ1ZyIsIl9yYXdfbENvbnRhaW5lciIsImhhc1RyYW5zcGxhbnRlZFZpZXdzIiwidmlld3MiLCJfQ0xFQU5fUFJPTUlTRSIsInJlZnJlc2hDb250ZW50UXVlcmllcyIsInF1ZXJ5U3RhcnRJZHgiLCJkaXJlY3RpdmVEZWZJZHgiLCJjcmVhdGVMVmlldyIsInRIb3N0Tm9kZSIsImNvbXBvbmVudEFycmF5IiwiZW1iZWRkZWRBcnJheSIsImdldExWaWV3VG9DbG9uZSIsImNsb25lVG9MVmlld0Zyb21UVmlld0JsdWVwcmludCIsImF0dGFjaExWaWV3RGVidWciLCJnZXRPckNyZWF0ZVROb2RlIiwiYXNzZXJ0UHVyZVROb2RlVHlwZSIsImNyZWF0ZVROb2RlQXRJbmRleCIsInRQYXJlbnQiLCJpbnNlcnRCZWZvcmVJbmRleCIsImRpcmVjdGl2ZVN0eWxpbmdMYXN0IiwicHJvcGVydHlCaW5kaW5ncyIsIm1lcmdlZEF0dHJzIiwibG9jYWxOYW1lcyIsImluaXRpYWxJbnB1dHMiLCJ0Vmlld3MiLCJzdHlsZXNXaXRob3V0SG9zdCIsImNsYXNzZXNXaXRob3V0SG9zdCIsInR5cGVfIiwiZmxhZ3NfIiwic3R5bGVCaW5kaW5nc18iLCJjbGFzc0JpbmRpbmdzXyIsInNlYWwiLCJjcmVhdGVUTm9kZSIsImFsbG9jRXhwYW5kbyIsIm51bVNsb3RzVG9BbGxvYyIsImluaXRpYWxWYWx1ZSIsImFsbG9jSWR4IiwicmVuZGVyVmlldyIsImV4ZWN1dGVWaWV3UXVlcnlGbiIsInRlbXBsYXRlRm4iLCJleGVjdXRlVGVtcGxhdGUiLCJzdGF0aWNDb250ZW50UXVlcmllcyIsInN0YXRpY1ZpZXdRdWVyaWVzIiwiaG9zdExWaWV3IiwicmVuZGVyQ29tcG9uZW50JDEiLCJyZW5kZXJDaGlsZENvbXBvbmVudHMiLCJpbmNvbXBsZXRlRmlyc3RQYXNzIiwicmVmcmVzaFZpZXciLCJpc0luQ2hlY2tOb0NoYW5nZXNQYXNzIiwiaG9va3NJbml0UGhhc2VDb21wbGV0ZWQiLCJtb3ZlZExWaWV3IiwibWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaCIsImVtYmVkZGVkTFZpZXciLCJlbWJlZGRlZFRWaWV3IiwicmVmcmVzaEVtYmVkZGVkVmlld3MiLCJob3N0QmluZGluZ09wQ29kZXMiLCJvcENvZGUiLCJkaXJlY3RpdmVJZHgiLCJiaW5kaW5nUm9vdEluZHgiLCJob3N0QmluZGluZ0ZuIiwicHJvY2Vzc0hvc3RCaW5kaW5nT3BDb2RlcyIsInJlZnJlc2hDb21wb25lbnQiLCJyZWZyZXNoQ2hpbGRDb21wb25lbnRzIiwicmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSIsIm5vcm1hbEV4ZWN1dGlvblBhdGgiLCJjcmVhdGlvbk1vZGVJc0FjdGl2ZSIsImJlZ2luIiwicmYiLCJwcmV2U2VsZWN0ZWRJbmRleCIsImlzVXBkYXRlUGhhc2UiLCJleGVjdXRlQ29udGVudFF1ZXJpZXMiLCJjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzIiwiYWRkQ29tcG9uZW50TG9naWMiLCJzZXRJbnB1dHNGcm9tQXR0cnMiLCJpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXMiLCJlbGVtZW50SW5kZXgiLCJkaXJJbmRleCIsImludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlIiwiaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyIsInNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YSIsInZpZXdEYXRhIiwibG9jYWxSZWZFeHRyYWN0b3IiLCJsb2NhbEluZGV4IiwiZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyIsImNyZWF0ZVRWaWV3IiwiY29uc3RzT3JGYWN0b3J5IiwiaW5pdGlhbFZpZXdMZW5ndGgiLCJjcmVhdGVWaWV3Qmx1ZXByaW50IiwiZGlyZWN0aXZlUmVnaXN0cnkiLCJwaXBlUmVnaXN0cnkiLCJfZGVjbHMiLCJfdmFycyIsImZpbGwiLCJsb2NhdGVIb3N0RWxlbWVudCIsImVsZW1lbnRPclNlbGVjdG9yIiwicHJlc2VydmVDb250ZW50IiwiU2hhZG93RG9tIiwic2VsZWN0Um9vdEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXNzZXJ0SG9zdE5vZGVFeGlzdHMiLCJzdG9yZUNsZWFudXBXaXRoQ29udGV4dCIsImNsZWFudXBGbiIsImdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwIiwiZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAiLCJnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyIsImlucHV0QWxpYXNNYXAiLCJwcm9wU3RvcmUiLCJpbnRlcm5hbE5hbWUiLCJlbGVtZW50UHJvcGVydHlJbnRlcm5hbCIsIm5hdGl2ZU9ubHkiLCJkYXRhVmFsdWUiLCJpbnB1dERhdGEiLCJzZXRJbnB1dHNGb3JQcm9wZXJ0eSIsInZpZXdJbmRleCIsImNoaWxkQ29tcG9uZW50TFZpZXciLCJtYXJrRGlydHlJZk9uUHVzaCIsInNldE5nUmVmbGVjdFByb3BlcnR5Iiwic2V0TmdSZWZsZWN0UHJvcGVydGllcyIsInN0YXJ0c1dpdGgiLCJ2YWxpZGF0ZUFnYWluc3RFdmVudFByb3BlcnRpZXMiLCJtYXRjaGluZ1NjaGVtYXMiLCJ2YWxpZGF0ZVByb3BlcnR5IiwibG9nVW5rbm93blByb3BlcnR5RXJyb3IiLCJtIiwiZGVidWdWYWx1ZSIsIm5vcm1hbGl6ZURlYnVnQmluZGluZ1ZhbHVlIiwic2NoZW1hIiwicmVzb2x2ZURpcmVjdGl2ZXMiLCJoYXNEaXJlY3RpdmVzIiwicmVnaXN0cnkiLCJtYXRjaGVzIiwibWFya0FzQ29tcG9uZW50SG9zdCIsImZpbmREaXJlY3RpdmVEZWZNYXRjaGVzIiwiZXhwb3J0c01hcCIsImluaXRUTm9kZUZsYWdzIiwicHJlT3JkZXJIb29rc0ZvdW5kIiwicHJlT3JkZXJDaGVja0hvb2tzRm91bmQiLCJjb25maWd1cmVWaWV3V2l0aERpcmVjdGl2ZSIsInNhdmVOYW1lVG9FeHBvcnRNYXAiLCJsaWZlQ3ljbGVIb29rcyIsInRWaWV3RGF0YSIsInROb2RlQXR0cnMiLCJpbnB1dHNGcm9tQXR0cnMiLCJpbnB1dHNTdG9yZSIsIm91dHB1dHNTdG9yZSIsImRpcmVjdGl2ZUlucHV0cyIsImdlbmVyYXRlSW5pdGlhbElucHV0cyIsImluaXRpYWxpemVJbnB1dEFuZE91dHB1dEFsaWFzZXMiLCJjYWNoZU1hdGNoaW5nTG9jYWxOYW1lcyIsInJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzIiwiZGlyZWN0aXZlVmFyc0lkeCIsImVsZW1lbnRJbmR4IiwibGFzdFNlbGVjdGVkRWxlbWVudElkeCIsImhvc3RUTm9kZSIsIm51bWJlck9mRGlyZWN0aXZlcyIsImRpcmVjdGl2ZUZhY3RvcnkiLCJub2RlSW5qZWN0b3JGYWN0b3J5IiwiY29tcG9uZW50VmlldyIsImFkZFRvVmlld1RyZWUiLCJlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwiLCJ2YWxpZGF0ZUFnYWluc3RFdmVudEF0dHJpYnV0ZXMiLCJzZXRFbGVtZW50QXR0cmlidXRlIiwic3RyVmFsdWUiLCJpbml0aWFsSW5wdXREYXRhIiwiaW5wdXRzVG9TdG9yZSIsIkxDb250YWluZXJBcnJheSIsImNyZWF0ZUxDb250YWluZXIiLCJob3N0TmF0aXZlIiwiYXR0YWNoTENvbnRhaW5lckRlYnVnIiwiY29tcG9uZW50SG9zdElkeCIsInJlZnJlc2hDb250YWluc0RpcnR5VmlldyIsImNvbXBvbmVudFRWaWV3Iiwic3luY1ZpZXdXaXRoQmx1ZXByaW50IiwibWFya1ZpZXdEaXJ0eSIsInRpY2tSb290Q29udGV4dCIsInJvb3RDb250ZXh0Iiwicm9vdENvbXBvbmVudCIsImRldGVjdENoYW5nZXNJbnRlcm5hbCIsImRldGVjdENoYW5nZXNJblJvb3RWaWV3Iiwidmlld1F1ZXJ5Rm4iLCJzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhIiwicHJvcGVydHlOYW1lIiwiaW50ZXJwb2xhdGlvblBhcnRzIiwiYmluZGluZ01ldGFkYXRhIiwiQ0xFQU5fUFJPTUlTRSIsImxvYWRDb21wb25lbnRSZW5kZXJlciIsImN1cnJlbnREZWYiLCJ1bndyYXBMVmlldyIsImVycm9ySGFuZGxlciIsInRleHRCaW5kaW5nSW50ZXJuYWwiLCJjb21wdXRlU3RhdGljU3R5bGluZyIsIndyaXRlVG9Ib3N0IiwiZGV0ZWN0Q2hhbmdlcyIsIm1hcmtEaXJ0eSIsImNsZWFuIiwiciIsInNjaGVkdWxlciIsInBsYXllckhhbmRsZXIiLCJmbHVzaFBsYXllcnMiLCJzY2hlZHVsZVRpY2siLCJJTkpFQ1RPUiIsIk51bGxJbmplY3RvciIsIklOSkVDVE9SX1NDT1BFIiwiTk9UX1lFVCIsIkNJUkNVTEFSIiwiTlVMTF9JTkpFQ1RPUiQxIiwiZ2V0TnVsbEluamVjdG9yIiwiY3JlYXRlSW5qZWN0b3IiLCJkZWZUeXBlIiwiYWRkaXRpb25hbFByb3ZpZGVycyIsImNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzIiwiX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzIiwiUjNJbmplY3RvciIsInJlY29yZHMiLCJpbmplY3RvckRlZlR5cGVzIiwiX2Rlc3Ryb3llZCIsImRlZHVwU3RhY2siLCJwcm9jZXNzUHJvdmlkZXIiLCJpbmplY3RvckRlZiIsInByb2Nlc3NJbmplY3RvclR5cGUiLCJtYWtlUmVjb3JkIiwicmVjb3JkIiwiYXNzZXJ0Tm90RGVzdHJveWVkIiwic2VydmljZSIsImNsZWFyIiwicHJldmlvdXNJbmplY3RvciIsImluamVjdGFibGVEZWZJblNjb3BlIiwiaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5IiwiaHlkcmF0ZSIsIm5leHRJbmplY3RvciIsImluamVjdG9yRXJyb3JOYW1lIiwidG9rZW5QYXRoIiwiY2hhckF0IiwicGFydHMiLCJmb3JtYXRFcnJvciIsImNhdGNoSW5qZWN0b3JFcnJvciIsInRva2VucyIsImRlZk9yV3JhcHBlZERlZiIsInBhcmVudHMiLCJuZ01vZHVsZSIsImlzRHVwbGljYXRlIiwiaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzIiwiaW1wb3J0ZWQiLCJkZWZQcm92aWRlcnMiLCJpbmplY3RvclR5cGUiLCJuZ01vZHVsZVR5cGUiLCJpc1R5cGVQcm92aWRlciIsImlzVmFsdWVQcm92aWRlciIsInByb3ZpZGVyVG9GYWN0b3J5IiwicHJvdmlkZXJUb1JlY29yZCIsIm11bHRpIiwiZXhpc3RpbmciLCJtdWx0aVJlY29yZCIsImhhcyIsInBhcmFtTGVuZ3RoIiwiaW5oZXJpdGVkSW5qZWN0YWJsZURlZiIsInR5cGVOYW1lIiwiZ2V0SW5oZXJpdGVkSW5qZWN0YWJsZURlZiIsImdldFVuZGVjb3JhdGVkSW5qZWN0YWJsZUZhY3RvcnkiLCJ1bndyYXBwZWRQcm92aWRlciIsInVzZUZhY3RvcnkiLCJ1c2VFeGlzdGluZyIsImlzRXhpc3RpbmdQcm92aWRlciIsImNsYXNzUmVmIiwidXNlQ2xhc3MiLCJuZ01vZHVsZURldGFpbCIsInRocm93SW52YWxpZFByb3ZpZGVyRXJyb3IiLCJoYXNEZXBzIiwiSW5qZWN0b3IiLCJzdGF0aWMiLCJnZXRDb21wb25lbnQkMSIsImFzc2VydERvbUVsZW1lbnQiLCJnZXRDb21wb25lbnRBdE5vZGVJbmRleCIsImdldENvbnRleHQiLCJnZXRPd25pbmdDb21wb25lbnQiLCJlbGVtZW50T3JEaXIiLCJnZXRSb290Q29tcG9uZW50cyIsImdldEluamVjdG9yIiwiTlVMTCIsImdldERpcmVjdGl2ZXMiLCJUZXh0IiwiZ2V0RGlyZWN0aXZlTWV0YWRhdGEkMSIsImRpcmVjdGl2ZU9yQ29tcG9uZW50SW5zdGFuY2UiLCJjb21wb25lbnREZWYiLCJnZXRIb3N0RWxlbWVudCIsImNvbXBvbmVudE9yRGlyZWN0aXZlIiwiZ2V0TGlzdGVuZXJzIiwibENvbnRleHQiLCJsaXN0ZW5lcnMiLCJmaXJzdFBhcmFtIiwic2Vjb25kUGFyYW0iLCJsaXN0ZW5lckVsZW1lbnQiLCJjYWxsYmFjayIsInVzZUNhcHR1cmVPckluZHgiLCJ1c2VDYXB0dXJlIiwic29ydExpc3RlbmVycyIsImEiLCJiIiwiRWxlbWVudCIsImFwcGx5Q2hhbmdlcyIsIl9wdWJsaXNoZWQiLCJwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEiLCJwdWJsaXNoR2xvYmFsVXRpbCIsIkNPTVBJTEVEIiwidyIsInJlbmRlckNvbXBvbmVudCIsImNvbXBvbmVudFR5cGUiLCJjb21wb25lbnRUYWciLCJob3N0Uk5vZGUiLCJyb290RmxhZ3MiLCJjcmVhdGVSb290Q29udGV4dCIsInJvb3RUVmlldyIsImNyZWF0ZVJvb3RDb21wb25lbnQiLCJjcmVhdGVSb290Q29tcG9uZW50VmlldyIsImhvc3RGZWF0dXJlcyIsImhvc3RSZW5kZXJlciIsInZpZXdSZW5kZXJlciIsInJvb3RMVmlldyIsInJvb3RUTm9kZSIsImluc3RhbnRpYXRlUm9vdENvbXBvbmVudCIsIkxpZmVjeWNsZUhvb2tzRmVhdHVyZSIsIndoZW5SZW5kZXJlZCIsImdldFN1cGVyVHlwZSIsInN1cGVyVHlwZSIsInNob3VsZEluaGVyaXRGaWVsZHMiLCJpbmhlcml0YW5jZUNoYWluIiwic3VwZXJEZWYiLCJ3cml0ZWFibGVEZWYiLCJtYXliZVVud3JhcEVtcHR5Iiwic3VwZXJIb3N0QmluZGluZ3MiLCJpbmhlcml0SG9zdEJpbmRpbmdzIiwic3VwZXJWaWV3UXVlcnkiLCJzdXBlckNvbnRlbnRRdWVyaWVzIiwiaW5oZXJpdFZpZXdRdWVyeSIsImluaGVyaXRDb250ZW50UXVlcmllcyIsImFuaW1hdGlvbiIsImRlZkRhdGEiLCJtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlIiwicHJldlZpZXdRdWVyeSIsImN0eCIsInByZXZDb250ZW50UXVlcmllcyIsInByZXZIb3N0QmluZGluZ3MiLCJDT1BZX0RJUkVDVElWRV9GSUVMRFMiLCJDT1BZX0NPTVBPTkVOVF9GSUVMRFMiLCJkZWZBbnkiLCJfc3ltYm9sSXRlcmF0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZGV2TW9kZUVxdWFsIiwiaXNMaXN0TGlrZUl0ZXJhYmxlQSIsImlzTGlzdExpa2VJdGVyYWJsZSIsImlzTGlzdExpa2VJdGVyYWJsZUIiLCJjb21wYXJhdG9yIiwiaXRlcmF0b3IxIiwiaXRlcmF0b3IyIiwiaXRlbTEiLCJpdGVtMiIsImFyZUl0ZXJhYmxlc0VxdWFsIiwiaXNBT2JqZWN0IiwiaXNCT2JqZWN0IiwiaXMiLCJpc0pzT2JqZWN0IiwibyIsInVwZGF0ZUJpbmRpbmciLCJnZXRCaW5kaW5nIiwiYmluZGluZ1VwZGF0ZWQiLCJvbGRWYWx1ZVRvQ29tcGFyZSIsImRldGFpbHMiLCJtZXRhZGF0YSIsIlJlZ0V4cCIsImdldEV4cHJlc3Npb25DaGFuZ2VkRXJyb3JEZXRhaWxzIiwiY3VyclZhbHVlIiwidGhyb3dFcnJvcklmTm9DaGFuZ2VzTW9kZSIsImJpbmRpbmdVcGRhdGVkMiIsImV4cDEiLCJleHAyIiwiZGlmZmVyZW50IiwiYmluZGluZ1VwZGF0ZWQzIiwiZXhwMyIsImJpbmRpbmdVcGRhdGVkNCIsImV4cDQiLCJpbnRlcnBvbGF0aW9uViIsImlzQmluZGluZ1VwZGF0ZWQiLCJpbnRlcnBvbGF0aW9uMSIsInYwIiwic3VmZml4IiwiaW50ZXJwb2xhdGlvbjIiLCJpMCIsInYxIiwiaW50ZXJwb2xhdGlvbjMiLCJpMSIsInYyIiwiaW50ZXJwb2xhdGlvbjQiLCJpMiIsInYzIiwiaW50ZXJwb2xhdGlvbjUiLCJpMyIsInY0IiwiaW50ZXJwb2xhdGlvbjYiLCJpNCIsInY1IiwiaW50ZXJwb2xhdGlvbjciLCJpNSIsInY2IiwiaW50ZXJwb2xhdGlvbjgiLCJpNiIsInY3IiwiaW50ZXJwb2xhdGVkVmFsdWUiLCJpbnRlcnBvbGF0ZWQiLCJpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuIiwiYXR0cnNJbmRleCIsImxvY2FsUmVmc0luZGV4IiwiYWRqdXN0ZWRJbmRleCIsInRWaWV3Q29uc3RzIiwidGVtcGxhdGVGaXJzdENyZWF0ZVBhc3MiLCJjb21tZW50IiwiYW5ndWxhckNvcmVEaUVudiIsIlVTRV9WQUxVRSIsImlzVXNlQ2xhc3NQcm92aWRlciIsImlzVXNlRmFjdG9yeVByb3ZpZGVyIiwiSW5qZWN0YWJsZSIsIm5nRmFjdG9yeURlZiIsImNvbXBpbGVyIiwiY29tcGlsZUluamVjdGFibGUiLCJzcmNNZXRhIiwiY29tcGlsZXJNZXRhIiwidHlwZUFyZ3VtZW50Q291bnQiLCJpc1VzZVZhbHVlUHJvdmlkZXIiLCJpc1VzZUV4aXN0aW5nUHJvdmlkZXIiLCJnZXRJbmplY3RhYmxlTWV0YWRhdGEiLCJjb21waWxlRmFjdG9yeSIsImNvbnN0cnVjdFJlc29sdmluZ1BhdGgiLCJmaW5kRmlyc3RDbG9zZWRDeWNsZSIsInJldmVyc2UiLCJrIiwiaW5qZWN0aW9uRXJyb3IiLCJjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlIiwiZXJyTXNnIiwid3JhcHBlZEVycm9yIiwiYWRkS2V5IiwiaW5qZWN0b3JzIiwibm9Bbm5vdGF0aW9uRXJyb3IiLCJwYXJhbXMiLCJpaSIsInBhcmFtZXRlciIsIlJlZmxlY3RpdmVLZXkiLCJkaXNwbGF5TmFtZSIsIl9nbG9iYWxLZXlSZWdpc3RyeSIsIm51bWJlck9mS2V5cyIsIl9hbGxLZXlzIiwibmV3S2V5IiwicmVmbGVjdG9yIiwicmVmbGVjdGlvbkNhcGFiaWxpdGllcyIsInVwZGF0ZUNhcGFiaWxpdGllcyIsImNhcHMiLCJpZGVudGlmaWVyIiwiUmVmbGVjdGl2ZURlcGVuZGVuY3kiLCJ2aXNpYmlsaXR5IiwiX0VNUFRZX0xJU1QiLCJSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8iLCJyZXNvbHZlZEZhY3RvcmllcyIsIm11bHRpUHJvdmlkZXIiLCJyZXNvbHZlZEZhY3RvcnkiLCJSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5IiwiZGVwZW5kZW5jaWVzIiwicmVzb2x2ZVJlZmxlY3RpdmVGYWN0b3J5IiwiZmFjdG9yeUZuIiwicmVzb2x2ZWREZXBzIiwiX2RlcGVuZGVuY2llc0ZvciIsImFsaWFzSW5zdGFuY2UiLCJmcm9tS2V5IiwiX2V4dHJhY3RUb2tlbiIsImNvbnN0cnVjdERlcGVuZGVuY2llcyIsInJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXIiLCJyZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVycyIsInJlc29sdmVkUHJvdmlkZXJNYXAiLCJub3JtYWxpemVkUHJvdmlkZXJzTWFwIiwicmVzb2x2ZWRQcm92aWRlciIsIm1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzIiwiX25vcm1hbGl6ZVByb3ZpZGVycyIsImZyb20iLCJzb21lIiwicCIsIl9jcmVhdGVEZXBlbmRlbmN5IiwicGFyYW1NZXRhZGF0YSIsIlVOREVGSU5FRCIsIlJlZmxlY3RpdmVJbmplY3RvciIsIlJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyIsImZyb21SZXNvbHZlZFByb3ZpZGVycyIsIlJlZmxlY3RpdmVJbmplY3Rvcl8iLCJfcHJvdmlkZXJzIiwiX3BhcmVudCIsIl9jb25zdHJ1Y3Rpb25Db3VudGVyIiwibGVuIiwia2V5SWRzIiwib2JqcyIsIl9nZXRCeUtleSIsInJlc29sdmVBbmRDcmVhdGVDaGlsZCIsImNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkIiwiaW5qIiwicmVzb2x2ZUFuZEluc3RhbnRpYXRlIiwiaW5zdGFudGlhdGVSZXNvbHZlZCIsIl9pbnN0YW50aWF0ZVByb3ZpZGVyIiwiZ2V0UHJvdmlkZXJBdEluZGV4Iiwib3V0T2ZCb3VuZHNFcnJvciIsIl9uZXciLCJfZ2V0TWF4TnVtYmVyT2ZPYmplY3RzIiwiX2luc3RhbnRpYXRlIiwiX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kiLCJvcmlnaW5hbEV4Y2VwdGlvbiIsIklOSkVDVE9SX0tFWSIsIl9nZXRCeUtleVNlbGYiLCJfZ2V0QnlLZXlEZWZhdWx0IiwiX2dldE9iakJ5S2V5SWQiLCJrZXlJZCIsIl90aHJvd09yTnVsbCIsIm5vUHJvdmlkZXJFcnJvciIsImlual8iLCJfbWFwUHJvdmlkZXJzIiwic2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyIsInByb3BlcnR5IiwiSFRNTFVua25vd25FbGVtZW50IiwiY3VzdG9tRWxlbWVudHMiLCJsb2dVbmtub3duRWxlbWVudEVycm9yIiwiZWxlbWVudFN0YXJ0IiwiZWxlbWVudFN0YXJ0Rmlyc3RDcmVhdGVQYXNzIiwiZWxlbWVudEVuZCIsImhhc0NsYXNzSW5wdXQiLCJoYXNTdHlsZUlucHV0IiwiZWxlbWVudENvbnRhaW5lclN0YXJ0Rmlyc3RDcmVhdGVQYXNzIiwiaXNTdWJzY3JpYmFibGUiLCJpc09ic2VydmFibGUiLCJldmVudE5hbWUiLCJsaXN0ZW5lckZuIiwiZXZlbnRUYXJnZXRSZXNvbHZlciIsImxpc3RlbmVySW50ZXJuYWwiLCJpc1ROb2RlRGlyZWN0aXZlSG9zdCIsInByb2Nlc3NPdXRwdXRzIiwibENsZWFudXBJbmRleCIsImV4aXN0aW5nTGlzdGVuZXIiLCJ0Tm9kZUlkeCIsImNsZWFudXBFdmVudE5hbWUiLCJsaXN0ZW5lcklkeEluTENsZWFudXAiLCJmaW5kRXhpc3RpbmdMaXN0ZW5lciIsIl9fbmdMYXN0TGlzdGVuZXJGbl9fIiwiX19uZ05leHRMaXN0ZW5lckZuX18iLCJ3cmFwTGlzdGVuZXIiLCJsaXN0ZW4iLCJwcm9wc0xlbmd0aCIsIm1pbmlmaWVkTmFtZSIsIm91dHB1dCIsInN1YnNjcmlwdGlvbiIsImV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nIiwid3JhcFdpdGhQcmV2ZW50RGVmYXVsdCIsIndyYXBMaXN0ZW5lckluX21hcmtEaXJ0eUFuZFByZXZlbnREZWZhdWx0IiwibmV4dExpc3RlbmVyRm4iLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwibGV2ZWwiLCJuZXN0aW5nTGV2ZWwiLCJ3YWxrVXBWaWV3cyIsIm5leHRDb250ZXh0SW1wbCIsIm1hdGNoaW5nUHJvamVjdGlvblNsb3RJbmRleCIsInByb2plY3Rpb25TbG90cyIsIndpbGRjYXJkTmdDb250ZW50SW5kZXgiLCJuZ1Byb2plY3RBc0F0dHJWYWwiLCJuZ1Byb2plY3RBc0F0dHJJZHgiLCJnZXRQcm9qZWN0QXNBdHRyVmFsdWUiLCJudW1Qcm9qZWN0aW9uU2xvdHMiLCJwcm9qZWN0aW9uSGVhZHMiLCJ0YWlscyIsImNvbXBvbmVudENoaWxkIiwic2xvdEluZGV4Iiwic2VsZWN0b3JJbmRleCIsImFwcGx5UHJvamVjdGlvbiIsIm1hcmtEdXBsaWNhdGVzIiwidFN0eWxpbmdLZXkiLCJpc1ByZXZEaXIiLCJpc0NsYXNzQmluZGluZyIsInRTdHlsaW5nQXRJbmRleCIsImlzTWFwIiwiZm91bmREdXBsaWNhdGUiLCJ0U3R5bGluZ1ZhbHVlQXRDdXJzb3IiLCJ0U3R5bGVSYW5nZUF0Q3Vyc29yIiwiaXNTdHlsaW5nTWF0Y2giLCJ0U3R5bGluZ0tleUN1cnNvciIsInBhcnNlclN0YXRlIiwidGV4dEVuZCIsImtleUVuZCIsInZhbHVlRW5kIiwiZ2V0TGFzdFBhcnNlZEtleSIsImdldExhc3RQYXJzZWRWYWx1ZSIsInBhcnNlQ2xhc3NOYW1lTmV4dCIsImNvbnN1bWVDbGFzc1Rva2VuIiwiY29uc3VtZVdoaXRlc3BhY2UiLCJwYXJzZVN0eWxlTmV4dCIsImNoIiwiY29uc3VtZVN0eWxlS2V5IiwiY29uc3VtZVNlcGFyYXRvciIsImNoMSIsImNoMiIsImNoMyIsImxhc3RDaEluZGV4IiwiY29uc3VtZVF1b3RlZFRleHQiLCJjb25zdW1lU3R5bGVWYWx1ZSIsInJlc2V0UGFyc2VyU3RhdGUiLCJzZXBhcmF0b3IiLCJtYWxmb3JtZWRTdHlsZUVycm9yIiwiZnJvbUNoYXJDb2RlIiwicXVvdGVDaGFyQ29kZSIsImV4cGVjdGluZyIsImNoZWNrU3R5bGluZ1Byb3BlcnR5IiwiY2hlY2tTdHlsaW5nTWFwIiwic3R5bGVLZXlWYWx1ZUFycmF5U2V0Iiwic3R5bGVTdHJpbmdQYXJzZXIiLCJwYXJzZVN0eWxlIiwiY2xhc3NTdHJpbmdQYXJzZXIiLCJwYXJzZUNsYXNzTmFtZSIsInN0eWxpbmdGaXJzdFVwZGF0ZVBhc3MiLCJ1cGRhdGVTdHlsaW5nIiwibm9ybWFsaXplU3VmZml4Iiwic3RyaW5nUGFyc2VyIiwiaGFzU3R5bGluZ0lucHV0U2hhZG93IiwiaXNJbkhvc3RCaW5kaW5ncyIsInN0YXRpY1ByZWZpeCIsImVuZHNXaXRoIiwib2xkS2V5VmFsdWVBcnJheSIsIm5ld0tleVZhbHVlQXJyYXkiLCJvbGRJbmRleCIsIm5ld0luZGV4Iiwib2xkS2V5Iiwic2V0S2V5IiwidXBkYXRlU3R5bGluZ01hcCIsInN0eWxlS2V5VmFsdWVBcnJheSIsInVud3JhcHBlZFZhbHVlIiwidG9TdHlsaW5nS2V5VmFsdWVBcnJheSIsImlzSG9zdEJpbmRpbmdzIiwic3R5bGluZ0tleSIsImhvc3REaXJlY3RpdmVEZWYiLCJyZXNpZHVhbCIsImNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyIsImNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMiLCJ0ZW1wbGF0ZVN0eWxpbmdLZXkiLCJnZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSIsInNldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5IiwiY29sbGVjdFJlc2lkdWFsIiwid3JhcEluU3RhdGljU3R5bGluZ0tleSIsInRTdHlsaW5nS2V5V2l0aFN0YXRpYyIsImlzSG9zdEJpbmRpbmciLCJ0QmluZGluZ3MiLCJ0bXBsSGVhZCIsInRtcGxUYWlsIiwiaXNLZXlEdXBsaWNhdGVPZlN0YXRpYyIsInN0YXRpY0tleVZhbHVlQXJyYXkiLCJwcmV2aW91c05vZGUiLCJtYXJrRHVwbGljYXRlT2ZSZXNpZHVhbFN0eWxpbmciLCJpbnNlcnRUU3R5bGluZ0JpbmRpbmciLCJjdXJyZW50RGlyZWN0aXZlIiwiZGVzaXJlZE1hcmtlciIsImN1cnJlbnRNYXJrZXIiLCJ0UmFuZ2UiLCJpc1N0eWxpbmdWYWx1ZVByZXNlbnQiLCJmaW5kU3R5bGluZ1ZhbHVlIiwiaXNQcm9jZWR1cmFsIiwiYWRkQ2xhc3MiLCJjbGFzc0xpc3QiLCJyZW1vdmVDbGFzcyIsIkRhc2hDYXNlIiwicmVtb3ZlU3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsImlzSW1wb3J0YW50IiwiSW1wb3J0YW50Iiwic2V0U3R5bGUiLCJhcHBseVN0eWxpbmciLCJpc1ByZXZEaXJlY3Rpb24iLCJyYXdLZXkiLCJjb250YWluc1N0YXRpY3MiLCJpc1N0eWxpbmdNYXAiLCJ2YWx1ZUF0TFZpZXdJbmRleCIsInRleHROYXRpdmUiLCJ2YWx1ZVN1ZmZpeCIsIm5nSTE4bkNsb3N1cmVNb2RlIiwiZ29vZyIsImdldE1zZyIsInUiLCJsb2NhbGVFbiIsInZhbCIsIkxPQ0FMRV9EQVRBIiwicmVnaXN0ZXJMb2NhbGVEYXRhIiwibG9jYWxlSWQiLCJleHRyYURhdGEiLCJMb2NhbGVEYXRhSW5kZXgiLCJMb2NhbGVJZCIsIkV4dHJhRGF0YSIsImZpbmRMb2NhbGVEYXRhIiwibG9jYWxlIiwibm9ybWFsaXplZExvY2FsZSIsIm5vcm1hbGl6ZUxvY2FsZSIsImdldExvY2FsZURhdGEiLCJwYXJlbnRMb2NhbGUiLCJnZXRMb2NhbGVDdXJyZW5jeUNvZGUiLCJDdXJyZW5jeUNvZGUiLCJnZXRMb2NhbGVQbHVyYWxDYXNlIiwiUGx1cmFsQ2FzZSIsIm5nIiwiY29tbW9uIiwibG9jYWxlcyIsInVucmVnaXN0ZXJBbGxMb2NhbGVEYXRhIiwicGx1cmFsTWFwcGluZyIsIkRFRkFVTFRfTE9DQUxFX0lEIiwiRUxFTUVOVF9NQVJLRVIiLCJJQ1VfTUFSS0VSIiwiSTE4bkNyZWF0ZU9wQ29kZSIsIkxPQ0FMRV9JRCQxIiwic2V0TG9jYWxlSWQiLCJ0Tm9kZUluc2VydEJlZm9yZUluZGV4IiwiaTE4blBhcmVudCIsImFuY2hvclJOb2RlIiwiYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleCIsInByZXZpb3VzVE5vZGVzIiwibmV3VE5vZGUiLCJleGlzdGluZ1ROb2RlIiwiaXNJMThuVGV4dCIsImlzTmV3VE5vZGVDcmVhdGVkQmVmb3JlIiwiZ2V0SW5zZXJ0QmVmb3JlSW5kZXgiLCJzZXRJbnNlcnRCZWZvcmVJbmRleCIsImdldFRJY3UiLCJjcmVhdGVUTm9kZVBsYWNlaG9sZGVyIiwiZ2V0Q3VycmVudElDVUNhc2VJbmRleCIsImN1cnJlbnRDYXNlIiwiZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZSIsIm1lcmdlZENvZGUiLCJnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlIiwiZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlIiwiY2hhbmdlTWFzayIsImNoYW5nZU1hc2tDb3VudGVyIiwiYXBwbHlNdXRhYmxlT3BDb2RlcyIsIm11dGFibGVPcENvZGVzIiwicm9vdFJOb2RlIiwicm9vdElkeCIsInRleHROb2RlSW5kZXgiLCJwYXJlbnRJZHgiLCJpbnNlcnRJbkZyb250T2YiLCJyZWZJZHgiLCJjYXNlSW5kZXgiLCJhbmNob3JJZHgiLCJlbGVtZW50Tm9kZUluZGV4IiwiY29tbWVudFZhbHVlIiwiY29tbWVudE5vZGVJbmRleCIsImFwcGx5VXBkYXRlT3BDb2RlcyIsInVwZGF0ZU9wQ29kZXMiLCJiaW5kaW5nc1N0YXJ0SW5kZXgiLCJjaGVja0JpdCIsInNraXBDb2RlcyIsInNhbml0aXplRm4iLCJ0Tm9kZU9yVGFnTmFtZSIsInJUZXh0IiwiYXBwbHlJY3VTd2l0Y2hDYXNlIiwiYXBwbHlJY3VVcGRhdGVDYXNlIiwiYWN0aXZlQ2FzZUluZGV4IiwiaWN1RXhwcmVzc2lvbiIsImJpbmRpbmdWYWx1ZSIsImNhc2VzIiwicmVzb2x2ZWRDYXNlIiwicGx1cmFsIiwiZ2V0UGx1cmFsQ2FzZSIsImdldENhc2VJbmRleCIsImFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSIsInJlbW92ZUNvZGVzIiwibm9kZU9ySWN1SW5kZXgiLCJsb2FkSWN1Q29udGFpbmVyVmlzaXRvciIsIl9zdGFjayIsIl9yZW1vdmVzIiwiX2luZGV4IiwiZW50ZXJJY3UiLCJpY3VDb250YWluZXJJdGVyYXRvck5leHQiLCJyZW1vdmVPcENvZGUiLCJ0SWN1SW5kZXgiLCJpMThuQ3JlYXRlT3BDb2Rlc1RvU3RyaW5nIiwib3Bjb2RlcyIsImNyZWF0ZU9wQ29kZXMiLCJsaW5lcyIsImlzQ29tbWVudCIsIkNPTU1FTlQiLCJhcHBlbmROb3ciLCJBUFBFTkRfRUFHRVJMWSIsIlNISUZUIiwiaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyIsInBhcnNlciIsIk9wQ29kZVBhcnNlciIsImNvbnN1bWVPcENvZGUiLCJyZWYiLCJjb25zdW1lU3RyaW5nIiwic2FuaXRpemF0aW9uRm4iLCJjb25zdW1lRnVuY3Rpb24iLCJoYXNNb3JlIiwiY29uc3VtZU51bWJlciIsInN0YXRlbWVudHMiLCJzdGF0ZW1lbnQiLCJjb25zdW1lTnVtYmVyT3JTdHJpbmciLCJvcENvZGVUZXh0IiwiaWN1Q3JlYXRlT3BDb2Rlc1RvU3RyaW5nIiwibGFzdFJlZiIsImNvbnN1bWVOdW1iZXJTdHJpbmdPck1hcmtlciIsImxpbmUiLCJpMThuUmVtb3ZlT3BDb2Rlc1RvU3RyaW5nIiwiY29kZXMiLCJCSU5ESU5HX1JFR0VYUCIsIklDVV9SRUdFWFAiLCJORVNURURfSUNVIiwiSUNVX0JMT0NLX1JFR0VYUCIsIlNVQlRFTVBMQVRFX1JFR0VYUCIsIlBIX1JFR0VYUCIsIk5HU1BfVU5JQ09ERV9SRUdFWFAiLCJjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSIsImV4aXN0aW5nVE5vZGVzIiwiaXNJQ1UiLCJpMThuTm9kZUlkeCIsInNldFROb2RlSW5zZXJ0QmVmb3JlSW5kZXgiLCJpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3NQcm9jZXNzVGV4dE5vZGUiLCJoYXNCaW5kaW5nIiwiZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcyIsInN0ciIsImRlc3RpbmF0aW9uTm9kZSIsImJpbmRpbmdTdGFydCIsIm1hc2tJbmRleCIsInNpemVJbmRleCIsInRleHRQYXJ0cyIsInRleHRWYWx1ZSIsInRvTWFza0JpdCIsImNvdW50QmluZGluZ3MiLCJvcENvZGVzIiwibWluIiwicmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uIiwidGFnTWF0Y2hlZCIsImluVGVtcGxhdGUiLCJleGVjIiwiaWN1U3RhcnQiLCJiaW5kaW5nTWFzayIsIm1haW5CaW5kaW5nIiwiYWRkVXBkYXRlSWN1U3dpdGNoIiwic2V0VEljdSIsInZhbHVlQXJyIiwibmVzdGVkSWN1cyIsImljdUluZGV4IiwicGFyc2VJY3VDYXNlIiwiYWRkVXBkYXRlSWN1VXBkYXRlIiwicGFyc2VJQ1VCbG9jayIsInBhdHRlcm4iLCJpY3VUeXBlIiwiaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVSIsImJpbmRpbmciLCJwb3MiLCJibG9ja3MiLCJwcmV2UG9zIiwiYnJhY2VTdGFjayIsInJlc3VsdHMiLCJicmFjZXMiLCJsYXN0SW5kZXgiLCJibG9jayIsImNhc2VOYW1lIiwidW5zYWZlQ2FzZUh0bWwiLCJpbmVydFJvb3ROb2RlIiwid2Fsa0ljdVRyZWUiLCJzaGFyZWRVcGRhdGVPcENvZGVzIiwiZGVwdGgiLCJjdXJyZW50Tm9kZSIsImFkZENyZWF0ZU5vZGVBbmRBcHBlbmQiLCJsb3dlckF0dHJOYW1lIiwiYWRkQ3JlYXRlQXR0cmlidXRlIiwiYWRkUmVtb3ZlTm9kZSIsImlzTmVzdGVkSWN1IiwibmVzdGVkSWN1SW5kZXgiLCJhZGRSZW1vdmVOZXN0ZWRJY3UiLCJhcHBlbmRUb1BhcmVudElkeCIsImNyZWF0ZUF0SWR4IiwiUFBfTVVMVElfVkFMVUVfUExBQ0VIT0xERVJTX1JFR0VYUCIsIlBQX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9JQ1VfVkFSU19SRUdFWFAiLCJQUF9JQ1VfUExBQ0VIT0xERVJTX1JFR0VYUCIsIlBQX0lDVVNfUkVHRVhQIiwiUFBfQ0xPU0VfVEVNUExBVEVfUkVHRVhQIiwiUFBfVEVNUExBVEVfSURfUkVHRVhQIiwibWVzc2FnZUluZGV4Iiwic3ViVGVtcGxhdGVJbmRleCIsInBhcmVudFROb2RlSW5kZXgiLCJleGlzdGluZ1ROb2RlU3RhY2siLCJpc1Jvb3RUZW1wbGF0ZU1lc3NhZ2UiLCJzZWFyY2giLCJnZXRUcmFuc2xhdGlvbkZvclRlbXBsYXRlIiwibXNnUGFydHMiLCJwYXJ0IiwiaWN1Tm9kZUluZGV4IiwiaXNDbG9zaW5nIiwiTnVtYmVyIiwiaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzIiwidEkxOG4iLCJhcHBseUNyZWF0ZU9wQ29kZXMiLCJwcmV2aW91c0VsZW1lbnRJbmRleCIsImkxOG5BdHRyaWJ1dGVzRmlyc3RQYXNzIiwiYXBwbHlJMThuIiwicmVwbGFjZW1lbnRzIiwidGVtcGxhdGVJZHNTdGFjayIsInBocyIsInRtcGwiLCJwbGFjZWhvbGRlcnMiLCJwbGFjZWhvbGRlciIsInRlbXBsYXRlSWQiLCJpc0Nsb3NlVGVtcGxhdGVUYWciLCJjdXJyZW50VGVtcGxhdGVJZCIsIl90eXBlIiwiX2lkeCIsImkxOG5Qb3N0cHJvY2VzcyIsInJlc29sdmVQcm92aWRlciIsImxJbmplY3RhYmxlc0JsdWVwcmludCIsInByb3ZpZGVyRmFjdG9yeSIsImJlZ2luSW5kZXgiLCJleGlzdGluZ0ZhY3RvcnlJbmRleCIsInJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQiLCJleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCIsImV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCIsImRvZXNQcm92aWRlcnNGYWN0b3J5RXhpc3QiLCJkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCIsImYiLCJjb21wb25lbnRQcm92aWRlcnMiLCJtdWx0aUZhY3RvcnlBZGQiLCJtdWx0aUZhY3RvcnkiLCJtdWx0aVZpZXdQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIiLCJtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciIsImNvbnRleHRJbmRleCIsImluZGV4SW5GYWN0b3J5IiwicHJvdmlkZXJJc1R5cGVQcm92aWRlciIsInByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyIiwiZXhpc3RpbmdDYWxsYmFja3NJbmRleCIsImlzQ29tcG9uZW50UHJvdmlkZXIiLCJsRGF0YSIsIm11bHRpUmVzb2x2ZSIsImNvbXBvbmVudENvdW50IiwibXVsdGlQcm92aWRlcnMiLCJwcm9jZXNzUHJvdmlkZXJzRm4iLCJDb21wb25lbnRSZWYkMSIsIkNvbXBvbmVudEZhY3RvcnkkMSIsIl9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJub0NvbXBvbmVudEZhY3RvcnlFcnJvciIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIiwiY3JlYXRlRWxlbWVudFJlZiIsIkVsZW1lbnRSZWYiLCJuYXRpdmVFbGVtZW50IiwidW53cmFwRWxlbWVudFJlZiIsIlJlbmRlcmVyRmFjdG9yeTIiLCJSZW5kZXJlcjIiLCJub2RlQXRJbmRleCIsImdldE9yQ3JlYXRlUmVuZGVyZXIyIiwiaW5qZWN0UmVuZGVyZXIyIiwiU2FuaXRpemVyIiwiVmVyc2lvbiIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwicGF0Y2giLCJWRVJTSU9OIiwiTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiIsImNvbGxlY3ROYXRpdmVOb2RlcyIsImxOb2RlIiwibFZpZXdJbkFDb250YWluZXIiLCJsVmlld0ZpcnN0Q2hpbGRUTm9kZSIsIm5vZGVzSW5TbG90IiwiVmlld1JlZiQxIiwiX2NkUmVmSW5qZWN0aW5nVmlldyIsIl9hcHBSZWYiLCJfYXR0YWNoZWRUb1ZpZXdDb250YWluZXIiLCJyb290Tm9kZXMiLCJ2aWV3UmVmcyIsIm1hcmtGb3JDaGVjayIsImRldGFjaCIsInJlYXR0YWNoIiwiY2hlY2tOb0NoYW5nZXMiLCJjaGVja05vQ2hhbmdlc0ludGVybmFsIiwiYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmIiwiZGV0YWNoRnJvbUFwcFJlZiIsImF0dGFjaFRvQXBwUmVmIiwiYXBwUmVmIiwiUm9vdFZpZXdSZWYiLCJfdmlldyIsImNoZWNrTm9DaGFuZ2VzSW5Sb290VmlldyIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkNvbXBvbmVudEZhY3RvcnkiLCJ0b1JlZkFycmF5Iiwibm9uTWluaWZpZWQiLCJtaW5pZmllZCIsInRlbXBsYXRlTmFtZSIsImlzQm91bmRUb01vZHVsZSIsInByb2plY3RhYmxlTm9kZXMiLCJyb290U2VsZWN0b3JPck5vZGUiLCJyb290Vmlld0luamVjdG9yIiwiY3JlYXRlQ2hhaW5lZEluamVjdG9yIiwiZWxlbWVudE5hbWUiLCJnZXROYW1lc3BhY2UiLCJ0RWxlbWVudE5vZGUiLCJleHRyYWN0QXR0cnNBbmRDbGFzc2VzRnJvbVNlbGVjdG9yIiwibm9kZXNmb3JTbG90IiwiQ29tcG9uZW50UmVmIiwiX3Jvb3RMVmlldyIsImNoYW5nZURldGVjdG9yUmVmIiwic2V0Q2xhc3NNZXRhZGF0YSIsImNsYXp6IiwiTmdNb2R1bGVSZWYkMSIsIk5nTW9kdWxlRmFjdG9yeSQxIiwibW9kdWxlcyIsInJlZ2lzdGVyTmdNb2R1bGVUeXBlIiwidmlzaXRlZCIsInJlY3Vyc2UiLCJpbmNvbWluZyIsImFzc2VydFNhbWVPck5vdEV4aXN0aW5nIiwiZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZSIsImNyZWF0ZU5nTW9kdWxlUmVmIiwicGFyZW50SW5qZWN0b3IiLCJOZ01vZHVsZVJlZiIsIl9ib290c3RyYXBDb21wb25lbnRzIiwiZGVzdHJveUNicyIsImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl9yM0luamVjdG9yIiwiaW5qZWN0RmxhZ3MiLCJOZ01vZHVsZUZhY3RvcnkiLCJtb2R1bGVUeXBlIiwic2xvdE9mZnNldCIsInB1cmVGbiIsImV4cCIsInB1cmVGdW5jdGlvbjFJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjJJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjNJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjRJbnRlcm5hbCIsImV4cDUiLCJleHA2IiwiZXhwNyIsImV4cDgiLCJleHBzIiwicHVyZUZ1bmN0aW9uVkludGVybmFsIiwiZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUiLCJyZXR1cm5WYWx1ZUluZGV4IiwibGFzdFJldHVyblZhbHVlIiwiYmluZGluZ1Jvb3QiLCJwaXBlTmFtZSIsImdldFBpcGVEZWYiLCJwaXBlRmFjdG9yeSIsInBpcGVJbnN0YW5jZSIsImlzUHVyZSIsInRyYW5zZm9ybSIsIkV2ZW50RW1pdHRlcl8iLCJpc0FzeW5jIiwiX19pc0FzeW5jIiwiZW1pdCIsIm5leHRGbiIsImVycm9yRm4iLCJjb21wbGV0ZUZuIiwib2JzZXJ2ZXIiLCJfd3JhcEluVGltZW91dCIsIkV2ZW50RW1pdHRlciIsInN5bWJvbEl0ZXJhdG9yIiwiX3Jlc3VsdHMiLCJRdWVyeUxpc3QiLCJfZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkiLCJfY2hhbmdlc0RldGVjdGVkIiwiX2NoYW5nZXMiLCJsYXN0Iiwic3ltYm9sIiwiY2hhbmdlcyIsInRvQXJyYXkiLCJyZXN1bHRzVHJlZSIsImlkZW50aXR5QWNjZXNzb3IiLCJuZXdSZXN1bHRGbGF0IiwidmFsdWVBIiwidmFsdWVCIiwiYXJyYXlFcXVhbHMiLCJub3RpZnlPbkNoYW5nZXMiLCJzZXREaXJ0eSIsIlRlbXBsYXRlUmVmIiwiY3JlYXRlVGVtcGxhdGVSZWYiLCJWaWV3RW5naW5lVGVtcGxhdGVSZWYiLCJSM1RlbXBsYXRlUmVmIiwiX2RlY2xhcmF0aW9uTFZpZXciLCJfZGVjbGFyYXRpb25UQ29udGFpbmVyIiwiZWxlbWVudFJlZiIsImNyZWF0ZUVtYmVkZGVkVmlldyIsImRlY2xhcmF0aW9uVmlld0xRdWVyaWVzIiwiVmlld0NvbnRhaW5lclJlZiIsImNyZWF0ZUNvbnRhaW5lclJlZiIsIlZFX1ZpZXdDb250YWluZXJSZWYiLCJSM1ZpZXdDb250YWluZXJSZWYiLCJfbENvbnRhaW5lciIsIl9ob3N0VE5vZGUiLCJfaG9zdExWaWV3IiwiZ2V0Vmlld1JlZnMiLCJ0ZW1wbGF0ZVJlZiIsInZpZXdSZWYiLCJpbnNlcnQiLCJjcmVhdGVDb21wb25lbnQiLCJjb21wb25lbnRGYWN0b3J5T3JUeXBlIiwiaW5kZXhPck9wdGlvbnMiLCJuZ01vZHVsZVJlZiIsImlzQ29tcG9uZW50RmFjdG9yeSIsImNvbXBvbmVudEZhY3RvcnkiLCJjb250ZXh0SW5qZWN0b3IiLCJjb21wb25lbnRSZWYiLCJwcmV2SWR4IiwicHJldkxDb250YWluZXIiLCJwcmV2VkNSZWYiLCJhZGp1c3RlZElkeCIsIl9hZGp1c3RJbmRleCIsImNvbnRhaW5lckxlbmd0aCIsImluc2VydGVkTENvbnRhaW5lciIsImluc2VydGVkQ29tcG9uZW50TFZpZXciLCJkZWNsYXJlZENvbXBvbmVudExWaWV3IiwidHJhY2tNb3ZlZFZpZXciLCJpbnNlcnRWaWV3IiwicGFyZW50TmF0aXZlTm9kZSIsImFkZFZpZXdUb0NvbnRhaW5lciIsImdldE9yQ3JlYXRlVmlld1JlZnMiLCJtb3ZlIiwidmlld1JlZnNBcnIiLCJkZXRhY2hlZFZpZXciLCJjb21tZW50Tm9kZSIsIm5hdGl2ZU5leHRTaWJsaW5nIiwiTFF1ZXJ5XyIsInF1ZXJ5TGlzdCIsImNsb25lIiwiTFF1ZXJpZXNfIiwidFF1ZXJpZXMiLCJub09mSW5oZXJpdGVkUXVlcmllcyIsInZpZXdMUXVlcmllcyIsInRRdWVyeSIsImdldEJ5SW5kZXgiLCJwYXJlbnRMUXVlcnkiLCJpbmRleEluRGVjbGFyYXRpb25WaWV3IiwiZGlydHlRdWVyaWVzV2l0aE1hdGNoZXMiLCJnZXRUUXVlcnkiLCJUUXVlcnlNZXRhZGF0YV8iLCJwcmVkaWNhdGUiLCJUUXVlcmllc18iLCJxdWVyaWVzRm9yVGVtcGxhdGVSZWYiLCJjaGlsZFF1ZXJ5SW5kZXgiLCJ0cXVlcnlDbG9uZSIsInRyYWNrIiwidHF1ZXJ5IiwiVFF1ZXJ5XyIsImNyb3NzZXNOZ1RlbXBsYXRlIiwiX2FwcGxpZXNUb05leHROb2RlIiwiX2RlY2xhcmF0aW9uTm9kZUluZGV4IiwiaXNBcHBseWluZ1RvTm9kZSIsIm1hdGNoVE5vZGUiLCJhZGRNYXRjaCIsImRlY2xhcmF0aW9uTm9kZUlkeCIsIm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbiIsImdldElkeE9mTWF0Y2hpbmdTZWxlY3RvciIsIm5vZGVNYXRjaElkeCIsImRpcmVjdGl2ZU9yUHJvdmlkZXJJZHgiLCJtYXRjaElkeCIsImNyZWF0ZVJlc3VsdEZvck5vZGUiLCJtYXRjaGluZ0lkeCIsImNyZWF0ZVJlc3VsdEJ5VE5vZGVUeXBlIiwiY3JlYXRlU3BlY2lhbFRva2VuIiwibWF0ZXJpYWxpemVWaWV3UmVzdWx0cyIsInF1ZXJ5SW5kZXgiLCJsUXVlcnkiLCJ0UXVlcnlNYXRjaGVzIiwibWF0Y2hlZE5vZGVJZHgiLCJjb2xsZWN0UXVlcnlSZXN1bHRzIiwibFZpZXdSZXN1bHRzIiwiZW1iZWRkZWRMVmlld3MiLCJjcmVhdGVUUXVlcnkiLCJjcmVhdGVMUXVlcnkiLCJ0Vmlld0NvbnRlbnRRdWVyaWVzIiwic2F2ZUNvbnRlbnRRdWVyeUFuZERpcmVjdGl2ZUluZGV4IiwiYW5ndWxhckNvcmVFbnYiLCJqaXRPcHRpb25zIiwicmVzZXRKaXRPcHRpb25zIiwibW9kdWxlUXVldWUiLCJmbHVzaGluZ01vZHVsZVF1ZXVlIiwiZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlIiwiZXZlcnkiLCJpc1Jlc29sdmVkRGVjbGFyYXRpb24iLCJzZXRTY29wZU9uRGVjbGFyZWRDb21wb25lbnRzIiwiZGVjbGFyYXRpb24iLCJjb21waWxlTmdNb2R1bGUiLCJjb21waWxlTmdNb2R1bGVEZWZzIiwiZW5xdWV1ZU1vZHVsZUZvckRlbGF5ZWRTY29waW5nIiwiYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QiLCJleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzIiwiTmdNb2R1bGUiLCJ2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmIiwiY29tcGlsZUluamVjdG9yIiwiaW1wb3J0aW5nTW9kdWxlIiwidmVyaWZpZWROZ01vZHVsZSIsInVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzIiwibW9kIiwidmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydCIsImNvbWJpbmVkRGVjbGFyYXRpb25zIiwiY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyIsImRlY2wiLCJzdXBwcmVzc0Vycm9ycyIsImV4aXN0aW5nTW9kdWxlIiwib3duZXJOZ01vZHVsZSIsInZlcmlmeURlY2xhcmF0aW9uSXNVbmlxdWUiLCJnZXRBbm5vdGF0aW9uIiwiZW50cnlDb21wb25lbnRzIiwidmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSIsInR5cGVPcldpdGhQcm92aWRlcnMiLCJjb2xsZWN0IiwiX19hbm5vdGF0aW9uc19fIiwicmVhZEFubm90YXRpb24iLCJXZWFrTWFwIiwicmVzZXRDb21waWxlZENvbXBvbmVudHMiLCJ0cmFuc2l0aXZlU2NvcGVzIiwidHJhbnNpdGl2ZVNjb3Blc0ZvciIsInBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlIiwibmdTZWxlY3RvclNjb3BlIiwiY29tcGlsYXRpb24iLCJkaXIiLCJpc05nTW9kdWxlIiwic2NvcGVzIiwiZXhwb3J0ZWQiLCJpbXBvcnRlZFR5cGUiLCJpbXBvcnRlZFNjb3BlIiwiZW50cnkiLCJkZWNsYXJlZCIsImV4cG9ydGVkVHlwZSIsImV4cG9ydGVkU2NvcGUiLCJpc01vZHVsZVdpdGhQcm92aWRlcnMiLCJjb21waWxhdGlvbkRlcHRoIiwiY29tcGlsZUNvbXBvbmVudCIsIm5nQ29tcG9uZW50RGVmIiwibWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyIsImFkZERpcmVjdGl2ZUZhY3RvcnlEZWYiLCJwcmVzZXJ2ZVdoaXRlc3BhY2VzIiwiZGVmYXVsdEVuY2Fwc3VsYXRpb24iLCJkaXJlY3RpdmVNZXRhZGF0YSIsInR5cGVTb3VyY2VTcGFuIiwiY3JlYXRlUGFyc2VTb3VyY2VTcGFuIiwiYW5pbWF0aW9ucyIsImludGVycG9sYXRpb24iLCJ1c2VzSW5oZXJpdGFuY2UiLCJhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyIsImNvbXBpbGVEaXJlY3RpdmUiLCJuZ0RpcmVjdGl2ZURlZiIsImdldERpcmVjdGl2ZU1ldGFkYXRhIiwic291cmNlTWFwVXJsIiwiZmFjYWRlIiwiRGlyZWN0aXZlIiwiZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCIsImV4dHJhY3RRdWVyaWVzTWV0YWRhdGEiLCJpc0NvbnRlbnRRdWVyeSIsImxpZmVjeWNsZSIsInVzZXNPbkNoYW5nZXMiLCJzcGxpdEJ5Q29tbWEiLCJ2aWV3UXVlcmllcyIsIm9ialByb3RvdHlwZSIsInNob3VsZEFkZEFic3RyYWN0RGlyZWN0aXZlIiwiY29udmVydFRvUjNRdWVyeU1ldGFkYXRhIiwiYW5uIiwiaXNRdWVyeUFubiIsInF1ZXJpZXNNZXRhIiwiaXNJbnB1dEFubm90YXRpb24iLCJwaWVjZSIsIkxJRkVDWUNMRV9IT09LUyIsImhvb2tOYW1lIiwibWV0YWRhdGFOYW1lIiwiY29tcGlsZVBpcGUiLCJuZ1BpcGVEZWYiLCJnZXRQaXBlTWV0YWRhdGEiLCJQaXBlIiwiQ29tcG9uZW50IiwiYyIsIklucHV0IiwiYmluZGluZ1Byb3BlcnR5TmFtZSIsIk91dHB1dCIsIkhvc3RCaW5kaW5nIiwiaG9zdFByb3BlcnR5TmFtZSIsIkhvc3RMaXN0ZW5lciIsIkFQUF9JTklUSUFMSVpFUiIsIkFwcGxpY2F0aW9uSW5pdFN0YXR1cyIsImFwcEluaXRzIiwiaW5pdGlhbGl6ZWQiLCJkb25lUHJvbWlzZSIsInJlaiIsInJ1bkluaXRpYWxpemVycyIsImFzeW5jSW5pdFByb21pc2VzIiwiaW5pdFJlc3VsdCIsIm9ic2VydmFibGVBc1Byb21pc2UiLCJBUFBfSUQiLCJfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnkiLCJfcmFuZG9tQ2hhciIsIkFQUF9JRF9SQU5ET01fUFJPVklERVIiLCJyYW5kb20iLCJQTEFURk9STV9JTklUSUFMSVpFUiIsIlBMQVRGT1JNX0lEIiwiQVBQX0JPT1RTVFJBUF9MSVNURU5FUiIsIlBBQ0tBR0VfUk9PVF9VUkwiLCJDb25zb2xlIiwiTE9DQUxFX0lEIiwiZ2V0TG9jYWxlIiwiJGxvY2FsaXplIiwiREVGQVVMVF9DVVJSRU5DWV9DT0RFIiwiVFJBTlNMQVRJT05TIiwiVFJBTlNMQVRJT05TX0ZPUk1BVCIsIk1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5IiwiTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyIsIm5nTW9kdWxlRmFjdG9yeSIsImNvbXBvbmVudEZhY3RvcmllcyIsIkNvbXBpbGVyIiwiY29tcGlsZU1vZHVsZVN5bmMiLCJjb21waWxlTW9kdWxlQXN5bmMiLCJjb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmMiLCJjb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jIiwiY2xlYXJDYWNoZSIsImNsZWFyQ2FjaGVGb3IiLCJnZXRNb2R1bGVJZCIsIkNPTVBJTEVSX09QVElPTlMiLCJDb21waWxlckZhY3RvcnkiLCJzY2hlZHVsZU1pY3JvVGFzayIsIlpvbmUiLCJOZ1pvbmUiLCJlbmFibGVMb25nU3RhY2tUcmFjZSIsInNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24iLCJzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiIsImhhc1BlbmRpbmdNYWNyb3Rhc2tzIiwiaGFzUGVuZGluZ01pY3JvdGFza3MiLCJpc1N0YWJsZSIsIm9uVW5zdGFibGUiLCJvbk1pY3JvdGFza0VtcHR5Iiwib25TdGFibGUiLCJhc3NlcnRab25lUGF0Y2hlZCIsIl9uZXN0aW5nIiwiX291dGVyIiwiX2lubmVyIiwiZm9yayIsImxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCIsIm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lIiwidW5wYXRjaGVkUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX19zeW1ib2xfXyIsInVucGF0Y2hlZENhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZ2V0TmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiem9uZSIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUiLCJpc0NoZWNrU3RhYmxlUnVubmluZyIsImZha2VUb3BFdmVudFRhc2siLCJzY2hlZHVsZUV2ZW50VGFzayIsInVwZGF0ZU1pY3JvVGFza1N0YXR1cyIsImNoZWNrU3RhYmxlIiwiaW52b2tlIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMiLCJwcm9wZXJ0aWVzIiwib25JbnZva2VUYXNrIiwidGFzayIsImFwcGx5VGhpcyIsImFwcGx5QXJncyIsIm9uRW50ZXIiLCJpbnZva2VUYXNrIiwib25MZWF2ZSIsIm9uSW52b2tlIiwib25IYXNUYXNrIiwiaGFzVGFza1N0YXRlIiwiaGFzVGFzayIsImNoYW5nZSIsIl9oYXNQZW5kaW5nTWljcm90YXNrcyIsIm1pY3JvVGFzayIsIm1hY3JvVGFzayIsIm9uSGFuZGxlRXJyb3IiLCJydW5PdXRzaWRlQW5ndWxhciIsImZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yIiwiaXNJbkFuZ3VsYXJab25lIiwicnVuIiwicnVuVGFzayIsIkVNUFRZX1BBWUxPQUQiLCJjYW5jZWxUYXNrIiwicnVuR3VhcmRlZCIsIk5vb3BOZ1pvbmUiLCJUZXN0YWJpbGl0eSIsIl9uZ1pvbmUiLCJfcGVuZGluZ0NvdW50IiwiX2lzWm9uZVN0YWJsZSIsIl9kaWRXb3JrIiwiX2NhbGxiYWNrcyIsInRhc2tUcmFja2luZ1pvbmUiLCJfd2F0Y2hBbmd1bGFyRXZlbnRzIiwiYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSIsIl9ydW5DYWxsYmFja3NJZlJlYWR5IiwiaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50IiwiZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50IiwidGltZW91dElkIiwiZG9uZUNiIiwicGVuZGluZyIsImdldFBlbmRpbmdUYXNrcyIsInVwZGF0ZUNiIiwibWFjcm9UYXNrcyIsImNyZWF0aW9uTG9jYXRpb24iLCJhZGRDYWxsYmFjayIsInRpbWVvdXQiLCJ3aGVuU3RhYmxlIiwiZ2V0UGVuZGluZ1JlcXVlc3RDb3VudCIsImZpbmRQcm92aWRlcnMiLCJ1c2luZyIsImV4YWN0TWF0Y2giLCJUZXN0YWJpbGl0eVJlZ2lzdHJ5IiwiX2FwcGxpY2F0aW9ucyIsIl90ZXN0YWJpbGl0eUdldHRlciIsImFkZFRvV2luZG93IiwicmVnaXN0ZXJBcHBsaWNhdGlvbiIsInRlc3RhYmlsaXR5IiwidW5yZWdpc3RlckFwcGxpY2F0aW9uIiwidW5yZWdpc3RlckFsbEFwcGxpY2F0aW9ucyIsImdldFRlc3RhYmlsaXR5IiwiZWxlbSIsImdldEFsbFRlc3RhYmlsaXRpZXMiLCJnZXRBbGxSb290RWxlbWVudHMiLCJmaW5kVGVzdGFiaWxpdHlJblRyZWUiLCJmaW5kSW5BbmNlc3RvcnMiLCJzZXRUZXN0YWJpbGl0eUdldHRlciIsIl9wbGF0Zm9ybSIsImNvbXBpbGVOZ01vZHVsZUZhY3RvcnkiLCJhc3NlcnROZ01vZHVsZVR5cGUiLCJtb2R1bGVGYWN0b3J5IiwibmdKaXRNb2RlIiwiY29tcGlsZXJPcHRpb25zIiwic2V0Sml0T3B0aW9ucyIsIl9sYXN0RGVmaW5lZCIsImNvbXBpbGVyUHJvdmlkZXJzIiwiX21lcmdlQXJyYXlzIiwicmVzb3VyY2VMb2FkZXIiLCJSZXNvdXJjZUxvYWRlciIsImNmIiwiQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TIiwiTmdQcm9iZVRva2VuIiwiY3JlYXRlUGxhdGZvcm0iLCJQbGF0Zm9ybVJlZiIsImluaXRzIiwiY3JlYXRlUGxhdGZvcm1GYWN0b3J5IiwicGFyZW50UGxhdGZvcm1GYWN0b3J5IiwiZGVzYyIsImV4dHJhUHJvdmlkZXJzIiwicGxhdGZvcm0iLCJnZXRQbGF0Zm9ybSIsImluamVjdGVkUHJvdmlkZXJzIiwiYXNzZXJ0UGxhdGZvcm0iLCJyZXF1aXJlZFRva2VuIiwiZGVzdHJveVBsYXRmb3JtIiwiX2luamVjdG9yIiwiX21vZHVsZXMiLCJfZGVzdHJveUxpc3RlbmVycyIsImJvb3RzdHJhcE1vZHVsZUZhY3RvcnkiLCJuZ1pvbmUiLCJuZ1pvbmVPcHRpb24iLCJleHRyYSIsIm5nWm9uZUV2ZW50Q29hbGVzY2luZyIsIm5nWm9uZVJ1bkNvYWxlc2NpbmciLCJnZXROZ1pvbmUiLCJuZ1pvbmVJbmplY3RvciIsIm1vZHVsZVJlZiIsImV4Y2VwdGlvbkhhbmRsZXIiLCJfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyIiwiaW5pdFN0YXR1cyIsIl9tb2R1bGVEb0Jvb3RzdHJhcCIsImJvb3RzdHJhcE1vZHVsZSIsIm9wdGlvbnNSZWR1Y2VyIiwiQXBwbGljYXRpb25SZWYiLCJuZ0RvQm9vdHN0cmFwIiwiX3pvbmUiLCJfZXhjZXB0aW9uSGFuZGxlciIsIl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJfaW5pdFN0YXR1cyIsIl9ib290c3RyYXBMaXN0ZW5lcnMiLCJfdmlld3MiLCJfcnVubmluZ1RpY2siLCJfc3RhYmxlIiwiY29tcG9uZW50VHlwZXMiLCJfb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbiIsInRpY2siLCJpc0N1cnJlbnRseVN0YWJsZSIsInN0YWJsZVN1YiIsInVuc3RhYmxlU3ViIiwiYXNzZXJ0SW5Bbmd1bGFyWm9uZSIsImNvbXBvbmVudE9yRmFjdG9yeSIsInNlbGVjdG9yT3JOb2RlIiwiY29tcFJlZiIsInRlc3RhYmlsaXR5UmVnaXN0cnkiLCJfbG9hZENvbXBvbmVudCIsImF0dGFjaFZpZXciLCJ2aWV3Q291bnQiLCJfZGV2TW9kZSIsIl9ydW5Nb2RlTG9ja2VkIiwiaXNEZXZNb2RlIiwiZW5hYmxlUHJvZE1vZGUiLCJnZXRNb2R1bGVGYWN0b3J5Iiwibm9Nb2R1bGVFcnJvciIsImdldE5nTW9kdWxlQnlJZCIsIkNoYW5nZURldGVjdG9yUmVmIiwiaW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYiLCJpc1BpcGUiLCJob3N0Q29tcG9uZW50VmlldyIsImNyZWF0ZVZpZXdSZWYiLCJWaWV3UmVmIiwiRW1iZWRkZWRWaWV3UmVmIiwiRGVidWdFdmVudExpc3RlbmVyIiwiYXNOYXRpdmVFbGVtZW50cyIsImRlYnVnRWxzIiwiRGVidWdOb2RlIiwibmF0aXZlTm9kZSIsIkRlYnVnRWxlbWVudCIsInJlZmVyZW5jZXMiLCJkaXNjb3ZlckxvY2FsUmVmcyIsImdldExvY2FsUmVmcyIsInByb3ZpZGVyVG9rZW5zIiwiZ2V0SW5qZWN0aW9uVG9rZW5zIiwiTm9kZVByb3RvdHlwZSIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImlzUHJpbWl0aXZlVmFsdWUiLCJjb3B5RG9tUHJvcGVydGllcyIsImJpbmRpbmdJbmRleGVzIiwibWV0YWRhdGFQYXJ0cyIsImNvbGxlY3RQcm9wZXJ0eUJpbmRpbmdzIiwibG93ZXJjYXNlVE5vZGVBdHRycyIsImVBdHRycyIsImxvd2VyY2FzZU5hbWUiLCJiYXNlVmFsIiwiY2hpbGROb2RlcyIsImdldERlYnVnTm9kZSIsInF1ZXJ5QWxsIiwiX3F1ZXJ5QWxsIiwicXVlcnlBbGxOb2RlcyIsInRyaWdnZXJFdmVudEhhbmRsZXIiLCJldmVudE9iaiIsImludm9rZWRMaXN0ZW5lcnMiLCJldmVudExpc3RlbmVycyIsInVud3JhcHBlZExpc3RlbmVyIiwicGFyZW50RWxlbWVudCIsImVsZW1lbnRzT25seSIsIl9xdWVyeU5vZGVDaGlsZHJlbiIsIl9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyIsInJvb3ROYXRpdmVOb2RlIiwiZ2V0TmF0aXZlQnlUTm9kZU9yTnVsbCIsIl9hZGRRdWVyeU1hdGNoIiwibm9kZU9yQ29udGFpbmVyIiwiX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIiLCJoZWFkIiwibmV4dExWaWV3IiwibmV4dFROb2RlIiwiY2hpbGRWaWV3IiwiZGVidWdOb2RlIiwiZ2V0RGVidWdOb2RlUjIiLCJfbmF0aXZlTm9kZSIsIkRlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkiLCJzdXBwb3J0cyIsInRyYWNrQnlGbiIsIkRlZmF1bHRJdGVyYWJsZURpZmZlciIsInRyYWNrQnlJZGVudGl0eSIsIl9saW5rZWRSZWNvcmRzIiwiX3VubGlua2VkUmVjb3JkcyIsIl9wcmV2aW91c0l0SGVhZCIsIl9pdEhlYWQiLCJfaXRUYWlsIiwiX2FkZGl0aW9uc0hlYWQiLCJfYWRkaXRpb25zVGFpbCIsIl9tb3Zlc0hlYWQiLCJfbW92ZXNUYWlsIiwiX3JlbW92YWxzSGVhZCIsIl9yZW1vdmFsc1RhaWwiLCJfaWRlbnRpdHlDaGFuZ2VzSGVhZCIsIl9pZGVudGl0eUNoYW5nZXNUYWlsIiwiX3RyYWNrQnlGbiIsImZvckVhY2hJdGVtIiwiZm9yRWFjaE9wZXJhdGlvbiIsIm5leHRJdCIsIm5leHRSZW1vdmUiLCJhZGRSZW1vdmVPZmZzZXQiLCJtb3ZlT2Zmc2V0cyIsImN1cnJlbnRJbmRleCIsImdldFByZXZpb3VzSW5kZXgiLCJhZGpQcmV2aW91c0luZGV4IiwiX25leHRSZW1vdmVkIiwicHJldmlvdXNJbmRleCIsImxvY2FsTW92ZVByZXZpb3VzSW5kZXgiLCJsb2NhbEN1cnJlbnRJbmRleCIsIm9mZnNldCIsImZvckVhY2hQcmV2aW91c0l0ZW0iLCJfbmV4dFByZXZpb3VzIiwiZm9yRWFjaEFkZGVkSXRlbSIsIl9uZXh0QWRkZWQiLCJmb3JFYWNoTW92ZWRJdGVtIiwiX25leHRNb3ZlZCIsImZvckVhY2hSZW1vdmVkSXRlbSIsImZvckVhY2hJZGVudGl0eUNoYW5nZSIsIl9uZXh0SWRlbnRpdHlDaGFuZ2UiLCJjb2xsZWN0aW9uIiwiY2hlY2siLCJfcmVzZXQiLCJpdGVtVHJhY2tCeSIsIm1heUJlRGlydHkiLCJ0cmFja0J5SWQiLCJfdmVyaWZ5UmVpbnNlcnRpb24iLCJfYWRkSWRlbnRpdHlDaGFuZ2UiLCJfbWlzbWF0Y2giLCJpdGVyYXRlTGlzdExpa2UiLCJfdHJ1bmNhdGUiLCJpc0RpcnR5IiwicHJldmlvdXNSZWNvcmQiLCJfcHJldiIsIl9yZW1vdmUiLCJfcmVpbnNlcnRBZnRlciIsIl9tb3ZlQWZ0ZXIiLCJfYWRkQWZ0ZXIiLCJJdGVyYWJsZUNoYW5nZVJlY29yZF8iLCJyZWluc2VydFJlY29yZCIsIl9hZGRUb01vdmVzIiwibmV4dFJlY29yZCIsIl9hZGRUb1JlbW92YWxzIiwiX3VubGluayIsInByZXZSZWNvcmQiLCJfcHJldlJlbW92ZWQiLCJfaW5zZXJ0QWZ0ZXIiLCJfRHVwbGljYXRlTWFwIiwicHV0IiwidG9JbmRleCIsIl9wcmV2RHVwIiwiX25leHREdXAiLCJfRHVwbGljYXRlSXRlbVJlY29yZExpc3QiLCJfaGVhZCIsIl90YWlsIiwiYXRPckFmdGVySW5kZXgiLCJkdXBsaWNhdGVzIiwicmVjb3JkTGlzdCIsImlzRW1wdHkiLCJtb3ZlT2Zmc2V0IiwiRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSIsIkRlZmF1bHRLZXlWYWx1ZURpZmZlciIsIl9yZWNvcmRzIiwiX21hcEhlYWQiLCJfYXBwZW5kQWZ0ZXIiLCJfcHJldmlvdXNNYXBIZWFkIiwiX2NoYW5nZXNIZWFkIiwiX2NoYW5nZXNUYWlsIiwiZm9yRWFjaENoYW5nZWRJdGVtIiwiX25leHRDaGFuZ2VkIiwiX2ZvckVhY2giLCJfbWF5YmVBZGRUb0NoYW5nZXMiLCJfZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkiLCJfaW5zZXJ0QmVmb3JlT3JBcHBlbmQiLCJLZXlWYWx1ZUNoYW5nZVJlY29yZF8iLCJfYWRkVG9BZGRpdGlvbnMiLCJfYWRkVG9DaGFuZ2VzIiwiZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkiLCJJdGVyYWJsZURpZmZlcnMiLCJjb3BpZWQiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSIsIktleVZhbHVlRGlmZmVycyIsImt2Iiwia2V5VmFsRGlmZiIsIml0ZXJhYmxlRGlmZiIsImRlZmF1bHRJdGVyYWJsZURpZmZlcnMiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIiwicGxhdGZvcm1Db3JlIiwiQXBwbGljYXRpb25Nb2R1bGUiLCJjb21waWxlRGlyZWN0aXZlRGVjbGFyYXRpb24iLCJjb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24iLCJnZXRGYWN0b3J5S2luZCIsImNvbXBpbGVGYWN0b3J5RGVjbGFyYXRpb24iLCJjb21waWxlSW5qZWN0YWJsZURlY2xhcmF0aW9uIiwiY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24iLCJjb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbiIsImNvbXBpbGVQaXBlRGVjbGFyYXRpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsInRvU3RyaW5nVGFnIiwiU2lnbmFsaW5nU2VydmVyIiwiUHJvb2ZtZVV0aWxzIiwiU2lnbmFsU2VydmVyVjIiLCJnZXRTdWJEb21haW4iLCJjaGVja0tleUZvckRpZCJdLCJzb3VyY2VSb290IjoiIn0=