/*! For license information please see proofmeid-webrtc-web.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ProofmeId=t():e.ProofmeId=t()}(self,(function(){return(()=>{var e={869:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EClaimType=void 0,(n=t.EClaimType||(t.EClaimType={}))[n.SIGNED_CONTENT=1e3]="SIGNED_CONTENT",n[n.COMPANY_INFO=2e3]="COMPANY_INFO",n[n.VALIDATORS=2001]="VALIDATORS",n[n.USERS=2002]="USERS"},365:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EDIDAccessLevel=void 0,(n=t.EDIDAccessLevel||(t.EDIDAccessLevel={})).NONE="0",n.MANAGEMENT_KEY="1",n.ACTION_KEY="2",n.CLAIM_SIGNER_KEY="3",n.ENCRYPTION_KEY="4"},346:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EMimeType=void 0,(n=t.EMimeType||(t.EMimeType={})).AAC="audio/aac",n.ABW="application/x-abiword",n.ARC="application/x-freearc",n.AVI="video/x-msvideo",n.AZW="application/vnd.amazon.ebook",n.BIN="application/octet-stream",n.BMP="image/bmp",n.BZ="application/x-bzip",n.BZ2="application/x-bzip2",n.CSH="application/x-csh",n.CSS="text/css",n.CSV="text/csv",n.DOC="application/msword",n.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",n.EOT="application/vnd.ms-fontobject",n.EPUB="application/epub+zip",n.GZ="application/gzip",n.GIF="image/gif",n.HTM="text/html",n.HTML="text/html",n.ICO="image/vnd.microsoft.icon",n.ICS="text/calendar",n.JAR="application/java-archive",n.JPEG=".jpg",n.JS="text/javascript",n.JSON="application/json",n.JSONLD="application/ld+json",n.MID=".midi",n.MJS="text/javascript",n.MP3="audio/mpeg",n.MPEG="video/mpeg",n.MPKG="application/vnd.apple.installer+xml",n.ODP="application/vnd.oasis.opendocument.presentation",n.ODS="application/vnd.oasis.opendocument.spreadsheet",n.ODT="application/vnd.oasis.opendocument.text",n.OGA="audio/ogg",n.OGV="video/ogg",n.OGX="application/ogg",n.OPUS="audio/opus",n.OTF="font/otf",n.PNG="image/png",n.PDF="application/pdf",n.PHP="application/php",n.PPT="application/vnd.ms-powerpoint",n.PPTX="application/vnd.openxmlformats-officedocument.presentationml.presentation",n.RAR="application/vnd.rar",n.RTF="application/rtf",n.SH="application/x-sh",n.SVG="image/svg+xml",n.SWF="application/x-shockwave-flash",n.TAR="application/x-tar",n.TIF="image/tiff",n.TIFF="image/tiff",n.TS="video/mp2t",n.TTF="font/ttf",n.TXT="text/plain",n.URI="text/x-uri",n.VSD="application/vnd.visio",n.WAV="audio/wav",n.WEBA="audio/webm",n.WEBM="video/webm",n.WEBP="image/webp",n.WOFF="font/woff",n.WOFF2="font/woff2",n.XHTML="application/xhtml+xml",n.XLS="application/vnd.ms-excel",n.XLSX="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n.XML="XML",n.XUL="application/vnd.mozilla.xul+xml",n.ZIP="application/zip",n.GP3="video/3gpp",n.G23="video/3gpp2",n.Z7="application/x-7z-compressed"},945:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataPurpose=void 0,(n=t.EProofmeDataPurpose||(t.EProofmeDataPurpose={})).IDENTIFICATION="IDENTIFICATION",n.AGE_VERIFICATION="AGE_VERIFICATION",n.PROOFME_CONNECT="PROOFME_CONNECT",n.KYC_VERIFICATION="KYC_VERIFICATION",n.ACCESS_CONTROL="ACCESS_CONTROL"},491:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataStorage=void 0,(n=t.EProofmeDataStorage||(t.EProofmeDataStorage={})).DATABASE="DATABASE",n.CERTIFICATE="CERTIFICATE",n.NOT_STORED="NOT_STORED"},632:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ESignatureTypes=void 0,(n=t.ESignatureTypes||(t.ESignatureTypes={})).ECDSA="ECDSA",n.RSA="RSA",n.HMAC="HMAC"},390:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRTCConnectionConfig=t.validChannelId=void 0;const r=o(n(235));t.validChannelId=function(e,t){return 1===t.filter((t=>t.uuid===e&&null===t.channel&&!0===t.host)).length},t.getRTCConnectionConfig=function(e,t,n,o){const i=`${Math.floor(Date.now()/1e3)+t}:${e}`;return{iceCandidatePoolSize:5,iceServers:[{urls:o,credential:r.default.createHmac("sha1",n).update(i.toString()).digest("base64"),username:i}]}}},611:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtilsProvider=void 0;const s=n(810),a=i(n(9));class c{proofmeUtils=new s.ProofmeUtils;async isValidCredentials(e,t,n,o,r,i){return this.proofmeUtils.isValidCredentials(e,t,n,o,r,i)}getSignature(e,t){return this.proofmeUtils.getSignature(e,t)}signCredentialObject(e,t){return this.proofmeUtils.signCredentialObject(e,t)}signRequestedCredentials(e,t,n){return this.proofmeUtils.signRequestedCredentials(e,t,n)}async isValidRequestedCredentials(e,t,n){return this.proofmeUtils.isValidRequestedCredentials(e,t,n)}async getLicenseClaim(e,t,n){return this.proofmeUtils.getLicenseClaim(e,t,n)}async isValidLicenseCredentials(e,t,n){return this.proofmeUtils.isValidLicenseCredentials(e,t,n)}generateChallenge(e,t,n,o){return this.proofmeUtils.generateChallenge(e,t,n,o)}async getClaim(e,t,n,o){return await this.proofmeUtils.getClaim(e,t,n,o)}getContractAddressFromDid(e){return this.proofmeUtils.getContractAddressFromDid(e)}static ɵfac=function(e){return new(e||c)};static ɵprov=a.ɵɵdefineInjectable({token:c,factory:c.ɵfac})}t.ProofmeUtilsProvider=c},810:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtils=void 0;const r=o(n(519)),i=n(869),s=n(365),a=n(632),c=n(621);t.ProofmeUtils=class{excludedCredentialProviders=["OWN","ADDITIONAL_INFO","SIGNATURE","ADDRESS"];async isValidCredentials(e,t,n,o,i,s){const a=new r.default(t),c=this.requestedCredentialsCorrect(e,n);if(!c.success)return c.credentials=e,c;const l=await this.checkCredentials(e,t,i,s);if(!l.valid)return l;for(const e of o)a.utils.isAddress(e)||(console.error(`Trusted party did ${e} is NOT a valid address and is removed.`),o=o.filter((t=>t!==e)));if(o.length>0){const t=[];let n=0,r=0;const i=[];for(const[s]of Object.entries(e.credentials))if(!this.excludedCredentialProviders.includes(s))for(const[c,l]of Object.entries(e.credentials[s].credentials)){r++;const e=l.issuer.id.split(":")[2];let s=!1,u=null,f=null,d=!0;for(const r of o){const o=t.find((t=>t.issuerDidContractAddress===e&&t.did===r));let p=null;if(o?p=o.claim:(p=await this.getClaims(e,r,a),t.push({issuerDidContractAddress:e,did:r,claim:p})),p)if(d=!1,new Date(p.expirationDate)>new Date){const e=p.keys;f=e;const t=`${l.provider}_${c}`;if(!e.includes(t)){u=t;break}if(!u){n++,s=!0;break}}else i.push({credential:l,valid:!1,code:14,message:"Claim expired."})}d?i.push({credential:l,valid:!1,code:13,message:`No claims found to check. Checked dids ${o}`}):!u||s||i.push({credential:l,valid:!1,code:12,message:`Tried to validate attribute ${u} but provider was not allowed to issue. Allowed attributes: ${f.join(", ")}`})}return n===r?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential",requestedCheckResult:c}:{valid:!1,code:1,message:"Invalid credentials",invalidCredentials:i}}return{valid:!1,code:10,message:"No trusted parties to check."}}async checkCredentials(e,t,n,o){"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e);const i=new r.default(t),s=[];let a=0,l=0;const u=[];for(const[r]of Object.entries(e.credentials)){if(this.excludedCredentialProviders.includes(r))continue;const f={credentials:{[r]:JSON.parse(JSON.stringify(e.credentials[r]))}};delete f.credentials[r].proof.signature;const d=i.eth.accounts.recover(JSON.stringify(f),e.credentials[r].proof.signature);if(this.userCredentialSignatureWrong(e.credentials[r].proof.holder,d))for(const[,f]of Object.entries(e.credentials[r].credentials)){if(l++,!f.version){u.push({credential:f,code:8,message:"Incorrect credential version. Renew your credentials"});continue}const d=new Date(f.expirationDate),p=new Date;if(p>d){u.push({credential:f,code:7,message:`Your credential expired on ${d}`});continue}const h=new Date(e.credentials[r].proof.nonce);if(this.calculateMinutesDifference(p,h)>5&&n)u.push({credential:f,code:2,message:"Nonce too old"});else if(this.issuerCredentialSignatureWrong(f,i)){const n=f.proof.holder,l=f.issuer.id.split(":")[2];if(await this.correctDidContractKey(i,t,c.claimHolderAbi,n,l,s)){const n=e.credentials[r].proof.holder,l=f.id.split(":")[2];await this.correctDidContractKey(i,t,c.claimHolderAbi,n,l,s)?o&&void 0!==f.verified&&!0!==f.verified?u.push({credential:f,code:15,message:"Liveness check required but credential not verified"}):a++:u.push({credential:f,code:6,message:"User did incorrect"})}else u.push({credential:f,code:5,message:"Issuer did incorrect"})}else u.push({credential:f,code:4,message:"Issuer signature incorrect"})}else u.push({credential:e.credentials[r],code:3,message:"User signature incorrect"})}return a===l?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential"}:{valid:!1,code:1,message:"Invalid credential",invalidCredentials:u}}userCredentialSignatureWrong(e,t){return e===t||(console.error(`User signature of credential ${e} does not match recoveredAddress ${t}`),!1)}issuerCredentialSignatureWrong(e,t){const n=e.proof.signature,o=e.proof.holder,r=JSON.parse(JSON.stringify(e));delete r.proof.signature;const i=t.eth.accounts.recover(JSON.stringify(r),n);return o===i||(console.error(`Issuer signature of credential ${o} does not match recoveredAddress ${i}`),!1)}async correctDidContractKey(e,t,n,o,i,s){const a=s.find((e=>e.did==i&&e.holderKey===o));if(a)return a.result;{const a=[];if(i===o)return s.push({did:i,holderKey:o,result:!0}),!0;{const c=this.getSha3Key(o,e),l=new(new r.default(t).eth.Contract)(n,i);if(!this.knownAddressesContains(a,c,i)){const e=parseInt(await this.getKeyPurpose(l,c),10);if(0===e||e>3)return s.push({did:i,holderKey:o,result:!1}),!1;a.push({sha3Key:c,didAddress:i})}return s.push({did:i,holderKey:o,result:!0}),!0}}}knownAddressesContains(e,t,n){for(const o of e)if(o.sha3Key===t&&o.didContractAddress===n)return!0}getSha3Key(e,t){return t.utils.keccak256(e)}async getKeyPurpose(e,t){return null===e.options.address?Promise.resolve(null):await e.methods.getKeyPurpose(t).call()}calculateMinutesDifference(e,t){let n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}reOrderCredentialObject(e){for(const t of Object.keys(e.credentials)){const n=[];for(const o of Object.keys(e.credentials[t].credentials))n.push(o);n.sort();const o={};for(const r of n){const n=this.reOrderCredential(e.credentials[t].credentials[r]);o[r]=n}e.credentials[t].proof=this.reOrderCredentialProof(e.credentials[t].proof),e.credentials[t]={credentials:o,proof:e.credentials[t].proof}}return e}reOrderCredential(e){return this.sortObjectAlphabetically(e)}sortObjectAlphabetically(e){const t={},n=Object.keys(e);n.sort(((e,t)=>(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0));for(const o in n){const r=n[o];null===e[r]||"object"!=typeof e[r]||e[r]instanceof Array?t[r]=e[r]:t[r]=this.sortObjectAlphabetically(e[r])}return t}reOrderCredentialProof(e){return{holder:e.holder,nonce:e.nonce,signature:e.signature,type:e.type}}getSignature(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderObject(e),(new r.default).eth.accounts.sign(JSON.stringify(e),t).signature}reOrderObject(e){return this.sortObjectAlphabetically(e)}signCredentialObject(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e),(new r.default).eth.accounts.sign(JSON.stringify(e),t).signature}async getClaims(e,t,n){const o=new n.eth.Contract(c.claimHolderAbi,t),r=await o.methods.getClaimIdsByType(e).call();if(!(r.length>0))return Promise.resolve(null);try{const e=await o.methods.getClaim(r[r.length-1]).call(),t=JSON.parse(n.utils.toAscii(e.data));return Promise.resolve(t)}catch(e){return Promise.resolve(null)}}async getClaim(e,t,n,o){const i=new r.default(n),s=new i.eth.Contract(o,t),a=await s.methods.getClaimIdsByType(e).call();if(!(a.length>0))return Promise.resolve(null);try{const e=await s.methods.getClaim(a[a.length-1]).call(),t=i.utils.toAscii(e.data);if(t.length>1){const e=JSON.parse(t);return Promise.resolve(e)}return Promise.resolve(null)}catch(e){return console.log("Error: ",e),Promise.resolve(null)}}requestedCredentialsCorrect(e,t){const n={success:!0,missingKeys:[]};for(const o of t.credentials)if(o.required&&"ADDITIONAL_INFO"===o.provider){const t=Object.keys(e.credentials[o.provider].credentials);for(const r of t){const t=e.credentials[o.provider].credentials[r];t.required&&t.key.find((e=>!e.answer))&&(n.success=!1,n.missingKeys.push(t))}}else if(o.required){Array.isArray(o.provider)||(o.provider=[o.provider]);let t=!1;for(const n of o.provider)e.credentials[n]&&e.credentials[n].credentials&&e.credentials[n].credentials[o.key]&&(t=!0);t||(n.success=!1,n.missingKeys.push(o))}return n}recoverAddressFromSignature(e,t,n){const o=new r.default;return!0===n?(e=this.sortObjectAlphabetically(JSON.parse(e)),o.eth.accounts.recover(JSON.stringify(e),t)):o.eth.accounts.recover(e,t)}signRequestedCredentials(e,t,n){e.proof={holder:t,nonce:Date.now(),type:a.ESignatureTypes.ECDSA};const o=this.getSignature(e,n);return e.proof.signature=o,e}async isValidRequestedCredentials(e,t,n){if(e?.proof?.signature){const o=JSON.parse(JSON.stringify(e));delete o.proof.signature;const i=this.recoverAddressFromSignature(JSON.stringify(o),e.proof.signature,!0),a=new r.default(t),c=e.id;if(i!==e.proof.holder)return console.error(`Recovered address ${i} does not match holder address ${e.proof.holder}`),!1;const l=new a.eth.Contract(n,this.getContractAddressFromDid(c)),u=this.getSha3Key(i,a),f=await this.getKeyPurpose(l,u);return f===s.EDIDAccessLevel.MANAGEMENT_KEY||f===s.EDIDAccessLevel.ACTION_KEY}return console.error("Requested Credentials doesn't have a signature in the proof. Not checking"),!1}async getLicenseClaim(e,t,n){const o=e.id;return await this.getClaim(i.EClaimType.COMPANY_INFO,this.getContractAddressFromDid(o),t,n)}async isValidLicenseCredentials(e,t,n){if(e?.proof?.signature){const o=JSON.parse(JSON.stringify(e));delete o.proof.signature;const i=this.recoverAddressFromSignature(JSON.stringify(o),e.proof.signature,!0),a=new r.default(t);if(i!==o.proof.holder)return console.error(`Recovered address ${i} does not match holder address ${o.proof.holder}`),!1;const c=o.issuer.id.replace(/(did:didux|:)/g,""),l=new a.eth.Contract(n,c),u=this.getSha3Key(i,a),f=await this.getKeyPurpose(l,u);return f!==s.EDIDAccessLevel.MANAGEMENT_KEY&&f!==s.EDIDAccessLevel.ACTION_KEY?(console.error(`Keypurpose ${f} not MANAGEMENT_KEY or ACTION_KEY`),!1):new Date>new Date(e.expirationDate)?(console.error(`Claim expired on ${e.expirationDate}. Please re-new`),!1):e.credentialSubject.credential.value.status}return console.error("Requested Credentials doesn't have a signature in the proof. Not checking. Probably this license has not been approved yet? Unapproved licences don't have a proof, only claim info"),!1}privateKeyToPublicKey(e){return(new r.default).eth.accounts.privateKeyToAccount(e).address}generateChallenge(e,t,n,o){const i=new r.default,s=Math.floor(Date.now()/1e3).toString(),a=`${e}-${t}-${n}-${s}`;return{did:t,publicKey:e,endpoint:n,timestamp:s,challenge:a,signature:i.eth.accounts.sign(a,o).signature}}getContractAddressFromDid(e){let t=e;const n=e.split(":");if(2===n.length)return console.error("Unsupported did:",e),null;if(3===n.length){if("did"!==n[0])return console.error("Unsupported did:",e),null;if("didux"!==n[1])return console.error("Unsupported chain:",n[1]),null;t=n[2]}return t}}},930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalServerV2=void 0;const o=n(964),r=n(828),i=n(367),s=n(390),a=n(914);t.SignalServerV2=class{wsServer;wsRequest$=new o.Subject;startSignal(e){this.wsServer=new i.server({httpServer:e,autoAcceptConnections:!1}),this.wsServer.on("request",(async e=>{this.wsRequest$.next(e)}))}sendTo(e,t){e?e.sendUTF(JSON.stringify(t)):console.error("Tried to send this over undefined connection:",t)}rejectConnection(e,t){t.reject(),console.error((new Date).toISOString()+" "+e),console.error((new Date).toISOString()+" Connection from remoteAddress "+t.remoteAddresses+" rejected.")}async setupP2PConnection(e,t,n,o,i,c,l,u,f,d,p,h){const g=e.accept(null,e.origin);if(console.log(`Library - Accepted ${e.origin} valid signed ${t}`),g.uuid=(0,r.v4)(),g.did=t?e?.resourceURL?.query?.did?.toString():null,g.publicKey=t?e?.resourceURL?.query?.publickey?.toString():null,g.authenticated=t,g.channel=n,this.setupWebsocketListeners(g),"validator"===h&&t&&null===n||o&&null===n){g.host=!0,g.origin=h;const e=(0,s.getRTCConnectionConfig)("host",i,l,c);console.log("Library - Host waiting for connection"),this.sendTo(g,{type:"host",success:!0,message:`Host initialised ${g.uuid}`,channelId:g.uuid,signalServer:u,..."validator"===h&&{webRtcConnectionConfig:e}}),"validator"!==h&&(g.webRtcClient=new a.WebRTCClientV2(e,f,g,d,p),await g.webRtcClient.setupPeerconnection(g.uuid))}else if(null!==n){const e=this.wsServer.connections.find((e=>e.uuid===n&&null===e.channel&&!0===e.host));if(e){e.channel=g.uuid,g.channel=e.uuid,console.log(`Library - Client connecting to ${n}`);const t=(0,s.getRTCConnectionConfig)("client",i,l,c);this.sendTo(g,{type:"client",success:!0,message:`Client initialised ${g.uuid}`,channelId:n,webRtcConnectionConfig:t}),"validator"!==e.origin&&(e.webRtcClient.clientChannel=g,e.webRtcClient.data={...e.webRtcClient.data,clientData:p})}else g.close()}else console.error("Library - Not a client or host"),g.close();return g}setupWebsocketListeners(e){e.on("message",(async t=>{let n;try{"utf8Data"in t&&(n=JSON.parse(t.utf8Data))}catch(e){console.error("Library - Websocket connection invalid JSON",e),n={type:null}}const{type:o,offer:r,answer:i,candidate:s}=n;switch(o){case"offer":if(!e.host&&e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid&&!0===t.host));t?"validator"===t.origin?this.sendTo(t,{type:"offer",success:!0,message:"Client shared an offer",offer:r}):(await t.webRtcClient.setRemoteDescription(r),await t.webRtcClient.sendAnswer()):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close();break;case"answer":if(e.host&&e.channel&&"validator"===e.origin){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));t?this.sendTo(t,{type:"answer",success:!0,message:"Client shared an answer",answer:i}):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close();break;case"candidate":if(e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));t?"validator"===t.origin||"validator"===e.origin?this.sendTo(t,{type:"candidate",success:!0,message:"Candidate shared",candidate:s}):t.webRtcClient.addCandidate(s):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close()}})),e.on("close",((t,n)=>{console.log(`Library - ${(new Date).toISOString()} - Peer ${e.remoteAddress} disconnected, Reason ${t}, description ${n}`)}))}}},515:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingServer=void 0;const s=i(n(352)),a=n(828),c=i(n(85));t.SignalingServer=class{wsServer;rtcConnectionConfig;setRTCConnectionConfig(e){this.rtcConnectionConfig=e}getRTCConnectionConfig(e){if(this.rtcConnectionConfig.turnEnabled){const t=`${Math.floor(Date.now()/1e3)+this.rtcConnectionConfig.turnExpiration}:${e}`,n=c.createHmac("sha1",this.rtcConnectionConfig.turnSecret).update(t.toString()).digest("base64");return{iceCandidatePoolSize:5,iceServers:[{urls:this.rtcConnectionConfig.turnUrl,credential:n,username:t}]}}if(this.rtcConnectionConfig.stunEnabled)return{iceServers:[{urls:this.rtcConnectionConfig.stunUrl}]}}startSignal(e){this.wsServer=new s.Server({server:e});const t=(e,t)=>{e.send(JSON.stringify(t))};this.wsServer.on("connection",(e=>{e.uuid=(0,a.v4)(),e.did=null,e.host=!1,e.authenticated=!1,e.connected=null,e.on("error",(e=>{})),e.on("message",(n=>{let o;try{o=JSON.parse(n)}catch(e){o={}}const{type:r,token:i,host:s,offer:c,answer:l,candidate:u}=o;switch(r){case"auth":i?(e.authenticated=!0,t(e,{type:"AUTH",success:!0,message:"Authentication successful"})):t(e,{type:"auth",success:!1,message:"Could not validate token"});break;case"host":e.host=!0,t(e,{type:"host",success:!0,message:"Host initialised "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")});break;case"ping":t(e,{type:"pong"});break;case"connect":{const n=[...this.wsServer.clients].filter((e=>e.uuid===s&&null===e.connected&&!0===e.host));1===n.length?(t(n[0],{type:"connected",success:!0,message:"Client connected "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")}),t(e,{type:"connected",success:!0,message:"Connected to "+s,webRtcConnectionConfig:this.getRTCConnectionConfig("client")}),e.connected=n[0].uuid,n[0].connected=e.uuid):t(e,{type:"connected",success:!1,message:"Could not connect to "+s});break}case"offer":if(null!=e.connected&&this.wsServer.clients.size>0){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"offer",success:!0,offer:c}),t(e,{type:"offer",success:!0,offer:c})):t(e,{type:"offer",success:!1,offer:c,message:"Connection not found."})}else t(e,{type:"offer",success:!1,offer:c,message:"Too soon..."});break;case"answer":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"answer",success:!0,answer:l}),t(e,{type:"answer",success:!0,answer:l})):t(e,{type:"answer",success:!1,answer:l,message:"Connection not found."})}else t(e,{type:"answer",success:!1,answer:l,message:"Too soon..."});break;case"candidate":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?t(n[0],{type:"candidate",success:!0,candidate:u}):t(e,{type:"candidate",success:!1,candidate:u,message:"Connection not found."})}else t(e,{type:"candidate",success:!1,candidate:u,message:"Too soon..."});break;case"leave":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));e.uuid=(0,a.v4)(),1===n.length?(t(n[0],{type:"leave",success:!0,message:"Connection left on receive leave"}),n[0].connected=null,t(e,{type:"leave",success:!0,message:"Connection left.",uuid:e.uuid})):t(e,{type:"leave",success:!1,message:"Connection not found.",uuid:e.uuid}),e.connected=null}else e.uuid=(0,a.v4)(),t(e,{type:"leave",success:!1,message:"Not connected to host/client.",uuid:e.uuid});break;default:t(e,{type:"error",message:"Command not found: "+r})}})),e.on("close",((e,n,o)=>{if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length&&(t(n[0],{type:"leave",success:!0,message:"Connection left on websocket close"}),n[0].connected=null),e.connected=null}})),e.send(JSON.stringify({type:"connect",message:"Well hello there, I am the Signaling Server",success:!0}))}))}}},621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.claimHolderAbi=void 0,t.claimHolderAbi=[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}]},906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Identity=void 0,t.Identity={abi:[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_str",type:"bytes"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getBytes",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getString",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_claimType",type:"uint256[]"},{name:"_scheme",type:"uint256[]"},{name:"_issuer",type:"address[]"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"},{name:"_sigSizes",type:"uint256[]"},{name:"dataSizes",type:"uint256[]"},{name:"uriSizes",type:"uint256[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}],data:"60806040523480156200001157600080fd5b50604051620033333803806200333383398101806040528101908080518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919050505060008060008060008033604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209050806001600083600019166000191681526020019081526020016000206002018160001916905550600180600083600019166000191681526020019081526020016000206000018190555060018060008360001916600019168152602001908152602001600020600101819055506002600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550600180600083600019166000191681526020019081526020016000206000015482600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a450600093506000925060009150600090505b8d51811015620007ba578b818151811015156200020f57fe5b906020019060200201518e828151811015156200022857fe5b90602001906020020151604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401828152602001925050506040518091039020945060c0604051908101604052808f83815181101515620002a657fe5b9060200190602002015181526020018e83815181101515620002c457fe5b9060200190602002015181526020018d83815181101515620002e257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1681526020016200033b8d878c868151811015156200031c57fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003748c858b868151811015156200035557fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003ad8b868a868151811015156200038e57fe5b90602001906020020151620008da640100000000026401000000009004565b815250600460008760001916600019168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301908051906020019062000444929190620009ec565b50608082015181600401908051906020019062000463929190620009ec565b5060a08201518160050190805190602001906200048292919062000a73565b5090505087818151811015156200049557fe5b90602001906020020151840193508581815181101515620004b257fe5b90602001906020020151830192508681815181101515620004cf57fe5b906020019060200201518201915060046000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600087600019166000191681526020019081526020016000206000015486600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c5600460008a6000191660001916815260200190815260200160002060010154600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501604051808581526020018060200180602001806020018481038452878181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156200068b5780601f106200065f576101008083540402835291602001916200068b565b820191906000526020600020905b8154815290600101906020018083116200066d57829003601f168201915b5050848103835286818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007125780601f10620006e65761010080835404028352916020019162000712565b820191906000526020600020905b815481529060010190602001808311620006f457829003601f168201915b5050848103825285818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007995780601f106200076d5761010080835404028352916020019162000799565b820191906000526020600020905b8154815290600101906020018083116200077b57829003601f168201915b505097505050505050505060405180910390a48080600101915050620001f6565b505050505050505050505050505062000b22565b606080600080846040519080825280601f01601f191660200182016040528015620008085781602001602082028038833980820191505090505b509250600091508590505b848601811015620008cd5786818151811015156200082d57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200088757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000813565b8293505050509392505050565b6060806060600080879350856040519080825280601f01601f191660200182016040528015620009195781602001602082028038833980820191505090505b509250600091508690505b858701811015620009de5783818151811015156200093e57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200099857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000924565b829450505050509392505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000a2f57805160ff191683800117855562000a60565b8280016001018555821562000a60579182015b8281111562000a5f57825182559160200191906001019062000a42565b5b50905062000a6f919062000afa565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000ab657805160ff191683800117855562000ae7565b8280016001018555821562000ae7579182015b8281111562000ae657825182559160200191906001019062000ac9565b5b50905062000af6919062000afa565b5090565b62000b1f91905b8082111562000b1b57600081600090555060010162000b01565b5090565b90565b6128018062000b326000396000f3006080604052600436106100d0576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063032c1a8a146100d557806312aaac701461011a5780631d38124014610175578063262b54f5146101d25780634eee424a146102545780635d2cfd611461029d578063747442d314610393578063862642f5146103e45780639010f7261461042d578063b1a34e0d146104af578063b61d27f6146105f4578063c9100bcb1461069b578063d202158d1461085e578063df9319be146108b1575b600080fd5b3480156100e157600080fd5b5061010460048036038101908080356000191690602001909291905050506109a7565b6040518082815260200191505060405180910390f35b34801561012657600080fd5b5061014960048036038101908080356000191690602001909291905050506109cf565b604051808481526020018381526020018260001916600019168152602001935050505060405180910390f35b34801561018157600080fd5b506101b860048036038101908080356000191690602001909291908035906020019092919080359060200190929190505050610a3e565b604051808215151515815260200191505060405180910390f35b3480156101de57600080fd5b506101fd60048036038101908080359060200190929190505050610cf7565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610240578082015181840152602081019050610225565b505050509050019250505060405180910390f35b34801561026057600080fd5b506102836004803603810190808035600019169060200190929190505050610d66565b604051808215151515815260200191505060405180910390f35b3480156102a957600080fd5b50610318600480360381019080803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190803590602001909291905050506111e4565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561035857808201518184015260208101905061033d565b50505050905090810190601f1680156103855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561039f57600080fd5b506103ca600480360381019080803590602001909291908035151590602001909291905050506112eb565b604051808215151515815260200191505060405180910390f35b3480156103f057600080fd5b5061041360048036038101908080356000191690602001909291905050506117ff565b604051808215151515815260200191505060405180910390f35b34801561043957600080fd5b506104586004803603810190808035906020019092919050505061196a565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561049b578082015181840152602081019050610480565b505050509050019250505060405180910390f35b3480156104bb57600080fd5b506105d66004803603810190808035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506119d9565b60405180826000191660001916815260200191505060405180910390f35b34801561060057600080fd5b50610685600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611efe565b6040518082815260200191505060405180910390f35b3480156106a757600080fd5b506106ca60048036038101908080356000191690602001909291905050506121e0565b604051808781526020018681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015610750578082015181840152602081019050610735565b50505050905090810190601f16801561077d5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b838110156107b657808201518184015260208101905061079b565b50505050905090810190601f1680156107e35780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b8381101561081c578082015181840152602081019050610801565b50505050905090810190601f1680156108495780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b34801561086a57600080fd5b506108976004803603810190808035600019169060200190929190803590602001909291905050506124aa565b604051808215151515815260200191505060405180910390f35b3480156108bd57600080fd5b5061092c600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919080359060200190929190505050612513565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561096c578082015181840152602081019050610951565b50505050905090810190601f1680156109995780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000600160008360001916600019168152602001908152602001600020600001549050919050565b60008060006001600085600019166000191681526020019081526020016000206000015460016000866000191660001916815260200190815260200160002060010154600160008760001916600019168152602001908152602001600020600201549250925092509193909250565b60008360001916600160008660001916600019168152602001908152602001600020600201546000191614151515610ade576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f4b657920616c726561647920657869737473000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610c0957610b6e33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610c08576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8360016000866000191660001916815260200190815260200160002060020181600019169055508260016000866000191660001916815260200190815260200160002060000181905550816001600086600019166000191681526020019081526020016000206001018190555060026000848152602001908152602001600020849080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550818385600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b606060056000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610d5a57602002820191906000526020600020905b81546000191681526020019060010190808311610d42575b50505050509050919050565b60003073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e9357610df833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610e92576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600084600019166000191681526020019081526020016000206000015483600019167f3cf57863a89432c61c4a27073c6ee39e8a764bff5a05aebfbcdcdc80b2e6130a60046000876000191660001916815260200190815260200160002060010154600460008860001916600019168152602001908152602001600020600301600460008960001916600019168152602001908152602001600020600401600460008a600019166000191681526020019081526020016000206005016040518085815260200180602001806020018060200184810384528781815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561103d5780601f106110125761010080835404028352916020019161103d565b820191906000526020600020905b81548152906001019060200180831161102057829003601f168201915b50508481038352868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156110c05780601f10611095576101008083540402835291602001916110c0565b820191906000526020600020905b8154815290600101906020018083116110a357829003601f168201915b50508481038252858181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156111435780601f1061111857610100808354040283529160200191611143565b820191906000526020600020905b81548152906001019060200180831161112657829003601f168201915b505097505050505050505060405180910390a460046000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556003820160006111b99190612620565b6004820160006111c99190612620565b6005820160006111d99190612668565b505060019050919050565b606080600080846040519080825280601f01601f19166020018201604052801561121d5781602001602082028038833980820191505090505b509250600091508590505b8486018110156112de57868181518110151561124057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838381518110151561129957fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535081806001019250508080600101915050611228565b8293505050509392505050565b600061134833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b15156113bc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f53656e64657220646f6573206e6f74206861766520616374696f6e206b65790081525060200191505060405180910390fd5b827fb3932da477fe5d6c8ff2eafef050c0f3a1af18fc07121001482600f36f3715d883604051808215151515815260200191505060405180910390a26001151582151514156117c55760016003600085815260200190815260200160002060030160006101000a81548160ff0219169083151502179055506003600084815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660036000858152602001908152602001600020600201600060405180838054600181600116156101000203166002900480156114fe5780601f106114d3576101008083540402835291602001916114fe565b820191906000526020600020905b8154815290600101906020018083116114e157829003601f168201915b50508260ff168152602001925050506000604051808303816000865af19150509050801561168d5760016003600085815260200190815260200160002060030160016101000a81548160ff02191690831515021790555060036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847f1f920dbda597d7bf95035464170fa58d0a4b57f13a1c315ace6793b9f63688b860036000888152602001908152602001600020600201604051808060200182810382528381815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561167a5780601f1061164f5761010080835404028352916020019161167a565b820191906000526020600020905b81548152906001019060200180831161165d57829003601f168201915b50509250505060405180910390a46117f9565b60036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847fe10c49d9f7c71da23262367013434763cfdb2332267641728d25cd712c5c6a686003600088815260200190815260200160002060020160405180806020018281038252838181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156117b25780601f10611787576101008083540402835291602001916117b2565b820191906000526020600020905b81548152906001019060200180831161179557829003601f168201915b50509250505060405180910390a46117f9565b60006003600085815260200190815260200160002060030160006101000a81548160ff021916908315150217905550600190505b92915050565b60008160001916600160008460001916600019168152602001908152602001600020600201546000191614151561189e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f4e6f2073756368206b657900000000000000000000000000000000000000000081525060200191505060405180910390fd5b600160008360001916600019168152602001908152602001600020600101546001600084600019166000191681526020019081526020016000206000015460016000856000191660001916815260200190815260200160002060020154600019167f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460016000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160009055505060019050919050565b6060600260008381526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156119cd57602002820191906000526020600020905b815460001916815260200190600101908083116119b5575b50505050509050919050565b6000808588604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182815260200192505050604051809103902090503073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611b6257611ac733604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060036124aa565b1515611b61576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001807f53656e64657220646f6573206e6f74206861766520636c61696d207369676e6581526020017f72206b657900000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8573ffffffffffffffffffffffffffffffffffffffff1660046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141515611c1957600560008981526020019081526020016000208190806001815401808255809150509060018203906000526020600020016000909192909190915090600019169055505b876004600083600019166000191681526020019081526020016000206000018190555086600460008360001916600019168152602001908152602001600020600101819055508560046000836000191660001916815260200190815260200160002060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550846004600083600019166000191681526020019081526020016000206003019080519060200190611cee9291906126b0565b50836004600083600019166000191681526020019081526020016000206004019080519060200190611d219291906126b0565b50826004600083600019166000191681526020019081526020016000206005019080519060200190611d54929190612730565b508573ffffffffffffffffffffffffffffffffffffffff168882600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c58a89898960405180858152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015611de5578082015181840152602081019050611dca565b50505050905090810190601f168015611e125780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015611e4b578082015181840152602081019050611e30565b50505050905090810190601f168015611e785780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015611eb1578082015181840152602081019050611e96565b50505050905090810190601f168015611ede5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a4809150509695505050505050565b6000600360008054815260200190815260200160002060030160019054906101000a900460ff16151515611f9a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f416c72656164792065786563757465640000000000000000000000000000000081525060200191505060405180910390fd5b83600360008054815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508260036000805481526020019081526020016000206001018190555081600360008054815260200190815260200160002060020190805190602001906120379291906126b0565b50828473ffffffffffffffffffffffffffffffffffffffff166000547f8afcfabcb00e47a53a8fc3e9f23ff47ee1926194bb1350dd007c50b412a6cee8856040518080602001828103825283818151815260200191508051906020019080838360005b838110156120b557808201518184015260208101905061209a565b50505050905090810190601f1680156120e25780820380516001836020036101000a031916815260200191505b509250505060405180910390a461214a33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b806121ac57506121ab33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b5b156121c0576121be60005460016112eb565b505b600080815480929190600101919050555060016000540390509392505050565b600080600060608060606004600088600019166000191681526020019081526020016000206000015460046000896000191660001916815260200190815260200160002060010154600460008a6000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501828054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123565780601f1061232b57610100808354040283529160200191612356565b820191906000526020600020905b81548152906001019060200180831161233957829003601f168201915b50505050509250818054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123f25780601f106123c7576101008083540402835291602001916123f2565b820191906000526020600020905b8154815290600101906020018083116123d557829003601f168201915b50505050509150808054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561248e5780601f106124635761010080835404028352916020019161248e565b820191906000526020600020905b81548152906001019060200180831161247157829003601f168201915b5050505050905095509550955095509550955091939550919395565b6000806000600102600160008660001916600019168152602001908152602001600020600201546000191614156124e4576000915061250c565b8260016000866000191660001916815260200190815260200160002060000154111590508091505b5092915050565b6060806060600080879350856040519080825280601f01601f1916602001820160405280156125515781602001602082028038833980820191505090505b509250600091508690505b85870181101561261257838181518110151561257457fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156125cd57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505061255c565b829450505050509392505050565b50805460018160011615610100020316600290046000825580601f106126465750612665565b601f01602090049060005260206000209081019061266491906127b0565b5b50565b50805460018160011615610100020316600290046000825580601f1061268e57506126ad565b601f0160209004906000526020600020908101906126ac91906127b0565b5b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106126f157805160ff191683800117855561271f565b8280016001018555821561271f579182015b8281111561271e578251825591602001919060010190612703565b5b50905061272c91906127b0565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061277157805160ff191683800117855561279f565b8280016001018555821561279f579182015b8281111561279e578251825591602001919060010190612783565b5b5090506127ac91906127b0565b5090565b6127d291905b808211156127ce5760008160009055506001016127b6565b5090565b905600a165627a7a723058200017634e62c856198c9c8d204756bd9ed5e12ca97b230682c6cc941e813b81330029"}},733:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubDomain=void 0,t.getSubDomain=function(e){return e?.replace("http://","").replace("https://","").split(":")[0]}},918:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkKeyForDid=void 0;const r=n(906),i=o(n(519));t.checkKeyForDid=async function(e,t,n,o){try{const s=new i.default(e),a=new s.eth.Contract(r.Identity.abi,t),c=s.utils.sha3(n);return await a.methods.keyHasPurpose(c,o).call()}catch(e){return console.log("Library - Something went wrong: "+e),!1}}},299:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcProvider=void 0;const s=n(964),a=n(553),c=n(367),l=i(n(9));class u{webRtcConfig;hostUuid;peerConnection=null;dataChannel=null;wsClient=null;receivedActions$=new s.BehaviorSubject(null);uuid$=new s.BehaviorSubject(null);websocketMessage$=new s.BehaviorSubject(null);websocketConnectionClosed$=new s.BehaviorSubject(null);websocketConnectionOpen$=new s.BehaviorSubject(null);websocketConnectionError$=new s.BehaviorSubject(null);webRtcConnectionConfig;connectionTimeout=null;pongCheckInterval=null;pingTimeout=null;WEBSOCKET_PING_ANSWER_DELAY=1e3;WEBSOCKET_PING_PONG_ALLOWED_TIME=3e3;getConfig(){return this.webRtcConfig}setHostUuid(e){this.hostUuid=e}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}'`),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Websocket - Attempted to send data with action ${e} but data channel is not open`)}sendWebsocketData(e,t){return this.wsClient&&this.wsClient.readyState===this.wsClient.OPEN?(this.wsClient.send(JSON.stringify({action:e,...t})),!0):(console.error(`Websocket - Attempted to send data with action ${e} but websocket channel is not open`),!1)}getWebsocket(){return this.wsClient}setUuid(e){this.uuid$.next(e)}disconnect(){clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),this.peerConnection&&this.peerConnection.close(),this.dataChannel&&this.dataChannel.close(),this.wsClient&&(this.wsClient.close(),this.wsClient.onclose=null),this.peerConnection=null,this.dataChannel=null,this.wsClient=null,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)}remoteDisconnect(){this.dataChannel&&"open"===this.dataChannel.readyState&&this.dataChannel.send(JSON.stringify({action:"disconnect"})),setTimeout((()=>{this.disconnect()}),1e3)}async sendOffer(e,t){const n=await e.createOffer();await e.setLocalDescription(n),t.send(JSON.stringify({type:"offer",offer:n}))}async launchWebsocketClient(e,t){this.webRtcConfig=e;let n=null;this.receivedActions$=new s.BehaviorSubject(null),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.uuid$=new s.BehaviorSubject(null),this.websocketMessage$=new s.BehaviorSubject(null),this.websocketConnectionClosed$=new s.BehaviorSubject(null),this.websocketConnectionOpen$=new s.BehaviorSubject(null),this.websocketConnectionError$=new s.BehaviorSubject(null);let o=this.webRtcConfig.signalingUrl;o||(console.log("Launch websocket - URL undefined, falling back to default"),o="wss://auth.proofme.id"),console.log("Launch websocket - Client URL:",o),console.log("Launch websocket - Channel:",e.channel),console.log("Launch websocket - Headers:",t);let r=null;r=o.includes("?")?`${o}&channel=${e.channel}`:`${o}?channel=${e.channel}`,e.data&&(r=`${r}&data=${e.data}`),e.keepalive&&(r=`${r}&keepalive=${e.keepalive}`),this.wsClient=new c.w3cwebsocket(r,null,null,t),this.connectionTimeout=setTimeout((()=>{!0!==n&&(this.websocketConnectionError$.next(!0),this.wsClient&&this.wsClient.close())}),1e4),this.wsClient.onerror=e=>{console.log("Websocket - Error: "+e.toString()),n=!1,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1),this.websocketConnectionError$.next(!0)},this.wsClient.onclose=()=>{console.log("Websocket - Connection closed"),this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)},this.wsClient.onopen=()=>{console.log("Websocket - Connection open"),n=!0,this.websocketConnectionClosed$.next(!1),this.websocketConnectionOpen$.next(!0)},this.wsClient.onmessage=async e=>{if(console.log("Websocket - Message:",e),this.websocketMessage$.next(e),e.data){let t;try{t=JSON.parse(e.data)}catch(e){console.error("Websocket - Message was not JSON"),t={}}const{type:n,message:o,success:r,channelId:i,offer:s,answer:c,candidate:l,webRtcConnectionConfig:u}=t;switch(n){case"error":console.log("Websocket - Error message:",o),"Command not found: ping"==o&&(clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{console.log(`Websocket - Ping pong took more than ${this.WEBSOCKET_PING_PONG_ALLOWED_TIME}ms. Disconnecting`),this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing());break;case"connect":if(r)if(this.webRtcConfig.isHost){const e=500;let t=0;const n=setInterval((()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"host"}))),t>=e&&clearInterval(n),t++}),50)}else{const e=500;let t=0;const n=setInterval((async()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"connect",host:this.hostUuid}))),t>=e&&clearInterval(n),t++}),50)}break;case"connected":clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),u&&(this.webRtcConnectionConfig=u,this.webRtcConfig.isHost||await this.setupPeerconnection(this.hostUuid)),i&&this.webRtcConfig.isHost&&await this.sendOffer(this.peerConnection,this.wsClient);break;case"pong":clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing();break;case"offer":if(s){await this.peerConnection.setRemoteDescription(new a.RTCSessionDescription(s));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.wsClient.send(JSON.stringify({type:"answer",answer:e}))}break;case"host":i&&this.webRtcConfig.isHost&&(this.setUuid(i),u&&(this.webRtcConnectionConfig=u),await this.setupPeerconnection(i),this.sendPing());break;case"leave":this.setUuid(null),this.disconnect();break;case"answer":c&&await this.peerConnection.setRemoteDescription(new a.RTCSessionDescription(c));break;case"candidate":if(l){const e=new a.RTCIceCandidate(l);await this.peerConnection.addIceCandidate(e)}break;case"client":u&&(this.webRtcConnectionConfig=u,this.webRtcConfig.isHost||(await this.setupPeerconnection(this.hostUuid),await this.sendOffer(this.peerConnection,this.wsClient)))}}}}sendPing(){this.pingTimeout=setTimeout((()=>{1===this.wsClient.readyState&&this.wsClient.send(JSON.stringify({type:"ping"}))}),this.WEBSOCKET_PING_ANSWER_DELAY)}async setupPeerconnection(e){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.sendP2PData("clientconnected",{success:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new a.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}async setupClientPeerconnection(){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.sendP2PData("clientconnected",{success:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new a.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}static ɵfac=function(e){return new(e||u)};static ɵprov=l.ɵɵdefineInjectable({token:u,factory:u.ɵfac})}t.WebRtcProvider=u},914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCClientV2=void 0;const o=n(964),r=n(553);t.WebRTCClientV2=class{peerConnection=null;dataChannel=null;clientChannel;webRtcConnectionConfig;requestedCredentials;hostWsConnection;actionType;dataChannelOpen$=new o.Subject;dataChannelMessage$=new o.Subject;data;constructor(e,t,n,o,r){this.webRtcConnectionConfig=e,this.requestedCredentials=t,this.hostWsConnection=n,this.actionType=o,this.data=r}async setupPeerconnection(e){this.peerConnection=new r.RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new r.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.clientChannel.sendUTF(JSON.stringify({type:"candidate",candidate:e.candidate}))}})),this.peerConnection.addEventListener("iceconnectionstatechange",(()=>{"disconnected"===this.peerConnection.iceConnectionState&&this.peerConnection.close()})),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{try{const t=JSON.parse(e.data);this.dataChannelMessage$.next(t)}catch(e){console.error("Could not parse message:",e)}},e.channel.onopen=async()=>{console.log("Library - Datachannel connected"),this.hostWsConnection.sendUTF(JSON.stringify({type:"clientconnected",success:!0})),this.dataChannelOpen$.next()},e.channel.onclose=e=>{console.log("Library - Datachannel onclose:",e),this.hostWsConnection.sendUTF(JSON.stringify({type:"disconnect"}))}}))}async sendOffer(){const e=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"offer",offer:e}))}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}'`),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Library - Attempted to send data with action ${e} but data channel is not open`)}async setRemoteDescription(e){await this.peerConnection.setRemoteDescription(new r.RTCSessionDescription(e))}async addCandidate(e){try{const t=new r.RTCIceCandidate(e);await this.peerConnection.addIceCandidate(t)}catch(e){console.error(e)}}async sendAnswer(){const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"answer",answer:e}))}}},553:e=>{"use strict";e.exports=require("@koush/wrtc")},964:e=>{"use strict";e.exports=require("rxjs")},828:e=>{"use strict";e.exports=require("uuid")},519:e=>{"use strict";e.exports=require("web3")},367:e=>{"use strict";e.exports=require("websocket")},352:e=>{"use strict";e.exports=require("ws")},235:()=>{},85:()=>{},9:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Lr,APP_BOOTSTRAP_LISTENER:()=>_v,APP_ID:()=>gv,APP_INITIALIZER:()=>pv,ApplicationInitStatus:()=>hv,ApplicationModule:()=>Zb,ApplicationRef:()=>rb,Attribute:()=>Vr,COMPILER_OPTIONS:()=>Av,CUSTOM_ELEMENTS_SCHEMA:()=>la,ChangeDetectionStrategy:()=>Ge,ChangeDetectorRef:()=>hb,Compiler:()=>Ov,CompilerFactory:()=>Nv,Component:()=>iv,ComponentFactory:()=>Wg,ComponentFactoryResolver:()=>zg,ComponentRef:()=>Bg,ContentChild:()=>Br,ContentChildren:()=>Ur,DEFAULT_CURRENCY_CODE:()=>xv,DebugElement:()=>_b,DebugEventListener:()=>vb,DebugNode:()=>wb,DefaultIterableDiffer:()=>kb,Directive:()=>rv,ElementRef:()=>Jg,EmbeddedViewRef:()=>mb,ErrorHandler:()=>ca,EventEmitter:()=>By,Host:()=>Oi,HostBinding:()=>lv,HostListener:()=>uv,INJECTOR:()=>gu,Inject:()=>Ii,InjectFlags:()=>We,Injectable:()=>zf,InjectionToken:()=>$r,Injector:()=>Ou,Input:()=>av,IterableDiffers:()=>Ub,KeyValueDiffers:()=>Wb,LOCALE_ID:()=>Mv,MissingTranslationStrategy:()=>Tv,ModuleWithComponentFactories:()=>Sv,NO_ERRORS_SCHEMA:()=>ua,NgModule:()=>fv,NgModuleFactory:()=>fy,NgModuleRef:()=>uy,NgProbeToken:()=>Zv,NgZone:()=>Rv,Optional:()=>Ei,Output:()=>cv,PACKAGE_ROOT_URL:()=>Cv,PLATFORM_ID:()=>wv,PLATFORM_INITIALIZER:()=>bv,Pipe:()=>sv,PlatformRef:()=>nb,Query:()=>Hr,QueryList:()=>qy,ReflectiveInjector:()=>dd,ReflectiveKey:()=>Qf,Renderer2:()=>Qg,RendererFactory2:()=>Zg,RendererStyleFlags2:()=>Ma,ResolvedReflectiveFactory:()=>od,Sanitizer:()=>Yg,SecurityContext:()=>$s,Self:()=>Ti,SimpleChange:()=>Mn,SkipSelf:()=>Si,TRANSLATIONS:()=>Iv,TRANSLATIONS_FORMAT:()=>Ev,TemplateRef:()=>zy,Testability:()=>Uv,TestabilityRegistry:()=>Bv,Type:()=>Gr,VERSION:()=>ey,Version:()=>Xg,ViewChild:()=>qr,ViewChildren:()=>Wr,ViewContainerRef:()=>Zy,ViewEncapsulation:()=>Qe,ViewRef:()=>yb,asNativeElements:()=>bb,assertPlatform:()=>Xv,createNgModuleRef:()=>gy,createPlatform:()=>Qv,createPlatformFactory:()=>Yv,defineInjectable:()=>Re,destroyPlatform:()=>eb,enableProdMode:()=>ub,forwardRef:()=>ae,getDebugNode:()=>Sb,getModuleFactory:()=>fb,getNgModuleById:()=>db,getPlatform:()=>tb,inject:()=>Di,isDevMode:()=>lb,platformCore:()=>Gb,resolveForwardRef:()=>ce,setTestabilityGetter:()=>Wv,ɵALLOW_MULTIPLE_PLATFORMS:()=>Gv,ɵAPP_ID_RANDOM_PROVIDER:()=>mv,ɵChangeDetectorStatus:()=>Ze,ɵComponentFactory:()=>Wg,ɵConsole:()=>Dv,ɵDEFAULT_LOCALE_ID:()=>bh,ɵINJECTOR_SCOPE:()=>mu,ɵLifecycleHooksFeature:()=>Qu,ɵLocaleDataIndex:()=>mh,ɵNG_COMP_DEF:()=>at,ɵNG_DIR_DEF:()=>ct,ɵNG_ELEMENT_ID:()=>dt,ɵNG_INJ_DEF:()=>He,ɵNG_MOD_DEF:()=>ut,ɵNG_PIPE_DEF:()=>lt,ɵNG_PROV_DEF:()=>Fe,ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>ty,ɵNO_CHANGE:()=>wc,ɵNgModuleFactory:()=>my,ɵNoopNgZone:()=>Hv,ɵReflectionCapabilities:()=>li,ɵRender3ComponentFactory:()=>ay,ɵRender3ComponentRef:()=>cy,ɵRender3NgModuleRef:()=>yy,ɵRuntimeError:()=>fe,ɵViewRef:()=>oy,ɵ_sanitizeHtml:()=>js,ɵ_sanitizeUrl:()=>hs,ɵallowSanitizationBypassAndThrow:()=>ns,ɵbypassSanitizationTrustHtml:()=>rs,ɵbypassSanitizationTrustResourceUrl:()=>cs,ɵbypassSanitizationTrustScript:()=>ss,ɵbypassSanitizationTrustStyle:()=>is,ɵbypassSanitizationTrustUrl:()=>as,ɵclearResolutionOfComponentResourcesQueue:()=>Li,ɵcompileComponent:()=>Hm,ɵcompileDirective:()=>Um,ɵcompileNgModule:()=>Im,ɵcompileNgModuleDefs:()=>Em,ɵcompileNgModuleFactory:()=>Kv,ɵcompilePipe:()=>nv,ɵcreateInjector:()=>Cu,ɵdefaultIterableDiffers:()=>Kb,ɵdefaultKeyValueDiffers:()=>Jb,ɵdetectChanges:()=>pu,ɵdevModeEqual:()=>ff,ɵfindLocaleData:()=>dh,ɵflushModuleScopingQueueAsMuchAsPossible:()=>Mm,ɵgetDebugNode:()=>Sb,ɵgetDebugNodeR2:()=>Ob,ɵgetDirectives:()=>ju,ɵgetHostElement:()=>$u,ɵgetInjectableDef:()=>Ve,ɵgetLContext:()=>Js,ɵgetLocaleCurrencyCode:()=>ph,ɵgetLocalePluralCase:()=>hh,ɵgetSanitizationBypassType:()=>os,ɵglobal:()=>ot,ɵinjectChangeDetectorRef:()=>gb,ɵisBoundToModule:()=>Jv,ɵisDefaultChangeDetectionStrategy:()=>Ye,ɵisListLikeIterable:()=>df,ɵisObservable:()=>Ed,ɵisPromise:()=>xd,ɵisSubscribable:()=>Id,ɵivyEnabled:()=>Qb,ɵmakeDecorator:()=>kr,ɵmarkDirty:()=>hu,ɵnoSideEffects:()=>Je,ɵpatchComponentDefWithScope:()=>jm,ɵpublishDefaultGlobalUtils:()=>qu,ɵpublishGlobalUtil:()=>zu,ɵregisterLocaleData:()=>fh,ɵregisterNgModuleType:()=>py,ɵrenderComponent:()=>Ku,ɵresetCompiledComponents:()=>km,ɵresetJitOptions:()=>_m,ɵresolveComponentResources:()=>Ri,ɵsetClassMetadata:()=>ly,ɵsetCurrentInjector:()=>bi,ɵsetDocument:()=>Ln,ɵsetLocaleId:()=>Mh,ɵstore:()=>Ff,ɵstringify:()=>re,ɵtransitiveScopesFor:()=>Vm,ɵunregisterLocaleData:()=>yh,ɵunwrapSafeValue:()=>ts,ɵwhenRendered:()=>Yu,ɵɵCopyDefinitionFeature:()=>cf,ɵɵFactoryTarget:()=>zr,ɵɵInheritDefinitionFeature:()=>ef,ɵɵNgOnChangesFeature:()=>xn,ɵɵProvidersFeature:()=>Ug,ɵɵadvance:()=>_c,ɵɵattribute:()=>wf,ɵɵattributeInterpolate1:()=>Of,ɵɵattributeInterpolate2:()=>Af,ɵɵattributeInterpolate3:()=>Nf,ɵɵattributeInterpolate4:()=>kf,ɵɵattributeInterpolate5:()=>Pf,ɵɵattributeInterpolate6:()=>Rf,ɵɵattributeInterpolate7:()=>jf,ɵɵattributeInterpolate8:()=>Vf,ɵɵattributeInterpolateV:()=>$f,ɵɵclassMap:()=>lp,ɵɵclassMapInterpolate1:()=>kp,ɵɵclassMapInterpolate2:()=>Pp,ɵɵclassMapInterpolate3:()=>Rp,ɵɵclassMapInterpolate4:()=>jp,ɵɵclassMapInterpolate5:()=>Vp,ɵɵclassMapInterpolate6:()=>$p,ɵɵclassMapInterpolate7:()=>Lp,ɵɵclassMapInterpolate8:()=>Fp,ɵɵclassMapInterpolateV:()=>Hp,ɵɵclassProp:()=>sp,ɵɵcontentQuery:()=>pm,ɵɵdefineComponent:()=>ht,ɵɵdefineDirective:()=>Ct,ɵɵdefineInjectable:()=>Pe,ɵɵdefineInjector:()=>je,ɵɵdefineNgModule:()=>bt,ɵɵdefinePipe:()=>Dt,ɵɵdirectiveInject:()=>hd,ɵɵdisableBindings:()=>ro,ɵɵelement:()=>wd,ɵɵelementContainer:()=>Dd,ɵɵelementContainerEnd:()=>Cd,ɵɵelementContainerStart:()=>_d,ɵɵelementEnd:()=>bd,ɵɵelementStart:()=>vd,ɵɵenableBindings:()=>oo,ɵɵgetCurrentView:()=>Md,ɵɵgetInheritedFactory:()=>Er,ɵɵhostProperty:()=>sh,ɵɵi18n:()=>Og,ɵɵi18nApply:()=>kg,ɵɵi18nAttributes:()=>Ag,ɵɵi18nEnd:()=>Sg,ɵɵi18nExp:()=>Ng,ɵɵi18nPostprocess:()=>Pg,ɵɵi18nStart:()=>Tg,ɵɵinject:()=>_i,ɵɵinjectAttribute:()=>Sr,ɵɵinvalidFactory:()=>gd,ɵɵinvalidFactoryDep:()=>Ci,ɵɵlistener:()=>Td,ɵɵloadQuery:()=>hm,ɵɵnamespaceHTML:()=>Ho,ɵɵnamespaceMathML:()=>Fo,ɵɵnamespaceSVG:()=>Lo,ɵɵnextContext:()=>kd,ɵɵngDeclareClassMetadata:()=>Xb,ɵɵngDeclareComponent:()=>ew,ɵɵngDeclareDirective:()=>Yb,ɵɵngDeclareFactory:()=>tw,ɵɵngDeclareInjectable:()=>ow,ɵɵngDeclareInjector:()=>rw,ɵɵngDeclareNgModule:()=>iw,ɵɵngDeclarePipe:()=>sw,ɵɵpipe:()=>Py,ɵɵpipeBind1:()=>Ry,ɵɵpipeBind2:()=>jy,ɵɵpipeBind3:()=>Vy,ɵɵpipeBind4:()=>$y,ɵɵpipeBindV:()=>Ly,ɵɵprojection:()=>jd,ɵɵprojectionDef:()=>Rd,ɵɵproperty:()=>yd,ɵɵpropertyInterpolate:()=>Vd,ɵɵpropertyInterpolate1:()=>$d,ɵɵpropertyInterpolate2:()=>Ld,ɵɵpropertyInterpolate3:()=>Fd,ɵɵpropertyInterpolate4:()=>Hd,ɵɵpropertyInterpolate5:()=>Ud,ɵɵpropertyInterpolate6:()=>Bd,ɵɵpropertyInterpolate7:()=>Wd,ɵɵpropertyInterpolate8:()=>qd,ɵɵpropertyInterpolateV:()=>zd,ɵɵpureFunction0:()=>vy,ɵɵpureFunction1:()=>by,ɵɵpureFunction2:()=>wy,ɵɵpureFunction3:()=>_y,ɵɵpureFunction4:()=>Cy,ɵɵpureFunction5:()=>Dy,ɵɵpureFunction6:()=>My,ɵɵpureFunction7:()=>xy,ɵɵpureFunction8:()=>Iy,ɵɵpureFunctionV:()=>Ey,ɵɵqueryRefresh:()=>fm,ɵɵreference:()=>Hf,ɵɵresolveBody:()=>ba,ɵɵresolveDocument:()=>va,ɵɵresolveWindow:()=>ma,ɵɵrestoreView:()=>ao,ɵɵsanitizeHtml:()=>Ls,ɵɵsanitizeResourceUrl:()=>Us,ɵɵsanitizeScript:()=>Bs,ɵɵsanitizeStyle:()=>Fs,ɵɵsanitizeUrl:()=>Hs,ɵɵsanitizeUrlOrResourceUrl:()=>zs,ɵɵsetComponentScope:()=>gt,ɵɵsetNgModuleScope:()=>wt,ɵɵstyleMap:()=>ap,ɵɵstyleMapInterpolate1:()=>Up,ɵɵstyleMapInterpolate2:()=>Bp,ɵɵstyleMapInterpolate3:()=>Wp,ɵɵstyleMapInterpolate4:()=>qp,ɵɵstyleMapInterpolate5:()=>zp,ɵɵstyleMapInterpolate6:()=>Kp,ɵɵstyleMapInterpolate7:()=>Jp,ɵɵstyleMapInterpolate8:()=>Gp,ɵɵstyleMapInterpolateV:()=>Zp,ɵɵstyleProp:()=>ip,ɵɵstylePropInterpolate1:()=>Qp,ɵɵstylePropInterpolate2:()=>Yp,ɵɵstylePropInterpolate3:()=>Xp,ɵɵstylePropInterpolate4:()=>eh,ɵɵstylePropInterpolate5:()=>th,ɵɵstylePropInterpolate6:()=>nh,ɵɵstylePropInterpolate7:()=>oh,ɵɵstylePropInterpolate8:()=>rh,ɵɵstylePropInterpolateV:()=>ih,ɵɵsyntheticHostListener:()=>Sd,ɵɵsyntheticHostProperty:()=>ah,ɵɵtemplate:()=>Lf,ɵɵtemplateRefExtractor:()=>vm,ɵɵtext:()=>Cp,ɵɵtextInterpolate:()=>Dp,ɵɵtextInterpolate1:()=>Mp,ɵɵtextInterpolate2:()=>xp,ɵɵtextInterpolate3:()=>Ip,ɵɵtextInterpolate4:()=>Ep,ɵɵtextInterpolate5:()=>Tp,ɵɵtextInterpolate6:()=>Sp,ɵɵtextInterpolate7:()=>Op,ɵɵtextInterpolate8:()=>Ap,ɵɵtextInterpolateV:()=>Np,ɵɵtrustConstantHtml:()=>Ws,ɵɵtrustConstantResourceUrl:()=>qs,ɵɵviewQuery:()=>dm});var o=n(964);const r=require("tslib");var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function s(e){return"function"==typeof e}function a(e){return s(null==e?void 0:e.then)}function c(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var l=c((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function u(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var f=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=(0,r.__values)(a),u=c.next();!u.done;u=c.next())u.value.remove(this)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else a.remove(this);var f=this.initialTeardown;if(s(f))try{f()}catch(e){i=e instanceof l?e.errors:[e]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=(0,r.__values)(d),g=p.next();!g.done;g=p.next()){var y=g.value;try{h(y)}catch(e){i=null!=i?i:[],e instanceof l?i=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(i)),(0,r.__read)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}if(i)throw new l(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&u(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),d=f.EMPTY;function p(e){return e instanceof f||e&&"closed"in e&&s(e.remove)&&s(e.add)&&s(e.unsubscribe)}function h(e){s(e)?e():e.unsubscribe()}var g=null,y=null,m=void 0,v=!1,b=!1,w={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=w.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(e)))},clearTimeout:function(e){var t=w.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _(e){w.setTimeout((function(){if(!g)throw e;g(e)}))}function C(){}var D=M("C",void 0,void 0);function M(e,t,n){return{kind:e,value:t,error:n}}var x=null;function I(e){if(v){var t=!x;if(t&&(x={errorThrown:!1,error:null}),e(),t){var n=x,o=n.errorThrown,r=n.error;if(x=null,o)throw r}}else e()}var E=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,p(t)&&t.add(n)):n.destination=P,n}return(0,r.__extends)(t,e),t.create=function(e,t,n){return new A(e,t,n)},t.prototype.next=function(e){this.isStopped?k(function(e){return M("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?k(M("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?k(D,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(f),T=Function.prototype.bind;function S(e,t){return T.call(e,t)}var O=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){N(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){N(e)}else N(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){N(e)}},e}(),A=function(e){function t(t,n,o){var r,i,a=e.call(this)||this;return s(t)||!t?r={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=o?o:void 0}:a&&b?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},r={next:t.next&&S(t.next,i),error:t.error&&S(t.error,i),complete:t.complete&&S(t.complete,i)}):r=t,a.destination=new O(r),a}return(0,r.__extends)(t,e),t}(E);function N(e){var t;v?(t=e,v&&x&&(x.errorThrown=!0,x.error=t)):_(e)}function k(e,t){var n=y;n&&w.setTimeout((function(){return n(e,t)}))}var P={closed:!0,next:C,error:function(e){throw e},complete:C},R="function"==typeof Symbol&&Symbol.observable||"@@observable";function j(e){return e}var V=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,r=this,i=(o=e)&&o instanceof E||function(e){return e&&s(e.next)&&s(e.error)&&s(e.complete)}(o)&&p(o)?e:new A(e,t,n);return I((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=$(t))((function(t,o){var r=new A({next:function(t){try{e(t)}catch(e){o(e),r.unsubscribe()}},error:o,complete:t});n.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[R]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?j:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=$(e))((function(e,n){var o;t.subscribe((function(e){return o=e}),(function(e){return n(e)}),(function(){return e(o)}))}))},e.create=function(t){return new e(t)},e}();function $(e){var t;return null!==(t=null!=e?e:m)&&void 0!==t?t:Promise}function L(e){return s(e[R])}function F(e){return Symbol.asyncIterator&&s(null==e?void 0:e[Symbol.asyncIterator])}function H(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function B(e){return s(null==e?void 0:e[U])}function W(e){return(0,r.__asyncGenerator)(this,arguments,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.__await)(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,(0,r.__await)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.__await)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function q(e){return s(null==e?void 0:e.getReader)}function z(e){if(e instanceof V)return e;if(null!=e){if(L(e))return o=e,new V((function(e){var t=o[R]();if(s(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(i(e))return n=e,new V((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(a(e))return function(e){return new V((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,_)}))}(e);if(F(e))return K(e);if(B(e))return t=e,new V((function(e){var n,o;try{for(var i=(0,r.__values)(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e.complete()}));if(q(e))return K(W(e))}var t,n,o;throw H(e)}function K(e){return new V((function(t){(function(e,t){var n,o,i,s;return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,c;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,r.__asyncValues)(e),l.label=1;case 1:return[4,n.next()];case 2:if((o=l.sent()).done)return[3,4];if(a=o.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=l.sent(),i={error:c},[3,11];case 6:return l.trys.push([6,,9,10]),o&&!o.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function J(e){return function(t){if(function(e){return s(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function G(e,t,n,o,r){return new Z(e,t,n,o,r)}var Z=function(e){function t(t,n,o,r,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=o?function(){try{o()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,r.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(E);new V((function(e){return e.complete()}));var Q=c((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Y=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.__extends)(t,e),t.prototype.lift=function(e){var t=new X(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Q},t.prototype.next=function(e){var t=this;I((function(){var n,o;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var s=(0,r.__values)(i),a=s.next();!a.done;a=s.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;I((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;I((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,o=t.isStopped,r=t.observers;return n||o?d:(r.push(e),new f((function(){return u(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,o=t.thrownError,r=t.isStopped;n?e.error(o):r&&e.complete()},t.prototype.asObservable=function(){var e=new V;return e.source=this,e},t.create=function(e,t){return new X(e,t)},t}(V),X=function(e){function t(t,n){var o=e.call(this)||this;return o.destination=t,o.source=n,o}return(0,r.__extends)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:d},t}(Y);function ee(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Y}:t,o=e.resetOnError,r=void 0===o||o,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t=null,o=null,i=null,a=0,l=!1,u=!1,f=function(){null==o||o.unsubscribe(),o=null},d=function(){f(),t=i=null,l=u=!1},p=function(){var e=t;d(),null==e||e.unsubscribe()};return J((function(e,h){a++,u||l||f();var g,y=i=null!=i?i:n();h.add((function(){0!=--a||u||l||(o=te(p,c))})),y.subscribe(h),t||(t=new A({next:function(e){return y.next(e)},error:function(e){u=!0,f(),o=te(d,r,e),y.error(e)},complete:function(){l=!0,f(),o=te(d,s),y.complete()}}),(g=e,z(g)).subscribe(t))}))(e)}}function te(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return!0===t?(e(),null):!1===t?null:t.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(n))).pipe(J((function(e,t){var n=0;e.subscribe(G(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))}))).subscribe((function(){return e()}))}function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("Could not find renamed property on target object.")}function oe(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function re(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(re).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ie(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const se=ne({__forward_ref__:ne});function ae(e){return e.__forward_ref__=ae,e.toString=function(){return re(this())},e}function ce(e){return le(e)?e():e}function le(e){return"function"==typeof e&&e.hasOwnProperty(se)&&e.__forward_ref__===ae}const ue="https://angular.io/errors";class fe extends Error{constructor(e,t){super(de(e,t)),this.code=e}}function de(e,t){const n=`NG0${Math.abs(e)}`;let o=`${n}${t?": "+t:""}`;return ngDevMode&&e<0&&(o=`${o}. Find more at ${ue}/${n}`),o}function pe(e){return"string"==typeof e?e:null==e?"":String(e)}function he(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pe(e)}function ge(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new fe(-200,`Circular dependency in DI detected for ${e}${n}`)}function ye(){throw new Error("Cannot mix multi providers and regular providers")}function me(e,t){const n=t?` in ${t}`:"";throw new fe(-201,`No provider for ${he(e)} found${n}`)}function ve(e,t){"number"!=typeof e&&Oe(t,typeof e,"number","===")}function be(e,t,n){ve(e,"Expected a number"),Ie(e,n,"Expected number to be less than or equal to"),Te(e,t,"Expected number to be greater than or equal to")}function we(e,t){"string"!=typeof e&&Oe(t,null===e?"null":typeof e,"string","===")}function _e(e,t,n){e!=t&&Oe(n,e,t,"==")}function Ce(e,t,n){e==t&&Oe(n,e,t,"!=")}function De(e,t,n){e!==t&&Oe(n,e,t,"===")}function Me(e,t,n){e===t&&Oe(n,e,t,"!==")}function xe(e,t,n){e<t||Oe(n,e,t,"<")}function Ie(e,t,n){e<=t||Oe(n,e,t,"<=")}function Ee(e,t,n){e>t||Oe(n,e,t,">")}function Te(e,t,n){e>=t||Oe(n,e,t,">=")}function Se(e,t){null==e&&Oe(t,e,null,"!=")}function Oe(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}function Ae(e){"undefined"!=typeof Node&&e instanceof Node||"object"==typeof e&&null!=e&&"WebWorkerRenderNode"===e.constructor.name||Oe(`The provided value must be an instance of a DOM Node but got ${re(e)}`)}function Ne(e,t){Se(e,"Array must be defined.");const n=e.length;(t<0||t>=n)&&Oe(`Index expected to be less than ${n} but got ${t}`)}function ke(e,...t){if(-1!==t.indexOf(e))return!0;Oe(`Expected value to be one of ${JSON.stringify(t)} but was ${JSON.stringify(e)}.`)}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const Re=Pe;function je(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ve(e){return $e(e,Fe)||$e(e,Ue)}function $e(e,t){return e.hasOwnProperty(t)?e[t]:null}function Le(e){return e&&(e.hasOwnProperty(He)||e.hasOwnProperty(Be))?e[He]:null}const Fe=ne({ɵprov:ne}),He=ne({ɵinj:ne}),Ue=ne({ngInjectableDef:ne}),Be=ne({ngInjectorDef:ne});var We;let qe;function ze(e){const t=qe;return qe=e,t}function Ke(e,t,n){const o=Ve(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&We.Optional?null:void 0!==t?t:void me(re(e),"Injector")}function Je(e){return{toString:e}.toString()}var Ge,Ze,Qe;function Ye(e){return null==e||e===Ge.Default}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(We||(We={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Ge||(Ge={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(Ze||(Ze={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Qe||(Qe={}));const Xe="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nt="undefined"!=typeof global&&global,ot=Xe||nt||et||tt;function rt(){return!("undefined"!=typeof ngDevMode&&!ngDevMode||("object"!=typeof ngDevMode&&function(){const e="undefined"!=typeof location?location.toString():"",t={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0},n=-1===e.indexOf("ngDevMode=false");ot.ngDevMode=n&&t}(),"undefined"==typeof ngDevMode||!ngDevMode))}const it={},st=[];("undefined"==typeof ngDevMode||ngDevMode)&&rt()&&(Object.freeze(it),Object.freeze(st));const at=ne({ɵcmp:ne}),ct=ne({ɵdir:ne}),lt=ne({ɵpipe:ne}),ut=ne({ɵmod:ne}),ft=ne({ɵfac:ne}),dt=ne({__NG_ELEMENT_ID__:ne});let pt=0;function ht(e){return Je((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&rt();const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||st,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Qe.Emulated,id:"c",styles:e.styles||st,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,r=e.features,i=e.pipes;return n.id+=pt++,n.inputs=_t(e.inputs,t),n.outputs=_t(e.outputs),r&&r.forEach((e=>e(n))),n.directiveDefs=o?()=>("function"==typeof o?o():o).map(yt):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(mt):null,n}))}function gt(e,t,n){const o=e.ɵcmp;o.directiveDefs=()=>t.map(yt),o.pipeDefs=()=>n.map(mt)}function yt(e){const t=Mt(e)||xt(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is neither 'ComponentType' or 'DirectiveType'.`);return t}function mt(e){const t=It(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is not a 'PipeType'.`);return t}const vt={};function bt(e){return Je((()=>{const t={type:e.type,bootstrap:e.bootstrap||st,declarations:e.declarations||st,imports:e.imports||st,exports:e.exports||st,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(vt[e.id]=e.type),t}))}function wt(e,t){return Je((()=>{const n=Et(e,!0);n.declarations=t.declarations||st,n.imports=t.imports||st,n.exports=t.exports||st}))}function _t(e,t){if(null==e)return it;const n={};for(const o in e)if(e.hasOwnProperty(o)){let r=e[o],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=o,t&&(t[r]=i)}return n}const Ct=ht;function Dt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mt(e){return e[at]||null}function xt(e){return e[ct]||null}function It(e){return e[lt]||null}function Et(e,t){const n=e[ut]||null;if(!n&&!0===t)throw new Error(`Type ${re(e)} does not have 'ɵmod' property.`);return n}const Tt=0,St=1,Ot=2,At=3,Nt=4,kt=5,Pt=6,Rt=7,jt=8,Vt=9,$t=10,Lt=11,Ft=12,Ht=13,Ut=14,Bt=15,Wt=16,qt=17,zt=18,Kt=19,Jt=20,Gt=["Root","Component","Embedded"],Zt=1,Qt=2,Yt=7,Xt=9,en=10;function tn(e){return Array.isArray(e)&&"object"==typeof e[Zt]}function nn(e){return Array.isArray(e)&&!0===e[Zt]}function on(e){return!!(8&e.flags)}function rn(e){return!(2&~e.flags)}function sn(e){return!(1&~e.flags)}function an(e){return null!==e.template}function cn(e,t){ln(e,t[St])}function ln(e,t){un(e),e.hasOwnProperty("tView_")&&_e(e.tView_,t,"This TNode does not belong to this TView.")}function un(e){Se(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||Oe("Not of type TNode, got: "+e)}function fn(e){Se(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&Oe("Object is not of TIcu type.")}function dn(e,t="Type passed in is not ComponentType, it does not have 'ɵcmp' property."){Mt(e)||Oe(t)}function pn(e){Se(e,"currentTNode should exist!"),Se(e.parent,"currentTNode should have a parent")}function hn(e){Se(e,"LContainer must be defined"),_e(nn(e),!0,"Expecting LContainer")}function gn(e){e&&_e(tn(e),!0,"Expecting LView or undefined or null")}function yn(e){Se(e,"LView must be defined"),_e(tn(e),!0,"Expecting LView")}function mn(e,t){_e(e.firstCreatePass,!0,t||"Should only be called in first create pass.")}function vn(e,t){_e(e.firstUpdatePass,!0,t||"Should only be called in first update pass.")}function bn(e,t){wn(e[1].expandoStartIndex,e.length,t)}function wn(e,t,n){e<=n&&n<t||Oe(`Index out of range (expecting ${e} <= ${n} < ${t})`)}function _n(e,t){Se(e,t||"Component views should always have a parent view (component's host view)")}function Cn(e,t){bn(e,t),bn(e,t+8),ve(e[t+0],"injectorIndex should point to a bloom filter"),ve(e[t+1],"injectorIndex should point to a bloom filter"),ve(e[t+2],"injectorIndex should point to a bloom filter"),ve(e[t+3],"injectorIndex should point to a bloom filter"),ve(e[t+4],"injectorIndex should point to a bloom filter"),ve(e[t+5],"injectorIndex should point to a bloom filter"),ve(e[t+6],"injectorIndex should point to a bloom filter"),ve(e[t+7],"injectorIndex should point to a bloom filter"),ve(e[t+8],"injectorIndex should point to parent injector")}function Dn(e,t){const n=e.hasOwnProperty(ft);if(!n&&!0===t&&ngDevMode)throw new Error(`Type ${re(e)} does not have 'ɵfac' property.`);return n?e[ft]:null}class Mn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function xn(){return In}function In(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tn),En}function En(){const e=On(this),t=e?.current;if(t){const n=e.previous;if(n===it)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Tn(e,t,n,o){const r=On(e)||function(e,t){return e[Sn]=t}(e,{previous:it,current:null}),i=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];i[a]=new Mn(c&&c.currentValue,t,s===it),e[o]=t}xn.ngInherit=!0;const Sn="__ngSimpleChanges__";function On(e){return e[Sn]||null}let An=null;const Nn=e=>{An=e},kn=function(e,t,n){null!=An&&An(e,t,n)},Pn="svg",Rn="http://www.w3.org/2000/svg",jn="math",Vn="http://www.w3.org/1998/MathML/";let $n;function Ln(e){$n=e}function Fn(){return void 0!==$n?$n:"undefined"!=typeof document?document:void 0}var Hn;function Un(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(Hn||(Hn={}));const Bn={createRenderer:(e,t)=>Fn()};function Wn(e){for(;Array.isArray(e);)e=e[Tt];return e}function qn(e,t){return ngDevMode&&Ne(t,e),ngDevMode&&Te(e,Jt,"Expected to be past HEADER_OFFSET"),Wn(t[e])}function zn(e,t){ngDevMode&&cn(e,t),ngDevMode&&Ne(t,e.index);const n=Wn(t[e.index]);return ngDevMode&&!Un(t[Lt])&&Ae(n),n}function Kn(e,t){ngDevMode&&Ee(t,-1,"wrong index for TNode"),ngDevMode&&xe(t,e.data.length,"wrong index for TNode");const n=e.data[t];return ngDevMode&&null!==n&&un(n),n}function Jn(e,t){return ngDevMode&&Ne(e,t),e[t]}function Gn(e,t){ngDevMode&&Ne(t,e);const n=t[e];return tn(n)?n:n[Tt]}function Zn(e){return!(4&~e[Ot])}function Qn(e){return!(128&~e[Ot])}function Yn(e,t){return null==t?null:(ngDevMode&&Ne(e,t),e[t])}function Xn(e){e[zt]=0}function eo(e,t){e[kt]+=t;let n=e,o=e[At];for(;null!==o&&(1===t&&1===n[kt]||-1===t&&0===n[kt]);)o[kt]+=t,n=o,o=o[At]}const to={lFrame:No(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function no(){return to.bindingsEnabled}function oo(){to.bindingsEnabled=!0}function ro(){to.bindingsEnabled=!1}function io(){return to.lFrame.lView}function so(){return to.lFrame.tView}function ao(e){return to.lFrame.contextLView=e,e[jt]}function co(){let e=lo();for(;null!==e&&64===e.type;)e=e.parent;return e}function lo(){return to.lFrame.currentTNode}function uo(){const e=to.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function fo(e,t){ngDevMode&&e&&ln(e,to.lFrame.tView);const n=to.lFrame;n.currentTNode=e,n.isParent=t}function po(){return to.lFrame.isParent}function ho(){to.lFrame.isParent=!1}function go(){return to.isInCheckNoChangesMode}function yo(e){to.isInCheckNoChangesMode=e}function mo(){const e=to.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function vo(){return to.lFrame.bindingIndex}function bo(e){return to.lFrame.bindingIndex=e}function wo(){return to.lFrame.bindingIndex++}function _o(e){const t=to.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Co(e){to.lFrame.inI18n=e}function Do(e,t){const n=to.lFrame;n.bindingIndex=n.bindingRootIndex=e,Mo(t)}function Mo(e){to.lFrame.currentDirectiveIndex=e}function xo(e){const t=to.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Io(){return to.lFrame.currentQueryIndex}function Eo(e){to.lFrame.currentQueryIndex=e}function To(e){const t=e[St];return 2===t.type?(ngDevMode&&Se(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===t.type?e[Pt]:null}function So(e,t,n){if(ngDevMode&&gn(e),n&We.SkipSelf){ngDevMode&&ln(t,e[St]);let o=t,r=e;for(;ngDevMode&&Se(o,"Parent TNode should be defined"),o=o.parent,!(null!==o||n&We.Host||(o=To(r),null===o)||(ngDevMode&&Se(r,"Parent LView should be defined"),r=r[Bt],10&o.type)););if(null===o)return!1;t=o,e=r}ngDevMode&&cn(t,e);const o=to.lFrame=Ao();return o.currentTNode=t,o.lView=e,!0}function Oo(e){ngDevMode&&Ce(e[0],e[1],"????"),ngDevMode&&gn(e);const t=Ao();ngDevMode&&(_e(t.isParent,!0,"Expected clean LFrame"),_e(t.lView,null,"Expected clean LFrame"),_e(t.tView,null,"Expected clean LFrame"),_e(t.selectedIndex,-1,"Expected clean LFrame"),_e(t.elementDepthCount,0,"Expected clean LFrame"),_e(t.currentDirectiveIndex,-1,"Expected clean LFrame"),_e(t.currentNamespace,null,"Expected clean LFrame"),_e(t.bindingRootIndex,-1,"Expected clean LFrame"),_e(t.currentQueryIndex,0,"Expected clean LFrame"));const n=e[St];to.lFrame=t,ngDevMode&&n.firstChild&&ln(n.firstChild,n),t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ao(){const e=to.lFrame,t=null===e?null:e.child;return null===t?No(e):t}function No(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ko(){const e=to.lFrame;return to.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Po=ko;function Ro(){const e=ko();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jo(){return to.lFrame.selectedIndex}function Vo(e){ngDevMode&&-1!==e&&Te(e,Jt,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&xe(e,to.lFrame.lView.length,"Can't set index passed end of LView"),to.lFrame.selectedIndex=e}function $o(){const e=to.lFrame;return Kn(e.tView,e.selectedIndex)}function Lo(){to.lFrame.currentNamespace=Pn}function Fo(){to.lFrame.currentNamespace=jn}function Ho(){to.lFrame.currentNamespace=null}function Uo(e,t){ngDevMode&&mn(e);for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const t=e.data[n];ngDevMode&&Se(t,"Expecting DirectiveDef");const o=t.type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:a,ngOnDestroy:c}=o;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Bo(e,t,n){zo(e,t,3,n)}function Wo(e,t,n,o){ngDevMode&&Ce(n,3,"Init pre-order hooks should not be called more than once"),(3&e[Ot])===n&&zo(e,t,n,o)}function qo(e,t){ngDevMode&&Ce(t,3,"Init hooks phase should not be incremented after all init hooks have been run.");let n=e[Ot];(3&n)===t&&(n&=2047,n+=1,e[Ot]=n)}function zo(e,t,n,o){ngDevMode&&_e(go(),!1,"Hooks should never be run when in check no changes mode.");const r=void 0!==o?65535&e[zt]:0,i=null!=o?o:-1,s=t.length-1;let a=0;for(let c=r;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=o&&a>=o)break}else t[c]<0&&(e[zt]+=65536),(a<i||-1==i)&&(Ko(e,n,t,c),e[zt]=(4294901760&e[zt])+c+2),c++}function Ko(e,t,n,o){const r=n[o]<0,i=n[o+1],s=e[r?-n[o]:n[o]];if(r){if(e[Ot]>>11<e[zt]>>16&&(3&e[Ot])===t){e[Ot]+=2048,kn(4,s,i);try{i.call(s)}finally{kn(5,s,i)}}}else{kn(4,s,i);try{i.call(s)}finally{kn(5,s,i)}}}const Jo=-1;class Go{constructor(e,t,n){this.factory=e,this.resolving=!1,ngDevMode&&Se(e,"Factory not specified"),ngDevMode&&_e(typeof e,"function","Expected factory function."),this.canSeeViewProviders=t,this.injectImpl=n}}function Zo(e){let t="";return 1&e&&(t+="|Text"),2&e&&(t+="|Element"),4&e&&(t+="|Container"),8&e&&(t+="|ElementContainer"),16&e&&(t+="|Projection"),32&e&&(t+="|IcuContainer"),64&e&&(t+="|Placeholder"),t.length>0?t.substring(1):t}function Qo(e,t,n){Se(e,"should be called with a TNode"),e.type&t||Oe(n||`Expected [${Zo(t)}] but got ${Zo(e.type)}.`)}function Yo(e,t,n){const o=Un(e);let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],c=n[r++];ngDevMode&&ngDevMode.rendererSetAttribute++,o?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=i,a=n[++r];ngDevMode&&ngDevMode.rendererSetAttribute++,er(s)?o&&e.setProperty(t,s,a):o?e.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function Xo(e){return 3===e||4===e||6===e}function er(e){return 64===e.charCodeAt(0)}function tr(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const r=t[o];"number"==typeof r?n=r:0===n||nr(e,n,r,null,-1===n||2===n?t[++o]:null)}}return e}function nr(e,t,n,o,r){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===o)return void(null!==r&&(e[i+1]=r));if(o===e[i+1])return void(e[i+2]=r)}i++,null!==o&&i++,null!==r&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o),null!==r&&e.splice(i++,0,r)}function or(e){return e!==Jo}function rr(e){return ngDevMode&&ve(e,"Number expected"),ngDevMode&&Ce(e,-1,"Not a valid state."),ngDevMode&&Ee(32767&e,Jt,"Parent injector must be pointing past HEADER_OFFSET."),32767&e}function ir(e,t){let n=e>>16,o=t;for(;n>0;)o=o[Bt],n--;return o}let sr=!0;function ar(e){const t=sr;return sr=e,t}const cr=255,lr=5;let ur=0;function fr(e,t){const n=pr(e,t);if(-1!==n)return n;const o=t[St];o.firstCreatePass&&(e.injectorIndex=t.length,dr(o.data,e),dr(t,null),dr(o.blueprint,null));const r=hr(e,t),i=e.injectorIndex;if(or(r)){const e=rr(r),n=ir(r,t),o=n[St].data;for(let r=0;r<8;r++)t[i+r]=n[e+r]|o[e+r]}return t[i+8]=r,i}function dr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:(ngDevMode&&Ne(t,e.injectorIndex),e.injectorIndex)}function hr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,r=t;for(;null!==r;){const e=r[St],t=e.type;if(2===t?(ngDevMode&&Se(e.declTNode,"Embedded TNodes should have declaration parents."),o=e.declTNode):1===t?o=r[Pt]:(ngDevMode&&_e(e.type,0,"Root type expected"),o=null),null===o)return Jo;if(ngDevMode&&o&&cn(o,r[Bt]),n++,r=r[Bt],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Jo}function gr(e,t,n){!function(e,t,n){let o;ngDevMode&&_e(t.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(dt)&&(o=n[dt]),null==o&&(o=n[dt]=ur++);const r=o&cr,i=1<<r;t.data[e+(r>>lr)]|=i}(e,t,n)}function yr(e,t,n){if(n&We.Optional)return e;me(t,"NodeInjector")}function mr(e,t,n,o){if(n&We.Optional&&void 0===o&&(o=null),!(n&(We.Self|We.Host))){const r=e[Vt],i=ze(void 0);try{return r?r.get(t,o,n&We.Optional):Ke(t,o,n&We.Optional)}finally{ze(i)}}return yr(o,t,n)}function vr(e,t,n,o=We.Default,r){if(null!==e){const i=function(e){if(ngDevMode&&Se(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(dt)?e[dt]:void 0;return"number"==typeof t?t>=0?t&cr:(ngDevMode&&_e(t,-1,"Expecting to get Special Injector Id"),wr):t}(n);if("function"==typeof i){if(!So(t,e,o))return o&We.Host?yr(r,n,o):mr(t,n,o,r);try{const e=i(o);if(null!=e||o&We.Optional)return e;me(n)}finally{Po()}}else if("number"==typeof i){let r=null,s=pr(e,t),a=Jo,c=o&We.Host?t[Wt][Pt]:null;for((-1===s||o&We.SkipSelf)&&(a=-1===s?hr(e,t):t[s+8],a!==Jo&&xr(o,!1)?(r=t[St],s=rr(a),t=ir(a,t)):s=-1);-1!==s;){ngDevMode&&Cn(t,s);const e=t[St];if(ngDevMode&&cn(e.data[s+8],t),Mr(i,s,e.data)){const e=_r(s,t,n,r,o,c);if(e!==br)return e}a=t[s+8],a!==Jo&&xr(o,t[St].data[s+8]===c)&&Mr(i,s,t)?(r=e,s=rr(a),t=ir(a,t)):s=-1}}}return mr(t,n,o,r)}const br={};function wr(){return new Ir(co(),io())}function _r(e,t,n,o,r,i){const s=t[St],a=s.data[e+8],c=Cr(a,s,n,null==o?rn(a)&&sr:o!=s&&!!(3&a.type),r&We.Host&&i===a);return null!==c?Dr(t,s,c,a):br}function Cr(e,t,n,o,r){const i=e.providerIndexes,s=t.data,a=1048575&i,c=e.directiveStart,l=e.directiveEnd,u=i>>20,f=r?a+u:l;for(let e=o?a:a+u;e<f;e++){const t=s[e];if(e<c&&n===t||e>=c&&t.type===n)return e}if(r){const e=s[c];if(e&&an(e)&&e.type===n)return c}return null}function Dr(e,t,n,o){let r=e[n];const i=t.data;if(r instanceof Go){const a=r;a.resolving&&ge(he(i[n]));const c=ar(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?ze(a.injectImpl):null,u=So(e,o,We.Default);ngDevMode&&_e(u,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{r=e[n]=a.factory(void 0,i,e,o),t.firstCreatePass&&n>=o.directiveStart&&(ngDevMode&&(void 0!==(s=i[n]).type&&null!=s.selectors&&void 0!==s.inputs||Oe("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")),function(e,t,n){ngDevMode&&mn(n);const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=t.type.prototype;if(o){const o=In(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t))}finally{null!==l&&ze(l),ar(c),a.resolving=!1,Po()}}var s;return r}function Mr(e,t,n){const o=1<<e;return!!(n[t+(e>>lr)]&o)}function xr(e,t){return!(e&We.Self||e&We.Host&&t)}class Ir{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return vr(this._tNode,this._lView,e,n,t)}}function Er(e){return Je((()=>{const t=e.prototype.constructor,n=t[ft]||Tr(t),o=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==o;){const e=r[ft]||Tr(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e}))}function Tr(e){return le(e)?()=>{const t=Tr(ce(e));return t&&t()}:Dn(e)}function Sr(e){return function(e,t){if(ngDevMode&&Qo(e,15),ngDevMode&&Se(e,"expecting tNode"),"class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let o=0;for(;o<e;){const r=n[o];if(Xo(r))break;if(0===r)o+=2;else if("number"==typeof r)for(o++;o<e&&"string"==typeof n[o];)o++;else{if(r===t)return n[o+1];o+=2}}}return null}(co(),e)}const Or="__annotations__",Ar="__parameters__",Nr="__prop__metadata__";function kr(e,t,n,o,r){return Je((()=>{const i=Pr(t);function s(...e){if(this instanceof s)return i.call(this,...e),this;const t=new s(...e);return function(n){return r&&r(n,...e),(n.hasOwnProperty(Or)?n[Or]:Object.defineProperty(n,Or,{value:[]})[Or]).push(t),o&&o(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function Pr(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function Rr(e,t,n){return Je((()=>{const o=Pr(t);function r(...e){if(this instanceof r)return o.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,o){const r=e.hasOwnProperty(Ar)?e[Ar]:Object.defineProperty(e,Ar,{value:[]})[Ar];for(;r.length<=o;)r.push(null);return(r[o]=r[o]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}function jr(e,t,n,o){return Je((()=>{const r=Pr(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return function(n,r){const i=n.constructor,s=i.hasOwnProperty(Nr)?i[Nr]:Object.defineProperty(i,Nr,{value:{}})[Nr];s[r]=s.hasOwnProperty(r)&&s[r]||[],s[r].unshift(t),o&&o(n,r,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}const Vr=Rr("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Sr(e)})));class $r{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?(("undefined"==typeof ngDevMode||ngDevMode)&&xe(t,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=t):void 0!==t&&(this.ɵprov=Pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lr=new $r("AnalyzeForEntryComponents"),Fr=!0;class Hr{}const Ur=jr("ContentChildren",((e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:Fr,...t})),Hr),Br=jr("ContentChild",((e,t={})=>({selector:e,first:!0,isViewQuery:!1,descendants:!0,...t})),Hr),Wr=jr("ViewChildren",((e,t={})=>({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:Fr,...t})),Hr),qr=jr("ViewChild",((e,t)=>({selector:e,first:!0,isViewQuery:!0,descendants:!0,...t})),Hr);var zr,Kr;function Jr(e){const t=ot.ng;if(t&&t.ɵcompilerFacade)return t.ɵcompilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let t=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(t+=`The ${e.kind} is part of a library that has been partially compiled.\n`,t+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",t+="\n",t+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):t+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",t+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",t+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(t)}throw new Error("JIT compiler unavailable")}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(zr||(zr={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Kr||(Kr={}));const Gr=Function;function Zr(e){return"function"==typeof e}function Qr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?(t===e&&(t=e.slice(0,n)),Qr(o,t)):t!==e&&t.push(o)}return t}function Yr(e,t){e.forEach((e=>Array.isArray(e)?Yr(e,t):t(e)))}function Xr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ei(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ti(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}function ni(e,t,n){let o=ri(e,t);return o>=0?e[1|o]=n:(o=~o,function(e,t,n,o){ngDevMode&&Ie(t,e.length,"Can't insert past array end.");let r=e.length;if(r==t)e.push(n,o);else if(1===r)e.push(o,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){const t=r-2;e[r]=e[t],r--}e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function oi(e,t){const n=ri(e,t);if(n>=0)return e[1|n]}function ri(e,t){return function(e,t,n){ngDevMode&&_e(Array.isArray(e),!0,"Expecting an array");let o=0,r=e.length>>n;for(;r!==o;){const i=o+(r-o>>1),s=e[i<<n];if(t===s)return i<<n;s>t?r=i:o=i+1}return~(r<<n)}(e,t,1)}const ii=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,si=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ai=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ci=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class li{constructor(e){this._reflect=e||ot.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=ti(void 0===e?t.length:e.length);for(let o=0;o<n.length;o++)void 0===e?n[o]=[]:e[o]&&e[o]!=Object?n[o]=[e[o]]:n[o]=[],t&&null!=t[o]&&(n[o]=n[o].concat(t[o]));return n}_ownParameters(e,t){if(n=e.toString(),ii.test(n)||ci.test(n)||si.test(n)&&!ai.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const o=e.ctorParameters;if(o&&o!==t.ctorParameters){const e="function"==typeof o?o():o,t=e.map((e=>e&&e.type)),n=e.map((e=>e&&ui(e.decorators)));return this._zipTypesAndAnnotations(t,n)}const r=e.hasOwnProperty(Ar)&&e[Ar],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):ti(e.length)}parameters(e){if(!Zr(e))return[];const t=fi(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?ui(e.decorators):e.hasOwnProperty(Or)?e[Or]:null}annotations(e){if(!Zr(e))return[];const t=fi(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach((e=>{n[e]=ui(t[e])})),n}return e.hasOwnProperty(Nr)?e[Nr]:null}propMetadata(e){if(!Zr(e))return{};const t=fi(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach((t=>{n[t]=e[t]}))}const o=this._ownPropMetadata(e,t);return o&&Object.keys(o).forEach((e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...o[e]),n[e]=t})),n}ownPropMetadata(e){return Zr(e)&&this._ownPropMetadata(e,fi(e))||{}}hasLifecycleHook(e,t){return e instanceof Gr&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${re(e)}`}resourceUri(e){return`./${re(e)}`}resolveIdentifier(e,t,n,o){return o}resolveEnum(e,t){return e[t]}}function ui(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function fi(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const di={},pi="__NG_DI_FLAG__",hi="ngTempTokenPath",gi=/\n/gm,yi="__source",mi=ne({provide:String,useValue:ne});let vi;function bi(e){const t=vi;return vi=e,t}function wi(e,t=We.Default){if(void 0===vi){const e="undefined"==typeof ngDevMode||ngDevMode?"inject() must be called from an injection context":"";throw new fe(203,e)}return null===vi?Ke(e,void 0,t):vi.get(e,t&We.Optional?null:void 0,t)}function _i(e,t=We.Default){return(qe||wi)(ce(e),t)}function Ci(e){const t=ngDevMode?`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`:"invalid";throw new Error(t)}const Di=_i;function Mi(e){const t=[];for(let n=0;n<e.length;n++){const o=ce(e[n]);if(Array.isArray(o)){if(0===o.length){const e="undefined"==typeof ngDevMode||ngDevMode?"Arguments array must have arguments.":"";throw new fe(900,e)}let e,n=We.Default;for(let t=0;t<o.length;t++){const r=o[t],i=r[pi];"number"==typeof i?-1===i?e=r.token:n|=i:e=r}t.push(_i(e,n))}else t.push(_i(o))}return t}function xi(e,t){return e[pi]=t,e.prototype[pi]=t,e}const Ii=xi(Rr("Inject",(e=>({token:e}))),-1),Ei=xi(Rr("Optional"),8),Ti=xi(Rr("Self"),2),Si=xi(Rr("SkipSelf"),4),Oi=xi(Rr("Host"),1);let Ai=null;function Ni(){return Ai=Ai||new li}function ki(e){return Pi(Ni().parameters(e))}function Pi(e){return e.map((e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const o=e[n];if(void 0===o)continue;const r=Object.getPrototypeOf(o);if(o instanceof Ei||"Optional"===r.ngMetadataName)t.optional=!0;else if(o instanceof Si||"SkipSelf"===r.ngMetadataName)t.skipSelf=!0;else if(o instanceof Ti||"Self"===r.ngMetadataName)t.self=!0;else if(o instanceof Oi||"Host"===r.ngMetadataName)t.host=!0;else if(o instanceof Ii)t.token=o.token;else if(o instanceof Vr){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");t.attribute=o.attributeName}else t.token=o}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e)))}function Ri(e){const t=[],n=new Map;function o(t){let o=n.get(t);if(!o){const r=e(t);n.set(t,o=r.then(Fi))}return o}return ji.forEach(((e,n)=>{const r=[];e.templateUrl&&r.push(o(e.templateUrl).then((t=>{e.template=t})));const i=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;i&&i.forEach(((t,n)=>{s.push(""),r.push(o(t).then((o=>{s[a+n]=o,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));const c=Promise.all(r).then((()=>function(e){Vi.delete(e)}(n)));t.push(c)})),Li(),Promise.all(t).then((()=>{}))}let ji=new Map;const Vi=new Set;function $i(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Li(){const e=ji;return ji=new Map,e}function Fi(e){return"string"==typeof e?e:e.text()}let Hi,Ui;function Bi(){if(void 0===Hi&&(Hi=null,ot.trustedTypes))try{Hi=ot.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hi}function Wi(e){return Bi()?.createHTML(e)||e}function qi(){if(void 0===Ui&&(Ui=null,ot.trustedTypes))try{Ui=ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ui}function zi(e){return qi()?.createHTML(e)||e}function Ki(e){return qi()?.createScript(e)||e}function Ji(e){return qi()?.createScriptURL(e)||e}class Gi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zi extends Gi{getTypeName(){return"HTML"}}class Qi extends Gi{getTypeName(){return"Style"}}class Yi extends Gi{getTypeName(){return"Script"}}class Xi extends Gi{getTypeName(){return"URL"}}class es extends Gi{getTypeName(){return"ResourceURL"}}function ts(e){return e instanceof Gi?e.changingThisBreaksApplicationSecurity:e}function ns(e,t){const n=os(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function os(e){return e instanceof Gi&&e.getTypeName()||null}function rs(e){return new Zi(e)}function is(e){return new Qi(e)}function ss(e){return new Yi(e)}function as(e){return new Xi(e)}function cs(e){return new es(e)}function ls(e){const t=new fs(e);return function(){try{return!!(new window.DOMParser).parseFromString(Wi(""),"text/html")}catch{return!1}}()?new us(t):t}class us{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Wi(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class fs{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Wi(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Wi(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const o=t.item(n).name;"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||e.removeAttribute(o)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ds=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ps=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hs(e){return(e=String(e)).match(ds)||e.match(ps)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see https://g.co/ng/security#xss)`),"unsafe:"+e)}function gs(e){return(e=String(e)).split(",").map((e=>hs(e.trim()))).join(", ")}function ys(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ms(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const vs=ys("area,br,col,hr,img,wbr"),bs=ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ws=ys("rp,rt"),_s=ms(ws,bs),Cs=ms(bs,ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ds=ms(ws,ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms=ms(vs,Cs,Ds,_s),xs=ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Is=ys("srcset"),Es=ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ts=ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Ss=ms(xs,Is,Es,Ts),Os=ys("script,style,template");class As{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ms.hasOwnProperty(t))return this.sanitizedSomething=!0,!Os.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),o=t.name,r=o.toLowerCase();if(!Ss.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let i=t.value;xs[r]&&(i=hs(i)),Is[r]&&(i=gs(i)),this.buf.push(" ",o,'="',Ps(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ms.hasOwnProperty(t)&&!vs.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ps(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ns=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ks=/([^\#-~ |!])/g;function Ps(e){return e.replace(/&/g,"&amp;").replace(Ns,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ks,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rs;function js(e,t){let n=null;try{Rs=Rs||ls(e);let o=t?String(t):"";n=Rs.getInertBodyElement(o);let r=5,i=o;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,o=i,i=n.innerHTML,n=Rs.getInertBodyElement(o)}while(o!==i);const s=new As,a=s.sanitizeChildren(Vs(n)||n);return("undefined"==typeof ngDevMode||ngDevMode)&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),Wi(a)}finally{if(n){const e=Vs(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Vs(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var $s;function Ls(e){const t=Ks();return t?zi(t.sanitize($s.HTML,e)||""):ns(e,"HTML")?zi(ts(e)):js(Fn(),pe(e))}function Fs(e){const t=Ks();return t?t.sanitize($s.STYLE,e)||"":ns(e,"Style")?ts(e):pe(e)}function Hs(e){const t=Ks();return t?t.sanitize($s.URL,e)||"":ns(e,"URL")?ts(e):hs(pe(e))}function Us(e){const t=Ks();if(t)return Ji(t.sanitize($s.RESOURCE_URL,e)||"");if(ns(e,"ResourceURL"))return Ji(ts(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a resource URL context (see https://g.co/ng/security#xss)":"";throw new fe(904,n)}function Bs(e){const t=Ks();if(t)return Ki(t.sanitize($s.SCRIPT,e)||"");if(ns(e,"Script"))return Ki(ts(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a script context":"";throw new fe(905,n)}function Ws(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return Wi(e[0])}function qs(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function(e){return Bi()?.createScriptURL(e)||e}(e[0])}function zs(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Us:Hs}(t,n)(e)}function Ks(){const e=io();return e&&e[Ft]}function Js(e){let t=Xs(e);if(t){if(Array.isArray(t)){const o=t;let r,i,s;if((n=e)&&n.constructor&&n.constructor.ɵcmp){if(r=oa(o,e),-1==r)throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.ɵdir}(e)){if(r=function(e,t){let n=e[St].firstChild;for(;n;){const o=n.directiveStart,r=n.directiveEnd;for(let i=o;i<r;i++)if(e[i]===t)return n.index;n=na(n)}return-1}(o,e),-1==r)throw new Error("The provided directive was not found in the application");s=ra(r,o,!1)}else if(r=ta(o,e),-1==r)return null;const a=Wn(o[r]),c=Xs(a),l=c&&!Array.isArray(c)?c:Gs(o,r,a);if(i&&void 0===l.component&&(l.component=i,Ys(l.component,l)),s&&void 0===l.directives){l.directives=s;for(let e=0;e<s.length;e++)Ys(s[e],l)}Ys(l.native,l),t=l}}else{const n=e;ngDevMode&&Ae(n);let o=n;for(;o=o.parentNode;){const e=Xs(o);if(e){let o;if(o=Array.isArray(e)?e:e.lView,!o)return null;const r=ta(o,n);if(r>=0){const e=Wn(o[r]),n=Gs(o,r,e);Ys(e,n),t=n;break}}}}var n;return t||null}function Gs(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Zs(e){let t,n=Xs(e);if(Array.isArray(n)){const o=oa(n,e);t=Gn(o,n);const r=Gs(n,o,t[Tt]);r.component=e,Ys(e,r),Ys(r.native,r)}else{const e=n;t=Gn(e.nodeIndex,e.lView)}return t}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}($s||($s={}));const Qs="__ngContext__";function Ys(e,t){ngDevMode&&Se(e,"Target expected"),e[Qs]=t}function Xs(e){return ngDevMode&&Se(e,"Target expected"),e[Qs]||null}function ea(e){const t=Xs(e);return t?Array.isArray(t)?t:t.lView:null}function ta(e,t){const n=e[St];for(let o=Jt;o<n.bindingStartIndex;o++)if(Wn(e[o])===t)return o;return-1}function na(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function oa(e,t){const n=e[St].components;if(n)for(let o=0;o<n.length;o++){const r=n[o];if(Gn(r,e)[jt]===t)return r}else if(Gn(Jt,e)[jt]===t)return Jt;return-1}function ra(e,t,n){const o=t[St].data[e];let r=o.directiveStart;if(0==r)return st;const i=o.directiveEnd;return!n&&2&o.flags&&r++,t.slice(r,i)}const ia="ngOriginalError";function sa(e){return e[ia]}function aa(e,...t){e.error(...t)}class ca{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(e){return e&&e.ngErrorLogger||aa}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sa(e);for(;t&&sa(t);)t=sa(t);return t||null}}const la={name:"custom-elements"},ua={name:"no-errors-schema"},fa=/^>|^->|<!--|-->|--!>|<!-$/g,da=/(<|>)/,pa="​$1​";function ha(e){return e.replace(fa,(e=>e.replace(da,pa)))}const ga=/([A-Z])/g,ya=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ot);function ma(e){return e.ownerDocument.defaultView}function va(e){return e.ownerDocument}function ba(e){return e.ownerDocument.body}const wa="�";function _a(e){return e instanceof Function?e():e}function Ca(e){throw new fe(-300,`Multiple components match node with tagname ${e.value}`)}function Da(e,t,n,o,r){const[i,s,...a]=o.split(wa);let c=s,l=s;for(let o=0;o<a.length;o++){const i=t+o;c+=`${e[i]}${a[o]}`,l+=`${i===n?r:e[i]}${a[o]}`}return{propName:i,oldValue:c,newValue:l}}var Ma;let xa;function Ia(e,t){return xa(e,t)}function Ea(e){ngDevMode&&yn(e);const t=e[At];return nn(t)?t[At]:t}function Ta(e){const t=function(e){ngDevMode&&Se(e,"component");let t=tn(e)?e:ea(e);for(;t&&!(512&t[Ot]);)t=Ea(t);return ngDevMode&&yn(t),t}(e);return ngDevMode&&Se(t[jt],"RootView has no context. Perhaps it is disconnected?"),t[jt]}function Sa(e){return Aa(e[Ht])}function Oa(e){return Aa(e[Nt])}function Aa(e){for(;null!==e&&!nn(e);)e=e[Nt];return e}function Na(e,t,n,o,r){if(null!=o){let i,s=!1;nn(o)?i=o:tn(o)&&(s=!0,ngDevMode&&Se(o[Tt],"HOST must be defined for a component LView"),o=o[Tt]);const a=Wn(o);ngDevMode&&!Un(t)&&Ae(a),0===e&&null!==n?null==r?Wa(t,n,a):Ba(t,n,a,r||null,!0):1===e&&null!==n?Ba(t,n,a,r||null,!0):2===e?nc(t,a,s):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(a)),null!=i&&function(e,t,n,o,r){ngDevMode&&hn(n);const i=n[Yt];i!==Wn(n)&&Na(t,e,o,i,r);for(let r=en;r<n.length;r++){const s=n[r];rc(s[St],s,e,t,o,i)}}(t,e,i,n,r)}}function ka(e,t){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,Un(e)?e.createText(t):e.createTextNode(t)}function Pa(e,t,n){ngDevMode&&ngDevMode.rendererSetText++,Un(e)?e.setValue(t,n):t.textContent=n}function Ra(e,t){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(ha(t))}function ja(e,t,n){if(ngDevMode&&ngDevMode.rendererCreateElement++,Un(e))return e.createElement(t,n);{const o=null!==n?function(e){const t=e.toLowerCase();return t===Pn?Rn:t===jn?Vn:null}(n):null;return null===o?e.createElement(t):e.createElementNS(o,t)}}function Va(e,t){ngDevMode&&hn(e),ngDevMode&&Se(e[Xt],"A projected view should belong to a non-empty projected views collection");const n=e[Xt],o=n.indexOf(t),r=t[At];ngDevMode&&hn(r),1024&t[Ot]&&(t[Ot]&=-1025,eo(r,-1)),n.splice(o,1)}function $a(e,t){if(e.length<=en)return;const n=en+t,o=e[n];if(o){const i=o[qt];null!==i&&i!==e&&Va(i,o),t>0&&(e[n-1][Nt]=o[Nt]);const s=ei(e,en+t);rc(o[St],r=o,r[Lt],2,null,null),r[Tt]=null,r[Pt]=null;const a=s[Kt];null!==a&&a.detachView(s[St]),o[At]=null,o[Nt]=null,o[Ot]&=-129}var r;return o}function La(e,t){if(!(256&t[Ot])){const n=t[Lt];Un(n)&&n.destroyNode&&rc(e,t,n,3,null,null),function(e){let t=e[Ht];if(!t)return Fa(e[St],e);for(;t;){let n=null;if(tn(t))n=t[Ht];else{ngDevMode&&hn(t);const e=t[en];e&&(n=e)}if(!n){for(;t&&!t[Nt]&&t!==e;)tn(t)&&Fa(t[St],t),t=t[At];null===t&&(t=e),tn(t)&&Fa(t[St],t),n=t&&t[Nt]}t=n}}(t)}}function Fa(e,t){if(!(256&t[Ot])){t[Ot]&=-129,t[Ot]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const o=t[n[e]];if(!(o instanceof Go)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=o[t[e]],r=t[e+1];kn(4,n,r);try{r.call(n)}finally{kn(5,n,r)}}else{kn(4,o,t);try{t.call(o)}finally{kn(5,o,t)}}}}}(e,t),function(e,t){const n=e.cleanup,o=t[Rt];let r=-1;if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const i=n[e+1],s="function"==typeof i?i(t):Wn(t[i]),a=o[r=n[e+2]],c=n[e+3];"boolean"==typeof c?s.removeEventListener(n[e],a,c):c>=0?o[r=c]():o[r=-c].unsubscribe(),e+=2}else{const t=o[r=n[e+1]];n[e].call(t)}if(null!==o){for(let e=r+1;e<o.length;e++){const t=o[e];ngDevMode&&(s="Expecting instance cleanup function.","function"!=typeof(i=t)&&Oe(s,null===i?"null":typeof i,"function","===")),t()}t[Rt]=null}var i,s}(e,t),1===t[St].type&&Un(t[Lt])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[Lt].destroy());const n=t[qt];if(null!==n&&nn(t[At])){n!==t[At]&&Va(n,t);const o=t[Kt];null!==o&&o.detachView(e)}}}function Ha(e,t,n){return Ua(e,t.parent,n)}function Ua(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[Tt];if(ngDevMode&&Qo(o,7),2&o.flags){ngDevMode&&cn(o,n);const t=e.data[o.directiveStart].encapsulation;if(t===Qe.None||t===Qe.Emulated)return null}return zn(o,n)}function Ba(e,t,n,o,r){ngDevMode&&ngDevMode.rendererInsertBefore++,Un(e)?e.insertBefore(t,n,o,r):t.insertBefore(n,o,r)}function Wa(e,t,n){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&Se(t,"parent node must be defined"),Un(e)?e.appendChild(t,n):t.appendChild(n)}function qa(e,t,n,o,r){null!==o?Ba(e,t,n,o,r):Wa(e,t,n)}function za(e,t){return Un(e)?e.parentNode(t):t.parentNode}function Ka(e,t,n){return Za(e,t,n)}function Ja(e,t,n){return 40&e.type?zn(e,n):null}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(Ma||(Ma={}));let Ga,Za=Ja;function Qa(e,t){Za=e,Ga=t}function Ya(e,t,n,o){const r=Ha(e,o,t),i=t[Lt],s=Ka(o.parent||t[Pt],o,t);if(null!=r)if(Array.isArray(n))for(let e=0;e<n.length;e++)qa(i,r,n[e],s,!1);else qa(i,r,n,s,!1);void 0!==Ga&&Ga(i,o,t,n,r)}function Xa(e,t){if(null!==t){ngDevMode&&Qo(t,63);const n=t.type;if(3&n)return zn(t,e);if(4&n)return tc(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Xa(e,n);{const n=e[t.index];return nn(n)?tc(-1,n):Wn(n)}}if(32&n)return Ia(t,e)()||Wn(e[t.index]);{const n=ec(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=Ea(e[Wt]);return ngDevMode&&_n(t),Xa(t,n)}return Xa(e,t.next)}}return null}function ec(e,t){if(null!==t){const n=e[Wt][Pt],o=t.projection;return ngDevMode&&function(e){Se(e[Wt],"Component views should exist."),Se(e[Wt][Pt].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),n.projection[o]}return null}function tc(e,t){const n=en+e+1;if(n<t.length){const e=t[n],o=e[St].firstChild;if(null!==o)return Xa(e,o)}return t[Yt]}function nc(e,t,n){ngDevMode&&ngDevMode.rendererRemoveNode++;const o=za(e,t);o&&function(e,t,n,o){Un(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}function oc(e,t,n,o,r,i,s){for(;null!=n;){ngDevMode&&cn(n,o),ngDevMode&&Qo(n,63);const a=o[n.index],c=n.type;if(s&&0===t&&(a&&Ys(Wn(a),o),n.flags|=4),64&~n.flags)if(8&c)oc(e,t,n.child,o,r,i,!1),Na(t,e,r,a,i);else if(32&c){const s=Ia(n,o);let c;for(;c=s();)Na(t,e,r,c,i);Na(t,e,r,a,i)}else 16&c?ic(e,t,o,n,r,i):(ngDevMode&&Qo(n,7),Na(t,e,r,a,i));n=s?n.projectionNext:n.next}}function rc(e,t,n,o,r,i){oc(n,o,e.firstChild,t,r,i,!1)}function ic(e,t,n,o,r,i){const s=n[Wt],a=s[Pt];ngDevMode&&_e(typeof o.projection,"number","expecting projection index");const c=a.projection[o.projection];if(Array.isArray(c))for(let n=0;n<c.length;n++)Na(t,e,r,c[n],i);else oc(e,t,c,s[At],r,i,!0)}function sc(e,t,n){ngDevMode&&we(n,"'newValue' should be a string"),Un(e)?e.setAttribute(t,"style",n):t.style.cssText=n,ngDevMode&&ngDevMode.rendererSetStyle++}function ac(e,t,n){ngDevMode&&we(n,"'newValue' should be a string"),Un(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n,ngDevMode&&ngDevMode.rendererSetClassName++}function cc(e,t,n){ngDevMode&&Ce(t,"",'can not look for "" string.');let o=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===o||e.charCodeAt(r+n)<=32)return r}n=r+1}}const lc="ng-template";function uc(e,t,n){ngDevMode&&_e(t,t.toLowerCase(),"Class name expected to be lowercase.");let o=0;for(;o<e.length;){let r=e[o++];if(n&&"class"===r){if(r=e[o],-1!==cc(r.toLowerCase(),t,0))return!0}else if(1===r){for(;o<e.length&&"string"==typeof(r=e[o++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function fc(e){return 4===e.type&&e.value!==lc}function dc(e,t,n){return t===(4!==e.type||n?e.value:lc)}function pc(e,t,n){ngDevMode&&Se(t[0],"Selector should have a tag name");let o=4;const r=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(Xo(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&o){if(o=2|1&o,""!==c&&!dc(e,c,n)||""===c&&1===t.length){if(hc(o))return!1;s=!0}}else{const l=8&o?c:t[++a];if(8&o&&null!==e.attrs){if(!uc(e.attrs,l,n)){if(hc(o))return!1;s=!0}continue}const u=gc(8&o?"class":c,r,fc(e),n);if(-1===u){if(hc(o))return!1;s=!0;continue}if(""!==l){let e;u>i?e="":(ngDevMode&&Ce(r[u],0,"We do not match directives on namespaced attributes"),e=r[u+1].toLowerCase());const t=8&o?e:null;if(t&&-1!==cc(t,l,0)||2&o&&l!==e){if(hc(o))return!1;s=!0}}}}else{if(!s&&!hc(o)&&!hc(c))return!1;if(s&&hc(c))continue;s=!1,o=c|1&o}}return hc(o)||s}function hc(e){return!(1&e)}function gc(e,t,n,o){if(null===t)return-1;let r=0;if(o||!n){let n=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)n=!0;else{if(1===o||2===o){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function yc(e,t,n=!1){for(let o=0;o<t.length;o++)if(pc(e,t[o],n))return!0;return!1}function mc(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let t=0;t<e.length;t++)if(e[t]!==o[t])continue e;return!0}}return!1}function vc(e,t){return e?":not("+t.trim()+")":t}function bc(e){let t=e[0],n=1,o=2,r="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&o){const t=e[++n];r+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""===r||hc(s)||(t+=vc(i,r),r=""),o=s,i=i||!hc(o);n++}return""!==r&&(t+=vc(i,r)),t}const wc="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function _c(e){ngDevMode&&Ee(e,0,"Can only advance forward"),Cc(so(),io(),jo()+e,go())}function Cc(e,t,n,o){if(ngDevMode&&function(e,t){const n=e[1];wn(Jt,n.bindingStartIndex,t)}(t,n),!o)if(3&~t[Ot]){const o=e.preOrderHooks;null!==o&&Wo(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&Bo(t,o,n)}Vo(n)}function Dc(e){if(!ngDevMode)throw new Error("Looks like we are in 'prod mode', but we are creating a named Array type, which is wrong! Check your code");try{return function(...e){if("undefined"==typeof ngDevMode)throw new Error("newTrustedFunctionForDev should never be called in production");if(!ot.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=ot.eval((o=t,Bi()?.createScript(o)||o));var o;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(ot))}("Array",`return class ${e} extends Array{}`)(Array)}catch(e){return Array}}function Mc(e,t){return ngDevMode&&be(e,0,32767),ngDevMode&&be(t,0,32767),e<<17|t<<2}function xc(e){return ngDevMode&&ve(e,"expected number"),e>>17&32767}function Ic(e){return ngDevMode&&ve(e,"expected number"),!(2&~e)}function Ec(e){return ngDevMode&&ve(e,"expected number"),2|e}function Tc(e){return ngDevMode&&ve(e,"expected number"),(131068&e)>>2}function Sc(e,t){return ngDevMode&&ve(e,"expected number"),ngDevMode&&be(t,0,32767),-131069&e|t<<2}function Oc(e){return ngDevMode&&ve(e,"expected number"),!(1&~e)}function Ac(e){return ngDevMode&&ve(e,"expected number"),1|e}function Nc(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{value:t,enumerable:!1})}function kc(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:t,enumerable:!1})}let Pc,Rc,jc,Vc,$c;class Lc extends Array{}class Fc extends Array{}class Hc extends Array{}function Uc(e){if(null==e)return"";const t=e.lastIndexOf("_Template");return"_"+(-1===t?e:e.substr(0,t))}const Bc=class{constructor(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v,b,w,_,C,D,M,x,I,E,T,S,O,A){this.type=e,this.blueprint=t,this.template=n,this.queries=o,this.viewQuery=r,this.declTNode=i,this.data=s,this.bindingStartIndex=a,this.expandoStartIndex=c,this.hostBindingOpCodes=l,this.firstCreatePass=u,this.firstUpdatePass=f,this.staticViewQueries=d,this.staticContentQueries=p,this.preOrderHooks=h,this.preOrderCheckHooks=g,this.contentHooks=y,this.contentCheckHooks=m,this.viewHooks=v,this.viewCheckHooks=b,this.destroyHooks=w,this.cleanup=_,this.contentQueries=C,this.components=D,this.directiveRegistry=M,this.pipeRegistry=x,this.firstChild=I,this.schemas=E,this.consts=T,this.incompleteFirstPass=S,this._decls=O,this._vars=A}get template_(){const e=[];return zc(this.firstChild,e),e.join("")}get type_(){return Gt[this.type]||`TViewType.?${this.type}?`}},Wc=class{constructor(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v,b,w,_,C,D,M,x,I,E,T,S,O,A){this.tView_=e,this.type=t,this.index=n,this.insertBeforeIndex=o,this.injectorIndex=r,this.directiveStart=i,this.directiveEnd=s,this.directiveStylingLast=a,this.propertyBindings=c,this.flags=l,this.providerIndexes=u,this.value=f,this.attrs=d,this.mergedAttrs=p,this.localNames=h,this.initialInputs=g,this.inputs=y,this.outputs=m,this.tViews=v,this.next=b,this.projectionNext=w,this.child=_,this.parent=C,this.projection=D,this.styles=M,this.stylesWithoutHost=x,this.residualStyles=I,this.classes=E,this.classesWithoutHost=T,this.residualClasses=S,this.classBindings=O,this.styleBindings=A}debugNodeInjectorPath(e){const t=[];let n=pr(this,e);if(-1===n){const t=hr(this,e);t!==Jo&&(n=rr(t),e=ir(t,e))}for(;-1!==n;){ngDevMode&&Cn(e,n);const o=e[St].data[n+8];t.push(cl(o,e));const r=e[n+8];r===Jo?n=-1:(n=rr(r),e=ir(r,e))}return t}get type_(){return Zo(this.type)||`TNodeType.?${this.type}?`}get flags_(){const e=[];return 16&this.flags&&e.push("TNodeFlags.hasClassInput"),8&this.flags&&e.push("TNodeFlags.hasContentQuery"),32&this.flags&&e.push("TNodeFlags.hasStyleInput"),128&this.flags&&e.push("TNodeFlags.hasHostBindings"),2&this.flags&&e.push("TNodeFlags.isComponentHost"),1&this.flags&&e.push("TNodeFlags.isDirectiveHost"),64&this.flags&&e.push("TNodeFlags.isDetached"),4&this.flags&&e.push("TNodeFlags.isProjected"),e.join("|")}get template_(){if(1&this.type)return this.value;const e=[],t="string"==typeof this.value&&this.value||this.type_;if(e.push("<",t),this.flags&&e.push(" ",this.flags_),this.attrs)for(let t=0;t<this.attrs.length;){const n=this.attrs[t++];if("number"==typeof n)break;const o=this.attrs[t++];e.push(" ",n,'="',o,'"')}return e.push(">"),zc(this.child,e),e.push("</",t,">"),e.join("")}get styleBindings_(){return qc(this,!1)}get classBindings_(){return qc(this,!0)}get providerIndexStart_(){return 1048575&this.providerIndexes}get providerIndexEnd_(){return this.providerIndexStart_+(this.providerIndexes>>>20)}};function qc(e,t){const n=e.tView_.data,o=[],r=t?e.classBindings:e.styleBindings,i=xc(r),s=Tc(r);let a=0!==s,c=a?s:i;for(;0!==c;){const e=n[c],t=n[c+1];o.unshift({key:e,index:c,isTemplate:a,prevDuplicate:Ic(t),nextDuplicate:Oc(t),nextIndex:Tc(t),prevIndex:xc(t)}),c===i&&(a=!1),c=xc(t)}return o.push((t?e.residualClasses:e.residualStyles)||null),o}function zc(e,t){for(;e;)t.push(e.template_),e=e.next}class Kc extends Array{}let Jc;class Gc extends Array{}class Zc extends Array{}class Qc extends Array{}class Yc extends Array{}class Xc extends Array{}class el extends Array{}class tl extends Array{}function nl(e){if(e){const t=e.debug;return Se(t,"Object does not have a debug representation."),t}return e}function ol(e,t=!1){const n=Wn(e);if(n)switch(n.nodeType){case Node.TEXT_NODE:return n.textContent;case Node.COMMENT_NODE:return`\x3c!--${n.textContent}--\x3e`;case Node.ELEMENT_NODE:const e=n.outerHTML;if(t)return e;{const t=">"+n.innerHTML+"<";return e.split(t)[0]+">"}}return null}class rl{constructor(e){this._raw_lView=e}get flags(){const e=this._raw_lView[Ot];return{__raw__flags__:e,initPhaseState:3&e,creationMode:!!(4&e),firstViewPass:!!(8&e),checkAlways:!!(16&e),dirty:!!(64&e),attached:!!(128&e),destroyed:!!(256&e),isRoot:!!(512&e),indexWithinInitPhase:e>>11}}get parent(){return nl(this._raw_lView[At])}get hostHTML(){return ol(this._raw_lView[Tt],!0)}get html(){return(this.nodes||[]).map(il).join("")}get context(){return this._raw_lView[jt]}get nodes(){const e=this._raw_lView;return al(e[St].firstChild,e)}get template(){return this.tView.template_}get tView(){return this._raw_lView[St]}get cleanup(){return this._raw_lView[Rt]}get injector(){return this._raw_lView[Vt]}get rendererFactory(){return this._raw_lView[$t]}get renderer(){return this._raw_lView[Lt]}get sanitizer(){return this._raw_lView[Ft]}get childHead(){return nl(this._raw_lView[Ht])}get next(){return nl(this._raw_lView[Nt])}get childTail(){return nl(this._raw_lView[Ut])}get declarationView(){return nl(this._raw_lView[Bt])}get queries(){return this._raw_lView[Kt]}get tHost(){return this._raw_lView[Pt]}get decls(){return sl(this.tView,this._raw_lView,Jt,this.tView.bindingStartIndex)}get vars(){return sl(this.tView,this._raw_lView,this.tView.bindingStartIndex,this.tView.expandoStartIndex)}get expando(){return sl(this.tView,this._raw_lView,this.tView.expandoStartIndex,this._raw_lView.length)}get childViews(){const e=[];let t=this.childHead;for(;t;)e.push(t),t=t.next;return e}}function il(e){if("ElementContainer"===e.type)return(e.children||[]).map(il).join("");if("IcuContainer"===e.type)throw new Error("Not implemented");return ol(e.native,!0)||""}function sl(e,t,n,o){let r=[];for(let i=n;i<o;i++)r.push({index:i,t:e.data[i],l:t[i]});return{start:n,end:o,length:o-n,content:r}}function al(e,t){if(e){const n=[];let o=e;for(;o;)n.push(cl(o,t)),o=o.next;return n}return[]}function cl(e,t){const n=Wn(t[e.index]),o=[],r=[],i=t[St];for(let n=e.directiveStart;n<e.directiveEnd;n++){const e=i.data[n];o.push(e.type),r.push(t[n])}return{html:ol(n),type:Zo(e.type),tNode:e,native:n,children:al(e.child,t),factories:o,instances:r,injector:ll(e,i,t),get injectorResolutionPath(){return e.debugNodeInjectorPath(t)}}}function ll(e,t,n){const o=[];for(let n=e.providerIndexStart_;n<e.providerIndexEnd_;n++)o.push(t.data[n]);const r=[];for(let n=e.providerIndexEnd_;n<e.directiveEnd;n++)r.push(t.data[n]);return{bloom:fl(n,e.injectorIndex),cumulativeBloom:fl(t.data,e.injectorIndex),providers:r,viewProviders:o,parentInjectorIndex:n[e.providerIndexStart_-1]}}function ul(e,t){const n=e[t];if("number"!=typeof n)return"????????";const o="00000000"+n.toString(2);return o.substring(o.length-8)}function fl(e,t){return t<0?"NO_NODE_INJECTOR":`${ul(e,t+7)}_${ul(e,t+6)}_${ul(e,t+5)}_${ul(e,t+4)}_${ul(e,t+3)}_${ul(e,t+2)}_${ul(e,t+1)}_${ul(e,t+0)}`}class dl{constructor(e){this._raw_lContainer=e}get hasTransplantedViews(){return this._raw_lContainer[Qt]}get views(){return this._raw_lContainer.slice(en).map(nl)}get parent(){return nl(this._raw_lContainer[At])}get movedViews(){return this._raw_lContainer[Xt]}get host(){return this._raw_lContainer[Tt]}get native(){return this._raw_lContainer[Yt]}get next(){return nl(this._raw_lContainer[Nt])}}const pl=Promise.resolve(null);function hl(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const r=n[o],i=n[o+1];if(-1!==i){const n=e.data[i];ngDevMode&&Se(n,"DirectiveDef not found."),ngDevMode&&Se(n.contentQueries,"contentQueries function should be defined"),Eo(r),n.contentQueries(2,t[i],i)}}}function gl(e,t,n,o,r,i,s,a,c,l){const u=ngDevMode?function(e){return function(e,t){switch(e){case 0:return void 0===jc&&(jc=new Lc),jc;case 1:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===Vc&&(Vc=new Fc),Vc;void 0===Pc&&(Pc=new Map);let e=Pc.get(t);return void 0===e&&(e=new(Dc("LComponentView"+Uc(t))),Pc.set(t,e)),e;case 2:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===$c&&($c=new Hc),$c;void 0===Rc&&(Rc=new Map);let n=Rc.get(t);return void 0===n&&(n=new(Dc("LEmbeddedView"+Uc(t))),Rc.set(t,n)),n}}(e.type,e.template&&e.template.name).concat(e.blueprint)}(t):t.blueprint.slice();return u[Tt]=r,u[Ot]=140|o,Xn(u),ngDevMode&&t.declTNode&&e&&cn(t.declTNode,e),u[At]=u[Bt]=e,u[jt]=n,u[$t]=s||e&&e[$t],ngDevMode&&Se(u[$t],"RendererFactory is required"),u[Lt]=a||e&&e[Lt],ngDevMode&&Se(u[Lt],"Renderer is required"),u[Ft]=c||e&&e[Ft]||null,u[Vt]=l||e&&e[Vt]||null,u[Pt]=i,ngDevMode&&_e(2!=t.type||null!==e,!0,"Embedded views must have parentLView"),u[Wt]=2==t.type?e[Wt]:u,ngDevMode&&function(e){Nc(e,new rl(e))}(u),u}function yl(e,t,n,o,r){ngDevMode&&0!==t&&Te(t,Jt,"TNodes can't be in the LView header."),ngDevMode&&function(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&Oe(`Expected TNodeType to have only a single type selected, but got ${Zo(e)}.`)}(n);let i=e.data[t];if(null===i)i=ml(e,t,n,o,r),to.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=o,i.attrs=r;const s=uo();i.injectorIndex=null===s?-1:s.injectorIndex,ngDevMode&&ln(i,e),ngDevMode&&_e(t,i.index,"Expecting same index")}return fo(i,!0),i}function ml(e,t,n,o,r){const i=lo(),s=po(),a=s?i:i&&i.parent,c=e.data[t]=function(e,t,n,o,r,i){ngDevMode&&0!==o&&Te(o,Jt,"TNodes can't be in the LView header."),ngDevMode&&Me(i,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&t&&ln(t,e);let s=t?t.injectorIndex:-1;const a=ngDevMode?new Wc(e,n,o,null,s,-1,-1,-1,null,0,0,r,i,null,null,void 0,null,null,null,null,null,null,t,null,null,null,void 0,null,null,void 0,0,0):{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return ngDevMode&&Object.seal(a),a}(e,a,n,t,o,r);return null===e.firstChild&&(e.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}function vl(e,t,n,o){if(0===n)return-1;ngDevMode&&(mn(e),De(e,t[St],"`LView` must be associated with `TView`!"),_e(e.data.length,t.length,"Expecting LView to be same size as TView"),_e(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),vn(e));const r=t.length;for(let r=0;r<n;r++)t.push(o),e.blueprint.push(o),e.data.push(null);return r}function bl(e,t,n){ngDevMode&&_e(Zn(t),!0,"Should be run in creation mode"),Oo(t);try{const o=e.viewQuery;null!==o&&ou(1,o,n);const r=e.template;null!==r&&Cl(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&hl(e,t),e.staticViewQueries&&ou(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)Ql(e,t[n])}(t,i)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[Ot]&=-5,Ro()}}function wl(e,t,n,o){ngDevMode&&_e(Zn(t),!1,"Should be run in update mode");const r=t[Ot];if(!(256&~r))return;Oo(t);const i=go();try{Xn(t),bo(e.bindingStartIndex),null!==n&&Cl(e,t,n,2,o);const s=!(3&~r);if(!i)if(s){const n=e.preOrderCheckHooks;null!==n&&Bo(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Wo(t,n,0,null),qo(t,0)}if(function(e){for(let t=Sa(e);null!==t;t=Oa(t)){if(!t[Qt])continue;const e=t[Xt];ngDevMode&&Se(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let t=0;t<e.length;t++){const n=e[t],o=n[At];ngDevMode&&hn(o),1024&n[Ot]||eo(o,1),n[Ot]|=1024}}}(t),function(e){for(let t=Sa(e);null!==t;t=Oa(t))for(let e=en;e<t.length;e++){const n=t[e],o=n[St];ngDevMode&&Se(o,"TView must be allocated"),Qn(n)&&wl(o,n,o.template,n[jt])}}(t),null!==e.contentQueries&&hl(e,t),!i)if(s){const n=e.contentCheckHooks;null!==n&&Bo(t,n)}else{const n=e.contentHooks;null!==n&&Wo(t,n,1),qo(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const o=n[e];if(o<0)Vo(~o);else{const r=o,i=n[++e],s=n[++e];Do(i,r),s(2,t[r])}}}finally{Vo(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Gl(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ou(2,c,o),!i)if(s){const n=e.viewCheckHooks;null!==n&&Bo(t,n)}else{const n=e.viewHooks;null!==n&&Wo(t,n,2),qo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[Ot]&=-73),1024&t[Ot]&&(t[Ot]&=-1025,eo(t[At],-1))}finally{Ro()}}function _l(e,t,n,o){const r=t[$t],i=!go(),s=Zn(t);try{i&&!s&&r.begin&&r.begin(),s&&bl(e,t,o),wl(e,t,n,o)}finally{i&&!s&&r.end&&r.end()}}function Cl(e,t,n,o,r){const i=jo(),s=2&o;try{Vo(-1),s&&t.length>Jt&&Cc(e,t,Jt,go()),kn(s?2:0,r),n(o,r)}finally{Vo(i),kn(s?3:1,r)}}function Dl(e,t,n){if(on(t)){const o=t.directiveStart,r=t.directiveEnd;for(let t=o;t<r;t++){const o=e.data[t];o.contentQueries&&o.contentQueries(1,n[t],t)}}}function Ml(e,t,n){no()&&(function(e,t,n,o){const r=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||fr(n,t),Ys(o,t);const s=n.initialInputs;for(let o=r;o<i;o++){const i=e.data[o],a=an(i);a&&(ngDevMode&&Qo(n,3),Ul(t,n,i));const c=Dr(t,e,o,n);Ys(c,t),null!==s&&ql(t,o-r,c,i,n,s),a&&(Gn(n.index,t)[jt]=c)}}(e,t,n,zn(n,t)),128&~n.flags||function(e,t,n){const o=n.directiveStart,r=n.directiveEnd,i=(e.firstCreatePass,n.index),s=to.lFrame.currentDirectiveIndex;try{Vo(i);for(let n=o;n<r;n++){const o=e.data[n],r=t[n];Mo(n),null===o.hostBindings&&0===o.hostVars&&null===o.hostAttrs||Vl(o,r)}}finally{Vo(-1),Mo(s)}}(e,t,n))}function xl(e,t,n=zn){const o=t.localNames;if(null!==o){let r=t.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function Il(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=El(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function El(e,t,n,o,r,i,s,a,c,l){ngDevMode&&ngDevMode.tView++;const u=Jt+o,f=u+r,d=function(e,t){const n=ngDevMode?new Gc:[];for(let o=0;o<t;o++)n.push(o<e?null:wc);return n}(u,f),p="function"==typeof l?l():l,h=d[St]=ngDevMode?new Bc(e,d,n,null,a,t,(g=d,void 0===Jc&&(Jc=new Kc),Jc.concat(g)).fill(null,u),u,f,null,!0,!0,!1,!1,null,null,null,null,null,null,null,null,null,null,"function"==typeof i?i():i,"function"==typeof s?s():s,null,c,p,!1,o,r):{type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1};var g;return ngDevMode&&Object.seal(h),h}function Tl(e,t,n){if(Un(e)){const o=n===Qe.ShadowDom;return e.selectRootElement(t,o)}let o="string"==typeof t?e.querySelector(t):t;return ngDevMode&&function(e,t){if(!e)throw new Error(`Renderer: ${"string"==typeof t?"Host node with selector not found:":"Host node is required:"} [${he(t)}]`)}(o,t),o.textContent="",o}function Sl(e,t,n,o){const r=su(t);null===n?(ngDevMode&&Object.freeze(au(e)),r.push(o)):(r.push(n),e.firstCreatePass&&au(e).push(o,r.length-1))}function Ol(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const r=e[o];n.hasOwnProperty(o)?n[o].push(t,r):n[o]=[t,r]}return n}function Al(e,t,n,o,r,i,s,a){ngDevMode&&Me(r,wc,"Incoming value should never be NO_CHANGE.");const c=zn(t,n);let l,u=t.inputs;if(!a&&null!=u&&(l=u[o]))uu(e,n,l,o,r),rn(t)&&function(e,t){ngDevMode&&yn(e);const n=Gn(t,e);16&n[Ot]||(n[Ot]|=64)}(n,t.index),ngDevMode&&function(e,t,n,o,r){if(7&n)for(let i=0;i<o.length;i+=2)Nl(e,t,n,o[i+1],r)}(n,c,t.type,l,r);else if(3&t.type){if(o="class"===(f=o)?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f,ngDevMode){if(function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new fe(306,t)}}(o),!function(e,t,n,o){return null===e.schemas||(!!(kl(e,o.value)||n in t||er(n))||("undefined"==typeof Node||null===Node||!(t instanceof Node)))}(e,c,o,t))return void Pl(o,t);ngDevMode.rendererSetProperty++}r=null!=s?s(r,t.value||"",o):r,Un(i)?i.setProperty(c,o,r):er(o)||(c.setProperty?c.setProperty(o,r):c[o]=r)}else 12&t.type&&ngDevMode&&!kl(e,t.value)&&Pl(o,t);var f}function Nl(e,t,n,o,r){const i=e[Lt];var s;s=o.replace(/[$@]/g,"_"),o=`ng-reflect-${s.replace(ga,((...e)=>"-"+e[1].toLowerCase()))}`;const a=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(r);if(3&n)null==r?Un(i)?i.removeAttribute(t,o):t.removeAttribute(o):Un(i)?i.setAttribute(t,o,a):t.setAttribute(o,a);else{const e=ha(`bindings=${JSON.stringify({[o]:a},null,2)}`);Un(i)?i.setValue(t,e):t.textContent=e}}function kl(e,t){const n=e.schemas;if(null!==n)for(let e=0;e<n.length;e++){const o=n[e];if(o===ua||o===la&&t&&t.indexOf("-")>-1)return!0}return!1}function Pl(e,t){let n=`Can't bind to '${e}' since it isn't a known property of '${t.value}'.`;console.error(de(303,n))}function Rl(e,t,n,o){ngDevMode&&mn(e);let r=!1;if(no()){const i=function(e,t,n){ngDevMode&&mn(e),ngDevMode&&Qo(n,15);const o=e.directiveRegistry;let r=null;if(o)for(let i=0;i<o.length;i++){const s=o[i];yc(n,s.selectors,!1)&&(r||(r=ngDevMode?new Zc:[]),gr(fr(n,t),e,s.type),an(s)?(ngDevMode&&(Qo(n,2,`"${n.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${re(s.type)} component.`),2&n.flags&&Ca(n)),$l(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===o?null:{"":-1};if(null!==i){r=!0,Fl(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,c=vl(e,t,i.length,null);ngDevMode&&De(c,n.directiveStart,"TNode.directiveStart should point to just allocated space");for(let r=0;r<i.length;r++){const l=i[r];n.mergedAttrs=tr(n.mergedAttrs,l.hostAttrs),Hl(e,n,t,c,l),Ll(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),o=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){ngDevMode&&mn(e);const n=t.directiveStart,o=t.directiveEnd,r=e.data,i=t.attrs,s=ngDevMode?new Xc:[];let a=null,c=null;for(let e=n;e<o;e++){const n=r[e],o=n.inputs,l=null===i||fc(t)?null:zl(o,i);s.push(l),a=Ol(o,e,a),c=Ol(n.outputs,e,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}(e,n)}s&&function(e,t,n){if(t){const o=e.localNames=ngDevMode?new Yc:[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new fe(-301,ngDevMode&&`Export of name '${t[e+1]}' not found!`);o.push(t[e],r)}}}(n,o,s)}return n.mergedAttrs=tr(n.mergedAttrs,n.attrs),r}function jl(e,t,n,o,r,i){ngDevMode&&mn(e);const s=i.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(o,r,s)}}function Vl(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $l(e,t){ngDevMode&&mn(e),t.flags|=2,(e.components||(e.components=ngDevMode?new Qc:[])).push(t.index)}function Ll(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;an(t)&&(n[""]=e)}}function Fl(e,t,n){ngDevMode&&Ce(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hl(e,t,n,o,r){ngDevMode&&Te(o,Jt,"Must be in Expando section"),e.data[o]=r;const i=r.factory||(r.factory=Dn(r.type,!0)),s=new Go(i,an(r),null);e.blueprint[o]=s,n[o]=s,jl(e,t,0,o,vl(e,n,r.hostVars,wc),r)}function Ul(e,t,n){const o=zn(t,e),r=Il(n),i=e[$t],s=Yl(e,gl(e,r,null,n.onPush?64:16,o,t,i,i.createRenderer(o,n),null,null));e[t.index]=s}function Bl(e,t,n,o,r,i){ngDevMode&&(Me(o,wc,"Incoming value should never be NO_CHANGE."),function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new fe(306,t)}}(n),Qo(e,2,`Attempted to set attribute \`${n}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const s=zn(e,t);Wl(t[Lt],s,i,e.value,n,o,r)}function Wl(e,t,n,o,r,i,s){if(null==i)ngDevMode&&ngDevMode.rendererRemoveAttribute++,Un(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const a=null==s?pe(i):s(i,o||"",r);Un(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}function ql(e,t,n,o,r,i){const s=i[t];if(null!==s){const t=o.setInput;for(let i=0;i<s.length;){const a=s[i++],c=s[i++],l=s[i++];null!==t?o.setInput(n,l,a,c):n[c]=l,ngDevMode&&Nl(e,zn(r,e),r.type,c,l)}}}function zl(e,t){let n=null,o=0;for(;o<t.length;){const r=t[o];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[o+1])),o+=2}else o+=2;else o+=4}return n}const Kl=class extends Array{};function Jl(e,t,n,o){ngDevMode&&yn(t),ngDevMode&&!Un(t[Lt])&&Ae(n);const r=new(ngDevMode?Kl:Array)(e,!0,!1,t,null,0,o,n,null,null);return ngDevMode&&_e(r.length,en,"Should allocate correct number of slots for LContainer header."),ngDevMode&&function(e){Nc(e,new dl(e))}(r),r}function Gl(e,t){ngDevMode&&_e(Zn(e),!1,"Should be run in update mode");const n=Gn(t,e);if(Qn(n)){const e=n[St];80&n[Ot]?wl(e,n,e.template,n[jt]):n[kt]>0&&Zl(n)}}function Zl(e){for(let t=Sa(e);null!==t;t=Oa(t))for(let e=en;e<t.length;e++){const n=t[e];if(1024&n[Ot]){const e=n[St];ngDevMode&&Se(e,"TView must be allocated"),wl(e,n,e.template,n[jt])}else n[kt]>0&&Zl(n)}const t=e[St].components;if(null!==t)for(let n=0;n<t.length;n++){const o=Gn(t[n],e);Qn(o)&&o[kt]>0&&Zl(o)}}function Ql(e,t){ngDevMode&&_e(Zn(e),!0,"Should be run in creation mode");const n=Gn(t,e),o=n[St];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n),bl(o,n,n[jt])}function Yl(e,t){return e[Ht]?e[Ut][Nt]=t:e[Ht]=t,e[Ut]=t,t}function Xl(e){for(;e;){e[Ot]|=64;const t=Ea(e);if(512&e[Ot]&&!t)return e;e=t}return null}function eu(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=ea(n),r=o[St];_l(r,o,r.template,n)}}function tu(e,t,n){const o=t[$t];o.begin&&o.begin();try{wl(e,t,e.template,n)}catch(e){throw lu(t,e),e}finally{o.end&&o.end()}}function nu(e){eu(e[jt])}function ou(e,t,n){ngDevMode&&Se(t,"View queries function to execute must be defined."),Eo(0),t(e,n)}function ru(e,t,n,o,...r){if(null===e[o]&&(null==t.inputs||!t.inputs[n])){(t.propertyBindings||(t.propertyBindings=[])).push(o);let i=n;r.length>0&&(i+=wa+r.join(wa)),e[o]=i}}const iu=pl;function su(e){return e[Rt]||(e[Rt]=ngDevMode?new el:[])}function au(e){return e.cleanup||(e.cleanup=ngDevMode?new tl:[])}function cu(e,t,n){return(null===e||an(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[Zt])return e;e=e[Tt]}return null}(n[t.index])),n[Lt]}function lu(e,t){const n=e[Vt],o=n?n.get(ca,null):null;o&&o.handleError(t)}function uu(e,t,n,o,r){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],c=t[s];ngDevMode&&Ne(t,s);const l=e.data[s];null!==l.setInput?l.setInput(c,r,o,a):c[a]=r}}function fu(e,t,n){ngDevMode&&we(n,"Value should be a string"),ngDevMode&&Me(n,wc,"value should not be NO_CHANGE"),ngDevMode&&Ne(e,t);const o=qn(t,e);ngDevMode&&Se(o,"native element should exist"),Pa(e[Lt],o,n)}function du(e,t,n){ngDevMode&&mn(so(),"Expecting to be called in first template pass only");let o=n?e.styles:null,r=n?e.classes:null,i=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];"number"==typeof n?i=n:1==i?r=ie(r,n):2==i&&(o=ie(o,n+": "+t[++e]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=r:e.classesWithoutHost=r}function pu(e){const t=Zs(e);tu(t[St],t,e)}function hu(e){ngDevMode&&Se(e,"component");const t=Xl(Zs(e));ngDevMode&&Se(t[jt],"rootContext should be defined"),function(e){if(0===e.flags&&e.clean==pl){let t;e.flags|=1,e.clean=new Promise((e=>t=e)),e.scheduler((()=>{if(1&e.flags&&(e.flags&=-2,eu(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=pl,t(null)}))}}(t[jt])}const gu=new $r("INJECTOR",-1);class yu{get(e,t=di){if(t===di){const t=new Error(`NullInjectorError: No provider for ${re(e)}!`);throw t.name="NullInjectorError",t}return t}}const mu=new $r("Set Injector scope."),vu={},bu={};let wu;function _u(){return void 0===wu&&(wu=new yu),wu}function Cu(e,t=null,n=null,o){const r=Du(e,t,n,o);return r._resolveInjectorDefTypes(),r}function Du(e,t=null,n=null,o){return new Mu(e,n,t||_u(),o)}class Mu{constructor(e,t,n,o=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&Yr(t,(n=>this.processProvider(n,e,t))),Yr([e],(e=>this.processInjectorType(e,[],r))),this.records.set(gu,Eu(void 0,this));const i=this.records.get(mu);this.scope=null!=i?i.value:null,this.source=o||("object"==typeof e?null:re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((e=>e.ngOnDestroy()))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=di,n=We.Default){this.assertNotDestroyed();const o=bi(this),r=ze(void 0);try{if(!(n&We.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof $r)&&Ve(e);t=n&&this.injectableDefInScope(n)?Eu(xu(e),vu):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const o=n&We.Self?_u():this.parent;return t=n&We.Optional&&t===di?null:t,o.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[hi]=t[hi]||[]).unshift(re(e)),o)throw t;return function(e,t,n,o){const r=e[hi];throw t[yi]&&r.unshift(t[yi]),e.message=function(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.substr(2):e;let r=re(t);if(Array.isArray(t))r=t.map(re).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let o=t[n];e.push(n+":"+("string"==typeof o?JSON.stringify(o):re(o)))}r=`{${e.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${e.replace(gi,"\n  ")}`}("\n"+e.message,r,n,o),e.ngTokenPath=r,e[hi]=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{ze(r),bi(o)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach((e=>this.get(e)))}toString(){const e=[];return this.records.forEach(((t,n)=>e.push(re(n)))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,ngDevMode&&"Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=ce(e)))return!1;let o=Le(e);const r=null==o&&e.ngModule||void 0,i=void 0===r?e:r;ngDevMode&&-1!==t.indexOf(i)&&ge(re(i),t.map(re));const s=-1!==n.indexOf(i);if(void 0!==r&&(o=Le(r)),null==o)return!1;if(null!=o.imports&&!s){let e;ngDevMode&&t.push(i),n.push(i);try{Yr(o.imports,(o=>{this.processInjectorType(o,t,n)&&(void 0===e&&(e=[]),e.push(o))}))}finally{ngDevMode&&t.pop()}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:o}=e[t];Yr(o,(e=>this.processProvider(e,n,o||st)))}}this.injectorDefTypes.add(i);const a=Dn(i)||(()=>new i);this.records.set(i,Eu(a,vu));const c=o.providers;if(null!=c&&!s){const t=e;Yr(c,(e=>this.processProvider(e,t,c)))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let o=Su(e=ce(e))?e:ce(e&&e.provide);const r=function(e,t,n){return Tu(e)?Eu(void 0,e.useValue):Eu(Iu(e,t,n),vu)}(e,t,n);if(Su(e)||!0!==e.multi){const e=this.records.get(o);ngDevMode&&e&&void 0!==e.multi&&ye()}else{let t=this.records.get(o);t?ngDevMode&&void 0===t.multi&&ye():(t=Eu(void 0,vu,!0),t.factory=()=>Mi(t.multi),this.records.set(o,t)),o=e,t.multi.push(e)}this.records.set(o,r)}hydrate(e,t){var n;return ngDevMode&&t.value===bu?ge(re(e)):t.value===vu&&(t.value=bu,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ce(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function xu(e){const t=Ve(e),n=null!==t?t.factory:Dn(e);if(null!==n)return n;if(e instanceof $r)throw new fe(204,ngDevMode&&`Token ${re(e)} is missing a ɵprov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=ti(t,"?");throw new fe(204,ngDevMode&&`Can't resolve all parameters for ${re(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[Fe]||e[Ue]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new fe(204,ngDevMode&&"unreachable")}function Iu(e,t,n){let o;if(Su(e)){const t=ce(e);return Dn(t)||xu(t)}if(Tu(e))o=()=>ce(e.useValue);else if((r=e)&&r.useFactory)o=()=>e.useFactory(...Mi(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>_i(ce(e.useExisting));else{const r=ce(e&&(e.useClass||e.provide));if(ngDevMode&&!r&&function(e,t,n){let o="";throw e&&t&&(o=` - only instances of Provider and Type are allowed, got: [${t.map((e=>e==n?"?"+n+"?":"...")).join(", ")}]`),new Error(`Invalid provider for the NgModule '${re(e)}'`+o)}(t,n,e),!function(e){return!!e.deps}(e))return Dn(r)||xu(r);o=()=>new r(...Mi(e.deps))}var r;return o}function Eu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Tu(e){return null!==e&&"object"==typeof e&&mi in e}function Su(e){return"function"==typeof e}class Ou{static create(e,t){if(Array.isArray(e))return Cu({name:""},t,e,"");{const t=e.name??"";return Cu({name:t},e.parent,e.providers,t)}}}function Au(e){Hu(e);const t=Js(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[St].data[e];let o=n.directiveStart;return 2&n.flags?t[o]:null}(t.nodeIndex,t.lView)),t.component)}function Nu(e){Hu(e);const t=Js(e);return null===t?null:t.lView[jt]}function ku(e){const t=Js(e);if(null===t)return null;let n,o=t.lView;for(ngDevMode&&yn(o);2===o[St].type&&(n=Ea(o));)o=n;return 512&o[Ot]?null:o[jt]}function Pu(e){return[...Ta(e).components]}function Ru(e){const t=Js(e);if(null===t)return Ou.NULL;const n=t.lView[St].data[t.nodeIndex];return new Ir(n,t.lView)}function ju(e){if(e instanceof Text)return[];const t=Js(e);if(null===t)return[];const n=t.lView,o=n[St],r=t.nodeIndex;return o?.data[r]?(void 0===t.directives&&(t.directives=ra(r,n,!1)),null===t.directives?[]:[...t.directives]):[]}function Vu(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=Mt(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?Ge.OnPush:Ge.Default};const o=xt(t);return o?{inputs:o.inputs,outputs:o.outputs}:null}function $u(e){return Js(e).native}function Lu(e){Hu(e);const t=Js(e);if(null===t)return[];const n=t.lView,o=n[St],r=n[Rt],i=o.cleanup,s=[];if(i&&r)for(let t=0;t<i.length;){const o=i[t++],a=i[t++];if("string"==typeof o){const c=o,l=Wn(n[a]),u=r[i[t++]],f=i[t++],d="boolean"==typeof f||f>=0?"dom":"output",p="boolean"==typeof f&&f;e==l&&s.push({element:e,name:c,callback:u,useCapture:p,type:d})}}return s.sort(Fu),s}function Fu(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Hu(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Uu(e){hu(e),Pu(e).forEach((e=>pu(e)))}Ou.THROW_IF_NOT_FOUND=di,Ou.NULL=new yu,Ou.ɵprov=Pe({token:Ou,providedIn:"any",factory:()=>_i(gu)}),Ou.__NG_ELEMENT_ID__=-1;const Bu="ng";let Wu=!1;function qu(){Wu||(Wu=!0,zu("ɵsetProfiler",Nn),zu("getDirectiveMetadata",Vu),zu("getComponent",Au),zu("getContext",Nu),zu("getListeners",Lu),zu("getOwningComponent",ku),zu("getHostElement",$u),zu("getInjector",Ru),zu("getRootComponents",Pu),zu("getDirectives",ju),zu("applyChanges",Uu))}function zu(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=ot;if(ngDevMode&&Se(t,"function not defined"),n){let o=n[Bu];o||(o=n[Bu]={}),o[e]=t}}}function Ku(e,t={}){ngDevMode&&qu(),ngDevMode&&dn(e);const n=t.rendererFactory||Bn,o=t.sanitizer||null,r=Mt(e);r.type!=e&&(r.type=e);const i=r.selectors[0][0],s=Tl(n.createRenderer(null,null),t.host||i,r.encapsulation),a=r.onPush?576:528,c=Zu(t.scheduler,t.playerHandler),l=n.createRenderer(s,r),u=El(0,null,null,1,0,null,null,null,null,null),f=gl(null,u,c,a,null,null,n,l,null,t.injector||null);let d;Oo(f);try{n.begin&&n.begin(),d=Gu(Ju(s,r,f,n,l,o),r,f,c,t.hostFeatures||null),bl(u,f,null),wl(u,f,null,null)}finally{Ro(),n.end&&n.end()}return d}function Ju(e,t,n,o,r,i){const s=n[St],a=Jt;ngDevMode&&Ne(n,a),n[a]=e;const c=yl(s,a,2,"#host",null),l=c.mergedAttrs=t.hostAttrs;null!==l&&(du(c,l,!0),null!==e&&(Yo(r,e,l),null!==c.classes&&ac(r,e,c.classes),null!==c.styles&&sc(r,e,c.styles)));const u=o.createRenderer(e,t),f=gl(n,Il(t),null,t.onPush?64:16,n[a],c,o,u,i||null,null);return s.firstCreatePass&&(gr(fr(c,n),s,t.type),$l(s,c),Fl(c,n.length,1)),Yl(n,f),n[a]=f}function Gu(e,t,n,o,r){const i=n[St],s=function(e,t,n){const o=co();if(e.firstCreatePass){n.providersResolver&&n.providersResolver(n);const r=vl(e,t,1,null);ngDevMode&&_e(r,o.directiveStart,"Because this is a root component the allocated expando should match the TNode component."),Hl(e,o,t,r,n)}const r=Dr(t,e,o.directiveStart,o);Ys(r,t);const i=zn(o,t);return i&&Ys(i,t),r}(i,n,t);if(o.components.push(s),e[jt]=s,r&&r.forEach((e=>e(s,t))),t.contentQueries){const e=co();ngDevMode&&Se(e,"TNode expected"),t.contentQueries(1,s,e.directiveStart)}const a=co();return ngDevMode&&Se(a,"tNode should have been already created"),!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Vo(a.index),jl(n[St],a,0,a.directiveStart,a.directiveEnd,t),Vl(t,s)),s}function Zu(e,t){return{components:[],scheduler:e||ya,clean:iu,playerHandler:t||null,flags:0}}function Qu(e,t){const n=ea(e);ngDevMode&&Se(n,"LView is required");const o=n[St],r=co();ngDevMode&&Se(r,"TNode is required"),Uo(o,r)}function Yu(e){return Ta(e).clean}function Xu(e){return Object.getPrototypeOf(e.prototype).constructor}function ef(e){let t=Xu(e.type),n=!0;const o=[e];for(;t;){let r;if(an(e))r=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp){const e="undefined"==typeof ngDevMode||ngDevMode?"Directives cannot inherit Components":"";throw new fe(903,e)}r=t.ɵdir}if(r){if(n){o.push(r);const t=e;t.inputs=tf(e.inputs),t.declaredInputs=tf(e.declaredInputs),t.outputs=tf(e.outputs);const n=r.hostBindings;n&&rf(e,n);const i=r.viewQuery,s=r.contentQueries;if(i&&nf(e,i),s&&of(e,s),oe(e.inputs,r.inputs),oe(e.declaredInputs,r.declaredInputs),oe(e.outputs,r.outputs),an(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let o=0;o<t.length;o++){const r=t[o];r&&r.ngInherit&&r(e),r===ef&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const r=e[o];r.hostVars=t+=r.hostVars,r.hostAttrs=tr(r.hostAttrs,n=tr(n,r.hostAttrs))}}(o)}function tf(e){return e===it?{}:e===st?[]:e}function nf(e,t){const n=e.viewQuery;e.viewQuery=n?(e,o)=>{t(e,o),n(e,o)}:t}function of(e,t){const n=e.contentQueries;e.contentQueries=n?(e,o,r)=>{t(e,o,r),n(e,o,r)}:t}function rf(e,t){const n=e.hostBindings;e.hostBindings=n?(e,o)=>{t(e,o),n(e,o)}:t}const sf=["providersResolver"],af=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function cf(e){let t,n=Xu(e.type);t=an(e)?n.ɵcmp:n.ɵdir;const o=e;for(const e of sf)o[e]=t[e];if(an(t))for(const e of af)o[e]=t[e]}let lf=null;function uf(){if(!lf){const e=ot.Symbol;if(e&&e.iterator)lf=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(lf=n)}}}return lf}function ff(e,t){const n=df(e),o=df(t);return n&&o?function(e,t,n){const o=e[uf()](),r=t[uf()]();for(;;){const e=o.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,ff):!(n||!e||"object"!=typeof e&&"function"!=typeof e||o||!t||"object"!=typeof t&&"function"!=typeof t)||Object.is(e,t)}function df(e){return!!pf(e)&&(Array.isArray(e)||!(e instanceof Map)&&uf()in e)}function pf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function hf(e,t,n){return e[t]=n}function gf(e,t){return ngDevMode&&Ne(e,t),ngDevMode&&Me(e[t],wc,"Stored value should never be NO_CHANGE."),e[t]}function yf(e,t,n){ngDevMode&&Me(n,wc,"Incoming value should never be NO_CHANGE."),ngDevMode&&xe(t,e.length,"Slot should have been initialized to NO_CHANGE");const o=e[t];if(Object.is(o,n))return!1;if(ngDevMode&&go()){const r=o!==wc?o:void 0;if(!ff(r,n)){const i=function(e,t,n,o){const r=e[St].data,i=r[t];if("string"==typeof i)return i.indexOf(wa)>-1?Da(e,t,t,i,o):{propName:i,oldValue:n,newValue:o};if(null===i){let n=t-1;for(;"string"!=typeof r[n]&&null===r[n+1];)n--;const i=r[n];if("string"==typeof i){const r=i.match(new RegExp(wa,"g"));if(r&&r.length-1>t-n)return Da(e,n,t,i,o)}}return{propName:void 0,oldValue:n,newValue:o}}(e,t,r,n);!function(e,t,n,o){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${o?` for '${o}'`:""}: '${t}'. Current value: '${n}'.`;throw e&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new fe(-100,r)}(o===wc,i.oldValue,i.newValue,i.propName)}return!1}return e[t]=n,!0}function mf(e,t,n,o){const r=yf(e,t,n);return yf(e,t+1,o)||r}function vf(e,t,n,o,r){const i=mf(e,t,n,o);return yf(e,t+2,r)||i}function bf(e,t,n,o,r,i){const s=mf(e,t,n,o);return mf(e,t+2,r,i)||s}function wf(e,t,n,o){const r=io(),i=wo();if(yf(r,i,t)){const s=so(),a=$o();Bl(a,r,e,t,n,o),ngDevMode&&ru(s.data,a,"attr."+e,i)}return wf}function _f(e,t){ngDevMode&&xe(2,t.length,"should have at least 3 values"),ngDevMode&&_e(t.length%2,1,"should have an odd number of values");let n=!1,o=vo();for(let r=1;r<t.length;r+=2)n=yf(e,o++,t[r])||n;if(bo(o),!n)return wc;let r=t[0];for(let e=1;e<t.length;e+=2)r+=pe(t[e])+t[e+1];return r}function Cf(e,t,n,o){return yf(e,wo(),n)?t+pe(n)+o:wc}function Df(e,t,n,o,r,i){const s=mf(e,vo(),n,r);return _o(2),s?t+pe(n)+o+pe(r)+i:wc}function Mf(e,t,n,o,r,i,s,a){const c=vf(e,vo(),n,r,s);return _o(3),c?t+pe(n)+o+pe(r)+i+pe(s)+a:wc}function xf(e,t,n,o,r,i,s,a,c,l){const u=bf(e,vo(),n,r,s,c);return _o(4),u?t+pe(n)+o+pe(r)+i+pe(s)+a+pe(c)+l:wc}function If(e,t,n,o,r,i,s,a,c,l,u,f){const d=vo();let p=bf(e,d,n,r,s,c);return p=yf(e,d+4,u)||p,_o(5),p?t+pe(n)+o+pe(r)+i+pe(s)+a+pe(c)+l+pe(u)+f:wc}function Ef(e,t,n,o,r,i,s,a,c,l,u,f,d,p){const h=vo();let g=bf(e,h,n,r,s,c);return g=mf(e,h+4,u,d)||g,_o(6),g?t+pe(n)+o+pe(r)+i+pe(s)+a+pe(c)+l+pe(u)+f+pe(d)+p:wc}function Tf(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g){const y=vo();let m=bf(e,y,n,r,s,c);return m=vf(e,y+4,u,d,h)||m,_o(7),m?t+pe(n)+o+pe(r)+i+pe(s)+a+pe(c)+l+pe(u)+f+pe(d)+p+pe(h)+g:wc}function Sf(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m){const v=vo();let b=bf(e,v,n,r,s,c);return b=bf(e,v+4,u,d,h,y)||b,_o(8),b?t+pe(n)+o+pe(r)+i+pe(s)+a+pe(c)+l+pe(u)+f+pe(d)+p+pe(h)+g+pe(y)+m:wc}function Of(e,t,n,o,r,i){const s=io(),a=Cf(s,t,n,o);if(a!==wc){const n=$o();Bl(n,s,e,a,r,i),ngDevMode&&ru(so().data,n,"attr."+e,vo()-1,t,o)}return Of}function Af(e,t,n,o,r,i,s,a){const c=io(),l=Df(c,t,n,o,r,i);if(l!==wc){const n=$o();Bl(n,c,e,l,s,a),ngDevMode&&ru(so().data,n,"attr."+e,vo()-2,t,o,i)}return Af}function Nf(e,t,n,o,r,i,s,a,c,l){const u=io(),f=Mf(u,t,n,o,r,i,s,a);if(f!==wc){const n=$o();Bl(n,u,e,f,c,l),ngDevMode&&ru(so().data,n,"attr."+e,vo()-3,t,o,i,a)}return Nf}function kf(e,t,n,o,r,i,s,a,c,l,u,f){const d=io(),p=xf(d,t,n,o,r,i,s,a,c,l);if(p!==wc){const n=$o();Bl(n,d,e,p,u,f),ngDevMode&&ru(so().data,n,"attr."+e,vo()-4,t,o,i,a,l)}return kf}function Pf(e,t,n,o,r,i,s,a,c,l,u,f,d,p){const h=io(),g=If(h,t,n,o,r,i,s,a,c,l,u,f);if(g!==wc){const n=$o();Bl(n,h,e,g,d,p),ngDevMode&&ru(so().data,n,"attr."+e,vo()-5,t,o,i,a,l,f)}return Pf}function Rf(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g){const y=io(),m=Ef(y,t,n,o,r,i,s,a,c,l,u,f,d,p);if(m!==wc){const n=$o();Bl(n,y,e,m,h,g),ngDevMode&&ru(so().data,n,"attr."+e,vo()-6,t,o,i,a,l,f,p)}return Rf}function jf(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m){const v=io(),b=Tf(v,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g);if(b!==wc){const n=$o();Bl(n,v,e,b,y,m),ngDevMode&&ru(so().data,n,"attr."+e,vo()-7,t,o,i,a,l,f,p,g)}return jf}function Vf(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v,b){const w=io(),_=Sf(w,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m);if(_!==wc){const n=$o();Bl(n,w,e,_,v,b),ngDevMode&&ru(so().data,n,"attr."+e,vo()-8,t,o,i,a,l,f,p,g,m)}return Vf}function $f(e,t,n,o){const r=io(),i=_f(r,t);if(i!==wc){const s=$o();if(Bl(s,r,e,i,n,o),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);ru(so().data,s,"attr."+e,vo()-n.length+1,...n)}}return $f}function Lf(e,t,n,o,r,i,s,a){const c=io(),l=so(),u=e+Jt,f=l.firstCreatePass?function(e,t,n,o,r,i,s,a,c){ngDevMode&&mn(t),ngDevMode&&ngDevMode.firstCreatePass++;const l=t.consts,u=yl(t,e,4,s||null,Yn(l,a));Rl(t,n,u,Yn(l,c)),Uo(t,u);const f=u.tViews=El(2,u,o,r,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,o,r,i,s):l.data[u];fo(f,!1);const d=c[Lt].createComment(ngDevMode?"container":"");Ya(l,c,d,f),Ys(d,c),Yl(c,c[u]=Jl(d,c,d,f)),sn(f)&&Ml(l,c,f),null!=s&&xl(c,f,a)}function Ff(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}function Hf(e){return Jn(to.lFrame.contextLView,Jt+e)}const Uf={ɵɵdefineInjectable:Pe,ɵɵdefineInjector:je,ɵɵinject:_i,ɵɵinvalidFactoryDep:Ci,resolveForwardRef:ce};const Bf=ne({provide:String,useValue:ne});function Wf(e){return void 0!==e.useClass}function qf(e){return void 0!==e.useFactory}const zf=kr("Injectable",void 0,void 0,void 0,((e,t)=>function(e,t){let n=null,o=null;e.hasOwnProperty(Fe)||Object.defineProperty(e,Fe,{get:()=>{if(null===n){const o=Jr({usage:0,kind:"injectable",type:e});n=o.compileInjectable(Uf,`ng:///${e.name}/ɵprov.js`,function(e,t){const n=t||{providedIn:null},o={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Wf(n)||qf(n))&&void 0!==n.deps&&(o.deps=Pi(n.deps)),Wf(n)?o.useClass=n.useClass:function(e){return Bf in e}(n)?o.useValue=n.useValue:qf(n)?o.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(o.useExisting=n.useExisting),o}(e,t))}return n}}),e.hasOwnProperty(ft)||Object.defineProperty(e,ft,{get:()=>{if(null===o){const t=Jr({usage:0,kind:"injectable",type:e});o=t.compileFactory(Uf,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:ki(e),target:t.FactoryTarget.Injectable})}return o},configurable:!0})}(e,t)));function Kf(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((e=>re(e.token))).join(" -> ")+")":""}function Jf(e,t,n,o){const r=[t],i=n(r),s=o?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,o=Error(n);return o[ia]=t,o}(i,o):Error(i);return s.addKey=Gf,s.keys=r,s.injectors=[e],s.constructResolvingMessage=n,s[ia]=o,s}function Gf(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Zf(e,t){const n=[];for(let e=0,o=t.length;e<o;e++){const o=t[e];o&&0!=o.length?n.push(o.map(re).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+re(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+re(e)+"' is decorated with Injectable.")}class Qf{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=re(this.token)}static get(e){return Yf.get(ce(e))}static get numberOfKeys(){return Yf.numberOfKeys}}const Yf=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof Qf)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new Qf(e,Qf.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},Xf=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,o){return this.reflectionCapabilities.resolveIdentifier(e,t,n,o)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new li);class ed{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new ed(e,!1,null)}}const td=[];class nd{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class od{constructor(e,t){this.factory=e,this.dependencies=t}}function rd(e){let t,n;if(e.useClass){const o=ce(e.useClass);t=Xf.factory(o),n=cd(o)}else e.useExisting?(t=e=>e,n=[ed.fromKey(Qf.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map((e=>[e]));return t.map((t=>ld(e,t,n)))}return cd(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=td);return new od(t,n)}function id(e){return new nd(Qf.get(e.provide),[rd(e)],e.multi||!1)}function sd(e){const t=function(e,t){for(let n=0;n<e.length;n++){const o=e[n],r=t.get(o.key.id);if(r){if(o.multiProvider!==r.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${r} ${o}`);if(o.multiProvider)for(let e=0;e<o.resolvedFactories.length;e++)r.resolvedFactories.push(o.resolvedFactories[e]);else t.set(o.key.id,o)}else{let e;e=o.multiProvider?new nd(o.key,o.resolvedFactories.slice(),o.multiProvider):o,t.set(o.key.id,e)}}return t}(ad(e,[]).map(id),new Map);return Array.from(t.values())}function ad(e,t){return e.forEach((e=>{if(e instanceof Gr)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);ad(e,t)}})),t}function cd(e){const t=Xf.parameters(e);if(!t)return[];if(t.some((e=>null==e)))throw Zf(e,t);return t.map((n=>ld(e,n,t)))}function ld(e,t,n){let o=null,r=!1;if(!Array.isArray(t))return ud(t instanceof Ii?t.token:t,r,null);let i=null;for(let e=0;e<t.length;++e){const n=t[e];n instanceof Gr?o=n:n instanceof Ii?o=n.token:n instanceof Ei?r=!0:n instanceof Ti||n instanceof Si?i=n:n instanceof $r&&(o=n)}if(o=ce(o),null!=o)return ud(o,r,i);throw Zf(e,n)}function ud(e,t,n){return new ed(Qf.get(e),t,n)}const fd={};class dd{static resolve(e){return sd(e)}static resolveAndCreate(e,t){const n=dd.resolve(e);return dd.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new pd(e,t)}}class pd{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let t=0;t<n;t++)this.keyIds[t]=e[t].key.id,this.objs[t]=fd}get(e,t=di){return this._getByKey(Qf.get(e),null,t)}resolveAndCreateChild(e){const t=dd.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new pd(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(dd.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Jf(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${Kf(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let o,r;try{o=t.dependencies.map((e=>this._getByReflectiveDependency(e)))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{r=n(...o)}catch(t){throw i=t,t.stack,Jf(this,e.key,(function(e){const t=re(e[0].token);return`${i.message}: Error during instantiation of ${t}!${Kf(e)}.`}),i)}var i;return r}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:di)}_getByKey(e,t,n){return e===pd.INJECTOR_KEY?this:t instanceof Ti?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===fd&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return fd}_throwOrNull(e,t){if(t!==di)return t;throw function(e,t){return Jf(e,t,(function(e){return`No provider for ${re(e[0].token)}!${Kf(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==fd?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let o;for(o=n instanceof Si?this.parent:this;o instanceof pd;){const t=o,n=t._getObjByKeyId(e.id);if(n!==fd)return n;o=t.parent}return null!==o?o.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e){const t=[];for(let n=0;n<e._providers.length;++n)t[n]=' "'+e.getProviderAtIndex(n).key.displayName+'" ';return t}(this).join(", ")}])`}toString(){return this.displayName}}function hd(e,t=We.Default){const n=io();return null===n?(ngDevMode&&(ngDevMode&&Ce(qe,hd,"Calling ɵɵinject would cause infinite recursion")),_i(e,t)):vr(co(),n,ce(e),t)}function gd(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function yd(e,t,n){const o=io(),r=wo();if(yf(o,r,t)){const i=so(),s=$o();Al(i,s,o,e,t,o[Lt],n,!1),ngDevMode&&ru(i.data,s,e,r)}return yd}function md(e,t,n,o,r){const i=r?"class":"style";uu(e,n,t.inputs[i],i,o)}function vd(e,t,n,o){const r=io(),i=so(),s=Jt+e;ngDevMode&&_e(vo(),i.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&Ne(r,s);const a=r[Lt],c=r[s]=ja(a,t,to.lFrame.currentNamespace),l=i.firstCreatePass?function(e,t,n,o,r,i,s){ngDevMode&&mn(t),ngDevMode&&ngDevMode.firstCreatePass++;const a=t.consts,c=yl(t,e,2,r,Yn(a,i)),l=Rl(t,n,c,Yn(a,s));return ngDevMode&&function(e,t,n,o){if(null===e.schemas)return;const r=n.value;if(!o&&null!==r&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&t instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&r.indexOf("-")>-1&&!customElements.get(r))&&!kl(e,r)){let e=`'${r}' is not a known element:\n`;e+=`1. If '${r}' is an Angular component, then verify that it is part of this module.\n`,r&&r.indexOf("-")>-1?e+=`2. If '${r}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",console.error(de(304,e))}}(t,o,c,l),null!==c.attrs&&du(c,c.attrs,!1),null!==c.mergedAttrs&&du(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,r,c,t,n,o):i.data[s];fo(l,!0);const u=l.mergedAttrs;null!==u&&Yo(a,c,u);const f=l.classes;null!==f&&ac(a,c,f);const d=l.styles;return null!==d&&sc(a,c,d),64&~l.flags&&Ya(i,r,c,l),0===to.lFrame.elementDepthCount&&Ys(c,r),to.lFrame.elementDepthCount++,sn(l)&&(Ml(i,r,l),Dl(i,l,r)),null!==o&&xl(r,l),vd}function bd(){let e=co();ngDevMode&&Se(e,"No parent node to close."),po()?ho():(ngDevMode&&pn(co()),e=e.parent,fo(e,!1));const t=e;ngDevMode&&Qo(t,3),to.lFrame.elementDepthCount--;const n=so();return n.firstCreatePass&&(Uo(n,e),on(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return!!(16&e.flags)}(t)&&md(n,t,io(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return!!(32&e.flags)}(t)&&md(n,t,io(),t.stylesWithoutHost,!1),bd}function wd(e,t,n,o){return vd(e,t,n,o),bd(),wd}function _d(e,t,n){const o=io(),r=so(),i=e+Jt;ngDevMode&&Ne(o,i),ngDevMode&&_e(vo(),r.bindingStartIndex,"element containers should be created before any bindings");const s=r.firstCreatePass?function(e,t,n,o,r){ngDevMode&&ngDevMode.firstCreatePass++;const i=t.consts,s=Yn(i,o),a=yl(t,e,8,"ng-container",s);return null!==s&&du(a,s,!0),Rl(t,n,a,Yn(i,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,r,o,t,n):r.data[i];fo(s,!0),ngDevMode&&ngDevMode.rendererCreateComment++;const a=o[i]=o[Lt].createComment(ngDevMode?"ng-container":"");return Ya(r,o,a,s),Ys(a,o),sn(s)&&(Ml(r,o,s),Dl(r,s,o)),null!=n&&xl(o,s),_d}function Cd(){let e=co();const t=so();return po()?ho():(ngDevMode&&pn(e),e=e.parent,fo(e,!1)),ngDevMode&&Qo(e,8),t.firstCreatePass&&(Uo(t,e),on(e)&&t.queries.elementEnd(e)),Cd}function Dd(e,t,n){return _d(e,t,n),Cd(),Dd}function Md(){return io()}function xd(e){return!!e&&"function"==typeof e.then}function Id(e){return!!e&&"function"==typeof e.subscribe}pd.INJECTOR_KEY=Qf.get(Ou);const Ed=Id;function Td(e,t,n,o){const r=io(),i=so(),s=co();return Od(i,r,r[Lt],s,e,t,!!n,o),Td}function Sd(e,t){const n=co(),o=io(),r=so();return Od(r,o,cu(xo(r.data),n,o),n,e,t,!1),Sd}function Od(e,t,n,o,r,i,s,a){const c=sn(o),l=e.firstCreatePass&&au(e),u=t[jt],f=su(t);ngDevMode&&Qo(o,15);let d=!0;if(3&o.type||a){const p=zn(o,t),h=a?a(p):p,g=f.length,y=a?e=>a(Wn(e[o.index])):o.index;if(Un(n)){let s=null;if(!a&&c&&(s=function(e,t,n,o){const r=e.cleanup;if(null!=r)for(let e=0;e<r.length-1;e+=2){const i=r[e];if(i===n&&r[e+1]===o){const n=t[Rt],o=r[e+2];return n.length>o?n[o]:null}"string"==typeof i&&(e+=2)}return null}(e,t,r,o.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,d=!1;else{i=Nd(o,t,u,i,!1);const e=n.listen(h,r,i);ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i,e),l&&l.push(r,y,g,g+1)}}else i=Nd(o,t,u,i,!0),h.addEventListener(r,i,s),ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i),l&&l.push(r,y,g,s)}else i=Nd(o,t,u,i,!1);const p=o.outputs;let h;if(d&&null!==p&&(h=p[r])){const e=h.length;if(e)for(let n=0;n<e;n+=2){const e=h[n];ngDevMode&&Ne(t,e);const s=h[n+1],a=t[e],c=a[s];if(ngDevMode&&!Ed(c))throw new Error(`@Output ${s} not initialized in '${a.constructor.name}'.`);const u=c.subscribe(i),d=f.length;f.push(i,u),l&&l.push(r,o.index,d,-(d+1))}}}function Ad(e,t,n,o){try{return kn(6,t,n),!1!==n(o)}catch(t){return lu(e,t),!1}finally{kn(7,t,n)}}function Nd(e,t,n,o,r){return function i(s){if(s===Function)return o;const a=2&e.flags?Gn(e.index,t):t;32&t[Ot]||Xl(a);let c=Ad(t,n,o,s),l=i.__ngNextListenerFn__;for(;l;)c=Ad(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function kd(e=1){return function(e){return(to.lFrame.contextLView=function(e,t){for(;e>0;)ngDevMode&&Se(t[Bt],"Declaration view should be defined if nesting level is greater than 0."),t=t[Bt],e--;return t}(e,to.lFrame.contextLView))[jt]}(e)}function Pd(e,t){let n=null;const o=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const i=t[r];if("*"!==i){if(null===o?yc(e,i,!0):mc(o,i))return r}else n=r}return n}function Rd(e){const t=io()[Wt][Pt];if(!t.projection){const n=e?e.length:1,o=t.projection=ti(n,null),r=o.slice();let i=t.child;for(;null!==i;){const t=e?Pd(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:o[t]=i,r[t]=i),i=i.next}}}function jd(e,t=0,n){const o=io(),r=so(),i=yl(r,Jt+e,16,null,n||null);null===i.projection&&(i.projection=t),ho(),64&~i.flags&&function(e,t,n){ic(t[Lt],0,t,n,Ha(e,n,t),Ka(n.parent||t[Pt],n,t))}(r,o,i)}function Vd(e,t,n){return $d(e,"",t,"",n),Vd}function $d(e,t,n,o,r){const i=io(),s=Cf(i,t,n,o);if(s!==wc){const n=so(),a=$o();Al(n,a,i,e,s,i[Lt],r,!1),ngDevMode&&ru(n.data,a,e,vo()-1,t,o)}return $d}function Ld(e,t,n,o,r,i,s){const a=io(),c=Df(a,t,n,o,r,i);if(c!==wc){const n=so(),r=$o();Al(n,r,a,e,c,a[Lt],s,!1),ngDevMode&&ru(n.data,r,e,vo()-2,t,o,i)}return Ld}function Fd(e,t,n,o,r,i,s,a,c){const l=io(),u=Mf(l,t,n,o,r,i,s,a);if(u!==wc){const n=so(),r=$o();Al(n,r,l,e,u,l[Lt],c,!1),ngDevMode&&ru(n.data,r,e,vo()-3,t,o,i,a)}return Fd}function Hd(e,t,n,o,r,i,s,a,c,l,u){const f=io(),d=xf(f,t,n,o,r,i,s,a,c,l);if(d!==wc){const n=so(),r=$o();Al(n,r,f,e,d,f[Lt],u,!1),ngDevMode&&ru(n.data,r,e,vo()-4,t,o,i,a,l)}return Hd}function Ud(e,t,n,o,r,i,s,a,c,l,u,f,d){const p=io(),h=If(p,t,n,o,r,i,s,a,c,l,u,f);if(h!==wc){const n=so(),r=$o();Al(n,r,p,e,h,p[Lt],d,!1),ngDevMode&&ru(n.data,r,e,vo()-5,t,o,i,a,l,f)}return Ud}function Bd(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){const g=io(),y=Ef(g,t,n,o,r,i,s,a,c,l,u,f,d,p);if(y!==wc){const n=so(),r=$o();Al(n,r,g,e,y,g[Lt],h,!1),ngDevMode&&ru(n.data,r,e,vo()-6,t,o,i,a,l,f,p)}return Bd}function Wd(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){const m=io(),v=Tf(m,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g);if(v!==wc){const n=so(),r=$o();Al(n,r,m,e,v,m[Lt],y,!1),ngDevMode&&ru(n.data,r,e,vo()-7,t,o,i,a,l,f,p,g)}return Wd}function qd(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v){const b=io(),w=Sf(b,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m);if(w!==wc){const n=so(),r=$o();Al(n,r,b,e,w,b[Lt],v,!1),ngDevMode&&ru(n.data,r,e,vo()-8,t,o,i,a,l,f,p,g,m)}return qd}function zd(e,t,n){const o=io(),r=_f(o,t);if(r!==wc){const i=so(),s=$o();if(Al(i,s,o,e,r,o[Lt],n,!1),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);ru(i.data,s,e,vo()-n.length+1,...n)}}return zd}function Kd(e,t,n,o,r){const i=e[n+1],s=null===t;let a=o?xc(i):Tc(i),c=!1;for(;0!==a&&(!1===c||s);){ngDevMode&&Ne(e,a);const n=e[a],r=e[a+1];Jd(n,t)&&(c=!0,e[a+1]=o?Ac(r):Ec(r)),a=o?xc(r):Tc(r)}c&&(e[n+1]=o?Ec(i):Ac(i))}function Jd(e,t){return ngDevMode&&Ce(Array.isArray(t),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ri(e,t)>=0}const Gd={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zd(e){return e.substring(Gd.key,Gd.keyEnd)}function Qd(e){return e.substring(Gd.value,Gd.valueEnd)}function Yd(e,t){const n=Gd.textEnd;return n===t?-1:(t=Gd.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Gd.key=t,n),tp(e,t,n))}function Xd(e,t){const n=Gd.textEnd;let o=Gd.key=tp(e,t,n);return n===o?-1:(o=Gd.keyEnd=function(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=np(e,o,n,58),o=Gd.value=tp(e,o,n),o=Gd.valueEnd=function(e,t,n){let o=-1,r=-1,i=-1,s=t,a=s;for(;s<n;){const c=e.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=op(e,c,s,n):t===s-4&&85===i&&82===r&&76===o&&40===c?a=s=op(e,41,s,n):c>32&&(a=s),i=r,r=o,o=-33&c}return a}(e,o,n),np(e,o,n,59))}function ep(e){Gd.key=0,Gd.keyEnd=0,Gd.value=0,Gd.valueEnd=0,Gd.textEnd=e.length}function tp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function np(e,t,n,o){return(t=tp(e,t,n))<n&&(ngDevMode&&e.charCodeAt(t)!==o&&rp(e,String.fromCharCode(o),t),t++),t}function op(e,t,n,o){let r=-1,i=n;for(;i<o;){const n=e.charCodeAt(i++);if(n==t&&92!==r)return i;r=92==n&&92===r?0:n}throw ngDevMode?rp(e,String.fromCharCode(t),o):new Error}function rp(e,t,n){throw ngDevMode&&_e("string"==typeof e,!0,"String expected here"),Oe(`Malformed style at location ${n} in string '`+e.substring(0,n)+"[>>"+e.substring(n,n+1)+"<<]"+e.substr(n+1)+`'. Expecting '${t}'.`)}function ip(e,t,n){return fp(e,t,n,!1),ip}function sp(e,t){return fp(e,t,null,!0),sp}function ap(e){dp(mp,cp,e,!1)}function cp(e,t){for(let n=function(e){return ep(e),Xd(e,tp(e,0,Gd.textEnd))}(t);n>=0;n=Xd(t,n))mp(e,Zd(t),Qd(t))}function lp(e){dp(ni,up,e,!0)}function up(e,t){for(let n=function(e){return ep(e),Yd(e,tp(e,0,Gd.textEnd))}(t);n>=0;n=Yd(t,n))ni(e,Zd(t),!0)}function fp(e,t,n,o){const r=io(),i=so(),s=_o(2);i.firstUpdatePass&&hp(i,e,s,o),t!==wc&&yf(r,s,t)&&vp(i,i.data[jo()],r,r[Lt],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=re(ts(e)))),e}(t,n),o,s)}function dp(e,t,n,o){const r=so(),i=_o(2);r.firstUpdatePass&&hp(r,null,i,o);const s=io();if(n!==wc&&yf(s,i,n)){const a=r.data[jo()];if(_p(a,o)&&!pp(r,i)){if(ngDevMode){const e=r.data[i];_e(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=o?a.classesWithoutHost:a.stylesWithoutHost;ngDevMode&&!1===o&&null!==e&&_e(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(n=ie(e,n||"")),md(r,a,s,n,o)}else!function(e,t,n,o,r,i,s,a){r===wc&&(r=st);let c=0,l=0,u=0<r.length?r[0]:null,f=0<i.length?i[0]:null;for(;null!==u||null!==f;){ngDevMode&&xe(c,999,"Are we stuck in infinite loop?"),ngDevMode&&xe(l,999,"Are we stuck in infinite loop?");const d=c<r.length?r[c+1]:void 0,p=l<i.length?i[l+1]:void 0;let h,g=null;u===f?(c+=2,l+=2,d!==p&&(g=f,h=p)):null===f||null!==u&&u<f?(c+=2,g=u):(ngDevMode&&Se(f,"Expecting to have a valid key"),l+=2,g=f,h=p),null!==g&&vp(e,t,n,o,g,h,s,a),u=c<r.length?r[c]:null,f=l<i.length?i[l]:null}}(r,a,s,s[Lt],s[i+1],s[i+1]=function(e,t,n){if(null==n||""===n)return st;const o=[],r=ts(n);if(Array.isArray(r))for(let t=0;t<r.length;t++)e(o,r[t],!0);else if("object"==typeof r)for(const t in r)r.hasOwnProperty(t)&&e(o,t,r[t]);else"string"==typeof r?t(o,r):ngDevMode&&Oe("Unsupported styling type "+typeof r+": "+r);return o}(e,t,n),o,i)}}function pp(e,t){return t>=e.expandoStartIndex}function hp(e,t,n,o){ngDevMode&&vn(e);const r=e.data;if(null===r[n+1]){const i=r[jo()];ngDevMode&&Se(i,"TNode expected");const s=pp(e,n);_p(i,o)&&null===t&&!s&&(t=!1),t=function(e,t,n,o){const r=xo(e);let i=o?t.residualClasses:t.residualStyles;if(null===r)0===(o?t.classBindings:t.styleBindings)&&(n=yp(n=gp(null,e,t,n,o),t.attrs,o),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=gp(r,e,t,n,o),null===i){let n=function(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Tc(o))return e[xc(o)]}(e,t,o);void 0!==n&&Array.isArray(n)&&(n=gp(null,e,t,n[1],o),n=yp(n,t.attrs,o),function(e,t,n,o){const r=n?t.classBindings:t.styleBindings;ngDevMode&&Ce(Tc(r),0,"Expecting to have at least one template styling binding."),e[xc(r)]=o}(e,t,o,n))}else i=function(e,t,n){let o;const r=t.directiveEnd;ngDevMode&&Ce(t.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+t.directiveStylingLast;i<r;i++)o=yp(o,e[i].hostAttrs,n);return yp(o,t.attrs,n)}(e,t,o)}return void 0!==i&&(o?t.residualClasses=i:t.residualStyles=i),n}(r,i,t,o),function(e,t,n,o,r,i){ngDevMode&&vn(so());let s=i?t.classBindings:t.styleBindings,a=xc(s),c=Tc(s);e[o]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||ri(e,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const t=xc(e[a+1]);e[o+1]=Mc(t,a),0!==t&&(e[t+1]=Sc(e[t+1],o)),e[a+1]=(f=e[a+1],d=o,ngDevMode&&ve(f,"expected number"),ngDevMode&&be(d,0,32767),131071&f|d<<17)}else e[o+1]=Mc(a,0),0!==a&&(e[a+1]=Sc(e[a+1],o)),a=o;else e[o+1]=Mc(c,0),ngDevMode&&_e(0!==a&&0===c,!1,"Adding template bindings after hostBindings is not allowed."),0===a?a=o:e[c+1]=Sc(e[c+1],o),c=o;var f,d;u&&(e[o+1]=Ec(e[o+1])),Kd(e,l,o,!0),Kd(e,l,o,!1),function(e,t,n,o,r){const i=r?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&ri(i,t)>=0&&(n[o+1]=Ac(n[o+1]))}(t,l,e,o,i),s=Mc(a,c),i?t.classBindings=s:t.styleBindings=s}(r,i,t,n,s,o)}}function gp(e,t,n,o,r){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],ngDevMode&&Se(i,"expected to be defined"),o=yp(o,i.hostAttrs,r),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),o}function yp(e,t,n){const o=n?1:2;let r=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?r=s:r===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ni(e,s,!!n||t[++i]))}return void 0===e?null:e}function mp(e,t,n){ni(e,t,ts(n))}function vp(e,t,n,o,r,i,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];wp(Oc(l)?bp(c,t,n,r,Tc(l),s):void 0)||(wp(i)||Ic(l)&&(i=bp(c,null,n,r,a,s)),function(e,t,n,o,r){const i=Un(e);if(t)r?(ngDevMode&&ngDevMode.rendererAddClass++,i?e.addClass(n,o):(ngDevMode&&Se(n.classList,"HTMLElement expected"),n.classList.add(o))):(ngDevMode&&ngDevMode.rendererRemoveClass++,i?e.removeClass(n,o):n.classList.remove(o));else{let t=-1===o.indexOf("-")?void 0:Ma.DashCase;if(null==r)ngDevMode&&ngDevMode.rendererRemoveStyle++,i?e.removeStyle(n,o,t):n.style.removeProperty(o);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),t|=Ma.Important),ngDevMode&&ngDevMode.rendererSetStyle++,i?e.setStyle(n,o,r,t):(ngDevMode&&Se(n.style,"HTMLElement expected"),n.style.setProperty(o,r,s?"important":""))}}}(o,s,qn(jo(),n),r,i))}function bp(e,t,n,o,r,i){const s=null===t;let a;for(;r>0;){const t=e[r],i=Array.isArray(t),c=i?t[1]:t,l=null===c;let u=n[r+1];u===wc&&(u=l?st:void 0);let f=l?oi(u,o):c===o?u:void 0;if(i&&!wp(f)&&(f=oi(t,o)),wp(f)&&(a=f,s))return a;const d=e[r+1];r=s?xc(d):Tc(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=oi(e,o))}return a}function wp(e){return void 0!==e}function _p(e,t){return!!(e.flags&(t?16:32))}function Cp(e,t=""){const n=io(),o=so(),r=e+Jt;ngDevMode&&_e(vo(),o.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&Ne(n,r);const i=o.firstCreatePass?yl(o,r,1,t,null):o.data[r],s=n[r]=ka(n[Lt],t);Ya(o,n,s,i),fo(i,!1)}function Dp(e){return Mp("",e,""),Dp}function Mp(e,t,n){const o=io(),r=Cf(o,e,t,n);return r!==wc&&fu(o,jo(),r),Mp}function xp(e,t,n,o,r){const i=io(),s=Df(i,e,t,n,o,r);return s!==wc&&fu(i,jo(),s),xp}function Ip(e,t,n,o,r,i,s){const a=io(),c=Mf(a,e,t,n,o,r,i,s);return c!==wc&&fu(a,jo(),c),Ip}function Ep(e,t,n,o,r,i,s,a,c){const l=io(),u=xf(l,e,t,n,o,r,i,s,a,c);return u!==wc&&fu(l,jo(),u),Ep}function Tp(e,t,n,o,r,i,s,a,c,l,u){const f=io(),d=If(f,e,t,n,o,r,i,s,a,c,l,u);return d!==wc&&fu(f,jo(),d),Tp}function Sp(e,t,n,o,r,i,s,a,c,l,u,f,d){const p=io(),h=Ef(p,e,t,n,o,r,i,s,a,c,l,u,f,d);return h!==wc&&fu(p,jo(),h),Sp}function Op(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){const g=io(),y=Tf(g,e,t,n,o,r,i,s,a,c,l,u,f,d,p,h);return y!==wc&&fu(g,jo(),y),Op}function Ap(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){const m=io(),v=Sf(m,e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y);return v!==wc&&fu(m,jo(),v),Ap}function Np(e){const t=io(),n=_f(t,e);return n!==wc&&fu(t,jo(),n),Np}function kp(e,t,n){dp(ni,up,Cf(io(),e,t,n),!0)}function Pp(e,t,n,o,r){dp(ni,up,Df(io(),e,t,n,o,r),!0)}function Rp(e,t,n,o,r,i,s){dp(ni,up,Mf(io(),e,t,n,o,r,i,s),!0)}function jp(e,t,n,o,r,i,s,a,c){dp(ni,up,xf(io(),e,t,n,o,r,i,s,a,c),!0)}function Vp(e,t,n,o,r,i,s,a,c,l,u){dp(ni,up,If(io(),e,t,n,o,r,i,s,a,c,l,u),!0)}function $p(e,t,n,o,r,i,s,a,c,l,u,f,d){dp(ni,up,Ef(io(),e,t,n,o,r,i,s,a,c,l,u,f,d),!0)}function Lp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){dp(ni,up,Tf(io(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h),!0)}function Fp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){dp(ni,up,Sf(io(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y),!0)}function Hp(e){dp(ni,up,_f(io(),e),!0)}function Up(e,t,n){ap(Cf(io(),e,t,n))}function Bp(e,t,n,o,r){ap(Df(io(),e,t,n,o,r))}function Wp(e,t,n,o,r,i,s){ap(Mf(io(),e,t,n,o,r,i,s))}function qp(e,t,n,o,r,i,s,a,c){ap(xf(io(),e,t,n,o,r,i,s,a,c))}function zp(e,t,n,o,r,i,s,a,c,l,u){ap(If(io(),e,t,n,o,r,i,s,a,c,l,u))}function Kp(e,t,n,o,r,i,s,a,c,l,u,f,d){ap(Ef(io(),e,t,n,o,r,i,s,a,c,l,u,f,d))}function Jp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){ap(Tf(io(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h))}function Gp(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){ap(Sf(io(),e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y))}function Zp(e){ap(_f(io(),e))}function Qp(e,t,n,o,r){return fp(e,Cf(io(),t,n,o),r,!1),Qp}function Yp(e,t,n,o,r,i,s){return fp(e,Df(io(),t,n,o,r,i),s,!1),Yp}function Xp(e,t,n,o,r,i,s,a,c){return fp(e,Mf(io(),t,n,o,r,i,s,a),c,!1),Xp}function eh(e,t,n,o,r,i,s,a,c,l,u){return fp(e,xf(io(),t,n,o,r,i,s,a,c,l),u,!1),eh}function th(e,t,n,o,r,i,s,a,c,l,u,f,d){return fp(e,If(io(),t,n,o,r,i,s,a,c,l,u,f),d,!1),th}function nh(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h){return fp(e,Ef(io(),t,n,o,r,i,s,a,c,l,u,f,d,p),h,!1),nh}function oh(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y){return fp(e,Tf(io(),t,n,o,r,i,s,a,c,l,u,f,d,p,h,g),y,!1),oh}function rh(e,t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m,v){return fp(e,Sf(io(),t,n,o,r,i,s,a,c,l,u,f,d,p,h,g,y,m),v,!1),rh}function ih(e,t,n){return fp(e,_f(io(),t),n,!1),ih}function sh(e,t,n){const o=io(),r=wo();if(yf(o,r,t)){const i=so(),s=$o();Al(i,s,o,e,t,o[Lt],n,!0),ngDevMode&&ru(i.data,s,e,r)}return sh}function ah(e,t,n){const o=io(),r=wo();if(yf(o,r,t)){const i=so(),s=$o();Al(i,s,o,e,t,cu(xo(i.data),s,o),n,!0),ngDevMode&&ru(i.data,s,e,r)}return ah}"undefined"==typeof ngI18nClosureMode&&(ot.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);const ch=void 0;var lh=["en",[["a","p"],["AM","PM"],ch],[["AM","PM"],ch,ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ch,"{1} 'at' {0}",ch],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let uh={};function fh(e,t,n){"string"!=typeof t&&(n=t,t=e[mh.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),uh[t]=e,n&&(uh[t][mh.ExtraData]=n)}function dh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=gh(t);if(n)return n;const o=t.split("-")[0];if(n=gh(o),n)return n;if("en"===o)return lh;throw new Error(`Missing locale data for the locale "${e}".`)}function ph(e){return dh(e)[mh.CurrencyCode]||null}function hh(e){return dh(e)[mh.PluralCase]}function gh(e){return e in uh||(uh[e]=ot.ng&&ot.ng.common&&ot.ng.common.locales&&ot.ng.common.locales[e]),uh[e]}function yh(){uh={}}var mh;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(mh||(mh={}));const vh=["zero","one","two","few","many"],bh="en-US",wh={marker:"element"},_h={marker:"ICU"};var Ch;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}(Ch||(Ch={}));let Dh=bh;function Mh(e){Se(e,"Expected localeId to be defined"),"string"==typeof e&&(Dh=e.toLowerCase().replace(/_/g,"-"))}function xh(e,t,n){const o=t.insertBeforeIndex,r=Array.isArray(o)?o[0]:o;return null===r?Ja(e,0,n):(ngDevMode&&Ne(n,r),Wn(n[r]))}function Ih(e,t,n,o,r){const i=t.insertBeforeIndex;if(Array.isArray(i)){ngDevMode&&Ae(o);let s=o,a=null;if(3&t.type||(a=s,s=r),null!==s&&!(2&t.flags))for(let t=1;t<i.length;t++)Ba(e,s,n[i[t]],a,!1)}}function Eh(e,t){if(ngDevMode&&_e(t.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];Th(o)||Sh(o,t)&&null===Oh(o)&&Ah(o,t.index)}}function Th(e){return!(64&e.type)}function Sh(e,t){return Th(t)||e.index>t.index}function Oh(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Ah(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Qa(xh,Ih),e.insertBeforeIndex=t)}function Nh(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;!ngDevMode||n.hasOwnProperty("tViews")||n.hasOwnProperty("currentCaseLViewIndex")||Oe("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+n);const o=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return ngDevMode&&fn(o),o}function kh(e,t,n){const o=ml(e,n,64,null,null);return Eh(t,o),o}function Ph(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Rh(e){return e>>>17}function jh(e){return(131070&e)>>>1}function Vh(e){return 1&e}let $h=0,Lh=0;function Fh(e,t,n,o){ngDevMode&&Ae(o);const r=n[Lt];let i,s=null;for(let a=0;a<t.length;a++){const c=t[a];if("string"==typeof c){const e=t[++a];null===n[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&Ne(n,e),n[e]=ka(r,c))}else if("number"==typeof c)switch(1&c){case 0:const l=Rh(c);let u,f;if(null===s&&(s=l,i=za(r,o)),l===s?(u=o,f=i):(u=null,f=Wn(n[l])),null!==f){ngDevMode&&Ae(f);const t=jh(c);ngDevMode&&Ee(t,Jt,"Missing ref");const o=n[t];ngDevMode&&Ae(o),Ba(r,f,o,u,!1);const i=Nh(e,t);if(null!==i&&"object"==typeof i){ngDevMode&&fn(i);const t=Ph(i,n);null!==t&&Fh(e,i.create[t],n,n[i.anchorIdx])}}break;case 1:const d=c>>>1,p=t[++a],h=t[++a];Wl(r,qn(d,n),null,null,p,h,null);break;default:if(ngDevMode)throw new fe(700,`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case _h:const e=t[++a],o=t[++a];null===n[o]&&(ngDevMode&&_e(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&bn(n,o),Ys(n[o]=Ra(r,e),n));break;case wh:const i=t[++a],s=t[++a];null===n[s]&&(ngDevMode&&_e(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&bn(n,s),Ys(n[s]=ja(r,i,null),n));break;default:ngDevMode&&Oe(`Unable to determine the type of mutate operation for "${c}"`)}}}function Hh(e,t,n,o,r){for(let i=0;i<n.length;i++){const s=n[i],a=n[++i];if(s&r){let r="";for(let s=i+1;s<=i+a;s++){const i=n[s];if("string"==typeof i)r+=i;else if("number"==typeof i)if(i<0)r+=pe(t[o-i]);else{const a=i>>>2;switch(3&i){case 1:const i=n[++s],c=n[++s],l=e.data[a];ngDevMode&&Se(l,"Experting TNode or string"),"string"==typeof l?Wl(t[Lt],t[a],null,l,i,r,c):Al(e,l,t,i,r,t[Lt],c,!1);break;case 0:const u=t[a];null!==u&&Pa(t[Lt],u,r);break;case 2:Bh(e,Nh(e,a),t,r);break;case 3:Uh(e,Nh(e,a),o,t)}}}}else{const r=n[i+1];if(r>0&&!(3&~r)){const n=Nh(e,r>>>2);t[n.currentCaseLViewIndex]<0&&Uh(e,n,o,t)}}i+=a}}function Uh(e,t,n,o){ngDevMode&&Ne(o,t.currentCaseLViewIndex);let r=o[t.currentCaseLViewIndex];if(null!==r){let i=$h;r<0&&(r=o[t.currentCaseLViewIndex]=~r,i=-1),Hh(e,o,t.update[r],n,i)}}function Bh(e,t,n,o){const r=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function(e,t){const n=hh(t)(parseInt(e,10)),o=vh[n];return void 0!==o?o:"other"}(t,Dh);n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(Ph(t,n)!==r&&(Wh(e,t,n),n[t.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const o=n[t.anchorIdx];o&&(ngDevMode&&Ae(o),Fh(e,t.create[r],n,o))}}function Wh(e,t,n){let o=Ph(t,n);if(null!==o){const r=t.remove[o];for(let t=0;t<r.length;t++){const o=r[t];if(o>0){const e=qn(o,n);null!==e&&nc(n[Lt],e)}else Wh(e,Nh(e,~o),n)}}}function qh(){const e=[];let t,n,o=-1;function r(e,t){o=0;const r=Ph(e,t);null!==r?(ngDevMode&&be(r,0,e.cases.length-1),n=e.remove[r]):n=st}function i(){if(o<n.length){const s=n[o++];if(ngDevMode&&ve(s,"Expecting OpCode number"),s>0){const e=t[s];return ngDevMode&&Ae(e),e}{e.push(o,n);const a=~s,c=t[St].data[a];return ngDevMode&&fn(c),r(c,t),i()}}return 0===e.length?null:(n=e.pop(),o=e.pop(),i())}return function(n,o){for(t=o;e.length;)e.pop();return ngDevMode&&cn(n,o),r(n.value,o),i}}function zh(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const o=t[e++],r=t[e],i=(o&Ch.COMMENT)===Ch.COMMENT,s=(o&Ch.APPEND_EAGERLY)===Ch.APPEND_EAGERLY,a=o>>>Ch.SHIFT;n.push(`lView[${a}] = document.${i?"createComment":"createText"}(${JSON.stringify(r)});`),s&&n.push(`parent.appendChild(lView[${a}]);`)}return n}function Kh(e){const t=new Zh(e||(Array.isArray(this)?this:[]));let n=[];function o(e){const n=e>>>2;switch(3&e){case 0:return`(lView[${n}] as Text).textContent = $$$`;case 1:const e=t.consumeString(),o=t.consumeFunction();return`(lView[${n}] as Element).setAttribute('${e}', ${o?`(${o})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${n}, $$$)`;case 3:return`icuUpdateCase(${n})`}throw new Error("unexpected OpCode")}for(;t.hasMore();){let e=t.consumeNumber(),r=t.consumeNumber();const i=t.i+r,s=[];let a="";for(;t.i<i;){let e=t.consumeNumberOrString();if("string"==typeof e)a+=e;else if(e<0)a+="${lView[i"+e+"]}";else{const t=o(e);s.push(t.replace("$$$","`"+a+"`")+";"),a=""}}n.push(`if (mask & 0b${e.toString(2)}) { ${s.join(" ")} }`)}return n}function Jh(e){const t=new Zh(e||(Array.isArray(this)?this:[]));let n=[];function o(e){const n=Rh(e),o=jh(e);switch(Vh(e)){case 0:return`(lView[${n}] as Element).appendChild(lView[${r}])`;case 1:return`(lView[${o}] as Element).setAttribute("${t.consumeString()}", "${t.consumeString()}")`}throw new Error("Unexpected OpCode: "+Vh(e))}let r=-1;for(;t.hasMore();){let e=t.consumeNumberStringOrMarker();if(e===_h){const e=t.consumeString();r=t.consumeNumber(),n.push(`lView[${r}] = document.createComment("${e}")`)}else if(e===wh){const e=t.consumeString();r=t.consumeNumber(),n.push(`lView[${r}] = document.createElement("${e}")`)}else if("string"==typeof e)r=t.consumeNumber(),n.push(`lView[${r}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const t=o(e);t&&n.push(t)}}}return n}function Gh(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const o=t[e];o>0?n.push(`remove(lView[${o}])`):n.push(`removeNestedICU(${~o})`)}return n}class Zh{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return ve(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return we(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||ve(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==_h||e==wh||ve(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const Qh=/�(\d+):?\d*�/gi,Yh=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,Xh=/�(\d+)�/,eg=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,tg="�",ng=/�\/?\*(\d+:\d+)�/gi,og=/�(\/?[#*]\d+):?\d*�/gi,rg=/\uE500/g;function ig(e,t,n,o,r,i,s){const a=vl(e,o,1,null);let c=a<<Ch.SHIFT,l=uo();t===l&&(l=null),null===l&&(c|=Ch.APPEND_EAGERLY),s&&(c|=Ch.COMMENT,void 0===xa&&(xa=qh())),r.push(c,null===i?"":i);const u=ml(e,a,s?32:1,null===i?ngDevMode?"{{?}}":"":i,null);Eh(n,u);const f=u.index;return fo(u,!1),null!==l&&t!==l&&function(e,t){ngDevMode&&un(e);let n=e.insertBeforeIndex;null===n?(Qa(xh,Ih),n=e.insertBeforeIndex=[null,t]):(_e(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(l,f),u}function sg(e,t,n,o,r,i,s){const a=s.match(Qh),c=ig(e,t,n,i,o,a?null:s,!1);a&&ag(r,s,c.index,null,0,null)}function ag(e,t,n,o,r,i){ngDevMode&&Te(n,Jt,"Index must be in absolute LView offset");const s=e.length,a=s+1;e.push(null,null);const c=s+2;ngDevMode&&kc(e,Kh);const l=t.split(Qh);let u=0;for(let t=0;t<l.length;t++){const n=l[t];if(1&t){const t=r+parseInt(n,10);e.push(-1-t),u|=lg(t)}else""!==n&&e.push(n)}return e.push(n<<2|(o?1:0)),o&&e.push(o,i),e[s]=u,e[a]=e.length-c,u}function cg(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n];"number"==typeof o&&o<0&&t++}return t}function lg(e){return 1<<Math.min(e,31)}function ug(e){let t,n,o="",r=0,i=!1;for(;null!==(t=ng.exec(e));)i?t[0]===`${tg}/*${n}${tg}`&&(r=t.index,i=!1):(o+=e.substring(r,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&_e(i,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),o+=e.substr(r),o}function fg(e,t,n,o,r,i){ngDevMode&&Se(r,"ICU expression must be defined");let s=0;const a={type:r.type,currentCaseLViewIndex:vl(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(lg(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,r,i),function(e,t,n){const o=e.data[t];ngDevMode&&_e(null===o||o.hasOwnProperty("tViews"),!0,"We expect to get 'null'|'TIcuContainer'"),null===o?e.data[t]=n:(ngDevMode&&Qo(o,32),o.value=n)}(e,i,a);const c=r.values;for(let i=0;i<c.length;i++){const l=c[i],u=[];for(let e=0;e<l.length;e++){const t=l[e];if("string"!=typeof t){const n=u.push(t)-1;l[e]=`\x3c!--�${n}�--\x3e`}}s=hg(e,a,t,n,o,r.cases[i],l.join(""),u)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,i)}function dg(e){const t=[],n=[];let o=1,r=0;const i=pg(e=e.replace(eg,(function(e,t,n){return o="select"===n?0:1,r=parseInt(t.substr(1),10),""})));for(let e=0;e<i.length;){let r=i[e++].trim();1===o&&(r=r.replace(/\s*(?:=)?(\w+)\s*/,"$1")),r.length&&t.push(r);const s=pg(i[e++]);t.length>n.length&&n.push(s)}return{type:o,mainBinding:r,cases:t,values:n}}function pg(e){if(!e)return[];let t=0;const n=[],o=[],r=/[{}]/g;let i;for(r.lastIndex=0;i=r.exec(e);){const r=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const n=e.substring(t,r);eg.test(n)?o.push(dg(n)):o.push(n),t=r+1}}else{if(0==n.length){const n=e.substring(t,r);o.push(n),t=r+1}n.push("{")}}const s=e.substring(t);return o.push(s),o}function hg(e,t,n,o,r,i,s,a){const c=[],l=[],u=[];ngDevMode&&(kc(c,Jh),kc(l,Gh),kc(u,Kh)),t.cases.push(i),t.create.push(c),t.remove.push(l),t.update.push(u);const f=ls(Fn()).getInertBodyElement(s);ngDevMode&&Se(f,"Unable to generate inert body element");const d=Vs(f)||f;return d?gg(e,t,n,o,c,l,u,d,r,a,0):0}function gg(e,t,n,o,r,i,s,a,c,l,u){let f=0,d=a.firstChild;for(;d;){const a=vl(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,h=p.tagName.toLowerCase();if(Ms.hasOwnProperty(h)){vg(r,wh,h,c,a),e.data[a]=h;const g=p.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(Qh)?Ss.hasOwnProperty(n)?xs[n]?ag(s,t.value,a,t.name,0,hs):Is[n]?ag(s,t.value,a,t.name,0,gs):ag(s,t.value,a,t.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${n} on element ${h} (see https://g.co/ng/security#xss)`):bg(r,a,t)}f=gg(e,t,n,o,r,i,s,d,a,l,u+1)|f,yg(i,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",y=g.match(Qh);vg(r,null,y?"":g,c,a),yg(i,a,u),y&&(f=ag(s,g,a,null,0,null)|f);break;case Node.COMMENT_NODE:const m=Xh.exec(d.textContent||"");if(m){const t=parseInt(m[1],10),s=l[t];vg(r,_h,ngDevMode?`nested ICU ${t}`:"",c,a),fg(e,n,o,c,s,a),mg(i,a,u)}}d=d.nextSibling}return f}function yg(e,t,n){0===n&&e.push(t)}function mg(e,t,n){0===n&&(e.push(~t),e.push(t))}function vg(e,t,n,o,r){var i,s;null!==t&&e.push(t),e.push(n,r,(i=o,s=r,ngDevMode&&Te(i,0,"Missing parent index"),ngDevMode&&Ee(s,0,"Missing ref index"),i<<17|s<<1))}function bg(e,t,n){e.push(t<<1|1,n.name,n.value)}const wg=0,_g=/\[(�.+?�?)\]/,Cg=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Dg=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Mg=/{([A-Z0-9_]+)}/g,xg=/�I18N_EXP_(ICU(_\d+)?)�/g,Ig=/\/\*/,Eg=/\d+\:(\d+)/;function Tg(e,t,n=-1){const o=so(),r=io(),i=Jt+e;ngDevMode&&Se(o,"tView should be defined");const s=Yn(o.consts,t),a=uo();o.firstCreatePass&&function(e,t,n,o,r,i){const s=uo(),a=[],c=[],l=[[]];ngDevMode&&(kc(a,zh),kc(c,Kh)),r=function(e,t){if(function(e){return-1===e}(t))return ug(e);{const n=e.indexOf(`:${t}${tg}`)+2+t.toString().length,o=e.search(new RegExp(`${tg}\\/\\*\\d+:${t}${tg}`));return ug(e.substring(n,o))}}(r,i);const u=(f=r,f.replace(rg," ")).split(og);var f;for(let i=0;i<u.length;i++){let f=u[i];if(1&i){const t=47===f.charCodeAt(0),n=f.charCodeAt(t?1:0);ngDevMode&&ke(n,42,35);const o=Jt+Number.parseInt(f.substring(t?2:1));if(t)l.shift(),fo(uo(),!1);else{const t=kh(e,l[0],o);l.unshift([]),fo(t,!0)}}else{const i=pg(f);for(let u=0;u<i.length;u++){let f=i[u];if(1&u){const i=f;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const u=ig(e,s,l[0],n,a,ngDevMode?`ICU ${o}:${i.mainBinding}`:"",!0).index;ngDevMode&&Te(u,Jt,"Index must be in absolute LView offset"),fg(e,n,c,t,i,u)}else{const t=f;ngDevMode&&we(t,"Parsed ICU part should be string"),""!==t&&sg(e,s,l[0],a,c,n,t)}}}}e.data[o]={create:a,update:c}}(o,null===a?0:a.index,r,i,s,n);const c=o.data[i],l=Ua(o,a===r[Pt]?null:a,r),u=a&&8&a.type?r[a.index]:null;!function(e,t,n,o){const r=e[Lt];for(let i=0;i<t.length;i++){const s=t[i++],a=t[i],c=(s&Ch.COMMENT)===Ch.COMMENT,l=(s&Ch.APPEND_EAGERLY)===Ch.APPEND_EAGERLY,u=s>>>Ch.SHIFT;let f=e[u];null===f&&(f=e[u]=c?r.createComment(a):ka(r,a)),l&&null!==n&&Ba(r,n,f,o,!1)}}(r,c.create,l,u),Co(!0)}function Sg(){Co(!1)}function Og(e,t,n){Tg(e,t,n),Sg()}function Ag(e,t){const n=so();ngDevMode&&Se(n,"tView should be defined");const o=Yn(n.consts,t);!function(e,t,n){const o=co().index,r=[];if(ngDevMode&&kc(r,Kh),e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],i=n[e+1];if(""!==i){if(Yh.test(i))throw new Error(`ICU expressions are not supported in attributes. Message: "${i}".`);ag(r,i,o,t,cg(r),null)}}e.data[t]=r}}(n,e+Jt,o)}function Ng(e){return yf(io(),wo(),e)&&($h|=1<<Math.min(Lh,31)),Lh++,Ng}function kg(e){!function(e,t,n){if(Lh>0){ngDevMode&&Se(e,"tView should be defined");const o=e.data[n];Hh(e,t,Array.isArray(o)?o:o.update,vo()-Lh-1,$h)}$h=0,Lh=0}(so(),io(),e+Jt)}function Pg(e,t={}){return function(e,t={}){let n=e;if(_g.test(e)){const e={},t=[wg];n=n.replace(Cg,((n,o,r)=>{const i=o||r,s=e[i]||[];if(s.length||(i.split("|").forEach((e=>{const t=e.match(Eg),n=t?parseInt(t[1],10):wg,o=Ig.test(e);s.push([n,o,e])})),e[i]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${i}`);const a=t[t.length-1];let c=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){c=e;break}const[l,u,f]=s[c];return u?t.pop():a!==l&&t.push(l),s.splice(c,1),f}))}return Object.keys(t).length?(n=n.replace(Dg,((e,n,o,r,i,s)=>t.hasOwnProperty(o)?`${n}${t[o]}${s}`:e)),n=n.replace(Mg,((e,n)=>t.hasOwnProperty(n)?t[n]:e)),n=n.replace(xg,((e,n)=>{if(t.hasOwnProperty(n)){const o=t[n];if(!o.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return o.shift()}return e})),n):n}(e,t)}function Rg(e,t,n,o,r){if(e=ce(e),Array.isArray(e))for(let i=0;i<e.length;i++)Rg(e[i],t,n,o,r);else{const i=so(),s=io();let a=Su(e)?e:ce(e.provide),c=Iu(e);const l=co(),u=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Su(e)||!e.multi){const o=new Go(c,r,hd),p=$g(a,t,r?u:u+d,f);-1===p?(gr(fr(l,s),i,a),jg(i,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(o),s.push(o)):(n[p]=o,s[p]=o)}else{const p=$g(a,t,u+d,f),h=$g(a,t,u,u+d),g=p>=0&&n[p],y=h>=0&&n[h];if(r&&!y||!r&&!g){gr(fr(l,s),i,a);const u=function(e,t,n,o,r){const i=new Go(e,n,hd);return i.multi=[],i.index=t,i.componentProviders=0,Vg(i,r,o&&!n),i}(r?Fg:Lg,n.length,r,o,c);!r&&y&&(n[h].providerFactory=u),jg(i,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else jg(i,e,p>-1?p:h,Vg(n[r?h:p],c,!r&&o));!r&&o&&y&&n[h].componentProviders++}}}function jg(e,t,n,o){const r=Su(t),i=!!t.useClass;if(r||i){const s=(i?ce(t.useClass):t).prototype.ngOnDestroy;if(s){const i=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){ngDevMode&&Se(o,"indexInFactory when registering multi factory destroy hook");const e=i.indexOf(n);-1===e?i.push(n,[o,s]):i[e+1].push(o,s)}else i.push(n,s)}}}function Vg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function $g(e,t,n,o){for(let r=n;r<o;r++)if(t[r]===e)return r;return-1}function Lg(e,t,n,o){return Hg(this.multi,[])}function Fg(e,t,n,o){const r=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Dr(n,n[St],this.providerFactory.index,o);i=t.slice(0,e),Hg(r,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],Hg(r,i);return i}function Hg(e,t){for(let n=0;n<e.length;n++){const o=e[n];t.push(o())}return t}function Ug(e,t=[]){return n=>{n.providersResolver=(n,o)=>function(e,t,n){const o=so();if(o.firstCreatePass){const r=an(e);Rg(n,o.data,o.blueprint,r,!0),Rg(t,o.data,o.blueprint,r,!1)}}(n,o?o(e):e,t)}}class Bg{}class Wg{}class qg{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${re(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class zg{}function Kg(e,t){return new Jg(zn(e,t))}zg.NULL=new qg;class Jg{constructor(e){this.nativeElement=e}}function Gg(e){return e instanceof Jg?e.nativeElement:e}Jg.__NG_ELEMENT_ID__=function(){return Kg(co(),io())},new $r("Renderer2Interceptor");class Zg{}class Qg{}Qg.__NG_ELEMENT_ID__=()=>function(){const e=io(),t=Gn(co().index,e);return function(e){const t=e[Lt];if(ngDevMode&&!Un(t))throw new Error("Cannot inject Renderer2 when the application uses Renderer3!");return t}(tn(t)?t:e)}();class Yg{}Yg.ɵprov=Pe({token:Yg,providedIn:"root",factory:()=>null});class Xg{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ey=new Xg("13.2.6"),ty={};function ny(e,t,n,o,r=!1){for(;null!==n;){ngDevMode&&Qo(n,63);const i=t[n.index];if(null!==i&&o.push(Wn(i)),nn(i))for(let e=en;e<i.length;e++){const t=i[e],n=t[St].firstChild;null!==n&&ny(t[St],t,n,o)}const s=n.type;if(8&s)ny(e,t,n.child,o);else if(32&s){const e=Ia(n,t);let r;for(;r=e();)o.push(r)}else if(16&s){const e=ec(t,n);if(Array.isArray(e))o.push(...e);else{const n=Ea(t[Wt]);ngDevMode&&_n(n),ny(n[St],n,e,o,!0)}}n=r?n.projectionNext:n.next}return o}class oy{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[St];return ny(t,e,t.firstChild,[])}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return!(256&~this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[At];if(nn(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ngDevMode&&_e(n,e.indexOf(this._lView)-en,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),$a(e,n),ei(t,n))}this._attachedToViewContainer=!1}La(this._lView[St],this._lView)}onDestroy(e){Sl(this._lView[St],this._lView,null,e)}markForCheck(){Xl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-129}reattach(){this._lView[Ot]|=128}detectChanges(){tu(this._lView[St],this._lView,this.context)}checkNoChanges(){!function(e,t,n){yo(!0);try{tu(e,t,n)}finally{yo(!1)}}(this._lView[St],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef){const e=ngDevMode?"This view is already attached directly to the ApplicationRef!":"";throw new fe(902,e)}this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,rc(this._lView[St],e=this._lView,e[Lt],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer){const e=ngDevMode?"This view is already attached to a ViewContainer!":"";throw new fe(902,e)}this._appRef=e}}class ry extends oy{constructor(e){super(e),this._view=e}detectChanges(){nu(this._view)}checkNoChanges(){!function(e){yo(!0);try{nu(e)}finally{yo(!1)}}(this._view)}get context(){return null}}class iy extends zg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&dn(e);const t=Mt(e);return new ay(t,this.ngModule)}}function sy(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const o=e[n];t.push({propName:o,templateName:n})}return t}class ay extends Wg{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(bc).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return sy(this.componentDef.inputs)}get outputs(){return sy(this.componentDef.outputs)}create(e,t,n,o){const r=(o=o||this.ngModule)?function(e,t){return{get:(n,o,r)=>{const i=e.get(n,ty,r);return i!==ty||o===ty?i:t.get(n,o,r)}}}(e,o.injector):e,i=r.get(Zg,Bn),s=r.get(Yg,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?Tl(a,n,this.componentDef.encapsulation):ja(i.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?Pn:"math"===t?jn:null}(c)),u=this.componentDef.onPush?576:528,f=Zu(),d=El(0,null,null,1,0,null,null,null,null,null),p=gl(null,d,f,u,null,null,i,a,s,r);let h,g;Oo(p);try{const e=Ju(l,this.componentDef,p,i,a);if(l)if(n)Yo(a,l,["ng-version",ey.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let o=1,r=2;for(;o<e.length;){let i=e[o];if("string"==typeof i)2===r?""!==i&&t.push(i,e[++o]):8===r&&n.push(i);else{if(!hc(r))break;r=i}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Yo(a,l,e),t&&t.length>0&&ac(a,l,t.join(" "))}if(g=Kn(d,Jt),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const o=t[n];e.push(null!=o?Array.from(o):null)}}h=Gu(e,this.componentDef,p,f,[Qu]),bl(d,p,null)}finally{Ro()}return new cy(this.componentType,h,Kg(g,p),p,g)}}new iy;class cy extends Bg{constructor(e,t,n,o,r){super(),this.location=n,this._rootLView=o,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new ry(o),this.componentType=e}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function ly(e,t,n,o){return Je((()=>{const r=e;null!==t&&(r.hasOwnProperty("decorators")&&void 0!==r.decorators?r.decorators.push(...t):r.decorators=t),null!==n&&(r.ctorParameters=n),null!==o&&(r.hasOwnProperty("propDecorators")&&void 0!==r.propDecorators?r.propDecorators={...r.propDecorators,...o}:r.propDecorators=o)}))}class uy{}class fy{}const dy=new Map;function py(e){const t=new Set;!function e(n){const o=Et(n,!0),r=o.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${re(t)} vs ${re(t.name)}`)}(r,dy.get(r),n),dy.set(r,n));const i=_a(o.imports);for(const n of i)t.has(n)||(t.add(n),e(n))}(e)}function hy(e){return dy.get(e)||vt[e]}function gy(e,t){return new yy(e,t??null)}class yy extends uy{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iy(this);const n=Et(e);ngDevMode&&Se(n,`NgModule '${re(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=_a(n.bootstrap),this._r3Injector=Du(e,t,[{provide:uy,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ou.THROW_IF_NOT_FOUND,n=We.Default){return e===Ou||e===uy||e===gu?this:this._r3Injector.get(e,t,n)}destroy(){ngDevMode&&Se(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&Se(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class my extends fy{constructor(e){super(),this.moduleType=e,null!==Et(e)&&py(e)}create(e){return new yy(this.moduleType,e)}}function vy(e,t,n){const o=mo()+e,r=io();return r[o]===wc?hf(r,o,n?t.call(n):t()):gf(r,o)}function by(e,t,n,o){return Sy(io(),mo(),e,t,n,o)}function wy(e,t,n,o,r){return Oy(io(),mo(),e,t,n,o,r)}function _y(e,t,n,o,r,i){return Ay(io(),mo(),e,t,n,o,r,i)}function Cy(e,t,n,o,r,i,s){return Ny(io(),mo(),e,t,n,o,r,i,s)}function Dy(e,t,n,o,r,i,s,a){const c=mo()+e,l=io(),u=bf(l,c,n,o,r,i);return yf(l,c+4,s)||u?hf(l,c+5,a?t.call(a,n,o,r,i,s):t(n,o,r,i,s)):gf(l,c+5)}function My(e,t,n,o,r,i,s,a,c){const l=mo()+e,u=io(),f=bf(u,l,n,o,r,i);return mf(u,l+4,s,a)||f?hf(u,l+6,c?t.call(c,n,o,r,i,s,a):t(n,o,r,i,s,a)):gf(u,l+6)}function xy(e,t,n,o,r,i,s,a,c,l){const u=mo()+e,f=io();let d=bf(f,u,n,o,r,i);return vf(f,u+4,s,a,c)||d?hf(f,u+7,l?t.call(l,n,o,r,i,s,a,c):t(n,o,r,i,s,a,c)):gf(f,u+7)}function Iy(e,t,n,o,r,i,s,a,c,l,u){const f=mo()+e,d=io(),p=bf(d,f,n,o,r,i);return bf(d,f+4,s,a,c,l)||p?hf(d,f+8,u?t.call(u,n,o,r,i,s,a,c,l):t(n,o,r,i,s,a,c,l)):gf(d,f+8)}function Ey(e,t,n,o){return ky(io(),mo(),e,t,n,o)}function Ty(e,t){ngDevMode&&Ne(e,t);const n=e[t];return n===wc?void 0:n}function Sy(e,t,n,o,r,i){const s=t+n;return yf(e,s,r)?hf(e,s+1,i?o.call(i,r):o(r)):Ty(e,s+1)}function Oy(e,t,n,o,r,i,s){const a=t+n;return mf(e,a,r,i)?hf(e,a+2,s?o.call(s,r,i):o(r,i)):Ty(e,a+2)}function Ay(e,t,n,o,r,i,s,a){const c=t+n;return vf(e,c,r,i,s)?hf(e,c+3,a?o.call(a,r,i,s):o(r,i,s)):Ty(e,c+3)}function Ny(e,t,n,o,r,i,s,a,c){const l=t+n;return bf(e,l,r,i,s,a)?hf(e,l+4,c?o.call(c,r,i,s,a):o(r,i,s,a)):Ty(e,l+4)}function ky(e,t,n,o,r,i){let s=t+n,a=!1;for(let t=0;t<r.length;t++)yf(e,s++,r[t])&&(a=!0);return a?hf(e,s,o.apply(i,r)):Ty(e,s)}function Py(e,t){const n=so();let o;const r=e+Jt;n.firstCreatePass?(o=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}if(ngDevMode){const t=io()[Wt][jt],n=t?` in the '${t.constructor.name}' component`:"";throw new fe(-302,`The pipe '${e}' could not be found${n}!`)}}(t,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,o.onDestroy)):o=n.data[r];const i=o.factory||(o.factory=Dn(o.type,!0)),s=ze(hd);try{const e=ar(!1),t=i();return ar(e),Ff(n,io(),r,t),t}finally{ze(s)}}function Ry(e,t,n){const o=e+Jt,r=io(),i=Jn(r,o);return Fy(r,o)?Sy(r,mo(),t,i.transform,n,i):i.transform(n)}function jy(e,t,n,o){const r=e+Jt,i=io(),s=Jn(i,r);return Fy(i,r)?Oy(i,mo(),t,s.transform,n,o,s):s.transform(n,o)}function Vy(e,t,n,o,r){const i=e+Jt,s=io(),a=Jn(s,i);return Fy(s,i)?Ay(s,mo(),t,a.transform,n,o,r,a):a.transform(n,o,r)}function $y(e,t,n,o,r,i){const s=e+Jt,a=io(),c=Jn(a,s);return Fy(a,s)?Ny(a,mo(),t,c.transform,n,o,r,i,c):c.transform(n,o,r,i)}function Ly(e,t,n){const o=e+Jt,r=io(),i=Jn(r,o);return Fy(r,o)?ky(r,mo(),t,i.transform,n,i):i.transform.apply(i,n)}function Fy(e,t){return e[St].data[t].pure}class Hy extends o.Subject{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,i=t||(()=>null),s=n;if(e&&"object"==typeof e){const t=e;r=t.next?.bind(t),i=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(i=Uy(i),r&&(r=Uy(r)),s&&(s=Uy(s)));const a=super.subscribe({next:r,error:i,complete:s});return e instanceof o.Subscription&&e.add(a),a}}function Uy(e){return t=>{setTimeout(e,void 0,t)}}const By=Hy;function Wy(){return this._results[uf()]()}class qy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=uf(),n=qy.prototype;n[t]||(n[t]=Wy)}get changes(){return this._changes||(this._changes=new By)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const o=Qr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let r=e[o],i=t[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}(n._results,o,t))&&(n._results=o,n.length=o.length,n.last=o[this.length-1],n.first=o[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class zy{}zy.__NG_ELEMENT_ID__=function(){return Gy(co(),io())};const Ky=zy,Jy=class extends Ky{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=gl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null),o=this._declarationLView[this._declarationTContainer.index];ngDevMode&&hn(o),n[qt]=o;const r=this._declarationLView[Kt];return null!==r&&(n[Kt]=r.createEmbeddedView(t)),bl(t,n,e),new oy(n)}};function Gy(e,t){return 4&e.type?(ngDevMode&&Se(e.tViews,"TView must be allocated"),new Jy(t,e,Kg(e,t))):null}class Zy{}Zy.__NG_ELEMENT_ID__=function(){return tm(co(),io())};const Qy=Zy,Yy=class extends Qy{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Kg(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const e=hr(this._hostTNode,this._hostLView);if(or(e)){const t=ir(e,this._hostLView),n=rr(e);ngDevMode&&Cn(t,n);const o=t[St].data[n+8];return new Ir(o,t)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Xy(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,t,n){const o=e.createEmbeddedView(t||{});return this.insert(o,n),o}createComponent(e,t,n,o,r){const i=e&&!Zr(e);let s;if(i)ngDevMode&&_e("object"!=typeof t,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),s=t;else{ngDevMode&&(Se(Mt(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),_e("number"!=typeof t,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const i=t||{};s=i.index,n=i.injector,o=i.projectableNodes,r=i.ngModuleRef}const a=i?e:new ay(Mt(e)),c=n||this.parentInjector;if(!r&&null==a.ngModule){const e=(i?c:this.parentInjector).get(uy,null);e&&(r=e)}const l=a.create(c,o,void 0,r);return this.insert(l.hostView,s),l}insert(e,t){const n=e._lView,o=n[St];if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(nn(n[At])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[At];ngDevMode&&_e(nn(t),!0,"An attached view should have its PARENT point to a container.");const o=new Yy(t,t[Pt],t[At]);o.detach(o.indexOf(e))}}const r=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,o){ngDevMode&&yn(t),ngDevMode&&hn(n);const r=en+o,i=n.length;o>0&&(n[r-1][Nt]=t),o<i-en?(t[Nt]=n[r],Xr(n,en+o,t)):(n.push(t),t[Nt]=null),t[At]=n;const s=t[qt];null!==s&&n!==s&&function(e,t){ngDevMode&&Se(t,"LView required"),ngDevMode&&hn(e);const n=e[Xt],o=t[At];ngDevMode&&hn(o);const r=o[At][Wt];ngDevMode&&Se(r,"Missing insertedComponentLView");const i=t[Wt];ngDevMode&&Se(i,"Missing declaredComponentLView"),i!==r&&(e[Qt]=!0),null===n?e[Xt]=[t]:n.push(t)}(s,t);const a=t[Kt];null!==a&&a.insertView(e),t[Ot]|=128}(o,n,i,r);const s=tc(r,i),a=n[Lt],c=za(a,i[Yt]);return null!==c&&function(e,t,n,o,r,i){o[Tt]=r,o[Pt]=t,rc(e,o,n,1,r,i)}(o,i[Pt],a,n,c,s),e.attachToViewContainerRef(),Xr(em(i),r,e),e}move(e,t){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=Xy(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=$a(this._lContainer,t);n&&(ei(em(this._lContainer),t),La(n[St],n))}detach(e){const t=this._adjustIndex(e,-1),n=$a(this._lContainer,t);return n&&null!=ei(em(this._lContainer),t)?new oy(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:(ngDevMode&&(Ee(e,-1,`ViewRef index must be positive, got ${e}`),xe(e,this.length+1+t,"index")),e)}};function Xy(e){return e[8]}function em(e){return e[8]||(e[8]=[])}function tm(e,t){let n;ngDevMode&&Qo(e,15);const o=t[e.index];if(nn(o))n=o;else{let r;if(8&e.type)r=Wn(o);else{const n=t[Lt];ngDevMode&&ngDevMode.rendererCreateComment++,r=n.createComment(ngDevMode?"container":"");const o=zn(e,t);Ba(n,za(n,o),r,function(e,t){return Un(e)?e.nextSibling(t):t.nextSibling}(n,o),!1)}t[e.index]=n=Jl(o,t,r,e),Yl(t,n)}return new Yy(n,e,t)}class nm{constructor(e){this.queryList=e,this.matches=null}clone(){return new nm(this.queryList)}setDirty(){this.queryList.setDirty()}}class om{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),r=this.queries[n.indexInDeclarationView];o.push(r.clone())}return new om(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==mm(e,t).matches&&this.queries[t].setDirty()}}class rm{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class im{constructor(e=[]){this.queries=e}elementStart(e,t){ngDevMode&&mn(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const o=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,o);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new im(t):null}template(e,t){ngDevMode&&mn(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return ngDevMode&&Ne(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new sm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const r=n[o];this.matchTNodeWithReadOption(e,t,am(t,r)),this.matchTNodeWithReadOption(e,t,Cr(t,e,r,!1,!1))}else n===zy?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Cr(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===Jg||o===Zy||o===zy&&4&t.type)this.addMatch(t.index,-2);else{const n=Cr(t,e,o,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function am(e,t){const n=e.localNames;if(null!==n)for(let e=0;e<n.length;e+=2)if(n[e]===t)return n[e+1];return null}function cm(e,t,n,o){return-1===n?function(e,t){return 11&e.type?Kg(e,t):4&e.type?Gy(e,t):null}(t,e):-2===n?function(e,t,n){return n===Jg?Kg(t,e):n===zy?Gy(t,e):n===Zy?(ngDevMode&&Qo(t,15),tm(t,e)):void(ngDevMode&&Oe(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${re(n)}.`))}(e,t,o):Dr(e,e[St],n,t)}function lm(e,t,n,o){const r=t[Kt].queries[o];if(null===r.matches){const o=e.data,i=n.matches,s=[];for(let e=0;e<i.length;e+=2){const r=i[e];if(r<0)s.push(null);else{ngDevMode&&Ne(o,r);const a=o[r];s.push(cm(t,a,i[e+1],n.metadata.read))}}r.matches=s}return r.matches}function um(e,t,n,o){const r=e.queries.getByIndex(n),i=r.matches;if(null!==i){const s=lm(e,t,r,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)o.push(s[e/2]);else{const r=i[e+1],s=t[-n];ngDevMode&&hn(s);for(let e=en;e<s.length;e++){const t=s[e];t[qt]===t[At]&&um(t[St],t,r,o)}if(null!==s[Xt]){const e=s[Xt];for(let t=0;t<e.length;t++){const n=e[t];um(n[St],n,r,o)}}}}}return o}function fm(e){const t=io(),n=so(),o=Io();Eo(o+1);const r=mm(n,o);if(e.dirty&&Zn(t)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const i=r.crossesNgTemplate?um(n,t,o,[]):lm(n,t,r,o);e.reset(i,Gg),e.notifyOnChanges()}return!0}return!1}function dm(e,t,n){ngDevMode&&ve(t,"Expecting flags");const o=so();o.firstCreatePass&&(ym(o,new rm(e,t,n),-1),2&~t||(o.staticViewQueries=!0)),gm(o,io(),t)}function pm(e,t,n,o){ngDevMode&&ve(n,"Expecting flags");const r=so();if(r.firstCreatePass){const i=co();ym(r,new rm(t,n,o),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2&~n||(r.staticContentQueries=!0)}gm(r,io(),n)}function hm(){return e=io(),t=Io(),ngDevMode&&Se(e[Kt],"LQueries should be defined when trying to load a query"),ngDevMode&&Ne(e[Kt].queries,t),e[Kt].queries[t].queryList;var e,t}function gm(e,t,n){const o=new qy(!(4&~n));Sl(e,t,o,o.destroy),null===t[Kt]&&(t[Kt]=new om),t[Kt].queries.push(new nm(o))}function ym(e,t,n){null===e.queries&&(e.queries=new im),e.queries.track(new sm(t,n))}function mm(e,t){return ngDevMode&&Se(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(t)}function vm(e,t){return Gy(e,t)}const bm={ɵɵattribute:wf,ɵɵattributeInterpolate1:Of,ɵɵattributeInterpolate2:Af,ɵɵattributeInterpolate3:Nf,ɵɵattributeInterpolate4:kf,ɵɵattributeInterpolate5:Pf,ɵɵattributeInterpolate6:Rf,ɵɵattributeInterpolate7:jf,ɵɵattributeInterpolate8:Vf,ɵɵattributeInterpolateV:$f,ɵɵdefineComponent:ht,ɵɵdefineDirective:Ct,ɵɵdefineInjectable:Pe,ɵɵdefineInjector:je,ɵɵdefineNgModule:bt,ɵɵdefinePipe:Dt,ɵɵdirectiveInject:hd,ɵɵgetInheritedFactory:Er,ɵɵinject:_i,ɵɵinjectAttribute:Sr,ɵɵinvalidFactory:gd,ɵɵinvalidFactoryDep:Ci,ɵɵtemplateRefExtractor:vm,ɵɵNgOnChangesFeature:xn,ɵɵProvidersFeature:Ug,ɵɵCopyDefinitionFeature:cf,ɵɵInheritDefinitionFeature:ef,ɵɵnextContext:kd,ɵɵnamespaceHTML:Ho,ɵɵnamespaceMathML:Fo,ɵɵnamespaceSVG:Lo,ɵɵenableBindings:oo,ɵɵdisableBindings:ro,ɵɵelementStart:vd,ɵɵelementEnd:bd,ɵɵelement:wd,ɵɵelementContainerStart:_d,ɵɵelementContainerEnd:Cd,ɵɵelementContainer:Dd,ɵɵpureFunction0:vy,ɵɵpureFunction1:by,ɵɵpureFunction2:wy,ɵɵpureFunction3:_y,ɵɵpureFunction4:Cy,ɵɵpureFunction5:Dy,ɵɵpureFunction6:My,ɵɵpureFunction7:xy,ɵɵpureFunction8:Iy,ɵɵpureFunctionV:Ey,ɵɵgetCurrentView:Md,ɵɵrestoreView:ao,ɵɵlistener:Td,ɵɵprojection:jd,ɵɵsyntheticHostProperty:ah,ɵɵsyntheticHostListener:Sd,ɵɵpipeBind1:Ry,ɵɵpipeBind2:jy,ɵɵpipeBind3:Vy,ɵɵpipeBind4:$y,ɵɵpipeBindV:Ly,ɵɵprojectionDef:Rd,ɵɵhostProperty:sh,ɵɵproperty:yd,ɵɵpropertyInterpolate:Vd,ɵɵpropertyInterpolate1:$d,ɵɵpropertyInterpolate2:Ld,ɵɵpropertyInterpolate3:Fd,ɵɵpropertyInterpolate4:Hd,ɵɵpropertyInterpolate5:Ud,ɵɵpropertyInterpolate6:Bd,ɵɵpropertyInterpolate7:Wd,ɵɵpropertyInterpolate8:qd,ɵɵpropertyInterpolateV:zd,ɵɵpipe:Py,ɵɵqueryRefresh:fm,ɵɵviewQuery:dm,ɵɵloadQuery:hm,ɵɵcontentQuery:pm,ɵɵreference:Hf,ɵɵclassMap:lp,ɵɵclassMapInterpolate1:kp,ɵɵclassMapInterpolate2:Pp,ɵɵclassMapInterpolate3:Rp,ɵɵclassMapInterpolate4:jp,ɵɵclassMapInterpolate5:Vp,ɵɵclassMapInterpolate6:$p,ɵɵclassMapInterpolate7:Lp,ɵɵclassMapInterpolate8:Fp,ɵɵclassMapInterpolateV:Hp,ɵɵstyleMap:ap,ɵɵstyleMapInterpolate1:Up,ɵɵstyleMapInterpolate2:Bp,ɵɵstyleMapInterpolate3:Wp,ɵɵstyleMapInterpolate4:qp,ɵɵstyleMapInterpolate5:zp,ɵɵstyleMapInterpolate6:Kp,ɵɵstyleMapInterpolate7:Jp,ɵɵstyleMapInterpolate8:Gp,ɵɵstyleMapInterpolateV:Zp,ɵɵstyleProp:ip,ɵɵstylePropInterpolate1:Qp,ɵɵstylePropInterpolate2:Yp,ɵɵstylePropInterpolate3:Xp,ɵɵstylePropInterpolate4:eh,ɵɵstylePropInterpolate5:th,ɵɵstylePropInterpolate6:nh,ɵɵstylePropInterpolate7:oh,ɵɵstylePropInterpolate8:rh,ɵɵstylePropInterpolateV:ih,ɵɵclassProp:sp,ɵɵadvance:_c,ɵɵtemplate:Lf,ɵɵtext:Cp,ɵɵtextInterpolate:Dp,ɵɵtextInterpolate1:Mp,ɵɵtextInterpolate2:xp,ɵɵtextInterpolate3:Ip,ɵɵtextInterpolate4:Ep,ɵɵtextInterpolate5:Tp,ɵɵtextInterpolate6:Sp,ɵɵtextInterpolate7:Op,ɵɵtextInterpolate8:Ap,ɵɵtextInterpolateV:Np,ɵɵi18n:Og,ɵɵi18nAttributes:Ag,ɵɵi18nExp:Ng,ɵɵi18nStart:Tg,ɵɵi18nEnd:Sg,ɵɵi18nApply:kg,ɵɵi18nPostprocess:Pg,ɵɵresolveWindow:ma,ɵɵresolveDocument:va,ɵɵresolveBody:ba,ɵɵsetComponentScope:gt,ɵɵsetNgModuleScope:wt,ɵɵsanitizeHtml:Ls,ɵɵsanitizeStyle:Fs,ɵɵsanitizeResourceUrl:Us,ɵɵsanitizeScript:Bs,ɵɵsanitizeUrl:Hs,ɵɵsanitizeUrlOrResourceUrl:zs,ɵɵtrustConstantHtml:Ws,ɵɵtrustConstantResourceUrl:qs,forwardRef:ae,resolveForwardRef:ce};let wm=null;function _m(){wm=null}const Cm=[];let Dm=!1;function Mm(){if(!Dm){Dm=!0;try{for(let e=Cm.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Cm[e];n.declarations&&n.declarations.every(xm)&&(Cm.splice(e,1),Rm(t,n))}}finally{Dm=!1}}}function xm(e){return Array.isArray(e)?e.every(xm):!!ce(e)}function Im(e,t={}){Em(e,t),function(e,t){Cm.push({moduleType:e,ngModule:t})}(e,t)}function Em(e,t,n=!1){ngDevMode&&Se(e,"Required value moduleType"),ngDevMode&&Se(t,"Required value ngModule");const o=Qr(t.declarations||st);let r=null;Object.defineProperty(e,ut,{configurable:!0,get:()=>{if(null===r){if(ngDevMode&&t.imports&&t.imports.indexOf(e)>-1)throw new Error(`'${he(e)}' module can't import itself`);const n=Jr({usage:0,kind:"NgModule",type:e});r=n.compileNgModule(bm,`ng:///${e.name}/ɵmod.js`,{type:e,bootstrap:Qr(t.bootstrap||st).map(ce),declarations:o.map(ce),imports:Qr(t.imports||st).map(ce).map($m),exports:Qr(t.exports||st).map(ce).map($m),schemas:t.schemas?Qr(t.schemas):null,id:t.id||null}),r.schemas||(r.schemas=[])}return r}});let i=null;Object.defineProperty(e,ft,{get:()=>{if(null===i){const t=Jr({usage:0,kind:"NgModule",type:e});i=t.compileFactory(bm,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,deps:ki(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!!ngDevMode});let s=null;Object.defineProperty(e,He,{get:()=>{if(null===s){ngDevMode&&Tm(e,n);const o={name:e.name,type:e,providers:t.providers||st,imports:[(t.imports||st).map(ce),(t.exports||st).map(ce)]},r=Jr({usage:0,kind:"NgModule",type:e});s=r.compileInjector(bm,`ng:///${e.name}/ɵinj.js`,o)}return s},configurable:!!ngDevMode})}function Tm(e,t,n){if(Nm.get(e))return;let o;if(Nm.set(e,!0),e=ce(e),n){if(o=Et(e),!o)throw new Error(`Unexpected value '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}else o=Et(e,!0);const r=[],i=_a(o.declarations),s=_a(o.imports);Qr(s).map(Sm).forEach((t=>{f(t,e),Tm(t,!1,e)}));const a=_a(o.exports);i.forEach((function(t){Mt(t=ce(t))||xt(t)||It(t)||r.push(`Unexpected value '${he(t)}' declared by the module '${he(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),i.forEach((function(e){const t=xt(e=ce(e));!Mt(e)&&t&&0==t.selectors.length&&r.push(`Directive ${he(e)} has no selector, please add it!`)}));const c=[...i.map(ce),...Qr(s.map(Pm)).map(ce)];a.forEach((function(t){const n=(Mt(t=ce(t))?"component":xt(t)&&"directive")||It(t)&&"pipe";n&&-1===c.lastIndexOf(t)&&r.push(`Can't export ${n} ${he(t)} from ${he(e)} as it was neither declared nor imported!`)})),i.forEach((n=>function(t,n){t=ce(t);const o=Am.get(t);if(o&&o!==e){if(!n){const n=[o,e].map(he).sort();r.push(`Type ${he(t)} is part of the declarations of 2 modules: ${n[0]} and ${n[1]}! Please consider moving ${he(t)} to a higher module that imports ${n[0]} and ${n[1]}. You can also create a new NgModule that exports and includes ${he(t)} then import that NgModule in ${n[0]} and ${n[1]}.`)}}else Am.set(t,e)}(n,t))),i.forEach((function(e){if(Mt(e=ce(e))){const t=Om(e,"Component");t&&t.entryComponents&&Yr(t.entryComponents,u)}}));const l=Om(e,"NgModule");if(l&&(l.imports&&Qr(l.imports).map(Sm).forEach((t=>{f(t,e),Tm(t,!1,e)})),l.bootstrap&&Yr(l.bootstrap,(function(e){Mt(e=ce(e))||r.push(`${he(e)} cannot be used as an entry component.`)})),l.bootstrap&&Yr(l.bootstrap,u),l.entryComponents&&Yr(l.entryComponents,u)),r.length)throw new Error(r.join("\n"));function u(e){e=ce(e),Am.get(e)||r.push(`Component ${he(e)} is not part of any NgModule or the module has not been imported into your module.`)}function f(e,t){if(Mt(e=ce(e))||xt(e))throw new Error(`Unexpected directive '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`);if(It(e))throw new Error(`Unexpected pipe '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`)}}function Sm(e){return(e=ce(e)).ngModule||e}function Om(e,t){let n=null;return o(e.__annotations__),o(e.decorators),n;function o(e){e&&e.forEach(r)}function r(e){n||(Object.getPrototypeOf(e).ngMetadataName==t?n=e:e.type&&Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0]))}}let Am=new WeakMap,Nm=new WeakMap;function km(){Am=new WeakMap,Nm=new WeakMap,Cm.length=0}function Pm(e){return[...Qr(_a(Et(e=ce(e),!0).exports).map((e=>Et(e)?(Tm(e,!1),Pm(e)):e)))]}function Rm(e,t){const n=Qr(t.declarations||st),o=Vm(e);n.forEach((t=>{t.hasOwnProperty(at)?jm(Mt(t),o):t.hasOwnProperty(ct)||t.hasOwnProperty(lt)||(t.ngSelectorScope=e)}))}function jm(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map((e=>e.hasOwnProperty(at)?Mt(e):xt(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(t.compilation.pipes).map((e=>It(e))),e.schemas=t.schemas,e.tView=null}function Vm(e){if(!Lm(e))throw new Error(`${e.name} does not have a module def (ɵmod property)`);const t=Et(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return _a(t.imports).forEach((e=>{const t=e;if(!Lm(t))throw new Error(`Importing ${t.name} which does not have a ɵmod property`);const o=Vm(t);o.exported.directives.forEach((e=>n.compilation.directives.add(e))),o.exported.pipes.forEach((e=>n.compilation.pipes.add(e)))})),_a(t.declarations).forEach((e=>{It(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),_a(t.exports).forEach((e=>{const t=e;if(Lm(t)){const e=Vm(t);e.exported.directives.forEach((e=>{n.compilation.directives.add(e),n.exported.directives.add(e)})),e.exported.pipes.forEach((e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else It(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function $m(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function Lm(e){return!!Et(e)}let Fm=0;function Hm(e,t){("undefined"==typeof ngDevMode||ngDevMode)&&rt();let n=null;!function(e,t){$i(t)&&(ji.set(e,t),Vi.add(e))}(e,t),Wm(e,t),Object.defineProperty(e,at,{get:()=>{if(null===n){const o=Jr({usage:0,kind:"component",type:e});if($i(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const r=wm;let i=t.preserveWhitespaces;void 0===i&&(i=null!==r&&void 0!==r.preserveWhitespaces&&r.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==r&&void 0!==r.defaultEncapsulation?r.defaultEncapsulation:Qe.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,c={...zm(e,t),typeSourceSpan:o.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:i,styles:t.styles||st,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null};Fm++;try{c.usesInheritance&&Km(e),n=o.compileComponent(bm,a,c)}finally{Fm--}if(0===Fm&&Mm(),void 0!==e.ngSelectorScope){const t=Vm(e.ngSelectorScope);jm(n,t)}}return n},configurable:!!ngDevMode})}function Um(e,t){let n=null;Wm(e,t||{}),Object.defineProperty(e,ct,{get:()=>{if(null===n){const o=Bm(e,t||{}),r=Jr({usage:0,kind:"directive",type:e});n=r.compileDirective(bm,o.sourceMapUrl,o.metadata)}return n},configurable:!!ngDevMode})}function Bm(e,t){const n=e&&e.name,o=`ng:///${n}/ɵdir.js`,r=Jr({usage:0,kind:"directive",type:e}),i=zm(e,t);return i.typeSourceSpan=r.createParseSourceSpan("Directive",n,o),i.usesInheritance&&Km(e),{metadata:i,sourceMapUrl:o}}function Wm(e,t){let n=null;Object.defineProperty(e,ft,{get:()=>{if(null===n){const o=Bm(e,t),r=Jr({usage:0,kind:"directive",type:e});n=r.compileFactory(bm,`ng:///${e.name}/ɵfac.js`,{name:o.metadata.name,type:o.metadata.type,typeArgumentCount:0,deps:ki(e),target:r.FactoryTarget.Directive})}return n},configurable:!!ngDevMode})}function qm(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function zm(e,t){const n=Ni(),o=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||it,propMetadata:o,inputs:t.inputs||st,outputs:t.outputs||st,queries:Gm(e,o,Zm),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!qm(e),exportAs:(r=t.exportAs,void 0===r?null:Xm(r)),providers:t.providers||null,viewQueries:Gm(e,o,Qm)};var r}function Km(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)xt(n)||Mt(n)||!tv(n)||Um(n,null),n=Object.getPrototypeOf(n)}function Jm(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Xm(n):ce(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function Gm(e,t,n){const o=[];for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];i.forEach((t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${r}" of "${he(e)}" since the query selector wasn't defined.`);if(i.some(Ym))throw new Error("Cannot combine @Input decorators with query decorators");o.push(Jm(r,t))}}))}return o}function Zm(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Qm(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Ym(e){return"Input"===e.ngMetadataName}function Xm(e){return e.split(",").map((e=>e.trim()))}const ev=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function tv(e){const t=Ni();if(ev.some((n=>t.hasLifecycleHook(e,n))))return!0;const n=t.propMetadata(e);for(const e in n){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e],o=n.ngMetadataName;if(Ym(n)||Zm(n)||Qm(n)||"Output"===o||"HostBinding"===o||"HostListener"===o)return!0}}return!1}function nv(e,t){let n=null,o=null;Object.defineProperty(e,ft,{get:()=>{if(null===o){const n=ov(e,t),r=Jr({usage:0,kind:"pipe",type:n.type});o=r.compileFactory(bm,`ng:///${n.name}/ɵfac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:ki(e),target:r.FactoryTarget.Pipe})}return o},configurable:!!ngDevMode}),Object.defineProperty(e,lt,{get:()=>{if(null===n){const o=ov(e,t),r=Jr({usage:0,kind:"pipe",type:o.type});n=r.compilePipe(bm,`ng:///${o.name}/ɵpipe.js`,o)}return n},configurable:!!ngDevMode})}function ov(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const rv=kr("Directive",((e={})=>e),void 0,void 0,((e,t)=>Um(e,t))),iv=kr("Component",((e={})=>({changeDetection:Ge.Default,...e})),rv,void 0,((e,t)=>Hm(e,t))),sv=kr("Pipe",(e=>({pure:!0,...e})),void 0,void 0,((e,t)=>nv(e,t))),av=jr("Input",(e=>({bindingPropertyName:e}))),cv=jr("Output",(e=>({bindingPropertyName:e}))),lv=jr("HostBinding",(e=>({hostPropertyName:e}))),uv=jr("HostListener",((e,t)=>({eventName:e,args:t}))),fv=kr("NgModule",(e=>e),void 0,void 0,((e,t)=>Im(e,t)));function dv(...e){}const pv=new $r("Application Initializer");class hv{constructor(e){this.appInits=e,this.resolve=dv,this.reject=dv,this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();if(xd(n))e.push(n);else if(Ed(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}}hv.ɵfac=function(e){return new(e||hv)(_i(pv,8))},hv.ɵprov=Pe({token:hv,factory:hv.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(hv,[{type:zf,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:Ii,args:[pv]},{type:Ei}]}]}),null);const gv=new $r("AppId",{providedIn:"root",factory:yv});function yv(){return`${vv()}${vv()}${vv()}`}const mv={provide:gv,useFactory:yv,deps:[]};function vv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bv=new $r("Platform Initializer"),wv=new $r("Platform ID"),_v=new $r("appBootstrapListener"),Cv=new $r("Application Packages Root URL");class Dv{log(e){console.log(e)}warn(e){console.warn(e)}}Dv.ɵfac=function(e){return new(e||Dv)},Dv.ɵprov=Pe({token:Dv,factory:Dv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(Dv,[{type:zf}],null,null);const Mv=new $r("LocaleId",{providedIn:"root",factory:()=>Di(Mv,We.Optional|We.SkipSelf)||("undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.getLocale()?goog.getLocale():"undefined"!=typeof $localize&&$localize.locale||bh)}),xv=new $r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Iv=new $r("Translations"),Ev=new $r("TranslationsFormat");var Tv;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Tv||(Tv={}));class Sv{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class Ov{compileModuleSync(e){return new my(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=_a(Et(e).declarations).reduce(((e,t)=>{const n=Mt(t);return n&&e.push(new ay(n)),e}),[]);return new Sv(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}Ov.ɵfac=function(e){return new(e||Ov)},Ov.ɵprov=Pe({token:Ov,factory:Ov.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(Ov,[{type:zf,args:[{providedIn:"root"}]}],null,null);const Av=new $r("compilerOptions");class Nv{}const kv=Promise.resolve(0);function Pv(e){"undefined"==typeof Zone?kv.then((()=>{e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Rv{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new By(!1),this.onMicrotaskEmpty=new By(!1),this.onStable=new By(!1),this.onError=new By(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&t,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let e=ot.requestAnimationFrame,t=ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ot,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,$v(e),e.isCheckStableRunning=!0,Vv(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),$v(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,i,s,a)=>{try{return Lv(e),n.invokeTask(r,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Fv(e)}},onInvoke:(n,o,r,i,s,a,c)=>{try{return Lv(e),n.invoke(r,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Fv(e)}},onHasTask:(t,n,o,r)=>{t.hasTask(o,r),n===o&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,$v(e),Vv(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,o,r)=>(t.handleError(o,r),e.runOutsideAngular((()=>e.onError.emit(r))),!1)})}(o)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rv.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Rv.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,o){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+o,e,jv,dv,dv);try{return r.runTask(i,t,n)}finally{r.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const jv={};function Vv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function $v(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Lv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fv(e){e._nesting--,Vv(e)}class Hv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new By,this.onMicrotaskEmpty=new By,this.onStable=new By,this.onError=new By}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,o){return e.apply(t,n)}}class Uv{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Rv.assertNotInAngularZone(),Pv((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pv((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let o=-1;t&&t>0&&(o=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==o)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}Uv.ɵfac=function(e){return new(e||Uv)(_i(Rv))},Uv.ɵprov=Pe({token:Uv,factory:Uv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(Uv,[{type:zf}],(function(){return[{type:Rv}]}),null);class Bv{constructor(){this._applications=new Map,zv.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return zv.findTestabilityInTree(this,e,t)}}function Wv(e){zv=e}Bv.ɵfac=function(e){return new(e||Bv)},Bv.ɵprov=Pe({token:Bv,factory:Bv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(Bv,[{type:zf}],(function(){return[]}),null);let qv,zv=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}};function Kv(e,t,n){ngDevMode&&function(e,t="Type passed in is not NgModuleType, it does not have 'ɵmod' property."){Et(e)||Oe(t)}(n);const o=new my(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(o);const r=e.get(Av,[]).concat(t);if(function(e){if(null!==wm){if(e.defaultEncapsulation!==wm.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(e.preserveWhitespaces!==wm.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}wm=e}({defaultEncapsulation:sb(r.map((e=>e.defaultEncapsulation))),preserveWhitespaces:sb(r.map((e=>e.preserveWhitespaces)))}),0===ji.size)return Promise.resolve(o);const i=function(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}(r.map((e=>e.providers)));if(0===i.length)return Promise.resolve(o);const s=Jr({usage:0,kind:"NgModule",type:n}),a=Ou.create({providers:i}).get(s.ResourceLoader);return Ri((e=>Promise.resolve(a.get(e)))).then((()=>o))}function Jv(e){return e.isBoundToModule}const Gv=new $r("AllowMultipleToken");class Zv{constructor(e,t){this.name=e,this.token=t}}function Qv(e){if(qv&&!qv.destroyed&&!qv.injector.get(Gv,!1)){const e="undefined"==typeof ngDevMode||ngDevMode?"There can be only one platform. Destroy the previous one to create a new one.":"";throw new fe(400,e)}ngDevMode&&qu(),qv=e.get(nb);const t=e.get(bv,null);return t&&t.forEach((e=>e())),qv}function Yv(e,t,n=[]){const o=`Platform: ${t}`,r=new $r(o);return(t=[])=>{let i=tb();if(!i||i.injector.get(Gv,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:mu,useValue:"platform"});Qv(Ou.create({providers:e,name:o}))}return Xv(r)}}function Xv(e){const t=tb();if(!t){const e="undefined"==typeof ngDevMode||ngDevMode?"No platform exists!":"";throw new fe(401,e)}if(("undefined"==typeof ngDevMode||ngDevMode)&&!t.injector.get(e,null))throw new fe(400,"A platform with a different configuration has been created. Please destroy it first.");return t}function eb(){qv&&!qv.destroyed&&qv.destroy()}function tb(){return qv&&!qv.destroyed?qv:null}class nb{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Hv:("zone.js"===e?void 0:e)||new Rv({enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),o=[{provide:Rv,useValue:n}];return n.run((()=>{const t=Ou.create({providers:o,parent:this.injector,name:e.moduleType.name}),r=e.create(t),i=r.injector.get(ca,null);if(!i){const e="undefined"==typeof ngDevMode||ngDevMode?"No ErrorHandler. Is platform module (BrowserModule) included?":"";throw new fe(402,e)}return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});r.onDestroy((()=>{ib(this._modules,r),e.unsubscribe()}))})),function(e,t,n){try{const o=n();return xd(o)?o.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):o}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}(i,n,(()=>{const e=r.injector.get(hv);return e.runInitializers(),e.donePromise.then((()=>(Mh(r.injector.get(Mv,bh)||bh),this._moduleDoBootstrap(r),r)))}))}))}bootstrapModule(e,t=[]){const n=ob({},t);return Kv(this.injector,n,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(rb);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap){const t="undefined"==typeof ngDevMode||ngDevMode?`The module ${re(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`:"";throw new fe(403,t)}e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed){const e="undefined"==typeof ngDevMode||ngDevMode?"The platform has already been destroyed!":"";throw new fe(404,e)}this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e())),this._destroyed=!0}get destroyed(){return this._destroyed}}function ob(e,t){return Array.isArray(t)?t.reduce(ob,e):{...e,...t}}nb.ɵfac=function(e){return new(e||nb)(_i(Ou))},nb.ɵprov=Pe({token:nb,factory:nb.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(nb,[{type:zf}],(function(){return[{type:Ou}]}),null);class rb{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run((()=>{this.tick()}))}});const s=new o.Observable((e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular((()=>{e.next(this._stable),e.complete()}))})),a=new o.Observable((e=>{let t;this._zone.runOutsideAngular((()=>{t=this._zone.onStable.subscribe((()=>{Rv.assertNotInAngularZone(),Pv((()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))}))}))}));const n=this._zone.onUnstable.subscribe((()=>{Rv.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular((()=>{e.next(!1)})))}));return()=>{t.unsubscribe(),n.unsubscribe()}}));this.isStable=(0,o.merge)(s,a.pipe(ee()))}bootstrap(e,t){if(!this._initStatus.done){const e="undefined"==typeof ngDevMode||ngDevMode?"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.":"";throw new fe(405,e)}let n;n=e instanceof Wg?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const o=Jv(n)?void 0:this._injector.get(uy),r=t||n.selector,i=n.create(Ou.NULL,[],r,o),s=i.location.nativeElement,a=i.injector.get(Uv,null),c=a&&i.injector.get(Bv);return a&&c&&c.registerApplication(s,a),i.onDestroy((()=>{this.detachView(i.hostView),ib(this.components,i),c&&c.unregisterApplication(s)})),this._loadComponent(i),("undefined"==typeof ngDevMode||ngDevMode)&&this._injector.get(Dv).log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick){const e="undefined"==typeof ngDevMode||ngDevMode?"ApplicationRef.tick is called recursively":"";throw new fe(101,e)}try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if("undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular((()=>this._exceptionHandler.handleError(e)))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;ib(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(_v,[]).concat(this._bootstrapListeners).forEach((t=>t(e)))}ngOnDestroy(){this._views.slice().forEach((e=>e.destroy())),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function ib(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function sb(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}rb.ɵfac=function(e){return new(e||rb)(_i(Rv),_i(Ou),_i(ca),_i(zg),_i(hv))},rb.ɵprov=Pe({token:rb,factory:rb.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(rb,[{type:zf,args:[{providedIn:"root"}]}],(function(){return[{type:Rv},{type:Ou},{type:ca},{type:zg},{type:hv}]}),null);let ab=!0,cb=!1;function lb(){return cb=!0,ab}function ub(){if(cb)throw new Error("Cannot enable prod mode after platform setup.");(void 0===typeof ngDevMode||ngDevMode)&&(ot.ngDevMode=!1),ab=!1}function fb(e){const t=hy(e);if(!t)throw pb(e);return new my(t)}function db(e){const t=hy(e);if(!t)throw pb(e);return t}function pb(e){return new Error(`No module with ID ${e} loaded`)}class hb{}function gb(e){return function(e,t,n){if(rn(e)&&!n){const n=Gn(e.index,t);return new oy(n,n)}if(47&e.type){const e=t[Wt];return new oy(e,t)}return null}(co(),io(),!(16&~e))}hb.__NG_ELEMENT_ID__=gb;class yb extends hb{}class mb extends yb{}class vb{constructor(e,t){this.name=e,this.callback=t}}function bb(e){return e.map((e=>e.nativeElement))}class wb{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new _b(e):null}get injector(){return Ru(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Au(e)||ku(e))}get context(){return Au(this.nativeNode)||Nu(this.nativeNode)}get listeners(){return Lu(this.nativeNode).filter((e=>"dom"===e.type))}get references(){return function(e){const t=Js(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[St].data[t];if(n&&n.localNames){const t={};let o=n.index+1;for(let r=0;r<n.localNames.length;r+=2)t[n.localNames[r]]=e[o],o++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=Js(e);if(null===t)return[];const n=t.lView[St],o=n.data[t.nodeIndex],r=[],i=1048575&o.providerIndexes,s=o.directiveEnd;for(let e=i;e<s;e++){let t=n.data[e];void 0!==(a=t).type&&void 0!==a.template&&void 0!==a.declaredInputs&&(t=t.type),r.push(t)}var a;return r}(this.nativeNode)}}class _b extends wb{constructor(e){ngDevMode&&Ae(e),super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=Js(this.nativeNode);return null!==e?e.lView[St].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=Js(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[St].data,o=n[e.nodeIndex],r={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const o=Node.prototype;for(;null!==n&&n!==o;){const o=Object.getOwnPropertyDescriptors(n);for(let n in o)if(!n.startsWith("__")&&!n.startsWith("on")){const o=e[n];Cb(o)&&(t[n]=o)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,r),function(e,t,n,o){let r=t.propertyBindings;if(null!==r)for(let t=0;t<r.length;t++){const i=r[t],s=o[i].split(wa),a=s[0];if(s.length>1){let t=s[1];for(let e=1;e<s.length-1;e++)t+=pe(n[i+e-1])+s[e+1];e[a]=t}else e[a]=n[i]}}(r,o,t,n),r}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=Js(t);if(null===n)return{};const o=n.lView[St].data[n.nodeIndex].attrs,r=[];if(o){let t=0;for(;t<o.length;){const n=o[t];if("string"!=typeof n)break;const i=o[t+1];e[n]=i,r.push(n.toLowerCase()),t+=2}}const i=t.attributes;for(let t=0;t<i.length;t++){const n=i[t],o=n.name.toLowerCase();-1===r.indexOf(o)&&(e[o]=n.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return("string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((t=>e[t]=!0)),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const o=e[n];t.push(Sb(o))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let e=0;e<t.length;e++){const o=t[e];n.push(Sb(o))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Db(this,e,t,!0),t}queryAllNodes(e){const t=[];return Db(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,o=[];this.listeners.forEach((r=>{if(r.name===e){const e=r.callback;e.call(n,t),o.push(e)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const r=e("__ngUnwrap__");return-1===o.indexOf(r)&&r.call(n,t)}}))}}function Cb(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Db(e,t,n,o){const r=Js(e.nativeNode);null!==r?Mb(r.lView[St].data[r.nodeIndex],r.lView,t,n,o,e.nativeNode):Eb(e.nativeNode,t,n,o)}function Mb(e,t,n,o,r,i){ngDevMode&&cn(e,t);const s=function(e,t){const n=null===e?-1:e.index;if(-1!==n){ngDevMode&&cn(e,t);const o=Wn(t[n]);return ngDevMode&&null!==o&&!Un(t[Lt])&&Ae(o),o}return null}(e,t);if(11&e.type){if(Ib(s,n,o,r,i),rn(e)){const s=Gn(e.index,t);s&&s[St].firstChild&&Mb(s[St].firstChild,s,n,o,r,i)}else e.child&&Mb(e.child,t,n,o,r,i),s&&Eb(s,n,o,r);const a=t[e.index];nn(a)&&xb(a,n,o,r,i)}else if(4&e.type){const s=t[e.index];Ib(s[Yt],n,o,r,i),xb(s,n,o,r,i)}else if(16&e.type){const s=t[Wt],a=s[Pt].projection[e.projection];if(Array.isArray(a))for(let e of a)Ib(e,n,o,r,i);else if(a){const e=s[At];Mb(e[St].data[a.index],e,n,o,r,i)}}else e.child&&Mb(e.child,t,n,o,r,i);if(i!==s){const s=4&e.flags?e.projectionNext:e.next;s&&Mb(s,t,n,o,r,i)}}function xb(e,t,n,o,r){for(let i=en;i<e.length;i++){const s=e[i],a=s[St].firstChild;a&&Mb(a,s,t,n,o,r)}}function Ib(e,t,n,o,r){if(r!==e){const r=Sb(e);if(!r)return;(o&&r instanceof _b&&t(r)&&-1===n.indexOf(r)||!o&&t(r)&&-1===n.indexOf(r))&&n.push(r)}}function Eb(e,t,n,o){const r=e.childNodes,i=r.length;for(let e=0;e<i;e++){const i=r[e],s=Sb(i);s&&((o&&s instanceof _b&&t(s)&&-1===n.indexOf(s)||!o&&t(s)&&-1===n.indexOf(s))&&n.push(s),Eb(i,t,n,o))}}new Map;const Tb="__ng_debug__";function Sb(e){return e instanceof Node?(e.hasOwnProperty(Tb)||(e[Tb]=e.nodeType==Node.ELEMENT_NODE?new _b(e):new wb(e)),e[Tb]):null}function Ob(e){return null}class Ab{constructor(){}supports(e){return df(e)}create(e){return new kb(e)}}const Nb=(e,t)=>t;class kb{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Nb}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,o=0,r=null;for(;t||n;){const i=!n||t&&t.currentIndex<Vb(n,o,r)?t:n,s=Vb(i,o,r),a=i.currentIndex;if(i===n)o--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)o++;else{r||(r=[]);const e=s-o,t=a-o;if(e!=t){for(let n=0;n<e;n++){const o=n<r.length?r[n]:r[n]=0,i=o+n;t<=i&&i<e&&(r[n]=o+1)}r[i.previousIndex]=t-e}}s!==a&&e(i,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!df(e)){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${re(e)}'. Only arrays and iterables are allowed`:"";throw new fe(900,t)}return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,o,r=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],o=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,o)?(i&&(r=this._verifyReinsertion(r,n,o,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,o,t),i=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[uf()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(e,(e=>{o=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,o)?(i&&(r=this._verifyReinsertion(r,e,o,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,o,t),i=!0),r=r._next,t++})),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,o){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,o)):e=this._addAfter(new Pb(t,n),r,o),e}_verifyReinsertion(e,t,n,o){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,r=e._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jb),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Pb{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rb{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class jb{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Rb,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,o=this.map.get(n);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vb(e,t,n){const o=e.previousIndex;if(null===o)return o;let r=0;return n&&o<n.length&&(r=n[o]),o+t+r}class $b{constructor(){}supports(e){return e instanceof Map||pf(e)}create(){return new Lb}}class Lb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pf(e))){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${re(e)}'. Only maps and objects are allowed`:"";throw new fe(900,t)}}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,o)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const o=n._prev,r=n._next;return o&&(o._next=r),r&&(r._prev=o),n._next=null,n._prev=null,n}const n=new Fb(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((n=>t(e[n],n)))}}class Fb{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new Ub([new Ab])}class Ub{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new Ub(e)}static extend(e){return{provide:Ub,useFactory:t=>Ub.create(e,t||Hb()),deps:[[Ub,new Si,new Ei]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;{const t="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`:"";throw new fe(901,t)}var n}}function Bb(){return new Wb([new $b])}Ub.ɵprov=Pe({token:Ub,providedIn:"root",factory:Hb});class Wb{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new Wb(e)}static extend(e){return{provide:Wb,useFactory:t=>Wb.create(e,t||Bb()),deps:[[Wb,new Si,new Ei]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(t)return t;const n="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}'`:"";throw new fe(901,n)}}Wb.ɵprov=Pe({token:Wb,providedIn:"root",factory:Bb});const qb=[new $b],zb=[new Ab],Kb=new Ub(zb),Jb=new Wb(qb),Gb=Yv(null,"core",[{provide:wv,useValue:"unknown"},{provide:nb,deps:[Ou]},{provide:Bv,deps:[]},{provide:Dv,deps:[]}]);class Zb{constructor(e){}}Zb.ɵfac=function(e){return new(e||Zb)(_i(rb))},Zb.ɵmod=bt({type:Zb}),Zb.ɵinj=je({}),("undefined"==typeof ngDevMode||ngDevMode)&&ly(Zb,[{type:fv}],(function(){return[{type:rb}]}),null);const Qb=!0;function Yb(e){return Jr({usage:1,kind:"directive",type:e.type}).compileDirectiveDeclaration(bm,`ng:///${e.type.name}/ɵfac.js`,e)}function Xb(e){ly(e.type,e.decorators,e.ctorParameters??null,e.propDecorators??null)}function ew(e){return Jr({usage:1,kind:"component",type:e.type}).compileComponentDeclaration(bm,`ng:///${e.type.name}/ɵcmp.js`,e)}function tw(e){return Jr({usage:1,kind:nw(e.target),type:e.type}).compileFactoryDeclaration(bm,`ng:///${e.type.name}/ɵfac.js`,e)}function nw(e){switch(e){case zr.Directive:return"directive";case zr.Component:return"component";case zr.Injectable:return"injectable";case zr.Pipe:return"pipe";case zr.NgModule:return"NgModule"}}function ow(e){return Jr({usage:1,kind:"injectable",type:e.type}).compileInjectableDeclaration(bm,`ng:///${e.type.name}/ɵprov.js`,e)}function rw(e){return Jr({usage:1,kind:"NgModule",type:e.type}).compileInjectorDeclaration(bm,`ng:///${e.type.name}/ɵinj.js`,e)}function iw(e){return Jr({usage:1,kind:"NgModule",type:e.type}).compileNgModuleDeclaration(bm,`ng:///${e.type.name}/ɵmod.js`,e)}function sw(e){return Jr({usage:1,kind:"pipe",type:e.type}).compilePipeDeclaration(bm,`ng:///${e.type.name}/ɵpipe.js`,e)}"undefined"!=typeof ngDevMode&&ngDevMode&&(ot.$localize=ot.$localize||function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.checkKeyForDid=e.EProofmeDataStorage=e.EProofmeDataPurpose=e.EClaimType=e.ESignatureTypes=e.EMimeType=e.getSubDomain=e.SignalServerV2=e.ProofmeUtils=e.ProofmeUtilsProvider=e.WebRtcProvider=e.SignalingServer=void 0;var t=n(515);Object.defineProperty(e,"SignalingServer",{enumerable:!0,get:function(){return t.SignalingServer}});var r=n(299);Object.defineProperty(e,"WebRtcProvider",{enumerable:!0,get:function(){return r.WebRtcProvider}});var i=n(611);Object.defineProperty(e,"ProofmeUtilsProvider",{enumerable:!0,get:function(){return i.ProofmeUtilsProvider}});var s=n(810);Object.defineProperty(e,"ProofmeUtils",{enumerable:!0,get:function(){return s.ProofmeUtils}});var a=n(930);Object.defineProperty(e,"SignalServerV2",{enumerable:!0,get:function(){return a.SignalServerV2}});var c=n(733);Object.defineProperty(e,"getSubDomain",{enumerable:!0,get:function(){return c.getSubDomain}});var l=n(346);Object.defineProperty(e,"EMimeType",{enumerable:!0,get:function(){return l.EMimeType}});var u=n(632);Object.defineProperty(e,"ESignatureTypes",{enumerable:!0,get:function(){return u.ESignatureTypes}});var f=n(869);Object.defineProperty(e,"EClaimType",{enumerable:!0,get:function(){return f.EClaimType}});var d=n(945);Object.defineProperty(e,"EProofmeDataPurpose",{enumerable:!0,get:function(){return d.EProofmeDataPurpose}});var p=n(491);Object.defineProperty(e,"EProofmeDataStorage",{enumerable:!0,get:function(){return p.EProofmeDataStorage}});var h=n(918);Object.defineProperty(e,"checkKeyForDid",{enumerable:!0,get:function(){return h.checkKeyForDid}})})(),o})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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USxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxTQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGVBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxTQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGVBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLGNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsS0FDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxRQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE9BQ1IsS0FBUSxVQUdoQixLQUFRLGtCQUNSLEtBQVEsU0FFWixDQUNJLFdBQWEsRUFDYixPQUFVLENBQ04sQ0FDSSxTQUFXLEVBQ1gsS0FBUSxNQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsVUFDUixLQUFR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QUFjLElBQ3ZCLElBQUFDLEVBQUE1M0csRUFBQSxLQUFTaUYsT0FBQUEsZUFBQUEsRUFBQUEsZUFBQUEsQ0FBQTJlLFlBQUEsRUFBQUQsSUFBQSxrQkFBQWkwRixFQUFBQyxZQUFZLElBSXJCLElBQUFDLEVBQUE5M0csRUFBQSxLQUFTaUYsT0FBQUEsZUFBQUEsRUFBQUEsWUFBQUEsQ0FBQTJlLFlBQUEsRUFBQUQsSUFBQSxrQkFBQW0wRixFQUFBcDRHLFNBQVMsSUFDbEIsSUFBQWtFLEVBQUE1RCxFQUFBLEtBQVNpRixPQUFBQSxlQUFBQSxFQUFBQSxrQkFBQUEsQ0FBQTJlLFlBQUEsRUFBQUQsSUFBQSxrQkFBQS9mLEVBQUEvRCxlQUFlLElBQ3hCLElBQUE2RCxFQUFBMUQsRUFBQSxLQUFTaUYsT0FBQUEsZUFBQUEsRUFBQUEsYUFBQUEsQ0FBQTJlLFlBQUEsRUFBQUQsSUFBQSxrQkFBQWpnQixFQUFBbEUsVUFBVSxJQVVuQixJQUFBdTRHLEVBQUEvM0csRUFBQSxLQUFTaUYsT0FBQUEsZUFBQUEsRUFBQUEsc0JBQUFBLENBQUEyZSxZQUFBLEVBQUFELElBQUEsa0JBQUFvMEYsRUFBQXA0RyxtQkFBbUIsSUFDNUIsSUFBQXE0RyxFQUFBaDRHLEVBQUEsS0FBU2lGLE9BQUFBLGVBQUFBLEVBQUFBLHNCQUFBQSxDQUFBMmUsWUFBQSxFQUFBRCxJQUFBLGtCQUFBcTBGLEVBQUFwNEcsbUJBQW1CLElBRzVCLElBQUFxNEcsRUFBQWo0RyxFQUFBLEtBQVNpRixPQUFBQSxlQUFBQSxFQUFBQSxpQkFBQUEsQ0FBQTJlLFlBQUEsRUFBQUQsSUFBQSxrQkFBQXMwRixFQUFBQyxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvY2xhaW1UeXBlcy5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9kaWRBY2Nlc3NMZXZlbC5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9taW1lVHlwZXMuZW51bS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvcHJvb2ZtZURhdGFQdXJwb3NlLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9wcm9vZm1lRGF0YVN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2VudW1zL3NpZ25hdHVyZVR5cGVzLmVudW0udHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2hlbHBlcnMvc2lnbmFsSGVscGVycy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvcHJvb2ZtZS11dGlscy5wcm92aWRlci50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvcHJvb2ZtZS11dGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvc2lnbmFsU2VydmVyL3NpZ25hbFNlcnZlclYyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zaWduYWxpbmdTZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3NtYXJ0Y29udHJhY3RzL2NsYWltSG9sZGVyQWJpLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zbWFydGNvbnRyYWN0cy9pZGVudGl0eS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvdXRpbHMvZ2xvYmFsL3YxVXRpbHMudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3V0aWxzL3NtYXJ0Q29udHJhY3RzL3NtYXJ0Q29udHJhY3RVdGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvd2ViUnRjLnByb3ZpZGVyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy93ZWJSdGNDbGllbnRWMi50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJAa291c2gvd3J0Y1wiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcInJ4anNcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ1dWlkXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwid2ViM1wiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndlYnNvY2tldFwiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndzXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwidHNsaWJcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXJyb3JDb250ZXh0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2lubmVyRnJvbS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9saWZ0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvZmVzbTIwMjAvY29yZS5tanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlByb29mbWVJZFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJQcm9vZm1lSWRcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJleHBvcnQgZW51bSBFQ2xhaW1UeXBlIHtcbiAgICBTSUdORURfQ09OVEVOVCA9IDEwMDAsXG4gICAgQ09NUEFOWV9JTkZPID0gMjAwMCxcbiAgICBWQUxJREFUT1JTID0gMjAwMSxcbiAgICBVU0VSUyA9IDIwMDJcbn0iLCJleHBvcnQgZW51bSBFRElEQWNjZXNzTGV2ZWwge1xuICAgIE5PTkU9IFwiMFwiLFxuICAgIE1BTkFHRU1FTlRfS0VZPSBcIjFcIixcbiAgICBBQ1RJT05fS0VZID0gXCIyXCIsXG4gICAgQ0xBSU1fU0lHTkVSX0tFWSA9IFwiM1wiLFxuICAgIEVOQ1JZUFRJT05fS0VZID0gXCI0XCJcbn0iLCJleHBvcnQgZW51bSBFTWltZVR5cGUge1xuICAgIEFBQyA9IFwiYXVkaW8vYWFjXCIsXG4gICAgQUJXID0gXCJhcHBsaWNhdGlvbi94LWFiaXdvcmRcIixcbiAgICBBUkMgPSBcImFwcGxpY2F0aW9uL3gtZnJlZWFyY1wiLFxuICAgIEFWSSA9IFwidmlkZW8veC1tc3ZpZGVvXCIsXG4gICAgQVpXID0gXCJhcHBsaWNhdGlvbi92bmQuYW1hem9uLmVib29rXCIsXG4gICAgQklOID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcbiAgICBCTVAgPSBcImltYWdlL2JtcFwiLFxuICAgIEJaID0gXCJhcHBsaWNhdGlvbi94LWJ6aXBcIixcbiAgICBCWjIgPSBcImFwcGxpY2F0aW9uL3gtYnppcDJcIixcbiAgICBDU0ggPSBcImFwcGxpY2F0aW9uL3gtY3NoXCIsXG4gICAgQ1NTID0gXCJ0ZXh0L2Nzc1wiLFxuICAgIENTViA9IFwidGV4dC9jc3ZcIixcbiAgICBET0MgPSBcImFwcGxpY2F0aW9uL21zd29yZFwiLFxuICAgIERPQ1ggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsXG4gICAgRU9UID0gXCJhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdFwiLFxuICAgIEVQVUIgPSBcImFwcGxpY2F0aW9uL2VwdWIremlwXCIsXG4gICAgR1ogPSBcImFwcGxpY2F0aW9uL2d6aXBcIixcbiAgICBHSUYgPSBcImltYWdlL2dpZlwiLFxuICAgIEhUTSA9IFwidGV4dC9odG1sXCIsXG4gICAgSFRNTCA9IFwidGV4dC9odG1sXCIsXG4gICAgSUNPID0gXCJpbWFnZS92bmQubWljcm9zb2Z0Lmljb25cIixcbiAgICBJQ1MgPSBcInRleHQvY2FsZW5kYXJcIixcbiAgICBKQVIgPSBcImFwcGxpY2F0aW9uL2phdmEtYXJjaGl2ZVwiLFxuICAgIEpQRUcgPSBcIi5qcGdcIixcbiAgICBKUyA9IFwidGV4dC9qYXZhc2NyaXB0XCIsXG4gICAgSlNPTiA9IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIEpTT05MRCA9IFwiYXBwbGljYXRpb24vbGQranNvblwiLFxuICAgIE1JRCA9IFwiLm1pZGlcIixcbiAgICBNSlMgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIE1QMyA9IFwiYXVkaW8vbXBlZ1wiLFxuICAgIE1QRUcgPSBcInZpZGVvL21wZWdcIixcbiAgICBNUEtHID0gXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUuaW5zdGFsbGVyK3htbFwiLFxuICAgIE9EUCA9IFwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb25cIixcbiAgICBPRFMgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXRcIixcbiAgICBPRFQgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dFwiLFxuICAgIE9HQSA9IFwiYXVkaW8vb2dnXCIsXG4gICAgT0dWID0gXCJ2aWRlby9vZ2dcIixcbiAgICBPR1ggPSBcImFwcGxpY2F0aW9uL29nZ1wiLFxuICAgIE9QVVMgPSBcImF1ZGlvL29wdXNcIixcbiAgICBPVEYgPSBcImZvbnQvb3RmXCIsXG4gICAgUE5HID0gXCJpbWFnZS9wbmdcIixcbiAgICBQREYgPSBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgIFBIUCA9IFwiYXBwbGljYXRpb24vcGhwXCIsXG4gICAgUFBUID0gXCJhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludFwiLFxuICAgIFBQVFggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb25cIixcbiAgICBSQVIgPSBcImFwcGxpY2F0aW9uL3ZuZC5yYXJcIixcbiAgICBSVEYgPSBcImFwcGxpY2F0aW9uL3J0ZlwiLFxuICAgIFNIID0gXCJhcHBsaWNhdGlvbi94LXNoXCIsXG4gICAgU1ZHID0gXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgU1dGID0gXCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiLFxuICAgIFRBUiA9IFwiYXBwbGljYXRpb24veC10YXJcIixcbiAgICBUSUYgPSBcImltYWdlL3RpZmZcIixcbiAgICBUSUZGID0gXCJpbWFnZS90aWZmXCIsXG4gICAgVFMgPSBcInZpZGVvL21wMnRcIixcbiAgICBUVEYgPSBcImZvbnQvdHRmXCIsXG4gICAgVFhUID0gXCJ0ZXh0L3BsYWluXCIsXG4gICAgVVJJID0gXCJ0ZXh0L3gtdXJpXCIsXG4gICAgVlNEID0gXCJhcHBsaWNhdGlvbi92bmQudmlzaW9cIixcbiAgICBXQVYgPSBcImF1ZGlvL3dhdlwiLFxuICAgIFdFQkEgPSBcImF1ZGlvL3dlYm1cIixcbiAgICBXRUJNID0gXCJ2aWRlby93ZWJtXCIsXG4gICAgV0VCUCA9IFwiaW1hZ2Uvd2VicFwiLFxuICAgIFdPRkYgPSBcImZvbnQvd29mZlwiLFxuICAgIFdPRkYyID0gXCJmb250L3dvZmYyXCIsXG4gICAgWEhUTUwgPSBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFxuICAgIFhMUyA9IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCIsXG4gICAgWExTWCA9IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRcIixcbiAgICBYTUwgPSBcIlhNTFwiLFxuICAgIFhVTCA9IFwiYXBwbGljYXRpb24vdm5kLm1vemlsbGEueHVsK3htbFwiLFxuICAgIFpJUCA9IFwiYXBwbGljYXRpb24vemlwXCIsXG4gICAgR1AzID0gXCJ2aWRlby8zZ3BwXCIsXG4gICAgRzIzID0gXCJ2aWRlby8zZ3BwMlwiLFxuICAgIFo3ID0gXCJhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWRcIlxufSIsImV4cG9ydCBlbnVtIEVQcm9vZm1lRGF0YVB1cnBvc2Uge1xuICAgIElERU5USUZJQ0FUSU9OID0gXCJJREVOVElGSUNBVElPTlwiLFxuICAgIEFHRV9WRVJJRklDQVRJT04gPSBcIkFHRV9WRVJJRklDQVRJT05cIixcbiAgICBQUk9PRk1FX0NPTk5FQ1QgPSBcIlBST09GTUVfQ09OTkVDVFwiLFxuICAgIEtZQ19WRVJJRklDQVRJT04gPSBcIktZQ19WRVJJRklDQVRJT05cIixcbiAgICBBQ0NFU1NfQ09OVFJPTCA9IFwiQUNDRVNTX0NPTlRST0xcIlxufSIsImV4cG9ydCBlbnVtIEVQcm9vZm1lRGF0YVN0b3JhZ2Uge1xuICAgIERBVEFCQVNFID0gXCJEQVRBQkFTRVwiLFxuICAgIENFUlRJRklDQVRFID0gXCJDRVJUSUZJQ0FURVwiLFxuICAgIE5PVF9TVE9SRUQgPSBcIk5PVF9TVE9SRURcIlxufSIsImV4cG9ydCBlbnVtIEVTaWduYXR1cmVUeXBlcyB7XG4gICAgRUNEU0EgPSBcIkVDRFNBXCIsXG4gICAgUlNBID0gXCJSU0FcIixcbiAgICBITUFDID0gXCJITUFDXCJcbn0iLCJpbXBvcnQgeyBJQ29ubmVjdGlvbkRldGFpbHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jb25uZWN0aW9uRGV0YWlsc1wiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBjaGFubmVsSWQgaXMgdmFsaWQgYW5kIGV4aXN0c1xuICogQHBhcmFtIGNoYW5uZWxJZFxuICogQHBhcmFtIGNvbm5lY3Rpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZENoYW5uZWxJZChjaGFubmVsSWQ6IHN0cmluZywgY29ubmVjdGlvbnM6IElDb25uZWN0aW9uRGV0YWlsc1tdKTogYm9vbGVhbiB7XG4gICAgLy8gQ2hlY2sgaWYgY2hhbm5lbElkIGlzIHByZXNlbnQgaW4gY29ubmVjdGlvbnNcbiAgICAvLyBDaGVjayBpZiBjaGFubmVsSWQgaXMgbm90IGFscmVhZHkgY29ubmVjdGVkXG4gICAgY29uc3QgaG9zdHMgPSBjb25uZWN0aW9ucy5maWx0ZXIoKGNsaWVudDogSUNvbm5lY3Rpb25EZXRhaWxzKSA9PiB7XG4gICAgICAgIHJldHVybiBjbGllbnQudXVpZCA9PT0gY2hhbm5lbElkICYmIGNsaWVudC5jaGFubmVsID09PSBudWxsICYmIGNsaWVudC5ob3N0ID09PSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGhvc3RzLmxlbmd0aCA9PT0gMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgUlRDIHBlZXJjb25uZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSVENDb25uZWN0aW9uQ29uZmlnKHR5cGU6IHN0cmluZywgdHVybkV4cGlyYXRpb246IG51bWJlciwgdHVyblNlY3JldDogc3RyaW5nLCB0dXJuVXJsOiBzdHJpbmcgfCBzdHJpbmdbXSk6IFJUQ0NvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0IHRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICBjb25zdCB1c2VybmFtZSA9IGAke3RpbWUgKyB0dXJuRXhwaXJhdGlvbn06JHt0eXBlfWA7XG4gICAgY29uc3QgY3JlZGVudGlhbCA9IGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMVwiLCB0dXJuU2VjcmV0KS51cGRhdGUodXNlcm5hbWUudG9TdHJpbmcoKSkuZGlnZXN0KFwiYmFzZTY0XCIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGljZUNhbmRpZGF0ZVBvb2xTaXplOiA1LFxuICAgICAgICBpY2VTZXJ2ZXJzOiBbe1xuICAgICAgICAgICAgdXJsczogdHVyblVybCxcbiAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgfV0sXG4gICAgfSBhcyBSVENDb25maWd1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3ZhbGlkYXRlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSUNyZWRlbnRpYWxPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWxzT2JqZWN0LmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0XCI7XG5pbXBvcnQgeyBQcm9vZm1lVXRpbHMgfSBmcm9tIFwiLi9wcm9vZm1lLXV0aWxzXCI7XG5pbXBvcnQgeyBJQ2hhbGxlbmdlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jaGFsbGVuZ2UuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBFQ2xhaW1UeXBlIH0gZnJvbSBcIi4vZW51bXMvY2xhaW1UeXBlcy5lbnVtXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbC5pbnRlcmZhY2VcIjtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFByb29mbWVVdGlsc1Byb3ZpZGVyIHtcblxuICAgIHByb29mbWVVdGlscyA9IG5ldyBQcm9vZm1lVXRpbHMoKTtcblxuXHRhc3luYyBpc1ZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmw6IHN0cmluZywgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgdHJ1c3RlZERpZHM6IHN0cmluZ1tdLCBjaGVja1VzZXJOb25jZTogYm9vbGVhbiwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkPzogYm9vbGVhbik6IFByb21pc2U8SVZhbGlkYXRlZENyZWRlbnRpYWxzIHwgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQ+ICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5pc1ZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdCwgd2ViM1VybCwgcmVxdWVzdGVkQ3JlZGVudGlhbHMsIHRydXN0ZWREaWRzLCBjaGVja1VzZXJOb25jZSwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkKTtcbiAgICB9XG5cbiAgICBnZXRTaWduYXR1cmUobWVzc2FnZTogYW55LCBwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdldFNpZ25hdHVyZShtZXNzYWdlLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbE9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5zaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgZGlkOiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyAge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9vZm1lVXRpbHMuc2lnblJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzLCBkaWQsIHByaXZhdGVLZXkpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRSZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltaG9sZGVyQWJpOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+ICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5pc1ZhbGlkUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmwsIGNsYWltaG9sZGVyQWJpKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRMaWNlbnNlQ2xhaW0ocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55KTogUHJvbWlzZTxJQ3JlZGVudGlhbD4gIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdldExpY2Vuc2VDbGFpbShyZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRMaWNlbnNlQ3JlZGVudGlhbHMoY3JlZGVudGlhbDogSUNyZWRlbnRpYWwsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1ob2xkZXJBYmk6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4gIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmlzVmFsaWRMaWNlbnNlQ3JlZGVudGlhbHMoY3JlZGVudGlhbCwgd2ViM1VybCwgY2xhaW1ob2xkZXJBYmkpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlQ2hhbGxlbmdlKHB1YmxpY0tleTogc3RyaW5nLCBkaWQ6IHN0cmluZywgaG9zdDogc3RyaW5nLCBwcml2YXRlS2V5OiBzdHJpbmcpOiBJQ2hhbGxlbmdlICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5nZW5lcmF0ZUNoYWxsZW5nZShwdWJsaWNLZXksIGRpZCwgaG9zdCwgcHJpdmF0ZUtleSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q2xhaW0oY2xhaW1UeXBlOiBFQ2xhaW1UeXBlLCBjb250cmFjdEFkZHJlc3M6IHN0cmluZywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55KTogUHJvbWlzZTxhbnk+ICB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb29mbWVVdGlscy5nZXRDbGFpbShjbGFpbVR5cGUsIGNvbnRyYWN0QWRkcmVzcywgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgIH1cblxuICAgIGdldENvbnRyYWN0QWRkcmVzc0Zyb21EaWQoZGlkOiBzdHJpbmcpOiBzdHJpbmcgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdldENvbnRyYWN0QWRkcmVzc0Zyb21EaWQoZGlkKTtcbiAgICB9XG59IiwiaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcbmltcG9ydCB7IEVDbGFpbVR5cGUgfSBmcm9tIFwiLi9lbnVtcy9jbGFpbVR5cGVzLmVudW1cIjtcbmltcG9ydCB7IEVESURBY2Nlc3NMZXZlbCB9IGZyb20gXCIuL2VudW1zL2RpZEFjY2Vzc0xldmVsLmVudW1cIjtcbmltcG9ydCB7IEVTaWduYXR1cmVUeXBlcyB9IGZyb20gXCIuL2VudW1zL3NpZ25hdHVyZVR5cGVzLmVudW1cIjtcbmltcG9ydCB7IElBZGRpdGlvbmFsSW5mbyB9IGZyb20gXCIuL2ludGVyZmFjZXMvYWRkaXRpb25hbC1pbmZvLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSUNoYWxsZW5nZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2hhbGxlbmdlLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSUNoZWNrZWREaWQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoZWNrZWREaWQuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJU2lnbmVkQ29udGVudCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2xhaW1zL3NpZ25lZENvbnRlbnQuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDcmVkZW50aWFsT2JqZWN0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jcmVkZW50aWFsc09iamVjdC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElQcm9vZiB9IGZyb20gXCIuL2ludGVyZmFjZXMvcHJvb2YuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbEtleSB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbEtleS5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuaW1wb3J0IHsgSVZhbGlkYXRlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy92YWxpZGF0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IGNsYWltSG9sZGVyQWJpIH0gZnJvbSBcIi4vc21hcnRjb250cmFjdHMvY2xhaW1Ib2xkZXJBYmlcIjtcbmltcG9ydCB7IElPcmdhbmlzYXRpb25JbmZvIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9vcmdhbmlzYXRpb25JbmZvLmludGVyZmFjZVwiO1xuXG5leHBvcnQgY2xhc3MgUHJvb2ZtZVV0aWxzIHtcblxuICAgIGV4Y2x1ZGVkQ3JlZGVudGlhbFByb3ZpZGVycyA9IFtcIk9XTlwiLCBcIkFERElUSU9OQUxfSU5GT1wiLCBcIlNJR05BVFVSRVwiLCBcIkFERFJFU1NcIl07XG5cbiAgICBhc3luYyBpc1ZhbGlkQ3JlZGVudGlhbHMoXG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LFxuICAgICAgICB3ZWIzVXJsOiBzdHJpbmcsXG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsXG4gICAgICAgIHRydXN0ZWREaWRzOiBzdHJpbmdbXSxcbiAgICAgICAgY2hlY2tVc2VyTm9uY2U6IGJvb2xlYW4sXG4gICAgICAgIGxpdmVuZXNzQ2hlY2tSZXF1aXJlZD86IGJvb2xlYW5cbiAgICApOiBQcm9taXNlPElWYWxpZGF0ZWRDcmVkZW50aWFscyB8IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0PiB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENoZWNrUmVzdWx0ID0gdGhpcy5yZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcnJlY3QoY3JlZGVudGlhbE9iamVjdCwgcmVxdWVzdGVkQ3JlZGVudGlhbHMpO1xuICAgICAgICBpZiAoIXJlcXVlc3RlZENoZWNrUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJlcXVlc3RlZENoZWNrUmVzdWx0LmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbE9iamVjdDtcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZWRDaGVja1Jlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNoZWNrQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdCwgd2ViM1VybCwgY2hlY2tVc2VyTm9uY2UsIGxpdmVuZXNzQ2hlY2tSZXF1aXJlZCk7XG4gICAgICAgIC8vIElmIHRoZSBcIm5vcm1hbFwiIGNoZWNrIHdhcyBub3QgdmFsaWQsIGRvbid0IGNoZWNrIHRoZSB0cnVzdGVkIHBhcnRpZXMgYnV0IHJldHVybiB0aGUgcmVzdWx0XG4gICAgICAgIGlmICghcmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0cnVzdGVkIGFkZHJlc3NlcyBhcmUgYWRkcmVzc2VzXG4gICAgICAgIGZvciAoY29uc3QgZGlkIG9mIHRydXN0ZWREaWRzKSB7XG4gICAgICAgICAgICBpZiAoIXdlYjMudXRpbHMuaXNBZGRyZXNzKGRpZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUcnVzdGVkIHBhcnR5IGRpZCAke2RpZH0gaXMgTk9UIGEgdmFsaWQgYWRkcmVzcyBhbmQgaXMgcmVtb3ZlZC5gKTtcbiAgICAgICAgICAgICAgICB0cnVzdGVkRGlkcyA9IHRydXN0ZWREaWRzLmZpbHRlcih4ID0+IHggIT09IGRpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRydXN0ZWREaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWREaWQgPSBbXTtcbiAgICAgICAgICAgIGxldCB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgICAgIGxldCBjcmVkZW50aWFsc0Ftb3VudCA9IDA7XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkQ3JlZGVudGlhbHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyLF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjaGVjayBvd24gcHJvdmlkZWQgY3JlZGVudGlhbHNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5leGNsdWRlZENyZWRlbnRpYWxQcm92aWRlcnMuaW5jbHVkZXMocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtjdXJyZW50Q3JlZGVudGlhbEtleSwgY3JlZGVudGlhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyA9IChjcmVkZW50aWFsIGFzIElDcmVkZW50aWFsKS5pc3N1ZXIuaWQuc3BsaXQoXCI6XCIpWzJdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW52YWxpZEtleVByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vVHJ1c3RlZENsYWltRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRpZCBvZiB0cnVzdGVkRGlkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRFbnRyeSA9IGNoZWNrZWREaWQuZmluZCh4ID0+IHguaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID09PSBpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MgJiYgeC5kaWQgPT09IGRpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xhaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbSA9IGZvdW5kRW50cnkuY2xhaW07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltID0gYXdhaXQgdGhpcy5nZXRDbGFpbXMoaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzLCBkaWQsIHdlYjMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgZGlkLCBjbGFpbSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9UcnVzdGVkQ2xhaW1Gb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYWltRXhwaXJhdGlvbkRhdGUgPSBuZXcgRGF0ZShjbGFpbS5leHBpcmF0aW9uRGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltRXhwaXJhdGlvbkRhdGUgPiBuZXcgRGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzID0gY2xhaW0ua2V5cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMgPSBjbGFpbUFsbG93ZWRDcmVkZW50aWFsS2V5cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJDcmVkZW50aWFsS2V5ID0gYCR7KGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnByb3ZpZGVyfV8ke2N1cnJlbnRDcmVkZW50aWFsS2V5fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXMuaW5jbHVkZXMocHJvdmlkZXJDcmVkZW50aWFsS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZEtleVByb3ZpZGVyID0gcHJvdmlkZXJDcmVkZW50aWFsS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnZhbGlkS2V5UHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkQ3JlZGVudGlhbHNBbW91bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsYWltIGV4cGlyZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub1RydXN0ZWRDbGFpbUZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE5vIGNsYWltcyBmb3VuZCB0byBjaGVjay4gQ2hlY2tlZCBkaWRzICR7dHJ1c3RlZERpZHN9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52YWxpZEtleVByb3ZpZGVyICYmICFmb3VuZFZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRyaWVkIHRvIHZhbGlkYXRlIGF0dHJpYnV0ZSAke2ludmFsaWRLZXlQcm92aWRlcn0gYnV0IHByb3ZpZGVyIHdhcyBub3QgYWxsb3dlZCB0byBpc3N1ZS4gQWxsb3dlZCBhdHRyaWJ1dGVzOiAke2ludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbGlkQ3JlZGVudGlhbHNBbW91bnQgPT09IGNyZWRlbnRpYWxzQW1vdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZENoZWNrUmVzdWx0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBjcmVkZW50aWFsc1wiLFxuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb2RlOiAxMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIHRydXN0ZWQgcGFydGllcyB0byBjaGVjay5cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBjaGVja0NyZWRlbnRpYWxzKGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsOiBzdHJpbmcsIGNoZWNrVXNlck5vbmNlOiBib29sZWFuLCBsaXZlbmVzc0NoZWNrUmVxdWlyZWQ/OiBib29sZWFuKTogUHJvbWlzZTxJVmFsaWRhdGVkQ3JlZGVudGlhbHM+IHtcbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBzdHJpbmdpZmllZFxuICAgICAgICBpZiAodHlwZW9mIGNyZWRlbnRpYWxPYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QgPSBKU09OLnBhcnNlKGNyZWRlbnRpYWxPYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3QgPSB0aGlzLnJlT3JkZXJDcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWxPYmplY3QpO1xuICAgICAgICBjb25zdCB3ZWIzTm9kZSA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICBjb25zdCBjaGVja2VkRGlkOiBJQ2hlY2tlZERpZFtdID0gW107XG4gICAgICAgIGxldCB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgY29uc3QgaW52YWxpZENyZWRlbnRpYWxzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyLF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGNoZWNrIE9XTiBwcm92aWRlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLmV4Y2x1ZGVkQ3JlZGVudGlhbFByb3ZpZGVycy5pbmNsdWRlcyhwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSB1c2VyIGNyZWRlbnRpYWxzIChmb3IgZWFjaCBwcm92aWRlcik6IFJlY29uc3RydWN0IGl0IHNvIHdlIG9ubHkgaGF2ZSB0aGUgY3JlZGVudGlhbE9iamVjdCBvZiBcbiAgICAgICAgICAgIC8vIHRoYXQgc3BlY2lmaWMgcHJvdmlkZXIgKHdoaWNoIHdlIGdlbmVyYXRlZCB0aGUgc2lnbmF0dXJlIG92ZXIpXG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlOiBJQ3JlZGVudGlhbE9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICAgICAgICAgICAgICBbcHJvdmlkZXJdOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgY3JlZGVudGlhbE9iamVjdFdpdGhvdXRQcm9vZlNpZ25hdHVyZS5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yuc2lnbmF0dXJlO1xuICAgICAgICAgICAgY29uc3QgdXNlclJlY292ZXJlZEFkZHJlc3MgPSB3ZWIzTm9kZS5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlKSwgY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yuc2lnbmF0dXJlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RVc2VyU2lnbmF0dXJlID0gdGhpcy51c2VyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLmhvbGRlciwgdXNlclJlY292ZXJlZEFkZHJlc3MpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgKElkZW50aXR5IEFwcCkgZGlkIHNpZ24gaXQgY29ycmVjdDsgb3RoZXJ3aGlzZSBza2lwIHRoaXMgcHJvdmlkZXJcbiAgICAgICAgICAgIGlmIChjb3JyZWN0VXNlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgWywgY3JlZGVudGlhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbmNvcnJlY3QgY3JlZGVudGlhbCB2ZXJzaW9uLiBSZW5ldyB5b3VyIGNyZWRlbnRpYWxzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbEV4cGlyYXRpb25EYXRlID0gbmV3IERhdGUoKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmV4cGlyYXRpb25EYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+IGNyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91ciBjcmVkZW50aWFsIGV4cGlyZWQgb24gJHtjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVuID0gbmV3IERhdGUoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yubm9uY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzRGlmZmVyZW5jZSA9IHRoaXMuY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2Uobm93LCB0aGVuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbnV0ZXNEaWZmZXJlbmNlID4gNSAmJiBjaGVja1VzZXJOb25jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vbmNlIHRvbyBvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VudCBjcmVkZW50aWFscyB3ZXJlIHByb3ZpZGVkIGJ5IHRoZSBkaWQgb2YgdGhlIGNyZWRlbnRpYWwgKGNoZWNrIHRoZSBzaWduYXR1cmUgb2YgZWFjaCBjcmVkZW50aWFsKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0SXNzdWVyU2lnbmF0dXJlID0gdGhpcy5pc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCwgd2ViM05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ycmVjdElzc3VlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZXZlcnkgY3JlZGVudGlhbCBESUQgY29udHJhY3QgaWYgdGhlIGhvbGRlciBiZWxvbmdzIHRvIHRoYXQgRElEXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJIb2xkZXJLZXkgPSAoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkucHJvb2YuaG9sZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID0gKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmlzc3Vlci5pZC5zcGxpdChcIjpcIilbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJDb3JyZWN0RGlkID0gYXdhaXQgdGhpcy5jb3JyZWN0RGlkQ29udHJhY3RLZXkod2ViM05vZGUsIHdlYjNVcmwsIGNsYWltSG9sZGVyQWJpLCBpc3N1ZXJIb2xkZXJLZXksIGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWVyQ29ycmVjdERpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJIb2xkZXJLZXkgPSBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZi5ob2xkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRpZENvbnRyYWN0QWRkcmVzcyA9IChjcmVkZW50aWFsIGFzIElDcmVkZW50aWFsKS5pZC5zcGxpdChcIjpcIilbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckNvcnJlY3REaWQgPSBhd2FpdCB0aGlzLmNvcnJlY3REaWRDb250cmFjdEtleSh3ZWIzTm9kZSwgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmksIHVzZXJIb2xkZXJLZXksIHVzZXJEaWRDb250cmFjdEFkZHJlc3MsIGNoZWNrZWREaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyQ29ycmVjdERpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpdmVuZXNzQ2hlY2tSZXF1aXJlZCB8fCAoKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcmlmaWVkID09PSB1bmRlZmluZWQgfHwgKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcmlmaWVkID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMaXZlbmVzcyBjaGVjayByZXF1aXJlZCBidXQgY3JlZGVudGlhbCBub3QgdmVyaWZpZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXNlciBkaWQgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSXNzdWVyIGRpZCBpbmNvcnJlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIklzc3VlciBzaWduYXR1cmUgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbDogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0sXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXNlciBzaWduYXR1cmUgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9PT0gY3JlZGVudGlhbHNBbW91bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxcIixcbiAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVzZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoaG9sZGVyS2V5OiBzdHJpbmcsIHJlY292ZXJlZEFkZHJlc3M6IHN0cmluZykge1xuICAgICAgICBpZiAoaG9sZGVyS2V5ICE9PSByZWNvdmVyZWRBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVc2VyIHNpZ25hdHVyZSBvZiBjcmVkZW50aWFsICR7aG9sZGVyS2V5fSBkb2VzIG5vdCBtYXRjaCByZWNvdmVyZWRBZGRyZXNzICR7cmVjb3ZlcmVkQWRkcmVzc31gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuICAgIGlzc3VlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyhjcmVkZW50aWFsOiBJQ3JlZGVudGlhbCwgd2ViM05vZGU6IFdlYjMpIHtcbiAgICAgICAgY29uc3QgaXNzdWVyU2lnbmF0dXJlID0gY3JlZGVudGlhbC5wcm9vZi5zaWduYXR1cmU7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxJc3N1ZXJLZXkgPSBjcmVkZW50aWFsLnByb29mLmhvbGRlcjtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbFdpdGhvdXRJc3N1ZXJQcm9vZiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbCkpO1xuICAgICAgICBkZWxldGUgY3JlZGVudGlhbFdpdGhvdXRJc3N1ZXJQcm9vZi5wcm9vZi5zaWduYXR1cmU7XG4gICAgICAgIGNvbnN0IHJlY292ZXJlZEFkZHJlc3MgPSB3ZWIzTm9kZS5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mKSwgaXNzdWVyU2lnbmF0dXJlKTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxJc3N1ZXJLZXkgIT09IHJlY292ZXJlZEFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYElzc3VlciBzaWduYXR1cmUgb2YgY3JlZGVudGlhbCAke2NyZWRlbnRpYWxJc3N1ZXJLZXl9IGRvZXMgbm90IG1hdGNoIHJlY292ZXJlZEFkZHJlc3MgJHtyZWNvdmVyZWRBZGRyZXNzfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFzeW5jIGNvcnJlY3REaWRDb250cmFjdEtleSh3ZWIzTm9kZTogV2ViMywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55LCBob2xkZXJLZXk6IHN0cmluZywgZGlkQWRkcmVzczogc3RyaW5nLCBjaGVja2VkRGlkOiBJQ2hlY2tlZERpZFtdKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGZvdW5kRW50cnkgPSBjaGVja2VkRGlkLmZpbmQoeCA9PiB4LmRpZCA9PSBkaWRBZGRyZXNzICYmIHguaG9sZGVyS2V5ID09PSBob2xkZXJLZXkpO1xuICAgICAgICBpZiAoZm91bmRFbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kRW50cnkucmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qga25vd25BZGRyZXNzZXMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGRpZEFkZHJlc3MgPT09IGhvbGRlcktleSkge1xuICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGRpZDogZGlkQWRkcmVzcywgaG9sZGVyS2V5LCByZXN1bHQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYTNLZXkgPSB0aGlzLmdldFNoYTNLZXkoaG9sZGVyS2V5LCB3ZWIzTm9kZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleU1hbmFnZXJDb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChcbiAgICAgICAgICAgICAgICAgICAgY2xhaW1Ib2xkZXJBYmksXG4gICAgICAgICAgICAgICAgICAgIGRpZEFkZHJlc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5rbm93bkFkZHJlc3Nlc0NvbnRhaW5zKGtub3duQWRkcmVzc2VzLCBzaGEzS2V5LCBkaWRBZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlQdXJwb3NlID0gcGFyc2VJbnQoYXdhaXQgdGhpcy5nZXRLZXlQdXJwb3NlKGtleU1hbmFnZXJDb250cmFjdCwgc2hhM0tleSksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAxID0gT3duZXJcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAyID0gQWN0aW9uIEtleVxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDMgPSBDbGFpbSBTaWduZXIgS2V5IFxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDQgPSBFbmNyeXB0aW9uIGtleVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UHVycG9zZSA9PT0gMCB8fCBrZXlQdXJwb3NlID4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgZGlkOiBkaWRBZGRyZXNzLCBob2xkZXJLZXksIHJlc3VsdDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAga25vd25BZGRyZXNzZXMucHVzaCh7IHNoYTNLZXksIGRpZEFkZHJlc3MgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGRpZDogZGlkQWRkcmVzcywgaG9sZGVyS2V5LCByZXN1bHQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBrbm93bkFkZHJlc3Nlc0NvbnRhaW5zKGxpc3Q6IGFueVtdLCBzaGEzS2V5OiBzdHJpbmcsIGRpZENvbnRyYWN0QWRkcmVzczogc3RyaW5nKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdEl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgaWYgKGxpc3RJdGVtLnNoYTNLZXkgPT09IHNoYTNLZXkgJiYgbGlzdEl0ZW0uZGlkQ29udHJhY3RBZGRyZXNzID09PSBkaWRDb250cmFjdEFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNoYTNLZXkoa2V5OiBzdHJpbmcsIHdlYjM6IFdlYjMpIHtcbiAgICAgICAgcmV0dXJuIHdlYjMudXRpbHMua2VjY2FrMjU2KGtleSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0S2V5UHVycG9zZShrZXlNYW5hZ2VyQ29udHJhY3Q6IGFueSwga2V5OiBzdHJpbmcpOiBQcm9taXNlPEVESURBY2Nlc3NMZXZlbD4ge1xuICAgICAgICAvLyBHZXQgRXZlbnRzXG4gICAgICAgIGlmIChrZXlNYW5hZ2VyQ29udHJhY3Qub3B0aW9ucy5hZGRyZXNzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGtleU1hbmFnZXJDb250cmFjdC5tZXRob2RzLmdldEtleVB1cnBvc2Uoa2V5KS5jYWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVNaW51dGVzRGlmZmVyZW5jZShkdDI6IERhdGUsIGR0MTogRGF0ZSk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gKGR0Mi5nZXRUaW1lKCkgLSBkdDEuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgIGRpZmYgLz0gNjA7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhNYXRoLnJvdW5kKGRpZmYpKTtcbiAgICB9XG5cbiAgICByZU9yZGVyQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCk6IElDcmVkZW50aWFsT2JqZWN0IHtcbiAgICAgICAgLy8gTG9vcCBldmVyeSBwcm92aWRlclxuICAgICAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIE9iamVjdC5rZXlzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsS2V5cyA9IFtdO1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBjcmVkZW50aWFsIGtleXNcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3JlZGVudGlhbEtleSBvZiBPYmplY3Qua2V5cyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsS2V5cy5wdXNoKGNyZWRlbnRpYWxLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlZGVudGlhbEtleXMuc29ydCgpO1xuICAgICAgICAgICAgY29uc3QgcmVPcmRlcmVkQ3JlZGVudGlhbHMgPSB7fTtcbiAgICAgICAgICAgIC8vIExvb3AgdGhlIGNyZWRlbnRpYWwga2V5cyBvbmUgYnkgb25lIGFuZCByZSBvcmRlciB0aGUgY3JlZGVudGlhbHMgc28gaXRzIGFscGhhYmV0aWNhbFxuICAgICAgICAgICAgZm9yIChjb25zdCBjcmVkZW50aWFsS2V5IG9mIGNyZWRlbnRpYWxLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVPcmRlcmVkQ3JlZGVudGlhbCA9IHRoaXMucmVPcmRlckNyZWRlbnRpYWwoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHNbY3JlZGVudGlhbEtleV0gYXMgSUNyZWRlbnRpYWwpO1xuICAgICAgICAgICAgICAgIHJlT3JkZXJlZENyZWRlbnRpYWxzW2NyZWRlbnRpYWxLZXldID0gcmVPcmRlcmVkQ3JlZGVudGlhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mID0gdGhpcy5yZU9yZGVyQ3JlZGVudGlhbFByb29mKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mKTtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdID0ge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiByZU9yZGVyZWRDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBwcm9vZjogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2ZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlZGVudGlhbE9iamVjdDtcbiAgICB9XG5cbiAgICByZU9yZGVyQ3JlZGVudGlhbChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbCk6IElDcmVkZW50aWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KGNyZWRlbnRpYWwpO1xuICAgIH1cblxuICAgIHNvcnRPYmplY3RBbHBoYWJldGljYWxseShvYmplY3Q6IGFueSk6IGFueSB7XG4gICAgICAgIGNvbnN0IHNvcnRlZE9iaiA9IHt9O1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgICAgICBrZXlzLnNvcnQoKGtleTEsIGtleTIpID0+IHtcbiAgICAgICAgICAgIGtleTEgPSBrZXkxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBrZXkyID0ga2V5Mi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKGtleTEgPCBrZXkyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleTEgPiBrZXkyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBpdCdzIHRoZSBzYW1lXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBrZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbmVzdGVkIG9iamVjdHMsIHdlIG5lZWQgdG8gZGlnIGRlZXBlclxuICAgICAgICAgICAgaWYgKG9iamVjdFtrZXldICE9PSBudWxsICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PSBcIm9iamVjdFwiICYmICEob2JqZWN0W2tleV0gaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICBzb3J0ZWRPYmpba2V5XSA9IHRoaXMuc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc29ydGVkT2JqW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3J0ZWRPYmo7XG4gICAgfVxuXG4gICAgcmVPcmRlckNyZWRlbnRpYWxQcm9vZihwcm9vZjogSVByb29mKTogSVByb29mIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhvbGRlcjogcHJvb2YuaG9sZGVyLFxuICAgICAgICAgICAgbm9uY2U6IHByb29mLm5vbmNlLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBwcm9vZi5zaWduYXR1cmUsXG4gICAgICAgICAgICB0eXBlOiBwcm9vZi50eXBlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzaWduIChjYW4gYmUgYW55dGhpbmcsIG9iamVjdCwgc3RyaW5nLCBldGMuKSBcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSAtIFRoZSBwcml2YXRlIGtleSB0byBzaWduIHdpdGhcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBnZXRTaWduYXR1cmUobWVzc2FnZTogYW55LCBwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIHN0cmluZ2lmaWVkXG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSA9IHRoaXMucmVPcmRlck9iamVjdChtZXNzYWdlKTtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5zaWduKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLCBwcml2YXRlS2V5KS5zaWduYXR1cmVcbiAgICB9XG5cbiAgICByZU9yZGVyT2JqZWN0KGNvbnRlbnRUb1NpZ246IElTaWduZWRDb250ZW50KTogSVNpZ25lZENvbnRlbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkoY29udGVudFRvU2lnbik7XG4gICAgfVxuXG4gICAgc2lnbkNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHByaXZhdGVLZXk6IHN0cmluZykge1xuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIHN0cmluZ2lmaWVkXG4gICAgICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbE9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY3JlZGVudGlhbE9iamVjdCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlZGVudGlhbE9iamVjdCA9IHRoaXMucmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMuc2lnbihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0KSwgcHJpdmF0ZUtleSkuc2lnbmF0dXJlXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q2xhaW1zKGNsYWltVHlwZTogbnVtYmVyIHwgc3RyaW5nLCBjb250cmFjdEFkZHJlc3M6IHN0cmluZywgd2ViMzogV2ViMyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGNsYWltSG9sZGVyQWJpLCBjb250cmFjdEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBjbGFpbUlkcyA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuZ2V0Q2xhaW1JZHNCeVR5cGUoY2xhaW1UeXBlKS5jYWxsKCk7XG4gICAgICAgIGlmIChjbGFpbUlkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgcmF3IGNsYWltc1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0NsYWltcyA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuZ2V0Q2xhaW0oY2xhaW1JZHNbY2xhaW1JZHMubGVuZ3RoIC0gMV0pLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZENsYWltcyA9IEpTT04ucGFyc2Uod2ViMy51dGlscy50b0FzY2lpKHJhd0NsYWltcy5kYXRhKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXJzZWRDbGFpbXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGdldENsYWltKGNsYWltVHlwZTogRUNsYWltVHlwZSwgY29udHJhY3RBZGRyZXNzOiBzdHJpbmcsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1Ib2xkZXJBYmk6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoY2xhaW1Ib2xkZXJBYmksIGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGNsYWltSWRzID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbUlkc0J5VHlwZShjbGFpbVR5cGUpLmNhbGwoKTtcbiAgICAgICAgaWYgKGNsYWltSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3Q2xhaW1zID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbShjbGFpbUlkc1tjbGFpbUlkcy5sZW5ndGggLSAxXSkuY2FsbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB3ZWIzLnV0aWxzLnRvQXNjaWkocmF3Q2xhaW1zLmRhdGEpXG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZENsYWltcyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFyc2VkQ2xhaW1zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIsIGVycm9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0KGNyZWRlbnRpYWxzOiBJQ3JlZGVudGlhbE9iamVjdCwgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyk6IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0IHtcbiAgICAgICAgY29uc3QgY2hlY2tSZXN1bHQ6IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0ID0ge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIG1pc3NpbmdLZXlzOiBbXVxuICAgICAgICB9XG4gICAgICAgIC8vIExvb3AgYWxsIHJlcXVlc3RlZCBjcmVkZW50aWFsc1xuICAgICAgICBmb3IgKGNvbnN0IHJlcXVlc3RlZENyZWRlbnRpYWwgb2YgcmVxdWVzdGVkQ3JlZGVudGlhbHMuY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0ZWRDcmVkZW50aWFsLnJlcXVpcmVkICYmIHJlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXIgPT09IFwiQURESVRJT05BTF9JTkZPXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcl0uY3JlZGVudGlhbHMpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIG9iamVjdEtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkaXRpb25hbEluZm8gPSBjcmVkZW50aWFscy5jcmVkZW50aWFsc1tyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyXS5jcmVkZW50aWFsc1trZXldIGFzIElSZXF1ZXN0ZWRDcmVkZW50aWFsS2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbEluZm8ucmVxdWlyZWQgJiYgKGFkZGl0aW9uYWxJbmZvLmtleSBhcyBJQWRkaXRpb25hbEluZm9bXSkuZmluZCh4ID0+ICF4LmFuc3dlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0LnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0Lm1pc3NpbmdLZXlzLnB1c2goYWRkaXRpb25hbEluZm8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBvbmx5IHJlcXVpcmVkIGtleXNcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdGVkQ3JlZGVudGlhbC5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXIgPSBbcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvdmlkZXIgb2YgcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFsc1tyZXF1ZXN0ZWRDcmVkZW50aWFsLmtleSBhcyBzdHJpbmddXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgZ29vZCwgZm91bmQhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0LnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0Lm1pc3NpbmdLZXlzLnB1c2gocmVxdWVzdGVkQ3JlZGVudGlhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrUmVzdWx0O1xuICAgIH1cblxuICAgIHJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZShtZXNzYWdlOiBzdHJpbmcsIHNpZ25hdHVyZTogc3RyaW5nLCBzb3J0QWxwaGFiZXRpY2FsbHk/OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICBpZiAoc29ydEFscGhhYmV0aWNhbGx5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5zb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkoSlNPTi5wYXJzZShtZXNzYWdlKSk7XG4gICAgICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgc2lnbmF0dXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5yZWNvdmVyKG1lc3NhZ2UsIHNpZ25hdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgc2lnblJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHB1YmxpY0tleTogc3RyaW5nLCBwcml2YXRlS2V5OiBzdHJpbmcpOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMge1xuICAgICAgICByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZiA9IHtcbiAgICAgICAgICAgIGhvbGRlcjogcHVibGljS2V5LFxuICAgICAgICAgICAgbm9uY2U6IERhdGUubm93KCksXG4gICAgICAgICAgICB0eXBlOiBFU2lnbmF0dXJlVHlwZXMuRUNEU0FcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShyZXF1ZXN0ZWRDcmVkZW50aWFscywgcHJpdmF0ZUtleSk7XG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRSZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltaG9sZGVyQWJpOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgaWYgKHJlcXVlc3RlZENyZWRlbnRpYWxzPy5wcm9vZj8uc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAvLyBNYWtlIGEgY29weSBzaW5jZSB3ZSBkZWxldGUgdGhlIHNpZ25hdHVyZSBvZiB0aGUgb2JqZWN0OyBvdGhlcndoaXNlIHdlIGNhbiBvbmx5IGNoZWNrIGl0IG9uY2UgYW5kIGl0J3MgZ29uZSBmb3JldmVyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHk6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVxdWVzdGVkQ3JlZGVudGlhbHMpKTtcbiAgICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHkucHJvb2Yuc2lnbmF0dXJlO1xuXG4gICAgICAgICAgICAvLyBSZWNvdmVyIHRoZSBwdWJsaWMga2V5XG4gICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSB0aGlzLnJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZShKU09OLnN0cmluZ2lmeShyZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHkpLCByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZi5zaWduYXR1cmUsIHRydWUpO1xuICAgICAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICAgICAgY29uc3QgZGlkID0gcmVxdWVzdGVkQ3JlZGVudGlhbHMuaWRcbiAgICAgICAgICAgIGlmIChwdWJsaWNLZXkgIT09IHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLmhvbGRlcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJlY292ZXJlZCBhZGRyZXNzICR7cHVibGljS2V5fSBkb2VzIG5vdCBtYXRjaCBob2xkZXIgYWRkcmVzcyAke3JlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLmhvbGRlcn1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgYWNjZXNzIGxldmVsIG9uIHRoZSBjb250cmFjdFxuICAgICAgICAgICAgY29uc3QgY2xhaW1Ib2xkZXJDb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChjbGFpbWhvbGRlckFiaSwgdGhpcy5nZXRDb250cmFjdEFkZHJlc3NGcm9tRGlkKGRpZCkpO1xuICAgICAgICAgICAgY29uc3Qga2VjY2FrMjU2T3JnYW5pc2F0aW9uS2V5ID0gdGhpcy5nZXRTaGEzS2V5KHB1YmxpY0tleSwgd2ViMyk7XG4gICAgICAgICAgICBjb25zdCBrZXlQdXJwb3NlID0gYXdhaXQgdGhpcy5nZXRLZXlQdXJwb3NlKGNsYWltSG9sZGVyQ29udHJhY3QsIGtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSkgYXMgRURJREFjY2Vzc0xldmVsO1xuICAgICAgICAgICAgcmV0dXJuIChrZXlQdXJwb3NlID09PSBFRElEQWNjZXNzTGV2ZWwuTUFOQUdFTUVOVF9LRVkgfHwga2V5UHVycG9zZSA9PT0gRURJREFjY2Vzc0xldmVsLkFDVElPTl9LRVkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlcXVlc3RlZCBDcmVkZW50aWFscyBkb2Vzbid0IGhhdmUgYSBzaWduYXR1cmUgaW4gdGhlIHByb29mLiBOb3QgY2hlY2tpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgYXN5bmMgZ2V0TGljZW5zZUNsYWltKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1Ib2xkZXJBYmk6IGFueSk6IFByb21pc2U8SUNyZWRlbnRpYWw+IHtcbiAgICAgICAgY29uc3Qgb3JnYW5pc2F0aW9uRGlkID0gcmVxdWVzdGVkQ3JlZGVudGlhbHMuaWQ7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldENsYWltKEVDbGFpbVR5cGUuQ09NUEFOWV9JTkZPLCB0aGlzLmdldENvbnRyYWN0QWRkcmVzc0Zyb21EaWQob3JnYW5pc2F0aW9uRGlkKSwgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRMaWNlbnNlQ3JlZGVudGlhbHMoY3JlZGVudGlhbDogSUNyZWRlbnRpYWwsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1ob2xkZXJBYmk6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAoY3JlZGVudGlhbD8ucHJvb2Y/LnNpZ25hdHVyZSkge1xuICAgICAgICAgICAgLy8gTWFrZSBhIGNvcHkgc2luY2Ugd2UgZGVsZXRlIHRoZSBzaWduYXR1cmUgb2YgdGhlIG9iamVjdDsgb3RoZXJ3aGlzZSB3ZSBjYW4gb25seSBjaGVjayBpdCBvbmNlIGFuZCBpdCdzIGdvbmUgZm9yZXZlclxuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbHNDb3B5OiBJQ3JlZGVudGlhbCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbCkpO1xuICAgICAgICAgICAgZGVsZXRlIGNyZWRlbnRpYWxzQ29weS5wcm9vZi5zaWduYXR1cmU7XG5cbiAgICAgICAgICAgIC8vIFJlY292ZXIgdGhlIHB1YmxpYyBrZXlcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHRoaXMucmVjb3ZlckFkZHJlc3NGcm9tU2lnbmF0dXJlKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxzQ29weSksIGNyZWRlbnRpYWwucHJvb2Yuc2lnbmF0dXJlLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgICAgIGlmIChwdWJsaWNLZXkgIT09IGNyZWRlbnRpYWxzQ29weS5wcm9vZi5ob2xkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBSZWNvdmVyZWQgYWRkcmVzcyAke3B1YmxpY0tleX0gZG9lcyBub3QgbWF0Y2ggaG9sZGVyIGFkZHJlc3MgJHtjcmVkZW50aWFsc0NvcHkucHJvb2YuaG9sZGVyfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGFjY2VzcyBsZXZlbCBvbiB0aGUgY29udHJhY3RcbiAgICAgICAgICAgIGNvbnN0IGRpZCA9IGNyZWRlbnRpYWxzQ29weS5pc3N1ZXIuaWQucmVwbGFjZSgvKGRpZDpkaWR1eHw6KS9nLCBcIlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGNsYWltSG9sZGVyQ29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoY2xhaW1ob2xkZXJBYmksIGRpZCk7XG4gICAgICAgICAgICBjb25zdCBrZWNjYWsyNTZPcmdhbmlzYXRpb25LZXkgPSB0aGlzLmdldFNoYTNLZXkocHVibGljS2V5LCB3ZWIzKTtcbiAgICAgICAgICAgIGNvbnN0IGtleVB1cnBvc2UgPSBhd2FpdCB0aGlzLmdldEtleVB1cnBvc2UoY2xhaW1Ib2xkZXJDb250cmFjdCwga2VjY2FrMjU2T3JnYW5pc2F0aW9uS2V5KSBhcyBFRElEQWNjZXNzTGV2ZWw7XG4gICAgICAgICAgICBpZiAoa2V5UHVycG9zZSAhPT0gRURJREFjY2Vzc0xldmVsLk1BTkFHRU1FTlRfS0VZICYmIGtleVB1cnBvc2UgIT09IEVESURBY2Nlc3NMZXZlbC5BQ1RJT05fS0VZKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgS2V5cHVycG9zZSAke2tleVB1cnBvc2V9IG5vdCBNQU5BR0VNRU5UX0tFWSBvciBBQ1RJT05fS0VZYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBjbGFpbSBleHBpcmF0aW9uIGRhdGVcbiAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpID4gbmV3IERhdGUoY3JlZGVudGlhbC5leHBpcmF0aW9uRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDbGFpbSBleHBpcmVkIG9uICR7Y3JlZGVudGlhbC5leHBpcmF0aW9uRGF0ZX0uIFBsZWFzZSByZS1uZXdgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNvIG5vdyBpdCdzIHVwIHRvIHRoZSBzdGF0dXMuIElmIHRoZSBzdGF0dXMgaXMgdHJ1ZSwgaXQncyB2YWxpZCBhbmQgZmFsc2UgaWYgaW52YWxpZFxuICAgICAgICAgICAgcmV0dXJuIChjcmVkZW50aWFsLmNyZWRlbnRpYWxTdWJqZWN0LmNyZWRlbnRpYWwudmFsdWUgYXMgSU9yZ2FuaXNhdGlvbkluZm8pLnN0YXR1c1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlcXVlc3RlZCBDcmVkZW50aWFscyBkb2Vzbid0IGhhdmUgYSBzaWduYXR1cmUgaW4gdGhlIHByb29mLiBOb3QgY2hlY2tpbmcuIFByb2JhYmx5IHRoaXMgbGljZW5zZSBoYXMgbm90IGJlZW4gYXBwcm92ZWQgeWV0PyBVbmFwcHJvdmVkIGxpY2VuY2VzIGRvbid0IGhhdmUgYSBwcm9vZiwgb25seSBjbGFpbSBpbmZvXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZUtleVRvUHVibGljS2V5KHByaXZhdGVLZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMucHJpdmF0ZUtleVRvQWNjb3VudChwcml2YXRlS2V5KS5hZGRyZXNzO1xuICAgIH1cblxuICAgIGdlbmVyYXRlQ2hhbGxlbmdlKHB1YmxpY0tleTogc3RyaW5nLCBkaWQ6IHN0cmluZywgaG9zdDogc3RyaW5nLCBwcml2YXRlS2V5OiBzdHJpbmcpOiBJQ2hhbGxlbmdlIHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGNoYWxsZW5nZSA9IGAke3B1YmxpY0tleX0tJHtkaWR9LSR7aG9zdH0tJHt0aW1lc3RhbXB9YDtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gd2ViMy5ldGguYWNjb3VudHMuc2lnbihjaGFsbGVuZ2UsIHByaXZhdGVLZXkpLnNpZ25hdHVyZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlkLFxuICAgICAgICAgICAgcHVibGljS2V5LFxuICAgICAgICAgICAgZW5kcG9pbnQ6IGhvc3QsXG4gICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICBjaGFsbGVuZ2UsXG4gICAgICAgICAgICBzaWduYXR1cmVcbiAgICAgICAgfSBhcyBJQ2hhbGxlbmdlXG4gICAgfVxuXG4gICAgZ2V0Q29udHJhY3RBZGRyZXNzRnJvbURpZChkaWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBjb250cmFjdEFkZHJlc3MgPSBkaWQ7XG4gICAgICAgIGNvbnN0IHNwbGl0dGVkRGlkID0gZGlkLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgaWYgKHNwbGl0dGVkRGlkLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuc3VwcG9ydGVkIGRpZDpcIiwgZGlkKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHNwbGl0dGVkRGlkLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgaWYgKHNwbGl0dGVkRGlkWzBdICE9PSBcImRpZFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuc3VwcG9ydGVkIGRpZDpcIiwgZGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BsaXR0ZWREaWRbMV0gIT09IFwiZGlkdXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbnN1cHBvcnRlZCBjaGFpbjpcIiwgc3BsaXR0ZWREaWRbMV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3MgPSBzcGxpdHRlZERpZFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udHJhY3RBZGRyZXNzO1xuICAgIH1cbn0iLCJpbXBvcnQgKiBhcyBodHRwIGZyb20gXCJodHRwXCI7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IHJlcXVlc3QsIHNlcnZlciBhcyBXZWJTb2NrZXRTZXJ2ZXIgfSBmcm9tIFwid2Vic29ja2V0XCI7XG5pbXBvcnQgeyBnZXRSVENDb25uZWN0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL2hlbHBlcnMvc2lnbmFsSGVscGVyc1wiO1xuaW1wb3J0IHsgSUNvbm5lY3Rpb25EYXRhIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY29ubmVjdGlvbkRhdGFcIjtcbmltcG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EZXRhaWxzXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IFdlYlJUQ0NsaWVudFYyIH0gZnJvbSBcIi4uL3dlYlJ0Y0NsaWVudFYyXCI7XG5cbmV4cG9ydCBjbGFzcyBTaWduYWxTZXJ2ZXJWMiB7XG4gICAgd3NTZXJ2ZXI6IFdlYlNvY2tldFNlcnZlcjtcbiAgICB3c1JlcXVlc3QkID0gbmV3IFN1YmplY3Q8YW55PigpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHR0cFNlcnZlclxuICAgICAqL1xuXG4gICAgcHVibGljIHN0YXJ0U2lnbmFsKFxuICAgICAgICBodHRwU2VydmVyOiBodHRwLlNlcnZlclxuICAgICk6IHZvaWQge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCB3ZWJzb2NrZXQgc2VydmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndzU2VydmVyID0gbmV3IFdlYlNvY2tldFNlcnZlcih7XG4gICAgICAgICAgICBodHRwU2VydmVyOiBodHRwU2VydmVyLFxuICAgICAgICAgICAgYXV0b0FjY2VwdENvbm5lY3Rpb25zOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2Vic29ja2V0IGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53c1NlcnZlci5vbihcInJlcXVlc3RcIiwgYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3NSZXF1ZXN0JC5uZXh0KHJlcXVlc3QpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIFVURkRhdGEgdG8gY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbFxuICAgICAqIEBwYXJhbSBtZXNzYWdlXG4gICAgICovXG4gICAgcHVibGljIHNlbmRUbyhjb25uZWN0aW9uOiBJQ29ubmVjdGlvbkRldGFpbHMsIG1lc3NhZ2U6IGFueSkge1xuICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUcmllZCB0byBzZW5kIHRoaXMgb3ZlciB1bmRlZmluZWQgY29ubmVjdGlvbjpcIiwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGVycm9yXG4gICAgICogQHBhcmFtIHJlYXNvblxuICAgICAqIEBwYXJhbVxuICAgICAqL1xuICAgIHB1YmxpYyByZWplY3RDb25uZWN0aW9uKHJlYXNvbjogc3RyaW5nLCByZXF1ZXN0OiBhbnkpIHtcbiAgICAgICAgcmVxdWVzdC5yZWplY3QoKTtcbiAgICAgICAgY29uc29sZS5lcnJvcigobmV3IERhdGUoKS50b0lTT1N0cmluZygpKSArIFwiIFwiICsgcmVhc29uKTtcbiAgICAgICAgY29uc29sZS5lcnJvcigobmV3IERhdGUoKS50b0lTT1N0cmluZygpKSArIFwiIENvbm5lY3Rpb24gZnJvbSByZW1vdGVBZGRyZXNzIFwiICsgcmVxdWVzdC5yZW1vdGVBZGRyZXNzZXMgKyBcIiByZWplY3RlZC5cIik7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0dXBQMlBDb25uZWN0aW9uKFxuICAgICAgICByZXF1ZXN0OiByZXF1ZXN0LFxuICAgICAgICB2YWxpZFNpZ246IGJvb2xlYW4sXG4gICAgICAgIGNoYW5uZWw6IHN0cmluZyxcbiAgICAgICAgb3JpZ2luQWxsb3dlZDogYm9vbGVhbixcbiAgICAgICAgdHVybkV4cGlyYXRpb246IG51bWJlcixcbiAgICAgICAgdHVyblVybDogc3RyaW5nLFxuICAgICAgICB0dXJuU2VjcmV0OiBzdHJpbmcsXG4gICAgICAgIHNpZ25hbFNlcnZlcjogc3RyaW5nLFxuICAgICAgICByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLFxuICAgICAgICBhY3Rpb25UeXBlOiBzdHJpbmcsXG4gICAgICAgIGRhdGE6IGFueSxcbiAgICAgICAgb3JpZ2luOiBzdHJpbmdcbiAgICApOiBQcm9taXNlPGFueT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2luY2UgYWxsIGlzIHdlbGwsIHdlIGFjY2VwdCB0aGUgY29ubmVjdGlvblxuICAgICAgICAgKiBBY2NlcHQgY29ubmVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgY29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzID0gcmVxdWVzdC5hY2NlcHQobnVsbCwgcmVxdWVzdC5vcmlnaW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtIEFjY2VwdGVkICR7cmVxdWVzdC5vcmlnaW59IHZhbGlkIHNpZ25lZCAke3ZhbGlkU2lnbn1gKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgZGVmYXVsdCB2YWx1ZXMgdXBvbiBjb25uZWN0XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uLnV1aWQgPSB1dWlkdjQoKTsgLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjbGllbnRcbiAgICAgICAgY29ubmVjdGlvbi5kaWQgPSB2YWxpZFNpZ24gPyAocmVxdWVzdD8ucmVzb3VyY2VVUkw/LnF1ZXJ5IGFzIGFueSk/LmRpZD8udG9TdHJpbmcoKSA6IG51bGw7IC8vIFdoZW4gYXV0aGVudGljYXRlZDogZGlkQWRkcmVzc1xuICAgICAgICBjb25uZWN0aW9uLnB1YmxpY0tleSA9IHZhbGlkU2lnbiA/IChyZXF1ZXN0Py5yZXNvdXJjZVVSTD8ucXVlcnkgYXMgYW55KT8ucHVibGlja2V5Py50b1N0cmluZygpIDogbnVsbDsgLy8gV2hlbiBhdXRoZW50aWNhdGVkOiBwdWJsaWNLZXlcbiAgICAgICAgY29ubmVjdGlvbi5hdXRoZW50aWNhdGVkID0gdmFsaWRTaWduOyAvLyB0cnVlIG9yIGZhbHNlXG4gICAgICAgIGNvbm5lY3Rpb24uY2hhbm5lbCA9IGNoYW5uZWw7IC8vIGNvbm5lY3Rpb24gb3IgY2xpZW50LnV1aWQgY29ubmVjdGVkIHRvXG5cbiAgICAgICAgdGhpcy5zZXR1cFdlYnNvY2tldExpc3RlbmVycyhjb25uZWN0aW9uKTtcblxuICAgICAgICAvLyBIb3N0XG4gICAgICAgIGlmICgob3JpZ2luID09PSBcInZhbGlkYXRvclwiICYmIHZhbGlkU2lnbiAmJiBjaGFubmVsID09PSBudWxsKSB8fCAob3JpZ2luQWxsb3dlZCAmJiBjaGFubmVsID09PSBudWxsKSkge1xuICAgICAgICAgICAgLy8gY29ubmVjdGlvbiBpcyB2ZXJpZmllZCFcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uaG9zdCA9IHRydWU7XG4gICAgICAgICAgICBjb25uZWN0aW9uLm9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgIGNvbnN0IHdlYlJ0Y0NvbmZpZyA9IGdldFJUQ0Nvbm5lY3Rpb25Db25maWcoXCJob3N0XCIsIHR1cm5FeHBpcmF0aW9uLCB0dXJuU2VjcmV0LCB0dXJuVXJsKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlicmFyeSAtIEhvc3Qgd2FpdGluZyBmb3IgY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFRvKGNvbm5lY3Rpb24sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImhvc3RcIixcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBIb3N0IGluaXRpYWxpc2VkICR7Y29ubmVjdGlvbi51dWlkfWAsXG4gICAgICAgICAgICAgICAgY2hhbm5lbElkOiBjb25uZWN0aW9uLnV1aWQsXG4gICAgICAgICAgICAgICAgc2lnbmFsU2VydmVyLFxuICAgICAgICAgICAgICAgIC4uLihvcmlnaW4gPT09IFwidmFsaWRhdG9yXCIgJiYgeyB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiB3ZWJSdGNDb25maWcgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9yaWdpbiAhPT0gXCJ2YWxpZGF0b3JcIikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ud2ViUnRjQ2xpZW50ID0gbmV3IFdlYlJUQ0NsaWVudFYyKHdlYlJ0Y0NvbmZpZywgcmVxdWVzdGVkQ3JlZGVudGlhbHMsIGNvbm5lY3Rpb24sIGFjdGlvblR5cGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24ud2ViUnRjQ2xpZW50LnNldHVwUGVlcmNvbm5lY3Rpb24oY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsaWVudFxuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIExldCdzIGZpbmQgdGhlIGhvc3QgdG8gY29ubmVjdCB0bywgYW5kIGNvbm5lY3RcbiAgICAgICAgICAgIGNvbnN0IGhvc3RDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHMgPSB0aGlzLndzU2VydmVyLmNvbm5lY3Rpb25zLmZpbmQoKGNvbm46IElDb25uZWN0aW9uRGV0YWlscykgPT4gY29ubi51dWlkID09PSBjaGFubmVsICYmIGNvbm4uY2hhbm5lbCA9PT0gbnVsbCAmJiBjb25uLmhvc3QgPT09IHRydWUpO1xuICAgICAgICAgICAgaWYgKGhvc3RDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgY29ubmVjdFxuICAgICAgICAgICAgICAgIGhvc3RDaGFubmVsLmNoYW5uZWwgPSBjb25uZWN0aW9uLnV1aWQ7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jaGFubmVsID0gaG9zdENoYW5uZWwudXVpZDtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gQ2xpZW50IGNvbm5lY3RpbmcgdG8gJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdlYlJ0Y0NvbmZpZyA9IGdldFJUQ0Nvbm5lY3Rpb25Db25maWcoXCJjbGllbnRcIiwgdHVybkV4cGlyYXRpb24sIHR1cm5TZWNyZXQsIHR1cm5VcmwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRvKGNvbm5lY3Rpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjbGllbnRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENsaWVudCBpbml0aWFsaXNlZCAke2Nvbm5lY3Rpb24udXVpZH1gLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IHdlYlJ0Y0NvbmZpZ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChob3N0Q2hhbm5lbC5vcmlnaW4gIT09IFwidmFsaWRhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdENoYW5uZWwud2ViUnRjQ2xpZW50LmNsaWVudENoYW5uZWwgPSBjb25uZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuZGF0YSA9IHsgLi4uaG9zdENoYW5uZWwud2ViUnRjQ2xpZW50LmRhdGEsIGNsaWVudERhdGE6IGRhdGEgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJMaWJyYXJ5IC0gTm90IGEgY2xpZW50IG9yIGhvc3RcIik7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfVxuXG4gICAgc2V0dXBXZWJzb2NrZXRMaXN0ZW5lcnMoY29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzKTogdm9pZCB7XG4gICAgICAgIGNvbm5lY3Rpb24ub24oXCJtZXNzYWdlXCIsIGFzeW5jIChtZXNzYWdlKSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBkYXRhOiBJQ29ubmVjdGlvbkRhdGE7XG5cbiAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKFwidXRmOERhdGFcIiBpbiBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UudXRmOERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTGlicmFyeSAtIFdlYnNvY2tldCBjb25uZWN0aW9uIGludmFsaWQgSlNPTlwiLCBlKTtcbiAgICAgICAgICAgICAgICBkYXRhID0geyB0eXBlOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSB9ID0gZGF0YTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaW5jZSB2YWxpZGF0aW9uIGhhcHBlbnMgb24gY29ubmVjdGlvbiwgd2Ugb25seSBleHBlY3QgMyB0eXBlIG9mIG1lc3NhZ2VzXG4gICAgICAgICAgICAgKiBJbiB0aGlzIG9yZGVyOlxuICAgICAgICAgICAgICogLSBPZmZlclxuICAgICAgICAgICAgICogICBUaGUgaG9zdCBzZW5kcyBhbiBvZmZlciB0byB0aGUgY2xpZW50LlxuICAgICAgICAgICAgICogLSBBbnN3ZXJcbiAgICAgICAgICAgICAqICAgVGhlIENsaWVudCByZXNwb25zZSB3aXRoIGFuIEFuc3dlclxuICAgICAgICAgICAgICogLSBDYW5kaWRhdGVzXG4gICAgICAgICAgICAgKiAgIENsaWVudC9Ib3N0IHNoYXJlIGNhbmRpZGF0ZXNcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBXaGVuIG9mZmVyIGFuZCBhbnN3ZXIgaXMgc2VuZCwgdGhleSBjYW4gc3RhcnQgdG8gY29ubmVjdCBvdmVyIHdlYlJ0Yy5cbiAgICAgICAgICAgICAqIEV4dHJhIGNhbmRpZGF0ZXMgaGVscHMgdG8gY29ubmVjdCBmYXN0ZXIvYmV0dGVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZlclwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHNlbmRzIGFuIG9mZmVyIHRvIHRoZSBob3N0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb24uaG9zdCAmJiBjb25uZWN0aW9uLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHMgPSB0aGlzLndzU2VydmVyLmNvbm5lY3Rpb25zLmZpbmQoKGNvbm46IElDb25uZWN0aW9uRGV0YWlscykgPT4gY29ubi5jaGFubmVsID09PSBjb25uZWN0aW9uLnV1aWQgJiYgY29ubi5ob3N0ID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0Q2hhbm5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0Q2hhbm5lbC5vcmlnaW4gPT09IFwidmFsaWRhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oaG9zdENoYW5uZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsaWVudCBzaGFyZWQgYW4gb2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGhvc3RDaGFubmVsLndlYlJ0Y0NsaWVudC5zZXRSZW1vdGVEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGhvc3RDaGFubmVsLndlYlJ0Y0NsaWVudC5zZW5kQW5zd2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGRuJ3QgZmluZCBjb25uZWN0aW9uIG9uIHV1aWQ6XCIsIGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBob3N0IHJlc3BvbmRzIHdpdGggYW4gYW5zd2VyIGZvciB0aGUgY2xpZW50LlxuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5ob3N0ICYmIGNvbm5lY3Rpb24uY2hhbm5lbCAmJiBjb25uZWN0aW9uLm9yaWdpbiA9PT0gXCJ2YWxpZGF0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50Q2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzID0gdGhpcy53c1NlcnZlci5jb25uZWN0aW9ucy5maW5kKChjb25uOiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IGNvbm4uY2hhbm5lbCA9PT0gY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oY2xpZW50Q2hhbm5lbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsaWVudCBzaGFyZWQgYW4gYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGRuJ3QgZmluZCBjb25uZWN0aW9uIG9uIHV1aWQ6XCIsIGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FuZGlkYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIEhvc3QgYW5kIENsaWVudCBzaGFyZSBjYW5kaWRhdGUuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWw6IElDb25uZWN0aW9uRGV0YWlscyA9IHRoaXMud3NTZXJ2ZXIuY29ubmVjdGlvbnMuZmluZCgoY29ubjogSUNvbm5lY3Rpb25EZXRhaWxzKSA9PiBjb25uLmNoYW5uZWwgPT09IGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLm9yaWdpbiA9PT0gXCJ2YWxpZGF0b3JcIiB8fCBjb25uZWN0aW9uLm9yaWdpbiA9PT0gXCJ2YWxpZGF0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRUbyhjaGFubmVsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2FuZGlkYXRlIHNoYXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwud2ViUnRjQ2xpZW50LmFkZENhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkbid0IGZpbmQgY29ubmVjdGlvbiBvbiB1dWlkOlwiLCBjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBhbHNvIGxpc3RlbiB0byB3ZWJzb2NrZXQgZXZlbnRzIG9uIHRoZSBob3N0IHNvIHdlIGRvbid0IHdhbnQgdG8gdGhyb3cgYW55IGVycm9yIGhlcmU7IGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBpcyBiZWluZyBtYWRlIG9uIHRoZSBhcHBsaWNhdGlvbiBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNvbm5lY3Rpb24gaXMgY2xvc2VkXG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uLm9uKFwiY2xvc2VcIiwgKHJlYXNvbkNvZGUsIGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtICR7KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSl9IC0gUGVlciAke2Nvbm5lY3Rpb24ucmVtb3RlQWRkcmVzc30gZGlzY29ubmVjdGVkLCBSZWFzb24gJHtyZWFzb25Db2RlfSwgZGVzY3JpcHRpb24gJHtkZXNjcmlwdGlvbn1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgV2ViU29ja2V0IGZyb20gXCJ3c1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBJUlRDQ29ubmVjdGlvbkNvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcnRjQ29ubmVjdGlvbkNvbmZpZy5pbnRlcmZhY2VcIjtcbmltcG9ydCAqIGFzIGh0dHAgZnJvbSBcImh0dHBcIjtcblxuZXhwb3J0IGNsYXNzIFNpZ25hbGluZ1NlcnZlciB7XG4gICAgd3NTZXJ2ZXI6IGFueTtcbiAgICBydGNDb25uZWN0aW9uQ29uZmlnOiBJUlRDQ29ubmVjdGlvbkNvbmZpZzsgXG5cbiAgICAvKipcbiAgICAgKiBXZWIgUlRDIGNvbm5lY3Rpb24gY29uZmlnXG4gICAgICogQHBhcmFtIHJ0Y0Nvbm5lY3Rpb25Db25maWcgXG4gICAgICovXG4gICAgc2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhydGNDb25uZWN0aW9uQ29uZmlnOiBJUlRDQ29ubmVjdGlvbkNvbmZpZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcgPSBydGNDb25uZWN0aW9uQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBSVEMgcGVlcmNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBnZXRSVENDb25uZWN0aW9uQ29uZmlnKHR5cGU6IHN0cmluZyk6IFJUQ0NvbmZpZ3VyYXRpb24ge1xuICAgICAgICBpZiAodGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5FbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBleHBpcmF0aW9uID0gdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5FeHBpcmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBgJHt0aW1lICsgZXhwaXJhdGlvbn06JHt0eXBlfWA7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGExXCIsIHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuU2VjcmV0KS51cGRhdGUodXNlcm5hbWUudG9TdHJpbmcoKSkuZGlnZXN0KFwiYmFzZTY0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpY2VDYW5kaWRhdGVQb29sU2l6ZTogNSxcbiAgICAgICAgICAgICAgICBpY2VTZXJ2ZXJzOiBbe1xuICAgICAgICAgICAgICAgICAgICB1cmxzOiB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcudHVyblVybCxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB9IGFzIFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnN0dW5FbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGljZVNlcnZlcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHVybHM6IHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy5zdHVuVXJsLFxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgfSBhcyBSVENDb25maWd1cmF0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHNlcnZlciBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhcnRTaWduYWwoc2VydmVyOiBodHRwLlNlcnZlcik6IHZvaWQge1xuICAgICAgICB0aGlzLndzU2VydmVyID0gbmV3IFdlYlNvY2tldC5TZXJ2ZXIoeyBzZXJ2ZXIgfSk7XG5cbiAgICAgICAgY29uc3Qgc2VuZFRvID0gKGRhdGFjaGFubmVsOiBSVENEYXRhQ2hhbm5lbCwgbWVzc2FnZTogYW55KSA9PiB7XG4gICAgICAgICAgICBkYXRhY2hhbm5lbC5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndzU2VydmVyLm9uKFwiY29ubmVjdGlvblwiLCAod3M6IGFueSkgPT4ge1xuICAgICAgICAgICAgd3MudXVpZCA9IHV1aWR2NCgpOyAvLyBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNsaWVudFxuICAgICAgICAgICAgd3MuZGlkID0gbnVsbDsgLy8gV2hlbiBhdXRoZW50aWNhdGVkOiBwdWJsaWNLZXkgb3IgZGlkQWRkcmVzc1xuICAgICAgICAgICAgd3MuaG9zdCA9IGZhbHNlOyAvLyBJcyBhIGhvc3QsIHRydWUgb3IgZmFsc2VcbiAgICAgICAgICAgIHdzLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZTsgLy8gdHJ1ZSBvciBmYWxzZVxuICAgICAgICAgICAgd3MuY29ubmVjdGVkID0gbnVsbDsgLy8gbnVsbCBvciBjbGllbnQudXVpZCBjb25uZWN0ZWQgdG9cblxuICAgICAgICAgICAgd3Mub24oXCJlcnJvclwiLCAoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBFQ09OTlJFU0VUIGNhbiBnZXQgdGhyb3duIHdoZW4gdGhlIGNsaWVudCBkaXNjb25uZWN0cy4gVGhpcyBhcHBsaWNhdGlvblxuICAgICAgICAgICAgICAgIC8vIHdpbGwgY3Jhc2guIElnbm9yZSB0aGlzIGVycm9yLlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdzLm9uKFwibWVzc2FnZVwiLCAobXNnOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKG1zZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdG9rZW4sIGhvc3QsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSB9ID0gZGF0YTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBhIHVzZXIgdHJpZXMgdG8gbG9naW5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImF1dGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXJuYW1lIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImF1dGhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IHZhbGlkYXRlIHRva2VuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy5hdXRoZW50aWNhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJBVVRIXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGEgY2hhbm5lbCAoSG9zdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzLmhvc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJob3N0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhvc3QgaW5pdGlhbGlzZWQgXCIgKyB3cy51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGEgY2hhbm5lbCAoSG9zdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicG9uZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0IHRvIGEgY2hhbm5lbCAoSG9zdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RzID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnV1aWQgPT09IGhvc3QgJiYgY2xpZW50LmNvbm5lY3RlZCA9PT0gbnVsbCAmJiBjbGllbnQuaG9zdCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG9zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhob3N0c1swXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsaWVudCBjb25uZWN0ZWQgXCIgKyB3cy51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiB0aGlzLmdldFJUQ0Nvbm5lY3Rpb25Db25maWcoXCJob3N0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0ZWQgdG8gXCIgKyBob3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiB0aGlzLmdldFJUQ0Nvbm5lY3Rpb25Db25maWcoXCJjbGllbnRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpbmsgdGhlbSB0b2dldGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLmNvbm5lY3RlZCA9IGhvc3RzWzBdLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdHNbMF0uY29ubmVjdGVkID0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIFwiICsgaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgQ2xpZW50IGV4aXN0cyB0aGVuIHNlbmQgaGltIG9mZmVyIGRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5jb25uZWN0ZWQgIT0gbnVsbCAmJiB0aGlzLndzU2VydmVyLmNsaWVudHMuc2l6ZSA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RzT2ZmZXIgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0c09mZmVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNPZmZlclswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRvbyBzb29uLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBDbGllbnQgcmVzcG9uc2UgdG8gYW4gb2ZmZXIgd2l0aCBhbiBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdHNPZmZlciA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQuY29ubmVjdGVkID09PSB3cy51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RzT2ZmZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhob3N0c09mZmVyWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBub3QgZm91bmQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb28gc29vbi4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNhbmRpZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgQ2xpZW50IHJlc3BvbnNlIHRvIGFuIG9mZmVyIHdpdGggYW4gYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RzT2ZmZXIgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0c09mZmVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNPZmZlclswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYW5kaWRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FuZGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9vIHNvb24uLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdzLmNvbm5lY3RlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50cyA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQuY29ubmVjdGVkID09PSB3cy51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MudXVpZCA9IHV1aWR2NCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhjbGllbnRzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQgb24gcmVjZWl2ZSBsZWF2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudHNbMF0uY29ubmVjdGVkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbGVmdC5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBub3QgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy5jb25uZWN0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy51dWlkID0gdXVpZHY0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTm90IGNvbm5lY3RlZCB0byBob3N0L2NsaWVudC5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb21tYW5kIG5vdCBmb3VuZDogXCIgKyB0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3cy5vbihcImNsb3NlXCIsICh3c0FyZzogYW55LCByZXF1ZXN0OiBhbnksIGNsaWVudDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdzQXJnLmNvbm5lY3RlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudHMgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudEFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudEFyZy5jb25uZWN0ZWQgPT09IHdzQXJnLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGNsaWVudHNbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbGVmdCBvbiB3ZWJzb2NrZXQgY2xvc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRzWzBdLmNvbm5lY3RlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd3NBcmcuY29ubmVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHNlbmQgaW1tZWRpYXRlbHkgYSBmZWVkYmFjayB0byB0aGUgaW5jb21pbmcgY29ubmVjdGlvblxuICAgICAgICAgICAgd3Muc2VuZChcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29ubmVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIldlbGwgaGVsbG8gdGhlcmUsIEkgYW0gdGhlIFNpZ25hbGluZyBTZXJ2ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQWJpSXRlbSB9IGZyb20gXCJ3ZWIzLXV0aWxzL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBjbGFpbUhvbGRlckFiaTogQWJpSXRlbVtdID0gW1xuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5UHVycG9zZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRLZXlcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl90eXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJhZGRLZXlcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0Q2xhaW1JZHNCeVR5cGVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJbXVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJyZW1vdmVDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2lkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfYXBwcm92ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiYXBwcm92ZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwicmVtb3ZlS2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRLZXlzQnlQdXJwb3NlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfc2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfc2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfdXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImFkZENsYWltXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3RvXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfdmFsdWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZXhlY3V0ZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2NsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldENsYWltXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImtleUhhc1B1cnBvc2VcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1SZXF1ZXN0SWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltUmVxdWVzdGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVUeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltQWRkZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1SZW1vdmVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1DaGFuZ2VkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidG9cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJFeGVjdXRpb25GYWlsZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJLZXlBZGRlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIktleVJlbW92ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkV4ZWN1dGlvblJlcXVlc3RlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiRXhlY3V0ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXBwcm92ZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkFwcHJvdmVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH1cbl07XG4iLCJpbXBvcnQgeyBBYmlJdGVtIH0gZnJvbSBcIndlYjMtdXRpbHMvdHlwZXNcIjtcbmV4cG9ydCBjb25zdCBJZGVudGl0eSA9IHtcbiAgICBhYmk6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0S2V5UHVycG9zZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRLZXlcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl90eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJhZGRLZXlcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0Q2xhaW1JZHNCeVR5cGVcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJyZW1vdmVDbGFpbVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc3RyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX29mZnNldFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2xlbmd0aFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0Qnl0ZXNcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2FwcHJvdmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImFwcHJvdmVcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcInJlbW92ZUtleVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0S2V5c0J5UHVycG9zZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJbXVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3NjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2lzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3NpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3VyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJhZGRDbGFpbVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl90b1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3ZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGVcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRDbGFpbVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlIYXNQdXJwb3NlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3N0clwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfb2Zmc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfbGVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJnZXRTdHJpbmdcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3NjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2W11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NbXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl91cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3NpZ1NpemVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZbXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFTaXplc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2W11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlTaXplc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2W11cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImNvbnN0cnVjdG9yXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1SZXF1ZXN0SWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNsYWltUmVxdWVzdGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNsYWltQWRkZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2xhaW1SZW1vdmVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNsYWltQ2hhbmdlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV4ZWN1dGlvbkZhaWxlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiS2V5QWRkZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIktleVJlbW92ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ0b1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFeGVjdXRpb25SZXF1ZXN0ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ0b1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFeGVjdXRlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhcHByb3ZlZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXBwcm92ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfVxuICAgIF0gYXMgQWJpSXRlbVtdLFxuICAgIGRhdGE6IFwiNjA4MDYwNDA1MjM0ODAxNTYyMDAwMDExNTc2MDAwODBmZDViNTA2MDQwNTE2MjAwMzMzMzM4MDM4MDYyMDAzMzMzODMzOTgxMDE4MDYwNDA1MjgxMDE5MDgwODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNTA1MDUwNjAwMDgwNjAwMDgwNjAwMDgwMzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwOTA1MDgwNjAwMTYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxODE2MDAwMTkxNjkwNTU1MDYwMDE4MDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxODE5MDU1NTA2MDAxODA2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTgxOTA1NTUwNjAwMjYwMDA2MDAxODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDgxOTA4MDYwMDE4MTU0MDE4MDgyNTU4MDkxNTA1MDkwNjAwMTgyMDM5MDYwMDA1MjYwMjA2MDAwMjAwMTYwMDA5MDkxOTI5MDkxOTA5MTUwOTA2MDAwMTkxNjkwNTU1MDYwMDE4MDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ4MjYwMDAxOTE2N2Y0ODAwMDBiYjFlZGFkOGNhMTQ3MDM4MWNjMzM0YjE5MTdmYmQ1MWM2NTMxZjNhNjIzZWE4ZTBlYzdlMzhhNmU5NjA0MDUxNjA0MDUxODA5MTAzOTBhNDUwNjAwMDkzNTA2MDAwOTI1MDYwMDA5MTUwNjAwMDkwNTA1YjhkNTE4MTEwMTU2MjAwMDdiYTU3OGI4MTgxNTE4MTEwMTUxNTYyMDAwMjBmNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4ZTgyODE1MTgxMTAxNTE1NjIwMDAyMjg1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYwNDA1MTgwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTgyODE1MjYwMjAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTAyMDk0NTA2MGMwNjA0MDUxOTA4MTAxNjA0MDUyODA4ZjgzODE1MTgxMTAxNTE1NjIwMDAyYTY1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTgxNTI2MDIwMDE4ZTgzODE1MTgxMTAxNTE1NjIwMDAyYzQ1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTgxNTI2MDIwMDE4ZDgzODE1MTgxMTAxNTE1NjIwMDAyZTI1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODE1MjYwMjAwMTYyMDAwMzNiOGQ4NzhjODY4MTUxODExMDE1MTU2MjAwMDMxYzU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxNjIwMDA3Y2U2NDAxMDAwMDAwMDAwMjY0MDEwMDAwMDAwMDkwMDQ1NjViODE1MjYwMjAwMTYyMDAwMzc0OGM4NThiODY4MTUxODExMDE1MTU2MjAwMDM1NTU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxNjIwMDA3Y2U2NDAxMDAwMDAwMDAwMjY0MDEwMDAwMDAwMDkwMDQ1NjViODE1MjYwMjAwMTYyMDAwM2FkOGI4NjhhODY4MTUxODExMDE1MTU2MjAwMDM4ZTU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxNjIwMDA4ZGE2NDAxMDAwMDAwMDAwMjY0MDEwMDAwMDAwMDkwMDQ1NjViODE1MjUwNjAwNDYwMDA4NzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDgyMDE1MTgxNjAwMDAxNTU2MDIwODIwMTUxODE2MDAxMDE1NTYwNDA4MjAxNTE4MTYwMDIwMTYwMDA2MTAxMDAwYTgxNTQ4MTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjAyMTkxNjkwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjAyMTc5MDU1NTA2MDYwODIwMTUxODE2MDAzMDE5MDgwNTE5MDYwMjAwMTkwNjIwMDA0NDQ5MjkxOTA2MjAwMDllYzU2NWI1MDYwODA4MjAxNTE4MTYwMDQwMTkwODA1MTkwNjAyMDAxOTA2MjAwMDQ2MzkyOTE5MDYyMDAwOWVjNTY1YjUwNjBhMDgyMDE1MTgxNjAwNTAxOTA4MDUxOTA2MDIwMDE5MDYyMDAwNDgyOTI5MTkwNjIwMDBhNzM1NjViNTA5MDUwNTA4NzgxODE1MTgxMTAxNTE1NjIwMDA0OTU1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTg0MDE5MzUwODU4MTgxNTE4MTEwMTUxNTYyMDAwNGIyNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4MzAxOTI1MDg2ODE4MTUxODExMDE1MTU2MjAwMDRjZjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxODIwMTkxNTA2MDA0NjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDQ2MDAwODc2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0ODY2MDAwMTkxNjdmNDYxNDliMThhYTA4NDUwMmMzZjEyYmM3NWUxOWVkYThiZGE4ZDEwMmI4MmNjZTg0NzQ2NzdhNmQwZDVmNDNjNTYwMDQ2MDAwOGE2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwNDYwMDA4YjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwNDYwMDA4YzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNDAxNjAwNDYwMDA4ZDYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNTAxNjA0MDUxODA4NTgxNTI2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODA2MDIwMDE4NDgxMDM4NDUyODc4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MjAwMDY4YjU3ODA2MDFmMTA2MjAwMDY1ZjU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjIwMDA2OGI1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYyMDAwNjZkNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4NDgxMDM4MzUyODY4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MjAwMDcxMjU3ODA2MDFmMTA2MjAwMDZlNjU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjIwMDA3MTI1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYyMDAwNmY0NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4NDgxMDM4MjUyODU4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MjAwMDc5OTU3ODA2MDFmMTA2MjAwMDc2ZDU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjIwMDA3OTk1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYyMDAwNzdiNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA5NzUwNTA1MDUwNTA1MDUwNTA2MDQwNTE4MDkxMDM5MGE0ODA4MDYwMDEwMTkxNTA1MDYyMDAwMWY2NTY1YjUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA2MjAwMGIyMjU2NWI2MDYwODA2MDAwODA4NDYwNDA1MTkwODA4MjUyODA2MDFmMDE2MDFmMTkxNjYwMjAwMTgyMDE2MDQwNTI4MDE1NjIwMDA4MDg1NzgxNjAyMDAxNjAyMDgyMDI4MDM4ODMzOTgwODIwMTkxNTA1MDkwNTA1YjUwOTI1MDYwMDA5MTUwODU5MDUwNWI4NDg2MDE4MTEwMTU2MjAwMDhjZDU3ODY4MTgxNTE4MTEwMTUxNTYyMDAwODJkNTdmZTViOTA2MDIwMDEwMTUxN2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOTAwNDdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODM4MzgxNTE4MTEwMTUxNTYyMDAwODg3NTdmZTViOTA2MDIwMDEwMTkwN2VmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE5MTY5MDgxNjAwMDFhOTA1MzUwODE4MDYwMDEwMTkyNTA1MDgwODA2MDAxMDE5MTUwNTA2MjAwMDgxMzU2NWI4MjkzNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjYwNjA4MDYwNjA2MDAwODA4NzkzNTA4NTYwNDA1MTkwODA4MjUyODA2MDFmMDE2MDFmMTkxNjYwMjAwMTgyMDE2MDQwNTI4MDE1NjIwMDA5MTk1NzgxNjAyMDAxNjAyMDgyMDI4MDM4ODMzOTgwODIwMTkxNTA1MDkwNTA1YjUwOTI1MDYwMDA5MTUwODY5MDUwNWI4NTg3MDE4MTEwMTU2MjAwMDlkZTU3ODM4MTgxNTE4MTEwMTUxNTYyMDAwOTNlNTdmZTViOTA2MDIwMDEwMTUxN2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOTAwNDdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODM4MzgxNTE4MTEwMTUxNTYyMDAwOTk4NTdmZTViOTA2MDIwMDEwMTkwN2VmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE5MTY5MDgxNjAwMDFhOTA1MzUwODE4MDYwMDEwMTkyNTA1MDgwODA2MDAxMDE5MTUwNTA2MjAwMDkyNDU2NWI4Mjk0NTA1MDUwNTA1MDkzOTI1MDUwNTA1NjViODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwNjAxZjAxNjAyMDkwMDQ4MTAxOTI4MjYwMWYxMDYyMDAwYTJmNTc4MDUxNjBmZjE5MTY4MzgwMDExNzg1NTU2MjAwMGE2MDU2NWI4MjgwMDE2MDAxMDE4NTU1ODIxNTYyMDAwYTYwNTc5MTgyMDE1YjgyODExMTE1NjIwMDBhNWY1NzgyNTE4MjU1OTE2MDIwMDE5MTkwNjAwMTAxOTA2MjAwMGE0MjU2NWI1YjUwOTA1MDYyMDAwYTZmOTE5MDYyMDAwYWZhNTY1YjUwOTA1NjViODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwNjAxZjAxNjAyMDkwMDQ4MTAxOTI4MjYwMWYxMDYyMDAwYWI2NTc4MDUxNjBmZjE5MTY4MzgwMDExNzg1NTU2MjAwMGFlNzU2NWI4MjgwMDE2MDAxMDE4NTU1ODIxNTYyMDAwYWU3NTc5MTgyMDE1YjgyODExMTE1NjIwMDBhZTY1NzgyNTE4MjU1OTE2MDIwMDE5MTkwNjAwMTAxOTA2MjAwMGFjOTU2NWI1YjUwOTA1MDYyMDAwYWY2OTE5MDYyMDAwYWZhNTY1YjUwOTA1NjViNjIwMDBiMWY5MTkwNWI4MDgyMTExNTYyMDAwYjFiNTc2MDAwODE2MDAwOTA1NTUwNjAwMTAxNjIwMDBiMDE1NjViNTA5MDU2NWI5MDU2NWI2MTI4MDE4MDYyMDAwYjMyNjAwMDM5NjAwMGYzMDA2MDgwNjA0MDUyNjAwNDM2MTA2MTAwZDA1NzYwMDAzNTdjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ2M2ZmZmZmZmZmMTY4MDYzMDMyYzFhOGExNDYxMDBkNTU3ODA2MzEyYWFhYzcwMTQ2MTAxMWE1NzgwNjMxZDM4MTI0MDE0NjEwMTc1NTc4MDYzMjYyYjU0ZjUxNDYxMDFkMjU3ODA2MzRlZWU0MjRhMTQ2MTAyNTQ1NzgwNjM1ZDJjZmQ2MTE0NjEwMjlkNTc4MDYzNzQ3NDQyZDMxNDYxMDM5MzU3ODA2Mzg2MjY0MmY1MTQ2MTAzZTQ1NzgwNjM5MDEwZjcyNjE0NjEwNDJkNTc4MDYzYjFhMzRlMGQxNDYxMDRhZjU3ODA2M2I2MWQyN2Y2MTQ2MTA1ZjQ1NzgwNjNjOTEwMGJjYjE0NjEwNjliNTc4MDYzZDIwMjE1OGQxNDYxMDg1ZTU3ODA2M2RmOTMxOWJlMTQ2MTA4YjE1NzViNjAwMDgwZmQ1YjM0ODAxNTYxMDBlMTU3NjAwMDgwZmQ1YjUwNjEwMTA0NjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMDlhNzU2NWI2MDQwNTE4MDgyODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDEyNjU3NjAwMDgwZmQ1YjUwNjEwMTQ5NjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMDljZjU2NWI2MDQwNTE4MDg0ODE1MjYwMjAwMTgzODE1MjYwMjAwMTgyNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MzUwNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMTgxNTc2MDAwODBmZDViNTA2MTAxYjg2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMGEzZTU2NWI2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMWRlNTc2MDAwODBmZDViNTA2MTAxZmQ2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMGNmNzU2NWI2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDYwMjAwMjgwODM4MzYwMDA1YjgzODExMDE1NjEwMjQwNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwMjI1NTY1YjUwNTA1MDUwOTA1MDAxOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAyNjA1NzYwMDA4MGZkNWI1MDYxMDI4MzYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTBkNjY1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDJhOTU3NjAwMDgwZmQ1YjUwNjEwMzE4NjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjExMWU0NTY1YjYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTE4MTUyNjAyMDAxOTE1MDgwNTE5MDYwMjAwMTkwODA4MzgzNjAwMDViODM4MTEwMTU2MTAzNTg1NzgwODIwMTUxODE4NDAxNTI2MDIwODEwMTkwNTA2MTAzM2Q1NjViNTA1MDUwNTA5MDUwOTA4MTAxOTA2MDFmMTY4MDE1NjEwMzg1NTc4MDgyMDM4MDUxNjAwMTgzNjAyMDAzNjEwMTAwMGEwMzE5MTY4MTUyNjAyMDAxOTE1MDViNTA5MjUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDM5ZjU3NjAwMDgwZmQ1YjUwNjEwM2NhNjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1MTUxNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTEyZWI1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDNmMDU3NjAwMDgwZmQ1YjUwNjEwNDEzNjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMTdmZjU2NWI2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwNDM5NTc2MDAwODBmZDViNTA2MTA0NTg2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMTk2YTU2NWI2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDYwMjAwMjgwODM4MzYwMDA1YjgzODExMDE1NjEwNDliNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwNDgwNTY1YjUwNTA1MDUwOTA1MDAxOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA0YmI1NzYwMDA4MGZkNWI1MDYxMDVkNjYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwNTA1MDUwNjExOWQ5NTY1YjYwNDA1MTgwODI2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDYwMDU3NjAwMDgwZmQ1YjUwNjEwNjg1NjAwNDgwMzYwMzgxMDE5MDgwODAzNTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA1MDUwNTA2MTFlZmU1NjViNjA0MDUxODA4MjgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA2YTc1NzYwMDA4MGZkNWI1MDYxMDZjYTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTIxZTA1NjViNjA0MDUxODA4NzgxNTI2MDIwMDE4NjgxNTI2MDIwMDE4NTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY4MTUyNjAyMDAxODA2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODQ4MTAzODQ1Mjg3ODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEwNzUwNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwNzM1NTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMDc3ZDU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwODQ4MTAzODM1Mjg2ODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEwN2I2NTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwNzliNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMDdlMzU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwODQ4MTAzODI1Mjg1ODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEwODFjNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwODAxNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMDg0OTU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwOTk1MDUwNTA1MDUwNTA1MDUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDg2YTU3NjAwMDgwZmQ1YjUwNjEwODk3NjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEyNGFhNTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA4YmQ1NzYwMDA4MGZkNWI1MDYxMDkyYzYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMjUxMzU2NWI2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEwOTZjNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwOTUxNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMDk5OTU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWI2MDAwNjAwMTYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ5MDUwOTE5MDUwNTY1YjYwMDA4MDYwMDA2MDAxNjAwMDg1NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwMTYwMDA4NzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNTQ5MjUwOTI1MDkyNTA5MTkzOTA5MjUwNTY1YjYwMDA4MzYwMDAxOTE2NjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNTQ2MDAwMTkxNjE0MTUxNTE1NjEwYWRlNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDEyODE1MjYwMjAwMTgwN2Y0YjY1NzkyMDYxNmM3MjY1NjE2NDc5MjA2NTc4Njk3Mzc0NzMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViMzA3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjMzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYxNDE1MTU2MTBjMDk1NzYxMGI2ZTMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDE2MTI0YWE1NjViMTUxNTYxMGMwODU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAyMzgxNTI2MDIwMDE4MDdmNTM2NTZlNjQ2NTcyMjA2NDZmNjU3MzIwNmU2Zjc0MjA2ODYxNzY2NTIwNmQ2MTZlNjE2NzY1NmQ2NTZlNzQyMDgxNTI2MDIwMDE3ZjZiNjU3OTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNTA2MDQwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI1YjgzNjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxODE2MDAwMTkxNjkwNTU1MDgyNjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxODE5MDU1NTA4MTYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTgxOTA1NTUwNjAwMjYwMDA4NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA4NDkwODA2MDAxODE1NDAxODA4MjU1ODA5MTUwNTA5MDYwMDE4MjAzOTA2MDAwNTI2MDIwNjAwMDIwMDE2MDAwOTA5MTkyOTA5MTkwOTE1MDkwNjAwMDE5MTY5MDU1NTA4MTgzODU2MDAwMTkxNjdmNDgwMDAwYmIxZWRhZDhjYTE0NzAzODFjYzMzNGIxOTE3ZmJkNTFjNjUzMWYzYTYyM2VhOGUwZWM3ZTM4YTZlOTYwNDA1MTYwNDA1MTgwOTEwMzkwYTQ2MDAxOTA1MDkzOTI1MDUwNTA1NjViNjA2MDYwMDU2MDAwODM4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODA1NDgwNjAyMDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ4MDE1NjEwZDVhNTc2MDIwMDI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDYwMDAxOTE2ODE1MjYwMjAwMTkwNjAwMTAxOTA4MDgzMTE2MTBkNDI1NzViNTA1MDUwNTA1MDkwNTA5MTkwNTA1NjViNjAwMDMwNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYzMzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MTQxNTE1NjEwZTkzNTc2MTBkZjgzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAxNjEyNGFhNTY1YjE1MTU2MTBlOTI1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMjM4MTUyNjAyMDAxODA3ZjUzNjU2ZTY0NjU3MjIwNjQ2ZjY1NzMyMDZlNmY3NDIwNjg2MTc2NjUyMDZkNjE2ZTYxNjc2NTZkNjU2ZTc0MjA4MTUyNjAyMDAxN2Y2YjY1NzkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjA0MDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViNWI2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDQ2MDAwODQ2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0ODM2MDAwMTkxNjdmM2NmNTc4NjNhODk0MzJjNjFjNGEyNzA3M2M2ZWUzOWU4YTc2NGJmZjVhMDVhZWJmYmNkY2RjODBiMmU2MTMwYTYwMDQ2MDAwODc2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwNDYwMDA4ODYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwNDYwMDA4OTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNDAxNjAwNDYwMDA4YTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNTAxNjA0MDUxODA4NTgxNTI2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODA2MDIwMDE4NDgxMDM4NDUyODc4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTEwM2Q1NzgwNjAxZjEwNjExMDEyNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTEwM2Q1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTAyMDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODQ4MTAzODM1Mjg2ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExMGMwNTc4MDYwMWYxMDYxMTA5NTU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExMGMwNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTEwYTM1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDg0ODEwMzgyNTI4NTgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTE0MzU3ODA2MDFmMTA2MTExMTg1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTE0MzU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExMTI2NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA5NzUwNTA1MDUwNTA1MDUwNTA2MDQwNTE4MDkxMDM5MGE0NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDgwODIwMTYwMDA5MDU1NjAwMTgyMDE2MDAwOTA1NTYwMDI4MjAxNjAwMDYxMDEwMDBhODE1NDkwNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMDIxOTE2OTA1NTYwMDM4MjAxNjAwMDYxMTFiOTkxOTA2MTI2MjA1NjViNjAwNDgyMDE2MDAwNjExMWM5OTE5MDYxMjYyMDU2NWI2MDA1ODIwMTYwMDA2MTExZDk5MTkwNjEyNjY4NTY1YjUwNTA2MDAxOTA1MDkxOTA1MDU2NWI2MDYwODA2MDAwODA4NDYwNDA1MTkwODA4MjUyODA2MDFmMDE2MDFmMTkxNjYwMjAwMTgyMDE2MDQwNTI4MDE1NjExMjFkNTc4MTYwMjAwMTYwMjA4MjAyODAzODgzMzk4MDgyMDE5MTUwNTA5MDUwNWI1MDkyNTA2MDAwOTE1MDg1OTA1MDViODQ4NjAxODExMDE1NjExMmRlNTc4NjgxODE1MTgxMTAxNTE1NjExMjQwNTdmZTViOTA2MDIwMDEwMTUxN2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOTAwNDdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODM4MzgxNTE4MTEwMTUxNTYxMTI5OTU3ZmU1YjkwNjAyMDAxMDE5MDdlZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxOTE2OTA4MTYwMDAxYTkwNTM1MDgxODA2MDAxMDE5MjUwNTA4MDgwNjAwMTAxOTE1MDUwNjExMjI4NTY1YjgyOTM1MDUwNTA1MDkzOTI1MDUwNTA1NjViNjAwMDYxMTM0ODMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDI2MTI0YWE1NjViMTUxNTYxMTNiYzU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAxZjgxNTI2MDIwMDE4MDdmNTM2NTZlNjQ2NTcyMjA2NDZmNjU3MzIwNmU2Zjc0MjA2ODYxNzY2NTIwNjE2Mzc0Njk2ZjZlMjA2YjY1NzkwMDgxNTI1MDYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjgyN2ZiMzkzMmRhNDc3ZmU1ZDZjOGZmMmVhZmVmMDUwYzBmM2ExYWYxOGZjMDcxMjEwMDE0ODI2MDBmMzZmMzcxNWQ4ODM2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBhMjYwMDExNTE1ODIxNTE1MTQxNTYxMTdjNTU3NjAwMTYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwMDYxMDEwMDBhODE1NDgxNjBmZjAyMTkxNjkwODMxNTE1MDIxNzkwNTU1MDYwMDM2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA2MDQwNTE4MDgzODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExNGZlNTc4MDYwMWYxMDYxMTRkMzU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExNGZlNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTE0ZTE1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDgyNjBmZjE2ODE1MjYwMjAwMTkyNTA1MDUwNjAwMDYwNDA1MTgwODMwMzgxNjAwMDg2NWFmMTkxNTA1MDkwNTA4MDE1NjExNjhkNTc2MDAxNjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDAxNjEwMTAwMGE4MTU0ODE2MGZmMDIxOTE2OTA4MzE1MTUwMjE3OTA1NTUwNjAwMzYwMDA4NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY4NDdmMWY5MjBkYmRhNTk3ZDdiZjk1MDM1NDY0MTcwZmE1OGQwYTRiNTdmMTNhMWMzMTVhY2U2NzkzYjlmNjM2ODhiODYwMDM2MDAwODg4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTY3YTU3ODA2MDFmMTA2MTE2NGY1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTY3YTU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExNjVkNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA5MjUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ2MTE3Zjk1NjViNjAwMzYwMDA4NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY4NDdmZTEwYzQ5ZDlmN2M3MWRhMjMyNjIzNjcwMTM0MzQ3NjNjZmRiMjMzMjI2NzY0MTcyOGQyNWNkNzEyYzVjNmE2ODYwMDM2MDAwODg4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTdiMjU3ODA2MDFmMTA2MTE3ODc1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTdiMjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExNzk1NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA5MjUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ2MTE3Zjk1NjViNjAwMDYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwMDYxMDEwMDBhODE1NDgxNjBmZjAyMTkxNjkwODMxNTE1MDIxNzkwNTU1MDYwMDE5MDUwNWI5MjkxNTA1MDU2NWI2MDAwODE2MDAwMTkxNjYwMDE2MDAwODQ2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTYxNDE1MTU2MTE4OWU1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMGI4MTUyNjAyMDAxODA3ZjRlNmYyMDczNzU2MzY4MjA2YjY1NzkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNTA2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI2MDAxNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDE2MDAwODQ2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0NjAwMTYwMDA4NTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNTQ2MDAwMTkxNjdmNTg1YTRhZWY1MGY4MjY3YTkyYjMyNDEyYjMzMWIyMGY3ZjhiOTZmMjI0NWIyNTNiOWNjNTBkY2M2MjFkMzM5NzYwNDA1MTYwNDA1MTgwOTEwMzkwYTQ2MDAxNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwODA4MjAxNjAwMDkwNTU2MDAxODIwMTYwMDA5MDU1NjAwMjgyMDE2MDAwOTA1NTUwNTA2MDAxOTA1MDkxOTA1MDU2NWI2MDYwNjAwMjYwMDA4MzgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA4MDU0ODA2MDIwMDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkyOTE5MDgxODE1MjYwMjAwMTgyODA1NDgwMTU2MTE5Y2Q1NzYwMjAwMjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0NjAwMDE5MTY4MTUyNjAyMDAxOTA2MDAxMDE5MDgwODMxMTYxMTliNTU3NWI1MDUwNTA1MDUwOTA1MDkxOTA1MDU2NWI2MDAwODA4NTg4NjA0MDUxODA4MzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxODI4MTUyNjAyMDAxOTI1MDUwNTA2MDQwNTE4MDkxMDM5MDIwOTA1MDMwNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYzMzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MTQxNTE1NjExYjYyNTc2MTFhYzczMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAzNjEyNGFhNTY1YjE1MTU2MTFiNjE1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMjU4MTUyNjAyMDAxODA3ZjUzNjU2ZTY0NjU3MjIwNjQ2ZjY1NzMyMDZlNmY3NDIwNjg2MTc2NjUyMDYzNmM2MTY5NmQyMDczNjk2NzZlNjU4MTUyNjAyMDAxN2Y3MjIwNmI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjA0MDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViNWI4NTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYxNDE1MTU2MTFjMTk1NzYwMDU2MDAwODk4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODE5MDgwNjAwMTgxNTQwMTgwODI1NTgwOTE1MDUwOTA2MDAxODIwMzkwNjAwMDUyNjAyMDYwMDAyMDAxNjAwMDkwOTE5MjkwOTE5MDkxNTA5MDYwMDAxOTE2OTA1NTUwNWI4NzYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTgxOTA1NTUwODY2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE4MTkwNTU1MDg1NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDYxMDEwMDBhODE1NDgxNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMDIxOTE2OTA4MzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MDIxNzkwNTU1MDg0NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxOTA4MDUxOTA2MDIwMDE5MDYxMWNlZTkyOTE5MDYxMjZiMDU2NWI1MDgzNjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNDAxOTA4MDUxOTA2MDIwMDE5MDYxMWQyMTkyOTE5MDYxMjZiMDU2NWI1MDgyNjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNTAxOTA4MDUxOTA2MDIwMDE5MDYxMWQ1NDkyOTE5MDYxMjczMDU2NWI1MDg1NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY4ODgyNjAwMDE5MTY3ZjQ2MTQ5YjE4YWEwODQ1MDJjM2YxMmJjNzVlMTllZGE4YmRhOGQxMDJiODJjY2U4NDc0Njc3YTZkMGQ1ZjQzYzU4YTg5ODk4OTYwNDA1MTgwODU4MTUyNjAyMDAxODA2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODQ4MTAzODQ1Mjg3ODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjExZGU1NTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjExZGNhNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMWUxMjU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwODQ4MTAzODM1Mjg2ODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjExZTRiNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjExZTMwNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMWU3ODU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwODQ4MTAzODI1Mjg1ODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjExZWIxNTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjExZTk2NTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMWVkZTU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwOTc1MDUwNTA1MDUwNTA1MDUwNjA0MDUxODA5MTAzOTBhNDgwOTE1MDUwOTY5NTUwNTA1MDUwNTA1MDU2NWI2MDAwNjAwMzYwMDA4MDU0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDE5MDU0OTA2MTAxMDAwYTkwMDQ2MGZmMTYxNTE1MTU2MTFmOWE1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMTA4MTUyNjAyMDAxODA3ZjQxNmM3MjY1NjE2NDc5MjA2NTc4NjU2Mzc1NzQ2NTY0MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNTA2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI4MzYwMDM2MDAwODA1NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE2MDAwNjEwMTAwMGE4MTU0ODE3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYwMjE5MTY5MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYwMjE3OTA1NTUwODI2MDAzNjAwMDgwNTQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxODE5MDU1NTA4MTYwMDM2MDAwODA1NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE5MDgwNTE5MDYwMjAwMTkwNjEyMDM3OTI5MTkwNjEyNmIwNTY1YjUwODI4NDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwMDU0N2Y4YWZjZmFiY2IwMGU0N2E1M2E4ZmMzZTlmMjNmZjQ3ZWUxOTI2MTk0YmIxMzUwZGQwMDdjNTBiNDEyYTZjZWU4ODU2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEyMGI1NTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEyMDlhNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMjBlMjU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGE0NjEyMTRhMzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMTYxMjRhYTU2NWI4MDYxMjFhYzU3NTA2MTIxYWIzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAyNjEyNGFhNTY1YjViMTU2MTIxYzA1NzYxMjFiZTYwMDA1NDYwMDE2MTEyZWI1NjViNTA1YjYwMDA4MDgxNTQ4MDkyOTE5MDYwMDEwMTkxOTA1MDU1NTA2MDAxNjAwMDU0MDM5MDUwOTM5MjUwNTA1MDU2NWI2MDAwODA2MDAwNjA2MDgwNjA2MDYwMDQ2MDAwODg2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0NjAwNDYwMDA4OTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDA0NjAwMDhhNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwOTA1NDkwNjEwMTAwMGE5MDA0NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDA0NjAwMDhiNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDA0NjAwMDhjNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA0MDE2MDA0NjAwMDhkNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDA1MDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkyOTE5MDgxODE1MjYwMjAwMTgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjEyMzU2NTc4MDYwMWYxMDYxMjMyYjU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjEyMzU2NTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTIzMzk1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDUwNTA1MDkyNTA4MTgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkyOTE5MDgxODE1MjYwMjAwMTgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjEyM2YyNTc4MDYwMWYxMDYxMjNjNzU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjEyM2YyNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTIzZDU1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDUwNTA1MDkxNTA4MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkyOTE5MDgxODE1MjYwMjAwMTgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjEyNDhlNTc4MDYwMWYxMDYxMjQ2MzU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjEyNDhlNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTI0NzE1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDUwNTA1MDkwNTA5NTUwOTU1MDk1NTA5NTUwOTU1MDk1NTA5MTkzOTU1MDkxOTM5NTU2NWI2MDAwODA2MDAwNjAwMTAyNjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNTQ2MDAwMTkxNjE0MTU2MTI0ZTQ1NzYwMDA5MTUwNjEyNTBjNTY1YjgyNjAwMTYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQxMTE1OTA1MDgwOTE1MDViNTA5MjkxNTA1MDU2NWI2MDYwODA2MDYwNjAwMDgwODc5MzUwODU2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYxMjU1MTU3ODE2MDIwMDE2MDIwODIwMjgwMzg4MzM5ODA4MjAxOTE1MDUwOTA1MDViNTA5MjUwNjAwMDkxNTA4NjkwNTA1Yjg1ODcwMTgxMTAxNTYxMjYxMjU3ODM4MTgxNTE4MTEwMTUxNTYxMjU3NDU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MTI1Y2Q1N2ZlNWI5MDYwMjAwMTAxOTA3ZWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTkxNjkwODE2MDAwMWE5MDUzNTA4MTgwNjAwMTAxOTI1MDUwODA4MDYwMDEwMTkxNTA1MDYxMjU1YzU2NWI4Mjk0NTA1MDUwNTA1MDkzOTI1MDUwNTA1NjViNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDYwMDA4MjU1ODA2MDFmMTA2MTI2NDY1NzUwNjEyNjY1NTY1YjYwMWYwMTYwMjA5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA4MTAxOTA2MTI2NjQ5MTkwNjEyN2IwNTY1YjViNTA1NjViNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDYwMDA4MjU1ODA2MDFmMTA2MTI2OGU1NzUwNjEyNmFkNTY1YjYwMWYwMTYwMjA5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA4MTAxOTA2MTI2YWM5MTkwNjEyN2IwNTY1YjViNTA1NjViODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwNjAxZjAxNjAyMDkwMDQ4MTAxOTI4MjYwMWYxMDYxMjZmMTU3ODA1MTYwZmYxOTE2ODM4MDAxMTc4NTU1NjEyNzFmNTY1YjgyODAwMTYwMDEwMTg1NTU4MjE1NjEyNzFmNTc5MTgyMDE1YjgyODExMTE1NjEyNzFlNTc4MjUxODI1NTkxNjAyMDAxOTE5MDYwMDEwMTkwNjEyNzAzNTY1YjViNTA5MDUwNjEyNzJjOTE5MDYxMjdiMDU2NWI1MDkwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MTI3NzE1NzgwNTE2MGZmMTkxNjgzODAwMTE3ODU1NTYxMjc5ZjU2NWI4MjgwMDE2MDAxMDE4NTU1ODIxNTYxMjc5ZjU3OTE4MjAxNWI4MjgxMTExNTYxMjc5ZTU3ODI1MTgyNTU5MTYwMjAwMTkxOTA2MDAxMDE5MDYxMjc4MzU2NWI1YjUwOTA1MDYxMjdhYzkxOTA2MTI3YjA1NjViNTA5MDU2NWI2MTI3ZDI5MTkwNWI4MDgyMTExNTYxMjdjZTU3NjAwMDgxNjAwMDkwNTU1MDYwMDEwMTYxMjdiNjU2NWI1MDkwNTY1YjkwNTYwMGExNjU2MjdhN2E3MjMwNTgyMDAwMTc2MzRlNjJjODU2MTk4YzljOGQyMDQ3NTZiZDllZDVlMTJjYTk3YjIzMDY4MmM2Y2M5NDFlODEzYjgxMzMwMDI5XCJcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ViRG9tYWluKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBSZXBsYWNlIGh0dHAsIGh0dHBzIGFuZCByZW1vdmUgdGhlIHBvcnRcbiAgICByZXR1cm4gdXJsPy5yZXBsYWNlKFwiaHR0cDovL1wiLCBcIlwiKS5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJcIikuc3BsaXQoXCI6XCIpWzBdO1xufSIsImltcG9ydCB7IEVESURBY2Nlc3NMZXZlbCB9IGZyb20gXCIuLi8uLi9lbnVtcy9kaWRBY2Nlc3NMZXZlbC5lbnVtXCI7XG5pbXBvcnQgeyBJZGVudGl0eSB9IGZyb20gXCIuLi8uLi9zbWFydGNvbnRyYWN0cy9pZGVudGl0eVwiO1xuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrS2V5Rm9yRGlkKHdlYjNVcmw6IHN0cmluZywgY29udHJhY3RBZGRyZXNzOiBzdHJpbmcsIHB1YmxpY0tleTogc3RyaW5nLCBrZXlUb0NoZWNrOiBFRElEQWNjZXNzTGV2ZWwpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KElkZW50aXR5LmFiaSwgY29udHJhY3RBZGRyZXNzKTtcbiAgICAgICAgY29uc3Qgc2hhQWRkcmVzcyA9IHdlYjMudXRpbHMuc2hhMyhwdWJsaWNLZXkpO1xuICAgICAgICByZXR1cm4gYXdhaXQgY29udHJhY3QubWV0aG9kcy5rZXlIYXNQdXJwb3NlKHNoYUFkZHJlc3MsIGtleVRvQ2hlY2spLmNhbGwoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkxpYnJhcnkgLSBTb21ldGhpbmcgd2VudCB3cm9uZzogXCIgKyBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59IiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgSVdlYlJUQ0NvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvd2ViUnRjQ29uZmlnLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBSVENJY2VDYW5kaWRhdGUgfSBmcm9tIFwiQGtvdXNoL3dydGNcIjtcbmltcG9ydCB7IHczY3dlYnNvY2tldCB9IGZyb20gXCJ3ZWJzb2NrZXRcIjtcbmltcG9ydCB7IE91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwiaHR0cFwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgV2ViUnRjUHJvdmlkZXIge1xuICAgIHdlYlJ0Y0NvbmZpZzogSVdlYlJUQ0NvbmZpZztcbiAgICBob3N0VXVpZDogc3RyaW5nOyAvLyBUaGUgaG9zdCBVVUlEIHRvIGNvbm5lY3QgdG8gZnJvbSB0aGUgY2xpZW50XG4gICAgcGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDsgLy8gVGhlIHBlZXIgY29ubmVjdGlvbiBiZXR3ZWVuIGNsaWVudCBhbmQgaG9zdFxuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbCA9IG51bGw7IC8vIFRoZSBkYXRhIGNoYW5uZWwgYmV0d2VlbiBjbGllbnQgYW5kIGhvc3RcbiAgICB3c0NsaWVudDogdzNjd2Vic29ja2V0ID0gbnVsbDsgLy8gVGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGJldHdlZW4gY2xpZW50IGFuZCBzaWduYWxpbmcgc2VydmVyIG9yIGhvc3QgYW5kIHNpZ25hbGluZyBzZXJ2ZXJcbiAgICByZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTsgLy8gV2hlbmV2ZXIgYW4gYWN0aW9uIGlzIHJlY2VpdmVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGFuIGV2ZW50XG4gICAgdXVpZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZSBVVUlEIGlzIHNldCwgaXQgd2lsbCBlbWl0IGFuIGV2ZW50IChzbyB0aGF0IHRoZSBob3N0IGNhbiBzZXQgaXQgc29tZXdoZXJlIGluIGxpa2UgYSBRUilcbiAgICB3ZWJzb2NrZXRNZXNzYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25PcGVuJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZXJlIGlzIGFuIGV2ZW50IG9uIHRoZSB3ZWJzb2NrZXQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAgICB3ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXJyb3IgZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0ID0gbnVsbDtcbiAgICBwb25nQ2hlY2tJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgPSBudWxsO1xuICAgIHBpbmdUaW1lb3V0OiBOb2RlSlMuVGltZW91dCA9IG51bGw7XG4gICAgV0VCU09DS0VUX1BJTkdfQU5TV0VSX0RFTEFZID0gMTAwMDtcbiAgICAvLyBUaGUgYWxsb3dlZCB0aW1lIGJlZm9yZSBhIHBpbmcgcG9uZyBpcyBtaXNzaW5nIGFuZCB0aHVzIGRpc2Nvbm5lY3RpbmcgdGhlIGNvbm5lY3Rpb25cbiAgICBXRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSA9IDMwMDA7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBXZWJSVEMgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGdldENvbmZpZygpOiBJV2ViUlRDQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2ViUnRjQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGllbnQgbmVlZHMgdG8gc2V0IHRoZSBob3N0IFVVSUQgdG8gY29ubmVjdCB0byBiZWZvcmUgc2V0dGluZyB1cCB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gaG9zdFV1aWQgVGhlIFVVSUQgb2YgdGhlIGhvc3RcbiAgICAgKi9cbiAgICBzZXRIb3N0VXVpZChob3N0VXVpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaG9zdFV1aWQgPSBob3N0VXVpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgUDJQIGRhdGEgY2hhbm5lbFxuICAgICAqIEBwYXJhbSBhY3Rpb24gQXMgYSBzdHJpbmcsIHdoaWNoIGFjdGlvbiB0eXBlIGRvIHlvdSB3YW50IHRvIHNlbmQ/XG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gc2VuZCBhcyBhbiBvYmplY3RcbiAgICAgKi9cbiAgICBzZW5kUDJQRGF0YShhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gU2VuZGluZyBhY3Rpb24gJyR7YWN0aW9ufSdgKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBXZWJzb2NrZXQgLSBBdHRlbXB0ZWQgdG8gc2VuZCBkYXRhIHdpdGggYWN0aW9uICR7YWN0aW9ufSBidXQgZGF0YSBjaGFubmVsIGlzIG5vdCBvcGVuYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICogQHBhcmFtIGFjdGlvbiBBcyBhIHN0cmluZywgd2hpY2ggYWN0aW9uIHR5cGUgZG8geW91IHdhbnQgdG8gc2VuZD9cbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBzZW5kIGFzIGFuIG9iamVjdFxuICAgICAqL1xuICAgIHNlbmRXZWJzb2NrZXREYXRhKGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMud3NDbGllbnQgJiYgdGhpcy53c0NsaWVudC5yZWFkeVN0YXRlID09PSB0aGlzLndzQ2xpZW50Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFdlYnNvY2tldCAtIEF0dGVtcHRlZCB0byBzZW5kIGRhdGEgd2l0aCBhY3Rpb24gJHthY3Rpb259IGJ1dCB3ZWJzb2NrZXQgY2hhbm5lbCBpcyBub3Qgb3BlbmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0V2Vic29ja2V0KCk6IHczY3dlYnNvY2tldCB7XG4gICAgICAgIHJldHVybiB0aGlzLndzQ2xpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW5ldmVyIHRoZSBVVUlEIGlzIHNldCBmcm9tIHRoZSBob3N0IHRoaXMgb2JzZXJ2YWJsZSBlbWl0c1xuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGFsbG93IGNsaWVudHMgY29ubmVjIHRvXG4gICAgICovXG4gICAgc2V0VXVpZCh1dWlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51dWlkJC5uZXh0KHV1aWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ubHkgZGlzY29ubmVjdCBvbiB0aGlzIGFwcGxpY2F0aW9uIGFuZCBzZW5kIG5vIGRpc2Nvbm5lY3Qgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53c0NsaWVudCkge1xuXG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50Lm9uY2xvc2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy53c0NsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dChmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBvbiB0aGlzIGFwcGxpY2F0aW9uIGFuZCBzZW5kIGEgZGlzY29ubmVjdCBldmVudCBvdmVyIHRoZSBkYXRhY2hhbm5lbFxuICAgICAqL1xuICAgIHJlbW90ZURpc2Nvbm5lY3QoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbjogXCJkaXNjb25uZWN0XCIgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IElzIG9uZSBzZWNvbmQgZW5vdWdoP1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9LCAxMDAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IHdpbGwgc2VuZCBhbiBvZmZlciB3aGVuIGEgY2xpZW50IGNvbm5lY3RzIHRvIGhpcyBVVUlEXG4gICAgICogQHBhcmFtIHBlZXJDb25uZWN0aW9uIFRoZSBwZWVyIGNvbm5lY3Rpb24gdG8gc2V0IHRoZSBsb2NhbCBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB3c0NsaWVudCBUaGUgd2Vic29ja2V0IHRvIHNlbmQgdGhlIG9mZmVyIHRvXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE9mZmVyKHBlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiwgd3NDbGllbnQ6IHczY3dlYnNvY2tldCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgICB3c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgIG9mZmVyXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGxhdW5jaCB0aGUgd2Vic29ja2V0IGFuZCBsaXN0ZW4gdG8gZXZlbnRzXG4gICAgICovXG4gICAgYXN5bmMgbGF1bmNoV2Vic29ja2V0Q2xpZW50KHdlYlJ0Y0NvbmZpZzogSVdlYlJUQ0NvbmZpZywgaGVhZGVycz86IE91dGdvaW5nSHR0cEhlYWRlcnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy53ZWJSdGNDb25maWcgPSB3ZWJSdGNDb25maWc7XG5cbiAgICAgICAgbGV0IGNvbm5lY3Rpb25TdWNjZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV1aWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRNZXNzYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG5cbiAgICAgICAgbGV0IHNpZ25hbGluZ1VybCA9IHRoaXMud2ViUnRjQ29uZmlnLnNpZ25hbGluZ1VybDtcbiAgICAgICAgaWYgKCFzaWduYWxpbmdVcmwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoIHdlYnNvY2tldCAtIFVSTCB1bmRlZmluZWQsIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0XCIpO1xuICAgICAgICAgICAgc2lnbmFsaW5nVXJsID0gXCJ3c3M6Ly9hdXRoLnByb29mbWUuaWRcIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIkxhdW5jaCB3ZWJzb2NrZXQgLSBDbGllbnQgVVJMOlwiLCBzaWduYWxpbmdVcmwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkxhdW5jaCB3ZWJzb2NrZXQgLSBDaGFubmVsOlwiLCB3ZWJSdGNDb25maWcuY2hhbm5lbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoIHdlYnNvY2tldCAtIEhlYWRlcnM6XCIsIGhlYWRlcnMpO1xuICAgICAgICBsZXQgdXJsID0gbnVsbDtcbiAgICAgICAgLy8gSWYgaXQgYWxyZWFkeSBoYXMgcXVlcmllcywgYXBwZW5kXG4gICAgICAgIGlmIChzaWduYWxpbmdVcmwuaW5jbHVkZXMoXCI/XCIpKSB7XG4gICAgICAgICAgICB1cmwgPSBgJHtzaWduYWxpbmdVcmx9JmNoYW5uZWw9JHt3ZWJSdGNDb25maWcuY2hhbm5lbH1gO1xuICAgICAgICAvLyBJZiBpdCBkb2VzIG5vdCB5ZXQgaGF2ZSBxdWVyaWVzLCBzdGFydCB3aXRoIGl0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSBgJHtzaWduYWxpbmdVcmx9P2NoYW5uZWw9JHt3ZWJSdGNDb25maWcuY2hhbm5lbH1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWJSdGNDb25maWcuZGF0YSkge1xuICAgICAgICAgICAgdXJsID0gYCR7dXJsfSZkYXRhPSR7d2ViUnRjQ29uZmlnLmRhdGF9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2ViUnRjQ29uZmlnLmtlZXBhbGl2ZSkge1xuICAgICAgICAgICAgdXJsID0gYCR7dXJsfSZrZWVwYWxpdmU9JHt3ZWJSdGNDb25maWcua2VlcGFsaXZlfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53c0NsaWVudCA9IG5ldyB3M2N3ZWJzb2NrZXQodXJsLCBudWxsLCBudWxsLCBoZWFkZXJzKTtcbiAgICAgICAgLy8gU28gaWYgdGhlcmUgaXMgbm90IGEgc3VjY2VzcyBjb25uZWN0aW9uIGFmdGVyIDEwIHNlY29uZHMsIGNsb3NlIHRoZSBzb2NrZXQgYW5kIHNlbmQgYW4gZXJyb3JcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25TdWNjZXNzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9uZXJyb3IgPSAoZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBFcnJvcjogXCIgKyBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJC5uZXh0KHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53c0NsaWVudC5vbmNsb3NlID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IC0gQ29ubmVjdGlvbiBjbG9zZWRcIik7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3NDbGllbnQub25vcGVuID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IC0gQ29ubmVjdGlvbiBvcGVuXCIpO1xuICAgICAgICAgICAgY29ubmVjdGlvblN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9ubWVzc2FnZSA9IChhc3luYyBtc2cgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBNZXNzYWdlOlwiLCBtc2cpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRNZXNzYWdlJC5uZXh0KG1zZyk7XG4gICAgICAgICAgICBpZiAobXNnLmRhdGEpIHtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhOiBhbnk7XG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiV2Vic29ja2V0IC0gTWVzc2FnZSB3YXMgbm90IEpTT05cIik7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBtZXNzYWdlLCBzdWNjZXNzLCBjaGFubmVsSWQsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSwgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZyB9ID0gZGF0YTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIEVycm9yIG1lc3NhZ2U6XCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT0gXCJDb21tYW5kIG5vdCBmb3VuZDogcGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdlYnNvY2tldCAtIFBpbmcgcG9uZyB0b29rIG1vcmUgdGhhbiAke3RoaXMuV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUV9bXMuIERpc2Nvbm5lY3RpbmdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGNvbm5lY3RlZCB0byB0aGUgU2lnbmFsaW5nIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhUcmllcyA9IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gMSAmJiB0cmllcyA8IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFwcGxpY2F0aW9uIGlzIHRoZSBob3N0LCBzZW5kIGEgaG9zdCByZXF1ZXN0IHRvIHJlY2VpdmUgYSBVVUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJob3N0XCIgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWVzID49IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmllcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhUcmllcyA9IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gMSAmJiB0cmllcyA8IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdCB0aGUgaG9zdCwgc2VuZCBhIGNvbm5lY3QgcmVxdWVzdCB3aXRoIHRoZSBob3N0IFVVSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNvbm5lY3RcIiwgaG9zdDogdGhpcy5ob3N0VXVpZCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZXMgPj0gbWF4VHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHNvIG5vIG5lZWQgdG8gY2hlY2sgb24gdGhlIHBpbmcgcG9uZyBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb25nQ2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGhvc3QgcmVjZWl2ZWQgYW4gVVVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxJZCAmJiB0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRPZmZlcih0aGlzLnBlZXJDb25uZWN0aW9uLCB0aGlzLndzQ2xpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicG9uZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb25nQ2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZmVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXBwbGljYXRpb24gaXMgbm90IHRoZSBob3N0LCBpdCByZWNlaXZlcyBhbiBvZmZlciB3aGVuZXZlciBhIGNsaWVudCBjb25uZWN0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjbGllbnQgd2lsbCBzZW5kIGFuIGFuc3dlciBiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2ZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ob2ZmZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0QW5zd2VyID0gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaG9zdEFuc3dlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBob3N0QW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuZXZlciB0aGUgaG9zdCByZWNlaXZlcyBhIGhvc3QgcmVxdWVzdCBiYWNrLCBzZXQgdGhlIFVVSUQgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsSWQgJiYgdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRVdWlkKGNoYW5uZWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnID0gd2ViUnRjQ29ubmVjdGlvbkNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKGNoYW5uZWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGhvc3Qgb3IgY2xpZW50IGxlYXZlcyBzZXR1cCBhIG5ldyBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFV1aWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHdpbGwgc2VuZCBhbiBhbnN3ZXIgYW5kIHRoZSBob3N0IHdpbGwgc2V0IGl0IGFzIGEgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oYW5zd2VyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNhbmRpZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gcmVjZWl2aW5nIGFuIGNhbmRpZGF0ZSBmcm9tIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRDYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2xpZW50Q2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xpZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRPZmZlcih0aGlzLnBlZXJDb25uZWN0aW9uLCB0aGlzLndzQ2xpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiV2Vic29ja2V0IG9ubWVzc2FnZSBkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZW5kUGluZygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVhZHkgc3RhdGUgMSA9IG9wZW5cbiAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50LnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBpbmdcIlxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0dXAgdGhlIHBlZXJjb25uZWN0aW9uIGFuZCBkYXRhY2hhbm5lbFxuICAgICAqIEl0IHdpbGwgYWxzbyBlbWl0IHJlY2VpdmVkIGFjdGlvbnMgb3ZlciBhbiBvYnNlcnZhYmxlXG4gICAgICogQHBhcmFtIHV1aWQgVGhlIFVVSUQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNldHVwUGVlcmNvbm5lY3Rpb24odXVpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcblxuICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbCh1dWlkKTtcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUDJQIC0gTWVzc2FnZSBpbnZhbGlkIEpTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kUDJQRGF0YShcImNsaWVudGNvbm5lY3RlZFwiLCB7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImxlYXZlXCIgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGV2ZW50LmNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBlcnJvciBiZWNhdXNlIGl0IGNhbm5vdCBhZGQgaXRzZWxmLCBpdCB3aWxsIHNlbmQgb3ZlciB3ZWJzb2NrZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjYW5kaWRhdGVcIiwgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldHVwIHRoZSBwZWVyY29ubmVjdGlvbiBhbmQgZGF0YWNoYW5uZWxcbiAgICAgKiBJdCB3aWxsIGFsc28gZW1pdCByZWNlaXZlZCBhY3Rpb25zIG92ZXIgYW4gb2JzZXJ2YWJsZVxuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyBzZXR1cENsaWVudFBlZXJjb25uZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUDJQIC0gTWVzc2FnZSBpbnZhbGlkIEpTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kUDJQRGF0YShcImNsaWVudGNvbm5lY3RlZFwiLCB7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImxlYXZlXCIgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGV2ZW50LmNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBlcnJvciBiZWNhdXNlIGl0IGNhbm5vdCBhZGQgaXRzZWxmLCBpdCB3aWxsIHNlbmQgb3ZlciB3ZWJzb2NrZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjYW5kaWRhdGVcIiwgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFJUQ0ljZUNhbmRpZGF0ZSwgUlRDUGVlckNvbm5lY3Rpb24sIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgUlRDRGF0YUNoYW5uZWwgfSBmcm9tIFwiQGtvdXNoL3dydGNcIjtcbmltcG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvY29ubmVjdGlvbkRldGFpbHNcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBXZWJSVENDbGllbnRWMiB7XG5cbiAgICBwZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb24gPSBudWxsO1xuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbCA9IG51bGw7XG4gICAgY2xpZW50Q2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzO1xuICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscztcbiAgICBob3N0V3NDb25uZWN0aW9uOiBJQ29ubmVjdGlvbkRldGFpbHM7XG4gICAgYWN0aW9uVHlwZTogc3RyaW5nO1xuICAgIGRhdGFDaGFubmVsT3BlbiQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuICAgIGRhdGFDaGFubmVsTWVzc2FnZSQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XG4gICAgZGF0YTogYW55O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb24sXG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsXG4gICAgICAgIGhvc3RXc0Nvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscyxcbiAgICAgICAgYWN0aW9uVHlwZTogc3RyaW5nLFxuICAgICAgICBkYXRhOiBhbnlcbiAgICApIHtcbiAgICAgICAgdGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnID0gd2ViUnRjQ29ubmVjdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRDcmVkZW50aWFscyA9IHJlcXVlc3RlZENyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmhvc3RXc0Nvbm5lY3Rpb24gPSBob3N0V3NDb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBhY3Rpb25UeXBlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0dXAgdGhlIHBlZXJjb25uZWN0aW9uIGFuZCBkYXRhY2hhbm5lbFxuICAgICAqIEl0IHdpbGwgYWxzbyBlbWl0IHJlY2VpdmVkIGFjdGlvbnMgb3ZlciBhbiBvYnNlcnZhYmxlXG4gICAgICogQHBhcmFtIHV1aWQgVGhlIFVVSUQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNldHVwUGVlcmNvbm5lY3Rpb24oY2hhbm5lbFV1aWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgIHRoaXMuZGF0YUNoYW5uZWwgPSB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKGNoYW5uZWxVdWlkKTtcblxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2VjYW5kaWRhdGVcIiwgYXN5bmMgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoZXZlbnQuY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbGVuY2UgdGhpcyBlcnJvci4gQSBsb3Qgb2YgY2FuZGlkYXRlcyBjYW4ndCBiZSBhZGRlZCBhbmQgdGhhdHMgZmluZTsgdGhhdCdzIHdoeSB3ZSBoYXZlIG11bHRpcGxlIGNhbmRpZGF0ZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnRDaGFubmVsLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNhbmRpZGF0ZVwiLCBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFjaGFubmVsXCIsIGRhdGFDaGFubmVsRXZlbnQgPT4ge1xuICAgICAgICAgICAgZGF0YUNoYW5uZWxFdmVudC5jaGFubmVsLm9ubWVzc2FnZSA9IChhc3luYyBtZXNzYWdlRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2VFdmVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsTWVzc2FnZSQubmV4dChwYXJzZWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IHBhcnNlIG1lc3NhZ2U6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbEV2ZW50LmNoYW5uZWwub25vcGVuID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlicmFyeSAtIERhdGFjaGFubmVsIGNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3RXc0Nvbm5lY3Rpb24uc2VuZFVURihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpZW50Y29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsT3BlbiQubmV4dCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGF0YUNoYW5uZWxFdmVudC5jaGFubmVsLm9uY2xvc2UgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlicmFyeSAtIERhdGFjaGFubmVsIG9uY2xvc2U6XCIsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9zdFdzQ29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkaXNjb25uZWN0XCJcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9zdCB3aWxsIHNlbmQgYW4gb2ZmZXIgd2hlbiBhIGNsaWVudCBjb25uZWN0cyB0byBoaXMgVVVJRFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRPZmZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgIHRoaXMuY2xpZW50Q2hhbm5lbC5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgIG9mZmVyXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICogQHBhcmFtIGFjdGlvbiBBcyBhIHN0cmluZywgd2hpY2ggYWN0aW9uIHR5cGUgZG8geW91IHdhbnQgdG8gc2VuZD9cbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBzZW5kIGFzIGFuIG9iamVjdFxuICAgICAqL1xuICAgICBzZW5kUDJQRGF0YShhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gU2VuZGluZyBhY3Rpb24gJyR7YWN0aW9ufSdgKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBMaWJyYXJ5IC0gQXR0ZW1wdGVkIHRvIHNlbmQgZGF0YSB3aXRoIGFjdGlvbiAke2FjdGlvbn0gYnV0IGRhdGEgY2hhbm5lbCBpcyBub3Qgb3BlbmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVtb3RlIGRlc2NyaXB0aW9uIG9mIHRoZSBvdGhlciBzaWRlXG4gICAgICogQHBhcmFtIHJlbW90ZURlc2NyaXB0aW9uIENhbiBiZSBvZmZlciBvciBhbnN3ZXIgZGVwZW5kaW5nIG9uIHRoZSBjbGllbnQgLyBob3N0XG4gICAgICovXG4gICAgYXN5bmMgc2V0UmVtb3RlRGVzY3JpcHRpb24ocmVtb3RlRGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ocmVtb3RlRGVzY3JpcHRpb24pKTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRDYW5kaWRhdGUoY2FuZGlkYXRlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudENhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNsaWVudENhbmRpZGF0ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNlbmRBbnN3ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGhvc3RBbnN3ZXIgPSBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO1xuICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaG9zdEFuc3dlcik7XG4gICAgICAgIHRoaXMuY2xpZW50Q2hhbm5lbC5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICBhbnN3ZXI6IGhvc3RBbnN3ZXJcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb3VzaC93cnRjXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3ZWIzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYnNvY2tldFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3c1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInRzbGliXCIpOyIsImV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi9pc0Z1bmN0aW9uXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLnRoZW4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFcnJvckNsYXNzKGNyZWF0ZUltcGwpIHtcbiAgICB2YXIgX3N1cGVyID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgIEVycm9yLmNhbGwoaW5zdGFuY2UpO1xuICAgICAgICBpbnN0YW5jZS5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgIH07XG4gICAgdmFyIGN0b3JGdW5jID0gY3JlYXRlSW1wbChfc3VwZXIpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yRnVuYztcbiAgICByZXR1cm4gY3RvckZ1bmM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVFcnJvckNsYXNzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yc1xuICAgICAgICAgICAgPyBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKVxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBhcnJSZW1vdmUoYXJyLCBpdGVtKSB7XG4gICAgaWYgKGFycikge1xuICAgICAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgMCA8PSBpbmRleCAmJiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJSZW1vdmUuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5LCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuL3V0aWwvYXJyUmVtb3ZlJztcbnZhciBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihpbml0aWFsVGVhcmRvd24pIHtcbiAgICAgICAgdGhpcy5pbml0aWFsVGVhcmRvd24gPSBpbml0aWFsVGVhcmRvd247XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RlYXJkb3ducyA9IG51bGw7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgICAgIGlmIChfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcmVudGFnZV8xID0gX192YWx1ZXMoX3BhcmVudGFnZSksIF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKTsgIV9wYXJlbnRhZ2VfMV8xLmRvbmU7IF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRhZ2VfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2VfMV8xICYmICFfcGFyZW50YWdlXzFfMS5kb25lICYmIChfYSA9IF9wYXJlbnRhZ2VfMS5yZXR1cm4pKSBfYS5jYWxsKF9wYXJlbnRhZ2VfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbml0aWFsVGVhcmRvd24gPSB0aGlzLmluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxUZWFyZG93bikpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVGVhcmRvd24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3RlYXJkb3ducyA9IHRoaXMuX3RlYXJkb3ducztcbiAgICAgICAgICAgIGlmIChfdGVhcmRvd25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGVhcmRvd25zID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfdGVhcmRvd25zXzEgPSBfX3ZhbHVlcyhfdGVhcmRvd25zKSwgX3RlYXJkb3duc18xXzEgPSBfdGVhcmRvd25zXzEubmV4dCgpOyAhX3RlYXJkb3duc18xXzEuZG9uZTsgX3RlYXJkb3duc18xXzEgPSBfdGVhcmRvd25zXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVhcmRvd25fMSA9IF90ZWFyZG93bnNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjVGVhcmRvd24odGVhcmRvd25fMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICE9PSBudWxsICYmIGVycm9ycyAhPT0gdm9pZCAwID8gZXJyb3JzIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoZXJyb3JzKSksIF9fcmVhZChlcnIuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90ZWFyZG93bnNfMV8xICYmICFfdGVhcmRvd25zXzFfMS5kb25lICYmIChfYiA9IF90ZWFyZG93bnNfMS5yZXR1cm4pKSBfYi5jYWxsKF90ZWFyZG93bnNfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZXhlY1RlYXJkb3duKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fdGVhcmRvd25zID0gKF9hID0gdGhpcy5fdGVhcmRvd25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2hhc1BhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgPyAoX3BhcmVudGFnZS5wdXNoKHBhcmVudCksIF9wYXJlbnRhZ2UpIDogX3BhcmVudGFnZSA/IFtfcGFyZW50YWdlLCBwYXJlbnRdIDogcGFyZW50O1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICBhcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF90ZWFyZG93bnMgPSB0aGlzLl90ZWFyZG93bnM7XG4gICAgICAgIF90ZWFyZG93bnMgJiYgYXJyUmVtb3ZlKF90ZWFyZG93bnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5leHBvcnQgdmFyIEVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmFkZCkgJiYgaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcbn1cbmZ1bmN0aW9uIGV4ZWNUZWFyZG93bih0ZWFyZG93bikge1xuICAgIGlmIChpc0Z1bmN0aW9uKHRlYXJkb3duKSkge1xuICAgICAgICB0ZWFyZG93bigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGVhcmRvd24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb246IG51bGwsXG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGZhbHNlLFxuICAgIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogZmFsc2UsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IHZhciB0aW1lb3V0UHJvdmlkZXIgPSB7XG4gICAgc2V0VGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IHRpbWVvdXRQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuICgoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnNldFRpbWVvdXQpIHx8IHNldFRpbWVvdXQpLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyKSB7XG4gICAgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb25VbmhhbmRsZWRFcnJvciA9IGNvbmZpZy5vblVuaGFuZGxlZEVycm9yO1xuICAgICAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBvcnRVbmhhbmRsZWRFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXAiLCJleHBvcnQgdmFyIENPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gbmV4dE5vdGlmaWNhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSwgdW5kZWZpbmVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xudmFyIGNvbnRleHQgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yQ29udGV4dChjYikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUVycm9yKGVycikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICBjb250ZXh0LmVycm9yID0gZXJyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yQ29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7IG5leHROb3RpZmljYXRpb24sIGVycm9yTm90aWZpY2F0aW9uLCBDT01QTEVURV9OT1RJRklDQVRJT04gfSBmcm9tICcuL05vdGlmaWNhdGlvbkZhY3Rvcmllcyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xuaW1wb3J0IHsgY2FwdHVyZUVycm9yIH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IEVNUFRZX09CU0VSVkVSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5leHROb3RpZmljYXRpb24odmFsdWUpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKGVycm9yTm90aWZpY2F0aW9uKGVyciksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihDT01QTEVURV9OT1RJRklDQVRJT04sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cbnZhciBDb25zdW1lck9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xuICAgICAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHBhcnRpYWxPYnNlcnZlcjtcbiAgICB9XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcbn0oKSk7XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCAhb2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICBuZXh0OiBvYnNlcnZlck9yTmV4dCAhPT0gbnVsbCAmJiBvYnNlcnZlck9yTmV4dCAhPT0gdm9pZCAwID8gb2JzZXJ2ZXJPck5leHQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yICE9PSBudWxsICYmIGVycm9yICE9PSB2b2lkIDAgPyBlcnJvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogY29tcGxldGUgIT09IG51bGwgJiYgY29tcGxldGUgIT09IHZvaWQgMCA/IGNvbXBsZXRlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzE7XG4gICAgICAgICAgICBpZiAoX3RoaXMgJiYgY29uZmlnLnVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMSA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVuc3Vic2NyaWJlKCk7IH07XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiBvYnNlcnZlck9yTmV4dC5uZXh0ICYmIGJpbmQob2JzZXJ2ZXJPck5leHQubmV4dCwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG9ic2VydmVyT3JOZXh0LmVycm9yICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuZXJyb3IsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuZnVuY3Rpb24gaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JIYW5kbGVyKGVycikge1xuICAgIHRocm93IGVycjtcbn1cbmZ1bmN0aW9uIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKSB7XG4gICAgdmFyIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiA9IGNvbmZpZy5vblN0b3BwZWROb3RpZmljYXRpb247XG4gICAgb25TdG9wcGVkTm90aWZpY2F0aW9uICYmIHRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpOyB9KTtcbn1cbmV4cG9ydCB2YXIgRU1QVFlfT0JTRVJWRVIgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IG5vb3AsXG4gICAgZXJyb3I6IGRlZmF1bHRFcnJvckhhbmRsZXIsXG4gICAgY29tcGxldGU6IG5vb3AsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXAiLCJleHBvcnQgdmFyIG9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUpIHx8ICdAQG9ic2VydmFibGUnOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwIiwiaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xudmFyIE9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBpc1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQpID8gb2JzZXJ2ZXJPck5leHQgOiBuZXcgU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcywgb3BlcmF0b3IgPSBfYS5vcGVyYXRvciwgc291cmNlID0gX2Euc291cmNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3JcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yLmNhbGwoc3Vic2NyaWJlciwgc291cmNlKVxuICAgICAgICAgICAgICAgIDogc291cmNlXG4gICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHJlc29sdmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh2YWx1ZSA9IHgpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBwcm9taXNlQ3RvciAhPT0gbnVsbCAmJiBwcm9taXNlQ3RvciAhPT0gdm9pZCAwID8gcHJvbWlzZUN0b3IgOiBjb25maWcuUHJvbWlzZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cbmZ1bmN0aW9uIGlzU3Vic2NyaWJlcih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXAiLCJpbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0ludGVyb3BPYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3IgJiYgaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIiArIChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgaW5wdXQgKyBcIidcIikgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLlwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93VW5vYnNlcnZhYmxlRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0b3IuanMubWFwIiwiaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IF9fYXN5bmNHZW5lcmF0b3IsIF9fYXdhaXQsIF9fZ2VuZXJhdG9yIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yXzEoKSB7XG4gICAgICAgIHZhciByZWFkZXIsIF9hLCB2YWx1ZSwgZG9uZTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgLCA5LCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRydWUpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdChyZWFkZXIucmVhZCgpKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9uZSkgcmV0dXJuIFszLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHZvaWQgMCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFs0LCBfX2F3YWl0KHZhbHVlKV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzQsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMl07XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzMsIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW1MaWtlKG9iaikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5nZXRSZWFkZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY1ZhbHVlcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0ludGVyb3BPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIH0gZnJvbSAnLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UsIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FzeW5jSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSW50ZXJvcE9ic2VydmFibGUob2JqKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9icy5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheUxpa2UoYXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Qcm9taXNlKHByb21pc2UpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIHJlcG9ydFVuaGFuZGxlZEVycm9yKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVyYWJsZV8xID0gX192YWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKTsgIWl0ZXJhYmxlXzFfMS5kb25lOyBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmFibGVfMV8xICYmICFpdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBpdGVyYWJsZV8xLnJldHVybikpIF9hLmNhbGwoaXRlcmFibGVfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Bc3luY0l0ZXJhYmxlKGFzeW5jSXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUocmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkpO1xufVxuZnVuY3Rpb24gcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKSB7XG4gICAgdmFyIGFzeW5jSXRlcmFibGVfMSwgYXN5bmNJdGVyYWJsZV8xXzE7XG4gICAgdmFyIGVfMiwgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUsIGVfMl8xO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzAsIDUsIDYsIDExXSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSXRlcmFibGVfMSA9IF9fYXN5bmNWYWx1ZXMoYXN5bmNJdGVyYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbNCwgYXN5bmNJdGVyYWJsZV8xLm5leHQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSA9IF9iLnNlbnQoKSwgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUpKSByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFzeW5jSXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFszLCAxXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgZV8yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs2LCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xICYmICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGFzeW5jSXRlcmFibGVfMS5yZXR1cm4pKSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfYS5jYWxsKGFzeW5jSXRlcmFibGVfMSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDg7XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzMsIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbm5lckZyb20uanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaGFzTGlmdChzb3VyY2UpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UubGlmdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gb3BlcmF0ZShpbml0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uIChsaWZ0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWZ0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSk7XG59XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3BlcmF0b3JTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplLCBzaG91bGRVbnN1YnNjcmliZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub25GaW5hbGl6ZSA9IG9uRmluYWxpemU7XG4gICAgICAgIF90aGlzLnNob3VsZFVuc3Vic2NyaWJlID0gc2hvdWxkVW5zdWJzY3JpYmU7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gb25OZXh0XG4gICAgICAgICAgICA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9uTmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX25leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IG9uRXJyb3JcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IG9uQ29tcGxldGVcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT3BlcmF0b3JTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkVW5zdWJzY3JpYmUgfHwgdGhpcy5zaG91bGRVbnN1YnNjcmliZSgpKSB7XG4gICAgICAgICAgICB2YXIgY2xvc2VkXzEgPSB0aGlzLmNsb3NlZDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICFjbG9zZWRfMSAmJiAoKF9hID0gdGhpcy5vbkZpbmFsaXplKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBPcGVyYXRvclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE9wZXJhdG9yU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3BlcmF0b3JTdWJzY3JpYmVyLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgRU1QVFkgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTtcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSA6IEVNUFRZO1xufVxuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbXB0eS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgRU1QVFlfU1VCU0NSSVBUSU9OIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgICAgICBzdWJqZWN0Lm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3Rocm93SWZDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgX3RoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvcHkgPSBfdGhpcy5vYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjb3B5XzEgPSBfX3ZhbHVlcyhjb3B5KSwgY29weV8xXzEgPSBjb3B5XzEubmV4dCgpOyAhY29weV8xXzEuZG9uZTsgY29weV8xXzEgPSBjb3B5XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBjb3B5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29weV8xXzEgJiYgIWNvcHlfMV8xLmRvbmUgJiYgKF9hID0gY29weV8xLnJldHVybikpIF9hLmNhbGwoY29weV8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBfdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ViamVjdC5wcm90b3R5cGUsIFwib2JzZXJ2ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5vYnNlcnZlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhhc0Vycm9yID0gX2EuaGFzRXJyb3IsIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZCwgb2JzZXJ2ZXJzID0gX2Eub2JzZXJ2ZXJzO1xuICAgICAgICByZXR1cm4gaGFzRXJyb3IgfHwgaXNTdG9wcGVkXG4gICAgICAgICAgICA/IEVNUFRZX1NVQlNDUklQVElPTlxuICAgICAgICAgICAgOiAob2JzZXJ2ZXJzLnB1c2goc3Vic2NyaWJlciksIG5ldyBTdWJzY3JpcHRpb24oZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJyUmVtb3ZlKG9ic2VydmVycywgc3Vic2NyaWJlcik7IH0pKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgdGhyb3duRXJyb3IgPSBfYS50aHJvd25FcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhyb3duRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW5vbnltb3VzU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5leHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVycm9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgZXJyKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29tcGxldGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IEVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9O1xuICAgIHJldHVybiBBbm9ueW1vdXNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBBbm9ueW1vdXNTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgeyB0YWtlIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3Rha2UnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBfYSA9IG9wdGlvbnMuY29ubmVjdG9yLCBjb25uZWN0b3IgPSBfYSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFN1YmplY3QoKTsgfSA6IF9hLCBfYiA9IG9wdGlvbnMucmVzZXRPbkVycm9yLCByZXNldE9uRXJyb3IgPSBfYiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9iLCBfYyA9IG9wdGlvbnMucmVzZXRPbkNvbXBsZXRlLCByZXNldE9uQ29tcGxldGUgPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBfZCA9IG9wdGlvbnMucmVzZXRPblJlZkNvdW50WmVybywgcmVzZXRPblJlZkNvdW50WmVybyA9IF9kID09PSB2b2lkIDAgPyB0cnVlIDogX2Q7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh3cmFwcGVyU291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIHJlc2V0Q29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZkNvdW50ID0gMDtcbiAgICAgICAgdmFyIGhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzRXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY2FuY2VsUmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPT09IG51bGwgfHwgcmVzZXRDb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNldENvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uID0gc3ViamVjdCA9IG51bGw7XG4gICAgICAgICAgICBoYXNDb21wbGV0ZWQgPSBoYXNFcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNldEFuZFVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbm4gPSBjb25uZWN0aW9uO1xuICAgICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgICAgIGNvbm4gPT09IG51bGwgfHwgY29ubiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29ubi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZWZDb3VudCsrO1xuICAgICAgICAgICAgaWYgKCFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRlc3QgPSAoc3ViamVjdCA9IHN1YmplY3QgIT09IG51bGwgJiYgc3ViamVjdCAhPT0gdm9pZCAwID8gc3ViamVjdCA6IGNvbm5lY3RvcigpKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWZDb3VudC0tO1xuICAgICAgICAgICAgICAgIGlmIChyZWZDb3VudCA9PT0gMCAmJiAhaGFzRXJyb3JlZCAmJiAhaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0QW5kVW5zdWJzY3JpYmUsIHJlc2V0T25SZWZDb3VudFplcm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVzdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBkZXN0Lm5leHQodmFsdWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25FcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnJvbShzb3VyY2UpLnN1YnNjcmliZShjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkod3JhcHBlclNvdXJjZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVJlc2V0KHJlc2V0LCBvbikge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKG9uID09PSB0cnVlKSB7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAob24gPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gb24uYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKS5waXBlKHRha2UoMSkpXG4gICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzZXQoKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2VtcHR5JztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2UoY291bnQpIHtcbiAgICByZXR1cm4gY291bnQgPD0gMFxuICAgICAgICA/XG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBFTVBUWTsgfVxuICAgICAgICA6IG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHNlZW4gPSAwO1xuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCsrc2VlbiA8PSBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPD0gc2Vlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2UuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFyIHYxMy4yLjZcbiAqIChjKSAyMDEwLTIwMjIgR29vZ2xlIExMQy4gaHR0cHM6Ly9hbmd1bGFyLmlvL1xuICogTGljZW5zZTogTUlUXG4gKi9cblxuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uLCBPYnNlcnZhYmxlLCBtZXJnZSBhcyBtZXJnZSQxIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBzaGFyZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KG9ialdpdGhQcm9wZXJ0eVRvRXh0cmFjdCkge1xuICAgIGZvciAobGV0IGtleSBpbiBvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QpIHtcbiAgICAgICAgaWYgKG9ialdpdGhQcm9wZXJ0eVRvRXh0cmFjdFtrZXldID09PSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKCdDb3VsZCBub3QgZmluZCByZW5hbWVkIHByb3BlcnR5IG9uIHRhcmdldCBvYmplY3QuJyk7XG59XG4vKipcbiAqIFNldHMgcHJvcGVydGllcyBvbiBhIHRhcmdldCBvYmplY3QgZnJvbSBhIHNvdXJjZSBvYmplY3QsIGJ1dCBvbmx5IGlmXG4gKiB0aGUgcHJvcGVydHkgZG9lc24ndCBhbHJlYWR5IGV4aXN0IG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IHRvIHNldCBwcm9wZXJ0aWVzIG9uXG4gKiBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2YgdGhlIHByb3BlcnR5IGtleXMgYW5kIHZhbHVlcyB0byBzZXRcbiAqL1xuZnVuY3Rpb24gZmlsbFByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnkodG9rZW4pIHtcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xuICAgICAgICByZXR1cm4gJ1snICsgdG9rZW4ubWFwKHN0cmluZ2lmeSkuam9pbignLCAnKSArICddJztcbiAgICB9XG4gICAgaWYgKHRva2VuID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdG9rZW47XG4gICAgfVxuICAgIGlmICh0b2tlbi5vdmVycmlkZGVuTmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7dG9rZW4ub3ZlcnJpZGRlbk5hbWV9YDtcbiAgICB9XG4gICAgaWYgKHRva2VuLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGAke3Rva2VuLm5hbWV9YDtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gdG9rZW4udG9TdHJpbmcoKTtcbiAgICBpZiAocmVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnICsgcmVzO1xuICAgIH1cbiAgICBjb25zdCBuZXdMaW5lSW5kZXggPSByZXMuaW5kZXhPZignXFxuJyk7XG4gICAgcmV0dXJuIG5ld0xpbmVJbmRleCA9PT0gLTEgPyByZXMgOiByZXMuc3Vic3RyaW5nKDAsIG5ld0xpbmVJbmRleCk7XG59XG4vKipcbiAqIENvbmNhdGVuYXRlcyB0d28gc3RyaW5ncyB3aXRoIHNlcGFyYXRvciwgYWxsb2NhdGluZyBuZXcgc3RyaW5ncyBvbmx5IHdoZW4gbmVjZXNzYXJ5LlxuICpcbiAqIEBwYXJhbSBiZWZvcmUgYmVmb3JlIHN0cmluZy5cbiAqIEBwYXJhbSBzZXBhcmF0b3Igc2VwYXJhdG9yIHN0cmluZy5cbiAqIEBwYXJhbSBhZnRlciBhZnRlciBzdHJpbmcuXG4gKiBAcmV0dXJucyBjb25jYXRlbmF0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBjb25jYXRTdHJpbmdzV2l0aFNwYWNlKGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICByZXR1cm4gKGJlZm9yZSA9PSBudWxsIHx8IGJlZm9yZSA9PT0gJycpID9cbiAgICAgICAgKGFmdGVyID09PSBudWxsID8gJycgOiBhZnRlcikgOlxuICAgICAgICAoKGFmdGVyID09IG51bGwgfHwgYWZ0ZXIgPT09ICcnKSA/IGJlZm9yZSA6IGJlZm9yZSArICcgJyArIGFmdGVyKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfX2ZvcndhcmRfcmVmX18gPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgX19mb3J3YXJkX3JlZl9fOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLyoqXG4gKiBBbGxvd3MgdG8gcmVmZXIgdG8gcmVmZXJlbmNlcyB3aGljaCBhcmUgbm90IHlldCBkZWZpbmVkLlxuICpcbiAqIEZvciBpbnN0YW5jZSwgYGZvcndhcmRSZWZgIGlzIHVzZWQgd2hlbiB0aGUgYHRva2VuYCB3aGljaCB3ZSBuZWVkIHRvIHJlZmVyIHRvIGZvciB0aGUgcHVycG9zZXMgb2ZcbiAqIERJIGlzIGRlY2xhcmVkLCBidXQgbm90IHlldCBkZWZpbmVkLiBJdCBpcyBhbHNvIHVzZWQgd2hlbiB0aGUgYHRva2VuYCB3aGljaCB3ZSB1c2Ugd2hlbiBjcmVhdGluZ1xuICogYSBxdWVyeSBpcyBub3QgeWV0IGRlZmluZWQuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9mb3J3YXJkX3JlZi9mb3J3YXJkX3JlZl9zcGVjLnRzIHJlZ2lvbj0nZm9yd2FyZF9yZWYnfVxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBmb3J3YXJkUmVmKGZvcndhcmRSZWZGbikge1xuICAgIGZvcndhcmRSZWZGbi5fX2ZvcndhcmRfcmVmX18gPSBmb3J3YXJkUmVmO1xuICAgIGZvcndhcmRSZWZGbi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeSh0aGlzKCkpO1xuICAgIH07XG4gICAgcmV0dXJuIGZvcndhcmRSZWZGbjtcbn1cbi8qKlxuICogTGF6aWx5IHJldHJpZXZlcyB0aGUgcmVmZXJlbmNlIHZhbHVlIGZyb20gYSBmb3J3YXJkUmVmLlxuICpcbiAqIEFjdHMgYXMgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIHdoZW4gZ2l2ZW4gYSBub24tZm9yd2FyZC1yZWYgdmFsdWUuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvZm9yd2FyZF9yZWYvZm9yd2FyZF9yZWZfc3BlYy50cyByZWdpb249J3Jlc29sdmVfZm9yd2FyZF9yZWYnfVxuICpcbiAqIEBzZWUgYGZvcndhcmRSZWZgXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpIHtcbiAgICByZXR1cm4gaXNGb3J3YXJkUmVmKHR5cGUpID8gdHlwZSgpIDogdHlwZTtcbn1cbi8qKiBDaGVja3Mgd2hldGhlciBhIGZ1bmN0aW9uIGlzIHdyYXBwZWQgYnkgYSBgZm9yd2FyZFJlZmAuICovXG5mdW5jdGlvbiBpc0ZvcndhcmRSZWYoZm4pIHtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIGZuLmhhc093blByb3BlcnR5KF9fZm9yd2FyZF9yZWZfXykgJiZcbiAgICAgICAgZm4uX19mb3J3YXJkX3JlZl9fID09PSBmb3J3YXJkUmVmO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQmFzZSBVUkwgZm9yIHRoZSBlcnJvciBkZXRhaWxzIHBhZ2UuXG4gKlxuICogS2VlcCB0aGUgZmlsZXMgYmVsb3cgaW4gZnVsbCBzeW5jOlxuICogIC0gcGFja2FnZXMvY29tcGlsZXItY2xpL3NyYy9uZ3RzYy9kaWFnbm9zdGljcy9zcmMvZXJyb3JfZGV0YWlsc19iYXNlX3VybC50c1xuICogIC0gcGFja2FnZXMvY29yZS9zcmMvZXJyb3JfZGV0YWlsc19iYXNlX3VybC50c1xuICovXG5jb25zdCBFUlJPUl9ERVRBSUxTX1BBR0VfQkFTRV9VUkwgPSAnaHR0cHM6Ly9hbmd1bGFyLmlvL2Vycm9ycyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBydW50aW1lIGVycm9yLlxuICogRm9ybWF0cyBhbmQgb3V0cHV0cyB0aGUgZXJyb3IgbWVzc2FnZSBpbiBhIGNvbnNpc3RlbnQgd2F5LlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICogICAgUnVudGltZUVycm9yQ29kZS5JTkpFQ1RPUl9BTFJFQURZX0RFU1RST1lFRCxcbiAqICAgIG5nRGV2TW9kZSAmJiAnSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuJyk7XG4gKiBgYGBcbiAqXG4gKiBOb3RlOiB0aGUgYG1lc3NhZ2VgIGFyZ3VtZW50IGNvbnRhaW5zIGEgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZSBhcyBhIHN0cmluZyBpbiBkZXZlbG9wbWVudFxuICogbW9kZSAod2hlbiB0aGUgYG5nRGV2TW9kZWAgaXMgZGVmaW5lZCkuIEluIHByb2R1Y3Rpb24gbW9kZSAoYWZ0ZXIgdHJlZS1zaGFraW5nIHBhc3MpLCB0aGVcbiAqIGBtZXNzYWdlYCBhcmd1bWVudCBiZWNvbWVzIGBmYWxzZWAsIHRodXMgd2UgYWNjb3VudCBmb3IgaXQgaW4gdGhlIHR5cGluZ3MgYW5kIHRoZSBydW50aW1lIGxvZ2ljLlxuICovXG5jbGFzcyBSdW50aW1lRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihmb3JtYXRSdW50aW1lRXJyb3IoY29kZSwgbWVzc2FnZSkpO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbGVkIHRvIGZvcm1hdCBhIHJ1bnRpbWUgZXJyb3IuXG4gKiBTZWUgYWRkaXRpb25hbCBpbmZvIG9uIHRoZSBgbWVzc2FnZWAgYXJndW1lbnQgdHlwZSBpbiB0aGUgYFJ1bnRpbWVFcnJvcmAgY2xhc3MgZGVzY3JpcHRpb24uXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFJ1bnRpbWVFcnJvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgLy8gRXJyb3IgY29kZSBtaWdodCBiZSBhIG5lZ2F0aXZlIG51bWJlciwgd2hpY2ggaXMgYSBzcGVjaWFsIG1hcmtlciB0aGF0IGluc3RydWN0cyB0aGUgbG9naWMgdG9cbiAgICAvLyBnZW5lcmF0ZSBhIGxpbmsgdG8gdGhlIGVycm9yIGRldGFpbHMgcGFnZSBvbiBhbmd1bGFyLmlvLlxuICAgIGNvbnN0IGZ1bGxDb2RlID0gYE5HMCR7TWF0aC5hYnMoY29kZSl9YDtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYCR7ZnVsbENvZGV9JHttZXNzYWdlID8gJzogJyArIG1lc3NhZ2UgOiAnJ31gO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgY29kZSA8IDApIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYCR7ZXJyb3JNZXNzYWdlfS4gRmluZCBtb3JlIGF0ICR7RVJST1JfREVUQUlMU19QQUdFX0JBU0VfVVJMfS8ke2Z1bGxDb2RlfWA7XG4gICAgfVxuICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVc2VkIGZvciBzdHJpbmdpZnkgcmVuZGVyIG91dHB1dCBpbiBJdnkuXG4gKiBJbXBvcnRhbnQhIFRoaXMgZnVuY3Rpb24gaXMgdmVyeSBwZXJmb3JtYW5jZS1zZW5zaXRpdmUgYW5kIHdlIHNob3VsZFxuICogYmUgZXh0cmEgY2FyZWZ1bCBub3QgdG8gaW50cm9kdWNlIG1lZ2Ftb3JwaGljIHJlYWRzIGluIGl0LlxuICogQ2hlY2sgYGNvcmUvdGVzdC9yZW5kZXIzL3BlcmYvcmVuZGVyX3N0cmluZ2lmeWAgZm9yIGJlbmNobWFya3MgYW5kIGFsdGVybmF0ZSBpbXBsZW1lbnRhdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclN0cmluZ2lmeSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICAvLyBVc2UgYFN0cmluZ2Agc28gdGhhdCBpdCBpbnZva2VzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiB0aGUgdmFsdWUuIE5vdGUgdGhhdCB0aGlzXG4gICAgLy8gYXBwZWFycyB0byBiZSBmYXN0ZXIgdGhhbiBjYWxsaW5nIGB2YWx1ZS50b1N0cmluZ2AgKHNlZSBgcmVuZGVyX3N0cmluZ2lmeWAgYmVuY2htYXJrKS5cbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbi8qKlxuICogVXNlZCB0byBzdHJpbmdpZnkgYSB2YWx1ZSBzbyB0aGF0IGl0IGNhbiBiZSBkaXNwbGF5ZWQgaW4gYW4gZXJyb3IgbWVzc2FnZS5cbiAqIEltcG9ydGFudCEgVGhpcyBmdW5jdGlvbiBjb250YWlucyBhIG1lZ2Ftb3JwaGljIHJlYWQgYW5kIHNob3VsZCBvbmx5IGJlXG4gKiB1c2VkIGZvciBlcnJvciBtZXNzYWdlcy5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5Rm9yRXJyb3IodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gdmFsdWUubmFtZSB8fCB2YWx1ZS50b1N0cmluZygpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnR5cGUubmFtZSB8fCB2YWx1ZS50eXBlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJTdHJpbmdpZnkodmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBDYWxsZWQgd2hlbiBkaXJlY3RpdmVzIGluamVjdCBlYWNoIG90aGVyIChjcmVhdGluZyBhIGNpcmN1bGFyIGRlcGVuZGVuY3kpICovXG5mdW5jdGlvbiB0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvcih0b2tlbiwgcGF0aCkge1xuICAgIGNvbnN0IGRlcFBhdGggPSBwYXRoID8gYC4gRGVwZW5kZW5jeSBwYXRoOiAke3BhdGguam9pbignID4gJyl9ID4gJHt0b2tlbn1gIDogJyc7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMjAwIC8qIENZQ0xJQ19ESV9ERVBFTkRFTkNZICovLCBgQ2lyY3VsYXIgZGVwZW5kZW5jeSBpbiBESSBkZXRlY3RlZCBmb3IgJHt0b2tlbn0ke2RlcFBhdGh9YCk7XG59XG5mdW5jdGlvbiB0aHJvd01peGVkTXVsdGlQcm92aWRlckVycm9yKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG1peCBtdWx0aSBwcm92aWRlcnMgYW5kIHJlZ3VsYXIgcHJvdmlkZXJzYCk7XG59XG5mdW5jdGlvbiB0aHJvd0ludmFsaWRQcm92aWRlckVycm9yKG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzLCBwcm92aWRlcikge1xuICAgIGxldCBuZ01vZHVsZURldGFpbCA9ICcnO1xuICAgIGlmIChuZ01vZHVsZVR5cGUgJiYgcHJvdmlkZXJzKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyRGV0YWlsID0gcHJvdmlkZXJzLm1hcCh2ID0+IHYgPT0gcHJvdmlkZXIgPyAnPycgKyBwcm92aWRlciArICc/JyA6ICcuLi4nKTtcbiAgICAgICAgbmdNb2R1bGVEZXRhaWwgPVxuICAgICAgICAgICAgYCAtIG9ubHkgaW5zdGFuY2VzIG9mIFByb3ZpZGVyIGFuZCBUeXBlIGFyZSBhbGxvd2VkLCBnb3Q6IFske3Byb3ZpZGVyRGV0YWlsLmpvaW4oJywgJyl9XWA7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm92aWRlciBmb3IgdGhlIE5nTW9kdWxlICcke3N0cmluZ2lmeShuZ01vZHVsZVR5cGUpfSdgICsgbmdNb2R1bGVEZXRhaWwpO1xufVxuLyoqIFRocm93cyBhbiBlcnJvciB3aGVuIGEgdG9rZW4gaXMgbm90IGZvdW5kIGluIERJLiAqL1xuZnVuY3Rpb24gdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3IodG9rZW4sIGluamVjdG9yTmFtZSkge1xuICAgIGNvbnN0IGluamVjdG9yRGV0YWlscyA9IGluamVjdG9yTmFtZSA/IGAgaW4gJHtpbmplY3Rvck5hbWV9YCA6ICcnO1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTIwMSAvKiBQUk9WSURFUl9OT1RfRk9VTkQgKi8sIGBObyBwcm92aWRlciBmb3IgJHtzdHJpbmdpZnlGb3JFcnJvcih0b2tlbil9IGZvdW5kJHtpbmplY3RvckRldGFpbHN9YCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0TnVtYmVyKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKCEodHlwZW9mIGFjdHVhbCA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCB0eXBlb2YgYWN0dWFsLCAnbnVtYmVyJywgJz09PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlckluUmFuZ2UoYWN0dWFsLCBtaW5JbmNsdXNpdmUsIG1heEluY2x1c2l2ZSkge1xuICAgIGFzc2VydE51bWJlcihhY3R1YWwsICdFeHBlY3RlZCBhIG51bWJlcicpO1xuICAgIGFzc2VydExlc3NUaGFuT3JFcXVhbChhY3R1YWwsIG1heEluY2x1c2l2ZSwgJ0V4cGVjdGVkIG51bWJlciB0byBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8nKTtcbiAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoYWN0dWFsLCBtaW5JbmNsdXNpdmUsICdFeHBlY3RlZCBudW1iZXIgdG8gYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvJyk7XG59XG5mdW5jdGlvbiBhc3NlcnRTdHJpbmcoYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoISh0eXBlb2YgYWN0dWFsID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3R1YWwsICdzdHJpbmcnLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0RnVuY3Rpb24oYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoISh0eXBlb2YgYWN0dWFsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdHVhbCwgJ2Z1bmN0aW9uJywgJz09PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA9PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc9PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCAhPSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICchPScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFNhbWUoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID09PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3RTYW1lKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCAhPT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnIT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TGVzc1RoYW4oYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsIDwgZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPCcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydExlc3NUaGFuT3JFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPD0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPD0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRHcmVhdGVyVGhhbihhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPiBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc+Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA+PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc+PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE5vdERlZmluZWQoYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoYWN0dWFsICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgbnVsbCwgJz09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZChhY3R1YWwsIG1zZykge1xuICAgIGlmIChhY3R1YWwgPT0gbnVsbCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBudWxsLCAnIT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyaXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihgQVNTRVJUSU9OIEVSUk9SOiAke21zZ31gICtcbiAgICAgICAgKGNvbXBhcmlzb24gPT0gbnVsbCA/ICcnIDogYCBbRXhwZWN0ZWQ9PiAke2V4cGVjdGVkfSAke2NvbXBhcmlzb259ICR7YWN0dWFsfSA8PUFjdHVhbF1gKSk7XG59XG5mdW5jdGlvbiBhc3NlcnREb21Ob2RlKG5vZGUpIHtcbiAgICAvLyBJZiB3ZSdyZSBpbiBhIHdvcmtlciwgYE5vZGVgIHdpbGwgbm90IGJlIGRlZmluZWQuXG4gICAgaWYgKCEodHlwZW9mIE5vZGUgIT09ICd1bmRlZmluZWQnICYmIG5vZGUgaW5zdGFuY2VvZiBOb2RlKSAmJlxuICAgICAgICAhKHR5cGVvZiBub2RlID09PSAnb2JqZWN0JyAmJiBub2RlICE9IG51bGwgJiZcbiAgICAgICAgICAgIG5vZGUuY29uc3RydWN0b3IubmFtZSA9PT0gJ1dlYldvcmtlclJlbmRlck5vZGUnKSkge1xuICAgICAgICB0aHJvd0Vycm9yKGBUaGUgcHJvdmlkZWQgdmFsdWUgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBhIERPTSBOb2RlIGJ1dCBnb3QgJHtzdHJpbmdpZnkobm9kZSl9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJblJhbmdlKGFyciwgaW5kZXgpIHtcbiAgICBhc3NlcnREZWZpbmVkKGFyciwgJ0FycmF5IG11c3QgYmUgZGVmaW5lZC4nKTtcbiAgICBjb25zdCBtYXhMZW4gPSBhcnIubGVuZ3RoO1xuICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gbWF4TGVuKSB7XG4gICAgICAgIHRocm93RXJyb3IoYEluZGV4IGV4cGVjdGVkIHRvIGJlIGxlc3MgdGhhbiAke21heExlbn0gYnV0IGdvdCAke2luZGV4fWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE9uZU9mKHZhbHVlLCAuLi52YWxpZFZhbHVlcykge1xuICAgIGlmICh2YWxpZFZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTEpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHRocm93RXJyb3IoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9uZSBvZiAke0pTT04uc3RyaW5naWZ5KHZhbGlkVmFsdWVzKX0gYnV0IHdhcyAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0uYCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb25zdHJ1Y3QgYW4gaW5qZWN0YWJsZSBkZWZpbml0aW9uIHdoaWNoIGRlZmluZXMgaG93IGEgdG9rZW4gd2lsbCBiZSBjb25zdHJ1Y3RlZCBieSB0aGUgRElcbiAqIHN5c3RlbSwgYW5kIGluIHdoaWNoIGluamVjdG9ycyAoaWYgYW55KSBpdCB3aWxsIGJlIGF2YWlsYWJsZS5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSBhc3NpZ25lZCB0byBhIHN0YXRpYyBgybVwcm92YCBmaWVsZCBvbiBhIHR5cGUsIHdoaWNoIHdpbGwgdGhlbiBiZSBhblxuICogYEluamVjdGFibGVUeXBlYC5cbiAqXG4gKiBPcHRpb25zOlxuICogKiBgcHJvdmlkZWRJbmAgZGV0ZXJtaW5lcyB3aGljaCBpbmplY3RvcnMgd2lsbCBpbmNsdWRlIHRoZSBpbmplY3RhYmxlLCBieSBlaXRoZXIgYXNzb2NpYXRpbmcgaXRcbiAqICAgd2l0aCBhbiBgQE5nTW9kdWxlYCBvciBvdGhlciBgSW5qZWN0b3JUeXBlYCwgb3IgYnkgc3BlY2lmeWluZyB0aGF0IHRoaXMgaW5qZWN0YWJsZSBzaG91bGQgYmVcbiAqICAgcHJvdmlkZWQgaW4gdGhlIGAncm9vdCdgIGluamVjdG9yLCB3aGljaCB3aWxsIGJlIHRoZSBhcHBsaWNhdGlvbi1sZXZlbCBpbmplY3RvciBpbiBtb3N0IGFwcHMuXG4gKiAqIGBmYWN0b3J5YCBnaXZlcyB0aGUgemVybyBhcmd1bWVudCBmdW5jdGlvbiB3aGljaCB3aWxsIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgaW5qZWN0YWJsZS5cbiAqICAgVGhlIGZhY3RvcnkgY2FuIGNhbGwgYGluamVjdGAgdG8gYWNjZXNzIHRoZSBgSW5qZWN0b3JgIGFuZCByZXF1ZXN0IGluamVjdGlvbiBvZiBkZXBlbmRlbmNpZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqIEBwdWJsaWNBcGkgVGhpcyBpbnN0cnVjdGlvbiBoYXMgYmVlbiBlbWl0dGVkIGJ5IFZpZXdFbmdpbmUgZm9yIHNvbWUgdGltZSBhbmQgaXMgZGVwbG95ZWQgdG8gbnBtLlxuICovXG5mdW5jdGlvbiDJtcm1ZGVmaW5lSW5qZWN0YWJsZShvcHRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW46IG9wdHMudG9rZW4sXG4gICAgICAgIHByb3ZpZGVkSW46IG9wdHMucHJvdmlkZWRJbiB8fCBudWxsLFxuICAgICAgICBmYWN0b3J5OiBvcHRzLmZhY3RvcnksXG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgaW4gdjgsIGRlbGV0ZSBhZnRlciB2MTAuIFRoaXMgQVBJIHNob3VsZCBiZSB1c2VkIG9ubHkgYnkgZ2VuZXJhdGVkIGNvZGUsIGFuZCB0aGF0XG4gKiBjb2RlIHNob3VsZCBub3cgdXNlIMm1ybVkZWZpbmVJbmplY3RhYmxlIGluc3RlYWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IGRlZmluZUluamVjdGFibGUgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZTtcbi8qKlxuICogQ29uc3RydWN0IGFuIGBJbmplY3RvckRlZmAgd2hpY2ggY29uZmlndXJlcyBhbiBpbmplY3Rvci5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSBhc3NpZ25lZCB0byBhIHN0YXRpYyBpbmplY3RvciBkZWYgKGDJtWluamApIGZpZWxkIG9uIGEgdHlwZSwgd2hpY2ggd2lsbCB0aGVuIGJlIGFuXG4gKiBgSW5qZWN0b3JUeXBlYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICogYHByb3ZpZGVyc2A6IGFuIG9wdGlvbmFsIGFycmF5IG9mIHByb3ZpZGVycyB0byBhZGQgdG8gdGhlIGluamVjdG9yLiBFYWNoIHByb3ZpZGVyIG11c3RcbiAqICAgZWl0aGVyIGhhdmUgYSBmYWN0b3J5IG9yIHBvaW50IHRvIGEgdHlwZSB3aGljaCBoYXMgYSBgybVwcm92YCBzdGF0aWMgcHJvcGVydHkgKHRoZVxuICogICB0eXBlIG11c3QgYmUgYW4gYEluamVjdGFibGVUeXBlYCkuXG4gKiAqIGBpbXBvcnRzYDogYW4gb3B0aW9uYWwgYXJyYXkgb2YgaW1wb3J0cyBvZiBvdGhlciBgSW5qZWN0b3JUeXBlYHMgb3IgYEluamVjdG9yVHlwZVdpdGhNb2R1bGVgc1xuICogICB3aG9zZSBwcm92aWRlcnMgd2lsbCBhbHNvIGJlIGFkZGVkIHRvIHRoZSBpbmplY3Rvci4gTG9jYWxseSBwcm92aWRlZCB0eXBlcyB3aWxsIG92ZXJyaWRlXG4gKiAgIHByb3ZpZGVycyBmcm9tIGltcG9ydHMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZUluamVjdG9yKG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyBwcm92aWRlcnM6IG9wdGlvbnMucHJvdmlkZXJzIHx8IFtdLCBpbXBvcnRzOiBvcHRpb25zLmltcG9ydHMgfHwgW10gfTtcbn1cbi8qKlxuICogUmVhZCB0aGUgaW5qZWN0YWJsZSBkZWYgKGDJtXByb3ZgKSBmb3IgYHR5cGVgIGluIGEgd2F5IHdoaWNoIGlzIGltbXVuZSB0byBhY2NpZGVudGFsbHkgcmVhZGluZ1xuICogaW5oZXJpdGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB0eXBlIEEgdHlwZSB3aGljaCBtYXkgaGF2ZSBpdHMgb3duIChub24taW5oZXJpdGVkKSBgybVwcm92YC5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0YWJsZURlZih0eXBlKSB7XG4gICAgcmV0dXJuIGdldE93bkRlZmluaXRpb24odHlwZSwgTkdfUFJPVl9ERUYpIHx8IGdldE93bkRlZmluaXRpb24odHlwZSwgTkdfSU5KRUNUQUJMRV9ERUYpO1xufVxuLyoqXG4gKiBSZXR1cm4gZGVmaW5pdGlvbiBvbmx5IGlmIGl0IGlzIGRlZmluZWQgZGlyZWN0bHkgb24gYHR5cGVgIGFuZCBpcyBub3QgaW5oZXJpdGVkIGZyb20gYSBiYXNlXG4gKiBjbGFzcyBvZiBgdHlwZWAuXG4gKi9cbmZ1bmN0aW9uIGdldE93bkRlZmluaXRpb24odHlwZSwgZmllbGQpIHtcbiAgICByZXR1cm4gdHlwZS5oYXNPd25Qcm9wZXJ0eShmaWVsZCkgPyB0eXBlW2ZpZWxkXSA6IG51bGw7XG59XG4vKipcbiAqIFJlYWQgdGhlIGluamVjdGFibGUgZGVmIChgybVwcm92YCkgZm9yIGB0eXBlYCBvciByZWFkIHRoZSBgybVwcm92YCBmcm9tIG9uZSBvZiBpdHMgYW5jZXN0b3JzLlxuICpcbiAqIEBwYXJhbSB0eXBlIEEgdHlwZSB3aGljaCBtYXkgaGF2ZSBgybVwcm92YCwgdmlhIGluaGVyaXRhbmNlLlxuICpcbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEFuZ3VsYXIsIHdoZXJlIGFuIGVycm9yIHdpbGwgb2NjdXIgaW4gdGhlXG4gKiAgICAgc2NlbmFyaW8gaWYgd2UgZmluZCB0aGUgYMm1cHJvdmAgb24gYW4gYW5jZXN0b3Igb25seS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5oZXJpdGVkSW5qZWN0YWJsZURlZih0eXBlKSB7XG4gICAgY29uc3QgZGVmID0gdHlwZSAmJiAodHlwZVtOR19QUk9WX0RFRl0gfHwgdHlwZVtOR19JTkpFQ1RBQkxFX0RFRl0pO1xuICAgIGlmIChkZWYpIHtcbiAgICAgICAgY29uc3QgdHlwZU5hbWUgPSBnZXRUeXBlTmFtZSh0eXBlKTtcbiAgICAgICAgLy8gVE9ETyhGVy0xMzA3KTogUmUtYWRkIG5nRGV2TW9kZSB3aGVuIGNsb3N1cmUgY2FuIGhhbmRsZSBpdFxuICAgICAgICAvLyBuZ0Rldk1vZGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKGBERVBSRUNBVEVEOiBESSBpcyBpbnN0YW50aWF0aW5nIGEgdG9rZW4gXCIke3R5cGVOYW1lfVwiIHRoYXQgaW5oZXJpdHMgaXRzIEBJbmplY3RhYmxlIGRlY29yYXRvciBidXQgZG9lcyBub3QgcHJvdmlkZSBvbmUgaXRzZWxmLlxcbmAgK1xuICAgICAgICAgICAgYFRoaXMgd2lsbCBiZWNvbWUgYW4gZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBBbmd1bGFyLiBQbGVhc2UgYWRkIEBJbmplY3RhYmxlKCkgdG8gdGhlIFwiJHt0eXBlTmFtZX1cIiBjbGFzcy5gKTtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKiBHZXRzIHRoZSBuYW1lIG9mIGEgdHlwZSwgYWNjb3VudGluZyBmb3Igc29tZSBjcm9zcy1icm93c2VyIGRpZmZlcmVuY2VzLiAqL1xuZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSkge1xuICAgIC8vIGBGdW5jdGlvbi5wcm90b3R5cGUubmFtZWAgYmVoYXZlcyBkaWZmZXJlbnRseSBiZXR3ZWVuIElFIGFuZCBvdGhlciBicm93c2Vycy4gSW4gbW9zdCBicm93c2Vyc1xuICAgIC8vIGl0J2xsIGFsd2F5cyByZXR1cm4gdGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIGl0c2VsZiwgbm8gbWF0dGVyIGhvdyBtYW55IG90aGVyIGZ1bmN0aW9ucyBpdFxuICAgIC8vIGluaGVyaXRzIGZyb20uIE9uIElFIHRoZSBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgaXRzIG93biBgbmFtZWAgcHJvcGVydHksIGJ1dCBpdCB0YWtlcyBpdCBmcm9tXG4gICAgLy8gdGhlIGxvd2VzdCBsZXZlbCBpbiB0aGUgcHJvdG90eXBlIGNoYWluLiBFLmcuIGlmIHdlIGhhdmUgYGNsYXNzIEZvbyBleHRlbmRzIFBhcmVudGAgbW9zdFxuICAgIC8vIGJyb3dzZXJzIHdpbGwgZXZhbHVhdGUgYEZvby5uYW1lYCB0byBgRm9vYCB3aGlsZSBJRSB3aWxsIHJldHVybiBgUGFyZW50YC4gV2Ugd29yayBhcm91bmRcbiAgICAvLyB0aGUgaXNzdWUgYnkgY29udmVydGluZyB0aGUgZnVuY3Rpb24gdG8gYSBzdHJpbmcgYW5kIHBhcnNpbmcgaXRzIG5hbWUgb3V0IHRoYXQgd2F5IHZpYSBhIHJlZ2V4LlxuICAgIGlmICh0eXBlLmhhc093blByb3BlcnR5KCduYW1lJykpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUubmFtZTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSAoJycgKyB0eXBlKS5tYXRjaCgvXmZ1bmN0aW9uXFxzKihbXlxccyhdKykvKTtcbiAgICByZXR1cm4gbWF0Y2ggPT09IG51bGwgPyAnJyA6IG1hdGNoWzFdO1xufVxuLyoqXG4gKiBSZWFkIHRoZSBpbmplY3RvciBkZWYgdHlwZSBpbiBhIHdheSB3aGljaCBpcyBpbW11bmUgdG8gYWNjaWRlbnRhbGx5IHJlYWRpbmcgaW5oZXJpdGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB0eXBlIHR5cGUgd2hpY2ggbWF5IGhhdmUgYW4gaW5qZWN0b3IgZGVmIChgybVpbmpgKVxuICovXG5mdW5jdGlvbiBnZXRJbmplY3RvckRlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgJiYgKHR5cGUuaGFzT3duUHJvcGVydHkoTkdfSU5KX0RFRikgfHwgdHlwZS5oYXNPd25Qcm9wZXJ0eShOR19JTkpFQ1RPUl9ERUYpKSA/XG4gICAgICAgIHR5cGVbTkdfSU5KX0RFRl0gOlxuICAgICAgICBudWxsO1xufVxuY29uc3QgTkdfUFJPVl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVwcm92OiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfSU5KX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWluajogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8vIFdlIG5lZWQgdG8ga2VlcCB0aGVzZSBhcm91bmQgc28gd2UgY2FuIHJlYWQgb2ZmIG9sZCBkZWZzIGlmIG5ldyBkZWZzIGFyZSB1bmF2YWlsYWJsZVxuY29uc3QgTkdfSU5KRUNUQUJMRV9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgbmdJbmplY3RhYmxlRGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfSU5KRUNUT1JfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nSW5qZWN0b3JEZWY6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBJbmplY3Rpb24gZmxhZ3MgZm9yIERJLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEluamVjdEZsYWdzO1xuKGZ1bmN0aW9uIChJbmplY3RGbGFncykge1xuICAgIC8vIFRPRE8oYWx4aHViKTogbWFrZSB0aGlzICdjb25zdCcgKGFuZCByZW1vdmUgYEludGVybmFsSW5qZWN0RmxhZ3NgIGVudW0pIHdoZW4gbmdjIG5vIGxvbmdlclxuICAgIC8vIHdyaXRlcyBleHBvcnRzIG9mIGl0IGludG8gbmdmYWN0b3J5IGZpbGVzLlxuICAgIC8qKiBDaGVjayBzZWxmIGFuZCBjaGVjayBwYXJlbnQgaW5qZWN0b3IgaWYgbmVlZGVkICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJEZWZhdWx0XCJdID0gMF0gPSBcIkRlZmF1bHRcIjtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBpbmplY3RvciBzaG91bGQgcmV0cmlldmUgYSBkZXBlbmRlbmN5IGZyb20gYW55IGluamVjdG9yIHVudGlsIHJlYWNoaW5nIHRoZVxuICAgICAqIGhvc3QgZWxlbWVudCBvZiB0aGUgY3VycmVudCBjb21wb25lbnQuIChPbmx5IHVzZWQgd2l0aCBFbGVtZW50IEluamVjdG9yKVxuICAgICAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiSG9zdFwiXSA9IDFdID0gXCJIb3N0XCI7XG4gICAgLyoqIERvbid0IGFzY2VuZCB0byBhbmNlc3RvcnMgb2YgdGhlIG5vZGUgcmVxdWVzdGluZyBpbmplY3Rpb24uICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJTZWxmXCJdID0gMl0gPSBcIlNlbGZcIjtcbiAgICAvKiogU2tpcCB0aGUgbm9kZSB0aGF0IGlzIHJlcXVlc3RpbmcgaW5qZWN0aW9uLiAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiU2tpcFNlbGZcIl0gPSA0XSA9IFwiU2tpcFNlbGZcIjtcbiAgICAvKiogSW5qZWN0IGBkZWZhdWx0VmFsdWVgIGluc3RlYWQgaWYgdG9rZW4gbm90IGZvdW5kLiAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiT3B0aW9uYWxcIl0gPSA4XSA9IFwiT3B0aW9uYWxcIjtcbn0pKEluamVjdEZsYWdzIHx8IChJbmplY3RGbGFncyA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIGluamVjdC5cbiAqXG4gKiBCeSBkZWZhdWx0LCBpdCBpcyBgaW5qZWN0SW5qZWN0b3JPbmx5YCwgd2hpY2ggbWFrZXMgaXQgYEluamVjdG9yYC1vbmx5IGF3YXJlLiBJdCBjYW4gYmUgY2hhbmdlZFxuICogdG8gYGRpcmVjdGl2ZUluamVjdGAsIHdoaWNoIGJyaW5ncyBpbiB0aGUgYE5vZGVJbmplY3RvcmAgc3lzdGVtIG9mIGl2eS4gSXQgaXMgZGVzaWduZWQgdGhpc1xuICogd2F5IGZvciB0d28gcmVhc29uczpcbiAqICAxLiBgSW5qZWN0b3JgIHNob3VsZCBub3QgZGVwZW5kIG9uIGl2eSBsb2dpYy5cbiAqICAyLiBUbyBtYWludGFpbiB0cmVlIHNoYWtlLWFiaWxpdHkgd2UgZG9uJ3Qgd2FudCB0byBicmluZyBpbiB1bm5lY2Vzc2FyeSBjb2RlLlxuICovXG5sZXQgX2luamVjdEltcGxlbWVudGF0aW9uO1xuZnVuY3Rpb24gZ2V0SW5qZWN0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIF9pbmplY3RJbXBsZW1lbnRhdGlvbjtcbn1cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCBpbmplY3QgaW1wbGVtZW50YXRpb24uXG4gKi9cbmZ1bmN0aW9uIHNldEluamVjdEltcGxlbWVudGF0aW9uKGltcGwpIHtcbiAgICBjb25zdCBwcmV2aW91cyA9IF9pbmplY3RJbXBsZW1lbnRhdGlvbjtcbiAgICBfaW5qZWN0SW1wbGVtZW50YXRpb24gPSBpbXBsO1xuICAgIHJldHVybiBwcmV2aW91cztcbn1cbi8qKlxuICogSW5qZWN0cyBgcm9vdGAgdG9rZW5zIGluIGxpbXAgbW9kZS5cbiAqXG4gKiBJZiBubyBpbmplY3RvciBleGlzdHMsIHdlIGNhbiBzdGlsbCBpbmplY3QgdHJlZS1zaGFrYWJsZSBwcm92aWRlcnMgd2hpY2ggaGF2ZSBgcHJvdmlkZWRJbmAgc2V0IHRvXG4gKiBgXCJyb290XCJgLiBUaGlzIGlzIGtub3duIGFzIHRoZSBsaW1wIG1vZGUgaW5qZWN0aW9uLiBJbiBzdWNoIGNhc2UgdGhlIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGVcbiAqIGluamVjdGFibGUgZGVmaW5pdGlvbi5cbiAqL1xuZnVuY3Rpb24gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgIGNvbnN0IGluamVjdGFibGVEZWYgPSBnZXRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICBpZiAoaW5qZWN0YWJsZURlZiAmJiBpbmplY3RhYmxlRGVmLnByb3ZpZGVkSW4gPT0gJ3Jvb3QnKSB7XG4gICAgICAgIHJldHVybiBpbmplY3RhYmxlRGVmLnZhbHVlID09PSB1bmRlZmluZWQgPyBpbmplY3RhYmxlRGVmLnZhbHVlID0gaW5qZWN0YWJsZURlZi5mYWN0b3J5KCkgOlxuICAgICAgICAgICAgaW5qZWN0YWJsZURlZi52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChub3RGb3VuZFZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHN0cmluZ2lmeSh0b2tlbiksICdJbmplY3RvcicpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBgX2luamVjdEltcGxlbWVudGF0aW9uYCBpcyBub3QgYGZuYC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCwgdG8gcHJldmVudCBpbmZpbml0ZSByZWN1cnNpb24uXG4gKlxuICogQHBhcmFtIGZuIEZ1bmN0aW9uIHdoaWNoIGl0IHNob3VsZCBub3QgZXF1YWwgdG9cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0SW5qZWN0SW1wbGVtZW50YXRpb25Ob3RFcXVhbChmbikge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChfaW5qZWN0SW1wbGVtZW50YXRpb24sIGZuLCAnQ2FsbGluZyDJtcm1aW5qZWN0IHdvdWxkIGNhdXNlIGluZmluaXRlIHJlY3Vyc2lvbicpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29udmluY2UgY2xvc3VyZSBjb21waWxlciB0aGF0IHRoZSB3cmFwcGVkIGZ1bmN0aW9uIGhhcyBubyBzaWRlLWVmZmVjdHMuXG4gKlxuICogQ2xvc3VyZSBjb21waWxlciBhbHdheXMgYXNzdW1lcyB0aGF0IGB0b1N0cmluZ2AgaGFzIG5vIHNpZGUtZWZmZWN0cy4gV2UgdXNlIHRoaXMgcXVpcmsgdG9cbiAqIGFsbG93IHVzIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBidXQgaGF2ZSBjbG9zdXJlIGNvbXBpbGVyIG1hcmsgdGhlIGNhbGwgYXMgbm8tc2lkZS1lZmZlY3RzLlxuICogSXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHJldHVybiB2YWx1ZSBmb3IgdGhlIGBub1NpZGVFZmZlY3RzYCBmdW5jdGlvbiBiZSBhc3NpZ25lZFxuICogdG8gc29tZXRoaW5nIHdoaWNoIGlzIHJldGFpbmVkIG90aGVyd2lzZSB0aGUgY2FsbCB0byBgbm9TaWRlRWZmZWN0c2Agd2lsbCBiZSByZW1vdmVkIGJ5IGNsb3N1cmVcbiAqIGNvbXBpbGVyLlxuICovXG5mdW5jdGlvbiBub1NpZGVFZmZlY3RzKGZuKSB7XG4gICAgcmV0dXJuIHsgdG9TdHJpbmc6IGZuIH0udG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBzdHJhdGVneSB0aGF0IHRoZSBkZWZhdWx0IGNoYW5nZSBkZXRlY3RvciB1c2VzIHRvIGRldGVjdCBjaGFuZ2VzLlxuICogV2hlbiBzZXQsIHRha2VzIGVmZmVjdCB0aGUgbmV4dCB0aW1lIGNoYW5nZSBkZXRlY3Rpb24gaXMgdHJpZ2dlcmVkLlxuICpcbiAqIEBzZWUge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI3VzYWdlLW5vdGVzIENoYW5nZSBkZXRlY3Rpb24gdXNhZ2V9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3k7XG4oZnVuY3Rpb24gKENoYW5nZURldGVjdGlvblN0cmF0ZWd5KSB7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBgQ2hlY2tPbmNlYCBzdHJhdGVneSwgbWVhbmluZyB0aGF0IGF1dG9tYXRpYyBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGRlYWN0aXZhdGVkXG4gICAgICogdW50aWwgcmVhY3RpdmF0ZWQgYnkgc2V0dGluZyB0aGUgc3RyYXRlZ3kgdG8gYERlZmF1bHRgIChgQ2hlY2tBbHdheXNgKS5cbiAgICAgKiBDaGFuZ2UgZGV0ZWN0aW9uIGNhbiBzdGlsbCBiZSBleHBsaWNpdGx5IGludm9rZWQuXG4gICAgICogVGhpcyBzdHJhdGVneSBhcHBsaWVzIHRvIGFsbCBjaGlsZCBkaXJlY3RpdmVzIGFuZCBjYW5ub3QgYmUgb3ZlcnJpZGRlbi5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtcIk9uUHVzaFwiXSA9IDBdID0gXCJPblB1c2hcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIGRlZmF1bHQgYENoZWNrQWx3YXlzYCBzdHJhdGVneSwgaW4gd2hpY2ggY2hhbmdlIGRldGVjdGlvbiBpcyBhdXRvbWF0aWMgdW50aWxcbiAgICAgKiBleHBsaWNpdGx5IGRlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5W0NoYW5nZURldGVjdGlvblN0cmF0ZWd5W1wiRGVmYXVsdFwiXSA9IDFdID0gXCJEZWZhdWx0XCI7XG59KShDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB8fCAoQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPSB7fSkpO1xuLyoqXG4gKiBEZWZpbmVzIHRoZSBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlIGRlZmF1bHQgY2hhbmdlIGRldGVjdG9yLlxuICogQHNlZSBgQ2hhbmdlRGV0ZWN0b3JSZWZgXG4gKi9cbnZhciBDaGFuZ2VEZXRlY3RvclN0YXR1cztcbihmdW5jdGlvbiAoQ2hhbmdlRGV0ZWN0b3JTdGF0dXMpIHtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoLCBhZnRlciBjYWxsaW5nIGBkZXRlY3RDaGFuZ2VzKClgLCB0aGUgY2hhbmdlIGRldGVjdG9yXG4gICAgICogc3RhdGUgYmVjb21lcyBgQ2hlY2tlZGAsIGFuZCBtdXN0IGJlIGV4cGxpY2l0bHkgaW52b2tlZCBvciByZWFjdGl2YXRlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkNoZWNrT25jZVwiXSA9IDBdID0gXCJDaGVja09uY2VcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGNoYW5nZSBkZXRlY3Rpb24gaXMgc2tpcHBlZCB1bnRpbCB0aGUgY2hhbmdlIGRldGVjdG9yIG1vZGVcbiAgICAgKiBiZWNvbWVzIGBDaGVja09uY2VgLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tlZFwiXSA9IDFdID0gXCJDaGVja2VkXCI7XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZSBpbiB3aGljaCBjaGFuZ2UgZGV0ZWN0aW9uIGNvbnRpbnVlcyBhdXRvbWF0aWNhbGx5IHVudGlsIGV4cGxpY2l0bHlcbiAgICAgKiBkZWFjdGl2YXRlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkNoZWNrQWx3YXlzXCJdID0gMl0gPSBcIkNoZWNrQWx3YXlzXCI7XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZSBpbiB3aGljaCBhIGNoYW5nZSBkZXRlY3RvciBzdWIgdHJlZSBpcyBub3QgYSBwYXJ0IG9mIHRoZSBtYWluIHRyZWUgYW5kXG4gICAgICogc2hvdWxkIGJlIHNraXBwZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJEZXRhY2hlZFwiXSA9IDNdID0gXCJEZXRhY2hlZFwiO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBjaGFuZ2UgZGV0ZWN0b3IgZW5jb3VudGVyZWQgYW4gZXJyb3IgY2hlY2tpbmcgYSBiaW5kaW5nXG4gICAgICogb3IgY2FsbGluZyBhIGRpcmVjdGl2ZSBsaWZlY3ljbGUgbWV0aG9kIGFuZCBpcyBub3cgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLiBDaGFuZ2VcbiAgICAgKiBkZXRlY3RvcnMgaW4gdGhpcyBzdGF0ZSBkbyBub3QgZGV0ZWN0IGNoYW5nZXMuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJFcnJvcmVkXCJdID0gNF0gPSBcIkVycm9yZWRcIjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgY2hhbmdlIGRldGVjdG9yIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkRlc3Ryb3llZFwiXSA9IDVdID0gXCJEZXN0cm95ZWRcIjtcbn0pKENoYW5nZURldGVjdG9yU3RhdHVzIHx8IChDaGFuZ2VEZXRlY3RvclN0YXR1cyA9IHt9KSk7XG4vKipcbiAqIFJlcG9ydHMgd2hldGhlciBhIGdpdmVuIHN0cmF0ZWd5IGlzIGN1cnJlbnRseSB0aGUgZGVmYXVsdCBmb3IgY2hhbmdlIGRldGVjdGlvbi5cbiAqIEBwYXJhbSBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSBUaGUgc3RyYXRlZ3kgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBnaXZlbiBzdHJhdGVneSBpcyB0aGUgY3VycmVudCBkZWZhdWx0LCBmYWxzZSBvdGhlcndpc2UuXG4gKiBAc2VlIGBDaGFuZ2VEZXRlY3RvclN0YXR1c2BcbiAqIEBzZWUgYENoYW5nZURldGVjdG9yUmVmYFxuICovXG5mdW5jdGlvbiBpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneShjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSkge1xuICAgIHJldHVybiBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9PSBudWxsIHx8XG4gICAgICAgIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5ID09PSBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5EZWZhdWx0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyB0aGUgQ1NTIHN0eWxlcyBlbmNhcHN1bGF0aW9uIHBvbGljaWVzIGZvciB0aGUge0BsaW5rIENvbXBvbmVudH0gZGVjb3JhdG9yJ3NcbiAqIGBlbmNhcHN1bGF0aW9uYCBvcHRpb24uXG4gKlxuICogU2VlIHtAbGluayBDb21wb25lbnQjZW5jYXBzdWxhdGlvbiBlbmNhcHN1bGF0aW9ufS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS90cy9tZXRhZGF0YS9lbmNhcHN1bGF0aW9uLnRzIHJlZ2lvbj0nbG9uZ2Zvcm0nfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFZpZXdFbmNhcHN1bGF0aW9uJDE7XG4oZnVuY3Rpb24gKFZpZXdFbmNhcHN1bGF0aW9uKSB7XG4gICAgLy8gVE9ETzogY29uc2lkZXIgbWFraW5nIGBWaWV3RW5jYXBzdWxhdGlvbmAgYSBgY29uc3QgZW51bWAgaW5zdGVhZC4gU2VlXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNDQxMTkgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gICAgLyoqXG4gICAgICogRW11bGF0ZXMgYSBuYXRpdmUgU2hhZG93IERPTSBlbmNhcHN1bGF0aW9uIGJlaGF2aW9yIGJ5IGFkZGluZyBhIHNwZWNpZmljIGF0dHJpYnV0ZSB0byB0aGVcbiAgICAgKiBjb21wb25lbnQncyBob3N0IGVsZW1lbnQgYW5kIGFwcGx5aW5nIHRoZSBzYW1lIGF0dHJpYnV0ZSB0byBhbGwgdGhlIENTUyBzZWxlY3RvcnMgcHJvdmlkZWRcbiAgICAgKiB2aWEge0BsaW5rIENvbXBvbmVudCNzdHlsZXMgc3R5bGVzfSBvciB7QGxpbmsgQ29tcG9uZW50I3N0eWxlVXJscyBzdHlsZVVybHN9LlxuICAgICAqXG4gICAgICogVGhpcyBpcyB0aGUgZGVmYXVsdCBvcHRpb24uXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJFbXVsYXRlZFwiXSA9IDBdID0gXCJFbXVsYXRlZFwiO1xuICAgIC8vIEhpc3RvcmljYWxseSB0aGUgMSB2YWx1ZSB3YXMgZm9yIGBOYXRpdmVgIGVuY2Fwc3VsYXRpb24gd2hpY2ggaGFzIGJlZW4gcmVtb3ZlZCBhcyBvZiB2MTEuXG4gICAgLyoqXG4gICAgICogRG9lc24ndCBwcm92aWRlIGFueSBzb3J0IG9mIENTUyBzdHlsZSBlbmNhcHN1bGF0aW9uLCBtZWFuaW5nIHRoYXQgYWxsIHRoZSBzdHlsZXMgcHJvdmlkZWRcbiAgICAgKiB2aWEge0BsaW5rIENvbXBvbmVudCNzdHlsZXMgc3R5bGVzfSBvciB7QGxpbmsgQ29tcG9uZW50I3N0eWxlVXJscyBzdHlsZVVybHN9IGFyZSBhcHBsaWNhYmxlXG4gICAgICogdG8gYW55IEhUTUwgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24gcmVnYXJkbGVzcyBvZiB0aGVpciBob3N0IENvbXBvbmVudC5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIk5vbmVcIl0gPSAyXSA9IFwiTm9uZVwiO1xuICAgIC8qKlxuICAgICAqIFVzZXMgdGhlIGJyb3dzZXIncyBuYXRpdmUgU2hhZG93IERPTSBBUEkgdG8gZW5jYXBzdWxhdGUgQ1NTIHN0eWxlcywgbWVhbmluZyB0aGF0IGl0IGNyZWF0ZXNcbiAgICAgKiBhIFNoYWRvd1Jvb3QgZm9yIHRoZSBjb21wb25lbnQncyBob3N0IGVsZW1lbnQgd2hpY2ggaXMgdGhlbiB1c2VkIHRvIGVuY2Fwc3VsYXRlXG4gICAgICogYWxsIHRoZSBDb21wb25lbnQncyBzdHlsaW5nLlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiU2hhZG93RG9tXCJdID0gM10gPSBcIlNoYWRvd0RvbVwiO1xufSkoVmlld0VuY2Fwc3VsYXRpb24kMSB8fCAoVmlld0VuY2Fwc3VsYXRpb24kMSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX19nbG9iYWxUaGlzID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXM7XG5jb25zdCBfX3dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdztcbmNvbnN0IF9fc2VsZiA9IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmIHNlbGY7XG5jb25zdCBfX2dsb2JhbCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbDtcbi8vIEFsd2F5cyB1c2UgX19nbG9iYWxUaGlzIGlmIGF2YWlsYWJsZSwgd2hpY2ggaXMgdGhlIHNwZWMtZGVmaW5lZCBnbG9iYWwgdmFyaWFibGUgYWNyb3NzIGFsbFxuLy8gZW52aXJvbm1lbnRzLCB0aGVuIGZhbGxiYWNrIHRvIF9fZ2xvYmFsIGZpcnN0LCBiZWNhdXNlIGluIE5vZGUgdGVzdHMgYm90aCBfX2dsb2JhbCBhbmRcbi8vIF9fd2luZG93IG1heSBiZSBkZWZpbmVkIGFuZCBfZ2xvYmFsIHNob3VsZCBiZSBfX2dsb2JhbCBpbiB0aGF0IGNhc2UuXG5jb25zdCBfZ2xvYmFsID0gX19nbG9iYWxUaGlzIHx8IF9fZ2xvYmFsIHx8IF9fd2luZG93IHx8IF9fc2VsZjtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycygpIHtcbiAgICBjb25zdCBsb2NhdGlvblN0cmluZyA9IHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhdGlvbi50b1N0cmluZygpIDogJyc7XG4gICAgY29uc3QgbmV3Q291bnRlcnMgPSB7XG4gICAgICAgIG5hbWVkQ29uc3RydWN0b3JzOiBsb2NhdGlvblN0cmluZy5pbmRleE9mKCduZ0Rldk1vZGU9bmFtZWRDb25zdHJ1Y3RvcnMnKSAhPSAtMSxcbiAgICAgICAgZmlyc3RDcmVhdGVQYXNzOiAwLFxuICAgICAgICB0Tm9kZTogMCxcbiAgICAgICAgdFZpZXc6IDAsXG4gICAgICAgIHJlbmRlcmVyQ3JlYXRlVGV4dE5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0VGV4dDogMCxcbiAgICAgICAgcmVuZGVyZXJDcmVhdGVFbGVtZW50OiAwLFxuICAgICAgICByZW5kZXJlckFkZEV2ZW50TGlzdGVuZXI6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0QXR0cmlidXRlOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZUF0dHJpYnV0ZTogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRQcm9wZXJ0eTogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRDbGFzc05hbWU6IDAsXG4gICAgICAgIHJlbmRlcmVyQWRkQ2xhc3M6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlQ2xhc3M6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0U3R5bGU6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlU3R5bGU6IDAsXG4gICAgICAgIHJlbmRlcmVyRGVzdHJveTogMCxcbiAgICAgICAgcmVuZGVyZXJEZXN0cm95Tm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJNb3ZlTm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVOb2RlOiAwLFxuICAgICAgICByZW5kZXJlckFwcGVuZENoaWxkOiAwLFxuICAgICAgICByZW5kZXJlckluc2VydEJlZm9yZTogMCxcbiAgICAgICAgcmVuZGVyZXJDcmVhdGVDb21tZW50OiAwLFxuICAgIH07XG4gICAgLy8gTWFrZSBzdXJlIHRvIHJlZmVyIHRvIG5nRGV2TW9kZSBhcyBbJ25nRGV2TW9kZSddIGZvciBjbG9zdXJlLlxuICAgIGNvbnN0IGFsbG93TmdEZXZNb2RlVHJ1ZSA9IGxvY2F0aW9uU3RyaW5nLmluZGV4T2YoJ25nRGV2TW9kZT1mYWxzZScpID09PSAtMTtcbiAgICBfZ2xvYmFsWyduZ0Rldk1vZGUnXSA9IGFsbG93TmdEZXZNb2RlVHJ1ZSAmJiBuZXdDb3VudGVycztcbiAgICByZXR1cm4gbmV3Q291bnRlcnM7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHNlZSBpZiB0aGUgYG5nRGV2TW9kZWAgaGFzIGJlZW4gc2V0LiBJZiB5ZXMsXG4gKiB0aGVuIHdlIGhvbm9yIGl0LCBvdGhlcndpc2Ugd2UgZGVmYXVsdCB0byBkZXYgbW9kZSB3aXRoIGFkZGl0aW9uYWwgY2hlY2tzLlxuICpcbiAqIFRoZSBpZGVhIGlzIHRoYXQgdW5sZXNzIHdlIGFyZSBkb2luZyBwcm9kdWN0aW9uIGJ1aWxkIHdoZXJlIHdlIGV4cGxpY2l0bHlcbiAqIHNldCBgbmdEZXZNb2RlID09IGZhbHNlYCB3ZSBzaG91bGQgYmUgaGVscGluZyB0aGUgZGV2ZWxvcGVyIGJ5IHByb3ZpZGluZ1xuICogYXMgbXVjaCBlYXJseSB3YXJuaW5nIGFuZCBlcnJvcnMgYXMgcG9zc2libGUuXG4gKlxuICogYMm1ybVkZWZpbmVDb21wb25lbnRgIGlzIGd1YXJhbnRlZWQgdG8gaGF2ZSBiZWVuIGNhbGxlZCBiZWZvcmUgYW55IGNvbXBvbmVudCB0ZW1wbGF0ZSBmdW5jdGlvbnNcbiAqIChhbmQgdGh1cyBJdnkgaW5zdHJ1Y3Rpb25zKSwgc28gYSBzaW5nbGUgaW5pdGlhbGl6YXRpb24gdGhlcmUgaXMgc3VmZmljaWVudCB0byBlbnN1cmUgbmdEZXZNb2RlXG4gKiBpcyBkZWZpbmVkIGZvciB0aGUgZW50aXJlIGluc3RydWN0aW9uIHNldC5cbiAqXG4gKiBXaGVuIGNoZWNraW5nIGBuZ0Rldk1vZGVgIG9uIHRvcGxldmVsLCBhbHdheXMgaW5pdCBpdCBiZWZvcmUgcmVmZXJlbmNpbmcgaXRcbiAqIChlLmcuIGAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgaW5pdE5nRGV2TW9kZSgpKWApLCBvdGhlcndpc2UgeW91IGNhblxuICogIGdldCBhIGBSZWZlcmVuY2VFcnJvcmAgbGlrZSBpbiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zMTU5NS5cbiAqXG4gKiBEZXRhaWxzIG9uIHBvc3NpYmxlIHZhbHVlcyBmb3IgYG5nRGV2TW9kZWAgY2FuIGJlIGZvdW5kIG9uIGl0cyBkb2NzdHJpbmcuXG4gKlxuICogTk9URTpcbiAqIC0gY2hhbmdlcyB0byB0aGUgYG5nRGV2TW9kZWAgbmFtZSBtdXN0IGJlIHN5bmNlZCB3aXRoIGBjb21waWxlci1jbGkvc3JjL3Rvb2xpbmcudHNgLlxuICovXG5mdW5jdGlvbiBpbml0TmdEZXZNb2RlKCkge1xuICAgIC8vIFRoZSBiZWxvdyBjaGVja3MgYXJlIHRvIGVuc3VyZSB0aGF0IGNhbGxpbmcgYGluaXROZ0Rldk1vZGVgIG11bHRpcGxlIHRpbWVzIGRvZXMgbm90XG4gICAgLy8gcmVzZXQgdGhlIGNvdW50ZXJzLlxuICAgIC8vIElmIHRoZSBgbmdEZXZNb2RlYCBpcyBub3QgYW4gb2JqZWN0LCB0aGVuIGl0IG1lYW5zIHdlIGhhdmUgbm90IGNyZWF0ZWQgdGhlIHBlcmYgY291bnRlcnNcbiAgICAvLyB5ZXQuXG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZVJlc2V0UGVyZkNvdW50ZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBuZ0Rldk1vZGUgIT09ICd1bmRlZmluZWQnICYmICEhbmdEZXZNb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgcmV1c2VhYmxlIFwiZW1wdHlcIiBzeW1ib2xzIHRoYXQgY2FuIGJlIHVzZWQgYXMgZGVmYXVsdCByZXR1cm4gdmFsdWVzXG4gKiBpbiBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIHJlbmRlcmluZyBjb2RlLiBCZWNhdXNlIHRoZSBzYW1lIHN5bWJvbHMgYXJlIHJldHVybmVkLCB0aGlzXG4gKiBhbGxvd3MgZm9yIGlkZW50aXR5IGNoZWNrcyBhZ2FpbnN0IHRoZXNlIHZhbHVlcyB0byBiZSBjb25zaXN0ZW50bHkgdXNlZCBieSB0aGUgZnJhbWV3b3JrXG4gKiBjb2RlLlxuICovXG5jb25zdCBFTVBUWV9PQkogPSB7fTtcbmNvbnN0IEVNUFRZX0FSUkFZID0gW107XG4vLyBmcmVlemluZyB0aGUgdmFsdWVzIHByZXZlbnRzIGFueSBjb2RlIGZyb20gYWNjaWRlbnRhbGx5IGluc2VydGluZyBuZXcgdmFsdWVzIGluXG5pZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgaW5pdE5nRGV2TW9kZSgpKSB7XG4gICAgLy8gVGhlc2UgcHJvcGVydHkgYWNjZXNzZXMgY2FuIGJlIGlnbm9yZWQgYmVjYXVzZSBuZ0Rldk1vZGUgd2lsbCBiZSBzZXQgdG8gZmFsc2VcbiAgICAvLyB3aGVuIG9wdGltaXppbmcgY29kZSBhbmQgdGhlIHdob2xlIGlmIHN0YXRlbWVudCB3aWxsIGJlIGRyb3BwZWQuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgIE9iamVjdC5mcmVlemUoRU1QVFlfT0JKKTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgT2JqZWN0LmZyZWV6ZShFTVBUWV9BUlJBWSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgTkdfQ09NUF9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVjbXA6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19ESVJfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1ZGlyOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfUElQRV9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVwaXBlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfTU9EX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtW1vZDogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0ZBQ1RPUllfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1ZmFjOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLyoqXG4gKiBJZiBhIGRpcmVjdGl2ZSBpcyBkaVB1YmxpYywgYmxvb21BZGQgc2V0cyBhIHByb3BlcnR5IG9uIHRoZSB0eXBlIHdpdGggdGhpcyBjb25zdGFudCBhc1xuICogdGhlIGtleSBhbmQgdGhlIGRpcmVjdGl2ZSdzIHVuaXF1ZSBJRCBhcyB0aGUgdmFsdWUuIFRoaXMgYWxsb3dzIHVzIHRvIG1hcCBkaXJlY3RpdmVzIHRvIHRoZWlyXG4gKiBibG9vbSBmaWx0ZXIgYml0IGZvciBESS5cbiAqL1xuLy8gVE9ETyhtaXNrbyk6IFRoaXMgaXMgd3JvbmcuIFRoZSBOR19FTEVNRU5UX0lEIHNob3VsZCBuZXZlciBiZSBtaW5pZmllZC5cbmNvbnN0IE5HX0VMRU1FTlRfSUQgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgX19OR19FTEVNRU5UX0lEX186IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9yZW5kZXJDb21wQ291bnQgPSAwO1xuLyoqXG4gKiBDcmVhdGUgYSBjb21wb25lbnQgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICpcbiAqICMgRXhhbXBsZVxuICogYGBgXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIC8vIEdlbmVyYXRlZCBieSBBbmd1bGFyIFRlbXBsYXRlIENvbXBpbGVyXG4gKiAgIC8vIFtTeW1ib2xdIHN5bnRheCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgYnkgVHlwZVNjcmlwdCB1bnRpbCB2Mi43XG4gKiAgIHN0YXRpYyDJtWNtcCA9IGRlZmluZUNvbXBvbmVudCh7XG4gKiAgICAgLi4uXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZGVmaW5lQ29tcG9uZW50KGNvbXBvbmVudERlZmluaXRpb24pIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgbmdEZXZNb2RlLiBUaGlzIG11c3QgYmUgdGhlIGZpcnN0IHN0YXRlbWVudCBpbiDJtcm1ZGVmaW5lQ29tcG9uZW50LlxuICAgICAgICAvLyBTZWUgdGhlIGBpbml0TmdEZXZNb2RlYCBkb2NzdHJpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGNvbXBvbmVudERlZmluaXRpb24udHlwZTtcbiAgICAgICAgY29uc3QgZGVjbGFyZWRJbnB1dHMgPSB7fTtcbiAgICAgICAgY29uc3QgZGVmID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHByb3ZpZGVyc1Jlc29sdmVyOiBudWxsLFxuICAgICAgICAgICAgZGVjbHM6IGNvbXBvbmVudERlZmluaXRpb24uZGVjbHMsXG4gICAgICAgICAgICB2YXJzOiBjb21wb25lbnREZWZpbml0aW9uLnZhcnMsXG4gICAgICAgICAgICBmYWN0b3J5OiBudWxsLFxuICAgICAgICAgICAgdGVtcGxhdGU6IGNvbXBvbmVudERlZmluaXRpb24udGVtcGxhdGUgfHwgbnVsbCxcbiAgICAgICAgICAgIGNvbnN0czogY29tcG9uZW50RGVmaW5pdGlvbi5jb25zdHMgfHwgbnVsbCxcbiAgICAgICAgICAgIG5nQ29udGVudFNlbGVjdG9yczogY29tcG9uZW50RGVmaW5pdGlvbi5uZ0NvbnRlbnRTZWxlY3RvcnMsXG4gICAgICAgICAgICBob3N0QmluZGluZ3M6IGNvbXBvbmVudERlZmluaXRpb24uaG9zdEJpbmRpbmdzIHx8IG51bGwsXG4gICAgICAgICAgICBob3N0VmFyczogY29tcG9uZW50RGVmaW5pdGlvbi5ob3N0VmFycyB8fCAwLFxuICAgICAgICAgICAgaG9zdEF0dHJzOiBjb21wb25lbnREZWZpbml0aW9uLmhvc3RBdHRycyB8fCBudWxsLFxuICAgICAgICAgICAgY29udGVudFF1ZXJpZXM6IGNvbXBvbmVudERlZmluaXRpb24uY29udGVudFF1ZXJpZXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGRlY2xhcmVkSW5wdXRzOiBkZWNsYXJlZElucHV0cyxcbiAgICAgICAgICAgIGlucHV0czogbnVsbCxcbiAgICAgICAgICAgIG91dHB1dHM6IG51bGwsXG4gICAgICAgICAgICBleHBvcnRBczogY29tcG9uZW50RGVmaW5pdGlvbi5leHBvcnRBcyB8fCBudWxsLFxuICAgICAgICAgICAgb25QdXNoOiBjb21wb25lbnREZWZpbml0aW9uLmNoYW5nZURldGVjdGlvbiA9PT0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgZGlyZWN0aXZlRGVmczogbnVsbCxcbiAgICAgICAgICAgIHBpcGVEZWZzOiBudWxsLFxuICAgICAgICAgICAgc2VsZWN0b3JzOiBjb21wb25lbnREZWZpbml0aW9uLnNlbGVjdG9ycyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIHZpZXdRdWVyeTogY29tcG9uZW50RGVmaW5pdGlvbi52aWV3UXVlcnkgfHwgbnVsbCxcbiAgICAgICAgICAgIGZlYXR1cmVzOiBjb21wb25lbnREZWZpbml0aW9uLmZlYXR1cmVzIHx8IG51bGwsXG4gICAgICAgICAgICBkYXRhOiBjb21wb25lbnREZWZpbml0aW9uLmRhdGEgfHwge30sXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb21wb25lbnREZWZpbml0aW9uLmVuY2Fwc3VsYXRpb24gfHwgVmlld0VuY2Fwc3VsYXRpb24kMS5FbXVsYXRlZCxcbiAgICAgICAgICAgIGlkOiAnYycsXG4gICAgICAgICAgICBzdHlsZXM6IGNvbXBvbmVudERlZmluaXRpb24uc3R5bGVzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgXzogbnVsbCxcbiAgICAgICAgICAgIHNldElucHV0OiBudWxsLFxuICAgICAgICAgICAgc2NoZW1hczogY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWFzIHx8IG51bGwsXG4gICAgICAgICAgICB0VmlldzogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlVHlwZXMgPSBjb21wb25lbnREZWZpbml0aW9uLmRpcmVjdGl2ZXM7XG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSBjb21wb25lbnREZWZpbml0aW9uLmZlYXR1cmVzO1xuICAgICAgICBjb25zdCBwaXBlVHlwZXMgPSBjb21wb25lbnREZWZpbml0aW9uLnBpcGVzO1xuICAgICAgICBkZWYuaWQgKz0gX3JlbmRlckNvbXBDb3VudCsrO1xuICAgICAgICBkZWYuaW5wdXRzID0gaW52ZXJ0T2JqZWN0KGNvbXBvbmVudERlZmluaXRpb24uaW5wdXRzLCBkZWNsYXJlZElucHV0cyksXG4gICAgICAgICAgICBkZWYub3V0cHV0cyA9IGludmVydE9iamVjdChjb21wb25lbnREZWZpbml0aW9uLm91dHB1dHMpLFxuICAgICAgICAgICAgZmVhdHVyZSAmJiBmZWF0dXJlLmZvckVhY2goKGZuKSA9PiBmbihkZWYpKTtcbiAgICAgICAgZGVmLmRpcmVjdGl2ZURlZnMgPSBkaXJlY3RpdmVUeXBlcyA/XG4gICAgICAgICAgICAoKSA9PiAodHlwZW9mIGRpcmVjdGl2ZVR5cGVzID09PSAnZnVuY3Rpb24nID8gZGlyZWN0aXZlVHlwZXMoKSA6IGRpcmVjdGl2ZVR5cGVzKVxuICAgICAgICAgICAgICAgIC5tYXAoZXh0cmFjdERpcmVjdGl2ZURlZikgOlxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgZGVmLnBpcGVEZWZzID0gcGlwZVR5cGVzID9cbiAgICAgICAgICAgICgpID0+ICh0eXBlb2YgcGlwZVR5cGVzID09PSAnZnVuY3Rpb24nID8gcGlwZVR5cGVzKCkgOiBwaXBlVHlwZXMpLm1hcChleHRyYWN0UGlwZURlZikgOlxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9KTtcbn1cbi8qKlxuICogR2VuZXJhdGVkIG5leHQgdG8gTmdNb2R1bGVzIHRvIG1vbmtleS1wYXRjaCBkaXJlY3RpdmUgYW5kIHBpcGUgcmVmZXJlbmNlcyBvbnRvIGEgY29tcG9uZW50J3NcbiAqIGRlZmluaXRpb24sIHdoZW4gZ2VuZXJhdGluZyBhIGRpcmVjdCByZWZlcmVuY2UgaW4gdGhlIGNvbXBvbmVudCBmaWxlIHdvdWxkIG90aGVyd2lzZSBjcmVhdGUgYW5cbiAqIGltcG9ydCBjeWNsZS5cbiAqXG4gKiBTZWUgW3RoaXMgZXhwbGFuYXRpb25dKGh0dHBzOi8vaGFja21kLmlvL09kdzgwRDBwUjZ5ZnNPamdfN1hDSmc/dmlldykgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2V0Q29tcG9uZW50U2NvcGUodHlwZSwgZGlyZWN0aXZlcywgcGlwZXMpIHtcbiAgICBjb25zdCBkZWYgPSB0eXBlLsm1Y21wO1xuICAgIGRlZi5kaXJlY3RpdmVEZWZzID0gKCkgPT4gZGlyZWN0aXZlcy5tYXAoZXh0cmFjdERpcmVjdGl2ZURlZik7XG4gICAgZGVmLnBpcGVEZWZzID0gKCkgPT4gcGlwZXMubWFwKGV4dHJhY3RQaXBlRGVmKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3REaXJlY3RpdmVEZWYodHlwZSkge1xuICAgIGNvbnN0IGRlZiA9IGdldENvbXBvbmVudERlZih0eXBlKSB8fCBnZXREaXJlY3RpdmVEZWYodHlwZSk7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhZGVmKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dHlwZS5uYW1lfScgaXMgbmVpdGhlciAnQ29tcG9uZW50VHlwZScgb3IgJ0RpcmVjdGl2ZVR5cGUnLmApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmO1xufVxuZnVuY3Rpb24gZXh0cmFjdFBpcGVEZWYodHlwZSkge1xuICAgIGNvbnN0IGRlZiA9IGdldFBpcGVEZWYkMSh0eXBlKTtcbiAgICBpZiAobmdEZXZNb2RlICYmICFkZWYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHt0eXBlLm5hbWV9JyBpcyBub3QgYSAnUGlwZVR5cGUnLmApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmO1xufVxuY29uc3QgYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZCA9IHt9O1xuLyoqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZGVmaW5lTmdNb2R1bGUoZGVmKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICB0eXBlOiBkZWYudHlwZSxcbiAgICAgICAgICAgIGJvb3RzdHJhcDogZGVmLmJvb3RzdHJhcCB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVmLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIGltcG9ydHM6IGRlZi5pbXBvcnRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgZXhwb3J0czogZGVmLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICB0cmFuc2l0aXZlQ29tcGlsZVNjb3BlczogbnVsbCxcbiAgICAgICAgICAgIHNjaGVtYXM6IGRlZi5zY2hlbWFzIHx8IG51bGwsXG4gICAgICAgICAgICBpZDogZGVmLmlkIHx8IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWYuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZFtkZWYuaWRdID0gZGVmLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbn1cbi8qKlxuICogQWRkcyB0aGUgbW9kdWxlIG1ldGFkYXRhIHRoYXQgaXMgbmVjZXNzYXJ5IHRvIGNvbXB1dGUgdGhlIG1vZHVsZSdzIHRyYW5zaXRpdmUgc2NvcGUgdG8gYW5cbiAqIGV4aXN0aW5nIG1vZHVsZSBkZWZpbml0aW9uLlxuICpcbiAqIFNjb3BlIG1ldGFkYXRhIG9mIG1vZHVsZXMgaXMgbm90IHVzZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMsIHNvIGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gY2FuIGJlXG4gKiBtYXJrZWQgcHVyZSB0byB0cmVlLXNoYWtlIGl0IGZyb20gdGhlIGJ1bmRsZSwgYWxsb3dpbmcgZm9yIGFsbCByZWZlcmVuY2VkIGRlY2xhcmF0aW9uc1xuICogdG8gYmVjb21lIGVsaWdpYmxlIGZvciB0cmVlLXNoYWtpbmcgYXMgd2VsbC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2V0TmdNb2R1bGVTY29wZSh0eXBlLCBzY29wZSkge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZih0eXBlLCB0cnVlKTtcbiAgICAgICAgbmdNb2R1bGVEZWYuZGVjbGFyYXRpb25zID0gc2NvcGUuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZO1xuICAgICAgICBuZ01vZHVsZURlZi5pbXBvcnRzID0gc2NvcGUuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWTtcbiAgICAgICAgbmdNb2R1bGVEZWYuZXhwb3J0cyA9IHNjb3BlLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVk7XG4gICAgfSk7XG59XG4vKipcbiAqIEludmVydHMgYW4gaW5wdXRzIG9yIG91dHB1dHMgbG9va3VwIHN1Y2ggdGhhdCB0aGUga2V5cywgd2hpY2ggd2VyZSB0aGVcbiAqIG1pbmlmaWVkIGtleXMsIGFyZSBwYXJ0IG9mIHRoZSB2YWx1ZXMsIGFuZCB0aGUgdmFsdWVzIGFyZSBwYXJzZWQgc28gdGhhdFxuICogdGhlIHB1YmxpY05hbWUgb2YgdGhlIHByb3BlcnR5IGlzIHRoZSBuZXcga2V5XG4gKlxuICogZS5nLiBmb3JcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIENvbXAge1xuICogICBASW5wdXQoKVxuICogICBwcm9wTmFtZTE6IHN0cmluZztcbiAqXG4gKiAgIEBJbnB1dCgncHVibGljTmFtZTInKVxuICogICBkZWNsYXJlZFByb3BOYW1lMjogbnVtYmVyO1xuICogfVxuICogYGBgXG4gKlxuICogd2lsbCBiZSBzZXJpYWxpemVkIGFzXG4gKlxuICogYGBgXG4gKiB7XG4gKiAgIHByb3BOYW1lMTogJ3Byb3BOYW1lMScsXG4gKiAgIGRlY2xhcmVkUHJvcE5hbWUyOiBbJ3B1YmxpY05hbWUyJywgJ2RlY2xhcmVkUHJvcE5hbWUyJ10sXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB3aGljaCBpcyB0aGFuIHRyYW5zbGF0ZWQgYnkgdGhlIG1pbmlmaWVyIGFzOlxuICpcbiAqIGBgYFxuICoge1xuICogICBtaW5pZmllZFByb3BOYW1lMTogJ3Byb3BOYW1lMScsXG4gKiAgIG1pbmlmaWVkUHJvcE5hbWUyOiBbJ3B1YmxpY05hbWUyJywgJ2RlY2xhcmVkUHJvcE5hbWUyJ10sXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBiZWNvbWVzOiAocHVibGljIG5hbWUgPT4gbWluaWZpZWROYW1lKVxuICpcbiAqIGBgYFxuICoge1xuICogICdwcm9wTmFtZTEnOiAnbWluaWZpZWRQcm9wTmFtZTEnLFxuICogICdwdWJsaWNOYW1lMic6ICdtaW5pZmllZFByb3BOYW1lMicsXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBPcHRpb25hbGx5IHRoZSBmdW5jdGlvbiBjYW4gdGFrZSBgc2Vjb25kYXJ5YCB3aGljaCB3aWxsIHJlc3VsdCBpbjogKHB1YmxpYyBuYW1lID0+IGRlY2xhcmVkIG5hbWUpXG4gKlxuICogYGBgXG4gKiB7XG4gKiAgJ3Byb3BOYW1lMSc6ICdwcm9wTmFtZTEnLFxuICogICdwdWJsaWNOYW1lMic6ICdkZWNsYXJlZFByb3BOYW1lMicsXG4gKiB9XG4gKiBgYGBcbiAqXG5cbiAqL1xuZnVuY3Rpb24gaW52ZXJ0T2JqZWN0KG9iaiwgc2Vjb25kYXJ5KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKVxuICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld0xvb2t1cCA9IHt9O1xuICAgIGZvciAoY29uc3QgbWluaWZpZWRLZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobWluaWZpZWRLZXkpKSB7XG4gICAgICAgICAgICBsZXQgcHVibGljTmFtZSA9IG9ialttaW5pZmllZEtleV07XG4gICAgICAgICAgICBsZXQgZGVjbGFyZWROYW1lID0gcHVibGljTmFtZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHB1YmxpY05hbWUpKSB7XG4gICAgICAgICAgICAgICAgZGVjbGFyZWROYW1lID0gcHVibGljTmFtZVsxXTtcbiAgICAgICAgICAgICAgICBwdWJsaWNOYW1lID0gcHVibGljTmFtZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0xvb2t1cFtwdWJsaWNOYW1lXSA9IG1pbmlmaWVkS2V5O1xuICAgICAgICAgICAgaWYgKHNlY29uZGFyeSkge1xuICAgICAgICAgICAgICAgIChzZWNvbmRhcnlbcHVibGljTmFtZV0gPSBkZWNsYXJlZE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdMb29rdXA7XG59XG4vKipcbiAqIENyZWF0ZSBhIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiAjIEV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIC8vIEdlbmVyYXRlZCBieSBBbmd1bGFyIFRlbXBsYXRlIENvbXBpbGVyXG4gKiAgIC8vIFtTeW1ib2xdIHN5bnRheCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgYnkgVHlwZVNjcmlwdCB1bnRpbCB2Mi43XG4gKiAgIHN0YXRpYyDJtWRpciA9IMm1ybVkZWZpbmVEaXJlY3RpdmUoe1xuICogICAgIC4uLlxuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmNvbnN0IMm1ybVkZWZpbmVEaXJlY3RpdmUgPSDJtcm1ZGVmaW5lQ29tcG9uZW50O1xuLyoqXG4gKiBDcmVhdGUgYSBwaXBlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqICMgRXhhbXBsZVxuICogYGBgXG4gKiBjbGFzcyBNeVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcbiAqICAgLy8gR2VuZXJhdGVkIGJ5IEFuZ3VsYXIgVGVtcGxhdGUgQ29tcGlsZXJcbiAqICAgc3RhdGljIMm1cGlwZSA9IGRlZmluZVBpcGUoe1xuICogICAgIC4uLlxuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICogQHBhcmFtIHBpcGVEZWYgUGlwZSBkZWZpbml0aW9uIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXJcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZGVmaW5lUGlwZShwaXBlRGVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogcGlwZURlZi50eXBlLFxuICAgICAgICBuYW1lOiBwaXBlRGVmLm5hbWUsXG4gICAgICAgIGZhY3Rvcnk6IG51bGwsXG4gICAgICAgIHB1cmU6IHBpcGVEZWYucHVyZSAhPT0gZmFsc2UsXG4gICAgICAgIG9uRGVzdHJveTogcGlwZURlZi50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveSB8fCBudWxsXG4gICAgfTtcbn1cbi8qKlxuICogVGhlIGZvbGxvd2luZyBnZXR0ZXIgbWV0aG9kcyByZXRyaWV2ZSB0aGUgZGVmaW5pdGlvbiBmcm9tIHRoZSB0eXBlLiBDdXJyZW50bHkgdGhlIHJldHJpZXZhbFxuICogaG9ub3JzIGluaGVyaXRhbmNlLCBidXQgaW4gdGhlIGZ1dHVyZSB3ZSBtYXkgY2hhbmdlIHRoZSBydWxlIHRvIHJlcXVpcmUgdGhhdCBkZWZpbml0aW9ucyBhcmVcbiAqIGV4cGxpY2l0LiBUaGlzIHdvdWxkIHJlcXVpcmUgc29tZSBzb3J0IG9mIG1pZ3JhdGlvbiBzdHJhdGVneS5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZVtOR19DT01QX0RFRl0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZURlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbTkdfRElSX0RFRl0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFBpcGVEZWYkMSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbTkdfUElQRV9ERUZdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXROZ01vZHVsZURlZih0eXBlLCB0aHJvd05vdEZvdW5kKSB7XG4gICAgY29uc3QgbmdNb2R1bGVEZWYgPSB0eXBlW05HX01PRF9ERUZdIHx8IG51bGw7XG4gICAgaWYgKCFuZ01vZHVsZURlZiAmJiB0aHJvd05vdEZvdW5kID09PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSAke3N0cmluZ2lmeSh0eXBlKX0gZG9lcyBub3QgaGF2ZSAnybVtb2QnIHByb3BlcnR5LmApO1xuICAgIH1cbiAgICByZXR1cm4gbmdNb2R1bGVEZWY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gQmVsb3cgYXJlIGNvbnN0YW50cyBmb3IgTFZpZXcgaW5kaWNlcyB0byBoZWxwIHVzIGxvb2sgdXAgTFZpZXcgbWVtYmVyc1xuLy8gd2l0aG91dCBoYXZpbmcgdG8gcmVtZW1iZXIgdGhlIHNwZWNpZmljIGluZGljZXMuXG4vLyBVZ2xpZnkgd2lsbCBpbmxpbmUgdGhlc2Ugd2hlbiBtaW5pZnlpbmcgc28gdGhlcmUgc2hvdWxkbid0IGJlIGEgY29zdC5cbmNvbnN0IEhPU1QgPSAwO1xuY29uc3QgVFZJRVcgPSAxO1xuY29uc3QgRkxBR1MgPSAyO1xuY29uc3QgUEFSRU5UID0gMztcbmNvbnN0IE5FWFQgPSA0O1xuY29uc3QgVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0ggPSA1O1xuY29uc3QgVF9IT1NUID0gNjtcbmNvbnN0IENMRUFOVVAgPSA3O1xuY29uc3QgQ09OVEVYVCA9IDg7XG5jb25zdCBJTkpFQ1RPUiQxID0gOTtcbmNvbnN0IFJFTkRFUkVSX0ZBQ1RPUlkgPSAxMDtcbmNvbnN0IFJFTkRFUkVSID0gMTE7XG5jb25zdCBTQU5JVElaRVIgPSAxMjtcbmNvbnN0IENISUxEX0hFQUQgPSAxMztcbmNvbnN0IENISUxEX1RBSUwgPSAxNDtcbi8vIEZJWE1FKG1pc2tvKTogSW52ZXN0aWdhdGUgaWYgdGhlIHRocmVlIGRlY2xhcmF0aW9ucyBhcmVuJ3QgYWxsIHNhbWUgdGhpbmcuXG5jb25zdCBERUNMQVJBVElPTl9WSUVXID0gMTU7XG5jb25zdCBERUNMQVJBVElPTl9DT01QT05FTlRfVklFVyA9IDE2O1xuY29uc3QgREVDTEFSQVRJT05fTENPTlRBSU5FUiA9IDE3O1xuY29uc3QgUFJFT1JERVJfSE9PS19GTEFHUyA9IDE4O1xuY29uc3QgUVVFUklFUyA9IDE5O1xuLyoqXG4gKiBTaXplIG9mIExWaWV3J3MgaGVhZGVyLiBOZWNlc3NhcnkgdG8gYWRqdXN0IGZvciBpdCB3aGVuIHNldHRpbmcgc2xvdHMuXG4gKlxuICogSU1QT1JUQU5UOiBgSEVBREVSX09GRlNFVGAgc2hvdWxkIG9ubHkgYmUgcmVmZXJyZWQgdG8gdGhlIGluIHRoZSBgybXJtSpgIGluc3RydWN0aW9ucyB0byB0cmFuc2xhdGVcbiAqIGluc3RydWN0aW9uIGluZGV4IGludG8gYExWaWV3YCBpbmRleC4gQWxsIG90aGVyIGluZGV4ZXMgc2hvdWxkIGJlIGluIHRoZSBgTFZpZXdgIGluZGV4IHNwYWNlIGFuZFxuICogdGhlcmUgc2hvdWxkIGJlIG5vIG5lZWQgdG8gcmVmZXIgdG8gYEhFQURFUl9PRkZTRVRgIGFueXdoZXJlIGVsc2UuXG4gKi9cbmNvbnN0IEhFQURFUl9PRkZTRVQgPSAyMDtcbi8qKlxuICogQ29udmVydHMgYFRWaWV3VHlwZWAgaW50byBodW1hbiByZWFkYWJsZSB0ZXh0LlxuICogTWFrZSBzdXJlIHRoaXMgbWF0Y2hlcyB3aXRoIGBUVmlld1R5cGVgXG4gKi9cbmNvbnN0IFRWaWV3VHlwZUFzU3RyaW5nID0gW1xuICAgICdSb290JyxcbiAgICAnQ29tcG9uZW50JyxcbiAgICAnRW1iZWRkZWQnLCAvLyAyXG5dO1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkOCA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTcGVjaWFsIGxvY2F0aW9uIHdoaWNoIGFsbG93cyBlYXN5IGlkZW50aWZpY2F0aW9uIG9mIHR5cGUuIElmIHdlIGhhdmUgYW4gYXJyYXkgd2hpY2ggd2FzXG4gKiByZXRyaWV2ZWQgZnJvbSB0aGUgYExWaWV3YCBhbmQgdGhhdCBhcnJheSBoYXMgYHRydWVgIGF0IGBUWVBFYCBsb2NhdGlvbiwgd2Uga25vdyBpdCBpc1xuICogYExDb250YWluZXJgLlxuICovXG5jb25zdCBUWVBFID0gMTtcbi8qKlxuICogQmVsb3cgYXJlIGNvbnN0YW50cyBmb3IgTENvbnRhaW5lciBpbmRpY2VzIHRvIGhlbHAgdXMgbG9vayB1cCBMQ29udGFpbmVyIG1lbWJlcnNcbiAqIHdpdGhvdXQgaGF2aW5nIHRvIHJlbWVtYmVyIHRoZSBzcGVjaWZpYyBpbmRpY2VzLlxuICogVWdsaWZ5IHdpbGwgaW5saW5lIHRoZXNlIHdoZW4gbWluaWZ5aW5nIHNvIHRoZXJlIHNob3VsZG4ndCBiZSBhIGNvc3QuXG4gKi9cbi8qKlxuICogRmxhZyB0byBzaWduaWZ5IHRoYXQgdGhpcyBgTENvbnRhaW5lcmAgbWF5IGhhdmUgdHJhbnNwbGFudGVkIHZpZXdzIHdoaWNoIG5lZWQgdG8gYmUgY2hhbmdlXG4gKiBkZXRlY3RlZC4gKHNlZTogYExWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSlgLlxuICpcbiAqIFRoaXMgZmxhZywgb25jZSBzZXQsIGlzIG5ldmVyIHVuc2V0IGZvciB0aGUgYExDb250YWluZXJgLiBUaGlzIG1lYW5zIHRoYXQgd2hlbiB1bnNldCB3ZSBjYW4gc2tpcFxuICogYSBsb3Qgb2Ygd29yayBpbiBgcmVmcmVzaEVtYmVkZGVkVmlld3NgLiBCdXQgd2hlbiBzZXQgd2Ugc3RpbGwgbmVlZCB0byB2ZXJpZnlcbiAqIHRoYXQgdGhlIGBNT1ZFRF9WSUVXU2AgYXJlIHRyYW5zcGxhbnRlZCBhbmQgb24tcHVzaC5cbiAqL1xuY29uc3QgSEFTX1RSQU5TUExBTlRFRF9WSUVXUyA9IDI7XG4vLyBQQVJFTlQsIE5FWFQsIFRSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIIGFyZSBpbmRpY2VzIDMsIDQsIGFuZCA1XG4vLyBBcyB3ZSBhbHJlYWR5IGhhdmUgdGhlc2UgY29uc3RhbnRzIGluIExWaWV3LCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNyZWF0ZSB0aGVtLlxuLy8gVF9IT1NUIGlzIGluZGV4IDZcbi8vIFdlIGFscmVhZHkgaGF2ZSB0aGlzIGNvbnN0YW50cyBpbiBMVmlldywgd2UgZG9uJ3QgbmVlZCB0byByZS1jcmVhdGUgaXQuXG5jb25zdCBOQVRJVkUgPSA3O1xuY29uc3QgVklFV19SRUZTID0gODtcbmNvbnN0IE1PVkVEX1ZJRVdTID0gOTtcbi8qKlxuICogU2l6ZSBvZiBMQ29udGFpbmVyJ3MgaGVhZGVyLiBSZXByZXNlbnRzIHRoZSBpbmRleCBhZnRlciB3aGljaCBhbGwgdmlld3MgaW4gdGhlXG4gKiBjb250YWluZXIgd2lsbCBiZSBpbnNlcnRlZC4gV2UgbmVlZCB0byBrZWVwIGEgcmVjb3JkIG9mIGN1cnJlbnQgdmlld3Mgc28gd2Uga25vd1xuICogd2hpY2ggdmlld3MgYXJlIGFscmVhZHkgaW4gdGhlIERPTSAoYW5kIGRvbid0IG5lZWQgdG8gYmUgcmUtYWRkZWQpIGFuZCBzbyB3ZSBjYW5cbiAqIHJlbW92ZSB2aWV3cyBmcm9tIHRoZSBET00gd2hlbiB0aGV5IGFyZSBubyBsb25nZXIgcmVxdWlyZWQuXG4gKi9cbmNvbnN0IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUID0gMTA7XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ3ID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRydWUgaWYgYHZhbHVlYCBpcyBgTFZpZXdgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIGlzTFZpZXcodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0Jztcbn1cbi8qKlxuICogVHJ1ZSBpZiBgdmFsdWVgIGlzIGBMQ29udGFpbmVyYC5cbiAqIEBwYXJhbSB2YWx1ZSB3cmFwcGVkIHZhbHVlIG9mIGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYFxuICovXG5mdW5jdGlvbiBpc0xDb250YWluZXIodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWVbVFlQRV0gPT09IHRydWU7XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRRdWVyeUhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgOCAvKiBoYXNDb250ZW50UXVlcnkgKi8pICE9PSAwO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRIb3N0KHROb2RlKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKSA9PT0gMiAvKiBpc0NvbXBvbmVudEhvc3QgKi87XG59XG5mdW5jdGlvbiBpc0RpcmVjdGl2ZUhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMSAvKiBpc0RpcmVjdGl2ZUhvc3QgKi8pID09PSAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLztcbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50RGVmKGRlZikge1xuICAgIHJldHVybiBkZWYudGVtcGxhdGUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1Jvb3RWaWV3KHRhcmdldCkge1xuICAgIHJldHVybiAodGFyZ2V0W0ZMQUdTXSAmIDUxMiAvKiBJc1Jvb3QgKi8pICE9PSAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFtBc3NlcnQgZnVuY3Rpb25zIGRvIG5vdCBjb25zdHJhaW50IHR5cGUgd2hlbiB0aGV5IGFyZSBndWFyZGVkIGJ5IGEgdHJ1dGh5XG4vLyBleHByZXNzaW9uLl0oaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zNzI5NSlcbmZ1bmN0aW9uIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KSB7XG4gICAgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgbFZpZXdbVFZJRVddKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIHRWaWV3KSB7XG4gICAgYXNzZXJ0VE5vZGUodE5vZGUpO1xuICAgIHROb2RlLmhhc093blByb3BlcnR5KCd0Vmlld18nKSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0Tm9kZS50Vmlld18sIHRWaWV3LCAnVGhpcyBUTm9kZSBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBUVmlldy4nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFROb2RlKHROb2RlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGlmICghKHROb2RlICYmIHR5cGVvZiB0Tm9kZSA9PT0gJ29iamVjdCcgJiYgdE5vZGUuaGFzT3duUHJvcGVydHkoJ2RpcmVjdGl2ZVN0eWxpbmdMYXN0JykpKSB7XG4gICAgICAgIHRocm93RXJyb3IoJ05vdCBvZiB0eXBlIFROb2RlLCBnb3Q6ICcgKyB0Tm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VEljdSh0SWN1KSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0SWN1LCAnRXhwZWN0ZWQgVEljdSB0byBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKCEodHlwZW9mIHRJY3UuY3VycmVudENhc2VMVmlld0luZGV4ID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcignT2JqZWN0IGlzIG5vdCBvZiBUSWN1IHR5cGUuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Q29tcG9uZW50VHlwZShhY3R1YWwsIG1zZyA9ICdUeXBlIHBhc3NlZCBpbiBpcyBub3QgQ29tcG9uZW50VHlwZSwgaXQgZG9lcyBub3QgaGF2ZSBcXCfJtWNtcFxcJyBwcm9wZXJ0eS4nKSB7XG4gICAgaWYgKCFnZXRDb21wb25lbnREZWYoYWN0dWFsKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TmdNb2R1bGVUeXBlKGFjdHVhbCwgbXNnID0gJ1R5cGUgcGFzc2VkIGluIGlzIG5vdCBOZ01vZHVsZVR5cGUsIGl0IGRvZXMgbm90IGhhdmUgXFwnybVtb2RcXCcgcHJvcGVydHkuJykge1xuICAgIGlmICghZ2V0TmdNb2R1bGVEZWYoYWN0dWFsKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Q3VycmVudFROb2RlSXNQYXJlbnQoaXNQYXJlbnQpIHtcbiAgICBhc3NlcnRFcXVhbChpc1BhcmVudCwgdHJ1ZSwgJ2N1cnJlbnRUTm9kZSBzaG91bGQgYmUgYSBwYXJlbnQnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEhhc1BhcmVudCh0Tm9kZSkge1xuICAgIGFzc2VydERlZmluZWQodE5vZGUsICdjdXJyZW50VE5vZGUgc2hvdWxkIGV4aXN0IScpO1xuICAgIGFzc2VydERlZmluZWQodE5vZGUucGFyZW50LCAnY3VycmVudFROb2RlIHNob3VsZCBoYXZlIGEgcGFyZW50Jyk7XG59XG5mdW5jdGlvbiBhc3NlcnREYXRhTmV4dChsVmlldywgaW5kZXgsIGFycikge1xuICAgIGlmIChhcnIgPT0gbnVsbClcbiAgICAgICAgYXJyID0gbFZpZXc7XG4gICAgYXNzZXJ0RXF1YWwoYXJyLmxlbmd0aCwgaW5kZXgsIGBpbmRleCAke2luZGV4fSBleHBlY3RlZCB0byBiZSBhdCB0aGUgZW5kIG9mIGFyciAobGVuZ3RoICR7YXJyLmxlbmd0aH0pYCk7XG59XG5mdW5jdGlvbiBhc3NlcnRMQ29udGFpbmVyKHZhbHVlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2YWx1ZSwgJ0xDb250YWluZXIgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgYXNzZXJ0RXF1YWwoaXNMQ29udGFpbmVyKHZhbHVlKSwgdHJ1ZSwgJ0V4cGVjdGluZyBMQ29udGFpbmVyJyk7XG59XG5mdW5jdGlvbiBhc3NlcnRMVmlld09yVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgdmFsdWUgJiYgYXNzZXJ0RXF1YWwoaXNMVmlldyh2YWx1ZSksIHRydWUsICdFeHBlY3RpbmcgTFZpZXcgb3IgdW5kZWZpbmVkIG9yIG51bGwnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExWaWV3KHZhbHVlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2YWx1ZSwgJ0xWaWV3IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGFzc2VydEVxdWFsKGlzTFZpZXcodmFsdWUpLCB0cnVlLCAnRXhwZWN0aW5nIExWaWV3Jyk7XG59XG5mdW5jdGlvbiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnRFcXVhbCh0Vmlldy5maXJzdENyZWF0ZVBhc3MsIHRydWUsIGVyck1lc3NhZ2UgfHwgJ1Nob3VsZCBvbmx5IGJlIGNhbGxlZCBpbiBmaXJzdCBjcmVhdGUgcGFzcy4nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEZpcnN0VXBkYXRlUGFzcyh0VmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydEVxdWFsKHRWaWV3LmZpcnN0VXBkYXRlUGFzcywgdHJ1ZSwgZXJyTWVzc2FnZSB8fCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IHVwZGF0ZSBwYXNzLicpO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgYmFzaWMgc2FuaXR5IGNoZWNrIHRoYXQgYW4gb2JqZWN0IGlzIHByb2JhYmx5IGEgZGlyZWN0aXZlIGRlZi4gRGlyZWN0aXZlRGVmIGlzXG4gKiBhbiBpbnRlcmZhY2UsIHNvIHdlIGNhbid0IGRvIGEgZGlyZWN0IGluc3RhbmNlb2YgY2hlY2suXG4gKi9cbmZ1bmN0aW9uIGFzc2VydERpcmVjdGl2ZURlZihvYmopIHtcbiAgICBpZiAob2JqLnR5cGUgPT09IHVuZGVmaW5lZCB8fCBvYmouc2VsZWN0b3JzID09IHVuZGVmaW5lZCB8fCBvYmouaW5wdXRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgRXhwZWN0ZWQgYSBEaXJlY3RpdmVEZWYvQ29tcG9uZW50RGVmIGFuZCB0aGlzIG9iamVjdCBkb2VzIG5vdCBzZWVtIHRvIGhhdmUgdGhlIGV4cGVjdGVkIHNoYXBlLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5EZWNsUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKEhFQURFUl9PRkZTRVQsIHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCBpbmRleCk7XG59XG5mdW5jdGlvbiBhc3NlcnRJbmRleEluVmFyc1JhbmdlKGxWaWV3LCBpbmRleCkge1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbMV07XG4gICAgYXNzZXJ0QmV0d2Vlbih0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgdFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKHRWaWV3LmV4cGFuZG9TdGFydEluZGV4LCBsVmlldy5sZW5ndGgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEJldHdlZW4obG93ZXIsIHVwcGVyLCBpbmRleCkge1xuICAgIGlmICghKGxvd2VyIDw9IGluZGV4ICYmIGluZGV4IDwgdXBwZXIpKSB7XG4gICAgICAgIHRocm93RXJyb3IoYEluZGV4IG91dCBvZiByYW5nZSAoZXhwZWN0aW5nICR7bG93ZXJ9IDw9ICR7aW5kZXh9IDwgJHt1cHBlcn0pYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0UHJvamVjdGlvblNsb3RzKGxWaWV3LCBlcnJNZXNzYWdlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10sICdDb21wb25lbnQgdmlld3Mgc2hvdWxkIGV4aXN0LicpO1xuICAgIGFzc2VydERlZmluZWQobFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddW1RfSE9TVF0ucHJvamVjdGlvbiwgZXJyTWVzc2FnZSB8fFxuICAgICAgICAnQ29tcG9uZW50cyB3aXRoIHByb2plY3Rpb24gbm9kZXMgKDxuZy1jb250ZW50PikgbXVzdCBoYXZlIHByb2plY3Rpb24gc2xvdHMgZGVmaW5lZC4nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFBhcmVudFZpZXcobFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxWaWV3LCBlcnJNZXNzYWdlIHx8ICdDb21wb25lbnQgdmlld3Mgc2hvdWxkIGFsd2F5cyBoYXZlIGEgcGFyZW50IHZpZXcgKGNvbXBvbmVudFxcJ3MgaG9zdCB2aWV3KScpO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgYmFzaWMgc2FuaXR5IGNoZWNrIHRoYXQgdGhlIGBpbmplY3RvckluZGV4YCBzZWVtcyB0byBwb2ludCB0byB3aGF0IGxvb2tzIGxpa2UgYVxuICogTm9kZUluamVjdG9yIGRhdGEgc3RydWN0dXJlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIHdoaWNoIHNob3VsZCBiZSBjaGVja2VkLlxuICogQHBhcmFtIGluamVjdG9ySW5kZXggaW5kZXggaW50byB0aGUgYExWaWV3YCB3aGVyZSB0aGUgYE5vZGVJbmplY3RvcmAgaXMgZXhwZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vZGVJbmplY3RvcihsVmlldywgaW5qZWN0b3JJbmRleCkge1xuICAgIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGluamVjdG9ySW5kZXgpO1xuICAgIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGluamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqLyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAwXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAxXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAyXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAzXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA0XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA1XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA2XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA3XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL10sICdpbmplY3RvckluZGV4IHNob3VsZCBwb2ludCB0byBwYXJlbnQgaW5qZWN0b3InKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRGYWN0b3J5RGVmKHR5cGUsIHRocm93Tm90Rm91bmQpIHtcbiAgICBjb25zdCBoYXNGYWN0b3J5RGVmID0gdHlwZS5oYXNPd25Qcm9wZXJ0eShOR19GQUNUT1JZX0RFRik7XG4gICAgaWYgKCFoYXNGYWN0b3J5RGVmICYmIHRocm93Tm90Rm91bmQgPT09IHRydWUgJiYgbmdEZXZNb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSAke3N0cmluZ2lmeSh0eXBlKX0gZG9lcyBub3QgaGF2ZSAnybVmYWMnIHByb3BlcnR5LmApO1xuICAgIH1cbiAgICByZXR1cm4gaGFzRmFjdG9yeURlZiA/IHR5cGVbTkdfRkFDVE9SWV9ERUZdIDogbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBiYXNpYyBjaGFuZ2UgZnJvbSBhIHByZXZpb3VzIHRvIGEgbmV3IHZhbHVlIGZvciBhIHNpbmdsZVxuICogcHJvcGVydHkgb24gYSBkaXJlY3RpdmUgaW5zdGFuY2UuIFBhc3NlZCBhcyBhIHZhbHVlIGluIGFcbiAqIHtAbGluayBTaW1wbGVDaGFuZ2VzfSBvYmplY3QgdG8gdGhlIGBuZ09uQ2hhbmdlc2AgaG9vay5cbiAqXG4gKiBAc2VlIGBPbkNoYW5nZXNgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBTaW1wbGVDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmlyc3RDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgIHRoaXMuZmlyc3RDaGFuZ2UgPSBmaXJzdENoYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgbmV3IHZhbHVlIGlzIHRoZSBmaXJzdCB2YWx1ZSBhc3NpZ25lZC5cbiAgICAgKi9cbiAgICBpc0ZpcnN0Q2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoYW5nZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgTmdPbkNoYW5nZXNGZWF0dXJlIGRlY29yYXRlcyBhIGNvbXBvbmVudCB3aXRoIHN1cHBvcnQgZm9yIHRoZSBuZ09uQ2hhbmdlc1xuICogbGlmZWN5Y2xlIGhvb2ssIHNvIGl0IHNob3VsZCBiZSBpbmNsdWRlZCBpbiBhbnkgY29tcG9uZW50IHRoYXQgaW1wbGVtZW50c1xuICogdGhhdCBob29rLlxuICpcbiAqIElmIHRoZSBjb21wb25lbnQgb3IgZGlyZWN0aXZlIHVzZXMgaW5oZXJpdGFuY2UsIHRoZSBOZ09uQ2hhbmdlc0ZlYXR1cmUgTVVTVFxuICogYmUgaW5jbHVkZWQgYXMgYSBmZWF0dXJlIEFGVEVSIHtAbGluayBJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmV9LCBvdGhlcndpc2VcbiAqIGluaGVyaXRlZCBwcm9wZXJ0aWVzIHdpbGwgbm90IGJlIHByb3BhZ2F0ZWQgdG8gdGhlIG5nT25DaGFuZ2VzIGxpZmVjeWNsZVxuICogaG9vay5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICpcbiAqIGBgYFxuICogc3RhdGljIMm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgLi4uXG4gKiAgIGlucHV0czoge25hbWU6ICdwdWJsaWNOYW1lJ30sXG4gKiAgIGZlYXR1cmVzOiBbTmdPbkNoYW5nZXNGZWF0dXJlXVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1TmdPbkNoYW5nZXNGZWF0dXJlKCkge1xuICAgIHJldHVybiBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsO1xufVxuZnVuY3Rpb24gTmdPbkNoYW5nZXNGZWF0dXJlSW1wbChkZWZpbml0aW9uKSB7XG4gICAgaWYgKGRlZmluaXRpb24udHlwZS5wcm90b3R5cGUubmdPbkNoYW5nZXMpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5zZXRJbnB1dCA9IG5nT25DaGFuZ2VzU2V0SW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiByZW1lbWJlckNoYW5nZUhpc3RvcnlBbmRJbnZva2VPbkNoYW5nZXNIb29rO1xufVxuLy8gVGhpcyBvcHRpb24gZW5zdXJlcyB0aGF0IHRoZSBuZ09uQ2hhbmdlcyBsaWZlY3ljbGUgaG9vayB3aWxsIGJlIGluaGVyaXRlZFxuLy8gZnJvbSBzdXBlcmNsYXNzZXMgKGluIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZSkuXG4vKiogQG5vY29sbGFwc2UgKi9cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3Ncbsm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUubmdJbmhlcml0ID0gdHJ1ZTtcbi8qKlxuICogVGhpcyBpcyBhIHN5bnRoZXRpYyBsaWZlY3ljbGUgaG9vayB3aGljaCBnZXRzIGluc2VydGVkIGludG8gYFRWaWV3LnByZU9yZGVySG9va3NgIHRvIHNpbXVsYXRlXG4gKiBgbmdPbkNoYW5nZXNgLlxuICpcbiAqIFRoZSBob29rIHJlYWRzIHRoZSBgTmdTaW1wbGVDaGFuZ2VzU3RvcmVgIGRhdGEgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFuZCBpZiBjaGFuZ2VzIGFyZVxuICogZm91bmQgaXQgaW52b2tlcyBgbmdPbkNoYW5nZXNgIG9uIHRoZSBjb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHRoaXMgQ29tcG9uZW50IGluc3RhbmNlLiBCZWNhdXNlIHRoaXMgZnVuY3Rpb24gZ2V0cyBpbnNlcnRlZCBpbnRvIGBUVmlldy5wcmVPcmRlckhvb2tzYCxcbiAqICAgICBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCB3aXRoIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gcmVtZW1iZXJDaGFuZ2VIaXN0b3J5QW5kSW52b2tlT25DaGFuZ2VzSG9vaygpIHtcbiAgICBjb25zdCBzaW1wbGVDaGFuZ2VzU3RvcmUgPSBnZXRTaW1wbGVDaGFuZ2VzU3RvcmUodGhpcyk7XG4gICAgY29uc3QgY3VycmVudCA9IHNpbXBsZUNoYW5nZXNTdG9yZT8uY3VycmVudDtcbiAgICBpZiAoY3VycmVudCkge1xuICAgICAgICBjb25zdCBwcmV2aW91cyA9IHNpbXBsZUNoYW5nZXNTdG9yZS5wcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzID09PSBFTVBUWV9PQkopIHtcbiAgICAgICAgICAgIHNpbXBsZUNoYW5nZXNTdG9yZS5wcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOZXcgY2hhbmdlcyBhcmUgY29waWVkIHRvIHRoZSBwcmV2aW91cyBzdG9yZSwgc28gdGhhdCB3ZSBkb24ndCBsb3NlIGhpc3RvcnkgZm9yIGlucHV0c1xuICAgICAgICAgICAgLy8gd2hpY2ggd2VyZSBub3QgY2hhbmdlZCB0aGlzIHRpbWVcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNba2V5XSA9IGN1cnJlbnRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzaW1wbGVDaGFuZ2VzU3RvcmUuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubmdPbkNoYW5nZXMoY3VycmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbmdPbkNoYW5nZXNTZXRJbnB1dChpbnN0YW5jZSwgdmFsdWUsIHB1YmxpY05hbWUsIHByaXZhdGVOYW1lKSB7XG4gICAgY29uc3Qgc2ltcGxlQ2hhbmdlc1N0b3JlID0gZ2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlKSB8fFxuICAgICAgICBzZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UsIHsgcHJldmlvdXM6IEVNUFRZX09CSiwgY3VycmVudDogbnVsbCB9KTtcbiAgICBjb25zdCBjdXJyZW50ID0gc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQgfHwgKHNpbXBsZUNoYW5nZXNTdG9yZS5jdXJyZW50ID0ge30pO1xuICAgIGNvbnN0IHByZXZpb3VzID0gc2ltcGxlQ2hhbmdlc1N0b3JlLnByZXZpb3VzO1xuICAgIGNvbnN0IGRlY2xhcmVkTmFtZSA9IHRoaXMuZGVjbGFyZWRJbnB1dHNbcHVibGljTmFtZV07XG4gICAgY29uc3QgcHJldmlvdXNDaGFuZ2UgPSBwcmV2aW91c1tkZWNsYXJlZE5hbWVdO1xuICAgIGN1cnJlbnRbZGVjbGFyZWROYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UocHJldmlvdXNDaGFuZ2UgJiYgcHJldmlvdXNDaGFuZ2UuY3VycmVudFZhbHVlLCB2YWx1ZSwgcHJldmlvdXMgPT09IEVNUFRZX09CSik7XG4gICAgaW5zdGFuY2VbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG59XG5jb25zdCBTSU1QTEVfQ0hBTkdFU19TVE9SRSA9ICdfX25nU2ltcGxlQ2hhbmdlc19fJztcbmZ1bmN0aW9uIGdldFNpbXBsZUNoYW5nZXNTdG9yZShpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZVtTSU1QTEVfQ0hBTkdFU19TVE9SRV0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIHNldFNpbXBsZUNoYW5nZXNTdG9yZShpbnN0YW5jZSwgc3RvcmUpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VbU0lNUExFX0NIQU5HRVNfU1RPUkVdID0gc3RvcmU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IHByb2ZpbGVyQ2FsbGJhY2sgPSBudWxsO1xuLyoqXG4gKiBTZXRzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGludm9rZWQgYmVmb3JlIGFuZCBhZnRlciBwZXJmb3JtaW5nIGNlcnRhaW4gYWN0aW9ucyBhdFxuICogcnVudGltZSAoZm9yIGV4YW1wbGUsIGJlZm9yZSBhbmQgYWZ0ZXIgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uKS5cbiAqXG4gKiBXYXJuaW5nOiB0aGlzIGZ1bmN0aW9uIGlzICpJTlRFUk5BTCogYW5kIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaW4gYXBwbGljYXRpb24ncyBjb2RlLlxuICogVGhlIGNvbnRyYWN0IG9mIHRoZSBmdW5jdGlvbiBtaWdodCBiZSBjaGFuZ2VkIGluIGFueSByZWxlYXNlIGFuZC9vciB0aGUgZnVuY3Rpb24gY2FuIGJlIHJlbW92ZWRcbiAqIGNvbXBsZXRlbHkuXG4gKlxuICogQHBhcmFtIHByb2ZpbGVyIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IHRoZSBjYWxsZXIgb3IgbnVsbCB2YWx1ZSB0byBkaXNhYmxlIHByb2ZpbGluZy5cbiAqL1xuY29uc3Qgc2V0UHJvZmlsZXIgPSAocHJvZmlsZXIpID0+IHtcbiAgICBwcm9maWxlckNhbGxiYWNrID0gcHJvZmlsZXI7XG59O1xuLyoqXG4gKiBQcm9maWxlciBmdW5jdGlvbiB3aGljaCB3cmFwcyB1c2VyIGNvZGUgZXhlY3V0ZWQgYnkgdGhlIHJ1bnRpbWUuXG4gKlxuICogQHBhcmFtIGV2ZW50IFByb2ZpbGVyRXZlbnQgY29ycmVzcG9uZGluZyB0byB0aGUgZXhlY3V0aW9uIGNvbnRleHRcbiAqIEBwYXJhbSBpbnN0YW5jZSBjb21wb25lbnQgaW5zdGFuY2VcbiAqIEBwYXJhbSBob29rT3JMaXN0ZW5lciBsaWZlY3ljbGUgaG9vayBmdW5jdGlvbiBvciBvdXRwdXQgbGlzdGVuZXIuIFRoZSB2YWx1ZSBkZXBlbmRzIG9uIHRoZVxuICogIGV4ZWN1dGlvbiBjb250ZXh0XG4gKiBAcmV0dXJuc1xuICovXG5jb25zdCBwcm9maWxlciA9IGZ1bmN0aW9uIChldmVudCwgaW5zdGFuY2UsIGhvb2tPckxpc3RlbmVyKSB7XG4gICAgaWYgKHByb2ZpbGVyQ2FsbGJhY2sgIT0gbnVsbCAvKiBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgKi8pIHtcbiAgICAgICAgcHJvZmlsZXJDYWxsYmFjayhldmVudCwgaW5zdGFuY2UsIGhvb2tPckxpc3RlbmVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IFNWR19OQU1FU1BBQ0UgPSAnc3ZnJztcbmNvbnN0IFNWR19OQU1FU1BBQ0VfVVJJID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IE1BVEhfTUxfTkFNRVNQQUNFID0gJ21hdGgnO1xuY29uc3QgTUFUSF9NTF9OQU1FU1BBQ0VfVVJJID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLyc7XG5mdW5jdGlvbiBnZXROYW1lc3BhY2VVcmkobmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbmFtZSA9IG5hbWVzcGFjZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBuYW1lID09PSBTVkdfTkFNRVNQQUNFID8gU1ZHX05BTUVTUEFDRV9VUkkgOlxuICAgICAgICAobmFtZSA9PT0gTUFUSF9NTF9OQU1FU1BBQ0UgPyBNQVRIX01MX05BTUVTUEFDRV9VUkkgOiBudWxsKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1vc3Qgb2YgdGhlIHVzZSBvZiBgZG9jdW1lbnRgIGluIEFuZ3VsYXIgaXMgZnJvbSB3aXRoaW4gdGhlIERJIHN5c3RlbSBzbyBpdCBpcyBwb3NzaWJsZSB0byBzaW1wbHlcbiAqIGluamVjdCB0aGUgYERPQ1VNRU5UYCB0b2tlbiBhbmQgYXJlIGRvbmUuXG4gKlxuICogSXZ5IGlzIHNwZWNpYWwgYmVjYXVzZSBpdCBkb2VzIG5vdCByZWx5IHVwb24gdGhlIERJIGFuZCBtdXN0IGdldCBob2xkIG9mIHRoZSBkb2N1bWVudCBzb21lIG90aGVyXG4gKiB3YXkuXG4gKlxuICogVGhlIHNvbHV0aW9uIGlzIHRvIGRlZmluZSBgZ2V0RG9jdW1lbnQoKWAgYW5kIGBzZXREb2N1bWVudCgpYCB0b3AtbGV2ZWwgZnVuY3Rpb25zIGZvciBpdnkuXG4gKiBXaGVyZXZlciBpdnkgbmVlZHMgdGhlIGdsb2JhbCBkb2N1bWVudCwgaXQgY2FsbHMgYGdldERvY3VtZW50KClgIGluc3RlYWQuXG4gKlxuICogV2hlbiBydW5uaW5nIGl2eSBvdXRzaWRlIG9mIGEgYnJvd3NlciBlbnZpcm9ubWVudCwgaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYHNldERvY3VtZW50KClgIHRvXG4gKiB0ZWxsIGl2eSB3aGF0IHRoZSBnbG9iYWwgYGRvY3VtZW50YCBpcy5cbiAqXG4gKiBBbmd1bGFyIGRvZXMgdGhpcyBmb3IgdXMgaW4gZWFjaCBvZiB0aGUgc3RhbmRhcmQgcGxhdGZvcm1zIChgQnJvd3NlcmAsIGBTZXJ2ZXJgLCBhbmQgYFdlYldvcmtlcmApXG4gKiBieSBjYWxsaW5nIGBzZXREb2N1bWVudCgpYCB3aGVuIHByb3ZpZGluZyB0aGUgYERPQ1VNRU5UYCB0b2tlbi5cbiAqL1xubGV0IERPQ1VNRU5UID0gdW5kZWZpbmVkO1xuLyoqXG4gKiBUZWxsIGl2eSB3aGF0IHRoZSBgZG9jdW1lbnRgIGlzIGZvciB0aGlzIHBsYXRmb3JtLlxuICpcbiAqIEl0IGlzIG9ubHkgbmVjZXNzYXJ5IHRvIGNhbGwgdGhpcyBpZiB0aGUgY3VycmVudCBwbGF0Zm9ybSBpcyBub3QgYSBicm93c2VyLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgaW4gdGhpcyBlbnZpcm9ubWVudC5cbiAqL1xuZnVuY3Rpb24gc2V0RG9jdW1lbnQoZG9jdW1lbnQpIHtcbiAgICBET0NVTUVOVCA9IGRvY3VtZW50O1xufVxuLyoqXG4gKiBBY2Nlc3MgdGhlIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIGBkb2N1bWVudGAgZm9yIHRoaXMgcGxhdGZvcm0uXG4gKlxuICogSXZ5IGNhbGxzIHRoaXMgd2hlbmV2ZXIgaXQgbmVlZHMgdG8gYWNjZXNzIHRoZSBgZG9jdW1lbnRgIG9iamVjdC5cbiAqIEZvciBleGFtcGxlIHRvIGNyZWF0ZSB0aGUgcmVuZGVyZXIgb3IgdG8gZG8gc2FuaXRpemF0aW9uLlxuICovXG5mdW5jdGlvbiBnZXREb2N1bWVudCgpIHtcbiAgICBpZiAoRE9DVU1FTlQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gRE9DVU1FTlQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgIH1cbiAgICAvLyBObyBcImRvY3VtZW50XCIgY2FuIGJlIGZvdW5kLiBUaGlzIHNob3VsZCBvbmx5IGhhcHBlbiBpZiB3ZSBhcmUgcnVubmluZyBpdnkgb3V0c2lkZSBBbmd1bGFyIGFuZFxuICAgIC8vIHRoZSBjdXJyZW50IHBsYXRmb3JtIGlzIG5vdCBhIGJyb3dzZXIuIFNpbmNlIHRoaXMgaXMgbm90IGEgc3VwcG9ydGVkIHNjZW5hcmlvIGF0IHRoZSBtb21lbnRcbiAgICAvLyB0aGlzIHNob3VsZCBub3QgaGFwcGVuIGluIEFuZ3VsYXIgYXBwcy5cbiAgICAvLyBPbmNlIHdlIHN1cHBvcnQgcnVubmluZyBpdnkgb3V0c2lkZSBvZiBBbmd1bGFyIHdlIHdpbGwgbmVlZCB0byBwdWJsaXNoIGBzZXREb2N1bWVudCgpYCBhcyBhXG4gICAgLy8gcHVibGljIEFQSS4gTWVhbndoaWxlIHdlIGp1c3QgcmV0dXJuIGB1bmRlZmluZWRgIGFuZCBsZXQgdGhlIGFwcGxpY2F0aW9uIGZhaWwuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUT0RPOiBjbGVhbnVwIG9uY2UgdGhlIGNvZGUgaXMgbWVyZ2VkIGluIGFuZ3VsYXIvYW5ndWxhclxudmFyIFJlbmRlcmVyU3R5bGVGbGFnczM7XG4oZnVuY3Rpb24gKFJlbmRlcmVyU3R5bGVGbGFnczMpIHtcbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MzW1JlbmRlcmVyU3R5bGVGbGFnczNbXCJJbXBvcnRhbnRcIl0gPSAxXSA9IFwiSW1wb3J0YW50XCI7XG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzM1tSZW5kZXJlclN0eWxlRmxhZ3MzW1wiRGFzaENhc2VcIl0gPSAyXSA9IFwiRGFzaENhc2VcIjtcbn0pKFJlbmRlcmVyU3R5bGVGbGFnczMgfHwgKFJlbmRlcmVyU3R5bGVGbGFnczMgPSB7fSkpO1xuLyoqIFJldHVybnMgd2hldGhlciB0aGUgYHJlbmRlcmVyYCBpcyBhIGBQcm9jZWR1cmFsUmVuZGVyZXIzYCAqL1xuZnVuY3Rpb24gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICByZXR1cm4gISEocmVuZGVyZXIubGlzdGVuKTtcbn1cbmNvbnN0IGRvbVJlbmRlcmVyRmFjdG9yeTMgPSB7XG4gICAgY3JlYXRlUmVuZGVyZXI6IChob3N0RWxlbWVudCwgcmVuZGVyZXJUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXREb2N1bWVudCgpO1xuICAgIH1cbn07XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ2ID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEZvciBlZmZpY2llbmN5IHJlYXNvbnMgd2Ugb2Z0ZW4gcHV0IHNldmVyYWwgZGlmZmVyZW50IGRhdGEgdHlwZXMgKGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYClcbiAqIGluIHNhbWUgbG9jYXRpb24gaW4gYExWaWV3YC4gVGhpcyBpcyBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gcHJlLWFsbG9jYXRlIHNwYWNlIGZvciBpdFxuICogYmVjYXVzZSB0aGUgc3RvcmFnZSBpcyBzcGFyc2UuIFRoaXMgZmlsZSBjb250YWlucyB1dGlsaXRpZXMgZm9yIGRlYWxpbmcgd2l0aCBzdWNoIGRhdGEgdHlwZXMuXG4gKlxuICogSG93IGRvIHdlIGtub3cgd2hhdCBpcyBzdG9yZWQgYXQgYSBnaXZlbiBsb2NhdGlvbiBpbiBgTFZpZXdgLlxuICogLSBgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPT09IGZhbHNlYCA9PiBgUk5vZGVgIChUaGUgbm9ybWFsIHN0b3JhZ2UgdmFsdWUpXG4gKiAtIGBBcnJheS5pc0FycmF5KHZhbHVlKSA9PT0gdHJ1ZWAgPT4gdGhlbiB0aGUgYHZhbHVlWzBdYCByZXByZXNlbnRzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICogICAtIGB0eXBlb2YgdmFsdWVbVFlQRV0gPT09ICdvYmplY3QnYCA9PiBgTFZpZXdgXG4gKiAgICAgIC0gVGhpcyBoYXBwZW5zIHdoZW4gd2UgaGF2ZSBhIGNvbXBvbmVudCBhdCBhIGdpdmVuIGxvY2F0aW9uXG4gKiAgIC0gYHR5cGVvZiB2YWx1ZVtUWVBFXSA9PT0gdHJ1ZWAgPT4gYExDb250YWluZXJgXG4gKiAgICAgIC0gVGhpcyBoYXBwZW5zIHdoZW4gd2UgaGF2ZSBgTENvbnRhaW5lcmAgYmluZGluZyBhdCBhIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqXG4gKiBOT1RFOiBpdCBpcyBhc3N1bWVkIHRoYXQgYEFycmF5LmlzQXJyYXlgIGFuZCBgdHlwZW9mYCBvcGVyYXRpb25zIGFyZSB2ZXJ5IGVmZmljaWVudC5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGBSTm9kZWAuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gdW53cmFwUk5vZGUodmFsdWUpIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVtIT1NUXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBSZXR1cm5zIGBMVmlld2Agb3IgYG51bGxgIGlmIG5vdCBmb3VuZC5cbiAqIEBwYXJhbSB2YWx1ZSB3cmFwcGVkIHZhbHVlIG9mIGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYFxuICovXG5mdW5jdGlvbiB1bndyYXBMVmlldyh2YWx1ZSkge1xuICAgIHdoaWxlIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIHNhbWUgYXMgYGlzTFZpZXcoKWAgYnV0IHdlIGRvbid0IGNhbGwgYXQgYXMgd2UgZG9uJ3Qgd2FudCB0byBjYWxsXG4gICAgICAgIC8vIGBBcnJheS5pc0FycmF5KClgIHR3aWNlIGFuZCBnaXZlIEpJVGVyIG1vcmUgd29yayBmb3IgaW5saW5pbmcuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVbVFlQRV0gPT09ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlW0hPU1RdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyBgTENvbnRhaW5lcmAgb3IgYG51bGxgIGlmIG5vdCBmb3VuZC5cbiAqIEBwYXJhbSB2YWx1ZSB3cmFwcGVkIHZhbHVlIG9mIGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYFxuICovXG5mdW5jdGlvbiB1bndyYXBMQ29udGFpbmVyKHZhbHVlKSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFRoaXMgY2hlY2sgaXMgc2FtZSBhcyBgaXNMQ29udGFpbmVyKClgIGJ1dCB3ZSBkb24ndCBjYWxsIGF0IGFzIHdlIGRvbid0IHdhbnQgdG8gY2FsbFxuICAgICAgICAvLyBgQXJyYXkuaXNBcnJheSgpYCB0d2ljZSBhbmQgZ2l2ZSBKSVRlciBtb3JlIHdvcmsgZm9yIGlubGluaW5nLlxuICAgICAgICBpZiAodmFsdWVbVFlQRV0gPT09IHRydWUpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gdmFsdWVbSE9TVF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYW4gZWxlbWVudCB2YWx1ZSBmcm9tIHRoZSBwcm92aWRlZCBgdmlld0RhdGFgLCBieSB1bndyYXBwaW5nXG4gKiBmcm9tIGFueSBjb250YWluZXJzLCBjb21wb25lbnQgdmlld3MsIG9yIHN0eWxlIGNvbnRleHRzLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCeUluZGV4KGluZGV4LCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGluZGV4LCBIRUFERVJfT0ZGU0VULCAnRXhwZWN0ZWQgdG8gYmUgcGFzdCBIRUFERVJfT0ZGU0VUJyk7XG4gICAgcmV0dXJuIHVud3JhcFJOb2RlKGxWaWV3W2luZGV4XSk7XG59XG4vKipcbiAqIFJldHJpZXZlIGFuIGBSTm9kZWAgZm9yIGEgZ2l2ZW4gYFROb2RlYCBhbmQgYExWaWV3YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGd1YXJhbnRlZXMgaW4gZGV2IG1vZGUgdG8gcmV0cmlldmUgYSBub24tbnVsbCBgUk5vZGVgLlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICogQHBhcmFtIGxWaWV3XG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0Tm9kZS5pbmRleCk7XG4gICAgY29uc3Qgbm9kZSA9IHVud3JhcFJOb2RlKGxWaWV3W3ROb2RlLmluZGV4XSk7XG4gICAgbmdEZXZNb2RlICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihsVmlld1tSRU5ERVJFUl0pICYmIGFzc2VydERvbU5vZGUobm9kZSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG4vKipcbiAqIFJldHJpZXZlIGFuIGBSTm9kZWAgb3IgYG51bGxgIGZvciBhIGdpdmVuIGBUTm9kZWAgYW5kIGBMVmlld2AuXG4gKlxuICogU29tZSBgVE5vZGVgcyBkb24ndCBoYXZlIGFzc29jaWF0ZWQgYFJOb2RlYHMuIEZvciBleGFtcGxlIGBQcm9qZWN0aW9uYFxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICogQHBhcmFtIGxWaWV3XG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZUJ5VE5vZGVPck51bGwodE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgaW5kZXggPSB0Tm9kZSA9PT0gbnVsbCA/IC0xIDogdE5vZGUuaW5kZXg7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBjb25zdCBub2RlID0gdW53cmFwUk5vZGUobFZpZXdbaW5kZXhdKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5vZGUgIT09IG51bGwgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKGxWaWV3W1JFTkRFUkVSXSkgJiYgYXNzZXJ0RG9tTm9kZShub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gZml4bWUobWlza28pOiBUaGUgcmV0dXJuIFR5cGUgc2hvdWxkIGJlIGBUTm9kZXxudWxsYFxuZnVuY3Rpb24gZ2V0VE5vZGUodFZpZXcsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuKGluZGV4LCAtMSwgJ3dyb25nIGluZGV4IGZvciBUTm9kZScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbihpbmRleCwgdFZpZXcuZGF0YS5sZW5ndGgsICd3cm9uZyBpbmRleCBmb3IgVE5vZGUnKTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIG5nRGV2TW9kZSAmJiB0Tm9kZSAhPT0gbnVsbCAmJiBhc3NlcnRUTm9kZSh0Tm9kZSk7XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqIFJldHJpZXZlcyBhIHZhbHVlIGZyb20gYW55IGBMVmlld2Agb3IgYFREYXRhYC4gKi9cbmZ1bmN0aW9uIGxvYWQodmlldywgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHZpZXcsIGluZGV4KTtcbiAgICByZXR1cm4gdmlld1tpbmRleF07XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgobm9kZUluZGV4LCBob3N0Vmlldykge1xuICAgIC8vIENvdWxkIGJlIGFuIExWaWV3IG9yIGFuIExDb250YWluZXIuIElmIExDb250YWluZXIsIHVud3JhcCB0byBmaW5kIExWaWV3LlxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UoaG9zdFZpZXcsIG5vZGVJbmRleCk7XG4gICAgY29uc3Qgc2xvdFZhbHVlID0gaG9zdFZpZXdbbm9kZUluZGV4XTtcbiAgICBjb25zdCBsVmlldyA9IGlzTFZpZXcoc2xvdFZhbHVlKSA/IHNsb3RWYWx1ZSA6IHNsb3RWYWx1ZVtIT1NUXTtcbiAgICByZXR1cm4gbFZpZXc7XG59XG4vKiogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiB2aWV3IGlzIGluIGNyZWF0aW9uIG1vZGUgKi9cbmZ1bmN0aW9uIGlzQ3JlYXRpb25Nb2RlKHZpZXcpIHtcbiAgICByZXR1cm4gKHZpZXdbRkxBR1NdICYgNCAvKiBDcmVhdGlvbk1vZGUgKi8pID09PSA0IC8qIENyZWF0aW9uTW9kZSAqLztcbn1cbi8qKlxuICogUmV0dXJucyBhIGJvb2xlYW4gZm9yIHdoZXRoZXIgdGhlIHZpZXcgaXMgYXR0YWNoZWQgdG8gdGhlIGNoYW5nZSBkZXRlY3Rpb24gdHJlZS5cbiAqXG4gKiBOb3RlOiBUaGlzIGRldGVybWluZXMgd2hldGhlciBhIHZpZXcgc2hvdWxkIGJlIGNoZWNrZWQsIG5vdCB3aGV0aGVyIGl0J3MgaW5zZXJ0ZWRcbiAqIGludG8gYSBjb250YWluZXIuIEZvciB0aGF0LCB5b3UnbGwgd2FudCBgdmlld0F0dGFjaGVkVG9Db250YWluZXJgIGJlbG93LlxuICovXG5mdW5jdGlvbiB2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKHZpZXcpIHtcbiAgICByZXR1cm4gKHZpZXdbRkxBR1NdICYgMTI4IC8qIEF0dGFjaGVkICovKSA9PT0gMTI4IC8qIEF0dGFjaGVkICovO1xufVxuLyoqIFJldHVybnMgYSBib29sZWFuIGZvciB3aGV0aGVyIHRoZSB2aWV3IGlzIGF0dGFjaGVkIHRvIGEgY29udGFpbmVyLiAqL1xuZnVuY3Rpb24gdmlld0F0dGFjaGVkVG9Db250YWluZXIodmlldykge1xuICAgIHJldHVybiBpc0xDb250YWluZXIodmlld1tQQVJFTlRdKTtcbn1cbmZ1bmN0aW9uIGdldENvbnN0YW50KGNvbnN0cywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IG51bGwgfHwgaW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShjb25zdHMsIGluZGV4KTtcbiAgICByZXR1cm4gY29uc3RzW2luZGV4XTtcbn1cbi8qKlxuICogUmVzZXRzIHRoZSBwcmUtb3JkZXIgaG9vayBmbGFncyBvZiB0aGUgdmlldy5cbiAqIEBwYXJhbSBsVmlldyB0aGUgTFZpZXcgb24gd2hpY2ggdGhlIGZsYWdzIGFyZSByZXNldFxuICovXG5mdW5jdGlvbiByZXNldFByZU9yZGVySG9va0ZsYWdzKGxWaWV3KSB7XG4gICAgbFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gPSAwO1xufVxuLyoqXG4gKiBVcGRhdGVzIHRoZSBgVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hgIGNvdW50ZXIgb24gdGhlIGBMQ29udGFpbmVyYCBhcyB3ZWxsIGFzIHRoZSBwYXJlbnRzXG4gKiB3aG9zZVxuICogIDEuIGNvdW50ZXIgZ29lcyBmcm9tIDAgdG8gMSwgaW5kaWNhdGluZyB0aGF0IHRoZXJlIGlzIGEgbmV3IGNoaWxkIHRoYXQgaGFzIGEgdmlldyB0byByZWZyZXNoXG4gKiAgb3JcbiAqICAyLiBjb3VudGVyIGdvZXMgZnJvbSAxIHRvIDAsIGluZGljYXRpbmcgdGhlcmUgYXJlIG5vIG1vcmUgZGVzY2VuZGFudCB2aWV3cyB0byByZWZyZXNoXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChsQ29udGFpbmVyLCBhbW91bnQpIHtcbiAgICBsQ29udGFpbmVyW1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSArPSBhbW91bnQ7XG4gICAgbGV0IHZpZXdPckNvbnRhaW5lciA9IGxDb250YWluZXI7XG4gICAgbGV0IHBhcmVudCA9IGxDb250YWluZXJbUEFSRU5UXTtcbiAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsICYmXG4gICAgICAgICgoYW1vdW50ID09PSAxICYmIHZpZXdPckNvbnRhaW5lcltUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPT09IDEpIHx8XG4gICAgICAgICAgICAoYW1vdW50ID09PSAtMSAmJiB2aWV3T3JDb250YWluZXJbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID09PSAwKSkpIHtcbiAgICAgICAgcGFyZW50W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSArPSBhbW91bnQ7XG4gICAgICAgIHZpZXdPckNvbnRhaW5lciA9IHBhcmVudDtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50W1BBUkVOVF07XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IGluc3RydWN0aW9uU3RhdGUgPSB7XG4gICAgbEZyYW1lOiBjcmVhdGVMRnJhbWUobnVsbCksXG4gICAgYmluZGluZ3NFbmFibGVkOiB0cnVlLFxuICAgIGlzSW5DaGVja05vQ2hhbmdlc01vZGU6IGZhbHNlLFxufTtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBpbnN0cnVjdGlvbiBzdGF0ZSBzdGFjayBpcyBlbXB0eS5cbiAqXG4gKiBJbnRlbmRlZCB0byBiZSBjYWxsZWQgZnJvbSB0ZXN0cyBvbmx5ICh0cmVlIHNoYWtlbiBvdGhlcndpc2UpLlxuICovXG5mdW5jdGlvbiBzcGVjT25seUlzSW5zdHJ1Y3Rpb25TdGF0ZUVtcHR5KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5wYXJlbnQgPT09IG51bGw7XG59XG5mdW5jdGlvbiBnZXRFbGVtZW50RGVwdGhDb3VudCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQ7XG59XG5mdW5jdGlvbiBpbmNyZWFzZUVsZW1lbnREZXB0aENvdW50KCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kys7XG59XG5mdW5jdGlvbiBkZWNyZWFzZUVsZW1lbnREZXB0aENvdW50KCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS07XG59XG5mdW5jdGlvbiBnZXRCaW5kaW5nc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUuYmluZGluZ3NFbmFibGVkO1xufVxuLyoqXG4gKiBFbmFibGVzIGRpcmVjdGl2ZSBtYXRjaGluZyBvbiBlbGVtZW50cy5cbiAqXG4gKiAgKiBFeGFtcGxlOlxuICogYGBgXG4gKiA8bXktY29tcCBteS1kaXJlY3RpdmU+XG4gKiAgIFNob3VsZCBtYXRjaCBjb21wb25lbnQgLyBkaXJlY3RpdmUuXG4gKiA8L215LWNvbXA+XG4gKiA8ZGl2IG5nTm9uQmluZGFibGU+XG4gKiAgIDwhLS0gybXJtWRpc2FibGVCaW5kaW5ncygpIC0tPlxuICogICA8bXktY29tcCBteS1kaXJlY3RpdmU+XG4gKiAgICAgU2hvdWxkIG5vdCBtYXRjaCBjb21wb25lbnQgLyBkaXJlY3RpdmUgYmVjYXVzZSB3ZSBhcmUgaW4gbmdOb25CaW5kYWJsZS5cbiAqICAgPC9teS1jb21wPlxuICogICA8IS0tIMm1ybVlbmFibGVCaW5kaW5ncygpIC0tPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZW5hYmxlQmluZGluZ3MoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5iaW5kaW5nc0VuYWJsZWQgPSB0cnVlO1xufVxuLyoqXG4gKiBEaXNhYmxlcyBkaXJlY3RpdmUgbWF0Y2hpbmcgb24gZWxlbWVudC5cbiAqXG4gKiAgKiBFeGFtcGxlOlxuICogYGBgXG4gKiA8bXktY29tcCBteS1kaXJlY3RpdmU+XG4gKiAgIFNob3VsZCBtYXRjaCBjb21wb25lbnQgLyBkaXJlY3RpdmUuXG4gKiA8L215LWNvbXA+XG4gKiA8ZGl2IG5nTm9uQmluZGFibGU+XG4gKiAgIDwhLS0gybXJtWRpc2FibGVCaW5kaW5ncygpIC0tPlxuICogICA8bXktY29tcCBteS1kaXJlY3RpdmU+XG4gKiAgICAgU2hvdWxkIG5vdCBtYXRjaCBjb21wb25lbnQgLyBkaXJlY3RpdmUgYmVjYXVzZSB3ZSBhcmUgaW4gbmdOb25CaW5kYWJsZS5cbiAqICAgPC9teS1jb21wPlxuICogICA8IS0tIMm1ybVlbmFibGVCaW5kaW5ncygpIC0tPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZGlzYWJsZUJpbmRpbmdzKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUuYmluZGluZ3NFbmFibGVkID0gZmFsc2U7XG59XG4vKipcbiAqIFJldHVybiB0aGUgY3VycmVudCBgTFZpZXdgLlxuICovXG5mdW5jdGlvbiBnZXRMVmlldygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUubFZpZXc7XG59XG4vKipcbiAqIFJldHVybiB0aGUgY3VycmVudCBgVFZpZXdgLlxuICovXG5mdW5jdGlvbiBnZXRUVmlldygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUudFZpZXc7XG59XG4vKipcbiAqIFJlc3RvcmVzIGBjb250ZXh0Vmlld0RhdGFgIHRvIHRoZSBnaXZlbiBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UuXG4gKlxuICogVXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBnZXRDdXJyZW50VmlldygpIGluc3RydWN0aW9uIHRvIHNhdmUgYSBzbmFwc2hvdFxuICogb2YgdGhlIGN1cnJlbnQgdmlldyBhbmQgcmVzdG9yZSBpdCB3aGVuIGxpc3RlbmVycyBhcmUgaW52b2tlZC4gVGhpcyBhbGxvd3NcbiAqIHdhbGtpbmcgdGhlIGRlY2xhcmF0aW9uIHZpZXcgdHJlZSBpbiBsaXN0ZW5lcnMgdG8gZ2V0IHZhcnMgZnJvbSBwYXJlbnQgdmlld3MuXG4gKlxuICogQHBhcmFtIHZpZXdUb1Jlc3RvcmUgVGhlIE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZSB0byByZXN0b3JlLlxuICogQHJldHVybnMgQ29udGV4dCBvZiB0aGUgcmVzdG9yZWQgT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXN0b3JlVmlldyh2aWV3VG9SZXN0b3JlKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY29udGV4dExWaWV3ID0gdmlld1RvUmVzdG9yZTtcbiAgICByZXR1cm4gdmlld1RvUmVzdG9yZVtDT05URVhUXTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRUTm9kZSgpIHtcbiAgICBsZXQgY3VycmVudFROb2RlID0gZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPaygpO1xuICAgIHdoaWxlIChjdXJyZW50VE5vZGUgIT09IG51bGwgJiYgY3VycmVudFROb2RlLnR5cGUgPT09IDY0IC8qIFBsYWNlaG9sZGVyICovKSB7XG4gICAgICAgIGN1cnJlbnRUTm9kZSA9IGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VE5vZGU7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50VE5vZGVQbGFjZWhvbGRlck9rKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50VE5vZGU7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50UGFyZW50VE5vZGUoKSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgY29uc3QgY3VycmVudFROb2RlID0gbEZyYW1lLmN1cnJlbnRUTm9kZTtcbiAgICByZXR1cm4gbEZyYW1lLmlzUGFyZW50ID8gY3VycmVudFROb2RlIDogY3VycmVudFROb2RlLnBhcmVudDtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgaXNQYXJlbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgdE5vZGUgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUudFZpZXcpO1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGxGcmFtZS5jdXJyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICBsRnJhbWUuaXNQYXJlbnQgPSBpc1BhcmVudDtcbn1cbmZ1bmN0aW9uIGlzQ3VycmVudFROb2RlUGFyZW50KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pc1BhcmVudDtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRUTm9kZUFzTm90UGFyZW50KCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmlzUGFyZW50ID0gZmFsc2U7XG59XG5mdW5jdGlvbiBzZXRDdXJyZW50VE5vZGVBc1BhcmVudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pc1BhcmVudCA9IHRydWU7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0TFZpZXcoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldztcbn1cbmZ1bmN0aW9uIGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IHJlbW92ZSB0aGlzIGZyb20gdGhlIExWaWV3IHNpbmNlIGl0IGlzIG5nRGV2TW9kZT10cnVlIG1vZGUgb25seS5cbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlO1xufVxuZnVuY3Rpb24gc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZShtb2RlKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlID0gbW9kZTtcbn1cbi8vIHRvcCBsZXZlbCB2YXJpYWJsZXMgc2hvdWxkIG5vdCBiZSBleHBvcnRlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoUEVSRl9OT1RFUy5tZClcbmZ1bmN0aW9uIGdldEJpbmRpbmdSb290KCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGxldCBpbmRleCA9IGxGcmFtZS5iaW5kaW5nUm9vdEluZGV4O1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgaW5kZXggPSBsRnJhbWUuYmluZGluZ1Jvb3RJbmRleCA9IGxGcmFtZS50Vmlldy5iaW5kaW5nU3RhcnRJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gZ2V0QmluZGluZ0luZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5iaW5kaW5nSW5kZXg7XG59XG5mdW5jdGlvbiBzZXRCaW5kaW5nSW5kZXgodmFsdWUpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuYmluZGluZ0luZGV4ID0gdmFsdWU7XG59XG5mdW5jdGlvbiBuZXh0QmluZGluZ0luZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5iaW5kaW5nSW5kZXgrKztcbn1cbmZ1bmN0aW9uIGluY3JlbWVudEJpbmRpbmdJbmRleChjb3VudCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGNvbnN0IGluZGV4ID0gbEZyYW1lLmJpbmRpbmdJbmRleDtcbiAgICBsRnJhbWUuYmluZGluZ0luZGV4ID0gbEZyYW1lLmJpbmRpbmdJbmRleCArIGNvdW50O1xuICAgIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGlzSW5JMThuQmxvY2soKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmluSTE4bjtcbn1cbmZ1bmN0aW9uIHNldEluSTE4bkJsb2NrKGlzSW5JMThuQmxvY2spIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pbkkxOG4gPSBpc0luSTE4bkJsb2NrO1xufVxuLyoqXG4gKiBTZXQgYSBuZXcgYmluZGluZyByb290IGluZGV4IHNvIHRoYXQgaG9zdCB0ZW1wbGF0ZSBmdW5jdGlvbnMgY2FuIGV4ZWN1dGUuXG4gKlxuICogQmluZGluZ3MgaW5zaWRlIHRoZSBob3N0IHRlbXBsYXRlIGFyZSAwIGluZGV4LiBCdXQgYmVjYXVzZSB3ZSBkb24ndCBrbm93IGFoZWFkIG9mIHRpbWVcbiAqIGhvdyBtYW55IGhvc3QgYmluZGluZ3Mgd2UgaGF2ZSB3ZSBjYW4ndCBwcmUtY29tcHV0ZSB0aGVtLiBGb3IgdGhpcyByZWFzb24gdGhleSBhcmUgYWxsXG4gKiAwIGluZGV4IGFuZCB3ZSBqdXN0IHNoaWZ0IHRoZSByb290IHNvIHRoYXQgdGhleSBtYXRjaCBuZXh0IGF2YWlsYWJsZSBsb2NhdGlvbiBpbiB0aGUgTFZpZXcuXG4gKlxuICogQHBhcmFtIGJpbmRpbmdSb290SW5kZXggUm9vdCBpbmRleCBmb3IgYGhvc3RCaW5kaW5nc2BcbiAqIEBwYXJhbSBjdXJyZW50RGlyZWN0aXZlSW5kZXggYFREYXRhW2N1cnJlbnREaXJlY3RpdmVJbmRleF1gIHdpbGwgcG9pbnQgdG8gdGhlIGN1cnJlbnQgZGlyZWN0aXZlXG4gKiAgICAgICAgd2hvc2UgYGhvc3RCaW5kaW5nc2AgYXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuZnVuY3Rpb24gc2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MoYmluZGluZ1Jvb3RJbmRleCwgY3VycmVudERpcmVjdGl2ZUluZGV4KSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgbEZyYW1lLmJpbmRpbmdJbmRleCA9IGxGcmFtZS5iaW5kaW5nUm9vdEluZGV4ID0gYmluZGluZ1Jvb3RJbmRleDtcbiAgICBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoY3VycmVudERpcmVjdGl2ZUluZGV4KTtcbn1cbi8qKlxuICogV2hlbiBob3N0IGJpbmRpbmcgaXMgZXhlY3V0aW5nIHRoaXMgcG9pbnRzIHRvIHRoZSBkaXJlY3RpdmUgaW5kZXguXG4gKiBgVFZpZXcuZGF0YVtnZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoKV1gIGlzIGBEaXJlY3RpdmVEZWZgXG4gKiBgTFZpZXdbZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCldYCBpcyBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O1xufVxuLyoqXG4gKiBTZXRzIGFuIGluZGV4IG9mIGEgZGlyZWN0aXZlIHdob3NlIGBob3N0QmluZGluZ3NgIGFyZSBiZWluZyBwcm9jZXNzZWQuXG4gKlxuICogQHBhcmFtIGN1cnJlbnREaXJlY3RpdmVJbmRleCBgVERhdGFgIGluZGV4IHdoZXJlIGN1cnJlbnQgZGlyZWN0aXZlIGluc3RhbmNlIGNhbiBiZSBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGN1cnJlbnREaXJlY3RpdmVJbmRleCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleCA9IGN1cnJlbnREaXJlY3RpdmVJbmRleDtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIGN1cnJlbnQgYERpcmVjdGl2ZURlZmAgd2hpY2ggaXMgYWN0aXZlIHdoZW4gYGhvc3RCaW5kaW5nc2AgaW5zdHJ1Y3Rpb24gaXMgYmVpbmdcbiAqIGV4ZWN1dGVkLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBDdXJyZW50IGBURGF0YWAgd2hlcmUgdGhlIGBEaXJlY3RpdmVEZWZgIHdpbGwgYmUgbG9va2VkIHVwIGF0LlxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50RGlyZWN0aXZlRGVmKHREYXRhKSB7XG4gICAgY29uc3QgY3VycmVudERpcmVjdGl2ZUluZGV4ID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O1xuICAgIHJldHVybiBjdXJyZW50RGlyZWN0aXZlSW5kZXggPT09IC0xID8gbnVsbCA6IHREYXRhW2N1cnJlbnREaXJlY3RpdmVJbmRleF07XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50UXVlcnlJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXg7XG59XG5mdW5jdGlvbiBzZXRDdXJyZW50UXVlcnlJbmRleCh2YWx1ZSkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4ID0gdmFsdWU7XG59XG4vKipcbiAqIFJldHVybnMgYSBgVE5vZGVgIG9mIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgY3VycmVudCBgTFZpZXdgIGlzIGRlY2xhcmVkIGF0LlxuICpcbiAqIEBwYXJhbSBsVmlldyBhbiBgTFZpZXdgIHRoYXQgd2Ugd2FudCB0byBmaW5kIHBhcmVudCBgVE5vZGVgIGZvci5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25UTm9kZShsVmlldykge1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIC8vIFJldHVybiB0aGUgZGVjbGFyYXRpb24gcGFyZW50IGZvciBlbWJlZGRlZCB2aWV3c1xuICAgIGlmICh0Vmlldy50eXBlID09PSAyIC8qIEVtYmVkZGVkICovKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LmRlY2xUTm9kZSwgJ0VtYmVkZGVkIFROb2RlcyBzaG91bGQgaGF2ZSBkZWNsYXJhdGlvbiBwYXJlbnRzLicpO1xuICAgICAgICByZXR1cm4gdFZpZXcuZGVjbFROb2RlO1xuICAgIH1cbiAgICAvLyBDb21wb25lbnRzIGRvbid0IGhhdmUgYFRWaWV3LmRlY2xUTm9kZWAgYmVjYXVzZSBlYWNoIGluc3RhbmNlIG9mIGNvbXBvbmVudCBjb3VsZCBiZVxuICAgIC8vIGluc2VydGVkIGluIGRpZmZlcmVudCBsb2NhdGlvbiwgaGVuY2UgYFRWaWV3LmRlY2xUTm9kZWAgaXMgbWVhbmluZ2xlc3MuXG4gICAgLy8gRmFsbGluZyBiYWNrIHRvIGBUX0hPU1RgIGluIGNhc2Ugd2UgY3Jvc3MgY29tcG9uZW50IGJvdW5kYXJ5LlxuICAgIGlmICh0Vmlldy50eXBlID09PSAxIC8qIENvbXBvbmVudCAqLykge1xuICAgICAgICByZXR1cm4gbFZpZXdbVF9IT1NUXTtcbiAgICB9XG4gICAgLy8gUmVtYWluaW5nIFROb2RlIHR5cGUgaXMgYFRWaWV3VHlwZS5Sb290YCB3aGljaCBkb2Vzbid0IGhhdmUgYSBwYXJlbnQgVE5vZGUuXG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBsaWdodCB3ZWlnaHQgdmVyc2lvbiBvZiB0aGUgYGVudGVyVmlld2Agd2hpY2ggaXMgbmVlZGVkIGJ5IHRoZSBESSBzeXN0ZW0uXG4gKlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgbG9jYXRpb24gb2YgdGhlIERJIGNvbnRleHQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3IgREkgY29udGV4dFxuICogQHBhcmFtIGZsYWdzIERJIGNvbnRleHQgZmxhZ3MuIGlmIGBTa2lwU2VsZmAgZmxhZyBpcyBzZXQgdGhhbiB3ZSB3YWxrIHVwIHRoZSBkZWNsYXJhdGlvblxuICogICAgIHRyZWUgZnJvbSBgdE5vZGVgICB1bnRpbCB3ZSBmaW5kIHBhcmVudCBkZWNsYXJlZCBgVEVsZW1lbnROb2RlYC5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBlbnRlcmVkIERJIGFzc29jaWF0ZWQgd2l0aCBgdE5vZGVgIChvciB3aXRoIGRlY2xhcmVkXG4gKiAgICAgYFROb2RlYCBpZiBgZmxhZ3NgIGhhcyAgYFNraXBTZWxmYCkuIEZhaWxpbmcgdG8gZW50ZXIgREkgaW1wbGllcyB0aGF0IG5vIGFzc29jaWF0ZWRcbiAqICAgICBgTm9kZUluamVjdG9yYCBjYW4gYmUgZm91bmQgYW5kIHdlIHNob3VsZCBpbnN0ZWFkIHVzZSBgTW9kdWxlSW5qZWN0b3JgLlxuICogICAgIC0gSWYgYHRydWVgIHRoYW4gdGhpcyBjYWxsIG11c3QgYmUgZmFsbG93ZWQgYnkgYGxlYXZlRElgXG4gKiAgICAgLSBJZiBgZmFsc2VgIHRoYW4gdGhpcyBjYWxsIGZhaWxlZCBhbmQgd2Ugc2hvdWxkIE5PVCBjYWxsIGBsZWF2ZURJYFxuICovXG5mdW5jdGlvbiBlbnRlckRJKGxWaWV3LCB0Tm9kZSwgZmxhZ3MpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXdPclVuZGVmaW5lZChsVmlldyk7XG4gICAgaWYgKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIGxWaWV3W1RWSUVXXSk7XG4gICAgICAgIGxldCBwYXJlbnRUTm9kZSA9IHROb2RlO1xuICAgICAgICBsZXQgcGFyZW50TFZpZXcgPSBsVmlldztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHBhcmVudFROb2RlLCAnUGFyZW50IFROb2RlIHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IHBhcmVudFROb2RlLnBhcmVudDtcbiAgICAgICAgICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCAmJiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCkpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRUTm9kZSA9IGdldERlY2xhcmF0aW9uVE5vZGUocGFyZW50TFZpZXcpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBhIHBhcmVudCBleGlzdHMgYW5kIGlzIGRlZmluaXRlbHkgYW4gZWxlbWVudC4gU28gaXQgd2lsbCBkZWZpbml0ZWx5XG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhbiBleGlzdGluZyBsVmlldyBhcyB0aGUgZGVjbGFyYXRpb24gdmlldywgd2hpY2ggaXMgd2h5IHdlIGNhbiBhc3N1bWUgaXQncyBkZWZpbmVkLlxuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHBhcmVudExWaWV3LCAnUGFyZW50IExWaWV3IHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgcGFyZW50TFZpZXcgPSBwYXJlbnRMVmlld1tERUNMQVJBVElPTl9WSUVXXTtcbiAgICAgICAgICAgICAgICAvLyBJbiBJdnkgdGhlcmUgYXJlIENvbW1lbnQgbm9kZXMgdGhhdCBjb3JyZXNwb25kIHRvIG5nSWYgYW5kIE5nRm9yIGVtYmVkZGVkIGRpcmVjdGl2ZXNcbiAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIHNraXAgdGhvc2UgYW5kIGxvb2sgb25seSBhdCBFbGVtZW50cyBhbmQgRWxlbWVudENvbnRhaW5lcnMgdG8gZW5zdXJlXG4gICAgICAgICAgICAgICAgLy8gd2UncmUgbG9va2luZyBhdCB0cnVlIHBhcmVudCBub2RlcywgYW5kIG5vdCBjb250ZW50IG9yIG90aGVyIHR5cGVzLlxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUTm9kZS50eXBlICYgKDIgLyogRWxlbWVudCAqLyB8IDggLyogRWxlbWVudENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBmYWlsZWQgdG8gZmluZCBhIHBhcmVudCBUTm9kZSB0aGlzIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIHVzZSBtb2R1bGUgaW5qZWN0b3IuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0Tm9kZSA9IHBhcmVudFROb2RlO1xuICAgICAgICAgICAgbFZpZXcgPSBwYXJlbnRMVmlldztcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lID0gYWxsb2NMRnJhbWUoKTtcbiAgICBsRnJhbWUuY3VycmVudFROb2RlID0gdE5vZGU7XG4gICAgbEZyYW1lLmxWaWV3ID0gbFZpZXc7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFN3YXAgdGhlIGN1cnJlbnQgbFZpZXcgd2l0aCBhIG5ldyBsVmlldy5cbiAqXG4gKiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyB3ZSBzdG9yZSB0aGUgbFZpZXcgaW4gdGhlIHRvcCBsZXZlbCBvZiB0aGUgbW9kdWxlLlxuICogVGhpcyB3YXkgd2UgbWluaW1pemUgdGhlIG51bWJlciBvZiBwcm9wZXJ0aWVzIHRvIHJlYWQuIFdoZW5ldmVyIGEgbmV3IHZpZXdcbiAqIGlzIGVudGVyZWQgd2UgaGF2ZSB0byBzdG9yZSB0aGUgbFZpZXcgZm9yIGxhdGVyLCBhbmQgd2hlbiB0aGUgdmlldyBpc1xuICogZXhpdGVkIHRoZSBzdGF0ZSBoYXMgdG8gYmUgcmVzdG9yZWRcbiAqXG4gKiBAcGFyYW0gbmV3VmlldyBOZXcgbFZpZXcgdG8gYmVjb21lIGFjdGl2ZVxuICogQHJldHVybnMgdGhlIHByZXZpb3VzbHkgYWN0aXZlIGxWaWV3O1xuICovXG5mdW5jdGlvbiBlbnRlclZpZXcobmV3Vmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RFcXVhbChuZXdWaWV3WzBdLCBuZXdWaWV3WzFdLCAnPz8/PycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlld09yVW5kZWZpbmVkKG5ld1ZpZXcpO1xuICAgIGNvbnN0IG5ld0xGcmFtZSA9IGFsbG9jTEZyYW1lKCk7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuaXNQYXJlbnQsIHRydWUsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmxWaWV3LCBudWxsLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS50VmlldywgbnVsbCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuc2VsZWN0ZWRJbmRleCwgLTEsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmVsZW1lbnREZXB0aENvdW50LCAwLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXgsIC0xLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5jdXJyZW50TmFtZXNwYWNlLCBudWxsLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5iaW5kaW5nUm9vdEluZGV4LCAtMSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXgsIDAsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICB9XG4gICAgY29uc3QgdFZpZXcgPSBuZXdWaWV3W1RWSUVXXTtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZSA9IG5ld0xGcmFtZTtcbiAgICBuZ0Rldk1vZGUgJiYgdFZpZXcuZmlyc3RDaGlsZCAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHRWaWV3LmZpcnN0Q2hpbGQsIHRWaWV3KTtcbiAgICBuZXdMRnJhbWUuY3VycmVudFROb2RlID0gdFZpZXcuZmlyc3RDaGlsZDtcbiAgICBuZXdMRnJhbWUubFZpZXcgPSBuZXdWaWV3O1xuICAgIG5ld0xGcmFtZS50VmlldyA9IHRWaWV3O1xuICAgIG5ld0xGcmFtZS5jb250ZXh0TFZpZXcgPSBuZXdWaWV3O1xuICAgIG5ld0xGcmFtZS5iaW5kaW5nSW5kZXggPSB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleDtcbiAgICBuZXdMRnJhbWUuaW5JMThuID0gZmFsc2U7XG59XG4vKipcbiAqIEFsbG9jYXRlcyBuZXh0IGZyZWUgTEZyYW1lLiBUaGlzIGZ1bmN0aW9uIHRyaWVzIHRvIHJldXNlIHRoZSBgTEZyYW1lYHMgdG8gbG93ZXIgbWVtb3J5IHByZXNzdXJlLlxuICovXG5mdW5jdGlvbiBhbGxvY0xGcmFtZSgpIHtcbiAgICBjb25zdCBjdXJyZW50TEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgY29uc3QgY2hpbGRMRnJhbWUgPSBjdXJyZW50TEZyYW1lID09PSBudWxsID8gbnVsbCA6IGN1cnJlbnRMRnJhbWUuY2hpbGQ7XG4gICAgY29uc3QgbmV3TEZyYW1lID0gY2hpbGRMRnJhbWUgPT09IG51bGwgPyBjcmVhdGVMRnJhbWUoY3VycmVudExGcmFtZSkgOiBjaGlsZExGcmFtZTtcbiAgICByZXR1cm4gbmV3TEZyYW1lO1xufVxuZnVuY3Rpb24gY3JlYXRlTEZyYW1lKHBhcmVudCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IHtcbiAgICAgICAgY3VycmVudFROb2RlOiBudWxsLFxuICAgICAgICBpc1BhcmVudDogdHJ1ZSxcbiAgICAgICAgbFZpZXc6IG51bGwsXG4gICAgICAgIHRWaWV3OiBudWxsLFxuICAgICAgICBzZWxlY3RlZEluZGV4OiAtMSxcbiAgICAgICAgY29udGV4dExWaWV3OiBudWxsLFxuICAgICAgICBlbGVtZW50RGVwdGhDb3VudDogMCxcbiAgICAgICAgY3VycmVudE5hbWVzcGFjZTogbnVsbCxcbiAgICAgICAgY3VycmVudERpcmVjdGl2ZUluZGV4OiAtMSxcbiAgICAgICAgYmluZGluZ1Jvb3RJbmRleDogLTEsXG4gICAgICAgIGJpbmRpbmdJbmRleDogLTEsXG4gICAgICAgIGN1cnJlbnRRdWVyeUluZGV4OiAwLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgY2hpbGQ6IG51bGwsXG4gICAgICAgIGluSTE4bjogZmFsc2UsXG4gICAgfTtcbiAgICBwYXJlbnQgIT09IG51bGwgJiYgKHBhcmVudC5jaGlsZCA9IGxGcmFtZSk7IC8vIGxpbmsgdGhlIG5ldyBMRnJhbWUgZm9yIHJldXNlLlxuICAgIHJldHVybiBsRnJhbWU7XG59XG4vKipcbiAqIEEgbGlnaHR3ZWlnaHQgdmVyc2lvbiBvZiBsZWF2ZSB3aGljaCBpcyB1c2VkIHdpdGggREkuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBvbmx5IHJlc2V0cyBgY3VycmVudFROb2RlYCBhbmQgYExWaWV3YCBhcyB0aG9zZSBhcmUgdGhlIG9ubHkgcHJvcGVydGllc1xuICogdXNlZCB3aXRoIERJIChgZW50ZXJESSgpYCkuXG4gKlxuICogTk9URTogVGhpcyBmdW5jdGlvbiBpcyByZWV4cG9ydGVkIGFzIGBsZWF2ZURJYC4gSG93ZXZlciBgbGVhdmVESWAgaGFzIHJldHVybiB0eXBlIG9mIGB2b2lkYCB3aGVyZVxuICogYXMgYGxlYXZlVmlld0xpZ2h0YCBoYXMgYExGcmFtZWAuIFRoaXMgaXMgc28gdGhhdCBgbGVhdmVWaWV3TGlnaHRgIGNhbiBiZSB1c2VkIGluIGBsZWF2ZVZpZXdgLlxuICovXG5mdW5jdGlvbiBsZWF2ZVZpZXdMaWdodCgpIHtcbiAgICBjb25zdCBvbGRMRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZSA9IG9sZExGcmFtZS5wYXJlbnQ7XG4gICAgb2xkTEZyYW1lLmN1cnJlbnRUTm9kZSA9IG51bGw7XG4gICAgb2xkTEZyYW1lLmxWaWV3ID0gbnVsbDtcbiAgICByZXR1cm4gb2xkTEZyYW1lO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgbGlnaHR3ZWlnaHQgdmVyc2lvbiBvZiB0aGUgYGxlYXZlVmlld2Agd2hpY2ggaXMgbmVlZGVkIGJ5IHRoZSBESSBzeXN0ZW0uXG4gKlxuICogTk9URTogdGhpcyBmdW5jdGlvbiBpcyBhbiBhbGlhcyBzbyB0aGF0IHdlIGNhbiBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIHRvIGhhdmUgYHZvaWRgXG4gKiByZXR1cm4gdHlwZS5cbiAqL1xuY29uc3QgbGVhdmVESSA9IGxlYXZlVmlld0xpZ2h0O1xuLyoqXG4gKiBMZWF2ZSB0aGUgY3VycmVudCBgTFZpZXdgXG4gKlxuICogVGhpcyBwb3BzIHRoZSBgTEZyYW1lYCB3aXRoIHRoZSBhc3NvY2lhdGVkIGBMVmlld2AgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogSU1QT1JUQU5UOiBXZSBtdXN0IHplcm8gb3V0IHRoZSBgTEZyYW1lYCB2YWx1ZXMgaGVyZSBvdGhlcndpc2UgdGhleSB3aWxsIGJlIHJldGFpbmVkLiBUaGlzIGlzXG4gKiBiZWNhdXNlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIHdlIGRvbid0IHJlbGVhc2UgYExGcmFtZWAgYnV0IHJhdGhlciBrZWVwIGl0IGZvciBuZXh0IHVzZS5cbiAqL1xuZnVuY3Rpb24gbGVhdmVWaWV3KCkge1xuICAgIGNvbnN0IG9sZExGcmFtZSA9IGxlYXZlVmlld0xpZ2h0KCk7XG4gICAgb2xkTEZyYW1lLmlzUGFyZW50ID0gdHJ1ZTtcbiAgICBvbGRMRnJhbWUudFZpZXcgPSBudWxsO1xuICAgIG9sZExGcmFtZS5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgb2xkTEZyYW1lLmNvbnRleHRMVmlldyA9IG51bGw7XG4gICAgb2xkTEZyYW1lLmVsZW1lbnREZXB0aENvdW50ID0gMDtcbiAgICBvbGRMRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4ID0gLTE7XG4gICAgb2xkTEZyYW1lLmN1cnJlbnROYW1lc3BhY2UgPSBudWxsO1xuICAgIG9sZExGcmFtZS5iaW5kaW5nUm9vdEluZGV4ID0gLTE7XG4gICAgb2xkTEZyYW1lLmJpbmRpbmdJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5jdXJyZW50UXVlcnlJbmRleCA9IDA7XG59XG5mdW5jdGlvbiBuZXh0Q29udGV4dEltcGwobGV2ZWwpIHtcbiAgICBjb25zdCBjb250ZXh0TFZpZXcgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXcgPVxuICAgICAgICB3YWxrVXBWaWV3cyhsZXZlbCwgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY29udGV4dExWaWV3KTtcbiAgICByZXR1cm4gY29udGV4dExWaWV3W0NPTlRFWFRdO1xufVxuZnVuY3Rpb24gd2Fsa1VwVmlld3MobmVzdGluZ0xldmVsLCBjdXJyZW50Vmlldykge1xuICAgIHdoaWxlIChuZXN0aW5nTGV2ZWwgPiAwKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChjdXJyZW50Vmlld1tERUNMQVJBVElPTl9WSUVXXSwgJ0RlY2xhcmF0aW9uIHZpZXcgc2hvdWxkIGJlIGRlZmluZWQgaWYgbmVzdGluZyBsZXZlbCBpcyBncmVhdGVyIHRoYW4gMC4nKTtcbiAgICAgICAgY3VycmVudFZpZXcgPSBjdXJyZW50Vmlld1tERUNMQVJBVElPTl9WSUVXXTtcbiAgICAgICAgbmVzdGluZ0xldmVsLS07XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50Vmlldztcbn1cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGVsZW1lbnQgaW5kZXguXG4gKlxuICogVXNlZCB3aXRoIHtAbGluayBwcm9wZXJ0eX0gaW5zdHJ1Y3Rpb24gKGFuZCBtb3JlIGluIHRoZSBmdXR1cmUpIHRvIGlkZW50aWZ5IHRoZSBpbmRleCBpbiB0aGVcbiAqIGN1cnJlbnQgYExWaWV3YCB0byBhY3Qgb24uXG4gKi9cbmZ1bmN0aW9uIGdldFNlbGVjdGVkSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnNlbGVjdGVkSW5kZXg7XG59XG4vKipcbiAqIFNldHMgdGhlIG1vc3QgcmVjZW50IGluZGV4IHBhc3NlZCB0byB7QGxpbmsgc2VsZWN0fVxuICpcbiAqIFVzZWQgd2l0aCB7QGxpbmsgcHJvcGVydHl9IGluc3RydWN0aW9uIChhbmQgbW9yZSBpbiB0aGUgZnV0dXJlKSB0byBpZGVudGlmeSB0aGUgaW5kZXggaW4gdGhlXG4gKiBjdXJyZW50IGBMVmlld2AgdG8gYWN0IG9uLlxuICpcbiAqIChOb3RlIHRoYXQgaWYgYW4gXCJleGl0IGZ1bmN0aW9uXCIgd2FzIHNldCBlYXJsaWVyICh2aWEgYHNldEVsZW1lbnRFeGl0Rm4oKWApIHRoZW4gdGhhdCB3aWxsIGJlXG4gKiBydW4gaWYgYW5kIHdoZW4gdGhlIHByb3ZpZGVkIGBpbmRleGAgdmFsdWUgaXMgZGlmZmVyZW50IGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaW5kZXggdmFsdWUuKVxuICovXG5mdW5jdGlvbiBzZXRTZWxlY3RlZEluZGV4KGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGluZGV4ICE9PSAtMSAmJlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdJbmRleCBtdXN0IGJlIHBhc3QgSEVBREVSX09GRlNFVCAob3IgLTEpLicpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRMZXNzVGhhbihpbmRleCwgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUubFZpZXcubGVuZ3RoLCAnQ2FuXFwndCBzZXQgaW5kZXggcGFzc2VkIGVuZCBvZiBMVmlldycpO1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbn1cbi8qKlxuICogR2V0cyB0aGUgYHROb2RlYCB0aGF0IHJlcHJlc2VudHMgY3VycmVudGx5IHNlbGVjdGVkIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGdldFNlbGVjdGVkVE5vZGUoKSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgcmV0dXJuIGdldFROb2RlKGxGcmFtZS50VmlldywgbEZyYW1lLnNlbGVjdGVkSW5kZXgpO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBuYW1lc3BhY2UgdXNlZCB0byBjcmVhdGUgZWxlbWVudHMgdG8gYCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydgIGluIGdsb2JhbCBzdGF0ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmFtZXNwYWNlU1ZHKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnROYW1lc3BhY2UgPSBTVkdfTkFNRVNQQUNFO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBuYW1lc3BhY2UgdXNlZCB0byBjcmVhdGUgZWxlbWVudHMgdG8gYCdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGhNTC8nYCBpbiBnbG9iYWwgc3RhdGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5hbWVzcGFjZU1hdGhNTCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gTUFUSF9NTF9OQU1FU1BBQ0U7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgbnVsbGAsIHdoaWNoIGZvcmNlcyBlbGVtZW50IGNyZWF0aW9uIHRvIHVzZVxuICogYGNyZWF0ZUVsZW1lbnRgIHJhdGhlciB0aGFuIGBjcmVhdGVFbGVtZW50TlNgLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuYW1lc3BhY2VIVE1MKCkge1xuICAgIG5hbWVzcGFjZUhUTUxJbnRlcm5hbCgpO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBuYW1lc3BhY2UgdXNlZCB0byBjcmVhdGUgZWxlbWVudHMgdG8gYG51bGxgLCB3aGljaCBmb3JjZXMgZWxlbWVudCBjcmVhdGlvbiB0byB1c2VcbiAqIGBjcmVhdGVFbGVtZW50YCByYXRoZXIgdGhhbiBgY3JlYXRlRWxlbWVudE5TYC5cbiAqL1xuZnVuY3Rpb24gbmFtZXNwYWNlSFRNTEludGVybmFsKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnROYW1lc3BhY2UgPSBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlJDEoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnROYW1lc3BhY2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGFsbCBkaXJlY3RpdmUgbGlmZWN5Y2xlIGhvb2tzIGZyb20gdGhlIGdpdmVuIGBEaXJlY3RpdmVEZWZgIHRvIHRoZSBnaXZlbiBgVFZpZXdgLlxuICpcbiAqIE11c3QgYmUgcnVuICpvbmx5KiBvbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcy5cbiAqXG4gKiBTZXRzIHVwIHRoZSBwcmUtb3JkZXIgaG9va3Mgb24gdGhlIHByb3ZpZGVkIGB0Vmlld2AsXG4gKiBzZWUge0BsaW5rIEhvb2tEYXRhfSBmb3IgZGV0YWlscyBhYm91dCB0aGUgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgZGlyZWN0aXZlIGluIExWaWV3XG4gKiBAcGFyYW0gZGlyZWN0aXZlRGVmIFRoZSBkZWZpbml0aW9uIGNvbnRhaW5pbmcgdGhlIGhvb2tzIHRvIHNldHVwIGluIHRWaWV3XG4gKiBAcGFyYW0gdFZpZXcgVGhlIGN1cnJlbnQgVFZpZXdcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQcmVPcmRlckhvb2tzKGRpcmVjdGl2ZUluZGV4LCBkaXJlY3RpdmVEZWYsIHRWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgY29uc3QgeyBuZ09uQ2hhbmdlcywgbmdPbkluaXQsIG5nRG9DaGVjayB9ID0gZGlyZWN0aXZlRGVmLnR5cGUucHJvdG90eXBlO1xuICAgIGlmIChuZ09uQ2hhbmdlcykge1xuICAgICAgICBjb25zdCB3cmFwcGVkT25DaGFuZ2VzID0gTmdPbkNoYW5nZXNGZWF0dXJlSW1wbChkaXJlY3RpdmVEZWYpO1xuICAgICAgICAodFZpZXcucHJlT3JkZXJIb29rcyB8fCAodFZpZXcucHJlT3JkZXJIb29rcyA9IFtdKSkucHVzaChkaXJlY3RpdmVJbmRleCwgd3JhcHBlZE9uQ2hhbmdlcyk7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgfHwgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyA9IFtdKSlcbiAgICAgICAgICAgIC5wdXNoKGRpcmVjdGl2ZUluZGV4LCB3cmFwcGVkT25DaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKG5nT25Jbml0KSB7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckhvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckhvb2tzID0gW10pKS5wdXNoKDAgLSBkaXJlY3RpdmVJbmRleCwgbmdPbkluaXQpO1xuICAgIH1cbiAgICBpZiAobmdEb0NoZWNrKSB7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckhvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckhvb2tzID0gW10pKS5wdXNoKGRpcmVjdGl2ZUluZGV4LCBuZ0RvQ2hlY2spO1xuICAgICAgICAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgPSBbXSkpLnB1c2goZGlyZWN0aXZlSW5kZXgsIG5nRG9DaGVjayk7XG4gICAgfVxufVxuLyoqXG4gKlxuICogTG9vcHMgdGhyb3VnaCB0aGUgZGlyZWN0aXZlcyBvbiB0aGUgcHJvdmlkZWQgYHROb2RlYCBhbmQgcXVldWVzIGhvb2tzIHRvIGJlXG4gKiBydW4gdGhhdCBhcmUgbm90IGluaXRpYWxpemF0aW9uIGhvb2tzLlxuICpcbiAqIFNob3VsZCBiZSBleGVjdXRlZCBkdXJpbmcgYGVsZW1lbnRFbmQoKWAgYW5kIHNpbWlsYXIgdG9cbiAqIHByZXNlcnZlIGhvb2sgZXhlY3V0aW9uIG9yZGVyLiBDb250ZW50LCB2aWV3LCBhbmQgZGVzdHJveSBob29rcyBmb3IgcHJvamVjdGVkXG4gKiBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzIG11c3QgYmUgY2FsbGVkICpiZWZvcmUqIHRoZWlyIGhvc3RzLlxuICpcbiAqIFNldHMgdXAgdGhlIGNvbnRlbnQsIHZpZXcsIGFuZCBkZXN0cm95IGhvb2tzIG9uIHRoZSBwcm92aWRlZCBgdFZpZXdgLFxuICogc2VlIHtAbGluayBIb29rRGF0YX0gZm9yIGRldGFpbHMgYWJvdXQgdGhlIGRhdGEgc3RydWN0dXJlLlxuICpcbiAqIE5PVEU6IFRoaXMgZG9lcyBub3Qgc2V0IHVwIGBvbkNoYW5nZXNgLCBgb25Jbml0YCBvciBgZG9DaGVja2AsIHRob3NlIGFyZSBzZXQgdXBcbiAqIHNlcGFyYXRlbHkgYXQgYGVsZW1lbnRTdGFydGAuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBjdXJyZW50IFRWaWV3XG4gKiBAcGFyYW0gdE5vZGUgVGhlIFROb2RlIHdob3NlIGRpcmVjdGl2ZXMgYXJlIHRvIGJlIHNlYXJjaGVkIGZvciBob29rcyB0byBxdWV1ZVxuICovXG5mdW5jdGlvbiByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCB0Tm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIC8vIEl0J3MgbmVjZXNzYXJ5IHRvIGxvb3AgdGhyb3VnaCB0aGUgZGlyZWN0aXZlcyBhdCBlbGVtZW50RW5kKCkgKHJhdGhlciB0aGFuIHByb2Nlc3NpbmcgaW5cbiAgICAvLyBkaXJlY3RpdmVDcmVhdGUpIHNvIHdlIGNhbiBwcmVzZXJ2ZSB0aGUgY3VycmVudCBob29rIG9yZGVyLiBDb250ZW50LCB2aWV3LCBhbmQgZGVzdHJveVxuICAgIC8vIGhvb2tzIGZvciBwcm9qZWN0ZWQgY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlcyBtdXN0IGJlIGNhbGxlZCAqYmVmb3JlKiB0aGVpciBob3N0cy5cbiAgICBmb3IgKGxldCBpID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQsIGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZiA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGRpcmVjdGl2ZURlZiwgJ0V4cGVjdGluZyBEaXJlY3RpdmVEZWYnKTtcbiAgICAgICAgY29uc3QgbGlmZWN5Y2xlSG9va3MgPSBkaXJlY3RpdmVEZWYudHlwZS5wcm90b3R5cGU7XG4gICAgICAgIGNvbnN0IHsgbmdBZnRlckNvbnRlbnRJbml0LCBuZ0FmdGVyQ29udGVudENoZWNrZWQsIG5nQWZ0ZXJWaWV3SW5pdCwgbmdBZnRlclZpZXdDaGVja2VkLCBuZ09uRGVzdHJveSB9ID0gbGlmZWN5Y2xlSG9va3M7XG4gICAgICAgIGlmIChuZ0FmdGVyQ29udGVudEluaXQpIHtcbiAgICAgICAgICAgICh0Vmlldy5jb250ZW50SG9va3MgfHwgKHRWaWV3LmNvbnRlbnRIb29rcyA9IFtdKSkucHVzaCgtaSwgbmdBZnRlckNvbnRlbnRJbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdBZnRlckNvbnRlbnRDaGVja2VkKSB7XG4gICAgICAgICAgICAodFZpZXcuY29udGVudEhvb2tzIHx8ICh0Vmlldy5jb250ZW50SG9va3MgPSBbXSkpLnB1c2goaSwgbmdBZnRlckNvbnRlbnRDaGVja2VkKTtcbiAgICAgICAgICAgICh0Vmlldy5jb250ZW50Q2hlY2tIb29rcyB8fCAodFZpZXcuY29udGVudENoZWNrSG9va3MgPSBbXSkpLnB1c2goaSwgbmdBZnRlckNvbnRlbnRDaGVja2VkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdBZnRlclZpZXdJbml0KSB7XG4gICAgICAgICAgICAodFZpZXcudmlld0hvb2tzIHx8ICh0Vmlldy52aWV3SG9va3MgPSBbXSkpLnB1c2goLWksIG5nQWZ0ZXJWaWV3SW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nQWZ0ZXJWaWV3Q2hlY2tlZCkge1xuICAgICAgICAgICAgKHRWaWV3LnZpZXdIb29rcyB8fCAodFZpZXcudmlld0hvb2tzID0gW10pKS5wdXNoKGksIG5nQWZ0ZXJWaWV3Q2hlY2tlZCk7XG4gICAgICAgICAgICAodFZpZXcudmlld0NoZWNrSG9va3MgfHwgKHRWaWV3LnZpZXdDaGVja0hvb2tzID0gW10pKS5wdXNoKGksIG5nQWZ0ZXJWaWV3Q2hlY2tlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nT25EZXN0cm95ICE9IG51bGwpIHtcbiAgICAgICAgICAgICh0Vmlldy5kZXN0cm95SG9va3MgfHwgKHRWaWV3LmRlc3Ryb3lIb29rcyA9IFtdKSkucHVzaChpLCBuZ09uRGVzdHJveSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEV4ZWN1dGluZyBob29rcyByZXF1aXJlcyBjb21wbGV4IGxvZ2ljIGFzIHdlIG5lZWQgdG8gZGVhbCB3aXRoIDIgY29uc3RyYWludHMuXG4gKlxuICogMS4gSW5pdCBob29rcyAobmdPbkluaXQsIG5nQWZ0ZXJDb250ZW50SW5pdCwgbmdBZnRlclZpZXdJbml0KSBtdXN0IGFsbCBiZSBleGVjdXRlZCBvbmNlIGFuZCBvbmx5XG4gKiBvbmNlLCBhY3Jvc3MgbWFueSBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlcy4gVGhpcyBtdXN0IGJlIHRydWUgZXZlbiBpZiBzb21lIGhvb2tzIHRocm93LCBvciBpZlxuICogc29tZSByZWN1cnNpdmVseSB0cmlnZ2VyIGEgY2hhbmdlIGRldGVjdGlvbiBjeWNsZS5cbiAqIFRvIHNvbHZlIHRoYXQsIGl0IGlzIHJlcXVpcmVkIHRvIHRyYWNrIHRoZSBzdGF0ZSBvZiB0aGUgZXhlY3V0aW9uIG9mIHRoZXNlIGluaXQgaG9va3MuXG4gKiBUaGlzIGlzIGRvbmUgYnkgc3RvcmluZyBhbmQgbWFpbnRhaW5pbmcgZmxhZ3MgaW4gdGhlIHZpZXc6IHRoZSB7QGxpbmsgSW5pdFBoYXNlU3RhdGV9LFxuICogYW5kIHRoZSBpbmRleCB3aXRoaW4gdGhhdCBwaGFzZS4gVGhleSBjYW4gYmUgc2VlbiBhcyBhIGN1cnNvciBpbiB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZTpcbiAqIFtbb25Jbml0MSwgb25Jbml0Ml0sIFthZnRlckNvbnRlbnRJbml0MV0sIFthZnRlclZpZXdJbml0MSwgYWZ0ZXJWaWV3SW5pdDIsIGFmdGVyVmlld0luaXQzXV1cbiAqIFRoZXkgYXJlIGFyZSBzdG9yZWQgYXMgZmxhZ3MgaW4gTFZpZXdbRkxBR1NdLlxuICpcbiAqIDIuIFByZS1vcmRlciBob29rcyBjYW4gYmUgZXhlY3V0ZWQgaW4gYmF0Y2hlcywgYmVjYXVzZSBvZiB0aGUgc2VsZWN0IGluc3RydWN0aW9uLlxuICogVG8gYmUgYWJsZSB0byBwYXVzZSBhbmQgcmVzdW1lIHRoZWlyIGV4ZWN1dGlvbiwgd2UgYWxzbyBuZWVkIHNvbWUgc3RhdGUgYWJvdXQgdGhlIGhvb2sncyBhcnJheVxuICogdGhhdCBpcyBiZWluZyBwcm9jZXNzZWQ6XG4gKiAtIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBob29rIHRvIGJlIGV4ZWN1dGVkXG4gKiAtIHRoZSBudW1iZXIgb2YgaW5pdCBob29rcyBhbHJlYWR5IGZvdW5kIGluIHRoZSBwcm9jZXNzZWQgcGFydCBvZiB0aGUgIGFycmF5XG4gKiBUaGV5IGFyZSBhcmUgc3RvcmVkIGFzIGZsYWdzIGluIExWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdLlxuICovXG4vKipcbiAqIEV4ZWN1dGVzIHByZS1vcmRlciBjaGVjayBob29rcyAoIE9uQ2hhbmdlcywgRG9DaGFuZ2VzKSBnaXZlbiBhIHZpZXcgd2hlcmUgYWxsIHRoZSBpbml0IGhvb2tzIHdlcmVcbiAqIGV4ZWN1dGVkIG9uY2UuIFRoaXMgaXMgYSBsaWdodCB2ZXJzaW9uIG9mIGV4ZWN1dGVJbml0QW5kQ2hlY2tQcmVPcmRlckhvb2tzIHdoZXJlIHdlIGNhbiBza2lwIHJlYWRcbiAqIC8gd3JpdGUgb2YgdGhlIGluaXQtaG9va3MgcmVsYXRlZCBmbGFncy5cbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgd2hlcmUgaG9va3MgYXJlIGRlZmluZWRcbiAqIEBwYXJhbSBob29rcyBIb29rcyB0byBiZSBydW5cbiAqIEBwYXJhbSBub2RlSW5kZXggMyBjYXNlcyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlOlxuICogLSB1bmRlZmluZWQ6IGFsbCBob29rcyBmcm9tIHRoZSBhcnJheSBzaG91bGQgYmUgZXhlY3V0ZWQgKHBvc3Qtb3JkZXIgY2FzZSlcbiAqIC0gbnVsbDogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoZSBlbmQgb2YgdGhlIGFycmF5IChwcmUtb3JkZXIgY2FzZSwgd2hlblxuICogZmx1c2hpbmcgdGhlIHJlbWFpbmluZyBob29rcylcbiAqIC0gbnVtYmVyOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhhdCBub2RlIGluZGV4IGV4Y2x1c2l2ZSAocHJlLW9yZGVyXG4gKiBjYXNlLCB3aGVuIGV4ZWN1dGluZyBzZWxlY3QobnVtYmVyKSlcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIGhvb2tzLCBub2RlSW5kZXgpIHtcbiAgICBjYWxsSG9va3MobFZpZXcsIGhvb2tzLCAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLywgbm9kZUluZGV4KTtcbn1cbi8qKlxuICogRXhlY3V0ZXMgcG9zdC1vcmRlciBpbml0IGFuZCBjaGVjayBob29rcyAob25lIG9mIEFmdGVyQ29udGVudEluaXQsIEFmdGVyQ29udGVudENoZWNrZWQsXG4gKiBBZnRlclZpZXdJbml0LCBBZnRlclZpZXdDaGVja2VkKSBnaXZlbiBhIHZpZXcgd2hlcmUgdGhlcmUgYXJlIHBlbmRpbmcgaW5pdCBob29rcyB0byBiZSBleGVjdXRlZC5cbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgd2hlcmUgaG9va3MgYXJlIGRlZmluZWRcbiAqIEBwYXJhbSBob29rcyBIb29rcyB0byBiZSBydW5cbiAqIEBwYXJhbSBpbml0UGhhc2UgQSBwaGFzZSBmb3Igd2hpY2ggaG9va3Mgc2hvdWxkIGJlIHJ1blxuICogQHBhcmFtIG5vZGVJbmRleCAzIGNhc2VzIGRlcGVuZGluZyBvbiB0aGUgdmFsdWU6XG4gKiAtIHVuZGVmaW5lZDogYWxsIGhvb2tzIGZyb20gdGhlIGFycmF5IHNob3VsZCBiZSBleGVjdXRlZCAocG9zdC1vcmRlciBjYXNlKVxuICogLSBudWxsOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHByZS1vcmRlciBjYXNlLCB3aGVuXG4gKiBmbHVzaGluZyB0aGUgcmVtYWluaW5nIGhvb2tzKVxuICogLSBudW1iZXI6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGF0IG5vZGUgaW5kZXggZXhjbHVzaXZlIChwcmUtb3JkZXJcbiAqIGNhc2UsIHdoZW4gZXhlY3V0aW5nIHNlbGVjdChudW1iZXIpKVxuICovXG5mdW5jdGlvbiBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIGhvb2tzLCBpbml0UGhhc2UsIG5vZGVJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChpbml0UGhhc2UsIDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovLCAnSW5pdCBwcmUtb3JkZXIgaG9va3Mgc2hvdWxkIG5vdCBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UnKTtcbiAgICBpZiAoKGxWaWV3W0ZMQUdTXSAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gaW5pdFBoYXNlKSB7XG4gICAgICAgIGNhbGxIb29rcyhsVmlldywgaG9va3MsIGluaXRQaGFzZSwgbm9kZUluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmNyZW1lbnRJbml0UGhhc2VGbGFncyhsVmlldywgaW5pdFBoYXNlKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGluaXRQaGFzZSwgMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi8sICdJbml0IGhvb2tzIHBoYXNlIHNob3VsZCBub3QgYmUgaW5jcmVtZW50ZWQgYWZ0ZXIgYWxsIGluaXQgaG9va3MgaGF2ZSBiZWVuIHJ1bi4nKTtcbiAgICBsZXQgZmxhZ3MgPSBsVmlld1tGTEFHU107XG4gICAgaWYgKChmbGFncyAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gaW5pdFBoYXNlKSB7XG4gICAgICAgIGZsYWdzICY9IDIwNDcgLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VSZXNldCAqLztcbiAgICAgICAgZmxhZ3MgKz0gMSAvKiBJbml0UGhhc2VTdGF0ZUluY3JlbWVudGVyICovO1xuICAgICAgICBsVmlld1tGTEFHU10gPSBmbGFncztcbiAgICB9XG59XG4vKipcbiAqIENhbGxzIGxpZmVjeWNsZSBob29rcyB3aXRoIHRoZWlyIGNvbnRleHRzLCBza2lwcGluZyBpbml0IGhvb2tzIGlmIGl0J3Mgbm90XG4gKiB0aGUgZmlyc3QgTFZpZXcgcGFzc1xuICpcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgY3VycmVudCB2aWV3XG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSBpbiB3aGljaCB0aGUgaG9va3MgYXJlIGZvdW5kXG4gKiBAcGFyYW0gaW5pdFBoYXNlU3RhdGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGluaXQgcGhhc2VcbiAqIEBwYXJhbSBjdXJyZW50Tm9kZUluZGV4IDMgY2FzZXMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZTpcbiAqIC0gdW5kZWZpbmVkOiBhbGwgaG9va3MgZnJvbSB0aGUgYXJyYXkgc2hvdWxkIGJlIGV4ZWN1dGVkIChwb3N0LW9yZGVyIGNhc2UpXG4gKiAtIG51bGw6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBhcnJheSAocHJlLW9yZGVyIGNhc2UsIHdoZW5cbiAqIGZsdXNoaW5nIHRoZSByZW1haW5pbmcgaG9va3MpXG4gKiAtIG51bWJlcjogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoYXQgbm9kZSBpbmRleCBleGNsdXNpdmUgKHByZS1vcmRlclxuICogY2FzZSwgd2hlbiBleGVjdXRpbmcgc2VsZWN0KG51bWJlcikpXG4gKi9cbmZ1bmN0aW9uIGNhbGxIb29rcyhjdXJyZW50VmlldywgYXJyLCBpbml0UGhhc2UsIGN1cnJlbnROb2RlSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpLCBmYWxzZSwgJ0hvb2tzIHNob3VsZCBuZXZlciBiZSBydW4gd2hlbiBpbiBjaGVjayBubyBjaGFuZ2VzIG1vZGUuJyk7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGN1cnJlbnROb2RlSW5kZXggIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIChjdXJyZW50Vmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSAmIDY1NTM1IC8qIEluZGV4T2ZUaGVOZXh0UHJlT3JkZXJIb29rTWFza01hc2sgKi8pIDpcbiAgICAgICAgMDtcbiAgICBjb25zdCBub2RlSW5kZXhMaW1pdCA9IGN1cnJlbnROb2RlSW5kZXggIT0gbnVsbCA/IGN1cnJlbnROb2RlSW5kZXggOiAtMTtcbiAgICBjb25zdCBtYXggPSBhcnIubGVuZ3RoIC0gMTsgLy8gU3RvcCB0aGUgbG9vcCBhdCBsZW5ndGggLSAxLCBiZWNhdXNlIHdlIGxvb2sgZm9yIHRoZSBob29rIGF0IGkgKyAxXG4gICAgbGV0IGxhc3ROb2RlSW5kZXhGb3VuZCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBtYXg7IGkrKykge1xuICAgICAgICBjb25zdCBob29rID0gYXJyW2kgKyAxXTtcbiAgICAgICAgaWYgKHR5cGVvZiBob29rID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgbGFzdE5vZGVJbmRleEZvdW5kID0gYXJyW2ldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlSW5kZXggIT0gbnVsbCAmJiBsYXN0Tm9kZUluZGV4Rm91bmQgPj0gY3VycmVudE5vZGVJbmRleCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNJbml0SG9vayA9IGFycltpXSA8IDA7XG4gICAgICAgICAgICBpZiAoaXNJbml0SG9vaylcbiAgICAgICAgICAgICAgICBjdXJyZW50Vmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSArPSA2NTUzNiAvKiBOdW1iZXJPZkluaXRIb29rc0NhbGxlZEluY3JlbWVudGVyICovO1xuICAgICAgICAgICAgaWYgKGxhc3ROb2RlSW5kZXhGb3VuZCA8IG5vZGVJbmRleExpbWl0IHx8IG5vZGVJbmRleExpbWl0ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgY2FsbEhvb2soY3VycmVudFZpZXcsIGluaXRQaGFzZSwgYXJyLCBpKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Vmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSA9XG4gICAgICAgICAgICAgICAgICAgIChjdXJyZW50Vmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSAmIDQyOTQ5MDE3NjAgLyogTnVtYmVyT2ZJbml0SG9va3NDYWxsZWRNYXNrICovKSArIGkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRXhlY3V0ZSBvbmUgaG9vayBhZ2FpbnN0IHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKlxuICogQHBhcmFtIGN1cnJlbnRWaWV3IFRoZSBjdXJyZW50IHZpZXdcbiAqIEBwYXJhbSBpbml0UGhhc2VTdGF0ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaW5pdCBwaGFzZVxuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgaW4gd2hpY2ggdGhlIGhvb2tzIGFyZSBmb3VuZFxuICogQHBhcmFtIGkgVGhlIGN1cnJlbnQgaW5kZXggd2l0aGluIHRoZSBob29rIGRhdGEgYXJyYXlcbiAqL1xuZnVuY3Rpb24gY2FsbEhvb2soY3VycmVudFZpZXcsIGluaXRQaGFzZSwgYXJyLCBpKSB7XG4gICAgY29uc3QgaXNJbml0SG9vayA9IGFycltpXSA8IDA7XG4gICAgY29uc3QgaG9vayA9IGFycltpICsgMV07XG4gICAgY29uc3QgZGlyZWN0aXZlSW5kZXggPSBpc0luaXRIb29rID8gLWFycltpXSA6IGFycltpXTtcbiAgICBjb25zdCBkaXJlY3RpdmUgPSBjdXJyZW50Vmlld1tkaXJlY3RpdmVJbmRleF07XG4gICAgaWYgKGlzSW5pdEhvb2spIHtcbiAgICAgICAgY29uc3QgaW5kZXhXaXRoaW50SW5pdFBoYXNlID0gY3VycmVudFZpZXdbRkxBR1NdID4+IDExIC8qIEluZGV4V2l0aGluSW5pdFBoYXNlU2hpZnQgKi87XG4gICAgICAgIC8vIFRoZSBpbml0IHBoYXNlIHN0YXRlIG11c3QgYmUgYWx3YXlzIGNoZWNrZWQgaGVyZSBhcyBpdCBtYXkgaGF2ZSBiZWVuIHJlY3Vyc2l2ZWx5IHVwZGF0ZWQuXG4gICAgICAgIGlmIChpbmRleFdpdGhpbnRJbml0UGhhc2UgPFxuICAgICAgICAgICAgKGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdID4+IDE2IC8qIE51bWJlck9mSW5pdEhvb2tzQ2FsbGVkU2hpZnQgKi8pICYmXG4gICAgICAgICAgICAoY3VycmVudFZpZXdbRkxBR1NdICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSBpbml0UGhhc2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3W0ZMQUdTXSArPSAyMDQ4IC8qIEluZGV4V2l0aGluSW5pdFBoYXNlSW5jcmVtZW50ZXIgKi87XG4gICAgICAgICAgICBwcm9maWxlcig0IC8qIExpZmVjeWNsZUhvb2tTdGFydCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaG9vay5jYWxsKGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBwcm9maWxlcig1IC8qIExpZmVjeWNsZUhvb2tFbmQgKi8sIGRpcmVjdGl2ZSwgaG9vayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb2ZpbGVyKDQgLyogTGlmZWN5Y2xlSG9va1N0YXJ0ICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaG9vay5jYWxsKGRpcmVjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBwcm9maWxlcig1IC8qIExpZmVjeWNsZUhvb2tFbmQgKi8sIGRpcmVjdGl2ZSwgaG9vayk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgTk9fUEFSRU5UX0lOSkVDVE9SID0gLTE7XG4vKipcbiAqIEVhY2ggaW5qZWN0b3IgaXMgc2F2ZWQgaW4gOSBjb250aWd1b3VzIHNsb3RzIGluIGBMVmlld2AgYW5kIDkgY29udGlndW91cyBzbG90cyBpblxuICogYFRWaWV3LmRhdGFgLiBUaGlzIGFsbG93cyB1cyB0byBzdG9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBub2RlJ3MgdG9rZW5zICh3aGljaFxuICogY2FuIGJlIHNoYXJlZCBpbiBgVFZpZXdgKSBhcyB3ZWxsIGFzIHRoZSB0b2tlbnMgb2YgaXRzIGFuY2VzdG9yIG5vZGVzICh3aGljaCBjYW5ub3QgYmVcbiAqIHNoYXJlZCwgc28gdGhleSBsaXZlIGluIGBMVmlld2ApLlxuICpcbiAqIEVhY2ggb2YgdGhlc2Ugc2xvdHMgKGFzaWRlIGZyb20gdGhlIGxhc3Qgc2xvdCkgY29udGFpbnMgYSBibG9vbSBmaWx0ZXIuIFRoaXMgYmxvb20gZmlsdGVyXG4gKiBkZXRlcm1pbmVzIHdoZXRoZXIgYSBkaXJlY3RpdmUgaXMgYXZhaWxhYmxlIG9uIHRoZSBhc3NvY2lhdGVkIG5vZGUgb3Igbm90LiBUaGlzIHByZXZlbnRzIHVzXG4gKiBmcm9tIHNlYXJjaGluZyB0aGUgZGlyZWN0aXZlcyBhcnJheSBhdCB0aGlzIGxldmVsIHVubGVzcyBpdCdzIHByb2JhYmxlIHRoZSBkaXJlY3RpdmUgaXMgaW4gaXQuXG4gKlxuICogU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CbG9vbV9maWx0ZXIgZm9yIG1vcmUgYWJvdXQgYmxvb20gZmlsdGVycy5cbiAqXG4gKiBCZWNhdXNlIGFsbCBpbmplY3RvcnMgaGF2ZSBiZWVuIGZsYXR0ZW5lZCBpbnRvIGBMVmlld2AgYW5kIGBUVmlld0RhdGFgLCB0aGV5IGNhbm5vdCB0eXBlZFxuICogdXNpbmcgaW50ZXJmYWNlcyBhcyB0aGV5IHdlcmUgcHJldmlvdXNseS4gVGhlIHN0YXJ0IGluZGV4IG9mIGVhY2ggYExJbmplY3RvcmAgYW5kIGBUSW5qZWN0b3JgXG4gKiB3aWxsIGRpZmZlciBiYXNlZCBvbiB3aGVyZSBpdCBpcyBmbGF0dGVuZWQgaW50byB0aGUgbWFpbiBhcnJheSwgc28gaXQncyBub3QgcG9zc2libGUgdG8ga25vd1xuICogdGhlIGluZGljZXMgYWhlYWQgb2YgdGltZSBhbmQgc2F2ZSB0aGVpciB0eXBlcyBoZXJlLiBUaGUgaW50ZXJmYWNlcyBhcmUgc3RpbGwgaW5jbHVkZWQgaGVyZVxuICogZm9yIGRvY3VtZW50YXRpb24gcHVycG9zZXMuXG4gKlxuICogZXhwb3J0IGludGVyZmFjZSBMSW5qZWN0b3IgZXh0ZW5kcyBBcnJheTxhbnk+IHtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDAtMzEgIChJRHMgYXJlICUgQkxPT01fU0laRSlcbiAqICAgIFswXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMzItNjNcbiAqICAgIFsxXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgNjQtOTVcbiAqICAgIFsyXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgOTYtMTI3XG4gKiAgICBbM106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDEyOC0xNTlcbiAqICAgIFs0XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTYwIC0gMTkxXG4gKiAgICBbNV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDE5MiAtIDIyM1xuICogICAgWzZdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAyMjQgLSAyNTVcbiAqICAgIFs3XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFdlIG5lZWQgdG8gc3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIGluamVjdG9yJ3MgcGFyZW50IHNvIERJIGNhbiBrZWVwIGxvb2tpbmcgdXBcbiAqICAgIC8vIHRoZSBpbmplY3RvciB0cmVlIHVudGlsIGl0IGZpbmRzIHRoZSBkZXBlbmRlbmN5IGl0J3MgbG9va2luZyBmb3IuXG4gKiAgICBbUEFSRU5UX0lOSkVDVE9SXTogbnVtYmVyO1xuICogfVxuICpcbiAqIGV4cG9ydCBpbnRlcmZhY2UgVEluamVjdG9yIGV4dGVuZHMgQXJyYXk8YW55PiB7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMC0zMSAgKElEcyBhcmUgJSBCTE9PTV9TSVpFKVxuICogICAgWzBdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMzItNjNcbiAqICAgIFsxXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDY0LTk1XG4gKiAgICBbMl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA5Ni0xMjdcbiAqICAgIFszXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDEyOC0xNTlcbiAqICAgIFs0XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDE2MCAtIDE5MVxuICogICAgWzVdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTkyIC0gMjIzXG4gKiAgICBbNl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAyMjQgLSAyNTVcbiAqICAgIFs3XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIE5lY2Vzc2FyeSB0byBmaW5kIGRpcmVjdGl2ZSBpbmRpY2VzIGZvciBhIHBhcnRpY3VsYXIgbm9kZS5cbiAqICAgIFtUTk9ERV06IFRFbGVtZW50Tm9kZXxURWxlbWVudENvbnRhaW5lck5vZGV8VENvbnRhaW5lck5vZGU7XG4gKiAgfVxuICovXG4vKipcbiAqIEZhY3RvcnkgZm9yIGNyZWF0aW5nIGluc3RhbmNlcyBvZiBpbmplY3RvcnMgaW4gdGhlIE5vZGVJbmplY3Rvci5cbiAqXG4gKiBUaGlzIGZhY3RvcnkgaXMgY29tcGxpY2F0ZWQgYnkgdGhlIGZhY3QgdGhhdCBpdCBjYW4gcmVzb2x2ZSBgbXVsdGlgIGZhY3RvcmllcyBhcyB3ZWxsLlxuICpcbiAqIE5PVEU6IFNvbWUgb2YgdGhlIGZpZWxkcyBhcmUgb3B0aW9uYWwgd2hpY2ggbWVhbnMgdGhhdCB0aGlzIGNsYXNzIGhhcyB0d28gaGlkZGVuIGNsYXNzZXMuXG4gKiAtIE9uZSB3aXRob3V0IGBtdWx0aWAgc3VwcG9ydCAobW9zdCBjb21tb24pXG4gKiAtIE9uZSB3aXRoIGBtdWx0aWAgdmFsdWVzLCAocmFyZSkuXG4gKlxuICogU2luY2UgVk1zIGNhbiBjYWNoZSB1cCB0byA0IGlubGluZSBoaWRkZW4gY2xhc3NlcyB0aGlzIGlzIE9LLlxuICpcbiAqIC0gU2luZ2xlIGZhY3Rvcnk6IE9ubHkgYHJlc29sdmluZ2AgYW5kIGBmYWN0b3J5YCBpcyBkZWZpbmVkLlxuICogLSBgcHJvdmlkZXJzYCBmYWN0b3J5OiBgY29tcG9uZW50UHJvdmlkZXJzYCBpcyBhIG51bWJlciBhbmQgYGluZGV4ID0gLTFgLlxuICogLSBgdmlld1Byb3ZpZGVyc2AgZmFjdG9yeTogYGNvbXBvbmVudFByb3ZpZGVyc2AgaXMgYSBudW1iZXIgYW5kIGBpbmRleGAgcG9pbnRzIHRvIGBwcm92aWRlcnNgLlxuICovXG5jbGFzcyBOb2RlSW5qZWN0b3JGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBGYWN0b3J5IHRvIGludm9rZSBpbiBvcmRlciB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZmFjdG9yeSwgXG4gICAgLyoqXG4gICAgICogU2V0IHRvIGB0cnVlYCBpZiB0aGUgdG9rZW4gaXMgZGVjbGFyZWQgaW4gYHZpZXdQcm92aWRlcnNgIChvciBpZiBpdCBpcyBjb21wb25lbnQpLlxuICAgICAqL1xuICAgIGlzVmlld1Byb3ZpZGVyLCBpbmplY3RJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFya2VyIHNldCB0byB0cnVlIGR1cmluZyBmYWN0b3J5IGludm9jYXRpb24gdG8gc2VlIGlmIHdlIGdldCBpbnRvIHJlY3Vyc2l2ZSBsb29wLlxuICAgICAgICAgKiBSZWN1cnNpdmUgbG9vcCBjYXVzZXMgYW4gZXJyb3IgdG8gYmUgZGlzcGxheWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZmFjdG9yeSwgJ0ZhY3Rvcnkgbm90IHNwZWNpZmllZCcpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodHlwZW9mIGZhY3RvcnksICdmdW5jdGlvbicsICdFeHBlY3RlZCBmYWN0b3J5IGZ1bmN0aW9uLicpO1xuICAgICAgICB0aGlzLmNhblNlZVZpZXdQcm92aWRlcnMgPSBpc1ZpZXdQcm92aWRlcjtcbiAgICAgICAgdGhpcy5pbmplY3RJbXBsID0gaW5qZWN0SW1wbGVtZW50YXRpb247XG4gICAgfVxufVxuZnVuY3Rpb24gaXNGYWN0b3J5KG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBOb2RlSW5qZWN0b3JGYWN0b3J5O1xufVxuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNSA9IDE7XG5cbi8qKlxuICogQ29udmVydHMgYFROb2RlVHlwZWAgaW50byBodW1hbiByZWFkYWJsZSB0ZXh0LlxuICogTWFrZSBzdXJlIHRoaXMgbWF0Y2hlcyB3aXRoIGBUTm9kZVR5cGVgXG4gKi9cbmZ1bmN0aW9uIHRvVE5vZGVUeXBlQXNTdHJpbmcodE5vZGVUeXBlKSB7XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICAodE5vZGVUeXBlICYgMSAvKiBUZXh0ICovKSAmJiAodGV4dCArPSAnfFRleHQnKTtcbiAgICAodE5vZGVUeXBlICYgMiAvKiBFbGVtZW50ICovKSAmJiAodGV4dCArPSAnfEVsZW1lbnQnKTtcbiAgICAodE5vZGVUeXBlICYgNCAvKiBDb250YWluZXIgKi8pICYmICh0ZXh0ICs9ICd8Q29udGFpbmVyJyk7XG4gICAgKHROb2RlVHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykgJiYgKHRleHQgKz0gJ3xFbGVtZW50Q29udGFpbmVyJyk7XG4gICAgKHROb2RlVHlwZSAmIDE2IC8qIFByb2plY3Rpb24gKi8pICYmICh0ZXh0ICs9ICd8UHJvamVjdGlvbicpO1xuICAgICh0Tm9kZVR5cGUgJiAzMiAvKiBJY3UgKi8pICYmICh0ZXh0ICs9ICd8SWN1Q29udGFpbmVyJyk7XG4gICAgKHROb2RlVHlwZSAmIDY0IC8qIFBsYWNlaG9sZGVyICovKSAmJiAodGV4dCArPSAnfFBsYWNlaG9sZGVyJyk7XG4gICAgcmV0dXJuIHRleHQubGVuZ3RoID4gMCA/IHRleHQuc3Vic3RyaW5nKDEpIDogdGV4dDtcbn1cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDQgPSAxO1xuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYFROb2RlYCBoYXMgYSBkaXJlY3RpdmUgd2hpY2ggaGFzIGBASW5wdXQoKWAgZm9yIGBjbGFzc2AgYmluZGluZy5cbiAqXG4gKiBgYGBcbiAqIDxkaXYgbXktZGlyIFtjbGFzc109XCJleHBcIj48L2Rpdj5cbiAqIGBgYFxuICogYW5kXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoe1xuICogfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgQElucHV0KClcbiAqICAgY2xhc3M6IHN0cmluZztcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGl0IGlzIG5lY2Vzc2FyeSB0byB3cml0ZSB0aGUgcmVjb25jaWxlZCBzdHlsaW5nIGluZm9ybWF0aW9uIGludG8gdGhlXG4gKiBkaXJlY3RpdmUncyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqL1xuZnVuY3Rpb24gaGFzQ2xhc3NJbnB1dCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAxNiAvKiBoYXNDbGFzc0lucHV0ICovKSAhPT0gMDtcbn1cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGBUTm9kZWAgaGFzIGEgZGlyZWN0aXZlIHdoaWNoIGhhcyBgQElucHV0KClgIGZvciBgc3R5bGVgIGJpbmRpbmcuXG4gKlxuICogYGBgXG4gKiA8ZGl2IG15LWRpciBbc3R5bGVdPVwiZXhwXCI+PC9kaXY+XG4gKiBgYGBcbiAqIGFuZFxuICogYGBgXG4gKiBARGlyZWN0aXZlKHtcbiAqIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIEBJbnB1dCgpXG4gKiAgIGNsYXNzOiBzdHJpbmc7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBpdCBpcyBuZWNlc3NhcnkgdG8gd3JpdGUgdGhlIHJlY29uY2lsZWQgc3R5bGluZyBpbmZvcm1hdGlvbiBpbnRvIHRoZVxuICogZGlyZWN0aXZlJ3MgaW5wdXQuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKi9cbmZ1bmN0aW9uIGhhc1N0eWxlSW5wdXQodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMzIgLyogaGFzU3R5bGVJbnB1dCAqLykgIT09IDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCBleHBlY3RlZFR5cGVzLCBtZXNzYWdlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ3Nob3VsZCBiZSBjYWxsZWQgd2l0aCBhIFROb2RlJyk7XG4gICAgaWYgKCh0Tm9kZS50eXBlICYgZXhwZWN0ZWRUeXBlcykgPT09IDApIHtcbiAgICAgICAgdGhyb3dFcnJvcihtZXNzYWdlIHx8XG4gICAgICAgICAgICBgRXhwZWN0ZWQgWyR7dG9UTm9kZVR5cGVBc1N0cmluZyhleHBlY3RlZFR5cGVzKX1dIGJ1dCBnb3QgJHt0b1ROb2RlVHlwZUFzU3RyaW5nKHROb2RlLnR5cGUpfS5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRQdXJlVE5vZGVUeXBlKHR5cGUpIHtcbiAgICBpZiAoISh0eXBlID09PSAyIC8qIEVsZW1lbnQgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gMSAvKiBUZXh0ICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDQgLyogQ29udGFpbmVyICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDggLyogRWxlbWVudENvbnRhaW5lciAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSAzMiAvKiBJY3UgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gMTYgLyogUHJvamVjdGlvbiAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSA2NCAvKiBQbGFjZWhvbGRlciAqLykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgRXhwZWN0ZWQgVE5vZGVUeXBlIHRvIGhhdmUgb25seSBhIHNpbmdsZSB0eXBlIHNlbGVjdGVkLCBidXQgZ290ICR7dG9UTm9kZVR5cGVBc1N0cmluZyh0eXBlKX0uYCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFzc2lnbnMgYWxsIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQgdmlhIHRoZSBpbmZlcnJlZCByZW5kZXJlci5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgdHdvIGZvcm1zIG9mIGF0dHJpYnV0ZSBlbnRyaWVzOlxuICpcbiAqIGRlZmF1bHQ6IChrZXksIHZhbHVlKTpcbiAqICBhdHRycyA9IFtrZXkxLCB2YWx1ZTEsIGtleTIsIHZhbHVlMl1cbiAqXG4gKiBuYW1lc3BhY2VkOiAoTkFNRVNQQUNFX01BUktFUiwgdXJpLCBuYW1lLCB2YWx1ZSlcbiAqICBhdHRycyA9IFtOQU1FU1BBQ0VfTUFSS0VSLCB1cmksIG5hbWUsIHZhbHVlLCBOQU1FU1BBQ0VfTUFSS0VSLCB1cmksIG5hbWUsIHZhbHVlXVxuICpcbiAqIFRoZSBgYXR0cnNgIGFycmF5IGNhbiBjb250YWluIGEgbWl4IG9mIGJvdGggdGhlIGRlZmF1bHQgYW5kIG5hbWVzcGFjZWQgZW50cmllcy5cbiAqIFRoZSBcImRlZmF1bHRcIiB2YWx1ZXMgYXJlIHNldCB3aXRob3V0IGEgbWFya2VyLCBidXQgaWYgdGhlIGZ1bmN0aW9uIGNvbWVzIGFjcm9zc1xuICogYSBtYXJrZXIgdmFsdWUgdGhlbiBpdCB3aWxsIGF0dGVtcHQgdG8gc2V0IGEgbmFtZXNwYWNlZCB2YWx1ZS4gSWYgdGhlIG1hcmtlciBpc1xuICogbm90IG9mIGEgbmFtZXNwYWNlZCB2YWx1ZSB0aGVuIHRoZSBmdW5jdGlvbiB3aWxsIHF1aXQgYW5kIHJldHVybiB0aGUgaW5kZXggdmFsdWVcbiAqIHdoZXJlIGl0IHN0b3BwZWQgZHVyaW5nIHRoZSBpdGVyYXRpb24gb2YgdGhlIGF0dHJzIGFycmF5LlxuICpcbiAqIFNlZSBbQXR0cmlidXRlTWFya2VyXSB0byB1bmRlcnN0YW5kIHdoYXQgdGhlIG5hbWVzcGFjZSBtYXJrZXIgdmFsdWUgaXMuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgaW5zdHJ1Y3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBhc3NpZ25pbmcgc3R5bGUgYW5kIGNsYXNzIHZhbHVlcyB0b1xuICogYW4gZWxlbWVudC4gU2VlIGBlbGVtZW50U3RhcnRgIGFuZCBgZWxlbWVudEhvc3RBdHRyc2AgdG8gbGVhcm4gaG93IHN0eWxpbmcgdmFsdWVzXG4gKiBhcmUgYXBwbGllZCB0byBhbiBlbGVtZW50LlxuICogQHBhcmFtIHJlbmRlcmVyIFRoZSByZW5kZXJlciB0byBiZSB1c2VkXG4gKiBAcGFyYW0gbmF0aXZlIFRoZSBlbGVtZW50IHRoYXQgdGhlIGF0dHJpYnV0ZXMgd2lsbCBiZSBhc3NpZ25lZCB0b1xuICogQHBhcmFtIGF0dHJzIFRoZSBhdHRyaWJ1dGUgYXJyYXkgb2YgdmFsdWVzIHRoYXQgd2lsbCBiZSBhc3NpZ25lZCB0byB0aGUgZWxlbWVudFxuICogQHJldHVybnMgdGhlIGluZGV4IHZhbHVlIHRoYXQgd2FzIGxhc3QgYWNjZXNzZWQgaW4gdGhlIGF0dHJpYnV0ZXMgYXJyYXlcbiAqL1xuZnVuY3Rpb24gc2V0VXBBdHRyaWJ1dGVzKHJlbmRlcmVyLCBuYXRpdmUsIGF0dHJzKSB7XG4gICAgY29uc3QgaXNQcm9jID0gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gb25seSBuYW1lc3BhY2VzIGFyZSBzdXBwb3J0ZWQuIE90aGVyIHZhbHVlIHR5cGVzIChzdWNoIGFzIHN0eWxlL2NsYXNzXG4gICAgICAgICAgICAvLyBlbnRyaWVzKSBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGZ1bmN0aW9uLlxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UganVzdCBsYW5kZWQgb24gdGhlIG1hcmtlciB2YWx1ZSAuLi4gdGhlcmVmb3JlXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgc2tpcCB0byB0aGUgbmV4dCBlbnRyeVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlVVJJID0gYXR0cnNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cnNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJWYWwgPSBhdHRyc1tpKytdO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldEF0dHJpYnV0ZSsrO1xuICAgICAgICAgICAgaXNQcm9jID9cbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUobmF0aXZlLCBhdHRyTmFtZSwgYXR0clZhbCwgbmFtZXNwYWNlVVJJKSA6XG4gICAgICAgICAgICAgICAgbmF0aXZlLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZVVSSSwgYXR0ck5hbWUsIGF0dHJWYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYXR0ck5hbWUgaXMgc3RyaW5nO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJWYWwgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgLy8gU3RhbmRhcmQgYXR0cmlidXRlc1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldEF0dHJpYnV0ZSsrO1xuICAgICAgICAgICAgaWYgKGlzQW5pbWF0aW9uUHJvcChhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldFByb3BlcnR5KG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzUHJvYyA/XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShuYXRpdmUsIGF0dHJOYW1lLCBhdHRyVmFsKSA6XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGFub3RoZXIgcGllY2Ugb2YgY29kZSBtYXkgaXRlcmF0ZSBvdmVyIHRoZSBzYW1lIGF0dHJpYnV0ZXMgYXJyYXkuIFRoZXJlZm9yZVxuICAgIC8vIGl0IG1heSBiZSBoZWxwZnVsIHRvIHJldHVybiB0aGUgZXhhY3Qgc3BvdCB3aGVyZSB0aGUgYXR0cmlidXRlcyBhcnJheSBleGl0ZWRcbiAgICAvLyB3aGV0aGVyIGJ5IHJ1bm5pbmcgaW50byBhbiB1bnN1cHBvcnRlZCBtYXJrZXIgb3IgaWYgYWxsIHRoZSBzdGF0aWMgdmFsdWVzIHdlcmVcbiAgICAvLyBpdGVyYXRlZCBvdmVyLlxuICAgIHJldHVybiBpO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIGlzIGEgbWFya2VyIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIGZvbGxvd2luZ1xuICogYXR0cmlidXRlIHZhbHVlcyBpbiBhIGBUQXR0cmlidXRlc2AgYXJyYXkgYXJlIG9ubHkgdGhlIG5hbWVzIG9mIGF0dHJpYnV0ZXMsXG4gKiBhbmQgbm90IG5hbWUtdmFsdWUgcGFpcnMuXG4gKiBAcGFyYW0gbWFya2VyIFRoZSBhdHRyaWJ1dGUgbWFya2VyIHRvIHRlc3QuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBtYXJrZXIgaXMgYSBcIm5hbWUtb25seVwiIG1hcmtlciAoZS5nLiBgQmluZGluZ3NgLCBgVGVtcGxhdGVgIG9yIGBJMThuYCkuXG4gKi9cbmZ1bmN0aW9uIGlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIobWFya2VyKSB7XG4gICAgcmV0dXJuIG1hcmtlciA9PT0gMyAvKiBCaW5kaW5ncyAqLyB8fCBtYXJrZXIgPT09IDQgLyogVGVtcGxhdGUgKi8gfHxcbiAgICAgICAgbWFya2VyID09PSA2IC8qIEkxOG4gKi87XG59XG5mdW5jdGlvbiBpc0FuaW1hdGlvblByb3AobmFtZSkge1xuICAgIC8vIFBlcmYgbm90ZTogYWNjZXNzaW5nIGNoYXJDb2RlQXQgdG8gY2hlY2sgZm9yIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmcgaXMgZmFzdGVyIGFzXG4gICAgLy8gY29tcGFyZWQgdG8gYWNjZXNzaW5nIGEgY2hhcmFjdGVyIGF0IGluZGV4IDAgKGV4LiBuYW1lWzBdKS4gVGhlIG1haW4gcmVhc29uIGZvciB0aGlzIGlzIHRoYXRcbiAgICAvLyBjaGFyQ29kZUF0IGRvZXNuJ3QgYWxsb2NhdGUgbWVtb3J5IHRvIHJldHVybiBhIHN1YnN0cmluZy5cbiAgICByZXR1cm4gbmFtZS5jaGFyQ29kZUF0KDApID09PSA2NCAvKiBBVF9TSUdOICovO1xufVxuLyoqXG4gKiBNZXJnZXMgYHNyY2AgYFRBdHRyaWJ1dGVzYCBpbnRvIGBkc3RgIGBUQXR0cmlidXRlc2AgcmVtb3ZpbmcgYW55IGR1cGxpY2F0ZXMgaW4gdGhlIHByb2Nlc3MuXG4gKlxuICogVGhpcyBtZXJnZSBmdW5jdGlvbiBrZWVwcyB0aGUgb3JkZXIgb2YgYXR0cnMgc2FtZS5cbiAqXG4gKiBAcGFyYW0gZHN0IExvY2F0aW9uIG9mIHdoZXJlIHRoZSBtZXJnZWQgYFRBdHRyaWJ1dGVzYCBzaG91bGQgZW5kIHVwLlxuICogQHBhcmFtIHNyYyBgVEF0dHJpYnV0ZXNgIHdoaWNoIHNob3VsZCBiZSBhcHBlbmRlZCB0byBgZHN0YFxuICovXG5mdW5jdGlvbiBtZXJnZUhvc3RBdHRycyhkc3QsIHNyYykge1xuICAgIGlmIChzcmMgPT09IG51bGwgfHwgc3JjLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGVsc2UgaWYgKGRzdCA9PT0gbnVsbCB8fCBkc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgc291cmNlLCBidXQgZHN0IGlzIGVtcHR5LCBqdXN0IG1ha2UgYSBjb3B5LlxuICAgICAgICBkc3QgPSBzcmMuc2xpY2UoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBzcmNNYXJrZXIgPSAtMSAvKiBJbXBsaWNpdEF0dHJpYnV0ZXMgKi87XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc3JjW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHNyY01hcmtlciA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3JjTWFya2VyID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYXNlIHdoZXJlIHdlIG5lZWQgdG8gY29uc3VtZSBga2V5MWAsIGBrZXkyYCwgYHZhbHVlYCBpdGVtcy5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3JjTWFya2VyID09PSAtMSAvKiBJbXBsaWNpdEF0dHJpYnV0ZXMgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgc3JjTWFya2VyID09PSAyIC8qIFN0eWxlcyAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYXNlIHdoZXJlIHdlIGhhdmUgdG8gY29uc3VtZSBga2V5MWAgYW5kIGB2YWx1ZWAgb25seS5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VIb3N0QXR0cmlidXRlKGRzdCwgc3JjTWFya2VyLCBpdGVtLCBudWxsLCBzcmNbKytpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYXNlIHdoZXJlIHdlIGhhdmUgdG8gY29uc3VtZSBga2V5MWAgb25seS5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VIb3N0QXR0cmlidXRlKGRzdCwgc3JjTWFya2VyLCBpdGVtLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQXBwZW5kIGBrZXlgL2B2YWx1ZWAgdG8gZXhpc3RpbmcgYFRBdHRyaWJ1dGVzYCB0YWtpbmcgcmVnaW9uIG1hcmtlciBhbmQgZHVwbGljYXRlcyBpbnRvIGFjY291bnQuXG4gKlxuICogQHBhcmFtIGRzdCBgVEF0dHJpYnV0ZXNgIHRvIGFwcGVuZCB0by5cbiAqIEBwYXJhbSBtYXJrZXIgUmVnaW9uIHdoZXJlIHRoZSBga2V5YC9gdmFsdWVgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSBrZXkxIEtleSB0byBhZGQgdG8gYFRBdHRyaWJ1dGVzYFxuICogQHBhcmFtIGtleTIgS2V5IHRvIGFkZCB0byBgVEF0dHJpYnV0ZXNgIChpbiBjYXNlIG9mIGBBdHRyaWJ1dGVNYXJrZXIuTmFtZXNwYWNlVVJJYClcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBhZGQgb3IgdG8gb3ZlcndyaXRlIHRvIGBUQXR0cmlidXRlc2AgT25seSB1c2VkIGlmIGBtYXJrZXJgIGlzIG5vdCBDbGFzcy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb3N0QXR0cmlidXRlKGRzdCwgbWFya2VyLCBrZXkxLCBrZXkyLCB2YWx1ZSkge1xuICAgIGxldCBpID0gMDtcbiAgICAvLyBBc3N1bWUgdGhhdCBuZXcgbWFya2VycyB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBlbmQuXG4gICAgbGV0IG1hcmtlckluc2VydFBvc2l0aW9uID0gZHN0Lmxlbmd0aDtcbiAgICAvLyBzY2FuIHVudGlsIGNvcnJlY3QgdHlwZS5cbiAgICBpZiAobWFya2VyID09PSAtMSAvKiBJbXBsaWNpdEF0dHJpYnV0ZXMgKi8pIHtcbiAgICAgICAgbWFya2VySW5zZXJ0UG9zaXRpb24gPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdoaWxlIChpIDwgZHN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZHN0VmFsdWUgPSBkc3RbaSsrXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZHN0VmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRzdFZhbHVlID09PSBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zZXJ0UG9zaXRpb24gPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRzdFZhbHVlID4gbWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2F2ZSB0aGlzIGFzIHdlIHdhbnQgdGhlIG1hcmtlcnMgdG8gYmUgaW5zZXJ0ZWQgaW4gc3BlY2lmaWMgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc2VydFBvc2l0aW9uID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzZWFyY2ggdW50aWwgeW91IGZpbmQgcGxhY2Ugb2YgaW5zZXJ0aW9uXG4gICAgd2hpbGUgKGkgPCBkc3QubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkc3RbaV07XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIHNpbmNlIGBpYCBzdGFydGVkIGFzIHRoZSBpbmRleCBhZnRlciB0aGUgbWFya2VyLCB3ZSBkaWQgbm90IGZpbmQgaXQgaWYgd2UgYXJlIGF0IHRoZSBuZXh0XG4gICAgICAgICAgICAvLyBtYXJrZXJcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gPT09IGtleTEpIHtcbiAgICAgICAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBzYW1lIHRva2VuXG4gICAgICAgICAgICBpZiAoa2V5MiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkc3RbaSArIDFdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleTIgPT09IGRzdFtpICsgMV0pIHtcbiAgICAgICAgICAgICAgICBkc3RbaSArIDJdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEluY3JlbWVudCBjb3VudGVyLlxuICAgICAgICBpKys7XG4gICAgICAgIGlmIChrZXkyICE9PSBudWxsKVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpXG4gICAgICAgICAgICBpKys7XG4gICAgfVxuICAgIC8vIGluc2VydCBhdCBsb2NhdGlvbi5cbiAgICBpZiAobWFya2VySW5zZXJ0UG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgIGRzdC5zcGxpY2UobWFya2VySW5zZXJ0UG9zaXRpb24sIDAsIG1hcmtlcik7XG4gICAgICAgIGkgPSBtYXJrZXJJbnNlcnRQb3NpdGlvbiArIDE7XG4gICAgfVxuICAgIGRzdC5zcGxpY2UoaSsrLCAwLCBrZXkxKTtcbiAgICBpZiAoa2V5MiAhPT0gbnVsbCkge1xuICAgICAgICBkc3Quc3BsaWNlKGkrKywgMCwga2V5Mik7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBkc3Quc3BsaWNlKGkrKywgMCwgdmFsdWUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLy8gUGFyZW50IEluamVjdG9yIFV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gaGFzUGFyZW50SW5qZWN0b3IocGFyZW50TG9jYXRpb24pIHtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gIT09IE5PX1BBUkVOVF9JTkpFQ1RPUjtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHBhcmVudExvY2F0aW9uLCAnTnVtYmVyIGV4cGVjdGVkJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdEVxdWFsKHBhcmVudExvY2F0aW9uLCAtMSwgJ05vdCBhIHZhbGlkIHN0YXRlLicpO1xuICAgIGNvbnN0IHBhcmVudEluamVjdG9ySW5kZXggPSBwYXJlbnRMb2NhdGlvbiAmIDMyNzY3IC8qIEluamVjdG9ySW5kZXhNYXNrICovO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbihwYXJlbnRJbmplY3RvckluZGV4LCBIRUFERVJfT0ZGU0VULCAnUGFyZW50IGluamVjdG9yIG11c3QgYmUgcG9pbnRpbmcgcGFzdCBIRUFERVJfT0ZGU0VULicpO1xuICAgIHJldHVybiBwYXJlbnRMb2NhdGlvbiAmIDMyNzY3IC8qIEluamVjdG9ySW5kZXhNYXNrICovO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JWaWV3T2Zmc2V0KHBhcmVudExvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHBhcmVudExvY2F0aW9uID4+IDE2IC8qIFZpZXdPZmZzZXRTaGlmdCAqLztcbn1cbi8qKlxuICogVW53cmFwcyBhIHBhcmVudCBpbmplY3RvciBsb2NhdGlvbiBudW1iZXIgdG8gZmluZCB0aGUgdmlldyBvZmZzZXQgZnJvbSB0aGUgY3VycmVudCBpbmplY3RvcixcbiAqIHRoZW4gd2Fsa3MgdXAgdGhlIGRlY2xhcmF0aW9uIHZpZXcgdHJlZSB1bnRpbCB0aGUgdmlldyBpcyBmb3VuZCB0aGF0IGNvbnRhaW5zIHRoZSBwYXJlbnRcbiAqIGluamVjdG9yLlxuICpcbiAqIEBwYXJhbSBsb2NhdGlvbiBUaGUgbG9jYXRpb24gb2YgdGhlIHBhcmVudCBpbmplY3Rvciwgd2hpY2ggY29udGFpbnMgdGhlIHZpZXcgb2Zmc2V0XG4gKiBAcGFyYW0gc3RhcnRWaWV3IFRoZSBMVmlldyBpbnN0YW5jZSBmcm9tIHdoaWNoIHRvIHN0YXJ0IHdhbGtpbmcgdXAgdGhlIHZpZXcgdHJlZVxuICogQHJldHVybnMgVGhlIExWaWV3IGluc3RhbmNlIHRoYXQgY29udGFpbnMgdGhlIHBhcmVudCBpbmplY3RvclxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRJbmplY3RvclZpZXcobG9jYXRpb24sIHN0YXJ0Vmlldykge1xuICAgIGxldCB2aWV3T2Zmc2V0ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3T2Zmc2V0KGxvY2F0aW9uKTtcbiAgICBsZXQgcGFyZW50VmlldyA9IHN0YXJ0VmlldztcbiAgICAvLyBGb3IgbW9zdCBjYXNlcywgdGhlIHBhcmVudCBpbmplY3RvciBjYW4gYmUgZm91bmQgb24gdGhlIGhvc3Qgbm9kZSAoZS5nLiBmb3IgY29tcG9uZW50XG4gICAgLy8gb3IgY29udGFpbmVyKSwgYnV0IHdlIG11c3Qga2VlcCB0aGUgbG9vcCBoZXJlIHRvIHN1cHBvcnQgdGhlIHJhcmVyIGNhc2Ugb2YgZGVlcGx5IG5lc3RlZFxuICAgIC8vIDxuZy10ZW1wbGF0ZT4gdGFncyBvciBpbmxpbmUgdmlld3MsIHdoZXJlIHRoZSBwYXJlbnQgaW5qZWN0b3IgbWlnaHQgbGl2ZSBtYW55IHZpZXdzXG4gICAgLy8gYWJvdmUgdGhlIGNoaWxkIGluamVjdG9yLlxuICAgIHdoaWxlICh2aWV3T2Zmc2V0ID4gMCkge1xuICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlld1tERUNMQVJBVElPTl9WSUVXXTtcbiAgICAgICAgdmlld09mZnNldC0tO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50Vmlldztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERlZmluZXMgaWYgdGhlIGNhbGwgdG8gYGluamVjdGAgc2hvdWxkIGluY2x1ZGUgYHZpZXdQcm92aWRlcnNgIGluIGl0cyByZXNvbHV0aW9uLlxuICpcbiAqIFRoaXMgaXMgc2V0IHRvIHRydWUgd2hlbiB3ZSB0cnkgdG8gaW5zdGFudGlhdGUgYSBjb21wb25lbnQuIFRoaXMgdmFsdWUgaXMgcmVzZXQgaW5cbiAqIGBnZXROb2RlSW5qZWN0YWJsZWAgdG8gYSB2YWx1ZSB3aGljaCBtYXRjaGVzIHRoZSBkZWNsYXJhdGlvbiBsb2NhdGlvbiBvZiB0aGUgdG9rZW4gYWJvdXQgdG8gYmVcbiAqIGluc3RhbnRpYXRlZC4gVGhpcyBpcyBkb25lIHNvIHRoYXQgaWYgd2UgYXJlIGluamVjdGluZyBhIHRva2VuIHdoaWNoIHdhcyBkZWNsYXJlZCBvdXRzaWRlIG9mXG4gKiBgdmlld1Byb3ZpZGVyc2Agd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHB1bGwgYHZpZXdQcm92aWRlcnNgIGluLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBNeVNlcnZpY2Uge1xuICogICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFN0cmluZykge31cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgcHJvdmlkZXJzOiBbXG4gKiAgICAgTXlTZXJ2aWNlLFxuICogICAgIHtwcm92aWRlOiBTdHJpbmcsIHZhbHVlOiAncHJvdmlkZXJzJyB9XG4gKiAgIF1cbiAqICAgdmlld1Byb3ZpZGVyczogW1xuICogICAgIHtwcm92aWRlOiBTdHJpbmcsIHZhbHVlOiAndmlld1Byb3ZpZGVycyd9XG4gKiAgIF1cbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKG15U2VydmljZTogTXlTZXJ2aWNlLCB2YWx1ZTogU3RyaW5nKSB7XG4gKiAgICAgLy8gV2UgZXhwZWN0IHRoYXQgQ29tcG9uZW50IGNhbiBzZWUgaW50byBgdmlld1Byb3ZpZGVyc2AuXG4gKiAgICAgZXhwZWN0KHZhbHVlKS50b0VxdWFsKCd2aWV3UHJvdmlkZXJzJyk7XG4gKiAgICAgLy8gYE15U2VydmljZWAgd2FzIG5vdCBkZWNsYXJlZCBpbiBgdmlld1Byb3ZpZGVyc2AgaGVuY2UgaXQgY2FuJ3Qgc2VlIGl0LlxuICogICAgIGV4cGVjdChteVNlcnZpY2UudmFsdWUpLnRvRXF1YWwoJ3Byb3ZpZGVycycpO1xuICogICB9XG4gKiB9XG4gKlxuICogYGBgXG4gKi9cbmxldCBpbmNsdWRlVmlld1Byb3ZpZGVycyA9IHRydWU7XG5mdW5jdGlvbiBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyh2KSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBpbmNsdWRlVmlld1Byb3ZpZGVycztcbiAgICBpbmNsdWRlVmlld1Byb3ZpZGVycyA9IHY7XG4gICAgcmV0dXJuIG9sZFZhbHVlO1xufVxuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIHNsb3RzIGluIGVhY2ggYmxvb20gZmlsdGVyICh1c2VkIGJ5IERJKS4gVGhlIGxhcmdlciB0aGlzIG51bWJlciwgdGhlIGZld2VyXG4gKiBkaXJlY3RpdmVzIHRoYXQgd2lsbCBzaGFyZSBzbG90cywgYW5kIHRodXMsIHRoZSBmZXdlciBmYWxzZSBwb3NpdGl2ZXMgd2hlbiBjaGVja2luZyBmb3JcbiAqIHRoZSBleGlzdGVuY2Ugb2YgYSBkaXJlY3RpdmUuXG4gKi9cbmNvbnN0IEJMT09NX1NJWkUgPSAyNTY7XG5jb25zdCBCTE9PTV9NQVNLID0gQkxPT01fU0laRSAtIDE7XG4vKipcbiAqIFRoZSBudW1iZXIgb2YgYml0cyB0aGF0IGlzIHJlcHJlc2VudGVkIGJ5IGEgc2luZ2xlIGJsb29tIGJ1Y2tldC4gSlMgYml0IG9wZXJhdGlvbnMgYXJlIDMyIGJpdHMsXG4gKiBzbyBlYWNoIGJ1Y2tldCByZXByZXNlbnRzIDMyIGRpc3RpbmN0IHRva2VucyB3aGljaCBhY2NvdW50cyBmb3IgbG9nMigzMikgPSA1IGJpdHMgb2YgYSBibG9vbSBoYXNoXG4gKiBudW1iZXIuXG4gKi9cbmNvbnN0IEJMT09NX0JVQ0tFVF9CSVRTID0gNTtcbi8qKiBDb3VudGVyIHVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcyBmb3IgZGlyZWN0aXZlcy4gKi9cbmxldCBuZXh0TmdFbGVtZW50SWQgPSAwO1xuLyoqXG4gKiBSZWdpc3RlcnMgdGhpcyBkaXJlY3RpdmUgYXMgcHJlc2VudCBpbiBpdHMgbm9kZSdzIGluamVjdG9yIGJ5IGZsaXBwaW5nIHRoZSBkaXJlY3RpdmUnc1xuICogY29ycmVzcG9uZGluZyBiaXQgaW4gdGhlIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyLlxuICpcbiAqIEBwYXJhbSBpbmplY3RvckluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSBpbmplY3RvciB3aGVyZSB0aGlzIHRva2VuIHNob3VsZCBiZSByZWdpc3RlcmVkXG4gKiBAcGFyYW0gdFZpZXcgVGhlIFRWaWV3IGZvciB0aGUgaW5qZWN0b3IncyBibG9vbSBmaWx0ZXJzXG4gKiBAcGFyYW0gdHlwZSBUaGUgZGlyZWN0aXZlIHRva2VuIHRvIHJlZ2lzdGVyXG4gKi9cbmZ1bmN0aW9uIGJsb29tQWRkKGluamVjdG9ySW5kZXgsIHRWaWV3LCB0eXBlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcywgdHJ1ZSwgJ2V4cGVjdGVkIGZpcnN0Q3JlYXRlUGFzcyB0byBiZSB0cnVlJyk7XG4gICAgbGV0IGlkO1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWQgPSB0eXBlLmNoYXJDb2RlQXQoMCkgfHwgMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZS5oYXNPd25Qcm9wZXJ0eShOR19FTEVNRU5UX0lEKSkge1xuICAgICAgICBpZCA9IHR5cGVbTkdfRUxFTUVOVF9JRF07XG4gICAgfVxuICAgIC8vIFNldCBhIHVuaXF1ZSBJRCBvbiB0aGUgZGlyZWN0aXZlIHR5cGUsIHNvIGlmIHNvbWV0aGluZyB0cmllcyB0byBpbmplY3QgdGhlIGRpcmVjdGl2ZSxcbiAgICAvLyB3ZSBjYW4gZWFzaWx5IHJldHJpZXZlIHRoZSBJRCBhbmQgaGFzaCBpdCBpbnRvIHRoZSBibG9vbSBiaXQgdGhhdCBzaG91bGQgYmUgY2hlY2tlZC5cbiAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgICBpZCA9IHR5cGVbTkdfRUxFTUVOVF9JRF0gPSBuZXh0TmdFbGVtZW50SWQrKztcbiAgICB9XG4gICAgLy8gV2Ugb25seSBoYXZlIEJMT09NX1NJWkUgKDI1Nikgc2xvdHMgaW4gb3VyIGJsb29tIGZpbHRlciAoOCBidWNrZXRzICogMzIgYml0cyBlYWNoKSxcbiAgICAvLyBzbyBhbGwgdW5pcXVlIElEcyBtdXN0IGJlIG1vZHVsby1lZCBpbnRvIGEgbnVtYmVyIGZyb20gMCAtIDI1NSB0byBmaXQgaW50byB0aGUgZmlsdGVyLlxuICAgIGNvbnN0IGJsb29tSGFzaCA9IGlkICYgQkxPT01fTUFTSztcbiAgICAvLyBDcmVhdGUgYSBtYXNrIHRoYXQgdGFyZ2V0cyB0aGUgc3BlY2lmaWMgYml0IGFzc29jaWF0ZWQgd2l0aCB0aGUgZGlyZWN0aXZlLlxuICAgIC8vIEpTIGJpdCBvcGVyYXRpb25zIGFyZSAzMiBiaXRzLCBzbyB0aGlzIHdpbGwgYmUgYSBudW1iZXIgYmV0d2VlbiAyXjAgYW5kIDJeMzEsIGNvcnJlc3BvbmRpbmdcbiAgICAvLyB0byBiaXQgcG9zaXRpb25zIDAgLSAzMSBpbiBhIDMyIGJpdCBpbnRlZ2VyLlxuICAgIGNvbnN0IG1hc2sgPSAxIDw8IGJsb29tSGFzaDtcbiAgICAvLyBFYWNoIGJsb29tIGJ1Y2tldCBpbiBgdERhdGFgIHJlcHJlc2VudHMgYEJMT09NX0JVQ0tFVF9CSVRTYCBudW1iZXIgb2YgYml0cyBvZiBgYmxvb21IYXNoYC5cbiAgICAvLyBBbnkgYml0cyBpbiBgYmxvb21IYXNoYCBiZXlvbmQgYEJMT09NX0JVQ0tFVF9CSVRTYCBpbmRpY2F0ZSB0aGUgYnVja2V0IG9mZnNldCB0aGF0IHRoZSBtYXNrXG4gICAgLy8gc2hvdWxkIGJlIHdyaXR0ZW4gdG8uXG4gICAgdFZpZXcuZGF0YVtpbmplY3RvckluZGV4ICsgKGJsb29tSGFzaCA+PiBCTE9PTV9CVUNLRVRfQklUUyldIHw9IG1hc2s7XG59XG4vKipcbiAqIENyZWF0ZXMgKG9yIGdldHMgYW4gZXhpc3RpbmcpIGluamVjdG9yIGZvciBhIGdpdmVuIGVsZW1lbnQgb3IgY29udGFpbmVyLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBmb3Igd2hpY2ggYW4gaW5qZWN0b3Igc2hvdWxkIGJlIHJldHJpZXZlZCAvIGNyZWF0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgVmlldyB3aGVyZSB0aGUgbm9kZSBpcyBzdG9yZWRcbiAqIEByZXR1cm5zIE5vZGUgaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldykge1xuICAgIGNvbnN0IGV4aXN0aW5nSW5qZWN0b3JJbmRleCA9IGdldEluamVjdG9ySW5kZXgodE5vZGUsIGxWaWV3KTtcbiAgICBpZiAoZXhpc3RpbmdJbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdJbmplY3RvckluZGV4O1xuICAgIH1cbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIHROb2RlLmluamVjdG9ySW5kZXggPSBsVmlldy5sZW5ndGg7XG4gICAgICAgIGluc2VydEJsb29tKHRWaWV3LmRhdGEsIHROb2RlKTsgLy8gZm91bmRhdGlvbiBmb3Igbm9kZSBibG9vbVxuICAgICAgICBpbnNlcnRCbG9vbShsVmlldywgbnVsbCk7IC8vIGZvdW5kYXRpb24gZm9yIGN1bXVsYXRpdmUgYmxvb21cbiAgICAgICAgaW5zZXJ0Qmxvb20odFZpZXcuYmx1ZXByaW50LCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50TG9jID0gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0Tm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IGluamVjdG9ySW5kZXggPSB0Tm9kZS5pbmplY3RvckluZGV4O1xuICAgIC8vIElmIGEgcGFyZW50IGluamVjdG9yIGNhbid0IGJlIGZvdW5kLCBpdHMgbG9jYXRpb24gaXMgc2V0IHRvIC0xLlxuICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byBzZXQgdXAgYSBjdW11bGF0aXZlIGJsb29tXG4gICAgaWYgKGhhc1BhcmVudEluamVjdG9yKHBhcmVudExvYykpIHtcbiAgICAgICAgY29uc3QgcGFyZW50SW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvYyk7XG4gICAgICAgIGNvbnN0IHBhcmVudExWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvYywgbFZpZXcpO1xuICAgICAgICBjb25zdCBwYXJlbnREYXRhID0gcGFyZW50TFZpZXdbVFZJRVddLmRhdGE7XG4gICAgICAgIC8vIENyZWF0ZXMgYSBjdW11bGF0aXZlIGJsb29tIGZpbHRlciB0aGF0IG1lcmdlcyB0aGUgcGFyZW50J3MgYmxvb20gZmlsdGVyXG4gICAgICAgIC8vIGFuZCBpdHMgb3duIGN1bXVsYXRpdmUgYmxvb20gKHdoaWNoIGNvbnRhaW5zIHRva2VucyBmb3IgYWxsIGFuY2VzdG9ycylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4IC8qIEJMT09NX1NJWkUgKi87IGkrKykge1xuICAgICAgICAgICAgbFZpZXdbaW5qZWN0b3JJbmRleCArIGldID0gcGFyZW50TFZpZXdbcGFyZW50SW5kZXggKyBpXSB8IHBhcmVudERhdGFbcGFyZW50SW5kZXggKyBpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dID0gcGFyZW50TG9jO1xuICAgIHJldHVybiBpbmplY3RvckluZGV4O1xufVxuZnVuY3Rpb24gaW5zZXJ0Qmxvb20oYXJyLCBmb290ZXIpIHtcbiAgICBhcnIucHVzaCgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCBmb290ZXIpO1xufVxuZnVuY3Rpb24gZ2V0SW5qZWN0b3JJbmRleCh0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAodE5vZGUuaW5qZWN0b3JJbmRleCA9PT0gLTEgfHxcbiAgICAgICAgLy8gSWYgdGhlIGluamVjdG9yIGluZGV4IGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQncyBpbmplY3RvciBpbmRleCwgdGhlbiB0aGUgaW5kZXggaGFzIGJlZW5cbiAgICAgICAgLy8gY29waWVkIGRvd24gZnJvbSB0aGUgcGFyZW50IG5vZGUuIE5vIGluamVjdG9yIGhhcyBiZWVuIGNyZWF0ZWQgeWV0IG9uIHRoaXMgbm9kZS5cbiAgICAgICAgKHROb2RlLnBhcmVudCAmJiB0Tm9kZS5wYXJlbnQuaW5qZWN0b3JJbmRleCA9PT0gdE5vZGUuaW5qZWN0b3JJbmRleCkgfHxcbiAgICAgICAgLy8gQWZ0ZXIgdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MsIHRoZSBpbmplY3RvciBpbmRleCBtaWdodCBleGlzdCBidXQgdGhlIHBhcmVudCB2YWx1ZXNcbiAgICAgICAgLy8gbWlnaHQgbm90IGhhdmUgYmVlbiBjYWxjdWxhdGVkIHlldCBmb3IgdGhpcyBpbnN0YW5jZVxuICAgICAgICBsVmlld1t0Tm9kZS5pbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHROb2RlLmluamVjdG9ySW5kZXgpO1xuICAgICAgICByZXR1cm4gdE5vZGUuaW5qZWN0b3JJbmRleDtcbiAgICB9XG59XG4vKipcbiAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IGluamVjdG9yLCB3aXRoIGEgdmlldyBvZmZzZXQgaWYgYXBwbGljYWJsZS4gVXNlZCB0byBzZXQgdGhlXG4gKiBwYXJlbnQgaW5qZWN0b3IgaW5pdGlhbGx5LlxuICpcbiAqIEByZXR1cm5zIFJldHVybnMgYSBudW1iZXIgdGhhdCBpcyB0aGUgY29tYmluYXRpb24gb2YgdGhlIG51bWJlciBvZiBMVmlld3MgdGhhdCB3ZSBoYXZlIHRvIGdvIHVwXG4gKiB0byBmaW5kIHRoZSBMVmlldyBjb250YWluaW5nIHRoZSBwYXJlbnQgaW5qZWN0IEFORCB0aGUgaW5kZXggb2YgdGhlIGluamVjdG9yIHdpdGhpbiB0aGF0IExWaWV3LlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHROb2RlLCBsVmlldykge1xuICAgIGlmICh0Tm9kZS5wYXJlbnQgJiYgdE5vZGUucGFyZW50LmluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwYXJlbnQgYFROb2RlYCBhbmQgdGhlcmUgaXMgYW4gaW5qZWN0b3IgYXNzb2NpYXRlZCB3aXRoIGl0IHdlIGFyZSBkb25lLCBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBwYXJlbnQgaW5qZWN0b3IgaXMgd2l0aGluIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gICAgICAgIHJldHVybiB0Tm9kZS5wYXJlbnQuaW5qZWN0b3JJbmRleDsgLy8gVmlld09mZnNldCBpcyAwXG4gICAgfVxuICAgIC8vIFdoZW4gcGFyZW50IGluamVjdG9yIGxvY2F0aW9uIGlzIGNvbXB1dGVkIGl0IG1heSBiZSBvdXRzaWRlIG9mIHRoZSBjdXJyZW50IHZpZXcuIChpZSBpdCBjb3VsZFxuICAgIC8vIGJlIHBvaW50aW5nIHRvIGEgZGVjbGFyZWQgcGFyZW50IGxvY2F0aW9uKS4gVGhpcyB2YXJpYWJsZSBzdG9yZXMgbnVtYmVyIG9mIGRlY2xhcmF0aW9uIHBhcmVudHNcbiAgICAvLyB3ZSBuZWVkIHRvIHdhbGsgdXAgaW4gb3JkZXIgdG8gZmluZCB0aGUgcGFyZW50IGluamVjdG9yIGxvY2F0aW9uLlxuICAgIGxldCBkZWNsYXJhdGlvblZpZXdPZmZzZXQgPSAwO1xuICAgIGxldCBwYXJlbnRUTm9kZSA9IG51bGw7XG4gICAgbGV0IGxWaWV3Q3Vyc29yID0gbFZpZXc7XG4gICAgLy8gVGhlIHBhcmVudCBpbmplY3RvciBpcyBub3QgaW4gdGhlIGN1cnJlbnQgYExWaWV3YC4gV2Ugd2lsbCBoYXZlIHRvIHdhbGsgdGhlIGRlY2xhcmVkIHBhcmVudFxuICAgIC8vIGBMVmlld2AgaGllcmFyY2h5IGFuZCBsb29rIGZvciBpdC4gSWYgd2Ugd2FsayBvZiB0aGUgdG9wLCB0aGF0IG1lYW5zIHRoYXQgdGhlcmUgaXMgbm8gcGFyZW50XG4gICAgLy8gYE5vZGVJbmplY3RvcmAuXG4gICAgd2hpbGUgKGxWaWV3Q3Vyc29yICE9PSBudWxsKSB7XG4gICAgICAgIC8vIEZpcnN0IGRldGVybWluZSB0aGUgYHBhcmVudFROb2RlYCBsb2NhdGlvbi4gVGhlIHBhcmVudCBwb2ludGVyIGRpZmZlcnMgYmFzZWQgb24gYFRWaWV3LnR5cGVgLlxuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3Q3Vyc29yW1RWSUVXXTtcbiAgICAgICAgY29uc3QgdFZpZXdUeXBlID0gdFZpZXcudHlwZTtcbiAgICAgICAgaWYgKHRWaWV3VHlwZSA9PT0gMiAvKiBFbWJlZGRlZCAqLykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZCh0Vmlldy5kZWNsVE5vZGUsICdFbWJlZGRlZCBUTm9kZXMgc2hvdWxkIGhhdmUgZGVjbGFyYXRpb24gcGFyZW50cy4nKTtcbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gdFZpZXcuZGVjbFROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRWaWV3VHlwZSA9PT0gMSAvKiBDb21wb25lbnQgKi8pIHtcbiAgICAgICAgICAgIC8vIENvbXBvbmVudHMgZG9uJ3QgaGF2ZSBgVFZpZXcuZGVjbFROb2RlYCBiZWNhdXNlIGVhY2ggaW5zdGFuY2Ugb2YgY29tcG9uZW50IGNvdWxkIGJlXG4gICAgICAgICAgICAvLyBpbnNlcnRlZCBpbiBkaWZmZXJlbnQgbG9jYXRpb24sIGhlbmNlIGBUVmlldy5kZWNsVE5vZGVgIGlzIG1lYW5pbmdsZXNzLlxuICAgICAgICAgICAgcGFyZW50VE5vZGUgPSBsVmlld0N1cnNvcltUX0hPU1RdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHRWaWV3LnR5cGUsIDAgLyogUm9vdCAqLywgJ1Jvb3QgdHlwZSBleHBlY3RlZCcpO1xuICAgICAgICAgICAgcGFyZW50VE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBubyBwYXJlbnQsIHRoYW4gd2UgYXJlIGRvbmUuXG4gICAgICAgICAgICByZXR1cm4gTk9fUEFSRU5UX0lOSkVDVE9SO1xuICAgICAgICB9XG4gICAgICAgIG5nRGV2TW9kZSAmJiBwYXJlbnRUTm9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHBhcmVudFROb2RlLCBsVmlld0N1cnNvcltERUNMQVJBVElPTl9WSUVXXSk7XG4gICAgICAgIC8vIEV2ZXJ5IGl0ZXJhdGlvbiBvZiB0aGUgbG9vcCByZXF1aXJlcyB0aGF0IHdlIGdvIHRvIHRoZSBkZWNsYXJlZCBwYXJlbnQuXG4gICAgICAgIGRlY2xhcmF0aW9uVmlld09mZnNldCsrO1xuICAgICAgICBsVmlld0N1cnNvciA9IGxWaWV3Q3Vyc29yW0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICBpZiAocGFyZW50VE5vZGUuaW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgTm9kZUluamVjdG9yIHdoaWNoIHBvaW50cyB0byBzb21ldGhpbmcuXG4gICAgICAgICAgICByZXR1cm4gKHBhcmVudFROb2RlLmluamVjdG9ySW5kZXggfFxuICAgICAgICAgICAgICAgIChkZWNsYXJhdGlvblZpZXdPZmZzZXQgPDwgMTYgLyogVmlld09mZnNldFNoaWZ0ICovKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE5PX1BBUkVOVF9JTkpFQ1RPUjtcbn1cbi8qKlxuICogTWFrZXMgYSB0eXBlIG9yIGFuIGluamVjdGlvbiB0b2tlbiBwdWJsaWMgdG8gdGhlIERJIHN5c3RlbSBieSBhZGRpbmcgaXQgdG8gYW5cbiAqIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyLlxuICpcbiAqIEBwYXJhbSBkaSBUaGUgbm9kZSBpbmplY3RvciBpbiB3aGljaCBhIGRpcmVjdGl2ZSB3aWxsIGJlIGFkZGVkXG4gKiBAcGFyYW0gdG9rZW4gVGhlIHR5cGUgb3IgdGhlIGluamVjdGlvbiB0b2tlbiB0byBiZSBtYWRlIHB1YmxpY1xuICovXG5mdW5jdGlvbiBkaVB1YmxpY0luSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgdFZpZXcsIHRva2VuKSB7XG4gICAgYmxvb21BZGQoaW5qZWN0b3JJbmRleCwgdFZpZXcsIHRva2VuKTtcbn1cbi8qKlxuICogSW5qZWN0IHN0YXRpYyBhdHRyaWJ1dGUgdmFsdWUgaW50byBkaXJlY3RpdmUgY29uc3RydWN0b3IuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCB3aXRoIGBmYWN0b3J5YCBmdW5jdGlvbnMgd2hpY2ggYXJlIGdlbmVyYXRlZCBhcyBwYXJ0IG9mXG4gKiBgZGVmaW5lRGlyZWN0aXZlYCBvciBgZGVmaW5lQ29tcG9uZW50YC4gVGhlIG1ldGhvZCByZXRyaWV2ZXMgdGhlIHN0YXRpYyB2YWx1ZVxuICogb2YgYW4gYXR0cmlidXRlLiAoRHluYW1pYyBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkIHNpbmNlIHRoZXkgYXJlIG5vdCByZXNvbHZlZFxuICogIGF0IHRoZSB0aW1lIG9mIGluamVjdGlvbiBhbmQgY2FuIGNoYW5nZSBvdmVyIHRpbWUuKVxuICpcbiAqICMgRXhhbXBsZVxuICogR2l2ZW46XG4gKiBgYGBcbiAqIEBDb21wb25lbnQoLi4uKVxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3RvcihAQXR0cmlidXRlKCd0aXRsZScpIHRpdGxlOiBzdHJpbmcpIHsgLi4uIH1cbiAqIH1cbiAqIGBgYFxuICogV2hlbiBpbnN0YW50aWF0ZWQgd2l0aFxuICogYGBgXG4gKiA8bXktY29tcG9uZW50IHRpdGxlPVwiSGVsbG9cIj48L215LWNvbXBvbmVudD5cbiAqIGBgYFxuICpcbiAqIFRoZW4gZmFjdG9yeSBtZXRob2QgZ2VuZXJhdGVkIGlzOlxuICogYGBgXG4gKiBNeUNvbXBvbmVudC7JtWNtcCA9IGRlZmluZUNvbXBvbmVudCh7XG4gKiAgIGZhY3Rvcnk6ICgpID0+IG5ldyBNeUNvbXBvbmVudChpbmplY3RBdHRyaWJ1dGUoJ3RpdGxlJykpXG4gKiAgIC4uLlxuICogfSlcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gaW5qZWN0QXR0cmlidXRlSW1wbCh0Tm9kZSwgYXR0ck5hbWVUb0luamVjdCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDMgLyogQW55Uk5vZGUgKi8pO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHROb2RlLCAnZXhwZWN0aW5nIHROb2RlJyk7XG4gICAgaWYgKGF0dHJOYW1lVG9JbmplY3QgPT09ICdjbGFzcycpIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLmNsYXNzZXM7XG4gICAgfVxuICAgIGlmIChhdHRyTmFtZVRvSW5qZWN0ID09PSAnc3R5bGUnKSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5zdHlsZXM7XG4gICAgfVxuICAgIGNvbnN0IGF0dHJzID0gdE5vZGUuYXR0cnM7XG4gICAgaWYgKGF0dHJzKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzTGVuZ3RoID0gYXR0cnMubGVuZ3RoO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgYXR0cnNMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cnNbaV07XG4gICAgICAgICAgICAvLyBJZiB3ZSBoaXQgYSBgQmluZGluZ3NgIG9yIGBUZW1wbGF0ZWAgbWFya2VyIHRoZW4gd2UgYXJlIGRvbmUuXG4gICAgICAgICAgICBpZiAoaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlcih2YWx1ZSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBTa2lwIG5hbWVzcGFjZWQgYXR0cmlidXRlc1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgICAgIC8vIHdlIHNraXAgdGhlIG5leHQgdHdvIHZhbHVlc1xuICAgICAgICAgICAgICAgIC8vIGFzIG5hbWVzcGFjZWQgYXR0cmlidXRlcyBsb29rcyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gWy4uLiwgQXR0cmlidXRlTWFya2VyLk5hbWVzcGFjZVVSSSwgJ2h0dHA6Ly9zb21ldXJpLmNvbS90ZXN0JywgJ3Rlc3Q6ZXhpc3QnLFxuICAgICAgICAgICAgICAgIC8vICdleGlzdFZhbHVlJywgLi4uXVxuICAgICAgICAgICAgICAgIGkgPSBpICsgMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHRvIHRoZSBmaXJzdCB2YWx1ZSBvZiB0aGUgbWFya2VkIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBhdHRyc0xlbmd0aCAmJiB0eXBlb2YgYXR0cnNbaV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gYXR0ck5hbWVUb0luamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyc1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpID0gaSArIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBub3RGb3VuZFZhbHVlT3JUaHJvdyhub3RGb3VuZFZhbHVlLCB0b2tlbiwgZmxhZ3MpIHtcbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHRva2VuLCAnTm9kZUluamVjdG9yJyk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHRvIHRoZSBnaXZlbiB0b2tlbiBmcm9tIHRoZSBNb2R1bGVJbmplY3RvciBvciB0aHJvd3MgZXhjZXB0aW9uXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHRoYXQgY29udGFpbnMgdGhlIGB0Tm9kZWBcbiAqIEBwYXJhbSB0b2tlbiBUaGUgdG9rZW4gdG8gbG9vayBmb3JcbiAqIEBwYXJhbSBmbGFncyBJbmplY3Rpb24gZmxhZ3NcbiAqIEBwYXJhbSBub3RGb3VuZFZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gd2hlbiB0aGUgaW5qZWN0aW9uIGZsYWdzIGlzIGBJbmplY3RGbGFncy5PcHRpb25hbGBcbiAqIEByZXR1cm5zIHRoZSB2YWx1ZSBmcm9tIHRoZSBpbmplY3RvciBvciB0aHJvd3MgYW4gZXhjZXB0aW9uXG4gKi9cbmZ1bmN0aW9uIGxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvcihsVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgaWYgKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwgJiYgbm90Rm91bmRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzZXQgb3IgdGhlIE51bGxJbmplY3RvciB3aWxsIHRocm93IGZvciBvcHRpb25hbCBkZXBzXG4gICAgICAgIG5vdEZvdW5kVmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoKGZsYWdzICYgKEluamVjdEZsYWdzLlNlbGYgfCBJbmplY3RGbGFncy5Ib3N0KSkgPT09IDApIHtcbiAgICAgICAgY29uc3QgbW9kdWxlSW5qZWN0b3IgPSBsVmlld1tJTkpFQ1RPUiQxXTtcbiAgICAgICAgLy8gc3dpdGNoIHRvIGBpbmplY3RJbmplY3Rvck9ubHlgIGltcGxlbWVudGF0aW9uIGZvciBtb2R1bGUgaW5qZWN0b3IsIHNpbmNlIG1vZHVsZSBpbmplY3RvclxuICAgICAgICAvLyBzaG91bGQgbm90IGhhdmUgYWNjZXNzIHRvIENvbXBvbmVudC9EaXJlY3RpdmUgREkgc2NvcGUgKHRoYXQgbWF5IGhhcHBlbiB0aHJvdWdoXG4gICAgICAgIC8vIGBkaXJlY3RpdmVJbmplY3RgIGltcGxlbWVudGF0aW9uKVxuICAgICAgICBjb25zdCBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uID0gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24odW5kZWZpbmVkKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtb2R1bGVJbmplY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbmplY3Rvci5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdFJvb3RMaW1wTW9kZSh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm90Rm91bmRWYWx1ZU9yVGhyb3cobm90Rm91bmRWYWx1ZSwgdG9rZW4sIGZsYWdzKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB0byB0aGUgZ2l2ZW4gdG9rZW4gZnJvbSB0aGUgTm9kZUluamVjdG9ycyA9PiBNb2R1bGVJbmplY3Rvci5cbiAqXG4gKiBMb29rIGZvciB0aGUgaW5qZWN0b3IgcHJvdmlkaW5nIHRoZSB0b2tlbiBieSB3YWxraW5nIHVwIHRoZSBub2RlIGluamVjdG9yIHRyZWUgYW5kIHRoZW5cbiAqIHRoZSBtb2R1bGUgaW5qZWN0b3IgdHJlZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHBhdGNoZXMgYHRva2VuYCB3aXRoIGBfX05HX0VMRU1FTlRfSURfX2Agd2hpY2ggY29udGFpbnMgdGhlIGlkIGZvciB0aGUgYmxvb21cbiAqIGZpbHRlci4gYC0xYCBpcyByZXNlcnZlZCBmb3IgaW5qZWN0aW5nIGBJbmplY3RvcmAgKGltcGxlbWVudGVkIGJ5IGBOb2RlSW5qZWN0b3JgKVxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgTm9kZSB3aGVyZSB0aGUgc2VhcmNoIGZvciB0aGUgaW5qZWN0b3Igc2hvdWxkIHN0YXJ0XG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2AgdGhhdCBjb250YWlucyB0aGUgYHROb2RlYFxuICogQHBhcmFtIHRva2VuIFRoZSB0b2tlbiB0byBsb29rIGZvclxuICogQHBhcmFtIGZsYWdzIEluamVjdGlvbiBmbGFnc1xuICogQHBhcmFtIG5vdEZvdW5kVmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiB3aGVuIHRoZSBpbmplY3Rpb24gZmxhZ3MgaXMgYEluamVjdEZsYWdzLk9wdGlvbmFsYFxuICogQHJldHVybnMgdGhlIHZhbHVlIGZyb20gdGhlIGluamVjdG9yLCBgbnVsbGAgd2hlbiBub3QgZm91bmQsIG9yIGBub3RGb3VuZFZhbHVlYCBpZiBwcm92aWRlZFxuICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZUluamVjdGFibGUodE5vZGUsIGxWaWV3LCB0b2tlbiwgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0LCBub3RGb3VuZFZhbHVlKSB7XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGJsb29tSGFzaCA9IGJsb29tSGFzaEJpdE9yRmFjdG9yeSh0b2tlbik7XG4gICAgICAgIC8vIElmIHRoZSBJRCBzdG9yZWQgaGVyZSBpcyBhIGZ1bmN0aW9uLCB0aGlzIGlzIGEgc3BlY2lhbCBvYmplY3QgbGlrZSBFbGVtZW50UmVmIG9yIFRlbXBsYXRlUmVmXG4gICAgICAgIC8vIHNvIGp1c3QgY2FsbCB0aGUgZmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgaXQuXG4gICAgICAgIGlmICh0eXBlb2YgYmxvb21IYXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoIWVudGVyREkobFZpZXcsIHROb2RlLCBmbGFncykpIHtcbiAgICAgICAgICAgICAgICAvLyBGYWlsZWQgdG8gZW50ZXIgREksIHRyeSBtb2R1bGUgaW5qZWN0b3IgaW5zdGVhZC4gSWYgYSB0b2tlbiBpcyBpbmplY3RlZCB3aXRoIHRoZSBASG9zdFxuICAgICAgICAgICAgICAgIC8vIGZsYWcsIHRoZSBtb2R1bGUgaW5qZWN0b3IgaXMgbm90IHNlYXJjaGVkIGZvciB0aGF0IHRva2VuIGluIEl2eS5cbiAgICAgICAgICAgICAgICByZXR1cm4gKGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCkgP1xuICAgICAgICAgICAgICAgICAgICBub3RGb3VuZFZhbHVlT3JUaHJvdyhub3RGb3VuZFZhbHVlLCB0b2tlbiwgZmxhZ3MpIDpcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVG9rZW5Vc2luZ01vZHVsZUluamVjdG9yKGxWaWV3LCB0b2tlbiwgZmxhZ3MsIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb29tSGFzaChmbGFncyk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgIShmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgbGVhdmVESSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBibG9vbUhhc2ggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBBIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXMgaW5qZWN0b3IgVFZpZXcgdGhhdCB3YXMgZm91bmQgd2hpbGUgY2xpbWJpbmcgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIGluamVjdG9yIHRyZWUuIFRoaXMgaXMgdXNlZCB0byBrbm93IGlmIHZpZXdQcm92aWRlcnMgY2FuIGJlIGFjY2Vzc2VkIG9uIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAvLyBpbmplY3Rvci5cbiAgICAgICAgICAgIGxldCBwcmV2aW91c1RWaWV3ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBpbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgbGV0IHBhcmVudExvY2F0aW9uID0gTk9fUEFSRU5UX0lOSkVDVE9SO1xuICAgICAgICAgICAgbGV0IGhvc3RURWxlbWVudE5vZGUgPSBmbGFncyAmIEluamVjdEZsYWdzLkhvc3QgPyBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV11bVF9IT1NUXSA6IG51bGw7XG4gICAgICAgICAgICAvLyBJZiB3ZSBzaG91bGQgc2tpcCB0aGlzIGluamVjdG9yLCBvciBpZiB0aGVyZSBpcyBubyBpbmplY3RvciBvbiB0aGlzIG5vZGUsIHN0YXJ0IGJ5XG4gICAgICAgICAgICAvLyBzZWFyY2hpbmcgdGhlIHBhcmVudCBpbmplY3Rvci5cbiAgICAgICAgICAgIGlmIChpbmplY3RvckluZGV4ID09PSAtMSB8fCBmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50TG9jYXRpb24gPSBpbmplY3RvckluZGV4ID09PSAtMSA/IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIGxWaWV3KSA6XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL107XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uID09PSBOT19QQVJFTlRfSU5KRUNUT1IgfHwgIXNob3VsZFNlYXJjaFBhcmVudChmbGFncywgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgaW5qZWN0b3IgdHJlZSB1bnRpbCB3ZSBmaW5kIGEgcG90ZW50aWFsIG1hdGNoIG9yIHVudGlsIHdlIGtub3cgdGhlcmVcbiAgICAgICAgICAgIC8vICppc24ndCogYSBtYXRjaC5cbiAgICAgICAgICAgIHdoaWxlIChpbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlSW5qZWN0b3IobFZpZXcsIGluamVjdG9ySW5kZXgpO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoZSBjdXJyZW50IGluamVjdG9yLiBJZiBpdCBtYXRjaGVzLCBzZWUgaWYgaXQgY29udGFpbnMgdG9rZW4uXG4gICAgICAgICAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydFROb2RlRm9yTFZpZXcodFZpZXcuZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL10sIGxWaWV3KTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvb21IYXNUb2tlbihibG9vbUhhc2gsIGluamVjdG9ySW5kZXgsIHRWaWV3LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgYW4gaW5qZWN0b3Igd2hpY2ggKm1heSogY29udGFpbiB0aGUgdG9rZW4sIHNvIHdlIHN0ZXAgdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJvdmlkZXJzIGFuZCBkaXJlY3RpdmVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5qZWN0b3IncyBjb3JyZXNwb25kaW5nIG5vZGUgdG8gZ2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpbnN0YW5jZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBzZWFyY2hUb2tlbnNPbkluamVjdG9yKGluamVjdG9ySW5kZXgsIGxWaWV3LCB0b2tlbiwgcHJldmlvdXNUVmlldywgZmxhZ3MsIGhvc3RURWxlbWVudE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgIT09IE5PVF9GT1VORCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudExvY2F0aW9uID0gbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50TG9jYXRpb24gIT09IE5PX1BBUkVOVF9JTkpFQ1RPUiAmJlxuICAgICAgICAgICAgICAgICAgICBzaG91bGRTZWFyY2hQYXJlbnQoZmxhZ3MsIGxWaWV3W1RWSUVXXS5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXSA9PT0gaG9zdFRFbGVtZW50Tm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgYmxvb21IYXNUb2tlbihibG9vbUhhc2gsIGluamVjdG9ySW5kZXgsIGxWaWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmIHdhc24ndCBmb3VuZCBhbnl3aGVyZSBvbiB0aGlzIG5vZGUsIHNvIGl0IHdhcyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgdHJlZSBhbmQgY29udGludWUgc2VhcmNoaW5nLlxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RWaWV3ID0gdFZpZXc7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIHNob3VsZCBub3Qgc2VhcmNoIHBhcmVudCBPUiBJZiB0aGUgYW5jZXN0b3IgYmxvb20gZmlsdGVyIHZhbHVlIGRvZXMgbm90IGhhdmUgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJpdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBkaXJlY3RpdmUgd2UgY2FuIGdpdmUgdXAgb24gdHJhdmVyc2luZyB1cCB0byBmaW5kIHRoZSBzcGVjaWZpY1xuICAgICAgICAgICAgICAgICAgICAvLyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9va3VwVG9rZW5Vc2luZ01vZHVsZUluamVjdG9yKGxWaWV3LCB0b2tlbiwgZmxhZ3MsIG5vdEZvdW5kVmFsdWUpO1xufVxuY29uc3QgTk9UX0ZPVU5EID0ge307XG5mdW5jdGlvbiBjcmVhdGVOb2RlSW5qZWN0b3IoKSB7XG4gICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IoZ2V0Q3VycmVudFROb2RlKCksIGdldExWaWV3KCkpO1xufVxuZnVuY3Rpb24gc2VhcmNoVG9rZW5zT25JbmplY3RvcihpbmplY3RvckluZGV4LCBsVmlldywgdG9rZW4sIHByZXZpb3VzVFZpZXcsIGZsYWdzLCBob3N0VEVsZW1lbnROb2RlKSB7XG4gICAgY29uc3QgY3VycmVudFRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IHROb2RlID0gY3VycmVudFRWaWV3LmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dO1xuICAgIC8vIEZpcnN0LCB3ZSBuZWVkIHRvIGRldGVybWluZSBpZiB2aWV3IHByb3ZpZGVycyBjYW4gYmUgYWNjZXNzZWQgYnkgdGhlIHN0YXJ0aW5nIGVsZW1lbnQuXG4gICAgLy8gVGhlcmUgYXJlIHR3byBwb3NzaWJpbGl0aWVzXG4gICAgY29uc3QgY2FuQWNjZXNzVmlld1Byb3ZpZGVycyA9IHByZXZpb3VzVFZpZXcgPT0gbnVsbCA/XG4gICAgICAgIC8vIDEpIFRoaXMgaXMgdGhlIGZpcnN0IGludm9jYXRpb24gYHByZXZpb3VzVFZpZXcgPT0gbnVsbGAgd2hpY2ggbWVhbnMgdGhhdCB3ZSBhcmUgYXQgdGhlXG4gICAgICAgIC8vIGBUTm9kZWAgb2Ygd2hlcmUgaW5qZWN0b3IgaXMgc3RhcnRpbmcgdG8gbG9vay4gSW4gc3VjaCBhIGNhc2UgdGhlIG9ubHkgdGltZSB3ZSBhcmUgYWxsb3dlZFxuICAgICAgICAvLyB0byBsb29rIGludG8gdGhlIFZpZXdQcm92aWRlcnMgaXMgaWY6XG4gICAgICAgIC8vIC0gd2UgYXJlIG9uIGEgY29tcG9uZW50XG4gICAgICAgIC8vIC0gQU5EIHRoZSBpbmplY3RvciBzZXQgYGluY2x1ZGVWaWV3UHJvdmlkZXJzYCB0byB0cnVlIChpbXBseWluZyB0aGF0IHRoZSB0b2tlbiBjYW4gc2VlXG4gICAgICAgIC8vIFZpZXdQcm92aWRlcnMgYmVjYXVzZSBpdCBpcyB0aGUgQ29tcG9uZW50IG9yIGEgU2VydmljZSB3aGljaCBpdHNlbGYgd2FzIGRlY2xhcmVkIGluXG4gICAgICAgIC8vIFZpZXdQcm92aWRlcnMpXG4gICAgICAgIChpc0NvbXBvbmVudEhvc3QodE5vZGUpICYmIGluY2x1ZGVWaWV3UHJvdmlkZXJzKSA6XG4gICAgICAgIC8vIDIpIGBwcmV2aW91c1RWaWV3ICE9IG51bGxgIHdoaWNoIG1lYW5zIHRoYXQgd2UgYXJlIG5vdyB3YWxraW5nIGFjcm9zcyB0aGUgcGFyZW50IG5vZGVzLlxuICAgICAgICAvLyBJbiBzdWNoIGEgY2FzZSB3ZSBhcmUgb25seSBhbGxvd2VkIHRvIGxvb2sgaW50byB0aGUgVmlld1Byb3ZpZGVycyBpZjpcbiAgICAgICAgLy8gLSBXZSBqdXN0IGNyb3NzZWQgZnJvbSBjaGlsZCBWaWV3IHRvIFBhcmVudCBWaWV3IGBwcmV2aW91c1RWaWV3ICE9IGN1cnJlbnRUVmlld2BcbiAgICAgICAgLy8gLSBBTkQgdGhlIHBhcmVudCBUTm9kZSBpcyBhbiBFbGVtZW50LlxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgd2UganVzdCBjYW1lIGZyb20gdGhlIENvbXBvbmVudCdzIFZpZXcgYW5kIHRoZXJlZm9yZSBhcmUgYWxsb3dlZCB0byBzZWVcbiAgICAgICAgLy8gaW50byB0aGUgVmlld1Byb3ZpZGVycy5cbiAgICAgICAgKHByZXZpb3VzVFZpZXcgIT0gY3VycmVudFRWaWV3ICYmICgodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pICE9PSAwKSk7XG4gICAgLy8gVGhpcyBzcGVjaWFsIGNhc2UgaGFwcGVucyB3aGVuIHRoZXJlIGlzIGEgQGhvc3Qgb24gdGhlIGluamVjdCBhbmQgd2hlbiB3ZSBhcmUgc2VhcmNoaW5nXG4gICAgLy8gb24gdGhlIGhvc3QgZWxlbWVudCBub2RlLlxuICAgIGNvbnN0IGlzSG9zdFNwZWNpYWxDYXNlID0gKGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCkgJiYgaG9zdFRFbGVtZW50Tm9kZSA9PT0gdE5vZGU7XG4gICAgY29uc3QgaW5qZWN0YWJsZUlkeCA9IGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIGN1cnJlbnRUVmlldywgdG9rZW4sIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMsIGlzSG9zdFNwZWNpYWxDYXNlKTtcbiAgICBpZiAoaW5qZWN0YWJsZUlkeCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIGN1cnJlbnRUVmlldywgaW5qZWN0YWJsZUlkeCwgdE5vZGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgICB9XG59XG4vKipcbiAqIFNlYXJjaGVzIGZvciB0aGUgZ2l2ZW4gdG9rZW4gYW1vbmcgdGhlIG5vZGUncyBkaXJlY3RpdmVzIGFuZCBwcm92aWRlcnMuXG4gKlxuICogQHBhcmFtIHROb2RlIFROb2RlIG9uIHdoaWNoIGRpcmVjdGl2ZXMgYXJlIHByZXNlbnQuXG4gKiBAcGFyYW0gdFZpZXcgVGhlIHRWaWV3IHdlIGFyZSBjdXJyZW50bHkgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHRva2VuIFByb3ZpZGVyIHRva2VuIG9yIHR5cGUgb2YgYSBkaXJlY3RpdmUgdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0gY2FuQWNjZXNzVmlld1Byb3ZpZGVycyBXaGV0aGVyIHZpZXcgcHJvdmlkZXJzIHNob3VsZCBiZSBjb25zaWRlcmVkLlxuICogQHBhcmFtIGlzSG9zdFNwZWNpYWxDYXNlIFdoZXRoZXIgdGhlIGhvc3Qgc3BlY2lhbCBjYXNlIGFwcGxpZXMuXG4gKiBAcmV0dXJucyBJbmRleCBvZiBhIGZvdW5kIGRpcmVjdGl2ZSBvciBwcm92aWRlciwgb3IgbnVsbCB3aGVuIG5vbmUgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCB0b2tlbiwgY2FuQWNjZXNzVmlld1Byb3ZpZGVycywgaXNIb3N0U3BlY2lhbENhc2UpIHtcbiAgICBjb25zdCBub2RlUHJvdmlkZXJJbmRleGVzID0gdE5vZGUucHJvdmlkZXJJbmRleGVzO1xuICAgIGNvbnN0IHRJbmplY3RhYmxlcyA9IHRWaWV3LmRhdGE7XG4gICAgY29uc3QgaW5qZWN0YWJsZXNTdGFydCA9IG5vZGVQcm92aWRlckluZGV4ZXMgJiAxMDQ4NTc1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgIGNvbnN0IGRpcmVjdGl2ZXNTdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBjb25zdCBjcHRWaWV3UHJvdmlkZXJzQ291bnQgPSBub2RlUHJvdmlkZXJJbmRleGVzID4+IDIwIC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ICovO1xuICAgIGNvbnN0IHN0YXJ0aW5nSW5kZXggPSBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzID8gaW5qZWN0YWJsZXNTdGFydCA6IGluamVjdGFibGVzU3RhcnQgKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQ7XG4gICAgLy8gV2hlbiB0aGUgaG9zdCBzcGVjaWFsIGNhc2UgYXBwbGllcywgb25seSB0aGUgdmlld1Byb3ZpZGVycyBhbmQgdGhlIGNvbXBvbmVudCBhcmUgdmlzaWJsZVxuICAgIGNvbnN0IGVuZEluZGV4ID0gaXNIb3N0U3BlY2lhbENhc2UgPyBpbmplY3RhYmxlc1N0YXJ0ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50IDogZGlyZWN0aXZlRW5kO1xuICAgIGZvciAobGV0IGkgPSBzdGFydGluZ0luZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICBjb25zdCBwcm92aWRlclRva2VuT3JEZWYgPSB0SW5qZWN0YWJsZXNbaV07XG4gICAgICAgIGlmIChpIDwgZGlyZWN0aXZlc1N0YXJ0ICYmIHRva2VuID09PSBwcm92aWRlclRva2VuT3JEZWYgfHxcbiAgICAgICAgICAgIGkgPj0gZGlyZWN0aXZlc1N0YXJ0ICYmIHByb3ZpZGVyVG9rZW5PckRlZi50eXBlID09PSB0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzSG9zdFNwZWNpYWxDYXNlKSB7XG4gICAgICAgIGNvbnN0IGRpckRlZiA9IHRJbmplY3RhYmxlc1tkaXJlY3RpdmVzU3RhcnRdO1xuICAgICAgICBpZiAoZGlyRGVmICYmIGlzQ29tcG9uZW50RGVmKGRpckRlZikgJiYgZGlyRGVmLnR5cGUgPT09IHRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlc1N0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBvciBpbnN0YW50aWF0ZSB0aGUgaW5qZWN0YWJsZSBmcm9tIHRoZSBgTFZpZXdgIGF0IHBhcnRpY3VsYXIgYGluZGV4YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlIHZhbHVlIGhhcyBhbHJlYWR5IGJlZW4gaW5zdGFudGlhdGVkIGFuZCBpZiBzbyByZXR1cm5zIHRoZVxuICogY2FjaGVkIGBpbmplY3RhYmxlYC4gT3RoZXJ3aXNlIGlmIGl0IGRldGVjdHMgdGhhdCB0aGUgdmFsdWUgaXMgc3RpbGwgYSBmYWN0b3J5IGl0XG4gKiBpbnN0YW50aWF0ZXMgdGhlIGBpbmplY3RhYmxlYCBhbmQgY2FjaGVzIHRoZSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIHRWaWV3LCBpbmRleCwgdE5vZGUpIHtcbiAgICBsZXQgdmFsdWUgPSBsVmlld1tpbmRleF07XG4gICAgY29uc3QgdERhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGlmIChpc0ZhY3RvcnkodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGZhY3RvcnkucmVzb2x2aW5nKSB7XG4gICAgICAgICAgICB0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvcihzdHJpbmdpZnlGb3JFcnJvcih0RGF0YVtpbmRleF0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzID0gc2V0SW5jbHVkZVZpZXdQcm92aWRlcnMoZmFjdG9yeS5jYW5TZWVWaWV3UHJvdmlkZXJzKTtcbiAgICAgICAgZmFjdG9yeS5yZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uID0gZmFjdG9yeS5pbmplY3RJbXBsID8gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24oZmFjdG9yeS5pbmplY3RJbXBsKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBlbnRlckRJKGxWaWV3LCB0Tm9kZSwgSW5qZWN0RmxhZ3MuRGVmYXVsdCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwoc3VjY2VzcywgdHJ1ZSwgJ0JlY2F1c2UgZmxhZ3MgZG8gbm90IGNvbnRhaW4gXFxgU2tpcFNlbGZcXCcgd2UgZXhwZWN0IHRoaXMgdG8gYWx3YXlzIHN1Y2NlZWQuJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGxWaWV3W2luZGV4XSA9IGZhY3RvcnkuZmFjdG9yeSh1bmRlZmluZWQsIHREYXRhLCBsVmlldywgdE5vZGUpO1xuICAgICAgICAgICAgLy8gVGhpcyBjb2RlIHBhdGggaXMgaGl0IGZvciBib3RoIGRpcmVjdGl2ZXMgYW5kIHByb3ZpZGVycy5cbiAgICAgICAgICAgIC8vIEZvciBwZXJmIHJlYXNvbnMsIHdlIHdhbnQgdG8gYXZvaWQgc2VhcmNoaW5nIGZvciBob29rcyBvbiBwcm92aWRlcnMuXG4gICAgICAgICAgICAvLyBJdCBkb2VzIG5vIGhhcm0gdG8gdHJ5ICh0aGUgaG9va3MganVzdCB3b24ndCBleGlzdCksIGJ1dCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIGNoZWNrcyBhcmUgdW5uZWNlc3NhcnkgYW5kIHRoaXMgaXMgYSBob3QgcGF0aC4gU28gd2UgY2hlY2sgdG8gc2VlXG4gICAgICAgICAgICAvLyBpZiB0aGUgaW5kZXggb2YgdGhlIGRlcGVuZGVuY3kgaXMgaW4gdGhlIGRpcmVjdGl2ZSByYW5nZSBmb3IgdGhpc1xuICAgICAgICAgICAgLy8gdE5vZGUuIElmIGl0J3Mgbm90LCB3ZSBrbm93IGl0J3MgYSBwcm92aWRlciBhbmQgc2tpcCBob29rIHJlZ2lzdHJhdGlvbi5cbiAgICAgICAgICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MgJiYgaW5kZXggPj0gdE5vZGUuZGlyZWN0aXZlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGlyZWN0aXZlRGVmKHREYXRhW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJQcmVPcmRlckhvb2tzKGluZGV4LCB0RGF0YVtpbmRleF0sIHRWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICAgICAgZmFjdG9yeS5yZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGxlYXZlREkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGJpdCBpbiBhbiBpbmplY3RvcidzIGJsb29tIGZpbHRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdFxuICogdGhlIGRpcmVjdGl2ZSBtaWdodCBiZSBwcm92aWRlZCBieSB0aGUgaW5qZWN0b3IuXG4gKlxuICogV2hlbiBhIGRpcmVjdGl2ZSBpcyBwdWJsaWMsIGl0IGlzIGFkZGVkIHRvIHRoZSBibG9vbSBmaWx0ZXIgYW5kIGdpdmVuIGEgdW5pcXVlIElEIHRoYXQgY2FuIGJlXG4gKiByZXRyaWV2ZWQgb24gdGhlIFR5cGUuIFdoZW4gdGhlIGRpcmVjdGl2ZSBpc24ndCBwdWJsaWMgb3IgdGhlIHRva2VuIGlzIG5vdCBhIGRpcmVjdGl2ZSBgbnVsbGBcbiAqIGlzIHJldHVybmVkIGFzIHRoZSBub2RlIGluamVjdG9yIGNhbiBub3QgcG9zc2libHkgcHJvdmlkZSB0aGF0IHRva2VuLlxuICpcbiAqIEBwYXJhbSB0b2tlbiB0aGUgaW5qZWN0aW9uIHRva2VuXG4gKiBAcmV0dXJucyB0aGUgbWF0Y2hpbmcgYml0IHRvIGNoZWNrIGluIHRoZSBibG9vbSBmaWx0ZXIgb3IgYG51bGxgIGlmIHRoZSB0b2tlbiBpcyBub3Qga25vd24uXG4gKiAgIFdoZW4gdGhlIHJldHVybmVkIHZhbHVlIGlzIG5lZ2F0aXZlIHRoZW4gaXQgcmVwcmVzZW50cyBzcGVjaWFsIHZhbHVlcyBzdWNoIGFzIGBJbmplY3RvcmAuXG4gKi9cbmZ1bmN0aW9uIGJsb29tSGFzaEJpdE9yRmFjdG9yeSh0b2tlbikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRva2VuLCAndG9rZW4gbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLmNoYXJDb2RlQXQoMCkgfHwgMDtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5JZCA9IFxuICAgIC8vIEZpcnN0IGNoZWNrIHdpdGggYGhhc093blByb3BlcnR5YCBzbyB3ZSBkb24ndCBnZXQgYW4gaW5oZXJpdGVkIElELlxuICAgIHRva2VuLmhhc093blByb3BlcnR5KE5HX0VMRU1FTlRfSUQpID8gdG9rZW5bTkdfRUxFTUVOVF9JRF0gOiB1bmRlZmluZWQ7XG4gICAgLy8gTmVnYXRpdmUgdG9rZW4gSURzIGFyZSB1c2VkIGZvciBzcGVjaWFsIG9iamVjdHMgc3VjaCBhcyBgSW5qZWN0b3JgXG4gICAgaWYgKHR5cGVvZiB0b2tlbklkID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAodG9rZW5JZCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5JZCAmIEJMT09NX01BU0s7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0b2tlbklkLCAtMSAvKiBJbmplY3RvciAqLywgJ0V4cGVjdGluZyB0byBnZXQgU3BlY2lhbCBJbmplY3RvciBJZCcpO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGVJbmplY3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRva2VuSWQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYmxvb21IYXNUb2tlbihibG9vbUhhc2gsIGluamVjdG9ySW5kZXgsIGluamVjdG9yVmlldykge1xuICAgIC8vIENyZWF0ZSBhIG1hc2sgdGhhdCB0YXJnZXRzIHRoZSBzcGVjaWZpYyBiaXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBkaXJlY3RpdmUgd2UncmUgbG9va2luZyBmb3IuXG4gICAgLy8gSlMgYml0IG9wZXJhdGlvbnMgYXJlIDMyIGJpdHMsIHNvIHRoaXMgd2lsbCBiZSBhIG51bWJlciBiZXR3ZWVuIDJeMCBhbmQgMl4zMSwgY29ycmVzcG9uZGluZ1xuICAgIC8vIHRvIGJpdCBwb3NpdGlvbnMgMCAtIDMxIGluIGEgMzIgYml0IGludGVnZXIuXG4gICAgY29uc3QgbWFzayA9IDEgPDwgYmxvb21IYXNoO1xuICAgIC8vIEVhY2ggYmxvb20gYnVja2V0IGluIGBpbmplY3RvclZpZXdgIHJlcHJlc2VudHMgYEJMT09NX0JVQ0tFVF9CSVRTYCBudW1iZXIgb2YgYml0cyBvZlxuICAgIC8vIGBibG9vbUhhc2hgLiBBbnkgYml0cyBpbiBgYmxvb21IYXNoYCBiZXlvbmQgYEJMT09NX0JVQ0tFVF9CSVRTYCBpbmRpY2F0ZSB0aGUgYnVja2V0IG9mZnNldFxuICAgIC8vIHRoYXQgc2hvdWxkIGJlIHVzZWQuXG4gICAgY29uc3QgdmFsdWUgPSBpbmplY3RvclZpZXdbaW5qZWN0b3JJbmRleCArIChibG9vbUhhc2ggPj4gQkxPT01fQlVDS0VUX0JJVFMpXTtcbiAgICAvLyBJZiB0aGUgYmxvb20gZmlsdGVyIHZhbHVlIGhhcyB0aGUgYml0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGRpcmVjdGl2ZSdzIGJsb29tQml0IGZsaXBwZWQgb24sXG4gICAgLy8gdGhpcyBpbmplY3RvciBpcyBhIHBvdGVudGlhbCBtYXRjaC5cbiAgICByZXR1cm4gISEodmFsdWUgJiBtYXNrKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgZmxhZ3MgcHJldmVudCBwYXJlbnQgaW5qZWN0b3IgZnJvbSBiZWluZyBzZWFyY2hlZCBmb3IgdG9rZW5zICovXG5mdW5jdGlvbiBzaG91bGRTZWFyY2hQYXJlbnQoZmxhZ3MsIGlzRmlyc3RIb3N0VE5vZGUpIHtcbiAgICByZXR1cm4gIShmbGFncyAmIEluamVjdEZsYWdzLlNlbGYpICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0ICYmIGlzRmlyc3RIb3N0VE5vZGUpO1xufVxuY2xhc3MgTm9kZUluamVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihfdE5vZGUsIF9sVmlldykge1xuICAgICAgICB0aGlzLl90Tm9kZSA9IF90Tm9kZTtcbiAgICAgICAgdGhpcy5fbFZpZXcgPSBfbFZpZXc7XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuIGdldE9yQ3JlYXRlSW5qZWN0YWJsZSh0aGlzLl90Tm9kZSwgdGhpcy5fbFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSh0eXBlKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBvd25Db25zdHJ1Y3RvciA9IHR5cGUucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBvd25GYWN0b3J5ID0gb3duQ29uc3RydWN0b3JbTkdfRkFDVE9SWV9ERUZdIHx8IGdldEZhY3RvcnlPZihvd25Db25zdHJ1Y3Rvcik7XG4gICAgICAgIGNvbnN0IG9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgICAgIGxldCBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodHlwZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO1xuICAgICAgICAvLyBHbyB1cCB0aGUgcHJvdG90eXBlIHVudGlsIHdlIGhpdCBgT2JqZWN0YC5cbiAgICAgICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IHBhcmVudFtOR19GQUNUT1JZX0RFRl0gfHwgZ2V0RmFjdG9yeU9mKHBhcmVudCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoaXQgc29tZXRoaW5nIHRoYXQgaGFzIGEgZmFjdG9yeSBhbmQgdGhlIGZhY3RvcnkgaXNuJ3QgdGhlIHNhbWUgYXMgdGhlIHR5cGUsXG4gICAgICAgICAgICAvLyB3ZSd2ZSBmb3VuZCB0aGUgaW5oZXJpdGVkIGZhY3RvcnkuIE5vdGUgdGhlIGNoZWNrIHRoYXQgdGhlIGZhY3RvcnkgaXNuJ3QgdGhlIHR5cGUnc1xuICAgICAgICAgICAgLy8gb3duIGZhY3RvcnkgaXMgcmVkdW5kYW50IGluIG1vc3QgY2FzZXMsIGJ1dCBpZiB0aGUgdXNlciBoYXMgY3VzdG9tIGRlY29yYXRvcnMgb24gdGhlXG4gICAgICAgICAgICAvLyBjbGFzcywgdGhpcyBsb29rdXAgd2lsbCBzdGFydCBvbmUgbGV2ZWwgZG93biBpbiB0aGUgcHJvdG90eXBlIGNoYWluLCBjYXVzaW5nIHVzIHRvXG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBvd24gZmFjdG9yeSBmaXJzdCBhbmQgcG90ZW50aWFsbHkgdHJpZ2dlcmluZyBhbiBpbmZpbml0ZSBsb29wIGRvd25zdHJlYW0uXG4gICAgICAgICAgICBpZiAoZmFjdG9yeSAmJiBmYWN0b3J5ICE9PSBvd25GYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVyZSBpcyBubyBmYWN0b3J5IGRlZmluZWQuIEVpdGhlciB0aGlzIHdhcyBpbXByb3BlciB1c2FnZSBvZiBpbmhlcml0YW5jZVxuICAgICAgICAvLyAobm8gQW5ndWxhciBkZWNvcmF0b3Igb24gdGhlIHN1cGVyY2xhc3MpIG9yIHRoZXJlIGlzIG5vIGNvbnN0cnVjdG9yIGF0IGFsbFxuICAgICAgICAvLyBpbiB0aGUgaW5oZXJpdGFuY2UgY2hhaW4uIFNpbmNlIHRoZSB0d28gY2FzZXMgY2Fubm90IGJlIGRpc3Rpbmd1aXNoZWQsIHRoZVxuICAgICAgICAvLyBsYXR0ZXIgaGFzIHRvIGJlIGFzc3VtZWQuXG4gICAgICAgIHJldHVybiB0ID0+IG5ldyB0KCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRGYWN0b3J5T2YodHlwZSkge1xuICAgIGlmIChpc0ZvcndhcmRSZWYodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBnZXRGYWN0b3J5T2YocmVzb2x2ZUZvcndhcmRSZWYodHlwZSkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkgJiYgZmFjdG9yeSgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0RmFjdG9yeURlZih0eXBlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEZhY2FkZSBmb3IgdGhlIGF0dHJpYnV0ZSBpbmplY3Rpb24gZnJvbSBESS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aW5qZWN0QXR0cmlidXRlKGF0dHJOYW1lVG9JbmplY3QpIHtcbiAgICByZXR1cm4gaW5qZWN0QXR0cmlidXRlSW1wbChnZXRDdXJyZW50VE5vZGUoKSwgYXR0ck5hbWVUb0luamVjdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgQU5OT1RBVElPTlMgPSAnX19hbm5vdGF0aW9uc19fJztcbmNvbnN0IFBBUkFNRVRFUlMgPSAnX19wYXJhbWV0ZXJzX18nO1xuY29uc3QgUFJPUF9NRVRBREFUQSA9ICdfX3Byb3BfX21ldGFkYXRhX18nO1xuLyoqXG4gKiBAc3VwcHJlc3Mge2dsb2JhbFRoaXN9XG4gKi9cbmZ1bmN0aW9uIG1ha2VEZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzLCBhZGRpdGlvbmFsUHJvY2Vzc2luZywgdHlwZUZuKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIG1ldGFDdG9yLmNhbGwodGhpcywgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uSW5zdGFuY2UgPSBuZXcgRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBUeXBlRGVjb3JhdG9yKGNscykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlRm4pXG4gICAgICAgICAgICAgICAgICAgIHR5cGVGbihjbHMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgaW1wb3J0YW50IHNpbmNlIGl0IGNyZWF0ZXMgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50cyB0aGUgcHJvcGVydHkgaXMgY29waWVkIGR1cmluZyBzdWJjbGFzc2luZy5cbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGNscy5oYXNPd25Qcm9wZXJ0eShBTk5PVEFUSU9OUykgP1xuICAgICAgICAgICAgICAgICAgICBjbHNbQU5OT1RBVElPTlNdIDpcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNscywgQU5OT1RBVElPTlMsIHsgdmFsdWU6IFtdIH0pW0FOTk9UQVRJT05TXTtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxQcm9jZXNzaW5nKVxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvY2Vzc2luZyhjbHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICAgICAgRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudENsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWUgPSBuYW1lO1xuICAgICAgICBEZWNvcmF0b3JGYWN0b3J5LmFubm90YXRpb25DbHMgPSBEZWNvcmF0b3JGYWN0b3J5O1xuICAgICAgICByZXR1cm4gRGVjb3JhdG9yRmFjdG9yeTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3RvciguLi5hcmdzKSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gcHJvcHMoLi4uYXJncyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gdmFsdWVzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBtYWtlUGFyYW1EZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgICAgICBmdW5jdGlvbiBQYXJhbURlY29yYXRvckZhY3RvcnkoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQYXJhbURlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBtZXRhQ3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25JbnN0YW5jZSA9IG5ldyBQYXJhbURlY29yYXRvckZhY3RvcnkoLi4uYXJncyk7XG4gICAgICAgICAgICBQYXJhbURlY29yYXRvci5hbm5vdGF0aW9uID0gYW5ub3RhdGlvbkluc3RhbmNlO1xuICAgICAgICAgICAgcmV0dXJuIFBhcmFtRGVjb3JhdG9yO1xuICAgICAgICAgICAgZnVuY3Rpb24gUGFyYW1EZWNvcmF0b3IoY2xzLCB1bnVzZWRLZXksIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgc2luY2UgaXQgY3JlYXRlcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB3aGljaFxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBwcm9wZXJ0eSBpcyBjb3BpZWQgZHVyaW5nIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBjbHMuaGFzT3duUHJvcGVydHkoUEFSQU1FVEVSUykgP1xuICAgICAgICAgICAgICAgICAgICBjbHNbUEFSQU1FVEVSU10gOlxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xzLCBQQVJBTUVURVJTLCB7IHZhbHVlOiBbXSB9KVtQQVJBTUVURVJTXTtcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBtaWdodCBiZSBnYXBzIGlmIHNvbWUgaW4gYmV0d2VlbiBwYXJhbWV0ZXJzIGRvIG5vdCBoYXZlIGFubm90YXRpb25zLlxuICAgICAgICAgICAgICAgIC8vIHdlIHBhZCB3aXRoIG51bGxzLlxuICAgICAgICAgICAgICAgIHdoaWxlIChwYXJhbWV0ZXJzLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChwYXJhbWV0ZXJzW2luZGV4XSA9IHBhcmFtZXRlcnNbaW5kZXhdIHx8IFtdKS5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIFBhcmFtRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudENsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgUGFyYW1EZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZSA9IG5hbWU7XG4gICAgICAgIFBhcmFtRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gUGFyYW1EZWNvcmF0b3JGYWN0b3J5O1xuICAgICAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3JGYWN0b3J5O1xuICAgIH0pO1xufVxuZnVuY3Rpb24gbWFrZVByb3BEZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzLCBhZGRpdGlvbmFsUHJvY2Vzc2luZykge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWV0YUN0b3IgPSBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKTtcbiAgICAgICAgZnVuY3Rpb24gUHJvcERlY29yYXRvckZhY3RvcnkoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9wRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIG1ldGFDdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVjb3JhdG9ySW5zdGFuY2UgPSBuZXcgUHJvcERlY29yYXRvckZhY3RvcnkoLi4uYXJncyk7XG4gICAgICAgICAgICBmdW5jdGlvbiBQcm9wRGVjb3JhdG9yKHRhcmdldCwgbmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgaW1wb3J0YW50IGJlY2F1c2UgaXQgY3JlYXRlcyBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggcHJldmVudHMgdGhlIHByb3BlcnR5IGZyb20gYmVpbmcgY29waWVkIGR1cmluZyBzdWJjbGFzc2luZy5cbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoUFJPUF9NRVRBREFUQSkgP1xuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcltQUk9QX01FVEFEQVRBXSA6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgUFJPUF9NRVRBREFUQSwgeyB2YWx1ZToge30gfSlbUFJPUF9NRVRBREFUQV07XG4gICAgICAgICAgICAgICAgbWV0YVtuYW1lXSA9IG1ldGEuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgbWV0YVtuYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBtZXRhW25hbWVdLnVuc2hpZnQoZGVjb3JhdG9ySW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUHJvY2Vzc2luZylcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb2Nlc3NpbmcodGFyZ2V0LCBuYW1lLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9wRGVjb3JhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICAgICAgUHJvcERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFByb3BEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZSA9IG5hbWU7XG4gICAgICAgIFByb3BEZWNvcmF0b3JGYWN0b3J5LmFubm90YXRpb25DbHMgPSBQcm9wRGVjb3JhdG9yRmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIFByb3BEZWNvcmF0b3JGYWN0b3J5O1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQXR0cmlidXRlIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQXR0cmlidXRlID0gbWFrZVBhcmFtRGVjb3JhdG9yKCdBdHRyaWJ1dGUnLCAoYXR0cmlidXRlTmFtZSkgPT4gKHsgYXR0cmlidXRlTmFtZSwgX19OR19FTEVNRU5UX0lEX186ICgpID0+IMm1ybVpbmplY3RBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkgfSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgaW4gYSBESSBQcm92aWRlci5cbiAqXG4gKiBVc2UgYW4gYEluamVjdGlvblRva2VuYCB3aGVuZXZlciB0aGUgdHlwZSB5b3UgYXJlIGluamVjdGluZyBpcyBub3QgcmVpZmllZCAoZG9lcyBub3QgaGF2ZSBhXG4gKiBydW50aW1lIHJlcHJlc2VudGF0aW9uKSBzdWNoIGFzIHdoZW4gaW5qZWN0aW5nIGFuIGludGVyZmFjZSwgY2FsbGFibGUgdHlwZSwgYXJyYXkgb3JcbiAqIHBhcmFtZXRlcml6ZWQgdHlwZS5cbiAqXG4gKiBgSW5qZWN0aW9uVG9rZW5gIGlzIHBhcmFtZXRlcml6ZWQgb24gYFRgIHdoaWNoIGlzIHRoZSB0eXBlIG9mIG9iamVjdCB3aGljaCB3aWxsIGJlIHJldHVybmVkIGJ5XG4gKiB0aGUgYEluamVjdG9yYC4gVGhpcyBwcm92aWRlcyBhbiBhZGRpdGlvbmFsIGxldmVsIG9mIHR5cGUgc2FmZXR5LlxuICpcbiAqIGBgYFxuICogaW50ZXJmYWNlIE15SW50ZXJmYWNlIHsuLi59XG4gKiBjb25zdCBteUludGVyZmFjZSA9IGluamVjdG9yLmdldChuZXcgSW5qZWN0aW9uVG9rZW48TXlJbnRlcmZhY2U+KCdTb21lVG9rZW4nKSk7XG4gKiAvLyBteUludGVyZmFjZSBpcyBpbmZlcnJlZCB0byBiZSBNeUludGVyZmFjZS5cbiAqIGBgYFxuICpcbiAqIFdoZW4gY3JlYXRpbmcgYW4gYEluamVjdGlvblRva2VuYCwgeW91IGNhbiBvcHRpb25hbGx5IHNwZWNpZnkgYSBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIHJldHVybnNcbiAqIChwb3NzaWJseSBieSBjcmVhdGluZykgYSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXJpemVkIHR5cGUgYFRgLiBUaGlzIHNldHMgdXAgdGhlXG4gKiBgSW5qZWN0aW9uVG9rZW5gIHVzaW5nIHRoaXMgZmFjdG9yeSBhcyBhIHByb3ZpZGVyIGFzIGlmIGl0IHdhcyBkZWZpbmVkIGV4cGxpY2l0bHkgaW4gdGhlXG4gKiBhcHBsaWNhdGlvbidzIHJvb3QgaW5qZWN0b3IuIElmIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLCB3aGljaCB0YWtlcyB6ZXJvIGFyZ3VtZW50cywgbmVlZHMgdG8gaW5qZWN0XG4gKiBkZXBlbmRlbmNpZXMsIGl0IGNhbiBkbyBzbyB1c2luZyB0aGUgYGluamVjdGAgZnVuY3Rpb24uXG4gKiBBcyB5b3UgY2FuIHNlZSBpbiB0aGUgVHJlZS1zaGFrYWJsZSBJbmplY3Rpb25Ub2tlbiBleGFtcGxlIGJlbG93LlxuICpcbiAqIEFkZGl0aW9uYWxseSwgaWYgYSBgZmFjdG9yeWAgaXMgc3BlY2lmaWVkIHlvdSBjYW4gYWxzbyBzcGVjaWZ5IHRoZSBgcHJvdmlkZWRJbmAgb3B0aW9uLCB3aGljaFxuICogb3ZlcnJpZGVzIHRoZSBhYm92ZSBiZWhhdmlvciBhbmQgbWFya3MgdGhlIHRva2VuIGFzIGJlbG9uZ2luZyB0byBhIHBhcnRpY3VsYXIgYEBOZ01vZHVsZWAuIEFzXG4gKiBtZW50aW9uZWQgYWJvdmUsIGAncm9vdCdgIGlzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBgcHJvdmlkZWRJbmAuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBCYXNpYyBFeGFtcGxlc1xuICpcbiAqICMjIyBQbGFpbiBJbmplY3Rpb25Ub2tlblxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdJbmplY3Rpb25Ub2tlbid9XG4gKlxuICogIyMjIFRyZWUtc2hha2FibGUgSW5qZWN0aW9uVG9rZW5cbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nU2hha2FibGVJbmplY3Rpb25Ub2tlbid9XG4gKlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgSW5qZWN0aW9uVG9rZW4ge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBfZGVzYyAgIERlc2NyaXB0aW9uIGZvciB0aGUgdG9rZW4sXG4gICAgICogICAgICAgICAgICAgICAgdXNlZCBvbmx5IGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMsXG4gICAgICogICAgICAgICAgICAgICAgaXQgc2hvdWxkIGJ1dCBkb2VzIG5vdCBuZWVkIHRvIGJlIHVuaXF1ZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSB0b2tlbidzIHVzYWdlLCBhcyBkZXNjcmliZWQgYWJvdmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfZGVzYywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9kZXNjID0gX2Rlc2M7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5uZ01ldGFkYXRhTmFtZSA9ICdJbmplY3Rpb25Ub2tlbic7XG4gICAgICAgIHRoaXMuybVwcm92ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0TGVzc1RoYW4ob3B0aW9ucywgMCwgJ09ubHkgbmVnYXRpdmUgbnVtYmVycyBhcmUgc3VwcG9ydGVkIGhlcmUnKTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIGhhY2sgdG8gYXNzaWduIF9fTkdfRUxFTUVOVF9JRF9fIHRvIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAgICAvLyBTZWUgYEluamVjdG9yTWFya2Vyc2BcbiAgICAgICAgICAgIHRoaXMuX19OR19FTEVNRU5UX0lEX18gPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgICAgICAgICAgICAgdG9rZW46IHRoaXMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogb3B0aW9ucy5wcm92aWRlZEluIHx8ICdyb290JyxcbiAgICAgICAgICAgICAgICBmYWN0b3J5OiBvcHRpb25zLmZhY3RvcnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBJbmplY3Rpb25Ub2tlbiAke3RoaXMuX2Rlc2N9YDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIERJIHRva2VuIHRoYXQgeW91IGNhbiB1c2UgdG8gY3JlYXRlIGEgdmlydHVhbCBbcHJvdmlkZXJdKGd1aWRlL2dsb3NzYXJ5I3Byb3ZpZGVyKVxuICogdGhhdCB3aWxsIHBvcHVsYXRlIHRoZSBgZW50cnlDb21wb25lbnRzYCBmaWVsZCBvZiBjb21wb25lbnRzIGFuZCBOZ01vZHVsZXNcbiAqIGJhc2VkIG9uIGl0cyBgdXNlVmFsdWVgIHByb3BlcnR5IHZhbHVlLlxuICogQWxsIGNvbXBvbmVudHMgdGhhdCBhcmUgcmVmZXJlbmNlZCBpbiB0aGUgYHVzZVZhbHVlYCB2YWx1ZSAoZWl0aGVyIGRpcmVjdGx5XG4gKiBvciBpbiBhIG5lc3RlZCBhcnJheSBvciBtYXApIGFyZSBhZGRlZCB0byB0aGUgYGVudHJ5Q29tcG9uZW50c2AgcHJvcGVydHkuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRoZSByb3V0ZXIgY2FuIHBvcHVsYXRlIHRoZSBgZW50cnlDb21wb25lbnRzYFxuICogZmllbGQgb2YgYW4gTmdNb2R1bGUgYmFzZWQgb24gYSByb3V0ZXIgY29uZmlndXJhdGlvbiB0aGF0IHJlZmVyc1xuICogdG8gY29tcG9uZW50cy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBoZWxwZXIgZnVuY3Rpb24gaW5zaWRlIHRoZSByb3V0ZXJcbiAqIGZ1bmN0aW9uIHByb3ZpZGVSb3V0ZXMocm91dGVzKSB7XG4gKiAgIHJldHVybiBbXG4gKiAgICAge3Byb3ZpZGU6IFJPVVRFUywgdXNlVmFsdWU6IHJvdXRlc30sXG4gKiAgICAge3Byb3ZpZGU6IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIHVzZVZhbHVlOiByb3V0ZXMsIG11bHRpOiB0cnVlfVxuICogICBdO1xuICogfVxuICpcbiAqIC8vIHVzZXIgY29kZVxuICogbGV0IHJvdXRlcyA9IFtcbiAqICAge3BhdGg6ICcvcm9vdCcsIGNvbXBvbmVudDogUm9vdENvbXB9LFxuICogICB7cGF0aDogJy90ZWFtcycsIGNvbXBvbmVudDogVGVhbXNDb21wfVxuICogXTtcbiAqXG4gKiBATmdNb2R1bGUoe1xuICogICBwcm92aWRlcnM6IFtwcm92aWRlUm91dGVzKHJvdXRlcyldXG4gKiB9KVxuICogY2xhc3MgTW9kdWxlV2l0aFJvdXRlcyB7fVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGRlcHJlY2F0ZWQgU2luY2UgOS4wLjAuIFdpdGggSXZ5LCB0aGlzIHByb3BlcnR5IGlzIG5vIGxvbmdlciBuZWNlc3NhcnkuXG4gKi9cbmNvbnN0IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FuYWx5emVGb3JFbnRyeUNvbXBvbmVudHMnKTtcbi8vIFN0b3JlcyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlgIHdoZW4gdGhlIGBlbWl0RGlzdGluY3RDaGFuZ2VzT25seWAgaXMgbm90XG4vLyBleHBsaWNpdGx5IHNldC5cbmNvbnN0IGVtaXREaXN0aW5jdENoYW5nZXNPbmx5RGVmYXVsdFZhbHVlID0gdHJ1ZTtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcXVlcnkgbWV0YWRhdGEuXG4gKlxuICogQHNlZSBgQ29udGVudENoaWxkcmVuYC5cbiAqIEBzZWUgYENvbnRlbnRDaGlsZGAuXG4gKiBAc2VlIGBWaWV3Q2hpbGRyZW5gLlxuICogQHNlZSBgVmlld0NoaWxkYC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFF1ZXJ5IHtcbn1cbi8qKlxuICogQ29udGVudENoaWxkcmVuIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENvbnRlbnRDaGlsZHJlbiA9IG1ha2VQcm9wRGVjb3JhdG9yKCdDb250ZW50Q2hpbGRyZW4nLCAoc2VsZWN0b3IsIGRhdGEgPSB7fSkgPT4gKHtcbiAgICBzZWxlY3RvcixcbiAgICBmaXJzdDogZmFsc2UsXG4gICAgaXNWaWV3UXVlcnk6IGZhbHNlLFxuICAgIGRlc2NlbmRhbnRzOiBmYWxzZSxcbiAgICBlbWl0RGlzdGluY3RDaGFuZ2VzT25seTogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlEZWZhdWx0VmFsdWUsXG4gICAgLi4uZGF0YVxufSksIFF1ZXJ5KTtcbi8qKlxuICogQ29udGVudENoaWxkIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDb250ZW50Q2hpbGQgPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+ICh7IHNlbGVjdG9yLCBmaXJzdDogdHJ1ZSwgaXNWaWV3UXVlcnk6IGZhbHNlLCBkZXNjZW5kYW50czogdHJ1ZSwgLi4uZGF0YSB9KSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWaWV3Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignVmlld0NoaWxkcmVuJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+ICh7XG4gICAgc2VsZWN0b3IsXG4gICAgZmlyc3Q6IGZhbHNlLFxuICAgIGlzVmlld1F1ZXJ5OiB0cnVlLFxuICAgIGRlc2NlbmRhbnRzOiB0cnVlLFxuICAgIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seURlZmF1bHRWYWx1ZSxcbiAgICAuLi5kYXRhXG59KSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWaWV3Q2hpbGQgPSBtYWtlUHJvcERlY29yYXRvcignVmlld0NoaWxkJywgKHNlbGVjdG9yLCBkYXRhKSA9PiAoeyBzZWxlY3RvciwgZmlyc3Q6IHRydWUsIGlzVmlld1F1ZXJ5OiB0cnVlLCBkZXNjZW5kYW50czogdHJ1ZSwgLi4uZGF0YSB9KSwgUXVlcnkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBGYWN0b3J5VGFyZ2V0O1xuKGZ1bmN0aW9uIChGYWN0b3J5VGFyZ2V0KSB7XG4gICAgRmFjdG9yeVRhcmdldFtGYWN0b3J5VGFyZ2V0W1wiRGlyZWN0aXZlXCJdID0gMF0gPSBcIkRpcmVjdGl2ZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIkNvbXBvbmVudFwiXSA9IDFdID0gXCJDb21wb25lbnRcIjtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJJbmplY3RhYmxlXCJdID0gMl0gPSBcIkluamVjdGFibGVcIjtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJQaXBlXCJdID0gM10gPSBcIlBpcGVcIjtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJOZ01vZHVsZVwiXSA9IDRdID0gXCJOZ01vZHVsZVwiO1xufSkoRmFjdG9yeVRhcmdldCB8fCAoRmFjdG9yeVRhcmdldCA9IHt9KSk7XG52YXIgVmlld0VuY2Fwc3VsYXRpb247XG4oZnVuY3Rpb24gKFZpZXdFbmNhcHN1bGF0aW9uKSB7XG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJFbXVsYXRlZFwiXSA9IDBdID0gXCJFbXVsYXRlZFwiO1xuICAgIC8vIEhpc3RvcmljYWxseSB0aGUgMSB2YWx1ZSB3YXMgZm9yIGBOYXRpdmVgIGVuY2Fwc3VsYXRpb24gd2hpY2ggaGFzIGJlZW4gcmVtb3ZlZCBhcyBvZiB2MTEuXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJOb25lXCJdID0gMl0gPSBcIk5vbmVcIjtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIlNoYWRvd0RvbVwiXSA9IDNdID0gXCJTaGFkb3dEb21cIjtcbn0pKFZpZXdFbmNhcHN1bGF0aW9uIHx8IChWaWV3RW5jYXBzdWxhdGlvbiA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcGlsZXJGYWNhZGUocmVxdWVzdCkge1xuICAgIGNvbnN0IGdsb2JhbE5nID0gX2dsb2JhbFsnbmcnXTtcbiAgICBpZiAoZ2xvYmFsTmcgJiYgZ2xvYmFsTmcuybVjb21waWxlckZhY2FkZSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsTmcuybVjb21waWxlckZhY2FkZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAvLyBMb2cgdGhlIHR5cGUgYXMgYW4gZXJyb3Igc28gdGhhdCBhIGRldmVsb3BlciBjYW4gZWFzaWx5IG5hdmlnYXRlIHRvIHRoZSB0eXBlIGZyb20gdGhlXG4gICAgICAgIC8vIGNvbnNvbGUuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEpJVCBjb21waWxhdGlvbiBmYWlsZWQgZm9yICR7cmVxdWVzdC5raW5kfWAsIHJlcXVlc3QudHlwZSk7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYFRoZSAke3JlcXVlc3Qua2luZH0gJyR7cmVxdWVzdFxuICAgICAgICAgICAgLnR5cGUubmFtZX0nIG5lZWRzIHRvIGJlIGNvbXBpbGVkIHVzaW5nIHRoZSBKSVQgY29tcGlsZXIsIGJ1dCAnQGFuZ3VsYXIvY29tcGlsZXInIGlzIG5vdCBhdmFpbGFibGUuXFxuXFxuYDtcbiAgICAgICAgaWYgKHJlcXVlc3QudXNhZ2UgPT09IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGBUaGUgJHtyZXF1ZXN0LmtpbmR9IGlzIHBhcnQgb2YgYSBsaWJyYXJ5IHRoYXQgaGFzIGJlZW4gcGFydGlhbGx5IGNvbXBpbGVkLlxcbmA7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYEhvd2V2ZXIsIHRoZSBBbmd1bGFyIExpbmtlciBoYXMgbm90IHByb2Nlc3NlZCB0aGUgbGlicmFyeSBzdWNoIHRoYXQgSklUIGNvbXBpbGF0aW9uIGlzIHVzZWQgYXMgZmFsbGJhY2suXFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbic7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYElkZWFsbHksIHRoZSBsaWJyYXJ5IGlzIHByb2Nlc3NlZCB1c2luZyB0aGUgQW5ndWxhciBMaW5rZXIgdG8gYmVjb21lIGZ1bGx5IEFPVCBjb21waWxlZC5cXG5gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgICAgIGBKSVQgY29tcGlsYXRpb24gaXMgZGlzY291cmFnZWQgZm9yIHByb2R1Y3Rpb24gdXNlLWNhc2VzISBDb25zaWRlciB1c2luZyBBT1QgbW9kZSBpbnN0ZWFkLlxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgYEFsdGVybmF0aXZlbHksIHRoZSBKSVQgY29tcGlsZXIgc2hvdWxkIGJlIGxvYWRlZCBieSBib290c3RyYXBwaW5nIHVzaW5nICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnIG9yICdAYW5ndWxhci9wbGF0Zm9ybS1zZXJ2ZXInLFxcbmA7XG4gICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgIGBvciBtYW51YWxseSBwcm92aWRlIHRoZSBjb21waWxlciB3aXRoICdpbXBvcnQgXCJAYW5ndWxhci9jb21waWxlclwiOycgYmVmb3JlIGJvb3RzdHJhcHBpbmcuYDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKSVQgY29tcGlsZXIgdW5hdmFpbGFibGUnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZXByZXNlbnRzIGEgdHlwZSB0aGF0IGEgQ29tcG9uZW50IG9yIG90aGVyIG9iamVjdCBpcyBpbnN0YW5jZXMgb2YuXG4gKlxuICogQW4gZXhhbXBsZSBvZiBhIGBUeXBlYCBpcyBgTXlDdXN0b21Db21wb25lbnRgIGNsYXNzLCB3aGljaCBpbiBKYXZhU2NyaXB0IGlzIHJlcHJlc2VudGVkIGJ5XG4gKiB0aGUgYE15Q3VzdG9tQ29tcG9uZW50YCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFR5cGUgPSBGdW5jdGlvbjtcbmZ1bmN0aW9uIGlzVHlwZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRXF1aXZhbGVudCB0byBFUzYgc3ByZWFkLCBhZGQgZWFjaCBpdGVtIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSBpdGVtcyBUaGUgaXRlbXMgdG8gYWRkXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSB0byB3aGljaCB5b3Ugd2FudCB0byBhZGQgdGhlIGl0ZW1zXG4gKi9cbmZ1bmN0aW9uIGFkZEFsbFRvQXJyYXkoaXRlbXMsIGFycikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyLnB1c2goaXRlbXNbaV0pO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgY29udGVudHMgb2YgdHdvIGFycmF5cyBpcyBpZGVudGljYWxcbiAqXG4gKiBAcGFyYW0gYSBmaXJzdCBhcnJheVxuICogQHBhcmFtIGIgc2Vjb25kIGFycmF5XG4gKiBAcGFyYW0gaWRlbnRpdHlBY2Nlc3NvciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgZXh0cmFjdGluZyBzdGFibGUgb2JqZWN0IGlkZW50aXR5IGZyb20gYSB2YWx1ZSBpblxuICogICAgIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlFcXVhbHMoYSwgYiwgaWRlbnRpdHlBY2Nlc3Nvcikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlQSA9IGFbaV07XG4gICAgICAgIGxldCB2YWx1ZUIgPSBiW2ldO1xuICAgICAgICBpZiAoaWRlbnRpdHlBY2Nlc3Nvcikge1xuICAgICAgICAgICAgdmFsdWVBID0gaWRlbnRpdHlBY2Nlc3Nvcih2YWx1ZUEpO1xuICAgICAgICAgICAgdmFsdWVCID0gaWRlbnRpdHlBY2Nlc3Nvcih2YWx1ZUIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZUIgIT09IHZhbHVlQSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBGbGF0dGVucyBhbiBhcnJheS5cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihsaXN0LCBkc3QpIHtcbiAgICBpZiAoZHN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIGRzdCA9IGxpc3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBpdGVtID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW5saW5lIGl0LlxuICAgICAgICAgICAgaWYgKGRzdCA9PT0gbGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIE91ciBhc3N1bXB0aW9uIHRoYXQgdGhlIGxpc3Qgd2FzIGFscmVhZHkgZmxhdCB3YXMgd3JvbmcgYW5kXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjbG9uZSBmbGF0IHNpbmNlIHdlIG5lZWQgdG8gd3JpdGUgdG8gaXQuXG4gICAgICAgICAgICAgICAgZHN0ID0gbGlzdC5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsYXR0ZW4oaXRlbSwgZHN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkc3QgIT09IGxpc3QpIHtcbiAgICAgICAgICAgIGRzdC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG5mdW5jdGlvbiBkZWVwRm9yRWFjaChpbnB1dCwgZm4pIHtcbiAgICBpbnB1dC5mb3JFYWNoKHZhbHVlID0+IEFycmF5LmlzQXJyYXkodmFsdWUpID8gZGVlcEZvckVhY2godmFsdWUsIGZuKSA6IGZuKHZhbHVlKSk7XG59XG5mdW5jdGlvbiBhZGRUb0FycmF5KGFyciwgaW5kZXgsIHZhbHVlKSB7XG4gICAgLy8gcGVyZjogYXJyYXkucHVzaCBpcyBmYXN0ZXIgdGhhbiBhcnJheS5zcGxpY2UhXG4gICAgaWYgKGluZGV4ID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUZyb21BcnJheShhcnIsIGluZGV4KSB7XG4gICAgLy8gcGVyZjogYXJyYXkucG9wIGlzIGZhc3RlciB0aGFuIGFycmF5LnNwbGljZSFcbiAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIGFyci5wb3AoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXdBcnJheShzaXplLCB2YWx1ZSkge1xuICAgIGNvbnN0IGxpc3QgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbn1cbi8qKlxuICogUmVtb3ZlIGl0ZW0gZnJvbSBhcnJheSAoU2FtZSBhcyBgQXJyYXkuc3BsaWNlKClgIGJ1dCBmYXN0ZXIuKVxuICpcbiAqIGBBcnJheS5zcGxpY2UoKWAgaXMgbm90IGFzIGZhc3QgYmVjYXVzZSBpdCBoYXMgdG8gYWxsb2NhdGUgYW4gYXJyYXkgZm9yIHRoZSBlbGVtZW50cyB3aGljaCB3ZXJlXG4gKiByZW1vdmVkLiBUaGlzIGNhdXNlcyBtZW1vcnkgcHJlc3N1cmUgYW5kIHNsb3dzIGRvd24gY29kZSB3aGVuIG1vc3Qgb2YgdGhlIHRpbWUgd2UgZG9uJ3RcbiAqIGNhcmUgYWJvdXQgdGhlIGRlbGV0ZWQgaXRlbXMgYXJyYXkuXG4gKlxuICogaHR0cHM6Ly9qc3BlcmYuY29tL2Zhc3QtYXJyYXktc3BsaWNlIChBYm91dCAyMHggZmFzdGVyKVxuICpcbiAqIEBwYXJhbSBhcnJheSBBcnJheSB0byBzcGxpY2VcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiBlbGVtZW50IGluIGFycmF5IHRvIHJlbW92ZS5cbiAqIEBwYXJhbSBjb3VudCBOdW1iZXIgb2YgaXRlbXMgdG8gcmVtb3ZlLlxuICovXG5mdW5jdGlvbiBhcnJheVNwbGljZShhcnJheSwgaW5kZXgsIGNvdW50KSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIC0gY291bnQ7XG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W2luZGV4ICsgY291bnRdO1xuICAgICAgICBpbmRleCsrO1xuICAgIH1cbiAgICB3aGlsZSAoY291bnQtLSkge1xuICAgICAgICBhcnJheS5wb3AoKTsgLy8gc2hyaW5rIHRoZSBhcnJheVxuICAgIH1cbn1cbi8qKlxuICogU2FtZSBhcyBgQXJyYXkuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSlgIGJ1dCBmYXN0ZXIuXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQXJyYXkgdG8gc3BsaWNlLlxuICogQHBhcmFtIGluZGV4IEluZGV4IGluIGFycmF5IHdoZXJlIHRoZSBgdmFsdWVgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBhZGQgdG8gYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0KGFycmF5LCBpbmRleCwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW5PckVxdWFsKGluZGV4LCBhcnJheS5sZW5ndGgsICdDYW5cXCd0IGluc2VydCBwYXN0IGFycmF5IGVuZC4nKTtcbiAgICBsZXQgZW5kID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChlbmQgPiBpbmRleCkge1xuICAgICAgICBjb25zdCBwcmV2aW91c0VuZCA9IGVuZCAtIDE7XG4gICAgICAgIGFycmF5W2VuZF0gPSBhcnJheVtwcmV2aW91c0VuZF07XG4gICAgICAgIGVuZCA9IHByZXZpb3VzRW5kO1xuICAgIH1cbiAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbn1cbi8qKlxuICogU2FtZSBhcyBgQXJyYXkuc3BsaWNlMihpbmRleCwgMCwgdmFsdWUxLCB2YWx1ZTIpYCBidXQgZmFzdGVyLlxuICpcbiAqIGBBcnJheS5zcGxpY2UoKWAgaXMgbm90IGZhc3QgYmVjYXVzZSBpdCBoYXMgdG8gYWxsb2NhdGUgYW4gYXJyYXkgZm9yIHRoZSBlbGVtZW50cyB3aGljaCB3ZXJlXG4gKiByZW1vdmVkLiBUaGlzIGNhdXNlcyBtZW1vcnkgcHJlc3N1cmUgYW5kIHNsb3dzIGRvd24gY29kZSB3aGVuIG1vc3Qgb2YgdGhlIHRpbWUgd2UgZG9uJ3RcbiAqIGNhcmUgYWJvdXQgdGhlIGRlbGV0ZWQgaXRlbXMgYXJyYXkuXG4gKlxuICogQHBhcmFtIGFycmF5IEFycmF5IHRvIHNwbGljZS5cbiAqIEBwYXJhbSBpbmRleCBJbmRleCBpbiBhcnJheSB3aGVyZSB0aGUgYHZhbHVlYCBzaG91bGQgYmUgYWRkZWQuXG4gKiBAcGFyYW0gdmFsdWUxIFZhbHVlIHRvIGFkZCB0byBhcnJheS5cbiAqIEBwYXJhbSB2YWx1ZTIgVmFsdWUgdG8gYWRkIHRvIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUluc2VydDIoYXJyYXksIGluZGV4LCB2YWx1ZTEsIHZhbHVlMikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoaW5kZXgsIGFycmF5Lmxlbmd0aCwgJ0NhblxcJ3QgaW5zZXJ0IHBhc3QgYXJyYXkgZW5kLicpO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGVuZCA9PSBpbmRleCkge1xuICAgICAgICAvLyBpbnNlcnRpbmcgYXQgdGhlIGVuZC5cbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZTEsIHZhbHVlMik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVuZCA9PT0gMSkge1xuICAgICAgICAvLyBjb3JuZXIgY2FzZSB3aGVuIHdlIGhhdmUgbGVzcyBpdGVtcyBpbiBhcnJheSB0aGFuIHdlIGhhdmUgaXRlbXMgdG8gaW5zZXJ0LlxuICAgICAgICBhcnJheS5wdXNoKHZhbHVlMiwgYXJyYXlbMF0pO1xuICAgICAgICBhcnJheVswXSA9IHZhbHVlMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVuZC0tO1xuICAgICAgICBhcnJheS5wdXNoKGFycmF5W2VuZCAtIDFdLCBhcnJheVtlbmRdKTtcbiAgICAgICAgd2hpbGUgKGVuZCA+IGluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0VuZCA9IGVuZCAtIDI7XG4gICAgICAgICAgICBhcnJheVtlbmRdID0gYXJyYXlbcHJldmlvdXNFbmRdO1xuICAgICAgICAgICAgZW5kLS07XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWUxO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gdmFsdWUyO1xuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0IGEgYHZhbHVlYCBpbnRvIGFuIGBhcnJheWAgc28gdGhhdCB0aGUgYXJyYXkgcmVtYWlucyBzb3J0ZWQuXG4gKlxuICogTk9URTpcbiAqIC0gRHVwbGljYXRlcyBhcmUgbm90IGFsbG93ZWQsIGFuZCBhcmUgaWdub3JlZC5cbiAqIC0gVGhpcyB1c2VzIGJpbmFyeSBzZWFyY2ggYWxnb3JpdGhtIGZvciBmYXN0IGluc2VydHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGluc2VydCBpbnRvLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNlcnQuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgaW5zZXJ0ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0U29ydGVkKGFycmF5LCB2YWx1ZSkge1xuICAgIGxldCBpbmRleCA9IGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgLy8gaWYgd2UgZGlkIG5vdCBmaW5kIGl0IGluc2VydCBpdC5cbiAgICAgICAgaW5kZXggPSB+aW5kZXg7XG4gICAgICAgIGFycmF5SW5zZXJ0KGFycmF5LCBpbmRleCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIFJlbW92ZSBgdmFsdWVgIGZyb20gYSBzb3J0ZWQgYGFycmF5YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIHJlbW92ZSBmcm9tLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgcmVtb3ZlZCB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZCBhbmQgcmVtb3ZlZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqICAgICBpbnNlcnRlZClcbiAqL1xuZnVuY3Rpb24gYXJyYXlSZW1vdmVTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnJheUluZGV4T2ZTb3J0ZWQoYXJyYXksIHZhbHVlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVNwbGljZShhcnJheSwgaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIEdldCBhbiBpbmRleCBvZiBhbiBgdmFsdWVgIGluIGEgc29ydGVkIGBhcnJheWAuXG4gKlxuICogTk9URTpcbiAqIC0gVGhpcyB1c2VzIGJpbmFyeSBzZWFyY2ggYWxnb3JpdGhtIGZvciBmYXN0IHJlbW92YWxzLlxuICpcbiAqIEBwYXJhbSBhcnJheSBBIHNvcnRlZCBhcnJheSB0byBiaW5hcnkgc2VhcmNoLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBsb29rIGZvci5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqICAgICBsb2NhdGVkKVxuICovXG5mdW5jdGlvbiBhcnJheUluZGV4T2ZTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIF9hcnJheUluZGV4T2ZTb3J0ZWQoYXJyYXksIHZhbHVlLCAwKTtcbn1cbi8qKlxuICogU2V0IGEgYHZhbHVlYCBmb3IgYSBga2V5YC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlIG9yIGNyZWF0ZS5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IGZvciBhIGBrZXlgLlxuICogQHJldHVybnMgaW5kZXggKGFsd2F5cyBldmVuKSBvZiB3aGVyZSB0aGUgdmFsdWUgdmFzIHNldC5cbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0ga2V5VmFsdWVBcnJheUluZGV4T2Yoa2V5VmFsdWVBcnJheSwga2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBpdCBzZXQgaXQuXG4gICAgICAgIGtleVZhbHVlQXJyYXlbaW5kZXggfCAxXSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5kZXggPSB+aW5kZXg7XG4gICAgICAgIGFycmF5SW5zZXJ0MihrZXlWYWx1ZUFycmF5LCBpbmRleCwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogUmV0cmlldmUgYSBgdmFsdWVgIGZvciBhIGBrZXlgIChvbiBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuKVxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUuXG4gKiBAcmV0dXJuIFRoZSBgdmFsdWVgIHN0b3JlZCBhdCB0aGUgYGtleWAgbG9jYXRpb24gb3IgYHVuZGVmaW5lZCBpZiBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGtleVZhbHVlQXJyYXlHZXQoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgY29uc3QgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHJldHJpZXZlIGl0LlxuICAgICAgICByZXR1cm4ga2V5VmFsdWVBcnJheVtpbmRleCB8IDFdO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIGBrZXlgIGluZGV4IHZhbHVlIGluIHRoZSBhcnJheSBvciBgLTFgIGlmIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBzZWFyY2guXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlLlxuICogQHJldHVybnMgaW5kZXggb2Ygd2hlcmUgdGhlIGtleSBpcyAob3Igc2hvdWxkIGhhdmUgYmVlbi4pXG4gKiAgIC0gcG9zaXRpdmUgKGV2ZW4pIGluZGV4IGlmIGtleSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiBrZXkgbm90IGZvdW5kLiAoYH5pbmRleGAgKGV2ZW4pIHRvIGdldCB0aGUgaW5kZXggd2hlcmUgaXQgc2hvdWxkIGhhdmVcbiAqICAgICBiZWVuIGluc2VydGVkLilcbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheUluZGV4T2Yoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgcmV0dXJuIF9hcnJheUluZGV4T2ZTb3J0ZWQoa2V5VmFsdWVBcnJheSwga2V5LCAxKTtcbn1cbi8qKlxuICogRGVsZXRlIGEgYGtleWAgKGFuZCBgdmFsdWVgKSBmcm9tIHRoZSBgS2V5VmFsdWVBcnJheWAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGxvY2F0ZSBvciBkZWxldGUgKGlmIGV4aXN0KS5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHdoZXJlIHRoZSBrZXkgd2FzIChvciBzaG91bGQgaGF2ZSBiZWVuLilcbiAqICAgLSBwb3NpdGl2ZSAoZXZlbikgaW5kZXggaWYga2V5IGZvdW5kIGFuZCBkZWxldGVkLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIGtleSBub3QgZm91bmQuIChgfmluZGV4YCAoZXZlbikgdG8gZ2V0IHRoZSBpbmRleCB3aGVyZSBpdCBzaG91bGQgaGF2ZVxuICogICAgIGJlZW4uKVxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5RGVsZXRlKGtleVZhbHVlQXJyYXksIGtleSkge1xuICAgIGNvbnN0IGluZGV4ID0ga2V5VmFsdWVBcnJheUluZGV4T2Yoa2V5VmFsdWVBcnJheSwga2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBpdCByZW1vdmUgaXQuXG4gICAgICAgIGFycmF5U3BsaWNlKGtleVZhbHVlQXJyYXksIGluZGV4LCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBJTlRFUk5BTDogR2V0IGFuIGluZGV4IG9mIGFuIGB2YWx1ZWAgaW4gYSBzb3J0ZWQgYGFycmF5YCBieSBncm91cGluZyBzZWFyY2ggYnkgYHNoaWZ0YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGJpbmFyeSBzZWFyY2guXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIHNoaWZ0IGdyb3VwaW5nIHNoaWZ0LlxuICogICAtIGAwYCBtZWFucyBsb29rIGF0IGV2ZXJ5IGxvY2F0aW9uXG4gKiAgIC0gYDFgIG1lYW5zIG9ubHkgbG9vayBhdCBldmVyeSBvdGhlciAoZXZlbikgbG9jYXRpb24gKHRoZSBvZGQgbG9jYXRpb25zIGFyZSB0byBiZSBpZ25vcmVkIGFzXG4gKiAgICAgICAgIHRoZXkgYXJlIHZhbHVlcy4pXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgdmFsdWUuXG4gKiAgIC0gcG9zaXRpdmUgaW5kZXggaWYgdmFsdWUgZm91bmQuXG4gKiAgIC0gbmVnYXRpdmUgaW5kZXggaWYgdmFsdWUgbm90IGZvdW5kLiAoYH5pbmRleGAgdG8gZ2V0IHRoZSB2YWx1ZSB3aGVyZSBpdCBzaG91bGQgaGF2ZSBiZWVuXG4gKiBpbnNlcnRlZClcbiAqL1xuZnVuY3Rpb24gX2FycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUsIHNoaWZ0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKEFycmF5LmlzQXJyYXkoYXJyYXkpLCB0cnVlLCAnRXhwZWN0aW5nIGFuIGFycmF5Jyk7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gYXJyYXkubGVuZ3RoID4+IHNoaWZ0O1xuICAgIHdoaWxlIChlbmQgIT09IHN0YXJ0KSB7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IHN0YXJ0ICsgKChlbmQgLSBzdGFydCkgPj4gMSk7IC8vIGZpbmQgdGhlIG1pZGRsZS5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IGFycmF5W21pZGRsZSA8PCBzaGlmdF07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChtaWRkbGUgPDwgc2hpZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgPiB2YWx1ZSkge1xuICAgICAgICAgICAgZW5kID0gbWlkZGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxOyAvLyBXZSBhbHJlYWR5IHNlYXJjaGVkIG1pZGRsZSBzbyBtYWtlIGl0IG5vbi1pbmNsdXNpdmUgYnkgYWRkaW5nIDFcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gfihlbmQgPDwgc2hpZnQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qXG4gKiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gKiBBdHRlbnRpb246IFRoZXNlIFJlZ3VsYXIgZXhwcmVzc2lvbnMgaGF2ZSB0byBob2xkIGV2ZW4gaWYgdGhlIGNvZGUgaXMgbWluaWZpZWQhXG4gKiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICovXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgcGFzcy10aHJvdWdoIGNvbnN0cnVjdG9ycyBmb3IgRVM1IG91dHB1dC4gVGhpcyBSZWdleFxuICogaW50ZW5kcyB0byBjYXB0dXJlIHRoZSBjb21tb24gZGVsZWdhdGlvbiBwYXR0ZXJuIGVtaXR0ZWQgYnkgVHlwZVNjcmlwdCBhbmQgQmFiZWwuIEFsc29cbiAqIGl0IGludGVuZHMgdG8gY2FwdHVyZSB0aGUgcGF0dGVybiB3aGVyZSBleGlzdGluZyBjb25zdHJ1Y3RvcnMgaGF2ZSBiZWVuIGRvd25sZXZlbGVkIGZyb21cbiAqIEVTMjAxNSB0byBFUzUgdXNpbmcgVHlwZVNjcmlwdCB3LyBkb3dubGV2ZWwgaXRlcmF0aW9uLiBlLmcuXG4gKlxuICogYGBgXG4gKiAgIGZ1bmN0aW9uIE15Q2xhc3MoKSB7XG4gKiAgICAgdmFyIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIGRvd25sZXZlbGVkIHRvIEVTNSB3aXRoIGBkb3dubGV2ZWxJdGVyYXRpb25gIGZvciBUeXBlU2NyaXB0IDwgNC4yOlxuICogYGBgXG4gKiAgIGZ1bmN0aW9uIE15Q2xhc3MoKSB7XG4gKiAgICAgdmFyIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkKGFyZ3VtZW50cykpIHx8IHRoaXM7XG4gKiBgYGBcbiAqXG4gKiBvciBkb3dubGV2ZWxlZCB0byBFUzUgd2l0aCBgZG93bmxldmVsSXRlcmF0aW9uYCBmb3IgVHlwZVNjcmlwdCA+PSA0LjI6XG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3VtZW50cyksIGZhbHNlKSkgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM4NDUzLlxuICovXG5jb25zdCBFUzVfREVMRUdBVEVfQ1RPUiA9IC9eZnVuY3Rpb25cXHMrXFxTK1xcKFxcKVxccyp7W1xcc1xcU10rXFwuYXBwbHlcXCh0aGlzLFxccyooYXJndW1lbnRzfCg/OlteKCldK1xcKFxcW1xcXSwpP1teKCldK1xcKGFyZ3VtZW50c1xcKS4qKVxcKS87XG4vKiogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBFUzIwMTUgY2xhc3NlcyB3aGljaCBleHRlbmQgZnJvbSBvdGhlciBjbGFzc2VzLiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTUyA9IC9eY2xhc3NcXHMrW0EtWmEtelxcZCRfXSpcXHMqZXh0ZW5kc1xccytbXntdK3svO1xuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBkZXRlY3RzIEVTMjAxNSBjbGFzc2VzIHdoaWNoIGV4dGVuZCBmcm9tIG90aGVyIGNsYXNzZXMgYW5kXG4gKiBoYXZlIGFuIGV4cGxpY2l0IGNvbnN0cnVjdG9yIGRlZmluZWQuXG4gKi9cbmNvbnN0IEVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9DVE9SID0gL15jbGFzc1xccytbQS1aYS16XFxkJF9dKlxccypleHRlbmRzXFxzK1tee10re1tcXHNcXFNdKmNvbnN0cnVjdG9yXFxzKlxcKC87XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgRVMyMDE1IGNsYXNzZXMgd2hpY2ggZXh0ZW5kIGZyb20gb3RoZXIgY2xhc3Nlc1xuICogYW5kIGluaGVyaXQgYSBjb25zdHJ1Y3Rvci5cbiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0RFTEVHQVRFX0NUT1IgPSAvXmNsYXNzXFxzK1tBLVphLXpcXGQkX10qXFxzKmV4dGVuZHNcXHMrW157XSt7W1xcc1xcU10qY29uc3RydWN0b3JcXHMqXFwoXFwpXFxzKntbXn1dKnN1cGVyXFwoXFwuXFwuXFwuYXJndW1lbnRzXFwpLztcbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBzdHJpbmdpZmllZCB0eXBlIGlzIGEgY2xhc3Mgd2hpY2ggZGVsZWdhdGVzIGl0cyBjb25zdHJ1Y3RvclxuICogdG8gaXRzIHBhcmVudC5cbiAqXG4gKiBUaGlzIGlzIG5vdCB0cml2aWFsIHNpbmNlIGNvbXBpbGVkIGNvZGUgY2FuIGFjdHVhbGx5IGNvbnRhaW4gYSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICogZXZlbiBpZiB0aGUgb3JpZ2luYWwgc291cmNlIGNvZGUgZGlkIG5vdC4gRm9yIGluc3RhbmNlLCB3aGVuIHRoZSBjaGlsZCBjbGFzcyBjb250YWluc1xuICogYW4gaW5pdGlhbGl6ZWQgaW5zdGFuY2UgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGlzRGVsZWdhdGVDdG9yKHR5cGVTdHIpIHtcbiAgICByZXR1cm4gRVM1X0RFTEVHQVRFX0NUT1IudGVzdCh0eXBlU3RyKSB8fFxuICAgICAgICBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUi50ZXN0KHR5cGVTdHIpIHx8XG4gICAgICAgIChFUzIwMTVfSU5IRVJJVEVEX0NMQVNTLnRlc3QodHlwZVN0cikgJiYgIUVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9DVE9SLnRlc3QodHlwZVN0cikpO1xufVxuY2xhc3MgUmVmbGVjdGlvbkNhcGFiaWxpdGllcyB7XG4gICAgY29uc3RydWN0b3IocmVmbGVjdCkge1xuICAgICAgICB0aGlzLl9yZWZsZWN0ID0gcmVmbGVjdCB8fCBfZ2xvYmFsWydSZWZsZWN0J107XG4gICAgfVxuICAgIGlzUmVmbGVjdGlvbkVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmYWN0b3J5KHQpIHtcbiAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiBuZXcgdCguLi5hcmdzKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbVR5cGVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3QXJyYXkocGFyYW1Bbm5vdGF0aW9ucy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3QXJyYXkocGFyYW1UeXBlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUUyBvdXRwdXRzIE9iamVjdCBmb3IgcGFyYW1ldGVycyB3aXRob3V0IHR5cGVzLCB3aGlsZSBUcmFjZXVyIG9taXRzXG4gICAgICAgICAgICAvLyB0aGUgYW5ub3RhdGlvbnMuIEZvciBub3cgd2UgcHJlc2VydmUgdGhlIFRyYWNldXIgYmVoYXZpb3IgdG8gYWlkXG4gICAgICAgICAgICAvLyBtaWdyYXRpb24sIGJ1dCB0aGlzIGNhbiBiZSByZXZpc2l0ZWQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbVR5cGVzW2ldICYmIHBhcmFtVHlwZXNbaV0gIT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW3BhcmFtVHlwZXNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1Bbm5vdGF0aW9ucyAmJiBwYXJhbUFubm90YXRpb25zW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSByZXN1bHRbaV0uY29uY2F0KHBhcmFtQW5ub3RhdGlvbnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9vd25QYXJhbWV0ZXJzKHR5cGUsIHBhcmVudEN0b3IpIHtcbiAgICAgICAgY29uc3QgdHlwZVN0ciA9IHR5cGUudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBubyBkZWNvcmF0b3JzLCB3ZSBvbmx5IGhhdmUgZnVuY3Rpb24ubGVuZ3RoIGFzIG1ldGFkYXRhLlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRvIGRldGVjdCB3aGV0aGVyIGEgY2hpbGQgY2xhc3MgZGVjbGFyZWQgYW4gb3duIGNvbnN0cnVjdG9yIG9yIG5vdCxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBsb29rIGluc2lkZSBvZiB0aGF0IGNvbnN0cnVjdG9yIHRvIGNoZWNrIHdoZXRoZXIgaXQgaXNcbiAgICAgICAgLy8ganVzdCBjYWxsaW5nIHRoZSBwYXJlbnQuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBoZWxwcyB0byB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMjQzOVxuICAgICAgICAvLyB0aGF0IHNldHMgJ2Rlc2lnbjpwYXJhbXR5cGVzJyB0byBbXVxuICAgICAgICAvLyBpZiBhIGNsYXNzIGluaGVyaXRzIGZyb20gYW5vdGhlciBjbGFzcyBidXQgaGFzIG5vIGN0b3IgZGVjbGFyZWQgaXRzZWxmLlxuICAgICAgICBpZiAoaXNEZWxlZ2F0ZUN0b3IodHlwZVN0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGUucGFyYW1ldGVycyAmJiB0eXBlLnBhcmFtZXRlcnMgIT09IHBhcmVudEN0b3IucGFyYW1ldGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUucGFyYW1ldGVycztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgY29uc3QgdHNpY2tsZUN0b3JQYXJhbXMgPSB0eXBlLmN0b3JQYXJhbWV0ZXJzO1xuICAgICAgICBpZiAodHNpY2tsZUN0b3JQYXJhbXMgJiYgdHNpY2tsZUN0b3JQYXJhbXMgIT09IHBhcmVudEN0b3IuY3RvclBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIC8vIE5ld2VyIHRzaWNrbGUgdXNlcyBhIGZ1bmN0aW9uIGNsb3N1cmVcbiAgICAgICAgICAgIC8vIFJldGFpbiB0aGUgbm9uLWZ1bmN0aW9uIGNhc2UgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciB0c2lja2xlXG4gICAgICAgICAgICBjb25zdCBjdG9yUGFyYW1ldGVycyA9IHR5cGVvZiB0c2lja2xlQ3RvclBhcmFtcyA9PT0gJ2Z1bmN0aW9uJyA/IHRzaWNrbGVDdG9yUGFyYW1zKCkgOiB0c2lja2xlQ3RvclBhcmFtcztcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtVHlwZXMgPSBjdG9yUGFyYW1ldGVycy5tYXAoKGN0b3JQYXJhbSkgPT4gY3RvclBhcmFtICYmIGN0b3JQYXJhbS50eXBlKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtQW5ub3RhdGlvbnMgPSBjdG9yUGFyYW1ldGVycy5tYXAoKGN0b3JQYXJhbSkgPT4gY3RvclBhcmFtICYmIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKGN0b3JQYXJhbS5kZWNvcmF0b3JzKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5femlwVHlwZXNBbmRBbm5vdGF0aW9ucyhwYXJhbVR5cGVzLCBwYXJhbUFubm90YXRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGNvbnN0IHBhcmFtQW5ub3RhdGlvbnMgPSB0eXBlLmhhc093blByb3BlcnR5KFBBUkFNRVRFUlMpICYmIHR5cGVbUEFSQU1FVEVSU107XG4gICAgICAgIGNvbnN0IHBhcmFtVHlwZXMgPSB0aGlzLl9yZWZsZWN0ICYmIHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEgJiZcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgdHlwZSk7XG4gICAgICAgIGlmIChwYXJhbVR5cGVzIHx8IHBhcmFtQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgY2xhc3MgaGFzIG5vIGRlY29yYXRvcnMsIGF0IGxlYXN0IGNyZWF0ZSBtZXRhZGF0YVxuICAgICAgICAvLyBiYXNlZCBvbiBmdW5jdGlvbi5sZW5ndGguXG4gICAgICAgIC8vIE5vdGU6IFdlIGtub3cgdGhhdCB0aGlzIGlzIGEgcmVhbCBjb25zdHJ1Y3RvciBhcyB3ZSBjaGVja2VkXG4gICAgICAgIC8vIHRoZSBjb250ZW50IG9mIHRoZSBjb25zdHJ1Y3RvciBhYm92ZS5cbiAgICAgICAgcmV0dXJuIG5ld0FycmF5KHR5cGUubGVuZ3RoKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycyh0eXBlKSB7XG4gICAgICAgIC8vIE5vdGU6IG9ubHkgcmVwb3J0IG1ldGFkYXRhIGlmIHdlIGhhdmUgYXQgbGVhc3Qgb25lIGNsYXNzIGRlY29yYXRvclxuICAgICAgICAvLyB0byBzdGF5IGluIHN5bmMgd2l0aCB0aGUgc3RhdGljIHJlZmxlY3Rvci5cbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlKTtcbiAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSB0aGlzLl9vd25QYXJhbWV0ZXJzKHR5cGUsIHBhcmVudEN0b3IpO1xuICAgICAgICBpZiAoIXBhcmFtZXRlcnMgJiYgcGFyZW50Q3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzKHBhcmVudEN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJzIHx8IFtdO1xuICAgIH1cbiAgICBfb3duQW5ub3RhdGlvbnModHlwZU9yRnVuYywgcGFyZW50Q3Rvcikge1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRpcmVjdCBBUEkuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmFubm90YXRpb25zICYmIHR5cGVPckZ1bmMuYW5ub3RhdGlvbnMgIT09IHBhcmVudEN0b3IuYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCBhbm5vdGF0aW9ucyA9IHR5cGVPckZ1bmMuYW5ub3RhdGlvbnM7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFubm90YXRpb25zID09PSAnZnVuY3Rpb24nICYmIGFubm90YXRpb25zLmFubm90YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9ucztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuZGVjb3JhdG9ycyAmJiB0eXBlT3JGdW5jLmRlY29yYXRvcnMgIT09IHBhcmVudEN0b3IuZGVjb3JhdG9ycykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHR5cGVPckZ1bmMuZGVjb3JhdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5oYXNPd25Qcm9wZXJ0eShBTk5PVEFUSU9OUykpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlT3JGdW5jW0FOTk9UQVRJT05TXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYW5ub3RhdGlvbnModHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGVPckZ1bmMpO1xuICAgICAgICBjb25zdCBvd25Bbm5vdGF0aW9ucyA9IHRoaXMuX293bkFubm90YXRpb25zKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpIHx8IFtdO1xuICAgICAgICBjb25zdCBwYXJlbnRBbm5vdGF0aW9ucyA9IHBhcmVudEN0b3IgIT09IE9iamVjdCA/IHRoaXMuYW5ub3RhdGlvbnMocGFyZW50Q3RvcikgOiBbXTtcbiAgICAgICAgcmV0dXJuIHBhcmVudEFubm90YXRpb25zLmNvbmNhdChvd25Bbm5vdGF0aW9ucyk7XG4gICAgfVxuICAgIF9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgcGFyZW50Q3Rvcikge1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRpcmVjdCBBUEkuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLnByb3BNZXRhZGF0YSAmJlxuICAgICAgICAgICAgdHlwZU9yRnVuYy5wcm9wTWV0YWRhdGEgIT09IHBhcmVudEN0b3IucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICBsZXQgcHJvcE1ldGFkYXRhID0gdHlwZU9yRnVuYy5wcm9wTWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BNZXRhZGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhID0gcHJvcE1ldGFkYXRhLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9wTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIG9mIHRzaWNrbGUgZm9yIGxvd2VyaW5nIGRlY29yYXRvcnMgdG8gcHJvcGVydGllcyBvbiB0aGUgY2xhc3MuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzICYmXG4gICAgICAgICAgICB0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzICE9PSBwYXJlbnRDdG9yLnByb3BEZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wRGVjb3JhdG9ycyA9IHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnM7XG4gICAgICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb3BEZWNvcmF0b3JzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wXSA9IGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHByb3BEZWNvcmF0b3JzW3Byb3BdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmhhc093blByb3BlcnR5KFBST1BfTUVUQURBVEEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZU9yRnVuY1tQUk9QX01FVEFEQVRBXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZU9yRnVuYykpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKTtcbiAgICAgICAgY29uc3QgcHJvcE1ldGFkYXRhID0ge307XG4gICAgICAgIGlmIChwYXJlbnRDdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFByb3BNZXRhZGF0YSA9IHRoaXMucHJvcE1ldGFkYXRhKHBhcmVudEN0b3IpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyZW50UHJvcE1ldGFkYXRhKS5mb3JFYWNoKChwcm9wTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wTmFtZV0gPSBwYXJlbnRQcm9wTWV0YWRhdGFbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3duUHJvcE1ldGFkYXRhID0gdGhpcy5fb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpO1xuICAgICAgICBpZiAob3duUHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvd25Qcm9wTWV0YWRhdGEpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb3JhdG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29yYXRvcnMucHVzaCguLi5wcm9wTWV0YWRhdGFbcHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVjb3JhdG9ycy5wdXNoKC4uLm93blByb3BNZXRhZGF0YVtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wTmFtZV0gPSBkZWNvcmF0b3JzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICB9XG4gICAgb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZU9yRnVuYykpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMsIGdldFBhcmVudEN0b3IodHlwZU9yRnVuYykpIHx8IHt9O1xuICAgIH1cbiAgICBoYXNMaWZlY3ljbGVIb29rKHR5cGUsIGxjUHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgaW5zdGFuY2VvZiBUeXBlICYmIGxjUHJvcGVydHkgaW4gdHlwZS5wcm90b3R5cGU7XG4gICAgfVxuICAgIGd1YXJkcyh0eXBlKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZ2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICdyZXR1cm4gby4nICsgbmFtZSArICc7Jyk7XG4gICAgfVxuICAgIHNldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ28nLCAndicsICdyZXR1cm4gby4nICsgbmFtZSArICcgPSB2OycpO1xuICAgIH1cbiAgICBtZXRob2QobmFtZSkge1xuICAgICAgICBjb25zdCBmdW5jdGlvbkJvZHkgPSBgaWYgKCFvLiR7bmFtZX0pIHRocm93IG5ldyBFcnJvcignXCIke25hbWV9XCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIHJldHVybiBvLiR7bmFtZX0uYXBwbHkobywgYXJncyk7YDtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICdhcmdzJywgZnVuY3Rpb25Cb2R5KTtcbiAgICB9XG4gICAgLy8gVGhlcmUgaXMgbm90IGEgY29uY2VwdCBvZiBpbXBvcnQgdXJpIGluIEpzLCBidXQgdGhpcyBpcyB1c2VmdWwgaW4gZGV2ZWxvcGluZyBEYXJ0IGFwcGxpY2F0aW9ucy5cbiAgICBpbXBvcnRVcmkodHlwZSkge1xuICAgICAgICAvLyBTdGF0aWNTeW1ib2xcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlWydmaWxlUGF0aCddKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZVsnZmlsZVBhdGgnXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSdW50aW1lIHR5cGVcbiAgICAgICAgcmV0dXJuIGAuLyR7c3RyaW5naWZ5KHR5cGUpfWA7XG4gICAgfVxuICAgIHJlc291cmNlVXJpKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGAuLyR7c3RyaW5naWZ5KHR5cGUpfWA7XG4gICAgfVxuICAgIHJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gcnVudGltZTtcbiAgICB9XG4gICAgcmVzb2x2ZUVudW0oZW51bUlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVudW1JZGVudGlmaWVyW25hbWVdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKGRlY29yYXRvckludm9jYXRpb25zKSB7XG4gICAgaWYgKCFkZWNvcmF0b3JJbnZvY2F0aW9ucykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBkZWNvcmF0b3JJbnZvY2F0aW9ucy5tYXAoZGVjb3JhdG9ySW52b2NhdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGRlY29yYXRvclR5cGUgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLnR5cGU7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25DbHMgPSBkZWNvcmF0b3JUeXBlLmFubm90YXRpb25DbHM7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25BcmdzID0gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzID8gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzIDogW107XG4gICAgICAgIHJldHVybiBuZXcgYW5ub3RhdGlvbkNscyguLi5hbm5vdGF0aW9uQXJncyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRDdG9yKGN0b3IpIHtcbiAgICBjb25zdCBwYXJlbnRQcm90byA9IGN0b3IucHJvdG90eXBlID8gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN0b3IucHJvdG90eXBlKSA6IG51bGw7XG4gICAgY29uc3QgcGFyZW50Q3RvciA9IHBhcmVudFByb3RvID8gcGFyZW50UHJvdG8uY29uc3RydWN0b3IgOiBudWxsO1xuICAgIC8vIE5vdGU6IFdlIGFsd2F5cyB1c2UgYE9iamVjdGAgYXMgdGhlIG51bGwgdmFsdWVcbiAgICAvLyB0byBzaW1wbGlmeSBjaGVja2luZyBsYXRlciBvbi5cbiAgICByZXR1cm4gcGFyZW50Q3RvciB8fCBPYmplY3Q7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX1RIUk9XX0lGX05PVF9GT1VORCA9IHt9O1xuY29uc3QgVEhST1dfSUZfTk9UX0ZPVU5EID0gX1RIUk9XX0lGX05PVF9GT1VORDtcbi8qXG4gKiBOYW1lIG9mIGEgcHJvcGVydHkgKHRoYXQgd2UgcGF0Y2ggb250byBESSBkZWNvcmF0b3IpLCB3aGljaCBpcyB1c2VkIGFzIGFuIGFubm90YXRpb24gb2Ygd2hpY2hcbiAqIEluamVjdEZsYWcgdGhpcyBkZWNvcmF0b3IgcmVwcmVzZW50cy4gVGhpcyBhbGxvd3MgdG8gYXZvaWQgZGlyZWN0IHJlZmVyZW5jZXMgdG8gdGhlIERJIGRlY29yYXRvcnNcbiAqIGluIHRoZSBjb2RlLCB0aHVzIG1ha2luZyB0aGVtIHRyZWUtc2hha2FibGUuXG4gKi9cbmNvbnN0IERJX0RFQ09SQVRPUl9GTEFHID0gJ19fTkdfRElfRkxBR19fJztcbmNvbnN0IE5HX1RFTVBfVE9LRU5fUEFUSCA9ICduZ1RlbXBUb2tlblBhdGgnO1xuY29uc3QgTkdfVE9LRU5fUEFUSCA9ICduZ1Rva2VuUGF0aCc7XG5jb25zdCBORVdfTElORSA9IC9cXG4vZ207XG5jb25zdCBOT19ORVdfTElORSA9ICfJtSc7XG5jb25zdCBTT1VSQ0UgPSAnX19zb3VyY2UnO1xuY29uc3QgVVNFX1ZBTFVFJDEgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgcHJvdmlkZTogU3RyaW5nLCB1c2VWYWx1ZTogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogQ3VycmVudCBpbmplY3RvciB2YWx1ZSB1c2VkIGJ5IGBpbmplY3RgLlxuICogLSBgdW5kZWZpbmVkYDogaXQgaXMgYW4gZXJyb3IgdG8gY2FsbCBgaW5qZWN0YFxuICogLSBgbnVsbGA6IGBpbmplY3RgIGNhbiBiZSBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIGluamVjdG9yIChsaW1wLW1vZGUpLlxuICogLSBJbmplY3RvciBpbnN0YW5jZTogVXNlIHRoZSBpbmplY3RvciBmb3IgcmVzb2x1dGlvbi5cbiAqL1xubGV0IF9jdXJyZW50SW5qZWN0b3IgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBzZXRDdXJyZW50SW5qZWN0b3IoaW5qZWN0b3IpIHtcbiAgICBjb25zdCBmb3JtZXIgPSBfY3VycmVudEluamVjdG9yO1xuICAgIF9jdXJyZW50SW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICByZXR1cm4gZm9ybWVyO1xufVxuZnVuY3Rpb24gaW5qZWN0SW5qZWN0b3JPbmx5KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICBpZiAoX2N1cnJlbnRJbmplY3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgIGBpbmplY3QoKSBtdXN0IGJlIGNhbGxlZCBmcm9tIGFuIGluamVjdGlvbiBjb250ZXh0YCA6XG4gICAgICAgICAgICAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDMgLyogTUlTU0lOR19JTkpFQ1RJT05fQ09OVEVYVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoX2N1cnJlbnRJbmplY3RvciA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCB1bmRlZmluZWQsIGZsYWdzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBfY3VycmVudEluamVjdG9yLmdldCh0b2tlbiwgZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCA/IG51bGwgOiB1bmRlZmluZWQsIGZsYWdzKTtcbiAgICB9XG59XG5mdW5jdGlvbiDJtcm1aW5qZWN0KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICByZXR1cm4gKGdldEluamVjdEltcGxlbWVudGF0aW9uKCkgfHwgaW5qZWN0SW5qZWN0b3JPbmx5KShyZXNvbHZlRm9yd2FyZFJlZih0b2tlbiksIGZsYWdzKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCBhIGZhY3RvcnkgZnVuY3Rpb24gY291bGQgbm90IGJlIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgZm9yIGFcbiAqIHBhcnRpY3VsYXIgY2xhc3MuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhbGxvd3MgdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHRvIGJlIG9wdGltaXplZCBhd2F5IHdoZW4gbmdEZXZNb2RlIGlzIHR1cm5lZFxuICogb2ZmLCBzYXZpbmcgYnl0ZXMgb2YgZ2VuZXJhdGVkIGNvZGUgd2hpbGUgc3RpbGwgcHJvdmlkaW5nIGEgZ29vZCBleHBlcmllbmNlIGluIGRldiBtb2RlLlxuICpcbiAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzcyBpcyBub3QgbWVudGlvbmVkIGhlcmUsIGJ1dCB3aWxsIGJlIGluIHRoZSBnZW5lcmF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBuYW1lXG4gKiBhbmQgdGh1cyBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWludmFsaWRGYWN0b3J5RGVwKGluZGV4KSB7XG4gICAgY29uc3QgbXNnID0gbmdEZXZNb2RlID9cbiAgICAgICAgYFRoaXMgY29uc3RydWN0b3IgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBBbmd1bGFyIERlcGVuZGVuY3kgSW5qZWN0aW9uIGJlY2F1c2UgaXRzIGRlcGVuZGVuY3kgYXQgaW5kZXggJHtpbmRleH0gb2YgdGhlIHBhcmFtZXRlciBsaXN0IGlzIGludmFsaWQuXG5UaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGRlcGVuZGVuY3kgdHlwZSBpcyBhIHByaW1pdGl2ZSBsaWtlIGEgc3RyaW5nIG9yIGlmIGFuIGFuY2VzdG9yIG9mIHRoaXMgY2xhc3MgaXMgbWlzc2luZyBhbiBBbmd1bGFyIGRlY29yYXRvci5cblxuUGxlYXNlIGNoZWNrIHRoYXQgMSkgdGhlIHR5cGUgZm9yIHRoZSBwYXJhbWV0ZXIgYXQgaW5kZXggJHtpbmRleH0gaXMgY29ycmVjdCBhbmQgMikgdGhlIGNvcnJlY3QgQW5ndWxhciBkZWNvcmF0b3JzIGFyZSBkZWZpbmVkIGZvciB0aGlzIGNsYXNzIGFuZCBpdHMgYW5jZXN0b3JzLmAgOlxuICAgICAgICAnaW52YWxpZCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG4vKipcbiAqIEluamVjdHMgYSB0b2tlbiBmcm9tIHRoZSBjdXJyZW50bHkgYWN0aXZlIGluamVjdG9yLlxuICpcbiAqIE11c3QgYmUgdXNlZCBpbiB0aGUgY29udGV4dCBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gc3VjaCBhcyBvbmUgZGVmaW5lZCBmb3IgYW5cbiAqIGBJbmplY3Rpb25Ub2tlbmAuIFRocm93cyBhbiBlcnJvciBpZiBub3QgY2FsbGVkIGZyb20gc3VjaCBhIGNvbnRleHQuXG4gKlxuICogV2l0aGluIHN1Y2ggYSBmYWN0b3J5IGZ1bmN0aW9uLCB1c2luZyB0aGlzIGZ1bmN0aW9uIHRvIHJlcXVlc3QgaW5qZWN0aW9uIG9mIGEgZGVwZW5kZW5jeVxuICogaXMgZmFzdGVyIGFuZCBtb3JlIHR5cGUtc2FmZSB0aGFuIHByb3ZpZGluZyBhbiBhZGRpdGlvbmFsIGFycmF5IG9mIGRlcGVuZGVuY2llc1xuICogKGFzIGhhcyBiZWVuIGNvbW1vbiB3aXRoIGB1c2VGYWN0b3J5YCBwcm92aWRlcnMpLlxuICpcbiAqIEBwYXJhbSB0b2tlbiBUaGUgaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgZGVwZW5kZW5jeSB0byBiZSBpbmplY3RlZC5cbiAqIEBwYXJhbSBmbGFncyBPcHRpb25hbCBmbGFncyB0aGF0IGNvbnRyb2wgaG93IGluamVjdGlvbiBpcyBleGVjdXRlZC5cbiAqIFRoZSBmbGFncyBjb3JyZXNwb25kIHRvIGluamVjdGlvbiBzdHJhdGVnaWVzIHRoYXQgY2FuIGJlIHNwZWNpZmllZCB3aXRoXG4gKiBwYXJhbWV0ZXIgZGVjb3JhdG9ycyBgQEhvc3RgLCBgQFNlbGZgLCBgQFNraXBTZWZgLCBhbmQgYEBPcHRpb25hbGAuXG4gKiBAcmV0dXJucyB0aGUgaW5qZWN0ZWQgdmFsdWUgaWYgaW5qZWN0aW9uIGlzIHN1Y2Nlc3NmdWwsIGBudWxsYCBvdGhlcndpc2UuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdTaGFrYWJsZUluamVjdGlvblRva2VuJ31cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IGluamVjdCA9IMm1ybVpbmplY3Q7XG5mdW5jdGlvbiBpbmplY3RBcmdzKHR5cGVzKSB7XG4gICAgY29uc3QgYXJncyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYXJnID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZXNbaV0pO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICBpZiAoYXJnLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAgICAgJ0FyZ3VtZW50cyBhcnJheSBtdXN0IGhhdmUgYXJndW1lbnRzLicgOlxuICAgICAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMCAvKiBJTlZBTElEX0RJRkZFUl9JTlBVVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJnLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGFyZ1tqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBmbGFnID0gZ2V0SW5qZWN0RmxhZyhtZXRhKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZsYWcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSB3aGVuIHdlIGhhbmRsZSBASW5qZWN0IGRlY29yYXRvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcgPT09IC0xIC8qIEluamVjdCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG1ldGEudG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyB8PSBmbGFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gbWV0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnB1c2goybXJtWluamVjdCh0eXBlLCBmbGFncykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXJncy5wdXNoKMm1ybVpbmplY3QoYXJnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyZ3M7XG59XG4vKipcbiAqIEF0dGFjaGVzIGEgZ2l2ZW4gSW5qZWN0RmxhZyB0byBhIGdpdmVuIGRlY29yYXRvciB1c2luZyBtb25rZXktcGF0Y2hpbmcuXG4gKiBTaW5jZSBESSBkZWNvcmF0b3JzIGNhbiBiZSB1c2VkIGluIHByb3ZpZGVycyBgZGVwc2AgYXJyYXkgKHdoZW4gcHJvdmlkZXIgaXMgY29uZmlndXJlZCB1c2luZ1xuICogYHVzZUZhY3RvcnlgKSB3aXRob3V0IGluaXRpYWxpemF0aW9uIChlLmcuIGBIb3N0YCkgYW5kIGFzIGFuIGluc3RhbmNlIChlLmcuIGBuZXcgSG9zdCgpYCksIHdlXG4gKiBhdHRhY2ggdGhlIGZsYWcgdG8gbWFrZSBpdCBhdmFpbGFibGUgYm90aCBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBhbmQgYXMgYSBmaWVsZCBvbiBkZWNvcmF0b3JcbiAqIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBkZWNvcmF0b3IgUHJvdmlkZWQgREkgZGVjb3JhdG9yLlxuICogQHBhcmFtIGZsYWcgSW5qZWN0RmxhZyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkLlxuICovXG5mdW5jdGlvbiBhdHRhY2hJbmplY3RGbGFnKGRlY29yYXRvciwgZmxhZykge1xuICAgIGRlY29yYXRvcltESV9ERUNPUkFUT1JfRkxBR10gPSBmbGFnO1xuICAgIGRlY29yYXRvci5wcm90b3R5cGVbRElfREVDT1JBVE9SX0ZMQUddID0gZmxhZztcbiAgICByZXR1cm4gZGVjb3JhdG9yO1xufVxuLyoqXG4gKiBSZWFkcyBtb25rZXktcGF0Y2hlZCBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zIEluamVjdEZsYWcgYXR0YWNoZWQgdG8gYSBkZWNvcmF0b3IuXG4gKlxuICogQHBhcmFtIHRva2VuIFRva2VuIHRoYXQgbWF5IGNvbnRhaW4gbW9ua2V5LXBhdGNoZWQgREkgZmxhZ3MgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdEZsYWcodG9rZW4pIHtcbiAgICByZXR1cm4gdG9rZW5bRElfREVDT1JBVE9SX0ZMQUddO1xufVxuZnVuY3Rpb24gY2F0Y2hJbmplY3RvckVycm9yKGUsIHRva2VuLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlKSB7XG4gICAgY29uc3QgdG9rZW5QYXRoID0gZVtOR19URU1QX1RPS0VOX1BBVEhdO1xuICAgIGlmICh0b2tlbltTT1VSQ0VdKSB7XG4gICAgICAgIHRva2VuUGF0aC51bnNoaWZ0KHRva2VuW1NPVVJDRV0pO1xuICAgIH1cbiAgICBlLm1lc3NhZ2UgPSBmb3JtYXRFcnJvcignXFxuJyArIGUubWVzc2FnZSwgdG9rZW5QYXRoLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlKTtcbiAgICBlW05HX1RPS0VOX1BBVEhdID0gdG9rZW5QYXRoO1xuICAgIGVbTkdfVEVNUF9UT0tFTl9QQVRIXSA9IG51bGw7XG4gICAgdGhyb3cgZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHRleHQsIG9iaiwgaW5qZWN0b3JFcnJvck5hbWUsIHNvdXJjZSA9IG51bGwpIHtcbiAgICB0ZXh0ID0gdGV4dCAmJiB0ZXh0LmNoYXJBdCgwKSA9PT0gJ1xcbicgJiYgdGV4dC5jaGFyQXQoMSkgPT0gTk9fTkVXX0xJTkUgPyB0ZXh0LnN1YnN0cigyKSA6IHRleHQ7XG4gICAgbGV0IGNvbnRleHQgPSBzdHJpbmdpZnkob2JqKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvbnRleHQgPSBvYmoubWFwKHN0cmluZ2lmeSkuam9pbignIC0+ICcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICBsZXQgcGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChrZXkgKyAnOicgKyAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHN0cmluZ2lmeSh2YWx1ZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gYHske3BhcnRzLmpvaW4oJywgJyl9fWA7XG4gICAgfVxuICAgIHJldHVybiBgJHtpbmplY3RvckVycm9yTmFtZX0ke3NvdXJjZSA/ICcoJyArIHNvdXJjZSArICcpJyA6ICcnfVske2NvbnRleHR9XTogJHt0ZXh0LnJlcGxhY2UoTkVXX0xJTkUsICdcXG4gICcpfWA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBJbmplY3QgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBJbmplY3QgPSBhdHRhY2hJbmplY3RGbGFnKFxuLy8gRGlzYWJsZSB0c2xpbnQgYmVjYXVzZSBgRGVjb3JhdG9yRmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xubWFrZVBhcmFtRGVjb3JhdG9yKCdJbmplY3QnLCAodG9rZW4pID0+ICh7IHRva2VuIH0pKSwgLTEgLyogSW5qZWN0ICovKTtcbi8qKlxuICogT3B0aW9uYWwgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBPcHRpb25hbCA9IFxuLy8gRGlzYWJsZSB0c2xpbnQgYmVjYXVzZSBgSW50ZXJuYWxJbmplY3RGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5hdHRhY2hJbmplY3RGbGFnKG1ha2VQYXJhbURlY29yYXRvcignT3B0aW9uYWwnKSwgOCAvKiBPcHRpb25hbCAqLyk7XG4vKipcbiAqIFNlbGYgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBTZWxmID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdTZWxmJyksIDIgLyogU2VsZiAqLyk7XG4vKipcbiAqIGBTa2lwU2VsZmAgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBTa2lwU2VsZiA9IFxuLy8gRGlzYWJsZSB0c2xpbnQgYmVjYXVzZSBgSW50ZXJuYWxJbmplY3RGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5hdHRhY2hJbmplY3RGbGFnKG1ha2VQYXJhbURlY29yYXRvcignU2tpcFNlbGYnKSwgNCAvKiBTa2lwU2VsZiAqLyk7XG4vKipcbiAqIEhvc3QgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBIb3N0ID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdIb3N0JyksIDEgLyogSG9zdCAqLyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9yZWZsZWN0ID0gbnVsbDtcbmZ1bmN0aW9uIGdldFJlZmxlY3QoKSB7XG4gICAgcmV0dXJuIChfcmVmbGVjdCA9IF9yZWZsZWN0IHx8IG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xufVxuZnVuY3Rpb24gcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSB7XG4gICAgcmV0dXJuIGNvbnZlcnREZXBlbmRlbmNpZXMoZ2V0UmVmbGVjdCgpLnBhcmFtZXRlcnModHlwZSkpO1xufVxuZnVuY3Rpb24gY29udmVydERlcGVuZGVuY2llcyhkZXBzKSB7XG4gICAgcmV0dXJuIGRlcHMubWFwKGRlcCA9PiByZWZsZWN0RGVwZW5kZW5jeShkZXApKTtcbn1cbmZ1bmN0aW9uIHJlZmxlY3REZXBlbmRlbmN5KGRlcCkge1xuICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgICBhdHRyaWJ1dGU6IG51bGwsXG4gICAgICAgIGhvc3Q6IGZhbHNlLFxuICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgIHNlbGY6IGZhbHNlLFxuICAgICAgICBza2lwU2VsZjogZmFsc2UsXG4gICAgfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApICYmIGRlcC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGVwLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbSA9IGRlcFtqXTtcbiAgICAgICAgICAgIGlmIChwYXJhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYW0gbWF5IGJlIHVuZGVmaW5lZCBpZiB0eXBlIG9mIGRlcCBpcyBub3Qgc2V0IGJ5IG5ndHNjXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJhbSk7XG4gICAgICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBPcHRpb25hbCB8fCBwcm90by5uZ01ldGFkYXRhTmFtZSA9PT0gJ09wdGlvbmFsJykge1xuICAgICAgICAgICAgICAgIG1ldGEub3B0aW9uYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBTa2lwU2VsZiB8fCBwcm90by5uZ01ldGFkYXRhTmFtZSA9PT0gJ1NraXBTZWxmJykge1xuICAgICAgICAgICAgICAgIG1ldGEuc2tpcFNlbGYgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBTZWxmIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnU2VsZicpIHtcbiAgICAgICAgICAgICAgICBtZXRhLnNlbGYgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBIb3N0IHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnSG9zdCcpIHtcbiAgICAgICAgICAgICAgICBtZXRhLmhvc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgICAgICBtZXRhLnRva2VuID0gcGFyYW0udG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5hdHRyaWJ1dGVOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRyaWJ1dGUgbmFtZSBtdXN0IGJlIGRlZmluZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGEuYXR0cmlidXRlID0gcGFyYW0uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1ldGEudG9rZW4gPSBwYXJhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChkZXAgPT09IHVuZGVmaW5lZCB8fCAoQXJyYXkuaXNBcnJheShkZXApICYmIGRlcC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIG1ldGEudG9rZW4gPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWV0YS50b2tlbiA9IGRlcDtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGE7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgcmVzb3VyY2UgVVJMcyBvbiBgQENvbXBvbmVudGAgd2hlbiB1c2VkIHdpdGggSklUIGNvbXBpbGF0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXAnLFxuICogICB0ZW1wbGF0ZVVybDogJ215LWNvbXAuaHRtbCcsIC8vIFRoaXMgcmVxdWlyZXMgYXN5bmNocm9ub3VzIHJlc29sdXRpb25cbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudHtcbiAqIH1cbiAqXG4gKiAvLyBDYWxsaW5nIGByZW5kZXJDb21wb25lbnRgIHdpbGwgZmFpbCBiZWNhdXNlIGByZW5kZXJDb21wb25lbnRgIGlzIGEgc3luY2hyb25vdXMgcHJvY2Vzc1xuICogLy8gYW5kIGBNeUNvbXBvbmVudGAncyBgQENvbXBvbmVudC50ZW1wbGF0ZVVybGAgbmVlZHMgdG8gYmUgcmVzb2x2ZWQgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogLy8gQ2FsbGluZyBgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcygpYCB3aWxsIHJlc29sdmUgYEBDb21wb25lbnQudGVtcGxhdGVVcmxgIGludG9cbiAqIC8vIGBAQ29tcG9uZW50LnRlbXBsYXRlYCwgd2hpY2ggYWxsb3dzIGByZW5kZXJDb21wb25lbnRgIHRvIHByb2NlZWQgaW4gYSBzeW5jaHJvbm91cyBtYW5uZXIuXG4gKlxuICogLy8gVXNlIGJyb3dzZXIncyBgZmV0Y2goKWAgZnVuY3Rpb24gYXMgdGhlIGRlZmF1bHQgcmVzb3VyY2UgcmVzb2x1dGlvbiBzdHJhdGVneS5cbiAqIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMoZmV0Y2gpLnRoZW4oKCkgPT4ge1xuICogICAvLyBBZnRlciByZXNvbHV0aW9uIGFsbCBVUkxzIGhhdmUgYmVlbiBjb252ZXJ0ZWQgaW50byBgdGVtcGxhdGVgIHN0cmluZ3MuXG4gKiAgIHJlbmRlckNvbXBvbmVudChNeUNvbXBvbmVudCk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBOT1RFOiBJbiBBT1QgdGhlIHJlc29sdXRpb24gaGFwcGVucyBkdXJpbmcgY29tcGlsYXRpb24sIGFuZCBzbyB0aGVyZSBzaG91bGQgYmUgbm8gbmVlZFxuICogdG8gY2FsbCB0aGlzIG1ldGhvZCBvdXRzaWRlIEpJVCBtb2RlLlxuICpcbiAqIEBwYXJhbSByZXNvdXJjZVJlc29sdmVyIGEgZnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJldHVybmluZyBhIGBQcm9taXNlYCB0byB0aGVcbiAqIGNvbnRlbnRzIG9mIHRoZSByZXNvbHZlZCBVUkwuIEJyb3dzZXIncyBgZmV0Y2goKWAgbWV0aG9kIGlzIGEgZ29vZCBkZWZhdWx0IGltcGxlbWVudGF0aW9uLlxuICovXG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKHJlc291cmNlUmVzb2x2ZXIpIHtcbiAgICAvLyBTdG9yZSBhbGwgcHJvbWlzZXMgd2hpY2ggYXJlIGZldGNoaW5nIHRoZSByZXNvdXJjZXMuXG4gICAgY29uc3QgY29tcG9uZW50UmVzb2x2ZWQgPSBbXTtcbiAgICAvLyBDYWNoZSBzbyB0aGF0IHdlIGRvbid0IGZldGNoIHRoZSBzYW1lIHJlc291cmNlIG1vcmUgdGhhbiBvbmNlLlxuICAgIGNvbnN0IHVybE1hcCA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBjYWNoZWRSZXNvdXJjZVJlc29sdmUodXJsKSB7XG4gICAgICAgIGxldCBwcm9taXNlID0gdXJsTWFwLmdldCh1cmwpO1xuICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3AgPSByZXNvdXJjZVJlc29sdmVyKHVybCk7XG4gICAgICAgICAgICB1cmxNYXAuc2V0KHVybCwgcHJvbWlzZSA9IHJlc3AudGhlbih1bndyYXBSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5mb3JFYWNoKChjb21wb25lbnQsIHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgaWYgKGNvbXBvbmVudC50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjYWNoZWRSZXNvdXJjZVJlc29sdmUoY29tcG9uZW50LnRlbXBsYXRlVXJsKS50aGVuKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0eWxlVXJscyA9IGNvbXBvbmVudC5zdHlsZVVybHM7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGNvbXBvbmVudC5zdHlsZXMgfHwgKGNvbXBvbmVudC5zdHlsZXMgPSBbXSk7XG4gICAgICAgIGNvbnN0IHN0eWxlT2Zmc2V0ID0gY29tcG9uZW50LnN0eWxlcy5sZW5ndGg7XG4gICAgICAgIHN0eWxlVXJscyAmJiBzdHlsZVVybHMuZm9yRWFjaCgoc3R5bGVVcmwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCgnJyk7IC8vIHByZS1hbGxvY2F0ZSBhcnJheS5cbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goY2FjaGVkUmVzb3VyY2VSZXNvbHZlKHN0eWxlVXJsKS50aGVuKChzdHlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN0eWxlc1tzdHlsZU9mZnNldCArIGluZGV4XSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIHN0eWxlVXJscy5zcGxpY2Uoc3R5bGVVcmxzLmluZGV4T2Yoc3R5bGVVcmwpLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVVcmxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdHlsZVVybHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVsbHlSZXNvbHZlZCA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IGNvbXBvbmVudERlZlJlc29sdmVkKHR5cGUpKTtcbiAgICAgICAgY29tcG9uZW50UmVzb2x2ZWQucHVzaChmdWxseVJlc29sdmVkKTtcbiAgICB9KTtcbiAgICBjbGVhclJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlc1F1ZXVlKCk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGNvbXBvbmVudFJlc29sdmVkKS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5sZXQgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBuZXcgTWFwKCk7XG4vLyBUcmFjayB3aGVuIGV4aXN0aW5nIMm1Y21wIGZvciBhIFR5cGUgaXMgd2FpdGluZyBvbiByZXNvdXJjZXMuXG5jb25zdCBjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIG1heWJlUXVldWVSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXModHlwZSwgbWV0YWRhdGEpIHtcbiAgICBpZiAoY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKG1ldGFkYXRhKSkge1xuICAgICAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5zZXQodHlwZSwgbWV0YWRhdGEpO1xuICAgICAgICBjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbi5hZGQodHlwZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNDb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbih0eXBlKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmhhcyh0eXBlKTtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbihjb21wb25lbnQpIHtcbiAgICByZXR1cm4gISEoKGNvbXBvbmVudC50ZW1wbGF0ZVVybCAmJiAhY29tcG9uZW50Lmhhc093blByb3BlcnR5KCd0ZW1wbGF0ZScpKSB8fFxuICAgICAgICBjb21wb25lbnQuc3R5bGVVcmxzICYmIGNvbXBvbmVudC5zdHlsZVVybHMubGVuZ3RoKTtcbn1cbmZ1bmN0aW9uIGNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUoKSB7XG4gICAgY29uc3Qgb2xkID0gY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWU7XG4gICAgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIG9sZDtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVDb21wb25lbnRSZXNvbHV0aW9uUXVldWUocXVldWUpIHtcbiAgICBjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbi5jbGVhcigpO1xuICAgIHF1ZXVlLmZvckVhY2goKF8sIHR5cGUpID0+IGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmFkZCh0eXBlKSk7XG4gICAgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBxdWV1ZTtcbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWVFbXB0eSgpIHtcbiAgICByZXR1cm4gY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUuc2l6ZSA9PT0gMDtcbn1cbmZ1bmN0aW9uIHVud3JhcFJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiByZXNwb25zZSA9PSAnc3RyaW5nJyA/IHJlc3BvbnNlIDogcmVzcG9uc2UudGV4dCgpO1xufVxuZnVuY3Rpb24gY29tcG9uZW50RGVmUmVzb2x2ZWQodHlwZSkge1xuICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmRlbGV0ZSh0eXBlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLCBvciB1bmRlZmluZWQgaWYgdGhlIHBvbGljeSBoYXMgbm90IGJlZW4gY3JlYXRlZCB5ZXQuXG4gKi9cbmxldCBwb2xpY3kkMTtcbi8qKlxuICogUmV0dXJucyB0aGUgVHJ1c3RlZCBUeXBlcyBwb2xpY3ksIG9yIG51bGwgaWYgVHJ1c3RlZCBUeXBlcyBhcmUgbm90XG4gKiBlbmFibGVkL3N1cHBvcnRlZC4gVGhlIGZpcnN0IGNhbGwgdG8gdGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSB0aGUgcG9saWN5LlxuICovXG5mdW5jdGlvbiBnZXRQb2xpY3kkMSgpIHtcbiAgICBpZiAocG9saWN5JDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2xpY3kkMSA9IG51bGw7XG4gICAgICAgIGlmIChfZ2xvYmFsLnRydXN0ZWRUeXBlcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb2xpY3kkMSA9IF9nbG9iYWwudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgnYW5ndWxhcicsIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSFRNTDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFVSTDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSB0aHJvd3MgaWYgY2FsbGVkIHdpdGggYSBuYW1lIHRoYXQgaXNcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQsIGV2ZW4gaW4gcmVwb3J0LW9ubHkgbW9kZS4gVW50aWwgdGhlIEFQSSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIC8vIGNhdGNoIHRoZSBlcnJvciBub3QgdG8gYnJlYWsgdGhlIGFwcGxpY2F0aW9ucyBmdW5jdGlvbmFsbHkuIEluIHN1Y2hcbiAgICAgICAgICAgICAgICAvLyBjYXNlcywgdGhlIGNvZGUgd2lsbCBmYWxsIGJhY2sgdG8gdXNpbmcgc3RyaW5ncy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9saWN5JDE7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkSFRNTCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IHRoZVxuICogcHJvdmlkZWQgc3RyaW5nIHdpbGwgbmV2ZXIgY2F1c2UgYW4gWFNTIHZ1bG5lcmFiaWxpdHkgaWYgdXNlZCBpbiBhIGNvbnRleHRcbiAqIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBIVE1MIGJ5IGEgYnJvd3NlciwgZS5nLiB3aGVuIGFzc2lnbmluZyB0b1xuICogZWxlbWVudC5pbm5lckhUTUwuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRIVE1MRnJvbVN0cmluZyhodG1sKSB7XG4gICAgcmV0dXJuIGdldFBvbGljeSQxKCk/LmNyZWF0ZUhUTUwoaHRtbCkgfHwgaHRtbDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHQsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlIHByb3ZpZGVkIHN0cmluZyB3aWxsXG4gKiBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dCB0aGF0IHdpbGwgYmVcbiAqIGludGVycHJldGVkIGFuZCBleGVjdXRlZCBhcyBhIHNjcmlwdCBieSBhIGJyb3dzZXIsIGUuZy4gd2hlbiBjYWxsaW5nIGV2YWwuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nKHNjcmlwdCkge1xuICAgIHJldHVybiBnZXRQb2xpY3kkMSgpPy5jcmVhdGVTY3JpcHQoc2NyaXB0KSB8fCBzY3JpcHQ7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0VVJMLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5nc1xuICogd2hlbiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlXG4gKiBwcm92aWRlZCBzdHJpbmcgd2lsbCBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dFxuICogdGhhdCB3aWxsIGNhdXNlIGEgYnJvd3NlciB0byBsb2FkIGFuZCBleGVjdXRlIGEgcmVzb3VyY2UsIGUuZy4gd2hlblxuICogYXNzaWduaW5nIHRvIHNjcmlwdC5zcmMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nKHVybCkge1xuICAgIHJldHVybiBnZXRQb2xpY3kkMSgpPy5jcmVhdGVTY3JpcHRVUkwodXJsKSB8fCB1cmw7XG59XG4vKipcbiAqIFVuc2FmZWx5IGNhbGwgdGhlIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIHdpdGggdGhlIGdpdmVuIHN0cmluZyBhcmd1bWVudHMuIEl0XG4gKiBpcyBvbmx5IGF2YWlsYWJsZSBpbiBkZXZlbG9wbWVudCBtb2RlLCBhbmQgc2hvdWxkIGJlIHN0cmlwcGVkIG91dCBvZlxuICogcHJvZHVjdGlvbiBjb2RlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgaXRcbiAqIGlzIG9ubHkgY2FsbGVkIGZyb20gZGV2ZWxvcG1lbnQgY29kZSwgYXMgdXNlIGluIHByb2R1Y3Rpb24gY29kZSBjYW4gbGVhZCB0b1xuICogWFNTIHZ1bG5lcmFiaWxpdGllcy5cbiAqL1xuZnVuY3Rpb24gbmV3VHJ1c3RlZEZ1bmN0aW9uRm9yRGV2KC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCduZXdUcnVzdGVkRnVuY3Rpb25Gb3JEZXYgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpbiBwcm9kdWN0aW9uJyk7XG4gICAgfVxuICAgIGlmICghX2dsb2JhbC50cnVzdGVkVHlwZXMpIHtcbiAgICAgICAgLy8gSW4gZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBUcnVzdGVkIFR5cGVzLCBmYWxsIGJhY2sgdG8gdGhlIG1vc3RcbiAgICAgICAgLy8gc3RyYWlnaHRmb3J3YXJkIGltcGxlbWVudGF0aW9uOlxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgcGFzc2luZyBUcnVzdGVkU2NyaXB0IHRvIHRoZSBGdW5jdGlvblxuICAgIC8vIGNvbnN0cnVjdG9yLiBUaGUgZm9sbG93aW5nIGltcGxlbWVudHMgdGhlIHdvcmthcm91bmQgcHJvcG9zZWQgb24gdGhlIHBhZ2VcbiAgICAvLyBiZWxvdywgd2hlcmUgdGhlIENocm9taXVtIGJ1ZyBpcyBhbHNvIHJlZmVyZW5jZWQ6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy93ZWJhcHBzZWMtdHJ1c3RlZC10eXBlcy93aWtpL1RydXN0ZWQtVHlwZXMtZm9yLWZ1bmN0aW9uLWNvbnN0cnVjdG9yXG4gICAgY29uc3QgZm5BcmdzID0gYXJncy5zbGljZSgwLCAtMSkuam9pbignLCcpO1xuICAgIGNvbnN0IGZuQm9keSA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBib2R5ID0gYChmdW5jdGlvbiBhbm9ueW1vdXMoJHtmbkFyZ3N9XG4pIHsgJHtmbkJvZHl9XG59KWA7XG4gICAgLy8gVXNpbmcgZXZhbCBkaXJlY3RseSBjb25mdXNlcyB0aGUgY29tcGlsZXIgYW5kIHByZXZlbnRzIHRoaXMgbW9kdWxlIGZyb21cbiAgICAvLyBiZWluZyBzdHJpcHBlZCBvdXQgb2YgSlMgYmluYXJpZXMgZXZlbiBpZiBub3QgdXNlZC4gVGhlIGdsb2JhbFsnZXZhbCddXG4gICAgLy8gaW5kaXJlY3Rpb24gZml4ZXMgdGhhdC5cbiAgICBjb25zdCBmbiA9IF9nbG9iYWxbJ2V2YWwnXSh0cnVzdGVkU2NyaXB0RnJvbVN0cmluZyhib2R5KSk7XG4gICAgaWYgKGZuLmJpbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBhIGJyb3dzZXIgYnVnIHRoYXQgb25seSBleGlzdHMgaW4gQ2hyb21lIDgzLCB3aGVyZSBwYXNzaW5nXG4gICAgICAgIC8vIGEgVHJ1c3RlZFNjcmlwdCB0byBldmFsIGp1c3QgcmV0dXJucyB0aGUgVHJ1c3RlZFNjcmlwdCBiYWNrIHdpdGhvdXRcbiAgICAgICAgLy8gZXZhbHVhdGluZyBpdC4gSW4gdGhhdCBjYXNlLCBmYWxsIGJhY2sgdG8gdGhlIG1vc3Qgc3RyYWlnaHRmb3J3YXJkXG4gICAgICAgIC8vIGltcGxlbWVudGF0aW9uOlxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvLyBUbyBjb21wbGV0ZWx5IG1pbWljIHRoZSBiZWhhdmlvciBvZiBjYWxsaW5nIFwibmV3IEZ1bmN0aW9uXCIsIHR3byBtb3JlXG4gICAgLy8gdGhpbmdzIG5lZWQgdG8gaGFwcGVuOlxuICAgIC8vIDEuIFN0cmluZ2lmeWluZyB0aGUgcmVzdWx0aW5nIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gaXRzIHNvdXJjZSBjb2RlXG4gICAgZm4udG9TdHJpbmcgPSAoKSA9PiBib2R5O1xuICAgIC8vIDIuIFdoZW4gY2FsbGluZyB0aGUgcmVzdWx0aW5nIGZ1bmN0aW9uLCBgdGhpc2Agc2hvdWxkIHJlZmVyIHRvIGBnbG9iYWxgXG4gICAgcmV0dXJuIGZuLmJpbmQoX2dsb2JhbCk7XG4gICAgLy8gV2hlbiBUcnVzdGVkIFR5cGVzIHN1cHBvcnQgaW4gRnVuY3Rpb24gY29uc3RydWN0b3JzIGlzIHdpZGVseSBhdmFpbGFibGUsXG4gICAgLy8gdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgZnVuY3Rpb24gY2FuIGJlIHNpbXBsaWZpZWQgdG86XG4gICAgLy8gcmV0dXJuIG5ldyBGdW5jdGlvbiguLi5hcmdzLm1hcChhID0+IHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nKGEpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgVHJ1c3RlZCBUeXBlcyBwb2xpY3ksIG9yIG51bGwgaWYgVHJ1c3RlZCBUeXBlcyBhcmUgbm90XG4gKiBlbmFibGVkL3N1cHBvcnRlZCwgb3IgdW5kZWZpbmVkIGlmIHRoZSBwb2xpY3kgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0LlxuICovXG5sZXQgcG9saWN5O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLiBUaGUgZmlyc3QgY2FsbCB0byB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIHRoZSBwb2xpY3kuXG4gKi9cbmZ1bmN0aW9uIGdldFBvbGljeSgpIHtcbiAgICBpZiAocG9saWN5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9saWN5ID0gbnVsbDtcbiAgICAgICAgaWYgKF9nbG9iYWwudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvbGljeSA9IF9nbG9iYWwudHJ1c3RlZFR5cGVzXG4gICAgICAgICAgICAgICAgICAgIC5jcmVhdGVQb2xpY3koJ2FuZ3VsYXIjdW5zYWZlLWJ5cGFzcycsIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSFRNTDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFVSTDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSB0aHJvd3MgaWYgY2FsbGVkIHdpdGggYSBuYW1lIHRoYXQgaXNcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQsIGV2ZW4gaW4gcmVwb3J0LW9ubHkgbW9kZS4gVW50aWwgdGhlIEFQSSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIC8vIGNhdGNoIHRoZSBlcnJvciBub3QgdG8gYnJlYWsgdGhlIGFwcGxpY2F0aW9ucyBmdW5jdGlvbmFsbHkuIEluIHN1Y2hcbiAgICAgICAgICAgICAgICAvLyBjYXNlcywgdGhlIGNvZGUgd2lsbCBmYWxsIGJhY2sgdG8gdXNpbmcgc3RyaW5ncy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9saWN5O1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZEhUTUwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKGh0bWwpIHtcbiAgICByZXR1cm4gZ2V0UG9saWN5KCk/LmNyZWF0ZUhUTUwoaHRtbCkgfHwgaHRtbDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHQsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmdCeXBhc3Moc2NyaXB0KSB7XG4gICAgcmV0dXJuIGdldFBvbGljeSgpPy5jcmVhdGVTY3JpcHQoc2NyaXB0KSB8fCBzY3JpcHQ7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0VVJMLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5nc1xuICogd2hlbiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgaXRcbiAqIGlzIG9ubHkgcGFzc2VkIHN0cmluZ3MgdGhhdCBjb21lIGRpcmVjdGx5IGZyb20gY3VzdG9tIHNhbml0aXplcnMgb3IgdGhlXG4gKiBieXBhc3NTZWN1cml0eVRydXN0KiBmdW5jdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nQnlwYXNzKHVybCkge1xuICAgIHJldHVybiBnZXRQb2xpY3koKT8uY3JlYXRlU2NyaXB0VVJMKHVybCkgfHwgdXJsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIFNhZmVWYWx1ZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5ID0gY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgU2FmZVZhbHVlIG11c3QgdXNlIFtwcm9wZXJ0eV09YmluZGluZzogJHt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHl9YCArXG4gICAgICAgICAgICBgIChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVIdG1sSW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIVE1MXCIgLyogSHRtbCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlU3R5bGVJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0eWxlXCIgLyogU3R5bGUgKi87XG4gICAgfVxufVxuY2xhc3MgU2FmZVNjcmlwdEltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU2NyaXB0XCIgLyogU2NyaXB0ICovO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVVcmxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlVSTFwiIC8qIFVybCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlUmVzb3VyY2VVcmxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJlc291cmNlVVJMXCIgLyogUmVzb3VyY2VVcmwgKi87XG4gICAgfVxufVxuZnVuY3Rpb24gdW53cmFwU2FmZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVZhbHVlSW1wbCA/IHZhbHVlLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkgOlxuICAgICAgICB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codmFsdWUsIHR5cGUpIHtcbiAgICBjb25zdCBhY3R1YWxUeXBlID0gZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSh2YWx1ZSk7XG4gICAgaWYgKGFjdHVhbFR5cGUgIT0gbnVsbCAmJiBhY3R1YWxUeXBlICE9PSB0eXBlKSB7XG4gICAgICAgIC8vIEFsbG93IFJlc291cmNlVVJMcyBpbiBVUkwgY29udGV4dHMsIHRoZXkgYXJlIHN0cmljdGx5IG1vcmUgdHJ1c3RlZC5cbiAgICAgICAgaWYgKGFjdHVhbFR5cGUgPT09IFwiUmVzb3VyY2VVUkxcIiAvKiBSZXNvdXJjZVVybCAqLyAmJiB0eXBlID09PSBcIlVSTFwiIC8qIFVybCAqLylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIGEgc2FmZSAke3R5cGV9LCBnb3QgYSAke2FjdHVhbFR5cGV9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdHVhbFR5cGUgPT09IHR5cGU7XG59XG5mdW5jdGlvbiBnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVZhbHVlSW1wbCAmJiB2YWx1ZS5nZXRUeXBlTmFtZSgpIHx8IG51bGw7XG59XG4vKipcbiAqIE1hcmsgYGh0bWxgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgaHRtbFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkSHRtbCBgaHRtbGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYGh0bWxgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwodHJ1c3RlZEh0bWwpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVIdG1sSW1wbCh0cnVzdGVkSHRtbCk7XG59XG4vKipcbiAqIE1hcmsgYHN0eWxlYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHN0eWxlU2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRTdHlsZSBgc3R5bGVgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBzdHlsZWAgaGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSh0cnVzdGVkU3R5bGUpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVTdHlsZUltcGwodHJ1c3RlZFN0eWxlKTtcbn1cbi8qKlxuICogTWFyayBgc2NyaXB0YCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHNjcmlwdFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkU2NyaXB0IGBzY3JpcHRgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBzY3JpcHRgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCh0cnVzdGVkU2NyaXB0KSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlU2NyaXB0SW1wbCh0cnVzdGVkU2NyaXB0KTtcbn1cbi8qKlxuICogTWFyayBgdXJsYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkVXJsIGB1cmxgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGB1cmxgICB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwodHJ1c3RlZFVybCkge1xuICAgIHJldHVybiBuZXcgU2FmZVVybEltcGwodHJ1c3RlZFVybCk7XG59XG4vKipcbiAqIE1hcmsgYHVybGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayByZXNvdXJjZVVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkUmVzb3VyY2VVcmwgYHVybGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHVybGAgd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwodHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlUmVzb3VyY2VVcmxJbXBsKHRydXN0ZWRSZXNvdXJjZVVybCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGhlbHBlciBpcyB1c2VkIHRvIGdldCBob2xkIG9mIGFuIGluZXJ0IHRyZWUgb2YgRE9NIGVsZW1lbnRzIGNvbnRhaW5pbmcgZGlydHkgSFRNTFxuICogdGhhdCBuZWVkcyBzYW5pdGl6aW5nLlxuICogRGVwZW5kaW5nIHVwb24gYnJvd3NlciBzdXBwb3J0IHdlIHVzZSBvbmUgb2YgdHdvIHN0cmF0ZWdpZXMgZm9yIGRvaW5nIHRoaXMuXG4gKiBEZWZhdWx0OiBET01QYXJzZXIgc3RyYXRlZ3lcbiAqIEZhbGxiYWNrOiBJbmVydERvY3VtZW50IHN0cmF0ZWd5XG4gKi9cbmZ1bmN0aW9uIGdldEluZXJ0Qm9keUhlbHBlcihkZWZhdWx0RG9jKSB7XG4gICAgY29uc3QgaW5lcnREb2N1bWVudEhlbHBlciA9IG5ldyBJbmVydERvY3VtZW50SGVscGVyKGRlZmF1bHREb2MpO1xuICAgIHJldHVybiBpc0RPTVBhcnNlckF2YWlsYWJsZSgpID8gbmV3IERPTVBhcnNlckhlbHBlcihpbmVydERvY3VtZW50SGVscGVyKSA6IGluZXJ0RG9jdW1lbnRIZWxwZXI7XG59XG4vKipcbiAqIFVzZXMgRE9NUGFyc2VyIHRvIGNyZWF0ZSBhbmQgZmlsbCBhbiBpbmVydCBib2R5IGVsZW1lbnQuXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IHN0cmF0ZWd5IHVzZWQgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LlxuICovXG5jbGFzcyBET01QYXJzZXJIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKGluZXJ0RG9jdW1lbnRIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5pbmVydERvY3VtZW50SGVscGVyID0gaW5lcnREb2N1bWVudEhlbHBlcjtcbiAgICB9XG4gICAgZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKSB7XG4gICAgICAgIC8vIFdlIGFkZCB0aGVzZSBleHRyYSBlbGVtZW50cyB0byBlbnN1cmUgdGhhdCB0aGUgcmVzdCBvZiB0aGUgY29udGVudCBpcyBwYXJzZWQgYXMgZXhwZWN0ZWRcbiAgICAgICAgLy8gZS5nLiBsZWFkaW5nIHdoaXRlc3BhY2UgaXMgbWFpbnRhaW5lZCBhbmQgdGFncyBsaWtlIGA8bWV0YT5gIGRvIG5vdCBnZXQgaG9pc3RlZCB0byB0aGVcbiAgICAgICAgLy8gYDxoZWFkPmAgdGFnLiBOb3RlIHRoYXQgdGhlIGA8Ym9keT5gIHRhZyBpcyBjbG9zZWQgaW1wbGljaXRseSB0byBwcmV2ZW50IHVuY2xvc2VkIHRhZ3NcbiAgICAgICAgLy8gaW4gYGh0bWxgIGZyb20gY29uc3VtaW5nIHRoZSBvdGhlcndpc2UgZXhwbGljaXQgYDwvYm9keT5gIHRhZy5cbiAgICAgICAgaHRtbCA9ICc8Ym9keT48cmVtb3ZlPjwvcmVtb3ZlPicgKyBodG1sO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKClcbiAgICAgICAgICAgICAgICAucGFyc2VGcm9tU3RyaW5nKHRydXN0ZWRIVE1MRnJvbVN0cmluZyhodG1sKSwgJ3RleHQvaHRtbCcpXG4gICAgICAgICAgICAgICAgLmJvZHk7XG4gICAgICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMgKGUuZy4gTW96aWxsYS81LjAgaVBhZCBBcHBsZVdlYktpdCBNb2JpbGUpIHRoZSBgYm9keWAgcHJvcGVydHkgb25seVxuICAgICAgICAgICAgICAgIC8vIGJlY29tZXMgYXZhaWxhYmxlIGluIHRoZSBmb2xsb3dpbmcgdGljayBvZiB0aGUgSlMgZW5naW5lLiBJbiB0aGF0IGNhc2Ugd2UgZmFsbCBiYWNrIHRvXG4gICAgICAgICAgICAgICAgLy8gdGhlIGBpbmVydERvY3VtZW50SGVscGVyYCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgYW4gSFRNTDUgYHRlbXBsYXRlYCBlbGVtZW50LCBpZiBzdXBwb3J0ZWQsIG9yIGFuIGluZXJ0IGJvZHkgZWxlbWVudCBjcmVhdGVkIHZpYVxuICogYGNyZWF0ZUh0bWxEb2N1bWVudGAgdG8gY3JlYXRlIGFuZCBmaWxsIGFuIGluZXJ0IERPTSBlbGVtZW50LlxuICogVGhpcyBpcyB0aGUgZmFsbGJhY2sgc3RyYXRlZ3kgaWYgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBET01QYXJzZXIuXG4gKi9cbmNsYXNzIEluZXJ0RG9jdW1lbnRIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHREb2MpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0RG9jID0gZGVmYXVsdERvYztcbiAgICAgICAgdGhpcy5pbmVydERvY3VtZW50ID0gdGhpcy5kZWZhdWx0RG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnc2FuaXRpemF0aW9uLWluZXJ0Jyk7XG4gICAgICAgIGlmICh0aGlzLmluZXJ0RG9jdW1lbnQuYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB1c3VhbGx5IHRoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBib2R5IGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50LCBidXQgSUUgZG9lc24ndCBoYXZlIGFueSwgc29cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gY3JlYXRlIG9uZS5cbiAgICAgICAgICAgIGNvbnN0IGluZXJ0SHRtbCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnQuYXBwZW5kQ2hpbGQoaW5lcnRIdG1sKTtcbiAgICAgICAgICAgIGNvbnN0IGluZXJ0Qm9keUVsZW1lbnQgPSB0aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICAgICAgaW5lcnRIdG1sLmFwcGVuZENoaWxkKGluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEluZXJ0Qm9keUVsZW1lbnQoaHRtbCkge1xuICAgICAgICAvLyBQcmVmZXIgdXNpbmcgPHRlbXBsYXRlPiBlbGVtZW50IGlmIHN1cHBvcnRlZC5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVFbCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICBpZiAoJ2NvbnRlbnQnIGluIHRlbXBsYXRlRWwpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlRWwuaW5uZXJIVE1MID0gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlRWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZSB0aGF0IHByZXZpb3VzbHkgd2UgdXNlZCB0byBkbyBzb21ldGhpbmcgbGlrZSBgdGhpcy5pbmVydERvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gaHRtbGBcbiAgICAgICAgLy8gYW5kIHdlIHJldHVybmVkIHRoZSBpbmVydCBgYm9keWAgbm9kZS4gVGhpcyB3YXMgY2hhbmdlZCwgYmVjYXVzZSBJRSBzZWVtcyB0byB0cmVhdCBzZXR0aW5nXG4gICAgICAgIC8vIGBpbm5lckhUTUxgIG9uIGFuIGluc2VydGVkIGVsZW1lbnQgZGlmZmVyZW50bHksIGNvbXBhcmVkIHRvIG9uZSB0aGF0IGhhc24ndCBiZWVuIGluc2VydGVkXG4gICAgICAgIC8vIHlldC4gSW4gcGFydGljdWxhciwgSUUgYXBwZWFycyB0byBzcGxpdCBzb21lIG9mIHRoZSB0ZXh0IGludG8gbXVsdGlwbGUgdGV4dCBub2RlcyByYXRoZXJcbiAgICAgICAgLy8gdGhhbiBrZWVwaW5nIHRoZW0gaW4gYSBzaW5nbGUgb25lIHdoaWNoIGVuZHMgdXAgbWVzc2luZyB3aXRoIEl2eSdzIGkxOG4gcGFyc2luZyBmdXJ0aGVyXG4gICAgICAgIC8vIGRvd24gdGhlIGxpbmUuIFRoaXMgaGFzIGJlZW4gd29ya2VkIGFyb3VuZCBieSBjcmVhdGluZyBhIG5ldyBpbmVydCBgYm9keWAgYW5kIHVzaW5nIGl0IGFzXG4gICAgICAgIC8vIHRoZSByb290IG5vZGUgaW4gd2hpY2ggd2UgaW5zZXJ0IHRoZSBIVE1MLlxuICAgICAgICBjb25zdCBpbmVydEJvZHkgPSB0aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBpbmVydEJvZHkuaW5uZXJIVE1MID0gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpO1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG4gICAgICAgIC8vIHN0cmlwIGN1c3RvbS1uYW1lc3BhY2VkIGF0dHJpYnV0ZXMgb24gSUU8PTExXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHREb2MuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhpbmVydEJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmVydEJvZHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gSUUxMSBjb21lcyBhY3Jvc3MgYW4gdW5rbm93biBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBlLmcuICd4bGluazpmb28nIGl0IGFkZHMgJ3htbG5zOm5zMSdcbiAgICAgKiBhdHRyaWJ1dGUgdG8gZGVjbGFyZSBuczEgbmFtZXNwYWNlIGFuZCBwcmVmaXhlcyB0aGUgYXR0cmlidXRlIHdpdGggJ25zMScgKGUuZy5cbiAgICAgKiAnbnMxOnhsaW5rOmZvbycpLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1bmRlc2lyYWJsZSBzaW5jZSB3ZSBkb24ndCB3YW50IHRvIGFsbG93IGFueSBvZiB0aGVzZSBjdXN0b20gYXR0cmlidXRlcy4gVGhpcyBtZXRob2RcbiAgICAgKiBzdHJpcHMgdGhlbSBhbGwuXG4gICAgICovXG4gICAgc3RyaXBDdXN0b21Oc0F0dHJzKGVsKSB7XG4gICAgICAgIGNvbnN0IGVsQXR0cnMgPSBlbC5hdHRyaWJ1dGVzO1xuICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiBzdXBwb3J0IHJlbW92YWxzLlxuICAgICAgICBmb3IgKGxldCBpID0gZWxBdHRycy5sZW5ndGggLSAxOyAwIDwgaTsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWIgPSBlbEF0dHJzLml0ZW0oaSk7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJpYi5uYW1lO1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAneG1sbnM6bnMxJyB8fCBhdHRyTmFtZS5pbmRleE9mKCduczE6JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBjaGlsZE5vZGUgPSBlbC5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSlcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhjaGlsZE5vZGUpO1xuICAgICAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBXZSBuZWVkIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBET01QYXJzZXIgZXhpc3RzIGluIHRoZSBnbG9iYWwgY29udGV4dCBhbmRcbiAqIHN1cHBvcnRzIHBhcnNpbmcgSFRNTDsgSFRNTCBwYXJzaW5nIHN1cHBvcnQgaXMgbm90IGFzIHdpZGUgYXMgb3RoZXIgZm9ybWF0cywgc2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NUGFyc2VyI0Jyb3dzZXJfY29tcGF0aWJpbGl0eS5cbiAqXG4gKiBAc3VwcHJlc3Mge3VzZWxlc3NDb2RlfVxuICovXG5mdW5jdGlvbiBpc0RPTVBhcnNlckF2YWlsYWJsZSgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gISFuZXcgd2luZG93LkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0cnVzdGVkSFRNTEZyb21TdHJpbmcoJycpLCAndGV4dC9odG1sJyk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgcGF0dGVybiB0aGF0IHJlY29nbml6ZXMgYSBjb21tb25seSB1c2VmdWwgc3Vic2V0IG9mIFVSTHMgdGhhdCBhcmUgc2FmZS5cbiAqXG4gKiBUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGEgc3Vic2V0IG9mIFVSTHMgdGhhdCB3aWxsIG5vdCBjYXVzZSBzY3JpcHRcbiAqIGV4ZWN1dGlvbiBpZiB1c2VkIGluIFVSTCBjb250ZXh0IHdpdGhpbiBhIEhUTUwgZG9jdW1lbnQuIFNwZWNpZmljYWxseSwgdGhpc1xuICogcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgaWYgKGNvbW1lbnQgZnJvbSBoZXJlIG9uIGFuZCByZWdleCBjb3BpZWQgZnJvbVxuICogU295J3MgRXNjYXBpbmdDb252ZW50aW9ucyk6XG4gKiAoMSkgRWl0aGVyIGFuIGFsbG93ZWQgcHJvdG9jb2wgKGh0dHAsIGh0dHBzLCBtYWlsdG8gb3IgZnRwKS5cbiAqICgyKSBvciBubyBwcm90b2NvbC4gIEEgcHJvdG9jb2wgbXVzdCBiZSBmb2xsb3dlZCBieSBhIGNvbG9uLiBUaGUgYmVsb3dcbiAqICAgICBhbGxvd3MgdGhhdCBieSBhbGxvd2luZyBjb2xvbnMgb25seSBhZnRlciBvbmUgb2YgdGhlIGNoYXJhY3RlcnMgWy8/I10uXG4gKiAgICAgQSBjb2xvbiBhZnRlciBhIGhhc2ggKCMpIG11c3QgYmUgaW4gdGhlIGZyYWdtZW50LlxuICogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhICg/KSBtdXN0IGJlIGluIGEgcXVlcnkuXG4gKiAgICAgT3RoZXJ3aXNlLCBhIGNvbG9uIGFmdGVyIGEgc2luZ2xlIHNvbGlkdXMgKC8pIG11c3QgYmUgaW4gYSBwYXRoLlxuICogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhIGRvdWJsZSBzb2xpZHVzICgvLykgbXVzdCBiZSBpbiB0aGUgYXV0aG9yaXR5XG4gKiAgICAgKGJlZm9yZSBwb3J0KS5cbiAqXG4gKiBUaGUgcGF0dGVybiBkaXNhbGxvd3MgJiwgdXNlZCBpbiBIVE1MIGVudGl0eSBkZWNsYXJhdGlvbnMgYmVmb3JlXG4gKiBvbmUgb2YgdGhlIGNoYXJhY3RlcnMgaW4gWy8/I10uIFRoaXMgZGlzYWxsb3dzIEhUTUwgZW50aXRpZXMgdXNlZCBpbiB0aGVcbiAqIHByb3RvY29sIG5hbWUsIHdoaWNoIHNob3VsZCBuZXZlciBoYXBwZW4sIGUuZy4gXCJoJiMxMTY7dHBcIiBmb3IgXCJodHRwXCIuXG4gKiBJdCBhbHNvIGRpc2FsbG93cyBIVE1MIGVudGl0aWVzIGluIHRoZSBmaXJzdCBwYXRoIHBhcnQgb2YgYSByZWxhdGl2ZSBwYXRoLFxuICogZS5nLiBcImZvbyZsdDtiYXIvYmF6XCIuICBPdXIgZXhpc3RpbmcgZXNjYXBpbmcgZnVuY3Rpb25zIHNob3VsZCBub3QgcHJvZHVjZVxuICogdGhhdC4gTW9yZSBpbXBvcnRhbnRseSwgaXQgZGlzYWxsb3dzIG1hc2tpbmcgb2YgYSBjb2xvbixcbiAqIGUuZy4gXCJqYXZhc2NyaXB0JiM1ODsuLi5cIi5cbiAqXG4gKiBUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiB3YXMgdGFrZW4gZnJvbSB0aGUgQ2xvc3VyZSBzYW5pdGl6YXRpb24gbGlicmFyeS5cbiAqL1xuY29uc3QgU0FGRV9VUkxfUEFUVEVSTiA9IC9eKD86KD86aHR0cHM/fG1haWx0b3xmdHB8dGVsfGZpbGV8c21zKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2dpO1xuLyogQSBwYXR0ZXJuIHRoYXQgbWF0Y2hlcyBzYWZlIHNyY3NldCB2YWx1ZXMgKi9cbmNvbnN0IFNBRkVfU1JDU0VUX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xmaWxlKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2dpO1xuLyoqIEEgcGF0dGVybiB0aGF0IG1hdGNoZXMgc2FmZSBkYXRhIFVSTHMuIE9ubHkgbWF0Y2hlcyBpbWFnZSwgdmlkZW8gYW5kIGF1ZGlvIHR5cGVzLiAqL1xuY29uc3QgREFUQV9VUkxfUEFUVEVSTiA9IC9eZGF0YTooPzppbWFnZVxcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicCl8dmlkZW9cXC8oPzptcGVnfG1wNHxvZ2d8d2VibSl8YXVkaW9cXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFthLXowLTkrXFwvXSs9KiQvaTtcbmZ1bmN0aW9uIF9zYW5pdGl6ZVVybCh1cmwpIHtcbiAgICB1cmwgPSBTdHJpbmcodXJsKTtcbiAgICBpZiAodXJsLm1hdGNoKFNBRkVfVVJMX1BBVFRFUk4pIHx8IHVybC5tYXRjaChEQVRBX1VSTF9QQVRURVJOKSlcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgV0FSTklORzogc2FuaXRpemluZyB1bnNhZmUgVVJMIHZhbHVlICR7dXJsfSAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYCk7XG4gICAgfVxuICAgIHJldHVybiAndW5zYWZlOicgKyB1cmw7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZVNyY3NldChzcmNzZXQpIHtcbiAgICBzcmNzZXQgPSBTdHJpbmcoc3Jjc2V0KTtcbiAgICByZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmNzZXQpID0+IF9zYW5pdGl6ZVVybChzcmNzZXQudHJpbSgpKSkuam9pbignLCAnKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiB0YWdTZXQodGFncykge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgdCBvZiB0YWdzLnNwbGl0KCcsJykpXG4gICAgICAgIHJlc1t0XSA9IHRydWU7XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG1lcmdlKC4uLnNldHMpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHMgb2Ygc2V0cykge1xuICAgICAgICBmb3IgKGNvbnN0IHYgaW4gcykge1xuICAgICAgICAgICAgaWYgKHMuaGFzT3duUHJvcGVydHkodikpXG4gICAgICAgICAgICAgICAgcmVzW3ZdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8gR29vZCBzb3VyY2Ugb2YgaW5mbyBhYm91dCBlbGVtZW50cyBhbmQgYXR0cmlidXRlc1xuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc2VtYW50aWNzXG4vLyBodHRwczovL3NpbW9uLmh0bWw1Lm9yZy9odG1sLWVsZW1lbnRzXG4vLyBTYWZlIFZvaWQgRWxlbWVudHMgLSBIVE1MNVxuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jdm9pZC1lbGVtZW50c1xuY29uc3QgVk9JRF9FTEVNRU5UUyA9IHRhZ1NldCgnYXJlYSxicixjb2wsaHIsaW1nLHdicicpO1xuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI29wdGlvbmFsLXRhZ3NcbmNvbnN0IE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMgPSB0YWdTZXQoJ2NvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHInKTtcbmNvbnN0IE9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTID0gdGFnU2V0KCdycCxydCcpO1xuY29uc3QgT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyA9IG1lcmdlKE9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTLCBPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTKTtcbi8vIFNhZmUgQmxvY2sgRWxlbWVudHMgLSBIVE1MNVxuY29uc3QgQkxPQ0tfRUxFTUVOVFMgPSBtZXJnZShPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTLCB0YWdTZXQoJ2FkZHJlc3MsYXJ0aWNsZSwnICtcbiAgICAnYXNpZGUsYmxvY2txdW90ZSxjYXB0aW9uLGNlbnRlcixkZWwsZGV0YWlscyxkaWFsb2csZGlyLGRpdixkbCxmaWd1cmUsZmlnY2FwdGlvbixmb290ZXIsaDEsaDIsaDMsaDQsaDUsJyArXG4gICAgJ2g2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1haW4sbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHN1bW1hcnksdGFibGUsdWwnKSk7XG4vLyBJbmxpbmUgRWxlbWVudHMgLSBIVE1MNVxuY29uc3QgSU5MSU5FX0VMRU1FTlRTID0gbWVyZ2UoT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMsIHRhZ1NldCgnYSxhYmJyLGFjcm9ueW0sYXVkaW8sYiwnICtcbiAgICAnYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHBpY3R1cmUscSxydWJ5LHJwLHJ0LHMsJyArXG4gICAgJ3NhbXAsc21hbGwsc291cmNlLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHRpbWUsdHJhY2ssdHQsdSx2YXIsdmlkZW8nKSk7XG5jb25zdCBWQUxJRF9FTEVNRU5UUyA9IG1lcmdlKFZPSURfRUxFTUVOVFMsIEJMT0NLX0VMRU1FTlRTLCBJTkxJTkVfRUxFTUVOVFMsIE9QVElPTkFMX0VORF9UQUdfRUxFTUVOVFMpO1xuLy8gQXR0cmlidXRlcyB0aGF0IGhhdmUgaHJlZiBhbmQgaGVuY2UgbmVlZCB0byBiZSBzYW5pdGl6ZWRcbmNvbnN0IFVSSV9BVFRSUyA9IHRhZ1NldCgnYmFja2dyb3VuZCxjaXRlLGhyZWYsaXRlbXR5cGUsbG9uZ2Rlc2MscG9zdGVyLHNyYyx4bGluazpocmVmJyk7XG4vLyBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBzcGVjaWFsIGhyZWYgc2V0IGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG5jb25zdCBTUkNTRVRfQVRUUlMgPSB0YWdTZXQoJ3NyY3NldCcpO1xuY29uc3QgSFRNTF9BVFRSUyA9IHRhZ1NldCgnYWJicixhY2Nlc3NrZXksYWxpZ24sYWx0LGF1dG9wbGF5LGF4aXMsYmdjb2xvcixib3JkZXIsY2VsbHBhZGRpbmcsY2VsbHNwYWNpbmcsY2xhc3MsY2xlYXIsY29sb3IsY29scyxjb2xzcGFuLCcgK1xuICAgICdjb21wYWN0LGNvbnRyb2xzLGNvb3JkcyxkYXRldGltZSxkZWZhdWx0LGRpcixkb3dubG9hZCxmYWNlLGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixocmVmbGFuZyxoc3BhY2UsJyArXG4gICAgJ2lzbWFwLGl0ZW1zY29wZSxpdGVtcHJvcCxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9vcCxtZWRpYSxtdXRlZCxub2hyZWYsbm93cmFwLG9wZW4scHJlbG9hZCxyZWwscmV2LHJvbGUscm93cyxyb3dzcGFuLHJ1bGVzLCcgK1xuICAgICdzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzaXplcyxzcGFuLHNyY2xhbmcsc3RhcnQsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLCcgK1xuICAgICd2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoJyk7XG4vLyBBY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXMgYXMgcGVyIFdBSS1BUklBIDEuMSAoVzNDIFdvcmtpbmcgRHJhZnQgMTQgRGVjZW1iZXIgMjAxOClcbmNvbnN0IEFSSUFfQVRUUlMgPSB0YWdTZXQoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCxhcmlhLWF0b21pYyxhcmlhLWF1dG9jb21wbGV0ZSxhcmlhLWJ1c3ksYXJpYS1jaGVja2VkLGFyaWEtY29sY291bnQsYXJpYS1jb2xpbmRleCwnICtcbiAgICAnYXJpYS1jb2xzcGFuLGFyaWEtY29udHJvbHMsYXJpYS1jdXJyZW50LGFyaWEtZGVzY3JpYmVkYnksYXJpYS1kZXRhaWxzLGFyaWEtZGlzYWJsZWQsYXJpYS1kcm9wZWZmZWN0LCcgK1xuICAgICdhcmlhLWVycm9ybWVzc2FnZSxhcmlhLWV4cGFuZGVkLGFyaWEtZmxvd3RvLGFyaWEtZ3JhYmJlZCxhcmlhLWhhc3BvcHVwLGFyaWEtaGlkZGVuLGFyaWEtaW52YWxpZCwnICtcbiAgICAnYXJpYS1rZXlzaG9ydGN1dHMsYXJpYS1sYWJlbCxhcmlhLWxhYmVsbGVkYnksYXJpYS1sZXZlbCxhcmlhLWxpdmUsYXJpYS1tb2RhbCxhcmlhLW11bHRpbGluZSwnICtcbiAgICAnYXJpYS1tdWx0aXNlbGVjdGFibGUsYXJpYS1vcmllbnRhdGlvbixhcmlhLW93bnMsYXJpYS1wbGFjZWhvbGRlcixhcmlhLXBvc2luc2V0LGFyaWEtcHJlc3NlZCxhcmlhLXJlYWRvbmx5LCcgK1xuICAgICdhcmlhLXJlbGV2YW50LGFyaWEtcmVxdWlyZWQsYXJpYS1yb2xlZGVzY3JpcHRpb24sYXJpYS1yb3djb3VudCxhcmlhLXJvd2luZGV4LGFyaWEtcm93c3BhbixhcmlhLXNlbGVjdGVkLCcgK1xuICAgICdhcmlhLXNldHNpemUsYXJpYS1zb3J0LGFyaWEtdmFsdWVtYXgsYXJpYS12YWx1ZW1pbixhcmlhLXZhbHVlbm93LGFyaWEtdmFsdWV0ZXh0Jyk7XG4vLyBOQjogVGhpcyBjdXJyZW50bHkgY29uc2Npb3VzbHkgZG9lc24ndCBzdXBwb3J0IFNWRy4gU1ZHIHNhbml0aXphdGlvbiBoYXMgaGFkIHNldmVyYWwgc2VjdXJpdHlcbi8vIGlzc3VlcyBpbiB0aGUgcGFzdCwgc28gaXQgc2VlbXMgc2FmZXIgdG8gbGVhdmUgaXQgb3V0IGlmIHBvc3NpYmxlLiBJZiBzdXBwb3J0IGZvciBiaW5kaW5nIFNWRyB2aWFcbi8vIGlubmVySFRNTCBpcyByZXF1aXJlZCwgU1ZHIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGFkZGVkIGhlcmUuXG4vLyBOQjogU2FuaXRpemF0aW9uIGRvZXMgbm90IGFsbG93IDxmb3JtPiBlbGVtZW50cyBvciBvdGhlciBhY3RpdmUgZWxlbWVudHMgKDxidXR0b24+IGV0YykuIFRob3NlXG4vLyBjYW4gYmUgc2FuaXRpemVkLCBidXQgdGhleSBpbmNyZWFzZSBzZWN1cml0eSBzdXJmYWNlIGFyZWEgd2l0aG91dCBhIGxlZ2l0aW1hdGUgdXNlIGNhc2UsIHNvIHRoZXlcbi8vIGFyZSBsZWZ0IG91dCBoZXJlLlxuY29uc3QgVkFMSURfQVRUUlMgPSBtZXJnZShVUklfQVRUUlMsIFNSQ1NFVF9BVFRSUywgSFRNTF9BVFRSUywgQVJJQV9BVFRSUyk7XG4vLyBFbGVtZW50cyB3aG9zZSBjb250ZW50IHNob3VsZCBub3QgYmUgdHJhdmVyc2VkL3ByZXNlcnZlZCwgaWYgdGhlIGVsZW1lbnRzIHRoZW1zZWx2ZXMgYXJlIGludmFsaWQuXG4vL1xuLy8gVHlwaWNhbGx5LCBgPGludmFsaWQ+U29tZSBjb250ZW50PC9pbnZhbGlkPmAgd291bGQgdHJhdmVyc2UgKGFuZCBpbiB0aGlzIGNhc2UgcHJlc2VydmUpXG4vLyBgU29tZSBjb250ZW50YCwgYnV0IHN0cmlwIGBpbnZhbGlkLWVsZW1lbnRgIG9wZW5pbmcvY2xvc2luZyB0YWdzLiBGb3Igc29tZSBlbGVtZW50cywgdGhvdWdoLCB3ZVxuLy8gZG9uJ3Qgd2FudCB0byBwcmVzZXJ2ZSB0aGUgY29udGVudCwgaWYgdGhlIGVsZW1lbnRzIHRoZW1zZWx2ZXMgYXJlIGdvaW5nIHRvIGJlIHJlbW92ZWQuXG5jb25zdCBTS0lQX1RSQVZFUlNJTkdfQ09OVEVOVF9JRl9JTlZBTElEX0VMRU1FTlRTID0gdGFnU2V0KCdzY3JpcHQsc3R5bGUsdGVtcGxhdGUnKTtcbi8qKlxuICogU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIHNlcmlhbGl6ZXMgYSBET00gZnJhZ21lbnQsIHN0cmlwcGluZyBvdXQgYW55IHVuc2FmZSBlbGVtZW50cyBhbmQgdW5zYWZlXG4gKiBhdHRyaWJ1dGVzLlxuICovXG5jbGFzcyBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBFeHBsaWNpdGx5IHRyYWNrIGlmIHNvbWV0aGluZyB3YXMgc3RyaXBwZWQsIHRvIGF2b2lkIGFjY2lkZW50YWxseSB3YXJuaW5nIG9mIHNhbml0aXphdGlvbiBqdXN0XG4gICAgICAgIC8vIGJlY2F1c2UgY2hhcmFjdGVycyB3ZXJlIHJlLWVuY29kZWQuXG4gICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmID0gW107XG4gICAgfVxuICAgIHNhbml0aXplQ2hpbGRyZW4oZWwpIHtcbiAgICAgICAgLy8gVGhpcyBjYW5ub3QgdXNlIGEgVHJlZVdhbGtlciwgYXMgaXQgaGFzIHRvIHJ1biBvbiBBbmd1bGFyJ3MgdmFyaW91cyBET00gYWRhcHRlcnMuXG4gICAgICAgIC8vIEhvd2V2ZXIgdGhpcyBjb2RlIG5ldmVyIGFjY2Vzc2VzIHByb3BlcnRpZXMgb2ZmIG9mIGBkb2N1bWVudGAgYmVmb3JlIGRlbGV0aW5nIGl0cyBjb250ZW50c1xuICAgICAgICAvLyBhZ2Fpbiwgc28gaXQgc2hvdWxkbid0IGJlIHZ1bG5lcmFibGUgdG8gRE9NIGNsb2JiZXJpbmcuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgbGV0IHRyYXZlcnNlQ29udGVudCA9IHRydWU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZUNvbnRlbnQgPSB0aGlzLnN0YXJ0RWxlbWVudChjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFycyhjdXJyZW50Lm5vZGVWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTdHJpcCBub24tZWxlbWVudCwgbm9uLXRleHQgbm9kZXMuXG4gICAgICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYXZlcnNlQ29udGVudCAmJiBjdXJyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBMZWF2aW5nIHRoZSBlbGVtZW50LiBXYWxrIHVwIGFuZCB0byB0aGUgcmlnaHQsIGNsb3NpbmcgdGFncyBhcyB3ZSBnby5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRFbGVtZW50KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KGN1cnJlbnQsIGN1cnJlbnQubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KGN1cnJlbnQsIGN1cnJlbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW5pdGl6ZXMgYW4gb3BlbmluZyBlbGVtZW50IHRhZyAoaWYgdmFsaWQpIGFuZCByZXR1cm5zIHdoZXRoZXIgdGhlIGVsZW1lbnQncyBjb250ZW50cyBzaG91bGRcbiAgICAgKiBiZSB0cmF2ZXJzZWQuIEVsZW1lbnQgY29udGVudCBtdXN0IGFsd2F5cyBiZSB0cmF2ZXJzZWQgKGV2ZW4gaWYgdGhlIGVsZW1lbnQgaXRzZWxmIGlzIG5vdFxuICAgICAqIHZhbGlkL3NhZmUpLCB1bmxlc3MgdGhlIGVsZW1lbnQgaXMgb25lIG9mIGBTS0lQX1RSQVZFUlNJTkdfQ09OVEVOVF9JRl9JTlZBTElEX0VMRU1FTlRTYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNhbml0aXplLlxuICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgZWxlbWVudCdzIGNvbnRlbnRzIHNob3VsZCBiZSB0cmF2ZXJzZWQuXG4gICAgICovXG4gICAgc3RhcnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCFWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuICFTS0lQX1RSQVZFUlNJTkdfQ09OVEVOVF9JRl9JTlZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmLnB1c2goJzwnKTtcbiAgICAgICAgdGhpcy5idWYucHVzaCh0YWdOYW1lKTtcbiAgICAgICAgY29uc3QgZWxBdHRycyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbEF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbEF0dHIgPSBlbEF0dHJzLml0ZW0oaSk7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGVsQXR0ci5uYW1lO1xuICAgICAgICAgICAgY29uc3QgbG93ZXIgPSBhdHRyTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCFWQUxJRF9BVFRSUy5oYXNPd25Qcm9wZXJ0eShsb3dlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBlbEF0dHIudmFsdWU7XG4gICAgICAgICAgICAvLyBUT0RPKG1hcnRpbnByb2JzdCk6IFNwZWNpYWwgY2FzZSBpbWFnZSBVUklzIGZvciBkYXRhOmltYWdlLy4uLlxuICAgICAgICAgICAgaWYgKFVSSV9BVFRSU1tsb3dlcl0pXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBfc2FuaXRpemVVcmwodmFsdWUpO1xuICAgICAgICAgICAgaWYgKFNSQ1NFVF9BVFRSU1tsb3dlcl0pXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZVNyY3NldCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCcgJywgYXR0ck5hbWUsICc9XCInLCBlbmNvZGVFbnRpdGllcyh2YWx1ZSksICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmLnB1c2goJz4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVuZEVsZW1lbnQoY3VycmVudCkge1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gY3VycmVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkgJiYgIVZPSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2goJzwvJyk7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKHRhZ05hbWUpO1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnPicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoYXJzKGNoYXJzKSB7XG4gICAgICAgIHRoaXMuYnVmLnB1c2goZW5jb2RlRW50aXRpZXMoY2hhcnMpKTtcbiAgICB9XG4gICAgY2hlY2tDbG9iYmVyZWRFbGVtZW50KG5vZGUsIG5leHROb2RlKSB7XG4gICAgICAgIGlmIChuZXh0Tm9kZSAmJlxuICAgICAgICAgICAgKG5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24obmV4dE5vZGUpICZcbiAgICAgICAgICAgICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSkgPT09IE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGVsZW1lbnQgaXMgY2xvYmJlcmVkOiAke25vZGUub3V0ZXJIVE1MfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgICB9XG59XG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcbmNvbnN0IFNVUlJPR0FURV9QQUlSX1JFR0VYUCA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2c7XG4vLyAhIHRvIH4gaXMgdGhlIEFTQ0lJIHJhbmdlLlxuY29uc3QgTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAgPSAvKFteXFwjLX4gfCFdKS9nO1xuLyoqXG4gKiBFc2NhcGVzIGFsbCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgY2hhcmFjdGVycywgc28gdGhhdCB0aGVcbiAqIHJlc3VsdGluZyBzdHJpbmcgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGF0dHJpYnV0ZSBvclxuICogZWxlbWVudCB0ZXh0LlxuICogQHBhcmFtIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUVudGl0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2UoU1VSUk9HQVRFX1BBSVJfUkVHRVhQLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgaGkgPSBtYXRjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICBjb25zdCBsb3cgPSBtYXRjaC5jaGFyQ29kZUF0KDEpO1xuICAgICAgICByZXR1cm4gJyYjJyArICgoKGhpIC0gMHhEODAwKSAqIDB4NDAwKSArIChsb3cgLSAweERDMDApICsgMHgxMDAwMCkgKyAnOyc7XG4gICAgfSlcbiAgICAgICAgLnJlcGxhY2UoTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gJyYjJyArIG1hdGNoLmNoYXJDb2RlQXQoMCkgKyAnOyc7XG4gICAgfSlcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xufVxubGV0IGluZXJ0Qm9keUhlbHBlcjtcbi8qKlxuICogU2FuaXRpemVzIHRoZSBnaXZlbiB1bnNhZmUsIHVudHJ1c3RlZCBIVE1MIGZyYWdtZW50LCBhbmQgcmV0dXJucyBIVE1MIHRleHQgdGhhdCBpcyBzYWZlIHRvIGFkZCB0b1xuICogdGhlIERPTSBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIF9zYW5pdGl6ZUh0bWwoZGVmYXVsdERvYywgdW5zYWZlSHRtbElucHV0KSB7XG4gICAgbGV0IGluZXJ0Qm9keUVsZW1lbnQgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAgIGluZXJ0Qm9keUhlbHBlciA9IGluZXJ0Qm9keUhlbHBlciB8fCBnZXRJbmVydEJvZHlIZWxwZXIoZGVmYXVsdERvYyk7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB1bnNhZmVIdG1sIGlzIGFjdHVhbGx5IGEgc3RyaW5nIChUeXBlU2NyaXB0IHR5cGVzIGFyZSBub3QgZW5mb3JjZWQgYXQgcnVudGltZSkuXG4gICAgICAgIGxldCB1bnNhZmVIdG1sID0gdW5zYWZlSHRtbElucHV0ID8gU3RyaW5nKHVuc2FmZUh0bWxJbnB1dCkgOiAnJztcbiAgICAgICAgaW5lcnRCb2R5RWxlbWVudCA9IGluZXJ0Qm9keUhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHVuc2FmZUh0bWwpO1xuICAgICAgICAvLyBtWFNTIHByb3RlY3Rpb24uIFJlcGVhdGVkbHkgcGFyc2UgdGhlIGRvY3VtZW50IHRvIG1ha2Ugc3VyZSBpdCBzdGFiaWxpemVzLCBzbyB0aGF0IGEgYnJvd3NlclxuICAgICAgICAvLyB0cnlpbmcgdG8gYXV0by1jb3JyZWN0IGluY29ycmVjdCBIVE1MIGNhbm5vdCBjYXVzZSBmb3JtZXJseSBpbmVydCBIVE1MIHRvIGJlY29tZSBkYW5nZXJvdXMuXG4gICAgICAgIGxldCBtWFNTQXR0ZW1wdHMgPSA1O1xuICAgICAgICBsZXQgcGFyc2VkSHRtbCA9IHVuc2FmZUh0bWw7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChtWFNTQXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGlucHV0IGlzIHVuc3RhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtWFNTQXR0ZW1wdHMtLTtcbiAgICAgICAgICAgIHVuc2FmZUh0bWwgPSBwYXJzZWRIdG1sO1xuICAgICAgICAgICAgcGFyc2VkSHRtbCA9IGluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgICAgICAgaW5lcnRCb2R5RWxlbWVudCA9IGluZXJ0Qm9keUhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHVuc2FmZUh0bWwpO1xuICAgICAgICB9IHdoaWxlICh1bnNhZmVIdG1sICE9PSBwYXJzZWRIdG1sKTtcbiAgICAgICAgY29uc3Qgc2FuaXRpemVyID0gbmV3IFNhbml0aXppbmdIdG1sU2VyaWFsaXplcigpO1xuICAgICAgICBjb25zdCBzYWZlSHRtbCA9IHNhbml0aXplci5zYW5pdGl6ZUNoaWxkcmVuKGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50KTtcbiAgICAgICAgaWYgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIHNhbml0aXplci5zYW5pdGl6ZWRTb21ldGhpbmcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogc2FuaXRpemluZyBIVE1MIHN0cmlwcGVkIHNvbWUgY29udGVudCwgc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKHNhZmVIdG1sKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIC8vIEluIGNhc2UgYW55dGhpbmcgZ29lcyB3cm9uZywgY2xlYXIgb3V0IGluZXJ0RWxlbWVudCB0byByZXNldCB0aGUgZW50aXJlIERPTSBzdHJ1Y3R1cmUuXG4gICAgICAgIGlmIChpbmVydEJvZHlFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBnZXRUZW1wbGF0ZUNvbnRlbnQoaW5lcnRCb2R5RWxlbWVudCkgfHwgaW5lcnRCb2R5RWxlbWVudDtcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUZW1wbGF0ZUNvbnRlbnQoZWwpIHtcbiAgICByZXR1cm4gJ2NvbnRlbnQnIGluIGVsIC8qKiBNaWNyb3NvZnQvVHlwZVNjcmlwdCMyMTUxNyAqLyAmJiBpc1RlbXBsYXRlRWxlbWVudChlbCkgP1xuICAgICAgICBlbC5jb250ZW50IDpcbiAgICAgICAgbnVsbDtcbn1cbmZ1bmN0aW9uIGlzVGVtcGxhdGVFbGVtZW50KGVsKSB7XG4gICAgcmV0dXJuIGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlbC5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgU2VjdXJpdHlDb250ZXh0IG1hcmtzIGEgbG9jYXRpb24gdGhhdCBoYXMgZGFuZ2Vyb3VzIHNlY3VyaXR5IGltcGxpY2F0aW9ucywgZS5nLiBhIERPTSBwcm9wZXJ0eVxuICogbGlrZSBgaW5uZXJIVE1MYCB0aGF0IGNvdWxkIGNhdXNlIENyb3NzIFNpdGUgU2NyaXB0aW5nIChYU1MpIHNlY3VyaXR5IGJ1Z3Mgd2hlbiBpbXByb3Blcmx5XG4gKiBoYW5kbGVkLlxuICpcbiAqIFNlZSBEb21TYW5pdGl6ZXIgZm9yIG1vcmUgZGV0YWlscyBvbiBzZWN1cml0eSBpbiBBbmd1bGFyIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBTZWN1cml0eUNvbnRleHQ7XG4oZnVuY3Rpb24gKFNlY3VyaXR5Q29udGV4dCkge1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiSFRNTFwiXSA9IDFdID0gXCJIVE1MXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlNUWUxFXCJdID0gMl0gPSBcIlNUWUxFXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlNDUklQVFwiXSA9IDNdID0gXCJTQ1JJUFRcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiVVJMXCJdID0gNF0gPSBcIlVSTFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJSRVNPVVJDRV9VUkxcIl0gPSA1XSA9IFwiUkVTT1VSQ0VfVVJMXCI7XG59KShTZWN1cml0eUNvbnRleHQgfHwgKFNlY3VyaXR5Q29udGV4dCA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiBgaHRtbGAgc2FuaXRpemVyIHdoaWNoIGNvbnZlcnRzIHVudHJ1c3RlZCBgaHRtbGAgKipzdHJpbmcqKiBpbnRvIHRydXN0ZWQgc3RyaW5nIGJ5IHJlbW92aW5nXG4gKiBkYW5nZXJvdXMgY29udGVudC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBwYXJzZXMgdGhlIGBodG1sYCBhbmQgbG9jYXRlcyBwb3RlbnRpYWxseSBkYW5nZXJvdXMgY29udGVudCAoc3VjaCBhcyB1cmxzIGFuZFxuICogamF2YXNjcmlwdCkgYW5kIHJlbW92ZXMgaXQuXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gbWFyayBhIHN0cmluZyBhcyB0cnVzdGVkIGJ5IGNhbGxpbmcge0BsaW5rIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZUh0bWwgdW50cnVzdGVkIGBodG1sYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgaHRtbGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gZGlzcGxheSB0byB1c2VyLCBiZWNhdXNlIGFsbCBvZiB0aGUgZGFuZ2Vyb3VzIGphdmFzY3JpcHRcbiAqIGFuZCB1cmxzIGhhdmUgYmVlbiByZW1vdmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZUh0bWwodW5zYWZlSHRtbCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRIVE1MRnJvbVN0cmluZ0J5cGFzcyhzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LkhUTUwsIHVuc2FmZUh0bWwpIHx8ICcnKTtcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlSHRtbCwgXCJIVE1MXCIgLyogSHRtbCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRIVE1MRnJvbVN0cmluZ0J5cGFzcyh1bndyYXBTYWZlVmFsdWUodW5zYWZlSHRtbCkpO1xuICAgIH1cbiAgICByZXR1cm4gX3Nhbml0aXplSHRtbChnZXREb2N1bWVudCgpLCByZW5kZXJTdHJpbmdpZnkodW5zYWZlSHRtbCkpO1xufVxuLyoqXG4gKiBBIGBzdHlsZWAgc2FuaXRpemVyIHdoaWNoIGNvbnZlcnRzIHVudHJ1c3RlZCBgc3R5bGVgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzIGNvbnRlbnQuXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gbWFyayBhIHN0cmluZyBhcyB0cnVzdGVkIGJ5IGNhbGxpbmcge0BsaW5rIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGV9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVTdHlsZSB1bnRydXN0ZWQgYHN0eWxlYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgc3R5bGVgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGBzdHlsZWAgcHJvcGVydGllcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVTdHlsZSh1bnNhZmVTdHlsZSkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuU1RZTEUsIHVuc2FmZVN0eWxlKSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlU3R5bGUsIFwiU3R5bGVcIiAvKiBTdHlsZSAqLykpIHtcbiAgICAgICAgcmV0dXJuIHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVTdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJTdHJpbmdpZnkodW5zYWZlU3R5bGUpO1xufVxuLyoqXG4gKiBBIGB1cmxgIHNhbml0aXplciB3aGljaCBjb252ZXJ0cyB1bnRydXN0ZWQgYHVybGAgKipzdHJpbmcqKiBpbnRvIHRydXN0ZWQgc3RyaW5nIGJ5IHJlbW92aW5nXG4gKiBkYW5nZXJvdXNcbiAqIGNvbnRlbnQuXG4gKlxuICogVGhpcyBtZXRob2QgcGFyc2VzIHRoZSBgdXJsYCBhbmQgbG9jYXRlcyBwb3RlbnRpYWxseSBkYW5nZXJvdXMgY29udGVudCAoc3VjaCBhcyBqYXZhc2NyaXB0KSBhbmRcbiAqIHJlbW92ZXMgaXQuXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gbWFyayBhIHN0cmluZyBhcyB0cnVzdGVkIGJ5IGNhbGxpbmcge0BsaW5rIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0VXJsfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlVXJsIHVudHJ1c3RlZCBgdXJsYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgc3JjYCBwcm9wZXJ0aWVzIHN1Y2ggYXMgYDxpbWcgc3JjPmAsIGJlY2F1c2VcbiAqIGFsbCBvZiB0aGUgZGFuZ2Vyb3VzIGphdmFzY3JpcHQgaGFzIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVVcmwodW5zYWZlVXJsKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5VUkwsIHVuc2FmZVVybCkgfHwgJyc7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVVybCwgXCJVUkxcIiAvKiBVcmwgKi8pKSB7XG4gICAgICAgIHJldHVybiB1bndyYXBTYWZlVmFsdWUodW5zYWZlVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIF9zYW5pdGl6ZVVybChyZW5kZXJTdHJpbmdpZnkodW5zYWZlVXJsKSk7XG59XG4vKipcbiAqIEEgYHVybGAgc2FuaXRpemVyIHdoaWNoIG9ubHkgbGV0cyB0cnVzdGVkIGB1cmxgcyB0aHJvdWdoLlxuICpcbiAqIFRoaXMgcGFzc2VzIG9ubHkgYHVybGBzIG1hcmtlZCB0cnVzdGVkIGJ5IGNhbGxpbmcge0BsaW5rIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmx9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVSZXNvdXJjZVVybCB1bnRydXN0ZWQgYHVybGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHNyY2AgcHJvcGVydGllcyBzdWNoIGFzIGA8aW1nIHNyYz5gLCBiZWNhdXNlXG4gKiBvbmx5IHRydXN0ZWQgYHVybGBzIGhhdmUgYmVlbiBhbGxvd2VkIHRvIHBhc3MuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplUmVzb3VyY2VVcmwodW5zYWZlUmVzb3VyY2VVcmwpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZ0J5cGFzcyhzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlJFU09VUkNFX1VSTCwgdW5zYWZlUmVzb3VyY2VVcmwpIHx8ICcnKTtcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlUmVzb3VyY2VVcmwsIFwiUmVzb3VyY2VVUkxcIiAvKiBSZXNvdXJjZVVybCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nQnlwYXNzKHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVSZXNvdXJjZVVybCkpO1xuICAgIH1cbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICd1bnNhZmUgdmFsdWUgdXNlZCBpbiBhIHJlc291cmNlIFVSTCBjb250ZXh0IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcyknIDpcbiAgICAgICAgJyc7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDQgLyogVU5TQUZFX1ZBTFVFX0lOX1JFU09VUkNFX1VSTCAqLywgZXJyb3JNZXNzYWdlKTtcbn1cbi8qKlxuICogQSBgc2NyaXB0YCBzYW5pdGl6ZXIgd2hpY2ggb25seSBsZXRzIHRydXN0ZWQgamF2YXNjcmlwdCB0aHJvdWdoLlxuICpcbiAqIFRoaXMgcGFzc2VzIG9ubHkgYHNjcmlwdGBzIG1hcmtlZCB0cnVzdGVkIGJ5IGNhbGxpbmcge0BsaW5rXG4gKiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVNjcmlwdCB1bnRydXN0ZWQgYHNjcmlwdGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYDxzY3JpcHQ+YCBlbGVtZW50IHN1Y2ggYXMgYDxpbWcgc3JjPmAsXG4gKiBiZWNhdXNlIG9ubHkgdHJ1c3RlZCBgc2NyaXB0c2AgaGF2ZSBiZWVuIGFsbG93ZWQgdG8gcGFzcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVTY3JpcHQodW5zYWZlU2NyaXB0KSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmdCeXBhc3Moc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5TQ1JJUFQsIHVuc2FmZVNjcmlwdCkgfHwgJycpO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVTY3JpcHQsIFwiU2NyaXB0XCIgLyogU2NyaXB0ICovKSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmdCeXBhc3ModW53cmFwU2FmZVZhbHVlKHVuc2FmZVNjcmlwdCkpO1xuICAgIH1cbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICd1bnNhZmUgdmFsdWUgdXNlZCBpbiBhIHNjcmlwdCBjb250ZXh0JyA6XG4gICAgICAgICcnO1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTA1IC8qIFVOU0FGRV9WQUxVRV9JTl9TQ1JJUFQgKi8sIGVycm9yTWVzc2FnZSk7XG59XG4vKipcbiAqIEEgdGVtcGxhdGUgdGFnIGZ1bmN0aW9uIGZvciBwcm9tb3RpbmcgdGhlIGFzc29jaWF0ZWQgY29uc3RhbnQgbGl0ZXJhbCB0byBhXG4gKiBUcnVzdGVkSFRNTC4gSW50ZXJwb2xhdGlvbiBpcyBleHBsaWNpdGx5IG5vdCBhbGxvd2VkLlxuICpcbiAqIEBwYXJhbSBodG1sIGNvbnN0YW50IHRlbXBsYXRlIGxpdGVyYWwgY29udGFpbmluZyB0cnVzdGVkIEhUTUwuXG4gKiBAcmV0dXJucyBUcnVzdGVkSFRNTCB3cmFwcGluZyBgaHRtbGAuXG4gKlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb24gYW5kIHNob3VsZCBvbmx5IGJlIHVzZWQgdG9cbiAqIGNvbnZlcnQgY29uc3RhbnQgdmFsdWVzIG9mIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXMgZm91bmQgaW5cbiAqIGFwcGxpY2F0aW9uLXByb3ZpZGVkIEFuZ3VsYXIgdGVtcGxhdGVzIHRvIFRydXN0ZWRIVE1MLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0cnVzdENvbnN0YW50SHRtbChodG1sKSB7XG4gICAgLy8gVGhlIGZvbGxvd2luZyBydW50aW1lIGNoZWNrIGVuc3VyZXMgdGhhdCB0aGUgZnVuY3Rpb24gd2FzIGNhbGxlZCBhcyBhXG4gICAgLy8gdGVtcGxhdGUgdGFnIChlLmcuIMm1ybV0cnVzdENvbnN0YW50SHRtbGBjb250ZW50YCksIHdpdGhvdXQgYW55IGludGVycG9sYXRpb25cbiAgICAvLyAoZS5nLiBub3QgybXJtXRydXN0Q29uc3RhbnRIdG1sYGNvbnRlbnQgJHt2YXJpYWJsZX1gKS4gQSBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICAgIC8vIGlzIGFuIGFycmF5IHdpdGggYSBgcmF3YCBwcm9wZXJ0eSB0aGF0IGlzIGFsc28gYW4gYXJyYXkuIFRoZSBhc3NvY2lhdGVkXG4gICAgLy8gdGVtcGxhdGUgbGl0ZXJhbCBoYXMgbm8gaW50ZXJwb2xhdGlvbiBpZiBhbmQgb25seSBpZiB0aGUgbGVuZ3RoIG9mIHRoZVxuICAgIC8vIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIDEuXG4gICAgaWYgKG5nRGV2TW9kZSAmJiAoIUFycmF5LmlzQXJyYXkoaHRtbCkgfHwgIUFycmF5LmlzQXJyYXkoaHRtbC5yYXcpIHx8IGh0bWwubGVuZ3RoICE9PSAxKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW50ZXJwb2xhdGlvbiBpbiB0cnVzdGVkIEhUTUwgY29uc3RhbnQ6ICR7aHRtbC5qb2luKCc/Jyl9YCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbFswXSk7XG59XG4vKipcbiAqIEEgdGVtcGxhdGUgdGFnIGZ1bmN0aW9uIGZvciBwcm9tb3RpbmcgdGhlIGFzc29jaWF0ZWQgY29uc3RhbnQgbGl0ZXJhbCB0byBhXG4gKiBUcnVzdGVkU2NyaXB0VVJMLiBJbnRlcnBvbGF0aW9uIGlzIGV4cGxpY2l0bHkgbm90IGFsbG93ZWQuXG4gKlxuICogQHBhcmFtIHVybCBjb25zdGFudCB0ZW1wbGF0ZSBsaXRlcmFsIGNvbnRhaW5pbmcgYSB0cnVzdGVkIHNjcmlwdCBVUkwuXG4gKiBAcmV0dXJucyBUcnVzdGVkU2NyaXB0VVJMIHdyYXBwaW5nIGB1cmxgLlxuICpcbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uIGFuZCBzaG91bGQgb25seSBiZSB1c2VkIHRvXG4gKiBjb252ZXJ0IGNvbnN0YW50IHZhbHVlcyBvZiBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzIGZvdW5kIGluXG4gKiBhcHBsaWNhdGlvbi1wcm92aWRlZCBBbmd1bGFyIHRlbXBsYXRlcyB0byBUcnVzdGVkU2NyaXB0VVJMLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwodXJsKSB7XG4gICAgLy8gVGhlIGZvbGxvd2luZyBydW50aW1lIGNoZWNrIGVuc3VyZXMgdGhhdCB0aGUgZnVuY3Rpb24gd2FzIGNhbGxlZCBhcyBhXG4gICAgLy8gdGVtcGxhdGUgdGFnIChlLmcuIMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmxgY29udGVudGApLCB3aXRob3V0IGFueVxuICAgIC8vIGludGVycG9sYXRpb24gKGUuZy4gbm90IMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmxgY29udGVudCAke3ZhcmlhYmxlfWApLiBBXG4gICAgLy8gVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgYW4gYXJyYXkgd2l0aCBhIGByYXdgIHByb3BlcnR5IHRoYXQgaXMgYWxzbyBhblxuICAgIC8vIGFycmF5LiBUaGUgYXNzb2NpYXRlZCB0ZW1wbGF0ZSBsaXRlcmFsIGhhcyBubyBpbnRlcnBvbGF0aW9uIGlmIGFuZCBvbmx5IGlmXG4gICAgLy8gdGhlIGxlbmd0aCBvZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgMS5cbiAgICBpZiAobmdEZXZNb2RlICYmICghQXJyYXkuaXNBcnJheSh1cmwpIHx8ICFBcnJheS5pc0FycmF5KHVybC5yYXcpIHx8IHVybC5sZW5ndGggIT09IDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnRlcnBvbGF0aW9uIGluIHRydXN0ZWQgVVJMIGNvbnN0YW50OiAke3VybC5qb2luKCc/Jyl9YCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZyh1cmxbMF0pO1xufVxuLyoqXG4gKiBEZXRlY3RzIHdoaWNoIHNhbml0aXplciB0byB1c2UgZm9yIFVSTCBwcm9wZXJ0eSwgYmFzZWQgb24gdGFnIG5hbWUgYW5kIHByb3AgbmFtZS5cbiAqXG4gKiBUaGUgcnVsZXMgYXJlIGJhc2VkIG9uIHRoZSBSRVNPVVJDRV9VUkwgY29udGV4dCBjb25maWcgZnJvbVxuICogYHBhY2thZ2VzL2NvbXBpbGVyL3NyYy9zY2hlbWEvZG9tX3NlY3VyaXR5X3NjaGVtYS50c2AuXG4gKiBJZiB0YWcgYW5kIHByb3AgbmFtZXMgZG9uJ3QgbWF0Y2ggUmVzb3VyY2UgVVJMIHNjaGVtYSwgdXNlIFVSTCBzYW5pdGl6ZXIuXG4gKi9cbmZ1bmN0aW9uIGdldFVybFNhbml0aXplcih0YWcsIHByb3ApIHtcbiAgICBpZiAoKHByb3AgPT09ICdzcmMnICYmXG4gICAgICAgICh0YWcgPT09ICdlbWJlZCcgfHwgdGFnID09PSAnZnJhbWUnIHx8IHRhZyA9PT0gJ2lmcmFtZScgfHwgdGFnID09PSAnbWVkaWEnIHx8XG4gICAgICAgICAgICB0YWcgPT09ICdzY3JpcHQnKSkgfHxcbiAgICAgICAgKHByb3AgPT09ICdocmVmJyAmJiAodGFnID09PSAnYmFzZScgfHwgdGFnID09PSAnbGluaycpKSkge1xuICAgICAgICByZXR1cm4gybXJtXNhbml0aXplUmVzb3VyY2VVcmw7XG4gICAgfVxuICAgIHJldHVybiDJtcm1c2FuaXRpemVVcmw7XG59XG4vKipcbiAqIFNhbml0aXplcyBVUkwsIHNlbGVjdGluZyBzYW5pdGl6ZXIgZnVuY3Rpb24gYmFzZWQgb24gdGFnIGFuZCBwcm9wZXJ0eSBuYW1lcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgaW4gY2FzZSB3ZSBjYW4ndCBkZWZpbmUgc2VjdXJpdHkgY29udGV4dCBhdCBjb21waWxlIHRpbWUsIHdoZW4gb25seSBwcm9wXG4gKiBuYW1lIGlzIGF2YWlsYWJsZS4gVGhpcyBoYXBwZW5zIHdoZW4gd2UgZ2VuZXJhdGUgaG9zdCBiaW5kaW5ncyBmb3IgRGlyZWN0aXZlcy9Db21wb25lbnRzLiBUaGVcbiAqIGhvc3QgZWxlbWVudCBpcyB1bmtub3duIGF0IGNvbXBpbGUgdGltZSwgc28gd2UgZGVmZXIgY2FsY3VsYXRpb24gb2Ygc3BlY2lmaWMgc2FuaXRpemVyIHRvXG4gKiBydW50aW1lLlxuICpcbiAqIEBwYXJhbSB1bnNhZmVVcmwgdW50cnVzdGVkIGB1cmxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEBwYXJhbSB0YWcgdGFyZ2V0IGVsZW1lbnQgdGFnIG5hbWUuXG4gKiBAcGFyYW0gcHJvcCBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCh1bnNhZmVVcmwsIHRhZywgcHJvcCkge1xuICAgIHJldHVybiBnZXRVcmxTYW5pdGl6ZXIodGFnLCBwcm9wKSh1bnNhZmVVcmwpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVBZ2FpbnN0RXZlbnRQcm9wZXJ0aWVzKG5hbWUpIHtcbiAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYEJpbmRpbmcgdG8gZXZlbnQgcHJvcGVydHkgJyR7bmFtZX0nIGlzIGRpc2FsbG93ZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIGAgK1xuICAgICAgICAgICAgYHBsZWFzZSB1c2UgKCR7bmFtZS5zbGljZSgyKX0pPS4uLmAgK1xuICAgICAgICAgICAgYFxcbklmICcke25hbWV9JyBpcyBhIGRpcmVjdGl2ZSBpbnB1dCwgbWFrZSBzdXJlIHRoZSBkaXJlY3RpdmUgaXMgaW1wb3J0ZWQgYnkgdGhlYCArXG4gICAgICAgICAgICBgIGN1cnJlbnQgbW9kdWxlLmA7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMzA2IC8qIElOVkFMSURfRVZFTlRfQklORElORyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFnYWluc3RFdmVudEF0dHJpYnV0ZXMobmFtZSkge1xuICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnb24nKSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgQmluZGluZyB0byBldmVudCBhdHRyaWJ1dGUgJyR7bmFtZX0nIGlzIGRpc2FsbG93ZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIGAgK1xuICAgICAgICAgICAgYHBsZWFzZSB1c2UgKCR7bmFtZS5zbGljZSgyKX0pPS4uLmA7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMzA2IC8qIElOVkFMSURfRVZFTlRfQklORElORyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRTYW5pdGl6ZXIoKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHJldHVybiBsVmlldyAmJiBsVmlld1tTQU5JVElaRVJdO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgbWF0Y2hpbmcgYExDb250ZXh0YCBkYXRhIGZvciBhIGdpdmVuIERPTSBub2RlLCBkaXJlY3RpdmUgb3IgY29tcG9uZW50IGluc3RhbmNlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBleGFtaW5lIHRoZSBwcm92aWRlZCBET00gZWxlbWVudCwgY29tcG9uZW50LCBvciBkaXJlY3RpdmUgaW5zdGFuY2VcXCdzXG4gKiBtb25rZXktcGF0Y2hlZCBwcm9wZXJ0eSB0byBkZXJpdmUgdGhlIGBMQ29udGV4dGAgZGF0YS4gT25jZSBjYWxsZWQgdGhlbiB0aGUgbW9ua2V5LXBhdGNoZWRcbiAqIHZhbHVlIHdpbGwgYmUgdGhhdCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBgTENvbnRleHRgLlxuICpcbiAqIElmIHRoZSBtb25rZXktcGF0Y2hlZCB2YWx1ZSBpcyB0aGUgYExWaWV3YCBpbnN0YW5jZSB0aGVuIHRoZSBjb250ZXh0IHZhbHVlIGZvciB0aGF0XG4gKiB0YXJnZXQgd2lsbCBiZSBjcmVhdGVkIGFuZCB0aGUgbW9ua2V5LXBhdGNoIHJlZmVyZW5jZSB3aWxsIGJlIHVwZGF0ZWQuIFRoZXJlZm9yZSB3aGVuIHRoaXNcbiAqIGZ1bmN0aW9uIGlzIGNhbGxlZCBpdCBtYXkgbXV0YXRlIHRoZSBwcm92aWRlZCBlbGVtZW50XFwncywgY29tcG9uZW50XFwncyBvciBhbnkgb2YgdGhlIGFzc29jaWF0ZWRcbiAqIGRpcmVjdGl2ZVxcJ3MgbW9ua2V5LXBhdGNoIHZhbHVlcy5cbiAqXG4gKiBJZiB0aGUgbW9ua2V5LXBhdGNoIHZhbHVlIGlzIG5vdCBkZXRlY3RlZCB0aGVuIHRoZSBjb2RlIHdpbGwgd2FsayB1cCB0aGUgRE9NIHVudGlsIGFuIGVsZW1lbnRcbiAqIGlzIGZvdW5kIHdoaWNoIGNvbnRhaW5zIGEgbW9ua2V5LXBhdGNoIHJlZmVyZW5jZS4gV2hlbiB0aGF0IG9jY3VycyB0aGVuIHRoZSBwcm92aWRlZCBlbGVtZW50XG4gKiB3aWxsIGJlIHVwZGF0ZWQgd2l0aCBhIG5ldyBjb250ZXh0ICh3aGljaCBpcyB0aGVuIHJldHVybmVkKS4gSWYgdGhlIG1vbmtleS1wYXRjaCB2YWx1ZSBpcyBub3RcbiAqIGRldGVjdGVkIGZvciBhIGNvbXBvbmVudC9kaXJlY3RpdmUgaW5zdGFuY2UgdGhlbiBpdCB3aWxsIHRocm93IGFuIGVycm9yIChhbGwgY29tcG9uZW50cyBhbmRcbiAqIGRpcmVjdGl2ZXMgc2hvdWxkIGJlIGF1dG9tYXRpY2FsbHkgbW9ua2V5LXBhdGNoZWQgYnkgaXZ5KS5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IENvbXBvbmVudCwgRGlyZWN0aXZlIG9yIERPTSBOb2RlLlxuICovXG5mdW5jdGlvbiBnZXRMQ29udGV4dCh0YXJnZXQpIHtcbiAgICBsZXQgbXBWYWx1ZSA9IHJlYWRQYXRjaGVkRGF0YSh0YXJnZXQpO1xuICAgIGlmIChtcFZhbHVlKSB7XG4gICAgICAgIC8vIG9ubHkgd2hlbiBpdCdzIGFuIGFycmF5IGlzIGl0IGNvbnNpZGVyZWQgYW4gTFZpZXcgaW5zdGFuY2VcbiAgICAgICAgLy8gLi4uIG90aGVyd2lzZSBpdCdzIGFuIGFscmVhZHkgY29uc3RydWN0ZWQgTENvbnRleHQgaW5zdGFuY2VcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobXBWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxWaWV3ID0gbXBWYWx1ZTtcbiAgICAgICAgICAgIGxldCBub2RlSW5kZXg7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGRpcmVjdGl2ZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gZmluZFZpYUNvbXBvbmVudChsVmlldywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHByb3ZpZGVkIGNvbXBvbmVudCB3YXMgbm90IGZvdW5kIGluIHRoZSBhcHBsaWNhdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0RpcmVjdGl2ZUluc3RhbmNlKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhRGlyZWN0aXZlKGxWaWV3LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgZGlyZWN0aXZlIHdhcyBub3QgZm91bmQgaW4gdGhlIGFwcGxpY2F0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gZmluZFZpYU5hdGl2ZUVsZW1lbnQobFZpZXcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aGUgZ29hbCBpcyBub3QgdG8gZmlsbCB0aGUgZW50aXJlIGNvbnRleHQgZnVsbCBvZiBkYXRhIGJlY2F1c2UgdGhlIGxvb2t1cHNcbiAgICAgICAgICAgIC8vIGFyZSBleHBlbnNpdmUuIEluc3RlYWQsIG9ubHkgdGhlIHRhcmdldCBkYXRhICh0aGUgZWxlbWVudCwgY29tcG9uZW50LCBjb250YWluZXIsIElDVVxuICAgICAgICAgICAgLy8gZXhwcmVzc2lvbiBvciBkaXJlY3RpdmUgZGV0YWlscykgYXJlIGZpbGxlZCBpbnRvIHRoZSBjb250ZXh0LiBJZiBjYWxsZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgIC8vIHdpdGggZGlmZmVyZW50IHRhcmdldCB2YWx1ZXMgdGhlbiB0aGUgbWlzc2luZyB0YXJnZXQgZGF0YSB3aWxsIGJlIGZpbGxlZCBpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZSA9IHVud3JhcFJOb2RlKGxWaWV3W25vZGVJbmRleF0pO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDdHggPSByZWFkUGF0Y2hlZERhdGEobmF0aXZlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSAoZXhpc3RpbmdDdHggJiYgIUFycmF5LmlzQXJyYXkoZXhpc3RpbmdDdHgpKSA/XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDdHggOlxuICAgICAgICAgICAgICAgIGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBub2RlSW5kZXgsIG5hdGl2ZSk7XG4gICAgICAgICAgICAvLyBvbmx5IHdoZW4gdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBkaXNjb3ZlcmVkIHRoZW4gdXBkYXRlIHRoZSBtb25rZXktcGF0Y2hcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgJiYgY29udGV4dC5jb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb250ZXh0LmNvbXBvbmVudCwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IHdoZW4gdGhlIGRpcmVjdGl2ZXMgaGF2ZSBiZWVuIGRpc2NvdmVyZWQgdGhlbiB1cGRhdGUgdGhlIG1vbmtleS1wYXRjaFxuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZXMgJiYgY29udGV4dC5kaXJlY3RpdmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoZGlyZWN0aXZlc1tpXSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbnRleHQubmF0aXZlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIG1wVmFsdWUgPSBjb250ZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByRWxlbWVudCA9IHRhcmdldDtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUockVsZW1lbnQpO1xuICAgICAgICAvLyBpZiB0aGUgY29udGV4dCBpcyBub3QgZm91bmQgdGhlbiB3ZSBuZWVkIHRvIHRyYXZlcnNlIHVwd2FyZHMgdXAgdGhlIERPTVxuICAgICAgICAvLyB0byBmaW5kIHRoZSBuZWFyZXN0IGVsZW1lbnQgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIG1vbmtleSBwYXRjaGVkIHdpdGggZGF0YVxuICAgICAgICBsZXQgcGFyZW50ID0gckVsZW1lbnQ7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50Q29udGV4dCA9IHJlYWRQYXRjaGVkRGF0YShwYXJlbnQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbFZpZXc7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyZW50Q29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbFZpZXcgPSBwYXJlbnRDb250ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbFZpZXcgPSBwYXJlbnRDb250ZXh0LmxWaWV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGUgZWRnZSBvZiB0aGUgYXBwIHdhcyBhbHNvIHJlYWNoZWQgaGVyZSB0aHJvdWdoIGFub3RoZXIgbWVhbnNcbiAgICAgICAgICAgICAgICAvLyAobWF5YmUgYmVjYXVzZSB0aGUgRE9NIHdhcyBjaGFuZ2VkIG1hbnVhbGx5KS5cbiAgICAgICAgICAgICAgICBpZiAoIWxWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGZpbmRWaWFOYXRpdmVFbGVtZW50KGxWaWV3LCByRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUobFZpZXdbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBpbmRleCwgbmF0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIG1wVmFsdWUgPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1wVmFsdWUgfHwgbnVsbDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBpbnN0YW5jZSBvZiBhIGBMQ29udGV4dGAgY29udGV4dFxuICovXG5mdW5jdGlvbiBjcmVhdGVMQ29udGV4dChsVmlldywgbm9kZUluZGV4LCBuYXRpdmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsVmlldyxcbiAgICAgICAgbm9kZUluZGV4LFxuICAgICAgICBuYXRpdmUsXG4gICAgICAgIGNvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3RpdmVzOiB1bmRlZmluZWQsXG4gICAgICAgIGxvY2FsUmVmczogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIFRha2VzIGEgY29tcG9uZW50IGluc3RhbmNlIGFuZCByZXR1cm5zIHRoZSB2aWV3IGZvciB0aGF0IGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50SW5zdGFuY2VcbiAqIEByZXR1cm5zIFRoZSBjb21wb25lbnQncyB2aWV3XG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlKGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgbGV0IGxWaWV3ID0gcmVhZFBhdGNoZWREYXRhKGNvbXBvbmVudEluc3RhbmNlKTtcbiAgICBsZXQgdmlldztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsVmlldykpIHtcbiAgICAgICAgY29uc3Qgbm9kZUluZGV4ID0gZmluZFZpYUNvbXBvbmVudChsVmlldywgY29tcG9uZW50SW5zdGFuY2UpO1xuICAgICAgICB2aWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KG5vZGVJbmRleCwgbFZpZXcpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlTENvbnRleHQobFZpZXcsIG5vZGVJbmRleCwgdmlld1tIT1NUXSk7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50ID0gY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb21wb25lbnRJbnN0YW5jZSwgY29udGV4dCk7XG4gICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb250ZXh0Lm5hdGl2ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbFZpZXc7XG4gICAgICAgIHZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoY29udGV4dC5ub2RlSW5kZXgsIGNvbnRleHQubFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gdmlldztcbn1cbi8qKlxuICogVGhpcyBwcm9wZXJ0eSB3aWxsIGJlIG1vbmtleS1wYXRjaGVkIG9uIGVsZW1lbnRzLCBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzLlxuICovXG5jb25zdCBNT05LRVlfUEFUQ0hfS0VZX05BTUUgPSAnX19uZ0NvbnRleHRfXyc7XG4vKipcbiAqIEFzc2lnbnMgdGhlIGdpdmVuIGRhdGEgdG8gdGhlIGdpdmVuIHRhcmdldCAod2hpY2ggY291bGQgYmUgYSBjb21wb25lbnQsXG4gKiBkaXJlY3RpdmUgb3IgRE9NIG5vZGUgaW5zdGFuY2UpIHVzaW5nIG1vbmtleS1wYXRjaGluZy5cbiAqL1xuZnVuY3Rpb24gYXR0YWNoUGF0Y2hEYXRhKHRhcmdldCwgZGF0YSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRhcmdldCwgJ1RhcmdldCBleHBlY3RlZCcpO1xuICAgIHRhcmdldFtNT05LRVlfUEFUQ0hfS0VZX05BTUVdID0gZGF0YTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbW9ua2V5LXBhdGNoIHZhbHVlIGRhdGEgcHJlc2VudCBvbiB0aGUgdGFyZ2V0ICh3aGljaCBjb3VsZCBiZVxuICogYSBjb21wb25lbnQsIGRpcmVjdGl2ZSBvciBhIERPTSBub2RlKS5cbiAqL1xuZnVuY3Rpb24gcmVhZFBhdGNoZWREYXRhKHRhcmdldCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRhcmdldCwgJ1RhcmdldCBleHBlY3RlZCcpO1xuICAgIHJldHVybiB0YXJnZXRbTU9OS0VZX1BBVENIX0tFWV9OQU1FXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gcmVhZFBhdGNoZWRMVmlldyh0YXJnZXQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHJlYWRQYXRjaGVkRGF0YSh0YXJnZXQpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlLmxWaWV3O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50SW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IuybVjbXA7XG59XG5mdW5jdGlvbiBpc0RpcmVjdGl2ZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yLsm1ZGlyO1xufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBlbGVtZW50IHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFOYXRpdmVFbGVtZW50KGxWaWV3LCB0YXJnZXQpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBmb3IgKGxldCBpID0gSEVBREVSX09GRlNFVDsgaSA8IHRWaWV3LmJpbmRpbmdTdGFydEluZGV4OyBpKyspIHtcbiAgICAgICAgaWYgKHVud3JhcFJOb2RlKGxWaWV3W2ldKSA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIG5leHQgdE5vZGUgKGNoaWxkLCBzaWJsaW5nIG9yIHBhcmVudCkuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlTmV4dEVsZW1lbnQodE5vZGUpIHtcbiAgICBpZiAodE5vZGUuY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLmNoaWxkO1xuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS5uZXh0KSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5uZXh0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gTGV0J3MgdGFrZSB0aGUgZm9sbG93aW5nIHRlbXBsYXRlOiA8ZGl2PjxzcGFuPnRleHQ8L3NwYW4+PC9kaXY+PGNvbXBvbmVudC8+XG4gICAgICAgIC8vIEFmdGVyIGNoZWNraW5nIHRoZSB0ZXh0IG5vZGUsIHdlIG5lZWQgdG8gZmluZCB0aGUgbmV4dCBwYXJlbnQgdGhhdCBoYXMgYSBcIm5leHRcIiBUTm9kZSxcbiAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHRoZSBwYXJlbnQgYGRpdmAsIHNvIHRoYXQgd2UgY2FuIGZpbmQgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgd2hpbGUgKHROb2RlLnBhcmVudCAmJiAhdE5vZGUucGFyZW50Lm5leHQpIHtcbiAgICAgICAgICAgIHROb2RlID0gdE5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0Tm9kZS5wYXJlbnQgJiYgdE5vZGUucGFyZW50Lm5leHQ7XG4gICAgfVxufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBjb21wb25lbnQgd2l0aGluIHRoZSBnaXZlbiBMVmlldyBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgaW5kZXhcbiAqL1xuZnVuY3Rpb24gZmluZFZpYUNvbXBvbmVudChsVmlldywgY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBjb25zdCBjb21wb25lbnRJbmRpY2VzID0gbFZpZXdbVFZJRVddLmNvbXBvbmVudHM7XG4gICAgaWYgKGNvbXBvbmVudEluZGljZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRJbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Q29tcG9uZW50SW5kZXggPSBjb21wb25lbnRJbmRpY2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChlbGVtZW50Q29tcG9uZW50SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3W0NPTlRFWFRdID09PSBjb21wb25lbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50Q29tcG9uZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJvb3RDb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KEhFQURFUl9PRkZTRVQsIGxWaWV3KTtcbiAgICAgICAgY29uc3Qgcm9vdENvbXBvbmVudCA9IHJvb3RDb21wb25lbnRWaWV3W0NPTlRFWFRdO1xuICAgICAgICBpZiAocm9vdENvbXBvbmVudCA9PT0gY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIC8vIHdlIGFyZSBkZWFsaW5nIHdpdGggdGhlIHJvb3QgZWxlbWVudCBoZXJlIHRoZXJlZm9yZSB3ZSBrbm93IHRoYXQgdGhlXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIHRoZSB2ZXJ5IGZpcnN0IGVsZW1lbnQgYWZ0ZXIgdGhlIEhFQURFUiBkYXRhIGluIHRoZSBsVmlld1xuICAgICAgICAgICAgcmV0dXJuIEhFQURFUl9PRkZTRVQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBkaXJlY3RpdmUgd2l0aGluIHRoZSBnaXZlbiBMVmlldyBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgaW5kZXhcbiAqL1xuZnVuY3Rpb24gZmluZFZpYURpcmVjdGl2ZShsVmlldywgZGlyZWN0aXZlSW5zdGFuY2UpIHtcbiAgICAvLyBpZiBhIGRpcmVjdGl2ZSBpcyBtb25rZXkgcGF0Y2hlZCB0aGVuIGl0IHdpbGwgKGJ5IGRlZmF1bHQpXG4gICAgLy8gaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgTFZpZXcgb2YgdGhlIGN1cnJlbnQgdmlldy4gVGhlXG4gICAgLy8gZWxlbWVudCBib3VuZCB0byB0aGUgZGlyZWN0aXZlIGJlaW5nIHNlYXJjaCBsaXZlcyBzb21ld2hlcmVcbiAgICAvLyBpbiB0aGUgdmlldyBkYXRhLiBXZSBsb29wIHRocm91Z2ggdGhlIG5vZGVzIGFuZCBjaGVjayB0aGVpclxuICAgIC8vIGxpc3Qgb2YgZGlyZWN0aXZlcyBmb3IgdGhlIGluc3RhbmNlLlxuICAgIGxldCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgIHdoaWxlICh0Tm9kZSkge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVJbmRleFN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4RW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgICAgICBmb3IgKGxldCBpID0gZGlyZWN0aXZlSW5kZXhTdGFydDsgaSA8IGRpcmVjdGl2ZUluZGV4RW5kOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsVmlld1tpXSA9PT0gZGlyZWN0aXZlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdE5vZGUuaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGUgPSB0cmF2ZXJzZU5leHRFbGVtZW50KHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBkaXJlY3RpdmVzIGV4dHJhY3RlZCBmcm9tIHRoZSBnaXZlbiB2aWV3IGJhc2VkIG9uIHRoZVxuICogcHJvdmlkZWQgbGlzdCBvZiBkaXJlY3RpdmUgaW5kZXggdmFsdWVzLlxuICpcbiAqIEBwYXJhbSBub2RlSW5kZXggVGhlIG5vZGUgaW5kZXhcbiAqIEBwYXJhbSBsVmlldyBUaGUgdGFyZ2V0IHZpZXcgZGF0YVxuICogQHBhcmFtIGluY2x1ZGVDb21wb25lbnRzIFdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgY29tcG9uZW50cyBpbiByZXR1cm5lZCBkaXJlY3RpdmVzXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZXNBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3LCBpbmNsdWRlQ29tcG9uZW50cykge1xuICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbbm9kZUluZGV4XTtcbiAgICBsZXQgZGlyZWN0aXZlU3RhcnRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGlmIChkaXJlY3RpdmVTdGFydEluZGV4ID09IDApXG4gICAgICAgIHJldHVybiBFTVBUWV9BUlJBWTtcbiAgICBjb25zdCBkaXJlY3RpdmVFbmRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBpZiAoIWluY2x1ZGVDb21wb25lbnRzICYmIHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pXG4gICAgICAgIGRpcmVjdGl2ZVN0YXJ0SW5kZXgrKztcbiAgICByZXR1cm4gbFZpZXcuc2xpY2UoZGlyZWN0aXZlU3RhcnRJbmRleCwgZGlyZWN0aXZlRW5kSW5kZXgpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50QXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldykge1xuICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbbm9kZUluZGV4XTtcbiAgICBsZXQgZGlyZWN0aXZlU3RhcnRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIHJldHVybiB0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovID8gbFZpZXdbZGlyZWN0aXZlU3RhcnRJbmRleF0gOiBudWxsO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbWFwIG9mIGxvY2FsIHJlZmVyZW5jZXMgKGxvY2FsIHJlZmVyZW5jZSBuYW1lID0+IGVsZW1lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlKSB0aGF0XG4gKiBleGlzdCBvbiBhIGdpdmVuIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGRpc2NvdmVyTG9jYWxSZWZzKGxWaWV3LCBub2RlSW5kZXgpIHtcbiAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW25vZGVJbmRleF07XG4gICAgaWYgKHROb2RlICYmIHROb2RlLmxvY2FsTmFtZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGxldCBsb2NhbEluZGV4ID0gdE5vZGUuaW5kZXggKyAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHROb2RlLmxvY2FsTmFtZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHJlc3VsdFt0Tm9kZS5sb2NhbE5hbWVzW2ldXSA9IGxWaWV3W2xvY2FsSW5kZXhdO1xuICAgICAgICAgICAgbG9jYWxJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IEVSUk9SX09SSUdJTkFMX0VSUk9SID0gJ25nT3JpZ2luYWxFcnJvcic7XG5jb25zdCBFUlJPUl9MT0dHRVIgPSAnbmdFcnJvckxvZ2dlcic7XG5mdW5jdGlvbiB3cmFwcGVkRXJyb3IobWVzc2FnZSwgb3JpZ2luYWxFcnJvcikge1xuICAgIGNvbnN0IG1zZyA9IGAke21lc3NhZ2V9IGNhdXNlZCBieTogJHtvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBvcmlnaW5hbEVycm9yLm1lc3NhZ2UgOiBvcmlnaW5hbEVycm9yfWA7XG4gICAgY29uc3QgZXJyb3IgPSBFcnJvcihtc2cpO1xuICAgIGVycm9yW0VSUk9SX09SSUdJTkFMX0VSUk9SXSA9IG9yaWdpbmFsRXJyb3I7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvcltFUlJPUl9PUklHSU5BTF9FUlJPUl07XG59XG5mdW5jdGlvbiBnZXRFcnJvckxvZ2dlcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvciAmJiBlcnJvcltFUlJPUl9MT0dHRVJdIHx8IGRlZmF1bHRFcnJvckxvZ2dlcjtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckxvZ2dlcihjb25zb2xlLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zb2xlLmVycm9yKC4uLnZhbHVlcyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIGhvb2sgZm9yIGNlbnRyYWxpemVkIGV4Y2VwdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgRXJyb3JIYW5kbGVyYCBwcmludHMgZXJyb3IgbWVzc2FnZXMgdG8gdGhlIGBjb25zb2xlYC4gVG9cbiAqIGludGVyY2VwdCBlcnJvciBoYW5kbGluZywgd3JpdGUgYSBjdXN0b20gZXhjZXB0aW9uIGhhbmRsZXIgdGhhdCByZXBsYWNlcyB0aGlzIGRlZmF1bHQgYXNcbiAqIGFwcHJvcHJpYXRlIGZvciB5b3VyIGFwcC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIE15RXJyb3JIYW5kbGVyIGltcGxlbWVudHMgRXJyb3JIYW5kbGVyIHtcbiAqICAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAqICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZXhjZXB0aW9uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBATmdNb2R1bGUoe1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogRXJyb3JIYW5kbGVyLCB1c2VDbGFzczogTXlFcnJvckhhbmRsZXJ9XVxuICogfSlcbiAqIGNsYXNzIE15TW9kdWxlIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEVycm9ySGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NvbnNvbGUgPSBjb25zb2xlO1xuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvcikge1xuICAgICAgICBjb25zdCBvcmlnaW5hbEVycm9yID0gdGhpcy5fZmluZE9yaWdpbmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICAvLyBOb3RlOiBCcm93c2VyIGNvbnNvbGVzIHNob3cgdGhlIHBsYWNlIGZyb20gd2hlcmUgY29uc29sZS5lcnJvciB3YXMgY2FsbGVkLlxuICAgICAgICAvLyBXZSBjYW4gdXNlIHRoaXMgdG8gZ2l2ZSB1c2VycyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci5cbiAgICAgICAgY29uc3QgZXJyb3JMb2dnZXIgPSBnZXRFcnJvckxvZ2dlcihlcnJvcik7XG4gICAgICAgIGVycm9yTG9nZ2VyKHRoaXMuX2NvbnNvbGUsIGBFUlJPUmAsIGVycm9yKTtcbiAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yTG9nZ2VyKHRoaXMuX2NvbnNvbGUsIGBPUklHSU5BTCBFUlJPUmAsIG9yaWdpbmFsRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZmluZE9yaWdpbmFsRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgbGV0IGUgPSBlcnJvciAmJiBnZXRPcmlnaW5hbEVycm9yKGVycm9yKTtcbiAgICAgICAgd2hpbGUgKGUgJiYgZ2V0T3JpZ2luYWxFcnJvcihlKSkge1xuICAgICAgICAgICAgZSA9IGdldE9yaWdpbmFsRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUgfHwgbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZWZpbmVzIGEgc2NoZW1hIHRoYXQgYWxsb3dzIGFuIE5nTW9kdWxlIHRvIGNvbnRhaW4gdGhlIGZvbGxvd2luZzpcbiAqIC0gTm9uLUFuZ3VsYXIgZWxlbWVudHMgbmFtZWQgd2l0aCBkYXNoIGNhc2UgKGAtYCkuXG4gKiAtIEVsZW1lbnQgcHJvcGVydGllcyBuYW1lZCB3aXRoIGRhc2ggY2FzZSAoYC1gKS5cbiAqIERhc2ggY2FzZSBpcyB0aGUgbmFtaW5nIGNvbnZlbnRpb24gZm9yIGN1c3RvbSBlbGVtZW50cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENVU1RPTV9FTEVNRU5UU19TQ0hFTUEgPSB7XG4gICAgbmFtZTogJ2N1c3RvbS1lbGVtZW50cydcbn07XG4vKipcbiAqIERlZmluZXMgYSBzY2hlbWEgdGhhdCBhbGxvd3MgYW55IHByb3BlcnR5IG9uIGFueSBlbGVtZW50LlxuICpcbiAqIFRoaXMgc2NoZW1hIGFsbG93cyB5b3UgdG8gaWdub3JlIHRoZSBlcnJvcnMgcmVsYXRlZCB0byBhbnkgdW5rbm93biBlbGVtZW50cyBvciBwcm9wZXJ0aWVzIGluIGFcbiAqIHRlbXBsYXRlLiBUaGUgdXNhZ2Ugb2YgdGhpcyBzY2hlbWEgaXMgZ2VuZXJhbGx5IGRpc2NvdXJhZ2VkIGJlY2F1c2UgaXQgcHJldmVudHMgdXNlZnVsIHZhbGlkYXRpb25cbiAqIGFuZCBtYXkgaGlkZSByZWFsIGVycm9ycyBpbiB5b3VyIHRlbXBsYXRlLiBDb25zaWRlciB1c2luZyB0aGUgYENVU1RPTV9FTEVNRU5UU19TQ0hFTUFgIGluc3RlYWQuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBOT19FUlJPUlNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICduby1lcnJvcnMtc2NoZW1hJ1xufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERpc2FsbG93ZWQgc3RyaW5ncyBpbiB0aGUgY29tbWVudC5cbiAqXG4gKiBzZWU6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2NvbW1lbnRzXG4gKi9cbmNvbnN0IENPTU1FTlRfRElTQUxMT1dFRCA9IC9ePnxeLT58PCEtLXwtLT58LS0hPnw8IS0kL2c7XG4vKipcbiAqIERlbGltaXRlciBpbiB0aGUgZGlzYWxsb3dlZCBzdHJpbmdzIHdoaWNoIG5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCB6ZXJvIHdpdGggY2hhcmFjdGVyLlxuICovXG5jb25zdCBDT01NRU5UX0RFTElNSVRFUiA9IC8oPHw+KS87XG5jb25zdCBDT01NRU5UX0RFTElNSVRFUl9FU0NBUEVEID0gJ1xcdTIwMEIkMVxcdTIwMEInO1xuLyoqXG4gKiBFc2NhcGUgdGhlIGNvbnRlbnQgb2YgY29tbWVudCBzdHJpbmdzIHNvIHRoYXQgaXQgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGEgY29tbWVudCBub2RlLlxuICpcbiAqIFRoZSBpc3N1ZSBpcyB0aGF0IEhUTUwgZG9lcyBub3Qgc3BlY2lmeSBhbnkgd2F5IHRvIGVzY2FwZSBjb21tZW50IGVuZCB0ZXh0IGluc2lkZSB0aGUgY29tbWVudC5cbiAqIENvbnNpZGVyOiBgPCEtLSBUaGUgd2F5IHlvdSBjbG9zZSBhIGNvbW1lbnQgaXMgd2l0aCBcIj5cIiwgYW5kIFwiLT5cIiBhdCB0aGUgYmVnaW5uaW5nIG9yIGJ5IFwiLS0+XCIgb3JcbiAqIFwiLS0hPlwiIGF0IHRoZSBlbmQuIC0tPmAuIEFib3ZlIHRoZSBgXCItLT5cImAgaXMgbWVhbnQgdG8gYmUgdGV4dCBub3QgYW4gZW5kIHRvIHRoZSBjb21tZW50LiBUaGlzXG4gKiBjYW4gYmUgY3JlYXRlZCBwcm9ncmFtbWF0aWNhbGx5IHRocm91Z2ggRE9NIEFQSXMuIChgPCEtLWAgYXJlIGFsc28gZGlzYWxsb3dlZC4pXG4gKlxuICogc2VlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNjb21tZW50c1xuICpcbiAqIGBgYFxuICogZGl2LmlubmVySFRNTCA9IGRpdi5pbm5lckhUTUxcbiAqIGBgYFxuICpcbiAqIE9uZSB3b3VsZCBleHBlY3QgdGhhdCB0aGUgYWJvdmUgY29kZSB3b3VsZCBiZSBzYWZlIHRvIGRvLCBidXQgaXQgdHVybnMgb3V0IHRoYXQgYmVjYXVzZSBjb21tZW50XG4gKiB0ZXh0IGlzIG5vdCBlc2NhcGVkLCB0aGUgY29tbWVudCBtYXkgY29udGFpbiB0ZXh0IHdoaWNoIHdpbGwgcHJlbWF0dXJlbHkgY2xvc2UgdGhlIGNvbW1lbnRcbiAqIG9wZW5pbmcgdXAgdGhlIGFwcGxpY2F0aW9uIGZvciBYU1MgYXR0YWNrLiAoSW4gU1NSIHdlIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGNvbW1lbnQgbm9kZXMgd2hpY2hcbiAqIG1heSBjb250YWluIHN1Y2ggdGV4dCBhbmQgZXhwZWN0IHRoZW0gdG8gYmUgc2FmZS4pXG4gKlxuICogVGhpcyBmdW5jdGlvbiBlc2NhcGVzIHRoZSBjb21tZW50IHRleHQgYnkgbG9va2luZyBmb3IgY29tbWVudCBkZWxpbWl0ZXJzIChgPGAgYW5kIGA+YCkgYW5kXG4gKiBzdXJyb3VuZGluZyB0aGVtIHdpdGggYF8+X2Agd2hlcmUgdGhlIGBfYCBpcyBhIHplcm8gd2lkdGggc3BhY2UgYFxcdTIwMEJgLiBUaGUgcmVzdWx0IGlzIHRoYXQgaWYgYVxuICogY29tbWVudCBjb250YWlucyBhbnkgb2YgdGhlIGNvbW1lbnQgc3RhcnQvZW5kIGRlbGltaXRlcnMgKHN1Y2ggYXMgYDwhLS1gLCBgLS0+YCBvciBgLS0hPmApIHRoZVxuICogdGV4dCBpdCB3aWxsIHJlbmRlciBub3JtYWxseSBidXQgaXQgd2lsbCBub3QgY2F1c2UgdGhlIEhUTUwgcGFyc2VyIHRvIGNsb3NlL29wZW4gdGhlIGNvbW1lbnQuXG4gKlxuICogQHBhcmFtIHZhbHVlIHRleHQgdG8gbWFrZSBzYWZlIGZvciBjb21tZW50IG5vZGUgYnkgZXNjYXBpbmcgdGhlIGNvbW1lbnQgb3Blbi9jbG9zZSBjaGFyYWN0ZXJcbiAqICAgICBzZXF1ZW5jZS5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlQ29tbWVudFRleHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShDT01NRU5UX0RJU0FMTE9XRUQsICh0ZXh0KSA9PiB0ZXh0LnJlcGxhY2UoQ09NTUVOVF9ERUxJTUlURVIsIENPTU1FTlRfREVMSU1JVEVSX0VTQ0FQRUQpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVEZWJ1Z0JpbmRpbmdOYW1lKG5hbWUpIHtcbiAgICAvLyBBdHRyaWJ1dGUgbmFtZXMgd2l0aCBgJGAgKGVnIGB4LXkkYCkgYXJlIHZhbGlkIHBlciBzcGVjLCBidXQgdW5zdXBwb3J0ZWQgYnkgc29tZSBicm93c2Vyc1xuICAgIG5hbWUgPSBjYW1lbENhc2VUb0Rhc2hDYXNlKG5hbWUucmVwbGFjZSgvWyRAXS9nLCAnXycpKTtcbiAgICByZXR1cm4gYG5nLXJlZmxlY3QtJHtuYW1lfWA7XG59XG5jb25zdCBDQU1FTF9DQVNFX1JFR0VYUCA9IC8oW0EtWl0pL2c7XG5mdW5jdGlvbiBjYW1lbENhc2VUb0Rhc2hDYXNlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoQ0FNRUxfQ0FTRV9SRUdFWFAsICguLi5tKSA9PiAnLScgKyBtWzFdLnRvTG93ZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBMaW1pdCB0aGUgc2l6ZSBvZiB0aGUgdmFsdWUgYXMgb3RoZXJ3aXNlIHRoZSBET00ganVzdCBnZXRzIHBvbGx1dGVkLlxuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLnRvU3RyaW5nKCkuc2xpY2UoMCwgMzApIDogdmFsdWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiAnW0VSUk9SXSBFeGNlcHRpb24gd2hpbGUgdHJ5aW5nIHRvIHNlcmlhbGl6ZSB0aGUgdmFsdWUnO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBkZWZhdWx0U2NoZWR1bGVyID0gKCgpID0+ICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAvLyBicm93c2VyIG9ubHlcbiAgICBzZXRUaW1lb3V0IC8vIGV2ZXJ5dGhpbmcgZWxzZVxuKVxuICAgIC5iaW5kKF9nbG9iYWwpKSgpO1xuLyoqXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlc29sdmVXaW5kb3coZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG59XG4vKipcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzb2x2ZURvY3VtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50O1xufVxuLyoqXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlc29sdmVCb2R5KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHk7XG59XG4vKipcbiAqIFRoZSBzcGVjaWFsIGRlbGltaXRlciB3ZSB1c2UgdG8gc2VwYXJhdGUgcHJvcGVydHkgbmFtZXMsIHByZWZpeGVzLCBhbmQgc3VmZml4ZXNcbiAqIGluIHByb3BlcnR5IGJpbmRpbmcgbWV0YWRhdGEuIFNlZSBzdG9yZUJpbmRpbmdNZXRhZGF0YSgpLlxuICpcbiAqIFdlIGludGVudGlvbmFsbHkgdXNlIHRoZSBVbmljb2RlIFwiUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXCIgKFUrRkZGRCkgYXMgYSBkZWxpbWl0ZXJcbiAqIGJlY2F1c2UgaXQgaXMgYSB2ZXJ5IHVuY29tbW9uIGNoYXJhY3RlciB0aGF0IGlzIHVubGlrZWx5IHRvIGJlIHBhcnQgb2YgYSB1c2VyJ3NcbiAqIHByb3BlcnR5IG5hbWVzIG9yIGludGVycG9sYXRpb24gc3RyaW5ncy4gSWYgaXQgaXMgaW4gZmFjdCB1c2VkIGluIGEgcHJvcGVydHlcbiAqIGJpbmRpbmcsIERlYnVnRWxlbWVudC5wcm9wZXJ0aWVzIHdpbGwgbm90IHJldHVybiB0aGUgY29ycmVjdCB2YWx1ZSBmb3IgdGhhdFxuICogYmluZGluZy4gSG93ZXZlciwgdGhlcmUgc2hvdWxkIGJlIG5vIHJ1bnRpbWUgZWZmZWN0IGZvciByZWFsIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBUaGlzIGNoYXJhY3RlciBpcyB0eXBpY2FsbHkgcmVuZGVyZWQgYXMgYSBxdWVzdGlvbiBtYXJrIGluc2lkZSBvZiBhIGRpYW1vbmQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3BlY2lhbHNfKFVuaWNvZGVfYmxvY2spXG4gKlxuICovXG5jb25zdCBJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiA9IGDvv71gO1xuLyoqXG4gKiBVbndyYXAgYSB2YWx1ZSB3aGljaCBtaWdodCBiZSBiZWhpbmQgYSBjbG9zdXJlIChmb3IgZm9yd2FyZCBkZWNsYXJhdGlvbiByZWFzb25zKS5cbiAqL1xuZnVuY3Rpb24gbWF5YmVVbndyYXBGbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogQ2FsbGVkIHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGNvbXBvbmVudCBzZWxlY3RvcnMgdGhhdCBtYXRjaCBhIGdpdmVuIG5vZGUgKi9cbmZ1bmN0aW9uIHRocm93TXVsdGlwbGVDb21wb25lbnRFcnJvcih0Tm9kZSkge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTMwMCAvKiBNVUxUSVBMRV9DT01QT05FTlRTX01BVENIICovLCBgTXVsdGlwbGUgY29tcG9uZW50cyBtYXRjaCBub2RlIHdpdGggdGFnbmFtZSAke3ROb2RlLnZhbHVlfWApO1xufVxuLyoqIFRocm93cyBhbiBFeHByZXNzaW9uQ2hhbmdlZEFmdGVyQ2hlY2tlZCBlcnJvciBpZiBjaGVja05vQ2hhbmdlcyBtb2RlIGlzIG9uLiAqL1xuZnVuY3Rpb24gdGhyb3dFcnJvcklmTm9DaGFuZ2VzTW9kZShjcmVhdGlvbk1vZGUsIG9sZFZhbHVlLCBjdXJyVmFsdWUsIHByb3BOYW1lKSB7XG4gICAgY29uc3QgZmllbGQgPSBwcm9wTmFtZSA/IGAgZm9yICcke3Byb3BOYW1lfSdgIDogJyc7XG4gICAgbGV0IG1zZyA9IGBFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEVycm9yOiBFeHByZXNzaW9uIGhhcyBjaGFuZ2VkIGFmdGVyIGl0IHdhcyBjaGVja2VkLiBQcmV2aW91cyB2YWx1ZSR7ZmllbGR9OiAnJHtvbGRWYWx1ZX0nLiBDdXJyZW50IHZhbHVlOiAnJHtjdXJyVmFsdWV9Jy5gO1xuICAgIGlmIChjcmVhdGlvbk1vZGUpIHtcbiAgICAgICAgbXNnICs9XG4gICAgICAgICAgICBgIEl0IHNlZW1zIGxpa2UgdGhlIHZpZXcgaGFzIGJlZW4gY3JlYXRlZCBhZnRlciBpdHMgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW4gaGF2ZSBiZWVuIGRpcnR5IGNoZWNrZWQuYCArXG4gICAgICAgICAgICAgICAgYCBIYXMgaXQgYmVlbiBjcmVhdGVkIGluIGEgY2hhbmdlIGRldGVjdGlvbiBob29rP2A7XG4gICAgfVxuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTEwMCAvKiBFWFBSRVNTSU9OX0NIQU5HRURfQUZURVJfQ0hFQ0tFRCAqLywgbXNnKTtcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uKGxWaWV3LCByb290SW5kZXgsIGV4cHJlc3Npb25JbmRleCwgbWV0YSwgY2hhbmdlZFZhbHVlKSB7XG4gICAgY29uc3QgW3Byb3BOYW1lLCBwcmVmaXgsIC4uLmNodW5rc10gPSBtZXRhLnNwbGl0KElOVEVSUE9MQVRJT05fREVMSU1JVEVSKTtcbiAgICBsZXQgb2xkVmFsdWUgPSBwcmVmaXgsIG5ld1ZhbHVlID0gcHJlZml4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNsb3RJZHggPSByb290SW5kZXggKyBpO1xuICAgICAgICBvbGRWYWx1ZSArPSBgJHtsVmlld1tzbG90SWR4XX0ke2NodW5rc1tpXX1gO1xuICAgICAgICBuZXdWYWx1ZSArPSBgJHtzbG90SWR4ID09PSBleHByZXNzaW9uSW5kZXggPyBjaGFuZ2VkVmFsdWUgOiBsVmlld1tzbG90SWR4XX0ke2NodW5rc1tpXX1gO1xuICAgIH1cbiAgICByZXR1cm4geyBwcm9wTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlIH07XG59XG4vKipcbiAqIENvbnN0cnVjdHMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgZGV0YWlscyBmb3IgdGhlIEV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3I6XG4gKiAtIHByb3BlcnR5IG5hbWUgKGZvciBwcm9wZXJ0eSBiaW5kaW5ncyBvciBpbnRlcnBvbGF0aW9ucylcbiAqIC0gb2xkIGFuZCBuZXcgdmFsdWVzLCBlbnJpY2hlZCB1c2luZyBpbmZvcm1hdGlvbiBmcm9tIG1ldGFkYXRhXG4gKlxuICogTW9yZSBpbmZvcm1hdGlvbiBvbiB0aGUgbWV0YWRhdGEgc3RvcmFnZSBmb3JtYXQgY2FuIGJlIGZvdW5kIGluIGBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhYFxuICogZnVuY3Rpb24gZGVzY3JpcHRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldEV4cHJlc3Npb25DaGFuZ2VkRXJyb3JEZXRhaWxzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIGNvbnN0IHREYXRhID0gbFZpZXdbVFZJRVddLmRhdGE7XG4gICAgY29uc3QgbWV0YWRhdGEgPSB0RGF0YVtiaW5kaW5nSW5kZXhdO1xuICAgIGlmICh0eXBlb2YgbWV0YWRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIG1ldGFkYXRhIGZvciBwcm9wZXJ0eSBpbnRlcnBvbGF0aW9uXG4gICAgICAgIGlmIChtZXRhZGF0YS5pbmRleE9mKElOVEVSUE9MQVRJT05fREVMSU1JVEVSKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0RGV0YWlsc0ZvckludGVycG9sYXRpb24obFZpZXcsIGJpbmRpbmdJbmRleCwgYmluZGluZ0luZGV4LCBtZXRhZGF0YSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ldGFkYXRhIGZvciBwcm9wZXJ0eSBiaW5kaW5nXG4gICAgICAgIHJldHVybiB7IHByb3BOYW1lOiBtZXRhZGF0YSwgb2xkVmFsdWUsIG5ld1ZhbHVlIH07XG4gICAgfVxuICAgIC8vIG1ldGFkYXRhIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRoaXMgZXhwcmVzc2lvbiwgY2hlY2sgaWYgdGhpcyBleHByZXNzaW9uIGlzIGEgcGFydCBvZiB0aGVcbiAgICAvLyBwcm9wZXJ0eSBpbnRlcnBvbGF0aW9uIGJ5IGdvaW5nIGZyb20gdGhlIGN1cnJlbnQgYmluZGluZyBpbmRleCBsZWZ0IGFuZCBsb29rIGZvciBhIHN0cmluZyB0aGF0XG4gICAgLy8gY29udGFpbnMgSU5URVJQT0xBVElPTl9ERUxJTUlURVIsIHRoZSBsYXlvdXQgaW4gdFZpZXcuZGF0YSBmb3IgdGhpcyBjYXNlIHdpbGwgbG9vayBsaWtlIHRoaXM6XG4gICAgLy8gWy4uLiwgJ2lk77+9UHJlZml4IO+/vSBhbmQg77+9IHN1ZmZpeCcsIG51bGwsIG51bGwsIG51bGwsIC4uLl1cbiAgICBpZiAobWV0YWRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgbGV0IGlkeCA9IGJpbmRpbmdJbmRleCAtIDE7XG4gICAgICAgIHdoaWxlICh0eXBlb2YgdERhdGFbaWR4XSAhPT0gJ3N0cmluZycgJiYgdERhdGFbaWR4ICsgMV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlkeC0tO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0RGF0YVtpZHhdO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gbWV0YS5tYXRjaChuZXcgUmVnRXhwKElOVEVSUE9MQVRJT05fREVMSU1JVEVSLCAnZycpKTtcbiAgICAgICAgICAgIC8vIGZpcnN0IGludGVycG9sYXRpb24gZGVsaW1pdGVyIHNlcGFyYXRlcyBwcm9wZXJ0eSBuYW1lIGZyb20gaW50ZXJwb2xhdGlvbiBwYXJ0cyAoaW4gY2FzZSBvZlxuICAgICAgICAgICAgLy8gcHJvcGVydHkgaW50ZXJwb2xhdGlvbnMpLCBzbyB3ZSBzdWJ0cmFjdCBvbmUgZnJvbSB0b3RhbCBudW1iZXIgb2YgZm91bmQgZGVsaW1pdGVyc1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgKG1hdGNoZXMubGVuZ3RoIC0gMSkgPiBiaW5kaW5nSW5kZXggLSBpZHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RydWN0RGV0YWlsc0ZvckludGVycG9sYXRpb24obFZpZXcsIGlkeCwgYmluZGluZ0luZGV4LCBtZXRhLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgcHJvcE5hbWU6IHVuZGVmaW5lZCwgb2xkVmFsdWUsIG5ld1ZhbHVlIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGbGFncyBmb3IgcmVuZGVyZXItc3BlY2lmaWMgc3R5bGUgbW9kaWZpZXJzLlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgUmVuZGVyZXJTdHlsZUZsYWdzMjtcbihmdW5jdGlvbiAoUmVuZGVyZXJTdHlsZUZsYWdzMikge1xuICAgIC8vIFRPRE8obWlza28pOiBUaGlzIG5lZWRzIHRvIGJlIHJlZmFjdG9yZWQgaW50byBhIHNlcGFyYXRlIGZpbGUgc28gdGhhdCBpdCBjYW4gYmUgaW1wb3J0ZWQgZnJvbVxuICAgIC8vIGBub2RlX21hbmlwdWxhdGlvbi50c2AgQ3VycmVudGx5IGRvaW5nIHRoZSBpbXBvcnQgY2F1c2UgcmVzb2x1dGlvbiBvcmRlciB0byBjaGFuZ2UgYW5kIGZhaWxzXG4gICAgLy8gdGhlIHRlc3RzLiBUaGUgd29yayBhcm91bmQgaXMgdG8gaGF2ZSBoYXJkIGNvZGVkIHZhbHVlIGluIGBub2RlX21hbmlwdWxhdGlvbi50c2AgZm9yIG5vdy5cbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHN0eWxlIGFzIGltcG9ydGFudC5cbiAgICAgKi9cbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MyW1JlbmRlcmVyU3R5bGVGbGFnczJbXCJJbXBvcnRhbnRcIl0gPSAxXSA9IFwiSW1wb3J0YW50XCI7XG4gICAgLyoqXG4gICAgICogTWFya3MgYSBzdHlsZSBhcyB1c2luZyBkYXNoIGNhc2UgbmFtaW5nICh0aGlzLWlzLWRhc2gtY2FzZSkuXG4gICAgICovXG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzMltSZW5kZXJlclN0eWxlRmxhZ3MyW1wiRGFzaENhc2VcIl0gPSAyXSA9IFwiRGFzaENhc2VcIjtcbn0pKFJlbmRlcmVyU3R5bGVGbGFnczIgfHwgKFJlbmRlcmVyU3R5bGVGbGFnczIgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBfaWN1Q29udGFpbmVySXRlcmF0ZTtcbi8qKlxuICogSXRlcmF0b3Igd2hpY2ggcHJvdmlkZXMgYWJpbGl0eSB0byB2aXNpdCBhbGwgb2YgdGhlIGBUSWN1Q29udGFpbmVyTm9kZWAgcm9vdCBgUk5vZGVgcy5cbiAqL1xuZnVuY3Rpb24gaWN1Q29udGFpbmVySXRlcmF0ZSh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gX2ljdUNvbnRhaW5lckl0ZXJhdGUodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KTtcbn1cbi8qKlxuICogRW5zdXJlcyB0aGF0IGBJY3VDb250YWluZXJWaXNpdG9yYCdzIGltcGxlbWVudGF0aW9uIGlzIHByZXNlbnQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnZva2VkIHdoZW4gaTE4biBpbnN0cnVjdGlvbiBjb21lcyBhY3Jvc3MgYW4gSUNVLiBUaGUgcHVycG9zZSBpcyB0byBhbGxvdyB0aGVcbiAqIGJ1bmRsZXIgdG8gdHJlZSBzaGFrZSBJQ1UgbG9naWMgYW5kIG9ubHkgbG9hZCBpdCBpZiBJQ1UgaW5zdHJ1Y3Rpb24gaXMgZXhlY3V0ZWQuXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZUljdUNvbnRhaW5lclZpc2l0b3JMb2FkZWQobG9hZGVyKSB7XG4gICAgaWYgKF9pY3VDb250YWluZXJJdGVyYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gRG8gbm90IGlubGluZSB0aGlzIGZ1bmN0aW9uLiBXZSB3YW50IHRvIGtlZXAgYGVuc3VyZUljdUNvbnRhaW5lclZpc2l0b3JMb2FkZWRgIGxpZ2h0LCBzbyBpdFxuICAgICAgICAvLyBjYW4gYmUgaW5saW5lZCBpbnRvIGNhbGwtc2l0ZS5cbiAgICAgICAgX2ljdUNvbnRhaW5lckl0ZXJhdGUgPSBsb2FkZXIoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMyA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBHZXRzIHRoZSBwYXJlbnQgTFZpZXcgb2YgdGhlIHBhc3NlZCBMVmlldywgaWYgdGhlIFBBUkVOVCBpcyBhbiBMQ29udGFpbmVyLCB3aWxsIGdldCB0aGUgcGFyZW50IG9mXG4gKiB0aGF0IExDb250YWluZXIsIHdoaWNoIGlzIGFuIExWaWV3XG4gKiBAcGFyYW0gbFZpZXcgdGhlIGxWaWV3IHdob3NlIHBhcmVudCB0byBnZXRcbiAqL1xuZnVuY3Rpb24gZ2V0TFZpZXdQYXJlbnQobFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcobFZpZXcpO1xuICAgIGNvbnN0IHBhcmVudCA9IGxWaWV3W1BBUkVOVF07XG4gICAgcmV0dXJuIGlzTENvbnRhaW5lcihwYXJlbnQpID8gcGFyZW50W1BBUkVOVF0gOiBwYXJlbnQ7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSByb290IHZpZXcgZnJvbSBhbnkgY29tcG9uZW50IG9yIGBMVmlld2AgYnkgd2Fsa2luZyB0aGUgcGFyZW50IGBMVmlld2AgdW50aWxcbiAqIHJlYWNoaW5nIHRoZSByb290IGBMVmlld2AuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudE9yTFZpZXcgYW55IGNvbXBvbmVudCBvciBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3RWaWV3KGNvbXBvbmVudE9yTFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjb21wb25lbnRPckxWaWV3LCAnY29tcG9uZW50Jyk7XG4gICAgbGV0IGxWaWV3ID0gaXNMVmlldyhjb21wb25lbnRPckxWaWV3KSA/IGNvbXBvbmVudE9yTFZpZXcgOiByZWFkUGF0Y2hlZExWaWV3KGNvbXBvbmVudE9yTFZpZXcpO1xuICAgIHdoaWxlIChsVmlldyAmJiAhKGxWaWV3W0ZMQUdTXSAmIDUxMiAvKiBJc1Jvb3QgKi8pKSB7XG4gICAgICAgIGxWaWV3ID0gZ2V0TFZpZXdQYXJlbnQobFZpZXcpO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcobFZpZXcpO1xuICAgIHJldHVybiBsVmlldztcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgYFJvb3RDb250ZXh0YCBpbnN0YW5jZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aFxuICogdGhlIGFwcGxpY2F0aW9uIHdoZXJlIHRoZSB0YXJnZXQgaXMgc2l0dWF0ZWQuIEl0IGRvZXMgdGhpcyBieSB3YWxraW5nIHRoZSBwYXJlbnQgdmlld3MgdW50aWwgaXRcbiAqIGdldHMgdG8gdGhlIHJvb3QgdmlldywgdGhlbiBnZXR0aW5nIHRoZSBjb250ZXh0IG9mZiBvZiB0aGF0LlxuICpcbiAqIEBwYXJhbSB2aWV3T3JDb21wb25lbnQgdGhlIGBMVmlld2Agb3IgY29tcG9uZW50IHRvIGdldCB0aGUgcm9vdCBjb250ZXh0IGZvci5cbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdENvbnRleHQodmlld09yQ29tcG9uZW50KSB7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSBnZXRSb290Vmlldyh2aWV3T3JDb21wb25lbnQpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnREZWZpbmVkKHJvb3RWaWV3W0NPTlRFWFRdLCAnUm9vdFZpZXcgaGFzIG5vIGNvbnRleHQuIFBlcmhhcHMgaXQgaXMgZGlzY29ubmVjdGVkPycpO1xuICAgIHJldHVybiByb290Vmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogR2V0cyB0aGUgZmlyc3QgYExDb250YWluZXJgIGluIHRoZSBMVmlldyBvciBgbnVsbGAgaWYgbm9uZSBleGlzdHMuXG4gKi9cbmZ1bmN0aW9uIGdldEZpcnN0TENvbnRhaW5lcihsVmlldykge1xuICAgIHJldHVybiBnZXROZWFyZXN0TENvbnRhaW5lcihsVmlld1tDSElMRF9IRUFEXSk7XG59XG4vKipcbiAqIEdldHMgdGhlIG5leHQgYExDb250YWluZXJgIHRoYXQgaXMgYSBzaWJsaW5nIG9mIHRoZSBnaXZlbiBjb250YWluZXIuXG4gKi9cbmZ1bmN0aW9uIGdldE5leHRMQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgIHJldHVybiBnZXROZWFyZXN0TENvbnRhaW5lcihjb250YWluZXJbTkVYVF0pO1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdExDb250YWluZXIodmlld09yQ29udGFpbmVyKSB7XG4gICAgd2hpbGUgKHZpZXdPckNvbnRhaW5lciAhPT0gbnVsbCAmJiAhaXNMQ29udGFpbmVyKHZpZXdPckNvbnRhaW5lcikpIHtcbiAgICAgICAgdmlld09yQ29udGFpbmVyID0gdmlld09yQ29udGFpbmVyW05FWFRdO1xuICAgIH1cbiAgICByZXR1cm4gdmlld09yQ29udGFpbmVyO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHVudXNlZFZhbHVlVG9QbGFjYXRlQWpkJDIgPSB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ3ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNCArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDMgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ2ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkODtcbi8qKlxuICogTk9URTogZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHRoZSBwb3NzaWJsZSBhY3Rpb25zIGFyZSBpbmxpbmVkIHdpdGhpbiB0aGUgZnVuY3Rpb24gaW5zdGVhZCBvZlxuICogYmVpbmcgcGFzc2VkIGFzIGFuIGFyZ3VtZW50LlxuICovXG5mdW5jdGlvbiBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudCwgbE5vZGVUb0hhbmRsZSwgYmVmb3JlTm9kZSkge1xuICAgIC8vIElmIHRoaXMgc2xvdCB3YXMgYWxsb2NhdGVkIGZvciBhIHRleHQgbm9kZSBkeW5hbWljYWxseSBjcmVhdGVkIGJ5IGkxOG4sIHRoZSB0ZXh0IG5vZGUgaXRzZWxmXG4gICAgLy8gd29uJ3QgYmUgY3JlYXRlZCB1bnRpbCBpMThuQXBwbHkoKSBpbiB0aGUgdXBkYXRlIGJsb2NrLCBzbyB0aGlzIG5vZGUgc2hvdWxkIGJlIHNraXBwZWQuXG4gICAgLy8gRm9yIG1vcmUgaW5mbywgc2VlIFwiSUNVIGV4cHJlc3Npb25zIHNob3VsZCB3b3JrIGluc2lkZSBhbiBuZ1RlbXBsYXRlT3V0bGV0IGluc2lkZSBhbiBuZ0ZvclwiXG4gICAgLy8gaW4gYGkxOG5fc3BlYy50c2AuXG4gICAgaWYgKGxOb2RlVG9IYW5kbGUgIT0gbnVsbCkge1xuICAgICAgICBsZXQgbENvbnRhaW5lcjtcbiAgICAgICAgbGV0IGlzQ29tcG9uZW50ID0gZmFsc2U7XG4gICAgICAgIC8vIFdlIGFyZSBleHBlY3RpbmcgYW4gUk5vZGUsIGJ1dCBpbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCBvciBMQ29udGFpbmVyIHRoZSBgUk5vZGVgIGlzXG4gICAgICAgIC8vIHdyYXBwZWQgaW4gYW4gYXJyYXkgd2hpY2ggbmVlZHMgdG8gYmUgdW53cmFwcGVkLiBXZSBuZWVkIHRvIGtub3cgaWYgaXQgaXMgYSBjb21wb25lbnQgYW5kIGlmXG4gICAgICAgIC8vIGl0IGhhcyBMQ29udGFpbmVyIHNvIHRoYXQgd2UgY2FuIHByb2Nlc3MgYWxsIG9mIHRob3NlIGNhc2VzIGFwcHJvcHJpYXRlbHkuXG4gICAgICAgIGlmIChpc0xDb250YWluZXIobE5vZGVUb0hhbmRsZSkpIHtcbiAgICAgICAgICAgIGxDb250YWluZXIgPSBsTm9kZVRvSGFuZGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTFZpZXcobE5vZGVUb0hhbmRsZSkpIHtcbiAgICAgICAgICAgIGlzQ29tcG9uZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxOb2RlVG9IYW5kbGVbSE9TVF0sICdIT1NUIG11c3QgYmUgZGVmaW5lZCBmb3IgYSBjb21wb25lbnQgTFZpZXcnKTtcbiAgICAgICAgICAgIGxOb2RlVG9IYW5kbGUgPSBsTm9kZVRvSGFuZGxlW0hPU1RdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJOb2RlID0gdW53cmFwUk5vZGUobE5vZGVUb0hhbmRsZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpICYmIGFzc2VydERvbU5vZGUock5vZGUpO1xuICAgICAgICBpZiAoYWN0aW9uID09PSAwIC8qIENyZWF0ZSAqLyAmJiBwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmVOb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBcHBlbmRDaGlsZChyZW5kZXJlciwgcGFyZW50LCByTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgck5vZGUsIGJlZm9yZU5vZGUgfHwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAxIC8qIEluc2VydCAqLyAmJiBwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCByTm9kZSwgYmVmb3JlTm9kZSB8fCBudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09IDIgLyogRGV0YWNoICovKSB7XG4gICAgICAgICAgICBuYXRpdmVSZW1vdmVOb2RlKHJlbmRlcmVyLCByTm9kZSwgaXNDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gMyAvKiBEZXN0cm95ICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyRGVzdHJveU5vZGUrKztcbiAgICAgICAgICAgIHJlbmRlcmVyLmRlc3Ryb3lOb2RlKHJOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobENvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcHBseUNvbnRhaW5lcihyZW5kZXJlciwgYWN0aW9uLCBsQ29udGFpbmVyLCBwYXJlbnQsIGJlZm9yZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUocmVuZGVyZXIsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZVRleHROb2RlKys7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldFRleHQrKztcbiAgICByZXR1cm4gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIuY3JlYXRlVGV4dCh2YWx1ZSkgOlxuICAgICAgICByZW5kZXJlci5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG59XG5mdW5jdGlvbiB1cGRhdGVUZXh0Tm9kZShyZW5kZXJlciwgck5vZGUsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldFRleHQrKztcbiAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5zZXRWYWx1ZShyTm9kZSwgdmFsdWUpIDogck5vZGUudGV4dENvbnRlbnQgPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnROb2RlKHJlbmRlcmVyLCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVDb21tZW50Kys7XG4gICAgLy8gaXNQcm9jZWR1cmFsUmVuZGVyZXIgY2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIGJvdGggYFJlbmRlcmVyMmAgYW5kIGBSZW5kZXJlcjNgIGhhdmUgdGhlIHNhbWVcbiAgICAvLyBtZXRob2QgbmFtZS5cbiAgICByZXR1cm4gcmVuZGVyZXIuY3JlYXRlQ29tbWVudChlc2NhcGVDb21tZW50VGV4dCh2YWx1ZSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmF0aXZlIGVsZW1lbnQgZnJvbSBhIHRhZyBuYW1lLCB1c2luZyBhIHJlbmRlcmVyLlxuICogQHBhcmFtIHJlbmRlcmVyIEEgcmVuZGVyZXIgdG8gdXNlXG4gKiBAcGFyYW0gbmFtZSB0aGUgdGFnIG5hbWVcbiAqIEBwYXJhbSBuYW1lc3BhY2UgT3B0aW9uYWwgbmFtZXNwYWNlIGZvciBlbGVtZW50LlxuICogQHJldHVybnMgdGhlIGVsZW1lbnQgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50Tm9kZShyZW5kZXJlciwgbmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUVsZW1lbnQrKztcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJlci5jcmVhdGVFbGVtZW50KG5hbWUsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VVcmkgPSBuYW1lc3BhY2UgIT09IG51bGwgPyBnZXROYW1lc3BhY2VVcmkobmFtZXNwYWNlKSA6IG51bGw7XG4gICAgICAgIHJldHVybiBuYW1lc3BhY2VVcmkgPT09IG51bGwgPyByZW5kZXJlci5jcmVhdGVFbGVtZW50KG5hbWUpIDpcbiAgICAgICAgICAgIHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVcmksIG5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgRE9NIGVsZW1lbnRzIGFzc29jaWF0ZWQgd2l0aCBhIHZpZXcuXG4gKlxuICogQmVjYXVzZSBzb21lIHJvb3Qgbm9kZXMgb2YgdGhlIHZpZXcgbWF5IGJlIGNvbnRhaW5lcnMsIHdlIHNvbWV0aW1lcyBuZWVkXG4gKiB0byBwcm9wYWdhdGUgZGVlcGx5IGludG8gdGhlIG5lc3RlZCBjb250YWluZXJzIHRvIHJlbW92ZSBhbGwgZWxlbWVudHMgaW4gdGhlXG4gKiB2aWV3cyBiZW5lYXRoIGl0LlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCBmcm9tIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCBvciByZW1vdmVkXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICovXG5mdW5jdGlvbiByZW1vdmVWaWV3RnJvbUNvbnRhaW5lcih0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgMiAvKiBEZXRhY2ggKi8sIG51bGwsIG51bGwpO1xuICAgIGxWaWV3W0hPU1RdID0gbnVsbDtcbiAgICBsVmlld1tUX0hPU1RdID0gbnVsbDtcbn1cbi8qKlxuICogQWRkcyBhbGwgRE9NIGVsZW1lbnRzIGFzc29jaWF0ZWQgd2l0aCBhIHZpZXcuXG4gKlxuICogQmVjYXVzZSBzb21lIHJvb3Qgbm9kZXMgb2YgdGhlIHZpZXcgbWF5IGJlIGNvbnRhaW5lcnMsIHdlIHNvbWV0aW1lcyBuZWVkXG4gKiB0byBwcm9wYWdhdGUgZGVlcGx5IGludG8gdGhlIG5lc3RlZCBjb250YWluZXJzIHRvIGFkZCBhbGwgZWxlbWVudHMgaW4gdGhlXG4gKiB2aWV3cyBiZW5lYXRoIGl0LlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCBmcm9tIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCBvciByZW1vdmVkXG4gKiBAcGFyYW0gcGFyZW50VE5vZGUgVGhlIGBUTm9kZWAgd2hlcmUgdGhlIGBMVmlld2Agc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICogQHBhcmFtIHJlbmRlcmVyIEN1cnJlbnQgcmVuZGVyZXIgdG8gdXNlIGZvciBET00gbWFuaXB1bGF0aW9ucy5cbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyBmcm9tIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCBvciByZW1vdmVkXG4gKiBAcGFyYW0gcGFyZW50TmF0aXZlTm9kZSBUaGUgcGFyZW50IGBSRWxlbWVudGAgd2hlcmUgaXQgc2hvdWxkIGJlIGluc2VydGVkIGludG8uXG4gKiBAcGFyYW0gYmVmb3JlTm9kZSBUaGUgbm9kZSBiZWZvcmUgd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkLCBpZiBpbnNlcnQgbW9kZVxuICovXG5mdW5jdGlvbiBhZGRWaWV3VG9Db250YWluZXIodFZpZXcsIHBhcmVudFROb2RlLCByZW5kZXJlciwgbFZpZXcsIHBhcmVudE5hdGl2ZU5vZGUsIGJlZm9yZU5vZGUpIHtcbiAgICBsVmlld1tIT1NUXSA9IHBhcmVudE5hdGl2ZU5vZGU7XG4gICAgbFZpZXdbVF9IT1NUXSA9IHBhcmVudFROb2RlO1xuICAgIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCAxIC8qIEluc2VydCAqLywgcGFyZW50TmF0aXZlTm9kZSwgYmVmb3JlTm9kZSk7XG59XG4vKipcbiAqIERldGFjaCBhIGBMVmlld2AgZnJvbSB0aGUgRE9NIGJ5IGRldGFjaGluZyBpdHMgbm9kZXMuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIHRvIGJlIGRldGFjaGVkXG4gKiBAcGFyYW0gbFZpZXcgdGhlIGBMVmlld2AgdG8gYmUgZGV0YWNoZWQuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckRldGFjaFZpZXcodFZpZXcsIGxWaWV3KSB7XG4gICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgbFZpZXdbUkVOREVSRVJdLCAyIC8qIERldGFjaCAqLywgbnVsbCwgbnVsbCk7XG59XG4vKipcbiAqIFRyYXZlcnNlcyBkb3duIGFuZCB1cCB0aGUgdHJlZSBvZiB2aWV3cyBhbmQgY29udGFpbmVycyB0byByZW1vdmUgbGlzdGVuZXJzIGFuZFxuICogY2FsbCBvbkRlc3Ryb3kgY2FsbGJhY2tzLlxuICpcbiAqIE5vdGVzOlxuICogIC0gQmVjYXVzZSBpdCdzIHVzZWQgZm9yIG9uRGVzdHJveSBjYWxscywgaXQgbmVlZHMgdG8gYmUgYm90dG9tLXVwLlxuICogIC0gTXVzdCBwcm9jZXNzIGNvbnRhaW5lcnMgaW5zdGVhZCBvZiB0aGVpciB2aWV3cyB0byBhdm9pZCBzcGxpY2luZ1xuICogIHdoZW4gdmlld3MgYXJlIGRlc3Ryb3llZCBhbmQgcmUtYWRkZWQuXG4gKiAgLSBVc2luZyBhIHdoaWxlIGxvb3AgYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIHJlY3Vyc2lvblxuICogIC0gRGVzdHJveSBvbmx5IGNhbGxlZCBvbiBtb3ZlbWVudCB0byBzaWJsaW5nIG9yIG1vdmVtZW50IHRvIHBhcmVudCAobGF0ZXJhbGx5IG9yIHVwKVxuICpcbiAqICBAcGFyYW0gcm9vdFZpZXcgVGhlIHZpZXcgdG8gZGVzdHJveVxuICovXG5mdW5jdGlvbiBkZXN0cm95Vmlld1RyZWUocm9vdFZpZXcpIHtcbiAgICAvLyBJZiB0aGUgdmlldyBoYXMgbm8gY2hpbGRyZW4sIHdlIGNhbiBjbGVhbiBpdCB1cCBhbmQgcmV0dXJuIGVhcmx5LlxuICAgIGxldCBsVmlld09yTENvbnRhaW5lciA9IHJvb3RWaWV3W0NISUxEX0hFQURdO1xuICAgIGlmICghbFZpZXdPckxDb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFuVXBWaWV3KHJvb3RWaWV3W1RWSUVXXSwgcm9vdFZpZXcpO1xuICAgIH1cbiAgICB3aGlsZSAobFZpZXdPckxDb250YWluZXIpIHtcbiAgICAgICAgbGV0IG5leHQgPSBudWxsO1xuICAgICAgICBpZiAoaXNMVmlldyhsVmlld09yTENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIC8vIElmIExWaWV3LCB0cmF2ZXJzZSBkb3duIHRvIGNoaWxkLlxuICAgICAgICAgICAgbmV4dCA9IGxWaWV3T3JMQ29udGFpbmVyW0NISUxEX0hFQURdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIobFZpZXdPckxDb250YWluZXIpO1xuICAgICAgICAgICAgLy8gSWYgY29udGFpbmVyLCB0cmF2ZXJzZSBkb3duIHRvIGl0cyBmaXJzdCBMVmlldy5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VmlldyA9IGxWaWV3T3JMQ29udGFpbmVyW0NPTlRBSU5FUl9IRUFERVJfT0ZGU0VUXTtcbiAgICAgICAgICAgIGlmIChmaXJzdFZpZXcpXG4gICAgICAgICAgICAgICAgbmV4dCA9IGZpcnN0VmlldztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgY2xlYW4gdXAgdmlldyB3aGVuIG1vdmluZyB0byB0aGUgc2lkZSBvciB1cCwgYXMgZGVzdHJveSBob29rc1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGNhbGxlZCBpbiBvcmRlciBmcm9tIHRoZSBib3R0b20gdXAuXG4gICAgICAgICAgICB3aGlsZSAobFZpZXdPckxDb250YWluZXIgJiYgIWxWaWV3T3JMQ29udGFpbmVyW05FWFRdICYmIGxWaWV3T3JMQ29udGFpbmVyICE9PSByb290Vmlldykge1xuICAgICAgICAgICAgICAgIGlmIChpc0xWaWV3KGxWaWV3T3JMQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhblVwVmlldyhsVmlld09yTENvbnRhaW5lcltUVklFV10sIGxWaWV3T3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbFZpZXdPckxDb250YWluZXIgPSBsVmlld09yTENvbnRhaW5lcltQQVJFTlRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxWaWV3T3JMQ29udGFpbmVyID09PSBudWxsKVxuICAgICAgICAgICAgICAgIGxWaWV3T3JMQ29udGFpbmVyID0gcm9vdFZpZXc7XG4gICAgICAgICAgICBpZiAoaXNMVmlldyhsVmlld09yTENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICBjbGVhblVwVmlldyhsVmlld09yTENvbnRhaW5lcltUVklFV10sIGxWaWV3T3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBsVmlld09yTENvbnRhaW5lciAmJiBsVmlld09yTENvbnRhaW5lcltORVhUXTtcbiAgICAgICAgfVxuICAgICAgICBsVmlld09yTENvbnRhaW5lciA9IG5leHQ7XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnRzIGEgdmlldyBpbnRvIGEgY29udGFpbmVyLlxuICpcbiAqIFRoaXMgYWRkcyB0aGUgdmlldyB0byB0aGUgY29udGFpbmVyJ3MgYXJyYXkgb2YgYWN0aXZlIHZpZXdzIGluIHRoZSBjb3JyZWN0XG4gKiBwb3NpdGlvbi4gSXQgYWxzbyBhZGRzIHRoZSB2aWV3J3MgZWxlbWVudHMgdG8gdGhlIERPTSBpZiB0aGUgY29udGFpbmVyIGlzbid0IGFcbiAqIHJvb3Qgbm9kZSBvZiBhbm90aGVyIHZpZXcgKGluIHRoYXQgY2FzZSwgdGhlIHZpZXcncyBlbGVtZW50cyB3aWxsIGJlIGFkZGVkIHdoZW5cbiAqIHRoZSBjb250YWluZXIncyBwYXJlbnQgdmlldyBpcyBhZGRlZCBsYXRlcikuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIHRvIGluc2VydFxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIGluc2VydFxuICogQHBhcmFtIGxDb250YWluZXIgVGhlIGNvbnRhaW5lciBpbnRvIHdoaWNoIHRoZSB2aWV3IHNob3VsZCBiZSBpbnNlcnRlZFxuICogQHBhcmFtIGluZGV4IFdoaWNoIGluZGV4IGluIHRoZSBjb250YWluZXIgdG8gaW5zZXJ0IHRoZSBjaGlsZCB2aWV3IGludG9cbiAqL1xuZnVuY3Rpb24gaW5zZXJ0Vmlldyh0VmlldywgbFZpZXcsIGxDb250YWluZXIsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihsQ29udGFpbmVyKTtcbiAgICBjb25zdCBpbmRleEluQ29udGFpbmVyID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgKyBpbmRleDtcbiAgICBjb25zdCBjb250YWluZXJMZW5ndGggPSBsQ29udGFpbmVyLmxlbmd0aDtcbiAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgdmlldywgd2UgbmVlZCB0byBhZGQgaXQgdG8gdGhlIGNoaWxkcmVuLlxuICAgICAgICBsQ29udGFpbmVyW2luZGV4SW5Db250YWluZXIgLSAxXVtORVhUXSA9IGxWaWV3O1xuICAgIH1cbiAgICBpZiAoaW5kZXggPCBjb250YWluZXJMZW5ndGggLSBDT05UQUlORVJfSEVBREVSX09GRlNFVCkge1xuICAgICAgICBsVmlld1tORVhUXSA9IGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lcl07XG4gICAgICAgIGFkZFRvQXJyYXkobENvbnRhaW5lciwgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgKyBpbmRleCwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbENvbnRhaW5lci5wdXNoKGxWaWV3KTtcbiAgICAgICAgbFZpZXdbTkVYVF0gPSBudWxsO1xuICAgIH1cbiAgICBsVmlld1tQQVJFTlRdID0gbENvbnRhaW5lcjtcbiAgICAvLyB0cmFjayB2aWV3cyB3aGVyZSBkZWNsYXJhdGlvbiBhbmQgaW5zZXJ0aW9uIHBvaW50cyBhcmUgZGlmZmVyZW50XG4gICAgY29uc3QgZGVjbGFyYXRpb25MQ29udGFpbmVyID0gbFZpZXdbREVDTEFSQVRJT05fTENPTlRBSU5FUl07XG4gICAgaWYgKGRlY2xhcmF0aW9uTENvbnRhaW5lciAhPT0gbnVsbCAmJiBsQ29udGFpbmVyICE9PSBkZWNsYXJhdGlvbkxDb250YWluZXIpIHtcbiAgICAgICAgdHJhY2tNb3ZlZFZpZXcoZGVjbGFyYXRpb25MQ29udGFpbmVyLCBsVmlldyk7XG4gICAgfVxuICAgIC8vIG5vdGlmeSBxdWVyeSB0aGF0IGEgbmV3IHZpZXcgaGFzIGJlZW4gYWRkZWRcbiAgICBjb25zdCBsUXVlcmllcyA9IGxWaWV3W1FVRVJJRVNdO1xuICAgIGlmIChsUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICBsUXVlcmllcy5pbnNlcnRWaWV3KHRWaWV3KTtcbiAgICB9XG4gICAgLy8gU2V0cyB0aGUgYXR0YWNoZWQgZmxhZ1xuICAgIGxWaWV3W0ZMQUdTXSB8PSAxMjggLyogQXR0YWNoZWQgKi87XG59XG4vKipcbiAqIFRyYWNrIHZpZXdzIGNyZWF0ZWQgZnJvbSB0aGUgZGVjbGFyYXRpb24gY29udGFpbmVyIChUZW1wbGF0ZVJlZikgYW5kIGluc2VydGVkIGludG8gYVxuICogZGlmZmVyZW50IExDb250YWluZXIuXG4gKi9cbmZ1bmN0aW9uIHRyYWNrTW92ZWRWaWV3KGRlY2xhcmF0aW9uQ29udGFpbmVyLCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxWaWV3LCAnTFZpZXcgcmVxdWlyZWQnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkNvbnRhaW5lcik7XG4gICAgY29uc3QgbW92ZWRWaWV3cyA9IGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICBjb25zdCBpbnNlcnRlZExDb250YWluZXIgPSBsVmlld1tQQVJFTlRdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGluc2VydGVkTENvbnRhaW5lcik7XG4gICAgY29uc3QgaW5zZXJ0ZWRDb21wb25lbnRMVmlldyA9IGluc2VydGVkTENvbnRhaW5lcltQQVJFTlRdW0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChpbnNlcnRlZENvbXBvbmVudExWaWV3LCAnTWlzc2luZyBpbnNlcnRlZENvbXBvbmVudExWaWV3Jyk7XG4gICAgY29uc3QgZGVjbGFyZWRDb21wb25lbnRMVmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChkZWNsYXJlZENvbXBvbmVudExWaWV3LCAnTWlzc2luZyBkZWNsYXJlZENvbXBvbmVudExWaWV3Jyk7XG4gICAgaWYgKGRlY2xhcmVkQ29tcG9uZW50TFZpZXcgIT09IGluc2VydGVkQ29tcG9uZW50TFZpZXcpIHtcbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgZGVjbGFyYXRpb24tY29tcG9uZW50IGlzIG5vdCBzYW1lIGFzIGluc2VydGlvbi1jb21wb25lbnQ7IHRoaXMgbWVhbnMgdGhhdFxuICAgICAgICAvLyB0aGlzIGlzIGEgdHJhbnNwbGFudGVkIHZpZXcuIE1hcmsgdGhlIGRlY2xhcmVkIGxWaWV3IGFzIGhhdmluZyB0cmFuc3BsYW50ZWQgdmlld3Mgc28gdGhhdFxuICAgICAgICAvLyB0aG9zZSB2aWV3cyBjYW4gcGFydGljaXBhdGUgaW4gQ0QuXG4gICAgICAgIGRlY2xhcmF0aW9uQ29udGFpbmVyW0hBU19UUkFOU1BMQU5URURfVklFV1NdID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG1vdmVkVmlld3MgPT09IG51bGwpIHtcbiAgICAgICAgZGVjbGFyYXRpb25Db250YWluZXJbTU9WRURfVklFV1NdID0gW2xWaWV3XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1vdmVkVmlld3MucHVzaChsVmlldyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoTW92ZWRWaWV3KGRlY2xhcmF0aW9uQ29udGFpbmVyLCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGRlY2xhcmF0aW9uQ29udGFpbmVyKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU10sICdBIHByb2plY3RlZCB2aWV3IHNob3VsZCBiZWxvbmcgdG8gYSBub24tZW1wdHkgcHJvamVjdGVkIHZpZXdzIGNvbGxlY3Rpb24nKTtcbiAgICBjb25zdCBtb3ZlZFZpZXdzID0gZGVjbGFyYXRpb25Db250YWluZXJbTU9WRURfVklFV1NdO1xuICAgIGNvbnN0IGRlY2xhcmF0aW9uVmlld0luZGV4ID0gbW92ZWRWaWV3cy5pbmRleE9mKGxWaWV3KTtcbiAgICBjb25zdCBpbnNlcnRpb25MQ29udGFpbmVyID0gbFZpZXdbUEFSRU5UXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihpbnNlcnRpb25MQ29udGFpbmVyKTtcbiAgICAvLyBJZiB0aGUgdmlldyB3YXMgbWFya2VkIGZvciByZWZyZXNoIGJ1dCB0aGVuIGRldGFjaGVkIGJlZm9yZSBpdCB3YXMgY2hlY2tlZCAod2hlcmUgdGhlIGZsYWdcbiAgICAvLyB3b3VsZCBiZSBjbGVhcmVkIGFuZCB0aGUgY291bnRlciBkZWNyZW1lbnRlZCksIHdlIG5lZWQgdG8gZGVjcmVtZW50IHRoZSB2aWV3IGNvdW50ZXIgaGVyZVxuICAgIC8vIGluc3RlYWQuXG4gICAgaWYgKGxWaWV3W0ZMQUdTXSAmIDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi8pIHtcbiAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4xMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovO1xuICAgICAgICB1cGRhdGVUcmFuc3BsYW50ZWRWaWV3Q291bnQoaW5zZXJ0aW9uTENvbnRhaW5lciwgLTEpO1xuICAgIH1cbiAgICBtb3ZlZFZpZXdzLnNwbGljZShkZWNsYXJhdGlvblZpZXdJbmRleCwgMSk7XG59XG4vKipcbiAqIERldGFjaGVzIGEgdmlldyBmcm9tIGEgY29udGFpbmVyLlxuICpcbiAqIFRoaXMgbWV0aG9kIHJlbW92ZXMgdGhlIHZpZXcgZnJvbSB0aGUgY29udGFpbmVyJ3MgYXJyYXkgb2YgYWN0aXZlIHZpZXdzLiBJdCBhbHNvXG4gKiByZW1vdmVzIHRoZSB2aWV3J3MgZWxlbWVudHMgZnJvbSB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSBsQ29udGFpbmVyIFRoZSBjb250YWluZXIgZnJvbSB3aGljaCB0byBkZXRhY2ggYSB2aWV3XG4gKiBAcGFyYW0gcmVtb3ZlSW5kZXggVGhlIGluZGV4IG9mIHRoZSB2aWV3IHRvIGRldGFjaFxuICogQHJldHVybnMgRGV0YWNoZWQgTFZpZXcgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGRldGFjaFZpZXcobENvbnRhaW5lciwgcmVtb3ZlSW5kZXgpIHtcbiAgICBpZiAobENvbnRhaW5lci5sZW5ndGggPD0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBpbmRleEluQ29udGFpbmVyID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgKyByZW1vdmVJbmRleDtcbiAgICBjb25zdCB2aWV3VG9EZXRhY2ggPSBsQ29udGFpbmVyW2luZGV4SW5Db250YWluZXJdO1xuICAgIGlmICh2aWV3VG9EZXRhY2gpIHtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MQ29udGFpbmVyID0gdmlld1RvRGV0YWNoW0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdO1xuICAgICAgICBpZiAoZGVjbGFyYXRpb25MQ29udGFpbmVyICE9PSBudWxsICYmIGRlY2xhcmF0aW9uTENvbnRhaW5lciAhPT0gbENvbnRhaW5lcikge1xuICAgICAgICAgICAgZGV0YWNoTW92ZWRWaWV3KGRlY2xhcmF0aW9uTENvbnRhaW5lciwgdmlld1RvRGV0YWNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlSW5kZXggPiAwKSB7XG4gICAgICAgICAgICBsQ29udGFpbmVyW2luZGV4SW5Db250YWluZXIgLSAxXVtORVhUXSA9IHZpZXdUb0RldGFjaFtORVhUXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdmVkTFZpZXcgPSByZW1vdmVGcm9tQXJyYXkobENvbnRhaW5lciwgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgKyByZW1vdmVJbmRleCk7XG4gICAgICAgIHJlbW92ZVZpZXdGcm9tQ29udGFpbmVyKHZpZXdUb0RldGFjaFtUVklFV10sIHZpZXdUb0RldGFjaCk7XG4gICAgICAgIC8vIG5vdGlmeSBxdWVyeSB0aGF0IGEgdmlldyBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgIGNvbnN0IGxRdWVyaWVzID0gcmVtb3ZlZExWaWV3W1FVRVJJRVNdO1xuICAgICAgICBpZiAobFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxRdWVyaWVzLmRldGFjaFZpZXcocmVtb3ZlZExWaWV3W1RWSUVXXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld1RvRGV0YWNoW1BBUkVOVF0gPSBudWxsO1xuICAgICAgICB2aWV3VG9EZXRhY2hbTkVYVF0gPSBudWxsO1xuICAgICAgICAvLyBVbnNldHMgdGhlIGF0dGFjaGVkIGZsYWdcbiAgICAgICAgdmlld1RvRGV0YWNoW0ZMQUdTXSAmPSB+MTI4IC8qIEF0dGFjaGVkICovO1xuICAgIH1cbiAgICByZXR1cm4gdmlld1RvRGV0YWNoO1xufVxuLyoqXG4gKiBBIHN0YW5kYWxvbmUgZnVuY3Rpb24gd2hpY2ggZGVzdHJveXMgYW4gTFZpZXcsXG4gKiBjb25kdWN0aW5nIGNsZWFuIHVwIChlLmcuIHJlbW92aW5nIGxpc3RlbmVycywgY2FsbGluZyBvbkRlc3Ryb3lzKS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgdG8gYmUgZGVzdHJveWVkXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gYmUgZGVzdHJveWVkLlxuICovXG5mdW5jdGlvbiBkZXN0cm95TFZpZXcodFZpZXcsIGxWaWV3KSB7XG4gICAgaWYgKCEobFZpZXdbRkxBR1NdICYgMjU2IC8qIERlc3Ryb3llZCAqLykpIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgJiYgcmVuZGVyZXIuZGVzdHJveU5vZGUpIHtcbiAgICAgICAgICAgIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCAzIC8qIERlc3Ryb3kgKi8sIG51bGwsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGRlc3Ryb3lWaWV3VHJlZShsVmlldyk7XG4gICAgfVxufVxuLyoqXG4gKiBDYWxscyBvbkRlc3Ryb3lzIGhvb2tzIGZvciBhbGwgZGlyZWN0aXZlcyBhbmQgcGlwZXMgaW4gYSBnaXZlbiB2aWV3IGFuZCB0aGVuIHJlbW92ZXMgYWxsXG4gKiBsaXN0ZW5lcnMuIExpc3RlbmVycyBhcmUgcmVtb3ZlZCBhcyB0aGUgbGFzdCBzdGVwIHNvIGV2ZW50cyBkZWxpdmVyZWQgaW4gdGhlIG9uRGVzdHJveXMgaG9va3NcbiAqIGNhbiBiZSBwcm9wYWdhdGVkIHRvIEBPdXRwdXQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIGZvciB0aGUgYExWaWV3YCB0byBjbGVhbiB1cC5cbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgdG8gY2xlYW4gdXBcbiAqL1xuZnVuY3Rpb24gY2xlYW5VcFZpZXcodFZpZXcsIGxWaWV3KSB7XG4gICAgaWYgKCEobFZpZXdbRkxBR1NdICYgMjU2IC8qIERlc3Ryb3llZCAqLykpIHtcbiAgICAgICAgLy8gVXN1YWxseSB0aGUgQXR0YWNoZWQgZmxhZyBpcyByZW1vdmVkIHdoZW4gdGhlIHZpZXcgaXMgZGV0YWNoZWQgZnJvbSBpdHMgcGFyZW50LCBob3dldmVyXG4gICAgICAgIC8vIGlmIGl0J3MgYSByb290IHZpZXcsIHRoZSBmbGFnIHdvbid0IGJlIHVuc2V0IGhlbmNlIHdoeSB3ZSdyZSBhbHNvIHJlbW92aW5nIG9uIGRlc3Ryb3kuXG4gICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+MTI4IC8qIEF0dGFjaGVkICovO1xuICAgICAgICAvLyBNYXJrIHRoZSBMVmlldyBhcyBkZXN0cm95ZWQgKmJlZm9yZSogZXhlY3V0aW5nIHRoZSBvbkRlc3Ryb3kgaG9va3MuIEFuIG9uRGVzdHJveSBob29rXG4gICAgICAgIC8vIHJ1bnMgYXJiaXRyYXJ5IHVzZXIgY29kZSwgd2hpY2ggY291bGQgaW5jbHVkZSBpdHMgb3duIGB2aWV3UmVmLmRlc3Ryb3koKWAgKG9yIHNpbWlsYXIpLiBJZlxuICAgICAgICAvLyBXZSBkb24ndCBmbGFnIHRoZSB2aWV3IGFzIGRlc3Ryb3llZCBiZWZvcmUgdGhlIGhvb2tzLCB0aGlzIGNvdWxkIGxlYWQgdG8gYW4gaW5maW5pdGUgbG9vcC5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGFsaWducyB3aXRoIHRoZSBWaWV3RW5naW5lIGJlaGF2aW9yLiBJdCBhbHNvIG1lYW5zIHRoYXQgdGhlIG9uRGVzdHJveSBob29rIGlzXG4gICAgICAgIC8vIHJlYWxseSBtb3JlIG9mIGFuIFwiYWZ0ZXJEZXN0cm95XCIgaG9vayBpZiB5b3UgdGhpbmsgYWJvdXQgaXQuXG4gICAgICAgIGxWaWV3W0ZMQUdTXSB8PSAyNTYgLyogRGVzdHJveWVkICovO1xuICAgICAgICBleGVjdXRlT25EZXN0cm95cyh0VmlldywgbFZpZXcpO1xuICAgICAgICBwcm9jZXNzQ2xlYW51cHModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgLy8gRm9yIGNvbXBvbmVudCB2aWV3cyBvbmx5LCB0aGUgbG9jYWwgcmVuZGVyZXIgaXMgZGVzdHJveWVkIGF0IGNsZWFuIHVwIHRpbWUuXG4gICAgICAgIGlmIChsVmlld1tUVklFV10udHlwZSA9PT0gMSAvKiBDb21wb25lbnQgKi8gJiYgaXNQcm9jZWR1cmFsUmVuZGVyZXIobFZpZXdbUkVOREVSRVJdKSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckRlc3Ryb3krKztcbiAgICAgICAgICAgIGxWaWV3W1JFTkRFUkVSXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25Db250YWluZXIgPSBsVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXTtcbiAgICAgICAgLy8gd2UgYXJlIGRlYWxpbmcgd2l0aCBhbiBlbWJlZGRlZCB2aWV3IHRoYXQgaXMgc3RpbGwgaW5zZXJ0ZWQgaW50byBhIGNvbnRhaW5lclxuICAgICAgICBpZiAoZGVjbGFyYXRpb25Db250YWluZXIgIT09IG51bGwgJiYgaXNMQ29udGFpbmVyKGxWaWV3W1BBUkVOVF0pKSB7XG4gICAgICAgICAgICAvLyBhbmQgdGhpcyBpcyBhIHByb2plY3RlZCB2aWV3XG4gICAgICAgICAgICBpZiAoZGVjbGFyYXRpb25Db250YWluZXIgIT09IGxWaWV3W1BBUkVOVF0pIHtcbiAgICAgICAgICAgICAgICBkZXRhY2hNb3ZlZFZpZXcoZGVjbGFyYXRpb25Db250YWluZXIsIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciBlbWJlZGRlZCB2aWV3cyBzdGlsbCBhdHRhY2hlZCB0byBhIGNvbnRhaW5lcjogcmVtb3ZlIHF1ZXJ5IHJlc3VsdCBmcm9tIHRoaXMgdmlldy5cbiAgICAgICAgICAgIGNvbnN0IGxRdWVyaWVzID0gbFZpZXdbUVVFUklFU107XG4gICAgICAgICAgICBpZiAobFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsUXVlcmllcy5kZXRhY2hWaWV3KHRWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBSZW1vdmVzIGxpc3RlbmVycyBhbmQgdW5zdWJzY3JpYmVzIGZyb20gb3V0cHV0IHN1YnNjcmlwdGlvbnMgKi9cbmZ1bmN0aW9uIHByb2Nlc3NDbGVhbnVwcyh0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCB0Q2xlYW51cCA9IHRWaWV3LmNsZWFudXA7XG4gICAgY29uc3QgbENsZWFudXAgPSBsVmlld1tDTEVBTlVQXTtcbiAgICAvLyBgTENsZWFudXBgIGNvbnRhaW5zIGJvdGggc2hhcmUgaW5mb3JtYXRpb24gd2l0aCBgVENsZWFudXBgIGFzIHdlbGwgYXMgaW5zdGFuY2Ugc3BlY2lmaWNcbiAgICAvLyBpbmZvcm1hdGlvbiBhcHBlbmRlZCBhdCB0aGUgZW5kLiBXZSBuZWVkIHRvIGtub3cgd2hlcmUgdGhlIGVuZCBvZiB0aGUgYFRDbGVhbnVwYCBpbmZvcm1hdGlvblxuICAgIC8vIGlzLCBhbmQgd2UgdHJhY2sgdGhpcyB3aXRoIGBsYXN0TENsZWFudXBJbmRleGAuXG4gICAgbGV0IGxhc3RMQ2xlYW51cEluZGV4ID0gLTE7XG4gICAgaWYgKHRDbGVhbnVwICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdENsZWFudXAubGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRDbGVhbnVwW2ldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBuYXRpdmUgRE9NIGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgaWR4T3JUYXJnZXRHZXR0ZXIgPSB0Q2xlYW51cFtpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIGlkeE9yVGFyZ2V0R2V0dGVyID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgaWR4T3JUYXJnZXRHZXR0ZXIobFZpZXcpIDpcbiAgICAgICAgICAgICAgICAgICAgdW53cmFwUk5vZGUobFZpZXdbaWR4T3JUYXJnZXRHZXR0ZXJdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gdENsZWFudXBbaSArIDJdXTtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VDYXB0dXJlT3JTdWJJZHggPSB0Q2xlYW51cFtpICsgM107XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VDYXB0dXJlT3JTdWJJZHggPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBuYXRpdmUgRE9NIGxpc3RlbmVyIHJlZ2lzdGVyZWQgd2l0aCBSZW5kZXJlcjNcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodENsZWFudXBbaV0sIGxpc3RlbmVyLCB1c2VDYXB0dXJlT3JTdWJJZHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUNhcHR1cmVPclN1YklkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1bnJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBsQ2xlYW51cFtsYXN0TENsZWFudXBJbmRleCA9IHVzZUNhcHR1cmVPclN1YklkeF0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSAtdXNlQ2FwdHVyZU9yU3ViSWR4XS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgaXMgZ3JvdXBlZCB3aXRoIHRoZSBpbmRleCBvZiBpdHMgY29udGV4dFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBsQ2xlYW51cFtsYXN0TENsZWFudXBJbmRleCA9IHRDbGVhbnVwW2kgKyAxXV07XG4gICAgICAgICAgICAgICAgdENsZWFudXBbaV0uY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobENsZWFudXAgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGxhc3RMQ2xlYW51cEluZGV4ICsgMTsgaSA8IGxDbGVhbnVwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZUNsZWFudXBGbiA9IGxDbGVhbnVwW2ldO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEZ1bmN0aW9uKGluc3RhbmNlQ2xlYW51cEZuLCAnRXhwZWN0aW5nIGluc3RhbmNlIGNsZWFudXAgZnVuY3Rpb24uJyk7XG4gICAgICAgICAgICBpbnN0YW5jZUNsZWFudXBGbigpO1xuICAgICAgICB9XG4gICAgICAgIGxWaWV3W0NMRUFOVVBdID0gbnVsbDtcbiAgICB9XG59XG4vKiogQ2FsbHMgb25EZXN0cm95IGhvb2tzIGZvciB0aGlzIHZpZXcgKi9cbmZ1bmN0aW9uIGV4ZWN1dGVPbkRlc3Ryb3lzKHRWaWV3LCBsVmlldykge1xuICAgIGxldCBkZXN0cm95SG9va3M7XG4gICAgaWYgKHRWaWV3ICE9IG51bGwgJiYgKGRlc3Ryb3lIb29rcyA9IHRWaWV3LmRlc3Ryb3lIb29rcykgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlc3Ryb3lIb29rcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGxWaWV3W2Rlc3Ryb3lIb29rc1tpXV07XG4gICAgICAgICAgICAvLyBPbmx5IGNhbGwgdGhlIGRlc3Ryb3kgaG9vayBpZiB0aGUgY29udGV4dCBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAgICAgICAgICBpZiAoIShjb250ZXh0IGluc3RhbmNlb2YgTm9kZUluamVjdG9yRmFjdG9yeSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b0NhbGwgPSBkZXN0cm95SG9va3NbaSArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRvQ2FsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0b0NhbGwubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxDb250ZXh0ID0gY29udGV4dFt0b0NhbGxbal1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9vayA9IHRvQ2FsbFtqICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlcig0IC8qIExpZmVjeWNsZUhvb2tTdGFydCAqLywgY2FsbENvbnRleHQsIGhvb2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob29rLmNhbGwoY2FsbENvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBjYWxsQ29udGV4dCwgaG9vayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDQgLyogTGlmZWN5Y2xlSG9va1N0YXJ0ICovLCBjb250ZXh0LCB0b0NhbGwpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9DYWxsLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlcig1IC8qIExpZmVjeWNsZUhvb2tFbmQgKi8sIGNvbnRleHQsIHRvQ2FsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgYSBuYXRpdmUgZWxlbWVudCBpZiBhIG5vZGUgY2FuIGJlIGluc2VydGVkIGludG8gdGhlIGdpdmVuIHBhcmVudC5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHJlYXNvbnMgd2h5IHdlIG1heSBub3QgYmUgYWJsZSB0byBpbnNlcnQgYSBlbGVtZW50IGltbWVkaWF0ZWx5LlxuICogLSBQcm9qZWN0aW9uOiBXaGVuIGNyZWF0aW5nIGEgY2hpbGQgY29udGVudCBlbGVtZW50IG9mIGEgY29tcG9uZW50LCB3ZSBoYXZlIHRvIHNraXAgdGhlXG4gKiAgIGluc2VydGlvbiBiZWNhdXNlIHRoZSBjb250ZW50IG9mIGEgY29tcG9uZW50IHdpbGwgYmUgcHJvamVjdGVkLlxuICogICBgPGNvbXBvbmVudD48Y29udGVudD5kZWxheWVkIGR1ZSB0byBwcm9qZWN0aW9uPC9jb250ZW50PjwvY29tcG9uZW50PmBcbiAqIC0gUGFyZW50IGNvbnRhaW5lciBpcyBkaXNjb25uZWN0ZWQ6IFRoaXMgY2FuIGhhcHBlbiB3aGVuIHdlIGFyZSBpbnNlcnRpbmcgYSB2aWV3IGludG9cbiAqICAgcGFyZW50IGNvbnRhaW5lciwgd2hpY2ggaXRzZWxmIGlzIGRpc2Nvbm5lY3RlZC4gRm9yIGV4YW1wbGUgdGhlIHBhcmVudCBjb250YWluZXIgaXMgcGFydFxuICogICBvZiBhIFZpZXcgd2hpY2ggaGFzIG5vdCBiZSBpbnNlcnRlZCBvciBpcyBtYWRlIGZvciBwcm9qZWN0aW9uIGJ1dCBoYXMgbm90IGJlZW4gaW5zZXJ0ZWRcbiAqICAgaW50byBkZXN0aW5hdGlvbi5cbiAqXG4gKiBAcGFyYW0gdFZpZXc6IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSB0Tm9kZTogYFROb2RlYCBmb3Igd2hpY2ggd2Ugd2lzaCB0byByZXRyaWV2ZSByZW5kZXIgcGFyZW50LlxuICogQHBhcmFtIGxWaWV3OiBDdXJyZW50IGBMVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudFJFbGVtZW50KHRWaWV3LCB0Tm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gZ2V0Q2xvc2VzdFJFbGVtZW50KHRWaWV3LCB0Tm9kZS5wYXJlbnQsIGxWaWV3KTtcbn1cbi8qKlxuICogR2V0IGNsb3Nlc3QgYFJFbGVtZW50YCBvciBgbnVsbGAgaWYgaXQgY2FuJ3QgYmUgZm91bmQuXG4gKlxuICogSWYgYFROb2RlYCBpcyBgVE5vZGVUeXBlLkVsZW1lbnRgID0+IHJldHVybiBgUkVsZW1lbnRgIGF0IGBMVmlld1t0Tm9kZS5pbmRleF1gIGxvY2F0aW9uLlxuICogSWYgYFROb2RlYCBpcyBgVE5vZGVUeXBlLkVsZW1lbnRDb250YWluZXJ8SWN1Q29udGFpbmAgPT4gcmV0dXJuIHRoZSBwYXJlbnQgKHJlY3Vyc2l2ZWx5KS5cbiAqIElmIGBUTm9kZWAgaXMgYG51bGxgIHRoZW4gcmV0dXJuIGhvc3QgYFJFbGVtZW50YDpcbiAqICAgLSByZXR1cm4gYG51bGxgIGlmIHByb2plY3Rpb25cbiAqICAgLSByZXR1cm4gYG51bGxgIGlmIHBhcmVudCBjb250YWluZXIgaXMgZGlzY29ubmVjdGVkICh3ZSBoYXZlIG5vIHBhcmVudC4pXG4gKlxuICogQHBhcmFtIHRWaWV3OiBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gdE5vZGU6IGBUTm9kZWAgZm9yIHdoaWNoIHdlIHdpc2ggdG8gcmV0cmlldmUgYFJFbGVtZW50YCAob3IgYG51bGxgIGlmIGhvc3QgZWxlbWVudCBpc1xuICogICAgIG5lZWRlZCkuXG4gKiBAcGFyYW0gbFZpZXc6IEN1cnJlbnQgYExWaWV3YC5cbiAqIEByZXR1cm5zIGBudWxsYCBpZiB0aGUgYFJFbGVtZW50YCBjYW4ndCBiZSBkZXRlcm1pbmVkIGF0IHRoaXMgdGltZSAobm8gcGFyZW50IC8gcHJvamVjdGlvbilcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xvc2VzdFJFbGVtZW50KHRWaWV3LCB0Tm9kZSwgbFZpZXcpIHtcbiAgICBsZXQgcGFyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICAvLyBTa2lwIG92ZXIgZWxlbWVudCBhbmQgSUNVIGNvbnRhaW5lcnMgYXMgdGhvc2UgYXJlIHJlcHJlc2VudGVkIGJ5IGEgY29tbWVudCBub2RlIGFuZFxuICAgIC8vIGNhbid0IGJlIHVzZWQgYXMgYSByZW5kZXIgcGFyZW50LlxuICAgIHdoaWxlIChwYXJlbnRUTm9kZSAhPT0gbnVsbCAmJlxuICAgICAgICAocGFyZW50VE5vZGUudHlwZSAmICg4IC8qIEVsZW1lbnRDb250YWluZXIgKi8gfCAzMiAvKiBJY3UgKi8pKSkge1xuICAgICAgICB0Tm9kZSA9IHBhcmVudFROb2RlO1xuICAgICAgICBwYXJlbnRUTm9kZSA9IHROb2RlLnBhcmVudDtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHBhcmVudCB0Tm9kZSBpcyBudWxsLCB0aGVuIHdlIGFyZSBpbnNlcnRpbmcgYWNyb3NzIHZpZXdzOiBlaXRoZXIgaW50byBhbiBlbWJlZGRlZCB2aWV3XG4gICAgLy8gb3IgYSBjb21wb25lbnQgdmlldy5cbiAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gV2UgYXJlIGluc2VydGluZyBhIHJvb3QgZWxlbWVudCBvZiB0aGUgY29tcG9uZW50IHZpZXcgaW50byB0aGUgY29tcG9uZW50IGhvc3QgZWxlbWVudCBhbmRcbiAgICAgICAgLy8gaXQgc2hvdWxkIGFsd2F5cyBiZSBlYWdlci5cbiAgICAgICAgcmV0dXJuIGxWaWV3W0hPU1RdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZShwYXJlbnRUTm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDQgLyogQ29udGFpbmVyICovKTtcbiAgICAgICAgaWYgKHBhcmVudFROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHBhcmVudFROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBjb25zdCBlbmNhcHN1bGF0aW9uID0gdFZpZXcuZGF0YVtwYXJlbnRUTm9kZS5kaXJlY3RpdmVTdGFydF0uZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgICAgIC8vIFdlJ3ZlIGdvdCBhIHBhcmVudCB3aGljaCBpcyBhbiBlbGVtZW50IGluIHRoZSBjdXJyZW50IHZpZXcuIFdlIGp1c3QgbmVlZCB0byB2ZXJpZnkgaWYgdGhlXG4gICAgICAgICAgICAvLyBwYXJlbnQgZWxlbWVudCBpcyBub3QgYSBjb21wb25lbnQuIENvbXBvbmVudCdzIGNvbnRlbnQgbm9kZXMgYXJlIG5vdCBpbnNlcnRlZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGV5IHdpbGwgYmUgcHJvamVjdGVkLCBhbmQgc28gZG9pbmcgaW5zZXJ0IGF0IHRoaXMgcG9pbnQgd291bGQgYmUgd2FzdGVmdWwuXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgcHJvamVjdGlvbiB3b3VsZCB0aGVuIG1vdmUgaXQgdG8gaXRzIGZpbmFsIGRlc3RpbmF0aW9uLiBOb3RlIHRoYXQgd2UgY2FuJ3RcbiAgICAgICAgICAgIC8vIG1ha2UgdGhpcyBhc3N1bXB0aW9uIHdoZW4gdXNpbmcgdGhlIFNoYWRvdyBET00sIGJlY2F1c2UgdGhlIG5hdGl2ZSBwcm9qZWN0aW9uIHBsYWNlaG9sZGVyc1xuICAgICAgICAgICAgLy8gKDxjb250ZW50PiBvciA8c2xvdD4pIGhhdmUgdG8gYmUgaW4gcGxhY2UgYXMgZWxlbWVudHMgYXJlIGJlaW5nIGluc2VydGVkLlxuICAgICAgICAgICAgaWYgKGVuY2Fwc3VsYXRpb24gPT09IFZpZXdFbmNhcHN1bGF0aW9uJDEuTm9uZSB8fFxuICAgICAgICAgICAgICAgIGVuY2Fwc3VsYXRpb24gPT09IFZpZXdFbmNhcHN1bGF0aW9uJDEuRW11bGF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0TmF0aXZlQnlUTm9kZShwYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0cyBhIG5hdGl2ZSBub2RlIGJlZm9yZSBhbm90aGVyIG5hdGl2ZSBub2RlIGZvciBhIGdpdmVuIHBhcmVudCB1c2luZyB7QGxpbmsgUmVuZGVyZXIzfS5cbiAqIFRoaXMgaXMgYSB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2hlbiBuYXRpdmUgbm9kZXMgd2VyZSBkZXRlcm1pbmVkIC0gaXQgYWJzdHJhY3RzIGFuXG4gKiBhY3R1YWwgcmVuZGVyZXIgYmVpbmcgdXNlZC5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVySW5zZXJ0QmVmb3JlKys7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5pbnNlcnRCZWZvcmUocGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbmF0aXZlQXBwZW5kQ2hpbGQocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQXBwZW5kQ2hpbGQrKztcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChwYXJlbnQsICdwYXJlbnQgbm9kZSBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLmFwcGVuZENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuYXRpdmVBcHBlbmRPckluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKSB7XG4gICAgaWYgKGJlZm9yZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmF0aXZlQXBwZW5kQ2hpbGQocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQpO1xuICAgIH1cbn1cbi8qKiBSZW1vdmVzIGEgbm9kZSBmcm9tIHRoZSBET00gZ2l2ZW4gaXRzIG5hdGl2ZSBwYXJlbnQuICovXG5mdW5jdGlvbiBuYXRpdmVSZW1vdmVDaGlsZChyZW5kZXJlciwgcGFyZW50LCBjaGlsZCwgaXNIb3N0RWxlbWVudCkge1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIucmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCwgaXNIb3N0RWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhIG5hdGl2ZSBwYXJlbnQgb2YgYSBnaXZlbiBuYXRpdmUgbm9kZS5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgbm9kZSkge1xuICAgIHJldHVybiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIucGFyZW50Tm9kZShub2RlKSA6IG5vZGUucGFyZW50Tm9kZSk7XG59XG4vKipcbiAqIFJldHVybnMgYSBuYXRpdmUgc2libGluZyBvZiBhIGdpdmVuIG5hdGl2ZSBub2RlLlxuICovXG5mdW5jdGlvbiBuYXRpdmVOZXh0U2libGluZyhyZW5kZXJlciwgbm9kZSkge1xuICAgIHJldHVybiBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5uZXh0U2libGluZyhub2RlKSA6IG5vZGUubmV4dFNpYmxpbmc7XG59XG4vKipcbiAqIEZpbmQgYSBub2RlIGluIGZyb250IG9mIHdoaWNoIGBjdXJyZW50VE5vZGVgIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkZXRlcm1pbmVzIHRoZSBgUk5vZGVgIGluIGZyb250IG9mIHdoaWNoIHdlIHNob3VsZCBpbnNlcnQgdGhlIGBjdXJyZW50Uk5vZGVgLiBUaGlzXG4gKiB0YWtlcyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGludG8gYWNjb3VudCBpZiBpMThuIGNvZGUgaGFzIGJlZW4gaW52b2tlZC5cbiAqXG4gKiBAcGFyYW0gcGFyZW50VE5vZGUgcGFyZW50IGBUTm9kZWBcbiAqIEBwYXJhbSBjdXJyZW50VE5vZGUgY3VycmVudCBgVE5vZGVgIChUaGUgbm9kZSB3aGljaCB3ZSB3b3VsZCBsaWtlIHRvIGluc2VydCBpbnRvIHRoZSBET00pXG4gKiBAcGFyYW0gbFZpZXcgY3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGdldEluc2VydEluRnJvbnRPZlJOb2RlKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIF9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KTtcbn1cbi8qKlxuICogRmluZCBhIG5vZGUgaW4gZnJvbnQgb2Ygd2hpY2ggYGN1cnJlbnRUTm9kZWAgc2hvdWxkIGJlIGluc2VydGVkLiAoRG9lcyBub3QgdGFrZSBpMThuIGludG9cbiAqIGFjY291bnQpXG4gKlxuICogVGhpcyBtZXRob2QgZGV0ZXJtaW5lcyB0aGUgYFJOb2RlYCBpbiBmcm9udCBvZiB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoZSBgY3VycmVudFJOb2RlYC4gVGhpc1xuICogZG9lcyBub3QgdGFrZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGludG8gYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0gcGFyZW50VE5vZGUgcGFyZW50IGBUTm9kZWBcbiAqIEBwYXJhbSBjdXJyZW50VE5vZGUgY3VycmVudCBgVE5vZGVgIChUaGUgbm9kZSB3aGljaCB3ZSB3b3VsZCBsaWtlIHRvIGluc2VydCBpbnRvIHRoZSBET00pXG4gKiBAcGFyYW0gbFZpZXcgY3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aE5vSTE4bihwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldykge1xuICAgIGlmIChwYXJlbnRUTm9kZS50eXBlICYgKDggLyogRWxlbWVudENvbnRhaW5lciAqLyB8IDMyIC8qIEljdSAqLykpIHtcbiAgICAgICAgcmV0dXJuIGdldE5hdGl2ZUJ5VE5vZGUocGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRyZWUgc2hha2FibGUgYm91bmRhcnkgZm9yIGBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuYCBmdW5jdGlvbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBzZXQgaWYgaTE4biBjb2RlIHJ1bnMuXG4gKi9cbmxldCBfZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biA9IGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aE5vSTE4bjtcbi8qKlxuICogVHJlZSBzaGFrYWJsZSBib3VuZGFyeSBmb3IgYHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlYCBmdW5jdGlvbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBzZXQgaWYgaTE4biBjb2RlIHJ1bnMuXG4gKi9cbmxldCBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmU7XG5mdW5jdGlvbiBzZXRJMThuSGFuZGxpbmcoZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biwgcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUpIHtcbiAgICBfZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biA9IGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG47XG4gICAgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlID0gcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmU7XG59XG4vKipcbiAqIEFwcGVuZHMgdGhlIGBjaGlsZGAgbmF0aXZlIG5vZGUgKG9yIGEgY29sbGVjdGlvbiBvZiBub2RlcykgdG8gdGhlIGBwYXJlbnRgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIGxWaWV3IFRoZSBjdXJyZW50IExWaWV3XG4gKiBAcGFyYW0gY2hpbGRSTm9kZSBUaGUgbmF0aXZlIGNoaWxkIChvciBjaGlsZHJlbikgdGhhdCBzaG91bGQgYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSBjaGlsZFROb2RlIFRoZSBUTm9kZSBvZiB0aGUgY2hpbGQgZWxlbWVudFxuICovXG5mdW5jdGlvbiBhcHBlbmRDaGlsZCh0VmlldywgbFZpZXcsIGNoaWxkUk5vZGUsIGNoaWxkVE5vZGUpIHtcbiAgICBjb25zdCBwYXJlbnRSTm9kZSA9IGdldFBhcmVudFJFbGVtZW50KHRWaWV3LCBjaGlsZFROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgY29uc3QgcGFyZW50VE5vZGUgPSBjaGlsZFROb2RlLnBhcmVudCB8fCBsVmlld1tUX0hPU1RdO1xuICAgIGNvbnN0IGFuY2hvck5vZGUgPSBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZShwYXJlbnRUTm9kZSwgY2hpbGRUTm9kZSwgbFZpZXcpO1xuICAgIGlmIChwYXJlbnRSTm9kZSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkUk5vZGUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkUk5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBcHBlbmRPckluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50Uk5vZGUsIGNoaWxkUk5vZGVbaV0sIGFuY2hvck5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hdGl2ZUFwcGVuZE9ySW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgY2hpbGRSTm9kZSwgYW5jaG9yTm9kZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wcm9jZXNzSTE4bkluc2VydEJlZm9yZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIF9wcm9jZXNzSTE4bkluc2VydEJlZm9yZShyZW5kZXJlciwgY2hpbGRUTm9kZSwgbFZpZXcsIGNoaWxkUk5vZGUsIHBhcmVudFJOb2RlKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgbmF0aXZlIG5vZGUgZm9yIGEgZ2l2ZW4gTFZpZXcsIHN0YXJ0aW5nIGZyb20gdGhlIHByb3ZpZGVkIFROb2RlLlxuICpcbiAqIE5hdGl2ZSBub2RlcyBhcmUgcmV0dXJuZWQgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRob3NlIGFwcGVhciBpbiB0aGUgbmF0aXZlIHRyZWUgKERPTSkuXG4gKi9cbmZ1bmN0aW9uIGdldEZpcnN0TmF0aXZlTm9kZShsVmlldywgdE5vZGUpIHtcbiAgICBpZiAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAzMiAvKiBJY3UgKi8gfCAxNiAvKiBQcm9qZWN0aW9uICovKTtcbiAgICAgICAgY29uc3QgdE5vZGVUeXBlID0gdE5vZGUudHlwZTtcbiAgICAgICAgaWYgKHROb2RlVHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRCZWZvcmVOb2RlRm9yVmlldygtMSwgbFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsSWN1Q29udGFpbmVyQ2hpbGQgPSB0Tm9kZS5jaGlsZDtcbiAgICAgICAgICAgIGlmIChlbEljdUNvbnRhaW5lckNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShsVmlldywgZWxJY3VDb250YWluZXJDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByTm9kZU9yTENvbnRhaW5lciA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNMQ29udGFpbmVyKHJOb2RlT3JMQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QmVmb3JlTm9kZUZvclZpZXcoLTEsIHJOb2RlT3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bndyYXBSTm9kZShyTm9kZU9yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykge1xuICAgICAgICAgICAgbGV0IG5leHRSTm9kZSA9IGljdUNvbnRhaW5lckl0ZXJhdGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgIGxldCByTm9kZSA9IG5leHRSTm9kZSgpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIElDVSBjb250YWluZXIgaGFzIG5vIG5vZGVzLCB0aGFuIHdlIHVzZSB0aGUgSUNVIGFuY2hvciBhcyB0aGUgbm9kZS5cbiAgICAgICAgICAgIHJldHVybiByTm9kZSB8fCB1bndyYXBSTm9kZShsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbk5vZGVzID0gZ2V0UHJvamVjdGlvbk5vZGVzKGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvbk5vZGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvamVjdGlvbk5vZGVzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvamVjdGlvbk5vZGVzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRWaWV3ID0gZ2V0TFZpZXdQYXJlbnQobFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddKTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0UGFyZW50VmlldyhwYXJlbnRWaWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVOb2RlKHBhcmVudFZpZXcsIHByb2plY3Rpb25Ob2Rlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVOb2RlKGxWaWV3LCB0Tm9kZS5uZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFByb2plY3Rpb25Ob2RlcyhsVmlldywgdE5vZGUpIHtcbiAgICBpZiAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SG9zdCA9IGNvbXBvbmVudFZpZXdbVF9IT1NUXTtcbiAgICAgICAgY29uc3Qgc2xvdElkeCA9IHROb2RlLnByb2plY3Rpb247XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQcm9qZWN0aW9uU2xvdHMobFZpZXcpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50SG9zdC5wcm9qZWN0aW9uW3Nsb3RJZHhdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEJlZm9yZU5vZGVGb3JWaWV3KHZpZXdJbmRleEluQ29udGFpbmVyLCBsQ29udGFpbmVyKSB7XG4gICAgY29uc3QgbmV4dFZpZXdJbmRleCA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgdmlld0luZGV4SW5Db250YWluZXIgKyAxO1xuICAgIGlmIChuZXh0Vmlld0luZGV4IDwgbENvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSBsQ29udGFpbmVyW25leHRWaWV3SW5kZXhdO1xuICAgICAgICBjb25zdCBmaXJzdFROb2RlT2ZWaWV3ID0gbFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChmaXJzdFROb2RlT2ZWaWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVOb2RlKGxWaWV3LCBmaXJzdFROb2RlT2ZWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbENvbnRhaW5lcltOQVRJVkVdO1xufVxuLyoqXG4gKiBSZW1vdmVzIGEgbmF0aXZlIG5vZGUgaXRzZWxmIHVzaW5nIGEgZ2l2ZW4gcmVuZGVyZXIuIFRvIHJlbW92ZSB0aGUgbm9kZSB3ZSBhcmUgbG9va2luZyB1cCBpdHNcbiAqIHBhcmVudCBmcm9tIHRoZSBuYXRpdmUgdHJlZSBhcyBub3QgYWxsIHBsYXRmb3JtcyAvIGJyb3dzZXJzIHN1cHBvcnQgdGhlIGVxdWl2YWxlbnQgb2ZcbiAqIG5vZGUucmVtb3ZlKCkuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIEEgcmVuZGVyZXIgdG8gYmUgdXNlZFxuICogQHBhcmFtIHJOb2RlIFRoZSBuYXRpdmUgbm9kZSB0aGF0IHNob3VsZCBiZSByZW1vdmVkXG4gKiBAcGFyYW0gaXNIb3N0RWxlbWVudCBBIGZsYWcgaW5kaWNhdGluZyBpZiBhIG5vZGUgdG8gYmUgcmVtb3ZlZCBpcyBhIGhvc3Qgb2YgYSBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVJlbW92ZU5vZGUocmVuZGVyZXIsIHJOb2RlLCBpc0hvc3RFbGVtZW50KSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZU5vZGUrKztcbiAgICBjb25zdCBuYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCByTm9kZSk7XG4gICAgaWYgKG5hdGl2ZVBhcmVudCkge1xuICAgICAgICBuYXRpdmVSZW1vdmVDaGlsZChyZW5kZXJlciwgbmF0aXZlUGFyZW50LCByTm9kZSwgaXNIb3N0RWxlbWVudCk7XG4gICAgfVxufVxuLyoqXG4gKiBQZXJmb3JtcyB0aGUgb3BlcmF0aW9uIG9mIGBhY3Rpb25gIG9uIHRoZSBub2RlLiBUeXBpY2FsbHkgdGhpcyBpbnZvbHZlcyBpbnNlcnRpbmcgb3IgcmVtb3ZpbmdcbiAqIG5vZGVzIG9uIHRoZSBMVmlldyBvciBwcm9qZWN0aW9uIGJvdW5kYXJ5LlxuICovXG5mdW5jdGlvbiBhcHBseU5vZGVzKHJlbmRlcmVyLCBhY3Rpb24sIHROb2RlLCBsVmlldywgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUsIGlzUHJvamVjdGlvbikge1xuICAgIHdoaWxlICh0Tm9kZSAhPSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMTYgLyogUHJvamVjdGlvbiAqLyB8IDMyIC8qIEljdSAqLyk7XG4gICAgICAgIGNvbnN0IHJhd1Nsb3RWYWx1ZSA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgY29uc3QgdE5vZGVUeXBlID0gdE5vZGUudHlwZTtcbiAgICAgICAgaWYgKGlzUHJvamVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gMCAvKiBDcmVhdGUgKi8pIHtcbiAgICAgICAgICAgICAgICByYXdTbG90VmFsdWUgJiYgYXR0YWNoUGF0Y2hEYXRhKHVud3JhcFJOb2RlKHJhd1Nsb3RWYWx1ZSksIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSA0IC8qIGlzUHJvamVjdGVkICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgodE5vZGUuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKSAhPT0gNjQgLyogaXNEZXRhY2hlZCAqLykge1xuICAgICAgICAgICAgaWYgKHROb2RlVHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgICAgIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgdE5vZGUuY2hpbGQsIGxWaWV3LCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIHJhd1Nsb3RWYWx1ZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAzMiAvKiBJY3UgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRlKHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgbGV0IHJOb2RlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyTm9kZSA9IG5leHRSTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIHJOb2RlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgcmF3U2xvdFZhbHVlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDE2IC8qIFByb2plY3Rpb24gKi8pIHtcbiAgICAgICAgICAgICAgICBhcHBseVByb2plY3Rpb25SZWN1cnNpdmUocmVuZGVyZXIsIGFjdGlvbiwgbFZpZXcsIHROb2RlLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgNCAvKiBDb250YWluZXIgKi8pO1xuICAgICAgICAgICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIHJhd1Nsb3RWYWx1ZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGUgPSBpc1Byb2plY3Rpb24gPyB0Tm9kZS5wcm9qZWN0aW9uTmV4dCA6IHROb2RlLm5leHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIGFjdGlvbiwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpIHtcbiAgICBhcHBseU5vZGVzKHJlbmRlcmVyLCBhY3Rpb24sIHRWaWV3LmZpcnN0Q2hpbGQsIGxWaWV3LCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSwgZmFsc2UpO1xufVxuLyoqXG4gKiBgYXBwbHlQcm9qZWN0aW9uYCBwZXJmb3JtcyBvcGVyYXRpb24gb24gdGhlIHByb2plY3Rpb24uXG4gKlxuICogSW5zZXJ0aW5nIGEgcHJvamVjdGlvbiByZXF1aXJlcyB1cyB0byBsb2NhdGUgdGhlIHByb2plY3RlZCBub2RlcyBmcm9tIHRoZSBwYXJlbnQgY29tcG9uZW50LiBUaGVcbiAqIGNvbXBsaWNhdGlvbiBpcyB0aGF0IHRob3NlIG5vZGVzIHRoZW1zZWx2ZXMgY291bGQgYmUgcmUtcHJvamVjdGVkIGZyb20gdGhlaXIgcGFyZW50IGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlld2Agb2YgYExWaWV3YCB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZFxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkLCBkZXRhY2hlZCwgZGVzdHJveWVkLlxuICogQHBhcmFtIHRQcm9qZWN0aW9uTm9kZSBub2RlIHRvIHByb2plY3RcbiAqL1xuZnVuY3Rpb24gYXBwbHlQcm9qZWN0aW9uKHRWaWV3LCBsVmlldywgdFByb2plY3Rpb25Ob2RlKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgY29uc3QgcGFyZW50Uk5vZGUgPSBnZXRQYXJlbnRSRWxlbWVudCh0VmlldywgdFByb2plY3Rpb25Ob2RlLCBsVmlldyk7XG4gICAgY29uc3QgcGFyZW50VE5vZGUgPSB0UHJvamVjdGlvbk5vZGUucGFyZW50IHx8IGxWaWV3W1RfSE9TVF07XG4gICAgbGV0IGJlZm9yZU5vZGUgPSBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZShwYXJlbnRUTm9kZSwgdFByb2plY3Rpb25Ob2RlLCBsVmlldyk7XG4gICAgYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlKHJlbmRlcmVyLCAwIC8qIENyZWF0ZSAqLywgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSwgcGFyZW50Uk5vZGUsIGJlZm9yZU5vZGUpO1xufVxuLyoqXG4gKiBgYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlYCBwZXJmb3JtcyBvcGVyYXRpb24gb24gdGhlIHByb2plY3Rpb24gc3BlY2lmaWVkIGJ5IGBhY3Rpb25gIChpbnNlcnQsXG4gKiBkZXRhY2gsIGRlc3Ryb3kpXG4gKlxuICogSW5zZXJ0aW5nIGEgcHJvamVjdGlvbiByZXF1aXJlcyB1cyB0byBsb2NhdGUgdGhlIHByb2plY3RlZCBub2RlcyBmcm9tIHRoZSBwYXJlbnQgY29tcG9uZW50LiBUaGVcbiAqIGNvbXBsaWNhdGlvbiBpcyB0aGF0IHRob3NlIG5vZGVzIHRoZW1zZWx2ZXMgY291bGQgYmUgcmUtcHJvamVjdGVkIGZyb20gdGhlaXIgcGFyZW50IGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyIHRvIHVzZVxuICogQHBhcmFtIGFjdGlvbiBhY3Rpb24gdG8gcGVyZm9ybSAoaW5zZXJ0LCBkZXRhY2gsIGRlc3Ryb3kpXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkLCBkZXRhY2hlZCwgZGVzdHJveWVkLlxuICogQHBhcmFtIHRQcm9qZWN0aW9uTm9kZSBub2RlIHRvIHByb2plY3RcbiAqIEBwYXJhbSBwYXJlbnRSRWxlbWVudCBwYXJlbnQgRE9NIGVsZW1lbnQgZm9yIGluc2VydGlvbi9yZW1vdmFsLlxuICogQHBhcmFtIGJlZm9yZU5vZGUgQmVmb3JlIHdoaWNoIG5vZGUgdGhlIGluc2VydGlvbnMgc2hvdWxkIGhhcHBlbi5cbiAqL1xuZnVuY3Rpb24gYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlKHJlbmRlcmVyLCBhY3Rpb24sIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlKSB7XG4gICAgY29uc3QgY29tcG9uZW50TFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgY29uc3QgY29tcG9uZW50Tm9kZSA9IGNvbXBvbmVudExWaWV3W1RfSE9TVF07XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKHR5cGVvZiB0UHJvamVjdGlvbk5vZGUucHJvamVjdGlvbiwgJ251bWJlcicsICdleHBlY3RpbmcgcHJvamVjdGlvbiBpbmRleCcpO1xuICAgIGNvbnN0IG5vZGVUb1Byb2plY3RPclJOb2RlcyA9IGNvbXBvbmVudE5vZGUucHJvamVjdGlvblt0UHJvamVjdGlvbk5vZGUucHJvamVjdGlvbl07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZVRvUHJvamVjdE9yUk5vZGVzKSkge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgZXhpc3QsIGl0IGlzIGEgYml0IG9mIGEgaGFjay4gV2hlbiB3ZSBib290c3RyYXAgYSB0b3AgbGV2ZWwgbm9kZSBhbmQgd2VcbiAgICAgICAgLy8gbmVlZCB0byBzdXBwb3J0IHBhc3NpbmcgcHJvamVjdGFibGUgbm9kZXMsIHNvIHdlIGNoZWF0IGFuZCBwdXQgdGhlbSBpbiB0aGUgVE5vZGVcbiAgICAgICAgLy8gb2YgdGhlIEhvc3QgVFZpZXcuIChZZXMgd2UgcHV0IGluc3RhbmNlIGluZm8gYXQgdGhlIFQgTGV2ZWwpLiBXZSBjYW4gZ2V0IGF3YXkgd2l0aCBpdFxuICAgICAgICAvLyBiZWNhdXNlIHdlIGtub3cgdGhhdCB0aGF0IFRWaWV3IGlzIG5vdCBzaGFyZWQgYW5kIHRoZXJlZm9yZSBpdCB3aWxsIG5vdCBiZSBhIHByb2JsZW0uXG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIHJlZmFjdG9yZWQgYW5kIGNsZWFuZWQgdXAuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZVRvUHJvamVjdE9yUk5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByTm9kZSA9IG5vZGVUb1Byb2plY3RPclJOb2Rlc1tpXTtcbiAgICAgICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIHJOb2RlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IG5vZGVUb1Byb2plY3QgPSBub2RlVG9Qcm9qZWN0T3JSTm9kZXM7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZENvbXBvbmVudExWaWV3ID0gY29tcG9uZW50TFZpZXdbUEFSRU5UXTtcbiAgICAgICAgYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCBub2RlVG9Qcm9qZWN0LCBwcm9qZWN0ZWRDb21wb25lbnRMVmlldywgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUsIHRydWUpO1xuICAgIH1cbn1cbi8qKlxuICogYGFwcGx5Q29udGFpbmVyYCBwZXJmb3JtcyBhbiBvcGVyYXRpb24gb24gdGhlIGNvbnRhaW5lciBhbmQgaXRzIHZpZXdzIGFzIHNwZWNpZmllZCBieVxuICogYGFjdGlvbmAgKGluc2VydCwgZGV0YWNoLCBkZXN0cm95KVxuICpcbiAqIEluc2VydGluZyBhIENvbnRhaW5lciBpcyBjb21wbGljYXRlZCBieSB0aGUgZmFjdCB0aGF0IHRoZSBjb250YWluZXIgbWF5IGhhdmUgVmlld3Mgd2hpY2hcbiAqIHRoZW1zZWx2ZXMgaGF2ZSBjb250YWluZXJzIG9yIHByb2plY3Rpb25zLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2VcbiAqIEBwYXJhbSBhY3Rpb24gYWN0aW9uIHRvIHBlcmZvcm0gKGluc2VydCwgZGV0YWNoLCBkZXN0cm95KVxuICogQHBhcmFtIGxDb250YWluZXIgVGhlIExDb250YWluZXIgd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWQuXG4gKiBAcGFyYW0gcGFyZW50UkVsZW1lbnQgcGFyZW50IERPTSBlbGVtZW50IGZvciBpbnNlcnRpb24vcmVtb3ZhbC5cbiAqIEBwYXJhbSBiZWZvcmVOb2RlIEJlZm9yZSB3aGljaCBub2RlIHRoZSBpbnNlcnRpb25zIHNob3VsZCBoYXBwZW4uXG4gKi9cbmZ1bmN0aW9uIGFwcGx5Q29udGFpbmVyKHJlbmRlcmVyLCBhY3Rpb24sIGxDb250YWluZXIsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIobENvbnRhaW5lcik7XG4gICAgY29uc3QgYW5jaG9yID0gbENvbnRhaW5lcltOQVRJVkVdOyAvLyBMQ29udGFpbmVyIGhhcyBpdHMgb3duIGJlZm9yZSBub2RlLlxuICAgIGNvbnN0IG5hdGl2ZSA9IHVud3JhcFJOb2RlKGxDb250YWluZXIpO1xuICAgIC8vIEFuIExDb250YWluZXIgY2FuIGJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgb24gYW55IG5vZGUgYnkgaW5qZWN0aW5nIFZpZXdDb250YWluZXJSZWYuXG4gICAgLy8gQXNraW5nIGZvciBhIFZpZXdDb250YWluZXJSZWYgb24gYW4gZWxlbWVudCB3aWxsIHJlc3VsdCBpbiBhIGNyZWF0aW9uIG9mIGEgc2VwYXJhdGUgYW5jaG9yXG4gICAgLy8gbm9kZSAoY29tbWVudCBpbiB0aGUgRE9NKSB0aGF0IHdpbGwgYmUgZGlmZmVyZW50IGZyb20gdGhlIExDb250YWluZXIncyBob3N0IG5vZGUuIEluIHRoaXNcbiAgICAvLyBwYXJ0aWN1bGFyIGNhc2Ugd2UgbmVlZCB0byBleGVjdXRlIGFjdGlvbiBvbiAyIG5vZGVzOlxuICAgIC8vIC0gY29udGFpbmVyJ3MgaG9zdCBub2RlICh0aGlzIGlzIGRvbmUgaW4gdGhlIGV4ZWN1dGVBY3Rpb25PbkVsZW1lbnRPckNvbnRhaW5lcilcbiAgICAvLyAtIGNvbnRhaW5lcidzIGhvc3Qgbm9kZSAodGhpcyBpcyBkb25lIGhlcmUpXG4gICAgaWYgKGFuY2hvciAhPT0gbmF0aXZlKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdmVyeSBzdHJhbmdlIHRvIG1lIChNaXNrbykuIEkgd291bGQgZXhwZWN0IHRoYXQgdGhlIG5hdGl2ZSBpcyBzYW1lIGFzIGFuY2hvci4gSVxuICAgICAgICAvLyBkb24ndCBzZWUgYSByZWFzb24gd2h5IHRoZXkgc2hvdWxkIGJlIGRpZmZlcmVudCwgYnV0IHRoZXkgYXJlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGV5IGFyZSB3ZSBuZWVkIHRvIHByb2Nlc3MgdGhlIHNlY29uZCBhbmNob3IgYXMgd2VsbC5cbiAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgYW5jaG9yLCBiZWZvcmVOb2RlKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsVmlldyA9IGxDb250YWluZXJbaV07XG4gICAgICAgIGFwcGx5VmlldyhsVmlld1tUVklFV10sIGxWaWV3LCByZW5kZXJlciwgYWN0aW9uLCBwYXJlbnRSRWxlbWVudCwgYW5jaG9yKTtcbiAgICB9XG59XG4vKipcbiAqIFdyaXRlcyBjbGFzcy9zdHlsZSB0byBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2UuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBpdCBzaG91bGQgYmUgd3JpdHRlbiB0byBgY2xhc3NgIChgZmFsc2VgIHRvIHdyaXRlIHRvIGBzdHlsZWApXG4gKiBAcGFyYW0gck5vZGUgVGhlIE5vZGUgdG8gd3JpdGUgdG8uXG4gKiBAcGFyYW0gcHJvcCBQcm9wZXJ0eSB0byB3cml0ZSB0by4gVGhpcyB3b3VsZCBiZSB0aGUgY2xhc3Mvc3R5bGUgbmFtZS5cbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byB3cml0ZS4gSWYgYG51bGxgL2B1bmRlZmluZWRgL2BmYWxzZWAgdGhpcyBpcyBjb25zaWRlcmVkIGEgcmVtb3ZlIChzZXQvYWRkXG4gKiAgICAgICAgb3RoZXJ3aXNlKS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlTdHlsaW5nKHJlbmRlcmVyLCBpc0NsYXNzQmFzZWQsIHJOb2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGNvbnN0IGlzUHJvY2VkdXJhbCA9IGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICBpZiAoaXNDbGFzc0Jhc2VkKSB7XG4gICAgICAgIC8vIFdlIGFjdHVhbGx5IHdhbnQgSlMgdHJ1ZS9mYWxzZSBoZXJlIGJlY2F1c2UgYW55IHRydXRoeSB2YWx1ZSBzaG91bGQgYWRkIHRoZSBjbGFzc1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlQ2xhc3MrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW1vdmVDbGFzcyhyTm9kZSwgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByTm9kZS5jbGFzc0xpc3QucmVtb3ZlKHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFkZENsYXNzKys7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZWR1cmFsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuYWRkQ2xhc3Mock5vZGUsIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQock5vZGUuY2xhc3NMaXN0LCAnSFRNTEVsZW1lbnQgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICByTm9kZS5jbGFzc0xpc3QuYWRkKHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgZmxhZ3MgPSBwcm9wLmluZGV4T2YoJy0nKSA9PT0gLTEgPyB1bmRlZmluZWQgOiBSZW5kZXJlclN0eWxlRmxhZ3MyLkRhc2hDYXNlO1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAvKiogfHwgdmFsdWUgPT09IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZVN0eWxlKys7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZWR1cmFsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVtb3ZlU3R5bGUock5vZGUsIHByb3AsIGZsYWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJOb2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQSB2YWx1ZSBpcyBpbXBvcnRhbnQgaWYgaXQgZW5kcyB3aXRoIGAhaW1wb3J0YW50YC4gVGhlIHN0eWxlXG4gICAgICAgICAgICAvLyBwYXJzZXIgc3RyaXBzIGFueSBzZW1pY29sb25zIGF0IHRoZSBlbmQgb2YgdGhlIHZhbHVlLlxuICAgICAgICAgICAgY29uc3QgaXNJbXBvcnRhbnQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUuZW5kc1dpdGgoJyFpbXBvcnRhbnQnKSA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGlzSW1wb3J0YW50KSB7XG4gICAgICAgICAgICAgICAgLy8gIWltcG9ydGFudCBoYXMgdG8gYmUgc3RyaXBwZWQgZnJvbSB0aGUgdmFsdWUgZm9yIGl0IHRvIGJlIHZhbGlkLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMCwgLTEwKTtcbiAgICAgICAgICAgICAgICBmbGFncyB8PSBSZW5kZXJlclN0eWxlRmxhZ3MyLkltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRTdHlsZSsrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHJOb2RlLCBwcm9wLCB2YWx1ZSwgZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQock5vZGUuc3R5bGUsICdIVE1MRWxlbWVudCBleHBlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHJOb2RlLnN0eWxlLnNldFByb3BlcnR5KHByb3AsIHZhbHVlLCBpc0ltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBXcml0ZSBgY3NzVGV4dGAgdG8gYFJFbGVtZW50YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgZGlyZWN0IHdyaXRlIHdpdGhvdXQgYW55IHJlY29uY2lsaWF0aW9uLiBVc2VkIGZvciB3cml0aW5nIGluaXRpYWwgdmFsdWVzLCBzb1xuICogdGhhdCBzdGF0aWMgc3R5bGluZyB2YWx1ZXMgZG8gbm90IHB1bGwgaW4gdGhlIHN0eWxlIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB3aGljaCBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICogQHBhcmFtIG5ld1ZhbHVlIFRoZSBuZXcgY2xhc3MgbGlzdCB0byB3cml0ZS5cbiAqL1xuZnVuY3Rpb24gd3JpdGVEaXJlY3RTdHlsZShyZW5kZXJlciwgZWxlbWVudCwgbmV3VmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKG5ld1ZhbHVlLCAnXFwnbmV3VmFsdWVcXCcgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJywgbmV3VmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gbmV3VmFsdWU7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRTdHlsZSsrO1xufVxuLyoqXG4gKiBXcml0ZSBgY2xhc3NOYW1lYCB0byBgUkVsZW1lbnRgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBkaXJlY3Qgd3JpdGUgd2l0aG91dCBhbnkgcmVjb25jaWxpYXRpb24uIFVzZWQgZm9yIHdyaXRpbmcgaW5pdGlhbCB2YWx1ZXMsIHNvXG4gKiB0aGF0IHN0YXRpYyBzdHlsaW5nIHZhbHVlcyBkbyBub3QgcHVsbCBpbiB0aGUgc3R5bGUgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2VcbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHdoaWNoIG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gKiBAcGFyYW0gbmV3VmFsdWUgVGhlIG5ldyBjbGFzcyBsaXN0IHRvIHdyaXRlLlxuICovXG5mdW5jdGlvbiB3cml0ZURpcmVjdENsYXNzKHJlbmRlcmVyLCBlbGVtZW50LCBuZXdWYWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRTdHJpbmcobmV3VmFsdWUsICdcXCduZXdWYWx1ZVxcJyBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFyZSB0ZXN0cyBpbiBgZ29vZ2xlM2Agd2hpY2ggZXhwZWN0IGBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKWAgdG8gYmUgYG51bGxgLlxuICAgICAgICAgICAgcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdjbGFzcycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdjbGFzcycsIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldENsYXNzTmFtZSsrO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0dXJucyBhbiBpbmRleCBvZiBgY2xhc3NUb1NlYXJjaGAgaW4gYGNsYXNzTmFtZWAgdGFraW5nIHRva2VuIGJvdW5kYXJpZXMgaW50byBhY2NvdW50LlxuICpcbiAqIGBjbGFzc0luZGV4T2YoJ0FCIEEnLCAnQScsIDApYCB3aWxsIGJlIDMgKG5vdCAwIHNpbmNlIGBBQiE9PUFgKVxuICpcbiAqIEBwYXJhbSBjbGFzc05hbWUgQSBzdHJpbmcgY29udGFpbmluZyBjbGFzc2VzICh3aGl0ZXNwYWNlIHNlcGFyYXRlZClcbiAqIEBwYXJhbSBjbGFzc1RvU2VhcmNoIEEgY2xhc3MgbmFtZSB0byBsb2NhdGVcbiAqIEBwYXJhbSBzdGFydGluZ0luZGV4IFN0YXJ0aW5nIGxvY2F0aW9uIG9mIHNlYXJjaFxuICogQHJldHVybnMgYW4gaW5kZXggb2YgdGhlIGxvY2F0ZWQgY2xhc3MgKG9yIC0xIGlmIG5vdCBmb3VuZClcbiAqL1xuZnVuY3Rpb24gY2xhc3NJbmRleE9mKGNsYXNzTmFtZSwgY2xhc3NUb1NlYXJjaCwgc3RhcnRpbmdJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RFcXVhbChjbGFzc1RvU2VhcmNoLCAnJywgJ2NhbiBub3QgbG9vayBmb3IgXCJcIiBzdHJpbmcuJyk7XG4gICAgbGV0IGVuZCA9IGNsYXNzTmFtZS5sZW5ndGg7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgZm91bmRJbmRleCA9IGNsYXNzTmFtZS5pbmRleE9mKGNsYXNzVG9TZWFyY2gsIHN0YXJ0aW5nSW5kZXgpO1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gZm91bmRJbmRleDtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IDAgfHwgY2xhc3NOYW1lLmNoYXJDb2RlQXQoZm91bmRJbmRleCAtIDEpIDw9IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBpdCBoYXMgbGVhZGluZyB3aGl0ZXNwYWNlXG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBjbGFzc1RvU2VhcmNoLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChmb3VuZEluZGV4ICsgbGVuZ3RoID09PSBlbmQgfHxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUuY2hhckNvZGVBdChmb3VuZEluZGV4ICsgbGVuZ3RoKSA8PSAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGl0IGhhcyB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmFsc2UgcG9zaXRpdmUsIGtlZXAgc2VhcmNoaW5nIGZyb20gd2hlcmUgd2UgbGVmdCBvZmYuXG4gICAgICAgIHN0YXJ0aW5nSW5kZXggPSBmb3VuZEluZGV4ICsgMTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgdW51c2VkVmFsdWVUb1BsYWNhdGVBamQkMSA9IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDQgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQzO1xuY29uc3QgTkdfVEVNUExBVEVfU0VMRUNUT1IgPSAnbmctdGVtcGxhdGUnO1xuLyoqXG4gKiBTZWFyY2ggdGhlIGBUQXR0cmlidXRlc2AgdG8gc2VlIGlmIGl0IGNvbnRhaW5zIGBjc3NDbGFzc1RvTWF0Y2hgIChjYXNlIGluc2Vuc2l0aXZlKVxuICpcbiAqIEBwYXJhbSBhdHRycyBgVEF0dHJpYnV0ZXNgIHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIGNzc0NsYXNzVG9NYXRjaCBjbGFzcyB0byBtYXRjaCAobG93ZXJjYXNlKVxuICogQHBhcmFtIGlzUHJvamVjdGlvbk1vZGUgV2hldGhlciBvciBub3QgY2xhc3MgbWF0Y2hpbmcgc2hvdWxkIGxvb2sgaW50byB0aGUgYXR0cmlidXRlIGBjbGFzc2AgaW5cbiAqICAgIGFkZGl0aW9uIHRvIHRoZSBgQXR0cmlidXRlTWFya2VyLkNsYXNzZXNgLlxuICovXG5mdW5jdGlvbiBpc0Nzc0NsYXNzTWF0Y2hpbmcoYXR0cnMsIGNzc0NsYXNzVG9NYXRjaCwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIC8vIFRPRE8obWlza28pOiBUaGUgZmFjdCB0aGF0IHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8ga25vdyBhYm91dCBgaXNQcm9qZWN0aW9uTW9kZWAgc2VlbXMgc3VzcGVjdC5cbiAgICAvLyBJdCBpcyBzdHJhbmdlIHRvIG1lIHRoYXQgc29tZXRpbWVzIHRoZSBjbGFzcyBpbmZvcm1hdGlvbiBjb21lcyBpbiBmb3JtIG9mIGBjbGFzc2AgYXR0cmlidXRlXG4gICAgLy8gYW5kIHNvbWV0aW1lcyBpbiBmb3JtIG9mIGBBdHRyaWJ1dGVNYXJrZXIuQ2xhc3Nlc2AuIFNvbWUgaW52ZXN0aWdhdGlvbiBpcyBuZWVkZWQgdG8gZGV0ZXJtaW5lXG4gICAgLy8gaWYgdGhhdCBpcyB0aGUgcmlnaHQgYmVoYXZpb3IuXG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGNzc0NsYXNzVG9NYXRjaCwgY3NzQ2xhc3NUb01hdGNoLnRvTG93ZXJDYXNlKCksICdDbGFzcyBuYW1lIGV4cGVjdGVkIHRvIGJlIGxvd2VyY2FzZS4nKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBhdHRyc1tpKytdO1xuICAgICAgICBpZiAoaXNQcm9qZWN0aW9uTW9kZSAmJiBpdGVtID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICBpdGVtID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAoY2xhc3NJbmRleE9mKGl0ZW0udG9Mb3dlckNhc2UoKSwgY3NzQ2xhc3NUb01hdGNoLCAwKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtID09PSAxIC8qIENsYXNzZXMgKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIHRoZSBjbGFzc2VzIHNlY3Rpb24uIFN0YXJ0IHNlYXJjaGluZyBmb3IgdGhlIGNsYXNzLlxuICAgICAgICAgICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGggJiYgdHlwZW9mIChpdGVtID0gYXR0cnNbaSsrXSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGlsZSB3ZSBoYXZlIHN0cmluZ3NcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50b0xvd2VyQ2FzZSgpID09PSBjc3NDbGFzc1RvTWF0Y2gpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGB0Tm9kZWAgcmVwcmVzZW50cyBhbiBpbmxpbmUgdGVtcGxhdGUgKGUuZy4gYCpuZ0ZvcmApLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBjdXJyZW50IFROb2RlXG4gKi9cbmZ1bmN0aW9uIGlzSW5saW5lVGVtcGxhdGUodE5vZGUpIHtcbiAgICByZXR1cm4gdE5vZGUudHlwZSA9PT0gNCAvKiBDb250YWluZXIgKi8gJiYgdE5vZGUudmFsdWUgIT09IE5HX1RFTVBMQVRFX1NFTEVDVE9SO1xufVxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGNoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gdE5vZGUgbWF0Y2hlcyB0YWctYmFzZWQgc2VsZWN0b3IgYW5kIGhhcyBhIHZhbGlkIHR5cGUuXG4gKlxuICogTWF0Y2hpbmcgY2FuIGJlIHBlcmZvcm1lZCBpbiAyIG1vZGVzOiBwcm9qZWN0aW9uIG1vZGUgKHdoZW4gd2UgcHJvamVjdCBub2RlcykgYW5kIHJlZ3VsYXJcbiAqIGRpcmVjdGl2ZSBtYXRjaGluZyBtb2RlOlxuICogLSBpbiB0aGUgXCJkaXJlY3RpdmUgbWF0Y2hpbmdcIiBtb2RlIHdlIGRvIF9ub3RfIHRha2UgVENvbnRhaW5lcidzIHRhZ05hbWUgaW50byBhY2NvdW50IGlmIGl0IGlzXG4gKiBkaWZmZXJlbnQgZnJvbSBOR19URU1QTEFURV9TRUxFQ1RPUiAodmFsdWUgZGlmZmVyZW50IGZyb20gTkdfVEVNUExBVEVfU0VMRUNUT1IgaW5kaWNhdGVzIHRoYXQgYVxuICogdGFnIG5hbWUgd2FzIGV4dHJhY3RlZCBmcm9tICogc3ludGF4IHNvIHdlIHdvdWxkIG1hdGNoIHRoZSBzYW1lIGRpcmVjdGl2ZSB0d2ljZSk7XG4gKiAtIGluIHRoZSBcInByb2plY3Rpb25cIiBtb2RlLCB3ZSB1c2UgYSB0YWcgbmFtZSBwb3RlbnRpYWxseSBleHRyYWN0ZWQgZnJvbSB0aGUgKiBzeW50YXggcHJvY2Vzc2luZ1xuICogKGFwcGxpY2FibGUgdG8gVE5vZGVUeXBlLkNvbnRhaW5lciBvbmx5KS5cbiAqL1xuZnVuY3Rpb24gaGFzVGFnQW5kVHlwZU1hdGNoKHROb2RlLCBjdXJyZW50U2VsZWN0b3IsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICBjb25zdCB0YWdOYW1lVG9Db21wYXJlID0gdE5vZGUudHlwZSA9PT0gNCAvKiBDb250YWluZXIgKi8gJiYgIWlzUHJvamVjdGlvbk1vZGUgPyBOR19URU1QTEFURV9TRUxFQ1RPUiA6IHROb2RlLnZhbHVlO1xuICAgIHJldHVybiBjdXJyZW50U2VsZWN0b3IgPT09IHRhZ05hbWVUb0NvbXBhcmU7XG59XG4vKipcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBtYXRjaCBhbiBJdnkgbm9kZSBzdGF0aWMgZGF0YSBhZ2FpbnN0IGEgc2ltcGxlIENTUyBzZWxlY3RvclxuICpcbiAqIEBwYXJhbSBub2RlIHN0YXRpYyBkYXRhIG9mIHRoZSBub2RlIHRvIG1hdGNoXG4gKiBAcGFyYW0gc2VsZWN0b3IgVGhlIHNlbGVjdG9yIHRvIHRyeSBtYXRjaGluZyBhZ2FpbnN0IHRoZSBub2RlLlxuICogQHBhcmFtIGlzUHJvamVjdGlvbk1vZGUgaWYgYHRydWVgIHdlIGFyZSBtYXRjaGluZyBmb3IgY29udGVudCBwcm9qZWN0aW9uLCBvdGhlcndpc2Ugd2UgYXJlIGRvaW5nXG4gKiBkaXJlY3RpdmUgbWF0Y2hpbmcuXG4gKiBAcmV0dXJucyB0cnVlIGlmIG5vZGUgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3IodE5vZGUsIHNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoc2VsZWN0b3JbMF0sICdTZWxlY3RvciBzaG91bGQgaGF2ZSBhIHRhZyBuYW1lJyk7XG4gICAgbGV0IG1vZGUgPSA0IC8qIEVMRU1FTlQgKi87XG4gICAgY29uc3Qgbm9kZUF0dHJzID0gdE5vZGUuYXR0cnMgfHwgW107XG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgZmlyc3QgYXR0cmlidXRlIHRoYXQgaGFzIG5vIHZhbHVlLCBvbmx5IGEgbmFtZS5cbiAgICBjb25zdCBuYW1lT25seU1hcmtlcklkeCA9IGdldE5hbWVPbmx5TWFya2VySW5kZXgobm9kZUF0dHJzKTtcbiAgICAvLyBXaGVuIHByb2Nlc3NpbmcgXCI6bm90XCIgc2VsZWN0b3JzLCB3ZSBza2lwIHRvIHRoZSBuZXh0IFwiOm5vdFwiIGlmIHRoZVxuICAgIC8vIGN1cnJlbnQgb25lIGRvZXNuJ3QgbWF0Y2hcbiAgICBsZXQgc2tpcFRvTmV4dFNlbGVjdG9yID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gc2VsZWN0b3JbaV07XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGZpbmlzaCBwcm9jZXNzaW5nIGEgOm5vdCBzZWxlY3RvciBhbmQgaXQgaGFzbid0IGZhaWxlZCwgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICBpZiAoIXNraXBUb05leHRTZWxlY3RvciAmJiAhaXNQb3NpdGl2ZShtb2RlKSAmJiAhaXNQb3NpdGl2ZShjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBza2lwcGluZyB0byB0aGUgbmV4dCA6bm90KCkgYW5kIHRoaXMgbW9kZSBmbGFnIGlzIHBvc2l0aXZlLFxuICAgICAgICAgICAgLy8gaXQncyBhIHBhcnQgb2YgdGhlIGN1cnJlbnQgOm5vdCgpIHNlbGVjdG9yLCBhbmQgd2Ugc2hvdWxkIGtlZXAgc2tpcHBpbmdcbiAgICAgICAgICAgIGlmIChza2lwVG9OZXh0U2VsZWN0b3IgJiYgaXNQb3NpdGl2ZShjdXJyZW50KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IGZhbHNlO1xuICAgICAgICAgICAgbW9kZSA9IGN1cnJlbnQgfCAobW9kZSAmIDEgLyogTk9UICovKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwVG9OZXh0U2VsZWN0b3IpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKG1vZGUgJiA0IC8qIEVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgIG1vZGUgPSAyIC8qIEFUVFJJQlVURSAqLyB8IG1vZGUgJiAxIC8qIE5PVCAqLztcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSAnJyAmJiAhaGFzVGFnQW5kVHlwZU1hdGNoKHROb2RlLCBjdXJyZW50LCBpc1Byb2plY3Rpb25Nb2RlKSB8fFxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPT09ICcnICYmIHNlbGVjdG9yLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yQXR0clZhbHVlID0gbW9kZSAmIDggLyogQ0xBU1MgKi8gPyBjdXJyZW50IDogc2VsZWN0b3JbKytpXTtcbiAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbWF0Y2hpbmcgYWdhaW5zdCBjbGFzc2VzIHdoZW4gYSB0Tm9kZSBoYXMgYmVlbiBpbnN0YW50aWF0ZWQgd2l0aFxuICAgICAgICAgICAgLy8gY2xhc3MgYW5kIHN0eWxlIHZhbHVlcyBhcyBzZXBhcmF0ZSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuIFsndGl0bGUnLCBDTEFTUywgJ2ZvbyddKVxuICAgICAgICAgICAgaWYgKChtb2RlICYgOCAvKiBDTEFTUyAqLykgJiYgdE5vZGUuYXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQ3NzQ2xhc3NNYXRjaGluZyh0Tm9kZS5hdHRycywgc2VsZWN0b3JBdHRyVmFsdWUsIGlzUHJvamVjdGlvbk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gKG1vZGUgJiA4IC8qIENMQVNTICovKSA/ICdjbGFzcycgOiBjdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgYXR0ckluZGV4SW5Ob2RlID0gZmluZEF0dHJJbmRleEluTm9kZShhdHRyTmFtZSwgbm9kZUF0dHJzLCBpc0lubGluZVRlbXBsYXRlKHROb2RlKSwgaXNQcm9qZWN0aW9uTW9kZSk7XG4gICAgICAgICAgICBpZiAoYXR0ckluZGV4SW5Ob2RlID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxlY3RvckF0dHJWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZUF0dHJWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0ckluZGV4SW5Ob2RlID4gbmFtZU9ubHlNYXJrZXJJZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZUF0dHJWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnROb3RFcXVhbChub2RlQXR0cnNbYXR0ckluZGV4SW5Ob2RlXSwgMCAvKiBOYW1lc3BhY2VVUkkgKi8sICdXZSBkbyBub3QgbWF0Y2ggZGlyZWN0aXZlcyBvbiBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgbG93ZXJjYXNlIHRoZSBhdHRyaWJ1dGUgdmFsdWUgdG8gYmUgYWJsZSB0byBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3RvcnMgd2l0aG91dCBjYXNlLXNlbnNpdGl2aXR5XG4gICAgICAgICAgICAgICAgICAgIC8vIChzZWxlY3RvcnMgYXJlIGFscmVhZHkgaW4gbG93ZXJjYXNlIHdoZW4gZ2VuZXJhdGVkKVxuICAgICAgICAgICAgICAgICAgICBub2RlQXR0clZhbHVlID0gbm9kZUF0dHJzW2F0dHJJbmRleEluTm9kZSArIDFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhcmVBZ2FpbnN0Q2xhc3NOYW1lID0gbW9kZSAmIDggLyogQ0xBU1MgKi8gPyBub2RlQXR0clZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZUFnYWluc3RDbGFzc05hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NJbmRleE9mKGNvbXBhcmVBZ2FpbnN0Q2xhc3NOYW1lLCBzZWxlY3RvckF0dHJWYWx1ZSwgMCkgIT09IC0xIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGUgJiAyIC8qIEFUVFJJQlVURSAqLyAmJiBzZWxlY3RvckF0dHJWYWx1ZSAhPT0gbm9kZUF0dHJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzUG9zaXRpdmUobW9kZSkgfHwgc2tpcFRvTmV4dFNlbGVjdG9yO1xufVxuZnVuY3Rpb24gaXNQb3NpdGl2ZShtb2RlKSB7XG4gICAgcmV0dXJuIChtb2RlICYgMSAvKiBOT1QgKi8pID09PSAwO1xufVxuLyoqXG4gKiBFeGFtaW5lcyB0aGUgYXR0cmlidXRlJ3MgZGVmaW5pdGlvbiBhcnJheSBmb3IgYSBub2RlIHRvIGZpbmQgdGhlIGluZGV4IG9mIHRoZVxuICogYXR0cmlidXRlIHRoYXQgbWF0Y2hlcyB0aGUgZ2l2ZW4gYG5hbWVgLlxuICpcbiAqIE5PVEU6IFRoaXMgd2lsbCBub3QgbWF0Y2ggbmFtZXNwYWNlZCBhdHRyaWJ1dGVzLlxuICpcbiAqIEF0dHJpYnV0ZSBtYXRjaGluZyBkZXBlbmRzIHVwb24gYGlzSW5saW5lVGVtcGxhdGVgIGFuZCBgaXNQcm9qZWN0aW9uTW9kZWAuXG4gKiBUaGUgZm9sbG93aW5nIHRhYmxlIHN1bW1hcml6ZXMgd2hpY2ggdHlwZXMgb2YgYXR0cmlidXRlcyB3ZSBhdHRlbXB0IHRvIG1hdGNoOlxuICpcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2RlcyAgICAgICAgICAgICAgICAgICB8IE5vcm1hbCBBdHRyaWJ1dGVzIHwgQmluZGluZ3MgQXR0cmlidXRlcyB8IFRlbXBsYXRlIEF0dHJpYnV0ZXMgfCBJMThuXG4gKiBBdHRyaWJ1dGVzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5saW5lICsgUHJvamVjdGlvbiAgICAgfCBZRVMgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogSW5saW5lICsgRGlyZWN0aXZlICAgICAgfCBOTyAgICAgICAgICAgICAgICB8IE5PICAgICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk9cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBOb24taW5saW5lICsgUHJvamVjdGlvbiB8IFlFUyAgICAgICAgICAgICAgIHwgWUVTICAgICAgICAgICAgICAgICB8IE5PICAgICAgICAgICAgICAgICAgfCBZRVNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBOb24taW5saW5lICsgRGlyZWN0aXZlICB8IFlFUyAgICAgICAgICAgICAgIHwgWUVTICAgICAgICAgICAgICAgICB8IE5PICAgICAgICAgICAgICAgICAgfCBZRVNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBmaW5kXG4gKiBAcGFyYW0gYXR0cnMgdGhlIGF0dHJpYnV0ZSBhcnJheSB0byBleGFtaW5lXG4gKiBAcGFyYW0gaXNJbmxpbmVUZW1wbGF0ZSB0cnVlIGlmIHRoZSBub2RlIGJlaW5nIG1hdGNoZWQgaXMgYW4gaW5saW5lIHRlbXBsYXRlIChlLmcuIGAqbmdGb3JgKVxuICogcmF0aGVyIHRoYW4gYSBtYW51YWxseSBleHBhbmRlZCB0ZW1wbGF0ZSBub2RlIChlLmcgYDxuZy10ZW1wbGF0ZT5gKS5cbiAqIEBwYXJhbSBpc1Byb2plY3Rpb25Nb2RlIHRydWUgaWYgd2UgYXJlIG1hdGNoaW5nIGFnYWluc3QgY29udGVudCBwcm9qZWN0aW9uIG90aGVyd2lzZSB3ZSBhcmVcbiAqIG1hdGNoaW5nIGFnYWluc3QgZGlyZWN0aXZlcy5cbiAqL1xuZnVuY3Rpb24gZmluZEF0dHJJbmRleEluTm9kZShuYW1lLCBhdHRycywgaXNJbmxpbmVUZW1wbGF0ZSwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIGlmIChhdHRycyA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGxldCBpID0gMDtcbiAgICBpZiAoaXNQcm9qZWN0aW9uTW9kZSB8fCAhaXNJbmxpbmVUZW1wbGF0ZSkge1xuICAgICAgICBsZXQgYmluZGluZ3NNb2RlID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBtYXliZUF0dHJOYW1lID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAobWF5YmVBdHRyTmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVBdHRyTmFtZSA9PT0gMyAvKiBCaW5kaW5ncyAqLyB8fCBtYXliZUF0dHJOYW1lID09PSA2IC8qIEkxOG4gKi8pIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nc01vZGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVBdHRyTmFtZSA9PT0gMSAvKiBDbGFzc2VzICovIHx8IG1heWJlQXR0ck5hbWUgPT09IDIgLyogU3R5bGVzICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYXR0cnNbKytpXTtcbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgc2tpcCBjbGFzc2VzIGhlcmUgYmVjYXVzZSB3ZSBoYXZlIGEgc2VwYXJhdGUgbWVjaGFuaXNtIGZvclxuICAgICAgICAgICAgICAgIC8vIG1hdGNoaW5nIGNsYXNzZXMgaW4gcHJvamVjdGlvbiBtb2RlLlxuICAgICAgICAgICAgICAgIHdoaWxlICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXR0cnNbKytpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSA0IC8qIFRlbXBsYXRlICovKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG8gbm90IGNhcmUgYWJvdXQgVGVtcGxhdGUgYXR0cmlidXRlcyBpbiB0aGlzIHNjZW5hcmlvLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVBdHRyTmFtZSA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHRoZSB3aG9sZSBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBhbmQgdmFsdWUuIFRoaXMgaXMgYnkgZGVzaWduLlxuICAgICAgICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEluIGJpbmRpbmcgbW9kZSB0aGVyZSBhcmUgb25seSBuYW1lcywgcmF0aGVyIHRoYW4gbmFtZS12YWx1ZSBwYWlycy5cbiAgICAgICAgICAgIGkgKz0gYmluZGluZ3NNb2RlID8gMSA6IDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgZGlkIG5vdCBtYXRjaCB0aGUgYXR0cmlidXRlXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBtYXRjaFRlbXBsYXRlQXR0cmlidXRlKGF0dHJzLCBuYW1lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCh0Tm9kZSwgc2VsZWN0b3IsIGlzUHJvamVjdGlvbk1vZGUgPSBmYWxzZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0b3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzTm9kZU1hdGNoaW5nU2VsZWN0b3IodE5vZGUsIHNlbGVjdG9yW2ldLCBpc1Byb2plY3Rpb25Nb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0UHJvamVjdEFzQXR0clZhbHVlKHROb2RlKSB7XG4gICAgY29uc3Qgbm9kZUF0dHJzID0gdE5vZGUuYXR0cnM7XG4gICAgaWYgKG5vZGVBdHRycyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG5nUHJvamVjdEFzQXR0cklkeCA9IG5vZGVBdHRycy5pbmRleE9mKDUgLyogUHJvamVjdEFzICovKTtcbiAgICAgICAgLy8gb25seSBjaGVjayBmb3IgbmdQcm9qZWN0QXMgaW4gYXR0cmlidXRlIG5hbWVzLCBkb24ndCBhY2NpZGVudGFsbHkgbWF0Y2ggYXR0cmlidXRlJ3MgdmFsdWVcbiAgICAgICAgLy8gKGF0dHJpYnV0ZSBuYW1lcyBhcmUgc3RvcmVkIGF0IGV2ZW4gaW5kZXhlcylcbiAgICAgICAgaWYgKChuZ1Byb2plY3RBc0F0dHJJZHggJiAxKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVBdHRyc1tuZ1Byb2plY3RBc0F0dHJJZHggKyAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldE5hbWVPbmx5TWFya2VySW5kZXgobm9kZUF0dHJzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZUF0dHIgPSBub2RlQXR0cnNbaV07XG4gICAgICAgIGlmIChpc05hbWVPbmx5QXR0cmlidXRlTWFya2VyKG5vZGVBdHRyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVBdHRycy5sZW5ndGg7XG59XG5mdW5jdGlvbiBtYXRjaFRlbXBsYXRlQXR0cmlidXRlKGF0dHJzLCBuYW1lKSB7XG4gICAgbGV0IGkgPSBhdHRycy5pbmRleE9mKDQgLyogVGVtcGxhdGUgKi8pO1xuICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgaSsrO1xuICAgICAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgLy8gUmV0dXJuIGluIGNhc2Ugd2UgY2hlY2tlZCBhbGwgdGVtcGxhdGUgYXR0cnMgYW5kIGFyZSBzd2l0Y2hpbmcgdG8gdGhlIG5leHQgc2VjdGlvbiBpbiB0aGVcbiAgICAgICAgICAgIC8vIGF0dHJzIGFycmF5ICh0aGF0IHN0YXJ0cyB3aXRoIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyBhbiBhdHRyaWJ1dGUgbWFya2VyKS5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGF0dHIgPT09IG5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHNlbGVjdG9yIGlzIGluc2lkZSBhIENzc1NlbGVjdG9yTGlzdFxuICogQHBhcmFtIHNlbGVjdG9yIFNlbGVjdG9yIHRvIGJlIGNoZWNrZWQuXG4gKiBAcGFyYW0gbGlzdCBMaXN0IGluIHdoaWNoIHRvIGxvb2sgZm9yIHRoZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gaXNTZWxlY3RvckluU2VsZWN0b3JMaXN0KHNlbGVjdG9yLCBsaXN0KSB7XG4gICAgc2VsZWN0b3JMaXN0TG9vcDogZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RvckluTGlzdCA9IGxpc3RbaV07XG4gICAgICAgIGlmIChzZWxlY3Rvci5sZW5ndGggIT09IGN1cnJlbnRTZWxlY3RvckluTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VsZWN0b3IubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RvcltqXSAhPT0gY3VycmVudFNlbGVjdG9ySW5MaXN0W2pdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWUgc2VsZWN0b3JMaXN0TG9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gbWF5YmVXcmFwSW5Ob3RTZWxlY3Rvcihpc05lZ2F0aXZlTW9kZSwgY2h1bmspIHtcbiAgICByZXR1cm4gaXNOZWdhdGl2ZU1vZGUgPyAnOm5vdCgnICsgY2h1bmsudHJpbSgpICsgJyknIDogY2h1bms7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlDU1NTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgIGxldCByZXN1bHQgPSBzZWxlY3RvclswXTtcbiAgICBsZXQgaSA9IDE7XG4gICAgbGV0IG1vZGUgPSAyIC8qIEFUVFJJQlVURSAqLztcbiAgICBsZXQgY3VycmVudENodW5rID0gJyc7XG4gICAgbGV0IGlzTmVnYXRpdmVNb2RlID0gZmFsc2U7XG4gICAgd2hpbGUgKGkgPCBzZWxlY3Rvci5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHZhbHVlT3JNYXJrZXIgPSBzZWxlY3RvcltpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZU9yTWFya2VyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKG1vZGUgJiAyIC8qIEFUVFJJQlVURSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHNlbGVjdG9yWysraV07XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rICs9XG4gICAgICAgICAgICAgICAgICAgICdbJyArIHZhbHVlT3JNYXJrZXIgKyAoYXR0clZhbHVlLmxlbmd0aCA+IDAgPyAnPVwiJyArIGF0dHJWYWx1ZSArICdcIicgOiAnJykgKyAnXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlICYgOCAvKiBDTEFTUyAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayArPSAnLicgKyB2YWx1ZU9yTWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSAmIDQgLyogRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayArPSAnICcgKyB2YWx1ZU9yTWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEFwcGVuZCBjdXJyZW50IGNodW5rIHRvIHRoZSBmaW5hbCByZXN1bHQgaW4gY2FzZSB3ZSBjb21lIGFjcm9zcyBTZWxlY3RvckZsYWcsIHdoaWNoXG4gICAgICAgICAgICAvLyBpbmRpY2F0ZXMgdGhhdCB0aGUgcHJldmlvdXMgc2VjdGlvbiBvZiBhIHNlbGVjdG9yIGlzIG92ZXIuIFdlIG5lZWQgdG8gYWNjdW11bGF0ZSBjb250ZW50XG4gICAgICAgICAgICAvLyBiZXR3ZWVuIGZsYWdzIHRvIG1ha2Ugc3VyZSB3ZSB3cmFwIHRoZSBjaHVuayBsYXRlciBpbiA6bm90KCkgc2VsZWN0b3IgaWYgbmVlZGVkLCBlLmcuXG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vICBbJycsIEZsYWdzLkNMQVNTLCAnLmNsYXNzQScsIEZsYWdzLkNMQVNTIHwgRmxhZ3MuTk9ULCAnLmNsYXNzQicsICcuY2xhc3NDJ11cbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIHRyYW5zZm9ybWVkIHRvIGAuY2xhc3NBIDpub3QoLmNsYXNzQiAuY2xhc3NDKWAuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gTm90ZTogZm9yIG5lZ2F0aXZlIHNlbGVjdG9yIHBhcnQsIHdlIGFjY3VtdWxhdGUgY29udGVudCBiZXR3ZWVuIGZsYWdzIHVudGlsIHdlIGZpbmQgdGhlXG4gICAgICAgICAgICAvLyBuZXh0IG5lZ2F0aXZlIGZsYWcuIFRoaXMgaXMgbmVlZGVkIHRvIHN1cHBvcnQgYSBjYXNlIHdoZXJlIGA6bm90KClgIHJ1bGUgY29udGFpbnMgbW9yZSB0aGFuXG4gICAgICAgICAgICAvLyBvbmUgY2h1bmssIGUuZy4gdGhlIGZvbGxvd2luZyBzZWxlY3RvcjpcbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgLy8gIFsnJywgRmxhZ3MuRUxFTUVOVCB8IEZsYWdzLk5PVCwgJ3AnLCBGbGFncy5DTEFTUywgJ2ZvbycsIEZsYWdzLkNMQVNTIHwgRmxhZ3MuTk9ULCAnYmFyJ11cbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIHN0cmluZ2lmaWVkIHRvIGA6bm90KHAuZm9vKSA6bm90KC5iYXIpYFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2h1bmsgIT09ICcnICYmICFpc1Bvc2l0aXZlKHZhbHVlT3JNYXJrZXIpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IG1heWJlV3JhcEluTm90U2VsZWN0b3IoaXNOZWdhdGl2ZU1vZGUsIGN1cnJlbnRDaHVuayk7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RlID0gdmFsdWVPck1hcmtlcjtcbiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byBDc3NTZWxlY3RvciBzcGVjLCBvbmNlIHdlIGNvbWUgYWNyb3NzIGBTZWxlY3RvckZsYWdzLk5PVGAgZmxhZywgdGhlIG5lZ2F0aXZlXG4gICAgICAgICAgICAvLyBtb2RlIGlzIG1haW50YWluZWQgZm9yIHJlbWFpbmluZyBjaHVua3Mgb2YgYSBzZWxlY3Rvci5cbiAgICAgICAgICAgIGlzTmVnYXRpdmVNb2RlID0gaXNOZWdhdGl2ZU1vZGUgfHwgIWlzUG9zaXRpdmUobW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoY3VycmVudENodW5rICE9PSAnJykge1xuICAgICAgICByZXN1bHQgKz0gbWF5YmVXcmFwSW5Ob3RTZWxlY3Rvcihpc05lZ2F0aXZlTW9kZSwgY3VycmVudENodW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBDU1Mgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm0uXG4gKlxuICogQ29tcG9uZW50RGVmIGFuZCBEaXJlY3RpdmVEZWYgYXJlIGdlbmVyYXRlZCB3aXRoIHRoZSBzZWxlY3RvciBpbiBwYXJzZWQgZm9ybSB0byBhdm9pZCBkb2luZ1xuICogYWRkaXRpb25hbCBwYXJzaW5nIGF0IHJ1bnRpbWUgKGZvciBleGFtcGxlLCBmb3IgZGlyZWN0aXZlIG1hdGNoaW5nKS4gSG93ZXZlciBpbiBzb21lIGNhc2VzIChmb3JcbiAqIGV4YW1wbGUsIHdoaWxlIGJvb3RzdHJhcHBpbmcgYSBjb21wb25lbnQpLCBhIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSBzZWxlY3RvciBpcyByZXF1aXJlZCB0byBxdWVyeVxuICogZm9yIHRoZSBob3N0IGVsZW1lbnQgb24gdGhlIHBhZ2UuIFRoaXMgZnVuY3Rpb24gdGFrZXMgdGhlIHBhcnNlZCBmb3JtIG9mIGEgc2VsZWN0b3IgYW5kIHJldHVybnNcbiAqIGl0cyBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yTGlzdCBzZWxlY3RvciBpbiBwYXJzZWQgZm9ybVxuICogQHJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZ2l2ZW4gc2VsZWN0b3JcbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5Q1NTU2VsZWN0b3JMaXN0KHNlbGVjdG9yTGlzdCkge1xuICAgIHJldHVybiBzZWxlY3Rvckxpc3QubWFwKHN0cmluZ2lmeUNTU1NlbGVjdG9yKS5qb2luKCcsJyk7XG59XG4vKipcbiAqIEV4dHJhY3RzIGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMgaW5mb3JtYXRpb24gZnJvbSBhIGdpdmVuIENTUyBzZWxlY3Rvci5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2hpbGUgY3JlYXRpbmcgYSBjb21wb25lbnQgZHluYW1pY2FsbHkuIEluIHRoaXMgY2FzZSwgdGhlIGhvc3QgZWxlbWVudFxuICogKHRoYXQgaXMgY3JlYXRlZCBkeW5hbWljYWxseSkgc2hvdWxkIGNvbnRhaW4gYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBzcGVjaWZpZWQgaW4gY29tcG9uZW50J3MgQ1NTXG4gKiBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQ1NTIHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtIChpbiBhIGZvcm0gb2YgYXJyYXkpXG4gKiBAcmV0dXJucyBvYmplY3Qgd2l0aCBgYXR0cnNgIGFuZCBgY2xhc3Nlc2AgZmllbGRzIHRoYXQgY29udGFpbiBleHRyYWN0ZWQgaW5mb3JtYXRpb25cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEF0dHJzQW5kQ2xhc3Nlc0Zyb21TZWxlY3RvcihzZWxlY3Rvcikge1xuICAgIGNvbnN0IGF0dHJzID0gW107XG4gICAgY29uc3QgY2xhc3NlcyA9IFtdO1xuICAgIGxldCBpID0gMTtcbiAgICBsZXQgbW9kZSA9IDIgLyogQVRUUklCVVRFICovO1xuICAgIHdoaWxlIChpIDwgc2VsZWN0b3IubGVuZ3RoKSB7XG4gICAgICAgIGxldCB2YWx1ZU9yTWFya2VyID0gc2VsZWN0b3JbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVPck1hcmtlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAyIC8qIEFUVFJJQlVURSAqLykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZU9yTWFya2VyICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBhdHRycy5wdXNoKHZhbHVlT3JNYXJrZXIsIHNlbGVjdG9yWysraV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT09IDggLyogQ0xBU1MgKi8pIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2godmFsdWVPck1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gQ3NzU2VsZWN0b3Igc3BlYywgb25jZSB3ZSBjb21lIGFjcm9zcyBgU2VsZWN0b3JGbGFncy5OT1RgIGZsYWcsIHRoZSBuZWdhdGl2ZVxuICAgICAgICAgICAgLy8gbW9kZSBpcyBtYWludGFpbmVkIGZvciByZW1haW5pbmcgY2h1bmtzIG9mIGEgc2VsZWN0b3IuIFNpbmNlIGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMgYXJlXG4gICAgICAgICAgICAvLyBleHRyYWN0ZWQgb25seSBmb3IgXCJwb3NpdGl2ZVwiIHBhcnQgb2YgdGhlIHNlbGVjdG9yLCB3ZSBjYW4gc3RvcCBoZXJlLlxuICAgICAgICAgICAgaWYgKCFpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbW9kZSA9IHZhbHVlT3JNYXJrZXI7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4geyBhdHRycywgY2xhc3NlcyB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBBIHNwZWNpYWwgdmFsdWUgd2hpY2ggZGVzaWduYXRlcyB0aGF0IGEgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkLiAqL1xuY29uc3QgTk9fQ0hBTkdFID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgPyB7IF9fYnJhbmRfXzogJ05PX0NIQU5HRScgfSA6IHt9O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWR2YW5jZXMgdG8gYW4gZWxlbWVudCBmb3IgbGF0ZXIgYmluZGluZyBpbnN0cnVjdGlvbnMuXG4gKlxuICogVXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGluc3RydWN0aW9ucyBsaWtlIHtAbGluayBwcm9wZXJ0eX0gdG8gYWN0IG9uIGVsZW1lbnRzIHdpdGggc3BlY2lmaWVkXG4gKiBpbmRpY2VzLCBmb3IgZXhhbXBsZSB0aG9zZSBjcmVhdGVkIHdpdGgge0BsaW5rIGVsZW1lbnR9IG9yIHtAbGluayBlbGVtZW50U3RhcnR9LlxuICpcbiAqIGBgYHRzXG4gKiAocmY6IFJlbmRlckZsYWdzLCBjdHg6IGFueSkgPT4ge1xuICogICBpZiAocmYgJiAxKSB7XG4gKiAgICAgdGV4dCgwLCAnSGVsbG8nKTtcbiAqICAgICB0ZXh0KDEsICdHb29kYnllJylcbiAqICAgICBlbGVtZW50KDIsICdkaXYnKTtcbiAqICAgfVxuICogICBpZiAocmYgJiAyKSB7XG4gKiAgICAgYWR2YW5jZSgyKTsgLy8gQWR2YW5jZSB0d2ljZSB0byB0aGUgPGRpdj4uXG4gKiAgICAgcHJvcGVydHkoJ3RpdGxlJywgJ3Rlc3QnKTtcbiAqICAgfVxuICogIH1cbiAqIGBgYFxuICogQHBhcmFtIGRlbHRhIE51bWJlciBvZiBlbGVtZW50cyB0byBhZHZhbmNlIGZvcndhcmRzIGJ5LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhZHZhbmNlKGRlbHRhKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuKGRlbHRhLCAwLCAnQ2FuIG9ubHkgYWR2YW5jZSBmb3J3YXJkJyk7XG4gICAgc2VsZWN0SW5kZXhJbnRlcm5hbChnZXRUVmlldygpLCBnZXRMVmlldygpLCBnZXRTZWxlY3RlZEluZGV4KCkgKyBkZWx0YSwgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpKTtcbn1cbmZ1bmN0aW9uIHNlbGVjdEluZGV4SW50ZXJuYWwodFZpZXcsIGxWaWV3LCBpbmRleCwgY2hlY2tOb0NoYW5nZXNNb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5EZWNsUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICAvLyBGbHVzaCB0aGUgaW5pdGlhbCBob29rcyBmb3IgZWxlbWVudHMgaW4gdGhlIHZpZXcgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdXAgdG8gdGhpcyBwb2ludC5cbiAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgIGlmICghY2hlY2tOb0NoYW5nZXNNb2RlKSB7XG4gICAgICAgIGNvbnN0IGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkID0gKGxWaWV3W0ZMQUdTXSAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi87XG4gICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgY29uc3QgcHJlT3JkZXJDaGVja0hvb2tzID0gdFZpZXcucHJlT3JkZXJDaGVja0hvb2tzO1xuICAgICAgICAgICAgaWYgKHByZU9yZGVyQ2hlY2tIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBwcmVPcmRlckNoZWNrSG9va3MsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByZU9yZGVySG9va3MgPSB0Vmlldy5wcmVPcmRlckhvb2tzO1xuICAgICAgICAgICAgaWYgKHByZU9yZGVySG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIHByZU9yZGVySG9va3MsIDAgLyogT25Jbml0SG9va3NUb0JlUnVuICovLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gV2UgbXVzdCBzZXQgdGhlIHNlbGVjdGVkIGluZGV4ICphZnRlciogcnVubmluZyB0aGUgaG9va3MsIGJlY2F1c2UgaG9va3MgbWF5IGhhdmUgc2lkZS1lZmZlY3RzXG4gICAgLy8gdGhhdCBjYXVzZSBvdGhlciB0ZW1wbGF0ZSBmdW5jdGlvbnMgdG8gcnVuLCB0aHVzIHVwZGF0aW5nIHRoZSBzZWxlY3RlZCBpbmRleCwgd2hpY2ggaXMgZ2xvYmFsXG4gICAgLy8gc3RhdGUuIElmIHdlIHJ1biBgc2V0U2VsZWN0ZWRJbmRleGAgKmJlZm9yZSogd2UgcnVuIHRoZSBob29rcywgaW4gc29tZSBjYXNlcyB0aGUgc2VsZWN0ZWQgaW5kZXhcbiAgICAvLyB3aWxsIGJlIGFsdGVyZWQgYnkgdGhlIHRpbWUgd2UgbGVhdmUgdGhlIGDJtcm1YWR2YW5jZWAgaW5zdHJ1Y3Rpb24uXG4gICAgc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUSElTIEZJTEUgQ09OVEFJTlMgQ09ERSBXSElDSCBTSE9VTEQgQkUgVFJFRSBTSEFLRU4gQU5EIE5FVkVSIENBTExFRCBGUk9NIFBST0RVQ1RJT04gQ09ERSEhIVxuICovXG4vKipcbiAqIENyZWF0ZXMgYW4gYEFycmF5YCBjb25zdHJ1Y3Rpb24gd2l0aCBhIGdpdmVuIG5hbWUuIFRoaXMgaXMgdXNlZnVsIHdoZW5cbiAqIGxvb2tpbmcgZm9yIG1lbW9yeSBjb25zdW1wdGlvbiB0byBzZWUgd2hhdCB0aW1lIG9mIGFycmF5IGl0IGlzLlxuICpcbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIGdpdmUgdG8gdGhlIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyBBIHN1YmNsYXNzIG9mIGBBcnJheWAgaWYgcG9zc2libGUuIFRoaXMgY2FuIG9ubHkgYmUgZG9uZSBpblxuICogICAgICAgICAgZW52aXJvbm1lbnRzIHdoaWNoIHN1cHBvcnQgYGNsYXNzYCBjb25zdHJ1Y3QuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5hbWVkQXJyYXlUeXBlKG5hbWUpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gcHJvZCBtb2RlLCBzbyBsZXQncyB2ZXJpZnkgdGhhdCBpcyB0aGUgY2FzZS5cbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGZ1bmN0aW9uIHdlcmUgY29tcHJvbWlzZWQgdGhlIGZvbGxvd2luZyBjb3VsZCBsZWFkIHRvIGFyYml0cmFyeVxuICAgICAgICAgICAgLy8gc2NyaXB0IGV4ZWN1dGlvbi4gV2UgYmxlc3MgaXQgd2l0aCBUcnVzdGVkIFR5cGVzIGFueXdheSBzaW5jZSB0aGlzXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBzdHJpcHBlZCBvdXQgb2YgcHJvZHVjdGlvbiBiaW5hcmllcy5cbiAgICAgICAgICAgIHJldHVybiAobmV3VHJ1c3RlZEZ1bmN0aW9uRm9yRGV2KCdBcnJheScsIGByZXR1cm4gY2xhc3MgJHtuYW1lfSBleHRlbmRzIEFycmF5e31gKSkoQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZiBpdCBkb2VzIG5vdCB3b3JrIGp1c3QgZ2l2ZSB1cCBhbmQgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgQXJyYXkuXG4gICAgICAgICAgICByZXR1cm4gQXJyYXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTG9va3MgbGlrZSB3ZSBhcmUgaW4gXFwncHJvZCBtb2RlXFwnLCBidXQgd2UgYXJlIGNyZWF0aW5nIGEgbmFtZWQgQXJyYXkgdHlwZSwgd2hpY2ggaXMgd3JvbmchIENoZWNrIHlvdXIgY29kZScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiB0b1RTdHlsaW5nUmFuZ2UocHJldiwgbmV4dCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKHByZXYsIDAsIDMyNzY3IC8qIFVOU0lHTkVEX01BU0sgKi8pO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKG5leHQsIDAsIDMyNzY3IC8qIFVOU0lHTkVEX01BU0sgKi8pO1xuICAgIHJldHVybiAocHJldiA8PCAxNyAvKiBQUkVWX1NISUZUICovIHwgbmV4dCA8PCAyIC8qIE5FWFRfU0hJRlQgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSA+PiAxNyAvKiBQUkVWX1NISUZUICovKSAmIDMyNzY3IC8qIFVOU0lHTkVEX01BU0sgKi87XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlICYgMiAvKiBQUkVWX0RVUExJQ0FURSAqLykgPT1cbiAgICAgICAgMiAvKiBQUkVWX0RVUExJQ0FURSAqLztcbn1cbmZ1bmN0aW9uIHNldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsaW5nUmFuZ2UsIHByZXZpb3VzKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UocHJldmlvdXMsIDAsIDMyNzY3IC8qIFVOU0lHTkVEX01BU0sgKi8pO1xuICAgIHJldHVybiAoKHRTdHlsaW5nUmFuZ2UgJiB+NDI5NDgzNjIyNCAvKiBQUkVWX01BU0sgKi8pIHxcbiAgICAgICAgKHByZXZpb3VzIDw8IDE3IC8qIFBSRVZfU0hJRlQgKi8pKTtcbn1cbmZ1bmN0aW9uIHNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgfCAyIC8qIFBSRVZfRFVQTElDQVRFICovKTtcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgJiAxMzEwNjggLyogTkVYVF9NQVNLICovKSA+PiAyIC8qIE5FWFRfU0hJRlQgKi87XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGluZ1JhbmdlLCBuZXh0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UobmV4dCwgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgcmV0dXJuICgodFN0eWxpbmdSYW5nZSAmIH4xMzEwNjggLyogTkVYVF9NQVNLICovKSB8IC8vXG4gICAgICAgIG5leHQgPDwgMiAvKiBORVhUX1NISUZUICovKTtcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgJiAxIC8qIE5FWFRfRFVQTElDQVRFICovKSA9PT1cbiAgICAgICAgMSAvKiBORVhUX0RVUExJQ0FURSAqLztcbn1cbmZ1bmN0aW9uIHNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgfCAxIC8qIE5FWFRfRFVQTElDQVRFICovKTtcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VUYWlsKHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICBjb25zdCBuZXh0ID0gZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdSYW5nZSk7XG4gICAgcmV0dXJuIG5leHQgPT09IDAgPyBnZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ1JhbmdlKSA6IG5leHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBQYXRjaCBhIGBkZWJ1Z2AgcHJvcGVydHkgb24gdG9wIG9mIHRoZSBleGlzdGluZyBvYmplY3QuXG4gKlxuICogTk9URTogYWx3YXlzIGNhbGwgdGhpcyBtZXRob2Qgd2l0aCBgbmdEZXZNb2RlICYmIGF0dGFjaERlYnVnT2JqZWN0KC4uLilgXG4gKlxuICogQHBhcmFtIG9iaiBPYmplY3QgdG8gcGF0Y2hcbiAqIEBwYXJhbSBkZWJ1ZyBWYWx1ZSB0byBwYXRjaFxuICovXG5mdW5jdGlvbiBhdHRhY2hEZWJ1Z09iamVjdChvYmosIGRlYnVnKSB7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnZGVidWcnLCB7IHZhbHVlOiBkZWJ1ZywgZW51bWVyYWJsZTogZmFsc2UgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIHNob3VsZCBiZSBndWFyZGVkIHdpdGggYG5nRGV2TW9kZWAgc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gaW4gcHJvZHVjdGlvbiEnKTtcbiAgICB9XG59XG4vKipcbiAqIFBhdGNoIGEgYGRlYnVnYCBwcm9wZXJ0eSBnZXR0ZXIgb24gdG9wIG9mIHRoZSBleGlzdGluZyBvYmplY3QuXG4gKlxuICogTk9URTogYWx3YXlzIGNhbGwgdGhpcyBtZXRob2Qgd2l0aCBgbmdEZXZNb2RlICYmIGF0dGFjaERlYnVnT2JqZWN0KC4uLilgXG4gKlxuICogQHBhcmFtIG9iaiBPYmplY3QgdG8gcGF0Y2hcbiAqIEBwYXJhbSBkZWJ1Z0dldHRlciBHZXR0ZXIgcmV0dXJuaW5nIGEgdmFsdWUgdG8gcGF0Y2hcbiAqL1xuZnVuY3Rpb24gYXR0YWNoRGVidWdHZXR0ZXIob2JqLCBkZWJ1Z0dldHRlcikge1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ2RlYnVnJywgeyBnZXQ6IGRlYnVnR2V0dGVyLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGd1YXJkZWQgd2l0aCBgbmdEZXZNb2RlYCBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBpbiBwcm9kdWN0aW9uIScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIGNvbmRpdGlvbmFsbHkgYXR0YWNoZWQgY2xhc3NlcyB3aGljaCBwcm92aWRlIGh1bWFuIHJlYWRhYmxlIChkZWJ1ZykgbGV2ZWxcbiAqIGluZm9ybWF0aW9uIGZvciBgTFZpZXdgLCBgTENvbnRhaW5lcmAgYW5kIG90aGVyIGludGVybmFsIGRhdGEgc3RydWN0dXJlcy4gVGhlc2UgZGF0YSBzdHJ1Y3R1cmVzXG4gKiBhcmUgc3RvcmVkIGludGVybmFsbHkgYXMgYXJyYXkgd2hpY2ggbWFrZXMgaXQgdmVyeSBkaWZmaWN1bHQgZHVyaW5nIGRlYnVnZ2luZyB0byByZWFzb24gYWJvdXQgdGhlXG4gKiBjdXJyZW50IHN0YXRlIG9mIHRoZSBzeXN0ZW0uXG4gKlxuICogUGF0Y2hpbmcgdGhlIGFycmF5IHdpdGggZXh0cmEgcHJvcGVydHkgZG9lcyBjaGFuZ2UgdGhlIGFycmF5J3MgaGlkZGVuIGNsYXNzJyBidXQgaXQgZG9lcyBub3RcbiAqIGNoYW5nZSB0aGUgY29zdCBvZiBhY2Nlc3MsIHRoZXJlZm9yZSB0aGlzIHBhdGNoaW5nIHNob3VsZCBub3QgaGF2ZSBzaWduaWZpY2FudCBpZiBhbnkgaW1wYWN0IGluXG4gKiBgbmdEZXZNb2RlYCBtb2RlLiAoc2VlOiBodHRwczovL2pzcGVyZi5jb20vYXJyYXktdnMtbW9ua2V5LXBhdGNoLWFycmF5KVxuICpcbiAqIFNvIGluc3RlYWQgb2Ygc2VlaW5nOlxuICogYGBgXG4gKiBBcnJheSgzMCkgW09iamVjdCwgNjU5LCBudWxsLCDigKZdXG4gKiBgYGBcbiAqXG4gKiBZb3UgZ2V0IHRvIHNlZTpcbiAqIGBgYFxuICogTFZpZXdEZWJ1ZyB7XG4gKiAgIHZpZXdzOiBbLi4uXSxcbiAqICAgZmxhZ3M6IHthdHRhY2hlZDogdHJ1ZSwgLi4ufVxuICogICBub2RlczogW1xuICogICAgIHtodG1sOiAnPGRpdiBpZD1cIjEyM1wiPicsIC4uLiwgbm9kZXM6IFtcbiAqICAgICAgIHtodG1sOiAnPHNwYW4+JywgLi4uLCBub2RlczogbnVsbH1cbiAqICAgICBdfVxuICogICBdXG4gKiB9XG4gKiBgYGBcbiAqL1xubGV0IExWSUVXX0NPTVBPTkVOVF9DQUNIRTtcbmxldCBMVklFV19FTUJFRERFRF9DQUNIRTtcbmxldCBMVklFV19ST09UO1xubGV0IExWSUVXX0NPTVBPTkVOVDtcbmxldCBMVklFV19FTUJFRERFRDtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjbG9uZXMgYSBibHVlcHJpbnQgYW5kIGNyZWF0ZXMgTFZpZXcuXG4gKlxuICogU2ltcGxlIHNsaWNlIHdpbGwga2VlcCB0aGUgc2FtZSB0eXBlLCBhbmQgd2UgbmVlZCBpdCB0byBiZSBMVmlld1xuICovXG5mdW5jdGlvbiBjbG9uZVRvTFZpZXdGcm9tVFZpZXdCbHVlcHJpbnQodFZpZXcpIHtcbiAgICBjb25zdCBkZWJ1Z1RWaWV3ID0gdFZpZXc7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlld1RvQ2xvbmUoZGVidWdUVmlldy50eXBlLCB0Vmlldy50ZW1wbGF0ZSAmJiB0Vmlldy50ZW1wbGF0ZS5uYW1lKTtcbiAgICByZXR1cm4gbFZpZXcuY29uY2F0KHRWaWV3LmJsdWVwcmludCk7XG59XG5jbGFzcyBMUm9vdFZpZXcgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBMQ29tcG9uZW50VmlldyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIExFbWJlZGRlZFZpZXcgZXh0ZW5kcyBBcnJheSB7XG59XG5mdW5jdGlvbiBnZXRMVmlld1RvQ2xvbmUodHlwZSwgbmFtZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIDAgLyogUm9vdCAqLzpcbiAgICAgICAgICAgIGlmIChMVklFV19ST09UID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgTFZJRVdfUk9PVCA9IG5ldyBMUm9vdFZpZXcoKTtcbiAgICAgICAgICAgIHJldHVybiBMVklFV19ST09UO1xuICAgICAgICBjYXNlIDEgLyogQ29tcG9uZW50ICovOlxuICAgICAgICAgICAgaWYgKCFuZ0Rldk1vZGUgfHwgIW5nRGV2TW9kZS5uYW1lZENvbnN0cnVjdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChMVklFV19DT01QT05FTlQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgTFZJRVdfQ09NUE9ORU5UID0gbmV3IExDb21wb25lbnRWaWV3KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExWSUVXX0NPTVBPTkVOVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChMVklFV19DT01QT05FTlRfQ0FDSEUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBMVklFV19DT01QT05FTlRfQ0FDSEUgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50QXJyYXkgPSBMVklFV19DT01QT05FTlRfQ0FDSEUuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudEFycmF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRBcnJheSA9IG5ldyAoY3JlYXRlTmFtZWRBcnJheVR5cGUoJ0xDb21wb25lbnRWaWV3JyArIG5hbWVTdWZmaXgobmFtZSkpKSgpO1xuICAgICAgICAgICAgICAgIExWSUVXX0NPTVBPTkVOVF9DQUNIRS5zZXQobmFtZSwgY29tcG9uZW50QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudEFycmF5O1xuICAgICAgICBjYXNlIDIgLyogRW1iZWRkZWQgKi86XG4gICAgICAgICAgICBpZiAoIW5nRGV2TW9kZSB8fCAhbmdEZXZNb2RlLm5hbWVkQ29uc3RydWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKExWSUVXX0VNQkVEREVEID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIExWSUVXX0VNQkVEREVEID0gbmV3IExFbWJlZGRlZFZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTFZJRVdfRU1CRURERUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTFZJRVdfRU1CRURERURfQ0FDSEUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBMVklFV19FTUJFRERFRF9DQUNIRSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBlbWJlZGRlZEFycmF5ID0gTFZJRVdfRU1CRURERURfQ0FDSEUuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgaWYgKGVtYmVkZGVkQXJyYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVtYmVkZGVkQXJyYXkgPSBuZXcgKGNyZWF0ZU5hbWVkQXJyYXlUeXBlKCdMRW1iZWRkZWRWaWV3JyArIG5hbWVTdWZmaXgobmFtZSkpKSgpO1xuICAgICAgICAgICAgICAgIExWSUVXX0VNQkVEREVEX0NBQ0hFLnNldChuYW1lLCBlbWJlZGRlZEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbWJlZGRlZEFycmF5O1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5hbWVTdWZmaXgodGV4dCkge1xuICAgIGlmICh0ZXh0ID09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBpbmRleCA9IHRleHQubGFzdEluZGV4T2YoJ19UZW1wbGF0ZScpO1xuICAgIHJldHVybiAnXycgKyAoaW5kZXggPT09IC0xID8gdGV4dCA6IHRleHQuc3Vic3RyKDAsIGluZGV4KSk7XG59XG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBkZWJ1ZyB2ZXJzaW9uIG9mIE9iamVjdCBsaXRlcmFsIHNvIHRoYXQgd2UgY2FuIGhhdmUgY29uc3RydWN0b3IgbmFtZSBzaG93IHVwXG4gKiBpblxuICogZGVidWcgdG9vbHMgaW4gbmdEZXZNb2RlLlxuICovXG5jb25zdCBUVmlld0NvbnN0cnVjdG9yID0gY2xhc3MgVFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGJsdWVwcmludCwgdGVtcGxhdGUsIHF1ZXJpZXMsIHZpZXdRdWVyeSwgZGVjbFROb2RlLCBkYXRhLCBiaW5kaW5nU3RhcnRJbmRleCwgZXhwYW5kb1N0YXJ0SW5kZXgsIGhvc3RCaW5kaW5nT3BDb2RlcywgZmlyc3RDcmVhdGVQYXNzLCBmaXJzdFVwZGF0ZVBhc3MsIHN0YXRpY1ZpZXdRdWVyaWVzLCBzdGF0aWNDb250ZW50UXVlcmllcywgcHJlT3JkZXJIb29rcywgcHJlT3JkZXJDaGVja0hvb2tzLCBjb250ZW50SG9va3MsIGNvbnRlbnRDaGVja0hvb2tzLCB2aWV3SG9va3MsIHZpZXdDaGVja0hvb2tzLCBkZXN0cm95SG9va3MsIGNsZWFudXAsIGNvbnRlbnRRdWVyaWVzLCBjb21wb25lbnRzLCBkaXJlY3RpdmVSZWdpc3RyeSwgcGlwZVJlZ2lzdHJ5LCBmaXJzdENoaWxkLCBzY2hlbWFzLCBjb25zdHMsIGluY29tcGxldGVGaXJzdFBhc3MsIF9kZWNscywgX3ZhcnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5ibHVlcHJpbnQgPSBibHVlcHJpbnQ7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gcXVlcmllcztcbiAgICAgICAgdGhpcy52aWV3UXVlcnkgPSB2aWV3UXVlcnk7XG4gICAgICAgIHRoaXMuZGVjbFROb2RlID0gZGVjbFROb2RlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmJpbmRpbmdTdGFydEluZGV4ID0gYmluZGluZ1N0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuZXhwYW5kb1N0YXJ0SW5kZXggPSBleHBhbmRvU3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5ob3N0QmluZGluZ09wQ29kZXMgPSBob3N0QmluZGluZ09wQ29kZXM7XG4gICAgICAgIHRoaXMuZmlyc3RDcmVhdGVQYXNzID0gZmlyc3RDcmVhdGVQYXNzO1xuICAgICAgICB0aGlzLmZpcnN0VXBkYXRlUGFzcyA9IGZpcnN0VXBkYXRlUGFzcztcbiAgICAgICAgdGhpcy5zdGF0aWNWaWV3UXVlcmllcyA9IHN0YXRpY1ZpZXdRdWVyaWVzO1xuICAgICAgICB0aGlzLnN0YXRpY0NvbnRlbnRRdWVyaWVzID0gc3RhdGljQ29udGVudFF1ZXJpZXM7XG4gICAgICAgIHRoaXMucHJlT3JkZXJIb29rcyA9IHByZU9yZGVySG9va3M7XG4gICAgICAgIHRoaXMucHJlT3JkZXJDaGVja0hvb2tzID0gcHJlT3JkZXJDaGVja0hvb2tzO1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rcyA9IGNvbnRlbnRIb29rcztcbiAgICAgICAgdGhpcy5jb250ZW50Q2hlY2tIb29rcyA9IGNvbnRlbnRDaGVja0hvb2tzO1xuICAgICAgICB0aGlzLnZpZXdIb29rcyA9IHZpZXdIb29rcztcbiAgICAgICAgdGhpcy52aWV3Q2hlY2tIb29rcyA9IHZpZXdDaGVja0hvb2tzO1xuICAgICAgICB0aGlzLmRlc3Ryb3lIb29rcyA9IGRlc3Ryb3lIb29rcztcbiAgICAgICAgdGhpcy5jbGVhbnVwID0gY2xlYW51cDtcbiAgICAgICAgdGhpcy5jb250ZW50UXVlcmllcyA9IGNvbnRlbnRRdWVyaWVzO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZVJlZ2lzdHJ5ID0gZGlyZWN0aXZlUmVnaXN0cnk7XG4gICAgICAgIHRoaXMucGlwZVJlZ2lzdHJ5ID0gcGlwZVJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLmZpcnN0Q2hpbGQgPSBmaXJzdENoaWxkO1xuICAgICAgICB0aGlzLnNjaGVtYXMgPSBzY2hlbWFzO1xuICAgICAgICB0aGlzLmNvbnN0cyA9IGNvbnN0cztcbiAgICAgICAgdGhpcy5pbmNvbXBsZXRlRmlyc3RQYXNzID0gaW5jb21wbGV0ZUZpcnN0UGFzcztcbiAgICAgICAgdGhpcy5fZGVjbHMgPSBfZGVjbHM7XG4gICAgICAgIHRoaXMuX3ZhcnMgPSBfdmFycztcbiAgICB9XG4gICAgZ2V0IHRlbXBsYXRlXygpIHtcbiAgICAgICAgY29uc3QgYnVmID0gW107XG4gICAgICAgIHByb2Nlc3NUTm9kZUNoaWxkcmVuKHRoaXMuZmlyc3RDaGlsZCwgYnVmKTtcbiAgICAgICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbiAgICB9XG4gICAgZ2V0IHR5cGVfKCkge1xuICAgICAgICByZXR1cm4gVFZpZXdUeXBlQXNTdHJpbmdbdGhpcy50eXBlXSB8fCBgVFZpZXdUeXBlLj8ke3RoaXMudHlwZX0/YDtcbiAgICB9XG59O1xuY2xhc3MgVE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHRWaWV3XywgLy9cbiAgICB0eXBlLCAvL1xuICAgIGluZGV4LCAvL1xuICAgIGluc2VydEJlZm9yZUluZGV4LCAvL1xuICAgIGluamVjdG9ySW5kZXgsIC8vXG4gICAgZGlyZWN0aXZlU3RhcnQsIC8vXG4gICAgZGlyZWN0aXZlRW5kLCAvL1xuICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0LCAvL1xuICAgIHByb3BlcnR5QmluZGluZ3MsIC8vXG4gICAgZmxhZ3MsIC8vXG4gICAgcHJvdmlkZXJJbmRleGVzLCAvL1xuICAgIHZhbHVlLCAvL1xuICAgIGF0dHJzLCAvL1xuICAgIG1lcmdlZEF0dHJzLCAvL1xuICAgIGxvY2FsTmFtZXMsIC8vXG4gICAgaW5pdGlhbElucHV0cywgLy9cbiAgICBpbnB1dHMsIC8vXG4gICAgb3V0cHV0cywgLy9cbiAgICB0Vmlld3MsIC8vXG4gICAgbmV4dCwgLy9cbiAgICBwcm9qZWN0aW9uTmV4dCwgLy9cbiAgICBjaGlsZCwgLy9cbiAgICBwYXJlbnQsIC8vXG4gICAgcHJvamVjdGlvbiwgLy9cbiAgICBzdHlsZXMsIC8vXG4gICAgc3R5bGVzV2l0aG91dEhvc3QsIC8vXG4gICAgcmVzaWR1YWxTdHlsZXMsIC8vXG4gICAgY2xhc3NlcywgLy9cbiAgICBjbGFzc2VzV2l0aG91dEhvc3QsIC8vXG4gICAgcmVzaWR1YWxDbGFzc2VzLCAvL1xuICAgIGNsYXNzQmluZGluZ3MsIC8vXG4gICAgc3R5bGVCaW5kaW5ncykge1xuICAgICAgICB0aGlzLnRWaWV3XyA9IHRWaWV3XztcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmluc2VydEJlZm9yZUluZGV4ID0gaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgICAgIHRoaXMuaW5qZWN0b3JJbmRleCA9IGluamVjdG9ySW5kZXg7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlU3RhcnQgPSBkaXJlY3RpdmVTdGFydDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVFbmQgPSBkaXJlY3RpdmVFbmQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSBkaXJlY3RpdmVTdHlsaW5nTGFzdDtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUJpbmRpbmdzID0gcHJvcGVydHlCaW5kaW5ncztcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgICAgICB0aGlzLnByb3ZpZGVySW5kZXhlcyA9IHByb3ZpZGVySW5kZXhlcztcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIHRoaXMubWVyZ2VkQXR0cnMgPSBtZXJnZWRBdHRycztcbiAgICAgICAgdGhpcy5sb2NhbE5hbWVzID0gbG9jYWxOYW1lcztcbiAgICAgICAgdGhpcy5pbml0aWFsSW5wdXRzID0gaW5pdGlhbElucHV0cztcbiAgICAgICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgIHRoaXMub3V0cHV0cyA9IG91dHB1dHM7XG4gICAgICAgIHRoaXMudFZpZXdzID0gdFZpZXdzO1xuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgICAgICB0aGlzLnByb2plY3Rpb25OZXh0ID0gcHJvamVjdGlvbk5leHQ7XG4gICAgICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IHByb2plY3Rpb247XG4gICAgICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICAgICAgICB0aGlzLnN0eWxlc1dpdGhvdXRIb3N0ID0gc3R5bGVzV2l0aG91dEhvc3Q7XG4gICAgICAgIHRoaXMucmVzaWR1YWxTdHlsZXMgPSByZXNpZHVhbFN0eWxlcztcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgdGhpcy5jbGFzc2VzV2l0aG91dEhvc3QgPSBjbGFzc2VzV2l0aG91dEhvc3Q7XG4gICAgICAgIHRoaXMucmVzaWR1YWxDbGFzc2VzID0gcmVzaWR1YWxDbGFzc2VzO1xuICAgICAgICB0aGlzLmNsYXNzQmluZGluZ3MgPSBjbGFzc0JpbmRpbmdzO1xuICAgICAgICB0aGlzLnN0eWxlQmluZGluZ3MgPSBzdHlsZUJpbmRpbmdzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBodW1hbiBkZWJ1ZyB2ZXJzaW9uIG9mIHRoZSBzZXQgb2YgYE5vZGVJbmplY3RvcmBzIHdoaWNoIHdpbGwgYmUgY29uc3VsdGVkIHdoZW5cbiAgICAgKiByZXNvbHZpbmcgdG9rZW5zIGZyb20gdGhpcyBgVE5vZGVgLlxuICAgICAqXG4gICAgICogV2hlbiBkZWJ1Z2dpbmcgYXBwbGljYXRpb25zLCBpdCBpcyBvZnRlbiBkaWZmaWN1bHQgdG8gZGV0ZXJtaW5lIHdoaWNoIGBOb2RlSW5qZWN0b3JgcyB3aWxsIGJlXG4gICAgICogY29uc3VsdGVkLiBUaGlzIG1ldGhvZCBzaG93cyBhIGxpc3Qgb2YgYERlYnVnTm9kZWBzIHJlcHJlc2VudGluZyB0aGUgYFROb2RlYHMgd2hpY2ggd2lsbCBiZVxuICAgICAqIGNvbnN1bHRlZCBpbiBvcmRlciB3aGVuIHJlc29sdmluZyBhIHRva2VuIHN0YXJ0aW5nIGF0IHRoaXMgYFROb2RlYC5cbiAgICAgKlxuICAgICAqIFRoZSBvcmlnaW5hbCBkYXRhIGlzIHN0b3JlZCBpbiBgTFZpZXdgIGFuZCBgVFZpZXdgIHdpdGggYSBsb3Qgb2Ygb2Zmc2V0IGluZGV4ZXMsIGFuZCBzbyBpdCBpc1xuICAgICAqIGRpZmZpY3VsdCB0byByZWFzb24gYWJvdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2AgaW5zdGFuY2UgZm9yIHRoaXMgYFROb2RlYC5cbiAgICAgKi9cbiAgICBkZWJ1Z05vZGVJbmplY3RvclBhdGgobFZpZXcpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBsZXQgaW5qZWN0b3JJbmRleCA9IGdldEluamVjdG9ySW5kZXgodGhpcywgbFZpZXcpO1xuICAgICAgICBpZiAoaW5qZWN0b3JJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIExvb2tzIGxpa2UgdGhlIGN1cnJlbnQgYFROb2RlYCBkb2VzIG5vdCBoYXZlIGBOb2RlSW5qZWN0b3JgIGFzc29jaWF0ZWQgd2l0aCBpdCA9PiBsb29rIGZvclxuICAgICAgICAgICAgLy8gcGFyZW50IE5vZGVJbmplY3Rvci5cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudExvY2F0aW9uID0gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0aGlzLCBsVmlldyk7XG4gICAgICAgICAgICBpZiAocGFyZW50TG9jYXRpb24gIT09IE5PX1BBUkVOVF9JTkpFQ1RPUikge1xuICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgcGFyZW50LCBzbyBzdGFydCBzZWFyY2hpbmcgZnJvbSB0aGUgcGFyZW50IGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBsVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgbFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gcGFyZW50cyBoYXZlIGJlZW4gZm91bmQsIHNvIHRoZXJlIGFyZSBubyBgTm9kZUluamVjdG9yYHMgdG8gY29uc3VsdC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlSW5qZWN0b3IobFZpZXcsIGluamVjdG9ySW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL107XG4gICAgICAgICAgICBwYXRoLnB1c2goYnVpbGREZWJ1Z05vZGUodE5vZGUsIGxWaWV3KSk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRMb2NhdGlvbiA9IGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL107XG4gICAgICAgICAgICBpZiAocGFyZW50TG9jYXRpb24gPT09IE5PX1BBUkVOVF9JTkpFQ1RPUikge1xuICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBsVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgbFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICBnZXQgdHlwZV8oKSB7XG4gICAgICAgIHJldHVybiB0b1ROb2RlVHlwZUFzU3RyaW5nKHRoaXMudHlwZSkgfHwgYFROb2RlVHlwZS4/JHt0aGlzLnR5cGV9P2A7XG4gICAgfVxuICAgIGdldCBmbGFnc18oKSB7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gW107XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMTYgLyogaGFzQ2xhc3NJbnB1dCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaGFzQ2xhc3NJbnB1dCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDggLyogaGFzQ29udGVudFF1ZXJ5ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5oYXNDb250ZW50UXVlcnknKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAzMiAvKiBoYXNTdHlsZUlucHV0ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5oYXNTdHlsZUlucHV0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMTI4IC8qIGhhc0hvc3RCaW5kaW5ncyAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaGFzSG9zdEJpbmRpbmdzJyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzQ29tcG9uZW50SG9zdCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDEgLyogaXNEaXJlY3RpdmVIb3N0ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5pc0RpcmVjdGl2ZUhvc3QnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5pc0RldGFjaGVkJyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgNCAvKiBpc1Byb2plY3RlZCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNQcm9qZWN0ZWQnKTtcbiAgICAgICAgcmV0dXJuIGZsYWdzLmpvaW4oJ3wnKTtcbiAgICB9XG4gICAgZ2V0IHRlbXBsYXRlXygpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAmIDEgLyogVGV4dCAqLylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCBidWYgPSBbXTtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IHR5cGVvZiB0aGlzLnZhbHVlID09PSAnc3RyaW5nJyAmJiB0aGlzLnZhbHVlIHx8IHRoaXMudHlwZV87XG4gICAgICAgIGJ1Zi5wdXNoKCc8JywgdGFnTmFtZSk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzKSB7XG4gICAgICAgICAgICBidWYucHVzaCgnICcsIHRoaXMuZmxhZ3NfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdHRycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF0dHJzLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHRoaXMuYXR0cnNbaSsrXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF0dHJOYW1lID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSB0aGlzLmF0dHJzW2krK107XG4gICAgICAgICAgICAgICAgYnVmLnB1c2goJyAnLCBhdHRyTmFtZSwgJz1cIicsIGF0dHJWYWx1ZSwgJ1wiJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnVmLnB1c2goJz4nKTtcbiAgICAgICAgcHJvY2Vzc1ROb2RlQ2hpbGRyZW4odGhpcy5jaGlsZCwgYnVmKTtcbiAgICAgICAgYnVmLnB1c2goJzwvJywgdGFnTmFtZSwgJz4nKTtcbiAgICAgICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbiAgICB9XG4gICAgZ2V0IHN0eWxlQmluZGluZ3NfKCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z1N0eWxlQmluZGluZyh0aGlzLCBmYWxzZSk7XG4gICAgfVxuICAgIGdldCBjbGFzc0JpbmRpbmdzXygpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHlsZUJpbmRpbmcodGhpcywgdHJ1ZSk7XG4gICAgfVxuICAgIGdldCBwcm92aWRlckluZGV4U3RhcnRfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlckluZGV4ZXMgJiAxMDQ4NTc1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgIH1cbiAgICBnZXQgcHJvdmlkZXJJbmRleEVuZF8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVySW5kZXhTdGFydF8gK1xuICAgICAgICAgICAgKHRoaXMucHJvdmlkZXJJbmRleGVzID4+PiAyMCAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdCAqLyk7XG4gICAgfVxufVxuY29uc3QgVE5vZGVEZWJ1ZyA9IFROb2RlO1xuZnVuY3Rpb24gdG9EZWJ1Z1N0eWxlQmluZGluZyh0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgdERhdGEgPSB0Tm9kZS50Vmlld18uZGF0YTtcbiAgICBjb25zdCBiaW5kaW5ncyA9IFtdO1xuICAgIGNvbnN0IHJhbmdlID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgY29uc3QgcHJldiA9IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHJhbmdlKTtcbiAgICBjb25zdCBuZXh0ID0gZ2V0VFN0eWxpbmdSYW5nZU5leHQocmFuZ2UpO1xuICAgIGxldCBpc1RlbXBsYXRlID0gbmV4dCAhPT0gMDtcbiAgICBsZXQgY3Vyc29yID0gaXNUZW1wbGF0ZSA/IG5leHQgOiBwcmV2O1xuICAgIHdoaWxlIChjdXJzb3IgIT09IDApIHtcbiAgICAgICAgY29uc3QgaXRlbUtleSA9IHREYXRhW2N1cnNvcl07XG4gICAgICAgIGNvbnN0IGl0ZW1SYW5nZSA9IHREYXRhW2N1cnNvciArIDFdO1xuICAgICAgICBiaW5kaW5ncy51bnNoaWZ0KHtcbiAgICAgICAgICAgIGtleTogaXRlbUtleSxcbiAgICAgICAgICAgIGluZGV4OiBjdXJzb3IsXG4gICAgICAgICAgICBpc1RlbXBsYXRlOiBpc1RlbXBsYXRlLFxuICAgICAgICAgICAgcHJldkR1cGxpY2F0ZTogZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUoaXRlbVJhbmdlKSxcbiAgICAgICAgICAgIG5leHREdXBsaWNhdGU6IGdldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKGl0ZW1SYW5nZSksXG4gICAgICAgICAgICBuZXh0SW5kZXg6IGdldFRTdHlsaW5nUmFuZ2VOZXh0KGl0ZW1SYW5nZSksXG4gICAgICAgICAgICBwcmV2SW5kZXg6IGdldFRTdHlsaW5nUmFuZ2VQcmV2KGl0ZW1SYW5nZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3Vyc29yID09PSBwcmV2KVxuICAgICAgICAgICAgaXNUZW1wbGF0ZSA9IGZhbHNlO1xuICAgICAgICBjdXJzb3IgPSBnZXRUU3R5bGluZ1JhbmdlUHJldihpdGVtUmFuZ2UpO1xuICAgIH1cbiAgICBiaW5kaW5ncy5wdXNoKChpc0NsYXNzQmFzZWQgPyB0Tm9kZS5yZXNpZHVhbENsYXNzZXMgOiB0Tm9kZS5yZXNpZHVhbFN0eWxlcykgfHwgbnVsbCk7XG4gICAgcmV0dXJuIGJpbmRpbmdzO1xufVxuZnVuY3Rpb24gcHJvY2Vzc1ROb2RlQ2hpbGRyZW4odE5vZGUsIGJ1Zikge1xuICAgIHdoaWxlICh0Tm9kZSkge1xuICAgICAgICBidWYucHVzaCh0Tm9kZS50ZW1wbGF0ZV8pO1xuICAgICAgICB0Tm9kZSA9IHROb2RlLm5leHQ7XG4gICAgfVxufVxuY2xhc3MgVFZpZXdEYXRhIGV4dGVuZHMgQXJyYXkge1xufVxubGV0IFRWSUVXREFUQV9FTVBUWTsgLy8gY2FuJ3QgaW5pdGlhbGl6ZSBoZXJlIG9yIGl0IHdpbGwgbm90IGJlIHRyZWUgc2hha2VuLCBiZWNhdXNlXG4vLyBgTFZpZXdgIGNvbnN0cnVjdG9yIGNvdWxkIGhhdmUgc2lkZS1lZmZlY3RzLlxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNsb25lcyBhIGJsdWVwcmludCBhbmQgY3JlYXRlcyBURGF0YS5cbiAqXG4gKiBTaW1wbGUgc2xpY2Ugd2lsbCBrZWVwIHRoZSBzYW1lIHR5cGUsIGFuZCB3ZSBuZWVkIGl0IHRvIGJlIFREYXRhXG4gKi9cbmZ1bmN0aW9uIGNsb25lVG9UVmlld0RhdGEobGlzdCkge1xuICAgIGlmIChUVklFV0RBVEFfRU1QVFkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgVFZJRVdEQVRBX0VNUFRZID0gbmV3IFRWaWV3RGF0YSgpO1xuICAgIHJldHVybiBUVklFV0RBVEFfRU1QVFkuY29uY2F0KGxpc3QpO1xufVxuY2xhc3MgTFZpZXdCbHVlcHJpbnQgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBNYXRjaGVzQXJyYXkgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBUVmlld0NvbXBvbmVudHMgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBUTm9kZUxvY2FsTmFtZXMgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBUTm9kZUluaXRpYWxJbnB1dHMgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBMQ2xlYW51cCBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFRDbGVhbnVwIGV4dGVuZHMgQXJyYXkge1xufVxuZnVuY3Rpb24gYXR0YWNoTFZpZXdEZWJ1ZyhsVmlldykge1xuICAgIGF0dGFjaERlYnVnT2JqZWN0KGxWaWV3LCBuZXcgTFZpZXdEZWJ1ZyhsVmlldykpO1xufVxuZnVuY3Rpb24gYXR0YWNoTENvbnRhaW5lckRlYnVnKGxDb250YWluZXIpIHtcbiAgICBhdHRhY2hEZWJ1Z09iamVjdChsQ29udGFpbmVyLCBuZXcgTENvbnRhaW5lckRlYnVnKGxDb250YWluZXIpKTtcbn1cbmZ1bmN0aW9uIHRvRGVidWcob2JqKSB7XG4gICAgaWYgKG9iaikge1xuICAgICAgICBjb25zdCBkZWJ1ZyA9IG9iai5kZWJ1ZztcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChkZWJ1ZywgJ09iamVjdCBkb2VzIG5vdCBoYXZlIGEgZGVidWcgcmVwcmVzZW50YXRpb24uJyk7XG4gICAgICAgIHJldHVybiBkZWJ1ZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gdW53cmFwIGEgbmF0aXZlIGVsZW1lbnQgaW4gYExWaWV3YCBhbmQgY29udmVydCBpdCBpbnRvIEhUTUwgZm9yIGVhc2llclxuICogcmVhZGluZy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgcG9zc2libHkgd3JhcHBlZCBuYXRpdmUgRE9NIG5vZGUuXG4gKiBAcGFyYW0gaW5jbHVkZUNoaWxkcmVuIElmIGB0cnVlYCB0aGVuIHRoZSBzZXJpYWxpemVkIEhUTUwgZm9ybSB3aWxsIGluY2x1ZGUgY2hpbGQgZWxlbWVudHNcbiAqIChzYW1lXG4gKiBhcyBgb3V0ZXJIVE1MYCkuIElmIGBmYWxzZWAgdGhlbiB0aGUgc2VyaWFsaXplZCBIVE1MIGZvcm0gd2lsbCBvbmx5IGNvbnRhaW4gdGhlIGVsZW1lbnRcbiAqIGl0c2VsZlxuICogKHdpbGwgbm90IHNlcmlhbGl6ZSBjaGlsZCBlbGVtZW50cykuXG4gKi9cbmZ1bmN0aW9uIHRvSHRtbCh2YWx1ZSwgaW5jbHVkZUNoaWxkcmVuID0gZmFsc2UpIHtcbiAgICBjb25zdCBub2RlID0gdW53cmFwUk5vZGUodmFsdWUpO1xuICAgIGlmIChub2RlKSB7XG4gICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5DT01NRU5UX05PREU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8IS0tJHtub2RlLnRleHRDb250ZW50fS0tPmA7XG4gICAgICAgICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgIGNvbnN0IG91dGVySFRNTCA9IG5vZGUub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGVySFRNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVySFRNTCA9ICc+JyArIG5vZGUuaW5uZXJIVE1MICsgJzwnO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG91dGVySFRNTC5zcGxpdChpbm5lckhUTUwpWzBdKSArICc+JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5jbGFzcyBMVmlld0RlYnVnIHtcbiAgICBjb25zdHJ1Y3RvcihfcmF3X2xWaWV3KSB7XG4gICAgICAgIHRoaXMuX3Jhd19sVmlldyA9IF9yYXdfbFZpZXc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsYWdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYExWaWV3YCB1bnBhY2tlZCBpbnRvIGEgbW9yZSByZWFkYWJsZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBnZXQgZmxhZ3MoKSB7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gdGhpcy5fcmF3X2xWaWV3W0ZMQUdTXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fcmF3X19mbGFnc19fOiBmbGFncyxcbiAgICAgICAgICAgIGluaXRQaGFzZVN0YXRlOiBmbGFncyAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovLFxuICAgICAgICAgICAgY3JlYXRpb25Nb2RlOiAhIShmbGFncyAmIDQgLyogQ3JlYXRpb25Nb2RlICovKSxcbiAgICAgICAgICAgIGZpcnN0Vmlld1Bhc3M6ICEhKGZsYWdzICYgOCAvKiBGaXJzdExWaWV3UGFzcyAqLyksXG4gICAgICAgICAgICBjaGVja0Fsd2F5czogISEoZmxhZ3MgJiAxNiAvKiBDaGVja0Fsd2F5cyAqLyksXG4gICAgICAgICAgICBkaXJ0eTogISEoZmxhZ3MgJiA2NCAvKiBEaXJ0eSAqLyksXG4gICAgICAgICAgICBhdHRhY2hlZDogISEoZmxhZ3MgJiAxMjggLyogQXR0YWNoZWQgKi8pLFxuICAgICAgICAgICAgZGVzdHJveWVkOiAhIShmbGFncyAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pLFxuICAgICAgICAgICAgaXNSb290OiAhIShmbGFncyAmIDUxMiAvKiBJc1Jvb3QgKi8pLFxuICAgICAgICAgICAgaW5kZXhXaXRoaW5Jbml0UGhhc2U6IGZsYWdzID4+IDExIC8qIEluZGV4V2l0aGluSW5pdFBoYXNlU2hpZnQgKi8sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tQQVJFTlRdKTtcbiAgICB9XG4gICAgZ2V0IGhvc3RIVE1MKCkge1xuICAgICAgICByZXR1cm4gdG9IdG1sKHRoaXMuX3Jhd19sVmlld1tIT1NUXSwgdHJ1ZSk7XG4gICAgfVxuICAgIGdldCBodG1sKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMubm9kZXMgfHwgW10pLm1hcChtYXBUb0hUTUwpLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tDT05URVhUXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRyZWUgb2Ygbm9kZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IGBMVmlld2AuIFRoZSBub2RlcyBoYXZlIGJlZW4gbm9ybWFsaXplZCBpbnRvXG4gICAgICogYSB0cmVlIHN0cnVjdHVyZSB3aXRoIHJlbGV2YW50IGRldGFpbHMgcHVsbGVkIG91dCBmb3IgcmVhZGFiaWxpdHkuXG4gICAgICovXG4gICAgZ2V0IG5vZGVzKCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IHRoaXMuX3Jhd19sVmlldztcbiAgICAgICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdOb2Rlcyh0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBnZXQgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRWaWV3LnRlbXBsYXRlXztcbiAgICB9XG4gICAgZ2V0IHRWaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1RWSUVXXTtcbiAgICB9XG4gICAgZ2V0IGNsZWFudXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbQ0xFQU5VUF07XG4gICAgfVxuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tJTkpFQ1RPUiQxXTtcbiAgICB9XG4gICAgZ2V0IHJlbmRlcmVyRmFjdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICB9XG4gICAgZ2V0IHJlbmRlcmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1JFTkRFUkVSXTtcbiAgICB9XG4gICAgZ2V0IHNhbml0aXplcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tTQU5JVElaRVJdO1xuICAgIH1cbiAgICBnZXQgY2hpbGRIZWFkKCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbQ0hJTERfSEVBRF0pO1xuICAgIH1cbiAgICBnZXQgbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W05FWFRdKTtcbiAgICB9XG4gICAgZ2V0IGNoaWxkVGFpbCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W0NISUxEX1RBSUxdKTtcbiAgICB9XG4gICAgZ2V0IGRlY2xhcmF0aW9uVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddKTtcbiAgICB9XG4gICAgZ2V0IHF1ZXJpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbUVVFUklFU107XG4gICAgfVxuICAgIGdldCB0SG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tUX0hPU1RdO1xuICAgIH1cbiAgICBnZXQgZGVjbHMoKSB7XG4gICAgICAgIHJldHVybiB0b0xWaWV3UmFuZ2UodGhpcy50VmlldywgdGhpcy5fcmF3X2xWaWV3LCBIRUFERVJfT0ZGU0VULCB0aGlzLnRWaWV3LmJpbmRpbmdTdGFydEluZGV4KTtcbiAgICB9XG4gICAgZ2V0IHZhcnMoKSB7XG4gICAgICAgIHJldHVybiB0b0xWaWV3UmFuZ2UodGhpcy50VmlldywgdGhpcy5fcmF3X2xWaWV3LCB0aGlzLnRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCB0aGlzLnRWaWV3LmV4cGFuZG9TdGFydEluZGV4KTtcbiAgICB9XG4gICAgZ2V0IGV4cGFuZG8oKSB7XG4gICAgICAgIHJldHVybiB0b0xWaWV3UmFuZ2UodGhpcy50VmlldywgdGhpcy5fcmF3X2xWaWV3LCB0aGlzLnRWaWV3LmV4cGFuZG9TdGFydEluZGV4LCB0aGlzLl9yYXdfbFZpZXcubGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplZCB2aWV3IG9mIGNoaWxkIHZpZXdzIChhbmQgY29udGFpbmVycykgYXR0YWNoZWQgYXQgdGhpcyBsb2NhdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgY2hpbGRWaWV3cygpIHtcbiAgICAgICAgY29uc3QgY2hpbGRWaWV3cyA9IFtdO1xuICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkSGVhZDtcbiAgICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgICAgICBjaGlsZFZpZXdzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZFZpZXdzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFRvSFRNTChub2RlKSB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gJ0VsZW1lbnRDb250YWluZXInKSB7XG4gICAgICAgIHJldHVybiAobm9kZS5jaGlsZHJlbiB8fCBbXSkubWFwKG1hcFRvSFRNTCkuam9pbignJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0ljdUNvbnRhaW5lcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0b0h0bWwobm9kZS5uYXRpdmUsIHRydWUpIHx8ICcnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRvTFZpZXdSYW5nZSh0VmlldywgbFZpZXcsIHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgY29udGVudCA9IFtdO1xuICAgIGZvciAobGV0IGluZGV4ID0gc3RhcnQ7IGluZGV4IDwgZW5kOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnRlbnQucHVzaCh7IGluZGV4OiBpbmRleCwgdDogdFZpZXcuZGF0YVtpbmRleF0sIGw6IGxWaWV3W2luZGV4XSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCwgbGVuZ3RoOiBlbmQgLSBzdGFydCwgY29udGVudDogY29udGVudCB9O1xufVxuLyoqXG4gKiBUdXJucyBhIGZsYXQgbGlzdCBvZiBub2RlcyBpbnRvIGEgdHJlZSBieSB3YWxraW5nIHRoZSBhc3NvY2lhdGVkIGBUTm9kZWAgdHJlZS5cbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqIEBwYXJhbSBsVmlld1xuICovXG5mdW5jdGlvbiB0b0RlYnVnTm9kZXModE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHROb2RlKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnTm9kZXMgPSBbXTtcbiAgICAgICAgbGV0IHROb2RlQ3Vyc29yID0gdE5vZGU7XG4gICAgICAgIHdoaWxlICh0Tm9kZUN1cnNvcikge1xuICAgICAgICAgICAgZGVidWdOb2Rlcy5wdXNoKGJ1aWxkRGVidWdOb2RlKHROb2RlQ3Vyc29yLCBsVmlldykpO1xuICAgICAgICAgICAgdE5vZGVDdXJzb3IgPSB0Tm9kZUN1cnNvci5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWJ1Z05vZGVzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ1aWxkRGVidWdOb2RlKHROb2RlLCBsVmlldykge1xuICAgIGNvbnN0IHJhd1ZhbHVlID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgIGNvbnN0IG5hdGl2ZSA9IHVud3JhcFJOb2RlKHJhd1ZhbHVlKTtcbiAgICBjb25zdCBmYWN0b3JpZXMgPSBbXTtcbiAgICBjb25zdCBpbnN0YW5jZXMgPSBbXTtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBmb3IgKGxldCBpID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7IGkgPCB0Tm9kZS5kaXJlY3RpdmVFbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2ldO1xuICAgICAgICBmYWN0b3JpZXMucHVzaChkZWYudHlwZSk7XG4gICAgICAgIGluc3RhbmNlcy5wdXNoKGxWaWV3W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaHRtbDogdG9IdG1sKG5hdGl2ZSksXG4gICAgICAgIHR5cGU6IHRvVE5vZGVUeXBlQXNTdHJpbmcodE5vZGUudHlwZSksXG4gICAgICAgIHROb2RlLFxuICAgICAgICBuYXRpdmU6IG5hdGl2ZSxcbiAgICAgICAgY2hpbGRyZW46IHRvRGVidWdOb2Rlcyh0Tm9kZS5jaGlsZCwgbFZpZXcpLFxuICAgICAgICBmYWN0b3JpZXMsXG4gICAgICAgIGluc3RhbmNlcyxcbiAgICAgICAgaW5qZWN0b3I6IGJ1aWxkTm9kZUluamVjdG9yRGVidWcodE5vZGUsIHRWaWV3LCBsVmlldyksXG4gICAgICAgIGdldCBpbmplY3RvclJlc29sdXRpb25QYXRoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHROb2RlLmRlYnVnTm9kZUluamVjdG9yUGF0aChsVmlldyk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkTm9kZUluamVjdG9yRGVidWcodE5vZGUsIHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IHZpZXdQcm92aWRlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdE5vZGUucHJvdmlkZXJJbmRleFN0YXJ0XzsgaSA8IHROb2RlLnByb3ZpZGVySW5kZXhFbmRfOyBpKyspIHtcbiAgICAgICAgdmlld1Byb3ZpZGVycy5wdXNoKHRWaWV3LmRhdGFbaV0pO1xuICAgIH1cbiAgICBjb25zdCBwcm92aWRlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdE5vZGUucHJvdmlkZXJJbmRleEVuZF87IGkgPCB0Tm9kZS5kaXJlY3RpdmVFbmQ7IGkrKykge1xuICAgICAgICBwcm92aWRlcnMucHVzaCh0Vmlldy5kYXRhW2ldKTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZUluamVjdG9yRGVidWcgPSB7XG4gICAgICAgIGJsb29tOiB0b0Jsb29tKGxWaWV3LCB0Tm9kZS5pbmplY3RvckluZGV4KSxcbiAgICAgICAgY3VtdWxhdGl2ZUJsb29tOiB0b0Jsb29tKHRWaWV3LmRhdGEsIHROb2RlLmluamVjdG9ySW5kZXgpLFxuICAgICAgICBwcm92aWRlcnMsXG4gICAgICAgIHZpZXdQcm92aWRlcnMsXG4gICAgICAgIHBhcmVudEluamVjdG9ySW5kZXg6IGxWaWV3W3ROb2RlLnByb3ZpZGVySW5kZXhTdGFydF8gLSAxXSxcbiAgICB9O1xuICAgIHJldHVybiBub2RlSW5qZWN0b3JEZWJ1Zztcbn1cbi8qKlxuICogQ29udmVydCBhIG51bWJlciBhdCBgaWR4YCBsb2NhdGlvbiBpbiBgYXJyYXlgIGludG8gYmluYXJ5IHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEBwYXJhbSBhcnJheVxuICogQHBhcmFtIGlkeFxuICovXG5mdW5jdGlvbiBiaW5hcnkoYXJyYXksIGlkeCkge1xuICAgIGNvbnN0IHZhbHVlID0gYXJyYXlbaWR4XTtcbiAgICAvLyBJZiBub3QgYSBudW1iZXIgd2UgcHJpbnQgOCBgP2AgdG8gcmV0YWluIGFsaWdubWVudCBidXQgbGV0IHVzZXIga25vdyB0aGF0IGl0IHdhcyBjYWxsZWQgb25cbiAgICAvLyB3cm9uZyB0eXBlLlxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gJz8/Pz8/Pz8/JztcbiAgICAvLyBXZSBwcmVmaXggMHMgc28gdGhhdCB3ZSBoYXZlIGNvbnN0YW50IGxlbmd0aCBudW1iZXJcbiAgICBjb25zdCB0ZXh0ID0gJzAwMDAwMDAwJyArIHZhbHVlLnRvU3RyaW5nKDIpO1xuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyh0ZXh0Lmxlbmd0aCAtIDgpO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgYmxvb20gZmlsdGVyIGF0IGxvY2F0aW9uIGBpZHhgIGluIGBhcnJheWAgaW50byBiaW5hcnkgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQHBhcmFtIGFycmF5XG4gKiBAcGFyYW0gaWR4XG4gKi9cbmZ1bmN0aW9uIHRvQmxvb20oYXJyYXksIGlkeCkge1xuICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgIHJldHVybiAnTk9fTk9ERV9JTkpFQ1RPUic7XG4gICAgfVxuICAgIHJldHVybiBgJHtiaW5hcnkoYXJyYXksIGlkeCArIDcpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgNil9XyR7YmluYXJ5KGFycmF5LCBpZHggKyA1KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDQpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgMyl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAyKX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDEpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgMCl9YDtcbn1cbmNsYXNzIExDb250YWluZXJEZWJ1ZyB7XG4gICAgY29uc3RydWN0b3IoX3Jhd19sQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuX3Jhd19sQ29udGFpbmVyID0gX3Jhd19sQ29udGFpbmVyO1xuICAgIH1cbiAgICBnZXQgaGFzVHJhbnNwbGFudGVkVmlld3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lcltIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTXTtcbiAgICB9XG4gICAgZ2V0IHZpZXdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXIuc2xpY2UoQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQpXG4gICAgICAgICAgICAubWFwKHRvRGVidWcpO1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbENvbnRhaW5lcltQQVJFTlRdKTtcbiAgICB9XG4gICAgZ2V0IG1vdmVkVmlld3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgfVxuICAgIGdldCBob3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbSE9TVF07XG4gICAgfVxuICAgIGdldCBuYXRpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lcltOQVRJVkVdO1xuICAgIH1cbiAgICBnZXQgbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xDb250YWluZXJbTkVYVF0pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIHBlcm1hbmVudCBtYXJrZXIgcHJvbWlzZSB3aGljaCBzaWduaWZpZXMgdGhhdCB0aGUgY3VycmVudCBDRCB0cmVlIGlzXG4gKiBjbGVhbi5cbiAqL1xuY29uc3QgX0NMRUFOX1BST01JU0UgPSAoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpKSgpO1xuLyoqXG4gKiBJbnZva2UgYEhvc3RCaW5kaW5nc0Z1bmN0aW9uYHMgZm9yIHZpZXcuXG4gKlxuICogVGhpcyBtZXRob2RzIGV4ZWN1dGVzIGBUVmlldy5ob3N0QmluZGluZ09wQ29kZXNgLiBJdCBpcyB1c2VkIHRvIGV4ZWN1dGUgdGhlXG4gKiBgSG9zdEJpbmRpbmdzRnVuY3Rpb25gcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YC5cbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc0hvc3RCaW5kaW5nT3BDb2Rlcyh0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCBob3N0QmluZGluZ09wQ29kZXMgPSB0Vmlldy5ob3N0QmluZGluZ09wQ29kZXM7XG4gICAgaWYgKGhvc3RCaW5kaW5nT3BDb2RlcyA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9zdEJpbmRpbmdPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvcENvZGUgPSBob3N0QmluZGluZ09wQ29kZXNbaV07XG4gICAgICAgICAgICBpZiAob3BDb2RlIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlcnMgYXJlIGVsZW1lbnQgaW5kZXhlcy5cbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEluZGV4KH5vcENvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVycyBhcmUgTnVtYmVyVHVwbGUgd2hpY2ggc3RvcmUgYmluZGluZ1Jvb3RJbmRleCBhbmQgZGlyZWN0aXZlSW5kZXguXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlSWR4ID0gb3BDb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdSb290SW5keCA9IGhvc3RCaW5kaW5nT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RCaW5kaW5nRm4gPSBob3N0QmluZGluZ09wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICBzZXRCaW5kaW5nUm9vdEZvckhvc3RCaW5kaW5ncyhiaW5kaW5nUm9vdEluZHgsIGRpcmVjdGl2ZUlkeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGxWaWV3W2RpcmVjdGl2ZUlkeF07XG4gICAgICAgICAgICAgICAgaG9zdEJpbmRpbmdGbigyIC8qIFVwZGF0ZSAqLywgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xuICAgIH1cbn1cbi8qKiBSZWZyZXNoZXMgYWxsIGNvbnRlbnQgcXVlcmllcyBkZWNsYXJlZCBieSBkaXJlY3RpdmVzIGluIGEgZ2l2ZW4gdmlldyAqL1xuZnVuY3Rpb24gcmVmcmVzaENvbnRlbnRRdWVyaWVzKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IGNvbnRlbnRRdWVyaWVzID0gdFZpZXcuY29udGVudFF1ZXJpZXM7XG4gICAgaWYgKGNvbnRlbnRRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudFF1ZXJpZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RhcnRJZHggPSBjb250ZW50UXVlcmllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZklkeCA9IGNvbnRlbnRRdWVyaWVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVEZWZJZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmID0gdFZpZXcuZGF0YVtkaXJlY3RpdmVEZWZJZHhdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGRpcmVjdGl2ZURlZiwgJ0RpcmVjdGl2ZURlZiBub3QgZm91bmQuJyk7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydERlZmluZWQoZGlyZWN0aXZlRGVmLmNvbnRlbnRRdWVyaWVzLCAnY29udGVudFF1ZXJpZXMgZnVuY3Rpb24gc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50UXVlcnlJbmRleChxdWVyeVN0YXJ0SWR4KTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVEZWYuY29udGVudFF1ZXJpZXMoMiAvKiBVcGRhdGUgKi8sIGxWaWV3W2RpcmVjdGl2ZURlZklkeF0sIGRpcmVjdGl2ZURlZklkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogUmVmcmVzaGVzIGNoaWxkIGNvbXBvbmVudHMgaW4gdGhlIGN1cnJlbnQgdmlldyAodXBkYXRlIG1vZGUpLiAqL1xuZnVuY3Rpb24gcmVmcmVzaENoaWxkQ29tcG9uZW50cyhob3N0TFZpZXcsIGNvbXBvbmVudHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVmcmVzaENvbXBvbmVudChob3N0TFZpZXcsIGNvbXBvbmVudHNbaV0pO1xuICAgIH1cbn1cbi8qKiBSZW5kZXJzIGNoaWxkIGNvbXBvbmVudHMgaW4gdGhlIGN1cnJlbnQgdmlldyAoY3JlYXRpb24gbW9kZSkuICovXG5mdW5jdGlvbiByZW5kZXJDaGlsZENvbXBvbmVudHMoaG9zdExWaWV3LCBjb21wb25lbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlbmRlckNvbXBvbmVudCQxKGhvc3RMVmlldywgY29tcG9uZW50c1tpXSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlTFZpZXcocGFyZW50TFZpZXcsIHRWaWV3LCBjb250ZXh0LCBmbGFncywgaG9zdCwgdEhvc3ROb2RlLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCBzYW5pdGl6ZXIsIGluamVjdG9yKSB7XG4gICAgY29uc3QgbFZpZXcgPSBuZ0Rldk1vZGUgPyBjbG9uZVRvTFZpZXdGcm9tVFZpZXdCbHVlcHJpbnQodFZpZXcpIDogdFZpZXcuYmx1ZXByaW50LnNsaWNlKCk7XG4gICAgbFZpZXdbSE9TVF0gPSBob3N0O1xuICAgIGxWaWV3W0ZMQUdTXSA9IGZsYWdzIHwgNCAvKiBDcmVhdGlvbk1vZGUgKi8gfCAxMjggLyogQXR0YWNoZWQgKi8gfCA4IC8qIEZpcnN0TFZpZXdQYXNzICovO1xuICAgIHJlc2V0UHJlT3JkZXJIb29rRmxhZ3MobFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiB0Vmlldy5kZWNsVE5vZGUgJiYgcGFyZW50TFZpZXcgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Vmlldy5kZWNsVE5vZGUsIHBhcmVudExWaWV3KTtcbiAgICBsVmlld1tQQVJFTlRdID0gbFZpZXdbREVDTEFSQVRJT05fVklFV10gPSBwYXJlbnRMVmlldztcbiAgICBsVmlld1tDT05URVhUXSA9IGNvbnRleHQ7XG4gICAgbFZpZXdbUkVOREVSRVJfRkFDVE9SWV0gPSAocmVuZGVyZXJGYWN0b3J5IHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlld1tSRU5ERVJFUl9GQUNUT1JZXSwgJ1JlbmRlcmVyRmFjdG9yeSBpcyByZXF1aXJlZCcpO1xuICAgIGxWaWV3W1JFTkRFUkVSXSA9IChyZW5kZXJlciB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tSRU5ERVJFUl0pO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxWaWV3W1JFTkRFUkVSXSwgJ1JlbmRlcmVyIGlzIHJlcXVpcmVkJyk7XG4gICAgbFZpZXdbU0FOSVRJWkVSXSA9IHNhbml0aXplciB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tTQU5JVElaRVJdIHx8IG51bGw7XG4gICAgbFZpZXdbSU5KRUNUT1IkMV0gPSBpbmplY3RvciB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tJTkpFQ1RPUiQxXSB8fCBudWxsO1xuICAgIGxWaWV3W1RfSE9TVF0gPSB0SG9zdE5vZGU7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKHRWaWV3LnR5cGUgPT0gMiAvKiBFbWJlZGRlZCAqLyA/IHBhcmVudExWaWV3ICE9PSBudWxsIDogdHJ1ZSwgdHJ1ZSwgJ0VtYmVkZGVkIHZpZXdzIG11c3QgaGF2ZSBwYXJlbnRMVmlldycpO1xuICAgIGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSA9XG4gICAgICAgIHRWaWV3LnR5cGUgPT0gMiAvKiBFbWJlZGRlZCAqLyA/IHBhcmVudExWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSA6IGxWaWV3O1xuICAgIG5nRGV2TW9kZSAmJiBhdHRhY2hMVmlld0RlYnVnKGxWaWV3KTtcbiAgICByZXR1cm4gbFZpZXc7XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgdHlwZSwgbmFtZSwgYXR0cnMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgaW5kZXggIT09IDAgJiYgLy8gMCBhcmUgYm9ndXMgbm9kZXMgYW5kIHRoZXkgYXJlIE9LLiBTZWUgYGNyZWF0ZUNvbnRhaW5lclJlZmAgaW5cbiAgICAgICAgLy8gYHZpZXdfZW5naW5lX2NvbXBhdGliaWxpdHlgIGZvciBhZGRpdGlvbmFsIGNvbnRleHQuXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ1ROb2RlcyBjYW5cXCd0IGJlIGluIHRoZSBMVmlldyBoZWFkZXIuJyk7XG4gICAgLy8gS2VlcCB0aGlzIGZ1bmN0aW9uIHNob3J0LCBzbyB0aGF0IHRoZSBWTSB3aWxsIGlubGluZSBpdC5cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0UHVyZVROb2RlVHlwZSh0eXBlKTtcbiAgICBsZXQgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBpZiAodE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgdE5vZGUgPSBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGluZGV4LCB0eXBlLCBuYW1lLCBhdHRycyk7XG4gICAgICAgIGlmIChpc0luSTE4bkJsb2NrKCkpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBpbiBpMThuIGJsb2NrIHRoZW4gYWxsIGVsZW1lbnRzIHNob3VsZCBiZSBwcmUgZGVjbGFyZWQgdGhyb3VnaCBgUGxhY2Vob2xkZXJgXG4gICAgICAgICAgICAvLyBTZWUgYFROb2RlVHlwZS5QbGFjZWhvbGRlcmAgYW5kIGBMRnJhbWUuaW5JMThuYCBmb3IgbW9yZSBjb250ZXh0LlxuICAgICAgICAgICAgLy8gSWYgdGhlIGBUTm9kZWAgd2FzIG5vdCBwcmUtZGVjbGFyZWQgdGhhbiBpdCBtZWFucyBpdCB3YXMgbm90IG1lbnRpb25lZCB3aGljaCBtZWFucyBpdCB3YXNcbiAgICAgICAgICAgIC8vIHJlbW92ZWQsIHNvIHdlIG1hcmsgaXQgYXMgZGV0YWNoZWQuXG4gICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSA2NCAvKiBpc0RldGFjaGVkICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiA2NCAvKiBQbGFjZWhvbGRlciAqLykge1xuICAgICAgICB0Tm9kZS50eXBlID0gdHlwZTtcbiAgICAgICAgdE5vZGUudmFsdWUgPSBuYW1lO1xuICAgICAgICB0Tm9kZS5hdHRycyA9IGF0dHJzO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBnZXRDdXJyZW50UGFyZW50VE5vZGUoKTtcbiAgICAgICAgdE5vZGUuaW5qZWN0b3JJbmRleCA9IHBhcmVudCA9PT0gbnVsbCA/IC0xIDogcGFyZW50LmluamVjdG9ySW5kZXg7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCB0Vmlldyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpbmRleCwgdE5vZGUuaW5kZXgsICdFeHBlY3Rpbmcgc2FtZSBpbmRleCcpO1xuICAgIH1cbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIHRydWUpO1xuICAgIHJldHVybiB0Tm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVROb2RlQXRJbmRleCh0VmlldywgaW5kZXgsIHR5cGUsIG5hbWUsIGF0dHJzKSB7XG4gICAgY29uc3QgY3VycmVudFROb2RlID0gZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPaygpO1xuICAgIGNvbnN0IGlzUGFyZW50ID0gaXNDdXJyZW50VE5vZGVQYXJlbnQoKTtcbiAgICBjb25zdCBwYXJlbnQgPSBpc1BhcmVudCA/IGN1cnJlbnRUTm9kZSA6IGN1cnJlbnRUTm9kZSAmJiBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgIC8vIFBhcmVudHMgY2Fubm90IGNyb3NzIGNvbXBvbmVudCBib3VuZGFyaWVzIGJlY2F1c2UgY29tcG9uZW50cyB3aWxsIGJlIHVzZWQgaW4gbXVsdGlwbGUgcGxhY2VzLlxuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtpbmRleF0gPVxuICAgICAgICBjcmVhdGVUTm9kZSh0VmlldywgcGFyZW50LCB0eXBlLCBpbmRleCwgbmFtZSwgYXR0cnMpO1xuICAgIC8vIEFzc2lnbiBhIHBvaW50ZXIgdG8gdGhlIGZpcnN0IGNoaWxkIG5vZGUgb2YgYSBnaXZlbiB2aWV3LiBUaGUgZmlyc3Qgbm9kZSBpcyBub3QgYWx3YXlzIHRoZSBvbmVcbiAgICAvLyBhdCBpbmRleCAwLCBpbiBjYXNlIG9mIGkxOG4sIGluZGV4IDAgY2FuIGJlIHRoZSBpbnN0cnVjdGlvbiBgaTE4blN0YXJ0YCBhbmQgdGhlIGZpcnN0IG5vZGUgaGFzXG4gICAgLy8gdGhlIGluZGV4IDEgb3IgbW9yZSwgc28gd2UgY2FuJ3QganVzdCBjaGVjayBub2RlIGluZGV4LlxuICAgIGlmICh0Vmlldy5maXJzdENoaWxkID09PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LmZpcnN0Q2hpbGQgPSB0Tm9kZTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRUTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNQYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FKG1pc2tvKTogVGhpcyBsb2dpYyBsb29rcyB1bm5lY2Vzc2FyaWx5IGNvbXBsaWNhdGVkLiBDb3VsZCB3ZSBzaW1wbGlmeT9cbiAgICAgICAgICAgIGlmIChjdXJyZW50VE5vZGUuY2hpbGQgPT0gbnVsbCAmJiB0Tm9kZS5wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgaW4gdGhlIHNhbWUgdmlldywgd2hpY2ggbWVhbnMgd2UgYXJlIGFkZGluZyBjb250ZW50IG5vZGUgdG8gdGhlIHBhcmVudCB2aWV3LlxuICAgICAgICAgICAgICAgIGN1cnJlbnRUTm9kZS5jaGlsZCA9IHROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRUTm9kZS5uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gdGhlIGNhc2Ugb2YgaTE4biB0aGUgYGN1cnJlbnRUTm9kZWAgbWF5IGFscmVhZHkgYmUgbGlua2VkLCBpbiB3aGljaCBjYXNlIHdlIGRvbid0IHdhbnRcbiAgICAgICAgICAgICAgICAvLyB0byBicmVhayB0aGUgbGlua3Mgd2hpY2ggaTE4biBjcmVhdGVkLlxuICAgICAgICAgICAgICAgIGN1cnJlbnRUTm9kZS5uZXh0ID0gdE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBXaGVuIGVsZW1lbnRzIGFyZSBjcmVhdGVkIGR5bmFtaWNhbGx5IGFmdGVyIGEgdmlldyBibHVlcHJpbnQgaXMgY3JlYXRlZCAoZS5nLiB0aHJvdWdoXG4gKiBpMThuQXBwbHkoKSksIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSBibHVlcHJpbnQgZm9yIGZ1dHVyZVxuICogdGVtcGxhdGUgcGFzc2VzLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIGFzc29jaWF0ZWQgd2l0aCBgTFZpZXdgXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2AgY29udGFpbmluZyB0aGUgYmx1ZXByaW50IHRvIGFkanVzdFxuICogQHBhcmFtIG51bVNsb3RzVG9BbGxvYyBUaGUgbnVtYmVyIG9mIHNsb3RzIHRvIGFsbG9jIGluIHRoZSBMVmlldywgc2hvdWxkIGJlID4wXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIEluaXRpYWwgdmFsdWUgdG8gc3RvcmUgaW4gYmx1ZXByaW50XG4gKi9cbmZ1bmN0aW9uIGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIG51bVNsb3RzVG9BbGxvYywgaW5pdGlhbFZhbHVlKSB7XG4gICAgaWYgKG51bVNsb3RzVG9BbGxvYyA9PT0gMClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICAgICAgYXNzZXJ0U2FtZSh0VmlldywgbFZpZXdbVFZJRVddLCAnYExWaWV3YCBtdXN0IGJlIGFzc29jaWF0ZWQgd2l0aCBgVFZpZXdgIScpO1xuICAgICAgICBhc3NlcnRFcXVhbCh0Vmlldy5kYXRhLmxlbmd0aCwgbFZpZXcubGVuZ3RoLCAnRXhwZWN0aW5nIExWaWV3IHRvIGJlIHNhbWUgc2l6ZSBhcyBUVmlldycpO1xuICAgICAgICBhc3NlcnRFcXVhbCh0Vmlldy5kYXRhLmxlbmd0aCwgdFZpZXcuYmx1ZXByaW50Lmxlbmd0aCwgJ0V4cGVjdGluZyBCbHVlcHJpbnQgdG8gYmUgc2FtZSBzaXplIGFzIFRWaWV3Jyk7XG4gICAgICAgIGFzc2VydEZpcnN0VXBkYXRlUGFzcyh0Vmlldyk7XG4gICAgfVxuICAgIGNvbnN0IGFsbG9jSWR4ID0gbFZpZXcubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtU2xvdHNUb0FsbG9jOyBpKyspIHtcbiAgICAgICAgbFZpZXcucHVzaChpbml0aWFsVmFsdWUpO1xuICAgICAgICB0Vmlldy5ibHVlcHJpbnQucHVzaChpbml0aWFsVmFsdWUpO1xuICAgICAgICB0Vmlldy5kYXRhLnB1c2gobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxvY0lkeDtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIFJlbmRlclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogUHJvY2Vzc2VzIGEgdmlldyBpbiB0aGUgY3JlYXRpb24gbW9kZS4gVGhpcyBpbmNsdWRlcyBhIG51bWJlciBvZiBzdGVwcyBpbiBhIHNwZWNpZmljIG9yZGVyOlxuICogLSBjcmVhdGluZyB2aWV3IHF1ZXJ5IGZ1bmN0aW9ucyAoaWYgYW55KTtcbiAqIC0gZXhlY3V0aW5nIGEgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdGhlIGNyZWF0aW9uIG1vZGU7XG4gKiAtIHVwZGF0aW5nIHN0YXRpYyBxdWVyaWVzIChpZiBhbnkpO1xuICogLSBjcmVhdGluZyBjaGlsZCBjb21wb25lbnRzIGRlZmluZWQgaW4gYSBnaXZlbiB2aWV3LlxuICovXG5mdW5jdGlvbiByZW5kZXJWaWV3KHRWaWV3LCBsVmlldywgY29udGV4dCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpc0NyZWF0aW9uTW9kZShsVmlldyksIHRydWUsICdTaG91bGQgYmUgcnVuIGluIGNyZWF0aW9uIG1vZGUnKTtcbiAgICBlbnRlclZpZXcobFZpZXcpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZpZXdRdWVyeSA9IHRWaWV3LnZpZXdRdWVyeTtcbiAgICAgICAgaWYgKHZpZXdRdWVyeSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXhlY3V0ZVZpZXdRdWVyeUZuKDEgLyogQ3JlYXRlICovLCB2aWV3UXVlcnksIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4ZWN1dGUgYSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyB2aWV3LCBpZiBpdCBleGlzdHMuIEEgdGVtcGxhdGUgZnVuY3Rpb24gbWlnaHQgbm90IGJlXG4gICAgICAgIC8vIGRlZmluZWQgZm9yIHRoZSByb290IGNvbXBvbmVudCB2aWV3cy5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVGbiA9IHRWaWV3LnRlbXBsYXRlO1xuICAgICAgICBpZiAodGVtcGxhdGVGbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXhlY3V0ZVRlbXBsYXRlKHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgMSAvKiBDcmVhdGUgKi8sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgc2V0IGJlZm9yZSBjaGlsZHJlbiBhcmUgcHJvY2Vzc2VkIHRvIHN1cHBvcnQgcmVjdXJzaXZlIGNvbXBvbmVudHMuXG4gICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzZXQgdG8gZmFsc2UgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGZpcnN0IGNyZWF0aW9uIHJ1biBiZWNhdXNlIGluIGFuXG4gICAgICAgIC8vIG5nRm9yIGxvb3AsIGFsbCB0aGUgdmlld3Mgd2lsbCBiZSBjcmVhdGVkIHRvZ2V0aGVyIGJlZm9yZSB1cGRhdGUgbW9kZSBydW5zIGFuZCB0dXJuc1xuICAgICAgICAvLyBvZmYgZmlyc3RDcmVhdGVQYXNzLiBJZiB3ZSBkb24ndCBzZXQgaXQgaGVyZSwgaW5zdGFuY2VzIHdpbGwgcGVyZm9ybSBkaXJlY3RpdmVcbiAgICAgICAgLy8gbWF0Y2hpbmcsIGV0YyBhZ2FpbiBhbmQgYWdhaW4uXG4gICAgICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgICAgIHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHJlc29sdmUgY29udGVudCBxdWVyaWVzIHNwZWNpZmljYWxseSBtYXJrZWQgYXMgYHN0YXRpY2AgaW4gY3JlYXRpb24gbW9kZS4gRHluYW1pY1xuICAgICAgICAvLyBjb250ZW50IHF1ZXJpZXMgYXJlIHJlc29sdmVkIGR1cmluZyBjaGFuZ2UgZGV0ZWN0aW9uIChpLmUuIHVwZGF0ZSBtb2RlKSwgYWZ0ZXIgZW1iZWRkZWRcbiAgICAgICAgLy8gdmlld3MgYXJlIHJlZnJlc2hlZCAoc2VlIGJsb2NrIGFib3ZlKS5cbiAgICAgICAgaWYgKHRWaWV3LnN0YXRpY0NvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgICAgICByZWZyZXNoQ29udGVudFF1ZXJpZXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtdXN0IG1hdGVyaWFsaXplIHF1ZXJ5IHJlc3VsdHMgYmVmb3JlIGNoaWxkIGNvbXBvbmVudHMgYXJlIHByb2Nlc3NlZFxuICAgICAgICAvLyBpbiBjYXNlIGEgY2hpbGQgY29tcG9uZW50IGhhcyBwcm9qZWN0ZWQgYSBjb250YWluZXIuIFRoZSBMQ29udGFpbmVyIG5lZWRzXG4gICAgICAgIC8vIHRvIGV4aXN0IHNvIHRoZSBlbWJlZGRlZCB2aWV3cyBhcmUgcHJvcGVybHkgYXR0YWNoZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgICAgaWYgKHRWaWV3LnN0YXRpY1ZpZXdRdWVyaWVzKSB7XG4gICAgICAgICAgICBleGVjdXRlVmlld1F1ZXJ5Rm4oMiAvKiBVcGRhdGUgKi8sIHRWaWV3LnZpZXdRdWVyeSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVuZGVyIGNoaWxkIGNvbXBvbmVudCB2aWV3cy5cbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHRWaWV3LmNvbXBvbmVudHM7XG4gICAgICAgIGlmIChjb21wb25lbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZW5kZXJDaGlsZENvbXBvbmVudHMobFZpZXcsIGNvbXBvbmVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgbWFuYWdlIHRvIGdldCBwYXN0IHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzIGR1ZSB0b1xuICAgICAgICAvLyBhbiBlcnJvciwgbWFyayB0aGUgdmlldyBhcyBjb3JydXB0ZWQgc28gd2UgY2FuIHRyeSB0byByZWNvdmVyLlxuICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgICAgICB0Vmlldy5pbmNvbXBsZXRlRmlyc3RQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgbFZpZXdbRkxBR1NdICY9IH40IC8qIENyZWF0aW9uTW9kZSAqLztcbiAgICAgICAgbGVhdmVWaWV3KCk7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9jZXNzZXMgYSB2aWV3IGluIHVwZGF0ZSBtb2RlLiBUaGlzIGluY2x1ZGVzIGEgbnVtYmVyIG9mIHN0ZXBzIGluIGEgc3BlY2lmaWMgb3JkZXI6XG4gKiAtIGV4ZWN1dGluZyBhIHRlbXBsYXRlIGZ1bmN0aW9uIGluIHVwZGF0ZSBtb2RlO1xuICogLSBleGVjdXRpbmcgaG9va3M7XG4gKiAtIHJlZnJlc2hpbmcgcXVlcmllcztcbiAqIC0gc2V0dGluZyBob3N0IGJpbmRpbmdzO1xuICogLSByZWZyZXNoaW5nIGNoaWxkIChlbWJlZGRlZCBhbmQgY29tcG9uZW50KSB2aWV3cy5cbiAqL1xuZnVuY3Rpb24gcmVmcmVzaFZpZXcodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBjb250ZXh0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGlzQ3JlYXRpb25Nb2RlKGxWaWV3KSwgZmFsc2UsICdTaG91bGQgYmUgcnVuIGluIHVwZGF0ZSBtb2RlJyk7XG4gICAgY29uc3QgZmxhZ3MgPSBsVmlld1tGTEFHU107XG4gICAgaWYgKChmbGFncyAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pID09PSAyNTYgLyogRGVzdHJveWVkICovKVxuICAgICAgICByZXR1cm47XG4gICAgZW50ZXJWaWV3KGxWaWV3KTtcbiAgICAvLyBDaGVjayBubyBjaGFuZ2VzIG1vZGUgaXMgYSBkZXYgb25seSBtb2RlIHVzZWQgdG8gdmVyaWZ5IHRoYXQgYmluZGluZ3MgaGF2ZSBub3QgY2hhbmdlZFxuICAgIC8vIHNpbmNlIHRoZXkgd2VyZSBhc3NpZ25lZC4gV2UgZG8gbm90IHdhbnQgdG8gZXhlY3V0ZSBsaWZlY3ljbGUgaG9va3MgaW4gdGhhdCBtb2RlLlxuICAgIGNvbnN0IGlzSW5DaGVja05vQ2hhbmdlc1Bhc3MgPSBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzZXRQcmVPcmRlckhvb2tGbGFncyhsVmlldyk7XG4gICAgICAgIHNldEJpbmRpbmdJbmRleCh0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZUZuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCAyIC8qIFVwZGF0ZSAqLywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaG9va3NJbml0UGhhc2VDb21wbGV0ZWQgPSAoZmxhZ3MgJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovO1xuICAgICAgICAvLyBleGVjdXRlIHByZS1vcmRlciBob29rcyAoT25Jbml0LCBPbkNoYW5nZXMsIERvQ2hlY2spXG4gICAgICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlT3JkZXJDaGVja0hvb2tzID0gdFZpZXcucHJlT3JkZXJDaGVja0hvb2tzO1xuICAgICAgICAgICAgICAgIGlmIChwcmVPcmRlckNoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIHByZU9yZGVyQ2hlY2tIb29rcywgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlT3JkZXJIb29rcyA9IHRWaWV3LnByZU9yZGVySG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHByZU9yZGVySG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBwcmVPcmRlckhvb2tzLCAwIC8qIE9uSW5pdEhvb2tzVG9CZVJ1biAqLywgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCAwIC8qIE9uSW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlyc3QgbWFyayB0cmFuc3BsYW50ZWQgdmlld3MgdGhhdCBhcmUgZGVjbGFyZWQgaW4gdGhpcyBsVmlldyBhcyBuZWVkaW5nIGEgcmVmcmVzaCBhdCB0aGVpclxuICAgICAgICAvLyBpbnNlcnRpb24gcG9pbnRzLiBUaGlzIGlzIG5lZWRlZCB0byBhdm9pZCB0aGUgc2l0dWF0aW9uIHdoZXJlIHRoZSB0ZW1wbGF0ZSBpcyBkZWZpbmVkIGluIHRoaXNcbiAgICAgICAgLy8gYExWaWV3YCBidXQgaXRzIGRlY2xhcmF0aW9uIGFwcGVhcnMgYWZ0ZXIgdGhlIGluc2VydGlvbiBjb21wb25lbnQuXG4gICAgICAgIG1hcmtUcmFuc3BsYW50ZWRWaWV3c0ZvclJlZnJlc2gobFZpZXcpO1xuICAgICAgICByZWZyZXNoRW1iZWRkZWRWaWV3cyhsVmlldyk7XG4gICAgICAgIC8vIENvbnRlbnQgcXVlcnkgcmVzdWx0cyBtdXN0IGJlIHJlZnJlc2hlZCBiZWZvcmUgY29udGVudCBob29rcyBhcmUgY2FsbGVkLlxuICAgICAgICBpZiAodFZpZXcuY29udGVudFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlZnJlc2hDb250ZW50UXVlcmllcyh0VmlldywgbFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4ZWN1dGUgY29udGVudCBob29rcyAoQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJDb250ZW50Q2hlY2tlZClcbiAgICAgICAgLy8gUEVSRiBXQVJOSU5HOiBkbyBOT1QgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gd2l0aG91dCBydW5uaW5nIGJlbmNobWFya3NcbiAgICAgICAgaWYgKCFpc0luQ2hlY2tOb0NoYW5nZXNQYXNzKSB7XG4gICAgICAgICAgICBpZiAoaG9va3NJbml0UGhhc2VDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50Q2hlY2tIb29rcyA9IHRWaWV3LmNvbnRlbnRDaGVja0hvb2tzO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50Q2hlY2tIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgY29udGVudENoZWNrSG9va3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRIb29rcyA9IHRWaWV3LmNvbnRlbnRIb29rcztcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudEhvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgY29udGVudEhvb2tzLCAxIC8qIEFmdGVyQ29udGVudEluaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRJbml0UGhhc2VGbGFncyhsVmlldywgMSAvKiBBZnRlckNvbnRlbnRJbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzSG9zdEJpbmRpbmdPcENvZGVzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIC8vIFJlZnJlc2ggY2hpbGQgY29tcG9uZW50IHZpZXdzLlxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdFZpZXcuY29tcG9uZW50cztcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlZnJlc2hDaGlsZENvbXBvbmVudHMobFZpZXcsIGNvbXBvbmVudHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZpZXcgcXVlcmllcyBtdXN0IGV4ZWN1dGUgYWZ0ZXIgcmVmcmVzaGluZyBjaGlsZCBjb21wb25lbnRzIGJlY2F1c2UgYSB0ZW1wbGF0ZSBpbiB0aGlzIHZpZXdcbiAgICAgICAgLy8gY291bGQgYmUgaW5zZXJ0ZWQgaW4gYSBjaGlsZCBjb21wb25lbnQuIElmIHRoZSB2aWV3IHF1ZXJ5IGV4ZWN1dGVzIGJlZm9yZSBjaGlsZCBjb21wb25lbnRcbiAgICAgICAgLy8gcmVmcmVzaCwgdGhlIHRlbXBsYXRlIG1pZ2h0IG5vdCB5ZXQgYmUgaW5zZXJ0ZWQuXG4gICAgICAgIGNvbnN0IHZpZXdRdWVyeSA9IHRWaWV3LnZpZXdRdWVyeTtcbiAgICAgICAgaWYgKHZpZXdRdWVyeSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXhlY3V0ZVZpZXdRdWVyeUZuKDIgLyogVXBkYXRlICovLCB2aWV3UXVlcnksIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4ZWN1dGUgdmlldyBob29rcyAoQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZClcbiAgICAgICAgLy8gUEVSRiBXQVJOSU5HOiBkbyBOT1QgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gd2l0aG91dCBydW5uaW5nIGJlbmNobWFya3NcbiAgICAgICAgaWYgKCFpc0luQ2hlY2tOb0NoYW5nZXNQYXNzKSB7XG4gICAgICAgICAgICBpZiAoaG9va3NJbml0UGhhc2VDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3Q2hlY2tIb29rcyA9IHRWaWV3LnZpZXdDaGVja0hvb2tzO1xuICAgICAgICAgICAgICAgIGlmICh2aWV3Q2hlY2tIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgdmlld0NoZWNrSG9va3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdIb29rcyA9IHRWaWV3LnZpZXdIb29rcztcbiAgICAgICAgICAgICAgICBpZiAodmlld0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgdmlld0hvb2tzLCAyIC8qIEFmdGVyVmlld0luaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRJbml0UGhhc2VGbGFncyhsVmlldywgMiAvKiBBZnRlclZpZXdJbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodFZpZXcuZmlyc3RVcGRhdGVQYXNzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIG9ubHkgZmxpcCB0aGUgZmxhZyBvbiBzdWNjZXNzZnVsIGByZWZyZXNoVmlld2Agb25seVxuICAgICAgICAgICAgLy8gRG9uJ3QgZG8gdGhpcyBpbiBgZmluYWxseWAgYmxvY2suXG4gICAgICAgICAgICAvLyBJZiB3ZSBkaWQgdGhpcyBpbiBgZmluYWxseWAgYmxvY2sgdGhlbiBhbiBleGNlcHRpb24gY291bGQgYmxvY2sgdGhlIGV4ZWN1dGlvbiBvZiBzdHlsaW5nXG4gICAgICAgICAgICAvLyBpbnN0cnVjdGlvbnMgd2hpY2ggaW4gdHVybiB3b3VsZCBiZSB1bmFibGUgdG8gaW5zZXJ0IHRoZW1zZWx2ZXMgaW50byB0aGUgc3R5bGluZyBsaW5rZWRcbiAgICAgICAgICAgIC8vIGxpc3QuIFRoZSByZXN1bHQgb2YgdGhpcyB3b3VsZCBiZSB0aGF0IGlmIHRoZSBleGNlcHRpb24gd291bGQgbm90IGJlIHRocm93IG9uIHN1YnNlcXVlbnQgQ0RcbiAgICAgICAgICAgIC8vIHRoZSBzdHlsaW5nIHdvdWxkIGJlIHVuYWJsZSB0byBwcm9jZXNzIGl0IGRhdGEgYW5kIHJlZmxlY3QgdG8gdGhlIERPTS5cbiAgICAgICAgICAgIHRWaWV3LmZpcnN0VXBkYXRlUGFzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIG5vdCByZXNldCB0aGUgZGlydHkgc3RhdGUgd2hlbiBydW5uaW5nIGluIGNoZWNrIG5vIGNoYW5nZXMgbW9kZS4gV2UgZG9uJ3Qgd2FudCBjb21wb25lbnRzXG4gICAgICAgIC8vIHRvIGJlaGF2ZSBkaWZmZXJlbnRseSBkZXBlbmRpbmcgb24gd2hldGhlciBjaGVjayBubyBjaGFuZ2VzIGlzIGVuYWJsZWQgb3Igbm90LiBGb3IgZXhhbXBsZTpcbiAgICAgICAgLy8gTWFya2luZyBhbiBPblB1c2ggY29tcG9uZW50IGFzIGRpcnR5IGZyb20gd2l0aGluIHRoZSBgbmdBZnRlclZpZXdJbml0YCBob29rIGluIG9yZGVyIHRvXG4gICAgICAgIC8vIHJlZnJlc2ggYSBgTmdDbGFzc2AgYmluZGluZyBzaG91bGQgd29yay4gSWYgd2Ugd291bGQgcmVzZXQgdGhlIGRpcnR5IHN0YXRlIGluIHRoZSBjaGVja1xuICAgICAgICAvLyBubyBjaGFuZ2VzIGN5Y2xlLCB0aGUgY29tcG9uZW50IHdvdWxkIGJlIG5vdCBiZSBkaXJ0eSBmb3IgdGhlIG5leHQgdXBkYXRlIHBhc3MuIFRoaXMgd291bGRcbiAgICAgICAgLy8gYmUgZGlmZmVyZW50IGluIHByb2R1Y3Rpb24gbW9kZSB3aGVyZSB0aGUgY29tcG9uZW50IGRpcnR5IHN0YXRlIGlzIG5vdCByZXNldC5cbiAgICAgICAgaWYgKCFpc0luQ2hlY2tOb0NoYW5nZXNQYXNzKSB7XG4gICAgICAgICAgICBsVmlld1tGTEFHU10gJj0gfig2NCAvKiBEaXJ0eSAqLyB8IDggLyogRmlyc3RMVmlld1Bhc3MgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsVmlld1tGTEFHU10gJiAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovKSB7XG4gICAgICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi87XG4gICAgICAgICAgICB1cGRhdGVUcmFuc3BsYW50ZWRWaWV3Q291bnQobFZpZXdbUEFSRU5UXSwgLTEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRPclRlbXBsYXRlKHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgY29udGV4dCkge1xuICAgIGNvbnN0IHJlbmRlcmVyRmFjdG9yeSA9IGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldO1xuICAgIGNvbnN0IG5vcm1hbEV4ZWN1dGlvblBhdGggPSAhaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpO1xuICAgIGNvbnN0IGNyZWF0aW9uTW9kZUlzQWN0aXZlID0gaXNDcmVhdGlvbk1vZGUobFZpZXcpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChub3JtYWxFeGVjdXRpb25QYXRoICYmICFjcmVhdGlvbk1vZGVJc0FjdGl2ZSAmJiByZW5kZXJlckZhY3RvcnkuYmVnaW4pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5iZWdpbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcmVhdGlvbk1vZGVJc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmVuZGVyVmlldyh0VmlldywgbFZpZXcsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJlZnJlc2hWaWV3KHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgY29udGV4dCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAobm9ybWFsRXhlY3V0aW9uUGF0aCAmJiAhY3JlYXRpb25Nb2RlSXNBY3RpdmUgJiYgcmVuZGVyZXJGYWN0b3J5LmVuZCkge1xuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmVuZCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZXhlY3V0ZVRlbXBsYXRlKHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgcmYsIGNvbnRleHQpIHtcbiAgICBjb25zdCBwcmV2U2VsZWN0ZWRJbmRleCA9IGdldFNlbGVjdGVkSW5kZXgoKTtcbiAgICBjb25zdCBpc1VwZGF0ZVBoYXNlID0gcmYgJiAyIC8qIFVwZGF0ZSAqLztcbiAgICB0cnkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcbiAgICAgICAgaWYgKGlzVXBkYXRlUGhhc2UgJiYgbFZpZXcubGVuZ3RoID4gSEVBREVSX09GRlNFVCkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSdyZSB1cGRhdGluZywgaW5oZXJlbnRseSBzZWxlY3QgMCBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaGF2ZSB0byBnZW5lcmF0ZSB0aGF0IGluc3RydWN0aW9uIGZvciBtb3N0IHVwZGF0ZSBibG9ja3MuXG4gICAgICAgICAgICBzZWxlY3RJbmRleEludGVybmFsKHRWaWV3LCBsVmlldywgSEVBREVSX09GRlNFVCwgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmVIb29rVHlwZSA9IGlzVXBkYXRlUGhhc2UgPyAyIC8qIFRlbXBsYXRlVXBkYXRlU3RhcnQgKi8gOiAwIC8qIFRlbXBsYXRlQ3JlYXRlU3RhcnQgKi87XG4gICAgICAgIHByb2ZpbGVyKHByZUhvb2tUeXBlLCBjb250ZXh0KTtcbiAgICAgICAgdGVtcGxhdGVGbihyZiwgY29udGV4dCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KHByZXZTZWxlY3RlZEluZGV4KTtcbiAgICAgICAgY29uc3QgcG9zdEhvb2tUeXBlID0gaXNVcGRhdGVQaGFzZSA/IDMgLyogVGVtcGxhdGVVcGRhdGVFbmQgKi8gOiAxIC8qIFRlbXBsYXRlQ3JlYXRlRW5kICovO1xuICAgICAgICBwcm9maWxlcihwb3N0SG9va1R5cGUsIGNvbnRleHQpO1xuICAgIH1cbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIEVsZW1lbnRcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBleGVjdXRlQ29udGVudFF1ZXJpZXModFZpZXcsIHROb2RlLCBsVmlldykge1xuICAgIGlmIChpc0NvbnRlbnRRdWVyeUhvc3QodE5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICAgICAgZm9yIChsZXQgZGlyZWN0aXZlSW5kZXggPSBzdGFydDsgZGlyZWN0aXZlSW5kZXggPCBlbmQ7IGRpcmVjdGl2ZUluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbZGlyZWN0aXZlSW5kZXhdO1xuICAgICAgICAgICAgaWYgKGRlZi5jb250ZW50UXVlcmllcykge1xuICAgICAgICAgICAgICAgIGRlZi5jb250ZW50UXVlcmllcygxIC8qIENyZWF0ZSAqLywgbFZpZXdbZGlyZWN0aXZlSW5kZXhdLCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgZGlyZWN0aXZlIGluc3RhbmNlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKSB7XG4gICAgaWYgKCFnZXRCaW5kaW5nc0VuYWJsZWQoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldykpO1xuICAgIGlmICgodE5vZGUuZmxhZ3MgJiAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovKSA9PT0gMTI4IC8qIGhhc0hvc3RCaW5kaW5ncyAqLykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVzSG9zdEJpbmRpbmdzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogVGFrZXMgYSBsaXN0IG9mIGxvY2FsIG5hbWVzIGFuZCBpbmRpY2VzIGFuZCBwdXNoZXMgdGhlIHJlc29sdmVkIGxvY2FsIHZhcmlhYmxlIHZhbHVlc1xuICogdG8gTFZpZXcgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhleSBhcmUgbG9hZGVkIGluIHRoZSB0ZW1wbGF0ZSB3aXRoIGxvYWQoKS5cbiAqL1xuZnVuY3Rpb24gc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKHZpZXdEYXRhLCB0Tm9kZSwgbG9jYWxSZWZFeHRyYWN0b3IgPSBnZXROYXRpdmVCeVROb2RlKSB7XG4gICAgY29uc3QgbG9jYWxOYW1lcyA9IHROb2RlLmxvY2FsTmFtZXM7XG4gICAgaWYgKGxvY2FsTmFtZXMgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IGxvY2FsSW5kZXggPSB0Tm9kZS5pbmRleCArIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsb2NhbE5hbWVzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5kZXggPT09IC0xID9cbiAgICAgICAgICAgICAgICBsb2NhbFJlZkV4dHJhY3Rvcih0Tm9kZSwgdmlld0RhdGEpIDpcbiAgICAgICAgICAgICAgICB2aWV3RGF0YVtpbmRleF07XG4gICAgICAgICAgICB2aWV3RGF0YVtsb2NhbEluZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEdldHMgVFZpZXcgZnJvbSBhIHRlbXBsYXRlIGZ1bmN0aW9uIG9yIGNyZWF0ZXMgYSBuZXcgVFZpZXdcbiAqIGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdC5cbiAqXG4gKiBAcGFyYW0gZGVmIENvbXBvbmVudERlZlxuICogQHJldHVybnMgVFZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyhkZWYpIHtcbiAgICBjb25zdCB0VmlldyA9IGRlZi50VmlldztcbiAgICAvLyBDcmVhdGUgYSBUVmlldyBpZiB0aGVyZSBpc24ndCBvbmUsIG9yIHJlY3JlYXRlIGl0IGlmIHRoZSBmaXJzdCBjcmVhdGUgcGFzcyBkaWRuJ3RcbiAgICAvLyBjb21wbGV0ZSBzdWNjZXNzZnVsbHkgc2luY2Ugd2UgY2FuJ3Qga25vdyBmb3Igc3VyZSB3aGV0aGVyIGl0J3MgaW4gYSB1c2FibGUgc2hhcGUuXG4gICAgaWYgKHRWaWV3ID09PSBudWxsIHx8IHRWaWV3LmluY29tcGxldGVGaXJzdFBhc3MpIHtcbiAgICAgICAgLy8gRGVjbGFyYXRpb24gbm9kZSBoZXJlIGlzIG51bGwgc2luY2UgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB3ZSBkeW5hbWljYWxseSBjcmVhdGUgYVxuICAgICAgICAvLyBjb21wb25lbnQgYW5kIGhlbmNlIHRoZXJlIGlzIG5vIGRlY2xhcmF0aW9uLlxuICAgICAgICBjb25zdCBkZWNsVE5vZGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gZGVmLnRWaWV3ID0gY3JlYXRlVFZpZXcoMSAvKiBDb21wb25lbnQgKi8sIGRlY2xUTm9kZSwgZGVmLnRlbXBsYXRlLCBkZWYuZGVjbHMsIGRlZi52YXJzLCBkZWYuZGlyZWN0aXZlRGVmcywgZGVmLnBpcGVEZWZzLCBkZWYudmlld1F1ZXJ5LCBkZWYuc2NoZW1hcywgZGVmLmNvbnN0cyk7XG4gICAgfVxuICAgIHJldHVybiB0Vmlldztcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFRWaWV3IGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHR5cGUgVHlwZSBvZiBgVFZpZXdgLlxuICogQHBhcmFtIGRlY2xUTm9kZSBEZWNsYXJhdGlvbiBsb2NhdGlvbiBvZiB0aGlzIGBUVmlld2AuXG4gKiBAcGFyYW0gdGVtcGxhdGVGbiBUZW1wbGF0ZSBmdW5jdGlvblxuICogQHBhcmFtIGRlY2xzIFRoZSBudW1iZXIgb2Ygbm9kZXMsIGxvY2FsIHJlZnMsIGFuZCBwaXBlcyBpbiB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0gZGlyZWN0aXZlcyBSZWdpc3RyeSBvZiBkaXJlY3RpdmVzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSBwaXBlcyBSZWdpc3RyeSBvZiBwaXBlcyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0gdmlld1F1ZXJ5IFZpZXcgcXVlcmllcyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0gc2NoZW1hcyBTY2hlbWFzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSBjb25zdHMgQ29uc3RhbnRzIGZvciB0aGlzIHZpZXdcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVFZpZXcodHlwZSwgZGVjbFROb2RlLCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgZGlyZWN0aXZlcywgcGlwZXMsIHZpZXdRdWVyeSwgc2NoZW1hcywgY29uc3RzT3JGYWN0b3J5KSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS50VmlldysrO1xuICAgIGNvbnN0IGJpbmRpbmdTdGFydEluZGV4ID0gSEVBREVSX09GRlNFVCArIGRlY2xzO1xuICAgIC8vIFRoaXMgbGVuZ3RoIGRvZXMgbm90IHlldCBjb250YWluIGhvc3QgYmluZGluZ3MgZnJvbSBjaGlsZCBkaXJlY3RpdmVzIGJlY2F1c2UgYXQgdGhpcyBwb2ludCxcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIGRpcmVjdGl2ZXMgYXJlIGFjdGl2ZSBvbiB0aGlzIHRlbXBsYXRlLiBBcyBzb29uIGFzIGEgZGlyZWN0aXZlIGlzIG1hdGNoZWRcbiAgICAvLyB0aGF0IGhhcyBhIGhvc3QgYmluZGluZywgd2Ugd2lsbCB1cGRhdGUgdGhlIGJsdWVwcmludCB3aXRoIHRoYXQgZGVmJ3MgaG9zdFZhcnMgY291bnQuXG4gICAgY29uc3QgaW5pdGlhbFZpZXdMZW5ndGggPSBiaW5kaW5nU3RhcnRJbmRleCArIHZhcnM7XG4gICAgY29uc3QgYmx1ZXByaW50ID0gY3JlYXRlVmlld0JsdWVwcmludChiaW5kaW5nU3RhcnRJbmRleCwgaW5pdGlhbFZpZXdMZW5ndGgpO1xuICAgIGNvbnN0IGNvbnN0cyA9IHR5cGVvZiBjb25zdHNPckZhY3RvcnkgPT09ICdmdW5jdGlvbicgPyBjb25zdHNPckZhY3RvcnkoKSA6IGNvbnN0c09yRmFjdG9yeTtcbiAgICBjb25zdCB0VmlldyA9IGJsdWVwcmludFtUVklFV10gPSBuZ0Rldk1vZGUgP1xuICAgICAgICBuZXcgVFZpZXdDb25zdHJ1Y3Rvcih0eXBlLCAvLyB0eXBlOiBUVmlld1R5cGUsXG4gICAgICAgIGJsdWVwcmludCwgLy8gYmx1ZXByaW50OiBMVmlldyxcbiAgICAgICAgdGVtcGxhdGVGbiwgLy8gdGVtcGxhdGU6IENvbXBvbmVudFRlbXBsYXRlPHt9PnxudWxsLFxuICAgICAgICBudWxsLCAvLyBxdWVyaWVzOiBUUXVlcmllc3xudWxsXG4gICAgICAgIHZpZXdRdWVyeSwgLy8gdmlld1F1ZXJ5OiBWaWV3UXVlcmllc0Z1bmN0aW9uPHt9PnxudWxsLFxuICAgICAgICBkZWNsVE5vZGUsIC8vIGRlY2xUTm9kZTogVE5vZGV8bnVsbCxcbiAgICAgICAgY2xvbmVUb1RWaWV3RGF0YShibHVlcHJpbnQpLmZpbGwobnVsbCwgYmluZGluZ1N0YXJ0SW5kZXgpLCAvLyBkYXRhOiBURGF0YSxcbiAgICAgICAgYmluZGluZ1N0YXJ0SW5kZXgsIC8vIGJpbmRpbmdTdGFydEluZGV4OiBudW1iZXIsXG4gICAgICAgIGluaXRpYWxWaWV3TGVuZ3RoLCAvLyBleHBhbmRvU3RhcnRJbmRleDogbnVtYmVyLFxuICAgICAgICBudWxsLCAvLyBob3N0QmluZGluZ09wQ29kZXM6IEhvc3RCaW5kaW5nT3BDb2RlcyxcbiAgICAgICAgdHJ1ZSwgLy8gZmlyc3RDcmVhdGVQYXNzOiBib29sZWFuLFxuICAgICAgICB0cnVlLCAvLyBmaXJzdFVwZGF0ZVBhc3M6IGJvb2xlYW4sXG4gICAgICAgIGZhbHNlLCAvLyBzdGF0aWNWaWV3UXVlcmllczogYm9vbGVhbixcbiAgICAgICAgZmFsc2UsIC8vIHN0YXRpY0NvbnRlbnRRdWVyaWVzOiBib29sZWFuLFxuICAgICAgICBudWxsLCAvLyBwcmVPcmRlckhvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBwcmVPcmRlckNoZWNrSG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNvbnRlbnRIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29udGVudENoZWNrSG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIHZpZXdIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gdmlld0NoZWNrSG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGRlc3Ryb3lIb29rczogRGVzdHJveUhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNsZWFudXA6IGFueVtdfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNvbnRlbnRRdWVyaWVzOiBudW1iZXJbXXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb21wb25lbnRzOiBudW1iZXJbXXxudWxsLFxuICAgICAgICB0eXBlb2YgZGlyZWN0aXZlcyA9PT0gJ2Z1bmN0aW9uJyA/IC8vXG4gICAgICAgICAgICBkaXJlY3RpdmVzKCkgOiAvL1xuICAgICAgICAgICAgZGlyZWN0aXZlcywgLy8gZGlyZWN0aXZlUmVnaXN0cnk6IERpcmVjdGl2ZURlZkxpc3R8bnVsbCxcbiAgICAgICAgdHlwZW9mIHBpcGVzID09PSAnZnVuY3Rpb24nID8gcGlwZXMoKSA6IHBpcGVzLCAvLyBwaXBlUmVnaXN0cnk6IFBpcGVEZWZMaXN0fG51bGwsXG4gICAgICAgIG51bGwsIC8vIGZpcnN0Q2hpbGQ6IFROb2RlfG51bGwsXG4gICAgICAgIHNjaGVtYXMsIC8vIHNjaGVtYXM6IFNjaGVtYU1ldGFkYXRhW118bnVsbCxcbiAgICAgICAgY29uc3RzLCAvLyBjb25zdHM6IFRDb25zdGFudHN8bnVsbFxuICAgICAgICBmYWxzZSwgLy8gaW5jb21wbGV0ZUZpcnN0UGFzczogYm9vbGVhblxuICAgICAgICBkZWNscywgLy8gbmdEZXZNb2RlIG9ubHk6IGRlY2xzXG4gICAgICAgIHZhcnMpIDpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGJsdWVwcmludDogYmx1ZXByaW50LFxuICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlRm4sXG4gICAgICAgICAgICBxdWVyaWVzOiBudWxsLFxuICAgICAgICAgICAgdmlld1F1ZXJ5OiB2aWV3UXVlcnksXG4gICAgICAgICAgICBkZWNsVE5vZGU6IGRlY2xUTm9kZSxcbiAgICAgICAgICAgIGRhdGE6IGJsdWVwcmludC5zbGljZSgpLmZpbGwobnVsbCwgYmluZGluZ1N0YXJ0SW5kZXgpLFxuICAgICAgICAgICAgYmluZGluZ1N0YXJ0SW5kZXg6IGJpbmRpbmdTdGFydEluZGV4LFxuICAgICAgICAgICAgZXhwYW5kb1N0YXJ0SW5kZXg6IGluaXRpYWxWaWV3TGVuZ3RoLFxuICAgICAgICAgICAgaG9zdEJpbmRpbmdPcENvZGVzOiBudWxsLFxuICAgICAgICAgICAgZmlyc3RDcmVhdGVQYXNzOiB0cnVlLFxuICAgICAgICAgICAgZmlyc3RVcGRhdGVQYXNzOiB0cnVlLFxuICAgICAgICAgICAgc3RhdGljVmlld1F1ZXJpZXM6IGZhbHNlLFxuICAgICAgICAgICAgc3RhdGljQ29udGVudFF1ZXJpZXM6IGZhbHNlLFxuICAgICAgICAgICAgcHJlT3JkZXJIb29rczogbnVsbCxcbiAgICAgICAgICAgIHByZU9yZGVyQ2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRIb29rczogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRDaGVja0hvb2tzOiBudWxsLFxuICAgICAgICAgICAgdmlld0hvb2tzOiBudWxsLFxuICAgICAgICAgICAgdmlld0NoZWNrSG9va3M6IG51bGwsXG4gICAgICAgICAgICBkZXN0cm95SG9va3M6IG51bGwsXG4gICAgICAgICAgICBjbGVhbnVwOiBudWxsLFxuICAgICAgICAgICAgY29udGVudFF1ZXJpZXM6IG51bGwsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBudWxsLFxuICAgICAgICAgICAgZGlyZWN0aXZlUmVnaXN0cnk6IHR5cGVvZiBkaXJlY3RpdmVzID09PSAnZnVuY3Rpb24nID8gZGlyZWN0aXZlcygpIDogZGlyZWN0aXZlcyxcbiAgICAgICAgICAgIHBpcGVSZWdpc3RyeTogdHlwZW9mIHBpcGVzID09PSAnZnVuY3Rpb24nID8gcGlwZXMoKSA6IHBpcGVzLFxuICAgICAgICAgICAgZmlyc3RDaGlsZDogbnVsbCxcbiAgICAgICAgICAgIHNjaGVtYXM6IHNjaGVtYXMsXG4gICAgICAgICAgICBjb25zdHM6IGNvbnN0cyxcbiAgICAgICAgICAgIGluY29tcGxldGVGaXJzdFBhc3M6IGZhbHNlXG4gICAgICAgIH07XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgdFZpZXcgcmV0YWlucyB0aGUgc2FtZSBzaGFwZSBkdXJpbmcgcnVudGltZS5cbiAgICAgICAgLy8gKFRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBvZiB0aGUgY29kZSBpcyBtb25vbW9ycGhpYy4pIEZvciB0aGlzIHJlYXNvbiB3ZSBzZWFsIHRoZSBvYmplY3QgdG9cbiAgICAgICAgLy8gcHJldmVudCBjbGFzcyB0cmFuc2l0aW9ucy5cbiAgICAgICAgT2JqZWN0LnNlYWwodFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gdFZpZXc7XG59XG5mdW5jdGlvbiBjcmVhdGVWaWV3Qmx1ZXByaW50KGJpbmRpbmdTdGFydEluZGV4LCBpbml0aWFsVmlld0xlbmd0aCkge1xuICAgIGNvbnN0IGJsdWVwcmludCA9IG5nRGV2TW9kZSA/IG5ldyBMVmlld0JsdWVwcmludCgpIDogW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsVmlld0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJsdWVwcmludC5wdXNoKGkgPCBiaW5kaW5nU3RhcnRJbmRleCA/IG51bGwgOiBOT19DSEFOR0UpO1xuICAgIH1cbiAgICByZXR1cm4gYmx1ZXByaW50O1xufVxuZnVuY3Rpb24gY3JlYXRlRXJyb3IodGV4dCwgdG9rZW4pIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBSZW5kZXJlcjogJHt0ZXh0fSBbJHtzdHJpbmdpZnlGb3JFcnJvcih0b2tlbil9XWApO1xufVxuZnVuY3Rpb24gYXNzZXJ0SG9zdE5vZGVFeGlzdHMockVsZW1lbnQsIGVsZW1lbnRPclNlbGVjdG9yKSB7XG4gICAgaWYgKCFyRWxlbWVudCkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRPclNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0hvc3Qgbm9kZSB3aXRoIHNlbGVjdG9yIG5vdCBmb3VuZDonLCBlbGVtZW50T3JTZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSG9zdCBub2RlIGlzIHJlcXVpcmVkOicsIGVsZW1lbnRPclNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgaG9zdCBuYXRpdmUgZWxlbWVudCwgdXNlZCBmb3IgYm9vdHN0cmFwcGluZyBleGlzdGluZyBub2RlcyBpbnRvIHJlbmRlcmluZyBwaXBlbGluZS5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXJGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIHJlbmRlcmVyIGluc3RhbmNlLlxuICogQHBhcmFtIGVsZW1lbnRPclNlbGVjdG9yIFJlbmRlciBlbGVtZW50IG9yIENTUyBzZWxlY3RvciB0byBsb2NhdGUgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0gZW5jYXBzdWxhdGlvbiBWaWV3IEVuY2Fwc3VsYXRpb24gZGVmaW5lZCBmb3IgY29tcG9uZW50IHRoYXQgcmVxdWVzdHMgaG9zdCBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBsb2NhdGVIb3N0RWxlbWVudChyZW5kZXJlciwgZWxlbWVudE9yU2VsZWN0b3IsIGVuY2Fwc3VsYXRpb24pIHtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIC8vIFdoZW4gdXNpbmcgbmF0aXZlIFNoYWRvdyBET00sIGRvIG5vdCBjbGVhciBob3N0IGVsZW1lbnQgdG8gYWxsb3cgbmF0aXZlIHNsb3QgcHJvamVjdGlvblxuICAgICAgICBjb25zdCBwcmVzZXJ2ZUNvbnRlbnQgPSBlbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbiQxLlNoYWRvd0RvbTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50KGVsZW1lbnRPclNlbGVjdG9yLCBwcmVzZXJ2ZUNvbnRlbnQpO1xuICAgIH1cbiAgICBsZXQgckVsZW1lbnQgPSB0eXBlb2YgZWxlbWVudE9yU2VsZWN0b3IgPT09ICdzdHJpbmcnID9cbiAgICAgICAgcmVuZGVyZXIucXVlcnlTZWxlY3RvcihlbGVtZW50T3JTZWxlY3RvcikgOlxuICAgICAgICBlbGVtZW50T3JTZWxlY3RvcjtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SG9zdE5vZGVFeGlzdHMockVsZW1lbnQsIGVsZW1lbnRPclNlbGVjdG9yKTtcbiAgICAvLyBBbHdheXMgY2xlYXIgaG9zdCBlbGVtZW50J3MgY29udGVudCB3aGVuIFJlbmRlcmVyMyBpcyBpbiB1c2UuIEZvciBwcm9jZWR1cmFsIHJlbmRlcmVyIGNhc2Ugd2VcbiAgICAvLyBtYWtlIGl0IGRlcGVuZCBvbiB3aGV0aGVyIFNoYWRvd0RvbSBlbmNhcHN1bGF0aW9uIGlzIHVzZWQgKGluIHdoaWNoIGNhc2UgdGhlIGNvbnRlbnQgc2hvdWxkIGJlXG4gICAgLy8gcHJlc2VydmVkIHRvIGFsbG93IG5hdGl2ZSBzbG90IHByb2plY3Rpb24pLiBTaGFkb3dEb20gZW5jYXBzdWxhdGlvbiByZXF1aXJlcyBwcm9jZWR1cmFsXG4gICAgLy8gcmVuZGVyZXIsIGFuZCBwcm9jZWR1cmFsIHJlbmRlcmVyIGNhc2UgaXMgaGFuZGxlZCBhYm92ZS5cbiAgICByRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHJldHVybiByRWxlbWVudDtcbn1cbi8qKlxuICogU2F2ZXMgY29udGV4dCBmb3IgdGhpcyBjbGVhbnVwIGZ1bmN0aW9uIGluIExWaWV3LmNsZWFudXBJbnN0YW5jZXMuXG4gKlxuICogT24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MsIHNhdmVzIGluIFRWaWV3OlxuICogLSBDbGVhbnVwIGZ1bmN0aW9uXG4gKiAtIEluZGV4IG9mIGNvbnRleHQgd2UganVzdCBzYXZlZCBpbiBMVmlldy5jbGVhbnVwSW5zdGFuY2VzXG4gKlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYWxzbyBiZSB1c2VkIHRvIHN0b3JlIGluc3RhbmNlIHNwZWNpZmljIGNsZWFudXAgZm5zLiBJbiB0aGF0IGNhc2UgdGhlIGBjb250ZXh0YFxuICogaXMgYG51bGxgIGFuZCB0aGUgZnVuY3Rpb24gaXMgc3RvcmUgaW4gYExWaWV3YCAocmF0aGVyIHRoYW4gaXQgYFRWaWV3YCkuXG4gKi9cbmZ1bmN0aW9uIHN0b3JlQ2xlYW51cFdpdGhDb250ZXh0KHRWaWV3LCBsVmlldywgY29udGV4dCwgY2xlYW51cEZuKSB7XG4gICAgY29uc3QgbENsZWFudXAgPSBnZXRPckNyZWF0ZUxWaWV3Q2xlYW51cChsVmlldyk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgLy8gSWYgY29udGV4dCBpcyBudWxsIHRoYXQgdGhpcyBpcyBpbnN0YW5jZSBzcGVjaWZpYyBjYWxsYmFjay4gVGhlc2UgY2FsbGJhY2tzIGNhbiBvbmx5IGJlXG4gICAgICAgIC8vIGluc2VydGVkIGFmdGVyIHRlbXBsYXRlIHNoYXJlZCBpbnN0YW5jZXMuIEZvciB0aGlzIHJlYXNvbiBpbiBuZ0Rldk1vZGUgd2UgZnJlZXplIHRoZSBUVmlldy5cbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0VmlldykpO1xuICAgICAgICB9XG4gICAgICAgIGxDbGVhbnVwLnB1c2goY2xlYW51cEZuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxDbGVhbnVwLnB1c2goY29udGV4dCk7XG4gICAgICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgICAgIGdldE9yQ3JlYXRlVFZpZXdDbGVhbnVwKHRWaWV3KS5wdXNoKGNsZWFudXBGbiwgbENsZWFudXAubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVUTm9kZSh0VmlldywgdFBhcmVudCwgdHlwZSwgaW5kZXgsIHZhbHVlLCBhdHRycykge1xuICAgIG5nRGV2TW9kZSAmJiBpbmRleCAhPT0gMCAmJiAvLyAwIGFyZSBib2d1cyBub2RlcyBhbmQgdGhleSBhcmUgT0suIFNlZSBgY3JlYXRlQ29udGFpbmVyUmVmYCBpblxuICAgICAgICAvLyBgdmlld19lbmdpbmVfY29tcGF0aWJpbGl0eWAgZm9yIGFkZGl0aW9uYWwgY29udGV4dC5cbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGluZGV4LCBIRUFERVJfT0ZGU0VULCAnVE5vZGVzIGNhblxcJ3QgYmUgaW4gdGhlIExWaWV3IGhlYWRlci4nKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90U2FtZShhdHRycywgdW5kZWZpbmVkLCAnXFwndW5kZWZpbmVkXFwnIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3IgXFwnYXR0cnNcXCcnKTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnROb2RlKys7XG4gICAgbmdEZXZNb2RlICYmIHRQYXJlbnQgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0UGFyZW50LCB0Vmlldyk7XG4gICAgbGV0IGluamVjdG9ySW5kZXggPSB0UGFyZW50ID8gdFBhcmVudC5pbmplY3RvckluZGV4IDogLTE7XG4gICAgY29uc3QgdE5vZGUgPSBuZ0Rldk1vZGUgP1xuICAgICAgICBuZXcgVE5vZGVEZWJ1Zyh0VmlldywgLy8gdFZpZXdfOiBUVmlld1xuICAgICAgICB0eXBlLCAvLyB0eXBlOiBUTm9kZVR5cGVcbiAgICAgICAgaW5kZXgsIC8vIGluZGV4OiBudW1iZXJcbiAgICAgICAgbnVsbCwgLy8gaW5zZXJ0QmVmb3JlSW5kZXg6IG51bGx8LTF8bnVtYmVyfG51bWJlcltdXG4gICAgICAgIGluamVjdG9ySW5kZXgsIC8vIGluamVjdG9ySW5kZXg6IG51bWJlclxuICAgICAgICAtMSwgLy8gZGlyZWN0aXZlU3RhcnQ6IG51bWJlclxuICAgICAgICAtMSwgLy8gZGlyZWN0aXZlRW5kOiBudW1iZXJcbiAgICAgICAgLTEsIC8vIGRpcmVjdGl2ZVN0eWxpbmdMYXN0OiBudW1iZXJcbiAgICAgICAgbnVsbCwgLy8gcHJvcGVydHlCaW5kaW5nczogbnVtYmVyW118bnVsbFxuICAgICAgICAwLCAvLyBmbGFnczogVE5vZGVGbGFnc1xuICAgICAgICAwLCAvLyBwcm92aWRlckluZGV4ZXM6IFROb2RlUHJvdmlkZXJJbmRleGVzXG4gICAgICAgIHZhbHVlLCAvLyB2YWx1ZTogc3RyaW5nfG51bGxcbiAgICAgICAgYXR0cnMsIC8vIGF0dHJzOiAoc3RyaW5nfEF0dHJpYnV0ZU1hcmtlcnwoc3RyaW5nfFNlbGVjdG9yRmxhZ3MpW10pW118bnVsbFxuICAgICAgICBudWxsLCAvLyBtZXJnZWRBdHRyc1xuICAgICAgICBudWxsLCAvLyBsb2NhbE5hbWVzOiAoc3RyaW5nfG51bWJlcilbXXxudWxsXG4gICAgICAgIHVuZGVmaW5lZCwgLy8gaW5pdGlhbElucHV0czogKHN0cmluZ1tdfG51bGwpW118bnVsbHx1bmRlZmluZWRcbiAgICAgICAgbnVsbCwgLy8gaW5wdXRzOiBQcm9wZXJ0eUFsaWFzZXN8bnVsbFxuICAgICAgICBudWxsLCAvLyBvdXRwdXRzOiBQcm9wZXJ0eUFsaWFzZXN8bnVsbFxuICAgICAgICBudWxsLCAvLyB0Vmlld3M6IElUVmlld3xJVFZpZXdbXXxudWxsXG4gICAgICAgIG51bGwsIC8vIG5leHQ6IElUTm9kZXxudWxsXG4gICAgICAgIG51bGwsIC8vIHByb2plY3Rpb25OZXh0OiBJVE5vZGV8bnVsbFxuICAgICAgICBudWxsLCAvLyBjaGlsZDogSVROb2RlfG51bGxcbiAgICAgICAgdFBhcmVudCwgLy8gcGFyZW50OiBURWxlbWVudE5vZGV8VENvbnRhaW5lck5vZGV8bnVsbFxuICAgICAgICBudWxsLCAvLyBwcm9qZWN0aW9uOiBudW1iZXJ8KElUTm9kZXxSTm9kZVtdKVtdfG51bGxcbiAgICAgICAgbnVsbCwgLy8gc3R5bGVzOiBzdHJpbmd8bnVsbFxuICAgICAgICBudWxsLCAvLyBzdHlsZXNXaXRob3V0SG9zdDogc3RyaW5nfG51bGxcbiAgICAgICAgdW5kZWZpbmVkLCAvLyByZXNpZHVhbFN0eWxlczogc3RyaW5nfG51bGxcbiAgICAgICAgbnVsbCwgLy8gY2xhc3Nlczogc3RyaW5nfG51bGxcbiAgICAgICAgbnVsbCwgLy8gY2xhc3Nlc1dpdGhvdXRIb3N0OiBzdHJpbmd8bnVsbFxuICAgICAgICB1bmRlZmluZWQsIC8vIHJlc2lkdWFsQ2xhc3Nlczogc3RyaW5nfG51bGxcbiAgICAgICAgMCwgLy8gY2xhc3NCaW5kaW5nczogVFN0eWxpbmdSYW5nZTtcbiAgICAgICAgMCkgOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBpbnNlcnRCZWZvcmVJbmRleDogbnVsbCxcbiAgICAgICAgICAgIGluamVjdG9ySW5kZXgsXG4gICAgICAgICAgICBkaXJlY3RpdmVTdGFydDogLTEsXG4gICAgICAgICAgICBkaXJlY3RpdmVFbmQ6IC0xLFxuICAgICAgICAgICAgZGlyZWN0aXZlU3R5bGluZ0xhc3Q6IC0xLFxuICAgICAgICAgICAgcHJvcGVydHlCaW5kaW5nczogbnVsbCxcbiAgICAgICAgICAgIGZsYWdzOiAwLFxuICAgICAgICAgICAgcHJvdmlkZXJJbmRleGVzOiAwLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgYXR0cnM6IGF0dHJzLFxuICAgICAgICAgICAgbWVyZ2VkQXR0cnM6IG51bGwsXG4gICAgICAgICAgICBsb2NhbE5hbWVzOiBudWxsLFxuICAgICAgICAgICAgaW5pdGlhbElucHV0czogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaW5wdXRzOiBudWxsLFxuICAgICAgICAgICAgb3V0cHV0czogbnVsbCxcbiAgICAgICAgICAgIHRWaWV3czogbnVsbCxcbiAgICAgICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0aW9uTmV4dDogbnVsbCxcbiAgICAgICAgICAgIGNoaWxkOiBudWxsLFxuICAgICAgICAgICAgcGFyZW50OiB0UGFyZW50LFxuICAgICAgICAgICAgcHJvamVjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIHN0eWxlczogbnVsbCxcbiAgICAgICAgICAgIHN0eWxlc1dpdGhvdXRIb3N0OiBudWxsLFxuICAgICAgICAgICAgcmVzaWR1YWxTdHlsZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNsYXNzZXM6IG51bGwsXG4gICAgICAgICAgICBjbGFzc2VzV2l0aG91dEhvc3Q6IG51bGwsXG4gICAgICAgICAgICByZXNpZHVhbENsYXNzZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNsYXNzQmluZGluZ3M6IDAsXG4gICAgICAgICAgICBzdHlsZUJpbmRpbmdzOiAwLFxuICAgICAgICB9O1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgLy8gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHROb2RlIHJldGFpbnMgdGhlIHNhbWUgc2hhcGUgZHVyaW5nIHJ1bnRpbWUuXG4gICAgICAgIC8vIChUbyBtYWtlIHN1cmUgdGhhdCBhbGwgb2YgdGhlIGNvZGUgaXMgbW9ub21vcnBoaWMuKSBGb3IgdGhpcyByZWFzb24gd2Ugc2VhbCB0aGUgb2JqZWN0IHRvXG4gICAgICAgIC8vIHByZXZlbnQgY2xhc3MgdHJhbnNpdGlvbnMuXG4gICAgICAgIE9iamVjdC5zZWFsKHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVQcm9wZXJ0eUFsaWFzZXMoaW5wdXRBbGlhc01hcCwgZGlyZWN0aXZlRGVmSWR4LCBwcm9wU3RvcmUpIHtcbiAgICBmb3IgKGxldCBwdWJsaWNOYW1lIGluIGlucHV0QWxpYXNNYXApIHtcbiAgICAgICAgaWYgKGlucHV0QWxpYXNNYXAuaGFzT3duUHJvcGVydHkocHVibGljTmFtZSkpIHtcbiAgICAgICAgICAgIHByb3BTdG9yZSA9IHByb3BTdG9yZSA9PT0gbnVsbCA/IHt9IDogcHJvcFN0b3JlO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJuYWxOYW1lID0gaW5wdXRBbGlhc01hcFtwdWJsaWNOYW1lXTtcbiAgICAgICAgICAgIGlmIChwcm9wU3RvcmUuaGFzT3duUHJvcGVydHkocHVibGljTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9wU3RvcmVbcHVibGljTmFtZV0ucHVzaChkaXJlY3RpdmVEZWZJZHgsIGludGVybmFsTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAocHJvcFN0b3JlW3B1YmxpY05hbWVdID0gW2RpcmVjdGl2ZURlZklkeCwgaW50ZXJuYWxOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BTdG9yZTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgZGF0YSBzdHJ1Y3R1cmVzIHJlcXVpcmVkIHRvIHdvcmsgd2l0aCBkaXJlY3RpdmUgaW5wdXRzIGFuZCBvdXRwdXRzLlxuICogSW5pdGlhbGl6YXRpb24gaXMgZG9uZSBmb3IgYWxsIGRpcmVjdGl2ZXMgbWF0Y2hlZCBvbiBhIGdpdmVuIFROb2RlLlxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplSW5wdXRBbmRPdXRwdXRBbGlhc2VzKHRWaWV3LCB0Tm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGNvbnN0IHRWaWV3RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgY29uc3QgdE5vZGVBdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIGNvbnN0IGlucHV0c0Zyb21BdHRycyA9IG5nRGV2TW9kZSA/IG5ldyBUTm9kZUluaXRpYWxJbnB1dHMoKSA6IFtdO1xuICAgIGxldCBpbnB1dHNTdG9yZSA9IG51bGw7XG4gICAgbGV0IG91dHB1dHNTdG9yZSA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmID0gdFZpZXdEYXRhW2ldO1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVJbnB1dHMgPSBkaXJlY3RpdmVEZWYuaW5wdXRzO1xuICAgICAgICAvLyBEbyBub3QgdXNlIHVuYm91bmQgYXR0cmlidXRlcyBhcyBpbnB1dHMgdG8gc3RydWN0dXJhbCBkaXJlY3RpdmVzLCBzaW5jZSBzdHJ1Y3R1cmFsXG4gICAgICAgIC8vIGRpcmVjdGl2ZSBpbnB1dHMgY2FuIG9ubHkgYmUgc2V0IHVzaW5nIG1pY3Jvc3ludGF4IChlLmcuIGA8ZGl2ICpkaXI9XCJleHBcIj5gKS5cbiAgICAgICAgLy8gVE9ETyhGVy0xOTMwKTogbWljcm9zeW50YXggZXhwcmVzc2lvbnMgbWF5IGFsc28gY29udGFpbiB1bmJvdW5kL3N0YXRpYyBhdHRyaWJ1dGVzLCB3aGljaFxuICAgICAgICAvLyBzaG91bGQgYmUgc2V0IGZvciBpbmxpbmUgdGVtcGxhdGVzLlxuICAgICAgICBjb25zdCBpbml0aWFsSW5wdXRzID0gKHROb2RlQXR0cnMgIT09IG51bGwgJiYgIWlzSW5saW5lVGVtcGxhdGUodE5vZGUpKSA/XG4gICAgICAgICAgICBnZW5lcmF0ZUluaXRpYWxJbnB1dHMoZGlyZWN0aXZlSW5wdXRzLCB0Tm9kZUF0dHJzKSA6XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICBpbnB1dHNGcm9tQXR0cnMucHVzaChpbml0aWFsSW5wdXRzKTtcbiAgICAgICAgaW5wdXRzU3RvcmUgPSBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyhkaXJlY3RpdmVJbnB1dHMsIGksIGlucHV0c1N0b3JlKTtcbiAgICAgICAgb3V0cHV0c1N0b3JlID0gZ2VuZXJhdGVQcm9wZXJ0eUFsaWFzZXMoZGlyZWN0aXZlRGVmLm91dHB1dHMsIGksIG91dHB1dHNTdG9yZSk7XG4gICAgfVxuICAgIGlmIChpbnB1dHNTdG9yZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoaW5wdXRzU3RvcmUuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykpIHtcbiAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDE2IC8qIGhhc0NsYXNzSW5wdXQgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0c1N0b3JlLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XG4gICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSAzMiAvKiBoYXNTdHlsZUlucHV0ICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHROb2RlLmluaXRpYWxJbnB1dHMgPSBpbnB1dHNGcm9tQXR0cnM7XG4gICAgdE5vZGUuaW5wdXRzID0gaW5wdXRzU3RvcmU7XG4gICAgdE5vZGUub3V0cHV0cyA9IG91dHB1dHNTdG9yZTtcbn1cbi8qKlxuICogTWFwcGluZyBiZXR3ZWVuIGF0dHJpYnV0ZXMgbmFtZXMgdGhhdCBkb24ndCBjb3JyZXNwb25kIHRvIHRoZWlyIGVsZW1lbnQgcHJvcGVydHkgbmFtZXMuXG4gKlxuICogUGVyZm9ybWFuY2Ugbm90ZTogdGhpcyBmdW5jdGlvbiBpcyB3cml0dGVuIGFzIGEgc2VyaWVzIG9mIGlmIGNoZWNrcyAoaW5zdGVhZCBvZiwgc2F5LCBhIHByb3BlcnR5XG4gKiBvYmplY3QgbG9va3VwKSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAtIHRoZSBzZXJpZXMgb2YgYGlmYCBjaGVja3Mgc2VlbXMgdG8gYmUgdGhlIGZhc3Rlc3Qgd2F5IG9mXG4gKiBtYXBwaW5nIHByb3BlcnR5IG5hbWVzLiBEbyBOT1QgY2hhbmdlIHdpdGhvdXQgYmVuY2htYXJraW5nLlxuICpcbiAqIE5vdGU6IHRoaXMgbWFwcGluZyBoYXMgdG8gYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIGVxdWFsbHkgbmFtZWQgbWFwcGluZyBpbiB0aGUgdGVtcGxhdGVcbiAqIHR5cGUtY2hlY2tpbmcgbWFjaGluZXJ5IG9mIG5ndHNjLlxuICovXG5mdW5jdGlvbiBtYXBQcm9wTmFtZShuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT09ICdjbGFzcycpXG4gICAgICAgIHJldHVybiAnY2xhc3NOYW1lJztcbiAgICBpZiAobmFtZSA9PT0gJ2ZvcicpXG4gICAgICAgIHJldHVybiAnaHRtbEZvcic7XG4gICAgaWYgKG5hbWUgPT09ICdmb3JtYWN0aW9uJylcbiAgICAgICAgcmV0dXJuICdmb3JtQWN0aW9uJztcbiAgICBpZiAobmFtZSA9PT0gJ2lubmVySHRtbCcpXG4gICAgICAgIHJldHVybiAnaW5uZXJIVE1MJztcbiAgICBpZiAobmFtZSA9PT0gJ3JlYWRvbmx5JylcbiAgICAgICAgcmV0dXJuICdyZWFkT25seSc7XG4gICAgaWYgKG5hbWUgPT09ICd0YWJpbmRleCcpXG4gICAgICAgIHJldHVybiAndGFiSW5kZXgnO1xuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCByZW5kZXJlciwgc2FuaXRpemVyLCBuYXRpdmVPbmx5KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdFNhbWUodmFsdWUsIE5PX0NIQU5HRSwgJ0luY29taW5nIHZhbHVlIHNob3VsZCBuZXZlciBiZSBOT19DSEFOR0UuJyk7XG4gICAgY29uc3QgZWxlbWVudCA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICBsZXQgaW5wdXREYXRhID0gdE5vZGUuaW5wdXRzO1xuICAgIGxldCBkYXRhVmFsdWU7XG4gICAgaWYgKCFuYXRpdmVPbmx5ICYmIGlucHV0RGF0YSAhPSBudWxsICYmIChkYXRhVmFsdWUgPSBpbnB1dERhdGFbcHJvcE5hbWVdKSkge1xuICAgICAgICBzZXRJbnB1dHNGb3JQcm9wZXJ0eSh0VmlldywgbFZpZXcsIGRhdGFWYWx1ZSwgcHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50SG9zdCh0Tm9kZSkpXG4gICAgICAgICAgICBtYXJrRGlydHlJZk9uUHVzaChsVmlldywgdE5vZGUuaW5kZXgpO1xuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBzZXROZ1JlZmxlY3RQcm9wZXJ0aWVzKGxWaWV3LCBlbGVtZW50LCB0Tm9kZS50eXBlLCBkYXRhVmFsdWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgMyAvKiBBbnlSTm9kZSAqLykge1xuICAgICAgICBwcm9wTmFtZSA9IG1hcFByb3BOYW1lKHByb3BOYW1lKTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgdmFsaWRhdGVBZ2FpbnN0RXZlbnRQcm9wZXJ0aWVzKHByb3BOYW1lKTtcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVQcm9wZXJ0eSh0VmlldywgZWxlbWVudCwgcHJvcE5hbWUsIHROb2RlKSkge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBoZXJlIHNpbmNlIHdlIG9ubHkgbG9nIHdhcm5pbmdzIGZvciB1bmtub3duIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgbG9nVW5rbm93blByb3BlcnR5RXJyb3IocHJvcE5hbWUsIHROb2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ0Rldk1vZGUucmVuZGVyZXJTZXRQcm9wZXJ0eSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgc2FuaXRpemVyIGlzIG9ubHkgYWRkZWQgd2hlbiB0aGUgY29tcGlsZXIgZGV0ZXJtaW5lcyB0aGF0IHRoZVxuICAgICAgICAvLyBwcm9wZXJ0eSBpcyByaXNreSwgc28gc2FuaXRpemF0aW9uIGNhbiBiZSBkb25lIHdpdGhvdXQgZnVydGhlciBjaGVja3MuXG4gICAgICAgIHZhbHVlID0gc2FuaXRpemVyICE9IG51bGwgPyBzYW5pdGl6ZXIodmFsdWUsIHROb2RlLnZhbHVlIHx8ICcnLCBwcm9wTmFtZSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0UHJvcGVydHkoZWxlbWVudCwgcHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXNBbmltYXRpb25Qcm9wKHByb3BOYW1lKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRQcm9wZXJ0eSA/IGVsZW1lbnQuc2V0UHJvcGVydHkocHJvcE5hbWUsIHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgZWxlbWVudFtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgMTIgLyogQW55Q29udGFpbmVyICovKSB7XG4gICAgICAgIC8vIElmIHRoZSBub2RlIGlzIGEgY29udGFpbmVyIGFuZCB0aGUgcHJvcGVydHkgZGlkbid0XG4gICAgICAgIC8vIG1hdGNoIGFueSBvZiB0aGUgaW5wdXRzIG9yIHNjaGVtYXMgd2Ugc2hvdWxkIHRocm93LlxuICAgICAgICBpZiAobmdEZXZNb2RlICYmICFtYXRjaGluZ1NjaGVtYXModFZpZXcsIHROb2RlLnZhbHVlKSkge1xuICAgICAgICAgICAgbG9nVW5rbm93blByb3BlcnR5RXJyb3IocHJvcE5hbWUsIHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBJZiBub2RlIGlzIGFuIE9uUHVzaCBjb21wb25lbnQsIG1hcmtzIGl0cyBMVmlldyBkaXJ0eS4gKi9cbmZ1bmN0aW9uIG1hcmtEaXJ0eUlmT25QdXNoKGxWaWV3LCB2aWV3SW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcobFZpZXcpO1xuICAgIGNvbnN0IGNoaWxkQ29tcG9uZW50TFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodmlld0luZGV4LCBsVmlldyk7XG4gICAgaWYgKCEoY2hpbGRDb21wb25lbnRMVmlld1tGTEFHU10gJiAxNiAvKiBDaGVja0Fsd2F5cyAqLykpIHtcbiAgICAgICAgY2hpbGRDb21wb25lbnRMVmlld1tGTEFHU10gfD0gNjQgLyogRGlydHkgKi87XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0TmdSZWZsZWN0UHJvcGVydHkobFZpZXcsIGVsZW1lbnQsIHR5cGUsIGF0dHJOYW1lLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGF0dHJOYW1lID0gbm9ybWFsaXplRGVidWdCaW5kaW5nTmFtZShhdHRyTmFtZSk7XG4gICAgY29uc3QgZGVidWdWYWx1ZSA9IG5vcm1hbGl6ZURlYnVnQmluZGluZ1ZhbHVlKHZhbHVlKTtcbiAgICBpZiAodHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCBhdHRyTmFtZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lLCBkZWJ1Z1ZhbHVlKSA6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGRlYnVnVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IGVzY2FwZUNvbW1lbnRUZXh0KGBiaW5kaW5ncz0ke0pTT04uc3RyaW5naWZ5KHsgW2F0dHJOYW1lXTogZGVidWdWYWx1ZSB9LCBudWxsLCAyKX1gKTtcbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0VmFsdWUoZWxlbWVudCwgdGV4dENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0TmdSZWZsZWN0UHJvcGVydGllcyhsVmlldywgZWxlbWVudCwgdHlwZSwgZGF0YVZhbHVlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCA0IC8qIENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRhdGFWYWx1ZSBpcyBhbiBhcnJheSBjb250YWluaW5nIHJ1bnRpbWUgaW5wdXQgb3Igb3V0cHV0IG5hbWVzIGZvciB0aGUgZGlyZWN0aXZlczpcbiAgICAgICAgICogaSswOiBkaXJlY3RpdmUgaW5zdGFuY2UgaW5kZXhcbiAgICAgICAgICogaSsxOiBwcml2YXRlTmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBlLmcuIFswLCAnY2hhbmdlJywgJ2NoYW5nZS1taW5pZmllZCddXG4gICAgICAgICAqIHdlIHdhbnQgdG8gc2V0IHRoZSByZWZsZWN0ZWQgcHJvcGVydHkgd2l0aCB0aGUgcHJpdmF0ZU5hbWU6IGRhdGFWYWx1ZVtpKzFdXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFWYWx1ZS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgc2V0TmdSZWZsZWN0UHJvcGVydHkobFZpZXcsIGVsZW1lbnQsIHR5cGUsIGRhdGFWYWx1ZVtpICsgMV0sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHkodFZpZXcsIGVsZW1lbnQsIHByb3BOYW1lLCB0Tm9kZSkge1xuICAgIC8vIElmIGBzY2hlbWFzYCBpcyBzZXQgdG8gYG51bGxgLCB0aGF0J3MgYW4gaW5kaWNhdGlvbiB0aGF0IHRoaXMgQ29tcG9uZW50IHdhcyBjb21waWxlZCBpbiBBT1RcbiAgICAvLyBtb2RlIHdoZXJlIHRoaXMgY2hlY2sgaGFwcGVucyBhdCBjb21waWxlIHRpbWUuIEluIEpJVCBtb2RlLCBgc2NoZW1hc2AgaXMgYWx3YXlzIHByZXNlbnQgYW5kXG4gICAgLy8gZGVmaW5lZCBhcyBhbiBhcnJheSAoYXMgYW4gZW1wdHkgYXJyYXkgaW4gY2FzZSBgc2NoZW1hc2AgZmllbGQgaXMgbm90IGRlZmluZWQpIGFuZCB3ZSBzaG91bGRcbiAgICAvLyBleGVjdXRlIHRoZSBjaGVjayBiZWxvdy5cbiAgICBpZiAodFZpZXcuc2NoZW1hcyA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gVGhlIHByb3BlcnR5IGlzIGNvbnNpZGVyZWQgdmFsaWQgaWYgdGhlIGVsZW1lbnQgbWF0Y2hlcyB0aGUgc2NoZW1hLCBpdCBleGlzdHMgb24gdGhlIGVsZW1lbnRcbiAgICAvLyBvciBpdCBpcyBzeW50aGV0aWMsIGFuZCB3ZSBhcmUgaW4gYSBicm93c2VyIGNvbnRleHQgKHdlYiB3b3JrZXIgbm9kZXMgc2hvdWxkIGJlIHNraXBwZWQpLlxuICAgIGlmIChtYXRjaGluZ1NjaGVtYXModFZpZXcsIHROb2RlLnZhbHVlKSB8fCBwcm9wTmFtZSBpbiBlbGVtZW50IHx8IGlzQW5pbWF0aW9uUHJvcChwcm9wTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIE5vdGU6IGB0eXBlb2YgTm9kZWAgcmV0dXJucyAnZnVuY3Rpb24nIGluIG1vc3QgYnJvd3NlcnMsIGJ1dCBvbiBJRSBpdCBpcyAnb2JqZWN0JyBzbyB3ZVxuICAgIC8vIG5lZWQgdG8gYWNjb3VudCBmb3IgYm90aCBoZXJlLCB3aGlsZSBiZWluZyBjYXJlZnVsIGZvciBgdHlwZW9mIG51bGxgIGFsc28gcmV0dXJuaW5nICdvYmplY3QnLlxuICAgIHJldHVybiB0eXBlb2YgTm9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgTm9kZSA9PT0gbnVsbCB8fCAhKGVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlKTtcbn1cbmZ1bmN0aW9uIG1hdGNoaW5nU2NoZW1hcyh0VmlldywgdGFnTmFtZSkge1xuICAgIGNvbnN0IHNjaGVtYXMgPSB0Vmlldy5zY2hlbWFzO1xuICAgIGlmIChzY2hlbWFzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tpXTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEgPT09IE5PX0VSUk9SU19TQ0hFTUEgfHxcbiAgICAgICAgICAgICAgICBzY2hlbWEgPT09IENVU1RPTV9FTEVNRU5UU19TQ0hFTUEgJiYgdGFnTmFtZSAmJiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBMb2dzIGFuIGVycm9yIHRoYXQgYSBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIG9uIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0gcHJvcE5hbWUgTmFtZSBvZiB0aGUgaW52YWxpZCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB0Tm9kZSBOb2RlIG9uIHdoaWNoIHdlIGVuY291bnRlcmVkIHRoZSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gbG9nVW5rbm93blByb3BlcnR5RXJyb3IocHJvcE5hbWUsIHROb2RlKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBgQ2FuJ3QgYmluZCB0byAnJHtwcm9wTmFtZX0nIHNpbmNlIGl0IGlzbid0IGEga25vd24gcHJvcGVydHkgb2YgJyR7dE5vZGUudmFsdWV9Jy5gO1xuICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0UnVudGltZUVycm9yKDMwMyAvKiBVTktOT1dOX0JJTkRJTkcgKi8sIG1lc3NhZ2UpKTtcbn1cbi8qKlxuICogSW5zdGFudGlhdGUgYSByb290IGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gaW5zdGFudGlhdGVSb290Q29tcG9uZW50KHRWaWV3LCBsVmlldywgZGVmKSB7XG4gICAgY29uc3Qgcm9vdFROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBpZiAoZGVmLnByb3ZpZGVyc1Jlc29sdmVyKVxuICAgICAgICAgICAgZGVmLnByb3ZpZGVyc1Jlc29sdmVyKGRlZik7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4ID0gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgMSwgbnVsbCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwoZGlyZWN0aXZlSW5kZXgsIHJvb3RUTm9kZS5kaXJlY3RpdmVTdGFydCwgJ0JlY2F1c2UgdGhpcyBpcyBhIHJvb3QgY29tcG9uZW50IHRoZSBhbGxvY2F0ZWQgZXhwYW5kbyBzaG91bGQgbWF0Y2ggdGhlIFROb2RlIGNvbXBvbmVudC4nKTtcbiAgICAgICAgY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUodFZpZXcsIHJvb3RUTm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBkZWYpO1xuICAgIH1cbiAgICBjb25zdCBkaXJlY3RpdmUgPSBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgdFZpZXcsIHJvb3RUTm9kZS5kaXJlY3RpdmVTdGFydCwgcm9vdFROb2RlKTtcbiAgICBhdHRhY2hQYXRjaERhdGEoZGlyZWN0aXZlLCBsVmlldyk7XG4gICAgY29uc3QgbmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShyb290VE5vZGUsIGxWaWV3KTtcbiAgICBpZiAobmF0aXZlKSB7XG4gICAgICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcbn1cbi8qKlxuICogUmVzb2x2ZSB0aGUgbWF0Y2hlZCBkaXJlY3RpdmVzIG9uIGEgbm9kZS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgbG9jYWxSZWZzKSB7XG4gICAgLy8gUGxlYXNlIG1ha2Ugc3VyZSB0byBoYXZlIGV4cGxpY2l0IHR5cGUgZm9yIGBleHBvcnRzTWFwYC4gSW5mZXJyZWQgdHlwZSB0cmlnZ2VycyBidWcgaW5cbiAgICAvLyB0c2lja2xlLlxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGxldCBoYXNEaXJlY3RpdmVzID0gZmFsc2U7XG4gICAgaWYgKGdldEJpbmRpbmdzRW5hYmxlZCgpKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZnMgPSBmaW5kRGlyZWN0aXZlRGVmTWF0Y2hlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICAgICAgY29uc3QgZXhwb3J0c01hcCA9IGxvY2FsUmVmcyA9PT0gbnVsbCA/IG51bGwgOiB7ICcnOiAtMSB9O1xuICAgICAgICBpZiAoZGlyZWN0aXZlRGVmcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGFzRGlyZWN0aXZlcyA9IHRydWU7XG4gICAgICAgICAgICBpbml0VE5vZGVGbGFncyh0Tm9kZSwgdFZpZXcuZGF0YS5sZW5ndGgsIGRpcmVjdGl2ZURlZnMubGVuZ3RoKTtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNhbWUgdG9rZW4gaXMgcHJvdmlkZWQgYnkgc2V2ZXJhbCBkaXJlY3RpdmVzIG9uIHRoZSBzYW1lIG5vZGUsIHNvbWUgcnVsZXMgYXBwbHkgaW5cbiAgICAgICAgICAgIC8vIHRoZSB2aWV3RW5naW5lOlxuICAgICAgICAgICAgLy8gLSB2aWV3UHJvdmlkZXJzIGhhdmUgcHJpb3JpdHkgb3ZlciBwcm92aWRlcnNcbiAgICAgICAgICAgIC8vIC0gdGhlIGxhc3QgZGlyZWN0aXZlIGluIE5nTW9kdWxlLmRlY2xhcmF0aW9ucyBoYXMgcHJpb3JpdHkgb3ZlciB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgICAgICAvLyBTbyB0byBtYXRjaCB0aGVzZSBydWxlcywgdGhlIG9yZGVyIGluIHdoaWNoIHByb3ZpZGVycyBhcmUgYWRkZWQgaW4gdGhlIGFycmF5cyBpcyB2ZXJ5XG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZURlZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWYgPSBkaXJlY3RpdmVEZWZzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChkZWYucHJvdmlkZXJzUmVzb2x2ZXIpXG4gICAgICAgICAgICAgICAgICAgIGRlZi5wcm92aWRlcnNSZXNvbHZlcihkZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHByZU9yZGVySG9va3NGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aXZlSWR4ID0gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgZGlyZWN0aXZlRGVmcy5sZW5ndGgsIG51bGwpO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0U2FtZShkaXJlY3RpdmVJZHgsIHROb2RlLmRpcmVjdGl2ZVN0YXJ0LCAnVE5vZGUuZGlyZWN0aXZlU3RhcnQgc2hvdWxkIHBvaW50IHRvIGp1c3QgYWxsb2NhdGVkIHNwYWNlJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZURlZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWYgPSBkaXJlY3RpdmVEZWZzW2ldO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHRoZSBhdHRycyBpbiB0aGUgb3JkZXIgb2YgbWF0Y2hlcy4gVGhpcyBhc3N1bWVzIHRoYXQgdGhlIGZpcnN0IGRpcmVjdGl2ZSBpcyB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgaXRzZWxmLCBzbyB0aGF0IHRoZSBjb21wb25lbnQgaGFzIHRoZSBsZWFzdCBwcmlvcml0eS5cbiAgICAgICAgICAgICAgICB0Tm9kZS5tZXJnZWRBdHRycyA9IG1lcmdlSG9zdEF0dHJzKHROb2RlLm1lcmdlZEF0dHJzLCBkZWYuaG9zdEF0dHJzKTtcbiAgICAgICAgICAgICAgICBjb25maWd1cmVWaWV3V2l0aERpcmVjdGl2ZSh0VmlldywgdE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJZHgsIGRlZik7XG4gICAgICAgICAgICAgICAgc2F2ZU5hbWVUb0V4cG9ydE1hcChkaXJlY3RpdmVJZHgsIGRlZiwgZXhwb3J0c01hcCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlZi5jb250ZW50UXVlcmllcyAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gOCAvKiBoYXNDb250ZW50UXVlcnkgKi87XG4gICAgICAgICAgICAgICAgaWYgKGRlZi5ob3N0QmluZGluZ3MgIT09IG51bGwgfHwgZGVmLmhvc3RBdHRycyAhPT0gbnVsbCB8fCBkZWYuaG9zdFZhcnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi87XG4gICAgICAgICAgICAgICAgY29uc3QgbGlmZUN5Y2xlSG9va3MgPSBkZWYudHlwZS5wcm90b3R5cGU7XG4gICAgICAgICAgICAgICAgLy8gT25seSBwdXNoIGEgbm9kZSBpbmRleCBpbnRvIHRoZSBwcmVPcmRlckhvb2tzIGFycmF5IGlmIHRoaXMgaXMgdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgLy8gcHJlLW9yZGVyIGhvb2sgZm91bmQgb24gdGhpcyBub2RlLlxuICAgICAgICAgICAgICAgIGlmICghcHJlT3JkZXJIb29rc0ZvdW5kICYmXG4gICAgICAgICAgICAgICAgICAgIChsaWZlQ3ljbGVIb29rcy5uZ09uQ2hhbmdlcyB8fCBsaWZlQ3ljbGVIb29rcy5uZ09uSW5pdCB8fCBsaWZlQ3ljbGVIb29rcy5uZ0RvQ2hlY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHdpbGwgcHVzaCB0aGUgYWN0dWFsIGhvb2sgZnVuY3Rpb24gaW50byB0aGlzIGFycmF5IGxhdGVyIGR1cmluZyBkaXIgaW5zdGFudGlhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2Fubm90IGRvIGl0IG5vdyBiZWNhdXNlIHdlIG11c3QgZW5zdXJlIGhvb2tzIGFyZSByZWdpc3RlcmVkIGluIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yZGVyIHRoYXQgZGlyZWN0aXZlcyBhcmUgY3JlYXRlZCAoaS5lLiBpbmplY3Rpb24gb3JkZXIpLlxuICAgICAgICAgICAgICAgICAgICAodFZpZXcucHJlT3JkZXJIb29rcyB8fCAodFZpZXcucHJlT3JkZXJIb29rcyA9IFtdKSkucHVzaCh0Tm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHByZU9yZGVySG9va3NGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcHJlT3JkZXJDaGVja0hvb2tzRm91bmQgJiYgKGxpZmVDeWNsZUhvb2tzLm5nT25DaGFuZ2VzIHx8IGxpZmVDeWNsZUhvb2tzLm5nRG9DaGVjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyB8fCAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzID0gW10pKS5wdXNoKHROb2RlLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcHJlT3JkZXJDaGVja0hvb2tzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVJZHgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluaXRpYWxpemVJbnB1dEFuZE91dHB1dEFsaWFzZXModFZpZXcsIHROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwb3J0c01hcClcbiAgICAgICAgICAgIGNhY2hlTWF0Y2hpbmdMb2NhbE5hbWVzKHROb2RlLCBsb2NhbFJlZnMsIGV4cG9ydHNNYXApO1xuICAgIH1cbiAgICAvLyBNZXJnZSB0aGUgdGVtcGxhdGUgYXR0cnMgbGFzdCBzbyB0aGF0IHRoZXkgaGF2ZSB0aGUgaGlnaGVzdCBwcmlvcml0eS5cbiAgICB0Tm9kZS5tZXJnZWRBdHRycyA9IG1lcmdlSG9zdEF0dHJzKHROb2RlLm1lcmdlZEF0dHJzLCB0Tm9kZS5hdHRycyk7XG4gICAgcmV0dXJuIGhhc0RpcmVjdGl2ZXM7XG59XG4vKipcbiAqIEFkZCBgaG9zdEJpbmRpbmdzYCB0byB0aGUgYFRWaWV3Lmhvc3RCaW5kaW5nT3BDb2Rlc2AuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgdG8gd2hpY2ggdGhlIGBob3N0QmluZGluZ3NgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHRoZSBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIHRoZSBkaXJlY3RpdmVcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIGRpcmVjdGl2ZUlkeCBEaXJlY3RpdmUgaW5kZXggaW4gdmlldy5cbiAqIEBwYXJhbSBkaXJlY3RpdmVWYXJzSWR4IFdoZXJlIHdpbGwgdGhlIGRpcmVjdGl2ZSdzIHZhcnMgYmUgc3RvcmVkXG4gKiBAcGFyYW0gZGVmIGBDb21wb25lbnREZWZgL2BEaXJlY3RpdmVEZWZgLCB3aGljaCBjb250YWlucyB0aGUgYGhvc3RWYXJzYC9gaG9zdEJpbmRpbmdzYCB0byBhZGQuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUlkeCwgZGlyZWN0aXZlVmFyc0lkeCwgZGVmKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgY29uc3QgaG9zdEJpbmRpbmdzID0gZGVmLmhvc3RCaW5kaW5ncztcbiAgICBpZiAoaG9zdEJpbmRpbmdzKSB7XG4gICAgICAgIGxldCBob3N0QmluZGluZ09wQ29kZXMgPSB0Vmlldy5ob3N0QmluZGluZ09wQ29kZXM7XG4gICAgICAgIGlmIChob3N0QmluZGluZ09wQ29kZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nT3BDb2RlcyA9IHRWaWV3Lmhvc3RCaW5kaW5nT3BDb2RlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJbmR4ID0gfnROb2RlLmluZGV4O1xuICAgICAgICBpZiAobGFzdFNlbGVjdGVkRWxlbWVudElkeChob3N0QmluZGluZ09wQ29kZXMpICE9IGVsZW1lbnRJbmR4KSB7XG4gICAgICAgICAgICAvLyBDb25kaXRpb25hbGx5IGFkZCBzZWxlY3QgZWxlbWVudCBzbyB0aGF0IHdlIGFyZSBtb3JlIGVmZmljaWVudCBpbiBleGVjdXRpb24uXG4gICAgICAgICAgICAvLyBOT1RFOiB0aGlzIGlzIHN0cmljdGx5IG5vdCBuZWNlc3NhcnkgYW5kIGl0IHRyYWRlcyBjb2RlIHNpemUgZm9yIHJ1bnRpbWUgcGVyZi5cbiAgICAgICAgICAgIC8vIChXZSBjb3VsZCBqdXN0IGFsd2F5cyBhZGQgaXQuKVxuICAgICAgICAgICAgaG9zdEJpbmRpbmdPcENvZGVzLnB1c2goZWxlbWVudEluZHgpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3RCaW5kaW5nT3BDb2Rlcy5wdXNoKGRpcmVjdGl2ZUlkeCwgZGlyZWN0aXZlVmFyc0lkeCwgaG9zdEJpbmRpbmdzKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGxhc3Qgc2VsZWN0ZWQgZWxlbWVudCBpbmRleCBpbiB0aGUgYEhvc3RCaW5kaW5nT3BDb2Rlc2BcbiAqXG4gKiBGb3IgcGVyZiByZWFzb25zIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBzZWxlY3RlZCBlbGVtZW50IGluZGV4IGluIGBIb3N0QmluZGluZ09wQ29kZXNgIG9ubHlcbiAqIGlmIGl0IGNoYW5nZXMuIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGxhc3QgaW5kZXggKG9yICcwJyBpZiBub3QgZm91bmQuKVxuICpcbiAqIFNlbGVjdGVkIGVsZW1lbnQgaW5kZXggYXJlIG9ubHkgdGhlIG9uZXMgd2hpY2ggYXJlIG5lZ2F0aXZlLlxuICovXG5mdW5jdGlvbiBsYXN0U2VsZWN0ZWRFbGVtZW50SWR4KGhvc3RCaW5kaW5nT3BDb2Rlcykge1xuICAgIGxldCBpID0gaG9zdEJpbmRpbmdPcENvZGVzLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBob3N0QmluZGluZ09wQ29kZXNbLS1pXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG4vKipcbiAqIEluc3RhbnRpYXRlIGFsbCB0aGUgZGlyZWN0aXZlcyB0aGF0IHdlcmUgcHJldmlvdXNseSByZXNvbHZlZCBvbiB0aGUgY3VycmVudCBub2RlLlxuICovXG5mdW5jdGlvbiBpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgbmF0aXZlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgaWYgKCF0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGxWaWV3KTtcbiAgICBjb25zdCBpbml0aWFsSW5wdXRzID0gdE5vZGUuaW5pdGlhbElucHV0cztcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2ldO1xuICAgICAgICBjb25zdCBpc0NvbXBvbmVudCA9IGlzQ29tcG9uZW50RGVmKGRlZik7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyk7XG4gICAgICAgICAgICBhZGRDb21wb25lbnRMb2dpYyhsVmlldywgdE5vZGUsIGRlZik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIHRWaWV3LCBpLCB0Tm9kZSk7XG4gICAgICAgIGF0dGFjaFBhdGNoRGF0YShkaXJlY3RpdmUsIGxWaWV3KTtcbiAgICAgICAgaWYgKGluaXRpYWxJbnB1dHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldElucHV0c0Zyb21BdHRycyhsVmlldywgaSAtIHN0YXJ0LCBkaXJlY3RpdmUsIGRlZiwgdE5vZGUsIGluaXRpYWxJbnB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgY29tcG9uZW50Vmlld1tDT05URVhUXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZXNIb3N0QmluZGluZ3ModFZpZXcsIGxWaWV3LCB0Tm9kZSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGNvbnN0IGZpcnN0Q3JlYXRlUGFzcyA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcztcbiAgICBjb25zdCBlbGVtZW50SW5kZXggPSB0Tm9kZS5pbmRleDtcbiAgICBjb25zdCBjdXJyZW50RGlyZWN0aXZlSW5kZXggPSBnZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoKTtcbiAgICB0cnkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KGVsZW1lbnRJbmRleCk7XG4gICAgICAgIGZvciAobGV0IGRpckluZGV4ID0gc3RhcnQ7IGRpckluZGV4IDwgZW5kOyBkaXJJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2RpckluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGxWaWV3W2RpckluZGV4XTtcbiAgICAgICAgICAgIHNldEN1cnJlbnREaXJlY3RpdmVJbmRleChkaXJJbmRleCk7XG4gICAgICAgICAgICBpZiAoZGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCB8fCBkZWYuaG9zdFZhcnMgIT09IDAgfHwgZGVmLmhvc3RBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlKGRlZiwgZGlyZWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCgtMSk7XG4gICAgICAgIHNldEN1cnJlbnREaXJlY3RpdmVJbmRleChjdXJyZW50RGlyZWN0aXZlSW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogSW52b2tlIHRoZSBob3N0IGJpbmRpbmdzIGluIGNyZWF0aW9uIG1vZGUuXG4gKlxuICogQHBhcmFtIGRlZiBgRGlyZWN0aXZlRGVmYCB3aGljaCBtYXkgY29udGFpbiB0aGUgYGhvc3RCaW5kaW5nc2AgZnVuY3Rpb24uXG4gKiBAcGFyYW0gZGlyZWN0aXZlIEluc3RhbmNlIG9mIGRpcmVjdGl2ZS5cbiAqL1xuZnVuY3Rpb24gaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUoZGVmLCBkaXJlY3RpdmUpIHtcbiAgICBpZiAoZGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCkge1xuICAgICAgICBkZWYuaG9zdEJpbmRpbmdzKDEgLyogQ3JlYXRlICovLCBkaXJlY3RpdmUpO1xuICAgIH1cbn1cbi8qKlxuICogTWF0Y2hlcyB0aGUgY3VycmVudCBub2RlIGFnYWluc3QgYWxsIGF2YWlsYWJsZSBzZWxlY3RvcnMuXG4gKiBJZiBhIGNvbXBvbmVudCBpcyBtYXRjaGVkIChhdCBtb3N0IG9uZSksIGl0IGlzIHJldHVybmVkIGluIGZpcnN0IHBvc2l0aW9uIGluIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gZmluZERpcmVjdGl2ZURlZk1hdGNoZXModFZpZXcsIHZpZXdEYXRhLCB0Tm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8pO1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gdFZpZXcuZGlyZWN0aXZlUmVnaXN0cnk7XG4gICAgbGV0IG1hdGNoZXMgPSBudWxsO1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlZ2lzdHJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZWYgPSByZWdpc3RyeVtpXTtcbiAgICAgICAgICAgIGlmIChpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCh0Tm9kZSwgZGVmLnNlbGVjdG9ycywgLyogaXNQcm9qZWN0aW9uTW9kZSAqLyBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzIHx8IChtYXRjaGVzID0gbmdEZXZNb2RlID8gbmV3IE1hdGNoZXNBcnJheSgpIDogW10pO1xuICAgICAgICAgICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIHZpZXdEYXRhKSwgdFZpZXcsIGRlZi50eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDIgLyogRWxlbWVudCAqLywgYFwiJHt0Tm9kZS52YWx1ZX1cIiB0YWdzIGNhbm5vdCBiZSB1c2VkIGFzIGNvbXBvbmVudCBob3N0cy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSB1c2UgYSBkaWZmZXJlbnQgdGFnIHRvIGFjdGl2YXRlIHRoZSAke3N0cmluZ2lmeShkZWYudHlwZSl9IGNvbXBvbmVudC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93TXVsdGlwbGVDb21wb25lbnRFcnJvcih0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFya0FzQ29tcG9uZW50SG9zdCh0VmlldywgdE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY29tcG9uZW50IGlzIGFsd2F5cyBzdG9yZWQgZmlyc3Qgd2l0aCBkaXJlY3RpdmVzIGFmdGVyLlxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnVuc2hpZnQoZGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChkZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF0Y2hlcztcbn1cbi8qKlxuICogTWFya3MgYSBnaXZlbiBUTm9kZSBhcyBhIGNvbXBvbmVudCdzIGhvc3QuIFRoaXMgY29uc2lzdHMgb2Y6XG4gKiAtIHNldHRpbmcgYXBwcm9wcmlhdGUgVE5vZGUgZmxhZ3M7XG4gKiAtIHN0b3JpbmcgaW5kZXggb2YgY29tcG9uZW50J3MgaG9zdCBlbGVtZW50IHNvIGl0IHdpbGwgYmUgcXVldWVkIGZvciB2aWV3IHJlZnJlc2ggZHVyaW5nIENELlxuICovXG5mdW5jdGlvbiBtYXJrQXNDb21wb25lbnRIb3N0KHRWaWV3LCBob3N0VE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBob3N0VE5vZGUuZmxhZ3MgfD0gMiAvKiBpc0NvbXBvbmVudEhvc3QgKi87XG4gICAgKHRWaWV3LmNvbXBvbmVudHMgfHwgKHRWaWV3LmNvbXBvbmVudHMgPSBuZ0Rldk1vZGUgPyBuZXcgVFZpZXdDb21wb25lbnRzKCkgOiBbXSkpXG4gICAgICAgIC5wdXNoKGhvc3RUTm9kZS5pbmRleCk7XG59XG4vKiogQ2FjaGVzIGxvY2FsIG5hbWVzIGFuZCB0aGVpciBtYXRjaGluZyBkaXJlY3RpdmUgaW5kaWNlcyBmb3IgcXVlcnkgYW5kIHRlbXBsYXRlIGxvb2t1cHMuICovXG5mdW5jdGlvbiBjYWNoZU1hdGNoaW5nTG9jYWxOYW1lcyh0Tm9kZSwgbG9jYWxSZWZzLCBleHBvcnRzTWFwKSB7XG4gICAgaWYgKGxvY2FsUmVmcykge1xuICAgICAgICBjb25zdCBsb2NhbE5hbWVzID0gdE5vZGUubG9jYWxOYW1lcyA9IG5nRGV2TW9kZSA/IG5ldyBUTm9kZUxvY2FsTmFtZXMoKSA6IFtdO1xuICAgICAgICAvLyBMb2NhbCBuYW1lcyBtdXN0IGJlIHN0b3JlZCBpbiB0Tm9kZSBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IGxvY2FsUmVmcyBhcmUgZGVmaW5lZFxuICAgICAgICAvLyBpbiB0aGUgdGVtcGxhdGUgdG8gZW5zdXJlIHRoZSBkYXRhIGlzIGxvYWRlZCBpbiB0aGUgc2FtZSBzbG90cyBhcyB0aGVpciByZWZzXG4gICAgICAgIC8vIGluIHRoZSB0ZW1wbGF0ZSAoZm9yIHRlbXBsYXRlIHF1ZXJpZXMpLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsUmVmcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBleHBvcnRzTWFwW2xvY2FsUmVmc1tpICsgMV1dO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMzAxIC8qIEVYUE9SVF9OT1RfRk9VTkQgKi8sIG5nRGV2TW9kZSAmJiBgRXhwb3J0IG9mIG5hbWUgJyR7bG9jYWxSZWZzW2kgKyAxXX0nIG5vdCBmb3VuZCFgKTtcbiAgICAgICAgICAgIGxvY2FsTmFtZXMucHVzaChsb2NhbFJlZnNbaV0sIGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIHVwIGFuIGV4cG9ydCBtYXAgYXMgZGlyZWN0aXZlcyBhcmUgY3JlYXRlZCwgc28gbG9jYWwgcmVmcyBjYW4gYmUgcXVpY2tseSBtYXBwZWRcbiAqIHRvIHRoZWlyIGRpcmVjdGl2ZSBpbnN0YW5jZXMuXG4gKi9cbmZ1bmN0aW9uIHNhdmVOYW1lVG9FeHBvcnRNYXAoZGlyZWN0aXZlSWR4LCBkZWYsIGV4cG9ydHNNYXApIHtcbiAgICBpZiAoZXhwb3J0c01hcCkge1xuICAgICAgICBpZiAoZGVmLmV4cG9ydEFzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZi5leHBvcnRBcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGV4cG9ydHNNYXBbZGVmLmV4cG9ydEFzW2ldXSA9IGRpcmVjdGl2ZUlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmKSlcbiAgICAgICAgICAgIGV4cG9ydHNNYXBbJyddID0gZGlyZWN0aXZlSWR4O1xuICAgIH1cbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgdGhlIGZsYWdzIG9uIHRoZSBjdXJyZW50IG5vZGUsIHNldHRpbmcgYWxsIGluZGljZXMgdG8gdGhlIGluaXRpYWwgaW5kZXgsXG4gKiB0aGUgZGlyZWN0aXZlIGNvdW50IHRvIDAsIGFuZCBhZGRpbmcgdGhlIGlzQ29tcG9uZW50IGZsYWcuXG4gKiBAcGFyYW0gaW5kZXggdGhlIGluaXRpYWwgaW5kZXhcbiAqL1xuZnVuY3Rpb24gaW5pdFROb2RlRmxhZ3ModE5vZGUsIGluZGV4LCBudW1iZXJPZkRpcmVjdGl2ZXMpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwobnVtYmVyT2ZEaXJlY3RpdmVzLCB0Tm9kZS5kaXJlY3RpdmVFbmQgLSB0Tm9kZS5kaXJlY3RpdmVTdGFydCwgJ1JlYWNoZWQgdGhlIG1heCBudW1iZXIgb2YgZGlyZWN0aXZlcycpO1xuICAgIHROb2RlLmZsYWdzIHw9IDEgLyogaXNEaXJlY3RpdmVIb3N0ICovO1xuICAgIC8vIFdoZW4gdGhlIGZpcnN0IGRpcmVjdGl2ZSBpcyBjcmVhdGVkIG9uIGEgbm9kZSwgc2F2ZSB0aGUgaW5kZXhcbiAgICB0Tm9kZS5kaXJlY3RpdmVTdGFydCA9IGluZGV4O1xuICAgIHROb2RlLmRpcmVjdGl2ZUVuZCA9IGluZGV4ICsgbnVtYmVyT2ZEaXJlY3RpdmVzO1xuICAgIHROb2RlLnByb3ZpZGVySW5kZXhlcyA9IGluZGV4O1xufVxuLyoqXG4gKiBTZXR1cCBkaXJlY3RpdmUgZm9yIGluc3RhbnRpYXRpb24uXG4gKlxuICogV2UgbmVlZCB0byBjcmVhdGUgYSBgTm9kZUluamVjdG9yRmFjdG9yeWAgd2hpY2ggaXMgdGhlbiBpbnNlcnRlZCBpbiBib3RoIHRoZSBgQmx1ZXByaW50YCBhcyB3ZWxsXG4gKiBhcyBgTFZpZXdgLiBgVFZpZXdgIGdldHMgdGhlIGBEaXJlY3RpdmVEZWZgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYFxuICogQHBhcmFtIGxWaWV3IGBMVmlld2BcbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBJbmRleCB3aGVyZSB0aGUgZGlyZWN0aXZlIHdpbGwgYmUgc3RvcmVkIGluIHRoZSBFeHBhbmRvLlxuICogQHBhcmFtIGRlZiBgRGlyZWN0aXZlRGVmYFxuICovXG5mdW5jdGlvbiBjb25maWd1cmVWaWV3V2l0aERpcmVjdGl2ZSh0VmlldywgdE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJbmRleCwgZGVmKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChkaXJlY3RpdmVJbmRleCwgSEVBREVSX09GRlNFVCwgJ011c3QgYmUgaW4gRXhwYW5kbyBzZWN0aW9uJyk7XG4gICAgdFZpZXcuZGF0YVtkaXJlY3RpdmVJbmRleF0gPSBkZWY7XG4gICAgY29uc3QgZGlyZWN0aXZlRmFjdG9yeSA9IGRlZi5mYWN0b3J5IHx8IChkZWYuZmFjdG9yeSA9IGdldEZhY3RvcnlEZWYoZGVmLnR5cGUsIHRydWUpKTtcbiAgICBjb25zdCBub2RlSW5qZWN0b3JGYWN0b3J5ID0gbmV3IE5vZGVJbmplY3RvckZhY3RvcnkoZGlyZWN0aXZlRmFjdG9yeSwgaXNDb21wb25lbnREZWYoZGVmKSwgbnVsbCk7XG4gICAgdFZpZXcuYmx1ZXByaW50W2RpcmVjdGl2ZUluZGV4XSA9IG5vZGVJbmplY3RvckZhY3Rvcnk7XG4gICAgbFZpZXdbZGlyZWN0aXZlSW5kZXhdID0gbm9kZUluamVjdG9yRmFjdG9yeTtcbiAgICByZWdpc3Rlckhvc3RCaW5kaW5nT3BDb2Rlcyh0VmlldywgdE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJbmRleCwgYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgZGVmLmhvc3RWYXJzLCBOT19DSEFOR0UpLCBkZWYpO1xufVxuZnVuY3Rpb24gYWRkQ29tcG9uZW50TG9naWMobFZpZXcsIGhvc3RUTm9kZSwgZGVmKSB7XG4gICAgY29uc3QgbmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShob3N0VE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCB0VmlldyA9IGdldE9yQ3JlYXRlVENvbXBvbmVudFZpZXcoZGVmKTtcbiAgICAvLyBPbmx5IGNvbXBvbmVudCB2aWV3cyBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHZpZXcgdHJlZSBkaXJlY3RseS4gRW1iZWRkZWQgdmlld3MgYXJlXG4gICAgLy8gYWNjZXNzZWQgdGhyb3VnaCB0aGVpciBjb250YWluZXJzIGJlY2F1c2UgdGhleSBtYXkgYmUgcmVtb3ZlZCAvIHJlLWFkZGVkIGxhdGVyLlxuICAgIGNvbnN0IHJlbmRlcmVyRmFjdG9yeSA9IGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBjcmVhdGVMVmlldyhsVmlldywgdFZpZXcsIG51bGwsIGRlZi5vblB1c2ggPyA2NCAvKiBEaXJ0eSAqLyA6IDE2IC8qIENoZWNrQWx3YXlzICovLCBuYXRpdmUsIGhvc3RUTm9kZSwgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobmF0aXZlLCBkZWYpLCBudWxsLCBudWxsKSk7XG4gICAgLy8gQ29tcG9uZW50IHZpZXcgd2lsbCBhbHdheXMgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGluamVjdGVkIExDb250YWluZXJzLFxuICAgIC8vIHNvIHRoaXMgaXMgYSByZWd1bGFyIGVsZW1lbnQsIHdyYXAgaXQgd2l0aCB0aGUgY29tcG9uZW50IHZpZXdcbiAgICBsVmlld1tob3N0VE5vZGUuaW5kZXhdID0gY29tcG9uZW50Vmlldztcbn1cbmZ1bmN0aW9uIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXNzZXJ0Tm90U2FtZSh2YWx1ZSwgTk9fQ0hBTkdFLCAnSW5jb21pbmcgdmFsdWUgc2hvdWxkIG5ldmVyIGJlIE5PX0NIQU5HRS4nKTtcbiAgICAgICAgdmFsaWRhdGVBZ2FpbnN0RXZlbnRBdHRyaWJ1dGVzKG5hbWUpO1xuICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDIgLyogRWxlbWVudCAqLywgYEF0dGVtcHRlZCB0byBzZXQgYXR0cmlidXRlIFxcYCR7bmFtZX1cXGAgb24gYSBjb250YWluZXIgbm9kZS4gYCArXG4gICAgICAgICAgICBgSG9zdCBiaW5kaW5ncyBhcmUgbm90IHZhbGlkIG9uIG5nLWNvbnRhaW5lciBvciBuZy10ZW1wbGF0ZS5gKTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudCA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICBzZXRFbGVtZW50QXR0cmlidXRlKGxWaWV3W1JFTkRFUkVSXSwgZWxlbWVudCwgbmFtZXNwYWNlLCB0Tm9kZS52YWx1ZSwgbmFtZSwgdmFsdWUsIHNhbml0aXplcik7XG59XG5mdW5jdGlvbiBzZXRFbGVtZW50QXR0cmlidXRlKHJlbmRlcmVyLCBlbGVtZW50LCBuYW1lc3BhY2UsIHRhZ05hbWUsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlQXR0cmlidXRlKys7XG4gICAgICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCBuYW1lLCBuYW1lc3BhY2UpIDpcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldEF0dHJpYnV0ZSsrO1xuICAgICAgICBjb25zdCBzdHJWYWx1ZSA9IHNhbml0aXplciA9PSBudWxsID8gcmVuZGVyU3RyaW5naWZ5KHZhbHVlKSA6IHNhbml0aXplcih2YWx1ZSwgdGFnTmFtZSB8fCAnJywgbmFtZSk7XG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCBuYW1lLCBzdHJWYWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA/IGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBuYW1lLCBzdHJWYWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHN0clZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogU2V0cyBpbml0aWFsIGlucHV0IHByb3BlcnRpZXMgb24gZGlyZWN0aXZlIGluc3RhbmNlcyBmcm9tIGF0dHJpYnV0ZSBkYXRhXG4gKlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgTFZpZXcgdGhhdCBpcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggSW5kZXggb2YgdGhlIGRpcmVjdGl2ZSBpbiBkaXJlY3RpdmVzIGFycmF5XG4gKiBAcGFyYW0gaW5zdGFuY2UgSW5zdGFuY2Ugb2YgdGhlIGRpcmVjdGl2ZSBvbiB3aGljaCB0byBzZXQgdGhlIGluaXRpYWwgaW5wdXRzXG4gKiBAcGFyYW0gZGVmIFRoZSBkaXJlY3RpdmUgZGVmIHRoYXQgY29udGFpbnMgdGhlIGxpc3Qgb2YgaW5wdXRzXG4gKiBAcGFyYW0gdE5vZGUgVGhlIHN0YXRpYyBkYXRhIGZvciB0aGlzIG5vZGVcbiAqL1xuZnVuY3Rpb24gc2V0SW5wdXRzRnJvbUF0dHJzKGxWaWV3LCBkaXJlY3RpdmVJbmRleCwgaW5zdGFuY2UsIGRlZiwgdE5vZGUsIGluaXRpYWxJbnB1dERhdGEpIHtcbiAgICBjb25zdCBpbml0aWFsSW5wdXRzID0gaW5pdGlhbElucHV0RGF0YVtkaXJlY3RpdmVJbmRleF07XG4gICAgaWYgKGluaXRpYWxJbnB1dHMgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc2V0SW5wdXQgPSBkZWYuc2V0SW5wdXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5pdGlhbElucHV0cy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBjb25zdCBwdWJsaWNOYW1lID0gaW5pdGlhbElucHV0c1tpKytdO1xuICAgICAgICAgICAgY29uc3QgcHJpdmF0ZU5hbWUgPSBpbml0aWFsSW5wdXRzW2krK107XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxJbnB1dHNbaSsrXTtcbiAgICAgICAgICAgIGlmIChzZXRJbnB1dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlZi5zZXRJbnB1dChpbnN0YW5jZSwgdmFsdWUsIHB1YmxpY05hbWUsIHByaXZhdGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgc2V0TmdSZWZsZWN0UHJvcGVydHkobFZpZXcsIG5hdGl2ZUVsZW1lbnQsIHROb2RlLnR5cGUsIHByaXZhdGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEdlbmVyYXRlcyBpbml0aWFsSW5wdXREYXRhIGZvciBhIG5vZGUgYW5kIHN0b3JlcyBpdCBpbiB0aGUgdGVtcGxhdGUncyBzdGF0aWMgc3RvcmFnZVxuICogc28gc3Vic2VxdWVudCB0ZW1wbGF0ZSBpbnZvY2F0aW9ucyBkb24ndCBoYXZlIHRvIHJlY2FsY3VsYXRlIGl0LlxuICpcbiAqIGluaXRpYWxJbnB1dERhdGEgaXMgYW4gYXJyYXkgY29udGFpbmluZyB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHNldCBhcyBpbnB1dCBwcm9wZXJ0aWVzXG4gKiBmb3IgZGlyZWN0aXZlcyBvbiB0aGlzIG5vZGUsIGJ1dCBvbmx5IG9uY2Ugb24gY3JlYXRpb24uIFdlIG5lZWQgdGhpcyBhcnJheSB0byBzdXBwb3J0XG4gKiB0aGUgY2FzZSB3aGVyZSB5b3Ugc2V0IGFuIEBJbnB1dCBwcm9wZXJ0eSBvZiBhIGRpcmVjdGl2ZSB1c2luZyBhdHRyaWJ1dGUtbGlrZSBzeW50YXguXG4gKiBlLmcuIGlmIHlvdSBoYXZlIGEgYG5hbWVgIEBJbnB1dCwgeW91IGNhbiBzZXQgaXQgb25jZSBsaWtlIHRoaXM6XG4gKlxuICogPG15LWNvbXBvbmVudCBuYW1lPVwiQmVzc1wiPjwvbXktY29tcG9uZW50PlxuICpcbiAqIEBwYXJhbSBpbnB1dHMgVGhlIGxpc3Qgb2YgaW5wdXRzIGZyb20gdGhlIGRpcmVjdGl2ZSBkZWZcbiAqIEBwYXJhbSBhdHRycyBUaGUgc3RhdGljIGF0dHJzIG9uIHRoaXMgbm9kZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUluaXRpYWxJbnB1dHMoaW5wdXRzLCBhdHRycykge1xuICAgIGxldCBpbnB1dHNUb1N0b3JlID0gbnVsbDtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgLy8gV2UgZG8gbm90IGFsbG93IGlucHV0cyBvbiBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhdHRyTmFtZSA9PT0gNSAvKiBQcm9qZWN0QXMgKi8pIHtcbiAgICAgICAgICAgIC8vIFNraXAgb3ZlciB0aGUgYG5nUHJvamVjdEFzYCB2YWx1ZS5cbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhpdCBhbnkgb3RoZXIgYXR0cmlidXRlIG1hcmtlcnMsIHdlJ3JlIGRvbmUgYW55d2F5LiBOb25lIG9mIHRob3NlIGFyZSB2YWxpZCBpbnB1dHMuXG4gICAgICAgIGlmICh0eXBlb2YgYXR0ck5hbWUgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChpbnB1dHMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXRzVG9TdG9yZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICBpbnB1dHNUb1N0b3JlID0gW107XG4gICAgICAgICAgICBpbnB1dHNUb1N0b3JlLnB1c2goYXR0ck5hbWUsIGlucHV0c1thdHRyTmFtZV0sIGF0dHJzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaSArPSAyO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRzVG9TdG9yZTtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIFZpZXdDb250YWluZXIgJiBWaWV3XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTm90IHN1cmUgd2h5IEkgbmVlZCB0byBkbyBgYW55YCBoZXJlIGJ1dCBUUyBjb21wbGFpbnMgbGF0ZXIuXG5jb25zdCBMQ29udGFpbmVyQXJyYXkgPSBjbGFzcyBMQ29udGFpbmVyIGV4dGVuZHMgQXJyYXkge1xufTtcbi8qKlxuICogQ3JlYXRlcyBhIExDb250YWluZXIsIGVpdGhlciBmcm9tIGEgY29udGFpbmVyIGluc3RydWN0aW9uLCBvciBmb3IgYSBWaWV3Q29udGFpbmVyUmVmLlxuICpcbiAqIEBwYXJhbSBob3N0TmF0aXZlIFRoZSBob3N0IGVsZW1lbnQgZm9yIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gaG9zdFROb2RlIFRoZSBob3N0IFROb2RlIGZvciB0aGUgTENvbnRhaW5lclxuICogQHBhcmFtIGN1cnJlbnRWaWV3IFRoZSBwYXJlbnQgdmlldyBvZiB0aGUgTENvbnRhaW5lclxuICogQHBhcmFtIG5hdGl2ZSBUaGUgbmF0aXZlIGNvbW1lbnQgZWxlbWVudFxuICogQHBhcmFtIGlzRm9yVmlld0NvbnRhaW5lclJlZiBPcHRpb25hbCBhIGZsYWcgaW5kaWNhdGluZyB0aGUgVmlld0NvbnRhaW5lclJlZiBjYXNlXG4gKiBAcmV0dXJucyBMQ29udGFpbmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxDb250YWluZXIoaG9zdE5hdGl2ZSwgY3VycmVudFZpZXcsIG5hdGl2ZSwgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcoY3VycmVudFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIoY3VycmVudFZpZXdbUkVOREVSRVJdKSAmJiBhc3NlcnREb21Ob2RlKG5hdGl2ZSk7XG4gICAgLy8gaHR0cHM6Ly9qc3BlcmYuY29tL2FycmF5LWxpdGVyYWwtdnMtbmV3LWFycmF5LXJlYWxseVxuICAgIGNvbnN0IGxDb250YWluZXIgPSBuZXcgKG5nRGV2TW9kZSA/IExDb250YWluZXJBcnJheSA6IEFycmF5KShob3N0TmF0aXZlLCAvLyBob3N0IG5hdGl2ZVxuICAgIHRydWUsIC8vIEJvb2xlYW4gYHRydWVgIGluIHRoaXMgcG9zaXRpb24gc2lnbmlmaWVzIHRoYXQgdGhpcyBpcyBhbiBgTENvbnRhaW5lcmBcbiAgICBmYWxzZSwgLy8gaGFzIHRyYW5zcGxhbnRlZCB2aWV3c1xuICAgIGN1cnJlbnRWaWV3LCAvLyBwYXJlbnRcbiAgICBudWxsLCAvLyBuZXh0XG4gICAgMCwgLy8gdHJhbnNwbGFudGVkIHZpZXdzIHRvIHJlZnJlc2ggY291bnRcbiAgICB0Tm9kZSwgLy8gdF9ob3N0XG4gICAgbmF0aXZlLCAvLyBuYXRpdmUsXG4gICAgbnVsbCwgLy8gdmlldyByZWZzXG4gICAgbnVsbCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGxDb250YWluZXIubGVuZ3RoLCBDT05UQUlORVJfSEVBREVSX09GRlNFVCwgJ1Nob3VsZCBhbGxvY2F0ZSBjb3JyZWN0IG51bWJlciBvZiBzbG90cyBmb3IgTENvbnRhaW5lciBoZWFkZXIuJyk7XG4gICAgbmdEZXZNb2RlICYmIGF0dGFjaExDb250YWluZXJEZWJ1ZyhsQ29udGFpbmVyKTtcbiAgICByZXR1cm4gbENvbnRhaW5lcjtcbn1cbi8qKlxuICogR29lcyBvdmVyIGVtYmVkZGVkIHZpZXdzIChvbmVzIGNyZWF0ZWQgdGhyb3VnaCBWaWV3Q29udGFpbmVyUmVmIEFQSXMpIGFuZCByZWZyZXNoZXNcbiAqIHRoZW0gYnkgZXhlY3V0aW5nIGFuIGFzc29jaWF0ZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hFbWJlZGRlZFZpZXdzKGxWaWV3KSB7XG4gICAgZm9yIChsZXQgbENvbnRhaW5lciA9IGdldEZpcnN0TENvbnRhaW5lcihsVmlldyk7IGxDb250YWluZXIgIT09IG51bGw7IGxDb250YWluZXIgPSBnZXROZXh0TENvbnRhaW5lcihsQ29udGFpbmVyKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkVFZpZXcgPSBlbWJlZGRlZExWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGVtYmVkZGVkVFZpZXcsICdUVmlldyBtdXN0IGJlIGFsbG9jYXRlZCcpO1xuICAgICAgICAgICAgaWYgKHZpZXdBdHRhY2hlZFRvQ2hhbmdlRGV0ZWN0b3IoZW1iZWRkZWRMVmlldykpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoVmlldyhlbWJlZGRlZFRWaWV3LCBlbWJlZGRlZExWaWV3LCBlbWJlZGRlZFRWaWV3LnRlbXBsYXRlLCBlbWJlZGRlZExWaWV3W0NPTlRFWFRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTWFyayB0cmFuc3BsYW50ZWQgdmlld3MgYXMgbmVlZGluZyB0byBiZSByZWZyZXNoZWQgYXQgdGhlaXIgaW5zZXJ0aW9uIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2AgdGhhdCBtYXkgaGF2ZSB0cmFuc3BsYW50ZWQgdmlld3MuXG4gKi9cbmZ1bmN0aW9uIG1hcmtUcmFuc3BsYW50ZWRWaWV3c0ZvclJlZnJlc2gobFZpZXcpIHtcbiAgICBmb3IgKGxldCBsQ29udGFpbmVyID0gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KTsgbENvbnRhaW5lciAhPT0gbnVsbDsgbENvbnRhaW5lciA9IGdldE5leHRMQ29udGFpbmVyKGxDb250YWluZXIpKSB7XG4gICAgICAgIGlmICghbENvbnRhaW5lcltIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTXSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBtb3ZlZFZpZXdzID0gbENvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKG1vdmVkVmlld3MsICdUcmFuc3BsYW50ZWQgVmlldyBmbGFncyBzZXQgYnV0IG1pc3NpbmcgTU9WRURfVklFV1MnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb3ZlZFZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlZExWaWV3ID0gbW92ZWRWaWV3c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluc2VydGlvbkxDb250YWluZXIgPSBtb3ZlZExWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihpbnNlcnRpb25MQ29udGFpbmVyKTtcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gaW5jcmVtZW50IHRoZSBjb3VudGVyIGlmIHRoZSBtb3ZlZCBMVmlldyB3YXMgYWxyZWFkeSBtYXJrZWQgZm9yXG4gICAgICAgICAgICAvLyByZWZyZXNoLlxuICAgICAgICAgICAgaWYgKChtb3ZlZExWaWV3W0ZMQUdTXSAmIDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGluc2VydGlvbkxDb250YWluZXIsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90ZSwgaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgYG1vdmVkVmlld3NgIGlzIHRyYWNraW5nIHZpZXdzIHRoYXQgYXJlIHRyYW5zcGxhbnRlZCAqYW5kKlxuICAgICAgICAgICAgLy8gdGhvc2UgdGhhdCBhcmVuJ3QgKGRlY2xhcmF0aW9uIGNvbXBvbmVudCA9PT0gaW5zZXJ0aW9uIGNvbXBvbmVudCkuIEluIHRoZSBsYXR0ZXIgY2FzZSxcbiAgICAgICAgICAgIC8vIGl0J3MgZmluZSB0byBhZGQgdGhlIGZsYWcsIGFzIHdlIHdpbGwgY2xlYXIgaXQgaW1tZWRpYXRlbHkgaW5cbiAgICAgICAgICAgIC8vIGByZWZyZXNoRW1iZWRkZWRWaWV3c2AgZm9yIHRoZSB2aWV3IGN1cnJlbnRseSBiZWluZyByZWZyZXNoZWQuXG4gICAgICAgICAgICBtb3ZlZExWaWV3W0ZMQUdTXSB8PSAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBSZWZyZXNoZXMgY29tcG9uZW50cyBieSBlbnRlcmluZyB0aGUgY29tcG9uZW50IHZpZXcgYW5kIHByb2Nlc3NpbmcgaXRzIGJpbmRpbmdzLCBxdWVyaWVzLCBldGMuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudEhvc3RJZHggIEVsZW1lbnQgaW5kZXggaW4gTFZpZXdbXSAoYWRqdXN0ZWQgZm9yIEhFQURFUl9PRkZTRVQpXG4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hDb21wb25lbnQoaG9zdExWaWV3LCBjb21wb25lbnRIb3N0SWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGlzQ3JlYXRpb25Nb2RlKGhvc3RMVmlldyksIGZhbHNlLCAnU2hvdWxkIGJlIHJ1biBpbiB1cGRhdGUgbW9kZScpO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoY29tcG9uZW50SG9zdElkeCwgaG9zdExWaWV3KTtcbiAgICAvLyBPbmx5IGF0dGFjaGVkIGNvbXBvbmVudHMgdGhhdCBhcmUgQ2hlY2tBbHdheXMgb3IgT25QdXNoIGFuZCBkaXJ0eSBzaG91bGQgYmUgcmVmcmVzaGVkXG4gICAgaWYgKHZpZXdBdHRhY2hlZFRvQ2hhbmdlRGV0ZWN0b3IoY29tcG9uZW50VmlldykpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBjb21wb25lbnRWaWV3W1RWSUVXXTtcbiAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdbRkxBR1NdICYgKDE2IC8qIENoZWNrQWx3YXlzICovIHwgNjQgLyogRGlydHkgKi8pKSB7XG4gICAgICAgICAgICByZWZyZXNoVmlldyh0VmlldywgY29tcG9uZW50VmlldywgdFZpZXcudGVtcGxhdGUsIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudFZpZXdbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID4gMCkge1xuICAgICAgICAgICAgLy8gT25seSBhdHRhY2hlZCBjb21wb25lbnRzIHRoYXQgYXJlIENoZWNrQWx3YXlzIG9yIE9uUHVzaCBhbmQgZGlydHkgc2hvdWxkIGJlIHJlZnJlc2hlZFxuICAgICAgICAgICAgcmVmcmVzaENvbnRhaW5zRGlydHlWaWV3KGNvbXBvbmVudFZpZXcpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZWZyZXNoZXMgYWxsIHRyYW5zcGxhbnRlZCB2aWV3cyBtYXJrZWQgd2l0aCBgTFZpZXdGbGFncy5SZWZyZXNoVHJhbnNwbGFudGVkVmlld2AgdGhhdCBhcmVcbiAqIGNoaWxkcmVuIG9yIGRlc2NlbmRhbnRzIG9mIHRoZSBnaXZlbiBsVmlldy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGxWaWV3IHdoaWNoIGNvbnRhaW5zIGRlc2NlbmRhbnQgdHJhbnNwbGFudGVkIHZpZXdzIHRoYXQgbmVlZCB0byBiZSByZWZyZXNoZWQuXG4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hDb250YWluc0RpcnR5VmlldyhsVmlldykge1xuICAgIGZvciAobGV0IGxDb250YWluZXIgPSBnZXRGaXJzdExDb250YWluZXIobFZpZXcpOyBsQ29udGFpbmVyICE9PSBudWxsOyBsQ29udGFpbmVyID0gZ2V0TmV4dExDb250YWluZXIobENvbnRhaW5lcikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGxDb250YWluZXJbaV07XG4gICAgICAgICAgICBpZiAoZW1iZWRkZWRMVmlld1tGTEFHU10gJiAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IGVtYmVkZGVkTFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGVtYmVkZGVkVFZpZXcsICdUVmlldyBtdXN0IGJlIGFsbG9jYXRlZCcpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hWaWV3KGVtYmVkZGVkVFZpZXcsIGVtYmVkZGVkTFZpZXcsIGVtYmVkZGVkVFZpZXcudGVtcGxhdGUsIGVtYmVkZGVkTFZpZXdbQ09OVEVYVF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW1iZWRkZWRMVmlld1tUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaENvbnRhaW5zRGlydHlWaWV3KGVtYmVkZGVkTFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIC8vIFJlZnJlc2ggY2hpbGQgY29tcG9uZW50IHZpZXdzLlxuICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0Vmlldy5jb21wb25lbnRzO1xuICAgIGlmIChjb21wb25lbnRzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChjb21wb25lbnRzW2ldLCBsVmlldyk7XG4gICAgICAgICAgICAvLyBPbmx5IGF0dGFjaGVkIGNvbXBvbmVudHMgdGhhdCBhcmUgQ2hlY2tBbHdheXMgb3IgT25QdXNoIGFuZCBkaXJ0eSBzaG91bGQgYmUgcmVmcmVzaGVkXG4gICAgICAgICAgICBpZiAodmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3Rvcihjb21wb25lbnRWaWV3KSAmJlxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFZpZXdbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID4gMCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hDb250YWluc0RpcnR5Vmlldyhjb21wb25lbnRWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudCQxKGhvc3RMVmlldywgY29tcG9uZW50SG9zdElkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpc0NyZWF0aW9uTW9kZShob3N0TFZpZXcpLCB0cnVlLCAnU2hvdWxkIGJlIHJ1biBpbiBjcmVhdGlvbiBtb2RlJyk7XG4gICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChjb21wb25lbnRIb3N0SWR4LCBob3N0TFZpZXcpO1xuICAgIGNvbnN0IGNvbXBvbmVudFRWaWV3ID0gY29tcG9uZW50Vmlld1tUVklFV107XG4gICAgc3luY1ZpZXdXaXRoQmx1ZXByaW50KGNvbXBvbmVudFRWaWV3LCBjb21wb25lbnRWaWV3KTtcbiAgICByZW5kZXJWaWV3KGNvbXBvbmVudFRWaWV3LCBjb21wb25lbnRWaWV3LCBjb21wb25lbnRWaWV3W0NPTlRFWFRdKTtcbn1cbi8qKlxuICogU3luY3MgYW4gTFZpZXcgaW5zdGFuY2Ugd2l0aCBpdHMgYmx1ZXByaW50IGlmIHRoZXkgaGF2ZSBnb3R0ZW4gb3V0IG9mIHN5bmMuXG4gKlxuICogVHlwaWNhbGx5LCBibHVlcHJpbnRzIGFuZCB0aGVpciB2aWV3IGluc3RhbmNlcyBzaG91bGQgYWx3YXlzIGJlIGluIHN5bmMsIHNvIHRoZSBsb29wIGhlcmVcbiAqIHdpbGwgYmUgc2tpcHBlZC4gSG93ZXZlciwgY29uc2lkZXIgdGhpcyBjYXNlIG9mIHR3byBjb21wb25lbnRzIHNpZGUtYnktc2lkZTpcbiAqXG4gKiBBcHAgdGVtcGxhdGU6XG4gKiBgYGBcbiAqIDxjb21wPjwvY29tcD5cbiAqIDxjb21wPjwvY29tcD5cbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgd2lsbCBoYXBwZW46XG4gKiAxLiBBcHAgdGVtcGxhdGUgYmVnaW5zIHByb2Nlc3NpbmcuXG4gKiAyLiBGaXJzdCA8Y29tcD4gaXMgbWF0Y2hlZCBhcyBhIGNvbXBvbmVudCBhbmQgaXRzIExWaWV3IGlzIGNyZWF0ZWQuXG4gKiAzLiBTZWNvbmQgPGNvbXA+IGlzIG1hdGNoZWQgYXMgYSBjb21wb25lbnQgYW5kIGl0cyBMVmlldyBpcyBjcmVhdGVkLlxuICogNC4gQXBwIHRlbXBsYXRlIGNvbXBsZXRlcyBwcm9jZXNzaW5nLCBzbyBpdCdzIHRpbWUgdG8gY2hlY2sgY2hpbGQgdGVtcGxhdGVzLlxuICogNS4gRmlyc3QgPGNvbXA+IHRlbXBsYXRlIGlzIGNoZWNrZWQuIEl0IGhhcyBhIGRpcmVjdGl2ZSwgc28gaXRzIGRlZiBpcyBwdXNoZWQgdG8gYmx1ZXByaW50LlxuICogNi4gU2Vjb25kIDxjb21wPiB0ZW1wbGF0ZSBpcyBjaGVja2VkLiBJdHMgYmx1ZXByaW50IGhhcyBiZWVuIHVwZGF0ZWQgYnkgdGhlIGZpcnN0XG4gKiA8Y29tcD4gdGVtcGxhdGUsIGJ1dCBpdHMgTFZpZXcgd2FzIGNyZWF0ZWQgYmVmb3JlIHRoaXMgdXBkYXRlLCBzbyBpdCBpcyBvdXQgb2Ygc3luYy5cbiAqXG4gKiBOb3RlIHRoYXQgZW1iZWRkZWQgdmlld3MgaW5zaWRlIG5nRm9yIGxvb3BzIHdpbGwgbmV2ZXIgYmUgb3V0IG9mIHN5bmMgYmVjYXVzZSB0aGVzZSB2aWV3c1xuICogYXJlIHByb2Nlc3NlZCBhcyBzb29uIGFzIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXdgIHRoYXQgY29udGFpbnMgdGhlIGJsdWVwcmludCBmb3Igc3luY2luZ1xuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIHN5bmNcbiAqL1xuZnVuY3Rpb24gc3luY1ZpZXdXaXRoQmx1ZXByaW50KHRWaWV3LCBsVmlldykge1xuICAgIGZvciAobGV0IGkgPSBsVmlldy5sZW5ndGg7IGkgPCB0Vmlldy5ibHVlcHJpbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbFZpZXcucHVzaCh0Vmlldy5ibHVlcHJpbnRbaV0pO1xuICAgIH1cbn1cbi8qKlxuICogQWRkcyBMVmlldyBvciBMQ29udGFpbmVyIHRvIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgdmlldyB0cmVlLlxuICpcbiAqIFRoaXMgc3RydWN0dXJlIHdpbGwgYmUgdXNlZCB0byB0cmF2ZXJzZSB0aHJvdWdoIG5lc3RlZCB2aWV3cyB0byByZW1vdmUgbGlzdGVuZXJzXG4gKiBhbmQgY2FsbCBvbkRlc3Ryb3kgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGVyZSBMVmlldyBvciBMQ29udGFpbmVyIHNob3VsZCBiZSBhZGRlZFxuICogQHBhcmFtIGFkanVzdGVkSG9zdEluZGV4IEluZGV4IG9mIHRoZSB2aWV3J3MgaG9zdCBub2RlIGluIExWaWV3W10sIGFkanVzdGVkIGZvciBoZWFkZXJcbiAqIEBwYXJhbSBsVmlld09yTENvbnRhaW5lciBUaGUgTFZpZXcgb3IgTENvbnRhaW5lciB0byBhZGQgdG8gdGhlIHZpZXcgdHJlZVxuICogQHJldHVybnMgVGhlIHN0YXRlIHBhc3NlZCBpblxuICovXG5mdW5jdGlvbiBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBsVmlld09yTENvbnRhaW5lcikge1xuICAgIC8vIFRPRE8oYmVubGVzaC9taXNrbyk6IFRoaXMgaW1wbGVtZW50YXRpb24gaXMgaW5jb3JyZWN0LCBiZWNhdXNlIGl0IGFsd2F5cyBhZGRzIHRoZSBMQ29udGFpbmVyXG4gICAgLy8gdG8gdGhlIGVuZCBvZiB0aGUgcXVldWUsIHdoaWNoIG1lYW5zIGlmIHRoZSBkZXZlbG9wZXIgcmV0cmlldmVzIHRoZSBMQ29udGFpbmVycyBmcm9tIFJOb2RlcyBvdXRcbiAgICAvLyBvZiBvcmRlciwgdGhlIGNoYW5nZSBkZXRlY3Rpb24gd2lsbCBydW4gb3V0IG9mIG9yZGVyLCBhcyB0aGUgYWN0IG9mIHJldHJpZXZpbmcgdGhlIHRoZVxuICAgIC8vIExDb250YWluZXIgZnJvbSB0aGUgUk5vZGUgaXMgd2hhdCBhZGRzIGl0IHRvIHRoZSBxdWV1ZS5cbiAgICBpZiAobFZpZXdbQ0hJTERfSEVBRF0pIHtcbiAgICAgICAgbFZpZXdbQ0hJTERfVEFJTF1bTkVYVF0gPSBsVmlld09yTENvbnRhaW5lcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxWaWV3W0NISUxEX0hFQURdID0gbFZpZXdPckxDb250YWluZXI7XG4gICAgfVxuICAgIGxWaWV3W0NISUxEX1RBSUxdID0gbFZpZXdPckxDb250YWluZXI7XG4gICAgcmV0dXJuIGxWaWV3T3JMQ29udGFpbmVyO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBDaGFuZ2UgZGV0ZWN0aW9uXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqIE1hcmtzIGN1cnJlbnQgdmlldyBhbmQgYWxsIGFuY2VzdG9ycyBkaXJ0eS5cbiAqXG4gKiBSZXR1cm5zIHRoZSByb290IHZpZXcgYmVjYXVzZSBpdCBpcyBmb3VuZCBhcyBhIGJ5cHJvZHVjdCBvZiBtYXJraW5nIHRoZSB2aWV3IHRyZWVcbiAqIGRpcnR5LCBhbmQgY2FuIGJlIHVzZWQgYnkgbWV0aG9kcyB0aGF0IGNvbnN1bWUgbWFya1ZpZXdEaXJ0eSgpIHRvIGVhc2lseSBzY2hlZHVsZVxuICogY2hhbmdlIGRldGVjdGlvbi4gT3RoZXJ3aXNlLCBzdWNoIG1ldGhvZHMgd291bGQgbmVlZCB0byB0cmF2ZXJzZSB1cCB0aGUgdmlldyB0cmVlXG4gKiBhbiBhZGRpdGlvbmFsIHRpbWUgdG8gZ2V0IHRoZSByb290IHZpZXcgYW5kIHNjaGVkdWxlIGEgdGljayBvbiBpdC5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHN0YXJ0aW5nIExWaWV3IHRvIG1hcmsgZGlydHlcbiAqIEByZXR1cm5zIHRoZSByb290IExWaWV3XG4gKi9cbmZ1bmN0aW9uIG1hcmtWaWV3RGlydHkobFZpZXcpIHtcbiAgICB3aGlsZSAobFZpZXcpIHtcbiAgICAgICAgbFZpZXdbRkxBR1NdIHw9IDY0IC8qIERpcnR5ICovO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBnZXRMVmlld1BhcmVudChsVmlldyk7XG4gICAgICAgIC8vIFN0b3AgdHJhdmVyc2luZyB1cCBhcyBzb29uIGFzIHlvdSBmaW5kIGEgcm9vdCB2aWV3IHRoYXQgd2Fzbid0IGF0dGFjaGVkIHRvIGFueSBjb250YWluZXJcbiAgICAgICAgaWYgKGlzUm9vdFZpZXcobFZpZXcpICYmICFwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsVmlldztcbiAgICAgICAgfVxuICAgICAgICAvLyBjb250aW51ZSBvdGhlcndpc2VcbiAgICAgICAgbFZpZXcgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBVc2VkIHRvIHNjaGVkdWxlIGNoYW5nZSBkZXRlY3Rpb24gb24gdGhlIHdob2xlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFVubGlrZSBgdGlja2AsIGBzY2hlZHVsZVRpY2tgIGNvYWxlc2NlcyBtdWx0aXBsZSBjYWxscyBpbnRvIG9uZSBjaGFuZ2UgZGV0ZWN0aW9uIHJ1bi5cbiAqIEl0IGlzIHVzdWFsbHkgY2FsbGVkIGluZGlyZWN0bHkgYnkgY2FsbGluZyBgbWFya0RpcnR5YCB3aGVuIHRoZSB2aWV3IG5lZWRzIHRvIGJlXG4gKiByZS1yZW5kZXJlZC5cbiAqXG4gKiBUeXBpY2FsbHkgYHNjaGVkdWxlVGlja2AgdXNlcyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB0byBjb2FsZXNjZSBtdWx0aXBsZVxuICogYHNjaGVkdWxlVGlja2AgcmVxdWVzdHMuIFRoZSBzY2hlZHVsaW5nIGZ1bmN0aW9uIGNhbiBiZSBvdmVycmlkZGVuIGluXG4gKiBgcmVuZGVyQ29tcG9uZW50YCdzIGBzY2hlZHVsZXJgIG9wdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2NoZWR1bGVUaWNrKHJvb3RDb250ZXh0LCBmbGFncykge1xuICAgIGNvbnN0IG5vdGhpbmdTY2hlZHVsZWQgPSByb290Q29udGV4dC5mbGFncyA9PT0gMCAvKiBFbXB0eSAqLztcbiAgICBpZiAobm90aGluZ1NjaGVkdWxlZCAmJiByb290Q29udGV4dC5jbGVhbiA9PSBfQ0xFQU5fUFJPTUlTRSkge1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zOTI5NlxuICAgICAgICAvLyBzaG91bGQgb25seSBhdHRhY2ggdGhlIGZsYWdzIHdoZW4gcmVhbGx5IHNjaGVkdWxpbmcgYSB0aWNrXG4gICAgICAgIHJvb3RDb250ZXh0LmZsYWdzIHw9IGZsYWdzO1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICByb290Q29udGV4dC5jbGVhbiA9IG5ldyBQcm9taXNlKChyKSA9PiByZXMgPSByKTtcbiAgICAgICAgcm9vdENvbnRleHQuc2NoZWR1bGVyKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyb290Q29udGV4dC5mbGFncyAmIDEgLyogRGV0ZWN0Q2hhbmdlcyAqLykge1xuICAgICAgICAgICAgICAgIHJvb3RDb250ZXh0LmZsYWdzICY9IH4xIC8qIERldGVjdENoYW5nZXMgKi87XG4gICAgICAgICAgICAgICAgdGlja1Jvb3RDb250ZXh0KHJvb3RDb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb290Q29udGV4dC5mbGFncyAmIDIgLyogRmx1c2hQbGF5ZXJzICovKSB7XG4gICAgICAgICAgICAgICAgcm9vdENvbnRleHQuZmxhZ3MgJj0gfjIgLyogRmx1c2hQbGF5ZXJzICovO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhhbmRsZXIgPSByb290Q29udGV4dC5wbGF5ZXJIYW5kbGVyO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckhhbmRsZXIuZmx1c2hQbGF5ZXJzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vdENvbnRleHQuY2xlYW4gPSBfQ0xFQU5fUFJPTUlTRTtcbiAgICAgICAgICAgIHJlcyhudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGlja1Jvb3RDb250ZXh0KHJvb3RDb250ZXh0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb290Q29udGV4dC5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJvb3RDb21wb25lbnQgPSByb290Q29udGV4dC5jb21wb25lbnRzW2ldO1xuICAgICAgICBjb25zdCBsVmlldyA9IHJlYWRQYXRjaGVkTFZpZXcocm9vdENvbXBvbmVudCk7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICByZW5kZXJDb21wb25lbnRPclRlbXBsYXRlKHRWaWV3LCBsVmlldywgdFZpZXcudGVtcGxhdGUsIHJvb3RDb21wb25lbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGVjdENoYW5nZXNJbnRlcm5hbCh0VmlldywgbFZpZXcsIGNvbnRleHQpIHtcbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmJlZ2luKVxuICAgICAgICByZW5kZXJlckZhY3RvcnkuYmVnaW4oKTtcbiAgICB0cnkge1xuICAgICAgICByZWZyZXNoVmlldyh0VmlldywgbFZpZXcsIHRWaWV3LnRlbXBsYXRlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGxWaWV3LCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5lbmQpXG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgfVxufVxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IHBlcmZvcm0gY2hhbmdlIGRldGVjdGlvbiBvbiBhIHJvb3QgdmlldyBhbmQgaXRzIGNvbXBvbmVudHMuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHdoaWNoIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHNob3VsZCBiZSBwZXJmb3JtZWQgb24uXG4gKi9cbmZ1bmN0aW9uIGRldGVjdENoYW5nZXNJblJvb3RWaWV3KGxWaWV3KSB7XG4gICAgdGlja1Jvb3RDb250ZXh0KGxWaWV3W0NPTlRFWFRdKTtcbn1cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzSW50ZXJuYWwodFZpZXcsIHZpZXcsIGNvbnRleHQpIHtcbiAgICBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJbnRlcm5hbCh0VmlldywgdmlldywgY29udGV4dCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKGZhbHNlKTtcbiAgICB9XG59XG4vKipcbiAqIENoZWNrcyB0aGUgY2hhbmdlIGRldGVjdG9yIG9uIGEgcm9vdCB2aWV3IGFuZCBpdHMgY29tcG9uZW50cywgYW5kIHRocm93cyBpZiBhbnkgY2hhbmdlcyBhcmVcbiAqIGRldGVjdGVkLlxuICpcbiAqIFRoaXMgaXMgdXNlZCBpbiBkZXZlbG9wbWVudCBtb2RlIHRvIHZlcmlmeSB0aGF0IHJ1bm5pbmcgY2hhbmdlIGRldGVjdGlvbiBkb2Vzbid0XG4gKiBpbnRyb2R1Y2Ugb3RoZXIgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgd2hpY2ggdGhlIGNoYW5nZSBkZXRlY3Rpb24gc2hvdWxkIGJlIGNoZWNrZWQgb24uXG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzSW5Sb290VmlldyhsVmlldykge1xuICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXcobFZpZXcpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZShmYWxzZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXhlY3V0ZVZpZXdRdWVyeUZuKGZsYWdzLCB2aWV3UXVlcnlGbiwgY29tcG9uZW50KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodmlld1F1ZXJ5Rm4sICdWaWV3IHF1ZXJpZXMgZnVuY3Rpb24gdG8gZXhlY3V0ZSBtdXN0IGJlIGRlZmluZWQuJyk7XG4gICAgc2V0Q3VycmVudFF1ZXJ5SW5kZXgoMCk7XG4gICAgdmlld1F1ZXJ5Rm4oZmxhZ3MsIGNvbXBvbmVudCk7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIEJpbmRpbmdzICYgaW50ZXJwb2xhdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogU3RvcmVzIG1ldGEtZGF0YSBmb3IgYSBwcm9wZXJ0eSBiaW5kaW5nIHRvIGJlIHVzZWQgYnkgVGVzdEJlZCdzIGBEZWJ1Z0VsZW1lbnQucHJvcGVydGllc2AuXG4gKlxuICogSW4gb3JkZXIgdG8gc3VwcG9ydCBUZXN0QmVkJ3MgYERlYnVnRWxlbWVudC5wcm9wZXJ0aWVzYCB3ZSBuZWVkIHRvIHNhdmUsIGZvciBlYWNoIGJpbmRpbmc6XG4gKiAtIGEgYm91bmQgcHJvcGVydHkgbmFtZTtcbiAqIC0gYSBzdGF0aWMgcGFydHMgb2YgaW50ZXJwb2xhdGVkIHN0cmluZ3M7XG4gKlxuICogQSBnaXZlbiBwcm9wZXJ0eSBtZXRhZGF0YSBpcyBzYXZlZCBhdCB0aGUgYmluZGluZydzIGluZGV4IGluIHRoZSBgVFZpZXcuZGF0YWAgKGluIG90aGVyIHdvcmRzLCBhXG4gKiBwcm9wZXJ0eSBiaW5kaW5nIG1ldGFkYXRhIHdpbGwgYmUgc3RvcmVkIGluIGBUVmlldy5kYXRhYCBhdCB0aGUgc2FtZSBpbmRleCBhcyBhIGJvdW5kIHZhbHVlIGluXG4gKiBgTFZpZXdgKS4gTWV0YWRhdGEgYXJlIHJlcHJlc2VudGVkIGFzIGBJTlRFUlBPTEFUSU9OX0RFTElNSVRFUmAtZGVsaW1pdGVkIHN0cmluZyB3aXRoIHRoZVxuICogZm9sbG93aW5nIGZvcm1hdDpcbiAqIC0gYHByb3BlcnR5TmFtZWAgZm9yIGJvdW5kIHByb3BlcnRpZXM7XG4gKiAtIGBwcm9wZXJ0eU5hbWXvv71wcmVmaXjvv71pbnRlcnBvbGF0aW9uX3N0YXRpY19wYXJ0Me+/vS4uaW50ZXJwb2xhdGlvbl9zdGF0aWNfcGFydE7vv71zdWZmaXhgIGZvclxuICogaW50ZXJwb2xhdGVkIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgbWV0YS1kYXRhIHdpbGwgYmUgc2F2ZWQ7XG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB0aGF0IGlzIGEgdGFyZ2V0IG9mIHRoZSBiaW5kaW5nO1xuICogQHBhcmFtIHByb3BlcnR5TmFtZSBib3VuZCBwcm9wZXJ0eSBuYW1lO1xuICogQHBhcmFtIGJpbmRpbmdJbmRleCBiaW5kaW5nIGluZGV4IGluIGBMVmlld2BcbiAqIEBwYXJhbSBpbnRlcnBvbGF0aW9uUGFydHMgc3RhdGljIGludGVycG9sYXRpb24gcGFydHMgKGZvciBwcm9wZXJ0eSBpbnRlcnBvbGF0aW9ucylcbiAqL1xuZnVuY3Rpb24gc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0RGF0YSwgdE5vZGUsIHByb3BlcnR5TmFtZSwgYmluZGluZ0luZGV4LCAuLi5pbnRlcnBvbGF0aW9uUGFydHMpIHtcbiAgICAvLyBCaW5kaW5nIG1ldGEtZGF0YSBhcmUgc3RvcmVkIG9ubHkgdGhlIGZpcnN0IHRpbWUgYSBnaXZlbiBwcm9wZXJ0eSBpbnN0cnVjdGlvbiBpcyBwcm9jZXNzZWQuXG4gICAgLy8gU2luY2Ugd2UgZG9uJ3QgaGF2ZSBhIGNvbmNlcHQgb2YgdGhlIFwiZmlyc3QgdXBkYXRlIHBhc3NcIiB3ZSBuZWVkIHRvIGNoZWNrIGZvciBwcmVzZW5jZSBvZiB0aGVcbiAgICAvLyBiaW5kaW5nIG1ldGEtZGF0YSB0byBkZWNpZGUgaWYgb25lIHNob3VsZCBiZSBzdG9yZWQgKG9yIGlmIHdhcyBzdG9yZWQgYWxyZWFkeSkuXG4gICAgaWYgKHREYXRhW2JpbmRpbmdJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHROb2RlLmlucHV0cyA9PSBudWxsIHx8ICF0Tm9kZS5pbnB1dHNbcHJvcGVydHlOYW1lXSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcEJpbmRpbmdJZHhzID0gdE5vZGUucHJvcGVydHlCaW5kaW5ncyB8fCAodE5vZGUucHJvcGVydHlCaW5kaW5ncyA9IFtdKTtcbiAgICAgICAgICAgIHByb3BCaW5kaW5nSWR4cy5wdXNoKGJpbmRpbmdJbmRleCk7XG4gICAgICAgICAgICBsZXQgYmluZGluZ01ldGFkYXRhID0gcHJvcGVydHlOYW1lO1xuICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb25QYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYmluZGluZ01ldGFkYXRhICs9XG4gICAgICAgICAgICAgICAgICAgIElOVEVSUE9MQVRJT05fREVMSU1JVEVSICsgaW50ZXJwb2xhdGlvblBhcnRzLmpvaW4oSU5URVJQT0xBVElPTl9ERUxJTUlURVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdERhdGFbYmluZGluZ0luZGV4XSA9IGJpbmRpbmdNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IENMRUFOX1BST01JU0UgPSBfQ0xFQU5fUFJPTUlTRTtcbmZ1bmN0aW9uIGdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwKHZpZXcpIHtcbiAgICAvLyB0b3AgbGV2ZWwgdmFyaWFibGVzIHNob3VsZCBub3QgYmUgZXhwb3J0ZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKFBFUkZfTk9URVMubWQpXG4gICAgcmV0dXJuIHZpZXdbQ0xFQU5VUF0gfHwgKHZpZXdbQ0xFQU5VUF0gPSBuZ0Rldk1vZGUgPyBuZXcgTENsZWFudXAoKSA6IFtdKTtcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVFZpZXdDbGVhbnVwKHRWaWV3KSB7XG4gICAgcmV0dXJuIHRWaWV3LmNsZWFudXAgfHwgKHRWaWV3LmNsZWFudXAgPSBuZ0Rldk1vZGUgPyBuZXcgVENsZWFudXAoKSA6IFtdKTtcbn1cbi8qKlxuICogVGhlcmUgYXJlIGNhc2VzIHdoZXJlIHRoZSBzdWIgY29tcG9uZW50J3MgcmVuZGVyZXIgbmVlZHMgdG8gYmUgaW5jbHVkZWRcbiAqIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcmVuZGVyZXIgKHNlZSB0aGUgY29tcG9uZW50U3ludGhldGljSG9zdCogaW5zdHJ1Y3Rpb25zKS5cbiAqL1xuZnVuY3Rpb24gbG9hZENvbXBvbmVudFJlbmRlcmVyKGN1cnJlbnREZWYsIHROb2RlLCBsVmlldykge1xuICAgIC8vIFRPRE8oRlctMjA0Myk6IHRoZSBgY3VycmVudERlZmAgaXMgbnVsbCB3aGVuIGhvc3QgYmluZGluZ3MgYXJlIGludm9rZWQgd2hpbGUgY3JlYXRpbmcgcm9vdFxuICAgIC8vIGNvbXBvbmVudCAoc2VlIHBhY2thZ2VzL2NvcmUvc3JjL3JlbmRlcjMvY29tcG9uZW50LnRzKS4gVGhpcyBpcyBub3QgY29uc2lzdGVudCB3aXRoIHRoZSBwcm9jZXNzXG4gICAgLy8gb2YgY3JlYXRpbmcgaW5uZXIgY29tcG9uZW50cywgd2hlbiBjdXJyZW50IGRpcmVjdGl2ZSBpbmRleCBpcyBhdmFpbGFibGUgaW4gdGhlIHN0YXRlLiBJbiBvcmRlclxuICAgIC8vIHRvIGF2b2lkIHJlbHlpbmcgb24gY3VycmVudCBkZWYgYmVpbmcgYG51bGxgICh0aHVzIHNwZWNpYWwtY2FzaW5nIHJvb3QgY29tcG9uZW50IGNyZWF0aW9uKSwgdGhlXG4gICAgLy8gcHJvY2VzcyBvZiBjcmVhdGluZyByb290IGNvbXBvbmVudCBzaG91bGQgYmUgdW5pZmllZCB3aXRoIHRoZSBwcm9jZXNzIG9mIGNyZWF0aW5nIGlubmVyXG4gICAgLy8gY29tcG9uZW50cy5cbiAgICBpZiAoY3VycmVudERlZiA9PT0gbnVsbCB8fCBpc0NvbXBvbmVudERlZihjdXJyZW50RGVmKSkge1xuICAgICAgICBsVmlldyA9IHVud3JhcExWaWV3KGxWaWV3W3ROb2RlLmluZGV4XSk7XG4gICAgfVxuICAgIHJldHVybiBsVmlld1tSRU5ERVJFUl07XG59XG4vKiogSGFuZGxlcyBhbiBlcnJvciB0aHJvd24gaW4gYW4gTFZpZXcuICovXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihsVmlldywgZXJyb3IpIHtcbiAgICBjb25zdCBpbmplY3RvciA9IGxWaWV3W0lOSkVDVE9SJDFdO1xuICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IGluamVjdG9yID8gaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlciwgbnVsbCkgOiBudWxsO1xuICAgIGVycm9ySGFuZGxlciAmJiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGlucHV0cyBvZiBkaXJlY3RpdmVzIGF0IHRoZSBjdXJyZW50IG5vZGUgdG8gY29ycmVzcG9uZGluZyB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGN1cnJlbnQgVFZpZXdcbiAqIEBwYXJhbSBsVmlldyB0aGUgYExWaWV3YCB3aGljaCBjb250YWlucyB0aGUgZGlyZWN0aXZlcy5cbiAqIEBwYXJhbSBpbnB1dHMgbWFwcGluZyBiZXR3ZWVuIHRoZSBwdWJsaWMgXCJpbnB1dFwiIG5hbWUgYW5kIHByaXZhdGVseS1rbm93bixcbiAqICAgICAgICBwb3NzaWJseSBtaW5pZmllZCwgcHJvcGVydHkgbmFtZXMgdG8gd3JpdGUgdG8uXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRJbnB1dHNGb3JQcm9wZXJ0eSh0VmlldywgbFZpZXcsIGlucHV0cywgcHVibGljTmFtZSwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gaW5wdXRzW2krK107XG4gICAgICAgIGNvbnN0IHByaXZhdGVOYW1lID0gaW5wdXRzW2krK107XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbFZpZXdbaW5kZXhdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoZGVmLnNldElucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkZWYuc2V0SW5wdXQoaW5zdGFuY2UsIHZhbHVlLCBwdWJsaWNOYW1lLCBwcml2YXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZVtwcml2YXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVXBkYXRlcyBhIHRleHQgYmluZGluZyBhdCBhIGdpdmVuIGluZGV4IGluIGEgZ2l2ZW4gTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGluZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRTdHJpbmcodmFsdWUsICdWYWx1ZSBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90U2FtZSh2YWx1ZSwgTk9fQ0hBTkdFLCAndmFsdWUgc2hvdWxkIG5vdCBiZSBOT19DSEFOR0UnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgY29uc3QgZWxlbWVudCA9IGdldE5hdGl2ZUJ5SW5kZXgoaW5kZXgsIGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChlbGVtZW50LCAnbmF0aXZlIGVsZW1lbnQgc2hvdWxkIGV4aXN0Jyk7XG4gICAgdXBkYXRlVGV4dE5vZGUobFZpZXdbUkVOREVSRVJdLCBlbGVtZW50LCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb21wdXRlIHRoZSBzdGF0aWMgc3R5bGluZyAoY2xhc3Mvc3R5bGUpIGZyb20gYFRBdHRyaWJ1dGVzYC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgZHVyaW5nIGBmaXJzdENyZWF0ZVBhc3NgIG9ubHkuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBgVE5vZGVgIGludG8gd2hpY2ggdGhlIHN0eWxpbmcgaW5mb3JtYXRpb24gc2hvdWxkIGJlIGxvYWRlZC5cbiAqIEBwYXJhbSBhdHRycyBgVEF0dHJpYnV0ZXNgIGNvbnRhaW5pbmcgdGhlIHN0eWxpbmcgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0gd3JpdGVUb0hvc3QgV2hlcmUgc2hvdWxkIHRoZSByZXN1bHRpbmcgc3RhdGljIHN0eWxlcyBiZSB3cml0dGVuP1xuICogICAtIGBmYWxzZWAgV3JpdGUgdG8gYFROb2RlLnN0eWxlc1dpdGhvdXRIb3N0YCAvIGBUTm9kZS5jbGFzc2VzV2l0aG91dEhvc3RgXG4gKiAgIC0gYHRydWVgIFdyaXRlIHRvIGBUTm9kZS5zdHlsZXNgIC8gYFROb2RlLmNsYXNzZXNgXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCBhdHRycywgd3JpdGVUb0hvc3QpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKGdldFRWaWV3KCksICdFeHBlY3RpbmcgdG8gYmUgY2FsbGVkIGluIGZpcnN0IHRlbXBsYXRlIHBhc3Mgb25seScpO1xuICAgIGxldCBzdHlsZXMgPSB3cml0ZVRvSG9zdCA/IHROb2RlLnN0eWxlcyA6IG51bGw7XG4gICAgbGV0IGNsYXNzZXMgPSB3cml0ZVRvSG9zdCA/IHROb2RlLmNsYXNzZXMgOiBudWxsO1xuICAgIGxldCBtb2RlID0gMDtcbiAgICBpZiAoYXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PSAxIC8qIENsYXNzZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gY29uY2F0U3RyaW5nc1dpdGhTcGFjZShjbGFzc2VzLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09IDIgLyogU3R5bGVzICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVZhbHVlID0gYXR0cnNbKytpXTtcbiAgICAgICAgICAgICAgICBzdHlsZXMgPSBjb25jYXRTdHJpbmdzV2l0aFNwYWNlKHN0eWxlcywgc3R5bGUgKyAnOiAnICsgc3R5bGVWYWx1ZSArICc7Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgd3JpdGVUb0hvc3QgPyB0Tm9kZS5zdHlsZXMgPSBzdHlsZXMgOiB0Tm9kZS5zdHlsZXNXaXRob3V0SG9zdCA9IHN0eWxlcztcbiAgICB3cml0ZVRvSG9zdCA/IHROb2RlLmNsYXNzZXMgPSBjbGFzc2VzIDogdE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0ID0gY2xhc3Nlcztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGEgY29tcG9uZW50IChhbmQgcG9zc2libHkgaXRzIHN1Yi1jb21wb25lbnRzKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRyaWdnZXJzIGNoYW5nZSBkZXRlY3Rpb24gaW4gYSBzeW5jaHJvbm91cyB3YXkgb24gYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHdoaWNoIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHNob3VsZCBiZSBwZXJmb3JtZWQgb24uXG4gKi9cbmZ1bmN0aW9uIGRldGVjdENoYW5nZXMoY29tcG9uZW50KSB7XG4gICAgY29uc3QgdmlldyA9IGdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlKGNvbXBvbmVudCk7XG4gICAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHZpZXdbVFZJRVddLCB2aWV3LCBjb21wb25lbnQpO1xufVxuLyoqXG4gKiBNYXJrcyB0aGUgY29tcG9uZW50IGFzIGRpcnR5IChuZWVkaW5nIGNoYW5nZSBkZXRlY3Rpb24pLiBNYXJraW5nIGEgY29tcG9uZW50IGRpcnR5IHdpbGxcbiAqIHNjaGVkdWxlIGEgY2hhbmdlIGRldGVjdGlvbiBvbiBpdCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG4gKlxuICogTWFya2luZyBhbiBhbHJlYWR5IGRpcnR5IGNvbXBvbmVudCBhcyBkaXJ0eSB3b24ndCBkbyBhbnl0aGluZy4gT25seSBvbmUgb3V0c3RhbmRpbmcgY2hhbmdlXG4gKiBkZXRlY3Rpb24gY2FuIGJlIHNjaGVkdWxlZCBwZXIgY29tcG9uZW50IHRyZWUuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgdG8gbWFyayBhcyBkaXJ0eS5cbiAqL1xuZnVuY3Rpb24gbWFya0RpcnR5KGNvbXBvbmVudCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGNvbXBvbmVudCwgJ2NvbXBvbmVudCcpO1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gbWFya1ZpZXdEaXJ0eShnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZShjb21wb25lbnQpKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChyb290Vmlld1tDT05URVhUXSwgJ3Jvb3RDb250ZXh0IHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gICAgc2NoZWR1bGVUaWNrKHJvb3RWaWV3W0NPTlRFWFRdLCAxIC8qIERldGVjdENoYW5nZXMgKi8pO1xufVxuLyoqXG4gKiBVc2VkIHRvIHBlcmZvcm0gY2hhbmdlIGRldGVjdGlvbiBvbiB0aGUgd2hvbGUgYXBwbGljYXRpb24uXG4gKlxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIGBkZXRlY3RDaGFuZ2VzYCwgYnV0IGludm9rZWQgb24gcm9vdCBjb21wb25lbnQuIEFkZGl0aW9uYWxseSwgYHRpY2tgXG4gKiBleGVjdXRlcyBsaWZlY3ljbGUgaG9va3MgYW5kIGNvbmRpdGlvbmFsbHkgY2hlY2tzIGNvbXBvbmVudHMgYmFzZWQgb24gdGhlaXJcbiAqIGBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneWAgYW5kIGRpcnRpbmVzcy5cbiAqXG4gKiBUaGUgcHJlZmVycmVkIHdheSB0byB0cmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24gaXMgdG8gY2FsbCBgbWFya0RpcnR5YC4gYG1hcmtEaXJ0eWAgaW50ZXJuYWxseVxuICogc2NoZWR1bGVzIGB0aWNrYCB1c2luZyBhIHNjaGVkdWxlciBpbiBvcmRlciB0byBjb2FsZXNjZSBtdWx0aXBsZSBgbWFya0RpcnR5YCBjYWxscyBpbnRvIGFcbiAqIHNpbmdsZSBjaGFuZ2UgZGV0ZWN0aW9uIHJ1bi4gQnkgZGVmYXVsdCwgdGhlIHNjaGVkdWxlciBpcyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCwgYnV0IGNhblxuICogYmUgY2hhbmdlZCB3aGVuIGNhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgYW5kIHByb3ZpZGluZyB0aGUgYHNjaGVkdWxlcmAgb3B0aW9uLlxuICovXG5mdW5jdGlvbiB0aWNrKGNvbXBvbmVudCkge1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gZ2V0Um9vdFZpZXcoY29tcG9uZW50KTtcbiAgICBjb25zdCByb290Q29udGV4dCA9IHJvb3RWaWV3W0NPTlRFWFRdO1xuICAgIHRpY2tSb290Q29udGV4dChyb290Q29udGV4dCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiBJbmplY3Rpb25Ub2tlbiB0aGF0IGdldHMgdGhlIGN1cnJlbnQgYEluamVjdG9yYCBmb3IgYGNyZWF0ZUluamVjdG9yKClgLXN0eWxlIGluamVjdG9ycy5cbiAqXG4gKiBSZXF1ZXN0aW5nIHRoaXMgdG9rZW4gaW5zdGVhZCBvZiBgSW5qZWN0b3JgIGFsbG93cyBgU3RhdGljSW5qZWN0b3JgIHRvIGJlIHRyZWUtc2hha2VuIGZyb20gYVxuICogcHJvamVjdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IElOSkVDVE9SID0gbmV3IEluamVjdGlvblRva2VuKCdJTkpFQ1RPUicsIFxuLy8gRGlzc2FibGUgdHNsaW50IGJlY2F1c2UgdGhpcyBpcyBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZCBub3QgdG9wIGxldmVsIHByb3AgYWNjZXNzLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3Ncbi0xIC8qIEluamVjdG9yICovKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBOdWxsSW5qZWN0b3Ige1xuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSA9IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgTnVsbEluamVjdG9yRXJyb3I6IE5vIHByb3ZpZGVyIGZvciAke3N0cmluZ2lmeSh0b2tlbil9IWApO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9ICdOdWxsSW5qZWN0b3JFcnJvcic7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiBpbnRlcm5hbCB0b2tlbiB3aG9zZSBwcmVzZW5jZSBpbiBhbiBpbmplY3RvciBpbmRpY2F0ZXMgdGhhdCB0aGUgaW5qZWN0b3Igc2hvdWxkIHRyZWF0IGl0c2VsZlxuICogYXMgYSByb290IHNjb3BlZCBpbmplY3RvciB3aGVuIHByb2Nlc3NpbmcgcmVxdWVzdHMgZm9yIHVua25vd24gdG9rZW5zIHdoaWNoIG1heSBpbmRpY2F0ZVxuICogdGhleSBhcmUgcHJvdmlkZWQgaW4gdGhlIHJvb3Qgc2NvcGUuXG4gKi9cbmNvbnN0IElOSkVDVE9SX1NDT1BFID0gbmV3IEluamVjdGlvblRva2VuKCdTZXQgSW5qZWN0b3Igc2NvcGUuJyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrZXIgd2hpY2ggaW5kaWNhdGVzIHRoYXQgYSB2YWx1ZSBoYXMgbm90IHlldCBiZWVuIGNyZWF0ZWQgZnJvbSB0aGUgZmFjdG9yeSBmdW5jdGlvbi5cbiAqL1xuY29uc3QgTk9UX1lFVCA9IHt9O1xuLyoqXG4gKiBNYXJrZXIgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlIGZhY3RvcnkgZnVuY3Rpb24gZm9yIGEgdG9rZW4gaXMgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgY2FsbGVkLlxuICpcbiAqIElmIHRoZSBpbmplY3RvciBpcyBhc2tlZCB0byBpbmplY3QgYSB0b2tlbiB3aXRoIGl0cyB2YWx1ZSBzZXQgdG8gQ0lSQ1VMQVIsIHRoYXQgaW5kaWNhdGVzXG4gKiBpbmplY3Rpb24gb2YgYSBkZXBlbmRlbmN5IGhhcyByZWN1cnNpdmVseSBhdHRlbXB0ZWQgdG8gaW5qZWN0IHRoZSBvcmlnaW5hbCB0b2tlbiwgYW5kIHRoZXJlIGlzXG4gKiBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgYW1vbmcgdGhlIHByb3ZpZGVycy5cbiAqL1xuY29uc3QgQ0lSQ1VMQVIgPSB7fTtcbi8qKlxuICogQSBsYXppbHkgaW5pdGlhbGl6ZWQgTnVsbEluamVjdG9yLlxuICovXG5sZXQgTlVMTF9JTkpFQ1RPUiQxID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gZ2V0TnVsbEluamVjdG9yKCkge1xuICAgIGlmIChOVUxMX0lOSkVDVE9SJDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBOVUxMX0lOSkVDVE9SJDEgPSBuZXcgTnVsbEluamVjdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBOVUxMX0lOSkVDVE9SJDE7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBgSW5qZWN0b3JgIHdoaWNoIGlzIGNvbmZpZ3VyZWQgdXNpbmcgYSBgZGVmVHlwZWAgb2YgYEluamVjdG9yVHlwZTxhbnk+YHMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmplY3RvcihkZWZUeXBlLCBwYXJlbnQgPSBudWxsLCBhZGRpdGlvbmFsUHJvdmlkZXJzID0gbnVsbCwgbmFtZSkge1xuICAgIGNvbnN0IGluamVjdG9yID0gY3JlYXRlSW5qZWN0b3JXaXRob3V0SW5qZWN0b3JJbnN0YW5jZXMoZGVmVHlwZSwgcGFyZW50LCBhZGRpdGlvbmFsUHJvdmlkZXJzLCBuYW1lKTtcbiAgICBpbmplY3Rvci5fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKTtcbiAgICByZXR1cm4gaW5qZWN0b3I7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5qZWN0b3Igd2l0aG91dCBlYWdlcmx5IHJlc29sdmluZyBpdHMgaW5qZWN0b3IgdHlwZXMuIENhbiBiZSB1c2VkIGluIHBsYWNlc1xuICogd2hlcmUgcmVzb2x2aW5nIHRoZSBpbmplY3RvciB0eXBlcyBpbW1lZGlhdGVseSBjYW4gbGVhZCB0byBhbiBpbmZpbml0ZSBsb29wLiBUaGUgaW5qZWN0b3IgdHlwZXNcbiAqIHNob3VsZCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHBvaW50IGJ5IGNhbGxpbmcgYF9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlc2AuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzKGRlZlR5cGUsIHBhcmVudCA9IG51bGwsIGFkZGl0aW9uYWxQcm92aWRlcnMgPSBudWxsLCBuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBSM0luamVjdG9yKGRlZlR5cGUsIGFkZGl0aW9uYWxQcm92aWRlcnMsIHBhcmVudCB8fCBnZXROdWxsSW5qZWN0b3IoKSwgbmFtZSk7XG59XG5jbGFzcyBSM0luamVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihkZWYsIGFkZGl0aW9uYWxQcm92aWRlcnMsIHBhcmVudCwgc291cmNlID0gbnVsbCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiB0b2tlbnMgdG8gcmVjb3JkcyB3aGljaCBjb250YWluIHRoZSBpbnN0YW5jZXMgb2YgdGhvc2UgdG9rZW5zLlxuICAgICAgICAgKiAtIGBudWxsYCB2YWx1ZSBpbXBsaWVzIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0aGUgcmVjb3JkLiBVc2VkIGJ5IHRyZWUtc2hha2FibGUgaW5qZWN0b3JzXG4gICAgICAgICAqIHRvIHByZXZlbnQgZnVydGhlciBzZWFyY2hlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVjb3JkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2l0aXZlIHNldCBvZiBgSW5qZWN0b3JUeXBlYHMgd2hpY2ggZGVmaW5lIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgb2YgdmFsdWVzIGluc3RhbnRpYXRlZCBieSB0aGlzIGluamVjdG9yIHdoaWNoIGNvbnRhaW4gYG5nT25EZXN0cm95YCBsaWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRGVzdHJveSA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGRlZHVwU3RhY2sgPSBbXTtcbiAgICAgICAgLy8gU3RhcnQgb2ZmIGJ5IGNyZWF0aW5nIFJlY29yZHMgZm9yIGV2ZXJ5IHByb3ZpZGVyIGRlY2xhcmVkIGluIGV2ZXJ5IEluamVjdG9yVHlwZVxuICAgICAgICAvLyBpbmNsdWRlZCB0cmFuc2l0aXZlbHkgaW4gYWRkaXRpb25hbCBwcm92aWRlcnMgdGhlbiBkbyB0aGUgc2FtZSBmb3IgYGRlZmAuIFRoaXMgb3JkZXIgaXNcbiAgICAgICAgLy8gaW1wb3J0YW50IGJlY2F1c2UgYGRlZmAgbWF5IGluY2x1ZGUgcHJvdmlkZXJzIHRoYXQgb3ZlcnJpZGUgb25lcyBpbiBhZGRpdGlvbmFsUHJvdmlkZXJzLlxuICAgICAgICBhZGRpdGlvbmFsUHJvdmlkZXJzICYmXG4gICAgICAgICAgICBkZWVwRm9yRWFjaChhZGRpdGlvbmFsUHJvdmlkZXJzLCBwcm92aWRlciA9PiB0aGlzLnByb2Nlc3NQcm92aWRlcihwcm92aWRlciwgZGVmLCBhZGRpdGlvbmFsUHJvdmlkZXJzKSk7XG4gICAgICAgIGRlZXBGb3JFYWNoKFtkZWZdLCBpbmplY3RvckRlZiA9PiB0aGlzLnByb2Nlc3NJbmplY3RvclR5cGUoaW5qZWN0b3JEZWYsIFtdLCBkZWR1cFN0YWNrKSk7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgSU5KRUNUT1IgdG9rZW4gcHJvdmlkZXMgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgdGhpcy5yZWNvcmRzLnNldChJTkpFQ1RPUiwgbWFrZVJlY29yZCh1bmRlZmluZWQsIHRoaXMpKTtcbiAgICAgICAgLy8gRGV0ZWN0IHdoZXRoZXIgdGhpcyBpbmplY3RvciBoYXMgdGhlIEFQUF9ST09UX1NDT1BFIHRva2VuIGFuZCB0aHVzIHNob3VsZCBwcm92aWRlXG4gICAgICAgIC8vIGFueSBpbmplY3RhYmxlIHNjb3BlZCB0byBBUFBfUk9PVF9TQ09QRS5cbiAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5yZWNvcmRzLmdldChJTkpFQ1RPUl9TQ09QRSk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSByZWNvcmQgIT0gbnVsbCA/IHJlY29yZC52YWx1ZSA6IG51bGw7XG4gICAgICAgIC8vIFNvdXJjZSBuYW1lLCB1c2VkIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2UgfHwgKHR5cGVvZiBkZWYgPT09ICdvYmplY3QnID8gbnVsbCA6IHN0cmluZ2lmeShkZWYpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmxhZyBpbmRpY2F0aW5nIHRoYXQgdGhpcyBpbmplY3RvciB3YXMgcHJldmlvdXNseSBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgZ2V0IGRlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgaW5qZWN0b3IgYW5kIHJlbGVhc2UgcmVmZXJlbmNlcyB0byBldmVyeSBpbnN0YW5jZSBvciBwcm92aWRlciBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgICpcbiAgICAgKiBBbHNvIGNhbGxzIHRoZSBgT25EZXN0cm95YCBsaWZlY3ljbGUgaG9va3Mgb2YgZXZlcnkgaW5zdGFuY2UgdGhhdCB3YXMgY3JlYXRlZCBmb3Igd2hpY2ggYVxuICAgICAqIGhvb2sgd2FzIGZvdW5kLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgICAgIC8vIFNldCBkZXN0cm95ZWQgPSB0cnVlIGZpcnN0LCBpbiBjYXNlIGxpZmVjeWNsZSBob29rcyByZS1lbnRlciBkZXN0cm95KCkuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDYWxsIGFsbCB0aGUgbGlmZWN5Y2xlIGhvb2tzLlxuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3kuZm9yRWFjaChzZXJ2aWNlID0+IHNlcnZpY2UubmdPbkRlc3Ryb3koKSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAvLyBSZWxlYXNlIGFsbCByZWZlcmVuY2VzLlxuICAgICAgICAgICAgdGhpcy5yZWNvcmRzLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5pbmplY3RvckRlZlR5cGVzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gVEhST1dfSUZfTk9UX0ZPVU5ELCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICAgICAgLy8gU2V0IHRoZSBpbmplY3Rpb24gY29udGV4dC5cbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmplY3RvciA9IHNldEN1cnJlbnRJbmplY3Rvcih0aGlzKTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IHNldEluamVjdEltcGxlbWVudGF0aW9uKHVuZGVmaW5lZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIFNraXBTZWxmIGZsYWcuXG4gICAgICAgICAgICBpZiAoIShmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSkge1xuICAgICAgICAgICAgICAgIC8vIFNraXBTZWxmIGlzbid0IHNldCwgY2hlY2sgaWYgdGhlIHJlY29yZCBiZWxvbmdzIHRvIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMucmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyByZWNvcmQsIGJ1dCBtYXliZSB0aGUgdG9rZW4gaXMgc2NvcGVkIHRvIHRoaXMgaW5qZWN0b3IuIExvb2sgZm9yIGFuIGluamVjdGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmIHdpdGggYSBzY29wZSBtYXRjaGluZyB0aGlzIGluamVjdG9yLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWYgPSBjb3VsZEJlSW5qZWN0YWJsZVR5cGUodG9rZW4pICYmIGdldEluamVjdGFibGVEZWYodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmICYmIHRoaXMuaW5qZWN0YWJsZURlZkluU2NvcGUoZGVmKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgYW4gaW5qZWN0YWJsZSBkZWYgYW5kIGl0J3Mgc2NvcGVkIHRvIHRoaXMgaW5qZWN0b3IuIFByZXRlbmQgYXMgaWYgaXQgd2FzIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbCBhbG9uZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IG1ha2VSZWNvcmQoaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5KHRva2VuKSwgTk9UX1lFVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5zZXQodG9rZW4sIHJlY29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGEgcmVjb3JkIHdhcyBmb3VuZCwgZ2V0IHRoZSBpbnN0YW5jZSBmb3IgaXQgYW5kIHJldHVybiBpdC5cbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkICE9IG51bGwgLyogTk9UIG51bGwgfHwgdW5kZWZpbmVkICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh5ZHJhdGUodG9rZW4sIHJlY29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBuZXh0IGluamVjdG9yIGJhc2VkIG9uIHRoZSBTZWxmIGZsYWcgLSBpZiBzZWxmIGlzIHNldCwgdGhlIG5leHQgaW5qZWN0b3IgaXNcbiAgICAgICAgICAgIC8vIHRoZSBOdWxsSW5qZWN0b3IsIG90aGVyd2lzZSBpdCdzIHRoZSBwYXJlbnQuXG4gICAgICAgICAgICBjb25zdCBuZXh0SW5qZWN0b3IgPSAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2VsZikgPyB0aGlzLnBhcmVudCA6IGdldE51bGxJbmplY3RvcigpO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBub3RGb3VuZFZhbHVlIGJhc2VkIG9uIHRoZSBPcHRpb25hbCBmbGFnIC0gaWYgb3B0aW9uYWwgaXMgc2V0IGFuZCBub3RGb3VuZFZhbHVlXG4gICAgICAgICAgICAvLyBpcyB1bmRlZmluZWQsIHRoZSB2YWx1ZSBpcyBudWxsLCBvdGhlcndpc2UgaXQncyB0aGUgbm90Rm91bmRWYWx1ZS5cbiAgICAgICAgICAgIG5vdEZvdW5kVmFsdWUgPSAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCkgJiYgbm90Rm91bmRWYWx1ZSA9PT0gVEhST1dfSUZfTk9UX0ZPVU5EID9cbiAgICAgICAgICAgICAgICBudWxsIDpcbiAgICAgICAgICAgICAgICBub3RGb3VuZFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRJbmplY3Rvci5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnTnVsbEluamVjdG9yRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGVbTkdfVEVNUF9UT0tFTl9QQVRIXSA9IGVbTkdfVEVNUF9UT0tFTl9QQVRIXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzSW5qZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc3RpbGwgaGF2ZSBhIHBhcmVudCBpbmplY3Rvciwga2VlcCB0aHJvd2luZ1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0ICYgdGhyb3cgdGhlIGZpbmFsIGVycm9yIG1lc3NhZ2Ugd2hlbiB3ZSBkb24ndCBoYXZlIGFueSBwcmV2aW91cyBpbmplY3RvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0Y2hJbmplY3RvckVycm9yKGUsIHRva2VuLCAnUjNJbmplY3RvckVycm9yJywgdGhpcy5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAvLyBMYXN0bHksIHJlc3RvcmUgdGhlIHByZXZpb3VzIGluamVjdGlvbiBjb250ZXh0LlxuICAgICAgICAgICAgc2V0SW5qZWN0SW1wbGVtZW50YXRpb24ocHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICBzZXRDdXJyZW50SW5qZWN0b3IocHJldmlvdXNJbmplY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpIHtcbiAgICAgICAgdGhpcy5pbmplY3RvckRlZlR5cGVzLmZvckVhY2goZGVmVHlwZSA9PiB0aGlzLmdldChkZWZUeXBlKSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBbXSwgcmVjb3JkcyA9IHRoaXMucmVjb3JkcztcbiAgICAgICAgcmVjb3Jkcy5mb3JFYWNoKCh2LCB0b2tlbikgPT4gdG9rZW5zLnB1c2goc3RyaW5naWZ5KHRva2VuKSkpO1xuICAgICAgICByZXR1cm4gYFIzSW5qZWN0b3JbJHt0b2tlbnMuam9pbignLCAnKX1dYDtcbiAgICB9XG4gICAgYXNzZXJ0Tm90RGVzdHJveWVkKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwNSAvKiBJTkpFQ1RPUl9BTFJFQURZX0RFU1RST1lFRCAqLywgbmdEZXZNb2RlICYmICdJbmplY3RvciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYEluamVjdG9yVHlwZWAgb3IgYEluamVjdG9yVHlwZVdpdGhQcm92aWRlcnNgIGFuZCBhbGwgb2YgaXRzIHRyYW5zaXRpdmUgcHJvdmlkZXJzXG4gICAgICogdG8gdGhpcyBpbmplY3Rvci5cbiAgICAgKlxuICAgICAqIElmIGFuIGBJbmplY3RvclR5cGVXaXRoUHJvdmlkZXJzYCB0aGF0IGRlY2xhcmVzIHByb3ZpZGVycyBiZXNpZGVzIHRoZSB0eXBlIGlzIHNwZWNpZmllZCxcbiAgICAgKiB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gXCJ0cnVlXCIgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcHJvdmlkZXJzIG9mIHRoZSB0eXBlIGRlZmluaXRpb24gbmVlZFxuICAgICAqIHRvIGJlIHByb2Nlc3NlZC4gVGhpcyBhbGxvd3MgdXMgdG8gcHJvY2VzcyBwcm92aWRlcnMgb2YgaW5qZWN0b3IgdHlwZXMgYWZ0ZXIgYWxsIGltcG9ydHMgb2ZcbiAgICAgKiBhbiBpbmplY3RvciBkZWZpbml0aW9uIGFyZSBwcm9jZXNzZWQuIChmb2xsb3dpbmcgVmlldyBFbmdpbmUgc2VtYW50aWNzOiBzZWUgRlctMTM0OSlcbiAgICAgKi9cbiAgICBwcm9jZXNzSW5qZWN0b3JUeXBlKGRlZk9yV3JhcHBlZERlZiwgcGFyZW50cywgZGVkdXBTdGFjaykge1xuICAgICAgICBkZWZPcldyYXBwZWREZWYgPSByZXNvbHZlRm9yd2FyZFJlZihkZWZPcldyYXBwZWREZWYpO1xuICAgICAgICBpZiAoIWRlZk9yV3JhcHBlZERlZilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gRWl0aGVyIHRoZSBkZWZPcldyYXBwZWREZWYgaXMgYW4gSW5qZWN0b3JUeXBlICh3aXRoIGluamVjdG9yIGRlZikgb3IgYW5cbiAgICAgICAgLy8gSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycyAoYWthIE1vZHVsZVdpdGhQcm92aWRlcnMpLiBEZXRlY3RpbmcgZWl0aGVyIGlzIGEgbWVnYW1vcnBoaWNcbiAgICAgICAgLy8gcmVhZCwgc28gY2FyZSBpcyB0YWtlbiB0byBvbmx5IGRvIHRoZSByZWFkIG9uY2UuXG4gICAgICAgIC8vIEZpcnN0IGF0dGVtcHQgdG8gcmVhZCB0aGUgaW5qZWN0b3IgZGVmIChgybVpbmpgKS5cbiAgICAgICAgbGV0IGRlZiA9IGdldEluamVjdG9yRGVmKGRlZk9yV3JhcHBlZERlZik7XG4gICAgICAgIC8vIElmIHRoYXQncyBub3QgcHJlc2VudCwgdGhlbiBhdHRlbXB0IHRvIHJlYWQgbmdNb2R1bGUgZnJvbSB0aGUgSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycy5cbiAgICAgICAgY29uc3QgbmdNb2R1bGUgPSAoZGVmID09IG51bGwpICYmIGRlZk9yV3JhcHBlZERlZi5uZ01vZHVsZSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIC8vIERldGVybWluZSB0aGUgSW5qZWN0b3JUeXBlLiBJbiB0aGUgY2FzZSB3aGVyZSBgZGVmT3JXcmFwcGVkRGVmYCBpcyBhbiBgSW5qZWN0b3JUeXBlYCxcbiAgICAgICAgLy8gdGhlbiB0aGlzIGlzIGVhc3kuIEluIHRoZSBjYXNlIG9mIGFuIEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnMsIHRoZW4gdGhlIGRlZmluaXRpb24gdHlwZVxuICAgICAgICAvLyBpcyB0aGUgYG5nTW9kdWxlYC5cbiAgICAgICAgY29uc3QgZGVmVHlwZSA9IChuZ01vZHVsZSA9PT0gdW5kZWZpbmVkKSA/IGRlZk9yV3JhcHBlZERlZiA6IG5nTW9kdWxlO1xuICAgICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHBhcmVudHMuaW5kZXhPZihkZWZUeXBlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZk5hbWUgPSBzdHJpbmdpZnkoZGVmVHlwZSk7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gcGFyZW50cy5tYXAoc3RyaW5naWZ5KTtcbiAgICAgICAgICAgIHRocm93Q3ljbGljRGVwZW5kZW5jeUVycm9yKGRlZk5hbWUsIHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBtdWx0aXBsZSBpbXBvcnRzIG9mIHRoZSBzYW1lIG1vZHVsZVxuICAgICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IGRlZHVwU3RhY2suaW5kZXhPZihkZWZUeXBlKSAhPT0gLTE7XG4gICAgICAgIC8vIEZpbmFsbHksIGlmIGRlZk9yV3JhcHBlZFR5cGUgd2FzIGFuIGBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzYCwgdGhlbiB0aGUgYWN0dWFsXG4gICAgICAgIC8vIGBJbmplY3RvckRlZmAgaXMgb24gaXRzIGBuZ01vZHVsZWAuXG4gICAgICAgIGlmIChuZ01vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWYgPSBnZXRJbmplY3RvckRlZihuZ01vZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgbm8gZGVmaW5pdGlvbiB3YXMgZm91bmQsIGl0IG1pZ2h0IGJlIGZyb20gZXhwb3J0cy4gUmVtb3ZlIGl0LlxuICAgICAgICBpZiAoZGVmID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgcHJvdmlkZXJzIGluIHRoZSBzYW1lIHdheSB0aGF0IEBOZ01vZHVsZSByZXNvbHV0aW9uIGRpZDpcbiAgICAgICAgLy8gRmlyc3QsIGluY2x1ZGUgcHJvdmlkZXJzIGZyb20gYW55IGltcG9ydHMuXG4gICAgICAgIGlmIChkZWYuaW1wb3J0cyAhPSBudWxsICYmICFpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgLy8gQmVmb3JlIHByb2Nlc3NpbmcgZGVmVHlwZSdzIGltcG9ydHMsIGFkZCBpdCB0byB0aGUgc2V0IG9mIHBhcmVudHMuIFRoaXMgd2F5LCBpZiBpdCBlbmRzXG4gICAgICAgICAgICAvLyB1cCBkZWVwbHkgaW1wb3J0aW5nIGl0c2VsZiwgdGhpcyBjYW4gYmUgZGV0ZWN0ZWQuXG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgcGFyZW50cy5wdXNoKGRlZlR5cGUpO1xuICAgICAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBzZXQgb2YgZGVkdXBzLiBUaGlzIHdheSB3ZSBjYW4gZGV0ZWN0IG11bHRpcGxlIGltcG9ydHMgb2YgdGhlIHNhbWUgbW9kdWxlXG4gICAgICAgICAgICBkZWR1cFN0YWNrLnB1c2goZGVmVHlwZSk7XG4gICAgICAgICAgICBsZXQgaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkZWVwRm9yRWFjaChkZWYuaW1wb3J0cywgaW1wb3J0ZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKGltcG9ydGVkLCBwYXJlbnRzLCBkZWR1cFN0YWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByb2Nlc3NlZCBpbXBvcnQgaXMgYW4gaW5qZWN0b3IgdHlwZSB3aXRoIHByb3ZpZGVycywgd2Ugc3RvcmUgaXQgaW4gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGltcG9ydCB0eXBlcyB3aXRoIHByb3ZpZGVycywgc28gdGhhdCB3ZSBjYW4gcHJvY2VzcyB0aG9zZSBhZnRlcndhcmRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzLnB1c2goaW1wb3J0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgaXQgZnJvbSB0aGUgcGFyZW50cyBzZXQgd2hlbiBmaW5pc2hlZC5cbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgcGFyZW50cy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEltcG9ydHMgd2hpY2ggYXJlIGRlY2xhcmVkIHdpdGggcHJvdmlkZXJzIChUeXBlV2l0aFByb3ZpZGVycykgbmVlZCB0byBiZSBwcm9jZXNzZWRcbiAgICAgICAgICAgIC8vIGFmdGVyIGFsbCBpbXBvcnRlZCBtb2R1bGVzIGFyZSBwcm9jZXNzZWQuIFRoaXMgaXMgc2ltaWxhciB0byBob3cgVmlldyBFbmdpbmVcbiAgICAgICAgICAgIC8vIHByb2Nlc3Nlcy9tZXJnZXMgbW9kdWxlIGltcG9ydHMgaW4gdGhlIG1ldGFkYXRhIHJlc29sdmVyLiBTZWU6IEZXLTEzNDkuXG4gICAgICAgICAgICBpZiAoaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5nTW9kdWxlLCBwcm92aWRlcnMgfSA9IGltcG9ydFR5cGVzV2l0aFByb3ZpZGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZGVlcEZvckVhY2gocHJvdmlkZXJzLCBwcm92aWRlciA9PiB0aGlzLnByb2Nlc3NQcm92aWRlcihwcm92aWRlciwgbmdNb2R1bGUsIHByb3ZpZGVycyB8fCBFTVBUWV9BUlJBWSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUcmFjayB0aGUgSW5qZWN0b3JUeXBlIGFuZCBhZGQgYSBwcm92aWRlciBmb3IgaXQuIEl0J3MgaW1wb3J0YW50IHRoYXQgdGhpcyBpcyBkb25lIGFmdGVyIHRoZVxuICAgICAgICAvLyBkZWYncyBpbXBvcnRzLlxuICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMuYWRkKGRlZlR5cGUpO1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gZ2V0RmFjdG9yeURlZihkZWZUeXBlKSB8fCAoKCkgPT4gbmV3IGRlZlR5cGUoKSk7XG4gICAgICAgIHRoaXMucmVjb3Jkcy5zZXQoZGVmVHlwZSwgbWFrZVJlY29yZChmYWN0b3J5LCBOT1RfWUVUKSk7XG4gICAgICAgIC8vIE5leHQsIGluY2x1ZGUgcHJvdmlkZXJzIGxpc3RlZCBvbiB0aGUgZGVmaW5pdGlvbiBpdHNlbGYuXG4gICAgICAgIGNvbnN0IGRlZlByb3ZpZGVycyA9IGRlZi5wcm92aWRlcnM7XG4gICAgICAgIGlmIChkZWZQcm92aWRlcnMgIT0gbnVsbCAmJiAhaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdG9yVHlwZSA9IGRlZk9yV3JhcHBlZERlZjtcbiAgICAgICAgICAgIGRlZXBGb3JFYWNoKGRlZlByb3ZpZGVycywgcHJvdmlkZXIgPT4gdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIGluamVjdG9yVHlwZSwgZGVmUHJvdmlkZXJzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuZ01vZHVsZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBkZWZPcldyYXBwZWREZWYucHJvdmlkZXJzICE9PSB1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYFNpbmdsZVByb3ZpZGVyYCBhbmQgYWRkIGl0LlxuICAgICAqL1xuICAgIHByb2Nlc3NQcm92aWRlcihwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB0b2tlbiBmcm9tIHRoZSBwcm92aWRlci4gRWl0aGVyIGl0J3MgaXRzIG93biB0b2tlbiwgb3IgaGFzIGEge3Byb3ZpZGU6IC4uLn1cbiAgICAgICAgLy8gcHJvcGVydHkuXG4gICAgICAgIHByb3ZpZGVyID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIpO1xuICAgICAgICBsZXQgdG9rZW4gPSBpc1R5cGVQcm92aWRlcihwcm92aWRlcikgPyBwcm92aWRlciA6IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyICYmIHByb3ZpZGVyLnByb3ZpZGUpO1xuICAgICAgICAvLyBDb25zdHJ1Y3QgYSBgUmVjb3JkYCBmb3IgdGhlIHByb3ZpZGVyLlxuICAgICAgICBjb25zdCByZWNvcmQgPSBwcm92aWRlclRvUmVjb3JkKHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycyk7XG4gICAgICAgIGlmICghaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpICYmIHByb3ZpZGVyLm11bHRpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgcHJvdmlkZXIgaW5kaWNhdGVzIHRoYXQgaXQncyBhIG11bHRpLXByb3ZpZGVyLCBwcm9jZXNzIGl0IHNwZWNpYWxseS5cbiAgICAgICAgICAgIC8vIEZpcnN0IGNoZWNrIHdoZXRoZXIgaXQncyBiZWVuIGRlZmluZWQgYWxyZWFkeS5cbiAgICAgICAgICAgIGxldCBtdWx0aVJlY29yZCA9IHRoaXMucmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKG11bHRpUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaGFzLiBUaHJvdyBhIG5pY2UgZXJyb3IgaWZcbiAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmIG11bHRpUmVjb3JkLm11bHRpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dNaXhlZE11bHRpUHJvdmlkZXJFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG11bHRpUmVjb3JkID0gbWFrZVJlY29yZCh1bmRlZmluZWQsIE5PVF9ZRVQsIHRydWUpO1xuICAgICAgICAgICAgICAgIG11bHRpUmVjb3JkLmZhY3RvcnkgPSAoKSA9PiBpbmplY3RBcmdzKG11bHRpUmVjb3JkLm11bHRpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMuc2V0KHRva2VuLCBtdWx0aVJlY29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbiA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgbXVsdGlSZWNvcmQubXVsdGkucHVzaChwcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMucmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBleGlzdGluZyAmJiBleGlzdGluZy5tdWx0aSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dNaXhlZE11bHRpUHJvdmlkZXJFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjb3Jkcy5zZXQodG9rZW4sIHJlY29yZCk7XG4gICAgfVxuICAgIGh5ZHJhdGUodG9rZW4sIHJlY29yZCkge1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHJlY29yZC52YWx1ZSA9PT0gQ0lSQ1VMQVIpIHtcbiAgICAgICAgICAgIHRocm93Q3ljbGljRGVwZW5kZW5jeUVycm9yKHN0cmluZ2lmeSh0b2tlbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZC52YWx1ZSA9PT0gTk9UX1lFVCkge1xuICAgICAgICAgICAgcmVjb3JkLnZhbHVlID0gQ0lSQ1VMQVI7XG4gICAgICAgICAgICByZWNvcmQudmFsdWUgPSByZWNvcmQuZmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVjb3JkLnZhbHVlID09PSAnb2JqZWN0JyAmJiByZWNvcmQudmFsdWUgJiYgaGFzT25EZXN0cm95KHJlY29yZC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95LmFkZChyZWNvcmQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQudmFsdWU7XG4gICAgfVxuICAgIGluamVjdGFibGVEZWZJblNjb3BlKGRlZikge1xuICAgICAgICBpZiAoIWRlZi5wcm92aWRlZEluKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvdmlkZWRJbiA9IHJlc29sdmVGb3J3YXJkUmVmKGRlZi5wcm92aWRlZEluKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm92aWRlZEluID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVkSW4gPT09ICdhbnknIHx8IChwcm92aWRlZEluID09PSB0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluamVjdG9yRGVmVHlwZXMuaGFzKHByb3ZpZGVkSW4pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5KHRva2VuKSB7XG4gICAgLy8gTW9zdCB0b2tlbnMgd2lsbCBoYXZlIGFuIGluamVjdGFibGUgZGVmIGRpcmVjdGx5IG9uIHRoZW0sIHdoaWNoIHNwZWNpZmllcyBhIGZhY3RvcnkgZGlyZWN0bHkuXG4gICAgY29uc3QgaW5qZWN0YWJsZURlZiA9IGdldEluamVjdGFibGVEZWYodG9rZW4pO1xuICAgIGNvbnN0IGZhY3RvcnkgPSBpbmplY3RhYmxlRGVmICE9PSBudWxsID8gaW5qZWN0YWJsZURlZi5mYWN0b3J5IDogZ2V0RmFjdG9yeURlZih0b2tlbik7XG4gICAgaWYgKGZhY3RvcnkgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfVxuICAgIC8vIEluamVjdGlvblRva2VucyBzaG91bGQgaGF2ZSBhbiBpbmplY3RhYmxlIGRlZiAoybVwcm92KSBhbmQgdGh1cyBzaG91bGQgYmUgaGFuZGxlZCBhYm92ZS5cbiAgICAvLyBJZiBpdCdzIG1pc3NpbmcgdGhhdCwgaXQncyBhbiBlcnJvci5cbiAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwNCAvKiBJTlZBTElEX0lOSkVDVElPTl9UT0tFTiAqLywgbmdEZXZNb2RlICYmIGBUb2tlbiAke3N0cmluZ2lmeSh0b2tlbil9IGlzIG1pc3NpbmcgYSDJtXByb3YgZGVmaW5pdGlvbi5gKTtcbiAgICB9XG4gICAgLy8gVW5kZWNvcmF0ZWQgdHlwZXMgY2FuIHNvbWV0aW1lcyBiZSBjcmVhdGVkIGlmIHRoZXkgaGF2ZSBubyBjb25zdHJ1Y3RvciBhcmd1bWVudHMuXG4gICAgaWYgKHRva2VuIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGdldFVuZGVjb3JhdGVkSW5qZWN0YWJsZUZhY3RvcnkodG9rZW4pO1xuICAgIH1cbiAgICAvLyBUaGVyZSB3YXMgbm8gd2F5IHRvIHJlc29sdmUgYSBmYWN0b3J5IGZvciB0aGlzIHRva2VuLlxuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMjA0IC8qIElOVkFMSURfSU5KRUNUSU9OX1RPS0VOICovLCBuZ0Rldk1vZGUgJiYgJ3VucmVhY2hhYmxlJyk7XG59XG5mdW5jdGlvbiBnZXRVbmRlY29yYXRlZEluamVjdGFibGVGYWN0b3J5KHRva2VuKSB7XG4gICAgLy8gSWYgdGhlIHRva2VuIGhhcyBwYXJhbWV0ZXJzIHRoZW4gaXQgaGFzIGRlcGVuZGVuY2llcyB0aGF0IHdlIGNhbm5vdCByZXNvbHZlIGltcGxpY2l0bHkuXG4gICAgY29uc3QgcGFyYW1MZW5ndGggPSB0b2tlbi5sZW5ndGg7XG4gICAgaWYgKHBhcmFtTGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBhcmdzID0gbmV3QXJyYXkocGFyYW1MZW5ndGgsICc/Jyk7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMjA0IC8qIElOVkFMSURfSU5KRUNUSU9OX1RPS0VOICovLCBuZ0Rldk1vZGUgJiYgYENhbid0IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yICR7c3RyaW5naWZ5KHRva2VuKX06ICgke2FyZ3Muam9pbignLCAnKX0pLmApO1xuICAgIH1cbiAgICAvLyBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYXBwZWFycyB0byBoYXZlIG5vIHBhcmFtZXRlcnMuXG4gICAgLy8gVGhpcyBtaWdodCBiZSBiZWNhdXNlIGl0IGluaGVyaXRzIGZyb20gYSBzdXBlci1jbGFzcy4gSW4gd2hpY2ggY2FzZSwgdXNlIGFuIGluamVjdGFibGVcbiAgICAvLyBkZWYgZnJvbSBhbiBhbmNlc3RvciBpZiB0aGVyZSBpcyBvbmUuXG4gICAgLy8gT3RoZXJ3aXNlIHRoaXMgcmVhbGx5IGlzIGEgc2ltcGxlIGNsYXNzIHdpdGggbm8gZGVwZW5kZW5jaWVzLCBzbyByZXR1cm4gYSBmYWN0b3J5IHRoYXRcbiAgICAvLyBqdXN0IGluc3RhbnRpYXRlcyB0aGUgemVyby1hcmcgY29uc3RydWN0b3IuXG4gICAgY29uc3QgaW5oZXJpdGVkSW5qZWN0YWJsZURlZiA9IGdldEluaGVyaXRlZEluamVjdGFibGVEZWYodG9rZW4pO1xuICAgIGlmIChpbmhlcml0ZWRJbmplY3RhYmxlRGVmICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiBpbmhlcml0ZWRJbmplY3RhYmxlRGVmLmZhY3RvcnkodG9rZW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgpID0+IG5ldyB0b2tlbigpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHByb3ZpZGVyVG9SZWNvcmQocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKSB7XG4gICAgaWYgKGlzVmFsdWVQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodW5kZWZpbmVkLCBwcm92aWRlci51c2VWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKTtcbiAgICAgICAgcmV0dXJuIG1ha2VSZWNvcmQoZmFjdG9yeSwgTk9UX1lFVCk7XG4gICAgfVxufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGBTaW5nbGVQcm92aWRlcmAgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHByb3ZpZGVyIHByb3ZpZGVyIHRvIGNvbnZlcnQgdG8gZmFjdG9yeVxuICovXG5mdW5jdGlvbiBwcm92aWRlclRvRmFjdG9yeShwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpIHtcbiAgICBsZXQgZmFjdG9yeSA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgIGNvbnN0IHVud3JhcHBlZFByb3ZpZGVyID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIpO1xuICAgICAgICByZXR1cm4gZ2V0RmFjdG9yeURlZih1bndyYXBwZWRQcm92aWRlcikgfHwgaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5KHVud3JhcHBlZFByb3ZpZGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpc1ZhbHVlUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gKCkgPT4gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRmFjdG9yeVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgZmFjdG9yeSA9ICgpID0+IHByb3ZpZGVyLnVzZUZhY3RvcnkoLi4uaW5qZWN0QXJncyhwcm92aWRlci5kZXBzIHx8IFtdKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNFeGlzdGluZ1Byb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgZmFjdG9yeSA9ICgpID0+IMm1ybVpbmplY3QocmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlRXhpc3RpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzUmVmID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIgJiZcbiAgICAgICAgICAgICAgICAocHJvdmlkZXIudXNlQ2xhc3MgfHwgcHJvdmlkZXIucHJvdmlkZSkpO1xuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiAhY2xhc3NSZWYpIHtcbiAgICAgICAgICAgICAgICB0aHJvd0ludmFsaWRQcm92aWRlckVycm9yKG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzRGVwcyhwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5ID0gKCkgPT4gbmV3IChjbGFzc1JlZikoLi4uaW5qZWN0QXJncyhwcm92aWRlci5kZXBzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RmFjdG9yeURlZihjbGFzc1JlZikgfHwgaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5KGNsYXNzUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFjdG9yeTtcbn1cbmZ1bmN0aW9uIG1ha2VSZWNvcmQoZmFjdG9yeSwgdmFsdWUsIG11bHRpID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmYWN0b3J5OiBmYWN0b3J5LFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIG11bHRpOiBtdWx0aSA/IFtdIDogdW5kZWZpbmVkLFxuICAgIH07XG59XG5mdW5jdGlvbiBpc1ZhbHVlUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIFVTRV9WQUxVRSQxIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNFeGlzdGluZ1Byb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLnVzZUV4aXN0aW5nKTtcbn1cbmZ1bmN0aW9uIGlzRmFjdG9yeVByb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLnVzZUZhY3RvcnkpO1xufVxuZnVuY3Rpb24gaXNUeXBlUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNDbGFzc1Byb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUudXNlQ2xhc3M7XG59XG5mdW5jdGlvbiBoYXNEZXBzKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUuZGVwcztcbn1cbmZ1bmN0aW9uIGhhc09uRGVzdHJveSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZS5uZ09uRGVzdHJveSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGNvdWxkQmVJbmplY3RhYmxlVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEluamVjdGlvblRva2VuKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbmNyZXRlIGluamVjdG9ycyBpbXBsZW1lbnQgdGhpcyBpbnRlcmZhY2UuIEluamVjdG9ycyBhcmUgY29uZmlndXJlZFxuICogd2l0aCBbcHJvdmlkZXJzXShndWlkZS9nbG9zc2FyeSNwcm92aWRlcikgdGhhdCBhc3NvY2lhdGVcbiAqIGRlcGVuZGVuY2llcyBvZiB2YXJpb3VzIHR5cGVzIHdpdGggW2luamVjdGlvbiB0b2tlbnNdKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuKS5cbiAqXG4gKiBAc2VlIFtcIkRJIFByb3ZpZGVyc1wiXShndWlkZS9kZXBlbmRlbmN5LWluamVjdGlvbi1wcm92aWRlcnMpLlxuICogQHNlZSBgU3RhdGljUHJvdmlkZXJgXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiAgVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBzZXJ2aWNlIGluamVjdG9yIGluc3RhbmNlLlxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL3Byb3ZpZGVyX3NwZWMudHMgcmVnaW9uPSdDb25zdHJ1Y3RvclByb3ZpZGVyJ31cbiAqXG4gKiAjIyMgVXNhZ2UgZXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdJbmplY3Rvcid9XG4gKlxuICogYEluamVjdG9yYCByZXR1cm5zIGl0c2VsZiB3aGVuIGdpdmVuIGBJbmplY3RvcmAgYXMgYSB0b2tlbjpcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0naW5qZWN0SW5qZWN0b3InfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgSW5qZWN0b3Ige1xuICAgIHN0YXRpYyBjcmVhdGUob3B0aW9ucywgcGFyZW50KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5qZWN0b3IoeyBuYW1lOiAnJyB9LCBwYXJlbnQsIG9wdGlvbnMsICcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zLm5hbWUgPz8gJyc7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5qZWN0b3IoeyBuYW1lIH0sIG9wdGlvbnMucGFyZW50LCBvcHRpb25zLnByb3ZpZGVycywgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5JbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQgPSBUSFJPV19JRl9OT1RfRk9VTkQ7XG5JbmplY3Rvci5OVUxMID0gKCAvKiBAX19QVVJFX18gKi9uZXcgTnVsbEluamVjdG9yKCkpO1xuLyoqIEBub2NvbGxhcHNlICovXG5JbmplY3Rvci7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgdG9rZW46IEluamVjdG9yLFxuICAgIHByb3ZpZGVkSW46ICdhbnknLFxuICAgIGZhY3Rvcnk6ICgpID0+IMm1ybVpbmplY3QoSU5KRUNUT1IpLFxufSk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuSW5qZWN0b3IuX19OR19FTEVNRU5UX0lEX18gPSAtMSAvKiBJbmplY3RvciAqLztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIERPTSBlbGVtZW50LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIERPTSBzdHJ1Y3R1cmU6XG4gKlxuICogYGBgaHRtbFxuICogPGFwcC1yb290PlxuICogICA8ZGl2PlxuICogICAgIDxjaGlsZC1jb21wPjwvY2hpbGQtY29tcD5cbiAqICAgPC9kaXY+XG4gKiA8L2FwcC1yb290PlxuICogYGBgXG4gKlxuICogQ2FsbGluZyBgZ2V0Q29tcG9uZW50YCBvbiBgPGNoaWxkLWNvbXA+YCB3aWxsIHJldHVybiB0aGUgaW5zdGFuY2Ugb2YgYENoaWxkQ29tcG9uZW50YFxuICogYXNzb2NpYXRlZCB3aXRoIHRoaXMgRE9NIGVsZW1lbnQuXG4gKlxuICogQ2FsbGluZyB0aGUgZnVuY3Rpb24gb24gYDxhcHAtcm9vdD5gIHdpbGwgcmV0dXJuIHRoZSBgTXlBcHBgIGluc3RhbmNlLlxuICpcbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBET00gZWxlbWVudCBmcm9tIHdoaWNoIHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqIEByZXR1cm5zIENvbXBvbmVudCBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQgb3IgYG51bGxgIGlmIHRoZXJlXG4gKiAgICBpcyBubyBjb21wb25lbnQgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50JDEoZWxlbWVudCkge1xuICAgIGFzc2VydERvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoY29udGV4dC5jb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGdldENvbXBvbmVudEF0Tm9kZUluZGV4KGNvbnRleHQubm9kZUluZGV4LCBjb250ZXh0LmxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50O1xufVxuLyoqXG4gKiBJZiBpbnNpZGUgYW4gZW1iZWRkZWQgdmlldyAoZS5nLiBgKm5nSWZgIG9yIGAqbmdGb3JgKSwgcmV0cmlldmVzIHRoZSBjb250ZXh0IG9mIHRoZSBlbWJlZGRlZFxuICogdmlldyB0aGF0IHRoZSBlbGVtZW50IGlzIHBhcnQgb2YuIE90aGVyd2lzZSByZXRyaWV2ZXMgdGhlIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgd2hvc2Ugdmlld1xuICogb3ducyB0aGUgZWxlbWVudCAoaW4gdGhpcyBjYXNlLCB0aGUgcmVzdWx0IGlzIHRoZSBzYW1lIGFzIGNhbGxpbmcgYGdldE93bmluZ0NvbXBvbmVudGApLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgZm9yIHdoaWNoIHRvIGdldCB0aGUgc3Vycm91bmRpbmcgY29tcG9uZW50IGluc3RhbmNlLlxuICogQHJldHVybnMgSW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCB0aGF0IGlzIGFyb3VuZCB0aGUgZWxlbWVudCBvciBudWxsIGlmIHRoZSBlbGVtZW50IGlzbid0XG4gKiAgICBpbnNpZGUgYW55IGNvbXBvbmVudC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldENvbnRleHQoZWxlbWVudCkge1xuICAgIGFzc2VydERvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgIHJldHVybiBjb250ZXh0ID09PSBudWxsID8gbnVsbCA6IGNvbnRleHQubFZpZXdbQ09OVEVYVF07XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29tcG9uZW50IGluc3RhbmNlIHdob3NlIHZpZXcgY29udGFpbnMgdGhlIERPTSBlbGVtZW50LlxuICpcbiAqIEZvciBleGFtcGxlLCBpZiBgPGNoaWxkLWNvbXA+YCBpcyB1c2VkIGluIHRoZSB0ZW1wbGF0ZSBvZiBgPGFwcC1jb21wPmBcbiAqIChpLmUuIGEgYFZpZXdDaGlsZGAgb2YgYDxhcHAtY29tcD5gKSwgY2FsbGluZyBgZ2V0T3duaW5nQ29tcG9uZW50YCBvbiBgPGNoaWxkLWNvbXA+YFxuICogd291bGQgcmV0dXJuIGA8YXBwLWNvbXA+YC5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudE9yRGlyIERPTSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlXG4gKiAgICBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlIHJvb3QgY29tcG9uZW50cy5cbiAqIEByZXR1cm5zIENvbXBvbmVudCBpbnN0YW5jZSB3aG9zZSB2aWV3IG93bnMgdGhlIERPTSBlbGVtZW50IG9yIG51bGwgaWYgdGhlIGVsZW1lbnQgaXMgbm90XG4gKiAgICBwYXJ0IG9mIGEgY29tcG9uZW50IHZpZXcuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRPd25pbmdDb21wb25lbnQoZWxlbWVudE9yRGlyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnRPckRpcik7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgbGV0IHBhcmVudDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcobFZpZXcpO1xuICAgIHdoaWxlIChsVmlld1tUVklFV10udHlwZSA9PT0gMiAvKiBFbWJlZGRlZCAqLyAmJiAocGFyZW50ID0gZ2V0TFZpZXdQYXJlbnQobFZpZXcpKSkge1xuICAgICAgICBsVmlldyA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGxWaWV3W0ZMQUdTXSAmIDUxMiAvKiBJc1Jvb3QgKi8gPyBudWxsIDogbFZpZXdbQ09OVEVYVF07XG59XG4vKipcbiAqIFJldHJpZXZlcyBhbGwgcm9vdCBjb21wb25lbnRzIGFzc29jaWF0ZWQgd2l0aCBhIERPTSBlbGVtZW50LCBkaXJlY3RpdmUgb3IgY29tcG9uZW50IGluc3RhbmNlLlxuICogUm9vdCBjb21wb25lbnRzIGFyZSB0aG9zZSB3aGljaCBoYXZlIGJlZW4gYm9vdHN0cmFwcGVkIGJ5IEFuZ3VsYXIuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRPckRpciBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZVxuICogICAgZm9yIHdoaWNoIHRvIHJldHJpZXZlIHRoZSByb290IGNvbXBvbmVudHMuXG4gKiBAcmV0dXJucyBSb290IGNvbXBvbmVudHMgYXNzb2NpYXRlZCB3aXRoIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdENvbXBvbmVudHMoZWxlbWVudE9yRGlyKSB7XG4gICAgcmV0dXJuIFsuLi5nZXRSb290Q29udGV4dChlbGVtZW50T3JEaXIpLmNvbXBvbmVudHNdO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYW4gYEluamVjdG9yYCBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudE9yRGlyIERPTSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlIGZvciB3aGljaCB0b1xuICogICAgcmV0cmlldmUgdGhlIGluamVjdG9yLlxuICogQHJldHVybnMgSW5qZWN0b3IgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0b3IoZWxlbWVudE9yRGlyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnRPckRpcik7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBJbmplY3Rvci5OVUxMO1xuICAgIGNvbnN0IHROb2RlID0gY29udGV4dC5sVmlld1tUVklFV10uZGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IodE5vZGUsIGNvbnRleHQubFZpZXcpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIHNldCBvZiBpbmplY3Rpb24gdG9rZW5zIGF0IGEgZ2l2ZW4gRE9NIG5vZGUuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCBmb3Igd2hpY2ggdGhlIGluamVjdGlvbiB0b2tlbnMgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0aW9uVG9rZW5zKGVsZW1lbnQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICBjb25zdCBwcm92aWRlclRva2VucyA9IFtdO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0Tm9kZS5wcm92aWRlckluZGV4ZXMgJiAxMDQ4NTc1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWUgPSB0Vmlldy5kYXRhW2ldO1xuICAgICAgICBpZiAoaXNEaXJlY3RpdmVEZWZIYWNrKHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gVGhlIGZhY3QgdGhhdCB3ZSBzb21ldGltZXMgc3RvcmUgVHlwZSBhbmQgc29tZXRpbWVzIERpcmVjdGl2ZURlZiBpbiB0aGlzIGxvY2F0aW9uIGlzIGFcbiAgICAgICAgICAgIC8vIGRlc2lnbiBmbGF3LiAgV2Ugc2hvdWxkIGFsd2F5cyBzdG9yZSBzYW1lIHR5cGUgc28gdGhhdCB3ZSBjYW4gYmUgbW9ub21vcnBoaWMuIFRoZSBpc3N1ZVxuICAgICAgICAgICAgLy8gaXMgdGhhdCBmb3IgQ29tcG9uZW50cy9EaXJlY3RpdmVzIHdlIHN0b3JlIHRoZSBkZWYgaW5zdGVhZCB0aGUgdHlwZS4gVGhlIGNvcnJlY3QgYmVoYXZpb3JcbiAgICAgICAgICAgIC8vIGlzIHRoYXQgd2Ugc2hvdWxkIGFsd2F5cyBiZSBzdG9yaW5nIGluamVjdGFibGUgdHlwZSBpbiB0aGlzIGxvY2F0aW9uLlxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50eXBlO1xuICAgICAgICB9XG4gICAgICAgIHByb3ZpZGVyVG9rZW5zLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdmlkZXJUb2tlbnM7XG59XG4vKipcbiAqIFJldHJpZXZlcyBkaXJlY3RpdmUgaW5zdGFuY2VzIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIERPTSBub2RlLiBEb2VzIG5vdCBpbmNsdWRlXG4gKiBjb21wb25lbnQgaW5zdGFuY2VzLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIERPTSBzdHJ1Y3R1cmU6XG4gKlxuICogYGBgaHRtbFxuICogPGFwcC1yb290PlxuICogICA8YnV0dG9uIG15LWJ1dHRvbj48L2J1dHRvbj5cbiAqICAgPG15LWNvbXA+PC9teS1jb21wPlxuICogPC9hcHAtcm9vdD5cbiAqIGBgYFxuICpcbiAqIENhbGxpbmcgYGdldERpcmVjdGl2ZXNgIG9uIGA8YnV0dG9uPmAgd2lsbCByZXR1cm4gYW4gYXJyYXkgd2l0aCBhbiBpbnN0YW5jZSBvZiB0aGUgYE15QnV0dG9uYFxuICogZGlyZWN0aXZlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBET00gbm9kZS5cbiAqXG4gKiBDYWxsaW5nIGBnZXREaXJlY3RpdmVzYCBvbiBgPG15LWNvbXA+YCB3aWxsIHJldHVybiBhbiBlbXB0eSBhcnJheS5cbiAqXG4gKiBAcGFyYW0gbm9kZSBET00gbm9kZSBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBkaXJlY3RpdmVzLlxuICogQHJldHVybnMgQXJyYXkgb2YgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggdGhlIG5vZGUuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXREaXJlY3RpdmVzKG5vZGUpIHtcbiAgICAvLyBTa2lwIHRleHQgbm9kZXMgYmVjYXVzZSB3ZSBjYW4ndCBoYXZlIGRpcmVjdGl2ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZW0uXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KG5vZGUpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IG5vZGVJbmRleCA9IGNvbnRleHQubm9kZUluZGV4O1xuICAgIGlmICghdFZpZXc/LmRhdGFbbm9kZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChjb250ZXh0LmRpcmVjdGl2ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXMgPSBnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldywgZmFsc2UpO1xuICAgIH1cbiAgICAvLyBUaGUgYGRpcmVjdGl2ZXNgIGluIHRoaXMgY2FzZSBhcmUgYSBuYW1lZCBhcnJheSBjYWxsZWQgYExDb21wb25lbnRWaWV3YC4gQ2xvbmUgdGhlXG4gICAgLy8gcmVzdWx0IHNvIHdlIGRvbid0IGV4cG9zZSBhbiBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSBpbiB0aGUgdXNlcidzIGNvbnNvbGUuXG4gICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gbnVsbCA/IFtdIDogWy4uLmNvbnRleHQuZGlyZWN0aXZlc107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlYnVnIChwYXJ0aWFsKSBtZXRhZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBUaGUgZnVuY3Rpb24gYWNjZXB0cyBhbiBpbnN0YW5jZSBvZiBhIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcbiAqIG1ldGFkYXRhLlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlIEluc3RhbmNlIG9mIGEgZGlyZWN0aXZlIG9yIGNvbXBvbmVudFxuICogQHJldHVybnMgbWV0YWRhdGEgb2YgdGhlIHBhc3NlZCBkaXJlY3RpdmUgb3IgY29tcG9uZW50XG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXREaXJlY3RpdmVNZXRhZGF0YSQxKGRpcmVjdGl2ZU9yQ29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IGNvbnN0cnVjdG9yIH0gPSBkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCB0aGUgaW5zdGFuY2UgY29uc3RydWN0b3InKTtcbiAgICB9XG4gICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpbmhlcml0cyBmcm9tIGEgZGlyZWN0aXZlLCB3ZSBtYXkgaGF2ZSBjb21wb25lbnQgYW5kIGRpcmVjdGl2ZSBtZXRhZGF0YVxuICAgIC8vIFRvIGVuc3VyZSB3ZSBkb24ndCBnZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBkaXJlY3RpdmUsIHdlIHdhbnQgdG8gY2FsbCBgZ2V0Q29tcG9uZW50RGVmYCBmaXJzdC5cbiAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29uc3RydWN0b3IpO1xuICAgIGlmIChjb21wb25lbnREZWYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0czogY29tcG9uZW50RGVmLmlucHV0cyxcbiAgICAgICAgICAgIG91dHB1dHM6IGNvbXBvbmVudERlZi5vdXRwdXRzLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24sXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IGNvbXBvbmVudERlZi5vblB1c2ggPyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2ggOlxuICAgICAgICAgICAgICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aXZlRGVmID0gZ2V0RGlyZWN0aXZlRGVmKGNvbnN0cnVjdG9yKTtcbiAgICBpZiAoZGlyZWN0aXZlRGVmKSB7XG4gICAgICAgIHJldHVybiB7IGlucHV0czogZGlyZWN0aXZlRGVmLmlucHV0cywgb3V0cHV0czogZGlyZWN0aXZlRGVmLm91dHB1dHMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlIG1hcCBvZiBsb2NhbCByZWZlcmVuY2VzLlxuICpcbiAqIFRoZSByZWZlcmVuY2VzIGFyZSByZXRyaWV2ZWQgYXMgYSBtYXAgb2YgbG9jYWwgcmVmZXJlbmNlIG5hbWUgdG8gZWxlbWVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHRhcmdldCBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSBmb3Igd2hpY2ggdG8gcmV0cmlldmVcbiAqICAgIHRoZSBsb2NhbCByZWZlcmVuY2VzLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbFJlZnModGFyZ2V0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHRhcmdldCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBpZiAoY29udGV4dC5sb2NhbFJlZnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmxvY2FsUmVmcyA9IGRpc2NvdmVyTG9jYWxSZWZzKGNvbnRleHQubFZpZXcsIGNvbnRleHQubm9kZUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQubG9jYWxSZWZzIHx8IHt9O1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGhvc3QgZWxlbWVudCBvZiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKiBUaGUgaG9zdCBlbGVtZW50IGlzIHRoZSBET00gZWxlbWVudCB0aGF0IG1hdGNoZWQgdGhlIHNlbGVjdG9yIG9mIHRoZSBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudE9yRGlyZWN0aXZlIENvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UgZm9yIHdoaWNoIHRoZSBob3N0XG4gKiAgICAgZWxlbWVudCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHJldHVybnMgSG9zdCBlbGVtZW50IG9mIHRoZSB0YXJnZXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRIb3N0RWxlbWVudChjb21wb25lbnRPckRpcmVjdGl2ZSkge1xuICAgIHJldHVybiBnZXRMQ29udGV4dChjb21wb25lbnRPckRpcmVjdGl2ZSkubmF0aXZlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHJlbmRlcmVkIHRleHQgZm9yIGEgZ2l2ZW4gY29tcG9uZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0cmlldmVzIHRoZSBob3N0IGVsZW1lbnQgb2YgYSBjb21wb25lbnQgYW5kXG4gKiBhbmQgdGhlbiByZXR1cm5zIHRoZSBgdGV4dENvbnRlbnRgIGZvciB0aGF0IGVsZW1lbnQuIFRoaXMgaW1wbGllc1xuICogdGhhdCB0aGUgdGV4dCByZXR1cm5lZCB3aWxsIGluY2x1ZGUgcmUtcHJvamVjdGVkIGNvbnRlbnQgb2ZcbiAqIHRoZSBjb21wb25lbnQgYXMgd2VsbC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmV0dXJuIHRoZSBjb250ZW50IHRleHQgZm9yLlxuICovXG5mdW5jdGlvbiBnZXRSZW5kZXJlZFRleHQoY29tcG9uZW50KSB7XG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChjb21wb25lbnQpO1xuICAgIHJldHVybiBob3N0RWxlbWVudC50ZXh0Q29udGVudCB8fCAnJztcbn1cbi8qKlxuICogUmV0cmlldmVzIGEgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuIFRoZSBsaXN0IGRvZXMgaW5jbHVkZSBob3N0XG4gKiBsaXN0ZW5lcnMsIGJ1dCBpdCBkb2VzIG5vdCBpbmNsdWRlIGV2ZW50IGxpc3RlbmVycyBkZWZpbmVkIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgY29udGV4dFxuICogKGUuZy4gdGhyb3VnaCBgYWRkRXZlbnRMaXN0ZW5lcmApLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIERPTSBzdHJ1Y3R1cmU6XG4gKlxuICogYGBgaHRtbFxuICogPGFwcC1yb290PlxuICogICA8ZGl2IChjbGljayk9XCJkb1NvbWV0aGluZygpXCI+PC9kaXY+XG4gKiA8L2FwcC1yb290PlxuICogYGBgXG4gKlxuICogQ2FsbGluZyBgZ2V0TGlzdGVuZXJzYCBvbiBgPGRpdj5gIHdpbGwgcmV0dXJuIGFuIG9iamVjdCB0aGF0IGxvb2tzIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgdHNcbiAqIHtcbiAqICAgbmFtZTogJ2NsaWNrJyxcbiAqICAgZWxlbWVudDogPGRpdj4sXG4gKiAgIGNhbGxiYWNrOiAoKSA9PiBkb1NvbWV0aGluZygpLFxuICogICB1c2VDYXB0dXJlOiBmYWxzZVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCBmb3Igd2hpY2ggdGhlIERPTSBsaXN0ZW5lcnMgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgRE9NIGVsZW1lbnQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZWxlbWVudCkge1xuICAgIGFzc2VydERvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3QgbENvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAobENvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgY29uc3QgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIGlmICh0Q2xlYW51cCAmJiBsQ2xlYW51cCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kUGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaXJzdFBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmaXJzdFBhcmFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyRWxlbWVudCA9IHVud3JhcFJOb2RlKGxWaWV3W3NlY29uZFBhcmFtXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBsQ2xlYW51cFt0Q2xlYW51cFtpKytdXTtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VDYXB0dXJlT3JJbmR4ID0gdENsZWFudXBbaSsrXTtcbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIGJvb2xlYW4gdGhlbiByZXBvcnQgaXQgYXMgaXMuXG4gICAgICAgICAgICAgICAgLy8gaWYgdXNlQ2FwdHVyZU9ySW5keCBpcyBwb3NpdGl2ZSBudW1iZXIgdGhlbiBpdCBpbiB1bnN1YnNjcmliZSBtZXRob2RcbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIG5lZ2F0aXZlIG51bWJlciB0aGVuIGl0IGlzIGEgU3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9ICh0eXBlb2YgdXNlQ2FwdHVyZU9ySW5keCA9PT0gJ2Jvb2xlYW4nIHx8IHVzZUNhcHR1cmVPckluZHggPj0gMCkgPyAnZG9tJyA6ICdvdXRwdXQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZUNhcHR1cmUgPSB0eXBlb2YgdXNlQ2FwdHVyZU9ySW5keCA9PT0gJ2Jvb2xlYW4nID8gdXNlQ2FwdHVyZU9ySW5keCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID09IGxpc3RlbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaCh7IGVsZW1lbnQsIG5hbWUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsaXN0ZW5lcnMuc29ydChzb3J0TGlzdGVuZXJzKTtcbiAgICByZXR1cm4gbGlzdGVuZXJzO1xufVxuZnVuY3Rpb24gc29ydExpc3RlbmVycyhhLCBiKSB7XG4gICAgaWYgKGEubmFtZSA9PSBiLm5hbWUpXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBleGlzdCBiZWNhdXNlIGl0IGlzIG1lZ2Ftb3JwaGljIGFuZCBvbmx5IG1vc3RseSBjb3JyZWN0LlxuICpcbiAqIFNlZSBjYWxsIHNpdGUgZm9yIG1vcmUgaW5mby5cbiAqL1xuZnVuY3Rpb24gaXNEaXJlY3RpdmVEZWZIYWNrKG9iaikge1xuICAgIHJldHVybiBvYmoudHlwZSAhPT0gdW5kZWZpbmVkICYmIG9iai50ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkICYmIG9iai5kZWNsYXJlZElucHV0cyAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhdHRhY2hlZCBgRGVidWdOb2RlYCBpbnN0YW5jZSBmb3IgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIG93bmVkIGJ5IGFuIGV4aXN0aW5nIGNvbXBvbmVudCdzIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldERlYnVnTm9kZSQxKGVsZW1lbnQpIHtcbiAgICBpZiAobmdEZXZNb2RlICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGluc3RhbmNlIG9mIERPTSBFbGVtZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGxDb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IG5vZGVJbmRleCA9IGxDb250ZXh0Lm5vZGVJbmRleDtcbiAgICBpZiAobm9kZUluZGV4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCB2YWx1ZUluTFZpZXcgPSBsVmlld1tub2RlSW5kZXhdO1xuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdmFsdWUgaW4gdGhlIGxWaWV3IGlzIGEgY29tcG9uZW50IHdpdGggaXRzIG93blxuICAgICAgICAvLyBkYXRhLiBJbiB0aGlzIHNpdHVhdGlvbiB0aGUgVE5vZGUgaXMgbm90IGFjY2Vzc2VkIGF0IHRoZSBzYW1lIHNwb3QuXG4gICAgICAgIGNvbnN0IHROb2RlID0gaXNMVmlldyh2YWx1ZUluTFZpZXcpID8gdmFsdWVJbkxWaWV3W1RfSE9TVF0gOiBnZXRUTm9kZShsVmlld1tUVklFV10sIG5vZGVJbmRleCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwodE5vZGUuaW5kZXgsIG5vZGVJbmRleCwgJ0V4cGVjdGluZyB0aGF0IFROb2RlIGF0IGluZGV4IGlzIHNhbWUgYXMgaW5kZXgnKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVidWdOb2RlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY29tcG9uZW50IGBMVmlld2AgZnJvbSBjb21wb25lbnQvZWxlbWVudC5cbiAqXG4gKiBOT1RFOiBgTFZpZXdgIGlzIGEgcHJpdmF0ZSBhbmQgc2hvdWxkIG5vdCBiZSBsZWFrZWQgb3V0c2lkZS5cbiAqICAgICAgIERvbid0IGV4cG9ydCB0aGlzIG1ldGhvZCB0byBgbmcuKmAgb24gd2luZG93LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgRE9NIGVsZW1lbnQgb3IgY29tcG9uZW50IGluc3RhbmNlIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudExWaWV3KHRhcmdldCkge1xuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQodGFyZ2V0KTtcbiAgICBjb25zdCBub2RlSW5keCA9IGxDb250ZXh0Lm5vZGVJbmRleDtcbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IGNvbXBvbmVudExWaWV3ID0gbFZpZXdbbm9kZUluZHhdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhjb21wb25lbnRMVmlldyk7XG4gICAgcmV0dXJuIGNvbXBvbmVudExWaWV3O1xufVxuLyoqIEFzc2VydHMgdGhhdCBhIHZhbHVlIGlzIGEgRE9NIEVsZW1lbnQuICovXG5mdW5jdGlvbiBhc3NlcnREb21FbGVtZW50KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgaW5zdGFuY2Ugb2YgRE9NIEVsZW1lbnQnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyBhIGNvbXBvbmVudCBmb3IgY2hlY2sgKGluIGNhc2Ugb2YgT25QdXNoIGNvbXBvbmVudHMpIGFuZCBzeW5jaHJvbm91c2x5XG4gKiBwZXJmb3JtcyBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSBhcHBsaWNhdGlvbiB0aGlzIGNvbXBvbmVudCBiZWxvbmdzIHRvLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNtYXJrRm9yQ2hlY2sgbWFyayBmb3IgY2hlY2t9LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIG1hcmtEaXJ0eShjb21wb25lbnQpO1xuICAgIGdldFJvb3RDb21wb25lbnRzKGNvbXBvbmVudCkuZm9yRWFjaChyb290Q29tcG9uZW50ID0+IGRldGVjdENoYW5nZXMocm9vdENvbXBvbmVudCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGludHJvZHVjZXMgc2VyaWVzIG9mIGdsb2JhbGx5IGFjY2Vzc2libGUgZGVidWcgdG9vbHNcbiAqIHRvIGFsbG93IGZvciB0aGUgQW5ndWxhciBkZWJ1Z2dpbmcgc3RvcnkgdG8gZnVuY3Rpb24uXG4gKlxuICogVG8gc2VlIHRoaXMgaW4gYWN0aW9uIHJ1biB0aGUgZm9sbG93aW5nIGNvbW1hbmQ6XG4gKlxuICogICBiYXplbCBydW4gLy9wYWNrYWdlcy9jb3JlL3Rlc3QvYnVuZGxpbmcvdG9kbzpkZXZzZXJ2ZXJcbiAqXG4gKiAgVGhlbiBsb2FkIGBsb2NhbGhvc3Q6NTQzMmAgYW5kIHN0YXJ0IHVzaW5nIHRoZSBjb25zb2xlIHRvb2xzLlxuICovXG4vKipcbiAqIFRoaXMgdmFsdWUgcmVmbGVjdHMgdGhlIHByb3BlcnR5IG9uIHRoZSB3aW5kb3cgd2hlcmUgdGhlIGRldlxuICogdG9vbHMgYXJlIHBhdGNoZWQgKHdpbmRvdy5uZykuXG4gKiAqL1xuY29uc3QgR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVkgPSAnbmcnO1xubGV0IF9wdWJsaXNoZWQgPSBmYWxzZTtcbi8qKlxuICogUHVibGlzaGVzIGEgY29sbGVjdGlvbiBvZiBkZWZhdWx0IGRlYnVnIHRvb2xzIG9udG9gd2luZG93Lm5nYC5cbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgYXJlIGF2YWlsYWJsZSBnbG9iYWxseSB3aGVuIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnRcbiAqIG1vZGUgYW5kIGFyZSBhdXRvbWF0aWNhbGx5IHN0cmlwcGVkIGF3YXkgZnJvbSBwcm9kIG1vZGUgaXMgb24uXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMkMSgpIHtcbiAgICBpZiAoIV9wdWJsaXNoZWQpIHtcbiAgICAgICAgX3B1Ymxpc2hlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXYXJuaW5nOiB0aGlzIGZ1bmN0aW9uIGlzICpJTlRFUk5BTCogYW5kIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaW4gYXBwbGljYXRpb24ncyBjb2RlLlxuICAgICAgICAgKiBUaGUgY29udHJhY3Qgb2YgdGhlIGZ1bmN0aW9uIG1pZ2h0IGJlIGNoYW5nZWQgaW4gYW55IHJlbGVhc2UgYW5kL29yIHRoZSBmdW5jdGlvbiBjYW4gYmVcbiAgICAgICAgICogcmVtb3ZlZCBjb21wbGV0ZWx5LlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ8m1c2V0UHJvZmlsZXInLCBzZXRQcm9maWxlcik7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXREaXJlY3RpdmVNZXRhZGF0YScsIGdldERpcmVjdGl2ZU1ldGFkYXRhJDEpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Q29tcG9uZW50JywgZ2V0Q29tcG9uZW50JDEpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Q29udGV4dCcsIGdldENvbnRleHQpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0TGlzdGVuZXJzJywgZ2V0TGlzdGVuZXJzKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldE93bmluZ0NvbXBvbmVudCcsIGdldE93bmluZ0NvbXBvbmVudCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRIb3N0RWxlbWVudCcsIGdldEhvc3RFbGVtZW50KTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldEluamVjdG9yJywgZ2V0SW5qZWN0b3IpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Um9vdENvbXBvbmVudHMnLCBnZXRSb290Q29tcG9uZW50cyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXREaXJlY3RpdmVzJywgZ2V0RGlyZWN0aXZlcyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdhcHBseUNoYW5nZXMnLCBhcHBseUNoYW5nZXMpO1xuICAgIH1cbn1cbi8qKlxuICogUHVibGlzaGVzIHRoZSBnaXZlbiBmdW5jdGlvbiB0byBgd2luZG93Lm5nYCBzbyB0aGF0IGl0IGNhbiBiZVxuICogdXNlZCBmcm9tIHRoZSBicm93c2VyIGNvbnNvbGUgd2hlbiBhbiBhcHBsaWNhdGlvbiBpcyBub3QgaW4gcHJvZHVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gcHVibGlzaEdsb2JhbFV0aWwobmFtZSwgZm4pIHtcbiAgICBpZiAodHlwZW9mIENPTVBJTEVEID09PSAndW5kZWZpbmVkJyB8fCAhQ09NUElMRUQpIHtcbiAgICAgICAgLy8gTm90ZTogd2UgY2FuJ3QgZXhwb3J0IGBuZ2Agd2hlbiB1c2luZyBjbG9zdXJlIGVuaGFuY2VkIG9wdGltaXphdGlvbiBhczpcbiAgICAgICAgLy8gLSBjbG9zdXJlIGRlY2xhcmVzIGdsb2JhbHMgaXRzZWxmIGZvciBtaW5pZmllZCBuYW1lcywgd2hpY2ggc29tZXRpbWVzIGNsb2JiZXIgb3VyIGBuZ2AgZ2xvYmFsXG4gICAgICAgIC8vIC0gd2UgY2FuJ3QgZGVjbGFyZSBhIGNsb3N1cmUgZXh0ZXJuIGFzIHRoZSBuYW1lc3BhY2UgYG5nYCBpcyBhbHJlYWR5IHVzZWQgd2l0aGluIEdvb2dsZVxuICAgICAgICAvLyAgIGZvciB0eXBpbmdzIGZvciBBbmd1bGFySlMgKHZpYSBgZ29vZy5wcm92aWRlKCduZy4uLi4nKWApLlxuICAgICAgICBjb25zdCB3ID0gX2dsb2JhbDtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZm4sICdmdW5jdGlvbiBub3QgZGVmaW5lZCcpO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHdbR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVldO1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB3W0dMT0JBTF9QVUJMSVNIX0VYUEFORE9fS0VZXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyW25hbWVdID0gZm47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETzogQSBoYWNrIHRvIG5vdCBwdWxsIGluIHRoZSBOdWxsSW5qZWN0b3IgZnJvbSBAYW5ndWxhci9jb3JlLlxuY29uc3QgTlVMTF9JTkpFQ1RPUiA9IHtcbiAgICBnZXQ6ICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkgPT4ge1xuICAgICAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgJ051bGxJbmplY3RvcicpO1xuICAgIH1cbn07XG4vKipcbiAqIEJvb3RzdHJhcHMgYSBDb21wb25lbnQgaW50byBhbiBleGlzdGluZyBob3N0IGVsZW1lbnQgYW5kIHJldHVybnMgYW4gaW5zdGFuY2VcbiAqIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIGEgY29tcG9uZW50IGludG8gdGhlIERPTSB0cmVlLiBFYWNoIGludm9jYXRpb25cbiAqIG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBzZXBhcmF0ZSB0cmVlIG9mIGNvbXBvbmVudHMsIGluamVjdG9ycyBhbmRcbiAqIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGVzIGFuZCBsaWZldGltZXMuIFRvIGR5bmFtaWNhbGx5IGluc2VydCBhIG5ldyBjb21wb25lbnRcbiAqIGludG8gYW4gZXhpc3RpbmcgdHJlZSBzdWNoIHRoYXQgaXQgc2hhcmVzIHRoZSBzYW1lIGluamVjdGlvbiwgY2hhbmdlIGRldGVjdGlvblxuICogYW5kIG9iamVjdCBsaWZldGltZSwgdXNlIHtAbGluayBWaWV3Q29udGFpbmVyI2NyZWF0ZUNvbXBvbmVudH0uXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudFR5cGUgQ29tcG9uZW50IHRvIGJvb3RzdHJhcFxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVycyB3aGljaCBjb250cm9sIGJvb3RzdHJhcHBpbmdcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudFR5cGUgLyogVHlwZSBhcyB3b3JrYXJvdW5kIGZvcjogTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQ4ODEgKi8sIG9wdHMgPSB7fSkge1xuICAgIG5nRGV2TW9kZSAmJiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Q29tcG9uZW50VHlwZShjb21wb25lbnRUeXBlKTtcbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBvcHRzLnJlbmRlcmVyRmFjdG9yeSB8fCBkb21SZW5kZXJlckZhY3RvcnkzO1xuICAgIGNvbnN0IHNhbml0aXplciA9IG9wdHMuc2FuaXRpemVyIHx8IG51bGw7XG4gICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudFR5cGUpO1xuICAgIGlmIChjb21wb25lbnREZWYudHlwZSAhPSBjb21wb25lbnRUeXBlKVxuICAgICAgICBjb21wb25lbnREZWYudHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgLy8gVGhlIGZpcnN0IGluZGV4IG9mIHRoZSBmaXJzdCBzZWxlY3RvciBpcyB0aGUgdGFnIG5hbWUuXG4gICAgY29uc3QgY29tcG9uZW50VGFnID0gY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXTtcbiAgICBjb25zdCBob3N0UmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgbnVsbCk7XG4gICAgY29uc3QgaG9zdFJOb2RlID0gbG9jYXRlSG9zdEVsZW1lbnQoaG9zdFJlbmRlcmVyLCBvcHRzLmhvc3QgfHwgY29tcG9uZW50VGFnLCBjb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbik7XG4gICAgY29uc3Qgcm9vdEZsYWdzID0gY29tcG9uZW50RGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIHwgNTEyIC8qIElzUm9vdCAqLyA6XG4gICAgICAgIDE2IC8qIENoZWNrQWx3YXlzICovIHwgNTEyIC8qIElzUm9vdCAqLztcbiAgICBjb25zdCByb290Q29udGV4dCA9IGNyZWF0ZVJvb3RDb250ZXh0KG9wdHMuc2NoZWR1bGVyLCBvcHRzLnBsYXllckhhbmRsZXIpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKGhvc3RSTm9kZSwgY29tcG9uZW50RGVmKTtcbiAgICBjb25zdCByb290VFZpZXcgPSBjcmVhdGVUVmlldygwIC8qIFJvb3QgKi8sIG51bGwsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gY3JlYXRlTFZpZXcobnVsbCwgcm9vdFRWaWV3LCByb290Q29udGV4dCwgcm9vdEZsYWdzLCBudWxsLCBudWxsLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCBudWxsLCBvcHRzLmluamVjdG9yIHx8IG51bGwpO1xuICAgIGVudGVyVmlldyhyb290Vmlldyk7XG4gICAgbGV0IGNvbXBvbmVudDtcbiAgICB0cnkge1xuICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmJlZ2luKVxuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIGNvbXBvbmVudERlZiwgcm9vdFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplcik7XG4gICAgICAgIGNvbXBvbmVudCA9IGNyZWF0ZVJvb3RDb21wb25lbnQoY29tcG9uZW50VmlldywgY29tcG9uZW50RGVmLCByb290Vmlldywgcm9vdENvbnRleHQsIG9wdHMuaG9zdEZlYXR1cmVzIHx8IG51bGwpO1xuICAgICAgICAvLyBjcmVhdGUgbW9kZSBwYXNzXG4gICAgICAgIHJlbmRlclZpZXcocm9vdFRWaWV3LCByb290VmlldywgbnVsbCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtb2RlIHBhc3NcbiAgICAgICAgcmVmcmVzaFZpZXcocm9vdFRWaWV3LCByb290VmlldywgbnVsbCwgbnVsbCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5lbmQpXG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIHJvb3QgY29tcG9uZW50IHZpZXcgYW5kIHRoZSByb290IGNvbXBvbmVudCBub2RlLlxuICpcbiAqIEBwYXJhbSByTm9kZSBSZW5kZXIgaG9zdCBlbGVtZW50LlxuICogQHBhcmFtIGRlZiBDb21wb25lbnREZWZcbiAqIEBwYXJhbSByb290VmlldyBUaGUgcGFyZW50IHZpZXcgd2hlcmUgdGhlIGhvc3Qgbm9kZSBpcyBzdG9yZWRcbiAqIEBwYXJhbSByZW5kZXJlckZhY3RvcnkgRmFjdG9yeSB0byBiZSB1c2VkIGZvciBjcmVhdGluZyBjaGlsZCByZW5kZXJlcnMuXG4gKiBAcGFyYW0gaG9zdFJlbmRlcmVyIFRoZSBjdXJyZW50IHJlbmRlcmVyXG4gKiBAcGFyYW0gc2FuaXRpemVyIFRoZSBzYW5pdGl6ZXIsIGlmIHByb3ZpZGVkXG4gKlxuICogQHJldHVybnMgQ29tcG9uZW50IHZpZXcgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50VmlldyhyTm9kZSwgZGVmLCByb290VmlldywgcmVuZGVyZXJGYWN0b3J5LCBob3N0UmVuZGVyZXIsIHNhbml0aXplcikge1xuICAgIGNvbnN0IHRWaWV3ID0gcm9vdFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IGluZGV4ID0gSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHJvb3RWaWV3LCBpbmRleCk7XG4gICAgcm9vdFZpZXdbaW5kZXhdID0gck5vZGU7XG4gICAgLy8gJyNob3N0JyBpcyBhZGRlZCBoZXJlIGFzIHdlIGRvbid0IGtub3cgdGhlIHJlYWwgaG9zdCBET00gbmFtZSAod2UgZG9uJ3Qgd2FudCB0byByZWFkIGl0KSBhbmQgYXRcbiAgICAvLyB0aGUgc2FtZSB0aW1lIHdlIHdhbnQgdG8gY29tbXVuaWNhdGUgdGhlIGRlYnVnIGBUTm9kZWAgdGhhdCB0aGlzIGlzIGEgc3BlY2lhbCBgVE5vZGVgXG4gICAgLy8gcmVwcmVzZW50aW5nIGEgaG9zdCBlbGVtZW50LlxuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDIgLyogRWxlbWVudCAqLywgJyNob3N0JywgbnVsbCk7XG4gICAgY29uc3QgbWVyZ2VkQXR0cnMgPSB0Tm9kZS5tZXJnZWRBdHRycyA9IGRlZi5ob3N0QXR0cnM7XG4gICAgaWYgKG1lcmdlZEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCBtZXJnZWRBdHRycywgdHJ1ZSk7XG4gICAgICAgIGlmIChyTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKGhvc3RSZW5kZXJlciwgck5vZGUsIG1lcmdlZEF0dHJzKTtcbiAgICAgICAgICAgIGlmICh0Tm9kZS5jbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVEaXJlY3RDbGFzcyhob3N0UmVuZGVyZXIsIHJOb2RlLCB0Tm9kZS5jbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0Tm9kZS5zdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZURpcmVjdFN0eWxlKGhvc3RSZW5kZXJlciwgck5vZGUsIHROb2RlLnN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgdmlld1JlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKHJOb2RlLCBkZWYpO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVMVmlldyhyb290VmlldywgZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyhkZWYpLCBudWxsLCBkZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gOiAxNiAvKiBDaGVja0Fsd2F5cyAqLywgcm9vdFZpZXdbaW5kZXhdLCB0Tm9kZSwgcmVuZGVyZXJGYWN0b3J5LCB2aWV3UmVuZGVyZXIsIHNhbml0aXplciB8fCBudWxsLCBudWxsKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIHJvb3RWaWV3KSwgdFZpZXcsIGRlZi50eXBlKTtcbiAgICAgICAgbWFya0FzQ29tcG9uZW50SG9zdCh0VmlldywgdE5vZGUpO1xuICAgICAgICBpbml0VE5vZGVGbGFncyh0Tm9kZSwgcm9vdFZpZXcubGVuZ3RoLCAxKTtcbiAgICB9XG4gICAgYWRkVG9WaWV3VHJlZShyb290VmlldywgY29tcG9uZW50Vmlldyk7XG4gICAgLy8gU3RvcmUgY29tcG9uZW50IHZpZXcgYXQgbm9kZSBpbmRleCwgd2l0aCBub2RlIGFzIHRoZSBIT1NUXG4gICAgcmV0dXJuIHJvb3RWaWV3W2luZGV4XSA9IGNvbXBvbmVudFZpZXc7XG59XG4vKipcbiAqIENyZWF0ZXMgYSByb290IGNvbXBvbmVudCBhbmQgc2V0cyBpdCB1cCB3aXRoIGZlYXR1cmVzIGFuZCBob3N0IGJpbmRpbmdzLiBTaGFyZWQgYnlcbiAqIHJlbmRlckNvbXBvbmVudCgpIGFuZCBWaWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudCgpLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudERlZiwgcm9vdExWaWV3LCByb290Q29udGV4dCwgaG9zdEZlYXR1cmVzKSB7XG4gICAgY29uc3QgdFZpZXcgPSByb290TFZpZXdbVFZJRVddO1xuICAgIC8vIENyZWF0ZSBkaXJlY3RpdmUgaW5zdGFuY2Ugd2l0aCBmYWN0b3J5KCkgYW5kIHN0b3JlIGF0IG5leHQgaW5kZXggaW4gdmlld0RhdGFcbiAgICBjb25zdCBjb21wb25lbnQgPSBpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQodFZpZXcsIHJvb3RMVmlldywgY29tcG9uZW50RGVmKTtcbiAgICByb290Q29udGV4dC5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICBjb21wb25lbnRWaWV3W0NPTlRFWFRdID0gY29tcG9uZW50O1xuICAgIGhvc3RGZWF0dXJlcyAmJiBob3N0RmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSkgPT4gZmVhdHVyZShjb21wb25lbnQsIGNvbXBvbmVudERlZikpO1xuICAgIC8vIFdlIHdhbnQgdG8gZ2VuZXJhdGUgYW4gZW1wdHkgUXVlcnlMaXN0IGZvciByb290IGNvbnRlbnQgcXVlcmllcyBmb3IgYmFja3dhcmRzXG4gICAgLy8gY29tcGF0aWJpbGl0eSB3aXRoIFZpZXdFbmdpbmUuXG4gICAgaWYgKGNvbXBvbmVudERlZi5jb250ZW50UXVlcmllcykge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIGV4cGVjdGVkJyk7XG4gICAgICAgIGNvbXBvbmVudERlZi5jb250ZW50UXVlcmllcygxIC8qIENyZWF0ZSAqLywgY29tcG9uZW50LCB0Tm9kZS5kaXJlY3RpdmVTdGFydCk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJvb3RUTm9kZSwgJ3ROb2RlIHNob3VsZCBoYXZlIGJlZW4gYWxyZWFkeSBjcmVhdGVkJyk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJlxuICAgICAgICAoY29tcG9uZW50RGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCB8fCBjb21wb25lbnREZWYuaG9zdEF0dHJzICE9PSBudWxsKSkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KHJvb3RUTm9kZS5pbmRleCk7XG4gICAgICAgIGNvbnN0IHJvb3RUVmlldyA9IHJvb3RMVmlld1tUVklFV107XG4gICAgICAgIHJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzKHJvb3RUVmlldywgcm9vdFROb2RlLCByb290TFZpZXcsIHJvb3RUTm9kZS5kaXJlY3RpdmVTdGFydCwgcm9vdFROb2RlLmRpcmVjdGl2ZUVuZCwgY29tcG9uZW50RGVmKTtcbiAgICAgICAgaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUoY29tcG9uZW50RGVmLCBjb21wb25lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gY3JlYXRlUm9vdENvbnRleHQoc2NoZWR1bGVyLCBwbGF5ZXJIYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tcG9uZW50czogW10sXG4gICAgICAgIHNjaGVkdWxlcjogc2NoZWR1bGVyIHx8IGRlZmF1bHRTY2hlZHVsZXIsXG4gICAgICAgIGNsZWFuOiBDTEVBTl9QUk9NSVNFLFxuICAgICAgICBwbGF5ZXJIYW5kbGVyOiBwbGF5ZXJIYW5kbGVyIHx8IG51bGwsXG4gICAgICAgIGZsYWdzOiAwIC8qIEVtcHR5ICovXG4gICAgfTtcbn1cbi8qKlxuICogVXNlZCB0byBlbmFibGUgbGlmZWN5Y2xlIGhvb2tzIG9uIHRoZSByb290IGNvbXBvbmVudC5cbiAqXG4gKiBJbmNsdWRlIHRoaXMgZmVhdHVyZSB3aGVuIGNhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgaWYgdGhlIHJvb3QgY29tcG9uZW50XG4gKiB5b3UgYXJlIHJlbmRlcmluZyBoYXMgbGlmZWN5Y2xlIGhvb2tzIGRlZmluZWQuIE90aGVyd2lzZSwgdGhlIGhvb2tzIHdvbid0XG4gKiBiZSBjYWxsZWQgcHJvcGVybHkuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHJlbmRlckNvbXBvbmVudChBcHBDb21wb25lbnQsIHtob3N0RmVhdHVyZXM6IFtMaWZlY3ljbGVIb29rc0ZlYXR1cmVdfSk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gTGlmZWN5Y2xlSG9va3NGZWF0dXJlKGNvbXBvbmVudCwgZGVmKSB7XG4gICAgY29uc3QgbFZpZXcgPSByZWFkUGF0Y2hlZExWaWV3KGNvbXBvbmVudCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXcsICdMVmlldyBpcyByZXF1aXJlZCcpO1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdUTm9kZSBpcyByZXF1aXJlZCcpO1xuICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIHROb2RlKTtcbn1cbi8qKlxuICogV2FpdCBvbiBjb21wb25lbnQgdW50aWwgaXQgaXMgcmVuZGVyZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgYFByb21pc2VgIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIGNvbXBvbmVudCdzXG4gKiBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGV4ZWN1dGVkLiBUaGlzIGlzIGRldGVybWluZWQgYnkgZmluZGluZyB0aGUgc2NoZWR1bGVyXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIGBjb21wb25lbnRgJ3MgcmVuZGVyIHRyZWUgYW5kIHdhaXRpbmcgdW50aWwgdGhlIHNjaGVkdWxlclxuICogZmx1c2hlcy4gSWYgbm90aGluZyBpcyBzY2hlZHVsZWQsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiBhd2FpdCB3aGVuUmVuZGVyZWQobXlDb21wb25lbnQpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgdG8gd2FpdCB1cG9uXG4gKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW5kZXJlZC5cbiAqL1xuZnVuY3Rpb24gd2hlblJlbmRlcmVkKGNvbXBvbmVudCkge1xuICAgIHJldHVybiBnZXRSb290Q29udGV4dChjb21wb25lbnQpLmNsZWFuO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldFN1cGVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG59XG4vKipcbiAqIE1lcmdlcyB0aGUgZGVmaW5pdGlvbiBmcm9tIGEgc3VwZXIgY2xhc3MgdG8gYSBzdWIgY2xhc3MuXG4gKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiB0aGF0IGlzIGEgU3ViQ2xhc3Mgb2YgYW5vdGhlciBkaXJlY3RpdmUgb2YgY29tcG9uZW50XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgbGV0IHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIGxldCBzaG91bGRJbmhlcml0RmllbGRzID0gdHJ1ZTtcbiAgICBjb25zdCBpbmhlcml0YW5jZUNoYWluID0gW2RlZmluaXRpb25dO1xuICAgIHdoaWxlIChzdXBlclR5cGUpIHtcbiAgICAgICAgbGV0IHN1cGVyRGVmID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1Y21wIHx8IHN1cGVyVHlwZS7JtWRpcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdXBlclR5cGUuybVjbXApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgICAgICdEaXJlY3RpdmVzIGNhbm5vdCBpbmhlcml0IENvbXBvbmVudHMnIDpcbiAgICAgICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDMgLyogSU5WQUxJRF9JTkhFUklUQU5DRSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1ZGlyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBlckRlZikge1xuICAgICAgICAgICAgaWYgKHNob3VsZEluaGVyaXRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpbmhlcml0YW5jZUNoYWluLnB1c2goc3VwZXJEZWYpO1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgZmllbGRzIGluIHRoZSBkZWZpbml0aW9uIG1heSBiZSBlbXB0eSwgaWYgdGhlcmUgd2VyZSBubyB2YWx1ZXMgdG8gcHV0IGluIHRoZW0gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdvdWxkJ3ZlIGp1c3RpZmllZCBvYmplY3QgY3JlYXRpb24uIFVud3JhcCB0aGVtIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZWFibGVEZWYgPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5pbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uaW5wdXRzKTtcbiAgICAgICAgICAgICAgICB3cml0ZWFibGVEZWYuZGVjbGFyZWRJbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5vdXRwdXRzID0gbWF5YmVVbndyYXBFbXB0eShkZWZpbml0aW9uLm91dHB1dHMpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIGhvc3RCaW5kaW5nc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cGVySG9zdEJpbmRpbmdzID0gc3VwZXJEZWYuaG9zdEJpbmRpbmdzO1xuICAgICAgICAgICAgICAgIHN1cGVySG9zdEJpbmRpbmdzICYmIGluaGVyaXRIb3N0QmluZGluZ3MoZGVmaW5pdGlvbiwgc3VwZXJIb3N0QmluZGluZ3MpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHF1ZXJpZXNcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlclZpZXdRdWVyeSA9IHN1cGVyRGVmLnZpZXdRdWVyeTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlckNvbnRlbnRRdWVyaWVzID0gc3VwZXJEZWYuY29udGVudFF1ZXJpZXM7XG4gICAgICAgICAgICAgICAgc3VwZXJWaWV3UXVlcnkgJiYgaW5oZXJpdFZpZXdRdWVyeShkZWZpbml0aW9uLCBzdXBlclZpZXdRdWVyeSk7XG4gICAgICAgICAgICAgICAgc3VwZXJDb250ZW50UXVlcmllcyAmJiBpbmhlcml0Q29udGVudFF1ZXJpZXMoZGVmaW5pdGlvbiwgc3VwZXJDb250ZW50UXVlcmllcyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgaW5wdXRzIGFuZCBvdXRwdXRzXG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5pbnB1dHMsIHN1cGVyRGVmLmlucHV0cyk7XG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cywgc3VwZXJEZWYuZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgICAgIGZpbGxQcm9wZXJ0aWVzKGRlZmluaXRpb24ub3V0cHV0cywgc3VwZXJEZWYub3V0cHV0cyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgYW5pbWF0aW9ucyBtZXRhZGF0YS5cbiAgICAgICAgICAgICAgICAvLyBJZiBgc3VwZXJEZWZgIGlzIGEgQ29tcG9uZW50LCB0aGUgYGRhdGFgIGZpZWxkIGlzIHByZXNlbnQgKGRlZmF1bHRzIHRvIGFuIGVtcHR5IG9iamVjdCkuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKHN1cGVyRGVmKSAmJiBzdXBlckRlZi5kYXRhLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdXBlciBkZWYgaXMgYSBDb21wb25lbnQsIHRoZSBgZGVmaW5pdGlvbmAgaXMgYWxzbyBhIENvbXBvbmVudCwgc2luY2UgRGlyZWN0aXZlcyBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGluaGVyaXQgQ29tcG9uZW50cyAod2UgdGhyb3cgYW4gZXJyb3IgYWJvdmUgYW5kIGNhbm5vdCByZWFjaCB0aGlzIGNvZGUpLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZEYXRhID0gZGVmaW5pdGlvbi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBkZWZEYXRhLmFuaW1hdGlvbiA9IChkZWZEYXRhLmFuaW1hdGlvbiB8fCBbXSkuY29uY2F0KHN1cGVyRGVmLmRhdGEuYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSdW4gcGFyZW50IGZlYXR1cmVzXG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN1cGVyRGVmLmZlYXR1cmVzO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlICYmIGZlYXR1cmUubmdJbmhlcml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGBJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmVgIGlzIGEgcGFydCBvZiB0aGUgY3VycmVudCBgc3VwZXJEZWZgLCBpdCBtZWFucyB0aGF0IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmIGFscmVhZHkgaGFzIGFsbCB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGluaGVyaXRlZCBmcm9tIGl0cyBzdXBlciBjbGFzcyhlcyksIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbiBzdG9wIG1lcmdpbmcgZmllbGRzIGZyb20gc3VwZXIgY2xhc3Nlcy4gSG93ZXZlciB3ZSBuZWVkIHRvIGl0ZXJhdGUgdGhyb3VnaCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvdG90eXBlIGNoYWluIHRvIGxvb2sgZm9yIGNsYXNzZXMgdGhhdCBtaWdodCBjb250YWluIG90aGVyIFwiZmVhdHVyZXNcIiAobGlrZVxuICAgICAgICAgICAgICAgICAgICAvLyBOZ09uQ2hhbmdlcyksIHdoaWNoIHdlIHNob3VsZCBpbnZva2UgZm9yIHRoZSBvcmlnaW5hbCBgZGVmaW5pdGlvbmAuIFdlIHNldCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYHNob3VsZEluaGVyaXRGaWVsZHNgIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCwgZXNzZW50aWFsbHkgc2tpcHBpbmcgZmllbGRzIGluaGVyaXRhbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2ljIGFuZCBvbmx5IGludm9raW5nIGZ1bmN0aW9ucyBmcm9tIHRoZSBcImZlYXR1cmVzXCIgbGlzdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUgPT09IMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEluaGVyaXRGaWVsZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlclR5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc3VwZXJUeXBlKTtcbiAgICB9XG4gICAgbWVyZ2VIb3N0QXR0cnNBY3Jvc3NJbmhlcml0YW5jZShpbmhlcml0YW5jZUNoYWluKTtcbn1cbi8qKlxuICogTWVyZ2UgdGhlIGBob3N0QXR0cnNgIGFuZCBgaG9zdFZhcnNgIGZyb20gdGhlIGluaGVyaXRlZCBwYXJlbnQgdG8gdGhlIGJhc2UgY2xhc3MuXG4gKlxuICogQHBhcmFtIGluaGVyaXRhbmNlQ2hhaW4gQSBsaXN0IG9mIGBXcml0YWJsZURlZnNgIHN0YXJ0aW5nIGF0IHRoZSB0b3AgbW9zdCB0eXBlIGFuZCBsaXN0aW5nXG4gKiBzdWItdHlwZXMgaW4gb3JkZXIuIEZvciBlYWNoIHR5cGUgdGFrZSB0aGUgYGhvc3RBdHRyc2AgYW5kIGBob3N0VmFyc2AgYW5kIG1lcmdlIGl0IHdpdGggdGhlIGNoaWxkXG4gKiB0eXBlLlxuICovXG5mdW5jdGlvbiBtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlKGluaGVyaXRhbmNlQ2hhaW4pIHtcbiAgICBsZXQgaG9zdFZhcnMgPSAwO1xuICAgIGxldCBob3N0QXR0cnMgPSBudWxsO1xuICAgIC8vIFdlIHByb2Nlc3MgdGhlIGluaGVyaXRhbmNlIG9yZGVyIGZyb20gdGhlIGJhc2UgdG8gdGhlIGxlYXZlcyBoZXJlLlxuICAgIGZvciAobGV0IGkgPSBpbmhlcml0YW5jZUNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IGluaGVyaXRhbmNlQ2hhaW5baV07XG4gICAgICAgIC8vIEZvciBlYWNoIGBob3N0VmFyc2AsIHdlIG5lZWQgdG8gYWRkIHRoZSBzdXBlcmNsYXNzIGFtb3VudC5cbiAgICAgICAgZGVmLmhvc3RWYXJzID0gKGhvc3RWYXJzICs9IGRlZi5ob3N0VmFycyk7XG4gICAgICAgIC8vIGZvciBlYWNoIGBob3N0QXR0cnNgIHdlIG5lZWQgdG8gbWVyZ2UgaXQgd2l0aCBzdXBlcmNsYXNzLlxuICAgICAgICBkZWYuaG9zdEF0dHJzID1cbiAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJzKGRlZi5ob3N0QXR0cnMsIGhvc3RBdHRycyA9IG1lcmdlSG9zdEF0dHJzKGhvc3RBdHRycywgZGVmLmhvc3RBdHRycykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1heWJlVW53cmFwRW1wdHkodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IEVNUFRZX09CSikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID09PSBFTVBUWV9BUlJBWSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5oZXJpdFZpZXdRdWVyeShkZWZpbml0aW9uLCBzdXBlclZpZXdRdWVyeSkge1xuICAgIGNvbnN0IHByZXZWaWV3UXVlcnkgPSBkZWZpbml0aW9uLnZpZXdRdWVyeTtcbiAgICBpZiAocHJldlZpZXdRdWVyeSkge1xuICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IChyZiwgY3R4KSA9PiB7XG4gICAgICAgICAgICBzdXBlclZpZXdRdWVyeShyZiwgY3R4KTtcbiAgICAgICAgICAgIHByZXZWaWV3UXVlcnkocmYsIGN0eCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IHN1cGVyVmlld1F1ZXJ5O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRDb250ZW50UXVlcmllcyhkZWZpbml0aW9uLCBzdXBlckNvbnRlbnRRdWVyaWVzKSB7XG4gICAgY29uc3QgcHJldkNvbnRlbnRRdWVyaWVzID0gZGVmaW5pdGlvbi5jb250ZW50UXVlcmllcztcbiAgICBpZiAocHJldkNvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXMgPSAocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpID0+IHtcbiAgICAgICAgICAgIHN1cGVyQ29udGVudFF1ZXJpZXMocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICAgICAgcHJldkNvbnRlbnRRdWVyaWVzKHJmLCBjdHgsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXMgPSBzdXBlckNvbnRlbnRRdWVyaWVzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRIb3N0QmluZGluZ3MoZGVmaW5pdGlvbiwgc3VwZXJIb3N0QmluZGluZ3MpIHtcbiAgICBjb25zdCBwcmV2SG9zdEJpbmRpbmdzID0gZGVmaW5pdGlvbi5ob3N0QmluZGluZ3M7XG4gICAgaWYgKHByZXZIb3N0QmluZGluZ3MpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgPSAocmYsIGN0eCkgPT4ge1xuICAgICAgICAgICAgc3VwZXJIb3N0QmluZGluZ3MocmYsIGN0eCk7XG4gICAgICAgICAgICBwcmV2SG9zdEJpbmRpbmdzKHJmLCBjdHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgPSBzdXBlckhvc3RCaW5kaW5ncztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGaWVsZHMgd2hpY2ggZXhpc3Qgb24gZWl0aGVyIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgZGVmaW5pdGlvbnMsIGFuZCBuZWVkIHRvIGJlIGNvcGllZCBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgY2xhc3NlcyBieSB0aGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgLlxuICovXG5jb25zdCBDT1BZX0RJUkVDVElWRV9GSUVMRFMgPSBbXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIHByb3ZpZGVycyBvZiBpdHMgcGFyZW50LlxuICAgICdwcm92aWRlcnNSZXNvbHZlcicsXG4gICAgLy8gTm90IGxpc3RlZCBoZXJlIGFyZSBhbnkgZmllbGRzIHdoaWNoIGFyZSBoYW5kbGVkIGJ5IHRoZSBgybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAsIHN1Y2hcbiAgICAvLyBhcyBpbnB1dHMsIG91dHB1dHMsIGFuZCBob3N0IGJpbmRpbmcgZnVuY3Rpb25zLlxuXTtcbi8qKlxuICogRmllbGRzIHdoaWNoIGV4aXN0IG9ubHkgb24gY29tcG9uZW50IGRlZmluaXRpb25zLCBhbmQgbmVlZCB0byBiZSBjb3BpZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGRcbiAqIGNsYXNzZXMgYnkgdGhlIGDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlYC5cbiAqXG4gKiBUaGUgdHlwZSBoZXJlIGFsbG93cyBhbnkgZmllbGQgb2YgYENvbXBvbmVudERlZmAgd2hpY2ggaXMgbm90IGFsc28gYSBwcm9wZXJ0eSBvZiBgRGlyZWN0aXZlRGVmYCxcbiAqIHNpbmNlIHRob3NlIHNob3VsZCBnbyBpbiBgQ09QWV9ESVJFQ1RJVkVfRklFTERTYCBhYm92ZS5cbiAqL1xuY29uc3QgQ09QWV9DT01QT05FTlRfRklFTERTID0gW1xuICAgIC8vIFRoZSBjaGlsZCBjbGFzcyBzaG91bGQgdXNlIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbiBvZiBpdHMgcGFyZW50LCBpbmNsdWRpbmcgYWxsIHRlbXBsYXRlXG4gICAgLy8gc2VtYW50aWNzLlxuICAgICd0ZW1wbGF0ZScsXG4gICAgJ2RlY2xzJyxcbiAgICAnY29uc3RzJyxcbiAgICAndmFycycsXG4gICAgJ29uUHVzaCcsXG4gICAgJ25nQ29udGVudFNlbGVjdG9ycycsXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIENTUyBzdHlsZXMgb2YgaXRzIHBhcmVudCwgaW5jbHVkaW5nIGFsbCBzdHlsaW5nIHNlbWFudGljcy5cbiAgICAnc3R5bGVzJyxcbiAgICAnZW5jYXBzdWxhdGlvbicsXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCBiZSBjaGVja2VkIGJ5IHRoZSBydW50aW1lIGluIHRoZSBzYW1lIHdheSBhcyBpdHMgcGFyZW50LlxuICAgICdzY2hlbWFzJyxcbl07XG4vKipcbiAqIENvcGllcyB0aGUgZmllbGRzIG5vdCBoYW5kbGVkIGJ5IHRoZSBgybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAgZnJvbSB0aGUgc3VwZXJ0eXBlIG9mIGFcbiAqIGRlZmluaXRpb24uXG4gKlxuICogVGhpcyBleGlzdHMgcHJpbWFyaWx5IHRvIHN1cHBvcnQgbmdjYyBtaWdyYXRpb24gb2YgYW4gZXhpc3RpbmcgVmlldyBFbmdpbmUgcGF0dGVybiwgd2hlcmUgYW5cbiAqIGVudGlyZSBkZWNvcmF0b3IgaXMgaW5oZXJpdGVkIGZyb20gYSBwYXJlbnQgdG8gYSBjaGlsZCBjbGFzcy4gV2hlbiBuZ2NjIGRldGVjdHMgdGhpcyBjYXNlLCBpdFxuICogZ2VuZXJhdGVzIGEgc2tlbGV0b24gZGVmaW5pdGlvbiBvbiB0aGUgY2hpbGQgY2xhc3MsIGFuZCBhcHBsaWVzIHRoaXMgZmVhdHVyZS5cbiAqXG4gKiBUaGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgIHRoZW4gY29waWVzIGFueSBuZWVkZWQgZmllbGRzIGZyb20gdGhlIHBhcmVudCBjbGFzcycgZGVmaW5pdGlvbixcbiAqIGluY2x1ZGluZyB0aGluZ3MgbGlrZSB0aGUgY29tcG9uZW50IHRlbXBsYXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBkZWZpbml0aW9uIFRoZSBkZWZpbml0aW9uIG9mIGEgY2hpbGQgY2xhc3Mgd2hpY2ggaW5oZXJpdHMgZnJvbSBhIHBhcmVudCBjbGFzcyB3aXRoIGl0c1xuICogb3duIGRlZmluaXRpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgbGV0IHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIGxldCBzdXBlckRlZiA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS7JtWNtcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUuybVkaXI7XG4gICAgfVxuICAgIC8vIE5lZWRlZCBiZWNhdXNlIGBkZWZpbml0aW9uYCBmaWVsZHMgYXJlIHJlYWRvbmx5LlxuICAgIGNvbnN0IGRlZkFueSA9IGRlZmluaXRpb247XG4gICAgLy8gQ29weSBvdmVyIGFueSBmaWVsZHMgdGhhdCBhcHBseSB0byBlaXRoZXIgZGlyZWN0aXZlcyBvciBjb21wb25lbnRzLlxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgQ09QWV9ESVJFQ1RJVkVfRklFTERTKSB7XG4gICAgICAgIGRlZkFueVtmaWVsZF0gPSBzdXBlckRlZltmaWVsZF07XG4gICAgfVxuICAgIGlmIChpc0NvbXBvbmVudERlZihzdXBlckRlZikpIHtcbiAgICAgICAgLy8gQ29weSBvdmVyIGFueSBjb21wb25lbnQtc3BlY2lmaWMgZmllbGRzLlxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIENPUFlfQ09NUE9ORU5UX0ZJRUxEUykge1xuICAgICAgICAgICAgZGVmQW55W2ZpZWxkXSA9IHN1cGVyRGVmW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3N5bWJvbEl0ZXJhdG9yID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICghX3N5bWJvbEl0ZXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IFN5bWJvbCA9IF9nbG9iYWxbJ1N5bWJvbCddO1xuICAgICAgICBpZiAoU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXM2LXNoaW0gc3BlY2lmaWMgbG9naWNcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zeW1ib2xJdGVyYXRvcjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZXZNb2RlRXF1YWwoYSwgYikge1xuICAgIGNvbnN0IGlzTGlzdExpa2VJdGVyYWJsZUEgPSBpc0xpc3RMaWtlSXRlcmFibGUoYSk7XG4gICAgY29uc3QgaXNMaXN0TGlrZUl0ZXJhYmxlQiA9IGlzTGlzdExpa2VJdGVyYWJsZShiKTtcbiAgICBpZiAoaXNMaXN0TGlrZUl0ZXJhYmxlQSAmJiBpc0xpc3RMaWtlSXRlcmFibGVCKSB7XG4gICAgICAgIHJldHVybiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBkZXZNb2RlRXF1YWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXNBT2JqZWN0ID0gYSAmJiAodHlwZW9mIGEgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgY29uc3QgaXNCT2JqZWN0ID0gYiAmJiAodHlwZW9mIGIgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgaWYgKCFpc0xpc3RMaWtlSXRlcmFibGVBICYmIGlzQU9iamVjdCAmJiAhaXNMaXN0TGlrZUl0ZXJhYmxlQiAmJiBpc0JPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5pcyhhLCBiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgTWFwKSAmJiAvLyBKUyBNYXAgYXJlIGl0ZXJhYmxlcyBidXQgcmV0dXJuIGVudHJpZXMgYXMgW2ssIHZdXG4gICAgICAgICAgICBnZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZnVuY3Rpb24gYXJlSXRlcmFibGVzRXF1YWwoYSwgYiwgY29tcGFyYXRvcikge1xuICAgIGNvbnN0IGl0ZXJhdG9yMSA9IGFbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICBjb25zdCBpdGVyYXRvcjIgPSBiW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgaXRlbTEgPSBpdGVyYXRvcjEubmV4dCgpO1xuICAgICAgICBjb25zdCBpdGVtMiA9IGl0ZXJhdG9yMi5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVtMS5kb25lICYmIGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgfHwgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjb21wYXJhdG9yKGl0ZW0xLnZhbHVlLCBpdGVtMi52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlcmF0ZUxpc3RMaWtlKG9iaiwgZm4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IG9ialtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgd2hpbGUgKCEoKGl0ZW0gPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICBmbihpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSnNPYmplY3Qobykge1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbyA9PT0gJ29iamVjdCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE8obWlza28pOiBjb25zaWRlciBpbmxpbmluZ1xuLyoqIFVwZGF0ZXMgYmluZGluZyBhbmQgcmV0dXJucyB0aGUgdmFsdWUuICovXG5mdW5jdGlvbiB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGxWaWV3W2JpbmRpbmdJbmRleF0gPSB2YWx1ZTtcbn1cbi8qKiBHZXRzIHRoZSBjdXJyZW50IGJpbmRpbmcgdmFsdWUuICovXG5mdW5jdGlvbiBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RTYW1lKGxWaWV3W2JpbmRpbmdJbmRleF0sIE5PX0NIQU5HRSwgJ1N0b3JlZCB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIHJldHVybiBsVmlld1tiaW5kaW5nSW5kZXhdO1xufVxuLyoqXG4gKiBVcGRhdGVzIGJpbmRpbmcgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgaXQgd2FzIHVwZGF0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGNoZWNrcyB0aGUgYENoZWNrTm9DaGFuZ2VzTW9kZWAgYW5kIHRocm93cyBpZiBjaGFuZ2VzIGFyZSBtYWRlLlxuICogU29tZSBjaGFuZ2VzIChPYmplY3RzL2l0ZXJhYmxlcykgZHVyaW5nIGBDaGVja05vQ2hhbmdlc01vZGVgIGFyZSBleGVtcHQgdG8gY29tcGx5IHdpdGggVkVcbiAqIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggVGhlIGJpbmRpbmcgaW4gdGhlIGBMVmlld2AgdG8gY2hlY2tcbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCBgbFZpZXdbYmluZGluZ0luZGV4XWBcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYmluZGluZ3MgaGFzIGNoYW5nZWQuIChUaHJvd3MgaWYgYmluZGluZyBoYXMgY2hhbmdlZCBkdXJpbmdcbiAqICAgICAgICAgIGBDaGVja05vQ2hhbmdlc01vZGVgKVxuICovXG5mdW5jdGlvbiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRMZXNzVGhhbihiaW5kaW5nSW5kZXgsIGxWaWV3Lmxlbmd0aCwgYFNsb3Qgc2hvdWxkIGhhdmUgYmVlbiBpbml0aWFsaXplZCB0byBOT19DSEFOR0VgKTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGxWaWV3W2JpbmRpbmdJbmRleF07XG4gICAgaWYgKE9iamVjdC5pcyhvbGRWYWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpKSB7XG4gICAgICAgICAgICAvLyBWaWV3IGVuZ2luZSBkaWRuJ3QgcmVwb3J0IHVuZGVmaW5lZCB2YWx1ZXMgYXMgY2hhbmdlZCBvbiB0aGUgZmlyc3QgY2hlY2tOb0NoYW5nZXMgcGFzc1xuICAgICAgICAgICAgLy8gKGJlZm9yZSB0aGUgY2hhbmdlIGRldGVjdGlvbiB3YXMgcnVuKS5cbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlVG9Db21wYXJlID0gb2xkVmFsdWUgIT09IE5PX0NIQU5HRSA/IG9sZFZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFkZXZNb2RlRXF1YWwob2xkVmFsdWVUb0NvbXBhcmUsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyhsVmlldywgYmluZGluZ0luZGV4LCBvbGRWYWx1ZVRvQ29tcGFyZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUob2xkVmFsdWUgPT09IE5PX0NIQU5HRSwgZGV0YWlscy5vbGRWYWx1ZSwgZGV0YWlscy5uZXdWYWx1ZSwgZGV0YWlscy5wcm9wTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGVyZSB3YXMgYSBjaGFuZ2UsIGJ1dCB0aGUgYGRldk1vZGVFcXVhbGAgZGVjaWRlZCB0aGF0IHRoZSBjaGFuZ2UgaXMgZXhlbXB0IGZyb20gYW4gZXJyb3IuXG4gICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgZXhpdCBhcyBpZiBubyBjaGFuZ2UuIFRoZSBlYXJseSBleGl0IGlzIG5lZWRlZCB0byBwcmV2ZW50IHRoZSBjaGFuZ2VkXG4gICAgICAgICAgICAvLyB2YWx1ZSB0byBiZSB3cml0dGVuIGludG8gYExWaWV3YCAoSWYgd2Ugd291bGQgd3JpdGUgdGhlIG5ldyB2YWx1ZSB0aGF0IHdlIHdvdWxkIG5vdCBzZWUgaXRcbiAgICAgICAgICAgIC8vIGFzIGNoYW5nZSBvbiBuZXh0IENELilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsVmlld1tiaW5kaW5nSW5kZXhdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKiBVcGRhdGVzIDIgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgZWl0aGVyIHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCBleHAxKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDEsIGV4cDIpIHx8IGRpZmZlcmVudDtcbn1cbi8qKiBVcGRhdGVzIDMgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgYW55IHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMik7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyLCBleHAzKSB8fCBkaWZmZXJlbnQ7XG59XG4vKiogVXBkYXRlcyA0IGJpbmRpbmdzIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGFueSB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KSB7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIGV4cDMsIGV4cDQpIHx8IGRpZmZlcmVudDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIG9yIHJlbW92ZXMgYSBib3VuZCBhdHRyaWJ1dGUgb24gYW4gRWxlbWVudC5cbiAqXG4gKiBVc2VkIGluIHRoZSBjYXNlIG9mIGBbYXR0ci50aXRsZV09XCJ2YWx1ZVwiYFxuICpcbiAqIEBwYXJhbSBuYW1lIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBUaGUgYXR0cmlidXRlIGlzIHJlbW92ZWQgd2hlbiB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gKiAgICAgICAgICAgICAgICAgIE90aGVyd2lzZSB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHNldCB0byB0aGUgc3RyaW5naWZpZWQgdmFsdWUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHBhcmFtIG5hbWVzcGFjZSBPcHRpb25hbCBuYW1lc3BhY2UgdG8gdXNlIHdoZW4gc2V0dGluZyB0aGUgYXR0cmlidXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCAnYXR0ci4nICsgbmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5ncyB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHRoZXJlIGFyZSAxIHRvIDggZXhwcmVzc2lvbnMgYGludGVycG9sYXRpb24xKClgIHRvIGBpbnRlcnBvbGF0aW9uOCgpYCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogVGhvc2UgYXJlIGZhc3RlciBiZWNhdXNlIHRoZXJlIGlzIG5vIG5lZWQgdG8gY3JlYXRlIGFuIGFycmF5IG9mIGV4cHJlc3Npb25zIGFuZCBpdGVyYXRlIG92ZXIgaXQuXG4gKlxuICogYHZhbHVlc2A6XG4gKiAtIGhhcyBzdGF0aWMgdGV4dCBhdCBldmVuIGluZGV4ZXMsXG4gKiAtIGhhcyBldmFsdWF0ZWQgZXhwcmVzc2lvbnMgYXQgb2RkIGluZGV4ZXMuXG4gKlxuICogUmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIHN0cmluZyB3aGVuIGFueSBvZiB0aGUgYXJndW1lbnRzIGNoYW5nZXMsIGBOT19DSEFOR0VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbigyLCB2YWx1ZXMubGVuZ3RoLCAnc2hvdWxkIGhhdmUgYXQgbGVhc3QgMyB2YWx1ZXMnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodmFsdWVzLmxlbmd0aCAlIDIsIDEsICdzaG91bGQgaGF2ZSBhbiBvZGQgbnVtYmVyIG9mIHZhbHVlcycpO1xuICAgIGxldCBpc0JpbmRpbmdVcGRhdGVkID0gZmFsc2U7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGJpbmRpbmdzIChvZGQgaW5kZXhlcykgaGF2ZSBjaGFuZ2VkXG4gICAgICAgIGlzQmluZGluZ1VwZGF0ZWQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4KyssIHZhbHVlc1tpXSkgfHwgaXNCaW5kaW5nVXBkYXRlZDtcbiAgICB9XG4gICAgc2V0QmluZGluZ0luZGV4KGJpbmRpbmdJbmRleCk7XG4gICAgaWYgKCFpc0JpbmRpbmdVcGRhdGVkKSB7XG4gICAgICAgIHJldHVybiBOT19DSEFOR0U7XG4gICAgfVxuICAgIC8vIEJ1aWxkIHRoZSB1cGRhdGVkIGNvbnRlbnRcbiAgICBsZXQgY29udGVudCA9IHZhbHVlc1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb250ZW50ICs9IHJlbmRlclN0cmluZ2lmeSh2YWx1ZXNbaV0pICsgdmFsdWVzW2kgKyAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMSBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBwcmVmaXggc3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCB2YWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IHN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgbmV4dEJpbmRpbmdJbmRleCgpLCB2MCk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBzdWZmaXggOiBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMiBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSk7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDIpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgc3VmZml4IDogTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDMgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCgzKTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICsgcmVuZGVyU3RyaW5naWZ5KHYyKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDQgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg0KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA1IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQpIHx8IGRpZmZlcmVudDtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoNSk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNiBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSkgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg2KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICsgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICtcbiAgICAgICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBpNCArIHJlbmRlclN0cmluZ2lmeSh2NSkgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNyBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQsIHY1LCB2NikgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg3KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIGkzICsgcmVuZGVyU3RyaW5naWZ5KHY0KSArIGk0ICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHY1KSArIGk1ICsgcmVuZGVyU3RyaW5naWZ5KHY2KSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA4IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSwgdjYsIHY3KSB8fCBkaWZmZXJlbnQ7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDgpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgKyByZW5kZXJTdHJpbmdpZnkodjMpICsgaTMgKyByZW5kZXJTdHJpbmdpZnkodjQpICsgaTQgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjUpICsgaTUgKyByZW5kZXJTdHJpbmdpZnkodjYpICsgaTYgKyByZW5kZXJTdHJpbmdpZnkodjcpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMShhdHRyTmFtZSwgcHJlZml4LCB2MCwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAxLCBwcmVmaXgsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMigndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyKGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAyLCBwcmVmaXgsIGkwLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzKFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyhhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDMsIHByZWZpeCwgaTAsIGkxLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNChcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNCwgcHJlZml4LCBpMCwgaTEsIGkyLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA1LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNihhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDYsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyhcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNywgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgoXG4gKiAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOChhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gOCwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBpNiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYoXG4gKiAgJ3RpdGxlJywgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYoYXR0ck5hbWUsIHZhbHVlcywgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25JbkJldHdlZW4gPSBbdmFsdWVzWzBdXTsgLy8gcHJlZml4XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25JbkJldHdlZW4ucHVzaCh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5sZW5ndGggKyAxLCAuLi5pbnRlcnBvbGF0aW9uSW5CZXR3ZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiB0ZW1wbGF0ZUZpcnN0Q3JlYXRlUGFzcyhpbmRleCwgdFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIC8vIFRPRE8ocGspOiByZWZhY3RvciBnZXRPckNyZWF0ZVROb2RlIHRvIGhhdmUgdGhlIFwiY3JlYXRlXCIgb25seSB2ZXJzaW9uXG4gICAgY29uc3QgdE5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgNCAvKiBDb250YWluZXIgKi8sIHRhZ05hbWUgfHwgbnVsbCwgZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpKTtcbiAgICByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpKTtcbiAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCB0Tm9kZSk7XG4gICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IHROb2RlLnRWaWV3cyA9IGNyZWF0ZVRWaWV3KDIgLyogRW1iZWRkZWQgKi8sIHROb2RlLCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdFZpZXcuZGlyZWN0aXZlUmVnaXN0cnksIHRWaWV3LnBpcGVSZWdpc3RyeSwgbnVsbCwgdFZpZXcuc2NoZW1hcywgdFZpZXdDb25zdHMpO1xuICAgIGlmICh0Vmlldy5xdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LnF1ZXJpZXMudGVtcGxhdGUodFZpZXcsIHROb2RlKTtcbiAgICAgICAgZW1iZWRkZWRUVmlldy5xdWVyaWVzID0gdFZpZXcucXVlcmllcy5lbWJlZGRlZFRWaWV3KHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIExDb250YWluZXIgZm9yIGFuIG5nLXRlbXBsYXRlIChkeW5hbWljYWxseS1pbnNlcnRlZCB2aWV3KSwgZS5nLlxuICpcbiAqIDxuZy10ZW1wbGF0ZSAjZm9vPlxuICogICAgPGRpdj48L2Rpdj5cbiAqIDwvbmctdGVtcGxhdGU+XG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY29udGFpbmVyIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gdGVtcGxhdGVGbiBJbmxpbmUgdGVtcGxhdGVcbiAqIEBwYXJhbSBkZWNscyBUaGUgbnVtYmVyIG9mIG5vZGVzLCBsb2NhbCByZWZzLCBhbmQgcGlwZXMgZm9yIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB2YXJzIFRoZSBudW1iZXIgb2YgYmluZGluZ3MgZm9yIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB0YWdOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250YWluZXIgZWxlbWVudCwgaWYgYXBwbGljYWJsZVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGVtcGxhdGUgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzIEluZGV4IG9mIHRoZSBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZkV4dHJhY3RvciBBIGZ1bmN0aW9uIHdoaWNoIGV4dHJhY3RzIGxvY2FsLXJlZnMgdmFsdWVzIGZyb20gdGhlIHRlbXBsYXRlLlxuICogICAgICAgIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBsb2NhbC1yZWYuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRlbXBsYXRlKGluZGV4LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgsIGxvY2FsUmVmRXh0cmFjdG9yKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID8gdGVtcGxhdGVGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlKTtcbiAgICBjb25zdCBjb21tZW50ID0gbFZpZXdbUkVOREVSRVJdLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ2NvbnRhaW5lcicgOiAnJyk7XG4gICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBjb21tZW50LCB0Tm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKGNvbW1lbnQsIGxWaWV3KTtcbiAgICBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBsVmlld1thZGp1c3RlZEluZGV4XSA9IGNyZWF0ZUxDb250YWluZXIoY29tbWVudCwgbFZpZXcsIGNvbW1lbnQsIHROb2RlKSk7XG4gICAgaWYgKGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgaWYgKGxvY2FsUmVmc0luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKGxWaWV3LCB0Tm9kZSwgbG9jYWxSZWZFeHRyYWN0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogU3RvcmUgYSB2YWx1ZSBpbiB0aGUgYGRhdGFgIGF0IGEgZ2l2ZW4gYGluZGV4YC4gKi9cbmZ1bmN0aW9uIHN0b3JlKHRWaWV3LCBsVmlldywgaW5kZXgsIHZhbHVlKSB7XG4gICAgLy8gV2UgZG9uJ3Qgc3RvcmUgYW55IHN0YXRpYyBkYXRhIGZvciBsb2NhbCB2YXJpYWJsZXMsIHNvIHRoZSBmaXJzdCB0aW1lXG4gICAgLy8gd2Ugc2VlIHRoZSB0ZW1wbGF0ZSwgd2Ugc2hvdWxkIHN0b3JlIGFzIG51bGwgdG8gYXZvaWQgYSBzcGFyc2UgYXJyYXlcbiAgICBpZiAoaW5kZXggPj0gdFZpZXcuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSBudWxsO1xuICAgICAgICB0Vmlldy5ibHVlcHJpbnRbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gICAgbFZpZXdbaW5kZXhdID0gdmFsdWU7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhIGxvY2FsIHJlZmVyZW5jZSBmcm9tIHRoZSBjdXJyZW50IGNvbnRleHRWaWV3RGF0YS5cbiAqXG4gKiBJZiB0aGUgcmVmZXJlbmNlIHRvIHJldHJpZXZlIGlzIGluIGEgcGFyZW50IHZpZXcsIHRoaXMgaW5zdHJ1Y3Rpb24gaXMgdXNlZCBpbiBjb25qdW5jdGlvblxuICogd2l0aCBhIG5leHRDb250ZXh0KCkgY2FsbCwgd2hpY2ggd2Fsa3MgdXAgdGhlIHRyZWUgYW5kIHVwZGF0ZXMgdGhlIGNvbnRleHRWaWV3RGF0YSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBsb2NhbCByZWYgaW4gY29udGV4dFZpZXdEYXRhLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZWZlcmVuY2UoaW5kZXgpIHtcbiAgICBjb25zdCBjb250ZXh0TFZpZXcgPSBnZXRDb250ZXh0TFZpZXcoKTtcbiAgICByZXR1cm4gbG9hZChjb250ZXh0TFZpZXcsIEhFQURFUl9PRkZTRVQgKyBpbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGhlIEBhbmd1bGFyL2NvcmUgQVBJIHN1cmZhY2UgdXNlZCBpbiBnZW5lcmF0ZWQgZXhwcmVzc2lvbnMgdG8gdGhlIGFjdHVhbCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBwdWJsaWMgZXhwb3J0cyBvZiBAYW5ndWxhci9jb3JlLlxuICovXG5jb25zdCBhbmd1bGFyQ29yZURpRW52ID0ge1xuICAgICfJtcm1ZGVmaW5lSW5qZWN0YWJsZSc6IMm1ybVkZWZpbmVJbmplY3RhYmxlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0b3InOiDJtcm1ZGVmaW5lSW5qZWN0b3IsXG4gICAgJ8m1ybVpbmplY3QnOiDJtcm1aW5qZWN0LFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnlEZXAnOiDJtcm1aW52YWxpZEZhY3RvcnlEZXAsXG4gICAgJ3Jlc29sdmVGb3J3YXJkUmVmJzogcmVzb2x2ZUZvcndhcmRSZWYsXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGluamVjdGFibGUgYWNjb3JkaW5nIHRvIGl0cyBgSW5qZWN0YWJsZWAgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIG9udG8gdGhlIGluamVjdGFibGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUluamVjdGFibGUodHlwZSwgbWV0YSkge1xuICAgIGxldCBuZ0luamVjdGFibGVEZWYgPSBudWxsO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIC8vIGlmIE5HX1BST1ZfREVGIGlzIGFscmVhZHkgZGVmaW5lZCBvbiB0aGlzIGNsYXNzIHRoZW4gZG9uJ3Qgb3ZlcndyaXRlIGl0XG4gICAgaWYgKCF0eXBlLmhhc093blByb3BlcnR5KE5HX1BST1ZfREVGKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfUFJPVl9ERUYsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZ0luamVjdGFibGVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZ0luamVjdGFibGVEZWYgPSBjb21waWxlci5jb21waWxlSW5qZWN0YWJsZShhbmd1bGFyQ29yZURpRW52LCBgbmc6Ly8vJHt0eXBlLm5hbWV9L8m1cHJvdi5qc2AsIGdldEluamVjdGFibGVNZXRhZGF0YSh0eXBlLCBtZXRhKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZ0luamVjdGFibGVEZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gaWYgTkdfRkFDVE9SWV9ERUYgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIHRoaXMgY2xhc3MgdGhlbiBkb24ndCBvdmVyd3JpdGUgaXRcbiAgICBpZiAoIXR5cGUuaGFzT3duUHJvcGVydHkoTkdfRkFDVE9SWV9ERUYpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnaW5qZWN0YWJsZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRGlFbnYsIGBuZzovLy8ke3R5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LkluamVjdGFibGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gTGVhdmUgdGhpcyBjb25maWd1cmFibGUgc28gdGhhdCB0aGUgZmFjdG9yaWVzIGZyb20gZGlyZWN0aXZlcyBvciBwaXBlcyBjYW4gdGFrZSBwcmVjZWRlbmNlLlxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IFVTRV9WQUxVRSA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBwcm92aWRlOiBTdHJpbmcsIHVzZVZhbHVlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuZnVuY3Rpb24gaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VDbGFzcyAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNVc2VWYWx1ZVByb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gVVNFX1ZBTFVFIGluIG1ldGE7XG59XG5mdW5jdGlvbiBpc1VzZUZhY3RvcnlQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIG1ldGEudXNlRmFjdG9yeSAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNVc2VFeGlzdGluZ1Byb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VFeGlzdGluZyAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0SW5qZWN0YWJsZU1ldGFkYXRhKHR5cGUsIHNyY01ldGEpIHtcbiAgICAvLyBBbGxvdyB0aGUgY29tcGlsYXRpb24gb2YgYSBjbGFzcyB3aXRoIGEgYEBJbmplY3RhYmxlKClgIGRlY29yYXRvciB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICBjb25zdCBtZXRhID0gc3JjTWV0YSB8fCB7IHByb3ZpZGVkSW46IG51bGwgfTtcbiAgICBjb25zdCBjb21waWxlck1ldGEgPSB7XG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgIHByb3ZpZGVkSW46IG1ldGEucHJvdmlkZWRJbixcbiAgICB9O1xuICAgIGlmICgoaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHx8IGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpKSAmJiBtZXRhLmRlcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21waWxlck1ldGEuZGVwcyA9IGNvbnZlcnREZXBlbmRlbmNpZXMobWV0YS5kZXBzKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgcHJvdmlkZWQgYSBgdXNlWHh4eGAgcHJvcGVydHkuXG4gICAgaWYgKGlzVXNlQ2xhc3NQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlQ2xhc3MgPSBtZXRhLnVzZUNsYXNzO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZVZhbHVlID0gbWV0YS51c2VWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNVc2VGYWN0b3J5UHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZUZhY3RvcnkgPSBtZXRhLnVzZUZhY3Rvcnk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXNlRXhpc3RpbmdQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlRXhpc3RpbmcgPSBtZXRhLnVzZUV4aXN0aW5nO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZXJNZXRhO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSW5qZWN0YWJsZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEluamVjdGFibGUgPSBtYWtlRGVjb3JhdG9yKCdJbmplY3RhYmxlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVJbmplY3RhYmxlKHR5cGUsIG1ldGEpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBmaW5kRmlyc3RDbG9zZWRDeWNsZShrZXlzKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChyZXMuaW5kZXhPZihrZXlzW2ldKSA+IC0xKSB7XG4gICAgICAgICAgICByZXMucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IHJldmVyc2VkID0gZmluZEZpcnN0Q2xvc2VkQ3ljbGUoa2V5cy5zbGljZSgpLnJldmVyc2UoKSk7XG4gICAgICAgIGNvbnN0IHRva2VuU3RycyA9IHJldmVyc2VkLm1hcChrID0+IHN0cmluZ2lmeShrLnRva2VuKSk7XG4gICAgICAgIHJldHVybiAnICgnICsgdG9rZW5TdHJzLmpvaW4oJyAtPiAnKSArICcpJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuZnVuY3Rpb24gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSwgb3JpZ2luYWxFcnJvcikge1xuICAgIGNvbnN0IGtleXMgPSBba2V5XTtcbiAgICBjb25zdCBlcnJNc2cgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKGtleXMpO1xuICAgIGNvbnN0IGVycm9yID0gKG9yaWdpbmFsRXJyb3IgPyB3cmFwcGVkRXJyb3IoZXJyTXNnLCBvcmlnaW5hbEVycm9yKSA6IEVycm9yKGVyck1zZykpO1xuICAgIGVycm9yLmFkZEtleSA9IGFkZEtleTtcbiAgICBlcnJvci5rZXlzID0ga2V5cztcbiAgICBlcnJvci5pbmplY3RvcnMgPSBbaW5qZWN0b3JdO1xuICAgIGVycm9yLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlO1xuICAgIGVycm9yW0VSUk9SX09SSUdJTkFMX0VSUk9SXSA9IG9yaWdpbmFsRXJyb3I7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gYWRkS2V5KGluamVjdG9yLCBrZXkpIHtcbiAgICB0aGlzLmluamVjdG9ycy5wdXNoKGluamVjdG9yKTtcbiAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuICAgIC8vIE5vdGU6IFRoaXMgdXBkYXRlZCBtZXNzYWdlIHdvbid0IGJlIHJlZmxlY3RlZCBpbiB0aGUgYC5zdGFja2AgcHJvcGVydHlcbiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UodGhpcy5rZXlzKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gdHJ5aW5nIHRvIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBieSBrZXkgZnJvbSB7QGxpbmsgSW5qZWN0b3J9LCBidXQgdGhlXG4gKiB7QGxpbmsgSW5qZWN0b3J9IGRvZXMgbm90IGhhdmUgYSB7QGxpbmsgUHJvdmlkZXJ9IGZvciB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcihiOkIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gbm9Qcm92aWRlckVycm9yKGluamVjdG9yLCBrZXkpIHtcbiAgICByZXR1cm4gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBzdHJpbmdpZnkoa2V5c1swXS50b2tlbik7XG4gICAgICAgIHJldHVybiBgTm8gcHJvdmlkZXIgZm9yICR7Zmlyc3R9ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX1gO1xuICAgIH0pO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBkZXBlbmRlbmNpZXMgZm9ybSBhIGN5Y2xlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICB7cHJvdmlkZTogXCJvbmVcIiwgdXNlRmFjdG9yeTogKHR3bykgPT4gXCJ0d29cIiwgZGVwczogW1tuZXcgSW5qZWN0KFwidHdvXCIpXV19LFxuICogICB7cHJvdmlkZTogXCJ0d29cIiwgdXNlRmFjdG9yeTogKG9uZSkgPT4gXCJvbmVcIiwgZGVwczogW1tuZXcgSW5qZWN0KFwib25lXCIpXV19XG4gKiBdKTtcbiAqXG4gKiBleHBlY3QoKCkgPT4gaW5qZWN0b3IuZ2V0KFwib25lXCIpKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqIFJldHJpZXZpbmcgYEFgIG9yIGBCYCB0aHJvd3MgYSBgQ3ljbGljRGVwZW5kZW5jeUVycm9yYCBhcyB0aGUgZ3JhcGggYWJvdmUgY2Fubm90IGJlIGNvbnN0cnVjdGVkLlxuICovXG5mdW5jdGlvbiBjeWNsaWNEZXBlbmRlbmN5RXJyb3IoaW5qZWN0b3IsIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4gYENhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSEke2NvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyl9YDtcbiAgICB9KTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gYSBjb25zdHJ1Y3RpbmcgdHlwZSByZXR1cm5zIHdpdGggYW4gRXJyb3IuXG4gKlxuICogVGhlIGBJbnN0YW50aWF0aW9uRXJyb3JgIGNsYXNzIGNvbnRhaW5zIHRoZSBvcmlnaW5hbCBlcnJvciBwbHVzIHRoZSBkZXBlbmRlbmN5IGdyYXBoIHdoaWNoIGNhdXNlZFxuICogdGhpcyBvYmplY3QgdG8gYmUgaW5zdGFudGlhdGVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aHJvdyBuZXcgRXJyb3IoJ21lc3NhZ2UnKTtcbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKTtcblxuICogdHJ5IHtcbiAqICAgaW5qZWN0b3IuZ2V0KEEpO1xuICogfSBjYXRjaCAoZSkge1xuICogICBleHBlY3QoZSBpbnN0YW5jZW9mIEluc3RhbnRpYXRpb25FcnJvcikudG9CZSh0cnVlKTtcbiAqICAgZXhwZWN0KGUub3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZSkudG9FcXVhbChcIm1lc3NhZ2VcIik7XG4gKiAgIGV4cGVjdChlLm9yaWdpbmFsU3RhY2spLnRvQmVEZWZpbmVkKCk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gaW5zdGFudGlhdGlvbkVycm9yKGluamVjdG9yLCBvcmlnaW5hbEV4Y2VwdGlvbiwgb3JpZ2luYWxTdGFjaywga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gc3RyaW5naWZ5KGtleXNbMF0udG9rZW4pO1xuICAgICAgICByZXR1cm4gYCR7b3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZX06IEVycm9yIGR1cmluZyBpbnN0YW50aWF0aW9uIG9mICR7Zmlyc3R9ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX0uYDtcbiAgICB9LCBvcmlnaW5hbEV4Y2VwdGlvbik7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGFuIG9iamVjdCBvdGhlciB0aGVuIHtAbGluayBQcm92aWRlcn0gKG9yIGBUeXBlYCkgaXMgcGFzc2VkIHRvIHtAbGluayBJbmplY3Rvcn1cbiAqIGNyZWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcIm5vdCBhIHR5cGVcIl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBpbnZhbGlkUHJvdmlkZXJFcnJvcihwcm92aWRlcikge1xuICAgIHJldHVybiBFcnJvcihgSW52YWxpZCBwcm92aWRlciAtIG9ubHkgaW5zdGFuY2VzIG9mIFByb3ZpZGVyIGFuZCBUeXBlIGFyZSBhbGxvd2VkLCBnb3Q6ICR7cHJvdmlkZXJ9YCk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjbGFzcyBoYXMgbm8gYW5ub3RhdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBMYWNrIG9mIGFubm90YXRpb24gaW5mb3JtYXRpb24gcHJldmVudHMgdGhlIHtAbGluayBJbmplY3Rvcn0gZnJvbSBkZXRlcm1pbmluZyB3aGljaCBkZXBlbmRlbmNpZXNcbiAqIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3IuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGFsc28gdGhyb3duIHdoZW4gdGhlIGNsYXNzIG5vdCBtYXJrZWQgd2l0aCB7QGxpbmsgSW5qZWN0YWJsZX0gaGFzIHBhcmFtZXRlciB0eXBlcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBCIHt9XG4gKlxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge30gLy8gbm8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBhcmFtZXRlciB0eXBlcyBvZiBBIGlzIGF2YWlsYWJsZSBhdCBydW50aW1lLlxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBLEJdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKi9cbmZ1bmN0aW9uIG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcykge1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBhcmFtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IHBhcmFtc1tpXTtcbiAgICAgICAgaWYgKCFwYXJhbWV0ZXIgfHwgcGFyYW1ldGVyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBzaWduYXR1cmUucHVzaCgnPycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2lnbmF0dXJlLnB1c2gocGFyYW1ldGVyLm1hcChzdHJpbmdpZnkpLmpvaW4oJyAnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEVycm9yKCdDYW5ub3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgXFwnJyArIHN0cmluZ2lmeSh0eXBlT3JGdW5jKSArICdcXCcoJyArXG4gICAgICAgIHNpZ25hdHVyZS5qb2luKCcsICcpICsgJykuICcgK1xuICAgICAgICAnTWFrZSBzdXJlIHRoYXQgYWxsIHRoZSBwYXJhbWV0ZXJzIGFyZSBkZWNvcmF0ZWQgd2l0aCBJbmplY3Qgb3IgaGF2ZSB2YWxpZCB0eXBlIGFubm90YXRpb25zIGFuZCB0aGF0IFxcJycgK1xuICAgICAgICBzdHJpbmdpZnkodHlwZU9yRnVuYykgKyAnXFwnIGlzIGRlY29yYXRlZCB3aXRoIEluamVjdGFibGUuJyk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGdldHRpbmcgYW4gb2JqZWN0IGJ5IGluZGV4LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge31cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSk7XG4gKlxuICogZXhwZWN0KCgpID0+IGluamVjdG9yLmdldEF0KDEwMCkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICovXG5mdW5jdGlvbiBvdXRPZkJvdW5kc0Vycm9yKGluZGV4KSB7XG4gICAgcmV0dXJuIEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBvdXQtb2YtYm91bmRzLmApO1xufVxuLy8gVE9ETzogYWRkIGEgd29ya2luZyBleGFtcGxlIGFmdGVyIGFscGhhMzggaXMgcmVsZWFzZWRcbi8qKlxuICogVGhyb3duIHdoZW4gYSBtdWx0aSBwcm92aWRlciBhbmQgYSByZWd1bGFyIHByb3ZpZGVyIGFyZSBib3VuZCB0byB0aGUgc2FtZSB0b2tlbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHsgcHJvdmlkZTogXCJTdHJpbmdzXCIsIHVzZVZhbHVlOiBcInN0cmluZzFcIiwgbXVsdGk6IHRydWV9LFxuICogICB7IHByb3ZpZGU6IFwiU3RyaW5nc1wiLCB1c2VWYWx1ZTogXCJzdHJpbmcyXCIsIG11bHRpOiBmYWxzZX1cbiAqIF0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBtaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3IocHJvdmlkZXIxLCBwcm92aWRlcjIpIHtcbiAgICByZXR1cm4gRXJyb3IoYENhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVycywgZ290OiAke3Byb3ZpZGVyMX0gJHtwcm92aWRlcjJ9YCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHVuaXF1ZSBvYmplY3QgdXNlZCBmb3IgcmV0cmlldmluZyBpdGVtcyBmcm9tIHRoZSB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfS5cbiAqXG4gKiBLZXlzIGhhdmU6XG4gKiAtIGEgc3lzdGVtLXdpZGUgdW5pcXVlIGBpZGAuXG4gKiAtIGEgYHRva2VuYC5cbiAqXG4gKiBgS2V5YCBpcyB1c2VkIGludGVybmFsbHkgYnkge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0gYmVjYXVzZSBpdHMgc3lzdGVtLXdpZGUgdW5pcXVlIGBpZGAgYWxsb3dzXG4gKiB0aGVcbiAqIGluamVjdG9yIHRvIHN0b3JlIGNyZWF0ZWQgb2JqZWN0cyBpbiBhIG1vcmUgZWZmaWNpZW50IHdheS5cbiAqXG4gKiBgS2V5YCBzaG91bGQgbm90IGJlIGNyZWF0ZWQgZGlyZWN0bHkuIHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGNyZWF0ZXMga2V5cyBhdXRvbWF0aWNhbGx5IHdoZW5cbiAqIHJlc29sdmluZ1xuICogcHJvdmlkZXJzLlxuICpcbiAqIEBkZXByZWNhdGVkIE5vIHJlcGxhY2VtZW50XG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlZmxlY3RpdmVLZXkge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0b2tlbiwgaWQpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gbXVzdCBiZSBkZWZpbmVkIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSBzdHJpbmdpZnkodGhpcy50b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGBLZXlgIGZvciBhIHRva2VuLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5nZXQocmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBrZXlzIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG51bWJlck9mS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5udW1iZXJPZktleXM7XG4gICAgfVxufVxuY2xhc3MgS2V5UmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9hbGxLZXlzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuIGluc3RhbmNlb2YgUmVmbGVjdGl2ZUtleSlcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgaWYgKHRoaXMuX2FsbEtleXMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsbEtleXMuZ2V0KHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdLZXkgPSBuZXcgUmVmbGVjdGl2ZUtleSh0b2tlbiwgUmVmbGVjdGl2ZUtleS5udW1iZXJPZktleXMpO1xuICAgICAgICB0aGlzLl9hbGxLZXlzLnNldCh0b2tlbiwgbmV3S2V5KTtcbiAgICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZ2V0IG51bWJlck9mS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbEtleXMuc2l6ZTtcbiAgICB9XG59XG5jb25zdCBfZ2xvYmFsS2V5UmVnaXN0cnkgPSBuZXcgS2V5UmVnaXN0cnkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byByZWZsZWN0aW9uIGRhdGEgYWJvdXQgc3ltYm9scy4gVXNlZCBpbnRlcm5hbGx5IGJ5IEFuZ3VsYXJcbiAqIHRvIHBvd2VyIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGFuZCBjb21waWxhdGlvbi5cbiAqL1xuY2xhc3MgUmVmbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIHVwZGF0ZUNhcGFiaWxpdGllcyhjYXBzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IGNhcHM7XG4gICAgfVxuICAgIGZhY3RvcnkodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmZhY3RvcnkodHlwZSk7XG4gICAgfVxuICAgIHBhcmFtZXRlcnModHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGFubm90YXRpb25zKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5hbm5vdGF0aW9ucyh0eXBlT3JGdW5jKTtcbiAgICB9XG4gICAgcHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm9wTWV0YWRhdGEodHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSk7XG4gICAgfVxuICAgIGdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuZ2V0dGVyKG5hbWUpO1xuICAgIH1cbiAgICBzZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnNldHRlcihuYW1lKTtcbiAgICB9XG4gICAgbWV0aG9kKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5tZXRob2QobmFtZSk7XG4gICAgfVxuICAgIGltcG9ydFVyaSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuaW1wb3J0VXJpKHR5cGUpO1xuICAgIH1cbiAgICByZXNvdXJjZVVyaSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb3VyY2VVcmkodHlwZSk7XG4gICAgfVxuICAgIHJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSk7XG4gICAgfVxuICAgIHJlc29sdmVFbnVtKGlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlRW51bShpZGVudGlmaWVyLCBuYW1lKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUge0BsaW5rIFJlZmxlY3Rvcn0gdXNlZCBpbnRlcm5hbGx5IGluIEFuZ3VsYXIgdG8gYWNjZXNzIG1ldGFkYXRhXG4gKiBhYm91dCBzeW1ib2xzLlxuICovXG5jb25zdCByZWZsZWN0b3IgPSBuZXcgUmVmbGVjdG9yKG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogYERlcGVuZGVuY3lgIGlzIHVzZWQgYnkgdGhlIGZyYW1ld29yayB0byBleHRlbmQgREkuXG4gKiBUaGlzIGlzIGludGVybmFsIHRvIEFuZ3VsYXIgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseS5cbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZURlcGVuZGVuY3kge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSBvcHRpb25hbDtcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21LZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koa2V5LCBmYWxzZSwgbnVsbCk7XG4gICAgfVxufVxuY29uc3QgX0VNUFRZX0xJU1QgPSBbXTtcbmNsYXNzIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyB7XG4gICAgY29uc3RydWN0b3Ioa2V5LCByZXNvbHZlZEZhY3RvcmllcywgbXVsdGlQcm92aWRlcikge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEZhY3RvcmllcyA9IHJlc29sdmVkRmFjdG9yaWVzO1xuICAgICAgICB0aGlzLm11bHRpUHJvdmlkZXIgPSBtdWx0aVByb3ZpZGVyO1xuICAgICAgICB0aGlzLnJlc29sdmVkRmFjdG9yeSA9IHRoaXMucmVzb2x2ZWRGYWN0b3JpZXNbMF07XG4gICAgfVxufVxuLyoqXG4gKiBBbiBpbnRlcm5hbCByZXNvbHZlZCByZXByZXNlbnRhdGlvbiBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gY3JlYXRlZCBieSByZXNvbHZpbmcgYFByb3ZpZGVyYC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBmdW5jdGlvbiB3aGljaCBjYW4gcmV0dXJuIGFuIGluc3RhbmNlIG9mIGFuIG9iamVjdCByZXByZXNlbnRlZCBieSBhIGtleS5cbiAgICAgKi9cbiAgICBmYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBBcmd1bWVudHMgKGRlcGVuZGVuY2llcykgdG8gdGhlIGBmYWN0b3J5YCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIGEgc2luZ2xlIHByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpIHtcbiAgICBsZXQgZmFjdG9yeUZuO1xuICAgIGxldCByZXNvbHZlZERlcHM7XG4gICAgaWYgKHByb3ZpZGVyLnVzZUNsYXNzKSB7XG4gICAgICAgIGNvbnN0IHVzZUNsYXNzID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlQ2xhc3MpO1xuICAgICAgICBmYWN0b3J5Rm4gPSByZWZsZWN0b3IuZmFjdG9yeSh1c2VDbGFzcyk7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9kZXBlbmRlbmNpZXNGb3IodXNlQ2xhc3MpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm92aWRlci51c2VFeGlzdGluZykge1xuICAgICAgICBmYWN0b3J5Rm4gPSAoYWxpYXNJbnN0YW5jZSkgPT4gYWxpYXNJbnN0YW5jZTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gW1JlZmxlY3RpdmVEZXBlbmRlbmN5LmZyb21LZXkoUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIudXNlRXhpc3RpbmcpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUZhY3RvcnkpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gcHJvdmlkZXIudXNlRmFjdG9yeTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gY29uc3RydWN0RGVwZW5kZW5jaWVzKHByb3ZpZGVyLnVzZUZhY3RvcnksIHByb3ZpZGVyLmRlcHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmFjdG9yeUZuID0gKCkgPT4gcHJvdmlkZXIudXNlVmFsdWU7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9FTVBUWV9MSVNUO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkoZmFjdG9yeUZuLCByZXNvbHZlZERlcHMpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYFByb3ZpZGVyYCBpbnRvIGBSZXNvbHZlZFByb3ZpZGVyYC5cbiAqXG4gKiBgSW5qZWN0b3JgIGludGVybmFsbHkgb25seSB1c2VzIGBSZXNvbHZlZFByb3ZpZGVyYCwgYFByb3ZpZGVyYCBjb250YWlucyBjb252ZW5pZW5jZSBwcm92aWRlclxuICogc3ludGF4LlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIucHJvdmlkZSksIFtyZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpXSwgcHJvdmlkZXIubXVsdGkgfHwgZmFsc2UpO1xufVxuLyoqXG4gKiBSZXNvbHZlIGEgbGlzdCBvZiBQcm92aWRlcnMuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgW10pO1xuICAgIGNvbnN0IHJlc29sdmVkID0gbm9ybWFsaXplZC5tYXAocmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcik7XG4gICAgY29uc3QgcmVzb2x2ZWRQcm92aWRlck1hcCA9IG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHJlc29sdmVkLCBuZXcgTWFwKCkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHJlc29sdmVkUHJvdmlkZXJNYXAudmFsdWVzKCkpO1xufVxuLyoqXG4gKiBNZXJnZXMgYSBsaXN0IG9mIFJlc29sdmVkUHJvdmlkZXJzIGludG8gYSBsaXN0IHdoZXJlIGVhY2gga2V5IGlzIGNvbnRhaW5lZCBleGFjdGx5IG9uY2UgYW5kXG4gKiBtdWx0aSBwcm92aWRlcnMgaGF2ZSBiZWVuIG1lcmdlZC5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzLCBub3JtYWxpemVkUHJvdmlkZXJzTWFwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBwcm92aWRlcnNbaV07XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbm9ybWFsaXplZFByb3ZpZGVyc01hcC5nZXQocHJvdmlkZXIua2V5LmlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlciAhPT0gZXhpc3RpbmcubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG1peGluZ011bHRpUHJvdmlkZXJzV2l0aFJlZ3VsYXJQcm92aWRlcnNFcnJvcihleGlzdGluZywgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLnJlc29sdmVkRmFjdG9yaWVzLnB1c2gocHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXNbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXAuc2V0KHByb3ZpZGVyLmtleS5pZCwgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc29sdmVkUHJvdmlkZXI7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvdmlkZXIgPSBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfKHByb3ZpZGVyLmtleSwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMuc2xpY2UoKSwgcHJvdmlkZXIubXVsdGlQcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvdmlkZXJzTWFwLnNldChwcm92aWRlci5rZXkuaWQsIHJlc29sdmVkUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkUHJvdmlkZXJzTWFwO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZVByb3ZpZGVycyhwcm92aWRlcnMsIHJlcykge1xuICAgIHByb3ZpZGVycy5mb3JFYWNoKGIgPT4ge1xuICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIFR5cGUpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHsgcHJvdmlkZTogYiwgdXNlQ2xhc3M6IGIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiAmJiB0eXBlb2YgYiA9PSAnb2JqZWN0JyAmJiBiLnByb3ZpZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzLnB1c2goYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICAgICAgX25vcm1hbGl6ZVByb3ZpZGVycyhiLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZFByb3ZpZGVyRXJyb3IoYik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY29uc3RydWN0RGVwZW5kZW5jaWVzKHR5cGVPckZ1bmMsIGRlcGVuZGVuY2llcykge1xuICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gZGVwZW5kZW5jaWVzLm1hcCh0ID0+IFt0XSk7XG4gICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXMubWFwKHQgPT4gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCB0LCBwYXJhbXMpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSByZWZsZWN0b3IucGFyYW1ldGVycyh0eXBlT3JGdW5jKTtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGlmIChwYXJhbXMuc29tZShwID0+IHAgPT0gbnVsbCkpIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcy5tYXAocCA9PiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIHAsIHBhcmFtcykpO1xufVxuZnVuY3Rpb24gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCBtZXRhZGF0YSwgcGFyYW1zKSB7XG4gICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICBsZXQgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWV0YWRhdGEpKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVEZXBlbmRlbmN5KG1ldGFkYXRhLnRva2VuLCBvcHRpb25hbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEsIG9wdGlvbmFsLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgdmlzaWJpbGl0eSA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBwYXJhbU1ldGFkYXRhID0gbWV0YWRhdGFbaV07XG4gICAgICAgIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgVHlwZSkge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YS50b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2VsZiB8fCBwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuID0gcmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pO1xuICAgIGlmICh0b2tlbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVEZXBlbmRlbmN5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRocmVzaG9sZCBmb3IgdGhlIGR5bmFtaWMgdmVyc2lvblxuY29uc3QgVU5ERUZJTkVEID0ge307XG4vKipcbiAqIEEgUmVmbGVjdGl2ZURlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciB1c2VkIGZvciBpbnN0YW50aWF0aW5nIG9iamVjdHMgYW5kIHJlc29sdmluZ1xuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqIEFuIGBJbmplY3RvcmAgaXMgYSByZXBsYWNlbWVudCBmb3IgYSBgbmV3YCBvcGVyYXRvciwgd2hpY2ggY2FuIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSB0aGVcbiAqIGNvbnN0cnVjdG9yIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBJbiB0eXBpY2FsIHVzZSwgYXBwbGljYXRpb24gY29kZSBhc2tzIGZvciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgdGhleSBhcmVcbiAqIHJlc29sdmVkIGJ5IHRoZSBgSW5qZWN0b3JgLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGFuIGBJbmplY3RvcmAgY29uZmlndXJlZCB0byBjcmVhdGUgYEVuZ2luZWAgYW5kIGBDYXJgLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEVuZ2luZSB7XG4gKiB9XG4gKlxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgQ2FyIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0NhciwgRW5naW5lXSk7XG4gKiB2YXIgY2FyID0gaW5qZWN0b3IuZ2V0KENhcik7XG4gKiBleHBlY3QoY2FyIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICogZXhwZWN0KGNhci5lbmdpbmUgaW5zdGFuY2VvZiBFbmdpbmUpLnRvQmUodHJ1ZSk7XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UsIHdlIGRvbid0IHVzZSB0aGUgYG5ld2Agb3BlcmF0b3IgYmVjYXVzZSB3ZSBleHBsaWNpdGx5IHdhbnQgdG8gaGF2ZSB0aGUgYEluamVjdG9yYFxuICogcmVzb2x2ZSBhbGwgb2YgdGhlIG9iamVjdCdzIGRlcGVuZGVuY2llcyBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIFRPRE86IGRlbGV0ZSBpbiB2MTQuXG4gKlxuICogQGRlcHJlY2F0ZWQgZnJvbSB2NSAtIHNsb3cgYW5kIGJyaW5ncyBpbiBhIGxvdCBvZiBjb2RlLCBVc2UgYEluamVjdG9yLmNyZWF0ZWAgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZUluamVjdG9yIHtcbiAgICAvKipcbiAgICAgKiBUdXJucyBhbiBhcnJheSBvZiBwcm92aWRlciBkZWZpbml0aW9ucyBpbnRvIGFuIGFycmF5IG9mIHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEEgcmVzb2x1dGlvbiBpcyBhIHByb2Nlc3Mgb2YgZmxhdHRlbmluZyBtdWx0aXBsZSBuZXN0ZWQgYXJyYXlzIGFuZCBjb252ZXJ0aW5nIGluZGl2aWR1YWxcbiAgICAgKiBwcm92aWRlcnMgaW50byBhbiBhcnJheSBvZiBgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJgcy5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBbW0VuZ2luZV1dXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0gaW5zdGFuY2VvZiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkNhclwiKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmRlcGVuZGVuY2llcy5sZW5ndGgpLnRvRXF1YWwoMSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5mYWN0b3J5KS50b0JlRGVmaW5lZCgpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1sxXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJFbmdpbmVcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZShwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFycmF5IG9mIHByb3ZpZGVycyBhbmQgY3JlYXRlcyBhbiBpbmplY3RvciBmcm9tIHRob3NlIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIFRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGNhbiBiZSBhbiBhcnJheSBvZiBgVHlwZWAsIGBQcm92aWRlcmAsXG4gICAgICogb3IgYSByZWN1cnNpdmUgYXJyYXkgb2YgbW9yZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyLCBFbmdpbmVdKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmVBbmRDcmVhdGUocHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUocHJvdmlkZXJzKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluamVjdG9yIGZyb20gcHJldmlvdXNseSByZXNvbHZlZCBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZXNvbHZlZFByb3ZpZGVycyhwcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH1cbn1cbmNsYXNzIFJlZmxlY3RpdmVJbmplY3Rvcl8ge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfcHJvdmlkZXJzLCBfcGFyZW50KSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY29uc3RydWN0aW9uQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3Byb3ZpZGVycyA9IF9wcm92aWRlcnM7XG4gICAgICAgIHRoaXMucGFyZW50ID0gX3BhcmVudCB8fCBudWxsO1xuICAgICAgICBjb25zdCBsZW4gPSBfcHJvdmlkZXJzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYmpzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMua2V5SWRzW2ldID0gX3Byb3ZpZGVyc1tpXS5rZXkuaWQ7XG4gICAgICAgICAgICB0aGlzLm9ianNbaV0gPSBVTkRFRklORUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShSZWZsZWN0aXZlS2V5LmdldCh0b2tlbiksIG51bGwsIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbiAgICByZXNvbHZlQW5kQ3JlYXRlQ2hpbGQocHJvdmlkZXJzKSB7XG4gICAgICAgIGNvbnN0IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkKFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyk7XG4gICAgfVxuICAgIGNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkKHByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBpbmogPSBuZXcgUmVmbGVjdGl2ZUluamVjdG9yXyhwcm92aWRlcnMpO1xuICAgICAgICBpbmoucGFyZW50ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGluajtcbiAgICB9XG4gICAgcmVzb2x2ZUFuZEluc3RhbnRpYXRlKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbnRpYXRlUmVzb2x2ZWQoUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW3Byb3ZpZGVyXSlbMF0pO1xuICAgIH1cbiAgICBpbnN0YW50aWF0ZVJlc29sdmVkKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9XG4gICAgZ2V0UHJvdmlkZXJBdEluZGV4KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5fcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgb3V0T2ZCb3VuZHNFcnJvcihpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyc1tpbmRleF07XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfbmV3KHByb3ZpZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25zdHJ1Y3Rpb25Db3VudGVyKysgPiB0aGlzLl9nZXRNYXhOdW1iZXJPZk9iamVjdHMoKSkge1xuICAgICAgICAgICAgdGhyb3cgY3ljbGljRGVwZW5kZW5jeUVycm9yKHRoaXMsIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICBfZ2V0TWF4TnVtYmVyT2ZPYmplY3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmpzLmxlbmd0aDtcbiAgICB9XG4gICAgX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc1tpXSA9IHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5LmZhY3Rvcnk7XG4gICAgICAgIGxldCBkZXBzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVwcyA9XG4gICAgICAgICAgICAgICAgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeS5kZXBlbmRlbmNpZXMubWFwKGRlcCA9PiB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KGRlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5hZGRLZXkpIHtcbiAgICAgICAgICAgICAgICBlLmFkZEtleSh0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JqO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2JqID0gZmFjdG9yeSguLi5kZXBzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgaW5zdGFudGlhdGlvbkVycm9yKHRoaXMsIGUsIGUuc3RhY2ssIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3koZGVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShkZXAua2V5LCBkZXAudmlzaWJpbGl0eSwgZGVwLm9wdGlvbmFsID8gbnVsbCA6IFRIUk9XX0lGX05PVF9GT1VORCk7XG4gICAgfVxuICAgIF9nZXRCeUtleShrZXksIHZpc2liaWxpdHksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gUmVmbGVjdGl2ZUluamVjdG9yXy5JTkpFQ1RPUl9LRVkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aXNpYmlsaXR5IGluc3RhbmNlb2YgU2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5RGVmYXVsdChrZXksIG5vdEZvdW5kVmFsdWUsIHZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRPYmpCeUtleUlkKGtleUlkKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5rZXlJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleUlkc1tpXSA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vYmpzW2ldID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpzW2ldID0gdGhpcy5fbmV3KHRoaXMuX3Byb3ZpZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9ianNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVOREVGSU5FRDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgIT09IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBub1Byb3ZpZGVyRXJyb3IodGhpcywga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5fZ2V0T2JqQnlLZXlJZChrZXkuaWQpO1xuICAgICAgICByZXR1cm4gKG9iaiAhPT0gVU5ERUZJTkVEKSA/IG9iaiA6IHRoaXMuX3Rocm93T3JOdWxsKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZ2V0QnlLZXlEZWZhdWx0KGtleSwgbm90Rm91bmRWYWx1ZSwgdmlzaWJpbGl0eSkge1xuICAgICAgICBsZXQgaW5qO1xuICAgICAgICBpZiAodmlzaWJpbGl0eSBpbnN0YW5jZW9mIFNraXBTZWxmKSB7XG4gICAgICAgICAgICBpbmogPSB0aGlzLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluaiBpbnN0YW5jZW9mIFJlZmxlY3RpdmVJbmplY3Rvcl8pIHtcbiAgICAgICAgICAgIGNvbnN0IGlual8gPSBpbmo7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBpbmpfLl9nZXRPYmpCeUtleUlkKGtleS5pZCk7XG4gICAgICAgICAgICBpZiAob2JqICE9PSBVTkRFRklORUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIGluaiA9IGlual8ucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmogIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmouZ2V0KGtleS50b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzcGxheU5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IF9tYXBQcm92aWRlcnModGhpcywgKGIpID0+ICcgXCInICsgYi5rZXkuZGlzcGxheU5hbWUgKyAnXCIgJylcbiAgICAgICAgICAgIC5qb2luKCcsICcpO1xuICAgICAgICByZXR1cm4gYFJlZmxlY3RpdmVJbmplY3Rvcihwcm92aWRlcnM6IFske3Byb3ZpZGVyc31dKWA7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TmFtZTtcbiAgICB9XG59XG5SZWZsZWN0aXZlSW5qZWN0b3JfLklOSkVDVE9SX0tFWSA9ICggLyogQF9fUFVSRV9fICovUmVmbGVjdGl2ZUtleS5nZXQoSW5qZWN0b3IpKTtcbmZ1bmN0aW9uIF9tYXBQcm92aWRlcnMoaW5qZWN0b3IsIGZuKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmplY3Rvci5fcHJvdmlkZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc1tpXSA9IGZuKGluamVjdG9yLmdldFByb3ZpZGVyQXRJbmRleChpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiDJtcm1ZGlyZWN0aXZlSW5qZWN0KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgLy8gRmFsbCBiYWNrIHRvIGluamVjdCgpIGlmIHZpZXcgaGFzbid0IGJlZW4gY3JlYXRlZC4gVGhpcyBzaXR1YXRpb24gY2FuIGhhcHBlbiBpbiB0ZXN0c1xuICAgIC8vIGlmIGluamVjdCB1dGlsaXRpZXMgYXJlIHVzZWQgYmVmb3JlIGJvb3RzdHJhcHBpbmcuXG4gICAgaWYgKGxWaWV3ID09PSBudWxsKSB7XG4gICAgICAgIC8vIFZlcmlmeSB0aGF0IHdlIHdpbGwgbm90IGdldCBpbnRvIGluZmluaXRlIGxvb3AuXG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmplY3RJbXBsZW1lbnRhdGlvbk5vdEVxdWFsKMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgICAgICByZXR1cm4gybXJtWluamVjdCh0b2tlbiwgZmxhZ3MpO1xuICAgIH1cbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIHJldHVybiBnZXRPckNyZWF0ZUluamVjdGFibGUodE5vZGUsIGxWaWV3LCByZXNvbHZlRm9yd2FyZFJlZih0b2tlbiksIGZsYWdzKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCBhIGZhY3RvcnkgZnVuY3Rpb24gY291bGQgbm90IGJlIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgZm9yIGFcbiAqIHBhcnRpY3VsYXIgY2xhc3MuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhbGxvd3MgdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHRvIGJlIG9wdGltaXplZCBhd2F5IHdoZW4gbmdEZXZNb2RlIGlzIHR1cm5lZFxuICogb2ZmLCBzYXZpbmcgYnl0ZXMgb2YgZ2VuZXJhdGVkIGNvZGUgd2hpbGUgc3RpbGwgcHJvdmlkaW5nIGEgZ29vZCBleHBlcmllbmNlIGluIGRldiBtb2RlLlxuICpcbiAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzcyBpcyBub3QgbWVudGlvbmVkIGhlcmUsIGJ1dCB3aWxsIGJlIGluIHRoZSBnZW5lcmF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBuYW1lXG4gKiBhbmQgdGh1cyBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWludmFsaWRGYWN0b3J5KCkge1xuICAgIGNvbnN0IG1zZyA9IG5nRGV2TW9kZSA/IGBUaGlzIGNvbnN0cnVjdG9yIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIERlcGVuZGVuY3kgSW5qZWN0aW9uLmAgOiAnaW52YWxpZCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBwcm9wZXJ0eSBvbiBhIHNlbGVjdGVkIGVsZW1lbnQuXG4gKlxuICogT3BlcmF0ZXMgb24gdGhlIGVsZW1lbnQgc2VsZWN0ZWQgYnkgaW5kZXggdmlhIHRoZSB7QGxpbmsgc2VsZWN0fSBpbnN0cnVjdGlvbi5cbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYHByb3BlcnR5KCduYW1lJywgY3R4Lm5hbWUpKCd0aXRsZScsIGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eTtcbn1cbi8qKlxuICogR2l2ZW4gYDxkaXYgc3R5bGU9XCIuLi5cIiBteS1kaXI+YCBhbmQgYE15RGlyYCB3aXRoIGBASW5wdXQoJ3N0eWxlJylgIHdlIG5lZWQgdG8gd3JpdGUgdG9cbiAqIGRpcmVjdGl2ZSBpbnB1dC5cbiAqL1xuZnVuY3Rpb24gc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCB2YWx1ZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdE5vZGUuaW5wdXRzO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gaXNDbGFzc0Jhc2VkID8gJ2NsYXNzJyA6ICdzdHlsZSc7XG4gICAgLy8gV2Ugc3VwcG9ydCBib3RoICdjbGFzcycgYW5kIGBjbGFzc05hbWVgIGhlbmNlIHRoZSBmYWxsYmFjay5cbiAgICBzZXRJbnB1dHNGb3JQcm9wZXJ0eSh0VmlldywgbFZpZXcsIGlucHV0c1twcm9wZXJ0eV0sIHByb3BlcnR5LCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZWxlbWVudFN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGluZGV4LCB0VmlldywgbFZpZXcsIG5hdGl2ZSwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDIgLyogRWxlbWVudCAqLywgbmFtZSwgYXR0cnMpO1xuICAgIGNvbnN0IGhhc0RpcmVjdGl2ZXMgPSByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpKTtcbiAgICBuZ0Rldk1vZGUgJiYgbG9nVW5rbm93bkVsZW1lbnRFcnJvcih0VmlldywgbmF0aXZlLCB0Tm9kZSwgaGFzRGlyZWN0aXZlcyk7XG4gICAgaWYgKHROb2RlLmF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCB0Tm9kZS5hdHRycywgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodE5vZGUubWVyZ2VkQXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIHROb2RlLm1lcmdlZEF0dHJzLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGUgRE9NIGVsZW1lbnQuIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50RW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgRE9NIE5vZGVcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBBdHRyaWJ1dGVzIGFuZCBsb2NhbFJlZnMgYXJlIHBhc3NlZCBhcyBhbiBhcnJheSBvZiBzdHJpbmdzIHdoZXJlIGVsZW1lbnRzIHdpdGggYW4gZXZlbiBpbmRleFxuICogaG9sZCBhbiBhdHRyaWJ1dGUgbmFtZSBhbmQgZWxlbWVudHMgd2l0aCBhbiBvZGQgaW5kZXggaG9sZCBhbiBhdHRyaWJ1dGUgdmFsdWUsIGV4LjpcbiAqIFsnaWQnLCAnd2FybmluZzUnLCAnY2xhc3MnLCAnYWxlcnQnXVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50U3RhcnQoaW5kZXgsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRCaW5kaW5nSW5kZXgoKSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICdlbGVtZW50cyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgY29uc3QgbmF0aXZlID0gbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBjcmVhdGVFbGVtZW50Tm9kZShyZW5kZXJlciwgbmFtZSwgZ2V0TmFtZXNwYWNlJDEoKSk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgP1xuICAgICAgICBlbGVtZW50U3RhcnRGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCBuYXRpdmUsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICBjb25zdCBtZXJnZWRBdHRycyA9IHROb2RlLm1lcmdlZEF0dHJzO1xuICAgIGlmIChtZXJnZWRBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBzZXRVcEF0dHJpYnV0ZXMocmVuZGVyZXIsIG5hdGl2ZSwgbWVyZ2VkQXR0cnMpO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc2VzID0gdE5vZGUuY2xhc3NlcztcbiAgICBpZiAoY2xhc3NlcyAhPT0gbnVsbCkge1xuICAgICAgICB3cml0ZURpcmVjdENsYXNzKHJlbmRlcmVyLCBuYXRpdmUsIGNsYXNzZXMpO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZXMgPSB0Tm9kZS5zdHlsZXM7XG4gICAgaWYgKHN0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICB3cml0ZURpcmVjdFN0eWxlKHJlbmRlcmVyLCBuYXRpdmUsIHN0eWxlcyk7XG4gICAgfVxuICAgIGlmICgodE5vZGUuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKSAhPT0gNjQgLyogaXNEZXRhY2hlZCAqLykge1xuICAgICAgICAvLyBJbiB0aGUgaTE4biBjYXNlLCB0aGUgdHJhbnNsYXRpb24gbWF5IGhhdmUgcmVtb3ZlZCB0aGlzIGVsZW1lbnQsIHNvIG9ubHkgYWRkIGl0IGlmIGl0IGlzIG5vdFxuICAgICAgICAvLyBkZXRhY2hlZC4gU2VlIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGFuZCBgTEZyYW1lLmluSTE4bmAgZm9yIG1vcmUgY29udGV4dC5cbiAgICAgICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBuYXRpdmUsIHROb2RlKTtcbiAgICB9XG4gICAgLy8gYW55IGltbWVkaWF0ZSBjaGlsZHJlbiBvZiBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZSBjb250YWluZXIgbXVzdCBiZSBwcmUtZW1wdGl2ZWx5XG4gICAgLy8gbW9ua2V5LXBhdGNoZWQgd2l0aCB0aGUgY29tcG9uZW50IHZpZXcgZGF0YSBzbyB0aGF0IHRoZSBlbGVtZW50IGNhbiBiZSBpbnNwZWN0ZWRcbiAgICAvLyBsYXRlciBvbiB1c2luZyBhbnkgZWxlbWVudCBkaXNjb3ZlcnkgdXRpbGl0eSBtZXRob2RzIChzZWUgYGVsZW1lbnRfZGlzY292ZXJ5LnRzYClcbiAgICBpZiAoZ2V0RWxlbWVudERlcHRoQ291bnQoKSA9PT0gMCkge1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgfVxuICAgIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICBpZiAoaXNEaXJlY3RpdmVIb3N0KHROb2RlKSkge1xuICAgICAgICBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgICAgICBleGVjdXRlQ29udGVudFF1ZXJpZXModFZpZXcsIHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGlmIChsb2NhbFJlZnNJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEobFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50U3RhcnQ7XG59XG4vKipcbiAqIE1hcmsgdGhlIGVuZCBvZiB0aGUgZWxlbWVudC5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudEVuZCgpIHtcbiAgICBsZXQgY3VycmVudFROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY3VycmVudFROb2RlLCAnTm8gcGFyZW50IG5vZGUgdG8gY2xvc2UuJyk7XG4gICAgaWYgKGlzQ3VycmVudFROb2RlUGFyZW50KCkpIHtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIYXNQYXJlbnQoZ2V0Q3VycmVudFROb2RlKCkpO1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRDdXJyZW50VE5vZGUoY3VycmVudFROb2RlLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IHROb2RlID0gY3VycmVudFROb2RlO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8pO1xuICAgIGRlY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCBjdXJyZW50VE5vZGUpO1xuICAgICAgICBpZiAoaXNDb250ZW50UXVlcnlIb3N0KGN1cnJlbnRUTm9kZSkpIHtcbiAgICAgICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudEVuZChjdXJyZW50VE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QgIT0gbnVsbCAmJiBoYXNDbGFzc0lucHV0KHROb2RlKSkge1xuICAgICAgICBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgZ2V0TFZpZXcoKSwgdE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0ICE9IG51bGwgJiYgaGFzU3R5bGVJbnB1dCh0Tm9kZSkpIHtcbiAgICAgICAgc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGdldExWaWV3KCksIHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0LCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1ZWxlbWVudEVuZDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBlbGVtZW50IHVzaW5nIHtAbGluayBlbGVtZW50U3RhcnR9IGFuZCB7QGxpbmsgZWxlbWVudEVuZH1cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIERPTSBOb2RlXG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnQoaW5kZXgsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgybXJtWVsZW1lbnRTdGFydChpbmRleCwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpO1xuICAgIMm1ybVlbGVtZW50RW5kKCk7XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50O1xufVxuZnVuY3Rpb24gbG9nVW5rbm93bkVsZW1lbnRFcnJvcih0VmlldywgZWxlbWVudCwgdE5vZGUsIGhhc0RpcmVjdGl2ZXMpIHtcbiAgICBjb25zdCBzY2hlbWFzID0gdFZpZXcuc2NoZW1hcztcbiAgICAvLyBJZiBgc2NoZW1hc2AgaXMgc2V0IHRvIGBudWxsYCwgdGhhdCdzIGFuIGluZGljYXRpb24gdGhhdCB0aGlzIENvbXBvbmVudCB3YXMgY29tcGlsZWQgaW4gQU9UXG4gICAgLy8gbW9kZSB3aGVyZSB0aGlzIGNoZWNrIGhhcHBlbnMgYXQgY29tcGlsZSB0aW1lLiBJbiBKSVQgbW9kZSwgYHNjaGVtYXNgIGlzIGFsd2F5cyBwcmVzZW50IGFuZFxuICAgIC8vIGRlZmluZWQgYXMgYW4gYXJyYXkgKGFzIGFuIGVtcHR5IGFycmF5IGluIGNhc2UgYHNjaGVtYXNgIGZpZWxkIGlzIG5vdCBkZWZpbmVkKSBhbmQgd2Ugc2hvdWxkXG4gICAgLy8gZXhlY3V0ZSB0aGUgY2hlY2sgYmVsb3cuXG4gICAgaWYgKHNjaGVtYXMgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCB0YWdOYW1lID0gdE5vZGUudmFsdWU7XG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgbWF0Y2hlcyBhbnkgZGlyZWN0aXZlLCBpdCdzIGNvbnNpZGVyZWQgYXMgdmFsaWQuXG4gICAgaWYgKCFoYXNEaXJlY3RpdmVzICYmIHRhZ05hbWUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgdW5rbm93biBpZiBpdCdzIGFuIGluc3RhbmNlIG9mIEhUTUxVbmtub3duRWxlbWVudCBvciBpdCBpc24ndCByZWdpc3RlcmVkXG4gICAgICAgIC8vIGFzIGEgY3VzdG9tIGVsZW1lbnQuIE5vdGUgdGhhdCB1bmtub3duIGVsZW1lbnRzIHdpdGggYSBkYXNoIGluIHRoZWlyIG5hbWUgd29uJ3QgYmUgaW5zdGFuY2VzXG4gICAgICAgIC8vIG9mIEhUTUxVbmtub3duRWxlbWVudCBpbiBicm93c2VycyB0aGF0IHN1cHBvcnQgd2ViIGNvbXBvbmVudHMuXG4gICAgICAgIGNvbnN0IGlzVW5rbm93biA9IFxuICAgICAgICAvLyBOb3RlIHRoYXQgd2UgY2FuJ3QgY2hlY2sgZm9yIGB0eXBlb2YgSFRNTFVua25vd25FbGVtZW50ID09PSAnZnVuY3Rpb24nYCxcbiAgICAgICAgLy8gYmVjYXVzZSB3aGlsZSBtb3N0IGJyb3dzZXJzIHJldHVybiAnZnVuY3Rpb24nLCBJRSByZXR1cm5zICdvYmplY3QnLlxuICAgICAgICAodHlwZW9mIEhUTUxVbmtub3duRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgSFRNTFVua25vd25FbGVtZW50ICYmXG4gICAgICAgICAgICBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFVua25vd25FbGVtZW50KSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBjdXN0b21FbGVtZW50cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSAmJlxuICAgICAgICAgICAgICAgICFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpO1xuICAgICAgICBpZiAoaXNVbmtub3duICYmICFtYXRjaGluZ1NjaGVtYXModFZpZXcsIHRhZ05hbWUpKSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGAnJHt0YWdOYW1lfScgaXMgbm90IGEga25vd24gZWxlbWVudDpcXG5gO1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgMS4gSWYgJyR7dGFnTmFtZX0nIGlzIGFuIEFuZ3VsYXIgY29tcG9uZW50LCB0aGVuIHZlcmlmeSB0aGF0IGl0IGlzIHBhcnQgb2YgdGhpcyBtb2R1bGUuXFxuYDtcbiAgICAgICAgICAgIGlmICh0YWdOYW1lICYmIHRhZ05hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGAyLiBJZiAnJHt0YWdOYW1lfScgaXMgYSBXZWIgQ29tcG9uZW50IHRoZW4gYWRkICdDVVNUT01fRUxFTUVOVFNfU0NIRU1BJyB0byB0aGUgJ0BOZ01vZHVsZS5zY2hlbWFzJyBvZiB0aGlzIGNvbXBvbmVudCB0byBzdXBwcmVzcyB0aGlzIG1lc3NhZ2UuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICAgICAgYDIuIFRvIGFsbG93IGFueSBlbGVtZW50IGFkZCAnTk9fRVJST1JTX1NDSEVNQScgdG8gdGhlICdATmdNb2R1bGUuc2NoZW1hcycgb2YgdGhpcyBjb21wb25lbnQuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0UnVudGltZUVycm9yKDMwNCAvKiBVTktOT1dOX0VMRU1FTlQgKi8sIG1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBlbGVtZW50Q29udGFpbmVyU3RhcnRGaXJzdENyZWF0ZVBhc3MoaW5kZXgsIHRWaWV3LCBsVmlldywgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDggLyogRWxlbWVudENvbnRhaW5lciAqLywgJ25nLWNvbnRhaW5lcicsIGF0dHJzKTtcbiAgICAvLyBXaGlsZSBuZy1jb250YWluZXIgZG9lc24ndCBuZWNlc3NhcmlseSBzdXBwb3J0IHN0eWxpbmcsIHdlIHVzZSB0aGUgc3R5bGUgY29udGV4dCB0byBpZGVudGlmeVxuICAgIC8vIGFuZCBleGVjdXRlIGRpcmVjdGl2ZXMgb24gdGhlIG5nLWNvbnRhaW5lci5cbiAgICBpZiAoYXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIGF0dHJzLCB0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxSZWZzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGxvY2FsUmVmc0luZGV4KTtcbiAgICByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBsb2NhbFJlZnMpO1xuICAgIGlmICh0Vmlldy5xdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGxvZ2ljYWwgY29udGFpbmVyIGZvciBvdGhlciBub2RlcyAoPG5nLWNvbnRhaW5lcj4pIGJhY2tlZCBieSBhIGNvbW1lbnQgbm9kZSBpbiB0aGUgRE9NLlxuICogVGhlIGluc3RydWN0aW9uIG11c3QgbGF0ZXIgYmUgZm9sbG93ZWQgYnkgYGVsZW1lbnRDb250YWluZXJFbmQoKWAgY2FsbC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIExWaWV3IGFycmF5XG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBFdmVuIGlmIHRoaXMgaW5zdHJ1Y3Rpb24gYWNjZXB0cyBhIHNldCBvZiBhdHRyaWJ1dGVzIG5vIGFjdHVhbCBhdHRyaWJ1dGUgdmFsdWVzIGFyZSBwcm9wYWdhdGVkIHRvXG4gKiB0aGUgRE9NIChhcyBhIGNvbW1lbnQgbm9kZSBjYW4ndCBoYXZlIGF0dHJpYnV0ZXMpLiBBdHRyaWJ1dGVzIGFyZSBoZXJlIG9ubHkgZm9yIGRpcmVjdGl2ZVxuICogbWF0Y2hpbmcgcHVycG9zZXMgYW5kIHNldHRpbmcgaW5pdGlhbCBpbnB1dHMgb2YgZGlyZWN0aXZlcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0KGluZGV4LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoZ2V0QmluZGluZ0luZGV4KCksIHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCAnZWxlbWVudCBjb250YWluZXJzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MnKTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA/XG4gICAgICAgIGVsZW1lbnRDb250YWluZXJTdGFydEZpcnN0Q3JlYXRlUGFzcyhhZGp1c3RlZEluZGV4LCB0VmlldywgbFZpZXcsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgIGNvbnN0IG5hdGl2ZSA9IGxWaWV3W2FkanVzdGVkSW5kZXhdID1cbiAgICAgICAgbFZpZXdbUkVOREVSRVJdLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ25nLWNvbnRhaW5lcicgOiAnJyk7XG4gICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBuYXRpdmUsIHROb2RlKTtcbiAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgaWYgKGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICAgICAgZXhlY3V0ZUNvbnRlbnRRdWVyaWVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBpZiAobG9jYWxSZWZzSW5kZXggIT0gbnVsbCkge1xuICAgICAgICBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEobFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQ7XG59XG4vKipcbiAqIE1hcmsgdGhlIGVuZCBvZiB0aGUgPG5nLWNvbnRhaW5lcj4uXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRDb250YWluZXJFbmQoKSB7XG4gICAgbGV0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAoaXNDdXJyZW50VE5vZGVQYXJlbnQoKSkge1xuICAgICAgICBzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEhhc1BhcmVudChjdXJyZW50VE5vZGUpO1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRDdXJyZW50VE5vZGUoY3VycmVudFROb2RlLCBmYWxzZSk7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUoY3VycmVudFROb2RlLCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgY3VycmVudFROb2RlKTtcbiAgICAgICAgaWYgKGlzQ29udGVudFF1ZXJ5SG9zdChjdXJyZW50VE5vZGUpKSB7XG4gICAgICAgICAgICB0Vmlldy5xdWVyaWVzLmVsZW1lbnRFbmQoY3VycmVudFROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtWVsZW1lbnRDb250YWluZXJFbmQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgbG9naWNhbCBjb250YWluZXIgdXNpbmcge0BsaW5rIGVsZW1lbnRDb250YWluZXJTdGFydH1cbiAqIGFuZCB7QGxpbmsgZWxlbWVudENvbnRhaW5lckVuZH1cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIExWaWV3IGFycmF5XG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudENvbnRhaW5lcihpbmRleCwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0KGluZGV4LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCk7XG4gICAgybXJtWVsZW1lbnRDb250YWluZXJFbmQoKTtcbiAgICByZXR1cm4gybXJtWVsZW1lbnRDb250YWluZXI7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UuXG4gKlxuICogVXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSByZXN0b3JlVmlldygpIGluc3RydWN0aW9uIHRvIHNhdmUgYSBzbmFwc2hvdFxuICogb2YgdGhlIGN1cnJlbnQgdmlldyBhbmQgcmVzdG9yZSBpdCB3aGVuIGxpc3RlbmVycyBhcmUgaW52b2tlZC4gVGhpcyBhbGxvd3NcbiAqIHdhbGtpbmcgdGhlIGRlY2xhcmF0aW9uIHZpZXcgdHJlZSBpbiBsaXN0ZW5lcnMgdG8gZ2V0IHZhcnMgZnJvbSBwYXJlbnQgdmlld3MuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWdldEN1cnJlbnRWaWV3KCkge1xuICAgIHJldHVybiBnZXRMVmlldygpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBhcmd1bWVudCBpcyBzaGFwZWQgbGlrZSBhIFByb21pc2VcbiAqL1xuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICAgIC8vIGFsbG93IGFueSBQcm9taXNlL0ErIGNvbXBsaWFudCB0aGVuYWJsZS5cbiAgICAvLyBJdCdzIHVwIHRvIHRoZSBjYWxsZXIgdG8gZW5zdXJlIHRoYXQgb2JqLnRoZW4gY29uZm9ybXMgdG8gdGhlIHNwZWNcbiAgICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgU3Vic2NyaWJhYmxlXG4gKi9cbmZ1bmN0aW9uIGlzU3Vic2NyaWJhYmxlKG9iaikge1xuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBPYnNlcnZhYmxlXG4gKlxuICogU3RyaWN0bHkgdGhpcyB0ZXN0cyB0aGF0IHRoZSBgb2JqYCBpcyBgU3Vic2NyaWJhYmxlYCwgc2luY2UgYE9ic2VydmFibGVgXG4gKiB0eXBlcyBuZWVkIGFkZGl0aW9uYWwgbWV0aG9kcywgc3VjaCBhcyBgbGlmdCgpYC4gQnV0IGl0IGlzIGFkZXF1YXRlIGZvciBvdXJcbiAqIG5lZWRzIHNpbmNlIHdpdGhpbiB0aGUgQW5ndWxhciBmcmFtZXdvcmsgY29kZSB3ZSBvbmx5IGV2ZXIgbmVlZCB0byB1c2UgdGhlXG4gKiBgc3Vic2NyaWJlKClgIG1ldGhvZCwgYW5kIFJ4SlMgaGFzIG1lY2hhbmlzbXMgdG8gd3JhcCBgU3Vic2NyaWJhYmxlYCBvYmplY3RzXG4gKiBpbnRvIGBPYnNlcnZhYmxlYCBhcyBuZWVkZWQuXG4gKi9cbmNvbnN0IGlzT2JzZXJ2YWJsZSA9IGlzU3Vic2NyaWJhYmxlO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgY3VycmVudCBub2RlLlxuICpcbiAqIElmIGFuIG91dHB1dCBleGlzdHMgb24gb25lIG9mIHRoZSBub2RlJ3MgZGlyZWN0aXZlcywgaXQgYWxzbyBzdWJzY3JpYmVzIHRvIHRoZSBvdXRwdXRcbiAqIGFuZCBzYXZlcyB0aGUgc3Vic2NyaXB0aW9uIGZvciBsYXRlciBjbGVhbnVwLlxuICpcbiAqIEBwYXJhbSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnRcbiAqIEBwYXJhbSBsaXN0ZW5lckZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBlbWl0c1xuICogQHBhcmFtIHVzZUNhcHR1cmUgV2hldGhlciBvciBub3QgdG8gdXNlIGNhcHR1cmUgaW4gZXZlbnQgbGlzdGVuZXJcbiAqIEBwYXJhbSBldmVudFRhcmdldFJlc29sdmVyIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBnbG9iYWwgdGFyZ2V0IGluZm9ybWF0aW9uIGluIGNhc2UgdGhpcyBsaXN0ZW5lclxuICogc2hvdWxkIGJlIGF0dGFjaGVkIHRvIGEgZ2xvYmFsIG9iamVjdCBsaWtlIHdpbmRvdywgZG9jdW1lbnQgb3IgYm9keVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVsaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUsIGV2ZW50VGFyZ2V0UmVzb2x2ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbGlzdGVuZXJJbnRlcm5hbCh0VmlldywgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgdE5vZGUsIGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgISF1c2VDYXB0dXJlLCBldmVudFRhcmdldFJlc29sdmVyKTtcbiAgICByZXR1cm4gybXJtWxpc3RlbmVyO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgYSBzeW50aGV0aWMgaG9zdCBsaXN0ZW5lciAoZS5nLiBgKEBmb28uc3RhcnQpYCkgb24gYSBjb21wb25lbnQgb3IgZGlyZWN0aXZlLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgZm9yIGNvbXBhdGliaWxpdHkgcHVycG9zZXMgYW5kIGlzIGRlc2lnbmVkIHRvIGVuc3VyZSB0aGF0IGFcbiAqIHN5bnRoZXRpYyBob3N0IGxpc3RlbmVyIChlLmcuIGBASG9zdExpc3RlbmVyKCdAZm9vLnN0YXJ0JylgKSBwcm9wZXJseSBnZXRzIHJlbmRlcmVkXG4gKiBpbiB0aGUgY29tcG9uZW50J3MgcmVuZGVyZXIuIE5vcm1hbGx5IGFsbCBob3N0IGxpc3RlbmVycyBhcmUgZXZhbHVhdGVkIHdpdGggdGhlXG4gKiBwYXJlbnQgY29tcG9uZW50J3MgcmVuZGVyZXIsIGJ1dCwgaW4gdGhlIGNhc2Ugb2YgYW5pbWF0aW9uIEB0cmlnZ2VycywgdGhleSBuZWVkXG4gKiB0byBiZSBldmFsdWF0ZWQgd2l0aCB0aGUgc3ViIGNvbXBvbmVudCdzIHJlbmRlcmVyIChiZWNhdXNlIHRoYXQncyB3aGVyZSB0aGVcbiAqIGFuaW1hdGlvbiB0cmlnZ2VycyBhcmUgZGVmaW5lZCkuXG4gKlxuICogRG8gbm90IHVzZSB0aGlzIGluc3RydWN0aW9uIGFzIGEgcmVwbGFjZW1lbnQgZm9yIGBsaXN0ZW5lcmAuIFRoaXMgaW5zdHJ1Y3Rpb25cbiAqIG9ubHkgZXhpc3RzIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggdGhlIFZpZXdFbmdpbmUncyBob3N0IGJpbmRpbmcgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtIGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudFxuICogQHBhcmFtIGxpc3RlbmVyRm4gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGV2ZW50IGVtaXRzXG4gKiBAcGFyYW0gdXNlQ2FwdHVyZSBXaGV0aGVyIG9yIG5vdCB0byB1c2UgY2FwdHVyZSBpbiBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIGV2ZW50VGFyZ2V0UmVzb2x2ZXIgRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdsb2JhbCB0YXJnZXQgaW5mb3JtYXRpb24gaW4gY2FzZSB0aGlzIGxpc3RlbmVyXG4gKiBzaG91bGQgYmUgYXR0YWNoZWQgdG8gYSBnbG9iYWwgb2JqZWN0IGxpa2Ugd2luZG93LCBkb2N1bWVudCBvciBib2R5XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRm4pIHtcbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgY3VycmVudERlZiA9IGdldEN1cnJlbnREaXJlY3RpdmVEZWYodFZpZXcuZGF0YSk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsb2FkQ29tcG9uZW50UmVuZGVyZXIoY3VycmVudERlZiwgdE5vZGUsIGxWaWV3KTtcbiAgICBsaXN0ZW5lckludGVybmFsKHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIHROb2RlLCBldmVudE5hbWUsIGxpc3RlbmVyRm4sIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcjtcbn1cbi8qKlxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIGEgZ2l2ZW4gZWxlbWVudCBoYXMgYWxyZWFkeSBhbiBldmVudCBoYW5kbGVyIHJlZ2lzdGVyZWQgZm9yIGFuXG4gKiBldmVudCB3aXRoIGEgc3BlY2lmaWVkIG5hbWUuIFRoZSBUVmlldy5jbGVhbnVwIGRhdGEgc3RydWN0dXJlIGlzIHVzZWQgdG8gZmluZCBvdXQgd2hpY2ggZXZlbnRzXG4gKiBhcmUgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBmaW5kRXhpc3RpbmdMaXN0ZW5lcih0VmlldywgbFZpZXcsIGV2ZW50TmFtZSwgdE5vZGVJZHgpIHtcbiAgICBjb25zdCB0Q2xlYW51cCA9IHRWaWV3LmNsZWFudXA7XG4gICAgaWYgKHRDbGVhbnVwICE9IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Q2xlYW51cC5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFudXBFdmVudE5hbWUgPSB0Q2xlYW51cFtpXTtcbiAgICAgICAgICAgIGlmIChjbGVhbnVwRXZlbnROYW1lID09PSBldmVudE5hbWUgJiYgdENsZWFudXBbaSArIDFdID09PSB0Tm9kZUlkeCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgZm91bmQgYSBtYXRjaGluZyBldmVudCBuYW1lIG9uIHRoZSBzYW1lIG5vZGUgYnV0IGl0IG1pZ2h0IG5vdCBoYXZlIGJlZW5cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlcmVkIHlldCwgc28gd2UgbXVzdCBleHBsaWNpdGx5IHZlcmlmeSBlbnRyaWVzIGluIHRoZSBMVmlldyBjbGVhbnVwIGRhdGFcbiAgICAgICAgICAgICAgICAvLyBzdHJ1Y3R1cmVzLlxuICAgICAgICAgICAgICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJJZHhJbkxDbGVhbnVwID0gdENsZWFudXBbaSArIDJdO1xuICAgICAgICAgICAgICAgIHJldHVybiBsQ2xlYW51cC5sZW5ndGggPiBsaXN0ZW5lcklkeEluTENsZWFudXAgPyBsQ2xlYW51cFtsaXN0ZW5lcklkeEluTENsZWFudXBdIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRWaWV3LmNsZWFudXAgY2FuIGhhdmUgYSBtaXggb2YgNC1lbGVtZW50cyBlbnRyaWVzIChmb3IgZXZlbnQgaGFuZGxlciBjbGVhbnVwcykgb3JcbiAgICAgICAgICAgIC8vIDItZWxlbWVudCBlbnRyaWVzIChmb3IgZGlyZWN0aXZlIGFuZCBxdWVyaWVzIGRlc3Ryb3kgaG9va3MpLiBBcyBzdWNoIHdlIGNhbiBlbmNvdW50ZXJcbiAgICAgICAgICAgIC8vIGJsb2NrcyBvZiA0IG9yIDIgaXRlbXMgaW4gdGhlIHRWaWV3LmNsZWFudXAgYW5kIHRoaXMgaXMgd2h5IHdlIGl0ZXJhdGUgb3ZlciAyIGVsZW1lbnRzXG4gICAgICAgICAgICAvLyBmaXJzdCBhbmQganVtcCBhbm90aGVyIDIgZWxlbWVudHMgaWYgd2UgZGV0ZWN0IGxpc3RlbmVycyBjbGVhbnVwICg0IGVsZW1lbnRzKS4gQWxzbyBjaGVja1xuICAgICAgICAgICAgLy8gZG9jdW1lbnRhdGlvbiBvZiBUVmlldy5jbGVhbnVwIGZvciBtb3JlIGRldGFpbHMgb2YgdGhpcyBkYXRhIHN0cnVjdHVyZSBsYXlvdXQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsZWFudXBFdmVudE5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gbGlzdGVuZXJJbnRlcm5hbCh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCB0Tm9kZSwgZXZlbnROYW1lLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlLCBldmVudFRhcmdldFJlc29sdmVyKSB7XG4gICAgY29uc3QgaXNUTm9kZURpcmVjdGl2ZUhvc3QgPSBpc0RpcmVjdGl2ZUhvc3QodE5vZGUpO1xuICAgIGNvbnN0IGZpcnN0Q3JlYXRlUGFzcyA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcztcbiAgICBjb25zdCB0Q2xlYW51cCA9IGZpcnN0Q3JlYXRlUGFzcyAmJiBnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0Vmlldyk7XG4gICAgY29uc3QgY29udGV4dCA9IGxWaWV3W0NPTlRFWFRdO1xuICAgIC8vIFdoZW4gdGhlIMm1ybVsaXN0ZW5lciBpbnN0cnVjdGlvbiB3YXMgZ2VuZXJhdGVkIGFuZCBpcyBleGVjdXRlZCB3ZSBrbm93IHRoYXQgdGhlcmUgaXMgZWl0aGVyIGFcbiAgICAvLyBuYXRpdmUgbGlzdGVuZXIgb3IgYSBkaXJlY3RpdmUgb3V0cHV0IG9uIHRoaXMgZWxlbWVudC4gQXMgc3VjaCB3ZSB3ZSBrbm93IHRoYXQgd2Ugd2lsbCBoYXZlIHRvXG4gICAgLy8gcmVnaXN0ZXIgYSBsaXN0ZW5lciBhbmQgc3RvcmUgaXRzIGNsZWFudXAgZnVuY3Rpb24gb24gTFZpZXcuXG4gICAgY29uc3QgbENsZWFudXAgPSBnZXRPckNyZWF0ZUxWaWV3Q2xlYW51cChsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyk7XG4gICAgbGV0IHByb2Nlc3NPdXRwdXRzID0gdHJ1ZTtcbiAgICAvLyBBZGRpbmcgYSBuYXRpdmUgZXZlbnQgbGlzdGVuZXIgaXMgYXBwbGljYWJsZSB3aGVuOlxuICAgIC8vIC0gVGhlIGNvcnJlc3BvbmRpbmcgVE5vZGUgcmVwcmVzZW50cyBhIERPTSBlbGVtZW50LlxuICAgIC8vIC0gVGhlIGV2ZW50IHRhcmdldCBoYXMgYSByZXNvbHZlciAodXN1YWxseSByZXN1bHRpbmcgaW4gYSBnbG9iYWwgb2JqZWN0LFxuICAgIC8vICAgc3VjaCBhcyBgd2luZG93YCBvciBgZG9jdW1lbnRgKS5cbiAgICBpZiAoKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB8fCBldmVudFRhcmdldFJlc29sdmVyKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnRUYXJnZXRSZXNvbHZlciA/IGV2ZW50VGFyZ2V0UmVzb2x2ZXIobmF0aXZlKSA6IG5hdGl2ZTtcbiAgICAgICAgY29uc3QgbENsZWFudXBJbmRleCA9IGxDbGVhbnVwLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaWR4T3JUYXJnZXRHZXR0ZXIgPSBldmVudFRhcmdldFJlc29sdmVyID9cbiAgICAgICAgICAgIChfbFZpZXcpID0+IGV2ZW50VGFyZ2V0UmVzb2x2ZXIodW53cmFwUk5vZGUoX2xWaWV3W3ROb2RlLmluZGV4XSkpIDpcbiAgICAgICAgICAgIHROb2RlLmluZGV4O1xuICAgICAgICAvLyBJbiBvcmRlciB0byBtYXRjaCBjdXJyZW50IGJlaGF2aW9yLCBuYXRpdmUgRE9NIGV2ZW50IGxpc3RlbmVycyBtdXN0IGJlIGFkZGVkIGZvciBhbGxcbiAgICAgICAgLy8gZXZlbnRzIChpbmNsdWRpbmcgb3V0cHV0cykuXG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIG11bHRpcGxlIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWUgZWxlbWVudCB0cnkgdG8gcmVnaXN0ZXIgYW4gZXZlbnRcbiAgICAgICAgICAgIC8vIGhhbmRsZXIgZnVuY3Rpb24gZm9yIHRoZSBzYW1lIGV2ZW50LiBJbiB0aGlzIHNpdHVhdGlvbiB3ZSB3YW50IHRvIGF2b2lkIHJlZ2lzdHJhdGlvbiBvZlxuICAgICAgICAgICAgLy8gc2V2ZXJhbCBuYXRpdmUgbGlzdGVuZXJzIGFzIGVhY2ggcmVnaXN0cmF0aW9uIHdvdWxkIGJlIGludGVyY2VwdGVkIGJ5IE5nWm9uZSBhbmRcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGRldGVjdGlvbi4gVGhpcyB3b3VsZCBtZWFuIHRoYXQgYSBzaW5nbGUgdXNlciBhY3Rpb24gd291bGQgcmVzdWx0IGluIHNldmVyYWxcbiAgICAgICAgICAgIC8vIGNoYW5nZSBkZXRlY3Rpb25zIGJlaW5nIGludm9rZWQuIFRvIGF2b2lkIHRoaXMgc2l0dWF0aW9uIHdlIHdhbnQgdG8gaGF2ZSBvbmx5IG9uZSBjYWxsIHRvXG4gICAgICAgICAgICAvLyBuYXRpdmUgaGFuZGxlciByZWdpc3RyYXRpb24gKGZvciB0aGUgc2FtZSBlbGVtZW50IGFuZCBzYW1lIHR5cGUgb2YgZXZlbnQpLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIGhhdmUganVzdCBvbmUgbmF0aXZlIGV2ZW50IGhhbmRsZXIgaW4gcHJlc2VuY2Ugb2YgbXVsdGlwbGUgaGFuZGxlciBmdW5jdGlvbnMsXG4gICAgICAgICAgICAvLyB3ZSBqdXN0IHJlZ2lzdGVyIGEgZmlyc3QgaGFuZGxlciBmdW5jdGlvbiBhcyBhIG5hdGl2ZSBldmVudCBsaXN0ZW5lciBhbmQgdGhlbiBjaGFpblxuICAgICAgICAgICAgLy8gKGNvYWxlc2NlKSBvdGhlciBoYW5kbGVyIGZ1bmN0aW9ucyBvbiB0b3Agb2YgdGhlIGZpcnN0IG5hdGl2ZSBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgLy8gUGxlYXNlIG5vdGUgdGhhdCB0aGUgY29hbGVzY2luZyBkZXNjcmliZWQgaGVyZSBkb2Vzbid0IGhhcHBlbiBmb3IgZXZlbnRzIHNwZWNpZnlpbmcgYW5cbiAgICAgICAgICAgIC8vIGFsdGVybmF0aXZlIHRhcmdldCAoZXguIChkb2N1bWVudDpjbGljaykpIC0gdGhpcyBpcyB0byBrZWVwIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCB0aGVcbiAgICAgICAgICAgIC8vIHZpZXcgZW5naW5lLlxuICAgICAgICAgICAgLy8gQWxzbywgd2UgZG9uJ3QgaGF2ZSB0byBzZWFyY2ggZm9yIGV4aXN0aW5nIGxpc3RlbmVycyBpcyB0aGVyZSBhcmUgbm8gZGlyZWN0aXZlc1xuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgb24gYSBnaXZlbiBub2RlIGFzIHdlIGNhbid0IHJlZ2lzdGVyIG11bHRpcGxlIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgc2FtZSBldmVudCBpblxuICAgICAgICAgICAgLy8gYSB0ZW1wbGF0ZSAodGhpcyB3b3VsZCBtZWFuIGhhdmluZyBkdXBsaWNhdGUgYXR0cmlidXRlcykuXG4gICAgICAgICAgICBpZiAoIWV2ZW50VGFyZ2V0UmVzb2x2ZXIgJiYgaXNUTm9kZURpcmVjdGl2ZUhvc3QpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0xpc3RlbmVyID0gZmluZEV4aXN0aW5nTGlzdGVuZXIodFZpZXcsIGxWaWV3LCBldmVudE5hbWUsIHROb2RlLmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleGlzdGluZ0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoIGEgbmV3IGxpc3RlbmVyIHRvIGNvYWxlc2NlZCBsaXN0ZW5lcnMgbGlzdCwgbWFpbnRhaW5pbmcgdGhlIG9yZGVyIGluIHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuZXJzIGFyZSByZWdpc3RlcmVkLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2Uga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgbGFzdFxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbmVyIGluIHRoYXQgbGlzdCAoaW4gYF9fbmdMYXN0TGlzdGVuZXJGbl9fYCBmaWVsZCksIHNvIHdlIGNhbiBhdm9pZCBnb2luZyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gdGhlIGVudGlyZSBzZXQgZWFjaCB0aW1lIHdlIG5lZWQgdG8gYWRkIGEgbmV3IGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaXN0ZW5lckZuID0gZXhpc3RpbmdMaXN0ZW5lci5fX25nTGFzdExpc3RlbmVyRm5fXyB8fCBleGlzdGluZ0xpc3RlbmVyO1xuICAgICAgICAgICAgICAgIGxhc3RMaXN0ZW5lckZuLl9fbmdOZXh0TGlzdGVuZXJGbl9fID0gbGlzdGVuZXJGbjtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0xpc3RlbmVyLl9fbmdMYXN0TGlzdGVuZXJGbl9fID0gbGlzdGVuZXJGbjtcbiAgICAgICAgICAgICAgICBwcm9jZXNzT3V0cHV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIGZhbHNlIC8qKiBwcmV2ZW50RGVmYXVsdCAqLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW51cEZuID0gcmVuZGVyZXIubGlzdGVuKHRhcmdldCwgZXZlbnROYW1lLCBsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcisrO1xuICAgICAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbiwgY2xlYW51cEZuKTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgaWR4T3JUYXJnZXRHZXR0ZXIsIGxDbGVhbnVwSW5kZXgsIGxDbGVhbnVwSW5kZXggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXIodE5vZGUsIGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCB0cnVlIC8qKiBwcmV2ZW50RGVmYXVsdCAqLyk7XG4gICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFkZEV2ZW50TGlzdGVuZXIrKztcbiAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbik7XG4gICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgaWR4T3JUYXJnZXRHZXR0ZXIsIGxDbGVhbnVwSW5kZXgsIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZXJlIGlzIG5vIG5hdGl2ZSBsaXN0ZW5lciB0byBhZGQsIHdlIHN0aWxsIG5lZWQgdG8gd3JhcCB0aGUgbGlzdGVuZXIgc28gdGhhdCBPblB1c2hcbiAgICAgICAgLy8gYW5jZXN0b3JzIGFyZSBtYXJrZWQgZGlydHkgd2hlbiBhbiBldmVudCBvY2N1cnMuXG4gICAgICAgIGxpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXIodE5vZGUsIGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBmYWxzZSAvKiogcHJldmVudERlZmF1bHQgKi8pO1xuICAgIH1cbiAgICAvLyBzdWJzY3JpYmUgdG8gZGlyZWN0aXZlIG91dHB1dHNcbiAgICBjb25zdCBvdXRwdXRzID0gdE5vZGUub3V0cHV0cztcbiAgICBsZXQgcHJvcHM7XG4gICAgaWYgKHByb2Nlc3NPdXRwdXRzICYmIG91dHB1dHMgIT09IG51bGwgJiYgKHByb3BzID0gb3V0cHV0c1tldmVudE5hbWVdKSkge1xuICAgICAgICBjb25zdCBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgICAgaWYgKHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzTGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5pZmllZE5hbWUgPSBwcm9wc1tpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5zdGFuY2UgPSBsVmlld1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gZGlyZWN0aXZlSW5zdGFuY2VbbWluaWZpZWROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmICFpc09ic2VydmFibGUob3V0cHV0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEBPdXRwdXQgJHttaW5pZmllZE5hbWV9IG5vdCBpbml0aWFsaXplZCBpbiAnJHtkaXJlY3RpdmVJbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lfScuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG91dHB1dC5zdWJzY3JpYmUobGlzdGVuZXJGbik7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbENsZWFudXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbiwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgdE5vZGUuaW5kZXgsIGlkeCwgLShpZHggKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyhsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHByb2ZpbGVyKDYgLyogT3V0cHV0U3RhcnQgKi8sIGNvbnRleHQsIGxpc3RlbmVyRm4pO1xuICAgICAgICAvLyBPbmx5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGZhbHNlIGZyb20gYSBsaXN0ZW5lciBzaG91bGQgcHJldmVudERlZmF1bHRcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyRm4oZSkgIT09IGZhbHNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IobFZpZXcsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgcHJvZmlsZXIoNyAvKiBPdXRwdXRFbmQgKi8sIGNvbnRleHQsIGxpc3RlbmVyRm4pO1xuICAgIH1cbn1cbi8qKlxuICogV3JhcHMgYW4gZXZlbnQgbGlzdGVuZXIgd2l0aCBhIGZ1bmN0aW9uIHRoYXQgbWFya3MgYW5jZXN0b3JzIGRpcnR5IGFuZCBwcmV2ZW50cyBkZWZhdWx0IGJlaGF2aW9yLFxuICogaWYgYXBwbGljYWJsZS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIFROb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxpc3RlbmVyXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHRoYXQgY29udGFpbnMgdGhpcyBsaXN0ZW5lclxuICogQHBhcmFtIGxpc3RlbmVyRm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGNhbGxcbiAqIEBwYXJhbSB3cmFwV2l0aFByZXZlbnREZWZhdWx0IFdoZXRoZXIgb3Igbm90IHRvIHByZXZlbnQgZGVmYXVsdCBiZWhhdmlvclxuICogKHRoZSBwcm9jZWR1cmFsIHJlbmRlcmVyIGRvZXMgdGhpcyBhbHJlYWR5LCBzbyBpbiB0aG9zZSBjYXNlcywgd2Ugc2hvdWxkIHNraXApXG4gKi9cbmZ1bmN0aW9uIHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIHdyYXBXaXRoUHJldmVudERlZmF1bHQpIHtcbiAgICAvLyBOb3RlOiB3ZSBhcmUgcGVyZm9ybWluZyBtb3N0IG9mIHRoZSB3b3JrIGluIHRoZSBsaXN0ZW5lciBmdW5jdGlvbiBpdHNlbGZcbiAgICAvLyB0byBvcHRpbWl6ZSBsaXN0ZW5lciByZWdpc3RyYXRpb24uXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lckluX21hcmtEaXJ0eUFuZFByZXZlbnREZWZhdWx0KGUpIHtcbiAgICAgICAgLy8gSXZ5IHVzZXMgYEZ1bmN0aW9uYCBhcyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBhbGxvd3MgdXMgdG8gdW53cmFwIHRoZSBmdW5jdGlvblxuICAgICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSBpbnZva2VkIHByb2dyYW1tYXRpY2FsbHkgYnkgYERlYnVnTm9kZS50cmlnZ2VyRXZlbnRIYW5kbGVyYC5cbiAgICAgICAgaWYgKGUgPT09IEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdGVuZXJGbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBvcmRlciB0byBiZSBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIFZpZXcgRW5naW5lLCBldmVudHMgb24gY29tcG9uZW50IGhvc3Qgbm9kZXNcbiAgICAgICAgLy8gbXVzdCBhbHNvIG1hcmsgdGhlIGNvbXBvbmVudCB2aWV3IGl0c2VsZiBkaXJ0eSAoaS5lLiB0aGUgdmlldyB0aGF0IGl0IG93bnMpLlxuICAgICAgICBjb25zdCBzdGFydFZpZXcgPSB0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovID9cbiAgICAgICAgICAgIGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpIDpcbiAgICAgICAgICAgIGxWaWV3O1xuICAgICAgICAvLyBTZWUgaW50ZXJmYWNlcy92aWV3LnRzIGZvciBtb3JlIG9uIExWaWV3RmxhZ3MuTWFudWFsT25QdXNoXG4gICAgICAgIGlmICgobFZpZXdbRkxBR1NdICYgMzIgLyogTWFudWFsT25QdXNoICovKSA9PT0gMCkge1xuICAgICAgICAgICAgbWFya1ZpZXdEaXJ0eShzdGFydFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyhsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZSk7XG4gICAgICAgIC8vIEEganVzdC1pbnZva2VkIGxpc3RlbmVyIGZ1bmN0aW9uIG1pZ2h0IGhhdmUgY29hbGVzY2VkIGxpc3RlbmVycyBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvclxuICAgICAgICAvLyB0aGVpciBwcmVzZW5jZSBhbmQgaW52b2tlIGFzIG5lZWRlZC5cbiAgICAgICAgbGV0IG5leHRMaXN0ZW5lckZuID0gd3JhcExpc3RlbmVySW5fbWFya0RpcnR5QW5kUHJldmVudERlZmF1bHQuX19uZ05leHRMaXN0ZW5lckZuX187XG4gICAgICAgIHdoaWxlIChuZXh0TGlzdGVuZXJGbikge1xuICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIHByZXZlbnQgZGVmYXVsdCBpZiBhbnkgb2YgdGhlIGxpc3RlbmVycyBleHBsaWNpdGx5IHJldHVybiBmYWxzZVxuICAgICAgICAgICAgcmVzdWx0ID0gZXhlY3V0ZUxpc3RlbmVyV2l0aEVycm9ySGFuZGxpbmcobFZpZXcsIGNvbnRleHQsIG5leHRMaXN0ZW5lckZuLCBlKSAmJiByZXN1bHQ7XG4gICAgICAgICAgICBuZXh0TGlzdGVuZXJGbiA9IG5leHRMaXN0ZW5lckZuLl9fbmdOZXh0TGlzdGVuZXJGbl9fO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3cmFwV2l0aFByZXZlbnREZWZhdWx0ICYmIHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vIE5lY2Vzc2FyeSBmb3IgbGVnYWN5IGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBwcmV2ZW50RGVmYXVsdCAoZS5nLiBJRSlcbiAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmVzIGEgY29udGV4dCBhdCB0aGUgbGV2ZWwgc3BlY2lmaWVkIGFuZCBzYXZlcyBpdCBhcyB0aGUgZ2xvYmFsLCBjb250ZXh0Vmlld0RhdGEuXG4gKiBXaWxsIGdldCB0aGUgbmV4dCBsZXZlbCB1cCBpZiBsZXZlbCBpcyBub3Qgc3BlY2lmaWVkLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBzYXZlIGNvbnRleHRzIG9mIHBhcmVudCB2aWV3cyBzbyB0aGV5IGNhbiBiZSBib3VuZCBpbiBlbWJlZGRlZCB2aWV3cywgb3JcbiAqIGluIGNvbmp1bmN0aW9uIHdpdGggcmVmZXJlbmNlKCkgdG8gYmluZCBhIHJlZiBmcm9tIGEgcGFyZW50IHZpZXcuXG4gKlxuICogQHBhcmFtIGxldmVsIFRoZSByZWxhdGl2ZSBsZXZlbCBvZiB0aGUgdmlldyBmcm9tIHdoaWNoIHRvIGdyYWIgY29udGV4dCBjb21wYXJlZCB0byBjb250ZXh0VmV3RGF0YVxuICogQHJldHVybnMgY29udGV4dFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZXh0Q29udGV4dChsZXZlbCA9IDEpIHtcbiAgICByZXR1cm4gbmV4dENvbnRleHRJbXBsKGxldmVsKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENoZWNrcyBhIGdpdmVuIG5vZGUgYWdhaW5zdCBtYXRjaGluZyBwcm9qZWN0aW9uIHNsb3RzIGFuZCByZXR1cm5zIHRoZVxuICogZGV0ZXJtaW5lZCBzbG90IGluZGV4LiBSZXR1cm5zIFwibnVsbFwiIGlmIG5vIHNsb3QgbWF0Y2hlZCB0aGUgZ2l2ZW4gbm9kZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGludG8gYWNjb3VudCB0aGUgcGFyc2VkIG5nUHJvamVjdEFzIHNlbGVjdG9yIGZyb20gdGhlXG4gKiBub2RlJ3MgYXR0cmlidXRlcy4gSWYgcHJlc2VudCwgaXQgd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBuZ1Byb2plY3RBcyBzZWxlY3RvclxuICogbWF0Y2hlcyBhbnkgb2YgdGhlIHByb2plY3Rpb24gc2xvdCBzZWxlY3RvcnMuXG4gKi9cbmZ1bmN0aW9uIG1hdGNoaW5nUHJvamVjdGlvblNsb3RJbmRleCh0Tm9kZSwgcHJvamVjdGlvblNsb3RzKSB7XG4gICAgbGV0IHdpbGRjYXJkTmdDb250ZW50SW5kZXggPSBudWxsO1xuICAgIGNvbnN0IG5nUHJvamVjdEFzQXR0clZhbCA9IGdldFByb2plY3RBc0F0dHJWYWx1ZSh0Tm9kZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0aW9uU2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdFZhbHVlID0gcHJvamVjdGlvblNsb3RzW2ldO1xuICAgICAgICAvLyBUaGUgbGFzdCB3aWxkY2FyZCBwcm9qZWN0aW9uIHNsb3Qgc2hvdWxkIG1hdGNoIGFsbCBub2RlcyB3aGljaCBhcmVuJ3QgbWF0Y2hpbmdcbiAgICAgICAgLy8gYW55IHNlbGVjdG9yLiBUaGlzIGlzIG5lY2Vzc2FyeSB0byBiZSBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHZpZXcgZW5naW5lLlxuICAgICAgICBpZiAoc2xvdFZhbHVlID09PSAnKicpIHtcbiAgICAgICAgICAgIHdpbGRjYXJkTmdDb250ZW50SW5kZXggPSBpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgcmFuIGludG8gYW4gYG5nUHJvamVjdEFzYCBhdHRyaWJ1dGUsIHdlIHNob3VsZCBtYXRjaCBpdHMgcGFyc2VkIHNlbGVjdG9yXG4gICAgICAgIC8vIHRvIHRoZSBsaXN0IG9mIHNlbGVjdG9ycywgb3RoZXJ3aXNlIHdlIGZhbGwgYmFjayB0byBtYXRjaGluZyBhZ2FpbnN0IHRoZSBub2RlLlxuICAgICAgICBpZiAobmdQcm9qZWN0QXNBdHRyVmFsID09PSBudWxsID9cbiAgICAgICAgICAgIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBzbG90VmFsdWUsIC8qIGlzUHJvamVjdGlvbk1vZGUgKi8gdHJ1ZSkgOlxuICAgICAgICAgICAgaXNTZWxlY3RvckluU2VsZWN0b3JMaXN0KG5nUHJvamVjdEFzQXR0clZhbCwgc2xvdFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7IC8vIGZpcnN0IG1hdGNoaW5nIHNlbGVjdG9yIFwiY2FwdHVyZXNcIiBhIGdpdmVuIG5vZGVcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gd2lsZGNhcmROZ0NvbnRlbnRJbmRleDtcbn1cbi8qKlxuICogSW5zdHJ1Y3Rpb24gdG8gZGlzdHJpYnV0ZSBwcm9qZWN0YWJsZSBub2RlcyBhbW9uZyA8bmctY29udGVudD4gb2NjdXJyZW5jZXMgaW4gYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqIEl0IHRha2VzIGFsbCB0aGUgc2VsZWN0b3JzIGZyb20gdGhlIGVudGlyZSBjb21wb25lbnQncyB0ZW1wbGF0ZSBhbmQgZGVjaWRlcyB3aGVyZVxuICogZWFjaCBwcm9qZWN0ZWQgbm9kZSBiZWxvbmdzIChpdCByZS1kaXN0cmlidXRlcyBub2RlcyBhbW9uZyBcImJ1Y2tldHNcIiB3aGVyZSBlYWNoIFwiYnVja2V0XCIgaXNcbiAqIGJhY2tlZCBieSBhIHNlbGVjdG9yKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIENTUyBzZWxlY3RvcnMgdG8gYmUgcHJvdmlkZWQgaW4gMiBmb3JtczogcGFyc2VkIChieSBhIGNvbXBpbGVyKSBhbmQgdGV4dCxcbiAqIHVuLXBhcnNlZCBmb3JtLlxuICpcbiAqIFRoZSBwYXJzZWQgZm9ybSBpcyBuZWVkZWQgZm9yIGVmZmljaWVudCBtYXRjaGluZyBvZiBhIG5vZGUgYWdhaW5zdCBhIGdpdmVuIENTUyBzZWxlY3Rvci5cbiAqIFRoZSB1bi1wYXJzZWQsIHRleHR1YWwgZm9ybSBpcyBuZWVkZWQgZm9yIHN1cHBvcnQgb2YgdGhlIG5nUHJvamVjdEFzIGF0dHJpYnV0ZS5cbiAqXG4gKiBIYXZpbmcgYSBDU1Mgc2VsZWN0b3IgaW4gMiBkaWZmZXJlbnQgZm9ybWF0cyBpcyBub3QgaWRlYWwsIGJ1dCBhbHRlcm5hdGl2ZXMgaGF2ZSBldmVuIG1vcmVcbiAqIGRyYXdiYWNrczpcbiAqIC0gaGF2aW5nIG9ubHkgYSB0ZXh0dWFsIGZvcm0gd291bGQgcmVxdWlyZSBydW50aW1lIHBhcnNpbmcgb2YgQ1NTIHNlbGVjdG9ycztcbiAqIC0gd2UgY2FuJ3QgaGF2ZSBvbmx5IGEgcGFyc2VkIGFzIHdlIGNhbid0IHJlLWNvbnN0cnVjdCB0ZXh0dWFsIGZvcm0gZnJvbSBpdCAoYXMgZW50ZXJlZCBieSBhXG4gKiB0ZW1wbGF0ZSBhdXRob3IpLlxuICpcbiAqIEBwYXJhbSBwcm9qZWN0aW9uU2xvdHM/IEEgY29sbGVjdGlvbiBvZiBwcm9qZWN0aW9uIHNsb3RzLiBBIHByb2plY3Rpb24gc2xvdCBjYW4gYmUgYmFzZWRcbiAqICAgICAgICBvbiBhIHBhcnNlZCBDU1Mgc2VsZWN0b3JzIG9yIHNldCB0byB0aGUgd2lsZGNhcmQgc2VsZWN0b3IgKFwiKlwiKSBpbiBvcmRlciB0byBtYXRjaFxuICogICAgICAgIGFsbCBub2RlcyB3aGljaCBkbyBub3QgbWF0Y2ggYW55IHNlbGVjdG9yLiBJZiBub3Qgc3BlY2lmaWVkLCBhIHNpbmdsZSB3aWxkY2FyZFxuICogICAgICAgIHNlbGVjdG9yIHByb2plY3Rpb24gc2xvdCB3aWxsIGJlIGRlZmluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb2plY3Rpb25EZWYocHJvamVjdGlvblNsb3RzKSB7XG4gICAgY29uc3QgY29tcG9uZW50Tm9kZSA9IGdldExWaWV3KClbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddW1RfSE9TVF07XG4gICAgaWYgKCFjb21wb25lbnROb2RlLnByb2plY3Rpb24pIHtcbiAgICAgICAgLy8gSWYgbm8gZXhwbGljaXQgcHJvamVjdGlvbiBzbG90cyBhcmUgZGVmaW5lZCwgZmFsbCBiYWNrIHRvIGEgc2luZ2xlXG4gICAgICAgIC8vIHByb2plY3Rpb24gc2xvdCB3aXRoIHRoZSB3aWxkY2FyZCBzZWxlY3Rvci5cbiAgICAgICAgY29uc3QgbnVtUHJvamVjdGlvblNsb3RzID0gcHJvamVjdGlvblNsb3RzID8gcHJvamVjdGlvblNsb3RzLmxlbmd0aCA6IDE7XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25IZWFkcyA9IGNvbXBvbmVudE5vZGUucHJvamVjdGlvbiA9XG4gICAgICAgICAgICBuZXdBcnJheShudW1Qcm9qZWN0aW9uU2xvdHMsIG51bGwpO1xuICAgICAgICBjb25zdCB0YWlscyA9IHByb2plY3Rpb25IZWFkcy5zbGljZSgpO1xuICAgICAgICBsZXQgY29tcG9uZW50Q2hpbGQgPSBjb21wb25lbnROb2RlLmNoaWxkO1xuICAgICAgICB3aGlsZSAoY29tcG9uZW50Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHByb2plY3Rpb25TbG90cyA/IG1hdGNoaW5nUHJvamVjdGlvblNsb3RJbmRleChjb21wb25lbnRDaGlsZCwgcHJvamVjdGlvblNsb3RzKSA6IDA7XG4gICAgICAgICAgICBpZiAoc2xvdEluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhaWxzW3Nsb3RJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFpbHNbc2xvdEluZGV4XS5wcm9qZWN0aW9uTmV4dCA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbkhlYWRzW3Nsb3RJbmRleF0gPSBjb21wb25lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFpbHNbc2xvdEluZGV4XSA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50Q2hpbGQgPSBjb21wb25lbnRDaGlsZC5uZXh0O1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnRzIHByZXZpb3VzbHkgcmUtZGlzdHJpYnV0ZWQgcHJvamVjdGVkIG5vZGVzLiBUaGlzIGluc3RydWN0aW9uIG11c3QgYmUgcHJlY2VkZWQgYnkgYSBjYWxsXG4gKiB0byB0aGUgcHJvamVjdGlvbkRlZiBpbnN0cnVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gbm9kZUluZGV4XG4gKiBAcGFyYW0gc2VsZWN0b3JJbmRleDpcbiAqICAgICAgICAtIDAgd2hlbiB0aGUgc2VsZWN0b3IgaXMgYCpgIChvciB1bnNwZWNpZmllZCBhcyB0aGlzIGlzIHRoZSBkZWZhdWx0IHZhbHVlKSxcbiAqICAgICAgICAtIDEgYmFzZWQgaW5kZXggb2YgdGhlIHNlbGVjdG9yIGZyb20gdGhlIHtAbGluayBwcm9qZWN0aW9uRGVmfVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9qZWN0aW9uKG5vZGVJbmRleCwgc2VsZWN0b3JJbmRleCA9IDAsIGF0dHJzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCB0UHJvamVjdGlvbk5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBIRUFERVJfT0ZGU0VUICsgbm9kZUluZGV4LCAxNiAvKiBQcm9qZWN0aW9uICovLCBudWxsLCBhdHRycyB8fCBudWxsKTtcbiAgICAvLyBXZSBjYW4ndCB1c2Ugdmlld0RhdGFbSE9TVF9OT0RFXSBiZWNhdXNlIHByb2plY3Rpb24gbm9kZXMgY2FuIGJlIG5lc3RlZCBpbiBlbWJlZGRlZCB2aWV3cy5cbiAgICBpZiAodFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24gPT09IG51bGwpXG4gICAgICAgIHRQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uID0gc2VsZWN0b3JJbmRleDtcbiAgICAvLyBgPG5nLWNvbnRlbnQ+YCBoYXMgbm8gY29udGVudFxuICAgIHNldEN1cnJlbnRUTm9kZUFzTm90UGFyZW50KCk7XG4gICAgaWYgKCh0UHJvamVjdGlvbk5vZGUuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKSAhPT0gNjQgLyogaXNEZXRhY2hlZCAqLykge1xuICAgICAgICAvLyByZS1kaXN0cmlidXRpb24gb2YgcHJvamVjdGFibGUgbm9kZXMgaXMgc3RvcmVkIG9uIGEgY29tcG9uZW50J3MgdmlldyBsZXZlbFxuICAgICAgICBhcHBseVByb2plY3Rpb24odFZpZXcsIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggYSBsb25lIGJvdW5kIHZhbHVlXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQsIGFuIG5vIGFkZGl0aW9uYWwgdGV4dFxuICogc3Vycm91bmRzIHRoYXQgaW50ZXJwb2xhdGVkIHZhbHVlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJ7e3YwfX1cIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlKCd0aXRsZScsIHYwKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUocHJvcE5hbWUsIHYwLCBzYW5pdGl6ZXIpIHtcbiAgICDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEocHJvcE5hbWUsICcnLCB2MCwgJycsIHNhbml0aXplcik7XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMShwcm9wTmFtZSwgcHJlZml4LCB2MCwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMSwgcHJlZml4LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyKCd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAyLCBwcmVmaXgsIGkwLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMyhcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMywgcHJlZml4LCBpMCwgaTEsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTM7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNChcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTQocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDQsIHByZWZpeCwgaTAsIGkxLCBpMiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNShcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA1LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNihcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNiwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTY7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNyhcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTcocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDcsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBpNSwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlOChcbiAqICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4KHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gOCwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBpNiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYoXG4gKiAgJ3RpdGxlJywgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbmJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aCBhXG4gKiBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVihwcm9wTmFtZSwgdmFsdWVzLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25JbkJldHdlZW4gPSBbdmFsdWVzWzBdXTsgLy8gcHJlZml4XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25JbkJldHdlZW4ucHVzaCh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5sZW5ndGggKyAxLCAuLi5pbnRlcnBvbGF0aW9uSW5CZXR3ZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTk9URTogVGhlIHdvcmQgYHN0eWxpbmdgIGlzIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IGFzIHN0eWxlIG9yIGNsYXNzIHN0eWxpbmcuXG4gKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIGNvZGUgdG8gbGluayBzdHlsaW5nIGluc3RydWN0aW9ucyB0b2dldGhlciBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlcGxheWVkIGluXG4gKiBwcmlvcml0eSBvcmRlci4gVGhlIGZpbGUgZXhpc3RzIGJlY2F1c2UgSXZ5IHN0eWxpbmcgaW5zdHJ1Y3Rpb24gZXhlY3V0aW9uIG9yZGVyIGRvZXMgbm90IG1hdGNoXG4gKiB0aGF0IG9mIHRoZSBwcmlvcml0eSBvcmRlci4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBjb2RlIGlzIHRvIGNyZWF0ZSBhIGxpbmtlZCBsaXN0IHNvIHRoYXQgdGhlXG4gKiBpbnN0cnVjdGlvbnMgY2FuIGJlIHRyYXZlcnNlZCBpbiBwcmlvcml0eSBvcmRlciB3aGVuIGNvbXB1dGluZyB0aGUgc3R5bGVzLlxuICpcbiAqIEFzc3VtZSB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSBmb2xsb3dpbmcgY29kZTpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPG15LWNtcCBbc3R5bGVdPVwiIHtjb2xvcjogJyMwMDEnfSBcIlxuICogICAgICAgICAgICAgW3N0eWxlLmNvbG9yXT1cIiAjMDAyIFwiXG4gKiAgICAgICAgICAgICBkaXItc3R5bGUtY29sb3ItMVxuICogICAgICAgICAgICAgZGlyLXN0eWxlLWNvbG9yLTI+IGBcbiAqIH0pXG4gKiBjbGFzcyBFeGFtcGxlQ29tcG9uZW50IHtcbiAqICAgc3RhdGljIG5nQ29tcCA9IC4uLiB7XG4gKiAgICAgLi4uXG4gKiAgICAgLy8gQ29tcGlsZXIgZW5zdXJlcyB0aGF0IGDJtcm1c3R5bGVQcm9wYCBpcyBhZnRlciBgybXJtXN0eWxlTWFwYFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAxJ30pO1xuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDInKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogYFtkaXItc3R5bGUtY29sb3ItMV0nLFxuICogfSlcbiAqIGNsYXNzIFN0eWxlMURpcmVjdGl2ZSB7XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUnKSBzdHlsZSA9IHtjb2xvcjogJyMwMDUnfTtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZS5jb2xvcicpIGNvbG9yID0gJyMwMDYnO1xuICpcbiAqICAgc3RhdGljIG5nRGlyID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDUnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNicpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKlxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiBgW2Rpci1zdHlsZS1jb2xvci0yXScsXG4gKiB9KVxuICogY2xhc3MgU3R5bGUyRGlyZWN0aXZlIHtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZScpIHN0eWxlID0ge2NvbG9yOiAnIzAwNyd9O1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlLmNvbG9yJykgY29sb3IgPSAnIzAwOCc7XG4gKlxuICogICBzdGF0aWMgbmdEaXIgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNyd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4Jyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6IGBteS1jbXAnLFxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZScpIHN0eWxlID0ge2NvbG9yOiAnIzAwMyd9O1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlLmNvbG9yJykgY29sb3IgPSAnIzAwNCc7XG4gKlxuICogICBzdGF0aWMgbmdDb21wID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDMnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNCcpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgT3JkZXIgb2YgaW5zdHJ1Y3Rpb24gZXhlY3V0aW9uIGlzOlxuICpcbiAqIE5PVEU6IHRoZSBjb21tZW50IGJpbmRpbmcgbG9jYXRpb24gaXMgZm9yIGlsbHVzdHJhdGl2ZSBwdXJwb3NlcyBvbmx5LlxuICpcbiAqIGBgYFxuICogLy8gVGVtcGxhdGU6IChFeGFtcGxlQ29tcG9uZW50KVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAxJ30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDEwXG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpOyAgLy8gQmluZGluZyBpbmRleDogMTJcbiAqIC8vIE15Q29tcG9uZW50XG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDMnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyMlxuICogLy8gU3R5bGUxRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDUnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjRcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyNlxuICogLy8gU3R5bGUyRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDcnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjhcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAzMFxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3QgcHJpb3JpdHkgb3JkZXIgb2YgY29uY2F0ZW5hdGlvbiBpczpcbiAqXG4gKiBgYGBcbiAqIC8vIE15Q29tcG9uZW50XG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDMnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyMlxuICogLy8gU3R5bGUxRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDUnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjRcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyNlxuICogLy8gU3R5bGUyRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDcnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjhcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAzMFxuICogLy8gVGVtcGxhdGU6IChFeGFtcGxlQ29tcG9uZW50KVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAxJ30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDEwXG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpOyAgLy8gQmluZGluZyBpbmRleDogMTJcbiAqIGBgYFxuICpcbiAqIFdoYXQgY29sb3Igc2hvdWxkIGJlIHJlbmRlcmVkP1xuICpcbiAqIE9uY2UgdGhlIGl0ZW1zIGFyZSBjb3JyZWN0bHkgc29ydGVkIGluIHRoZSBsaXN0LCB0aGUgYW5zd2VyIGlzIHNpbXBseSB0aGUgbGFzdCBpdGVtIGluIHRoZVxuICogY29uY2F0ZW5hdGlvbiBsaXN0IHdoaWNoIGlzIGAjMDAyYC5cbiAqXG4gKiBUbyBkbyBzbyB3ZSBrZWVwIGEgbGlua2VkIGxpc3Qgb2YgYWxsIG9mIHRoZSBiaW5kaW5ncyB3aGljaCBwZXJ0YWluIHRvIHRoaXMgZWxlbWVudC5cbiAqIE5vdGljZSB0aGF0IHRoZSBiaW5kaW5ncyBhcmUgaW5zZXJ0ZWQgaW4gdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiwgYnV0IHRoZSBgVFZpZXcuZGF0YWAgYWxsb3dzXG4gKiB1cyB0byB0cmF2ZXJzZSB0aGVtIGluIHRoZSBvcmRlciBvZiBwcmlvcml0eS5cbiAqXG4gKiB8SWR4fGBUVmlldy5kYXRhYHxgTFZpZXdgICAgICAgICAgIHwgTm90ZXNcbiAqIHwtLS18LS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tXG4gKiB8Li4ufCAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHxcbiAqIHwxMCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDAxJ31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDEnfSlgXG4gKiB8MTEgfGAzMCB8IDEyYCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwxMiB8YGNvbG9yYCAgICAgfGAnIzAwMidgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpYFxuICogfDEzIHxgMTAgfCAwYCAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8Li4ufCAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHxcbiAqIHwyMCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDAzJ31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDMnfSlgXG4gKiB8MjEgfGAwIHwgMjJgICAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyMiB8YGNvbG9yYCAgICAgfGAnIzAwNCdgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNCcpYFxuICogfDIzIHxgMjAgfCAyNGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjQgfGBudWxsYCAgICAgIHxge2NvbG9yOiAnIzAwNSd9YHwgYMm1ybVzdHlsZU1hcCgnY29sb3InLCB7Y29sb3I6ICcjMDA1J30pYFxuICogfDI1IHxgMjIgfCAyNmAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjYgfGBjb2xvcmAgICAgIHxgJyMwMDYnYCAgICAgICAgIHwgYMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKWBcbiAqIHwyNyB8YDI0IHwgMjhgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDI4IHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDcnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwNyd9KWBcbiAqIHwyOSB8YDI2IHwgMzBgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDMwIHxgY29sb3JgICAgICB8YCcjMDA4J2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4JylgXG4gKiB8MzEgfGAyOCB8IDEwYCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqXG4gKiBUaGUgYWJvdmUgZGF0YSBzdHJ1Y3R1cmUgYWxsb3dzIHVzIHRvIHJlLWNvbmNhdGVuYXRlIHRoZSBzdHlsaW5nIG5vIG1hdHRlciB3aGljaCBkYXRhIGJpbmRpbmdcbiAqIGNoYW5nZXMuXG4gKlxuICogTk9URTogaW4gYWRkaXRpb24gdG8ga2VlcGluZyB0cmFjayBvZiBuZXh0L3ByZXZpb3VzIGluZGV4IHRoZSBgVFZpZXcuZGF0YWAgYWxzbyBzdG9yZXMgcHJldi9uZXh0XG4gKiBkdXBsaWNhdGUgYml0LiBUaGUgZHVwbGljYXRlIGJpdCBpZiB0cnVlIHNheXMgdGhlcmUgZWl0aGVyIGlzIGEgYmluZGluZyB3aXRoIHRoZSBzYW1lIG5hbWUgb3JcbiAqIHRoZXJlIGlzIGEgbWFwICh3aGljaCBtYXkgY29udGFpbiB0aGUgbmFtZSkuIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZnVsIGluIGtub3dpbmcgaWYgb3RoZXJcbiAqIHN0eWxlcyB3aXRoIGhpZ2hlciBwcmlvcml0eSBuZWVkIHRvIGJlIHNlYXJjaGVkIGZvciBvdmVyd3JpdGVzLlxuICpcbiAqIE5PVEU6IFNlZSBgc2hvdWxkIHN1cHBvcnQgZXhhbXBsZSBpbiAndG5vZGVfbGlua2VkX2xpc3QudHMnIGRvY3VtZW50YXRpb25gIGluXG4gKiBgdG5vZGVfbGlua2VkX2xpc3Rfc3BlYy50c2AgZm9yIHdvcmtpbmcgZXhhbXBsZS5cbiAqL1xubGV0IF9fdW51c2VkX2NvbnN0X2FzX2Nsb3N1cmVfZG9lc19ub3RfbGlrZV9zdGFuZGFsb25lX2NvbW1lbnRfYmxvY2tzX187XG4vKipcbiAqIEluc2VydCBuZXcgYHRTdHlsZVZhbHVlYCBhdCBgVERhdGFgIGFuZCBsaW5rIGV4aXN0aW5nIHN0eWxlIGJpbmRpbmdzIHN1Y2ggdGhhdCB3ZSBtYWludGFpbiBsaW5rZWRcbiAqIGxpc3Qgb2Ygc3R5bGVzIGFuZCBjb21wdXRlIHRoZSBkdXBsaWNhdGUgZmxhZy5cbiAqXG4gKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGR1cmluZyBgZmlyc3RVcGRhdGVQYXNzYCBvbmx5IHRvIHBvcHVsYXRlIHRoZSBgVFZpZXcuZGF0YWAuXG4gKlxuICogVGhlIGZ1bmN0aW9uIHdvcmtzIGJ5IGtlZXBpbmcgdHJhY2sgb2YgYHRTdHlsaW5nUmFuZ2VgIHdoaWNoIGNvbnRhaW5zIHR3byBwb2ludGVycyBwb2ludGluZyB0b1xuICogdGhlIGhlYWQvdGFpbCBvZiB0aGUgdGVtcGxhdGUgcG9ydGlvbiBvZiB0aGUgc3R5bGVzLlxuICogIC0gaWYgYGlzSG9zdCA9PT0gZmFsc2VgICh3ZSBhcmUgdGVtcGxhdGUpIHRoZW4gaW5zZXJ0aW9uIGlzIGF0IHRhaWwgb2YgYFRTdHlsaW5nUmFuZ2VgXG4gKiAgLSBpZiBgaXNIb3N0ID09PSB0cnVlYCAod2UgYXJlIGhvc3QgYmluZGluZykgdGhlbiBpbnNlcnRpb24gaXMgYXQgaGVhZCBvZiBgVFN0eWxpbmdSYW5nZWBcbiAqXG4gKiBAcGFyYW0gdERhdGEgVGhlIGBURGF0YWAgdG8gaW5zZXJ0IGludG8uXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBhc3NvY2lhdGVkIHdpdGggdGhlIHN0eWxpbmcgZWxlbWVudC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBTZWUgYFRTdHlsaW5nS2V5YC5cbiAqIEBwYXJhbSBpbmRleCBsb2NhdGlvbiBvZiB3aGVyZSBgdFN0eWxlVmFsdWVgIHNob3VsZCBiZSBzdG9yZWQgKGFuZCBsaW5rZWQgaW50byBsaXN0LilcbiAqIEBwYXJhbSBpc0hvc3RCaW5kaW5nIGB0cnVlYCBpZiB0aGUgaW5zZXJ0aW9uIGlzIGZvciBhIGBob3N0QmluZGluZ2AuIChpbnNlcnRpb24gaXMgaW4gZnJvbnQgb2ZcbiAqICAgICAgICAgICAgICAgdGVtcGxhdGUuKVxuICogQHBhcmFtIGlzQ2xhc3NCaW5kaW5nIFRydWUgaWYgdGhlIGFzc29jaWF0ZWQgYHRTdHlsaW5nS2V5YCBhcyBhIGBjbGFzc2Agc3R5bGluZy5cbiAqICAgICAgICAgICAgICAgICAgICAgICBgdE5vZGUuY2xhc3NCaW5kaW5nc2Agc2hvdWxkIGJlIHVzZWQgKG9yIGB0Tm9kZS5zdHlsZUJpbmRpbmdzYCBvdGhlcndpc2UuKVxuICovXG5mdW5jdGlvbiBpbnNlcnRUU3R5bGluZ0JpbmRpbmcodERhdGEsIHROb2RlLCB0U3R5bGluZ0tleVdpdGhTdGF0aWMsIGluZGV4LCBpc0hvc3RCaW5kaW5nLCBpc0NsYXNzQmluZGluZykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdFVwZGF0ZVBhc3MoZ2V0VFZpZXcoKSk7XG4gICAgbGV0IHRCaW5kaW5ncyA9IGlzQ2xhc3NCaW5kaW5nID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgbGV0IHRtcGxIZWFkID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYodEJpbmRpbmdzKTtcbiAgICBsZXQgdG1wbFRhaWwgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0QmluZGluZ3MpO1xuICAgIHREYXRhW2luZGV4XSA9IHRTdHlsaW5nS2V5V2l0aFN0YXRpYztcbiAgICBsZXQgaXNLZXlEdXBsaWNhdGVPZlN0YXRpYyA9IGZhbHNlO1xuICAgIGxldCB0U3R5bGluZ0tleTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleVdpdGhTdGF0aWMpKSB7XG4gICAgICAgIC8vIFdlIGFyZSBjYXNlIHdoZW4gdGhlIGBUU3R5bGluZ0tleWAgY29udGFpbnMgc3RhdGljIGZpZWxkcyBhcyB3ZWxsLlxuICAgICAgICBjb25zdCBzdGF0aWNLZXlWYWx1ZUFycmF5ID0gdFN0eWxpbmdLZXlXaXRoU3RhdGljO1xuICAgICAgICB0U3R5bGluZ0tleSA9IHN0YXRpY0tleVZhbHVlQXJyYXlbMV07IC8vIHVud3JhcC5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiBvdXIga2V5IGlzIHByZXNlbnQgaW4gdGhlIHN0YXRpYyBzbyB0aGF0IHdlIGNhbiBtYXJrIGl0IGFzIGR1cGxpY2F0ZS5cbiAgICAgICAgaWYgKHRTdHlsaW5nS2V5ID09PSBudWxsIHx8XG4gICAgICAgICAgICBrZXlWYWx1ZUFycmF5SW5kZXhPZihzdGF0aWNLZXlWYWx1ZUFycmF5LCB0U3R5bGluZ0tleSkgPiAwKSB7XG4gICAgICAgICAgICAvLyB0U3R5bGluZ0tleSBpcyBwcmVzZW50IGluIHRoZSBzdGF0aWNzLCBuZWVkIHRvIG1hcmsgaXQgYXMgZHVwbGljYXRlLlxuICAgICAgICAgICAgaXNLZXlEdXBsaWNhdGVPZlN0YXRpYyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRTdHlsaW5nS2V5ID0gdFN0eWxpbmdLZXlXaXRoU3RhdGljO1xuICAgIH1cbiAgICBpZiAoaXNIb3N0QmluZGluZykge1xuICAgICAgICAvLyBXZSBhcmUgaW5zZXJ0aW5nIGhvc3QgYmluZGluZ3NcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSB0ZW1wbGF0ZSBiaW5kaW5ncyB0aGVuIGB0YWlsYCBpcyAwLlxuICAgICAgICBjb25zdCBoYXNUZW1wbGF0ZUJpbmRpbmdzID0gdG1wbFRhaWwgIT09IDA7XG4gICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgYmVjYXVzZSB0aGF0IG1lYW5zIHRoYXQgdGhlIGBoZWFkYCBjYW4ndCBwb2ludCB0byB0aGUgZmlyc3RcbiAgICAgICAgLy8gdGVtcGxhdGUgYmluZGluZ3MgKHRoZXJlIGFyZSBub25lLikgSW5zdGVhZCB0aGUgaGVhZCBwb2ludHMgdG8gdGhlIHRhaWwgb2YgdGhlIHRlbXBsYXRlLlxuICAgICAgICBpZiAoaGFzVGVtcGxhdGVCaW5kaW5ncykge1xuICAgICAgICAgICAgLy8gdGVtcGxhdGUgaGVhZCdzIFwicHJldlwiIHdpbGwgcG9pbnQgdG8gbGFzdCBob3N0IGJpbmRpbmcgb3IgdG8gMCBpZiBubyBob3N0IGJpbmRpbmdzIHlldFxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNOb2RlID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYodERhdGFbdG1wbEhlYWQgKyAxXSk7XG4gICAgICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gdG9UU3R5bGluZ1JhbmdlKHByZXZpb3VzTm9kZSwgdG1wbEhlYWQpO1xuICAgICAgICAgICAgLy8gaWYgYSBob3N0IGJpbmRpbmcgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgbmV4dCBvZiB0aGF0IGhvc3RcbiAgICAgICAgICAgIC8vIGJpbmRpbmcgdG8gcG9pbnQgdG8gdGhpcyBvbmVcbiAgICAgICAgICAgIGlmIChwcmV2aW91c05vZGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUtdGFpbCB2YWx1ZSB0byBwb2ludCB0byB1cy5cbiAgICAgICAgICAgICAgICB0RGF0YVtwcmV2aW91c05vZGUgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIHNldFRTdHlsaW5nUmFuZ2VOZXh0KHREYXRhW3ByZXZpb3VzTm9kZSArIDFdLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgXCJwcmV2aW91c1wiIG9mIHRoZSB0ZW1wbGF0ZSBiaW5kaW5nIGhlYWQgc2hvdWxkIHBvaW50IHRvIHRoaXMgaG9zdCBiaW5kaW5nXG4gICAgICAgICAgICB0RGF0YVt0bXBsSGVhZCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZVByZXYodERhdGFbdG1wbEhlYWQgKyAxXSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHRvVFN0eWxpbmdSYW5nZSh0bXBsSGVhZCwgMCk7XG4gICAgICAgICAgICAvLyBpZiBhIGhvc3QgYmluZGluZyBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBuZXh0IG9mIHRoYXQgaG9zdFxuICAgICAgICAgICAgLy8gYmluZGluZyB0byBwb2ludCB0byB0aGlzIG9uZVxuICAgICAgICAgICAgaWYgKHRtcGxIZWFkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgdGhlIHRlbXBsYXRlLXRhaWwgdmFsdWUgdG8gcG9pbnQgdG8gdXMuXG4gICAgICAgICAgICAgICAgdERhdGFbdG1wbEhlYWQgKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VOZXh0KHREYXRhW3RtcGxIZWFkICsgMV0sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdGVtcGxhdGUsIHRoZSBoZWFkIHBvaW50cyB0byB0ZW1wbGF0ZS10YWlsLCBhbmQgbmVlZHMgdG8gYmUgYWR2YW5jZWQuXG4gICAgICAgICAgICB0bXBsSGVhZCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSBhcmUgaW5zZXJ0aW5nIGluIHRlbXBsYXRlIHNlY3Rpb24uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgYmluZGluZydzIFwicHJldmlvdXNcIiB0byB0aGUgY3VycmVudCB0ZW1wbGF0ZSB0YWlsXG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSB0b1RTdHlsaW5nUmFuZ2UodG1wbFRhaWwsIDApO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKHRtcGxIZWFkICE9PSAwICYmIHRtcGxUYWlsID09PSAwLCBmYWxzZSwgJ0FkZGluZyB0ZW1wbGF0ZSBiaW5kaW5ncyBhZnRlciBob3N0QmluZGluZ3MgaXMgbm90IGFsbG93ZWQuJyk7XG4gICAgICAgIGlmICh0bXBsSGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgdG1wbEhlYWQgPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwcmV2aW91cyB2YWx1ZSBcIm5leHRcIiB0byBwb2ludCB0byB0aGlzIGJpbmRpbmdcbiAgICAgICAgICAgIHREYXRhW3RtcGxUYWlsICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlTmV4dCh0RGF0YVt0bXBsVGFpbCArIDFdLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdG1wbFRhaWwgPSBpbmRleDtcbiAgICB9XG4gICAgLy8gTm93IHdlIG5lZWQgdG8gdXBkYXRlIC8gY29tcHV0ZSB0aGUgZHVwbGljYXRlcy5cbiAgICAvLyBTdGFydGluZyB3aXRoIG91ciBsb2NhdGlvbiBzZWFyY2ggdG93YXJkcyBoZWFkIChsZWFzdCBwcmlvcml0eSlcbiAgICBpZiAoaXNLZXlEdXBsaWNhdGVPZlN0YXRpYykge1xuICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodERhdGFbaW5kZXggKyAxXSk7XG4gICAgfVxuICAgIG1hcmtEdXBsaWNhdGVzKHREYXRhLCB0U3R5bGluZ0tleSwgaW5kZXgsIHRydWUsIGlzQ2xhc3NCaW5kaW5nKTtcbiAgICBtYXJrRHVwbGljYXRlcyh0RGF0YSwgdFN0eWxpbmdLZXksIGluZGV4LCBmYWxzZSwgaXNDbGFzc0JpbmRpbmcpO1xuICAgIG1hcmtEdXBsaWNhdGVPZlJlc2lkdWFsU3R5bGluZyh0Tm9kZSwgdFN0eWxpbmdLZXksIHREYXRhLCBpbmRleCwgaXNDbGFzc0JpbmRpbmcpO1xuICAgIHRCaW5kaW5ncyA9IHRvVFN0eWxpbmdSYW5nZSh0bXBsSGVhZCwgdG1wbFRhaWwpO1xuICAgIGlmIChpc0NsYXNzQmluZGluZykge1xuICAgICAgICB0Tm9kZS5jbGFzc0JpbmRpbmdzID0gdEJpbmRpbmdzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdE5vZGUuc3R5bGVCaW5kaW5ncyA9IHRCaW5kaW5ncztcbiAgICB9XG59XG4vKipcbiAqIExvb2sgaW50byB0aGUgcmVzaWR1YWwgc3R5bGluZyB0byBzZWUgaWYgdGhlIGN1cnJlbnQgYHRTdHlsaW5nS2V5YCBpcyBkdXBsaWNhdGUgb2YgcmVzaWR1YWwuXG4gKlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hlcmUgdGhlIHJlc2lkdWFsIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBgVFN0eWxpbmdLZXlgIHRvIHN0b3JlLlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKiBAcGFyYW0gaW5kZXggbG9jYXRpb24gb2Ygd2hlcmUgYHRTdHlsZVZhbHVlYCBzaG91bGQgYmUgc3RvcmVkIChhbmQgbGlua2VkIGludG8gbGlzdC4pXG4gKiBAcGFyYW0gaXNDbGFzc0JpbmRpbmcgVHJ1ZSBpZiB0aGUgYXNzb2NpYXRlZCBgdFN0eWxpbmdLZXlgIGFzIGEgYGNsYXNzYCBzdHlsaW5nLlxuICogICAgICAgICAgICAgICAgICAgICAgIGB0Tm9kZS5jbGFzc0JpbmRpbmdzYCBzaG91bGQgYmUgdXNlZCAob3IgYHROb2RlLnN0eWxlQmluZGluZ3NgIG90aGVyd2lzZS4pXG4gKi9cbmZ1bmN0aW9uIG1hcmtEdXBsaWNhdGVPZlJlc2lkdWFsU3R5bGluZyh0Tm9kZSwgdFN0eWxpbmdLZXksIHREYXRhLCBpbmRleCwgaXNDbGFzc0JpbmRpbmcpIHtcbiAgICBjb25zdCByZXNpZHVhbCA9IGlzQ2xhc3NCaW5kaW5nID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXM7XG4gICAgaWYgKHJlc2lkdWFsICE9IG51bGwgLyogb3IgdW5kZWZpbmVkICovICYmIHR5cGVvZiB0U3R5bGluZ0tleSA9PSAnc3RyaW5nJyAmJlxuICAgICAgICBrZXlWYWx1ZUFycmF5SW5kZXhPZihyZXNpZHVhbCwgdFN0eWxpbmdLZXkpID49IDApIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBkdXBsaWNhdGUgaW4gdGhlIHJlc2lkdWFsIHNvIG1hcmsgb3Vyc2VsdmVzIGFzIGR1cGxpY2F0ZS5cbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHREYXRhW2luZGV4ICsgMV0pO1xuICAgIH1cbn1cbi8qKlxuICogTWFya3MgYFRTdHlsZVZhbHVlYHMgYXMgZHVwbGljYXRlcyBpZiBhbm90aGVyIHN0eWxlIGJpbmRpbmcgaW4gdGhlIGxpc3QgaGFzIHRoZSBzYW1lXG4gKiBgVFN0eWxlVmFsdWVgLlxuICpcbiAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIHR3aWNlIG9uY2Ugd2l0aCBgaXNQcmV2RGlyYCBzZXQgdG8gYHRydWVgIGFuZCBvbmNlXG4gKiB3aXRoIGl0IHNldCB0byBgZmFsc2VgIHRvIHNlYXJjaCBib3RoIHRoZSBwcmV2aW91cyBhcyB3ZWxsIGFzIG5leHQgaXRlbXMgaW4gdGhlIGxpc3QuXG4gKlxuICogTm8gZHVwbGljYXRlIGNhc2VcbiAqIGBgYFxuICogICBbc3R5bGUuY29sb3JdXG4gKiAgIFtzdHlsZS53aWR0aC5weF0gPDwtIGluZGV4XG4gKiAgIFtzdHlsZS5oZWlnaHQucHhdXG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZS53aWR0aC5weF1gIHRvIHRoZSBleGlzdGluZyBgW3N0eWxlLmNvbG9yXWAgcHJvZHVjZXMgbm9cbiAqIGR1cGxpY2F0ZXMgYmVjYXVzZSBgd2lkdGhgIGlzIG5vdCBmb3VuZCBpbiBhbnkgb3RoZXIgcGFydCBvZiB0aGUgbGlua2VkIGxpc3QuXG4gKlxuICogRHVwbGljYXRlIGNhc2VcbiAqIGBgYFxuICogICBbc3R5bGUuY29sb3JdXG4gKiAgIFtzdHlsZS53aWR0aC5lbV1cbiAqICAgW3N0eWxlLndpZHRoLnB4XSA8PC0gaW5kZXhcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGUud2lkdGgucHhdYCB3aWxsIHByb2R1Y2UgYSBkdXBsaWNhdGUgd2l0aCBgW3N0eWxlLndpZHRoLmVtXWBcbiAqIGJlY2F1c2UgYHdpZHRoYCBpcyBmb3VuZCBpbiB0aGUgY2hhaW4uXG4gKlxuICogTWFwIGNhc2UgMVxuICogYGBgXG4gKiAgIFtzdHlsZS53aWR0aC5weF1cbiAqICAgW3N0eWxlLmNvbG9yXVxuICogICBbc3R5bGVdICA8PC0gaW5kZXhcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGVdYCB3aWxsIHByb2R1Y2UgYSBkdXBsaWNhdGUgd2l0aCBhbnkgb3RoZXIgYmluZGluZ3MgYmVjYXVzZVxuICogYFtzdHlsZV1gIGlzIGEgTWFwIGFuZCBhcyBzdWNoIGlzIGZ1bGx5IGR5bmFtaWMgYW5kIGNvdWxkIHByb2R1Y2UgYGNvbG9yYCBvciBgd2lkdGhgLlxuICpcbiAqIE1hcCBjYXNlIDJcbiAqIGBgYFxuICogICBbc3R5bGVdXG4gKiAgIFtzdHlsZS53aWR0aC5weF1cbiAqICAgW3N0eWxlLmNvbG9yXSAgPDwtIGluZGV4XG4gKiBgYGBcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGFkZGluZyBgW3N0eWxlLmNvbG9yXWAgd2lsbCBwcm9kdWNlIGEgZHVwbGljYXRlIGJlY2F1c2UgdGhlcmUgaXMgYWxyZWFkeSBhXG4gKiBgW3N0eWxlXWAgYmluZGluZyB3aGljaCBpcyBhIE1hcCBhbmQgYXMgc3VjaCBpcyBmdWxseSBkeW5hbWljIGFuZCBjb3VsZCBwcm9kdWNlIGBjb2xvcmAgb3JcbiAqIGB3aWR0aGAuXG4gKlxuICogTk9URTogT25jZSBgW3N0eWxlXWAgKE1hcCkgaXMgYWRkZWQgaW50byB0aGUgc3lzdGVtIGFsbCB0aGluZ3MgYXJlIG1hcHBlZCBhcyBkdXBsaWNhdGVzLlxuICogTk9URTogV2UgdXNlIGBzdHlsZWAgYXMgZXhhbXBsZSwgYnV0IHNhbWUgbG9naWMgaXMgYXBwbGllZCB0byBgY2xhc3NgZXMgYXMgd2VsbC5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IGBUU3R5bGluZ0tleVByaW1pdGl2ZWAgd2hpY2ggY29udGFpbnMgdGhlIHZhbHVlIHRvIGNvbXBhcmUgdG8gb3RoZXIga2V5cyBpblxuICogICAgICAgIHRoZSBsaW5rZWQgbGlzdC5cbiAqIEBwYXJhbSBpbmRleCBTdGFydGluZyBsb2NhdGlvbiBpbiB0aGUgbGlua2VkIGxpc3QgdG8gc2VhcmNoIGZyb21cbiAqIEBwYXJhbSBpc1ByZXZEaXIgRGlyZWN0aW9uLlxuICogICAgICAgIC0gYHRydWVgIGZvciBwcmV2aW91cyAobG93ZXIgcHJpb3JpdHkpO1xuICogICAgICAgIC0gYGZhbHNlYCBmb3IgbmV4dCAoaGlnaGVyIHByaW9yaXR5KS5cbiAqL1xuZnVuY3Rpb24gbWFya0R1cGxpY2F0ZXModERhdGEsIHRTdHlsaW5nS2V5LCBpbmRleCwgaXNQcmV2RGlyLCBpc0NsYXNzQmluZGluZykge1xuICAgIGNvbnN0IHRTdHlsaW5nQXRJbmRleCA9IHREYXRhW2luZGV4ICsgMV07XG4gICAgY29uc3QgaXNNYXAgPSB0U3R5bGluZ0tleSA9PT0gbnVsbDtcbiAgICBsZXQgY3Vyc29yID0gaXNQcmV2RGlyID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdBdEluZGV4KSA6IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nQXRJbmRleCk7XG4gICAgbGV0IGZvdW5kRHVwbGljYXRlID0gZmFsc2U7XG4gICAgLy8gV2Uga2VlcCBpdGVyYXRpbmcgYXMgbG9uZyBhcyB3ZSBoYXZlIGEgY3Vyc29yXG4gICAgLy8gQU5EIGVpdGhlcjpcbiAgICAvLyAtIHdlIGZvdW5kIHdoYXQgd2UgYXJlIGxvb2tpbmcgZm9yLCBPUlxuICAgIC8vIC0gd2UgYXJlIGEgbWFwIGluIHdoaWNoIGNhc2Ugd2UgaGF2ZSB0byBjb250aW51ZSBzZWFyY2hpbmcgZXZlbiBhZnRlciB3ZSBmaW5kIHdoYXQgd2Ugd2VyZVxuICAgIC8vICAgbG9va2luZyBmb3Igc2luY2Ugd2UgYXJlIGEgd2lsZCBjYXJkIGFuZCBldmVyeXRoaW5nIG5lZWRzIHRvIGJlIGZsaXBwZWQgdG8gZHVwbGljYXRlLlxuICAgIHdoaWxlIChjdXJzb3IgIT09IDAgJiYgKGZvdW5kRHVwbGljYXRlID09PSBmYWxzZSB8fCBpc01hcCkpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh0RGF0YSwgY3Vyc29yKTtcbiAgICAgICAgY29uc3QgdFN0eWxpbmdWYWx1ZUF0Q3Vyc29yID0gdERhdGFbY3Vyc29yXTtcbiAgICAgICAgY29uc3QgdFN0eWxlUmFuZ2VBdEN1cnNvciA9IHREYXRhW2N1cnNvciArIDFdO1xuICAgICAgICBpZiAoaXNTdHlsaW5nTWF0Y2godFN0eWxpbmdWYWx1ZUF0Q3Vyc29yLCB0U3R5bGluZ0tleSkpIHtcbiAgICAgICAgICAgIGZvdW5kRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHREYXRhW2N1cnNvciArIDFdID0gaXNQcmV2RGlyID8gc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxlUmFuZ2VBdEN1cnNvcikgOlxuICAgICAgICAgICAgICAgIHNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsZVJhbmdlQXRDdXJzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvciA9IGlzUHJldkRpciA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsZVJhbmdlQXRDdXJzb3IpIDpcbiAgICAgICAgICAgIGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsZVJhbmdlQXRDdXJzb3IpO1xuICAgIH1cbiAgICBpZiAoZm91bmREdXBsaWNhdGUpIHtcbiAgICAgICAgLy8gaWYgd2UgZm91bmQgYSBkdXBsaWNhdGUsIHRoYW4gbWFyayBvdXJzZWx2ZXMuXG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSBpc1ByZXZEaXIgPyBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0U3R5bGluZ0F0SW5kZXgpIDpcbiAgICAgICAgICAgIHNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRTdHlsaW5nQXRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBgVFN0eWxpbmdLZXlgcyBhcmUgYSBtYXRjaC5cbiAqXG4gKiBXaGVuIGNvbXB1dGluZyB3aGV0aGVyIGEgYmluZGluZyBjb250YWlucyBhIGR1cGxpY2F0ZSwgd2UgbmVlZCB0byBjb21wYXJlIGlmIHRoZSBpbnN0cnVjdGlvblxuICogYFRTdHlsaW5nS2V5YCBoYXMgYSBtYXRjaC5cbiAqXG4gKiBIZXJlIGFyZSBleGFtcGxlcyBvZiBgVFN0eWxpbmdLZXlgcyB3aGljaCBtYXRjaCBnaXZlbiBgdFN0eWxpbmdLZXlDdXJzb3JgIGlzOlxuICogLSBgY29sb3JgXG4gKiAgICAtIGBjb2xvcmAgICAgLy8gTWF0Y2ggYW5vdGhlciBjb2xvclxuICogICAgLSBgbnVsbGAgICAgIC8vIFRoYXQgbWVhbnMgdGhhdCBgdFN0eWxpbmdLZXlgIGlzIGEgYGNsYXNzTWFwYC9gc3R5bGVNYXBgIGluc3RydWN0aW9uXG4gKiAgICAtIGBbJycsICdjb2xvcicsICdvdGhlcicsIHRydWVdYCAvLyB3cmFwcGVkIGBjb2xvcmAgc28gbWF0Y2hcbiAqICAgIC0gYFsnJywgbnVsbCwgJ290aGVyJywgdHJ1ZV1gICAgICAgIC8vIHdyYXBwZWQgYG51bGxgIHNvIG1hdGNoXG4gKiAgICAtIGBbJycsICd3aWR0aCcsICdjb2xvcicsICd2YWx1ZSddYCAvLyB3cmFwcGVkIHN0YXRpYyB2YWx1ZSBjb250YWlucyBhIG1hdGNoIG9uIGAnY29sb3InYFxuICogLSBgbnVsbGAgICAgICAgLy8gYHRTdHlsaW5nS2V5Q3Vyc29yYCBhbHdheXMgbWF0Y2ggYXMgaXQgaXMgYGNsYXNzTWFwYC9gc3R5bGVNYXBgIGluc3RydWN0aW9uXG4gKlxuICogQHBhcmFtIHRTdHlsaW5nS2V5Q3Vyc29yXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXlcbiAqL1xuZnVuY3Rpb24gaXNTdHlsaW5nTWF0Y2godFN0eWxpbmdLZXlDdXJzb3IsIHRTdHlsaW5nS2V5KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXkpLCB0cnVlLCAnRXhwZWN0ZWQgdGhhdCBcXCd0U3R5bGluZ0tleVxcJyBoYXMgYmVlbiB1bndyYXBwZWQnKTtcbiAgICBpZiAodFN0eWxpbmdLZXlDdXJzb3IgPT09IG51bGwgfHwgLy8gSWYgdGhlIGN1cnNvciBpcyBgbnVsbGAgaXQgbWVhbnMgdGhhdCB3ZSBoYXZlIG1hcCBhdCB0aGF0XG4gICAgICAgIC8vIGxvY2F0aW9uIHNvIHdlIG11c3QgYXNzdW1lIHRoYXQgd2UgaGF2ZSBhIG1hdGNoLlxuICAgICAgICB0U3R5bGluZ0tleSA9PSBudWxsIHx8IC8vIElmIGB0U3R5bGluZ0tleWAgaXMgYG51bGxgIHRoZW4gaXQgaXMgYSBtYXAgdGhlcmVmb3IgYXNzdW1lIHRoYXQgaXRcbiAgICAgICAgLy8gY29udGFpbnMgYSBtYXRjaC5cbiAgICAgICAgKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXlDdXJzb3IpID8gdFN0eWxpbmdLZXlDdXJzb3JbMV0gOiB0U3R5bGluZ0tleUN1cnNvcikgPT09XG4gICAgICAgICAgICB0U3R5bGluZ0tleSAvLyBJZiB0aGUga2V5cyBtYXRjaCBleHBsaWNpdGx5IHRoYW4gd2UgYXJlIGEgbWF0Y2guXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5Q3Vyc29yKSAmJiB0eXBlb2YgdFN0eWxpbmdLZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGlmIHdlIGRpZCBub3QgZmluZCBhIG1hdGNoLCBidXQgYHRTdHlsaW5nS2V5Q3Vyc29yYCBpcyBgS2V5VmFsdWVBcnJheWAgdGhhdCBtZWFucyBjdXJzb3IgaGFzXG4gICAgICAgIC8vIHN0YXRpY3MgYW5kIHdlIG5lZWQgdG8gY2hlY2sgdGhvc2UgYXMgd2VsbC5cbiAgICAgICAgcmV0dXJuIGtleVZhbHVlQXJyYXlJbmRleE9mKHRTdHlsaW5nS2V5Q3Vyc29yLCB0U3R5bGluZ0tleSkgPj1cbiAgICAgICAgICAgIDA7IC8vIHNlZSBpZiB3ZSBhcmUgbWF0Y2hpbmcgdGhlIGtleVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gR2xvYmFsIHN0YXRlIG9mIHRoZSBwYXJzZXIuIChUaGlzIG1ha2VzIHBhcnNlciBub24tcmVlbnRyYW50LCBidXQgdGhhdCBpcyBub3QgYW4gaXNzdWUpXG5jb25zdCBwYXJzZXJTdGF0ZSA9IHtcbiAgICB0ZXh0RW5kOiAwLFxuICAgIGtleTogMCxcbiAgICBrZXlFbmQ6IDAsXG4gICAgdmFsdWU6IDAsXG4gICAgdmFsdWVFbmQ6IDAsXG59O1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGxhc3QgcGFyc2VkIGBrZXlgIG9mIHN0eWxlLlxuICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc3Vic3RyaW5nIHRoZSBrZXkgZnJvbS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGFzdFBhcnNlZEtleSh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHBhcnNlclN0YXRlLmtleSwgcGFyc2VyU3RhdGUua2V5RW5kKTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBsYXN0IHBhcnNlZCBgdmFsdWVgIG9mIHN0eWxlLlxuICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc3Vic3RyaW5nIHRoZSBrZXkgZnJvbS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGFzdFBhcnNlZFZhbHVlKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcocGFyc2VyU3RhdGUudmFsdWUsIHBhcnNlclN0YXRlLnZhbHVlRW5kKTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgYGNsYXNzTmFtZWAgc3RyaW5nIGZvciBwYXJzaW5nIGFuZCBwYXJzZXMgdGhlIGZpcnN0IHRva2VuLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlQ2xhc3NOYW1lKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogQHBhcmFtIHRleHQgYGNsYXNzTmFtZWAgdG8gcGFyc2VcbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlQ2xhc3NOYW1lTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VDbGFzc05hbWUodGV4dCkge1xuICAgIHJlc2V0UGFyc2VyU3RhdGUodGV4dCk7XG4gICAgcmV0dXJuIHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCAwLCBwYXJzZXJTdGF0ZS50ZXh0RW5kKSk7XG59XG4vKipcbiAqIFBhcnNlcyBuZXh0IGBjbGFzc05hbWVgIHRva2VuLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlQ2xhc3NOYW1lKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0ZXh0IGBjbGFzc05hbWVgIHRvIHBhcnNlXG4gKiBAcGFyYW0gaW5kZXggd2hlcmUgdGhlIHBhcnNpbmcgc2hvdWxkIHJlc3VtZS5cbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlQ2xhc3NOYW1lTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGluZGV4KSB7XG4gICAgY29uc3QgZW5kID0gcGFyc2VyU3RhdGUudGV4dEVuZDtcbiAgICBpZiAoZW5kID09PSBpbmRleCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUua2V5RW5kID0gY29uc3VtZUNsYXNzVG9rZW4odGV4dCwgcGFyc2VyU3RhdGUua2V5ID0gaW5kZXgsIGVuZCk7XG4gICAgcmV0dXJuIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIGluZGV4LCBlbmQpO1xufVxuLyoqXG4gKiBJbml0aWFsaXplcyBgY3NzVGV4dGAgc3RyaW5nIGZvciBwYXJzaW5nIGFuZCBwYXJzZXMgdGhlIGZpcnN0IGtleS92YWx1ZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VTdHlsZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VTdHlsZU5leHQodGV4dCwgaSkpKSB7XG4gKiAgIGNvbnN0IGtleSA9IGdldExhc3RQYXJzZWRLZXkoKTtcbiAqICAgY29uc3QgdmFsdWUgPSBnZXRMYXN0UGFyc2VkVmFsdWUoKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSB0ZXh0IGBjc3NUZXh0YCB0byBwYXJzZVxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VTdHlsZU5leHRgIHNob3VsZCByZXN1bWUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU3R5bGUodGV4dCkge1xuICAgIHJlc2V0UGFyc2VyU3RhdGUodGV4dCk7XG4gICAgcmV0dXJuIHBhcnNlU3R5bGVOZXh0KHRleHQsIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIDAsIHBhcnNlclN0YXRlLnRleHRFbmQpKTtcbn1cbi8qKlxuICogUGFyc2VzIHRoZSBuZXh0IGBjc3NUZXh0YCBrZXkvdmFsdWVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlU3R5bGUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlU3R5bGVOZXh0KHRleHQsIGkpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIGNvbnN0IHZhbHVlID0gZ2V0TGFzdFBhcnNlZFZhbHVlKCk7XG4gKiAgIC4uLlxuICogfVxuICpcbiAqIEBwYXJhbSB0ZXh0IGBjc3NUZXh0YCB0byBwYXJzZVxuICogQHBhcmFtIGluZGV4IHdoZXJlIHRoZSBwYXJzaW5nIHNob3VsZCByZXN1bWUuXG4gKiBAcmV0dXJucyBpbmRleCB3aGVyZSB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwYXJzZVN0eWxlTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHlsZU5leHQodGV4dCwgc3RhcnRJbmRleCkge1xuICAgIGNvbnN0IGVuZCA9IHBhcnNlclN0YXRlLnRleHRFbmQ7XG4gICAgbGV0IGluZGV4ID0gcGFyc2VyU3RhdGUua2V5ID0gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgc3RhcnRJbmRleCwgZW5kKTtcbiAgICBpZiAoZW5kID09PSBpbmRleCkge1xuICAgICAgICAvLyB3ZSByZWFjaGVkIGFuIGVuZCBzbyBqdXN0IHF1aXRcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpbmRleCA9IHBhcnNlclN0YXRlLmtleUVuZCA9IGNvbnN1bWVTdHlsZUtleSh0ZXh0LCBpbmRleCwgZW5kKTtcbiAgICBpbmRleCA9IGNvbnN1bWVTZXBhcmF0b3IodGV4dCwgaW5kZXgsIGVuZCwgNTggLyogQ09MT04gKi8pO1xuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUudmFsdWUgPSBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBpbmRleCwgZW5kKTtcbiAgICBpbmRleCA9IHBhcnNlclN0YXRlLnZhbHVlRW5kID0gY29uc3VtZVN0eWxlVmFsdWUodGV4dCwgaW5kZXgsIGVuZCk7XG4gICAgcmV0dXJuIGNvbnN1bWVTZXBhcmF0b3IodGV4dCwgaW5kZXgsIGVuZCwgNTkgLyogU0VNSV9DT0xPTiAqLyk7XG59XG4vKipcbiAqIFJlc2V0IHRoZSBnbG9iYWwgc3RhdGUgb2YgdGhlIHN0eWxpbmcgcGFyc2VyLlxuICogQHBhcmFtIHRleHQgVGhlIHN0eWxpbmcgdGV4dCB0byBwYXJzZS5cbiAqL1xuZnVuY3Rpb24gcmVzZXRQYXJzZXJTdGF0ZSh0ZXh0KSB7XG4gICAgcGFyc2VyU3RhdGUua2V5ID0gMDtcbiAgICBwYXJzZXJTdGF0ZS5rZXlFbmQgPSAwO1xuICAgIHBhcnNlclN0YXRlLnZhbHVlID0gMDtcbiAgICBwYXJzZXJTdGF0ZS52YWx1ZUVuZCA9IDA7XG4gICAgcGFyc2VyU3RhdGUudGV4dEVuZCA9IHRleHQubGVuZ3RoO1xufVxuLyoqXG4gKiBSZXR1cm5zIGluZGV4IG9mIG5leHQgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBvZiBuZXh0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciAoTWF5IGJlIHRoZSBzYW1lIGFzIGBzdGFydGAgaWYgbm8gd2hpdGVzcGFjZSBhdFxuICogICAgICAgICAgdGhhdCBsb2NhdGlvbi4pXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgd2hpbGUgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCAmJiB0ZXh0LmNoYXJDb2RlQXQoc3RhcnRJbmRleCkgPD0gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogUmV0dXJucyBpbmRleCBvZiBsYXN0IGNoYXIgaW4gY2xhc3MgdG9rZW4uXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIGxhc3QgY2hhciBpbiBjbGFzcyB0b2tlbi5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZUNsYXNzVG9rZW4odGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGVuZEluZGV4ICYmIHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSA+IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIGFsbCBvZiB0aGUgY2hhcmFjdGVycyBiZWxvbmdpbmcgdG8gc3R5bGUga2V5IGFuZCB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgbGFzdCBzdHlsZSBrZXkgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiBjb25zdW1lU3R5bGVLZXkodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBsZXQgY2g7XG4gICAgd2hpbGUgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCAmJlxuICAgICAgICAoKGNoID0gdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpKSA9PT0gNDUgLyogREFTSCAqLyB8fCBjaCA9PT0gOTUgLyogVU5ERVJTQ09SRSAqLyB8fFxuICAgICAgICAgICAgKChjaCAmIC0zMyAvKiBVUFBFUl9DQVNFICovKSA+PSA2NSAvKiBBICovICYmIChjaCAmIC0zMyAvKiBVUFBFUl9DQVNFICovKSA8PSA5MCAvKiBaICovKSB8fFxuICAgICAgICAgICAgKGNoID49IDQ4IC8qIFpFUk8gKi8gJiYgY2ggPD0gNTcgLyogTklORSAqLykpKSB7XG4gICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIGFsbCB3aGl0ZXNwYWNlIGFuZCB0aGUgc2VwYXJhdG9yIGA6YCBhZnRlciB0aGUgc3R5bGUga2V5LlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBzZXBhcmF0b3IgYW5kIHN1cnJvdW5kaW5nIHdoaXRlc3BhY2UuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVTZXBhcmF0b3IodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHNlcGFyYXRvcikge1xuICAgIHN0YXJ0SW5kZXggPSBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgaWYgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSAhPT0gc2VwYXJhdG9yKSB7XG4gICAgICAgICAgICBtYWxmb3JtZWRTdHlsZUVycm9yKHRleHQsIFN0cmluZy5mcm9tQ2hhckNvZGUoc2VwYXJhdG9yKSwgc3RhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgc3R5bGUgdmFsdWUgaG9ub3JpbmcgYHVybCgpYCBhbmQgYFwiXCJgIHRleHQuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIGxhc3Qgc3R5bGUgdmFsdWUgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiBjb25zdW1lU3R5bGVWYWx1ZSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGxldCBjaDEgPSAtMTsgLy8gMXN0IHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBjaDIgPSAtMTsgLy8gMm5kIHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBjaDMgPSAtMTsgLy8gM3JkIHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBpID0gc3RhcnRJbmRleDtcbiAgICBsZXQgbGFzdENoSW5kZXggPSBpO1xuICAgIHdoaWxlIChpIDwgZW5kSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgaWYgKGNoID09PSA1OSAvKiBTRU1JX0NPTE9OICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdENoSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPT09IDM0IC8qIERPVUJMRV9RVU9URSAqLyB8fCBjaCA9PT0gMzkgLyogU0lOR0xFX1FVT1RFICovKSB7XG4gICAgICAgICAgICBsYXN0Q2hJbmRleCA9IGkgPSBjb25zdW1lUXVvdGVkVGV4dCh0ZXh0LCBjaCwgaSwgZW5kSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZXggPT09XG4gICAgICAgICAgICBpIC0gNCAmJiAvLyBXZSBoYXZlIHNlZW4gb25seSA0IGNoYXJhY3RlcnMgc28gZmFyIFwiVVJMKFwiIChJZ25vcmUgXCJmb29fVVJMKClcIilcbiAgICAgICAgICAgIGNoMyA9PT0gODUgLyogVSAqLyAmJlxuICAgICAgICAgICAgY2gyID09PSA4MiAvKiBSICovICYmIGNoMSA9PT0gNzYgLyogTCAqLyAmJiBjaCA9PT0gNDAgLyogT1BFTl9QQVJFTiAqLykge1xuICAgICAgICAgICAgbGFzdENoSW5kZXggPSBpID0gY29uc3VtZVF1b3RlZFRleHQodGV4dCwgNDEgLyogQ0xPU0VfUEFSRU4gKi8sIGksIGVuZEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA+IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyIHRoZW4gY2FwdHVyZSBpdHMgbG9jYXRpb25cbiAgICAgICAgICAgIGxhc3RDaEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBjaDMgPSBjaDI7XG4gICAgICAgIGNoMiA9IGNoMTtcbiAgICAgICAgY2gxID0gY2ggJiAtMzMgLyogVVBQRVJfQ0FTRSAqLztcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RDaEluZGV4O1xufVxuLyoqXG4gKiBDb25zdW1lcyBhbGwgb2YgdGhlIHF1b3RlZCBjaGFyYWN0ZXJzLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHF1b3RlQ2hhckNvZGUgQ2hhckNvZGUgb2YgZWl0aGVyIGBcImAgb3IgYCdgIHF1b3RlIG9yIGApYCBmb3IgYHVybCguLi4pYC5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgcXVvdGVkIGNoYXJhY3RlcnMuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVRdW90ZWRUZXh0KHRleHQsIHF1b3RlQ2hhckNvZGUsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgbGV0IGNoMSA9IC0xOyAvLyAxc3QgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGluZGV4ID0gc3RhcnRJbmRleDtcbiAgICB3aGlsZSAoaW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICBjb25zdCBjaCA9IHRleHQuY2hhckNvZGVBdChpbmRleCsrKTtcbiAgICAgICAgaWYgKGNoID09IHF1b3RlQ2hhckNvZGUgJiYgY2gxICE9PSA5MiAvKiBCQUNLX1NMQVNIICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoID09IDkyIC8qIEJBQ0tfU0xBU0ggKi8gJiYgY2gxID09PSA5MiAvKiBCQUNLX1NMQVNIICovKSB7XG4gICAgICAgICAgICAvLyB0d28gYmFjayBzbGFzaGVzIGNhbmNlbCBlYWNoIG90aGVyIG91dC4gRm9yIGV4YW1wbGUgYFwiXFxcXFwiYCBzaG91bGQgcHJvcGVybHkgZW5kIHRoZVxuICAgICAgICAgICAgLy8gcXVvdGF0aW9uLiAoSXQgc2hvdWxkIG5vdCBhc3N1bWUgdGhhdCB0aGUgbGFzdCBgXCJgIGlzIGVzY2FwZWQuKVxuICAgICAgICAgICAgY2gxID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoMSA9IGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5nRGV2TW9kZSA/IG1hbGZvcm1lZFN0eWxlRXJyb3IodGV4dCwgU3RyaW5nLmZyb21DaGFyQ29kZShxdW90ZUNoYXJDb2RlKSwgZW5kSW5kZXgpIDpcbiAgICAgICAgbmV3IEVycm9yKCk7XG59XG5mdW5jdGlvbiBtYWxmb3JtZWRTdHlsZUVycm9yKHRleHQsIGV4cGVjdGluZywgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodHlwZW9mIHRleHQgPT09ICdzdHJpbmcnLCB0cnVlLCAnU3RyaW5nIGV4cGVjdGVkIGhlcmUnKTtcbiAgICB0aHJvdyB0aHJvd0Vycm9yKGBNYWxmb3JtZWQgc3R5bGUgYXQgbG9jYXRpb24gJHtpbmRleH0gaW4gc3RyaW5nICdgICsgdGV4dC5zdWJzdHJpbmcoMCwgaW5kZXgpICsgJ1s+PicgK1xuICAgICAgICB0ZXh0LnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyAxKSArICc8PF0nICsgdGV4dC5zdWJzdHIoaW5kZXggKyAxKSArXG4gICAgICAgIGAnLiBFeHBlY3RpbmcgJyR7ZXhwZWN0aW5nfScuYCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBzdHlsZSBiaW5kaW5nIG9uIGFuIGVsZW1lbnQgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gKlxuICogSWYgdGhlIHN0eWxlIHZhbHVlIGlzIGZhbHN5IHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAqIChvciBhc3NpZ25lZCBhIGRpZmZlcmVudCB2YWx1ZSBkZXBlbmRpbmcgaWYgdGhlcmUgYXJlIGFueSBzdHlsZXMgcGxhY2VkXG4gKiBvbiB0aGUgZWxlbWVudCB3aXRoIGBzdHlsZU1hcGAgb3IgYW55IHN0YXRpYyBzdHlsZXMgdGhhdCBhcmVcbiAqIHByZXNlbnQgZnJvbSB3aGVuIHRoZSBlbGVtZW50IHdhcyBjcmVhdGVkIHdpdGggYHN0eWxpbmdgKS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHN0eWxpbmcgZWxlbWVudCBpcyB1cGRhdGVkIGFzIHBhcnQgb2YgYHN0eWxpbmdBcHBseWAuXG4gKlxuICogQHBhcmFtIHByb3AgQSB2YWxpZCBDU1MgcHJvcGVydHkuXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlIChgbnVsbGAgb3IgYW4gZW1wdHkgc3RyaW5nIHRvIHJlbW92ZSkuXG4gKiBAcGFyYW0gc3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgYXBwbHkgdGhlIHByb3ZpZGVkIHN0eWxlIHZhbHVlIHRvIHRoZSBob3N0IGVsZW1lbnQgaWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWRcbiAqIHdpdGhpbiBhIGhvc3QgYmluZGluZyBmdW5jdGlvbi5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wKHByb3AsIHZhbHVlLCBzdWZmaXgpIHtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgc3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3A7XG59XG4vKipcbiAqIFVwZGF0ZSBhIGNsYXNzIGJpbmRpbmcgb24gYW4gZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGhhbmRsZSB0aGUgYFtjbGFzcy5mb29dPVwiZXhwXCJgIGNhc2UgYW5kLFxuICogdGhlcmVmb3JlLCB0aGUgY2xhc3MgYmluZGluZyBpdHNlbGYgbXVzdCBhbHJlYWR5IGJlIGFsbG9jYXRlZCB1c2luZ1xuICogYHN0eWxpbmdgIHdpdGhpbiB0aGUgY3JlYXRpb24gYmxvY2suXG4gKlxuICogQHBhcmFtIHByb3AgQSB2YWxpZCBDU1MgY2xhc3MgKG9ubHkgb25lKS5cbiAqIEBwYXJhbSB2YWx1ZSBBIHRydWUvZmFsc2UgdmFsdWUgd2hpY2ggd2lsbCB0dXJuIHRoZSBjbGFzcyBvbiBvciBvZmYuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCBhcHBseSB0aGUgcHJvdmlkZWQgY2xhc3MgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uXG4gKiBpcyBjYWxsZWQgd2l0aGluIGEgaG9zdCBiaW5kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc1Byb3AoY2xhc3NOYW1lLCB2YWx1ZSkge1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KGNsYXNzTmFtZSwgdmFsdWUsIG51bGwsIHRydWUpO1xuICAgIHJldHVybiDJtcm1Y2xhc3NQcm9wO1xufVxuLyoqXG4gKiBVcGRhdGUgc3R5bGUgYmluZGluZ3MgdXNpbmcgYW4gb2JqZWN0IGxpdGVyYWwgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGFwcGx5IHN0eWxpbmcgdmlhIHRoZSBgW3N0eWxlXT1cImV4cFwiYCB0ZW1wbGF0ZSBiaW5kaW5ncy5cbiAqIFdoZW4gc3R5bGVzIGFyZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IHRoZXkgd2lsbCB0aGVuIGJlIHVwZGF0ZWQgd2l0aCByZXNwZWN0IHRvXG4gKiBhbnkgc3R5bGVzL2NsYXNzZXMgc2V0IHZpYSBgc3R5bGVQcm9wYC4gSWYgYW55IHN0eWxlcyBhcmUgc2V0IHRvIGZhbHN5XG4gKiB0aGVuIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIHdpbGwgbm90IGJlIGFwcGxpZWQgdW50aWwgYHN0eWxpbmdBcHBseWAgaXMgY2FsbGVkLlxuICpcbiAqIEBwYXJhbSBzdHlsZXMgQSBrZXkvdmFsdWUgc3R5bGUgbWFwIG9mIHRoZSBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiAgICAgICAgQW55IG1pc3Npbmcgc3R5bGVzICh0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYmVmb3JlaGFuZCkgd2lsbCBiZVxuICogICAgICAgIHJlbW92ZWQgKHVuc2V0KSBmcm9tIHRoZSBlbGVtZW50J3Mgc3R5bGluZy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIGFwcGx5IHRoZSBwcm92aWRlZCBzdHlsZU1hcCB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb25cbiAqIGlzIGNhbGxlZCB3aXRoaW4gYSBob3N0IGJpbmRpbmcuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwKHN0eWxlcykge1xuICAgIGNoZWNrU3R5bGluZ01hcChzdHlsZUtleVZhbHVlQXJyYXlTZXQsIHN0eWxlU3RyaW5nUGFyc2VyLCBzdHlsZXMsIGZhbHNlKTtcbn1cbi8qKlxuICogUGFyc2UgdGV4dCBhcyBzdHlsZSBhbmQgYWRkIHZhbHVlcyB0byBLZXlWYWx1ZUFycmF5LlxuICpcbiAqIFRoaXMgY29kZSBpcyBwdWxsZWQgb3V0IHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gYXdheSBpZiBpdCBpcyBub3RcbiAqIG5lZWRlZC4gSXQgaXMgb25seSByZWZlcmVuY2VkIGZyb20gYMm1ybVzdHlsZU1hcGAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgS2V5VmFsdWVBcnJheSB0byBhZGQgcGFyc2VkIHZhbHVlcyB0by5cbiAqIEBwYXJhbSB0ZXh0IHRleHQgdG8gcGFyc2UuXG4gKi9cbmZ1bmN0aW9uIHN0eWxlU3RyaW5nUGFyc2VyKGtleVZhbHVlQXJyYXksIHRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gcGFyc2VTdHlsZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VTdHlsZU5leHQodGV4dCwgaSkpIHtcbiAgICAgICAgc3R5bGVLZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGdldExhc3RQYXJzZWRLZXkodGV4dCksIGdldExhc3RQYXJzZWRWYWx1ZSh0ZXh0KSk7XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGUgY2xhc3MgYmluZGluZ3MgdXNpbmcgYW4gb2JqZWN0IGxpdGVyYWwgb3IgY2xhc3Mtc3RyaW5nIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBtZWFudCB0byBhcHBseSBzdHlsaW5nIHZpYSB0aGUgYFtjbGFzc109XCJleHBcImAgdGVtcGxhdGUgYmluZGluZ3MuXG4gKiBXaGVuIGNsYXNzZXMgYXJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgdGhleSB3aWxsIHRoZW4gYmUgdXBkYXRlZCB3aXRoXG4gKiByZXNwZWN0IHRvIGFueSBzdHlsZXMvY2xhc3NlcyBzZXQgdmlhIGBjbGFzc1Byb3BgLiBJZiBhbnlcbiAqIGNsYXNzZXMgYXJlIHNldCB0byBmYWxzeSB0aGVuIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIHdpbGwgbm90IGJlIGFwcGxpZWQgdW50aWwgYHN0eWxpbmdBcHBseWAgaXMgY2FsbGVkLlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCB0aGUgcHJvdmlkZWQgY2xhc3NNYXAgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICogd2l0aGluIGEgaG9zdCBiaW5kaW5nLlxuICpcbiAqIEBwYXJhbSBjbGFzc2VzIEEga2V5L3ZhbHVlIG1hcCBvciBzdHJpbmcgb2YgQ1NTIGNsYXNzZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICogICAgICAgIGdpdmVuIGVsZW1lbnQuIEFueSBtaXNzaW5nIGNsYXNzZXMgKHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICogICAgICAgIGJlZm9yZWhhbmQpIHdpbGwgYmUgcmVtb3ZlZCAodW5zZXQpIGZyb20gdGhlIGVsZW1lbnQncyBsaXN0IG9mIENTUyBjbGFzc2VzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcChjbGFzc2VzKSB7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBjbGFzc2VzLCB0cnVlKTtcbn1cbi8qKlxuICogUGFyc2UgdGV4dCBhcyBjbGFzcyBhbmQgYWRkIHZhbHVlcyB0byBLZXlWYWx1ZUFycmF5LlxuICpcbiAqIFRoaXMgY29kZSBpcyBwdWxsZWQgb3V0IHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gYXdheSBpZiBpdCBpcyBub3RcbiAqIG5lZWRlZC4gSXQgaXMgb25seSByZWZlcmVuY2VkIGZyb20gYMm1ybVjbGFzc01hcGAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgS2V5VmFsdWVBcnJheSB0byBhZGQgcGFyc2VkIHZhbHVlcyB0by5cbiAqIEBwYXJhbSB0ZXh0IHRleHQgdG8gcGFyc2UuXG4gKi9cbmZ1bmN0aW9uIGNsYXNzU3RyaW5nUGFyc2VyKGtleVZhbHVlQXJyYXksIHRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gcGFyc2VDbGFzc05hbWUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpKSkge1xuICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGdldExhc3RQYXJzZWRLZXkodGV4dCksIHRydWUpO1xuICAgIH1cbn1cbi8qKlxuICogQ29tbW9uIGNvZGUgYmV0d2VlbiBgybXJtWNsYXNzUHJvcGAgYW5kIGDJtcm1c3R5bGVQcm9wYC5cbiAqXG4gKiBAcGFyYW0gcHJvcCBwcm9wZXJ0eSBuYW1lLlxuICogQHBhcmFtIHZhbHVlIGJpbmRpbmcgdmFsdWUuXG4gKiBAcGFyYW0gc3VmZml4IHN1ZmZpeCBmb3IgdGhlIHByb3BlcnR5IChlLmcuIGBlbWAgb3IgYHB4YClcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgY2hhbmdlIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIHZhbHVlLCBzdWZmaXgsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgLy8gU3R5bGluZyBpbnN0cnVjdGlvbnMgdXNlIDIgc2xvdHMgcGVyIGJpbmRpbmcuXG4gICAgLy8gMS4gb25lIGZvciB0aGUgdmFsdWUgLyBUU3R5bGluZ0tleVxuICAgIC8vIDIuIG9uZSBmb3IgdGhlIGludGVybWl0dGVudC12YWx1ZSAvIFRTdHlsaW5nUmFuZ2VcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoMik7XG4gICAgaWYgKHRWaWV3LmZpcnN0VXBkYXRlUGFzcykge1xuICAgICAgICBzdHlsaW5nRmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBwcm9wLCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gTk9fQ0hBTkdFICYmIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbZ2V0U2VsZWN0ZWRJbmRleCgpXTtcbiAgICAgICAgdXBkYXRlU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIHByb3AsIGxWaWV3W2JpbmRpbmdJbmRleCArIDFdID0gbm9ybWFsaXplU3VmZml4KHZhbHVlLCBzdWZmaXgpLCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBDb21tb24gY29kZSBiZXR3ZWVuIGDJtcm1Y2xhc3NNYXBgIGFuZCBgybXJtXN0eWxlTWFwYC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheVNldCAoU2VlIGBrZXlWYWx1ZUFycmF5U2V0YCBpbiBcInV0aWwvYXJyYXlfdXRpbHNcIikgR2V0cyBwYXNzZWQgaW4gYXMgYVxuICogICAgICAgIGZ1bmN0aW9uIHNvIHRoYXQgYHN0eWxlYCBjYW4gYmUgcHJvY2Vzc2VkLiBUaGlzIGlzIGRvbmUgZm9yIHRyZWUgc2hha2luZyBwdXJwb3Nlcy5cbiAqIEBwYXJhbSBzdHJpbmdQYXJzZXIgUGFyc2VyIHVzZWQgdG8gcGFyc2UgYHZhbHVlYCBpZiBgc3RyaW5nYC4gKFBhc3NlZCBpbiBhcyBgc3R5bGVgIGFuZCBgY2xhc3NgXG4gKiAgICAgICAgaGF2ZSBkaWZmZXJlbnQgcGFyc2Vycy4pXG4gKiBAcGFyYW0gdmFsdWUgYm91bmQgdmFsdWUgZnJvbSBhcHBsaWNhdGlvblxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCBjaGFuZ2UgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIHN0cmluZ1BhcnNlciwgdmFsdWUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoMik7XG4gICAgaWYgKHRWaWV3LmZpcnN0VXBkYXRlUGFzcykge1xuICAgICAgICBzdHlsaW5nRmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBudWxsLCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBpZiAodmFsdWUgIT09IE5PX0NIQU5HRSAmJiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgLy8gYGdldFNlbGVjdGVkSW5kZXgoKWAgc2hvdWxkIGJlIGhlcmUgKHJhdGhlciB0aGFuIGluIGluc3RydWN0aW9uKSBzbyB0aGF0IGl0IGlzIGd1YXJkZWQgYnkgdGhlXG4gICAgICAgIC8vIGlmIHNvIGFzIG5vdCB0byByZWFkIHVubmVjZXNzYXJpbHkuXG4gICAgICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtnZXRTZWxlY3RlZEluZGV4KCldO1xuICAgICAgICBpZiAoaGFzU3R5bGluZ0lucHV0U2hhZG93KHROb2RlLCBpc0NsYXNzQmFzZWQpICYmICFpc0luSG9zdEJpbmRpbmdzKHRWaWV3LCBiaW5kaW5nSW5kZXgpKSB7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHRoYXQgaWYgd2UgYXJlIHNoYWRvd2luZyB0aGVuIGBURGF0YWAgaXMgYXBwcm9wcmlhdGVseSBtYXJrZWQgc28gdGhhdCB3ZSBza2lwXG4gICAgICAgICAgICAgICAgLy8gcHJvY2Vzc2luZyB0aGlzIGJpbmRpbmcgaW4gc3R5bGluZyByZXNvbHV0aW9uLlxuICAgICAgICAgICAgICAgIGNvbnN0IHRTdHlsaW5nS2V5ID0gdFZpZXcuZGF0YVtiaW5kaW5nSW5kZXhdO1xuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXkpID8gdFN0eWxpbmdLZXlbMV0gOiB0U3R5bGluZ0tleSwgZmFsc2UsICdTdHlsaW5nIGxpbmtlZCBsaXN0IHNoYWRvdyBpbnB1dCBzaG91bGQgYmUgbWFya2VkIGFzIFxcJ2ZhbHNlXFwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBWRSBkb2VzIG5vdCBjb25jYXRlbmF0ZSB0aGUgc3RhdGljIHBvcnRpb24gbGlrZSB3ZSBhcmUgZG9pbmcgaGVyZS5cbiAgICAgICAgICAgIC8vIEluc3RlYWQgVkUganVzdCBpZ25vcmVzIHRoZSBzdGF0aWMgY29tcGxldGVseSBpZiBkeW5hbWljIGJpbmRpbmcgaXMgcHJlc2VudC5cbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgbG9jYWxpdHkgd2UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgc3RhdGljIHBvcnRpb24gYmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIHRoZXJlXG4gICAgICAgICAgICAvLyBpcyBhIGR5bmFtaWMgcG9ydGlvbiB1bnRpbCBsYXRlci4gSWYgd2Ugd291bGQgaWdub3JlIHRoZSBzdGF0aWMgcG9ydGlvbiBpdCB3b3VsZCBsb29rIGxpa2VcbiAgICAgICAgICAgIC8vIHRoZSBiaW5kaW5nIGhhcyByZW1vdmVkIGl0LiBUaGlzIHdvdWxkIGNvbmZ1c2UgYFtuZ1N0eWxlXWAvYFtuZ0NsYXNzXWAgdG8gZG8gdGhlIHdyb25nXG4gICAgICAgICAgICAvLyB0aGluZyBhcyBpdCB3b3VsZCB0aGluayB0aGF0IHRoZSBzdGF0aWMgcG9ydGlvbiB3YXMgcmVtb3ZlZC4gRm9yIHRoaXMgcmVhc29uIHdlXG4gICAgICAgICAgICAvLyBjb25jYXRlbmF0ZSBpdCBzbyB0aGF0IGBbbmdTdHlsZV1gL2BbbmdDbGFzc11gICBjYW4gY29udGludWUgdG8gd29yayBvbiBjaGFuZ2VkLlxuICAgICAgICAgICAgbGV0IHN0YXRpY1ByZWZpeCA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzZXNXaXRob3V0SG9zdCA6IHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0O1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGlzQ2xhc3NCYXNlZCA9PT0gZmFsc2UgJiYgc3RhdGljUHJlZml4ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoc3RhdGljUHJlZml4LmVuZHNXaXRoKCc7JyksIHRydWUsICdFeHBlY3Rpbmcgc3RhdGljIHBvcnRpb24gdG8gZW5kIHdpdGggXFwnO1xcJycpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1ByZWZpeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgZmFsc3kgdmFsdWVzIG9mIGB2YWx1ZWAgYmVjb21lIGVtcHR5IHN0cmluZ3MuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb25jYXRTdHJpbmdzV2l0aFNwYWNlKHN0YXRpY1ByZWZpeCwgdmFsdWUgPyB2YWx1ZSA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdpdmVuIGA8ZGl2IFtzdHlsZV0gbXktZGlyPmAgc3VjaCB0aGF0IGBteS1kaXJgIGhhcyBgQElucHV0KCdzdHlsZScpYC5cbiAgICAgICAgICAgIC8vIFRoaXMgdGFrZXMgb3ZlciB0aGUgYFtzdHlsZV1gIGJpbmRpbmcuIChTYW1lIGZvciBgW2NsYXNzXWApXG4gICAgICAgICAgICBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHZhbHVlLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlU3R5bGluZ01hcCh0VmlldywgdE5vZGUsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIGxWaWV3W2JpbmRpbmdJbmRleCArIDFdLCBsVmlld1tiaW5kaW5nSW5kZXggKyAxXSA9IHRvU3R5bGluZ0tleVZhbHVlQXJyYXkoa2V5VmFsdWVBcnJheVNldCwgc3RyaW5nUGFyc2VyLCB2YWx1ZSksIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGVuIHRoZSBiaW5kaW5nIGlzIGluIGBob3N0QmluZGluZ3NgIHNlY3Rpb25cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IGluZGV4IG9mIGJpbmRpbmcgd2hpY2ggd2Ugd291bGQgbGlrZSBpZiBpdCBpcyBpbiBgaG9zdEJpbmRpbmdzYFxuICovXG5mdW5jdGlvbiBpc0luSG9zdEJpbmRpbmdzKHRWaWV3LCBiaW5kaW5nSW5kZXgpIHtcbiAgICAvLyBBbGwgaG9zdCBiaW5kaW5ncyBhcmUgcGxhY2VkIGFmdGVyIHRoZSBleHBhbmRvIHNlY3Rpb24uXG4gICAgcmV0dXJuIGJpbmRpbmdJbmRleCA+PSB0Vmlldy5leHBhbmRvU3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29sbGVjdHMgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBpbnNlcnQgdGhlIGJpbmRpbmcgaW50byBhIGxpbmtlZCBsaXN0IG9mIHN0eWxlIGJpbmRpbmdzXG4gKiB1c2luZyBgaW5zZXJ0VFN0eWxpbmdCaW5kaW5nYC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCB3aGVyZSB0aGUgYmluZGluZyBsaW5rZWQgbGlzdCB3aWxsIGJlIHN0b3JlZC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBQcm9wZXJ0eS9rZXkgb2YgdGhlIGJpbmRpbmcuXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IEluZGV4IG9mIGJpbmRpbmcgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvcGBcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgY2hhbmdlIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIHN0eWxpbmdGaXJzdFVwZGF0ZVBhc3ModFZpZXcsIHRTdHlsaW5nS2V5LCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdFVwZGF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IHREYXRhID0gdFZpZXcuZGF0YTtcbiAgICBpZiAodERhdGFbYmluZGluZ0luZGV4ICsgMV0gPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGFib3ZlIGNoZWNrIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGRvbid0IGNsZWFyIGZpcnN0IHVwZGF0ZSBwYXNzIHVudGlsIGZpcnN0IHN1Y2Nlc3NmdWxcbiAgICAgICAgLy8gKG5vIGV4Y2VwdGlvbikgdGVtcGxhdGUgZXhlY3V0aW9uLiBUaGlzIHByZXZlbnRzIHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIGZyb20gZG91YmxlIGFkZGluZ1xuICAgICAgICAvLyBpdHNlbGYgdG8gdGhlIGxpc3QuXG4gICAgICAgIC8vIGBnZXRTZWxlY3RlZEluZGV4KClgIHNob3VsZCBiZSBoZXJlIChyYXRoZXIgdGhhbiBpbiBpbnN0cnVjdGlvbikgc28gdGhhdCBpdCBpcyBndWFyZGVkIGJ5IHRoZVxuICAgICAgICAvLyBpZiBzbyBhcyBub3QgdG8gcmVhZCB1bm5lY2Vzc2FyaWx5LlxuICAgICAgICBjb25zdCB0Tm9kZSA9IHREYXRhW2dldFNlbGVjdGVkSW5kZXgoKV07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgZXhwZWN0ZWQnKTtcbiAgICAgICAgY29uc3QgaXNIb3N0QmluZGluZ3MgPSBpc0luSG9zdEJpbmRpbmdzKHRWaWV3LCBiaW5kaW5nSW5kZXgpO1xuICAgICAgICBpZiAoaGFzU3R5bGluZ0lucHV0U2hhZG93KHROb2RlLCBpc0NsYXNzQmFzZWQpICYmIHRTdHlsaW5nS2V5ID09PSBudWxsICYmICFpc0hvc3RCaW5kaW5ncykge1xuICAgICAgICAgICAgLy8gYHRTdHlsaW5nS2V5ID09PSBudWxsYCBpbXBsaWVzIHRoYXQgd2UgYXJlIGVpdGhlciBgW3N0eWxlXWAgb3IgYFtjbGFzc11gIGJpbmRpbmcuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGRpcmVjdGl2ZSB3aGljaCB1c2VzIGBASW5wdXQoJ3N0eWxlJylgIG9yIGBASW5wdXQoJ2NsYXNzJylgIHRoYW5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gbmV1dHJhbGl6ZSB0aGlzIGJpbmRpbmcgc2luY2UgdGhhdCBkaXJlY3RpdmUgaXMgc2hhZG93aW5nIGl0LlxuICAgICAgICAgICAgLy8gV2UgdHVybiB0aGlzIGludG8gYSBub29wIGJ5IHNldHRpbmcgdGhlIGtleSB0byBgZmFsc2VgXG4gICAgICAgICAgICB0U3R5bGluZ0tleSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRTdHlsaW5nS2V5ID0gd3JhcEluU3RhdGljU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIHRTdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICBpbnNlcnRUU3R5bGluZ0JpbmRpbmcodERhdGEsIHROb2RlLCB0U3R5bGluZ0tleSwgYmluZGluZ0luZGV4LCBpc0hvc3RCaW5kaW5ncywgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZHMgc3RhdGljIHN0eWxpbmcgaW5mb3JtYXRpb24gdG8gdGhlIGJpbmRpbmcgaWYgYXBwbGljYWJsZS5cbiAqXG4gKiBUaGUgbGlua2VkIGxpc3Qgb2Ygc3R5bGVzIG5vdCBvbmx5IHN0b3JlcyB0aGUgbGlzdCBhbmQga2V5cywgYnV0IGFsc28gc3RvcmVzIHN0YXRpYyBzdHlsaW5nXG4gKiBpbmZvcm1hdGlvbiBvbiBzb21lIG9mIHRoZSBrZXlzLiBUaGlzIGZ1bmN0aW9uIGRldGVybWluZXMgaWYgdGhlIGtleSBzaG91bGQgY29udGFpbiB0aGUgc3R5bGluZ1xuICogaW5mb3JtYXRpb24gYW5kIGNvbXB1dGVzIGl0LlxuICpcbiAqIFNlZSBgVFN0eWxpbmdTdGF0aWNgIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBzdHlsaW5nS2V5IGBUU3R5bGluZ0tleVByaW1pdGl2ZWAgd2hpY2ggbWF5IG5lZWQgdG8gYmUgd3JhcHBlZCBpbnRvIGBUU3R5bGluZ0tleWBcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gd3JhcEluU3RhdGljU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIHN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGhvc3REaXJlY3RpdmVEZWYgPSBnZXRDdXJyZW50RGlyZWN0aXZlRGVmKHREYXRhKTtcbiAgICBsZXQgcmVzaWR1YWwgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5yZXNpZHVhbENsYXNzZXMgOiB0Tm9kZS5yZXNpZHVhbFN0eWxlcztcbiAgICBpZiAoaG9zdERpcmVjdGl2ZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBhcmUgaW4gdGVtcGxhdGUgbm9kZS5cbiAgICAgICAgLy8gSWYgdGVtcGxhdGUgbm9kZSBhbHJlYWR5IGhhZCBzdHlsaW5nIGluc3RydWN0aW9uIHRoZW4gaXQgaGFzIGFscmVhZHkgY29sbGVjdGVkIHRoZSBzdGF0aWNcbiAgICAgICAgLy8gc3R5bGluZyBhbmQgdGhlcmUgaXMgbm8gbmVlZCB0byBjb2xsZWN0IHRoZW0gYWdhaW4uIFdlIGtub3cgdGhhdCB3ZSBhcmUgdGhlIGZpcnN0IHN0eWxpbmdcbiAgICAgICAgLy8gaW5zdHJ1Y3Rpb24gYmVjYXVzZSB0aGUgYFROb2RlLipCaW5kaW5nc2AgcG9pbnRzIHRvIDAgKG5vdGhpbmcgaGFzIGJlZW4gaW5zZXJ0ZWQgeWV0KS5cbiAgICAgICAgY29uc3QgaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluVGVtcGxhdGUgPSAoaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3MpID09PSAwO1xuICAgICAgICBpZiAoaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIC8vIEl0IHdvdWxkIGJlIG5pY2UgdG8gYmUgYWJsZSB0byBnZXQgdGhlIHN0YXRpY3MgZnJvbSBgbWVyZ2VBdHRyc2AsIGhvd2V2ZXIsIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgIC8vIHRoZXkgYXJlIGFscmVhZHkgbWVyZ2VkIGFuZCBpdCB3b3VsZCBub3QgYmUgcG9zc2libGUgdG8gZmlndXJlIHdoaWNoIHByb3BlcnR5IGJlbG9uZ3Mgd2hlcmVcbiAgICAgICAgICAgIC8vIGluIHRoZSBwcmlvcml0eS5cbiAgICAgICAgICAgIHN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKG51bGwsIHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIHN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMoc3R5bGluZ0tleSwgdE5vZGUuYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHRoYXQgaWYgd2UgaGF2ZSBzdHlsaW5nIGJpbmRpbmcgaW4gdGVtcGxhdGUgd2UgY2FuJ3QgaGF2ZSByZXNpZHVhbC5cbiAgICAgICAgICAgIHJlc2lkdWFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2UgYXJlIGluIGhvc3QgYmluZGluZyBub2RlIGFuZCB0aGVyZSB3YXMgbm8gYmluZGluZyBpbnN0cnVjdGlvbiBpbiB0ZW1wbGF0ZSBub2RlLlxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgd2UgbmVlZCB0byBjb21wdXRlIHRoZSByZXNpZHVhbC5cbiAgICAgICAgY29uc3QgZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtcbiAgICAgICAgY29uc3QgaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluSG9zdEJpbmRpbmcgPSBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9PT0gLTEgfHwgdERhdGFbZGlyZWN0aXZlU3R5bGluZ0xhc3RdICE9PSBob3N0RGlyZWN0aXZlRGVmO1xuICAgICAgICBpZiAoaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluSG9zdEJpbmRpbmcpIHtcbiAgICAgICAgICAgIHN0eWxpbmdLZXkgPVxuICAgICAgICAgICAgICAgIGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMoaG9zdERpcmVjdGl2ZURlZiwgdERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgaWYgKHJlc2lkdWFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gLSBJZiBgbnVsbGAgdGhhbiBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy8gICAgLSBUZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9uIGFscmVhZHkgcmFuIGFuZCBpdCBoYXMgY29uc3VtZWQgdGhlIHN0YXRpY1xuICAgICAgICAgICAgICAgIC8vICAgICAgc3R5bGluZyBpbnRvIGl0cyBgVFN0eWxpbmdLZXlgIGFuZCBzbyB0aGVyZSBpcyBubyBuZWVkIHRvIHVwZGF0ZSByZXNpZHVhbC4gSW5zdGVhZFxuICAgICAgICAgICAgICAgIC8vICAgICAgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGBUU3R5bGluZ0tleWAgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaXJzdCB0ZW1wbGF0ZSBub2RlXG4gICAgICAgICAgICAgICAgLy8gICAgICBpbnN0cnVjdGlvbi4gT1JcbiAgICAgICAgICAgICAgICAvLyAgICAtIFNvbWUgb3RoZXIgc3R5bGluZyBpbnN0cnVjdGlvbiByYW4gYW5kIGRldGVybWluZWQgdGhhdCB0aGVyZSBhcmUgbm8gcmVzaWR1YWxzXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBsYXRlU3R5bGluZ0tleSA9IGdldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVTdHlsaW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgQXJyYXkuaXNBcnJheSh0ZW1wbGF0ZVN0eWxpbmdLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVjb21wdXRlIGlmIGB0ZW1wbGF0ZVN0eWxpbmdLZXlgIGhhZCBzdGF0aWMgdmFsdWVzLiAoSWYgbm8gc3RhdGljIHZhbHVlIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gdGhlcmUgaXMgbm90aGluZyB0byBkbyBzaW5jZSB0aGlzIG9wZXJhdGlvbiBjYW4gb25seSBwcm9kdWNlIGxlc3Mgc3RhdGljIGtleXMsIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBtb3JlLilcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVTdHlsaW5nS2V5ID0gY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyhudWxsLCB0RGF0YSwgdE5vZGUsIHRlbXBsYXRlU3R5bGluZ0tleVsxXSAvKiB1bndyYXAgcHJldmlvdXMgc3RhdGljcyAqLywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVTdHlsaW5nS2V5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyh0ZW1wbGF0ZVN0eWxpbmdLZXksIHROb2RlLmF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCwgdGVtcGxhdGVTdHlsaW5nS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IG5lZWQgdG8gcmVjb21wdXRlIHJlc2lkdWFsIGlmIGl0IGlzIG5vdCBgbnVsbGAuXG4gICAgICAgICAgICAgICAgLy8gLSBJZiBleGlzdGluZyByZXNpZHVhbCAoaW1wbGllcyB0aGVyZSB3YXMgbm8gdGVtcGxhdGUgc3R5bGluZykuIFRoaXMgbWVhbnMgdGhhdCBzb21lIG9mXG4gICAgICAgICAgICAgICAgLy8gICB0aGUgc3RhdGljcyBtYXkgaGF2ZSBtb3ZlZCBmcm9tIHRoZSByZXNpZHVhbCB0byB0aGUgYHN0eWxpbmdLZXlgIGFuZCBzbyB3ZSBoYXZlIHRvXG4gICAgICAgICAgICAgICAgLy8gICByZWNvbXB1dGUuXG4gICAgICAgICAgICAgICAgLy8gLSBJZiBgdW5kZWZpbmVkYCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBydW5uaW5nLlxuICAgICAgICAgICAgICAgIHJlc2lkdWFsID0gY29sbGVjdFJlc2lkdWFsKHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzaWR1YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpc0NsYXNzQmFzZWQgPyAodE5vZGUucmVzaWR1YWxDbGFzc2VzID0gcmVzaWR1YWwpIDogKHROb2RlLnJlc2lkdWFsU3R5bGVzID0gcmVzaWR1YWwpO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGluZ0tleTtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIGBUU3R5bGluZ0tleWAgZm9yIHRoZSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9uLlxuICpcbiAqIFRoaXMgaXMgbmVlZGVkIHNpbmNlIGBob3N0QmluZGluZ2Agc3R5bGluZyBpbnN0cnVjdGlvbnMgYXJlIGluc2VydGVkIGFmdGVyIHRoZSB0ZW1wbGF0ZVxuICogaW5zdHJ1Y3Rpb24uIFdoaWxlIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBuZWVkcyB0byB1cGRhdGUgdGhlIHJlc2lkdWFsIGluIGBUTm9kZWAgdGhlXG4gKiBgaG9zdEJpbmRpbmdgIGluc3RydWN0aW9ucyBuZWVkIHRvIHVwZGF0ZSB0aGUgYFRTdHlsaW5nS2V5YCBvZiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gYmVjYXVzZVxuICogdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIGlzIGRvd25zdHJlYW0gZnJvbSB0aGUgYGhvc3RCaW5kaW5nc2AgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3Igd2hpY2ggdGhlIHN0eWxpbmcgaXMgYmVpbmcgY29tcHV0ZWQuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKiBAcmV0dXJuIGBUU3R5bGluZ0tleWAgaWYgZm91bmQgb3IgYHVuZGVmaW5lZGAgaWYgbm90IGZvdW5kLlxuICovXG5mdW5jdGlvbiBnZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGJpbmRpbmdzID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgaWYgKGdldFRTdHlsaW5nUmFuZ2VOZXh0KGJpbmRpbmdzKSA9PT0gMCkge1xuICAgICAgICAvLyBUaGVyZSBkb2VzIG5vdCBzZWVtIHRvIGJlIGEgc3R5bGluZyBpbnN0cnVjdGlvbiBpbiB0aGUgYHRlbXBsYXRlYC5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHREYXRhW2dldFRTdHlsaW5nUmFuZ2VQcmV2KGJpbmRpbmdzKV07XG59XG4vKipcbiAqIFVwZGF0ZSB0aGUgYFRTdHlsaW5nS2V5YCBvZiB0aGUgZmlyc3QgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gaW4gYFROb2RlYC5cbiAqXG4gKiBMb2dpY2FsbHkgYGhvc3RCaW5kaW5nc2Agc3R5bGluZyBpbnN0cnVjdGlvbnMgYXJlIG9mIGxvd2VyIHByaW9yaXR5IHRoYW4gdGhhdCBvZiB0aGUgdGVtcGxhdGUuXG4gKiBIb3dldmVyLCB0aGV5IGV4ZWN1dGUgYWZ0ZXIgdGhlIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zLiBUaGlzIG1lYW5zIHRoYXQgdGhleSBnZXQgaW5zZXJ0ZWRcbiAqIGluIGZyb250IG9mIHRoZSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9ucy5cbiAqXG4gKiBJZiB3ZSBoYXZlIGEgdGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbiBhbmQgYSBuZXcgYGhvc3RCaW5kaW5nc2Agc3R5bGluZyBpbnN0cnVjdGlvbiBpc1xuICogZXhlY3V0ZWQgaXQgbWVhbnMgdGhhdCBpdCBtYXkgbmVlZCB0byBzdGVhbCBzdGF0aWMgZmllbGRzIGZyb20gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uLiBUaGlzXG4gKiBtZXRob2QgYWxsb3dzIHVzIHRvIHVwZGF0ZSB0aGUgZmlyc3QgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gYFRTdHlsaW5nS2V5YCB3aXRoIGEgbmV3IHZhbHVlLlxuICpcbiAqIEFzc3VtZTpcbiAqIGBgYFxuICogPGRpdiBteS1kaXIgc3R5bGU9XCJjb2xvcjogcmVkXCIgW3N0eWxlLmNvbG9yXT1cInRtcGxFeHBcIj48L2Rpdj5cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgaG9zdDoge1xuICogICAgICdzdHlsZSc6ICd3aWR0aDogMTAwcHgnLFxuICogICAgICdbc3R5bGUuY29sb3JdJzogJ2RpckV4cCcsXG4gKiAgIH1cbiAqIH0pXG4gKiBjbGFzcyBNeURpciB7fVxuICogYGBgXG4gKlxuICogd2hlbiBgW3N0eWxlLmNvbG9yXT1cInRtcGxFeHBcImAgZXhlY3V0ZXMgaXQgY3JlYXRlcyB0aGlzIGRhdGEgc3RydWN0dXJlLlxuICogYGBgXG4gKiAgWycnLCAnY29sb3InLCAnY29sb3InLCAncmVkJywgJ3dpZHRoJywgJzEwMHB4J10sXG4gKiBgYGBcbiAqXG4gKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIGRvZXMgbm90IGtub3cgaWYgdGhlcmUgYXJlIHN0eWxpbmdcbiAqIGluc3RydWN0aW9ucyBhbmQgbXVzdCBhc3N1bWUgdGhhdCB0aGVyZSBhcmUgbm9uZSBhbmQgbXVzdCBjb2xsZWN0IGFsbCBvZiB0aGUgc3RhdGljIHN0eWxpbmcuXG4gKiAoYm90aFxuICogYGNvbG9yJyBhbmQgJ3dpZHRoYClcbiAqXG4gKiBXaGVuIGAnW3N0eWxlLmNvbG9yXSc6ICdkaXJFeHAnLGAgZXhlY3V0ZXMgd2UgbmVlZCB0byBpbnNlcnQgYSBuZXcgZGF0YSBpbnRvIHRoZSBsaW5rZWQgbGlzdC5cbiAqIGBgYFxuICogIFsnJywgJ2NvbG9yJywgJ3dpZHRoJywgJzEwMHB4J10sICAvLyBuZXdseSBpbnNlcnRlZFxuICogIFsnJywgJ2NvbG9yJywgJ2NvbG9yJywgJ3JlZCcsICd3aWR0aCcsICcxMDBweCddLCAvLyB0aGlzIGlzIHdyb25nXG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgdGVtcGxhdGUgc3RhdGljcyBpcyBub3cgd3JvbmcgYXMgaXQgaW5jb3JyZWN0bHkgY29udGFpbnMgYHdpZHRoYCBzbyB3ZSBuZWVkIHRvXG4gKiB1cGRhdGUgaXQgbGlrZSBzbzpcbiAqIGBgYFxuICogIFsnJywgJ2NvbG9yJywgJ3dpZHRoJywgJzEwMHB4J10sXG4gKiAgWycnLCAnY29sb3InLCAnY29sb3InLCAncmVkJ10sICAgIC8vIFVQREFURVxuICogYGBgXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBOZXcgYFRTdHlsaW5nS2V5YCB3aGljaCBpcyByZXBsYWNpbmcgdGhlIG9sZCBvbmUuXG4gKi9cbmZ1bmN0aW9uIHNldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkLCB0U3R5bGluZ0tleSkge1xuICAgIGNvbnN0IGJpbmRpbmdzID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGdldFRTdHlsaW5nUmFuZ2VOZXh0KGJpbmRpbmdzKSwgMCwgJ0V4cGVjdGluZyB0byBoYXZlIGF0IGxlYXN0IG9uZSB0ZW1wbGF0ZSBzdHlsaW5nIGJpbmRpbmcuJyk7XG4gICAgdERhdGFbZ2V0VFN0eWxpbmdSYW5nZVByZXYoYmluZGluZ3MpXSA9IHRTdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBDb2xsZWN0IGFsbCBzdGF0aWMgdmFsdWVzIGFmdGVyIHRoZSBjdXJyZW50IGBUTm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdGAgaW5kZXguXG4gKlxuICogQ29sbGVjdCB0aGUgcmVtYWluaW5nIHN0eWxpbmcgaW5mb3JtYXRpb24gd2hpY2ggaGFzIG5vdCB5ZXQgYmVlbiBjb2xsZWN0ZWQgYnkgYW4gZXhpc3RpbmdcbiAqIHN0eWxpbmcgaW5zdHJ1Y3Rpb24uXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGBEaXJlY3RpdmVEZWZzYCBhcmUgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hpY2ggY29udGFpbnMgdGhlIGRpcmVjdGl2ZSByYW5nZS5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFJlc2lkdWFsKHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgbGV0IHJlc2lkdWFsID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwodE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3QsIC0xLCAnQnkgdGhlIHRpbWUgdGhpcyBmdW5jdGlvbiBnZXRzIGNhbGxlZCBhdCBsZWFzdCBvbmUgaG9zdEJpbmRpbmdzLW5vZGUgc3R5bGluZyBpbnN0cnVjdGlvbiBtdXN0IGhhdmUgZXhlY3V0ZWQuJyk7XG4gICAgLy8gV2UgYWRkIGAxICsgdE5vZGUuZGlyZWN0aXZlU3RhcnRgIGJlY2F1c2Ugd2UgbmVlZCB0byBza2lwIHRoZSBjdXJyZW50IGRpcmVjdGl2ZSAoYXMgd2UgYXJlXG4gICAgLy8gY29sbGVjdGluZyB0aGluZ3MgYWZ0ZXIgdGhlIGxhc3QgYGhvc3RCaW5kaW5nc2AgZGlyZWN0aXZlIHdoaWNoIGhhZCBhIHN0eWxpbmcgaW5zdHJ1Y3Rpb24uKVxuICAgIGZvciAobGV0IGkgPSAxICsgdE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7IGkgPCBkaXJlY3RpdmVFbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBhdHRycyA9IHREYXRhW2ldLmhvc3RBdHRycztcbiAgICAgICAgcmVzaWR1YWwgPSBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMocmVzaWR1YWwsIGF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHJlc2lkdWFsLCB0Tm9kZS5hdHRycywgaXNDbGFzc0Jhc2VkKTtcbn1cbi8qKlxuICogQ29sbGVjdCB0aGUgc3RhdGljIHN0eWxpbmcgaW5mb3JtYXRpb24gd2l0aCBsb3dlciBwcmlvcml0eSB0aGFuIGBob3N0RGlyZWN0aXZlRGVmYC5cbiAqXG4gKiAoVGhpcyBpcyBvcHBvc2l0ZSBvZiByZXNpZHVhbCBzdHlsaW5nLilcbiAqXG4gKiBAcGFyYW0gaG9zdERpcmVjdGl2ZURlZiBgRGlyZWN0aXZlRGVmYCBmb3Igd2hpY2ggd2Ugd2FudCB0byBjb2xsZWN0IGxvd2VyIHByaW9yaXR5IHN0YXRpY1xuICogICAgICAgIHN0eWxpbmcuIChPciBgbnVsbGAgaWYgdGVtcGxhdGUgc3R5bGluZylcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3Igd2hpY2ggdGhlIHN0eWxpbmcgaXMgYmVpbmcgY29tcHV0ZWQuXG4gKiBAcGFyYW0gc3R5bGluZ0tleSBFeGlzdGluZyBgVFN0eWxpbmdLZXlgIHRvIHVwZGF0ZSBvciB3cmFwLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKGhvc3REaXJlY3RpdmVEZWYsIHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgLy8gV2UgbmVlZCB0byBsb29wIGJlY2F1c2UgdGhlcmUgY2FuIGJlIGRpcmVjdGl2ZXMgd2hpY2ggaGF2ZSBgaG9zdEF0dHJzYCBidXQgZG9uJ3QgaGF2ZVxuICAgIC8vIGBob3N0QmluZGluZ3NgIHNvIHRoaXMgbG9vcCBjYXRjaGVzIHVwIHRvIHRoZSBjdXJyZW50IGRpcmVjdGl2ZS4uXG4gICAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPSBudWxsO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBsZXQgZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtcbiAgICBpZiAoZGlyZWN0aXZlU3R5bGluZ0xhc3QgPT09IC0xKSB7XG4gICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCsrO1xuICAgIH1cbiAgICB3aGlsZSAoZGlyZWN0aXZlU3R5bGluZ0xhc3QgPCBkaXJlY3RpdmVFbmQpIHtcbiAgICAgICAgY3VycmVudERpcmVjdGl2ZSA9IHREYXRhW2RpcmVjdGl2ZVN0eWxpbmdMYXN0XTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY3VycmVudERpcmVjdGl2ZSwgJ2V4cGVjdGVkIHRvIGJlIGRlZmluZWQnKTtcbiAgICAgICAgc3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhzdHlsaW5nS2V5LCBjdXJyZW50RGlyZWN0aXZlLmhvc3RBdHRycywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgaWYgKGN1cnJlbnREaXJlY3RpdmUgPT09IGhvc3REaXJlY3RpdmVEZWYpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QrKztcbiAgICB9XG4gICAgaWYgKGhvc3REaXJlY3RpdmVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgLy8gd2Ugb25seSBhZHZhbmNlIHRoZSBzdHlsaW5nIGN1cnNvciBpZiB3ZSBhcmUgY29sbGVjdGluZyBkYXRhIGZyb20gaG9zdCBiaW5kaW5ncy5cbiAgICAgICAgLy8gVGVtcGxhdGUgZXhlY3V0ZXMgYmVmb3JlIGhvc3QgYmluZGluZ3MgYW5kIHNvIGlmIHdlIHdvdWxkIHVwZGF0ZSB0aGUgaW5kZXgsXG4gICAgICAgIC8vIGhvc3QgYmluZGluZ3Mgd291bGQgbm90IGdldCB0aGVpciBzdGF0aWNzLlxuICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdCA9IGRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGluZ0tleTtcbn1cbi8qKlxuICogQ29udmVydCBgVEF0dHJzYCBpbnRvIGBUU3R5bGluZ1N0YXRpY2AuXG4gKlxuICogQHBhcmFtIHN0eWxpbmdLZXkgZXhpc3RpbmcgYFRTdHlsaW5nS2V5YCB0byB1cGRhdGUgb3Igd3JhcC5cbiAqIEBwYXJhbSBhdHRycyBgVEF0dHJpYnV0ZXNgIHRvIHByb2Nlc3MuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhzdHlsaW5nS2V5LCBhdHRycywgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgZGVzaXJlZE1hcmtlciA9IGlzQ2xhc3NCYXNlZCA/IDEgLyogQ2xhc3NlcyAqLyA6IDIgLyogU3R5bGVzICovO1xuICAgIGxldCBjdXJyZW50TWFya2VyID0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovO1xuICAgIGlmIChhdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE1hcmtlciA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1hcmtlciA9PT0gZGVzaXJlZE1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGluZ0tleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxpbmdLZXkgPSBzdHlsaW5nS2V5ID09PSB1bmRlZmluZWQgPyBbXSA6IFsnJywgc3R5bGluZ0tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAga2V5VmFsdWVBcnJheVNldChzdHlsaW5nS2V5LCBpdGVtLCBpc0NsYXNzQmFzZWQgPyB0cnVlIDogYXR0cnNbKytpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsaW5nS2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogc3R5bGluZ0tleTtcbn1cbi8qKlxuICogQ29udmVydCB1c2VyIGlucHV0IHRvIGBLZXlWYWx1ZUFycmF5YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIHVzZXIgaW5wdXQgd2hpY2ggY291bGQgYmUgYHN0cmluZ2AsIE9iamVjdCBsaXRlcmFsLCBvciBpdGVyYWJsZSBhbmQgY29udmVydHNcbiAqIGl0IGludG8gYSBjb25zaXN0ZW50IHJlcHJlc2VudGF0aW9uLiBUaGUgb3V0cHV0IG9mIHRoaXMgaXMgYEtleVZhbHVlQXJyYXlgICh3aGljaCBpcyBhbiBhcnJheVxuICogd2hlcmVcbiAqIGV2ZW4gaW5kZXhlcyBjb250YWluIGtleXMgYW5kIG9kZCBpbmRleGVzIGNvbnRhaW4gdmFsdWVzIGZvciB0aG9zZSBrZXlzKS5cbiAqXG4gKiBUaGUgYWR2YW50YWdlIG9mIGNvbnZlcnRpbmcgdG8gYEtleVZhbHVlQXJyYXlgIGlzIHRoYXQgd2UgY2FuIHBlcmZvcm0gZGlmZiBpbiBhbiBpbnB1dFxuICogaW5kZXBlbmRlbnRcbiAqIHdheS5cbiAqIChpZSB3ZSBjYW4gY29tcGFyZSBgZm9vIGJhcmAgdG8gYFsnYmFyJywgJ2JheiddIGFuZCBkZXRlcm1pbmUgYSBzZXQgb2YgY2hhbmdlcyB3aGljaCBuZWVkIHRvIGJlXG4gKiBhcHBsaWVkKVxuICpcbiAqIFRoZSBmYWN0IHRoYXQgYEtleVZhbHVlQXJyYXlgIGlzIHNvcnRlZCBpcyB2ZXJ5IGltcG9ydGFudCBiZWNhdXNlIGl0IGFsbG93cyB1cyB0byBjb21wdXRlIHRoZVxuICogZGlmZmVyZW5jZSBpbiBsaW5lYXIgZmFzaGlvbiB3aXRob3V0IHRoZSBuZWVkIHRvIGFsbG9jYXRlIGFueSBhZGRpdGlvbmFsIGRhdGEuXG4gKlxuICogRm9yIGV4YW1wbGUgaWYgd2Uga2VwdCB0aGlzIGFzIGEgYE1hcGAgd2Ugd291bGQgaGF2ZSB0byBpdGVyYXRlIG92ZXIgcHJldmlvdXMgYE1hcGAgdG8gZGV0ZXJtaW5lXG4gKiB3aGljaCB2YWx1ZXMgbmVlZCB0byBiZSBkZWxldGVkLCBvdmVyIHRoZSBuZXcgYE1hcGAgdG8gZGV0ZXJtaW5lIGFkZGl0aW9ucywgYW5kIHdlIHdvdWxkIGhhdmUgdG9cbiAqIGtlZXAgYWRkaXRpb25hbCBgTWFwYCB0byBrZWVwIHRyYWNrIG9mIGR1cGxpY2F0ZXMgb3IgaXRlbXMgd2hpY2ggaGF2ZSBub3QgeWV0IGJlZW4gdmlzaXRlZC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheVNldCAoU2VlIGBrZXlWYWx1ZUFycmF5U2V0YCBpbiBcInV0aWwvYXJyYXlfdXRpbHNcIikgR2V0cyBwYXNzZWQgaW4gYXMgYVxuICogICAgICAgIGZ1bmN0aW9uIHNvIHRoYXQgYHN0eWxlYCBjYW4gYmUgcHJvY2Vzc2VkLiBUaGlzIGlzIGRvbmVcbiAqICAgICAgICBmb3IgdHJlZSBzaGFraW5nIHB1cnBvc2VzLlxuICogQHBhcmFtIHN0cmluZ1BhcnNlciBUaGUgcGFyc2VyIGlzIHBhc3NlZCBpbiBzbyB0aGF0IGl0IHdpbGwgYmUgdHJlZSBzaGFrYWJsZS4gU2VlXG4gKiAgICAgICAgYHN0eWxlU3RyaW5nUGFyc2VyYCBhbmQgYGNsYXNzU3RyaW5nUGFyc2VyYFxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBwYXJzZS9jb252ZXJ0IHRvIGBLZXlWYWx1ZUFycmF5YFxuICovXG5mdW5jdGlvbiB0b1N0eWxpbmdLZXlWYWx1ZUFycmF5KGtleVZhbHVlQXJyYXlTZXQsIHN0cmluZ1BhcnNlciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAvKnx8IHZhbHVlID09PSB1bmRlZmluZWQgKi8gfHwgdmFsdWUgPT09ICcnKVxuICAgICAgICByZXR1cm4gRU1QVFlfQVJSQVk7XG4gICAgY29uc3Qgc3R5bGVLZXlWYWx1ZUFycmF5ID0gW107XG4gICAgY29uc3QgdW53cmFwcGVkVmFsdWUgPSB1bndyYXBTYWZlVmFsdWUodmFsdWUpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVud3JhcHBlZFZhbHVlKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVud3JhcHBlZFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KHN0eWxlS2V5VmFsdWVBcnJheSwgdW53cmFwcGVkVmFsdWVbaV0sIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB1bndyYXBwZWRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdW53cmFwcGVkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh1bndyYXBwZWRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAga2V5VmFsdWVBcnJheVNldChzdHlsZUtleVZhbHVlQXJyYXksIGtleSwgdW53cmFwcGVkVmFsdWVba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHVud3JhcHBlZFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmdQYXJzZXIoc3R5bGVLZXlWYWx1ZUFycmF5LCB1bndyYXBwZWRWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHRocm93RXJyb3IoJ1Vuc3VwcG9ydGVkIHN0eWxpbmcgdHlwZSAnICsgdHlwZW9mIHVud3JhcHBlZFZhbHVlICsgJzogJyArIHVud3JhcHBlZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlS2V5VmFsdWVBcnJheTtcbn1cbi8qKlxuICogU2V0IGEgYHZhbHVlYCBmb3IgYSBga2V5YC5cbiAqXG4gKiBTZWU6IGBrZXlWYWx1ZUFycmF5U2V0YCBmb3IgZGV0YWlsc1xuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IEtleVZhbHVlQXJyYXkgdG8gYWRkIHRvLlxuICogQHBhcmFtIGtleSBTdHlsZSBrZXkgdG8gYWRkLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHN0eWxlS2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBrZXksIHZhbHVlKSB7XG4gICAga2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBrZXksIHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSkpO1xufVxuLyoqXG4gKiBVcGRhdGUgbWFwIGJhc2VkIHN0eWxpbmcuXG4gKlxuICogTWFwIGJhc2VkIHN0eWxpbmcgY291bGQgYmUgYW55dGhpbmcgd2hpY2ggY29udGFpbnMgbW9yZSB0aGFuIG9uZSBiaW5kaW5nLiBGb3IgZXhhbXBsZSBgc3RyaW5nYCxcbiAqIG9yIG9iamVjdCBsaXRlcmFsLiBEZWFsaW5nIHdpdGggYWxsIG9mIHRoZXNlIHR5cGVzIHdvdWxkIGNvbXBsaWNhdGUgdGhlIGxvZ2ljIHNvXG4gKiBpbnN0ZWFkIHRoaXMgZnVuY3Rpb24gZXhwZWN0cyB0aGF0IHRoZSBjb21wbGV4IGlucHV0IGlzIGZpcnN0IGNvbnZlcnRlZCBpbnRvIG5vcm1hbGl6ZWRcbiAqIGBLZXlWYWx1ZUFycmF5YC4gVGhlIGFkdmFudGFnZSBvZiBub3JtYWxpemF0aW9uIGlzIHRoYXQgd2UgZ2V0IHRoZSB2YWx1ZXMgc29ydGVkLCB3aGljaCBtYWtlcyBpdFxuICogdmVyeSBjaGVhcCB0byBjb21wdXRlIGRlbHRhcyBiZXR3ZWVuIHRoZSBwcmV2aW91cyBhbmQgY3VycmVudCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQXNzb2NpYXRlZCBgVFZpZXcuZGF0YWAgY29udGFpbnMgdGhlIGxpbmtlZCBsaXN0IG9mIGJpbmRpbmcgcHJpb3JpdGllcy5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoZXJlIHRoZSBiaW5kaW5nIGlzIGxvY2F0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBjb250YWlucyB0aGUgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBvdGhlciBzdHlsaW5nIGJpbmRpbmcgYXQgdGhpcyBgVE5vZGVgLlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZSBpZiBhbnkgdXBkYXRlcy5cbiAqIEBwYXJhbSBvbGRLZXlWYWx1ZUFycmF5IFByZXZpb3VzIHZhbHVlIHJlcHJlc2VudGVkIGFzIGBLZXlWYWx1ZUFycmF5YFxuICogQHBhcmFtIG5ld0tleVZhbHVlQXJyYXkgQ3VycmVudCB2YWx1ZSByZXByZXNlbnRlZCBhcyBgS2V5VmFsdWVBcnJheWBcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggQmluZGluZyBpbmRleCBvZiB0aGUgYmluZGluZy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3R5bGluZ01hcCh0VmlldywgdE5vZGUsIGxWaWV3LCByZW5kZXJlciwgb2xkS2V5VmFsdWVBcnJheSwgbmV3S2V5VmFsdWVBcnJheSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpIHtcbiAgICBpZiAob2xkS2V5VmFsdWVBcnJheSA9PT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIC8vIE9uIGZpcnN0IGV4ZWN1dGlvbiB0aGUgb2xkS2V5VmFsdWVBcnJheSBpcyBOT19DSEFOR0UgPT4gdHJlYXQgaXQgYXMgZW1wdHkgS2V5VmFsdWVBcnJheS5cbiAgICAgICAgb2xkS2V5VmFsdWVBcnJheSA9IEVNUFRZX0FSUkFZO1xuICAgIH1cbiAgICBsZXQgb2xkSW5kZXggPSAwO1xuICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgbGV0IG9sZEtleSA9IDAgPCBvbGRLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG9sZEtleVZhbHVlQXJyYXlbMF0gOiBudWxsO1xuICAgIGxldCBuZXdLZXkgPSAwIDwgbmV3S2V5VmFsdWVBcnJheS5sZW5ndGggPyBuZXdLZXlWYWx1ZUFycmF5WzBdIDogbnVsbDtcbiAgICB3aGlsZSAob2xkS2V5ICE9PSBudWxsIHx8IG5ld0tleSAhPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4ob2xkSW5kZXgsIDk5OSwgJ0FyZSB3ZSBzdHVjayBpbiBpbmZpbml0ZSBsb29wPycpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4obmV3SW5kZXgsIDk5OSwgJ0FyZSB3ZSBzdHVjayBpbiBpbmZpbml0ZSBsb29wPycpO1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IG9sZEluZGV4IDwgb2xkS2V5VmFsdWVBcnJheS5sZW5ndGggPyBvbGRLZXlWYWx1ZUFycmF5W29sZEluZGV4ICsgMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbmV3SW5kZXggPCBuZXdLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG5ld0tleVZhbHVlQXJyYXlbbmV3SW5kZXggKyAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHNldEtleSA9IG51bGw7XG4gICAgICAgIGxldCBzZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9sZEtleSA9PT0gbmV3S2V5KSB7XG4gICAgICAgICAgICAvLyBVUERBVEU6IEtleXMgYXJlIGVxdWFsID0+IG5ldyB2YWx1ZSBpcyBvdmVyd3JpdGluZyBvbGQgdmFsdWUuXG4gICAgICAgICAgICBvbGRJbmRleCArPSAyO1xuICAgICAgICAgICAgbmV3SW5kZXggKz0gMjtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXRLZXkgPSBuZXdLZXk7XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdLZXkgPT09IG51bGwgfHwgb2xkS2V5ICE9PSBudWxsICYmIG9sZEtleSA8IG5ld0tleSkge1xuICAgICAgICAgICAgLy8gREVMRVRFOiBvbGRLZXkga2V5IGlzIG1pc3Npbmcgb3Igd2UgZGlkIG5vdCBmaW5kIHRoZSBvbGRLZXkgaW4gdGhlIG5ld1ZhbHVlXG4gICAgICAgICAgICAvLyAoYmVjYXVzZSB0aGUga2V5VmFsdWVBcnJheSBpcyBzb3J0ZWQgYW5kIGBuZXdLZXlgIGlzIGZvdW5kIGxhdGVyIGFscGhhYmV0aWNhbGx5KS5cbiAgICAgICAgICAgIC8vIGBcImJhY2tncm91bmRcIiA8IFwiY29sb3JcImAgc28gd2UgbmVlZCB0byBkZWxldGUgYFwiYmFja2dyb3VuZFwiYCBiZWNhdXNlIGl0IGlzIG5vdCBmb3VuZCBpbiB0aGVcbiAgICAgICAgICAgIC8vIG5ldyBhcnJheS5cbiAgICAgICAgICAgIG9sZEluZGV4ICs9IDI7XG4gICAgICAgICAgICBzZXRLZXkgPSBvbGRLZXk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBDUkVBVEU6IG5ld0tleSdzIGlzIGVhcmxpZXIgYWxwaGFiZXRpY2FsbHkgdGhhbiBvbGRLZXkncyAob3Igbm8gb2xkS2V5KSA9PiB3ZSBoYXZlIG5ldyBrZXkuXG4gICAgICAgICAgICAvLyBgXCJjb2xvclwiID4gXCJiYWNrZ3JvdW5kXCJgIHNvIHdlIG5lZWQgdG8gYWRkIGBjb2xvcmAgYmVjYXVzZSBpdCBpcyBpbiBuZXcgYXJyYXkgYnV0IG5vdCBpblxuICAgICAgICAgICAgLy8gb2xkIGFycmF5LlxuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobmV3S2V5LCAnRXhwZWN0aW5nIHRvIGhhdmUgYSB2YWxpZCBrZXknKTtcbiAgICAgICAgICAgIG5ld0luZGV4ICs9IDI7XG4gICAgICAgICAgICBzZXRLZXkgPSBuZXdLZXk7XG4gICAgICAgICAgICBzZXRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVwZGF0ZVN0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgcmVuZGVyZXIsIHNldEtleSwgc2V0VmFsdWUsIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBvbGRLZXkgPSBvbGRJbmRleCA8IG9sZEtleVZhbHVlQXJyYXkubGVuZ3RoID8gb2xkS2V5VmFsdWVBcnJheVtvbGRJbmRleF0gOiBudWxsO1xuICAgICAgICBuZXdLZXkgPSBuZXdJbmRleCA8IG5ld0tleVZhbHVlQXJyYXkubGVuZ3RoID8gbmV3S2V5VmFsdWVBcnJheVtuZXdJbmRleF0gOiBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogVXBkYXRlIGEgc2ltcGxlIChwcm9wZXJ0eSBuYW1lKSBzdHlsaW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYHByb3BgIGFuZCB1cGRhdGVzIHRoZSBET00gdG8gdGhhdCB2YWx1ZS4gVGhlIGZ1bmN0aW9uIHRha2VzIHRoZSBiaW5kaW5nXG4gKiB2YWx1ZSBhcyB3ZWxsIGFzIGJpbmRpbmcgcHJpb3JpdHkgaW50byBjb25zaWRlcmF0aW9uIHRvIGRldGVybWluZSB3aGljaCB2YWx1ZSBzaG91bGQgYmUgd3JpdHRlblxuICogdG8gRE9NLiAoRm9yIGV4YW1wbGUgaXQgbWF5IGJlIGRldGVybWluZWQgdGhhdCB0aGVyZSBpcyBhIGhpZ2hlciBwcmlvcml0eSBvdmVyd3JpdGUgd2hpY2ggYmxvY2tzXG4gKiB0aGUgRE9NIHdyaXRlLCBvciBpZiB0aGUgdmFsdWUgZ29lcyB0byBgdW5kZWZpbmVkYCBhIGxvd2VyIHByaW9yaXR5IG92ZXJ3cml0ZSBtYXkgYmUgY29uc3VsdGVkLilcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQXNzb2NpYXRlZCBgVFZpZXcuZGF0YWAgY29udGFpbnMgdGhlIGxpbmtlZCBsaXN0IG9mIGJpbmRpbmcgcHJpb3JpdGllcy5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoZXJlIHRoZSBiaW5kaW5nIGlzIGxvY2F0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBjb250YWlucyB0aGUgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBvdGhlciBzdHlsaW5nIGJpbmRpbmcgYXQgdGhpcyBgVE5vZGVgLlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZSBpZiBhbnkgdXBkYXRlcy5cbiAqIEBwYXJhbSBwcm9wIEVpdGhlciBzdHlsZSBwcm9wZXJ0eSBuYW1lIG9yIGEgY2xhc3MgbmFtZS5cbiAqIEBwYXJhbSB2YWx1ZSBFaXRoZXIgc3R5bGUgdmFsdWUgZm9yIGBwcm9wYCBvciBgdHJ1ZWAvYGZhbHNlYCBpZiBgcHJvcGAgaXMgY2xhc3MuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IEJpbmRpbmcgaW5kZXggb2YgdGhlIGJpbmRpbmcuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgcmVuZGVyZXIsIHByb3AsIHZhbHVlLCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCkge1xuICAgIGlmICghKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSkge1xuICAgICAgICAvLyBJdCBpcyBwb3NzaWJsZSB0byBoYXZlIHN0eWxpbmcgb24gbm9uLWVsZW1lbnRzIChzdWNoIGFzIG5nLWNvbnRhaW5lcikuXG4gICAgICAgIC8vIFRoaXMgaXMgcmFyZSwgYnV0IGl0IGRvZXMgaGFwcGVuLiBJbiBzdWNoIGEgY2FzZSwganVzdCBpZ25vcmUgdGhlIGJpbmRpbmcuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdERhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGNvbnN0IHRSYW5nZSA9IHREYXRhW2JpbmRpbmdJbmRleCArIDFdO1xuICAgIGNvbnN0IGhpZ2hlclByaW9yaXR5VmFsdWUgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0UmFuZ2UpID9cbiAgICAgICAgZmluZFN0eWxpbmdWYWx1ZSh0RGF0YSwgdE5vZGUsIGxWaWV3LCBwcm9wLCBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0UmFuZ2UpLCBpc0NsYXNzQmFzZWQpIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuICAgIGlmICghaXNTdHlsaW5nVmFsdWVQcmVzZW50KGhpZ2hlclByaW9yaXR5VmFsdWUpKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IGhhdmUgYSBuZXh0IGR1cGxpY2F0ZSwgb3Igd2UgZGlkIG5vdCBmaW5kIGEgZHVwbGljYXRlIHZhbHVlLlxuICAgICAgICBpZiAoIWlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCBkZWxldGUgY3VycmVudCB2YWx1ZSBvciByZXN0b3JlIHRvIGxvd2VyIHByaW9yaXR5IHZhbHVlLlxuICAgICAgICAgICAgaWYgKGdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRSYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgcG9zc2libGUgcHJldiBkdXBsaWNhdGUsIGxldCdzIHJldHJpZXZlIGl0LlxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmluZFN0eWxpbmdWYWx1ZSh0RGF0YSwgbnVsbCwgbFZpZXcsIHByb3AsIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByTm9kZSA9IGdldE5hdGl2ZUJ5SW5kZXgoZ2V0U2VsZWN0ZWRJbmRleCgpLCBsVmlldyk7XG4gICAgICAgIGFwcGx5U3R5bGluZyhyZW5kZXJlciwgaXNDbGFzc0Jhc2VkLCByTm9kZSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoIGZvciBzdHlsaW5nIHZhbHVlIHdpdGggaGlnaGVyIHByaW9yaXR5IHdoaWNoIGlzIG92ZXJ3cml0aW5nIGN1cnJlbnQgdmFsdWUsIG9yIGFcbiAqIHZhbHVlIG9mIGxvd2VyIHByaW9yaXR5IHRvIHdoaWNoIHdlIHNob3VsZCBmYWxsIGJhY2sgaWYgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLlxuICpcbiAqIFdoZW4gdmFsdWUgaXMgYmVpbmcgYXBwbGllZCBhdCBhIGxvY2F0aW9uLCByZWxhdGVkIHZhbHVlcyBuZWVkIHRvIGJlIGNvbnN1bHRlZC5cbiAqIC0gSWYgdGhlcmUgaXMgYSBoaWdoZXIgcHJpb3JpdHkgYmluZGluZywgd2Ugc2hvdWxkIGJlIHVzaW5nIHRoYXQgb25lIGluc3RlYWQuXG4gKiAgIEZvciBleGFtcGxlIGA8ZGl2ICBbc3R5bGVdPVwie2NvbG9yOmV4cDF9XCIgW3N0eWxlLmNvbG9yXT1cImV4cDJcIj5gIGNoYW5nZSB0byBgZXhwMWBcbiAqICAgcmVxdWlyZXMgdGhhdCB3ZSBjaGVjayBgZXhwMmAgdG8gc2VlIGlmIGl0IGlzIHNldCB0byB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICogLSBJZiB0aGVyZSBpcyBhIGxvd2VyIHByaW9yaXR5IGJpbmRpbmcgYW5kIHdlIGFyZSBjaGFuZ2luZyB0byBgdW5kZWZpbmVkYFxuICogICBGb3IgZXhhbXBsZSBgPGRpdiAgW3N0eWxlXT1cIntjb2xvcjpleHAxfVwiIFtzdHlsZS5jb2xvcl09XCJleHAyXCI+YCBjaGFuZ2UgdG8gYGV4cDJgIHRvXG4gKiAgIGB1bmRlZmluZWRgIHJlcXVpcmVzIHRoYXQgd2UgY2hlY2sgYGV4cDFgIChhbmQgc3RhdGljIHZhbHVlcykgYW5kIHVzZSB0aGF0IGFzIG5ldyB2YWx1ZS5cbiAqXG4gKiBOT1RFOiBUaGUgc3R5bGluZyBzdG9yZXMgdHdvIHZhbHVlcy5cbiAqIDEuIFRoZSByYXcgdmFsdWUgd2hpY2ggY2FtZSBmcm9tIHRoZSBhcHBsaWNhdGlvbiBpcyBzdG9yZWQgYXQgYGluZGV4ICsgMGAgbG9jYXRpb24uIChUaGlzIHZhbHVlXG4gKiAgICBpcyB1c2VkIGZvciBkaXJ0eSBjaGVja2luZykuXG4gKiAyLiBUaGUgbm9ybWFsaXplZCB2YWx1ZSBpcyBzdG9yZWQgYXQgYGluZGV4ICsgMWAuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgdXNlZCBmb3IgdHJhdmVyc2luZyB0aGUgcHJpb3JpdHkuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB0byB1c2UgZm9yIHJlc29sdmluZyBzdGF0aWMgc3R5bGluZy4gQWxzbyBjb250cm9scyBzZWFyY2ggZGlyZWN0aW9uLlxuICogICAtIGBUTm9kZWAgc2VhcmNoIG5leHQgYW5kIHF1aXQgYXMgc29vbiBhcyBgaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKWAgaXMgdHJ1ZS5cbiAqICAgICAgSWYgbm8gdmFsdWUgZm91bmQgY29uc3VsdCBgdE5vZGUucmVzaWR1YWxTdHlsZWAvYHROb2RlLnJlc2lkdWFsQ2xhc3NgIGZvciBkZWZhdWx0IHZhbHVlLlxuICogICAtIGBudWxsYCBzZWFyY2ggcHJldiBhbmQgZ28gYWxsIHRoZSB3YXkgdG8gZW5kLiBSZXR1cm4gbGFzdCB2YWx1ZSB3aGVyZVxuICogICAgIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgdXNlZCBmb3IgcmV0cmlldmluZyB0aGUgYWN0dWFsIHZhbHVlcy5cbiAqIEBwYXJhbSBwcm9wIFByb3BlcnR5IHdoaWNoIHdlIGFyZSBpbnRlcmVzdGVkIGluLlxuICogQHBhcmFtIGluZGV4IFN0YXJ0aW5nIGluZGV4IGluIHRoZSBsaW5rZWQgbGlzdCBvZiBzdHlsaW5nIGJpbmRpbmdzIHdoZXJlIHRoZSBzZWFyY2ggc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBmaW5kU3R5bGluZ1ZhbHVlKHREYXRhLCB0Tm9kZSwgbFZpZXcsIHByb3AsIGluZGV4LCBpc0NsYXNzQmFzZWQpIHtcbiAgICAvLyBgVE5vZGVgIHRvIHVzZSBmb3IgcmVzb2x2aW5nIHN0YXRpYyBzdHlsaW5nLiBBbHNvIGNvbnRyb2xzIHNlYXJjaCBkaXJlY3Rpb24uXG4gICAgLy8gICAtIGBUTm9kZWAgc2VhcmNoIG5leHQgYW5kIHF1aXQgYXMgc29vbiBhcyBgaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKWAgaXMgdHJ1ZS5cbiAgICAvLyAgICAgIElmIG5vIHZhbHVlIGZvdW5kIGNvbnN1bHQgYHROb2RlLnJlc2lkdWFsU3R5bGVgL2B0Tm9kZS5yZXNpZHVhbENsYXNzYCBmb3IgZGVmYXVsdCB2YWx1ZS5cbiAgICAvLyAgIC0gYG51bGxgIHNlYXJjaCBwcmV2IGFuZCBnbyBhbGwgdGhlIHdheSB0byBlbmQuIFJldHVybiBsYXN0IHZhbHVlIHdoZXJlXG4gICAgLy8gICAgIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICAgIGNvbnN0IGlzUHJldkRpcmVjdGlvbiA9IHROb2RlID09PSBudWxsO1xuICAgIGxldCB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB3aGlsZSAoaW5kZXggPiAwKSB7XG4gICAgICAgIGNvbnN0IHJhd0tleSA9IHREYXRhW2luZGV4XTtcbiAgICAgICAgY29uc3QgY29udGFpbnNTdGF0aWNzID0gQXJyYXkuaXNBcnJheShyYXdLZXkpO1xuICAgICAgICAvLyBVbndyYXAgdGhlIGtleSBpZiB3ZSBjb250YWluIHN0YXRpYyB2YWx1ZXMuXG4gICAgICAgIGNvbnN0IGtleSA9IGNvbnRhaW5zU3RhdGljcyA/IHJhd0tleVsxXSA6IHJhd0tleTtcbiAgICAgICAgY29uc3QgaXNTdHlsaW5nTWFwID0ga2V5ID09PSBudWxsO1xuICAgICAgICBsZXQgdmFsdWVBdExWaWV3SW5kZXggPSBsVmlld1tpbmRleCArIDFdO1xuICAgICAgICBpZiAodmFsdWVBdExWaWV3SW5kZXggPT09IE5PX0NIQU5HRSkge1xuICAgICAgICAgICAgLy8gSW4gZmlyc3RVcGRhdGVQYXNzIHRoZSBzdHlsaW5nIGluc3RydWN0aW9ucyBjcmVhdGUgYSBsaW5rZWQgbGlzdCBvZiBzdHlsaW5nLlxuICAgICAgICAgICAgLy8gT24gc3Vic2VxdWVudCBwYXNzZXMgaXQgaXMgcG9zc2libGUgZm9yIGEgc3R5bGluZyBpbnN0cnVjdGlvbiB0byB0cnkgdG8gcmVhZCBhIGJpbmRpbmdcbiAgICAgICAgICAgIC8vIHdoaWNoXG4gICAgICAgICAgICAvLyBoYXMgbm90IHlldCBleGVjdXRlZC4gSW4gdGhhdCBjYXNlIHdlIHdpbGwgZmluZCBgTk9fQ0hBTkdFYCBhbmQgd2Ugc2hvdWxkIGFzc3VtZSB0aGF0XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGB1bmRlZmluZWRgIChvciBlbXB0eSBhcnJheSBpbiBjYXNlIG9mIHN0eWxpbmctbWFwIGluc3RydWN0aW9uKSBpbnN0ZWFkLiBUaGlzXG4gICAgICAgICAgICAvLyBhbGxvd3MgdGhlIHJlc29sdXRpb24gdG8gYXBwbHkgdGhlIHZhbHVlICh3aGljaCBtYXkgbGF0ZXIgYmUgb3ZlcndyaXR0ZW4gd2hlbiB0aGVcbiAgICAgICAgICAgIC8vIGJpbmRpbmcgYWN0dWFsbHkgZXhlY3V0ZXMuKVxuICAgICAgICAgICAgdmFsdWVBdExWaWV3SW5kZXggPSBpc1N0eWxpbmdNYXAgPyBFTVBUWV9BUlJBWSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gaXNTdHlsaW5nTWFwID8ga2V5VmFsdWVBcnJheUdldCh2YWx1ZUF0TFZpZXdJbmRleCwgcHJvcCkgOlxuICAgICAgICAgICAga2V5ID09PSBwcm9wID8gdmFsdWVBdExWaWV3SW5kZXggOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjb250YWluc1N0YXRpY3MgJiYgIWlzU3R5bGluZ1ZhbHVlUHJlc2VudChjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBrZXlWYWx1ZUFycmF5R2V0KHJhd0tleSwgcHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3R5bGluZ1ZhbHVlUHJlc2VudChjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChpc1ByZXZEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdFJhbmdlID0gdERhdGFbaW5kZXggKyAxXTtcbiAgICAgICAgaW5kZXggPSBpc1ByZXZEaXJlY3Rpb24gPyBnZXRUU3R5bGluZ1JhbmdlUHJldih0UmFuZ2UpIDogZ2V0VFN0eWxpbmdSYW5nZU5leHQodFJhbmdlKTtcbiAgICB9XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIC8vIGluIGNhc2Ugd2hlcmUgd2UgYXJlIGdvaW5nIGluIG5leHQgZGlyZWN0aW9uIEFORCB3ZSBkaWQgbm90IGZpbmQgYW55dGhpbmcsIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gY29uc3VsdCByZXNpZHVhbCBzdHlsaW5nXG4gICAgICAgIGxldCByZXNpZHVhbCA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzO1xuICAgICAgICBpZiAocmVzaWR1YWwgIT0gbnVsbCAvKiogT1IgcmVzaWR1YWwgIT09PSB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2V5VmFsdWVBcnJheUdldChyZXNpZHVhbCwgcHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBiaW5kaW5nIHZhbHVlIHNob3VsZCBiZSB1c2VkIChvciBpZiB0aGUgdmFsdWUgaXMgJ3VuZGVmaW5lZCcgYW5kIGhlbmNlIHByaW9yaXR5XG4gKiByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkLilcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQmluZGluZyBzdHlsZSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKSB7XG4gICAgLy8gQ3VycmVudGx5IG9ubHkgYHVuZGVmaW5lZGAgdmFsdWUgaXMgY29uc2lkZXJlZCBub24tYmluZGluZy4gVGhhdCBpcyBgdW5kZWZpbmVkYCBzYXlzIEkgZG9uJ3RcbiAgICAvLyBoYXZlIGFuIG9waW5pb24gYXMgdG8gd2hhdCB0aGlzIGJpbmRpbmcgc2hvdWxkIGJlIGFuZCB5b3Ugc2hvdWxkIGNvbnN1bHQgb3RoZXIgYmluZGluZ3MgYnlcbiAgICAvLyBwcmlvcml0eSB0byBkZXRlcm1pbmUgdGhlIHZhbGlkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZXh0cmFjdGVkIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gc28gdGhhdCB3ZSBoYXZlIGEgc2luZ2xlIHBsYWNlIHRvIGNvbnRyb2wgdGhpcy5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8qKlxuICogTm9ybWFsaXplcyBhbmQvb3IgYWRkcyBhIHN1ZmZpeCB0byB0aGUgdmFsdWUuXG4gKlxuICogSWYgdmFsdWUgaXMgYG51bGxgL2B1bmRlZmluZWRgIG5vIHN1ZmZpeCBpcyBhZGRlZFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gc3VmZml4XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1ZmZpeCh2YWx1ZSwgc3VmZml4KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgLyoqIHx8IHZhbHVlID09PSB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc3VmZml4ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICsgc3VmZml4O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhbHVlID0gc3RyaW5naWZ5KHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFRlc3RzIGlmIHRoZSBgVE5vZGVgIGhhcyBpbnB1dCBzaGFkb3cuXG4gKlxuICogQW4gaW5wdXQgc2hhZG93IGlzIHdoZW4gYSBkaXJlY3RpdmUgc3RlYWxzIChzaGFkb3dzKSB0aGUgaW5wdXQgYnkgdXNpbmcgYEBJbnB1dCgnc3R5bGUnKWAgb3JcbiAqIGBASW5wdXQoJ2NsYXNzJylgIGFzIGlucHV0LlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gc2VlIGlmIGl0IGhhcyBzaGFkb3cuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGhhc1N0eWxpbmdJbnB1dFNoYWRvdyh0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIChpc0NsYXNzQmFzZWQgPyAxNiAvKiBoYXNDbGFzc0lucHV0ICovIDogMzIgLyogaGFzU3R5bGVJbnB1dCAqLykpICE9PSAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlIHN0YXRpYyB0ZXh0IG5vZGVcbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIG5vZGUgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSB2YWx1ZSBTdGF0aWMgc3RyaW5nIHZhbHVlIHRvIHdyaXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0KGluZGV4LCB2YWx1ZSA9ICcnKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRCaW5kaW5nSW5kZXgoKSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICd0ZXh0IG5vZGVzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA/XG4gICAgICAgIGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGFkanVzdGVkSW5kZXgsIDEgLyogVGV4dCAqLywgdmFsdWUsIG51bGwpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBjb25zdCB0ZXh0TmF0aXZlID0gbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBjcmVhdGVUZXh0Tm9kZShsVmlld1tSRU5ERVJFUl0sIHZhbHVlKTtcbiAgICBhcHBlbmRDaGlsZCh0VmlldywgbFZpZXcsIHRleHROYXRpdmUsIHROb2RlKTtcbiAgICAvLyBUZXh0IG5vZGVzIGFyZSBzZWxmIGNsb3NpbmcuXG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCBmYWxzZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIGEgbG9uZSBib3VuZCB2YWx1ZVxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQsIGFuIG5vIGFkZGl0aW9uYWwgdGV4dFxuICogc3Vycm91bmRzIHRoYXQgaW50ZXJwb2xhdGVkIHZhbHVlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+e3t2MH19PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUodjApO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGUodjApIHtcbiAgICDJtcm1dGV4dEludGVycG9sYXRlMSgnJywgdjAsICcnKTtcbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTEoJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTEocHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlMTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUyKCdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGUyKHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUzKFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTMocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGUzO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNChcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIMm1ybV0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTUoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNShwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNihcbiAqICAgICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU2KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTcoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU3O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTgoXG4gKiAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIG90aGVyIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlVihcbiAqICBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluIGJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICpcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGVWKHZhbHVlcykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlMSgncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEocHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlMigncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIocHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzKFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzKHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0KFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgoXG4gKiAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlVihcbiAqICBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWKHZhbHVlcykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMSgna2V5OiAnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMShwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIoJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyKHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTI6IHt7djF9fTsga2V5Mjoge3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMyhcbiAqICAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzKHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNChcbiAqICAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUoXG4gKiAgICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fTtcbiAqICAgICAgICAgICAgIGtleTU6IHt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYoXG4gKiAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNihwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19OyBrZXk1OiB7e3Y1fX07XG4gKiAgICAgICAgICAgICBrZXk2OiB7e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3KFxuICogICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnOyBrZXk1OiAnLCB2NSxcbiAqICAgICc7IGtleTY6ICcsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19OyBrZXk1OiB7e3Y1fX07XG4gKiAgICAgICAgICAgICBrZXk2OiB7e3Y2fX07IGtleTc6IHt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgoXG4gKiAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgJzsga2V5NjogJywgdjYsICc7IGtleTc6ICcsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgY2xhc3M9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19OyBrZXk1OiB7e3Y1fX07XG4gKiAgICAgICAgIGtleTY6IHt7djZ9fTsga2V5Nzoge3t2N319OyBrZXk4OiB7e3Y4fX07IGtleTk6IHt7djl9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYoXG4gKiAgICBbJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnOyBrZXk1OiAnLCB2NSxcbiAqICAgICAnOyBrZXk2OiAnLCB2NiwgJzsga2V5NzogJywgdjcsICc7IGtleTg6ICcsIHY4LCAnOyBrZXk5OiAnLCB2OSwgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICouXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4tYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJzsga2V5MjogJywgdmFsdWUxLCAnOyBrZXkyOiAnLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlVih2YWx1ZXMpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxKDAsICdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEocHJvcCwgcHJlZml4LCB2MCwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyKDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTIocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMyhwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0KDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1KDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNihwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3KFxuICogICAgMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNyhwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTc7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LFxuICogJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5XG4gKiB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeFwiPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYoXG4gKiAgMCwgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLi5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbi1iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnLScsIHZhbHVlMSwgJy0nLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYocHJvcCwgdmFsdWVzLCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXBkYXRlIGEgcHJvcGVydHkgb24gYSBob3N0IGVsZW1lbnQuIE9ubHkgYXBwbGllcyB0byBuYXRpdmUgbm9kZSBwcm9wZXJ0aWVzLCBub3QgaW5wdXRzLlxuICpcbiAqIE9wZXJhdGVzIG9uIHRoZSBlbGVtZW50IHNlbGVjdGVkIGJ5IGluZGV4IHZpYSB0aGUge0BsaW5rIHNlbGVjdH0gaW5zdHJ1Y3Rpb24uXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYHByb3BlcnR5KCduYW1lJywgY3R4Lm5hbWUpKCd0aXRsZScsIGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVob3N0UHJvcGVydHkocHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gbmV4dEJpbmRpbmdJbmRleCgpO1xuICAgIGlmIChiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgdHJ1ZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVob3N0UHJvcGVydHk7XG59XG4vKipcbiAqIFVwZGF0ZXMgYSBzeW50aGV0aWMgaG9zdCBiaW5kaW5nIChlLmcuIGBbQGZvb11gKSBvbiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBmb3IgY29tcGF0aWJpbGl0eSBwdXJwb3NlcyBhbmQgaXMgZGVzaWduZWQgdG8gZW5zdXJlIHRoYXQgYVxuICogc3ludGhldGljIGhvc3QgYmluZGluZyAoZS5nLiBgQEhvc3RCaW5kaW5nKCdAZm9vJylgKSBwcm9wZXJseSBnZXRzIHJlbmRlcmVkIGluXG4gKiB0aGUgY29tcG9uZW50J3MgcmVuZGVyZXIuIE5vcm1hbGx5IGFsbCBob3N0IGJpbmRpbmdzIGFyZSBldmFsdWF0ZWQgd2l0aCB0aGUgcGFyZW50XG4gKiBjb21wb25lbnQncyByZW5kZXJlciwgYnV0LCBpbiB0aGUgY2FzZSBvZiBhbmltYXRpb24gQHRyaWdnZXJzLCB0aGV5IG5lZWQgdG8gYmVcbiAqIGV2YWx1YXRlZCB3aXRoIHRoZSBzdWIgY29tcG9uZW50J3MgcmVuZGVyZXIgKGJlY2F1c2UgdGhhdCdzIHdoZXJlIHRoZSBhbmltYXRpb25cbiAqIHRyaWdnZXJzIGFyZSBkZWZpbmVkKS5cbiAqXG4gKiBEbyBub3QgdXNlIHRoaXMgaW5zdHJ1Y3Rpb24gYXMgYSByZXBsYWNlbWVudCBmb3IgYGVsZW1lbnRQcm9wZXJ0eWAuIFRoaXMgaW5zdHJ1Y3Rpb25cbiAqIG9ubHkgZXhpc3RzIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggdGhlIFZpZXdFbmdpbmUncyBob3N0IGJpbmRpbmcgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byB1cGRhdGUgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSBwcm9wTmFtZSBOYW1lIG9mIHByb3BlcnR5LiBCZWNhdXNlIGl0IGlzIGdvaW5nIHRvIERPTSwgdGhpcyBpcyBub3Qgc3ViamVjdCB0b1xuICogICAgICAgIHJlbmFtaW5nIGFzIHBhcnQgb2YgbWluaWZpY2F0aW9uLlxuICogQHBhcmFtIHZhbHVlIE5ldyB2YWx1ZSB0byB3cml0ZS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgdmFsdWUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50RGVmID0gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0Vmlldy5kYXRhKTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBsb2FkQ29tcG9uZW50UmVuZGVyZXIoY3VycmVudERlZiwgdE5vZGUsIGxWaWV3KTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCByZW5kZXJlciwgc2FuaXRpemVyLCB0cnVlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE5PVEU6IGNoYW5nZXMgdG8gdGhlIGBuZ0kxOG5DbG9zdXJlTW9kZWAgbmFtZSBtdXN0IGJlIHN5bmNlZCB3aXRoIGBjb21waWxlci1jbGkvc3JjL3Rvb2xpbmcudHNgLlxuICovXG5pZiAodHlwZW9mIG5nSTE4bkNsb3N1cmVNb2RlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFRoZXNlIHByb3BlcnR5IGFjY2Vzc2VzIGNhbiBiZSBpZ25vcmVkIGJlY2F1c2UgbmdJMThuQ2xvc3VyZU1vZGUgd2lsbCBiZSBzZXQgdG8gZmFsc2VcbiAgICAvLyB3aGVuIG9wdGltaXppbmcgY29kZSBhbmQgdGhlIHdob2xlIGlmIHN0YXRlbWVudCB3aWxsIGJlIGRyb3BwZWQuXG4gICAgLy8gTWFrZSBzdXJlIHRvIHJlZmVyIHRvIG5nSTE4bkNsb3N1cmVNb2RlIGFzIFsnbmdJMThuQ2xvc3VyZU1vZGUnXSBmb3IgY2xvc3VyZS5cbiAgICAvLyBOT1RFOiB3ZSBuZWVkIHRvIGhhdmUgaXQgaW4gSUlGRSBzbyB0aGF0IHRoZSB0cmVlLXNoYWtlciBpcyBoYXBweS5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgICAgIF9nbG9iYWxbJ25nSTE4bkNsb3N1cmVNb2RlJ10gPVxuICAgICAgICAgICAgLy8gVE9ETyhGVy0xMjUwKTogdmFsaWRhdGUgdGhhdCB0aGlzIGFjdHVhbGx5LCB5b3Uga25vdywgd29ya3MuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgICAgICAgICB0eXBlb2YgZ29vZyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGdvb2cuZ2V0TXNnID09PSAnZnVuY3Rpb24nO1xuICAgIH0pKCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVEhJUyBDT0RFIElTIEdFTkVSQVRFRCAtIERPIE5PVCBNT0RJRlkuXG5jb25zdCB1ID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gcGx1cmFsKHZhbCkge1xuICAgIGNvbnN0IG4gPSB2YWwsIGkgPSBNYXRoLmZsb29yKE1hdGguYWJzKHZhbCkpLCB2ID0gdmFsLnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXFwuPy8sICcnKS5sZW5ndGg7XG4gICAgaWYgKGkgPT09IDEgJiYgdiA9PT0gMClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDU7XG59XG52YXIgbG9jYWxlRW4gPSBbXCJlblwiLCBbW1wiYVwiLCBcInBcIl0sIFtcIkFNXCIsIFwiUE1cIl0sIHVdLCBbW1wiQU1cIiwgXCJQTVwiXSwgdSwgdV0sIFtbXCJTXCIsIFwiTVwiLCBcIlRcIiwgXCJXXCIsIFwiVFwiLCBcIkZcIiwgXCJTXCJdLCBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl0sIFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdLCBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXV0sIHUsIFtbXCJKXCIsIFwiRlwiLCBcIk1cIiwgXCJBXCIsIFwiTVwiLCBcIkpcIiwgXCJKXCIsIFwiQVwiLCBcIlNcIiwgXCJPXCIsIFwiTlwiLCBcIkRcIl0sIFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXSwgW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl1dLCB1LCBbW1wiQlwiLCBcIkFcIl0sIFtcIkJDXCIsIFwiQURcIl0sIFtcIkJlZm9yZSBDaHJpc3RcIiwgXCJBbm5vIERvbWluaVwiXV0sIDAsIFs2LCAwXSwgW1wiTS9kL3l5XCIsIFwiTU1NIGQsIHlcIiwgXCJNTU1NIGQsIHlcIiwgXCJFRUVFLCBNTU1NIGQsIHlcIl0sIFtcImg6bW0gYVwiLCBcImg6bW06c3MgYVwiLCBcImg6bW06c3MgYSB6XCIsIFwiaDptbTpzcyBhIHp6enpcIl0sIFtcInsxfSwgezB9XCIsIHUsIFwiezF9ICdhdCcgezB9XCIsIHVdLCBbXCIuXCIsIFwiLFwiLCBcIjtcIiwgXCIlXCIsIFwiK1wiLCBcIi1cIiwgXCJFXCIsIFwiw5dcIiwgXCLigLBcIiwgXCLiiJ5cIiwgXCJOYU5cIiwgXCI6XCJdLCBbXCIjLCMjMC4jIyNcIiwgXCIjLCMjMCVcIiwgXCLCpCMsIyMwLjAwXCIsIFwiI0UwXCJdLCBcIlVTRFwiLCBcIiRcIiwgXCJVUyBEb2xsYXJcIiwge30sIFwibHRyXCIsIHBsdXJhbF07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGNvbnN0IGlzIHVzZWQgdG8gc3RvcmUgdGhlIGxvY2FsZSBkYXRhIHJlZ2lzdGVyZWQgd2l0aCBgcmVnaXN0ZXJMb2NhbGVEYXRhYFxuICovXG5sZXQgTE9DQUxFX0RBVEEgPSB7fTtcbi8qKlxuICogUmVnaXN0ZXIgbG9jYWxlIGRhdGEgdG8gYmUgdXNlZCBpbnRlcm5hbGx5IGJ5IEFuZ3VsYXIuIFNlZSB0aGVcbiAqIFtcIkkxOG4gZ3VpZGVcIl0oZ3VpZGUvaTE4bi1jb21tb24tZm9ybWF0LWRhdGEtbG9jYWxlKSB0byBrbm93IGhvdyB0byBpbXBvcnQgYWRkaXRpb25hbCBsb2NhbGVcbiAqIGRhdGEuXG4gKlxuICogVGhlIHNpZ25hdHVyZSBgcmVnaXN0ZXJMb2NhbGVEYXRhKGRhdGE6IGFueSwgZXh0cmFEYXRhPzogYW55KWAgaXMgZGVwcmVjYXRlZCBzaW5jZSB2NS4xXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTG9jYWxlRGF0YShkYXRhLCBsb2NhbGVJZCwgZXh0cmFEYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZXh0cmFEYXRhID0gbG9jYWxlSWQ7XG4gICAgICAgIGxvY2FsZUlkID0gZGF0YVtMb2NhbGVEYXRhSW5kZXguTG9jYWxlSWRdO1xuICAgIH1cbiAgICBsb2NhbGVJZCA9IGxvY2FsZUlkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLScpO1xuICAgIExPQ0FMRV9EQVRBW2xvY2FsZUlkXSA9IGRhdGE7XG4gICAgaWYgKGV4dHJhRGF0YSkge1xuICAgICAgICBMT0NBTEVfREFUQVtsb2NhbGVJZF1bTG9jYWxlRGF0YUluZGV4LkV4dHJhRGF0YV0gPSBleHRyYURhdGE7XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgbG9jYWxlIGRhdGEgZm9yIGEgZ2l2ZW4gbG9jYWxlLlxuICpcbiAqIEBwYXJhbSBsb2NhbGUgVGhlIGxvY2FsZSBjb2RlLlxuICogQHJldHVybnMgVGhlIGxvY2FsZSBkYXRhLlxuICogQHNlZSBbSW50ZXJuYXRpb25hbGl6YXRpb24gKGkxOG4pIEd1aWRlXShodHRwczovL2FuZ3VsYXIuaW8vZ3VpZGUvaTE4bi1vdmVydmlldylcbiAqL1xuZnVuY3Rpb24gZmluZExvY2FsZURhdGEobG9jYWxlKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZExvY2FsZSA9IG5vcm1hbGl6ZUxvY2FsZShsb2NhbGUpO1xuICAgIGxldCBtYXRjaCA9IGdldExvY2FsZURhdGEobm9ybWFsaXplZExvY2FsZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICAgLy8gbGV0J3MgdHJ5IHRvIGZpbmQgYSBwYXJlbnQgbG9jYWxlXG4gICAgY29uc3QgcGFyZW50TG9jYWxlID0gbm9ybWFsaXplZExvY2FsZS5zcGxpdCgnLScpWzBdO1xuICAgIG1hdGNoID0gZ2V0TG9jYWxlRGF0YShwYXJlbnRMb2NhbGUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICAgIGlmIChwYXJlbnRMb2NhbGUgPT09ICdlbicpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZUVuO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgXCIke2xvY2FsZX1cIi5gKTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBkZWZhdWx0IGN1cnJlbmN5IGNvZGUgZm9yIHRoZSBnaXZlbiBsb2NhbGUuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgZGVmaW5lZCBhcyB0aGUgZmlyc3QgY3VycmVuY3kgd2hpY2ggaXMgc3RpbGwgaW4gdXNlLlxuICpcbiAqIEBwYXJhbSBsb2NhbGUgVGhlIGNvZGUgb2YgdGhlIGxvY2FsZSB3aG9zZSBjdXJyZW5jeSBjb2RlIHdlIHdhbnQuXG4gKiBAcmV0dXJucyBUaGUgY29kZSBvZiB0aGUgZGVmYXVsdCBjdXJyZW5jeSBmb3IgdGhlIGdpdmVuIGxvY2FsZS5cbiAqXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsZUN1cnJlbmN5Q29kZShsb2NhbGUpIHtcbiAgICBjb25zdCBkYXRhID0gZmluZExvY2FsZURhdGEobG9jYWxlKTtcbiAgICByZXR1cm4gZGF0YVtMb2NhbGVEYXRhSW5kZXguQ3VycmVuY3lDb2RlXSB8fCBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHBsdXJhbCBmdW5jdGlvbiB1c2VkIGJ5IElDVSBleHByZXNzaW9ucyB0byBkZXRlcm1pbmUgdGhlIHBsdXJhbCBjYXNlIHRvIHVzZVxuICogZm9yIGEgZ2l2ZW4gbG9jYWxlLlxuICogQHBhcmFtIGxvY2FsZSBBIGxvY2FsZSBjb2RlIGZvciB0aGUgbG9jYWxlIGZvcm1hdCBydWxlcyB0byB1c2UuXG4gKiBAcmV0dXJucyBUaGUgcGx1cmFsIGZ1bmN0aW9uIGZvciB0aGUgbG9jYWxlLlxuICogQHNlZSBgTmdQbHVyYWxgXG4gKiBAc2VlIFtJbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgR3VpZGVdKGh0dHBzOi8vYW5ndWxhci5pby9ndWlkZS9pMThuLW92ZXJ2aWV3KVxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVQbHVyYWxDYXNlKGxvY2FsZSkge1xuICAgIGNvbnN0IGRhdGEgPSBmaW5kTG9jYWxlRGF0YShsb2NhbGUpO1xuICAgIHJldHVybiBkYXRhW0xvY2FsZURhdGFJbmRleC5QbHVyYWxDYXNlXTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgZ2l2ZW4gYG5vcm1hbGl6ZWRMb2NhbGVgIGZyb20gYExPQ0FMRV9EQVRBYFxuICogb3IgZnJvbSB0aGUgZ2xvYmFsIGBuZy5jb21tb24ubG9jYWxlYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlRGF0YShub3JtYWxpemVkTG9jYWxlKSB7XG4gICAgaWYgKCEobm9ybWFsaXplZExvY2FsZSBpbiBMT0NBTEVfREFUQSkpIHtcbiAgICAgICAgTE9DQUxFX0RBVEFbbm9ybWFsaXplZExvY2FsZV0gPSBfZ2xvYmFsLm5nICYmIF9nbG9iYWwubmcuY29tbW9uICYmIF9nbG9iYWwubmcuY29tbW9uLmxvY2FsZXMgJiZcbiAgICAgICAgICAgIF9nbG9iYWwubmcuY29tbW9uLmxvY2FsZXNbbm9ybWFsaXplZExvY2FsZV07XG4gICAgfVxuICAgIHJldHVybiBMT0NBTEVfREFUQVtub3JtYWxpemVkTG9jYWxlXTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHJlbW92ZSBhbGwgdGhlIGxvY2FsZSBkYXRhIGZyb20gYExPQ0FMRV9EQVRBYC5cbiAqL1xuZnVuY3Rpb24gdW5yZWdpc3RlckFsbExvY2FsZURhdGEoKSB7XG4gICAgTE9DQUxFX0RBVEEgPSB7fTtcbn1cbi8qKlxuICogSW5kZXggb2YgZWFjaCB0eXBlIG9mIGxvY2FsZSBkYXRhIGZyb20gdGhlIGxvY2FsZSBkYXRhIGFycmF5XG4gKi9cbnZhciBMb2NhbGVEYXRhSW5kZXg7XG4oZnVuY3Rpb24gKExvY2FsZURhdGFJbmRleCkge1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJMb2NhbGVJZFwiXSA9IDBdID0gXCJMb2NhbGVJZFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlQZXJpb2RzRm9ybWF0XCJdID0gMV0gPSBcIkRheVBlcmlvZHNGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5UGVyaW9kc1N0YW5kYWxvbmVcIl0gPSAyXSA9IFwiRGF5UGVyaW9kc1N0YW5kYWxvbmVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5c0Zvcm1hdFwiXSA9IDNdID0gXCJEYXlzRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRheXNTdGFuZGFsb25lXCJdID0gNF0gPSBcIkRheXNTdGFuZGFsb25lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIk1vbnRoc0Zvcm1hdFwiXSA9IDVdID0gXCJNb250aHNGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTW9udGhzU3RhbmRhbG9uZVwiXSA9IDZdID0gXCJNb250aHNTdGFuZGFsb25lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkVyYXNcIl0gPSA3XSA9IFwiRXJhc1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJGaXJzdERheU9mV2Vla1wiXSA9IDhdID0gXCJGaXJzdERheU9mV2Vla1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJXZWVrZW5kUmFuZ2VcIl0gPSA5XSA9IFwiV2Vla2VuZFJhbmdlXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRhdGVGb3JtYXRcIl0gPSAxMF0gPSBcIkRhdGVGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiVGltZUZvcm1hdFwiXSA9IDExXSA9IFwiVGltZUZvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXRlVGltZUZvcm1hdFwiXSA9IDEyXSA9IFwiRGF0ZVRpbWVGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTnVtYmVyU3ltYm9sc1wiXSA9IDEzXSA9IFwiTnVtYmVyU3ltYm9sc1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJOdW1iZXJGb3JtYXRzXCJdID0gMTRdID0gXCJOdW1iZXJGb3JtYXRzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmN5Q29kZVwiXSA9IDE1XSA9IFwiQ3VycmVuY3lDb2RlXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmN5U3ltYm9sXCJdID0gMTZdID0gXCJDdXJyZW5jeVN5bWJvbFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJDdXJyZW5jeU5hbWVcIl0gPSAxN10gPSBcIkN1cnJlbmN5TmFtZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJDdXJyZW5jaWVzXCJdID0gMThdID0gXCJDdXJyZW5jaWVzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRpcmVjdGlvbmFsaXR5XCJdID0gMTldID0gXCJEaXJlY3Rpb25hbGl0eVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJQbHVyYWxDYXNlXCJdID0gMjBdID0gXCJQbHVyYWxDYXNlXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkV4dHJhRGF0YVwiXSA9IDIxXSA9IFwiRXh0cmFEYXRhXCI7XG59KShMb2NhbGVEYXRhSW5kZXggfHwgKExvY2FsZURhdGFJbmRleCA9IHt9KSk7XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbm9uaWNhbCBmb3JtIG9mIGEgbG9jYWxlIG5hbWUgLSBsb3dlcmNhc2Ugd2l0aCBgX2AgcmVwbGFjZWQgd2l0aCBgLWAuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLScpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHBsdXJhbE1hcHBpbmcgPSBbJ3plcm8nLCAnb25lJywgJ3R3bycsICdmZXcnLCAnbWFueSddO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBwbHVyYWwgY2FzZSBiYXNlZCBvbiB0aGUgbG9jYWxlXG4gKi9cbmZ1bmN0aW9uIGdldFBsdXJhbENhc2UodmFsdWUsIGxvY2FsZSkge1xuICAgIGNvbnN0IHBsdXJhbCA9IGdldExvY2FsZVBsdXJhbENhc2UobG9jYWxlKShwYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICBjb25zdCByZXN1bHQgPSBwbHVyYWxNYXBwaW5nW3BsdXJhbF07XG4gICAgcmV0dXJuIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgPyByZXN1bHQgOiAnb3RoZXInO1xufVxuLyoqXG4gKiBUaGUgbG9jYWxlIGlkIHRoYXQgdGhlIGFwcGxpY2F0aW9uIGlzIHVzaW5nIGJ5IGRlZmF1bHQgKGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucykuXG4gKi9cbmNvbnN0IERFRkFVTFRfTE9DQUxFX0lEID0gJ2VuLVVTJztcbi8qKlxuICogVVNEIGN1cnJlbmN5IGNvZGUgdGhhdCB0aGUgYXBwbGljYXRpb24gdXNlcyBieSBkZWZhdWx0IGZvciBDdXJyZW5jeVBpcGUgd2hlbiBub1xuICogREVGQVVMVF9DVVJSRU5DWV9DT0RFIGlzIHByb3ZpZGVkLlxuICovXG5jb25zdCBVU0RfQ1VSUkVOQ1lfQ09ERSA9ICdVU0QnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFya3MgdGhhdCB0aGUgbmV4dCBzdHJpbmcgaXMgYW4gZWxlbWVudCBuYW1lLlxuICpcbiAqIFNlZSBgSTE4bk11dGF0ZU9wQ29kZXNgIGRvY3VtZW50YXRpb24uXG4gKi9cbmNvbnN0IEVMRU1FTlRfTUFSS0VSID0ge1xuICAgIG1hcmtlcjogJ2VsZW1lbnQnXG59O1xuLyoqXG4gKiBNYXJrcyB0aGF0IHRoZSBuZXh0IHN0cmluZyBpcyBjb21tZW50IHRleHQgbmVlZCBmb3IgSUNVLlxuICpcbiAqIFNlZSBgSTE4bk11dGF0ZU9wQ29kZXNgIGRvY3VtZW50YXRpb24uXG4gKi9cbmNvbnN0IElDVV9NQVJLRVIgPSB7XG4gICAgbWFya2VyOiAnSUNVJ1xufTtcbi8qKlxuICogU2VlIGBJMThuQ3JlYXRlT3BDb2Rlc2BcbiAqL1xudmFyIEkxOG5DcmVhdGVPcENvZGU7XG4oZnVuY3Rpb24gKEkxOG5DcmVhdGVPcENvZGUpIHtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgYml0cyB0byBzaGlmdCBpbmRleCBzbyB0aGF0IGl0IGNhbiBiZSBjb21iaW5lZCB3aXRoIHRoZSBgQVBQRU5EX0VBR0VSTFlgIGFuZFxuICAgICAqIGBDT01NRU5UYC5cbiAgICAgKi9cbiAgICBJMThuQ3JlYXRlT3BDb2RlW0kxOG5DcmVhdGVPcENvZGVbXCJTSElGVFwiXSA9IDJdID0gXCJTSElGVFwiO1xuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgbm9kZSBiZSBhcHBlbmRlZCB0byBwYXJlbnQgaW1lZGRpdGF0bHkgYWZ0ZXIgY3JlYXRpb24uXG4gICAgICovXG4gICAgSTE4bkNyZWF0ZU9wQ29kZVtJMThuQ3JlYXRlT3BDb2RlW1wiQVBQRU5EX0VBR0VSTFlcIl0gPSAxXSA9IFwiQVBQRU5EX0VBR0VSTFlcIjtcbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdGhlIG5vZGUgc2hvdWxkIGJlIGNvbW1lbnQgKHJhdGhlciB0aGFuIGEgdGV4dCkgbm9kZS5cbiAgICAgKi9cbiAgICBJMThuQ3JlYXRlT3BDb2RlW0kxOG5DcmVhdGVPcENvZGVbXCJDT01NRU5UXCJdID0gMl0gPSBcIkNPTU1FTlRcIjtcbn0pKEkxOG5DcmVhdGVPcENvZGUgfHwgKEkxOG5DcmVhdGVPcENvZGUgPSB7fSkpO1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMiA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgbG9jYWxlIGlkIHRoYXQgdGhlIGFwcGxpY2F0aW9uIGlzIGN1cnJlbnRseSB1c2luZyAoZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zKS5cbiAqIFRoaXMgaXMgdGhlIGl2eSB2ZXJzaW9uIG9mIGBMT0NBTEVfSURgIHRoYXQgd2FzIGRlZmluZWQgYXMgYW4gaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgdmlldyBlbmdpbmVcbiAqIGJ1dCBpcyBub3cgZGVmaW5lZCBhcyBhIGdsb2JhbCB2YWx1ZS5cbiAqL1xubGV0IExPQ0FMRV9JRCQxID0gREVGQVVMVF9MT0NBTEVfSUQ7XG4vKipcbiAqIFNldHMgdGhlIGxvY2FsZSBpZCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgdHJhbnNsYXRpb25zIGFuZCBJQ1UgZXhwcmVzc2lvbnMuXG4gKiBUaGlzIGlzIHRoZSBpdnkgdmVyc2lvbiBvZiBgTE9DQUxFX0lEYCB0aGF0IHdhcyBkZWZpbmVkIGFzIGFuIGluamVjdGlvbiB0b2tlbiBmb3IgdGhlIHZpZXcgZW5naW5lXG4gKiBidXQgaXMgbm93IGRlZmluZWQgYXMgYSBnbG9iYWwgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxvY2FsZUlkXG4gKi9cbmZ1bmN0aW9uIHNldExvY2FsZUlkKGxvY2FsZUlkKSB7XG4gICAgYXNzZXJ0RGVmaW5lZChsb2NhbGVJZCwgYEV4cGVjdGVkIGxvY2FsZUlkIHRvIGJlIGRlZmluZWRgKTtcbiAgICBpZiAodHlwZW9mIGxvY2FsZUlkID09PSAnc3RyaW5nJykge1xuICAgICAgICBMT0NBTEVfSUQkMSA9IGxvY2FsZUlkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLScpO1xuICAgIH1cbn1cbi8qKlxuICogR2V0cyB0aGUgbG9jYWxlIGlkIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucy5cbiAqIFRoaXMgaXMgdGhlIGl2eSB2ZXJzaW9uIG9mIGBMT0NBTEVfSURgIHRoYXQgd2FzIGRlZmluZWQgYXMgYW4gaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgdmlldyBlbmdpbmVcbiAqIGJ1dCBpcyBub3cgZGVmaW5lZCBhcyBhIGdsb2JhbCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlSWQoKSB7XG4gICAgcmV0dXJuIExPQ0FMRV9JRCQxO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmluZCBhIG5vZGUgaW4gZnJvbnQgb2Ygd2hpY2ggYGN1cnJlbnRUTm9kZWAgc2hvdWxkIGJlIGluc2VydGVkICh0YWtlcyBpMThuIGludG8gYWNjb3VudCkuXG4gKlxuICogVGhpcyBtZXRob2QgZGV0ZXJtaW5lcyB0aGUgYFJOb2RlYCBpbiBmcm9udCBvZiB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoZSBgY3VycmVudFJOb2RlYC4gVGhpc1xuICogdGFrZXMgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBpbnRvIGFjY291bnQuXG4gKlxuICogQHBhcmFtIHBhcmVudFROb2RlIHBhcmVudCBgVE5vZGVgXG4gKiBAcGFyYW0gY3VycmVudFROb2RlIGN1cnJlbnQgYFROb2RlYCAoVGhlIG5vZGUgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBpbnNlcnQgaW50byB0aGUgRE9NKVxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgdE5vZGVJbnNlcnRCZWZvcmVJbmRleCA9IGN1cnJlbnRUTm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBjb25zdCBpbnNlcnRCZWZvcmVJbmRleCA9IEFycmF5LmlzQXJyYXkodE5vZGVJbnNlcnRCZWZvcmVJbmRleCkgPyB0Tm9kZUluc2VydEJlZm9yZUluZGV4WzBdIDogdE5vZGVJbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoaW5zZXJ0QmVmb3JlSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aE5vSTE4bihwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbnNlcnRCZWZvcmVJbmRleCk7XG4gICAgICAgIHJldHVybiB1bndyYXBSTm9kZShsVmlld1tpbnNlcnRCZWZvcmVJbmRleF0pO1xuICAgIH1cbn1cbi8qKlxuICogUHJvY2VzcyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGJ5IGFkZGluZyBpMThuIHRleHQgbm9kZXMuXG4gKlxuICogU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUocmVuZGVyZXIsIGNoaWxkVE5vZGUsIGxWaWV3LCBjaGlsZFJOb2RlLCBwYXJlbnRSRWxlbWVudCkge1xuICAgIGNvbnN0IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXggPSBjaGlsZFROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHROb2RlSW5zZXJ0QmVmb3JlSW5kZXgpKSB7XG4gICAgICAgIC8vIEFuIGFycmF5IGluZGljYXRlcyB0aGF0IHRoZXJlIGFyZSBpMThuIG5vZGVzIHRoYXQgbmVlZCB0byBiZSBhZGRlZCBhcyBjaGlsZHJlbiBvZiB0aGlzXG4gICAgICAgIC8vIGBjaGlsZFJOb2RlYC4gVGhlc2UgaTE4biBub2RlcyB3ZXJlIGNyZWF0ZWQgYmVmb3JlIHRoaXMgYGNoaWxkUk5vZGVgIHdhcyBhdmFpbGFibGUgYW5kIHNvXG4gICAgICAgIC8vIG9ubHkgbm93IGNhbiBiZSBhZGRlZC4gVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5IGlzIHRoZSBub3JtYWwgaW5kZXggd2hlcmUgd2Ugc2hvdWxkXG4gICAgICAgIC8vIGluc2VydCB0aGUgYGNoaWxkUk5vZGVgLiBBZGRpdGlvbmFsIGVsZW1lbnRzIGFyZSB0aGUgZXh0cmEgbm9kZXMgdG8gYmUgYWRkZWQgYXMgY2hpbGRyZW4gb2ZcbiAgICAgICAgLy8gYGNoaWxkUk5vZGVgLlxuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShjaGlsZFJOb2RlKTtcbiAgICAgICAgbGV0IGkxOG5QYXJlbnQgPSBjaGlsZFJOb2RlO1xuICAgICAgICBsZXQgYW5jaG9yUk5vZGUgPSBudWxsO1xuICAgICAgICBpZiAoIShjaGlsZFROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSkge1xuICAgICAgICAgICAgYW5jaG9yUk5vZGUgPSBpMThuUGFyZW50O1xuICAgICAgICAgICAgaTE4blBhcmVudCA9IHBhcmVudFJFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpMThuUGFyZW50ICE9PSBudWxsICYmIChjaGlsZFROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pID09PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGB1bndyYXBSTm9kZWAgYmVjYXVzZSBhbGwgb2YgdGhlIGluZGV4ZXMgcG9pbnQgdG8gaTE4biB0ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIHNlZSBgYXNzZXJ0RG9tTm9kZWAgYmVsb3cuXG4gICAgICAgICAgICAgICAgY29uc3QgaTE4bkNoaWxkID0gbFZpZXdbdE5vZGVJbnNlcnRCZWZvcmVJbmRleFtpXV07XG4gICAgICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBpMThuUGFyZW50LCBpMThuQ2hpbGQsIGFuY2hvclJOb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGQgYHROb2RlYCB0byBgcHJldmlvdXNUTm9kZXNgIGxpc3QgYW5kIHVwZGF0ZSByZWxldmFudCBgVE5vZGVgcyBpbiBgcHJldmlvdXNUTm9kZXNgIGxpc3RcbiAqIGB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleGAuXG4gKlxuICogVGhpbmdzIHRvIGtlZXAgaW4gbWluZDpcbiAqIDEuIEFsbCBpMThuIHRleHQgbm9kZXMgYXJlIGVuY29kZWQgYXMgYFROb2RlVHlwZS5FbGVtZW50YCBhbmQgYXJlIGNyZWF0ZWQgZWFnZXJseSBieSB0aGVcbiAqICAgIGDJtcm1aTE4blN0YXJ0YCBpbnN0cnVjdGlvbi5cbiAqIDIuIEFsbCBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBgVE5vZGVzYCBhcmUgZWxlbWVudHMgd2hpY2ggd2lsbCBiZSBjcmVhdGVkIGxhdGVyIGJ5XG4gKiAgICBgybXJtWVsZW1lbnRTdGFydGAgaW5zdHJ1Y3Rpb24uXG4gKiAzLiBgybXJtWVsZW1lbnRTdGFydGAgaW5zdHJ1Y3Rpb24gd2lsbCBjcmVhdGUgYFROb2RlYHMgaW4gdGhlIGFzY2VuZGluZyBgVE5vZGUuaW5kZXhgIG9yZGVyLiAoU28gYVxuICogICAgc21hbGxlciBpbmRleCBgVE5vZGVgIGlzIGd1YXJhbnRlZWQgdG8gYmUgY3JlYXRlZCBiZWZvcmUgYSBsYXJnZXIgb25lKVxuICpcbiAqIFdlIHVzZSB0aGUgYWJvdmUgdGhyZWUgaW52YXJpYW50cyB0byBkZXRlcm1pbmUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqXG4gKiBJbiBhbiBpZGVhbCB3b3JsZCBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIHdvdWxkIGFsd2F5cyBiZSBgVE5vZGUubmV4dC5pbmRleGAuIEhvd2V2ZXIsXG4gKiB0aGlzIHdpbGwgbm90IHdvcmsgYmVjYXVzZSBgVE5vZGUubmV4dC5pbmRleGAgbWF5IGJlIGxhcmdlciB0aGFuIGBUTm9kZS5pbmRleGAgd2hpY2ggbWVhbnMgdGhhdFxuICogdGhlIG5leHQgbm9kZSBpcyBub3QgeWV0IGNyZWF0ZWQgYW5kIHRoZXJlZm9yZSB3ZSBjYW4ndCBpbnNlcnQgaW4gZnJvbnQgb2YgaXQuXG4gKlxuICogUnVsZTE6IGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleCA9IG51bGxgIGlmIGBUTm9kZS5uZXh0ID09PSBudWxsYCAoSW5pdGlhbCBjb25kaXRpb24sIGFzIHdlIGRvbid0XG4gKiAgICAgICAga25vdyBpZiB0aGVyZSB3aWxsIGJlIGZ1cnRoZXIgYFROb2RlYHMgaW5zZXJ0ZWQgYWZ0ZXIuKVxuICogUnVsZTI6IElmIGBwcmV2aW91c1ROb2RlYCBpcyBjcmVhdGVkIGFmdGVyIHRoZSBgdE5vZGVgIGJlaW5nIGluc2VydGVkLCB0aGVuXG4gKiAgICAgICAgYHByZXZpb3VzVE5vZGUuaW5zZXJ0QmVmb3JlTm9kZSA9IHROb2RlLmluZGV4YCAoU28gd2hlbiBhIG5ldyBgdE5vZGVgIGlzIGFkZGVkIHdlIGNoZWNrXG4gKiAgICAgICAgcHJldmlvdXMgdG8gc2VlIGlmIHdlIGNhbiB1cGRhdGUgaXRzIGBpbnNlcnRCZWZvcmVUTm9kZWApXG4gKlxuICogU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgZm9yIG1vcmUgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0gcHJldmlvdXNUTm9kZXMgQSBsaXN0IG9mIHByZXZpb3VzIFROb2RlcyBzbyB0aGF0IHdlIGNhbiBlYXNpbHkgdHJhdmVyc2UgYFROb2RlYHMgaW5cbiAqICAgICByZXZlcnNlIG9yZGVyLiAoSWYgYFROb2RlYCB3b3VsZCBoYXZlIGBwcmV2aW91c2AgdGhpcyB3b3VsZCBub3QgYmUgbmVjZXNzYXJ5LilcbiAqIEBwYXJhbSBuZXdUTm9kZSBBIFROb2RlIHRvIGFkZCB0byB0aGUgYHByZXZpb3VzVE5vZGVzYCBsaXN0LlxuICovXG5mdW5jdGlvbiBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4KHByZXZpb3VzVE5vZGVzLCBuZXdUTm9kZSkge1xuICAgIC8vIFN0YXJ0IHdpdGggUnVsZTFcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3VE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXgsIG51bGwsICdXZSBleHBlY3QgdGhhdCBpbnNlcnRCZWZvcmVJbmRleCBpcyBub3Qgc2V0Jyk7XG4gICAgcHJldmlvdXNUTm9kZXMucHVzaChuZXdUTm9kZSk7XG4gICAgaWYgKHByZXZpb3VzVE5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHByZXZpb3VzVE5vZGVzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1ROb2RlID0gcHJldmlvdXNUTm9kZXNbaV07XG4gICAgICAgICAgICAvLyBUZXh0IG5vZGVzIGFyZSBjcmVhdGVkIGVhZ2VybHkgYW5kIHNvIHRoZXkgZG9uJ3QgbmVlZCB0aGVpciBgaW5kZXhCZWZvcmVJbmRleGAgdXBkYXRlZC5cbiAgICAgICAgICAgIC8vIEl0IGlzIHNhZmUgdG8gaWdub3JlIHRoZW0uXG4gICAgICAgICAgICBpZiAoIWlzSTE4blRleHQoZXhpc3RpbmdUTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXdUTm9kZUNyZWF0ZWRCZWZvcmUoZXhpc3RpbmdUTm9kZSwgbmV3VE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGdldEluc2VydEJlZm9yZUluZGV4KGV4aXN0aW5nVE5vZGUpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IHdhcyBjcmVhdGVkIGJlZm9yZSB1cyBpbiB0aW1lLCAoYW5kIGl0IGRvZXMgbm90IHlldCBoYXZlIGBpbnNlcnRCZWZvcmVJbmRleGApXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gYWRkIHRoZSBgaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICAgICAgICAgICAgICAgICAgICBzZXRJbnNlcnRCZWZvcmVJbmRleChleGlzdGluZ1ROb2RlLCBuZXdUTm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNJMThuVGV4dCh0Tm9kZSkge1xuICAgIHJldHVybiAhKHROb2RlLnR5cGUgJiA2NCAvKiBQbGFjZWhvbGRlciAqLyk7XG59XG5mdW5jdGlvbiBpc05ld1ROb2RlQ3JlYXRlZEJlZm9yZShleGlzdGluZ1ROb2RlLCBuZXdUTm9kZSkge1xuICAgIHJldHVybiBpc0kxOG5UZXh0KG5ld1ROb2RlKSB8fCBleGlzdGluZ1ROb2RlLmluZGV4ID4gbmV3VE5vZGUuaW5kZXg7XG59XG5mdW5jdGlvbiBnZXRJbnNlcnRCZWZvcmVJbmRleCh0Tm9kZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaW5kZXgpID8gaW5kZXhbMF0gOiBpbmRleDtcbn1cbmZ1bmN0aW9uIHNldEluc2VydEJlZm9yZUluZGV4KHROb2RlLCB2YWx1ZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICAgIC8vIEFycmF5IGlzIHN0b3JlZCBpZiB3ZSBoYXZlIHRvIGluc2VydCBjaGlsZCBub2Rlcy4gU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAgICAgICAgaW5kZXhbMF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldEkxOG5IYW5kbGluZyhnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuLCBwcm9jZXNzSTE4bkluc2VydEJlZm9yZSk7XG4gICAgICAgIHROb2RlLmluc2VydEJlZm9yZUluZGV4ID0gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmUgYFRJY3VgIGF0IGEgZ2l2ZW4gYGluZGV4YC5cbiAqXG4gKiBUaGUgYFRJY3VgIGNhbiBiZSBzdG9yZWQgZWl0aGVyIGRpcmVjdGx5IChpZiBpdCBpcyBuZXN0ZWQgSUNVKSBPUlxuICogaXQgaXMgc3RvcmVkIGluc2lkZSB0aG8gYFRJY3VDb250YWluZXJgIGlmIGl0IGlzIHRvcCBsZXZlbCBJQ1UuXG4gKlxuICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHRoZSB0b3AgbGV2ZWwgSUNVIG5lZWQgYSBgVE5vZGVgIHNvIHRoYXQgdGhleSBhcmUgcGFydCBvZiB0aGUgcmVuZGVyXG4gKiB0cmVlLCBidXQgbmVzdGVkIElDVSdzIGhhdmUgbm8gVE5vZGUsIGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lIGlmIHRoZSBuZXN0ZWQgSUNVIGlzXG4gKiBleHByZXNzZWQgKHBhcmVudCBJQ1UgbWF5IGhhdmUgc2VsZWN0ZWQgYSBjYXNlIHdoaWNoIGRvZXMgbm90IGNvbnRhaW4gaXQuKVxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggd2hlcmUgdGhlIHZhbHVlIHNob3VsZCBiZSByZWFkIGZyb20uXG4gKi9cbmZ1bmN0aW9uIGdldFRJY3UodFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKG5nRGV2TW9kZSAmJlxuICAgICAgICAhKHZhbHVlLmhhc093blByb3BlcnR5KCd0Vmlld3MnKSB8fCB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudENhc2VMVmlld0luZGV4JykpKSB7XG4gICAgICAgIHRocm93RXJyb3IoJ1dlIGV4cGVjdCB0byBnZXQgXFwnbnVsbFxcJ3xcXCdUSWN1XFwnfFxcJ1RJY3VDb250YWluZXJcXCcsIGJ1dCBnb3Q6ICcgKyB2YWx1ZSk7XG4gICAgfVxuICAgIC8vIEhlcmUgdGhlIGB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudENhc2VMVmlld0luZGV4JylgIGlzIGEgcG9seW1vcnBoaWMgcmVhZCBhcyBpdCBjYW4gYmVcbiAgICAvLyBlaXRoZXIgVEljdSBvciBUSWN1Q29udGFpbmVyTm9kZS4gVGhpcyBpcyBub3QgaWRlYWwsIGJ1dCB3ZSBzdGlsbCB0aGluayBpdCBpcyBPSyBiZWNhdXNlIGl0XG4gICAgLy8gd2lsbCBiZSBqdXN0IHR3byBjYXNlcyB3aGljaCBmaXRzIGludG8gdGhlIGJyb3dzZXIgaW5saW5lIGNhY2hlIChpbmxpbmUgY2FjaGUgY2FuIHRha2UgdXAgdG9cbiAgICAvLyA0KVxuICAgIGNvbnN0IHRJY3UgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudENhc2VMVmlld0luZGV4JykgPyB2YWx1ZSA6XG4gICAgICAgIHZhbHVlLnZhbHVlO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUSWN1KHRJY3UpO1xuICAgIHJldHVybiB0SWN1O1xufVxuLyoqXG4gKiBTdG9yZSBgVEljdWAgYXQgYSBnaXZlIGBpbmRleGAuXG4gKlxuICogVGhlIGBUSWN1YCBjYW4gYmUgc3RvcmVkIGVpdGhlciBkaXJlY3RseSAoaWYgaXQgaXMgbmVzdGVkIElDVSkgT1JcbiAqIGl0IGlzIHN0b3JlZCBpbnNpZGUgdGhvIGBUSWN1Q29udGFpbmVyYCBpZiBpdCBpcyB0b3AgbGV2ZWwgSUNVLlxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB0aGUgdG9wIGxldmVsIElDVSBuZWVkIGEgYFROb2RlYCBzbyB0aGF0IHRoZXkgYXJlIHBhcnQgb2YgdGhlIHJlbmRlclxuICogdHJlZSwgYnV0IG5lc3RlZCBJQ1UncyBoYXZlIG5vIFROb2RlLCBiZWNhdXNlIHdlIGRvbid0IGtub3cgYWhlYWQgb2YgdGltZSBpZiB0aGUgbmVzdGVkIElDVSBpc1xuICogZXhwcmVzc2VkIChwYXJlbnQgSUNVIG1heSBoYXZlIHNlbGVjdGVkIGEgY2FzZSB3aGljaCBkb2VzIG5vdCBjb250YWluIGl0LilcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIGluZGV4IEluZGV4IHdoZXJlIHRoZSB2YWx1ZSBzaG91bGQgYmUgc3RvcmVkIGF0IGluIGBUdmlldy5kYXRhYFxuICogQHBhcmFtIHRJY3UgVGhlIFRJY3UgdG8gc3RvcmUuXG4gKi9cbmZ1bmN0aW9uIHNldFRJY3UodFZpZXcsIGluZGV4LCB0SWN1KSB7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodE5vZGUgPT09IG51bGwgfHwgdE5vZGUuaGFzT3duUHJvcGVydHkoJ3RWaWV3cycpLCB0cnVlLCAnV2UgZXhwZWN0IHRvIGdldCBcXCdudWxsXFwnfFxcJ1RJY3VDb250YWluZXJcXCcnKTtcbiAgICBpZiAodE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSB0SWN1O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMzIgLyogSWN1ICovKTtcbiAgICAgICAgdE5vZGUudmFsdWUgPSB0SWN1O1xuICAgIH1cbn1cbi8qKlxuICogU2V0IGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgdGFraW5nIHRoZSBgQXJyYXlgIGludG8gYWNjb3VudC5cbiAqXG4gKiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICovXG5mdW5jdGlvbiBzZXRUTm9kZUluc2VydEJlZm9yZUluZGV4KHROb2RlLCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZSh0Tm9kZSk7XG4gICAgbGV0IGluc2VydEJlZm9yZUluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKGluc2VydEJlZm9yZUluZGV4ID09PSBudWxsKSB7XG4gICAgICAgIHNldEkxOG5IYW5kbGluZyhnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuLCBwcm9jZXNzSTE4bkluc2VydEJlZm9yZSk7XG4gICAgICAgIGluc2VydEJlZm9yZUluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXggPVxuICAgICAgICAgICAgW251bGwgLyogbWF5IGJlIHVwZGF0ZWQgdG8gbnVtYmVyIGxhdGVyICovLCBpbmRleF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NlcnRFcXVhbChBcnJheS5pc0FycmF5KGluc2VydEJlZm9yZUluZGV4KSwgdHJ1ZSwgJ0V4cGVjdGluZyBhcnJheSBoZXJlJyk7XG4gICAgICAgIGluc2VydEJlZm9yZUluZGV4LnB1c2goaW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGBUTm9kZS50eXBlPVROb2RlVHlwZS5QbGFjZWhvbGRlcmAgbm9kZS5cbiAqXG4gKiBTZWUgYFROb2RlVHlwZS5QbGFjZWhvbGRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVROb2RlUGxhY2Vob2xkZXIodFZpZXcsIHByZXZpb3VzVE5vZGVzLCBpbmRleCkge1xuICAgIGNvbnN0IHROb2RlID0gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpbmRleCwgNjQgLyogUGxhY2Vob2xkZXIgKi8sIG51bGwsIG51bGwpO1xuICAgIGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgocHJldmlvdXNUTm9kZXMsIHROb2RlKTtcbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIFJldHVybnMgY3VycmVudCBJQ1UgY2FzZS5cbiAqXG4gKiBJQ1UgY2FzZXMgYXJlIHN0b3JlZCBhcyBpbmRleCBpbnRvIHRoZSBgVEljdS5jYXNlc2AuXG4gKiBBdCB0aW1lcyBpdCBpcyBuZWNlc3NhcnkgdG8gY29tbXVuaWNhdGUgdGhhdCB0aGUgSUNVIGNhc2UganVzdCBzd2l0Y2hlZCBhbmQgdGhhdCBuZXh0IElDVSB1cGRhdGVcbiAqIHNob3VsZCB1cGRhdGUgYWxsIGJpbmRpbmdzIHJlZ2FyZGxlc3Mgb2YgdGhlIG1hc2suIEluIHN1Y2ggYSBjYXNlIHRoZSB3ZSBzdG9yZSBuZWdhdGl2ZSBudW1iZXJzXG4gKiBmb3IgY2FzZXMgd2hpY2ggaGF2ZSBqdXN0IGJlZW4gc3dpdGNoZWQuIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgbmVnYXRpdmUgZmxhZy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldykge1xuICAgIGNvbnN0IGN1cnJlbnRDYXNlID0gbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdO1xuICAgIHJldHVybiBjdXJyZW50Q2FzZSA9PT0gbnVsbCA/IGN1cnJlbnRDYXNlIDogKGN1cnJlbnRDYXNlIDwgMCA/IH5jdXJyZW50Q2FzZSA6IGN1cnJlbnRDYXNlKTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUobWVyZ2VkQ29kZSkge1xuICAgIHJldHVybiBtZXJnZWRDb2RlID4+PiAxNyAvKiBTSElGVF9QQVJFTlQgKi87XG59XG5mdW5jdGlvbiBnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlKG1lcmdlZENvZGUpIHtcbiAgICByZXR1cm4gKG1lcmdlZENvZGUgJiAxMzEwNzAgLyogTUFTS19SRUYgKi8pID4+PiAxIC8qIFNISUZUX1JFRiAqLztcbn1cbmZ1bmN0aW9uIGdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZShtZXJnZWRDb2RlKSB7XG4gICAgcmV0dXJuIG1lcmdlZENvZGUgJiAxIC8qIE1BU0tfSU5TVFJVQ1RJT04gKi87XG59XG5mdW5jdGlvbiBpY3VDcmVhdGVPcENvZGUob3BDb2RlLCBwYXJlbnRJZHgsIHJlZklkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwocGFyZW50SWR4LCAwLCAnTWlzc2luZyBwYXJlbnQgaW5kZXgnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4ocmVmSWR4LCAwLCAnTWlzc2luZyByZWYgaW5kZXgnKTtcbiAgICByZXR1cm4gb3BDb2RlIHwgcGFyZW50SWR4IDw8IDE3IC8qIFNISUZUX1BBUkVOVCAqLyB8IHJlZklkeCA8PCAxIC8qIFNISUZUX1JFRiAqLztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEtlZXAgdHJhY2sgb2Ygd2hpY2ggaW5wdXQgYmluZGluZ3MgaW4gYMm1ybVpMThuRXhwYCBoYXZlIGNoYW5nZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIHRvIGVmZmljaWVudGx5IHVwZGF0ZSBleHByZXNzaW9ucyBpbiBpMThuIG9ubHkgd2hlbiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCBoYXNcbiAqIGNoYW5nZWQuXG4gKlxuICogMSkgRWFjaCBiaXQgcmVwcmVzZW50cyB3aGljaCBvZiB0aGUgYMm1ybVpMThuRXhwYCBoYXMgY2hhbmdlZC5cbiAqIDIpIFRoZXJlIGFyZSAzMiBiaXRzIGFsbG93ZWQgaW4gSlMuXG4gKiAzKSBCaXQgMzIgaXMgc3BlY2lhbCBhcyBpdCBpcyBzaGFyZWQgZm9yIGFsbCBjaGFuZ2VzIHBhc3QgMzIuIChJbiBvdGhlciB3b3JkcyBpZiB5b3UgaGF2ZSBtb3JlXG4gKiB0aGFuIDMyIGDJtcm1aTE4bkV4cGAgdGhlbiBhbGwgY2hhbmdlcyBwYXN0IDMybmQgYMm1ybVpMThuRXhwYCB3aWxsIGJlIG1hcHBlZCB0byBzYW1lIGJpdC4gVGhpcyBtZWFuc1xuICogdGhhdCB3ZSBtYXkgZW5kIHVwIGNoYW5naW5nIG1vcmUgdGhhbiB3ZSBuZWVkIHRvLiBCdXQgaTE4biBleHByZXNzaW9ucyB3aXRoIDMyIGJpbmRpbmdzIGlzIHJhcmVcbiAqIHNvIGluIHByYWN0aWNlIGl0IHNob3VsZCBub3QgYmUgYW4gaXNzdWUuKVxuICovXG5sZXQgY2hhbmdlTWFzayA9IDBiMDtcbi8qKlxuICogS2VlcHMgdHJhY2sgb2Ygd2hpY2ggYml0IG5lZWRzIHRvIGJlIHVwZGF0ZWQgaW4gYGNoYW5nZU1hc2tgXG4gKlxuICogVGhpcyB2YWx1ZSBnZXRzIGluY3JlbWVudGVkIG9uIGV2ZXJ5IGNhbGwgdG8gYMm1ybVpMThuRXhwYFxuICovXG5sZXQgY2hhbmdlTWFza0NvdW50ZXIgPSAwO1xuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIHdoaWNoIGlucHV0IGJpbmRpbmdzIGluIGDJtcm1aTE4bkV4cGAgaGF2ZSBjaGFuZ2VkLlxuICpcbiAqIGBzZXRNYXNrQml0YCBnZXRzIGludm9rZWQgYnkgZWFjaCBjYWxsIHRvIGDJtcm1aTE4bkV4cGAuXG4gKlxuICogQHBhcmFtIGhhc0NoYW5nZSBkaWQgYMm1ybVpMThuRXhwYCBkZXRlY3QgYSBjaGFuZ2UuXG4gKi9cbmZ1bmN0aW9uIHNldE1hc2tCaXQoaGFzQ2hhbmdlKSB7XG4gICAgaWYgKGhhc0NoYW5nZSkge1xuICAgICAgICBjaGFuZ2VNYXNrID0gY2hhbmdlTWFzayB8ICgxIDw8IE1hdGgubWluKGNoYW5nZU1hc2tDb3VudGVyLCAzMSkpO1xuICAgIH1cbiAgICBjaGFuZ2VNYXNrQ291bnRlcisrO1xufVxuZnVuY3Rpb24gYXBwbHlJMThuKHRWaWV3LCBsVmlldywgaW5kZXgpIHtcbiAgICBpZiAoY2hhbmdlTWFza0NvdW50ZXIgPiAwKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBgdFZpZXcgc2hvdWxkIGJlIGRlZmluZWRgKTtcbiAgICAgICAgY29uc3QgdEkxOG4gPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICAgICAgLy8gV2hlbiBgaW5kZXhgIHBvaW50cyB0byBhbiBgybXJtWkxOG5BdHRyaWJ1dGVzYCB0aGVuIHdlIGhhdmUgYW4gYXJyYXkgb3RoZXJ3aXNlIGBUSTE4bmBcbiAgICAgICAgY29uc3QgdXBkYXRlT3BDb2RlcyA9IEFycmF5LmlzQXJyYXkodEkxOG4pID8gdEkxOG4gOiB0STE4bi51cGRhdGU7XG4gICAgICAgIGNvbnN0IGJpbmRpbmdzU3RhcnRJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpIC0gY2hhbmdlTWFza0NvdW50ZXIgLSAxO1xuICAgICAgICBhcHBseVVwZGF0ZU9wQ29kZXModFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGNoYW5nZU1hc2spO1xuICAgIH1cbiAgICAvLyBSZXNldCBjaGFuZ2VNYXNrICYgbWFza0JpdCB0byBkZWZhdWx0IGZvciB0aGUgbmV4dCB1cGRhdGUgY3ljbGVcbiAgICBjaGFuZ2VNYXNrID0gMGIwO1xuICAgIGNoYW5nZU1hc2tDb3VudGVyID0gMDtcbn1cbi8qKlxuICogQXBwbHkgYEkxOG5DcmVhdGVPcENvZGVzYCBvcC1jb2RlcyBhcyBzdG9yZWQgaW4gYFRJMThuLmNyZWF0ZWAuXG4gKlxuICogQ3JlYXRlcyB0ZXh0IChhbmQgY29tbWVudCkgbm9kZXMgd2hpY2ggYXJlIGludGVybmF0aW9uYWxpemVkLlxuICpcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGxWaWV3XG4gKiBAcGFyYW0gY3JlYXRlT3BDb2RlcyBTZXQgb2Ygb3AtY29kZXMgdG8gYXBwbHlcbiAqIEBwYXJhbSBwYXJlbnRSTm9kZSBQYXJlbnQgbm9kZSAoc28gdGhhdCBkaXJlY3QgY2hpbGRyZW4gY2FuIGJlIGFkZGVkIGVhZ2VybHkpIG9yIGBudWxsYCBpZiBpdCBpc1xuICogICAgIGEgcm9vdCBub2RlLlxuICogQHBhcmFtIGluc2VydEluRnJvbnRPZiBET00gbm9kZSB0aGF0IHNob3VsZCBiZSB1c2VkIGFzIGFuIGFuY2hvci5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDcmVhdGVPcENvZGVzKGxWaWV3LCBjcmVhdGVPcENvZGVzLCBwYXJlbnRSTm9kZSwgaW5zZXJ0SW5Gcm9udE9mKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcmVhdGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IGNyZWF0ZU9wQ29kZXNbaSsrXTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGNyZWF0ZU9wQ29kZXNbaV07XG4gICAgICAgIGNvbnN0IGlzQ29tbWVudCA9IChvcENvZGUgJiBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQpID09PSBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQ7XG4gICAgICAgIGNvbnN0IGFwcGVuZE5vdyA9IChvcENvZGUgJiBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZKSA9PT0gSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBvcENvZGUgPj4+IEkxOG5DcmVhdGVPcENvZGUuU0hJRlQ7XG4gICAgICAgIGxldCByTm9kZSA9IGxWaWV3W2luZGV4XTtcbiAgICAgICAgaWYgKHJOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNyZWF0ZSBuZXcgRE9NIG5vZGVzIGlmIHRoZXkgZG9uJ3QgYWxyZWFkeSBleGlzdDogSWYgSUNVIHN3aXRjaGVzIGNhc2UgYmFjayB0byBhXG4gICAgICAgICAgICAvLyBjYXNlIHdoaWNoIHdhcyBhbHJlYWR5IGluc3RhbnRpYXRlZCwgbm8gbmVlZCB0byBjcmVhdGUgbmV3IERPTSBub2Rlcy5cbiAgICAgICAgICAgIHJOb2RlID0gbFZpZXdbaW5kZXhdID1cbiAgICAgICAgICAgICAgICBpc0NvbW1lbnQgPyByZW5kZXJlci5jcmVhdGVDb21tZW50KHRleHQpIDogY3JlYXRlVGV4dE5vZGUocmVuZGVyZXIsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBlbmROb3cgJiYgcGFyZW50Uk5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50Uk5vZGUsIHJOb2RlLCBpbnNlcnRJbkZyb250T2YsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgYEkxOG5NdXRhdGVPcENvZGVzYCBPcENvZGVzLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSBtdXRhYmxlT3BDb2RlcyBNdXRhYmxlIE9wQ29kZXMgdG8gcHJvY2Vzc1xuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIGFuY2hvclJOb2RlIHBsYWNlIHdoZXJlIHRoZSBpMThuIG5vZGUgc2hvdWxkIGJlIGluc2VydGVkLlxuICovXG5mdW5jdGlvbiBhcHBseU11dGFibGVPcENvZGVzKHRWaWV3LCBtdXRhYmxlT3BDb2RlcywgbFZpZXcsIGFuY2hvclJOb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoYW5jaG9yUk5vZGUpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIC8vIGByb290SWR4YCByZXByZXNlbnRzIHRoZSBub2RlIGludG8gd2hpY2ggYWxsIGluc2VydHMgaGFwcGVuLlxuICAgIGxldCByb290SWR4ID0gbnVsbDtcbiAgICAvLyBgcm9vdFJOb2RlYCByZXByZXNlbnRzIHRoZSByZWFsIG5vZGUgaW50byB3aGljaCB3ZSBpbnNlcnQuIFRoaXMgY2FuIGJlIGRpZmZlcmVudCBmcm9tXG4gICAgLy8gYGxWaWV3W3Jvb3RJZHhdYCBpZiB3ZSBoYXZlIHByb2plY3Rpb24uXG4gICAgLy8gIC0gbnVsbCB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IChhcyBjYW4gYmUgdGhlIGNhc2UgaW4gd2hlbiB3ZSBhcmUgaW5zZXJ0aW5nIGludG8gYSByb290IG9mXG4gICAgLy8gICAgTFZpZXcgd2hpY2ggaGFzIG5vIHBhcmVudC4pXG4gICAgLy8gIC0gYFJFbGVtZW50YCBUaGUgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIHJvb3QgYWZ0ZXIgdGFraW5nIHByb2plY3Rpb24gaW50byBhY2NvdW50LlxuICAgIGxldCByb290Uk5vZGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhYmxlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBtdXRhYmxlT3BDb2Rlc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHROb2RlSW5kZXggPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgaWYgKGxWaWV3W3RleHROb2RlSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZVRleHROb2RlKys7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdGV4dE5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgbFZpZXdbdGV4dE5vZGVJbmRleF0gPSBjcmVhdGVUZXh0Tm9kZShyZW5kZXJlciwgb3BDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3BDb2RlID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSAmIDEgLyogTUFTS19JTlNUUlVDVElPTiAqLykge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBBcHBlbmRDaGlsZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SWR4ID0gZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdElkeCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IG9wZXJhdGlvbiBzaG91bGQgc2F2ZSB0aGUgYHJvb3RJZHhgIGJlY2F1c2UgdGhlIGZpcnN0IG9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbXVzdCBpbnNlcnQgaW50byB0aGUgcm9vdC4gKE9ubHkgc3Vic2VxdWVudCBvcGVyYXRpb25zIGNhbiBpbnNlcnQgaW50byBhIGR5bmFtaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RJZHggPSBwYXJlbnRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290Uk5vZGUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBhbmNob3JSTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGluc2VydEluRnJvbnRPZjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudFJOb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50SWR4ID09PSByb290SWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRJbkZyb250T2YgPSBhbmNob3JSTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFJOb2RlID0gcm9vdFJOb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0SW5Gcm9udE9mID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFJOb2RlID0gdW53cmFwUk5vZGUobFZpZXdbcGFyZW50SWR4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBSZWZhY3RvciB3aXRoIGBwcm9jZXNzSTE4blRleHRgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBgTFZpZXdgIHdlIGFyZSBhZGRpbmcgdG8gaXMgbm90IGF0dGFjaGVkIHRvIGEgcGFyZW50IGBMVmlld2AuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBzdWNoIGEgY2FzZSB0aGVyZSBpcyBubyBcInJvb3RcIiB3ZSBjYW4gYXR0YWNoIHRvLiBUaGlzIGlzIGZpbmUsIGFzIHdlIHN0aWxsIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgZWxlbWVudHMuIFdoZW4gdGhlIGBMVmlld2AgZ2V0cyBsYXRlciBhZGRlZCB0byBhIHBhcmVudCB0aGVzZSBcInJvb3RcIiBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHBpY2tlZCB1cCBhbmQgYWRkZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShwYXJlbnRSTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZJZHggPSBnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4ocmVmSWR4LCBIRUFERVJfT0ZGU0VULCAnTWlzc2luZyByZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB1bndyYXBSTm9kZWAgaXMgbm90IG5lZWRlZCBoZXJlIGFzIGFsbCBvZiB0aGVzZSBwb2ludCB0byBSTm9kZXMgYXMgcGFydCBvZiB0aGUgaTE4blxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggY2FuJ3QgaGF2ZSBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBsVmlld1tyZWZJZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgY2hpbGQsIGluc2VydEluRnJvbnRPZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdEljdSA9IGdldFRJY3UodFZpZXcsIHJlZklkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodEljdSAhPT0gbnVsbCAmJiB0eXBlb2YgdEljdSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBqdXN0IGFkZGVkIGEgY29tbWVudCBub2RlIHdoaWNoIGhhcyBJQ1UgdGhlbiB0aGF0IElDVSBtYXkgaGF2ZSBhbHJlYWR5IGJlZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXJlZCBhbmQgdGhlcmVmb3JlIHdlIG5lZWQgdG8gcmUtYWRkIGl0IGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFRJY3UodEljdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzZUluZGV4ID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseU11dGFibGVPcENvZGVzKHRWaWV3LCB0SWN1LmNyZWF0ZVtjYXNlSW5kZXhdLCBsVmlldywgbFZpZXdbdEljdS5hbmNob3JJZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnROb2RlSW5kZXggPSBvcENvZGUgPj4+IDEgLyogU0hJRlRfUkVGICovO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY29kZSBpcyB1c2VkIGZvciBJQ1UgZXhwcmVzc2lvbnMgb25seSwgc2luY2Ugd2UgZG9uJ3Qgc3VwcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzL2NvbXBvbmVudHMgaW4gSUNVcywgd2UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBpbnB1dHMgaGVyZVxuICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50QXR0cmlidXRlKHJlbmRlcmVyLCBnZXROYXRpdmVCeUluZGV4KGVsZW1lbnROb2RlSW5kZXgsIGxWaWV3KSwgbnVsbCwgbnVsbCwgYXR0ck5hbWUsIGF0dHJWYWx1ZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNzAwIC8qIElOVkFMSURfSTE4Tl9TVFJVQ1RVUkUgKi8sIGBVbmFibGUgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIG11dGF0ZSBvcGVyYXRpb24gZm9yIFwiJHtvcENvZGV9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChvcENvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIElDVV9NQVJLRVI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRWYWx1ZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnROb2RlSW5kZXggPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobFZpZXdbY29tbWVudE5vZGVJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHR5cGVvZiBjb21tZW50VmFsdWUsICdzdHJpbmcnLCBgRXhwZWN0ZWQgXCIke2NvbW1lbnRWYWx1ZX1cIiB0byBiZSBhIGNvbW1lbnQgbm9kZSB2YWx1ZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluRXhwYW5kb1JhbmdlKGxWaWV3LCBjb21tZW50Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRSTm9kZSA9IGxWaWV3W2NvbW1lbnROb2RlSW5kZXhdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb21tZW50Tm9kZShyZW5kZXJlciwgY29tbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FKG1pc2tvKTogQXR0YWNoaW5nIHBhdGNoIGRhdGEgaXMgb25seSBuZWVkZWQgZm9yIHRoZSByb290IChBbHNvIGFkZCB0ZXN0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb21tZW50Uk5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVMRU1FTlRfTUFSS0VSOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudE5vZGVJbmRleCA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsVmlld1tlbGVtZW50Tm9kZUluZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIHRhZ05hbWUsICdzdHJpbmcnLCBgRXhwZWN0ZWQgXCIke3RhZ05hbWV9XCIgdG8gYmUgYW4gZWxlbWVudCBub2RlIHRhZyBuYW1lYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlRWxlbWVudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGVsZW1lbnROb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFJOb2RlID0gbFZpZXdbZWxlbWVudE5vZGVJbmRleF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyLCB0YWdOYW1lLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FKG1pc2tvKTogQXR0YWNoaW5nIHBhdGNoIGRhdGEgaXMgb25seSBuZWVkZWQgZm9yIHRoZSByb290IChBbHNvIGFkZCB0ZXN0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShlbGVtZW50Uk5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYFVuYWJsZSB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgbXV0YXRlIG9wZXJhdGlvbiBmb3IgXCIke29wQ29kZX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBgSTE4blVwZGF0ZU9wQ29kZXNgIE9wQ29kZXNcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gdXBkYXRlT3BDb2RlcyBPcENvZGVzIHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBiaW5kaW5nc1N0YXJ0SW5kZXggTG9jYXRpb24gb2YgdGhlIGZpcnN0IGDJtcm1aTE4bkFwcGx5YFxuICogQHBhcmFtIGNoYW5nZU1hc2sgRWFjaCBiaXQgY29ycmVzcG9uZHMgdG8gYSBgybXJtWkxOG5FeHBgIChDb3VudGluZyBiYWNrd2FyZHMgZnJvbVxuICogICAgIGBiaW5kaW5nc1N0YXJ0SW5kZXhgKVxuICovXG5mdW5jdGlvbiBhcHBseVVwZGF0ZU9wQ29kZXModFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGNoYW5nZU1hc2spIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZGF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYml0IGNvZGUgdG8gY2hlY2sgaWYgd2Ugc2hvdWxkIGFwcGx5IHRoZSBuZXh0IHVwZGF0ZVxuICAgICAgICBjb25zdCBjaGVja0JpdCA9IHVwZGF0ZU9wQ29kZXNbaV07XG4gICAgICAgIC8vIE51bWJlciBvZiBvcENvZGVzIHRvIHNraXAgdW50aWwgbmV4dCBzZXQgb2YgdXBkYXRlIGNvZGVzXG4gICAgICAgIGNvbnN0IHNraXBDb2RlcyA9IHVwZGF0ZU9wQ29kZXNbKytpXTtcbiAgICAgICAgaWYgKGNoZWNrQml0ICYgY2hhbmdlTWFzaykge1xuICAgICAgICAgICAgLy8gVGhlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWQgc2luY2UgbGFzdCBjaGVja2VkXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8PSAoaSArIHNraXBDb2Rlcyk7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wQ29kZSA9IHVwZGF0ZU9wQ29kZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gb3BDb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3BDb2RlID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBvcENvZGUgcmVwcmVzZW50IGBpMThuRXhwYCB2YWx1ZXMgb2Zmc2V0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gcmVuZGVyU3RyaW5naWZ5KGxWaWV3W2JpbmRpbmdzU3RhcnRJbmRleCAtIG9wQ29kZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZUluZGV4ID0gKG9wQ29kZSA+Pj4gMiAvKiBTSElGVF9SRUYgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcENvZGUgJiAzIC8qIE1BU0tfT1BDT0RFICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gdXBkYXRlT3BDb2Rlc1srK2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW5pdGl6ZUZuID0gdXBkYXRlT3BDb2Rlc1srK2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0Tm9kZU9yVGFnTmFtZSA9IHRWaWV3LmRhdGFbbm9kZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGVPclRhZ05hbWUsICdFeHBlcnRpbmcgVE5vZGUgb3Igc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdE5vZGVPclRhZ05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRiB3ZSBkb24ndCBoYXZlIGEgYFROb2RlYCwgdGhlbiB3ZSBhcmUgYW4gZWxlbWVudCBpbiBJQ1UgKGFzIElDVSBjb250ZW50IGRvZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBoYXZlIFROb2RlKSwgaW4gd2hpY2ggY2FzZSB3ZSBrbm93IHRoYXQgdGhlcmUgYXJlIG5vIGRpcmVjdGl2ZXMsIGFuZCBoZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgdXNlIGF0dHJpYnV0ZSBzZXR0aW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWxlbWVudEF0dHJpYnV0ZShsVmlld1tSRU5ERVJFUl0sIGxWaWV3W25vZGVJbmRleF0sIG51bGwsIHROb2RlT3JUYWdOYW1lLCBwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplRm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlT3JUYWdOYW1lLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplRm4sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDAgLyogVGV4dCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgclRleHQgPSBsVmlld1tub2RlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByVGV4dCAhPT0gbnVsbCAmJiB1cGRhdGVUZXh0Tm9kZShsVmlld1tSRU5ERVJFUl0sIHJUZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBJY3VTd2l0Y2ggKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5SWN1U3dpdGNoQ2FzZSh0VmlldywgZ2V0VEljdSh0Vmlldywgbm9kZUluZGV4KSwgbFZpZXcsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIEljdVVwZGF0ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlJY3VVcGRhdGVDYXNlKHRWaWV3LCBnZXRUSWN1KHRWaWV3LCBub2RlSW5kZXgpLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBvcENvZGUgPSB1cGRhdGVPcENvZGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChvcENvZGUgPiAwICYmIChvcENvZGUgJiAzIC8qIE1BU0tfT1BDT0RFICovKSA9PT0gMyAvKiBJY3VVcGRhdGUgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHRoZSBgaWN1VXBkYXRlQ2FzZWAuIEl0IGNvdWxkIGJlIHRoYXQgdGhlIG1hc2sgZGlkIG5vdCBtYXRjaCwgYnV0XG4gICAgICAgICAgICAgICAgLy8gd2Ugc3RpbGwgbmVlZCB0byBleGVjdXRlIGBpY3VVcGRhdGVDYXNlYCBiZWNhdXNlIHRoZSBjYXNlIGhhcyBjaGFuZ2VkIHJlY2VudGx5IGR1ZSB0b1xuICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIGBpY3VTd2l0Y2hDYXNlYCBpbnN0cnVjdGlvbi4gKGBpY3VTd2l0Y2hDYXNlYCBhbmQgYGljdVVwZGF0ZUNhc2VgIGFsd2F5cyBjb21lIGluXG4gICAgICAgICAgICAgICAgLy8gcGFpcnMuKVxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVJbmRleCA9IChvcENvZGUgPj4+IDIgLyogU0hJRlRfUkVGICovKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0SWN1ID0gZ2V0VEljdSh0Vmlldywgbm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlJY3VVcGRhdGVDYXNlKHRWaWV3LCB0SWN1LCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSArPSBza2lwQ29kZXM7XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBPcENvZGVzIGFzc29jaWF0ZWQgd2l0aCB1cGRhdGluZyBhbiBleGlzdGluZyBJQ1UuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIHRJY3UgQ3VycmVudCBgVEljdWBcbiAqIEBwYXJhbSBiaW5kaW5nc1N0YXJ0SW5kZXggTG9jYXRpb24gb2YgdGhlIGZpcnN0IGDJtcm1aTE4bkFwcGx5YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBhcHBseUljdVVwZGF0ZUNhc2UodFZpZXcsIHRJY3UsIGJpbmRpbmdzU3RhcnRJbmRleCwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleCk7XG4gICAgbGV0IGFjdGl2ZUNhc2VJbmRleCA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XTtcbiAgICBpZiAoYWN0aXZlQ2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBtYXNrID0gY2hhbmdlTWFzaztcbiAgICAgICAgaWYgKGFjdGl2ZUNhc2VJbmRleCA8IDApIHtcbiAgICAgICAgICAgIC8vIENsZWFyIHRoZSBmbGFnLlxuICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVyIG1lYW5zIHRoYXQgdGhlIElDVSB3YXMgZnJlc2hseSBjcmVhdGVkIGFuZCB3ZSBuZWVkIHRvIGZvcmNlIHRoZSB1cGRhdGUuXG4gICAgICAgICAgICBhY3RpdmVDYXNlSW5kZXggPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF0gPSB+YWN0aXZlQ2FzZUluZGV4O1xuICAgICAgICAgICAgLy8gLTEgaXMgc2FtZSBhcyBhbGwgYml0cyBvbiwgd2hpY2ggc2ltdWxhdGVzIGNyZWF0aW9uIHNpbmNlIGl0IG1hcmtzIGFsbCBiaXRzIGRpcnR5XG4gICAgICAgICAgICBtYXNrID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlVcGRhdGVPcENvZGVzKHRWaWV3LCBsVmlldywgdEljdS51cGRhdGVbYWN0aXZlQ2FzZUluZGV4XSwgYmluZGluZ3NTdGFydEluZGV4LCBtYXNrKTtcbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IE9wQ29kZXMgYXNzb2NpYXRlZCB3aXRoIHN3aXRjaGluZyBhIGNhc2Ugb24gSUNVLlxuICpcbiAqIFRoaXMgaW52b2x2ZXMgdGVhcmluZyBkb3duIGV4aXN0aW5nIGNhc2UgYW5kIHRoYW4gYnVpbGRpbmcgdXAgYSBuZXcgY2FzZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gdEljdSBDdXJyZW50IGBUSWN1YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIHZhbHVlIFZhbHVlIG9mIHRoZSBjYXNlIHRvIHVwZGF0ZSB0by5cbiAqL1xuZnVuY3Rpb24gYXBwbHlJY3VTd2l0Y2hDYXNlKHRWaWV3LCB0SWN1LCBsVmlldywgdmFsdWUpIHtcbiAgICAvLyBSZWJ1aWxkIGEgbmV3IGNhc2UgZm9yIHRoaXMgSUNVXG4gICAgY29uc3QgY2FzZUluZGV4ID0gZ2V0Q2FzZUluZGV4KHRJY3UsIHZhbHVlKTtcbiAgICBsZXQgYWN0aXZlQ2FzZUluZGV4ID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgaWYgKGFjdGl2ZUNhc2VJbmRleCAhPT0gY2FzZUluZGV4KSB7XG4gICAgICAgIGFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSh0VmlldywgdEljdSwgbFZpZXcpO1xuICAgICAgICBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF0gPSBjYXNlSW5kZXggPT09IG51bGwgPyBudWxsIDogfmNhc2VJbmRleDtcbiAgICAgICAgaWYgKGNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBub2RlcyBmb3IgdGhlIG5ldyBjYXNlXG4gICAgICAgICAgICBjb25zdCBhbmNob3JSTm9kZSA9IGxWaWV3W3RJY3UuYW5jaG9ySWR4XTtcbiAgICAgICAgICAgIGlmIChhbmNob3JSTm9kZSkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKGFuY2hvclJOb2RlKTtcbiAgICAgICAgICAgICAgICBhcHBseU11dGFibGVPcENvZGVzKHRWaWV3LCB0SWN1LmNyZWF0ZVtjYXNlSW5kZXhdLCBsVmlldywgYW5jaG9yUk5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBPcENvZGVzIGFzc29jaWF0ZWQgd2l0aCB0ZWFyaW5nIElDVSBjYXNlLlxuICpcbiAqIFRoaXMgaW52b2x2ZXMgdGVhcmluZyBkb3duIGV4aXN0aW5nIGNhc2UgYW5kIHRoYW4gYnVpbGRpbmcgdXAgYSBuZXcgY2FzZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gdEljdSBDdXJyZW50IGBUSWN1YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBhcHBseUljdVN3aXRjaENhc2VSZW1vdmUodFZpZXcsIHRJY3UsIGxWaWV3KSB7XG4gICAgbGV0IGFjdGl2ZUNhc2VJbmRleCA9IGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpO1xuICAgIGlmIChhY3RpdmVDYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlQ29kZXMgPSB0SWN1LnJlbW92ZVthY3RpdmVDYXNlSW5kZXhdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZUNvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlT3JJY3VJbmRleCA9IHJlbW92ZUNvZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGVPckljdUluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIGBSTm9kZWBzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHJOb2RlID0gZ2V0TmF0aXZlQnlJbmRleChub2RlT3JJY3VJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIHJOb2RlICE9PSBudWxsICYmIG5hdGl2ZVJlbW92ZU5vZGUobFZpZXdbUkVOREVSRVJdLCByTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSBJQ1VzXG4gICAgICAgICAgICAgICAgYXBwbHlJY3VTd2l0Y2hDYXNlUmVtb3ZlKHRWaWV3LCBnZXRUSWN1KHRWaWV3LCB+bm9kZU9ySWN1SW5kZXgpLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGNhc2Ugb2YgYW4gSUNVIGV4cHJlc3Npb24gZGVwZW5kaW5nIG9uIHRoZSBtYWluIGJpbmRpbmcgdmFsdWVcbiAqXG4gKiBAcGFyYW0gaWN1RXhwcmVzc2lvblxuICogQHBhcmFtIGJpbmRpbmdWYWx1ZSBUaGUgdmFsdWUgb2YgdGhlIG1haW4gYmluZGluZyB1c2VkIGJ5IHRoaXMgSUNVIGV4cHJlc3Npb25cbiAqL1xuZnVuY3Rpb24gZ2V0Q2FzZUluZGV4KGljdUV4cHJlc3Npb24sIGJpbmRpbmdWYWx1ZSkge1xuICAgIGxldCBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZihiaW5kaW5nVmFsdWUpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgc3dpdGNoIChpY3VFeHByZXNzaW9uLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBwbHVyYWwgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZENhc2UgPSBnZXRQbHVyYWxDYXNlKGJpbmRpbmdWYWx1ZSwgZ2V0TG9jYWxlSWQoKSk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpY3VFeHByZXNzaW9uLmNhc2VzLmluZGV4T2YocmVzb2x2ZWRDYXNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xICYmIHJlc29sdmVkQ2FzZSAhPT0gJ290aGVyJykge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZignb3RoZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDAgLyogc2VsZWN0ICovOiB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpY3VFeHByZXNzaW9uLmNhc2VzLmluZGV4T2YoJ290aGVyJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4ID09PSAtMSA/IG51bGwgOiBpbmRleDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBsb2FkSWN1Q29udGFpbmVyVmlzaXRvcigpIHtcbiAgICBjb25zdCBfc3RhY2sgPSBbXTtcbiAgICBsZXQgX2luZGV4ID0gLTE7XG4gICAgbGV0IF9sVmlldztcbiAgICBsZXQgX3JlbW92ZXM7XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgc2V0IG9mIHJvb3Qgbm9kZXMgZnJvbSBgVEljdS5yZW1vdmVgLiBVc2VkIGJ5IGBUTm9kZVR5cGUuSUNVQ29udGFpbmVyYFxuICAgICAqIHRvIGRldGVybWluZSB3aGljaCByb290IGJlbG9uZyB0byB0aGUgSUNVLlxuICAgICAqXG4gICAgICogRXhhbXBsZSBvZiB1c2FnZS5cbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRvclN0YXJ0KHRJY3VDb250YWluZXJOb2RlLCBsVmlldyk7XG4gICAgICogbGV0IHJOb2RlOiBSTm9kZXxudWxsO1xuICAgICAqIHdoaWxlKHJOb2RlID0gbmV4dFJOb2RlKCkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHJOb2RlKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdEljdUNvbnRhaW5lck5vZGUgQ3VycmVudCBgVEljdUNvbnRhaW5lck5vZGVgXG4gICAgICogQHBhcmFtIGxWaWV3IGBMVmlld2Agd2hlcmUgdGhlIGBSTm9kZWBzIHNob3VsZCBiZSBsb29rZWQgdXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWN1Q29udGFpbmVySXRlcmF0b3JTdGFydCh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpIHtcbiAgICAgICAgX2xWaWV3ID0gbFZpZXc7XG4gICAgICAgIHdoaWxlIChfc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgX3N0YWNrLnBvcCgpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpO1xuICAgICAgICBlbnRlckljdSh0SWN1Q29udGFpbmVyTm9kZS52YWx1ZSwgbFZpZXcpO1xuICAgICAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRlckljdSh0SWN1LCBsVmlldykge1xuICAgICAgICBfaW5kZXggPSAwO1xuICAgICAgICBjb25zdCBjdXJyZW50Q2FzZSA9IGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpO1xuICAgICAgICBpZiAoY3VycmVudENhc2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKGN1cnJlbnRDYXNlLCAwLCB0SWN1LmNhc2VzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgX3JlbW92ZXMgPSB0SWN1LnJlbW92ZVtjdXJyZW50Q2FzZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfcmVtb3ZlcyA9IEVNUFRZX0FSUkFZO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dCgpIHtcbiAgICAgICAgaWYgKF9pbmRleCA8IF9yZW1vdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlT3BDb2RlID0gX3JlbW92ZXNbX2luZGV4KytdO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihyZW1vdmVPcENvZGUsICdFeHBlY3RpbmcgT3BDb2RlIG51bWJlcicpO1xuICAgICAgICAgICAgaWYgKHJlbW92ZU9wQ29kZSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCByTm9kZSA9IF9sVmlld1tyZW1vdmVPcENvZGVdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKHJOb2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gck5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfc3RhY2sucHVzaChfaW5kZXgsIF9yZW1vdmVzKTtcbiAgICAgICAgICAgICAgICAvLyBJQ1VzIGFyZSByZXByZXNlbnRlZCBieSBuZWdhdGl2ZSBpbmRpY2VzXG4gICAgICAgICAgICAgICAgY29uc3QgdEljdUluZGV4ID0gfnJlbW92ZU9wQ29kZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0SWN1ID0gX2xWaWV3W1RWSUVXXS5kYXRhW3RJY3VJbmRleF07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFRJY3UodEljdSk7XG4gICAgICAgICAgICAgICAgZW50ZXJJY3UodEljdSwgX2xWaWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3JlbW92ZXMgPSBfc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgX2luZGV4ID0gX3N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvck5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JTdGFydDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnZlcnRzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4bkNyZWF0ZU9wQ29kZXMuZGVidWdgIHByb3BlcnR5IGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuXG4gKiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGkxOG5DcmVhdGVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IGNyZWF0ZU9wQ29kZXMgPSBvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNyZWF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gY3JlYXRlT3BDb2Rlc1tpKytdO1xuICAgICAgICBjb25zdCB0ZXh0ID0gY3JlYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgY29uc3QgaXNDb21tZW50ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVCkgPT09IEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVDtcbiAgICAgICAgY29uc3QgYXBwZW5kTm93ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFkpID09PSBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9wQ29kZSA+Pj4gSTE4bkNyZWF0ZU9wQ29kZS5TSElGVDtcbiAgICAgICAgbGluZXMucHVzaChgbFZpZXdbJHtpbmRleH1dID0gZG9jdW1lbnQuJHtpc0NvbW1lbnQgPyAnY3JlYXRlQ29tbWVudCcgOiAnY3JlYXRlVGV4dCd9KCR7SlNPTi5zdHJpbmdpZnkodGV4dCl9KTtgKTtcbiAgICAgICAgaWYgKGFwcGVuZE5vdykge1xuICAgICAgICAgICAgbGluZXMucHVzaChgcGFyZW50LmFwcGVuZENoaWxkKGxWaWV3WyR7aW5kZXh9XSk7YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgSTE4blVwZGF0ZU9wQ29kZXNgIGFycmF5IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGUgYEkxOG5VcGRhdGVPcENvZGVzLmRlYnVnYCBwcm9wZXJ0eSBpZiBgbmdEZXZNb2RlYCBpcyBlbmFibGVkLlxuICogVGhpcyBmdW5jdGlvbiBwcm92aWRlcyBhIGh1bWFuIHJlYWRhYmxlIHZpZXcgb2YgdGhlIG9wY29kZXMuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZGVidWdnaW5nIHRoZVxuICogYXBwbGljYXRpb24gYXMgd2VsbCBhcyB3cml0aW5nIG1vcmUgcmVhZGFibGUgdGVzdHMuXG4gKlxuICogQHBhcmFtIHRoaXMgYEkxOG5VcGRhdGVPcENvZGVzYCBpZiBhdHRhY2hlZCBhcyBhIG1ldGhvZC5cbiAqIEBwYXJhbSBvcGNvZGVzIGBJMThuVXBkYXRlT3BDb2Rlc2AgaWYgaW52b2tlZCBhcyBhIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKG9wY29kZXMpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgT3BDb2RlUGFyc2VyKG9wY29kZXMgfHwgKEFycmF5LmlzQXJyYXkodGhpcykgPyB0aGlzIDogW10pKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmdW5jdGlvbiBjb25zdW1lT3BDb2RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IHZhbHVlID4+PiAyIC8qIFNISUZUX1JFRiAqLztcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gdmFsdWUgJiAzIC8qIE1BU0tfT1BDT0RFICovO1xuICAgICAgICBzd2l0Y2ggKG9wQ29kZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIFRleHQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtyZWZ9XSBhcyBUZXh0KS50ZXh0Q29udGVudCA9ICQkJGA7XG4gICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHBhcnNlci5jb25zdW1lU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FuaXRpemF0aW9uRm4gPSBwYXJzZXIuY29uc3VtZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzYW5pdGl6YXRpb25GbiA/IGAoJHtzYW5pdGl6YXRpb25Gbn0pKCQkJClgIDogJyQkJCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtyZWZ9XSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoJyR7YXR0ck5hbWV9JywgJHt2YWx1ZX0pYDtcbiAgICAgICAgICAgIGNhc2UgMiAvKiBJY3VTd2l0Y2ggKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBpY3VTd2l0Y2hDYXNlKCR7cmVmfSwgJCQkKWA7XG4gICAgICAgICAgICBjYXNlIDMgLyogSWN1VXBkYXRlICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgaWN1VXBkYXRlQ2FzZSgke3JlZn0pYDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgT3BDb2RlJyk7XG4gICAgfVxuICAgIHdoaWxlIChwYXJzZXIuaGFzTW9yZSgpKSB7XG4gICAgICAgIGxldCBtYXNrID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgbGV0IHNpemUgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICBjb25zdCBlbmQgPSBwYXJzZXIuaSArIHNpemU7XG4gICAgICAgIGNvbnN0IHN0YXRlbWVudHMgPSBbXTtcbiAgICAgICAgbGV0IHN0YXRlbWVudCA9ICcnO1xuICAgICAgICB3aGlsZSAocGFyc2VyLmkgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlci5jb25zdW1lTnVtYmVyT3JTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ICs9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBhcmUgcmVmIGluZGV4ZXNcbiAgICAgICAgICAgICAgICAvLyBIZXJlIGBpYCByZWZlcnMgdG8gY3VycmVudCBiaW5kaW5nIGluZGV4LiBJdCBpcyB0byBzaWduaWZ5IHRoYXQgdGhlIHZhbHVlIGlzIHJlbGF0aXZlLFxuICAgICAgICAgICAgICAgIC8vIHJhdGhlciB0aGFuIGFic29sdXRlLlxuICAgICAgICAgICAgICAgIHN0YXRlbWVudCArPSAnJHtsVmlld1tpJyArIHZhbHVlICsgJ119JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIG9wZXJhdGlvbnMuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BDb2RlVGV4dCA9IGNvbnN1bWVPcENvZGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudHMucHVzaChvcENvZGVUZXh0LnJlcGxhY2UoJyQkJCcsICdgJyArIHN0YXRlbWVudCArICdgJykgKyAnOycpO1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpbmVzLnB1c2goYGlmIChtYXNrICYgMGIke21hc2sudG9TdHJpbmcoMil9KSB7ICR7c3RhdGVtZW50cy5qb2luKCcgJyl9IH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGFycmF5IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGUgYEkxOG5DcmVhdGVPcENvZGVzLmRlYnVnYCBpZiBgbmdEZXZNb2RlYCBpcyBlbmFibGVkLiBUaGlzXG4gKiBmdW5jdGlvbiBwcm92aWRlcyBhIGh1bWFuIHJlYWRhYmxlIHZpZXcgb2YgdGhlIG9wY29kZXMuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZGVidWdnaW5nIHRoZVxuICogYXBwbGljYXRpb24gYXMgd2VsbCBhcyB3cml0aW5nIG1vcmUgcmVhZGFibGUgdGVzdHMuXG4gKlxuICogQHBhcmFtIHRoaXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBhdHRhY2hlZCBhcyBhIG1ldGhvZC5cbiAqIEBwYXJhbSBvcGNvZGVzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgaWYgaW52b2tlZCBhcyBhIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBpY3VDcmVhdGVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBPcENvZGVQYXJzZXIob3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSkpO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZ1bmN0aW9uIGNvbnN1bWVPcENvZGUob3BDb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKTtcbiAgICAgICAgY29uc3QgcmVmID0gZ2V0UmVmRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICBzd2l0Y2ggKGdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogQXBwZW5kQ2hpbGQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtwYXJlbnR9XSBhcyBFbGVtZW50KS5hcHBlbmRDaGlsZChsVmlld1ske2xhc3RSZWZ9XSlgO1xuICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtyZWZ9XSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXCIke3BhcnNlci5jb25zdW1lU3RyaW5nKCl9XCIsIFwiJHtwYXJzZXIuY29uc3VtZVN0cmluZygpfVwiKWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIE9wQ29kZTogJyArIGdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpKTtcbiAgICB9XG4gICAgbGV0IGxhc3RSZWYgPSAtMTtcbiAgICB3aGlsZSAocGFyc2VyLmhhc01vcmUoKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBwYXJzZXIuY29uc3VtZU51bWJlclN0cmluZ09yTWFya2VyKCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gSUNVX01BUktFUikge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnNlci5jb25zdW1lU3RyaW5nKCk7XG4gICAgICAgICAgICBsYXN0UmVmID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7bGFzdFJlZn1dID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIiR7dGV4dH1cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gRUxFTUVOVF9NQVJLRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXJzZXIuY29uc3VtZVN0cmluZygpO1xuICAgICAgICAgICAgbGFzdFJlZiA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2xhc3RSZWZ9XSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCIke3RleHR9XCIpYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGFzdFJlZiA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2xhc3RSZWZ9XSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiJHt2YWx1ZX1cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gY29uc3VtZU9wQ29kZSh2YWx1ZSk7XG4gICAgICAgICAgICBsaW5lICYmIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcbiAqIENvbnZlcnRzIGBJMThuUmVtb3ZlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4blJlbW92ZU9wQ29kZXMuZGVidWdgIGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4blJlbW92ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5SZW1vdmVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGkxOG5SZW1vdmVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IHJlbW92ZUNvZGVzID0gb3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlT3JJY3VJbmRleCA9IHJlbW92ZUNvZGVzW2ldO1xuICAgICAgICBpZiAobm9kZU9ySWN1SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAvLyBQb3NpdGl2ZSBudW1iZXJzIGFyZSBgUk5vZGVgcy5cbiAgICAgICAgICAgIGxpbmVzLnB1c2goYHJlbW92ZShsVmlld1ske25vZGVPckljdUluZGV4fV0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSBJQ1VzXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGByZW1vdmVOZXN0ZWRJQ1UoJHt+bm9kZU9ySWN1SW5kZXh9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbmNsYXNzIE9wQ29kZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY29kZXMpIHtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5jb2RlcyA9IGNvZGVzO1xuICAgIH1cbiAgICBoYXNNb3JlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pIDwgdGhpcy5jb2Rlcy5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN1bWVOdW1iZXIoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBhc3NlcnROdW1iZXIodmFsdWUsICdleHBlY3RpbmcgbnVtYmVyIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN1bWVTdHJpbmcoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBhc3NlcnRTdHJpbmcodmFsdWUsICdleHBlY3Rpbmcgc3RyaW5nIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN1bWVGdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGluZyBmdW5jdGlvbiBpbiBPcENvZGUnKTtcbiAgICB9XG4gICAgY29uc3VtZU51bWJlck9yU3RyaW5nKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnROdW1iZXIodmFsdWUsICdleHBlY3RpbmcgbnVtYmVyIG9yIHN0cmluZyBpbiBPcENvZGUnKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdW1lTnVtYmVyU3RyaW5nT3JNYXJrZXIoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlID09IElDVV9NQVJLRVIgfHxcbiAgICAgICAgICAgIHZhbHVlID09IEVMRU1FTlRfTUFSS0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0TnVtYmVyKHZhbHVlLCAnZXhwZWN0aW5nIG51bWJlciwgc3RyaW5nLCBJQ1VfTUFSS0VSIG9yIEVMRU1FTlRfTUFSS0VSIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IEJJTkRJTkdfUkVHRVhQID0gL++/vShcXGQrKTo/XFxkKu+/vS9naTtcbmNvbnN0IElDVV9SRUdFWFAgPSAvKHtcXHMq77+9XFxkKzo/XFxkKu+/vVxccyosXFxzKlxcU3s2fVxccyosW1xcc1xcU10qfSkvZ2k7XG5jb25zdCBORVNURURfSUNVID0gL++/vShcXGQrKe+/vS87XG5jb25zdCBJQ1VfQkxPQ0tfUkVHRVhQID0gL15cXHMqKO+/vVxcZCs6P1xcZCrvv70pXFxzKixcXHMqKHNlbGVjdHxwbHVyYWwpXFxzKiwvO1xuY29uc3QgTUFSS0VSID0gYO+/vWA7XG5jb25zdCBTVUJURU1QTEFURV9SRUdFWFAgPSAv77+9XFwvP1xcKihcXGQrOlxcZCsp77+9L2dpO1xuY29uc3QgUEhfUkVHRVhQID0gL++/vShcXC8/WyMqXVxcZCspOj9cXGQq77+9L2dpO1xuLyoqXG4gKiBBbmd1bGFyIERhcnQgaW50cm9kdWNlZCAmbmdzcDsgYXMgYSBwbGFjZWhvbGRlciBmb3Igbm9uLXJlbW92YWJsZSBzcGFjZSwgc2VlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2RhcnQtbGFuZy9hbmd1bGFyL2Jsb2IvMGJiNjExMzg3ZDI5ZDY1YjVhZjdmOWQyNTE1YWI1NzFmZDNmYmVlNC9fdGVzdHMvdGVzdC9jb21waWxlci9wcmVzZXJ2ZV93aGl0ZXNwYWNlX3Rlc3QuZGFydCNMMjUtTDMyXG4gKiBJbiBBbmd1bGFyIERhcnQgJm5nc3A7IGlzIGNvbnZlcnRlZCB0byB0aGUgMHhFNTAwIFBVQSAoUHJpdmF0ZSBVc2UgQXJlYXMpIHVuaWNvZGUgY2hhcmFjdGVyXG4gKiBhbmQgbGF0ZXIgb24gcmVwbGFjZWQgYnkgYSBzcGFjZS4gV2UgYXJlIHJlLWltcGxlbWVudGluZyB0aGUgc2FtZSBpZGVhIGhlcmUsIHNpbmNlIHRyYW5zbGF0aW9uc1xuICogbWlnaHQgY29udGFpbiB0aGlzIHNwZWNpYWwgY2hhcmFjdGVyLlxuICovXG5jb25zdCBOR1NQX1VOSUNPREVfUkVHRVhQID0gL1xcdUU1MDAvZztcbmZ1bmN0aW9uIHJlcGxhY2VOZ3NwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoTkdTUF9VTklDT0RFX1JFR0VYUCwgJyAnKTtcbn1cbi8qKlxuICogQ3JlYXRlIGR5bmFtaWMgbm9kZXMgZnJvbSBpMThuIHRyYW5zbGF0aW9uIGJsb2NrLlxuICpcbiAqIC0gVGV4dCBub2RlcyBhcmUgY3JlYXRlZCBzeW5jaHJvbm91c2x5XG4gKiAtIFROb2RlcyBhcmUgbGlua2VkIGludG8gdHJlZSBsYXppbHlcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyZW50VE5vZGVJbmRleCBpbmRleCB0byB0aGUgcGFyZW50IFROb2RlIG9mIHRoaXMgaTE4biBibG9ja1xuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGDJtcm1aTE4blN0YXJ0YCBpbnN0cnVjdGlvbi5cbiAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gdHJhbnNsYXRlLlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggSW5kZXggaW50byB0aGUgc3ViIHRlbXBsYXRlIG9mIG1lc3NhZ2UgdHJhbnNsYXRpb24uIChpZSBpbiBjYXNlIG9mXG4gKiAgICAgYG5nSWZgKSAoLTEgb3RoZXJ3aXNlKVxuICovXG5mdW5jdGlvbiBpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsIHBhcmVudFROb2RlSW5kZXgsIGxWaWV3LCBpbmRleCwgbWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IGNyZWF0ZU9wQ29kZXMgPSBbXTtcbiAgICBjb25zdCB1cGRhdGVPcENvZGVzID0gW107XG4gICAgY29uc3QgZXhpc3RpbmdUTm9kZVN0YWNrID0gW1tdXTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKGNyZWF0ZU9wQ29kZXMsIGkxOG5DcmVhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGVPcENvZGVzLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgbWVzc2FnZSA9IGdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUobWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgY29uc3QgbXNnUGFydHMgPSByZXBsYWNlTmdzcChtZXNzYWdlKS5zcGxpdChQSF9SRUdFWFApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXNnUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbXNnUGFydHNbaV07XG4gICAgICAgIGlmICgoaSAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBFdmVuIGluZGV4ZXMgYXJlIHRleHQgKGluY2x1ZGluZyBiaW5kaW5ncyAmIElDVSBleHByZXNzaW9ucylcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVSh2YWx1ZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoKGogJiAxKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBgamAgaXMgb2RkIHRoZXJlZm9yZSBgcGFydGAgaXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKHRleHQsICdQYXJzZWQgSUNVIHBhcnQgc2hvdWxkIGJlIHN0cmluZycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzc1Byb2Nlc3NUZXh0Tm9kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlU3RhY2tbMF0sIGNyZWF0ZU9wQ29kZXMsIHVwZGF0ZU9wQ29kZXMsIGxWaWV3LCB0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYGpgIGlzIEV2ZW4gdGhlcmVmb3IgYHBhcnRgIGlzIGFuIGBJQ1VFeHByZXNzaW9uYFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VFeHByZXNzaW9uID0gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoYXQgSUNVIGV4cHJlc3Npb24gaGFzIHRoZSByaWdodCBzaGFwZS4gVHJhbnNsYXRpb25zIG1pZ2h0IGNvbnRhaW4gaW52YWxpZFxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3Rpb25zICh3aGlsZSBvcmlnaW5hbCBtZXNzYWdlcyB3ZXJlIGNvcnJlY3QpLCBzbyBJQ1UgcGFyc2luZyBhdCBydW50aW1lIG1heVxuICAgICAgICAgICAgICAgICAgICAvLyBub3Qgc3VjY2VlZCAodGh1cyBgaWN1RXhwcmVzc2lvbmAgcmVtYWlucyBhIHN0cmluZykuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHdlIGludGVudGlvbmFsbHkgcmV0YWluIHRoZSBlcnJvciBoZXJlIGJ5IG5vdCB1c2luZyBgbmdEZXZNb2RlYCwgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgY2FuIGNoYW5nZSBiYXNlZCBvbiB0aGUgbG9jYWxlIGFuZCB1c2VycyBhcmVuJ3QgZ3VhcmFudGVlZCB0byBoaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gaW52YWxpZCBzdHJpbmcgd2hpbGUgdGhleSdyZSBkZXZlbG9waW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGljdUV4cHJlc3Npb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBJQ1UgZXhwcmVzc2lvbiBpbiBcIiR7bWVzc2FnZX1cIiBtZXNzYWdlLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdUNvbnRhaW5lclROb2RlID0gY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZVN0YWNrWzBdLCBsVmlldywgY3JlYXRlT3BDb2RlcywgbmdEZXZNb2RlID8gYElDVSAke2luZGV4fToke2ljdUV4cHJlc3Npb24ubWFpbkJpbmRpbmd9YCA6ICcnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWN1Tm9kZUluZGV4ID0gaWN1Q29udGFpbmVyVE5vZGUuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGljdU5vZGVJbmRleCwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgaW4gYWJzb2x1dGUgTFZpZXcgb2Zmc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGljdVN0YXJ0KHRWaWV3LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50VE5vZGVJbmRleCwgaWN1RXhwcmVzc2lvbiwgaWN1Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBPZGQgaW5kZXhlcyBhcmUgcGxhY2Vob2xkZXJzIChlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcylcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdmFsdWUgaXMgc29tZXRoaW5nIGxpa2U6ICcvIzE6MicgKG9yaWdpbmFsbHkgY29taW5nIGZyb20gJ++/vS8jMToy77+9JylcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xvc2luZyA9IHZhbHVlLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qIFNMQVNIICovO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHZhbHVlLmNoYXJDb2RlQXQoaXNDbG9zaW5nID8gMSA6IDApO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE9uZU9mKHR5cGUsIDQyIC8qIFNUQVIgKi8sIDM1IC8qIEhBU0ggKi8pO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBIRUFERVJfT0ZGU0VUICsgTnVtYmVyLnBhcnNlSW50KHZhbHVlLnN1YnN0cmluZygoaXNDbG9zaW5nID8gMiA6IDEpKSk7XG4gICAgICAgICAgICBpZiAoaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUTm9kZVN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFROb2RlKGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlUGxhY2Vob2xkZXIodFZpZXcsIGV4aXN0aW5nVE5vZGVTdGFja1swXSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVE5vZGVTdGFjay51bnNoaWZ0KFtdKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRWaWV3LmRhdGFbaW5kZXhdID0ge1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZU9wQ29kZXMsXG4gICAgICAgIHVwZGF0ZTogdXBkYXRlT3BDb2RlcyxcbiAgICB9O1xufVxuLyoqXG4gKiBBbGxvY2F0ZSBzcGFjZSBpbiBpMThuIFJhbmdlIGFkZCBjcmVhdGUgT3BDb2RlIGluc3RydWN0aW9uIHRvIGNyZWF0ZSBhIHRleHQgb3IgY29tbWVudCBub2RlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AgbmVlZGVkIHRvIGFsbG9jYXRlIHNwYWNlIGluIGkxOG4gcmFuZ2UuXG4gKiBAcGFyYW0gcm9vdFROb2RlIFJvb3QgYFROb2RlYCBvZiB0aGUgaTE4biBibG9jay4gVGhpcyBub2RlIGRldGVybWluZXMgaWYgdGhlIG5ldyBUTm9kZSB3aWxsIGJlXG4gKiAgICAgYWRkZWQgYXMgcGFydCBvZiB0aGUgYGkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24gb3IgYXMgcGFydCBvZiB0aGUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqIEBwYXJhbSBleGlzdGluZ1ROb2RlcyBpbnRlcm5hbCBzdGF0ZSBmb3IgYGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YCBuZWVkZWQgdG8gYWxsb2NhdGUgc3BhY2UgaW4gaTE4biByYW5nZS5cbiAqIEBwYXJhbSBjcmVhdGVPcENvZGVzIEFycmF5IHN0b3JpbmcgYEkxOG5DcmVhdGVPcENvZGVzYCB3aGVyZSBuZXcgb3BDb2RlcyB3aWxsIGJlIGFkZGVkLlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBiZSBhZGRlZCB3aGVuIHRoZSBgVGV4dGAgb3IgYENvbW1lbnRgIG5vZGUgd2lsbCBiZSBjcmVhdGVkLlxuICogQHBhcmFtIGlzSUNVIHRydWUgaWYgYSBgQ29tbWVudGAgbm9kZSBmb3IgSUNVIChpbnN0ZWFkIG9mIGBUZXh0YCkgbm9kZSBzaG91bGQgYmUgY3JlYXRlZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZXMsIGxWaWV3LCBjcmVhdGVPcENvZGVzLCB0ZXh0LCBpc0lDVSkge1xuICAgIGNvbnN0IGkxOG5Ob2RlSWR4ID0gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgMSwgbnVsbCk7XG4gICAgbGV0IG9wQ29kZSA9IGkxOG5Ob2RlSWR4IDw8IEkxOG5DcmVhdGVPcENvZGUuU0hJRlQ7XG4gICAgbGV0IHBhcmVudFROb2RlID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgaWYgKHJvb3RUTm9kZSA9PT0gcGFyZW50VE5vZGUpIHtcbiAgICAgICAgLy8gRklYTUUobWlza28pOiBBIG51bGwgYHBhcmVudFROb2RlYCBzaG91bGQgcmVwcmVzZW50IHdoZW4gd2UgZmFsbCBvZiB0aGUgYExWaWV3YCBib3VuZGFyeS5cbiAgICAgICAgLy8gKHRoZXJlIGlzIG5vIHBhcmVudCksIGJ1dCBpbiBzb21lIGNpcmN1bXN0YW5jZXMgKGJlY2F1c2Ugd2UgYXJlIGluY29uc2lzdGVudCBhYm91dCBob3cgd2Ugc2V0XG4gICAgICAgIC8vIGBwcmV2aW91c09yUGFyZW50VE5vZGVgKSBpdCBjb3VsZCBwb2ludCB0byBgcm9vdFROb2RlYCBTbyB0aGlzIGlzIGEgd29yayBhcm91bmQuXG4gICAgICAgIHBhcmVudFROb2RlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgdGhhdCBtZWFucyB0aGF0IHdlIGNhbiBlYWdlcmx5IGFkZCBub2Rlcy5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBhcmVudCB0aGFuIHRoZXNlIG5vZGVzIGNhbid0IGJlIGFkZGVkIG5vdyAoYXMgdGhlIHBhcmVudCBoYXMgbm90IGJlZW4gY3JlYXRlZFxuICAgICAgICAvLyB5ZXQpIGFuZCBpbnN0ZWFkIHRoZSBgcGFyZW50VE5vZGVgIGlzIHJlc3BvbnNpYmxlIGZvciBhZGRpbmcgaXQuIFNlZVxuICAgICAgICAvLyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgXG4gICAgICAgIG9wQ29kZSB8PSBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZO1xuICAgIH1cbiAgICBpZiAoaXNJQ1UpIHtcbiAgICAgICAgb3BDb2RlIHw9IEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVDtcbiAgICAgICAgZW5zdXJlSWN1Q29udGFpbmVyVmlzaXRvckxvYWRlZChsb2FkSWN1Q29udGFpbmVyVmlzaXRvcik7XG4gICAgfVxuICAgIGNyZWF0ZU9wQ29kZXMucHVzaChvcENvZGUsIHRleHQgPT09IG51bGwgPyAnJyA6IHRleHQpO1xuICAgIC8vIFdlIHN0b3JlIGB7ez99fWAgc28gdGhhdCB3aGVuIGxvb2tpbmcgYXQgZGVidWcgYFROb2RlVHlwZS50ZW1wbGF0ZWAgd2UgY2FuIHNlZSB3aGVyZSB0aGVcbiAgICAvLyBiaW5kaW5ncyBhcmUuXG4gICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGkxOG5Ob2RlSWR4LCBpc0lDVSA/IDMyIC8qIEljdSAqLyA6IDEgLyogVGV4dCAqLywgdGV4dCA9PT0gbnVsbCA/IChuZ0Rldk1vZGUgPyAne3s/fX0nIDogJycpIDogdGV4dCwgbnVsbCk7XG4gICAgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleChleGlzdGluZ1ROb2RlcywgdE5vZGUpO1xuICAgIGNvbnN0IHROb2RlSWR4ID0gdE5vZGUuaW5kZXg7XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCBmYWxzZSAvKiBUZXh0IG5vZGVzIGFyZSBzZWxmIGNsb3NpbmcgKi8pO1xuICAgIGlmIChwYXJlbnRUTm9kZSAhPT0gbnVsbCAmJiByb290VE5vZGUgIT09IHBhcmVudFROb2RlKSB7XG4gICAgICAgIC8vIFdlIGFyZSBhIGNoaWxkIG9mIGRlZXBlciBub2RlIChyYXRoZXIgdGhhbiBhIGRpcmVjdCBjaGlsZCBvZiBgaTE4blN0YXJ0YCBpbnN0cnVjdGlvbi4pXG4gICAgICAgIC8vIFdlIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGFkZCBvdXJzZWx2ZXMgdG8gdGhlIHBhcmVudC5cbiAgICAgICAgc2V0VE5vZGVJbnNlcnRCZWZvcmVJbmRleChwYXJlbnRUTm9kZSwgdE5vZGVJZHgpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIFByb2Nlc3NlcyB0ZXh0IG5vZGUgaW4gaTE4biBibG9jay5cbiAqXG4gKiBUZXh0IG5vZGVzIGNhbiBoYXZlOlxuICogLSBDcmVhdGUgaW5zdHJ1Y3Rpb24gaW4gYGNyZWF0ZU9wQ29kZXNgIGZvciBjcmVhdGluZyB0aGUgdGV4dCBub2RlLlxuICogLSBBbGxvY2F0ZSBzcGVjIGZvciB0ZXh0IG5vZGUgaW4gaTE4biByYW5nZSBvZiBgTFZpZXdgXG4gKiAtIElmIGNvbnRhaW5zIGJpbmRpbmc6XG4gKiAgICAtIGJpbmRpbmdzID0+IGFsbG9jYXRlIHNwYWNlIGluIGkxOG4gcmFuZ2Ugb2YgYExWaWV3YCB0byBzdG9yZSB0aGUgYmluZGluZyB2YWx1ZS5cbiAqICAgIC0gcG9wdWxhdGUgYHVwZGF0ZU9wQ29kZXNgIHdpdGggdXBkYXRlIGluc3RydWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gcm9vdFROb2RlIFJvb3QgYFROb2RlYCBvZiB0aGUgaTE4biBibG9jay4gVGhpcyBub2RlIGRldGVybWluZXMgaWYgdGhlIG5ldyBUTm9kZSB3aWxsXG4gKiAgICAgYmUgYWRkZWQgYXMgcGFydCBvZiB0aGUgYGkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24gb3IgYXMgcGFydCBvZiB0aGVcbiAqICAgICBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGV4aXN0aW5nVE5vZGVzIGludGVybmFsIHN0YXRlIGZvciBgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gY3JlYXRlT3BDb2RlcyBMb2NhdGlvbiB3aGVyZSB0aGUgY3JlYXRpb24gT3BDb2RlcyB3aWxsIGJlIHN0b3JlZC5cbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSB0ZXh0IFRoZSB0cmFuc2xhdGVkIHRleHQgKHdoaWNoIG1heSBjb250YWluIGJpbmRpbmcpXG4gKi9cbmZ1bmN0aW9uIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzc1Byb2Nlc3NUZXh0Tm9kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlcywgY3JlYXRlT3BDb2RlcywgdXBkYXRlT3BDb2RlcywgbFZpZXcsIHRleHQpIHtcbiAgICBjb25zdCBoYXNCaW5kaW5nID0gdGV4dC5tYXRjaChCSU5ESU5HX1JFR0VYUCk7XG4gICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlcywgbFZpZXcsIGNyZWF0ZU9wQ29kZXMsIGhhc0JpbmRpbmcgPyBudWxsIDogdGV4dCwgZmFsc2UpO1xuICAgIGlmIChoYXNCaW5kaW5nKSB7XG4gICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2RlcywgdGV4dCwgdE5vZGUuaW5kZXgsIG51bGwsIDAsIG51bGwpO1xuICAgIH1cbn1cbi8qKlxuICogU2VlIGBpMThuQXR0cmlidXRlc2AgYWJvdmUuXG4gKi9cbmZ1bmN0aW9uIGkxOG5BdHRyaWJ1dGVzRmlyc3RQYXNzKHRWaWV3LCBpbmRleCwgdmFsdWVzKSB7XG4gICAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3QgcHJldmlvdXNFbGVtZW50SW5kZXggPSBwcmV2aW91c0VsZW1lbnQuaW5kZXg7XG4gICAgY29uc3QgdXBkYXRlT3BDb2RlcyA9IFtdO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIodXBkYXRlT3BDb2RlcywgaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgfVxuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MgJiYgdFZpZXcuZGF0YVtpbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHZhbHVlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhdHRyaWJ1dGUgdmFsdWUgY29udGFpbnMgYW4gSUNVIGFuZCB0aHJvdyBhbiBlcnJvciBpZiB0aGF0J3MgdGhlIGNhc2UuXG4gICAgICAgICAgICAgICAgLy8gSUNVcyBpbiBlbGVtZW50IGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogd2UgaW50ZW50aW9uYWxseSByZXRhaW4gdGhlIGVycm9yIGhlcmUgYnkgbm90IHVzaW5nIGBuZ0Rldk1vZGVgLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIGB2YWx1ZWAgY2FuIGNoYW5nZSBiYXNlZCBvbiB0aGUgbG9jYWxlIGFuZCB1c2VycyBhcmVuJ3QgZ3VhcmFudGVlZCB0byBoaXRcbiAgICAgICAgICAgICAgICAvLyBhbiBpbnZhbGlkIHN0cmluZyB3aGlsZSB0aGV5J3JlIGRldmVsb3BpbmcuXG4gICAgICAgICAgICAgICAgaWYgKElDVV9SRUdFWFAudGVzdChtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElDVSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhdHRyaWJ1dGVzLiBNZXNzYWdlOiBcIiR7bWVzc2FnZX1cIi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaTE4biBhdHRyaWJ1dGVzIHRoYXQgaGl0IHRoaXMgY29kZSBwYXRoIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgYmluZGluZ3MsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcGlsZXIgdHJlYXRzIHN0YXRpYyBpMThuIGF0dHJpYnV0ZXMgYXMgcmVndWxhciBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBtYXkgbm90IGJlIHRoZSBmaXJzdCBpMThuIGF0dHJpYnV0ZSBvbiB0aGlzIGVsZW1lbnQgd2UgbmVlZCB0byBwYXNzIGluIGhvd1xuICAgICAgICAgICAgICAgIC8vIG1hbnkgcHJldmlvdXMgYmluZGluZ3MgdGhlcmUgaGF2ZSBhbHJlYWR5IGJlZW4uXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGVPcENvZGVzLCBtZXNzYWdlLCBwcmV2aW91c0VsZW1lbnRJbmRleCwgYXR0ck5hbWUsIGNvdW50QmluZGluZ3ModXBkYXRlT3BDb2RlcyksIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRWaWV3LmRhdGFbaW5kZXhdID0gdXBkYXRlT3BDb2RlcztcbiAgICB9XG59XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBPcENvZGVzIHRvIHVwZGF0ZSB0aGUgYmluZGluZ3Mgb2YgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHVwZGF0ZU9wQ29kZXMgUGxhY2Ugd2hlcmUgdGhlIHVwZGF0ZSBvcGNvZGVzIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdzLlxuICogQHBhcmFtIGRlc3RpbmF0aW9uTm9kZSBJbmRleCBvZiB0aGUgZGVzdGluYXRpb24gbm9kZSB3aGljaCB3aWxsIHJlY2VpdmUgdGhlIGJpbmRpbmcuXG4gKiBAcGFyYW0gYXR0ck5hbWUgTmFtZSBvZiB0aGUgYXR0cmlidXRlLCBpZiB0aGUgc3RyaW5nIGJlbG9uZ3MgdG8gYW4gYXR0cmlidXRlLlxuICogQHBhcmFtIHNhbml0aXplRm4gU2FuaXRpemF0aW9uIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHN0cmluZyBhZnRlciB1cGRhdGUsIGlmIG5lY2Vzc2FyeS5cbiAqIEBwYXJhbSBiaW5kaW5nU3RhcnQgVGhlIGxWaWV3IGluZGV4IG9mIHRoZSBuZXh0IGV4cHJlc3Npb24gdGhhdCBjYW4gYmUgYm91bmQgdmlhIGFuIG9wQ29kZS5cbiAqIEByZXR1cm5zIFRoZSBtYXNrIHZhbHVlIGZvciB0aGVzZSBiaW5kaW5nc1xuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZU9wQ29kZXMsIHN0ciwgZGVzdGluYXRpb25Ob2RlLCBhdHRyTmFtZSwgYmluZGluZ1N0YXJ0LCBzYW5pdGl6ZUZuKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChkZXN0aW5hdGlvbk5vZGUsIEhFQURFUl9PRkZTRVQsICdJbmRleCBtdXN0IGJlIGluIGFic29sdXRlIExWaWV3IG9mZnNldCcpO1xuICAgIGNvbnN0IG1hc2tJbmRleCA9IHVwZGF0ZU9wQ29kZXMubGVuZ3RoOyAvLyBMb2NhdGlvbiBvZiBtYXNrXG4gICAgY29uc3Qgc2l6ZUluZGV4ID0gbWFza0luZGV4ICsgMTsgLy8gbG9jYXRpb24gb2Ygc2l6ZSBmb3Igc2tpcHBpbmdcbiAgICB1cGRhdGVPcENvZGVzLnB1c2gobnVsbCwgbnVsbCk7IC8vIEFsbG9jIHNwYWNlIGZvciBtYXNrIGFuZCBzaXplXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IG1hc2tJbmRleCArIDI7IC8vIGxvY2F0aW9uIG9mIGZpcnN0IGFsbG9jYXRpb24uXG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGVPcENvZGVzLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dFBhcnRzID0gc3RyLnNwbGl0KEJJTkRJTkdfUkVHRVhQKTtcbiAgICBsZXQgbWFzayA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXh0UGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdGV4dFZhbHVlID0gdGV4dFBhcnRzW2pdO1xuICAgICAgICBpZiAoaiAmIDEpIHtcbiAgICAgICAgICAgIC8vIE9kZCBpbmRleGVzIGFyZSBiaW5kaW5nc1xuICAgICAgICAgICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1N0YXJ0ICsgcGFyc2VJbnQodGV4dFZhbHVlLCAxMCk7XG4gICAgICAgICAgICB1cGRhdGVPcENvZGVzLnB1c2goLTEgLSBiaW5kaW5nSW5kZXgpO1xuICAgICAgICAgICAgbWFzayA9IG1hc2sgfCB0b01hc2tCaXQoYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0VmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAvLyBFdmVuIGluZGV4ZXMgYXJlIHRleHRcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMucHVzaCh0ZXh0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZU9wQ29kZXMucHVzaChkZXN0aW5hdGlvbk5vZGUgPDwgMiAvKiBTSElGVF9SRUYgKi8gfFxuICAgICAgICAoYXR0ck5hbWUgPyAxIC8qIEF0dHIgKi8gOiAwIC8qIFRleHQgKi8pKTtcbiAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKGF0dHJOYW1lLCBzYW5pdGl6ZUZuKTtcbiAgICB9XG4gICAgdXBkYXRlT3BDb2Rlc1ttYXNrSW5kZXhdID0gbWFzaztcbiAgICB1cGRhdGVPcENvZGVzW3NpemVJbmRleF0gPSB1cGRhdGVPcENvZGVzLmxlbmd0aCAtIHN0YXJ0SW5kZXg7XG4gICAgcmV0dXJuIG1hc2s7XG59XG4vKipcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgYmluZGluZ3MgaW4gdGhlIGdpdmVuIGBvcENvZGVzYC5cbiAqXG4gKiBJdCBjb3VsZCBiZSBwb3NzaWJsZSB0byBzcGVlZCB0aGlzIHVwLCBieSBwYXNzaW5nIHRoZSBudW1iZXIgb2YgYmluZGluZ3MgZm91bmQgYmFjayBmcm9tXG4gKiBgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcygpYCB0byBgaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3MoKWAgYnV0IHRoaXMgd291bGQgdGhlbiByZXF1aXJlIG1vcmVcbiAqIGNvbXBsZXhpdHkgaW4gdGhlIGNvZGUgYW5kL29yIHRyYW5zaWVudCBvYmplY3RzIHRvIGJlIGNyZWF0ZWQuXG4gKlxuICogU2luY2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlIHdoZW4gdGhlIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZCwgaXMgdHJpdmlhbCBpbiB0aGVcbiAqIGZpcnN0IGluc3RhbmNlIChzaW5jZSBgb3BDb2Rlc2Agd2lsbCBiZSBhbiBlbXB0eSBhcnJheSksIGFuZCBpdCBpcyBub3QgY29tbW9uIGZvciBlbGVtZW50cyB0b1xuICogY29udGFpbiBtdWx0aXBsZSBpMThuIGJvdW5kIGF0dHJpYnV0ZXMsIGl0IHNlZW1zIGxpa2UgdGhpcyBpcyBhIHJlYXNvbmFibGUgY29tcHJvbWlzZS5cbiAqL1xuZnVuY3Rpb24gY291bnRCaW5kaW5ncyhvcENvZGVzKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gb3BDb2Rlc1tpXTtcbiAgICAgICAgLy8gQmluZGluZ3MgYXJlIG5lZ2F0aXZlIG51bWJlcnMuXG4gICAgICAgIGlmICh0eXBlb2Ygb3BDb2RlID09PSAnbnVtYmVyJyAmJiBvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbn1cbi8qKlxuICogQ29udmVydCBiaW5kaW5nIGluZGV4IHRvIG1hc2sgYml0LlxuICpcbiAqIEVhY2ggaW5kZXggcmVwcmVzZW50cyBhIHNpbmdsZSBiaXQgb24gdGhlIGJpdC1tYXNrLiBCZWNhdXNlIGJpdC1tYXNrIG9ubHkgaGFzIDMyIGJpdHMsIHdlIG1ha2VcbiAqIHRoZSAzMm5kIGJpdCBzaGFyZSBhbGwgbWFza3MgZm9yIGFsbCBiaW5kaW5ncyBoaWdoZXIgdGhhbiAzMi4gU2luY2UgaXQgaXMgZXh0cmVtZWx5IHJhcmUgdG9cbiAqIGhhdmUgbW9yZSB0aGFuIDMyIGJpbmRpbmdzIHRoaXMgd2lsbCBiZSBoaXQgdmVyeSByYXJlbHkuIFRoZSBkb3duc2lkZSBvZiBoaXR0aW5nIHRoaXMgY29ybmVyXG4gKiBjYXNlIGlzIHRoYXQgd2Ugd2lsbCBleGVjdXRlIGJpbmRpbmcgY29kZSBtb3JlIG9mdGVuIHRoYW4gbmVjZXNzYXJ5LiAocGVuYWx0eSBvZiBwZXJmb3JtYW5jZSlcbiAqL1xuZnVuY3Rpb24gdG9NYXNrQml0KGJpbmRpbmdJbmRleCkge1xuICAgIHJldHVybiAxIDw8IE1hdGgubWluKGJpbmRpbmdJbmRleCwgMzEpO1xufVxuZnVuY3Rpb24gaXNSb290VGVtcGxhdGVNZXNzYWdlKHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICByZXR1cm4gc3ViVGVtcGxhdGVJbmRleCA9PT0gLTE7XG59XG4vKipcbiAqIFJlbW92ZXMgZXZlcnl0aGluZyBpbnNpZGUgdGhlIHN1Yi10ZW1wbGF0ZXMgb2YgYSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiByZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24obWVzc2FnZSkge1xuICAgIGxldCBtYXRjaDtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgaW5UZW1wbGF0ZSA9IGZhbHNlO1xuICAgIGxldCB0YWdNYXRjaGVkO1xuICAgIHdoaWxlICgobWF0Y2ggPSBTVUJURU1QTEFURV9SRUdFWFAuZXhlYyhtZXNzYWdlKSkgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFpblRlbXBsYXRlKSB7XG4gICAgICAgICAgICByZXMgKz0gbWVzc2FnZS5zdWJzdHJpbmcoaW5kZXgsIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRhZ01hdGNoZWQgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIGluVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzBdID09PSBgJHtNQVJLRVJ9Lyoke3RhZ01hdGNoZWR9JHtNQVJLRVJ9YCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICAgICAgaW5UZW1wbGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChpblRlbXBsYXRlLCBmYWxzZSwgYFRhZyBtaXNtYXRjaDogdW5hYmxlIHRvIGZpbmQgdGhlIGVuZCBvZiB0aGUgc3ViLXRlbXBsYXRlIGluIHRoZSB0cmFuc2xhdGlvbiBcIiR7bWVzc2FnZX1cImApO1xuICAgIHJlcyArPSBtZXNzYWdlLnN1YnN0cihpbmRleCk7XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKlxuICogRXh0cmFjdHMgYSBwYXJ0IG9mIGEgbWVzc2FnZSBhbmQgcmVtb3ZlcyB0aGUgcmVzdC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGZvciBleHRyYWN0aW5nIGEgcGFydCBvZiB0aGUgbWVzc2FnZSBhc3NvY2lhdGVkIHdpdGggYSB0ZW1wbGF0ZS4gQVxuICogdHJhbnNsYXRlZCBtZXNzYWdlIGNhbiBzcGFuIG11bHRpcGxlIHRlbXBsYXRlcy5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiA8ZGl2IGkxOG4+VHJhbnNsYXRlIDxzcGFuICpuZ0lmPm1lPC9zcGFuPiE8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGNyb3BcbiAqIEBwYXJhbSBzdWJUZW1wbGF0ZUluZGV4IEluZGV4IG9mIHRoZSBzdWItdGVtcGxhdGUgdG8gZXh0cmFjdC4gSWYgdW5kZWZpbmVkIGl0IHJldHVybnMgdGhlXG4gKiBleHRlcm5hbCB0ZW1wbGF0ZSBhbmQgcmVtb3ZlcyBhbGwgc3ViLXRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZShtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgaWYgKGlzUm9vdFRlbXBsYXRlTWVzc2FnZShzdWJUZW1wbGF0ZUluZGV4KSkge1xuICAgICAgICAvLyBXZSB3YW50IHRoZSByb290IHRlbXBsYXRlIG1lc3NhZ2UsIGlnbm9yZSBhbGwgc3ViLXRlbXBsYXRlc1xuICAgICAgICByZXR1cm4gcmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2Ugd2FudCBhIHNwZWNpZmljIHN1Yi10ZW1wbGF0ZVxuICAgICAgICBjb25zdCBzdGFydCA9IG1lc3NhZ2UuaW5kZXhPZihgOiR7c3ViVGVtcGxhdGVJbmRleH0ke01BUktFUn1gKSArIDIgKyBzdWJUZW1wbGF0ZUluZGV4LnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgICAgICBjb25zdCBlbmQgPSBtZXNzYWdlLnNlYXJjaChuZXcgUmVnRXhwKGAke01BUktFUn1cXFxcL1xcXFwqXFxcXGQrOiR7c3ViVGVtcGxhdGVJbmRleH0ke01BUktFUn1gKSk7XG4gICAgICAgIHJldHVybiByZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24obWVzc2FnZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCkpO1xuICAgIH1cbn1cbi8qKlxuICogR2VuZXJhdGUgdGhlIE9wQ29kZXMgZm9yIElDVSBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0gaWN1RXhwcmVzc2lvblxuICogQHBhcmFtIGluZGV4IEluZGV4IHdoZXJlIHRoZSBhbmNob3IgaXMgc3RvcmVkIGFuZCBhbiBvcHRpb25hbCBgVEljdUNvbnRhaW5lck5vZGVgXG4gKiAgIC0gYGxWaWV3W2FuY2hvcklkeF1gIHBvaW50cyB0byBhIGBDb21tZW50YCBub2RlIHJlcHJlc2VudGluZyB0aGUgYW5jaG9yIGZvciB0aGUgSUNVLlxuICogICAtIGB0Vmlldy5kYXRhW2FuY2hvcklkeF1gIHBvaW50cyB0byB0aGUgYFRJY3VDb250YWluZXJOb2RlYCBpZiBJQ1UgaXMgcm9vdCAoYG51bGxgIG90aGVyd2lzZSlcbiAqL1xuZnVuY3Rpb24gaWN1U3RhcnQodFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGljdUV4cHJlc3Npb24sIGFuY2hvcklkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGljdUV4cHJlc3Npb24sICdJQ1UgZXhwcmVzc2lvbiBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBsZXQgYmluZGluZ01hc2sgPSAwO1xuICAgIGNvbnN0IHRJY3UgPSB7XG4gICAgICAgIHR5cGU6IGljdUV4cHJlc3Npb24udHlwZSxcbiAgICAgICAgY3VycmVudENhc2VMVmlld0luZGV4OiBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKSxcbiAgICAgICAgYW5jaG9ySWR4LFxuICAgICAgICBjYXNlczogW10sXG4gICAgICAgIGNyZWF0ZTogW10sXG4gICAgICAgIHJlbW92ZTogW10sXG4gICAgICAgIHVwZGF0ZTogW11cbiAgICB9O1xuICAgIGFkZFVwZGF0ZUljdVN3aXRjaCh1cGRhdGVPcENvZGVzLCBpY3VFeHByZXNzaW9uLCBhbmNob3JJZHgpO1xuICAgIHNldFRJY3UodFZpZXcsIGFuY2hvcklkeCwgdEljdSk7XG4gICAgY29uc3QgdmFsdWVzID0gaWN1RXhwcmVzc2lvbi52YWx1ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gRWFjaCB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzICYgb3RoZXIgSUNVIGV4cHJlc3Npb25zXG4gICAgICAgIGNvbnN0IHZhbHVlQXJyID0gdmFsdWVzW2ldO1xuICAgICAgICBjb25zdCBuZXN0ZWRJY3VzID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsdWVBcnIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVBcnJbal07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGFuIG5lc3RlZCBJQ1UgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIGNvbnN0IGljdUluZGV4ID0gbmVzdGVkSWN1cy5wdXNoKHZhbHVlKSAtIDE7XG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBuZXN0ZWQgSUNVIGV4cHJlc3Npb24gYnkgYSBjb21tZW50IG5vZGVcbiAgICAgICAgICAgICAgICB2YWx1ZUFycltqXSA9IGA8IS0t77+9JHtpY3VJbmRleH3vv70tLT5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJpbmRpbmdNYXNrID0gcGFyc2VJY3VDYXNlKHRWaWV3LCB0SWN1LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBpY3VFeHByZXNzaW9uLmNhc2VzW2ldLCB2YWx1ZUFyci5qb2luKCcnKSwgbmVzdGVkSWN1cykgfFxuICAgICAgICAgICAgYmluZGluZ01hc2s7XG4gICAgfVxuICAgIGlmIChiaW5kaW5nTWFzaykge1xuICAgICAgICBhZGRVcGRhdGVJY3VVcGRhdGUodXBkYXRlT3BDb2RlcywgYmluZGluZ01hc2ssIGFuY2hvcklkeCk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZXMgdGV4dCBjb250YWluaW5nIGFuIElDVSBleHByZXNzaW9uIGFuZCBwcm9kdWNlcyBhIEpTT04gb2JqZWN0IGZvciBpdC5cbiAqIE9yaWdpbmFsIGNvZGUgZnJvbSBjbG9zdXJlIGxpYnJhcnksIG1vZGlmaWVkIGZvciBBbmd1bGFyLlxuICpcbiAqIEBwYXJhbSBwYXR0ZXJuIFRleHQgY29udGFpbmluZyBhbiBJQ1UgZXhwcmVzc2lvbiB0aGF0IG5lZWRzIHRvIGJlIHBhcnNlZC5cbiAqXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSUNVQmxvY2socGF0dGVybikge1xuICAgIGNvbnN0IGNhc2VzID0gW107XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgbGV0IGljdVR5cGUgPSAxIC8qIHBsdXJhbCAqLztcbiAgICBsZXQgbWFpbkJpbmRpbmcgPSAwO1xuICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoSUNVX0JMT0NLX1JFR0VYUCwgZnVuY3Rpb24gKHN0ciwgYmluZGluZywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICAgIGljdVR5cGUgPSAwIC8qIHNlbGVjdCAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGljdVR5cGUgPSAxIC8qIHBsdXJhbCAqLztcbiAgICAgICAgfVxuICAgICAgICBtYWluQmluZGluZyA9IHBhcnNlSW50KGJpbmRpbmcuc3Vic3RyKDEpLCAxMCk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgICBjb25zdCBwYXJ0cyA9IGkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UocGF0dGVybik7XG4gICAgLy8gTG9va2luZyBmb3IgKGtleSBibG9jaykrIHNlcXVlbmNlLiBPbmUgb2YgdGhlIGtleXMgaGFzIHRvIGJlIFwib3RoZXJcIi5cbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCBwYXJ0cy5sZW5ndGg7KSB7XG4gICAgICAgIGxldCBrZXkgPSBwYXJ0c1twb3MrK10udHJpbSgpO1xuICAgICAgICBpZiAoaWN1VHlwZSA9PT0gMSAvKiBwbHVyYWwgKi8pIHtcbiAgICAgICAgICAgIC8vIEtleSBjYW4gYmUgXCI9eFwiLCB3ZSBqdXN0IHdhbnQgXCJ4XCJcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXHMqKD86PSk/KFxcdyspXFxzKi8sICckMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlcy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxvY2tzID0gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVShwYXJ0c1twb3MrK10pO1xuICAgICAgICBpZiAoY2FzZXMubGVuZ3RoID4gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goYmxvY2tzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPKG9jb21iZSk6IHN1cHBvcnQgSUNVIGV4cHJlc3Npb25zIGluIGF0dHJpYnV0ZXMsIHNlZSAjMjE2MTVcbiAgICByZXR1cm4geyB0eXBlOiBpY3VUeXBlLCBtYWluQmluZGluZzogbWFpbkJpbmRpbmcsIGNhc2VzLCB2YWx1ZXMgfTtcbn1cbi8qKlxuICogQnJlYWtzIHBhdHRlcm4gaW50byBzdHJpbmdzIGFuZCB0b3AgbGV2ZWwgey4uLn0gYmxvY2tzLlxuICogQ2FuIGJlIHVzZWQgdG8gYnJlYWsgYSBtZXNzYWdlIGludG8gdGV4dCBhbmQgSUNVIGV4cHJlc3Npb25zLCBvciB0byBicmVhayBhbiBJQ1UgZXhwcmVzc2lvblxuICogaW50byBrZXlzIGFuZCBjYXNlcy4gT3JpZ2luYWwgY29kZSBmcm9tIGNsb3N1cmUgbGlicmFyeSwgbW9kaWZpZWQgZm9yIEFuZ3VsYXIuXG4gKlxuICogQHBhcmFtIHBhdHRlcm4gKHN1YilQYXR0ZXJuIHRvIGJlIGJyb2tlbi5cbiAqIEByZXR1cm5zIEFuIGBBcnJheTxzdHJpbmd8SWN1RXhwcmVzc2lvbj5gIHdoZXJlOlxuICogICAtIG9kZCBwb3NpdGlvbnM6IGBzdHJpbmdgID0+IHRleHQgYmV0d2VlbiBJQ1UgZXhwcmVzc2lvbnNcbiAqICAgLSBldmVuIHBvc2l0aW9uczogYElDVUV4cHJlc3Npb25gID0+IElDVSBleHByZXNzaW9uIHBhcnNlZCBpbnRvIGBJQ1VFeHByZXNzaW9uYCByZWNvcmQuXG4gKi9cbmZ1bmN0aW9uIGkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UocGF0dGVybikge1xuICAgIGlmICghcGF0dGVybikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBwcmV2UG9zID0gMDtcbiAgICBjb25zdCBicmFjZVN0YWNrID0gW107XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IGJyYWNlcyA9IC9be31dL2c7XG4gICAgLy8gbGFzdEluZGV4IGRvZXNuJ3QgZ2V0IHNldCB0byAwIHNvIHdlIGhhdmUgdG8uXG4gICAgYnJhY2VzLmxhc3RJbmRleCA9IDA7XG4gICAgbGV0IG1hdGNoO1xuICAgIHdoaWxlIChtYXRjaCA9IGJyYWNlcy5leGVjKHBhdHRlcm4pKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG1hdGNoLmluZGV4O1xuICAgICAgICBpZiAobWF0Y2hbMF0gPT0gJ30nKSB7XG4gICAgICAgICAgICBicmFjZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGJyYWNlU3RhY2subGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQgb2YgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gcGF0dGVybi5zdWJzdHJpbmcocHJldlBvcywgcG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoSUNVX0JMT0NLX1JFR0VYUC50ZXN0KGJsb2NrKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocGFyc2VJQ1VCbG9jayhibG9jaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGJsb2NrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldlBvcyA9IHBvcyArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYnJhY2VTdGFjay5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnN0cmluZyA9IHBhdHRlcm4uc3Vic3RyaW5nKHByZXZQb3MsIHBvcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHN1YnN0cmluZyk7XG4gICAgICAgICAgICAgICAgcHJldlBvcyA9IHBvcyArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmFjZVN0YWNrLnB1c2goJ3snKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdWJzdHJpbmcgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zKTtcbiAgICByZXN1bHRzLnB1c2goc3Vic3RyaW5nKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8qKlxuICogUGFyc2VzIGEgbm9kZSwgaXRzIGNoaWxkcmVuIGFuZCBpdHMgc2libGluZ3MsIGFuZCBnZW5lcmF0ZXMgdGhlIG11dGF0ZSAmIHVwZGF0ZSBPcENvZGVzLlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VJY3VDYXNlKHRWaWV3LCB0SWN1LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBjYXNlTmFtZSwgdW5zYWZlQ2FzZUh0bWwsIG5lc3RlZEljdXMpIHtcbiAgICBjb25zdCBjcmVhdGUgPSBbXTtcbiAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICBjb25zdCB1cGRhdGUgPSBbXTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKGNyZWF0ZSwgaWN1Q3JlYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIocmVtb3ZlLCBpMThuUmVtb3ZlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIodXBkYXRlLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgdEljdS5jYXNlcy5wdXNoKGNhc2VOYW1lKTtcbiAgICB0SWN1LmNyZWF0ZS5wdXNoKGNyZWF0ZSk7XG4gICAgdEljdS5yZW1vdmUucHVzaChyZW1vdmUpO1xuICAgIHRJY3UudXBkYXRlLnB1c2godXBkYXRlKTtcbiAgICBjb25zdCBpbmVydEJvZHlIZWxwZXIgPSBnZXRJbmVydEJvZHlIZWxwZXIoZ2V0RG9jdW1lbnQoKSk7XG4gICAgY29uc3QgaW5lcnRCb2R5RWxlbWVudCA9IGluZXJ0Qm9keUhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHVuc2FmZUNhc2VIdG1sKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChpbmVydEJvZHlFbGVtZW50LCAnVW5hYmxlIHRvIGdlbmVyYXRlIGluZXJ0IGJvZHkgZWxlbWVudCcpO1xuICAgIGNvbnN0IGluZXJ0Um9vdE5vZGUgPSBnZXRUZW1wbGF0ZUNvbnRlbnQoaW5lcnRCb2R5RWxlbWVudCkgfHwgaW5lcnRCb2R5RWxlbWVudDtcbiAgICBpZiAoaW5lcnRSb290Tm9kZSkge1xuICAgICAgICByZXR1cm4gd2Fsa0ljdVRyZWUodFZpZXcsIHRJY3UsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBjcmVhdGUsIHJlbW92ZSwgdXBkYXRlLCBpbmVydFJvb3ROb2RlLCBwYXJlbnRJZHgsIG5lc3RlZEljdXMsIDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuZnVuY3Rpb24gd2Fsa0ljdVRyZWUodFZpZXcsIHRJY3UsIGxWaWV3LCBzaGFyZWRVcGRhdGVPcENvZGVzLCBjcmVhdGUsIHJlbW92ZSwgdXBkYXRlLCBwYXJlbnROb2RlLCBwYXJlbnRJZHgsIG5lc3RlZEljdXMsIGRlcHRoKSB7XG4gICAgbGV0IGJpbmRpbmdNYXNrID0gMDtcbiAgICBsZXQgY3VycmVudE5vZGUgPSBwYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IG5ld0luZGV4ID0gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgMSwgbnVsbCk7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudE5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIEVMRU1FTlRfTUFSS0VSLCB0YWdOYW1lLCBwYXJlbnRJZHgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdFZpZXcuZGF0YVtuZXdJbmRleF0gPSB0YWdOYW1lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbEF0dHJzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBlbEF0dHJzLml0ZW0oaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dlckF0dHJOYW1lID0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNCaW5kaW5nID0gISFhdHRyLnZhbHVlLm1hdGNoKEJJTkRJTkdfUkVHRVhQKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFzc3VtZSB0aGUgaW5wdXQgc3RyaW5nIGlzIHNhZmUsIHVubGVzcyBpdCdzIHVzaW5nIGEgYmluZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVkFMSURfQVRUUlMuaGFzT3duUHJvcGVydHkobG93ZXJBdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFVSSV9BVFRSU1tsb3dlckF0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIGF0dHIudmFsdWUsIG5ld0luZGV4LCBhdHRyLm5hbWUsIDAsIF9zYW5pdGl6ZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoU1JDU0VUX0FUVFJTW2xvd2VyQXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgYXR0ci52YWx1ZSwgbmV3SW5kZXgsIGF0dHIubmFtZSwgMCwgc2FuaXRpemVTcmNzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIGF0dHIudmFsdWUsIG5ld0luZGV4LCBhdHRyLm5hbWUsIDAsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgV0FSTklORzogaWdub3JpbmcgdW5zYWZlIGF0dHJpYnV0ZSB2YWx1ZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtsb3dlckF0dHJOYW1lfSBvbiBlbGVtZW50ICR7dGFnTmFtZX0gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDcmVhdGVBdHRyaWJ1dGUoY3JlYXRlLCBuZXdJbmRleCwgYXR0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSAoaWYgYW55KVxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nTWFzayA9IHdhbGtJY3VUcmVlKHRWaWV3LCB0SWN1LCBsVmlldywgc2hhcmVkVXBkYXRlT3BDb2RlcywgY3JlYXRlLCByZW1vdmUsIHVwZGF0ZSwgY3VycmVudE5vZGUsIG5ld0luZGV4LCBuZXN0ZWRJY3VzLCBkZXB0aCArIDEpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdNYXNrO1xuICAgICAgICAgICAgICAgICAgICBhZGRSZW1vdmVOb2RlKHJlbW92ZSwgbmV3SW5kZXgsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudE5vZGUudGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQmluZGluZyA9IHZhbHVlLm1hdGNoKEJJTkRJTkdfUkVHRVhQKTtcbiAgICAgICAgICAgICAgICBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgbnVsbCwgaGFzQmluZGluZyA/ICcnIDogdmFsdWUsIHBhcmVudElkeCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgIGFkZFJlbW92ZU5vZGUocmVtb3ZlLCBuZXdJbmRleCwgZGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdNYXNrID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlLCB2YWx1ZSwgbmV3SW5kZXgsIG51bGwsIDAsIG51bGwpIHwgYmluZGluZ01hc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29tbWVudCBub2RlIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgbmVzdGVkIElDVVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzTmVzdGVkSWN1ID0gTkVTVEVEX0lDVS5leGVjKGN1cnJlbnROb2RlLnRleHRDb250ZW50IHx8ICcnKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXN0ZWRJY3UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSWN1SW5kZXggPSBwYXJzZUludChpc05lc3RlZEljdVsxXSwgMTApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VFeHByZXNzaW9uID0gbmVzdGVkSWN1c1tuZXN0ZWRJY3VJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY29tbWVudCBub2RlIHRoYXQgd2lsbCBhbmNob3IgdGhlIElDVSBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIGFkZENyZWF0ZU5vZGVBbmRBcHBlbmQoY3JlYXRlLCBJQ1VfTUFSS0VSLCBuZ0Rldk1vZGUgPyBgbmVzdGVkIElDVSAke25lc3RlZEljdUluZGV4fWAgOiAnJywgcGFyZW50SWR4LCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGljdVN0YXJ0KHRWaWV3LCBsVmlldywgc2hhcmVkVXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBpY3VFeHByZXNzaW9uLCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU5lc3RlZEljdShyZW1vdmUsIG5ld0luZGV4LCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBiaW5kaW5nTWFzaztcbn1cbmZ1bmN0aW9uIGFkZFJlbW92ZU5vZGUocmVtb3ZlLCBpbmRleCwgZGVwdGgpIHtcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgcmVtb3ZlLnB1c2goaW5kZXgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFJlbW92ZU5lc3RlZEljdShyZW1vdmUsIGluZGV4LCBkZXB0aCkge1xuICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZW1vdmUucHVzaCh+aW5kZXgpOyAvLyByZW1vdmUgSUNVIGF0IGBpbmRleGBcbiAgICAgICAgcmVtb3ZlLnB1c2goaW5kZXgpOyAvLyByZW1vdmUgSUNVIGNvbW1lbnQgYXQgYGluZGV4YFxuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFVwZGF0ZUljdVN3aXRjaCh1cGRhdGUsIGljdUV4cHJlc3Npb24sIGluZGV4KSB7XG4gICAgdXBkYXRlLnB1c2godG9NYXNrQml0KGljdUV4cHJlc3Npb24ubWFpbkJpbmRpbmcpLCAyLCAtMSAtIGljdUV4cHJlc3Npb24ubWFpbkJpbmRpbmcsIGluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMiAvKiBJY3VTd2l0Y2ggKi8pO1xufVxuZnVuY3Rpb24gYWRkVXBkYXRlSWN1VXBkYXRlKHVwZGF0ZSwgYmluZGluZ01hc2ssIGluZGV4KSB7XG4gICAgdXBkYXRlLnB1c2goYmluZGluZ01hc2ssIDEsIGluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMyAvKiBJY3VVcGRhdGUgKi8pO1xufVxuZnVuY3Rpb24gYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIG1hcmtlciwgdGV4dCwgYXBwZW5kVG9QYXJlbnRJZHgsIGNyZWF0ZUF0SWR4KSB7XG4gICAgaWYgKG1hcmtlciAhPT0gbnVsbCkge1xuICAgICAgICBjcmVhdGUucHVzaChtYXJrZXIpO1xuICAgIH1cbiAgICBjcmVhdGUucHVzaCh0ZXh0LCBjcmVhdGVBdElkeCwgaWN1Q3JlYXRlT3BDb2RlKDAgLyogQXBwZW5kQ2hpbGQgKi8sIGFwcGVuZFRvUGFyZW50SWR4LCBjcmVhdGVBdElkeCkpO1xufVxuZnVuY3Rpb24gYWRkQ3JlYXRlQXR0cmlidXRlKGNyZWF0ZSwgbmV3SW5kZXgsIGF0dHIpIHtcbiAgICBjcmVhdGUucHVzaChuZXdJbmRleCA8PCAxIC8qIFNISUZUX1JFRiAqLyB8IDEgLyogQXR0ciAqLywgYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBpMThuUG9zdHByb2Nlc3MgY29uc3RzXG5jb25zdCBST09UX1RFTVBMQVRFX0lEID0gMDtcbmNvbnN0IFBQX01VTFRJX1ZBTFVFX1BMQUNFSE9MREVSU19SRUdFWFAgPSAvXFxbKO+/vS4rP++/vT8pXFxdLztcbmNvbnN0IFBQX1BMQUNFSE9MREVSU19SRUdFWFAgPSAvXFxbKO+/vS4rP++/vT8pXFxdfCjvv71cXC8/XFwqXFxkKzpcXGQr77+9KS9nO1xuY29uc3QgUFBfSUNVX1ZBUlNfUkVHRVhQID0gLyh7XFxzKikoVkFSXyhQTFVSQUx8U0VMRUNUKShfXFxkKyk/KShcXHMqLCkvZztcbmNvbnN0IFBQX0lDVV9QTEFDRUhPTERFUlNfUkVHRVhQID0gL3soW0EtWjAtOV9dKyl9L2c7XG5jb25zdCBQUF9JQ1VTX1JFR0VYUCA9IC/vv71JMThOX0VYUF8oSUNVKF9cXGQrKT8p77+9L2c7XG5jb25zdCBQUF9DTE9TRV9URU1QTEFURV9SRUdFWFAgPSAvXFwvXFwqLztcbmNvbnN0IFBQX1RFTVBMQVRFX0lEX1JFR0VYUCA9IC9cXGQrXFw6KFxcZCspLztcbi8qKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgZm9yIGludGVybmF0aW9uYWxpemF0aW9uLlxuICpcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGJ5IHRyYW5zZm9ybWluZyBpdCBmcm9tIGludGVybWVkaWF0ZVxuICogZm9ybWF0ICh0aGF0IG1pZ2h0IGNvbnRhaW4gc29tZSBtYXJrZXJzIHRoYXQgd2UgbmVlZCB0byByZXBsYWNlKSB0byB0aGUgZmluYWxcbiAqIGZvcm0sIGNvbnN1bWFibGUgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uLiBQb3N0IHByb2Nlc3Npbmcgc3RlcHMgaW5jbHVkZTpcbiAqXG4gKiAxLiBSZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBjYXNlcyAobGlrZSBb77+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vXzvv70177+9XSlcbiAqIDIuIFJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICogMy4gUmVwbGFjZSBhbGwgcGxhY2Vob2xkZXJzIHVzZWQgaW5zaWRlIElDVXMgaW4gYSBmb3JtIG9mIHtQTEFDRUhPTERFUn1cbiAqIDQuIFJlcGxhY2UgYWxsIElDVSByZWZlcmVuY2VzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMgKGxpa2Ug77+9SUNVX0VYUF9JQ1VfMe+/vSlcbiAqICAgIGluIGNhc2UgbXVsdGlwbGUgSUNVcyBoYXZlIHRoZSBzYW1lIHBsYWNlaG9sZGVyIG5hbWVcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBSYXcgdHJhbnNsYXRpb24gc3RyaW5nIGZvciBwb3N0IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSByZXBsYWNlbWVudHMgU2V0IG9mIHJlcGxhY2VtZW50cyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQHJldHVybnMgVHJhbnNmb3JtZWQgc3RyaW5nIHRoYXQgY2FuIGJlIGNvbnN1bWVkIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvblxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIGkxOG5Qb3N0cHJvY2VzcyhtZXNzYWdlLCByZXBsYWNlbWVudHMgPSB7fSkge1xuICAgIC8qKlxuICAgICAqIFN0ZXAgMTogcmVzb2x2ZSBhbGwgbXVsdGktdmFsdWUgcGxhY2Vob2xkZXJzIGxpa2UgW++/vSM177+9fO+/vSoxOjHvv73vv70jMjox77+9fO+/vSM0OjHvv71dXG4gICAgICpcbiAgICAgKiBOb3RlOiBkdWUgdG8gdGhlIHdheSB3ZSBwcm9jZXNzIG5lc3RlZCB0ZW1wbGF0ZXMgKEJGUyksIG11bHRpLXZhbHVlIHBsYWNlaG9sZGVycyBhcmUgdHlwaWNhbGx5XG4gICAgICogZ3JvdXBlZCBieSB0ZW1wbGF0ZXMsIGZvciBleGFtcGxlOiBb77+9IzXvv71877+9Izbvv71877+9IzE6Me+/vXzvv70jMzoy77+9XSB3aGVyZSDvv70jNe+/vSBhbmQg77+9Izbvv70gYmVsb25nIHRvIHJvb3RcbiAgICAgKiB0ZW1wbGF0ZSwg77+9IzE6Me+/vSBiZWxvbmcgdG8gbmVzdGVkIHRlbXBsYXRlIHdpdGggaW5kZXggMSBhbmQg77+9IzE6Mu+/vSAtIG5lc3RlZCB0ZW1wbGF0ZSB3aXRoIGluZGV4XG4gICAgICogMy4gSG93ZXZlciBpbiByZWFsIHRlbXBsYXRlcyB0aGUgb3JkZXIgbWlnaHQgYmUgZGlmZmVyZW50OiBpLmUuIO+/vSMxOjHvv70gYW5kL29yIO+/vSMzOjLvv70gbWF5IGdvIGluXG4gICAgICogZnJvbnQgb2Yg77+9Izbvv70uIFRoZSBwb3N0IHByb2Nlc3Npbmcgc3RlcCByZXN0b3JlcyB0aGUgcmlnaHQgb3JkZXIgYnkga2VlcGluZyB0cmFjayBvZiB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBpZCBzdGFjayBhbmQgbG9va3MgZm9yIHBsYWNlaG9sZGVycyB0aGF0IGJlbG9uZyB0byB0aGUgY3VycmVudGx5IGFjdGl2ZSB0ZW1wbGF0ZS5cbiAgICAgKi9cbiAgICBsZXQgcmVzdWx0ID0gbWVzc2FnZTtcbiAgICBpZiAoUFBfTVVMVElfVkFMVUVfUExBQ0VIT0xERVJTX1JFR0VYUC50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB7fTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVJZHNTdGFjayA9IFtST09UX1RFTVBMQVRFX0lEXTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfUExBQ0VIT0xERVJTX1JFR0VYUCwgKG0sIHBocywgdG1wbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHBocyB8fCB0bXBsO1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gbWF0Y2hlc1tjb250ZW50XSB8fCBbXTtcbiAgICAgICAgICAgIGlmICghcGxhY2Vob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc3BsaXQoJ3wnKS5mb3JFYWNoKChwbGFjZWhvbGRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHBsYWNlaG9sZGVyLm1hdGNoKFBQX1RFTVBMQVRFX0lEX1JFR0VYUCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlSWQgPSBtYXRjaCA/IHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgOiBST09UX1RFTVBMQVRFX0lEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Nsb3NlVGVtcGxhdGVUYWcgPSBQUF9DTE9TRV9URU1QTEFURV9SRUdFWFAudGVzdChwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVycy5wdXNoKFt0ZW1wbGF0ZUlkLCBpc0Nsb3NlVGVtcGxhdGVUYWcsIHBsYWNlaG9sZGVyXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc1tjb250ZW50XSA9IHBsYWNlaG9sZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGxhY2Vob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaTE4biBwb3N0cHJvY2VzczogdW5tYXRjaGVkIHBsYWNlaG9sZGVyIC0gJHtjb250ZW50fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFRlbXBsYXRlSWQgPSB0ZW1wbGF0ZUlkc1N0YWNrW3RlbXBsYXRlSWRzU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgICAgIC8vIGZpbmQgcGxhY2Vob2xkZXIgaW5kZXggdGhhdCBtYXRjaGVzIGN1cnJlbnQgdGVtcGxhdGUgaWRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2Vob2xkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyc1tpXVswXSA9PT0gY3VycmVudFRlbXBsYXRlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRlbXBsYXRlIGlkIHN0YWNrIGJhc2VkIG9uIHRoZSBjdXJyZW50IHRhZyBleHRyYWN0ZWRcbiAgICAgICAgICAgIGNvbnN0IFt0ZW1wbGF0ZUlkLCBpc0Nsb3NlVGVtcGxhdGVUYWcsIHBsYWNlaG9sZGVyXSA9IHBsYWNlaG9sZGVyc1tpZHhdO1xuICAgICAgICAgICAgaWYgKGlzQ2xvc2VUZW1wbGF0ZVRhZykge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlSWRzU3RhY2sucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VGVtcGxhdGVJZCAhPT0gdGVtcGxhdGVJZCkge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlSWRzU3RhY2sucHVzaCh0ZW1wbGF0ZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm9jZXNzZWQgdGFnIGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgIHBsYWNlaG9sZGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHJldHVybiBjdXJyZW50IHJlc3VsdCBpZiBubyByZXBsYWNlbWVudHMgc3BlY2lmaWVkXG4gICAgaWYgKCFPYmplY3Qua2V5cyhyZXBsYWNlbWVudHMpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGVwIDI6IHJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICAgICAqL1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFBQX0lDVV9WQVJTX1JFR0VYUCwgKG1hdGNoLCBzdGFydCwga2V5LCBfdHlwZSwgX2lkeCwgZW5kKSA9PiB7XG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudHMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGAke3N0YXJ0fSR7cmVwbGFjZW1lbnRzW2tleV19JHtlbmR9YCA6IG1hdGNoO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0ZXAgMzogcmVwbGFjZSBhbGwgcGxhY2Vob2xkZXJzIHVzZWQgaW5zaWRlIElDVXMgaW4gYSBmb3JtIG9mIHtQTEFDRUhPTERFUn1cbiAgICAgKi9cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9JQ1VfUExBQ0VIT0xERVJTX1JFR0VYUCwgKG1hdGNoLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gcmVwbGFjZW1lbnRzW2tleV0gOiBtYXRjaDtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGVwIDQ6IHJlcGxhY2UgYWxsIElDVSByZWZlcmVuY2VzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMgKGxpa2Ug77+9SUNVX0VYUF9JQ1VfMe+/vSkgaW4gY2FzZVxuICAgICAqIG11bHRpcGxlIElDVXMgaGF2ZSB0aGUgc2FtZSBwbGFjZWhvbGRlciBuYW1lXG4gICAgICovXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVU19SRUdFWFAsIChtYXRjaCwga2V5KSA9PiB7XG4gICAgICAgIGlmIChyZXBsYWNlbWVudHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHJlcGxhY2VtZW50c1trZXldO1xuICAgICAgICAgICAgaWYgKCFsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaTE4biBwb3N0cHJvY2VzczogdW5tYXRjaGVkIElDVSAtICR7bWF0Y2h9IHdpdGgga2V5OiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyBhIGJsb2NrIG9mIHRleHQgYXMgdHJhbnNsYXRhYmxlLlxuICpcbiAqIFRoZSBpbnN0cnVjdGlvbnMgYGkxOG5TdGFydGAgYW5kIGBpMThuRW5kYCBtYXJrIHRoZSB0cmFuc2xhdGlvbiBibG9jayBpbiB0aGUgdGVtcGxhdGUuXG4gKiBUaGUgdHJhbnNsYXRpb24gYG1lc3NhZ2VgIGlzIHRoZSB2YWx1ZSB3aGljaCBpcyBsb2NhbGUgc3BlY2lmaWMuIFRoZSB0cmFuc2xhdGlvbiBzdHJpbmcgbWF5XG4gKiBjb250YWluIHBsYWNlaG9sZGVycyB3aGljaCBhc3NvY2lhdGUgaW5uZXIgZWxlbWVudHMgYW5kIHN1Yi10ZW1wbGF0ZXMgd2l0aGluIHRoZSB0cmFuc2xhdGlvbi5cbiAqXG4gKiBUaGUgdHJhbnNsYXRpb24gYG1lc3NhZ2VgIHBsYWNlaG9sZGVycyBhcmU6XG4gKiAtIGDvv717aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpCaW5kaW5nIFBsYWNlaG9sZGVyKjogTWFya3MgYSBsb2NhdGlvbiB3aGVyZSBhbiBleHByZXNzaW9uIHdpbGwgYmVcbiAqICAgaW50ZXJwb2xhdGVkIGludG8uIFRoZSBwbGFjZWhvbGRlciBgaW5kZXhgIHBvaW50cyB0byB0aGUgZXhwcmVzc2lvbiBiaW5kaW5nIGluZGV4LiBBbiBvcHRpb25hbFxuICogICBgYmxvY2tgIHRoYXQgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqIC0gYO+/vSN7aW5kZXh9KDp7YmxvY2t9Ke+/vWAvYO+/vS8je2luZGV4fSg6e2Jsb2NrfSnvv71gOiAqRWxlbWVudCBQbGFjZWhvbGRlcio6ICBNYXJrcyB0aGUgYmVnaW5uaW5nXG4gKiAgIGFuZCBlbmQgb2YgRE9NIGVsZW1lbnQgdGhhdCB3ZXJlIGVtYmVkZGVkIGluIHRoZSBvcmlnaW5hbCB0cmFuc2xhdGlvbiBibG9jay4gVGhlIHBsYWNlaG9sZGVyXG4gKiAgIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBlbGVtZW50IGluZGV4IGluIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbnMgc2V0LiBBbiBvcHRpb25hbCBgYmxvY2tgIHRoYXRcbiAqICAgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqIC0gYO+/vSp7aW5kZXh9OntibG9ja33vv71gL2Dvv70vKntpbmRleH06e2Jsb2Nrfe+/vWA6ICpTdWItdGVtcGxhdGUgUGxhY2Vob2xkZXIqOiBTdWItdGVtcGxhdGVzIG11c3QgYmVcbiAqICAgc3BsaXQgdXAgYW5kIHRyYW5zbGF0ZWQgc2VwYXJhdGVseSBpbiBlYWNoIGFuZ3VsYXIgdGVtcGxhdGUgZnVuY3Rpb24uIFRoZSBgaW5kZXhgIHBvaW50cyB0byB0aGVcbiAqICAgYHRlbXBsYXRlYCBpbnN0cnVjdGlvbiBpbmRleC4gQSBgYmxvY2tgIHRoYXQgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggQSB1bmlxdWUgaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIGluIHRoZSBzdGF0aWMgYmxvY2suXG4gKiBAcGFyYW0gbWVzc2FnZUluZGV4IEFuIGluZGV4IG9mIHRoZSB0cmFuc2xhdGlvbiBtZXNzYWdlIGZyb20gdGhlIGBkZWYuY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBzdWJUZW1wbGF0ZUluZGV4IE9wdGlvbmFsIHN1Yi10ZW1wbGF0ZSBpbmRleCBpbiB0aGUgYG1lc3NhZ2VgLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuU3RhcnQoaW5kZXgsIG1lc3NhZ2VJbmRleCwgc3ViVGVtcGxhdGVJbmRleCA9IC0xKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBgdFZpZXcgc2hvdWxkIGJlIGRlZmluZWRgKTtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2V0Q29uc3RhbnQodFZpZXcuY29uc3RzLCBtZXNzYWdlSW5kZXgpO1xuICAgIGNvbnN0IHBhcmVudFROb2RlID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsIHBhcmVudFROb2RlID09PSBudWxsID8gMCA6IHBhcmVudFROb2RlLmluZGV4LCBsVmlldywgYWRqdXN0ZWRJbmRleCwgbWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IHRJMThuID0gdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBjb25zdCBzYW1lVmlld1BhcmVudFROb2RlID0gcGFyZW50VE5vZGUgPT09IGxWaWV3W1RfSE9TVF0gPyBudWxsIDogcGFyZW50VE5vZGU7XG4gICAgY29uc3QgcGFyZW50Uk5vZGUgPSBnZXRDbG9zZXN0UkVsZW1lbnQodFZpZXcsIHNhbWVWaWV3UGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICAvLyBJZiBgcGFyZW50VE5vZGVgIGlzIGFuIGBFbGVtZW50Q29udGFpbmVyYCB0aGFuIGl0IGhhcyBgPCEtLW5nLWNvbnRhaW5lci0tLT5gLlxuICAgIC8vIFdoZW4gd2UgZG8gaW5zZXJ0cyB3ZSBoYXZlIHRvIG1ha2Ugc3VyZSB0byBpbnNlcnQgaW4gZnJvbnQgb2YgYDwhLS1uZy1jb250YWluZXItLS0+YC5cbiAgICBjb25zdCBpbnNlcnRJbkZyb250T2YgPSBwYXJlbnRUTm9kZSAmJiAocGFyZW50VE5vZGUudHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykgP1xuICAgICAgICBsVmlld1twYXJlbnRUTm9kZS5pbmRleF0gOlxuICAgICAgICBudWxsO1xuICAgIGFwcGx5Q3JlYXRlT3BDb2RlcyhsVmlldywgdEkxOG4uY3JlYXRlLCBwYXJlbnRSTm9kZSwgaW5zZXJ0SW5Gcm9udE9mKTtcbiAgICBzZXRJbkkxOG5CbG9jayh0cnVlKTtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyBhIHRyYW5zbGF0aW9uIGJsb2NrIG1hcmtlZCBieSBgaTE4blN0YXJ0YCBhbmQgYGkxOG5FbmRgLiBJdCBpbnNlcnRzIHRoZSB0ZXh0L0lDVSBub2Rlc1xuICogaW50byB0aGUgcmVuZGVyIHRyZWUsIG1vdmVzIHRoZSBwbGFjZWhvbGRlciBub2RlcyBhbmQgcmVtb3ZlcyB0aGUgZGVsZXRlZCBub2Rlcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkVuZCgpIHtcbiAgICBzZXRJbkkxOG5CbG9jayhmYWxzZSk7XG59XG4vKipcbiAqXG4gKiBVc2UgdGhpcyBpbnN0cnVjdGlvbiB0byBjcmVhdGUgYSB0cmFuc2xhdGlvbiBibG9jayB0aGF0IGRvZXNuJ3QgY29udGFpbiBhbnkgcGxhY2Vob2xkZXIuXG4gKiBJdCBjYWxscyBib3RoIHtAbGluayBpMThuU3RhcnR9IGFuZCB7QGxpbmsgaTE4bkVuZH0gaW4gb25lIGluc3RydWN0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgaXMgdGhlIHZhbHVlIHdoaWNoIGlzIGxvY2FsZSBzcGVjaWZpYy4gVGhlIHRyYW5zbGF0aW9uIHN0cmluZyBtYXlcbiAqIGNvbnRhaW4gcGxhY2Vob2xkZXJzIHdoaWNoIGFzc29jaWF0ZSBpbm5lciBlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgcGxhY2Vob2xkZXJzIGFyZTpcbiAqIC0gYO+/vXtpbmRleH0oOntibG9ja30p77+9YDogKkJpbmRpbmcgUGxhY2Vob2xkZXIqOiBNYXJrcyBhIGxvY2F0aW9uIHdoZXJlIGFuIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICBpbnRlcnBvbGF0ZWQgaW50by4gVGhlIHBsYWNlaG9sZGVyIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBleHByZXNzaW9uIGJpbmRpbmcgaW5kZXguIEFuIG9wdGlvbmFsXG4gKiAgIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9I3tpbmRleH0oOntibG9ja30p77+9YC9g77+9LyN7aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpFbGVtZW50IFBsYWNlaG9sZGVyKjogIE1hcmtzIHRoZSBiZWdpbm5pbmdcbiAqICAgYW5kIGVuZCBvZiBET00gZWxlbWVudCB0aGF0IHdlcmUgZW1iZWRkZWQgaW4gdGhlIG9yaWdpbmFsIHRyYW5zbGF0aW9uIGJsb2NrLiBUaGUgcGxhY2Vob2xkZXJcbiAqICAgYGluZGV4YCBwb2ludHMgdG8gdGhlIGVsZW1lbnQgaW5kZXggaW4gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9ucyBzZXQuIEFuIG9wdGlvbmFsIGBibG9ja2AgdGhhdFxuICogICBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9KntpbmRleH06e2Jsb2Nrfe+/vWAvYO+/vS8qe2luZGV4fTp7YmxvY2t977+9YDogKlN1Yi10ZW1wbGF0ZSBQbGFjZWhvbGRlcio6IFN1Yi10ZW1wbGF0ZXMgbXVzdCBiZVxuICogICBzcGxpdCB1cCBhbmQgdHJhbnNsYXRlZCBzZXBhcmF0ZWx5IGluIGVhY2ggYW5ndWxhciB0ZW1wbGF0ZSBmdW5jdGlvbi4gVGhlIGBpbmRleGAgcG9pbnRzIHRvIHRoZVxuICogICBgdGVtcGxhdGVgIGluc3RydWN0aW9uIGluZGV4LiBBIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gaW4gdGhlIHN0YXRpYyBibG9jay5cbiAqIEBwYXJhbSBtZXNzYWdlSW5kZXggQW4gaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgYGRlZi5jb25zdHNgIGFycmF5LlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggT3B0aW9uYWwgc3ViLXRlbXBsYXRlIGluZGV4IGluIHRoZSBgbWVzc2FnZWAuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG4oaW5kZXgsIG1lc3NhZ2VJbmRleCwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIMm1ybVpMThuU3RhcnQoaW5kZXgsIG1lc3NhZ2VJbmRleCwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgybXJtWkxOG5FbmQoKTtcbn1cbi8qKlxuICogTWFya3MgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgYXMgdHJhbnNsYXRhYmxlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBpbiB0aGUgc3RhdGljIGJsb2NrXG4gKiBAcGFyYW0gdmFsdWVzXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5BdHRyaWJ1dGVzKGluZGV4LCBhdHRyc0luZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBgdFZpZXcgc2hvdWxkIGJlIGRlZmluZWRgKTtcbiAgICBjb25zdCBhdHRycyA9IGdldENvbnN0YW50KHRWaWV3LmNvbnN0cywgYXR0cnNJbmRleCk7XG4gICAgaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3ModFZpZXcsIGluZGV4ICsgSEVBREVSX09GRlNFVCwgYXR0cnMpO1xufVxuLyoqXG4gKiBTdG9yZXMgdGhlIHZhbHVlcyBvZiB0aGUgYmluZGluZ3MgZHVyaW5nIGVhY2ggdXBkYXRlIGN5Y2xlIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvXG4gKiB1cGRhdGUgdGhlIHRyYW5zbGF0ZWQgbm9kZXMuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSBiaW5kaW5nJ3MgdmFsdWVcbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYGkxOG5FeHAoY3R4Lm5hbWUpKGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuRXhwKHZhbHVlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHNldE1hc2tCaXQoYmluZGluZ1VwZGF0ZWQobFZpZXcsIG5leHRCaW5kaW5nSW5kZXgoKSwgdmFsdWUpKTtcbiAgICByZXR1cm4gybXJtWkxOG5FeHA7XG59XG4vKipcbiAqIFVwZGF0ZXMgYSB0cmFuc2xhdGlvbiBibG9jayBvciBhbiBpMThuIGF0dHJpYnV0ZSB3aGVuIHRoZSBiaW5kaW5ncyBoYXZlIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGVpdGhlciB7QGxpbmsgaTE4blN0YXJ0fSAodHJhbnNsYXRpb24gYmxvY2spIG9yIHtAbGluayBpMThuQXR0cmlidXRlc31cbiAqIChpMThuIGF0dHJpYnV0ZSkgb24gd2hpY2ggaXQgc2hvdWxkIHVwZGF0ZSB0aGUgY29udGVudC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkFwcGx5KGluZGV4KSB7XG4gICAgYXBwbHlJMThuKGdldFRWaWV3KCksIGdldExWaWV3KCksIGluZGV4ICsgSEVBREVSX09GRlNFVCk7XG59XG4vKipcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGZvciBpbnRlcm5hdGlvbmFsaXphdGlvbi5cbiAqXG4gKiBIYW5kbGVzIG1lc3NhZ2Ugc3RyaW5nIHBvc3QtcHJvY2Vzc2luZyBieSB0cmFuc2Zvcm1pbmcgaXQgZnJvbSBpbnRlcm1lZGlhdGVcbiAqIGZvcm1hdCAodGhhdCBtaWdodCBjb250YWluIHNvbWUgbWFya2VycyB0aGF0IHdlIG5lZWQgdG8gcmVwbGFjZSkgdG8gdGhlIGZpbmFsXG4gKiBmb3JtLCBjb25zdW1hYmxlIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvbi4gUG9zdCBwcm9jZXNzaW5nIHN0ZXBzIGluY2x1ZGU6XG4gKlxuICogMS4gUmVzb2x2ZSBhbGwgbXVsdGktdmFsdWUgY2FzZXMgKGxpa2UgW++/vSoxOjHvv73vv70jMjox77+9fO+/vSM0OjHvv71877+9Ne+/vV0pXG4gKiAyLiBSZXBsYWNlIGFsbCBJQ1UgdmFycyAobGlrZSBcIlZBUl9QTFVSQUxcIilcbiAqIDMuIFJlcGxhY2UgYWxsIHBsYWNlaG9sZGVycyB1c2VkIGluc2lkZSBJQ1VzIGluIGEgZm9ybSBvZiB7UExBQ0VIT0xERVJ9XG4gKiA0LiBSZXBsYWNlIGFsbCBJQ1UgcmVmZXJlbmNlcyB3aXRoIGNvcnJlc3BvbmRpbmcgdmFsdWVzIChsaWtlIO+/vUlDVV9FWFBfSUNVXzHvv70pXG4gKiAgICBpbiBjYXNlIG11bHRpcGxlIElDVXMgaGF2ZSB0aGUgc2FtZSBwbGFjZWhvbGRlciBuYW1lXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgUmF3IHRyYW5zbGF0aW9uIHN0cmluZyBmb3IgcG9zdCBwcm9jZXNzaW5nXG4gKiBAcGFyYW0gcmVwbGFjZW1lbnRzIFNldCBvZiByZXBsYWNlbWVudHMgdGhhdCBzaG91bGQgYmUgYXBwbGllZFxuICpcbiAqIEByZXR1cm5zIFRyYW5zZm9ybWVkIHN0cmluZyB0aGF0IGNhbiBiZSBjb25zdW1lZCBieSBpMThuU3RhcnQgaW5zdHJ1Y3Rpb25cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4blBvc3Rwcm9jZXNzKG1lc3NhZ2UsIHJlcGxhY2VtZW50cyA9IHt9KSB7XG4gICAgcmV0dXJuIGkxOG5Qb3N0cHJvY2VzcyhtZXNzYWdlLCByZXBsYWNlbWVudHMpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlc29sdmVzIHRoZSBwcm92aWRlcnMgd2hpY2ggYXJlIGRlZmluZWQgaW4gdGhlIERpcmVjdGl2ZURlZi5cbiAqXG4gKiBXaGVuIGluc2VydGluZyB0aGUgdG9rZW5zIGFuZCB0aGUgZmFjdG9yaWVzIGluIHRoZWlyIHJlc3BlY3RpdmUgYXJyYXlzLCB3ZSBjYW4gYXNzdW1lIHRoYXRcbiAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmaXJzdCBmb3IgdGhlIGNvbXBvbmVudCAoaWYgYW55KSwgYW5kIHRoZW4gZm9yIG90aGVyIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWVcbiAqIG5vZGUuXG4gKiBBcyBhIGNvbnNlcXVlbmNlLHRoZSBwcm92aWRlcnMgYXJlIGFsd2F5cyBwcm9jZXNzZWQgaW4gdGhhdCBvcmRlcjpcbiAqIDEpIFRoZSB2aWV3IHByb3ZpZGVycyBvZiB0aGUgY29tcG9uZW50XG4gKiAyKSBUaGUgcHJvdmlkZXJzIG9mIHRoZSBjb21wb25lbnRcbiAqIDMpIFRoZSBwcm92aWRlcnMgb2YgdGhlIG90aGVyIGRpcmVjdGl2ZXNcbiAqIFRoaXMgbWF0Y2hlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBpbmplY3RhYmxlcyBhcnJheXMgb2YgYSB2aWV3IChmb3IgZWFjaCBub2RlKS5cbiAqIFNvIHRoZSB0b2tlbnMgYW5kIHRoZSBmYWN0b3JpZXMgY2FuIGJlIHB1c2hlZCBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheXMsIGV4Y2VwdFxuICogaW4gb25lIGNhc2UgZm9yIG11bHRpIHByb3ZpZGVycy5cbiAqXG4gKiBAcGFyYW0gZGVmIHRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvblxuICogQHBhcmFtIHByb3ZpZGVyczogQXJyYXkgb2YgYHByb3ZpZGVyc2AuXG4gKiBAcGFyYW0gdmlld1Byb3ZpZGVyczogQXJyYXkgb2YgYHZpZXdQcm92aWRlcnNgLlxuICovXG5mdW5jdGlvbiBwcm92aWRlcnNSZXNvbHZlcihkZWYsIHByb3ZpZGVycywgdmlld1Byb3ZpZGVycykge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50ID0gaXNDb21wb25lbnREZWYoZGVmKTtcbiAgICAgICAgLy8gVGhlIGxpc3Qgb2YgdmlldyBwcm92aWRlcnMgaXMgcHJvY2Vzc2VkIGZpcnN0LCBhbmQgdGhlIGZsYWdzIGFyZSB1cGRhdGVkXG4gICAgICAgIHJlc29sdmVQcm92aWRlcih2aWV3UHJvdmlkZXJzLCB0Vmlldy5kYXRhLCB0Vmlldy5ibHVlcHJpbnQsIGlzQ29tcG9uZW50LCB0cnVlKTtcbiAgICAgICAgLy8gVGhlbiwgdGhlIGxpc3Qgb2YgcHJvdmlkZXJzIGlzIHByb2Nlc3NlZCwgYW5kIHRoZSBmbGFncyBhcmUgdXBkYXRlZFxuICAgICAgICByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXJzLCB0Vmlldy5kYXRhLCB0Vmlldy5ibHVlcHJpbnQsIGlzQ29tcG9uZW50LCBmYWxzZSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlcyBhIHByb3ZpZGVyIGFuZCBwdWJsaXNoZXMgaXQgdG8gdGhlIERJIHN5c3RlbS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVByb3ZpZGVyKHByb3ZpZGVyLCB0SW5qZWN0YWJsZXMsIGxJbmplY3RhYmxlc0JsdWVwcmludCwgaXNDb21wb25lbnQsIGlzVmlld1Byb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvdmlkZXIpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNhbGwgYHJlc29sdmVQcm92aWRlcmBcbiAgICAgICAgLy8gUmVjdXJzaW9uIGlzIE9LIGluIHRoaXMgY2FzZSBiZWNhdXNlIHRoaXMgY29kZSB3aWxsIG5vdCBiZSBpbiBob3QtcGF0aCBvbmNlIHdlIGltcGxlbWVudFxuICAgICAgICAvLyBjbG9uaW5nIG9mIHRoZSBpbml0aWFsIHN0YXRlLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3ZpZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXJbaV0sIHRJbmplY3RhYmxlcywgbEluamVjdGFibGVzQmx1ZXByaW50LCBpc0NvbXBvbmVudCwgaXNWaWV3UHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgbGV0IHRva2VuID0gaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpID8gcHJvdmlkZXIgOiByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci5wcm92aWRlKTtcbiAgICAgICAgbGV0IHByb3ZpZGVyRmFjdG9yeSA9IHByb3ZpZGVyVG9GYWN0b3J5KHByb3ZpZGVyKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICAgICAgY29uc3QgYmVnaW5JbmRleCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgICAgIGNvbnN0IGNwdFZpZXdQcm92aWRlcnNDb3VudCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyA+PiAyMCAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdCAqLztcbiAgICAgICAgaWYgKGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSB8fCAhcHJvdmlkZXIubXVsdGkpIHtcbiAgICAgICAgICAgIC8vIFNpbmdsZSBwcm92aWRlciBjYXNlOiB0aGUgZmFjdG9yeSBpcyBjcmVhdGVkIGFuZCBwdXNoZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShwcm92aWRlckZhY3RvcnksIGlzVmlld1Byb3ZpZGVyLCDJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmFjdG9yeUluZGV4ID0gaW5kZXhPZih0b2tlbiwgdEluamVjdGFibGVzLCBpc1ZpZXdQcm92aWRlciA/IGJlZ2luSW5kZXggOiBiZWdpbkluZGV4ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50LCBlbmRJbmRleCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdGYWN0b3J5SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpLCB0VmlldywgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCB0SW5qZWN0YWJsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0SW5qZWN0YWJsZXMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlU3RhcnQrKztcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVFbmQrKztcbiAgICAgICAgICAgICAgICBpZiAoaXNWaWV3UHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUucHJvdmlkZXJJbmRleGVzICs9IDEwNDg1NzYgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnRlciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgbFZpZXcucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ0ZhY3RvcnlJbmRleF0gPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIGxWaWV3W2V4aXN0aW5nRmFjdG9yeUluZGV4XSA9IGZhY3Rvcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNdWx0aSBwcm92aWRlciBjYXNlOlxuICAgICAgICAgICAgLy8gV2UgY3JlYXRlIGEgbXVsdGkgZmFjdG9yeSB3aGljaCBpcyBnb2luZyB0byBhZ2dyZWdhdGUgYWxsIHRoZSB2YWx1ZXMuXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgb3V0cHV0IG9mIHN1Y2ggYSBmYWN0b3J5IGRlcGVuZHMgb24gY29udGVudCBvciB2aWV3IGluamVjdGlvbixcbiAgICAgICAgICAgIC8vIHdlIGNyZWF0ZSB0d28gb2YgdGhlbSwgd2hpY2ggYXJlIGxpbmtlZCB0b2dldGhlci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3Qgb25lIChmb3IgdmlldyBwcm92aWRlcnMpIGlzIGFsd2F5cyBpbiB0aGUgZmlyc3QgYmxvY2sgb2YgdGhlIGluamVjdGFibGVzIGFycmF5LFxuICAgICAgICAgICAgLy8gYW5kIHRoZSBzZWNvbmQgb25lIChmb3IgcHJvdmlkZXJzKSBpcyBhbHdheXMgaW4gdGhlIHNlY29uZCBibG9jay5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdmlldyBwcm92aWRlcnMgaGF2ZSBoaWdoZXIgcHJpb3JpdHkuIFdoZW4gYSBtdWx0aSB0b2tlblxuICAgICAgICAgICAgLy8gaXMgYmVpbmcgbG9va2VkIHVwLCB0aGUgdmlldyBwcm92aWRlcnMgc2hvdWxkIGJlIGZvdW5kIGZpcnN0LlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBoYXZlIGEgbXVsdGkgZmFjdG9yeSBpbiB0aGUgdGhpcmQgYmxvY2sgKGRpcmVjdGl2ZSBibG9jaykuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGFsZ29yaXRobSB0byBwcm9jZXNzIG11bHRpIHByb3ZpZGVycyBpcyBhcyBmb2xsb3dzOlxuICAgICAgICAgICAgLy8gMSkgSWYgdGhlIG11bHRpIHByb3ZpZGVyIGNvbWVzIGZyb20gdGhlIGB2aWV3UHJvdmlkZXJzYCBvZiB0aGUgY29tcG9uZW50OlxuICAgICAgICAgICAgLy8gICBhKSBJZiB0aGUgc3BlY2lhbCB2aWV3IHByb3ZpZGVycyBmYWN0b3J5IGRvZXNuJ3QgZXhpc3QsIGl0IGlzIGNyZWF0ZWQgYW5kIHB1c2hlZC5cbiAgICAgICAgICAgIC8vICAgYikgRWxzZSwgdGhlIG11bHRpIHByb3ZpZGVyIGlzIGFkZGVkIHRvIHRoZSBleGlzdGluZyBtdWx0aSBmYWN0b3J5LlxuICAgICAgICAgICAgLy8gMikgSWYgdGhlIG11bHRpIHByb3ZpZGVyIGNvbWVzIGZyb20gdGhlIGBwcm92aWRlcnNgIG9mIHRoZSBjb21wb25lbnQgb3Igb2YgYW5vdGhlclxuICAgICAgICAgICAgLy8gZGlyZWN0aXZlOlxuICAgICAgICAgICAgLy8gICBhKSBJZiB0aGUgbXVsdGkgZmFjdG9yeSBkb2Vzbid0IGV4aXN0LCBpdCBpcyBjcmVhdGVkIGFuZCBwcm92aWRlciBwdXNoZWQgaW50byBpdC5cbiAgICAgICAgICAgIC8vICAgICAgSXQgaXMgYWxzbyBsaW5rZWQgdG8gdGhlIG11bHRpIGZhY3RvcnkgZm9yIHZpZXcgcHJvdmlkZXJzLCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAgICAvLyAgIGIpIEVsc2UsIHRoZSBtdWx0aSBwcm92aWRlciBpcyBhZGRlZCB0byB0aGUgZXhpc3RpbmcgbXVsdGkgZmFjdG9yeS5cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4ID0gaW5kZXhPZih0b2tlbiwgdEluamVjdGFibGVzLCBiZWdpbkluZGV4ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50LCBlbmRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggPSBpbmRleE9mKHRva2VuLCB0SW5qZWN0YWJsZXMsIGJlZ2luSW5kZXgsIGJlZ2luSW5kZXggKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQpO1xuICAgICAgICAgICAgY29uc3QgZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCA9IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4ID49IDAgJiZcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QgPSBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggPj0gMCAmJlxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgaWYgKGlzVmlld1Byb3ZpZGVyICYmICFkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCB8fFxuICAgICAgICAgICAgICAgICFpc1ZpZXdQcm92aWRlciAmJiAhZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIENhc2VzIDEuYSBhbmQgMi5hXG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpLCB0VmlldywgdG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBtdWx0aUZhY3RvcnkoaXNWaWV3UHJvdmlkZXIgPyBtdWx0aVZpZXdQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIgOiBtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciwgbEluamVjdGFibGVzQmx1ZXByaW50Lmxlbmd0aCwgaXNWaWV3UHJvdmlkZXIsIGlzQ29tcG9uZW50LCBwcm92aWRlckZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWaWV3UHJvdmlkZXIgJiYgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0ucHJvdmlkZXJGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIHRJbmplY3RhYmxlcy5sZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIHRJbmplY3RhYmxlcy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdGFydCsrO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZUVuZCsrO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgKz0gMTA0ODU3NiAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdGVyICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnQucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBsVmlldy5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FzZXMgMS5iIGFuZCAyLmJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleEluRmFjdG9yeSA9IG11bHRpRmFjdG9yeUFkZChsSW5qZWN0YWJsZXNCbHVlcHJpbnRbaXNWaWV3UHJvdmlkZXIgPyBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggOlxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0sIHByb3ZpZGVyRmFjdG9yeSwgIWlzVmlld1Byb3ZpZGVyICYmIGlzQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkKHRWaWV3LCBwcm92aWRlciwgZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggPiAtMSA/IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4IDpcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4LCBpbmRleEluRmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVmlld1Byb3ZpZGVyICYmIGlzQ29tcG9uZW50ICYmIGRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0KSB7XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0uY29tcG9uZW50UHJvdmlkZXJzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgYG5nT25EZXN0cm95YCBob29rIG9mIGEgcHJvdmlkZXIsIGlmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBkZXN0cm95IGhvb2tzLlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgaW4gd2hpY2ggdG8gcmVnaXN0ZXIgdGhlIGhvb2suXG4gKiBAcGFyYW0gcHJvdmlkZXIgUHJvdmlkZXIgd2hvc2UgaG9vayBzaG91bGQgYmUgcmVnaXN0ZXJlZC5cbiAqIEBwYXJhbSBjb250ZXh0SW5kZXggSW5kZXggdW5kZXIgd2hpY2ggdG8gZmluZCB0aGUgY29udGV4dCBmb3IgdGhlIGhvb2sgd2hlbiBpdCdzIGJlaW5nIGludm9rZWQuXG4gKiBAcGFyYW0gaW5kZXhJbkZhY3RvcnkgT25seSByZXF1aXJlZCBmb3IgYG11bHRpYCBwcm92aWRlcnMuIEluZGV4IG9mIHRoZSBwcm92aWRlciBpbiB0aGUgbXVsdGlcbiAqIHByb3ZpZGVyIGZhY3RvcnkuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCBjb250ZXh0SW5kZXgsIGluZGV4SW5GYWN0b3J5KSB7XG4gICAgY29uc3QgcHJvdmlkZXJJc1R5cGVQcm92aWRlciA9IGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICBjb25zdCBwcm92aWRlcklzQ2xhc3NQcm92aWRlciA9IGlzQ2xhc3NQcm92aWRlcihwcm92aWRlcik7XG4gICAgaWYgKHByb3ZpZGVySXNUeXBlUHJvdmlkZXIgfHwgcHJvdmlkZXJJc0NsYXNzUHJvdmlkZXIpIHtcbiAgICAgICAgLy8gUmVzb2x2ZSBmb3J3YXJkIHJlZmVyZW5jZXMgYXMgYHVzZUNsYXNzYCBjYW4gaG9sZCBhIGZvcndhcmQgcmVmZXJlbmNlLlxuICAgICAgICBjb25zdCBjbGFzc1Rva2VuID0gcHJvdmlkZXJJc0NsYXNzUHJvdmlkZXIgPyByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VDbGFzcykgOiBwcm92aWRlcjtcbiAgICAgICAgY29uc3QgcHJvdG90eXBlID0gY2xhc3NUb2tlbi5wcm90b3R5cGU7XG4gICAgICAgIGNvbnN0IG5nT25EZXN0cm95ID0gcHJvdG90eXBlLm5nT25EZXN0cm95O1xuICAgICAgICBpZiAobmdPbkRlc3Ryb3kpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2tzID0gdFZpZXcuZGVzdHJveUhvb2tzIHx8ICh0Vmlldy5kZXN0cm95SG9va3MgPSBbXSk7XG4gICAgICAgICAgICBpZiAoIXByb3ZpZGVySXNUeXBlUHJvdmlkZXIgJiYgcHJvdmlkZXIubXVsdGkpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChpbmRleEluRmFjdG9yeSwgJ2luZGV4SW5GYWN0b3J5IHdoZW4gcmVnaXN0ZXJpbmcgbXVsdGkgZmFjdG9yeSBkZXN0cm95IGhvb2snKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0NhbGxiYWNrc0luZGV4ID0gaG9va3MuaW5kZXhPZihjb250ZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0NhbGxiYWNrc0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBob29rcy5wdXNoKGNvbnRleHRJbmRleCwgW2luZGV4SW5GYWN0b3J5LCBuZ09uRGVzdHJveV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3NbZXhpc3RpbmdDYWxsYmFja3NJbmRleCArIDFdLnB1c2goaW5kZXhJbkZhY3RvcnksIG5nT25EZXN0cm95KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob29rcy5wdXNoKGNvbnRleHRJbmRleCwgbmdPbkRlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBZGQgYSBmYWN0b3J5IGluIGEgbXVsdGkgZmFjdG9yeS5cbiAqIEByZXR1cm5zIEluZGV4IGF0IHdoaWNoIHRoZSBmYWN0b3J5IHdhcyBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlGYWN0b3J5QWRkKG11bHRpRmFjdG9yeSwgZmFjdG9yeSwgaXNDb21wb25lbnRQcm92aWRlcikge1xuICAgIGlmIChpc0NvbXBvbmVudFByb3ZpZGVyKSB7XG4gICAgICAgIG11bHRpRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMrKztcbiAgICB9XG4gICAgcmV0dXJuIG11bHRpRmFjdG9yeS5tdWx0aS5wdXNoKGZhY3RvcnkpIC0gMTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgaXRlbSBpbiB0aGUgYXJyYXksIGJ1dCBvbmx5IGluIHRoZSBiZWdpbiB0byBlbmQgcmFuZ2UuXG4gKi9cbmZ1bmN0aW9uIGluZGV4T2YoaXRlbSwgYXJyLCBiZWdpbiwgZW5kKSB7XG4gICAgZm9yIChsZXQgaSA9IGJlZ2luOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSA9PT0gaXRlbSlcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIFVzZSB0aGlzIHdpdGggYG11bHRpYCBgcHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIoXywgdERhdGEsIGxEYXRhLCB0Tm9kZSkge1xuICAgIHJldHVybiBtdWx0aVJlc29sdmUodGhpcy5tdWx0aSwgW10pO1xufVxuLyoqXG4gKiBVc2UgdGhpcyB3aXRoIGBtdWx0aWAgYHZpZXdQcm92aWRlcnNgLlxuICpcbiAqIFRoaXMgZmFjdG9yeSBrbm93cyBob3cgdG8gY29uY2F0ZW5hdGUgaXRzZWxmIHdpdGggdGhlIGV4aXN0aW5nIGBtdWx0aWAgYHByb3ZpZGVyc2AuXG4gKi9cbmZ1bmN0aW9uIG11bHRpVmlld1Byb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlcihfLCB0RGF0YSwgbFZpZXcsIHROb2RlKSB7XG4gICAgY29uc3QgZmFjdG9yaWVzID0gdGhpcy5tdWx0aTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh0aGlzLnByb3ZpZGVyRmFjdG9yeSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRDb3VudCA9IHRoaXMucHJvdmlkZXJGYWN0b3J5LmNvbXBvbmVudFByb3ZpZGVycztcbiAgICAgICAgY29uc3QgbXVsdGlQcm92aWRlcnMgPSBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgbFZpZXdbVFZJRVddLCB0aGlzLnByb3ZpZGVyRmFjdG9yeS5pbmRleCwgdE5vZGUpO1xuICAgICAgICAvLyBDb3B5IHRoZSBzZWN0aW9uIG9mIHRoZSBhcnJheSB3aGljaCBjb250YWlucyBgbXVsdGlgIGBwcm92aWRlcnNgIGZyb20gdGhlIGNvbXBvbmVudFxuICAgICAgICByZXN1bHQgPSBtdWx0aVByb3ZpZGVycy5zbGljZSgwLCBjb21wb25lbnRDb3VudCk7XG4gICAgICAgIC8vIEluc2VydCB0aGUgYHZpZXdQcm92aWRlcmAgaW5zdGFuY2VzLlxuICAgICAgICBtdWx0aVJlc29sdmUoZmFjdG9yaWVzLCByZXN1bHQpO1xuICAgICAgICAvLyBDb3B5IHRoZSBzZWN0aW9uIG9mIHRoZSBhcnJheSB3aGljaCBjb250YWlucyBgbXVsdGlgIGBwcm92aWRlcnNgIGZyb20gb3RoZXIgZGlyZWN0aXZlc1xuICAgICAgICBmb3IgKGxldCBpID0gY29tcG9uZW50Q291bnQ7IGkgPCBtdWx0aVByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobXVsdGlQcm92aWRlcnNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBgdmlld1Byb3ZpZGVyYCBpbnN0YW5jZXMuXG4gICAgICAgIG11bHRpUmVzb2x2ZShmYWN0b3JpZXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIE1hcHMgYW4gYXJyYXkgb2YgZmFjdG9yaWVzIGludG8gYW4gYXJyYXkgb2YgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBtdWx0aVJlc29sdmUoZmFjdG9yaWVzLCByZXN1bHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhY3Rvcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gZmFjdG9yaWVzW2ldO1xuICAgICAgICByZXN1bHQucHVzaChmYWN0b3J5KCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbXVsdGkgZmFjdG9yeS5cbiAqL1xuZnVuY3Rpb24gbXVsdGlGYWN0b3J5KGZhY3RvcnlGbiwgaW5kZXgsIGlzVmlld1Byb3ZpZGVyLCBpc0NvbXBvbmVudCwgZikge1xuICAgIGNvbnN0IGZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShmYWN0b3J5Rm4sIGlzVmlld1Byb3ZpZGVyLCDJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICBmYWN0b3J5Lm11bHRpID0gW107XG4gICAgZmFjdG9yeS5pbmRleCA9IGluZGV4O1xuICAgIGZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzID0gMDtcbiAgICBtdWx0aUZhY3RvcnlBZGQoZmFjdG9yeSwgZiwgaXNDb21wb25lbnQgJiYgIWlzVmlld1Byb3ZpZGVyKTtcbiAgICByZXR1cm4gZmFjdG9yeTtcbn1cblxuLyoqXG4gKiBUaGlzIGZlYXR1cmUgcmVzb2x2ZXMgdGhlIHByb3ZpZGVycyBvZiBhIGRpcmVjdGl2ZSAob3IgY29tcG9uZW50KSxcbiAqIGFuZCBwdWJsaXNoIHRoZW0gaW50byB0aGUgREkgc3lzdGVtLCBtYWtpbmcgaXQgdmlzaWJsZSB0byBvdGhlcnMgZm9yIGluamVjdGlvbi5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBjbGFzcyBDb21wb25lbnRXaXRoUHJvdmlkZXJzIHtcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBncmVldGVyOiBHcmVldGVyREUpIHt9XG4gKlxuICogICBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAgIHR5cGU6IENvbXBvbmVudFdpdGhQcm92aWRlcnMsXG4gKiAgICAgc2VsZWN0b3JzOiBbWydjb21wb25lbnQtd2l0aC1wcm92aWRlcnMnXV0sXG4gKiAgICBmYWN0b3J5OiAoKSA9PiBuZXcgQ29tcG9uZW50V2l0aFByb3ZpZGVycyhkaXJlY3RpdmVJbmplY3QoR3JlZXRlckRFIGFzIGFueSkpLFxuICogICAgZGVjbHM6IDEsXG4gKiAgICB2YXJzOiAxLFxuICogICAgdGVtcGxhdGU6IGZ1bmN0aW9uKGZzOiBSZW5kZXJGbGFncywgY3R4OiBDb21wb25lbnRXaXRoUHJvdmlkZXJzKSB7XG4gKiAgICAgIGlmIChmcyAmIFJlbmRlckZsYWdzLkNyZWF0ZSkge1xuICogICAgICAgIMm1ybV0ZXh0KDApO1xuICogICAgICB9XG4gKiAgICAgIGlmIChmcyAmIFJlbmRlckZsYWdzLlVwZGF0ZSkge1xuICogICAgICAgIMm1ybV0ZXh0SW50ZXJwb2xhdGUoY3R4LmdyZWV0ZXIuZ3JlZXQoKSk7XG4gKiAgICAgIH1cbiAqICAgIH0sXG4gKiAgICBmZWF0dXJlczogW8m1ybVQcm92aWRlcnNGZWF0dXJlKFtHcmVldGVyREVdKV1cbiAqICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBkZWZpbml0aW9uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtVByb3ZpZGVyc0ZlYXR1cmUocHJvdmlkZXJzLCB2aWV3UHJvdmlkZXJzID0gW10pIHtcbiAgICByZXR1cm4gKGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgZGVmaW5pdGlvbi5wcm92aWRlcnNSZXNvbHZlciA9XG4gICAgICAgICAgICAoZGVmLCBwcm9jZXNzUHJvdmlkZXJzRm4pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXJzUmVzb2x2ZXIoZGVmLCAvL1xuICAgICAgICAgICAgICAgIHByb2Nlc3NQcm92aWRlcnNGbiA/IHByb2Nlc3NQcm92aWRlcnNGbihwcm92aWRlcnMpIDogcHJvdmlkZXJzLCAvL1xuICAgICAgICAgICAgICAgIHZpZXdQcm92aWRlcnMpO1xuICAgICAgICAgICAgfTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbXBvbmVudCBjcmVhdGVkIGJ5IGEgYENvbXBvbmVudEZhY3RvcnlgLlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIHJlbGF0ZWQgb2JqZWN0cyxcbiAqIGFuZCBwcm92aWRlcyB0aGUgbWVhbnMgb2YgZGVzdHJveWluZyB0aGUgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBDb21wb25lbnRSZWYkMSB7XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGEgZmFjdG9yeSB0aGF0IGNhbiBjcmVhdGUgYSBjb21wb25lbnQgZHluYW1pY2FsbHkuXG4gKiBJbnN0YW50aWF0ZSBhIGZhY3RvcnkgZm9yIGEgZ2l2ZW4gdHlwZSBvZiBjb21wb25lbnQgd2l0aCBgcmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoKWAuXG4gKiBVc2UgdGhlIHJlc3VsdGluZyBgQ29tcG9uZW50RmFjdG9yeS5jcmVhdGUoKWAgbWV0aG9kIHRvIGNyZWF0ZSBhIGNvbXBvbmVudCBvZiB0aGF0IHR5cGUuXG4gKlxuICogQHNlZSBbRHluYW1pYyBDb21wb25lbnRzXShndWlkZS9keW5hbWljLWNvbXBvbmVudC1sb2FkZXIpXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkIEFuZ3VsYXIgbm8gbG9uZ2VyIHJlcXVpcmVzIENvbXBvbmVudCBmYWN0b3JpZXMuIFBsZWFzZSB1c2Ugb3RoZXIgQVBJcyB3aGVyZVxuICogICAgIENvbXBvbmVudCBjbGFzcyBjYW4gYmUgdXNlZCBkaXJlY3RseS5cbiAqL1xuY2xhc3MgQ29tcG9uZW50RmFjdG9yeSQxIHtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBub0NvbXBvbmVudEZhY3RvcnlFcnJvcihjb21wb25lbnQpIHtcbiAgICBjb25zdCBlcnJvciA9IEVycm9yKGBObyBjb21wb25lbnQgZmFjdG9yeSBmb3VuZCBmb3IgJHtzdHJpbmdpZnkoY29tcG9uZW50KX0uIERpZCB5b3UgYWRkIGl0IHRvIEBOZ01vZHVsZS5lbnRyeUNvbXBvbmVudHM/YCk7XG4gICAgZXJyb3JbRVJST1JfQ09NUE9ORU5UXSA9IGNvbXBvbmVudDtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5jb25zdCBFUlJPUl9DT01QT05FTlQgPSAnbmdDb21wb25lbnQnO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50KGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yW0VSUk9SX0NPTVBPTkVOVF07XG59XG5jbGFzcyBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB7XG4gICAgcmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50KSB7XG4gICAgICAgIHRocm93IG5vQ29tcG9uZW50RmFjdG9yeUVycm9yKGNvbXBvbmVudCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNpbXBsZSByZWdpc3RyeSB0aGF0IG1hcHMgYENvbXBvbmVudHNgIHRvIGdlbmVyYXRlZCBgQ29tcG9uZW50RmFjdG9yeWAgY2xhc3Nlc1xuICogdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGNvbXBvbmVudHMuXG4gKiBVc2UgdG8gb2J0YWluIHRoZSBmYWN0b3J5IGZvciBhIGdpdmVuIGNvbXBvbmVudCB0eXBlLFxuICogdGhlbiB1c2UgdGhlIGZhY3RvcnkncyBgY3JlYXRlKClgIG1ldGhvZCB0byBjcmVhdGUgYSBjb21wb25lbnQgb2YgdGhhdCB0eXBlLlxuICpcbiAqIE5vdGU6IHNpbmNlIHYxMywgZHluYW1pYyBjb21wb25lbnQgY3JlYXRpb24gdmlhXG4gKiBbYFZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50YF0oYXBpL2NvcmUvVmlld0NvbnRhaW5lclJlZiNjcmVhdGVDb21wb25lbnQpXG4gKiBkb2VzICoqbm90KiogcmVxdWlyZSByZXNvbHZpbmcgY29tcG9uZW50IGZhY3Rvcnk6IGNvbXBvbmVudCBjbGFzcyBjYW4gYmUgdXNlZCBkaXJlY3RseS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWQgQW5ndWxhciBubyBsb25nZXIgcmVxdWlyZXMgQ29tcG9uZW50IGZhY3Rvcmllcy4gUGxlYXNlIHVzZSBvdGhlciBBUElzIHdoZXJlXG4gKiAgICAgQ29tcG9uZW50IGNsYXNzIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSB7XG59XG5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMS5OVUxMID0gKCAvKiBAX19QVVJFX18gKi9uZXcgX051bGxDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuIEVsZW1lbnRSZWYgZnJvbSB0aGUgbW9zdCByZWNlbnQgbm9kZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgRWxlbWVudFJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0RWxlbWVudFJlZigpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gRWxlbWVudFJlZiBnaXZlbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBub2RlIGZvciB3aGljaCB5b3UnZCBsaWtlIGFuIEVsZW1lbnRSZWZcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcmV0dXJucyBUaGUgRWxlbWVudFJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFJlZih0Tm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gbmV3IEVsZW1lbnRSZWYoZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpKTtcbn1cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBlbGVtZW50IGluc2lkZSBvZiBhIFZpZXcuXG4gKlxuICogQW4gYEVsZW1lbnRSZWZgIGlzIGJhY2tlZCBieSBhIHJlbmRlci1zcGVjaWZpYyBlbGVtZW50LiBJbiB0aGUgYnJvd3NlciwgdGhpcyBpcyB1c3VhbGx5IGEgRE9NXG4gKiBlbGVtZW50LlxuICpcbiAqIEBzZWN1cml0eSBQZXJtaXR0aW5nIGRpcmVjdCBhY2Nlc3MgdG8gdGhlIERPTSBjYW4gbWFrZSB5b3VyIGFwcGxpY2F0aW9uIG1vcmUgdnVsbmVyYWJsZSB0b1xuICogWFNTIGF0dGFja3MuIENhcmVmdWxseSByZXZpZXcgYW55IHVzZSBvZiBgRWxlbWVudFJlZmAgaW4geW91ciBjb2RlLiBGb3IgbW9yZSBkZXRhaWwsIHNlZSB0aGVcbiAqIFtTZWN1cml0eSBHdWlkZV0oaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5KS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbi8vIE5vdGU6IFdlIGRvbid0IGV4cG9zZSB0aGluZ3MgbGlrZSBgSW5qZWN0b3JgLCBgVmlld0NvbnRhaW5lcmAsIC4uLiBoZXJlLFxuLy8gaS5lLiB1c2VycyBoYXZlIHRvIGFzayBmb3Igd2hhdCB0aGV5IG5lZWQuIFdpdGggdGhhdCwgd2UgY2FuIGJ1aWxkIGJldHRlciBhbmFseXNpcyB0b29sc1xuLy8gYW5kIGNvdWxkIGRvIGJldHRlciBjb2RlZ2VuIGluIHRoZSBmdXR1cmUuXG5jbGFzcyBFbGVtZW50UmVmIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMubmF0aXZlRWxlbWVudCA9IG5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cbkVsZW1lbnRSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RFbGVtZW50UmVmO1xuLyoqXG4gKiBVbndyYXBzIGBFbGVtZW50UmVmYCBhbmQgcmV0dXJuIHRoZSBgbmF0aXZlRWxlbWVudGAuXG4gKlxuICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHVud3JhcFxuICogQHJldHVybnMgYG5hdGl2ZUVsZW1lbnRgIGlmIGBFbGVtZW50UmVmYCBvdGhlcndpc2UgcmV0dXJucyB2YWx1ZSBhcyBpcy5cbiAqL1xuZnVuY3Rpb24gdW53cmFwRWxlbWVudFJlZih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyB2YWx1ZS5uYXRpdmVFbGVtZW50IDogdmFsdWU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgUmVuZGVyZXIySW50ZXJjZXB0b3IgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1JlbmRlcmVyMkludGVyY2VwdG9yJyk7XG4vKipcbiAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgY3VzdG9tIHJlbmRlcmVyIHRoYXQgaW1wbGVtZW50cyB0aGUgYFJlbmRlcmVyMmAgYmFzZSBjbGFzcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlbmRlcmVyRmFjdG9yeTIge1xufVxuLyoqXG4gKiBFeHRlbmQgdGhpcyBiYXNlIGNsYXNzIHRvIGltcGxlbWVudCBjdXN0b20gcmVuZGVyaW5nLiBCeSBkZWZhdWx0LCBBbmd1bGFyXG4gKiByZW5kZXJzIGEgdGVtcGxhdGUgaW50byBET00uIFlvdSBjYW4gdXNlIGN1c3RvbSByZW5kZXJpbmcgdG8gaW50ZXJjZXB0XG4gKiByZW5kZXJpbmcgY2FsbHMsIG9yIHRvIHJlbmRlciB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiBET00uXG4gKlxuICogQ3JlYXRlIHlvdXIgY3VzdG9tIHJlbmRlcmVyIHVzaW5nIGBSZW5kZXJlckZhY3RvcnkyYC5cbiAqXG4gKiBVc2UgYSBjdXN0b20gcmVuZGVyZXIgdG8gYnlwYXNzIEFuZ3VsYXIncyB0ZW1wbGF0aW5nIGFuZFxuICogbWFrZSBjdXN0b20gVUkgY2hhbmdlcyB0aGF0IGNhbid0IGJlIGV4cHJlc3NlZCBkZWNsYXJhdGl2ZWx5LlxuICogRm9yIGV4YW1wbGUgaWYgeW91IG5lZWQgdG8gc2V0IGEgcHJvcGVydHkgb3IgYW4gYXR0cmlidXRlIHdob3NlIG5hbWUgaXNcbiAqIG5vdCBzdGF0aWNhbGx5IGtub3duLCB1c2UgdGhlIGBzZXRQcm9wZXJ0eSgpYCBvclxuICogYHNldEF0dHJpYnV0ZSgpYCBtZXRob2QuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBSZW5kZXJlcjIge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cblJlbmRlcmVyMi5fX05HX0VMRU1FTlRfSURfXyA9ICgpID0+IGluamVjdFJlbmRlcmVyMigpO1xuLyoqIFJldHVybnMgYSBSZW5kZXJlcjIgKG9yIHRocm93cyB3aGVuIGFwcGxpY2F0aW9uIHdhcyBib290c3RyYXBwZWQgd2l0aCBSZW5kZXJlcjMpICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVJlbmRlcmVyMihsVmlldykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbmplY3QgUmVuZGVyZXIyIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHVzZXMgUmVuZGVyZXIzIScpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZXI7XG59XG4vKiogSW5qZWN0cyBhIFJlbmRlcmVyMiBmb3IgdGhlIGN1cnJlbnQgY29tcG9uZW50LiAqL1xuZnVuY3Rpb24gaW5qZWN0UmVuZGVyZXIyKCkge1xuICAgIC8vIFdlIG5lZWQgdGhlIFJlbmRlcmVyIHRvIGJlIGJhc2VkIG9uIHRoZSBjb21wb25lbnQgdGhhdCBpdCdzIGJlaW5nIGluamVjdGVkIGludG8sIGhvd2V2ZXIgc2luY2VcbiAgICAvLyBESSBoYXBwZW5zIGJlZm9yZSB3ZSd2ZSBlbnRlcmVkIGl0cyB2aWV3LCBgZ2V0TFZpZXdgIHdpbGwgcmV0dXJuIHRoZSBwYXJlbnQgdmlldyBpbnN0ZWFkLlxuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IG5vZGVBdEluZGV4ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgcmV0dXJuIGdldE9yQ3JlYXRlUmVuZGVyZXIyKGlzTFZpZXcobm9kZUF0SW5kZXgpID8gbm9kZUF0SW5kZXggOiBsVmlldyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTYW5pdGl6ZXIgaXMgdXNlZCBieSB0aGUgdmlld3MgdG8gc2FuaXRpemUgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHZhbHVlcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFNhbml0aXplciB7XG59XG4vKiogQG5vY29sbGFwc2UgKi9cblNhbml0aXplci7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgdG9rZW46IFNhbml0aXplcixcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogKCkgPT4gbnVsbCxcbn0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQGRlc2NyaXB0aW9uIFJlcHJlc2VudHMgdGhlIHZlcnNpb24gb2YgQW5ndWxhclxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVmVyc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZnVsbCkge1xuICAgICAgICB0aGlzLmZ1bGwgPSBmdWxsO1xuICAgICAgICB0aGlzLm1ham9yID0gZnVsbC5zcGxpdCgnLicpWzBdO1xuICAgICAgICB0aGlzLm1pbm9yID0gZnVsbC5zcGxpdCgnLicpWzFdO1xuICAgICAgICB0aGlzLnBhdGNoID0gZnVsbC5zcGxpdCgnLicpLnNsaWNlKDIpLmpvaW4oJy4nKTtcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVkVSU0lPTiA9IG5ldyBWZXJzaW9uKCcxMy4yLjYnKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaGlzIGRlZmF1bHQgdmFsdWUgaXMgd2hlbiBjaGVja2luZyB0aGUgaGllcmFyY2h5IGZvciBhIHRva2VuLlxuLy9cbi8vIEl0IG1lYW5zIGJvdGg6XG4vLyAtIHRoZSB0b2tlbiBpcyBub3QgcHJvdmlkZWQgYnkgdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4vLyAtIG9ubHkgdGhlIGVsZW1lbnQgaW5qZWN0b3JzIHNob3VsZCBiZSBjaGVja2VkIChpZSBkbyBub3QgY2hlY2sgbW9kdWxlIGluamVjdG9yc1xuLy9cbi8vICAgICAgICAgIG1vZDFcbi8vICAgICAgICAgL1xuLy8gICAgICAgZWwxICAgbW9kMlxuLy8gICAgICAgICBcXCAgL1xuLy8gICAgICAgICBlbDJcbi8vXG4vLyBXaGVuIHJlcXVlc3RpbmcgZWwyLmluamVjdG9yLmdldCh0b2tlbiksIHdlIHNob3VsZCBjaGVjayBpbiB0aGUgZm9sbG93aW5nIG9yZGVyIGFuZCByZXR1cm4gdGhlXG4vLyBmaXJzdCBmb3VuZCB2YWx1ZTpcbi8vIC0gZWwyLmluamVjdG9yLmdldCh0b2tlbiwgZGVmYXVsdClcbi8vIC0gZWwxLmluamVjdG9yLmdldCh0b2tlbiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUikgLT4gZG8gbm90IGNoZWNrIHRoZSBtb2R1bGVcbi8vIC0gbW9kMi5pbmplY3Rvci5nZXQodG9rZW4sIGRlZmF1bHQpXG5jb25zdCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SID0ge307XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gY29sbGVjdE5hdGl2ZU5vZGVzKHRWaWV3LCBsVmlldywgdE5vZGUsIHJlc3VsdCwgaXNQcm9qZWN0aW9uID0gZmFsc2UpIHtcbiAgICB3aGlsZSAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAxNiAvKiBQcm9qZWN0aW9uICovIHwgMzIgLyogSWN1ICovKTtcbiAgICAgICAgY29uc3QgbE5vZGUgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIGlmIChsTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godW53cmFwUk5vZGUobE5vZGUpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIGdpdmVuIGxOb2RlIGNhbiByZXByZXNlbnQgZWl0aGVyIGEgbmF0aXZlIG5vZGUgb3IgYSBMQ29udGFpbmVyICh3aGVuIGl0IGlzIGEgaG9zdCBvZiBhXG4gICAgICAgIC8vIFZpZXdDb250YWluZXJSZWYpLiBXaGVuIHdlIGZpbmQgYSBMQ29udGFpbmVyIHdlIG5lZWQgdG8gZGVzY2VuZCBpbnRvIGl0IHRvIGNvbGxlY3Qgcm9vdCBub2Rlc1xuICAgICAgICAvLyBmcm9tIHRoZSB2aWV3cyBpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgaWYgKGlzTENvbnRhaW5lcihsTm9kZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxOb2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbFZpZXdJbkFDb250YWluZXIgPSBsTm9kZVtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsVmlld0ZpcnN0Q2hpbGRUTm9kZSA9IGxWaWV3SW5BQ29udGFpbmVyW1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChsVmlld0ZpcnN0Q2hpbGRUTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0TmF0aXZlTm9kZXMobFZpZXdJbkFDb250YWluZXJbVFZJRVddLCBsVmlld0luQUNvbnRhaW5lciwgbFZpZXdGaXJzdENoaWxkVE5vZGUsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHROb2RlVHlwZSA9IHROb2RlLnR5cGU7XG4gICAgICAgIGlmICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIGNvbGxlY3ROYXRpdmVOb2Rlcyh0VmlldywgbFZpZXcsIHROb2RlLmNoaWxkLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0ZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgbGV0IHJOb2RlO1xuICAgICAgICAgICAgd2hpbGUgKHJOb2RlID0gbmV4dFJOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXNJblNsb3QgPSBnZXRQcm9qZWN0aW9uTm9kZXMobFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVzSW5TbG90KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLm5vZGVzSW5TbG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSBnZXRMVmlld1BhcmVudChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10pO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQYXJlbnRWaWV3KHBhcmVudFZpZXcpO1xuICAgICAgICAgICAgICAgIGNvbGxlY3ROYXRpdmVOb2RlcyhwYXJlbnRWaWV3W1RWSUVXXSwgcGFyZW50Vmlldywgbm9kZXNJblNsb3QsIHJlc3VsdCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGUgPSBpc1Byb2plY3Rpb24gPyB0Tm9kZS5wcm9qZWN0aW9uTmV4dCA6IHROb2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgVmlld1JlZiQxIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlcHJlc2VudHMgYExWaWV3YCBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbXBvbmVudCB3aGVuIFZpZXdSZWYgaXMgYSBDaGFuZ2VEZXRlY3RvclJlZi5cbiAgICAgKlxuICAgICAqIFdoZW4gVmlld1JlZiBpcyBjcmVhdGVkIGZvciBhIGR5bmFtaWMgY29tcG9uZW50LCB0aGlzIGFsc28gcmVwcmVzZW50cyB0aGUgYExWaWV3YCBmb3IgdGhlXG4gICAgICogY29tcG9uZW50LlxuICAgICAqXG4gICAgICogRm9yIGEgXCJyZWd1bGFyXCIgVmlld1JlZiBjcmVhdGVkIGZvciBhbiBlbWJlZGRlZCB2aWV3LCB0aGlzIGlzIHRoZSBgTFZpZXdgIGZvciB0aGUgZW1iZWRkZWRcbiAgICAgKiB2aWV3LlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX2xWaWV3LCBcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlcHJlc2VudHMgdGhlIGBMVmlld2AgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb2ludCB3aGVyZSBgQ2hhbmdlRGV0ZWN0b3JSZWZgIHdhc1xuICAgICAqIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWF5IGJlIGRpZmZlcmVudCBmcm9tIGBfbFZpZXdgIGlmIHRoZSBgX2NkUmVmSW5qZWN0aW5nVmlld2AgaXMgYW4gZW1iZWRkZWQgdmlldy5cbiAgICAgKi9cbiAgICBfY2RSZWZJbmplY3RpbmdWaWV3KSB7XG4gICAgICAgIHRoaXMuX2xWaWV3ID0gX2xWaWV3O1xuICAgICAgICB0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXcgPSBfY2RSZWZJbmplY3RpbmdWaWV3O1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lciA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgcm9vdE5vZGVzKCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IHRoaXMuX2xWaWV3O1xuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3ROYXRpdmVOb2Rlcyh0VmlldywgbFZpZXcsIHRWaWV3LmZpcnN0Q2hpbGQsIFtdKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sVmlld1tDT05URVhUXTtcbiAgICB9XG4gICAgc2V0IGNvbnRleHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbFZpZXdbQ09OVEVYVF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGRlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9sVmlld1tGTEFHU10gJiAyNTYgLyogRGVzdHJveWVkICovKSA9PT0gMjU2IC8qIERlc3Ryb3llZCAqLztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFJlZikge1xuICAgICAgICAgICAgdGhpcy5fYXBwUmVmLmRldGFjaFZpZXcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX2xWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICBpZiAoaXNMQ29udGFpbmVyKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3UmVmcyA9IHBhcmVudFtWSUVXX1JFRlNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmlld1JlZnMgPyB2aWV3UmVmcy5pbmRleE9mKHRoaXMpIDogLTE7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChpbmRleCwgcGFyZW50LmluZGV4T2YodGhpcy5fbFZpZXcpIC0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQsICdBbiBhdHRhY2hlZCB2aWV3IHNob3VsZCBiZSBpbiB0aGUgc2FtZSBwb3NpdGlvbiB3aXRoaW4gaXRzIGNvbnRhaW5lciBhcyBpdHMgVmlld1JlZiBpbiB0aGUgVklFV19SRUZTIGFycmF5LicpO1xuICAgICAgICAgICAgICAgICAgICBkZXRhY2hWaWV3KHBhcmVudCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodmlld1JlZnMsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlc3Ryb3lMVmlldyh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3KTtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHN0b3JlQ2xlYW51cFdpdGhDb250ZXh0KHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcsIG51bGwsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgYSB2aWV3IGFuZCBhbGwgb2YgaXRzIGFuY2VzdG9ycyBkaXJ0eS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gZW5zdXJlIGFuIHtAbGluayBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSNPblB1c2ggT25QdXNofSBjb21wb25lbnQgaXNcbiAgICAgKiBjaGVja2VkIHdoZW4gaXQgbmVlZHMgdG8gYmUgcmUtcmVuZGVyZWQgYnV0IHRoZSB0d28gbm9ybWFsIHRyaWdnZXJzIGhhdmVuJ3QgbWFya2VkIGl0XG4gICAgICogZGlydHkgKGkuZS4gaW5wdXRzIGhhdmVuJ3QgY2hhbmdlZCBhbmQgZXZlbnRzIGhhdmVuJ3QgZmlyZWQgaW4gdGhlIHZpZXcpLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBPblB1c2ggY29tcG9uZW50cyAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwLXJvb3QnLFxuICAgICAqICAgdGVtcGxhdGU6IGBOdW1iZXIgb2YgdGlja3M6IHt7bnVtYmVyT2ZUaWNrc319YFxuICAgICAqICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgICAqICAgbnVtYmVyT2ZUaWNrcyA9IDA7XG4gICAgICpcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuICAgICAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogICAgICAgdGhpcy5udW1iZXJPZlRpY2tzKys7XG4gICAgICogICAgICAgLy8gdGhlIGZvbGxvd2luZyBpcyByZXF1aXJlZCwgb3RoZXJ3aXNlIHRoZSB2aWV3IHdpbGwgbm90IGJlIHVwZGF0ZWRcbiAgICAgKiAgICAgICB0aGlzLnJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICAgKiAgICAgfSwgMTAwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG1hcmtGb3JDaGVjaygpIHtcbiAgICAgICAgbWFya1ZpZXdEaXJ0eSh0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXcgfHwgdGhpcy5fbFZpZXcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyB0aGUgdmlldyBmcm9tIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gICAgICpcbiAgICAgKiBEZXRhY2hlZCB2aWV3cyB3aWxsIG5vdCBiZSBjaGVja2VkIGR1cmluZyBjaGFuZ2UgZGV0ZWN0aW9uIHJ1bnMgdW50aWwgdGhleSBhcmVcbiAgICAgKiByZS1hdHRhY2hlZCwgZXZlbiBpZiB0aGV5IGFyZSBkaXJ0eS4gYGRldGFjaGAgY2FuIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICAgICAqIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRlY3RDaGFuZ2VzIGRldGVjdENoYW5nZXN9IHRvIGltcGxlbWVudCBsb2NhbCBjaGFuZ2VcbiAgICAgKiBkZXRlY3Rpb24gY2hlY2tzLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBkZXRhY2gvcmVhdHRhY2gvbG9jYWwgZGlnZXN0IC0tPlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGl2ZSBkZW1vIG9uY2UgcmVmLmRldGVjdENoYW5nZXMgaXMgbWVyZ2VkIGludG8gbWFzdGVyIC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlZmluZXMgYSBjb21wb25lbnQgd2l0aCBhIGxhcmdlIGxpc3Qgb2YgcmVhZG9ubHkgZGF0YS5cbiAgICAgKiBJbWFnaW5lIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLiBXZSBjYW4gZG8gdGhhdCBieSBkZXRhY2hpbmdcbiAgICAgKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBkb2luZyBhIGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgLy8gaW4gYSByZWFsIGFwcGxpY2F0aW9uIHRoZSByZXR1cm5lZCBkYXRhIHdpbGwgYmUgZGlmZmVyZW50IGV2ZXJ5IHRpbWVcbiAgICAgKiAgIGdldCBkYXRhKCkge1xuICAgICAqICAgICByZXR1cm4gWzEsMiwzLDQsNV07XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2dpYW50LWxpc3QnLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgPGxpICpuZ0Zvcj1cImxldCBkIG9mIGRhdGFQcm92aWRlci5kYXRhXCI+RGF0YSB7e2R9fTwvbGk+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgR2lhbnRMaXN0IHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkYXRhUHJvdmlkZXI6IERhdGFQcm92aWRlcikge1xuICAgICAqICAgICByZWYuZGV0YWNoKCk7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICogICAgIH0sIDUwMDApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICAgICAqICAgcHJvdmlkZXJzOiBbRGF0YVByb3ZpZGVyXSxcbiAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICogICAgIDxnaWFudC1saXN0PjxnaWFudC1saXN0PlxuICAgICAqICAgYCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcCB7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgdGhpcy5fbFZpZXdbRkxBR1NdICY9IH4xMjggLyogQXR0YWNoZWQgKi87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlLWF0dGFjaGVzIGEgdmlldyB0byB0aGUgY2hhbmdlIGRldGVjdGlvbiB0cmVlLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byByZS1hdHRhY2ggdmlld3MgdGhhdCB3ZXJlIHByZXZpb3VzbHkgZGV0YWNoZWQgZnJvbSB0aGUgdHJlZVxuICAgICAqIHVzaW5nIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRhY2ggZGV0YWNofS4gVmlld3MgYXJlIGF0dGFjaGVkIHRvIHRoZSB0cmVlIGJ5IGRlZmF1bHQuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIGNvbXBvbmVudCBkaXNwbGF5aW5nIGBsaXZlYCBkYXRhLiBUaGUgY29tcG9uZW50IHdpbGwgZGV0YWNoXG4gICAgICogaXRzIGNoYW5nZSBkZXRlY3RvciBmcm9tIHRoZSBtYWluIGNoYW5nZSBkZXRlY3RvciB0cmVlIHdoZW4gdGhlIGNvbXBvbmVudCdzIGxpdmUgcHJvcGVydHlcbiAgICAgKiBpcyBzZXQgdG8gZmFsc2UuXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgRGF0YVByb3ZpZGVyIHtcbiAgICAgKiAgIGRhdGEgPSAxO1xuICAgICAqXG4gICAgICogICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YSAqIDI7XG4gICAgICogICAgIH0sIDUwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2xpdmUtZGF0YScsXG4gICAgICogICBpbnB1dHM6IFsnbGl2ZSddLFxuICAgICAqICAgdGVtcGxhdGU6ICdEYXRhOiB7e2RhdGFQcm92aWRlci5kYXRhfX0nXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBMaXZlRGF0YSB7XG4gICAgICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGF0YVByb3ZpZGVyOiBEYXRhUHJvdmlkZXIpIHt9XG4gICAgICpcbiAgICAgKiAgIHNldCBsaXZlKHZhbHVlKSB7XG4gICAgICogICAgIGlmICh2YWx1ZSkge1xuICAgICAqICAgICAgIHRoaXMucmVmLnJlYXR0YWNoKCk7XG4gICAgICogICAgIH0gZWxzZSB7XG4gICAgICogICAgICAgdGhpcy5yZWYuZGV0YWNoKCk7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwLXJvb3QnLFxuICAgICAqICAgcHJvdmlkZXJzOiBbRGF0YVByb3ZpZGVyXSxcbiAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICogICAgIExpdmUgVXBkYXRlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgWyhuZ01vZGVsKV09XCJsaXZlXCI+XG4gICAgICogICAgIDxsaXZlLWRhdGEgW2xpdmVdPVwibGl2ZVwiPjxsaXZlLWRhdGE+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAgKiAgIGxpdmUgPSB0cnVlO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICByZWF0dGFjaCgpIHtcbiAgICAgICAgdGhpcy5fbFZpZXdbRkxBR1NdIHw9IDEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSB2aWV3IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBhbHNvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0gdG8gaW1wbGVtZW50XG4gICAgICogbG9jYWwgY2hhbmdlIGRldGVjdGlvbiBjaGVja3MuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaXZlIGRlbW8gb25jZSByZWYuZGV0ZWN0Q2hhbmdlcyBpcyBtZXJnZWQgaW50byBtYXN0ZXIgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkb25seSBkYXRhLlxuICAgICAqIEltYWdpbmUsIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogV2UgY2FuIGRvIHRoYXQgYnkgZGV0YWNoaW5nIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGRvaW5nIGEgbG9jYWwgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIFNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgZGV0ZWN0Q2hhbmdlcygpIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcsIHRoaXMuY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgY2hhbmdlIGRldGVjdG9yIGFuZCBpdHMgY2hpbGRyZW4sIGFuZCB0aHJvd3MgaWYgYW55IGNoYW5nZXMgYXJlIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VkIGluIGRldmVsb3BtZW50IG1vZGUgdG8gdmVyaWZ5IHRoYXQgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uIGRvZXNuJ3RcbiAgICAgKiBpbnRyb2R1Y2Ugb3RoZXIgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjaGVja05vQ2hhbmdlcygpIHtcbiAgICAgICAgY2hlY2tOb0NoYW5nZXNJbnRlcm5hbCh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3LCB0aGlzLmNvbnRleHQpO1xuICAgIH1cbiAgICBhdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcHBSZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5nRGV2TW9kZSA/ICdUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhJyA6ICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDIgLyogVklFV19BTFJFQURZX0FUVEFDSEVEICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgZGV0YWNoRnJvbUFwcFJlZigpIHtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gbnVsbDtcbiAgICAgICAgcmVuZGVyRGV0YWNoVmlldyh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3KTtcbiAgICB9XG4gICAgYXR0YWNoVG9BcHBSZWYoYXBwUmVmKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbmdEZXZNb2RlID8gJ1RoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgVmlld0NvbnRhaW5lciEnIDogJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMiAvKiBWSUVXX0FMUkVBRFlfQVRUQUNIRUQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwUmVmID0gYXBwUmVmO1xuICAgIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIFJvb3RWaWV3UmVmIGV4dGVuZHMgVmlld1JlZiQxIHtcbiAgICBjb25zdHJ1Y3Rvcihfdmlldykge1xuICAgICAgICBzdXBlcihfdmlldyk7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICB9XG4gICAgZGV0ZWN0Q2hhbmdlcygpIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXcodGhpcy5fdmlldyk7XG4gICAgfVxuICAgIGNoZWNrTm9DaGFuZ2VzKCkge1xuICAgICAgICBjaGVja05vQ2hhbmdlc0luUm9vdFZpZXcodGhpcy5fdmlldyk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIGV4dGVuZHMgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuZ01vZHVsZSBUaGUgTmdNb2R1bGVSZWYgdG8gd2hpY2ggYWxsIHJlc29sdmVkIGZhY3RvcmllcyBhcmUgYm91bmQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmdNb2R1bGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uZ01vZHVsZSA9IG5nTW9kdWxlO1xuICAgIH1cbiAgICByZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnQpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydENvbXBvbmVudFR5cGUoY29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnREZWYsIHRoaXMubmdNb2R1bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRvUmVmQXJyYXkobWFwKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBub25NaW5pZmllZCBpbiBtYXApIHtcbiAgICAgICAgaWYgKG1hcC5oYXNPd25Qcm9wZXJ0eShub25NaW5pZmllZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbmlmaWVkID0gbWFwW25vbk1pbmlmaWVkXTtcbiAgICAgICAgICAgIGFycmF5LnB1c2goeyBwcm9wTmFtZTogbWluaWZpZWQsIHRlbXBsYXRlTmFtZTogbm9uTWluaWZpZWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlKGVsZW1lbnROYW1lKSB7XG4gICAgY29uc3QgbmFtZSA9IGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5hbWUgPT09ICdzdmcnID8gU1ZHX05BTUVTUEFDRSA6IChuYW1lID09PSAnbWF0aCcgPyBNQVRIX01MX05BTUVTUEFDRSA6IG51bGwpO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEluamVjdG9yKHJvb3RWaWV3SW5qZWN0b3IsIG1vZHVsZUluamVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiAodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBmbGFncyk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgfHxcbiAgICAgICAgICAgICAgICBub3RGb3VuZFZhbHVlID09PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSByb290IGVsZW1lbnQgaW5qZWN0b3Igd2hlblxuICAgICAgICAgICAgICAgIC8vIC0gaXQgcHJvdmlkZXMgaXRcbiAgICAgICAgICAgICAgICAvLyAgICh2YWx1ZSAhPT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgICAgICAgICAvLyAtIHRoZSBtb2R1bGUgaW5qZWN0b3Igc2hvdWxkIG5vdCBiZSBjaGVja2VkXG4gICAgICAgICAgICAgICAgLy8gICAobm90Rm91bmRWYWx1ZSA9PT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBSZW5kZXIzIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayB2aWV3RW5naW5lX0NvbXBvbmVudEZhY3Rvcnl9LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5IGV4dGVuZHMgQ29tcG9uZW50RmFjdG9yeSQxIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50RGVmIFRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gbmdNb2R1bGUgVGhlIE5nTW9kdWxlUmVmIHRvIHdoaWNoIHRoZSBmYWN0b3J5IGlzIGJvdW5kLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudERlZiwgbmdNb2R1bGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnREZWYgPSBjb21wb25lbnREZWY7XG4gICAgICAgIHRoaXMubmdNb2R1bGUgPSBuZ01vZHVsZTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlID0gY29tcG9uZW50RGVmLnR5cGU7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzdHJpbmdpZnlDU1NTZWxlY3Rvckxpc3QoY29tcG9uZW50RGVmLnNlbGVjdG9ycyk7XG4gICAgICAgIHRoaXMubmdDb250ZW50U2VsZWN0b3JzID1cbiAgICAgICAgICAgIGNvbXBvbmVudERlZi5uZ0NvbnRlbnRTZWxlY3RvcnMgPyBjb21wb25lbnREZWYubmdDb250ZW50U2VsZWN0b3JzIDogW107XG4gICAgICAgIHRoaXMuaXNCb3VuZFRvTW9kdWxlID0gISFuZ01vZHVsZTtcbiAgICB9XG4gICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRvUmVmQXJyYXkodGhpcy5jb21wb25lbnREZWYuaW5wdXRzKTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dHMoKSB7XG4gICAgICAgIHJldHVybiB0b1JlZkFycmF5KHRoaXMuY29tcG9uZW50RGVmLm91dHB1dHMpO1xuICAgIH1cbiAgICBjcmVhdGUoaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGUgPSBuZ01vZHVsZSB8fCB0aGlzLm5nTW9kdWxlO1xuICAgICAgICBjb25zdCByb290Vmlld0luamVjdG9yID0gbmdNb2R1bGUgPyBjcmVhdGVDaGFpbmVkSW5qZWN0b3IoaW5qZWN0b3IsIG5nTW9kdWxlLmluamVjdG9yKSA6IGluamVjdG9yO1xuICAgICAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSByb290Vmlld0luamVjdG9yLmdldChSZW5kZXJlckZhY3RvcnkyLCBkb21SZW5kZXJlckZhY3RvcnkzKTtcbiAgICAgICAgY29uc3Qgc2FuaXRpemVyID0gcm9vdFZpZXdJbmplY3Rvci5nZXQoU2FuaXRpemVyLCBudWxsKTtcbiAgICAgICAgY29uc3QgaG9zdFJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG51bGwsIHRoaXMuY29tcG9uZW50RGVmKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGEgdGFnIG5hbWUgdXNlZCBmb3IgY3JlYXRpbmcgaG9zdCBlbGVtZW50cyB3aGVuIHRoaXMgY29tcG9uZW50IGlzIGNyZWF0ZWRcbiAgICAgICAgLy8gZHluYW1pY2FsbHkuIERlZmF1bHQgdG8gJ2RpdicgaWYgdGhpcyBjb21wb25lbnQgZGlkIG5vdCBzcGVjaWZ5IGFueSB0YWcgbmFtZSBpbiBpdHMgc2VsZWN0b3IuXG4gICAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gdGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdWzBdIHx8ICdkaXYnO1xuICAgICAgICBjb25zdCBob3N0Uk5vZGUgPSByb290U2VsZWN0b3JPck5vZGUgP1xuICAgICAgICAgICAgbG9jYXRlSG9zdEVsZW1lbnQoaG9zdFJlbmRlcmVyLCByb290U2VsZWN0b3JPck5vZGUsIHRoaXMuY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pIDpcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCB0aGlzLmNvbXBvbmVudERlZiksIGVsZW1lbnROYW1lLCBnZXROYW1lc3BhY2UoZWxlbWVudE5hbWUpKTtcbiAgICAgICAgY29uc3Qgcm9vdEZsYWdzID0gdGhpcy5jb21wb25lbnREZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gfCA1MTIgLyogSXNSb290ICovIDpcbiAgICAgICAgICAgIDE2IC8qIENoZWNrQWx3YXlzICovIHwgNTEyIC8qIElzUm9vdCAqLztcbiAgICAgICAgY29uc3Qgcm9vdENvbnRleHQgPSBjcmVhdGVSb290Q29udGV4dCgpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIHJvb3Qgdmlldy4gVXNlcyBlbXB0eSBUVmlldyBhbmQgQ29udGVudFRlbXBsYXRlLlxuICAgICAgICBjb25zdCByb290VFZpZXcgPSBjcmVhdGVUVmlldygwIC8qIFJvb3QgKi8sIG51bGwsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICBjb25zdCByb290TFZpZXcgPSBjcmVhdGVMVmlldyhudWxsLCByb290VFZpZXcsIHJvb3RDb250ZXh0LCByb290RmxhZ3MsIG51bGwsIG51bGwsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyLCBzYW5pdGl6ZXIsIHJvb3RWaWV3SW5qZWN0b3IpO1xuICAgICAgICAvLyByb290VmlldyBpcyB0aGUgcGFyZW50IHdoZW4gYm9vdHN0cmFwcGluZ1xuICAgICAgICAvLyBUT0RPKG1pc2tvKTogaXQgbG9va3MgbGlrZSB3ZSBhcmUgZW50ZXJpbmcgdmlldyBoZXJlIGJ1dCB3ZSBkb24ndCByZWFsbHkgbmVlZCB0byBhc1xuICAgICAgICAvLyBgcmVuZGVyVmlld2AgZG9lcyB0aGF0LiBIb3dldmVyIGFzIHRoZSBjb2RlIGlzIHdyaXR0ZW4gaXQgaXMgbmVlZGVkIGJlY2F1c2VcbiAgICAgICAgLy8gYGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3YCBhbmQgYGNyZWF0ZVJvb3RDb21wb25lbnRgIGJvdGggcmVhZCBnbG9iYWwgc3RhdGUuIEZpeGluZyB0aG9zZVxuICAgICAgICAvLyBpc3N1ZXMgd291bGQgYWxsb3cgdXMgdG8gZHJvcCB0aGlzLlxuICAgICAgICBlbnRlclZpZXcocm9vdExWaWV3KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudDtcbiAgICAgICAgbGV0IHRFbGVtZW50Tm9kZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyKTtcbiAgICAgICAgICAgIGlmIChob3N0Uk5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFVwQXR0cmlidXRlcyhob3N0UmVuZGVyZXIsIGhvc3RSTm9kZSwgWyduZy12ZXJzaW9uJywgVkVSU0lPTi5mdWxsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBob3N0IGVsZW1lbnQgaXMgY3JlYXRlZCBhcyBhIHBhcnQgb2YgdGhpcyBmdW5jdGlvbiBjYWxsIChpLmUuIGByb290U2VsZWN0b3JPck5vZGVgXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIG5vdCBkZWZpbmVkKSwgYWxzbyBhcHBseSBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGV4dHJhY3RlZCBmcm9tIGNvbXBvbmVudCBzZWxlY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGZyb20gdGhlIGZpcnN0IHNlbGVjdG9yIG9ubHkgdG8gbWF0Y2ggVkUgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXR0cnMsIGNsYXNzZXMgfSA9IGV4dHJhY3RBdHRyc0FuZENsYXNzZXNGcm9tU2VsZWN0b3IodGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVcEF0dHJpYnV0ZXMoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIGF0dHJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NlcyAmJiBjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlRGlyZWN0Q2xhc3MoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIGNsYXNzZXMuam9pbignICcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRFbGVtZW50Tm9kZSA9IGdldFROb2RlKHJvb3RUVmlldywgSEVBREVSX09GRlNFVCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGFibGVOb2RlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRFbGVtZW50Tm9kZS5wcm9qZWN0aW9uID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2Rlc2ZvclNsb3QgPSBwcm9qZWN0YWJsZU5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm9qZWN0YWJsZSBub2RlcyBjYW4gYmUgcGFzc2VkIGFzIGFycmF5IG9mIGFycmF5cyBvciBhbiBhcnJheSBvZiBpdGVyYWJsZXMgKG5nVXBncmFkZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlKS4gSGVyZSB3ZSBkbyBub3JtYWxpemUgcGFzc2VkIGRhdGEgc3RydWN0dXJlIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5cyB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wbGV4IGNoZWNrcyBkb3duIHRoZSBsaW5lLlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHNvIG5vcm1hbGl6ZSB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzZWQgaW4gcHJvamVjdGFibGUgbm9kZXMgKHRvIG1hdGNoIHRoZSBudW1iZXIgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gPG5nLWNvbnRhaW5lcj4gc2xvdHMgZGVmaW5lZCBieSBhIGNvbXBvbmVudCkuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24ucHVzaChub2Rlc2ZvclNsb3QgIT0gbnVsbCA/IEFycmF5LmZyb20obm9kZXNmb3JTbG90KSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYW5kIG90aGVyIGhvc3QgZmVhdHVyZXMgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBhbmRcbiAgICAgICAgICAgIC8vIGV4ZWN1dGVkIGhlcmU/XG4gICAgICAgICAgICAvLyBBbmd1bGFyIDUgcmVmZXJlbmNlOiBodHRwczovL3N0YWNrYmxpdHouY29tL2VkaXQvbGlmZWN5Y2xlLWhvb2tzLXZjcmVmXG4gICAgICAgICAgICBjb21wb25lbnQgPSBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJvb3RDb250ZXh0LCBbTGlmZWN5Y2xlSG9va3NGZWF0dXJlXSk7XG4gICAgICAgICAgICByZW5kZXJWaWV3KHJvb3RUVmlldywgcm9vdExWaWV3LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGxlYXZlVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50UmVmKHRoaXMuY29tcG9uZW50VHlwZSwgY29tcG9uZW50LCBjcmVhdGVFbGVtZW50UmVmKHRFbGVtZW50Tm9kZSwgcm9vdExWaWV3KSwgcm9vdExWaWV3LCB0RWxlbWVudE5vZGUpO1xuICAgIH1cbn1cbmNvbnN0IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IG5ldyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKTtcbi8qKlxuICogQ3JlYXRlcyBhIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci4gT3IsIGlmIHRoZVxuICogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gKiBhbHJlYWR5IGV4aXN0cywgcmV0cmlldmVzIHRoZSBleGlzdGluZyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gKlxuICogQHJldHVybnMgVGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0Q29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCkge1xuICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW5zdGFuY2Ugb2YgYSBDb21wb25lbnQgY3JlYXRlZCB2aWEgYSB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX0uXG4gKlxuICogYENvbXBvbmVudFJlZmAgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBDb21wb25lbnQgSW5zdGFuY2UgYXMgd2VsbCBvdGhlciBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpc1xuICogQ29tcG9uZW50IEluc3RhbmNlIGFuZCBhbGxvd3MgeW91IHRvIGRlc3Ryb3kgdGhlIENvbXBvbmVudCBJbnN0YW5jZSB2aWEgdGhlIHtAbGluayAjZGVzdHJveX1cbiAqIG1ldGhvZC5cbiAqXG4gKi9cbmNsYXNzIENvbXBvbmVudFJlZiBleHRlbmRzIENvbXBvbmVudFJlZiQxIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnRUeXBlLCBpbnN0YW5jZSwgbG9jYXRpb24sIF9yb290TFZpZXcsIF90Tm9kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuX3Jvb3RMVmlldyA9IF9yb290TFZpZXc7XG4gICAgICAgIHRoaXMuX3ROb2RlID0gX3ROb2RlO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcgPSB0aGlzLmNoYW5nZURldGVjdG9yUmVmID0gbmV3IFJvb3RWaWV3UmVmKF9yb290TFZpZXcpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHRoaXMuX3ROb2RlLCB0aGlzLl9yb290TFZpZXcpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcub25EZXN0cm95KGNhbGxiYWNrKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGRlY29yYXRvciwgY29uc3RydWN0b3IsIGFuZCBwcm9wZXJ0eSBtZXRhZGF0YSB0byBhIGdpdmVuIHR5cGUgdmlhIHN0YXRpYyBtZXRhZGF0YSBmaWVsZHNcbiAqIG9uIHRoZSB0eXBlLlxuICpcbiAqIFRoZXNlIG1ldGFkYXRhIGZpZWxkcyBjYW4gbGF0ZXIgYmUgcmVhZCB3aXRoIEFuZ3VsYXIncyBgUmVmbGVjdGlvbkNhcGFiaWxpdGllc2AgQVBJLlxuICpcbiAqIENhbGxzIHRvIGBzZXRDbGFzc01ldGFkYXRhYCBjYW4gYmUgZ3VhcmRlZCBieSBuZ0Rldk1vZGUsIHJlc3VsdGluZyBpbiB0aGUgbWV0YWRhdGEgYXNzaWdubWVudHNcbiAqIGJlaW5nIHRyZWUtc2hha2VuIGF3YXkgZHVyaW5nIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5mdW5jdGlvbiBzZXRDbGFzc01ldGFkYXRhKHR5cGUsIGRlY29yYXRvcnMsIGN0b3JQYXJhbWV0ZXJzLCBwcm9wRGVjb3JhdG9ycykge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgY2xhenogPSB0eXBlO1xuICAgICAgICBpZiAoZGVjb3JhdG9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNsYXp6Lmhhc093blByb3BlcnR5KCdkZWNvcmF0b3JzJykgJiYgY2xhenouZGVjb3JhdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xhenouZGVjb3JhdG9ycy5wdXNoKC4uLmRlY29yYXRvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhenouZGVjb3JhdG9ycyA9IGRlY29yYXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3JQYXJhbWV0ZXJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSYXRoZXIgdGhhbiBtZXJnaW5nLCBjbG9iYmVyIHRoZSBleGlzdGluZyBwYXJhbWV0ZXJzLiBJZiBvdGhlciBwcm9qZWN0cyBleGlzdCB3aGljaFxuICAgICAgICAgICAgLy8gdXNlIHRzaWNrbGUtc3R5bGUgYW5ub3RhdGlvbnMgYW5kIHJlZmxlY3Qgb3ZlciB0aGVtIGluIHRoZSBzYW1lIHdheSwgdGhpcyBjb3VsZFxuICAgICAgICAgICAgLy8gY2F1c2UgaXNzdWVzLCBidXQgdGhhdCBpcyB2YW5pc2hpbmdseSB1bmxpa2VseS5cbiAgICAgICAgICAgIGNsYXp6LmN0b3JQYXJhbWV0ZXJzID0gY3RvclBhcmFtZXRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BEZWNvcmF0b3JzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgcHJvcGVydHkgZGVjb3JhdG9yIG9iamVjdHMgYXJlIG1lcmdlZCBhcyBpdCBpcyBwb3NzaWJsZSBkaWZmZXJlbnQgZmllbGRzIGhhdmVcbiAgICAgICAgICAgIC8vIGRpZmZlcmVudCBkZWNvcmF0b3IgdHlwZXMuIERlY29yYXRvcnMgb24gaW5kaXZpZHVhbCBmaWVsZHMgYXJlIG5vdCBtZXJnZWQsIGFzIGl0J3NcbiAgICAgICAgICAgIC8vIGFsc28gaW5jcmVkaWJseSB1bmxpa2VseSB0aGF0IGEgZmllbGQgd2lsbCBiZSBkZWNvcmF0ZWQgYm90aCB3aXRoIGFuIEFuZ3VsYXJcbiAgICAgICAgICAgIC8vIGRlY29yYXRvciBhbmQgYSBub24tQW5ndWxhciBkZWNvcmF0b3IgdGhhdCdzIGFsc28gYmVlbiBkb3dubGV2ZWxlZC5cbiAgICAgICAgICAgIGlmIChjbGF6ei5oYXNPd25Qcm9wZXJ0eSgncHJvcERlY29yYXRvcnMnKSAmJiBjbGF6ei5wcm9wRGVjb3JhdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xhenoucHJvcERlY29yYXRvcnMgPSB7IC4uLmNsYXp6LnByb3BEZWNvcmF0b3JzLCAuLi5wcm9wRGVjb3JhdG9ycyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhenoucHJvcERlY29yYXRvcnMgPSBwcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnN0YW5jZSBvZiBhbiBgTmdNb2R1bGVgIGNyZWF0ZWQgYnkgYW4gYE5nTW9kdWxlRmFjdG9yeWAuXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGBOZ01vZHVsZWAgaW5zdGFuY2UgYW5kIHJlbGF0ZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nTW9kdWxlUmVmJDEge1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIFRoaXMgY2xhc3Mgd2FzIG1vc3RseSB1c2VkIGFzIGEgcGFydCBvZiBWaWV3RW5naW5lLWJhc2VkIEpJVCBBUEkgYW5kIGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gSXZ5XG4gKiBKSVQgbW9kZS4gU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpXG4gKiBmb3IgYWRkaXRpb25hbCBjb250ZXh0LiBBbmd1bGFyIHByb3ZpZGVzIEFQSXMgdGhhdCBhY2NlcHQgTmdNb2R1bGUgY2xhc3NlcyBkaXJlY3RseSAoc3VjaCBhc1xuICogW1BsYXRmb3JtUmVmLmJvb3RzdHJhcE1vZHVsZV0oYXBpL2NvcmUvUGxhdGZvcm1SZWYjYm9vdHN0cmFwTW9kdWxlKSBhbmRcbiAqIFtjcmVhdGVOZ01vZHVsZVJlZl0oYXBpL2NvcmUvY3JlYXRlTmdNb2R1bGVSZWYpKSwgY29uc2lkZXIgc3dpdGNoaW5nIHRvIHRob3NlIEFQSXMgaW5zdGVhZCBvZlxuICogdXNpbmcgZmFjdG9yeS1iYXNlZCBvbmVzLlxuICovXG5jbGFzcyBOZ01vZHVsZUZhY3RvcnkkMSB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXAgb2YgbW9kdWxlLWlkIHRvIHRoZSBjb3JyZXNwb25kaW5nIE5nTW9kdWxlLlxuICogLSBJbiBwcmUgSXZ5IHdlIHRyYWNrIE5nTW9kdWxlRmFjdG9yeSxcbiAqIC0gSW4gcG9zdCBJdnkgd2UgdHJhY2sgdGhlIE5nTW9kdWxlVHlwZVxuICovXG5jb25zdCBtb2R1bGVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBSZWdpc3RlcnMgYSBsb2FkZWQgbW9kdWxlLiBTaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSBnZW5lcmF0ZWQgTmdNb2R1bGVGYWN0b3J5IGNvZGUuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlRmFjdG9yeShpZCwgZmFjdG9yeSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbW9kdWxlcy5nZXQoaWQpO1xuICAgIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCBleGlzdGluZyAmJiBleGlzdGluZy5tb2R1bGVUeXBlLCBmYWN0b3J5Lm1vZHVsZVR5cGUpO1xuICAgIG1vZHVsZXMuc2V0KGlkLCBmYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCB0eXBlLCBpbmNvbWluZykge1xuICAgIGlmICh0eXBlICYmIHR5cGUgIT09IGluY29taW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmVkIGZvciAke2lkfSAtICR7c3RyaW5naWZ5KHR5cGUpfSB2cyAke3N0cmluZ2lmeSh0eXBlLm5hbWUpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyTmdNb2R1bGVUeXBlKG5nTW9kdWxlVHlwZSkge1xuICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gICAgcmVjdXJzZShuZ01vZHVsZVR5cGUpO1xuICAgIGZ1bmN0aW9uIHJlY3Vyc2UobmdNb2R1bGVUeXBlKSB7XG4gICAgICAgIC8vIFRoZSBpbXBvcnRzIGFycmF5IG9mIGFuIE5nTW9kdWxlIG11c3QgcmVmZXIgdG8gb3RoZXIgTmdNb2R1bGVzLFxuICAgICAgICAvLyBzbyBhbiBlcnJvciBpcyB0aHJvd24gaWYgbm8gbW9kdWxlIGRlZmluaXRpb24gaXMgYXZhaWxhYmxlLlxuICAgICAgICBjb25zdCBkZWYgPSBnZXROZ01vZHVsZURlZihuZ01vZHVsZVR5cGUsIC8qIHRocm93Tm90Rm91bmQgKi8gdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGlkID0gZGVmLmlkO1xuICAgICAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbW9kdWxlcy5nZXQoaWQpO1xuICAgICAgICAgICAgYXNzZXJ0U2FtZU9yTm90RXhpc3RpbmcoaWQsIGV4aXN0aW5nLCBuZ01vZHVsZVR5cGUpO1xuICAgICAgICAgICAgbW9kdWxlcy5zZXQoaWQsIG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1wb3J0cyA9IG1heWJlVW53cmFwRm4oZGVmLmltcG9ydHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaW1wb3J0cykge1xuICAgICAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhpKSkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWQuYWRkKGkpO1xuICAgICAgICAgICAgICAgIHJlY3Vyc2UoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhck1vZHVsZXNGb3JUZXN0KCkge1xuICAgIG1vZHVsZXMuY2xlYXIoKTtcbn1cbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUoaWQpIHtcbiAgICByZXR1cm4gKG1vZHVsZXMuZ2V0KGlkKSB8fCBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkW2lkXSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IE5nTW9kdWxlUmVmIGluc3RhbmNlIGJhc2VkIG9uIHRoZSBOZ01vZHVsZSBjbGFzcyBhbmQgcGFyZW50IGluamVjdG9yIHByb3ZpZGVkLlxuICogQHBhcmFtIG5nTW9kdWxlIE5nTW9kdWxlIGNsYXNzLlxuICogQHBhcmFtIHBhcmVudEluamVjdG9yIE9wdGlvbmFsIGluamVjdG9yIGluc3RhbmNlIHRvIHVzZSBhcyBhIHBhcmVudCBmb3IgdGhlIG1vZHVsZSBpbmplY3Rvci4gSWZcbiAqICAgICBub3QgcHJvdmlkZWQsIGBOdWxsSW5qZWN0b3JgIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBjcmVhdGVOZ01vZHVsZVJlZihuZ01vZHVsZSwgcGFyZW50SW5qZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmKG5nTW9kdWxlLCBwYXJlbnRJbmplY3RvciA/PyBudWxsKTtcbn1cbmNsYXNzIE5nTW9kdWxlUmVmIGV4dGVuZHMgTmdNb2R1bGVSZWYkMSB7XG4gICAgY29uc3RydWN0b3IobmdNb2R1bGVUeXBlLCBfcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpyZXF1aXJlLWludGVybmFsLXdpdGgtdW5kZXJzY29yZVxuICAgICAgICB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMgPSBbXTtcbiAgICAgICAgLy8gV2hlbiBib290c3RyYXBwaW5nIGEgbW9kdWxlIHdlIGhhdmUgYSBkZXBlbmRlbmN5IGdyYXBoIHRoYXQgbG9va3MgbGlrZSB0aGlzOlxuICAgICAgICAvLyBBcHBsaWNhdGlvblJlZiAtPiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgLT4gTmdNb2R1bGVSZWYuIFRoZSBwcm9ibGVtIGlzIHRoYXQgaWYgdGhlXG4gICAgICAgIC8vIG1vZHVsZSBiZWluZyByZXNvbHZlZCB0cmllcyB0byBpbmplY3QgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgaXQnbGwgY3JlYXRlIGFcbiAgICAgICAgLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIHJ1bnRpbWUgZXJyb3IsIGJlY2F1c2UgdGhlIGluamVjdG9yIGRvZXNuJ3RcbiAgICAgICAgLy8gZXhpc3QgeWV0LiBXZSB3b3JrIGFyb3VuZCB0aGUgaXNzdWUgYnkgY3JlYXRpbmcgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBvdXJzZWx2ZXNcbiAgICAgICAgLy8gYW5kIHByb3ZpZGluZyBpdCwgcmF0aGVyIHRoYW4gbGV0dGluZyB0aGUgaW5qZWN0b3IgcmVzb2x2ZSBpdC5cbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBuZXcgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKHRoaXMpO1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZURlZiwgYE5nTW9kdWxlICcke3N0cmluZ2lmeShuZ01vZHVsZVR5cGUpfScgaXMgbm90IGEgc3VidHlwZSBvZiAnTmdNb2R1bGVUeXBlJy5gKTtcbiAgICAgICAgdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuYm9vdHN0cmFwKTtcbiAgICAgICAgdGhpcy5fcjNJbmplY3RvciA9IGNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzKG5nTW9kdWxlVHlwZSwgX3BhcmVudCwgW1xuICAgICAgICAgICAgeyBwcm92aWRlOiBOZ01vZHVsZVJlZiQxLCB1c2VWYWx1ZTogdGhpcyB9LCB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEsXG4gICAgICAgICAgICAgICAgdXNlVmFsdWU6IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sIHN0cmluZ2lmeShuZ01vZHVsZVR5cGUpKTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byByZXNvbHZlIHRoZSBpbmplY3RvciB0eXBlcyBzZXBhcmF0ZWx5IGZyb20gdGhlIGluamVjdG9yIGNyZWF0aW9uLCBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBtb2R1bGUgbWlnaHQgYmUgdHJ5aW5nIHRvIHVzZSB0aGlzIHJlZiBpbiBpdHMgY29uc3RydWN0b3IgZm9yIERJIHdoaWNoIHdpbGwgY2F1c2UgYVxuICAgICAgICAvLyBjaXJjdWxhciBlcnJvciB0aGF0IHdpbGwgZXZlbnR1YWxseSBlcnJvciBvdXQsIGJlY2F1c2UgdGhlIGluamVjdG9yIGlzbid0IGNyZWF0ZWQgeWV0LlxuICAgICAgICB0aGlzLl9yM0luamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gdGhpcy5nZXQobmdNb2R1bGVUeXBlKTtcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5ELCBpbmplY3RGbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSBJbmplY3RvciB8fCB0b2tlbiA9PT0gTmdNb2R1bGVSZWYkMSB8fCB0b2tlbiA9PT0gSU5KRUNUT1IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yM0luamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgaW5qZWN0RmxhZ3MpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuX3IzSW5qZWN0b3I7XG4gICAgICAgICFpbmplY3Rvci5kZXN0cm95ZWQgJiYgaW5qZWN0b3IuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaChmbiA9PiBmbigpKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Q2JzID0gbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRoaXMuZGVzdHJveUNicywgJ05nTW9kdWxlIGFscmVhZHkgZGVzdHJveWVkJyk7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG59XG5jbGFzcyBOZ01vZHVsZUZhY3RvcnkgZXh0ZW5kcyBOZ01vZHVsZUZhY3RvcnkkMSB7XG4gICAgY29uc3RydWN0b3IobW9kdWxlVHlwZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1vZHVsZVR5cGUgPSBtb2R1bGVUeXBlO1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgICAgICBpZiAobmdNb2R1bGVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBOZ01vZHVsZSB3aXRoIEFuZ3VsYXIncyBtb2R1bGUgcmVnaXN0cnkuIFRoZSBsb2NhdGlvbiAoYW5kIGhlbmNlIHRpbWluZykgb2ZcbiAgICAgICAgICAgIC8vIHRoaXMgY2FsbCBpcyBjcml0aWNhbCB0byBlbnN1cmUgdGhpcyB3b3JrcyBjb3JyZWN0bHkgKG1vZHVsZXMgZ2V0IHJlZ2lzdGVyZWQgd2hlbiBleHBlY3RlZClcbiAgICAgICAgICAgIC8vIHdpdGhvdXQgYmxvYXRpbmcgYnVuZGxlcyAobW9kdWxlcyBhcmUgcmVnaXN0ZXJlZCB3aGVuIG90aGVyd2lzZSBub3QgcmVmZXJlbmNlZCkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gVmlldyBFbmdpbmUsIHJlZ2lzdHJhdGlvbiBvY2N1cnMgaW4gdGhlIC5uZ2ZhY3RvcnkuanMgZmlsZSBhcyBhIHNpZGUgZWZmZWN0LiBUaGlzIGhhc1xuICAgICAgICAgICAgLy8gc2V2ZXJhbCBwcmFjdGljYWwgY29uc2VxdWVuY2VzOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIC0gSWYgYW4gLm5nZmFjdG9yeSBmaWxlIGlzIG5vdCBpbXBvcnRlZCBmcm9tLCB0aGUgbW9kdWxlIHdvbid0IGJlIHJlZ2lzdGVyZWQgKGFuZCBjYW4gYmVcbiAgICAgICAgICAgIC8vICAgdHJlZSBzaGFrZW4pLlxuICAgICAgICAgICAgLy8gLSBJZiBhbiAubmdmYWN0b3J5IGZpbGUgaXMgaW1wb3J0ZWQgZnJvbSwgdGhlIG1vZHVsZSB3aWxsIGJlIHJlZ2lzdGVyZWQgZXZlbiBpZiBhbiBpbnN0YW5jZVxuICAgICAgICAgICAgLy8gICBpcyBub3QgYWN0dWFsbHkgY3JlYXRlZCAodmlhIGBjcmVhdGVgIGJlbG93KS5cbiAgICAgICAgICAgIC8vIC0gU2luY2UgYW4gLm5nZmFjdG9yeSBmaWxlIGluIFZpZXcgRW5naW5lIHJlZmVyZW5jZXMgdGhlIC5uZ2ZhY3RvcnkgZmlsZXMgb2YgdGhlIE5nTW9kdWxlJ3NcbiAgICAgICAgICAgIC8vICAgaW1wb3J0cyxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJbiBJdnksIHRoaW5ncyBhcmUgYSBiaXQgZGlmZmVyZW50LiAubmdmYWN0b3J5IGZpbGVzIHN0aWxsIGV4aXN0IGZvciBjb21wYXRpYmlsaXR5LCBidXQgYXJlXG4gICAgICAgICAgICAvLyBub3QgYSByZXF1aXJlZCBBUEkgdG8gdXNlIC0gdGhlcmUgYXJlIG90aGVyIHdheXMgdG8gb2J0YWluIGFuIE5nTW9kdWxlRmFjdG9yeSBmb3IgYSBnaXZlblxuICAgICAgICAgICAgLy8gTmdNb2R1bGUuIFRodXMsIHJlbHlpbmcgb24gYSBzaWRlIGVmZmVjdCBpbiB0aGUgLm5nZmFjdG9yeSBmaWxlIGlzIG5vdCBzdWZmaWNpZW50LiBJbnN0ZWFkLFxuICAgICAgICAgICAgLy8gdGhlIHNpZGUgZWZmZWN0IG9mIHJlZ2lzdHJhdGlvbiBpcyBhZGRlZCBoZXJlLCBpbiB0aGUgY29uc3RydWN0b3Igb2YgTmdNb2R1bGVGYWN0b3J5LFxuICAgICAgICAgICAgLy8gZW5zdXJpbmcgbm8gbWF0dGVyIGhvdyBhIGZhY3RvcnkgaXMgY3JlYXRlZCwgdGhlIG1vZHVsZSBpcyByZWdpc3RlcmVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBbiBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBpbmNsdWRlIHRoZSByZWdpc3RyYXRpb24gc2lkZSBlZmZlY3QgaW5saW5lIGZvbGxvd2luZyB0aGUgYWN0dWFsXG4gICAgICAgICAgICAvLyBOZ01vZHVsZSBkZWZpbml0aW9uLiBUaGlzIGFsc28gaGFzIHRoZSBjb3JyZWN0IHRpbWluZywgYnV0IGJyZWFrcyB0cmVlLXNoYWtpbmcgLSBtb2R1bGVzXG4gICAgICAgICAgICAvLyB3aWxsIGJlIHJlZ2lzdGVyZWQgYW5kIHJldGFpbmVkIGV2ZW4gaWYgdGhleSdyZSBvdGhlcndpc2UgbmV2ZXIgcmVmZXJlbmNlZC5cbiAgICAgICAgICAgIHJlZ2lzdGVyTmdNb2R1bGVUeXBlKG1vZHVsZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZShwYXJlbnRJbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmKHRoaXMubW9kdWxlVHlwZSwgcGFyZW50SW5qZWN0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJpbmRpbmdzIGZvciBwdXJlIGZ1bmN0aW9ucyBhcmUgc3RvcmVkIGFmdGVyIHJlZ3VsYXIgYmluZGluZ3MuXG4gKlxuICogfC0tLS0tLS1kZWNscy0tLS0tLXwtLS0tLS0tLS12YXJzLS0tLS0tLS0tfCAgICAgICAgICAgICAgICAgfC0tLS0tIGhvc3RWYXJzIChkaXIxKSAtLS0tLS18XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHwgbm9kZXMvcmVmcy9waXBlcyB8IGJpbmRpbmdzIHwgZm4gc2xvdHMgIHwgaW5qZWN0b3IgfCBkaXIxIHwgaG9zdCBiaW5kaW5ncyB8IGhvc3Qgc2xvdHMgfFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgICAgICAgICAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICBeXG4gKiAgICAgIFRWaWV3LmJpbmRpbmdTdGFydEluZGV4ICAgICAgVFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXhcbiAqXG4gKiBQdXJlIGZ1bmN0aW9uIGluc3RydWN0aW9ucyBhcmUgZ2l2ZW4gYW4gb2Zmc2V0IGZyb20gdGhlIGJpbmRpbmcgcm9vdC4gQWRkaW5nIHRoZSBvZmZzZXQgdG8gdGhlXG4gKiBiaW5kaW5nIHJvb3QgZ2l2ZXMgdGhlIGZpcnN0IGluZGV4IHdoZXJlIHRoZSBiaW5kaW5ncyBhcmUgc3RvcmVkLiBJbiBjb21wb25lbnQgdmlld3MsIHRoZSBiaW5kaW5nXG4gKiByb290IGlzIHRoZSBiaW5kaW5nU3RhcnRJbmRleC4gSW4gaG9zdCBiaW5kaW5ncywgdGhlIGJpbmRpbmcgcm9vdCBpcyB0aGUgZXhwYW5kb1N0YXJ0SW5kZXggK1xuICogYW55IGRpcmVjdGl2ZSBpbnN0YW5jZXMgKyBhbnkgaG9zdFZhcnMgaW4gZGlyZWN0aXZlcyBldmFsdWF0ZWQgYmVmb3JlIGl0LlxuICpcbiAqIFNlZSBWSUVXX0RBVEEubWQgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG9zdCBiaW5kaW5nIHJlc29sdXRpb24uXG4gKi9cbi8qKlxuICogSWYgdGhlIHZhbHVlIGhhc24ndCBiZWVuIHNhdmVkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byBzdG9yZSBhbmQgcmV0dXJuIHRoZVxuICogdmFsdWUuIElmIGl0IGhhcyBiZWVuIHNhdmVkLCByZXR1cm5zIHRoZSBzYXZlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbHVlXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24wKHNsb3RPZmZzZXQsIHB1cmVGbiwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gbFZpZXdbYmluZGluZ0luZGV4XSA9PT0gTk9fQ0hBTkdFID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZykgOiBwdXJlRm4oKSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiB0aGUgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiB1cGRhdGVkIHZhbHVlXG4gKiBAcGFyYW0gZXhwIFVwZGF0ZWQgZXhwcmVzc2lvbiB2YWx1ZVxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uMShzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cCwgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24xSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjIoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjJJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24zKHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24zSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjQoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjRJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjUoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDUsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1KSA6XG4gICAgICAgICAgICBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSkpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNSk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gZXhwNVxuICogQHBhcmFtIGV4cDZcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA2LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNikgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDYpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uNyhzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA3LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNykgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIGV4cDhcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjgoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA4LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCkgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDgpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gQSBwdXJlIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYmluZGluZyB2YWx1ZXMgYW5kIGJ1aWxkcyBhbiBvYmplY3Qgb3IgYXJyYXlcbiAqIGNvbnRhaW5pbmcgdGhvc2UgdmFsdWVzLlxuICogQHBhcmFtIGV4cHMgQW4gYXJyYXkgb2YgYmluZGluZyB2YWx1ZXNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvblYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvblZJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cHMsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBSZXN1bHRzIG9mIGEgcHVyZSBmdW5jdGlvbiBpbnZvY2F0aW9uIGFyZSBzdG9yZWQgaW4gTFZpZXcgaW4gYSBkZWRpY2F0ZWQgc2xvdCB0aGF0IGlzIGluaXRpYWxpemVkXG4gKiB0byBOT19DSEFOR0UuIEluIHJhcmUgc2l0dWF0aW9ucyBhIHB1cmUgcGlwZSBtaWdodCB0aHJvdyBhbiBleGNlcHRpb24gb24gdGhlIHZlcnkgZmlyc3RcbiAqIGludm9jYXRpb24gYW5kIG5vdCBwcm9kdWNlIGFueSB2YWxpZCByZXN1bHRzLiBJbiB0aGlzIGNhc2UgTFZpZXcgd291bGQga2VlcCBob2xkaW5nIHRoZSBOT19DSEFOR0VcbiAqIHZhbHVlLiBUaGUgTk9fQ0hBTkdFIGlzIG5vdCBzb21ldGhpbmcgdGhhdCB3ZSBjYW4gdXNlIGluIGV4cHJlc3Npb25zIC8gYmluZGluZ3MgdGh1cyB3ZSBjb252ZXJ0XG4gKiBpdCB0byBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIHJldHVyblZhbHVlSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCByZXR1cm5WYWx1ZUluZGV4KTtcbiAgICBjb25zdCBsYXN0UmV0dXJuVmFsdWUgPSBsVmlld1tyZXR1cm5WYWx1ZUluZGV4XTtcbiAgICByZXR1cm4gbGFzdFJldHVyblZhbHVlID09PSBOT19DSEFOR0UgPyB1bmRlZmluZWQgOiBsYXN0UmV0dXJuVmFsdWU7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gdXBkYXRlZCB2YWx1ZVxuICogQHBhcmFtIGV4cCBVcGRhdGVkIGV4cHJlc3Npb24gdmFsdWVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCBleHApID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMSwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cCkgOiBwdXJlRm4oZXhwKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMSk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb24ySW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyKSA6IHB1cmVGbihleHAxLCBleHAyKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMik7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uM0ludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMykgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAzLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMykgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMykpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDMpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uNEludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDQpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBBIHB1cmUgZnVuY3Rpb24gdGhhdCB0YWtlcyBiaW5kaW5nIHZhbHVlcyBhbmQgYnVpbGRzIGFuIG9iamVjdCBvciBhcnJheVxuICogY29udGFpbmluZyB0aG9zZSB2YWx1ZXMuXG4gKiBAcGFyYW0gZXhwcyBBbiBhcnJheSBvZiBiaW5kaW5nIHZhbHVlc1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uVkludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICBsZXQgZGlmZmVyZW50ID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgrKywgZXhwc1tpXSkgJiYgKGRpZmZlcmVudCA9IHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZmVyZW50ID8gdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCBwdXJlRm4uYXBwbHkodGhpc0FyZywgZXhwcykpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgYSBwaXBlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHBpcGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBwaXBlXG4gKiBAcmV0dXJucyBUIHRoZSBpbnN0YW5jZSBvZiB0aGUgcGlwZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZShpbmRleCwgcGlwZU5hbWUpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgbGV0IHBpcGVEZWY7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIC8vIFRoZSBgZ2V0UGlwZURlZmAgdGhyb3dzIGlmIGEgcGlwZSB3aXRoIGEgZ2l2ZW4gbmFtZSBpcyBub3QgZm91bmRcbiAgICAgICAgLy8gKHNvIHdlIHVzZSBub24tbnVsbCBhc3NlcnRpb24gYmVsb3cpLlxuICAgICAgICBwaXBlRGVmID0gZ2V0UGlwZURlZihwaXBlTmFtZSwgdFZpZXcucGlwZVJlZ2lzdHJ5KTtcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XSA9IHBpcGVEZWY7XG4gICAgICAgIGlmIChwaXBlRGVmLm9uRGVzdHJveSkge1xuICAgICAgICAgICAgKHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pKS5wdXNoKGFkanVzdGVkSW5kZXgsIHBpcGVEZWYub25EZXN0cm95KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGlwZURlZiA9IHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgfVxuICAgIGNvbnN0IHBpcGVGYWN0b3J5ID0gcGlwZURlZi5mYWN0b3J5IHx8IChwaXBlRGVmLmZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKHBpcGVEZWYudHlwZSwgdHJ1ZSkpO1xuICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbijJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICB0cnkge1xuICAgICAgICAvLyBESSBmb3IgcGlwZXMgaXMgc3VwcG9zZWQgdG8gYmVoYXZlIGxpa2UgZGlyZWN0aXZlcyB3aGVuIHBsYWNlZCBvbiBhIGNvbXBvbmVudFxuICAgICAgICAvLyBob3N0IG5vZGUsIHdoaWNoIG1lYW5zIHRoYXQgd2UgaGF2ZSB0byBkaXNhYmxlIGFjY2VzcyB0byBgdmlld1Byb3ZpZGVyc2AuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMgPSBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhmYWxzZSk7XG4gICAgICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IHBpcGVGYWN0b3J5KCk7XG4gICAgICAgIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICBzdG9yZSh0VmlldywgZ2V0TFZpZXcoKSwgYWRqdXN0ZWRJbmRleCwgcGlwZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHBpcGVJbnN0YW5jZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gcmVzdG9yZSB0aGUgaW5qZWN0b3IgaW1wbGVtZW50YXRpb24gaW4gZmluYWxseSwganVzdCBpbiBjYXNlIHRoZSBjcmVhdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gcGlwZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoZXMgdGhlIHBpcGUgcmVnaXN0cnkgZm9yIGEgcGlwZSB3aXRoIHRoZSBnaXZlbiBuYW1lLiBJZiBvbmUgaXMgZm91bmQsXG4gKiByZXR1cm5zIHRoZSBwaXBlLiBPdGhlcndpc2UsIGFuIGVycm9yIGlzIHRocm93biBiZWNhdXNlIHRoZSBwaXBlIGNhbm5vdCBiZSByZXNvbHZlZC5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHBpcGUgdG8gcmVzb2x2ZVxuICogQHBhcmFtIHJlZ2lzdHJ5IEZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgcGlwZXNcbiAqIEByZXR1cm5zIE1hdGNoaW5nIFBpcGVEZWZcbiAqL1xuZnVuY3Rpb24gZ2V0UGlwZURlZihuYW1lLCByZWdpc3RyeSkge1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBmb3IgKGxldCBpID0gcmVnaXN0cnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHBpcGVEZWYgPSByZWdpc3RyeVtpXTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBwaXBlRGVmLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlwZURlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MVmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGRlY2xhcmF0aW9uTFZpZXdbQ09OVEVYVF07XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbnRleHQgPyBgIGluIHRoZSAnJHtjb250ZXh0LmNvbnN0cnVjdG9yLm5hbWV9JyBjb21wb25lbnRgIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTMwMiAvKiBQSVBFX05PVF9GT1VORCAqLywgYFRoZSBwaXBlICcke25hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQke2NvbXBvbmVudH0hYCk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDEgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kMShpbmRleCwgc2xvdE9mZnNldCwgdjEpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/XG4gICAgICAgIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxKTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCAyIGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHYxIDFzdCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYyIDJuZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZDIoaW5kZXgsIHNsb3RPZmZzZXQsIHYxLCB2Mikge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uMkludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgdjIsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2Mik7XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggMyBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2MSAxc3QgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MiAybmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MyA0cmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmQzKGluZGV4LCBzbG90T2Zmc2V0LCB2MSwgdjIsIHYzKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb24zSW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCB2MiwgdjMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MiwgdjMpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDQgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjMgM3JkIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjQgNHRoIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kNChpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyLCB2MywgdjQpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/IHB1cmVGdW5jdGlvbjRJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHYyLCB2MywgdjQsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MiwgdjMsIHY0KTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdmFsdWVzIEFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gbWV0aG9kLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZFYoaW5kZXgsIHNsb3RPZmZzZXQsIHZhbHVlcykge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uVkludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2YWx1ZXMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLmFwcGx5KHBpcGVJbnN0YW5jZSwgdmFsdWVzKTtcbn1cbmZ1bmN0aW9uIGlzUHVyZShsVmlldywgaW5kZXgpIHtcbiAgICByZXR1cm4gbFZpZXdbVFZJRVddLmRhdGFbaW5kZXhdLnB1cmU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgRXZlbnRFbWl0dGVyXyBleHRlbmRzIFN1YmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGlzQXN5bmMgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9faXNBc3luYyA9IGlzQXN5bmM7XG4gICAgfVxuICAgIGVtaXQodmFsdWUpIHtcbiAgICAgICAgc3VwZXIubmV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIHN1YnNjcmliZShvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIGxldCBuZXh0Rm4gPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgbGV0IGVycm9yRm4gPSBlcnJvciB8fCAoKCkgPT4gbnVsbCk7XG4gICAgICAgIGxldCBjb21wbGV0ZUZuID0gY29tcGxldGU7XG4gICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAmJiB0eXBlb2Ygb2JzZXJ2ZXJPck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgbmV4dEZuID0gb2JzZXJ2ZXIubmV4dD8uYmluZChvYnNlcnZlcik7XG4gICAgICAgICAgICBlcnJvckZuID0gb2JzZXJ2ZXIuZXJyb3I/LmJpbmQob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgY29tcGxldGVGbiA9IG9ic2VydmVyLmNvbXBsZXRlPy5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fX2lzQXN5bmMpIHtcbiAgICAgICAgICAgIGVycm9yRm4gPSBfd3JhcEluVGltZW91dChlcnJvckZuKTtcbiAgICAgICAgICAgIGlmIChuZXh0Rm4pIHtcbiAgICAgICAgICAgICAgICBuZXh0Rm4gPSBfd3JhcEluVGltZW91dChuZXh0Rm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlRm4pIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZUZuID0gX3dyYXBJblRpbWVvdXQoY29tcGxldGVGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2luayA9IHN1cGVyLnN1YnNjcmliZSh7IG5leHQ6IG5leHRGbiwgZXJyb3I6IGVycm9yRm4sIGNvbXBsZXRlOiBjb21wbGV0ZUZuIH0pO1xuICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIG9ic2VydmVyT3JOZXh0LmFkZChzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9XG59XG5mdW5jdGlvbiBfd3JhcEluVGltZW91dChmbikge1xuICAgIHJldHVybiAodmFsdWUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgdW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBFdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXJfO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXN1bHRzW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG59XG4vKipcbiAqIEFuIHVubW9kaWZpYWJsZSBsaXN0IG9mIGl0ZW1zIHRoYXQgQW5ndWxhciBrZWVwcyB1cCB0byBkYXRlIHdoZW4gdGhlIHN0YXRlXG4gKiBvZiB0aGUgYXBwbGljYXRpb24gY2hhbmdlcy5cbiAqXG4gKiBUaGUgdHlwZSBvZiBvYmplY3QgdGhhdCB7QGxpbmsgVmlld0NoaWxkcmVufSwge0BsaW5rIENvbnRlbnRDaGlsZHJlbn0sIGFuZCB7QGxpbmsgUXVlcnlMaXN0fVxuICogcHJvdmlkZS5cbiAqXG4gKiBJbXBsZW1lbnRzIGFuIGl0ZXJhYmxlIGludGVyZmFjZSwgdGhlcmVmb3JlIGl0IGNhbiBiZSB1c2VkIGluIGJvdGggRVM2XG4gKiBqYXZhc2NyaXB0IGBmb3IgKHZhciBpIG9mIGl0ZW1zKWAgbG9vcHMgYXMgd2VsbCBhcyBpbiBBbmd1bGFyIHRlbXBsYXRlcyB3aXRoXG4gKiBgKm5nRm9yPVwibGV0IGkgb2YgbXlMaXN0XCJgLlxuICpcbiAqIENoYW5nZXMgY2FuIGJlIG9ic2VydmVkIGJ5IHN1YnNjcmliaW5nIHRvIHRoZSBjaGFuZ2VzIGBPYnNlcnZhYmxlYC5cbiAqXG4gKiBOT1RFOiBJbiB0aGUgZnV0dXJlIHRoaXMgY2xhc3Mgd2lsbCBpbXBsZW1lbnQgYW4gYE9ic2VydmFibGVgIGludGVyZmFjZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBDb21wb25lbnQoey4uLn0pXG4gKiBjbGFzcyBDb250YWluZXIge1xuICogICBAVmlld0NoaWxkcmVuKEl0ZW0pIGl0ZW1zOlF1ZXJ5TGlzdDxJdGVtPjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUXVlcnlMaXN0IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgV2hldGhlciBgUXVlcnlMaXN0LmNoYW5nZXNgIHNob3VsZCBmaXJlIG9ubHkgd2hlbiBhY3R1YWwgY2hhbmdlXG4gICAgICogICAgIGhhcyBvY2N1cnJlZC4gT3IgaWYgaXQgc2hvdWxkIGZpcmUgd2hlbiBxdWVyeSBpcyByZWNvbXB1dGVkLiAocmVjb21wdXRpbmcgY291bGQgcmVzb2x2ZSBpblxuICAgICAqICAgICB0aGUgc2FtZSByZXN1bHQpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgPSBfZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZXN1bHRzID0gW107XG4gICAgICAgIHRoaXMuX2NoYW5nZXNEZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmZpcnN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGRlY2xhcmVkIG9uIHRoZSBwcm90b3R5cGUsIGJ1dCBkb2luZyBzbyB0aGVyZSB3aWxsIGNhdXNlIHRoZSBjbGFzc1xuICAgICAgICAvLyBkZWNsYXJhdGlvbiB0byBoYXZlIHNpZGUtZWZmZWN0cyBhbmQgYmVjb21lIG5vdCB0cmVlLXNoYWthYmxlLiBGb3IgdGhpcyByZWFzb24gd2UgZG8gaXQgaW5cbiAgICAgICAgLy8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAvLyBbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTogSXRlcmF0b3I8VD4geyAuLi4gfVxuICAgICAgICBjb25zdCBzeW1ib2wgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuICAgICAgICBjb25zdCBwcm90byA9IFF1ZXJ5TGlzdC5wcm90b3R5cGU7XG4gICAgICAgIGlmICghcHJvdG9bc3ltYm9sXSlcbiAgICAgICAgICAgIHByb3RvW3N5bWJvbF0gPSBzeW1ib2xJdGVyYXRvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgT2JzZXJ2YWJsZWAgb2YgYFF1ZXJ5TGlzdGAgbm90aWZ5aW5nIHRoZSBzdWJzY3JpYmVyIG9mIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGNoYW5nZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFuZ2VzIHx8ICh0aGlzLl9jaGFuZ2VzID0gbmV3IEV2ZW50RW1pdHRlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgUXVlcnlMaXN0IGVudHJ5IGF0IGBpbmRleGAuXG4gICAgICovXG4gICAgZ2V0KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzW2luZGV4XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5Lm1hcF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbWFwKVxuICAgICAqL1xuICAgIG1hcChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5tYXAoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZmlsdGVyXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maWx0ZXIpXG4gICAgICovXG4gICAgZmlsdGVyKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLmZpbHRlcihmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5maW5kXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maW5kKVxuICAgICAqL1xuICAgIGZpbmQoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmluZChmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5yZWR1Y2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3JlZHVjZSlcbiAgICAgKi9cbiAgICByZWR1Y2UoZm4sIGluaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMucmVkdWNlKGZuLCBpbml0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZvckVhY2hdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2gpXG4gICAgICovXG4gICAgZm9yRWFjaChmbikge1xuICAgICAgICB0aGlzLl9yZXN1bHRzLmZvckVhY2goZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuc29tZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc29tZSlcbiAgICAgKi9cbiAgICBzb21lKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnNvbWUoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgcmVzdWx0cyBsaXN0IGFzIGFuIEFycmF5LlxuICAgICAqL1xuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnNsaWNlKCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy50b1N0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdG9yZWQgZGF0YSBvZiB0aGUgcXVlcnkgbGlzdCwgYW5kIHJlc2V0cyB0aGUgYGRpcnR5YCBmbGFnIHRvIGBmYWxzZWAsIHNvIHRoYXRcbiAgICAgKiBvbiBjaGFuZ2UgZGV0ZWN0aW9uLCBpdCB3aWxsIG5vdCBub3RpZnkgb2YgY2hhbmdlcyB0byB0aGUgcXVlcmllcywgdW5sZXNzIGEgbmV3IGNoYW5nZVxuICAgICAqIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXN1bHRzVHJlZSBUaGUgcXVlcnkgcmVzdWx0cyB0byBzdG9yZVxuICAgICAqIEBwYXJhbSBpZGVudGl0eUFjY2Vzc29yIE9wdGlvbmFsIGZ1bmN0aW9uIGZvciBleHRyYWN0aW5nIHN0YWJsZSBvYmplY3QgaWRlbnRpdHkgZnJvbSBhIHZhbHVlXG4gICAgICogICAgaW4gdGhlIGFycmF5LiBUaGlzIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIHF1ZXJ5IHJlc3VsdCBsaXN0IHdoaWxlXG4gICAgICogICAgY29tcGFyaW5nIGN1cnJlbnQgcXVlcnkgbGlzdCB3aXRoIHRoZSBuZXcgb25lIChwcm92aWRlZCBhcyBhIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgcmVzZXRgXG4gICAgICogICAgZnVuY3Rpb24pIHRvIGRldGVjdCBpZiB0aGUgbGlzdHMgYXJlIGRpZmZlcmVudC4gSWYgdGhlIGZ1bmN0aW9uIGlzIG5vdCBwcm92aWRlZCwgZWxlbWVudHNcbiAgICAgKiAgICBhcmUgY29tcGFyZWQgYXMgaXMgKHdpdGhvdXQgYW55IHByZS1wcm9jZXNzaW5nKS5cbiAgICAgKi9cbiAgICByZXNldChyZXN1bHRzVHJlZSwgaWRlbnRpdHlBY2Nlc3Nvcikge1xuICAgICAgICAvLyBDYXN0IHRvIGBRdWVyeUxpc3RJbnRlcm5hbGAgc28gdGhhdCB3ZSBjYW4gbXV0YXRlIGZpZWxkcyB3aGljaCBhcmUgcmVhZG9ubHkgZm9yIHRoZSB1c2FnZSBvZlxuICAgICAgICAvLyBRdWVyeUxpc3QgKGJ1dCBub3QgZm9yIFF1ZXJ5TGlzdCBpdHNlbGYuKVxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBuZXdSZXN1bHRGbGF0ID0gZmxhdHRlbihyZXN1bHRzVHJlZSk7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQgPSAhYXJyYXlFcXVhbHMoc2VsZi5fcmVzdWx0cywgbmV3UmVzdWx0RmxhdCwgaWRlbnRpdHlBY2Nlc3NvcikpIHtcbiAgICAgICAgICAgIHNlbGYuX3Jlc3VsdHMgPSBuZXdSZXN1bHRGbGF0O1xuICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBuZXdSZXN1bHRGbGF0Lmxlbmd0aDtcbiAgICAgICAgICAgIHNlbGYubGFzdCA9IG5ld1Jlc3VsdEZsYXRbdGhpcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHNlbGYuZmlyc3QgPSBuZXdSZXN1bHRGbGF0WzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGEgY2hhbmdlIGV2ZW50IGJ5IGVtaXR0aW5nIG9uIHRoZSBgY2hhbmdlc2Age0BsaW5rIEV2ZW50RW1pdHRlcn0uXG4gICAgICovXG4gICAgbm90aWZ5T25DaGFuZ2VzKCkge1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlcyAmJiAodGhpcy5fY2hhbmdlc0RldGVjdGVkIHx8ICF0aGlzLl9lbWl0RGlzdGluY3RDaGFuZ2VzT25seSkpXG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzLmVtaXQodGhpcyk7XG4gICAgfVxuICAgIC8qKiBpbnRlcm5hbCAqL1xuICAgIHNldERpcnR5KCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqIGludGVybmFsICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cblN5bWJvbC5pdGVyYXRvcjtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZW1iZWRkZWQgdGVtcGxhdGUgdGhhdCBjYW4gYmUgdXNlZCB0byBpbnN0YW50aWF0ZSBlbWJlZGRlZCB2aWV3cy5cbiAqIFRvIGluc3RhbnRpYXRlIGVtYmVkZGVkIHZpZXdzIGJhc2VkIG9uIGEgdGVtcGxhdGUsIHVzZSB0aGUgYFZpZXdDb250YWluZXJSZWZgXG4gKiBtZXRob2QgYGNyZWF0ZUVtYmVkZGVkVmlldygpYC5cbiAqXG4gKiBBY2Nlc3MgYSBgVGVtcGxhdGVSZWZgIGluc3RhbmNlIGJ5IHBsYWNpbmcgYSBkaXJlY3RpdmUgb24gYW4gYDxuZy10ZW1wbGF0ZT5gXG4gKiBlbGVtZW50IChvciBkaXJlY3RpdmUgcHJlZml4ZWQgd2l0aCBgKmApLiBUaGUgYFRlbXBsYXRlUmVmYCBmb3IgdGhlIGVtYmVkZGVkIHZpZXdcbiAqIGlzIGluamVjdGVkIGludG8gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXJlY3RpdmUsXG4gKiB1c2luZyB0aGUgYFRlbXBsYXRlUmVmYCB0b2tlbi5cbiAqXG4gKiBZb3UgY2FuIGFsc28gdXNlIGEgYFF1ZXJ5YCB0byBmaW5kIGEgYFRlbXBsYXRlUmVmYCBhc3NvY2lhdGVkIHdpdGhcbiAqIGEgY29tcG9uZW50IG9yIGEgZGlyZWN0aXZlLlxuICpcbiAqIEBzZWUgYFZpZXdDb250YWluZXJSZWZgXG4gKiBAc2VlIFtOYXZpZ2F0ZSB0aGUgQ29tcG9uZW50IFRyZWUgd2l0aCBESV0oZ3VpZGUvZGVwZW5kZW5jeS1pbmplY3Rpb24tbmF2dHJlZSlcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFRlbXBsYXRlUmVmIHtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5UZW1wbGF0ZVJlZi5fX05HX0VMRU1FTlRfSURfXyA9IGluamVjdFRlbXBsYXRlUmVmO1xuY29uc3QgVmlld0VuZ2luZVRlbXBsYXRlUmVmID0gVGVtcGxhdGVSZWY7XG4vLyBUT0RPKGFseGh1Yik6IGNvbWJpbmUgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvbi4gQ3VycmVudGx5IHRoaXMgaXMgY2hhbGxlbmdpbmcgc2luY2Ugc29tZXRoaW5nXG4vLyBpbiBnMyBkZXBlbmRzIG9uIHRoZW0gYmVpbmcgc2VwYXJhdGUuXG5jb25zdCBSM1RlbXBsYXRlUmVmID0gY2xhc3MgVGVtcGxhdGVSZWYgZXh0ZW5kcyBWaWV3RW5naW5lVGVtcGxhdGVSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9kZWNsYXJhdGlvbkxWaWV3LCBfZGVjbGFyYXRpb25UQ29udGFpbmVyLCBlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RlY2xhcmF0aW9uTFZpZXcgPSBfZGVjbGFyYXRpb25MVmlldztcbiAgICAgICAgdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyID0gX2RlY2xhcmF0aW9uVENvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5lbGVtZW50UmVmID0gZWxlbWVudFJlZjtcbiAgICB9XG4gICAgY3JlYXRlRW1iZWRkZWRWaWV3KGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IHRoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lci50Vmlld3M7XG4gICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBjcmVhdGVMVmlldyh0aGlzLl9kZWNsYXJhdGlvbkxWaWV3LCBlbWJlZGRlZFRWaWV3LCBjb250ZXh0LCAxNiAvKiBDaGVja0Fsd2F5cyAqLywgbnVsbCwgZW1iZWRkZWRUVmlldy5kZWNsVE5vZGUsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSB0aGlzLl9kZWNsYXJhdGlvbkxWaWV3W3RoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lci5pbmRleF07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGRlY2xhcmF0aW9uTENvbnRhaW5lcik7XG4gICAgICAgIGVtYmVkZGVkTFZpZXdbREVDTEFSQVRJT05fTENPTlRBSU5FUl0gPSBkZWNsYXJhdGlvbkxDb250YWluZXI7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uVmlld0xRdWVyaWVzID0gdGhpcy5fZGVjbGFyYXRpb25MVmlld1tRVUVSSUVTXTtcbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uVmlld0xRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBlbWJlZGRlZExWaWV3W1FVRVJJRVNdID0gZGVjbGFyYXRpb25WaWV3TFF1ZXJpZXMuY3JlYXRlRW1iZWRkZWRWaWV3KGVtYmVkZGVkVFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlclZpZXcoZW1iZWRkZWRUVmlldywgZW1iZWRkZWRMVmlldywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld1JlZiQxKGVtYmVkZGVkTFZpZXcpO1xuICAgIH1cbn07XG4vKipcbiAqIENyZWF0ZXMgYSBUZW1wbGF0ZVJlZiBnaXZlbiBhIG5vZGUuXG4gKlxuICogQHJldHVybnMgVGhlIFRlbXBsYXRlUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RUZW1wbGF0ZVJlZigpIHtcbiAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYoZ2V0Q3VycmVudFROb2RlKCksIGdldExWaWV3KCkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVGVtcGxhdGVSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuXG4gKlxuICogQHBhcmFtIGhvc3RUTm9kZSBUaGUgbm9kZSBvbiB3aGljaCBhIFRlbXBsYXRlUmVmIGlzIHJlcXVlc3RlZFxuICogQHBhcmFtIGhvc3RMVmlldyBUaGUgYExWaWV3YCB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcmV0dXJucyBUaGUgVGVtcGxhdGVSZWYgaW5zdGFuY2Ugb3IgbnVsbCBpZiB3ZSBjYW4ndCBjcmVhdGUgYSBUZW1wbGF0ZVJlZiBvbiBhIGdpdmVuIG5vZGUgdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVUZW1wbGF0ZVJlZihob3N0VE5vZGUsIGhvc3RMVmlldykge1xuICAgIGlmIChob3N0VE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGhvc3RUTm9kZS50Vmlld3MsICdUVmlldyBtdXN0IGJlIGFsbG9jYXRlZCcpO1xuICAgICAgICByZXR1cm4gbmV3IFIzVGVtcGxhdGVSZWYoaG9zdExWaWV3LCBob3N0VE5vZGUsIGNyZWF0ZUVsZW1lbnRSZWYoaG9zdFROb2RlLCBob3N0TFZpZXcpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29udGFpbmVyIHdoZXJlIG9uZSBvciBtb3JlIHZpZXdzIGNhbiBiZSBhdHRhY2hlZCB0byBhIGNvbXBvbmVudC5cbiAqXG4gKiBDYW4gY29udGFpbiAqaG9zdCB2aWV3cyogKGNyZWF0ZWQgYnkgaW5zdGFudGlhdGluZyBhXG4gKiBjb21wb25lbnQgd2l0aCB0aGUgYGNyZWF0ZUNvbXBvbmVudCgpYCBtZXRob2QpLCBhbmQgKmVtYmVkZGVkIHZpZXdzKlxuICogKGNyZWF0ZWQgYnkgaW5zdGFudGlhdGluZyBhIGBUZW1wbGF0ZVJlZmAgd2l0aCB0aGUgYGNyZWF0ZUVtYmVkZGVkVmlldygpYCBtZXRob2QpLlxuICpcbiAqIEEgdmlldyBjb250YWluZXIgaW5zdGFuY2UgY2FuIGNvbnRhaW4gb3RoZXIgdmlldyBjb250YWluZXJzLFxuICogY3JlYXRpbmcgYSBbdmlldyBoaWVyYXJjaHldKGd1aWRlL2dsb3NzYXJ5I3ZpZXctdHJlZSkuXG4gKlxuICogQHNlZSBgQ29tcG9uZW50UmVmYFxuICogQHNlZSBgRW1iZWRkZWRWaWV3UmVmYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVmlld0NvbnRhaW5lclJlZiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuVmlld0NvbnRhaW5lclJlZi5fX05HX0VMRU1FTlRfSURfXyA9IGluamVjdFZpZXdDb250YWluZXJSZWY7XG4vKipcbiAqIENyZWF0ZXMgYSBWaWV3Q29udGFpbmVyUmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yLiBPciwgaWYgdGhlIFZpZXdDb250YWluZXJSZWZcbiAqIGFscmVhZHkgZXhpc3RzLCByZXRyaWV2ZXMgdGhlIGV4aXN0aW5nIFZpZXdDb250YWluZXJSZWYuXG4gKlxuICogQHJldHVybnMgVGhlIFZpZXdDb250YWluZXJSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGluamVjdFZpZXdDb250YWluZXJSZWYoKSB7XG4gICAgY29uc3QgcHJldmlvdXNUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIHJldHVybiBjcmVhdGVDb250YWluZXJSZWYocHJldmlvdXNUTm9kZSwgZ2V0TFZpZXcoKSk7XG59XG5jb25zdCBWRV9WaWV3Q29udGFpbmVyUmVmID0gVmlld0NvbnRhaW5lclJlZjtcbi8vIFRPRE8oYWx4aHViKTogY2xlYW5pbmcgdXAgdGhpcyBpbmRpcmVjdGlvbiB0cmlnZ2VycyBhIHN1YnRsZSBidWcgaW4gQ2xvc3VyZSBpbiBnMy4gT25jZSB0aGUgZml4XG4vLyBmb3IgdGhhdCBsYW5kcywgdGhpcyBjYW4gYmUgY2xlYW5lZCB1cC5cbmNvbnN0IFIzVmlld0NvbnRhaW5lclJlZiA9IGNsYXNzIFZpZXdDb250YWluZXJSZWYgZXh0ZW5kcyBWRV9WaWV3Q29udGFpbmVyUmVmIHtcbiAgICBjb25zdHJ1Y3RvcihfbENvbnRhaW5lciwgX2hvc3RUTm9kZSwgX2hvc3RMVmlldykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9sQ29udGFpbmVyID0gX2xDb250YWluZXI7XG4gICAgICAgIHRoaXMuX2hvc3RUTm9kZSA9IF9ob3N0VE5vZGU7XG4gICAgICAgIHRoaXMuX2hvc3RMVmlldyA9IF9ob3N0TFZpZXc7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZih0aGlzLl9ob3N0VE5vZGUsIHRoaXMuX2hvc3RMVmlldyk7XG4gICAgfVxuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IodGhpcy5faG9zdFROb2RlLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgTm8gcmVwbGFjZW1lbnQgKi9cbiAgICBnZXQgcGFyZW50SW5qZWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudExvY2F0aW9uID0gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0aGlzLl9ob3N0VE5vZGUsIHRoaXMuX2hvc3RMVmlldyk7XG4gICAgICAgIGlmIChoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIHRoaXMuX2hvc3RMVmlldyk7XG4gICAgICAgICAgICBjb25zdCBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZUluamVjdG9yKHBhcmVudFZpZXcsIGluamVjdG9ySW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50VE5vZGUgPSBwYXJlbnRWaWV3W1RWSUVXXS5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHBhcmVudFROb2RlLCBwYXJlbnRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKG51bGwsIHRoaXMuX2hvc3RMVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHRoaXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWZzID0gZ2V0Vmlld1JlZnModGhpcy5fbENvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiB2aWV3UmVmcyAhPT0gbnVsbCAmJiB2aWV3UmVmc1tpbmRleF0gfHwgbnVsbDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xDb250YWluZXIubGVuZ3RoIC0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7XG4gICAgfVxuICAgIGNyZWF0ZUVtYmVkZGVkVmlldyh0ZW1wbGF0ZVJlZiwgY29udGV4dCwgaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRlbXBsYXRlUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyhjb250ZXh0IHx8IHt9KTtcbiAgICAgICAgdGhpcy5pbnNlcnQodmlld1JlZiwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnlPclR5cGUsIGluZGV4T3JPcHRpb25zLCBpbmplY3RvciwgcHJvamVjdGFibGVOb2RlcywgbmdNb2R1bGVSZWYpIHtcbiAgICAgICAgY29uc3QgaXNDb21wb25lbnRGYWN0b3J5ID0gY29tcG9uZW50RmFjdG9yeU9yVHlwZSAmJiAhaXNUeXBlKGNvbXBvbmVudEZhY3RvcnlPclR5cGUpO1xuICAgICAgICBsZXQgaW5kZXg7XG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gc3VwcG9ydHMgMiBzaWduYXR1cmVzIGFuZCB3ZSBuZWVkIHRvIGhhbmRsZSBvcHRpb25zIGNvcnJlY3RseSBmb3IgYm90aDpcbiAgICAgICAgLy8gICAxLiBXaGVuIGZpcnN0IGFyZ3VtZW50IGlzIGEgQ29tcG9uZW50IHR5cGUuIFRoaXMgc2lnbmF0dXJlIGFsc28gcmVxdWlyZXMgZXh0cmFcbiAgICAgICAgLy8gICAgICBvcHRpb25zIHRvIGJlIHByb3ZpZGVkIGFzIGFzIG9iamVjdCAobW9yZSBlcmdvbm9taWMgb3B0aW9uKS5cbiAgICAgICAgLy8gICAyLiBGaXJzdCBhcmd1bWVudCBpcyBhIENvbXBvbmVudCBmYWN0b3J5LiBJbiB0aGlzIGNhc2UgZXh0cmEgb3B0aW9ucyBhcmUgcmVwcmVzZW50ZWQgYXNcbiAgICAgICAgLy8gICAgICBwb3NpdGlvbmFsIGFyZ3VtZW50cy4gVGhpcyBzaWduYXR1cmUgaXMgbGVzcyBlcmdvbm9taWMgYW5kIHdpbGwgYmUgZGVwcmVjYXRlZC5cbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RmFjdG9yeSkge1xuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHR5cGVvZiBpbmRleE9yT3B0aW9ucyAhPT0gJ29iamVjdCcsIHRydWUsICdJdCBsb29rcyBsaWtlIENvbXBvbmVudCBmYWN0b3J5IHdhcyBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICdhbmQgYW4gb3B0aW9ucyBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4gVGhpcyBjb21iaW5hdGlvbiBvZiBhcmd1bWVudHMgJyArXG4gICAgICAgICAgICAgICAgICAgICdpcyBpbmNvbXBhdGlibGUuIFlvdSBjYW4gZWl0aGVyIGNoYW5nZSB0aGUgZmlyc3QgYXJndW1lbnQgdG8gcHJvdmlkZSBDb21wb25lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICd0eXBlIG9yIGNoYW5nZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgbnVtYmVyIChyZXByZXNlbnRpbmcgYW4gaW5kZXggYXQgJyArXG4gICAgICAgICAgICAgICAgICAgICd3aGljaCB0byBpbnNlcnQgdGhlIG5ldyBjb21wb25lbnRcXCdzIGhvc3QgdmlldyBpbnRvIHRoaXMgY29udGFpbmVyKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXggPSBpbmRleE9yT3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKGdldENvbXBvbmVudERlZihjb21wb25lbnRGYWN0b3J5T3JUeXBlKSwgYFByb3ZpZGVkIENvbXBvbmVudCBjbGFzcyBkb2Vzbid0IGNvbnRhaW4gQ29tcG9uZW50IGRlZmluaXRpb24uIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUGxlYXNlIGNoZWNrIHdoZXRoZXIgcHJvdmlkZWQgY2xhc3MgaGFzIEBDb21wb25lbnQgZGVjb3JhdG9yLmApO1xuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHR5cGVvZiBpbmRleE9yT3B0aW9ucyAhPT0gJ251bWJlcicsIHRydWUsICdJdCBsb29rcyBsaWtlIENvbXBvbmVudCB0eXBlIHdhcyBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICdhbmQgYSBudW1iZXIgKHJlcHJlc2VudGluZyBhbiBpbmRleCBhdCB3aGljaCB0byBpbnNlcnQgdGhlIG5ldyBjb21wb25lbnRcXCdzICcgK1xuICAgICAgICAgICAgICAgICAgICAnaG9zdCB2aWV3IGludG8gdGhpcyBjb250YWluZXIgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4gVGhpcyBjb21iaW5hdGlvbiBvZiBhcmd1bWVudHMgJyArXG4gICAgICAgICAgICAgICAgICAgICdpcyBpbmNvbXBhdGlibGUuIFBsZWFzZSB1c2UgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoaW5kZXhPck9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgaW5kZXggPSBvcHRpb25zLmluZGV4O1xuICAgICAgICAgICAgaW5qZWN0b3IgPSBvcHRpb25zLmluamVjdG9yO1xuICAgICAgICAgICAgcHJvamVjdGFibGVOb2RlcyA9IG9wdGlvbnMucHJvamVjdGFibGVOb2RlcztcbiAgICAgICAgICAgIG5nTW9kdWxlUmVmID0gb3B0aW9ucy5uZ01vZHVsZVJlZjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnRGYWN0b3J5ID0gaXNDb21wb25lbnRGYWN0b3J5ID9cbiAgICAgICAgICAgIGNvbXBvbmVudEZhY3RvcnlPclR5cGUgOlxuICAgICAgICAgICAgbmV3IENvbXBvbmVudEZhY3RvcnkoZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudEZhY3RvcnlPclR5cGUpKTtcbiAgICAgICAgY29uc3QgY29udGV4dEluamVjdG9yID0gaW5qZWN0b3IgfHwgdGhpcy5wYXJlbnRJbmplY3RvcjtcbiAgICAgICAgLy8gSWYgYW4gYE5nTW9kdWxlUmVmYCBpcyBub3QgcHJvdmlkZWQgZXhwbGljaXRseSwgdHJ5IHJldHJpZXZpbmcgaXQgZnJvbSB0aGUgREkgdHJlZS5cbiAgICAgICAgaWYgKCFuZ01vZHVsZVJlZiAmJiBjb21wb25lbnRGYWN0b3J5Lm5nTW9kdWxlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgYENvbXBvbmVudEZhY3RvcnlgIGNhc2UsIGVudGVyaW5nIHRoaXMgbG9naWMgaXMgdmVyeSB1bmxpa2VseSwgc2luY2Ugd2UgZXhwZWN0IHRoYXRcbiAgICAgICAgICAgIC8vIGFuIGluc3RhbmNlIG9mIGEgYENvbXBvbmVudEZhY3RvcnlgLCByZXNvbHZlZCB2aWEgYENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcmAgd291bGQgaGF2ZSBhblxuICAgICAgICAgICAgLy8gYG5nTW9kdWxlYCBmaWVsZC4gVGhpcyBpcyBwb3NzaWJsZSBpbiBzb21lIHRlc3Qgc2NlbmFyaW9zIGFuZCBwb3RlbnRpYWxseSBpbiBzb21lIEpJVC1iYXNlZFxuICAgICAgICAgICAgLy8gdXNlLWNhc2VzLiBGb3IgdGhlIGBDb21wb25lbnRGYWN0b3J5YCBjYXNlIHdlIHByZXNlcnZlIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGFuZCB0cnlcbiAgICAgICAgICAgIC8vIHVzaW5nIGEgcHJvdmlkZWQgaW5qZWN0b3IgZmlyc3QsIHRoZW4gZmFsbCBiYWNrIHRvIHRoZSBwYXJlbnQgaW5qZWN0b3Igb2YgdGhpc1xuICAgICAgICAgICAgLy8gYFZpZXdDb250YWluZXJSZWZgIGluc3RhbmNlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEZvciB0aGUgZmFjdG9yeS1sZXNzIGNhc2UsIGl0J3MgY3JpdGljYWwgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBtb2R1bGVcbiAgICAgICAgICAgIC8vIGluamVjdG9yIHRyZWUgKGJ5IHJldHJpZXZpbmcgYW4gaW5zdGFuY2Ugb2YgYW4gYE5nTW9kdWxlUmVmYCBhbmQgYWNjZXNzaW5nIGl0cyBpbmplY3RvciksXG4gICAgICAgICAgICAvLyBzbyB0aGF0IGEgY29tcG9uZW50IGNhbiB1c2UgREkgdG9rZW5zIHByb3ZpZGVkIGluIE1nTW9kdWxlcy4gRm9yIHRoaXMgcmVhc29uLCB3ZSBjYW4gbm90XG4gICAgICAgICAgICAvLyByZWx5IG9uIHRoZSBwcm92aWRlZCBpbmplY3Rvciwgc2luY2UgaXQgbWlnaHQgYmUgZGV0YWNoZWQgZnJvbSB0aGUgREkgdHJlZSAoZm9yIGV4YW1wbGUsIGlmXG4gICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCB2aWEgYEluamVjdG9yLmNyZWF0ZWAgd2l0aG91dCBzcGVjaWZ5aW5nIGEgcGFyZW50IGluamVjdG9yLCBvciBpZiBhblxuICAgICAgICAgICAgLy8gaW5qZWN0b3IgaXMgcmV0cmlldmVkIGZyb20gYW4gYE5nTW9kdWxlUmVmYCBjcmVhdGVkIHZpYSBgY3JlYXRlTmdNb2R1bGVSZWZgIHVzaW5nIGFuXG4gICAgICAgICAgICAvLyBOZ01vZHVsZSBvdXRzaWRlIG9mIGEgbW9kdWxlIHRyZWUpLiBJbnN0ZWFkLCB3ZSBhbHdheXMgdXNlIGBWaWV3Q29udGFpbmVyUmVmYCdzIHBhcmVudFxuICAgICAgICAgICAgLy8gaW5qZWN0b3IsIHdoaWNoIGlzIG5vcm1hbGx5IGNvbm5lY3RlZCB0byB0aGUgREkgdHJlZSwgd2hpY2ggaW5jbHVkZXMgbW9kdWxlIGluamVjdG9yXG4gICAgICAgICAgICAvLyBzdWJ0cmVlLlxuICAgICAgICAgICAgY29uc3QgX2luamVjdG9yID0gaXNDb21wb25lbnRGYWN0b3J5ID8gY29udGV4dEluamVjdG9yIDogdGhpcy5wYXJlbnRJbmplY3RvcjtcbiAgICAgICAgICAgIC8vIERPIE5PVCBSRUZBQ1RPUi4gVGhlIGNvZGUgaGVyZSB1c2VkIHRvIGhhdmUgYSBgaW5qZWN0b3IuZ2V0KE5nTW9kdWxlUmVmLCBudWxsKSB8fFxuICAgICAgICAgICAgLy8gdW5kZWZpbmVkYCBleHByZXNzaW9uIHdoaWNoIHNlZW1zIHRvIGNhdXNlIGludGVybmFsIGdvb2dsZSBhcHBzIHRvIGZhaWwuIFRoaXMgaXMgZG9jdW1lbnRlZFxuICAgICAgICAgICAgLy8gaW4gdGhlIGZvbGxvd2luZyBpbnRlcm5hbCBidWcgaXNzdWU6IGdvL2IvMTQyOTY3ODAyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBfaW5qZWN0b3IuZ2V0KE5nTW9kdWxlUmVmJDEsIG51bGwpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG5nTW9kdWxlUmVmID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKGNvbnRleHRJbmplY3RvciwgcHJvamVjdGFibGVOb2RlcywgdW5kZWZpbmVkLCBuZ01vZHVsZVJlZik7XG4gICAgICAgIHRoaXMuaW5zZXJ0KGNvbXBvbmVudFJlZi5ob3N0VmlldywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBpbnNlcnQodmlld1JlZiwgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSB2aWV3UmVmLl9sVmlldztcbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgdmlld1JlZi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGluc2VydCBhIGRlc3Ryb3llZCBWaWV3IGluIGEgVmlld0NvbnRhaW5lciEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlld0F0dGFjaGVkVG9Db250YWluZXIobFZpZXcpKSB7XG4gICAgICAgICAgICAvLyBJZiB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQsIGRldGFjaCBpdCBmaXJzdCBzbyB3ZSBjbGVhbiB1cCByZWZlcmVuY2VzIGFwcHJvcHJpYXRlbHkuXG4gICAgICAgICAgICBjb25zdCBwcmV2SWR4ID0gdGhpcy5pbmRleE9mKHZpZXdSZWYpO1xuICAgICAgICAgICAgLy8gQSB2aWV3IG1pZ2h0IGJlIGF0dGFjaGVkIGVpdGhlciB0byB0aGlzIG9yIGEgZGlmZmVyZW50IGNvbnRhaW5lci4gVGhlIGBwcmV2SWR4YCBmb3JcbiAgICAgICAgICAgIC8vIHRob3NlIGNhc2VzIHdpbGwgYmU6XG4gICAgICAgICAgICAvLyBlcXVhbCB0byAtMSBmb3Igdmlld3MgYXR0YWNoZWQgdG8gdGhpcyBWaWV3Q29udGFpbmVyUmVmXG4gICAgICAgICAgICAvLyA+PSAwIGZvciB2aWV3cyBhdHRhY2hlZCB0byBhIGRpZmZlcmVudCBWaWV3Q29udGFpbmVyUmVmXG4gICAgICAgICAgICBpZiAocHJldklkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFjaChwcmV2SWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMQ29udGFpbmVyID0gbFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoaXNMQ29udGFpbmVyKHByZXZMQ29udGFpbmVyKSwgdHJ1ZSwgJ0FuIGF0dGFjaGVkIHZpZXcgc2hvdWxkIGhhdmUgaXRzIFBBUkVOVCBwb2ludCB0byBhIGNvbnRhaW5lci4nKTtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHJlLWNyZWF0ZSBhIFIzVmlld0NvbnRhaW5lclJlZiBpbnN0YW5jZSBzaW5jZSB0aG9zZSBhcmUgbm90IHN0b3JlZCBvblxuICAgICAgICAgICAgICAgIC8vIExWaWV3IChub3IgYW55d2hlcmUgZWxzZSkuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlZDUmVmID0gbmV3IFIzVmlld0NvbnRhaW5lclJlZihwcmV2TENvbnRhaW5lciwgcHJldkxDb250YWluZXJbVF9IT1NUXSwgcHJldkxDb250YWluZXJbUEFSRU5UXSk7XG4gICAgICAgICAgICAgICAgcHJldlZDUmVmLmRldGFjaChwcmV2VkNSZWYuaW5kZXhPZih2aWV3UmVmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9naWNhbCBvcGVyYXRpb24gb2YgYWRkaW5nIGBMVmlld2AgdG8gYExDb250YWluZXJgXG4gICAgICAgIGNvbnN0IGFkanVzdGVkSWR4ID0gdGhpcy5fYWRqdXN0SW5kZXgoaW5kZXgpO1xuICAgICAgICBjb25zdCBsQ29udGFpbmVyID0gdGhpcy5fbENvbnRhaW5lcjtcbiAgICAgICAgaW5zZXJ0Vmlldyh0VmlldywgbFZpZXcsIGxDb250YWluZXIsIGFkanVzdGVkSWR4KTtcbiAgICAgICAgLy8gUGh5c2ljYWwgb3BlcmF0aW9uIG9mIGFkZGluZyB0aGUgRE9NIG5vZGVzLlxuICAgICAgICBjb25zdCBiZWZvcmVOb2RlID0gZ2V0QmVmb3JlTm9kZUZvclZpZXcoYWRqdXN0ZWRJZHgsIGxDb250YWluZXIpO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgY29uc3QgcGFyZW50Uk5vZGUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBsQ29udGFpbmVyW05BVElWRV0pO1xuICAgICAgICBpZiAocGFyZW50Uk5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGFkZFZpZXdUb0NvbnRhaW5lcih0VmlldywgbENvbnRhaW5lcltUX0hPU1RdLCByZW5kZXJlciwgbFZpZXcsIHBhcmVudFJOb2RlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3UmVmLmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpO1xuICAgICAgICBhZGRUb0FycmF5KGdldE9yQ3JlYXRlVmlld1JlZnMobENvbnRhaW5lciksIGFkanVzdGVkSWR4LCB2aWV3UmVmKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIG1vdmUodmlld1JlZiwgbmV3SW5kZXgpIHtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiB2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbW92ZSBhIGRlc3Ryb3llZCBWaWV3IGluIGEgVmlld0NvbnRhaW5lciEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQodmlld1JlZiwgbmV3SW5kZXgpO1xuICAgIH1cbiAgICBpbmRleE9mKHZpZXdSZWYpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZnNBcnIgPSBnZXRWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWZzQXJyICE9PSBudWxsID8gdmlld1JlZnNBcnIuaW5kZXhPZih2aWV3UmVmKSA6IC0xO1xuICAgIH1cbiAgICByZW1vdmUoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRJZHggPSB0aGlzLl9hZGp1c3RJbmRleChpbmRleCwgLTEpO1xuICAgICAgICBjb25zdCBkZXRhY2hlZFZpZXcgPSBkZXRhY2hWaWV3KHRoaXMuX2xDb250YWluZXIsIGFkanVzdGVkSWR4KTtcbiAgICAgICAgaWYgKGRldGFjaGVkVmlldykge1xuICAgICAgICAgICAgLy8gQmVmb3JlIGRlc3Ryb3lpbmcgdGhlIHZpZXcsIHJlbW92ZSBpdCBmcm9tIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBgVmlld1JlZmBzLlxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSB2aWV3IGNvbnRhaW5lciBsZW5ndGggaXMgdXBkYXRlZCBiZWZvcmUgY2FsbGluZ1xuICAgICAgICAgICAgLy8gYGRlc3Ryb3lMVmlld2AsIHdoaWNoIGNvdWxkIHJlY3Vyc2l2ZWx5IGNhbGwgdmlldyBjb250YWluZXIgbWV0aG9kcyB0aGF0XG4gICAgICAgICAgICAvLyByZWx5IG9uIGFuIGFjY3VyYXRlIGNvbnRhaW5lciBsZW5ndGguXG4gICAgICAgICAgICAvLyAoZS5nLiBhIG1ldGhvZCBvbiB0aGlzIHZpZXcgY29udGFpbmVyIGJlaW5nIGNhbGxlZCBieSBhIGNoaWxkIGRpcmVjdGl2ZSdzIE9uRGVzdHJveVxuICAgICAgICAgICAgLy8gbGlmZWN5Y2xlIGhvb2spXG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkoZ2V0T3JDcmVhdGVWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKSwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICAgICAgZGVzdHJveUxWaWV3KGRldGFjaGVkVmlld1tUVklFV10sIGRldGFjaGVkVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0YWNoKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkSWR4ID0gdGhpcy5fYWRqdXN0SW5kZXgoaW5kZXgsIC0xKTtcbiAgICAgICAgY29uc3QgdmlldyA9IGRldGFjaFZpZXcodGhpcy5fbENvbnRhaW5lciwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICBjb25zdCB3YXNEZXRhY2hlZCA9IHZpZXcgJiYgcmVtb3ZlRnJvbUFycmF5KGdldE9yQ3JlYXRlVmlld1JlZnModGhpcy5fbENvbnRhaW5lciksIGFkanVzdGVkSWR4KSAhPSBudWxsO1xuICAgICAgICByZXR1cm4gd2FzRGV0YWNoZWQgPyBuZXcgVmlld1JlZiQxKHZpZXcpIDogbnVsbDtcbiAgICB9XG4gICAgX2FkanVzdEluZGV4KGluZGV4LCBzaGlmdCA9IDApIHtcbiAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCArIHNoaWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuKGluZGV4LCAtMSwgYFZpZXdSZWYgaW5kZXggbXVzdCBiZSBwb3NpdGl2ZSwgZ290ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAvLyArMSBiZWNhdXNlIGl0J3MgbGVnYWwgdG8gaW5zZXJ0IGF0IHRoZSBlbmQuXG4gICAgICAgICAgICBhc3NlcnRMZXNzVGhhbihpbmRleCwgdGhpcy5sZW5ndGggKyAxICsgc2hpZnQsICdpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG59O1xuZnVuY3Rpb24gZ2V0Vmlld1JlZnMobENvbnRhaW5lcikge1xuICAgIHJldHVybiBsQ29udGFpbmVyW1ZJRVdfUkVGU107XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVZpZXdSZWZzKGxDb250YWluZXIpIHtcbiAgICByZXR1cm4gKGxDb250YWluZXJbVklFV19SRUZTXSB8fCAobENvbnRhaW5lcltWSUVXX1JFRlNdID0gW10pKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdDb250YWluZXJSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuXG4gKlxuICogQHBhcmFtIFZpZXdDb250YWluZXJSZWZUb2tlbiBUaGUgVmlld0NvbnRhaW5lclJlZiB0eXBlXG4gKiBAcGFyYW0gRWxlbWVudFJlZlRva2VuIFRoZSBFbGVtZW50UmVmIHR5cGVcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGEgVmlld0NvbnRhaW5lclJlZlxuICogQHBhcmFtIGhvc3RMVmlldyBUaGUgdmlldyB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcmV0dXJucyBUaGUgVmlld0NvbnRhaW5lclJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyUmVmKGhvc3RUTm9kZSwgaG9zdExWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZShob3N0VE5vZGUsIDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDMgLyogQW55Uk5vZGUgKi8pO1xuICAgIGxldCBsQ29udGFpbmVyO1xuICAgIGNvbnN0IHNsb3RWYWx1ZSA9IGhvc3RMVmlld1tob3N0VE5vZGUuaW5kZXhdO1xuICAgIGlmIChpc0xDb250YWluZXIoc2xvdFZhbHVlKSkge1xuICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhIGNvbnRhaW5lciwgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgTENvbnRhaW5lclxuICAgICAgICBsQ29udGFpbmVyID0gc2xvdFZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGNvbW1lbnROb2RlO1xuICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhbiBlbGVtZW50IGNvbnRhaW5lciwgdGhlIG5hdGl2ZSBob3N0IGVsZW1lbnQgaXMgZ3VhcmFudGVlZCB0byBiZSBhXG4gICAgICAgIC8vIGNvbW1lbnQgYW5kIHdlIGNhbiByZXVzZSB0aGF0IGNvbW1lbnQgYXMgYW5jaG9yIGVsZW1lbnQgZm9yIHRoZSBuZXcgTENvbnRhaW5lci5cbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgbm9kZSBpbiBxdWVzdGlvbiBpcyBhbHJlYWR5IHBhcnQgb2YgdGhlIERPTSBzdHJ1Y3R1cmUgc28gd2UgZG9uJ3QgbmVlZCB0byBhcHBlbmRcbiAgICAgICAgLy8gaXQgYWdhaW4uXG4gICAgICAgIGlmIChob3N0VE5vZGUudHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgY29tbWVudE5vZGUgPSB1bndyYXBSTm9kZShzbG90VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGhvc3QgaXMgYSByZWd1bGFyIGVsZW1lbnQsIHdlIGhhdmUgdG8gaW5zZXJ0IGEgY29tbWVudCBub2RlIG1hbnVhbGx5IHdoaWNoIHdpbGxcbiAgICAgICAgICAgIC8vIGJlIHVzZWQgYXMgYW4gYW5jaG9yIHdoZW4gaW5zZXJ0aW5nIGVsZW1lbnRzLiBJbiB0aGlzIHNwZWNpZmljIGNhc2Ugd2UgdXNlIGxvdy1sZXZlbCBET01cbiAgICAgICAgICAgIC8vIG1hbmlwdWxhdGlvbiB0byBpbnNlcnQgaXQuXG4gICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IGhvc3RMVmlld1tSRU5ERVJFUl07XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgICAgICAgICAgY29tbWVudE5vZGUgPSByZW5kZXJlci5jcmVhdGVDb21tZW50KG5nRGV2TW9kZSA/ICdjb250YWluZXInIDogJycpO1xuICAgICAgICAgICAgY29uc3QgaG9zdE5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUoaG9zdFROb2RlLCBob3N0TFZpZXcpO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50T2ZIb3N0TmF0aXZlID0gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgaG9zdE5hdGl2ZSk7XG4gICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudE9mSG9zdE5hdGl2ZSwgY29tbWVudE5vZGUsIG5hdGl2ZU5leHRTaWJsaW5nKHJlbmRlcmVyLCBob3N0TmF0aXZlKSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3RMVmlld1tob3N0VE5vZGUuaW5kZXhdID0gbENvbnRhaW5lciA9XG4gICAgICAgICAgICBjcmVhdGVMQ29udGFpbmVyKHNsb3RWYWx1ZSwgaG9zdExWaWV3LCBjb21tZW50Tm9kZSwgaG9zdFROb2RlKTtcbiAgICAgICAgYWRkVG9WaWV3VHJlZShob3N0TFZpZXcsIGxDb250YWluZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFIzVmlld0NvbnRhaW5lclJlZihsQ29udGFpbmVyLCBob3N0VE5vZGUsIGhvc3RMVmlldyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMSA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHVudXNlZFZhbHVlVG9QbGFjYXRlQWpkID0gdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMSArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDUgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQ7XG5jbGFzcyBMUXVlcnlfIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyeUxpc3QpIHtcbiAgICAgICAgdGhpcy5xdWVyeUxpc3QgPSBxdWVyeUxpc3Q7XG4gICAgICAgIHRoaXMubWF0Y2hlcyA9IG51bGw7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IExRdWVyeV8odGhpcy5xdWVyeUxpc3QpO1xuICAgIH1cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5xdWVyeUxpc3Quc2V0RGlydHkoKTtcbiAgICB9XG59XG5jbGFzcyBMUXVlcmllc18ge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJpZXMgPSBbXSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgIH1cbiAgICBjcmVhdGVFbWJlZGRlZFZpZXcodFZpZXcpIHtcbiAgICAgICAgY29uc3QgdFF1ZXJpZXMgPSB0Vmlldy5xdWVyaWVzO1xuICAgICAgICBpZiAodFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vT2ZJbmhlcml0ZWRRdWVyaWVzID0gdFZpZXcuY29udGVudFF1ZXJpZXMgIT09IG51bGwgPyB0Vmlldy5jb250ZW50UXVlcmllc1swXSA6IHRRdWVyaWVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdMUXVlcmllcyA9IFtdO1xuICAgICAgICAgICAgLy8gQW4gZW1iZWRkZWQgdmlldyBoYXMgcXVlcmllcyBwcm9wYWdhdGVkIGZyb20gYSBkZWNsYXJhdGlvbiB2aWV3IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlXG4gICAgICAgICAgICAvLyBUUXVlcmllcyBjb2xsZWN0aW9uIGFuZCB1cCB1bnRpbCBhIGZpcnN0IGNvbnRlbnQgcXVlcnkgZGVjbGFyZWQgaW4gdGhlIGVtYmVkZGVkIHZpZXcuIE9ubHlcbiAgICAgICAgICAgIC8vIHByb3BhZ2F0ZWQgTFF1ZXJpZXMgYXJlIGNyZWF0ZWQgYXQgdGhpcyBwb2ludCAoTFF1ZXJ5IGNvcnJlc3BvbmRpbmcgdG8gZGVjbGFyZWQgY29udGVudFxuICAgICAgICAgICAgLy8gcXVlcmllcyB3aWxsIGJlIGluc3RhbnRpYXRlZCBmcm9tIHRoZSBjb250ZW50IHF1ZXJ5IGluc3RydWN0aW9ucyBmb3IgZWFjaCBkaXJlY3RpdmUpLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub09mSW5oZXJpdGVkUXVlcmllczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdFF1ZXJ5ID0gdFF1ZXJpZXMuZ2V0QnlJbmRleChpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRMUXVlcnkgPSB0aGlzLnF1ZXJpZXNbdFF1ZXJ5LmluZGV4SW5EZWNsYXJhdGlvblZpZXddO1xuICAgICAgICAgICAgICAgIHZpZXdMUXVlcmllcy5wdXNoKHBhcmVudExRdWVyeS5jbG9uZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgTFF1ZXJpZXNfKHZpZXdMUXVlcmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGluc2VydFZpZXcodFZpZXcpIHtcbiAgICAgICAgdGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0Vmlldyk7XG4gICAgfVxuICAgIGRldGFjaFZpZXcodFZpZXcpIHtcbiAgICAgICAgdGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0Vmlldyk7XG4gICAgfVxuICAgIGRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHRWaWV3KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZ2V0VFF1ZXJ5KHRWaWV3LCBpKS5tYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLnNldERpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBUUXVlcnlNZXRhZGF0YV8ge1xuICAgIGNvbnN0cnVjdG9yKHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMucmVhZCA9IHJlYWQ7XG4gICAgfVxufVxuY2xhc3MgVFF1ZXJpZXNfIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyaWVzID0gW10pIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gcXVlcmllcztcbiAgICB9XG4gICAgZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgJ1F1ZXJpZXMgc2hvdWxkIGNvbGxlY3QgcmVzdWx0cyBvbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcyBvbmx5Jyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0uZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEVuZCh0Tm9kZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLmVsZW1lbnRFbmQodE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtYmVkZGVkVFZpZXcodE5vZGUpIHtcbiAgICAgICAgbGV0IHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRRdWVyeUluZGV4ID0gcXVlcmllc0ZvclRlbXBsYXRlUmVmICE9PSBudWxsID8gcXVlcmllc0ZvclRlbXBsYXRlUmVmLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICBjb25zdCB0cXVlcnlDbG9uZSA9IHRoaXMuZ2V0QnlJbmRleChpKS5lbWJlZGRlZFRWaWV3KHROb2RlLCBjaGlsZFF1ZXJ5SW5kZXgpO1xuICAgICAgICAgICAgaWYgKHRxdWVyeUNsb25lKSB7XG4gICAgICAgICAgICAgICAgdHF1ZXJ5Q2xvbmUuaW5kZXhJbkRlY2xhcmF0aW9uVmlldyA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzRm9yVGVtcGxhdGVSZWYucHVzaCh0cXVlcnlDbG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgPSBbdHF1ZXJ5Q2xvbmVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVlcmllc0ZvclRlbXBsYXRlUmVmICE9PSBudWxsID8gbmV3IFRRdWVyaWVzXyhxdWVyaWVzRm9yVGVtcGxhdGVSZWYpIDogbnVsbDtcbiAgICB9XG4gICAgdGVtcGxhdGUodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3LCAnUXVlcmllcyBzaG91bGQgY29sbGVjdCByZXN1bHRzIG9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVlcmllc1tpXS50ZW1wbGF0ZSh0VmlldywgdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEJ5SW5kZXgoaW5kZXgpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh0aGlzLnF1ZXJpZXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcmllc1tpbmRleF07XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJpZXMubGVuZ3RoO1xuICAgIH1cbiAgICB0cmFjayh0cXVlcnkpIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzLnB1c2godHF1ZXJ5KTtcbiAgICB9XG59XG5jbGFzcyBUUXVlcnlfIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRhZGF0YSwgbm9kZUluZGV4ID0gLTEpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLm1hdGNoZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4SW5EZWNsYXJhdGlvblZpZXcgPSAtMTtcbiAgICAgICAgdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnIGluZGljYXRpbmcgaWYgYSBnaXZlbiBxdWVyeSBzdGlsbCBhcHBsaWVzIHRvIG5vZGVzIGl0IGlzIGNyb3NzaW5nLiBXZSB1c2UgdGhpcyBmbGFnXG4gICAgICAgICAqIChhbG9uZ3NpZGUgd2l0aCBfZGVjbGFyYXRpb25Ob2RlSW5kZXgpIHRvIGtub3cgd2hlbiB0byBzdG9wIGFwcGx5aW5nIGNvbnRlbnQgcXVlcmllcyB0b1xuICAgICAgICAgKiBlbGVtZW50cyBpbiBhIHRlbXBsYXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYXBwbGllc1RvTmV4dE5vZGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleCA9IG5vZGVJbmRleDtcbiAgICB9XG4gICAgZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHROb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEVuZCh0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXggPT09IHROb2RlLmluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRlbXBsYXRlKHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpO1xuICAgIH1cbiAgICBlbWJlZGRlZFRWaWV3KHROb2RlLCBjaGlsZFF1ZXJ5SW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBcHBseWluZ1RvTm9kZSh0Tm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3Nlc05nVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gQSBtYXJrZXIgaW5kaWNhdGluZyBhIGA8bmctdGVtcGxhdGU+YCBlbGVtZW50IChhIHBsYWNlaG9sZGVyIGZvciBxdWVyeSByZXN1bHRzIGZyb21cbiAgICAgICAgICAgIC8vIGVtYmVkZGVkIHZpZXdzIGNyZWF0ZWQgYmFzZWQgb24gdGhpcyBgPG5nLXRlbXBsYXRlPmApLlxuICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCgtdE5vZGUuaW5kZXgsIGNoaWxkUXVlcnlJbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRRdWVyeV8odGhpcy5tZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlzQXBwbHlpbmdUb05vZGUodE5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcGxpZXNUb05leHROb2RlICYmXG4gICAgICAgICAgICAodGhpcy5tZXRhZGF0YS5mbGFncyAmIDEgLyogZGVzY2VuZGFudHMgKi8pICE9PSAxIC8qIGRlc2NlbmRhbnRzICovKSB7XG4gICAgICAgICAgICBjb25zdCBkZWNsYXJhdGlvbk5vZGVJZHggPSB0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleDtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0Tm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgYSBnaXZlbiBUTm9kZSBpcyBhIFwiZGlyZWN0XCIgY2hpbGQgb2YgYSBub2RlIG9uIHdoaWNoIGEgY29udGVudCBxdWVyeSB3YXNcbiAgICAgICAgICAgIC8vIGRlY2xhcmVkIChvbmx5IGRpcmVjdCBjaGlsZHJlbiBvZiBxdWVyeSdzIGhvc3Qgbm9kZSBjYW4gbWF0Y2ggd2l0aCB0aGUgZGVzY2VuZGFudHM6IGZhbHNlXG4gICAgICAgICAgICAvLyBvcHRpb24pLiBUaGVyZSBhcmUgMyBtYWluIHVzZS1jYXNlIC8gY29uZGl0aW9ucyB0byBjb25zaWRlciBoZXJlOlxuICAgICAgICAgICAgLy8gLSA8bmVlZHMtdGFyZ2V0PjxpICN0YXJnZXQ+PC9pPjwvbmVlZHMtdGFyZ2V0PjogaGVyZSA8aSAjdGFyZ2V0PiBwYXJlbnQgbm9kZSBpcyBhIHF1ZXJ5XG4gICAgICAgICAgICAvLyBob3N0IG5vZGU7XG4gICAgICAgICAgICAvLyAtIDxuZWVkcy10YXJnZXQ+PG5nLXRlbXBsYXRlIFtuZ0lmXT1cInRydWVcIj48aSAjdGFyZ2V0PjwvaT48L25nLXRlbXBsYXRlPjwvbmVlZHMtdGFyZ2V0PjpcbiAgICAgICAgICAgIC8vIGhlcmUgPGkgI3RhcmdldD4gcGFyZW50IG5vZGUgaXMgbnVsbDtcbiAgICAgICAgICAgIC8vIC0gPG5lZWRzLXRhcmdldD48bmctY29udGFpbmVyPjxpICN0YXJnZXQ+PC9pPjwvbmctY29udGFpbmVyPjwvbmVlZHMtdGFyZ2V0PjogaGVyZSB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBnbyBwYXN0IGA8bmctY29udGFpbmVyPmAgdG8gZGV0ZXJtaW5lIDxpICN0YXJnZXQ+IHBhcmVudCBub2RlIChidXQgd2Ugc2hvdWxkbid0IHRyYXZlcnNlXG4gICAgICAgICAgICAvLyB1cCBwYXN0IHRoZSBxdWVyeSdzIGhvc3Qgbm9kZSEpLlxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJiAocGFyZW50LnR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pICYmXG4gICAgICAgICAgICAgICAgcGFyZW50LmluZGV4ICE9PSBkZWNsYXJhdGlvbk5vZGVJZHgpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uTm9kZUlkeCA9PT0gKHBhcmVudCAhPT0gbnVsbCA/IHBhcmVudC5pbmRleCA6IC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbGllc1RvTmV4dE5vZGU7XG4gICAgfVxuICAgIG1hdGNoVE5vZGUodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IHRoaXMubWV0YWRhdGEucHJlZGljYXRlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcmVkaWNhdGUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWRpY2F0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwcmVkaWNhdGVbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odFZpZXcsIHROb2RlLCBnZXRJZHhPZk1hdGNoaW5nU2VsZWN0b3IodE5vZGUsIG5hbWUpKTtcbiAgICAgICAgICAgICAgICAvLyBBbHNvIHRyeSBtYXRjaGluZyB0aGUgbmFtZSB0byBhIHByb3ZpZGVyIHNpbmNlIHN0cmluZ3MgY2FuIGJlIHVzZWQgYXMgREkgdG9rZW5zIHRvby5cbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCBuYW1lLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgPT09IFRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCBwcmVkaWNhdGUsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIG5vZGVNYXRjaElkeCkge1xuICAgICAgICBpZiAobm9kZU1hdGNoSWR4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZWFkID0gdGhpcy5tZXRhZGF0YS5yZWFkO1xuICAgICAgICAgICAgaWYgKHJlYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVhZCA9PT0gRWxlbWVudFJlZiB8fCByZWFkID09PSBWaWV3Q29udGFpbmVyUmVmIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlYWQgPT09IFRlbXBsYXRlUmVmICYmICh0Tm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2godE5vZGUuaW5kZXgsIC0yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZU9yUHJvdmlkZXJJZHggPSBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCB0VmlldywgcmVhZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZU9yUHJvdmlkZXJJZHggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2godE5vZGUuaW5kZXgsIGRpcmVjdGl2ZU9yUHJvdmlkZXJJZHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCh0Tm9kZS5pbmRleCwgbm9kZU1hdGNoSWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRNYXRjaCh0Tm9kZUlkeCwgbWF0Y2hJZHgpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gW3ROb2RlSWR4LCBtYXRjaElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMucHVzaCh0Tm9kZUlkeCwgbWF0Y2hJZHgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGxvY2FsIG5hbWVzIGZvciBhIGdpdmVuIG5vZGUgYW5kIHJldHVybnMgZGlyZWN0aXZlIGluZGV4XG4gKiAob3IgLTEgaWYgYSBsb2NhbCBuYW1lIHBvaW50cyB0byBhbiBlbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgc3RhdGljIGRhdGEgb2YgYSBub2RlIHRvIGNoZWNrXG4gKiBAcGFyYW0gc2VsZWN0b3Igc2VsZWN0b3IgdG8gbWF0Y2hcbiAqIEByZXR1cm5zIGRpcmVjdGl2ZSBpbmRleCwgLTEgb3IgbnVsbCBpZiBhIHNlbGVjdG9yIGRpZG4ndCBtYXRjaCBhbnkgb2YgdGhlIGxvY2FsIG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGdldElkeE9mTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3IpIHtcbiAgICBjb25zdCBsb2NhbE5hbWVzID0gdE5vZGUubG9jYWxOYW1lcztcbiAgICBpZiAobG9jYWxOYW1lcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsTmFtZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbE5hbWVzW2ldID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbE5hbWVzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlc3VsdEJ5VE5vZGVUeXBlKHROb2RlLCBjdXJyZW50Vmlldykge1xuICAgIGlmICh0Tm9kZS50eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKHROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYodE5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXN1bHRGb3JOb2RlKGxWaWV3LCB0Tm9kZSwgbWF0Y2hpbmdJZHgsIHJlYWQpIHtcbiAgICBpZiAobWF0Y2hpbmdJZHggPT09IC0xKSB7XG4gICAgICAgIC8vIGlmIHJlYWQgdG9rZW4gYW5kIC8gb3Igc3RyYXRlZ3kgaXMgbm90IHNwZWNpZmllZCwgZGV0ZWN0IGl0IHVzaW5nIGFwcHJvcHJpYXRlIHROb2RlIHR5cGVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3VsdEJ5VE5vZGVUeXBlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1hdGNoaW5nSWR4ID09PSAtMikge1xuICAgICAgICAvLyByZWFkIGEgc3BlY2lhbCB0b2tlbiBmcm9tIGEgbm9kZSBpbmplY3RvclxuICAgICAgICByZXR1cm4gY3JlYXRlU3BlY2lhbFRva2VuKGxWaWV3LCB0Tm9kZSwgcmVhZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyByZWFkIGEgdG9rZW5cbiAgICAgICAgcmV0dXJuIGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCBsVmlld1tUVklFV10sIG1hdGNoaW5nSWR4LCB0Tm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlU3BlY2lhbFRva2VuKGxWaWV3LCB0Tm9kZSwgcmVhZCkge1xuICAgIGlmIChyZWFkID09PSBFbGVtZW50UmVmKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlYWQgPT09IFRlbXBsYXRlUmVmKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZih0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWFkID09PSBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyUmVmKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHRocm93RXJyb3IoYFNwZWNpYWwgdG9rZW4gdG8gcmVhZCBzaG91bGQgYmUgb25lIG9mIEVsZW1lbnRSZWYsIFRlbXBsYXRlUmVmIG9yIFZpZXdDb250YWluZXJSZWYgYnV0IGdvdCAke3N0cmluZ2lmeShyZWFkKX0uYCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgcXVlcnkgcmVzdWx0cyBmb3IgYSBnaXZlbiB2aWV3LiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IHRvIGRvIHRoZVxuICogcHJvY2Vzc2luZyBvbmNlIGFuZCBvbmx5IG9uY2UgZm9yIGEgZ2l2ZW4gdmlldyBpbnN0YW5jZSAoYSBzZXQgb2YgcmVzdWx0cyBmb3IgYSBnaXZlbiB2aWV3XG4gKiBkb2Vzbid0IGNoYW5nZSkuXG4gKi9cbmZ1bmN0aW9uIG1hdGVyaWFsaXplVmlld1Jlc3VsdHModFZpZXcsIGxWaWV3LCB0UXVlcnksIHF1ZXJ5SW5kZXgpIHtcbiAgICBjb25zdCBsUXVlcnkgPSBsVmlld1tRVUVSSUVTXS5xdWVyaWVzW3F1ZXJ5SW5kZXhdO1xuICAgIGlmIChsUXVlcnkubWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0Vmlld0RhdGEgPSB0Vmlldy5kYXRhO1xuICAgICAgICBjb25zdCB0UXVlcnlNYXRjaGVzID0gdFF1ZXJ5Lm1hdGNoZXM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRRdWVyeU1hdGNoZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWROb2RlSWR4ID0gdFF1ZXJ5TWF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVkTm9kZUlkeCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhdCB0aGUgPG5nLXRlbXBsYXRlPiBtYXJrZXIgd2hpY2ggbWlnaHQgaGF2ZSByZXN1bHRzIGluIHZpZXdzIGNyZWF0ZWQgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgICAgIC8vIDxuZy10ZW1wbGF0ZT4gLSB0aG9zZSByZXN1bHRzIHdpbGwgYmUgaW4gc2VwYXJhdGUgdmlld3MgdGhvdWdoLCBzbyBoZXJlIHdlIGp1c3QgbGVhdmVcbiAgICAgICAgICAgICAgICAvLyBudWxsIGFzIGEgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UodFZpZXdEYXRhLCBtYXRjaGVkTm9kZUlkeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdE5vZGUgPSB0Vmlld0RhdGFbbWF0Y2hlZE5vZGVJZHhdO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNyZWF0ZVJlc3VsdEZvck5vZGUobFZpZXcsIHROb2RlLCB0UXVlcnlNYXRjaGVzW2kgKyAxXSwgdFF1ZXJ5Lm1ldGFkYXRhLnJlYWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsUXVlcnkubWF0Y2hlcyA9IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGxRdWVyeS5tYXRjaGVzO1xufVxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGNvbGxlY3RzIChhbHJlYWR5IG1hdGVyaWFsaXplZCkgcXVlcnkgcmVzdWx0cyBmcm9tIGEgdHJlZSBvZiB2aWV3cyxcbiAqIHN0YXJ0aW5nIHdpdGggYSBwcm92aWRlZCBMVmlldy5cbiAqL1xuZnVuY3Rpb24gY29sbGVjdFF1ZXJ5UmVzdWx0cyh0VmlldywgbFZpZXcsIHF1ZXJ5SW5kZXgsIHJlc3VsdCkge1xuICAgIGNvbnN0IHRRdWVyeSA9IHRWaWV3LnF1ZXJpZXMuZ2V0QnlJbmRleChxdWVyeUluZGV4KTtcbiAgICBjb25zdCB0UXVlcnlNYXRjaGVzID0gdFF1ZXJ5Lm1hdGNoZXM7XG4gICAgaWYgKHRRdWVyeU1hdGNoZXMgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgbFZpZXdSZXN1bHRzID0gbWF0ZXJpYWxpemVWaWV3UmVzdWx0cyh0VmlldywgbFZpZXcsIHRRdWVyeSwgcXVlcnlJbmRleCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdFF1ZXJ5TWF0Y2hlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgdE5vZGVJZHggPSB0UXVlcnlNYXRjaGVzW2ldO1xuICAgICAgICAgICAgaWYgKHROb2RlSWR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxWaWV3UmVzdWx0c1tpIC8gMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRRdWVyeUluZGV4ID0gdFF1ZXJ5TWF0Y2hlc1tpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MQ29udGFpbmVyID0gbFZpZXdbLXROb2RlSWR4XTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3QgbWF0Y2hlcyBmb3Igdmlld3MgaW5zZXJ0ZWQgaW4gdGhpcyBjb250YWluZXJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBkZWNsYXJhdGlvbkxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGRlY2xhcmF0aW9uTENvbnRhaW5lcltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYmVkZGVkTFZpZXdbREVDTEFSQVRJT05fTENPTlRBSU5FUl0gPT09IGVtYmVkZGVkTFZpZXdbUEFSRU5UXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFF1ZXJ5UmVzdWx0cyhlbWJlZGRlZExWaWV3W1RWSUVXXSwgZW1iZWRkZWRMVmlldywgY2hpbGRRdWVyeUluZGV4LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3QgbWF0Y2hlcyBmb3Igdmlld3MgY3JlYXRlZCBmcm9tIHRoaXMgZGVjbGFyYXRpb24gY29udGFpbmVyIGFuZCBpbnNlcnRlZCBpbnRvXG4gICAgICAgICAgICAgICAgLy8gZGlmZmVyZW50IGNvbnRhaW5lcnNcbiAgICAgICAgICAgICAgICBpZiAoZGVjbGFyYXRpb25MQ29udGFpbmVyW01PVkVEX1ZJRVdTXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3cyA9IGRlY2xhcmF0aW9uTENvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW1iZWRkZWRMVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBlbWJlZGRlZExWaWV3c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RRdWVyeVJlc3VsdHMoZW1iZWRkZWRMVmlld1tUVklFV10sIGVtYmVkZGVkTFZpZXcsIGNoaWxkUXVlcnlJbmRleCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZWZyZXNoZXMgYSBxdWVyeSBieSBjb21iaW5pbmcgbWF0Y2hlcyBmcm9tIGFsbCBhY3RpdmUgdmlld3MgYW5kIHJlbW92aW5nIG1hdGNoZXMgZnJvbSBkZWxldGVkXG4gKiB2aWV3cy5cbiAqXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgYSBxdWVyeSBnb3QgZGlydHkgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24gb3IgaWYgdGhpcyBpcyBhIHN0YXRpYyBxdWVyeVxuICogcmVzb2x2aW5nIGluIGNyZWF0aW9uIG1vZGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVxdWVyeVJlZnJlc2gocXVlcnlMaXN0KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBxdWVyeUluZGV4ID0gZ2V0Q3VycmVudFF1ZXJ5SW5kZXgoKTtcbiAgICBzZXRDdXJyZW50UXVlcnlJbmRleChxdWVyeUluZGV4ICsgMSk7XG4gICAgY29uc3QgdFF1ZXJ5ID0gZ2V0VFF1ZXJ5KHRWaWV3LCBxdWVyeUluZGV4KTtcbiAgICBpZiAocXVlcnlMaXN0LmRpcnR5ICYmXG4gICAgICAgIChpc0NyZWF0aW9uTW9kZShsVmlldykgPT09XG4gICAgICAgICAgICAoKHRRdWVyeS5tZXRhZGF0YS5mbGFncyAmIDIgLyogaXNTdGF0aWMgKi8pID09PSAyIC8qIGlzU3RhdGljICovKSkpIHtcbiAgICAgICAgaWYgKHRRdWVyeS5tYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeUxpc3QucmVzZXQoW10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdFF1ZXJ5LmNyb3NzZXNOZ1RlbXBsYXRlID9cbiAgICAgICAgICAgICAgICBjb2xsZWN0UXVlcnlSZXN1bHRzKHRWaWV3LCBsVmlldywgcXVlcnlJbmRleCwgW10pIDpcbiAgICAgICAgICAgICAgICBtYXRlcmlhbGl6ZVZpZXdSZXN1bHRzKHRWaWV3LCBsVmlldywgdFF1ZXJ5LCBxdWVyeUluZGV4KTtcbiAgICAgICAgICAgIHF1ZXJ5TGlzdC5yZXNldChyZXN1bHQsIHVud3JhcEVsZW1lbnRSZWYpO1xuICAgICAgICAgICAgcXVlcnlMaXN0Lm5vdGlmeU9uQ2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENyZWF0ZXMgbmV3IFF1ZXJ5TGlzdCwgc3RvcmVzIHRoZSByZWZlcmVuY2UgaW4gTFZpZXcgYW5kIHJldHVybnMgUXVlcnlMaXN0LlxuICpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgVGhlIHR5cGUgZm9yIHdoaWNoIHRoZSBxdWVyeSB3aWxsIHNlYXJjaFxuICogQHBhcmFtIGZsYWdzIEZsYWdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcXVlcnlcbiAqIEBwYXJhbSByZWFkIFdoYXQgdG8gc2F2ZSBpbiB0aGUgcXVlcnlcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dmlld1F1ZXJ5KHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKGZsYWdzLCAnRXhwZWN0aW5nIGZsYWdzJyk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgY3JlYXRlVFF1ZXJ5KHRWaWV3LCBuZXcgVFF1ZXJ5TWV0YWRhdGFfKHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpLCAtMSk7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyIC8qIGlzU3RhdGljICovKSA9PT0gMiAvKiBpc1N0YXRpYyAqLykge1xuICAgICAgICAgICAgdFZpZXcuc3RhdGljVmlld1F1ZXJpZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUxRdWVyeSh0VmlldywgZ2V0TFZpZXcoKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgYSBRdWVyeUxpc3QsIGFzc29jaWF0ZWQgd2l0aCBhIGNvbnRlbnQgcXVlcnksIGZvciBsYXRlciByZWZyZXNoIChwYXJ0IG9mIGEgdmlld1xuICogcmVmcmVzaCkuXG4gKlxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEN1cnJlbnQgZGlyZWN0aXZlIGluZGV4XG4gKiBAcGFyYW0gcHJlZGljYXRlIFRoZSB0eXBlIGZvciB3aGljaCB0aGUgcXVlcnkgd2lsbCBzZWFyY2hcbiAqIEBwYXJhbSBmbGFncyBGbGFncyBhc3NvY2lhdGVkIHdpdGggdGhlIHF1ZXJ5XG4gKiBAcGFyYW0gcmVhZCBXaGF0IHRvIHNhdmUgaW4gdGhlIHF1ZXJ5XG4gKiBAcmV0dXJucyBRdWVyeUxpc3Q8VD5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y29udGVudFF1ZXJ5KGRpcmVjdGl2ZUluZGV4LCBwcmVkaWNhdGUsIGZsYWdzLCByZWFkKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihmbGFncywgJ0V4cGVjdGluZyBmbGFncycpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgICAgIGNyZWF0ZVRRdWVyeSh0VmlldywgbmV3IFRRdWVyeU1ldGFkYXRhXyhwcmVkaWNhdGUsIGZsYWdzLCByZWFkKSwgdE5vZGUuaW5kZXgpO1xuICAgICAgICBzYXZlQ29udGVudFF1ZXJ5QW5kRGlyZWN0aXZlSW5kZXgodFZpZXcsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgaWYgKChmbGFncyAmIDIgLyogaXNTdGF0aWMgKi8pID09PSAyIC8qIGlzU3RhdGljICovKSB7XG4gICAgICAgICAgICB0Vmlldy5zdGF0aWNDb250ZW50UXVlcmllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTFF1ZXJ5KHRWaWV3LCBnZXRMVmlldygpLCBmbGFncyk7XG59XG4vKipcbiAqIExvYWRzIGEgUXVlcnlMaXN0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgdmlldyBvciBjb250ZW50IHF1ZXJ5LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVsb2FkUXVlcnkoKSB7XG4gICAgcmV0dXJuIGxvYWRRdWVyeUludGVybmFsKGdldExWaWV3KCksIGdldEN1cnJlbnRRdWVyeUluZGV4KCkpO1xufVxuZnVuY3Rpb24gbG9hZFF1ZXJ5SW50ZXJuYWwobFZpZXcsIHF1ZXJ5SW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChsVmlld1tRVUVSSUVTXSwgJ0xRdWVyaWVzIHNob3VsZCBiZSBkZWZpbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgYSBxdWVyeScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXdbUVVFUklFU10ucXVlcmllcywgcXVlcnlJbmRleCk7XG4gICAgcmV0dXJuIGxWaWV3W1FVRVJJRVNdLnF1ZXJpZXNbcXVlcnlJbmRleF0ucXVlcnlMaXN0O1xufVxuZnVuY3Rpb24gY3JlYXRlTFF1ZXJ5KHRWaWV3LCBsVmlldywgZmxhZ3MpIHtcbiAgICBjb25zdCBxdWVyeUxpc3QgPSBuZXcgUXVlcnlMaXN0KChmbGFncyAmIDQgLyogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgKi8pID09PSA0IC8qIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5ICovKTtcbiAgICBzdG9yZUNsZWFudXBXaXRoQ29udGV4dCh0VmlldywgbFZpZXcsIHF1ZXJ5TGlzdCwgcXVlcnlMaXN0LmRlc3Ryb3kpO1xuICAgIGlmIChsVmlld1tRVUVSSUVTXSA9PT0gbnVsbClcbiAgICAgICAgbFZpZXdbUVVFUklFU10gPSBuZXcgTFF1ZXJpZXNfKCk7XG4gICAgbFZpZXdbUVVFUklFU10ucXVlcmllcy5wdXNoKG5ldyBMUXVlcnlfKHF1ZXJ5TGlzdCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlVFF1ZXJ5KHRWaWV3LCBtZXRhZGF0YSwgbm9kZUluZGV4KSB7XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgPT09IG51bGwpXG4gICAgICAgIHRWaWV3LnF1ZXJpZXMgPSBuZXcgVFF1ZXJpZXNfKCk7XG4gICAgdFZpZXcucXVlcmllcy50cmFjayhuZXcgVFF1ZXJ5XyhtZXRhZGF0YSwgbm9kZUluZGV4KSk7XG59XG5mdW5jdGlvbiBzYXZlQ29udGVudFF1ZXJ5QW5kRGlyZWN0aXZlSW5kZXgodFZpZXcsIGRpcmVjdGl2ZUluZGV4KSB7XG4gICAgY29uc3QgdFZpZXdDb250ZW50UXVlcmllcyA9IHRWaWV3LmNvbnRlbnRRdWVyaWVzIHx8ICh0Vmlldy5jb250ZW50UXVlcmllcyA9IFtdKTtcbiAgICBjb25zdCBsYXN0U2F2ZWREaXJlY3RpdmVJbmRleCA9IHRWaWV3Q29udGVudFF1ZXJpZXMubGVuZ3RoID8gdFZpZXdDb250ZW50UXVlcmllc1t0Vmlld0NvbnRlbnRRdWVyaWVzLmxlbmd0aCAtIDFdIDogLTE7XG4gICAgaWYgKGRpcmVjdGl2ZUluZGV4ICE9PSBsYXN0U2F2ZWREaXJlY3RpdmVJbmRleCkge1xuICAgICAgICB0Vmlld0NvbnRlbnRRdWVyaWVzLnB1c2godFZpZXcucXVlcmllcy5sZW5ndGggLSAxLCBkaXJlY3RpdmVJbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VFF1ZXJ5KHRWaWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LnF1ZXJpZXMsICdUUXVlcmllcyBtdXN0IGJlIGRlZmluZWQgdG8gcmV0cmlldmUgYSBUUXVlcnknKTtcbiAgICByZXR1cm4gdFZpZXcucXVlcmllcy5nZXRCeUluZGV4KGluZGV4KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHJpZXZlcyBgVGVtcGxhdGVSZWZgIGluc3RhbmNlIGZyb20gYEluamVjdG9yYCB3aGVuIGEgbG9jYWwgcmVmZXJlbmNlIGlzIHBsYWNlZCBvbiB0aGVcbiAqIGA8bmctdGVtcGxhdGU+YCBlbGVtZW50LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZW1wbGF0ZVJlZkV4dHJhY3Rvcih0Tm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYodE5vZGUsIGxWaWV3KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGhlIEBhbmd1bGFyL2NvcmUgQVBJIHN1cmZhY2UgdXNlZCBpbiBnZW5lcmF0ZWQgZXhwcmVzc2lvbnMgdG8gdGhlIGFjdHVhbCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBwdWJsaWMgZXhwb3J0cyBvZiBAYW5ndWxhci9jb3JlLlxuICovXG5jb25zdCBhbmd1bGFyQ29yZUVudiA9ICgoKSA9PiAoe1xuICAgICfJtcm1YXR0cmlidXRlJzogybXJtWF0dHJpYnV0ZSxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTInOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNCc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNixcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVixcbiAgICAnybXJtWRlZmluZUNvbXBvbmVudCc6IMm1ybVkZWZpbmVDb21wb25lbnQsXG4gICAgJ8m1ybVkZWZpbmVEaXJlY3RpdmUnOiDJtcm1ZGVmaW5lRGlyZWN0aXZlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0YWJsZSc6IMm1ybVkZWZpbmVJbmplY3RhYmxlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0b3InOiDJtcm1ZGVmaW5lSW5qZWN0b3IsXG4gICAgJ8m1ybVkZWZpbmVOZ01vZHVsZSc6IMm1ybVkZWZpbmVOZ01vZHVsZSxcbiAgICAnybXJtWRlZmluZVBpcGUnOiDJtcm1ZGVmaW5lUGlwZSxcbiAgICAnybXJtWRpcmVjdGl2ZUluamVjdCc6IMm1ybVkaXJlY3RpdmVJbmplY3QsXG4gICAgJ8m1ybVnZXRJbmhlcml0ZWRGYWN0b3J5JzogybXJtWdldEluaGVyaXRlZEZhY3RvcnksXG4gICAgJ8m1ybVpbmplY3QnOiDJtcm1aW5qZWN0LFxuICAgICfJtcm1aW5qZWN0QXR0cmlidXRlJzogybXJtWluamVjdEF0dHJpYnV0ZSxcbiAgICAnybXJtWludmFsaWRGYWN0b3J5JzogybXJtWludmFsaWRGYWN0b3J5LFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnlEZXAnOiDJtcm1aW52YWxpZEZhY3RvcnlEZXAsXG4gICAgJ8m1ybV0ZW1wbGF0ZVJlZkV4dHJhY3Rvcic6IMm1ybV0ZW1wbGF0ZVJlZkV4dHJhY3RvcixcbiAgICAnybXJtU5nT25DaGFuZ2VzRmVhdHVyZSc6IMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUsXG4gICAgJ8m1ybVQcm92aWRlcnNGZWF0dXJlJzogybXJtVByb3ZpZGVyc0ZlYXR1cmUsXG4gICAgJ8m1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUnOiDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlLFxuICAgICfJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlJzogybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSxcbiAgICAnybXJtW5leHRDb250ZXh0JzogybXJtW5leHRDb250ZXh0LFxuICAgICfJtcm1bmFtZXNwYWNlSFRNTCc6IMm1ybVuYW1lc3BhY2VIVE1MLFxuICAgICfJtcm1bmFtZXNwYWNlTWF0aE1MJzogybXJtW5hbWVzcGFjZU1hdGhNTCxcbiAgICAnybXJtW5hbWVzcGFjZVNWRyc6IMm1ybVuYW1lc3BhY2VTVkcsXG4gICAgJ8m1ybVlbmFibGVCaW5kaW5ncyc6IMm1ybVlbmFibGVCaW5kaW5ncyxcbiAgICAnybXJtWRpc2FibGVCaW5kaW5ncyc6IMm1ybVkaXNhYmxlQmluZGluZ3MsXG4gICAgJ8m1ybVlbGVtZW50U3RhcnQnOiDJtcm1ZWxlbWVudFN0YXJ0LFxuICAgICfJtcm1ZWxlbWVudEVuZCc6IMm1ybVlbGVtZW50RW5kLFxuICAgICfJtcm1ZWxlbWVudCc6IMm1ybVlbGVtZW50LFxuICAgICfJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0JzogybXJtWVsZW1lbnRDb250YWluZXJTdGFydCxcbiAgICAnybXJtWVsZW1lbnRDb250YWluZXJFbmQnOiDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCxcbiAgICAnybXJtWVsZW1lbnRDb250YWluZXInOiDJtcm1ZWxlbWVudENvbnRhaW5lcixcbiAgICAnybXJtXB1cmVGdW5jdGlvbjAnOiDJtcm1cHVyZUZ1bmN0aW9uMCxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjEnOiDJtcm1cHVyZUZ1bmN0aW9uMSxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjInOiDJtcm1cHVyZUZ1bmN0aW9uMixcbiAgICAnybXJtXB1cmVGdW5jdGlvbjMnOiDJtcm1cHVyZUZ1bmN0aW9uMyxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjQnOiDJtcm1cHVyZUZ1bmN0aW9uNCxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjUnOiDJtcm1cHVyZUZ1bmN0aW9uNSxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjYnOiDJtcm1cHVyZUZ1bmN0aW9uNixcbiAgICAnybXJtXB1cmVGdW5jdGlvbjcnOiDJtcm1cHVyZUZ1bmN0aW9uNyxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjgnOiDJtcm1cHVyZUZ1bmN0aW9uOCxcbiAgICAnybXJtXB1cmVGdW5jdGlvblYnOiDJtcm1cHVyZUZ1bmN0aW9uVixcbiAgICAnybXJtWdldEN1cnJlbnRWaWV3JzogybXJtWdldEN1cnJlbnRWaWV3LFxuICAgICfJtcm1cmVzdG9yZVZpZXcnOiDJtcm1cmVzdG9yZVZpZXcsXG4gICAgJ8m1ybVsaXN0ZW5lcic6IMm1ybVsaXN0ZW5lcixcbiAgICAnybXJtXByb2plY3Rpb24nOiDJtcm1cHJvamVjdGlvbixcbiAgICAnybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSc6IMm1ybVzeW50aGV0aWNIb3N0UHJvcGVydHksXG4gICAgJ8m1ybVzeW50aGV0aWNIb3N0TGlzdGVuZXInOiDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyLFxuICAgICfJtcm1cGlwZUJpbmQxJzogybXJtXBpcGVCaW5kMSxcbiAgICAnybXJtXBpcGVCaW5kMic6IMm1ybVwaXBlQmluZDIsXG4gICAgJ8m1ybVwaXBlQmluZDMnOiDJtcm1cGlwZUJpbmQzLFxuICAgICfJtcm1cGlwZUJpbmQ0JzogybXJtXBpcGVCaW5kNCxcbiAgICAnybXJtXBpcGVCaW5kVic6IMm1ybVwaXBlQmluZFYsXG4gICAgJ8m1ybVwcm9qZWN0aW9uRGVmJzogybXJtXByb2plY3Rpb25EZWYsXG4gICAgJ8m1ybVob3N0UHJvcGVydHknOiDJtcm1aG9zdFByb3BlcnR5LFxuICAgICfJtcm1cHJvcGVydHknOiDJtcm1cHJvcGVydHksXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlMSc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyLFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNCc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNCxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNyc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNyxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVwaXBlJzogybXJtXBpcGUsXG4gICAgJ8m1ybVxdWVyeVJlZnJlc2gnOiDJtcm1cXVlcnlSZWZyZXNoLFxuICAgICfJtcm1dmlld1F1ZXJ5JzogybXJtXZpZXdRdWVyeSxcbiAgICAnybXJtWxvYWRRdWVyeSc6IMm1ybVsb2FkUXVlcnksXG4gICAgJ8m1ybVjb250ZW50UXVlcnknOiDJtcm1Y29udGVudFF1ZXJ5LFxuICAgICfJtcm1cmVmZXJlbmNlJzogybXJtXJlZmVyZW5jZSxcbiAgICAnybXJtWNsYXNzTWFwJzogybXJtWNsYXNzTWFwLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlMic6IMm1ybVjbGFzc01hcEludGVycG9sYXRlMixcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNSc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNSxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlOCc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlOCxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1c3R5bGVNYXAnOiDJtcm1c3R5bGVNYXAsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlMSc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlMSxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyJzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNCc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNCxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNyc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNyxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVzdHlsZVByb3AnOiDJtcm1c3R5bGVQcm9wLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxJzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlMic6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNyxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1Y2xhc3NQcm9wJzogybXJtWNsYXNzUHJvcCxcbiAgICAnybXJtWFkdmFuY2UnOiDJtcm1YWR2YW5jZSxcbiAgICAnybXJtXRlbXBsYXRlJzogybXJtXRlbXBsYXRlLFxuICAgICfJtcm1dGV4dCc6IMm1ybV0ZXh0LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlJzogybXJtXRleHRJbnRlcnBvbGF0ZSxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTEnOiDJtcm1dGV4dEludGVycG9sYXRlMSxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTInOiDJtcm1dGV4dEludGVycG9sYXRlMixcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTMnOiDJtcm1dGV4dEludGVycG9sYXRlMyxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTQnOiDJtcm1dGV4dEludGVycG9sYXRlNCxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTUnOiDJtcm1dGV4dEludGVycG9sYXRlNSxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTYnOiDJtcm1dGV4dEludGVycG9sYXRlNixcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTcnOiDJtcm1dGV4dEludGVycG9sYXRlNyxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTgnOiDJtcm1dGV4dEludGVycG9sYXRlOCxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZVYnOiDJtcm1dGV4dEludGVycG9sYXRlVixcbiAgICAnybXJtWkxOG4nOiDJtcm1aTE4bixcbiAgICAnybXJtWkxOG5BdHRyaWJ1dGVzJzogybXJtWkxOG5BdHRyaWJ1dGVzLFxuICAgICfJtcm1aTE4bkV4cCc6IMm1ybVpMThuRXhwLFxuICAgICfJtcm1aTE4blN0YXJ0JzogybXJtWkxOG5TdGFydCxcbiAgICAnybXJtWkxOG5FbmQnOiDJtcm1aTE4bkVuZCxcbiAgICAnybXJtWkxOG5BcHBseSc6IMm1ybVpMThuQXBwbHksXG4gICAgJ8m1ybVpMThuUG9zdHByb2Nlc3MnOiDJtcm1aTE4blBvc3Rwcm9jZXNzLFxuICAgICfJtcm1cmVzb2x2ZVdpbmRvdyc6IMm1ybVyZXNvbHZlV2luZG93LFxuICAgICfJtcm1cmVzb2x2ZURvY3VtZW50JzogybXJtXJlc29sdmVEb2N1bWVudCxcbiAgICAnybXJtXJlc29sdmVCb2R5JzogybXJtXJlc29sdmVCb2R5LFxuICAgICfJtcm1c2V0Q29tcG9uZW50U2NvcGUnOiDJtcm1c2V0Q29tcG9uZW50U2NvcGUsXG4gICAgJ8m1ybVzZXROZ01vZHVsZVNjb3BlJzogybXJtXNldE5nTW9kdWxlU2NvcGUsXG4gICAgJ8m1ybVzYW5pdGl6ZUh0bWwnOiDJtcm1c2FuaXRpemVIdG1sLFxuICAgICfJtcm1c2FuaXRpemVTdHlsZSc6IMm1ybVzYW5pdGl6ZVN0eWxlLFxuICAgICfJtcm1c2FuaXRpemVSZXNvdXJjZVVybCc6IMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsLFxuICAgICfJtcm1c2FuaXRpemVTY3JpcHQnOiDJtcm1c2FuaXRpemVTY3JpcHQsXG4gICAgJ8m1ybVzYW5pdGl6ZVVybCc6IMm1ybVzYW5pdGl6ZVVybCxcbiAgICAnybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCc6IMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwsXG4gICAgJ8m1ybV0cnVzdENvbnN0YW50SHRtbCc6IMm1ybV0cnVzdENvbnN0YW50SHRtbCxcbiAgICAnybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCc6IMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwsXG4gICAgJ2ZvcndhcmRSZWYnOiBmb3J3YXJkUmVmLFxuICAgICdyZXNvbHZlRm9yd2FyZFJlZic6IHJlc29sdmVGb3J3YXJkUmVmLFxufSkpKCk7XG5cbmxldCBqaXRPcHRpb25zID0gbnVsbDtcbmZ1bmN0aW9uIHNldEppdE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmIChqaXRPcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uICE9PSBqaXRPcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm92aWRlZCB2YWx1ZSBmb3IgYGRlZmF1bHRFbmNhcHN1bGF0aW9uYCBjYW4gbm90IGJlIGNoYW5nZWQgb25jZSBpdCBoYXMgYmVlbiBzZXQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcyAhPT0gaml0T3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm92aWRlZCB2YWx1ZSBmb3IgYHByZXNlcnZlV2hpdGVzcGFjZXNgIGNhbiBub3QgYmUgY2hhbmdlZCBvbmNlIGl0IGhhcyBiZWVuIHNldC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBqaXRPcHRpb25zID0gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIGdldEppdE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIGppdE9wdGlvbnM7XG59XG5mdW5jdGlvbiByZXNldEppdE9wdGlvbnMoKSB7XG4gICAgaml0T3B0aW9ucyA9IG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgbW9kdWxlUXVldWUgPSBbXTtcbi8qKlxuICogRW5xdWV1ZXMgbW9kdWxlRGVmIHRvIGJlIGNoZWNrZWQgbGF0ZXIgdG8gc2VlIGlmIHNjb3BlIGNhbiBiZSBzZXQgb24gaXRzXG4gKiBjb21wb25lbnQgZGVjbGFyYXRpb25zLlxuICovXG5mdW5jdGlvbiBlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmcobW9kdWxlVHlwZSwgbmdNb2R1bGUpIHtcbiAgICBtb2R1bGVRdWV1ZS5wdXNoKHsgbW9kdWxlVHlwZSwgbmdNb2R1bGUgfSk7XG59XG5sZXQgZmx1c2hpbmdNb2R1bGVRdWV1ZSA9IGZhbHNlO1xuLyoqXG4gKiBMb29wcyBvdmVyIHF1ZXVlZCBtb2R1bGUgZGVmaW5pdGlvbnMsIGlmIGEgZ2l2ZW4gbW9kdWxlIGRlZmluaXRpb24gaGFzIGFsbCBvZiBpdHNcbiAqIGRlY2xhcmF0aW9ucyByZXNvbHZlZCwgaXQgZGVxdWV1ZXMgdGhhdCBtb2R1bGUgZGVmaW5pdGlvbiBhbmQgc2V0cyB0aGUgc2NvcGUgb25cbiAqIGl0cyBkZWNsYXJhdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSgpIHtcbiAgICBpZiAoIWZsdXNoaW5nTW9kdWxlUXVldWUpIHtcbiAgICAgICAgZmx1c2hpbmdNb2R1bGVRdWV1ZSA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbW9kdWxlUXVldWUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZVR5cGUsIG5nTW9kdWxlIH0gPSBtb2R1bGVRdWV1ZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAobmdNb2R1bGUuZGVjbGFyYXRpb25zICYmIG5nTW9kdWxlLmRlY2xhcmF0aW9ucy5ldmVyeShpc1Jlc29sdmVkRGVjbGFyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlcXVldWVcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlUXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTY29wZU9uRGVjbGFyZWRDb21wb25lbnRzKG1vZHVsZVR5cGUsIG5nTW9kdWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBmbHVzaGluZ01vZHVsZVF1ZXVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdHJ1dGh5IGlmIGEgZGVjbGFyYXRpb24gaGFzIHJlc29sdmVkLiBJZiB0aGUgZGVjbGFyYXRpb24gaGFwcGVucyB0byBiZVxuICogYW4gYXJyYXkgb2YgZGVjbGFyYXRpb25zLCBpdCB3aWxsIHJlY3Vyc2UgdG8gY2hlY2sgZWFjaCBkZWNsYXJhdGlvbiBpbiB0aGF0IGFycmF5XG4gKiAod2hpY2ggbWF5IGFsc28gYmUgYXJyYXlzKS5cbiAqL1xuZnVuY3Rpb24gaXNSZXNvbHZlZERlY2xhcmF0aW9uKGRlY2xhcmF0aW9uKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVjbGFyYXRpb24pKSB7XG4gICAgICAgIHJldHVybiBkZWNsYXJhdGlvbi5ldmVyeShpc1Jlc29sdmVkRGVjbGFyYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gISFyZXNvbHZlRm9yd2FyZFJlZihkZWNsYXJhdGlvbik7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgbW9kdWxlIGluIEpJVCBtb2RlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYXV0b21hdGljYWxseSBnZXRzIGNhbGxlZCB3aGVuIGEgY2xhc3MgaGFzIGEgYEBOZ01vZHVsZWAgZGVjb3JhdG9yLlxuICovXG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGUobW9kdWxlVHlwZSwgbmdNb2R1bGUgPSB7fSkge1xuICAgIGNvbXBpbGVOZ01vZHVsZURlZnMobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xuICAgIC8vIEJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBpZiBhbGwgZGVjbGFyYXRpb25zIGhhdmUgcmVzb2x2ZWQgeWV0IGF0IHRoZSBtb21lbnQgdGhlXG4gICAgLy8gTmdNb2R1bGUgZGVjb3JhdG9yIGlzIGV4ZWN1dGluZywgd2UncmUgZW5xdWV1ZWluZyB0aGUgc2V0dGluZyBvZiBtb2R1bGUgc2NvcGVcbiAgICAvLyBvbiBpdHMgZGVjbGFyYXRpb25zIHRvIGJlIHJ1biBhdCBhIGxhdGVyIHRpbWUgd2hlbiBhbGwgZGVjbGFyYXRpb25zIGZvciB0aGUgbW9kdWxlLFxuICAgIC8vIGluY2x1ZGluZyBmb3J3YXJkIHJlZnMsIGhhdmUgcmVzb2x2ZWQuXG4gICAgZW5xdWV1ZU1vZHVsZUZvckRlbGF5ZWRTY29waW5nKG1vZHVsZVR5cGUsIG5nTW9kdWxlKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYW5kIGFkZHMgdGhlIGDJtW1vZGAsIGDJtWZhY2AgYW5kIGDJtWluamAgcHJvcGVydGllcyB0byB0aGUgbW9kdWxlIGNsYXNzLlxuICpcbiAqIEl0J3MgcG9zc2libGUgdG8gY29tcGlsZSBhIG1vZHVsZSB2aWEgdGhpcyBBUEkgd2hpY2ggd2lsbCBhbGxvdyBkdXBsaWNhdGUgZGVjbGFyYXRpb25zIGluIGl0c1xuICogcm9vdC5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZU5nTW9kdWxlRGVmcyhtb2R1bGVUeXBlLCBuZ01vZHVsZSwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QgPSBmYWxzZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKG1vZHVsZVR5cGUsICdSZXF1aXJlZCB2YWx1ZSBtb2R1bGVUeXBlJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobmdNb2R1bGUsICdSZXF1aXJlZCB2YWx1ZSBuZ01vZHVsZScpO1xuICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IGZsYXR0ZW4obmdNb2R1bGUuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZKTtcbiAgICBsZXQgbmdNb2R1bGVEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGVUeXBlLCBOR19NT0RfREVGLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdNb2R1bGVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmIG5nTW9kdWxlLmltcG9ydHMgJiYgbmdNb2R1bGUuaW1wb3J0cy5pbmRleE9mKG1vZHVsZVR5cGUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBhc3NlcnQgdGhpcyBpbW1lZGlhdGVseSwgYmVjYXVzZSBhbGxvd2luZyBpdCB0byBjb250aW51ZSB3aWxsIGNhdXNlIGl0IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIGdvIGludG8gYW4gaW5maW5pdGUgbG9vcCBiZWZvcmUgd2UndmUgcmVhY2hlZCB0aGUgcG9pbnQgd2hlcmUgd2UgdGhyb3cgYWxsIHRoZSBlcnJvcnMuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7c3RyaW5naWZ5Rm9yRXJyb3IobW9kdWxlVHlwZSl9JyBtb2R1bGUgY2FuJ3QgaW1wb3J0IGl0c2VsZmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nTW9kdWxlRGVmID0gY29tcGlsZXIuY29tcGlsZU5nTW9kdWxlKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttb2R1bGVUeXBlLm5hbWV9L8m1bW9kLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBib290c3RyYXA6IGZsYXR0ZW4obmdNb2R1bGUuYm9vdHN0cmFwIHx8IEVNUFRZX0FSUkFZKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucy5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBmbGF0dGVuKG5nTW9kdWxlLmltcG9ydHMgfHwgRU1QVFlfQVJSQVkpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc29sdmVGb3J3YXJkUmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogZmxhdHRlbihuZ01vZHVsZS5leHBvcnRzIHx8IEVNUFRZX0FSUkFZKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZXNvbHZlRm9yd2FyZFJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyksXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYXM6IG5nTW9kdWxlLnNjaGVtYXMgPyBmbGF0dGVuKG5nTW9kdWxlLnNjaGVtYXMpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG5nTW9kdWxlLmlkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGBzY2hlbWFzYCBvbiBuZ01vZHVsZURlZiB0byBhbiBlbXB0eSBhcnJheSBpbiBKSVQgbW9kZSB0byBpbmRpY2F0ZSB0aGF0IHJ1bnRpbWVcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgdmVyaWZ5IHRoYXQgdGhlcmUgYXJlIG5vIHVua25vd24gZWxlbWVudHMgaW4gYSB0ZW1wbGF0ZS4gSW4gQU9UIG1vZGUsIHRoYXQgY2hlY2tcbiAgICAgICAgICAgICAgICAvLyBoYXBwZW5zIGF0IGNvbXBpbGUgdGltZSBhbmQgYHNjaGVtYXNgIGluZm9ybWF0aW9uIGlzIG5vdCBwcmVzZW50IG9uIENvbXBvbmVudCBhbmQgTW9kdWxlXG4gICAgICAgICAgICAgICAgLy8gZGVmcyBhZnRlciBjb21waWxhdGlvbiAoc28gdGhlIGNoZWNrIGRvZXNuJ3QgaGFwcGVuIHRoZSBzZWNvbmQgdGltZSBhdCBydW50aW1lKS5cbiAgICAgICAgICAgICAgICBpZiAoIW5nTW9kdWxlRGVmLnNjaGVtYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmdNb2R1bGVEZWYuc2NoZW1hcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ01vZHVsZURlZjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGVUeXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0ZhY3RvcnlEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttb2R1bGVUeXBlLm5hbWV9L8m1ZmFjLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtb2R1bGVUeXBlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRlcHM6IHJlZmxlY3REZXBlbmRlbmNpZXMobW9kdWxlVHlwZSksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogY29tcGlsZXIuRmFjdG9yeVRhcmdldC5OZ01vZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdGYWN0b3J5RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xuICAgIGxldCBuZ0luamVjdG9yRGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlVHlwZSwgTkdfSU5KX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0luamVjdG9yRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kdWxlVHlwZSwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1vZHVsZVR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kdWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBuZ01vZHVsZS5wcm92aWRlcnMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZ01vZHVsZS5pbXBvcnRzIHx8IEVNUFRZX0FSUkFZKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG5nTW9kdWxlLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVkpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nSW5qZWN0b3JEZWYgPVxuICAgICAgICAgICAgICAgICAgICBjb21waWxlci5jb21waWxlSW5qZWN0b3IoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21vZHVsZVR5cGUubmFtZX0vybVpbmouanNgLCBtZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0luamVjdG9yRGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2R1bGVUeXBlLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCwgaW1wb3J0aW5nTW9kdWxlKSB7XG4gICAgaWYgKHZlcmlmaWVkTmdNb2R1bGUuZ2V0KG1vZHVsZVR5cGUpKVxuICAgICAgICByZXR1cm47XG4gICAgdmVyaWZpZWROZ01vZHVsZS5zZXQobW9kdWxlVHlwZSwgdHJ1ZSk7XG4gICAgbW9kdWxlVHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKG1vZHVsZVR5cGUpO1xuICAgIGxldCBuZ01vZHVsZURlZjtcbiAgICBpZiAoaW1wb3J0aW5nTW9kdWxlKSB7XG4gICAgICAgIG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSk7XG4gICAgICAgIGlmICghbmdNb2R1bGVEZWYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2YWx1ZSAnJHttb2R1bGVUeXBlLm5hbWV9JyBpbXBvcnRlZCBieSB0aGUgbW9kdWxlICcke2ltcG9ydGluZ01vZHVsZS5uYW1lfScuIFBsZWFzZSBhZGQgYW4gQE5nTW9kdWxlIGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuZGVjbGFyYXRpb25zKTtcbiAgICBjb25zdCBpbXBvcnRzID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5pbXBvcnRzKTtcbiAgICBmbGF0dGVuKGltcG9ydHMpLm1hcCh1bndyYXBNb2R1bGVXaXRoUHJvdmlkZXJzSW1wb3J0cykuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0KG1vZCwgbW9kdWxlVHlwZSk7XG4gICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kLCBmYWxzZSwgbW9kdWxlVHlwZSk7XG4gICAgfSk7XG4gICAgY29uc3QgZXhwb3J0cyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuZXhwb3J0cyk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2godmVyaWZ5RGVjbGFyYXRpb25zSGF2ZURlZmluaXRpb25zKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlEaXJlY3RpdmVzSGF2ZVNlbGVjdG9yKTtcbiAgICBjb25zdCBjb21iaW5lZERlY2xhcmF0aW9ucyA9IFtcbiAgICAgICAgLi4uZGVjbGFyYXRpb25zLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgIC4uLmZsYXR0ZW4oaW1wb3J0cy5tYXAoY29tcHV0ZUNvbWJpbmVkRXhwb3J0cykpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgXTtcbiAgICBleHBvcnRzLmZvckVhY2godmVyaWZ5RXhwb3J0c0FyZURlY2xhcmVkT3JSZUV4cG9ydGVkKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaChkZWNsID0+IHZlcmlmeURlY2xhcmF0aW9uSXNVbmlxdWUoZGVjbCwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QpKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlDb21wb25lbnRFbnRyeUNvbXBvbmVudHNJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICBjb25zdCBuZ01vZHVsZSA9IGdldEFubm90YXRpb24obW9kdWxlVHlwZSwgJ05nTW9kdWxlJyk7XG4gICAgaWYgKG5nTW9kdWxlKSB7XG4gICAgICAgIG5nTW9kdWxlLmltcG9ydHMgJiZcbiAgICAgICAgICAgIGZsYXR0ZW4obmdNb2R1bGUuaW1wb3J0cykubWFwKHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKS5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydChtb2QsIG1vZHVsZVR5cGUpO1xuICAgICAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kLCBmYWxzZSwgbW9kdWxlVHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbmdNb2R1bGUuYm9vdHN0cmFwICYmIGRlZXBGb3JFYWNoKG5nTW9kdWxlLmJvb3RzdHJhcCwgdmVyaWZ5Q29ycmVjdEJvb3RzdHJhcFR5cGUpO1xuICAgICAgICBuZ01vZHVsZS5ib290c3RyYXAgJiYgZGVlcEZvckVhY2gobmdNb2R1bGUuYm9vdHN0cmFwLCB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICAgICAgbmdNb2R1bGUuZW50cnlDb21wb25lbnRzICYmXG4gICAgICAgICAgICBkZWVwRm9yRWFjaChuZ01vZHVsZS5lbnRyeUNvbXBvbmVudHMsIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUpO1xuICAgIH1cbiAgICAvLyBUaHJvdyBFcnJvciBpZiBhbnkgZXJyb3JzIHdlcmUgZGV0ZWN0ZWQuXG4gICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9ycy5qb2luKCdcXG4nKSk7XG4gICAgfVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHZlcmlmeURlY2xhcmF0aW9uc0hhdmVEZWZpbml0aW9ucyh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZGVmID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSB8fCBnZXRQaXBlRGVmJDEodHlwZSk7XG4gICAgICAgIGlmICghZGVmKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgVW5leHBlY3RlZCB2YWx1ZSAnJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0nIGRlY2xhcmVkIGJ5IHRoZSBtb2R1bGUgJyR7c3RyaW5naWZ5Rm9yRXJyb3IobW9kdWxlVHlwZSl9Jy4gUGxlYXNlIGFkZCBhIEBQaXBlL0BEaXJlY3RpdmUvQENvbXBvbmVudCBhbm5vdGF0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeURpcmVjdGl2ZXNIYXZlU2VsZWN0b3IodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGRlZiA9IGdldERpcmVjdGl2ZURlZih0eXBlKTtcbiAgICAgICAgaWYgKCFnZXRDb21wb25lbnREZWYodHlwZSkgJiYgZGVmICYmIGRlZi5zZWxlY3RvcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBEaXJlY3RpdmUgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gaGFzIG5vIHNlbGVjdG9yLCBwbGVhc2UgYWRkIGl0IWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUV4cG9ydHNBcmVEZWNsYXJlZE9yUmVFeHBvcnRlZCh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3Qga2luZCA9IGdldENvbXBvbmVudERlZih0eXBlKSAmJiAnY29tcG9uZW50JyB8fCBnZXREaXJlY3RpdmVEZWYodHlwZSkgJiYgJ2RpcmVjdGl2ZScgfHxcbiAgICAgICAgICAgIGdldFBpcGVEZWYkMSh0eXBlKSAmJiAncGlwZSc7XG4gICAgICAgIGlmIChraW5kKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGNoZWNrZWQgaWYgd2UgYXJlIGRlY2xhcmVkIGFzIENvbXBvbmVudCwgRGlyZWN0aXZlLCBvciBQaXBlXG4gICAgICAgICAgICAvLyBNb2R1bGVzIGRvbid0IG5lZWQgdG8gYmUgZGVjbGFyZWQgb3IgaW1wb3J0ZWQuXG4gICAgICAgICAgICBpZiAoY29tYmluZWREZWNsYXJhdGlvbnMubGFzdEluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGV4cG9ydGluZyBzb21ldGhpbmcgd2hpY2ggd2UgZG9uJ3QgZXhwbGljaXRseSBkZWNsYXJlIG9yIGltcG9ydC5cbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgQ2FuJ3QgZXhwb3J0ICR7a2luZH0gJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gZnJvbSAke3N0cmluZ2lmeUZvckVycm9yKG1vZHVsZVR5cGUpfSBhcyBpdCB3YXMgbmVpdGhlciBkZWNsYXJlZCBub3IgaW1wb3J0ZWQhYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZSh0eXBlLCBzdXBwcmVzc0Vycm9ycykge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kdWxlID0gb3duZXJOZ01vZHVsZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChleGlzdGluZ01vZHVsZSAmJiBleGlzdGluZ01vZHVsZSAhPT0gbW9kdWxlVHlwZSkge1xuICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0Vycm9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZXMgPSBbZXhpc3RpbmdNb2R1bGUsIG1vZHVsZVR5cGVdLm1hcChzdHJpbmdpZnlGb3JFcnJvcikuc29ydCgpO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBUeXBlICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGlzIHBhcnQgb2YgdGhlIGRlY2xhcmF0aW9ucyBvZiAyIG1vZHVsZXM6ICR7bW9kdWxlc1swXX0gYW5kICR7bW9kdWxlc1sxXX0hIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUGxlYXNlIGNvbnNpZGVyIG1vdmluZyAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSB0byBhIGhpZ2hlciBtb2R1bGUgdGhhdCBpbXBvcnRzICR7bW9kdWxlc1swXX0gYW5kICR7bW9kdWxlc1sxXX0uIGAgK1xuICAgICAgICAgICAgICAgICAgICBgWW91IGNhbiBhbHNvIGNyZWF0ZSBhIG5ldyBOZ01vZHVsZSB0aGF0IGV4cG9ydHMgYW5kIGluY2x1ZGVzICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IHRoZW4gaW1wb3J0IHRoYXQgTmdNb2R1bGUgaW4gJHttb2R1bGVzWzBdfSBhbmQgJHttb2R1bGVzWzFdfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1hcmsgdHlwZSBhcyBoYXZpbmcgb3duZXIuXG4gICAgICAgICAgICBvd25lck5nTW9kdWxlLnNldCh0eXBlLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBleGlzdGluZ01vZHVsZSA9IG93bmVyTmdNb2R1bGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nTW9kdWxlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgQ29tcG9uZW50ICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGlzIG5vdCBwYXJ0IG9mIGFueSBOZ01vZHVsZSBvciB0aGUgbW9kdWxlIGhhcyBub3QgYmVlbiBpbXBvcnRlZCBpbnRvIHlvdXIgbW9kdWxlLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUNvcnJlY3RCb290c3RyYXBUeXBlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoIWdldENvbXBvbmVudERlZih0eXBlKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYCR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGNhbm5vdCBiZSB1c2VkIGFzIGFuIGVudHJ5IGNvbXBvbmVudC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb21wb25lbnRFbnRyeUNvbXBvbmVudHNJc1BhcnRPZk5nTW9kdWxlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoZ2V0Q29tcG9uZW50RGVmKHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHdlIGFyZSBjb21wb25lbnRcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGdldEFubm90YXRpb24odHlwZSwgJ0NvbXBvbmVudCcpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuZW50cnlDb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgZGVlcEZvckVhY2goY29tcG9uZW50LmVudHJ5Q29tcG9uZW50cywgdmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydCh0eXBlLCBpbXBvcnRpbmdNb2R1bGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGRpcmVjdGl2ZSAnJHt0eXBlLm5hbWV9JyBpbXBvcnRlZCBieSB0aGUgbW9kdWxlICcke2ltcG9ydGluZ01vZHVsZS5uYW1lfScuIFBsZWFzZSBhZGQgYW4gQE5nTW9kdWxlIGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBpcGVEZWYkMSh0eXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHBpcGUgJyR7dHlwZS5uYW1lfScgaW1wb3J0ZWQgYnkgdGhlIG1vZHVsZSAnJHtpbXBvcnRpbmdNb2R1bGUubmFtZX0nLiBQbGVhc2UgYWRkIGFuIEBOZ01vZHVsZSBhbm5vdGF0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHModHlwZU9yV2l0aFByb3ZpZGVycykge1xuICAgIHR5cGVPcldpdGhQcm92aWRlcnMgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlT3JXaXRoUHJvdmlkZXJzKTtcbiAgICByZXR1cm4gdHlwZU9yV2l0aFByb3ZpZGVycy5uZ01vZHVsZSB8fCB0eXBlT3JXaXRoUHJvdmlkZXJzO1xufVxuZnVuY3Rpb24gZ2V0QW5ub3RhdGlvbih0eXBlLCBuYW1lKSB7XG4gICAgbGV0IGFubm90YXRpb24gPSBudWxsO1xuICAgIGNvbGxlY3QodHlwZS5fX2Fubm90YXRpb25zX18pO1xuICAgIGNvbGxlY3QodHlwZS5kZWNvcmF0b3JzKTtcbiAgICByZXR1cm4gYW5ub3RhdGlvbjtcbiAgICBmdW5jdGlvbiBjb2xsZWN0KGFubm90YXRpb25zKSB7XG4gICAgICAgIGlmIChhbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgYW5ub3RhdGlvbnMuZm9yRWFjaChyZWFkQW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEFubm90YXRpb24oZGVjb3JhdG9yKSB7XG4gICAgICAgIGlmICghYW5ub3RhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGVjb3JhdG9yKTtcbiAgICAgICAgICAgIGlmIChwcm90by5uZ01ldGFkYXRhTmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbiA9IGRlY29yYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRlY29yYXRvci50eXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGVjb3JhdG9yLnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChwcm90by5uZ01ldGFkYXRhTmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24gPSBkZWNvcmF0b3IuYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEtlZXAgdHJhY2sgb2YgY29tcGlsZWQgY29tcG9uZW50cy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBpbiB0ZXN0cyB3ZSBvZnRlbiB3YW50IHRvIGNvbXBpbGUgdGhlXG4gKiBzYW1lIGNvbXBvbmVudCB3aXRoIG1vcmUgdGhhbiBvbmUgTmdNb2R1bGUuIFRoaXMgd291bGQgY2F1c2UgYW4gZXJyb3IgdW5sZXNzIHdlIHJlc2V0IHdoaWNoXG4gKiBOZ01vZHVsZSB0aGUgY29tcG9uZW50IGJlbG9uZ3MgdG8uIFdlIGtlZXAgdGhlIGxpc3Qgb2YgY29tcGlsZWQgY29tcG9uZW50cyBoZXJlIHNvIHRoYXQgdGhlXG4gKiBUZXN0QmVkIGNhbiByZXNldCBpdCBsYXRlci5cbiAqL1xubGV0IG93bmVyTmdNb2R1bGUgPSBuZXcgV2Vha01hcCgpO1xubGV0IHZlcmlmaWVkTmdNb2R1bGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcmVzZXRDb21waWxlZENvbXBvbmVudHMoKSB7XG4gICAgb3duZXJOZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdmVyaWZpZWROZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgbW9kdWxlUXVldWUubGVuZ3RoID0gMDtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNvbWJpbmVkIGRlY2xhcmF0aW9ucyBvZiBleHBsaWNpdCBkZWNsYXJhdGlvbnMsIGFzIHdlbGwgYXMgZGVjbGFyYXRpb25zIGluaGVyaXRlZCBieVxuICogdHJhdmVyc2luZyB0aGUgZXhwb3J0cyBvZiBpbXBvcnRlZCBtb2R1bGVzLlxuICogQHBhcmFtIHR5cGVcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyh0eXBlKSB7XG4gICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIFsuLi5mbGF0dGVuKG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuZXhwb3J0cykubWFwKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKHR5cGUpO1xuICAgICAgICAgICAgaWYgKG5nTW9kdWxlRGVmKSB7XG4gICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZih0eXBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVDb21iaW5lZEV4cG9ydHModHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXTtcbn1cbi8qKlxuICogU29tZSBkZWNsYXJlZCBjb21wb25lbnRzIG1heSBiZSBjb21waWxlZCBhc3luY2hyb25vdXNseSwgYW5kIHRodXMgbWF5IG5vdCBoYXZlIHRoZWlyXG4gKiDJtWNtcCBzZXQgeWV0LiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB0aGVuIGEgcmVmZXJlbmNlIHRvIHRoZSBtb2R1bGUgaXMgd3JpdHRlbiBpbnRvXG4gKiB0aGUgYG5nU2VsZWN0b3JTY29wZWAgcHJvcGVydHkgb2YgdGhlIGRlY2xhcmVkIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMobW9kdWxlVHlwZSwgbmdNb2R1bGUpIHtcbiAgICBjb25zdCBkZWNsYXJhdGlvbnMgPSBmbGF0dGVuKG5nTW9kdWxlLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWSk7XG4gICAgY29uc3QgdHJhbnNpdGl2ZVNjb3BlcyA9IHRyYW5zaXRpdmVTY29wZXNGb3IobW9kdWxlVHlwZSk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2goZGVjbGFyYXRpb24gPT4ge1xuICAgICAgICBpZiAoZGVjbGFyYXRpb24uaGFzT3duUHJvcGVydHkoTkdfQ09NUF9ERUYpKSB7XG4gICAgICAgICAgICAvLyBBIGDJtWNtcGAgZmllbGQgZXhpc3RzIC0gZ28gYWhlYWQgYW5kIHBhdGNoIHRoZSBjb21wb25lbnQgZGlyZWN0bHkuXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudERlZiA9IGdldENvbXBvbmVudERlZihjb21wb25lbnQpO1xuICAgICAgICAgICAgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUoY29tcG9uZW50RGVmLCB0cmFuc2l0aXZlU2NvcGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZGVjbGFyYXRpb24uaGFzT3duUHJvcGVydHkoTkdfRElSX0RFRikgJiYgIWRlY2xhcmF0aW9uLmhhc093blByb3BlcnR5KE5HX1BJUEVfREVGKSkge1xuICAgICAgICAgICAgLy8gU2V0IGBuZ1NlbGVjdG9yU2NvcGVgIGZvciBmdXR1cmUgcmVmZXJlbmNlIHdoZW4gdGhlIGNvbXBvbmVudCBjb21waWxhdGlvbiBmaW5pc2hlcy5cbiAgICAgICAgICAgIGRlY2xhcmF0aW9uLm5nU2VsZWN0b3JTY29wZSA9IG1vZHVsZVR5cGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogUGF0Y2ggdGhlIGRlZmluaXRpb24gb2YgYSBjb21wb25lbnQgd2l0aCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBmcm9tIHRoZSBjb21waWxhdGlvbiBzY29wZSBvZlxuICogYSBnaXZlbiBtb2R1bGUuXG4gKi9cbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKGNvbXBvbmVudERlZiwgdHJhbnNpdGl2ZVNjb3Blcykge1xuICAgIGNvbXBvbmVudERlZi5kaXJlY3RpdmVEZWZzID0gKCkgPT4gQXJyYXkuZnJvbSh0cmFuc2l0aXZlU2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMpXG4gICAgICAgIC5tYXAoZGlyID0+IGRpci5oYXNPd25Qcm9wZXJ0eShOR19DT01QX0RFRikgPyBnZXRDb21wb25lbnREZWYoZGlyKSA6IGdldERpcmVjdGl2ZURlZihkaXIpKVxuICAgICAgICAuZmlsdGVyKGRlZiA9PiAhIWRlZik7XG4gICAgY29tcG9uZW50RGVmLnBpcGVEZWZzID0gKCkgPT4gQXJyYXkuZnJvbSh0cmFuc2l0aXZlU2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzKS5tYXAocGlwZSA9PiBnZXRQaXBlRGVmJDEocGlwZSkpO1xuICAgIGNvbXBvbmVudERlZi5zY2hlbWFzID0gdHJhbnNpdGl2ZVNjb3Blcy5zY2hlbWFzO1xuICAgIC8vIFNpbmNlIHdlIGF2b2lkIENvbXBvbmVudHMvRGlyZWN0aXZlcy9QaXBlcyByZWNvbXBpbGluZyBpbiBjYXNlIHRoZXJlIGFyZSBubyBvdmVycmlkZXMsIHdlXG4gICAgLy8gbWF5IGZhY2UgYSBwcm9ibGVtIHdoZXJlIHByZXZpb3VzbHkgY29tcGlsZWQgZGVmcyBhdmFpbGFibGUgdG8gYSBnaXZlbiBDb21wb25lbnQvRGlyZWN0aXZlXG4gICAgLy8gYXJlIGNhY2hlZCBpbiBUVmlldyBhbmQgbWF5IGJlY29tZSBzdGFsZSAoaW4gY2FzZSBhbnkgb2YgdGhlc2UgZGVmcyBnZXRzIHJlY29tcGlsZWQpLiBJblxuICAgIC8vIG9yZGVyIHRvIGF2b2lkIHRoaXMgcHJvYmxlbSwgd2UgZm9yY2UgZnJlc2ggVFZpZXcgdG8gYmUgY3JlYXRlZC5cbiAgICBjb21wb25lbnREZWYudFZpZXcgPSBudWxsO1xufVxuLyoqXG4gKiBDb21wdXRlIHRoZSBwYWlyIG9mIHRyYW5zaXRpdmUgc2NvcGVzIChjb21waWxhdGlvbiBzY29wZSBhbmQgZXhwb3J0ZWQgc2NvcGUpIGZvciBhIGdpdmVuIG1vZHVsZS5cbiAqXG4gKiBUaGlzIG9wZXJhdGlvbiBpcyBtZW1vaXplZCBhbmQgdGhlIHJlc3VsdCBpcyBjYWNoZWQgb24gdGhlIG1vZHVsZSdzIGRlZmluaXRpb24uIFRoaXMgZnVuY3Rpb24gY2FuXG4gKiBiZSBjYWxsZWQgb24gbW9kdWxlcyB3aXRoIGNvbXBvbmVudHMgdGhhdCBoYXZlIG5vdCBmdWxseSBjb21waWxlZCB5ZXQsIGJ1dCB0aGUgcmVzdWx0IHNob3VsZCBub3RcbiAqIGJlIHVzZWQgdW50aWwgdGhleSBoYXZlLlxuICpcbiAqIEBwYXJhbSBtb2R1bGVUeXBlIG1vZHVsZSB0aGF0IHRyYW5zaXRpdmUgc2NvcGUgc2hvdWxkIGJlIGNhbGN1bGF0ZWQgZm9yLlxuICovXG5mdW5jdGlvbiB0cmFuc2l0aXZlU2NvcGVzRm9yKG1vZHVsZVR5cGUpIHtcbiAgICBpZiAoIWlzTmdNb2R1bGUobW9kdWxlVHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke21vZHVsZVR5cGUubmFtZX0gZG9lcyBub3QgaGF2ZSBhIG1vZHVsZSBkZWYgKMm1bW9kIHByb3BlcnR5KWApO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICBpZiAoZGVmLnRyYW5zaXRpdmVDb21waWxlU2NvcGVzICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkZWYudHJhbnNpdGl2ZUNvbXBpbGVTY29wZXM7XG4gICAgfVxuICAgIGNvbnN0IHNjb3BlcyA9IHtcbiAgICAgICAgc2NoZW1hczogZGVmLnNjaGVtYXMgfHwgbnVsbCxcbiAgICAgICAgY29tcGlsYXRpb246IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHBpcGVzOiBuZXcgU2V0KCksXG4gICAgICAgIH0sXG4gICAgICAgIGV4cG9ydGVkOiB7XG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBwaXBlczogbmV3IFNldCgpLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgbWF5YmVVbndyYXBGbihkZWYuaW1wb3J0cykuZm9yRWFjaCgoaW1wb3J0ZWQpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0ZWRUeXBlID0gaW1wb3J0ZWQ7XG4gICAgICAgIGlmICghaXNOZ01vZHVsZShpbXBvcnRlZFR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEltcG9ydGluZyAke2ltcG9ydGVkVHlwZS5uYW1lfSB3aGljaCBkb2VzIG5vdCBoYXZlIGEgybVtb2QgcHJvcGVydHlgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoaXMgbW9kdWxlIGltcG9ydHMgYW5vdGhlciwgdGhlIGltcG9ydGVkIG1vZHVsZSdzIGV4cG9ydGVkIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGFyZVxuICAgICAgICAvLyBhZGRlZCB0byB0aGUgY29tcGlsYXRpb24gc2NvcGUgb2YgdGhpcyBtb2R1bGUuXG4gICAgICAgIGNvbnN0IGltcG9ydGVkU2NvcGUgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKGltcG9ydGVkVHlwZSk7XG4gICAgICAgIGltcG9ydGVkU2NvcGUuZXhwb3J0ZWQuZGlyZWN0aXZlcy5mb3JFYWNoKGVudHJ5ID0+IHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChlbnRyeSkpO1xuICAgICAgICBpbXBvcnRlZFNjb3BlLmV4cG9ydGVkLnBpcGVzLmZvckVhY2goZW50cnkgPT4gc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChlbnRyeSkpO1xuICAgIH0pO1xuICAgIG1heWJlVW53cmFwRm4oZGVmLmRlY2xhcmF0aW9ucykuZm9yRWFjaChkZWNsYXJlZCA9PiB7XG4gICAgICAgIGNvbnN0IGRlY2xhcmVkV2l0aERlZnMgPSBkZWNsYXJlZDtcbiAgICAgICAgaWYgKGdldFBpcGVEZWYkMShkZWNsYXJlZFdpdGhEZWZzKSkge1xuICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChkZWNsYXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFaXRoZXIgZGVjbGFyZWQgaGFzIGEgybVjbXAgb3IgybVkaXIsIG9yIGl0J3MgYSBjb21wb25lbnQgd2hpY2ggaGFzbid0XG4gICAgICAgICAgICAvLyBoYWQgaXRzIHRlbXBsYXRlIGNvbXBpbGVkIHlldC4gSW4gZWl0aGVyIGNhc2UsIGl0IGdldHMgYWRkZWQgdG8gdGhlIGNvbXBpbGF0aW9uJ3NcbiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcy5hZGQoZGVjbGFyZWQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbWF5YmVVbndyYXBGbihkZWYuZXhwb3J0cykuZm9yRWFjaCgoZXhwb3J0ZWQpID0+IHtcbiAgICAgICAgY29uc3QgZXhwb3J0ZWRUeXBlID0gZXhwb3J0ZWQ7XG4gICAgICAgIC8vIEVpdGhlciB0aGUgdHlwZSBpcyBhIG1vZHVsZSwgYSBwaXBlLCBvciBhIGNvbXBvbmVudC9kaXJlY3RpdmUgKHdoaWNoIG1heSBub3QgaGF2ZSBhXG4gICAgICAgIC8vIMm1Y21wIGFzIGl0IG1pZ2h0IGJlIGNvbXBpbGVkIGFzeW5jaHJvbm91c2x5KS5cbiAgICAgICAgaWYgKGlzTmdNb2R1bGUoZXhwb3J0ZWRUeXBlKSkge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGlzIG1vZHVsZSBleHBvcnRzIGFub3RoZXIsIHRoZSBleHBvcnRlZCBtb2R1bGUncyBleHBvcnRlZCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBhcmVcbiAgICAgICAgICAgIC8vIGFkZGVkIHRvIGJvdGggdGhlIGNvbXBpbGF0aW9uIGFuZCBleHBvcnRlZCBzY29wZXMgb2YgdGhpcyBtb2R1bGUuXG4gICAgICAgICAgICBjb25zdCBleHBvcnRlZFNjb3BlID0gdHJhbnNpdGl2ZVNjb3Blc0ZvcihleHBvcnRlZFR5cGUpO1xuICAgICAgICAgICAgZXhwb3J0ZWRTY29wZS5leHBvcnRlZC5kaXJlY3RpdmVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChlbnRyeSk7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwb3J0ZWRTY29wZS5leHBvcnRlZC5waXBlcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24ucGlwZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQucGlwZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFBpcGVEZWYkMShleHBvcnRlZFR5cGUpKSB7XG4gICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQucGlwZXMuYWRkKGV4cG9ydGVkVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQuZGlyZWN0aXZlcy5hZGQoZXhwb3J0ZWRUeXBlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcyA9IHNjb3BlcztcbiAgICByZXR1cm4gc2NvcGVzO1xufVxuZnVuY3Rpb24gZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyh2YWx1ZSkge1xuICAgIGlmIChpc01vZHVsZVdpdGhQcm92aWRlcnModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5uZ01vZHVsZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNNb2R1bGVXaXRoUHJvdmlkZXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm5nTW9kdWxlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc05nTW9kdWxlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhZ2V0TmdNb2R1bGVEZWYodmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogS2VlcCB0cmFjayBvZiB0aGUgY29tcGlsYXRpb24gZGVwdGggdG8gYXZvaWQgcmVlbnRyYW5jeSBpc3N1ZXMgZHVyaW5nIEpJVCBjb21waWxhdGlvbi4gVGhpc1xuICogbWF0dGVycyBpbiB0aGUgZm9sbG93aW5nIHNjZW5hcmlvOlxuICpcbiAqIENvbnNpZGVyIGEgY29tcG9uZW50ICdBJyB0aGF0IGV4dGVuZHMgY29tcG9uZW50ICdCJywgYm90aCBkZWNsYXJlZCBpbiBtb2R1bGUgJ00nLiBEdXJpbmdcbiAqIHRoZSBjb21waWxhdGlvbiBvZiAnQScgdGhlIGRlZmluaXRpb24gb2YgJ0InIGlzIHJlcXVlc3RlZCB0byBjYXB0dXJlIHRoZSBpbmhlcml0YW5jZSBjaGFpbixcbiAqIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgY29tcGlsYXRpb24gb2YgJ0InLiBJZiB0aGlzIG5lc3RlZCBjb21waWxhdGlvbiB3ZXJlIHRvIHRyaWdnZXJcbiAqIGBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGVgIGl0IG1heSBoYXBwZW4gdGhhdCBtb2R1bGUgJ00nIGlzIHN0aWxsIHBlbmRpbmcgaW4gdGhlXG4gKiBxdWV1ZSwgcmVzdWx0aW5nIGluICdBJyBhbmQgJ0InIHRvIGJlIHBhdGNoZWQgd2l0aCB0aGUgTmdNb2R1bGUgc2NvcGUuIEFzIHRoZSBjb21waWxhdGlvbiBvZlxuICogJ0EnIGlzIHN0aWxsIGluIHByb2dyZXNzLCB0aGlzIHdvdWxkIGludHJvZHVjZSBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgb24gaXRzIGNvbXBpbGF0aW9uLiBUbyBhdm9pZFxuICogdGhpcyBpc3N1ZSwgdGhlIG1vZHVsZSBzY29wZSBxdWV1ZSBpcyBvbmx5IGZsdXNoZWQgZm9yIGNvbXBpbGF0aW9ucyBhdCB0aGUgZGVwdGggMCwgdG8gZW5zdXJlXG4gKiBhbGwgY29tcGlsYXRpb25zIGhhdmUgZmluaXNoZWQuXG4gKi9cbmxldCBjb21waWxhdGlvbkRlcHRoID0gMDtcbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGNvbXBvbmVudCBhY2NvcmRpbmcgdG8gaXRzIGRlY29yYXRvciBtZXRhZGF0YSwgYW5kIHBhdGNoIHRoZSByZXN1bHRpbmdcbiAqIGNvbXBvbmVudCBkZWYgKMm1Y21wKSBvbnRvIHRoZSBjb21wb25lbnQgdHlwZS5cbiAqXG4gKiBDb21waWxhdGlvbiBtYXkgYmUgYXN5bmNocm9ub3VzIChkdWUgdG8gdGhlIG5lZWQgdG8gcmVzb2x2ZSBVUkxzIGZvciB0aGUgY29tcG9uZW50IHRlbXBsYXRlIG9yXG4gKiBvdGhlciByZXNvdXJjZXMsIGZvciBleGFtcGxlKS4gSW4gdGhlIGV2ZW50IHRoYXQgY29tcGlsYXRpb24gaXMgbm90IGltbWVkaWF0ZSwgYGNvbXBpbGVDb21wb25lbnRgXG4gKiB3aWxsIGVucXVldWUgcmVzb3VyY2UgcmVzb2x1dGlvbiBpbnRvIGEgZ2xvYmFsIHF1ZXVlIGFuZCB3aWxsIGZhaWwgdG8gcmV0dXJuIHRoZSBgybVjbXBgXG4gKiB1bnRpbCB0aGUgZ2xvYmFsIHF1ZXVlIGhhcyBiZWVuIHJlc29sdmVkIHdpdGggYSBjYWxsIHRvIGByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzYC5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUNvbXBvbmVudCh0eXBlLCBtZXRhZGF0YSkge1xuICAgIC8vIEluaXRpYWxpemUgbmdEZXZNb2RlLiBUaGlzIG11c3QgYmUgdGhlIGZpcnN0IHN0YXRlbWVudCBpbiBjb21waWxlQ29tcG9uZW50LlxuICAgIC8vIFNlZSB0aGUgYGluaXROZ0Rldk1vZGVgIGRvY3N0cmluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCk7XG4gICAgbGV0IG5nQ29tcG9uZW50RGVmID0gbnVsbDtcbiAgICAvLyBNZXRhZGF0YSBtYXkgaGF2ZSByZXNvdXJjZXMgd2hpY2ggbmVlZCB0byBiZSByZXNvbHZlZC5cbiAgICBtYXliZVF1ZXVlUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzKHR5cGUsIG1ldGFkYXRhKTtcbiAgICAvLyBOb3RlIHRoYXQgd2UncmUgdXNpbmcgdGhlIHNhbWUgZnVuY3Rpb24gYXMgYERpcmVjdGl2ZWAsIGJlY2F1c2UgdGhhdCdzIG9ubHkgc3Vic2V0IG9mIG1ldGFkYXRhXG4gICAgLy8gdGhhdCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgbmdGYWN0b3J5RGVmLiBXZSdyZSBhdm9pZGluZyB1c2luZyB0aGUgY29tcG9uZW50IG1ldGFkYXRhXG4gICAgLy8gYmVjYXVzZSB3ZSdkIGhhdmUgdG8gcmVzb2x2ZSB0aGUgYXN5bmNocm9ub3VzIHRlbXBsYXRlcy5cbiAgICBhZGREaXJlY3RpdmVGYWN0b3J5RGVmKHR5cGUsIG1ldGFkYXRhKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfQ09NUF9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdDb21wb25lbnREZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnY29tcG9uZW50JywgdHlwZTogdHlwZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKG1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IFtgQ29tcG9uZW50ICcke3R5cGUubmFtZX0nIGlzIG5vdCByZXNvbHZlZDpgXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKGAgLSB0ZW1wbGF0ZVVybDogJHttZXRhZGF0YS50ZW1wbGF0ZVVybH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEuc3R5bGVVcmxzICYmIG1ldGFkYXRhLnN0eWxlVXJscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goYCAtIHN0eWxlVXJsczogJHtKU09OLnN0cmluZ2lmeShtZXRhZGF0YS5zdHlsZVVybHMpfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goYERpZCB5b3UgcnVuIGFuZCB3YWl0IGZvciAncmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcygpJz9gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb25zdCB3YXMgY2FsbGVkIGBqaXRPcHRpb25zYCBwcmV2aW91c2x5IGJ1dCBoYWQgdG8gYmUgcmVuYW1lZCB0byBgb3B0aW9uc2AgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIG9mIGEgYnVnIHdpdGggVGVyc2VyIHRoYXQgY2F1c2VkIG9wdGltaXplZCBKSVQgYnVpbGRzIHRvIHRocm93IGEgYFJlZmVyZW5jZUVycm9yYC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGJ1ZyB3YXMgaW52ZXN0aWdhdGVkIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXItY2xpL2lzc3Vlcy8xNzI2NC5cbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgbm90IHJlbmFtZSBpdCBiYWNrIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS90ZXJzZXIvdGVyc2VyL2lzc3Vlcy82MTUgaXMgZml4ZWQuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldEppdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBsZXQgcHJlc2VydmVXaGl0ZXNwYWNlcyA9IG1ldGFkYXRhLnByZXNlcnZlV2hpdGVzcGFjZXM7XG4gICAgICAgICAgICAgICAgaWYgKHByZXNlcnZlV2hpdGVzcGFjZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlcyA9IG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZW5jYXBzdWxhdGlvbiA9IG1ldGFkYXRhLmVuY2Fwc3VsYXRpb247XG4gICAgICAgICAgICAgICAgaWYgKGVuY2Fwc3VsYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY2Fwc3VsYXRpb24gPSBvcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9IFZpZXdFbmNhcHN1bGF0aW9uJDEuRW11bGF0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVVcmwgPSBtZXRhZGF0YS50ZW1wbGF0ZVVybCB8fCBgbmc6Ly8vJHt0eXBlLm5hbWV9L3RlbXBsYXRlLmh0bWxgO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZVNvdXJjZVNwYW46IGNvbXBpbGVyLmNyZWF0ZVBhcnNlU291cmNlU3BhbignQ29tcG9uZW50JywgdHlwZS5uYW1lLCB0ZW1wbGF0ZVVybCksXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBtZXRhZGF0YS50ZW1wbGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlcyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBtZXRhZGF0YS5zdHlsZXMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IG1ldGFkYXRhLmFuaW1hdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IG1ldGFkYXRhLmNoYW5nZURldGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcGlwZXM6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbjogbWV0YWRhdGEuaW50ZXJwb2xhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdmlld1Byb3ZpZGVyczogbWV0YWRhdGEudmlld1Byb3ZpZGVycyB8fCBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29tcGlsYXRpb25EZXB0aCsrO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhLnVzZXNJbmhlcml0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRGlyZWN0aXZlRGVmVG9VbmRlY29yYXRlZFBhcmVudHModHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmdDb21wb25lbnREZWYgPSBjb21waWxlci5jb21waWxlQ29tcG9uZW50KGFuZ3VsYXJDb3JlRW52LCB0ZW1wbGF0ZVVybCwgbWV0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgY29tcGlsYXRpb24gZGVwdGggaXMgZGVjcmVtZW50ZWQgZXZlbiB3aGVuIHRoZSBjb21waWxhdGlvbiBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGF0aW9uRGVwdGgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBpbGF0aW9uRGVwdGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBOZ01vZHVsZSBkZWNvcmF0b3IgZXhlY3V0ZWQsIHdlIGVucXVldWVkIHRoZSBtb2R1bGUgZGVmaW5pdGlvbiBzdWNoIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgd291bGQgb25seSBkZXF1ZXVlIGFuZCBhZGQgaXRzZWxmIGFzIG1vZHVsZSBzY29wZSB0byBhbGwgb2YgaXRzIGRlY2xhcmF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG9ubHkgaWYgIGlmIGFsbCBvZiBpdHMgZGVjbGFyYXRpb25zIGhhZCByZXNvbHZlZC4gVGhpcyBjYWxsIHJ1bnMgdGhlIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHNlZSBpZiBhbnkgbW9kdWxlcyB0aGF0IGFyZSBpbiB0aGUgcXVldWUgY2FuIGJlIGRlcXVldWVkIGFuZCBhZGQgc2NvcGUgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlaXIgZGVjbGFyYXRpb25zLlxuICAgICAgICAgICAgICAgICAgICBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgY29tcG9uZW50IGNvbXBpbGF0aW9uIGlzIGFzeW5jLCB0aGVuIHRoZSBATmdNb2R1bGUgYW5ub3RhdGlvbiB3aGljaCBkZWNsYXJlcyB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGV4ZWN1dGUgYW5kIHNldCBhbiBuZ1NlbGVjdG9yU2NvcGUgcHJvcGVydHkgb24gdGhlIGNvbXBvbmVudCB0eXBlLiBUaGlzXG4gICAgICAgICAgICAgICAgLy8gYWxsb3dzIHRoZSBjb21wb25lbnQgdG8gcGF0Y2ggaXRzZWxmIHdpdGggZGlyZWN0aXZlRGVmcyBmcm9tIHRoZSBtb2R1bGUgYWZ0ZXIgaXRcbiAgICAgICAgICAgICAgICAvLyBmaW5pc2hlcyBjb21waWxpbmcuXG4gICAgICAgICAgICAgICAgaWYgKGhhc1NlbGVjdG9yU2NvcGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVzID0gdHJhbnNpdGl2ZVNjb3Blc0Zvcih0eXBlLm5nU2VsZWN0b3JTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKG5nQ29tcG9uZW50RGVmLCBzY29wZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0NvbXBvbmVudERlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdG9yU2NvcGUoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudC5uZ1NlbGVjdG9yU2NvcGUgIT09IHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGRpcmVjdGl2ZSBhY2NvcmRpbmcgdG8gaXRzIGRlY29yYXRvciBtZXRhZGF0YSwgYW5kIHBhdGNoIHRoZSByZXN1bHRpbmdcbiAqIGRpcmVjdGl2ZSBkZWYgb250byB0aGUgY29tcG9uZW50IHR5cGUuXG4gKlxuICogSW4gdGhlIGV2ZW50IHRoYXQgY29tcGlsYXRpb24gaXMgbm90IGltbWVkaWF0ZSwgYGNvbXBpbGVEaXJlY3RpdmVgIHdpbGwgcmV0dXJuIGEgYFByb21pc2VgIHdoaWNoXG4gKiB3aWxsIHJlc29sdmUgd2hlbiBjb21waWxhdGlvbiBjb21wbGV0ZXMgYW5kIHRoZSBkaXJlY3RpdmUgYmVjb21lcyB1c2FibGUuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVEaXJlY3RpdmUodHlwZSwgZGlyZWN0aXZlKSB7XG4gICAgbGV0IG5nRGlyZWN0aXZlRGVmID0gbnVsbDtcbiAgICBhZGREaXJlY3RpdmVGYWN0b3J5RGVmKHR5cGUsIGRpcmVjdGl2ZSB8fCB7fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0RJUl9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdEaXJlY3RpdmVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBgZGlyZWN0aXZlYCBjYW4gYmUgbnVsbCBpbiB0aGUgY2FzZSBvZiBhYnN0cmFjdCBkaXJlY3RpdmVzIGFzIGEgYmFzZSBjbGFzc1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgdXNlIGBARGlyZWN0aXZlKClgIHdpdGggbm8gc2VsZWN0b3IuIEluIHRoYXQgY2FzZSwgcGFzcyBlbXB0eSBvYmplY3QgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gYGRpcmVjdGl2ZU1ldGFkYXRhYCBmdW5jdGlvbiBpbnN0ZWFkIG9mIG51bGwuXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGdldERpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIGRpcmVjdGl2ZSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdEaXJlY3RpdmVEZWYgPVxuICAgICAgICAgICAgICAgICAgICBjb21waWxlci5jb21waWxlRGlyZWN0aXZlKGFuZ3VsYXJDb3JlRW52LCBtZXRhLnNvdXJjZU1hcFVybCwgbWV0YS5tZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdEaXJlY3RpdmVEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXREaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSkge1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlICYmIHR5cGUubmFtZTtcbiAgICBjb25zdCBzb3VyY2VNYXBVcmwgPSBgbmc6Ly8vJHtuYW1lfS/JtWRpci5qc2A7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGUgfSk7XG4gICAgY29uc3QgZmFjYWRlID0gZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpO1xuICAgIGZhY2FkZS50eXBlU291cmNlU3BhbiA9IGNvbXBpbGVyLmNyZWF0ZVBhcnNlU291cmNlU3BhbignRGlyZWN0aXZlJywgbmFtZSwgc291cmNlTWFwVXJsKTtcbiAgICBpZiAoZmFjYWRlLnVzZXNJbmhlcml0YW5jZSkge1xuICAgICAgICBhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyh0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWV0YWRhdGE6IGZhY2FkZSwgc291cmNlTWFwVXJsIH07XG59XG5mdW5jdGlvbiBhZGREaXJlY3RpdmVGYWN0b3J5RGVmKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBnZXREaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke3R5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1ldGEubWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbWV0YS5tZXRhZGF0YS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nRmFjdG9yeURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGV4dGVuZHNEaXJlY3RseUZyb21PYmplY3QodHlwZSkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodHlwZS5wcm90b3R5cGUpID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuLyoqXG4gKiBFeHRyYWN0IHRoZSBgUjNEaXJlY3RpdmVNZXRhZGF0YWAgZm9yIGEgcGFydGljdWxhciBkaXJlY3RpdmUgKGVpdGhlciBhIGBEaXJlY3RpdmVgIG9yIGFcbiAqIGBDb21wb25lbnRgKS5cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpIHtcbiAgICAvLyBSZWZsZWN0IGlucHV0cyBhbmQgb3V0cHV0cy5cbiAgICBjb25zdCByZWZsZWN0ID0gZ2V0UmVmbGVjdCgpO1xuICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHJlZmxlY3Qub3duUHJvcE1ldGFkYXRhKHR5cGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgc2VsZWN0b3I6IG1ldGFkYXRhLnNlbGVjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhZGF0YS5zZWxlY3RvciA6IG51bGwsXG4gICAgICAgIGhvc3Q6IG1ldGFkYXRhLmhvc3QgfHwgRU1QVFlfT0JKLFxuICAgICAgICBwcm9wTWV0YWRhdGE6IHByb3BNZXRhZGF0YSxcbiAgICAgICAgaW5wdXRzOiBtZXRhZGF0YS5pbnB1dHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIG91dHB1dHM6IG1ldGFkYXRhLm91dHB1dHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIHF1ZXJpZXM6IGV4dHJhY3RRdWVyaWVzTWV0YWRhdGEodHlwZSwgcHJvcE1ldGFkYXRhLCBpc0NvbnRlbnRRdWVyeSksXG4gICAgICAgIGxpZmVjeWNsZTogeyB1c2VzT25DaGFuZ2VzOiByZWZsZWN0Lmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgJ25nT25DaGFuZ2VzJykgfSxcbiAgICAgICAgdHlwZVNvdXJjZVNwYW46IG51bGwsXG4gICAgICAgIHVzZXNJbmhlcml0YW5jZTogIWV4dGVuZHNEaXJlY3RseUZyb21PYmplY3QodHlwZSksXG4gICAgICAgIGV4cG9ydEFzOiBleHRyYWN0RXhwb3J0QXMobWV0YWRhdGEuZXhwb3J0QXMpLFxuICAgICAgICBwcm92aWRlcnM6IG1ldGFkYXRhLnByb3ZpZGVycyB8fCBudWxsLFxuICAgICAgICB2aWV3UXVlcmllczogZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzVmlld1F1ZXJ5KVxuICAgIH07XG59XG4vKipcbiAqIEFkZHMgYSBkaXJlY3RpdmUgZGVmaW5pdGlvbiB0byBhbGwgcGFyZW50IGNsYXNzZXMgb2YgYSB0eXBlIHRoYXQgZG9uJ3QgaGF2ZSBhbiBBbmd1bGFyIGRlY29yYXRvci5cbiAqL1xuZnVuY3Rpb24gYWRkRGlyZWN0aXZlRGVmVG9VbmRlY29yYXRlZFBhcmVudHModHlwZSkge1xuICAgIGNvbnN0IG9ialByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgbGV0IHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG4gICAgLy8gR28gdXAgdGhlIHByb3RvdHlwZSB1bnRpbCB3ZSBoaXQgYE9iamVjdGAuXG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IG9ialByb3RvdHlwZSkge1xuICAgICAgICAvLyBTaW5jZSBpbmhlcml0YW5jZSB3b3JrcyBpZiB0aGUgY2xhc3Mgd2FzIGFubm90YXRlZCBhbHJlYWR5LCB3ZSBvbmx5IG5lZWQgdG8gYWRkXG4gICAgICAgIC8vIHRoZSBkZWYgaWYgdGhlcmUgYXJlIG5vIGFubm90YXRpb25zIGFuZCB0aGUgZGVmIGhhc24ndCBiZWVuIGNyZWF0ZWQgYWxyZWFkeS5cbiAgICAgICAgaWYgKCFnZXREaXJlY3RpdmVEZWYocGFyZW50KSAmJiAhZ2V0Q29tcG9uZW50RGVmKHBhcmVudCkgJiZcbiAgICAgICAgICAgIHNob3VsZEFkZEFic3RyYWN0RGlyZWN0aXZlKHBhcmVudCkpIHtcbiAgICAgICAgICAgIGNvbXBpbGVEaXJlY3RpdmUocGFyZW50LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGFyZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9SM1F1ZXJ5UHJlZGljYXRlKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycgPyBzcGxpdEJ5Q29tbWEoc2VsZWN0b3IpIDogcmVzb2x2ZUZvcndhcmRSZWYoc2VsZWN0b3IpO1xufVxuZnVuY3Rpb24gY29udmVydFRvUjNRdWVyeU1ldGFkYXRhKHByb3BlcnR5TmFtZSwgYW5uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsXG4gICAgICAgIHByZWRpY2F0ZTogY29udmVydFRvUjNRdWVyeVByZWRpY2F0ZShhbm4uc2VsZWN0b3IpLFxuICAgICAgICBkZXNjZW5kYW50czogYW5uLmRlc2NlbmRhbnRzLFxuICAgICAgICBmaXJzdDogYW5uLmZpcnN0LFxuICAgICAgICByZWFkOiBhbm4ucmVhZCA/IGFubi5yZWFkIDogbnVsbCxcbiAgICAgICAgc3RhdGljOiAhIWFubi5zdGF0aWMsXG4gICAgICAgIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OiAhIWFubi5lbWl0RGlzdGluY3RDaGFuZ2VzT25seSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzUXVlcnlBbm4pIHtcbiAgICBjb25zdCBxdWVyaWVzTWV0YSA9IFtdO1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gcHJvcE1ldGFkYXRhKSB7XG4gICAgICAgIGlmIChwcm9wTWV0YWRhdGEuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IHByb3BNZXRhZGF0YVtmaWVsZF07XG4gICAgICAgICAgICBhbm5vdGF0aW9ucy5mb3JFYWNoKGFubiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUXVlcnlBbm4oYW5uKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFubi5zZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBjb25zdHJ1Y3QgYSBxdWVyeSBmb3IgdGhlIHByb3BlcnR5IFwiJHtmaWVsZH1cIiBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXCIke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfVwiIHNpbmNlIHRoZSBxdWVyeSBzZWxlY3RvciB3YXNuJ3QgZGVmaW5lZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ub3RhdGlvbnMuc29tZShpc0lucHV0QW5ub3RhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbWJpbmUgQElucHV0IGRlY29yYXRvcnMgd2l0aCBxdWVyeSBkZWNvcmF0b3JzYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcXVlcmllc01ldGEucHVzaChjb252ZXJ0VG9SM1F1ZXJ5TWV0YWRhdGEoZmllbGQsIGFubikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyaWVzTWV0YTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RFeHBvcnRBcyhleHBvcnRBcykge1xuICAgIHJldHVybiBleHBvcnRBcyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHNwbGl0QnlDb21tYShleHBvcnRBcyk7XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRRdWVyeSh2YWx1ZSkge1xuICAgIGNvbnN0IG5hbWUgPSB2YWx1ZS5uZ01ldGFkYXRhTmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ0NvbnRlbnRDaGlsZCcgfHwgbmFtZSA9PT0gJ0NvbnRlbnRDaGlsZHJlbic7XG59XG5mdW5jdGlvbiBpc1ZpZXdRdWVyeSh2YWx1ZSkge1xuICAgIGNvbnN0IG5hbWUgPSB2YWx1ZS5uZ01ldGFkYXRhTmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ1ZpZXdDaGlsZCcgfHwgbmFtZSA9PT0gJ1ZpZXdDaGlsZHJlbic7XG59XG5mdW5jdGlvbiBpc0lucHV0QW5ub3RhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5uZ01ldGFkYXRhTmFtZSA9PT0gJ0lucHV0Jztcbn1cbmZ1bmN0aW9uIHNwbGl0QnlDb21tYSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnLCcpLm1hcChwaWVjZSA9PiBwaWVjZS50cmltKCkpO1xufVxuY29uc3QgTElGRUNZQ0xFX0hPT0tTID0gW1xuICAgICduZ09uQ2hhbmdlcycsICduZ09uSW5pdCcsICduZ09uRGVzdHJveScsICduZ0RvQ2hlY2snLCAnbmdBZnRlclZpZXdJbml0JywgJ25nQWZ0ZXJWaWV3Q2hlY2tlZCcsXG4gICAgJ25nQWZ0ZXJDb250ZW50SW5pdCcsICduZ0FmdGVyQ29udGVudENoZWNrZWQnXG5dO1xuZnVuY3Rpb24gc2hvdWxkQWRkQWJzdHJhY3REaXJlY3RpdmUodHlwZSkge1xuICAgIGNvbnN0IHJlZmxlY3QgPSBnZXRSZWZsZWN0KCk7XG4gICAgaWYgKExJRkVDWUNMRV9IT09LUy5zb21lKGhvb2tOYW1lID0+IHJlZmxlY3QuaGFzTGlmZWN5Y2xlSG9vayh0eXBlLCBob29rTmFtZSkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSByZWZsZWN0LnByb3BNZXRhZGF0YSh0eXBlKTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIHByb3BNZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IHByb3BNZXRhZGF0YVtmaWVsZF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhbm5vdGF0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhTmFtZSA9IGN1cnJlbnQubmdNZXRhZGF0YU5hbWU7XG4gICAgICAgICAgICBpZiAoaXNJbnB1dEFubm90YXRpb24oY3VycmVudCkgfHwgaXNDb250ZW50UXVlcnkoY3VycmVudCkgfHwgaXNWaWV3UXVlcnkoY3VycmVudCkgfHxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YU5hbWUgPT09ICdPdXRwdXQnIHx8IG1ldGFkYXRhTmFtZSA9PT0gJ0hvc3RCaW5kaW5nJyB8fFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhTmFtZSA9PT0gJ0hvc3RMaXN0ZW5lcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gY29tcGlsZVBpcGUodHlwZSwgbWV0YSkge1xuICAgIGxldCBuZ1BpcGVEZWYgPSBudWxsO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0ZhY3RvcnlEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGdldFBpcGVNZXRhZGF0YSh0eXBlLCBtZXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAncGlwZScsIHR5cGU6IG1ldGFkYXRhLnR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21ldGFkYXRhLm5hbWV9L8m1ZmFjLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZXRhZGF0YS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LlBpcGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX1BJUEVfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nUGlwZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0UGlwZU1ldGFkYXRhKHR5cGUsIG1ldGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdwaXBlJywgdHlwZTogbWV0YWRhdGEudHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ1BpcGVEZWYgPVxuICAgICAgICAgICAgICAgICAgICBjb21waWxlci5jb21waWxlUGlwZShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bWV0YWRhdGEubmFtZX0vybVwaXBlLmpzYCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nUGlwZURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBpcGVNZXRhZGF0YSh0eXBlLCBtZXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICBwaXBlTmFtZTogbWV0YS5uYW1lLFxuICAgICAgICBwdXJlOiBtZXRhLnB1cmUgIT09IHVuZGVmaW5lZCA/IG1ldGEucHVyZSA6IHRydWVcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVHlwZSBvZiB0aGUgRGlyZWN0aXZlIG1ldGFkYXRhLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgRGlyZWN0aXZlID0gbWFrZURlY29yYXRvcignRGlyZWN0aXZlJywgKGRpciA9IHt9KSA9PiBkaXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAodHlwZSwgbWV0YSkgPT4gY29tcGlsZURpcmVjdGl2ZSh0eXBlLCBtZXRhKSk7XG4vKipcbiAqIENvbXBvbmVudCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENvbXBvbmVudCA9IG1ha2VEZWNvcmF0b3IoJ0NvbXBvbmVudCcsIChjID0ge30pID0+ICh7IGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCwgLi4uYyB9KSwgRGlyZWN0aXZlLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlQ29tcG9uZW50KHR5cGUsIG1ldGEpKTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUGlwZSA9IG1ha2VEZWNvcmF0b3IoJ1BpcGUnLCAocCkgPT4gKHsgcHVyZTogdHJ1ZSwgLi4ucCB9KSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlUGlwZSh0eXBlLCBtZXRhKSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IElucHV0ID0gbWFrZVByb3BEZWNvcmF0b3IoJ0lucHV0JywgKGJpbmRpbmdQcm9wZXJ0eU5hbWUpID0+ICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBPdXRwdXQgPSBtYWtlUHJvcERlY29yYXRvcignT3V0cHV0JywgKGJpbmRpbmdQcm9wZXJ0eU5hbWUpID0+ICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBIb3N0QmluZGluZyA9IG1ha2VQcm9wRGVjb3JhdG9yKCdIb3N0QmluZGluZycsIChob3N0UHJvcGVydHlOYW1lKSA9PiAoeyBob3N0UHJvcGVydHlOYW1lIH0pKTtcbi8qKlxuICogRGVjb3JhdG9yIHRoYXQgYmluZHMgYSBET00gZXZlbnQgdG8gYSBob3N0IGxpc3RlbmVyIGFuZCBzdXBwbGllcyBjb25maWd1cmF0aW9uIG1ldGFkYXRhLlxuICogQW5ndWxhciBpbnZva2VzIHRoZSBzdXBwbGllZCBoYW5kbGVyIG1ldGhvZCB3aGVuIHRoZSBob3N0IGVsZW1lbnQgZW1pdHMgdGhlIHNwZWNpZmllZCBldmVudCxcbiAqIGFuZCB1cGRhdGVzIHRoZSBib3VuZCBlbGVtZW50IHdpdGggdGhlIHJlc3VsdC5cbiAqXG4gKiBJZiB0aGUgaGFuZGxlciBtZXRob2QgcmV0dXJucyBmYWxzZSwgYXBwbGllcyBgcHJldmVudERlZmF1bHRgIG9uIHRoZSBib3VuZCBlbGVtZW50LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlY2xhcmVzIGEgZGlyZWN0aXZlXG4gKiB0aGF0IGF0dGFjaGVzIGEgY2xpY2sgbGlzdGVuZXIgdG8gYSBidXR0b24gYW5kIGNvdW50cyBjbGlja3MuXG4gKlxuICogYGBgdHNcbiAqIEBEaXJlY3RpdmUoe3NlbGVjdG9yOiAnYnV0dG9uW2NvdW50aW5nXSd9KVxuICogY2xhc3MgQ291bnRDbGlja3Mge1xuICogICBudW1iZXJPZkNsaWNrcyA9IDA7XG4gKlxuICogICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50LnRhcmdldCddKVxuICogICBvbkNsaWNrKGJ0bikge1xuICogICAgIGNvbnNvbGUubG9nKCdidXR0b24nLCBidG4sICdudW1iZXIgb2YgY2xpY2tzOicsIHRoaXMubnVtYmVyT2ZDbGlja3MrKyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogJzxidXR0b24gY291bnRpbmc+SW5jcmVtZW50PC9idXR0b24+JyxcbiAqIH0pXG4gKiBjbGFzcyBBcHAge31cbiAqXG4gKiBgYGBcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgcmVnaXN0ZXJzIGFub3RoZXIgRE9NIGV2ZW50IGhhbmRsZXIgdGhhdCBsaXN0ZW5zIGZvciBgRW50ZXJgIGtleS1wcmVzc1xuICogZXZlbnRzIG9uIHRoZSBnbG9iYWwgYHdpbmRvd2AuXG4gKiBgYGAgdHNcbiAqIGltcG9ydCB7IEhvc3RMaXN0ZW5lciwgQ29tcG9uZW50IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYDxoMT5IZWxsbywgeW91IGhhdmUgcHJlc3NlZCBlbnRlciB7e2NvdW50ZXJ9fSBudW1iZXIgb2YgdGltZXMhPC9oMT4gUHJlc3MgZW50ZXIga2V5XG4gKiB0byBpbmNyZW1lbnQgdGhlIGNvdW50ZXIuXG4gKiAgIDxidXR0b24gKGNsaWNrKT1cInJlc2V0Q291bnRlcigpXCI+UmVzZXQgQ291bnRlcjwvYnV0dG9uPmBcbiAqIH0pXG4gKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICogICBjb3VudGVyID0gMDtcbiAqICAgQEhvc3RMaXN0ZW5lcignd2luZG93OmtleWRvd24uZW50ZXInLCBbJyRldmVudCddKVxuICogICBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gKiAgICAgdGhpcy5jb3VudGVyKys7XG4gKiAgIH1cbiAqICAgcmVzZXRDb3VudGVyKCkge1xuICogICAgIHRoaXMuY291bnRlciA9IDA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogVGhlIGxpc3Qgb2YgdmFsaWQga2V5IG5hbWVzIGZvciBga2V5ZG93bmAgYW5kIGBrZXl1cGAgZXZlbnRzXG4gKiBjYW4gYmUgZm91bmQgaGVyZTpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMta2V5LyNuYW1lZC1rZXktYXR0cmlidXRlLXZhbHVlc1xuICpcbiAqIE5vdGUgdGhhdCBrZXlzIGNhbiBhbHNvIGJlIGNvbWJpbmVkLCBlLmcuIGBASG9zdExpc3RlbmVyKCdrZXlkb3duLnNoaWZ0LmEnKWAuXG4gKlxuICogVGhlIGdsb2JhbCB0YXJnZXQgbmFtZXMgdGhhdCBjYW4gYmUgdXNlZCB0byBwcmVmaXggYW4gZXZlbnQgbmFtZSBhcmVcbiAqIGBkb2N1bWVudDpgLCBgd2luZG93OmAgYW5kIGBib2R5OmAuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSG9zdExpc3RlbmVyID0gbWFrZVByb3BEZWNvcmF0b3IoJ0hvc3RMaXN0ZW5lcicsIChldmVudE5hbWUsIGFyZ3MpID0+ICh7IGV2ZW50TmFtZSwgYXJncyB9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBOZ01vZHVsZSA9IG1ha2VEZWNvcmF0b3IoJ05nTW9kdWxlJywgKG5nTW9kdWxlKSA9PiBuZ01vZHVsZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFxuLyoqXG4gKiBEZWNvcmF0b3IgdGhhdCBtYXJrcyB0aGUgZm9sbG93aW5nIGNsYXNzIGFzIGFuIE5nTW9kdWxlLCBhbmQgc3VwcGxpZXNcbiAqIGNvbmZpZ3VyYXRpb24gbWV0YWRhdGEgZm9yIGl0LlxuICpcbiAqICogVGhlIGBkZWNsYXJhdGlvbnNgIGFuZCBgZW50cnlDb21wb25lbnRzYCBvcHRpb25zIGNvbmZpZ3VyZSB0aGUgY29tcGlsZXJcbiAqIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBiZWxvbmdzIHRvIHRoZSBOZ01vZHVsZS5cbiAqICogVGhlIGBwcm92aWRlcnNgIG9wdGlvbnMgY29uZmlndXJlcyB0aGUgTmdNb2R1bGUncyBpbmplY3RvciB0byBwcm92aWRlXG4gKiBkZXBlbmRlbmNpZXMgdGhlIE5nTW9kdWxlIG1lbWJlcnMuXG4gKiAqIFRoZSBgaW1wb3J0c2AgYW5kIGBleHBvcnRzYCBvcHRpb25zIGJyaW5nIGluIG1lbWJlcnMgZnJvbSBvdGhlciBtb2R1bGVzLCBhbmQgbWFrZVxuICogdGhpcyBtb2R1bGUncyBtZW1iZXJzIGF2YWlsYWJsZSB0byBvdGhlcnMuXG4gKi9cbih0eXBlLCBtZXRhKSA9PiBjb21waWxlTmdNb2R1bGUodHlwZSwgbWV0YSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9vcCguLi5hcmdzKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBleGlzdGVuY2Ugb2YgdGhpcyBjb25zdGFudCAoaW4gdGhpcyBwYXJ0aWN1bGFyIGZpbGUpIGluZm9ybXMgdGhlIEFuZ3VsYXIgY29tcGlsZXIgdGhhdCB0aGVcbiAqIGN1cnJlbnQgcHJvZ3JhbSBpcyBhY3R1YWxseSBAYW5ndWxhci9jb3JlLCB3aGljaCBuZWVkcyB0byBiZSBjb21waWxlZCBzcGVjaWFsbHkuXG4gKi9cbmNvbnN0IElUU19KVVNUX0FOR1VMQVIgPSB0cnVlO1xuXG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgdGhhdCB5b3UgY2FuIHVzZSB0byBwcm92aWRlXG4gKiBvbmUgb3IgbW9yZSBpbml0aWFsaXphdGlvbiBmdW5jdGlvbnMuXG4gKlxuICogVGhlIHByb3ZpZGVkIGZ1bmN0aW9ucyBhcmUgaW5qZWN0ZWQgYXQgYXBwbGljYXRpb24gc3RhcnR1cCBhbmQgZXhlY3V0ZWQgZHVyaW5nXG4gKiBhcHAgaW5pdGlhbGl6YXRpb24uIElmIGFueSBvZiB0aGVzZSBmdW5jdGlvbnMgcmV0dXJucyBhIFByb21pc2Ugb3IgYW4gT2JzZXJ2YWJsZSwgaW5pdGlhbGl6YXRpb25cbiAqIGRvZXMgbm90IGNvbXBsZXRlIHVudGlsIHRoZSBQcm9taXNlIGlzIHJlc29sdmVkIG9yIHRoZSBPYnNlcnZhYmxlIGlzIGNvbXBsZXRlZC5cbiAqXG4gKiBZb3UgY2FuLCBmb3IgZXhhbXBsZSwgY3JlYXRlIGEgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IGxvYWRzIGxhbmd1YWdlIGRhdGFcbiAqIG9yIGFuIGV4dGVybmFsIGNvbmZpZ3VyYXRpb24sIGFuZCBwcm92aWRlIHRoYXQgZnVuY3Rpb24gdG8gdGhlIGBBUFBfSU5JVElBTElaRVJgIHRva2VuLlxuICogVGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGR1cmluZyB0aGUgYXBwbGljYXRpb24gYm9vdHN0cmFwIHByb2Nlc3MsXG4gKiBhbmQgdGhlIG5lZWRlZCBkYXRhIGlzIGF2YWlsYWJsZSBvbiBzdGFydHVwLlxuICpcbiAqIEBzZWUgYEFwcGxpY2F0aW9uSW5pdFN0YXR1c2BcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBpbGx1c3RyYXRlcyBob3cgdG8gY29uZmlndXJlIGEgbXVsdGktcHJvdmlkZXIgdXNpbmcgYEFQUF9JTklUSUFMSVpFUmAgdG9rZW5cbiAqIGFuZCBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHByb21pc2UuXG4gKlxuICogYGBgXG4gKiAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcCgpOiBQcm9taXNlPGFueT4ge1xuICogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAqICAgICAgLy8gRG8gc29tZSBhc3luY2hyb25vdXMgc3R1ZmZcbiAqICAgICAgcmVzb2x2ZSgpO1xuICogICAgfSk7XG4gKiAgfVxuICpcbiAqICBATmdNb2R1bGUoe1xuICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV0sXG4gKiAgIGRlY2xhcmF0aW9uczogW0FwcENvbXBvbmVudF0sXG4gKiAgIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sXG4gKiAgIHByb3ZpZGVyczogW3tcbiAqICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXG4gKiAgICAgdXNlRmFjdG9yeTogKCkgPT4gaW5pdGlhbGl6ZUFwcCxcbiAqICAgICBtdWx0aTogdHJ1ZVxuICogICAgfV1cbiAqICAgfSlcbiAqICBleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHt9XG4gKiBgYGBcbiAqXG4gKiBJdCdzIGFsc28gcG9zc2libGUgdG8gY29uZmlndXJlIGEgbXVsdGktcHJvdmlkZXIgdXNpbmcgYEFQUF9JTklUSUFMSVpFUmAgdG9rZW4gYW5kIGEgZnVuY3Rpb25cbiAqIHJldHVybmluZyBhbiBvYnNlcnZhYmxlLCBzZWUgYW4gZXhhbXBsZSBiZWxvdy4gTm90ZTogdGhlIGBIdHRwQ2xpZW50YCBpbiB0aGlzIGV4YW1wbGUgaXMgdXNlZCBmb3JcbiAqIGRlbW8gcHVycG9zZXMgdG8gaWxsdXN0cmF0ZSBob3cgdGhlIGZhY3RvcnkgZnVuY3Rpb24gY2FuIHdvcmsgd2l0aCBvdGhlciBwcm92aWRlcnMgYXZhaWxhYmxlXG4gKiB0aHJvdWdoIERJLlxuICpcbiAqIGBgYFxuICogIGZ1bmN0aW9uIGluaXRpYWxpemVBcHBGYWN0b3J5KGh0dHBDbGllbnQ6IEh0dHBDbGllbnQpOiAoKSA9PiBPYnNlcnZhYmxlPGFueT4ge1xuICogICByZXR1cm4gKCkgPT4gaHR0cENsaWVudC5nZXQoXCJodHRwczovL3NvbWVVcmwuY29tL2FwaS91c2VyXCIpXG4gKiAgICAgLnBpcGUoXG4gKiAgICAgICAgdGFwKHVzZXIgPT4geyAuLi4gfSlcbiAqICAgICApO1xuICogIH1cbiAqXG4gKiAgQE5nTW9kdWxlKHtcbiAqICAgIGltcG9ydHM6IFtCcm93c2VyTW9kdWxlLCBIdHRwQ2xpZW50TW9kdWxlXSxcbiAqICAgIGRlY2xhcmF0aW9uczogW0FwcENvbXBvbmVudF0sXG4gKiAgICBib290c3RyYXA6IFtBcHBDb21wb25lbnRdLFxuICogICAgcHJvdmlkZXJzOiBbe1xuICogICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXG4gKiAgICAgIHVzZUZhY3Rvcnk6IGluaXRpYWxpemVBcHBGYWN0b3J5LFxuICogICAgICBkZXBzOiBbSHR0cENsaWVudF0sXG4gKiAgICAgIG11bHRpOiB0cnVlXG4gKiAgICB9XVxuICogIH0pXG4gKiAgZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBUFBfSU5JVElBTElaRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FwcGxpY2F0aW9uIEluaXRpYWxpemVyJyk7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCByZWZsZWN0cyB0aGUgc3RhdGUgb2YgcnVubmluZyB7QGxpbmsgQVBQX0lOSVRJQUxJWkVSfSBmdW5jdGlvbnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBBcHBsaWNhdGlvbkluaXRTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKGFwcEluaXRzKSB7XG4gICAgICAgIHRoaXMuYXBwSW5pdHMgPSBhcHBJbml0cztcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gbm9vcDtcbiAgICAgICAgdGhpcy5yZWplY3QgPSBub29wO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbmVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlajtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBydW5Jbml0aWFsaXplcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXN5bmNJbml0UHJvbWlzZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmFwcEluaXRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXBwSW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0UmVzdWx0ID0gdGhpcy5hcHBJbml0c1tpXSgpO1xuICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2UoaW5pdFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJbml0UHJvbWlzZXMucHVzaChpbml0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlKGluaXRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmFibGVBc1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0UmVzdWx0LnN1YnNjcmliZSh7IGNvbXBsZXRlOiByZXNvbHZlLCBlcnJvcjogcmVqZWN0IH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJbml0UHJvbWlzZXMucHVzaChvYnNlcnZhYmxlQXNQcm9taXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5hbGwoYXN5bmNJbml0UHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXN5bmNJbml0UHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbn1cbkFwcGxpY2F0aW9uSW5pdFN0YXR1cy7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uSW5pdFN0YXR1c19GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBBcHBsaWNhdGlvbkluaXRTdGF0dXMpKMm1ybVpbmplY3QoQVBQX0lOSVRJQUxJWkVSLCA4KSk7IH07XG5BcHBsaWNhdGlvbkluaXRTdGF0dXMuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIGZhY3Rvcnk6IEFwcGxpY2F0aW9uSW5pdFN0YXR1cy7JtWZhYywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuKGZ1bmN0aW9uICgpIHsgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgW3tcbiAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgYXJnczogW0FQUF9JTklUSUFMSVpFUl1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgfV0gfV07IH0sIG51bGwpOyB9KSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSByZXByZXNlbnRpbmcgYSB1bmlxdWUgc3RyaW5nIElELCB1c2VkXG4gKiBwcmltYXJpbHkgZm9yIHByZWZpeGluZyBhcHBsaWNhdGlvbiBhdHRyaWJ1dGVzIGFuZCBDU1Mgc3R5bGVzIHdoZW5cbiAqIHtAbGluayBWaWV3RW5jYXBzdWxhdGlvbiNFbXVsYXRlZCBWaWV3RW5jYXBzdWxhdGlvbi5FbXVsYXRlZH0gaXMgYmVpbmcgdXNlZC5cbiAqXG4gKiBCWSBkZWZhdWx0LCB0aGUgdmFsdWUgaXMgcmFuZG9tbHkgZ2VuZXJhdGVkIGFuZCBhc3NpZ25lZCB0byB0aGUgYXBwbGljYXRpb24gYnkgQW5ndWxhci5cbiAqIFRvIHByb3ZpZGUgYSBjdXN0b20gSUQgdmFsdWUsIHVzZSBhIERJIHByb3ZpZGVyIDwhLS0gVE9ETzogcHJvdmlkZXIgLS0+IHRvIGNvbmZpZ3VyZVxuICogdGhlIHJvb3Qge0BsaW5rIEluamVjdG9yfSB0aGF0IHVzZXMgdGhpcyB0b2tlbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwSWQnLCB7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgIGZhY3Rvcnk6IF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSxcbn0pO1xuZnVuY3Rpb24gX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5KCkge1xuICAgIHJldHVybiBgJHtfcmFuZG9tQ2hhcigpfSR7X3JhbmRvbUNoYXIoKX0ke19yYW5kb21DaGFyKCl9YDtcbn1cbi8qKlxuICogUHJvdmlkZXJzIHRoYXQgZ2VuZXJhdGUgYSByYW5kb20gYEFQUF9JRF9UT0tFTmAuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9JRF9SQU5ET01fUFJPVklERVIgPSB7XG4gICAgcHJvdmlkZTogQVBQX0lELFxuICAgIHVzZUZhY3Rvcnk6IF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSxcbiAgICBkZXBzOiBbXSxcbn07XG5mdW5jdGlvbiBfcmFuZG9tQ2hhcigpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1KSk7XG59XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBpcyBleGVjdXRlZCB3aGVuIGEgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFBMQVRGT1JNX0lOSVRJQUxJWkVSID0gbmV3IEluamVjdGlvblRva2VuKCdQbGF0Zm9ybSBJbml0aWFsaXplcicpO1xuLyoqXG4gKiBBIHRva2VuIHRoYXQgaW5kaWNhdGVzIGFuIG9wYXF1ZSBwbGF0Zm9ybSBJRC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUExBVEZPUk1fSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1BsYXRmb3JtIElEJyk7XG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgdGhhdCBwcm92aWRlcyBhIHNldCBvZiBjYWxsYmFja3MgdG9cbiAqIGJlIGNhbGxlZCBmb3IgZXZlcnkgY29tcG9uZW50IHRoYXQgaXMgYm9vdHN0cmFwcGVkLlxuICpcbiAqIEVhY2ggY2FsbGJhY2sgbXVzdCB0YWtlIGEgYENvbXBvbmVudFJlZmAgaW5zdGFuY2UgYW5kIHJldHVybiBub3RoaW5nLlxuICpcbiAqIGAoY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWYpID0+IHZvaWRgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBUFBfQk9PVFNUUkFQX0xJU1RFTkVSID0gbmV3IEluamVjdGlvblRva2VuKCdhcHBCb290c3RyYXBMaXN0ZW5lcicpO1xuLyoqXG4gKiBBIFtESSB0b2tlbl0oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4gXCJESSB0b2tlbiBkZWZpbml0aW9uXCIpIHRoYXQgaW5kaWNhdGVzIHRoZSByb290IGRpcmVjdG9yeSBvZlxuICogdGhlIGFwcGxpY2F0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFBBQ0tBR0VfUk9PVF9VUkwgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FwcGxpY2F0aW9uIFBhY2thZ2VzIFJvb3QgVVJMJyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgQ29uc29sZSB7XG4gICAgbG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfVxuICAgIC8vIE5vdGU6IGZvciByZXBvcnRpbmcgZXJyb3JzIHVzZSBgRE9NLmxvZ0Vycm9yKClgIGFzIGl0IGlzIHBsYXRmb3JtIHNwZWNpZmljXG4gICAgd2FybihtZXNzYWdlKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9XG59XG5Db25zb2xlLsm1ZmFjID0gZnVuY3Rpb24gQ29uc29sZV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBDb25zb2xlKSgpOyB9O1xuQ29uc29sZS7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IENvbnNvbGUsIGZhY3Rvcnk6IENvbnNvbGUuybVmYWMgfSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQ29uc29sZSwgW3tcbiAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgIH1dLCBudWxsLCBudWxsKTsgfSkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFdvcmsgb3V0IHRoZSBsb2NhbGUgZnJvbSB0aGUgcG90ZW50aWFsIGdsb2JhbCBwcm9wZXJ0aWVzLlxuICpcbiAqICogQ2xvc3VyZSBDb21waWxlcjogdXNlIGBnb29nLmdldExvY2FsZSgpYC5cbiAqICogSXZ5IGVuYWJsZWQ6IHVzZSBgJGxvY2FsaXplLmxvY2FsZWBcbiAqL1xuZnVuY3Rpb24gZ2V0R2xvYmFsTG9jYWxlKCkge1xuICAgIGlmICh0eXBlb2YgbmdJMThuQ2xvc3VyZU1vZGUgIT09ICd1bmRlZmluZWQnICYmIG5nSTE4bkNsb3N1cmVNb2RlICYmXG4gICAgICAgIHR5cGVvZiBnb29nICE9PSAndW5kZWZpbmVkJyAmJiBnb29nLmdldExvY2FsZSgpICE9PSAnZW4nKSB7XG4gICAgICAgIC8vICogVGhlIGRlZmF1bHQgYGdvb2cuZ2V0TG9jYWxlKClgIHZhbHVlIGlzIGBlbmAsIHdoaWxlIEFuZ3VsYXIgdXNlZCBgZW4tVVNgLlxuICAgICAgICAvLyAqIEluIG9yZGVyIHRvIHByZXNlcnZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSB1c2UgQW5ndWxhciBkZWZhdWx0IHZhbHVlIG92ZXJcbiAgICAgICAgLy8gICBDbG9zdXJlIENvbXBpbGVyJ3Mgb25lLlxuICAgICAgICByZXR1cm4gZ29vZy5nZXRMb2NhbGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEtFRVAgYHR5cGVvZiAkbG9jYWxpemUgIT09ICd1bmRlZmluZWQnICYmICRsb2NhbGl6ZS5sb2NhbGVgIElOIFNZTkMgV0lUSCBUSEUgTE9DQUxJWkVcbiAgICAgICAgLy8gQ09NUElMRS1USU1FIElOTElORVIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICogRHVyaW5nIGNvbXBpbGUgdGltZSBpbmxpbmluZyBvZiB0cmFuc2xhdGlvbnMgdGhlIGV4cHJlc3Npb24gd2lsbCBiZSByZXBsYWNlZFxuICAgICAgICAvLyAgIHdpdGggYSBzdHJpbmcgbGl0ZXJhbCB0aGF0IGlzIHRoZSBjdXJyZW50IGxvY2FsZS4gT3RoZXIgZm9ybXMgb2YgdGhpcyBleHByZXNzaW9uIGFyZSBub3RcbiAgICAgICAgLy8gICBndWFyYW50ZWVkIHRvIGJlIHJlcGxhY2VkLlxuICAgICAgICAvL1xuICAgICAgICAvLyAqIER1cmluZyBydW50aW1lIHRyYW5zbGF0aW9uIGV2YWx1YXRpb24sIHRoZSBkZXZlbG9wZXIgaXMgcmVxdWlyZWQgdG8gc2V0IGAkbG9jYWxpemUubG9jYWxlYFxuICAgICAgICAvLyAgIGlmIHJlcXVpcmVkLCBvciBqdXN0IHRvIHByb3ZpZGUgdGhlaXIgb3duIGBMT0NBTEVfSURgIHByb3ZpZGVyLlxuICAgICAgICByZXR1cm4gKHR5cGVvZiAkbG9jYWxpemUgIT09ICd1bmRlZmluZWQnICYmICRsb2NhbGl6ZS5sb2NhbGUpIHx8IERFRkFVTFRfTE9DQUxFX0lEO1xuICAgIH1cbn1cbi8qKlxuICogUHJvdmlkZSB0aGlzIHRva2VuIHRvIHNldCB0aGUgbG9jYWxlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gKiBJdCBpcyB1c2VkIGZvciBpMThuIGV4dHJhY3Rpb24sIGJ5IGkxOG4gcGlwZXMgKERhdGVQaXBlLCBJMThuUGx1cmFsUGlwZSwgQ3VycmVuY3lQaXBlLFxuICogRGVjaW1hbFBpcGUgYW5kIFBlcmNlbnRQaXBlKSBhbmQgYnkgSUNVIGV4cHJlc3Npb25zLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLWxvY2FsZS1pZCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgTE9DQUxFX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBMT0NBTEVfSUQsIHVzZVZhbHVlOiAnZW4tVVMnIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgTE9DQUxFX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdMb2NhbGVJZCcsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogKCkgPT4gaW5qZWN0KExPQ0FMRV9JRCwgSW5qZWN0RmxhZ3MuT3B0aW9uYWwgfCBJbmplY3RGbGFncy5Ta2lwU2VsZikgfHwgZ2V0R2xvYmFsTG9jYWxlKCksXG59KTtcbi8qKlxuICogUHJvdmlkZSB0aGlzIHRva2VuIHRvIHNldCB0aGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIHlvdXIgYXBwbGljYXRpb24gdXNlcyBmb3JcbiAqIEN1cnJlbmN5UGlwZSB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbmN5IGNvZGUgcGFzc2VkIGludG8gaXQuIFRoaXMgaXMgb25seSB1c2VkIGJ5XG4gKiBDdXJyZW5jeVBpcGUgYW5kIGhhcyBubyByZWxhdGlvbiB0byBsb2NhbGUgY3VycmVuY3kuIERlZmF1bHRzIHRvIFVTRCBpZiBub3QgY29uZmlndXJlZC5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuLWNvbW1vbi1sb2NhbGUtaWQpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBpcy1oZWxwZnVsXCI+XG4gKlxuICogKipEZXByZWNhdGlvbiBub3RpY2U6KipcbiAqXG4gKiBUaGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIGlzIGN1cnJlbnRseSBhbHdheXMgYFVTRGAgYnV0IHRoaXMgaXMgZGVwcmVjYXRlZCBmcm9tIHY5LlxuICpcbiAqICoqSW4gdjEwIHRoZSBkZWZhdWx0IGN1cnJlbmN5IGNvZGUgd2lsbCBiZSB0YWtlbiBmcm9tIHRoZSBjdXJyZW50IGxvY2FsZS4qKlxuICpcbiAqIElmIHlvdSBuZWVkIHRoZSBwcmV2aW91cyBiZWhhdmlvciB0aGVuIHNldCBpdCBieSBjcmVhdGluZyBhIGBERUZBVUxUX0NVUlJFTkNZX0NPREVgIHByb3ZpZGVyIGluXG4gKiB5b3VyIGFwcGxpY2F0aW9uIGBOZ01vZHVsZWA6XG4gKlxuICogYGBgdHNcbiAqIHtwcm92aWRlOiBERUZBVUxUX0NVUlJFTkNZX0NPREUsIHVzZVZhbHVlOiAnVVNEJ31cbiAqIGBgYFxuICpcbiAqIDwvZGl2PlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IERFRkFVTFRfQ1VSUkVOQ1lfQ09ERSwgdXNlVmFsdWU6ICdFVVInIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgREVGQVVMVF9DVVJSRU5DWV9DT0RFID0gbmV3IEluamVjdGlvblRva2VuKCdEZWZhdWx0Q3VycmVuY3lDb2RlJywge1xuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiAoKSA9PiBVU0RfQ1VSUkVOQ1lfQ09ERSxcbn0pO1xuLyoqXG4gKiBVc2UgdGhpcyB0b2tlbiBhdCBib290c3RyYXAgdG8gcHJvdmlkZSB0aGUgY29udGVudCBvZiB5b3VyIHRyYW5zbGF0aW9uIGZpbGUgKGB4dGJgLFxuICogYHhsZmAgb3IgYHhsZjJgKSB3aGVuIHlvdSB3YW50IHRvIHRyYW5zbGF0ZSB5b3VyIGFwcGxpY2F0aW9uIGluIGFub3RoZXIgbGFuZ3VhZ2UuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFRSQU5TTEFUSU9OUyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiAvLyBjb250ZW50IG9mIHlvdXIgdHJhbnNsYXRpb24gZmlsZVxuICogY29uc3QgdHJhbnNsYXRpb25zID0gJy4uLi4nO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBUUkFOU0xBVElPTlMsIHVzZVZhbHVlOiB0cmFuc2xhdGlvbnMgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBUUkFOU0xBVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RyYW5zbGF0aW9ucycpO1xuLyoqXG4gKiBQcm92aWRlIHRoaXMgdG9rZW4gYXQgYm9vdHN0cmFwIHRvIHNldCB0aGUgZm9ybWF0IG9mIHlvdXIge0BsaW5rIFRSQU5TTEFUSU9OU306IGB4dGJgLFxuICogYHhsZmAgb3IgYHhsZjJgLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLW1lcmdlKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBUUkFOU0xBVElPTlNfRk9STUFUIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBUUkFOU0xBVElPTlNfRk9STUFULCB1c2VWYWx1ZTogJ3hsZicgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBUUkFOU0xBVElPTlNfRk9STUFUID0gbmV3IEluamVjdGlvblRva2VuKCdUcmFuc2xhdGlvbnNGb3JtYXQnKTtcbi8qKlxuICogVXNlIHRoaXMgZW51bSBhdCBib290c3RyYXAgYXMgYW4gb3B0aW9uIG9mIGBib290c3RyYXBNb2R1bGVgIHRvIGRlZmluZSB0aGUgc3RyYXRlZ3lcbiAqIHRoYXQgdGhlIGNvbXBpbGVyIHNob3VsZCB1c2UgaW4gY2FzZSBvZiBtaXNzaW5nIHRyYW5zbGF0aW9uczpcbiAqIC0gRXJyb3I6IHRocm93IGlmIHlvdSBoYXZlIG1pc3NpbmcgdHJhbnNsYXRpb25zLlxuICogLSBXYXJuaW5nIChkZWZhdWx0KTogc2hvdyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgYW5kL29yIHNoZWxsLlxuICogLSBJZ25vcmU6IGRvIG5vdGhpbmcuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UjcmVwb3J0LW1pc3NpbmctdHJhbnNsYXRpb25zKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIG1pc3NpbmdUcmFuc2xhdGlvbjogTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kuRXJyb3JcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3k7XG4oZnVuY3Rpb24gKE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5KSB7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJFcnJvclwiXSA9IDBdID0gXCJFcnJvclwiO1xuICAgIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W1wiV2FybmluZ1wiXSA9IDFdID0gXCJXYXJuaW5nXCI7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJJZ25vcmVcIl0gPSAyXSA9IFwiSWdub3JlXCI7XG59KShNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSB8fCAoTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tYmluYXRpb24gb2YgTmdNb2R1bGVGYWN0b3J5IGFuZCBDb21wb25lbnRGYWN0b3JpZXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBJdnkgSklUIG1vZGUgZG9lc24ndCByZXF1aXJlIGFjY2Vzc2luZyB0aGlzIHN5bWJvbC5cbiAqIFNlZSBbSklUIEFQSSBjaGFuZ2VzIGR1ZSB0byBWaWV3RW5naW5lIGRlcHJlY2F0aW9uXShndWlkZS9kZXByZWNhdGlvbnMjaml0LWFwaS1jaGFuZ2VzKSBmb3JcbiAqIGFkZGl0aW9uYWwgY29udGV4dC5cbiAqL1xuY2xhc3MgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyB7XG4gICAgY29uc3RydWN0b3IobmdNb2R1bGVGYWN0b3J5LCBjb21wb25lbnRGYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5uZ01vZHVsZUZhY3RvcnkgPSBuZ01vZHVsZUZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yaWVzID0gY29tcG9uZW50RmFjdG9yaWVzO1xuICAgIH1cbn1cbi8qKlxuICogTG93LWxldmVsIHNlcnZpY2UgZm9yIHJ1bm5pbmcgdGhlIGFuZ3VsYXIgY29tcGlsZXIgZHVyaW5nIHJ1bnRpbWVcbiAqIHRvIGNyZWF0ZSB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX1zLCB3aGljaFxuICogY2FuIGxhdGVyIGJlIHVzZWQgdG8gY3JlYXRlIGFuZCByZW5kZXIgYSBDb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogRWFjaCBgQE5nTW9kdWxlYCBwcm92aWRlcyBhbiBvd24gYENvbXBpbGVyYCB0byBpdHMgaW5qZWN0b3IsXG4gKiB0aGF0IHdpbGwgdXNlIHRoZSBkaXJlY3RpdmVzL3BpcGVzIG9mIHRoZSBuZyBtb2R1bGUgZm9yIGNvbXBpbGF0aW9uXG4gKiBvZiBjb21wb25lbnRzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogSXZ5IEpJVCBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBhY2Nlc3NpbmcgdGhpcyBzeW1ib2wuXG4gKiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcykgZm9yXG4gKiBhZGRpdGlvbmFsIGNvbnRleHQuXG4gKi9cbmNsYXNzIENvbXBpbGVyIHtcbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgZ2l2ZW4gTmdNb2R1bGUgYW5kIGFsbCBvZiBpdHMgY29tcG9uZW50cy4gQWxsIHRlbXBsYXRlcyBvZiB0aGUgY29tcG9uZW50cyBsaXN0ZWRcbiAgICAgKiBpbiBgZW50cnlDb21wb25lbnRzYCBoYXZlIHRvIGJlIGlubGluZWQuXG4gICAgICovXG4gICAgY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlRmFjdG9yeShtb2R1bGVUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIGdpdmVuIE5nTW9kdWxlIGFuZCBhbGwgb2YgaXRzIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQXN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHtAbGluayAjY29tcGlsZU1vZHVsZVN5bmN9IGJ1dCBhbHNvIGNyZWF0ZXMgQ29tcG9uZW50RmFjdG9yaWVzIGZvciBhbGwgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICBjb25zdCBuZ01vZHVsZUZhY3RvcnkgPSB0aGlzLmNvbXBpbGVNb2R1bGVTeW5jKG1vZHVsZVR5cGUpO1xuICAgICAgICBjb25zdCBtb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yaWVzID0gbWF5YmVVbndyYXBGbihtb2R1bGVEZWYuZGVjbGFyYXRpb25zKVxuICAgICAgICAgICAgLnJlZHVjZSgoZmFjdG9yaWVzLCBkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGRlY2xhcmF0aW9uKTtcbiAgICAgICAgICAgIGNvbXBvbmVudERlZiAmJiBmYWN0b3JpZXMucHVzaChuZXcgQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnREZWYpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3JpZXM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzKG5nTW9kdWxlRmFjdG9yeSwgY29tcG9uZW50RmFjdG9yaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB7QGxpbmsgI2NvbXBpbGVNb2R1bGVBc3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIGNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzQXN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jKG1vZHVsZVR5cGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgY2xlYXJDYWNoZSgpIHsgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FjaGUgZm9yIHRoZSBnaXZlbiBjb21wb25lbnQvbmdNb2R1bGUuXG4gICAgICovXG4gICAgY2xlYXJDYWNoZUZvcih0eXBlKSB7IH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpZCBmb3IgYSBnaXZlbiBOZ01vZHVsZSwgaWYgb25lIGlzIGRlZmluZWQgYW5kIGtub3duIHRvIHRoZSBjb21waWxlci5cbiAgICAgKi9cbiAgICBnZXRNb2R1bGVJZChtb2R1bGVUeXBlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuQ29tcGlsZXIuybVmYWMgPSBmdW5jdGlvbiBDb21waWxlcl9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBDb21waWxlcikoKTsgfTtcbkNvbXBpbGVyLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQ29tcGlsZXIsIGZhY3Rvcnk6IENvbXBpbGVyLsm1ZmFjLCBwcm92aWRlZEluOiAncm9vdCcgfSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQ29tcGlsZXIsIFt7XG4gICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgIGFyZ3M6IFt7IHByb3ZpZGVkSW46ICdyb290JyB9XVxuICAgIH1dLCBudWxsLCBudWxsKTsgfSkoKTtcbi8qKlxuICogVG9rZW4gdG8gcHJvdmlkZSBDb21waWxlck9wdGlvbnMgaW4gdGhlIHBsYXRmb3JtIGluamVjdG9yLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ09NUElMRVJfT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignY29tcGlsZXJPcHRpb25zJyk7XG4vKipcbiAqIEEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgYSBDb21waWxlclxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogSXZ5IEpJVCBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBhY2Nlc3NpbmcgdGhpcyBzeW1ib2wuXG4gKiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcykgZm9yXG4gKiBhZGRpdGlvbmFsIGNvbnRleHQuXG4gKi9cbmNsYXNzIENvbXBpbGVyRmFjdG9yeSB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgcHJvbWlzZSA9ICgoKSA9PiBQcm9taXNlLnJlc29sdmUoMCkpKCk7XG5mdW5jdGlvbiBzY2hlZHVsZU1pY3JvVGFzayhmbikge1xuICAgIGlmICh0eXBlb2YgWm9uZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gdXNlIHByb21pc2UgdG8gc2NoZWR1bGUgbWljcm9UYXNrIGluc3RlYWQgb2YgdXNlIFpvbmVcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZuICYmIGZuLmFwcGx5KG51bGwsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygnc2NoZWR1bGVNaWNyb3Rhc2snLCBmbik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSgpIHtcbiAgICBsZXQgbmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gX2dsb2JhbFsncmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgbGV0IG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lID0gX2dsb2JhbFsnY2FuY2VsQW5pbWF0aW9uRnJhbWUnXTtcbiAgICBpZiAodHlwZW9mIFpvbmUgIT09ICd1bmRlZmluZWQnICYmIG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAvLyB1c2UgdW5wYXRjaGVkIHZlcnNpb24gb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG5hdGl2ZSBkZWxlZ2F0ZSkgaWYgcG9zc2libGVcbiAgICAgICAgLy8gdG8gYXZvaWQgYW5vdGhlciBDaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICAgIGNvbnN0IHVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZSA9IG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZVtab25lLl9fc3ltYm9sX18oJ09yaWdpbmFsRGVsZWdhdGUnKV07XG4gICAgICAgIGlmICh1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSA9IG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lW1pvbmUuX19zeW1ib2xfXygnT3JpZ2luYWxEZWxlZ2F0ZScpXTtcbiAgICAgICAgaWYgKHVucGF0Y2hlZENhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSA9IHVucGF0Y2hlZENhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSwgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGluamVjdGFibGUgc2VydmljZSBmb3IgZXhlY3V0aW5nIHdvcmsgaW5zaWRlIG9yIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIHRoaXMgc2VydmljZSBpcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZSB3aGVuIHN0YXJ0aW5nIGEgd29yayBjb25zaXN0aW5nIG9mXG4gKiBvbmUgb3IgbW9yZSBhc3luY2hyb25vdXMgdGFza3MgdGhhdCBkb24ndCByZXF1aXJlIFVJIHVwZGF0ZXMgb3IgZXJyb3IgaGFuZGxpbmcgdG8gYmUgaGFuZGxlZCBieVxuICogQW5ndWxhci4gU3VjaCB0YXNrcyBjYW4gYmUga2lja2VkIG9mZiB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtAbGluayAjcnVufS5cbiAqXG4gKiA8IS0tIFRPRE86IGFkZC9maXggbGlua3MgdG86XG4gKiAgIC0gZG9jcyBleHBsYWluaW5nIHpvbmVzIGFuZCB0aGUgdXNlIG9mIHpvbmVzIGluIEFuZ3VsYXIgYW5kIGNoYW5nZS1kZXRlY3Rpb25cbiAqICAgLSBsaW5rIHRvIHJ1bk91dHNpZGVBbmd1bGFyL3J1biAodGhyb3VnaG91dCB0aGlzIGZpbGUhKVxuICogICAtLT5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBOZ1pvbmV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtOZ0lmfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ25nLXpvbmUtZGVtbycsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGgyPkRlbW86IE5nWm9uZTwvaDI+XG4gKlxuICogICAgIDxwPlByb2dyZXNzOiB7e3Byb2dyZXNzfX0lPC9wPlxuICogICAgIDxwICpuZ0lmPVwicHJvZ3Jlc3MgPj0gMTAwXCI+RG9uZSBwcm9jZXNzaW5nIHt7bGFiZWx9fSBvZiBBbmd1bGFyIHpvbmUhPC9wPlxuICpcbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgd2l0aGluIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyBvdXRzaWRlIG9mIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICBgLFxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBOZ1pvbmVEZW1vIHtcbiAqICAgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gKiAgIGxhYmVsOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZ1pvbmU6IE5nWm9uZSkge31cbiAqXG4gKiAgIC8vIExvb3AgaW5zaWRlIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnaW5zaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IGNvbnNvbGUubG9nKCdJbnNpZGUgRG9uZSEnKSk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIExvb3Agb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIE5PVCByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdvdXRzaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICogICAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiB7XG4gKiAgICAgICAgIC8vIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZGlzcGxheSBkb25lXG4gKiAgICAgICAgIHRoaXMuX25nWm9uZS5ydW4oKCkgPT4geyBjb25zb2xlLmxvZygnT3V0c2lkZSBEb25lIScpOyB9KTtcbiAqICAgICAgIH0pO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICBfaW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAqICAgICB0aGlzLnByb2dyZXNzICs9IDE7XG4gKiAgICAgY29uc29sZS5sb2coYEN1cnJlbnQgcHJvZ3Jlc3M6ICR7dGhpcy5wcm9ncmVzc30lYCk7XG4gKlxuICogICAgIGlmICh0aGlzLnByb2dyZXNzIDwgMTAwKSB7XG4gKiAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjayksIDEwKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgZG9uZUNhbGxiYWNrKCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nWm9uZSB7XG4gICAgY29uc3RydWN0b3IoeyBlbmFibGVMb25nU3RhY2tUcmFjZSA9IGZhbHNlLCBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UsIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UgfSkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIG1pY3JvdGFza3Mgb3IgbWFjcm90YXNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiBjb2RlIGVudGVycyBBbmd1bGFyIFpvbmUuIFRoaXMgZ2V0cyBmaXJlZCBmaXJzdCBvbiBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgbWljcm90YXNrcyBlbnF1ZXVlZCBpbiB0aGUgY3VycmVudCBWTSBUdXJuLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGludCBmb3IgQW5ndWxhciB0byBkbyBjaGFuZ2UgZGV0ZWN0aW9uLCB3aGljaCBtYXkgZW5xdWV1ZSBtb3JlIG1pY3JvdGFza3MuXG4gICAgICAgICAqIEZvciB0aGlzIHJlYXNvbiB0aGlzIGV2ZW50IGNhbiBmaXJlIG11bHRpcGxlIHRpbWVzIHBlciBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZSBsYXN0IGBvbk1pY3JvdGFza0VtcHR5YCBoYXMgcnVuIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBtaWNyb3Rhc2tzLCB3aGljaFxuICAgICAgICAgKiBpbXBsaWVzIHdlIGFyZSBhYm91dCB0byByZWxpbnF1aXNoIFZNIHR1cm4uXG4gICAgICAgICAqIFRoaXMgZXZlbnQgZ2V0cyBjYWxsZWQganVzdCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhbiBlcnJvciBoYXMgYmVlbiBkZWxpdmVyZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanNgKTtcbiAgICAgICAgfVxuICAgICAgICBab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLl9uZXN0aW5nID0gMDtcbiAgICAgICAgc2VsZi5fb3V0ZXIgPSBzZWxmLl9pbm5lciA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgaWYgKFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhuZXcgWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZUxvbmdTdGFja1RyYWNlICYmIFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZSwgYWxsIHRhc2tzIGluY2x1ZGluZyBldmVudCB0YXNrcyB3aWxsIGJlXG4gICAgICAgIC8vIGNvYWxlc2NlZCwgc28gc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiBvcHRpb24gaXMgbm90IG5lY2Vzc2FyeSBhbmQgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9XG4gICAgICAgICAgICAhc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gJiYgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICBzZWxmLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSgpLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioc2VsZik7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIC8vIFpvbmUgbmVlZHMgdG8gYmUgY2hlY2tlZCwgYmVjYXVzZSB0aGlzIG1ldGhvZCBtaWdodCBiZSBjYWxsZWQgZXZlbiB3aGVuIE5vb3BOZ1pvbmUgaXMgdXNlZC5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBab25lLmN1cnJlbnQuZ2V0KCdpc0FuZ3VsYXJab25lJykgPT09IHRydWU7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoIU5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyBub3QhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGFzc2VydE5vdEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmIChOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYXMgYSB0YXNrIGFuZCByZXR1cm5zIHZhbHVlXG4gICAgICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1blRhc2soZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSB0aGlzLl9pbm5lcjtcbiAgICAgICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ05nWm9uZUV2ZW50OiAnICsgbmFtZSwgZm4sIEVNUFRZX1BBWUxPQUQsIG5vb3AsIG5vb3ApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHpvbmUucnVuVGFzayh0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBgcnVuYCwgZXhjZXB0IHRoYXQgc3luY2hyb25vdXMgZXJyb3JzIGFyZSBjYXVnaHQgYW5kIGZvcndhcmRlZCB2aWEgYG9uRXJyb3JgIGFuZCBub3RcbiAgICAgKiByZXRocm93bi5cbiAgICAgKi9cbiAgICBydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IGluIEFuZ3VsYXIncyBwYXJlbnQgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbGxvd3MgeW91IHRvIGVzY2FwZSBBbmd1bGFyJ3Mgem9uZSBhbmQgZG9cbiAgICAgKiB3b3JrIHRoYXRcbiAgICAgKiBkb2Vzbid0IHRyaWdnZXIgQW5ndWxhciBjaGFuZ2UtZGV0ZWN0aW9uIG9yIGlzIHN1YmplY3QgdG8gQW5ndWxhcidzIGVycm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIHJ1bk91dHNpZGVBbmd1bGFyKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlci5ydW4oZm4pO1xuICAgIH1cbn1cbmNvbnN0IEVNUFRZX1BBWUxPQUQgPSB7fTtcbmZ1bmN0aW9uIGNoZWNrU3RhYmxlKHpvbmUpIHtcbiAgICAvLyBUT0RPOiBASmlhTGlQYXNzaW9uLCBzaG91bGQgY2hlY2sgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB0byBwcmV2ZW50XG4gICAgLy8gcmUtZW50cnkuIFRoZSBjYXNlIGlzOlxuICAgIC8vXG4gICAgLy8gQENvbXBvbmVudCh7Li4ufSlcbiAgICAvLyBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAvLyBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nWm9uZTogTmdab25lKSB7XG4gICAgLy8gICB0aGlzLm5nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgIC8vICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gY29uc29sZS5sb2coJ3N0YWJsZScpOyk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBUaGUgb25TdGFibGUgc3Vic2NyaWJlciBydW4gYW5vdGhlciBmdW5jdGlvbiBpbnNpZGUgbmdab25lXG4gICAgLy8gd2hpY2ggY2F1c2VzIGBjaGVja1N0YWJsZSgpYCByZS1lbnRyeS5cbiAgICAvLyBCdXQgdGhpcyBmaXggY2F1c2VzIHNvbWUgaXNzdWVzIGluIGczLCBzbyB0aGlzIGZpeCB3aWxsIGJlXG4gICAgLy8gbGF1bmNoZWQgaW4gYW5vdGhlciBQUi5cbiAgICBpZiAoem9uZS5fbmVzdGluZyA9PSAwICYmICF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzICYmICF6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgICAgICAgICB6b25lLm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICAgICAgICAgIGlmICghem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vblN0YWJsZS5lbWl0KG51bGwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpIHtcbiAgICAvKipcbiAgICAgKiBXZSBhbHNvIG5lZWQgdG8gY2hlY2sgX25lc3RpbmcgaGVyZVxuICAgICAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgY2FzZSB3aXRoIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZVxuICAgICAqXG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICpcbiAgICAgKiBXZSB3YW50IHRoZSB0d28gYG5nWm9uZS5ydW4oKWAgb25seSB0cmlnZ2VyIG9uZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogd2hlbiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLlxuICAgICAqIEFuZCBiZWNhdXNlIGluIHRoaXMgY2FzZSwgY2hhbmdlIGRldGVjdGlvbiBydW4gaW4gYXN5bmMgd2F5KHJlcXVlc3RBbmltYXRpb25GcmFtZSksXG4gICAgICogc28gd2UgYWxzbyBuZWVkIHRvIGNoZWNrIHRoZSBfbmVzdGluZyBoZXJlIHRvIHByZXZlbnQgbXVsdGlwbGVcbiAgICAgKiBjaGFuZ2UgZGV0ZWN0aW9ucy5cbiAgICAgKi9cbiAgICBpZiAoem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB8fCB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IHpvbmUubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoX2dsb2JhbCwgKCkgPT4ge1xuICAgICAgICAvLyBUaGlzIGlzIGEgd29yayBhcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM2ODM5LlxuICAgICAgICAvLyBUaGUgY29yZSBpc3N1ZSBpcyB0aGF0IHdoZW4gZXZlbnQgY29hbGVzY2luZyBpcyBlbmFibGVkIGl0IGlzIHBvc3NpYmxlIGZvciBtaWNyb3Rhc2tzXG4gICAgICAgIC8vIHRvIGdldCBmbHVzaGVkIHRvbyBlYXJseSAoQXMgaXMgdGhlIGNhc2Ugd2l0aCBgUHJvbWlzZS50aGVuYCkgYmV0d2VlbiB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUbyB3b3JrYXJvdW5kIHRoaXMgd2Ugc2NoZWR1bGUgYSBcImZha2VcIiBldmVudFRhc2sgYmVmb3JlIHdlIHByb2Nlc3MgdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy4gVGhlIGJlbmVmaXQgb2YgdGhpcyBpcyB0aGF0IHRoZSBcImZha2VcIiBjb250YWluZXIgZXZlbnRUYXNrXG4gICAgICAgIC8vICB3aWxsIHByZXZlbnQgdGhlIG1pY3JvdGFza3MgcXVldWUgZnJvbSBnZXR0aW5nIGRyYWluZWQgaW4gYmV0d2VlbiB0aGUgY29hbGVzY2luZ1xuICAgICAgICAvLyBldmVudFRhc2sgZXhlY3V0aW9uLlxuICAgICAgICBpZiAoIXpvbmUuZmFrZVRvcEV2ZW50VGFzaykge1xuICAgICAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrID0gWm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCdmYWtlVG9wRXZlbnRUYXNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgKCkgPT4geyB9LCAoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzay5pbnZva2UoKTtcbiAgICB9KTtcbiAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG59XG5mdW5jdGlvbiBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcih6b25lKSB7XG4gICAgY29uc3QgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSA9ICgpID0+IHtcbiAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSk7XG4gICAgfTtcbiAgICB6b25lLl9pbm5lciA9IHpvbmUuX2lubmVyLmZvcmsoe1xuICAgICAgICBuYW1lOiAnYW5ndWxhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IHsgJ2lzQW5ndWxhclpvbmUnOiB0cnVlIH0sXG4gICAgICAgIG9uSW52b2tlVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZVRhc2sodGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHpvbmUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiAmJiB0YXNrLnR5cGUgPT09ICdldmVudFRhc2snKSB8fFxuICAgICAgICAgICAgICAgICAgICB6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25JbnZva2U6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2UodGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFzVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGhhc1Rhc2tTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFzVGFzayh0YXJnZXQsIGhhc1Rhc2tTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBoYXNUYXNrIGV2ZW50cyB3aGljaCBvcmlnaW5hdGUgZnJvbSBvdXIgem9uZVxuICAgICAgICAgICAgICAgIC8vIChBIGNoaWxkIGhhc1Rhc2sgZXZlbnQgaXMgbm90IGludGVyZXN0aW5nIHRvIHVzKVxuICAgICAgICAgICAgICAgIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtaWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1pY3JvVGFzaztcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWFjcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1hY3JvVGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFuZGxlRXJyb3I6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFuZGxlRXJyb3IodGFyZ2V0LCBlcnJvcik7XG4gICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25FcnJvci5lbWl0KGVycm9yKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKSB7XG4gICAgaWYgKHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIHx8XG4gICAgICAgICgoem9uZS5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIHx8IHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pICYmXG4gICAgICAgICAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpKSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uRW50ZXIoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICBpZiAoem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB6b25lLmlzU3RhYmxlID0gZmFsc2U7XG4gICAgICAgIHpvbmUub25VbnN0YWJsZS5lbWl0KG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uTGVhdmUoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICBjaGVja1N0YWJsZSh6b25lKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgYSBub29wIGltcGxlbWVudGF0aW9uIG9mIGBOZ1pvbmVgIHdoaWNoIGRvZXMgbm90aGluZy4gVGhpcyB6b25lIHJlcXVpcmVzIGV4cGxpY2l0IGNhbGxzXG4gKiB0byBmcmFtZXdvcmsgdG8gcGVyZm9ybSByZW5kZXJpbmcuXG4gKi9cbmNsYXNzIE5vb3BOZ1pvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMub25VbnN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uU3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIHJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgcnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgcnVuT3V0c2lkZUFuZ3VsYXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIHJ1blRhc2soZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgdGVzdGluZyBob29rcyB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBmcm9tXG4gKiB0aGUgYnJvd3Nlci4gRWFjaCBib290c3RyYXBwZWQgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSB3aWxsIGhhdmVcbiAqIGFuIGluc3RhbmNlIG9mIFRlc3RhYmlsaXR5LlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBUZXN0YWJpbGl0eSB7XG4gICAgY29uc3RydWN0b3IoX25nWm9uZSkge1xuICAgICAgICB0aGlzLl9uZ1pvbmUgPSBfbmdab25lO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pc1pvbmVTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBhbnkgd29yayB3YXMgZG9uZSBzaW5jZSB0aGUgbGFzdCAnd2hlblN0YWJsZScgY2FsbGJhY2suIFRoaXMgaXNcbiAgICAgICAgICogdXNlZnVsIHRvIGRldGVjdCBpZiB0aGlzIGNvdWxkIGhhdmUgcG90ZW50aWFsbHkgZGVzdGFiaWxpemVkIGFub3RoZXJcbiAgICAgICAgICogY29tcG9uZW50IHdoaWxlIGl0IGlzIHN0YWJpbGl6aW5nLlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RpZFdvcmsgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMudGFza1RyYWNraW5nWm9uZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dhdGNoQW5ndWxhckV2ZW50cygpO1xuICAgICAgICBfbmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhc2tUcmFja2luZ1pvbmUgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnID8gbnVsbCA6IFpvbmUuY3VycmVudC5nZXQoJ1Rhc2tUcmFja2luZ1pvbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF93YXRjaEFuZ3VsYXJFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlkV29yayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1pvbmVTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlcyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXMuXG4gICAgICovXG4gICAgaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50KCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgKz0gMTtcbiAgICAgICAgdGhpcy5fZGlkV29yayA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY3JlYXNlcyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXNcbiAgICAgKi9cbiAgICBkZWNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwZW5kaW5nIGFzeW5jIHJlcXVlc3RzIGJlbG93IHplcm8nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgYW4gYXNzb2NpYXRlZCBhcHBsaWNhdGlvbiBpcyBzdGFibGVcbiAgICAgKi9cbiAgICBpc1N0YWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSAmJiB0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcztcbiAgICB9XG4gICAgX3J1bkNhbGxiYWNrc0lmUmVhZHkoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhYmxlKCkpIHtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlcyB0aGUgY2FsbCBiYWNrcyBpbiBhIG5ldyBmcmFtZSBzbyB0aGF0IGl0IGlzIGFsd2F5cyBhc3luYy5cbiAgICAgICAgICAgIHNjaGVkdWxlTWljcm9UYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fY2FsbGJhY2tzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2IgPSB0aGlzLl9jYWxsYmFja3MucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjYi50aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICBjYi5kb25lQ2IodGhpcy5fZGlkV29yayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RpbGwgbm90IHN0YWJsZSwgc2VuZCB1cGRhdGVzLlxuICAgICAgICAgICAgbGV0IHBlbmRpbmcgPSB0aGlzLmdldFBlbmRpbmdUYXNrcygpO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzLmZpbHRlcigoY2IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2IudXBkYXRlQ2IgJiYgY2IudXBkYXRlQ2IocGVuZGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNiLnRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlbmRpbmdUYXNrcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRhc2tUcmFja2luZ1pvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb3B5IHRoZSB0YXNrcyBkYXRhIHNvIHRoYXQgd2UgZG9uJ3QgbGVhayB0YXNrcy5cbiAgICAgICAgcmV0dXJuIHRoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcCgodCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHQuc291cmNlLFxuICAgICAgICAgICAgICAgIC8vIEZyb20gVGFza1RyYWNraW5nWm9uZTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2Jsb2IvbWFzdGVyL2xpYi96b25lLXNwZWMvdGFzay10cmFja2luZy50cyNMNDBcbiAgICAgICAgICAgICAgICBjcmVhdGlvbkxvY2F0aW9uOiB0LmNyZWF0aW9uTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgZGF0YTogdC5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkQ2FsbGJhY2soY2IsIHRpbWVvdXQsIHVwZGF0ZUNiKSB7XG4gICAgICAgIGxldCB0aW1lb3V0SWQgPSAtMTtcbiAgICAgICAgaWYgKHRpbWVvdXQgJiYgdGltZW91dCA+IDApIHtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcy5maWx0ZXIoKGNiKSA9PiBjYi50aW1lb3V0SWQgIT09IHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgY2IodGhpcy5fZGlkV29yaywgdGhpcy5nZXRQZW5kaW5nVGFza3MoKSk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaCh7IGRvbmVDYjogY2IsIHRpbWVvdXRJZDogdGltZW91dElkLCB1cGRhdGVDYjogdXBkYXRlQ2IgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSBzdGFibGUgd2l0aCBhIHRpbWVvdXQuIElmIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQgYmVmb3JlIHRoYXRcbiAgICAgKiBoYXBwZW5zLCB0aGUgY2FsbGJhY2sgcmVjZWl2ZXMgYSBsaXN0IG9mIHRoZSBtYWNybyB0YXNrcyB0aGF0IHdlcmUgcGVuZGluZywgb3RoZXJ3aXNlIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9uZUNiIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2hlbiBBbmd1bGFyIGlzIHN0YWJsZSBvciB0aGUgdGltZW91dCBleHBpcmVzXG4gICAgICogICAgd2hpY2hldmVyIGNvbWVzIGZpcnN0LlxuICAgICAqIEBwYXJhbSB0aW1lb3V0IE9wdGlvbmFsLiBUaGUgbWF4aW11bSB0aW1lIHRvIHdhaXQgZm9yIEFuZ3VsYXIgdG8gYmVjb21lIHN0YWJsZS4gSWYgbm90XG4gICAgICogICAgc3BlY2lmaWVkLCB3aGVuU3RhYmxlKCkgd2lsbCB3YWl0IGZvcmV2ZXIuXG4gICAgICogQHBhcmFtIHVwZGF0ZUNiIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIHdoZW5ldmVyIHRoZSBzZXQgb2ZcbiAgICAgKiAgICBwZW5kaW5nIG1hY3JvdGFza3MgY2hhbmdlcy4gSWYgdGhpcyBjYWxsYmFjayByZXR1cm5zIHRydWUgZG9uZUNiIHdpbGwgbm90IGJlIGludm9rZWRcbiAgICAgKiAgICBhbmQgbm8gZnVydGhlciB1cGRhdGVzIHdpbGwgYmUgaXNzdWVkLlxuICAgICAqL1xuICAgIHdoZW5TdGFibGUoZG9uZUNiLCB0aW1lb3V0LCB1cGRhdGVDYikge1xuICAgICAgICBpZiAodXBkYXRlQ2IgJiYgIXRoaXMudGFza1RyYWNraW5nWm9uZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byAnICtcbiAgICAgICAgICAgICAgICAnd2hlblN0YWJsZSgpLiBJcyBcInpvbmUuanMvcGx1Z2lucy90YXNrLXRyYWNraW5nXCIgbG9hZGVkPycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXNlIGFyZ3VtZW50cyBhcmUgJ0Z1bmN0aW9uJyBhYm92ZSB0byBrZWVwIHRoZSBwdWJsaWMgQVBJIHNpbXBsZS5cbiAgICAgICAgdGhpcy5hZGRDYWxsYmFjayhkb25lQ2IsIHRpbWVvdXQsIHVwZGF0ZUNiKTtcbiAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICogQGRlcHJlY2F0ZWQgcGVuZGluZyByZXF1ZXN0cyBhcmUgbm93IHRyYWNrZWQgd2l0aCB6b25lc1xuICAgICAqL1xuICAgIGdldFBlbmRpbmdSZXF1ZXN0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgcHJvdmlkZXJzIGJ5IG5hbWVcbiAgICAgKiBAcGFyYW0gdXNpbmcgVGhlIHJvb3QgZWxlbWVudCB0byBzZWFyY2ggZnJvbVxuICAgICAqIEBwYXJhbSBwcm92aWRlciBUaGUgbmFtZSBvZiBiaW5kaW5nIHZhcmlhYmxlXG4gICAgICogQHBhcmFtIGV4YWN0TWF0Y2ggV2hldGhlciB1c2luZyBleGFjdE1hdGNoXG4gICAgICovXG4gICAgZmluZFByb3ZpZGVycyh1c2luZywgcHJvdmlkZXIsIGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgLy8gVE9ETyhqdWxpZW1yKTogaW1wbGVtZW50LlxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuVGVzdGFiaWxpdHkuybVmYWMgPSBmdW5jdGlvbiBUZXN0YWJpbGl0eV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBUZXN0YWJpbGl0eSkoybXJtWluamVjdChOZ1pvbmUpKTsgfTtcblRlc3RhYmlsaXR5Lsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogVGVzdGFiaWxpdHksIGZhY3Rvcnk6IFRlc3RhYmlsaXR5Lsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHsgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKFRlc3RhYmlsaXR5LCBbe1xuICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5nWm9uZSB9XTsgfSwgbnVsbCk7IH0pKCk7XG4vKipcbiAqIEEgZ2xvYmFsIHJlZ2lzdHJ5IG9mIHtAbGluayBUZXN0YWJpbGl0eX0gaW5zdGFuY2VzIGZvciBzcGVjaWZpYyBlbGVtZW50cy5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVzdGFiaWxpdHlSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGVzdGFiaWxpdHlHZXR0ZXIuYWRkVG9XaW5kb3codGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBhcHBsaWNhdGlvbiB3aXRoIGEgdGVzdGFiaWxpdHkgaG9vayBzbyB0aGF0IGl0IGNhbiBiZSB0cmFja2VkXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gdGVzdGFiaWxpdHkgVGVzdGFiaWxpdHkgaG9va1xuICAgICAqL1xuICAgIHJlZ2lzdGVyQXBwbGljYXRpb24odG9rZW4sIHRlc3RhYmlsaXR5KSB7XG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucy5zZXQodG9rZW4sIHRlc3RhYmlsaXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYW4gYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQXBwbGljYXRpb24odG9rZW4pIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIGFsbCBhcHBsaWNhdGlvbnNcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCkge1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdGVzdGFiaWxpdHkgaG9vayBhc3NvY2lhdGVkIHdpdGggdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIGVsZW0gcm9vdCBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0VGVzdGFiaWxpdHkoZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbGljYXRpb25zLmdldChlbGVtKSB8fCBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgdGVzdGFiaWxpdGllc1xuICAgICAqL1xuICAgIGdldEFsbFRlc3RhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcmVnaXN0ZXJlZCBhcHBsaWNhdGlvbnMocm9vdCBlbGVtZW50cylcbiAgICAgKi9cbiAgICBnZXRBbGxSb290RWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy5rZXlzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRlc3RhYmlsaXR5IG9mIGEgbm9kZSBpbiB0aGUgVHJlZVxuICAgICAqIEBwYXJhbSBlbGVtIG5vZGVcbiAgICAgKiBAcGFyYW0gZmluZEluQW5jZXN0b3JzIHdoZXRoZXIgZmluZGluZyB0ZXN0YWJpbGl0eSBpbiBhbmNlc3RvcnMgaWYgdGVzdGFiaWxpdHkgd2FzIG5vdCBmb3VuZCBpblxuICAgICAqIGN1cnJlbnQgbm9kZVxuICAgICAqL1xuICAgIGZpbmRUZXN0YWJpbGl0eUluVHJlZShlbGVtLCBmaW5kSW5BbmNlc3RvcnMgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBfdGVzdGFiaWxpdHlHZXR0ZXIuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsIGVsZW0sIGZpbmRJbkFuY2VzdG9ycyk7XG4gICAgfVxufVxuVGVzdGFiaWxpdHlSZWdpc3RyeS7JtWZhYyA9IGZ1bmN0aW9uIFRlc3RhYmlsaXR5UmVnaXN0cnlfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgVGVzdGFiaWxpdHlSZWdpc3RyeSkoKTsgfTtcblRlc3RhYmlsaXR5UmVnaXN0cnkuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBmYWN0b3J5OiBUZXN0YWJpbGl0eVJlZ2lzdHJ5Lsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHsgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKFRlc3RhYmlsaXR5UmVnaXN0cnksIFt7XG4gICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH0sIG51bGwpOyB9KSgpO1xuY2xhc3MgX05vb3BHZXRUZXN0YWJpbGl0eSB7XG4gICAgYWRkVG9XaW5kb3cocmVnaXN0cnkpIHsgfVxuICAgIGZpbmRUZXN0YWJpbGl0eUluVHJlZShyZWdpc3RyeSwgZWxlbSwgZmluZEluQW5jZXN0b3JzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogU2V0IHRoZSB7QGxpbmsgR2V0VGVzdGFiaWxpdHl9IGltcGxlbWVudGF0aW9uIHVzZWQgYnkgdGhlIEFuZ3VsYXIgdGVzdGluZyBmcmFtZXdvcmsuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIHNldFRlc3RhYmlsaXR5R2V0dGVyKGdldHRlcikge1xuICAgIF90ZXN0YWJpbGl0eUdldHRlciA9IGdldHRlcjtcbn1cbmxldCBfdGVzdGFiaWxpdHlHZXR0ZXIgPSBuZXcgX05vb3BHZXRUZXN0YWJpbGl0eSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBfcGxhdGZvcm07XG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGVGYWN0b3J5KGluamVjdG9yLCBvcHRpb25zLCBtb2R1bGVUeXBlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5nTW9kdWxlVHlwZShtb2R1bGVUeXBlKTtcbiAgICBjb25zdCBtb2R1bGVGYWN0b3J5ID0gbmV3IE5nTW9kdWxlRmFjdG9yeShtb2R1bGVUeXBlKTtcbiAgICAvLyBBbGwgb2YgdGhlIGxvZ2ljIGJlbG93IGlzIGlycmVsZXZhbnQgZm9yIEFPVC1jb21waWxlZCBjb2RlLlxuICAgIGlmICh0eXBlb2YgbmdKaXRNb2RlICE9PSAndW5kZWZpbmVkJyAmJiAhbmdKaXRNb2RlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGluamVjdG9yLmdldChDT01QSUxFUl9PUFRJT05TLCBbXSkuY29uY2F0KG9wdGlvbnMpO1xuICAgIC8vIENvbmZpZ3VyZSB0aGUgY29tcGlsZXIgdG8gdXNlIHRoZSBwcm92aWRlZCBvcHRpb25zLiBUaGlzIGNhbGwgbWF5IGZhaWwgd2hlbiBtdWx0aXBsZSBtb2R1bGVzXG4gICAgLy8gYXJlIGJvb3RzdHJhcHBlZCB3aXRoIGluY29tcGF0aWJsZSBvcHRpb25zLCBhcyBhIGNvbXBvbmVudCBjYW4gb25seSBiZSBjb21waWxlZCBhY2NvcmRpbmcgdG9cbiAgICAvLyBhIHNpbmdsZSBzZXQgb2Ygb3B0aW9ucy5cbiAgICBzZXRKaXRPcHRpb25zKHtcbiAgICAgICAgZGVmYXVsdEVuY2Fwc3VsYXRpb246IF9sYXN0RGVmaW5lZChjb21waWxlck9wdGlvbnMubWFwKG9wdHMgPT4gb3B0cy5kZWZhdWx0RW5jYXBzdWxhdGlvbikpLFxuICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBfbGFzdERlZmluZWQoY29tcGlsZXJPcHRpb25zLm1hcChvcHRzID0+IG9wdHMucHJlc2VydmVXaGl0ZXNwYWNlcykpLFxuICAgIH0pO1xuICAgIGlmIChpc0NvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlRW1wdHkoKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1vZHVsZUZhY3RvcnkpO1xuICAgIH1cbiAgICBjb25zdCBjb21waWxlclByb3ZpZGVycyA9IF9tZXJnZUFycmF5cyhjb21waWxlck9wdGlvbnMubWFwKG8gPT4gby5wcm92aWRlcnMpKTtcbiAgICAvLyBJbiBjYXNlIHRoZXJlIGFyZSBubyBjb21waWxlciBwcm92aWRlcnMsIHdlIGp1c3QgcmV0dXJuIHRoZSBtb2R1bGUgZmFjdG9yeSBhc1xuICAgIC8vIHRoZXJlIHdvbid0IGJlIGFueSByZXNvdXJjZSBsb2FkZXIuIFRoaXMgY2FuIGhhcHBlbiB3aXRoIEl2eSwgYmVjYXVzZSBBT1QgY29tcGlsZWRcbiAgICAvLyBtb2R1bGVzIGNhbiBiZSBzdGlsbCBwYXNzZWQgdGhyb3VnaCBcImJvb3RzdHJhcE1vZHVsZVwiLiBJbiB0aGF0IGNhc2Ugd2Ugc2hvdWxkbid0XG4gICAgLy8gdW5uZWNlc3NhcmlseSByZXF1aXJlIHRoZSBKSVQgY29tcGlsZXIuXG4gICAgaWYgKGNvbXBpbGVyUHJvdmlkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1vZHVsZUZhY3RvcnkpO1xuICAgIH1cbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHtcbiAgICAgICAgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLFxuICAgICAgICBraW5kOiAnTmdNb2R1bGUnLFxuICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBpbGVySW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IGNvbXBpbGVyUHJvdmlkZXJzIH0pO1xuICAgIGNvbnN0IHJlc291cmNlTG9hZGVyID0gY29tcGlsZXJJbmplY3Rvci5nZXQoY29tcGlsZXIuUmVzb3VyY2VMb2FkZXIpO1xuICAgIC8vIFRoZSByZXNvdXJjZSBsb2FkZXIgY2FuIGFsc28gcmV0dXJuIGEgc3RyaW5nIHdoaWxlIHRoZSBcInJlc29sdmVDb21wb25lbnRSZXNvdXJjZXNcIlxuICAgIC8vIGFsd2F5cyBleHBlY3RzIGEgcHJvbWlzZS4gVGhlcmVmb3JlIHdlIG5lZWQgdG8gd3JhcCB0aGUgcmV0dXJuZWQgdmFsdWUgaW4gYSBwcm9taXNlLlxuICAgIHJldHVybiByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKHVybCA9PiBQcm9taXNlLnJlc29sdmUocmVzb3VyY2VMb2FkZXIuZ2V0KHVybCkpKVxuICAgICAgICAudGhlbigoKSA9PiBtb2R1bGVGYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMoKSB7XG4gICAgbmdEZXZNb2RlICYmIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMkMSgpO1xufVxuZnVuY3Rpb24gaXNCb3VuZFRvTW9kdWxlKGNmKSB7XG4gICAgcmV0dXJuIGNmLmlzQm91bmRUb01vZHVsZTtcbn1cbmNvbnN0IEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignQWxsb3dNdWx0aXBsZVRva2VuJyk7XG4vKipcbiAqIEEgdG9rZW4gZm9yIHRoaXJkLXBhcnR5IGNvbXBvbmVudHMgdGhhdCBjYW4gcmVnaXN0ZXIgdGhlbXNlbHZlcyB3aXRoIE5nUHJvYmUuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBOZ1Byb2JlVG9rZW4ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRva2VuKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSBwbGF0Zm9ybS5cbiAqIFBsYXRmb3JtcyBtdXN0IGJlIGNyZWF0ZWQgb24gbGF1bmNoIHVzaW5nIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBjcmVhdGVQbGF0Zm9ybShpbmplY3Rvcikge1xuICAgIGlmIChfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQgJiZcbiAgICAgICAgIV9wbGF0Zm9ybS5pbmplY3Rvci5nZXQoQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TLCBmYWxzZSkpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgJ1RoZXJlIGNhbiBiZSBvbmx5IG9uZSBwbGF0Zm9ybS4gRGVzdHJveSB0aGUgcHJldmlvdXMgb25lIHRvIGNyZWF0ZSBhIG5ldyBvbmUuJyA6XG4gICAgICAgICAgICAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDAgLyogTVVMVElQTEVfUExBVEZPUk1TICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzKCk7XG4gICAgX3BsYXRmb3JtID0gaW5qZWN0b3IuZ2V0KFBsYXRmb3JtUmVmKTtcbiAgICBjb25zdCBpbml0cyA9IGluamVjdG9yLmdldChQTEFURk9STV9JTklUSUFMSVpFUiwgbnVsbCk7XG4gICAgaWYgKGluaXRzKVxuICAgICAgICBpbml0cy5mb3JFYWNoKChpbml0KSA9PiBpbml0KCkpO1xuICAgIHJldHVybiBfcGxhdGZvcm07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBmYWN0b3J5IGZvciBhIHBsYXRmb3JtLiBDYW4gYmUgdXNlZCB0byBwcm92aWRlIG9yIG92ZXJyaWRlIGBQcm92aWRlcnNgIHNwZWNpZmljIHRvXG4gKiB5b3VyIGFwcGxpY2F0aW9uJ3MgcnVudGltZSBuZWVkcywgc3VjaCBhcyBgUExBVEZPUk1fSU5JVElBTElaRVJgIGFuZCBgUExBVEZPUk1fSURgLlxuICogQHBhcmFtIHBhcmVudFBsYXRmb3JtRmFjdG9yeSBBbm90aGVyIHBsYXRmb3JtIGZhY3RvcnkgdG8gbW9kaWZ5LiBBbGxvd3MgeW91IHRvIGNvbXBvc2UgZmFjdG9yaWVzXG4gKiB0byBidWlsZCB1cCBjb25maWd1cmF0aW9ucyB0aGF0IG1pZ2h0IGJlIHJlcXVpcmVkIGJ5IGRpZmZlcmVudCBsaWJyYXJpZXMgb3IgcGFydHMgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSBuYW1lIElkZW50aWZpZXMgdGhlIG5ldyBwbGF0Zm9ybSBmYWN0b3J5LlxuICogQHBhcmFtIHByb3ZpZGVycyBBIHNldCBvZiBkZXBlbmRlbmN5IHByb3ZpZGVycyBmb3IgcGxhdGZvcm1zIGNyZWF0ZWQgd2l0aCB0aGUgbmV3IGZhY3RvcnkuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBjcmVhdGVQbGF0Zm9ybUZhY3RvcnkocGFyZW50UGxhdGZvcm1GYWN0b3J5LCBuYW1lLCBwcm92aWRlcnMgPSBbXSkge1xuICAgIGNvbnN0IGRlc2MgPSBgUGxhdGZvcm06ICR7bmFtZX1gO1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBJbmplY3Rpb25Ub2tlbihkZXNjKTtcbiAgICByZXR1cm4gKGV4dHJhUHJvdmlkZXJzID0gW10pID0+IHtcbiAgICAgICAgbGV0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oKTtcbiAgICAgICAgaWYgKCFwbGF0Zm9ybSB8fCBwbGF0Zm9ybS5pbmplY3Rvci5nZXQoQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnRQbGF0Zm9ybUZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRQbGF0Zm9ybUZhY3RvcnkocHJvdmlkZXJzLmNvbmNhdChleHRyYVByb3ZpZGVycykuY29uY2F0KHsgcHJvdmlkZTogbWFya2VyLCB1c2VWYWx1ZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmplY3RlZFByb3ZpZGVycyA9IHByb3ZpZGVycy5jb25jYXQoZXh0cmFQcm92aWRlcnMpLmNvbmNhdCh7IHByb3ZpZGU6IG1hcmtlciwgdXNlVmFsdWU6IHRydWUgfSwge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBJTkpFQ1RPUl9TQ09QRSxcbiAgICAgICAgICAgICAgICAgICAgdXNlVmFsdWU6ICdwbGF0Zm9ybSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjcmVhdGVQbGF0Zm9ybShJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IGluamVjdGVkUHJvdmlkZXJzLCBuYW1lOiBkZXNjIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzZXJ0UGxhdGZvcm0obWFya2VyKTtcbiAgICB9O1xufVxuLyoqXG4gKiBDaGVja3MgdGhhdCB0aGVyZSBpcyBjdXJyZW50bHkgYSBwbGF0Zm9ybSB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiB0b2tlbiBhcyBhIHByb3ZpZGVyLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0UGxhdGZvcm0ocmVxdWlyZWRUb2tlbikge1xuICAgIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oKTtcbiAgICBpZiAoIXBsYXRmb3JtKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID8gJ05vIHBsYXRmb3JtIGV4aXN0cyEnIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAxIC8qIFBMQVRGT1JNX05PVF9GT1VORCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmXG4gICAgICAgICFwbGF0Zm9ybS5pbmplY3Rvci5nZXQocmVxdWlyZWRUb2tlbiwgbnVsbCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDAgLyogTVVMVElQTEVfUExBVEZPUk1TICovLCAnQSBwbGF0Zm9ybSB3aXRoIGEgZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gY3JlYXRlZC4gUGxlYXNlIGRlc3Ryb3kgaXQgZmlyc3QuJyk7XG4gICAgfVxuICAgIHJldHVybiBwbGF0Zm9ybTtcbn1cbi8qKlxuICogRGVzdHJveXMgdGhlIGN1cnJlbnQgQW5ndWxhciBwbGF0Zm9ybSBhbmQgYWxsIEFuZ3VsYXIgYXBwbGljYXRpb25zIG9uIHRoZSBwYWdlLlxuICogRGVzdHJveXMgYWxsIG1vZHVsZXMgYW5kIGxpc3RlbmVycyByZWdpc3RlcmVkIHdpdGggdGhlIHBsYXRmb3JtLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVBsYXRmb3JtKCkge1xuICAgIGlmIChfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQpIHtcbiAgICAgICAgX3BsYXRmb3JtLmRlc3Ryb3koKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRQbGF0Zm9ybSgpIHtcbiAgICByZXR1cm4gX3BsYXRmb3JtICYmICFfcGxhdGZvcm0uZGVzdHJveWVkID8gX3BsYXRmb3JtIDogbnVsbDtcbn1cbi8qKlxuICogVGhlIEFuZ3VsYXIgcGxhdGZvcm0gaXMgdGhlIGVudHJ5IHBvaW50IGZvciBBbmd1bGFyIG9uIGEgd2ViIHBhZ2UuXG4gKiBFYWNoIHBhZ2UgaGFzIGV4YWN0bHkgb25lIHBsYXRmb3JtLiBTZXJ2aWNlcyAoc3VjaCBhcyByZWZsZWN0aW9uKSB3aGljaCBhcmUgY29tbW9uXG4gKiB0byBldmVyeSBBbmd1bGFyIGFwcGxpY2F0aW9uIHJ1bm5pbmcgb24gdGhlIHBhZ2UgYXJlIGJvdW5kIGluIGl0cyBzY29wZS5cbiAqIEEgcGFnZSdzIHBsYXRmb3JtIGlzIGluaXRpYWxpemVkIGltcGxpY2l0bHkgd2hlbiBhIHBsYXRmb3JtIGlzIGNyZWF0ZWQgdXNpbmcgYSBwbGF0Zm9ybVxuICogZmFjdG9yeSBzdWNoIGFzIGBQbGF0Zm9ybUJyb3dzZXJgLCBvciBleHBsaWNpdGx5IGJ5IGNhbGxpbmcgdGhlIGBjcmVhdGVQbGF0Zm9ybSgpYCBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFBsYXRmb3JtUmVmIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29uc3RydWN0b3IoX2luamVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLl9tb2R1bGVzID0gW107XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYEBOZ01vZHVsZWAgZm9yIHRoZSBnaXZlbiBwbGF0Zm9ybS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBhc3NpbmcgTmdNb2R1bGUgZmFjdG9yaWVzIGFzIHRoZSBgUGxhdGZvcm1SZWYuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeWAgZnVuY3Rpb25cbiAgICAgKiAgICAgYXJndW1lbnQgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBgUGxhdGZvcm1SZWYuYm9vdHN0cmFwTW9kdWxlYCBBUEkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnksIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgbmVlZCB0byBjcmVhdGUgdGhlIE5nWm9uZSBfYmVmb3JlXyB3ZSBpbnN0YW50aWF0ZSB0aGUgbW9kdWxlLFxuICAgICAgICAvLyBhcyBpbnN0YW50aWF0aW5nIHRoZSBtb2R1bGUgY3JlYXRlcyBzb21lIHByb3ZpZGVycyBlYWdlcmx5LlxuICAgICAgICAvLyBTbyB3ZSBjcmVhdGUgYSBtaW5pIHBhcmVudCBpbmplY3RvciB0aGF0IGp1c3QgY29udGFpbnMgdGhlIG5ldyBOZ1pvbmUgYW5kXG4gICAgICAgIC8vIHBhc3MgdGhhdCBhcyBwYXJlbnQgdG8gdGhlIE5nTW9kdWxlRmFjdG9yeS5cbiAgICAgICAgY29uc3Qgbmdab25lT3B0aW9uID0gb3B0aW9ucyA/IG9wdGlvbnMubmdab25lIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBuZ1pvbmVFdmVudENvYWxlc2NpbmcgPSAob3B0aW9ucyAmJiBvcHRpb25zLm5nWm9uZUV2ZW50Q29hbGVzY2luZykgfHwgZmFsc2U7XG4gICAgICAgIGNvbnN0IG5nWm9uZVJ1bkNvYWxlc2NpbmcgPSAob3B0aW9ucyAmJiBvcHRpb25zLm5nWm9uZVJ1bkNvYWxlc2NpbmcpIHx8IGZhbHNlO1xuICAgICAgICBjb25zdCBuZ1pvbmUgPSBnZXROZ1pvbmUobmdab25lT3B0aW9uLCB7IG5nWm9uZUV2ZW50Q29hbGVzY2luZywgbmdab25lUnVuQ29hbGVzY2luZyB9KTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gW3sgcHJvdmlkZTogTmdab25lLCB1c2VWYWx1ZTogbmdab25lIH1dO1xuICAgICAgICAvLyBOb3RlOiBDcmVhdGUgbmdab25lSW5qZWN0b3Igd2l0aGluIG5nWm9uZS5ydW4gc28gdGhhdCBhbGwgb2YgdGhlIGluc3RhbnRpYXRlZCBzZXJ2aWNlcyBhcmVcbiAgICAgICAgLy8gY3JlYXRlZCB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZVxuICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIHJlcGxhY2Ugbmdab25lLnJ1biB3aXRoIEFwcGxpY2F0aW9uUmVmI3J1biBiZWNhdXNlIEFwcGxpY2F0aW9uUmVmIHdvdWxkIHRoZW4gYmVcbiAgICAgICAgLy8gY3JlYXRlZCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICAgIHJldHVybiBuZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5nWm9uZUluamVjdG9yID0gSW5qZWN0b3IuY3JlYXRlKHsgcHJvdmlkZXJzOiBwcm92aWRlcnMsIHBhcmVudDogdGhpcy5pbmplY3RvciwgbmFtZTogbW9kdWxlRmFjdG9yeS5tb2R1bGVUeXBlLm5hbWUgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2R1bGVSZWYgPSBtb2R1bGVGYWN0b3J5LmNyZWF0ZShuZ1pvbmVJbmplY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBleGNlcHRpb25IYW5kbGVyID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChFcnJvckhhbmRsZXIsIG51bGwpO1xuICAgICAgICAgICAgaWYgKCFleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICAgICAnTm8gRXJyb3JIYW5kbGVyLiBJcyBwbGF0Zm9ybSBtb2R1bGUgKEJyb3dzZXJNb2R1bGUpIGluY2x1ZGVkPycgOlxuICAgICAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMiAvKiBFUlJPUl9IQU5ETEVSX05PVF9GT1VORCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmdab25lLm9uRXJyb3Iuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGNlcHRpb25IYW5kbGVyLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vZHVsZVJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUodGhpcy5fbW9kdWxlcywgbW9kdWxlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyKGV4Y2VwdGlvbkhhbmRsZXIsIG5nWm9uZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRTdGF0dXMgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uSW5pdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgaW5pdFN0YXR1cy5ydW5Jbml0aWFsaXplcnMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFN0YXR1cy5kb25lUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGBMT0NBTEVfSURgIHByb3ZpZGVyIGlzIGRlZmluZWQgYXQgYm9vdHN0cmFwIHRoZW4gd2Ugc2V0IHRoZSB2YWx1ZSBmb3IgaXZ5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsZUlkID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChMT0NBTEVfSUQsIERFRkFVTFRfTE9DQUxFX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0TG9jYWxlSWQobG9jYWxlSWQgfHwgREVGQVVMVF9MT0NBTEVfSUQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tb2R1bGVEb0Jvb3RzdHJhcChtb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlUmVmO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIGBATmdNb2R1bGVgIGZvciBhIGdpdmVuIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgU2ltcGxlIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBATmdNb2R1bGUoe1xuICAgICAqICAgaW1wb3J0czogW0Jyb3dzZXJNb2R1bGVdXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBNeU1vZHVsZSB7fVxuICAgICAqXG4gICAgICogbGV0IG1vZHVsZVJlZiA9IHBsYXRmb3JtQnJvd3NlcigpLmJvb3RzdHJhcE1vZHVsZShNeU1vZHVsZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zID0gW10pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNSZWR1Y2VyKHt9LCBjb21waWxlck9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gY29tcGlsZU5nTW9kdWxlRmFjdG9yeSh0aGlzLmluamVjdG9yLCBvcHRpb25zLCBtb2R1bGVUeXBlKVxuICAgICAgICAgICAgLnRoZW4obW9kdWxlRmFjdG9yeSA9PiB0aGlzLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBfbW9kdWxlRG9Cb290c3RyYXAobW9kdWxlUmVmKSB7XG4gICAgICAgIGNvbnN0IGFwcFJlZiA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpO1xuICAgICAgICBpZiAobW9kdWxlUmVmLl9ib290c3RyYXBDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1vZHVsZVJlZi5fYm9vdHN0cmFwQ29tcG9uZW50cy5mb3JFYWNoKGYgPT4gYXBwUmVmLmJvb3RzdHJhcChmKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kdWxlUmVmLmluc3RhbmNlLm5nRG9Cb290c3RyYXApIHtcbiAgICAgICAgICAgIG1vZHVsZVJlZi5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKGFwcFJlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgYFRoZSBtb2R1bGUgJHtzdHJpbmdpZnkobW9kdWxlUmVmLmluc3RhbmNlLmNvbnN0cnVjdG9yKX0gd2FzIGJvb3RzdHJhcHBlZCwgYCArXG4gICAgICAgICAgICAgICAgICAgIGBidXQgaXQgZG9lcyBub3QgZGVjbGFyZSBcIkBOZ01vZHVsZS5ib290c3RyYXBcIiBjb21wb25lbnRzIG5vciBhIFwibmdEb0Jvb3RzdHJhcFwiIG1ldGhvZC4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgZGVmaW5lIG9uZSBvZiB0aGVzZS5gIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAzIC8qIEJPT1RTVFJBUF9DT01QT05FTlRTX05PVF9GT1VORCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tb2R1bGVzLnB1c2gobW9kdWxlUmVmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHBsYXRmb3JtIGlzIGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBwbGF0Zm9ybSB7QGxpbmsgSW5qZWN0b3J9LCB3aGljaCBpcyB0aGUgcGFyZW50IGluamVjdG9yIGZvclxuICAgICAqIGV2ZXJ5IEFuZ3VsYXIgYXBwbGljYXRpb24gb24gdGhlIHBhZ2UgYW5kIHByb3ZpZGVzIHNpbmdsZXRvbiBwcm92aWRlcnMuXG4gICAgICovXG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjdXJyZW50IEFuZ3VsYXIgcGxhdGZvcm0gYW5kIGFsbCBBbmd1bGFyIGFwcGxpY2F0aW9ucyBvbiB0aGUgcGFnZS5cbiAgICAgKiBEZXN0cm95cyBhbGwgbW9kdWxlcyBhbmQgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgcGxhdGZvcm0uXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICdUaGUgcGxhdGZvcm0gaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQhJyA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwNCAvKiBBTFJFQURZX0RFU1RST1lFRF9QTEFURk9STSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tb2R1bGVzLnNsaWNlKCkuZm9yRWFjaChtb2R1bGUgPT4gbW9kdWxlLmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcigpKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IGRlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDtcbiAgICB9XG59XG5QbGF0Zm9ybVJlZi7JtWZhYyA9IGZ1bmN0aW9uIFBsYXRmb3JtUmVmX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IFBsYXRmb3JtUmVmKSjJtcm1aW5qZWN0KEluamVjdG9yKSk7IH07XG5QbGF0Zm9ybVJlZi7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IFBsYXRmb3JtUmVmLCBmYWN0b3J5OiBQbGF0Zm9ybVJlZi7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7ICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShQbGF0Zm9ybVJlZiwgW3tcbiAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBJbmplY3RvciB9XTsgfSwgbnVsbCk7IH0pKCk7XG5mdW5jdGlvbiBnZXROZ1pvbmUobmdab25lT3B0aW9uLCBleHRyYSkge1xuICAgIGxldCBuZ1pvbmU7XG4gICAgaWYgKG5nWm9uZU9wdGlvbiA9PT0gJ25vb3AnKSB7XG4gICAgICAgIG5nWm9uZSA9IG5ldyBOb29wTmdab25lKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ1pvbmUgPSAobmdab25lT3B0aW9uID09PSAnem9uZS5qcycgPyB1bmRlZmluZWQgOiBuZ1pvbmVPcHRpb24pIHx8IG5ldyBOZ1pvbmUoe1xuICAgICAgICAgICAgZW5hYmxlTG9uZ1N0YWNrVHJhY2U6IHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiAhIW5nRGV2TW9kZSxcbiAgICAgICAgICAgIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246ICEhZXh0cmE/Lm5nWm9uZUV2ZW50Q29hbGVzY2luZyxcbiAgICAgICAgICAgIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uOiAhIWV4dHJhPy5uZ1pvbmVSdW5Db2FsZXNjaW5nXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmdab25lO1xufVxuZnVuY3Rpb24gX2NhbGxBbmRSZXBvcnRUb0Vycm9ySGFuZGxlcihlcnJvckhhbmRsZXIsIG5nWm9uZSwgY2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpKTtcbiAgICAgICAgICAgICAgICAvLyByZXRocm93IGFzIHRoZSBleGNlcHRpb24gaGFuZGxlciBtaWdodCBub3QgZG8gaXRcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IGVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSk7XG4gICAgICAgIC8vIHJldGhyb3cgYXMgdGhlIGV4Y2VwdGlvbiBoYW5kbGVyIG1pZ2h0IG5vdCBkbyBpdFxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9wdGlvbnNSZWR1Y2VyKGRzdCwgb2Jqcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9ianMpKSB7XG4gICAgICAgIGRzdCA9IG9ianMucmVkdWNlKG9wdGlvbnNSZWR1Y2VyLCBkc3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZHN0ID0geyAuLi5kc3QsIC4uLm9ianMgfTtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQSByZWZlcmVuY2UgdG8gYW4gQW5ndWxhciBhcHBsaWNhdGlvbiBydW5uaW5nIG9uIGEgcGFnZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIHtAYSBpcy1zdGFibGUtZXhhbXBsZXN9XG4gKiAjIyMgaXNTdGFibGUgZXhhbXBsZXMgYW5kIGNhdmVhdHNcbiAqXG4gKiBOb3RlIHR3byBpbXBvcnRhbnQgcG9pbnRzIGFib3V0IGBpc1N0YWJsZWAsIGRlbW9uc3RyYXRlZCBpbiB0aGUgZXhhbXBsZXMgYmVsb3c6XG4gKiAtIHRoZSBhcHBsaWNhdGlvbiB3aWxsIG5ldmVyIGJlIHN0YWJsZSBpZiB5b3Ugc3RhcnQgYW55IGtpbmRcbiAqIG9mIHJlY3VycmVudCBhc3luY2hyb25vdXMgdGFzayB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHNcbiAqIChmb3IgZXhhbXBsZSBmb3IgYSBwb2xsaW5nIHByb2Nlc3MsIHN0YXJ0ZWQgd2l0aCBhIGBzZXRJbnRlcnZhbGAsIGEgYHNldFRpbWVvdXRgXG4gKiBvciB1c2luZyBSeEpTIG9wZXJhdG9ycyBsaWtlIGBpbnRlcnZhbGApO1xuICogLSB0aGUgYGlzU3RhYmxlYCBPYnNlcnZhYmxlIHJ1bnMgb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICpcbiAqIExldCdzIGltYWdpbmUgdGhhdCB5b3Ugc3RhcnQgYSByZWN1cnJlbnQgdGFza1xuICogKGhlcmUgaW5jcmVtZW50aW5nIGEgY291bnRlciwgdXNpbmcgUnhKUyBgaW50ZXJ2YWxgKSxcbiAqIGFuZCBhdCB0aGUgc2FtZSB0aW1lIHN1YnNjcmliZSB0byBgaXNTdGFibGVgLlxuICpcbiAqIGBgYFxuICogY29uc3RydWN0b3IoYXBwUmVmOiBBcHBsaWNhdGlvblJlZikge1xuICogICBhcHBSZWYuaXNTdGFibGUucGlwZShcbiAqICAgICAgZmlsdGVyKHN0YWJsZSA9PiBzdGFibGUpXG4gKiAgICkuc3Vic2NyaWJlKCgpID0+IGNvbnNvbGUubG9nKCdBcHAgaXMgc3RhYmxlIG5vdycpO1xuICogICBpbnRlcnZhbCgxMDAwKS5zdWJzY3JpYmUoY291bnRlciA9PiBjb25zb2xlLmxvZyhjb3VudGVyKSk7XG4gKiB9XG4gKiBgYGBcbiAqIEluIHRoaXMgZXhhbXBsZSwgYGlzU3RhYmxlYCB3aWxsIG5ldmVyIGVtaXQgYHRydWVgLFxuICogYW5kIHRoZSB0cmFjZSBcIkFwcCBpcyBzdGFibGUgbm93XCIgd2lsbCBuZXZlciBnZXQgbG9nZ2VkLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIGV4ZWN1dGUgc29tZXRoaW5nIHdoZW4gdGhlIGFwcCBpcyBzdGFibGUsXG4gKiB5b3UgaGF2ZSB0byB3YWl0IGZvciB0aGUgYXBwbGljYXRpb24gdG8gYmUgc3RhYmxlXG4gKiBiZWZvcmUgc3RhcnRpbmcgeW91ciBwb2xsaW5nIHByb2Nlc3MuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgIGZpcnN0KHN0YWJsZSA9PiBzdGFibGUpLFxuICogICAgIHRhcChzdGFibGUgPT4gY29uc29sZS5sb2coJ0FwcCBpcyBzdGFibGUgbm93JykpLFxuICogICAgIHN3aXRjaE1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSlcbiAqICAgKS5zdWJzY3JpYmUoY291bnRlciA9PiBjb25zb2xlLmxvZyhjb3VudGVyKSk7XG4gKiB9XG4gKiBgYGBcbiAqIEluIHRoaXMgZXhhbXBsZSwgdGhlIHRyYWNlIFwiQXBwIGlzIHN0YWJsZSBub3dcIiB3aWxsIGJlIGxvZ2dlZFxuICogYW5kIHRoZW4gdGhlIGNvdW50ZXIgc3RhcnRzIGluY3JlbWVudGluZyBldmVyeSBzZWNvbmQuXG4gKlxuICogTm90ZSBhbHNvIHRoYXQgdGhpcyBPYnNlcnZhYmxlIHJ1bnMgb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLFxuICogd2hpY2ggbWVhbnMgdGhhdCB0aGUgY29kZSBpbiB0aGUgc3Vic2NyaXB0aW9uXG4gKiB0byB0aGlzIE9ic2VydmFibGUgd2lsbCBub3QgdHJpZ2dlciB0aGUgY2hhbmdlIGRldGVjdGlvbi5cbiAqXG4gKiBMZXQncyBpbWFnaW5lIHRoYXQgaW5zdGVhZCBvZiBsb2dnaW5nIHRoZSBjb3VudGVyIHZhbHVlLFxuICogeW91IHVwZGF0ZSBhIGZpZWxkIG9mIHlvdXIgY29tcG9uZW50XG4gKiBhbmQgZGlzcGxheSBpdCBpbiBpdHMgdGVtcGxhdGUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgIGZpcnN0KHN0YWJsZSA9PiBzdGFibGUpLFxuICogICAgIHN3aXRjaE1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSlcbiAqICAgKS5zdWJzY3JpYmUoY291bnRlciA9PiB0aGlzLnZhbHVlID0gY291bnRlcik7XG4gKiB9XG4gKiBgYGBcbiAqIEFzIHRoZSBgaXNTdGFibGVgIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIHRoZSB6b25lLFxuICogdGhlIGB2YWx1ZWAgZmllbGQgd2lsbCBiZSB1cGRhdGVkIHByb3Blcmx5LFxuICogYnV0IHRoZSB0ZW1wbGF0ZSB3aWxsIG5vdCBiZSByZWZyZXNoZWQhXG4gKlxuICogWW91J2xsIGhhdmUgdG8gbWFudWFsbHkgdHJpZ2dlciB0aGUgY2hhbmdlIGRldGVjdGlvbiB0byB1cGRhdGUgdGhlIHRlbXBsYXRlLlxuICpcbiAqIGBgYFxuICogY29uc3RydWN0b3IoYXBwUmVmOiBBcHBsaWNhdGlvblJlZiwgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgIGZpcnN0KHN0YWJsZSA9PiBzdGFibGUpLFxuICogICAgIHN3aXRjaE1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSlcbiAqICAgKS5zdWJzY3JpYmUoY291bnRlciA9PiB7XG4gKiAgICAgdGhpcy52YWx1ZSA9IGNvdW50ZXI7XG4gKiAgICAgY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE9yIG1ha2UgdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjayBydW4gaW5zaWRlIHRoZSB6b25lLlxuICpcbiAqIGBgYFxuICogY29uc3RydWN0b3IoYXBwUmVmOiBBcHBsaWNhdGlvblJlZiwgem9uZTogTmdab25lKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgIGZpcnN0KHN0YWJsZSA9PiBzdGFibGUpLFxuICogICAgIHN3aXRjaE1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSlcbiAqICAgKS5zdWJzY3JpYmUoY291bnRlciA9PiB6b25lLnJ1bigoKSA9PiB0aGlzLnZhbHVlID0gY291bnRlcikpO1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBBcHBsaWNhdGlvblJlZiB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbnN0cnVjdG9yKF96b25lLCBfaW5qZWN0b3IsIF9leGNlcHRpb25IYW5kbGVyLCBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfaW5pdFN0YXR1cykge1xuICAgICAgICB0aGlzLl96b25lID0gX3pvbmU7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLl9leGNlcHRpb25IYW5kbGVyID0gX2V4Y2VwdGlvbkhhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX2luaXRTdGF0dXMgPSBfaW5pdFN0YXR1cztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fdmlld3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY29tcG9uZW50IHR5cGVzIHJlZ2lzdGVyZWQgdG8gdGhpcyBhcHBsaWNhdGlvbi5cbiAgICAgICAgICogVGhpcyBsaXN0IGlzIHBvcHVsYXRlZCBldmVuIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIGNyZWF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBvbmVudFR5cGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBsaXN0IG9mIGNvbXBvbmVudHMgcmVnaXN0ZXJlZCB0byB0aGlzIGFwcGxpY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24gPSB0aGlzLl96b25lLm9uTWljcm90YXNrRW1wdHkuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl96b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaXNDdXJyZW50bHlTdGFibGUgPSBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YWJsZSA9IHRoaXMuX3pvbmUuaXNTdGFibGUgJiYgIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcztcbiAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodGhpcy5fc3RhYmxlKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpc1N0YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBzdWJzY3JpcHRpb24gdG8gb25TdGFibGUgb3V0c2lkZSB0aGUgQW5ndWxhciBab25lIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIHRoZSBjYWxsYmFjayBpcyBydW4gb3V0c2lkZSB0aGUgQW5ndWxhciBab25lLlxuICAgICAgICAgICAgbGV0IHN0YWJsZVN1YjtcbiAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YWJsZVN1YiA9IHRoaXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGVyZSBhcmUgbm8gcGVuZGluZyBtYWNyby9taWNybyB0YXNrcyBpbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IGZvciBOZ1pvbmUgdG8gdXBkYXRlIHRoZSBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGFibGUgJiYgIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVuc3RhYmxlU3ViID0gdGhpcy5fem9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgTmdab25lLmFzc2VydEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhYmxlU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgdW5zdGFibGVTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlzU3RhYmxlID1cbiAgICAgICAgICAgIG1lcmdlJDEoaXNDdXJyZW50bHlTdGFibGUsIGlzU3RhYmxlLnBpcGUoc2hhcmUoKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCb290c3RyYXAgYSBjb21wb25lbnQgb250byB0aGUgZWxlbWVudCBpZGVudGlmaWVkIGJ5IGl0cyBzZWxlY3RvciBvciwgb3B0aW9uYWxseSwgdG8gYVxuICAgICAqIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgQm9vdHN0cmFwIHByb2Nlc3NcbiAgICAgKlxuICAgICAqIFdoZW4gYm9vdHN0cmFwcGluZyBhIGNvbXBvbmVudCwgQW5ndWxhciBtb3VudHMgaXQgb250byBhIHRhcmdldCBET00gZWxlbWVudFxuICAgICAqIGFuZCBraWNrcyBvZmYgYXV0b21hdGljIGNoYW5nZSBkZXRlY3Rpb24uIFRoZSB0YXJnZXQgRE9NIGVsZW1lbnQgY2FuIGJlXG4gICAgICogcHJvdmlkZWQgdXNpbmcgdGhlIGByb290U2VsZWN0b3JPck5vZGVgIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogSWYgdGhlIHRhcmdldCBET00gZWxlbWVudCBpcyBub3QgcHJvdmlkZWQsIEFuZ3VsYXIgdHJpZXMgdG8gZmluZCBvbmUgb24gYSBwYWdlXG4gICAgICogdXNpbmcgdGhlIGBzZWxlY3RvcmAgb2YgdGhlIGNvbXBvbmVudCB0aGF0IGlzIGJlaW5nIGJvb3RzdHJhcHBlZFxuICAgICAqIChmaXJzdCBtYXRjaGVkIGVsZW1lbnQgaXMgdXNlZCkuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogR2VuZXJhbGx5LCB3ZSBkZWZpbmUgdGhlIGNvbXBvbmVudCB0byBib290c3RyYXAgaW4gdGhlIGBib290c3RyYXBgIGFycmF5IG9mIGBOZ01vZHVsZWAsXG4gICAgICogYnV0IGl0IHJlcXVpcmVzIHVzIHRvIGtub3cgdGhlIGNvbXBvbmVudCB3aGlsZSB3cml0aW5nIHRoZSBhcHBsaWNhdGlvbiBjb2RlLlxuICAgICAqXG4gICAgICogSW1hZ2luZSBhIHNpdHVhdGlvbiB3aGVyZSB3ZSBoYXZlIHRvIHdhaXQgZm9yIGFuIEFQSSBjYWxsIHRvIGRlY2lkZSBhYm91dCB0aGUgY29tcG9uZW50IHRvXG4gICAgICogYm9vdHN0cmFwLiBXZSBjYW4gdXNlIHRoZSBgbmdEb0Jvb3RzdHJhcGAgaG9vayBvZiB0aGUgYE5nTW9kdWxlYCBhbmQgY2FsbCB0aGlzIG1ldGhvZCB0b1xuICAgICAqIGR5bmFtaWNhbGx5IGJvb3RzdHJhcCBhIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIHtAZXhhbXBsZSBjb3JlL3RzL3BsYXRmb3JtL3BsYXRmb3JtLnRzIHJlZ2lvbj0nY29tcG9uZW50U2VsZWN0b3InfVxuICAgICAqXG4gICAgICogT3B0aW9uYWxseSwgYSBjb21wb25lbnQgY2FuIGJlIG1vdW50ZWQgb250byBhIERPTSBlbGVtZW50IHRoYXQgZG9lcyBub3QgbWF0Y2ggdGhlXG4gICAgICogc2VsZWN0b3Igb2YgdGhlIGJvb3RzdHJhcHBlZCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBJbiB0aGUgZm9sbG93aW5nIGV4YW1wbGUsIHdlIGFyZSBwcm92aWRpbmcgYSBDU1Mgc2VsZWN0b3IgdG8gbWF0Y2ggdGhlIHRhcmdldCBlbGVtZW50LlxuICAgICAqXG4gICAgICoge0BleGFtcGxlIGNvcmUvdHMvcGxhdGZvcm0vcGxhdGZvcm0udHMgcmVnaW9uPSdjc3NTZWxlY3Rvcid9XG4gICAgICpcbiAgICAgKiBXaGlsZSBpbiB0aGlzIGV4YW1wbGUsIHdlIGFyZSBwcm92aWRpbmcgcmVmZXJlbmNlIHRvIGEgRE9NIG5vZGUuXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgY29yZS90cy9wbGF0Zm9ybS9wbGF0Zm9ybS50cyByZWdpb249J2RvbU5vZGUnfVxuICAgICAqL1xuICAgIGJvb3RzdHJhcChjb21wb25lbnRPckZhY3RvcnksIHJvb3RTZWxlY3Rvck9yTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRTdGF0dXMuZG9uZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICdDYW5ub3QgYm9vdHN0cmFwIGFzIHRoZXJlIGFyZSBzdGlsbCBhc3luY2hyb25vdXMgaW5pdGlhbGl6ZXJzIHJ1bm5pbmcuICcgK1xuICAgICAgICAgICAgICAgICAgICAnQm9vdHN0cmFwIGNvbXBvbmVudHMgaW4gdGhlIGBuZ0RvQm9vdHN0cmFwYCBtZXRob2Qgb2YgdGhlIHJvb3QgbW9kdWxlLicgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDUgLyogQVNZTkNfSU5JVElBTElaRVJTX1NUSUxMX1JVTk5JTkcgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbXBvbmVudEZhY3Rvcnk7XG4gICAgICAgIGlmIChjb21wb25lbnRPckZhY3RvcnkgaW5zdGFuY2VvZiBDb21wb25lbnRGYWN0b3J5JDEpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudEZhY3RvcnkgPSBjb21wb25lbnRPckZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wb25lbnRGYWN0b3J5ID1cbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50T3JGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBvbmVudFR5cGVzLnB1c2goY29tcG9uZW50RmFjdG9yeS5jb21wb25lbnRUeXBlKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgZmFjdG9yeSBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9kdWxlIGlmIGl0J3Mgbm90IGJvdW5kIHRvIHNvbWUgb3RoZXJcbiAgICAgICAgY29uc3QgbmdNb2R1bGUgPSBpc0JvdW5kVG9Nb2R1bGUoY29tcG9uZW50RmFjdG9yeSkgPyB1bmRlZmluZWQgOiB0aGlzLl9pbmplY3Rvci5nZXQoTmdNb2R1bGVSZWYkMSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yT3JOb2RlID0gcm9vdFNlbGVjdG9yT3JOb2RlIHx8IGNvbXBvbmVudEZhY3Rvcnkuc2VsZWN0b3I7XG4gICAgICAgIGNvbnN0IGNvbXBSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShJbmplY3Rvci5OVUxMLCBbXSwgc2VsZWN0b3JPck5vZGUsIG5nTW9kdWxlKTtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IGNvbXBSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgICAgICAgY29uc3QgdGVzdGFiaWxpdHkgPSBjb21wUmVmLmluamVjdG9yLmdldChUZXN0YWJpbGl0eSwgbnVsbCk7XG4gICAgICAgIGNvbnN0IHRlc3RhYmlsaXR5UmVnaXN0cnkgPSB0ZXN0YWJpbGl0eSAmJiBjb21wUmVmLmluamVjdG9yLmdldChUZXN0YWJpbGl0eVJlZ2lzdHJ5KTtcbiAgICAgICAgaWYgKHRlc3RhYmlsaXR5ICYmIHRlc3RhYmlsaXR5UmVnaXN0cnkpIHtcbiAgICAgICAgICAgIHRlc3RhYmlsaXR5UmVnaXN0cnkucmVnaXN0ZXJBcHBsaWNhdGlvbihuYXRpdmVFbGVtZW50LCB0ZXN0YWJpbGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcFJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hWaWV3KGNvbXBSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgcmVtb3ZlKHRoaXMuY29tcG9uZW50cywgY29tcFJlZik7XG4gICAgICAgICAgICBpZiAodGVzdGFiaWxpdHlSZWdpc3RyeSkge1xuICAgICAgICAgICAgICAgIHRlc3RhYmlsaXR5UmVnaXN0cnkudW5yZWdpc3RlckFwcGxpY2F0aW9uKG5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbG9hZENvbXBvbmVudChjb21wUmVmKTtcbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgY29uc3QgX2NvbnNvbGUgPSB0aGlzLl9pbmplY3Rvci5nZXQoQ29uc29sZSk7XG4gICAgICAgICAgICBfY29uc29sZS5sb2coYEFuZ3VsYXIgaXMgcnVubmluZyBpbiBkZXZlbG9wbWVudCBtb2RlLiBDYWxsIGVuYWJsZVByb2RNb2RlKCkgdG8gZW5hYmxlIHByb2R1Y3Rpb24gbW9kZS5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoaXMgbWV0aG9kIHRvIGV4cGxpY2l0bHkgcHJvY2VzcyBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBpdHMgc2lkZS1lZmZlY3RzLlxuICAgICAqXG4gICAgICogSW4gZGV2ZWxvcG1lbnQgbW9kZSwgYHRpY2soKWAgYWxzbyBwZXJmb3JtcyBhIHNlY29uZCBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlIHRvIGVuc3VyZSB0aGF0IG5vXG4gICAgICogZnVydGhlciBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gSWYgYWRkaXRpb25hbCBjaGFuZ2VzIGFyZSBwaWNrZWQgdXAgZHVyaW5nIHRoaXMgc2Vjb25kIGN5Y2xlLFxuICAgICAqIGJpbmRpbmdzIGluIHRoZSBhcHAgaGF2ZSBzaWRlLWVmZmVjdHMgdGhhdCBjYW5ub3QgYmUgcmVzb2x2ZWQgaW4gYSBzaW5nbGUgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIHBhc3MuXG4gICAgICogSW4gdGhpcyBjYXNlLCBBbmd1bGFyIHRocm93cyBhbiBlcnJvciwgc2luY2UgYW4gQW5ndWxhciBhcHBsaWNhdGlvbiBjYW4gb25seSBoYXZlIG9uZSBjaGFuZ2VcbiAgICAgKiBkZXRlY3Rpb24gcGFzcyBkdXJpbmcgd2hpY2ggYWxsIGNoYW5nZSBkZXRlY3Rpb24gbXVzdCBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICB0aWNrKCkge1xuICAgICAgICBpZiAodGhpcy5fcnVubmluZ1RpY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAnQXBwbGljYXRpb25SZWYudGljayBpcyBjYWxsZWQgcmVjdXJzaXZlbHknIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMTAxIC8qIFJFQ1VSU0lWRV9BUFBMSUNBVElPTl9SRUZfVElDSyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLl92aWV3cykge1xuICAgICAgICAgICAgICAgIHZpZXcuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHZpZXcgb2YgdGhpcy5fdmlld3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jaGVja05vQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gQXR0ZW50aW9uOiBEb24ndCByZXRocm93IGFzIGl0IGNvdWxkIGNhbmNlbCBzdWJzY3JpcHRpb25zIHRvIE9ic2VydmFibGVzIVxuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB0aGlzLl9leGNlcHRpb25IYW5kbGVyLmhhbmRsZUVycm9yKGUpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX3J1bm5pbmdUaWNrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB2aWV3IHNvIHRoYXQgaXQgd2lsbCBiZSBkaXJ0eSBjaGVja2VkLlxuICAgICAqIFRoZSB2aWV3IHdpbGwgYmUgYXV0b21hdGljYWxseSBkZXRhY2hlZCB3aGVuIGl0IGlzIGRlc3Ryb3llZC5cbiAgICAgKiBUaGlzIHdpbGwgdGhyb3cgaWYgdGhlIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIuXG4gICAgICovXG4gICAgYXR0YWNoVmlldyh2aWV3UmVmKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2aWV3UmVmO1xuICAgICAgICB0aGlzLl92aWV3cy5wdXNoKHZpZXcpO1xuICAgICAgICB2aWV3LmF0dGFjaFRvQXBwUmVmKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyBhIHZpZXcgZnJvbSBkaXJ0eSBjaGVja2luZyBhZ2Fpbi5cbiAgICAgKi9cbiAgICBkZXRhY2hWaWV3KHZpZXdSZWYpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZpZXdSZWY7XG4gICAgICAgIHJlbW92ZSh0aGlzLl92aWV3cywgdmlldyk7XG4gICAgICAgIHZpZXcuZGV0YWNoRnJvbUFwcFJlZigpO1xuICAgIH1cbiAgICBfbG9hZENvbXBvbmVudChjb21wb25lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjb21wb25lbnRSZWYpO1xuICAgICAgICAvLyBHZXQgdGhlIGxpc3RlbmVycyBsYXppbHkgdG8gcHJldmVudCBESSBjeWNsZXMuXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2luamVjdG9yLmdldChBUFBfQk9PVFNUUkFQX0xJU1RFTkVSLCBbXSkuY29uY2F0KHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycyk7XG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoY29tcG9uZW50UmVmKSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fdmlld3Muc2xpY2UoKS5mb3JFYWNoKCh2aWV3KSA9PiB2aWV3LmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGF0dGFjaGVkIHZpZXdzLlxuICAgICAqL1xuICAgIGdldCB2aWV3Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3cy5sZW5ndGg7XG4gICAgfVxufVxuQXBwbGljYXRpb25SZWYuybVmYWMgPSBmdW5jdGlvbiBBcHBsaWNhdGlvblJlZl9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBBcHBsaWNhdGlvblJlZikoybXJtWluamVjdChOZ1pvbmUpLCDJtcm1aW5qZWN0KEluamVjdG9yKSwgybXJtWluamVjdChFcnJvckhhbmRsZXIpLCDJtcm1aW5qZWN0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxKSwgybXJtWluamVjdChBcHBsaWNhdGlvbkluaXRTdGF0dXMpKTsgfTtcbkFwcGxpY2F0aW9uUmVmLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQXBwbGljYXRpb25SZWYsIGZhY3Rvcnk6IEFwcGxpY2F0aW9uUmVmLsm1ZmFjLCBwcm92aWRlZEluOiAncm9vdCcgfSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQXBwbGljYXRpb25SZWYsIFt7XG4gICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgIGFyZ3M6IFt7IHByb3ZpZGVkSW46ICdyb290JyB9XVxuICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOZ1pvbmUgfSwgeyB0eXBlOiBJbmplY3RvciB9LCB7IHR5cGU6IEVycm9ySGFuZGxlciB9LCB7IHR5cGU6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIH0sIHsgdHlwZTogQXBwbGljYXRpb25Jbml0U3RhdHVzIH1dOyB9LCBudWxsKTsgfSkoKTtcbmZ1bmN0aW9uIHJlbW92ZShsaXN0LCBlbCkge1xuICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuZnVuY3Rpb24gX2xhc3REZWZpbmVkKGFyZ3MpIHtcbiAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoYXJnc1tpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gX21lcmdlQXJyYXlzKHBhcnRzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgcGFydHMuZm9yRWFjaCgocGFydCkgPT4gcGFydCAmJiByZXN1bHQucHVzaCguLi5wYXJ0KSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBpcyB1c2VkIHRvIGNvbnRyb2wgaWYgdGhlIGRlZmF1bHQgcmVuZGVyaW5nIHBpcGVsaW5lIHNob3VsZCBiZSBgVmlld0VuZ2luZWAgb3IgYEl2eWAuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIHJ1biBhbmQgZGVidWcgdGVzdHMgd2l0aCBlaXRoZXIgSXZ5IG9yIFZpZXcgRW5naW5lIChsZWdhY3kpLFxuICogcGxlYXNlIHNlZSBbQkFaRUwubWRdKC4vZG9jcy9CQVpFTC5tZCkuXG4gKi9cbmxldCBfZGV2TW9kZSA9IHRydWU7XG5sZXQgX3J1bk1vZGVMb2NrZWQgPSBmYWxzZTtcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnQgbW9kZS4gQWZ0ZXIgY2FsbGVkIG9uY2UsXG4gKiB0aGUgdmFsdWUgaXMgbG9ja2VkIGFuZCB3b24ndCBjaGFuZ2UgYW55IG1vcmUuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhpcyBpcyB0cnVlLCB1bmxlc3MgYSB1c2VyIGNhbGxzIGBlbmFibGVQcm9kTW9kZWAgYmVmb3JlIGNhbGxpbmcgdGhpcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGlzRGV2TW9kZSgpIHtcbiAgICBfcnVuTW9kZUxvY2tlZCA9IHRydWU7XG4gICAgcmV0dXJuIF9kZXZNb2RlO1xufVxuLyoqXG4gKiBEaXNhYmxlIEFuZ3VsYXIncyBkZXZlbG9wbWVudCBtb2RlLCB3aGljaCB0dXJucyBvZmYgYXNzZXJ0aW9ucyBhbmQgb3RoZXJcbiAqIGNoZWNrcyB3aXRoaW4gdGhlIGZyYW1ld29yay5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGFzc2VydGlvbiB0aGlzIGRpc2FibGVzIHZlcmlmaWVzIHRoYXQgYSBjaGFuZ2UgZGV0ZWN0aW9uIHBhc3NcbiAqIGRvZXMgbm90IHJlc3VsdCBpbiBhZGRpdGlvbmFsIGNoYW5nZXMgdG8gYW55IGJpbmRpbmdzIChhbHNvIGtub3duIGFzXG4gKiB1bmlkaXJlY3Rpb25hbCBkYXRhIGZsb3cpLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZW5hYmxlUHJvZE1vZGUoKSB7XG4gICAgaWYgKF9ydW5Nb2RlTG9ja2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuJyk7XG4gICAgfVxuICAgIC8vIFRoZSBiZWxvdyBjaGVjayBpcyB0aGVyZSBzbyB3aGVuIG5nRGV2TW9kZSBpcyBzZXQgdmlhIHRlcnNlclxuICAgIC8vIGBnbG9iYWxbJ25nRGV2TW9kZSddID0gZmFsc2U7YCBpcyBhbHNvIGRyb3BwZWQuXG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IHVuZGVmaW5lZCB8fCAhIW5nRGV2TW9kZSkge1xuICAgICAgICBfZ2xvYmFsWyduZ0Rldk1vZGUnXSA9IGZhbHNlO1xuICAgIH1cbiAgICBfZGV2TW9kZSA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBOZ01vZHVsZUZhY3Rvcnkgd2l0aCB0aGUgZ2l2ZW4gaWQgKHNwZWNpZmllZCB1c2luZyBbQE5nTW9kdWxlLmlkXG4gKiBmaWVsZF0oYXBpL2NvcmUvTmdNb2R1bGUjaWQpKSwgaWYgaXQgZXhpc3RzIGFuZCBoYXMgYmVlbiBsb2FkZWQuIEZhY3RvcmllcyBmb3IgTmdNb2R1bGVzIHRoYXQgZG9cbiAqIG5vdCBzcGVjaWZ5IGFuIGBpZGAgY2Fubm90IGJlIHJldHJpZXZlZC4gVGhyb3dzIGlmIGFuIE5nTW9kdWxlIGNhbm5vdCBiZSBmb3VuZC5cbiAqIEBwdWJsaWNBcGlcbiAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0TmdNb2R1bGVCeUlkYCBpbnN0ZWFkLlxuICovXG5mdW5jdGlvbiBnZXRNb2R1bGVGYWN0b3J5KGlkKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUoaWQpO1xuICAgIGlmICghdHlwZSlcbiAgICAgICAgdGhyb3cgbm9Nb2R1bGVFcnJvcihpZCk7XG4gICAgcmV0dXJuIG5ldyBOZ01vZHVsZUZhY3RvcnkodHlwZSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIE5nTW9kdWxlIGNsYXNzIHdpdGggdGhlIGdpdmVuIGlkIChzcGVjaWZpZWQgdXNpbmcgW0BOZ01vZHVsZS5pZFxuICogZmllbGRdKGFwaS9jb3JlL05nTW9kdWxlI2lkKSksIGlmIGl0IGV4aXN0cyBhbmQgaGFzIGJlZW4gbG9hZGVkLiBDbGFzc2VzIGZvciBOZ01vZHVsZXMgdGhhdCBkb1xuICogbm90IHNwZWNpZnkgYW4gYGlkYCBjYW5ub3QgYmUgcmV0cmlldmVkLiBUaHJvd3MgaWYgYW4gTmdNb2R1bGUgY2Fubm90IGJlIGZvdW5kLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXROZ01vZHVsZUJ5SWQoaWQpIHtcbiAgICBjb25zdCB0eXBlID0gZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZShpZCk7XG4gICAgaWYgKCF0eXBlKVxuICAgICAgICB0aHJvdyBub01vZHVsZUVycm9yKGlkKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cbmZ1bmN0aW9uIG5vTW9kdWxlRXJyb3IoaWQpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBObyBtb2R1bGUgd2l0aCBJRCAke2lkfSBsb2FkZWRgKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJhc2UgY2xhc3MgdGhhdCBwcm92aWRlcyBjaGFuZ2UgZGV0ZWN0aW9uIGZ1bmN0aW9uYWxpdHkuXG4gKiBBIGNoYW5nZS1kZXRlY3Rpb24gdHJlZSBjb2xsZWN0cyBhbGwgdmlld3MgdGhhdCBhcmUgdG8gYmUgY2hlY2tlZCBmb3IgY2hhbmdlcy5cbiAqIFVzZSB0aGUgbWV0aG9kcyB0byBhZGQgYW5kIHJlbW92ZSB2aWV3cyBmcm9tIHRoZSB0cmVlLCBpbml0aWF0ZSBjaGFuZ2UtZGV0ZWN0aW9uLFxuICogYW5kIGV4cGxpY2l0bHkgbWFyayB2aWV3cyBhcyBfZGlydHlfLCBtZWFuaW5nIHRoYXQgdGhleSBoYXZlIGNoYW5nZWQgYW5kIG5lZWQgdG8gYmUgcmUtcmVuZGVyZWQuXG4gKlxuICogQHNlZSBbVXNpbmcgY2hhbmdlIGRldGVjdGlvbiBob29rc10oZ3VpZGUvbGlmZWN5Y2xlLWhvb2tzI3VzaW5nLWNoYW5nZS1kZXRlY3Rpb24taG9va3MpXG4gKiBAc2VlIFtEZWZpbmluZyBjdXN0b20gY2hhbmdlIGRldGVjdGlvbl0oZ3VpZGUvbGlmZWN5Y2xlLWhvb2tzI2RlZmluaW5nLWN1c3RvbS1jaGFuZ2UtZGV0ZWN0aW9uKVxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlcyBkZW1vbnN0cmF0ZSBob3cgdG8gbW9kaWZ5IGRlZmF1bHQgY2hhbmdlLWRldGVjdGlvbiBiZWhhdmlvclxuICogdG8gcGVyZm9ybSBleHBsaWNpdCBkZXRlY3Rpb24gd2hlbiBuZWVkZWQuXG4gKlxuICogIyMjIFVzZSBgbWFya0ZvckNoZWNrKClgIHdpdGggYENoZWNrT25jZWAgc3RyYXRlZ3lcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2V0cyB0aGUgYE9uUHVzaGAgY2hhbmdlLWRldGVjdGlvbiBzdHJhdGVneSBmb3IgYSBjb21wb25lbnRcbiAqIChgQ2hlY2tPbmNlYCwgcmF0aGVyIHRoYW4gdGhlIGRlZmF1bHQgYENoZWNrQWx3YXlzYCksIHRoZW4gZm9yY2VzIGEgc2Vjb25kIGNoZWNrXG4gKiBhZnRlciBhbiBpbnRlcnZhbC4gU2VlIFtsaXZlIGRlbW9dKGh0dHBzOi8vcGxua3IuY28vZWRpdC9HQzUxMmI/cD1wcmV2aWV3KS5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiXG4gKiByZWdpb249XCJtYXJrLWZvci1jaGVja1wiPjwvY29kZS1leGFtcGxlPlxuICpcbiAqICMjIyBEZXRhY2ggY2hhbmdlIGRldGVjdG9yIHRvIGxpbWl0IGhvdyBvZnRlbiBjaGVjayBvY2N1cnNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkLW9ubHkgZGF0YVxuICogdGhhdCBpcyBleHBlY3RlZCB0byBjaGFuZ2UgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLlxuICogVG8gaW1wcm92ZSBwZXJmb3JtYW5jZSwgd2Ugd2FudCB0byBjaGVjayBhbmQgdXBkYXRlIHRoZSBsaXN0XG4gKiBsZXNzIG9mdGVuIHRoYW4gdGhlIGNoYW5nZXMgYWN0dWFsbHkgb2NjdXIuIFRvIGRvIHRoYXQsIHdlIGRldGFjaFxuICogdGhlIGNvbXBvbmVudCdzIGNoYW5nZSBkZXRlY3RvciBhbmQgcGVyZm9ybSBhbiBleHBsaWNpdCBsb2NhbCBjaGVjayBldmVyeSBmaXZlIHNlY29uZHMuXG4gKlxuICogPGNvZGUtZXhhbXBsZSBwYXRoPVwiY29yZS90cy9jaGFuZ2VfZGV0ZWN0L2NoYW5nZS1kZXRlY3Rpb24udHNcIiByZWdpb249XCJkZXRhY2hcIj48L2NvZGUtZXhhbXBsZT5cbiAqXG4gKlxuICogIyMjIFJlYXR0YWNoaW5nIGEgZGV0YWNoZWQgY29tcG9uZW50XG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBjb21wb25lbnQgZGlzcGxheWluZyBsaXZlIGRhdGEuXG4gKiBUaGUgY29tcG9uZW50IGRldGFjaGVzIGl0cyBjaGFuZ2UgZGV0ZWN0b3IgZnJvbSB0aGUgbWFpbiBjaGFuZ2UgZGV0ZWN0b3IgdHJlZVxuICogd2hlbiB0aGUgYGxpdmVgIHByb3BlcnR5IGlzIHNldCB0byBmYWxzZSwgYW5kIHJlYXR0YWNoZXMgaXQgd2hlbiB0aGUgcHJvcGVydHlcbiAqIGJlY29tZXMgdHJ1ZS5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiIHJlZ2lvbj1cInJlYXR0YWNoXCI+PC9jb2RlLWV4YW1wbGU+XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBDaGFuZ2VEZXRlY3RvclJlZiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuQ2hhbmdlRGV0ZWN0b3JSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RDaGFuZ2VEZXRlY3RvclJlZjtcbi8qKiBSZXR1cm5zIGEgQ2hhbmdlRGV0ZWN0b3JSZWYgKGEuay5hLiBhIFZpZXdSZWYpICovXG5mdW5jdGlvbiBpbmplY3RDaGFuZ2VEZXRlY3RvclJlZihmbGFncykge1xuICAgIHJldHVybiBjcmVhdGVWaWV3UmVmKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpLCAoZmxhZ3MgJiAxNiAvKiBGb3JQaXBlICovKSA9PT0gMTYgLyogRm9yUGlwZSAqLyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBWaWV3UmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yIGFzIENoYW5nZURldGVjdG9yUmVmIChwdWJsaWMgYWxpYXMpLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgbm9kZSB0aGF0IGlzIHJlcXVlc3RpbmcgYSBDaGFuZ2VEZXRlY3RvclJlZlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEBwYXJhbSBpc1BpcGUgV2hldGhlciB0aGUgdmlldyBpcyBiZWluZyBpbmplY3RlZCBpbnRvIGEgcGlwZS5cbiAqIEByZXR1cm5zIFRoZSBDaGFuZ2VEZXRlY3RvclJlZiB0byB1c2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVmlld1JlZih0Tm9kZSwgbFZpZXcsIGlzUGlwZSkge1xuICAgIGlmIChpc0NvbXBvbmVudEhvc3QodE5vZGUpICYmICFpc1BpcGUpIHtcbiAgICAgICAgLy8gVGhlIExWaWV3IHJlcHJlc2VudHMgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBjb21wb25lbnQgaXMgZGVjbGFyZWQuXG4gICAgICAgIC8vIEluc3RlYWQgd2Ugd2FudCB0aGUgTFZpZXcgZm9yIHRoZSBjb21wb25lbnQgVmlldyBhbmQgc28gd2UgbmVlZCB0byBsb29rIGl0IHVwLlxuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7IC8vIGxvb2sgZG93blxuICAgICAgICByZXR1cm4gbmV3IFZpZXdSZWYkMShjb21wb25lbnRWaWV3LCBjb21wb25lbnRWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmICgzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovKSkge1xuICAgICAgICAvLyBUaGUgTFZpZXcgcmVwcmVzZW50cyB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIGluamVjdGlvbiBpcyByZXF1ZXN0ZWQgZnJvbS5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBsb2NhdGUgdGhlIGNvbnRhaW5pbmcgTFZpZXcgKGluIGNhc2Ugd2hlcmUgdGhlIGBsVmlld2AgaXMgYW4gZW1iZWRkZWQgdmlldylcbiAgICAgICAgY29uc3QgaG9zdENvbXBvbmVudFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107IC8vIGxvb2sgdXBcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmJDEoaG9zdENvbXBvbmVudFZpZXcsIGxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFuZ3VsYXIgW3ZpZXddKGd1aWRlL2dsb3NzYXJ5I3ZpZXcgXCJEZWZpbml0aW9uXCIpLlxuICpcbiAqIEBzZWUge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI3VzYWdlLW5vdGVzIENoYW5nZSBkZXRlY3Rpb24gdXNhZ2V9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBWaWV3UmVmIGV4dGVuZHMgQ2hhbmdlRGV0ZWN0b3JSZWYge1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFuZ3VsYXIgW3ZpZXddKGd1aWRlL2dsb3NzYXJ5I3ZpZXcpIGluIGEgdmlldyBjb250YWluZXIuXG4gKiBBbiBbZW1iZWRkZWQgdmlld10oZ3VpZGUvZ2xvc3Nhcnkjdmlldy10cmVlKSBjYW4gYmUgcmVmZXJlbmNlZCBmcm9tIGEgY29tcG9uZW50XG4gKiBvdGhlciB0aGFuIHRoZSBob3N0aW5nIGNvbXBvbmVudCB3aG9zZSB0ZW1wbGF0ZSBkZWZpbmVzIGl0LCBvciBpdCBjYW4gYmUgZGVmaW5lZFxuICogaW5kZXBlbmRlbnRseSBieSBhIGBUZW1wbGF0ZVJlZmAuXG4gKlxuICogUHJvcGVydGllcyBvZiBlbGVtZW50cyBpbiBhIHZpZXcgY2FuIGNoYW5nZSwgYnV0IHRoZSBzdHJ1Y3R1cmUgKG51bWJlciBhbmQgb3JkZXIpIG9mIGVsZW1lbnRzIGluXG4gKiBhIHZpZXcgY2Fubm90LiBDaGFuZ2UgdGhlIHN0cnVjdHVyZSBvZiBlbGVtZW50cyBieSBpbnNlcnRpbmcsIG1vdmluZywgb3JcbiAqIHJlbW92aW5nIG5lc3RlZCB2aWV3cyBpbiBhIHZpZXcgY29udGFpbmVyLlxuICpcbiAqIEBzZWUgYFZpZXdDb250YWluZXJSZWZgXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHRlbXBsYXRlIGJyZWFrcyBkb3duIGludG8gdHdvIHNlcGFyYXRlIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2VzLFxuICogYW4gb3V0ZXIgb25lIGFuZCBhbiBpbm5lciBvbmUuXG4gKlxuICogYGBgXG4gKiBDb3VudDoge3tpdGVtcy5sZW5ndGh9fVxuICogPHVsPlxuICogICA8bGkgKm5nRm9yPVwibGV0ICBpdGVtIG9mIGl0ZW1zXCI+e3tpdGVtfX08L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFRoaXMgaXMgdGhlIG91dGVyIGBUZW1wbGF0ZVJlZmA6XG4gKlxuICogYGBgXG4gKiBDb3VudDoge3tpdGVtcy5sZW5ndGh9fVxuICogPHVsPlxuICogICA8bmctdGVtcGxhdGUgbmdGb3IgbGV0LWl0ZW0gW25nRm9yT2ZdPVwiaXRlbXNcIj48L25nLXRlbXBsYXRlPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFRoaXMgaXMgdGhlIGlubmVyIGBUZW1wbGF0ZVJlZmA6XG4gKlxuICogYGBgXG4gKiAgIDxsaT57e2l0ZW19fTwvbGk+XG4gKiBgYGBcbiAqXG4gKiBUaGUgb3V0ZXIgYW5kIGlubmVyIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2VzIGFyZSBhc3NlbWJsZWQgaW50byB2aWV3cyBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYFxuICogPCEtLSBWaWV3UmVmOiBvdXRlci0wIC0tPlxuICogQ291bnQ6IDJcbiAqIDx1bD5cbiAqICAgPG5nLXRlbXBsYXRlIHZpZXctY29udGFpbmVyLXJlZj48L25nLXRlbXBsYXRlPlxuICogICA8IS0tIFZpZXdSZWY6IGlubmVyLTEgLS0+PGxpPmZpcnN0PC9saT48IS0tIC9WaWV3UmVmOiBpbm5lci0xIC0tPlxuICogICA8IS0tIFZpZXdSZWY6IGlubmVyLTIgLS0+PGxpPnNlY29uZDwvbGk+PCEtLSAvVmlld1JlZjogaW5uZXItMiAtLT5cbiAqIDwvdWw+XG4gKiA8IS0tIC9WaWV3UmVmOiBvdXRlci0wIC0tPlxuICogYGBgXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEVtYmVkZGVkVmlld1JlZiBleHRlbmRzIFZpZXdSZWYge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaGlzIGZpbGUgZXhpc3RzIGZvciBlYXNpbHkgcGF0Y2hpbmcgTmdNb2R1bGVGYWN0b3J5TG9hZGVyIGluIGczXG52YXIgbmdfbW9kdWxlX2ZhY3RvcnlfbG9hZGVyX2ltcGwgPSB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRGVidWdFdmVudExpc3RlbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGFzTmF0aXZlRWxlbWVudHMoZGVidWdFbHMpIHtcbiAgICByZXR1cm4gZGVidWdFbHMubWFwKChlbCkgPT4gZWwubmF0aXZlRWxlbWVudCk7XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRGVidWdOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVOb2RlKSB7XG4gICAgICAgIHRoaXMubmF0aXZlTm9kZSA9IG5hdGl2ZU5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgRGVidWdFbGVtZW50YCBwYXJlbnQuIFdpbGwgYmUgYG51bGxgIGlmIHRoaXMgaXMgdGhlIHJvb3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm5hdGl2ZU5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IG5ldyBEZWJ1Z0VsZW1lbnQocGFyZW50KSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IGRlcGVuZGVuY3kgaW5qZWN0b3IuIEZvciBleGFtcGxlLCB0aGUgcm9vdCBlbGVtZW50J3MgY29tcG9uZW50IGluc3RhbmNlIGluamVjdG9yLlxuICAgICAqL1xuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGdldEluamVjdG9yKHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50J3Mgb3duIGNvbXBvbmVudCBpbnN0YW5jZSwgaWYgaXQgaGFzIG9uZS5cbiAgICAgKi9cbiAgICBnZXQgY29tcG9uZW50SW5zdGFuY2UoKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSB0aGlzLm5hdGl2ZU5vZGU7XG4gICAgICAgIHJldHVybiBuYXRpdmVFbGVtZW50ICYmXG4gICAgICAgICAgICAoZ2V0Q29tcG9uZW50JDEobmF0aXZlRWxlbWVudCkgfHwgZ2V0T3duaW5nQ29tcG9uZW50KG5hdGl2ZUVsZW1lbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHRoYXQgcHJvdmlkZXMgcGFyZW50IGNvbnRleHQgZm9yIHRoaXMgZWxlbWVudC4gT2Z0ZW4gYW4gYW5jZXN0b3IgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICogdGhhdCBnb3Zlcm5zIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFdoZW4gYW4gZWxlbWVudCBpcyByZXBlYXRlZCB3aXRoaW4gKm5nRm9yLCB0aGUgY29udGV4dCBpcyBhbiBgTmdGb3JPZmAgd2hvc2UgYCRpbXBsaWNpdGBcbiAgICAgKiBwcm9wZXJ0eSBpcyB0aGUgdmFsdWUgb2YgdGhlIHJvdyBpbnN0YW5jZSB2YWx1ZS4gRm9yIGV4YW1wbGUsIHRoZSBgaGVyb2AgaW4gYCpuZ0Zvcj1cImxldCBoZXJvXG4gICAgICogb2YgaGVyb2VzXCJgLlxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50JDEodGhpcy5uYXRpdmVOb2RlKSB8fCBnZXRDb250ZXh0KHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjYWxsYmFja3MgYXR0YWNoZWQgdG8gdGhlIGNvbXBvbmVudCdzIEBPdXRwdXQgcHJvcGVydGllcyBhbmQvb3IgdGhlIGVsZW1lbnQncyBldmVudFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgZ2V0IGxpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIGdldExpc3RlbmVycyh0aGlzLm5hdGl2ZU5vZGUpLmZpbHRlcihsaXN0ZW5lciA9PiBsaXN0ZW5lci50eXBlID09PSAnZG9tJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpY3Rpb25hcnkgb2Ygb2JqZWN0cyBhc3NvY2lhdGVkIHdpdGggdGVtcGxhdGUgbG9jYWwgdmFyaWFibGVzIChlLmcuICNmb28pLCBrZXllZCBieSB0aGUgbG9jYWxcbiAgICAgKiB2YXJpYWJsZSBuYW1lLlxuICAgICAqL1xuICAgIGdldCByZWZlcmVuY2VzKCkge1xuICAgICAgICByZXR1cm4gZ2V0TG9jYWxSZWZzKHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgY29tcG9uZW50J3MgaW5qZWN0b3IgbG9va3VwIHRva2Vucy4gSW5jbHVkZXMgdGhlIGNvbXBvbmVudCBpdHNlbGYgcGx1cyB0aGUgdG9rZW5zIHRoYXQgdGhlXG4gICAgICogY29tcG9uZW50IGxpc3RzIGluIGl0cyBwcm92aWRlcnMgbWV0YWRhdGEuXG4gICAgICovXG4gICAgZ2V0IHByb3ZpZGVyVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW5qZWN0aW9uVG9rZW5zKHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQHNlZSBbQ29tcG9uZW50IHRlc3Rpbmcgc2NlbmFyaW9zXShndWlkZS90ZXN0aW5nLWNvbXBvbmVudHMtc2NlbmFyaW9zKVxuICogQHNlZSBbQmFzaWNzIG9mIHRlc3RpbmcgY29tcG9uZW50c10oZ3VpZGUvdGVzdGluZy1jb21wb25lbnRzLWJhc2ljcylcbiAqIEBzZWUgW1Rlc3RpbmcgdXRpbGl0eSBBUElzXShndWlkZS90ZXN0aW5nLXV0aWxpdHktYXBpcylcbiAqL1xuY2xhc3MgRGVidWdFbGVtZW50IGV4dGVuZHMgRGVidWdOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVOb2RlKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKG5hdGl2ZU5vZGUpO1xuICAgICAgICBzdXBlcihuYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVuZGVybHlpbmcgRE9NIGVsZW1lbnQgYXQgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXQgbmF0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlTm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSA/IHRoaXMubmF0aXZlTm9kZSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IHRhZyBuYW1lLCBpZiBpdCBpcyBhbiBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgICAgIGNvbnN0IHREYXRhID0gbFZpZXdbVFZJRVddLmRhdGE7XG4gICAgICAgICAgICBjb25zdCB0Tm9kZSA9IHREYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICAgICAgICAgIHJldHVybiB0Tm9kZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZU5vZGUubm9kZU5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogIEdldHMgYSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gcHJvcGVydHkgdmFsdWVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogIFRoaXMgbWFwIGluY2x1ZGVzOlxuICAgICAqICAtIFJlZ3VsYXIgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYFtpZF09XCJpZFwiYClcbiAgICAgKiAgLSBIb3N0IHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIGBob3N0OiB7ICdbaWRdJzogXCJpZFwiIH1gKVxuICAgICAqICAtIEludGVycG9sYXRlZCBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgaWQ9XCJ7eyB2YWx1ZSB9fVwiKVxuICAgICAqXG4gICAgICogIEl0IGRvZXMgbm90IGluY2x1ZGU6XG4gICAgICogIC0gaW5wdXQgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYFtteUN1c3RvbUlucHV0XT1cInZhbHVlXCJgKVxuICAgICAqICAtIGF0dHJpYnV0ZSBiaW5kaW5ncyAoZS5nLiBgW2F0dHIucm9sZV09XCJtZW51XCJgKVxuICAgICAqL1xuICAgIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgICAgIGNvbnN0IHREYXRhID0gbFZpZXdbVFZJRVddLmRhdGE7XG4gICAgICAgIGNvbnN0IHROb2RlID0gdERhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgIC8vIENvbGxlY3QgcHJvcGVydGllcyBmcm9tIHRoZSBET00uXG4gICAgICAgIGNvcHlEb21Qcm9wZXJ0aWVzKHRoaXMubmF0aXZlRWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgICAgIC8vIENvbGxlY3QgcHJvcGVydGllcyBmcm9tIHRoZSBiaW5kaW5ncy4gVGhpcyBpcyBuZWVkZWQgZm9yIGFuaW1hdGlvbiByZW5kZXJlciB3aGljaCBoYXNcbiAgICAgICAgLy8gc3ludGhldGljIHByb3BlcnRpZXMgd2hpY2ggZG9uJ3QgZ2V0IHJlZmxlY3RlZCBpbnRvIHRoZSBET00uXG4gICAgICAgIGNvbGxlY3RQcm9wZXJ0eUJpbmRpbmdzKHByb3BlcnRpZXMsIHROb2RlLCBsVmlldywgdERhdGEpO1xuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogIEEgbWFwIG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgdmFsdWVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBhdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgY29uc3QgdE5vZGVBdHRycyA9IGxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XS5hdHRycztcbiAgICAgICAgY29uc3QgbG93ZXJjYXNlVE5vZGVBdHRycyA9IFtdO1xuICAgICAgICAvLyBGb3IgZGVidWcgbm9kZXMgd2UgdGFrZSB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZSBkaXJlY3RseSBmcm9tIHRoZSBET00gc2luY2UgaXQgYWxsb3dzIHVzXG4gICAgICAgIC8vIHRvIGFjY291bnQgZm9yIG9uZXMgdGhhdCB3ZXJlbid0IHNldCB2aWEgYmluZGluZ3MgKGUuZy4gVmlld0VuZ2luZSBrZWVwcyB0cmFjayBvZiB0aGUgb25lc1xuICAgICAgICAvLyB0aGF0IGFyZSBzZXQgdGhyb3VnaCBgUmVuZGVyZXIyYCkuIFRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIGJyb3dzZXIgd2lsbCBsb3dlcmNhc2UgYWxsIG5hbWVzLFxuICAgICAgICAvLyBob3dldmVyIHNpbmNlIHdlIGhhdmUgdGhlIGF0dHJpYnV0ZXMgYWxyZWFkeSBvbiB0aGUgVE5vZGUsIHdlIGNhbiBwcmVzZXJ2ZSB0aGUgY2FzZSBieSBnb2luZ1xuICAgICAgICAvLyB0aHJvdWdoIHRoZW0gb25jZSwgYWRkaW5nIHRoZW0gdG8gdGhlIGBhdHRyaWJ1dGVzYCBtYXAgYW5kIHB1dHRpbmcgdGhlaXIgbG93ZXItY2FzZWQgbmFtZVxuICAgICAgICAvLyBpbnRvIGFuIGFycmF5LiBBZnRlcndhcmRzIHdoZW4gd2UncmUgZ29pbmcgdGhyb3VnaCB0aGUgbmF0aXZlIERPTSBhdHRyaWJ1dGVzLCB3ZSBjYW4gY2hlY2tcbiAgICAgICAgLy8gd2hldGhlciB3ZSBoYXZlbid0IHJ1biBpbnRvIGFuIGF0dHJpYnV0ZSBhbHJlYWR5IHRocm91Z2ggdGhlIFROb2RlLlxuICAgICAgICBpZiAodE5vZGVBdHRycykge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCB0Tm9kZUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdE5vZGVBdHRyc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBTdG9wIGFzIHNvb24gYXMgd2UgaGl0IGEgbWFya2VyLiBXZSBvbmx5IGNhcmUgYWJvdXQgdGhlIHJlZ3VsYXIgYXR0cmlidXRlcy4gRXZlcnl0aGluZ1xuICAgICAgICAgICAgICAgIC8vIGVsc2Ugd2lsbCBiZSBoYW5kbGVkIGJlbG93IHdoZW4gd2UgcmVhZCB0aGUgZmluYWwgYXR0cmlidXRlcyBvZmYgdGhlIERPTS5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF0dHJOYW1lICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdE5vZGVBdHRyc1tpICsgMV07XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyTmFtZV0gPSBhdHRyVmFsdWU7XG4gICAgICAgICAgICAgICAgbG93ZXJjYXNlVE5vZGVBdHRycy5wdXNoKGF0dHJOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZUF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gZUF0dHJzW2ldO1xuICAgICAgICAgICAgY29uc3QgbG93ZXJjYXNlTmFtZSA9IGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3QgYXNzaWduIHRoZSBzYW1lIGF0dHJpYnV0ZSBib3RoIGluIGl0c1xuICAgICAgICAgICAgLy8gY2FzZS1zZW5zaXRpdmUgZm9ybSBhbmQgdGhlIGxvd2VyLWNhc2VkIG9uZSBmcm9tIHRoZSBicm93c2VyLlxuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZVROb2RlQXR0cnMuaW5kZXhPZihsb3dlcmNhc2VOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBsb3dlcmNhc2UgbmFtZSB0byBhbGlnbiB0aGUgYmVoYXZpb3IgYmV0d2VlbiBicm93c2Vycy5cbiAgICAgICAgICAgICAgICAvLyBJRSBwcmVzZXJ2ZXMgdGhlIGNhc2UsIHdoaWxlIGFsbCBvdGhlciBicm93c2VyIGNvbnZlcnQgaXQgdG8gbG93ZXIgY2FzZS5cbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2xvd2VyY2FzZU5hbWVdID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGlubGluZSBzdHlsZXMgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gYHN0eWxlYCBwcm9wZXJ0eSBvbiB0aGUgdW5kZXJseWluZyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzZWUgW0VsZW1lbnRDU1NJbmxpbmVTdHlsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnRDU1NJbmxpbmVTdHlsZS9zdHlsZSlcbiAgICAgKi9cbiAgICBnZXQgc3R5bGVzKCkge1xuICAgICAgICBpZiAodGhpcy5uYXRpdmVFbGVtZW50ICYmIHRoaXMubmF0aXZlRWxlbWVudC5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlRWxlbWVudC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIGNsYXNzIG5hbWVzIG9uIHRoZSBlbGVtZW50IGFzIGtleXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1hcCBpcyBkZXJpdmVkIGZyb20gdGhlIGBjbGFzc05hbWVgIHByb3BlcnR5IG9mIHRoZSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoZSB2YWx1ZXMgb2YgdGhpcyBvYmplY3Qgd2lsbCBhbHdheXMgYmUgYHRydWVgLiBUaGUgY2xhc3Mga2V5IHdpbGwgbm90IGFwcGVhciBpbiB0aGUgS1ZcbiAgICAgKiBvYmplY3QgaWYgaXQgZG9lcyBub3QgZXhpc3Qgb24gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc2VlIFtFbGVtZW50LmNsYXNzTmFtZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xhc3NOYW1lKVxuICAgICAqL1xuICAgIGdldCBjbGFzc2VzKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgLy8gU1ZHIGVsZW1lbnRzIHJldHVybiBhbiBgU1ZHQW5pbWF0ZWRTdHJpbmdgIGluc3RlYWQgb2YgYSBwbGFpbiBzdHJpbmcgZm9yIHRoZSBgY2xhc3NOYW1lYC5cbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSB0eXBlb2YgY2xhc3NOYW1lICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZS5iYXNlVmFsLnNwbGl0KCcgJykgOiBjbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKCh2YWx1ZSkgPT4gcmVzdWx0W3ZhbHVlXSA9IHRydWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYGNoaWxkTm9kZXNgIG9mIHRoZSBET00gZWxlbWVudCBhcyBhIGBEZWJ1Z05vZGVgIGFycmF5LlxuICAgICAqXG4gICAgICogQHNlZSBbTm9kZS5jaGlsZE5vZGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9jaGlsZE5vZGVzKVxuICAgICAqL1xuICAgIGdldCBjaGlsZE5vZGVzKCkge1xuICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpcy5uYXRpdmVOb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGdldERlYnVnTm9kZShlbGVtZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaW1tZWRpYXRlIGBEZWJ1Z0VsZW1lbnRgIGNoaWxkcmVuLiBXYWxrIHRoZSB0cmVlIGJ5IGRlc2NlbmRpbmcgdGhyb3VnaCBgY2hpbGRyZW5gLlxuICAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKCFuYXRpdmVFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gbmF0aXZlRWxlbWVudC5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goZ2V0RGVidWdOb2RlKGVsZW1lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBmaXJzdCBgRGVidWdFbGVtZW50YCB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZSBhdCBhbnkgZGVwdGggaW4gdGhlIHN1YnRyZWUuXG4gICAgICovXG4gICAgcXVlcnkocHJlZGljYXRlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLnF1ZXJ5QWxsKHByZWRpY2F0ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzWzBdIHx8IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEFsbCBgRGVidWdFbGVtZW50YCBtYXRjaGVzIGZvciB0aGUgcHJlZGljYXRlIGF0IGFueSBkZXB0aCBpbiB0aGUgc3VidHJlZS5cbiAgICAgKi9cbiAgICBxdWVyeUFsbChwcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFtdO1xuICAgICAgICBfcXVlcnlBbGwodGhpcywgcHJlZGljYXRlLCBtYXRjaGVzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEFsbCBgRGVidWdOb2RlYCBtYXRjaGVzIGZvciB0aGUgcHJlZGljYXRlIGF0IGFueSBkZXB0aCBpbiB0aGUgc3VidHJlZS5cbiAgICAgKi9cbiAgICBxdWVyeUFsbE5vZGVzKHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgICAgIF9xdWVyeUFsbCh0aGlzLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIHRoZSBldmVudCBieSBpdHMgbmFtZSBpZiB0aGVyZSBpcyBhIGNvcnJlc3BvbmRpbmcgbGlzdGVuZXIgaW4gdGhlIGVsZW1lbnQnc1xuICAgICAqIGBsaXN0ZW5lcnNgIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgZXZlbnQgbGFja3MgYSBsaXN0ZW5lciBvciB0aGVyZSdzIHNvbWUgb3RoZXIgcHJvYmxlbSwgY29uc2lkZXJcbiAgICAgKiBjYWxsaW5nIGBuYXRpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRPYmplY3QpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHRyaWdnZXJcbiAgICAgKiBAcGFyYW0gZXZlbnRPYmogVGhlIF9ldmVudCBvYmplY3RfIGV4cGVjdGVkIGJ5IHRoZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAc2VlIFtUZXN0aW5nIGNvbXBvbmVudHMgc2NlbmFyaW9zXShndWlkZS90ZXN0aW5nLWNvbXBvbmVudHMtc2NlbmFyaW9zI3RyaWdnZXItZXZlbnQtaGFuZGxlcilcbiAgICAgKi9cbiAgICB0cmlnZ2VyRXZlbnRIYW5kbGVyKGV2ZW50TmFtZSwgZXZlbnRPYmopIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubmF0aXZlTm9kZTtcbiAgICAgICAgY29uc3QgaW52b2tlZExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5uYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGxpc3RlbmVyLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobm9kZSwgZXZlbnRPYmopO1xuICAgICAgICAgICAgICAgIGludm9rZWRMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgYGV2ZW50TGlzdGVuZXJzYCBleGlzdHMsIGJlY2F1c2UgaXQncyBzb21ldGhpbmdcbiAgICAgICAgLy8gdGhhdCBab25lLmpzIG9ubHkgYWRkcyB0byBgRXZlbnRUYXJnZXRgIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLlxuICAgICAgICBpZiAodHlwZW9mIG5vZGUuZXZlbnRMaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBpbiBJdnkgd2Ugd3JhcCBldmVudCBsaXN0ZW5lcnMgd2l0aCBhIGNhbGwgdG8gYGV2ZW50LnByZXZlbnREZWZhdWx0YCBpbiBzb21lXG4gICAgICAgICAgICAvLyBjYXNlcy4gV2UgdXNlICdfX25nVW53cmFwX18nIGFzIGEgc3BlY2lhbCB0b2tlbiB0aGF0IGdpdmVzIHVzIGFjY2VzcyB0byB0aGUgYWN0dWFsIGV2ZW50XG4gICAgICAgICAgICAvLyBsaXN0ZW5lci5cbiAgICAgICAgICAgIG5vZGUuZXZlbnRMaXN0ZW5lcnMoZXZlbnROYW1lKS5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IHdlIGNhbiBkZXRlY3QgdGhlIHNwZWNpYWwgX19uZ1Vud3JhcF9fIHRva2VuIGRlc2NyaWJlZCBhYm92ZSwgd2VcbiAgICAgICAgICAgICAgICAvLyB1c2UgYHRvU3RyaW5nYCBvbiB0aGUgbGlzdGVuZXIgYW5kIHNlZSBpZiBpdCBjb250YWlucyB0aGUgdG9rZW4uIFdlIHVzZSB0aGlzIGFwcHJvYWNoIHRvXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgaXQgc3RpbGwgd29ya2VkIHdpdGggY29tcGlsZWQgY29kZSBzaW5jZSBpdCBjYW5ub3QgcmVtb3ZlIG9yIHJlbmFtZSBzdHJpbmdcbiAgICAgICAgICAgICAgICAvLyBsaXRlcmFscy4gV2UgYWxzbyBjb25zaWRlcmVkIHVzaW5nIGEgc3BlY2lhbCBmdW5jdGlvbiBuYW1lIChpLmUuIGlmKGxpc3RlbmVyLm5hbWUgPT09XG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCkpIGJ1dCB0aGF0IHdhcyBtb3JlIGN1bWJlcnNvbWUgYW5kIHdlIHdlcmUgYWxzbyBjb25jZXJuZWQgdGhlIGNvbXBpbGVkIGNvZGUgY291bGRcbiAgICAgICAgICAgICAgICAvLyBzdHJpcCB0aGUgbmFtZSwgdHVybmluZyB0aGUgY29uZGl0aW9uIGluIHRvIChcIlwiID09PSBcIlwiKSBhbmQgYWx3YXlzIHJldHVybmluZyB0cnVlLlxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci50b1N0cmluZygpLmluZGV4T2YoJ19fbmdVbndyYXBfXycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bndyYXBwZWRMaXN0ZW5lciA9IGxpc3RlbmVyKCdfX25nVW53cmFwX18nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludm9rZWRMaXN0ZW5lcnMuaW5kZXhPZih1bndyYXBwZWRMaXN0ZW5lcikgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1bndyYXBwZWRMaXN0ZW5lci5jYWxsKG5vZGUsIGV2ZW50T2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvcHlEb21Qcm9wZXJ0aWVzKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAvLyBTa2lwIG93biBwcm9wZXJ0aWVzIChhcyB0aG9zZSBhcmUgcGF0Y2hlZClcbiAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihlbGVtZW50KTtcbiAgICAgICAgY29uc3QgTm9kZVByb3RvdHlwZSA9IE5vZGUucHJvdG90eXBlO1xuICAgICAgICB3aGlsZSAob2JqICE9PSBudWxsICYmIG9iaiAhPT0gTm9kZVByb3RvdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGRlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aCgnX18nKSAmJiAha2V5LnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBwcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggYF9fYCBhbmQgYG9uYC5cbiAgICAgICAgICAgICAgICAgICAgLy8gYF9fYCBhcmUgcGF0Y2hlZCB2YWx1ZXMgd2hpY2ggc2hvdWxkIG5vdCBiZSBpbmNsdWRlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gYG9uYCBhcmUgbGlzdGVuZXJzIHdoaWNoIGFsc28gc2hvdWxkIG5vdCBiZSBpbmNsdWRlZC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50W2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHZhbHVlID09PSBudWxsO1xufVxuZnVuY3Rpb24gX3F1ZXJ5QWxsKHBhcmVudEVsZW1lbnQsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHBhcmVudEVsZW1lbnQubmF0aXZlTm9kZSk7XG4gICAgaWYgKGNvbnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcGFyZW50VE5vZGUgPSBjb250ZXh0LmxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHBhcmVudFROb2RlLCBjb250ZXh0LmxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcGFyZW50RWxlbWVudC5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBjb250ZXh0IGlzIG51bGwsIHRoZW4gYHBhcmVudEVsZW1lbnRgIHdhcyBlaXRoZXIgY3JlYXRlZCB3aXRoIFJlbmRlcmVyMiBvciBuYXRpdmUgRE9NXG4gICAgICAgIC8vIEFQSXMuXG4gICAgICAgIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhwYXJlbnRFbGVtZW50Lm5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KTtcbiAgICB9XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IG1hdGNoIHRoZSBjdXJyZW50IFROb2RlIGFnYWluc3QgdGhlIHByZWRpY2F0ZSwgYW5kIGdvZXMgb24gd2l0aCB0aGUgbmV4dCBvbmVzLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSB0aGUgY3VycmVudCBUTm9kZVxuICogQHBhcmFtIGxWaWV3IHRoZSBMVmlldyBvZiB0aGlzIFROb2RlXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IG9mIHBvc2l0aXZlIG1hdGNoZXNcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICogQHBhcmFtIHJvb3ROYXRpdmVOb2RlIHRoZSByb290IG5hdGl2ZSBub2RlIG9uIHdoaWNoIHByZWRpY2F0ZSBzaG91bGQgbm90IGJlIG1hdGNoZWRcbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5Tm9kZUNoaWxkcmVuKHROb2RlLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBuYXRpdmVOb2RlID0gZ2V0TmF0aXZlQnlUTm9kZU9yTnVsbCh0Tm9kZSwgbFZpZXcpO1xuICAgIC8vIEZvciBlYWNoIHR5cGUgb2YgVE5vZGUsIHNwZWNpZmljIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICAgIGlmICh0Tm9kZS50eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pKSB7XG4gICAgICAgIC8vIENhc2UgMTogdGhlIFROb2RlIGlzIGFuIGVsZW1lbnRcbiAgICAgICAgLy8gVGhlIG5hdGl2ZSBub2RlIGhhcyB0byBiZSBjaGVja2VkLlxuICAgICAgICBfYWRkUXVlcnlNYXRjaChuYXRpdmVOb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoaXNDb21wb25lbnRIb3N0KHROb2RlKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgdGhlIGhvc3Qgb2YgYSBjb21wb25lbnQsIHRoZW4gYWxsIG5vZGVzIGluIGl0cyB2aWV3IGhhdmUgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICAgICAgLy8gTm90ZTogdGhlIGNvbXBvbmVudCdzIGNvbnRlbnQgKHROb2RlLmNoaWxkKSB3aWxsIGJlIHByb2Nlc3NlZCBmcm9tIHRoZSBpbnNlcnRpb24gcG9pbnRzLlxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXcgJiYgY29tcG9uZW50Vmlld1tUVklFV10uZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihjb21wb25lbnRWaWV3W1RWSUVXXS5maXJzdENoaWxkLCBjb21wb25lbnRWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdHMgY2hpbGRyZW4gaGF2ZSB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHROb2RlLmNoaWxkLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGFsc28gaGF2ZSB0byBxdWVyeSB0aGUgRE9NIGRpcmVjdGx5IGluIG9yZGVyIHRvIGNhdGNoIGVsZW1lbnRzIGluc2VydGVkIHRocm91Z2hcbiAgICAgICAgICAgIC8vIFJlbmRlcmVyMi4gTm90ZSB0aGF0IHRoaXMgaXMgX19ub3RfXyBvcHRpbWFsLCBiZWNhdXNlIHdlJ3JlIHdhbGtpbmcgc2ltaWxhciB0cmVlcyBtdWx0aXBsZVxuICAgICAgICAgICAgLy8gdGltZXMuIFZpZXdFbmdpbmUgY291bGQgZG8gaXQgbW9yZSBlZmZpY2llbnRseSwgYmVjYXVzZSBhbGwgdGhlIGluc2VydGlvbnMgZ28gdGhyb3VnaFxuICAgICAgICAgICAgLy8gUmVuZGVyZXIyLCBob3dldmVyIHRoYXQncyBub3QgdGhlIGNhc2UgaW4gSXZ5LiBUaGlzIGFwcHJvYWNoIGlzIGJlaW5nIHVzZWQgYmVjYXVzZTpcbiAgICAgICAgICAgIC8vIDEuIE1hdGNoaW5nIHRoZSBWaWV3RW5naW5lIGJlaGF2aW9yIHdvdWxkIG1lYW4gcG90ZW50aWFsbHkgaW50cm9kdWNpbmcgYSBkZXBlZGVuY3lcbiAgICAgICAgICAgIC8vICAgIGZyb20gYFJlbmRlcmVyMmAgdG8gSXZ5IHdoaWNoIGNvdWxkIGJyaW5nIEl2eSBjb2RlIGludG8gVmlld0VuZ2luZS5cbiAgICAgICAgICAgIC8vIDIuIFdlIHdvdWxkIGhhdmUgdG8gbWFrZSBgUmVuZGVyZXIzYCBcImtub3dcIiBhYm91dCBkZWJ1ZyBub2Rlcy5cbiAgICAgICAgICAgIC8vIDMuIEl0IGFsbG93cyB1cyB0byBjYXB0dXJlIG5vZGVzIHRoYXQgd2VyZSBpbnNlcnRlZCBkaXJlY3RseSB2aWEgdGhlIERPTS5cbiAgICAgICAgICAgIG5hdGl2ZU5vZGUgJiYgX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBhbGwgY2FzZXMsIGlmIGEgZHluYW1pYyBjb250YWluZXIgZXhpc3RzIGZvciB0aGlzIG5vZGUsIGVhY2ggdmlldyBpbnNpZGUgaXQgaGFzIHRvIGJlXG4gICAgICAgIC8vIHByb2Nlc3NlZC5cbiAgICAgICAgY29uc3Qgbm9kZU9yQ29udGFpbmVyID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKG5vZGVPckNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyKG5vZGVPckNvbnRhaW5lciwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgLy8gQ2FzZSAyOiB0aGUgVE5vZGUgaXMgYSBjb250YWluZXJcbiAgICAgICAgLy8gVGhlIG5hdGl2ZSBub2RlIGhhcyB0byBiZSBjaGVja2VkLlxuICAgICAgICBjb25zdCBsQ29udGFpbmVyID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBfYWRkUXVlcnlNYXRjaChsQ29udGFpbmVyW05BVElWRV0sIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIC8vIEVhY2ggdmlldyBpbnNpZGUgdGhlIGNvbnRhaW5lciBoYXMgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW5JbkNvbnRhaW5lcihsQ29udGFpbmVyLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAvLyBDYXNlIDM6IHRoZSBUTm9kZSBpcyBhIHByb2plY3Rpb24gaW5zZXJ0aW9uIHBvaW50IChpLmUuIGEgPG5nLWNvbnRlbnQ+KS5cbiAgICAgICAgLy8gVGhlIG5vZGVzIHByb2plY3RlZCBhdCB0aGlzIGxvY2F0aW9uIGFsbCBuZWVkIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SG9zdCA9IGNvbXBvbmVudFZpZXdbVF9IT1NUXTtcbiAgICAgICAgY29uc3QgaGVhZCA9IGNvbXBvbmVudEhvc3QucHJvamVjdGlvblt0Tm9kZS5wcm9qZWN0aW9uXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaGVhZCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IG5hdGl2ZU5vZGUgb2YgaGVhZCkge1xuICAgICAgICAgICAgICAgIF9hZGRRdWVyeU1hdGNoKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dExWaWV3ID0gY29tcG9uZW50Vmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgY29uc3QgbmV4dFROb2RlID0gbmV4dExWaWV3W1RWSUVXXS5kYXRhW2hlYWQuaW5kZXhdO1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKG5leHRUTm9kZSwgbmV4dExWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgIC8vIENhc2UgNDogdGhlIFROb2RlIGlzIGEgdmlldy5cbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHROb2RlLmNoaWxkLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBnbyB0byB0aGUgbmV4dCBzaWJsaW5nIG9mIHRoZSByb290IG5vZGUuXG4gICAgaWYgKHJvb3ROYXRpdmVOb2RlICE9PSBuYXRpdmVOb2RlKSB7XG4gICAgICAgIC8vIFRvIGRldGVybWluZSB0aGUgbmV4dCBub2RlIHRvIGJlIHByb2Nlc3NlZCwgd2UgbmVlZCB0byB1c2UgdGhlIG5leHQgb3IgdGhlIHByb2plY3Rpb25OZXh0XG4gICAgICAgIC8vIGxpbmssIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBjdXJyZW50IG5vZGUgaGFzIGJlZW4gcHJvamVjdGVkLlxuICAgICAgICBjb25zdCBuZXh0VE5vZGUgPSAodE5vZGUuZmxhZ3MgJiA0IC8qIGlzUHJvamVjdGVkICovKSA/IHROb2RlLnByb2plY3Rpb25OZXh0IDogdE5vZGUubmV4dDtcbiAgICAgICAgaWYgKG5leHRUTm9kZSkge1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKG5leHRUTm9kZSwgbFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3MgYWxsIFROb2RlcyBpbiBhIGdpdmVuIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0gbENvbnRhaW5lciB0aGUgY29udGFpbmVyIHRvIGJlIHByb2Nlc3NlZFxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIG1hdGNoXG4gKiBAcGFyYW0gbWF0Y2hlcyB0aGUgbGlzdCBvZiBwb3NpdGl2ZSBtYXRjaGVzXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqIEBwYXJhbSByb290TmF0aXZlTm9kZSB0aGUgcm9vdCBuYXRpdmUgbm9kZSBvbiB3aGljaCBwcmVkaWNhdGUgc2hvdWxkIG5vdCBiZSBtYXRjaGVkXG4gKi9cbmZ1bmN0aW9uIF9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyKGxDb250YWluZXIsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSkge1xuICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGRWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IGNoaWxkVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihmaXJzdENoaWxkLCBjaGlsZFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1hdGNoIHRoZSBjdXJyZW50IG5hdGl2ZSBub2RlIGFnYWluc3QgdGhlIHByZWRpY2F0ZS5cbiAqXG4gKiBAcGFyYW0gbmF0aXZlTm9kZSB0aGUgY3VycmVudCBuYXRpdmUgbm9kZVxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIG1hdGNoXG4gKiBAcGFyYW0gbWF0Y2hlcyB0aGUgbGlzdCBvZiBwb3NpdGl2ZSBtYXRjaGVzXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqIEBwYXJhbSByb290TmF0aXZlTm9kZSB0aGUgcm9vdCBuYXRpdmUgbm9kZSBvbiB3aGljaCBwcmVkaWNhdGUgc2hvdWxkIG5vdCBiZSBtYXRjaGVkXG4gKi9cbmZ1bmN0aW9uIF9hZGRRdWVyeU1hdGNoKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSkge1xuICAgIGlmIChyb290TmF0aXZlTm9kZSAhPT0gbmF0aXZlTm9kZSkge1xuICAgICAgICBjb25zdCBkZWJ1Z05vZGUgPSBnZXREZWJ1Z05vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIGlmICghZGVidWdOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHlwZSBvZiB0aGUgXCJwcmVkaWNhdGUgYW5kIFwibWF0Y2hlc1wiIGFycmF5IGFyZSBzZXQgYmFzZWQgb24gdGhlIHZhbHVlIG9mXG4gICAgICAgIC8vIHRoZSBcImVsZW1lbnRzT25seVwiIHBhcmFtZXRlci4gVHlwZVNjcmlwdCBpcyBub3QgYWJsZSB0byBwcm9wZXJseSBpbmZlciB0aGVzZVxuICAgICAgICAvLyB0eXBlcyB3aXRoIGdlbmVyaWNzLCBzbyB3ZSBtYW51YWxseSBjYXN0IHRoZSBwYXJhbWV0ZXJzIGFjY29yZGluZ2x5LlxuICAgICAgICBpZiAoZWxlbWVudHNPbmx5ICYmIChkZWJ1Z05vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaChkZWJ1Z05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFlbGVtZW50c09ubHkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgIG1hdGNoZXMuaW5kZXhPZihkZWJ1Z05vZGUpID09PSAtMSkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1hdGNoIGFsbCB0aGUgZGVzY2VuZGFudHMgb2YgYSBET00gbm9kZSBhZ2FpbnN0IGEgcHJlZGljYXRlLlxuICpcbiAqIEBwYXJhbSBuYXRpdmVOb2RlIHRoZSBjdXJyZW50IG5hdGl2ZSBub2RlXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IHdoZXJlIG1hdGNoZXMgYXJlIHN0b3JlZFxuICogQHBhcmFtIGVsZW1lbnRzT25seSB3aGV0aGVyIG9ubHkgZWxlbWVudHMgc2hvdWxkIGJlIHNlYXJjaGVkXG4gKi9cbmZ1bmN0aW9uIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhwYXJlbnROb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSkge1xuICAgIGNvbnN0IG5vZGVzID0gcGFyZW50Tm9kZS5jaGlsZE5vZGVzO1xuICAgIGNvbnN0IGxlbmd0aCA9IG5vZGVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgY29uc3QgZGVidWdOb2RlID0gZ2V0RGVidWdOb2RlKG5vZGUpO1xuICAgICAgICBpZiAoZGVidWdOb2RlKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNPbmx5ICYmIChkZWJ1Z05vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZWxlbWVudHNPbmx5ICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMobm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlcyB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBiaW5kaW5ncyBmb3IgYSBnaXZlbiBub2RlIGFuZCBnZW5lcmF0ZXNcbiAqIGEgbWFwIG9mIHByb3BlcnR5IG5hbWVzIHRvIHZhbHVlcy4gVGhpcyBtYXAgb25seSBjb250YWlucyBwcm9wZXJ0eSBiaW5kaW5nc1xuICogZGVmaW5lZCBpbiB0ZW1wbGF0ZXMsIG5vdCBpbiBob3N0IGJpbmRpbmdzLlxuICovXG5mdW5jdGlvbiBjb2xsZWN0UHJvcGVydHlCaW5kaW5ncyhwcm9wZXJ0aWVzLCB0Tm9kZSwgbFZpZXcsIHREYXRhKSB7XG4gICAgbGV0IGJpbmRpbmdJbmRleGVzID0gdE5vZGUucHJvcGVydHlCaW5kaW5ncztcbiAgICBpZiAoYmluZGluZ0luZGV4ZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5nSW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ0luZGV4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB0RGF0YVtiaW5kaW5nSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGFQYXJ0cyA9IHByb3BNZXRhZGF0YS5zcGxpdChJTlRFUlBPTEFUSU9OX0RFTElNSVRFUik7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBtZXRhZGF0YVBhcnRzWzBdO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhUGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG1ldGFkYXRhUGFydHNbMV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBtZXRhZGF0YVBhcnRzLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSByZW5kZXJTdHJpbmdpZnkobFZpZXdbYmluZGluZ0luZGV4ICsgaiAtIDFdKSArIG1ldGFkYXRhUGFydHNbaiArIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IGxWaWV3W2JpbmRpbmdJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBOZWVkIHRvIGtlZXAgdGhlIG5vZGVzIGluIGEgZ2xvYmFsIE1hcCBzbyB0aGF0IG11bHRpcGxlIGFuZ3VsYXIgYXBwcyBhcmUgc3VwcG9ydGVkLlxuY29uc3QgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZSA9IG5ldyBNYXAoKTtcbmNvbnN0IE5HX0RFQlVHX1BST1BFUlRZID0gJ19fbmdfZGVidWdfXyc7XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZ2V0RGVidWdOb2RlKG5hdGl2ZU5vZGUpIHtcbiAgICBpZiAobmF0aXZlTm9kZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgaWYgKCEobmF0aXZlTm9kZS5oYXNPd25Qcm9wZXJ0eShOR19ERUJVR19QUk9QRVJUWSkpKSB7XG4gICAgICAgICAgICBuYXRpdmVOb2RlW05HX0RFQlVHX1BST1BFUlRZXSA9IG5hdGl2ZU5vZGUubm9kZVR5cGUgPT0gTm9kZS5FTEVNRU5UX05PREUgP1xuICAgICAgICAgICAgICAgIG5ldyBEZWJ1Z0VsZW1lbnQobmF0aXZlTm9kZSkgOlxuICAgICAgICAgICAgICAgIG5ldyBEZWJ1Z05vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZU5vZGVbTkdfREVCVUdfUFJPUEVSVFldO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFRPRE86IGNsZWFudXAgYWxsIHJlZmVyZW5jZXMgdG8gdGhpcyBmdW5jdGlvbiBhbmQgcmVtb3ZlIGl0LlxuZnVuY3Rpb24gZ2V0RGVidWdOb2RlUjIoX25hdGl2ZU5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEFsbERlYnVnTm9kZXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS52YWx1ZXMoKSk7XG59XG5mdW5jdGlvbiBpbmRleERlYnVnTm9kZShub2RlKSB7XG4gICAgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS5zZXQobm9kZS5uYXRpdmVOb2RlLCBub2RlKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZURlYnVnTm9kZUZyb21JbmRleChub2RlKSB7XG4gICAgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS5kZWxldGUobm9kZS5uYXRpdmVOb2RlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHN1cHBvcnRzKG9iaikge1xuICAgICAgICByZXR1cm4gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaik7XG4gICAgfVxuICAgIGNyZWF0ZSh0cmFja0J5Rm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXIodHJhY2tCeUZuKTtcbiAgICB9XG59XG5jb25zdCB0cmFja0J5SWRlbnRpdHkgPSAoaW5kZXgsIGl0ZW0pID0+IGl0ZW07XG4vKipcbiAqIEBkZXByZWNhdGVkIHY0LjAuMCAtIFNob3VsZCBub3QgYmUgcGFydCBvZiBwdWJsaWMgQVBJLlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBEZWZhdWx0SXRlcmFibGVEaWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKHRyYWNrQnlGbikge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB1c2VkIHJlY29yZHMgYXQgYW55IHBvaW50IGluIHRpbWUgKGR1cmluZyAmIGFjcm9zcyBgX2NoZWNrKClgIGNhbGxzKVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHJlbW92ZWQgcmVjb3JkcyBhdCBhbnkgcG9pbnQgaW4gdGltZSBkdXJpbmcgYF9jaGVjaygpYCBjYWxscy5cbiAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNJdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdFRhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHJlY29yZHMgd2hlcmUgY3VzdG9tIHRyYWNrIGJ5IGlzIHRoZSBzYW1lLCBidXQgaXRlbSBpZGVudGl0eSBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RyYWNrQnlGbiA9IHRyYWNrQnlGbiB8fCB0cmFja0J5SWRlbnRpdHk7XG4gICAgfVxuICAgIGZvckVhY2hJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faXRIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoT3BlcmF0aW9uKGZuKSB7XG4gICAgICAgIGxldCBuZXh0SXQgPSB0aGlzLl9pdEhlYWQ7XG4gICAgICAgIGxldCBuZXh0UmVtb3ZlID0gdGhpcy5fcmVtb3ZhbHNIZWFkO1xuICAgICAgICBsZXQgYWRkUmVtb3ZlT2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1vdmVPZmZzZXRzID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKG5leHRJdCB8fCBuZXh0UmVtb3ZlKSB7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGlzIHRoZSBuZXh0IHJlY29yZCB0byBwcm9jZXNzXG4gICAgICAgICAgICAvLyBPcmRlcjogcmVtb3ZlLCBhZGQsIG1vdmVcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9ICFuZXh0UmVtb3ZlIHx8XG4gICAgICAgICAgICAgICAgbmV4dEl0ICYmXG4gICAgICAgICAgICAgICAgICAgIG5leHRJdC5jdXJyZW50SW5kZXggPFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJldmlvdXNJbmRleChuZXh0UmVtb3ZlLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSA/XG4gICAgICAgICAgICAgICAgbmV4dEl0IDpcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlO1xuICAgICAgICAgICAgY29uc3QgYWRqUHJldmlvdXNJbmRleCA9IGdldFByZXZpb3VzSW5kZXgocmVjb3JkLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAvLyBjb25zdW1lIHRoZSBpdGVtLCBhbmQgYWRqdXN0IHRoZSBhZGRSZW1vdmVPZmZzZXQgYW5kIHVwZGF0ZSBtb3ZlRGlzdGFuY2UgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICBpZiAocmVjb3JkID09PSBuZXh0UmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgYWRkUmVtb3ZlT2Zmc2V0LS07XG4gICAgICAgICAgICAgICAgbmV4dFJlbW92ZSA9IG5leHRSZW1vdmUuX25leHRSZW1vdmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dEl0ID0gbmV4dEl0Ll9uZXh0O1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU9mZnNldCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WQVJJQU5UOiAgY3VycmVudEluZGV4IDwgcHJldmlvdXNJbmRleFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vdmVPZmZzZXRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCA9IGFkalByZXZpb3VzSW5kZXggLSBhZGRSZW1vdmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsQ3VycmVudEluZGV4ID0gY3VycmVudEluZGV4IC0gYWRkUmVtb3ZlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxNb3ZlUHJldmlvdXNJbmRleCAhPSBsb2NhbEN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbE1vdmVQcmV2aW91c0luZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBpIDwgbW92ZU9mZnNldHMubGVuZ3RoID8gbW92ZU9mZnNldHNbaV0gOiAobW92ZU9mZnNldHNbaV0gPSAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG9mZnNldCArIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsQ3VycmVudEluZGV4IDw9IGluZGV4ICYmIGluZGV4IDwgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0c1tpXSA9IG9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNJbmRleCA9IHJlY29yZC5wcmV2aW91c0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHNbcHJldmlvdXNJbmRleF0gPSBsb2NhbEN1cnJlbnRJbmRleCAtIGxvY2FsTW92ZVByZXZpb3VzSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWRqUHJldmlvdXNJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgZm4ocmVjb3JkLCBhZGpQcmV2aW91c0luZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hQcmV2aW91c0l0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoQWRkZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoTW92ZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hSZW1vdmVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hJZGVudGl0eUNoYW5nZShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0SWRlbnRpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlmZihjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpXG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gW107XG4gICAgICAgIGlmICghaXNMaXN0TGlrZUl0ZXJhYmxlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgYEVycm9yIHRyeWluZyB0byBkaWZmICcke3N0cmluZ2lmeShjb2xsZWN0aW9uKX0nLiBPbmx5IGFycmF5cyBhbmQgaXRlcmFibGVzIGFyZSBhbGxvd2VkYCA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMCAvKiBJTlZBTElEX0RJRkZFUl9JTlBVVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGVjayhjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7IH1cbiAgICBjaGVjayhjb2xsZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIGxldCByZWNvcmQgPSB0aGlzLl9pdEhlYWQ7XG4gICAgICAgIGxldCBtYXlCZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIGxldCBpdGVtVHJhY2tCeTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgICAgICAgaXRlbVRyYWNrQnkgPSB0aGlzLl90cmFja0J5Rm4oaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwgfHwgIU9iamVjdC5pcyhyZWNvcmQudHJhY2tCeUlkLCBpdGVtVHJhY2tCeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGl0ZXJhdGVMaXN0TGlrZShjb2xsZWN0aW9uLCAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW1UcmFja0J5ID0gdGhpcy5fdHJhY2tCeUZuKGluZGV4LCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSBudWxsIHx8ICFPYmplY3QuaXMocmVjb3JkLnRyYWNrQnlJZCwgaXRlbVRyYWNrQnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbWF5QmVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5QmVEaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhtaXNrbyk6IGNhbiB3ZSBsaW1pdCB0aGlzIHRvIGR1cGxpY2F0ZXMgb25seT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cnVuY2F0ZShyZWNvcmQpO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH1cbiAgICAvKiBDb2xsZWN0aW9uQ2hhbmdlcyBpcyBjb25zaWRlcmVkIGRpcnR5IGlmIGl0IGhhcyBhbnkgYWRkaXRpb25zLCBtb3ZlcywgcmVtb3ZhbHMsIG9yIGlkZW50aXR5XG4gICAgICogY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZGl0aW9uc0hlYWQgIT09IG51bGwgfHwgdGhpcy5fbW92ZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgIT09IG51bGwgfHwgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCAhPT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBjaGFuZ2Ugb2JqZWN0cyB0byBzaG93IG5vIGNoYW5nZXMuIFRoaXMgbWVhbnMgc2V0IHByZXZpb3VzS2V5IHRvXG4gICAgICogY3VycmVudEtleSwgYW5kIGNsZWFyIGFsbCBvZiB0aGUgcXVldWVzIChhZGRpdGlvbnMsIG1vdmVzLCByZW1vdmFscykuXG4gICAgICogU2V0IHRoZSBwcmV2aW91c0luZGV4ZXMgb2YgbW92ZWQgYW5kIGFkZGVkIGl0ZW1zIHRvIHRoZWlyIGN1cnJlbnRJbmRleGVzXG4gICAgICogUmVzZXQgdGhlIGxpc3Qgb2YgYWRkaXRpb25zLCBtb3ZlcyBhbmQgcmVtb3ZhbHNcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9yZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNJdEhlYWQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UHJldmlvdXMgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21vdmVzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRNb3ZlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c0luZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTogd2hlbiBhc3NlcnQgZ2V0cyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIC8vIGFzc2VydCghdGhpcy5pc0RpcnR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBjb3JlIGZ1bmN0aW9uIHdoaWNoIGhhbmRsZXMgZGlmZmVyZW5jZXMgYmV0d2VlbiBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIC0gYHJlY29yZGAgaXMgdGhlIHJlY29yZCB3aGljaCB3ZSBzYXcgYXQgdGhpcyBwb3NpdGlvbiBsYXN0IHRpbWUuIElmIG51bGwgdGhlbiBpdCBpcyBhIG5ld1xuICAgICAqICAgaXRlbS5cbiAgICAgKiAtIGBpdGVtYCBpcyB0aGUgY3VycmVudCBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICogLSBgaW5kZXhgIGlzIHRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KSB7XG4gICAgICAgIC8vIFRoZSBwcmV2aW91cyByZWNvcmQgYWZ0ZXIgd2hpY2ggd2Ugd2lsbCBhcHBlbmQgdGhlIGN1cnJlbnQgb25lLlxuICAgICAgICBsZXQgcHJldmlvdXNSZWNvcmQ7XG4gICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXZpb3VzUmVjb3JkID0gdGhpcy5faXRUYWlsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldmlvdXNSZWNvcmQgPSByZWNvcmQuX3ByZXY7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJlY29yZCBmcm9tIHRoZSBjb2xsZWN0aW9uIHNpbmNlIHdlIGtub3cgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGl0ZW0uXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWUgaWYgd2UgaGF2ZSBldmljdGVkIHRoZSBpdGVtLCB3aGljaCB1c2VkIHRvIGJlIGF0IHNvbWUgYW50ZXJpb3IgcG9zaXRpb24gb2YgX2l0SGVhZCBsaXN0LlxuICAgICAgICByZWNvcmQgPSB0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgbnVsbCk7XG4gICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEl0IGlzIGFuIGl0ZW0gd2hpY2ggd2UgaGF2ZSBldmljdGVkIGVhcmxpZXI6IHJlaW5zZXJ0IGl0IGJhY2sgaW50byB0aGUgbGlzdC5cbiAgICAgICAgICAgIC8vIEJ1dCBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGlkZW50aXR5IGNoYW5nZWQsIHNvIHdlIGNhbiB1cGRhdGUgaW4gdmlldyBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBzZWUgaWYgdGhlIGl0ZW0gaXMgYXQgc29tZSBwb3N0ZXJpb3IgcG9zaXRpb24gb2YgX2l0SGVhZCBsaXN0LlxuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fbGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl9saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIGl0ZW0gaW4gX2l0SGVhZCBhdC9hZnRlciBgaW5kZXhgIHBvc2l0aW9uLiBXZSBuZWVkIHRvIG1vdmUgaXQgZm9yd2FyZCBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIEJ1dCBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGlkZW50aXR5IGNoYW5nZWQsIHNvIHdlIGNhbiB1cGRhdGUgaW4gdmlldyBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVBZnRlcihyZWNvcmQsIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhIG5ldyBpdGVtOiBhZGQgaXQuXG4gICAgICAgICAgICAgICAgcmVjb3JkID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQWZ0ZXIobmV3IEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyhpdGVtLCBpdGVtVHJhY2tCeSksIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGVjayBpcyBvbmx5IG5lZWRlZCBpZiBhbiBhcnJheSBjb250YWlucyBkdXBsaWNhdGVzLiAoU2hvcnQgY2lyY3VpdCBvZiBub3RoaW5nIGRpcnR5KVxuICAgICAqXG4gICAgICogVXNlIGNhc2U6IGBbYSwgYV1gID0+IGBbYiwgYSwgYV1gXG4gICAgICpcbiAgICAgKiBJZiB3ZSBkaWQgbm90IGhhdmUgdGhpcyBjaGVjayB0aGVuIHRoZSBpbnNlcnRpb24gb2YgYGJgIHdvdWxkOlxuICAgICAqICAgMSkgZXZpY3QgZmlyc3QgYGFgXG4gICAgICogICAyKSBpbnNlcnQgYGJgIGF0IGAwYCBpbmRleC5cbiAgICAgKiAgIDMpIGxlYXZlIGBhYCBhdCBpbmRleCBgMWAgYXMgaXMuIDwtLSB0aGlzIGlzIHdyb25nIVxuICAgICAqICAgMykgcmVpbnNlcnQgYGFgIGF0IGluZGV4IDIuIDwtLSB0aGlzIGlzIHdyb25nIVxuICAgICAqXG4gICAgICogVGhlIGNvcnJlY3QgYmVoYXZpb3IgaXM6XG4gICAgICogICAxKSBldmljdCBmaXJzdCBgYWBcbiAgICAgKiAgIDIpIGluc2VydCBgYmAgYXQgYDBgIGluZGV4LlxuICAgICAqICAgMykgcmVpbnNlcnQgYGFgIGF0IGluZGV4IDEuXG4gICAgICogICAzKSBtb3ZlIGBhYCBhdCBmcm9tIGAxYCB0byBgMmAuXG4gICAgICpcbiAgICAgKlxuICAgICAqIERvdWJsZSBjaGVjayB0aGF0IHdlIGhhdmUgbm90IGV2aWN0ZWQgYSBkdXBsaWNhdGUgaXRlbS4gV2UgbmVlZCB0byBjaGVjayBpZiB0aGUgaXRlbSB0eXBlIG1heVxuICAgICAqIGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQ6XG4gICAgICogVGhlIGluc2VydGlvbiBvZiBiIHdpbGwgZXZpY3QgdGhlIGZpcnN0ICdhJy4gSWYgd2UgZG9uJ3QgcmVpbnNlcnQgaXQgbm93IGl0IHdpbGwgYmUgcmVpbnNlcnRlZFxuICAgICAqIGF0IHRoZSBlbmQuIFdoaWNoIHdpbGwgc2hvdyB1cCBhcyB0aGUgdHdvICdhJ3Mgc3dpdGNoaW5nIHBvc2l0aW9uLiBUaGlzIGlzIGluY29ycmVjdCwgc2luY2UgYVxuICAgICAqIGJldHRlciB3YXkgdG8gdGhpbmsgb2YgaXQgaXMgYXMgaW5zZXJ0IG9mICdiJyByYXRoZXIgdGhlbiBzd2l0Y2ggJ2EnIHdpdGggJ2InIGFuZCB0aGVuIGFkZCAnYSdcbiAgICAgKiBhdCB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KSB7XG4gICAgICAgIGxldCByZWluc2VydFJlY29yZCA9IHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBudWxsKTtcbiAgICAgICAgaWYgKHJlaW5zZXJ0UmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9yZWluc2VydEFmdGVyKHJlaW5zZXJ0UmVjb3JkLCByZWNvcmQuX3ByZXYsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmQuY3VycmVudEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCByaWQgb2YgYW55IGV4Y2VzcyB7QGxpbmsgSXRlcmFibGVDaGFuZ2VSZWNvcmRffXMgZnJvbSB0aGUgcHJldmlvdXMgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogLSBgcmVjb3JkYCBUaGUgZmlyc3QgZXhjZXNzIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99LlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3RydW5jYXRlKHJlY29yZCkge1xuICAgICAgICAvLyBBbnl0aGluZyBhZnRlciB0aGF0IG5lZWRzIHRvIGJlIHJlbW92ZWQ7XG4gICAgICAgIHdoaWxlIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRSZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayhyZWNvcmQpKTtcbiAgICAgICAgICAgIHJlY29yZCA9IG5leHRSZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21vdmVzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pdFRhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JlbW92YWxzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZWluc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzLnJlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXYgPSByZWNvcmQuX3ByZXZSZW1vdmVkO1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0UmVtb3ZlZDtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0UmVtb3ZlZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2UmVtb3ZlZCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfbW92ZUFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fdW5saW5rKHJlY29yZCk7XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2FkZEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dEFkZGVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQgIT0gcHJldlJlY29yZCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHQgPT09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9wcmV2ID09PSBudWxsKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IHByZXZSZWNvcmQgPT09IG51bGwgPyB0aGlzLl9pdEhlYWQgOiBwcmV2UmVjb3JkLl9uZXh0O1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQobmV4dCAhPSByZWNvcmQpO1xuICAgICAgICAvLyBhc3NlcnQocHJldlJlY29yZCAhPSByZWNvcmQpO1xuICAgICAgICByZWNvcmQuX25leHQgPSBuZXh0O1xuICAgICAgICByZWNvcmQuX3ByZXYgPSBwcmV2UmVjb3JkO1xuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldiA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldlJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldlJlY29yZC5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbGlua2VkUmVjb3JkcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua2VkUmVjb3JkcyA9IG5ldyBfRHVwbGljYXRlTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlua2VkUmVjb3Jkcy5wdXQocmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3JlbW92ZShyZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3VubGluayhyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmtlZFJlY29yZHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KChyZWNvcmQuX3ByZXYgPSBudWxsKSA9PT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydCgocmVjb3JkLl9uZXh0ID0gbnVsbCkgPT09IG51bGwpO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRIZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdFRhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldiA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hZGRUb01vdmVzKHJlY29yZCwgdG9JbmRleCkge1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0TW92ZWQgPT09IG51bGwpO1xuICAgICAgICBpZiAocmVjb3JkLnByZXZpb3VzSW5kZXggPT09IHRvSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21vdmVzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfbW92ZXNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IHRoaXMuX21vdmVzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX21vdmVzVGFpbC5fbmV4dE1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIF9hZGRUb1JlbW92YWxzKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMgPSBuZXcgX0R1cGxpY2F0ZU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3Jkcy5wdXQocmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHJlY29yZC5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9yZW1vdmFsc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gdGhpcy5fcmVtb3ZhbHNIZWFkID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRSZW1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldlJlbW92ZWQgPSB0aGlzLl9yZW1vdmFsc1RhaWw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKSB7XG4gICAgICAgIHJlY29yZC5pdGVtID0gaXRlbTtcbiAgICAgICAgaWYgKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZSA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbn1cbmNsYXNzIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyB7XG4gICAgY29uc3RydWN0b3IoaXRlbSwgdHJhY2tCeUlkKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMudHJhY2tCeUlkID0gdHJhY2tCeUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldmlvdXNJbmRleCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dE1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSBudWxsO1xuICAgIH1cbn1cbi8vIEEgbGlua2VkIGxpc3Qgb2YgSXRlcmFibGVDaGFuZ2VSZWNvcmRzIHdpdGggdGhlIHNhbWUgSXRlcmFibGVDaGFuZ2VSZWNvcmRfLml0ZW1cbmNsYXNzIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCB0aGUgcmVjb3JkIHRvIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBieSBkZXNpZ24gYWxsIHJlY29yZHMgaW4gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBob2xkIHRoZSBzYW1lIHZhbHVlIGluIHJlY29yZC5pdGVtLlxuICAgICAqL1xuICAgIGFkZChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldkR1cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5pdGVtID09ICBfaGVhZC5pdGVtIHx8XG4gICAgICAgICAgICAvLyAgICAgICByZWNvcmQuaXRlbSBpcyBudW0gJiYgcmVjb3JkLml0ZW0uaXNOYU4gJiYgX2hlYWQuaXRlbSBpcyBudW0gJiYgX2hlYWQuaXRlbS5pc05hTik7XG4gICAgICAgICAgICB0aGlzLl90YWlsLl9uZXh0RHVwID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gdGhpcy5fdGFpbDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBJdGVyYWJsZUNoYW5nZVJlY29yZF8gaGF2aW5nIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy50cmFja0J5SWQgPT0gdHJhY2tCeUlkIGFuZFxuICAgIC8vIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy5jdXJyZW50SW5kZXggPj0gYXRPckFmdGVySW5kZXhcbiAgICBnZXQodHJhY2tCeUlkLCBhdE9yQWZ0ZXJJbmRleCkge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0RHVwKSB7XG4gICAgICAgICAgICBpZiAoKGF0T3JBZnRlckluZGV4ID09PSBudWxsIHx8IGF0T3JBZnRlckluZGV4IDw9IHJlY29yZC5jdXJyZW50SW5kZXgpICYmXG4gICAgICAgICAgICAgICAgT2JqZWN0LmlzKHJlY29yZC50cmFja0J5SWQsIHRyYWNrQnlJZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgb25lIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIHJlbW92ZShyZWNvcmQpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KCgpIHtcbiAgICAgICAgLy8gIC8vIHZlcmlmeSB0aGF0IHRoZSByZWNvcmQgYmVpbmcgcmVtb3ZlZCBpcyBpbiB0aGUgbGlzdC5cbiAgICAgICAgLy8gIGZvciAoSXRlcmFibGVDaGFuZ2VSZWNvcmRfIGN1cnNvciA9IF9oZWFkOyBjdXJzb3IgIT0gbnVsbDsgY3Vyc29yID0gY3Vyc29yLl9uZXh0RHVwKSB7XG4gICAgICAgIC8vICAgIGlmIChpZGVudGljYWwoY3Vyc29yLCByZWNvcmQpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gIH1cbiAgICAgICAgLy8gIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy99KTtcbiAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldkR1cDtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlY29yZC5fbmV4dER1cDtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dER1cCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldkR1cCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWQgPT09IG51bGw7XG4gICAgfVxufVxuY2xhc3MgX0R1cGxpY2F0ZU1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBwdXQocmVjb3JkKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHJlY29yZC50cmFja0J5SWQ7XG4gICAgICAgIGxldCBkdXBsaWNhdGVzID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghZHVwbGljYXRlcykge1xuICAgICAgICAgICAgZHVwbGljYXRlcyA9IG5ldyBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QoKTtcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChrZXksIGR1cGxpY2F0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGR1cGxpY2F0ZXMuYWRkKHJlY29yZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBgdmFsdWVgIHVzaW5nIGtleS4gQmVjYXVzZSB0aGUgSXRlcmFibGVDaGFuZ2VSZWNvcmRfIHZhbHVlIG1heSBiZSBvbmUgd2hpY2ggd2VcbiAgICAgKiBoYXZlIGFscmVhZHkgaXRlcmF0ZWQgb3Zlciwgd2UgdXNlIHRoZSBgYXRPckFmdGVySW5kZXhgIHRvIHByZXRlbmQgaXQgaXMgbm90IHRoZXJlLlxuICAgICAqXG4gICAgICogVXNlIGNhc2U6IGBbYSwgYiwgYywgYSwgYV1gIGlmIHdlIGFyZSBhdCBpbmRleCBgM2Agd2hpY2ggaXMgdGhlIHNlY29uZCBgYWAgdGhlbiBhc2tpbmcgaWYgd2VcbiAgICAgKiBoYXZlIGFueSBtb3JlIGBhYHMgbmVlZHMgdG8gcmV0dXJuIHRoZSBzZWNvbmQgYGFgLlxuICAgICAqL1xuICAgIGdldCh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRyYWNrQnlJZDtcbiAgICAgICAgY29uc3QgcmVjb3JkTGlzdCA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICByZXR1cm4gcmVjb3JkTGlzdCA/IHJlY29yZExpc3QuZ2V0KHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgYWxzbyBpcyByZW1vdmVkIGZyb20gdGhlIG1hcCBpZiBpdCBnZXRzIGVtcHR5LlxuICAgICAqL1xuICAgIHJlbW92ZShyZWNvcmQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVjb3JkLnRyYWNrQnlJZDtcbiAgICAgICAgY29uc3QgcmVjb3JkTGlzdCA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyB3aGVuIGl0IGdldHMgZW1wdHlcbiAgICAgICAgaWYgKHJlY29yZExpc3QucmVtb3ZlKHJlY29yZCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuc2l6ZSA9PT0gMDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0UHJldmlvdXNJbmRleChpdGVtLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSB7XG4gICAgY29uc3QgcHJldmlvdXNJbmRleCA9IGl0ZW0ucHJldmlvdXNJbmRleDtcbiAgICBpZiAocHJldmlvdXNJbmRleCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzSW5kZXg7XG4gICAgbGV0IG1vdmVPZmZzZXQgPSAwO1xuICAgIGlmIChtb3ZlT2Zmc2V0cyAmJiBwcmV2aW91c0luZGV4IDwgbW92ZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICAgIG1vdmVPZmZzZXQgPSBtb3ZlT2Zmc2V0c1twcmV2aW91c0luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHByZXZpb3VzSW5kZXggKyBhZGRSZW1vdmVPZmZzZXQgKyBtb3ZlT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3VwcG9ydHMob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBNYXAgfHwgaXNKc09iamVjdChvYmopO1xuICAgIH1cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyKCk7XG4gICAgfVxufVxuY2xhc3MgRGVmYXVsdEtleVZhbHVlRGlmZmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcmVjb3JkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgIC8vIF9hcHBlbmRBZnRlciBpcyB1c2VkIGluIHRoZSBjaGVjayBsb29wXG4gICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNNYXBIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IGlzRGlydHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX2NoYW5nZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgIT09IG51bGw7XG4gICAgfVxuICAgIGZvckVhY2hJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFByZXZpb3VzSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoQ2hhbmdlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9jaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hBZGRlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hSZW1vdmVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpZmYobWFwKSB7XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIShtYXAgaW5zdGFuY2VvZiBNYXAgfHwgaXNKc09iamVjdChtYXApKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgIGBFcnJvciB0cnlpbmcgdG8gZGlmZiAnJHtzdHJpbmdpZnkobWFwKX0nLiBPbmx5IG1hcHMgYW5kIG9iamVjdHMgYXJlIGFsbG93ZWRgIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKG1hcCkgPyB0aGlzIDogbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KCkgeyB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG1hcCB2cyB0aGUgcHJldmlvdXMuXG4gICAgICogVGhlIGFsZ29yaXRobSBpcyBvcHRpbWlzZWQgZm9yIHdoZW4gdGhlIGtleXMgZG8gbm8gY2hhbmdlLlxuICAgICAqL1xuICAgIGNoZWNrKG1hcCkge1xuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICBsZXQgaW5zZXJ0QmVmb3JlID0gdGhpcy5fbWFwSGVhZDtcbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG1hcCwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnNlcnRCZWZvcmUgJiYgaW5zZXJ0QmVmb3JlLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMoaW5zZXJ0QmVmb3JlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlID0gaW5zZXJ0QmVmb3JlLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5fZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlID0gdGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoaW5zZXJ0QmVmb3JlLCByZWNvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSXRlbXMgcmVtYWluaW5nIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgaGF2ZSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgaWYgKGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZS5fcHJldikge1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZS5fcHJldi5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICBmb3IgKGxldCByZWNvcmQgPSBpbnNlcnRCZWZvcmU7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IHRoaXMuX21hcEhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZHMuZGVsZXRlKHJlY29yZC5rZXkpO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dFJlbW92ZWQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGFpbHMgaGF2ZSBubyBuZXh0IHJlY29yZHMgZnJvbSBwcmV2aW91cyBydW5zXG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzVGFpbClcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNUYWlsKVxuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIHJlY29yZCBiZWZvcmUgYGJlZm9yZWAgb3IgYXBwZW5kIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3Qgd2hlbiBgYmVmb3JlYCBpcyBudWxsLlxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBUaGlzIG1ldGhvZCBhcHBlbmRzIGF0IGB0aGlzLl9hcHBlbmRBZnRlcmAsXG4gICAgICogLSBUaGlzIG1ldGhvZCB1cGRhdGVzIGB0aGlzLl9hcHBlbmRBZnRlcmAsXG4gICAgICogLSBUaGUgcmV0dXJuIHZhbHVlIGlzIHRoZSBuZXcgdmFsdWUgZm9yIHRoZSBpbnNlcnRpb24gcG9pbnRlci5cbiAgICAgKi9cbiAgICBfaW5zZXJ0QmVmb3JlT3JBcHBlbmQoYmVmb3JlLCByZWNvcmQpIHtcbiAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IGJlZm9yZS5fcHJldjtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dCA9IGJlZm9yZTtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IHByZXY7XG4gICAgICAgICAgICBiZWZvcmUuX3ByZXYgPSByZWNvcmQ7XG4gICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgIHByZXYuX25leHQgPSByZWNvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmVmb3JlID09PSB0aGlzLl9tYXBIZWFkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gYmVmb3JlO1xuICAgICAgICAgICAgcmV0dXJuIGJlZm9yZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYXBwZW5kQWZ0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyLl9uZXh0ID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gdGhpcy5fYXBwZW5kQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gcmVjb3JkO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29yZHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX3JlY29yZHMuZ2V0KGtleSk7XG4gICAgICAgICAgICB0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhyZWNvcmQsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSByZWNvcmQuX3ByZXY7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgbmV4dC5fcHJldiA9IHByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjb3JkID0gbmV3IEtleVZhbHVlQ2hhbmdlUmVjb3JkXyhrZXkpO1xuICAgICAgICB0aGlzLl9yZWNvcmRzLnNldChrZXksIHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYWRkVG9BZGRpdGlvbnMocmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgICAgIC8vIGxldCBgX3ByZXZpb3VzTWFwSGVhZGAgY29udGFpbiB0aGUgc3RhdGUgb2YgdGhlIG1hcCBiZWZvcmUgdGhlIGNoYW5nZXNcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IHRoaXMuX21hcEhlYWQ7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBgcmVjb3JkLnByZXZpb3VzVmFsdWVgIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGJlZm9yZSB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgYWxsIGNoYW5nZWQgaXRlbXMgKHRoYXQncyB0aG9zZSB3aGljaCBoYXZlIGJlZW4gYWRkZWQgYW5kIGNoYW5nZWQpXG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBZGQgdGhlIHJlY29yZCBvciBhIGdpdmVuIGtleSB0byB0aGUgbGlzdCBvZiBjaGFuZ2VzIG9ubHkgd2hlbiB0aGUgdmFsdWUgaGFzIGFjdHVhbGx5IGNoYW5nZWRcbiAgICBfbWF5YmVBZGRUb0NoYW5nZXMocmVjb3JkLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAoIU9iamVjdC5pcyhuZXdWYWx1ZSwgcmVjb3JkLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvQ2hhbmdlcyhyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRUb0FkZGl0aW9ucyhyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWRkVG9DaGFuZ2VzKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2ZvckVhY2gob2JqLCBmbikge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBvYmouZm9yRWFjaChmbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goayA9PiBmbihvYmpba10sIGspKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEtleVZhbHVlQ2hhbmdlUmVjb3JkXyB7XG4gICAgY29uc3RydWN0b3Ioa2V5KSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0Q2hhbmdlZCA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgSXRlcmFibGVEaWZmZXJzKFtuZXcgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSgpXSk7XG59XG4vKipcbiAqIEEgcmVwb3NpdG9yeSBvZiBkaWZmZXJlbnQgaXRlcmFibGUgZGlmZmluZyBzdHJhdGVnaWVzIHVzZWQgYnkgTmdGb3IsIE5nQ2xhc3MsIGFuZCBvdGhlcnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBJdGVyYWJsZURpZmZlcnMge1xuICAgIGNvbnN0cnVjdG9yKGZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLmZhY3RvcmllcyA9IGZhY3RvcmllcztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiB7QGxpbmsgSXRlcmFibGVEaWZmZXJGYWN0b3J5fSBhbmQgcmV0dXJucyBhIHByb3ZpZGVyIHVzZWQgdG8gZXh0ZW5kIHRoZVxuICAgICAqIGluaGVyaXRlZCB7QGxpbmsgSXRlcmFibGVEaWZmZXJzfSBpbnN0YW5jZSB3aXRoIHRoZSBwcm92aWRlZCBmYWN0b3JpZXMgYW5kIHJldHVybiBhIG5ld1xuICAgICAqIHtAbGluayBJdGVyYWJsZURpZmZlcnN9IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBleHRlbmQgYW4gZXhpc3RpbmcgbGlzdCBvZiBmYWN0b3JpZXMsXG4gICAgICogd2hpY2ggd2lsbCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGluamVjdG9yIGZvciB0aGlzIGNvbXBvbmVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqIFRoaXMgc3RlcCBpcyBhbGwgdGhhdCdzIHJlcXVpcmVkIHRvIG1ha2UgYSBuZXcge0BsaW5rIEl0ZXJhYmxlRGlmZmVyfSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgKiAgICAgSXRlcmFibGVEaWZmZXJzLmV4dGVuZChbbmV3IEltbXV0YWJsZUxpc3REaWZmZXIoKV0pXG4gICAgICogICBdXG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0ZW5kKGZhY3Rvcmllcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvdmlkZTogSXRlcmFibGVEaWZmZXJzLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogKHBhcmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGlmIHBhcmVudCBpcyBudWxsLCBpdCBtZWFucyB0aGF0IHdlIGFyZSBpbiB0aGUgcm9vdCBpbmplY3RvciBhbmQgd2UgaGF2ZSBqdXN0IG92ZXJyaWRkZW5cbiAgICAgICAgICAgICAgICAvLyB0aGUgZGVmYXVsdCBpbmplY3Rpb24gbWVjaGFuaXNtIGZvciBJdGVyYWJsZURpZmZlcnMsIGluIHN1Y2ggYSBjYXNlIGp1c3QgYXNzdW1lXG4gICAgICAgICAgICAgICAgLy8gYGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5YC5cbiAgICAgICAgICAgICAgICByZXR1cm4gSXRlcmFibGVEaWZmZXJzLmNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCB8fCBkZWZhdWx0SXRlcmFibGVEaWZmZXJzRmFjdG9yeSgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbSXRlcmFibGVEaWZmZXJzLCBuZXcgU2tpcFNlbGYoKSwgbmV3IE9wdGlvbmFsKCldXVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmaW5kKGl0ZXJhYmxlKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLmZhY3Rvcmllcy5maW5kKGYgPT4gZi5zdXBwb3J0cyhpdGVyYWJsZSkpO1xuICAgICAgICBpZiAoZmFjdG9yeSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7aXRlcmFibGV9JyBvZiB0eXBlICcke2dldFR5cGVOYW1lRm9yRGVidWdnaW5nKGl0ZXJhYmxlKX0nYCA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMSAvKiBOT19TVVBQT1JUSU5HX0RJRkZFUl9GQUNUT1JZICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIEBub2NvbGxhcHNlICovXG5JdGVyYWJsZURpZmZlcnMuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogSXRlcmFibGVEaWZmZXJzLCBwcm92aWRlZEluOiAncm9vdCcsIGZhY3Rvcnk6IGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5IH0pO1xuZnVuY3Rpb24gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodHlwZSkge1xuICAgIHJldHVybiB0eXBlWyduYW1lJ10gfHwgdHlwZW9mIHR5cGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIG5ldyBLZXlWYWx1ZURpZmZlcnMoW25ldyBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5KCldKTtcbn1cbi8qKlxuICogQSByZXBvc2l0b3J5IG9mIGRpZmZlcmVudCBNYXAgZGlmZmluZyBzdHJhdGVnaWVzIHVzZWQgYnkgTmdDbGFzcywgTmdTdHlsZSwgYW5kIG90aGVycy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEtleVZhbHVlRGlmZmVycyB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEtleVZhbHVlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiB7QGxpbmsgS2V5VmFsdWVEaWZmZXJGYWN0b3J5fSBhbmQgcmV0dXJucyBhIHByb3ZpZGVyIHVzZWQgdG8gZXh0ZW5kIHRoZVxuICAgICAqIGluaGVyaXRlZCB7QGxpbmsgS2V5VmFsdWVEaWZmZXJzfSBpbnN0YW5jZSB3aXRoIHRoZSBwcm92aWRlZCBmYWN0b3JpZXMgYW5kIHJldHVybiBhIG5ld1xuICAgICAqIHtAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBleHRlbmQgYW4gZXhpc3RpbmcgbGlzdCBvZiBmYWN0b3JpZXMsXG4gICAgICogd2hpY2ggd2lsbCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGluamVjdG9yIGZvciB0aGlzIGNvbXBvbmVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqIFRoaXMgc3RlcCBpcyBhbGwgdGhhdCdzIHJlcXVpcmVkIHRvIG1ha2UgYSBuZXcge0BsaW5rIEtleVZhbHVlRGlmZmVyfSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgKiAgICAgS2V5VmFsdWVEaWZmZXJzLmV4dGVuZChbbmV3IEltbXV0YWJsZU1hcERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmQoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm92aWRlOiBLZXlWYWx1ZURpZmZlcnMsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiAocGFyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgcGFyZW50IGlzIG51bGwsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGluIHRoZSByb290IGluamVjdG9yIGFuZCB3ZSBoYXZlIGp1c3Qgb3ZlcnJpZGRlblxuICAgICAgICAgICAgICAgIC8vIHRoZSBkZWZhdWx0IGluamVjdGlvbiBtZWNoYW5pc20gZm9yIEtleVZhbHVlRGlmZmVycywgaW4gc3VjaCBhIGNhc2UganVzdCBhc3N1bWVcbiAgICAgICAgICAgICAgICAvLyBgZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnlgLlxuICAgICAgICAgICAgICAgIHJldHVybiBLZXlWYWx1ZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50IHx8IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlcGVuZGVuY3kgdGVjaG5pY2FsbHkgaXNuJ3Qgb3B0aW9uYWwsIGJ1dCB3ZSBjYW4gcHJvdmlkZSBhIGJldHRlciBlcnJvciBtZXNzYWdlIHRoaXMgd2F5LlxuICAgICAgICAgICAgZGVwczogW1tLZXlWYWx1ZURpZmZlcnMsIG5ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKV1dXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmQoa3YpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMuZmFjdG9yaWVzLmZpbmQoZiA9PiBmLnN1cHBvcnRzKGt2KSk7XG4gICAgICAgIGlmIChmYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICBgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7a3Z9J2AgOlxuICAgICAgICAgICAgJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAxIC8qIE5PX1NVUFBPUlRJTkdfRElGRkVSX0ZBQ1RPUlkgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuLyoqIEBub2NvbGxhcHNlICovXG5LZXlWYWx1ZURpZmZlcnMuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogS2V5VmFsdWVEaWZmZXJzLCBwcm92aWRlZEluOiAncm9vdCcsIGZhY3Rvcnk6IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgT2JqZWN0YHMgYW5kIGBNYXBgcy5cbiAqL1xuY29uc3Qga2V5VmFsRGlmZiA9IFtuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSgpXTtcbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgSXRlcmFibGVgIHR5cGVzIHN1Y2ggYXMgYEFycmF5YHMuXG4gKi9cbmNvbnN0IGl0ZXJhYmxlRGlmZiA9IFtuZXcgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSgpXTtcbmNvbnN0IGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgPSBuZXcgSXRlcmFibGVEaWZmZXJzKGl0ZXJhYmxlRGlmZik7XG5jb25zdCBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzID0gbmV3IEtleVZhbHVlRGlmZmVycyhrZXlWYWxEaWZmKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX0NPUkVfUExBVEZPUk1fUFJPVklERVJTID0gW1xuICAgIC8vIFNldCBhIGRlZmF1bHQgcGxhdGZvcm0gbmFtZSBmb3IgcGxhdGZvcm1zIHRoYXQgZG9uJ3Qgc2V0IGl0IGV4cGxpY2l0bHkuXG4gICAgeyBwcm92aWRlOiBQTEFURk9STV9JRCwgdXNlVmFsdWU6ICd1bmtub3duJyB9LFxuICAgIHsgcHJvdmlkZTogUGxhdGZvcm1SZWYsIGRlcHM6IFtJbmplY3Rvcl0gfSxcbiAgICB7IHByb3ZpZGU6IFRlc3RhYmlsaXR5UmVnaXN0cnksIGRlcHM6IFtdIH0sXG4gICAgeyBwcm92aWRlOiBDb25zb2xlLCBkZXBzOiBbXSB9LFxuXTtcbi8qKlxuICogVGhpcyBwbGF0Zm9ybSBoYXMgdG8gYmUgaW5jbHVkZWQgaW4gYW55IG90aGVyIHBsYXRmb3JtXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBwbGF0Zm9ybUNvcmUgPSBjcmVhdGVQbGF0Zm9ybUZhY3RvcnkobnVsbCwgJ2NvcmUnLCBfQ09SRV9QTEFURk9STV9QUk9WSURFUlMpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmUtZXhwb3J0ZWQgYnkgYEJyb3dzZXJNb2R1bGVgLCB3aGljaCBpcyBpbmNsdWRlZCBhdXRvbWF0aWNhbGx5IGluIHRoZSByb290XG4gKiBgQXBwTW9kdWxlYCB3aGVuIHlvdSBjcmVhdGUgYSBuZXcgYXBwIHdpdGggdGhlIENMSSBgbmV3YCBjb21tYW5kLiBFYWdlcmx5IGluamVjdHNcbiAqIGBBcHBsaWNhdGlvblJlZmAgdG8gaW5zdGFudGlhdGUgaXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBBcHBsaWNhdGlvbk1vZHVsZSB7XG4gICAgLy8gSW5qZWN0IEFwcGxpY2F0aW9uUmVmIHRvIG1ha2UgaXQgZWFnZXIuLi5cbiAgICBjb25zdHJ1Y3RvcihhcHBSZWYpIHsgfVxufVxuQXBwbGljYXRpb25Nb2R1bGUuybVmYWMgPSBmdW5jdGlvbiBBcHBsaWNhdGlvbk1vZHVsZV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBBcHBsaWNhdGlvbk1vZHVsZSkoybXJtWluamVjdChBcHBsaWNhdGlvblJlZikpOyB9O1xuQXBwbGljYXRpb25Nb2R1bGUuybVtb2QgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVOZ01vZHVsZSh7IHR5cGU6IEFwcGxpY2F0aW9uTW9kdWxlIH0pO1xuQXBwbGljYXRpb25Nb2R1bGUuybVpbmogPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3Rvcih7fSk7XG4oZnVuY3Rpb24gKCkgeyAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQXBwbGljYXRpb25Nb2R1bGUsIFt7XG4gICAgICAgIHR5cGU6IE5nTW9kdWxlXG4gICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEFwcGxpY2F0aW9uUmVmIH1dOyB9LCBudWxsKTsgfSkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUT0RPKGFseGh1Yik6IGFsbG93cyB0ZXN0cyB0byBjb21waWxlLCBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRlc3RzIGhhdmUgYmVlbiB1cGRhdGVkLlxuY29uc3QgybVpdnlFbmFibGVkID0gdHJ1ZTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBkaXJlY3RpdmUgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlRGlyZWN0aXZlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlRGlyZWN0aXZlRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWZhYy5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBFdmFsdWF0ZXMgdGhlIGNsYXNzIG1ldGFkYXRhIGRlY2xhcmF0aW9uLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKGRlY2wpIHtcbiAgICBzZXRDbGFzc01ldGFkYXRhKGRlY2wudHlwZSwgZGVjbC5kZWNvcmF0b3JzLCBkZWNsLmN0b3JQYXJhbWV0ZXJzID8/IG51bGwsIGRlY2wucHJvcERlY29yYXRvcnMgPz8gbnVsbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBjb21wb25lbnQgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIGNvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlQ29tcG9uZW50KGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnY29tcG9uZW50JywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWNtcC5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgcGlwZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgcGlwZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlRmFjdG9yeShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7XG4gICAgICAgIHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLyxcbiAgICAgICAga2luZDogZ2V0RmFjdG9yeUtpbmQoZGVjbC50YXJnZXQpLFxuICAgICAgICB0eXBlOiBkZWNsLnR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUZhY3RvcnlEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1ZmFjLmpzYCwgZGVjbCk7XG59XG5mdW5jdGlvbiBnZXRGYWN0b3J5S2luZCh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlOlxuICAgICAgICAgICAgcmV0dXJuICdkaXJlY3RpdmUnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuQ29tcG9uZW50OlxuICAgICAgICAgICAgcmV0dXJuICdjb21wb25lbnQnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZTpcbiAgICAgICAgICAgIHJldHVybiAnaW5qZWN0YWJsZSc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5QaXBlOlxuICAgICAgICAgICAgcmV0dXJuICdwaXBlJztcbiAgICAgICAgY2FzZSBGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlOlxuICAgICAgICAgICAgcmV0dXJuICdOZ01vZHVsZSc7XG4gICAgfVxufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgaW5qZWN0YWJsZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgaW5qZWN0YWJsZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlSW5qZWN0YWJsZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVJbmplY3RhYmxlRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtXByb3YuanNgLCBkZWNsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGluamVjdG9yIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBpbmplY3RvciBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlSW5qZWN0b3IoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWluai5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgTmdNb2R1bGUgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIE5nTW9kdWxlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVOZ01vZHVsZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1bW9kLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBwaXBlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBwaXBlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVQaXBlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAncGlwZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZVBpcGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1cGlwZS5qc2AsIGRlY2wpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIGNsYW5nLWZvcm1hdCBvblxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmlmICh0eXBlb2YgbmdEZXZNb2RlICE9PSAndW5kZWZpbmVkJyAmJiBuZ0Rldk1vZGUpIHtcbiAgICAvLyBUaGlzIGhlbHBlciBpcyB0byBnaXZlIGEgcmVhc29uYWJsZSBlcnJvciBtZXNzYWdlIHRvIHBlb3BsZSB1cGdyYWRpbmcgdG8gdjkgdGhhdCBoYXZlIG5vdCB5ZXRcbiAgICAvLyBpbnN0YWxsZWQgYEBhbmd1bGFyL2xvY2FsaXplYCBpbiB0aGVpciBhcHAuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBfZ2xvYmFsLiRsb2NhbGl6ZSA9IF9nbG9iYWwuJGxvY2FsaXplIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBsb29rcyBsaWtlIHlvdXIgYXBwbGljYXRpb24gb3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMgaXMgdXNpbmcgaTE4bi5cXG4nICtcbiAgICAgICAgICAgICdBbmd1bGFyIDkgaW50cm9kdWNlZCBhIGdsb2JhbCBgJGxvY2FsaXplKClgIGZ1bmN0aW9uIHRoYXQgbmVlZHMgdG8gYmUgbG9hZGVkLlxcbicgK1xuICAgICAgICAgICAgJ1BsZWFzZSBydW4gYG5nIGFkZCBAYW5ndWxhci9sb2NhbGl6ZWAgZnJvbSB0aGUgQW5ndWxhciBDTEkuXFxuJyArXG4gICAgICAgICAgICAnKEZvciBub24tQ0xJIHByb2plY3RzLCBhZGQgYGltcG9ydCBcXCdAYW5ndWxhci9sb2NhbGl6ZS9pbml0XFwnO2AgdG8geW91ciBgcG9seWZpbGxzLnRzYCBmaWxlLlxcbicgK1xuICAgICAgICAgICAgJ0ZvciBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgYXBwbGljYXRpb25zIGFkZCB0aGUgaW1wb3J0IHRvIHlvdXIgYG1haW4uc2VydmVyLnRzYCBmaWxlLiknKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZmlsZSBvbmx5IHJlZXhwb3J0cyBjb250ZW50IG9mIHRoZSBgc3JjYCBmb2xkZXIuIEtlZXAgaXQgdGhhdCB3YXkuXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIEFQUF9CT09UU1RSQVBfTElTVEVORVIsIEFQUF9JRCwgQVBQX0lOSVRJQUxJWkVSLCBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIEFwcGxpY2F0aW9uTW9kdWxlLCBBcHBsaWNhdGlvblJlZiwgQXR0cmlidXRlLCBDT01QSUxFUl9PUFRJT05TLCBDVVNUT01fRUxFTUVOVFNfU0NIRU1BLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBpbGVyLCBDb21waWxlckZhY3RvcnksIENvbXBvbmVudCwgQ29tcG9uZW50RmFjdG9yeSQxIGFzIENvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIGFzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQ29tcG9uZW50UmVmJDEgYXMgQ29tcG9uZW50UmVmLCBDb250ZW50Q2hpbGQsIENvbnRlbnRDaGlsZHJlbiwgREVGQVVMVF9DVVJSRU5DWV9DT0RFLCBEZWJ1Z0VsZW1lbnQsIERlYnVnRXZlbnRMaXN0ZW5lciwgRGVidWdOb2RlLCBEZWZhdWx0SXRlcmFibGVEaWZmZXIsIERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgRW1iZWRkZWRWaWV3UmVmLCBFcnJvckhhbmRsZXIsIEV2ZW50RW1pdHRlciwgSG9zdCwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lciwgSU5KRUNUT1IsIEluamVjdCwgSW5qZWN0RmxhZ3MsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuLCBJbmplY3RvciwgSW5wdXQsIEl0ZXJhYmxlRGlmZmVycywgS2V5VmFsdWVEaWZmZXJzLCBMT0NBTEVfSUQsIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LCBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzLCBOT19FUlJPUlNfU0NIRU1BLCBOZ01vZHVsZSwgTmdNb2R1bGVGYWN0b3J5JDEgYXMgTmdNb2R1bGVGYWN0b3J5LCBOZ01vZHVsZVJlZiQxIGFzIE5nTW9kdWxlUmVmLCBOZ1Byb2JlVG9rZW4sIE5nWm9uZSwgT3B0aW9uYWwsIE91dHB1dCwgUEFDS0FHRV9ST09UX1VSTCwgUExBVEZPUk1fSUQsIFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBQaXBlLCBQbGF0Zm9ybVJlZiwgUXVlcnksIFF1ZXJ5TGlzdCwgUmVmbGVjdGl2ZUluamVjdG9yLCBSZWZsZWN0aXZlS2V5LCBSZW5kZXJlcjIsIFJlbmRlcmVyRmFjdG9yeTIsIFJlbmRlcmVyU3R5bGVGbGFnczIsIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnksIFNhbml0aXplciwgU2VjdXJpdHlDb250ZXh0LCBTZWxmLCBTaW1wbGVDaGFuZ2UsIFNraXBTZWxmLCBUUkFOU0xBVElPTlMsIFRSQU5TTEFUSU9OU19GT1JNQVQsIFRlbXBsYXRlUmVmLCBUZXN0YWJpbGl0eSwgVGVzdGFiaWxpdHlSZWdpc3RyeSwgVHlwZSwgVkVSU0lPTiwgVmVyc2lvbiwgVmlld0NoaWxkLCBWaWV3Q2hpbGRyZW4sIFZpZXdDb250YWluZXJSZWYsIFZpZXdFbmNhcHN1bGF0aW9uJDEgYXMgVmlld0VuY2Fwc3VsYXRpb24sIFZpZXdSZWYsIGFzTmF0aXZlRWxlbWVudHMsIGFzc2VydFBsYXRmb3JtLCBjcmVhdGVOZ01vZHVsZVJlZiwgY3JlYXRlUGxhdGZvcm0sIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgZGVmaW5lSW5qZWN0YWJsZSwgZGVzdHJveVBsYXRmb3JtLCBlbmFibGVQcm9kTW9kZSwgZm9yd2FyZFJlZiwgZ2V0RGVidWdOb2RlLCBnZXRNb2R1bGVGYWN0b3J5LCBnZXROZ01vZHVsZUJ5SWQsIGdldFBsYXRmb3JtLCBpbmplY3QsIGlzRGV2TW9kZSwgcGxhdGZvcm1Db3JlLCByZXNvbHZlRm9yd2FyZFJlZiwgc2V0VGVzdGFiaWxpdHlHZXR0ZXIsIEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyBhcyDJtUFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgQVBQX0lEX1JBTkRPTV9QUk9WSURFUiBhcyDJtUFQUF9JRF9SQU5ET01fUFJPVklERVIsIENoYW5nZURldGVjdG9yU3RhdHVzIGFzIMm1Q2hhbmdlRGV0ZWN0b3JTdGF0dXMsIENvbXBvbmVudEZhY3RvcnkkMSBhcyDJtUNvbXBvbmVudEZhY3RvcnksIENvbnNvbGUgYXMgybVDb25zb2xlLCBERUZBVUxUX0xPQ0FMRV9JRCBhcyDJtURFRkFVTFRfTE9DQUxFX0lELCBJTkpFQ1RPUl9TQ09QRSBhcyDJtUlOSkVDVE9SX1NDT1BFLCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYXMgybVMaWZlY3ljbGVIb29rc0ZlYXR1cmUsIExvY2FsZURhdGFJbmRleCBhcyDJtUxvY2FsZURhdGFJbmRleCwgTkdfQ09NUF9ERUYgYXMgybVOR19DT01QX0RFRiwgTkdfRElSX0RFRiBhcyDJtU5HX0RJUl9ERUYsIE5HX0VMRU1FTlRfSUQgYXMgybVOR19FTEVNRU5UX0lELCBOR19JTkpfREVGIGFzIMm1TkdfSU5KX0RFRiwgTkdfTU9EX0RFRiBhcyDJtU5HX01PRF9ERUYsIE5HX1BJUEVfREVGIGFzIMm1TkdfUElQRV9ERUYsIE5HX1BST1ZfREVGIGFzIMm1TkdfUFJPVl9ERUYsIE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgYXMgybVOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBOT19DSEFOR0UgYXMgybVOT19DSEFOR0UsIE5nTW9kdWxlRmFjdG9yeSBhcyDJtU5nTW9kdWxlRmFjdG9yeSwgTm9vcE5nWm9uZSBhcyDJtU5vb3BOZ1pvbmUsIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgYXMgybVSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLCBDb21wb25lbnRGYWN0b3J5IGFzIMm1UmVuZGVyM0NvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudFJlZiBhcyDJtVJlbmRlcjNDb21wb25lbnRSZWYsIE5nTW9kdWxlUmVmIGFzIMm1UmVuZGVyM05nTW9kdWxlUmVmLCBSdW50aW1lRXJyb3IgYXMgybVSdW50aW1lRXJyb3IsIFZpZXdSZWYkMSBhcyDJtVZpZXdSZWYsIF9zYW5pdGl6ZUh0bWwgYXMgybVfc2FuaXRpemVIdG1sLCBfc2FuaXRpemVVcmwgYXMgybVfc2FuaXRpemVVcmwsIGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3cgYXMgybVhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93LCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsLCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0LCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlIGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSwgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCwgY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSBhcyDJtWNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUsIGNvbXBpbGVDb21wb25lbnQgYXMgybVjb21waWxlQ29tcG9uZW50LCBjb21waWxlRGlyZWN0aXZlIGFzIMm1Y29tcGlsZURpcmVjdGl2ZSwgY29tcGlsZU5nTW9kdWxlIGFzIMm1Y29tcGlsZU5nTW9kdWxlLCBjb21waWxlTmdNb2R1bGVEZWZzIGFzIMm1Y29tcGlsZU5nTW9kdWxlRGVmcywgY29tcGlsZU5nTW9kdWxlRmFjdG9yeSBhcyDJtWNvbXBpbGVOZ01vZHVsZUZhY3RvcnksIGNvbXBpbGVQaXBlIGFzIMm1Y29tcGlsZVBpcGUsIGNyZWF0ZUluamVjdG9yIGFzIMm1Y3JlYXRlSW5qZWN0b3IsIGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgYXMgybVkZWZhdWx0SXRlcmFibGVEaWZmZXJzLCBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIGFzIMm1ZGVmYXVsdEtleVZhbHVlRGlmZmVycywgZGV0ZWN0Q2hhbmdlcyBhcyDJtWRldGVjdENoYW5nZXMsIGRldk1vZGVFcXVhbCBhcyDJtWRldk1vZGVFcXVhbCwgZmluZExvY2FsZURhdGEgYXMgybVmaW5kTG9jYWxlRGF0YSwgZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlIGFzIMm1Zmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlLCBnZXREZWJ1Z05vZGUgYXMgybVnZXREZWJ1Z05vZGUsIGdldERlYnVnTm9kZVIyIGFzIMm1Z2V0RGVidWdOb2RlUjIsIGdldERpcmVjdGl2ZXMgYXMgybVnZXREaXJlY3RpdmVzLCBnZXRIb3N0RWxlbWVudCBhcyDJtWdldEhvc3RFbGVtZW50LCBnZXRJbmplY3RhYmxlRGVmIGFzIMm1Z2V0SW5qZWN0YWJsZURlZiwgZ2V0TENvbnRleHQgYXMgybVnZXRMQ29udGV4dCwgZ2V0TG9jYWxlQ3VycmVuY3lDb2RlIGFzIMm1Z2V0TG9jYWxlQ3VycmVuY3lDb2RlLCBnZXRMb2NhbGVQbHVyYWxDYXNlIGFzIMm1Z2V0TG9jYWxlUGx1cmFsQ2FzZSwgZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSBhcyDJtWdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUsIF9nbG9iYWwgYXMgybVnbG9iYWwsIGluamVjdENoYW5nZURldGVjdG9yUmVmIGFzIMm1aW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYsIGlzQm91bmRUb01vZHVsZSBhcyDJtWlzQm91bmRUb01vZHVsZSwgaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgYXMgybVpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgaXNMaXN0TGlrZUl0ZXJhYmxlIGFzIMm1aXNMaXN0TGlrZUl0ZXJhYmxlLCBpc09ic2VydmFibGUgYXMgybVpc09ic2VydmFibGUsIGlzUHJvbWlzZSBhcyDJtWlzUHJvbWlzZSwgaXNTdWJzY3JpYmFibGUgYXMgybVpc1N1YnNjcmliYWJsZSwgybVpdnlFbmFibGVkLCBtYWtlRGVjb3JhdG9yIGFzIMm1bWFrZURlY29yYXRvciwgbWFya0RpcnR5IGFzIMm1bWFya0RpcnR5LCBub1NpZGVFZmZlY3RzIGFzIMm1bm9TaWRlRWZmZWN0cywgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUgYXMgybVwYXRjaENvbXBvbmVudERlZldpdGhTY29wZSwgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxIGFzIMm1cHVibGlzaERlZmF1bHRHbG9iYWxVdGlscywgcHVibGlzaEdsb2JhbFV0aWwgYXMgybVwdWJsaXNoR2xvYmFsVXRpbCwgcmVnaXN0ZXJMb2NhbGVEYXRhIGFzIMm1cmVnaXN0ZXJMb2NhbGVEYXRhLCByZWdpc3Rlck5nTW9kdWxlVHlwZSBhcyDJtXJlZ2lzdGVyTmdNb2R1bGVUeXBlLCByZW5kZXJDb21wb25lbnQgYXMgybVyZW5kZXJDb21wb25lbnQsIHJlc2V0Q29tcGlsZWRDb21wb25lbnRzIGFzIMm1cmVzZXRDb21waWxlZENvbXBvbmVudHMsIHJlc2V0Sml0T3B0aW9ucyBhcyDJtXJlc2V0Sml0T3B0aW9ucywgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyBhcyDJtXJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMsIHNldENsYXNzTWV0YWRhdGEgYXMgybVzZXRDbGFzc01ldGFkYXRhLCBzZXRDdXJyZW50SW5qZWN0b3IgYXMgybVzZXRDdXJyZW50SW5qZWN0b3IsIHNldERvY3VtZW50IGFzIMm1c2V0RG9jdW1lbnQsIHNldExvY2FsZUlkIGFzIMm1c2V0TG9jYWxlSWQsIHN0b3JlIGFzIMm1c3RvcmUsIHN0cmluZ2lmeSBhcyDJtXN0cmluZ2lmeSwgdHJhbnNpdGl2ZVNjb3Blc0ZvciBhcyDJtXRyYW5zaXRpdmVTY29wZXNGb3IsIHVucmVnaXN0ZXJBbGxMb2NhbGVEYXRhIGFzIMm1dW5yZWdpc3RlckxvY2FsZURhdGEsIHVud3JhcFNhZmVWYWx1ZSBhcyDJtXVud3JhcFNhZmVWYWx1ZSwgd2hlblJlbmRlcmVkIGFzIMm1d2hlblJlbmRlcmVkLCDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlLCBGYWN0b3J5VGFyZ2V0IGFzIMm1ybVGYWN0b3J5VGFyZ2V0LCDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlLCDJtcm1TmdPbkNoYW5nZXNGZWF0dXJlLCDJtcm1UHJvdmlkZXJzRmVhdHVyZSwgybXJtWFkdmFuY2UsIMm1ybVhdHRyaWJ1dGUsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYsIMm1ybVjbGFzc01hcCwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIsIMm1ybVjbGFzc01hcEludGVycG9sYXRlMywgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUsIMm1ybVjbGFzc01hcEludGVycG9sYXRlNiwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgsIMm1ybVjbGFzc01hcEludGVycG9sYXRlViwgybXJtWNsYXNzUHJvcCwgybXJtWNvbnRlbnRRdWVyeSwgybXJtWRlZmluZUNvbXBvbmVudCwgybXJtWRlZmluZURpcmVjdGl2ZSwgybXJtWRlZmluZUluamVjdGFibGUsIMm1ybVkZWZpbmVJbmplY3RvciwgybXJtWRlZmluZU5nTW9kdWxlLCDJtcm1ZGVmaW5lUGlwZSwgybXJtWRpcmVjdGl2ZUluamVjdCwgybXJtWRpc2FibGVCaW5kaW5ncywgybXJtWVsZW1lbnQsIMm1ybVlbGVtZW50Q29udGFpbmVyLCDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCwgybXJtWVsZW1lbnRDb250YWluZXJTdGFydCwgybXJtWVsZW1lbnRFbmQsIMm1ybVlbGVtZW50U3RhcnQsIMm1ybVlbmFibGVCaW5kaW5ncywgybXJtWdldEN1cnJlbnRWaWV3LCDJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSwgybXJtWhvc3RQcm9wZXJ0eSwgybXJtWkxOG4sIMm1ybVpMThuQXBwbHksIMm1ybVpMThuQXR0cmlidXRlcywgybXJtWkxOG5FbmQsIMm1ybVpMThuRXhwLCDJtcm1aTE4blBvc3Rwcm9jZXNzLCDJtcm1aTE4blN0YXJ0LCDJtcm1aW5qZWN0LCDJtcm1aW5qZWN0QXR0cmlidXRlLCDJtcm1aW52YWxpZEZhY3RvcnksIMm1ybVpbnZhbGlkRmFjdG9yeURlcCwgybXJtWxpc3RlbmVyLCDJtcm1bG9hZFF1ZXJ5LCDJtcm1bmFtZXNwYWNlSFRNTCwgybXJtW5hbWVzcGFjZU1hdGhNTCwgybXJtW5hbWVzcGFjZVNWRywgybXJtW5leHRDb250ZXh0LCDJtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSwgybXJtW5nRGVjbGFyZUNvbXBvbmVudCwgybXJtW5nRGVjbGFyZURpcmVjdGl2ZSwgybXJtW5nRGVjbGFyZUZhY3RvcnksIMm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlLCDJtcm1bmdEZWNsYXJlSW5qZWN0b3IsIMm1ybVuZ0RlY2xhcmVOZ01vZHVsZSwgybXJtW5nRGVjbGFyZVBpcGUsIMm1ybVwaXBlLCDJtcm1cGlwZUJpbmQxLCDJtcm1cGlwZUJpbmQyLCDJtcm1cGlwZUJpbmQzLCDJtcm1cGlwZUJpbmQ0LCDJtcm1cGlwZUJpbmRWLCDJtcm1cHJvamVjdGlvbiwgybXJtXByb2plY3Rpb25EZWYsIMm1ybVwcm9wZXJ0eSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyLCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNCwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNywgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYsIMm1ybVwdXJlRnVuY3Rpb24wLCDJtcm1cHVyZUZ1bmN0aW9uMSwgybXJtXB1cmVGdW5jdGlvbjIsIMm1ybVwdXJlRnVuY3Rpb24zLCDJtcm1cHVyZUZ1bmN0aW9uNCwgybXJtXB1cmVGdW5jdGlvbjUsIMm1ybVwdXJlRnVuY3Rpb242LCDJtcm1cHVyZUZ1bmN0aW9uNywgybXJtXB1cmVGdW5jdGlvbjgsIMm1ybVwdXJlRnVuY3Rpb25WLCDJtcm1cXVlcnlSZWZyZXNoLCDJtcm1cmVmZXJlbmNlLCDJtcm1cmVzb2x2ZUJvZHksIMm1ybVyZXNvbHZlRG9jdW1lbnQsIMm1ybVyZXNvbHZlV2luZG93LCDJtcm1cmVzdG9yZVZpZXcsIMm1ybVzYW5pdGl6ZUh0bWwsIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsLCDJtcm1c2FuaXRpemVTY3JpcHQsIMm1ybVzYW5pdGl6ZVN0eWxlLCDJtcm1c2FuaXRpemVVcmwsIMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwsIMm1ybVzZXRDb21wb25lbnRTY29wZSwgybXJtXNldE5nTW9kdWxlU2NvcGUsIMm1ybVzdHlsZU1hcCwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMywgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNiwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlViwgybXJtXN0eWxlUHJvcCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMiwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMywgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNiwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNywgybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlViwgybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lciwgybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSwgybXJtXRlbXBsYXRlLCDJtcm1dGVtcGxhdGVSZWZFeHRyYWN0b3IsIMm1ybV0ZXh0LCDJtcm1dGV4dEludGVycG9sYXRlLCDJtcm1dGV4dEludGVycG9sYXRlMSwgybXJtXRleHRJbnRlcnBvbGF0ZTIsIMm1ybV0ZXh0SW50ZXJwb2xhdGUzLCDJtcm1dGV4dEludGVycG9sYXRlNCwgybXJtXRleHRJbnRlcnBvbGF0ZTUsIMm1ybV0ZXh0SW50ZXJwb2xhdGU2LCDJtcm1dGV4dEludGVycG9sYXRlNywgybXJtXRleHRJbnRlcnBvbGF0ZTgsIMm1ybV0ZXh0SW50ZXJwb2xhdGVWLCDJtcm1dHJ1c3RDb25zdGFudEh0bWwsIMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwsIMm1ybV2aWV3UXVlcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUubWpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgeyBTaWduYWxpbmdTZXJ2ZXIgfSBmcm9tIFwiLi9zaWduYWxpbmdTZXJ2ZXJcIjtcbmV4cG9ydCB7IFdlYlJ0Y1Byb3ZpZGVyIH0gZnJvbSBcIi4vd2ViUnRjLnByb3ZpZGVyXCI7XG5leHBvcnQgeyBQcm9vZm1lVXRpbHNQcm92aWRlciB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHMucHJvdmlkZXJcIjtcbmV4cG9ydCB7IFByb29mbWVVdGlscyB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHNcIjtcbmV4cG9ydCB7IFNpZ25hbFNlcnZlclYyIH0gZnJvbSBcIi4vc2lnbmFsU2VydmVyL3NpZ25hbFNlcnZlclYyXCI7XG5leHBvcnQgeyBnZXRTdWJEb21haW4gfSBmcm9tIFwiLi91dGlscy9nbG9iYWwvdjFVdGlsc1wiO1xuZXhwb3J0IHsgSVJUQ0Nvbm5lY3Rpb25Db25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3J0Y0Nvbm5lY3Rpb25Db25maWcuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ29ubmVjdGlvbkRldGFpbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EZXRhaWxzXCI7XG5leHBvcnQgeyBJV2ViUlRDQ29uZmlnIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy93ZWJSdGNDb25maWcuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBFTWltZVR5cGUgfSBmcm9tIFwiLi9lbnVtcy9taW1lVHlwZXMuZW51bVwiO1xuZXhwb3J0IHsgRVNpZ25hdHVyZVR5cGVzIH0gZnJvbSBcIi4vZW51bXMvc2lnbmF0dXJlVHlwZXMuZW51bVwiO1xuZXhwb3J0IHsgRUNsYWltVHlwZSB9IGZyb20gXCIuL2VudW1zL2NsYWltVHlwZXMuZW51bVwiO1xuZXhwb3J0IHsgSVNpZ25lZENvbnRlbnQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NsYWltcy9zaWduZWRDb250ZW50LmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVByb29mIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wcm9vZi5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElDaGVja2VkRGlkIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jaGVja2VkRGlkLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxLZXkgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxLZXkuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3ZhbGlkYXRlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNyZWRlbnRpYWxPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWxzT2JqZWN0LmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNyZWRlbnRpYWxLZXlPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWxLZXlPYmplY3QuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHRcIjtcbmV4cG9ydCB7IEVQcm9vZm1lRGF0YVB1cnBvc2UgfSBmcm9tIFwiLi9lbnVtcy9wcm9vZm1lRGF0YVB1cnBvc2VcIjtcbmV4cG9ydCB7IEVQcm9vZm1lRGF0YVN0b3JhZ2UgfSBmcm9tIFwiLi9lbnVtcy9wcm9vZm1lRGF0YVN0b3JhZ2VcIjtcbmV4cG9ydCB7IEVQcm9vZlR5cGUgfSBmcm9tIFwiLi9lbnVtcy9wcm9vZlR5cGUuZW51bVwiO1xuZXhwb3J0IHsgRVdlYnNvY2tldFJlYWR5U3RhdGUgfSBmcm9tIFwiLi9lbnVtcy93ZWJzb2NrZXRSZWFkeVN0YXRlLmVudW1cIjtcbmV4cG9ydCB7IGNoZWNrS2V5Rm9yRGlkIH0gZnJvbSBcIi4vdXRpbHMvc21hcnRDb250cmFjdHMvc21hcnRDb250cmFjdFV0aWxzXCJcbmV4cG9ydCB7IElBZGRpdGlvbmFsSW5mbyB9IGZyb20gXCIuL2ludGVyZmFjZXMvYWRkaXRpb25hbC1pbmZvLmludGVyZmFjZVwiO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJFQ2xhaW1UeXBlIiwiRURJREFjY2Vzc0xldmVsIiwiRU1pbWVUeXBlIiwiRVByb29mbWVEYXRhUHVycG9zZSIsIkVQcm9vZm1lRGF0YVN0b3JhZ2UiLCJFU2lnbmF0dXJlVHlwZXMiLCJjcnlwdG9fMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJjaGFubmVsSWQiLCJjb25uZWN0aW9ucyIsImZpbHRlciIsImNsaWVudCIsInV1aWQiLCJjaGFubmVsIiwiaG9zdCIsImxlbmd0aCIsInR5cGUiLCJ0dXJuRXhwaXJhdGlvbiIsInR1cm5TZWNyZXQiLCJ0dXJuVXJsIiwidXNlcm5hbWUiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiaWNlQ2FuZGlkYXRlUG9vbFNpemUiLCJpY2VTZXJ2ZXJzIiwidXJscyIsImNyZWRlbnRpYWwiLCJkZWZhdWx0IiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsInRvU3RyaW5nIiwiZGlnZXN0IiwicHJvb2ZtZV91dGlsc18xIiwiUHJvb2ZtZVV0aWxzUHJvdmlkZXIiLCJwcm9vZm1lVXRpbHMiLCJQcm9vZm1lVXRpbHMiLCJpc1ZhbGlkQ3JlZGVudGlhbHMiLCJjcmVkZW50aWFsT2JqZWN0Iiwid2ViM1VybCIsInJlcXVlc3RlZENyZWRlbnRpYWxzIiwidHJ1c3RlZERpZHMiLCJjaGVja1VzZXJOb25jZSIsImxpdmVuZXNzQ2hlY2tSZXF1aXJlZCIsInRoaXMiLCJnZXRTaWduYXR1cmUiLCJtZXNzYWdlIiwicHJpdmF0ZUtleSIsInNpZ25DcmVkZW50aWFsT2JqZWN0Iiwic2lnblJlcXVlc3RlZENyZWRlbnRpYWxzIiwiZGlkIiwiaXNWYWxpZFJlcXVlc3RlZENyZWRlbnRpYWxzIiwiY2xhaW1ob2xkZXJBYmkiLCJnZXRMaWNlbnNlQ2xhaW0iLCJjbGFpbUhvbGRlckFiaSIsImlzVmFsaWRMaWNlbnNlQ3JlZGVudGlhbHMiLCJnZW5lcmF0ZUNoYWxsZW5nZSIsInB1YmxpY0tleSIsImdldENsYWltIiwiY2xhaW1UeXBlIiwiY29udHJhY3RBZGRyZXNzIiwiZ2V0Q29udHJhY3RBZGRyZXNzRnJvbURpZCIsIsm1ZmFjIiwid2ViM18xIiwiY2xhaW1UeXBlc19lbnVtXzEiLCJkaWRBY2Nlc3NMZXZlbF9lbnVtXzEiLCJzaWduYXR1cmVUeXBlc19lbnVtXzEiLCJjbGFpbUhvbGRlckFiaV8xIiwiZXhjbHVkZWRDcmVkZW50aWFsUHJvdmlkZXJzIiwid2ViMyIsInJlcXVlc3RlZENoZWNrUmVzdWx0IiwicmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0Iiwic3VjY2VzcyIsImNyZWRlbnRpYWxzIiwicmVzdWx0IiwiY2hlY2tDcmVkZW50aWFscyIsInZhbGlkIiwidXRpbHMiLCJpc0FkZHJlc3MiLCJjb25zb2xlIiwiZXJyb3IiLCJ4IiwiY2hlY2tlZERpZCIsInZhbGlkQ3JlZGVudGlhbHNBbW91bnQiLCJjcmVkZW50aWFsc0Ftb3VudCIsImludmFsaWRDcmVkZW50aWFscyIsInByb3ZpZGVyIiwiT2JqZWN0IiwiZW50cmllcyIsImluY2x1ZGVzIiwiY3VycmVudENyZWRlbnRpYWxLZXkiLCJpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MiLCJpc3N1ZXIiLCJpZCIsInNwbGl0IiwiZm91bmRWYWxpZCIsImludmFsaWRLZXlQcm92aWRlciIsImludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzIiwibm9UcnVzdGVkQ2xhaW1Gb3VuZCIsImZvdW5kRW50cnkiLCJmaW5kIiwiY2xhaW0iLCJnZXRDbGFpbXMiLCJwdXNoIiwiZXhwaXJhdGlvbkRhdGUiLCJjbGFpbUFsbG93ZWRDcmVkZW50aWFsS2V5cyIsImtleXMiLCJwcm92aWRlckNyZWRlbnRpYWxLZXkiLCJjb2RlIiwiam9pbiIsIkpTT04iLCJwYXJzZSIsInJlT3JkZXJDcmVkZW50aWFsT2JqZWN0Iiwid2ViM05vZGUiLCJjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlIiwic3RyaW5naWZ5IiwicHJvb2YiLCJzaWduYXR1cmUiLCJ1c2VyUmVjb3ZlcmVkQWRkcmVzcyIsImV0aCIsImFjY291bnRzIiwicmVjb3ZlciIsInVzZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmciLCJob2xkZXIiLCJ2ZXJzaW9uIiwiY3JlZGVudGlhbEV4cGlyYXRpb25EYXRlIiwidGhlbiIsIm5vbmNlIiwiY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2UiLCJpc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmciLCJpc3N1ZXJIb2xkZXJLZXkiLCJjb3JyZWN0RGlkQ29udHJhY3RLZXkiLCJ1c2VySG9sZGVyS2V5IiwidXNlckRpZENvbnRyYWN0QWRkcmVzcyIsInVuZGVmaW5lZCIsInZlcmlmaWVkIiwiaG9sZGVyS2V5IiwicmVjb3ZlcmVkQWRkcmVzcyIsImlzc3VlclNpZ25hdHVyZSIsImNyZWRlbnRpYWxJc3N1ZXJLZXkiLCJjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mIiwiZGlkQWRkcmVzcyIsImtub3duQWRkcmVzc2VzIiwic2hhM0tleSIsImdldFNoYTNLZXkiLCJrZXlNYW5hZ2VyQ29udHJhY3QiLCJDb250cmFjdCIsImtub3duQWRkcmVzc2VzQ29udGFpbnMiLCJrZXlQdXJwb3NlIiwicGFyc2VJbnQiLCJnZXRLZXlQdXJwb3NlIiwibGlzdCIsImRpZENvbnRyYWN0QWRkcmVzcyIsImxpc3RJdGVtIiwia2V5Iiwia2VjY2FrMjU2Iiwib3B0aW9ucyIsImFkZHJlc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1ldGhvZHMiLCJjYWxsIiwiZHQyIiwiZHQxIiwiZGlmZiIsImdldFRpbWUiLCJhYnMiLCJyb3VuZCIsImNyZWRlbnRpYWxLZXlzIiwiY3JlZGVudGlhbEtleSIsInNvcnQiLCJyZU9yZGVyZWRDcmVkZW50aWFscyIsInJlT3JkZXJlZENyZWRlbnRpYWwiLCJyZU9yZGVyQ3JlZGVudGlhbCIsInJlT3JkZXJDcmVkZW50aWFsUHJvb2YiLCJzb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkiLCJvYmplY3QiLCJzb3J0ZWRPYmoiLCJrZXkxIiwia2V5MiIsInRvTG93ZXJDYXNlIiwiaW5kZXgiLCJBcnJheSIsInJlT3JkZXJPYmplY3QiLCJzaWduIiwiY29udGVudFRvU2lnbiIsImNvbnRyYWN0IiwiY2xhaW1JZHMiLCJnZXRDbGFpbUlkc0J5VHlwZSIsInJhd0NsYWltcyIsInBhcnNlZENsYWltcyIsInRvQXNjaWkiLCJkYXRhIiwibG9nIiwiY2hlY2tSZXN1bHQiLCJtaXNzaW5nS2V5cyIsInJlcXVlc3RlZENyZWRlbnRpYWwiLCJyZXF1aXJlZCIsIm9iamVjdEtleXMiLCJhZGRpdGlvbmFsSW5mbyIsImFuc3dlciIsImlzQXJyYXkiLCJmb3VuZCIsInJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZSIsInNvcnRBbHBoYWJldGljYWxseSIsIkVDRFNBIiwicmVxdWVzdGVkQ3JlZGVudGlhbHNDb3B5IiwiY2xhaW1Ib2xkZXJDb250cmFjdCIsImtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSIsIk1BTkFHRU1FTlRfS0VZIiwiQUNUSU9OX0tFWSIsIm9yZ2FuaXNhdGlvbkRpZCIsIkNPTVBBTllfSU5GTyIsImNyZWRlbnRpYWxzQ29weSIsInJlcGxhY2UiLCJjcmVkZW50aWFsU3ViamVjdCIsInZhbHVlIiwic3RhdHVzIiwicHJpdmF0ZUtleVRvUHVibGljS2V5IiwicHJpdmF0ZUtleVRvQWNjb3VudCIsInRpbWVzdGFtcCIsImNoYWxsZW5nZSIsImVuZHBvaW50Iiwic3BsaXR0ZWREaWQiLCJyeGpzXzEiLCJ1dWlkXzEiLCJ3ZWJzb2NrZXRfMSIsInNpZ25hbEhlbHBlcnNfMSIsIndlYlJ0Y0NsaWVudFYyXzEiLCJ3c1NlcnZlciIsIndzUmVxdWVzdCQiLCJTdWJqZWN0Iiwic3RhcnRTaWduYWwiLCJodHRwU2VydmVyIiwic2VydmVyIiwiYXV0b0FjY2VwdENvbm5lY3Rpb25zIiwib24iLCJhc3luYyIsIm5leHQiLCJyZXF1ZXN0Iiwic2VuZFRvIiwiY29ubmVjdGlvbiIsInNlbmRVVEYiLCJyZWplY3RDb25uZWN0aW9uIiwicmVhc29uIiwicmVqZWN0IiwidG9JU09TdHJpbmciLCJyZW1vdGVBZGRyZXNzZXMiLCJzZXR1cFAyUENvbm5lY3Rpb24iLCJ2YWxpZFNpZ24iLCJvcmlnaW5BbGxvd2VkIiwic2lnbmFsU2VydmVyIiwiYWN0aW9uVHlwZSIsIm9yaWdpbiIsImFjY2VwdCIsInY0IiwicmVzb3VyY2VVUkwiLCJxdWVyeSIsInB1YmxpY2tleSIsImF1dGhlbnRpY2F0ZWQiLCJzZXR1cFdlYnNvY2tldExpc3RlbmVycyIsIndlYlJ0Y0NvbmZpZyIsImdldFJUQ0Nvbm5lY3Rpb25Db25maWciLCJ3ZWJSdGNDb25uZWN0aW9uQ29uZmlnIiwid2ViUnRjQ2xpZW50IiwiV2ViUlRDQ2xpZW50VjIiLCJzZXR1cFBlZXJjb25uZWN0aW9uIiwiaG9zdENoYW5uZWwiLCJjb25uIiwiY2xpZW50Q2hhbm5lbCIsImNsaWVudERhdGEiLCJjbG9zZSIsInV0ZjhEYXRhIiwiZSIsIm9mZmVyIiwiY2FuZGlkYXRlIiwic2V0UmVtb3RlRGVzY3JpcHRpb24iLCJzZW5kQW5zd2VyIiwiYWRkQ2FuZGlkYXRlIiwicmVhc29uQ29kZSIsImRlc2NyaXB0aW9uIiwicmVtb3RlQWRkcmVzcyIsIldlYlNvY2tldCIsIl9faW1wb3J0U3RhciIsImNyeXB0byIsInJ0Y0Nvbm5lY3Rpb25Db25maWciLCJzZXRSVENDb25uZWN0aW9uQ29uZmlnIiwidHVybkVuYWJsZWQiLCJzdHVuRW5hYmxlZCIsInN0dW5VcmwiLCJTZXJ2ZXIiLCJkYXRhY2hhbm5lbCIsInNlbmQiLCJ3cyIsImNvbm5lY3RlZCIsImVyciIsIm1zZyIsInRva2VuIiwiaG9zdHMiLCJjbGllbnRzIiwic2l6ZSIsImhvc3RzT2ZmZXIiLCJ3c0FyZyIsImNsaWVudEFyZyIsImNvbnN0YW50IiwiaW5wdXRzIiwibmFtZSIsIm91dHB1dHMiLCJwYXlhYmxlIiwic3RhdGVNdXRhYmlsaXR5IiwiYW5vbnltb3VzIiwiaW5kZXhlZCIsImFiaSIsInVybCIsImlkZW50aXR5XzEiLCJrZXlUb0NoZWNrIiwiSWRlbnRpdHkiLCJzaGFBZGRyZXNzIiwic2hhMyIsImtleUhhc1B1cnBvc2UiLCJ3cnRjXzEiLCJXZWJSdGNQcm92aWRlciIsImhvc3RVdWlkIiwicGVlckNvbm5lY3Rpb24iLCJkYXRhQ2hhbm5lbCIsIndzQ2xpZW50IiwicmVjZWl2ZWRBY3Rpb25zJCIsIkJlaGF2aW9yU3ViamVjdCIsInV1aWQkIiwid2Vic29ja2V0TWVzc2FnZSQiLCJ3ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJCIsIndlYnNvY2tldENvbm5lY3Rpb25PcGVuJCIsIndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQiLCJjb25uZWN0aW9uVGltZW91dCIsInBvbmdDaGVja0ludGVydmFsIiwicGluZ1RpbWVvdXQiLCJXRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkiLCJXRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSIsImdldENvbmZpZyIsInNldEhvc3RVdWlkIiwic2VuZFAyUERhdGEiLCJhY3Rpb24iLCJyZWFkeVN0YXRlIiwic2VuZFdlYnNvY2tldERhdGEiLCJPUEVOIiwiZ2V0V2Vic29ja2V0Iiwic2V0VXVpZCIsImRpc2Nvbm5lY3QiLCJjbGVhclRpbWVvdXQiLCJvbmNsb3NlIiwicmVtb3RlRGlzY29ubmVjdCIsInNldFRpbWVvdXQiLCJzZW5kT2ZmZXIiLCJjcmVhdGVPZmZlciIsInNldExvY2FsRGVzY3JpcHRpb24iLCJsYXVuY2hXZWJzb2NrZXRDbGllbnQiLCJoZWFkZXJzIiwiY29ubmVjdGlvblN1Y2Nlc3MiLCJzaWduYWxpbmdVcmwiLCJrZWVwYWxpdmUiLCJ3M2N3ZWJzb2NrZXQiLCJvbmVycm9yIiwib25vcGVuIiwib25tZXNzYWdlIiwic2VuZFBpbmciLCJpc0hvc3QiLCJtYXhUcmllcyIsInRyaWVzIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJob3N0QW5zd2VyIiwiY3JlYXRlQW5zd2VyIiwiY2xpZW50Q2FuZGlkYXRlIiwiUlRDSWNlQ2FuZGlkYXRlIiwiYWRkSWNlQ2FuZGlkYXRlIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJjcmVhdGVEYXRhQ2hhbm5lbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImV2ZW50TWVzc2FnZSIsInAycENvbm5lY3RlZCIsImljZUNvbm5lY3Rpb25TdGF0ZSIsInNldHVwQ2xpZW50UGVlcmNvbm5lY3Rpb24iLCJob3N0V3NDb25uZWN0aW9uIiwiZGF0YUNoYW5uZWxPcGVuJCIsImRhdGFDaGFubmVsTWVzc2FnZSQiLCJjb25zdHJ1Y3RvciIsImNoYW5uZWxVdWlkIiwiZGF0YUNoYW5uZWxFdmVudCIsInBhcnNlZE1lc3NhZ2UiLCJtZXNzYWdlRXZlbnQiLCJyZW1vdGVEZXNjcmlwdGlvbiIsImlzQXJyYXlMaWtlIiwiaXNGdW5jdGlvbiIsImlzUHJvbWlzZSIsImNyZWF0ZUVycm9yQ2xhc3MiLCJjcmVhdGVJbXBsIiwiY3RvckZ1bmMiLCJpbnN0YW5jZSIsIkVycm9yIiwic3RhY2siLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiX3N1cGVyIiwiZXJyb3JzIiwibWFwIiwiaSIsImFyclJlbW92ZSIsImFyciIsIml0ZW0iLCJpbmRleE9mIiwic3BsaWNlIiwiU3Vic2NyaXB0aW9uIiwiaW5pdGlhbFRlYXJkb3duIiwiY2xvc2VkIiwiX3BhcmVudGFnZSIsIl90ZWFyZG93bnMiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJfcGFyZW50YWdlXzEiLCJfX3ZhbHVlcyIsIl9wYXJlbnRhZ2VfMV8xIiwiZG9uZSIsInJlbW92ZSIsImVfMV8xIiwicmV0dXJuIiwiX3RlYXJkb3duc18xIiwiX3RlYXJkb3duc18xXzEiLCJ0ZWFyZG93bl8xIiwiZXhlY1RlYXJkb3duIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsIl9yZW1vdmVQYXJlbnQiLCJFTVBUWSIsImVtcHR5IiwiRU1QVFlfU1VCU0NSSVBUSU9OIiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJ0aW1lb3V0UHJvdmlkZXIiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJkZWxlZ2F0ZSIsImFwcGx5IiwiaGFuZGxlIiwicmVwb3J0VW5oYW5kbGVkRXJyb3IiLCJub29wIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwia2luZCIsImNvbnRleHQiLCJlcnJvckNvbnRleHQiLCJjYiIsImlzUm9vdCIsImVycm9yVGhyb3duIiwiU3Vic2NyaWJlciIsImRlc3RpbmF0aW9uIiwiX3RoaXMiLCJpc1N0b3BwZWQiLCJFTVBUWV9PQlNFUlZFUiIsIl9fZXh0ZW5kcyIsImNvbXBsZXRlIiwiU2FmZVN1YnNjcmliZXIiLCJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX2JpbmQiLCJGdW5jdGlvbiIsImJpbmQiLCJmbiIsInRoaXNBcmciLCJDb25zdW1lck9ic2VydmVyIiwicGFydGlhbE9ic2VydmVyIiwiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCJvYnNlcnZlck9yTmV4dCIsImNvbnRleHRfMSIsIm5vdGlmaWNhdGlvbiIsInN1YnNjcmliZXIiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJvYnNlcnZhYmxlIiwiU3ltYm9sIiwiaWRlbnRpdHkiLCJPYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNvdXJjZSIsImlzT2JzZXJ2ZXIiLCJfdHJ5U3Vic2NyaWJlIiwic2luayIsImZvckVhY2giLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicGlwZSIsIm9wZXJhdGlvbnMiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJ0b1Byb21pc2UiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiYXN5bmNJdGVyYXRvciIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiVHlwZUVycm9yIiwiaXRlcmF0b3IiLCJpc0l0ZXJhYmxlIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsInJlYWRhYmxlU3RyZWFtIiwiX19hc3luY0dlbmVyYXRvciIsInJlYWRlciIsIl9fZ2VuZXJhdG9yIiwibGFiZWwiLCJnZXRSZWFkZXIiLCJ0cnlzIiwiX19hd2FpdCIsInJlYWQiLCJzZW50IiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsImZyb21Qcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhc3luY0l0ZXJhYmxlIiwiYXN5bmNJdGVyYWJsZV8xIiwiYXN5bmNJdGVyYWJsZV8xXzEiLCJfX2F3YWl0ZXIiLCJfX2FzeW5jVmFsdWVzIiwicHJvY2VzcyIsImNhdGNoIiwib3BlcmF0ZSIsImluaXQiLCJoYXNMaWZ0IiwibGlmdGVkU291cmNlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwib2JzZXJ2ZXJzIiwiaGFzRXJyb3IiLCJ0aHJvd25FcnJvciIsInN1YmplY3QiLCJBbm9ueW1vdXNTdWJqZWN0IiwiX3Rocm93SWZDbG9zZWQiLCJjb3B5Iiwic2xpY2UiLCJjb3B5XzEiLCJjb3B5XzFfMSIsInNoaWZ0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiX2NoZWNrRmluYWxpemVkU3RhdHVzZXMiLCJfaW5uZXJTdWJzY3JpYmUiLCJhc09ic2VydmFibGUiLCJzaGFyZSIsImNvbm5lY3RvciIsInJlc2V0T25FcnJvciIsIl9jIiwicmVzZXRPbkNvbXBsZXRlIiwiX2QiLCJyZXNldE9uUmVmQ291bnRaZXJvIiwid3JhcHBlclNvdXJjZSIsInJlc2V0Q29ubmVjdGlvbiIsInJlZkNvdW50IiwiaGFzQ29tcGxldGVkIiwiaGFzRXJyb3JlZCIsImNhbmNlbFJlc2V0IiwicmVzZXQiLCJyZXNldEFuZFVuc3Vic2NyaWJlIiwiZGVzdCIsImhhbmRsZVJlc2V0Iiwic2VlbiIsImdldENsb3N1cmVTYWZlUHJvcGVydHkiLCJvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QiLCJmaWxsUHJvcGVydGllcyIsInRhcmdldCIsImhhc093blByb3BlcnR5Iiwib3ZlcnJpZGRlbk5hbWUiLCJyZXMiLCJuZXdMaW5lSW5kZXgiLCJzdWJzdHJpbmciLCJjb25jYXRTdHJpbmdzV2l0aFNwYWNlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJfX2ZvcndhcmRfcmVmX18iLCJmb3J3YXJkUmVmIiwiZm9yd2FyZFJlZkZuIiwicmVzb2x2ZUZvcndhcmRSZWYiLCJpc0ZvcndhcmRSZWYiLCJFUlJPUl9ERVRBSUxTX1BBR0VfQkFTRV9VUkwiLCJSdW50aW1lRXJyb3IiLCJzdXBlciIsImZvcm1hdFJ1bnRpbWVFcnJvciIsImZ1bGxDb2RlIiwiZXJyb3JNZXNzYWdlIiwibmdEZXZNb2RlIiwicmVuZGVyU3RyaW5naWZ5IiwiU3RyaW5nIiwic3RyaW5naWZ5Rm9yRXJyb3IiLCJ0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvciIsInBhdGgiLCJkZXBQYXRoIiwidGhyb3dNaXhlZE11bHRpUHJvdmlkZXJFcnJvciIsInRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yIiwiaW5qZWN0b3JOYW1lIiwiaW5qZWN0b3JEZXRhaWxzIiwiYXNzZXJ0TnVtYmVyIiwiYWN0dWFsIiwidGhyb3dFcnJvciIsImFzc2VydE51bWJlckluUmFuZ2UiLCJtaW5JbmNsdXNpdmUiLCJtYXhJbmNsdXNpdmUiLCJhc3NlcnRMZXNzVGhhbk9yRXF1YWwiLCJhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwiLCJhc3NlcnRTdHJpbmciLCJhc3NlcnRFcXVhbCIsImV4cGVjdGVkIiwiYXNzZXJ0Tm90RXF1YWwiLCJhc3NlcnRTYW1lIiwiYXNzZXJ0Tm90U2FtZSIsImFzc2VydExlc3NUaGFuIiwiYXNzZXJ0R3JlYXRlclRoYW4iLCJhc3NlcnREZWZpbmVkIiwiY29tcGFyaXNvbiIsImFzc2VydERvbU5vZGUiLCJub2RlIiwiTm9kZSIsImFzc2VydEluZGV4SW5SYW5nZSIsIm1heExlbiIsImFzc2VydE9uZU9mIiwidmFsaWRWYWx1ZXMiLCJvcHRzIiwicHJvdmlkZWRJbiIsImRlZmluZUluamVjdGFibGUiLCJwcm92aWRlcnMiLCJpbXBvcnRzIiwiZ2V0SW5qZWN0YWJsZURlZiIsImdldE93bkRlZmluaXRpb24iLCJOR19QUk9WX0RFRiIsIk5HX0lOSkVDVEFCTEVfREVGIiwiZmllbGQiLCJnZXRJbmplY3RvckRlZiIsIk5HX0lOSl9ERUYiLCJOR19JTkpFQ1RPUl9ERUYiLCJuZ0luamVjdGFibGVEZWYiLCJuZ0luamVjdG9yRGVmIiwiSW5qZWN0RmxhZ3MiLCJfaW5qZWN0SW1wbGVtZW50YXRpb24iLCJzZXRJbmplY3RJbXBsZW1lbnRhdGlvbiIsImltcGwiLCJwcmV2aW91cyIsImluamVjdFJvb3RMaW1wTW9kZSIsIm5vdEZvdW5kVmFsdWUiLCJmbGFncyIsImluamVjdGFibGVEZWYiLCJPcHRpb25hbCIsIm5vU2lkZUVmZmVjdHMiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNoYW5nZURldGVjdG9yU3RhdHVzIiwiVmlld0VuY2Fwc3VsYXRpb24kMSIsImlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJEZWZhdWx0IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJfX2dsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwiX193aW5kb3ciLCJ3aW5kb3ciLCJfX3NlbGYiLCJXb3JrZXJHbG9iYWxTY29wZSIsIl9fZ2xvYmFsIiwiZ2xvYmFsIiwiX2dsb2JhbCIsImluaXROZ0Rldk1vZGUiLCJsb2NhdGlvblN0cmluZyIsImxvY2F0aW9uIiwibmV3Q291bnRlcnMiLCJuYW1lZENvbnN0cnVjdG9ycyIsImZpcnN0Q3JlYXRlUGFzcyIsInROb2RlIiwidFZpZXciLCJyZW5kZXJlckNyZWF0ZVRleHROb2RlIiwicmVuZGVyZXJTZXRUZXh0IiwicmVuZGVyZXJDcmVhdGVFbGVtZW50IiwicmVuZGVyZXJBZGRFdmVudExpc3RlbmVyIiwicmVuZGVyZXJTZXRBdHRyaWJ1dGUiLCJyZW5kZXJlclJlbW92ZUF0dHJpYnV0ZSIsInJlbmRlcmVyU2V0UHJvcGVydHkiLCJyZW5kZXJlclNldENsYXNzTmFtZSIsInJlbmRlcmVyQWRkQ2xhc3MiLCJyZW5kZXJlclJlbW92ZUNsYXNzIiwicmVuZGVyZXJTZXRTdHlsZSIsInJlbmRlcmVyUmVtb3ZlU3R5bGUiLCJyZW5kZXJlckRlc3Ryb3kiLCJyZW5kZXJlckRlc3Ryb3lOb2RlIiwicmVuZGVyZXJNb3ZlTm9kZSIsInJlbmRlcmVyUmVtb3ZlTm9kZSIsInJlbmRlcmVyQXBwZW5kQ2hpbGQiLCJyZW5kZXJlckluc2VydEJlZm9yZSIsInJlbmRlcmVyQ3JlYXRlQ29tbWVudCIsImFsbG93TmdEZXZNb2RlVHJ1ZSIsIm5nRGV2TW9kZVJlc2V0UGVyZkNvdW50ZXJzIiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSQVkiLCJmcmVlemUiLCJOR19DT01QX0RFRiIsIk5HX0RJUl9ERUYiLCJOR19QSVBFX0RFRiIsIk5HX01PRF9ERUYiLCJOR19GQUNUT1JZX0RFRiIsIk5HX0VMRU1FTlRfSUQiLCJfX05HX0VMRU1FTlRfSURfXyIsIl9yZW5kZXJDb21wQ291bnQiLCJjb21wb25lbnREZWZpbml0aW9uIiwiZGVjbGFyZWRJbnB1dHMiLCJkZWYiLCJwcm92aWRlcnNSZXNvbHZlciIsImRlY2xzIiwidmFycyIsInRlbXBsYXRlIiwiY29uc3RzIiwibmdDb250ZW50U2VsZWN0b3JzIiwiaG9zdEJpbmRpbmdzIiwiaG9zdFZhcnMiLCJob3N0QXR0cnMiLCJjb250ZW50UXVlcmllcyIsImV4cG9ydEFzIiwib25QdXNoIiwiY2hhbmdlRGV0ZWN0aW9uIiwiT25QdXNoIiwiZGlyZWN0aXZlRGVmcyIsInBpcGVEZWZzIiwic2VsZWN0b3JzIiwidmlld1F1ZXJ5IiwiZmVhdHVyZXMiLCJlbmNhcHN1bGF0aW9uIiwiRW11bGF0ZWQiLCJzdHlsZXMiLCJfIiwic2V0SW5wdXQiLCJzY2hlbWFzIiwiZGlyZWN0aXZlVHlwZXMiLCJkaXJlY3RpdmVzIiwiZmVhdHVyZSIsInBpcGVUeXBlcyIsInBpcGVzIiwiaW52ZXJ0T2JqZWN0IiwiZXh0cmFjdERpcmVjdGl2ZURlZiIsImV4dHJhY3RQaXBlRGVmIiwiZ2V0Q29tcG9uZW50RGVmIiwiZ2V0RGlyZWN0aXZlRGVmIiwiZ2V0UGlwZURlZiQxIiwiYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZCIsImJvb3RzdHJhcCIsImRlY2xhcmF0aW9ucyIsInRyYW5zaXRpdmVDb21waWxlU2NvcGVzIiwic2NvcGUiLCJuZ01vZHVsZURlZiIsImdldE5nTW9kdWxlRGVmIiwic2Vjb25kYXJ5IiwibmV3TG9va3VwIiwibWluaWZpZWRLZXkiLCJwdWJsaWNOYW1lIiwiZGVjbGFyZWROYW1lIiwicGlwZURlZiIsInB1cmUiLCJvbkRlc3Ryb3kiLCJuZ09uRGVzdHJveSIsInRocm93Tm90Rm91bmQiLCJIT1NUIiwiVFZJRVciLCJGTEFHUyIsIlBBUkVOVCIsIk5FWFQiLCJUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSCIsIlRfSE9TVCIsIkNMRUFOVVAiLCJDT05URVhUIiwiSU5KRUNUT1IkMSIsIlJFTkRFUkVSX0ZBQ1RPUlkiLCJSRU5ERVJFUiIsIlNBTklUSVpFUiIsIkNISUxEX0hFQUQiLCJDSElMRF9UQUlMIiwiREVDTEFSQVRJT05fVklFVyIsIkRFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXIiwiREVDTEFSQVRJT05fTENPTlRBSU5FUiIsIlBSRU9SREVSX0hPT0tfRkxBR1MiLCJRVUVSSUVTIiwiSEVBREVSX09GRlNFVCIsIlRWaWV3VHlwZUFzU3RyaW5nIiwiVFlQRSIsIkhBU19UUkFOU1BMQU5URURfVklFV1MiLCJOQVRJVkUiLCJNT1ZFRF9WSUVXUyIsIkNPTlRBSU5FUl9IRUFERVJfT0ZGU0VUIiwiaXNMVmlldyIsImlzTENvbnRhaW5lciIsImlzQ29udGVudFF1ZXJ5SG9zdCIsImlzQ29tcG9uZW50SG9zdCIsImlzRGlyZWN0aXZlSG9zdCIsImlzQ29tcG9uZW50RGVmIiwiYXNzZXJ0VE5vZGVGb3JMVmlldyIsImxWaWV3IiwiYXNzZXJ0VE5vZGVGb3JUVmlldyIsImFzc2VydFROb2RlIiwidFZpZXdfIiwiYXNzZXJ0VEljdSIsInRJY3UiLCJjdXJyZW50Q2FzZUxWaWV3SW5kZXgiLCJhc3NlcnRDb21wb25lbnRUeXBlIiwiYXNzZXJ0SGFzUGFyZW50IiwiYXNzZXJ0TENvbnRhaW5lciIsImFzc2VydExWaWV3T3JVbmRlZmluZWQiLCJhc3NlcnRMVmlldyIsImFzc2VydEZpcnN0Q3JlYXRlUGFzcyIsImVyck1lc3NhZ2UiLCJhc3NlcnRGaXJzdFVwZGF0ZVBhc3MiLCJmaXJzdFVwZGF0ZVBhc3MiLCJhc3NlcnRJbmRleEluRXhwYW5kb1JhbmdlIiwiYXNzZXJ0QmV0d2VlbiIsImV4cGFuZG9TdGFydEluZGV4IiwibG93ZXIiLCJ1cHBlciIsImFzc2VydFBhcmVudFZpZXciLCJhc3NlcnROb2RlSW5qZWN0b3IiLCJpbmplY3RvckluZGV4IiwiZ2V0RmFjdG9yeURlZiIsImhhc0ZhY3RvcnlEZWYiLCJTaW1wbGVDaGFuZ2UiLCJwcmV2aW91c1ZhbHVlIiwiY3VycmVudFZhbHVlIiwiZmlyc3RDaGFuZ2UiLCJpc0ZpcnN0Q2hhbmdlIiwiTmdPbkNoYW5nZXNGZWF0dXJlSW1wbCIsImRlZmluaXRpb24iLCJuZ09uQ2hhbmdlcyIsIm5nT25DaGFuZ2VzU2V0SW5wdXQiLCJyZW1lbWJlckNoYW5nZUhpc3RvcnlBbmRJbnZva2VPbkNoYW5nZXNIb29rIiwic2ltcGxlQ2hhbmdlc1N0b3JlIiwiZ2V0U2ltcGxlQ2hhbmdlc1N0b3JlIiwiY3VycmVudCIsInByaXZhdGVOYW1lIiwic3RvcmUiLCJTSU1QTEVfQ0hBTkdFU19TVE9SRSIsInNldFNpbXBsZUNoYW5nZXNTdG9yZSIsInByZXZpb3VzQ2hhbmdlIiwibmdJbmhlcml0IiwicHJvZmlsZXJDYWxsYmFjayIsInNldFByb2ZpbGVyIiwicHJvZmlsZXIiLCJob29rT3JMaXN0ZW5lciIsIlNWR19OQU1FU1BBQ0UiLCJTVkdfTkFNRVNQQUNFX1VSSSIsIk1BVEhfTUxfTkFNRVNQQUNFIiwiTUFUSF9NTF9OQU1FU1BBQ0VfVVJJIiwiRE9DVU1FTlQiLCJzZXREb2N1bWVudCIsImRvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJSZW5kZXJlclN0eWxlRmxhZ3MzIiwiaXNQcm9jZWR1cmFsUmVuZGVyZXIiLCJyZW5kZXJlciIsImRvbVJlbmRlcmVyRmFjdG9yeTMiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwicmVuZGVyZXJUeXBlIiwidW53cmFwUk5vZGUiLCJnZXROYXRpdmVCeUluZGV4IiwiZ2V0TmF0aXZlQnlUTm9kZSIsImdldFROb2RlIiwibG9hZCIsInZpZXciLCJnZXRDb21wb25lbnRMVmlld0J5SW5kZXgiLCJub2RlSW5kZXgiLCJob3N0VmlldyIsInNsb3RWYWx1ZSIsImlzQ3JlYXRpb25Nb2RlIiwidmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3RvciIsImdldENvbnN0YW50IiwicmVzZXRQcmVPcmRlckhvb2tGbGFncyIsInVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudCIsImxDb250YWluZXIiLCJhbW91bnQiLCJ2aWV3T3JDb250YWluZXIiLCJpbnN0cnVjdGlvblN0YXRlIiwibEZyYW1lIiwiY3JlYXRlTEZyYW1lIiwiYmluZGluZ3NFbmFibGVkIiwiaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSIsImdldEJpbmRpbmdzRW5hYmxlZCIsImdldExWaWV3IiwiZ2V0VFZpZXciLCJ2aWV3VG9SZXN0b3JlIiwiY29udGV4dExWaWV3IiwiZ2V0Q3VycmVudFROb2RlIiwiY3VycmVudFROb2RlIiwiZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPayIsImdldEN1cnJlbnRQYXJlbnRUTm9kZSIsImlzUGFyZW50Iiwic2V0Q3VycmVudFROb2RlIiwiaXNDdXJyZW50VE5vZGVQYXJlbnQiLCJzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCIsInNldElzSW5DaGVja05vQ2hhbmdlc01vZGUiLCJtb2RlIiwiZ2V0QmluZGluZ1Jvb3QiLCJiaW5kaW5nUm9vdEluZGV4IiwiYmluZGluZ1N0YXJ0SW5kZXgiLCJnZXRCaW5kaW5nSW5kZXgiLCJiaW5kaW5nSW5kZXgiLCJzZXRCaW5kaW5nSW5kZXgiLCJuZXh0QmluZGluZ0luZGV4IiwiaW5jcmVtZW50QmluZGluZ0luZGV4IiwiY291bnQiLCJzZXRJbkkxOG5CbG9jayIsImlzSW5JMThuQmxvY2siLCJpbkkxOG4iLCJzZXRCaW5kaW5nUm9vdEZvckhvc3RCaW5kaW5ncyIsImN1cnJlbnREaXJlY3RpdmVJbmRleCIsInNldEN1cnJlbnREaXJlY3RpdmVJbmRleCIsImdldEN1cnJlbnREaXJlY3RpdmVEZWYiLCJ0RGF0YSIsImdldEN1cnJlbnRRdWVyeUluZGV4IiwiY3VycmVudFF1ZXJ5SW5kZXgiLCJzZXRDdXJyZW50UXVlcnlJbmRleCIsImdldERlY2xhcmF0aW9uVE5vZGUiLCJkZWNsVE5vZGUiLCJlbnRlckRJIiwiU2tpcFNlbGYiLCJwYXJlbnRUTm9kZSIsInBhcmVudExWaWV3IiwiSG9zdCIsImFsbG9jTEZyYW1lIiwiZW50ZXJWaWV3IiwibmV3VmlldyIsIm5ld0xGcmFtZSIsInNlbGVjdGVkSW5kZXgiLCJlbGVtZW50RGVwdGhDb3VudCIsImN1cnJlbnROYW1lc3BhY2UiLCJmaXJzdENoaWxkIiwiY3VycmVudExGcmFtZSIsImNoaWxkTEZyYW1lIiwiY2hpbGQiLCJsZWF2ZVZpZXdMaWdodCIsIm9sZExGcmFtZSIsImxlYXZlREkiLCJsZWF2ZVZpZXciLCJnZXRTZWxlY3RlZEluZGV4Iiwic2V0U2VsZWN0ZWRJbmRleCIsImdldFNlbGVjdGVkVE5vZGUiLCJyZWdpc3RlclBvc3RPcmRlckhvb2tzIiwiZGlyZWN0aXZlU3RhcnQiLCJlbmQiLCJkaXJlY3RpdmVFbmQiLCJkaXJlY3RpdmVEZWYiLCJsaWZlY3ljbGVIb29rcyIsIm5nQWZ0ZXJDb250ZW50SW5pdCIsIm5nQWZ0ZXJDb250ZW50Q2hlY2tlZCIsIm5nQWZ0ZXJWaWV3SW5pdCIsIm5nQWZ0ZXJWaWV3Q2hlY2tlZCIsImNvbnRlbnRIb29rcyIsImNvbnRlbnRDaGVja0hvb2tzIiwidmlld0hvb2tzIiwidmlld0NoZWNrSG9va3MiLCJkZXN0cm95SG9va3MiLCJleGVjdXRlQ2hlY2tIb29rcyIsImhvb2tzIiwiY2FsbEhvb2tzIiwiZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzIiwiaW5pdFBoYXNlIiwiaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MiLCJjdXJyZW50VmlldyIsImN1cnJlbnROb2RlSW5kZXgiLCJzdGFydEluZGV4Iiwibm9kZUluZGV4TGltaXQiLCJtYXgiLCJsYXN0Tm9kZUluZGV4Rm91bmQiLCJjYWxsSG9vayIsImlzSW5pdEhvb2siLCJob29rIiwiZGlyZWN0aXZlIiwiTk9fUEFSRU5UX0lOSkVDVE9SIiwiTm9kZUluamVjdG9yRmFjdG9yeSIsImlzVmlld1Byb3ZpZGVyIiwiaW5qZWN0SW1wbGVtZW50YXRpb24iLCJyZXNvbHZpbmciLCJjYW5TZWVWaWV3UHJvdmlkZXJzIiwiaW5qZWN0SW1wbCIsInRvVE5vZGVUeXBlQXNTdHJpbmciLCJ0Tm9kZVR5cGUiLCJ0ZXh0IiwiYXNzZXJ0VE5vZGVUeXBlIiwiZXhwZWN0ZWRUeXBlcyIsInNldFVwQXR0cmlidXRlcyIsIm5hdGl2ZSIsImF0dHJzIiwiaXNQcm9jIiwibmFtZXNwYWNlVVJJIiwiYXR0ck5hbWUiLCJhdHRyVmFsIiwic2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlTlMiLCJpc0FuaW1hdGlvblByb3AiLCJzZXRQcm9wZXJ0eSIsImlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIiLCJtYXJrZXIiLCJjaGFyQ29kZUF0IiwibWVyZ2VIb3N0QXR0cnMiLCJkc3QiLCJzcmMiLCJzcmNNYXJrZXIiLCJtZXJnZUhvc3RBdHRyaWJ1dGUiLCJtYXJrZXJJbnNlcnRQb3NpdGlvbiIsImRzdFZhbHVlIiwiaGFzUGFyZW50SW5qZWN0b3IiLCJwYXJlbnRMb2NhdGlvbiIsImdldFBhcmVudEluamVjdG9ySW5kZXgiLCJnZXRQYXJlbnRJbmplY3RvclZpZXciLCJzdGFydFZpZXciLCJ2aWV3T2Zmc2V0IiwicGFyZW50VmlldyIsImluY2x1ZGVWaWV3UHJvdmlkZXJzIiwic2V0SW5jbHVkZVZpZXdQcm92aWRlcnMiLCJ2Iiwib2xkVmFsdWUiLCJCTE9PTV9NQVNLIiwiQkxPT01fU0laRSIsIkJMT09NX0JVQ0tFVF9CSVRTIiwibmV4dE5nRWxlbWVudElkIiwiZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlIiwiZXhpc3RpbmdJbmplY3RvckluZGV4IiwiZ2V0SW5qZWN0b3JJbmRleCIsImluc2VydEJsb29tIiwiYmx1ZXByaW50IiwicGFyZW50TG9jIiwiZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbiIsInBhcmVudEluZGV4IiwicGFyZW50RGF0YSIsImZvb3RlciIsImRlY2xhcmF0aW9uVmlld09mZnNldCIsImxWaWV3Q3Vyc29yIiwidFZpZXdUeXBlIiwiZGlQdWJsaWNJbkluamVjdG9yIiwiYmxvb21IYXNoIiwibWFzayIsImJsb29tQWRkIiwibm90Rm91bmRWYWx1ZU9yVGhyb3ciLCJsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IiLCJTZWxmIiwibW9kdWxlSW5qZWN0b3IiLCJwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uIiwiZ2V0T3JDcmVhdGVJbmplY3RhYmxlIiwidG9rZW5JZCIsImNyZWF0ZU5vZGVJbmplY3RvciIsImJsb29tSGFzaEJpdE9yRmFjdG9yeSIsInByZXZpb3VzVFZpZXciLCJob3N0VEVsZW1lbnROb2RlIiwic2hvdWxkU2VhcmNoUGFyZW50IiwiYmxvb21IYXNUb2tlbiIsInNlYXJjaFRva2Vuc09uSW5qZWN0b3IiLCJOT1RfRk9VTkQiLCJOb2RlSW5qZWN0b3IiLCJjdXJyZW50VFZpZXciLCJpbmplY3RhYmxlSWR4IiwibG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlciIsImdldE5vZGVJbmplY3RhYmxlIiwiY2FuQWNjZXNzVmlld1Byb3ZpZGVycyIsImlzSG9zdFNwZWNpYWxDYXNlIiwibm9kZVByb3ZpZGVySW5kZXhlcyIsInByb3ZpZGVySW5kZXhlcyIsInRJbmplY3RhYmxlcyIsImluamVjdGFibGVzU3RhcnQiLCJkaXJlY3RpdmVzU3RhcnQiLCJjcHRWaWV3UHJvdmlkZXJzQ291bnQiLCJlbmRJbmRleCIsInByb3ZpZGVyVG9rZW5PckRlZiIsImRpckRlZiIsInByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMiLCJkaXJlY3RpdmVJbmRleCIsIm5nT25Jbml0IiwibmdEb0NoZWNrIiwid3JhcHBlZE9uQ2hhbmdlcyIsInByZU9yZGVySG9va3MiLCJwcmVPcmRlckNoZWNrSG9va3MiLCJyZWdpc3RlclByZU9yZGVySG9va3MiLCJpbmplY3RvclZpZXciLCJpc0ZpcnN0SG9zdFROb2RlIiwiX3ROb2RlIiwiX2xWaWV3Iiwib3duQ29uc3RydWN0b3IiLCJvd25GYWN0b3J5IiwiZ2V0RmFjdG9yeU9mIiwib2JqZWN0UHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJ0IiwiYXR0ck5hbWVUb0luamVjdCIsImNsYXNzZXMiLCJhdHRyc0xlbmd0aCIsImluamVjdEF0dHJpYnV0ZUltcGwiLCJBTk5PVEFUSU9OUyIsIlBBUkFNRVRFUlMiLCJQUk9QX01FVEFEQVRBIiwibWFrZURlY29yYXRvciIsInByb3BzIiwicGFyZW50Q2xhc3MiLCJhZGRpdGlvbmFsUHJvY2Vzc2luZyIsInR5cGVGbiIsIm1ldGFDdG9yIiwibWFrZU1ldGFkYXRhQ3RvciIsIkRlY29yYXRvckZhY3RvcnkiLCJhbm5vdGF0aW9uSW5zdGFuY2UiLCJjbHMiLCJuZ01ldGFkYXRhTmFtZSIsImFubm90YXRpb25DbHMiLCJ2YWx1ZXMiLCJwcm9wTmFtZSIsIm1ha2VQYXJhbURlY29yYXRvciIsIlBhcmFtRGVjb3JhdG9yRmFjdG9yeSIsIlBhcmFtRGVjb3JhdG9yIiwiYW5ub3RhdGlvbiIsInVudXNlZEtleSIsInBhcmFtZXRlcnMiLCJtYWtlUHJvcERlY29yYXRvciIsIlByb3BEZWNvcmF0b3JGYWN0b3J5IiwiZGVjb3JhdG9ySW5zdGFuY2UiLCJtZXRhIiwidW5zaGlmdCIsIkF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJJbmplY3Rpb25Ub2tlbiIsIl9kZXNjIiwiQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyIsImVtaXREaXN0aW5jdENoYW5nZXNPbmx5RGVmYXVsdFZhbHVlIiwiUXVlcnkiLCJDb250ZW50Q2hpbGRyZW4iLCJzZWxlY3RvciIsImZpcnN0IiwiaXNWaWV3UXVlcnkiLCJkZXNjZW5kYW50cyIsImVtaXREaXN0aW5jdENoYW5nZXNPbmx5IiwiQ29udGVudENoaWxkIiwiVmlld0NoaWxkcmVuIiwiVmlld0NoaWxkIiwiRmFjdG9yeVRhcmdldCIsImdldENvbXBpbGVyRmFjYWRlIiwiZ2xvYmFsTmciLCJ1c2FnZSIsIlR5cGUiLCJpc1R5cGUiLCJmbGF0dGVuIiwiZGVlcEZvckVhY2giLCJhZGRUb0FycmF5IiwicmVtb3ZlRnJvbUFycmF5IiwicG9wIiwibmV3QXJyYXkiLCJrZXlWYWx1ZUFycmF5U2V0Iiwia2V5VmFsdWVBcnJheSIsImtleVZhbHVlQXJyYXlJbmRleE9mIiwidmFsdWUxIiwidmFsdWUyIiwicHJldmlvdXNFbmQiLCJhcnJheUluc2VydDIiLCJrZXlWYWx1ZUFycmF5R2V0Iiwic3RhcnQiLCJtaWRkbGUiLCJfYXJyYXlJbmRleE9mU29ydGVkIiwiRVM1X0RFTEVHQVRFX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTIiwiRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiIsIlJlZmxlY3Rpb25DYXBhYmlsaXRpZXMiLCJyZWZsZWN0IiwiX3JlZmxlY3QiLCJpc1JlZmxlY3Rpb25FbmFibGVkIiwiX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMiLCJwYXJhbVR5cGVzIiwicGFyYW1Bbm5vdGF0aW9ucyIsImNvbmNhdCIsIl9vd25QYXJhbWV0ZXJzIiwicGFyZW50Q3RvciIsInR5cGVTdHIiLCJ0ZXN0IiwidHNpY2tsZUN0b3JQYXJhbXMiLCJjdG9yUGFyYW1ldGVycyIsImN0b3JQYXJhbSIsImNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhIiwiZGVjb3JhdG9ycyIsImdldE93bk1ldGFkYXRhIiwiZ2V0UGFyZW50Q3RvciIsIl9vd25Bbm5vdGF0aW9ucyIsInR5cGVPckZ1bmMiLCJhbm5vdGF0aW9ucyIsIm93bkFubm90YXRpb25zIiwiX293blByb3BNZXRhZGF0YSIsInByb3BNZXRhZGF0YSIsInByb3BEZWNvcmF0b3JzIiwicHJvcCIsInBhcmVudFByb3BNZXRhZGF0YSIsIm93blByb3BNZXRhZGF0YSIsImhhc0xpZmVjeWNsZUhvb2siLCJsY1Byb3BlcnR5IiwiZ3VhcmRzIiwiZ2V0dGVyIiwic2V0dGVyIiwibWV0aG9kIiwiaW1wb3J0VXJpIiwicmVzb3VyY2VVcmkiLCJyZXNvbHZlSWRlbnRpZmllciIsIm1vZHVsZVVybCIsIm1lbWJlcnMiLCJydW50aW1lIiwicmVzb2x2ZUVudW0iLCJlbnVtSWRlbnRpZmllciIsImRlY29yYXRvckludm9jYXRpb25zIiwiZGVjb3JhdG9ySW52b2NhdGlvbiIsImN0b3IiLCJwYXJlbnRQcm90byIsIlRIUk9XX0lGX05PVF9GT1VORCIsIkRJX0RFQ09SQVRPUl9GTEFHIiwiTkdfVEVNUF9UT0tFTl9QQVRIIiwiTkVXX0xJTkUiLCJTT1VSQ0UiLCJVU0VfVkFMVUUkMSIsInByb3ZpZGUiLCJ1c2VWYWx1ZSIsIl9jdXJyZW50SW5qZWN0b3IiLCJzZXRDdXJyZW50SW5qZWN0b3IiLCJpbmplY3RvciIsImZvcm1lciIsImluamVjdEluamVjdG9yT25seSIsImluamVjdCIsImluamVjdEFyZ3MiLCJ0eXBlcyIsImFyZyIsImoiLCJmbGFnIiwiYXR0YWNoSW5qZWN0RmxhZyIsImRlY29yYXRvciIsIkluamVjdCIsImdldFJlZmxlY3QiLCJyZWZsZWN0RGVwZW5kZW5jaWVzIiwiY29udmVydERlcGVuZGVuY2llcyIsImRlcHMiLCJkZXAiLCJhdHRyaWJ1dGUiLCJvcHRpb25hbCIsInNraXBTZWxmIiwicGFyYW0iLCJwcm90byIsInJlZmxlY3REZXBlbmRlbmN5IiwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyIsInJlc291cmNlUmVzb2x2ZXIiLCJjb21wb25lbnRSZXNvbHZlZCIsInVybE1hcCIsIk1hcCIsImNhY2hlZFJlc291cmNlUmVzb2x2ZSIsInJlc3AiLCJzZXQiLCJ1bndyYXBSZXNwb25zZSIsImNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlIiwiY29tcG9uZW50IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInN0eWxlT2Zmc2V0Iiwic3R5bGVVcmwiLCJzdHlsZSIsImZ1bGx5UmVzb2x2ZWQiLCJhbGwiLCJjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiIsImRlbGV0ZSIsImNvbXBvbmVudERlZlJlc29sdmVkIiwiY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSIsIlNldCIsImNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbiIsIm9sZCIsInJlc3BvbnNlIiwicG9saWN5JDEiLCJwb2xpY3kiLCJnZXRQb2xpY3kkMSIsInRydXN0ZWRUeXBlcyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJzIiwiY3JlYXRlU2NyaXB0IiwiY3JlYXRlU2NyaXB0VVJMIiwidHJ1c3RlZEhUTUxGcm9tU3RyaW5nIiwiaHRtbCIsImdldFBvbGljeSIsInRydXN0ZWRIVE1MRnJvbVN0cmluZ0J5cGFzcyIsInRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzIiwic2NyaXB0IiwidHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3MiLCJTYWZlVmFsdWVJbXBsIiwiY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eSIsIlNhZmVIdG1sSW1wbCIsImdldFR5cGVOYW1lIiwiU2FmZVN0eWxlSW1wbCIsIlNhZmVTY3JpcHRJbXBsIiwiU2FmZVVybEltcGwiLCJTYWZlUmVzb3VyY2VVcmxJbXBsIiwidW53cmFwU2FmZVZhbHVlIiwiYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyIsImFjdHVhbFR5cGUiLCJnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RIdG1sIiwidHJ1c3RlZEh0bWwiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlIiwidHJ1c3RlZFN0eWxlIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQiLCJ0cnVzdGVkU2NyaXB0IiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwiLCJ0cnVzdGVkVXJsIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybCIsInRydXN0ZWRSZXNvdXJjZVVybCIsImdldEluZXJ0Qm9keUhlbHBlciIsImRlZmF1bHREb2MiLCJpbmVydERvY3VtZW50SGVscGVyIiwiSW5lcnREb2N1bWVudEhlbHBlciIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImlzRE9NUGFyc2VyQXZhaWxhYmxlIiwiRE9NUGFyc2VySGVscGVyIiwiZ2V0SW5lcnRCb2R5RWxlbWVudCIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImluZXJ0RG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImluZXJ0SHRtbCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImluZXJ0Qm9keUVsZW1lbnQiLCJ0ZW1wbGF0ZUVsIiwiaW5uZXJIVE1MIiwiaW5lcnRCb2R5IiwiZG9jdW1lbnRNb2RlIiwic3RyaXBDdXN0b21Oc0F0dHJzIiwiZWwiLCJlbEF0dHJzIiwiYXR0cmlidXRlcyIsInJlbW92ZUF0dHJpYnV0ZSIsImNoaWxkTm9kZSIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwibmV4dFNpYmxpbmciLCJTQUZFX1VSTF9QQVRURVJOIiwiREFUQV9VUkxfUEFUVEVSTiIsIl9zYW5pdGl6ZVVybCIsIm1hdGNoIiwid2FybiIsInNhbml0aXplU3Jjc2V0Iiwic3Jjc2V0IiwidHJpbSIsInRhZ1NldCIsInRhZ3MiLCJtZXJnZSIsInNldHMiLCJWT0lEX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyIsIk9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyIsIkJMT0NLX0VMRU1FTlRTIiwiSU5MSU5FX0VMRU1FTlRTIiwiVkFMSURfRUxFTUVOVFMiLCJVUklfQVRUUlMiLCJTUkNTRVRfQVRUUlMiLCJIVE1MX0FUVFJTIiwiQVJJQV9BVFRSUyIsIlZBTElEX0FUVFJTIiwiU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UUyIsIlNhbml0aXppbmdIdG1sU2VyaWFsaXplciIsInNhbml0aXplZFNvbWV0aGluZyIsImJ1ZiIsInNhbml0aXplQ2hpbGRyZW4iLCJ0cmF2ZXJzZUNvbnRlbnQiLCJzdGFydEVsZW1lbnQiLCJURVhUX05PREUiLCJjaGFycyIsIm5vZGVWYWx1ZSIsImVuZEVsZW1lbnQiLCJjaGVja0Nsb2JiZXJlZEVsZW1lbnQiLCJwYXJlbnROb2RlIiwiZWxlbWVudCIsInRhZ05hbWUiLCJub2RlTmFtZSIsImVsQXR0ciIsImVuY29kZUVudGl0aWVzIiwibmV4dE5vZGUiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSIsIm91dGVySFRNTCIsIlNVUlJPR0FURV9QQUlSX1JFR0VYUCIsIk5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQIiwiaW5lcnRCb2R5SGVscGVyIiwiX3Nhbml0aXplSHRtbCIsInVuc2FmZUh0bWxJbnB1dCIsInVuc2FmZUh0bWwiLCJtWFNTQXR0ZW1wdHMiLCJwYXJzZWRIdG1sIiwic2FuaXRpemVyIiwic2FmZUh0bWwiLCJnZXRUZW1wbGF0ZUNvbnRlbnQiLCJpc1RlbXBsYXRlRWxlbWVudCIsImNvbnRlbnQiLCJTZWN1cml0eUNvbnRleHQiLCJnZXRTYW5pdGl6ZXIiLCJzYW5pdGl6ZSIsIkhUTUwiLCJ1bnNhZmVTdHlsZSIsIlNUWUxFIiwidW5zYWZlVXJsIiwiVVJMIiwidW5zYWZlUmVzb3VyY2VVcmwiLCJSRVNPVVJDRV9VUkwiLCJ1bnNhZmVTY3JpcHQiLCJTQ1JJUFQiLCJyYXciLCJ0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZyIsInRhZyIsImdldFVybFNhbml0aXplciIsImdldExDb250ZXh0IiwibXBWYWx1ZSIsInJlYWRQYXRjaGVkRGF0YSIsImZpbmRWaWFDb21wb25lbnQiLCJpc0RpcmVjdGl2ZUluc3RhbmNlIiwiZGlyZWN0aXZlSW5zdGFuY2UiLCJkaXJlY3RpdmVJbmRleFN0YXJ0IiwiZGlyZWN0aXZlSW5kZXhFbmQiLCJ0cmF2ZXJzZU5leHRFbGVtZW50IiwiZmluZFZpYURpcmVjdGl2ZSIsImdldERpcmVjdGl2ZXNBdE5vZGVJbmRleCIsImZpbmRWaWFOYXRpdmVFbGVtZW50IiwiZXhpc3RpbmdDdHgiLCJjcmVhdGVMQ29udGV4dCIsImF0dGFjaFBhdGNoRGF0YSIsInJFbGVtZW50IiwicGFyZW50Q29udGV4dCIsImxvY2FsUmVmcyIsImdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlIiwiY29tcG9uZW50SW5zdGFuY2UiLCJNT05LRVlfUEFUQ0hfS0VZX05BTUUiLCJyZWFkUGF0Y2hlZExWaWV3IiwiY29tcG9uZW50SW5kaWNlcyIsImNvbXBvbmVudHMiLCJlbGVtZW50Q29tcG9uZW50SW5kZXgiLCJpbmNsdWRlQ29tcG9uZW50cyIsImRpcmVjdGl2ZVN0YXJ0SW5kZXgiLCJkaXJlY3RpdmVFbmRJbmRleCIsIkVSUk9SX09SSUdJTkFMX0VSUk9SIiwiZ2V0T3JpZ2luYWxFcnJvciIsImRlZmF1bHRFcnJvckxvZ2dlciIsIkVycm9ySGFuZGxlciIsIl9jb25zb2xlIiwiaGFuZGxlRXJyb3IiLCJvcmlnaW5hbEVycm9yIiwiX2ZpbmRPcmlnaW5hbEVycm9yIiwiZXJyb3JMb2dnZXIiLCJnZXRFcnJvckxvZ2dlciIsIkNVU1RPTV9FTEVNRU5UU19TQ0hFTUEiLCJOT19FUlJPUlNfU0NIRU1BIiwiQ09NTUVOVF9ESVNBTExPV0VEIiwiQ09NTUVOVF9ERUxJTUlURVIiLCJDT01NRU5UX0RFTElNSVRFUl9FU0NBUEVEIiwiZXNjYXBlQ29tbWVudFRleHQiLCJDQU1FTF9DQVNFX1JFR0VYUCIsImRlZmF1bHRTY2hlZHVsZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiIsIm1heWJlVW53cmFwRm4iLCJ0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IiLCJjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbiIsInJvb3RJbmRleCIsImV4cHJlc3Npb25JbmRleCIsImNoYW5nZWRWYWx1ZSIsInByZWZpeCIsImNodW5rcyIsIm5ld1ZhbHVlIiwic2xvdElkeCIsIlJlbmRlcmVyU3R5bGVGbGFnczIiLCJfaWN1Q29udGFpbmVySXRlcmF0ZSIsImljdUNvbnRhaW5lckl0ZXJhdGUiLCJ0SWN1Q29udGFpbmVyTm9kZSIsImdldExWaWV3UGFyZW50IiwiZ2V0Um9vdENvbnRleHQiLCJ2aWV3T3JDb21wb25lbnQiLCJyb290VmlldyIsImNvbXBvbmVudE9yTFZpZXciLCJnZXRSb290VmlldyIsImdldEZpcnN0TENvbnRhaW5lciIsImdldE5lYXJlc3RMQ29udGFpbmVyIiwiZ2V0TmV4dExDb250YWluZXIiLCJjb250YWluZXIiLCJhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyIiwibE5vZGVUb0hhbmRsZSIsImJlZm9yZU5vZGUiLCJpc0NvbXBvbmVudCIsInJOb2RlIiwibmF0aXZlQXBwZW5kQ2hpbGQiLCJuYXRpdmVJbnNlcnRCZWZvcmUiLCJuYXRpdmVSZW1vdmVOb2RlIiwiZGVzdHJveU5vZGUiLCJwYXJlbnRSRWxlbWVudCIsImFuY2hvciIsImFwcGx5VmlldyIsImFwcGx5Q29udGFpbmVyIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVUZXh0IiwidXBkYXRlVGV4dE5vZGUiLCJzZXRWYWx1ZSIsInRleHRDb250ZW50IiwiY3JlYXRlQ29tbWVudE5vZGUiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRWxlbWVudE5vZGUiLCJuYW1lc3BhY2UiLCJuYW1lc3BhY2VVcmkiLCJnZXROYW1lc3BhY2VVcmkiLCJjcmVhdGVFbGVtZW50TlMiLCJkZXRhY2hNb3ZlZFZpZXciLCJkZWNsYXJhdGlvbkNvbnRhaW5lciIsIm1vdmVkVmlld3MiLCJkZWNsYXJhdGlvblZpZXdJbmRleCIsImluc2VydGlvbkxDb250YWluZXIiLCJkZXRhY2hWaWV3IiwicmVtb3ZlSW5kZXgiLCJpbmRleEluQ29udGFpbmVyIiwidmlld1RvRGV0YWNoIiwiZGVjbGFyYXRpb25MQ29udGFpbmVyIiwicmVtb3ZlZExWaWV3IiwibFF1ZXJpZXMiLCJkZXN0cm95TFZpZXciLCJsVmlld09yTENvbnRhaW5lciIsImNsZWFuVXBWaWV3IiwiZmlyc3RWaWV3IiwiZGVzdHJveVZpZXdUcmVlIiwidG9DYWxsIiwiY2FsbENvbnRleHQiLCJleGVjdXRlT25EZXN0cm95cyIsInRDbGVhbnVwIiwiY2xlYW51cCIsImxDbGVhbnVwIiwibGFzdExDbGVhbnVwSW5kZXgiLCJpZHhPclRhcmdldEdldHRlciIsImxpc3RlbmVyIiwidXNlQ2FwdHVyZU9yU3ViSWR4IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluc3RhbmNlQ2xlYW51cEZuIiwicHJvY2Vzc0NsZWFudXBzIiwiZGVzdHJveSIsImdldFBhcmVudFJFbGVtZW50IiwiZ2V0Q2xvc2VzdFJFbGVtZW50IiwiTm9uZSIsImlzTW92ZSIsImluc2VydEJlZm9yZSIsIm5hdGl2ZUFwcGVuZE9ySW5zZXJ0QmVmb3JlIiwibmF0aXZlUGFyZW50Tm9kZSIsImdldEluc2VydEluRnJvbnRPZlJOb2RlIiwiX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4iLCJnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhOb0kxOG4iLCJfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUiLCJzZXRJMThuSGFuZGxpbmciLCJnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuIiwicHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUiLCJjaGlsZFJOb2RlIiwiY2hpbGRUTm9kZSIsInBhcmVudFJOb2RlIiwiYW5jaG9yTm9kZSIsImdldEZpcnN0TmF0aXZlTm9kZSIsImdldEJlZm9yZU5vZGVGb3JWaWV3IiwiZWxJY3VDb250YWluZXJDaGlsZCIsInJOb2RlT3JMQ29udGFpbmVyIiwibmV4dFJOb2RlIiwicHJvamVjdGlvbk5vZGVzIiwiZ2V0UHJvamVjdGlvbk5vZGVzIiwiY29tcG9uZW50SG9zdCIsInByb2plY3Rpb24iLCJhc3NlcnRQcm9qZWN0aW9uU2xvdHMiLCJ2aWV3SW5kZXhJbkNvbnRhaW5lciIsIm5leHRWaWV3SW5kZXgiLCJmaXJzdFROb2RlT2ZWaWV3IiwiaXNIb3N0RWxlbWVudCIsIm5hdGl2ZVBhcmVudCIsIm5hdGl2ZVJlbW92ZUNoaWxkIiwiYXBwbHlOb2RlcyIsImlzUHJvamVjdGlvbiIsInJhd1Nsb3RWYWx1ZSIsImFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZSIsInByb2plY3Rpb25OZXh0IiwidFByb2plY3Rpb25Ob2RlIiwiY29tcG9uZW50TFZpZXciLCJjb21wb25lbnROb2RlIiwibm9kZVRvUHJvamVjdE9yUk5vZGVzIiwid3JpdGVEaXJlY3RTdHlsZSIsImNzc1RleHQiLCJ3cml0ZURpcmVjdENsYXNzIiwiY2xhc3NOYW1lIiwiY2xhc3NJbmRleE9mIiwiY2xhc3NUb1NlYXJjaCIsInN0YXJ0aW5nSW5kZXgiLCJmb3VuZEluZGV4IiwiTkdfVEVNUExBVEVfU0VMRUNUT1IiLCJpc0Nzc0NsYXNzTWF0Y2hpbmciLCJjc3NDbGFzc1RvTWF0Y2giLCJpc1Byb2plY3Rpb25Nb2RlIiwiaXNJbmxpbmVUZW1wbGF0ZSIsImhhc1RhZ0FuZFR5cGVNYXRjaCIsImN1cnJlbnRTZWxlY3RvciIsImlzTm9kZU1hdGNoaW5nU2VsZWN0b3IiLCJub2RlQXR0cnMiLCJuYW1lT25seU1hcmtlcklkeCIsImdldE5hbWVPbmx5TWFya2VySW5kZXgiLCJza2lwVG9OZXh0U2VsZWN0b3IiLCJpc1Bvc2l0aXZlIiwic2VsZWN0b3JBdHRyVmFsdWUiLCJhdHRySW5kZXhJbk5vZGUiLCJmaW5kQXR0ckluZGV4SW5Ob2RlIiwibm9kZUF0dHJWYWx1ZSIsImNvbXBhcmVBZ2FpbnN0Q2xhc3NOYW1lIiwiYmluZGluZ3NNb2RlIiwibWF5YmVBdHRyTmFtZSIsImF0dHIiLCJtYXRjaFRlbXBsYXRlQXR0cmlidXRlIiwiaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QiLCJpc1NlbGVjdG9ySW5TZWxlY3Rvckxpc3QiLCJzZWxlY3Rvckxpc3RMb29wIiwiY3VycmVudFNlbGVjdG9ySW5MaXN0IiwibWF5YmVXcmFwSW5Ob3RTZWxlY3RvciIsImlzTmVnYXRpdmVNb2RlIiwiY2h1bmsiLCJzdHJpbmdpZnlDU1NTZWxlY3RvciIsImN1cnJlbnRDaHVuayIsInZhbHVlT3JNYXJrZXIiLCJhdHRyVmFsdWUiLCJOT19DSEFOR0UiLCJfX2JyYW5kX18iLCJkZWx0YSIsInNlbGVjdEluZGV4SW50ZXJuYWwiLCJjaGVja05vQ2hhbmdlc01vZGUiLCJhc3NlcnRJbmRleEluRGVjbFJhbmdlIiwiY3JlYXRlTmFtZWRBcnJheVR5cGUiLCJ0b1RTdHlsaW5nUmFuZ2UiLCJnZXRUU3R5bGluZ1JhbmdlUHJldiIsInRTdHlsaW5nUmFuZ2UiLCJnZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSIsInNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlIiwiZ2V0VFN0eWxpbmdSYW5nZU5leHQiLCJzZXRUU3R5bGluZ1JhbmdlTmV4dCIsImdldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlIiwic2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUiLCJhdHRhY2hEZWJ1Z09iamVjdCIsImRlYnVnIiwiYXR0YWNoRGVidWdHZXR0ZXIiLCJkZWJ1Z0dldHRlciIsIkxWSUVXX0NPTVBPTkVOVF9DQUNIRSIsIkxWSUVXX0VNQkVEREVEX0NBQ0hFIiwiTFZJRVdfUk9PVCIsIkxWSUVXX0NPTVBPTkVOVCIsIkxWSUVXX0VNQkVEREVEIiwiTFJvb3RWaWV3IiwiTENvbXBvbmVudFZpZXciLCJMRW1iZWRkZWRWaWV3IiwibmFtZVN1ZmZpeCIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwiVFZpZXdDb25zdHJ1Y3RvciIsInF1ZXJpZXMiLCJob3N0QmluZGluZ09wQ29kZXMiLCJzdGF0aWNWaWV3UXVlcmllcyIsInN0YXRpY0NvbnRlbnRRdWVyaWVzIiwiZGlyZWN0aXZlUmVnaXN0cnkiLCJwaXBlUmVnaXN0cnkiLCJpbmNvbXBsZXRlRmlyc3RQYXNzIiwiX2RlY2xzIiwiX3ZhcnMiLCJ0ZW1wbGF0ZV8iLCJwcm9jZXNzVE5vZGVDaGlsZHJlbiIsInR5cGVfIiwiVE5vZGVEZWJ1ZyIsImluc2VydEJlZm9yZUluZGV4IiwiZGlyZWN0aXZlU3R5bGluZ0xhc3QiLCJwcm9wZXJ0eUJpbmRpbmdzIiwibWVyZ2VkQXR0cnMiLCJsb2NhbE5hbWVzIiwiaW5pdGlhbElucHV0cyIsInRWaWV3cyIsInN0eWxlc1dpdGhvdXRIb3N0IiwicmVzaWR1YWxTdHlsZXMiLCJjbGFzc2VzV2l0aG91dEhvc3QiLCJyZXNpZHVhbENsYXNzZXMiLCJjbGFzc0JpbmRpbmdzIiwic3R5bGVCaW5kaW5ncyIsImRlYnVnTm9kZUluamVjdG9yUGF0aCIsImJ1aWxkRGVidWdOb2RlIiwiZmxhZ3NfIiwic3R5bGVCaW5kaW5nc18iLCJ0b0RlYnVnU3R5bGVCaW5kaW5nIiwiY2xhc3NCaW5kaW5nc18iLCJwcm92aWRlckluZGV4U3RhcnRfIiwicHJvdmlkZXJJbmRleEVuZF8iLCJpc0NsYXNzQmFzZWQiLCJiaW5kaW5ncyIsInJhbmdlIiwiaXNUZW1wbGF0ZSIsImN1cnNvciIsIml0ZW1LZXkiLCJpdGVtUmFuZ2UiLCJwcmV2RHVwbGljYXRlIiwibmV4dER1cGxpY2F0ZSIsIm5leHRJbmRleCIsInByZXZJbmRleCIsIlRWaWV3RGF0YSIsIlRWSUVXREFUQV9FTVBUWSIsIkxWaWV3Qmx1ZXByaW50IiwiTWF0Y2hlc0FycmF5IiwiVFZpZXdDb21wb25lbnRzIiwiVE5vZGVMb2NhbE5hbWVzIiwiVE5vZGVJbml0aWFsSW5wdXRzIiwiTENsZWFudXAiLCJUQ2xlYW51cCIsInRvRGVidWciLCJ0b0h0bWwiLCJpbmNsdWRlQ2hpbGRyZW4iLCJDT01NRU5UX05PREUiLCJMVmlld0RlYnVnIiwiX3Jhd19sVmlldyIsIl9fcmF3X19mbGFnc19fIiwiaW5pdFBoYXNlU3RhdGUiLCJjcmVhdGlvbk1vZGUiLCJmaXJzdFZpZXdQYXNzIiwiY2hlY2tBbHdheXMiLCJkaXJ0eSIsImF0dGFjaGVkIiwiZGVzdHJveWVkIiwiaW5kZXhXaXRoaW5Jbml0UGhhc2UiLCJob3N0SFRNTCIsIm5vZGVzIiwibWFwVG9IVE1MIiwidG9EZWJ1Z05vZGVzIiwicmVuZGVyZXJGYWN0b3J5IiwiY2hpbGRIZWFkIiwiY2hpbGRUYWlsIiwiZGVjbGFyYXRpb25WaWV3IiwidEhvc3QiLCJ0b0xWaWV3UmFuZ2UiLCJleHBhbmRvIiwiY2hpbGRWaWV3cyIsImNoaWxkcmVuIiwibCIsImRlYnVnTm9kZXMiLCJ0Tm9kZUN1cnNvciIsImZhY3RvcmllcyIsImluc3RhbmNlcyIsImJ1aWxkTm9kZUluamVjdG9yRGVidWciLCJpbmplY3RvclJlc29sdXRpb25QYXRoIiwidmlld1Byb3ZpZGVycyIsImJsb29tIiwidG9CbG9vbSIsImN1bXVsYXRpdmVCbG9vbSIsInBhcmVudEluamVjdG9ySW5kZXgiLCJiaW5hcnkiLCJpZHgiLCJMQ29udGFpbmVyRGVidWciLCJfcmF3X2xDb250YWluZXIiLCJoYXNUcmFuc3BsYW50ZWRWaWV3cyIsInZpZXdzIiwiX0NMRUFOX1BST01JU0UiLCJyZWZyZXNoQ29udGVudFF1ZXJpZXMiLCJxdWVyeVN0YXJ0SWR4IiwiZGlyZWN0aXZlRGVmSWR4IiwiY3JlYXRlTFZpZXciLCJ0SG9zdE5vZGUiLCJjb21wb25lbnRBcnJheSIsImVtYmVkZGVkQXJyYXkiLCJnZXRMVmlld1RvQ2xvbmUiLCJjbG9uZVRvTFZpZXdGcm9tVFZpZXdCbHVlcHJpbnQiLCJhdHRhY2hMVmlld0RlYnVnIiwiZ2V0T3JDcmVhdGVUTm9kZSIsImFzc2VydFB1cmVUTm9kZVR5cGUiLCJjcmVhdGVUTm9kZUF0SW5kZXgiLCJ0UGFyZW50Iiwic2VhbCIsImNyZWF0ZVROb2RlIiwiYWxsb2NFeHBhbmRvIiwibnVtU2xvdHNUb0FsbG9jIiwiaW5pdGlhbFZhbHVlIiwiYWxsb2NJZHgiLCJyZW5kZXJWaWV3IiwiZXhlY3V0ZVZpZXdRdWVyeUZuIiwidGVtcGxhdGVGbiIsImV4ZWN1dGVUZW1wbGF0ZSIsImhvc3RMVmlldyIsInJlbmRlckNvbXBvbmVudCQxIiwicmVuZGVyQ2hpbGRDb21wb25lbnRzIiwicmVmcmVzaFZpZXciLCJpc0luQ2hlY2tOb0NoYW5nZXNQYXNzIiwiaG9va3NJbml0UGhhc2VDb21wbGV0ZWQiLCJtb3ZlZExWaWV3IiwibWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaCIsImVtYmVkZGVkTFZpZXciLCJlbWJlZGRlZFRWaWV3IiwicmVmcmVzaEVtYmVkZGVkVmlld3MiLCJvcENvZGUiLCJkaXJlY3RpdmVJZHgiLCJiaW5kaW5nUm9vdEluZHgiLCJob3N0QmluZGluZ0ZuIiwicHJvY2Vzc0hvc3RCaW5kaW5nT3BDb2RlcyIsInJlZnJlc2hDb21wb25lbnQiLCJyZWZyZXNoQ2hpbGRDb21wb25lbnRzIiwicmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSIsIm5vcm1hbEV4ZWN1dGlvblBhdGgiLCJjcmVhdGlvbk1vZGVJc0FjdGl2ZSIsImJlZ2luIiwicmYiLCJwcmV2U2VsZWN0ZWRJbmRleCIsImlzVXBkYXRlUGhhc2UiLCJleGVjdXRlQ29udGVudFF1ZXJpZXMiLCJjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzIiwiYWRkQ29tcG9uZW50TG9naWMiLCJzZXRJbnB1dHNGcm9tQXR0cnMiLCJpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXMiLCJlbGVtZW50SW5kZXgiLCJkaXJJbmRleCIsImludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlIiwiaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyIsInNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YSIsInZpZXdEYXRhIiwibG9jYWxSZWZFeHRyYWN0b3IiLCJsb2NhbEluZGV4IiwiZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyIsImNyZWF0ZVRWaWV3IiwiY29uc3RzT3JGYWN0b3J5IiwiaW5pdGlhbFZpZXdMZW5ndGgiLCJjcmVhdGVWaWV3Qmx1ZXByaW50IiwiZmlsbCIsImxvY2F0ZUhvc3RFbGVtZW50IiwiZWxlbWVudE9yU2VsZWN0b3IiLCJwcmVzZXJ2ZUNvbnRlbnQiLCJTaGFkb3dEb20iLCJzZWxlY3RSb290RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhc3NlcnRIb3N0Tm9kZUV4aXN0cyIsInN0b3JlQ2xlYW51cFdpdGhDb250ZXh0IiwiY2xlYW51cEZuIiwiZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAiLCJnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCIsImdlbmVyYXRlUHJvcGVydHlBbGlhc2VzIiwiaW5wdXRBbGlhc01hcCIsInByb3BTdG9yZSIsImludGVybmFsTmFtZSIsImVsZW1lbnRQcm9wZXJ0eUludGVybmFsIiwibmF0aXZlT25seSIsImRhdGFWYWx1ZSIsImlucHV0RGF0YSIsInNldElucHV0c0ZvclByb3BlcnR5Iiwidmlld0luZGV4IiwiY2hpbGRDb21wb25lbnRMVmlldyIsIm1hcmtEaXJ0eUlmT25QdXNoIiwic2V0TmdSZWZsZWN0UHJvcGVydHkiLCJzZXROZ1JlZmxlY3RQcm9wZXJ0aWVzIiwic3RhcnRzV2l0aCIsInZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyIsIm1hdGNoaW5nU2NoZW1hcyIsInZhbGlkYXRlUHJvcGVydHkiLCJsb2dVbmtub3duUHJvcGVydHlFcnJvciIsIm0iLCJkZWJ1Z1ZhbHVlIiwibm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUiLCJzY2hlbWEiLCJyZXNvbHZlRGlyZWN0aXZlcyIsImhhc0RpcmVjdGl2ZXMiLCJyZWdpc3RyeSIsIm1hdGNoZXMiLCJtYXJrQXNDb21wb25lbnRIb3N0IiwiZmluZERpcmVjdGl2ZURlZk1hdGNoZXMiLCJleHBvcnRzTWFwIiwiaW5pdFROb2RlRmxhZ3MiLCJwcmVPcmRlckhvb2tzRm91bmQiLCJwcmVPcmRlckNoZWNrSG9va3NGb3VuZCIsImNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlIiwic2F2ZU5hbWVUb0V4cG9ydE1hcCIsImxpZmVDeWNsZUhvb2tzIiwidFZpZXdEYXRhIiwidE5vZGVBdHRycyIsImlucHV0c0Zyb21BdHRycyIsImlucHV0c1N0b3JlIiwib3V0cHV0c1N0b3JlIiwiZGlyZWN0aXZlSW5wdXRzIiwiZ2VuZXJhdGVJbml0aWFsSW5wdXRzIiwiaW5pdGlhbGl6ZUlucHV0QW5kT3V0cHV0QWxpYXNlcyIsImNhY2hlTWF0Y2hpbmdMb2NhbE5hbWVzIiwicmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXMiLCJkaXJlY3RpdmVWYXJzSWR4IiwiZWxlbWVudEluZHgiLCJsYXN0U2VsZWN0ZWRFbGVtZW50SWR4IiwiaG9zdFROb2RlIiwibnVtYmVyT2ZEaXJlY3RpdmVzIiwiZGlyZWN0aXZlRmFjdG9yeSIsIm5vZGVJbmplY3RvckZhY3RvcnkiLCJjb21wb25lbnRWaWV3IiwiYWRkVG9WaWV3VHJlZSIsImVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCIsInZhbGlkYXRlQWdhaW5zdEV2ZW50QXR0cmlidXRlcyIsInNldEVsZW1lbnRBdHRyaWJ1dGUiLCJzdHJWYWx1ZSIsImluaXRpYWxJbnB1dERhdGEiLCJpbnB1dHNUb1N0b3JlIiwiTENvbnRhaW5lckFycmF5IiwiY3JlYXRlTENvbnRhaW5lciIsImhvc3ROYXRpdmUiLCJhdHRhY2hMQ29udGFpbmVyRGVidWciLCJjb21wb25lbnRIb3N0SWR4IiwicmVmcmVzaENvbnRhaW5zRGlydHlWaWV3IiwiY29tcG9uZW50VFZpZXciLCJzeW5jVmlld1dpdGhCbHVlcHJpbnQiLCJtYXJrVmlld0RpcnR5IiwidGlja1Jvb3RDb250ZXh0Iiwicm9vdENvbnRleHQiLCJyb290Q29tcG9uZW50IiwiZGV0ZWN0Q2hhbmdlc0ludGVybmFsIiwiZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXciLCJ2aWV3UXVlcnlGbiIsInN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEiLCJwcm9wZXJ0eU5hbWUiLCJpbnRlcnBvbGF0aW9uUGFydHMiLCJiaW5kaW5nTWV0YWRhdGEiLCJDTEVBTl9QUk9NSVNFIiwibG9hZENvbXBvbmVudFJlbmRlcmVyIiwiY3VycmVudERlZiIsInVud3JhcExWaWV3IiwiZXJyb3JIYW5kbGVyIiwidGV4dEJpbmRpbmdJbnRlcm5hbCIsImNvbXB1dGVTdGF0aWNTdHlsaW5nIiwid3JpdGVUb0hvc3QiLCJkZXRlY3RDaGFuZ2VzIiwibWFya0RpcnR5IiwiY2xlYW4iLCJyIiwic2NoZWR1bGVyIiwicGxheWVySGFuZGxlciIsImZsdXNoUGxheWVycyIsInNjaGVkdWxlVGljayIsIklOSkVDVE9SIiwiTnVsbEluamVjdG9yIiwiSU5KRUNUT1JfU0NPUEUiLCJOT1RfWUVUIiwiQ0lSQ1VMQVIiLCJOVUxMX0lOSkVDVE9SJDEiLCJnZXROdWxsSW5qZWN0b3IiLCJjcmVhdGVJbmplY3RvciIsImRlZlR5cGUiLCJhZGRpdGlvbmFsUHJvdmlkZXJzIiwiY3JlYXRlSW5qZWN0b3JXaXRob3V0SW5qZWN0b3JJbnN0YW5jZXMiLCJfcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMiLCJSM0luamVjdG9yIiwicmVjb3JkcyIsImluamVjdG9yRGVmVHlwZXMiLCJfZGVzdHJveWVkIiwiZGVkdXBTdGFjayIsInByb2Nlc3NQcm92aWRlciIsImluamVjdG9yRGVmIiwicHJvY2Vzc0luamVjdG9yVHlwZSIsIm1ha2VSZWNvcmQiLCJyZWNvcmQiLCJhc3NlcnROb3REZXN0cm95ZWQiLCJzZXJ2aWNlIiwiY2xlYXIiLCJwcmV2aW91c0luamVjdG9yIiwiaW5qZWN0YWJsZURlZkluU2NvcGUiLCJpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkiLCJoeWRyYXRlIiwibmV4dEluamVjdG9yIiwiaW5qZWN0b3JFcnJvck5hbWUiLCJ0b2tlblBhdGgiLCJjaGFyQXQiLCJwYXJ0cyIsImZvcm1hdEVycm9yIiwiY2F0Y2hJbmplY3RvckVycm9yIiwidG9rZW5zIiwiZGVmT3JXcmFwcGVkRGVmIiwicGFyZW50cyIsIm5nTW9kdWxlIiwiaXNEdXBsaWNhdGUiLCJpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMiLCJpbXBvcnRlZCIsImRlZlByb3ZpZGVycyIsImluamVjdG9yVHlwZSIsIm5nTW9kdWxlVHlwZSIsImlzVHlwZVByb3ZpZGVyIiwiaXNWYWx1ZVByb3ZpZGVyIiwicHJvdmlkZXJUb0ZhY3RvcnkiLCJwcm92aWRlclRvUmVjb3JkIiwibXVsdGkiLCJleGlzdGluZyIsIm11bHRpUmVjb3JkIiwiaGFzIiwicGFyYW1MZW5ndGgiLCJpbmhlcml0ZWRJbmplY3RhYmxlRGVmIiwidHlwZU5hbWUiLCJnZXRJbmhlcml0ZWRJbmplY3RhYmxlRGVmIiwiZ2V0VW5kZWNvcmF0ZWRJbmplY3RhYmxlRmFjdG9yeSIsInVud3JhcHBlZFByb3ZpZGVyIiwidXNlRmFjdG9yeSIsInVzZUV4aXN0aW5nIiwiaXNFeGlzdGluZ1Byb3ZpZGVyIiwiY2xhc3NSZWYiLCJ1c2VDbGFzcyIsIm5nTW9kdWxlRGV0YWlsIiwidGhyb3dJbnZhbGlkUHJvdmlkZXJFcnJvciIsImhhc0RlcHMiLCJJbmplY3RvciIsImdldENvbXBvbmVudCQxIiwiYXNzZXJ0RG9tRWxlbWVudCIsImdldENvbXBvbmVudEF0Tm9kZUluZGV4IiwiZ2V0Q29udGV4dCIsImdldE93bmluZ0NvbXBvbmVudCIsImVsZW1lbnRPckRpciIsImdldFJvb3RDb21wb25lbnRzIiwiZ2V0SW5qZWN0b3IiLCJOVUxMIiwiZ2V0RGlyZWN0aXZlcyIsIlRleHQiLCJnZXREaXJlY3RpdmVNZXRhZGF0YSQxIiwiZGlyZWN0aXZlT3JDb21wb25lbnRJbnN0YW5jZSIsImNvbXBvbmVudERlZiIsImdldEhvc3RFbGVtZW50IiwiY29tcG9uZW50T3JEaXJlY3RpdmUiLCJnZXRMaXN0ZW5lcnMiLCJsQ29udGV4dCIsImxpc3RlbmVycyIsImZpcnN0UGFyYW0iLCJzZWNvbmRQYXJhbSIsImxpc3RlbmVyRWxlbWVudCIsImNhbGxiYWNrIiwidXNlQ2FwdHVyZU9ySW5keCIsInVzZUNhcHR1cmUiLCJzb3J0TGlzdGVuZXJzIiwiYSIsImIiLCJFbGVtZW50IiwiYXBwbHlDaGFuZ2VzIiwiR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVkiLCJfcHVibGlzaGVkIiwicHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxIiwicHVibGlzaEdsb2JhbFV0aWwiLCJDT01QSUxFRCIsInciLCJyZW5kZXJDb21wb25lbnQiLCJjb21wb25lbnRUeXBlIiwiY29tcG9uZW50VGFnIiwiaG9zdFJOb2RlIiwicm9vdEZsYWdzIiwiY3JlYXRlUm9vdENvbnRleHQiLCJyb290VFZpZXciLCJjcmVhdGVSb290Q29tcG9uZW50IiwiY3JlYXRlUm9vdENvbXBvbmVudFZpZXciLCJob3N0RmVhdHVyZXMiLCJob3N0UmVuZGVyZXIiLCJ2aWV3UmVuZGVyZXIiLCJyb290TFZpZXciLCJyb290VE5vZGUiLCJpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQiLCJMaWZlY3ljbGVIb29rc0ZlYXR1cmUiLCJ3aGVuUmVuZGVyZWQiLCJnZXRTdXBlclR5cGUiLCJzdXBlclR5cGUiLCJzaG91bGRJbmhlcml0RmllbGRzIiwiaW5oZXJpdGFuY2VDaGFpbiIsInN1cGVyRGVmIiwid3JpdGVhYmxlRGVmIiwibWF5YmVVbndyYXBFbXB0eSIsInN1cGVySG9zdEJpbmRpbmdzIiwiaW5oZXJpdEhvc3RCaW5kaW5ncyIsInN1cGVyVmlld1F1ZXJ5Iiwic3VwZXJDb250ZW50UXVlcmllcyIsImluaGVyaXRWaWV3UXVlcnkiLCJpbmhlcml0Q29udGVudFF1ZXJpZXMiLCJhbmltYXRpb24iLCJkZWZEYXRhIiwibWVyZ2VIb3N0QXR0cnNBY3Jvc3NJbmhlcml0YW5jZSIsInByZXZWaWV3UXVlcnkiLCJjdHgiLCJwcmV2Q29udGVudFF1ZXJpZXMiLCJwcmV2SG9zdEJpbmRpbmdzIiwiQ09QWV9ESVJFQ1RJVkVfRklFTERTIiwiQ09QWV9DT01QT05FTlRfRklFTERTIiwiZGVmQW55IiwiX3N5bWJvbEl0ZXJhdG9yIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImRldk1vZGVFcXVhbCIsImlzTGlzdExpa2VJdGVyYWJsZUEiLCJpc0xpc3RMaWtlSXRlcmFibGUiLCJpc0xpc3RMaWtlSXRlcmFibGVCIiwiY29tcGFyYXRvciIsIml0ZXJhdG9yMSIsIml0ZXJhdG9yMiIsIml0ZW0xIiwiaXRlbTIiLCJhcmVJdGVyYWJsZXNFcXVhbCIsImlzIiwiaXNKc09iamVjdCIsIm8iLCJ1cGRhdGVCaW5kaW5nIiwiZ2V0QmluZGluZyIsImJpbmRpbmdVcGRhdGVkIiwib2xkVmFsdWVUb0NvbXBhcmUiLCJkZXRhaWxzIiwibWV0YWRhdGEiLCJSZWdFeHAiLCJnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyIsImN1cnJWYWx1ZSIsInRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUiLCJiaW5kaW5nVXBkYXRlZDIiLCJleHAxIiwiZXhwMiIsImRpZmZlcmVudCIsImJpbmRpbmdVcGRhdGVkMyIsImV4cDMiLCJiaW5kaW5nVXBkYXRlZDQiLCJleHA0IiwiaW50ZXJwb2xhdGlvblYiLCJpc0JpbmRpbmdVcGRhdGVkIiwiaW50ZXJwb2xhdGlvbjEiLCJ2MCIsInN1ZmZpeCIsImludGVycG9sYXRpb24yIiwiaTAiLCJ2MSIsImludGVycG9sYXRpb24zIiwiaTEiLCJ2MiIsImludGVycG9sYXRpb240IiwiaTIiLCJ2MyIsImludGVycG9sYXRpb241IiwiaTMiLCJpbnRlcnBvbGF0aW9uNiIsImk0IiwidjUiLCJpbnRlcnBvbGF0aW9uNyIsImk1IiwidjYiLCJpbnRlcnBvbGF0aW9uOCIsImk2IiwidjciLCJpbnRlcnBvbGF0ZWRWYWx1ZSIsImludGVycG9sYXRlZCIsImludGVycG9sYXRpb25JbkJldHdlZW4iLCJhdHRyc0luZGV4IiwibG9jYWxSZWZzSW5kZXgiLCJhZGp1c3RlZEluZGV4IiwidFZpZXdDb25zdHMiLCJ0ZW1wbGF0ZUZpcnN0Q3JlYXRlUGFzcyIsImNvbW1lbnQiLCJhbmd1bGFyQ29yZURpRW52IiwiVVNFX1ZBTFVFIiwiaXNVc2VDbGFzc1Byb3ZpZGVyIiwiaXNVc2VGYWN0b3J5UHJvdmlkZXIiLCJJbmplY3RhYmxlIiwibmdGYWN0b3J5RGVmIiwiY29tcGlsZXIiLCJjb21waWxlSW5qZWN0YWJsZSIsInNyY01ldGEiLCJjb21waWxlck1ldGEiLCJ0eXBlQXJndW1lbnRDb3VudCIsImlzVXNlVmFsdWVQcm92aWRlciIsImlzVXNlRXhpc3RpbmdQcm92aWRlciIsImdldEluamVjdGFibGVNZXRhZGF0YSIsImNvbXBpbGVGYWN0b3J5IiwiY29uc3RydWN0UmVzb2x2aW5nUGF0aCIsImZpbmRGaXJzdENsb3NlZEN5Y2xlIiwicmV2ZXJzZSIsImsiLCJpbmplY3Rpb25FcnJvciIsImNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UiLCJlcnJNc2ciLCJ3cmFwcGVkRXJyb3IiLCJhZGRLZXkiLCJpbmplY3RvcnMiLCJub0Fubm90YXRpb25FcnJvciIsInBhcmFtcyIsImlpIiwicGFyYW1ldGVyIiwiUmVmbGVjdGl2ZUtleSIsImRpc3BsYXlOYW1lIiwiX2dsb2JhbEtleVJlZ2lzdHJ5IiwibnVtYmVyT2ZLZXlzIiwiX2FsbEtleXMiLCJuZXdLZXkiLCJyZWZsZWN0b3IiLCJyZWZsZWN0aW9uQ2FwYWJpbGl0aWVzIiwidXBkYXRlQ2FwYWJpbGl0aWVzIiwiY2FwcyIsImlkZW50aWZpZXIiLCJSZWZsZWN0aXZlRGVwZW5kZW5jeSIsInZpc2liaWxpdHkiLCJmcm9tS2V5IiwiX0VNUFRZX0xJU1QiLCJSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8iLCJyZXNvbHZlZEZhY3RvcmllcyIsIm11bHRpUHJvdmlkZXIiLCJyZXNvbHZlZEZhY3RvcnkiLCJSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5IiwiZGVwZW5kZW5jaWVzIiwicmVzb2x2ZVJlZmxlY3RpdmVGYWN0b3J5IiwiZmFjdG9yeUZuIiwicmVzb2x2ZWREZXBzIiwiX2RlcGVuZGVuY2llc0ZvciIsImFsaWFzSW5zdGFuY2UiLCJfZXh0cmFjdFRva2VuIiwiY29uc3RydWN0RGVwZW5kZW5jaWVzIiwicmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlciIsInJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzIiwicmVzb2x2ZWRQcm92aWRlck1hcCIsIm5vcm1hbGl6ZWRQcm92aWRlcnNNYXAiLCJyZXNvbHZlZFByb3ZpZGVyIiwibWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMiLCJfbm9ybWFsaXplUHJvdmlkZXJzIiwiZnJvbSIsInNvbWUiLCJwIiwiX2NyZWF0ZURlcGVuZGVuY3kiLCJwYXJhbU1ldGFkYXRhIiwiVU5ERUZJTkVEIiwiUmVmbGVjdGl2ZUluamVjdG9yIiwicmVzb2x2ZUFuZENyZWF0ZSIsIlJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyIsImZyb21SZXNvbHZlZFByb3ZpZGVycyIsIlJlZmxlY3RpdmVJbmplY3Rvcl8iLCJfcHJvdmlkZXJzIiwiX3BhcmVudCIsIl9jb25zdHJ1Y3Rpb25Db3VudGVyIiwibGVuIiwia2V5SWRzIiwib2JqcyIsIl9nZXRCeUtleSIsInJlc29sdmVBbmRDcmVhdGVDaGlsZCIsImNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkIiwiaW5qIiwicmVzb2x2ZUFuZEluc3RhbnRpYXRlIiwiaW5zdGFudGlhdGVSZXNvbHZlZCIsIl9pbnN0YW50aWF0ZVByb3ZpZGVyIiwiZ2V0UHJvdmlkZXJBdEluZGV4Iiwib3V0T2ZCb3VuZHNFcnJvciIsIl9uZXciLCJfZ2V0TWF4TnVtYmVyT2ZPYmplY3RzIiwiX2luc3RhbnRpYXRlIiwiX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kiLCJvcmlnaW5hbEV4Y2VwdGlvbiIsIklOSkVDVE9SX0tFWSIsIl9nZXRCeUtleVNlbGYiLCJfZ2V0QnlLZXlEZWZhdWx0IiwiX2dldE9iakJ5S2V5SWQiLCJrZXlJZCIsIl90aHJvd09yTnVsbCIsIm5vUHJvdmlkZXJFcnJvciIsImlual8iLCJfbWFwUHJvdmlkZXJzIiwic2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyIsInByb3BlcnR5IiwiSFRNTFVua25vd25FbGVtZW50IiwiY3VzdG9tRWxlbWVudHMiLCJsb2dVbmtub3duRWxlbWVudEVycm9yIiwiZWxlbWVudFN0YXJ0IiwiZWxlbWVudFN0YXJ0Rmlyc3RDcmVhdGVQYXNzIiwiZWxlbWVudEVuZCIsImhhc0NsYXNzSW5wdXQiLCJoYXNTdHlsZUlucHV0IiwiZWxlbWVudENvbnRhaW5lclN0YXJ0Rmlyc3RDcmVhdGVQYXNzIiwiaXNTdWJzY3JpYmFibGUiLCJpc09ic2VydmFibGUiLCJldmVudE5hbWUiLCJsaXN0ZW5lckZuIiwiZXZlbnRUYXJnZXRSZXNvbHZlciIsImxpc3RlbmVySW50ZXJuYWwiLCJpc1ROb2RlRGlyZWN0aXZlSG9zdCIsInByb2Nlc3NPdXRwdXRzIiwibENsZWFudXBJbmRleCIsImV4aXN0aW5nTGlzdGVuZXIiLCJ0Tm9kZUlkeCIsImNsZWFudXBFdmVudE5hbWUiLCJsaXN0ZW5lcklkeEluTENsZWFudXAiLCJmaW5kRXhpc3RpbmdMaXN0ZW5lciIsIl9fbmdMYXN0TGlzdGVuZXJGbl9fIiwiX19uZ05leHRMaXN0ZW5lckZuX18iLCJ3cmFwTGlzdGVuZXIiLCJsaXN0ZW4iLCJwcm9wc0xlbmd0aCIsIm1pbmlmaWVkTmFtZSIsIm91dHB1dCIsInN1YnNjcmlwdGlvbiIsImV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nIiwid3JhcFdpdGhQcmV2ZW50RGVmYXVsdCIsIndyYXBMaXN0ZW5lckluX21hcmtEaXJ0eUFuZFByZXZlbnREZWZhdWx0IiwibmV4dExpc3RlbmVyRm4iLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwibGV2ZWwiLCJuZXN0aW5nTGV2ZWwiLCJ3YWxrVXBWaWV3cyIsIm5leHRDb250ZXh0SW1wbCIsIm1hdGNoaW5nUHJvamVjdGlvblNsb3RJbmRleCIsInByb2plY3Rpb25TbG90cyIsIndpbGRjYXJkTmdDb250ZW50SW5kZXgiLCJuZ1Byb2plY3RBc0F0dHJWYWwiLCJuZ1Byb2plY3RBc0F0dHJJZHgiLCJnZXRQcm9qZWN0QXNBdHRyVmFsdWUiLCJudW1Qcm9qZWN0aW9uU2xvdHMiLCJwcm9qZWN0aW9uSGVhZHMiLCJ0YWlscyIsImNvbXBvbmVudENoaWxkIiwic2xvdEluZGV4Iiwic2VsZWN0b3JJbmRleCIsImFwcGx5UHJvamVjdGlvbiIsIm1hcmtEdXBsaWNhdGVzIiwidFN0eWxpbmdLZXkiLCJpc1ByZXZEaXIiLCJpc0NsYXNzQmluZGluZyIsInRTdHlsaW5nQXRJbmRleCIsImlzTWFwIiwiZm91bmREdXBsaWNhdGUiLCJ0U3R5bGluZ1ZhbHVlQXRDdXJzb3IiLCJ0U3R5bGVSYW5nZUF0Q3Vyc29yIiwiaXNTdHlsaW5nTWF0Y2giLCJ0U3R5bGluZ0tleUN1cnNvciIsInBhcnNlclN0YXRlIiwidGV4dEVuZCIsImtleUVuZCIsInZhbHVlRW5kIiwiZ2V0TGFzdFBhcnNlZEtleSIsImdldExhc3RQYXJzZWRWYWx1ZSIsInBhcnNlQ2xhc3NOYW1lTmV4dCIsImNvbnN1bWVDbGFzc1Rva2VuIiwiY29uc3VtZVdoaXRlc3BhY2UiLCJwYXJzZVN0eWxlTmV4dCIsImNoIiwiY29uc3VtZVN0eWxlS2V5IiwiY29uc3VtZVNlcGFyYXRvciIsImNoMSIsImNoMiIsImNoMyIsImxhc3RDaEluZGV4IiwiY29uc3VtZVF1b3RlZFRleHQiLCJjb25zdW1lU3R5bGVWYWx1ZSIsInJlc2V0UGFyc2VyU3RhdGUiLCJzZXBhcmF0b3IiLCJtYWxmb3JtZWRTdHlsZUVycm9yIiwiZnJvbUNoYXJDb2RlIiwicXVvdGVDaGFyQ29kZSIsImV4cGVjdGluZyIsImNoZWNrU3R5bGluZ1Byb3BlcnR5IiwiY2hlY2tTdHlsaW5nTWFwIiwic3R5bGVLZXlWYWx1ZUFycmF5U2V0Iiwic3R5bGVTdHJpbmdQYXJzZXIiLCJwYXJzZVN0eWxlIiwiY2xhc3NTdHJpbmdQYXJzZXIiLCJwYXJzZUNsYXNzTmFtZSIsInN0eWxpbmdGaXJzdFVwZGF0ZVBhc3MiLCJ1cGRhdGVTdHlsaW5nIiwibm9ybWFsaXplU3VmZml4Iiwic3RyaW5nUGFyc2VyIiwiaGFzU3R5bGluZ0lucHV0U2hhZG93IiwiaXNJbkhvc3RCaW5kaW5ncyIsInN0YXRpY1ByZWZpeCIsImVuZHNXaXRoIiwib2xkS2V5VmFsdWVBcnJheSIsIm5ld0tleVZhbHVlQXJyYXkiLCJvbGRJbmRleCIsIm5ld0luZGV4Iiwib2xkS2V5Iiwic2V0S2V5IiwidXBkYXRlU3R5bGluZ01hcCIsInN0eWxlS2V5VmFsdWVBcnJheSIsInVud3JhcHBlZFZhbHVlIiwidG9TdHlsaW5nS2V5VmFsdWVBcnJheSIsImlzSG9zdEJpbmRpbmdzIiwic3R5bGluZ0tleSIsImhvc3REaXJlY3RpdmVEZWYiLCJyZXNpZHVhbCIsImNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyIsImNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMiLCJ0ZW1wbGF0ZVN0eWxpbmdLZXkiLCJnZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSIsInNldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5IiwiY29sbGVjdFJlc2lkdWFsIiwid3JhcEluU3RhdGljU3R5bGluZ0tleSIsInRTdHlsaW5nS2V5V2l0aFN0YXRpYyIsImlzSG9zdEJpbmRpbmciLCJ0QmluZGluZ3MiLCJ0bXBsSGVhZCIsInRtcGxUYWlsIiwiaXNLZXlEdXBsaWNhdGVPZlN0YXRpYyIsInN0YXRpY0tleVZhbHVlQXJyYXkiLCJwcmV2aW91c05vZGUiLCJtYXJrRHVwbGljYXRlT2ZSZXNpZHVhbFN0eWxpbmciLCJpbnNlcnRUU3R5bGluZ0JpbmRpbmciLCJjdXJyZW50RGlyZWN0aXZlIiwiZGVzaXJlZE1hcmtlciIsImN1cnJlbnRNYXJrZXIiLCJ0UmFuZ2UiLCJpc1N0eWxpbmdWYWx1ZVByZXNlbnQiLCJmaW5kU3R5bGluZ1ZhbHVlIiwiaXNQcm9jZWR1cmFsIiwiYWRkQ2xhc3MiLCJjbGFzc0xpc3QiLCJyZW1vdmVDbGFzcyIsIkRhc2hDYXNlIiwicmVtb3ZlU3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsImlzSW1wb3J0YW50IiwiSW1wb3J0YW50Iiwic2V0U3R5bGUiLCJhcHBseVN0eWxpbmciLCJpc1ByZXZEaXJlY3Rpb24iLCJyYXdLZXkiLCJjb250YWluc1N0YXRpY3MiLCJpc1N0eWxpbmdNYXAiLCJ2YWx1ZUF0TFZpZXdJbmRleCIsInRleHROYXRpdmUiLCJ2YWx1ZVN1ZmZpeCIsIm5nSTE4bkNsb3N1cmVNb2RlIiwiZ29vZyIsImdldE1zZyIsInUiLCJsb2NhbGVFbiIsInZhbCIsIkxPQ0FMRV9EQVRBIiwicmVnaXN0ZXJMb2NhbGVEYXRhIiwibG9jYWxlSWQiLCJleHRyYURhdGEiLCJMb2NhbGVEYXRhSW5kZXgiLCJMb2NhbGVJZCIsIkV4dHJhRGF0YSIsImZpbmRMb2NhbGVEYXRhIiwibG9jYWxlIiwibm9ybWFsaXplZExvY2FsZSIsIm5vcm1hbGl6ZUxvY2FsZSIsImdldExvY2FsZURhdGEiLCJwYXJlbnRMb2NhbGUiLCJnZXRMb2NhbGVDdXJyZW5jeUNvZGUiLCJDdXJyZW5jeUNvZGUiLCJnZXRMb2NhbGVQbHVyYWxDYXNlIiwiUGx1cmFsQ2FzZSIsIm5nIiwiY29tbW9uIiwibG9jYWxlcyIsInVucmVnaXN0ZXJBbGxMb2NhbGVEYXRhIiwicGx1cmFsTWFwcGluZyIsIkRFRkFVTFRfTE9DQUxFX0lEIiwiRUxFTUVOVF9NQVJLRVIiLCJJQ1VfTUFSS0VSIiwiSTE4bkNyZWF0ZU9wQ29kZSIsIkxPQ0FMRV9JRCQxIiwic2V0TG9jYWxlSWQiLCJ0Tm9kZUluc2VydEJlZm9yZUluZGV4IiwiaTE4blBhcmVudCIsImFuY2hvclJOb2RlIiwiYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleCIsInByZXZpb3VzVE5vZGVzIiwibmV3VE5vZGUiLCJleGlzdGluZ1ROb2RlIiwiaXNJMThuVGV4dCIsImlzTmV3VE5vZGVDcmVhdGVkQmVmb3JlIiwiZ2V0SW5zZXJ0QmVmb3JlSW5kZXgiLCJzZXRJbnNlcnRCZWZvcmVJbmRleCIsImdldFRJY3UiLCJjcmVhdGVUTm9kZVBsYWNlaG9sZGVyIiwiZ2V0Q3VycmVudElDVUNhc2VJbmRleCIsImN1cnJlbnRDYXNlIiwiZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZSIsIm1lcmdlZENvZGUiLCJnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlIiwiZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlIiwiY2hhbmdlTWFzayIsImNoYW5nZU1hc2tDb3VudGVyIiwiYXBwbHlNdXRhYmxlT3BDb2RlcyIsIm11dGFibGVPcENvZGVzIiwicm9vdFJOb2RlIiwicm9vdElkeCIsInRleHROb2RlSW5kZXgiLCJwYXJlbnRJZHgiLCJpbnNlcnRJbkZyb250T2YiLCJyZWZJZHgiLCJjYXNlSW5kZXgiLCJhbmNob3JJZHgiLCJlbGVtZW50Tm9kZUluZGV4IiwiY29tbWVudFZhbHVlIiwiY29tbWVudE5vZGVJbmRleCIsImFwcGx5VXBkYXRlT3BDb2RlcyIsInVwZGF0ZU9wQ29kZXMiLCJiaW5kaW5nc1N0YXJ0SW5kZXgiLCJjaGVja0JpdCIsInNraXBDb2RlcyIsInNhbml0aXplRm4iLCJ0Tm9kZU9yVGFnTmFtZSIsInJUZXh0IiwiYXBwbHlJY3VTd2l0Y2hDYXNlIiwiYXBwbHlJY3VVcGRhdGVDYXNlIiwiYWN0aXZlQ2FzZUluZGV4IiwiaWN1RXhwcmVzc2lvbiIsImJpbmRpbmdWYWx1ZSIsImNhc2VzIiwicmVzb2x2ZWRDYXNlIiwicGx1cmFsIiwiZ2V0UGx1cmFsQ2FzZSIsImdldENhc2VJbmRleCIsImFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSIsInJlbW92ZUNvZGVzIiwibm9kZU9ySWN1SW5kZXgiLCJsb2FkSWN1Q29udGFpbmVyVmlzaXRvciIsIl9zdGFjayIsIl9yZW1vdmVzIiwiX2luZGV4IiwiZW50ZXJJY3UiLCJpY3VDb250YWluZXJJdGVyYXRvck5leHQiLCJyZW1vdmVPcENvZGUiLCJ0SWN1SW5kZXgiLCJpMThuQ3JlYXRlT3BDb2Rlc1RvU3RyaW5nIiwib3Bjb2RlcyIsImNyZWF0ZU9wQ29kZXMiLCJsaW5lcyIsImlzQ29tbWVudCIsIkNPTU1FTlQiLCJhcHBlbmROb3ciLCJBUFBFTkRfRUFHRVJMWSIsIlNISUZUIiwiaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyIsInBhcnNlciIsIk9wQ29kZVBhcnNlciIsImNvbnN1bWVPcENvZGUiLCJyZWYiLCJjb25zdW1lU3RyaW5nIiwic2FuaXRpemF0aW9uRm4iLCJjb25zdW1lRnVuY3Rpb24iLCJoYXNNb3JlIiwiY29uc3VtZU51bWJlciIsInN0YXRlbWVudHMiLCJzdGF0ZW1lbnQiLCJjb25zdW1lTnVtYmVyT3JTdHJpbmciLCJvcENvZGVUZXh0IiwiaWN1Q3JlYXRlT3BDb2Rlc1RvU3RyaW5nIiwibGFzdFJlZiIsImNvbnN1bWVOdW1iZXJTdHJpbmdPck1hcmtlciIsImxpbmUiLCJpMThuUmVtb3ZlT3BDb2Rlc1RvU3RyaW5nIiwiY29kZXMiLCJCSU5ESU5HX1JFR0VYUCIsIklDVV9SRUdFWFAiLCJORVNURURfSUNVIiwiSUNVX0JMT0NLX1JFR0VYUCIsIk1BUktFUiIsIlNVQlRFTVBMQVRFX1JFR0VYUCIsIlBIX1JFR0VYUCIsIk5HU1BfVU5JQ09ERV9SRUdFWFAiLCJjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSIsImV4aXN0aW5nVE5vZGVzIiwiaXNJQ1UiLCJpMThuTm9kZUlkeCIsInNldFROb2RlSW5zZXJ0QmVmb3JlSW5kZXgiLCJpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3NQcm9jZXNzVGV4dE5vZGUiLCJoYXNCaW5kaW5nIiwiZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcyIsInN0ciIsImRlc3RpbmF0aW9uTm9kZSIsImJpbmRpbmdTdGFydCIsIm1hc2tJbmRleCIsInNpemVJbmRleCIsInRleHRQYXJ0cyIsInRleHRWYWx1ZSIsInRvTWFza0JpdCIsImNvdW50QmluZGluZ3MiLCJvcENvZGVzIiwibWluIiwicmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uIiwidGFnTWF0Y2hlZCIsImluVGVtcGxhdGUiLCJleGVjIiwiaWN1U3RhcnQiLCJiaW5kaW5nTWFzayIsIm1haW5CaW5kaW5nIiwiYWRkVXBkYXRlSWN1U3dpdGNoIiwic2V0VEljdSIsInZhbHVlQXJyIiwibmVzdGVkSWN1cyIsImljdUluZGV4IiwicGFyc2VJY3VDYXNlIiwiYWRkVXBkYXRlSWN1VXBkYXRlIiwicGFyc2VJQ1VCbG9jayIsInBhdHRlcm4iLCJpY3VUeXBlIiwiaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVSIsImJpbmRpbmciLCJwb3MiLCJibG9ja3MiLCJwcmV2UG9zIiwiYnJhY2VTdGFjayIsInJlc3VsdHMiLCJicmFjZXMiLCJsYXN0SW5kZXgiLCJibG9jayIsImNhc2VOYW1lIiwidW5zYWZlQ2FzZUh0bWwiLCJpbmVydFJvb3ROb2RlIiwid2Fsa0ljdVRyZWUiLCJzaGFyZWRVcGRhdGVPcENvZGVzIiwiZGVwdGgiLCJjdXJyZW50Tm9kZSIsImFkZENyZWF0ZU5vZGVBbmRBcHBlbmQiLCJsb3dlckF0dHJOYW1lIiwiYWRkQ3JlYXRlQXR0cmlidXRlIiwiYWRkUmVtb3ZlTm9kZSIsImlzTmVzdGVkSWN1IiwibmVzdGVkSWN1SW5kZXgiLCJhZGRSZW1vdmVOZXN0ZWRJY3UiLCJhcHBlbmRUb1BhcmVudElkeCIsImNyZWF0ZUF0SWR4IiwiUk9PVF9URU1QTEFURV9JRCIsIlBQX01VTFRJX1ZBTFVFX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9QTEFDRUhPTERFUlNfUkVHRVhQIiwiUFBfSUNVX1ZBUlNfUkVHRVhQIiwiUFBfSUNVX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9JQ1VTX1JFR0VYUCIsIlBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUCIsIlBQX1RFTVBMQVRFX0lEX1JFR0VYUCIsIm1lc3NhZ2VJbmRleCIsInN1YlRlbXBsYXRlSW5kZXgiLCJwYXJlbnRUTm9kZUluZGV4IiwiZXhpc3RpbmdUTm9kZVN0YWNrIiwiaXNSb290VGVtcGxhdGVNZXNzYWdlIiwic2VhcmNoIiwiZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZSIsIm1zZ1BhcnRzIiwiaXNDbG9zaW5nIiwiTnVtYmVyIiwicGFydCIsImljdU5vZGVJbmRleCIsImkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyIsInRJMThuIiwiYXBwbHlDcmVhdGVPcENvZGVzIiwicHJldmlvdXNFbGVtZW50SW5kZXgiLCJpMThuQXR0cmlidXRlc0ZpcnN0UGFzcyIsImFwcGx5STE4biIsInJlcGxhY2VtZW50cyIsInRlbXBsYXRlSWRzU3RhY2siLCJwaHMiLCJ0bXBsIiwicGxhY2Vob2xkZXJzIiwicGxhY2Vob2xkZXIiLCJ0ZW1wbGF0ZUlkIiwiaXNDbG9zZVRlbXBsYXRlVGFnIiwiY3VycmVudFRlbXBsYXRlSWQiLCJfdHlwZSIsIl9pZHgiLCJpMThuUG9zdHByb2Nlc3MiLCJyZXNvbHZlUHJvdmlkZXIiLCJsSW5qZWN0YWJsZXNCbHVlcHJpbnQiLCJwcm92aWRlckZhY3RvcnkiLCJiZWdpbkluZGV4IiwiZXhpc3RpbmdGYWN0b3J5SW5kZXgiLCJyZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkIiwiZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXgiLCJleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXgiLCJkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0IiwiZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QiLCJmIiwiY29tcG9uZW50UHJvdmlkZXJzIiwibXVsdGlGYWN0b3J5QWRkIiwibXVsdGlGYWN0b3J5IiwibXVsdGlWaWV3UHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyIiwibXVsdGlQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIiLCJjb250ZXh0SW5kZXgiLCJpbmRleEluRmFjdG9yeSIsInByb3ZpZGVySXNUeXBlUHJvdmlkZXIiLCJwcm92aWRlcklzQ2xhc3NQcm92aWRlciIsImV4aXN0aW5nQ2FsbGJhY2tzSW5kZXgiLCJpc0NvbXBvbmVudFByb3ZpZGVyIiwibERhdGEiLCJtdWx0aVJlc29sdmUiLCJjb21wb25lbnRDb3VudCIsIm11bHRpUHJvdmlkZXJzIiwicHJvY2Vzc1Byb3ZpZGVyc0ZuIiwiQ29tcG9uZW50UmVmJDEiLCJDb21wb25lbnRGYWN0b3J5JDEiLCJfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsInJlc29sdmVDb21wb25lbnRGYWN0b3J5Iiwibm9Db21wb25lbnRGYWN0b3J5RXJyb3IiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSIsImNyZWF0ZUVsZW1lbnRSZWYiLCJFbGVtZW50UmVmIiwibmF0aXZlRWxlbWVudCIsInVud3JhcEVsZW1lbnRSZWYiLCJSZW5kZXJlckZhY3RvcnkyIiwiUmVuZGVyZXIyIiwibm9kZUF0SW5kZXgiLCJnZXRPckNyZWF0ZVJlbmRlcmVyMiIsImluamVjdFJlbmRlcmVyMiIsIlNhbml0aXplciIsIlZlcnNpb24iLCJmdWxsIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwiVkVSU0lPTiIsIk5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IiLCJjb2xsZWN0TmF0aXZlTm9kZXMiLCJsTm9kZSIsImxWaWV3SW5BQ29udGFpbmVyIiwibFZpZXdGaXJzdENoaWxkVE5vZGUiLCJub2Rlc0luU2xvdCIsIlZpZXdSZWYkMSIsIl9jZFJlZkluamVjdGluZ1ZpZXciLCJfYXBwUmVmIiwiX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyIiwicm9vdE5vZGVzIiwidmlld1JlZnMiLCJtYXJrRm9yQ2hlY2siLCJkZXRhY2giLCJyZWF0dGFjaCIsImNoZWNrTm9DaGFuZ2VzIiwiY2hlY2tOb0NoYW5nZXNJbnRlcm5hbCIsImF0dGFjaFRvVmlld0NvbnRhaW5lclJlZiIsImRldGFjaEZyb21BcHBSZWYiLCJhdHRhY2hUb0FwcFJlZiIsImFwcFJlZiIsIlJvb3RWaWV3UmVmIiwiX3ZpZXciLCJjaGVja05vQ2hhbmdlc0luUm9vdFZpZXciLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJDb21wb25lbnRGYWN0b3J5IiwidG9SZWZBcnJheSIsIm5vbk1pbmlmaWVkIiwibWluaWZpZWQiLCJ0ZW1wbGF0ZU5hbWUiLCJpc0JvdW5kVG9Nb2R1bGUiLCJwcm9qZWN0YWJsZU5vZGVzIiwicm9vdFNlbGVjdG9yT3JOb2RlIiwicm9vdFZpZXdJbmplY3RvciIsImNyZWF0ZUNoYWluZWRJbmplY3RvciIsImVsZW1lbnROYW1lIiwiZ2V0TmFtZXNwYWNlIiwidEVsZW1lbnROb2RlIiwiZXh0cmFjdEF0dHJzQW5kQ2xhc3Nlc0Zyb21TZWxlY3RvciIsIm5vZGVzZm9yU2xvdCIsIkNvbXBvbmVudFJlZiIsIl9yb290TFZpZXciLCJjaGFuZ2VEZXRlY3RvclJlZiIsInNldENsYXNzTWV0YWRhdGEiLCJjbGF6eiIsIk5nTW9kdWxlUmVmJDEiLCJOZ01vZHVsZUZhY3RvcnkkMSIsIm1vZHVsZXMiLCJyZWdpc3Rlck5nTW9kdWxlVHlwZSIsInZpc2l0ZWQiLCJyZWN1cnNlIiwiaW5jb21pbmciLCJhc3NlcnRTYW1lT3JOb3RFeGlzdGluZyIsImdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUiLCJjcmVhdGVOZ01vZHVsZVJlZiIsInBhcmVudEluamVjdG9yIiwiTmdNb2R1bGVSZWYiLCJfYm9vdHN0cmFwQ29tcG9uZW50cyIsImRlc3Ryb3lDYnMiLCJjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJfcjNJbmplY3RvciIsImluamVjdEZsYWdzIiwiTmdNb2R1bGVGYWN0b3J5IiwibW9kdWxlVHlwZSIsInNsb3RPZmZzZXQiLCJwdXJlRm4iLCJleHAiLCJwdXJlRnVuY3Rpb24xSW50ZXJuYWwiLCJwdXJlRnVuY3Rpb24ySW50ZXJuYWwiLCJwdXJlRnVuY3Rpb24zSW50ZXJuYWwiLCJwdXJlRnVuY3Rpb240SW50ZXJuYWwiLCJleHA1IiwiZXhwNiIsImV4cDciLCJleHA4IiwiZXhwcyIsInB1cmVGdW5jdGlvblZJbnRlcm5hbCIsImdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlIiwicmV0dXJuVmFsdWVJbmRleCIsImxhc3RSZXR1cm5WYWx1ZSIsImJpbmRpbmdSb290IiwicGlwZU5hbWUiLCJnZXRQaXBlRGVmIiwicGlwZUZhY3RvcnkiLCJwaXBlSW5zdGFuY2UiLCJpc1B1cmUiLCJ0cmFuc2Zvcm0iLCJFdmVudEVtaXR0ZXJfIiwiaXNBc3luYyIsIl9faXNBc3luYyIsImVtaXQiLCJuZXh0Rm4iLCJlcnJvckZuIiwiY29tcGxldGVGbiIsIm9ic2VydmVyIiwiX3dyYXBJblRpbWVvdXQiLCJFdmVudEVtaXR0ZXIiLCJzeW1ib2xJdGVyYXRvciIsIl9yZXN1bHRzIiwiUXVlcnlMaXN0IiwiX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5IiwiX2NoYW5nZXNEZXRlY3RlZCIsIl9jaGFuZ2VzIiwibGFzdCIsInN5bWJvbCIsImNoYW5nZXMiLCJ0b0FycmF5IiwicmVzdWx0c1RyZWUiLCJpZGVudGl0eUFjY2Vzc29yIiwibmV3UmVzdWx0RmxhdCIsInZhbHVlQSIsInZhbHVlQiIsImFycmF5RXF1YWxzIiwibm90aWZ5T25DaGFuZ2VzIiwic2V0RGlydHkiLCJUZW1wbGF0ZVJlZiIsImNyZWF0ZVRlbXBsYXRlUmVmIiwiVmlld0VuZ2luZVRlbXBsYXRlUmVmIiwiUjNUZW1wbGF0ZVJlZiIsIl9kZWNsYXJhdGlvbkxWaWV3IiwiX2RlY2xhcmF0aW9uVENvbnRhaW5lciIsImVsZW1lbnRSZWYiLCJjcmVhdGVFbWJlZGRlZFZpZXciLCJkZWNsYXJhdGlvblZpZXdMUXVlcmllcyIsIlZpZXdDb250YWluZXJSZWYiLCJjcmVhdGVDb250YWluZXJSZWYiLCJWRV9WaWV3Q29udGFpbmVyUmVmIiwiUjNWaWV3Q29udGFpbmVyUmVmIiwiX2xDb250YWluZXIiLCJfaG9zdFROb2RlIiwiX2hvc3RMVmlldyIsImdldFZpZXdSZWZzIiwidGVtcGxhdGVSZWYiLCJ2aWV3UmVmIiwiaW5zZXJ0IiwiY3JlYXRlQ29tcG9uZW50IiwiY29tcG9uZW50RmFjdG9yeU9yVHlwZSIsImluZGV4T3JPcHRpb25zIiwibmdNb2R1bGVSZWYiLCJpc0NvbXBvbmVudEZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3J5IiwiY29udGV4dEluamVjdG9yIiwiY29tcG9uZW50UmVmIiwicHJldklkeCIsInByZXZMQ29udGFpbmVyIiwicHJldlZDUmVmIiwiYWRqdXN0ZWRJZHgiLCJfYWRqdXN0SW5kZXgiLCJjb250YWluZXJMZW5ndGgiLCJpbnNlcnRlZExDb250YWluZXIiLCJpbnNlcnRlZENvbXBvbmVudExWaWV3IiwiZGVjbGFyZWRDb21wb25lbnRMVmlldyIsInRyYWNrTW92ZWRWaWV3IiwiaW5zZXJ0VmlldyIsInBhcmVudE5hdGl2ZU5vZGUiLCJhZGRWaWV3VG9Db250YWluZXIiLCJnZXRPckNyZWF0ZVZpZXdSZWZzIiwibW92ZSIsInZpZXdSZWZzQXJyIiwiZGV0YWNoZWRWaWV3IiwiY29tbWVudE5vZGUiLCJuYXRpdmVOZXh0U2libGluZyIsIkxRdWVyeV8iLCJxdWVyeUxpc3QiLCJjbG9uZSIsIkxRdWVyaWVzXyIsInRRdWVyaWVzIiwibm9PZkluaGVyaXRlZFF1ZXJpZXMiLCJ2aWV3TFF1ZXJpZXMiLCJ0UXVlcnkiLCJnZXRCeUluZGV4IiwicGFyZW50TFF1ZXJ5IiwiaW5kZXhJbkRlY2xhcmF0aW9uVmlldyIsImRpcnR5UXVlcmllc1dpdGhNYXRjaGVzIiwiZ2V0VFF1ZXJ5IiwiVFF1ZXJ5TWV0YWRhdGFfIiwicHJlZGljYXRlIiwiVFF1ZXJpZXNfIiwicXVlcmllc0ZvclRlbXBsYXRlUmVmIiwiY2hpbGRRdWVyeUluZGV4IiwidHF1ZXJ5Q2xvbmUiLCJ0cmFjayIsInRxdWVyeSIsIlRRdWVyeV8iLCJjcm9zc2VzTmdUZW1wbGF0ZSIsIl9hcHBsaWVzVG9OZXh0Tm9kZSIsIl9kZWNsYXJhdGlvbk5vZGVJbmRleCIsImlzQXBwbHlpbmdUb05vZGUiLCJtYXRjaFROb2RlIiwiYWRkTWF0Y2giLCJkZWNsYXJhdGlvbk5vZGVJZHgiLCJtYXRjaFROb2RlV2l0aFJlYWRPcHRpb24iLCJnZXRJZHhPZk1hdGNoaW5nU2VsZWN0b3IiLCJub2RlTWF0Y2hJZHgiLCJkaXJlY3RpdmVPclByb3ZpZGVySWR4IiwibWF0Y2hJZHgiLCJjcmVhdGVSZXN1bHRGb3JOb2RlIiwibWF0Y2hpbmdJZHgiLCJjcmVhdGVSZXN1bHRCeVROb2RlVHlwZSIsImNyZWF0ZVNwZWNpYWxUb2tlbiIsIm1hdGVyaWFsaXplVmlld1Jlc3VsdHMiLCJxdWVyeUluZGV4IiwibFF1ZXJ5IiwidFF1ZXJ5TWF0Y2hlcyIsIm1hdGNoZWROb2RlSWR4IiwiY29sbGVjdFF1ZXJ5UmVzdWx0cyIsImxWaWV3UmVzdWx0cyIsImVtYmVkZGVkTFZpZXdzIiwiY3JlYXRlVFF1ZXJ5IiwiY3JlYXRlTFF1ZXJ5IiwidFZpZXdDb250ZW50UXVlcmllcyIsInNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCIsImFuZ3VsYXJDb3JlRW52Iiwiaml0T3B0aW9ucyIsInJlc2V0Sml0T3B0aW9ucyIsIm1vZHVsZVF1ZXVlIiwiZmx1c2hpbmdNb2R1bGVRdWV1ZSIsImZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSIsImV2ZXJ5IiwiaXNSZXNvbHZlZERlY2xhcmF0aW9uIiwic2V0U2NvcGVPbkRlY2xhcmVkQ29tcG9uZW50cyIsImRlY2xhcmF0aW9uIiwiY29tcGlsZU5nTW9kdWxlIiwiY29tcGlsZU5nTW9kdWxlRGVmcyIsImVucXVldWVNb2R1bGVGb3JEZWxheWVkU2NvcGluZyIsImFsbG93RHVwbGljYXRlRGVjbGFyYXRpb25zSW5Sb290IiwiZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyIsIk5nTW9kdWxlIiwidmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZiIsImNvbXBpbGVJbmplY3RvciIsImltcG9ydGluZ01vZHVsZSIsInZlcmlmaWVkTmdNb2R1bGUiLCJ1bndyYXBNb2R1bGVXaXRoUHJvdmlkZXJzSW1wb3J0cyIsIm1vZCIsInZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVJbXBvcnQiLCJjb21iaW5lZERlY2xhcmF0aW9ucyIsImNvbXB1dGVDb21iaW5lZEV4cG9ydHMiLCJkZWNsIiwic3VwcHJlc3NFcnJvcnMiLCJleGlzdGluZ01vZHVsZSIsIm93bmVyTmdNb2R1bGUiLCJ2ZXJpZnlEZWNsYXJhdGlvbklzVW5pcXVlIiwiZ2V0QW5ub3RhdGlvbiIsImVudHJ5Q29tcG9uZW50cyIsInZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUiLCJ0eXBlT3JXaXRoUHJvdmlkZXJzIiwiY29sbGVjdCIsIl9fYW5ub3RhdGlvbnNfXyIsInJlYWRBbm5vdGF0aW9uIiwiV2Vha01hcCIsInJlc2V0Q29tcGlsZWRDb21wb25lbnRzIiwidHJhbnNpdGl2ZVNjb3BlcyIsInRyYW5zaXRpdmVTY29wZXNGb3IiLCJwYXRjaENvbXBvbmVudERlZldpdGhTY29wZSIsIm5nU2VsZWN0b3JTY29wZSIsImNvbXBpbGF0aW9uIiwiZGlyIiwiaXNOZ01vZHVsZSIsInNjb3BlcyIsImV4cG9ydGVkIiwiaW1wb3J0ZWRUeXBlIiwiaW1wb3J0ZWRTY29wZSIsImVudHJ5IiwiZGVjbGFyZWQiLCJleHBvcnRlZFR5cGUiLCJleHBvcnRlZFNjb3BlIiwiaXNNb2R1bGVXaXRoUHJvdmlkZXJzIiwiY29tcGlsYXRpb25EZXB0aCIsImNvbXBpbGVDb21wb25lbnQiLCJuZ0NvbXBvbmVudERlZiIsIm1heWJlUXVldWVSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXMiLCJhZGREaXJlY3RpdmVGYWN0b3J5RGVmIiwicHJlc2VydmVXaGl0ZXNwYWNlcyIsImRlZmF1bHRFbmNhcHN1bGF0aW9uIiwiZGlyZWN0aXZlTWV0YWRhdGEiLCJ0eXBlU291cmNlU3BhbiIsImNyZWF0ZVBhcnNlU291cmNlU3BhbiIsImFuaW1hdGlvbnMiLCJpbnRlcnBvbGF0aW9uIiwidXNlc0luaGVyaXRhbmNlIiwiYWRkRGlyZWN0aXZlRGVmVG9VbmRlY29yYXRlZFBhcmVudHMiLCJjb21waWxlRGlyZWN0aXZlIiwibmdEaXJlY3RpdmVEZWYiLCJnZXREaXJlY3RpdmVNZXRhZGF0YSIsInNvdXJjZU1hcFVybCIsImZhY2FkZSIsIkRpcmVjdGl2ZSIsImV4dGVuZHNEaXJlY3RseUZyb21PYmplY3QiLCJleHRyYWN0UXVlcmllc01ldGFkYXRhIiwiaXNDb250ZW50UXVlcnkiLCJsaWZlY3ljbGUiLCJ1c2VzT25DaGFuZ2VzIiwic3BsaXRCeUNvbW1hIiwidmlld1F1ZXJpZXMiLCJvYmpQcm90b3R5cGUiLCJzaG91bGRBZGRBYnN0cmFjdERpcmVjdGl2ZSIsImNvbnZlcnRUb1IzUXVlcnlNZXRhZGF0YSIsImFubiIsInN0YXRpYyIsImlzUXVlcnlBbm4iLCJxdWVyaWVzTWV0YSIsImlzSW5wdXRBbm5vdGF0aW9uIiwicGllY2UiLCJMSUZFQ1lDTEVfSE9PS1MiLCJob29rTmFtZSIsIm1ldGFkYXRhTmFtZSIsImNvbXBpbGVQaXBlIiwibmdQaXBlRGVmIiwiZ2V0UGlwZU1ldGFkYXRhIiwiUGlwZSIsIkNvbXBvbmVudCIsImMiLCJJbnB1dCIsImJpbmRpbmdQcm9wZXJ0eU5hbWUiLCJPdXRwdXQiLCJIb3N0QmluZGluZyIsImhvc3RQcm9wZXJ0eU5hbWUiLCJIb3N0TGlzdGVuZXIiLCJBUFBfSU5JVElBTElaRVIiLCJBcHBsaWNhdGlvbkluaXRTdGF0dXMiLCJhcHBJbml0cyIsImluaXRpYWxpemVkIiwiZG9uZVByb21pc2UiLCJyZWoiLCJydW5Jbml0aWFsaXplcnMiLCJhc3luY0luaXRQcm9taXNlcyIsImluaXRSZXN1bHQiLCJvYnNlcnZhYmxlQXNQcm9taXNlIiwiQVBQX0lEIiwiX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5IiwiX3JhbmRvbUNoYXIiLCJBUFBfSURfUkFORE9NX1BST1ZJREVSIiwicmFuZG9tIiwiUExBVEZPUk1fSU5JVElBTElaRVIiLCJQTEFURk9STV9JRCIsIkFQUF9CT09UU1RSQVBfTElTVEVORVIiLCJQQUNLQUdFX1JPT1RfVVJMIiwiQ29uc29sZSIsIkxPQ0FMRV9JRCIsImdldExvY2FsZSIsIiRsb2NhbGl6ZSIsIkRFRkFVTFRfQ1VSUkVOQ1lfQ09ERSIsIlRSQU5TTEFUSU9OUyIsIlRSQU5TTEFUSU9OU19GT1JNQVQiLCJNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSIsIk1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMiLCJuZ01vZHVsZUZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3JpZXMiLCJDb21waWxlciIsImNvbXBpbGVNb2R1bGVTeW5jIiwiY29tcGlsZU1vZHVsZUFzeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyIsImNsZWFyQ2FjaGUiLCJjbGVhckNhY2hlRm9yIiwiZ2V0TW9kdWxlSWQiLCJDT01QSUxFUl9PUFRJT05TIiwiQ29tcGlsZXJGYWN0b3J5Iiwic2NoZWR1bGVNaWNyb1Rhc2siLCJab25lIiwiTmdab25lIiwiZW5hYmxlTG9uZ1N0YWNrVHJhY2UiLCJzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIiwic2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24iLCJoYXNQZW5kaW5nTWFjcm90YXNrcyIsImhhc1BlbmRpbmdNaWNyb3Rhc2tzIiwiaXNTdGFibGUiLCJvblVuc3RhYmxlIiwib25NaWNyb3Rhc2tFbXB0eSIsIm9uU3RhYmxlIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJfbmVzdGluZyIsIl9vdXRlciIsIl9pbm5lciIsImZvcmsiLCJsYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQiLCJuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSIsInVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9fc3ltYm9sX18iLCJ1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSIsImdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsInpvbmUiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlIiwiaXNDaGVja1N0YWJsZVJ1bm5pbmciLCJmYWtlVG9wRXZlbnRUYXNrIiwic2NoZWR1bGVFdmVudFRhc2siLCJ1cGRhdGVNaWNyb1Rhc2tTdGF0dXMiLCJjaGVja1N0YWJsZSIsImludm9rZSIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzIiwicHJvcGVydGllcyIsIm9uSW52b2tlVGFzayIsInRhc2siLCJhcHBseVRoaXMiLCJhcHBseUFyZ3MiLCJvbkVudGVyIiwiaW52b2tlVGFzayIsIm9uTGVhdmUiLCJvbkludm9rZSIsIm9uSGFzVGFzayIsImhhc1Rhc2tTdGF0ZSIsImhhc1Rhc2siLCJjaGFuZ2UiLCJfaGFzUGVuZGluZ01pY3JvdGFza3MiLCJtaWNyb1Rhc2siLCJtYWNyb1Rhc2siLCJvbkhhbmRsZUVycm9yIiwicnVuT3V0c2lkZUFuZ3VsYXIiLCJmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvciIsImlzSW5Bbmd1bGFyWm9uZSIsImFzc2VydEluQW5ndWxhclpvbmUiLCJhc3NlcnROb3RJbkFuZ3VsYXJab25lIiwicnVuIiwicnVuVGFzayIsIkVNUFRZX1BBWUxPQUQiLCJjYW5jZWxUYXNrIiwicnVuR3VhcmRlZCIsIk5vb3BOZ1pvbmUiLCJUZXN0YWJpbGl0eSIsIl9uZ1pvbmUiLCJfcGVuZGluZ0NvdW50IiwiX2lzWm9uZVN0YWJsZSIsIl9kaWRXb3JrIiwiX2NhbGxiYWNrcyIsInRhc2tUcmFja2luZ1pvbmUiLCJfd2F0Y2hBbmd1bGFyRXZlbnRzIiwiX3J1bkNhbGxiYWNrc0lmUmVhZHkiLCJpbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQiLCJkZWNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQiLCJ0aW1lb3V0SWQiLCJkb25lQ2IiLCJwZW5kaW5nIiwiZ2V0UGVuZGluZ1Rhc2tzIiwidXBkYXRlQ2IiLCJtYWNyb1Rhc2tzIiwiY3JlYXRpb25Mb2NhdGlvbiIsImFkZENhbGxiYWNrIiwidGltZW91dCIsIndoZW5TdGFibGUiLCJnZXRQZW5kaW5nUmVxdWVzdENvdW50IiwiZmluZFByb3ZpZGVycyIsInVzaW5nIiwiZXhhY3RNYXRjaCIsIlRlc3RhYmlsaXR5UmVnaXN0cnkiLCJfYXBwbGljYXRpb25zIiwiX3Rlc3RhYmlsaXR5R2V0dGVyIiwiYWRkVG9XaW5kb3ciLCJyZWdpc3RlckFwcGxpY2F0aW9uIiwidGVzdGFiaWxpdHkiLCJ1bnJlZ2lzdGVyQXBwbGljYXRpb24iLCJ1bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zIiwiZ2V0VGVzdGFiaWxpdHkiLCJlbGVtIiwiZ2V0QWxsVGVzdGFiaWxpdGllcyIsImdldEFsbFJvb3RFbGVtZW50cyIsImZpbmRUZXN0YWJpbGl0eUluVHJlZSIsImZpbmRJbkFuY2VzdG9ycyIsInNldFRlc3RhYmlsaXR5R2V0dGVyIiwiX3BsYXRmb3JtIiwiY29tcGlsZU5nTW9kdWxlRmFjdG9yeSIsImFzc2VydE5nTW9kdWxlVHlwZSIsIm1vZHVsZUZhY3RvcnkiLCJuZ0ppdE1vZGUiLCJjb21waWxlck9wdGlvbnMiLCJzZXRKaXRPcHRpb25zIiwiX2xhc3REZWZpbmVkIiwiY29tcGlsZXJQcm92aWRlcnMiLCJfbWVyZ2VBcnJheXMiLCJyZXNvdXJjZUxvYWRlciIsIlJlc291cmNlTG9hZGVyIiwiY2YiLCJBTExPV19NVUxUSVBMRV9QTEFURk9STVMiLCJOZ1Byb2JlVG9rZW4iLCJjcmVhdGVQbGF0Zm9ybSIsIlBsYXRmb3JtUmVmIiwiaW5pdHMiLCJjcmVhdGVQbGF0Zm9ybUZhY3RvcnkiLCJwYXJlbnRQbGF0Zm9ybUZhY3RvcnkiLCJkZXNjIiwiZXh0cmFQcm92aWRlcnMiLCJwbGF0Zm9ybSIsImdldFBsYXRmb3JtIiwiaW5qZWN0ZWRQcm92aWRlcnMiLCJhc3NlcnRQbGF0Zm9ybSIsInJlcXVpcmVkVG9rZW4iLCJkZXN0cm95UGxhdGZvcm0iLCJfaW5qZWN0b3IiLCJfbW9kdWxlcyIsIl9kZXN0cm95TGlzdGVuZXJzIiwiYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSIsIm5nWm9uZSIsIm5nWm9uZU9wdGlvbiIsImV4dHJhIiwibmdab25lRXZlbnRDb2FsZXNjaW5nIiwibmdab25lUnVuQ29hbGVzY2luZyIsImdldE5nWm9uZSIsIm5nWm9uZUluamVjdG9yIiwibW9kdWxlUmVmIiwiZXhjZXB0aW9uSGFuZGxlciIsIl9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIiLCJpbml0U3RhdHVzIiwiX21vZHVsZURvQm9vdHN0cmFwIiwiYm9vdHN0cmFwTW9kdWxlIiwib3B0aW9uc1JlZHVjZXIiLCJBcHBsaWNhdGlvblJlZiIsIm5nRG9Cb290c3RyYXAiLCJfem9uZSIsIl9leGNlcHRpb25IYW5kbGVyIiwiX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl9pbml0U3RhdHVzIiwiX2Jvb3RzdHJhcExpc3RlbmVycyIsIl92aWV3cyIsIl9ydW5uaW5nVGljayIsIl9zdGFibGUiLCJjb21wb25lbnRUeXBlcyIsIl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uIiwidGljayIsImlzQ3VycmVudGx5U3RhYmxlIiwic3RhYmxlU3ViIiwidW5zdGFibGVTdWIiLCJjb21wb25lbnRPckZhY3RvcnkiLCJzZWxlY3Rvck9yTm9kZSIsImNvbXBSZWYiLCJ0ZXN0YWJpbGl0eVJlZ2lzdHJ5IiwiX2xvYWRDb21wb25lbnQiLCJhdHRhY2hWaWV3Iiwidmlld0NvdW50IiwiX2Rldk1vZGUiLCJfcnVuTW9kZUxvY2tlZCIsImlzRGV2TW9kZSIsImVuYWJsZVByb2RNb2RlIiwiZ2V0TW9kdWxlRmFjdG9yeSIsIm5vTW9kdWxlRXJyb3IiLCJnZXROZ01vZHVsZUJ5SWQiLCJDaGFuZ2VEZXRlY3RvclJlZiIsImluamVjdENoYW5nZURldGVjdG9yUmVmIiwiaXNQaXBlIiwiaG9zdENvbXBvbmVudFZpZXciLCJjcmVhdGVWaWV3UmVmIiwiVmlld1JlZiIsIkVtYmVkZGVkVmlld1JlZiIsIkRlYnVnRXZlbnRMaXN0ZW5lciIsImFzTmF0aXZlRWxlbWVudHMiLCJkZWJ1Z0VscyIsIkRlYnVnTm9kZSIsIm5hdGl2ZU5vZGUiLCJEZWJ1Z0VsZW1lbnQiLCJyZWZlcmVuY2VzIiwiZGlzY292ZXJMb2NhbFJlZnMiLCJnZXRMb2NhbFJlZnMiLCJwcm92aWRlclRva2VucyIsImdldEluamVjdGlvblRva2VucyIsIk5vZGVQcm90b3R5cGUiLCJkZXNjcmlwdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJpc1ByaW1pdGl2ZVZhbHVlIiwiY29weURvbVByb3BlcnRpZXMiLCJiaW5kaW5nSW5kZXhlcyIsIm1ldGFkYXRhUGFydHMiLCJjb2xsZWN0UHJvcGVydHlCaW5kaW5ncyIsImxvd2VyY2FzZVROb2RlQXR0cnMiLCJlQXR0cnMiLCJsb3dlcmNhc2VOYW1lIiwiYmFzZVZhbCIsImNoaWxkTm9kZXMiLCJnZXREZWJ1Z05vZGUiLCJxdWVyeUFsbCIsIl9xdWVyeUFsbCIsInF1ZXJ5QWxsTm9kZXMiLCJ0cmlnZ2VyRXZlbnRIYW5kbGVyIiwiZXZlbnRPYmoiLCJpbnZva2VkTGlzdGVuZXJzIiwiZXZlbnRMaXN0ZW5lcnMiLCJ1bndyYXBwZWRMaXN0ZW5lciIsInBhcmVudEVsZW1lbnQiLCJlbGVtZW50c09ubHkiLCJfcXVlcnlOb2RlQ2hpbGRyZW4iLCJfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMiLCJyb290TmF0aXZlTm9kZSIsImdldE5hdGl2ZUJ5VE5vZGVPck51bGwiLCJfYWRkUXVlcnlNYXRjaCIsIm5vZGVPckNvbnRhaW5lciIsIl9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyIiwiaGVhZCIsIm5leHRMVmlldyIsIm5leHRUTm9kZSIsImNoaWxkVmlldyIsImRlYnVnTm9kZSIsIk5HX0RFQlVHX1BST1BFUlRZIiwiZ2V0RGVidWdOb2RlUjIiLCJfbmF0aXZlTm9kZSIsIkRlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkiLCJzdXBwb3J0cyIsInRyYWNrQnlGbiIsIkRlZmF1bHRJdGVyYWJsZURpZmZlciIsInRyYWNrQnlJZGVudGl0eSIsIl9saW5rZWRSZWNvcmRzIiwiX3VubGlua2VkUmVjb3JkcyIsIl9wcmV2aW91c0l0SGVhZCIsIl9pdEhlYWQiLCJfaXRUYWlsIiwiX2FkZGl0aW9uc0hlYWQiLCJfYWRkaXRpb25zVGFpbCIsIl9tb3Zlc0hlYWQiLCJfbW92ZXNUYWlsIiwiX3JlbW92YWxzSGVhZCIsIl9yZW1vdmFsc1RhaWwiLCJfaWRlbnRpdHlDaGFuZ2VzSGVhZCIsIl9pZGVudGl0eUNoYW5nZXNUYWlsIiwiX3RyYWNrQnlGbiIsImZvckVhY2hJdGVtIiwiZm9yRWFjaE9wZXJhdGlvbiIsIm5leHRJdCIsIm5leHRSZW1vdmUiLCJhZGRSZW1vdmVPZmZzZXQiLCJtb3ZlT2Zmc2V0cyIsImN1cnJlbnRJbmRleCIsImdldFByZXZpb3VzSW5kZXgiLCJhZGpQcmV2aW91c0luZGV4IiwiX25leHRSZW1vdmVkIiwicHJldmlvdXNJbmRleCIsImxvY2FsTW92ZVByZXZpb3VzSW5kZXgiLCJsb2NhbEN1cnJlbnRJbmRleCIsIm9mZnNldCIsImZvckVhY2hQcmV2aW91c0l0ZW0iLCJfbmV4dFByZXZpb3VzIiwiZm9yRWFjaEFkZGVkSXRlbSIsIl9uZXh0QWRkZWQiLCJmb3JFYWNoTW92ZWRJdGVtIiwiX25leHRNb3ZlZCIsImZvckVhY2hSZW1vdmVkSXRlbSIsImZvckVhY2hJZGVudGl0eUNoYW5nZSIsIl9uZXh0SWRlbnRpdHlDaGFuZ2UiLCJjb2xsZWN0aW9uIiwiY2hlY2siLCJfcmVzZXQiLCJpdGVtVHJhY2tCeSIsIm1heUJlRGlydHkiLCJ0cmFja0J5SWQiLCJfdmVyaWZ5UmVpbnNlcnRpb24iLCJfYWRkSWRlbnRpdHlDaGFuZ2UiLCJfbWlzbWF0Y2giLCJpdGVyYXRlTGlzdExpa2UiLCJfdHJ1bmNhdGUiLCJpc0RpcnR5IiwicHJldmlvdXNSZWNvcmQiLCJfcHJldiIsIl9yZW1vdmUiLCJfcmVpbnNlcnRBZnRlciIsIl9tb3ZlQWZ0ZXIiLCJfYWRkQWZ0ZXIiLCJJdGVyYWJsZUNoYW5nZVJlY29yZF8iLCJyZWluc2VydFJlY29yZCIsIl9hZGRUb01vdmVzIiwibmV4dFJlY29yZCIsIl9hZGRUb1JlbW92YWxzIiwiX3VubGluayIsInByZXZSZWNvcmQiLCJfcHJldlJlbW92ZWQiLCJfaW5zZXJ0QWZ0ZXIiLCJfRHVwbGljYXRlTWFwIiwicHV0IiwidG9JbmRleCIsIl9wcmV2RHVwIiwiX25leHREdXAiLCJfRHVwbGljYXRlSXRlbVJlY29yZExpc3QiLCJfaGVhZCIsIl90YWlsIiwiYXRPckFmdGVySW5kZXgiLCJkdXBsaWNhdGVzIiwicmVjb3JkTGlzdCIsImlzRW1wdHkiLCJtb3ZlT2Zmc2V0IiwiRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSIsIkRlZmF1bHRLZXlWYWx1ZURpZmZlciIsIl9yZWNvcmRzIiwiX21hcEhlYWQiLCJfYXBwZW5kQWZ0ZXIiLCJfcHJldmlvdXNNYXBIZWFkIiwiX2NoYW5nZXNIZWFkIiwiX2NoYW5nZXNUYWlsIiwiZm9yRWFjaENoYW5nZWRJdGVtIiwiX25leHRDaGFuZ2VkIiwiX2ZvckVhY2giLCJfbWF5YmVBZGRUb0NoYW5nZXMiLCJfZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkiLCJfaW5zZXJ0QmVmb3JlT3JBcHBlbmQiLCJLZXlWYWx1ZUNoYW5nZVJlY29yZF8iLCJfYWRkVG9BZGRpdGlvbnMiLCJfYWRkVG9DaGFuZ2VzIiwiZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkiLCJJdGVyYWJsZURpZmZlcnMiLCJjb3BpZWQiLCJleHRlbmQiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSIsIktleVZhbHVlRGlmZmVycyIsImt2Iiwia2V5VmFsRGlmZiIsIml0ZXJhYmxlRGlmZiIsImRlZmF1bHRJdGVyYWJsZURpZmZlcnMiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIiwicGxhdGZvcm1Db3JlIiwiQXBwbGljYXRpb25Nb2R1bGUiLCJjb21waWxlRGlyZWN0aXZlRGVjbGFyYXRpb24iLCJjb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24iLCJnZXRGYWN0b3J5S2luZCIsImNvbXBpbGVGYWN0b3J5RGVjbGFyYXRpb24iLCJjb21waWxlSW5qZWN0YWJsZURlY2xhcmF0aW9uIiwiY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24iLCJjb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbiIsImNvbXBpbGVQaXBlRGVjbGFyYXRpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsInRvU3RyaW5nVGFnIiwic2lnbmFsaW5nU2VydmVyXzEiLCJTaWduYWxpbmdTZXJ2ZXIiLCJ3ZWJSdGNfcHJvdmlkZXJfMSIsInByb29mbWVfdXRpbHNfcHJvdmlkZXJfMSIsInNpZ25hbFNlcnZlclYyXzEiLCJTaWduYWxTZXJ2ZXJWMiIsInYxVXRpbHNfMSIsImdldFN1YkRvbWFpbiIsIm1pbWVUeXBlc19lbnVtXzEiLCJwcm9vZm1lRGF0YVB1cnBvc2VfMSIsInByb29mbWVEYXRhU3RvcmFnZV8xIiwic21hcnRDb250cmFjdFV0aWxzXzEiLCJjaGVja0tleUZvckRpZCJdLCJzb3VyY2VSb290IjoiIn0=