/*! For license information please see proofmeid-webrtc-node.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ProofmeId=t():e.ProofmeId=t()}(global,(function(){return(()=>{"use strict";var e={280:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return o(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,s=t.isStopped,a=t._isComplete;n?e.error(i):(s||a)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(3032).Subject);t.AsyncSubject=i},5240:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(3032).Subject);t.BehaviorSubject=i},3104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r,o=n(6332),i=n(5726),s=n(2098),a=n(3005);(r=t.NotificationKind||(t.NotificationKind={})).NEXT="N",r.ERROR="E",r.COMPLETE="C";var u=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return c(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,s=r.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(s):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return a.isFunction(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,a="N"===t?i.of(n):"E"===t?s.throwError((function(){return r})):"C"===t?o.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+t);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function c(e,t){var n,r,o,i=e,s=i.kind,a=i.value,u=i.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,a):"E"===s?null===(r=t.error)||void 0===r||r.call(t,u):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=u,t.observeNotification=c},7286:(e,t)=>{function n(e,t,n){return{kind:e,value:t,error:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=n("C",void 0,void 0),t.errorNotification=function(e){return n("E",void 0,e)},t.nextNotification=function(e){return n("N",e,void 0)},t.createNotification=n},2419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=n(5125),o=n(3865),i=n(2801),s=n(2872),a=n(3280),u=n(3005),c=n(6110),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,s=this,a=(i=e)&&i instanceof r.Subscriber||function(e){return e&&u.isFunction(e.next)&&u.isFunction(e.error)&&u.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new r.SafeSubscriber(e,t,n);return c.errorContext((function(){var e=s,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?s._subscribe(a):s._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,o){var i=new r.SafeSubscriber({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:a.config.Promise)&&void 0!==t?t:Promise}t.Observable=l},3274:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var i=n(3032),s=n(7950),a=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=s.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return o(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(o.push(t),!i&&o.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),a=0,u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}},t}(i.Subject);t.ReplaySubject=a},218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=n(7950),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.dateTimestampProvider.now,e}();t.Scheduler=o},3032:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var s=n(2419),a=n(3865),u=n(2642),c=n(6967),l=n(6110),f=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var o=t.observers.slice();try{for(var s=i(o),a=s.next();!a.done;a=s.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;l.errorContext((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,r=t.isStopped,o=t.observers;return n||r?a.EMPTY_SUBSCRIPTION:(o.push(e),new a.Subscription((function(){return c.arrRemove(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(s.Observable);t.Subject=f;var d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:a.EMPTY_SUBSCRIPTION},t}(f);t.AnonymousSubject=d},5125:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var i=n(3005),s=n(3865),a=n(3280),u=n(7968),c=n(2576),l=n(7286),f=n(4590),d=n(6110),p=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,s.isSubscription(n)&&n.add(r)):r.destination=t.EMPTY_OBSERVER,r}return o(n,e),n.create=function(e,t,n){return new b(e,t,n)},n.prototype.next=function(e){this.isStopped?m(l.nextNotification(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?m(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(s.Subscription);t.Subscriber=p;var h=Function.prototype.bind;function v(e,t){return h.call(e,t)}var y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){g(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){g(e)}else g(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){g(e)}},e}(),b=function(e){function t(t,n,r){var o,s,u=e.call(this)||this;return i.isFunction(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&a.config.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&v(t.next,s),error:t.error&&v(t.error,s),complete:t.complete&&v(t.complete,s)}):o=t,u.destination=new y(o),u}return o(t,e),t}(p);function g(e){a.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):u.reportUnhandledError(e)}function m(e,t){var n=a.config.onStoppedNotification;n&&f.timeoutProvider.setTimeout((function(){return n(e,t)}))}t.SafeSubscriber=b,t.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}},3865:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var s=n(3005),a=n(4805),u=n(6967),c=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,u,c;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=r(f),p=d.next();!p.done;p=d.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this);var h=this.initialTeardown;if(s.isFunction(h))try{h()}catch(e){c=e instanceof a.UnsubscriptionError?e.errors:[e]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var y=r(v),b=y.next();!b.done;b=y.next()){var g=b.value;try{l(g)}catch(e){c=null!=c?c:[],e instanceof a.UnsubscriptionError?c=i(i([],o(c)),o(e.errors)):c.push(e)}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(n)throw n.error}}}if(c)throw new a.UnsubscriptionError(c)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u.arrRemove(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&u.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){s.isFunction(e)?e():e.unsubscribe()}t.Subscription=c,t.EMPTY_SUBSCRIPTION=c.EMPTY,t.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&s.isFunction(e.remove)&&s.isFunction(e.add)&&s.isFunction(e.unsubscribe)}},3280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9518:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var i=n(2419),s=n(3865),a=n(8739),u=n(4990),c=n(4935),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,c.hasLift(t)&&(r.lift=t.lift),r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new s.Subscription;var n=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=s.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return a.refCount()(this)},t}(i.Observable);t.ConnectableObservable=l},9258:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=n(2419),o=n(1203),i=n(5432),s=n(4781),a=n(1914),u=n(2433),c=n(641),l=n(4990),f=n(7738);function d(e,t,n){return void 0===n&&(n=s.identity),function(r){p(t,(function(){for(var o=e.length,s=new Array(o),a=o,u=o,c=function(o){p(t,(function(){var c=i.from(e[o],t),f=!1;c.subscribe(l.createOperatorSubscriber(r,(function(e){s[o]=e,f||(f=!0,u--),u||r.next(n(s.slice()))}),(function(){--a||r.complete()})))}),r)},f=0;f<o;f++)c(f)}),r)}}function p(e,t,n){e?f.executeSchedule(n,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),l=u.popResultSelector(e),f=o.argsArgArrayOrObject(e),p=f.args,h=f.keys;if(0===p.length)return i.from([],n);var v=new r.Observable(d(p,n,h?function(e){return c.createObject(h,e)}:s.identity));return l?v.pipe(a.mapOneOrManyArgs(l)):v},t.combineLatestInit=d},2239:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=n(4413),o=n(2433),i=n(5432);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.concatAll()(i.from(e,o.popScheduler(e)))}},6332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=n(2419);t.EMPTY=new r.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new r.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},5432:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=n(5207),o=n(7103);t.from=function(e,t){return t?r.scheduled(e,t):o.innerFrom(e)}},851:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=n(2419);t.fromSubscribable=function(e){return new r.Observable((function(t){return e.subscribe(t)}))}},7103:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof s?s(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var a=n(3909),u=n(6018),c=n(2419),l=n(9500),f=n(9595),d=n(9906),p=n(2743),h=n(7823),v=n(3005),y=n(7968),b=n(2801);function g(e){return new c.Observable((function(t){var n=e[b.observable]();if(v.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function m(e){return new c.Observable((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function _(e){return new c.Observable((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y.reportUnhandledError)}))}function w(e){return new c.Observable((function(t){var n,r;try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}))}function M(e){return new c.Observable((function(t){(function(e,t){var n,s,a,u;return r(this,void 0,void 0,(function(){var r,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=i(e),o.label=1;case 1:return[4,n.next()];case 2:if((s=o.sent()).done)return[3,4];if(r=s.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=o.sent(),a={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),s&&!s.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function C(e){return M(h.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return g(e);if(a.isArrayLike(e))return m(e);if(u.isPromise(e))return _(e);if(f.isAsyncIterable(e))return M(e);if(p.isIterable(e))return w(e);if(h.isReadableStreamLike(e))return C(e)}throw d.createInvalidObservableTypeError(e)},t.fromInteropObservable=g,t.fromArrayLike=m,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=M,t.fromReadableStreamLike=C},8990:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=n(2445),o=n(7513);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},5726:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=n(2433),o=n(5432);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.popScheduler(e);return o.from(e,n)}},5182:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=n(2419),o=n(7103),i=n(5498),s=n(4990);function a(e){return function(t){for(var n=[],r=function(r){n.push(o.innerFrom(e[r]).subscribe(s.createOperatorSubscriber(t,(function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)}))))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new r.Observable(a(e))},t.raceInit=a},2098:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=n(2419),o=n(3005);t.throwError=function(e,t){var n=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},7513:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=n(2419),o=n(2445),i=n(9016),s=n(1677);t.timer=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.async);var a=-1;return null!=t&&(i.isScheduler(t)?n=t:a=t),new r.Observable((function(t){var r=s.isValidDate(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=a?this.schedule(void 0,a):t.complete())}),r)}))}},7654:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(2419),s=n(7103),a=n(5498),u=n(6332),c=n(4990),l=n(2433);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.popResultSelector(e),f=a.argsOrArgArray(e);return f.length?new i.Observable((function(e){var t=f.map((function(){return[]})),i=f.map((function(){return!1}));e.add((function(){t=i=null}));for(var a=function(a){s.innerFrom(f[a]).subscribe(c.createOperatorSubscriber(e,(function(s){if(t[a].push(s),t.every((function(e){return e.length}))){var u=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,o([],r(u))):u),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[a]=!0,!t[a].length&&e.complete()})))},u=0;!e.closed&&u<f.length;u++)a(u);return function(){t=i=null}})):u.EMPTY}},4990:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var i=n(5125);t.createOperatorSubscriber=function(e,t,n,r,o){return new s(e,t,n,r,o)};var s=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return o(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(i.Subscriber);t.OperatorSubscriber=s},6474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=n(4935),o=n(7103),i=n(4990);t.audit=function(e){return r.operate((function(t,n){var r=!1,s=null,a=null,u=!1,c=function(){if(null==a||a.unsubscribe(),a=null,r){r=!1;var e=s;s=null,n.next(e)}u&&n.complete()},l=function(){a=null,u&&n.complete()};t.subscribe(i.createOperatorSubscriber(n,(function(t){r=!0,s=t,a||o.innerFrom(e(t)).subscribe(a=i.createOperatorSubscriber(n,c,l))}),(function(){u=!0,(!r||!a||a.closed)&&n.complete()})))}))}},5382:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=n(2445),o=n(6474),i=n(7513);t.auditTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.audit((function(){return i.timer(e,t)}))}},9715:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=n(4935),o=n(2576),i=n(4990);t.buffer=function(e){return r.operate((function(t,n){var r=[];return t.subscribe(i.createOperatorSubscriber(n,(function(e){return r.push(e)}),(function(){n.next(r),n.complete()}))),e.subscribe(i.createOperatorSubscriber(n,(function(){var e=r;r=[],n.next(e)}),o.noop)),function(){r=null}}))}},3814:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=n(4935),i=n(4990),s=n(6967);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,o.operate((function(n,o){var a=[],u=0;n.subscribe(i.createOperatorSubscriber(o,(function(n){var i,c,l,f,d=null;u++%t==0&&a.push([]);try{for(var p=r(a),h=p.next();!h.done;h=p.next())(b=h.value).push(n),e<=b.length&&(d=null!=d?d:[]).push(b)}catch(e){i={error:e}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(i)throw i.error}}if(d)try{for(var v=r(d),y=v.next();!y.done;y=v.next()){var b=y.value;s.arrRemove(a,b),o.next(b)}}catch(e){l={error:e}}finally{try{y&&!y.done&&(f=v.return)&&f.call(v)}finally{if(l)throw l.error}}}),(function(){var e,t;try{for(var n=r(a),i=n.next();!i.done;i=n.next()){var s=i.value;o.next(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){a=null})))}))}},7211:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=n(3865),i=n(4935),s=n(4990),a=n(6967),u=n(2445),c=n(2433),l=n(7738);t.bufferTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(t=c.popScheduler(f))&&void 0!==t?t:u.asyncScheduler,h=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return i.operate((function(t,n){var i=[],u=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),a.arrRemove(i,e),n.next(t),u&&f()},f=function(){if(i){var t=new o.Subscription;n.add(t);var r={buffer:[],subs:t};i.push(r),l.executeSchedule(t,p,(function(){return c(r)}),e)}};null!==h&&h>=0?l.executeSchedule(n,p,f,h,!0):u=!0,f();var d=s.createOperatorSubscriber(n,(function(e){var t,n,o=i.slice();try{for(var s=r(o),a=s.next();!a.done;a=s.next()){var u=a.value,l=u.buffer;l.push(e),v<=l.length&&c(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}),(function(){for(;null==i?void 0:i.length;)n.next(i.shift().buffer);null==d||d.unsubscribe(),n.complete(),n.unsubscribe()}),void 0,(function(){return i=null}));t.subscribe(d)}))}},4943:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=n(3865),i=n(4935),s=n(7103),a=n(4990),u=n(2576),c=n(6967);t.bufferToggle=function(e,t){return i.operate((function(n,i){var l=[];s.innerFrom(e).subscribe(a.createOperatorSubscriber(i,(function(e){var n=[];l.push(n);var r=new o.Subscription;r.add(s.innerFrom(t(e)).subscribe(a.createOperatorSubscriber(i,(function(){c.arrRemove(l,n),i.next(n),r.unsubscribe()}),u.noop)))}),u.noop)),n.subscribe(a.createOperatorSubscriber(i,(function(e){var t,n;try{for(var o=r(l),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),(function(){for(;l.length>0;)i.next(l.shift());i.complete()})))}))}},1240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=n(4935),o=n(2576),i=n(4990),s=n(7103);t.bufferWhen=function(e){return r.operate((function(t,n){var r=null,a=null,u=function(){null==a||a.unsubscribe();var t=r;r=[],t&&n.next(t),s.innerFrom(e()).subscribe(a=i.createOperatorSubscriber(n,u,o.noop))};u(),t.subscribe(i.createOperatorSubscriber(n,(function(e){return null==r?void 0:r.push(e)}),(function(){r&&n.next(r),n.complete()}),void 0,(function(){return r=a=null})))}))}},9548:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=n(7103),o=n(4990),i=n(4935);t.catchError=function e(t){return i.operate((function(n,i){var s,a=null,u=!1;a=n.subscribe(o.createOperatorSubscriber(i,void 0,void 0,(function(o){s=r.innerFrom(t(o,e(t)(n))),a?(a.unsubscribe(),a=null,s.subscribe(i)):u=!0}))),u&&(a.unsubscribe(),a=null,s.subscribe(i))}))}},2128:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=n(3240);t.combineAll=r.combineLatestAll},6318:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=n(9258),s=n(4935),a=n(5498),u=n(1914),c=n(2872),l=n(2433);t.combineLatest=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var f=l.popResultSelector(t);return f?c.pipe(e.apply(void 0,o([],r(t))),u.mapOneOrManyArgs(f)):s.operate((function(e,n){i.combineLatestInit(o([e],r(a.argsOrArgArray(t))))(n)}))}},3240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=n(9258),o=n(2069);t.combineLatestAll=function(e){return o.joinAllInternals(r.combineLatest,e)}},5024:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=n(6318);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],r(e)))}},4919:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=n(4935),s=n(4413),a=n(2433),u=n(5432);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e);return i.operate((function(t,i){s.concatAll()(u.from(o([t],r(e)),n)).subscribe(i)}))}},4413:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=n(3783);t.concatAll=function(){return r.mergeAll(1)}},7498:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=n(9475),o=n(3005);t.concatMap=function(e,t){return o.isFunction(t)?r.mergeMap(e,t,1):r.mergeMap(e,1)}},6109:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=n(7498),o=n(3005);t.concatMapTo=function(e,t){return o.isFunction(t)?r.concatMap((function(){return e}),t):r.concatMap((function(){return e}))}},9664:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=n(4919);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],r(e)))}},1995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=n(3032),o=n(5432),i=n(4935),s=n(851),a={connector:function(){return new r.Subject}};t.connect=function(e,t){void 0===t&&(t=a);var n=t.connector;return i.operate((function(t,r){var i=n();o.from(e(s.fromSubscribable(i))).subscribe(r),r.add(t.subscribe(i))}))}},993:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=n(122);t.count=function(e){return r.reduce((function(t,n,r){return!e||e(n,r)?t+1:t}),0)}},496:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=n(4935),o=n(2576),i=n(4990),s=n(7103);t.debounce=function(e){return r.operate((function(t,n){var r=!1,a=null,u=null,c=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=a;a=null,n.next(e)}};t.subscribe(i.createOperatorSubscriber(n,(function(t){null==u||u.unsubscribe(),r=!0,a=t,u=i.createOperatorSubscriber(n,c,o.noop),s.innerFrom(e(t)).subscribe(u)}),(function(){c(),n.complete()}),void 0,(function(){a=u=null})))}))}},1385:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=n(2445),o=n(4935),i=n(4990);t.debounceTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.operate((function(n,r){var o=null,s=null,a=null,u=function(){if(o){o.unsubscribe(),o=null;var e=s;s=null,r.next(e)}};function c(){var n=a+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);u()}n.subscribe(i.createOperatorSubscriber(r,(function(n){s=n,a=t.now(),o||(o=t.schedule(c,e),r.add(o))}),(function(){u(),r.complete()}),void 0,(function(){s=o=null})))}))}},1658:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=n(4935),o=n(4990);t.defaultIfEmpty=function(e){return r.operate((function(t,n){var r=!1;t.subscribe(o.createOperatorSubscriber(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}},5841:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=n(2445),o=n(8798),i=n(7513);t.delay=function(e,t){void 0===t&&(t=r.asyncScheduler);var n=i.timer(e,t);return o.delayWhen((function(){return n}))}},8798:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=n(2239),o=n(4783),i=n(9438),s=n(8313),a=n(9475);t.delayWhen=function e(t,n){return n?function(s){return r.concat(n.pipe(o.take(1),i.ignoreElements()),s.pipe(e(t)))}:a.mergeMap((function(e,n){return t(e,n).pipe(o.take(1),s.mapTo(e))}))}},1080:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=n(3104),o=n(4935),i=n(4990);t.dematerialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){return r.observeNotification(e,t)})))}))}},3054:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=n(4935),o=n(4990),i=n(2576);t.distinct=function(e,t){return r.operate((function(n,r){var s=new Set;n.subscribe(o.createOperatorSubscriber(r,(function(t){var n=e?e(t):t;s.has(n)||(s.add(n),r.next(t))}))),null==t||t.subscribe(o.createOperatorSubscriber(r,(function(){return s.clear()}),i.noop))}))}},8737:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=n(4781),o=n(4935),i=n(4990);function s(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=r.identity),e=null!=e?e:s,o.operate((function(n,r){var o,s=!0;n.subscribe(i.createOperatorSubscriber(r,(function(n){var i=t(n);!s&&e(o,i)||(s=!1,o=i,r.next(n))})))}))}},7957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=n(8737);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},8633:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=n(2351),o=n(9154),i=n(1779),s=n(1658),a=n(4783);t.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(u){return u.pipe(o.filter((function(t,n){return n===e})),a.take(1),n?s.defaultIfEmpty(t):i.throwIfEmpty((function(){return new r.ArgumentOutOfRangeError})))}}},911:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=n(2239),s=n(5726);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,s.of.apply(void 0,o([],r(e))))}}},2096:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=n(4935),o=n(4990);t.every=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))}},67:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=n(5337);t.exhaust=r.exhaustAll},5337:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=n(4935),o=n(7103),i=n(4990);t.exhaustAll=function(){return r.operate((function(e,t){var n=!1,r=null;e.subscribe(i.createOperatorSubscriber(t,(function(e){r||(r=o.innerFrom(e).subscribe(i.createOperatorSubscriber(t,void 0,(function(){r=null,n&&t.complete()}))))}),(function(){n=!0,!r&&t.complete()})))}))}},5635:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=n(7291),o=n(7103),i=n(4935),s=n(4990);t.exhaustMap=function e(t,n){return n?function(i){return i.pipe(e((function(e,i){return o.innerFrom(t(e,i)).pipe(r.map((function(t,r){return n(e,t,i,r)})))})))}:i.operate((function(e,n){var r=0,i=null,a=!1;e.subscribe(s.createOperatorSubscriber(n,(function(e){i||(i=s.createOperatorSubscriber(n,void 0,(function(){i=null,a&&n.complete()})),o.innerFrom(t(e,r++)).subscribe(i))}),(function(){a=!0,!i&&n.complete()})))}))}},9745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=n(4935),o=n(7788);t.expand=function(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,r.operate((function(r,i){return o.mergeInternals(r,i,e,t,void 0,!0,n)}))}},9154:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=n(4935),o=n(4990);t.filter=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},9283:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=n(4935);t.finalize=function(e){return r.operate((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}},7119:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=n(4935),o=n(4990);function i(e,t,n){var r="index"===n;return function(n,i){var s=0;n.subscribe(o.createOperatorSubscriber(i,(function(o){var a=s++;e.call(t,o,a,n)&&(i.next(r?a:o),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}t.find=function(e,t){return r.operate(i(e,t,"value"))},t.createFind=i},4706:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=n(4935),o=n(7119);t.findIndex=function(e,t){return r.operate(o.createFind(e,t,"index"))}},9219:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=n(9474),o=n(9154),i=n(4783),s=n(1658),a=n(1779),u=n(4781);t.first=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,n){return e(t,n,c)})):u.identity,i.take(1),n?s.defaultIfEmpty(t):a.throwIfEmpty((function(){return new r.EmptyError})))}}},1788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=n(9475);t.flatMap=r.mergeMap},9749:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=n(2419),o=n(7103),i=n(3032),s=n(4935),a=n(4990);t.groupBy=function(e,t,n,u){return s.operate((function(s,c){var l;t&&"function"!=typeof t?(n=t.duration,l=t.element,u=t.connector):l=t;var f=new Map,d=function(e){f.forEach(e),e(c)},p=function(e){return d((function(t){return t.error(e)}))},h=0,v=!1,y=new a.OperatorSubscriber(c,(function(t){try{var s=e(t),d=f.get(s);if(!d){f.set(s,d=u?u():new i.Subject);var b=(m=s,_=d,(w=new r.Observable((function(e){h++;var t=_.subscribe(e);return function(){t.unsubscribe(),0==--h&&v&&y.unsubscribe()}}))).key=m,w);if(c.next(b),n){var g=a.createOperatorSubscriber(d,(function(){d.complete(),null==g||g.unsubscribe()}),void 0,void 0,(function(){return f.delete(s)}));y.add(o.innerFrom(n(b)).subscribe(g))}}d.next(l?l(t):t)}catch(e){p(e)}var m,_,w}),(function(){return d((function(e){return e.complete()}))}),p,(function(){return f.clear()}),(function(){return v=!0,0===h}));s.subscribe(y)}))}},9438:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=n(4935),o=n(4990),i=n(2576);t.ignoreElements=function(){return r.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))}))}},8515:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=n(4935),o=n(4990);t.isEmpty=function(){return r.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}},2069:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=n(4781),o=n(1914),i=n(2872),s=n(9475),a=n(2);t.joinAllInternals=function(e,t){return i.pipe(a.toArray(),s.mergeMap((function(t){return e(t)})),t?o.mapOneOrManyArgs(t):r.identity)}},2435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=n(9474),o=n(9154),i=n(1980),s=n(1779),a=n(1658),u=n(4781);t.last=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,n){return e(t,n,c)})):u.identity,i.takeLast(1),n?a.defaultIfEmpty(t):s.throwIfEmpty((function(){return new r.EmptyError})))}}},7291:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=n(4935),o=n(4990);t.map=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){r.next(e.call(t,n,i++))})))}))}},8313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=n(7291);t.mapTo=function(e){return r.map((function(){return e}))}},3209:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=n(3104),o=n(4935),i=n(4990);t.materialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){t.next(r.Notification.createNext(e))}),(function(){t.next(r.Notification.createComplete()),t.complete()}),(function(e){t.next(r.Notification.createError(e)),t.complete()})))}))}},2620:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=n(122),o=n(3005);t.max=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},9821:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=n(4935),s=n(5498),a=n(3783),u=n(2433),c=n(5432);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),l=u.popNumber(e,1/0);return e=s.argsOrArgArray(e),i.operate((function(t,i){a.mergeAll(l)(c.from(o([t],r(e)),n)).subscribe(i)}))}},3783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=n(9475),o=n(4781);t.mergeAll=function(e){return void 0===e&&(e=1/0),r.mergeMap(o.identity,e)}},7788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=n(7103),o=n(7738),i=n(4990);t.mergeInternals=function(e,t,n,s,a,u,c,l){var f=[],d=0,p=0,h=!1,v=function(){!h||f.length||d||t.complete()},y=function(e){return d<s?b(e):f.push(e)},b=function(e){u&&t.next(e),d++;var l=!1;r.innerFrom(n(e,p++)).subscribe(i.createOperatorSubscriber(t,(function(e){null==a||a(e),u?y(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{d--;for(var e=function(){var e=f.shift();c?o.executeSchedule(t,c,(function(){return b(e)})):b(e)};f.length&&d<s;)e();v()}catch(e){t.error(e)}})))};return e.subscribe(i.createOperatorSubscriber(t,y,(function(){h=!0,v()}))),function(){null==l||l()}}},9475:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=n(7291),o=n(7103),i=n(4935),s=n(7788),a=n(3005);t.mergeMap=function e(t,n,u){return void 0===u&&(u=1/0),a.isFunction(n)?e((function(e,i){return r.map((function(t,r){return n(e,t,i,r)}))(o.innerFrom(t(e,i)))}),u):("number"==typeof n&&(u=n),i.operate((function(e,n){return s.mergeInternals(e,n,t,u)})))}},1211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=n(9475),o=n(3005);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=1/0),o.isFunction(t)?r.mergeMap((function(){return e}),t,n):("number"==typeof t&&(n=t),r.mergeMap((function(){return e}),n))}},7267:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=n(4935),o=n(7788);t.mergeScan=function(e,t,n){return void 0===n&&(n=1/0),r.operate((function(r,i){var s=t;return o.mergeInternals(r,i,(function(t,n){return e(s,t,n)}),n,(function(e){s=e}),!1,void 0,(function(){return s=null}))}))}},9303:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=n(9821);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],r(e)))}},9714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=n(122),o=n(3005);t.min=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},3848:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=n(9518),o=n(3005),i=n(1995);t.multicast=function(e,t){var n=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:n}):function(e){return new r.ConnectableObservable(e,n)}}},1184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=n(7738),o=n(4935),i=n(4990);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate((function(n,o){n.subscribe(i.createOperatorSubscriber(o,(function(n){return r.executeSchedule(o,e,(function(){return o.next(n)}),t)}),(function(){return r.executeSchedule(o,e,(function(){return o.complete()}),t)}),(function(n){return r.executeSchedule(o,e,(function(){return o.error(n)}),t)})))}))}},6223:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var i=n(4935),s=n(7103),a=n(5498),u=n(4990),c=n(2576);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.argsOrArgArray(e);return i.operate((function(e,t){var i=o([e],r(n)),a=function(){if(!t.closed)if(i.length>0){var e=void 0;try{e=s.innerFrom(i.shift())}catch(e){return void a()}var n=u.createOperatorSubscriber(t,void 0,c.noop,c.noop);e.subscribe(n),n.add(a)}else t.complete()};a()}))}},2731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=n(4935),o=n(4990);t.pairwise=function(){return r.operate((function(e,t){var n,r=!1;e.subscribe(o.createOperatorSubscriber(t,(function(e){var o=n;n=e,r&&t.next([o,e]),r=!0})))}))}},5649:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(8634),o=n(9154);t.partition=function(e,t){return function(n){return[o.filter(e,t)(n),o.filter(r.not(e,t))(n)]}}},4691:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=n(7291);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return r.map((function(t){for(var r=t,o=0;o<n;o++){var i=null==r?void 0:r[e[o]];if(void 0===i)return;r=i}return r}))}},4474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=n(3032),o=n(3848),i=n(1995);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new r.Subject)(e)}}},52:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=n(5240),o=n(9518);t.publishBehavior=function(e){return function(t){var n=new r.BehaviorSubject(e);return new o.ConnectableObservable(t,(function(){return n}))}}},2110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=n(280),o=n(9518);t.publishLast=function(){return function(e){var t=new r.AsyncSubject;return new o.ConnectableObservable(e,(function(){return t}))}}},9864:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=n(3274),o=n(3848),i=n(3005);t.publishReplay=function(e,t,n,s){n&&!i.isFunction(n)&&(s=n);var a=i.isFunction(n)?n:void 0;return function(n){return o.multicast(new r.ReplaySubject(e,t,s),a)(n)}}},9764:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=n(5498),s=n(179);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.raceWith.apply(void 0,o([],r(i.argsOrArgArray(e))))}},179:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=n(5182),s=n(4935),a=n(4781);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s.operate((function(t,n){i.raceInit(o([t],r(e)))(n)})):a.identity}},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=n(8345),o=n(4935);t.reduce=function(e,t){return o.operate(r.scanInternals(e,t,arguments.length>=2,!1,!0))}},8739:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=n(4935),o=n(4990);t.refCount=function(){return r.operate((function(e,t){var n=null;e._refCount++;var r=o.createOperatorSubscriber(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}},5313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=n(6332),o=n(4935),i=n(4990),s=n(7103),a=n(7513);t.repeat=function(e){var t,n,u=1/0;return null!=e&&("object"==typeof e?(t=e.count,u=void 0===t?1/0:t,n=e.delay):u=e),u<=0?function(){return r.EMPTY}:o.operate((function(e,t){var r,o=0,c=function(){if(null==r||r.unsubscribe(),r=null,null!=n){var e="number"==typeof n?a.timer(n):s.innerFrom(n(o)),u=i.createOperatorSubscriber(t,(function(){u.unsubscribe(),l()}));e.subscribe(u)}else l()},l=function(){var n=!1;r=e.subscribe(i.createOperatorSubscriber(t,void 0,(function(){++o<u?r?c():n=!0:t.complete()}))),n&&c()};l()}))}},4068:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=n(3032),o=n(4935),i=n(4990);t.repeatWhen=function(e){return o.operate((function(t,n){var o,s,a=!1,u=!1,c=!1,l=function(){return c&&u&&(n.complete(),!0)},f=function(){c=!1,o=t.subscribe(i.createOperatorSubscriber(n,void 0,(function(){c=!0,!l()&&(s||(s=new r.Subject,e(s).subscribe(i.createOperatorSubscriber(n,(function(){o?f():a=!0}),(function(){u=!0,l()})))),s).next()}))),a&&(o.unsubscribe(),o=null,a=!1,f())};f()}))}},64:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=n(4935),o=n(4990),i=n(4781),s=n(7513),a=n(7103);t.retry=function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,u=void 0===n?1/0:n,c=t.delay,l=t.resetOnSuccess,f=void 0!==l&&l;return u<=0?i.identity:r.operate((function(e,t){var n,r=0,i=function(){var l=!1;n=e.subscribe(o.createOperatorSubscriber(t,(function(e){f&&(r=0),t.next(e)}),void 0,(function(e){if(r++<u){var f=function(){n?(n.unsubscribe(),n=null,i()):l=!0};if(null!=c){var d="number"==typeof c?s.timer(c):a.innerFrom(c(e,r)),p=o.createOperatorSubscriber(t,(function(){p.unsubscribe(),f()}),(function(){t.complete()}));d.subscribe(p)}else f()}else t.error(e)}))),l&&(n.unsubscribe(),n=null,i())};i()}))}},1188:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=n(3032),o=n(4935),i=n(4990);t.retryWhen=function(e){return o.operate((function(t,n){var o,s,a=!1,u=function(){o=t.subscribe(i.createOperatorSubscriber(n,void 0,void 0,(function(t){s||(s=new r.Subject,e(s).subscribe(i.createOperatorSubscriber(n,(function(){return o?u():a=!0})))),s&&s.next(t)}))),a&&(o.unsubscribe(),o=null,a=!1,u())};u()}))}},4193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=n(4935),o=n(2576),i=n(4990);t.sample=function(e){return r.operate((function(t,n){var r=!1,s=null;t.subscribe(i.createOperatorSubscriber(n,(function(e){r=!0,s=e}))),e.subscribe(i.createOperatorSubscriber(n,(function(){if(r){r=!1;var e=s;s=null,n.next(e)}}),o.noop))}))}},6170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=n(2445),o=n(4193),i=n(8990);t.sampleTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.sample(i.interval(e,t))}},5876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=n(4935),o=n(8345);t.scan=function(e,t){return r.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},8345:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=n(4990);t.scanInternals=function(e,t,n,o,i){return function(s,a){var u=n,c=t,l=0;s.subscribe(r.createOperatorSubscriber(a,(function(t){var n=l++;c=u?e(c,t,n):(u=!0,t),o&&a.next(c)}),i&&function(){u&&a.next(c),a.complete()}))}}},1791:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=n(4935),o=n(4990);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),r.operate((function(n,r){var i={buffer:[],complete:!1},s={buffer:[],complete:!1},a=function(e){r.next(e),r.complete()},u=function(e,n){var i=o.createOperatorSubscriber(r,(function(r){var o=n.buffer,i=n.complete;0===o.length?i?a(!1):e.buffer.push(r):!t(r,o.shift())&&a(!1)}),(function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&a(0===r.length),null==i||i.unsubscribe()}));return i};n.subscribe(u(i,s)),e.subscribe(u(s,i))}))}},5137:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=n(5432),s=n(4783),a=n(3032),u=n(5125),c=n(4935);function l(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return!0===t?(e(),null):!1===t?null:t.apply(void 0,o([],r(n))).pipe(s.take(1)).subscribe((function(){return e()}))}t.share=function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new a.Subject}:t,r=e.resetOnError,o=void 0===r||r,s=e.resetOnComplete,f=void 0===s||s,d=e.resetOnRefCountZero,p=void 0===d||d;return function(e){var t=null,r=null,s=null,a=0,d=!1,h=!1,v=function(){null==r||r.unsubscribe(),r=null},y=function(){v(),t=s=null,d=h=!1},b=function(){var e=t;y(),null==e||e.unsubscribe()};return c.operate((function(e,c){a++,h||d||v();var g=s=null!=s?s:n();c.add((function(){0!=--a||h||d||(r=l(b,p))})),g.subscribe(c),t||(t=new u.SafeSubscriber({next:function(e){return g.next(e)},error:function(e){h=!0,v(),r=l(y,o,e),g.error(e)},complete:function(){d=!0,v(),r=l(y,f),g.complete()}}),i.from(e).subscribe(t))}))(e)}}},1348:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=n(3274),o=n(5137);t.shareReplay=function(e,t,n){var i,s,a,u=!1;return e&&"object"==typeof e?(a=null!==(i=e.bufferSize)&&void 0!==i?i:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,u=!!e.refCount,n=e.scheduler):a=null!=e?e:1/0,o.share({connector:function(){return new r.ReplaySubject(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},8242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(9474),o=n(6156),i=n(8598),s=n(4935),a=n(4990);t.single=function(e){return s.operate((function(t,n){var s,u=!1,c=!1,l=0;t.subscribe(a.createOperatorSubscriber(n,(function(r){c=!0,e&&!e(r,l++,t)||(u&&n.error(new o.SequenceError("Too many matching values")),u=!0,s=r)}),(function(){u?(n.next(s),n.complete()):n.error(c?new i.NotFoundError("No matching values"):new r.EmptyError)})))}))}},3169:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=n(9154);t.skip=function(e){return r.filter((function(t,n){return e<=n}))}},2454:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=n(4781),o=n(4935),i=n(4990);t.skipLast=function(e){return e<=0?r.identity:o.operate((function(t,n){var r=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(n,(function(t){var i=o++;if(i<e)r[i]=t;else{var s=i%e,a=r[s];r[s]=t,n.next(a)}}))),function(){r=null}}))}},6931:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=n(4935),o=n(4990),i=n(7103),s=n(2576);t.skipUntil=function(e){return r.operate((function(t,n){var r=!1,a=o.createOperatorSubscriber(n,(function(){null==a||a.unsubscribe(),r=!0}),s.noop);i.innerFrom(e).subscribe(a),t.subscribe(o.createOperatorSubscriber(n,(function(e){return r&&n.next(e)})))}))}},7913:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=n(4935),o=n(4990);t.skipWhile=function(e){return r.operate((function(t,n){var r=!1,i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){return(r||(r=!e(t,i++)))&&n.next(t)})))}))}},9234:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=n(2239),o=n(2433),i=n(4935);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.popScheduler(e);return i.operate((function(t,o){(n?r.concat(e,t,n):r.concat(e,t)).subscribe(o)}))}},276:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=n(4935);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.operate((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}},9253:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=n(8518),o=n(4781);t.switchAll=function(){return r.switchMap(o.identity)}},8518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=n(7103),o=n(4935),i=n(4990);t.switchMap=function(e,t){return o.operate((function(n,o){var s=null,a=0,u=!1,c=function(){return u&&!s&&o.complete()};n.subscribe(i.createOperatorSubscriber(o,(function(n){null==s||s.unsubscribe();var u=0,l=a++;r.innerFrom(e(n,l)).subscribe(s=i.createOperatorSubscriber(o,(function(e){return o.next(t?t(n,e,l,u++):e)}),(function(){s=null,c()})))}),(function(){u=!0,c()})))}))}},1173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=n(8518),o=n(3005);t.switchMapTo=function(e,t){return o.isFunction(t)?r.switchMap((function(){return e}),t):r.switchMap((function(){return e}))}},3855:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=n(8518),o=n(4935);t.switchScan=function(e,t){return o.operate((function(n,o){var i=t;return r.switchMap((function(t,n){return e(i,t,n)}),(function(e,t){return i=t,t}))(n).subscribe(o),function(){i=null}}))}},4783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=n(6332),o=n(4935),i=n(4990);t.take=function(e){return e<=0?function(){return r.EMPTY}:o.operate((function(t,n){var r=0;t.subscribe(i.createOperatorSubscriber(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},1980:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=n(6332),i=n(4935),s=n(4990);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate((function(t,n){var o=[];t.subscribe(s.createOperatorSubscriber(n,(function(t){o.push(t),e<o.length&&o.shift()}),(function(){var e,t;try{for(var i=r(o),s=i.next();!s.done;s=i.next()){var a=s.value;n.next(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){o=null})))}))}},9845:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=n(4935),o=n(4990),i=n(7103),s=n(2576);t.takeUntil=function(e){return r.operate((function(t,n){i.innerFrom(e).subscribe(o.createOperatorSubscriber(n,(function(){return n.complete()}),s.noop)),!n.closed&&t.subscribe(n)}))}},6060:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=n(4935),o=n(4990);t.takeWhile=function(e,t){return void 0===t&&(t=!1),r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}},1138:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=n(3005),o=n(4935),i=n(4990),s=n(4781);t.tap=function(e,t,n){var a=r.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return a?o.operate((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(i.createOperatorSubscriber(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):s.identity}},7306:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.defaultThrottleConfig=void 0;var r=n(4935),o=n(4990),i=n(7103);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,n){return void 0===n&&(n=t.defaultThrottleConfig),r.operate((function(t,r){var s=n.leading,a=n.trailing,u=!1,c=null,l=null,f=!1,d=function(){null==l||l.unsubscribe(),l=null,a&&(v(),f&&r.complete())},p=function(){l=null,f&&r.complete()},h=function(t){return l=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(r,d,p))},v=function(){if(u){u=!1;var e=c;c=null,r.next(e),!f&&h(e)}};t.subscribe(o.createOperatorSubscriber(r,(function(e){u=!0,c=e,(!l||l.closed)&&(s?v():h(e))}),(function(){f=!0,(!(a&&u&&l)||l.closed)&&r.complete()})))}))}},8968:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=n(2445),o=n(7306),i=n(7513);t.throttleTime=function(e,t,n){void 0===t&&(t=r.asyncScheduler),void 0===n&&(n=o.defaultThrottleConfig);var s=i.timer(e,t);return o.throttle((function(){return s}),n)}},1779:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=n(9474),o=n(4935),i=n(4990);function s(){return new r.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=s),o.operate((function(t,n){var r=!1;t.subscribe(i.createOperatorSubscriber(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}},8005:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=n(2445),o=n(4935),i=n(4990);t.timeInterval=function(e){return void 0===e&&(e=r.asyncScheduler),o.operate((function(t,n){var r=e.now();t.subscribe(i.createOperatorSubscriber(n,(function(t){var o=e.now(),i=o-r;r=o,n.next(new s(t,i))})))}))};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s},4173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=n(2445),o=n(1677),i=n(4935),s=n(7103),a=n(7029),u=n(4990),c=n(7738);function l(e){throw new t.TimeoutError(e)}t.TimeoutError=a.createErrorClass((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}})),t.timeout=function(e,t){var n=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,a=n.first,f=n.each,d=n.with,p=void 0===d?l:d,h=n.scheduler,v=void 0===h?null!=t?t:r.asyncScheduler:h,y=n.meta,b=void 0===y?null:y;if(null==a&&null==f)throw new TypeError("No timeout provided.");return i.operate((function(e,t){var n,r,o=null,i=0,l=function(e){r=c.executeSchedule(t,v,(function(){try{n.unsubscribe(),s.innerFrom(p({meta:b,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(u.createOperatorSubscriber(t,(function(e){null==r||r.unsubscribe(),i++,t.next(o=e),f>0&&l(f)}),void 0,void 0,(function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null}))),l(null!=a?"number"==typeof a?a:+a-v.now():f)}))}},7223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=n(2445),o=n(1677),i=n(4173);t.timeoutWith=function(e,t,n){var s,a,u;if(n=null!=n?n:r.async,o.isValidDate(e)?s=e:"number"==typeof e&&(a=e),!t)throw new TypeError("No observable provided to switch to");if(u=function(){return t},null==s&&null==a)throw new TypeError("No timeout provided.");return i.timeout({first:s,each:a,scheduler:n,with:u})}},8975:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=n(7950),o=n(7291);t.timestamp=function(e){return void 0===e&&(e=r.dateTimestampProvider),o.map((function(t){return{value:t,timestamp:e.now()}}))}},2:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=n(122),o=n(4935),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate((function(e,t){r.reduce(i,[])(e).subscribe(t)}))}},2826:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=n(3032),o=n(4935),i=n(4990),s=n(2576);t.window=function(e){return o.operate((function(t,n){var o=new r.Subject;n.next(o.asObservable());var a=function(e){o.error(e),n.error(e)};return t.subscribe(i.createOperatorSubscriber(n,(function(e){return null==o?void 0:o.next(e)}),(function(){o.complete(),n.complete()}),a)),e.subscribe(i.createOperatorSubscriber(n,(function(){o.complete(),n.next(o=new r.Subject)}),s.noop,a)),function(){null==o||o.unsubscribe(),o=null}}))}},7526:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=n(3032),i=n(4935),s=n(4990);t.windowCount=function(e,t){void 0===t&&(t=0);var n=t>0?t:e;return i.operate((function(t,i){var a=[new o.Subject],u=0;i.next(a[0].asObservable()),t.subscribe(s.createOperatorSubscriber(i,(function(t){var s,c;try{for(var l=r(a),f=l.next();!f.done;f=l.next())f.value.next(t)}catch(e){s={error:e}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}var d=u-e+1;if(d>=0&&d%n==0&&a.shift().complete(),++u%n==0){var p=new o.Subject;a.push(p),i.next(p.asObservable())}}),(function(){for(;a.length>0;)a.shift().complete();i.complete()}),(function(e){for(;a.length>0;)a.shift().error(e);i.error(e)}),(function(){a=null})))}))}},8294:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=n(3032),o=n(2445),i=n(3865),s=n(4935),a=n(4990),u=n(6967),c=n(2433),l=n(7738);t.windowTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(t=c.popScheduler(f))&&void 0!==t?t:o.asyncScheduler,h=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return s.operate((function(t,n){var o=[],s=!1,c=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),u.arrRemove(o,e),s&&f()},f=function(){if(o){var t=new i.Subscription;n.add(t);var s=new r.Subject,a={window:s,subs:t,seen:0};o.push(a),n.next(s.asObservable()),l.executeSchedule(t,p,(function(){return c(a)}),e)}};null!==h&&h>=0?l.executeSchedule(n,p,f,h,!0):s=!0,f();var d=function(e){return o.slice().forEach(e)},y=function(e){d((function(t){var n=t.window;return e(n)})),e(n),n.unsubscribe()};return t.subscribe(a.createOperatorSubscriber(n,(function(e){d((function(t){t.window.next(e),v<=++t.seen&&c(t)}))}),(function(){return y((function(e){return e.complete()}))}),(function(e){return y((function(t){return t.error(e)}))}))),function(){o=null}}))}},1883:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=n(3032),i=n(3865),s=n(4935),a=n(7103),u=n(4990),c=n(2576),l=n(6967);t.windowToggle=function(e,t){return s.operate((function(n,s){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);s.error(e)};a.innerFrom(e).subscribe(u.createOperatorSubscriber(s,(function(e){var n=new o.Subject;f.push(n);var r,p=new i.Subscription;try{r=a.innerFrom(t(e))}catch(e){return void d(e)}s.next(n.asObservable()),p.add(r.subscribe(u.createOperatorSubscriber(s,(function(){l.arrRemove(f,n),n.complete(),p.unsubscribe()}),c.noop,d)))}),c.noop)),n.subscribe(u.createOperatorSubscriber(s,(function(e){var t,n,o=f.slice();try{for(var i=r(o),s=i.next();!s.done;s=i.next())s.value.next(e)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),(function(){for(;0<f.length;)f.shift().complete();s.complete()}),d,(function(){for(;0<f.length;)f.shift().unsubscribe()})))}))}},4309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=n(3032),o=n(4935),i=n(4990),s=n(7103);t.windowWhen=function(e){return o.operate((function(t,n){var o,a,u=function(e){o.error(e),n.error(e)},c=function(){var t;null==a||a.unsubscribe(),null==o||o.complete(),o=new r.Subject,n.next(o.asObservable());try{t=s.innerFrom(e())}catch(e){return void u(e)}t.subscribe(a=i.createOperatorSubscriber(n,c,c,u))};c(),t.subscribe(i.createOperatorSubscriber(n,(function(e){return o.next(e)}),(function(){o.complete(),n.complete()}),u,(function(){null==a||a.unsubscribe(),o=null})))}))}},3041:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=n(4935),s=n(4990),a=n(7103),u=n(4781),c=n(2576),l=n(2433);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.popResultSelector(e);return i.operate((function(t,i){for(var l=e.length,f=new Array(l),d=e.map((function(){return!1})),p=!1,h=function(t){a.innerFrom(e[t]).subscribe(s.createOperatorSubscriber(i,(function(e){f[t]=e,p||d[t]||(d[t]=!0,(p=d.every(u.identity))&&(d=null))}),c.noop))},v=0;v<l;v++)h(v);t.subscribe(s.createOperatorSubscriber(i,(function(e){if(p){var t=o([e],r(f));i.next(n?n.apply(void 0,o([],r(t))):t)}})))}))}},4400:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(7654),s=n(4935);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.operate((function(t,n){i.zip.apply(void 0,o([t],r(e))).subscribe(n)}))}},8593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=n(7654),o=n(2069);t.zipAll=function(e){return o.joinAllInternals(r.zip,e)}},8096:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=n(4400);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],r(e)))}},7631:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=n(2419);t.scheduleArray=function(e,t){return new r.Observable((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}},8489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=n(2419),o=n(7738);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable((function(n){o.executeSchedule(n,t,(function(){var r=e[Symbol.asyncIterator]();o.executeSchedule(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}},1297:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=n(2419),o=n(3725),i=n(3005),s=n(7738);t.scheduleIterable=function(e,t){return new r.Observable((function(n){var r;return s.executeSchedule(n,t,(function(){r=e[o.iterator](),s.executeSchedule(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return i.isFunction(null==r?void 0:r.return)&&r.return()}}))}},4001:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=n(7103),o=n(1184),i=n(276);t.scheduleObservable=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},5143:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=n(7103),o=n(1184),i=n(276);t.schedulePromise=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},3676:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=n(8489),o=n(7823);t.scheduleReadableStreamLike=function(e,t){return r.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},5207:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=n(4001),o=n(5143),i=n(7631),s=n(1297),a=n(8489),u=n(9500),c=n(6018),l=n(3909),f=n(2743),d=n(9595),p=n(9906),h=n(7823),v=n(3676);t.scheduled=function(e,t){if(null!=e){if(u.isInteropObservable(e))return r.scheduleObservable(e,t);if(l.isArrayLike(e))return i.scheduleArray(e,t);if(c.isPromise(e))return o.schedulePromise(e,t);if(d.isAsyncIterable(e))return a.scheduleAsyncIterable(e,t);if(f.isIterable(e))return s.scheduleIterable(e,t);if(h.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw p.createInvalidObservableTypeError(e)}},1986:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var i=function(e){function t(t,n){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(3865).Subscription);t.Action=i},9702:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var i=n(1986),s=n(8203),a=n(6967),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;s.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i.Action);t.AsyncAction=u},3643:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var i=n(218),s=function(e){function t(t,n){void 0===n&&(n=i.Scheduler.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return o(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);t.AsyncScheduler=s},2445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=n(9702),o=n(3643);t.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler},7950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},8203:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=t.intervalProvider.delegate;return((null==i?void 0:i.setInterval)||setInterval).apply(void 0,r([],n(e)))},clearInterval:function(e){var n=t.intervalProvider.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},4590:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=t.timeoutProvider.delegate;return((null==i?void 0:i.setTimeout)||setTimeout).apply(void 0,r([],n(e)))},clearTimeout:function(e){var n=t.timeoutProvider.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},3725:(e,t)=>{function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=n,t.iterator=n()},2801:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2351:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=n(7029);t.ArgumentOutOfRangeError=r.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},9474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=n(7029);t.EmptyError=r.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},8598:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=n(7029);t.NotFoundError=r.createErrorClass((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},2642:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=n(7029);t.ObjectUnsubscribedError=r.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},6156:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=n(7029);t.SequenceError=r.createErrorClass((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},4805:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=n(7029);t.UnsubscriptionError=r.createErrorClass((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},2433:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=n(3005),o=n(9016);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return r.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof i(e)?e.pop():t}},1203:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var n=Array.isArray,r=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&r(a)===o){var s=i(t);return{args:s.map((function(e){return t[e]})),keys:s}}}var a;return{args:e,keys:null}}},5498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var n=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}},6967:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}},7029:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},641:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}},6110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=n(3280),o=null;t.errorContext=function(e){if(r.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,s=n.error;if(o=null,i)throw s}}else e()},t.captureError=function(e){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},7738:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}},4781:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},3909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},9595:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=n(3005);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&r.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},1677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},3005:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},9500:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=n(2801),o=n(3005);t.isInteropObservable=function(e){return o.isFunction(e[r.observable])}},2743:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=n(3725),o=n(3005);t.isIterable=function(e){return o.isFunction(null==e?void 0:e[r.iterator])}},6018:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=n(3005);t.isPromise=function(e){return r.isFunction(null==e?void 0:e.then)}},7823:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(c,l):f(s[0][2],n)}catch(e){f(s[0][3],e)}var n}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var s=n(3005);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,o(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,o(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,o(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t.isReadableStreamLike=function(e){return s.isFunction(null==e?void 0:e.getReader)}},9016:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=n(3005);t.isScheduler=function(e){return e&&r.isFunction(e.schedule)}},4935:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=n(3005);function o(e){return r.isFunction(null==e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},1914:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=n(7291),s=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map((function(t){return function(e,t){return s(t)?e.apply(void 0,o([],r(t))):e(t)}(e,t)}))}},2576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},8634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(n,r){return!e.call(t,n,r)}}},2872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=n(4781);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},7968:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=n(3280),o=n(4590);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout((function(){var t=r.config.onUnhandledError;if(!t)throw e;t(e)}))}},9906:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},4857:(e,t,n)=>{t.BN=void 0;n(6474),n(5382),n(9715),n(3814),n(7211),n(4943),n(1240),n(9548),n(2128),n(3240),n(6318),n(5024),n(4919),n(4413),n(7498),n(6109),n(9664),n(1995),n(993),n(496),n(1385),n(1658),n(5841),n(8798),n(1080),n(3054),n(8737),n(7957),n(8633),n(911),n(2096),n(67),n(5337),n(5635),n(9745),n(9154),n(9283),n(7119),n(4706),n(9219),n(9749),n(9438),n(8515),n(2435),n(7291),n(8313),n(3209),n(2620),n(9821),n(3783),n(1788),n(9475),n(1211),n(7267),n(9303),n(9714),n(3848),n(1184),n(6223),n(2731),n(5649),n(4691),n(4474),n(52),n(2110),n(9864),n(9764),n(179),n(122),n(5313),n(4068),n(64),n(1188),n(8739),n(4193),n(6170),n(5876),n(1791);var r=n(5137);Object.defineProperty(t,"BN",{enumerable:!0,get:function(){return r.share}});n(1348),n(8242),n(3169),n(2454),n(6931),n(7913),n(9234),n(276),n(9253),n(8518),n(1173),n(3855),n(4783),n(1980),n(9845),n(6060),n(1138),n(7306),n(8968),n(1779),n(8005),n(4173),n(7223),n(8975),n(2),n(2826),n(7526),n(8294),n(1883),n(4309),n(3041),n(4400),n(8593),n(8096)},9137:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EClaimType=void 0,(n=t.EClaimType||(t.EClaimType={}))[n.SIGNED_CONTENT=1e3]="SIGNED_CONTENT",n[n.COMPANY_INFO=2e3]="COMPANY_INFO",n[n.VALIDATORS=2001]="VALIDATORS",n[n.USERS=2002]="USERS"},8922:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EDIDAccessLevel=void 0,(n=t.EDIDAccessLevel||(t.EDIDAccessLevel={})).NONE="0",n.MANAGEMENT_KEY="1",n.ACTION_KEY="2",n.CLAIM_SIGNER_KEY="3",n.ENCRYPTION_KEY="4"},3244:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EMimeType=void 0,(n=t.EMimeType||(t.EMimeType={})).AAC="audio/aac",n.ABW="application/x-abiword",n.ARC="application/x-freearc",n.AVI="video/x-msvideo",n.AZW="application/vnd.amazon.ebook",n.BIN="application/octet-stream",n.BMP="image/bmp",n.BZ="application/x-bzip",n.BZ2="application/x-bzip2",n.CSH="application/x-csh",n.CSS="text/css",n.CSV="text/csv",n.DOC="application/msword",n.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",n.EOT="application/vnd.ms-fontobject",n.EPUB="application/epub+zip",n.GZ="application/gzip",n.GIF="image/gif",n.HTM="text/html",n.HTML="text/html",n.ICO="image/vnd.microsoft.icon",n.ICS="text/calendar",n.JAR="application/java-archive",n.JPEG=".jpg",n.JS="text/javascript",n.JSON="application/json",n.JSONLD="application/ld+json",n.MID=".midi",n.MJS="text/javascript",n.MP3="audio/mpeg",n.MPEG="video/mpeg",n.MPKG="application/vnd.apple.installer+xml",n.ODP="application/vnd.oasis.opendocument.presentation",n.ODS="application/vnd.oasis.opendocument.spreadsheet",n.ODT="application/vnd.oasis.opendocument.text",n.OGA="audio/ogg",n.OGV="video/ogg",n.OGX="application/ogg",n.OPUS="audio/opus",n.OTF="font/otf",n.PNG="image/png",n.PDF="application/pdf",n.PHP="application/php",n.PPT="application/vnd.ms-powerpoint",n.PPTX="application/vnd.openxmlformats-officedocument.presentationml.presentation",n.RAR="application/vnd.rar",n.RTF="application/rtf",n.SH="application/x-sh",n.SVG="image/svg+xml",n.SWF="application/x-shockwave-flash",n.TAR="application/x-tar",n.TIF="image/tiff",n.TIFF="image/tiff",n.TS="video/mp2t",n.TTF="font/ttf",n.TXT="text/plain",n.URI="text/x-uri",n.VSD="application/vnd.visio",n.WAV="audio/wav",n.WEBA="audio/webm",n.WEBM="video/webm",n.WEBP="image/webp",n.WOFF="font/woff",n.WOFF2="font/woff2",n.XHTML="application/xhtml+xml",n.XLS="application/vnd.ms-excel",n.XLSX="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n.XML="XML",n.XUL="application/vnd.mozilla.xul+xml",n.ZIP="application/zip",n.GP3="video/3gpp",n.G23="video/3gpp2",n.Z7="application/x-7z-compressed"},5018:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataPurpose=void 0,(n=t.EProofmeDataPurpose||(t.EProofmeDataPurpose={})).AGE_VERIFICATION="AGE_VERIFICATION",n.KYC_VERIFICATION="KYC_VERIFICATION",n.ACCESS_CONTROL="ACCESS_CONTROL",n.ONLINE_VERIFICATION="ONLINE_VERIFICATION",n.IDENTIFICATION="IDENTIFICATION"},345:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataStorage=void 0,(n=t.EProofmeDataStorage||(t.EProofmeDataStorage={})).DATABASE="DATABASE",n.CERTIFICATE="CERTIFICATE",n.NOT_STORED="NOT_STORED"},2178:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ESignatureTypes=void 0,(n=t.ESignatureTypes||(t.ESignatureTypes={})).ECDSA="ECDSA",n.RSA="RSA",n.HMAC="HMAC"},6498:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRTCConnectionConfig=t.validChannelId=void 0;const o=r(n(6113));t.validChannelId=function(e,t){return 1===t.filter((t=>t.uuid===e&&null===t.channel&&!0===t.host)).length},t.getRTCConnectionConfig=function(e,t,n,r){const i=`${Math.floor(Date.now()/1e3)+t}:${e}`;return{iceCandidatePoolSize:5,iceServers:[{urls:r,credential:o.default.createHmac("sha1",n).update(i.toString()).digest("base64"),username:i}]}}},1015:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtilsProvider=void 0;const o=n(2254),i=n(5583);let s=class{proofmeUtils=new i.ProofmeUtils;async isValidCredentials(e,t,n,r,o,i){return this.proofmeUtils.isValidCredentials(e,t,n,r,o,i)}getSignature(e,t){return this.proofmeUtils.getSignature(e,t)}signCredentialObject(e,t){return this.proofmeUtils.signCredentialObject(e,t)}signRequestedCredentials(e,t,n){return this.proofmeUtils.signRequestedCredentials(e,t,n)}async isValidRequestedCredentials(e,t,n){return this.proofmeUtils.isValidRequestedCredentials(e,t,n)}async isValidLicense(e,t,n){return this.proofmeUtils.isValidLicense(e,t,n)}generateChallenge(e,t,n,r){return this.proofmeUtils.generateChallenge(e,t,n,r)}async getClaim(e,t,n,r){return await this.proofmeUtils.getClaim(e,t,n,r)}};s=r([(0,o.Injectable)()],s),t.ProofmeUtilsProvider=s},5583:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtils=void 0;const o=r(n(8519)),i=n(9137),s=n(8922),a=n(2178),u=n(1485);t.ProofmeUtils=class{excludedCredentialKeys=["OWN","ADDITIONAL_INFO","SIGNATURE"];async isValidCredentials(e,t,n,r,i,s){const a=new o.default(t),u=this.requestedCredentialsCorrect(e,n);if(!u.success)return u.credentials=e,u;const c=await this.checkCredentials(e,t,i,s);if(!c.valid)return c;for(const e of r)a.utils.isAddress(e)||(console.error(`Trusted party did ${e} is NOT a valid address and is removed.`),r=r.filter((t=>t!==e)));if(r.length>0){const t=[];let n=0,o=0;const i=[];for(const[s]of Object.entries(e.credentials))if(!this.excludedCredentialKeys.includes(s))for(const[u,c]of Object.entries(e.credentials[s].credentials)){o++;const e=c.issuer.id.split(":")[2];let s=!1,l=null,f=null,d=!0;for(const o of r){const r=t.find((t=>t.issuerDidContractAddress===e&&t.did===o));let p=null;if(r?p=r.claim:(p=await this.getClaims(e,o,a),t.push({issuerDidContractAddress:e,did:o,claim:p})),p)if(d=!1,new Date(p.expirationDate)>new Date){const e=p.keys;f=e;const t=`${c.provider}_${u}`;if(!e.includes(t)){l=t;break}if(!l){n++,s=!0;break}}else i.push({credential:c,valid:!1,code:14,message:"Claim expired."})}d?i.push({credential:c,valid:!1,code:13,message:`No claims found to check. Checked dids ${r}`}):!l||s||i.push({credential:c,valid:!1,code:12,message:`Tried to validate attribute ${l} but provider was not allowed to issue. Allowed attributes: ${f.join(", ")}`})}return n===o?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential",requestedCheckResult:u}:{valid:!1,code:1,message:"Invalid credentials",invalidCredentials:i}}return{valid:!1,code:10,message:"No trusted parties to check."}}async checkCredentials(e,t,n,r){"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e);const i=new o.default(t),s=[];let a=0,c=0;const l=[];for(const[o]of Object.entries(e.credentials)){if(this.excludedCredentialKeys.includes(o))continue;const f={credentials:{[o]:JSON.parse(JSON.stringify(e.credentials[o]))}};delete f.credentials[o].proof.signature;const d=i.eth.accounts.recover(JSON.stringify(f),e.credentials[o].proof.signature);if(this.userCredentialSignatureWrong(e.credentials[o].proof.holder,d))for(const[,f]of Object.entries(e.credentials[o].credentials)){if(c++,!f.version){l.push({credential:f,code:8,message:"Incorrect credential version. Renew your credentials"});continue}const d=new Date(f.expirationDate),p=new Date;if(p>d){l.push({credential:f,code:7,message:`Your credential expired on ${d}`});continue}const h=new Date(e.credentials[o].proof.nonce);if(this.calculateMinutesDifference(p,h)>5&&n)l.push({credential:f,code:2,message:"Nonce too old"});else if(this.issuerCredentialSignatureWrong(f,i)){const n=f.proof.holder,c=f.issuer.id.split(":")[2];if(await this.didContractKeyWrong(i,t,u.claimHolderAbi,n,c,s)){const n=e.credentials[o].proof.holder,c=f.id.split(":")[2];await this.didContractKeyWrong(i,t,u.claimHolderAbi,n,c,s)?r&&void 0!==f.verified&&!0!==f.verified?l.push({credential:f,code:15,message:"Liveness check required but credential not verified"}):a++:l.push({credential:f,code:6,message:"User did incorrect"})}else l.push({credential:f,code:5,message:"Issuer did incorrect"})}else l.push({credential:f,code:4,message:"Issuer signature incorrect"})}else l.push({credential:e.credentials[o],code:3,message:"User signature incorrect"})}return c>0&&a===c?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential"}:{valid:!1,code:1,message:"Invalid credential",invalidCredentials:l}}userCredentialSignatureWrong(e,t){return e===t||(console.error(`User signature of credential ${e} does not match recoveredAddress ${t}`),!1)}issuerCredentialSignatureWrong(e,t){const n=e.proof.signature,r=e.proof.holder,o=JSON.parse(JSON.stringify(e));delete o.proof.signature;const i=t.eth.accounts.recover(JSON.stringify(o),n);return r===i||(console.error(`Issuer signature of credential ${r} does not match recoveredAddress ${i}`),!1)}async didContractKeyWrong(e,t,n,r,i,s){const a=s.find((e=>e.did==i&&e.holderKey===r));if(a)return a.result;{const a=[];if(i===r)return s.push({did:i,holderKey:r,result:!0}),!0;{const u=this.getSha3Key(r,e),c=new(new o.default(t).eth.Contract)(n,i);if(!this.knownAddressesContains(a,u,i)){const e=parseInt(await this.getKeyPurpose(c,u),10);if(0===e||e>3)return s.push({did:i,holderKey:r,result:!1}),!1;a.push({sha3Key:u,didAddress:i})}return s.push({did:i,holderKey:r,result:!0}),!0}}}knownAddressesContains(e,t,n){for(const r of e)if(r.sha3Key===t&&r.didContractAddress===n)return!0}getSha3Key(e,t){return t.utils.keccak256(e)}async getKeyPurpose(e,t){return null===e.options.address?Promise.resolve(null):await e.methods.getKeyPurpose(t).call()}calculateMinutesDifference(e,t){let n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}reOrderCredentialObject(e){for(const t of Object.keys(e.credentials)){const n=[];for(const r of Object.keys(e.credentials[t].credentials))n.push(r);n.sort();const r={};for(const o of n){const n=this.reOrderCredential(e.credentials[t].credentials[o]);r[o]=n}e.credentials[t].proof=this.reOrderCredentialProof(e.credentials[t].proof),e.credentials[t]={credentials:r,proof:e.credentials[t].proof}}return e}reOrderCredential(e){return this.sortObjectAlphabetically(e)}sortObjectAlphabetically(e){const t={},n=Object.keys(e);n.sort(((e,t)=>(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0));for(const r in n){const o=n[r];null===e[o]||"object"!=typeof e[o]||e[o]instanceof Array?t[o]=e[o]:t[o]=this.sortObjectAlphabetically(e[o])}return t}reOrderCredentialProof(e){return{holder:e.holder,nonce:e.nonce,signature:e.signature,type:e.type}}getSignature(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderObject(e),(new o.default).eth.accounts.sign(JSON.stringify(e),t).signature}reOrderObject(e){return this.sortObjectAlphabetically(e)}signCredentialObject(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e),(new o.default).eth.accounts.sign(JSON.stringify(e),t).signature}async getClaims(e,t,n){const r=new n.eth.Contract(u.claimHolderAbi,t),o=await r.methods.getClaimIdsByType(e).call();if(!(o.length>0))return Promise.resolve(null);try{const e=await r.methods.getClaim(o[o.length-1]).call(),t=JSON.parse(n.utils.toAscii(e.data));return Promise.resolve(t)}catch(e){return Promise.resolve(null)}}async getClaim(e,t,n,r){const i=new o.default(n),s=new i.eth.Contract(r,t),a=await s.methods.getClaimIdsByType(e).call();if(!(a.length>0))return Promise.resolve(null);try{const e=await s.methods.getClaim(a[a.length-1]).call(),t=i.utils.toAscii(e.data);if(t.length>1){const e=JSON.parse(t);return Promise.resolve(e)}return Promise.resolve(null)}catch(e){return console.log("Error: ",e),Promise.resolve(null)}}requestedCredentialsCorrect(e,t){const n={success:!0,missingKeys:[]};for(const r of t.credentials)if(r.required&&"ADDITIONAL_INFO"===r.provider){const t=Object.keys(e.credentials[r.provider].credentials);for(const o of t){const t=e.credentials[r.provider].credentials[o];t.required&&t.key.find((e=>!e.answer))&&(n.success=!1,n.missingKeys.push(t))}}else if(r.required){Array.isArray(r.provider)||(r.provider=[r.provider]);let t=!1;for(const n of r.provider)e.credentials[n]&&e.credentials[n].credentials&&e.credentials[n].credentials[r.key]&&(t=!0);t||(n.success=!1,n.missingKeys.push(r))}return n}recoverAddressFromSignature(e,t,n){const r=new o.default;return!0===n?(e=this.sortObjectAlphabetically(JSON.parse(e)),r.eth.accounts.recover(JSON.stringify(e),t)):r.eth.accounts.recover(e,t)}signRequestedCredentials(e,t,n){e.proof={holder:t,nonce:Date.now(),type:a.ESignatureTypes.ECDSA};const r=this.getSignature(e,n);return e.proof.signature=r,e}async isValidRequestedCredentials(e,t,n){if(e?.proof?.signature){const r=JSON.parse(JSON.stringify(e));delete r.proof.signature;const i=this.recoverAddressFromSignature(JSON.stringify(r),e.proof.signature,!0),a=new o.default(t),u=e.proof.holder,c=new a.eth.Contract(n,u),l=this.getSha3Key(i,a),f=await this.getKeyPurpose(c,l);return f===s.EDIDAccessLevel.MANAGEMENT_KEY||f===s.EDIDAccessLevel.ACTION_KEY}return console.error("Requested Credentials doesn't have a signature in the proof. Not checking"),!1}async isValidLicense(e,t,n){const r=e.proof.holder,o=(await this.getClaim(i.EClaimType.COMPANY_INFO,r,t,n))?.credentialSubject?.credential?.value?.status;return!!o&&!0===o}privateKeyToPublicKey(e){return(new o.default).eth.accounts.privateKeyToAccount(e).address}generateChallenge(e,t,n,r){const i=new o.default,s=Math.floor(Date.now()/1e3).toString(),a=`${e}-${t}-${n}-${s}`;return{did:t,publicKey:e,endpoint:n,timestamp:s,challenge:a,signature:i.eth.accounts.sign(a,r).signature}}}},5456:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SignalServerV2=void 0;const r=n(1964),o=n(5828),i=n(367),s=n(6498),a=n(593);t.SignalServerV2=class{wsServer;wsRequest$=new r.Subject;startSignal(e){this.wsServer=new i.server({httpServer:e,autoAcceptConnections:!1}),this.wsServer.on("request",(async e=>{this.wsRequest$.next(e)}))}sendTo(e,t){e?e.sendUTF(JSON.stringify(t)):console.error("Tried to send this over undefined connection:",t)}rejectConnection(e,t){t.reject(),console.error((new Date).toISOString()+" "+e),console.error((new Date).toISOString()+" Connection from remoteAddress "+t.remoteAddresses+" rejected.")}async setupP2PConnection(e,t,n,r,i,u,c,l,f,d,p,h){const v=e.accept(null,e.origin);if(console.log(`Library - Accepted ${e.origin} valid signed ${t}`),v.uuid=(0,o.v4)(),v.did=t?e?.resourceURL?.query?.did?.toString():null,v.publicKey=t?e?.resourceURL?.query?.publickey?.toString():null,v.authenticated=t,v.channel=n,this.setupWebsocketListeners(v),"validator"===h&&t&&null===n||r&&null===n){v.host=!0,v.origin=h;const e=(0,s.getRTCConnectionConfig)("host",i,c,u);console.log("Library - Host waiting for connection"),this.sendTo(v,{type:"host",success:!0,message:`Host initialised ${v.uuid}`,channelId:v.uuid,signalServer:l,..."validator"===h&&{webRtcConnectionConfig:e}}),"validator"!==h&&(v.webRtcClient=new a.WebRTCClientV2(e,f,v,d,p),await v.webRtcClient.setupPeerconnection(v.uuid))}else if(null!==n){const e=this.wsServer.connections.find((e=>e.uuid===n&&null===e.channel&&!0===e.host));if(e){e.channel=v.uuid,v.channel=e.uuid,console.log(`Library - Client connecting to ${n}`);const t=(0,s.getRTCConnectionConfig)("client",i,c,u);this.sendTo(v,{type:"client",success:!0,message:`Client initialised ${v.uuid}`,channelId:n,webRtcConnectionConfig:t}),"validator"!==e.origin&&(e.webRtcClient.clientChannel=v,e.webRtcClient.data={...e.webRtcClient.data,clientData:p})}else v.close()}else console.error("Library - Not a client or host"),v.close();return v}setupWebsocketListeners(e){e.on("message",(async t=>{let n;try{"utf8Data"in t&&(n=JSON.parse(t.utf8Data))}catch(e){console.error("Library - Websocket connection invalid JSON",e),n={type:null}}const{type:r,offer:o,answer:i,candidate:s}=n;switch(r){case"offer":if(!e.host&&e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid&&!0===t.host));t?"validator"===t.origin?this.sendTo(t,{type:"offer",success:!0,message:"Client shared an offer",offer:o}):(await t.webRtcClient.setRemoteDescription(o),await t.webRtcClient.sendAnswer()):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close();break;case"answer":if(e.host&&e.channel&&"validator"===e.origin){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));t?this.sendTo(t,{type:"answer",success:!0,message:"Client shared an answer",answer:i}):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close();break;case"candidate":if(e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));t?"validator"===t.origin||"validator"===e.origin?this.sendTo(t,{type:"candidate",success:!0,message:"Candidate shared",candidate:s}):t.webRtcClient.addCandidate(s):console.error("Couldn't find connection on uuid:",e.uuid)}else e.close()}})),e.on("close",((t,n)=>{console.log(`Library - ${(new Date).toISOString()} - Peer ${e.remoteAddress} disconnected, Reason ${t}, description ${n}`)}))}}},2582:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingServer=void 0;const s=i(n(5352)),a=n(5828),u=i(n(6113));t.SignalingServer=class{wsServer;rtcConnectionConfig;setRTCConnectionConfig(e){this.rtcConnectionConfig=e}getRTCConnectionConfig(e){if(this.rtcConnectionConfig.turnEnabled){const t=`${Math.floor(Date.now()/1e3)+this.rtcConnectionConfig.turnExpiration}:${e}`,n=u.createHmac("sha1",this.rtcConnectionConfig.turnSecret).update(t.toString()).digest("base64");return{iceCandidatePoolSize:5,iceServers:[{urls:this.rtcConnectionConfig.turnUrl,credential:n,username:t}]}}if(this.rtcConnectionConfig.stunEnabled)return{iceServers:[{urls:this.rtcConnectionConfig.stunUrl}]}}startSignal(e){this.wsServer=new s.Server({server:e});const t=(e,t)=>{e.send(JSON.stringify(t))};this.wsServer.on("connection",(e=>{e.uuid=(0,a.v4)(),e.did=null,e.host=!1,e.authenticated=!1,e.connected=null,e.on("error",(e=>{})),e.on("message",(n=>{let r;try{r=JSON.parse(n)}catch(e){r={}}const{type:o,token:i,host:s,offer:u,answer:c,candidate:l}=r;switch(o){case"auth":i?(e.authenticated=!0,t(e,{type:"AUTH",success:!0,message:"Authentication successful"})):t(e,{type:"auth",success:!1,message:"Could not validate token"});break;case"host":e.host=!0,t(e,{type:"host",success:!0,message:"Host initialised "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")});break;case"ping":t(e,{type:"pong"});break;case"connect":{const n=[...this.wsServer.clients].filter((e=>e.uuid===s&&null===e.connected&&!0===e.host));1===n.length?(t(n[0],{type:"connected",success:!0,message:"Client connected "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")}),t(e,{type:"connected",success:!0,message:"Connected to "+s,webRtcConnectionConfig:this.getRTCConnectionConfig("client")}),e.connected=n[0].uuid,n[0].connected=e.uuid):t(e,{type:"connected",success:!1,message:"Could not connect to "+s});break}case"offer":if(null!=e.connected&&this.wsServer.clients.size>0){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"offer",success:!0,offer:u}),t(e,{type:"offer",success:!0,offer:u})):t(e,{type:"offer",success:!1,offer:u,message:"Connection not found."})}else t(e,{type:"offer",success:!1,offer:u,message:"Too soon..."});break;case"answer":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"answer",success:!0,answer:c}),t(e,{type:"answer",success:!0,answer:c})):t(e,{type:"answer",success:!1,answer:c,message:"Connection not found."})}else t(e,{type:"answer",success:!1,answer:c,message:"Too soon..."});break;case"candidate":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?t(n[0],{type:"candidate",success:!0,candidate:l}):t(e,{type:"candidate",success:!1,candidate:l,message:"Connection not found."})}else t(e,{type:"candidate",success:!1,candidate:l,message:"Too soon..."});break;case"leave":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));e.uuid=(0,a.v4)(),1===n.length?(t(n[0],{type:"leave",success:!0,message:"Connection left on receive leave"}),n[0].connected=null,t(e,{type:"leave",success:!0,message:"Connection left.",uuid:e.uuid})):t(e,{type:"leave",success:!1,message:"Connection not found.",uuid:e.uuid}),e.connected=null}else e.uuid=(0,a.v4)(),t(e,{type:"leave",success:!1,message:"Not connected to host/client.",uuid:e.uuid});break;default:t(e,{type:"error",message:"Command not found: "+o})}})),e.on("close",((e,n,r)=>{if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length&&(t(n[0],{type:"leave",success:!0,message:"Connection left on websocket close"}),n[0].connected=null),e.connected=null}})),e.send(JSON.stringify({type:"connect",message:"Well hello there, I am the Signaling Server",success:!0}))}))}}},1485:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.claimHolderAbi=void 0,t.claimHolderAbi=[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}]},3002:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Identity=void 0,t.Identity={abi:[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_str",type:"bytes"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getBytes",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getString",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_claimType",type:"uint256[]"},{name:"_scheme",type:"uint256[]"},{name:"_issuer",type:"address[]"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"},{name:"_sigSizes",type:"uint256[]"},{name:"dataSizes",type:"uint256[]"},{name:"uriSizes",type:"uint256[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}],data:"60806040523480156200001157600080fd5b50604051620033333803806200333383398101806040528101908080518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919050505060008060008060008033604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209050806001600083600019166000191681526020019081526020016000206002018160001916905550600180600083600019166000191681526020019081526020016000206000018190555060018060008360001916600019168152602001908152602001600020600101819055506002600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550600180600083600019166000191681526020019081526020016000206000015482600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a450600093506000925060009150600090505b8d51811015620007ba578b818151811015156200020f57fe5b906020019060200201518e828151811015156200022857fe5b90602001906020020151604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401828152602001925050506040518091039020945060c0604051908101604052808f83815181101515620002a657fe5b9060200190602002015181526020018e83815181101515620002c457fe5b9060200190602002015181526020018d83815181101515620002e257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1681526020016200033b8d878c868151811015156200031c57fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003748c858b868151811015156200035557fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003ad8b868a868151811015156200038e57fe5b90602001906020020151620008da640100000000026401000000009004565b815250600460008760001916600019168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301908051906020019062000444929190620009ec565b50608082015181600401908051906020019062000463929190620009ec565b5060a08201518160050190805190602001906200048292919062000a73565b5090505087818151811015156200049557fe5b90602001906020020151840193508581815181101515620004b257fe5b90602001906020020151830192508681815181101515620004cf57fe5b906020019060200201518201915060046000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600087600019166000191681526020019081526020016000206000015486600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c5600460008a6000191660001916815260200190815260200160002060010154600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501604051808581526020018060200180602001806020018481038452878181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156200068b5780601f106200065f576101008083540402835291602001916200068b565b820191906000526020600020905b8154815290600101906020018083116200066d57829003601f168201915b5050848103835286818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007125780601f10620006e65761010080835404028352916020019162000712565b820191906000526020600020905b815481529060010190602001808311620006f457829003601f168201915b5050848103825285818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007995780601f106200076d5761010080835404028352916020019162000799565b820191906000526020600020905b8154815290600101906020018083116200077b57829003601f168201915b505097505050505050505060405180910390a48080600101915050620001f6565b505050505050505050505050505062000b22565b606080600080846040519080825280601f01601f191660200182016040528015620008085781602001602082028038833980820191505090505b509250600091508590505b848601811015620008cd5786818151811015156200082d57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200088757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000813565b8293505050509392505050565b6060806060600080879350856040519080825280601f01601f191660200182016040528015620009195781602001602082028038833980820191505090505b509250600091508690505b858701811015620009de5783818151811015156200093e57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200099857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000924565b829450505050509392505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000a2f57805160ff191683800117855562000a60565b8280016001018555821562000a60579182015b8281111562000a5f57825182559160200191906001019062000a42565b5b50905062000a6f919062000afa565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000ab657805160ff191683800117855562000ae7565b8280016001018555821562000ae7579182015b8281111562000ae657825182559160200191906001019062000ac9565b5b50905062000af6919062000afa565b5090565b62000b1f91905b8082111562000b1b57600081600090555060010162000b01565b5090565b90565b6128018062000b326000396000f3006080604052600436106100d0576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063032c1a8a146100d557806312aaac701461011a5780631d38124014610175578063262b54f5146101d25780634eee424a146102545780635d2cfd611461029d578063747442d314610393578063862642f5146103e45780639010f7261461042d578063b1a34e0d146104af578063b61d27f6146105f4578063c9100bcb1461069b578063d202158d1461085e578063df9319be146108b1575b600080fd5b3480156100e157600080fd5b5061010460048036038101908080356000191690602001909291905050506109a7565b6040518082815260200191505060405180910390f35b34801561012657600080fd5b5061014960048036038101908080356000191690602001909291905050506109cf565b604051808481526020018381526020018260001916600019168152602001935050505060405180910390f35b34801561018157600080fd5b506101b860048036038101908080356000191690602001909291908035906020019092919080359060200190929190505050610a3e565b604051808215151515815260200191505060405180910390f35b3480156101de57600080fd5b506101fd60048036038101908080359060200190929190505050610cf7565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610240578082015181840152602081019050610225565b505050509050019250505060405180910390f35b34801561026057600080fd5b506102836004803603810190808035600019169060200190929190505050610d66565b604051808215151515815260200191505060405180910390f35b3480156102a957600080fd5b50610318600480360381019080803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190803590602001909291905050506111e4565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561035857808201518184015260208101905061033d565b50505050905090810190601f1680156103855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561039f57600080fd5b506103ca600480360381019080803590602001909291908035151590602001909291905050506112eb565b604051808215151515815260200191505060405180910390f35b3480156103f057600080fd5b5061041360048036038101908080356000191690602001909291905050506117ff565b604051808215151515815260200191505060405180910390f35b34801561043957600080fd5b506104586004803603810190808035906020019092919050505061196a565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561049b578082015181840152602081019050610480565b505050509050019250505060405180910390f35b3480156104bb57600080fd5b506105d66004803603810190808035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506119d9565b60405180826000191660001916815260200191505060405180910390f35b34801561060057600080fd5b50610685600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611efe565b6040518082815260200191505060405180910390f35b3480156106a757600080fd5b506106ca60048036038101908080356000191690602001909291905050506121e0565b604051808781526020018681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015610750578082015181840152602081019050610735565b50505050905090810190601f16801561077d5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b838110156107b657808201518184015260208101905061079b565b50505050905090810190601f1680156107e35780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b8381101561081c578082015181840152602081019050610801565b50505050905090810190601f1680156108495780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b34801561086a57600080fd5b506108976004803603810190808035600019169060200190929190803590602001909291905050506124aa565b604051808215151515815260200191505060405180910390f35b3480156108bd57600080fd5b5061092c600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919080359060200190929190505050612513565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561096c578082015181840152602081019050610951565b50505050905090810190601f1680156109995780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000600160008360001916600019168152602001908152602001600020600001549050919050565b60008060006001600085600019166000191681526020019081526020016000206000015460016000866000191660001916815260200190815260200160002060010154600160008760001916600019168152602001908152602001600020600201549250925092509193909250565b60008360001916600160008660001916600019168152602001908152602001600020600201546000191614151515610ade576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f4b657920616c726561647920657869737473000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610c0957610b6e33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610c08576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8360016000866000191660001916815260200190815260200160002060020181600019169055508260016000866000191660001916815260200190815260200160002060000181905550816001600086600019166000191681526020019081526020016000206001018190555060026000848152602001908152602001600020849080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550818385600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b606060056000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610d5a57602002820191906000526020600020905b81546000191681526020019060010190808311610d42575b50505050509050919050565b60003073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e9357610df833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610e92576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600084600019166000191681526020019081526020016000206000015483600019167f3cf57863a89432c61c4a27073c6ee39e8a764bff5a05aebfbcdcdc80b2e6130a60046000876000191660001916815260200190815260200160002060010154600460008860001916600019168152602001908152602001600020600301600460008960001916600019168152602001908152602001600020600401600460008a600019166000191681526020019081526020016000206005016040518085815260200180602001806020018060200184810384528781815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561103d5780601f106110125761010080835404028352916020019161103d565b820191906000526020600020905b81548152906001019060200180831161102057829003601f168201915b50508481038352868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156110c05780601f10611095576101008083540402835291602001916110c0565b820191906000526020600020905b8154815290600101906020018083116110a357829003601f168201915b50508481038252858181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156111435780601f1061111857610100808354040283529160200191611143565b820191906000526020600020905b81548152906001019060200180831161112657829003601f168201915b505097505050505050505060405180910390a460046000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556003820160006111b99190612620565b6004820160006111c99190612620565b6005820160006111d99190612668565b505060019050919050565b606080600080846040519080825280601f01601f19166020018201604052801561121d5781602001602082028038833980820191505090505b509250600091508590505b8486018110156112de57868181518110151561124057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838381518110151561129957fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535081806001019250508080600101915050611228565b8293505050509392505050565b600061134833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b15156113bc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f53656e64657220646f6573206e6f74206861766520616374696f6e206b65790081525060200191505060405180910390fd5b827fb3932da477fe5d6c8ff2eafef050c0f3a1af18fc07121001482600f36f3715d883604051808215151515815260200191505060405180910390a26001151582151514156117c55760016003600085815260200190815260200160002060030160006101000a81548160ff0219169083151502179055506003600084815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660036000858152602001908152602001600020600201600060405180838054600181600116156101000203166002900480156114fe5780601f106114d3576101008083540402835291602001916114fe565b820191906000526020600020905b8154815290600101906020018083116114e157829003601f168201915b50508260ff168152602001925050506000604051808303816000865af19150509050801561168d5760016003600085815260200190815260200160002060030160016101000a81548160ff02191690831515021790555060036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847f1f920dbda597d7bf95035464170fa58d0a4b57f13a1c315ace6793b9f63688b860036000888152602001908152602001600020600201604051808060200182810382528381815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561167a5780601f1061164f5761010080835404028352916020019161167a565b820191906000526020600020905b81548152906001019060200180831161165d57829003601f168201915b50509250505060405180910390a46117f9565b60036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847fe10c49d9f7c71da23262367013434763cfdb2332267641728d25cd712c5c6a686003600088815260200190815260200160002060020160405180806020018281038252838181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156117b25780601f10611787576101008083540402835291602001916117b2565b820191906000526020600020905b81548152906001019060200180831161179557829003601f168201915b50509250505060405180910390a46117f9565b60006003600085815260200190815260200160002060030160006101000a81548160ff021916908315150217905550600190505b92915050565b60008160001916600160008460001916600019168152602001908152602001600020600201546000191614151561189e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f4e6f2073756368206b657900000000000000000000000000000000000000000081525060200191505060405180910390fd5b600160008360001916600019168152602001908152602001600020600101546001600084600019166000191681526020019081526020016000206000015460016000856000191660001916815260200190815260200160002060020154600019167f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460016000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160009055505060019050919050565b6060600260008381526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156119cd57602002820191906000526020600020905b815460001916815260200190600101908083116119b5575b50505050509050919050565b6000808588604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182815260200192505050604051809103902090503073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611b6257611ac733604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060036124aa565b1515611b61576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001807f53656e64657220646f6573206e6f74206861766520636c61696d207369676e6581526020017f72206b657900000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8573ffffffffffffffffffffffffffffffffffffffff1660046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141515611c1957600560008981526020019081526020016000208190806001815401808255809150509060018203906000526020600020016000909192909190915090600019169055505b876004600083600019166000191681526020019081526020016000206000018190555086600460008360001916600019168152602001908152602001600020600101819055508560046000836000191660001916815260200190815260200160002060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550846004600083600019166000191681526020019081526020016000206003019080519060200190611cee9291906126b0565b50836004600083600019166000191681526020019081526020016000206004019080519060200190611d219291906126b0565b50826004600083600019166000191681526020019081526020016000206005019080519060200190611d54929190612730565b508573ffffffffffffffffffffffffffffffffffffffff168882600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c58a89898960405180858152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015611de5578082015181840152602081019050611dca565b50505050905090810190601f168015611e125780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015611e4b578082015181840152602081019050611e30565b50505050905090810190601f168015611e785780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015611eb1578082015181840152602081019050611e96565b50505050905090810190601f168015611ede5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a4809150509695505050505050565b6000600360008054815260200190815260200160002060030160019054906101000a900460ff16151515611f9a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f416c72656164792065786563757465640000000000000000000000000000000081525060200191505060405180910390fd5b83600360008054815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508260036000805481526020019081526020016000206001018190555081600360008054815260200190815260200160002060020190805190602001906120379291906126b0565b50828473ffffffffffffffffffffffffffffffffffffffff166000547f8afcfabcb00e47a53a8fc3e9f23ff47ee1926194bb1350dd007c50b412a6cee8856040518080602001828103825283818151815260200191508051906020019080838360005b838110156120b557808201518184015260208101905061209a565b50505050905090810190601f1680156120e25780820380516001836020036101000a031916815260200191505b509250505060405180910390a461214a33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b806121ac57506121ab33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b5b156121c0576121be60005460016112eb565b505b600080815480929190600101919050555060016000540390509392505050565b600080600060608060606004600088600019166000191681526020019081526020016000206000015460046000896000191660001916815260200190815260200160002060010154600460008a6000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501828054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123565780601f1061232b57610100808354040283529160200191612356565b820191906000526020600020905b81548152906001019060200180831161233957829003601f168201915b50505050509250818054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123f25780601f106123c7576101008083540402835291602001916123f2565b820191906000526020600020905b8154815290600101906020018083116123d557829003601f168201915b50505050509150808054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561248e5780601f106124635761010080835404028352916020019161248e565b820191906000526020600020905b81548152906001019060200180831161247157829003601f168201915b5050505050905095509550955095509550955091939550919395565b6000806000600102600160008660001916600019168152602001908152602001600020600201546000191614156124e4576000915061250c565b8260016000866000191660001916815260200190815260200160002060000154111590508091505b5092915050565b6060806060600080879350856040519080825280601f01601f1916602001820160405280156125515781602001602082028038833980820191505090505b509250600091508690505b85870181101561261257838181518110151561257457fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156125cd57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505061255c565b829450505050509392505050565b50805460018160011615610100020316600290046000825580601f106126465750612665565b601f01602090049060005260206000209081019061266491906127b0565b5b50565b50805460018160011615610100020316600290046000825580601f1061268e57506126ad565b601f0160209004906000526020600020908101906126ac91906127b0565b5b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106126f157805160ff191683800117855561271f565b8280016001018555821561271f579182015b8281111561271e578251825591602001919060010190612703565b5b50905061272c91906127b0565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061277157805160ff191683800117855561279f565b8280016001018555821561279f579182015b8281111561279e578251825591602001919060010190612783565b5b5090506127ac91906127b0565b5090565b6127d291905b808211156127ce5760008160009055506001016127b6565b5090565b905600a165627a7a723058200017634e62c856198c9c8d204756bd9ed5e12ca97b230682c6cc941e813b81330029"}},6919:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSubDomain=void 0,t.getSubDomain=function(e){return e?.replace("http://","").replace("https://","").split(":")[0]}},3817:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkKeyForDid=void 0;const o=n(3002),i=r(n(8519));t.checkKeyForDid=async function(e,t,n,r){try{const s=new i.default(e),a=new s.eth.Contract(o.Identity.abi,t),u=s.utils.sha3(n);return await a.methods.keyHasPurpose(u,r).call()}catch(e){return console.log("Library - Something went wrong: "+e),!1}}},2733:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcProvider=void 0;const o=n(2254),i=n(1964),s=n(1904),a=n(367);let u=class{webRtcConfig;hostUuid;peerConnection=null;dataChannel=null;wsClient=null;receivedActions$=new i.BehaviorSubject(null);uuid$=new i.BehaviorSubject(null);websocketMessage$=new i.BehaviorSubject(null);websocketConnectionClosed$=new i.BehaviorSubject(null);websocketConnectionOpen$=new i.BehaviorSubject(null);websocketConnectionError$=new i.BehaviorSubject(null);webRtcConnectionConfig;connectionTimeout=null;pongCheckInterval=null;pingTimeout=null;WEBSOCKET_PING_ANSWER_DELAY=1e3;WEBSOCKET_PING_PONG_ALLOWED_TIME=3e3;getConfig(){return this.webRtcConfig}setHostUuid(e){this.hostUuid=e}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}'`),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Websocket - Attempted to send data with action ${e} but data channel is not open`)}sendWebsocketData(e,t){return this.wsClient&&this.wsClient.readyState===this.wsClient.OPEN?(this.wsClient.send(JSON.stringify({action:e,...t})),!0):(console.error(`Websocket - Attempted to send data with action ${e} but websocket channel is not open`),!1)}getWebsocket(){return this.wsClient}setUuid(e){this.uuid$.next(e)}disconnect(){clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),this.peerConnection&&this.peerConnection.close(),this.dataChannel&&this.dataChannel.close(),this.wsClient&&(this.wsClient.close(),this.wsClient.onclose=null),this.peerConnection=null,this.dataChannel=null,this.wsClient=null,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)}remoteDisconnect(){this.dataChannel&&"open"===this.dataChannel.readyState&&this.dataChannel.send(JSON.stringify({action:"disconnect"})),setTimeout((()=>{this.disconnect()}),1e3)}async sendOffer(e,t){const n=await e.createOffer();await e.setLocalDescription(n),t.send(JSON.stringify({type:"offer",offer:n}))}async launchWebsocketClient(e,t){this.webRtcConfig=e;let n=null;this.receivedActions$=new i.BehaviorSubject(null),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.uuid$=new i.BehaviorSubject(null),this.websocketMessage$=new i.BehaviorSubject(null),this.websocketConnectionClosed$=new i.BehaviorSubject(null),this.websocketConnectionOpen$=new i.BehaviorSubject(null),this.websocketConnectionError$=new i.BehaviorSubject(null);let r=this.webRtcConfig.signalingUrl;r||(console.log("Launch websocket - URL undefined, falling back to default"),r="wss://auth.proofme.id"),console.log("Launch websocket - Client URL:",r),console.log("Launch websocket - Channel:",e.channel),console.log("Launch websocket - Headers:",t);let o=null;o=r.includes("?")?`${r}&channel=${e.channel}`:`${r}?channel=${e.channel}`,e.data&&(o=`${o}&data=${e.data}`),e.keepalive&&(o=`${o}&keepalive=${e.keepalive}`),this.wsClient=new a.w3cwebsocket(o,null,null,t),this.connectionTimeout=setTimeout((()=>{!0!==n&&(this.websocketConnectionError$.next(!0),this.wsClient&&this.wsClient.close())}),1e4),this.wsClient.onerror=e=>{console.log("Websocket - Error: "+e.toString()),n=!1,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1),this.websocketConnectionError$.next(!0)},this.wsClient.onclose=()=>{console.log("Websocket - Connection closed"),this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)},this.wsClient.onopen=()=>{console.log("Websocket - Connection open"),n=!0,this.websocketConnectionClosed$.next(!1),this.websocketConnectionOpen$.next(!0)},this.wsClient.onmessage=async e=>{if(console.log("Websocket - Message:",e),this.websocketMessage$.next(e),e.data){let t;try{t=JSON.parse(e.data)}catch(e){console.error("Websocket - Message was not JSON"),t={}}const{type:n,message:r,success:o,channelId:i,offer:a,answer:u,candidate:c,webRtcConnectionConfig:l}=t;switch(n){case"error":console.log("Websocket - Error message:",r),"Command not found: ping"==r&&(clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{console.log(`Websocket - Ping pong took more than ${this.WEBSOCKET_PING_PONG_ALLOWED_TIME}ms. Disconnecting`),this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing());break;case"connect":if(o)if(this.webRtcConfig.isHost){const e=500;let t=0;const n=setInterval((()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"host"}))),t>=e&&clearInterval(n),t++}),50)}else{const e=500;let t=0;const n=setInterval((async()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"connect",host:this.hostUuid}))),t>=e&&clearInterval(n),t++}),50)}break;case"connected":clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),l&&(this.webRtcConnectionConfig=l,this.webRtcConfig.isHost||await this.setupPeerconnection(this.hostUuid)),i&&this.webRtcConfig.isHost&&await this.sendOffer(this.peerConnection,this.wsClient);break;case"pong":clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing();break;case"offer":if(a){await this.peerConnection.setRemoteDescription(new s.RTCSessionDescription(a));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.wsClient.send(JSON.stringify({type:"answer",answer:e}))}break;case"host":i&&this.webRtcConfig.isHost&&(this.setUuid(i),l&&(this.webRtcConnectionConfig=l),await this.setupPeerconnection(i),this.sendPing());break;case"leave":this.setUuid(null),this.disconnect();break;case"answer":u&&await this.peerConnection.setRemoteDescription(new s.RTCSessionDescription(u));break;case"candidate":if(c){const e=new s.RTCIceCandidate(c);await this.peerConnection.addIceCandidate(e)}break;case"client":l&&(this.webRtcConnectionConfig=l,this.webRtcConfig.isHost||(await this.setupPeerconnection(this.hostUuid),await this.sendOffer(this.peerConnection,this.wsClient)))}}}}sendPing(){this.pingTimeout=setTimeout((()=>{1===this.wsClient.readyState&&this.wsClient.send(JSON.stringify({type:"ping"}))}),this.WEBSOCKET_PING_ANSWER_DELAY)}async setupPeerconnection(e){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.sendP2PData("clientconnected",{success:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new s.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}async setupClientPeerconnection(){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.sendP2PData("clientconnected",{success:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new s.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}};u=r([(0,o.Injectable)()],u),t.WebRtcProvider=u},593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCClientV2=void 0;const r=n(1964),o=n(1904);t.WebRTCClientV2=class{peerConnection=null;dataChannel=null;clientChannel;webRtcConnectionConfig;requestedCredentials;hostWsConnection;actionType;dataChannelOpen$=new r.Subject;dataChannelMessage$=new r.Subject;data;constructor(e,t,n,r,o){this.webRtcConnectionConfig=e,this.requestedCredentials=t,this.hostWsConnection=n,this.actionType=r,this.data=o}async setupPeerconnection(e){this.peerConnection=new o.RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new o.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.clientChannel.sendUTF(JSON.stringify({type:"candidate",candidate:e.candidate}))}})),this.peerConnection.addEventListener("iceconnectionstatechange",(()=>{"disconnected"===this.peerConnection.iceConnectionState&&this.peerConnection.close()})),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{try{const t=JSON.parse(e.data);this.dataChannelMessage$.next(t)}catch(e){console.error("Could not parse message:",e)}},e.channel.onopen=async()=>{console.log("Library - Datachannel connected"),this.hostWsConnection.sendUTF(JSON.stringify({type:"clientconnected",success:!0})),this.dataChannelOpen$.next()},e.channel.onclose=e=>{console.log("Library - Datachannel onclose:",e),this.hostWsConnection.sendUTF(JSON.stringify({type:"disconnect"}))}}))}async sendOffer(){const e=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"offer",offer:e}))}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}'`),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Library - Attempted to send data with action ${e} but data channel is not open`)}async setRemoteDescription(e){await this.peerConnection.setRemoteDescription(new o.RTCSessionDescription(e))}async addCandidate(e){try{const t=new o.RTCIceCandidate(e);await this.peerConnection.addIceCandidate(t)}catch(e){console.error(e)}}async sendAnswer(){const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"answer",answer:e}))}}},1964:e=>{e.exports=require("rxjs")},5828:e=>{e.exports=require("uuid")},8519:e=>{e.exports=require("web3")},367:e=>{e.exports=require("websocket")},1904:e=>{e.exports=require("wrtc")},5352:e=>{e.exports=require("ws")},6113:e=>{e.exports=require("crypto")},2254:(e,t,n)=>{n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>fr,APP_BOOTSTRAP_LISTENER:()=>Fy,APP_ID:()=>Ty,APP_INITIALIZER:()=>Iy,ApplicationInitStatus:()=>Py,ApplicationModule:()=>fg,ApplicationRef:()=>_b,Attribute:()=>cr,COMPILER_OPTIONS:()=>Ky,CUSTOM_ELEMENTS_SCHEMA:()=>Ti,ChangeDetectionStrategy:()=>Q,ChangeDetectorRef:()=>Pb,Compiler:()=>qy,CompilerFactory:()=>Gy,Component:()=>wy,ComponentFactory:()=>sh,ComponentFactoryResolver:()=>uh,ComponentRef:()=>ih,ContentChild:()=>hr,ContentChildren:()=>pr,DEFAULT_CURRENCY_CODE:()=>Hy,DebugElement:()=>Fb,DebugEventListener:()=>kb,DebugNode:()=>Rb,DefaultIterableDiffer:()=>Gb,Directive:()=>_y,ElementRef:()=>lh,EmbeddedViewRef:()=>jb,ErrorHandler:()=>Pi,EventEmitter:()=>iv,Host:()=>Xr,HostBinding:()=>Oy,HostListener:()=>Dy,INJECTOR:()=>ku,Inject:()=>Jr,InjectFlags:()=>q,Injectable:()=>cl,InjectionToken:()=>lr,Injector:()=>Ju,Input:()=>Cy,IterableDiffers:()=>rg,KeyValueDiffers:()=>ig,LOCALE_ID:()=>$y,MissingTranslationStrategy:()=>Wy,ModuleWithComponentFactories:()=>zy,NO_ERRORS_SCHEMA:()=>Ai,NgModule:()=>Sy,NgModuleFactory:()=>Sh,NgModuleRef:()=>Dh,NgProbeToken:()=>db,NgZone:()=>Qy,Optional:()=>Zr,Output:()=>xy,PACKAGE_ROOT_URL:()=>Ly,PLATFORM_ID:()=>Ry,PLATFORM_INITIALIZER:()=>Ny,Pipe:()=>My,PlatformRef:()=>gb,Query:()=>dr,QueryList:()=>av,ReflectiveInjector:()=>Il,ReflectiveKey:()=>hl,Renderer2:()=>ph,RendererFactory2:()=>dh,RendererStyleFlags2:()=>zi,ResolvedReflectiveFactory:()=>_l,Sanitizer:()=>hh,SecurityContext:()=>ui,Self:()=>Qr,SimpleChange:()=>tt,SkipSelf:()=>Yr,TRANSLATIONS:()=>Uy,TRANSLATIONS_FORMAT:()=>By,TemplateRef:()=>uv,Testability:()=>ob,TestabilityRegistry:()=>ib,Type:()=>_r,VERSION:()=>yh,Version:()=>vh,ViewChild:()=>yr,ViewChildren:()=>vr,ViewContainerRef:()=>dv,ViewEncapsulation:()=>X,ViewRef:()=>Ab,asNativeElements:()=>Nb,assertPlatform:()=>vb,createNgModuleRef:()=>Th,createPlatform:()=>pb,createPlatformFactory:()=>hb,defineInjectable:()=>F,destroyPlatform:()=>yb,enableProdMode:()=>Db,forwardRef:()=>l,getDebugNode:()=>Wb,getModuleFactory:()=>Sb,getNgModuleById:()=>Eb,getPlatform:()=>bb,inject:()=>qr,isDevMode:()=>Ob,platformCore:()=>lg,resolveForwardRef:()=>f,setTestabilityGetter:()=>sb,ALLOW_MULTIPLE_PLATFORMS:()=>fb,APP_ID_RANDOM_PROVIDER:()=>jy,ChangeDetectorStatus:()=>Y,ComponentFactory:()=>sh,Console:()=>Vy,DEFAULT_LOCALE_ID:()=>Fd,INJECTOR_SCOPE:()=>Ru,LifecycleHooksFeature:()=>vc,LocaleDataIndex:()=>Nd,NG_COMP_DEF:()=>ce,NG_DIR_DEF:()=>le,NG_ELEMENT_ID:()=>he,NG_INJ_DEF:()=>B,NG_MOD_DEF:()=>de,NG_PIPE_DEF:()=>fe,NG_PROV_DEF:()=>U,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>bh,NO_CHANGE:()=>Hs,NgModuleFactory:()=>jh,NoopNgZone:()=>rb,ReflectionCapabilities:()=>kr,Render3ComponentFactory:()=>Ch,Render3ComponentRef:()=>xh,Render3NgModuleRef:()=>Ah,RuntimeError:()=>p,ViewRef:()=>mh,_sanitizeHtml:()=>si,_sanitizeUrl:()=>Lo,allowSanitizationBypassAndThrow:()=>Do,bypassSanitizationTrustHtml:()=>Eo,bypassSanitizationTrustResourceUrl:()=>Ao,bypassSanitizationTrustScript:()=>Po,bypassSanitizationTrustStyle:()=>Io,bypassSanitizationTrustUrl:()=>To,clearResolutionOfComponentResourcesQueue:()=>uo,compileComponent:()=>ry,compileDirective:()=>oy,compileNgModule:()=>Uv,compileNgModuleDefs:()=>Bv,compileNgModuleFactory:()=>cb,compilePipe:()=>gy,createInjector:()=>Hu,defaultIterableDiffers:()=>ug,defaultKeyValueDiffers:()=>cg,detectChanges:()=>Au,devModeEqual:()=>Ec,findLocaleData:()=>Pd,flushModuleScopingQueueAsMuchAsPossible:()=>$v,getDebugNode:()=>Wb,getDebugNodeR2:()=>zb,getDirectives:()=>tc,getHostElement:()=>rc,getInjectableDef:()=>V,getLContext:()=>gi,getLocaleCurrencyCode:()=>Td,getLocalePluralCase:()=>Ad,getSanitizationBypassType:()=>So,global:()=>ie,injectChangeDetectorRef:()=>Tb,isBoundToModule:()=>lb,isDefaultChangeDetectionStrategy:()=>ee,isListLikeIterable:()=>Ic,isObservable:()=>Wl,isPromise:()=>Ul,isSubscribable:()=>Bl,ivyEnabled:()=>dg,makeDecorator:()=>ir,markDirty:()=>ju,noSideEffects:()=>Z,patchComponentDefWithScope:()=>Yv,publishDefaultGlobalUtils:()=>cc,publishGlobalUtil:()=>lc,registerLocaleData:()=>Id,registerNgModuleType:()=>Ih,renderComponent:()=>fc,resetCompiledComponents:()=>Jv,resetJitOptions:()=>Fv,resolveComponentResources:()=>oo,setClassMetadata:()=>Oh,setCurrentInjector:()=>Ur,setDocument:()=>pt,setLocaleId:()=>Ud,store:()=>rl,stringify:()=>a,transitiveScopesFor:()=>Xv,unregisterLocaleData:()=>kd,unwrapSafeValue:()=>Oo,whenRendered:()=>yc,CopyDefinitionFeature:()=>Oc,FactoryTarget:()=>br,InheritDefinitionFeature:()=>gc,NgOnChangesFeature:()=>nt,ProvidersFeature:()=>oh,advance:()=>Us,attribute:()=>Fc,attributeInterpolate1:()=>Kc,attributeInterpolate2:()=>Gc,attributeInterpolate3:()=>Jc,attributeInterpolate4:()=>Zc,attributeInterpolate5:()=>Qc,attributeInterpolate6:()=>Yc,attributeInterpolate7:()=>Xc,attributeInterpolate8:()=>el,attributeInterpolateV:()=>tl,classMap:()=>Sf,classMapInterpolate1:()=>Qf,classMapInterpolate2:()=>Yf,classMapInterpolate3:()=>Xf,classMapInterpolate4:()=>ed,classMapInterpolate5:()=>td,classMapInterpolate6:()=>nd,classMapInterpolate7:()=>rd,classMapInterpolate8:()=>od,classMapInterpolateV:()=>id,classProp:()=>xf,contentQuery:()=>Iv,defineComponent:()=>ye,defineDirective:()=>xe,defineInjectable:()=>R,defineInjector:()=>L,defineNgModule:()=>we,definePipe:()=>Oe,directiveInject:()=>Tl,disableBindings:()=>At,element:()=>Fl,elementContainer:()=>$l,elementContainerEnd:()=>Vl,elementContainerStart:()=>Ll,elementEnd:()=>Rl,elementStart:()=>Nl,enableBindings:()=>Tt,getCurrentView:()=>Hl,getInheritedFactory:()=>Xn,hostProperty:()=>xd,i18n:()=>qp,i18nApply:()=>Jp,i18nAttributes:()=>Kp,i18nEnd:()=>zp,i18nExp:()=>Gp,i18nPostprocess:()=>Zp,i18nStart:()=>Wp,inject:()=>Wr,injectAttribute:()=>tr,invalidFactory:()=>Al,invalidFactoryDep:()=>zr,listener:()=>zl,loadQuery:()=>Pv,namespaceHTML:()=>vn,namespaceMathML:()=>hn,namespaceSVG:()=>pn,nextContext:()=>Zl,ngDeclareClassMetadata:()=>hg,ngDeclareComponent:()=>vg,ngDeclareDirective:()=>pg,ngDeclareFactory:()=>yg,ngDeclareInjectable:()=>gg,ngDeclareInjector:()=>mg,ngDeclareNgModule:()=>_g,ngDeclarePipe:()=>wg,pipe:()=>Zh,pipeBind1:()=>Qh,pipeBind2:()=>Yh,pipeBind3:()=>Xh,pipeBind4:()=>ev,pipeBindV:()=>tv,projection:()=>Xl,projectionDef:()=>Yl,property:()=>jl,propertyInterpolate:()=>ef,propertyInterpolate1:()=>tf,propertyInterpolate2:()=>nf,propertyInterpolate3:()=>rf,propertyInterpolate4:()=>of,propertyInterpolate5:()=>sf,propertyInterpolate6:()=>af,propertyInterpolate7:()=>uf,propertyInterpolate8:()=>cf,propertyInterpolateV:()=>lf,pureFunction0:()=>kh,pureFunction1:()=>Nh,pureFunction2:()=>Rh,pureFunction3:()=>Fh,pureFunction4:()=>Lh,pureFunction5:()=>Vh,pureFunction6:()=>$h,pureFunction7:()=>Hh,pureFunction8:()=>Uh,pureFunctionV:()=>Bh,queryRefresh:()=>Sv,reference:()=>ol,resolveBody:()=>$i,resolveDocument:()=>Vi,resolveWindow:()=>Li,restoreView:()=>Nt,sanitizeHtml:()=>ci,sanitizeResourceUrl:()=>di,sanitizeScript:()=>pi,sanitizeStyle:()=>li,sanitizeUrl:()=>fi,sanitizeUrlOrResourceUrl:()=>yi,setComponentScope:()=>be,setNgModuleScope:()=>Me,styleMap:()=>Of,styleMapInterpolate1:()=>sd,styleMapInterpolate2:()=>ad,styleMapInterpolate3:()=>ud,styleMapInterpolate4:()=>cd,styleMapInterpolate5:()=>ld,styleMapInterpolate6:()=>fd,styleMapInterpolate7:()=>dd,styleMapInterpolate8:()=>pd,styleMapInterpolateV:()=>hd,styleProp:()=>Cf,stylePropInterpolate1:()=>vd,stylePropInterpolate2:()=>yd,stylePropInterpolate3:()=>bd,stylePropInterpolate4:()=>gd,stylePropInterpolate5:()=>md,stylePropInterpolate6:()=>_d,stylePropInterpolate7:()=>wd,stylePropInterpolate8:()=>Md,stylePropInterpolateV:()=>Cd,syntheticHostListener:()=>ql,syntheticHostProperty:()=>Od,template:()=>nl,templateRefExtractor:()=>kv,text:()=>$f,textInterpolate:()=>Hf,textInterpolate1:()=>Uf,textInterpolate2:()=>Bf,textInterpolate3:()=>Wf,textInterpolate4:()=>zf,textInterpolate5:()=>qf,textInterpolate6:()=>Kf,textInterpolate7:()=>Gf,textInterpolate8:()=>Jf,textInterpolateV:()=>Zf,trustConstantHtml:()=>hi,trustConstantResourceUrl:()=>vi,viewQuery:()=>Ev});var r=n(1964),o=n(4857);function i(e){for(let t in e)if(e[t]===i)return t;throw Error("Could not find renamed property on target object.")}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function a(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(a).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function u(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const c=i({__forward_ref__:i});function l(e){return e.__forward_ref__=l,e.toString=function(){return a(this())},e}function f(e){return d(e)?e():e}function d(e){return"function"==typeof e&&e.hasOwnProperty(c)&&e.__forward_ref__===l}class p extends Error{constructor(e,t){super(h(e,t)),this.code=e}}function h(e,t){const n=`NG0${Math.abs(e)}`;let r=`${n}${t?": "+t:""}`;return ngDevMode&&e<0&&(r=`${r}. Find more at https://angular.io/errors/${n}`),r}function v(e){return"string"==typeof e?e:null==e?"":String(e)}function y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():v(e)}function b(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new p(-200,`Circular dependency in DI detected for ${e}${n}`)}function g(){throw new Error("Cannot mix multi providers and regular providers")}function m(e,t){const n=t?` in ${t}`:"";throw new p(-201,`No provider for ${y(e)} found${n}`)}function _(e,t){"number"!=typeof e&&A(t,typeof e,"number","===")}function w(e,t,n){_(e,"Expected a number"),E(e,n,"Expected number to be less than or equal to"),P(e,t,"Expected number to be greater than or equal to")}function M(e,t){"string"!=typeof e&&A(t,null===e?"null":typeof e,"string","===")}function C(e,t,n){e!=t&&A(n,e,t,"==")}function x(e,t,n){e==t&&A(n,e,t,"!=")}function O(e,t,n){e!==t&&A(n,e,t,"===")}function D(e,t,n){e===t&&A(n,e,t,"!==")}function S(e,t,n){e<t||A(n,e,t,"<")}function E(e,t,n){e<=t||A(n,e,t,"<=")}function I(e,t,n){e>t||A(n,e,t,">")}function P(e,t,n){e>=t||A(n,e,t,">=")}function T(e,t){null==e&&A(t,e,null,"!=")}function A(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function j(e){"undefined"!=typeof Node&&e instanceof Node||"object"==typeof e&&null!=e&&"WebWorkerRenderNode"===e.constructor.name||A(`The provided value must be an instance of a DOM Node but got ${a(e)}`)}function k(e,t){T(e,"Array must be defined.");const n=e.length;(t<0||t>=n)&&A(`Index expected to be less than ${n} but got ${t}`)}function N(e,...t){if(-1!==t.indexOf(e))return!0;A(`Expected value to be one of ${JSON.stringify(t)} but was ${JSON.stringify(e)}.`)}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const F=R;function L(e){return{providers:e.providers||[],imports:e.imports||[]}}function V(e){return $(e,U)||$(e,W)}function $(e,t){return e.hasOwnProperty(t)?e[t]:null}function H(e){return e&&(e.hasOwnProperty(B)||e.hasOwnProperty(z))?e[B]:null}const U=i({prov:i}),B=i({inj:i}),W=i({ngInjectableDef:i}),z=i({ngInjectorDef:i});var q;let K;function G(e){const t=K;return K=e,t}function J(e,t,n){const r=V(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==t?t:void m(a(e),"Injector")}function Z(e){return{toString:e}.toString()}var Q,Y,X;function ee(e){return null==e||e===Q.Default}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(q||(q={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Q||(Q={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(Y||(Y={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(X||(X={}));const te="undefined"!=typeof globalThis&&globalThis,ne="undefined"!=typeof window&&window,re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,oe="undefined"!=typeof global&&global,ie=te||oe||ne||re;function se(){return!("undefined"!=typeof ngDevMode&&!ngDevMode||("object"!=typeof ngDevMode&&function(){const e="undefined"!=typeof location?location.toString():"",t={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0},n=-1===e.indexOf("ngDevMode=false");ie.ngDevMode=n&&t}(),"undefined"==typeof ngDevMode||!ngDevMode))}const ae={},ue=[];("undefined"==typeof ngDevMode||ngDevMode)&&se()&&(Object.freeze(ae),Object.freeze(ue));const ce=i({cmp:i}),le=i({dir:i}),fe=i({pipe:i}),de=i({mod:i}),pe=i({fac:i}),he=i({__NG_ELEMENT_ID__:i});let ve=0;function ye(e){return Z((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&se();const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ue,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||X.Emulated,id:"c",styles:e.styles||ue,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,i=e.pipes;return n.id+=ve++,n.inputs=Ce(e.inputs,t),n.outputs=Ce(e.outputs),o&&o.forEach((e=>e(n))),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ge):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(me):null,n}))}function be(e,t,n){const r=e.cmp;r.directiveDefs=()=>t.map(ge),r.pipeDefs=()=>n.map(me)}function ge(e){const t=De(e)||Se(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is neither 'ComponentType' or 'DirectiveType'.`);return t}function me(e){const t=Ee(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is not a 'PipeType'.`);return t}const _e={};function we(e){return Z((()=>{const t={type:e.type,bootstrap:e.bootstrap||ue,declarations:e.declarations||ue,imports:e.imports||ue,exports:e.exports||ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(_e[e.id]=e.type),t}))}function Me(e,t){return Z((()=>{const n=Ie(e,!0);n.declarations=t.declarations||ue,n.imports=t.imports||ue,n.exports=t.exports||ue}))}function Ce(e,t){if(null==e)return ae;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}const xe=ye;function Oe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function De(e){return e[ce]||null}function Se(e){return e[le]||null}function Ee(e){return e[fe]||null}function Ie(e,t){const n=e[de]||null;if(!n&&!0===t)throw new Error(`Type ${a(e)} does not have 'mod' property.`);return n}const Pe=10,Te=20,Ae=["Root","Component","Embedded"];function je(e){return Array.isArray(e)&&"object"==typeof e[1]}function ke(e){return Array.isArray(e)&&!0===e[1]}function Ne(e){return 0!=(8&e.flags)}function Re(e){return 2==(2&e.flags)}function Fe(e){return 1==(1&e.flags)}function Le(e){return null!==e.template}function Ve(e,t){$e(e,t[1])}function $e(e,t){He(e),e.hasOwnProperty("tView_")&&C(e.tView_,t,"This TNode does not belong to this TView.")}function He(e){T(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||A("Not of type TNode, got: "+e)}function Ue(e){T(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&A("Object is not of TIcu type.")}function Be(e,t="Type passed in is not ComponentType, it does not have 'cmp' property."){De(e)||A(t)}function We(e){T(e,"currentTNode should exist!"),T(e.parent,"currentTNode should have a parent")}function ze(e){T(e,"LContainer must be defined"),C(ke(e),!0,"Expecting LContainer")}function qe(e){e&&C(je(e),!0,"Expecting LView or undefined or null")}function Ke(e){T(e,"LView must be defined"),C(je(e),!0,"Expecting LView")}function Ge(e,t){C(e.firstCreatePass,!0,t||"Should only be called in first create pass.")}function Je(e,t){C(e.firstUpdatePass,!0,t||"Should only be called in first update pass.")}function Ze(e,t){Qe(e[1].expandoStartIndex,e.length,t)}function Qe(e,t,n){e<=n&&n<t||A(`Index out of range (expecting ${e} <= ${n} < ${t})`)}function Ye(e,t){T(e,t||"Component views should always have a parent view (component's host view)")}function Xe(e,t){Ze(e,t),Ze(e,t+8),_(e[t+0],"injectorIndex should point to a bloom filter"),_(e[t+1],"injectorIndex should point to a bloom filter"),_(e[t+2],"injectorIndex should point to a bloom filter"),_(e[t+3],"injectorIndex should point to a bloom filter"),_(e[t+4],"injectorIndex should point to a bloom filter"),_(e[t+5],"injectorIndex should point to a bloom filter"),_(e[t+6],"injectorIndex should point to a bloom filter"),_(e[t+7],"injectorIndex should point to a bloom filter"),_(e[t+8],"injectorIndex should point to parent injector")}function et(e,t){const n=e.hasOwnProperty(pe);if(!n&&!0===t&&ngDevMode)throw new Error(`Type ${a(e)} does not have 'fac' property.`);return n?e[pe]:null}class tt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function nt(){return rt}function rt(e){return e.type.prototype.ngOnChanges&&(e.setInput=it),ot}function ot(){const e=st(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ae)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function it(e,t,n,r){const o=st(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ae,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],u=s[a];i[a]=new tt(u&&u.currentValue,t,s===ae),e[r]=t}function st(e){return e.__ngSimpleChanges__||null}nt.ngInherit=!0;let at=null;const ut=e=>{at=e},ct=function(e,t,n){null!=at&&at(e,t,n)},lt="svg",ft="math";let dt;function pt(e){dt=e}function ht(){return void 0!==dt?dt:"undefined"!=typeof document?document:void 0}var vt;function yt(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(vt||(vt={}));const bt={createRenderer:(e,t)=>ht()};function gt(e){for(;Array.isArray(e);)e=e[0];return e}function mt(e,t){return ngDevMode&&k(t,e),ngDevMode&&P(e,Te,"Expected to be past HEADER_OFFSET"),gt(t[e])}function _t(e,t){ngDevMode&&Ve(e,t),ngDevMode&&k(t,e.index);const n=gt(t[e.index]);return ngDevMode&&!yt(t[11])&&j(n),n}function wt(e,t){ngDevMode&&I(t,-1,"wrong index for TNode"),ngDevMode&&S(t,e.data.length,"wrong index for TNode");const n=e.data[t];return ngDevMode&&null!==n&&He(n),n}function Mt(e,t){return ngDevMode&&k(e,t),e[t]}function Ct(e,t){ngDevMode&&k(t,e);const n=t[e];return je(n)?n:n[0]}function xt(e){return 4==(4&e[2])}function Ot(e){return 128==(128&e[2])}function Dt(e,t){return null==t?null:(ngDevMode&&k(e,t),e[t])}function St(e){e[18]=0}function Et(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const It={lFrame:sn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pt(){return It.bindingsEnabled}function Tt(){It.bindingsEnabled=!0}function At(){It.bindingsEnabled=!1}function jt(){return It.lFrame.lView}function kt(){return It.lFrame.tView}function Nt(e){return It.lFrame.contextLView=e,e[8]}function Rt(){let e=Ft();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ft(){return It.lFrame.currentTNode}function Lt(){const e=It.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Vt(e,t){ngDevMode&&e&&$e(e,It.lFrame.tView);const n=It.lFrame;n.currentTNode=e,n.isParent=t}function $t(){return It.lFrame.isParent}function Ht(){It.lFrame.isParent=!1}function Ut(){return It.isInCheckNoChangesMode}function Bt(e){It.isInCheckNoChangesMode=e}function Wt(){const e=It.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zt(){return It.lFrame.bindingIndex}function qt(e){return It.lFrame.bindingIndex=e}function Kt(){return It.lFrame.bindingIndex++}function Gt(e){const t=It.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Jt(e){It.lFrame.inI18n=e}function Zt(e,t){const n=It.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qt(t)}function Qt(e){It.lFrame.currentDirectiveIndex=e}function Yt(e){const t=It.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Xt(){return It.lFrame.currentQueryIndex}function en(e){It.lFrame.currentQueryIndex=e}function tn(e){const t=e[1];return 2===t.type?(ngDevMode&&T(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===t.type?e[6]:null}function nn(e,t,n){if(ngDevMode&&qe(e),n&q.SkipSelf){ngDevMode&&$e(t,e[1]);let r=t,o=e;for(;ngDevMode&&T(r,"Parent TNode should be defined"),r=r.parent,!(null!==r||n&q.Host||(r=tn(o),null===r)||(ngDevMode&&T(o,"Parent LView should be defined"),o=o[15],10&r.type)););if(null===r)return!1;t=r,e=o}ngDevMode&&Ve(t,e);const r=It.lFrame=on();return r.currentTNode=t,r.lView=e,!0}function rn(e){ngDevMode&&x(e[0],e[1],"????"),ngDevMode&&qe(e);const t=on();ngDevMode&&(C(t.isParent,!0,"Expected clean LFrame"),C(t.lView,null,"Expected clean LFrame"),C(t.tView,null,"Expected clean LFrame"),C(t.selectedIndex,-1,"Expected clean LFrame"),C(t.elementDepthCount,0,"Expected clean LFrame"),C(t.currentDirectiveIndex,-1,"Expected clean LFrame"),C(t.currentNamespace,null,"Expected clean LFrame"),C(t.bindingRootIndex,-1,"Expected clean LFrame"),C(t.currentQueryIndex,0,"Expected clean LFrame"));const n=e[1];It.lFrame=t,ngDevMode&&n.firstChild&&$e(n.firstChild,n),t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function on(){const e=It.lFrame,t=null===e?null:e.child;return null===t?sn(e):t}function sn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function an(){const e=It.lFrame;return It.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const un=an;function cn(){const e=an();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ln(){return It.lFrame.selectedIndex}function fn(e){ngDevMode&&-1!==e&&P(e,Te,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&S(e,It.lFrame.lView.length,"Can't set index passed end of LView"),It.lFrame.selectedIndex=e}function dn(){const e=It.lFrame;return wt(e.tView,e.selectedIndex)}function pn(){It.lFrame.currentNamespace=lt}function hn(){It.lFrame.currentNamespace=ft}function vn(){It.lFrame.currentNamespace=null}function yn(e,t){ngDevMode&&Ge(e);for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];ngDevMode&&T(t,"Expecting DirectiveDef");const r=t.type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:a,ngOnDestroy:u}=r;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function bn(e,t,n){_n(e,t,3,n)}function gn(e,t,n,r){ngDevMode&&x(n,3,"Init pre-order hooks should not be called more than once"),(3&e[2])===n&&_n(e,t,n,r)}function mn(e,t){ngDevMode&&x(t,3,"Init hooks phase should not be incremented after all init hooks have been run.");let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _n(e,t,n,r){ngDevMode&&C(Ut(),!1,"Hooks should never be run when in check no changes mode.");const o=void 0!==r?65535&e[18]:0,i=null!=r?r:-1,s=t.length-1;let a=0;for(let u=o;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<i||-1==i)&&(wn(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function wn(e,t,n,r){const o=n[r]<0,i=n[r+1],s=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,ct(4,s,i);try{i.call(s)}finally{ct(5,s,i)}}}else{ct(4,s,i);try{i.call(s)}finally{ct(5,s,i)}}}const Mn=-1;class Cn{constructor(e,t,n){this.factory=e,this.resolving=!1,ngDevMode&&T(e,"Factory not specified"),ngDevMode&&C(typeof e,"function","Expected factory function."),this.canSeeViewProviders=t,this.injectImpl=n}}function xn(e){let t="";return 1&e&&(t+="|Text"),2&e&&(t+="|Element"),4&e&&(t+="|Container"),8&e&&(t+="|ElementContainer"),16&e&&(t+="|Projection"),32&e&&(t+="|IcuContainer"),64&e&&(t+="|Placeholder"),t.length>0?t.substring(1):t}function On(e,t,n){T(e,"should be called with a TNode"),0==(e.type&t)&&A(n||`Expected [${xn(t)}] but got ${xn(e.type)}.`)}function Dn(e,t,n){const r=yt(e);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],a=n[o++],u=n[o++];ngDevMode&&ngDevMode.rendererSetAttribute++,r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=i,a=n[++o];ngDevMode&&ngDevMode.rendererSetAttribute++,En(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),o++}}return o}function Sn(e){return 3===e||4===e||6===e}function En(e){return 64===e.charCodeAt(0)}function In(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Pn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Pn(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function Tn(e){return e!==Mn}function An(e){return ngDevMode&&_(e,"Number expected"),ngDevMode&&x(e,-1,"Not a valid state."),ngDevMode&&I(32767&e,Te,"Parent injector must be pointing past HEADER_OFFSET."),32767&e}function jn(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let kn=!0;function Nn(e){const t=kn;return kn=e,t}let Rn=0;function Fn(e,t){const n=Vn(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ln(r.data,e),Ln(t,null),Ln(r.blueprint,null));const o=$n(e,t),i=e.injectorIndex;if(Tn(o)){const e=An(o),n=jn(o,t),r=n[1].data;for(let o=0;o<8;o++)t[i+o]=n[e+o]|r[e+o]}return t[i+8]=o,i}function Ln(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:(ngDevMode&&k(t,e.injectorIndex),e.injectorIndex)}function $n(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const e=o[1],t=e.type;if(2===t?(ngDevMode&&T(e.declTNode,"Embedded TNodes should have declaration parents."),r=e.declTNode):1===t?r=o[6]:(ngDevMode&&C(e.type,0,"Root type expected"),r=null),null===r)return Mn;if(ngDevMode&&r&&Ve(r,o[15]),n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mn}function Hn(e,t,n){!function(e,t,n){let r;ngDevMode&&C(t.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(he)&&(r=n[he]),null==r&&(r=n[he]=Rn++);const o=255&r,i=1<<o;t.data[e+(o>>5)]|=i}(e,t,n)}function Un(e,t,n){if(n&q.Optional)return e;m(t,"NodeInjector")}function Bn(e,t,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){const o=e[9],i=G(void 0);try{return o?o.get(t,r,n&q.Optional):J(t,r,n&q.Optional)}finally{G(i)}}return Un(r,t,n)}function Wn(e,t,n,r=q.Default,o){if(null!==e){const i=function(e){if(ngDevMode&&T(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(he)?e[he]:void 0;return"number"==typeof t?t>=0?255&t:(ngDevMode&&C(t,-1,"Expecting to get Special Injector Id"),qn):t}(n);if("function"==typeof i){if(!nn(t,e,r))return r&q.Host?Un(o,n,r):Bn(t,n,r,o);try{const e=i(r);if(null!=e||r&q.Optional)return e;m(n)}finally{un()}}else if("number"==typeof i){let o=null,s=Vn(e,t),a=Mn,u=r&q.Host?t[16][6]:null;for((-1===s||r&q.SkipSelf)&&(a=-1===s?$n(e,t):t[s+8],a!==Mn&&Qn(r,!1)?(o=t[1],s=An(a),t=jn(a,t)):s=-1);-1!==s;){ngDevMode&&Xe(t,s);const e=t[1];if(ngDevMode&&Ve(e.data[s+8],t),Zn(i,s,e.data)){const e=Kn(s,t,n,o,r,u);if(e!==zn)return e}a=t[s+8],a!==Mn&&Qn(r,t[1].data[s+8]===u)&&Zn(i,s,t)?(o=e,s=An(a),t=jn(a,t)):s=-1}}}return Bn(t,n,r,o)}const zn={};function qn(){return new Yn(Rt(),jt())}function Kn(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],u=Gn(a,s,n,null==r?Re(a)&&kn:r!=s&&0!=(3&a.type),o&q.Host&&i===a);return null!==u?Jn(t,s,u,a):zn}function Gn(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,u=e.directiveStart,c=e.directiveEnd,l=i>>20,f=o?a+l:c;for(let e=r?a:a+l;e<f;e++){const t=s[e];if(e<u&&n===t||e>=u&&t.type===n)return e}if(o){const e=s[u];if(e&&Le(e)&&e.type===n)return u}return null}function Jn(e,t,n,r){let o=e[n];const i=t.data;if(o instanceof Cn){const a=o;a.resolving&&b(y(i[n]));const u=Nn(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?G(a.injectImpl):null,l=nn(e,r,q.Default);ngDevMode&&C(l,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{o=e[n]=a.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&(ngDevMode&&(void 0!==(s=i[n]).type&&null!=s.selectors&&void 0!==s.inputs||A("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")),function(e,t,n){ngDevMode&&Ge(n);const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const r=rt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t))}finally{null!==c&&G(c),Nn(u),a.resolving=!1,un()}}var s;return o}function Zn(e,t,n){const r=1<<e;return!!(n[t+(e>>5)]&r)}function Qn(e,t){return!(e&q.Self||e&q.Host&&t)}class Yn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Wn(this._tNode,this._lView,e,n,t)}}function Xn(e){return Z((()=>{const t=e.prototype.constructor,n=t[pe]||er(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const e=o[pe]||er(o);if(e&&e!==n)return e;o=Object.getPrototypeOf(o)}return e=>new e}))}function er(e){return d(e)?()=>{const t=er(f(e));return t&&t()}:et(e)}function tr(e){return function(e,t){if(ngDevMode&&On(e,15),ngDevMode&&T(e,"expecting tNode"),"class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const o=n[r];if(Sn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Rt(),e)}const nr="__annotations__",rr="__parameters__",or="__prop__metadata__";function ir(e,t,n,r,o){return Z((()=>{const i=sr(t);function s(...e){if(this instanceof s)return i.call(this,...e),this;const t=new s(...e);return function(n){return o&&o(n,...e),(n.hasOwnProperty(nr)?n[nr]:Object.defineProperty(n,nr,{value:[]})[nr]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function sr(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function ar(e,t,n){return Z((()=>{const r=sr(t);function o(...e){if(this instanceof o)return r.apply(this,e),this;const t=new o(...e);return n.annotation=t,n;function n(e,n,r){const o=e.hasOwnProperty(rr)?e[rr]:Object.defineProperty(e,rr,{value:[]})[rr];for(;o.length<=r;)o.push(null);return(o[r]=o[r]||[]).push(t),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}function ur(e,t,n,r){return Z((()=>{const o=sr(t);function i(...e){if(this instanceof i)return o.apply(this,e),this;const t=new i(...e);return function(n,o){const i=n.constructor,s=i.hasOwnProperty(or)?i[or]:Object.defineProperty(i,or,{value:{}})[or];s[o]=s.hasOwnProperty(o)&&s[o]||[],s[o].unshift(t),r&&r(n,o,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}const cr=ar("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>tr(e)})));class lr{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof t?(("undefined"==typeof ngDevMode||ngDevMode)&&S(t,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=t):void 0!==t&&(this.prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fr=new lr("AnalyzeForEntryComponents");class dr{}const pr=ur("ContentChildren",((e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t)),dr),hr=ur("ContentChild",((e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),dr),vr=ur("ViewChildren",((e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},t)),dr),yr=ur("ViewChild",((e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),dr);var br,gr;function mr(e){const t=ie.ng;if(t&&t.compilerFacade)return t.compilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let t=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(t+=`The ${e.kind} is part of a library that has been partially compiled.\n`,t+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",t+="\n",t+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):t+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",t+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",t+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(t)}throw new Error("JIT compiler unavailable")}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(br||(br={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(gr||(gr={}));const _r=Function;function wr(e){return"function"==typeof e}function Mr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Mr(r,t)):t!==e&&t.push(r)}return t}function Cr(e,t){e.forEach((e=>Array.isArray(e)?Cr(e,t):t(e)))}function xr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Or(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dr(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Sr(e,t,n){let r=Ir(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){ngDevMode&&E(t,e.length,"Can't insert past array end.");let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){const t=o-2;e[o]=e[t],o--}e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Er(e,t){const n=Ir(e,t);if(n>=0)return e[1|n]}function Ir(e,t){return function(e,t,n){ngDevMode&&C(Array.isArray(e),!0,"Expecting an array");let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Pr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Tr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ar=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,jr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class kr{constructor(e){this._reflect=e||ie.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Dr(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Pr.test(n)||jr.test(n)||Tr.test(n)&&!Ar.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map((e=>e&&e.type)),n=e.map((e=>e&&Nr(e.decorators)));return this._zipTypesAndAnnotations(t,n)}const o=e.hasOwnProperty(rr)&&e[rr],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||o?this._zipTypesAndAnnotations(i,o):Dr(e.length)}parameters(e){if(!wr(e))return[];const t=Rr(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Nr(e.decorators):e.hasOwnProperty(nr)?e[nr]:null}annotations(e){if(!wr(e))return[];const t=Rr(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach((e=>{n[e]=Nr(t[e])})),n}return e.hasOwnProperty(or)?e[or]:null}propMetadata(e){if(!wr(e))return{};const t=Rr(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach((t=>{n[t]=e[t]}))}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach((e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t})),n}ownPropMetadata(e){return wr(e)&&this._ownPropMetadata(e,Rr(e))||{}}hasLifecycleHook(e,t){return e instanceof _r&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${a(e)}`}resourceUri(e){return`./${a(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Nr(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function Rr(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Fr={},Lr=/\n/gm,Vr="__source",$r=i({provide:String,useValue:i});let Hr;function Ur(e){const t=Hr;return Hr=e,t}function Br(e,t=q.Default){if(void 0===Hr){const e="undefined"==typeof ngDevMode||ngDevMode?"inject() must be called from an injection context":"";throw new p(203,e)}return null===Hr?J(e,void 0,t):Hr.get(e,t&q.Optional?null:void 0,t)}function Wr(e,t=q.Default){return(K||Br)(f(e),t)}function zr(e){const t=ngDevMode?`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`:"invalid";throw new Error(t)}const qr=Wr;function Kr(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length){const e="undefined"==typeof ngDevMode||ngDevMode?"Arguments array must have arguments.":"";throw new p(900,e)}let e,n=q.Default;for(let t=0;t<r.length;t++){const o=r[t],i=o.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=o.token:n|=i:e=o}t.push(Wr(e,n))}else t.push(Wr(r))}return t}function Gr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Jr=Gr(ar("Inject",(e=>({token:e}))),-1),Zr=Gr(ar("Optional"),8),Qr=Gr(ar("Self"),2),Yr=Gr(ar("SkipSelf"),4),Xr=Gr(ar("Host"),1);let eo=null;function to(){return eo=eo||new kr}function no(e){return ro(to().parameters(e))}function ro(e){return e.map((e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof Zr||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof Yr||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof Qr||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof Xr||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof Jr)t.token=r.token;else if(r instanceof cr){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e)))}function oo(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const o=e(t);n.set(t,r=o.then(co))}return r}return io.forEach(((e,n)=>{const o=[];e.templateUrl&&o.push(r(e.templateUrl).then((t=>{e.template=t})));const i=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;i&&i.forEach(((t,n)=>{s.push(""),o.push(r(t).then((r=>{s[a+n]=r,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));const u=Promise.all(o).then((()=>function(e){so.delete(e)}(n)));t.push(u)})),uo(),Promise.all(t).then((()=>{}))}let io=new Map;const so=new Set;function ao(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function uo(){const e=io;return io=new Map,e}function co(e){return"string"==typeof e?e:e.text()}let lo,fo;function po(){if(void 0===lo&&(lo=null,ie.trustedTypes))try{lo=ie.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return lo}function ho(e){var t;return(null===(t=po())||void 0===t?void 0:t.createHTML(e))||e}function vo(){if(void 0===fo&&(fo=null,ie.trustedTypes))try{fo=ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return fo}function yo(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createHTML(e))||e}function bo(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createScript(e))||e}function go(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createScriptURL(e))||e}class mo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _o extends mo{getTypeName(){return"HTML"}}class wo extends mo{getTypeName(){return"Style"}}class Mo extends mo{getTypeName(){return"Script"}}class Co extends mo{getTypeName(){return"URL"}}class xo extends mo{getTypeName(){return"ResourceURL"}}function Oo(e){return e instanceof mo?e.changingThisBreaksApplicationSecurity:e}function Do(e,t){const n=So(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function So(e){return e instanceof mo&&e.getTypeName()||null}function Eo(e){return new _o(e)}function Io(e){return new wo(e)}function Po(e){return new Mo(e)}function To(e){return new Co(e)}function Ao(e){return new xo(e)}function jo(e){const t=new No(e);return function(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch(e){return!1}}()?new ko(t):t}class ko{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ho(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(e){return null}}}class No{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ho(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=ho(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ro=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lo(e){return(e=String(e)).match(Ro)||e.match(Fo)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see https://g.co/ng/security#xss)`),"unsafe:"+e)}function Vo(e){return(e=String(e)).split(",").map((e=>Lo(e.trim()))).join(", ")}function $o(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ho(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Uo=$o("area,br,col,hr,img,wbr"),Bo=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wo=$o("rp,rt"),zo=Ho(Wo,Bo),qo=Ho(Bo,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko=Ho(Wo,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Go=Ho(Uo,qo,Ko,zo),Jo=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zo=$o("srcset"),Qo=$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo=$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xo=Ho(Jo,Zo,Qo,Yo),ei=$o("script,style,template");class ti{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Go.hasOwnProperty(t))return this.sanitizedSomething=!0,!ei.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),r=t.name,o=r.toLowerCase();if(!Xo.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let i=t.value;Jo[o]&&(i=Lo(i)),Zo[o]&&(i=Vo(i)),this.buf.push(" ",r,'="',oi(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Go.hasOwnProperty(t)&&!Uo.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(oi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ri=/([^\#-~ |!])/g;function oi(e){return e.replace(/&/g,"&amp;").replace(ni,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ri,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ii;function si(e,t){let n=null;try{ii=ii||jo(e);let r=t?String(t):"";n=ii.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=ii.getInertBodyElement(r)}while(r!==i);const s=new ti,a=s.sanitizeChildren(ai(n)||n);return("undefined"==typeof ngDevMode||ngDevMode)&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),ho(a)}finally{if(n){const e=ai(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ai(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ui;function ci(e){const t=bi();return t?yo(t.sanitize(ui.HTML,e)||""):Do(e,"HTML")?yo(Oo(e)):si(ht(),v(e))}function li(e){const t=bi();return t?t.sanitize(ui.STYLE,e)||"":Do(e,"Style")?Oo(e):v(e)}function fi(e){const t=bi();return t?t.sanitize(ui.URL,e)||"":Do(e,"URL")?Oo(e):Lo(v(e))}function di(e){const t=bi();if(t)return go(t.sanitize(ui.RESOURCE_URL,e)||"");if(Do(e,"ResourceURL"))return go(Oo(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a resource URL context (see https://g.co/ng/security#xss)":"";throw new p(904,n)}function pi(e){const t=bi();if(t)return bo(t.sanitize(ui.SCRIPT,e)||"");if(Do(e,"Script"))return bo(Oo(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a script context":"";throw new p(905,n)}function hi(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return ho(e[0])}function vi(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function(e){var t;return(null===(t=po())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function yi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?di:fi}(t,n)(e)}function bi(){const e=jt();return e&&e[12]}function gi(e){let t=Mi(e);if(t){if(Array.isArray(t)){const r=t;let o,i,s;if((n=e)&&n.constructor&&n.constructor.cmp){if(o=Di(r,e),-1==o)throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.dir}(e)){if(o=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveStart,o=n.directiveEnd;for(let i=r;i<o;i++)if(e[i]===t)return n.index;n=Oi(n)}return-1}(r,e),-1==o)throw new Error("The provided directive was not found in the application");s=Si(o,r,!1)}else if(o=xi(r,e),-1==o)return null;const a=gt(r[o]),u=Mi(a),c=u&&!Array.isArray(u)?u:mi(r,o,a);if(i&&void 0===c.component&&(c.component=i,wi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)wi(s[e],c)}wi(c.native,c),t=c}}else{const n=e;ngDevMode&&j(n);let r=n;for(;r=r.parentNode;){const e=Mi(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const o=xi(r,n);if(o>=0){const e=gt(r[o]),n=mi(r,o,e);wi(e,n),t=n;break}}}}var n;return t||null}function mi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function _i(e){let t,n=Mi(e);if(Array.isArray(n)){const r=Di(n,e);t=Ct(r,n);const o=mi(n,r,t[0]);o.component=e,wi(e,o),wi(o.native,o)}else{const e=n;t=Ct(e.nodeIndex,e.lView)}return t}function wi(e,t){ngDevMode&&T(e,"Target expected"),e.__ngContext__=t}function Mi(e){return ngDevMode&&T(e,"Target expected"),e.__ngContext__||null}function Ci(e){const t=Mi(e);return t?Array.isArray(t)?t:t.lView:null}function xi(e,t){const n=e[1];for(let r=Te;r<n.bindingStartIndex;r++)if(gt(e[r])===t)return r;return-1}function Oi(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Di(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const o=n[r];if(Ct(o,e)[8]===t)return o}else if(Ct(Te,e)[8]===t)return Te;return-1}function Si(e,t,n){const r=t[1].data[e];let o=r.directiveStart;if(0==o)return ue;const i=r.directiveEnd;return!n&&2&r.flags&&o++,t.slice(o,i)}function Ei(e){return e.ngOriginalError}function Ii(e,...t){e.error(...t)}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(ui||(ui={}));class Pi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(e){return e&&e.ngErrorLogger||Ii}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ei(e);for(;t&&Ei(t);)t=Ei(t);return t||null}}const Ti={name:"custom-elements"},Ai={name:"no-errors-schema"},ji=/^>|^->|<!--|-->|--!>|<!-$/g,ki=/(<|>)/;function Ni(e){return e.replace(ji,(e=>e.replace(ki,"$1")))}const Ri=/([A-Z])/g,Fi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ie);function Li(e){return e.ownerDocument.defaultView}function Vi(e){return e.ownerDocument}function $i(e){return e.ownerDocument.body}const Hi="";function Ui(e){return e instanceof Function?e():e}function Bi(e){throw new p(-300,`Multiple components match node with tagname ${e.value}`)}function Wi(e,t,n,r,o){const[i,s,...a]=r.split(Hi);let u=s,c=s;for(let r=0;r<a.length;r++){const i=t+r;u+=`${e[i]}${a[r]}`,c+=`${i===n?o:e[i]}${a[r]}`}return{propName:i,oldValue:u,newValue:c}}var zi;let qi;function Ki(e,t){return qi(e,t)}function Gi(e){ngDevMode&&Ke(e);const t=e[3];return ke(t)?t[3]:t}function Ji(e){const t=function(e){ngDevMode&&T(e,"component");let t=je(e)?e:Ci(e);for(;t&&!(512&t[2]);)t=Gi(t);return ngDevMode&&Ke(t),t}(e);return ngDevMode&&T(t[8],"RootView has no context. Perhaps it is disconnected?"),t[8]}function Zi(e){return Yi(e[13])}function Qi(e){return Yi(e[4])}function Yi(e){for(;null!==e&&!ke(e);)e=e[4];return e}function Xi(e,t,n,r,o){if(null!=r){let i,s=!1;ke(r)?i=r:je(r)&&(s=!0,ngDevMode&&T(r[0],"HOST must be defined for a component LView"),r=r[0]);const a=gt(r);ngDevMode&&!yt(t)&&j(a),0===e&&null!==n?null==o?fs(t,n,a):ls(t,n,a,o||null,!0):1===e&&null!==n?ls(t,n,a,o||null,!0):2===e?Cs(t,a,s):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(a)),null!=i&&function(e,t,n,r,o){ngDevMode&&ze(n);const i=n[7];i!==gt(n)&&Xi(t,e,r,i,o);for(let o=Pe;o<n.length;o++){const s=n[o];Os(s[1],s,e,t,r,i)}}(t,e,i,n,o)}}function es(e,t){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,yt(e)?e.createText(t):e.createTextNode(t)}function ts(e,t,n){ngDevMode&&ngDevMode.rendererSetText++,yt(e)?e.setValue(t,n):t.textContent=n}function ns(e,t){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(Ni(t))}function rs(e,t,n){if(ngDevMode&&ngDevMode.rendererCreateElement++,yt(e))return e.createElement(t,n);{const r=null!==n?function(e){const t=e.toLowerCase();return t===lt?"http://www.w3.org/2000/svg":t===ft?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function os(e,t){ngDevMode&&ze(e),ngDevMode&&T(e[9],"A projected view should belong to a non-empty projected views collection");const n=e[9],r=n.indexOf(t),o=t[3];ngDevMode&&ze(o),1024&t[2]&&(t[2]&=-1025,Et(o,-1)),n.splice(r,1)}function is(e,t){if(e.length<=Pe)return;const n=Pe+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&os(i,r),t>0&&(e[n-1][4]=r[4]);const s=Or(e,Pe+t);Os(r[1],o=r,o[11],2,null,null),o[0]=null,o[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var o;return r}function ss(e,t){if(!(256&t[2])){const n=t[11];yt(n)&&n.destroyNode&&Os(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return as(e[1],e);for(;t;){let n=null;if(je(t))n=t[13];else{ngDevMode&&ze(t);const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)je(t)&&as(t[1],t),t=t[3];null===t&&(t=e),je(t)&&as(t[1],t),n=t&&t[4]}t=n}}(t)}}function as(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const r=t[n[e]];if(!(r instanceof Cn)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=r[t[e]],o=t[e+1];ct(4,n,o);try{o.call(n)}finally{ct(5,n,o)}}else{ct(4,r,t);try{t.call(r)}finally{ct(5,r,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const i=n[e+1],s="function"==typeof i?i(t):gt(t[i]),a=r[o=n[e+2]],u=n[e+3];"boolean"==typeof u?s.removeEventListener(n[e],a,u):u>=0?r[o=u]():r[o=-u].unsubscribe(),e+=2}else{const t=r[o=n[e+1]];n[e].call(t)}if(null!==r){for(let e=o+1;e<r.length;e++){const t=r[e];ngDevMode&&(s="Expecting instance cleanup function.","function"!=typeof(i=t)&&A(s,null===i?"null":typeof i,"function","===")),t()}t[7]=null}var i,s}(e,t),1===t[1].type&&yt(t[11])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[11].destroy());const n=t[17];if(null!==n&&ke(t[3])){n!==t[3]&&os(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function us(e,t,n){return cs(e,t.parent,n)}function cs(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(ngDevMode&&On(r,7),2&r.flags){ngDevMode&&Ve(r,n);const t=e.data[r.directiveStart].encapsulation;if(t===X.None||t===X.Emulated)return null}return _t(r,n)}function ls(e,t,n,r,o){ngDevMode&&ngDevMode.rendererInsertBefore++,yt(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function fs(e,t,n){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&T(t,"parent node must be defined"),yt(e)?e.appendChild(t,n):t.appendChild(n)}function ds(e,t,n,r,o){null!==r?ls(e,t,n,r,o):fs(e,t,n)}function ps(e,t){return yt(e)?e.parentNode(t):t.parentNode}function hs(e,t,n){return bs(e,t,n)}function vs(e,t,n){return 40&e.type?_t(e,n):null}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(zi||(zi={}));let ys,bs=vs;function gs(e,t){bs=e,ys=t}function ms(e,t,n,r){const o=us(e,r,t),i=t[11],s=hs(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let e=0;e<n.length;e++)ds(i,o,n[e],s,!1);else ds(i,o,n,s,!1);void 0!==ys&&ys(i,r,t,n,o)}function _s(e,t){if(null!==t){ngDevMode&&On(t,63);const n=t.type;if(3&n)return _t(t,e);if(4&n)return Ms(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return _s(e,n);{const n=e[t.index];return ke(n)?Ms(-1,n):gt(n)}}if(32&n)return Ki(t,e)()||gt(e[t.index]);{const n=ws(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=Gi(e[16]);return ngDevMode&&Ye(t),_s(t,n)}return _s(e,t.next)}}return null}function ws(e,t){if(null!==t){const n=e[16][6],r=t.projection;return ngDevMode&&function(e,t){T(e[16],"Component views should exist."),T(e[16][6].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),n.projection[r]}return null}function Ms(e,t){const n=Pe+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return _s(e,r)}return t[7]}function Cs(e,t,n){ngDevMode&&ngDevMode.rendererRemoveNode++;const r=ps(e,t);r&&function(e,t,n,r){yt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function xs(e,t,n,r,o,i,s){for(;null!=n;){ngDevMode&&Ve(n,r),ngDevMode&&On(n,63);const a=r[n.index],u=n.type;if(s&&0===t&&(a&&wi(gt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)xs(e,t,n.child,r,o,i,!1),Xi(t,e,o,a,i);else if(32&u){const s=Ki(n,r);let u;for(;u=s();)Xi(t,e,o,u,i);Xi(t,e,o,a,i)}else 16&u?Ds(e,t,r,n,o,i):(ngDevMode&&On(n,7),Xi(t,e,o,a,i));n=s?n.projectionNext:n.next}}function Os(e,t,n,r,o,i){xs(n,r,e.firstChild,t,o,i,!1)}function Ds(e,t,n,r,o,i){const s=n[16],a=s[6];ngDevMode&&C(typeof r.projection,"number","expecting projection index");const u=a.projection[r.projection];if(Array.isArray(u))for(let n=0;n<u.length;n++)Xi(t,e,o,u[n],i);else xs(e,t,u,s[3],o,i,!0)}function Ss(e,t,n){ngDevMode&&M(n,"'newValue' should be a string"),yt(e)?e.setAttribute(t,"style",n):t.style.cssText=n,ngDevMode&&ngDevMode.rendererSetStyle++}function Es(e,t,n){ngDevMode&&M(n,"'newValue' should be a string"),yt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n,ngDevMode&&ngDevMode.rendererSetClassName++}function Is(e,t,n){ngDevMode&&x(t,"",'can not look for "" string.');let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const n=t.length;if(o+n===r||e.charCodeAt(o+n)<=32)return o}n=o+1}}const Ps="ng-template";function Ts(e,t,n){ngDevMode&&C(t,t.toLowerCase(),"Class name expected to be lowercase.");let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==Is(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function As(e){return 4===e.type&&e.value!==Ps}function js(e,t,n){return t===(4!==e.type||n?e.value:Ps)}function ks(e,t,n){ngDevMode&&T(t[0],"Selector should have a tag name");let r=4;const o=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(Sn(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!js(e,u,n)||""===u&&1===t.length){if(Ns(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Ts(e.attrs,c,n)){if(Ns(r))return!1;s=!0}continue}const l=Rs(8&r?"class":u,o,As(e),n);if(-1===l){if(Ns(r))return!1;s=!0;continue}if(""!==c){let e;l>i?e="":(ngDevMode&&x(o[l],0,"We do not match directives on namespaced attributes"),e=o[l+1].toLowerCase());const t=8&r?e:null;if(t&&-1!==Is(t,c,0)||2&r&&c!==e){if(Ns(r))return!1;s=!0}}}}else{if(!s&&!Ns(r)&&!Ns(u))return!1;if(s&&Ns(u))continue;s=!1,r=u|1&r}}return Ns(r)||s}function Ns(e){return 0==(1&e)}function Rs(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let n=!1;for(;o<t.length;){const r=t[o];if(r===e)return o;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++o];for(;"string"==typeof e;)e=t[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Fs(e,t,n=!1){for(let r=0;r<t.length;r++)if(ks(e,t[r],n))return!0;return!1}function Ls(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function Vs(e,t){return e?":not("+t.trim()+")":t}function $s(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];o+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""===o||Ns(s)||(t+=Vs(i,o),o=""),r=s,i=i||!Ns(r);n++}return""!==o&&(t+=Vs(i,o)),t}const Hs="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function Us(e){ngDevMode&&I(e,0,"Can only advance forward"),Bs(kt(),jt(),ln()+e,Ut())}function Bs(e,t,n,r){if(ngDevMode&&function(e,t){const n=e[1];Qe(Te,n.bindingStartIndex,t)}(t,n),!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&bn(t,r,n)}else{const r=e.preOrderHooks;null!==r&&gn(t,r,0,n)}fn(n)}function Ws(e){if(!ngDevMode)throw new Error("Looks like we are in 'prod mode', but we are creating a named Array type, which is wrong! Check your code");try{return function(...e){if("undefined"==typeof ngDevMode)throw new Error("newTrustedFunctionForDev should never be called in production");if(!ie.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=ie.eval((r=t,(null===(o=po())||void 0===o?void 0:o.createScript(r))||r));var r,o;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(ie))}("Array",`return class ${e} extends Array{}`)(Array)}catch(e){return Array}}function zs(e,t){return ngDevMode&&w(e,0,32767),ngDevMode&&w(t,0,32767),e<<17|t<<2}function qs(e){return ngDevMode&&_(e,"expected number"),e>>17&32767}function Ks(e){return ngDevMode&&_(e,"expected number"),2==(2&e)}function Gs(e){return ngDevMode&&_(e,"expected number"),2|e}function Js(e){return ngDevMode&&_(e,"expected number"),(131068&e)>>2}function Zs(e,t){return ngDevMode&&_(e,"expected number"),ngDevMode&&w(t,0,32767),-131069&e|t<<2}function Qs(e){return ngDevMode&&_(e,"expected number"),1==(1&e)}function Ys(e){return ngDevMode&&_(e,"expected number"),1|e}function Xs(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{value:t,enumerable:!1})}function ea(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:t,enumerable:!1})}let ta,na,ra,oa,ia;class sa extends Array{}class aa extends Array{}class ua extends Array{}function ca(e){if(null==e)return"";const t=e.lastIndexOf("_Template");return"_"+(-1===t?e:e.substr(0,t))}function la(e,t){const n=e.tView_.data,r=[],o=t?e.classBindings:e.styleBindings,i=qs(o),s=Js(o);let a=0!==s,u=a?s:i;for(;0!==u;){const e=n[u],t=n[u+1];r.unshift({key:e,index:u,isTemplate:a,prevDuplicate:Ks(t),nextDuplicate:Qs(t),nextIndex:Js(t),prevIndex:qs(t)}),u===i&&(a=!1),u=qs(t)}return r.push((t?e.residualClasses:e.residualStyles)||null),r}function fa(e,t){for(;e;)t.push(e.template_),e=e.next}class da extends Array{}let pa;class ha extends Array{}class va extends Array{}class ya extends Array{}class ba extends Array{}class ga extends Array{}class ma extends Array{}class _a extends Array{}function wa(e){if(e){const t=e.debug;return T(t,"Object does not have a debug representation."),t}return e}function Ma(e,t=!1){const n=gt(e);if(n)switch(n.nodeType){case Node.TEXT_NODE:return n.textContent;case Node.COMMENT_NODE:return`\x3c!--${n.textContent}--\x3e`;case Node.ELEMENT_NODE:const e=n.outerHTML;if(t)return e;{const t=">"+n.innerHTML+"<";return e.split(t)[0]+">"}}return null}class Ca{constructor(e){this._raw_lView=e}get flags(){const e=this._raw_lView[2];return{__raw__flags__:e,initPhaseState:3&e,creationMode:!!(4&e),firstViewPass:!!(8&e),checkAlways:!!(16&e),dirty:!!(64&e),attached:!!(128&e),destroyed:!!(256&e),isRoot:!!(512&e),indexWithinInitPhase:e>>11}}get parent(){return wa(this._raw_lView[3])}get hostHTML(){return Ma(this._raw_lView[0],!0)}get html(){return(this.nodes||[]).map(xa).join("")}get context(){return this._raw_lView[8]}get nodes(){const e=this._raw_lView;return Da(e[1].firstChild,e)}get template(){return this.tView.template_}get tView(){return this._raw_lView[1]}get cleanup(){return this._raw_lView[7]}get injector(){return this._raw_lView[9]}get rendererFactory(){return this._raw_lView[10]}get renderer(){return this._raw_lView[11]}get sanitizer(){return this._raw_lView[12]}get childHead(){return wa(this._raw_lView[13])}get next(){return wa(this._raw_lView[4])}get childTail(){return wa(this._raw_lView[14])}get declarationView(){return wa(this._raw_lView[15])}get queries(){return this._raw_lView[19]}get tHost(){return this._raw_lView[6]}get decls(){return Oa(this.tView,this._raw_lView,Te,this.tView.bindingStartIndex)}get vars(){return Oa(this.tView,this._raw_lView,this.tView.bindingStartIndex,this.tView.expandoStartIndex)}get expando(){return Oa(this.tView,this._raw_lView,this.tView.expandoStartIndex,this._raw_lView.length)}get childViews(){const e=[];let t=this.childHead;for(;t;)e.push(t),t=t.next;return e}}function xa(e){if("ElementContainer"===e.type)return(e.children||[]).map(xa).join("");if("IcuContainer"===e.type)throw new Error("Not implemented");return Ma(e.native,!0)||""}function Oa(e,t,n,r){let o=[];for(let i=n;i<r;i++)o.push({index:i,t:e.data[i],l:t[i]});return{start:n,end:r,length:r-n,content:o}}function Da(e,t){if(e){const n=[];let r=e;for(;r;)n.push(Sa(r,t)),r=r.next;return n}return[]}function Sa(e,t){const n=gt(t[e.index]),r=[],o=[],i=t[1];for(let n=e.directiveStart;n<e.directiveEnd;n++){const e=i.data[n];r.push(e.type),o.push(t[n])}return{html:Ma(n),type:xn(e.type),tNode:e,native:n,children:Da(e.child,t),factories:r,instances:o,injector:Ea(e,i,t),get injectorResolutionPath(){return e.debugNodeInjectorPath(t)}}}function Ea(e,t,n){const r=[];for(let n=e.providerIndexStart_;n<e.providerIndexEnd_;n++)r.push(t.data[n]);const o=[];for(let n=e.providerIndexEnd_;n<e.directiveEnd;n++)o.push(t.data[n]);return{bloom:Pa(n,e.injectorIndex),cumulativeBloom:Pa(t.data,e.injectorIndex),providers:o,viewProviders:r,parentInjectorIndex:n[e.providerIndexStart_-1]}}function Ia(e,t){const n=e[t];if("number"!=typeof n)return"????????";const r="00000000"+n.toString(2);return r.substring(r.length-8)}function Pa(e,t){return t<0?"NO_NODE_INJECTOR":`${Ia(e,t+7)}_${Ia(e,t+6)}_${Ia(e,t+5)}_${Ia(e,t+4)}_${Ia(e,t+3)}_${Ia(e,t+2)}_${Ia(e,t+1)}_${Ia(e,t+0)}`}class Ta{constructor(e){this._raw_lContainer=e}get hasTransplantedViews(){return this._raw_lContainer[2]}get views(){return this._raw_lContainer.slice(Pe).map(wa)}get parent(){return wa(this._raw_lContainer[3])}get movedViews(){return this._raw_lContainer[9]}get host(){return this._raw_lContainer[0]}get native(){return this._raw_lContainer[7]}get next(){return wa(this._raw_lContainer[4])}}const Aa=Promise.resolve(null);function ja(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];ngDevMode&&T(n,"DirectiveDef not found."),ngDevMode&&T(n.contentQueries,"contentQueries function should be defined"),en(o),n.contentQueries(2,t[i],i)}}}function ka(e,t,n,r,o,i,s,a,u,c){const l=ngDevMode?function(e){return function(e,t){switch(e){case 0:return void 0===ra&&(ra=new sa),ra;case 1:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===oa&&(oa=new aa),oa;void 0===ta&&(ta=new Map);let e=ta.get(t);return void 0===e&&(e=new(Ws("LComponentView"+ca(t))),ta.set(t,e)),e;case 2:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===ia&&(ia=new ua),ia;void 0===na&&(na=new Map);let n=na.get(t);return void 0===n&&(n=new(Ws("LEmbeddedView"+ca(t))),na.set(t,n)),n}}(e.type,e.template&&e.template.name).concat(e.blueprint)}(t):t.blueprint.slice();return l[0]=o,l[2]=140|r,St(l),ngDevMode&&t.declTNode&&e&&Ve(t.declTNode,e),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],ngDevMode&&T(l[10],"RendererFactory is required"),l[11]=a||e&&e[11],ngDevMode&&T(l[11],"Renderer is required"),l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=i,ngDevMode&&C(2!=t.type||null!==e,!0,"Embedded views must have parentLView"),l[16]=2==t.type?e[16]:l,ngDevMode&&function(e){Xs(e,new Ca(e))}(l),l}function Na(e,t,n,r,o){ngDevMode&&0!==t&&P(t,Te,"TNodes can't be in the LView header."),ngDevMode&&function(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&A(`Expected TNodeType to have only a single type selected, but got ${xn(e)}.`)}(n);let i=e.data[t];if(null===i)i=Ra(e,t,n,r,o),It.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=Lt();i.injectorIndex=null===s?-1:s.injectorIndex,ngDevMode&&$e(i,e),ngDevMode&&C(t,i.index,"Expecting same index")}return Vt(i,!0),i}function Ra(e,t,n,r,o){const i=Ft(),s=$t(),a=s?i:i&&i.parent,u=e.data[t]=function(e,t,n,r,o,i){ngDevMode&&0!==r&&P(r,Te,"TNodes can't be in the LView header."),ngDevMode&&D(i,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&t&&$e(t,e);let s=t?t.injectorIndex:-1;const a=ngDevMode?new class{constructor(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g,m,_,w,M,C,x,O,D,S,E,I,P,T){this.tView_=e,this.type=t,this.index=n,this.insertBeforeIndex=r,this.injectorIndex=o,this.directiveStart=i,this.directiveEnd=s,this.directiveStylingLast=a,this.propertyBindings=u,this.flags=c,this.providerIndexes=l,this.value=f,this.attrs=d,this.mergedAttrs=p,this.localNames=h,this.initialInputs=v,this.inputs=y,this.outputs=b,this.tViews=g,this.next=m,this.projectionNext=_,this.child=w,this.parent=M,this.projection=C,this.styles=x,this.stylesWithoutHost=O,this.residualStyles=D,this.classes=S,this.classesWithoutHost=E,this.residualClasses=I,this.classBindings=P,this.styleBindings=T}debugNodeInjectorPath(e){const t=[];let n=Vn(this,e);if(-1===n){const t=$n(this,e);t!==Mn&&(n=An(t),e=jn(t,e))}for(;-1!==n;){ngDevMode&&Xe(e,n);const r=e[1].data[n+8];t.push(Sa(r,e));const o=e[n+8];o===Mn?n=-1:(n=An(o),e=jn(o,e))}return t}get type_(){return xn(this.type)||`TNodeType.?${this.type}?`}get flags_(){const e=[];return 16&this.flags&&e.push("TNodeFlags.hasClassInput"),8&this.flags&&e.push("TNodeFlags.hasContentQuery"),32&this.flags&&e.push("TNodeFlags.hasStyleInput"),128&this.flags&&e.push("TNodeFlags.hasHostBindings"),2&this.flags&&e.push("TNodeFlags.isComponentHost"),1&this.flags&&e.push("TNodeFlags.isDirectiveHost"),64&this.flags&&e.push("TNodeFlags.isDetached"),4&this.flags&&e.push("TNodeFlags.isProjected"),e.join("|")}get template_(){if(1&this.type)return this.value;const e=[],t="string"==typeof this.value&&this.value||this.type_;if(e.push("<",t),this.flags&&e.push(" ",this.flags_),this.attrs)for(let t=0;t<this.attrs.length;){const n=this.attrs[t++];if("number"==typeof n)break;const r=this.attrs[t++];e.push(" ",n,'="',r,'"')}return e.push(">"),fa(this.child,e),e.push("</",t,">"),e.join("")}get styleBindings_(){return la(this,!1)}get classBindings_(){return la(this,!0)}get providerIndexStart_(){return 1048575&this.providerIndexes}get providerIndexEnd_(){return this.providerIndexStart_+(this.providerIndexes>>>20)}}(e,n,r,null,s,-1,-1,-1,null,0,0,o,i,null,null,void 0,null,null,null,null,null,null,t,null,null,null,void 0,null,null,void 0,0,0):{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return ngDevMode&&Object.seal(a),a}(e,a,n,t,r,o);return null===e.firstChild&&(e.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}function Fa(e,t,n,r){if(0===n)return-1;ngDevMode&&(Ge(e),O(e,t[1],"`LView` must be associated with `TView`!"),C(e.data.length,t.length,"Expecting LView to be same size as TView"),C(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),Je(e));const o=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function La(e,t,n){ngDevMode&&C(xt(t),!0,"Should be run in creation mode"),rn(t);try{const r=e.viewQuery;null!==r&&Mu(1,r,n);const o=e.template;null!==o&&Ha(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ja(e,t),e.staticViewQueries&&Mu(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)yu(e,t[n])}(t,i)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[2]&=-5,cn()}}function Va(e,t,n,r){ngDevMode&&C(xt(t),!1,"Should be run in update mode");const o=t[2];if(256==(256&o))return;rn(t);const i=Ut();try{St(t),qt(e.bindingStartIndex),null!==n&&Ha(e,t,n,2,r);const s=3==(3&o);if(!i)if(s){const n=e.preOrderCheckHooks;null!==n&&bn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&gn(t,n,0,null),mn(t,0)}if(function(e){for(let t=Zi(e);null!==t;t=Qi(t)){if(!t[2])continue;const e=t[9];ngDevMode&&T(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let t=0;t<e.length;t++){const n=e[t],r=n[3];ngDevMode&&ze(r),0==(1024&n[2])&&Et(r,1),n[2]|=1024}}}(t),function(e){for(let t=Zi(e);null!==t;t=Qi(t))for(let e=Pe;e<t.length;e++){const n=t[e],r=n[1];ngDevMode&&T(r,"TView must be allocated"),Ot(n)&&Va(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&ja(e,t),!i)if(s){const n=e.contentCheckHooks;null!==n&&bn(t,n)}else{const n=e.contentHooks;null!==n&&gn(t,n,1),mn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)fn(~r);else{const o=r,i=n[++e],s=n[++e];Zt(i,o),s(2,t[o])}}}finally{fn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)hu(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Mu(2,u,r),!i)if(s){const n=e.viewCheckHooks;null!==n&&bn(t,n)}else{const n=e.viewHooks;null!==n&&gn(t,n,2),mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Et(t[3],-1))}finally{cn()}}function $a(e,t,n,r){const o=t[10],i=!Ut(),s=xt(t);try{i&&!s&&o.begin&&o.begin(),s&&La(e,t,r),Va(e,t,n,r)}finally{i&&!s&&o.end&&o.end()}}function Ha(e,t,n,r,o){const i=ln(),s=2&r;try{fn(-1),s&&t.length>Te&&Bs(e,t,Te,Ut()),ct(s?2:0,o),n(r,o)}finally{fn(i),ct(s?3:1,o)}}function Ua(e,t,n){if(Ne(t)){const r=t.directiveStart,o=t.directiveEnd;for(let t=r;t<o;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function Ba(e,t,n){Pt()&&(function(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Fn(n,t),wi(r,t);const s=n.initialInputs;for(let r=o;r<i;r++){const i=e.data[r],a=Le(i);a&&(ngDevMode&&On(n,3),au(t,n,i));const u=Jn(t,e,r,n);wi(u,t),null!==s&&lu(t,r-o,u,i,n,s),a&&(Ct(n.index,t)[8]=u)}}(e,t,n,_t(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=(e.firstCreatePass,n.index),s=It.lFrame.currentDirectiveIndex;try{fn(i);for(let n=r;n<o;n++){const r=e.data[n],o=t[n];Qt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||nu(r,o)}}finally{fn(-1),Qt(s)}}(e,t,n))}function Wa(e,t,n=_t){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function za(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=qa(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function qa(e,t,n,r,o,i,s,a,u,c){ngDevMode&&ngDevMode.tView++;const l=Te+r,f=l+o,d=function(e,t){const n=ngDevMode?new ha:[];for(let r=0;r<t;r++)n.push(r<e?null:Hs);return n}(l,f),p="function"==typeof c?c():c,h=d[1]=ngDevMode?new class{constructor(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g,m,_,w,M,C,x,O,D,S,E,I,P,T){this.type=e,this.blueprint=t,this.template=n,this.queries=r,this.viewQuery=o,this.declTNode=i,this.data=s,this.bindingStartIndex=a,this.expandoStartIndex=u,this.hostBindingOpCodes=c,this.firstCreatePass=l,this.firstUpdatePass=f,this.staticViewQueries=d,this.staticContentQueries=p,this.preOrderHooks=h,this.preOrderCheckHooks=v,this.contentHooks=y,this.contentCheckHooks=b,this.viewHooks=g,this.viewCheckHooks=m,this.destroyHooks=_,this.cleanup=w,this.contentQueries=M,this.components=C,this.directiveRegistry=x,this.pipeRegistry=O,this.firstChild=D,this.schemas=S,this.consts=E,this.incompleteFirstPass=I,this._decls=P,this._vars=T}get template_(){const e=[];return fa(this.firstChild,e),e.join("")}get type_(){return Ae[this.type]||`TViewType.?${this.type}?`}}(e,d,n,null,a,t,(v=d,void 0===pa&&(pa=new da),pa.concat(v)).fill(null,l),l,f,null,!0,!0,!1,!1,null,null,null,null,null,null,null,null,null,null,"function"==typeof i?i():i,"function"==typeof s?s():s,null,u,p,!1,r,o):{type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1};var v;return ngDevMode&&Object.seal(h),h}function Ka(e,t,n){if(yt(e)){const r=n===X.ShadowDom;return e.selectRootElement(t,r)}let r="string"==typeof t?e.querySelector(t):t;return ngDevMode&&function(e,t){if(!e)throw new Error(`Renderer: ${"string"==typeof t?"Host node with selector not found:":"Host node is required:"} [${y(t)}]`)}(r,t),r.textContent="",r}function Ga(e,t,n,r){const o=Ou(t);null===n?(ngDevMode&&Object.freeze(Du(e)),o.push(r)):(o.push(n),e.firstCreatePass&&Du(e).push(r,o.length-1))}function Ja(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];n.hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function Za(e,t,n,r,o,i,s,a){ngDevMode&&D(o,Hs,"Incoming value should never be NO_CHANGE.");const u=_t(t,n);let c,l=t.inputs;if(!a&&null!=l&&(c=l[r]))Iu(e,n,c,r,o),Re(t)&&function(e,t){ngDevMode&&Ke(e);const n=Ct(t,e);16&n[2]||(n[2]|=64)}(n,t.index),ngDevMode&&function(e,t,n,r,o){if(7&n)for(let i=0;i<r.length;i+=2)Qa(e,t,n,r[i+1],o)}(n,u,t.type,c,o);else if(3&t.type){if(r="class"===(f=r)?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f,ngDevMode){if(function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new p(306,t)}}(r),!function(e,t,n,r){return null===e.schemas||(!!(Ya(e,r.value)||n in t||En(n))||("undefined"==typeof Node||null===Node||!(t instanceof Node)))}(e,u,r,t))return void Xa(r,t);ngDevMode.rendererSetProperty++}o=null!=s?s(o,t.value||"",r):o,yt(i)?i.setProperty(u,r,o):En(r)||(u.setProperty?u.setProperty(r,o):u[r]=o)}else 12&t.type&&ngDevMode&&!Ya(e,t.value)&&Xa(r,t);var f}function Qa(e,t,n,r,o){const i=e[11];var s;s=r.replace(/[$@]/g,"_"),r=`ng-reflect-${s.replace(Ri,((...e)=>"-"+e[1].toLowerCase()))}`;const a=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(o);if(3&n)null==o?yt(i)?i.removeAttribute(t,r):t.removeAttribute(r):yt(i)?i.setAttribute(t,r,a):t.setAttribute(r,a);else{const e=Ni(`bindings=${JSON.stringify({[r]:a},null,2)}`);yt(i)?i.setValue(t,e):t.textContent=e}}function Ya(e,t){const n=e.schemas;if(null!==n)for(let e=0;e<n.length;e++){const r=n[e];if(r===Ai||r===Ti&&t&&t.indexOf("-")>-1)return!0}return!1}function Xa(e,t){let n=`Can't bind to '${e}' since it isn't a known property of '${t.value}'.`;console.error(h(303,n))}function eu(e,t,n,r){ngDevMode&&Ge(e);let o=!1;if(Pt()){const i=function(e,t,n){ngDevMode&&Ge(e),ngDevMode&&On(n,15);const r=e.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Fs(n,s.selectors,!1)&&(o||(o=ngDevMode?new va:[]),Hn(Fn(n,t),e,s.type),Le(s)?(ngDevMode&&(On(n,2,`"${n.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${a(s.type)} component.`),2&n.flags&&Bi(n)),ru(e,n),o.unshift(s)):o.push(s))}return o}(e,t,n),s=null===r?null:{"":-1};if(null!==i){o=!0,iu(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Fa(e,t,i.length,null);ngDevMode&&O(u,n.directiveStart,"TNode.directiveStart should point to just allocated space");for(let o=0;o<i.length;o++){const c=i[o];n.mergedAttrs=In(n.mergedAttrs,c.hostAttrs),su(e,n,t,u,c),ou(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){ngDevMode&&Ge(e);const n=t.directiveStart,r=t.directiveEnd,o=e.data,i=t.attrs,s=ngDevMode?new ga:[];let a=null,u=null;for(let e=n;e<r;e++){const n=o[e],r=n.inputs,c=null===i||As(t)?null:fu(r,i);s.push(c),a=Ja(r,e,a),u=Ja(n.outputs,e,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=u}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=ngDevMode?new ba:[];for(let e=0;e<t.length;e+=2){const o=n[t[e+1]];if(null==o)throw new p(-301,ngDevMode&&`Export of name '${t[e+1]}' not found!`);r.push(t[e],o)}}}(n,r,s)}return n.mergedAttrs=In(n.mergedAttrs,n.attrs),o}function tu(e,t,n,r,o,i){ngDevMode&&Ge(e);const s=i.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,o,s)}}function nu(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ru(e,t){ngDevMode&&Ge(e),t.flags|=2,(e.components||(e.components=ngDevMode?new ya:[])).push(t.index)}function ou(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Le(t)&&(n[""]=e)}}function iu(e,t,n){ngDevMode&&x(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function su(e,t,n,r,o){ngDevMode&&P(r,Te,"Must be in Expando section"),e.data[r]=o;const i=o.factory||(o.factory=et(o.type,!0)),s=new Cn(i,Le(o),null);e.blueprint[r]=s,n[r]=s,tu(e,t,0,r,Fa(e,n,o.hostVars,Hs),o)}function au(e,t,n){const r=_t(t,e),o=za(n),i=e[10],s=bu(e,ka(e,o,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=s}function uu(e,t,n,r,o,i){ngDevMode&&(D(r,Hs,"Incoming value should never be NO_CHANGE."),function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new p(306,t)}}(n),On(e,2,`Attempted to set attribute \`${n}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const s=_t(e,t);cu(t[11],s,i,e.value,n,r,o)}function cu(e,t,n,r,o,i,s){if(null==i)ngDevMode&&ngDevMode.rendererRemoveAttribute++,yt(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const a=null==s?v(i):s(i,r||"",o);yt(e)?e.setAttribute(t,o,a,n):n?t.setAttributeNS(n,o,a):t.setAttribute(o,a)}}function lu(e,t,n,r,o,i){const s=i[t];if(null!==s){const t=r.setInput;for(let i=0;i<s.length;){const a=s[i++],u=s[i++],c=s[i++];null!==t?r.setInput(n,c,a,u):n[u]=c,ngDevMode&&Qa(e,_t(o,e),o.type,u,c)}}}function fu(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}const du=class extends Array{};function pu(e,t,n,r){ngDevMode&&Ke(t),ngDevMode&&!yt(t[11])&&j(n);const o=new(ngDevMode?du:Array)(e,!0,!1,t,null,0,r,n,null,null);return ngDevMode&&C(o.length,Pe,"Should allocate correct number of slots for LContainer header."),ngDevMode&&function(e){Xs(e,new Ta(e))}(o),o}function hu(e,t){ngDevMode&&C(xt(e),!1,"Should be run in update mode");const n=Ct(t,e);if(Ot(n)){const e=n[1];80&n[2]?Va(e,n,e.template,n[8]):n[5]>0&&vu(n)}}function vu(e){for(let t=Zi(e);null!==t;t=Qi(t))for(let e=Pe;e<t.length;e++){const n=t[e];if(1024&n[2]){const e=n[1];ngDevMode&&T(e,"TView must be allocated"),Va(e,n,e.template,n[8])}else n[5]>0&&vu(n)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ct(t[n],e);Ot(r)&&r[5]>0&&vu(r)}}function yu(e,t){ngDevMode&&C(xt(e),!0,"Should be run in creation mode");const n=Ct(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),La(r,n,n[8])}function bu(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function gu(e){for(;e;){e[2]|=64;const t=Gi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function mu(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Ci(n),o=r[1];$a(o,r,o.template,n)}}function _u(e,t,n){const r=t[10];r.begin&&r.begin();try{Va(e,t,e.template,n)}catch(e){throw Eu(t,e),e}finally{r.end&&r.end()}}function wu(e){mu(e[8])}function Mu(e,t,n){ngDevMode&&T(t,"View queries function to execute must be defined."),en(0),t(e,n)}function Cu(e,t,n,r,...o){if(null===e[r]&&(null==t.inputs||!t.inputs[n])){(t.propertyBindings||(t.propertyBindings=[])).push(r);let i=n;o.length>0&&(i+=Hi+o.join(Hi)),e[r]=i}}const xu=Aa;function Ou(e){return e[7]||(e[7]=ngDevMode?new ma:[])}function Du(e){return e.cleanup||(e.cleanup=ngDevMode?new _a:[])}function Su(e,t,n){return(null===e||Le(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Eu(e,t){const n=e[9],r=n?n.get(Pi,null):null;r&&r.handleError(t)}function Iu(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],u=t[s];ngDevMode&&k(t,s);const c=e.data[s];null!==c.setInput?c.setInput(u,o,r,a):u[a]=o}}function Pu(e,t,n){ngDevMode&&M(n,"Value should be a string"),ngDevMode&&D(n,Hs,"value should not be NO_CHANGE"),ngDevMode&&k(e,t);const r=mt(t,e);ngDevMode&&T(r,"native element should exist"),ts(e[11],r,n)}function Tu(e,t,n){ngDevMode&&Ge(kt(),"Expecting to be called in first template pass only");let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];"number"==typeof n?i=n:1==i?o=u(o,n):2==i&&(r=u(r,n+": "+t[++e]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Au(e){const t=_i(e);_u(t[1],t,e)}function ju(e){ngDevMode&&T(e,"component");const t=gu(_i(e));ngDevMode&&T(t[8],"rootContext should be defined"),function(e,t){if(0===e.flags&&e.clean==Aa){let t;e.flags|=1,e.clean=new Promise((e=>t=e)),e.scheduler((()=>{if(1&e.flags&&(e.flags&=-2,mu(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=Aa,t(null)}))}}(t[8])}const ku=new lr("INJECTOR",-1);class Nu{get(e,t=Fr){if(t===Fr){const t=new Error(`NullInjectorError: No provider for ${a(e)}!`);throw t.name="NullInjectorError",t}return t}}const Ru=new lr("Set Injector scope."),Fu={},Lu={};let Vu;function $u(){return void 0===Vu&&(Vu=new Nu),Vu}function Hu(e,t=null,n=null,r){const o=Uu(e,t,n,r);return o._resolveInjectorDefTypes(),o}function Uu(e,t=null,n=null,r){return new Bu(e,n,t||$u(),r)}class Bu{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Cr(t,(n=>this.processProvider(n,e,t))),Cr([e],(e=>this.processInjectorType(e,[],o))),this.records.set(ku,qu(void 0,this));const i=this.records.get(Ru);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof e?null:a(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((e=>e.ngOnDestroy()))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Fr,n=q.Default){this.assertNotDestroyed();const r=Ur(this),o=G(void 0);try{if(!(n&q.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof lr)&&V(e);t=n&&this.injectableDefInScope(n)?qu(Wu(e),Fu):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const s=n&q.Self?$u():this.parent;return t=n&q.Optional&&t===Fr?null:t,s.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(a(e)),r)throw t;return function(e,t,n,r){const o=e.ngTempTokenPath;throw t[Vr]&&o.unshift(t[Vr]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&""==e.charAt(1)?e.substr(2):e;let o=a(t);if(Array.isArray(t))o=t.map(a).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):a(r)))}o=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Lr,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e.ngTempTokenPath=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{G(o),Ur(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach((e=>this.get(e)))}toString(){const e=[];return this.records.forEach(((t,n)=>e.push(a(n)))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new p(205,ngDevMode&&"Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=H(e);const o=null==r&&e.ngModule||void 0,i=void 0===o?e:o;ngDevMode&&-1!==t.indexOf(i)&&b(a(i),t.map(a));const s=-1!==n.indexOf(i);if(void 0!==o&&(r=H(o)),null==r)return!1;if(null!=r.imports&&!s){let e;ngDevMode&&t.push(i),n.push(i);try{Cr(r.imports,(r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))}))}finally{ngDevMode&&t.pop()}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Cr(r,(e=>this.processProvider(e,n,r||ue)))}}this.injectorDefTypes.add(i);const u=et(i)||(()=>new i);this.records.set(i,qu(u,Fu));const c=r.providers;if(null!=c&&!s){const t=e;Cr(c,(e=>this.processProvider(e,t,c)))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,n){let r=Gu(e=f(e))?e:f(e&&e.provide);const o=function(e,t,n){return Ku(e)?qu(void 0,e.useValue):qu(zu(e,t,n),Fu)}(e,t,n);if(Gu(e)||!0!==e.multi){const e=this.records.get(r);ngDevMode&&e&&void 0!==e.multi&&g()}else{let t=this.records.get(r);t?ngDevMode&&void 0===t.multi&&g():(t=qu(void 0,Fu,!0),t.factory=()=>Kr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,o)}hydrate(e,t){var n;return ngDevMode&&t.value===Lu?b(a(e)):t.value===Fu&&(t.value=Lu,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Wu(e){const t=V(e),n=null!==t?t.factory:et(e);if(null!==n)return n;if(e instanceof lr)throw new p(204,ngDevMode&&`Token ${a(e)} is missing a prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Dr(t,"?");throw new p(204,ngDevMode&&`Can't resolve all parameters for ${a(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[U]||e[W]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new p(204,ngDevMode&&"unreachable")}function zu(e,t,n){let r;if(Gu(e)){const t=f(e);return et(t)||Wu(t)}if(Ku(e))r=()=>f(e.useValue);else if((o=e)&&o.useFactory)r=()=>e.useFactory(...Kr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Wr(f(e.useExisting));else{const o=f(e&&(e.useClass||e.provide));if(ngDevMode&&!o&&function(e,t,n){let r="";throw e&&t&&(r=` - only instances of Provider and Type are allowed, got: [${t.map((e=>e==n?"?"+n+"?":"...")).join(", ")}]`),new Error(`Invalid provider for the NgModule '${a(e)}'`+r)}(t,n,e),!function(e){return!!e.deps}(e))return et(o)||Wu(o);r=()=>new o(...Kr(e.deps))}var o;return r}function qu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ku(e){return null!==e&&"object"==typeof e&&$r in e}function Gu(e){return"function"==typeof e}class Ju{static create(e,t){var n;if(Array.isArray(e))return Hu({name:""},t,e,"");{const t=null!==(n=e.name)&&void 0!==n?n:"";return Hu({name:t},e.parent,e.providers,t)}}}function Zu(e){sc(e);const t=gi(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];let r=n.directiveStart;return 2&n.flags?t[r]:null}(t.nodeIndex,t.lView)),t.component)}function Qu(e){sc(e);const t=gi(e);return null===t?null:t.lView[8]}function Yu(e){const t=gi(e);if(null===t)return null;let n,r=t.lView;for(ngDevMode&&Ke(r);2===r[1].type&&(n=Gi(r));)r=n;return 512&r[2]?null:r[8]}function Xu(e){return[...Ji(e).components]}function ec(e){const t=gi(e);if(null===t)return Ju.NULL;const n=t.lView[1].data[t.nodeIndex];return new Yn(n,t.lView)}function tc(e){if(e instanceof Text)return[];const t=gi(e);if(null===t)return[];const n=t.lView,r=n[1],o=t.nodeIndex;return(null==r?void 0:r.data[o])?(void 0===t.directives&&(t.directives=Si(o,n,!1)),null===t.directives?[]:[...t.directives]):[]}function nc(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=De(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?Q.OnPush:Q.Default};const r=Se(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function rc(e){return gi(e).native}function oc(e){sc(e);const t=gi(e);if(null===t)return[];const n=t.lView,r=n[1],o=n[7],i=r.cleanup,s=[];if(i&&o)for(let t=0;t<i.length;){const r=i[t++],a=i[t++];if("string"==typeof r){const u=r,c=gt(n[a]),l=o[i[t++]],f=i[t++],d="boolean"==typeof f||f>=0?"dom":"output",p="boolean"==typeof f&&f;e==c&&s.push({element:e,name:u,callback:l,useCapture:p,type:d})}}return s.sort(ic),s}function ic(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function sc(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function ac(e){ju(e),Xu(e).forEach((e=>Au(e)))}Ju.THROW_IF_NOT_FOUND=Fr,Ju.NULL=new Nu,Ju.prov=R({token:Ju,providedIn:"any",factory:()=>Wr(ku)}),Ju.__NG_ELEMENT_ID__=-1;let uc=!1;function cc(){uc||(uc=!0,lc("setProfiler",ut),lc("getDirectiveMetadata",nc),lc("getComponent",Zu),lc("getContext",Qu),lc("getListeners",oc),lc("getOwningComponent",Yu),lc("getHostElement",rc),lc("getInjector",ec),lc("getRootComponents",Xu),lc("getDirectives",tc),lc("applyChanges",ac))}function lc(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=ie;if(ngDevMode&&T(t,"function not defined"),n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function fc(e,t={}){ngDevMode&&cc(),ngDevMode&&Be(e);const n=t.rendererFactory||bt,r=t.sanitizer||null,o=De(e);o.type!=e&&(o.type=e);const i=o.selectors[0][0],s=Ka(n.createRenderer(null,null),t.host||i,o.encapsulation),a=o.onPush?576:528,u=hc(t.scheduler,t.playerHandler),c=n.createRenderer(s,o),l=qa(0,null,null,1,0,null,null,null,null,null),f=ka(null,l,u,a,null,null,n,c,null,t.injector||null);let d;rn(f);try{n.begin&&n.begin(),d=pc(dc(s,o,f,n,c,r),o,f,u,t.hostFeatures||null),La(l,f,null),Va(l,f,null,null)}finally{cn(),n.end&&n.end()}return d}function dc(e,t,n,r,o,i){const s=n[1];ngDevMode&&k(n,20),n[20]=e;const a=Na(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(Tu(a,u,!0),null!==e&&(Dn(o,e,u),null!==a.classes&&Es(o,e,a.classes),null!==a.styles&&Ss(o,e,a.styles)));const c=r.createRenderer(e,t),l=ka(n,za(t),null,t.onPush?64:16,n[20],a,r,c,i||null,null);return s.firstCreatePass&&(Hn(Fn(a,n),s,t.type),ru(s,a),iu(a,n.length,1)),bu(n,l),n[20]=l}function pc(e,t,n,r,o){const i=n[1],s=function(e,t,n){const r=Rt();if(e.firstCreatePass){n.providersResolver&&n.providersResolver(n);const o=Fa(e,t,1,null);ngDevMode&&C(o,r.directiveStart,"Because this is a root component the allocated expando should match the TNode component."),su(e,r,t,o,n)}const o=Jn(t,e,r.directiveStart,r);wi(o,t);const i=_t(r,t);return i&&wi(i,t),o}(i,n,t);if(r.components.push(s),e[8]=s,o&&o.forEach((e=>e(s,t))),t.contentQueries){const e=Rt();ngDevMode&&T(e,"TNode expected"),t.contentQueries(1,s,e.directiveStart)}const a=Rt();return ngDevMode&&T(a,"tNode should have been already created"),!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(fn(a.index),tu(n[1],a,0,a.directiveStart,a.directiveEnd,t),nu(t,s)),s}function hc(e,t){return{components:[],scheduler:e||Fi,clean:xu,playerHandler:t||null,flags:0}}function vc(e,t){const n=Ci(e);ngDevMode&&T(n,"LView is required");const r=n[1],o=Rt();ngDevMode&&T(o,"TNode is required"),yn(r,o)}function yc(e){return Ji(e).clean}function bc(e){return Object.getPrototypeOf(e.prototype).constructor}function gc(e){let t=bc(e.type),n=!0;const r=[e];for(;t;){let o;if(Le(e))o=t.cmp||t.dir;else{if(t.cmp){const e="undefined"==typeof ngDevMode||ngDevMode?"Directives cannot inherit Components":"";throw new p(903,e)}o=t.dir}if(o){if(n){r.push(o);const t=e;t.inputs=mc(e.inputs),t.declaredInputs=mc(e.declaredInputs),t.outputs=mc(e.outputs);const n=o.hostBindings;n&&Mc(e,n);const i=o.viewQuery,a=o.contentQueries;if(i&&_c(e,i),a&&wc(e,a),s(e.inputs,o.inputs),s(e.declaredInputs,o.declaredInputs),s(e.outputs,o.outputs),Le(o)&&o.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(o.data.animation)}}const t=o.features;if(t)for(let r=0;r<t.length;r++){const o=t[r];o&&o.ngInherit&&o(e),o===gc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=In(o.hostAttrs,n=In(n,o.hostAttrs))}}(r)}function mc(e){return e===ae?{}:e===ue?[]:e}function _c(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function wc(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,o)=>{t(e,r,o),n(e,r,o)}:t}function Mc(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Cc=["providersResolver"],xc=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Oc(e){let t,n=bc(e.type);t=Le(e)?n.cmp:n.dir;const r=e;for(const e of Cc)r[e]=t[e];if(Le(t))for(const e of xc)r[e]=t[e]}let Dc=null;function Sc(){if(!Dc){const e=ie.Symbol;if(e&&e.iterator)Dc=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Dc=n)}}}return Dc}function Ec(e,t){const n=Ic(e),r=Ic(t);if(n&&r)return function(e,t,n){const r=e[Sc()](),o=t[Sc()]();for(;;){const e=r.next(),t=o.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Ec);{const o=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!o||r||!i)||Object.is(e,t)}}function Ic(e){return!!Pc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Sc()in e)}function Pc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Tc(e,t,n){return e[t]=n}function Ac(e,t){return ngDevMode&&k(e,t),ngDevMode&&D(e[t],Hs,"Stored value should never be NO_CHANGE."),e[t]}function jc(e,t,n){ngDevMode&&D(n,Hs,"Incoming value should never be NO_CHANGE."),ngDevMode&&S(t,e.length,"Slot should have been initialized to NO_CHANGE");const r=e[t];if(Object.is(r,n))return!1;if(ngDevMode&&Ut()){const o=r!==Hs?r:void 0;if(!Ec(o,n)){const i=function(e,t,n,r){const o=e[1].data,i=o[t];if("string"==typeof i)return i.indexOf(Hi)>-1?Wi(e,t,t,i,r):{propName:i,oldValue:n,newValue:r};if(null===i){let n=t-1;for(;"string"!=typeof o[n]&&null===o[n+1];)n--;const i=o[n];if("string"==typeof i){const o=i.match(new RegExp(Hi,"g"));if(o&&o.length-1>t-n)return Wi(e,n,t,i,r)}}return{propName:void 0,oldValue:n,newValue:r}}(e,t,o,n);!function(e,t,n,r){let o=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${r?` for '${r}'`:""}: '${t}'. Current value: '${n}'.`;throw e&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new p(-100,o)}(r===Hs,i.oldValue,i.newValue,i.propName)}return!1}return e[t]=n,!0}function kc(e,t,n,r){const o=jc(e,t,n);return jc(e,t+1,r)||o}function Nc(e,t,n,r,o){const i=kc(e,t,n,r);return jc(e,t+2,o)||i}function Rc(e,t,n,r,o,i){const s=kc(e,t,n,r);return kc(e,t+2,o,i)||s}function Fc(e,t,n,r){const o=jt(),i=Kt();if(jc(o,i,t)){const s=kt(),a=dn();uu(a,o,e,t,n,r),ngDevMode&&Cu(s.data,a,"attr."+e,i)}return Fc}function Lc(e,t){ngDevMode&&S(2,t.length,"should have at least 3 values"),ngDevMode&&C(t.length%2,1,"should have an odd number of values");let n=!1,r=zt();for(let o=1;o<t.length;o+=2)n=jc(e,r++,t[o])||n;if(qt(r),!n)return Hs;let o=t[0];for(let e=1;e<t.length;e+=2)o+=v(t[e])+t[e+1];return o}function Vc(e,t,n,r){return jc(e,Kt(),n)?t+v(n)+r:Hs}function $c(e,t,n,r,o,i){const s=kc(e,zt(),n,o);return Gt(2),s?t+v(n)+r+v(o)+i:Hs}function Hc(e,t,n,r,o,i,s,a){const u=Nc(e,zt(),n,o,s);return Gt(3),u?t+v(n)+r+v(o)+i+v(s)+a:Hs}function Uc(e,t,n,r,o,i,s,a,u,c){const l=Rc(e,zt(),n,o,s,u);return Gt(4),l?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c:Hs}function Bc(e,t,n,r,o,i,s,a,u,c,l,f){const d=zt();let p=Rc(e,d,n,o,s,u);return p=jc(e,d+4,l)||p,Gt(5),p?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f:Hs}function Wc(e,t,n,r,o,i,s,a,u,c,l,f,d,p){const h=zt();let y=Rc(e,h,n,o,s,u);return y=kc(e,h+4,l,d)||y,Gt(6),y?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f+v(d)+p:Hs}function zc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,y){const b=zt();let g=Rc(e,b,n,o,s,u);return g=Nc(e,b+4,l,d,h)||g,Gt(7),g?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f+v(d)+p+v(h)+y:Hs}function qc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,y,b,g){const m=zt();let _=Rc(e,m,n,o,s,u);return _=Rc(e,m+4,l,d,h,b)||_,Gt(8),_?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f+v(d)+p+v(h)+y+v(b)+g:Hs}function Kc(e,t,n,r,o,i){const s=jt(),a=Vc(s,t,n,r);if(a!==Hs){const n=dn();uu(n,s,e,a,o,i),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-1,t,r)}return Kc}function Gc(e,t,n,r,o,i,s,a){const u=jt(),c=$c(u,t,n,r,o,i);if(c!==Hs){const n=dn();uu(n,u,e,c,s,a),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-2,t,r,i)}return Gc}function Jc(e,t,n,r,o,i,s,a,u,c){const l=jt(),f=Hc(l,t,n,r,o,i,s,a);if(f!==Hs){const n=dn();uu(n,l,e,f,u,c),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-3,t,r,i,a)}return Jc}function Zc(e,t,n,r,o,i,s,a,u,c,l,f){const d=jt(),p=Uc(d,t,n,r,o,i,s,a,u,c);if(p!==Hs){const n=dn();uu(n,d,e,p,l,f),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-4,t,r,i,a,c)}return Zc}function Qc(e,t,n,r,o,i,s,a,u,c,l,f,d,p){const h=jt(),v=Bc(h,t,n,r,o,i,s,a,u,c,l,f);if(v!==Hs){const n=dn();uu(n,h,e,v,d,p),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-5,t,r,i,a,c,f)}return Qc}function Yc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v){const y=jt(),b=Wc(y,t,n,r,o,i,s,a,u,c,l,f,d,p);if(b!==Hs){const n=dn();uu(n,y,e,b,h,v),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-6,t,r,i,a,c,f,p)}return Yc}function Xc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b){const g=jt(),m=zc(g,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v);if(m!==Hs){const n=dn();uu(n,g,e,m,y,b),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-7,t,r,i,a,c,f,p,v)}return Xc}function el(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g,m){const _=jt(),w=qc(_,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b);if(w!==Hs){const n=dn();uu(n,_,e,w,g,m),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-8,t,r,i,a,c,f,p,v,b)}return el}function tl(e,t,n,r){const o=jt(),i=Lc(o,t);if(i!==Hs){const s=dn();if(uu(s,o,e,i,n,r),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Cu(kt().data,s,"attr."+e,zt()-n.length+1,...n)}}return tl}function nl(e,t,n,r,o,i,s,a){const u=jt(),c=kt(),l=e+Te,f=c.firstCreatePass?function(e,t,n,r,o,i,s,a,u){ngDevMode&&Ge(t),ngDevMode&&ngDevMode.firstCreatePass++;const c=t.consts,l=Na(t,e,4,s||null,Dt(c,a));eu(t,n,l,Dt(c,u)),yn(t,l);const f=l.tViews=qa(2,l,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,o,i,s):c.data[l];Vt(f,!1);const d=u[11].createComment(ngDevMode?"container":"");ms(c,u,d,f),wi(d,u),bu(u,u[l]=pu(d,u,d,f)),Fe(f)&&Ba(c,u,f),null!=s&&Wa(u,f,a)}function rl(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function ol(e){return Mt(It.lFrame.contextLView,Te+e)}const il={defineInjectable:R,defineInjector:L,inject:Wr,invalidFactoryDep:zr,resolveForwardRef:f};const sl=i({provide:String,useValue:i});function al(e){return void 0!==e.useClass}function ul(e){return void 0!==e.useFactory}const cl=ir("Injectable",void 0,void 0,void 0,((e,t)=>function(e,t){let n=null,r=null;e.hasOwnProperty(U)||Object.defineProperty(e,U,{get:()=>{if(null===n){const r=mr({usage:0,kind:"injectable",type:e});n=r.compileInjectable(il,`ng:///${e.name}/prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(al(n)||ul(n))&&void 0!==n.deps&&(r.deps=ro(n.deps)),al(n)?r.useClass=n.useClass:function(e){return sl in e}(n)?r.useValue=n.useValue:ul(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))}return n}}),e.hasOwnProperty(pe)||Object.defineProperty(e,pe,{get:()=>{if(null===r){const t=mr({usage:0,kind:"injectable",type:e});r=t.compileFactory(il,`ng:///${e.name}/fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:no(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t)));function ll(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((e=>a(e.token))).join(" -> ")+")":""}function fl(e,t,n,r){const o=[t],i=n(o),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(i,r):Error(i);return s.addKey=dl,s.keys=o,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function dl(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function pl(e,t){const n=[];for(let e=0,r=t.length;e<r;e++){const r=t[e];r&&0!=r.length?n.push(r.map(a).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+a(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+a(e)+"' is decorated with Injectable.")}class hl{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=a(this.token)}static get(e){return vl.get(f(e))}static get numberOfKeys(){return vl.numberOfKeys}}const vl=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof hl)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new hl(e,hl.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},yl=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new kr);class bl{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new bl(e,!1,null)}}const gl=[];class ml{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class _l{constructor(e,t){this.factory=e,this.dependencies=t}}function wl(e){let t,n;if(e.useClass){const r=f(e.useClass);t=yl.factory(r),n=Ol(r)}else e.useExisting?(t=e=>e,n=[bl.fromKey(hl.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map((e=>[e]));return t.map((t=>Dl(e,t,n)))}return Ol(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=gl);return new _l(t,n)}function Ml(e){return new ml(hl.get(e.provide),[wl(e)],e.multi||!1)}function Cl(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${o} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)o.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new ml(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(xl(e,[]).map(Ml),new Map);return Array.from(t.values())}function xl(e,t){return e.forEach((e=>{if(e instanceof _r)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);xl(e,t)}})),t}function Ol(e){const t=yl.parameters(e);if(!t)return[];if(t.some((e=>null==e)))throw pl(e,t);return t.map((n=>Dl(e,n,t)))}function Dl(e,t,n){let r=null,o=!1;if(!Array.isArray(t))return Sl(t instanceof Jr?t.token:t,o,null);let i=null;for(let e=0;e<t.length;++e){const n=t[e];n instanceof _r?r=n:n instanceof Jr?r=n.token:n instanceof Zr?o=!0:n instanceof Qr||n instanceof Yr?i=n:n instanceof lr&&(r=n)}if(r=f(r),null!=r)return Sl(r,o,i);throw pl(e,n)}function Sl(e,t,n){return new bl(hl.get(e),t,n)}const El={};class Il{static resolve(e){return Cl(e)}static resolveAndCreate(e,t){const n=Il.resolve(e);return Il.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Pl(e,t)}}class Pl{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let t=0;t<n;t++)this.keyIds[t]=e[t].key.id,this.objs[t]=El}get(e,t=Fr){return this._getByKey(hl.get(e),null,t)}resolveAndCreateChild(e){const t=Il.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Pl(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(Il.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,fl(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${ll(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,o;try{r=t.dependencies.map((e=>this._getByReflectiveDependency(e)))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{o=n(...r)}catch(t){throw this,i=t,t.stack,fl(this,e.key,(function(e){const t=a(e[0].token);return`${i.message}: Error during instantiation of ${t}!${ll(e)}.`}),i)}var i;return o}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:Fr)}_getByKey(e,t,n){return e===Pl.INJECTOR_KEY?this:t instanceof Qr?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===El&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return El}_throwOrNull(e,t){if(t!==Fr)return t;throw function(e,t){return fl(e,t,(function(e){return`No provider for ${a(e[0].token)}!${ll(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==El?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof Yr?this.parent:this;r instanceof Pl;){const t=r,n=t._getObjByKeyId(e.id);if(n!==El)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let t=0;t<e._providers.length;++t)n[t]=' "'+e.getProviderAtIndex(t).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}function Tl(e,t=q.Default){const n=jt();return null===n?(ngDevMode&&(ngDevMode&&x(K,Tl,"Calling inject would cause infinite recursion")),Wr(e,t)):Wn(Rt(),n,f(e),t)}function Al(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function jl(e,t,n){const r=jt(),o=Kt();if(jc(r,o,t)){const i=kt(),s=dn();Za(i,s,r,e,t,r[11],n,!1),ngDevMode&&Cu(i.data,s,e,o)}return jl}function kl(e,t,n,r,o){const i=o?"class":"style";Iu(e,n,t.inputs[i],i,r)}function Nl(e,t,n,r){const o=jt(),i=kt(),s=Te+e;ngDevMode&&C(zt(),i.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&k(o,s);const a=o[11],u=o[s]=rs(a,t,It.lFrame.currentNamespace),c=i.firstCreatePass?function(e,t,n,r,o,i,s){ngDevMode&&Ge(t),ngDevMode&&ngDevMode.firstCreatePass++;const a=t.consts,u=Na(t,e,2,o,Dt(a,i)),c=eu(t,n,u,Dt(a,s));return ngDevMode&&function(e,t,n,r){if(null===e.schemas)return;const o=n.value;if(!r&&null!==o&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&t instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&o.indexOf("-")>-1&&!customElements.get(o))&&!Ya(e,o)){let e=`'${o}' is not a known element:\n`;e+=`1. If '${o}' is an Angular component, then verify that it is part of this module.\n`,o&&o.indexOf("-")>-1?e+=`2. If '${o}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",console.error(h(304,e))}}(t,r,u,c),null!==u.attrs&&Tu(u,u.attrs,!1),null!==u.mergedAttrs&&Tu(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,i,o,u,t,n,r):i.data[s];Vt(c,!0);const l=c.mergedAttrs;null!==l&&Dn(a,u,l);const f=c.classes;null!==f&&Es(a,u,f);const d=c.styles;return null!==d&&Ss(a,u,d),64!=(64&c.flags)&&ms(i,o,u,c),0===It.lFrame.elementDepthCount&&wi(u,o),It.lFrame.elementDepthCount++,Fe(c)&&(Ba(i,o,c),Ua(i,c,o)),null!==r&&Wa(o,c),Nl}function Rl(){let e=Rt();ngDevMode&&T(e,"No parent node to close."),$t()?Ht():(ngDevMode&&We(Rt()),e=e.parent,Vt(e,!1));const t=e;ngDevMode&&On(t,3),It.lFrame.elementDepthCount--;const n=kt();return n.firstCreatePass&&(yn(n,e),Ne(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&kl(n,t,jt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&kl(n,t,jt(),t.stylesWithoutHost,!1),Rl}function Fl(e,t,n,r){return Nl(e,t,n,r),Rl(),Fl}function Ll(e,t,n){const r=jt(),o=kt(),i=e+Te;ngDevMode&&k(r,i),ngDevMode&&C(zt(),o.bindingStartIndex,"element containers should be created before any bindings");const s=o.firstCreatePass?function(e,t,n,r,o){ngDevMode&&ngDevMode.firstCreatePass++;const i=t.consts,s=Dt(i,r),a=Na(t,e,8,"ng-container",s);return null!==s&&Tu(a,s,!0),eu(t,n,a,Dt(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,r,t,n):o.data[i];Vt(s,!0),ngDevMode&&ngDevMode.rendererCreateComment++;const a=r[i]=r[11].createComment(ngDevMode?"ng-container":"");return ms(o,r,a,s),wi(a,r),Fe(s)&&(Ba(o,r,s),Ua(o,s,r)),null!=n&&Wa(r,s),Ll}function Vl(){let e=Rt();const t=kt();return $t()?Ht():(ngDevMode&&We(e),e=e.parent,Vt(e,!1)),ngDevMode&&On(e,8),t.firstCreatePass&&(yn(t,e),Ne(e)&&t.queries.elementEnd(e)),Vl}function $l(e,t,n){return Ll(e,t,n),Vl(),$l}function Hl(){return jt()}function Ul(e){return!!e&&"function"==typeof e.then}function Bl(e){return!!e&&"function"==typeof e.subscribe}Pl.INJECTOR_KEY=hl.get(Ju);const Wl=Bl;function zl(e,t,n,r){const o=jt(),i=kt(),s=Rt();return Kl(i,o,o[11],s,e,t,!!n,r),zl}function ql(e,t){const n=Rt(),r=jt(),o=kt();return Kl(o,r,Su(Yt(o.data),n,r),n,e,t,!1),ql}function Kl(e,t,n,r,o,i,s,a){const u=Fe(r),c=e.firstCreatePass&&Du(e),l=t[8],f=Ou(t);ngDevMode&&On(r,15);let d=!0;if(3&r.type||a){const p=_t(r,t),h=a?a(p):p,v=f.length,y=a?e=>a(gt(e[r.index])):r.index;if(yt(n)){let s=null;if(!a&&u&&(s=function(e,t,n,r){const o=e.cleanup;if(null!=o)for(let e=0;e<o.length-1;e+=2){const i=o[e];if(i===n&&o[e+1]===r){const n=t[7],r=o[e+2];return n.length>r?n[r]:null}"string"==typeof i&&(e+=2)}return null}(e,t,o,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,d=!1;else{i=Jl(r,t,l,i,!1);const e=n.listen(h,o,i);ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i,e),c&&c.push(o,y,v,v+1)}}else i=Jl(r,t,l,i,!0),h.addEventListener(o,i,s),ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i),c&&c.push(o,y,v,s)}else i=Jl(r,t,l,i,!1);const p=r.outputs;let h;if(d&&null!==p&&(h=p[o])){const e=h.length;if(e)for(let n=0;n<e;n+=2){const e=h[n];ngDevMode&&k(t,e);const s=h[n+1],a=t[e],u=a[s];if(ngDevMode&&!Wl(u))throw new Error(`@Output ${s} not initialized in '${a.constructor.name}'.`);const l=u.subscribe(i),d=f.length;f.push(i,l),c&&c.push(o,r.index,d,-(d+1))}}}function Gl(e,t,n,r){try{return ct(6,t,n),!1!==n(r)}catch(t){return Eu(e,t),!1}finally{ct(7,t,n)}}function Jl(e,t,n,r,o){return function i(s){if(s===Function)return r;const a=2&e.flags?Ct(e.index,t):t;0==(32&t[2])&&gu(a);let u=Gl(t,n,r,s),c=i.__ngNextListenerFn__;for(;c;)u=Gl(t,n,c,s)&&u,c=c.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Zl(e=1){return function(e){return(It.lFrame.contextLView=function(e,t){for(;e>0;)ngDevMode&&T(t[15],"Declaration view should be defined if nesting level is greater than 0."),t=t[15],e--;return t}(e,It.lFrame.contextLView))[8]}(e)}function Ql(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?Fs(e,i,!0):Ls(r,i))return o}else n=o}return n}function Yl(e){const t=jt()[16][6];if(!t.projection){const n=e?e.length:1,r=t.projection=Dr(n,null),o=r.slice();let i=t.child;for(;null!==i;){const t=e?Ql(i,e):0;null!==t&&(o[t]?o[t].projectionNext=i:r[t]=i,o[t]=i),i=i.next}}}function Xl(e,t=0,n){const r=jt(),o=kt(),i=Na(o,Te+e,16,null,n||null);null===i.projection&&(i.projection=t),Ht(),64!=(64&i.flags)&&function(e,t,n){Ds(t[11],0,t,n,us(e,n,t),hs(n.parent||t[6],n,t))}(o,r,i)}function ef(e,t,n){return tf(e,"",t,"",n),ef}function tf(e,t,n,r,o){const i=jt(),s=Vc(i,t,n,r);if(s!==Hs){const n=kt(),a=dn();Za(n,a,i,e,s,i[11],o,!1),ngDevMode&&Cu(n.data,a,e,zt()-1,t,r)}return tf}function nf(e,t,n,r,o,i,s){const a=jt(),u=$c(a,t,n,r,o,i);if(u!==Hs){const n=kt(),o=dn();Za(n,o,a,e,u,a[11],s,!1),ngDevMode&&Cu(n.data,o,e,zt()-2,t,r,i)}return nf}function rf(e,t,n,r,o,i,s,a,u){const c=jt(),l=Hc(c,t,n,r,o,i,s,a);if(l!==Hs){const n=kt(),o=dn();Za(n,o,c,e,l,c[11],u,!1),ngDevMode&&Cu(n.data,o,e,zt()-3,t,r,i,a)}return rf}function of(e,t,n,r,o,i,s,a,u,c,l){const f=jt(),d=Uc(f,t,n,r,o,i,s,a,u,c);if(d!==Hs){const n=kt(),o=dn();Za(n,o,f,e,d,f[11],l,!1),ngDevMode&&Cu(n.data,o,e,zt()-4,t,r,i,a,c)}return of}function sf(e,t,n,r,o,i,s,a,u,c,l,f,d){const p=jt(),h=Bc(p,t,n,r,o,i,s,a,u,c,l,f);if(h!==Hs){const n=kt(),o=dn();Za(n,o,p,e,h,p[11],d,!1),ngDevMode&&Cu(n.data,o,e,zt()-5,t,r,i,a,c,f)}return sf}function af(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){const v=jt(),y=Wc(v,t,n,r,o,i,s,a,u,c,l,f,d,p);if(y!==Hs){const n=kt(),o=dn();Za(n,o,v,e,y,v[11],h,!1),ngDevMode&&Cu(n.data,o,e,zt()-6,t,r,i,a,c,f,p)}return af}function uf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){const b=jt(),g=zc(b,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v);if(g!==Hs){const n=kt(),o=dn();Za(n,o,b,e,g,b[11],y,!1),ngDevMode&&Cu(n.data,o,e,zt()-7,t,r,i,a,c,f,p,v)}return uf}function cf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g){const m=jt(),_=qc(m,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b);if(_!==Hs){const n=kt(),o=dn();Za(n,o,m,e,_,m[11],g,!1),ngDevMode&&Cu(n.data,o,e,zt()-8,t,r,i,a,c,f,p,v,b)}return cf}function lf(e,t,n){const r=jt(),o=Lc(r,t);if(o!==Hs){const i=kt(),s=dn();if(Za(i,s,r,e,o,r[11],n,!1),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Cu(i.data,s,e,zt()-n.length+1,...n)}}return lf}function ff(e,t,n,r,o){const i=e[n+1],s=null===t;let a=r?qs(i):Js(i),u=!1;for(;0!==a&&(!1===u||s);){ngDevMode&&k(e,a);const n=e[a],o=e[a+1];df(n,t)&&(u=!0,e[a+1]=r?Ys(o):Gs(o)),a=r?qs(o):Js(o)}u&&(e[n+1]=r?Gs(i):Ys(i))}function df(e,t){return ngDevMode&&x(Array.isArray(t),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ir(e,t)>=0}const pf={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hf(e){return e.substring(pf.key,pf.keyEnd)}function vf(e){return e.substring(pf.value,pf.valueEnd)}function yf(e,t){const n=pf.textEnd;return n===t?-1:(t=pf.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pf.key=t,n),mf(e,t,n))}function bf(e,t){const n=pf.textEnd;let r=pf.key=mf(e,t,n);return n===r?-1:(r=pf.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=_f(e,r,n,58),r=pf.value=mf(e,r,n),r=pf.valueEnd=function(e,t,n){let r=-1,o=-1,i=-1,s=t,a=s;for(;s<n;){const u=e.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=wf(e,u,s,n):t===s-4&&85===i&&82===o&&76===r&&40===u?a=s=wf(e,41,s,n):u>32&&(a=s),i=o,o=r,r=-33&u}return a}(e,r,n),_f(e,r,n,59))}function gf(e){pf.key=0,pf.keyEnd=0,pf.value=0,pf.valueEnd=0,pf.textEnd=e.length}function mf(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _f(e,t,n,r){return(t=mf(e,t,n))<n&&(ngDevMode&&e.charCodeAt(t)!==r&&Mf(e,String.fromCharCode(r),t),t++),t}function wf(e,t,n,r){let o=-1,i=n;for(;i<r;){const n=e.charCodeAt(i++);if(n==t&&92!==o)return i;o=92==n&&92===o?0:n}throw ngDevMode?Mf(e,String.fromCharCode(t),r):new Error}function Mf(e,t,n){throw ngDevMode&&C("string"==typeof e,!0,"String expected here"),A(`Malformed style at location ${n} in string '`+e.substring(0,n)+"[>>"+e.substring(n,n+1)+"<<]"+e.substr(n+1)+`'. Expecting '${t}'.`)}function Cf(e,t,n){return If(e,t,n,!1),Cf}function xf(e,t){return If(e,t,null,!0),xf}function Of(e){Pf(Nf,Df,e,!1)}function Df(e,t){for(let n=function(e){return gf(e),bf(e,mf(e,0,pf.textEnd))}(t);n>=0;n=bf(t,n))Nf(e,hf(t),vf(t))}function Sf(e){Pf(Sr,Ef,e,!0)}function Ef(e,t){for(let n=function(e){return gf(e),yf(e,mf(e,0,pf.textEnd))}(t);n>=0;n=yf(t,n))Sr(e,hf(t),!0)}function If(e,t,n,r){const o=jt(),i=kt(),s=Gt(2);i.firstUpdatePass&&Af(i,e,s,r),t!==Hs&&jc(o,s,t)&&Rf(i,i.data[ln()],o,o[11],e,o[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=a(Oo(e)))),e}(t,n),r,s)}function Pf(e,t,n,r){const o=kt(),i=Gt(2);o.firstUpdatePass&&Af(o,null,i,r);const s=jt();if(n!==Hs&&jc(s,i,n)){const a=o.data[ln()];if(Vf(a,r)&&!Tf(o,i)){if(ngDevMode){const e=o.data[i];C(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=r?a.classesWithoutHost:a.stylesWithoutHost;ngDevMode&&!1===r&&null!==e&&C(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(n=u(e,n||"")),kl(o,a,s,n,r)}else!function(e,t,n,r,o,i,s,a){o===Hs&&(o=ue);let u=0,c=0,l=0<o.length?o[0]:null,f=0<i.length?i[0]:null;for(;null!==l||null!==f;){ngDevMode&&S(u,999,"Are we stuck in infinite loop?"),ngDevMode&&S(c,999,"Are we stuck in infinite loop?");const d=u<o.length?o[u+1]:void 0,p=c<i.length?i[c+1]:void 0;let h,v=null;l===f?(u+=2,c+=2,d!==p&&(v=f,h=p)):null===f||null!==l&&l<f?(u+=2,v=l):(ngDevMode&&T(f,"Expecting to have a valid key"),c+=2,v=f,h=p),null!==v&&Rf(e,t,n,r,v,h,s,a),l=u<o.length?o[u]:null,f=c<i.length?i[c]:null}}(o,a,s,s[11],s[i+1],s[i+1]=function(e,t,n){if(null==n||""===n)return ue;const r=[],o=Oo(n);if(Array.isArray(o))for(let t=0;t<o.length;t++)e(r,o[t],!0);else if("object"==typeof o)for(const t in o)o.hasOwnProperty(t)&&e(r,t,o[t]);else"string"==typeof o?t(r,o):ngDevMode&&A("Unsupported styling type "+typeof o+": "+o);return r}(e,t,n),r,i)}}function Tf(e,t){return t>=e.expandoStartIndex}function Af(e,t,n,r){ngDevMode&&Je(e);const o=e.data;if(null===o[n+1]){const i=o[ln()];ngDevMode&&T(i,"TNode expected");const s=Tf(e,n);Vf(i,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const o=Yt(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=kf(n=jf(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=jf(o,e,t,n,r),null===i){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Js(r))return e[qs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=jf(null,e,t,n[1],r),n=kf(n,t.attrs,r),function(e,t,n,r){const o=n?t.classBindings:t.styleBindings;ngDevMode&&x(Js(o),0,"Expecting to have at least one template styling binding."),e[qs(o)]=r}(e,t,r,n))}else i=function(e,t,n){let r;const o=t.directiveEnd;ngDevMode&&x(t.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+t.directiveStylingLast;i<o;i++)r=kf(r,e[i].hostAttrs,n);return kf(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function(e,t,n,r,o,i){ngDevMode&&Je(kt());let s=i?t.classBindings:t.styleBindings,a=qs(s),u=Js(s);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Ir(e,c)>0)&&(l=!0)}else c=n;if(o)if(0!==u){const t=qs(e[a+1]);e[r+1]=zs(t,a),0!==t&&(e[t+1]=Zs(e[t+1],r)),e[a+1]=(f=e[a+1],d=r,ngDevMode&&_(f,"expected number"),ngDevMode&&w(d,0,32767),131071&f|d<<17)}else e[r+1]=zs(a,0),0!==a&&(e[a+1]=Zs(e[a+1],r)),a=r;else e[r+1]=zs(u,0),ngDevMode&&C(0!==a&&0===u,!1,"Adding template bindings after hostBindings is not allowed."),0===a?a=r:e[u+1]=Zs(e[u+1],r),u=r;var f,d;l&&(e[r+1]=Gs(e[r+1])),ff(e,c,r,!0),ff(e,c,r,!1),function(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Ir(i,t)>=0&&(n[r+1]=Ys(n[r+1]))}(t,c,e,r,i),s=zs(a,u),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}function jf(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],ngDevMode&&T(i,"expected to be defined"),r=kf(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function kf(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sr(e,s,!!n||t[++i]))}return void 0===e?null:e}function Nf(e,t,n){Sr(e,t,Oo(n))}function Rf(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Lf(Qs(c)?Ff(u,t,n,o,Js(c),s):void 0)||(Lf(i)||Ks(c)&&(i=Ff(u,null,n,o,a,s)),function(e,t,n,r,o){const i=yt(e);if(t)o?(ngDevMode&&ngDevMode.rendererAddClass++,i?e.addClass(n,r):(ngDevMode&&T(n.classList,"HTMLElement expected"),n.classList.add(r))):(ngDevMode&&ngDevMode.rendererRemoveClass++,i?e.removeClass(n,r):n.classList.remove(r));else{let t=-1===r.indexOf("-")?void 0:zi.DashCase;if(null==o)ngDevMode&&ngDevMode.rendererRemoveStyle++,i?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),t|=zi.Important),ngDevMode&&ngDevMode.rendererSetStyle++,i?e.setStyle(n,r,o,t):(ngDevMode&&T(n.style,"HTMLElement expected"),n.style.setProperty(r,o,s?"important":""))}}}(r,s,mt(ln(),n),o,i))}function Ff(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const t=e[o],i=Array.isArray(t),u=i?t[1]:t,c=null===u;let l=n[o+1];l===Hs&&(l=c?ue:void 0);let f=c?Er(l,r):u===r?l:void 0;if(i&&!Lf(f)&&(f=Er(t,r)),Lf(f)&&(a=f,s))return a;const d=e[o+1];o=s?qs(d):Js(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=Er(e,r))}return a}function Lf(e){return void 0!==e}function Vf(e,t){return 0!=(e.flags&(t?16:32))}function $f(e,t=""){const n=jt(),r=kt(),o=e+Te;ngDevMode&&C(zt(),r.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&k(n,o);const i=r.firstCreatePass?Na(r,o,1,t,null):r.data[o],s=n[o]=es(n[11],t);ms(r,n,s,i),Vt(i,!1)}function Hf(e){return Uf("",e,""),Hf}function Uf(e,t,n){const r=jt(),o=Vc(r,e,t,n);return o!==Hs&&Pu(r,ln(),o),Uf}function Bf(e,t,n,r,o){const i=jt(),s=$c(i,e,t,n,r,o);return s!==Hs&&Pu(i,ln(),s),Bf}function Wf(e,t,n,r,o,i,s){const a=jt(),u=Hc(a,e,t,n,r,o,i,s);return u!==Hs&&Pu(a,ln(),u),Wf}function zf(e,t,n,r,o,i,s,a,u){const c=jt(),l=Uc(c,e,t,n,r,o,i,s,a,u);return l!==Hs&&Pu(c,ln(),l),zf}function qf(e,t,n,r,o,i,s,a,u,c,l){const f=jt(),d=Bc(f,e,t,n,r,o,i,s,a,u,c,l);return d!==Hs&&Pu(f,ln(),d),qf}function Kf(e,t,n,r,o,i,s,a,u,c,l,f,d){const p=jt(),h=Wc(p,e,t,n,r,o,i,s,a,u,c,l,f,d);return h!==Hs&&Pu(p,ln(),h),Kf}function Gf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){const v=jt(),y=zc(v,e,t,n,r,o,i,s,a,u,c,l,f,d,p,h);return y!==Hs&&Pu(v,ln(),y),Gf}function Jf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){const b=jt(),g=qc(b,e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y);return g!==Hs&&Pu(b,ln(),g),Jf}function Zf(e){const t=jt(),n=Lc(t,e);return n!==Hs&&Pu(t,ln(),n),Zf}function Qf(e,t,n){Pf(Sr,Ef,Vc(jt(),e,t,n),!0)}function Yf(e,t,n,r,o){Pf(Sr,Ef,$c(jt(),e,t,n,r,o),!0)}function Xf(e,t,n,r,o,i,s){Pf(Sr,Ef,Hc(jt(),e,t,n,r,o,i,s),!0)}function ed(e,t,n,r,o,i,s,a,u){Pf(Sr,Ef,Uc(jt(),e,t,n,r,o,i,s,a,u),!0)}function td(e,t,n,r,o,i,s,a,u,c,l){Pf(Sr,Ef,Bc(jt(),e,t,n,r,o,i,s,a,u,c,l),!0)}function nd(e,t,n,r,o,i,s,a,u,c,l,f,d){Pf(Sr,Ef,Wc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d),!0)}function rd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){Pf(Sr,Ef,zc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h),!0)}function od(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){Pf(Sr,Ef,qc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y),!0)}function id(e){Pf(Sr,Ef,Lc(jt(),e),!0)}function sd(e,t,n){Of(Vc(jt(),e,t,n))}function ad(e,t,n,r,o){Of($c(jt(),e,t,n,r,o))}function ud(e,t,n,r,o,i,s){Of(Hc(jt(),e,t,n,r,o,i,s))}function cd(e,t,n,r,o,i,s,a,u){Of(Uc(jt(),e,t,n,r,o,i,s,a,u))}function ld(e,t,n,r,o,i,s,a,u,c,l){Of(Bc(jt(),e,t,n,r,o,i,s,a,u,c,l))}function fd(e,t,n,r,o,i,s,a,u,c,l,f,d){Of(Wc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d))}function dd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){Of(zc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h))}function pd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){Of(qc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y))}function hd(e){Of(Lc(jt(),e))}function vd(e,t,n,r,o){return If(e,Vc(jt(),t,n,r),o,!1),vd}function yd(e,t,n,r,o,i,s){return If(e,$c(jt(),t,n,r,o,i),s,!1),yd}function bd(e,t,n,r,o,i,s,a,u){return If(e,Hc(jt(),t,n,r,o,i,s,a),u,!1),bd}function gd(e,t,n,r,o,i,s,a,u,c,l){return If(e,Uc(jt(),t,n,r,o,i,s,a,u,c),l,!1),gd}function md(e,t,n,r,o,i,s,a,u,c,l,f,d){return If(e,Bc(jt(),t,n,r,o,i,s,a,u,c,l,f),d,!1),md}function _d(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){return If(e,Wc(jt(),t,n,r,o,i,s,a,u,c,l,f,d,p),h,!1),_d}function wd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){return If(e,zc(jt(),t,n,r,o,i,s,a,u,c,l,f,d,p,h,v),y,!1),wd}function Md(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g){return If(e,qc(jt(),t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b),g,!1),Md}function Cd(e,t,n){return If(e,Lc(jt(),t),n,!1),Cd}function xd(e,t,n){const r=jt(),o=Kt();if(jc(r,o,t)){const i=kt(),s=dn();Za(i,s,r,e,t,r[11],n,!0),ngDevMode&&Cu(i.data,s,e,o)}return xd}function Od(e,t,n){const r=jt(),o=Kt();if(jc(r,o,t)){const i=kt(),s=dn();Za(i,s,r,e,t,Su(Yt(i.data),s,r),n,!0),ngDevMode&&Cu(i.data,s,e,o)}return Od}"undefined"==typeof ngI18nClosureMode&&(ie.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);const Dd=void 0;var Sd=["en",[["a","p"],["AM","PM"],Dd],[["AM","PM"],Dd,Dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ed={};function Id(e,t,n){"string"!=typeof t&&(n=t,t=e[Nd.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Ed[t]=e,n&&(Ed[t][Nd.ExtraData]=n)}function Pd(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=jd(t);if(n)return n;const r=t.split("-")[0];if(n=jd(r),n)return n;if("en"===r)return Sd;throw new Error(`Missing locale data for the locale "${e}".`)}function Td(e){return Pd(e)[Nd.CurrencyCode]||null}function Ad(e){return Pd(e)[Nd.PluralCase]}function jd(e){return e in Ed||(Ed[e]=ie.ng&&ie.ng.common&&ie.ng.common.locales&&ie.ng.common.locales[e]),Ed[e]}function kd(){Ed={}}var Nd;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(Nd||(Nd={}));const Rd=["zero","one","two","few","many"],Fd="en-US",Ld={marker:"element"},Vd={marker:"ICU"};var $d;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}($d||($d={}));let Hd=Fd;function Ud(e){T(e,"Expected localeId to be defined"),"string"==typeof e&&(Hd=e.toLowerCase().replace(/_/g,"-"))}function Bd(e,t,n){const r=t.insertBeforeIndex,o=Array.isArray(r)?r[0]:r;return null===o?vs(e,0,n):(ngDevMode&&k(n,o),gt(n[o]))}function Wd(e,t,n,r,o){const i=t.insertBeforeIndex;if(Array.isArray(i)){ngDevMode&&j(r);let s=r,a=null;if(3&t.type||(a=s,s=o),null!==s&&0==(2&t.flags))for(let t=1;t<i.length;t++)ls(e,s,n[i[t]],a,!1)}}function zd(e,t){if(ngDevMode&&C(t.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];qd(r)||Kd(r,t)&&null===Gd(r)&&Jd(r,t.index)}}function qd(e){return!(64&e.type)}function Kd(e,t){return qd(t)||e.index>t.index}function Gd(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Jd(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(gs(Bd,Wd),e.insertBeforeIndex=t)}function Zd(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;!ngDevMode||n.hasOwnProperty("tViews")||n.hasOwnProperty("currentCaseLViewIndex")||A("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+n);const r=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return ngDevMode&&Ue(r),r}function Qd(e,t,n){const r=Ra(e,n,64,null,null);return zd(t,r),r}function Yd(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Xd(e){return e>>>17}function ep(e){return(131070&e)>>>1}function tp(e){return 1&e}let np=0,rp=0;function op(e,t,n,r){ngDevMode&&j(r);const o=n[11];let i,s=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&k(n,e),n[e]=es(o,u))}else if("number"==typeof u)switch(1&u){case 0:const c=Xd(u);let l,f;if(null===s&&(s=c,i=ps(o,r)),c===s?(l=r,f=i):(l=null,f=gt(n[c])),null!==f){ngDevMode&&j(f);const t=ep(u);ngDevMode&&I(t,Te,"Missing ref");const r=n[t];ngDevMode&&j(r),ls(o,f,r,l,!1);const i=Zd(e,t);if(null!==i&&"object"==typeof i){ngDevMode&&Ue(i);const t=Yd(i,n);null!==t&&op(e,i.create[t],n,n[i.anchorIdx])}}break;case 1:const d=u>>>1,h=t[++a],v=t[++a];cu(o,mt(d,n),null,null,h,v,null);break;default:if(ngDevMode)throw new p(700,`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Vd:const e=t[++a],r=t[++a];null===n[r]&&(ngDevMode&&C(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&Ze(n,r),wi(n[r]=ns(o,e),n));break;case Ld:const i=t[++a],s=t[++a];null===n[s]&&(ngDevMode&&C(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&Ze(n,s),wi(n[s]=rs(o,i,null),n));break;default:ngDevMode&&A(`Unable to determine the type of mutate operation for "${u}"`)}}}function ip(e,t,n,r,o){for(let i=0;i<n.length;i++){const s=n[i],a=n[++i];if(s&o){let o="";for(let s=i+1;s<=i+a;s++){const i=n[s];if("string"==typeof i)o+=i;else if("number"==typeof i)if(i<0)o+=v(t[r-i]);else{const a=i>>>2;switch(3&i){case 1:const i=n[++s],u=n[++s],c=e.data[a];ngDevMode&&T(c,"Experting TNode or string"),"string"==typeof c?cu(t[11],t[a],null,c,i,o,u):Za(e,c,t,i,o,t[11],u,!1);break;case 0:const l=t[a];null!==l&&ts(t[11],l,o);break;case 2:ap(e,Zd(e,a),t,o);break;case 3:sp(e,Zd(e,a),r,t)}}}}else{const o=n[i+1];if(o>0&&3==(3&o)){const n=Zd(e,o>>>2);t[n.currentCaseLViewIndex]<0&&sp(e,n,r,t)}}i+=a}}function sp(e,t,n,r){ngDevMode&&k(r,t.currentCaseLViewIndex);let o=r[t.currentCaseLViewIndex];if(null!==o){let i=np;o<0&&(o=r[t.currentCaseLViewIndex]=~o,i=-1),ip(e,r,t.update[o],n,i)}}function ap(e,t,n,r){const o=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Ad(t)(parseInt(e,10)),r=Rd[n];return void 0!==r?r:"other"}(t,Hd);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Yd(t,n)!==o&&(up(e,t,n),n[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const r=n[t.anchorIdx];r&&(ngDevMode&&j(r),op(e,t.create[o],n,r))}}function up(e,t,n){let r=Yd(t,n);if(null!==r){const o=t.remove[r];for(let t=0;t<o.length;t++){const r=o[t];if(r>0){const e=mt(r,n);null!==e&&Cs(n[11],e)}else up(e,Zd(e,~r),n)}}}function cp(){const e=[];let t,n,r=-1;function o(e,t){r=0;const o=Yd(e,t);null!==o?(ngDevMode&&w(o,0,e.cases.length-1),n=e.remove[o]):n=ue}function i(){if(r<n.length){const s=n[r++];if(ngDevMode&&_(s,"Expecting OpCode number"),s>0){const e=t[s];return ngDevMode&&j(e),e}{e.push(r,n);const a=~s,u=t[1].data[a];return ngDevMode&&Ue(u),o(u,t),i()}}return 0===e.length?null:(n=e.pop(),r=e.pop(),i())}return function(n,r){for(t=r;e.length;)e.pop();return ngDevMode&&Ve(n,r),o(n.value,r),i}}function lp(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e++],o=t[e],i=(r&$d.COMMENT)===$d.COMMENT,s=(r&$d.APPEND_EAGERLY)===$d.APPEND_EAGERLY,a=r>>>$d.SHIFT;n.push(`lView[${a}] = document.${i?"createComment":"createText"}(${JSON.stringify(o)});`),s&&n.push(`parent.appendChild(lView[${a}]);`)}return n}function fp(e){const t=new hp(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=e>>>2;switch(3&e){case 0:return`(lView[${n}] as Text).textContent = $$$`;case 1:const e=t.consumeString(),r=t.consumeFunction();return`(lView[${n}] as Element).setAttribute('${e}', ${r?`(${r})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${n}, $$$)`;case 3:return`icuUpdateCase(${n})`}throw new Error("unexpected OpCode")}for(;t.hasMore();){let e=t.consumeNumber(),o=t.consumeNumber();const i=t.i+o,s=[];let a="";for(;t.i<i;){let e=t.consumeNumberOrString();if("string"==typeof e)a+=e;else if(e<0)a+="${lView[i"+e+"]}";else{const t=r(e);s.push(t.replace("$$$","`"+a+"`")+";"),a=""}}n.push(`if (mask & 0b${e.toString(2)}) { ${s.join(" ")} }`)}return n}function dp(e){const t=new hp(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=Xd(e),r=ep(e);switch(tp(e)){case 0:return`(lView[${n}] as Element).appendChild(lView[${o}])`;case 1:return`(lView[${r}] as Element).setAttribute("${t.consumeString()}", "${t.consumeString()}")`}throw new Error("Unexpected OpCode: "+tp(e))}let o=-1;for(;t.hasMore();){let e=t.consumeNumberStringOrMarker();if(e===Vd){const e=t.consumeString();o=t.consumeNumber(),n.push(`lView[${o}] = document.createComment("${e}")`)}else if(e===Ld){const e=t.consumeString();o=t.consumeNumber(),n.push(`lView[${o}] = document.createElement("${e}")`)}else if("string"==typeof e)o=t.consumeNumber(),n.push(`lView[${o}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const t=r(e);t&&n.push(t)}}}return n}function pp(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e];r>0?n.push(`remove(lView[${r}])`):n.push(`removeNestedICU(${~r})`)}return n}class hp{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return _(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return M(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||_(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==Vd||e==Ld||_(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const vp=/(\d+):?\d*/gi,yp=/({\s*\d+:?\d*\s*,\s*\S{6}\s*,[\s\S]*})/gi,bp=/(\d+)/,gp=/^\s*(\d+:?\d*)\s*,\s*(select|plural)\s*,/,mp=/\/?\*(\d+:\d+)/gi,_p=/(\/?[#*]\d+):?\d*/gi,wp=/\uE500/g;function Mp(e,t,n,r,o,i,s){const a=Fa(e,r,1,null);let u=a<<$d.SHIFT,c=Lt();t===c&&(c=null),null===c&&(u|=$d.APPEND_EAGERLY),s&&(u|=$d.COMMENT,void 0===qi&&(qi=cp())),o.push(u,null===i?"":i);const l=Ra(e,a,s?32:1,null===i?ngDevMode?"{{?}}":"":i,null);zd(n,l);const f=l.index;return Vt(l,!1),null!==c&&t!==c&&function(e,t){ngDevMode&&He(e);let n=e.insertBeforeIndex;null===n?(gs(Bd,Wd),n=e.insertBeforeIndex=[null,t]):(C(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(c,f),l}function Cp(e,t,n,r,o,i,s){const a=s.match(vp),u=Mp(e,t,n,i,r,a?null:s,!1);a&&xp(o,s,u.index,null,0,null)}function xp(e,t,n,r,o,i){ngDevMode&&P(n,Te,"Index must be in absolute LView offset");const s=e.length,a=s+1;e.push(null,null);const u=s+2;ngDevMode&&ea(e,fp);const c=t.split(vp);let l=0;for(let t=0;t<c.length;t++){const n=c[t];if(1&t){const t=o+parseInt(n,10);e.push(-1-t),l|=Dp(t)}else""!==n&&e.push(n)}return e.push(n<<2|(r?1:0)),r&&e.push(r,i),e[s]=l,e[a]=e.length-u,l}function Op(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function Dp(e){return 1<<Math.min(e,31)}function Sp(e){let t,n,r="",o=0,i=!1;for(;null!==(t=mp.exec(e));)i?t[0]===`/*${n}`&&(o=t.index,i=!1):(r+=e.substring(o,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&C(i,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),r+=e.substr(o),r}function Ep(e,t,n,r,o,i){ngDevMode&&T(o,"ICU expression must be defined");let s=0;const a={type:o.type,currentCaseLViewIndex:Fa(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Dp(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,o,i),function(e,t,n){const r=e.data[t];ngDevMode&&C(null===r||r.hasOwnProperty("tViews"),!0,"We expect to get 'null'|'TIcuContainer'"),null===r?e.data[t]=n:(ngDevMode&&On(r,32),r.value=n)}(e,i,a);const u=o.values;for(let i=0;i<u.length;i++){const c=u[i],l=[];for(let e=0;e<c.length;e++){const t=c[e];if("string"!=typeof t){const n=l.push(t)-1;c[e]=`\x3c!--${n}--\x3e`}}s=Tp(e,a,t,n,r,o.cases[i],c.join(""),l)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,i)}function Ip(e){const t=[],n=[];let r=1,o=0;const i=Pp(e=e.replace(gp,(function(e,t,n){return r="select"===n?0:1,o=parseInt(t.substr(1),10),""})));for(let e=0;e<i.length;){let o=i[e++].trim();1===r&&(o=o.replace(/\s*(?:=)?(\w+)\s*/,"$1")),o.length&&t.push(o);const s=Pp(i[e++]);t.length>n.length&&n.push(s)}return{type:r,mainBinding:o,cases:t,values:n}}function Pp(e){if(!e)return[];let t=0;const n=[],r=[],o=/[{}]/g;let i;for(o.lastIndex=0;i=o.exec(e);){const o=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const n=e.substring(t,o);gp.test(n)?r.push(Ip(n)):r.push(n),t=o+1}}else{if(0==n.length){const n=e.substring(t,o);r.push(n),t=o+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function Tp(e,t,n,r,o,i,s,a){const u=[],c=[],l=[];ngDevMode&&(ea(u,dp),ea(c,pp),ea(l,fp)),t.cases.push(i),t.create.push(u),t.remove.push(c),t.update.push(l);const f=jo(ht()).getInertBodyElement(s);ngDevMode&&T(f,"Unable to generate inert body element");const d=ai(f)||f;return d?Ap(e,t,n,r,u,c,l,d,o,a,0):0}function Ap(e,t,n,r,o,i,s,a,u,c,l){let f=0,d=a.firstChild;for(;d;){const a=Fa(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,h=p.tagName.toLowerCase();if(Go.hasOwnProperty(h)){Np(o,Ld,h,u,a),e.data[a]=h;const v=p.attributes;for(let e=0;e<v.length;e++){const t=v.item(e),n=t.name.toLowerCase();t.value.match(vp)?Xo.hasOwnProperty(n)?Jo[n]?xp(s,t.value,a,t.name,0,Lo):Zo[n]?xp(s,t.value,a,t.name,0,Vo):xp(s,t.value,a,t.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${n} on element ${h} (see https://g.co/ng/security#xss)`):Rp(o,a,t)}f=Ap(e,t,n,r,o,i,s,d,a,c,l+1)|f,jp(i,a,l)}break;case Node.TEXT_NODE:const v=d.textContent||"",y=v.match(vp);Np(o,null,y?"":v,u,a),jp(i,a,l),y&&(f=xp(s,v,a,null,0,null)|f);break;case Node.COMMENT_NODE:const b=bp.exec(d.textContent||"");if(b){const t=parseInt(b[1],10),s=c[t];Np(o,Vd,ngDevMode?`nested ICU ${t}`:"",u,a),Ep(e,n,r,u,s,a),kp(i,a,l)}}d=d.nextSibling}return f}function jp(e,t,n){0===n&&e.push(t)}function kp(e,t,n){0===n&&(e.push(~t),e.push(t))}function Np(e,t,n,r,o){var i,s;null!==t&&e.push(t),e.push(n,o,(0,i=r,s=o,ngDevMode&&P(i,0,"Missing parent index"),ngDevMode&&I(s,0,"Missing ref index"),0|i<<17|s<<1))}function Rp(e,t,n){e.push(t<<1|1,n.name,n.value)}const Fp=/\[(.+??)\]/,Lp=/\[(.+??)\]|(\/?\*\d+:\d+)/g,Vp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,$p=/{([A-Z0-9_]+)}/g,Hp=/I18N_EXP_(ICU(_\d+)?)/g,Up=/\/\*/,Bp=/\d+\:(\d+)/;function Wp(e,t,n=-1){const r=kt(),o=jt(),i=Te+e;ngDevMode&&T(r,"tView should be defined");const s=Dt(r.consts,t),a=Lt();r.firstCreatePass&&function(e,t,n,r,o,i){const s=Lt(),a=[],u=[],c=[[]];ngDevMode&&(ea(a,lp),ea(u,fp)),o=function(e,t){if(function(e){return-1===e}(t))return Sp(e);{const n=e.indexOf(`:${t}`)+2+t.toString().length,r=e.search(new RegExp(`\\/\\*\\d+:${t}`));return Sp(e.substring(n,r))}}(o,i);const l=(f=o,f.replace(wp," ")).split(_p);var f;for(let i=0;i<l.length;i++){let f=l[i];if(0==(1&i)){const i=Pp(f);for(let l=0;l<i.length;l++){let f=i[l];if(0==(1&l)){const t=f;ngDevMode&&M(t,"Parsed ICU part should be string"),""!==t&&Cp(e,s,c[0],a,u,n,t)}else{const i=f;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const l=Mp(e,s,c[0],n,a,ngDevMode?`ICU ${r}:${i.mainBinding}`:"",!0).index;ngDevMode&&P(l,Te,"Index must be in absolute LView offset"),Ep(e,n,u,t,i,l)}}}else{const t=47===f.charCodeAt(0),n=f.charCodeAt(t?1:0);ngDevMode&&N(n,42,35);const r=Te+Number.parseInt(f.substring(t?2:1));if(t)c.shift(),Vt(Lt(),!1);else{const t=Qd(e,c[0],r);c.unshift([]),Vt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,o,i,s,n);const u=r.data[i],c=cs(r,a===o[6]?null:a,o),l=a&&8&a.type?o[a.index]:null;!function(e,t,n,r){const o=e[11];for(let i=0;i<t.length;i++){const s=t[i++],a=t[i],u=(s&$d.COMMENT)===$d.COMMENT,c=(s&$d.APPEND_EAGERLY)===$d.APPEND_EAGERLY,l=s>>>$d.SHIFT;let f=e[l];null===f&&(f=e[l]=u?o.createComment(a):es(o,a)),c&&null!==n&&ls(o,n,f,r,!1)}}(o,u.create,c,l),Jt(!0)}function zp(){Jt(!1)}function qp(e,t,n){Wp(e,t,n),zp()}function Kp(e,t){const n=kt();ngDevMode&&T(n,"tView should be defined");const r=Dt(n.consts,t);!function(e,t,n){const r=Rt().index,o=[];if(ngDevMode&&ea(o,fp),e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],i=n[e+1];if(""!==i){if(yp.test(i))throw new Error(`ICU expressions are not supported in attributes. Message: "${i}".`);xp(o,i,r,t,Op(o),null)}}e.data[t]=o}}(n,e+Te,r)}function Gp(e){return jc(jt(),Kt(),e)&&(np|=1<<Math.min(rp,31)),rp++,Gp}function Jp(e){!function(e,t,n){if(rp>0){ngDevMode&&T(e,"tView should be defined");const r=e.data[n];ip(e,t,Array.isArray(r)?r:r.update,zt()-rp-1,np)}np=0,rp=0}(kt(),jt(),e+Te)}function Zp(e,t={}){return function(e,t={}){let n=e;if(Fp.test(e)){const e={},t=[0];n=n.replace(Lp,((n,r,o)=>{const i=r||o,s=e[i]||[];if(s.length||(i.split("|").forEach((e=>{const t=e.match(Bp),n=t?parseInt(t[1],10):0,r=Up.test(e);s.push([n,r,e])})),e[i]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${i}`);const a=t[t.length-1];let u=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){u=e;break}const[c,l,f]=s[u];return l?t.pop():a!==c&&t.push(c),s.splice(u,1),f}))}return Object.keys(t).length?(n=n.replace(Vp,((e,n,r,o,i,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e)),n=n.replace($p,((e,n)=>t.hasOwnProperty(n)?t[n]:e)),n=n.replace(Hp,((e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e})),n):n}(e,t)}function Qp(e,t,n,r,o){if(e=f(e),Array.isArray(e))for(let i=0;i<e.length;i++)Qp(e[i],t,n,r,o);else{const i=kt(),s=jt();let a=Gu(e)?e:f(e.provide),u=zu(e);const c=Rt(),l=1048575&c.providerIndexes,d=c.directiveStart,p=c.providerIndexes>>20;if(Gu(e)||!e.multi){const r=new Cn(u,o,Tl),f=eh(a,t,o?l:l+p,d);-1===f?(Hn(Fn(c,s),i,a),Yp(i,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=eh(a,t,l+p,d),h=eh(a,t,l,l+p),v=f>=0&&n[f],y=h>=0&&n[h];if(o&&!y||!o&&!v){Hn(Fn(c,s),i,a);const l=function(e,t,n,r,o){const i=new Cn(e,n,Tl);return i.multi=[],i.index=t,i.componentProviders=0,Xp(i,o,r&&!n),i}(o?nh:th,n.length,o,r,u);!o&&y&&(n[h].providerFactory=l),Yp(i,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Yp(i,e,f>-1?f:h,Xp(n[o?h:f],u,!o&&r));!o&&r&&y&&n[h].componentProviders++}}}function Yp(e,t,n,r){const o=Gu(t),i=!!t.useClass;if(o||i){const s=(i?f(t.useClass):t).prototype.ngOnDestroy;if(s){const i=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){ngDevMode&&T(r,"indexInFactory when registering multi factory destroy hook");const e=i.indexOf(n);-1===e?i.push(n,[r,s]):i[e+1].push(r,s)}else i.push(n,s)}}}function Xp(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eh(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function th(e,t,n,r){return rh(this.multi,[])}function nh(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Jn(n,n[1],this.providerFactory.index,r);i=t.slice(0,e),rh(o,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],rh(o,i);return i}function rh(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function oh(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=kt();if(r.firstCreatePass){const o=Le(e);Qp(n,r.data,r.blueprint,o,!0),Qp(t,r.data,r.blueprint,o,!1)}}(n,r?r(e):e,t)}}class ih{}class sh{}class ah{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${a(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class uh{}function ch(e,t){return new lh(_t(e,t))}uh.NULL=new ah;class lh{constructor(e){this.nativeElement=e}}function fh(e){return e instanceof lh?e.nativeElement:e}lh.__NG_ELEMENT_ID__=function(){return ch(Rt(),jt())},new lr("Renderer2Interceptor");class dh{}class ph{}ph.__NG_ELEMENT_ID__=()=>function(){const e=jt(),t=Ct(Rt().index,e);return function(e){const t=e[11];if(ngDevMode&&!yt(t))throw new Error("Cannot inject Renderer2 when the application uses Renderer3!");return t}(je(t)?t:e)}();class hh{}hh.prov=R({token:hh,providedIn:"root",factory:()=>null});class vh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yh=new vh("13.2.6"),bh={};function gh(e,t,n,r,o=!1){for(;null!==n;){ngDevMode&&On(n,63);const i=t[n.index];if(null!==i&&r.push(gt(i)),ke(i))for(let e=Pe;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&gh(t[1],t,n,r)}const s=n.type;if(8&s)gh(e,t,n.child,r);else if(32&s){const e=Ki(n,t);let o;for(;o=e();)r.push(o)}else if(16&s){const e=ws(t,n);if(Array.isArray(e))r.push(...e);else{const n=Gi(t[16]);ngDevMode&&Ye(n),gh(n[1],n,e,r,!0)}}n=o?n.projectionNext:n.next}return r}class mh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return gh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ke(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ngDevMode&&C(n,e.indexOf(this._lView)-Pe,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),is(e,n),Or(t,n))}this._attachedToViewContainer=!1}ss(this._lView[1],this._lView)}onDestroy(e){Ga(this._lView[1],this._lView,null,e)}markForCheck(){gu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_u(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Bt(!0);try{_u(e,t,n)}finally{Bt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef){const e=ngDevMode?"This view is already attached directly to the ApplicationRef!":"";throw new p(902,e)}this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Os(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer){const e=ngDevMode?"This view is already attached to a ViewContainer!":"";throw new p(902,e)}this._appRef=e}}class _h extends mh{constructor(e){super(e),this._view=e}detectChanges(){wu(this._view)}checkNoChanges(){!function(e){Bt(!0);try{wu(e)}finally{Bt(!1)}}(this._view)}get context(){return null}}class wh extends uh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&Be(e);const t=De(e);return new Ch(t,this.ngModule)}}function Mh(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}class Ch extends sh{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map($s).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Mh(this.componentDef.inputs)}get outputs(){return Mh(this.componentDef.outputs)}create(e,t,n,r){const o=(r=r||this.ngModule)?function(e,t){return{get:(n,r,o)=>{const i=e.get(n,bh,o);return i!==bh||r===bh?i:t.get(n,r,o)}}}(e,r.injector):e,i=o.get(dh,bt),s=o.get(hh,null),a=i.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?Ka(a,n,this.componentDef.encapsulation):rs(i.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?lt:"math"===t?ft:null}(u)),l=this.componentDef.onPush?576:528,f=hc(),d=qa(0,null,null,1,0,null,null,null,null,null),p=ka(null,d,f,l,null,null,i,a,s,o);let h,v;rn(p);try{const e=dc(c,this.componentDef,p,i,a);if(c)if(n)Dn(a,c,["ng-version",yh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Ns(o))break;o=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Dn(a,c,e),t&&t.length>0&&Es(a,c,t.join(" "))}if(v=wt(d,Te),void 0!==t){const e=v.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}h=pc(e,this.componentDef,p,f,[vc]),La(d,p,null)}finally{cn()}return new xh(this.componentType,h,ch(v,p),p,v)}}new wh;class xh extends ih{constructor(e,t,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new _h(r),this.componentType=e}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Oh(e,t,n,r){return Z((()=>{const o=e;null!==t&&(o.hasOwnProperty("decorators")&&void 0!==o.decorators?o.decorators.push(...t):o.decorators=t),null!==n&&(o.ctorParameters=n),null!==r&&(o.hasOwnProperty("propDecorators")&&void 0!==o.propDecorators?o.propDecorators=Object.assign(Object.assign({},o.propDecorators),r):o.propDecorators=r)}))}class Dh{}class Sh{}const Eh=new Map;function Ih(e){const t=new Set;!function e(n){const r=Ie(n,!0),o=r.id;if(null!==o){(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${a(t)} vs ${a(t.name)}`)})(o,Eh.get(o),n),Eh.set(o,n)}const i=Ui(r.imports);for(const n of i)t.has(n)||(t.add(n),e(n))}(e)}function Ph(e){return Eh.get(e)||_e[e]}function Th(e,t){return new Ah(e,null!=t?t:null)}class Ah extends Dh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wh(this);const n=Ie(e);ngDevMode&&T(n,`NgModule '${a(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=Ui(n.bootstrap),this._r3Injector=Uu(e,t,[{provide:Dh,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],a(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ju.THROW_IF_NOT_FOUND,n=q.Default){return e===Ju||e===Dh||e===ku?this:this._r3Injector.get(e,t,n)}destroy(){ngDevMode&&T(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&T(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class jh extends Sh{constructor(e){super(),this.moduleType=e,null!==Ie(e)&&Ih(e)}create(e){return new Ah(this.moduleType,e)}}function kh(e,t,n){const r=Wt()+e,o=jt();return o[r]===Hs?Tc(o,r,n?t.call(n):t()):Ac(o,r)}function Nh(e,t,n,r){return zh(jt(),Wt(),e,t,n,r)}function Rh(e,t,n,r,o){return qh(jt(),Wt(),e,t,n,r,o)}function Fh(e,t,n,r,o,i){return Kh(jt(),Wt(),e,t,n,r,o,i)}function Lh(e,t,n,r,o,i,s){return Gh(jt(),Wt(),e,t,n,r,o,i,s)}function Vh(e,t,n,r,o,i,s,a){const u=Wt()+e,c=jt(),l=Rc(c,u,n,r,o,i);return jc(c,u+4,s)||l?Tc(c,u+5,a?t.call(a,n,r,o,i,s):t(n,r,o,i,s)):Ac(c,u+5)}function $h(e,t,n,r,o,i,s,a,u){const c=Wt()+e,l=jt(),f=Rc(l,c,n,r,o,i);return kc(l,c+4,s,a)||f?Tc(l,c+6,u?t.call(u,n,r,o,i,s,a):t(n,r,o,i,s,a)):Ac(l,c+6)}function Hh(e,t,n,r,o,i,s,a,u,c){const l=Wt()+e,f=jt();let d=Rc(f,l,n,r,o,i);return Nc(f,l+4,s,a,u)||d?Tc(f,l+7,c?t.call(c,n,r,o,i,s,a,u):t(n,r,o,i,s,a,u)):Ac(f,l+7)}function Uh(e,t,n,r,o,i,s,a,u,c,l){const f=Wt()+e,d=jt(),p=Rc(d,f,n,r,o,i);return Rc(d,f+4,s,a,u,c)||p?Tc(d,f+8,l?t.call(l,n,r,o,i,s,a,u,c):t(n,r,o,i,s,a,u,c)):Ac(d,f+8)}function Bh(e,t,n,r){return Jh(jt(),Wt(),e,t,n,r)}function Wh(e,t){ngDevMode&&k(e,t);const n=e[t];return n===Hs?void 0:n}function zh(e,t,n,r,o,i){const s=t+n;return jc(e,s,o)?Tc(e,s+1,i?r.call(i,o):r(o)):Wh(e,s+1)}function qh(e,t,n,r,o,i,s){const a=t+n;return kc(e,a,o,i)?Tc(e,a+2,s?r.call(s,o,i):r(o,i)):Wh(e,a+2)}function Kh(e,t,n,r,o,i,s,a){const u=t+n;return Nc(e,u,o,i,s)?Tc(e,u+3,a?r.call(a,o,i,s):r(o,i,s)):Wh(e,u+3)}function Gh(e,t,n,r,o,i,s,a,u){const c=t+n;return Rc(e,c,o,i,s,a)?Tc(e,c+4,u?r.call(u,o,i,s,a):r(o,i,s,a)):Wh(e,c+4)}function Jh(e,t,n,r,o,i){let s=t+n,a=!1;for(let t=0;t<o.length;t++)jc(e,s++,o[t])&&(a=!0);return a?Tc(e,s,r.apply(i,o)):Wh(e,s)}function Zh(e,t){const n=kt();let r;const o=e+Te;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}if(ngDevMode){const t=jt()[16][8],n=t?` in the '${t.constructor.name}' component`:"";throw new p(-302,`The pipe '${e}' could not be found${n}!`)}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=et(r.type,!0)),s=G(Tl);try{const e=Nn(!1),t=i();return Nn(e),rl(n,jt(),o,t),t}finally{G(s)}}function Qh(e,t,n){const r=e+Te,o=jt(),i=Mt(o,r);return nv(o,r)?zh(o,Wt(),t,i.transform,n,i):i.transform(n)}function Yh(e,t,n,r){const o=e+Te,i=jt(),s=Mt(i,o);return nv(i,o)?qh(i,Wt(),t,s.transform,n,r,s):s.transform(n,r)}function Xh(e,t,n,r,o){const i=e+Te,s=jt(),a=Mt(s,i);return nv(s,i)?Kh(s,Wt(),t,a.transform,n,r,o,a):a.transform(n,r,o)}function ev(e,t,n,r,o,i){const s=e+Te,a=jt(),u=Mt(a,s);return nv(a,s)?Gh(a,Wt(),t,u.transform,n,r,o,i,u):u.transform(n,r,o,i)}function tv(e,t,n){const r=e+Te,o=jt(),i=Mt(o,r);return nv(o,r)?Jh(o,Wt(),t,i.transform,n,i):i.transform.apply(i,n)}function nv(e,t){return e[1].data[t].pure}class rv extends r.Subject{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var o,i,s;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(o=t.next)||void 0===o?void 0:o.bind(t),u=null===(i=t.error)||void 0===i?void 0:i.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(u=ov(u),a&&(a=ov(a)),c&&(c=ov(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof r.Subscription&&e.add(l),l}}function ov(e){return t=>{setTimeout(e,void 0,t)}}const iv=rv;function sv(){return this._results[Sc()]()}class av{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Sc(),n=av.prototype;n[t]||(n[t]=sv)}get changes(){return this._changes||(this._changes=new iv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Mr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class uv{}uv.__NG_ELEMENT_ID__=function(){return fv(Rt(),jt())};const cv=uv,lv=class extends cv{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ka(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null),r=this._declarationLView[this._declarationTContainer.index];ngDevMode&&ze(r),n[17]=r;const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(t)),La(t,n,e),new mh(n)}};function fv(e,t){return 4&e.type?(ngDevMode&&T(e.tViews,"TView must be allocated"),new lv(t,e,ch(e,t))):null}class dv{}dv.__NG_ELEMENT_ID__=function(){return bv(Rt(),jt())};const pv=dv,hv=class extends pv{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=$n(this._hostTNode,this._hostLView);if(Tn(e)){const t=jn(e,this._hostLView),n=An(e);ngDevMode&&Xe(t,n);const r=t[1].data[n+8];return new Yn(r,t)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=vv(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,o){const i=e&&!wr(e);let s;if(i)ngDevMode&&C("object"!=typeof t,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),s=t;else{ngDevMode&&(T(De(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),C("number"!=typeof t,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const i=t||{};s=i.index,n=i.injector,r=i.projectableNodes,o=i.ngModuleRef}const a=i?e:new Ch(De(e)),u=n||this.parentInjector;if(!o&&null==a.ngModule){const e=(i?u:this.parentInjector).get(Dh,null);e&&(o=e)}const c=a.create(u,r,void 0,o);return this.insert(c.hostView,s),c}insert(e,t){const n=e._lView,r=n[1];if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(ke(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3];ngDevMode&&C(ke(t),!0,"An attached view should have its PARENT point to a container.");const r=new hv(t,t[6],t[3]);r.detach(r.indexOf(e))}}const o=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){ngDevMode&&Ke(t),ngDevMode&&ze(n);const o=Pe+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-Pe?(t[4]=n[o],xr(n,Pe+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){ngDevMode&&T(t,"LView required"),ngDevMode&&ze(e);const n=e[9],r=t[3];ngDevMode&&ze(r);const o=r[3][16];ngDevMode&&T(o,"Missing insertedComponentLView");const i=t[16];ngDevMode&&T(i,"Missing declaredComponentLView"),i!==o&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,i,o);const s=Ms(o,i),a=n[11],u=ps(a,i[7]);return null!==u&&function(e,t,n,r,o,i){r[0]=o,r[6]=t,Os(e,r,n,1,o,i)}(r,i[6],a,n,u,s),e.attachToViewContainerRef(),xr(yv(i),o,e),e}move(e,t){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=vv(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=is(this._lContainer,t);n&&(Or(yv(this._lContainer),t),ss(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=is(this._lContainer,t);return n&&null!=Or(yv(this._lContainer),t)?new mh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:(ngDevMode&&(I(e,-1,`ViewRef index must be positive, got ${e}`),S(e,this.length+1+t,"index")),e)}};function vv(e){return e[8]}function yv(e){return e[8]||(e[8]=[])}function bv(e,t){let n;ngDevMode&&On(e,15);const r=t[e.index];if(ke(r))n=r;else{let o;if(8&e.type)o=gt(r);else{const n=t[11];ngDevMode&&ngDevMode.rendererCreateComment++,o=n.createComment(ngDevMode?"container":"");const r=_t(e,t);ls(n,ps(n,r),o,function(e,t){return yt(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=pu(r,t,o,e),bu(t,n)}return new hv(n,e,t)}class gv{constructor(e){this.queryList=e,this.matches=null}clone(){return new gv(this.queryList)}setDirty(){this.queryList.setDirty()}}class mv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),o=this.queries[n.indexInDeclarationView];r.push(o.clone())}return new mv(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jv(e,t).matches&&this.queries[t].setDirty()}}class _v{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class wv{constructor(e=[]){this.queries=e}elementStart(e,t){ngDevMode&&Ge(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new wv(t):null}template(e,t){ngDevMode&&Ge(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return ngDevMode&&k(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Mv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Mv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(e,t,Cv(t,o)),this.matchTNodeWithReadOption(e,t,Gn(t,e,o,!1,!1))}else n===uv?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===lh||r===dv||r===uv&&4&t.type)this.addMatch(t.index,-2);else{const n=Gn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Cv(e,t){const n=e.localNames;if(null!==n)for(let e=0;e<n.length;e+=2)if(n[e]===t)return n[e+1];return null}function xv(e,t,n,r){return-1===n?function(e,t){return 11&e.type?ch(e,t):4&e.type?fv(e,t):null}(t,e):-2===n?function(e,t,n){return n===lh?ch(t,e):n===uv?fv(t,e):n===dv?(ngDevMode&&On(t,15),bv(t,e)):void(ngDevMode&&A(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${a(n)}.`))}(e,t,r):Jn(e,e[1],n,t)}function Ov(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const r=e.data,i=n.matches,s=[];for(let e=0;e<i.length;e+=2){const o=i[e];if(o<0)s.push(null);else{ngDevMode&&k(r,o);const a=r[o];s.push(xv(t,a,i[e+1],n.metadata.read))}}o.matches=s}return o.matches}function Dv(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=Ov(e,t,o,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(s[e/2]);else{const o=i[e+1],s=t[-n];ngDevMode&&ze(s);for(let e=Pe;e<s.length;e++){const t=s[e];t[17]===t[3]&&Dv(t[1],t,o,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Dv(n[1],n,o,r)}}}}}return r}function Sv(e){const t=jt(),n=kt(),r=Xt();en(r+1);const o=jv(n,r);if(e.dirty&&xt(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Dv(n,t,r,[]):Ov(n,t,o,r);e.reset(i,fh),e.notifyOnChanges()}return!0}return!1}function Ev(e,t,n){ngDevMode&&_(t,"Expecting flags");const r=kt();r.firstCreatePass&&(Av(r,new _v(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Tv(r,jt(),t)}function Iv(e,t,n,r){ngDevMode&&_(n,"Expecting flags");const o=kt();if(o.firstCreatePass){const i=Rt();Av(o,new _v(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}Tv(o,jt(),n)}function Pv(){return e=jt(),t=Xt(),ngDevMode&&T(e[19],"LQueries should be defined when trying to load a query"),ngDevMode&&k(e[19].queries,t),e[19].queries[t].queryList;var e,t}function Tv(e,t,n){const r=new av(4==(4&n));Ga(e,t,r,r.destroy),null===t[19]&&(t[19]=new mv),t[19].queries.push(new gv(r))}function Av(e,t,n){null===e.queries&&(e.queries=new wv),e.queries.track(new Mv(t,n))}function jv(e,t){return ngDevMode&&T(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(t)}function kv(e,t){return fv(e,t)}const Nv={attribute:Fc,attributeInterpolate1:Kc,attributeInterpolate2:Gc,attributeInterpolate3:Jc,attributeInterpolate4:Zc,attributeInterpolate5:Qc,attributeInterpolate6:Yc,attributeInterpolate7:Xc,attributeInterpolate8:el,attributeInterpolateV:tl,defineComponent:ye,defineDirective:xe,defineInjectable:R,defineInjector:L,defineNgModule:we,definePipe:Oe,directiveInject:Tl,getInheritedFactory:Xn,inject:Wr,injectAttribute:tr,invalidFactory:Al,invalidFactoryDep:zr,templateRefExtractor:kv,NgOnChangesFeature:nt,ProvidersFeature:oh,CopyDefinitionFeature:Oc,InheritDefinitionFeature:gc,nextContext:Zl,namespaceHTML:vn,namespaceMathML:hn,namespaceSVG:pn,enableBindings:Tt,disableBindings:At,elementStart:Nl,elementEnd:Rl,element:Fl,elementContainerStart:Ll,elementContainerEnd:Vl,elementContainer:$l,pureFunction0:kh,pureFunction1:Nh,pureFunction2:Rh,pureFunction3:Fh,pureFunction4:Lh,pureFunction5:Vh,pureFunction6:$h,pureFunction7:Hh,pureFunction8:Uh,pureFunctionV:Bh,getCurrentView:Hl,restoreView:Nt,listener:zl,projection:Xl,syntheticHostProperty:Od,syntheticHostListener:ql,pipeBind1:Qh,pipeBind2:Yh,pipeBind3:Xh,pipeBind4:ev,pipeBindV:tv,projectionDef:Yl,hostProperty:xd,property:jl,propertyInterpolate:ef,propertyInterpolate1:tf,propertyInterpolate2:nf,propertyInterpolate3:rf,propertyInterpolate4:of,propertyInterpolate5:sf,propertyInterpolate6:af,propertyInterpolate7:uf,propertyInterpolate8:cf,propertyInterpolateV:lf,pipe:Zh,queryRefresh:Sv,viewQuery:Ev,loadQuery:Pv,contentQuery:Iv,reference:ol,classMap:Sf,classMapInterpolate1:Qf,classMapInterpolate2:Yf,classMapInterpolate3:Xf,classMapInterpolate4:ed,classMapInterpolate5:td,classMapInterpolate6:nd,classMapInterpolate7:rd,classMapInterpolate8:od,classMapInterpolateV:id,styleMap:Of,styleMapInterpolate1:sd,styleMapInterpolate2:ad,styleMapInterpolate3:ud,styleMapInterpolate4:cd,styleMapInterpolate5:ld,styleMapInterpolate6:fd,styleMapInterpolate7:dd,styleMapInterpolate8:pd,styleMapInterpolateV:hd,styleProp:Cf,stylePropInterpolate1:vd,stylePropInterpolate2:yd,stylePropInterpolate3:bd,stylePropInterpolate4:gd,stylePropInterpolate5:md,stylePropInterpolate6:_d,stylePropInterpolate7:wd,stylePropInterpolate8:Md,stylePropInterpolateV:Cd,classProp:xf,advance:Us,template:nl,text:$f,textInterpolate:Hf,textInterpolate1:Uf,textInterpolate2:Bf,textInterpolate3:Wf,textInterpolate4:zf,textInterpolate5:qf,textInterpolate6:Kf,textInterpolate7:Gf,textInterpolate8:Jf,textInterpolateV:Zf,i18n:qp,i18nAttributes:Kp,i18nExp:Gp,i18nStart:Wp,i18nEnd:zp,i18nApply:Jp,i18nPostprocess:Zp,resolveWindow:Li,resolveDocument:Vi,resolveBody:$i,setComponentScope:be,setNgModuleScope:Me,sanitizeHtml:ci,sanitizeStyle:li,sanitizeResourceUrl:di,sanitizeScript:pi,sanitizeUrl:fi,sanitizeUrlOrResourceUrl:yi,trustConstantHtml:hi,trustConstantResourceUrl:vi,forwardRef:l,resolveForwardRef:f};let Rv=null;function Fv(){Rv=null}const Lv=[];let Vv=!1;function $v(){if(!Vv){Vv=!0;try{for(let e=Lv.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Lv[e];n.declarations&&n.declarations.every(Hv)&&(Lv.splice(e,1),Qv(t,n))}}finally{Vv=!1}}}function Hv(e){return Array.isArray(e)?e.every(Hv):!!f(e)}function Uv(e,t={}){Bv(e,t),function(e,t){Lv.push({moduleType:e,ngModule:t})}(e,t)}function Bv(e,t,n=!1){ngDevMode&&T(e,"Required value moduleType"),ngDevMode&&T(t,"Required value ngModule");const r=Mr(t.declarations||ue);let o=null;Object.defineProperty(e,de,{configurable:!0,get:()=>{if(null===o){if(ngDevMode&&t.imports&&t.imports.indexOf(e)>-1)throw new Error(`'${y(e)}' module can't import itself`);const n=mr({usage:0,kind:"NgModule",type:e});o=n.compileNgModule(Nv,`ng:///${e.name}/mod.js`,{type:e,bootstrap:Mr(t.bootstrap||ue).map(f),declarations:r.map(f),imports:Mr(t.imports||ue).map(f).map(ey),exports:Mr(t.exports||ue).map(f).map(ey),schemas:t.schemas?Mr(t.schemas):null,id:t.id||null}),o.schemas||(o.schemas=[])}return o}});let i=null;Object.defineProperty(e,pe,{get:()=>{if(null===i){const t=mr({usage:0,kind:"NgModule",type:e});i=t.compileFactory(Nv,`ng:///${e.name}/fac.js`,{name:e.name,type:e,deps:no(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!!ngDevMode});let s=null;Object.defineProperty(e,B,{get:()=>{if(null===s){ngDevMode&&Wv(e,n);const r={name:e.name,type:e,providers:t.providers||ue,imports:[(t.imports||ue).map(f),(t.exports||ue).map(f)]},o=mr({usage:0,kind:"NgModule",type:e});s=o.compileInjector(Nv,`ng:///${e.name}/inj.js`,r)}return s},configurable:!!ngDevMode})}function Wv(e,t,n){if(Gv.get(e))return;let r;if(Gv.set(e,!0),e=f(e),n){if(r=Ie(e),!r)throw new Error(`Unexpected value '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}else r=Ie(e,!0);const o=[],i=Ui(r.declarations),s=Ui(r.imports);Mr(s).map(zv).forEach((t=>{d(t,e),Wv(t,!1,e)}));const a=Ui(r.exports);i.forEach((function(t){De(t=f(t))||Se(t)||Ee(t)||o.push(`Unexpected value '${y(t)}' declared by the module '${y(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),i.forEach((function(e){const t=Se(e=f(e));!De(e)&&t&&0==t.selectors.length&&o.push(`Directive ${y(e)} has no selector, please add it!`)}));const u=[...i.map(f),...Mr(s.map(Zv)).map(f)];a.forEach((function(t){const n=(De(t=f(t))?"component":Se(t)&&"directive")||Ee(t)&&"pipe";n&&-1===u.lastIndexOf(t)&&o.push(`Can't export ${n} ${y(t)} from ${y(e)} as it was neither declared nor imported!`)})),i.forEach((n=>function(t,n){t=f(t);const r=Kv.get(t);if(r&&r!==e){if(!n){const n=[r,e].map(y).sort();o.push(`Type ${y(t)} is part of the declarations of 2 modules: ${n[0]} and ${n[1]}! Please consider moving ${y(t)} to a higher module that imports ${n[0]} and ${n[1]}. You can also create a new NgModule that exports and includes ${y(t)} then import that NgModule in ${n[0]} and ${n[1]}.`)}}else Kv.set(t,e)}(n,t))),i.forEach((function(e){if(De(e=f(e))){const t=qv(e,"Component");t&&t.entryComponents&&Cr(t.entryComponents,l)}}));const c=qv(e,"NgModule");if(c&&(c.imports&&Mr(c.imports).map(zv).forEach((t=>{d(t,e),Wv(t,!1,e)})),c.bootstrap&&Cr(c.bootstrap,(function(e){De(e=f(e))||o.push(`${y(e)} cannot be used as an entry component.`)})),c.bootstrap&&Cr(c.bootstrap,l),c.entryComponents&&Cr(c.entryComponents,l)),o.length)throw new Error(o.join("\n"));function l(e){e=f(e),Kv.get(e)||o.push(`Component ${y(e)} is not part of any NgModule or the module has not been imported into your module.`)}function d(e,t){if(De(e=f(e))||Se(e))throw new Error(`Unexpected directive '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`);if(Ee(e))throw new Error(`Unexpected pipe '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`)}}function zv(e){return(e=f(e)).ngModule||e}function qv(e,t){let n=null;return r(e.__annotations__),r(e.decorators),n;function r(e){e&&e.forEach(o)}function o(e){n||(Object.getPrototypeOf(e).ngMetadataName==t?n=e:e.type&&Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0]))}}let Kv=new WeakMap,Gv=new WeakMap;function Jv(){Kv=new WeakMap,Gv=new WeakMap,Lv.length=0}function Zv(e){return[...Mr(Ui(Ie(e=f(e),!0).exports).map((e=>Ie(e)?(Wv(e,!1),Zv(e)):e)))]}function Qv(e,t){const n=Mr(t.declarations||ue),r=Xv(e);n.forEach((t=>{t.hasOwnProperty(ce)?Yv(De(t),r):t.hasOwnProperty(le)||t.hasOwnProperty(fe)||(t.ngSelectorScope=e)}))}function Yv(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map((e=>e.hasOwnProperty(ce)?De(e):Se(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(t.compilation.pipes).map((e=>Ee(e))),e.schemas=t.schemas,e.tView=null}function Xv(e){if(!ty(e))throw new Error(`${e.name} does not have a module def (mod property)`);const t=Ie(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ui(t.imports).forEach((e=>{const t=e;if(!ty(t))throw new Error(`Importing ${t.name} which does not have a mod property`);const r=Xv(t);r.exported.directives.forEach((e=>n.compilation.directives.add(e))),r.exported.pipes.forEach((e=>n.compilation.pipes.add(e)))})),Ui(t.declarations).forEach((e=>{Ee(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),Ui(t.exports).forEach((e=>{const t=e;if(ty(t)){const e=Xv(t);e.exported.directives.forEach((e=>{n.compilation.directives.add(e),n.exported.directives.add(e)})),e.exported.pipes.forEach((e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else Ee(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function ey(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function ty(e){return!!Ie(e)}let ny=0;function ry(e,t){("undefined"==typeof ngDevMode||ngDevMode)&&se();let n=null;!function(e,t){ao(t)&&(io.set(e,t),so.add(e))}(e,t),sy(e,t),Object.defineProperty(e,ce,{get:()=>{if(null===n){const r=mr({usage:0,kind:"component",type:e});if(ao(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const o=Rv;let i=t.preserveWhitespaces;void 0===i&&(i=null!==o&&void 0!==o.preserveWhitespaces&&o.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==o&&void 0!==o.defaultEncapsulation?o.defaultEncapsulation:X.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,u=Object.assign(Object.assign({},uy(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:i,styles:t.styles||ue,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});ny++;try{u.usesInheritance&&cy(e),n=r.compileComponent(Nv,a,u)}finally{ny--}if(0===ny&&$v(),void 0!==e.ngSelectorScope){const t=Xv(e.ngSelectorScope);Yv(n,t)}}return n},configurable:!!ngDevMode})}function oy(e,t){let n=null;sy(e,t||{}),Object.defineProperty(e,le,{get:()=>{if(null===n){const r=iy(e,t||{}),o=mr({usage:0,kind:"directive",type:e});n=o.compileDirective(Nv,r.sourceMapUrl,r.metadata)}return n},configurable:!!ngDevMode})}function iy(e,t){const n=e&&e.name,r=`ng:///${n}/dir.js`,o=mr({usage:0,kind:"directive",type:e}),i=uy(e,t);return i.typeSourceSpan=o.createParseSourceSpan("Directive",n,r),i.usesInheritance&&cy(e),{metadata:i,sourceMapUrl:r}}function sy(e,t){let n=null;Object.defineProperty(e,pe,{get:()=>{if(null===n){const r=iy(e,t),o=mr({usage:0,kind:"directive",type:e});n=o.compileFactory(Nv,`ng:///${e.name}/fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:no(e),target:o.FactoryTarget.Directive})}return n},configurable:!!ngDevMode})}function ay(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function uy(e,t){const n=to(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||ae,propMetadata:r,inputs:t.inputs||ue,outputs:t.outputs||ue,queries:fy(e,r,dy),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!ay(e),exportAs:(o=t.exportAs,void 0===o?null:vy(o)),providers:t.providers||null,viewQueries:fy(e,r,py)};var o}function cy(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)Se(n)||De(n)||!by(n)||oy(n,null),n=Object.getPrototypeOf(n)}function ly(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?vy(n):f(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function fy(e,t,n){const r=[];for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];i.forEach((t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${o}" of "${y(e)}" since the query selector wasn't defined.`);if(i.some(hy))throw new Error("Cannot combine @Input decorators with query decorators");r.push(ly(o,t))}}))}return r}function dy(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function py(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function hy(e){return"Input"===e.ngMetadataName}function vy(e){return e.split(",").map((e=>e.trim()))}const yy=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function by(e){const t=to();if(yy.some((n=>t.hasLifecycleHook(e,n))))return!0;const n=t.propMetadata(e);for(const e in n){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(hy(n)||dy(n)||py(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function gy(e,t){let n=null,r=null;Object.defineProperty(e,pe,{get:()=>{if(null===r){const n=my(e,t),o=mr({usage:0,kind:"pipe",type:n.type});r=o.compileFactory(Nv,`ng:///${n.name}/fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:no(e),target:o.FactoryTarget.Pipe})}return r},configurable:!!ngDevMode}),Object.defineProperty(e,fe,{get:()=>{if(null===n){const r=my(e,t),o=mr({usage:0,kind:"pipe",type:r.type});n=o.compilePipe(Nv,`ng:///${r.name}/pipe.js`,r)}return n},configurable:!!ngDevMode})}function my(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const _y=ir("Directive",((e={})=>e),void 0,void 0,((e,t)=>oy(e,t))),wy=ir("Component",((e={})=>Object.assign({changeDetection:Q.Default},e)),_y,void 0,((e,t)=>ry(e,t))),My=ir("Pipe",(e=>Object.assign({pure:!0},e)),void 0,void 0,((e,t)=>gy(e,t))),Cy=ur("Input",(e=>({bindingPropertyName:e}))),xy=ur("Output",(e=>({bindingPropertyName:e}))),Oy=ur("HostBinding",(e=>({hostPropertyName:e}))),Dy=ur("HostListener",((e,t)=>({eventName:e,args:t}))),Sy=ir("NgModule",(e=>e),void 0,void 0,((e,t)=>Uv(e,t)));function Ey(...e){}const Iy=new lr("Application Initializer");class Py{constructor(e){this.appInits=e,this.resolve=Ey,this.reject=Ey,this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();if(Ul(n))e.push(n);else if(Wl(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}}Py.fac=function(e){return new(e||Py)(Wr(Iy,8))},Py.prov=R({token:Py,factory:Py.fac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(Py,[{type:cl,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:Jr,args:[Iy]},{type:Zr}]}]}),null);const Ty=new lr("AppId",{providedIn:"root",factory:Ay});function Ay(){return`${ky()}${ky()}${ky()}`}const jy={provide:Ty,useFactory:Ay,deps:[]};function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ny=new lr("Platform Initializer"),Ry=new lr("Platform ID"),Fy=new lr("appBootstrapListener"),Ly=new lr("Application Packages Root URL");class Vy{log(e){console.log(e)}warn(e){console.warn(e)}}Vy.fac=function(e){return new(e||Vy)},Vy.prov=R({token:Vy,factory:Vy.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(Vy,[{type:cl}],null,null);const $y=new lr("LocaleId",{providedIn:"root",factory:()=>qr($y,q.Optional|q.SkipSelf)||("undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.getLocale()?goog.getLocale():"undefined"!=typeof $localize&&$localize.locale||Fd)}),Hy=new lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Uy=new lr("Translations"),By=new lr("TranslationsFormat");var Wy;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Wy||(Wy={}));class zy{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class qy{compileModuleSync(e){return new jh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=Ui(Ie(e).declarations).reduce(((e,t)=>{const n=De(t);return n&&e.push(new Ch(n)),e}),[]);return new zy(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}qy.fac=function(e){return new(e||qy)},qy.prov=R({token:qy,factory:qy.fac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(qy,[{type:cl,args:[{providedIn:"root"}]}],null,null);const Ky=new lr("compilerOptions");class Gy{}const Jy=Promise.resolve(0);function Zy(e){"undefined"==typeof Zone?Jy.then((()=>{e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qy{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new iv(!1),this.onMicrotaskEmpty=new iv(!1),this.onStable=new iv(!1),this.onError=new iv(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=ie.requestAnimationFrame,t=ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ie,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,eb(e),e.isCheckStableRunning=!0,Xy(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),eb(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return tb(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),nb(e)}},onInvoke:(n,r,o,i,s,a,u)=>{try{return tb(e),n.invoke(o,i,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),nb(e)}},onHasTask:(t,n,r,o)=>{t.hasTask(r,o),n===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,eb(e),Xy(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,r,o)=>(t.handleError(r,o),e.runOutsideAngular((()=>e.onError.emit(o))),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qy.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qy.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,e,Yy,Ey,Ey);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Yy={};function Xy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function eb(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function tb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nb(e){e._nesting--,Xy(e)}class rb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new iv,this.onMicrotaskEmpty=new iv,this.onStable=new iv,this.onError=new iv}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}class ob{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Qy.assertNotInAngularZone(),Zy((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zy((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==r)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}ob.fac=function(e){return new(e||ob)(Wr(Qy))},ob.prov=R({token:ob,factory:ob.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(ob,[{type:cl}],(function(){return[{type:Qy}]}),null);class ib{constructor(){this._applications=new Map,ub.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ub.findTestabilityInTree(this,e,t)}}function sb(e){ub=e}ib.fac=function(e){return new(e||ib)},ib.prov=R({token:ib,factory:ib.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(ib,[{type:cl}],(function(){return[]}),null);let ab,ub=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}};function cb(e,t,n){ngDevMode&&function(e,t="Type passed in is not NgModuleType, it does not have 'mod' property."){Ie(e)||A(t)}(n);const r=new jh(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(r);const o=e.get(Ky,[]).concat(t);if(function(e){if(null!==Rv){if(e.defaultEncapsulation!==Rv.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(e.preserveWhitespaces!==Rv.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}Rv=e}({defaultEncapsulation:Mb(o.map((e=>e.defaultEncapsulation))),preserveWhitespaces:Mb(o.map((e=>e.preserveWhitespaces)))}),0===io.size)return Promise.resolve(r);const i=function(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}(o.map((e=>e.providers)));if(0===i.length)return Promise.resolve(r);const s=mr({usage:0,kind:"NgModule",type:n}),a=Ju.create({providers:i}).get(s.ResourceLoader);return oo((e=>Promise.resolve(a.get(e)))).then((()=>r))}function lb(e){return e.isBoundToModule}const fb=new lr("AllowMultipleToken");class db{constructor(e,t){this.name=e,this.token=t}}function pb(e){if(ab&&!ab.destroyed&&!ab.injector.get(fb,!1)){const e="undefined"==typeof ngDevMode||ngDevMode?"There can be only one platform. Destroy the previous one to create a new one.":"";throw new p(400,e)}ngDevMode&&cc(),ab=e.get(gb);const t=e.get(Ny,null);return t&&t.forEach((e=>e())),ab}function hb(e,t,n=[]){const r=`Platform: ${t}`,o=new lr(r);return(t=[])=>{let i=bb();if(!i||i.injector.get(fb,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{const e=n.concat(t).concat({provide:o,useValue:!0},{provide:Ru,useValue:"platform"});pb(Ju.create({providers:e,name:r}))}return vb(o)}}function vb(e){const t=bb();if(!t){const e="undefined"==typeof ngDevMode||ngDevMode?"No platform exists!":"";throw new p(401,e)}if(("undefined"==typeof ngDevMode||ngDevMode)&&!t.injector.get(e,null))throw new p(400,"A platform with a different configuration has been created. Please destroy it first.");return t}function yb(){ab&&!ab.destroyed&&ab.destroy()}function bb(){return ab&&!ab.destroyed?ab:null}class gb{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new rb:("zone.js"===e?void 0:e)||new Qy({enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Qy,useValue:n}];return n.run((()=>{const t=Ju.create({providers:r,parent:this.injector,name:e.moduleType.name}),o=e.create(t),i=o.injector.get(Pi,null);if(!i){const e="undefined"==typeof ngDevMode||ngDevMode?"No ErrorHandler. Is platform module (BrowserModule) included?":"";throw new p(402,e)}return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});o.onDestroy((()=>{wb(this._modules,o),e.unsubscribe()}))})),function(e,t,n){try{const r=n();return Ul(r)?r.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):r}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}(i,n,(()=>{const e=o.injector.get(Py);return e.runInitializers(),e.donePromise.then((()=>(Ud(o.injector.get($y,Fd)||Fd),this._moduleDoBootstrap(o),o)))}))}))}bootstrapModule(e,t=[]){const n=mb({},t);return cb(this.injector,n,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(_b);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap){const t="undefined"==typeof ngDevMode||ngDevMode?`The module ${a(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`:"";throw new p(403,t)}e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed){const e="undefined"==typeof ngDevMode||ngDevMode?"The platform has already been destroyed!":"";throw new p(404,e)}this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e())),this._destroyed=!0}get destroyed(){return this._destroyed}}function mb(e,t){return Array.isArray(t)?t.reduce(mb,e):Object.assign(Object.assign({},e),t)}gb.fac=function(e){return new(e||gb)(Wr(Ju))},gb.prov=R({token:gb,factory:gb.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(gb,[{type:cl}],(function(){return[{type:Ju}]}),null);class _b{constructor(e,t,n,i,s){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run((()=>{this.tick()}))}});const a=new r.Observable((e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular((()=>{e.next(this._stable),e.complete()}))})),u=new r.Observable((e=>{let t;this._zone.runOutsideAngular((()=>{t=this._zone.onStable.subscribe((()=>{Qy.assertNotInAngularZone(),Zy((()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))}))}))}));const n=this._zone.onUnstable.subscribe((()=>{Qy.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular((()=>{e.next(!1)})))}));return()=>{t.unsubscribe(),n.unsubscribe()}}));this.isStable=(0,r.merge)(a,u.pipe((0,o.BN)()))}bootstrap(e,t){if(!this._initStatus.done){const e="undefined"==typeof ngDevMode||ngDevMode?"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.":"";throw new p(405,e)}let n;n=e instanceof sh?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=lb(n)?void 0:this._injector.get(Dh),o=t||n.selector,i=n.create(Ju.NULL,[],o,r),s=i.location.nativeElement,a=i.injector.get(ob,null),u=a&&i.injector.get(ib);return a&&u&&u.registerApplication(s,a),i.onDestroy((()=>{this.detachView(i.hostView),wb(this.components,i),u&&u.unregisterApplication(s)})),this._loadComponent(i),("undefined"==typeof ngDevMode||ngDevMode)&&this._injector.get(Vy).log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick){const e="undefined"==typeof ngDevMode||ngDevMode?"ApplicationRef.tick is called recursively":"";throw new p(101,e)}try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if("undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular((()=>this._exceptionHandler.handleError(e)))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;wb(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Fy,[]).concat(this._bootstrapListeners).forEach((t=>t(e)))}ngOnDestroy(){this._views.slice().forEach((e=>e.destroy())),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function wb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Mb(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}_b.fac=function(e){return new(e||_b)(Wr(Qy),Wr(Ju),Wr(Pi),Wr(uh),Wr(Py))},_b.prov=R({token:_b,factory:_b.fac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(_b,[{type:cl,args:[{providedIn:"root"}]}],(function(){return[{type:Qy},{type:Ju},{type:Pi},{type:uh},{type:Py}]}),null);let Cb=!0,xb=!1;function Ob(){return xb=!0,Cb}function Db(){if(xb)throw new Error("Cannot enable prod mode after platform setup.");(void 0===typeof ngDevMode||ngDevMode)&&(ie.ngDevMode=!1),Cb=!1}function Sb(e){const t=Ph(e);if(!t)throw Ib(e);return new jh(t)}function Eb(e){const t=Ph(e);if(!t)throw Ib(e);return t}function Ib(e){return new Error(`No module with ID ${e} loaded`)}class Pb{}function Tb(e){return function(e,t,n){if(Re(e)&&!n){const n=Ct(e.index,t);return new mh(n,n)}if(47&e.type){const e=t[16];return new mh(e,t)}return null}(Rt(),jt(),16==(16&e))}Pb.__NG_ELEMENT_ID__=Tb;class Ab extends Pb{}class jb extends Ab{}class kb{constructor(e,t){this.name=e,this.callback=t}}function Nb(e){return e.map((e=>e.nativeElement))}class Rb{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Fb(e):null}get injector(){return ec(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Zu(e)||Yu(e))}get context(){return Zu(this.nativeNode)||Qu(this.nativeNode)}get listeners(){return oc(this.nativeNode).filter((e=>"dom"===e.type))}get references(){return function(e){const t=gi(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let o=0;o<n.localNames.length;o+=2)t[n.localNames[o]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=gi(e);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],o=[],i=1048575&r.providerIndexes,s=r.directiveEnd;for(let e=i;e<s;e++){let t=n.data[e];void 0!==(a=t).type&&void 0!==a.template&&void 0!==a.declaredInputs&&(t=t.type),o.push(t)}var a;return o}(this.nativeNode)}}class Fb extends Rb{constructor(e){ngDevMode&&j(e),super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=gi(this.nativeNode);return null!==e?e.lView[1].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=gi(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],o={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];Lb(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,o),function(e,t,n,r){let o=t.propertyBindings;if(null!==o)for(let t=0;t<o.length;t++){const i=o[t],s=r[i].split(Hi),a=s[0];if(s.length>1){let t=s[1];for(let e=1;e<s.length-1;e++)t+=v(n[i+e-1])+s[e+1];e[a]=t}else e[a]=n[i]}}(o,r,t,n),o}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=gi(t);if(null===n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,o=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;const i=r[t+1];e[n]=i,o.push(n.toLowerCase()),t+=2}}const i=t.attributes;for(let t=0;t<i.length;t++){const n=i[t],r=n.name.toLowerCase();-1===o.indexOf(r)&&(e[r]=n.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return("string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((t=>e[t]=!0)),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(Wb(r))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let e=0;e<t.length;e++){const r=t[e];n.push(Wb(r))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Vb(this,e,t,!0),t}queryAllNodes(e){const t=[];return Vb(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach((o=>{if(o.name===e){const e=o.callback;e.call(n,t),r.push(e)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const o=e("__ngUnwrap__");return-1===r.indexOf(o)&&o.call(n,t)}}))}}function Lb(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Vb(e,t,n,r){const o=gi(e.nativeNode);null!==o?$b(o.lView[1].data[o.nodeIndex],o.lView,t,n,r,e.nativeNode):Bb(e.nativeNode,t,n,r)}function $b(e,t,n,r,o,i){ngDevMode&&Ve(e,t);const s=function(e,t){const n=null===e?-1:e.index;if(-1!==n){ngDevMode&&Ve(e,t);const r=gt(t[n]);return ngDevMode&&null!==r&&!yt(t[11])&&j(r),r}return null}(e,t);if(11&e.type){if(Ub(s,n,r,o,i),Re(e)){const s=Ct(e.index,t);s&&s[1].firstChild&&$b(s[1].firstChild,s,n,r,o,i)}else e.child&&$b(e.child,t,n,r,o,i),s&&Bb(s,n,r,o);const a=t[e.index];ke(a)&&Hb(a,n,r,o,i)}else if(4&e.type){const s=t[e.index];Ub(s[7],n,r,o,i),Hb(s,n,r,o,i)}else if(16&e.type){const s=t[16],a=s[6].projection[e.projection];if(Array.isArray(a))for(let e of a)Ub(e,n,r,o,i);else if(a){const e=s[3];$b(e[1].data[a.index],e,n,r,o,i)}}else e.child&&$b(e.child,t,n,r,o,i);if(i!==s){const s=4&e.flags?e.projectionNext:e.next;s&&$b(s,t,n,r,o,i)}}function Hb(e,t,n,r,o){for(let i=Pe;i<e.length;i++){const s=e[i],a=s[1].firstChild;a&&$b(a,s,t,n,r,o)}}function Ub(e,t,n,r,o){if(o!==e){const o=Wb(e);if(!o)return;(r&&o instanceof Fb&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o)}}function Bb(e,t,n,r){const o=e.childNodes,i=o.length;for(let e=0;e<i;e++){const i=o[e],s=Wb(i);s&&((r&&s instanceof Fb&&t(s)&&-1===n.indexOf(s)||!r&&t(s)&&-1===n.indexOf(s))&&n.push(s),Bb(i,t,n,r))}}new Map;function Wb(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new Fb(e):new Rb(e)),e.__ng_debug__):null}function zb(e){return null}class qb{constructor(){}supports(e){return Ic(e)}create(e){return new Gb(e)}}const Kb=(e,t)=>t;class Gb{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kb}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,o=null;for(;t||n;){const i=!n||t&&t.currentIndex<Yb(n,r,o)?t:n,s=Yb(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<o.length?o[n]:o[n]=0,i=r+n;t<=i&&i<e&&(o[n]=r+1)}o[i.previousIndex]=t-e}}s!==a&&e(i,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ic(e)){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${a(e)}'. Only arrays and iterables are allowed`:"";throw new p(900,t)}return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,o=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,n,r,t)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,r,t),i=!0),o=o._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Sc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,(e=>{r=this._trackByFn(t,e),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,e,r,t)),Object.is(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,r,t),i=!0),o=o._next,t++})),this.length=t;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Jb(t,n),o,r),e}_verifyReinsertion(e,t,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qb),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Jb{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zb{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Qb{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Zb,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yb(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Xb{constructor(){}supports(e){return e instanceof Map||Pc(e)}create(){return new eg}}class eg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Pc(e))){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${a(e)}'. Only maps and objects are allowed`:"";throw new p(900,t)}}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}const n=new tg(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((n=>t(e[n],n)))}}class tg{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ng(){return new rg([new qb])}class rg{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new rg(e)}static extend(e){return{provide:rg,useFactory:t=>rg.create(e,t||ng()),deps:[[rg,new Yr,new Zr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;{const t="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`:"";throw new p(901,t)}var n}}function og(){return new ig([new Xb])}rg.prov=R({token:rg,providedIn:"root",factory:ng});class ig{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new ig(e)}static extend(e){return{provide:ig,useFactory:t=>ig.create(e,t||og()),deps:[[ig,new Yr,new Zr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(t)return t;const n="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}'`:"";throw new p(901,n)}}ig.prov=R({token:ig,providedIn:"root",factory:og});const sg=[new Xb],ag=[new qb],ug=new rg(ag),cg=new ig(sg),lg=hb(null,"core",[{provide:Ry,useValue:"unknown"},{provide:gb,deps:[Ju]},{provide:ib,deps:[]},{provide:Vy,deps:[]}]);class fg{constructor(e){}}fg.fac=function(e){return new(e||fg)(Wr(_b))},fg.mod=we({type:fg}),fg.inj=L({}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(fg,[{type:Sy}],(function(){return[{type:_b}]}),null);const dg=!0;function pg(e){return mr({usage:1,kind:"directive",type:e.type}).compileDirectiveDeclaration(Nv,`ng:///${e.type.name}/fac.js`,e)}function hg(e){var t,n;Oh(e.type,e.decorators,null!==(t=e.ctorParameters)&&void 0!==t?t:null,null!==(n=e.propDecorators)&&void 0!==n?n:null)}function vg(e){return mr({usage:1,kind:"component",type:e.type}).compileComponentDeclaration(Nv,`ng:///${e.type.name}/cmp.js`,e)}function yg(e){return mr({usage:1,kind:bg(e.target),type:e.type}).compileFactoryDeclaration(Nv,`ng:///${e.type.name}/fac.js`,e)}function bg(e){switch(e){case br.Directive:return"directive";case br.Component:return"component";case br.Injectable:return"injectable";case br.Pipe:return"pipe";case br.NgModule:return"NgModule"}}function gg(e){return mr({usage:1,kind:"injectable",type:e.type}).compileInjectableDeclaration(Nv,`ng:///${e.type.name}/prov.js`,e)}function mg(e){return mr({usage:1,kind:"NgModule",type:e.type}).compileInjectorDeclaration(Nv,`ng:///${e.type.name}/inj.js`,e)}function _g(e){return mr({usage:1,kind:"NgModule",type:e.type}).compileNgModuleDeclaration(Nv,`ng:///${e.type.name}/mod.js`,e)}function wg(e){return mr({usage:1,kind:"pipe",type:e.type}).compilePipeDeclaration(Nv,`ng:///${e.type.name}/pipe.js`,e)}"undefined"!=typeof ngDevMode&&ngDevMode&&(ie.$localize=ie.$localize||function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.checkKeyForDid=e.EProofmeDataStorage=e.EProofmeDataPurpose=e.EClaimType=e.ESignatureTypes=e.EMimeType=e.getSubDomain=e.SignalServerV2=e.ProofmeUtils=e.ProofmeUtilsProvider=e.WebRtcProvider=e.SignalingServer=void 0;var t=n(2582);Object.defineProperty(e,"SignalingServer",{enumerable:!0,get:function(){return t.SignalingServer}});var o=n(2733);Object.defineProperty(e,"WebRtcProvider",{enumerable:!0,get:function(){return o.WebRtcProvider}});var i=n(1015);Object.defineProperty(e,"ProofmeUtilsProvider",{enumerable:!0,get:function(){return i.ProofmeUtilsProvider}});var s=n(5583);Object.defineProperty(e,"ProofmeUtils",{enumerable:!0,get:function(){return s.ProofmeUtils}});var a=n(5456);Object.defineProperty(e,"SignalServerV2",{enumerable:!0,get:function(){return a.SignalServerV2}});var u=n(6919);Object.defineProperty(e,"getSubDomain",{enumerable:!0,get:function(){return u.getSubDomain}});var c=n(3244);Object.defineProperty(e,"EMimeType",{enumerable:!0,get:function(){return c.EMimeType}});var l=n(2178);Object.defineProperty(e,"ESignatureTypes",{enumerable:!0,get:function(){return l.ESignatureTypes}});var f=n(9137);Object.defineProperty(e,"EClaimType",{enumerable:!0,get:function(){return f.EClaimType}});var d=n(5018);Object.defineProperty(e,"EProofmeDataPurpose",{enumerable:!0,get:function(){return d.EProofmeDataPurpose}});var p=n(345);Object.defineProperty(e,"EProofmeDataStorage",{enumerable:!0,get:function(){return p.EProofmeDataStorage}});var h=n(3817);Object.defineProperty(e,"checkKeyForDid",{enumerable:!0,get:function(){return h.checkKeyForDid}})})(),r})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGFBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxTQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGVBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLFVBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxTQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLFNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsWUFDUixLQUFRLFNBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxPQUNSLEtBQVEsU0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE1BQ1IsS0FBUSxXQUdoQixLQUFRLGVBQ1IsS0FBUSxTQUVaLENBQ0ksV0FBYSxFQUNiLE9BQVUsQ0FDTixDQUNJLFNBQVcsRUFDWCxLQUFRLGNBQ1IsS0FBUSxXQUVaLENBQ0ksU0FBVyxFQUNYLEtBQVEsS0FDUixLQUFRLFdBRVosQ0FDSSxTQUFXLEVBQ1gsS0FBUSxRQUNSLEtBQVEsV0FFWixDQUNJLFNBQVcsRUFDWCxLQUFRLE9BQ1IsS0FBUSxVQUdoQixLQUFRLGtCQUNSLEtBQVEsU0FFWixDQUNJLFdBQWEsRUFDYixPQUFVLENBQ04sQ0FDSSxTQUFXLEVBQ1gsS0FBUSxN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NjJILEdBR3BFNTJILEVBQU9ELFFDcEJmNjJILEVBQW9CcjJILEVBQUksQ0FBQ1IsRUFBU3M1QyxLQUNqQyxJQUFJLElBQUlsNkIsS0FBT2s2QixFQUNYdTlFLEVBQW9CbnRILEVBQUU0dkMsRUFBWWw2QixLQUFTeTNHLEVBQW9CbnRILEVBQUUxSixFQUFTb2YsSUFDNUUxZSxPQUFPYSxlQUFldkIsRUFBU29mLEVBQUssQ0FBRXRjLFlBQVksRUFBTUYsSUFBSzAyQyxFQUFXbDZCLE1DSjNFeTNHLEVBQW9CbnRILEVBQUksQ0FBQ21MLEVBQUtxNkMsSUFBVXh1RCxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLNFQsRUFBS3E2QyxHQ0NsRjJuRSxFQUFvQi9wSCxFQUFLOU0sSUFDSCxvQkFBWDRKLFFBQTBCQSxPQUFPcXRILGFBQzFDdjJILE9BQU9hLGVBQWV2QixFQUFTNEosT0FBT3F0SCxZQUFhLENBQUV6MUgsTUFBTyxXQUU3RGQsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTywyU0NMdkQsY0FBUyxpRkFBQTAxSCxtQkFDVCxjQUFTLGdGQUFBcndGLGtCQUNULGNBQVMsc0ZBQUF2Tyx3QkFDVCxjQUFTLDhFQUFBRSxnQkFDVCxjQUFTLGdGQUFBMitGLGtCQUNULGNBQVMsc0RBQUF2MEgsSUFBQSxvQkFBQXcwSCxnQkFJVCxjQUFTLDJFQUFBcmdHLGFBQ1QsY0FBUyxpRkFBQUcsbUJBQ1QsY0FBUyw0RUFBQUwsY0FVVCxjQUFTLHFGQUFBRyx1QkFDVCxhQUFTLHFGQUFBQyx1QkFHVCxjQUFTLGdGQUFBb2dHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9Bc3luY1N1YmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tU3Vic2NyaWJhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvaW5uZXJGcm9tLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvdGltZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0VGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVG9nZ2xlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJXaGVuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jYXRjaEVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0QWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0V2l0aC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdFdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2Nvbm5lY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9lbmRXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9ldmVyeS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdEFsbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9maW5kLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9maW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9mbGF0TWFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvam9pbkFsbEludGVybmFscy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tYXBUby5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWF0ZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21heC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUludGVybmFscy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwVG8uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlU2Nhbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9taW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3BhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2suanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2guanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2VXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZkNvdW50LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVdoZW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlVGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2Nhbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2NhbkludGVybmFscy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2VxdWVuY2VFcXVhbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zaW5nbGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9za2lwVW50aWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBXaGlsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zdWJzY3JpYmVPbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFRvLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hTY2FuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlTGFzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVVudGlsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlV2hpbGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RhcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlVGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90aW1lSW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90aW1lc3RhbXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvdy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93Q291bnQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RpbWUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RvZ2dsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93V2hlbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3ppcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvemlwQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy96aXBXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci9Bc3luY1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvaW50ZXJ2YWxQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvRW1wdHlFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL05vdEZvdW5kRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL1NlcXVlbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvYXJncy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvYXJnc09yQXJnQXJyYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvY3JlYXRlT2JqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvZXJyb3JDb250ZXh0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzRGF0ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9saWZ0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvbWFwT25lT3JNYW55QXJncy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9ub3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL29wZXJhdG9ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvY2xhaW1UeXBlcy5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9kaWRBY2Nlc3NMZXZlbC5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9taW1lVHlwZXMuZW51bS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvcHJvb2ZtZURhdGFQdXJwb3NlLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9wcm9vZm1lRGF0YVN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2VudW1zL3NpZ25hdHVyZVR5cGVzLmVudW0udHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2hlbHBlcnMvc2lnbmFsSGVscGVycy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvcHJvb2ZtZS11dGlscy5wcm92aWRlci50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvcHJvb2ZtZS11dGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvc2lnbmFsU2VydmVyL3NpZ25hbFNlcnZlclYyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zaWduYWxpbmdTZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3NtYXJ0Y29udHJhY3RzL2NsYWltSG9sZGVyQWJpLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zbWFydGNvbnRyYWN0cy9pZGVudGl0eS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvdXRpbHMvZ2xvYmFsL3YxVXRpbHMudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3V0aWxzL3NtYXJ0Q29udHJhY3RzL3NtYXJ0Q29udHJhY3RVdGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvd2ViUnRjLnByb3ZpZGVyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy93ZWJSdGNDbGllbnRWMi50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJyeGpzXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwidXVpZFwiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndlYjNcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ3ZWJzb2NrZXRcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ3cnRjXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwid3NcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNyeXB0b1wiIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL2Zlc20yMDE1L2NvcmUubWpzIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJQcm9vZm1lSWRcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUHJvb2ZtZUlkXCJdID0gZmFjdG9yeSgpO1xufSkoZ2xvYmFsLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFzeW5jU3ViamVjdCA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi9TdWJqZWN0XCIpO1xudmFyIEFzeW5jU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1N1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5faGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgX2hhc1ZhbHVlID0gX2EuX2hhc1ZhbHVlLCBfdmFsdWUgPSBfYS5fdmFsdWUsIHRocm93bkVycm9yID0gX2EudGhyb3duRXJyb3IsIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZCwgX2lzQ29tcGxldGUgPSBfYS5faXNDb21wbGV0ZTtcbiAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRocm93bkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0b3BwZWQgfHwgX2lzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIF9oYXNWYWx1ZSAmJiBzdWJzY3JpYmVyLm5leHQoX3ZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9oYXNWYWx1ZSA9IF9hLl9oYXNWYWx1ZSwgX3ZhbHVlID0gX2EuX3ZhbHVlLCBfaXNDb21wbGV0ZSA9IF9hLl9pc0NvbXBsZXRlO1xuICAgICAgICBpZiAoIV9pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIF9oYXNWYWx1ZSAmJiBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCBfdmFsdWUpO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTdWJqZWN0O1xufShTdWJqZWN0XzEuU3ViamVjdCkpO1xuZXhwb3J0cy5Bc3luY1N1YmplY3QgPSBBc3luY1N1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1N1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CZWhhdmlvclN1YmplY3QgPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4vU3ViamVjdFwiKTtcbnZhciBCZWhhdmlvclN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgICFzdWJzY3JpcHRpb24uY2xvc2VkICYmIHN1YnNjcmliZXIubmV4dCh0aGlzLl92YWx1ZSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBfdmFsdWUgPSBfYS5fdmFsdWU7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgdGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsICh0aGlzLl92YWx1ZSA9IHZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0XzEuU3ViamVjdCkpO1xuZXhwb3J0cy5CZWhhdmlvclN1YmplY3QgPSBCZWhhdmlvclN1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CZWhhdmlvclN1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm9ic2VydmVOb3RpZmljYXRpb24gPSBleHBvcnRzLk5vdGlmaWNhdGlvbiA9IGV4cG9ydHMuTm90aWZpY2F0aW9uS2luZCA9IHZvaWQgMDtcbnZhciBlbXB0eV8xID0gcmVxdWlyZShcIi4vb2JzZXJ2YWJsZS9lbXB0eVwiKTtcbnZhciBvZl8xID0gcmVxdWlyZShcIi4vb2JzZXJ2YWJsZS9vZlwiKTtcbnZhciB0aHJvd0Vycm9yXzEgPSByZXF1aXJlKFwiLi9vYnNlcnZhYmxlL3Rocm93RXJyb3JcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIE5vdGlmaWNhdGlvbktpbmQ7XG4oZnVuY3Rpb24gKE5vdGlmaWNhdGlvbktpbmQpIHtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiTkVYVFwiXSA9IFwiTlwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJFUlJPUlwiXSA9IFwiRVwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJDT01QTEVURVwiXSA9IFwiQ1wiO1xufSkoTm90aWZpY2F0aW9uS2luZCA9IGV4cG9ydHMuTm90aWZpY2F0aW9uS2luZCB8fCAoZXhwb3J0cy5Ob3RpZmljYXRpb25LaW5kID0ge30pKTtcbnZhciBOb3RpZmljYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSBraW5kID09PSAnTic7XG4gICAgfVxuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZU5vdGlmaWNhdGlvbih0aGlzLCBvYnNlcnZlcik7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmRvID0gZnVuY3Rpb24gKG5leHRIYW5kbGVyLCBlcnJvckhhbmRsZXIsIGNvbXBsZXRlSGFuZGxlcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBraW5kID0gX2Eua2luZCwgdmFsdWUgPSBfYS52YWx1ZSwgZXJyb3IgPSBfYS5lcnJvcjtcbiAgICAgICAgcmV0dXJuIGtpbmQgPT09ICdOJyA/IG5leHRIYW5kbGVyID09PSBudWxsIHx8IG5leHRIYW5kbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0SGFuZGxlcih2YWx1ZSkgOiBraW5kID09PSAnRScgPyBlcnJvckhhbmRsZXIgPT09IG51bGwgfHwgZXJyb3JIYW5kbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvckhhbmRsZXIoZXJyb3IpIDogY29tcGxldGVIYW5kbGVyID09PSBudWxsIHx8IGNvbXBsZXRlSGFuZGxlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcGxldGVIYW5kbGVyKCk7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKChfYSA9IG5leHRPck9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dClcbiAgICAgICAgICAgID8gdGhpcy5vYnNlcnZlKG5leHRPck9ic2VydmVyKVxuICAgICAgICAgICAgOiB0aGlzLmRvKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS50b09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGtpbmQgPSBfYS5raW5kLCB2YWx1ZSA9IF9hLnZhbHVlLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICB2YXIgcmVzdWx0ID0ga2luZCA9PT0gJ04nXG4gICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgb2ZfMS5vZih2YWx1ZSlcbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICBraW5kID09PSAnRSdcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcl8xLnRocm93RXJyb3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gZXJyb3I7IH0pXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQgPT09ICdDJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlfMS5FTVBUWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIFwiICsga2luZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdOJywgdmFsdWUpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ0MnKTtcbiAgICByZXR1cm4gTm90aWZpY2F0aW9uO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpY2F0aW9uID0gTm90aWZpY2F0aW9uO1xuZnVuY3Rpb24gb2JzZXJ2ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIG9ic2VydmVyKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdmFyIF9kID0gbm90aWZpY2F0aW9uLCBraW5kID0gX2Qua2luZCwgdmFsdWUgPSBfZC52YWx1ZSwgZXJyb3IgPSBfZC5lcnJvcjtcbiAgICBpZiAodHlwZW9mIGtpbmQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm90aWZpY2F0aW9uLCBtaXNzaW5nIFwia2luZFwiJyk7XG4gICAgfVxuICAgIGtpbmQgPT09ICdOJyA/IChfYSA9IG9ic2VydmVyLm5leHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9ic2VydmVyLCB2YWx1ZSkgOiBraW5kID09PSAnRScgPyAoX2IgPSBvYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwob2JzZXJ2ZXIsIGVycm9yKSA6IChfYyA9IG9ic2VydmVyLmNvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChvYnNlcnZlcik7XG59XG5leHBvcnRzLm9ic2VydmVOb3RpZmljYXRpb24gPSBvYnNlcnZlTm90aWZpY2F0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVOb3RpZmljYXRpb24gPSBleHBvcnRzLm5leHROb3RpZmljYXRpb24gPSBleHBvcnRzLmVycm9yTm90aWZpY2F0aW9uID0gZXhwb3J0cy5DT01QTEVURV9OT1RJRklDQVRJT04gPSB2b2lkIDA7XG5leHBvcnRzLkNPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XG5mdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydHMuZXJyb3JOb3RpZmljYXRpb24gPSBlcnJvck5vdGlmaWNhdGlvbjtcbmZ1bmN0aW9uIG5leHROb3RpZmljYXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdOJywgdmFsdWUsIHVuZGVmaW5lZCk7XG59XG5leHBvcnRzLm5leHROb3RpZmljYXRpb24gPSBuZXh0Tm90aWZpY2F0aW9uO1xuZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGtpbmQsIHZhbHVlLCBlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZU5vdGlmaWNhdGlvbiA9IGNyZWF0ZU5vdGlmaWNhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT2JzZXJ2YWJsZSA9IHZvaWQgMDtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9TdWJzY3JpYmVyXCIpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIG9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuL3N5bWJvbC9vYnNlcnZhYmxlXCIpO1xudmFyIHBpcGVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvcGlwZVwiKTtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgZXJyb3JDb250ZXh0XzEgPSByZXF1aXJlKFwiLi91dGlsL2Vycm9yQ29udGV4dFwiKTtcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFN1YnNjcmliZXJfMS5TYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyXzEuU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHJlc29sdmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZV8xLnBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnRzLk9ic2VydmFibGUgPSBPYnNlcnZhYmxlO1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHByb21pc2VDdG9yICE9PSBudWxsICYmIHByb21pc2VDdG9yICE9PSB2b2lkIDAgPyBwcm9taXNlQ3RvciA6IGNvbmZpZ18xLmNvbmZpZy5Qcm9taXNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBQcm9taXNlO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUuY29tcGxldGUpO1xufVxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgU3Vic2NyaXB0aW9uXzEuaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlTdWJqZWN0ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuL1N1YmplY3RcIik7XG52YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXCIpO1xudmFyIFJlcGxheVN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBsYXlTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGxheVN1YmplY3QoX2J1ZmZlclNpemUsIF93aW5kb3dUaW1lLCBfdGltZXN0YW1wUHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKF9idWZmZXJTaXplID09PSB2b2lkIDApIHsgX2J1ZmZlclNpemUgPSBJbmZpbml0eTsgfVxuICAgICAgICBpZiAoX3dpbmRvd1RpbWUgPT09IHZvaWQgMCkgeyBfd2luZG93VGltZSA9IEluZmluaXR5OyB9XG4gICAgICAgIGlmIChfdGltZXN0YW1wUHJvdmlkZXIgPT09IHZvaWQgMCkgeyBfdGltZXN0YW1wUHJvdmlkZXIgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXJfMS5kYXRlVGltZXN0YW1wUHJvdmlkZXI7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSBfYnVmZmVyU2l6ZTtcbiAgICAgICAgX3RoaXMuX3dpbmRvd1RpbWUgPSBfd2luZG93VGltZTtcbiAgICAgICAgX3RoaXMuX3RpbWVzdGFtcFByb3ZpZGVyID0gX3RpbWVzdGFtcFByb3ZpZGVyO1xuICAgICAgICBfdGhpcy5fYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3cgPSB0cnVlO1xuICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gX3dpbmRvd1RpbWUgPT09IEluZmluaXR5O1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IE1hdGgubWF4KDEsIF9idWZmZXJTaXplKTtcbiAgICAgICAgX3RoaXMuX3dpbmRvd1RpbWUgPSBNYXRoLm1heCgxLCBfd2luZG93VGltZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQsIF9idWZmZXIgPSBfYS5fYnVmZmVyLCBfaW5maW5pdGVUaW1lV2luZG93ID0gX2EuX2luZmluaXRlVGltZVdpbmRvdywgX3RpbWVzdGFtcFByb3ZpZGVyID0gX2EuX3RpbWVzdGFtcFByb3ZpZGVyLCBfd2luZG93VGltZSA9IF9hLl93aW5kb3dUaW1lO1xuICAgICAgICBpZiAoIWlzU3RvcHBlZCkge1xuICAgICAgICAgICAgX2J1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICFfaW5maW5pdGVUaW1lV2luZG93ICYmIF9idWZmZXIucHVzaChfdGltZXN0YW1wUHJvdmlkZXIubm93KCkgKyBfd2luZG93VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICB0aGlzLl90cmltQnVmZmVyKCk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLl9pbm5lclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgX2luZmluaXRlVGltZVdpbmRvdyA9IF9hLl9pbmZpbml0ZVRpbWVXaW5kb3csIF9idWZmZXIgPSBfYS5fYnVmZmVyO1xuICAgICAgICB2YXIgY29weSA9IF9idWZmZXIuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3B5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkgKz0gX2luZmluaXRlVGltZVdpbmRvdyA/IDEgOiAyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoY29weVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl90cmltQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfYnVmZmVyU2l6ZSA9IF9hLl9idWZmZXJTaXplLCBfdGltZXN0YW1wUHJvdmlkZXIgPSBfYS5fdGltZXN0YW1wUHJvdmlkZXIsIF9idWZmZXIgPSBfYS5fYnVmZmVyLCBfaW5maW5pdGVUaW1lV2luZG93ID0gX2EuX2luZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgdmFyIGFkanVzdGVkQnVmZmVyU2l6ZSA9IChfaW5maW5pdGVUaW1lV2luZG93ID8gMSA6IDIpICogX2J1ZmZlclNpemU7XG4gICAgICAgIF9idWZmZXJTaXplIDwgSW5maW5pdHkgJiYgYWRqdXN0ZWRCdWZmZXJTaXplIDwgX2J1ZmZlci5sZW5ndGggJiYgX2J1ZmZlci5zcGxpY2UoMCwgX2J1ZmZlci5sZW5ndGggLSBhZGp1c3RlZEJ1ZmZlclNpemUpO1xuICAgICAgICBpZiAoIV9pbmZpbml0ZVRpbWVXaW5kb3cpIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBfdGltZXN0YW1wUHJvdmlkZXIubm93KCk7XG4gICAgICAgICAgICB2YXIgbGFzdCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IF9idWZmZXIubGVuZ3RoICYmIF9idWZmZXJbaV0gPD0gbm93OyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3QgJiYgX2J1ZmZlci5zcGxpY2UoMCwgbGFzdCArIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVwbGF5U3ViamVjdDtcbn0oU3ViamVjdF8xLlN1YmplY3QpKTtcbmV4cG9ydHMuUmVwbGF5U3ViamVjdCA9IFJlcGxheVN1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXBsYXlTdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXCIpO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydHMuU2NoZWR1bGVyID0gU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQW5vbnltb3VzU3ViamVjdCA9IGV4cG9ydHMuU3ViamVjdCA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi9PYnNlcnZhYmxlXCIpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEgPSByZXF1aXJlKFwiLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yXCIpO1xudmFyIGFyclJlbW92ZV8xID0gcmVxdWlyZShcIi4vdXRpbC9hcnJSZW1vdmVcIik7XG52YXIgZXJyb3JDb250ZXh0XzEgPSByZXF1aXJlKFwiLi91dGlsL2Vycm9yQ29udGV4dFwiKTtcbnZhciBTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgICAgICBzdWJqZWN0Lm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3Rocm93SWZDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlcnJvckNvbnRleHRfMS5lcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29weSA9IF90aGlzLm9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNvcHlfMSA9IF9fdmFsdWVzKGNvcHkpLCBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCk7ICFjb3B5XzFfMS5kb25lOyBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IGNvcHlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3B5XzFfMSAmJiAhY29weV8xXzEuZG9uZSAmJiAoX2EgPSBjb3B5XzEucmV0dXJuKSkgX2EuY2FsbChjb3B5XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGVycm9yQ29udGV4dF8xLmVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYXNFcnJvciA9IF90aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJqZWN0LnByb3RvdHlwZSwgXCJvYnNlcnZlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLm9ic2VydmVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2lubmVyU3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkLCBvYnNlcnZlcnMgPSBfYS5vYnNlcnZlcnM7XG4gICAgICAgIHJldHVybiBoYXNFcnJvciB8fCBpc1N0b3BwZWRcbiAgICAgICAgICAgID8gU3Vic2NyaXB0aW9uXzEuRU1QVFlfU1VCU0NSSVBUSU9OXG4gICAgICAgICAgICA6IChvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKSwgbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbihmdW5jdGlvbiAoKSB7IHJldHVybiBhcnJSZW1vdmVfMS5hcnJSZW1vdmUob2JzZXJ2ZXJzLCBzdWJzY3JpYmVyKTsgfSkpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLlN1YmplY3QgPSBTdWJqZWN0O1xudmFyIEFub255bW91c1N1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHZhbHVlKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBlcnIpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogU3Vic2NyaXB0aW9uXzEuRU1QVFlfU1VCU0NSSVBUSU9OO1xuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydHMuQW5vbnltb3VzU3ViamVjdCA9IEFub255bW91c1N1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRU1QVFlfT0JTRVJWRVIgPSBleHBvcnRzLlNhZmVTdWJzY3JpYmVyID0gZXhwb3J0cy5TdWJzY3JpYmVyID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciByZXBvcnRVbmhhbmRsZWRFcnJvcl8xID0gcmVxdWlyZShcIi4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi91dGlsL25vb3BcIik7XG52YXIgTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmljYXRpb25GYWN0b3JpZXNcIik7XG52YXIgdGltZW91dFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyXCIpO1xudmFyIGVycm9yQ29udGV4dF8xID0gcmVxdWlyZShcIi4vdXRpbC9lcnJvckNvbnRleHRcIik7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKFN1YnNjcmlwdGlvbl8xLmlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGV4cG9ydHMuRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEubmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEuZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbkZhY3Rvcmllc18xLkNPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbikpO1xuZXhwb3J0cy5TdWJzY3JpYmVyID0gU3Vic2NyaWJlcjtcbnZhciBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cbnZhciBDb25zdW1lck9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xuICAgICAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHBhcnRpYWxPYnNlcnZlcjtcbiAgICB9XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcbn0oKSk7XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgIW9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQgIT09IG51bGwgJiYgb2JzZXJ2ZXJPck5leHQgIT09IHZvaWQgMCA/IG9ic2VydmVyT3JOZXh0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlICE9PSBudWxsICYmIGNvbXBsZXRlICE9PSB2b2lkIDAgPyBjb21wbGV0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5TYWZlU3Vic2NyaWJlciA9IFNhZmVTdWJzY3JpYmVyO1xuZnVuY3Rpb24gaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuY2FwdHVyZUVycm9yKGVycm9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydFVuaGFuZGxlZEVycm9yXzEucmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgb25TdG9wcGVkTm90aWZpY2F0aW9uID0gY29uZmlnXzEuY29uZmlnLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyXzEudGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0cy5FTVBUWV9PQlNFUlZFUiA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogbm9vcF8xLm5vb3AsXG4gICAgZXJyb3I6IGRlZmF1bHRFcnJvckhhbmRsZXIsXG4gICAgY29tcGxldGU6IG5vb3BfMS5ub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1N1YnNjcmlwdGlvbiA9IGV4cG9ydHMuRU1QVFlfU1VCU0NSSVBUSU9OID0gZXhwb3J0cy5TdWJzY3JpcHRpb24gPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JfMSA9IHJlcXVpcmUoXCIuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvYXJyUmVtb3ZlXCIpO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25zID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxUZWFyZG93biA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGluaXRpYWxUZWFyZG93bikpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVGVhcmRvd24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3JfMS5VbnN1YnNjcmlwdGlvbkVycm9yID8gZS5lcnJvcnMgOiBbZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF90ZWFyZG93bnMgPSB0aGlzLl90ZWFyZG93bnM7XG4gICAgICAgICAgICBpZiAoX3RlYXJkb3ducykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RlYXJkb3ducyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3RlYXJkb3duc18xID0gX192YWx1ZXMoX3RlYXJkb3ducyksIF90ZWFyZG93bnNfMV8xID0gX3RlYXJkb3duc18xLm5leHQoKTsgIV90ZWFyZG93bnNfMV8xLmRvbmU7IF90ZWFyZG93bnNfMV8xID0gX3RlYXJkb3duc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlYXJkb3duXzEgPSBfdGVhcmRvd25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY1RlYXJkb3duKHRlYXJkb3duXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RlYXJkb3duc18xXzEgJiYgIV90ZWFyZG93bnNfMV8xLmRvbmUgJiYgKF9iID0gX3RlYXJkb3duc18xLnJldHVybikpIF9iLmNhbGwoX3RlYXJkb3duc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZXhlY1RlYXJkb3duKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fdGVhcmRvd25zID0gKF9hID0gdGhpcy5fdGVhcmRvd25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2hhc1BhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgPyAoX3BhcmVudGFnZS5wdXNoKHBhcmVudCksIF9wYXJlbnRhZ2UpIDogX3BhcmVudGFnZSA/IFtfcGFyZW50YWdlLCBwYXJlbnRdIDogcGFyZW50O1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICBhcnJSZW1vdmVfMS5hcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF90ZWFyZG93bnMgPSB0aGlzLl90ZWFyZG93bnM7XG4gICAgICAgIF90ZWFyZG93bnMgJiYgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKF90ZWFyZG93bnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb247XG5leHBvcnRzLkVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmZ1bmN0aW9uIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSkpO1xufVxuZXhwb3J0cy5pc1N1YnNjcmlwdGlvbiA9IGlzU3Vic2NyaXB0aW9uO1xuZnVuY3Rpb24gZXhlY1RlYXJkb3duKHRlYXJkb3duKSB7XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHRlYXJkb3duKSkge1xuICAgICAgICB0ZWFyZG93bigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGVhcmRvd24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmZpZyA9IHZvaWQgMDtcbmV4cG9ydHMuY29uZmlnID0ge1xuICAgIG9uVW5oYW5kbGVkRXJyb3I6IG51bGwsXG4gICAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiBudWxsLFxuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nOiBmYWxzZSxcbiAgICB1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6IGZhbHNlLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgcmVmQ291bnRfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvcmVmQ291bnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbm5lY3RhYmxlT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBzdWJqZWN0RmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLnN1YmplY3RGYWN0b3J5ID0gc3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIF90aGlzLl9zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAobGlmdF8xLmhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgX3RoaXMubGlmdCA9IHNvdXJjZS5saWZ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuZ2V0U3ViamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLl9zdWJqZWN0O1xuICAgICAgICBpZiAoIXN1YmplY3QgfHwgc3ViamVjdC5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YmplY3QgPSB0aGlzLnN1YmplY3RGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YmplY3Q7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLl90ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgICAgICB2YXIgX2Nvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIF9jb25uZWN0aW9uID09PSBudWxsIHx8IF9jb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc3ViamVjdF8xID0gdGhpcy5nZXRTdWJqZWN0KCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZCh0aGlzLnNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YmplY3RfMSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RlYXJkb3duKCk7XG4gICAgICAgICAgICAgICAgc3ViamVjdF8xLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RlYXJkb3duKCk7XG4gICAgICAgICAgICAgICAgc3ViamVjdF8xLmVycm9yKGVycik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fdGVhcmRvd24oKTsgfSkpKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLnJlZkNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVmQ291bnRfMS5yZWZDb3VudCgpKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUpKTtcbmV4cG9ydHMuQ29ubmVjdGFibGVPYnNlcnZhYmxlID0gQ29ubmVjdGFibGVPYnNlcnZhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGFibGVPYnNlcnZhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0SW5pdCA9IGV4cG9ydHMuY29tYmluZUxhdGVzdCA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBhcmdzQXJnQXJyYXlPck9iamVjdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3RcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4vZnJvbVwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG52YXIgbWFwT25lT3JNYW55QXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvbWFwT25lT3JNYW55QXJnc1wiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGNyZWF0ZU9iamVjdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvY3JlYXRlT2JqZWN0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc18xLnBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgdmFyIF9hID0gYXJnc0FyZ0FycmF5T3JPYmplY3RfMS5hcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKSwgb2JzZXJ2YWJsZXMgPSBfYS5hcmdzLCBrZXlzID0gX2Eua2V5cztcbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmcm9tXzEuZnJvbShbXSwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShjb21iaW5lTGF0ZXN0SW5pdChvYnNlcnZhYmxlcywgc2NoZWR1bGVyLCBrZXlzXG4gICAgICAgID9cbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZXMpIHsgcmV0dXJuIGNyZWF0ZU9iamVjdF8xLmNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpOyB9XG4gICAgICAgIDpcbiAgICAgICAgICAgIGlkZW50aXR5XzEuaWRlbnRpdHkpKTtcbiAgICByZXR1cm4gcmVzdWx0U2VsZWN0b3IgPyByZXN1bHQucGlwZShtYXBPbmVPck1hbnlBcmdzXzEubWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpIDogcmVzdWx0O1xufVxuZXhwb3J0cy5jb21iaW5lTGF0ZXN0ID0gY29tYmluZUxhdGVzdDtcbmZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RJbml0KG9ic2VydmFibGVzLCBzY2hlZHVsZXIsIHZhbHVlVHJhbnNmb3JtKSB7XG4gICAgaWYgKHZhbHVlVHJhbnNmb3JtID09PSB2b2lkIDApIHsgdmFsdWVUcmFuc2Zvcm0gPSBpZGVudGl0eV8xLmlkZW50aXR5OyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmdGaXJzdFZhbHVlcyA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbV8xLmZyb20ob2JzZXJ2YWJsZXNbaV0sIHNjaGVkdWxlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNGaXJzdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0ZpcnN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNGaXJzdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdGaXJzdFZhbHVlcy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdGaXJzdFZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZVRyYW5zZm9ybSh2YWx1ZXMuc2xpY2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSwgc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN1YnNjcmliZXIpO1xuICAgIH07XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RJbml0ID0gY29tYmluZUxhdGVzdEluaXQ7XG5mdW5jdGlvbiBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZXhlY3V0ZSwgc3Vic2NyaXB0aW9uKSB7XG4gICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaXB0aW9uLCBzY2hlZHVsZXIsIGV4ZWN1dGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXhlY3V0ZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVMYXRlc3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdCA9IHZvaWQgMDtcbnZhciBjb25jYXRBbGxfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvY29uY2F0QWxsXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4vZnJvbVwiKTtcbmZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdEFsbF8xLmNvbmNhdEFsbCgpKGZyb21fMS5mcm9tKGFyZ3MsIGFyZ3NfMS5wb3BTY2hlZHVsZXIoYXJncykpKTtcbn1cbmV4cG9ydHMuY29uY2F0ID0gY29uY2F0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbXB0eSA9IGV4cG9ydHMuRU1QVFkgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG5leHBvcnRzLkVNUFRZID0gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBleHBvcnRzLkVNUFRZO1xufVxuZXhwb3J0cy5lbXB0eSA9IGVtcHR5O1xuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb20gPSB2b2lkIDA7XG52YXIgc2NoZWR1bGVkXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVkL3NjaGVkdWxlZFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuL2lubmVyRnJvbVwiKTtcbmZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBzY2hlZHVsZWRfMS5zY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikgOiBpbm5lckZyb21fMS5pbm5lckZyb20oaW5wdXQpO1xufVxuZXhwb3J0cy5mcm9tID0gZnJvbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb21TdWJzY3JpYmFibGUgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG5mdW5jdGlvbiBmcm9tU3Vic2NyaWJhYmxlKHN1YnNjcmliYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliYWJsZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0cy5mcm9tU3Vic2NyaWJhYmxlID0gZnJvbVN1YnNjcmliYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21TdWJzY3JpYmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZnJvbVJlYWRhYmxlU3RyZWFtTGlrZSA9IGV4cG9ydHMuZnJvbUFzeW5jSXRlcmFibGUgPSBleHBvcnRzLmZyb21JdGVyYWJsZSA9IGV4cG9ydHMuZnJvbVByb21pc2UgPSBleHBvcnRzLmZyb21BcnJheUxpa2UgPSBleHBvcnRzLmZyb21JbnRlcm9wT2JzZXJ2YWJsZSA9IGV4cG9ydHMuaW5uZXJGcm9tID0gdm9pZCAwO1xudmFyIGlzQXJyYXlMaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0FycmF5TGlrZVwiKTtcbnZhciBpc1Byb21pc2VfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzUHJvbWlzZVwiKTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBpc0ludGVyb3BPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlXCIpO1xudmFyIGlzQXN5bmNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlXCIpO1xudmFyIHRocm93VW5vYnNlcnZhYmxlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3JcIik7XG52YXIgaXNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNJdGVyYWJsZVwiKTtcbnZhciBpc1JlYWRhYmxlU3RyZWFtTGlrZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2VcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciByZXBvcnRVbmhhbmRsZWRFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3JcIik7XG52YXIgb2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9vYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZV8xLmlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2VfMS5pc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlXzEuaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlXzEuaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZV8xLmlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2VfMS5pc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyB0aHJvd1Vub2JzZXJ2YWJsZUVycm9yXzEuY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0cy5pbm5lckZyb20gPSBpbm5lckZyb207XG5mdW5jdGlvbiBmcm9tSW50ZXJvcE9ic2VydmFibGUob2JqKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW29ic2VydmFibGVfMS5vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnRzLmZyb21JbnRlcm9wT2JzZXJ2YWJsZSA9IGZyb21JbnRlcm9wT2JzZXJ2YWJsZTtcbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UoYXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZnJvbUFycmF5TGlrZSA9IGZyb21BcnJheUxpa2U7XG5mdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3JfMS5yZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gICAgfSk7XG59XG5leHBvcnRzLmZyb21Qcm9taXNlID0gZnJvbVByb21pc2U7XG5mdW5jdGlvbiBmcm9tSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlcmFibGVfMSA9IF9fdmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCk7ICFpdGVyYWJsZV8xXzEuZG9uZTsgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhYmxlXzFfMSAmJiAhaXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gaXRlcmFibGVfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZXJhYmxlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZnJvbUl0ZXJhYmxlID0gZnJvbUl0ZXJhYmxlO1xuZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5mcm9tQXN5bmNJdGVyYWJsZSA9IGZyb21Bc3luY0l0ZXJhYmxlO1xuZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpc1JlYWRhYmxlU3RyZWFtTGlrZV8xLnJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cbmV4cG9ydHMuZnJvbVJlYWRhYmxlU3RyZWFtTGlrZSA9IGZyb21SZWFkYWJsZVN0cmVhbUxpa2U7XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW50ZXJ2YWwgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgdGltZXJfMSA9IHJlcXVpcmUoXCIuL3RpbWVyXCIpO1xuZnVuY3Rpb24gaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHsgcGVyaW9kID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgaWYgKHBlcmlvZCA8IDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVyXzEudGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XG59XG5leHBvcnRzLmludGVydmFsID0gaW50ZXJ2YWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub2YgPSB2b2lkIDA7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBmcm9tXzEgPSByZXF1aXJlKFwiLi9mcm9tXCIpO1xuZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzXzEucG9wU2NoZWR1bGVyKGFyZ3MpO1xuICAgIHJldHVybiBmcm9tXzEuZnJvbShhcmdzLCBzY2hlZHVsZXIpO1xufVxuZXhwb3J0cy5vZiA9IG9mO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhY2VJbml0ID0gZXhwb3J0cy5yYWNlID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4vaW5uZXJGcm9tXCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gcmFjZSgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgc291cmNlcyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoc291cmNlcyk7XG4gICAgcmV0dXJuIHNvdXJjZXMubGVuZ3RoID09PSAxID8gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHNvdXJjZXNbMF0pIDogbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKHJhY2VJbml0KHNvdXJjZXMpKTtcbn1cbmV4cG9ydHMucmFjZSA9IHJhY2U7XG5mdW5jdGlvbiByYWNlSW5pdChzb3VyY2VzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChpbm5lckZyb21fMS5pbm5lckZyb20oc291cmNlc1tpXSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN1YnNjcmlwdGlvbnMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgIT09IGkgJiYgc3Vic2NyaXB0aW9uc1tzXS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IHN1YnNjcmlwdGlvbnMgJiYgIXN1YnNjcmliZXIuY2xvc2VkICYmIGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydHMucmFjZUluaXQgPSByYWNlSW5pdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRocm93RXJyb3IgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3JPckVycm9yRmFjdG9yeSwgc2NoZWR1bGVyKSB7XG4gICAgdmFyIGVycm9yRmFjdG9yeSA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGVycm9yT3JFcnJvckZhY3RvcnkpID8gZXJyb3JPckVycm9yRmFjdG9yeSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yT3JFcnJvckZhY3Rvcnk7IH07XG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnJvckZhY3RvcnkoKSk7IH07XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShzY2hlZHVsZXIgPyBmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGluaXQsIDAsIHN1YnNjcmliZXIpOyB9IDogaW5pdCk7XG59XG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZXIgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgaXNTY2hlZHVsZXJfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzU2NoZWR1bGVyXCIpO1xudmFyIGlzRGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNEYXRlXCIpO1xuZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgaW50ZXJ2YWxPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkgeyBkdWVUaW1lID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jOyB9XG4gICAgdmFyIGludGVydmFsRHVyYXRpb24gPSAtMTtcbiAgICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcl8xLmlzU2NoZWR1bGVyKGludGVydmFsT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJ2YWxEdXJhdGlvbiA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNEYXRlXzEuaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlci5ub3coKSA6IGR1ZVRpbWU7XG4gICAgICAgIGlmIChkdWUgPCAwKSB7XG4gICAgICAgICAgICBkdWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gaW50ZXJ2YWxEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkdWUpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aW1lciA9IHRpbWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56aXAgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi9pbm5lckZyb21cIik7XG52YXIgYXJnc09yQXJnQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NPckFyZ0FycmF5XCIpO1xudmFyIGVtcHR5XzEgPSByZXF1aXJlKFwiLi9lbXB0eVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG5mdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IGFyZ3NfMS5wb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICB2YXIgc291cmNlcyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoYXJncyk7XG4gICAgcmV0dXJuIHNvdXJjZXMubGVuZ3RoXG4gICAgICAgID8gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVycyA9IHNvdXJjZXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9KTtcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBzb3VyY2VzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycyA9IGNvbXBsZXRlZCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHNvdXJjZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJzW3NvdXJjZUluZGV4XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnMuZXZlcnkoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gYnVmZmVyLmxlbmd0aDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBidWZmZXJzLm1hcChmdW5jdGlvbiAoYnVmZmVyKSB7IHJldHVybiBidWZmZXIuc2hpZnQoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChyZXN1bHQpKSkgOiByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnMuc29tZShmdW5jdGlvbiAoYnVmZmVyLCBpKSB7IHJldHVybiAhYnVmZmVyLmxlbmd0aCAmJiBjb21wbGV0ZWRbaV07IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRbc291cmNlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgIWJ1ZmZlcnNbc291cmNlSW5kZXhdLmxlbmd0aCAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIHNvdXJjZUluZGV4ID0gMDsgIXN1YnNjcmliZXIuY2xvc2VkICYmIHNvdXJjZUluZGV4IDwgc291cmNlcy5sZW5ndGg7IHNvdXJjZUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKHNvdXJjZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycyA9IGNvbXBsZXRlZCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICA6IGVtcHR5XzEuRU1QVFk7XG59XG5leHBvcnRzLnppcCA9IHppcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9wZXJhdG9yU3Vic2NyaWJlciA9IGV4cG9ydHMuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyID0gdm9pZCAwO1xudmFyIFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbmV4cG9ydHMuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSwgc2hvdWxkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xuICAgICAgICBfdGhpcy5zaG91bGRVbnN1YnNjcmliZSA9IHNob3VsZFVuc3Vic2NyaWJlO1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9uZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9wZXJhdG9yU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgICAgICAgdmFyIGNsb3NlZF8xID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAhY2xvc2VkXzEgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5PcGVyYXRvclN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmF1ZGl0ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBhdWRpdChkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVuZER1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID09PSBudWxsIHx8IGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjbGVhbnVwRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoIWR1cmF0aW9uU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKChkdXJhdGlvblN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW5kRHVyYXRpb24sIGNsZWFudXBEdXJhdGlvbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAoIWhhc1ZhbHVlIHx8ICFkdXJhdGlvblN1YnNjcmliZXIgfHwgZHVyYXRpb25TdWJzY3JpYmVyLmNsb3NlZCkgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmF1ZGl0ID0gYXVkaXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXVkaXRUaW1lID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGF1ZGl0XzEgPSByZXF1aXJlKFwiLi9hdWRpdFwiKTtcbnZhciB0aW1lcl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvdGltZXJcIik7XG5mdW5jdGlvbiBhdWRpdFRpbWUoZHVyYXRpb24sIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgcmV0dXJuIGF1ZGl0XzEuYXVkaXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGltZXJfMS50aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTsgfSk7XG59XG5leHBvcnRzLmF1ZGl0VGltZSA9IGF1ZGl0VGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGl0VGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGJ1ZmZlcihjbG9zaW5nTm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgY3VycmVudEJ1ZmZlciA9IFtdO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGN1cnJlbnRCdWZmZXIucHVzaCh2YWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChjdXJyZW50QnVmZmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjbG9zaW5nTm90aWZpZXIuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYiA9IGN1cnJlbnRCdWZmZXI7XG4gICAgICAgICAgICBjdXJyZW50QnVmZmVyID0gW107XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYik7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdXJyZW50QnVmZmVyID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuYnVmZmVyID0gYnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5idWZmZXJDb3VudCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGFyclJlbW92ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJyUmVtb3ZlXCIpO1xuZnVuY3Rpb24gYnVmZmVyQ291bnQoYnVmZmVyU2l6ZSwgc3RhcnRCdWZmZXJFdmVyeSkge1xuICAgIGlmIChzdGFydEJ1ZmZlckV2ZXJ5ID09PSB2b2lkIDApIHsgc3RhcnRCdWZmZXJFdmVyeSA9IG51bGw7IH1cbiAgICBzdGFydEJ1ZmZlckV2ZXJ5ID0gc3RhcnRCdWZmZXJFdmVyeSAhPT0gbnVsbCAmJiBzdGFydEJ1ZmZlckV2ZXJ5ICE9PSB2b2lkIDAgPyBzdGFydEJ1ZmZlckV2ZXJ5IDogYnVmZmVyU2l6ZTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICAgICAgdmFyIHRvRW1pdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY291bnQrKyAlIHN0YXJ0QnVmZmVyRXZlcnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2goW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBidWZmZXJzXzEgPSBfX3ZhbHVlcyhidWZmZXJzKSwgYnVmZmVyc18xXzEgPSBidWZmZXJzXzEubmV4dCgpOyAhYnVmZmVyc18xXzEuZG9uZTsgYnVmZmVyc18xXzEgPSBidWZmZXJzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyU2l6ZSA8PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b0VtaXQgPSB0b0VtaXQgIT09IG51bGwgJiYgdG9FbWl0ICE9PSB2b2lkIDAgPyB0b0VtaXQgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvRW1pdC5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnNfMV8xICYmICFidWZmZXJzXzFfMS5kb25lICYmIChfYSA9IGJ1ZmZlcnNfMS5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b0VtaXQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0b0VtaXRfMSA9IF9fdmFsdWVzKHRvRW1pdCksIHRvRW1pdF8xXzEgPSB0b0VtaXRfMS5uZXh0KCk7ICF0b0VtaXRfMV8xLmRvbmU7IHRvRW1pdF8xXzEgPSB0b0VtaXRfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSB0b0VtaXRfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKGJ1ZmZlcnMsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvRW1pdF8xXzEgJiYgIXRvRW1pdF8xXzEuZG9uZSAmJiAoX2IgPSB0b0VtaXRfMS5yZXR1cm4pKSBfYi5jYWxsKHRvRW1pdF8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyc18yID0gX192YWx1ZXMoYnVmZmVycyksIGJ1ZmZlcnNfMl8xID0gYnVmZmVyc18yLm5leHQoKTsgIWJ1ZmZlcnNfMl8xLmRvbmU7IGJ1ZmZlcnNfMl8xID0gYnVmZmVyc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc18yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyc18yXzEgJiYgIWJ1ZmZlcnNfMl8xLmRvbmUgJiYgKF9hID0gYnVmZmVyc18yLnJldHVybikpIF9hLmNhbGwoYnVmZmVyc18yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlckNvdW50ID0gYnVmZmVyQ291bnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJDb3VudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyVGltZSA9IHZvaWQgMDtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gYnVmZmVyVGltZShidWZmZXJUaW1lU3Bhbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIG90aGVyQXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyQXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IChfYSA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIob3RoZXJBcmdzKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYXN5bmNfMS5hc3luY1NjaGVkdWxlcjtcbiAgICB2YXIgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9IChfYiA9IG90aGVyQXJnc1swXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB2YXIgbWF4QnVmZmVyU2l6ZSA9IG90aGVyQXJnc1sxXSB8fCBJbmZpbml0eTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYnVmZmVyUmVjb3JkcyA9IFtdO1xuICAgICAgICB2YXIgcmVzdGFydE9uRW1pdCA9IGZhbHNlO1xuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSByZWNvcmQuYnVmZmVyLCBzdWJzID0gcmVjb3JkLnN1YnM7XG4gICAgICAgICAgICBzdWJzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBhcnJSZW1vdmVfMS5hcnJSZW1vdmUoYnVmZmVyUmVjb3JkcywgcmVjb3JkKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgcmVzdGFydE9uRW1pdCAmJiBzdGFydEJ1ZmZlcigpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RhcnRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYnVmZmVyUmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnMpO1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkXzEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICBzdWJzOiBzdWJzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnVmZmVyUmVjb3Jkcy5wdXNoKHJlY29yZF8xKTtcbiAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vicywgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBlbWl0KHJlY29yZF8xKTsgfSwgYnVmZmVyVGltZVNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCAhPT0gbnVsbCAmJiBidWZmZXJDcmVhdGlvbkludGVydmFsID49IDApIHtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIHN0YXJ0QnVmZmVyLCBidWZmZXJDcmVhdGlvbkludGVydmFsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3RhcnRPbkVtaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0QnVmZmVyKCk7XG4gICAgICAgIHZhciBidWZmZXJUaW1lU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgdmFyIHJlY29yZHNDb3B5ID0gYnVmZmVyUmVjb3Jkcy5zbGljZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByZWNvcmRzQ29weV8xID0gX192YWx1ZXMocmVjb3Jkc0NvcHkpLCByZWNvcmRzQ29weV8xXzEgPSByZWNvcmRzQ29weV8xLm5leHQoKTsgIXJlY29yZHNDb3B5XzFfMS5kb25lOyByZWNvcmRzQ29weV8xXzEgPSByZWNvcmRzQ29weV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gcmVjb3Jkc0NvcHlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gcmVjb3JkLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBtYXhCdWZmZXJTaXplIDw9IGJ1ZmZlci5sZW5ndGggJiYgZW1pdChyZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3Jkc0NvcHlfMV8xICYmICFyZWNvcmRzQ29weV8xXzEuZG9uZSAmJiAoX2EgPSByZWNvcmRzQ29weV8xLnJldHVybikpIF9hLmNhbGwocmVjb3Jkc0NvcHlfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlclJlY29yZHMgPT09IG51bGwgfHwgYnVmZmVyUmVjb3JkcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyUmVjb3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyUmVjb3Jkcy5zaGlmdCgpLmJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJUaW1lU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBidWZmZXJUaW1lU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyVGltZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IHJldHVybiAoYnVmZmVyUmVjb3JkcyA9IG51bGwpOyB9KTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShidWZmZXJUaW1lU3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlclRpbWUgPSBidWZmZXJUaW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyVG9nZ2xlID0gdm9pZCAwO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmlwdGlvblwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG5mdW5jdGlvbiBidWZmZXJUb2dnbGUob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShvcGVuaW5ncykuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAob3BlblZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gW107XG4gICAgICAgICAgICBidWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIGVtaXRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKGJ1ZmZlcnMsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGlubmVyRnJvbV8xLmlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3Iob3BlblZhbHVlKSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0QnVmZmVyLCBub29wXzEubm9vcCkpKTtcbiAgICAgICAgfSwgbm9vcF8xLm5vb3ApKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyc18xID0gX192YWx1ZXMoYnVmZmVycyksIGJ1ZmZlcnNfMV8xID0gYnVmZmVyc18xLm5leHQoKTsgIWJ1ZmZlcnNfMV8xLmRvbmU7IGJ1ZmZlcnNfMV8xID0gYnVmZmVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnNfMV8xICYmICFidWZmZXJzXzFfMS5kb25lICYmIChfYSA9IGJ1ZmZlcnNfMS5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXJzLnNoaWZ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlclRvZ2dsZSA9IGJ1ZmZlclRvZ2dsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlclRvZ2dsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyV2hlbiA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiBidWZmZXJXaGVuKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSBudWxsO1xuICAgICAgICB2YXIgY2xvc2luZ1N1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB2YXIgb3BlbkJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpYmVyID09PSBudWxsIHx8IGNsb3NpbmdTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbG9zaW5nU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdmFyIGIgPSBidWZmZXI7XG4gICAgICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgIGIgJiYgc3Vic2NyaWJlci5uZXh0KGIpO1xuICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGNsb3NpbmdTZWxlY3RvcigpKS5zdWJzY3JpYmUoKGNsb3NpbmdTdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG9wZW5CdWZmZXIsIG5vb3BfMS5ub29wKSkpO1xuICAgICAgICB9O1xuICAgICAgICBvcGVuQnVmZmVyKCk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gYnVmZmVyID09PSBudWxsIHx8IGJ1ZmZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyLnB1c2godmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBidWZmZXIgJiYgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKGJ1ZmZlciA9IGNsb3NpbmdTdWJzY3JpYmVyID0gbnVsbCk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuYnVmZmVyV2hlbiA9IGJ1ZmZlcldoZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJXaGVuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jYXRjaEVycm9yID0gdm9pZCAwO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBjYXRjaEVycm9yKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgdmFyIHN5bmNVbnN1YiA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFuZGxlZFJlc3VsdDtcbiAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaGFuZGxlZFJlc3VsdCA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShzZWxlY3RvcihlcnIsIGNhdGNoRXJyb3Ioc2VsZWN0b3IpKHNvdXJjZSkpKTtcbiAgICAgICAgICAgIGlmIChpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGhhbmRsZWRSZXN1bHQuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3luY1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgaGFuZGxlZFJlc3VsdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMuY2F0Y2hFcnJvciA9IGNhdGNoRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaEVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lQWxsID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RBbGxfMSA9IHJlcXVpcmUoXCIuL2NvbWJpbmVMYXRlc3RBbGxcIik7XG5leHBvcnRzLmNvbWJpbmVBbGwgPSBjb21iaW5lTGF0ZXN0QWxsXzEuY29tYmluZUxhdGVzdEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0ID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3RcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBhcmdzT3JBcmdBcnJheV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc09yQXJnQXJyYXlcIik7XG52YXIgbWFwT25lT3JNYW55QXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvbWFwT25lT3JNYW55QXJnc1wiKTtcbnZhciBwaXBlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9waXBlXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yXG4gICAgICAgID8gcGlwZV8xLnBpcGUoY29tYmluZUxhdGVzdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpLCBtYXBPbmVPck1hbnlBcmdzXzEubWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpXG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgY29tYmluZUxhdGVzdF8xLmNvbWJpbmVMYXRlc3RJbml0KF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KGFyZ3MpKSkpKHN1YnNjcmliZXIpO1xuICAgICAgICB9KTtcbn1cbmV4cG9ydHMuY29tYmluZUxhdGVzdCA9IGNvbWJpbmVMYXRlc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0QWxsID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3RcIik7XG52YXIgam9pbkFsbEludGVybmFsc18xID0gcmVxdWlyZShcIi4vam9pbkFsbEludGVybmFsc1wiKTtcbmZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RBbGwocHJvamVjdCkge1xuICAgIHJldHVybiBqb2luQWxsSW50ZXJuYWxzXzEuam9pbkFsbEludGVybmFscyhjb21iaW5lTGF0ZXN0XzEuY29tYmluZUxhdGVzdCwgcHJvamVjdCk7XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RBbGwgPSBjb21iaW5lTGF0ZXN0QWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RXaXRoID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RfMSA9IHJlcXVpcmUoXCIuL2NvbWJpbmVMYXRlc3RcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0V2l0aCgpIHtcbiAgICB2YXIgb3RoZXJTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjb21iaW5lTGF0ZXN0XzEuY29tYmluZUxhdGVzdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChvdGhlclNvdXJjZXMpKSk7XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RXaXRoID0gY29tYmluZUxhdGVzdFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0V2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGNvbmNhdEFsbF8xID0gcmVxdWlyZShcIi4vY29uY2F0QWxsXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvZnJvbVwiKTtcbmZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIoYXJncyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgY29uY2F0QWxsXzEuY29uY2F0QWxsKCkoZnJvbV8xLmZyb20oX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKGFyZ3MpKSwgc2NoZWR1bGVyKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jb25jYXQgPSBjb25jYXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdEFsbCA9IHZvaWQgMDtcbnZhciBtZXJnZUFsbF8xID0gcmVxdWlyZShcIi4vbWVyZ2VBbGxcIik7XG5mdW5jdGlvbiBjb25jYXRBbGwoKSB7XG4gICAgcmV0dXJuIG1lcmdlQWxsXzEubWVyZ2VBbGwoMSk7XG59XG5leHBvcnRzLmNvbmNhdEFsbCA9IGNvbmNhdEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29uY2F0TWFwID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gY29uY2F0TWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IG1lcmdlTWFwXzEubWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIDEpIDogbWVyZ2VNYXBfMS5tZXJnZU1hcChwcm9qZWN0LCAxKTtcbn1cbmV4cG9ydHMuY29uY2F0TWFwID0gY29uY2F0TWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0TWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25jYXRNYXBUbyA9IHZvaWQgMDtcbnZhciBjb25jYXRNYXBfMSA9IHJlcXVpcmUoXCIuL2NvbmNhdE1hcFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gY29uY2F0TWFwVG8oaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikgPyBjb25jYXRNYXBfMS5jb25jYXRNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9LCByZXN1bHRTZWxlY3RvcikgOiBjb25jYXRNYXBfMS5jb25jYXRNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9KTtcbn1cbmV4cG9ydHMuY29uY2F0TWFwVG8gPSBjb25jYXRNYXBUbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdE1hcFRvLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29uY2F0V2l0aCA9IHZvaWQgMDtcbnZhciBjb25jYXRfMSA9IHJlcXVpcmUoXCIuL2NvbmNhdFwiKTtcbmZ1bmN0aW9uIGNvbmNhdFdpdGgoKSB7XG4gICAgdmFyIG90aGVyU291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyU291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29uY2F0XzEuY29uY2F0LmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKG90aGVyU291cmNlcykpKTtcbn1cbmV4cG9ydHMuY29uY2F0V2l0aCA9IGNvbmNhdFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25uZWN0ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2Zyb21cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBmcm9tU3Vic2NyaWJhYmxlXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9mcm9tU3Vic2NyaWJhYmxlXCIpO1xudmFyIERFRkFVTFRfQ09ORklHID0ge1xuICAgIGNvbm5lY3RvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7IH0sXG59O1xuZnVuY3Rpb24gY29ubmVjdChzZWxlY3RvciwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfQ09ORklHOyB9XG4gICAgdmFyIGNvbm5lY3RvciA9IGNvbmZpZy5jb25uZWN0b3I7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBjb25uZWN0b3IoKTtcbiAgICAgICAgZnJvbV8xLmZyb20oc2VsZWN0b3IoZnJvbVN1YnNjcmliYWJsZV8xLmZyb21TdWJzY3JpYmFibGUoc3ViamVjdCkpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNvdXJjZS5zdWJzY3JpYmUoc3ViamVjdCkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jb25uZWN0ID0gY29ubmVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvdW50ID0gdm9pZCAwO1xudmFyIHJlZHVjZV8xID0gcmVxdWlyZShcIi4vcmVkdWNlXCIpO1xuZnVuY3Rpb24gY291bnQocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIHJlZHVjZV8xLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIHZhbHVlLCBpKSB7IHJldHVybiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGkpID8gdG90YWwgKyAxIDogdG90YWwpOyB9LCAwKTtcbn1cbmV4cG9ydHMuY291bnQgPSBjb3VudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWJvdW5jZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiBkZWJvdW5jZShkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPT09IG51bGwgfHwgZHVyYXRpb25TdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkdXJhdGlvblN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID09PSBudWxsIHx8IGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0LCBub29wXzEubm9vcCk7XG4gICAgICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20oZHVyYXRpb25TZWxlY3Rvcih2YWx1ZSkpLnN1YnNjcmliZShkdXJhdGlvblN1YnNjcmliZXIpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbWl0KCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWJvdW5jZSA9IGRlYm91bmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlYm91bmNlVGltZSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZGVib3VuY2VUaW1lKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RUaW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBlbWl0V2hlbklkbGUoKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VGltZSA9IGxhc3RUaW1lICsgZHVlVGltZTtcbiAgICAgICAgICAgIHZhciBub3cgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICBpZiAobm93IDwgdGFyZ2V0VGltZSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgdGFyZ2V0VGltZSAtIG5vdyk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBsYXN0VGltZSA9IHNjaGVkdWxlci5ub3coKTtcbiAgICAgICAgICAgIGlmICghYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSBzY2hlZHVsZXIuc2NoZWR1bGUoZW1pdFdoZW5JZGxlLCBkdWVUaW1lKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChhY3RpdmVUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRlYm91bmNlVGltZSA9IGRlYm91bmNlVGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdElmRW1wdHkgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0SWZFbXB0eSA9IGRlZmF1bHRJZkVtcHR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdElmRW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlbGF5ID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGRlbGF5V2hlbl8xID0gcmVxdWlyZShcIi4vZGVsYXlXaGVuXCIpO1xudmFyIHRpbWVyXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS90aW1lclwiKTtcbmZ1bmN0aW9uIGRlbGF5KGR1ZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICB2YXIgZHVyYXRpb24gPSB0aW1lcl8xLnRpbWVyKGR1ZSwgc2NoZWR1bGVyKTtcbiAgICByZXR1cm4gZGVsYXlXaGVuXzEuZGVsYXlXaGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uOyB9KTtcbn1cbmV4cG9ydHMuZGVsYXkgPSBkZWxheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWxheVdoZW4gPSB2b2lkIDA7XG52YXIgY29uY2F0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9jb25jYXRcIik7XG52YXIgdGFrZV8xID0gcmVxdWlyZShcIi4vdGFrZVwiKTtcbnZhciBpZ25vcmVFbGVtZW50c18xID0gcmVxdWlyZShcIi4vaWdub3JlRWxlbWVudHNcIik7XG52YXIgbWFwVG9fMSA9IHJlcXVpcmUoXCIuL21hcFRvXCIpO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbmZ1bmN0aW9uIGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IsIHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uY2F0XzEuY29uY2F0KHN1YnNjcmlwdGlvbkRlbGF5LnBpcGUodGFrZV8xLnRha2UoMSksIGlnbm9yZUVsZW1lbnRzXzEuaWdub3JlRWxlbWVudHMoKSksIHNvdXJjZS5waXBlKGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IpKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuIGRlbGF5RHVyYXRpb25TZWxlY3Rvcih2YWx1ZSwgaW5kZXgpLnBpcGUodGFrZV8xLnRha2UoMSksIG1hcFRvXzEubWFwVG8odmFsdWUpKTsgfSk7XG59XG5leHBvcnRzLmRlbGF5V2hlbiA9IGRlbGF5V2hlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5V2hlbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVtYXRlcmlhbGl6ZSA9IHZvaWQgMDtcbnZhciBOb3RpZmljYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9Ob3RpZmljYXRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRlbWF0ZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikgeyByZXR1cm4gTm90aWZpY2F0aW9uXzEub2JzZXJ2ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpOyB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRlbWF0ZXJpYWxpemUgPSBkZW1hdGVyaWFsaXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVtYXRlcmlhbGl6ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlzdGluY3QgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gZGlzdGluY3Qoa2V5U2VsZWN0b3IsIGZsdXNoZXMpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZGlzdGluY3RLZXlzID0gbmV3IFNldCgpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlTZWxlY3RvciA/IGtleVNlbGVjdG9yKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCFkaXN0aW5jdEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBkaXN0aW5jdEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBmbHVzaGVzID09PSBudWxsIHx8IGZsdXNoZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZsdXNoZXMuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXN0aW5jdEtleXMuY2xlYXIoKTsgfSwgbm9vcF8xLm5vb3ApKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGlzdGluY3QgPSBkaXN0aW5jdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kaXN0aW5jdFVudGlsQ2hhbmdlZCA9IHZvaWQgMDtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRpc3RpbmN0VW50aWxDaGFuZ2VkKGNvbXBhcmF0b3IsIGtleVNlbGVjdG9yKSB7XG4gICAgaWYgKGtleVNlbGVjdG9yID09PSB2b2lkIDApIHsga2V5U2VsZWN0b3IgPSBpZGVudGl0eV8xLmlkZW50aXR5OyB9XG4gICAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IgIT09IG51bGwgJiYgY29tcGFyYXRvciAhPT0gdm9pZCAwID8gY29tcGFyYXRvciA6IGRlZmF1bHRDb21wYXJlO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0tleTtcbiAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChmaXJzdCB8fCAhY29tcGFyYXRvcihwcmV2aW91c0tleSwgY3VycmVudEtleSkpIHtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzS2V5ID0gY3VycmVudEtleTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRpc3RpbmN0VW50aWxDaGFuZ2VkID0gZGlzdGluY3RVbnRpbENoYW5nZWQ7XG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXN0aW5jdFVudGlsQ2hhbmdlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgPSB2b2lkIDA7XG52YXIgZGlzdGluY3RVbnRpbENoYW5nZWRfMSA9IHJlcXVpcmUoXCIuL2Rpc3RpbmN0VW50aWxDaGFuZ2VkXCIpO1xuZnVuY3Rpb24gZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoa2V5LCBjb21wYXJlKSB7XG4gICAgcmV0dXJuIGRpc3RpbmN0VW50aWxDaGFuZ2VkXzEuZGlzdGluY3RVbnRpbENoYW5nZWQoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIGNvbXBhcmUgPyBjb21wYXJlKHhba2V5XSwgeVtrZXldKSA6IHhba2V5XSA9PT0geVtrZXldOyB9KTtcbn1cbmV4cG9ydHMuZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgPSBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbGVtZW50QXQgPSB2b2lkIDA7XG52YXIgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yXCIpO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xudmFyIHRocm93SWZFbXB0eV8xID0gcmVxdWlyZShcIi4vdGhyb3dJZkVtcHR5XCIpO1xudmFyIGRlZmF1bHRJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0SWZFbXB0eVwiKTtcbnZhciB0YWtlXzEgPSByZXF1aXJlKFwiLi90YWtlXCIpO1xuZnVuY3Rpb24gZWxlbWVudEF0KGluZGV4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcl8xLkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7XG4gICAgfVxuICAgIHZhciBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKGZpbHRlcl8xLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSA9PT0gaW5kZXg7IH0pLCB0YWtlXzEudGFrZSgxKSwgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHlfMS5kZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIDogdGhyb3dJZkVtcHR5XzEudGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcl8xLkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7IH0pKTtcbiAgICB9O1xufVxuZXhwb3J0cy5lbGVtZW50QXQgPSBlbGVtZW50QXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50QXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbmRXaXRoID0gdm9pZCAwO1xudmFyIGNvbmNhdF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvY29uY2F0XCIpO1xudmFyIG9mXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9vZlwiKTtcbmZ1bmN0aW9uIGVuZFdpdGgoKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhbHVlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0XzEuY29uY2F0KHNvdXJjZSwgb2ZfMS5vZi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZCh2YWx1ZXMpKSkpOyB9O1xufVxuZXhwb3J0cy5lbmRXaXRoID0gZW5kV2l0aDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZFdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV2ZXJ5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBldmVyeShwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyssIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRydWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmV2ZXJ5ID0gZXZlcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVyeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhoYXVzdCA9IHZvaWQgMDtcbnZhciBleGhhdXN0QWxsXzEgPSByZXF1aXJlKFwiLi9leGhhdXN0QWxsXCIpO1xuZXhwb3J0cy5leGhhdXN0ID0gZXhoYXVzdEFsbF8xLmV4aGF1c3RBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGhhdXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leGhhdXN0QWxsID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBleGhhdXN0QWxsKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lcikge1xuICAgICAgICAgICAgaWYgKCFpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlubmVyKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAhaW5uZXJTdWIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmV4aGF1c3RBbGwgPSBleGhhdXN0QWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhoYXVzdEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhoYXVzdE1hcCA9IHZvaWQgMDtcbnZhciBtYXBfMSA9IHJlcXVpcmUoXCIuL21hcFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZXhoYXVzdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKGV4aGF1c3RNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGlubmVyRnJvbV8xLmlubmVyRnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcF8xLm1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9KSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChvdXRlclZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHByb2plY3Qob3V0ZXJWYWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShpbm5lclN1Yik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgIWlubmVyU3ViICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5leGhhdXN0TWFwID0gZXhoYXVzdE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4aGF1c3RNYXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4cGFuZCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG1lcmdlSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9tZXJnZUludGVybmFsc1wiKTtcbmZ1bmN0aW9uIGV4cGFuZChwcm9qZWN0LCBjb25jdXJyZW50LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIGNvbmN1cnJlbnQgPSAoY29uY3VycmVudCB8fCAwKSA8IDEgPyBJbmZpbml0eSA6IGNvbmN1cnJlbnQ7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlSW50ZXJuYWxzXzEubWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCB1bmRlZmluZWQsIHRydWUsIHNjaGVkdWxlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLmV4cGFuZCA9IGV4cGFuZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGFuZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmlsdGVyID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5maWx0ZXIgPSBmaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZpbmFsaXplID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBmaW5hbGl6ZShjYWxsYmFjaykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmZpbmFsaXplID0gZmluYWxpemU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5hbGl6ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlRmluZCA9IGV4cG9ydHMuZmluZCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZmluZChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsICd2YWx1ZScpKTtcbn1cbmV4cG9ydHMuZmluZCA9IGZpbmQ7XG5mdW5jdGlvbiBjcmVhdGVGaW5kKHByZWRpY2F0ZSwgdGhpc0FyZywgZW1pdCkge1xuICAgIHZhciBmaW5kSW5kZXggPSBlbWl0ID09PSAnaW5kZXgnO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGkgPSBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGZpbmRJbmRleCA/IGkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmluZEluZGV4ID8gLTEgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlRmluZCA9IGNyZWF0ZUZpbmQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5kLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5maW5kSW5kZXggPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBmaW5kXzEgPSByZXF1aXJlKFwiLi9maW5kXCIpO1xuZnVuY3Rpb24gZmluZEluZGV4KHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmaW5kXzEuY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsICdpbmRleCcpKTtcbn1cbmV4cG9ydHMuZmluZEluZGV4ID0gZmluZEluZGV4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZEluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5maXJzdCA9IHZvaWQgMDtcbnZhciBFbXB0eUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9FbXB0eUVycm9yXCIpO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xudmFyIHRha2VfMSA9IHJlcXVpcmUoXCIuL3Rha2VcIik7XG52YXIgZGVmYXVsdElmRW1wdHlfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRJZkVtcHR5XCIpO1xudmFyIHRocm93SWZFbXB0eV8xID0gcmVxdWlyZShcIi4vdGhyb3dJZkVtcHR5XCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIGZpcnN0KHByZWRpY2F0ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIGhhc0RlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnBpcGUocHJlZGljYXRlID8gZmlsdGVyXzEuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBwcmVkaWNhdGUodiwgaSwgc291cmNlKTsgfSkgOiBpZGVudGl0eV8xLmlkZW50aXR5LCB0YWtlXzEudGFrZSgxKSwgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHlfMS5kZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIDogdGhyb3dJZkVtcHR5XzEudGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBFbXB0eUVycm9yXzEuRW1wdHlFcnJvcigpOyB9KSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZmlyc3QgPSBmaXJzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcnN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mbGF0TWFwID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbmV4cG9ydHMuZmxhdE1hcCA9IG1lcmdlTWFwXzEubWVyZ2VNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mbGF0TWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ncm91cEJ5ID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBncm91cEJ5KGtleVNlbGVjdG9yLCBlbGVtZW50T3JPcHRpb25zLCBkdXJhdGlvbiwgY29ubmVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQ7XG4gICAgICAgIGlmICghZWxlbWVudE9yT3B0aW9ucyB8fCB0eXBlb2YgZWxlbWVudE9yT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRPck9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoZHVyYXRpb24gPSBlbGVtZW50T3JPcHRpb25zLmR1cmF0aW9uLCBlbGVtZW50ID0gZWxlbWVudE9yT3B0aW9ucy5lbGVtZW50LCBjb25uZWN0b3IgPSBlbGVtZW50T3JPcHRpb25zLmNvbm5lY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIG5vdGlmeSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgY2Ioc3Vic2NyaWJlcik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIG5vdGlmeShmdW5jdGlvbiAoY29uc3VtZXIpIHsgcmV0dXJuIGNvbnN1bWVyLmVycm9yKGVycik7IH0pOyB9O1xuICAgICAgICB2YXIgYWN0aXZlR3JvdXBzID0gMDtcbiAgICAgICAgdmFyIHRlYXJkb3duQXR0ZW1wdGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBncm91cEJ5U291cmNlU3Vic2NyaWJlciA9IG5ldyBPcGVyYXRvclN1YnNjcmliZXJfMS5PcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlfMSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXBfMSA9IGdyb3Vwcy5nZXQoa2V5XzEpO1xuICAgICAgICAgICAgICAgIGlmICghZ3JvdXBfMSkge1xuICAgICAgICAgICAgICAgICAgICBncm91cHMuc2V0KGtleV8xLCAoZ3JvdXBfMSA9IGNvbm5lY3RvciA/IGNvbm5lY3RvcigpIDogbmV3IFN1YmplY3RfMS5TdWJqZWN0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwZWQgPSBjcmVhdGVHcm91cGVkT2JzZXJ2YWJsZShrZXlfMSwgZ3JvdXBfMSk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChncm91cGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb25TdWJzY3JpYmVyXzEgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoZ3JvdXBfMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwXzEuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXJfMSA9PT0gbnVsbCB8fCBkdXJhdGlvblN1YnNjcmliZXJfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyXzEudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IHJldHVybiBncm91cHMuZGVsZXRlKGtleV8xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cEJ5U291cmNlU3Vic2NyaWJlci5hZGQoaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGR1cmF0aW9uKGdyb3VwZWQpKS5zdWJzY3JpYmUoZHVyYXRpb25TdWJzY3JpYmVyXzEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cF8xLm5leHQoZWxlbWVudCA/IGVsZW1lbnQodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeShmdW5jdGlvbiAoY29uc3VtZXIpIHsgcmV0dXJuIGNvbnN1bWVyLmNvbXBsZXRlKCk7IH0pOyB9LCBoYW5kbGVFcnJvciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JvdXBzLmNsZWFyKCk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRlYXJkb3duQXR0ZW1wdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVHcm91cHMgPT09IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGdyb3VwQnlTb3VyY2VTdWJzY3JpYmVyKTtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cFN1YmplY3QpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKGdyb3VwU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUdyb3VwcysrO1xuICAgICAgICAgICAgICAgIHZhciBpbm5lclN1YiA9IGdyb3VwU3ViamVjdC5zdWJzY3JpYmUoZ3JvdXBTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAtLWFjdGl2ZUdyb3VwcyA9PT0gMCAmJiB0ZWFyZG93bkF0dGVtcHRlZCAmJiBncm91cEJ5U291cmNlU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc3VsdC5rZXkgPSBrZXk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmdyb3VwQnkgPSBncm91cEJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBCeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaWdub3JlRWxlbWVudHMgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gaWdub3JlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgbm9vcF8xLm5vb3ApKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuaWdub3JlRWxlbWVudHMgPSBpZ25vcmVFbGVtZW50cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlnbm9yZUVsZW1lbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0VtcHR5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmpvaW5BbGxJbnRlcm5hbHMgPSB2b2lkIDA7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIG1hcE9uZU9yTWFueUFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL21hcE9uZU9yTWFueUFyZ3NcIik7XG52YXIgcGlwZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvcGlwZVwiKTtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4vbWVyZ2VNYXBcIik7XG52YXIgdG9BcnJheV8xID0gcmVxdWlyZShcIi4vdG9BcnJheVwiKTtcbmZ1bmN0aW9uIGpvaW5BbGxJbnRlcm5hbHMoam9pbkZuLCBwcm9qZWN0KSB7XG4gICAgcmV0dXJuIHBpcGVfMS5waXBlKHRvQXJyYXlfMS50b0FycmF5KCksIG1lcmdlTWFwXzEubWVyZ2VNYXAoZnVuY3Rpb24gKHNvdXJjZXMpIHsgcmV0dXJuIGpvaW5Gbihzb3VyY2VzKTsgfSksIHByb2plY3QgPyBtYXBPbmVPck1hbnlBcmdzXzEubWFwT25lT3JNYW55QXJncyhwcm9qZWN0KSA6IGlkZW50aXR5XzEuaWRlbnRpdHkpO1xufVxuZXhwb3J0cy5qb2luQWxsSW50ZXJuYWxzID0gam9pbkFsbEludGVybmFscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvaW5BbGxJbnRlcm5hbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxhc3QgPSB2b2lkIDA7XG52YXIgRW1wdHlFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvRW1wdHlFcnJvclwiKTtcbnZhciBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlclwiKTtcbnZhciB0YWtlTGFzdF8xID0gcmVxdWlyZShcIi4vdGFrZUxhc3RcIik7XG52YXIgdGhyb3dJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi90aHJvd0lmRW1wdHlcIik7XG52YXIgZGVmYXVsdElmRW1wdHlfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRJZkVtcHR5XCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIGxhc3QocHJlZGljYXRlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UucGlwZShwcmVkaWNhdGUgPyBmaWx0ZXJfMS5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIHByZWRpY2F0ZSh2LCBpLCBzb3VyY2UpOyB9KSA6IGlkZW50aXR5XzEuaWRlbnRpdHksIHRha2VMYXN0XzEudGFrZUxhc3QoMSksIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5XzEuZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKSA6IHRocm93SWZFbXB0eV8xLnRocm93SWZFbXB0eShmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRW1wdHlFcnJvcl8xLkVtcHR5RXJyb3IoKTsgfSkpO1xuICAgIH07XG59XG5leHBvcnRzLmxhc3QgPSBsYXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWFwID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLm1hcCA9IG1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWFwVG8gPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5mdW5jdGlvbiBtYXBUbyh2YWx1ZSkge1xuICAgIHJldHVybiBtYXBfMS5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xufVxuZXhwb3J0cy5tYXBUbyA9IG1hcFRvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwVG8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hdGVyaWFsaXplID0gdm9pZCAwO1xudmFyIE5vdGlmaWNhdGlvbl8xID0gcmVxdWlyZShcIi4uL05vdGlmaWNhdGlvblwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gbWF0ZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoTm90aWZpY2F0aW9uXzEuTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSgpKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvcihlcnIpKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5tYXRlcmlhbGl6ZSA9IG1hdGVyaWFsaXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWxpemUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1heCA9IHZvaWQgMDtcbnZhciByZWR1Y2VfMSA9IHJlcXVpcmUoXCIuL3JlZHVjZVwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gbWF4KGNvbXBhcmVyKSB7XG4gICAgcmV0dXJuIHJlZHVjZV8xLnJlZHVjZShpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihjb21wYXJlcikgPyBmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4gKGNvbXBhcmVyKHgsIHkpID4gMCA/IHggOiB5KTsgfSA6IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiAoeCA+IHkgPyB4IDogeSk7IH0pO1xufVxuZXhwb3J0cy5tYXggPSBtYXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBtZXJnZUFsbF8xID0gcmVxdWlyZShcIi4vbWVyZ2VBbGxcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBmcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9mcm9tXCIpO1xuZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzXzEucG9wU2NoZWR1bGVyKGFyZ3MpO1xuICAgIHZhciBjb25jdXJyZW50ID0gYXJnc18xLnBvcE51bWJlcihhcmdzLCBJbmZpbml0eSk7XG4gICAgYXJncyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoYXJncyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgbWVyZ2VBbGxfMS5tZXJnZUFsbChjb25jdXJyZW50KShmcm9tXzEuZnJvbShfX3NwcmVhZEFycmF5KFtzb3VyY2VdLCBfX3JlYWQoYXJncykpLCBzY2hlZHVsZXIpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLm1lcmdlID0gbWVyZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VBbGwgPSB2b2lkIDA7XG52YXIgbWVyZ2VNYXBfMSA9IHJlcXVpcmUoXCIuL21lcmdlTWFwXCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIG1lcmdlQWxsKGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGlkZW50aXR5XzEuaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuZXhwb3J0cy5tZXJnZUFsbCA9IG1lcmdlQWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlSW50ZXJuYWxzID0gdm9pZCAwO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCBvbkJlZm9yZU5leHQsIGV4cGFuZCwgaW5uZXJTdWJTY2hlZHVsZXIsIGFkZGl0aW9uYWxUZWFyZG93bikge1xuICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICB2YXIgYWN0aXZlID0gMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG91dGVyTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7IH07XG4gICAgdmFyIGRvSW5uZXJTdWIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIGFjdGl2ZSsrO1xuICAgICAgICB2YXIgaW5uZXJDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgICAgIG9uQmVmb3JlTmV4dCA9PT0gbnVsbCB8fCBvbkJlZm9yZU5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQmVmb3JlTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIGlmIChleHBhbmQpIHtcbiAgICAgICAgICAgICAgICBvdXRlck5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlubmVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpbm5lckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcmVkVmFsdWUgPSBidWZmZXIuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBpbm5lclN1YlNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCAmJiBhY3RpdmUgPCBjb25jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG91dGVyTmV4dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRpdGlvbmFsVGVhcmRvd24gPT09IG51bGwgfHwgYWRkaXRpb25hbFRlYXJkb3duID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRpdGlvbmFsVGVhcmRvd24oKTtcbiAgICB9O1xufVxuZXhwb3J0cy5tZXJnZUludGVybmFscyA9IG1lcmdlSW50ZXJuYWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VJbnRlcm5hbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlTWFwID0gdm9pZCAwO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4vbWFwXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgbWVyZ2VJbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL21lcmdlSW50ZXJuYWxzXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIG1hcF8xLm1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkoaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHByb2plY3QoYSwgaSkpKTsgfSwgY29uY3VycmVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikgeyByZXR1cm4gbWVyZ2VJbnRlcm5hbHNfMS5tZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpOyB9KTtcbn1cbmV4cG9ydHMubWVyZ2VNYXAgPSBtZXJnZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZU1hcFRvID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gbWVyZ2VNYXBUbyhpbm5lck9ic2VydmFibGUsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBpZiAoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgY29uY3VycmVudCk7XG59XG5leHBvcnRzLm1lcmdlTWFwVG8gPSBtZXJnZU1hcFRvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXBUby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VTY2FuID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgbWVyZ2VJbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL21lcmdlSW50ZXJuYWxzXCIpO1xuZnVuY3Rpb24gbWVyZ2VTY2FuKGFjY3VtdWxhdG9yLCBzZWVkLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZWVkO1xuICAgICAgICByZXR1cm4gbWVyZ2VJbnRlcm5hbHNfMS5tZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuIGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaW5kZXgpOyB9LCBjb25jdXJyZW50LCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN0YXRlID0gdmFsdWU7XG4gICAgICAgIH0sIGZhbHNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChzdGF0ZSA9IG51bGwpOyB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubWVyZ2VTY2FuID0gbWVyZ2VTY2FuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VTY2FuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VXaXRoID0gdm9pZCAwO1xudmFyIG1lcmdlXzEgPSByZXF1aXJlKFwiLi9tZXJnZVwiKTtcbmZ1bmN0aW9uIG1lcmdlV2l0aCgpIHtcbiAgICB2YXIgb3RoZXJTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZV8xLm1lcmdlLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKG90aGVyU291cmNlcykpKTtcbn1cbmV4cG9ydHMubWVyZ2VXaXRoID0gbWVyZ2VXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5taW4gPSB2b2lkIDA7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi9yZWR1Y2VcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIG1pbihjb21wYXJlcikge1xuICAgIHJldHVybiByZWR1Y2VfMS5yZWR1Y2UoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oY29tcGFyZXIpID8gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIChjb21wYXJlcih4LCB5KSA8IDAgPyB4IDogeSk7IH0gOiBmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4gKHggPCB5ID8geCA6IHkpOyB9KTtcbn1cbmV4cG9ydHMubWluID0gbWluO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tdWx0aWNhc3QgPSB2b2lkIDA7XG52YXIgQ29ubmVjdGFibGVPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGVcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBjb25uZWN0XzEgPSByZXF1aXJlKFwiLi9jb25uZWN0XCIpO1xuZnVuY3Rpb24gbXVsdGljYXN0KHN1YmplY3RPclN1YmplY3RGYWN0b3J5LCBzZWxlY3Rvcikge1xuICAgIHZhciBzdWJqZWN0RmFjdG9yeSA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHN1YmplY3RPclN1YmplY3RGYWN0b3J5KSA/IHN1YmplY3RPclN1YmplY3RGYWN0b3J5IDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViamVjdE9yU3ViamVjdEZhY3Rvcnk7IH07XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gY29ubmVjdF8xLmNvbm5lY3Qoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgIGNvbm5lY3Rvcjogc3ViamVjdEZhY3RvcnksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIHN1YmplY3RGYWN0b3J5KTsgfTtcbn1cbmV4cG9ydHMubXVsdGljYXN0ID0gbXVsdGljYXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGljYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vYnNlcnZlT24gPSB2b2lkIDA7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIG9ic2VydmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5vYnNlcnZlT24gPSBvYnNlcnZlT247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlT24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vbkVycm9yUmVzdW1lTmV4dCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHQoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBuZXh0U291cmNlcyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoc291cmNlcyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChuZXh0U291cmNlcykpO1xuICAgICAgICB2YXIgc3Vic2NyaWJlTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTb3VyY2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U291cmNlID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHJlbWFpbmluZy5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVOZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyU3ViID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgbm9vcF8xLm5vb3AsIG5vb3BfMS5ub29wKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNvdXJjZS5zdWJzY3JpYmUoaW5uZXJTdWIpO1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi5hZGQoc3Vic2NyaWJlTmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzdWJzY3JpYmVOZXh0KCk7XG4gICAgfSk7XG59XG5leHBvcnRzLm9uRXJyb3JSZXN1bWVOZXh0ID0gb25FcnJvclJlc3VtZU5leHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVycm9yUmVzdW1lTmV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFpcndpc2UgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHBhaXJ3aXNlKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBwcmV2O1xuICAgICAgICB2YXIgaGFzUHJldiA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwID0gcHJldjtcbiAgICAgICAgICAgIHByZXYgPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc1ByZXYgJiYgc3Vic2NyaWJlci5uZXh0KFtwLCB2YWx1ZV0pO1xuICAgICAgICAgICAgaGFzUHJldiA9IHRydWU7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucGFpcndpc2UgPSBwYWlyd2lzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhaXJ3aXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJ0aXRpb24gPSB2b2lkIDA7XG52YXIgbm90XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub3RcIik7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5mdW5jdGlvbiBwYXJ0aXRpb24ocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIFtmaWx0ZXJfMS5maWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKShzb3VyY2UpLCBmaWx0ZXJfMS5maWx0ZXIobm90XzEubm90KHByZWRpY2F0ZSwgdGhpc0FyZykpKHNvdXJjZSldO1xuICAgIH07XG59XG5leHBvcnRzLnBhcnRpdGlvbiA9IHBhcnRpdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGx1Y2sgPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5mdW5jdGlvbiBwbHVjaygpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHByb3BlcnRpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsaXN0IG9mIHByb3BlcnRpZXMgY2Fubm90IGJlIGVtcHR5LicpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwXzEubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBjdXJyZW50UHJvcCA9IHg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gY3VycmVudFByb3AgPT09IG51bGwgfHwgY3VycmVudFByb3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRQcm9wW3Byb3BlcnRpZXNbaV1dO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9wO1xuICAgIH0pO1xufVxuZXhwb3J0cy5wbHVjayA9IHBsdWNrO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx1Y2suanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnB1Ymxpc2ggPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgbXVsdGljYXN0XzEgPSByZXF1aXJlKFwiLi9tdWx0aWNhc3RcIik7XG52YXIgY29ubmVjdF8xID0gcmVxdWlyZShcIi4vY29ubmVjdFwiKTtcbmZ1bmN0aW9uIHB1Ymxpc2goc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gc2VsZWN0b3IgPyBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBjb25uZWN0XzEuY29ubmVjdChzZWxlY3Rvcikoc291cmNlKTsgfSA6IGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG11bHRpY2FzdF8xLm11bHRpY2FzdChuZXcgU3ViamVjdF8xLlN1YmplY3QoKSkoc291cmNlKTsgfTtcbn1cbmV4cG9ydHMucHVibGlzaCA9IHB1Ymxpc2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wdWJsaXNoQmVoYXZpb3IgPSB2b2lkIDA7XG52YXIgQmVoYXZpb3JTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vQmVoYXZpb3JTdWJqZWN0XCIpO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gcHVibGlzaEJlaGF2aW9yKGluaXRpYWxWYWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdF8xLkJlaGF2aW9yU3ViamVjdChpbml0aWFsVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmplY3Q7IH0pO1xuICAgIH07XG59XG5leHBvcnRzLnB1Ymxpc2hCZWhhdmlvciA9IHB1Ymxpc2hCZWhhdmlvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hCZWhhdmlvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHVibGlzaExhc3QgPSB2b2lkIDA7XG52YXIgQXN5bmNTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vQXN5bmNTdWJqZWN0XCIpO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gcHVibGlzaExhc3QoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0XzEuQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGFibGVPYnNlcnZhYmxlXzEuQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViamVjdDsgfSk7XG4gICAgfTtcbn1cbmV4cG9ydHMucHVibGlzaExhc3QgPSBwdWJsaXNoTGFzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hMYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wdWJsaXNoUmVwbGF5ID0gdm9pZCAwO1xudmFyIFJlcGxheVN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9SZXBsYXlTdWJqZWN0XCIpO1xudmFyIG11bHRpY2FzdF8xID0gcmVxdWlyZShcIi4vbXVsdGljYXN0XCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBwdWJsaXNoUmVwbGF5KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNlbGVjdG9yT3JTY2hlZHVsZXIsIHRpbWVzdGFtcFByb3ZpZGVyKSB7XG4gICAgaWYgKHNlbGVjdG9yT3JTY2hlZHVsZXIgJiYgIWlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHNlbGVjdG9yT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHRpbWVzdGFtcFByb3ZpZGVyID0gc2VsZWN0b3JPclNjaGVkdWxlcjtcbiAgICB9XG4gICAgdmFyIHNlbGVjdG9yID0gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oc2VsZWN0b3JPclNjaGVkdWxlcikgPyBzZWxlY3Rvck9yU2NoZWR1bGVyIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBtdWx0aWNhc3RfMS5tdWx0aWNhc3QobmV3IFJlcGxheVN1YmplY3RfMS5SZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHRpbWVzdGFtcFByb3ZpZGVyKSwgc2VsZWN0b3IpKHNvdXJjZSk7IH07XG59XG5leHBvcnRzLnB1Ymxpc2hSZXBsYXkgPSBwdWJsaXNoUmVwbGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGlzaFJlcGxheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhY2UgPSB2b2lkIDA7XG52YXIgYXJnc09yQXJnQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NPckFyZ0FycmF5XCIpO1xudmFyIHJhY2VXaXRoXzEgPSByZXF1aXJlKFwiLi9yYWNlV2l0aFwiKTtcbmZ1bmN0aW9uIHJhY2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiByYWNlV2l0aF8xLnJhY2VXaXRoLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoYXJncykpKSk7XG59XG5leHBvcnRzLnJhY2UgPSByYWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhY2VXaXRoID0gdm9pZCAwO1xudmFyIHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3JhY2VcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiByYWNlV2l0aCgpIHtcbiAgICB2YXIgb3RoZXJTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiAhb3RoZXJTb3VyY2VzLmxlbmd0aFxuICAgICAgICA/IGlkZW50aXR5XzEuaWRlbnRpdHlcbiAgICAgICAgOiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByYWNlXzEucmFjZUluaXQoX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKG90aGVyU291cmNlcykpKShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnJhY2VXaXRoID0gcmFjZVdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWNlV2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVkdWNlID0gdm9pZCAwO1xudmFyIHNjYW5JbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL3NjYW5JbnRlcm5hbHNcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHJlZHVjZShhY2N1bXVsYXRvciwgc2VlZCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShzY2FuSW50ZXJuYWxzXzEuc2NhbkludGVybmFscyhhY2N1bXVsYXRvciwgc2VlZCwgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCBmYWxzZSwgdHJ1ZSkpO1xufVxuZXhwb3J0cy5yZWR1Y2UgPSByZWR1Y2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWR1Y2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZkNvdW50ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiByZWZDb3VudCgpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgc291cmNlLl9yZWZDb3VudCA8PSAwIHx8IDAgPCAtLXNvdXJjZS5fcmVmQ291bnQpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2hhcmVkQ29ubmVjdGlvbiA9IHNvdXJjZS5fY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHZhciBjb25uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm4pKSB7XG4gICAgICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHNvdXJjZS5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMucmVmQ291bnQgPSByZWZDb3VudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZkNvdW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXBlYXQgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2VtcHR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgdGltZXJfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3RpbWVyXCIpO1xuZnVuY3Rpb24gcmVwZWF0KGNvdW50T3JDb25maWcpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGNvdW50ID0gSW5maW5pdHk7XG4gICAgdmFyIGRlbGF5O1xuICAgIGlmIChjb3VudE9yQ29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb3VudE9yQ29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgKF9hID0gY291bnRPckNvbmZpZy5jb3VudCwgY291bnQgPSBfYSA9PT0gdm9pZCAwID8gSW5maW5pdHkgOiBfYSwgZGVsYXkgPSBjb3VudE9yQ29uZmlnLmRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gY291bnRPckNvbmZpZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQgPD0gMFxuICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVtcHR5XzEuRU1QVFk7IH1cbiAgICAgICAgOiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgc29GYXIgPSAwO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVN1YjtcbiAgICAgICAgICAgIHZhciByZXN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VTdWIgPT09IG51bGwgfHwgc291cmNlU3ViID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3RpZmllciA9IHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicgPyB0aW1lcl8xLnRpbWVyKGRlbGF5KSA6IGlubmVyRnJvbV8xLmlubmVyRnJvbShkZWxheShzb0ZhcikpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpZXJTdWJzY3JpYmVyXzEgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXJTdWJzY3JpYmVyXzEudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUobm90aWZpZXJTdWJzY3JpYmVyXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZVRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzb3VyY2VTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCsrc29GYXIgPCBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZVN1Yikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jVW5zdWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmIChzeW5jVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnJlcGVhdCA9IHJlcGVhdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVwZWF0V2hlbiA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gcmVwZWF0V2hlbihub3RpZmllcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YjtcbiAgICAgICAgdmFyIHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgICAgICB2YXIgY29tcGxldGlvbnMkO1xuICAgICAgICB2YXIgaXNOb3RpZmllckNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBpc01haW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzTWFpbkNvbXBsZXRlICYmIGlzTm90aWZpZXJDb21wbGV0ZSAmJiAoc3Vic2NyaWJlci5jb21wbGV0ZSgpLCB0cnVlKTsgfTtcbiAgICAgICAgdmFyIGdldENvbXBsZXRpb25TdWJqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFjb21wbGV0aW9ucyQpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucyQgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgICAgICBub3RpZmllcihjb21wbGV0aW9ucyQpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJlcGVhdFdoZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNSZXN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTm90aWZpZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGlvbnMkO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzTWFpbkNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlzTWFpbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAhY2hlY2tDb21wbGV0ZSgpICYmIGdldENvbXBsZXRpb25TdWJqZWN0KCkubmV4dCgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHN5bmNSZXN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJlcGVhdFdoZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5yZXBlYXRXaGVuID0gcmVwZWF0V2hlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdFdoZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJldHJ5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIHRpbWVyXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS90aW1lclwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbmZ1bmN0aW9uIHJldHJ5KGNvbmZpZ09yQ291bnQpIHtcbiAgICBpZiAoY29uZmlnT3JDb3VudCA9PT0gdm9pZCAwKSB7IGNvbmZpZ09yQ291bnQgPSBJbmZpbml0eTsgfVxuICAgIHZhciBjb25maWc7XG4gICAgaWYgKGNvbmZpZ09yQ291bnQgJiYgdHlwZW9mIGNvbmZpZ09yQ291bnQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZ09yQ291bnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICBjb3VudDogY29uZmlnT3JDb3VudCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIF9hID0gY29uZmlnLmNvdW50LCBjb3VudCA9IF9hID09PSB2b2lkIDAgPyBJbmZpbml0eSA6IF9hLCBkZWxheSA9IGNvbmZpZy5kZWxheSwgX2IgPSBjb25maWcucmVzZXRPblN1Y2Nlc3MsIHJlc2V0T25TdWNjZXNzID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2I7XG4gICAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICAgICAgPyBpZGVudGl0eV8xLmlkZW50aXR5XG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHNvRmFyID0gMDtcbiAgICAgICAgICAgIHZhciBpbm5lclN1YjtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVGb3JSZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0T25TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvRmFyKysgPCBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3ViXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWVyID0gdHlwZW9mIGRlbGF5ID09PSAnbnVtYmVyJyA/IHRpbWVyXzEudGltZXIoZGVsYXkpIDogaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGRlbGF5KGVyciwgc29GYXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpZXJTdWJzY3JpYmVyXzEgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmllclN1YnNjcmliZXJfMS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1Yl8xKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKG5vdGlmaWVyU3Vic2NyaWJlcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3ViXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnJldHJ5ID0gcmV0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV0cnlXaGVuID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiByZXRyeVdoZW4obm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWI7XG4gICAgICAgIHZhciBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9ycyQ7XG4gICAgICAgIHZhciBzdWJzY3JpYmVGb3JSZXRyeVdoZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcnMkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyQgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIoZXJyb3JzJCkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJTdWIgPyBzdWJzY3JpYmVGb3JSZXRyeVdoZW4oKSA6IChzeW5jUmVzdWIgPSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JzJCkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMkLm5leHQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAoc3luY1Jlc3ViKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3luY1Jlc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnlXaGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1YnNjcmliZUZvclJldHJ5V2hlbigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5yZXRyeVdoZW4gPSByZXRyeVdoZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeVdoZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNhbXBsZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBzYW1wbGUobm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNhbXBsZSA9IHNhbXBsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbXBsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2FtcGxlVGltZSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBzYW1wbGVfMSA9IHJlcXVpcmUoXCIuL3NhbXBsZVwiKTtcbnZhciBpbnRlcnZhbF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW50ZXJ2YWxcIik7XG5mdW5jdGlvbiBzYW1wbGVUaW1lKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICByZXR1cm4gc2FtcGxlXzEuc2FtcGxlKGludGVydmFsXzEuaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpKTtcbn1cbmV4cG9ydHMuc2FtcGxlVGltZSA9IHNhbXBsZVRpbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW1wbGVUaW1lLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2FuID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgc2NhbkludGVybmFsc18xID0gcmVxdWlyZShcIi4vc2NhbkludGVybmFsc1wiKTtcbmZ1bmN0aW9uIHNjYW4oYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoc2NhbkludGVybmFsc18xLnNjYW5JbnRlcm5hbHMoYWNjdW11bGF0b3IsIHNlZWQsIGFyZ3VtZW50cy5sZW5ndGggPj0gMiwgdHJ1ZSkpO1xufVxuZXhwb3J0cy5zY2FuID0gc2Nhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjYW5JbnRlcm5hbHMgPSB2b2lkIDA7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBzY2FuSW50ZXJuYWxzKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkLCBlbWl0T25OZXh0LCBlbWl0QmVmb3JlQ29tcGxldGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzU3RhdGUgPSBoYXNTZWVkO1xuICAgICAgICB2YXIgc3RhdGUgPSBzZWVkO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBpID0gaW5kZXgrKztcbiAgICAgICAgICAgIHN0YXRlID0gaGFzU3RhdGVcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaSlcbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICgoaGFzU3RhdGUgPSB0cnVlKSwgdmFsdWUpO1xuICAgICAgICAgICAgZW1pdE9uTmV4dCAmJiBzdWJzY3JpYmVyLm5leHQoc3RhdGUpO1xuICAgICAgICB9LCBlbWl0QmVmb3JlQ29tcGxldGUgJiZcbiAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGFzU3RhdGUgJiYgc3Vic2NyaWJlci5uZXh0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgIH07XG59XG5leHBvcnRzLnNjYW5JbnRlcm5hbHMgPSBzY2FuSW50ZXJuYWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbkludGVybmFscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2VxdWVuY2VFcXVhbCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2VxdWVuY2VFcXVhbChjb21wYXJlVG8sIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoY29tcGFyYXRvciA9PT0gdm9pZCAwKSB7IGNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSA9PT0gYjsgfTsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBhU3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgICAgICB2YXIgYlN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoaXNFcXVhbCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlzRXF1YWwpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY3JlYXRlU3Vic2NyaWJlciA9IGZ1bmN0aW9uIChzZWxmU3RhdGUsIG90aGVyU3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBvdGhlclN0YXRlLmJ1ZmZlciwgY29tcGxldGUgPSBvdGhlclN0YXRlLmNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlID8gZW1pdChmYWxzZSkgOiBzZWxmU3RhdGUuYnVmZmVyLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAhY29tcGFyYXRvcihhLCBidWZmZXIuc2hpZnQoKSkgJiYgZW1pdChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGZTdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gb3RoZXJTdGF0ZS5jb21wbGV0ZSwgYnVmZmVyID0gb3RoZXJTdGF0ZS5idWZmZXI7XG4gICAgICAgICAgICAgICAgY29tcGxldGUgJiYgZW1pdChidWZmZXIubGVuZ3RoID09PSAwKTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VxdWVuY2VFcXVhbFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyO1xuICAgICAgICB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoYVN0YXRlLCBiU3RhdGUpKTtcbiAgICAgICAgY29tcGFyZVRvLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKGJTdGF0ZSwgYVN0YXRlKSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNlcXVlbmNlRXF1YWwgPSBzZXF1ZW5jZUVxdWFsO1xuZnVuY3Rpb24gY3JlYXRlU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnVmZmVyOiBbXSxcbiAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXF1ZW5jZUVxdWFsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2hhcmUgPSB2b2lkIDA7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvZnJvbVwiKTtcbnZhciB0YWtlXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3Rha2VcIik7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmliZXJcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHNoYXJlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBfYSA9IG9wdGlvbnMuY29ubmVjdG9yLCBjb25uZWN0b3IgPSBfYSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7IH0gOiBfYSwgX2IgPSBvcHRpb25zLnJlc2V0T25FcnJvciwgcmVzZXRPbkVycm9yID0gX2IgPT09IHZvaWQgMCA/IHRydWUgOiBfYiwgX2MgPSBvcHRpb25zLnJlc2V0T25Db21wbGV0ZSwgcmVzZXRPbkNvbXBsZXRlID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgX2QgPSBvcHRpb25zLnJlc2V0T25SZWZDb3VudFplcm8sIHJlc2V0T25SZWZDb3VudFplcm8gPSBfZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9kO1xuICAgIHJldHVybiBmdW5jdGlvbiAod3JhcHBlclNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHZhciByZXNldENvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgc3ViamVjdCA9IG51bGw7XG4gICAgICAgIHZhciByZWZDb3VudCA9IDA7XG4gICAgICAgIHZhciBoYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhc0Vycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNhbmNlbFJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID09PSBudWxsIHx8IHJlc2V0Q29ubmVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzZXRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHN1YmplY3QgPSBudWxsO1xuICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gaGFzRXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzZXRBbmRVbnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb25uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICBjb25uID09PSBudWxsIHx8IGNvbm4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbm4udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJlZkNvdW50Kys7XG4gICAgICAgICAgICBpZiAoIWhhc0Vycm9yZWQgJiYgIWhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGVzdCA9IChzdWJqZWN0ID0gc3ViamVjdCAhPT0gbnVsbCAmJiBzdWJqZWN0ICE9PSB2b2lkIDAgPyBzdWJqZWN0IDogY29ubmVjdG9yKCkpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlZkNvdW50LS07XG4gICAgICAgICAgICAgICAgaWYgKHJlZkNvdW50ID09PSAwICYmICFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXRBbmRVbnN1YnNjcmliZSwgcmVzZXRPblJlZkNvdW50WmVybyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaWJlcl8xLlNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBkZXN0Lm5leHQodmFsdWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25FcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnJvbV8xLmZyb20oc291cmNlKS5zdWJzY3JpYmUoY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKHdyYXBwZXJTb3VyY2UpO1xuICAgIH07XG59XG5leHBvcnRzLnNoYXJlID0gc2hhcmU7XG5mdW5jdGlvbiBoYW5kbGVSZXNldChyZXNldCwgb24pIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChvbiA9PT0gdHJ1ZSkge1xuICAgICAgICByZXNldCgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9uID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG9uLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSkucGlwZSh0YWtlXzEudGFrZSgxKSlcbiAgICAgICAgLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiByZXNldCgpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXJlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zaGFyZVJlcGxheSA9IHZvaWQgMDtcbnZhciBSZXBsYXlTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vUmVwbGF5U3ViamVjdFwiKTtcbnZhciBzaGFyZV8xID0gcmVxdWlyZShcIi4vc2hhcmVcIik7XG5mdW5jdGlvbiBzaGFyZVJlcGxheShjb25maWdPckJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIGJ1ZmZlclNpemU7XG4gICAgdmFyIHJlZkNvdW50ID0gZmFsc2U7XG4gICAgaWYgKGNvbmZpZ09yQnVmZmVyU2l6ZSAmJiB0eXBlb2YgY29uZmlnT3JCdWZmZXJTaXplID09PSAnb2JqZWN0Jykge1xuICAgICAgICBidWZmZXJTaXplID0gKF9hID0gY29uZmlnT3JCdWZmZXJTaXplLmJ1ZmZlclNpemUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEluZmluaXR5O1xuICAgICAgICB3aW5kb3dUaW1lID0gKF9iID0gY29uZmlnT3JCdWZmZXJTaXplLndpbmRvd1RpbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IEluZmluaXR5O1xuICAgICAgICByZWZDb3VudCA9ICEhY29uZmlnT3JCdWZmZXJTaXplLnJlZkNvdW50O1xuICAgICAgICBzY2hlZHVsZXIgPSBjb25maWdPckJ1ZmZlclNpemUuc2NoZWR1bGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnVmZmVyU2l6ZSA9IGNvbmZpZ09yQnVmZmVyU2l6ZSAhPT0gbnVsbCAmJiBjb25maWdPckJ1ZmZlclNpemUgIT09IHZvaWQgMCA/IGNvbmZpZ09yQnVmZmVyU2l6ZSA6IEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVfMS5zaGFyZSh7XG4gICAgICAgIGNvbm5lY3RvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFJlcGxheVN1YmplY3RfMS5SZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcik7IH0sXG4gICAgICAgIHJlc2V0T25FcnJvcjogdHJ1ZSxcbiAgICAgICAgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgcmVzZXRPblJlZkNvdW50WmVybzogcmVmQ291bnQsXG4gICAgfSk7XG59XG5leHBvcnRzLnNoYXJlUmVwbGF5ID0gc2hhcmVSZXBsYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZVJlcGxheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2luZ2xlID0gdm9pZCAwO1xudmFyIEVtcHR5RXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0VtcHR5RXJyb3JcIik7XG52YXIgU2VxdWVuY2VFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvU2VxdWVuY2VFcnJvclwiKTtcbnZhciBOb3RGb3VuZEVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9Ob3RGb3VuZEVycm9yXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBzaW5nbGUocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBzaW5nbGVWYWx1ZTtcbiAgICAgICAgdmFyIHNlZW5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNlZW5WYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGluZGV4KyssIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSAmJiBzdWJzY3JpYmVyLmVycm9yKG5ldyBTZXF1ZW5jZUVycm9yXzEuU2VxdWVuY2VFcnJvcignVG9vIG1hbnkgbWF0Y2hpbmcgdmFsdWVzJykpO1xuICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoc2luZ2xlVmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3Ioc2VlblZhbHVlID8gbmV3IE5vdEZvdW5kRXJyb3JfMS5Ob3RGb3VuZEVycm9yKCdObyBtYXRjaGluZyB2YWx1ZXMnKSA6IG5ldyBFbXB0eUVycm9yXzEuRW1wdHlFcnJvcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zaW5nbGUgPSBzaW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaW5nbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNraXAgPSB2b2lkIDA7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5mdW5jdGlvbiBza2lwKGNvdW50KSB7XG4gICAgcmV0dXJuIGZpbHRlcl8xLmZpbHRlcihmdW5jdGlvbiAoXywgaW5kZXgpIHsgcmV0dXJuIGNvdW50IDw9IGluZGV4OyB9KTtcbn1cbmV4cG9ydHMuc2tpcCA9IHNraXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5za2lwTGFzdCA9IHZvaWQgMDtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHNraXBMYXN0KHNraXBDb3VudCkge1xuICAgIHJldHVybiBza2lwQ291bnQgPD0gMFxuICAgICAgICA/XG4gICAgICAgICAgICBpZGVudGl0eV8xLmlkZW50aXR5XG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHJpbmcgPSBuZXcgQXJyYXkoc2tpcENvdW50KTtcbiAgICAgICAgICAgIHZhciBzZWVuID0gMDtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZUluZGV4ID0gc2VlbisrO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUluZGV4IDwgc2tpcENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJpbmdbdmFsdWVJbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHZhbHVlSW5kZXggJSBza2lwQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHJpbmdbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICByaW5nW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQob2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmluZyA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbn1cbmV4cG9ydHMuc2tpcExhc3QgPSBza2lwTGFzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNraXBMYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5za2lwVW50aWwgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gc2tpcFVudGlsKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHRha2luZyA9IGZhbHNlO1xuICAgICAgICB2YXIgc2tpcFN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2tpcFN1YnNjcmliZXIgPT09IG51bGwgfHwgc2tpcFN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNraXBTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0YWtpbmcgPSB0cnVlO1xuICAgICAgICB9LCBub29wXzEubm9vcCk7XG4gICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShub3RpZmllcikuc3Vic2NyaWJlKHNraXBTdWJzY3JpYmVyKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0YWtpbmcgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5za2lwVW50aWwgPSBza2lwVW50aWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwVW50aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNraXBXaGlsZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2tpcFdoaWxlKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB0YWtpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAodGFraW5nIHx8ICh0YWtpbmcgPSAhcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKSkpICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2tpcFdoaWxlID0gc2tpcFdoaWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcFdoaWxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdGFydFdpdGggPSB2b2lkIDA7XG52YXIgY29uY2F0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9jb25jYXRcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gc3RhcnRXaXRoKCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YWx1ZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIodmFsdWVzKTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAoc2NoZWR1bGVyID8gY29uY2F0XzEuY29uY2F0KHZhbHVlcywgc291cmNlLCBzY2hlZHVsZXIpIDogY29uY2F0XzEuY29uY2F0KHZhbHVlcywgc291cmNlKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zdGFydFdpdGggPSBzdGFydFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydFdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN1YnNjcmliZU9uID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBzdWJzY3JpYmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7IH0sIGRlbGF5KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnN1YnNjcmliZU9uID0gc3Vic2NyaWJlT247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVPbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3dpdGNoQWxsID0gdm9pZCAwO1xudmFyIHN3aXRjaE1hcF8xID0gcmVxdWlyZShcIi4vc3dpdGNoTWFwXCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIHN3aXRjaEFsbCgpIHtcbiAgICByZXR1cm4gc3dpdGNoTWFwXzEuc3dpdGNoTWFwKGlkZW50aXR5XzEuaWRlbnRpdHkpO1xufVxuZXhwb3J0cy5zd2l0Y2hBbGwgPSBzd2l0Y2hBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN3aXRjaE1hcCA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNDb21wbGV0ZSAmJiAhaW5uZXJTdWJzY3JpYmVyICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPT09IG51bGwgfHwgaW5uZXJTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbm5lclN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHZhciBpbm5lckluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBvdXRlckluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBvdXRlckluZGV4KSkuc3Vic2NyaWJlKChpbm5lclN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dChyZXN1bHRTZWxlY3RvciA/IHJlc3VsdFNlbGVjdG9yKHZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4KyspIDogaW5uZXJWYWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnN3aXRjaE1hcCA9IHN3aXRjaE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3dpdGNoTWFwVG8gPSB2b2lkIDA7XG52YXIgc3dpdGNoTWFwXzEgPSByZXF1aXJlKFwiLi9zd2l0Y2hNYXBcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIHN3aXRjaE1hcFRvKGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpID8gc3dpdGNoTWFwXzEuc3dpdGNoTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IpIDogc3dpdGNoTWFwXzEuc3dpdGNoTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSk7XG59XG5leHBvcnRzLnN3aXRjaE1hcFRvID0gc3dpdGNoTWFwVG87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXBUby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3dpdGNoU2NhbiA9IHZvaWQgMDtcbnZhciBzd2l0Y2hNYXBfMSA9IHJlcXVpcmUoXCIuL3N3aXRjaE1hcFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gc3dpdGNoU2NhbihhY2N1bXVsYXRvciwgc2VlZCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHNlZWQ7XG4gICAgICAgIHN3aXRjaE1hcF8xLnN3aXRjaE1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7IHJldHVybiBhY2N1bXVsYXRvcihzdGF0ZSwgdmFsdWUsIGluZGV4KTsgfSwgZnVuY3Rpb24gKF8sIGlubmVyVmFsdWUpIHsgcmV0dXJuICgoc3RhdGUgPSBpbm5lclZhbHVlKSwgaW5uZXJWYWx1ZSk7IH0pKHNvdXJjZSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuZXhwb3J0cy5zd2l0Y2hTY2FuID0gc3dpdGNoU2Nhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaFNjYW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRha2UgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2VtcHR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0YWtlKGNvdW50KSB7XG4gICAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICAgICAgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW1wdHlfMS5FTVBUWTsgfVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzZWVuID0gMDtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICgrK3NlZW4gPD0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDw9IHNlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnRha2UgPSB0YWtlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGFrZUxhc3QgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2VtcHR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0YWtlTGFzdChjb3VudCkge1xuICAgIHJldHVybiBjb3VudCA8PSAwXG4gICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gZW1wdHlfMS5FTVBUWTsgfVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb3VudCA8IGJ1ZmZlci5sZW5ndGggJiYgYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyXzEgPSBfX3ZhbHVlcyhidWZmZXIpLCBidWZmZXJfMV8xID0gYnVmZmVyXzEubmV4dCgpOyAhYnVmZmVyXzFfMS5kb25lOyBidWZmZXJfMV8xID0gYnVmZmVyXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBidWZmZXJfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcl8xXzEgJiYgIWJ1ZmZlcl8xXzEuZG9uZSAmJiAoX2EgPSBidWZmZXJfMS5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xufVxuZXhwb3J0cy50YWtlTGFzdCA9IHRha2VMYXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZUxhc3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRha2VVbnRpbCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG5mdW5jdGlvbiB0YWtlVW50aWwobm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20obm90aWZpZXIpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9LCBub29wXzEubm9vcCkpO1xuICAgICAgICAhc3Vic2NyaWJlci5jbG9zZWQgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMudGFrZVVudGlsID0gdGFrZVVudGlsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZVVudGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50YWtlV2hpbGUgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgIGlmIChpbmNsdXNpdmUgPT09IHZvaWQgMCkgeyBpbmNsdXNpdmUgPSBmYWxzZTsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKyk7XG4gICAgICAgICAgICAocmVzdWx0IHx8IGluY2x1c2l2ZSkgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICFyZXN1bHQgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VXaGlsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGFwID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiB0YXAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIHZhciB0YXBPYnNlcnZlciA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCBlcnJvciB8fCBjb21wbGV0ZVxuICAgICAgICA/XG4gICAgICAgICAgICB7IG5leHQ6IG9ic2VydmVyT3JOZXh0LCBlcnJvcjogZXJyb3IsIGNvbXBsZXRlOiBjb21wbGV0ZSB9XG4gICAgICAgIDogb2JzZXJ2ZXJPck5leHQ7XG4gICAgcmV0dXJuIHRhcE9ic2VydmVyXG4gICAgICAgID8gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB2YXIgaXNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIGVycik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGFwT2JzZXJ2ZXIuZmluYWxpemUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHlfMS5pZGVudGl0eTtcbn1cbmV4cG9ydHMudGFwID0gdGFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aHJvdHRsZSA9IGV4cG9ydHMuZGVmYXVsdFRocm90dGxlQ29uZmlnID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5leHBvcnRzLmRlZmF1bHRUaHJvdHRsZUNvbmZpZyA9IHtcbiAgICBsZWFkaW5nOiB0cnVlLFxuICAgIHRyYWlsaW5nOiBmYWxzZSxcbn07XG5mdW5jdGlvbiB0aHJvdHRsZShkdXJhdGlvblNlbGVjdG9yLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gZXhwb3J0cy5kZWZhdWx0VGhyb3R0bGVDb25maWc7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGVhZGluZyA9IGNvbmZpZy5sZWFkaW5nLCB0cmFpbGluZyA9IGNvbmZpZy50cmFpbGluZztcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBzZW5kVmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgdGhyb3R0bGVkID0gbnVsbDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVuZFRocm90dGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdHRsZWQgPT09IG51bGwgfHwgdGhyb3R0bGVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aHJvdHRsZWQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRocm90dGxlZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodHJhaWxpbmcpIHtcbiAgICAgICAgICAgICAgICBzZW5kKCk7XG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjbGVhbnVwVGhyb3R0bGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm90dGxlZCA9IG51bGw7XG4gICAgICAgICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0VGhyb3R0bGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhyb3R0bGVkID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGR1cmF0aW9uU2VsZWN0b3IodmFsdWUpKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGVuZFRocm90dGxpbmcsIGNsZWFudXBUaHJvdHRsaW5nKSkpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gc2VuZFZhbHVlO1xuICAgICAgICAgICAgICAgIHNlbmRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAhaXNDb21wbGV0ZSAmJiBzdGFydFRocm90dGxlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBzZW5kVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICEodGhyb3R0bGVkICYmICF0aHJvdHRsZWQuY2xvc2VkKSAmJiAobGVhZGluZyA/IHNlbmQoKSA6IHN0YXJ0VGhyb3R0bGUodmFsdWUpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAhKHRyYWlsaW5nICYmIGhhc1ZhbHVlICYmIHRocm90dGxlZCAmJiAhdGhyb3R0bGVkLmNsb3NlZCkgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRocm90dGxlID0gdGhyb3R0bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvdHRsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGhyb3R0bGVUaW1lID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIHRocm90dGxlXzEgPSByZXF1aXJlKFwiLi90aHJvdHRsZVwiKTtcbnZhciB0aW1lcl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvdGltZXJcIik7XG5mdW5jdGlvbiB0aHJvdHRsZVRpbWUoZHVyYXRpb24sIHNjaGVkdWxlciwgY29uZmlnKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gdGhyb3R0bGVfMS5kZWZhdWx0VGhyb3R0bGVDb25maWc7IH1cbiAgICB2YXIgZHVyYXRpb24kID0gdGltZXJfMS50aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTtcbiAgICByZXR1cm4gdGhyb3R0bGVfMS50aHJvdHRsZShmdW5jdGlvbiAoKSB7IHJldHVybiBkdXJhdGlvbiQ7IH0sIGNvbmZpZyk7XG59XG5leHBvcnRzLnRocm90dGxlVGltZSA9IHRocm90dGxlVGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm90dGxlVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGhyb3dJZkVtcHR5ID0gdm9pZCAwO1xudmFyIEVtcHR5RXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0VtcHR5RXJyb3JcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHRocm93SWZFbXB0eShlcnJvckZhY3RvcnkpIHtcbiAgICBpZiAoZXJyb3JGYWN0b3J5ID09PSB2b2lkIDApIHsgZXJyb3JGYWN0b3J5ID0gZGVmYXVsdEVycm9yRmFjdG9yeTsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChoYXNWYWx1ZSA/IHN1YnNjcmliZXIuY29tcGxldGUoKSA6IHN1YnNjcmliZXIuZXJyb3IoZXJyb3JGYWN0b3J5KCkpKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aHJvd0lmRW1wdHkgPSB0aHJvd0lmRW1wdHk7XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgRW1wdHlFcnJvcl8xLkVtcHR5RXJyb3IoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93SWZFbXB0eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGltZUludGVydmFsID0gZXhwb3J0cy50aW1lSW50ZXJ2YWwgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHRpbWVJbnRlcnZhbChzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNfMS5hc3luY1NjaGVkdWxlcjsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsYXN0ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBub3cgLSBsYXN0O1xuICAgICAgICAgICAgbGFzdCA9IG5vdztcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuZXcgVGltZUludGVydmFsKHZhbHVlLCBpbnRlcnZhbCkpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRpbWVJbnRlcnZhbCA9IHRpbWVJbnRlcnZhbDtcbnZhciBUaW1lSW50ZXJ2YWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVJbnRlcnZhbCh2YWx1ZSwgaW50ZXJ2YWwpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgfVxuICAgIHJldHVybiBUaW1lSW50ZXJ2YWw7XG59KCkpO1xuZXhwb3J0cy5UaW1lSW50ZXJ2YWwgPSBUaW1lSW50ZXJ2YWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lSW50ZXJ2YWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRpbWVvdXQgPSBleHBvcnRzLlRpbWVvdXRFcnJvciA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBpc0RhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRGF0ZVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGNyZWF0ZUVycm9yQ2xhc3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2NyZWF0ZUVycm9yQ2xhc3NcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG5leHBvcnRzLlRpbWVvdXRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVGltZW91dEVycm9ySW1wbChpbmZvKSB7XG4gICAgICAgIGlmIChpbmZvID09PSB2b2lkIDApIHsgaW5mbyA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCBoYXMgb2NjdXJyZWQnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICB9O1xufSk7XG5mdW5jdGlvbiB0aW1lb3V0KGNvbmZpZywgc2NoZWR1bGVyQXJnKSB7XG4gICAgdmFyIF9hID0gKGlzRGF0ZV8xLmlzVmFsaWREYXRlKGNvbmZpZykgPyB7IGZpcnN0OiBjb25maWcgfSA6IHR5cGVvZiBjb25maWcgPT09ICdudW1iZXInID8geyBlYWNoOiBjb25maWcgfSA6IGNvbmZpZyksIGZpcnN0ID0gX2EuZmlyc3QsIGVhY2ggPSBfYS5lYWNoLCBfYiA9IF9hLndpdGgsIF93aXRoID0gX2IgPT09IHZvaWQgMCA/IHRpbWVvdXRFcnJvckZhY3RvcnkgOiBfYiwgX2MgPSBfYS5zY2hlZHVsZXIsIHNjaGVkdWxlciA9IF9jID09PSB2b2lkIDAgPyBzY2hlZHVsZXJBcmcgIT09IG51bGwgJiYgc2NoZWR1bGVyQXJnICE9PSB2b2lkIDAgPyBzY2hlZHVsZXJBcmcgOiBhc3luY18xLmFzeW5jU2NoZWR1bGVyIDogX2MsIF9kID0gX2EubWV0YSwgbWV0YSA9IF9kID09PSB2b2lkIDAgPyBudWxsIDogX2Q7XG4gICAgaWYgKGZpcnN0ID09IG51bGwgJiYgZWFjaCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIHRpbWVvdXQgcHJvdmlkZWQuJyk7XG4gICAgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbjtcbiAgICAgICAgdmFyIHRpbWVyU3Vic2NyaXB0aW9uO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIHNlZW4gPSAwO1xuICAgICAgICB2YXIgc3RhcnRUaW1lciA9IGZ1bmN0aW9uIChkZWxheSkge1xuICAgICAgICAgICAgdGltZXJTdWJzY3JpcHRpb24gPSBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKF93aXRoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IG1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VmFsdWU6IGxhc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW46IHNlZW4sXG4gICAgICAgICAgICAgICAgICAgIH0pKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfTtcbiAgICAgICAgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRpbWVyU3Vic2NyaXB0aW9uID09PSBudWxsIHx8IHRpbWVyU3Vic2NyaXB0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc2VlbisrO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KChsYXN0VmFsdWUgPSB2YWx1ZSkpO1xuICAgICAgICAgICAgZWFjaCA+IDAgJiYgc3RhcnRUaW1lcihlYWNoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghKHRpbWVyU3Vic2NyaXB0aW9uID09PSBudWxsIHx8IHRpbWVyU3Vic2NyaXB0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aW1lclN1YnNjcmlwdGlvbi5jbG9zZWQpKSB7XG4gICAgICAgICAgICAgICAgdGltZXJTdWJzY3JpcHRpb24gPT09IG51bGwgfHwgdGltZXJTdWJzY3JpcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpbWVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgICAgIHN0YXJ0VGltZXIoZmlyc3QgIT0gbnVsbCA/ICh0eXBlb2YgZmlyc3QgPT09ICdudW1iZXInID8gZmlyc3QgOiArZmlyc3QgLSBzY2hlZHVsZXIubm93KCkpIDogZWFjaCk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRpbWVvdXQgPSB0aW1lb3V0O1xuZnVuY3Rpb24gdGltZW91dEVycm9yRmFjdG9yeShpbmZvKSB7XG4gICAgdGhyb3cgbmV3IGV4cG9ydHMuVGltZW91dEVycm9yKGluZm8pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZW91dFdpdGggPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgaXNEYXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0RhdGVcIik7XG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4vdGltZW91dFwiKTtcbmZ1bmN0aW9uIHRpbWVvdXRXaXRoKGR1ZSwgd2l0aE9ic2VydmFibGUsIHNjaGVkdWxlcikge1xuICAgIHZhciBmaXJzdDtcbiAgICB2YXIgZWFjaDtcbiAgICB2YXIgX3dpdGg7XG4gICAgc2NoZWR1bGVyID0gc2NoZWR1bGVyICE9PSBudWxsICYmIHNjaGVkdWxlciAhPT0gdm9pZCAwID8gc2NoZWR1bGVyIDogYXN5bmNfMS5hc3luYztcbiAgICBpZiAoaXNEYXRlXzEuaXNWYWxpZERhdGUoZHVlKSkge1xuICAgICAgICBmaXJzdCA9IGR1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGR1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgZWFjaCA9IGR1ZTtcbiAgICB9XG4gICAgaWYgKHdpdGhPYnNlcnZhYmxlKSB7XG4gICAgICAgIF93aXRoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gd2l0aE9ic2VydmFibGU7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvYnNlcnZhYmxlIHByb3ZpZGVkIHRvIHN3aXRjaCB0bycpO1xuICAgIH1cbiAgICBpZiAoZmlyc3QgPT0gbnVsbCAmJiBlYWNoID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gdGltZW91dCBwcm92aWRlZC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVvdXRfMS50aW1lb3V0KHtcbiAgICAgICAgZmlyc3Q6IGZpcnN0LFxuICAgICAgICBlYWNoOiBlYWNoLFxuICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgd2l0aDogX3dpdGgsXG4gICAgfSk7XG59XG5leHBvcnRzLnRpbWVvdXRXaXRoID0gdGltZW91dFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0V2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZXN0YW1wID0gdm9pZCAwO1xudmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXJcIik7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5mdW5jdGlvbiB0aW1lc3RhbXAodGltZXN0YW1wUHJvdmlkZXIpIHtcbiAgICBpZiAodGltZXN0YW1wUHJvdmlkZXIgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXBQcm92aWRlciA9IGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xLmRhdGVUaW1lc3RhbXBQcm92aWRlcjsgfVxuICAgIHJldHVybiBtYXBfMS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoeyB2YWx1ZTogdmFsdWUsIHRpbWVzdGFtcDogdGltZXN0YW1wUHJvdmlkZXIubm93KCkgfSk7IH0pO1xufVxuZXhwb3J0cy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lc3RhbXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRvQXJyYXkgPSB2b2lkIDA7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi9yZWR1Y2VcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBhcnJSZWR1Y2VyID0gZnVuY3Rpb24gKGFyciwgdmFsdWUpIHsgcmV0dXJuIChhcnIucHVzaCh2YWx1ZSksIGFycik7IH07XG5mdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJlZHVjZV8xLnJlZHVjZShhcnJSZWR1Y2VyLCBbXSkoc291cmNlKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9BcnJheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbmZ1bmN0aW9uIHdpbmRvdyh3aW5kb3dCb3VuZGFyaWVzKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHdpbmRvd1N1YmplY3QgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd1N1YmplY3QuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgd2luZG93U3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHdpbmRvd1N1YmplY3QgPT09IG51bGwgfHwgd2luZG93U3ViamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93U3ViamVjdC5uZXh0KHZhbHVlKTsgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93U3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBlcnJvckhhbmRsZXIpKTtcbiAgICAgICAgd2luZG93Qm91bmRhcmllcy5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCgod2luZG93U3ViamVjdCA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpKSk7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wLCBlcnJvckhhbmRsZXIpKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QgPT09IG51bGwgfHwgd2luZG93U3ViamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93U3ViamVjdC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgd2luZG93U3ViamVjdCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvdyA9IHdpbmRvdztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvdy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93Q291bnQgPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHdpbmRvd0NvdW50KHdpbmRvd1NpemUsIHN0YXJ0V2luZG93RXZlcnkpIHtcbiAgICBpZiAoc3RhcnRXaW5kb3dFdmVyeSA9PT0gdm9pZCAwKSB7IHN0YXJ0V2luZG93RXZlcnkgPSAwOyB9XG4gICAgdmFyIHN0YXJ0RXZlcnkgPSBzdGFydFdpbmRvd0V2ZXJ5ID4gMCA/IHN0YXJ0V2luZG93RXZlcnkgOiB3aW5kb3dTaXplO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gW25ldyBTdWJqZWN0XzEuU3ViamVjdCgpXTtcbiAgICAgICAgdmFyIHN0YXJ0cyA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93c1swXS5hc09ic2VydmFibGUoKSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHdpbmRvd3NfMSA9IF9fdmFsdWVzKHdpbmRvd3MpLCB3aW5kb3dzXzFfMSA9IHdpbmRvd3NfMS5uZXh0KCk7ICF3aW5kb3dzXzFfMS5kb25lOyB3aW5kb3dzXzFfMSA9IHdpbmRvd3NfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRvd18xID0gd2luZG93c18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd18xLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93c18xXzEgJiYgIXdpbmRvd3NfMV8xLmRvbmUgJiYgKF9hID0gd2luZG93c18xLnJldHVybikpIF9hLmNhbGwod2luZG93c18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGMgPSBjb3VudCAtIHdpbmRvd1NpemUgKyAxO1xuICAgICAgICAgICAgaWYgKGMgPj0gMCAmJiBjICUgc3RhcnRFdmVyeSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCsrY291bnQgJSBzdGFydEV2ZXJ5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd18yID0gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgd2luZG93cy5wdXNoKHdpbmRvd18yKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93XzIuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAod2luZG93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHdoaWxlICh3aW5kb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhcnRzID0gbnVsbDtcbiAgICAgICAgICAgIHdpbmRvd3MgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd0NvdW50ID0gd2luZG93Q291bnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3dDb3VudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93VGltZSA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gd2luZG93VGltZSh3aW5kb3dUaW1lU3Bhbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIG90aGVyQXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyQXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IChfYSA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIob3RoZXJBcmdzKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYXN5bmNfMS5hc3luY1NjaGVkdWxlcjtcbiAgICB2YXIgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA9IChfYiA9IG90aGVyQXJnc1swXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB2YXIgbWF4V2luZG93U2l6ZSA9IG90aGVyQXJnc1sxXSB8fCBJbmZpbml0eTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgd2luZG93UmVjb3JkcyA9IFtdO1xuICAgICAgICB2YXIgcmVzdGFydE9uQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNsb3NlV2luZG93ID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHdpbmRvdyA9IHJlY29yZC53aW5kb3csIHN1YnMgPSByZWNvcmQuc3VicztcbiAgICAgICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgc3Vicy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKHdpbmRvd1JlY29yZHMsIHJlY29yZCk7XG4gICAgICAgICAgICByZXN0YXJ0T25DbG9zZSAmJiBzdGFydFdpbmRvdygpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RhcnRXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAod2luZG93UmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnMpO1xuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciByZWNvcmRfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93OiB3aW5kb3dfMSxcbiAgICAgICAgICAgICAgICAgICAgc3Viczogc3VicyxcbiAgICAgICAgICAgICAgICAgICAgc2VlbjogMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHdpbmRvd1JlY29yZHMucHVzaChyZWNvcmRfMSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd18xLmFzT2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vicywgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjbG9zZVdpbmRvdyhyZWNvcmRfMSk7IH0sIHdpbmRvd1RpbWVTcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgIT09IG51bGwgJiYgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA+PSAwKSB7XG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBzdGFydFdpbmRvdywgd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN0YXJ0T25DbG9zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRXaW5kb3coKTtcbiAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIHdpbmRvd1JlY29yZHMuc2xpY2UoKS5mb3JFYWNoKGNiKTsgfTtcbiAgICAgICAgdmFyIHRlcm1pbmF0ZSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgbG9vcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2luZG93ID0gX2Eud2luZG93O1xuICAgICAgICAgICAgICAgIHJldHVybiBjYih3aW5kb3cpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBsb29wKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQud2luZG93Lm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIG1heFdpbmRvd1NpemUgPD0gKytyZWNvcmQuc2VlbiAmJiBjbG9zZVdpbmRvdyhyZWNvcmQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRlcm1pbmF0ZShmdW5jdGlvbiAoY29uc3VtZXIpIHsgcmV0dXJuIGNvbnN1bWVyLmNvbXBsZXRlKCk7IH0pOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiB0ZXJtaW5hdGUoZnVuY3Rpb24gKGNvbnN1bWVyKSB7IHJldHVybiBjb25zdW1lci5lcnJvcihlcnIpOyB9KTsgfSkpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93UmVjb3JkcyA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd1RpbWUgPSB3aW5kb3dUaW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93VGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93VG9nZ2xlID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmlwdGlvblwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG5mdW5jdGlvbiB3aW5kb3dUb2dnbGUob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gW107XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHdoaWxlICgwIDwgd2luZG93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKG9wZW5pbmdzKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChvcGVuVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgIHdpbmRvd3MucHVzaCh3aW5kb3cpO1xuICAgICAgICAgICAgdmFyIGNsb3NpbmdTdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB2YXIgY2xvc2VXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKHdpbmRvd3MsIHdpbmRvdyk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nTm90aWZpZXI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNsb3NpbmdOb3RpZmllciA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3Iob3BlblZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93LmFzT2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGNsb3NpbmdOb3RpZmllci5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNsb3NlV2luZG93LCBub29wXzEubm9vcCwgaGFuZGxlRXJyb3IpKSk7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICB2YXIgd2luZG93c0NvcHkgPSB3aW5kb3dzLnNsaWNlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHdpbmRvd3NDb3B5XzEgPSBfX3ZhbHVlcyh3aW5kb3dzQ29weSksIHdpbmRvd3NDb3B5XzFfMSA9IHdpbmRvd3NDb3B5XzEubmV4dCgpOyAhd2luZG93c0NvcHlfMV8xLmRvbmU7IHdpbmRvd3NDb3B5XzFfMSA9IHdpbmRvd3NDb3B5XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IHdpbmRvd3NDb3B5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93XzEubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dzQ29weV8xXzEgJiYgIXdpbmRvd3NDb3B5XzFfMS5kb25lICYmIChfYSA9IHdpbmRvd3NDb3B5XzEucmV0dXJuKSkgX2EuY2FsbCh3aW5kb3dzQ29weV8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGhhbmRsZUVycm9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMud2luZG93VG9nZ2xlID0gd2luZG93VG9nZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93VG9nZ2xlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy53aW5kb3dXaGVuID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiB3aW5kb3dXaGVuKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3c7XG4gICAgICAgIHZhciBjbG9zaW5nU3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIGhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgd2luZG93LmVycm9yKGVycik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvcGVuV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmliZXIgPT09IG51bGwgfHwgY2xvc2luZ1N1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsb3NpbmdTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHdpbmRvdyA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvdy5hc09ic2VydmFibGUoKSk7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjbG9zaW5nTm90aWZpZXIgPSBpbm5lckZyb21fMS5pbm5lckZyb20oY2xvc2luZ1NlbGVjdG9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2luZ05vdGlmaWVyLnN1YnNjcmliZSgoY2xvc2luZ1N1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3BlbldpbmRvdywgb3BlbldpbmRvdywgaGFuZGxlRXJyb3IpKSk7XG4gICAgICAgIH07XG4gICAgICAgIG9wZW5XaW5kb3coKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB3aW5kb3cubmV4dCh2YWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBoYW5kbGVFcnJvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmliZXIgPT09IG51bGwgfHwgY2xvc2luZ1N1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsb3NpbmdTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB3aW5kb3cgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd1doZW4gPSB3aW5kb3dXaGVuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93V2hlbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpdGhMYXRlc3RGcm9tID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbmZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tKCkge1xuICAgIHZhciBpbnB1dHMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBpbnB1dHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHByb2plY3QgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoaW5wdXRzKTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGVuID0gaW5wdXRzLmxlbmd0aDtcbiAgICAgICAgdmFyIG90aGVyVmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGlucHV0cy5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICB2YXIgcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0c1tpXSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvdGhlclZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghcmVhZHkgJiYgIWhhc1ZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgKHJlYWR5ID0gaGFzVmFsdWUuZXZlcnkoaWRlbnRpdHlfMS5pZGVudGl0eSkpICYmIChoYXNWYWx1ZSA9IG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocmVhZHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gX19zcHJlYWRBcnJheShbdmFsdWVdLCBfX3JlYWQob3RoZXJWYWx1ZXMpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdCA/IHByb2plY3QuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodmFsdWVzKSkpIDogdmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy53aXRoTGF0ZXN0RnJvbSA9IHdpdGhMYXRlc3RGcm9tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2l0aExhdGVzdEZyb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56aXAgPSB2b2lkIDA7XG52YXIgemlwXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS96aXBcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHppcCgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgemlwXzEuemlwLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKHNvdXJjZXMpKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy56aXAgPSB6aXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnppcEFsbCA9IHZvaWQgMDtcbnZhciB6aXBfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3ppcFwiKTtcbnZhciBqb2luQWxsSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9qb2luQWxsSW50ZXJuYWxzXCIpO1xuZnVuY3Rpb24gemlwQWxsKHByb2plY3QpIHtcbiAgICByZXR1cm4gam9pbkFsbEludGVybmFsc18xLmpvaW5BbGxJbnRlcm5hbHMoemlwXzEuemlwLCBwcm9qZWN0KTtcbn1cbmV4cG9ydHMuemlwQWxsID0gemlwQWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwQWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuemlwV2l0aCA9IHZvaWQgMDtcbnZhciB6aXBfMSA9IHJlcXVpcmUoXCIuL3ppcFwiKTtcbmZ1bmN0aW9uIHppcFdpdGgoKSB7XG4gICAgdmFyIG90aGVySW5wdXRzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJJbnB1dHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHppcF8xLnppcC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChvdGhlcklucHV0cykpKTtcbn1cbmV4cG9ydHMuemlwV2l0aCA9IHppcFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXBXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2hlZHVsZUFycmF5ID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zY2hlZHVsZUFycmF5ID0gc2NoZWR1bGVBcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlQXN5bmNJdGVyYWJsZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBleGVjdXRlU2NoZWR1bGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNjaGVkdWxlQXN5bmNJdGVyYWJsZSA9IHNjaGVkdWxlQXN5bmNJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2NoZWR1bGVJdGVyYWJsZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBpdGVyYXRvcl8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9pdGVyYXRvclwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gaW5wdXRbaXRlcmF0b3JfMS5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGl0ZXJhdG9yID09PSBudWxsIHx8IGl0ZXJhdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVyYXRvci5yZXR1cm4pICYmIGl0ZXJhdG9yLnJldHVybigpOyB9O1xuICAgIH0pO1xufVxuZXhwb3J0cy5zY2hlZHVsZUl0ZXJhYmxlID0gc2NoZWR1bGVJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlSXRlcmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlT2JzZXJ2YWJsZSA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBvYnNlcnZlT25fMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uXCIpO1xudmFyIHN1YnNjcmliZU9uXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uXzEuc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uXzEub2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuZXhwb3J0cy5zY2hlZHVsZU9ic2VydmFibGUgPSBzY2hlZHVsZU9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlUHJvbWlzZSA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBvYnNlcnZlT25fMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uXCIpO1xudmFyIHN1YnNjcmliZU9uXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uXzEuc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uXzEub2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuZXhwb3J0cy5zY2hlZHVsZVByb21pc2UgPSBzY2hlZHVsZVByb21pc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlID0gdm9pZCAwO1xudmFyIHNjaGVkdWxlQXN5bmNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlXCIpO1xudmFyIGlzUmVhZGFibGVTdHJlYW1MaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVBc3luY0l0ZXJhYmxlXzEuc2NoZWR1bGVBc3luY0l0ZXJhYmxlKGlzUmVhZGFibGVTdHJlYW1MaWtlXzEucmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihpbnB1dCksIHNjaGVkdWxlcik7XG59XG5leHBvcnRzLnNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlID0gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2NoZWR1bGVkID0gdm9pZCAwO1xudmFyIHNjaGVkdWxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVPYnNlcnZhYmxlXCIpO1xudmFyIHNjaGVkdWxlUHJvbWlzZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVQcm9taXNlXCIpO1xudmFyIHNjaGVkdWxlQXJyYXlfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlQXJyYXlcIik7XG52YXIgc2NoZWR1bGVJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVJdGVyYWJsZVwiKTtcbnZhciBzY2hlZHVsZUFzeW5jSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZVwiKTtcbnZhciBpc0ludGVyb3BPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlXCIpO1xudmFyIGlzUHJvbWlzZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNQcm9taXNlXCIpO1xudmFyIGlzQXJyYXlMaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0FycmF5TGlrZVwiKTtcbnZhciBpc0l0ZXJhYmxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0l0ZXJhYmxlXCIpO1xudmFyIGlzQXN5bmNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlXCIpO1xudmFyIHRocm93VW5vYnNlcnZhYmxlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3JcIik7XG52YXIgaXNSZWFkYWJsZVN0cmVhbUxpa2VfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlXCIpO1xudmFyIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGVfMS5pc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZV8xLnNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2VfMS5pc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5XzEuc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlXzEuaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZV8xLnNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlXzEuaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZV8xLnNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZV8xLmlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZV8xLnNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlXzEuaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2VfMS5zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyB0aHJvd1Vub2JzZXJ2YWJsZUVycm9yXzEuY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0cy5zY2hlZHVsZWQgPSBzY2hlZHVsZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BY3Rpb24gPSB2b2lkIDA7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIEFjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuQWN0aW9uID0gQWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXN5bmNBY3Rpb24gPSB2b2lkIDA7XG52YXIgQWN0aW9uXzEgPSByZXF1aXJlKFwiLi9BY3Rpb25cIik7XG52YXIgaW50ZXJ2YWxQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vaW50ZXJ2YWxQcm92aWRlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBBc3luY0FjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuaWQgfHwgdGhpcy5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIHRoaXMuaWQsIGRlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBfaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICByZXR1cm4gaW50ZXJ2YWxQcm92aWRlcl8xLmludGVydmFsUHJvdmlkZXIuc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKF9zY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGludGVydmFsUHJvdmlkZXJfMS5pbnRlcnZhbFByb3ZpZGVyLmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2RlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZV8xLmFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb25fMS5BY3Rpb24pKTtcbmV4cG9ydHMuQXN5bmNBY3Rpb24gPSBBc3luY0FjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXN5bmNTY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgU2NoZWR1bGVyXzEgPSByZXF1aXJlKFwiLi4vU2NoZWR1bGVyXCIpO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7IG5vdyA9IFNjaGVkdWxlcl8xLlNjaGVkdWxlci5ub3c7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBub3cpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXI7XG59KFNjaGVkdWxlcl8xLlNjaGVkdWxlcikpO1xuZXhwb3J0cy5Bc3luY1NjaGVkdWxlciA9IEFzeW5jU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFzeW5jID0gZXhwb3J0cy5hc3luY1NjaGVkdWxlciA9IHZvaWQgMDtcbnZhciBBc3luY0FjdGlvbl8xID0gcmVxdWlyZShcIi4vQXN5bmNBY3Rpb25cIik7XG52YXIgQXN5bmNTY2hlZHVsZXJfMSA9IHJlcXVpcmUoXCIuL0FzeW5jU2NoZWR1bGVyXCIpO1xuZXhwb3J0cy5hc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcl8xLkFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uXzEuQXN5bmNBY3Rpb24pO1xuZXhwb3J0cy5hc3luYyA9IGV4cG9ydHMuYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0gdm9pZCAwO1xuZXhwb3J0cy5kYXRlVGltZXN0YW1wUHJvdmlkZXIgPSB7XG4gICAgbm93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoZXhwb3J0cy5kYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmludGVydmFsUHJvdmlkZXIgPSB2b2lkIDA7XG5leHBvcnRzLmludGVydmFsUHJvdmlkZXIgPSB7XG4gICAgc2V0SW50ZXJ2YWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSBleHBvcnRzLmludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkgfHwgc2V0SW50ZXJ2YWwpLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhckludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGV4cG9ydHMuaW50ZXJ2YWxQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuICgoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLmNsZWFySW50ZXJ2YWwpIHx8IGNsZWFySW50ZXJ2YWwpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVydmFsUHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aW1lb3V0UHJvdmlkZXIgPSB2b2lkIDA7XG5leHBvcnRzLnRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gZXhwb3J0cy50aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRUaW1lb3V0KSB8fCBzZXRUaW1lb3V0KS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGV4cG9ydHMudGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRQcm92aWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXRlcmF0b3IgPSBleHBvcnRzLmdldFN5bWJvbEl0ZXJhdG9yID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0cy5nZXRTeW1ib2xJdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yO1xuZXhwb3J0cy5pdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub2JzZXJ2YWJsZSA9IHZvaWQgMDtcbmV4cG9ydHMub2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsKCkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbXB0eUVycm9yID0gdm9pZCAwO1xudmFyIGNyZWF0ZUVycm9yQ2xhc3NfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUVycm9yQ2xhc3NcIik7XG5leHBvcnRzLkVtcHR5RXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7IHJldHVybiBmdW5jdGlvbiBFbXB0eUVycm9ySW1wbCgpIHtcbiAgICBfc3VwZXIodGhpcyk7XG4gICAgdGhpcy5uYW1lID0gJ0VtcHR5RXJyb3InO1xuICAgIHRoaXMubWVzc2FnZSA9ICdubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSc7XG59OyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5RXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5vdEZvdW5kRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuTm90Rm91bmRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gTm90Rm91bmRFcnJvckltcGwobWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RGb3VuZEVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RGb3VuZEVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5PYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VxdWVuY2VFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5TZXF1ZW5jZUVycm9yID0gY3JlYXRlRXJyb3JDbGFzc18xLmNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBTZXF1ZW5jZUVycm9ySW1wbChtZXNzYWdlKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1NlcXVlbmNlRXJyb3InO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcXVlbmNlRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVuc3Vic2NyaXB0aW9uRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBvcE51bWJlciA9IGV4cG9ydHMucG9wU2NoZWR1bGVyID0gZXhwb3J0cy5wb3BSZXN1bHRTZWxlY3RvciA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xudmFyIGlzU2NoZWR1bGVyXzEgPSByZXF1aXJlKFwiLi9pc1NjaGVkdWxlclwiKTtcbmZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMucG9wUmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcjtcbmZ1bmN0aW9uIHBvcFNjaGVkdWxlcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzU2NoZWR1bGVyXzEuaXNTY2hlZHVsZXIobGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5wb3BTY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXI7XG5mdW5jdGlvbiBwb3BOdW1iZXIoYXJncywgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBsYXN0KGFyZ3MpID09PSAnbnVtYmVyJyA/IGFyZ3MucG9wKCkgOiBkZWZhdWx0VmFsdWU7XG59XG5leHBvcnRzLnBvcE51bWJlciA9IHBvcE51bWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFyZ3NBcmdBcnJheU9yT2JqZWN0ID0gdm9pZCAwO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIGdldEtleXMgPSBPYmplY3Qua2V5cztcbmZ1bmN0aW9uIGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYXJnczogZmlyc3RfMSwga2V5czogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BPSk8oZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gZ2V0S2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXJnczoga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSxcbiAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhcmdzOiBhcmdzLCBrZXlzOiBudWxsIH07XG59XG5leHBvcnRzLmFyZ3NBcmdBcnJheU9yT2JqZWN0ID0gYXJnc0FyZ0FycmF5T3JPYmplY3Q7XG5mdW5jdGlvbiBpc1BPSk8ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBnZXRQcm90b3R5cGVPZihvYmopID09PSBvYmplY3RQcm90bztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3NBcmdBcnJheU9yT2JqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hcmdzT3JBcmdBcnJheSA9IHZvaWQgMDtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGFyZ3NPckFyZ0FycmF5KGFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xufVxuZXhwb3J0cy5hcmdzT3JBcmdBcnJheSA9IGFyZ3NPckFyZ0FycmF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJnc09yQXJnQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFyclJlbW92ZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbmV4cG9ydHMuYXJyUmVtb3ZlID0gYXJyUmVtb3ZlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVFcnJvckNsYXNzID0gdm9pZCAwO1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuZXhwb3J0cy5jcmVhdGVFcnJvckNsYXNzID0gY3JlYXRlRXJyb3JDbGFzcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZU9iamVjdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAoKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldKSwgcmVzdWx0KTsgfSwge30pO1xufVxuZXhwb3J0cy5jcmVhdGVPYmplY3QgPSBjcmVhdGVPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVPYmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNhcHR1cmVFcnJvciA9IGV4cG9ydHMuZXJyb3JDb250ZXh0ID0gdm9pZCAwO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBjb250ZXh0ID0gbnVsbDtcbmZ1bmN0aW9uIGVycm9yQ29udGV4dChjYikge1xuICAgIGlmIChjb25maWdfMS5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLmVycm9yQ29udGV4dCA9IGVycm9yQ29udGV4dDtcbmZ1bmN0aW9uIGNhcHR1cmVFcnJvcihlcnIpIHtcbiAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgY29udGV4dC5lcnJvciA9IGVycjtcbiAgICB9XG59XG5leHBvcnRzLmNhcHR1cmVFcnJvciA9IGNhcHR1cmVFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yQ29udGV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhlY3V0ZVNjaGVkdWxlID0gdm9pZCAwO1xuZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0cy5leGVjdXRlU2NoZWR1bGUgPSBleGVjdXRlU2NoZWR1bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGVjdXRlU2NoZWR1bGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlkZW50aXR5ID0gdm9pZCAwO1xuZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuZXhwb3J0cy5pZGVudGl0eSA9IGlkZW50aXR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQXJyYXlMaWtlID0gdm9pZCAwO1xuZXhwb3J0cy5pc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0FzeW5jSXRlcmFibGUgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3IgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG5leHBvcnRzLmlzQXN5bmNJdGVyYWJsZSA9IGlzQXN5bmNJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNWYWxpZERhdGUgPSB2b2lkIDA7XG5mdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbHVlKTtcbn1cbmV4cG9ydHMuaXNWYWxpZERhdGUgPSBpc1ZhbGlkRGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IHZvaWQgMDtcbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzSW50ZXJvcE9ic2VydmFibGUgPSB2b2lkIDA7XG52YXIgb2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9vYnNlcnZhYmxlXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGlucHV0W29ic2VydmFibGVfMS5vYnNlcnZhYmxlXSk7XG59XG5leHBvcnRzLmlzSW50ZXJvcE9ic2VydmFibGUgPSBpc0ludGVyb3BPYnNlcnZhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNJdGVyYWJsZSA9IHZvaWQgMDtcbnZhciBpdGVyYXRvcl8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9pdGVyYXRvclwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXRbaXRlcmF0b3JfMS5pdGVyYXRvcl0pO1xufVxuZXhwb3J0cy5pc0l0ZXJhYmxlID0gaXNJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzUHJvbWlzZSA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50aGVuKTtcbn1cbmV4cG9ydHMuaXNQcm9taXNlID0gaXNQcm9taXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19hd2FpdCA9ICh0aGlzICYmIHRoaXMuX19hd2FpdCkgfHwgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7IH1cbnZhciBfX2FzeW5jR2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jR2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1JlYWRhYmxlU3RyZWFtTGlrZSA9IGV4cG9ydHMucmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcl8xKCkge1xuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQocmVhZGVyLnJlYWQoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHJldHVybiBbMywgNV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgX19hd2FpdCh2YWx1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciA9IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3I7XG5mdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG5leHBvcnRzLmlzUmVhZGFibGVTdHJlYW1MaWtlID0gaXNSZWFkYWJsZVN0cmVhbUxpa2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNTY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlLnNjaGVkdWxlKTtcbn1cbmV4cG9ydHMuaXNTY2hlZHVsZXIgPSBpc1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vcGVyYXRlID0gZXhwb3J0cy5oYXNMaWZ0ID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBoYXNMaWZ0KHNvdXJjZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UubGlmdCk7XG59XG5leHBvcnRzLmhhc0xpZnQgPSBoYXNMaWZ0O1xuZnVuY3Rpb24gb3BlcmF0ZShpbml0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uIChsaWZ0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICAgIH07XG59XG5leHBvcnRzLm9wZXJhdGUgPSBvcGVyYXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hcE9uZU9yTWFueUFyZ3MgPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL21hcFwiKTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5mdW5jdGlvbiBtYXBPbmVPck1hbnlBcmdzKGZuKSB7XG4gICAgcmV0dXJuIG1hcF8xLm1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gY2FsbE9yQXBwbHkoZm4sIGFyZ3MpOyB9KTtcbn1cbmV4cG9ydHMubWFwT25lT3JNYW55QXJncyA9IG1hcE9uZU9yTWFueUFyZ3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub29wID0gdm9pZCAwO1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuZXhwb3J0cy5ub29wID0gbm9vcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vb3AuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm5vdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIG5vdChwcmVkLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuICFwcmVkLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KTsgfTtcbn1cbmV4cG9ydHMubm90ID0gbm90O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm90LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5waXBlRnJvbUFycmF5ID0gZXhwb3J0cy5waXBlID0gdm9pZCAwO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0cy5waXBlID0gcGlwZTtcbmZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5XzEuaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbmV4cG9ydHMucGlwZUZyb21BcnJheSA9IHBpcGVGcm9tQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXBvcnRVbmhhbmRsZWRFcnJvciA9IHZvaWQgMDtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG52YXIgdGltZW91dFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlclwiKTtcbmZ1bmN0aW9uIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycikge1xuICAgIHRpbWVvdXRQcm92aWRlcl8xLnRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBjb25maWdfMS5jb25maWcub25VbmhhbmRsZWRFcnJvcjtcbiAgICAgICAgaWYgKG9uVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5yZXBvcnRVbmhhbmRsZWRFcnJvciA9IHJlcG9ydFVuaGFuZGxlZEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwb3J0VW5oYW5kbGVkRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yID0gdm9pZCAwO1xuZnVuY3Rpb24gY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIiArIChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgaW5wdXQgKyBcIidcIikgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLlwiKTtcbn1cbmV4cG9ydHMuY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgPSBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93VW5vYnNlcnZhYmxlRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlQWxsID0gZXhwb3J0cy5tZXJnZSA9IGV4cG9ydHMubWF4ID0gZXhwb3J0cy5tYXRlcmlhbGl6ZSA9IGV4cG9ydHMubWFwVG8gPSBleHBvcnRzLm1hcCA9IGV4cG9ydHMubGFzdCA9IGV4cG9ydHMuaXNFbXB0eSA9IGV4cG9ydHMuaWdub3JlRWxlbWVudHMgPSBleHBvcnRzLmdyb3VwQnkgPSBleHBvcnRzLmZpcnN0ID0gZXhwb3J0cy5maW5kSW5kZXggPSBleHBvcnRzLmZpbmQgPSBleHBvcnRzLmZpbmFsaXplID0gZXhwb3J0cy5maWx0ZXIgPSBleHBvcnRzLmV4cGFuZCA9IGV4cG9ydHMuZXhoYXVzdE1hcCA9IGV4cG9ydHMuZXhoYXVzdEFsbCA9IGV4cG9ydHMuZXhoYXVzdCA9IGV4cG9ydHMuZXZlcnkgPSBleHBvcnRzLmVuZFdpdGggPSBleHBvcnRzLmVsZW1lbnRBdCA9IGV4cG9ydHMuZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgPSBleHBvcnRzLmRpc3RpbmN0VW50aWxDaGFuZ2VkID0gZXhwb3J0cy5kaXN0aW5jdCA9IGV4cG9ydHMuZGVtYXRlcmlhbGl6ZSA9IGV4cG9ydHMuZGVsYXlXaGVuID0gZXhwb3J0cy5kZWxheSA9IGV4cG9ydHMuZGVmYXVsdElmRW1wdHkgPSBleHBvcnRzLmRlYm91bmNlVGltZSA9IGV4cG9ydHMuZGVib3VuY2UgPSBleHBvcnRzLmNvdW50ID0gZXhwb3J0cy5jb25uZWN0ID0gZXhwb3J0cy5jb25jYXRXaXRoID0gZXhwb3J0cy5jb25jYXRNYXBUbyA9IGV4cG9ydHMuY29uY2F0TWFwID0gZXhwb3J0cy5jb25jYXRBbGwgPSBleHBvcnRzLmNvbmNhdCA9IGV4cG9ydHMuY29tYmluZUxhdGVzdFdpdGggPSBleHBvcnRzLmNvbWJpbmVMYXRlc3QgPSBleHBvcnRzLmNvbWJpbmVMYXRlc3RBbGwgPSBleHBvcnRzLmNvbWJpbmVBbGwgPSBleHBvcnRzLmNhdGNoRXJyb3IgPSBleHBvcnRzLmJ1ZmZlcldoZW4gPSBleHBvcnRzLmJ1ZmZlclRvZ2dsZSA9IGV4cG9ydHMuYnVmZmVyVGltZSA9IGV4cG9ydHMuYnVmZmVyQ291bnQgPSBleHBvcnRzLmJ1ZmZlciA9IGV4cG9ydHMuYXVkaXRUaW1lID0gZXhwb3J0cy5hdWRpdCA9IHZvaWQgMDtcbmV4cG9ydHMudGltZUludGVydmFsID0gZXhwb3J0cy50aHJvd0lmRW1wdHkgPSBleHBvcnRzLnRocm90dGxlVGltZSA9IGV4cG9ydHMudGhyb3R0bGUgPSBleHBvcnRzLnRhcCA9IGV4cG9ydHMudGFrZVdoaWxlID0gZXhwb3J0cy50YWtlVW50aWwgPSBleHBvcnRzLnRha2VMYXN0ID0gZXhwb3J0cy50YWtlID0gZXhwb3J0cy5zd2l0Y2hTY2FuID0gZXhwb3J0cy5zd2l0Y2hNYXBUbyA9IGV4cG9ydHMuc3dpdGNoTWFwID0gZXhwb3J0cy5zd2l0Y2hBbGwgPSBleHBvcnRzLnN1YnNjcmliZU9uID0gZXhwb3J0cy5zdGFydFdpdGggPSBleHBvcnRzLnNraXBXaGlsZSA9IGV4cG9ydHMuc2tpcFVudGlsID0gZXhwb3J0cy5za2lwTGFzdCA9IGV4cG9ydHMuc2tpcCA9IGV4cG9ydHMuc2luZ2xlID0gZXhwb3J0cy5zaGFyZVJlcGxheSA9IGV4cG9ydHMuc2hhcmUgPSBleHBvcnRzLnNlcXVlbmNlRXF1YWwgPSBleHBvcnRzLnNjYW4gPSBleHBvcnRzLnNhbXBsZVRpbWUgPSBleHBvcnRzLnNhbXBsZSA9IGV4cG9ydHMucmVmQ291bnQgPSBleHBvcnRzLnJldHJ5V2hlbiA9IGV4cG9ydHMucmV0cnkgPSBleHBvcnRzLnJlcGVhdFdoZW4gPSBleHBvcnRzLnJlcGVhdCA9IGV4cG9ydHMucmVkdWNlID0gZXhwb3J0cy5yYWNlV2l0aCA9IGV4cG9ydHMucmFjZSA9IGV4cG9ydHMucHVibGlzaFJlcGxheSA9IGV4cG9ydHMucHVibGlzaExhc3QgPSBleHBvcnRzLnB1Ymxpc2hCZWhhdmlvciA9IGV4cG9ydHMucHVibGlzaCA9IGV4cG9ydHMucGx1Y2sgPSBleHBvcnRzLnBhcnRpdGlvbiA9IGV4cG9ydHMucGFpcndpc2UgPSBleHBvcnRzLm9uRXJyb3JSZXN1bWVOZXh0ID0gZXhwb3J0cy5vYnNlcnZlT24gPSBleHBvcnRzLm11bHRpY2FzdCA9IGV4cG9ydHMubWluID0gZXhwb3J0cy5tZXJnZVdpdGggPSBleHBvcnRzLm1lcmdlU2NhbiA9IGV4cG9ydHMubWVyZ2VNYXBUbyA9IGV4cG9ydHMubWVyZ2VNYXAgPSBleHBvcnRzLmZsYXRNYXAgPSB2b2lkIDA7XG5leHBvcnRzLnppcFdpdGggPSBleHBvcnRzLnppcEFsbCA9IGV4cG9ydHMuemlwID0gZXhwb3J0cy53aXRoTGF0ZXN0RnJvbSA9IGV4cG9ydHMud2luZG93V2hlbiA9IGV4cG9ydHMud2luZG93VG9nZ2xlID0gZXhwb3J0cy53aW5kb3dUaW1lID0gZXhwb3J0cy53aW5kb3dDb3VudCA9IGV4cG9ydHMud2luZG93ID0gZXhwb3J0cy50b0FycmF5ID0gZXhwb3J0cy50aW1lc3RhbXAgPSBleHBvcnRzLnRpbWVvdXRXaXRoID0gZXhwb3J0cy50aW1lb3V0ID0gdm9pZCAwO1xudmFyIGF1ZGl0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYXVkaXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1ZGl0XzEuYXVkaXQ7IH0gfSk7XG52YXIgYXVkaXRUaW1lXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0VGltZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImF1ZGl0VGltZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXVkaXRUaW1lXzEuYXVkaXRUaW1lOyB9IH0pO1xudmFyIGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlcjsgfSB9KTtcbnZhciBidWZmZXJDb3VudF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJ1ZmZlckNvdW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJDb3VudF8xLmJ1ZmZlckNvdW50OyB9IH0pO1xudmFyIGJ1ZmZlclRpbWVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVGltZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJ1ZmZlclRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlclRpbWVfMS5idWZmZXJUaW1lOyB9IH0pO1xudmFyIGJ1ZmZlclRvZ2dsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUb2dnbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJUb2dnbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlclRvZ2dsZV8xLmJ1ZmZlclRvZ2dsZTsgfSB9KTtcbnZhciBidWZmZXJXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcldoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJXaGVuXzEuYnVmZmVyV2hlbjsgfSB9KTtcbnZhciBjYXRjaEVycm9yXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjYXRjaEVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYXRjaEVycm9yXzEuY2F0Y2hFcnJvcjsgfSB9KTtcbnZhciBjb21iaW5lQWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lQWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lQWxsXzEuY29tYmluZUFsbDsgfSB9KTtcbnZhciBjb21iaW5lTGF0ZXN0QWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lTGF0ZXN0QWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lTGF0ZXN0QWxsXzEuY29tYmluZUxhdGVzdEFsbDsgfSB9KTtcbnZhciBjb21iaW5lTGF0ZXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lTGF0ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lTGF0ZXN0XzEuY29tYmluZUxhdGVzdDsgfSB9KTtcbnZhciBjb21iaW5lTGF0ZXN0V2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0V2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbWJpbmVMYXRlc3RXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lTGF0ZXN0V2l0aF8xLmNvbWJpbmVMYXRlc3RXaXRoOyB9IH0pO1xudmFyIGNvbmNhdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25jYXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmNhdF8xLmNvbmNhdDsgfSB9KTtcbnZhciBjb25jYXRBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0QWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25jYXRBbGxfMS5jb25jYXRBbGw7IH0gfSk7XG52YXIgY29uY2F0TWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmNhdE1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uY2F0TWFwXzEuY29uY2F0TWFwOyB9IH0pO1xudmFyIGNvbmNhdE1hcFRvXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcFRvXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0TWFwVG9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmNhdE1hcFRvXzEuY29uY2F0TWFwVG87IH0gfSk7XG52YXIgY29uY2F0V2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0V2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uY2F0V2l0aF8xLmNvbmNhdFdpdGg7IH0gfSk7XG52YXIgY29ubmVjdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25uZWN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29ubmVjdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdF8xLmNvbm5lY3Q7IH0gfSk7XG52YXIgY291bnRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY291bnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb3VudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY291bnRfMS5jb3VudDsgfSB9KTtcbnZhciBkZWJvdW5jZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlYm91bmNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWJvdW5jZV8xLmRlYm91bmNlOyB9IH0pO1xudmFyIGRlYm91bmNlVGltZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWJvdW5jZVRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlYm91bmNlVGltZV8xLmRlYm91bmNlVGltZTsgfSB9KTtcbnZhciBkZWZhdWx0SWZFbXB0eV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlZmF1bHRJZkVtcHR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWZhdWx0SWZFbXB0eV8xLmRlZmF1bHRJZkVtcHR5OyB9IH0pO1xudmFyIGRlbGF5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVsYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlbGF5XzEuZGVsYXk7IH0gfSk7XG52YXIgZGVsYXlXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlbGF5V2hlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVsYXlXaGVuXzEuZGVsYXlXaGVuOyB9IH0pO1xudmFyIGRlbWF0ZXJpYWxpemVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlbWF0ZXJpYWxpemVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlbWF0ZXJpYWxpemVfMS5kZW1hdGVyaWFsaXplOyB9IH0pO1xudmFyIGRpc3RpbmN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGlzdGluY3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRpc3RpbmN0XzEuZGlzdGluY3Q7IH0gfSk7XG52YXIgZGlzdGluY3RVbnRpbENoYW5nZWRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbENoYW5nZWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkaXN0aW5jdFVudGlsQ2hhbmdlZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzdGluY3RVbnRpbENoYW5nZWRfMS5kaXN0aW5jdFVudGlsQ2hhbmdlZDsgfSB9KTtcbnZhciBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZF8xLmRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkOyB9IH0pO1xudmFyIGVsZW1lbnRBdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9lbGVtZW50QXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbGVtZW50QXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVsZW1lbnRBdF8xLmVsZW1lbnRBdDsgfSB9KTtcbnZhciBlbmRXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2VuZFdpdGhcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbmRXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmRXaXRoXzEuZW5kV2l0aDsgfSB9KTtcbnZhciBldmVyeV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9ldmVyeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV2ZXJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBldmVyeV8xLmV2ZXJ5OyB9IH0pO1xudmFyIGV4aGF1c3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV4aGF1c3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4aGF1c3RfMS5leGhhdXN0OyB9IH0pO1xudmFyIGV4aGF1c3RBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdEFsbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV4aGF1c3RBbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4aGF1c3RBbGxfMS5leGhhdXN0QWxsOyB9IH0pO1xudmFyIGV4aGF1c3RNYXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV4aGF1c3RNYXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4aGF1c3RNYXBfMS5leGhhdXN0TWFwOyB9IH0pO1xudmFyIGV4cGFuZF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9leHBhbmRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleHBhbmRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4cGFuZF8xLmV4cGFuZDsgfSB9KTtcbnZhciBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmlsdGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXJfMS5maWx0ZXI7IH0gfSk7XG52YXIgZmluYWxpemVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaW5hbGl6ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmluYWxpemVfMS5maW5hbGl6ZTsgfSB9KTtcbnZhciBmaW5kXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaW5kXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaW5kXzEuZmluZDsgfSB9KTtcbnZhciBmaW5kSW5kZXhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmluZEluZGV4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmluZEluZGV4XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaW5kSW5kZXhfMS5maW5kSW5kZXg7IH0gfSk7XG52YXIgZmlyc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmlyc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaXJzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlyc3RfMS5maXJzdDsgfSB9KTtcbnZhciBncm91cEJ5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJncm91cEJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBncm91cEJ5XzEuZ3JvdXBCeTsgfSB9KTtcbnZhciBpZ25vcmVFbGVtZW50c18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50c1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlnbm9yZUVsZW1lbnRzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpZ25vcmVFbGVtZW50c18xLmlnbm9yZUVsZW1lbnRzOyB9IH0pO1xudmFyIGlzRW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzRW1wdHlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRW1wdHlfMS5pc0VtcHR5OyB9IH0pO1xudmFyIGxhc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImxhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhc3RfMS5sYXN0OyB9IH0pO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hcF8xLm1hcDsgfSB9KTtcbnZhciBtYXBUb18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tYXBUb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1hcFRvXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXBUb18xLm1hcFRvOyB9IH0pO1xudmFyIG1hdGVyaWFsaXplXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21hdGVyaWFsaXplXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWF0ZXJpYWxpemVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGVyaWFsaXplXzEubWF0ZXJpYWxpemU7IH0gfSk7XG52YXIgbWF4XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21heFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1heFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF4XzEubWF4OyB9IH0pO1xudmFyIG1lcmdlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWVyZ2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlXzEubWVyZ2U7IH0gfSk7XG52YXIgbWVyZ2VBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtZXJnZUFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVyZ2VBbGxfMS5tZXJnZUFsbDsgfSB9KTtcbnZhciBmbGF0TWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZsYXRNYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmbGF0TWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmbGF0TWFwXzEuZmxhdE1hcDsgfSB9KTtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1lcmdlTWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwOyB9IH0pO1xudmFyIG1lcmdlTWFwVG9fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1lcmdlTWFwVG9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlTWFwVG9fMS5tZXJnZU1hcFRvOyB9IH0pO1xudmFyIG1lcmdlU2Nhbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVNjYW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtZXJnZVNjYW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlU2Nhbl8xLm1lcmdlU2NhbjsgfSB9KTtcbnZhciBtZXJnZVdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWVyZ2VXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZVdpdGhfMS5tZXJnZVdpdGg7IH0gfSk7XG52YXIgbWluXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21pblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1pblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWluXzEubWluOyB9IH0pO1xudmFyIG11bHRpY2FzdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tdWx0aWNhc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtdWx0aWNhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG11bHRpY2FzdF8xLm11bHRpY2FzdDsgfSB9KTtcbnZhciBvYnNlcnZlT25fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwib2JzZXJ2ZU9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYnNlcnZlT25fMS5vYnNlcnZlT247IH0gfSk7XG52YXIgb25FcnJvclJlc3VtZU5leHRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvb25FcnJvclJlc3VtZU5leHRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJvbkVycm9yUmVzdW1lTmV4dFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb25FcnJvclJlc3VtZU5leHRfMS5vbkVycm9yUmVzdW1lTmV4dDsgfSB9KTtcbnZhciBwYWlyd2lzZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wYWlyd2lzZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhaXJ3aXNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwYWlyd2lzZV8xLnBhaXJ3aXNlOyB9IH0pO1xudmFyIHBhcnRpdGlvbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wYXJ0aXRpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwYXJ0aXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhcnRpdGlvbl8xLnBhcnRpdGlvbjsgfSB9KTtcbnZhciBwbHVja18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wbHVja1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBsdWNrXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwbHVja18xLnBsdWNrOyB9IH0pO1xudmFyIHB1Ymxpc2hfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInB1Ymxpc2hcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hfMS5wdWJsaXNoOyB9IH0pO1xudmFyIHB1Ymxpc2hCZWhhdmlvcl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoQmVoYXZpb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwdWJsaXNoQmVoYXZpb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hCZWhhdmlvcl8xLnB1Ymxpc2hCZWhhdmlvcjsgfSB9KTtcbnZhciBwdWJsaXNoTGFzdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoTGFzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInB1Ymxpc2hMYXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwdWJsaXNoTGFzdF8xLnB1Ymxpc2hMYXN0OyB9IH0pO1xudmFyIHB1Ymxpc2hSZXBsYXlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFJlcGxheVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInB1Ymxpc2hSZXBsYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hSZXBsYXlfMS5wdWJsaXNoUmVwbGF5OyB9IH0pO1xudmFyIHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmFjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJhY2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJhY2VfMS5yYWNlOyB9IH0pO1xudmFyIHJhY2VXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2VXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmFjZVdpdGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJhY2VXaXRoXzEucmFjZVdpdGg7IH0gfSk7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlZHVjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZHVjZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVkdWNlXzEucmVkdWNlOyB9IH0pO1xudmFyIHJlcGVhdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXBlYXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlcGVhdF8xLnJlcGVhdDsgfSB9KTtcbnZhciByZXBlYXRXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXBlYXRXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXBlYXRXaGVuXzEucmVwZWF0V2hlbjsgfSB9KTtcbnZhciByZXRyeV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJldHJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXRyeV8xLnJldHJ5OyB9IH0pO1xudmFyIHJldHJ5V2hlbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVdoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXRyeVdoZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJldHJ5V2hlbl8xLnJldHJ5V2hlbjsgfSB9KTtcbnZhciByZWZDb3VudF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZkNvdW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZWZDb3VudF8xLnJlZkNvdW50OyB9IH0pO1xudmFyIHNhbXBsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzYW1wbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNhbXBsZV8xLnNhbXBsZTsgfSB9KTtcbnZhciBzYW1wbGVUaW1lXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZVRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzYW1wbGVUaW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzYW1wbGVUaW1lXzEuc2FtcGxlVGltZTsgfSB9KTtcbnZhciBzY2FuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzY2FuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FuXzEuc2NhbjsgfSB9KTtcbnZhciBzZXF1ZW5jZUVxdWFsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NlcXVlbmNlRXF1YWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzZXF1ZW5jZUVxdWFsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXF1ZW5jZUVxdWFsXzEuc2VxdWVuY2VFcXVhbDsgfSB9KTtcbnZhciBzaGFyZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNoYXJlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzaGFyZV8xLnNoYXJlOyB9IH0pO1xudmFyIHNoYXJlUmVwbGF5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2hhcmVSZXBsYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlUmVwbGF5XzEuc2hhcmVSZXBsYXk7IH0gfSk7XG52YXIgc2luZ2xlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNpbmdsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2luZ2xlXzEuc2luZ2xlOyB9IH0pO1xudmFyIHNraXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNraXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBfMS5za2lwOyB9IH0pO1xudmFyIHNraXBMYXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2tpcExhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBMYXN0XzEuc2tpcExhc3Q7IH0gfSk7XG52YXIgc2tpcFVudGlsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNraXBVbnRpbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2tpcFVudGlsXzEuc2tpcFVudGlsOyB9IH0pO1xudmFyIHNraXBXaGlsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwV2hpbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJza2lwV2hpbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBXaGlsZV8xLnNraXBXaGlsZTsgfSB9KTtcbnZhciBzdGFydFdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RhcnRXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGFydFdpdGhfMS5zdGFydFdpdGg7IH0gfSk7XG52YXIgc3Vic2NyaWJlT25fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3Vic2NyaWJlT25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdWJzY3JpYmVPblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlT25fMS5zdWJzY3JpYmVPbjsgfSB9KTtcbnZhciBzd2l0Y2hBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoQWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3dpdGNoQWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzd2l0Y2hBbGxfMS5zd2l0Y2hBbGw7IH0gfSk7XG52YXIgc3dpdGNoTWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN3aXRjaE1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3dpdGNoTWFwXzEuc3dpdGNoTWFwOyB9IH0pO1xudmFyIHN3aXRjaE1hcFRvXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFRvXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3dpdGNoTWFwVG9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN3aXRjaE1hcFRvXzEuc3dpdGNoTWFwVG87IH0gfSk7XG52YXIgc3dpdGNoU2Nhbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hTY2FuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3dpdGNoU2NhblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3dpdGNoU2Nhbl8xLnN3aXRjaFNjYW47IH0gfSk7XG52YXIgdGFrZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90YWtlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGFrZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZV8xLnRha2U7IH0gfSk7XG52YXIgdGFrZUxhc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZUxhc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0YWtlTGFzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZUxhc3RfMS50YWtlTGFzdDsgfSB9KTtcbnZhciB0YWtlVW50aWxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVVudGlsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGFrZVVudGlsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0YWtlVW50aWxfMS50YWtlVW50aWw7IH0gfSk7XG52YXIgdGFrZVdoaWxlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRha2VXaGlsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZVdoaWxlXzEudGFrZVdoaWxlOyB9IH0pO1xudmFyIHRhcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90YXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0YXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRhcF8xLnRhcDsgfSB9KTtcbnZhciB0aHJvdHRsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRocm90dGxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aHJvdHRsZV8xLnRocm90dGxlOyB9IH0pO1xudmFyIHRocm90dGxlVGltZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0aHJvdHRsZVRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRocm90dGxlVGltZV8xLnRocm90dGxlVGltZTsgfSB9KTtcbnZhciB0aHJvd0lmRW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGhyb3dJZkVtcHR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aHJvd0lmRW1wdHlfMS50aHJvd0lmRW1wdHk7IH0gfSk7XG52YXIgdGltZUludGVydmFsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVJbnRlcnZhbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGltZUludGVydmFsXzEudGltZUludGVydmFsOyB9IH0pO1xudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVvdXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVvdXRfMS50aW1lb3V0OyB9IH0pO1xudmFyIHRpbWVvdXRXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGltZW91dFdpdGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVvdXRXaXRoXzEudGltZW91dFdpdGg7IH0gfSk7XG52YXIgdGltZXN0YW1wXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVzdGFtcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVzdGFtcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGltZXN0YW1wXzEudGltZXN0YW1wOyB9IH0pO1xudmFyIHRvQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdG9BcnJheVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvQXJyYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvQXJyYXlfMS50b0FycmF5OyB9IH0pO1xudmFyIHdpbmRvd18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvd18xLndpbmRvdzsgfSB9KTtcbnZhciB3aW5kb3dDb3VudF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dDb3VudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpbmRvd0NvdW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dDb3VudF8xLndpbmRvd0NvdW50OyB9IH0pO1xudmFyIHdpbmRvd1RpbWVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VGltZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpbmRvd1RpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvd1RpbWVfMS53aW5kb3dUaW1lOyB9IH0pO1xudmFyIHdpbmRvd1RvZ2dsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dUb2dnbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dUb2dnbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvd1RvZ2dsZV8xLndpbmRvd1RvZ2dsZTsgfSB9KTtcbnZhciB3aW5kb3dXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1doZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dXaGVuXzEud2luZG93V2hlbjsgfSB9KTtcbnZhciB3aXRoTGF0ZXN0RnJvbV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aXRoTGF0ZXN0RnJvbVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpdGhMYXRlc3RGcm9tXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aXRoTGF0ZXN0RnJvbV8xLndpdGhMYXRlc3RGcm9tOyB9IH0pO1xudmFyIHppcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy96aXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ6aXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHppcF8xLnppcDsgfSB9KTtcbnZhciB6aXBBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwQWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiemlwQWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB6aXBBbGxfMS56aXBBbGw7IH0gfSk7XG52YXIgemlwV2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy96aXBXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiemlwV2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gemlwV2l0aF8xLnppcFdpdGg7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgZW51bSBFQ2xhaW1UeXBlIHtcbiAgICBTSUdORURfQ09OVEVOVCA9IDEwMDAsXG4gICAgQ09NUEFOWV9JTkZPID0gMjAwMCxcbiAgICBWQUxJREFUT1JTID0gMjAwMSxcbiAgICBVU0VSUyA9IDIwMDJcbn0iLCJleHBvcnQgZW51bSBFRElEQWNjZXNzTGV2ZWwge1xuICAgIE5PTkU9IFwiMFwiLFxuICAgIE1BTkFHRU1FTlRfS0VZPSBcIjFcIixcbiAgICBBQ1RJT05fS0VZID0gXCIyXCIsXG4gICAgQ0xBSU1fU0lHTkVSX0tFWSA9IFwiM1wiLFxuICAgIEVOQ1JZUFRJT05fS0VZID0gXCI0XCJcbn0iLCJleHBvcnQgZW51bSBFTWltZVR5cGUge1xuICAgIEFBQyA9IFwiYXVkaW8vYWFjXCIsXG4gICAgQUJXID0gXCJhcHBsaWNhdGlvbi94LWFiaXdvcmRcIixcbiAgICBBUkMgPSBcImFwcGxpY2F0aW9uL3gtZnJlZWFyY1wiLFxuICAgIEFWSSA9IFwidmlkZW8veC1tc3ZpZGVvXCIsXG4gICAgQVpXID0gXCJhcHBsaWNhdGlvbi92bmQuYW1hem9uLmVib29rXCIsXG4gICAgQklOID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcbiAgICBCTVAgPSBcImltYWdlL2JtcFwiLFxuICAgIEJaID0gXCJhcHBsaWNhdGlvbi94LWJ6aXBcIixcbiAgICBCWjIgPSBcImFwcGxpY2F0aW9uL3gtYnppcDJcIixcbiAgICBDU0ggPSBcImFwcGxpY2F0aW9uL3gtY3NoXCIsXG4gICAgQ1NTID0gXCJ0ZXh0L2Nzc1wiLFxuICAgIENTViA9IFwidGV4dC9jc3ZcIixcbiAgICBET0MgPSBcImFwcGxpY2F0aW9uL21zd29yZFwiLFxuICAgIERPQ1ggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsXG4gICAgRU9UID0gXCJhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdFwiLFxuICAgIEVQVUIgPSBcImFwcGxpY2F0aW9uL2VwdWIremlwXCIsXG4gICAgR1ogPSBcImFwcGxpY2F0aW9uL2d6aXBcIixcbiAgICBHSUYgPSBcImltYWdlL2dpZlwiLFxuICAgIEhUTSA9IFwidGV4dC9odG1sXCIsXG4gICAgSFRNTCA9IFwidGV4dC9odG1sXCIsXG4gICAgSUNPID0gXCJpbWFnZS92bmQubWljcm9zb2Z0Lmljb25cIixcbiAgICBJQ1MgPSBcInRleHQvY2FsZW5kYXJcIixcbiAgICBKQVIgPSBcImFwcGxpY2F0aW9uL2phdmEtYXJjaGl2ZVwiLFxuICAgIEpQRUcgPSBcIi5qcGdcIixcbiAgICBKUyA9IFwidGV4dC9qYXZhc2NyaXB0XCIsXG4gICAgSlNPTiA9IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIEpTT05MRCA9IFwiYXBwbGljYXRpb24vbGQranNvblwiLFxuICAgIE1JRCA9IFwiLm1pZGlcIixcbiAgICBNSlMgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIE1QMyA9IFwiYXVkaW8vbXBlZ1wiLFxuICAgIE1QRUcgPSBcInZpZGVvL21wZWdcIixcbiAgICBNUEtHID0gXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUuaW5zdGFsbGVyK3htbFwiLFxuICAgIE9EUCA9IFwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb25cIixcbiAgICBPRFMgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXRcIixcbiAgICBPRFQgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dFwiLFxuICAgIE9HQSA9IFwiYXVkaW8vb2dnXCIsXG4gICAgT0dWID0gXCJ2aWRlby9vZ2dcIixcbiAgICBPR1ggPSBcImFwcGxpY2F0aW9uL29nZ1wiLFxuICAgIE9QVVMgPSBcImF1ZGlvL29wdXNcIixcbiAgICBPVEYgPSBcImZvbnQvb3RmXCIsXG4gICAgUE5HID0gXCJpbWFnZS9wbmdcIixcbiAgICBQREYgPSBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgIFBIUCA9IFwiYXBwbGljYXRpb24vcGhwXCIsXG4gICAgUFBUID0gXCJhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludFwiLFxuICAgIFBQVFggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb25cIixcbiAgICBSQVIgPSBcImFwcGxpY2F0aW9uL3ZuZC5yYXJcIixcbiAgICBSVEYgPSBcImFwcGxpY2F0aW9uL3J0ZlwiLFxuICAgIFNIID0gXCJhcHBsaWNhdGlvbi94LXNoXCIsXG4gICAgU1ZHID0gXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgU1dGID0gXCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiLFxuICAgIFRBUiA9IFwiYXBwbGljYXRpb24veC10YXJcIixcbiAgICBUSUYgPSBcImltYWdlL3RpZmZcIixcbiAgICBUSUZGID0gXCJpbWFnZS90aWZmXCIsXG4gICAgVFMgPSBcInZpZGVvL21wMnRcIixcbiAgICBUVEYgPSBcImZvbnQvdHRmXCIsXG4gICAgVFhUID0gXCJ0ZXh0L3BsYWluXCIsXG4gICAgVVJJID0gXCJ0ZXh0L3gtdXJpXCIsXG4gICAgVlNEID0gXCJhcHBsaWNhdGlvbi92bmQudmlzaW9cIixcbiAgICBXQVYgPSBcImF1ZGlvL3dhdlwiLFxuICAgIFdFQkEgPSBcImF1ZGlvL3dlYm1cIixcbiAgICBXRUJNID0gXCJ2aWRlby93ZWJtXCIsXG4gICAgV0VCUCA9IFwiaW1hZ2Uvd2VicFwiLFxuICAgIFdPRkYgPSBcImZvbnQvd29mZlwiLFxuICAgIFdPRkYyID0gXCJmb250L3dvZmYyXCIsXG4gICAgWEhUTUwgPSBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFxuICAgIFhMUyA9IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCIsXG4gICAgWExTWCA9IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRcIixcbiAgICBYTUwgPSBcIlhNTFwiLFxuICAgIFhVTCA9IFwiYXBwbGljYXRpb24vdm5kLm1vemlsbGEueHVsK3htbFwiLFxuICAgIFpJUCA9IFwiYXBwbGljYXRpb24vemlwXCIsXG4gICAgR1AzID0gXCJ2aWRlby8zZ3BwXCIsXG4gICAgRzIzID0gXCJ2aWRlby8zZ3BwMlwiLFxuICAgIFo3ID0gXCJhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWRcIlxufSIsImV4cG9ydCBlbnVtIEVQcm9vZm1lRGF0YVB1cnBvc2Uge1xuICAgIEFHRV9WRVJJRklDQVRJT04gPSBcIkFHRV9WRVJJRklDQVRJT05cIixcbiAgICBLWUNfVkVSSUZJQ0FUSU9OID0gXCJLWUNfVkVSSUZJQ0FUSU9OXCIsXG4gICAgQUNDRVNTX0NPTlRST0wgPSBcIkFDQ0VTU19DT05UUk9MXCIsXG4gICAgT05MSU5FX1ZFUklGSUNBVElPTiA9IFwiT05MSU5FX1ZFUklGSUNBVElPTlwiLFxuICAgIElERU5USUZJQ0FUSU9OID0gXCJJREVOVElGSUNBVElPTlwiXG59IiwiZXhwb3J0IGVudW0gRVByb29mbWVEYXRhU3RvcmFnZSB7XG4gICAgREFUQUJBU0UgPSBcIkRBVEFCQVNFXCIsXG4gICAgQ0VSVElGSUNBVEUgPSBcIkNFUlRJRklDQVRFXCIsXG4gICAgTk9UX1NUT1JFRCA9IFwiTk9UX1NUT1JFRFwiXG59IiwiZXhwb3J0IGVudW0gRVNpZ25hdHVyZVR5cGVzIHtcbiAgICBFQ0RTQSA9IFwiRUNEU0FcIixcbiAgICBSU0EgPSBcIlJTQVwiLFxuICAgIEhNQUMgPSBcIkhNQUNcIlxufSIsImltcG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EZXRhaWxzXCI7XG5pbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcblxuLyoqXG4gKiBDaGVjayBpZiBhIGNoYW5uZWxJZCBpcyB2YWxpZCBhbmQgZXhpc3RzXG4gKiBAcGFyYW0gY2hhbm5lbElkXG4gKiBAcGFyYW0gY29ubmVjdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkQ2hhbm5lbElkKGNoYW5uZWxJZDogc3RyaW5nLCBjb25uZWN0aW9uczogSUNvbm5lY3Rpb25EZXRhaWxzW10pOiBib29sZWFuIHtcbiAgICAvLyBDaGVjayBpZiBjaGFubmVsSWQgaXMgcHJlc2VudCBpbiBjb25uZWN0aW9uc1xuICAgIC8vIENoZWNrIGlmIGNoYW5uZWxJZCBpcyBub3QgYWxyZWFkeSBjb25uZWN0ZWRcbiAgICBjb25zdCBob3N0cyA9IGNvbm5lY3Rpb25zLmZpbHRlcigoY2xpZW50OiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC51dWlkID09PSBjaGFubmVsSWQgJiYgY2xpZW50LmNoYW5uZWwgPT09IG51bGwgJiYgY2xpZW50Lmhvc3QgPT09IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaG9zdHMubGVuZ3RoID09PSAxO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBSVEMgcGVlcmNvbm5lY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJUQ0Nvbm5lY3Rpb25Db25maWcodHlwZTogc3RyaW5nLCB0dXJuRXhwaXJhdGlvbjogbnVtYmVyLCB0dXJuU2VjcmV0OiBzdHJpbmcsIHR1cm5Vcmw6IHN0cmluZyB8IHN0cmluZ1tdKTogUlRDQ29uZmlndXJhdGlvbiB7XG4gICAgY29uc3QgdGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgIGNvbnN0IHVzZXJuYW1lID0gYCR7dGltZSArIHR1cm5FeHBpcmF0aW9ufToke3R5cGV9YDtcbiAgICBjb25zdCBjcmVkZW50aWFsID0gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGExXCIsIHR1cm5TZWNyZXQpLnVwZGF0ZSh1c2VybmFtZS50b1N0cmluZygpKS5kaWdlc3QoXCJiYXNlNjRcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWNlQ2FuZGlkYXRlUG9vbFNpemU6IDUsXG4gICAgICAgIGljZVNlcnZlcnM6IFt7XG4gICAgICAgICAgICB1cmxzOiB0dXJuVXJsLFxuICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICB9XSxcbiAgICB9IGFzIFJUQ0NvbmZpZ3VyYXRpb247XG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IElWYWxpZGF0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvdmFsaWRhdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbE9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHRcIjtcbmltcG9ydCB7IFByb29mbWVVdGlscyB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHNcIjtcbmltcG9ydCB7IElDaGFsbGVuZ2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoYWxsZW5nZS5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IEVDbGFpbVR5cGUgfSBmcm9tIFwiLi9lbnVtcy9jbGFpbVR5cGVzLmVudW1cIjtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFByb29mbWVVdGlsc1Byb3ZpZGVyIHtcblxuICAgIHByb29mbWVVdGlscyA9IG5ldyBQcm9vZm1lVXRpbHMoKTtcblxuXHRhc3luYyBpc1ZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmw6IHN0cmluZywgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgdHJ1c3RlZERpZHM6IHN0cmluZ1tdLCBjaGVja1VzZXJOb25jZTogYm9vbGVhbiwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkPzogYm9vbGVhbik6IFByb21pc2U8SVZhbGlkYXRlZENyZWRlbnRpYWxzIHwgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQ+ICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5pc1ZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdCwgd2ViM1VybCwgcmVxdWVzdGVkQ3JlZGVudGlhbHMsIHRydXN0ZWREaWRzLCBjaGVja1VzZXJOb25jZSwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkKTtcbiAgICB9XG5cbiAgICBnZXRTaWduYXR1cmUobWVzc2FnZTogYW55LCBwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdldFNpZ25hdHVyZShtZXNzYWdlLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbE9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5zaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgZGlkOiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyAge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9vZm1lVXRpbHMuc2lnblJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzLCBkaWQsIHByaXZhdGVLZXkpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzVmFsaWRSZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltaG9sZGVyQWJpOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+ICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5pc1ZhbGlkUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmwsIGNsYWltaG9sZGVyQWJpKTtcbiAgICB9XG5cbiAgICBhc3luYyBpc1ZhbGlkTGljZW5zZShyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltSG9sZGVyQWJpOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+ICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5pc1ZhbGlkTGljZW5zZShyZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlQ2hhbGxlbmdlKHB1YmxpY0tleTogc3RyaW5nLCBkaWQ6IHN0cmluZywgaG9zdDogc3RyaW5nLCBwcml2YXRlS2V5OiBzdHJpbmcpOiBJQ2hhbGxlbmdlICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5nZW5lcmF0ZUNoYWxsZW5nZShwdWJsaWNLZXksIGRpZCwgaG9zdCwgcHJpdmF0ZUtleSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q2xhaW0oY2xhaW1UeXBlOiBFQ2xhaW1UeXBlLCBjb250cmFjdEFkZHJlc3M6IHN0cmluZywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55KTogUHJvbWlzZTxhbnk+ICB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb29mbWVVdGlscy5nZXRDbGFpbShjbGFpbVR5cGUsIGNvbnRyYWN0QWRkcmVzcywgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgIH1cbn0iLCJpbXBvcnQgV2ViMyBmcm9tIFwid2ViM1wiO1xuaW1wb3J0IHsgRUNsYWltVHlwZSB9IGZyb20gXCIuL2VudW1zL2NsYWltVHlwZXMuZW51bVwiO1xuaW1wb3J0IHsgRURJREFjY2Vzc0xldmVsIH0gZnJvbSBcIi4vZW51bXMvZGlkQWNjZXNzTGV2ZWwuZW51bVwiO1xuaW1wb3J0IHsgRVNpZ25hdHVyZVR5cGVzIH0gZnJvbSBcIi4vZW51bXMvc2lnbmF0dXJlVHlwZXMuZW51bVwiO1xuaW1wb3J0IHsgSUFkZGl0aW9uYWxJbmZvIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9hZGRpdGlvbmFsLWluZm8uaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ2hhbGxlbmdlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jaGFsbGVuZ2UuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ2hlY2tlZERpZCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2hlY2tlZERpZC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElTaWduZWRDb250ZW50IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jbGFpbXMvc2lnbmVkQ29udGVudC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDb21wYW55SW5mbyB9IGZyb20gXCIuL2ludGVyZmFjZXMvY29tcGFueUluZm8uaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDcmVkZW50aWFsT2JqZWN0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jcmVkZW50aWFsc09iamVjdC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElQcm9vZiB9IGZyb20gXCIuL2ludGVyZmFjZXMvcHJvb2YuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbEtleSB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbEtleS5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuaW1wb3J0IHsgSVZhbGlkYXRlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy92YWxpZGF0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IGNsYWltSG9sZGVyQWJpIH0gZnJvbSBcIi4vc21hcnRjb250cmFjdHMvY2xhaW1Ib2xkZXJBYmlcIjtcblxuZXhwb3J0IGNsYXNzIFByb29mbWVVdGlscyB7XG5cbiAgICBleGNsdWRlZENyZWRlbnRpYWxLZXlzID0gW1wiT1dOXCIsIFwiQURESVRJT05BTF9JTkZPXCIsIFwiU0lHTkFUVVJFXCJdO1xuXG4gICAgYXN5bmMgaXNWYWxpZENyZWRlbnRpYWxzKFxuICAgICAgICBjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCxcbiAgICAgICAgd2ViM1VybDogc3RyaW5nLFxuICAgICAgICByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLFxuICAgICAgICB0cnVzdGVkRGlkczogc3RyaW5nW10sXG4gICAgICAgIGNoZWNrVXNlck5vbmNlOiBib29sZWFuLFxuICAgICAgICBsaXZlbmVzc0NoZWNrUmVxdWlyZWQ/OiBib29sZWFuXG4gICAgKTogUHJvbWlzZTxJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfCBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdD4ge1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXF1ZXN0ZWRDaGVja1Jlc3VsdCA9IHRoaXMucmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0KGNyZWRlbnRpYWxPYmplY3QsIHJlcXVlc3RlZENyZWRlbnRpYWxzKTtcbiAgICAgICAgaWYgKCFyZXF1ZXN0ZWRDaGVja1Jlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXF1ZXN0ZWRDaGVja1Jlc3VsdC5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxPYmplY3Q7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ2hlY2tSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jaGVja0NyZWRlbnRpYWxzKGNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmwsIGNoZWNrVXNlck5vbmNlLCBsaXZlbmVzc0NoZWNrUmVxdWlyZWQpO1xuICAgICAgICAvLyBJZiB0aGUgXCJub3JtYWxcIiBjaGVjayB3YXMgbm90IHZhbGlkLCBkb24ndCBjaGVjayB0aGUgdHJ1c3RlZCBwYXJ0aWVzIGJ1dCByZXR1cm4gdGhlIHJlc3VsdFxuICAgICAgICBpZiAoIXJlc3VsdC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdHJ1c3RlZCBhZGRyZXNzZXMgYXJlIGFkZHJlc3Nlc1xuICAgICAgICBmb3IgKGNvbnN0IGRpZCBvZiB0cnVzdGVkRGlkcykge1xuICAgICAgICAgICAgaWYgKCF3ZWIzLnV0aWxzLmlzQWRkcmVzcyhkaWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVHJ1c3RlZCBwYXJ0eSBkaWQgJHtkaWR9IGlzIE5PVCBhIHZhbGlkIGFkZHJlc3MgYW5kIGlzIHJlbW92ZWQuYCk7XG4gICAgICAgICAgICAgICAgdHJ1c3RlZERpZHMgPSB0cnVzdGVkRGlkcy5maWx0ZXIoeCA9PiB4ICE9PSBkaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0cnVzdGVkRGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2VkRGlkID0gW107XG4gICAgICAgICAgICBsZXQgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9IDA7XG4gICAgICAgICAgICBsZXQgY3JlZGVudGlhbHNBbW91bnQgPSAwO1xuICAgICAgICAgICAgY29uc3QgaW52YWxpZENyZWRlbnRpYWxzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtwcm92aWRlcixdIG9mIE9iamVjdC5lbnRyaWVzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2hlY2sgb3duIHByb3ZpZGVkIGNyZWRlbnRpYWxzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXhjbHVkZWRDcmVkZW50aWFsS2V5cy5pbmNsdWRlcyhwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2N1cnJlbnRDcmVkZW50aWFsS2V5LCBjcmVkZW50aWFsXSBvZiBPYmplY3QuZW50cmllcyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHNBbW91bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID0gKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmlzc3Vlci5pZC5zcGxpdChcIjpcIilbMl07XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnZhbGlkS2V5UHJvdmlkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm9UcnVzdGVkQ2xhaW1Gb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGlkIG9mIHRydXN0ZWREaWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZEVudHJ5ID0gY2hlY2tlZERpZC5maW5kKHggPT4geC5pc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MgPT09IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyAmJiB4LmRpZCA9PT0gZGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbGFpbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltID0gZm91bmRFbnRyeS5jbGFpbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW0gPSBhd2FpdCB0aGlzLmdldENsYWltcyhpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MsIGRpZCwgd2ViMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzLCBkaWQsIGNsYWltIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1RydXN0ZWRDbGFpbUZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xhaW1FeHBpcmF0aW9uRGF0ZSA9IG5ldyBEYXRlKGNsYWltLmV4cGlyYXRpb25EYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhaW1FeHBpcmF0aW9uRGF0ZSA+IG5ldyBEYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXMgPSBjbGFpbS5rZXlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkS2V5UHJvdmlkZXJBbGxvd2VkS2V5cyA9IGNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlckNyZWRlbnRpYWxLZXkgPSBgJHsoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkucHJvdmlkZXJ9XyR7Y3VycmVudENyZWRlbnRpYWxLZXl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbGFpbUFsbG93ZWRDcmVkZW50aWFsS2V5cy5pbmNsdWRlcyhwcm92aWRlckNyZWRlbnRpYWxLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkS2V5UHJvdmlkZXIgPSBwcm92aWRlckNyZWRlbnRpYWxLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWludmFsaWRLZXlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAxNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2xhaW0gZXhwaXJlZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vVHJ1c3RlZENsYWltRm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTm8gY2xhaW1zIGZvdW5kIHRvIGNoZWNrLiBDaGVja2VkIGRpZHMgJHt0cnVzdGVkRGlkc31gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnZhbGlkS2V5UHJvdmlkZXIgJiYgIWZvdW5kVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVHJpZWQgdG8gdmFsaWRhdGUgYXR0cmlidXRlICR7aW52YWxpZEtleVByb3ZpZGVyfSBidXQgcHJvdmlkZXIgd2FzIG5vdCBhbGxvd2VkIHRvIGlzc3VlLiBBbGxvd2VkIGF0dHJpYnV0ZXM6ICR7aW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMuam9pbihcIiwgXCIpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9PT0gY3JlZGVudGlhbHNBbW91bnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscyBhcyBhbnksXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlZhbGlkIGNyZWRlbnRpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkQ2hlY2tSZXN1bHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxzXCIsXG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFsc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDEwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTm8gdHJ1c3RlZCBwYXJ0aWVzIHRvIGNoZWNrLlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFzeW5jIGNoZWNrQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmw6IHN0cmluZywgY2hlY2tVc2VyTm9uY2U6IGJvb2xlYW4sIGxpdmVuZXNzQ2hlY2tSZXF1aXJlZD86IGJvb2xlYW4pOiBQcm9taXNlPElWYWxpZGF0ZWRDcmVkZW50aWFscz4ge1xuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIHN0cmluZ2lmaWVkXG4gICAgICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbE9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY3JlZGVudGlhbE9iamVjdCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlZGVudGlhbE9iamVjdCA9IHRoaXMucmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgICAgIGNvbnN0IHdlYjNOb2RlID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgIGNvbnN0IGNoZWNrZWREaWQ6IElDaGVja2VkRGlkW10gPSBbXTtcbiAgICAgICAgbGV0IHZhbGlkQ3JlZGVudGlhbHNBbW91bnQgPSAwO1xuICAgICAgICBsZXQgY3JlZGVudGlhbHNBbW91bnQgPSAwO1xuICAgICAgICBjb25zdCBpbnZhbGlkQ3JlZGVudGlhbHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbcHJvdmlkZXIsXSBvZiBPYmplY3QuZW50cmllcyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2hlY2sgT1dOIHByb3ZpZGVyc1xuICAgICAgICAgICAgaWYgKHRoaXMuZXhjbHVkZWRDcmVkZW50aWFsS2V5cy5pbmNsdWRlcyhwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSB1c2VyIGNyZWRlbnRpYWxzIChmb3IgZWFjaCBwcm92aWRlcik6IFJlY29uc3RydWN0IGl0IHNvIHdlIG9ubHkgaGF2ZSB0aGUgY3JlZGVudGlhbE9iamVjdCBvZiBcbiAgICAgICAgICAgIC8vIHRoYXQgc3BlY2lmaWMgcHJvdmlkZXIgKHdoaWNoIHdlIGdlbmVyYXRlZCB0aGUgc2lnbmF0dXJlIG92ZXIpXG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlOiBJQ3JlZGVudGlhbE9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICAgICAgICAgICAgICBbcHJvdmlkZXJdOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgY3JlZGVudGlhbE9iamVjdFdpdGhvdXRQcm9vZlNpZ25hdHVyZS5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yuc2lnbmF0dXJlO1xuICAgICAgICAgICAgY29uc3QgdXNlclJlY292ZXJlZEFkZHJlc3MgPSB3ZWIzTm9kZS5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlKSwgY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yuc2lnbmF0dXJlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RVc2VyU2lnbmF0dXJlID0gdGhpcy51c2VyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLmhvbGRlciwgdXNlclJlY292ZXJlZEFkZHJlc3MpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgKElkZW50aXR5IEFwcCkgZGlkIHNpZ24gaXQgY29ycmVjdDsgb3RoZXJ3aGlzZSBza2lwIHRoaXMgcHJvdmlkZXJcbiAgICAgICAgICAgIGlmIChjb3JyZWN0VXNlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgWywgY3JlZGVudGlhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbmNvcnJlY3QgY3JlZGVudGlhbCB2ZXJzaW9uLiBSZW5ldyB5b3VyIGNyZWRlbnRpYWxzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbEV4cGlyYXRpb25EYXRlID0gbmV3IERhdGUoKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmV4cGlyYXRpb25EYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+IGNyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91ciBjcmVkZW50aWFsIGV4cGlyZWQgb24gJHtjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVuID0gbmV3IERhdGUoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yubm9uY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzRGlmZmVyZW5jZSA9IHRoaXMuY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2Uobm93LCB0aGVuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbnV0ZXNEaWZmZXJlbmNlID4gNSAmJiBjaGVja1VzZXJOb25jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vbmNlIHRvbyBvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VudCBjcmVkZW50aWFscyB3ZXJlIHByb3ZpZGVkIGJ5IHRoZSBkaWQgb2YgdGhlIGNyZWRlbnRpYWwgKGNoZWNrIHRoZSBzaWduYXR1cmUgb2YgZWFjaCBjcmVkZW50aWFsKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0SXNzdWVyU2lnbmF0dXJlID0gdGhpcy5pc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoY3JlZGVudGlhbCwgd2ViM05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ycmVjdElzc3VlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZXZlcnkgY3JlZGVudGlhbCBESUQgY29udHJhY3QgaWYgdGhlIGhvbGRlciBiZWxvbmdzIHRvIHRoYXQgRElEXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJIb2xkZXJLZXkgPSAoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkucHJvb2YuaG9sZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID0gKGNyZWRlbnRpYWwgYXMgSUNyZWRlbnRpYWwpLmlzc3Vlci5pZC5zcGxpdChcIjpcIilbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJDb3JyZWN0RGlkID0gYXdhaXQgdGhpcy5kaWRDb250cmFjdEtleVdyb25nKHdlYjNOb2RlLCB3ZWIzVXJsLCBjbGFpbUhvbGRlckFiaSwgaXNzdWVySG9sZGVyS2V5LCBpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MsIGNoZWNrZWREaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzc3VlckNvcnJlY3REaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VySG9sZGVyS2V5ID0gY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2YuaG9sZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEaWRDb250cmFjdEFkZHJlc3MgPSAoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkuaWQuc3BsaXQoXCI6XCIpWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJDb3JyZWN0RGlkID0gYXdhaXQgdGhpcy5kaWRDb250cmFjdEtleVdyb25nKHdlYjNOb2RlLCB3ZWIzVXJsLCBjbGFpbUhvbGRlckFiaSwgdXNlckhvbGRlcktleSwgdXNlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJDb3JyZWN0RGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGl2ZW5lc3NDaGVja1JlcXVpcmVkIHx8ICgoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkudmVyaWZpZWQgPT09IHVuZGVmaW5lZCB8fCAoY3JlZGVudGlhbCBhcyBJQ3JlZGVudGlhbCkudmVyaWZpZWQgPT09IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZENyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAxNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxpdmVuZXNzIGNoZWNrIHJlcXVpcmVkIGJ1dCBjcmVkZW50aWFsIG5vdCB2ZXJpZmllZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiA2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJVc2VyIGRpZCBpbmNvcnJlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJc3N1ZXIgZGlkIGluY29ycmVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSXNzdWVyIHNpZ25hdHVyZSBpbmNvcnJlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJVc2VyIHNpZ25hdHVyZSBpbmNvcnJlY3RcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHVzZXIgc2lnbmF0dXJlIGlzIGluY29ycmVjdCB3ZSBkb24ndCB2YWxpZGF0ZSBhbnkgbW9yZSB3aGVuIHRoZXJlIGlzIDEgcHJvdmlkZXIgc28gY3JlZGVudGlhbHNhbW91bnQgc2hvdWxkIGJlIG1vcmUgdGhhbiAwXG4gICAgICAgIGlmIChjcmVkZW50aWFsc0Ftb3VudCA+IDAgJiYgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9PT0gY3JlZGVudGlhbHNBbW91bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxcIixcbiAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgdXNlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyhob2xkZXJLZXk6IGFueSwgcmVjb3ZlcmVkQWRkcmVzczogc3RyaW5nKSB7XG4gICAgICAgIGlmIChob2xkZXJLZXkgIT09IHJlY292ZXJlZEFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVzZXIgc2lnbmF0dXJlIG9mIGNyZWRlbnRpYWwgJHtob2xkZXJLZXl9IGRvZXMgbm90IG1hdGNoIHJlY292ZXJlZEFkZHJlc3MgJHtyZWNvdmVyZWRBZGRyZXNzfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgaXNzdWVyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGNyZWRlbnRpYWw6IGFueSwgd2ViM05vZGU6IGFueSkge1xuICAgICAgICBjb25zdCBpc3N1ZXJTaWduYXR1cmUgPSBjcmVkZW50aWFsLnByb29mLnNpZ25hdHVyZTtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbElzc3VlcktleSA9IGNyZWRlbnRpYWwucHJvb2YuaG9sZGVyO1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsKSk7XG4gICAgICAgIGRlbGV0ZSBjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mLnByb29mLnNpZ25hdHVyZTtcbiAgICAgICAgY29uc3QgcmVjb3ZlcmVkQWRkcmVzcyA9IHdlYjNOb2RlLmV0aC5hY2NvdW50cy5yZWNvdmVyKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YpLCBpc3N1ZXJTaWduYXR1cmUpO1xuICAgICAgICBpZiAoY3JlZGVudGlhbElzc3VlcktleSAhPT0gcmVjb3ZlcmVkQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSXNzdWVyIHNpZ25hdHVyZSBvZiBjcmVkZW50aWFsICR7Y3JlZGVudGlhbElzc3VlcktleX0gZG9lcyBub3QgbWF0Y2ggcmVjb3ZlcmVkQWRkcmVzcyAke3JlY292ZXJlZEFkZHJlc3N9YCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYXN5bmMgZGlkQ29udHJhY3RLZXlXcm9uZyh3ZWIzTm9kZTogYW55LCB3ZWIzVXJsOiBzdHJpbmcsIGNsYWltSG9sZGVyQWJpOiBhbnksIGhvbGRlcktleTogc3RyaW5nLCBkaWRBZGRyZXNzOiBzdHJpbmcsIGNoZWNrZWREaWQ6IElDaGVja2VkRGlkW10pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZm91bmRFbnRyeSA9IGNoZWNrZWREaWQuZmluZCh4ID0+IHguZGlkID09IGRpZEFkZHJlc3MgJiYgeC5ob2xkZXJLZXkgPT09IGhvbGRlcktleSk7XG4gICAgICAgIGlmIChmb3VuZEVudHJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gZm91bmRFbnRyeS5yZXN1bHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBrbm93bkFkZHJlc3NlcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoZGlkQWRkcmVzcyA9PT0gaG9sZGVyS2V5KSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgZGlkOiBkaWRBZGRyZXNzLCBob2xkZXJLZXksIHJlc3VsdDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhM0tleSA9IHRoaXMuZ2V0U2hhM0tleShob2xkZXJLZXksIHdlYjNOb2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5TWFuYWdlckNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KFxuICAgICAgICAgICAgICAgICAgICBjbGFpbUhvbGRlckFiaSxcbiAgICAgICAgICAgICAgICAgICAgZGlkQWRkcmVzc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtub3duQWRkcmVzc2VzQ29udGFpbnMoa25vd25BZGRyZXNzZXMsIHNoYTNLZXksIGRpZEFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleVB1cnBvc2UgPSBwYXJzZUludChhd2FpdCB0aGlzLmdldEtleVB1cnBvc2Uoa2V5TWFuYWdlckNvbnRyYWN0LCBzaGEzS2V5KSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDEgPSBPd25lclxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDIgPSBBY3Rpb24gS2V5XG4gICAgICAgICAgICAgICAgICAgIC8vIGtleVB1cnBvc2UgMyA9IENsYWltIFNpZ25lciBLZXkgXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleVB1cnBvc2UgNCA9IEVuY3J5cHRpb24ga2V5XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlQdXJwb3NlID09PSAwIHx8IGtleVB1cnBvc2UgPiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkRGlkLnB1c2goeyBkaWQ6IGRpZEFkZHJlc3MsIGhvbGRlcktleSwgcmVzdWx0OiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrbm93bkFkZHJlc3Nlcy5wdXNoKHsgc2hhM0tleSwgZGlkQWRkcmVzcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgZGlkOiBkaWRBZGRyZXNzLCBob2xkZXJLZXksIHJlc3VsdDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGtub3duQWRkcmVzc2VzQ29udGFpbnMobGlzdDogYW55W10sIHNoYTNLZXk6IHN0cmluZywgZGlkQ29udHJhY3RBZGRyZXNzOiBzdHJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0SXRlbSBvZiBsaXN0KSB7XG4gICAgICAgICAgICBpZiAobGlzdEl0ZW0uc2hhM0tleSA9PT0gc2hhM0tleSAmJiBsaXN0SXRlbS5kaWRDb250cmFjdEFkZHJlc3MgPT09IGRpZENvbnRyYWN0QWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2hhM0tleShrZXk6IHN0cmluZywgd2ViMzogV2ViMykge1xuICAgICAgICByZXR1cm4gd2ViMy51dGlscy5rZWNjYWsyNTYoa2V5KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRLZXlQdXJwb3NlKGtleU1hbmFnZXJDb250cmFjdDogYW55LCBrZXk6IHN0cmluZyk6IFByb21pc2U8RURJREFjY2Vzc0xldmVsPiB7XG4gICAgICAgIC8vIEdldCBFdmVudHNcbiAgICAgICAgaWYgKGtleU1hbmFnZXJDb250cmFjdC5vcHRpb25zLmFkZHJlc3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQga2V5TWFuYWdlckNvbnRyYWN0Lm1ldGhvZHMuZ2V0S2V5UHVycG9zZShrZXkpLmNhbGwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZU1pbnV0ZXNEaWZmZXJlbmNlKGR0MjogRGF0ZSwgZHQxOiBEYXRlKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGRpZmYgPSAoZHQyLmdldFRpbWUoKSAtIGR0MS5nZXRUaW1lKCkpIC8gMTAwMDtcbiAgICAgICAgZGlmZiAvPSA2MDtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKE1hdGgucm91bmQoZGlmZikpO1xuICAgIH1cblxuICAgIHJlT3JkZXJDcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0KTogSUNyZWRlbnRpYWxPYmplY3Qge1xuICAgICAgICAvLyBMb29wIGV2ZXJ5IHByb3ZpZGVyXG4gICAgICAgIGZvciAoY29uc3QgcHJvdmlkZXIgb2YgT2JqZWN0LmtleXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWxLZXlzID0gW107XG4gICAgICAgICAgICAvLyBHZXQgYWxsIGNyZWRlbnRpYWwga2V5c1xuICAgICAgICAgICAgZm9yIChjb25zdCBjcmVkZW50aWFsS2V5IG9mIE9iamVjdC5rZXlzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxLZXlzLnB1c2goY3JlZGVudGlhbEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVkZW50aWFsS2V5cy5zb3J0KCk7XG4gICAgICAgICAgICBjb25zdCByZU9yZGVyZWRDcmVkZW50aWFscyA9IHt9O1xuICAgICAgICAgICAgLy8gTG9vcCB0aGUgY3JlZGVudGlhbCBrZXlzIG9uZSBieSBvbmUgYW5kIHJlIG9yZGVyIHRoZSBjcmVkZW50aWFscyBzbyBpdHMgYWxwaGFiZXRpY2FsXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNyZWRlbnRpYWxLZXkgb2YgY3JlZGVudGlhbEtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZU9yZGVyZWRDcmVkZW50aWFsID0gdGhpcy5yZU9yZGVyQ3JlZGVudGlhbChjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFsc1tjcmVkZW50aWFsS2V5XSBhcyBJQ3JlZGVudGlhbCk7XG4gICAgICAgICAgICAgICAgcmVPcmRlcmVkQ3JlZGVudGlhbHNbY3JlZGVudGlhbEtleV0gPSByZU9yZGVyZWRDcmVkZW50aWFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2YgPSB0aGlzLnJlT3JkZXJDcmVkZW50aWFsUHJvb2YoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2YpO1xuICAgICAgICAgICAgY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0gPSB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IHJlT3JkZXJlZENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIHByb29mOiBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVkZW50aWFsT2JqZWN0O1xuICAgIH1cblxuICAgIHJlT3JkZXJDcmVkZW50aWFsKGNyZWRlbnRpYWw6IElDcmVkZW50aWFsKTogSUNyZWRlbnRpYWwge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkoY3JlZGVudGlhbCk7XG4gICAgfVxuXG4gICAgc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KG9iamVjdDogYW55KTogYW55IHtcbiAgICAgICAgY29uc3Qgc29ydGVkT2JqID0ge307XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgICAgIGtleXMuc29ydCgoa2V5MSwga2V5MikgPT4ge1xuICAgICAgICAgICAga2V5MSA9IGtleTEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGtleTIgPSBrZXkyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoa2V5MSA8IGtleTIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5MSA+IGtleTIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBuZXN0ZWQgb2JqZWN0cywgd2UgbmVlZCB0byBkaWcgZGVlcGVyXG4gICAgICAgICAgICBpZiAob2JqZWN0W2tleV0gIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdFtrZXldID09IFwib2JqZWN0XCIgJiYgIShvYmplY3Rba2V5XSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHNvcnRlZE9ialtrZXldID0gdGhpcy5zb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkob2JqZWN0W2tleV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3J0ZWRPYmpba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvcnRlZE9iajtcbiAgICB9XG5cbiAgICByZU9yZGVyQ3JlZGVudGlhbFByb29mKHByb29mOiBJUHJvb2YpOiBJUHJvb2Yge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaG9sZGVyOiBwcm9vZi5ob2xkZXIsXG4gICAgICAgICAgICBub25jZTogcHJvb2Yubm9uY2UsXG4gICAgICAgICAgICBzaWduYXR1cmU6IHByb29mLnNpZ25hdHVyZSxcbiAgICAgICAgICAgIHR5cGU6IHByb29mLnR5cGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHNpZ24gKGNhbiBiZSBhbnl0aGluZywgb2JqZWN0LCBzdHJpbmcsIGV0Yy4pIFxuICAgICAqIEBwYXJhbSBwcml2YXRlS2V5IC0gVGhlIHByaXZhdGUga2V5IHRvIHNpZ24gd2l0aFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldFNpZ25hdHVyZShtZXNzYWdlOiBhbnksIHByaXZhdGVLZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgc3RyaW5naWZpZWRcbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlID0gdGhpcy5yZU9yZGVyT2JqZWN0KG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcbiAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmFjY291bnRzLnNpZ24oSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksIHByaXZhdGVLZXkpLnNpZ25hdHVyZVxuICAgIH1cblxuICAgIHJlT3JkZXJPYmplY3QoY29udGVudFRvU2lnbjogSVNpZ25lZENvbnRlbnQpOiBJU2lnbmVkQ29udGVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRPYmplY3RBbHBoYWJldGljYWxseShjb250ZW50VG9TaWduKTtcbiAgICB9XG5cbiAgICBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKSB7XG4gICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgc3RyaW5naWZpZWRcbiAgICAgICAgaWYgKHR5cGVvZiBjcmVkZW50aWFsT2JqZWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjcmVkZW50aWFsT2JqZWN0ID0gSlNPTi5wYXJzZShjcmVkZW50aWFsT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVkZW50aWFsT2JqZWN0ID0gdGhpcy5yZU9yZGVyQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsT2JqZWN0KTtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5zaWduKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QpLCBwcml2YXRlS2V5KS5zaWduYXR1cmVcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDbGFpbXMoY2xhaW1UeXBlOiBudW1iZXIgfCBzdHJpbmcsIGNvbnRyYWN0QWRkcmVzczogc3RyaW5nLCB3ZWIzOiBXZWIzKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoY2xhaW1Ib2xkZXJBYmksIGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGNsYWltSWRzID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbUlkc0J5VHlwZShjbGFpbVR5cGUpLmNhbGwoKTtcbiAgICAgICAgaWYgKGNsYWltSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGFsbCByYXcgY2xhaW1zXG4gICAgICAgICAgICAgICAgY29uc3QgcmF3Q2xhaW1zID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbShjbGFpbUlkc1tjbGFpbUlkcy5sZW5ndGggLSAxXSkuY2FsbCgpO1xuICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBkYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQ2xhaW1zID0gSlNPTi5wYXJzZSh3ZWIzLnV0aWxzLnRvQXNjaWkocmF3Q2xhaW1zLmRhdGEpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcnNlZENsYWltcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q2xhaW0oY2xhaW1UeXBlOiBFQ2xhaW1UeXBlLCBjb250cmFjdEFkZHJlc3M6IHN0cmluZywgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChjbGFpbUhvbGRlckFiaSwgY29udHJhY3RBZGRyZXNzKTtcbiAgICAgICAgY29uc3QgY2xhaW1JZHMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmdldENsYWltSWRzQnlUeXBlKGNsYWltVHlwZSkuY2FsbCgpO1xuICAgICAgICBpZiAoY2xhaW1JZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByYXdDbGFpbXMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmdldENsYWltKGNsYWltSWRzW2NsYWltSWRzLmxlbmd0aCAtIDFdKS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHdlYjMudXRpbHMudG9Bc2NpaShyYXdDbGFpbXMuZGF0YSlcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQ2xhaW1zID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXJzZWRDbGFpbXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIiwgZXJyb3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcnJlY3QoY3JlZGVudGlhbHM6IElDcmVkZW50aWFsT2JqZWN0LCByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzKTogSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQge1xuICAgICAgICBjb25zdCBjaGVja1Jlc3VsdDogSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgPSB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWlzc2luZ0tleXM6IFtdXG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9vcCBhbGwgcmVxdWVzdGVkIGNyZWRlbnRpYWxzXG4gICAgICAgIGZvciAoY29uc3QgcmVxdWVzdGVkQ3JlZGVudGlhbCBvZiByZXF1ZXN0ZWRDcmVkZW50aWFscy5jcmVkZW50aWFscykge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RlZENyZWRlbnRpYWwucmVxdWlyZWQgJiYgcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlciA9PT0gXCJBRERJVElPTkFMX0lORk9cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhjcmVkZW50aWFscy5jcmVkZW50aWFsc1tyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyXS5jcmVkZW50aWFscyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb2JqZWN0S2V5cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsSW5mbyA9IGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3JlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXJdLmNyZWRlbnRpYWxzW2tleV0gYXMgSVJlcXVlc3RlZENyZWRlbnRpYWxLZXk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsSW5mby5yZXF1aXJlZCAmJiAoYWRkaXRpb25hbEluZm8ua2V5IGFzIElBZGRpdGlvbmFsSW5mb1tdKS5maW5kKHggPT4gIXguYW5zd2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQuc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQubWlzc2luZ0tleXMucHVzaChhZGRpdGlvbmFsSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIG9ubHkgcmVxdWlyZWQga2V5c1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0ZWRDcmVkZW50aWFsLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlciA9IFtyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm92aWRlciBvZiByZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzW3JlcXVlc3RlZENyZWRlbnRpYWwua2V5IGFzIHN0cmluZ11cbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBnb29kLCBmb3VuZCFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQuc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQubWlzc2luZ0tleXMucHVzaChyZXF1ZXN0ZWRDcmVkZW50aWFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tSZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVjb3ZlckFkZHJlc3NGcm9tU2lnbmF0dXJlKG1lc3NhZ2U6IHN0cmluZywgc2lnbmF0dXJlOiBzdHJpbmcsIHNvcnRBbHBoYWJldGljYWxseT86IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIGlmIChzb3J0QWxwaGFiZXRpY2FsbHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLnNvcnRPYmplY3RBbHBoYWJldGljYWxseShKU09OLnBhcnNlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5yZWNvdmVyKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLCBzaWduYXR1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmFjY291bnRzLnJlY292ZXIobWVzc2FnZSwgc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBzaWduUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgZGlkOiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB7XG4gICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mID0ge1xuICAgICAgICAgICAgaG9sZGVyOiBkaWQsXG4gICAgICAgICAgICBub25jZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6IEVTaWduYXR1cmVUeXBlcy5FQ0RTQVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKHJlcXVlc3RlZENyZWRlbnRpYWxzLCBwcml2YXRlS2V5KTtcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHMucHJvb2Yuc2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgYXN5bmMgaXNWYWxpZFJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1ob2xkZXJBYmk6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAocmVxdWVzdGVkQ3JlZGVudGlhbHM/LnByb29mPy5zaWduYXR1cmUpIHtcbiAgICAgICAgICAgIC8vIE1ha2UgYSBjb3B5IHNpbmNlIHdlIGRlbGV0ZSB0aGUgc2lnbmF0dXJlIG9mIHRoZSBvYmplY3Q7IG90aGVyd2hpc2Ugd2UgY2FuIG9ubHkgY2hlY2sgaXQgb25jZSBhbmQgaXQncyBnb25lIGZvcmV2ZXJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZENyZWRlbnRpYWxzQ29weTogSVJlcXVlc3RlZENyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXF1ZXN0ZWRDcmVkZW50aWFscykpO1xuICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3RlZENyZWRlbnRpYWxzQ29weS5wcm9vZi5zaWduYXR1cmU7XG5cbiAgICAgICAgICAgIC8vIFJlY292ZXIgdGhlIHB1YmxpYyBrZXlcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHRoaXMucmVjb3ZlckFkZHJlc3NGcm9tU2lnbmF0dXJlKEpTT04uc3RyaW5naWZ5KHJlcXVlc3RlZENyZWRlbnRpYWxzQ29weSksIHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLnNpZ25hdHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgICAgICBjb25zdCBkaWQgPSByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZi5ob2xkZXI7XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgYWNjZXNzIGxldmVsIG9uIHRoZSBjb250cmFjdFxuICAgICAgICAgICAgY29uc3QgY2xhaW1Ib2xkZXJDb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChjbGFpbWhvbGRlckFiaSwgZGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSA9IHRoaXMuZ2V0U2hhM0tleShwdWJsaWNLZXksIHdlYjMpO1xuICAgICAgICAgICAgY29uc3Qga2V5UHVycG9zZSA9IGF3YWl0IHRoaXMuZ2V0S2V5UHVycG9zZShjbGFpbUhvbGRlckNvbnRyYWN0LCBrZWNjYWsyNTZPcmdhbmlzYXRpb25LZXkpIGFzIEVESURBY2Nlc3NMZXZlbDtcbiAgICAgICAgICAgIHJldHVybiAoa2V5UHVycG9zZSA9PT0gRURJREFjY2Vzc0xldmVsLk1BTkFHRU1FTlRfS0VZIHx8IGtleVB1cnBvc2UgPT09IEVESURBY2Nlc3NMZXZlbC5BQ1RJT05fS0VZKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZXF1ZXN0ZWQgQ3JlZGVudGlhbHMgZG9lc24ndCBoYXZlIGEgc2lnbmF0dXJlIGluIHRoZSBwcm9vZi4gTm90IGNoZWNraW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGlzVmFsaWRMaWNlbnNlKHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHdlYjNVcmw6IHN0cmluZywgY2xhaW1Ib2xkZXJBYmk6IGFueSkge1xuICAgICAgICBjb25zdCBvcmdhbmlzYXRpb25EaWQgPSByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZi5ob2xkZXI7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzOiBJQ3JlZGVudGlhbCA9IGF3YWl0IHRoaXMuZ2V0Q2xhaW0oRUNsYWltVHlwZS5DT01QQU5ZX0lORk8sIG9yZ2FuaXNhdGlvbkRpZCwgd2ViM1VybCwgY2xhaW1Ib2xkZXJBYmkpO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSAoY3JlZGVudGlhbHM/LmNyZWRlbnRpYWxTdWJqZWN0Py5jcmVkZW50aWFsPy52YWx1ZSBhcyBJQ29tcGFueUluZm8pPy5zdGF0dXM7XG4gICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlS2V5VG9QdWJsaWNLZXkocHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5wcml2YXRlS2V5VG9BY2NvdW50KHByaXZhdGVLZXkpLmFkZHJlc3M7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDaGFsbGVuZ2UocHVibGljS2V5OiBzdHJpbmcsIGRpZDogc3RyaW5nLCBob3N0OiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElDaGFsbGVuZ2Uge1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlID0gYCR7cHVibGljS2V5fS0ke2RpZH0tJHtob3N0fS0ke3RpbWVzdGFtcH1gO1xuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSB3ZWIzLmV0aC5hY2NvdW50cy5zaWduKGNoYWxsZW5nZSwgcHJpdmF0ZUtleSkuc2lnbmF0dXJlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaWQsXG4gICAgICAgICAgICBwdWJsaWNLZXksXG4gICAgICAgICAgICBlbmRwb2ludDogaG9zdCxcbiAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgIGNoYWxsZW5nZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICB9IGFzIElDaGFsbGVuZ2VcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyByZXF1ZXN0LCBzZXJ2ZXIgYXMgV2ViU29ja2V0U2VydmVyIH0gZnJvbSBcIndlYnNvY2tldFwiO1xuaW1wb3J0IHsgZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyB9IGZyb20gXCIuLi9oZWxwZXJzL3NpZ25hbEhlbHBlcnNcIjtcbmltcG9ydCB7IElDb25uZWN0aW9uRGF0YSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EYXRhXCI7XG5pbXBvcnQgeyBJQ29ubmVjdGlvbkRldGFpbHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jb25uZWN0aW9uRGV0YWlsc1wiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBXZWJSVENDbGllbnRWMiB9IGZyb20gXCIuLi93ZWJSdGNDbGllbnRWMlwiO1xuXG5leHBvcnQgY2xhc3MgU2lnbmFsU2VydmVyVjIge1xuICAgIHdzU2VydmVyOiBXZWJTb2NrZXRTZXJ2ZXI7XG4gICAgd3NSZXF1ZXN0JCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGh0dHBTZXJ2ZXJcbiAgICAgKi9cblxuICAgIHB1YmxpYyBzdGFydFNpZ25hbChcbiAgICAgICAgaHR0cFNlcnZlcjogaHR0cC5TZXJ2ZXJcbiAgICApOiB2b2lkIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgd2Vic29ja2V0IHNlcnZlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53c1NlcnZlciA9IG5ldyBXZWJTb2NrZXRTZXJ2ZXIoe1xuICAgICAgICAgICAgaHR0cFNlcnZlcjogaHR0cFNlcnZlcixcbiAgICAgICAgICAgIGF1dG9BY2NlcHRDb25uZWN0aW9uczogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYnNvY2tldCBldmVudHNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3NTZXJ2ZXIub24oXCJyZXF1ZXN0XCIsIGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLndzUmVxdWVzdCQubmV4dChyZXF1ZXN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBVVEZEYXRhIHRvIGNvbm5lY3Rpb24uXG4gICAgICogQHBhcmFtIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZW5kVG8oY29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzLCBtZXNzYWdlOiBhbnkpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uc2VuZFVURihKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJpZWQgdG8gc2VuZCB0aGlzIG92ZXIgdW5kZWZpbmVkIGNvbm5lY3Rpb246XCIsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBlcnJvclxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW1cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVqZWN0Q29ubmVjdGlvbihyZWFzb246IHN0cmluZywgcmVxdWVzdDogYW55KSB7XG4gICAgICAgIHJlcXVlc3QucmVqZWN0KCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkgKyBcIiBcIiArIHJlYXNvbik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkgKyBcIiBDb25uZWN0aW9uIGZyb20gcmVtb3RlQWRkcmVzcyBcIiArIHJlcXVlc3QucmVtb3RlQWRkcmVzc2VzICsgXCIgcmVqZWN0ZWQuXCIpO1xuICAgIH1cblxuICAgIGFzeW5jIHNldHVwUDJQQ29ubmVjdGlvbihcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcbiAgICAgICAgdmFsaWRTaWduOiBib29sZWFuLFxuICAgICAgICBjaGFubmVsOiBzdHJpbmcsXG4gICAgICAgIG9yaWdpbkFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgICAgIHR1cm5FeHBpcmF0aW9uOiBudW1iZXIsXG4gICAgICAgIHR1cm5Vcmw6IHN0cmluZyxcbiAgICAgICAgdHVyblNlY3JldDogc3RyaW5nLFxuICAgICAgICBzaWduYWxTZXJ2ZXI6IHN0cmluZyxcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyxcbiAgICAgICAgYWN0aW9uVHlwZTogc3RyaW5nLFxuICAgICAgICBkYXRhOiBhbnksXG4gICAgICAgIG9yaWdpbjogc3RyaW5nXG4gICAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbmNlIGFsbCBpcyB3ZWxsLCB3ZSBhY2NlcHQgdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgICogQWNjZXB0IGNvbm5lY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscyA9IHJlcXVlc3QuYWNjZXB0KG51bGwsIHJlcXVlc3Qub3JpZ2luKTtcbiAgICAgICAgY29uc29sZS5sb2coYExpYnJhcnkgLSBBY2NlcHRlZCAke3JlcXVlc3Qub3JpZ2lufSB2YWxpZCBzaWduZWQgJHt2YWxpZFNpZ259YCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHVwIGRlZmF1bHQgdmFsdWVzIHVwb24gY29ubmVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29ubmVjdGlvbi51dWlkID0gdXVpZHY0KCk7IC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2xpZW50XG4gICAgICAgIGNvbm5lY3Rpb24uZGlkID0gdmFsaWRTaWduID8gKHJlcXVlc3Q/LnJlc291cmNlVVJMPy5xdWVyeSBhcyBhbnkpPy5kaWQ/LnRvU3RyaW5nKCkgOiBudWxsOyAvLyBXaGVuIGF1dGhlbnRpY2F0ZWQ6IGRpZEFkZHJlc3NcbiAgICAgICAgY29ubmVjdGlvbi5wdWJsaWNLZXkgPSB2YWxpZFNpZ24gPyAocmVxdWVzdD8ucmVzb3VyY2VVUkw/LnF1ZXJ5IGFzIGFueSk/LnB1YmxpY2tleT8udG9TdHJpbmcoKSA6IG51bGw7IC8vIFdoZW4gYXV0aGVudGljYXRlZDogcHVibGljS2V5XG4gICAgICAgIGNvbm5lY3Rpb24uYXV0aGVudGljYXRlZCA9IHZhbGlkU2lnbjsgLy8gdHJ1ZSBvciBmYWxzZVxuICAgICAgICBjb25uZWN0aW9uLmNoYW5uZWwgPSBjaGFubmVsOyAvLyBjb25uZWN0aW9uIG9yIGNsaWVudC51dWlkIGNvbm5lY3RlZCB0b1xuXG4gICAgICAgIHRoaXMuc2V0dXBXZWJzb2NrZXRMaXN0ZW5lcnMoY29ubmVjdGlvbik7XG5cbiAgICAgICAgLy8gSG9zdFxuICAgICAgICBpZiAoKG9yaWdpbiA9PT0gXCJ2YWxpZGF0b3JcIiAmJiB2YWxpZFNpZ24gJiYgY2hhbm5lbCA9PT0gbnVsbCkgfHwgKG9yaWdpbkFsbG93ZWQgJiYgY2hhbm5lbCA9PT0gbnVsbCkpIHtcbiAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24gaXMgdmVyaWZpZWQhXG4gICAgICAgICAgICBjb25uZWN0aW9uLmhvc3QgPSB0cnVlO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5vcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICBjb25zdCB3ZWJSdGNDb25maWcgPSBnZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiLCB0dXJuRXhwaXJhdGlvbiwgdHVyblNlY3JldCwgdHVyblVybCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxpYnJhcnkgLSBIb3N0IHdhaXRpbmcgZm9yIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICB0aGlzLnNlbmRUbyhjb25uZWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJob3N0XCIsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSG9zdCBpbml0aWFsaXNlZCAke2Nvbm5lY3Rpb24udXVpZH1gLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY29ubmVjdGlvbi51dWlkLFxuICAgICAgICAgICAgICAgIHNpZ25hbFNlcnZlcixcbiAgICAgICAgICAgICAgICAuLi4ob3JpZ2luID09PSBcInZhbGlkYXRvclwiICYmIHsgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogd2ViUnRjQ29uZmlnIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvcmlnaW4gIT09IFwidmFsaWRhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLndlYlJ0Y0NsaWVudCA9IG5ldyBXZWJSVENDbGllbnRWMih3ZWJSdGNDb25maWcsIHJlcXVlc3RlZENyZWRlbnRpYWxzLCBjb25uZWN0aW9uLCBhY3Rpb25UeXBlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLndlYlJ0Y0NsaWVudC5zZXR1cFBlZXJjb25uZWN0aW9uKGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGllbnRcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBMZXQncyBmaW5kIHRoZSBob3N0IHRvIGNvbm5lY3QgdG8sIGFuZCBjb25uZWN0XG4gICAgICAgICAgICBjb25zdCBob3N0Q2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzID0gdGhpcy53c1NlcnZlci5jb25uZWN0aW9ucy5maW5kKChjb25uOiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IGNvbm4udXVpZCA9PT0gY2hhbm5lbCAmJiBjb25uLmNoYW5uZWwgPT09IG51bGwgJiYgY29ubi5ob3N0ID09PSB0cnVlKTtcbiAgICAgICAgICAgIGlmIChob3N0Q2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIC8vIExldCdzIGNvbm5lY3RcbiAgICAgICAgICAgICAgICBob3N0Q2hhbm5lbC5jaGFubmVsID0gY29ubmVjdGlvbi51dWlkO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2hhbm5lbCA9IGhvc3RDaGFubmVsLnV1aWQ7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtIENsaWVudCBjb25uZWN0aW5nIHRvICR7Y2hhbm5lbH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWJSdGNDb25maWcgPSBnZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiY2xpZW50XCIsIHR1cm5FeHBpcmF0aW9uLCB0dXJuU2VjcmV0LCB0dXJuVXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUbyhjb25uZWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDbGllbnQgaW5pdGlhbGlzZWQgJHtjb25uZWN0aW9uLnV1aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbElkOiBjaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiB3ZWJSdGNDb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaG9zdENoYW5uZWwub3JpZ2luICE9PSBcInZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RDaGFubmVsLndlYlJ0Y0NsaWVudC5jbGllbnRDaGFubmVsID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaG9zdENoYW5uZWwud2ViUnRjQ2xpZW50LmRhdGEgPSB7IC4uLmhvc3RDaGFubmVsLndlYlJ0Y0NsaWVudC5kYXRhLCBjbGllbnREYXRhOiBkYXRhIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTGlicmFyeSAtIE5vdCBhIGNsaWVudCBvciBob3N0XCIpO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH1cblxuICAgIHNldHVwV2Vic29ja2V0TGlzdGVuZXJzKGNvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscyk6IHZvaWQge1xuICAgICAgICBjb25uZWN0aW9uLm9uKFwibWVzc2FnZVwiLCBhc3luYyAobWVzc2FnZSkgPT4ge1xuXG4gICAgICAgICAgICBsZXQgZGF0YTogSUNvbm5lY3Rpb25EYXRhO1xuXG4gICAgICAgICAgICAvLyBhY2NlcHRpbmcgb25seSBKU09OIG1lc3NhZ2VzXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChcInV0ZjhEYXRhXCIgaW4gbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLnV0ZjhEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkxpYnJhcnkgLSBXZWJzb2NrZXQgY29ubmVjdGlvbiBpbnZhbGlkIEpTT05cIiwgZSk7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHsgdHlwZTogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBvZmZlciwgYW5zd2VyLCBjYW5kaWRhdGUgfSA9IGRhdGE7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2luY2UgdmFsaWRhdGlvbiBoYXBwZW5zIG9uIGNvbm5lY3Rpb24sIHdlIG9ubHkgZXhwZWN0IDMgdHlwZSBvZiBtZXNzYWdlc1xuICAgICAgICAgICAgICogSW4gdGhpcyBvcmRlcjpcbiAgICAgICAgICAgICAqIC0gT2ZmZXJcbiAgICAgICAgICAgICAqICAgVGhlIGhvc3Qgc2VuZHMgYW4gb2ZmZXIgdG8gdGhlIGNsaWVudC5cbiAgICAgICAgICAgICAqIC0gQW5zd2VyXG4gICAgICAgICAgICAgKiAgIFRoZSBDbGllbnQgcmVzcG9uc2Ugd2l0aCBhbiBBbnN3ZXJcbiAgICAgICAgICAgICAqIC0gQ2FuZGlkYXRlc1xuICAgICAgICAgICAgICogICBDbGllbnQvSG9zdCBzaGFyZSBjYW5kaWRhdGVzXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogV2hlbiBvZmZlciBhbmQgYW5zd2VyIGlzIHNlbmQsIHRoZXkgY2FuIHN0YXJ0IHRvIGNvbm5lY3Qgb3ZlciB3ZWJSdGMuXG4gICAgICAgICAgICAgKiBFeHRyYSBjYW5kaWRhdGVzIGhlbHBzIHRvIGNvbm5lY3QgZmFzdGVyL2JldHRlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwib2ZmZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCBzZW5kcyBhbiBvZmZlciB0byB0aGUgaG9zdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uLmhvc3QgJiYgY29ubmVjdGlvbi5jaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0Q2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzID0gdGhpcy53c1NlcnZlci5jb25uZWN0aW9ucy5maW5kKChjb25uOiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IGNvbm4uY2hhbm5lbCA9PT0gY29ubmVjdGlvbi51dWlkICYmIGNvbm4uaG9zdCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdENoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdENoYW5uZWwub3JpZ2luID09PSBcInZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRvKGhvc3RDaGFubmVsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDbGllbnQgc2hhcmVkIGFuIG9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuc2V0UmVtb3RlRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuc2VuZEFuc3dlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkbid0IGZpbmQgY29ubmVjdGlvbiBvbiB1dWlkOlwiLCBjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgaG9zdCByZXNwb25kcyB3aXRoIGFuIGFuc3dlciBmb3IgdGhlIGNsaWVudC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uaG9zdCAmJiBjb25uZWN0aW9uLmNoYW5uZWwgJiYgY29ubmVjdGlvbi5vcmlnaW4gPT09IFwidmFsaWRhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudENoYW5uZWw6IElDb25uZWN0aW9uRGV0YWlscyA9IHRoaXMud3NTZXJ2ZXIuY29ubmVjdGlvbnMuZmluZCgoY29ubjogSUNvbm5lY3Rpb25EZXRhaWxzKSA9PiBjb25uLmNoYW5uZWwgPT09IGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50Q2hhbm5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRvKGNsaWVudENoYW5uZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDbGllbnQgc2hhcmVkIGFuIGFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkbid0IGZpbmQgY29ubmVjdGlvbiBvbiB1dWlkOlwiLCBjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNhbmRpZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBIb3N0IGFuZCBDbGllbnQgc2hhcmUgY2FuZGlkYXRlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5jaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHMgPSB0aGlzLndzU2VydmVyLmNvbm5lY3Rpb25zLmZpbmQoKGNvbm46IElDb25uZWN0aW9uRGV0YWlscykgPT4gY29ubi5jaGFubmVsID09PSBjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbC5vcmlnaW4gPT09IFwidmFsaWRhdG9yXCIgfHwgY29ubmVjdGlvbi5vcmlnaW4gPT09IFwidmFsaWRhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oY2hhbm5lbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYW5kaWRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNhbmRpZGF0ZSBzaGFyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLndlYlJ0Y0NsaWVudC5hZGRDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBmaW5kIGNvbm5lY3Rpb24gb24gdXVpZDpcIiwgY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW4gYWxzbyBsaXN0ZW4gdG8gd2Vic29ja2V0IGV2ZW50cyBvbiB0aGUgaG9zdCBzbyB3ZSBkb24ndCB3YW50IHRvIHRocm93IGFueSBlcnJvciBoZXJlOyBjdXN0b20gaW1wbGVtZW50YXRpb24gaXMgYmVpbmcgbWFkZSBvbiB0aGUgYXBwbGljYXRpb24gcGFydFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjb25uZWN0aW9uIGlzIGNsb3NlZFxuICAgICAgICAgKi9cbiAgICAgICAgY29ubmVjdGlvbi5vbihcImNsb3NlXCIsIChyZWFzb25Db2RlLCBkZXNjcmlwdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExpYnJhcnkgLSAkeyhuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpfSAtIFBlZXIgJHtjb25uZWN0aW9uLnJlbW90ZUFkZHJlc3N9IGRpc2Nvbm5lY3RlZCwgUmVhc29uICR7cmVhc29uQ29kZX0sIGRlc2NyaXB0aW9uICR7ZGVzY3JpcHRpb259YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFdlYlNvY2tldCBmcm9tIFwid3NcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgKiBhcyBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IHsgSVJUQ0Nvbm5lY3Rpb25Db25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3J0Y0Nvbm5lY3Rpb25Db25maWcuaW50ZXJmYWNlXCI7XG5pbXBvcnQgKiBhcyBodHRwIGZyb20gXCJodHRwXCI7XG5cbmV4cG9ydCBjbGFzcyBTaWduYWxpbmdTZXJ2ZXIge1xuICAgIHdzU2VydmVyOiBhbnk7XG4gICAgcnRjQ29ubmVjdGlvbkNvbmZpZzogSVJUQ0Nvbm5lY3Rpb25Db25maWc7IFxuXG4gICAgLyoqXG4gICAgICogV2ViIFJUQyBjb25uZWN0aW9uIGNvbmZpZ1xuICAgICAqIEBwYXJhbSBydGNDb25uZWN0aW9uQ29uZmlnIFxuICAgICAqL1xuICAgIHNldFJUQ0Nvbm5lY3Rpb25Db25maWcocnRjQ29ubmVjdGlvbkNvbmZpZzogSVJUQ0Nvbm5lY3Rpb25Db25maWcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnID0gcnRjQ29ubmVjdGlvbkNvbmZpZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgUlRDIHBlZXJjb25uZWN0aW9uXG4gICAgICovXG4gICAgZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyh0eXBlOiBzdHJpbmcpOiBSVENDb25maWd1cmF0aW9uIHtcbiAgICAgICAgaWYgKHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgdGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICAgICAgY29uc3QgZXhwaXJhdGlvbiA9IHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuRXhwaXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gYCR7dGltZSArIGV4cGlyYXRpb259OiR7dHlwZX1gO1xuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbCA9IGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMVwiLCB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcudHVyblNlY3JldCkudXBkYXRlKHVzZXJuYW1lLnRvU3RyaW5nKCkpLmRpZ2VzdChcImJhc2U2NFwiKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWNlQ2FuZGlkYXRlUG9vbFNpemU6IDUsXG4gICAgICAgICAgICAgICAgaWNlU2VydmVyczogW3tcbiAgICAgICAgICAgICAgICAgICAgdXJsczogdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5VcmwsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgfSBhcyBSVENDb25maWd1cmF0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy5zdHVuRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpY2VTZXJ2ZXJzOiBbe1xuICAgICAgICAgICAgICAgICAgICB1cmxzOiB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcuc3R1blVybCxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0gYXMgUlRDQ29uZmlndXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJ2ZXIgXG4gICAgICovXG4gICAgcHVibGljIHN0YXJ0U2lnbmFsKHNlcnZlcjogaHR0cC5TZXJ2ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy53c1NlcnZlciA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgc2VydmVyIH0pO1xuXG4gICAgICAgIGNvbnN0IHNlbmRUbyA9IChkYXRhY2hhbm5lbDogUlRDRGF0YUNoYW5uZWwsIG1lc3NhZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgZGF0YWNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53c1NlcnZlci5vbihcImNvbm5lY3Rpb25cIiwgKHdzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHdzLnV1aWQgPSB1dWlkdjQoKTsgLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjbGllbnRcbiAgICAgICAgICAgIHdzLmRpZCA9IG51bGw7IC8vIFdoZW4gYXV0aGVudGljYXRlZDogcHVibGljS2V5IG9yIGRpZEFkZHJlc3NcbiAgICAgICAgICAgIHdzLmhvc3QgPSBmYWxzZTsgLy8gSXMgYSBob3N0LCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICB3cy5hdXRoZW50aWNhdGVkID0gZmFsc2U7IC8vIHRydWUgb3IgZmFsc2VcbiAgICAgICAgICAgIHdzLmNvbm5lY3RlZCA9IG51bGw7IC8vIG51bGwgb3IgY2xpZW50LnV1aWQgY29ubmVjdGVkIHRvXG5cbiAgICAgICAgICAgIHdzLm9uKFwiZXJyb3JcIiwgKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRUNPTk5SRVNFVCBjYW4gZ2V0IHRocm93biB3aGVuIHRoZSBjbGllbnQgZGlzY29ubmVjdHMuIFRoaXMgYXBwbGljYXRpb25cbiAgICAgICAgICAgICAgICAvLyB3aWxsIGNyYXNoLiBJZ25vcmUgdGhpcyBlcnJvci5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3cy5vbihcIm1lc3NhZ2VcIiwgKG1zZzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGE6IGFueTtcblxuICAgICAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShtc2cpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIHRva2VuLCBob3N0LCBvZmZlciwgYW5zd2VyLCBjYW5kaWRhdGUgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYSB1c2VyIHRyaWVzIHRvIGxvZ2luXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB1c2VybmFtZSBpcyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvdWxkIG5vdCB2YWxpZGF0ZSB0b2tlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuYXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQVVUSFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5ob3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIb3N0IGluaXRpYWxpc2VkIFwiICsgd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IHRoaXMuZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhcImhvc3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdCB0byBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0cyA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC51dWlkID09PSBob3N0ICYmIGNsaWVudC5jb25uZWN0ZWQgPT09IG51bGwgJiYgY2xpZW50Lmhvc3QgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDbGllbnQgY29ubmVjdGVkIFwiICsgd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGVkIHRvIFwiICsgaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiY2xpZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5rIHRoZW0gdG9nZXRoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy5jb25uZWN0ZWQgPSBob3N0c1swXS51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RzWzBdLmNvbm5lY3RlZCA9IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3QgY29ubmVjdCB0byBcIiArIGhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2ZmZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCBleGlzdHMgdGhlbiBzZW5kIGhpbSBvZmZlciBkZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwgJiYgdGhpcy53c1NlcnZlci5jbGllbnRzLnNpemUgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb28gc29vbi4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgQ2xpZW50IHJlc3BvbnNlIHRvIGFuIG9mZmVyIHdpdGggYW4gYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RzT2ZmZXIgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0c09mZmVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNPZmZlclswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9vIHNvb24uLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5kaWRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCByZXNwb25zZSB0byBhbiBvZmZlciB3aXRoIGFuIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdzLmNvbm5lY3RlZCAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FuZGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYW5kaWRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRvbyBzb29uLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVhdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudHMgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLnV1aWQgPSB1dWlkdjQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oY2xpZW50c1swXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBsZWZ0IG9uIHJlY2VpdmUgbGVhdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRzWzBdLmNvbm5lY3RlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuY29ubmVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MudXVpZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vdCBjb25uZWN0ZWQgdG8gaG9zdC9jbGllbnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29tbWFuZCBub3QgZm91bmQ6IFwiICsgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd3Mub24oXCJjbG9zZVwiLCAod3NBcmc6IGFueSwgcmVxdWVzdDogYW55LCBjbGllbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3c0FyZy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRzID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnRBcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnRBcmcuY29ubmVjdGVkID09PSB3c0FyZy51dWlkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhjbGllbnRzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQgb24gd2Vic29ja2V0IGNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50c1swXS5jb25uZWN0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdzQXJnLmNvbm5lY3RlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBzZW5kIGltbWVkaWF0ZWx5IGEgZmVlZGJhY2sgdG8gdGhlIGluY29taW5nIGNvbm5lY3Rpb25cbiAgICAgICAgICAgIHdzLnNlbmQoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJXZWxsIGhlbGxvIHRoZXJlLCBJIGFtIHRoZSBTaWduYWxpbmcgU2VydmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFiaUl0ZW0gfSBmcm9tIFwid2ViMy11dGlscy90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgY2xhaW1Ib2xkZXJBYmk6IEFiaUl0ZW1bXSA9IFtcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldEtleVB1cnBvc2VcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfdHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiYWRkS2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldENsYWltSWRzQnlUeXBlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwicmVtb3ZlQ2xhaW1cIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9pZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2FwcHJvdmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImFwcHJvdmVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcInJlbW92ZUtleVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5c0J5UHVycG9zZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3NjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2lzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3NpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3VyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJhZGRDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl90b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3ZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImV4ZWN1dGVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJrZXlIYXNQdXJwb3NlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbVJlcXVlc3RlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltUmVtb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltQ2hhbmdlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiRXhlY3V0aW9uRmFpbGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiS2V5QWRkZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJLZXlSZW1vdmVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidG9cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJFeGVjdXRpb25SZXF1ZXN0ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkV4ZWN1dGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFwcHJvdmVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJBcHByb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9XG5dO1xuIiwiaW1wb3J0IHsgQWJpSXRlbSB9IGZyb20gXCJ3ZWIzLXV0aWxzL3R5cGVzXCI7XG5leHBvcnQgY29uc3QgSWRlbnRpdHkgPSB7XG4gICAgYWJpOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEtleVB1cnBvc2VcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0S2V5XCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiYWRkS2V5XCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldENsYWltSWRzQnlUeXBlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1JZHNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwicmVtb3ZlQ2xhaW1cIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3N0clwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9vZmZzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9sZW5ndGhcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEJ5dGVzXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9hcHByb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJhcHByb3ZlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJyZW1vdmVLZXlcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEtleXNCeVB1cnBvc2VcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5c1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9pc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl91cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiYWRkQ2xhaW1cIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0Q2xhaW1cIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5SGFzUHVycG9zZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zdHJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX29mZnNldFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2xlbmd0aFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0U3RyaW5nXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZbXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2lzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzW11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zaWdTaXplc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2W11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhU2l6ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpU2l6ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbVJlcXVlc3RlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNsYWltUmVtb3ZlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbUNoYW5nZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ0b1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFeGVjdXRpb25GYWlsZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIktleUFkZGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJLZXlSZW1vdmVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXhlY3V0aW9uUmVxdWVzdGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXhlY3V0ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiYXBwcm92ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFwcHJvdmVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH1cbiAgICBdIGFzIEFiaUl0ZW1bXSxcbiAgICBkYXRhOiBcIjYwODA2MDQwNTIzNDgwMTU2MjAwMDAxMTU3NjAwMDgwZmQ1YjUwNjA0MDUxNjIwMDMzMzMzODAzODA2MjAwMzMzMzgzMzk4MTAxODA2MDQwNTI4MTAxOTA4MDgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDUwNTA1MDYwMDA4MDYwMDA4MDYwMDA4MDMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDkwNTA4MDYwMDE2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTgxNjAwMDE5MTY5MDU1NTA2MDAxODA2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTgxOTA1NTUwNjAwMTgwNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE4MTkwNTU1MDYwMDI2MDAwNjAwMTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA4MTkwODA2MDAxODE1NDAxODA4MjU1ODA5MTUwNTA5MDYwMDE4MjAzOTA2MDAwNTI2MDIwNjAwMDIwMDE2MDAwOTA5MTkyOTA5MTkwOTE1MDkwNjAwMDE5MTY5MDU1NTA2MDAxODA2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0ODI2MDAwMTkxNjdmNDgwMDAwYmIxZWRhZDhjYTE0NzAzODFjYzMzNGIxOTE3ZmJkNTFjNjUzMWYzYTYyM2VhOGUwZWM3ZTM4YTZlOTYwNDA1MTYwNDA1MTgwOTEwMzkwYTQ1MDYwMDA5MzUwNjAwMDkyNTA2MDAwOTE1MDYwMDA5MDUwNWI4ZDUxODExMDE1NjIwMDA3YmE1NzhiODE4MTUxODExMDE1MTU2MjAwMDIwZjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxOGU4MjgxNTE4MTEwMTUxNTYyMDAwMjI4NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE2MDQwNTE4MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE4MjgxNTI2MDIwMDE5MjUwNTA1MDYwNDA1MTgwOTEwMzkwMjA5NDUwNjBjMDYwNDA1MTkwODEwMTYwNDA1MjgwOGY4MzgxNTE4MTEwMTUxNTYyMDAwMmE2NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4MTUyNjAyMDAxOGU4MzgxNTE4MTEwMTUxNTYyMDAwMmM0NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4MTUyNjAyMDAxOGQ4MzgxNTE4MTEwMTUxNTYyMDAwMmUyNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjgxNTI2MDIwMDE2MjAwMDMzYjhkODc4Yzg2ODE1MTgxMTAxNTE1NjIwMDAzMWM1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYyMDAwN2NlNjQwMTAwMDAwMDAwMDI2NDAxMDAwMDAwMDA5MDA0NTY1YjgxNTI2MDIwMDE2MjAwMDM3NDhjODU4Yjg2ODE1MTgxMTAxNTE1NjIwMDAzNTU1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYyMDAwN2NlNjQwMTAwMDAwMDAwMDI2NDAxMDAwMDAwMDA5MDA0NTY1YjgxNTI2MDIwMDE2MjAwMDNhZDhiODY4YTg2ODE1MTgxMTAxNTE1NjIwMDAzOGU1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYyMDAwOGRhNjQwMTAwMDAwMDAwMDI2NDAxMDAwMDAwMDA5MDA0NTY1YjgxNTI1MDYwMDQ2MDAwODc2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDA4MjAxNTE4MTYwMDAwMTU1NjAyMDgyMDE1MTgxNjAwMTAxNTU2MDQwODIwMTUxODE2MDAyMDE2MDAwNjEwMTAwMGE4MTU0ODE3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYwMjE5MTY5MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYwMjE3OTA1NTUwNjA2MDgyMDE1MTgxNjAwMzAxOTA4MDUxOTA2MDIwMDE5MDYyMDAwNDQ0OTI5MTkwNjIwMDA5ZWM1NjViNTA2MDgwODIwMTUxODE2MDA0MDE5MDgwNTE5MDYwMjAwMTkwNjIwMDA0NjM5MjkxOTA2MjAwMDllYzU2NWI1MDYwYTA4MjAxNTE4MTYwMDUwMTkwODA1MTkwNjAyMDAxOTA2MjAwMDQ4MjkyOTE5MDYyMDAwYTczNTY1YjUwOTA1MDUwODc4MTgxNTE4MTEwMTUxNTYyMDAwNDk1NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4NDAxOTM1MDg1ODE4MTUxODExMDE1MTU2MjAwMDRiMjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxODMwMTkyNTA4NjgxODE1MTgxMTAxNTE1NjIwMDA0Y2Y1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTgyMDE5MTUwNjAwNDYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDA0NjAwMDg3NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDg2NjAwMDE5MTY3ZjQ2MTQ5YjE4YWEwODQ1MDJjM2YxMmJjNzVlMTllZGE4YmRhOGQxMDJiODJjY2U4NDc0Njc3YTZkMGQ1ZjQzYzU2MDA0NjAwMDhhNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDQ2MDAwOGI2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDQ2MDAwOGM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTYwMDQ2MDAwOGQ2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTYwNDA1MTgwODU4MTUyNjAyMDAxODA2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODQ4MTAzODQ1Mjg3ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjIwMDA2OGI1NzgwNjAxZjEwNjIwMDA2NWY1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYyMDAwNjhiNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MjAwMDY2ZDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODQ4MTAzODM1Mjg2ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjIwMDA3MTI1NzgwNjAxZjEwNjIwMDA2ZTY1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYyMDAwNzEyNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MjAwMDZmNDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODQ4MTAzODI1Mjg1ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjIwMDA3OTk1NzgwNjAxZjEwNjIwMDA3NmQ1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYyMDAwNzk5NTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MjAwMDc3YjU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTc1MDUwNTA1MDUwNTA1MDUwNjA0MDUxODA5MTAzOTBhNDgwODA2MDAxMDE5MTUwNTA2MjAwMDFmNjU2NWI1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNjIwMDBiMjI1NjViNjA2MDgwNjAwMDgwODQ2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYyMDAwODA4NTc4MTYwMjAwMTYwMjA4MjAyODAzODgzMzk4MDgyMDE5MTUwNTA5MDUwNWI1MDkyNTA2MDAwOTE1MDg1OTA1MDViODQ4NjAxODExMDE1NjIwMDA4Y2Q1Nzg2ODE4MTUxODExMDE1MTU2MjAwMDgyZDU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MjAwMDg4NzU3ZmU1YjkwNjAyMDAxMDE5MDdlZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxOTE2OTA4MTYwMDAxYTkwNTM1MDgxODA2MDAxMDE5MjUwNTA4MDgwNjAwMTAxOTE1MDUwNjIwMDA4MTM1NjViODI5MzUwNTA1MDUwOTM5MjUwNTA1MDU2NWI2MDYwODA2MDYwNjAwMDgwODc5MzUwODU2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYyMDAwOTE5NTc4MTYwMjAwMTYwMjA4MjAyODAzODgzMzk4MDgyMDE5MTUwNTA5MDUwNWI1MDkyNTA2MDAwOTE1MDg2OTA1MDViODU4NzAxODExMDE1NjIwMDA5ZGU1NzgzODE4MTUxODExMDE1MTU2MjAwMDkzZTU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MjAwMDk5ODU3ZmU1YjkwNjAyMDAxMDE5MDdlZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxOTE2OTA4MTYwMDAxYTkwNTM1MDgxODA2MDAxMDE5MjUwNTA4MDgwNjAwMTAxOTE1MDUwNjIwMDA5MjQ1NjViODI5NDUwNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MjAwMGEyZjU3ODA1MTYwZmYxOTE2ODM4MDAxMTc4NTU1NjIwMDBhNjA1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MjAwMGE2MDU3OTE4MjAxNWI4MjgxMTExNTYyMDAwYTVmNTc4MjUxODI1NTkxNjAyMDAxOTE5MDYwMDEwMTkwNjIwMDBhNDI1NjViNWI1MDkwNTA2MjAwMGE2ZjkxOTA2MjAwMGFmYTU2NWI1MDkwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MjAwMGFiNjU3ODA1MTYwZmYxOTE2ODM4MDAxMTc4NTU1NjIwMDBhZTc1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MjAwMGFlNzU3OTE4MjAxNWI4MjgxMTExNTYyMDAwYWU2NTc4MjUxODI1NTkxNjAyMDAxOTE5MDYwMDEwMTkwNjIwMDBhYzk1NjViNWI1MDkwNTA2MjAwMGFmNjkxOTA2MjAwMGFmYTU2NWI1MDkwNTY1YjYyMDAwYjFmOTE5MDViODA4MjExMTU2MjAwMGIxYjU3NjAwMDgxNjAwMDkwNTU1MDYwMDEwMTYyMDAwYjAxNTY1YjUwOTA1NjViOTA1NjViNjEyODAxODA2MjAwMGIzMjYwMDAzOTYwMDBmMzAwNjA4MDYwNDA1MjYwMDQzNjEwNjEwMGQwNTc2MDAwMzU3YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0NjNmZmZmZmZmZjE2ODA2MzAzMmMxYThhMTQ2MTAwZDU1NzgwNjMxMmFhYWM3MDE0NjEwMTFhNTc4MDYzMWQzODEyNDAxNDYxMDE3NTU3ODA2MzI2MmI1NGY1MTQ2MTAxZDI1NzgwNjM0ZWVlNDI0YTE0NjEwMjU0NTc4MDYzNWQyY2ZkNjExNDYxMDI5ZDU3ODA2Mzc0NzQ0MmQzMTQ2MTAzOTM1NzgwNjM4NjI2NDJmNTE0NjEwM2U0NTc4MDYzOTAxMGY3MjYxNDYxMDQyZDU3ODA2M2IxYTM0ZTBkMTQ2MTA0YWY1NzgwNjNiNjFkMjdmNjE0NjEwNWY0NTc4MDYzYzkxMDBiY2IxNDYxMDY5YjU3ODA2M2QyMDIxNThkMTQ2MTA4NWU1NzgwNjNkZjkzMTliZTE0NjEwOGIxNTc1YjYwMDA4MGZkNWIzNDgwMTU2MTAwZTE1NzYwMDA4MGZkNWI1MDYxMDEwNDYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTA5YTc1NjViNjA0MDUxODA4MjgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAxMjY1NzYwMDA4MGZkNWI1MDYxMDE0OTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTA5Y2Y1NjViNjA0MDUxODA4NDgxNTI2MDIwMDE4MzgxNTI2MDIwMDE4MjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTM1MDUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDE4MTU3NjAwMDgwZmQ1YjUwNjEwMWI4NjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTBhM2U1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDFkZTU3NjAwMDgwZmQ1YjUwNjEwMWZkNjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTBjZjc1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA2MDIwMDI4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDI0MDU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDIyNTU2NWI1MDUwNTA1MDkwNTAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMjYwNTc2MDAwODBmZDViNTA2MTAyODM2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEwZDY2NTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAyYTk1NzYwMDA4MGZkNWI1MDYxMDMxODYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMTFlNDU2NWI2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEwMzU4NTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwMzNkNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMDM4NTU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAzOWY1NzYwMDA4MGZkNWI1MDYxMDNjYTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTE1MTU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjExMmViNTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAzZjA1NzYwMDA4MGZkNWI1MDYxMDQxMzYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTE3ZmY1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDQzOTU3NjAwMDgwZmQ1YjUwNjEwNDU4NjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTE5NmE1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA2MDIwMDI4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDQ5YjU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDQ4MDU2NWI1MDUwNTA1MDkwNTAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwNGJiNTc2MDAwODBmZDViNTA2MTA1ZDY2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDUwNTA1MDYxMTlkOTU2NWI2MDQwNTE4MDgyNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA2MDA1NzYwMDA4MGZkNWI1MDYxMDY4NTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwNTA1MDUwNjExZWZlNTY1YjYwNDA1MTgwODI4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwNmE3NTc2MDAwODBmZDViNTA2MTA2Y2E2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEyMWUwNTY1YjYwNDA1MTgwODc4MTUyNjAyMDAxODY4MTUyNjAyMDAxODU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODE1MjYwMjAwMTgwNjAyMDAxODA2MDIwMDE4MDYwMjAwMTg0ODEwMzg0NTI4NzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDc1MDU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDczNTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA3N2Q1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgzNTI4NjgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDdiNjU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDc5YjU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA3ZTM1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgyNTI4NTgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDgxYzU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDgwMTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA4NDk1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDk5NTA1MDUwNTA1MDUwNTA1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA4NmE1NzYwMDA4MGZkNWI1MDYxMDg5NzYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMjRhYTU2NWI2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwOGJkNTc2MDAwODBmZDViNTA2MTA5MmM2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTI1MTM1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDk2YzU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDk1MTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA5OTk1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViNjAwMDYwMDE2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0OTA1MDkxOTA1MDU2NWI2MDAwODA2MDAwNjAwMTYwMDA4NTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDE2MDAwODc2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0OTI1MDkyNTA5MjUwOTE5MzkwOTI1MDU2NWI2MDAwODM2MDAwMTkxNjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTYxNDE1MTUxNTYxMGFkZTU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAxMjgxNTI2MDIwMDE4MDdmNGI2NTc5MjA2MTZjNzI2NTYxNjQ3OTIwNjU3ODY5NzM3NDczMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjMwNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYzMzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MTQxNTE1NjEwYzA5NTc2MTBiNmUzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAxNjEyNGFhNTY1YjE1MTU2MTBjMDg1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMjM4MTUyNjAyMDAxODA3ZjUzNjU2ZTY0NjU3MjIwNjQ2ZjY1NzMyMDZlNmY3NDIwNjg2MTc2NjUyMDZkNjE2ZTYxNjc2NTZkNjU2ZTc0MjA4MTUyNjAyMDAxN2Y2YjY1NzkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjA0MDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViNWI4MzYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTgxNjAwMDE5MTY5MDU1NTA4MjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTgxOTA1NTUwODE2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE4MTkwNTU1MDYwMDI2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODQ5MDgwNjAwMTgxNTQwMTgwODI1NTgwOTE1MDUwOTA2MDAxODIwMzkwNjAwMDUyNjAyMDYwMDAyMDAxNjAwMDkwOTE5MjkwOTE5MDkxNTA5MDYwMDAxOTE2OTA1NTUwODE4Mzg1NjAwMDE5MTY3ZjQ4MDAwMGJiMWVkYWQ4Y2ExNDcwMzgxY2MzMzRiMTkxN2ZiZDUxYzY1MzFmM2E2MjNlYThlMGVjN2UzOGE2ZTk2MDQwNTE2MDQwNTE4MDkxMDM5MGE0NjAwMTkwNTA5MzkyNTA1MDUwNTY1YjYwNjA2MDA1NjAwMDgzODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDgwNTQ4MDYwMjAwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTI5MTkwODE4MTUyNjAyMDAxODI4MDU0ODAxNTYxMGQ1YTU3NjAyMDAyODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ2MDAwMTkxNjgxNTI2MDIwMDE5MDYwMDEwMTkwODA4MzExNjEwZDQyNTc1YjUwNTA1MDUwNTA5MDUwOTE5MDUwNTY1YjYwMDAzMDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MzM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjE0MTUxNTYxMGU5MzU3NjEwZGY4MzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMTYxMjRhYTU2NWIxNTE1NjEwZTkyNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDIzODE1MjYwMjAwMTgwN2Y1MzY1NmU2NDY1NzIyMDY0NmY2NTczMjA2ZTZmNzQyMDY4NjE3NjY1MjA2ZDYxNmU2MTY3NjU2ZDY1NmU3NDIwODE1MjYwMjAwMTdmNmI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwNDAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjViNjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDA0NjAwMDg0NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDgzNjAwMDE5MTY3ZjNjZjU3ODYzYTg5NDMyYzYxYzRhMjcwNzNjNmVlMzllOGE3NjRiZmY1YTA1YWViZmJjZGNkYzgwYjJlNjEzMGE2MDA0NjAwMDg3NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDQ2MDAwODg2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDQ2MDAwODk2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTYwMDQ2MDAwOGE2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTYwNDA1MTgwODU4MTUyNjAyMDAxODA2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODQ4MTAzODQ1Mjg3ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExMDNkNTc4MDYwMWYxMDYxMTAxMjU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExMDNkNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTEwMjA1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDg0ODEwMzgzNTI4NjgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTBjMDU3ODA2MDFmMTA2MTEwOTU1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTBjMDU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExMGEzNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4NDgxMDM4MjUyODU4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTExNDM1NzgwNjAxZjEwNjExMTE4NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTExNDM1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTEyNjU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTc1MDUwNTA1MDUwNTA1MDUwNjA0MDUxODA5MTAzOTBhNDYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDA4MDgyMDE2MDAwOTA1NTYwMDE4MjAxNjAwMDkwNTU2MDAyODIwMTYwMDA2MTAxMDAwYTgxNTQ5MDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjAyMTkxNjkwNTU2MDAzODIwMTYwMDA2MTExYjk5MTkwNjEyNjIwNTY1YjYwMDQ4MjAxNjAwMDYxMTFjOTkxOTA2MTI2MjA1NjViNjAwNTgyMDE2MDAwNjExMWQ5OTE5MDYxMjY2ODU2NWI1MDUwNjAwMTkwNTA5MTkwNTA1NjViNjA2MDgwNjAwMDgwODQ2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYxMTIxZDU3ODE2MDIwMDE2MDIwODIwMjgwMzg4MzM5ODA4MjAxOTE1MDUwOTA1MDViNTA5MjUwNjAwMDkxNTA4NTkwNTA1Yjg0ODYwMTgxMTAxNTYxMTJkZTU3ODY4MTgxNTE4MTEwMTUxNTYxMTI0MDU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MTEyOTk1N2ZlNWI5MDYwMjAwMTAxOTA3ZWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTkxNjkwODE2MDAwMWE5MDUzNTA4MTgwNjAwMTAxOTI1MDUwODA4MDYwMDEwMTkxNTA1MDYxMTIyODU2NWI4MjkzNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjYwMDA2MTEzNDgzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAyNjEyNGFhNTY1YjE1MTU2MTEzYmM1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMWY4MTUyNjAyMDAxODA3ZjUzNjU2ZTY0NjU3MjIwNjQ2ZjY1NzMyMDZlNmY3NDIwNjg2MTc2NjUyMDYxNjM3NDY5NmY2ZTIwNmI2NTc5MDA4MTUyNTA2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI4MjdmYjM5MzJkYTQ3N2ZlNWQ2YzhmZjJlYWZlZjA1MGMwZjNhMWFmMThmYzA3MTIxMDAxNDgyNjAwZjM2ZjM3MTVkODgzNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwYTI2MDAxMTUxNTgyMTUxNTE0MTU2MTE3YzU1NzYwMDE2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDA2MTAxMDAwYTgxNTQ4MTYwZmYwMjE5MTY5MDgzMTUxNTAyMTc5MDU1NTA2MDAzNjAwMDg0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwNjA0MDUxODA4MzgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTRmZTU3ODA2MDFmMTA2MTE0ZDM1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTRmZTU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExNGUxNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4MjYwZmYxNjgxNTI2MDIwMDE5MjUwNTA1MDYwMDA2MDQwNTE4MDgzMDM4MTYwMDA4NjVhZjE5MTUwNTA5MDUwODAxNTYxMTY4ZDU3NjAwMTYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwMTYxMDEwMDBhODE1NDgxNjBmZjAyMTkxNjkwODMxNTE1MDIxNzkwNTU1MDYwMDM2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODQ3ZjFmOTIwZGJkYTU5N2Q3YmY5NTAzNTQ2NDE3MGZhNThkMGE0YjU3ZjEzYTFjMzE1YWNlNjc5M2I5ZjYzNjg4Yjg2MDAzNjAwMDg4ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTE2N2E1NzgwNjAxZjEwNjExNjRmNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTE2N2E1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTY1ZDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGE0NjExN2Y5NTY1YjYwMDM2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODQ3ZmUxMGM0OWQ5ZjdjNzFkYTIzMjYyMzY3MDEzNDM0NzYzY2ZkYjIzMzIyNjc2NDE3MjhkMjVjZDcxMmM1YzZhNjg2MDAzNjAwMDg4ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTE3YjI1NzgwNjAxZjEwNjExNzg3NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTE3YjI1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTc5NTU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGE0NjExN2Y5NTY1YjYwMDA2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDA2MTAxMDAwYTgxNTQ4MTYwZmYwMjE5MTY5MDgzMTUxNTAyMTc5MDU1NTA2MDAxOTA1MDViOTI5MTUwNTA1NjViNjAwMDgxNjAwMDE5MTY2MDAxNjAwMDg0NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE1NDYwMDAxOTE2MTQxNTE1NjExODllNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDBiODE1MjYwMjAwMTgwN2Y0ZTZmMjA3Mzc1NjM2ODIwNmI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViNjAwMTYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAxNjAwMDg0NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDYwMDE2MDAwODU2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTY3ZjU4NWE0YWVmNTBmODI2N2E5MmIzMjQxMmIzMzFiMjBmN2Y4Yjk2ZjIyNDViMjUzYjljYzUwZGNjNjIxZDMzOTc2MDQwNTE2MDQwNTE4MDkxMDM5MGE0NjAwMTYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDgwODIwMTYwMDA5MDU1NjAwMTgyMDE2MDAwOTA1NTYwMDI4MjAxNjAwMDkwNTU1MDUwNjAwMTkwNTA5MTkwNTA1NjViNjA2MDYwMDI2MDAwODM4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODA1NDgwNjAyMDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ4MDE1NjExOWNkNTc2MDIwMDI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDYwMDAxOTE2ODE1MjYwMjAwMTkwNjAwMTAxOTA4MDgzMTE2MTE5YjU1NzViNTA1MDUwNTA1MDkwNTA5MTkwNTA1NjViNjAwMDgwODU4ODYwNDA1MTgwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTgyODE1MjYwMjAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTAyMDkwNTAzMDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MzM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjE0MTUxNTYxMWI2MjU3NjExYWM3MzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMzYxMjRhYTU2NWIxNTE1NjExYjYxNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDI1ODE1MjYwMjAwMTgwN2Y1MzY1NmU2NDY1NzIyMDY0NmY2NTczMjA2ZTZmNzQyMDY4NjE3NjY1MjA2MzZjNjE2OTZkMjA3MzY5Njc2ZTY1ODE1MjYwMjAwMTdmNzIyMDZiNjU3OTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwNDAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjViODU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MTQxNTE1NjExYzE5NTc2MDA1NjAwMDg5ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDgxOTA4MDYwMDE4MTU0MDE4MDgyNTU4MDkxNTA1MDkwNjAwMTgyMDM5MDYwMDA1MjYwMjA2MDAwMjAwMTYwMDA5MDkxOTI5MDkxOTA5MTUwOTA2MDAwMTkxNjkwNTU1MDViODc2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE4MTkwNTU1MDg2NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxODE5MDU1NTA4NTYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA2MTAxMDAwYTgxNTQ4MTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjAyMTkxNjkwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjAyMTc5MDU1NTA4NDYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTkwODA1MTkwNjAyMDAxOTA2MTFjZWU5MjkxOTA2MTI2YjA1NjViNTA4MzYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTkwODA1MTkwNjAyMDAxOTA2MTFkMjE5MjkxOTA2MTI2YjA1NjViNTA4MjYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTkwODA1MTkwNjAyMDAxOTA2MTFkNTQ5MjkxOTA2MTI3MzA1NjViNTA4NTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODg4MjYwMDAxOTE2N2Y0NjE0OWIxOGFhMDg0NTAyYzNmMTJiYzc1ZTE5ZWRhOGJkYThkMTAyYjgyY2NlODQ3NDY3N2E2ZDBkNWY0M2M1OGE4OTg5ODk2MDQwNTE4MDg1ODE1MjYwMjAwMTgwNjAyMDAxODA2MDIwMDE4MDYwMjAwMTg0ODEwMzg0NTI4NzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMWRlNTU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMWRjYTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTFlMTI1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgzNTI4NjgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMWU0YjU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMWUzMDU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTFlNzg1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgyNTI4NTgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMWViMTU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMWU5NjU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTFlZGU1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDk3NTA1MDUwNTA1MDUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ4MDkxNTA1MDk2OTU1MDUwNTA1MDUwNTA1NjViNjAwMDYwMDM2MDAwODA1NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDAxOTA1NDkwNjEwMTAwMGE5MDA0NjBmZjE2MTUxNTE1NjExZjlhNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDEwODE1MjYwMjAwMTgwN2Y0MTZjNzI2NTYxNjQ3OTIwNjU3ODY1NjM3NTc0NjU2NDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViODM2MDAzNjAwMDgwNTQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNjAwMDYxMDEwMDBhODE1NDgxNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMDIxOTE2OTA4MzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MDIxNzkwNTU1MDgyNjAwMzYwMDA4MDU0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTgxOTA1NTUwODE2MDAzNjAwMDgwNTQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxOTA4MDUxOTA2MDIwMDE5MDYxMjAzNzkyOTE5MDYxMjZiMDU2NWI1MDgyODQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDA1NDdmOGFmY2ZhYmNiMDBlNDdhNTNhOGZjM2U5ZjIzZmY0N2VlMTkyNjE5NGJiMTM1MGRkMDA3YzUwYjQxMmE2Y2VlODg1NjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMjBiNTU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMjA5YTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTIwZTI1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBhNDYxMjE0YTMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDE2MTI0YWE1NjViODA2MTIxYWM1NzUwNjEyMWFiMzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMjYxMjRhYTU2NWI1YjE1NjEyMWMwNTc2MTIxYmU2MDAwNTQ2MDAxNjExMmViNTY1YjUwNWI2MDAwODA4MTU0ODA5MjkxOTA2MDAxMDE5MTkwNTA1NTUwNjAwMTYwMDA1NDAzOTA1MDkzOTI1MDUwNTA1NjViNjAwMDgwNjAwMDYwNjA4MDYwNjA2MDA0NjAwMDg4NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDYwMDQ2MDAwODk2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwNDYwMDA4YTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwNDYwMDA4YjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwNDYwMDA4YzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNDAxNjAwNDYwMDA4ZDYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNTAxODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMjM1NjU3ODA2MDFmMTA2MTIzMmI1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMjM1NjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjEyMzM5NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA1MDUwNTA5MjUwODE4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMjNmMjU3ODA2MDFmMTA2MTIzYzc1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMjNmMjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjEyM2Q1NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA1MDUwNTA5MTUwODA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMjQ4ZTU3ODA2MDFmMTA2MTI0NjM1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMjQ4ZTU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjEyNDcxNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA1MDUwNTA5MDUwOTU1MDk1NTA5NTUwOTU1MDk1NTA5NTUwOTE5Mzk1NTA5MTkzOTU1NjViNjAwMDgwNjAwMDYwMDEwMjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTYxNDE1NjEyNGU0NTc2MDAwOTE1MDYxMjUwYzU2NWI4MjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0MTExNTkwNTA4MDkxNTA1YjUwOTI5MTUwNTA1NjViNjA2MDgwNjA2MDYwMDA4MDg3OTM1MDg1NjA0MDUxOTA4MDgyNTI4MDYwMWYwMTYwMWYxOTE2NjAyMDAxODIwMTYwNDA1MjgwMTU2MTI1NTE1NzgxNjAyMDAxNjAyMDgyMDI4MDM4ODMzOTgwODIwMTkxNTA1MDkwNTA1YjUwOTI1MDYwMDA5MTUwODY5MDUwNWI4NTg3MDE4MTEwMTU2MTI2MTI1NzgzODE4MTUxODExMDE1MTU2MTI1NzQ1N2ZlNWI5MDYwMjAwMTAxNTE3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0N2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MzgzODE1MTgxMTAxNTE1NjEyNWNkNTdmZTViOTA2MDIwMDEwMTkwN2VmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE5MTY5MDgxNjAwMDFhOTA1MzUwODE4MDYwMDEwMTkyNTA1MDgwODA2MDAxMDE5MTUwNTA2MTI1NWM1NjViODI5NDUwNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ2MDAwODI1NTgwNjAxZjEwNjEyNjQ2NTc1MDYxMjY2NTU2NWI2MDFmMDE2MDIwOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwODEwMTkwNjEyNjY0OTE5MDYxMjdiMDU2NWI1YjUwNTY1YjUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ2MDAwODI1NTgwNjAxZjEwNjEyNjhlNTc1MDYxMjZhZDU2NWI2MDFmMDE2MDIwOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwODEwMTkwNjEyNmFjOTE5MDYxMjdiMDU2NWI1YjUwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MTI2ZjE1NzgwNTE2MGZmMTkxNjgzODAwMTE3ODU1NTYxMjcxZjU2NWI4MjgwMDE2MDAxMDE4NTU1ODIxNTYxMjcxZjU3OTE4MjAxNWI4MjgxMTExNTYxMjcxZTU3ODI1MTgyNTU5MTYwMjAwMTkxOTA2MDAxMDE5MDYxMjcwMzU2NWI1YjUwOTA1MDYxMjcyYzkxOTA2MTI3YjA1NjViNTA5MDU2NWI4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA2MDFmMDE2MDIwOTAwNDgxMDE5MjgyNjAxZjEwNjEyNzcxNTc4MDUxNjBmZjE5MTY4MzgwMDExNzg1NTU2MTI3OWY1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MTI3OWY1NzkxODIwMTViODI4MTExMTU2MTI3OWU1NzgyNTE4MjU1OTE2MDIwMDE5MTkwNjAwMTAxOTA2MTI3ODM1NjViNWI1MDkwNTA2MTI3YWM5MTkwNjEyN2IwNTY1YjUwOTA1NjViNjEyN2QyOTE5MDViODA4MjExMTU2MTI3Y2U1NzYwMDA4MTYwMDA5MDU1NTA2MDAxMDE2MTI3YjY1NjViNTA5MDU2NWI5MDU2MDBhMTY1NjI3YTdhNzIzMDU4MjAwMDE3NjM0ZTYyYzg1NjE5OGM5YzhkMjA0NzU2YmQ5ZWQ1ZTEyY2E5N2IyMzA2ODJjNmNjOTQxZTgxM2I4MTMzMDAyOVwiXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFN1YkRvbWFpbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gUmVwbGFjZSBodHRwLCBodHRwcyBhbmQgcmVtb3ZlIHRoZSBwb3J0XG4gICAgcmV0dXJuIHVybD8ucmVwbGFjZShcImh0dHA6Ly9cIiwgXCJcIikucmVwbGFjZShcImh0dHBzOi8vXCIsIFwiXCIpLnNwbGl0KFwiOlwiKVswXTtcbn0iLCJpbXBvcnQgeyBFRElEQWNjZXNzTGV2ZWwgfSBmcm9tIFwiLi4vLi4vZW51bXMvZGlkQWNjZXNzTGV2ZWwuZW51bVwiO1xuaW1wb3J0IHsgSWRlbnRpdHkgfSBmcm9tIFwiLi4vLi4vc21hcnRjb250cmFjdHMvaWRlbnRpdHlcIjtcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0tleUZvckRpZCh3ZWIzVXJsOiBzdHJpbmcsIGNvbnRyYWN0QWRkcmVzczogc3RyaW5nLCBwdWJsaWNLZXk6IHN0cmluZywga2V5VG9DaGVjazogRURJREFjY2Vzc0xldmVsKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChJZGVudGl0eS5hYmksIGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IHNoYUFkZHJlc3MgPSB3ZWIzLnV0aWxzLnNoYTMocHVibGljS2V5KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMua2V5SGFzUHVycG9zZShzaGFBZGRyZXNzLCBrZXlUb0NoZWNrKS5jYWxsKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gU29tZXRoaW5nIHdlbnQgd3Jvbmc6IFwiICsgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IElXZWJSVENDb25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3dlYlJ0Y0NvbmZpZy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgUlRDSWNlQ2FuZGlkYXRlIH0gZnJvbSBcIndydGNcIjtcbmltcG9ydCB7IHczY3dlYnNvY2tldCB9IGZyb20gXCJ3ZWJzb2NrZXRcIjtcbmltcG9ydCB7IE91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwiaHR0cFwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgV2ViUnRjUHJvdmlkZXIge1xuICAgIHdlYlJ0Y0NvbmZpZzogSVdlYlJUQ0NvbmZpZztcbiAgICBob3N0VXVpZDogc3RyaW5nOyAvLyBUaGUgaG9zdCBVVUlEIHRvIGNvbm5lY3QgdG8gZnJvbSB0aGUgY2xpZW50XG4gICAgcGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDsgLy8gVGhlIHBlZXIgY29ubmVjdGlvbiBiZXR3ZWVuIGNsaWVudCBhbmQgaG9zdFxuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbCA9IG51bGw7IC8vIFRoZSBkYXRhIGNoYW5uZWwgYmV0d2VlbiBjbGllbnQgYW5kIGhvc3RcbiAgICB3c0NsaWVudDogdzNjd2Vic29ja2V0ID0gbnVsbDsgLy8gVGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGJldHdlZW4gY2xpZW50IGFuZCBzaWduYWxpbmcgc2VydmVyIG9yIGhvc3QgYW5kIHNpZ25hbGluZyBzZXJ2ZXJcbiAgICByZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTsgLy8gV2hlbmV2ZXIgYW4gYWN0aW9uIGlzIHJlY2VpdmVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGFuIGV2ZW50XG4gICAgdXVpZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZSBVVUlEIGlzIHNldCwgaXQgd2lsbCBlbWl0IGFuIGV2ZW50IChzbyB0aGF0IHRoZSBob3N0IGNhbiBzZXQgaXQgc29tZXdoZXJlIGluIGxpa2UgYSBRUilcbiAgICB3ZWJzb2NrZXRNZXNzYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25PcGVuJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZXJlIGlzIGFuIGV2ZW50IG9uIHRoZSB3ZWJzb2NrZXQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAgICB3ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXJyb3IgZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0ID0gbnVsbDtcbiAgICBwb25nQ2hlY2tJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgPSBudWxsO1xuICAgIHBpbmdUaW1lb3V0OiBOb2RlSlMuVGltZW91dCA9IG51bGw7XG4gICAgV0VCU09DS0VUX1BJTkdfQU5TV0VSX0RFTEFZID0gMTAwMDtcbiAgICAvLyBUaGUgYWxsb3dlZCB0aW1lIGJlZm9yZSBhIHBpbmcgcG9uZyBpcyBtaXNzaW5nIGFuZCB0aHVzIGRpc2Nvbm5lY3RpbmcgdGhlIGNvbm5lY3Rpb25cbiAgICBXRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSA9IDMwMDA7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBXZWJSVEMgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGdldENvbmZpZygpOiBJV2ViUlRDQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2ViUnRjQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGllbnQgbmVlZHMgdG8gc2V0IHRoZSBob3N0IFVVSUQgdG8gY29ubmVjdCB0byBiZWZvcmUgc2V0dGluZyB1cCB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gaG9zdFV1aWQgVGhlIFVVSUQgb2YgdGhlIGhvc3RcbiAgICAgKi9cbiAgICBzZXRIb3N0VXVpZChob3N0VXVpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaG9zdFV1aWQgPSBob3N0VXVpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgUDJQIGRhdGEgY2hhbm5lbFxuICAgICAqIEBwYXJhbSBhY3Rpb24gQXMgYSBzdHJpbmcsIHdoaWNoIGFjdGlvbiB0eXBlIGRvIHlvdSB3YW50IHRvIHNlbmQ/XG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gc2VuZCBhcyBhbiBvYmplY3RcbiAgICAgKi9cbiAgICBzZW5kUDJQRGF0YShhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gU2VuZGluZyBhY3Rpb24gJyR7YWN0aW9ufSdgKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBXZWJzb2NrZXQgLSBBdHRlbXB0ZWQgdG8gc2VuZCBkYXRhIHdpdGggYWN0aW9uICR7YWN0aW9ufSBidXQgZGF0YSBjaGFubmVsIGlzIG5vdCBvcGVuYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICogQHBhcmFtIGFjdGlvbiBBcyBhIHN0cmluZywgd2hpY2ggYWN0aW9uIHR5cGUgZG8geW91IHdhbnQgdG8gc2VuZD9cbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBzZW5kIGFzIGFuIG9iamVjdFxuICAgICAqL1xuICAgIHNlbmRXZWJzb2NrZXREYXRhKGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMud3NDbGllbnQgJiYgdGhpcy53c0NsaWVudC5yZWFkeVN0YXRlID09PSB0aGlzLndzQ2xpZW50Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFdlYnNvY2tldCAtIEF0dGVtcHRlZCB0byBzZW5kIGRhdGEgd2l0aCBhY3Rpb24gJHthY3Rpb259IGJ1dCB3ZWJzb2NrZXQgY2hhbm5lbCBpcyBub3Qgb3BlbmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0V2Vic29ja2V0KCk6IHczY3dlYnNvY2tldCB7XG4gICAgICAgIHJldHVybiB0aGlzLndzQ2xpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW5ldmVyIHRoZSBVVUlEIGlzIHNldCBmcm9tIHRoZSBob3N0IHRoaXMgb2JzZXJ2YWJsZSBlbWl0c1xuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGFsbG93IGNsaWVudHMgY29ubmVjIHRvXG4gICAgICovXG4gICAgc2V0VXVpZCh1dWlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51dWlkJC5uZXh0KHV1aWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ubHkgZGlzY29ubmVjdCBvbiB0aGlzIGFwcGxpY2F0aW9uIGFuZCBzZW5kIG5vIGRpc2Nvbm5lY3Qgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53c0NsaWVudCkge1xuXG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50Lm9uY2xvc2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy53c0NsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dChmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBvbiB0aGlzIGFwcGxpY2F0aW9uIGFuZCBzZW5kIGEgZGlzY29ubmVjdCBldmVudCBvdmVyIHRoZSBkYXRhY2hhbm5lbFxuICAgICAqL1xuICAgIHJlbW90ZURpc2Nvbm5lY3QoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbjogXCJkaXNjb25uZWN0XCIgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IElzIG9uZSBzZWNvbmQgZW5vdWdoP1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9LCAxMDAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IHdpbGwgc2VuZCBhbiBvZmZlciB3aGVuIGEgY2xpZW50IGNvbm5lY3RzIHRvIGhpcyBVVUlEXG4gICAgICogQHBhcmFtIHBlZXJDb25uZWN0aW9uIFRoZSBwZWVyIGNvbm5lY3Rpb24gdG8gc2V0IHRoZSBsb2NhbCBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB3c0NsaWVudCBUaGUgd2Vic29ja2V0IHRvIHNlbmQgdGhlIG9mZmVyIHRvXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE9mZmVyKHBlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiwgd3NDbGllbnQ6IHczY3dlYnNvY2tldCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgICB3c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgIG9mZmVyXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGxhdW5jaCB0aGUgd2Vic29ja2V0IGFuZCBsaXN0ZW4gdG8gZXZlbnRzXG4gICAgICovXG4gICAgYXN5bmMgbGF1bmNoV2Vic29ja2V0Q2xpZW50KHdlYlJ0Y0NvbmZpZzogSVdlYlJUQ0NvbmZpZywgaGVhZGVycz86IE91dGdvaW5nSHR0cEhlYWRlcnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy53ZWJSdGNDb25maWcgPSB3ZWJSdGNDb25maWc7XG5cbiAgICAgICAgbGV0IGNvbm5lY3Rpb25TdWNjZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV1aWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRNZXNzYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG5cbiAgICAgICAgbGV0IHNpZ25hbGluZ1VybCA9IHRoaXMud2ViUnRjQ29uZmlnLnNpZ25hbGluZ1VybDtcbiAgICAgICAgaWYgKCFzaWduYWxpbmdVcmwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoIHdlYnNvY2tldCAtIFVSTCB1bmRlZmluZWQsIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0XCIpO1xuICAgICAgICAgICAgc2lnbmFsaW5nVXJsID0gXCJ3c3M6Ly9hdXRoLnByb29mbWUuaWRcIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIkxhdW5jaCB3ZWJzb2NrZXQgLSBDbGllbnQgVVJMOlwiLCBzaWduYWxpbmdVcmwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkxhdW5jaCB3ZWJzb2NrZXQgLSBDaGFubmVsOlwiLCB3ZWJSdGNDb25maWcuY2hhbm5lbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoIHdlYnNvY2tldCAtIEhlYWRlcnM6XCIsIGhlYWRlcnMpO1xuICAgICAgICBsZXQgdXJsID0gbnVsbDtcbiAgICAgICAgLy8gSWYgaXQgYWxyZWFkeSBoYXMgcXVlcmllcywgYXBwZW5kXG4gICAgICAgIGlmIChzaWduYWxpbmdVcmwuaW5jbHVkZXMoXCI/XCIpKSB7XG4gICAgICAgICAgICB1cmwgPSBgJHtzaWduYWxpbmdVcmx9JmNoYW5uZWw9JHt3ZWJSdGNDb25maWcuY2hhbm5lbH1gO1xuICAgICAgICAvLyBJZiBpdCBkb2VzIG5vdCB5ZXQgaGF2ZSBxdWVyaWVzLCBzdGFydCB3aXRoIGl0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSBgJHtzaWduYWxpbmdVcmx9P2NoYW5uZWw9JHt3ZWJSdGNDb25maWcuY2hhbm5lbH1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWJSdGNDb25maWcuZGF0YSkge1xuICAgICAgICAgICAgdXJsID0gYCR7dXJsfSZkYXRhPSR7d2ViUnRjQ29uZmlnLmRhdGF9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2ViUnRjQ29uZmlnLmtlZXBhbGl2ZSkge1xuICAgICAgICAgICAgdXJsID0gYCR7dXJsfSZrZWVwYWxpdmU9JHt3ZWJSdGNDb25maWcua2VlcGFsaXZlfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53c0NsaWVudCA9IG5ldyB3M2N3ZWJzb2NrZXQodXJsLCBudWxsLCBudWxsLCBoZWFkZXJzKTtcbiAgICAgICAgLy8gU28gaWYgdGhlcmUgaXMgbm90IGEgc3VjY2VzcyBjb25uZWN0aW9uIGFmdGVyIDEwIHNlY29uZHMsIGNsb3NlIHRoZSBzb2NrZXQgYW5kIHNlbmQgYW4gZXJyb3JcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25TdWNjZXNzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9uZXJyb3IgPSAoZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBFcnJvcjogXCIgKyBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJC5uZXh0KHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53c0NsaWVudC5vbmNsb3NlID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IC0gQ29ubmVjdGlvbiBjbG9zZWRcIik7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3NDbGllbnQub25vcGVuID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IC0gQ29ubmVjdGlvbiBvcGVuXCIpO1xuICAgICAgICAgICAgY29ubmVjdGlvblN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9ubWVzc2FnZSA9IChhc3luYyBtc2cgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBNZXNzYWdlOlwiLCBtc2cpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRNZXNzYWdlJC5uZXh0KG1zZyk7XG4gICAgICAgICAgICBpZiAobXNnLmRhdGEpIHtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhOiBhbnk7XG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiV2Vic29ja2V0IC0gTWVzc2FnZSB3YXMgbm90IEpTT05cIik7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBtZXNzYWdlLCBzdWNjZXNzLCBjaGFubmVsSWQsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSwgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZyB9ID0gZGF0YTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIEVycm9yIG1lc3NhZ2U6XCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT0gXCJDb21tYW5kIG5vdCBmb3VuZDogcGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdlYnNvY2tldCAtIFBpbmcgcG9uZyB0b29rIG1vcmUgdGhhbiAke3RoaXMuV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUV9bXMuIERpc2Nvbm5lY3RpbmdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGNvbm5lY3RlZCB0byB0aGUgU2lnbmFsaW5nIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhUcmllcyA9IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gMSAmJiB0cmllcyA8IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFwcGxpY2F0aW9uIGlzIHRoZSBob3N0LCBzZW5kIGEgaG9zdCByZXF1ZXN0IHRvIHJlY2VpdmUgYSBVVUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJob3N0XCIgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWVzID49IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmllcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhUcmllcyA9IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gMSAmJiB0cmllcyA8IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdCB0aGUgaG9zdCwgc2VuZCBhIGNvbm5lY3QgcmVxdWVzdCB3aXRoIHRoZSBob3N0IFVVSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNvbm5lY3RcIiwgaG9zdDogdGhpcy5ob3N0VXVpZCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZXMgPj0gbWF4VHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHNvIG5vIG5lZWQgdG8gY2hlY2sgb24gdGhlIHBpbmcgcG9uZyBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb25nQ2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGhvc3QgcmVjZWl2ZWQgYW4gVVVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxJZCAmJiB0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRPZmZlcih0aGlzLnBlZXJDb25uZWN0aW9uLCB0aGlzLndzQ2xpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicG9uZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb25nQ2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZmVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXBwbGljYXRpb24gaXMgbm90IHRoZSBob3N0LCBpdCByZWNlaXZlcyBhbiBvZmZlciB3aGVuZXZlciBhIGNsaWVudCBjb25uZWN0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjbGllbnQgd2lsbCBzZW5kIGFuIGFuc3dlciBiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2ZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ob2ZmZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0QW5zd2VyID0gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaG9zdEFuc3dlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBob3N0QW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuZXZlciB0aGUgaG9zdCByZWNlaXZlcyBhIGhvc3QgcmVxdWVzdCBiYWNrLCBzZXQgdGhlIFVVSUQgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsSWQgJiYgdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRVdWlkKGNoYW5uZWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnID0gd2ViUnRjQ29ubmVjdGlvbkNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKGNoYW5uZWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGhvc3Qgb3IgY2xpZW50IGxlYXZlcyBzZXR1cCBhIG5ldyBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFV1aWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHdpbGwgc2VuZCBhbiBhbnN3ZXIgYW5kIHRoZSBob3N0IHdpbGwgc2V0IGl0IGFzIGEgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oYW5zd2VyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNhbmRpZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gcmVjZWl2aW5nIGFuIGNhbmRpZGF0ZSBmcm9tIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRDYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2xpZW50Q2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xpZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRPZmZlcih0aGlzLnBlZXJDb25uZWN0aW9uLCB0aGlzLndzQ2xpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiV2Vic29ja2V0IG9ubWVzc2FnZSBkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZW5kUGluZygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVhZHkgc3RhdGUgMSA9IG9wZW5cbiAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50LnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBpbmdcIlxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0dXAgdGhlIHBlZXJjb25uZWN0aW9uIGFuZCBkYXRhY2hhbm5lbFxuICAgICAqIEl0IHdpbGwgYWxzbyBlbWl0IHJlY2VpdmVkIGFjdGlvbnMgb3ZlciBhbiBvYnNlcnZhYmxlXG4gICAgICogQHBhcmFtIHV1aWQgVGhlIFVVSUQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNldHVwUGVlcmNvbm5lY3Rpb24odXVpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcblxuICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbCh1dWlkKTtcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUDJQIC0gTWVzc2FnZSBpbnZhbGlkIEpTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kUDJQRGF0YShcImNsaWVudGNvbm5lY3RlZFwiLCB7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImxlYXZlXCIgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGV2ZW50LmNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBlcnJvciBiZWNhdXNlIGl0IGNhbm5vdCBhZGQgaXRzZWxmLCBpdCB3aWxsIHNlbmQgb3ZlciB3ZWJzb2NrZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjYW5kaWRhdGVcIiwgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldHVwIHRoZSBwZWVyY29ubmVjdGlvbiBhbmQgZGF0YWNoYW5uZWxcbiAgICAgKiBJdCB3aWxsIGFsc28gZW1pdCByZWNlaXZlZCBhY3Rpb25zIG92ZXIgYW4gb2JzZXJ2YWJsZVxuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyBzZXR1cENsaWVudFBlZXJjb25uZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUDJQIC0gTWVzc2FnZSBpbnZhbGlkIEpTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kUDJQRGF0YShcImNsaWVudGNvbm5lY3RlZFwiLCB7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImxlYXZlXCIgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGV2ZW50LmNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBlcnJvciBiZWNhdXNlIGl0IGNhbm5vdCBhZGQgaXRzZWxmLCBpdCB3aWxsIHNlbmQgb3ZlciB3ZWJzb2NrZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjYW5kaWRhdGVcIiwgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFJUQ0ljZUNhbmRpZGF0ZSwgUlRDUGVlckNvbm5lY3Rpb24sIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgUlRDRGF0YUNoYW5uZWwgfSBmcm9tIFwid3J0Y1wiO1xuaW1wb3J0IHsgSUNvbm5lY3Rpb25EZXRhaWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jb25uZWN0aW9uRGV0YWlsc1wiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcblxuZXhwb3J0IGNsYXNzIFdlYlJUQ0NsaWVudFYyIHtcblxuICAgIHBlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgZGF0YUNoYW5uZWw6IFJUQ0RhdGFDaGFubmVsID0gbnVsbDtcbiAgICBjbGllbnRDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHM7XG4gICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbjtcbiAgICByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzO1xuICAgIGhvc3RXc0Nvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscztcbiAgICBhY3Rpb25UeXBlOiBzdHJpbmc7XG4gICAgZGF0YUNoYW5uZWxPcGVuJCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gICAgZGF0YUNoYW5uZWxNZXNzYWdlJCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcbiAgICBkYXRhOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbixcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyxcbiAgICAgICAgaG9zdFdzQ29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzLFxuICAgICAgICBhY3Rpb25UeXBlOiBzdHJpbmcsXG4gICAgICAgIGRhdGE6IGFueVxuICAgICkge1xuICAgICAgICB0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgPSB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnO1xuICAgICAgICB0aGlzLnJlcXVlc3RlZENyZWRlbnRpYWxzID0gcmVxdWVzdGVkQ3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuaG9zdFdzQ29ubmVjdGlvbiA9IGhvc3RXc0Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IGFjdGlvblR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBzZXR1cCB0aGUgcGVlcmNvbm5lY3Rpb24gYW5kIGRhdGFjaGFubmVsXG4gICAgICogSXQgd2lsbCBhbHNvIGVtaXQgcmVjZWl2ZWQgYWN0aW9ucyBvdmVyIGFuIG9ic2VydmFibGVcbiAgICAgKiBAcGFyYW0gdXVpZCBUaGUgVVVJRCB0byBjb25uZWN0IHRvXG4gICAgICovXG4gICAgYXN5bmMgc2V0dXBQZWVyY29ubmVjdGlvbihjaGFubmVsVXVpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoY2hhbm5lbFV1aWQpO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLCBhc3luYyBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShldmVudC5jYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSB0aGlzIGVycm9yLiBBIGxvdCBvZiBjYW5kaWRhdGVzIGNhbid0IGJlIGFkZGVkIGFuZCB0aGF0cyBmaW5lOyB0aGF0J3Mgd2h5IHdlIGhhdmUgbXVsdGlwbGUgY2FuZGlkYXRlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudENoYW5uZWwuc2VuZFVURihKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY2FuZGlkYXRlXCIsIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZGF0YUNoYW5uZWxFdmVudCA9PiB7XG4gICAgICAgICAgICBkYXRhQ2hhbm5lbEV2ZW50LmNoYW5uZWwub25tZXNzYWdlID0gKGFzeW5jIG1lc3NhZ2VFdmVudCA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZUV2ZW50LmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWxNZXNzYWdlJC5uZXh0KHBhcnNlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgbWVzc2FnZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGRhdGFDaGFubmVsRXZlbnQuY2hhbm5lbC5vbm9wZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gRGF0YWNoYW5uZWwgY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9zdFdzQ29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjbGllbnRjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWxPcGVuJC5uZXh0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbEV2ZW50LmNoYW5uZWwub25jbG9zZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gRGF0YWNoYW5uZWwgb25jbG9zZTpcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0V3NDb25uZWN0aW9uLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRpc2Nvbm5lY3RcIlxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IHdpbGwgc2VuZCBhbiBvZmZlciB3aGVuIGEgY2xpZW50IGNvbm5lY3RzIHRvIGhpcyBVVUlEXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE9mZmVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgdGhpcy5jbGllbnRDaGFubmVsLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBvdmVyIHRoZSBkYXRhIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gYWN0aW9uIEFzIGEgc3RyaW5nLCB3aGljaCBhY3Rpb24gdHlwZSBkbyB5b3Ugd2FudCB0byBzZW5kP1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgYXMgYW4gb2JqZWN0XG4gICAgICovXG4gICAgIHNlbmRQMlBEYXRhKGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWwgJiYgdGhpcy5kYXRhQ2hhbm5lbC5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExpYnJhcnkgLSBTZW5kaW5nIGFjdGlvbiAnJHthY3Rpb259J2ApO1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uLCAuLi5kYXRhIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYExpYnJhcnkgLSBBdHRlbXB0ZWQgdG8gc2VuZCBkYXRhIHdpdGggYWN0aW9uICR7YWN0aW9ufSBidXQgZGF0YSBjaGFubmVsIGlzIG5vdCBvcGVuYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZW1vdGUgZGVzY3JpcHRpb24gb2YgdGhlIG90aGVyIHNpZGVcbiAgICAgKiBAcGFyYW0gcmVtb3RlRGVzY3JpcHRpb24gQ2FuIGJlIG9mZmVyIG9yIGFuc3dlciBkZXBlbmRpbmcgb24gdGhlIGNsaWVudCAvIGhvc3RcbiAgICAgKi9cbiAgICBhc3luYyBzZXRSZW1vdGVEZXNjcmlwdGlvbihyZW1vdGVEZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihyZW1vdGVEZXNjcmlwdGlvbikpO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZENhbmRpZGF0ZShjYW5kaWRhdGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50Q2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2xpZW50Q2FuZGlkYXRlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc2VuZEFuc3dlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaG9zdEFuc3dlciA9IGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihob3N0QW5zd2VyKTtcbiAgICAgICAgdGhpcy5jbGllbnRDaGFubmVsLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgIGFuc3dlcjogaG9zdEFuc3dlclxuICAgICAgICB9KSk7XG4gICAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicnhqc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1dWlkXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYjNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2Vic29ja2V0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndydGNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhciB2MTMuMi42XG4gKiAoYykgMjAxMC0yMDIyIEdvb2dsZSBMTEMuIGh0dHBzOi8vYW5ndWxhci5pby9cbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbmltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiwgT2JzZXJ2YWJsZSwgbWVyZ2UgYXMgbWVyZ2UkMSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc2hhcmUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eShvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0KSB7XG4gICAgICAgIGlmIChvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3Rba2V5XSA9PT0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LicpO1xufVxuLyoqXG4gKiBTZXRzIHByb3BlcnRpZXMgb24gYSB0YXJnZXQgb2JqZWN0IGZyb20gYSBzb3VyY2Ugb2JqZWN0LCBidXQgb25seSBpZlxuICogdGhlIHByb3BlcnR5IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCB0byBzZXQgcHJvcGVydGllcyBvblxuICogQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9mIHRoZSBwcm9wZXJ0eSBrZXlzIGFuZCB2YWx1ZXMgdG8gc2V0XG4gKi9cbmZ1bmN0aW9uIGZpbGxQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5KHRva2VuKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuICdbJyArIHRva2VuLm1hcChzdHJpbmdpZnkpLmpvaW4oJywgJykgKyAnXSc7XG4gICAgfVxuICAgIGlmICh0b2tlbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGAke3Rva2VuLm92ZXJyaWRkZW5OYW1lfWA7XG4gICAgfVxuICAgIGlmICh0b2tlbi5uYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHt0b2tlbi5uYW1lfWA7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IHRva2VuLnRvU3RyaW5nKCk7XG4gICAgaWYgKHJlcyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHJlcztcbiAgICB9XG4gICAgY29uc3QgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoJ1xcbicpO1xuICAgIHJldHVybiBuZXdMaW5lSW5kZXggPT09IC0xID8gcmVzIDogcmVzLnN1YnN0cmluZygwLCBuZXdMaW5lSW5kZXgpO1xufVxuLyoqXG4gKiBDb25jYXRlbmF0ZXMgdHdvIHN0cmluZ3Mgd2l0aCBzZXBhcmF0b3IsIGFsbG9jYXRpbmcgbmV3IHN0cmluZ3Mgb25seSB3aGVuIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0gYmVmb3JlIGJlZm9yZSBzdHJpbmcuXG4gKiBAcGFyYW0gc2VwYXJhdG9yIHNlcGFyYXRvciBzdHJpbmcuXG4gKiBAcGFyYW0gYWZ0ZXIgYWZ0ZXIgc3RyaW5nLlxuICogQHJldHVybnMgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gY29uY2F0U3RyaW5nc1dpdGhTcGFjZShiZWZvcmUsIGFmdGVyKSB7XG4gICAgcmV0dXJuIChiZWZvcmUgPT0gbnVsbCB8fCBiZWZvcmUgPT09ICcnKSA/XG4gICAgICAgIChhZnRlciA9PT0gbnVsbCA/ICcnIDogYWZ0ZXIpIDpcbiAgICAgICAgKChhZnRlciA9PSBudWxsIHx8IGFmdGVyID09PSAnJykgPyBiZWZvcmUgOiBiZWZvcmUgKyAnICcgKyBhZnRlcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX19mb3J3YXJkX3JlZl9fID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IF9fZm9yd2FyZF9yZWZfXzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogQWxsb3dzIHRvIHJlZmVyIHRvIHJlZmVyZW5jZXMgd2hpY2ggYXJlIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGBmb3J3YXJkUmVmYCBpcyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgbmVlZCB0byByZWZlciB0byBmb3IgdGhlIHB1cnBvc2VzIG9mXG4gKiBESSBpcyBkZWNsYXJlZCwgYnV0IG5vdCB5ZXQgZGVmaW5lZC4gSXQgaXMgYWxzbyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgdXNlIHdoZW4gY3JlYXRpbmdcbiAqIGEgcXVlcnkgaXMgbm90IHlldCBkZWZpbmVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvZm9yd2FyZF9yZWYvZm9yd2FyZF9yZWZfc3BlYy50cyByZWdpb249J2ZvcndhcmRfcmVmJ31cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZm9yd2FyZFJlZihmb3J3YXJkUmVmRm4pIHtcbiAgICBmb3J3YXJkUmVmRm4uX19mb3J3YXJkX3JlZl9fID0gZm9yd2FyZFJlZjtcbiAgICBmb3J3YXJkUmVmRm4udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnkodGhpcygpKTtcbiAgICB9O1xuICAgIHJldHVybiBmb3J3YXJkUmVmRm47XG59XG4vKipcbiAqIExhemlseSByZXRyaWV2ZXMgdGhlIHJlZmVyZW5jZSB2YWx1ZSBmcm9tIGEgZm9yd2FyZFJlZi5cbiAqXG4gKiBBY3RzIGFzIHRoZSBpZGVudGl0eSBmdW5jdGlvbiB3aGVuIGdpdmVuIGEgbm9uLWZvcndhcmQtcmVmIHZhbHVlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2ZvcndhcmRfcmVmL2ZvcndhcmRfcmVmX3NwZWMudHMgcmVnaW9uPSdyZXNvbHZlX2ZvcndhcmRfcmVmJ31cbiAqXG4gKiBAc2VlIGBmb3J3YXJkUmVmYFxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiByZXNvbHZlRm9yd2FyZFJlZih0eXBlKSB7XG4gICAgcmV0dXJuIGlzRm9yd2FyZFJlZih0eXBlKSA/IHR5cGUoKSA6IHR5cGU7XG59XG4vKiogQ2hlY2tzIHdoZXRoZXIgYSBmdW5jdGlvbiBpcyB3cmFwcGVkIGJ5IGEgYGZvcndhcmRSZWZgLiAqL1xuZnVuY3Rpb24gaXNGb3J3YXJkUmVmKGZuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbi5oYXNPd25Qcm9wZXJ0eShfX2ZvcndhcmRfcmVmX18pICYmXG4gICAgICAgIGZuLl9fZm9yd2FyZF9yZWZfXyA9PT0gZm9yd2FyZFJlZjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJhc2UgVVJMIGZvciB0aGUgZXJyb3IgZGV0YWlscyBwYWdlLlxuICpcbiAqIEtlZXAgdGhlIGZpbGVzIGJlbG93IGluIGZ1bGwgc3luYzpcbiAqICAtIHBhY2thZ2VzL2NvbXBpbGVyLWNsaS9zcmMvbmd0c2MvZGlhZ25vc3RpY3Mvc3JjL2Vycm9yX2RldGFpbHNfYmFzZV91cmwudHNcbiAqICAtIHBhY2thZ2VzL2NvcmUvc3JjL2Vycm9yX2RldGFpbHNfYmFzZV91cmwudHNcbiAqL1xuY29uc3QgRVJST1JfREVUQUlMU19QQUdFX0JBU0VfVVJMID0gJ2h0dHBzOi8vYW5ndWxhci5pby9lcnJvcnMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgcnVudGltZSBlcnJvci5cbiAqIEZvcm1hdHMgYW5kIG91dHB1dHMgdGhlIGVycm9yIG1lc3NhZ2UgaW4gYSBjb25zaXN0ZW50IHdheS5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAqICAgIFJ1bnRpbWVFcnJvckNvZGUuSU5KRUNUT1JfQUxSRUFEWV9ERVNUUk9ZRUQsXG4gKiAgICBuZ0Rldk1vZGUgJiYgJ0luamVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLicpO1xuICogYGBgXG4gKlxuICogTm90ZTogdGhlIGBtZXNzYWdlYCBhcmd1bWVudCBjb250YWlucyBhIGRlc2NyaXB0aXZlIGVycm9yIG1lc3NhZ2UgYXMgYSBzdHJpbmcgaW4gZGV2ZWxvcG1lbnRcbiAqIG1vZGUgKHdoZW4gdGhlIGBuZ0Rldk1vZGVgIGlzIGRlZmluZWQpLiBJbiBwcm9kdWN0aW9uIG1vZGUgKGFmdGVyIHRyZWUtc2hha2luZyBwYXNzKSwgdGhlXG4gKiBgbWVzc2FnZWAgYXJndW1lbnQgYmVjb21lcyBgZmFsc2VgLCB0aHVzIHdlIGFjY291bnQgZm9yIGl0IGluIHRoZSB0eXBpbmdzIGFuZCB0aGUgcnVudGltZSBsb2dpYy5cbiAqL1xuY2xhc3MgUnVudGltZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvZGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybWF0UnVudGltZUVycm9yKGNvZGUsIG1lc3NhZ2UpKTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG4vKipcbiAqIENhbGxlZCB0byBmb3JtYXQgYSBydW50aW1lIGVycm9yLlxuICogU2VlIGFkZGl0aW9uYWwgaW5mbyBvbiB0aGUgYG1lc3NhZ2VgIGFyZ3VtZW50IHR5cGUgaW4gdGhlIGBSdW50aW1lRXJyb3JgIGNsYXNzIGRlc2NyaXB0aW9uLlxuICovXG5mdW5jdGlvbiBmb3JtYXRSdW50aW1lRXJyb3IoY29kZSwgbWVzc2FnZSkge1xuICAgIC8vIEVycm9yIGNvZGUgbWlnaHQgYmUgYSBuZWdhdGl2ZSBudW1iZXIsIHdoaWNoIGlzIGEgc3BlY2lhbCBtYXJrZXIgdGhhdCBpbnN0cnVjdHMgdGhlIGxvZ2ljIHRvXG4gICAgLy8gZ2VuZXJhdGUgYSBsaW5rIHRvIHRoZSBlcnJvciBkZXRhaWxzIHBhZ2Ugb24gYW5ndWxhci5pby5cbiAgICBjb25zdCBmdWxsQ29kZSA9IGBORzAke01hdGguYWJzKGNvZGUpfWA7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGAke2Z1bGxDb2RlfSR7bWVzc2FnZSA/ICc6ICcgKyBtZXNzYWdlIDogJyd9YDtcbiAgICBpZiAobmdEZXZNb2RlICYmIGNvZGUgPCAwKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGAke2Vycm9yTWVzc2FnZX0uIEZpbmQgbW9yZSBhdCAke0VSUk9SX0RFVEFJTFNfUEFHRV9CQVNFX1VSTH0vJHtmdWxsQ29kZX1gO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXNlZCBmb3Igc3RyaW5naWZ5IHJlbmRlciBvdXRwdXQgaW4gSXZ5LlxuICogSW1wb3J0YW50ISBUaGlzIGZ1bmN0aW9uIGlzIHZlcnkgcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIGFuZCB3ZSBzaG91bGRcbiAqIGJlIGV4dHJhIGNhcmVmdWwgbm90IHRvIGludHJvZHVjZSBtZWdhbW9ycGhpYyByZWFkcyBpbiBpdC5cbiAqIENoZWNrIGBjb3JlL3Rlc3QvcmVuZGVyMy9wZXJmL3JlbmRlcl9zdHJpbmdpZnlgIGZvciBiZW5jaG1hcmtzIGFuZCBhbHRlcm5hdGUgaW1wbGVtZW50YXRpb25zLlxuICovXG5mdW5jdGlvbiByZW5kZXJTdHJpbmdpZnkodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgLy8gVXNlIGBTdHJpbmdgIHNvIHRoYXQgaXQgaW52b2tlcyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgdGhlIHZhbHVlLiBOb3RlIHRoYXQgdGhpc1xuICAgIC8vIGFwcGVhcnMgdG8gYmUgZmFzdGVyIHRoYW4gY2FsbGluZyBgdmFsdWUudG9TdHJpbmdgIChzZWUgYHJlbmRlcl9zdHJpbmdpZnlgIGJlbmNobWFyaykuXG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG4vKipcbiAqIFVzZWQgdG8gc3RyaW5naWZ5IGEgdmFsdWUgc28gdGhhdCBpdCBjYW4gYmUgZGlzcGxheWVkIGluIGFuIGVycm9yIG1lc3NhZ2UuXG4gKiBJbXBvcnRhbnQhIFRoaXMgZnVuY3Rpb24gY29udGFpbnMgYSBtZWdhbW9ycGhpYyByZWFkIGFuZCBzaG91bGQgb25seSBiZVxuICogdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeUZvckVycm9yKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHZhbHVlLm5hbWUgfHwgdmFsdWUudG9TdHJpbmcoKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50eXBlLm5hbWUgfHwgdmFsdWUudHlwZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyU3RyaW5naWZ5KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogQ2FsbGVkIHdoZW4gZGlyZWN0aXZlcyBpbmplY3QgZWFjaCBvdGhlciAoY3JlYXRpbmcgYSBjaXJjdWxhciBkZXBlbmRlbmN5KSAqL1xuZnVuY3Rpb24gdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IodG9rZW4sIHBhdGgpIHtcbiAgICBjb25zdCBkZXBQYXRoID0gcGF0aCA/IGAuIERlcGVuZGVuY3kgcGF0aDogJHtwYXRoLmpvaW4oJyA+ICcpfSA+ICR7dG9rZW59YCA6ICcnO1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTIwMCAvKiBDWUNMSUNfRElfREVQRU5ERU5DWSAqLywgYENpcmN1bGFyIGRlcGVuZGVuY3kgaW4gREkgZGV0ZWN0ZWQgZm9yICR7dG9rZW59JHtkZXBQYXRofWApO1xufVxuZnVuY3Rpb24gdGhyb3dNaXhlZE11bHRpUHJvdmlkZXJFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVyc2ApO1xufVxuZnVuY3Rpb24gdGhyb3dJbnZhbGlkUHJvdmlkZXJFcnJvcihuZ01vZHVsZVR5cGUsIHByb3ZpZGVycywgcHJvdmlkZXIpIHtcbiAgICBsZXQgbmdNb2R1bGVEZXRhaWwgPSAnJztcbiAgICBpZiAobmdNb2R1bGVUeXBlICYmIHByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBwcm92aWRlckRldGFpbCA9IHByb3ZpZGVycy5tYXAodiA9PiB2ID09IHByb3ZpZGVyID8gJz8nICsgcHJvdmlkZXIgKyAnPycgOiAnLi4uJyk7XG4gICAgICAgIG5nTW9kdWxlRGV0YWlsID1cbiAgICAgICAgICAgIGAgLSBvbmx5IGluc3RhbmNlcyBvZiBQcm92aWRlciBhbmQgVHlwZSBhcmUgYWxsb3dlZCwgZ290OiBbJHtwcm92aWRlckRldGFpbC5qb2luKCcsICcpfV1gO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvdmlkZXIgZm9yIHRoZSBOZ01vZHVsZSAnJHtzdHJpbmdpZnkobmdNb2R1bGVUeXBlKX0nYCArIG5nTW9kdWxlRGV0YWlsKTtcbn1cbi8qKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiBhIHRva2VuIGlzIG5vdCBmb3VuZCBpbiBESS4gKi9cbmZ1bmN0aW9uIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHRva2VuLCBpbmplY3Rvck5hbWUpIHtcbiAgICBjb25zdCBpbmplY3RvckRldGFpbHMgPSBpbmplY3Rvck5hbWUgPyBgIGluICR7aW5qZWN0b3JOYW1lfWAgOiAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0yMDEgLyogUFJPVklERVJfTk9UX0ZPVU5EICovLCBgTm8gcHJvdmlkZXIgZm9yICR7c3RyaW5naWZ5Rm9yRXJyb3IodG9rZW4pfSBmb3VuZCR7aW5qZWN0b3JEZXRhaWxzfWApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE51bWJlcihhY3R1YWwsIG1zZykge1xuICAgIGlmICghKHR5cGVvZiBhY3R1YWwgPT09ICdudW1iZXInKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgdHlwZW9mIGFjdHVhbCwgJ251bWJlcicsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXJJblJhbmdlKGFjdHVhbCwgbWluSW5jbHVzaXZlLCBtYXhJbmNsdXNpdmUpIHtcbiAgICBhc3NlcnROdW1iZXIoYWN0dWFsLCAnRXhwZWN0ZWQgYSBudW1iZXInKTtcbiAgICBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoYWN0dWFsLCBtYXhJbmNsdXNpdmUsICdFeHBlY3RlZCBudW1iZXIgdG8gYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvJyk7XG4gICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGFjdHVhbCwgbWluSW5jbHVzaXZlLCAnRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0bycpO1xufVxuZnVuY3Rpb24gYXNzZXJ0U3RyaW5nKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKCEodHlwZW9mIGFjdHVhbCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0dWFsLCAnc3RyaW5nJywgJz09PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKCEodHlwZW9mIGFjdHVhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3R1YWwsICdmdW5jdGlvbicsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgIT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnIT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRTYW1lKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA9PT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90U2FtZShhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgIT09IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJyE9PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydExlc3NUaGFuKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA8IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJzwnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsIDw9IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJzw9Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0R3JlYXRlclRoYW4oYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID4gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPj0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPj0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3REZWZpbmVkKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCAhPSBudWxsKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIG51bGwsICc9PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydERlZmluZWQoYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoYWN0dWFsID09IG51bGwpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgbnVsbCwgJyE9Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmlzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFTU0VSVElPTiBFUlJPUjogJHttc2d9YCArXG4gICAgICAgIChjb21wYXJpc29uID09IG51bGwgPyAnJyA6IGAgW0V4cGVjdGVkPT4gJHtleHBlY3RlZH0gJHtjb21wYXJpc29ufSAke2FjdHVhbH0gPD1BY3R1YWxdYCkpO1xufVxuZnVuY3Rpb24gYXNzZXJ0RG9tTm9kZShub2RlKSB7XG4gICAgLy8gSWYgd2UncmUgaW4gYSB3b3JrZXIsIGBOb2RlYCB3aWxsIG5vdCBiZSBkZWZpbmVkLlxuICAgIGlmICghKHR5cGVvZiBOb2RlICE9PSAndW5kZWZpbmVkJyAmJiBub2RlIGluc3RhbmNlb2YgTm9kZSkgJiZcbiAgICAgICAgISh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcgJiYgbm9kZSAhPSBudWxsICYmXG4gICAgICAgICAgICBub2RlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdXZWJXb3JrZXJSZW5kZXJOb2RlJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgVGhlIHByb3ZpZGVkIHZhbHVlIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgYSBET00gTm9kZSBidXQgZ290ICR7c3RyaW5naWZ5KG5vZGUpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5SYW5nZShhcnIsIGluZGV4KSB7XG4gICAgYXNzZXJ0RGVmaW5lZChhcnIsICdBcnJheSBtdXN0IGJlIGRlZmluZWQuJyk7XG4gICAgY29uc3QgbWF4TGVuID0gYXJyLmxlbmd0aDtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IG1heExlbikge1xuICAgICAgICB0aHJvd0Vycm9yKGBJbmRleCBleHBlY3RlZCB0byBiZSBsZXNzIHRoYW4gJHttYXhMZW59IGJ1dCBnb3QgJHtpbmRleH1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRPbmVPZih2YWx1ZSwgLi4udmFsaWRWYWx1ZXMpIHtcbiAgICBpZiAodmFsaWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgJHtKU09OLnN0cmluZ2lmeSh2YWxpZFZhbHVlcyl9IGJ1dCB3YXMgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LmApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29uc3RydWN0IGFuIGluamVjdGFibGUgZGVmaW5pdGlvbiB3aGljaCBkZWZpbmVzIGhvdyBhIHRva2VuIHdpbGwgYmUgY29uc3RydWN0ZWQgYnkgdGhlIERJXG4gKiBzeXN0ZW0sIGFuZCBpbiB3aGljaCBpbmplY3RvcnMgKGlmIGFueSkgaXQgd2lsbCBiZSBhdmFpbGFibGUuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgYXNzaWduZWQgdG8gYSBzdGF0aWMgYMm1cHJvdmAgZmllbGQgb24gYSB0eXBlLCB3aGljaCB3aWxsIHRoZW4gYmUgYW5cbiAqIGBJbmplY3RhYmxlVHlwZWAuXG4gKlxuICogT3B0aW9uczpcbiAqICogYHByb3ZpZGVkSW5gIGRldGVybWluZXMgd2hpY2ggaW5qZWN0b3JzIHdpbGwgaW5jbHVkZSB0aGUgaW5qZWN0YWJsZSwgYnkgZWl0aGVyIGFzc29jaWF0aW5nIGl0XG4gKiAgIHdpdGggYW4gYEBOZ01vZHVsZWAgb3Igb3RoZXIgYEluamVjdG9yVHlwZWAsIG9yIGJ5IHNwZWNpZnlpbmcgdGhhdCB0aGlzIGluamVjdGFibGUgc2hvdWxkIGJlXG4gKiAgIHByb3ZpZGVkIGluIHRoZSBgJ3Jvb3QnYCBpbmplY3Rvciwgd2hpY2ggd2lsbCBiZSB0aGUgYXBwbGljYXRpb24tbGV2ZWwgaW5qZWN0b3IgaW4gbW9zdCBhcHBzLlxuICogKiBgZmFjdG9yeWAgZ2l2ZXMgdGhlIHplcm8gYXJndW1lbnQgZnVuY3Rpb24gd2hpY2ggd2lsbCBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIGluamVjdGFibGUuXG4gKiAgIFRoZSBmYWN0b3J5IGNhbiBjYWxsIGBpbmplY3RgIHRvIGFjY2VzcyB0aGUgYEluamVjdG9yYCBhbmQgcmVxdWVzdCBpbmplY3Rpb24gb2YgZGVwZW5kZW5jaWVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKiBAcHVibGljQXBpIFRoaXMgaW5zdHJ1Y3Rpb24gaGFzIGJlZW4gZW1pdHRlZCBieSBWaWV3RW5naW5lIGZvciBzb21lIHRpbWUgYW5kIGlzIGRlcGxveWVkIHRvIG5wbS5cbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZUluamVjdGFibGUob3B0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuOiBvcHRzLnRva2VuLFxuICAgICAgICBwcm92aWRlZEluOiBvcHRzLnByb3ZpZGVkSW4gfHwgbnVsbCxcbiAgICAgICAgZmFjdG9yeTogb3B0cy5mYWN0b3J5LFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIGluIHY4LCBkZWxldGUgYWZ0ZXIgdjEwLiBUaGlzIEFQSSBzaG91bGQgYmUgdXNlZCBvbmx5IGJ5IGdlbmVyYXRlZCBjb2RlLCBhbmQgdGhhdFxuICogY29kZSBzaG91bGQgbm93IHVzZSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBkZWZpbmVJbmplY3RhYmxlID0gybXJtWRlZmluZUluamVjdGFibGU7XG4vKipcbiAqIENvbnN0cnVjdCBhbiBgSW5qZWN0b3JEZWZgIHdoaWNoIGNvbmZpZ3VyZXMgYW4gaW5qZWN0b3IuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgYXNzaWduZWQgdG8gYSBzdGF0aWMgaW5qZWN0b3IgZGVmIChgybVpbmpgKSBmaWVsZCBvbiBhIHR5cGUsIHdoaWNoIHdpbGwgdGhlbiBiZSBhblxuICogYEluamVjdG9yVHlwZWAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAqIGBwcm92aWRlcnNgOiBhbiBvcHRpb25hbCBhcnJheSBvZiBwcm92aWRlcnMgdG8gYWRkIHRvIHRoZSBpbmplY3Rvci4gRWFjaCBwcm92aWRlciBtdXN0XG4gKiAgIGVpdGhlciBoYXZlIGEgZmFjdG9yeSBvciBwb2ludCB0byBhIHR5cGUgd2hpY2ggaGFzIGEgYMm1cHJvdmAgc3RhdGljIHByb3BlcnR5ICh0aGVcbiAqICAgdHlwZSBtdXN0IGJlIGFuIGBJbmplY3RhYmxlVHlwZWApLlxuICogKiBgaW1wb3J0c2A6IGFuIG9wdGlvbmFsIGFycmF5IG9mIGltcG9ydHMgb2Ygb3RoZXIgYEluamVjdG9yVHlwZWBzIG9yIGBJbmplY3RvclR5cGVXaXRoTW9kdWxlYHNcbiAqICAgd2hvc2UgcHJvdmlkZXJzIHdpbGwgYWxzbyBiZSBhZGRlZCB0byB0aGUgaW5qZWN0b3IuIExvY2FsbHkgcHJvdmlkZWQgdHlwZXMgd2lsbCBvdmVycmlkZVxuICogICBwcm92aWRlcnMgZnJvbSBpbXBvcnRzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVJbmplY3RvcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgcHJvdmlkZXJzOiBvcHRpb25zLnByb3ZpZGVycyB8fCBbXSwgaW1wb3J0czogb3B0aW9ucy5pbXBvcnRzIHx8IFtdIH07XG59XG4vKipcbiAqIFJlYWQgdGhlIGluamVjdGFibGUgZGVmIChgybVwcm92YCkgZm9yIGB0eXBlYCBpbiBhIHdheSB3aGljaCBpcyBpbW11bmUgdG8gYWNjaWRlbnRhbGx5IHJlYWRpbmdcbiAqIGluaGVyaXRlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdHlwZSBBIHR5cGUgd2hpY2ggbWF5IGhhdmUgaXRzIG93biAobm9uLWluaGVyaXRlZCkgYMm1cHJvdmAuXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdGFibGVEZWYodHlwZSkge1xuICAgIHJldHVybiBnZXRPd25EZWZpbml0aW9uKHR5cGUsIE5HX1BST1ZfREVGKSB8fCBnZXRPd25EZWZpbml0aW9uKHR5cGUsIE5HX0lOSkVDVEFCTEVfREVGKTtcbn1cbi8qKlxuICogUmV0dXJuIGRlZmluaXRpb24gb25seSBpZiBpdCBpcyBkZWZpbmVkIGRpcmVjdGx5IG9uIGB0eXBlYCBhbmQgaXMgbm90IGluaGVyaXRlZCBmcm9tIGEgYmFzZVxuICogY2xhc3Mgb2YgYHR5cGVgLlxuICovXG5mdW5jdGlvbiBnZXRPd25EZWZpbml0aW9uKHR5cGUsIGZpZWxkKSB7XG4gICAgcmV0dXJuIHR5cGUuaGFzT3duUHJvcGVydHkoZmllbGQpID8gdHlwZVtmaWVsZF0gOiBudWxsO1xufVxuLyoqXG4gKiBSZWFkIHRoZSBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIGZvciBgdHlwZWAgb3IgcmVhZCB0aGUgYMm1cHJvdmAgZnJvbSBvbmUgb2YgaXRzIGFuY2VzdG9ycy5cbiAqXG4gKiBAcGFyYW0gdHlwZSBBIHR5cGUgd2hpY2ggbWF5IGhhdmUgYMm1cHJvdmAsIHZpYSBpbmhlcml0YW5jZS5cbiAqXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBBbmd1bGFyLCB3aGVyZSBhbiBlcnJvciB3aWxsIG9jY3VyIGluIHRoZVxuICogICAgIHNjZW5hcmlvIGlmIHdlIGZpbmQgdGhlIGDJtXByb3ZgIG9uIGFuIGFuY2VzdG9yIG9ubHkuXG4gKi9cbmZ1bmN0aW9uIGdldEluaGVyaXRlZEluamVjdGFibGVEZWYodHlwZSkge1xuICAgIGNvbnN0IGRlZiA9IHR5cGUgJiYgKHR5cGVbTkdfUFJPVl9ERUZdIHx8IHR5cGVbTkdfSU5KRUNUQUJMRV9ERUZdKTtcbiAgICBpZiAoZGVmKSB7XG4gICAgICAgIGNvbnN0IHR5cGVOYW1lID0gZ2V0VHlwZU5hbWUodHlwZSk7XG4gICAgICAgIC8vIFRPRE8oRlctMTMwNyk6IFJlLWFkZCBuZ0Rldk1vZGUgd2hlbiBjbG9zdXJlIGNhbiBoYW5kbGUgaXRcbiAgICAgICAgLy8gbmdEZXZNb2RlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihgREVQUkVDQVRFRDogREkgaXMgaW5zdGFudGlhdGluZyBhIHRva2VuIFwiJHt0eXBlTmFtZX1cIiB0aGF0IGluaGVyaXRzIGl0cyBASW5qZWN0YWJsZSBkZWNvcmF0b3IgYnV0IGRvZXMgbm90IHByb3ZpZGUgb25lIGl0c2VsZi5cXG5gICtcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgYmVjb21lIGFuIGVycm9yIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgQW5ndWxhci4gUGxlYXNlIGFkZCBASW5qZWN0YWJsZSgpIHRvIHRoZSBcIiR7dHlwZU5hbWV9XCIgY2xhc3MuYCk7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vKiogR2V0cyB0aGUgbmFtZSBvZiBhIHR5cGUsIGFjY291bnRpbmcgZm9yIHNvbWUgY3Jvc3MtYnJvd3NlciBkaWZmZXJlbmNlcy4gKi9cbmZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAvLyBgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWVgIGJlaGF2ZXMgZGlmZmVyZW50bHkgYmV0d2VlbiBJRSBhbmQgb3RoZXIgYnJvd3NlcnMuIEluIG1vc3QgYnJvd3NlcnNcbiAgICAvLyBpdCdsbCBhbHdheXMgcmV0dXJuIHRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiBpdHNlbGYsIG5vIG1hdHRlciBob3cgbWFueSBvdGhlciBmdW5jdGlvbnMgaXRcbiAgICAvLyBpbmhlcml0cyBmcm9tLiBPbiBJRSB0aGUgZnVuY3Rpb24gZG9lc24ndCBoYXZlIGl0cyBvd24gYG5hbWVgIHByb3BlcnR5LCBidXQgaXQgdGFrZXMgaXQgZnJvbVxuICAgIC8vIHRoZSBsb3dlc3QgbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi4gRS5nLiBpZiB3ZSBoYXZlIGBjbGFzcyBGb28gZXh0ZW5kcyBQYXJlbnRgIG1vc3RcbiAgICAvLyBicm93c2VycyB3aWxsIGV2YWx1YXRlIGBGb28ubmFtZWAgdG8gYEZvb2Agd2hpbGUgSUUgd2lsbCByZXR1cm4gYFBhcmVudGAuIFdlIHdvcmsgYXJvdW5kXG4gICAgLy8gdGhlIGlzc3VlIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIHRvIGEgc3RyaW5nIGFuZCBwYXJzaW5nIGl0cyBuYW1lIG91dCB0aGF0IHdheSB2aWEgYSByZWdleC5cbiAgICBpZiAodHlwZS5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm5hbWU7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gKCcnICsgdHlwZSkubWF0Y2goL15mdW5jdGlvblxccyooW15cXHMoXSspLyk7XG4gICAgcmV0dXJuIG1hdGNoID09PSBudWxsID8gJycgOiBtYXRjaFsxXTtcbn1cbi8qKlxuICogUmVhZCB0aGUgaW5qZWN0b3IgZGVmIHR5cGUgaW4gYSB3YXkgd2hpY2ggaXMgaW1tdW5lIHRvIGFjY2lkZW50YWxseSByZWFkaW5nIGluaGVyaXRlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdHlwZSB0eXBlIHdoaWNoIG1heSBoYXZlIGFuIGluamVjdG9yIGRlZiAoYMm1aW5qYClcbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0b3JEZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlICYmICh0eXBlLmhhc093blByb3BlcnR5KE5HX0lOSl9ERUYpIHx8IHR5cGUuaGFzT3duUHJvcGVydHkoTkdfSU5KRUNUT1JfREVGKSkgP1xuICAgICAgICB0eXBlW05HX0lOSl9ERUZdIDpcbiAgICAgICAgbnVsbDtcbn1cbmNvbnN0IE5HX1BST1ZfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1cHJvdjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0lOSl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVpbmo6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG4vLyBXZSBuZWVkIHRvIGtlZXAgdGhlc2UgYXJvdW5kIHNvIHdlIGNhbiByZWFkIG9mZiBvbGQgZGVmcyBpZiBuZXcgZGVmcyBhcmUgdW5hdmFpbGFibGVcbmNvbnN0IE5HX0lOSkVDVEFCTEVfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nSW5qZWN0YWJsZURlZjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0lOSkVDVE9SX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBuZ0luamVjdG9yRGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSW5qZWN0aW9uIGZsYWdzIGZvciBESS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBJbmplY3RGbGFncztcbihmdW5jdGlvbiAoSW5qZWN0RmxhZ3MpIHtcbiAgICAvLyBUT0RPKGFseGh1Yik6IG1ha2UgdGhpcyAnY29uc3QnIChhbmQgcmVtb3ZlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBlbnVtKSB3aGVuIG5nYyBubyBsb25nZXJcbiAgICAvLyB3cml0ZXMgZXhwb3J0cyBvZiBpdCBpbnRvIG5nZmFjdG9yeSBmaWxlcy5cbiAgICAvKiogQ2hlY2sgc2VsZiBhbmQgY2hlY2sgcGFyZW50IGluamVjdG9yIGlmIG5lZWRlZCAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiRGVmYXVsdFwiXSA9IDBdID0gXCJEZWZhdWx0XCI7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoYXQgYW4gaW5qZWN0b3Igc2hvdWxkIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBmcm9tIGFueSBpbmplY3RvciB1bnRpbCByZWFjaGluZyB0aGVcbiAgICAgKiBob3N0IGVsZW1lbnQgb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50LiAoT25seSB1c2VkIHdpdGggRWxlbWVudCBJbmplY3RvcilcbiAgICAgKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIkhvc3RcIl0gPSAxXSA9IFwiSG9zdFwiO1xuICAgIC8qKiBEb24ndCBhc2NlbmQgdG8gYW5jZXN0b3JzIG9mIHRoZSBub2RlIHJlcXVlc3RpbmcgaW5qZWN0aW9uLiAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiU2VsZlwiXSA9IDJdID0gXCJTZWxmXCI7XG4gICAgLyoqIFNraXAgdGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGluamVjdGlvbi4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIlNraXBTZWxmXCJdID0gNF0gPSBcIlNraXBTZWxmXCI7XG4gICAgLyoqIEluamVjdCBgZGVmYXVsdFZhbHVlYCBpbnN0ZWFkIGlmIHRva2VuIG5vdCBmb3VuZC4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIk9wdGlvbmFsXCJdID0gOF0gPSBcIk9wdGlvbmFsXCI7XG59KShJbmplY3RGbGFncyB8fCAoSW5qZWN0RmxhZ3MgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiBpbmplY3QuXG4gKlxuICogQnkgZGVmYXVsdCwgaXQgaXMgYGluamVjdEluamVjdG9yT25seWAsIHdoaWNoIG1ha2VzIGl0IGBJbmplY3RvcmAtb25seSBhd2FyZS4gSXQgY2FuIGJlIGNoYW5nZWRcbiAqIHRvIGBkaXJlY3RpdmVJbmplY3RgLCB3aGljaCBicmluZ3MgaW4gdGhlIGBOb2RlSW5qZWN0b3JgIHN5c3RlbSBvZiBpdnkuIEl0IGlzIGRlc2lnbmVkIHRoaXNcbiAqIHdheSBmb3IgdHdvIHJlYXNvbnM6XG4gKiAgMS4gYEluamVjdG9yYCBzaG91bGQgbm90IGRlcGVuZCBvbiBpdnkgbG9naWMuXG4gKiAgMi4gVG8gbWFpbnRhaW4gdHJlZSBzaGFrZS1hYmlsaXR5IHdlIGRvbid0IHdhbnQgdG8gYnJpbmcgaW4gdW5uZWNlc3NhcnkgY29kZS5cbiAqL1xubGV0IF9pbmplY3RJbXBsZW1lbnRhdGlvbjtcbmZ1bmN0aW9uIGdldEluamVjdEltcGxlbWVudGF0aW9uKCkge1xuICAgIHJldHVybiBfaW5qZWN0SW1wbGVtZW50YXRpb247XG59XG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgaW5qZWN0IGltcGxlbWVudGF0aW9uLlxuICovXG5mdW5jdGlvbiBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihpbXBsKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSBfaW5qZWN0SW1wbGVtZW50YXRpb247XG4gICAgX2luamVjdEltcGxlbWVudGF0aW9uID0gaW1wbDtcbiAgICByZXR1cm4gcHJldmlvdXM7XG59XG4vKipcbiAqIEluamVjdHMgYHJvb3RgIHRva2VucyBpbiBsaW1wIG1vZGUuXG4gKlxuICogSWYgbm8gaW5qZWN0b3IgZXhpc3RzLCB3ZSBjYW4gc3RpbGwgaW5qZWN0IHRyZWUtc2hha2FibGUgcHJvdmlkZXJzIHdoaWNoIGhhdmUgYHByb3ZpZGVkSW5gIHNldCB0b1xuICogYFwicm9vdFwiYC4gVGhpcyBpcyBrbm93biBhcyB0aGUgbGltcCBtb2RlIGluamVjdGlvbi4gSW4gc3VjaCBjYXNlIHRoZSB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlXG4gKiBpbmplY3RhYmxlIGRlZmluaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGluamVjdFJvb3RMaW1wTW9kZSh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpIHtcbiAgICBjb25zdCBpbmplY3RhYmxlRGVmID0gZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgaWYgKGluamVjdGFibGVEZWYgJiYgaW5qZWN0YWJsZURlZi5wcm92aWRlZEluID09ICdyb290Jykge1xuICAgICAgICByZXR1cm4gaW5qZWN0YWJsZURlZi52YWx1ZSA9PT0gdW5kZWZpbmVkID8gaW5qZWN0YWJsZURlZi52YWx1ZSA9IGluamVjdGFibGVEZWYuZmFjdG9yeSgpIDpcbiAgICAgICAgICAgIGluamVjdGFibGVEZWYudmFsdWU7XG4gICAgfVxuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcihzdHJpbmdpZnkodG9rZW4pLCAnSW5qZWN0b3InKTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgYF9pbmplY3RJbXBsZW1lbnRhdGlvbmAgaXMgbm90IGBmbmAuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwsIHRvIHByZXZlbnQgaW5maW5pdGUgcmVjdXJzaW9uLlxuICpcbiAqIEBwYXJhbSBmbiBGdW5jdGlvbiB3aGljaCBpdCBzaG91bGQgbm90IGVxdWFsIHRvXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEluamVjdEltcGxlbWVudGF0aW9uTm90RXF1YWwoZm4pIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoX2luamVjdEltcGxlbWVudGF0aW9uLCBmbiwgJ0NhbGxpbmcgybXJtWluamVjdCB3b3VsZCBjYXVzZSBpbmZpbml0ZSByZWN1cnNpb24nKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnZpbmNlIGNsb3N1cmUgY29tcGlsZXIgdGhhdCB0aGUgd3JhcHBlZCBmdW5jdGlvbiBoYXMgbm8gc2lkZS1lZmZlY3RzLlxuICpcbiAqIENsb3N1cmUgY29tcGlsZXIgYWx3YXlzIGFzc3VtZXMgdGhhdCBgdG9TdHJpbmdgIGhhcyBubyBzaWRlLWVmZmVjdHMuIFdlIHVzZSB0aGlzIHF1aXJrIHRvXG4gKiBhbGxvdyB1cyB0byBleGVjdXRlIGEgZnVuY3Rpb24gYnV0IGhhdmUgY2xvc3VyZSBjb21waWxlciBtYXJrIHRoZSBjYWxsIGFzIG5vLXNpZGUtZWZmZWN0cy5cbiAqIEl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSByZXR1cm4gdmFsdWUgZm9yIHRoZSBgbm9TaWRlRWZmZWN0c2AgZnVuY3Rpb24gYmUgYXNzaWduZWRcbiAqIHRvIHNvbWV0aGluZyB3aGljaCBpcyByZXRhaW5lZCBvdGhlcndpc2UgdGhlIGNhbGwgdG8gYG5vU2lkZUVmZmVjdHNgIHdpbGwgYmUgcmVtb3ZlZCBieSBjbG9zdXJlXG4gKiBjb21waWxlci5cbiAqL1xuZnVuY3Rpb24gbm9TaWRlRWZmZWN0cyhmbikge1xuICAgIHJldHVybiB7IHRvU3RyaW5nOiBmbiB9LnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgc3RyYXRlZ3kgdGhhdCB0aGUgZGVmYXVsdCBjaGFuZ2UgZGV0ZWN0b3IgdXNlcyB0byBkZXRlY3QgY2hhbmdlcy5cbiAqIFdoZW4gc2V0LCB0YWtlcyBlZmZlY3QgdGhlIG5leHQgdGltZSBjaGFuZ2UgZGV0ZWN0aW9uIGlzIHRyaWdnZXJlZC5cbiAqXG4gKiBAc2VlIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiN1c2FnZS1ub3RlcyBDaGFuZ2UgZGV0ZWN0aW9uIHVzYWdlfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIENoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSkge1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgYENoZWNrT25jZWAgc3RyYXRlZ3ksIG1lYW5pbmcgdGhhdCBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbiBpcyBkZWFjdGl2YXRlZFxuICAgICAqIHVudGlsIHJlYWN0aXZhdGVkIGJ5IHNldHRpbmcgdGhlIHN0cmF0ZWd5IHRvIGBEZWZhdWx0YCAoYENoZWNrQWx3YXlzYCkuXG4gICAgICogQ2hhbmdlIGRldGVjdGlvbiBjYW4gc3RpbGwgYmUgZXhwbGljaXRseSBpbnZva2VkLlxuICAgICAqIFRoaXMgc3RyYXRlZ3kgYXBwbGllcyB0byBhbGwgY2hpbGQgZGlyZWN0aXZlcyBhbmQgY2Fubm90IGJlIG92ZXJyaWRkZW4uXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJPblB1c2hcIl0gPSAwXSA9IFwiT25QdXNoXCI7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBkZWZhdWx0IGBDaGVja0Fsd2F5c2Agc3RyYXRlZ3ksIGluIHdoaWNoIGNoYW5nZSBkZXRlY3Rpb24gaXMgYXV0b21hdGljIHVudGlsXG4gICAgICogZXhwbGljaXRseSBkZWFjdGl2YXRlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtcIkRlZmF1bHRcIl0gPSAxXSA9IFwiRGVmYXVsdFwiO1xufSkoQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgfHwgKENoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0ge30pKTtcbi8qKlxuICogRGVmaW5lcyB0aGUgcG9zc2libGUgc3RhdGVzIG9mIHRoZSBkZWZhdWx0IGNoYW5nZSBkZXRlY3Rvci5cbiAqIEBzZWUgYENoYW5nZURldGVjdG9yUmVmYFxuICovXG52YXIgQ2hhbmdlRGV0ZWN0b3JTdGF0dXM7XG4oZnVuY3Rpb24gKENoYW5nZURldGVjdG9yU3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZSBpbiB3aGljaCwgYWZ0ZXIgY2FsbGluZyBgZGV0ZWN0Q2hhbmdlcygpYCwgdGhlIGNoYW5nZSBkZXRlY3RvclxuICAgICAqIHN0YXRlIGJlY29tZXMgYENoZWNrZWRgLCBhbmQgbXVzdCBiZSBleHBsaWNpdGx5IGludm9rZWQgb3IgcmVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja09uY2VcIl0gPSAwXSA9IFwiQ2hlY2tPbmNlXCI7XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZSBpbiB3aGljaCBjaGFuZ2UgZGV0ZWN0aW9uIGlzIHNraXBwZWQgdW50aWwgdGhlIGNoYW5nZSBkZXRlY3RvciBtb2RlXG4gICAgICogYmVjb21lcyBgQ2hlY2tPbmNlYC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkNoZWNrZWRcIl0gPSAxXSA9IFwiQ2hlY2tlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggY2hhbmdlIGRldGVjdGlvbiBjb250aW51ZXMgYXV0b21hdGljYWxseSB1bnRpbCBleHBsaWNpdGx5XG4gICAgICogZGVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja0Fsd2F5c1wiXSA9IDJdID0gXCJDaGVja0Fsd2F5c1wiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggYSBjaGFuZ2UgZGV0ZWN0b3Igc3ViIHRyZWUgaXMgbm90IGEgcGFydCBvZiB0aGUgbWFpbiB0cmVlIGFuZFxuICAgICAqIHNob3VsZCBiZSBza2lwcGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRGV0YWNoZWRcIl0gPSAzXSA9IFwiRGV0YWNoZWRcIjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgY2hhbmdlIGRldGVjdG9yIGVuY291bnRlcmVkIGFuIGVycm9yIGNoZWNraW5nIGEgYmluZGluZ1xuICAgICAqIG9yIGNhbGxpbmcgYSBkaXJlY3RpdmUgbGlmZWN5Y2xlIG1ldGhvZCBhbmQgaXMgbm93IGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS4gQ2hhbmdlXG4gICAgICogZGV0ZWN0b3JzIGluIHRoaXMgc3RhdGUgZG8gbm90IGRldGVjdCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRXJyb3JlZFwiXSA9IDRdID0gXCJFcnJvcmVkXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJEZXN0cm95ZWRcIl0gPSA1XSA9IFwiRGVzdHJveWVkXCI7XG59KShDaGFuZ2VEZXRlY3RvclN0YXR1cyB8fCAoQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgPSB7fSkpO1xuLyoqXG4gKiBSZXBvcnRzIHdoZXRoZXIgYSBnaXZlbiBzdHJhdGVneSBpcyBjdXJyZW50bHkgdGhlIGRlZmF1bHQgZm9yIGNoYW5nZSBkZXRlY3Rpb24uXG4gKiBAcGFyYW0gY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgVGhlIHN0cmF0ZWd5IHRvIGNoZWNrLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZ2l2ZW4gc3RyYXRlZ3kgaXMgdGhlIGN1cnJlbnQgZGVmYXVsdCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICogQHNlZSBgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNgXG4gKiBAc2VlIGBDaGFuZ2VEZXRlY3RvclJlZmBcbiAqL1xuZnVuY3Rpb24gaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3koY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPT0gbnVsbCB8fFxuICAgICAgICBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9PT0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERlZmluZXMgdGhlIENTUyBzdHlsZXMgZW5jYXBzdWxhdGlvbiBwb2xpY2llcyBmb3IgdGhlIHtAbGluayBDb21wb25lbnR9IGRlY29yYXRvcidzXG4gKiBgZW5jYXBzdWxhdGlvbmAgb3B0aW9uLlxuICpcbiAqIFNlZSB7QGxpbmsgQ29tcG9uZW50I2VuY2Fwc3VsYXRpb24gZW5jYXBzdWxhdGlvbn0uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvdHMvbWV0YWRhdGEvZW5jYXBzdWxhdGlvbi50cyByZWdpb249J2xvbmdmb3JtJ31cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBWaWV3RW5jYXBzdWxhdGlvbiQxO1xuKGZ1bmN0aW9uIChWaWV3RW5jYXBzdWxhdGlvbikge1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIG1ha2luZyBgVmlld0VuY2Fwc3VsYXRpb25gIGEgYGNvbnN0IGVudW1gIGluc3RlYWQuIFNlZVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzQ0MTE5IGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICAgIC8qKlxuICAgICAqIEVtdWxhdGVzIGEgbmF0aXZlIFNoYWRvdyBET00gZW5jYXBzdWxhdGlvbiBiZWhhdmlvciBieSBhZGRpbmcgYSBzcGVjaWZpYyBhdHRyaWJ1dGUgdG8gdGhlXG4gICAgICogY29tcG9uZW50J3MgaG9zdCBlbGVtZW50IGFuZCBhcHBseWluZyB0aGUgc2FtZSBhdHRyaWJ1dGUgdG8gYWxsIHRoZSBDU1Mgc2VsZWN0b3JzIHByb3ZpZGVkXG4gICAgICogdmlhIHtAbGluayBDb21wb25lbnQjc3R5bGVzIHN0eWxlc30gb3Ige0BsaW5rIENvbXBvbmVudCNzdHlsZVVybHMgc3R5bGVVcmxzfS5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgb3B0aW9uLlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiRW11bGF0ZWRcIl0gPSAwXSA9IFwiRW11bGF0ZWRcIjtcbiAgICAvLyBIaXN0b3JpY2FsbHkgdGhlIDEgdmFsdWUgd2FzIGZvciBgTmF0aXZlYCBlbmNhcHN1bGF0aW9uIHdoaWNoIGhhcyBiZWVuIHJlbW92ZWQgYXMgb2YgdjExLlxuICAgIC8qKlxuICAgICAqIERvZXNuJ3QgcHJvdmlkZSBhbnkgc29ydCBvZiBDU1Mgc3R5bGUgZW5jYXBzdWxhdGlvbiwgbWVhbmluZyB0aGF0IGFsbCB0aGUgc3R5bGVzIHByb3ZpZGVkXG4gICAgICogdmlhIHtAbGluayBDb21wb25lbnQjc3R5bGVzIHN0eWxlc30gb3Ige0BsaW5rIENvbXBvbmVudCNzdHlsZVVybHMgc3R5bGVVcmxzfSBhcmUgYXBwbGljYWJsZVxuICAgICAqIHRvIGFueSBIVE1MIGVsZW1lbnQgb2YgdGhlIGFwcGxpY2F0aW9uIHJlZ2FyZGxlc3Mgb2YgdGhlaXIgaG9zdCBDb21wb25lbnQuXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJOb25lXCJdID0gMl0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBVc2VzIHRoZSBicm93c2VyJ3MgbmF0aXZlIFNoYWRvdyBET00gQVBJIHRvIGVuY2Fwc3VsYXRlIENTUyBzdHlsZXMsIG1lYW5pbmcgdGhhdCBpdCBjcmVhdGVzXG4gICAgICogYSBTaGFkb3dSb290IGZvciB0aGUgY29tcG9uZW50J3MgaG9zdCBlbGVtZW50IHdoaWNoIGlzIHRoZW4gdXNlZCB0byBlbmNhcHN1bGF0ZVxuICAgICAqIGFsbCB0aGUgQ29tcG9uZW50J3Mgc3R5bGluZy5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIlNoYWRvd0RvbVwiXSA9IDNdID0gXCJTaGFkb3dEb21cIjtcbn0pKFZpZXdFbmNhcHN1bGF0aW9uJDEgfHwgKFZpZXdFbmNhcHN1bGF0aW9uJDEgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IF9fZ2xvYmFsVGhpcyA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzO1xuY29uc3QgX193aW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3c7XG5jb25zdCBfX3NlbGYgPSB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJiBzZWxmO1xuY29uc3QgX19nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWw7XG4vLyBBbHdheXMgdXNlIF9fZ2xvYmFsVGhpcyBpZiBhdmFpbGFibGUsIHdoaWNoIGlzIHRoZSBzcGVjLWRlZmluZWQgZ2xvYmFsIHZhcmlhYmxlIGFjcm9zcyBhbGxcbi8vIGVudmlyb25tZW50cywgdGhlbiBmYWxsYmFjayB0byBfX2dsb2JhbCBmaXJzdCwgYmVjYXVzZSBpbiBOb2RlIHRlc3RzIGJvdGggX19nbG9iYWwgYW5kXG4vLyBfX3dpbmRvdyBtYXkgYmUgZGVmaW5lZCBhbmQgX2dsb2JhbCBzaG91bGQgYmUgX19nbG9iYWwgaW4gdGhhdCBjYXNlLlxuY29uc3QgX2dsb2JhbCA9IF9fZ2xvYmFsVGhpcyB8fCBfX2dsb2JhbCB8fCBfX3dpbmRvdyB8fCBfX3NlbGY7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbmdEZXZNb2RlUmVzZXRQZXJmQ291bnRlcnMoKSB7XG4gICAgY29uc3QgbG9jYXRpb25TdHJpbmcgPSB0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnID8gbG9jYXRpb24udG9TdHJpbmcoKSA6ICcnO1xuICAgIGNvbnN0IG5ld0NvdW50ZXJzID0ge1xuICAgICAgICBuYW1lZENvbnN0cnVjdG9yczogbG9jYXRpb25TdHJpbmcuaW5kZXhPZignbmdEZXZNb2RlPW5hbWVkQ29uc3RydWN0b3JzJykgIT0gLTEsXG4gICAgICAgIGZpcnN0Q3JlYXRlUGFzczogMCxcbiAgICAgICAgdE5vZGU6IDAsXG4gICAgICAgIHRWaWV3OiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZVRleHROb2RlOiAwLFxuICAgICAgICByZW5kZXJlclNldFRleHQ6IDAsXG4gICAgICAgIHJlbmRlcmVyQ3JlYXRlRWxlbWVudDogMCxcbiAgICAgICAgcmVuZGVyZXJBZGRFdmVudExpc3RlbmVyOiAwLFxuICAgICAgICByZW5kZXJlclNldEF0dHJpYnV0ZTogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGU6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0UHJvcGVydHk6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0Q2xhc3NOYW1lOiAwLFxuICAgICAgICByZW5kZXJlckFkZENsYXNzOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZUNsYXNzOiAwLFxuICAgICAgICByZW5kZXJlclNldFN0eWxlOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZVN0eWxlOiAwLFxuICAgICAgICByZW5kZXJlckRlc3Ryb3k6IDAsXG4gICAgICAgIHJlbmRlcmVyRGVzdHJveU5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyTW92ZU5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlTm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJBcHBlbmRDaGlsZDogMCxcbiAgICAgICAgcmVuZGVyZXJJbnNlcnRCZWZvcmU6IDAsXG4gICAgICAgIHJlbmRlcmVyQ3JlYXRlQ29tbWVudDogMCxcbiAgICB9O1xuICAgIC8vIE1ha2Ugc3VyZSB0byByZWZlciB0byBuZ0Rldk1vZGUgYXMgWyduZ0Rldk1vZGUnXSBmb3IgY2xvc3VyZS5cbiAgICBjb25zdCBhbGxvd05nRGV2TW9kZVRydWUgPSBsb2NhdGlvblN0cmluZy5pbmRleE9mKCduZ0Rldk1vZGU9ZmFsc2UnKSA9PT0gLTE7XG4gICAgX2dsb2JhbFsnbmdEZXZNb2RlJ10gPSBhbGxvd05nRGV2TW9kZVRydWUgJiYgbmV3Q291bnRlcnM7XG4gICAgcmV0dXJuIG5ld0NvdW50ZXJzO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlIGBuZ0Rldk1vZGVgIGhhcyBiZWVuIHNldC4gSWYgeWVzLFxuICogdGhlbiB3ZSBob25vciBpdCwgb3RoZXJ3aXNlIHdlIGRlZmF1bHQgdG8gZGV2IG1vZGUgd2l0aCBhZGRpdGlvbmFsIGNoZWNrcy5cbiAqXG4gKiBUaGUgaWRlYSBpcyB0aGF0IHVubGVzcyB3ZSBhcmUgZG9pbmcgcHJvZHVjdGlvbiBidWlsZCB3aGVyZSB3ZSBleHBsaWNpdGx5XG4gKiBzZXQgYG5nRGV2TW9kZSA9PSBmYWxzZWAgd2Ugc2hvdWxkIGJlIGhlbHBpbmcgdGhlIGRldmVsb3BlciBieSBwcm92aWRpbmdcbiAqIGFzIG11Y2ggZWFybHkgd2FybmluZyBhbmQgZXJyb3JzIGFzIHBvc3NpYmxlLlxuICpcbiAqIGDJtcm1ZGVmaW5lQ29tcG9uZW50YCBpcyBndWFyYW50ZWVkIHRvIGhhdmUgYmVlbiBjYWxsZWQgYmVmb3JlIGFueSBjb21wb25lbnQgdGVtcGxhdGUgZnVuY3Rpb25zXG4gKiAoYW5kIHRodXMgSXZ5IGluc3RydWN0aW9ucyksIHNvIGEgc2luZ2xlIGluaXRpYWxpemF0aW9uIHRoZXJlIGlzIHN1ZmZpY2llbnQgdG8gZW5zdXJlIG5nRGV2TW9kZVxuICogaXMgZGVmaW5lZCBmb3IgdGhlIGVudGlyZSBpbnN0cnVjdGlvbiBzZXQuXG4gKlxuICogV2hlbiBjaGVja2luZyBgbmdEZXZNb2RlYCBvbiB0b3BsZXZlbCwgYWx3YXlzIGluaXQgaXQgYmVmb3JlIHJlZmVyZW5jaW5nIGl0XG4gKiAoZS5nLiBgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKSlgKSwgb3RoZXJ3aXNlIHlvdSBjYW5cbiAqICBnZXQgYSBgUmVmZXJlbmNlRXJyb3JgIGxpa2UgaW4gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzE1OTUuXG4gKlxuICogRGV0YWlscyBvbiBwb3NzaWJsZSB2YWx1ZXMgZm9yIGBuZ0Rldk1vZGVgIGNhbiBiZSBmb3VuZCBvbiBpdHMgZG9jc3RyaW5nLlxuICpcbiAqIE5PVEU6XG4gKiAtIGNoYW5nZXMgdG8gdGhlIGBuZ0Rldk1vZGVgIG5hbWUgbXVzdCBiZSBzeW5jZWQgd2l0aCBgY29tcGlsZXItY2xpL3NyYy90b29saW5nLnRzYC5cbiAqL1xuZnVuY3Rpb24gaW5pdE5nRGV2TW9kZSgpIHtcbiAgICAvLyBUaGUgYmVsb3cgY2hlY2tzIGFyZSB0byBlbnN1cmUgdGhhdCBjYWxsaW5nIGBpbml0TmdEZXZNb2RlYCBtdWx0aXBsZSB0aW1lcyBkb2VzIG5vdFxuICAgIC8vIHJlc2V0IHRoZSBjb3VudGVycy5cbiAgICAvLyBJZiB0aGUgYG5nRGV2TW9kZWAgaXMgbm90IGFuIG9iamVjdCwgdGhlbiBpdCBtZWFucyB3ZSBoYXZlIG5vdCBjcmVhdGVkIHRoZSBwZXJmIGNvdW50ZXJzXG4gICAgLy8geWV0LlxuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgbmdEZXZNb2RlICE9PSAndW5kZWZpbmVkJyAmJiAhIW5nRGV2TW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIHJldXNlYWJsZSBcImVtcHR5XCIgc3ltYm9scyB0aGF0IGNhbiBiZSB1c2VkIGFzIGRlZmF1bHQgcmV0dXJuIHZhbHVlc1xuICogaW4gZGlmZmVyZW50IHBhcnRzIG9mIHRoZSByZW5kZXJpbmcgY29kZS4gQmVjYXVzZSB0aGUgc2FtZSBzeW1ib2xzIGFyZSByZXR1cm5lZCwgdGhpc1xuICogYWxsb3dzIGZvciBpZGVudGl0eSBjaGVja3MgYWdhaW5zdCB0aGVzZSB2YWx1ZXMgdG8gYmUgY29uc2lzdGVudGx5IHVzZWQgYnkgdGhlIGZyYW1ld29ya1xuICogY29kZS5cbiAqL1xuY29uc3QgRU1QVFlfT0JKID0ge307XG5jb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuLy8gZnJlZXppbmcgdGhlIHZhbHVlcyBwcmV2ZW50cyBhbnkgY29kZSBmcm9tIGFjY2lkZW50YWxseSBpbnNlcnRpbmcgbmV3IHZhbHVlcyBpblxuaWYgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKSkge1xuICAgIC8vIFRoZXNlIHByb3BlcnR5IGFjY2Vzc2VzIGNhbiBiZSBpZ25vcmVkIGJlY2F1c2UgbmdEZXZNb2RlIHdpbGwgYmUgc2V0IHRvIGZhbHNlXG4gICAgLy8gd2hlbiBvcHRpbWl6aW5nIGNvZGUgYW5kIHRoZSB3aG9sZSBpZiBzdGF0ZW1lbnQgd2lsbCBiZSBkcm9wcGVkLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBPYmplY3QuZnJlZXplKEVNUFRZX09CSik7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgIE9iamVjdC5mcmVlemUoRU1QVFlfQVJSQVkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IE5HX0NPTVBfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1Y21wOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfRElSX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWRpcjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX1BJUEVfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1cGlwZTogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX01PRF9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVtb2Q6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19GQUNUT1JZX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWZhYzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogSWYgYSBkaXJlY3RpdmUgaXMgZGlQdWJsaWMsIGJsb29tQWRkIHNldHMgYSBwcm9wZXJ0eSBvbiB0aGUgdHlwZSB3aXRoIHRoaXMgY29uc3RhbnQgYXNcbiAqIHRoZSBrZXkgYW5kIHRoZSBkaXJlY3RpdmUncyB1bmlxdWUgSUQgYXMgdGhlIHZhbHVlLiBUaGlzIGFsbG93cyB1cyB0byBtYXAgZGlyZWN0aXZlcyB0byB0aGVpclxuICogYmxvb20gZmlsdGVyIGJpdCBmb3IgREkuXG4gKi9cbi8vIFRPRE8obWlza28pOiBUaGlzIGlzIHdyb25nLiBUaGUgTkdfRUxFTUVOVF9JRCBzaG91bGQgbmV2ZXIgYmUgbWluaWZpZWQuXG5jb25zdCBOR19FTEVNRU5UX0lEID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IF9fTkdfRUxFTUVOVF9JRF9fOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBfcmVuZGVyQ29tcENvdW50ID0gMDtcbi8qKlxuICogQ3JlYXRlIGEgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqXG4gKiAjIEV4YW1wbGVcbiAqIGBgYFxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICAvLyBHZW5lcmF0ZWQgYnkgQW5ndWxhciBUZW1wbGF0ZSBDb21waWxlclxuICogICAvLyBbU3ltYm9sXSBzeW50YXggd2lsbCBub3QgYmUgc3VwcG9ydGVkIGJ5IFR5cGVTY3JpcHQgdW50aWwgdjIuN1xuICogICBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAgIC4uLlxuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZUNvbXBvbmVudChjb21wb25lbnREZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICAvLyBJbml0aWFsaXplIG5nRGV2TW9kZS4gVGhpcyBtdXN0IGJlIHRoZSBmaXJzdCBzdGF0ZW1lbnQgaW4gybXJtWRlZmluZUNvbXBvbmVudC5cbiAgICAgICAgLy8gU2VlIHRoZSBgaW5pdE5nRGV2TW9kZWAgZG9jc3RyaW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBjb21wb25lbnREZWZpbml0aW9uLnR5cGU7XG4gICAgICAgIGNvbnN0IGRlY2xhcmVkSW5wdXRzID0ge307XG4gICAgICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBwcm92aWRlcnNSZXNvbHZlcjogbnVsbCxcbiAgICAgICAgICAgIGRlY2xzOiBjb21wb25lbnREZWZpbml0aW9uLmRlY2xzLFxuICAgICAgICAgICAgdmFyczogY29tcG9uZW50RGVmaW5pdGlvbi52YXJzLFxuICAgICAgICAgICAgZmFjdG9yeTogbnVsbCxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBjb21wb25lbnREZWZpbml0aW9uLnRlbXBsYXRlIHx8IG51bGwsXG4gICAgICAgICAgICBjb25zdHM6IGNvbXBvbmVudERlZmluaXRpb24uY29uc3RzIHx8IG51bGwsXG4gICAgICAgICAgICBuZ0NvbnRlbnRTZWxlY3RvcnM6IGNvbXBvbmVudERlZmluaXRpb24ubmdDb250ZW50U2VsZWN0b3JzLFxuICAgICAgICAgICAgaG9zdEJpbmRpbmdzOiBjb21wb25lbnREZWZpbml0aW9uLmhvc3RCaW5kaW5ncyB8fCBudWxsLFxuICAgICAgICAgICAgaG9zdFZhcnM6IGNvbXBvbmVudERlZmluaXRpb24uaG9zdFZhcnMgfHwgMCxcbiAgICAgICAgICAgIGhvc3RBdHRyczogY29tcG9uZW50RGVmaW5pdGlvbi5ob3N0QXR0cnMgfHwgbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRRdWVyaWVzOiBjb21wb25lbnREZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzIHx8IG51bGwsXG4gICAgICAgICAgICBkZWNsYXJlZElucHV0czogZGVjbGFyZWRJbnB1dHMsXG4gICAgICAgICAgICBpbnB1dHM6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXRzOiBudWxsLFxuICAgICAgICAgICAgZXhwb3J0QXM6IGNvbXBvbmVudERlZmluaXRpb24uZXhwb3J0QXMgfHwgbnVsbCxcbiAgICAgICAgICAgIG9uUHVzaDogY29tcG9uZW50RGVmaW5pdGlvbi5jaGFuZ2VEZXRlY3Rpb24gPT09IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIGRpcmVjdGl2ZURlZnM6IG51bGwsXG4gICAgICAgICAgICBwaXBlRGVmczogbnVsbCxcbiAgICAgICAgICAgIHNlbGVjdG9yczogY29tcG9uZW50RGVmaW5pdGlvbi5zZWxlY3RvcnMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICB2aWV3UXVlcnk6IGNvbXBvbmVudERlZmluaXRpb24udmlld1F1ZXJ5IHx8IG51bGwsXG4gICAgICAgICAgICBmZWF0dXJlczogY29tcG9uZW50RGVmaW5pdGlvbi5mZWF0dXJlcyB8fCBudWxsLFxuICAgICAgICAgICAgZGF0YTogY29tcG9uZW50RGVmaW5pdGlvbi5kYXRhIHx8IHt9LFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29tcG9uZW50RGVmaW5pdGlvbi5lbmNhcHN1bGF0aW9uIHx8IFZpZXdFbmNhcHN1bGF0aW9uJDEuRW11bGF0ZWQsXG4gICAgICAgICAgICBpZDogJ2MnLFxuICAgICAgICAgICAgc3R5bGVzOiBjb21wb25lbnREZWZpbml0aW9uLnN0eWxlcyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIF86IG51bGwsXG4gICAgICAgICAgICBzZXRJbnB1dDogbnVsbCxcbiAgICAgICAgICAgIHNjaGVtYXM6IGNvbXBvbmVudERlZmluaXRpb24uc2NoZW1hcyB8fCBudWxsLFxuICAgICAgICAgICAgdFZpZXc6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZVR5cGVzID0gY29tcG9uZW50RGVmaW5pdGlvbi5kaXJlY3RpdmVzO1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gY29tcG9uZW50RGVmaW5pdGlvbi5mZWF0dXJlcztcbiAgICAgICAgY29uc3QgcGlwZVR5cGVzID0gY29tcG9uZW50RGVmaW5pdGlvbi5waXBlcztcbiAgICAgICAgZGVmLmlkICs9IF9yZW5kZXJDb21wQ291bnQrKztcbiAgICAgICAgZGVmLmlucHV0cyA9IGludmVydE9iamVjdChjb21wb25lbnREZWZpbml0aW9uLmlucHV0cywgZGVjbGFyZWRJbnB1dHMpLFxuICAgICAgICAgICAgZGVmLm91dHB1dHMgPSBpbnZlcnRPYmplY3QoY29tcG9uZW50RGVmaW5pdGlvbi5vdXRwdXRzKSxcbiAgICAgICAgICAgIGZlYXR1cmUgJiYgZmVhdHVyZS5mb3JFYWNoKChmbikgPT4gZm4oZGVmKSk7XG4gICAgICAgIGRlZi5kaXJlY3RpdmVEZWZzID0gZGlyZWN0aXZlVHlwZXMgP1xuICAgICAgICAgICAgKCkgPT4gKHR5cGVvZiBkaXJlY3RpdmVUeXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IGRpcmVjdGl2ZVR5cGVzKCkgOiBkaXJlY3RpdmVUeXBlcylcbiAgICAgICAgICAgICAgICAubWFwKGV4dHJhY3REaXJlY3RpdmVEZWYpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIGRlZi5waXBlRGVmcyA9IHBpcGVUeXBlcyA/XG4gICAgICAgICAgICAoKSA9PiAodHlwZW9mIHBpcGVUeXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IHBpcGVUeXBlcygpIDogcGlwZVR5cGVzKS5tYXAoZXh0cmFjdFBpcGVEZWYpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfSk7XG59XG4vKipcbiAqIEdlbmVyYXRlZCBuZXh0IHRvIE5nTW9kdWxlcyB0byBtb25rZXktcGF0Y2ggZGlyZWN0aXZlIGFuZCBwaXBlIHJlZmVyZW5jZXMgb250byBhIGNvbXBvbmVudCdzXG4gKiBkZWZpbml0aW9uLCB3aGVuIGdlbmVyYXRpbmcgYSBkaXJlY3QgcmVmZXJlbmNlIGluIHRoZSBjb21wb25lbnQgZmlsZSB3b3VsZCBvdGhlcndpc2UgY3JlYXRlIGFuXG4gKiBpbXBvcnQgY3ljbGUuXG4gKlxuICogU2VlIFt0aGlzIGV4cGxhbmF0aW9uXShodHRwczovL2hhY2ttZC5pby9PZHc4MEQwcFI2eWZzT2pnXzdYQ0pnP3ZpZXcpIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNldENvbXBvbmVudFNjb3BlKHR5cGUsIGRpcmVjdGl2ZXMsIHBpcGVzKSB7XG4gICAgY29uc3QgZGVmID0gdHlwZS7JtWNtcDtcbiAgICBkZWYuZGlyZWN0aXZlRGVmcyA9ICgpID0+IGRpcmVjdGl2ZXMubWFwKGV4dHJhY3REaXJlY3RpdmVEZWYpO1xuICAgIGRlZi5waXBlRGVmcyA9ICgpID0+IHBpcGVzLm1hcChleHRyYWN0UGlwZURlZik7XG59XG5mdW5jdGlvbiBleHRyYWN0RGlyZWN0aXZlRGVmKHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSBnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIWRlZikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3R5cGUubmFtZX0nIGlzIG5laXRoZXIgJ0NvbXBvbmVudFR5cGUnIG9yICdEaXJlY3RpdmVUeXBlJy5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RQaXBlRGVmKHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSBnZXRQaXBlRGVmJDEodHlwZSk7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhZGVmKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dHlwZS5uYW1lfScgaXMgbm90IGEgJ1BpcGVUeXBlJy5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmNvbnN0IGF1dG9SZWdpc3Rlck1vZHVsZUJ5SWQgPSB7fTtcbi8qKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZU5nTW9kdWxlKGRlZikge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgdHlwZTogZGVmLnR5cGUsXG4gICAgICAgICAgICBib290c3RyYXA6IGRlZi5ib290c3RyYXAgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlZi5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBpbXBvcnRzOiBkZWYuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIGV4cG9ydHM6IGRlZi5leHBvcnRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgdHJhbnNpdGl2ZUNvbXBpbGVTY29wZXM6IG51bGwsXG4gICAgICAgICAgICBzY2hlbWFzOiBkZWYuc2NoZW1hcyB8fCBudWxsLFxuICAgICAgICAgICAgaWQ6IGRlZi5pZCB8fCBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVmLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGF1dG9SZWdpc3Rlck1vZHVsZUJ5SWRbZGVmLmlkXSA9IGRlZi50eXBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG59XG4vKipcbiAqIEFkZHMgdGhlIG1vZHVsZSBtZXRhZGF0YSB0aGF0IGlzIG5lY2Vzc2FyeSB0byBjb21wdXRlIHRoZSBtb2R1bGUncyB0cmFuc2l0aXZlIHNjb3BlIHRvIGFuXG4gKiBleGlzdGluZyBtb2R1bGUgZGVmaW5pdGlvbi5cbiAqXG4gKiBTY29wZSBtZXRhZGF0YSBvZiBtb2R1bGVzIGlzIG5vdCB1c2VkIGluIHByb2R1Y3Rpb24gYnVpbGRzLCBzbyBjYWxscyB0byB0aGlzIGZ1bmN0aW9uIGNhbiBiZVxuICogbWFya2VkIHB1cmUgdG8gdHJlZS1zaGFrZSBpdCBmcm9tIHRoZSBidW5kbGUsIGFsbG93aW5nIGZvciBhbGwgcmVmZXJlbmNlZCBkZWNsYXJhdGlvbnNcbiAqIHRvIGJlY29tZSBlbGlnaWJsZSBmb3IgdHJlZS1zaGFraW5nIGFzIHdlbGwuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNldE5nTW9kdWxlU2NvcGUodHlwZSwgc2NvcGUpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdHJ1ZSk7XG4gICAgICAgIG5nTW9kdWxlRGVmLmRlY2xhcmF0aW9ucyA9IHNjb3BlLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWTtcbiAgICAgICAgbmdNb2R1bGVEZWYuaW1wb3J0cyA9IHNjb3BlLmltcG9ydHMgfHwgRU1QVFlfQVJSQVk7XG4gICAgICAgIG5nTW9kdWxlRGVmLmV4cG9ydHMgPSBzY29wZS5leHBvcnRzIHx8IEVNUFRZX0FSUkFZO1xuICAgIH0pO1xufVxuLyoqXG4gKiBJbnZlcnRzIGFuIGlucHV0cyBvciBvdXRwdXRzIGxvb2t1cCBzdWNoIHRoYXQgdGhlIGtleXMsIHdoaWNoIHdlcmUgdGhlXG4gKiBtaW5pZmllZCBrZXlzLCBhcmUgcGFydCBvZiB0aGUgdmFsdWVzLCBhbmQgdGhlIHZhbHVlcyBhcmUgcGFyc2VkIHNvIHRoYXRcbiAqIHRoZSBwdWJsaWNOYW1lIG9mIHRoZSBwcm9wZXJ0eSBpcyB0aGUgbmV3IGtleVxuICpcbiAqIGUuZy4gZm9yXG4gKlxuICogYGBgXG4gKiBjbGFzcyBDb21wIHtcbiAqICAgQElucHV0KClcbiAqICAgcHJvcE5hbWUxOiBzdHJpbmc7XG4gKlxuICogICBASW5wdXQoJ3B1YmxpY05hbWUyJylcbiAqICAgZGVjbGFyZWRQcm9wTmFtZTI6IG51bWJlcjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIHdpbGwgYmUgc2VyaWFsaXplZCBhc1xuICpcbiAqIGBgYFxuICoge1xuICogICBwcm9wTmFtZTE6ICdwcm9wTmFtZTEnLFxuICogICBkZWNsYXJlZFByb3BOYW1lMjogWydwdWJsaWNOYW1lMicsICdkZWNsYXJlZFByb3BOYW1lMiddLFxuICogfVxuICogYGBgXG4gKlxuICogd2hpY2ggaXMgdGhhbiB0cmFuc2xhdGVkIGJ5IHRoZSBtaW5pZmllciBhczpcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAgbWluaWZpZWRQcm9wTmFtZTE6ICdwcm9wTmFtZTEnLFxuICogICBtaW5pZmllZFByb3BOYW1lMjogWydwdWJsaWNOYW1lMicsICdkZWNsYXJlZFByb3BOYW1lMiddLFxuICogfVxuICogYGBgXG4gKlxuICogYmVjb21lczogKHB1YmxpYyBuYW1lID0+IG1pbmlmaWVkTmFtZSlcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAncHJvcE5hbWUxJzogJ21pbmlmaWVkUHJvcE5hbWUxJyxcbiAqICAncHVibGljTmFtZTInOiAnbWluaWZpZWRQcm9wTmFtZTInLFxuICogfVxuICogYGBgXG4gKlxuICogT3B0aW9uYWxseSB0aGUgZnVuY3Rpb24gY2FuIHRha2UgYHNlY29uZGFyeWAgd2hpY2ggd2lsbCByZXN1bHQgaW46IChwdWJsaWMgbmFtZSA9PiBkZWNsYXJlZCBuYW1lKVxuICpcbiAqIGBgYFxuICoge1xuICogICdwcm9wTmFtZTEnOiAncHJvcE5hbWUxJyxcbiAqICAncHVibGljTmFtZTInOiAnZGVjbGFyZWRQcm9wTmFtZTInLFxuICogfVxuICogYGBgXG4gKlxuXG4gKi9cbmZ1bmN0aW9uIGludmVydE9iamVjdChvYmosIHNlY29uZGFyeSkge1xuICAgIGlmIChvYmogPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICBjb25zdCBuZXdMb29rdXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG1pbmlmaWVkS2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG1pbmlmaWVkS2V5KSkge1xuICAgICAgICAgICAgbGV0IHB1YmxpY05hbWUgPSBvYmpbbWluaWZpZWRLZXldO1xuICAgICAgICAgICAgbGV0IGRlY2xhcmVkTmFtZSA9IHB1YmxpY05hbWU7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwdWJsaWNOYW1lKSkge1xuICAgICAgICAgICAgICAgIGRlY2xhcmVkTmFtZSA9IHB1YmxpY05hbWVbMV07XG4gICAgICAgICAgICAgICAgcHVibGljTmFtZSA9IHB1YmxpY05hbWVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdMb29rdXBbcHVibGljTmFtZV0gPSBtaW5pZmllZEtleTtcbiAgICAgICAgICAgIGlmIChzZWNvbmRhcnkpIHtcbiAgICAgICAgICAgICAgICAoc2Vjb25kYXJ5W3B1YmxpY05hbWVdID0gZGVjbGFyZWROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3TG9va3VwO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGB0c1xuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICAvLyBHZW5lcmF0ZWQgYnkgQW5ndWxhciBUZW1wbGF0ZSBDb21waWxlclxuICogICAvLyBbU3ltYm9sXSBzeW50YXggd2lsbCBub3QgYmUgc3VwcG9ydGVkIGJ5IFR5cGVTY3JpcHQgdW50aWwgdjIuN1xuICogICBzdGF0aWMgybVkaXIgPSDJtcm1ZGVmaW5lRGlyZWN0aXZlKHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5jb25zdCDJtcm1ZGVmaW5lRGlyZWN0aXZlID0gybXJtWRlZmluZUNvbXBvbmVudDtcbi8qKlxuICogQ3JlYXRlIGEgcGlwZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiAjIEV4YW1wbGVcbiAqIGBgYFxuICogY2xhc3MgTXlQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG4gKiAgIC8vIEdlbmVyYXRlZCBieSBBbmd1bGFyIFRlbXBsYXRlIENvbXBpbGVyXG4gKiAgIHN0YXRpYyDJtXBpcGUgPSBkZWZpbmVQaXBlKHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBwaXBlRGVmIFBpcGUgZGVmaW5pdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZVBpcGUocGlwZURlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBpcGVEZWYudHlwZSxcbiAgICAgICAgbmFtZTogcGlwZURlZi5uYW1lLFxuICAgICAgICBmYWN0b3J5OiBudWxsLFxuICAgICAgICBwdXJlOiBwaXBlRGVmLnB1cmUgIT09IGZhbHNlLFxuICAgICAgICBvbkRlc3Ryb3k6IHBpcGVEZWYudHlwZS5wcm90b3R5cGUubmdPbkRlc3Ryb3kgfHwgbnVsbFxuICAgIH07XG59XG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZ2V0dGVyIG1ldGhvZHMgcmV0cmlldmUgdGhlIGRlZmluaXRpb24gZnJvbSB0aGUgdHlwZS4gQ3VycmVudGx5IHRoZSByZXRyaWV2YWxcbiAqIGhvbm9ycyBpbmhlcml0YW5jZSwgYnV0IGluIHRoZSBmdXR1cmUgd2UgbWF5IGNoYW5nZSB0aGUgcnVsZSB0byByZXF1aXJlIHRoYXQgZGVmaW5pdGlvbnMgYXJlXG4gKiBleHBsaWNpdC4gVGhpcyB3b3VsZCByZXF1aXJlIHNvbWUgc29ydCBvZiBtaWdyYXRpb24gc3RyYXRlZ3kuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudERlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbTkdfQ09NUF9ERUZdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXREaXJlY3RpdmVEZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX0RJUl9ERUZdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXRQaXBlRGVmJDEodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX1BJUEVfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdGhyb3dOb3RGb3VuZCkge1xuICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gdHlwZVtOR19NT0RfREVGXSB8fCBudWxsO1xuICAgIGlmICghbmdNb2R1bGVEZWYgJiYgdGhyb3dOb3RGb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFR5cGUgJHtzdHJpbmdpZnkodHlwZSl9IGRvZXMgbm90IGhhdmUgJ8m1bW9kJyBwcm9wZXJ0eS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIG5nTW9kdWxlRGVmO1xufVxuXG4vKipcbiAqIFNwZWNpYWwgbG9jYXRpb24gd2hpY2ggYWxsb3dzIGVhc3kgaWRlbnRpZmljYXRpb24gb2YgdHlwZS4gSWYgd2UgaGF2ZSBhbiBhcnJheSB3aGljaCB3YXNcbiAqIHJldHJpZXZlZCBmcm9tIHRoZSBgTFZpZXdgIGFuZCB0aGF0IGFycmF5IGhhcyBgdHJ1ZWAgYXQgYFRZUEVgIGxvY2F0aW9uLCB3ZSBrbm93IGl0IGlzXG4gKiBgTENvbnRhaW5lcmAuXG4gKi9cbmNvbnN0IFRZUEUgPSAxO1xuLyoqXG4gKiBCZWxvdyBhcmUgY29uc3RhbnRzIGZvciBMQ29udGFpbmVyIGluZGljZXMgdG8gaGVscCB1cyBsb29rIHVwIExDb250YWluZXIgbWVtYmVyc1xuICogd2l0aG91dCBoYXZpbmcgdG8gcmVtZW1iZXIgdGhlIHNwZWNpZmljIGluZGljZXMuXG4gKiBVZ2xpZnkgd2lsbCBpbmxpbmUgdGhlc2Ugd2hlbiBtaW5pZnlpbmcgc28gdGhlcmUgc2hvdWxkbid0IGJlIGEgY29zdC5cbiAqL1xuLyoqXG4gKiBGbGFnIHRvIHNpZ25pZnkgdGhhdCB0aGlzIGBMQ29udGFpbmVyYCBtYXkgaGF2ZSB0cmFuc3BsYW50ZWQgdmlld3Mgd2hpY2ggbmVlZCB0byBiZSBjaGFuZ2VcbiAqIGRldGVjdGVkLiAoc2VlOiBgTFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddKWAuXG4gKlxuICogVGhpcyBmbGFnLCBvbmNlIHNldCwgaXMgbmV2ZXIgdW5zZXQgZm9yIHRoZSBgTENvbnRhaW5lcmAuIFRoaXMgbWVhbnMgdGhhdCB3aGVuIHVuc2V0IHdlIGNhbiBza2lwXG4gKiBhIGxvdCBvZiB3b3JrIGluIGByZWZyZXNoRW1iZWRkZWRWaWV3c2AuIEJ1dCB3aGVuIHNldCB3ZSBzdGlsbCBuZWVkIHRvIHZlcmlmeVxuICogdGhhdCB0aGUgYE1PVkVEX1ZJRVdTYCBhcmUgdHJhbnNwbGFudGVkIGFuZCBvbi1wdXNoLlxuICovXG5jb25zdCBIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTID0gMjtcbi8vIFBBUkVOVCwgTkVYVCwgVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0ggYXJlIGluZGljZXMgMywgNCwgYW5kIDVcbi8vIEFzIHdlIGFscmVhZHkgaGF2ZSB0aGVzZSBjb25zdGFudHMgaW4gTFZpZXcsIHdlIGRvbid0IG5lZWQgdG8gcmUtY3JlYXRlIHRoZW0uXG4vLyBUX0hPU1QgaXMgaW5kZXggNlxuLy8gV2UgYWxyZWFkeSBoYXZlIHRoaXMgY29uc3RhbnRzIGluIExWaWV3LCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNyZWF0ZSBpdC5cbmNvbnN0IE5BVElWRSA9IDc7XG5jb25zdCBWSUVXX1JFRlMgPSA4O1xuY29uc3QgTU9WRURfVklFV1MgPSA5O1xuLyoqXG4gKiBTaXplIG9mIExDb250YWluZXIncyBoZWFkZXIuIFJlcHJlc2VudHMgdGhlIGluZGV4IGFmdGVyIHdoaWNoIGFsbCB2aWV3cyBpbiB0aGVcbiAqIGNvbnRhaW5lciB3aWxsIGJlIGluc2VydGVkLiBXZSBuZWVkIHRvIGtlZXAgYSByZWNvcmQgb2YgY3VycmVudCB2aWV3cyBzbyB3ZSBrbm93XG4gKiB3aGljaCB2aWV3cyBhcmUgYWxyZWFkeSBpbiB0aGUgRE9NIChhbmQgZG9uJ3QgbmVlZCB0byBiZSByZS1hZGRlZCkgYW5kIHNvIHdlIGNhblxuICogcmVtb3ZlIHZpZXdzIGZyb20gdGhlIERPTSB3aGVuIHRoZXkgYXJlIG5vIGxvbmdlciByZXF1aXJlZC5cbiAqL1xuY29uc3QgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgPSAxMDtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDggPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIEJlbG93IGFyZSBjb25zdGFudHMgZm9yIExWaWV3IGluZGljZXMgdG8gaGVscCB1cyBsb29rIHVwIExWaWV3IG1lbWJlcnNcbi8vIHdpdGhvdXQgaGF2aW5nIHRvIHJlbWVtYmVyIHRoZSBzcGVjaWZpYyBpbmRpY2VzLlxuLy8gVWdsaWZ5IHdpbGwgaW5saW5lIHRoZXNlIHdoZW4gbWluaWZ5aW5nIHNvIHRoZXJlIHNob3VsZG4ndCBiZSBhIGNvc3QuXG5jb25zdCBIT1NUID0gMDtcbmNvbnN0IFRWSUVXID0gMTtcbmNvbnN0IEZMQUdTID0gMjtcbmNvbnN0IFBBUkVOVCA9IDM7XG5jb25zdCBORVhUID0gNDtcbmNvbnN0IFRSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIID0gNTtcbmNvbnN0IFRfSE9TVCA9IDY7XG5jb25zdCBDTEVBTlVQID0gNztcbmNvbnN0IENPTlRFWFQgPSA4O1xuY29uc3QgSU5KRUNUT1IkMSA9IDk7XG5jb25zdCBSRU5ERVJFUl9GQUNUT1JZID0gMTA7XG5jb25zdCBSRU5ERVJFUiA9IDExO1xuY29uc3QgU0FOSVRJWkVSID0gMTI7XG5jb25zdCBDSElMRF9IRUFEID0gMTM7XG5jb25zdCBDSElMRF9UQUlMID0gMTQ7XG4vLyBGSVhNRShtaXNrbyk6IEludmVzdGlnYXRlIGlmIHRoZSB0aHJlZSBkZWNsYXJhdGlvbnMgYXJlbid0IGFsbCBzYW1lIHRoaW5nLlxuY29uc3QgREVDTEFSQVRJT05fVklFVyA9IDE1O1xuY29uc3QgREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVcgPSAxNjtcbmNvbnN0IERFQ0xBUkFUSU9OX0xDT05UQUlORVIgPSAxNztcbmNvbnN0IFBSRU9SREVSX0hPT0tfRkxBR1MgPSAxODtcbmNvbnN0IFFVRVJJRVMgPSAxOTtcbi8qKlxuICogU2l6ZSBvZiBMVmlldydzIGhlYWRlci4gTmVjZXNzYXJ5IHRvIGFkanVzdCBmb3IgaXQgd2hlbiBzZXR0aW5nIHNsb3RzLlxuICpcbiAqIElNUE9SVEFOVDogYEhFQURFUl9PRkZTRVRgIHNob3VsZCBvbmx5IGJlIHJlZmVycmVkIHRvIHRoZSBpbiB0aGUgYMm1ybUqYCBpbnN0cnVjdGlvbnMgdG8gdHJhbnNsYXRlXG4gKiBpbnN0cnVjdGlvbiBpbmRleCBpbnRvIGBMVmlld2AgaW5kZXguIEFsbCBvdGhlciBpbmRleGVzIHNob3VsZCBiZSBpbiB0aGUgYExWaWV3YCBpbmRleCBzcGFjZSBhbmRcbiAqIHRoZXJlIHNob3VsZCBiZSBubyBuZWVkIHRvIHJlZmVyIHRvIGBIRUFERVJfT0ZGU0VUYCBhbnl3aGVyZSBlbHNlLlxuICovXG5jb25zdCBIRUFERVJfT0ZGU0VUID0gMjA7XG4vKipcbiAqIENvbnZlcnRzIGBUVmlld1R5cGVgIGludG8gaHVtYW4gcmVhZGFibGUgdGV4dC5cbiAqIE1ha2Ugc3VyZSB0aGlzIG1hdGNoZXMgd2l0aCBgVFZpZXdUeXBlYFxuICovXG5jb25zdCBUVmlld1R5cGVBc1N0cmluZyA9IFtcbiAgICAnUm9vdCcsXG4gICAgJ0NvbXBvbmVudCcsXG4gICAgJ0VtYmVkZGVkJywgLy8gMlxuXTtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDcgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVHJ1ZSBpZiBgdmFsdWVgIGlzIGBMVmlld2AuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gaXNMVmlldyh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWVbVFlQRV0gPT09ICdvYmplY3QnO1xufVxuLyoqXG4gKiBUcnVlIGlmIGB2YWx1ZWAgaXMgYExDb250YWluZXJgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIGlzTENvbnRhaW5lcih2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZVtUWVBFXSA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLykgIT09IDA7XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pID09PSAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLztcbn1cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLykgPT09IDEgLyogaXNEaXJlY3RpdmVIb3N0ICovO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnREZWYoZGVmKSB7XG4gICAgcmV0dXJuIGRlZi50ZW1wbGF0ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUm9vdFZpZXcodGFyZ2V0KSB7XG4gICAgcmV0dXJuICh0YXJnZXRbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLykgIT09IDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gW0Fzc2VydCBmdW5jdGlvbnMgZG8gbm90IGNvbnN0cmFpbnQgdHlwZSB3aGVuIHRoZXkgYXJlIGd1YXJkZWQgYnkgYSB0cnV0aHlcbi8vIGV4cHJlc3Npb24uXShodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM3Mjk1KVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpIHtcbiAgICBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBsVmlld1tUVklFV10pO1xufVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgdFZpZXcpIHtcbiAgICBhc3NlcnRUTm9kZSh0Tm9kZSk7XG4gICAgdE5vZGUuaGFzT3duUHJvcGVydHkoJ3RWaWV3XycpICYmXG4gICAgICAgIGFzc2VydEVxdWFsKHROb2RlLnRWaWV3XywgdFZpZXcsICdUaGlzIFROb2RlIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIFRWaWV3LicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGUodE5vZGUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKCEodE5vZGUgJiYgdHlwZW9mIHROb2RlID09PSAnb2JqZWN0JyAmJiB0Tm9kZS5oYXNPd25Qcm9wZXJ0eSgnZGlyZWN0aXZlU3R5bGluZ0xhc3QnKSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcignTm90IG9mIHR5cGUgVE5vZGUsIGdvdDogJyArIHROb2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRUSWN1KHRJY3UpIHtcbiAgICBhc3NlcnREZWZpbmVkKHRJY3UsICdFeHBlY3RlZCBUSWN1IHRvIGJlIGRlZmluZWQnKTtcbiAgICBpZiAoISh0eXBlb2YgdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXggPT09ICdudW1iZXInKSkge1xuICAgICAgICB0aHJvd0Vycm9yKCdPYmplY3QgaXMgbm90IG9mIFRJY3UgdHlwZS4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDb21wb25lbnRUeXBlKGFjdHVhbCwgbXNnID0gJ1R5cGUgcGFzc2VkIGluIGlzIG5vdCBDb21wb25lbnRUeXBlLCBpdCBkb2VzIG5vdCBoYXZlIFxcJ8m1Y21wXFwnIHByb3BlcnR5LicpIHtcbiAgICBpZiAoIWdldENvbXBvbmVudERlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROZ01vZHVsZVR5cGUoYWN0dWFsLCBtc2cgPSAnVHlwZSBwYXNzZWQgaW4gaXMgbm90IE5nTW9kdWxlVHlwZSwgaXQgZG9lcyBub3QgaGF2ZSBcXCfJtW1vZFxcJyBwcm9wZXJ0eS4nKSB7XG4gICAgaWYgKCFnZXROZ01vZHVsZURlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDdXJyZW50VE5vZGVJc1BhcmVudChpc1BhcmVudCkge1xuICAgIGFzc2VydEVxdWFsKGlzUGFyZW50LCB0cnVlLCAnY3VycmVudFROb2RlIHNob3VsZCBiZSBhIHBhcmVudCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0SGFzUGFyZW50KHROb2RlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ2N1cnJlbnRUTm9kZSBzaG91bGQgZXhpc3QhJyk7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZS5wYXJlbnQsICdjdXJyZW50VE5vZGUgc2hvdWxkIGhhdmUgYSBwYXJlbnQnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydERhdGFOZXh0KGxWaWV3LCBpbmRleCwgYXJyKSB7XG4gICAgaWYgKGFyciA9PSBudWxsKVxuICAgICAgICBhcnIgPSBsVmlldztcbiAgICBhc3NlcnRFcXVhbChhcnIubGVuZ3RoLCBpbmRleCwgYGluZGV4ICR7aW5kZXh9IGV4cGVjdGVkIHRvIGJlIGF0IHRoZSBlbmQgb2YgYXJyIChsZW5ndGggJHthcnIubGVuZ3RofSlgKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExDb250YWluZXIodmFsdWUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCAnTENvbnRhaW5lciBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBhc3NlcnRFcXVhbChpc0xDb250YWluZXIodmFsdWUpLCB0cnVlLCAnRXhwZWN0aW5nIExDb250YWluZXInKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExWaWV3T3JVbmRlZmluZWQodmFsdWUpIHtcbiAgICB2YWx1ZSAmJiBhc3NlcnRFcXVhbChpc0xWaWV3KHZhbHVlKSwgdHJ1ZSwgJ0V4cGVjdGluZyBMVmlldyBvciB1bmRlZmluZWQgb3IgbnVsbCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0TFZpZXcodmFsdWUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCAnTFZpZXcgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgYXNzZXJ0RXF1YWwoaXNMVmlldyh2YWx1ZSksIHRydWUsICdFeHBlY3RpbmcgTFZpZXcnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydEVxdWFsKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcywgdHJ1ZSwgZXJyTWVzc2FnZSB8fCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IGNyZWF0ZSBwYXNzLicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBlcnJNZXNzYWdlKSB7XG4gICAgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RVcGRhdGVQYXNzLCB0cnVlLCBlcnJNZXNzYWdlIHx8ICdTaG91bGQgb25seSBiZSBjYWxsZWQgaW4gZmlyc3QgdXBkYXRlIHBhc3MuJyk7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBzYW5pdHkgY2hlY2sgdGhhdCBhbiBvYmplY3QgaXMgcHJvYmFibHkgYSBkaXJlY3RpdmUgZGVmLiBEaXJlY3RpdmVEZWYgaXNcbiAqIGFuIGludGVyZmFjZSwgc28gd2UgY2FuJ3QgZG8gYSBkaXJlY3QgaW5zdGFuY2VvZiBjaGVjay5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0RGlyZWN0aXZlRGVmKG9iaikge1xuICAgIGlmIChvYmoudHlwZSA9PT0gdW5kZWZpbmVkIHx8IG9iai5zZWxlY3RvcnMgPT0gdW5kZWZpbmVkIHx8IG9iai5pbnB1dHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCBhIERpcmVjdGl2ZURlZi9Db21wb25lbnREZWYgYW5kIHRoaXMgb2JqZWN0IGRvZXMgbm90IHNlZW0gdG8gaGF2ZSB0aGUgZXhwZWN0ZWQgc2hhcGUuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZShsVmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3WzFdO1xuICAgIGFzc2VydEJldHdlZW4oSEVBREVSX09GRlNFVCwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5WYXJzUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCB0Vmlldy5leHBhbmRvU3RhcnRJbmRleCwgaW5kZXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3WzFdO1xuICAgIGFzc2VydEJldHdlZW4odFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIGxWaWV3Lmxlbmd0aCwgaW5kZXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0QmV0d2Vlbihsb3dlciwgdXBwZXIsIGluZGV4KSB7XG4gICAgaWYgKCEobG93ZXIgPD0gaW5kZXggJiYgaW5kZXggPCB1cHBlcikpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgSW5kZXggb3V0IG9mIHJhbmdlIChleHBlY3RpbmcgJHtsb3dlcn0gPD0gJHtpbmRleH0gPCAke3VwcGVyfSlgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRQcm9qZWN0aW9uU2xvdHMobFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSwgJ0NvbXBvbmVudCB2aWV3cyBzaG91bGQgZXhpc3QuJyk7XG4gICAgYXNzZXJ0RGVmaW5lZChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV11bVF9IT1NUXS5wcm9qZWN0aW9uLCBlcnJNZXNzYWdlIHx8XG4gICAgICAgICdDb21wb25lbnRzIHdpdGggcHJvamVjdGlvbiBub2RlcyAoPG5nLWNvbnRlbnQ+KSBtdXN0IGhhdmUgcHJvamVjdGlvbiBzbG90cyBkZWZpbmVkLicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0UGFyZW50VmlldyhsVmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydERlZmluZWQobFZpZXcsIGVyck1lc3NhZ2UgfHwgJ0NvbXBvbmVudCB2aWV3cyBzaG91bGQgYWx3YXlzIGhhdmUgYSBwYXJlbnQgdmlldyAoY29tcG9uZW50XFwncyBob3N0IHZpZXcpJyk7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBzYW5pdHkgY2hlY2sgdGhhdCB0aGUgYGluamVjdG9ySW5kZXhgIHNlZW1zIHRvIHBvaW50IHRvIHdoYXQgbG9va3MgbGlrZSBhXG4gKiBOb2RlSW5qZWN0b3IgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2Agd2hpY2ggc2hvdWxkIGJlIGNoZWNrZWQuXG4gKiBAcGFyYW0gaW5qZWN0b3JJbmRleCBpbmRleCBpbnRvIHRoZSBgTFZpZXdgIHdoZXJlIHRoZSBgTm9kZUluamVjdG9yYCBpcyBleHBlY3RlZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KSB7XG4gICAgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDBdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDFdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDJdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDNdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDRdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDVdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDZdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDddLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIHBhcmVudCBpbmplY3RvcicpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldEZhY3RvcnlEZWYodHlwZSwgdGhyb3dOb3RGb3VuZCkge1xuICAgIGNvbnN0IGhhc0ZhY3RvcnlEZWYgPSB0eXBlLmhhc093blByb3BlcnR5KE5HX0ZBQ1RPUllfREVGKTtcbiAgICBpZiAoIWhhc0ZhY3RvcnlEZWYgJiYgdGhyb3dOb3RGb3VuZCA9PT0gdHJ1ZSAmJiBuZ0Rldk1vZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlICR7c3RyaW5naWZ5KHR5cGUpfSBkb2VzIG5vdCBoYXZlICfJtWZhYycgcHJvcGVydHkuYCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNGYWN0b3J5RGVmID8gdHlwZVtOR19GQUNUT1JZX0RFRl0gOiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGJhc2ljIGNoYW5nZSBmcm9tIGEgcHJldmlvdXMgdG8gYSBuZXcgdmFsdWUgZm9yIGEgc2luZ2xlXG4gKiBwcm9wZXJ0eSBvbiBhIGRpcmVjdGl2ZSBpbnN0YW5jZS4gUGFzc2VkIGFzIGEgdmFsdWUgaW4gYVxuICoge0BsaW5rIFNpbXBsZUNoYW5nZXN9IG9iamVjdCB0byB0aGUgYG5nT25DaGFuZ2VzYCBob29rLlxuICpcbiAqIEBzZWUgYE9uQ2hhbmdlc2BcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFNpbXBsZUNoYW5nZSB7XG4gICAgY29uc3RydWN0b3IocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBmaXJzdENoYW5nZSkge1xuICAgICAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1ZhbHVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgdGhpcy5maXJzdENoYW5nZSA9IGZpcnN0Q2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBuZXcgdmFsdWUgaXMgdGhlIGZpcnN0IHZhbHVlIGFzc2lnbmVkLlxuICAgICAqL1xuICAgIGlzRmlyc3RDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hhbmdlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBOZ09uQ2hhbmdlc0ZlYXR1cmUgZGVjb3JhdGVzIGEgY29tcG9uZW50IHdpdGggc3VwcG9ydCBmb3IgdGhlIG5nT25DaGFuZ2VzXG4gKiBsaWZlY3ljbGUgaG9vaywgc28gaXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGFueSBjb21wb25lbnQgdGhhdCBpbXBsZW1lbnRzXG4gKiB0aGF0IGhvb2suXG4gKlxuICogSWYgdGhlIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgdXNlcyBpbmhlcml0YW5jZSwgdGhlIE5nT25DaGFuZ2VzRmVhdHVyZSBNVVNUXG4gKiBiZSBpbmNsdWRlZCBhcyBhIGZlYXR1cmUgQUZURVIge0BsaW5rIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZX0sIG90aGVyd2lzZVxuICogaW5oZXJpdGVkIHByb3BlcnRpZXMgd2lsbCBub3QgYmUgcHJvcGFnYXRlZCB0byB0aGUgbmdPbkNoYW5nZXMgbGlmZWN5Y2xlXG4gKiBob29rLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKlxuICogYGBgXG4gKiBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAuLi5cbiAqICAgaW5wdXRzOiB7bmFtZTogJ3B1YmxpY05hbWUnfSxcbiAqICAgZmVhdHVyZXM6IFtOZ09uQ2hhbmdlc0ZlYXR1cmVdXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUoKSB7XG4gICAgcmV0dXJuIE5nT25DaGFuZ2VzRmVhdHVyZUltcGw7XG59XG5mdW5jdGlvbiBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsKGRlZmluaXRpb24pIHtcbiAgICBpZiAoZGVmaW5pdGlvbi50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcykge1xuICAgICAgICBkZWZpbml0aW9uLnNldElucHV0ID0gbmdPbkNoYW5nZXNTZXRJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbWVtYmVyQ2hhbmdlSGlzdG9yeUFuZEludm9rZU9uQ2hhbmdlc0hvb2s7XG59XG4vLyBUaGlzIG9wdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG5nT25DaGFuZ2VzIGxpZmVjeWNsZSBob29rIHdpbGwgYmUgaW5oZXJpdGVkXG4vLyBmcm9tIHN1cGVyY2xhc3NlcyAoaW4gSW5oZXJpdERlZmluaXRpb25GZWF0dXJlKS5cbi8qKiBAbm9jb2xsYXBzZSAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuybXJtU5nT25DaGFuZ2VzRmVhdHVyZS5uZ0luaGVyaXQgPSB0cnVlO1xuLyoqXG4gKiBUaGlzIGlzIGEgc3ludGhldGljIGxpZmVjeWNsZSBob29rIHdoaWNoIGdldHMgaW5zZXJ0ZWQgaW50byBgVFZpZXcucHJlT3JkZXJIb29rc2AgdG8gc2ltdWxhdGVcbiAqIGBuZ09uQ2hhbmdlc2AuXG4gKlxuICogVGhlIGhvb2sgcmVhZHMgdGhlIGBOZ1NpbXBsZUNoYW5nZXNTdG9yZWAgZGF0YSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIGlmIGNoYW5nZXMgYXJlXG4gKiBmb3VuZCBpdCBpbnZva2VzIGBuZ09uQ2hhbmdlc2Agb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdGhpcyBDb21wb25lbnQgaW5zdGFuY2UuIEJlY2F1c2UgdGhpcyBmdW5jdGlvbiBnZXRzIGluc2VydGVkIGludG8gYFRWaWV3LnByZU9yZGVySG9va3NgLFxuICogICAgIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIHdpdGggY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiByZW1lbWJlckNoYW5nZUhpc3RvcnlBbmRJbnZva2VPbkNoYW5nZXNIb29rKCkge1xuICAgIGNvbnN0IHNpbXBsZUNoYW5nZXNTdG9yZSA9IGdldFNpbXBsZUNoYW5nZXNTdG9yZSh0aGlzKTtcbiAgICBjb25zdCBjdXJyZW50ID0gc2ltcGxlQ2hhbmdlc1N0b3JlID09PSBudWxsIHx8IHNpbXBsZUNoYW5nZXNTdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQ7XG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXMgPSBzaW1wbGVDaGFuZ2VzU3RvcmUucHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cyA9PT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICBzaW1wbGVDaGFuZ2VzU3RvcmUucHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTmV3IGNoYW5nZXMgYXJlIGNvcGllZCB0byB0aGUgcHJldmlvdXMgc3RvcmUsIHNvIHRoYXQgd2UgZG9uJ3QgbG9zZSBoaXN0b3J5IGZvciBpbnB1dHNcbiAgICAgICAgICAgIC8vIHdoaWNoIHdlcmUgbm90IGNoYW5nZWQgdGhpcyB0aW1lXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzW2tleV0gPSBjdXJyZW50W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm5nT25DaGFuZ2VzKGN1cnJlbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5nT25DaGFuZ2VzU2V0SW5wdXQoaW5zdGFuY2UsIHZhbHVlLCBwdWJsaWNOYW1lLCBwcml2YXRlTmFtZSkge1xuICAgIGNvbnN0IHNpbXBsZUNoYW5nZXNTdG9yZSA9IGdldFNpbXBsZUNoYW5nZXNTdG9yZShpbnN0YW5jZSkgfHxcbiAgICAgICAgc2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlLCB7IHByZXZpb3VzOiBFTVBUWV9PQkosIGN1cnJlbnQ6IG51bGwgfSk7XG4gICAgY29uc3QgY3VycmVudCA9IHNpbXBsZUNoYW5nZXNTdG9yZS5jdXJyZW50IHx8IChzaW1wbGVDaGFuZ2VzU3RvcmUuY3VycmVudCA9IHt9KTtcbiAgICBjb25zdCBwcmV2aW91cyA9IHNpbXBsZUNoYW5nZXNTdG9yZS5wcmV2aW91cztcbiAgICBjb25zdCBkZWNsYXJlZE5hbWUgPSB0aGlzLmRlY2xhcmVkSW5wdXRzW3B1YmxpY05hbWVdO1xuICAgIGNvbnN0IHByZXZpb3VzQ2hhbmdlID0gcHJldmlvdXNbZGVjbGFyZWROYW1lXTtcbiAgICBjdXJyZW50W2RlY2xhcmVkTmFtZV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzQ2hhbmdlICYmIHByZXZpb3VzQ2hhbmdlLmN1cnJlbnRWYWx1ZSwgdmFsdWUsIHByZXZpb3VzID09PSBFTVBUWV9PQkopO1xuICAgIGluc3RhbmNlW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xufVxuY29uc3QgU0lNUExFX0NIQU5HRVNfU1RPUkUgPSAnX19uZ1NpbXBsZUNoYW5nZXNfXyc7XG5mdW5jdGlvbiBnZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VbU0lNUExFX0NIQU5HRVNfU1RPUkVdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBzZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UsIHN0b3JlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlW1NJTVBMRV9DSEFOR0VTX1NUT1JFXSA9IHN0b3JlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBwcm9maWxlckNhbGxiYWNrID0gbnVsbDtcbi8qKlxuICogU2V0cyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBpbnZva2VkIGJlZm9yZSBhbmQgYWZ0ZXIgcGVyZm9ybWluZyBjZXJ0YWluIGFjdGlvbnMgYXRcbiAqIHJ1bnRpbWUgKGZvciBleGFtcGxlLCBiZWZvcmUgYW5kIGFmdGVyIHJ1bm5pbmcgY2hhbmdlIGRldGVjdGlvbikuXG4gKlxuICogV2FybmluZzogdGhpcyBmdW5jdGlvbiBpcyAqSU5URVJOQUwqIGFuZCBzaG91bGQgbm90IGJlIHJlbGllZCB1cG9uIGluIGFwcGxpY2F0aW9uJ3MgY29kZS5cbiAqIFRoZSBjb250cmFjdCBvZiB0aGUgZnVuY3Rpb24gbWlnaHQgYmUgY2hhbmdlZCBpbiBhbnkgcmVsZWFzZSBhbmQvb3IgdGhlIGZ1bmN0aW9uIGNhbiBiZSByZW1vdmVkXG4gKiBjb21wbGV0ZWx5LlxuICpcbiAqIEBwYXJhbSBwcm9maWxlciBmdW5jdGlvbiBwcm92aWRlZCBieSB0aGUgY2FsbGVyIG9yIG51bGwgdmFsdWUgdG8gZGlzYWJsZSBwcm9maWxpbmcuXG4gKi9cbmNvbnN0IHNldFByb2ZpbGVyID0gKHByb2ZpbGVyKSA9PiB7XG4gICAgcHJvZmlsZXJDYWxsYmFjayA9IHByb2ZpbGVyO1xufTtcbi8qKlxuICogUHJvZmlsZXIgZnVuY3Rpb24gd2hpY2ggd3JhcHMgdXNlciBjb2RlIGV4ZWN1dGVkIGJ5IHRoZSBydW50aW1lLlxuICpcbiAqIEBwYXJhbSBldmVudCBQcm9maWxlckV2ZW50IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGV4ZWN1dGlvbiBjb250ZXh0XG4gKiBAcGFyYW0gaW5zdGFuY2UgY29tcG9uZW50IGluc3RhbmNlXG4gKiBAcGFyYW0gaG9va09yTGlzdGVuZXIgbGlmZWN5Y2xlIGhvb2sgZnVuY3Rpb24gb3Igb3V0cHV0IGxpc3RlbmVyLiBUaGUgdmFsdWUgZGVwZW5kcyBvbiB0aGVcbiAqICBleGVjdXRpb24gY29udGV4dFxuICogQHJldHVybnNcbiAqL1xuY29uc3QgcHJvZmlsZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGluc3RhbmNlLCBob29rT3JMaXN0ZW5lcikge1xuICAgIGlmIChwcm9maWxlckNhbGxiYWNrICE9IG51bGwgLyogYm90aCBgbnVsbGAgYW5kIGB1bmRlZmluZWRgICovKSB7XG4gICAgICAgIHByb2ZpbGVyQ2FsbGJhY2soZXZlbnQsIGluc3RhbmNlLCBob29rT3JMaXN0ZW5lcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBTVkdfTkFNRVNQQUNFID0gJ3N2Zyc7XG5jb25zdCBTVkdfTkFNRVNQQUNFX1VSSSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBNQVRIX01MX05BTUVTUEFDRSA9ICdtYXRoJztcbmNvbnN0IE1BVEhfTUxfTkFNRVNQQUNFX1VSSSA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGhNTC8nO1xuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlVXJpKG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IG5hbWUgPSBuYW1lc3BhY2UudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbmFtZSA9PT0gU1ZHX05BTUVTUEFDRSA/IFNWR19OQU1FU1BBQ0VfVVJJIDpcbiAgICAgICAgKG5hbWUgPT09IE1BVEhfTUxfTkFNRVNQQUNFID8gTUFUSF9NTF9OQU1FU1BBQ0VfVVJJIDogbnVsbCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNb3N0IG9mIHRoZSB1c2Ugb2YgYGRvY3VtZW50YCBpbiBBbmd1bGFyIGlzIGZyb20gd2l0aGluIHRoZSBESSBzeXN0ZW0gc28gaXQgaXMgcG9zc2libGUgdG8gc2ltcGx5XG4gKiBpbmplY3QgdGhlIGBET0NVTUVOVGAgdG9rZW4gYW5kIGFyZSBkb25lLlxuICpcbiAqIEl2eSBpcyBzcGVjaWFsIGJlY2F1c2UgaXQgZG9lcyBub3QgcmVseSB1cG9uIHRoZSBESSBhbmQgbXVzdCBnZXQgaG9sZCBvZiB0aGUgZG9jdW1lbnQgc29tZSBvdGhlclxuICogd2F5LlxuICpcbiAqIFRoZSBzb2x1dGlvbiBpcyB0byBkZWZpbmUgYGdldERvY3VtZW50KClgIGFuZCBgc2V0RG9jdW1lbnQoKWAgdG9wLWxldmVsIGZ1bmN0aW9ucyBmb3IgaXZ5LlxuICogV2hlcmV2ZXIgaXZ5IG5lZWRzIHRoZSBnbG9iYWwgZG9jdW1lbnQsIGl0IGNhbGxzIGBnZXREb2N1bWVudCgpYCBpbnN0ZWFkLlxuICpcbiAqIFdoZW4gcnVubmluZyBpdnkgb3V0c2lkZSBvZiBhIGJyb3dzZXIgZW52aXJvbm1lbnQsIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsIGBzZXREb2N1bWVudCgpYCB0b1xuICogdGVsbCBpdnkgd2hhdCB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgaXMuXG4gKlxuICogQW5ndWxhciBkb2VzIHRoaXMgZm9yIHVzIGluIGVhY2ggb2YgdGhlIHN0YW5kYXJkIHBsYXRmb3JtcyAoYEJyb3dzZXJgLCBgU2VydmVyYCwgYW5kIGBXZWJXb3JrZXJgKVxuICogYnkgY2FsbGluZyBgc2V0RG9jdW1lbnQoKWAgd2hlbiBwcm92aWRpbmcgdGhlIGBET0NVTUVOVGAgdG9rZW4uXG4gKi9cbmxldCBET0NVTUVOVCA9IHVuZGVmaW5lZDtcbi8qKlxuICogVGVsbCBpdnkgd2hhdCB0aGUgYGRvY3VtZW50YCBpcyBmb3IgdGhpcyBwbGF0Zm9ybS5cbiAqXG4gKiBJdCBpcyBvbmx5IG5lY2Vzc2FyeSB0byBjYWxsIHRoaXMgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgbm90IGEgYnJvd3Nlci5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGdsb2JhbCBgZG9jdW1lbnRgIGluIHRoaXMgZW52aXJvbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIHNldERvY3VtZW50KGRvY3VtZW50KSB7XG4gICAgRE9DVU1FTlQgPSBkb2N1bWVudDtcbn1cbi8qKlxuICogQWNjZXNzIHRoZSBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBgZG9jdW1lbnRgIGZvciB0aGlzIHBsYXRmb3JtLlxuICpcbiAqIEl2eSBjYWxscyB0aGlzIHdoZW5ldmVyIGl0IG5lZWRzIHRvIGFjY2VzcyB0aGUgYGRvY3VtZW50YCBvYmplY3QuXG4gKiBGb3IgZXhhbXBsZSB0byBjcmVhdGUgdGhlIHJlbmRlcmVyIG9yIHRvIGRvIHNhbml0aXphdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgaWYgKERPQ1VNRU5UICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIERPQ1VNRU5UO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgLy8gTm8gXCJkb2N1bWVudFwiIGNhbiBiZSBmb3VuZC4gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgd2UgYXJlIHJ1bm5pbmcgaXZ5IG91dHNpZGUgQW5ndWxhciBhbmRcbiAgICAvLyB0aGUgY3VycmVudCBwbGF0Zm9ybSBpcyBub3QgYSBicm93c2VyLiBTaW5jZSB0aGlzIGlzIG5vdCBhIHN1cHBvcnRlZCBzY2VuYXJpbyBhdCB0aGUgbW9tZW50XG4gICAgLy8gdGhpcyBzaG91bGQgbm90IGhhcHBlbiBpbiBBbmd1bGFyIGFwcHMuXG4gICAgLy8gT25jZSB3ZSBzdXBwb3J0IHJ1bm5pbmcgaXZ5IG91dHNpZGUgb2YgQW5ndWxhciB3ZSB3aWxsIG5lZWQgdG8gcHVibGlzaCBgc2V0RG9jdW1lbnQoKWAgYXMgYVxuICAgIC8vIHB1YmxpYyBBUEkuIE1lYW53aGlsZSB3ZSBqdXN0IHJldHVybiBgdW5kZWZpbmVkYCBhbmQgbGV0IHRoZSBhcHBsaWNhdGlvbiBmYWlsLlxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETzogY2xlYW51cCBvbmNlIHRoZSBjb2RlIGlzIG1lcmdlZCBpbiBhbmd1bGFyL2FuZ3VsYXJcbnZhciBSZW5kZXJlclN0eWxlRmxhZ3MzO1xuKGZ1bmN0aW9uIChSZW5kZXJlclN0eWxlRmxhZ3MzKSB7XG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzM1tSZW5kZXJlclN0eWxlRmxhZ3MzW1wiSW1wb3J0YW50XCJdID0gMV0gPSBcIkltcG9ydGFudFwiO1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczNbUmVuZGVyZXJTdHlsZUZsYWdzM1tcIkRhc2hDYXNlXCJdID0gMl0gPSBcIkRhc2hDYXNlXCI7XG59KShSZW5kZXJlclN0eWxlRmxhZ3MzIHx8IChSZW5kZXJlclN0eWxlRmxhZ3MzID0ge30pKTtcbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGByZW5kZXJlcmAgaXMgYSBgUHJvY2VkdXJhbFJlbmRlcmVyM2AgKi9cbmZ1bmN0aW9uIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgcmV0dXJuICEhKHJlbmRlcmVyLmxpc3Rlbik7XG59XG5jb25zdCBkb21SZW5kZXJlckZhY3RvcnkzID0ge1xuICAgIGNyZWF0ZVJlbmRlcmVyOiAoaG9zdEVsZW1lbnQsIHJlbmRlcmVyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0RG9jdW1lbnQoKTtcbiAgICB9XG59O1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNiA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGb3IgZWZmaWNpZW5jeSByZWFzb25zIHdlIG9mdGVuIHB1dCBzZXZlcmFsIGRpZmZlcmVudCBkYXRhIHR5cGVzIChgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmApXG4gKiBpbiBzYW1lIGxvY2F0aW9uIGluIGBMVmlld2AuIFRoaXMgaXMgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHByZS1hbGxvY2F0ZSBzcGFjZSBmb3IgaXRcbiAqIGJlY2F1c2UgdGhlIHN0b3JhZ2UgaXMgc3BhcnNlLiBUaGlzIGZpbGUgY29udGFpbnMgdXRpbGl0aWVzIGZvciBkZWFsaW5nIHdpdGggc3VjaCBkYXRhIHR5cGVzLlxuICpcbiAqIEhvdyBkbyB3ZSBrbm93IHdoYXQgaXMgc3RvcmVkIGF0IGEgZ2l2ZW4gbG9jYXRpb24gaW4gYExWaWV3YC5cbiAqIC0gYEFycmF5LmlzQXJyYXkodmFsdWUpID09PSBmYWxzZWAgPT4gYFJOb2RlYCAoVGhlIG5vcm1hbCBzdG9yYWdlIHZhbHVlKVxuICogLSBgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPT09IHRydWVgID0+IHRoZW4gdGhlIGB2YWx1ZVswXWAgcmVwcmVzZW50cyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAqICAgLSBgdHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0J2AgPT4gYExWaWV3YFxuICogICAgICAtIFRoaXMgaGFwcGVucyB3aGVuIHdlIGhhdmUgYSBjb21wb25lbnQgYXQgYSBnaXZlbiBsb2NhdGlvblxuICogICAtIGB0eXBlb2YgdmFsdWVbVFlQRV0gPT09IHRydWVgID0+IGBMQ29udGFpbmVyYFxuICogICAgICAtIFRoaXMgaGFwcGVucyB3aGVuIHdlIGhhdmUgYExDb250YWluZXJgIGJpbmRpbmcgYXQgYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKlxuICogTk9URTogaXQgaXMgYXNzdW1lZCB0aGF0IGBBcnJheS5pc0FycmF5YCBhbmQgYHR5cGVvZmAgb3BlcmF0aW9ucyBhcmUgdmVyeSBlZmZpY2llbnQuXG4gKi9cbi8qKlxuICogUmV0dXJucyBgUk5vZGVgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIHVud3JhcFJOb2RlKHZhbHVlKSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWVbSE9TVF07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyBgTFZpZXdgIG9yIGBudWxsYCBpZiBub3QgZm91bmQuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gdW53cmFwTFZpZXcodmFsdWUpIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gVGhpcyBjaGVjayBpcyBzYW1lIGFzIGBpc0xWaWV3KClgIGJ1dCB3ZSBkb24ndCBjYWxsIGF0IGFzIHdlIGRvbid0IHdhbnQgdG8gY2FsbFxuICAgICAgICAvLyBgQXJyYXkuaXNBcnJheSgpYCB0d2ljZSBhbmQgZ2l2ZSBKSVRlciBtb3JlIHdvcmsgZm9yIGlubGluaW5nLlxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVtIT1NUXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHVybnMgYExDb250YWluZXJgIG9yIGBudWxsYCBpZiBub3QgZm91bmQuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gdW53cmFwTENvbnRhaW5lcih2YWx1ZSkge1xuICAgIHdoaWxlIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIHNhbWUgYXMgYGlzTENvbnRhaW5lcigpYCBidXQgd2UgZG9uJ3QgY2FsbCBhdCBhcyB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgICAgICAgLy8gYEFycmF5LmlzQXJyYXkoKWAgdHdpY2UgYW5kIGdpdmUgSklUZXIgbW9yZSB3b3JrIGZvciBpbmxpbmluZy5cbiAgICAgICAgaWYgKHZhbHVlW1RZUEVdID09PSB0cnVlKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlW0hPU1RdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFuIGVsZW1lbnQgdmFsdWUgZnJvbSB0aGUgcHJvdmlkZWQgYHZpZXdEYXRhYCwgYnkgdW53cmFwcGluZ1xuICogZnJvbSBhbnkgY29udGFpbmVycywgY29tcG9uZW50IHZpZXdzLCBvciBzdHlsZSBjb250ZXh0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ0V4cGVjdGVkIHRvIGJlIHBhc3QgSEVBREVSX09GRlNFVCcpO1xuICAgIHJldHVybiB1bndyYXBSTm9kZShsVmlld1tpbmRleF0pO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhbiBgUk5vZGVgIGZvciBhIGdpdmVuIGBUTm9kZWAgYW5kIGBMVmlld2AuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBndWFyYW50ZWVzIGluIGRldiBtb2RlIHRvIHJldHJpZXZlIGEgbm9uLW51bGwgYFJOb2RlYC5cbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqIEBwYXJhbSBsVmlld1xuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdE5vZGUuaW5kZXgpO1xuICAgIGNvbnN0IG5vZGUgPSB1bndyYXBSTm9kZShsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgIG5nRGV2TW9kZSAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIobFZpZXdbUkVOREVSRVJdKSAmJiBhc3NlcnREb21Ob2RlKG5vZGUpO1xuICAgIHJldHVybiBub2RlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhbiBgUk5vZGVgIG9yIGBudWxsYCBmb3IgYSBnaXZlbiBgVE5vZGVgIGFuZCBgTFZpZXdgLlxuICpcbiAqIFNvbWUgYFROb2RlYHMgZG9uJ3QgaGF2ZSBhc3NvY2lhdGVkIGBSTm9kZWBzLiBGb3IgZXhhbXBsZSBgUHJvamVjdGlvbmBcbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqIEBwYXJhbSBsVmlld1xuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCeVROb2RlT3JOdWxsKHROb2RlLCBsVmlldykge1xuICAgIGNvbnN0IGluZGV4ID0gdE5vZGUgPT09IG51bGwgPyAtMSA6IHROb2RlLmluZGV4O1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHVud3JhcFJOb2RlKGxWaWV3W2luZGV4XSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBub2RlICE9PSBudWxsICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihsVmlld1tSRU5ERVJFUl0pICYmIGFzc2VydERvbU5vZGUobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIGZpeG1lKG1pc2tvKTogVGhlIHJldHVybiBUeXBlIHNob3VsZCBiZSBgVE5vZGV8bnVsbGBcbmZ1bmN0aW9uIGdldFROb2RlKHRWaWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihpbmRleCwgLTEsICd3cm9uZyBpbmRleCBmb3IgVE5vZGUnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4oaW5kZXgsIHRWaWV3LmRhdGEubGVuZ3RoLCAnd3JvbmcgaW5kZXggZm9yIFROb2RlJyk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBuZ0Rldk1vZGUgJiYgdE5vZGUgIT09IG51bGwgJiYgYXNzZXJ0VE5vZGUodE5vZGUpO1xuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKiBSZXRyaWV2ZXMgYSB2YWx1ZSBmcm9tIGFueSBgTFZpZXdgIG9yIGBURGF0YWAuICovXG5mdW5jdGlvbiBsb2FkKHZpZXcsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh2aWV3LCBpbmRleCk7XG4gICAgcmV0dXJuIHZpZXdbaW5kZXhdO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KG5vZGVJbmRleCwgaG9zdFZpZXcpIHtcbiAgICAvLyBDb3VsZCBiZSBhbiBMVmlldyBvciBhbiBMQ29udGFpbmVyLiBJZiBMQ29udGFpbmVyLCB1bndyYXAgdG8gZmluZCBMVmlldy5cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGhvc3RWaWV3LCBub2RlSW5kZXgpO1xuICAgIGNvbnN0IHNsb3RWYWx1ZSA9IGhvc3RWaWV3W25vZGVJbmRleF07XG4gICAgY29uc3QgbFZpZXcgPSBpc0xWaWV3KHNsb3RWYWx1ZSkgPyBzbG90VmFsdWUgOiBzbG90VmFsdWVbSE9TVF07XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuLyoqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gdmlldyBpcyBpbiBjcmVhdGlvbiBtb2RlICovXG5mdW5jdGlvbiBpc0NyZWF0aW9uTW9kZSh2aWV3KSB7XG4gICAgcmV0dXJuICh2aWV3W0ZMQUdTXSAmIDQgLyogQ3JlYXRpb25Nb2RlICovKSA9PT0gNCAvKiBDcmVhdGlvbk1vZGUgKi87XG59XG4vKipcbiAqIFJldHVybnMgYSBib29sZWFuIGZvciB3aGV0aGVyIHRoZSB2aWV3IGlzIGF0dGFjaGVkIHRvIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gKlxuICogTm90ZTogVGhpcyBkZXRlcm1pbmVzIHdoZXRoZXIgYSB2aWV3IHNob3VsZCBiZSBjaGVja2VkLCBub3Qgd2hldGhlciBpdCdzIGluc2VydGVkXG4gKiBpbnRvIGEgY29udGFpbmVyLiBGb3IgdGhhdCwgeW91J2xsIHdhbnQgYHZpZXdBdHRhY2hlZFRvQ29udGFpbmVyYCBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gdmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3Rvcih2aWV3KSB7XG4gICAgcmV0dXJuICh2aWV3W0ZMQUdTXSAmIDEyOCAvKiBBdHRhY2hlZCAqLykgPT09IDEyOCAvKiBBdHRhY2hlZCAqLztcbn1cbi8qKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3Igd2hldGhlciB0aGUgdmlldyBpcyBhdHRhY2hlZCB0byBhIGNvbnRhaW5lci4gKi9cbmZ1bmN0aW9uIHZpZXdBdHRhY2hlZFRvQ29udGFpbmVyKHZpZXcpIHtcbiAgICByZXR1cm4gaXNMQ29udGFpbmVyKHZpZXdbUEFSRU5UXSk7XG59XG5mdW5jdGlvbiBnZXRDb25zdGFudChjb25zdHMsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09PSBudWxsIHx8IGluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UoY29uc3RzLCBpbmRleCk7XG4gICAgcmV0dXJuIGNvbnN0c1tpbmRleF07XG59XG4vKipcbiAqIFJlc2V0cyB0aGUgcHJlLW9yZGVyIGhvb2sgZmxhZ3Mgb2YgdGhlIHZpZXcuXG4gKiBAcGFyYW0gbFZpZXcgdGhlIExWaWV3IG9uIHdoaWNoIHRoZSBmbGFncyBhcmUgcmVzZXRcbiAqL1xuZnVuY3Rpb24gcmVzZXRQcmVPcmRlckhvb2tGbGFncyhsVmlldykge1xuICAgIGxWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdID0gMDtcbn1cbi8qKlxuICogVXBkYXRlcyB0aGUgYFRSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIYCBjb3VudGVyIG9uIHRoZSBgTENvbnRhaW5lcmAgYXMgd2VsbCBhcyB0aGUgcGFyZW50c1xuICogd2hvc2VcbiAqICAxLiBjb3VudGVyIGdvZXMgZnJvbSAwIHRvIDEsIGluZGljYXRpbmcgdGhhdCB0aGVyZSBpcyBhIG5ldyBjaGlsZCB0aGF0IGhhcyBhIHZpZXcgdG8gcmVmcmVzaFxuICogIG9yXG4gKiAgMi4gY291bnRlciBnb2VzIGZyb20gMSB0byAwLCBpbmRpY2F0aW5nIHRoZXJlIGFyZSBubyBtb3JlIGRlc2NlbmRhbnQgdmlld3MgdG8gcmVmcmVzaFxuICovXG5mdW5jdGlvbiB1cGRhdGVUcmFuc3BsYW50ZWRWaWV3Q291bnQobENvbnRhaW5lciwgYW1vdW50KSB7XG4gICAgbENvbnRhaW5lcltUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gKz0gYW1vdW50O1xuICAgIGxldCB2aWV3T3JDb250YWluZXIgPSBsQ29udGFpbmVyO1xuICAgIGxldCBwYXJlbnQgPSBsQ29udGFpbmVyW1BBUkVOVF07XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJlxuICAgICAgICAoKGFtb3VudCA9PT0gMSAmJiB2aWV3T3JDb250YWluZXJbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID09PSAxKSB8fFxuICAgICAgICAgICAgKGFtb3VudCA9PT0gLTEgJiYgdmlld09yQ29udGFpbmVyW1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA9PT0gMCkpKSB7XG4gICAgICAgIHBhcmVudFtUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gKz0gYW1vdW50O1xuICAgICAgICB2aWV3T3JDb250YWluZXIgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudFtQQVJFTlRdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBpbnN0cnVjdGlvblN0YXRlID0ge1xuICAgIGxGcmFtZTogY3JlYXRlTEZyYW1lKG51bGwpLFxuICAgIGJpbmRpbmdzRW5hYmxlZDogdHJ1ZSxcbiAgICBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlOiBmYWxzZSxcbn07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaW5zdHJ1Y3Rpb24gc3RhdGUgc3RhY2sgaXMgZW1wdHkuXG4gKlxuICogSW50ZW5kZWQgdG8gYmUgY2FsbGVkIGZyb20gdGVzdHMgb25seSAodHJlZSBzaGFrZW4gb3RoZXJ3aXNlKS5cbiAqL1xuZnVuY3Rpb24gc3BlY09ubHlJc0luc3RydWN0aW9uU3RhdGVFbXB0eSgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUucGFyZW50ID09PSBudWxsO1xufVxuZnVuY3Rpb24gZ2V0RWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50O1xufVxuZnVuY3Rpb24gaW5jcmVhc2VFbGVtZW50RGVwdGhDb3VudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudCsrO1xufVxuZnVuY3Rpb24gZGVjcmVhc2VFbGVtZW50RGVwdGhDb3VudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudC0tO1xufVxuZnVuY3Rpb24gZ2V0QmluZGluZ3NFbmFibGVkKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmJpbmRpbmdzRW5hYmxlZDtcbn1cbi8qKlxuICogRW5hYmxlcyBkaXJlY3RpdmUgbWF0Y2hpbmcgb24gZWxlbWVudHMuXG4gKlxuICogICogRXhhbXBsZTpcbiAqIGBgYFxuICogPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICBTaG91bGQgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlLlxuICogPC9teS1jb21wPlxuICogPGRpdiBuZ05vbkJpbmRhYmxlPlxuICogICA8IS0tIMm1ybVkaXNhYmxlQmluZGluZ3MoKSAtLT5cbiAqICAgPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICAgIFNob3VsZCBub3QgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlIGJlY2F1c2Ugd2UgYXJlIGluIG5nTm9uQmluZGFibGUuXG4gKiAgIDwvbXktY29tcD5cbiAqICAgPCEtLSDJtcm1ZW5hYmxlQmluZGluZ3MoKSAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVuYWJsZUJpbmRpbmdzKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUuYmluZGluZ3NFbmFibGVkID0gdHJ1ZTtcbn1cbi8qKlxuICogRGlzYWJsZXMgZGlyZWN0aXZlIG1hdGNoaW5nIG9uIGVsZW1lbnQuXG4gKlxuICogICogRXhhbXBsZTpcbiAqIGBgYFxuICogPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICBTaG91bGQgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlLlxuICogPC9teS1jb21wPlxuICogPGRpdiBuZ05vbkJpbmRhYmxlPlxuICogICA8IS0tIMm1ybVkaXNhYmxlQmluZGluZ3MoKSAtLT5cbiAqICAgPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICAgIFNob3VsZCBub3QgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlIGJlY2F1c2Ugd2UgYXJlIGluIG5nTm9uQmluZGFibGUuXG4gKiAgIDwvbXktY29tcD5cbiAqICAgPCEtLSDJtcm1ZW5hYmxlQmluZGluZ3MoKSAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRpc2FibGVCaW5kaW5ncygpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmJpbmRpbmdzRW5hYmxlZCA9IGZhbHNlO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TFZpZXcoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmxWaWV3O1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgYFRWaWV3YC5cbiAqL1xuZnVuY3Rpb24gZ2V0VFZpZXcoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnRWaWV3O1xufVxuLyoqXG4gKiBSZXN0b3JlcyBgY29udGV4dFZpZXdEYXRhYCB0byB0aGUgZ2l2ZW4gT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlLlxuICpcbiAqIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgZ2V0Q3VycmVudFZpZXcoKSBpbnN0cnVjdGlvbiB0byBzYXZlIGEgc25hcHNob3RcbiAqIG9mIHRoZSBjdXJyZW50IHZpZXcgYW5kIHJlc3RvcmUgaXQgd2hlbiBsaXN0ZW5lcnMgYXJlIGludm9rZWQuIFRoaXMgYWxsb3dzXG4gKiB3YWxraW5nIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgaW4gbGlzdGVuZXJzIHRvIGdldCB2YXJzIGZyb20gcGFyZW50IHZpZXdzLlxuICpcbiAqIEBwYXJhbSB2aWV3VG9SZXN0b3JlIFRoZSBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UgdG8gcmVzdG9yZS5cbiAqIEByZXR1cm5zIENvbnRleHQgb2YgdGhlIHJlc3RvcmVkIE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzdG9yZVZpZXcodmlld1RvUmVzdG9yZSkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyA9IHZpZXdUb1Jlc3RvcmU7XG4gICAgcmV0dXJuIHZpZXdUb1Jlc3RvcmVbQ09OVEVYVF07XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50VE5vZGUoKSB7XG4gICAgbGV0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZVBsYWNlaG9sZGVyT2soKTtcbiAgICB3aGlsZSAoY3VycmVudFROb2RlICE9PSBudWxsICYmIGN1cnJlbnRUTm9kZS50eXBlID09PSA2NCAvKiBQbGFjZWhvbGRlciAqLykge1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFROb2RlO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPaygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudFROb2RlO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFBhcmVudFROb2RlKCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGNvbnN0IGN1cnJlbnRUTm9kZSA9IGxGcmFtZS5jdXJyZW50VE5vZGU7XG4gICAgcmV0dXJuIGxGcmFtZS5pc1BhcmVudCA/IGN1cnJlbnRUTm9kZSA6IGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG59XG5mdW5jdGlvbiBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGlzUGFyZW50KSB7XG4gICAgbmdEZXZNb2RlICYmIHROb2RlICYmIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnRWaWV3KTtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBsRnJhbWUuY3VycmVudFROb2RlID0gdE5vZGU7XG4gICAgbEZyYW1lLmlzUGFyZW50ID0gaXNQYXJlbnQ7XG59XG5mdW5jdGlvbiBpc0N1cnJlbnRUTm9kZVBhcmVudCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaXNQYXJlbnQ7XG59XG5mdW5jdGlvbiBzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pc1BhcmVudCA9IGZhbHNlO1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFROb2RlQXNQYXJlbnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaXNQYXJlbnQgPSB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dExWaWV3KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXc7XG59XG5mdW5jdGlvbiBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkge1xuICAgIC8vIFRPRE8obWlza28pOiByZW1vdmUgdGhpcyBmcm9tIHRoZSBMVmlldyBzaW5jZSBpdCBpcyBuZ0Rldk1vZGU9dHJ1ZSBtb2RlIG9ubHkuXG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZTtcbn1cbmZ1bmN0aW9uIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUobW9kZSkge1xuICAgIGluc3RydWN0aW9uU3RhdGUuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSA9IG1vZGU7XG59XG4vLyB0b3AgbGV2ZWwgdmFyaWFibGVzIHNob3VsZCBub3QgYmUgZXhwb3J0ZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKFBFUkZfTk9URVMubWQpXG5mdW5jdGlvbiBnZXRCaW5kaW5nUm9vdCgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBsZXQgaW5kZXggPSBsRnJhbWUuYmluZGluZ1Jvb3RJbmRleDtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGluZGV4ID0gbEZyYW1lLmJpbmRpbmdSb290SW5kZXggPSBsRnJhbWUudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGdldEJpbmRpbmdJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuYmluZGluZ0luZGV4O1xufVxuZnVuY3Rpb24gc2V0QmluZGluZ0luZGV4KHZhbHVlKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmJpbmRpbmdJbmRleCA9IHZhbHVlO1xufVxuZnVuY3Rpb24gbmV4dEJpbmRpbmdJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuYmluZGluZ0luZGV4Kys7XG59XG5mdW5jdGlvbiBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoY291bnQpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBjb25zdCBpbmRleCA9IGxGcmFtZS5iaW5kaW5nSW5kZXg7XG4gICAgbEZyYW1lLmJpbmRpbmdJbmRleCA9IGxGcmFtZS5iaW5kaW5nSW5kZXggKyBjb3VudDtcbiAgICByZXR1cm4gaW5kZXg7XG59XG5mdW5jdGlvbiBpc0luSTE4bkJsb2NrKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pbkkxOG47XG59XG5mdW5jdGlvbiBzZXRJbkkxOG5CbG9jayhpc0luSTE4bkJsb2NrKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaW5JMThuID0gaXNJbkkxOG5CbG9jaztcbn1cbi8qKlxuICogU2V0IGEgbmV3IGJpbmRpbmcgcm9vdCBpbmRleCBzbyB0aGF0IGhvc3QgdGVtcGxhdGUgZnVuY3Rpb25zIGNhbiBleGVjdXRlLlxuICpcbiAqIEJpbmRpbmdzIGluc2lkZSB0aGUgaG9zdCB0ZW1wbGF0ZSBhcmUgMCBpbmRleC4gQnV0IGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lXG4gKiBob3cgbWFueSBob3N0IGJpbmRpbmdzIHdlIGhhdmUgd2UgY2FuJ3QgcHJlLWNvbXB1dGUgdGhlbS4gRm9yIHRoaXMgcmVhc29uIHRoZXkgYXJlIGFsbFxuICogMCBpbmRleCBhbmQgd2UganVzdCBzaGlmdCB0aGUgcm9vdCBzbyB0aGF0IHRoZXkgbWF0Y2ggbmV4dCBhdmFpbGFibGUgbG9jYXRpb24gaW4gdGhlIExWaWV3LlxuICpcbiAqIEBwYXJhbSBiaW5kaW5nUm9vdEluZGV4IFJvb3QgaW5kZXggZm9yIGBob3N0QmluZGluZ3NgXG4gKiBAcGFyYW0gY3VycmVudERpcmVjdGl2ZUluZGV4IGBURGF0YVtjdXJyZW50RGlyZWN0aXZlSW5kZXhdYCB3aWxsIHBvaW50IHRvIHRoZSBjdXJyZW50IGRpcmVjdGl2ZVxuICogICAgICAgIHdob3NlIGBob3N0QmluZGluZ3NgIGFyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cbmZ1bmN0aW9uIHNldEJpbmRpbmdSb290Rm9ySG9zdEJpbmRpbmdzKGJpbmRpbmdSb290SW5kZXgsIGN1cnJlbnREaXJlY3RpdmVJbmRleCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGxGcmFtZS5iaW5kaW5nSW5kZXggPSBsRnJhbWUuYmluZGluZ1Jvb3RJbmRleCA9IGJpbmRpbmdSb290SW5kZXg7XG4gICAgc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGN1cnJlbnREaXJlY3RpdmVJbmRleCk7XG59XG4vKipcbiAqIFdoZW4gaG9zdCBiaW5kaW5nIGlzIGV4ZWN1dGluZyB0aGlzIHBvaW50cyB0byB0aGUgZGlyZWN0aXZlIGluZGV4LlxuICogYFRWaWV3LmRhdGFbZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCldYCBpcyBgRGlyZWN0aXZlRGVmYFxuICogYExWaWV3W2dldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpXWAgaXMgZGlyZWN0aXZlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDtcbn1cbi8qKlxuICogU2V0cyBhbiBpbmRleCBvZiBhIGRpcmVjdGl2ZSB3aG9zZSBgaG9zdEJpbmRpbmdzYCBhcmUgYmVpbmcgcHJvY2Vzc2VkLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50RGlyZWN0aXZlSW5kZXggYFREYXRhYCBpbmRleCB3aGVyZSBjdXJyZW50IGRpcmVjdGl2ZSBpbnN0YW5jZSBjYW4gYmUgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIHNldEN1cnJlbnREaXJlY3RpdmVJbmRleChjdXJyZW50RGlyZWN0aXZlSW5kZXgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXggPSBjdXJyZW50RGlyZWN0aXZlSW5kZXg7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSBjdXJyZW50IGBEaXJlY3RpdmVEZWZgIHdoaWNoIGlzIGFjdGl2ZSB3aGVuIGBob3N0QmluZGluZ3NgIGluc3RydWN0aW9uIGlzIGJlaW5nXG4gKiBleGVjdXRlZC5cbiAqXG4gKiBAcGFyYW0gdERhdGEgQ3VycmVudCBgVERhdGFgIHdoZXJlIHRoZSBgRGlyZWN0aXZlRGVmYCB3aWxsIGJlIGxvb2tlZCB1cCBhdC5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0RGF0YSkge1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3RpdmVJbmRleCA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDtcbiAgICByZXR1cm4gY3VycmVudERpcmVjdGl2ZUluZGV4ID09PSAtMSA/IG51bGwgOiB0RGF0YVtjdXJyZW50RGlyZWN0aXZlSW5kZXhdO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFF1ZXJ5SW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4O1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFF1ZXJ5SW5kZXgodmFsdWUpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleCA9IHZhbHVlO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgYFROb2RlYCBvZiB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIGN1cnJlbnQgYExWaWV3YCBpcyBkZWNsYXJlZCBhdC5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgYW4gYExWaWV3YCB0aGF0IHdlIHdhbnQgdG8gZmluZCBwYXJlbnQgYFROb2RlYCBmb3IuXG4gKi9cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uVE5vZGUobFZpZXcpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAvLyBSZXR1cm4gdGhlIGRlY2xhcmF0aW9uIHBhcmVudCBmb3IgZW1iZWRkZWQgdmlld3NcbiAgICBpZiAodFZpZXcudHlwZSA9PT0gMiAvKiBFbWJlZGRlZCAqLykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Vmlldy5kZWNsVE5vZGUsICdFbWJlZGRlZCBUTm9kZXMgc2hvdWxkIGhhdmUgZGVjbGFyYXRpb24gcGFyZW50cy4nKTtcbiAgICAgICAgcmV0dXJuIHRWaWV3LmRlY2xUTm9kZTtcbiAgICB9XG4gICAgLy8gQ29tcG9uZW50cyBkb24ndCBoYXZlIGBUVmlldy5kZWNsVE5vZGVgIGJlY2F1c2UgZWFjaCBpbnN0YW5jZSBvZiBjb21wb25lbnQgY291bGQgYmVcbiAgICAvLyBpbnNlcnRlZCBpbiBkaWZmZXJlbnQgbG9jYXRpb24sIGhlbmNlIGBUVmlldy5kZWNsVE5vZGVgIGlzIG1lYW5pbmdsZXNzLlxuICAgIC8vIEZhbGxpbmcgYmFjayB0byBgVF9IT1NUYCBpbiBjYXNlIHdlIGNyb3NzIGNvbXBvbmVudCBib3VuZGFyeS5cbiAgICBpZiAodFZpZXcudHlwZSA9PT0gMSAvKiBDb21wb25lbnQgKi8pIHtcbiAgICAgICAgcmV0dXJuIGxWaWV3W1RfSE9TVF07XG4gICAgfVxuICAgIC8vIFJlbWFpbmluZyBUTm9kZSB0eXBlIGlzIGBUVmlld1R5cGUuUm9vdGAgd2hpY2ggZG9lc24ndCBoYXZlIGEgcGFyZW50IFROb2RlLlxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgbGlnaHQgd2VpZ2h0IHZlcnNpb24gb2YgdGhlIGBlbnRlclZpZXdgIHdoaWNoIGlzIG5lZWRlZCBieSB0aGUgREkgc3lzdGVtLlxuICpcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGxvY2F0aW9uIG9mIHRoZSBESSBjb250ZXh0LlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIERJIGNvbnRleHRcbiAqIEBwYXJhbSBmbGFncyBESSBjb250ZXh0IGZsYWdzLiBpZiBgU2tpcFNlbGZgIGZsYWcgaXMgc2V0IHRoYW4gd2Ugd2FsayB1cCB0aGUgZGVjbGFyYXRpb25cbiAqICAgICB0cmVlIGZyb20gYHROb2RlYCAgdW50aWwgd2UgZmluZCBwYXJlbnQgZGVjbGFyZWQgYFRFbGVtZW50Tm9kZWAuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgd2UgaGF2ZSBzdWNjZXNzZnVsbHkgZW50ZXJlZCBESSBhc3NvY2lhdGVkIHdpdGggYHROb2RlYCAob3Igd2l0aCBkZWNsYXJlZFxuICogICAgIGBUTm9kZWAgaWYgYGZsYWdzYCBoYXMgIGBTa2lwU2VsZmApLiBGYWlsaW5nIHRvIGVudGVyIERJIGltcGxpZXMgdGhhdCBubyBhc3NvY2lhdGVkXG4gKiAgICAgYE5vZGVJbmplY3RvcmAgY2FuIGJlIGZvdW5kIGFuZCB3ZSBzaG91bGQgaW5zdGVhZCB1c2UgYE1vZHVsZUluamVjdG9yYC5cbiAqICAgICAtIElmIGB0cnVlYCB0aGFuIHRoaXMgY2FsbCBtdXN0IGJlIGZhbGxvd2VkIGJ5IGBsZWF2ZURJYFxuICogICAgIC0gSWYgYGZhbHNlYCB0aGFuIHRoaXMgY2FsbCBmYWlsZWQgYW5kIHdlIHNob3VsZCBOT1QgY2FsbCBgbGVhdmVESWBcbiAqL1xuZnVuY3Rpb24gZW50ZXJESShsVmlldywgdE5vZGUsIGZsYWdzKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3T3JVbmRlZmluZWQobFZpZXcpO1xuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBsVmlld1tUVklFV10pO1xuICAgICAgICBsZXQgcGFyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICAgICAgbGV0IHBhcmVudExWaWV3ID0gbFZpZXc7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChwYXJlbnRUTm9kZSwgJ1BhcmVudCBUTm9kZSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgcGFyZW50VE5vZGUgPSBwYXJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwgJiYgIShmbGFncyAmIEluamVjdEZsYWdzLkhvc3QpKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50VE5vZGUgPSBnZXREZWNsYXJhdGlvblROb2RlKHBhcmVudExWaWV3KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgYSBwYXJlbnQgZXhpc3RzIGFuZCBpcyBkZWZpbml0ZWx5IGFuIGVsZW1lbnQuIFNvIGl0IHdpbGwgZGVmaW5pdGVseVxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYW4gZXhpc3RpbmcgbFZpZXcgYXMgdGhlIGRlY2xhcmF0aW9uIHZpZXcsIHdoaWNoIGlzIHdoeSB3ZSBjYW4gYXNzdW1lIGl0J3MgZGVmaW5lZC5cbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChwYXJlbnRMVmlldywgJ1BhcmVudCBMVmlldyBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIHBhcmVudExWaWV3ID0gcGFyZW50TFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgICAgICAgICAgLy8gSW4gSXZ5IHRoZXJlIGFyZSBDb21tZW50IG5vZGVzIHRoYXQgY29ycmVzcG9uZCB0byBuZ0lmIGFuZCBOZ0ZvciBlbWJlZGRlZCBkaXJlY3RpdmVzXG4gICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBza2lwIHRob3NlIGFuZCBsb29rIG9ubHkgYXQgRWxlbWVudHMgYW5kIEVsZW1lbnRDb250YWluZXJzIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGxvb2tpbmcgYXQgdHJ1ZSBwYXJlbnQgbm9kZXMsIGFuZCBub3QgY29udGVudCBvciBvdGhlciB0eXBlcy5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VE5vZGUudHlwZSAmICgyIC8qIEVsZW1lbnQgKi8gfCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgZmFpbGVkIHRvIGZpbmQgYSBwYXJlbnQgVE5vZGUgdGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCB1c2UgbW9kdWxlIGluamVjdG9yLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdE5vZGUgPSBwYXJlbnRUTm9kZTtcbiAgICAgICAgICAgIGxWaWV3ID0gcGFyZW50TFZpZXc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZSA9IGFsbG9jTEZyYW1lKCk7XG4gICAgbEZyYW1lLmN1cnJlbnRUTm9kZSA9IHROb2RlO1xuICAgIGxGcmFtZS5sVmlldyA9IGxWaWV3O1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBTd2FwIHRoZSBjdXJyZW50IGxWaWV3IHdpdGggYSBuZXcgbFZpZXcuXG4gKlxuICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgd2Ugc3RvcmUgdGhlIGxWaWV3IGluIHRoZSB0b3AgbGV2ZWwgb2YgdGhlIG1vZHVsZS5cbiAqIFRoaXMgd2F5IHdlIG1pbmltaXplIHRoZSBudW1iZXIgb2YgcHJvcGVydGllcyB0byByZWFkLiBXaGVuZXZlciBhIG5ldyB2aWV3XG4gKiBpcyBlbnRlcmVkIHdlIGhhdmUgdG8gc3RvcmUgdGhlIGxWaWV3IGZvciBsYXRlciwgYW5kIHdoZW4gdGhlIHZpZXcgaXNcbiAqIGV4aXRlZCB0aGUgc3RhdGUgaGFzIHRvIGJlIHJlc3RvcmVkXG4gKlxuICogQHBhcmFtIG5ld1ZpZXcgTmV3IGxWaWV3IHRvIGJlY29tZSBhY3RpdmVcbiAqIEByZXR1cm5zIHRoZSBwcmV2aW91c2x5IGFjdGl2ZSBsVmlldztcbiAqL1xuZnVuY3Rpb24gZW50ZXJWaWV3KG5ld1ZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwobmV3Vmlld1swXSwgbmV3Vmlld1sxXSwgJz8/Pz8nKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXdPclVuZGVmaW5lZChuZXdWaWV3KTtcbiAgICBjb25zdCBuZXdMRnJhbWUgPSBhbGxvY0xGcmFtZSgpO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmlzUGFyZW50LCB0cnVlLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5sVmlldywgbnVsbCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUudFZpZXcsIG51bGwsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLnNlbGVjdGVkSW5kZXgsIC0xLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5lbGVtZW50RGVwdGhDb3VudCwgMCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4LCAtMSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuY3VycmVudE5hbWVzcGFjZSwgbnVsbCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuYmluZGluZ1Jvb3RJbmRleCwgLTEsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4LCAwLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgfVxuICAgIGNvbnN0IHRWaWV3ID0gbmV3Vmlld1tUVklFV107XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUgPSBuZXdMRnJhbWU7XG4gICAgbmdEZXZNb2RlICYmIHRWaWV3LmZpcnN0Q2hpbGQgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Vmlldy5maXJzdENoaWxkLCB0Vmlldyk7XG4gICAgbmV3TEZyYW1lLmN1cnJlbnRUTm9kZSA9IHRWaWV3LmZpcnN0Q2hpbGQ7XG4gICAgbmV3TEZyYW1lLmxWaWV3ID0gbmV3VmlldztcbiAgICBuZXdMRnJhbWUudFZpZXcgPSB0VmlldztcbiAgICBuZXdMRnJhbWUuY29udGV4dExWaWV3ID0gbmV3VmlldztcbiAgICBuZXdMRnJhbWUuYmluZGluZ0luZGV4ID0gdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXg7XG4gICAgbmV3TEZyYW1lLmluSTE4biA9IGZhbHNlO1xufVxuLyoqXG4gKiBBbGxvY2F0ZXMgbmV4dCBmcmVlIExGcmFtZS4gVGhpcyBmdW5jdGlvbiB0cmllcyB0byByZXVzZSB0aGUgYExGcmFtZWBzIHRvIGxvd2VyIG1lbW9yeSBwcmVzc3VyZS5cbiAqL1xuZnVuY3Rpb24gYWxsb2NMRnJhbWUoKSB7XG4gICAgY29uc3QgY3VycmVudExGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGNvbnN0IGNoaWxkTEZyYW1lID0gY3VycmVudExGcmFtZSA9PT0gbnVsbCA/IG51bGwgOiBjdXJyZW50TEZyYW1lLmNoaWxkO1xuICAgIGNvbnN0IG5ld0xGcmFtZSA9IGNoaWxkTEZyYW1lID09PSBudWxsID8gY3JlYXRlTEZyYW1lKGN1cnJlbnRMRnJhbWUpIDogY2hpbGRMRnJhbWU7XG4gICAgcmV0dXJuIG5ld0xGcmFtZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxGcmFtZShwYXJlbnQpIHtcbiAgICBjb25zdCBsRnJhbWUgPSB7XG4gICAgICAgIGN1cnJlbnRUTm9kZTogbnVsbCxcbiAgICAgICAgaXNQYXJlbnQ6IHRydWUsXG4gICAgICAgIGxWaWV3OiBudWxsLFxuICAgICAgICB0VmlldzogbnVsbCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleDogLTEsXG4gICAgICAgIGNvbnRleHRMVmlldzogbnVsbCxcbiAgICAgICAgZWxlbWVudERlcHRoQ291bnQ6IDAsXG4gICAgICAgIGN1cnJlbnROYW1lc3BhY2U6IG51bGwsXG4gICAgICAgIGN1cnJlbnREaXJlY3RpdmVJbmRleDogLTEsXG4gICAgICAgIGJpbmRpbmdSb290SW5kZXg6IC0xLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBjdXJyZW50UXVlcnlJbmRleDogMCxcbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIGNoaWxkOiBudWxsLFxuICAgICAgICBpbkkxOG46IGZhbHNlLFxuICAgIH07XG4gICAgcGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQuY2hpbGQgPSBsRnJhbWUpOyAvLyBsaW5rIHRoZSBuZXcgTEZyYW1lIGZvciByZXVzZS5cbiAgICByZXR1cm4gbEZyYW1lO1xufVxuLyoqXG4gKiBBIGxpZ2h0d2VpZ2h0IHZlcnNpb24gb2YgbGVhdmUgd2hpY2ggaXMgdXNlZCB3aXRoIERJLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gb25seSByZXNldHMgYGN1cnJlbnRUTm9kZWAgYW5kIGBMVmlld2AgYXMgdGhvc2UgYXJlIHRoZSBvbmx5IHByb3BlcnRpZXNcbiAqIHVzZWQgd2l0aCBESSAoYGVudGVyREkoKWApLlxuICpcbiAqIE5PVEU6IFRoaXMgZnVuY3Rpb24gaXMgcmVleHBvcnRlZCBhcyBgbGVhdmVESWAuIEhvd2V2ZXIgYGxlYXZlRElgIGhhcyByZXR1cm4gdHlwZSBvZiBgdm9pZGAgd2hlcmVcbiAqIGFzIGBsZWF2ZVZpZXdMaWdodGAgaGFzIGBMRnJhbWVgLiBUaGlzIGlzIHNvIHRoYXQgYGxlYXZlVmlld0xpZ2h0YCBjYW4gYmUgdXNlZCBpbiBgbGVhdmVWaWV3YC5cbiAqL1xuZnVuY3Rpb24gbGVhdmVWaWV3TGlnaHQoKSB7XG4gICAgY29uc3Qgb2xkTEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUgPSBvbGRMRnJhbWUucGFyZW50O1xuICAgIG9sZExGcmFtZS5jdXJyZW50VE5vZGUgPSBudWxsO1xuICAgIG9sZExGcmFtZS5sVmlldyA9IG51bGw7XG4gICAgcmV0dXJuIG9sZExGcmFtZTtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGxpZ2h0d2VpZ2h0IHZlcnNpb24gb2YgdGhlIGBsZWF2ZVZpZXdgIHdoaWNoIGlzIG5lZWRlZCBieSB0aGUgREkgc3lzdGVtLlxuICpcbiAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gaXMgYW4gYWxpYXMgc28gdGhhdCB3ZSBjYW4gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0byBoYXZlIGB2b2lkYFxuICogcmV0dXJuIHR5cGUuXG4gKi9cbmNvbnN0IGxlYXZlREkgPSBsZWF2ZVZpZXdMaWdodDtcbi8qKlxuICogTGVhdmUgdGhlIGN1cnJlbnQgYExWaWV3YFxuICpcbiAqIFRoaXMgcG9wcyB0aGUgYExGcmFtZWAgd2l0aCB0aGUgYXNzb2NpYXRlZCBgTFZpZXdgIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIElNUE9SVEFOVDogV2UgbXVzdCB6ZXJvIG91dCB0aGUgYExGcmFtZWAgdmFsdWVzIGhlcmUgb3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSByZXRhaW5lZC4gVGhpcyBpc1xuICogYmVjYXVzZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyB3ZSBkb24ndCByZWxlYXNlIGBMRnJhbWVgIGJ1dCByYXRoZXIga2VlcCBpdCBmb3IgbmV4dCB1c2UuXG4gKi9cbmZ1bmN0aW9uIGxlYXZlVmlldygpIHtcbiAgICBjb25zdCBvbGRMRnJhbWUgPSBsZWF2ZVZpZXdMaWdodCgpO1xuICAgIG9sZExGcmFtZS5pc1BhcmVudCA9IHRydWU7XG4gICAgb2xkTEZyYW1lLnRWaWV3ID0gbnVsbDtcbiAgICBvbGRMRnJhbWUuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5jb250ZXh0TFZpZXcgPSBudWxsO1xuICAgIG9sZExGcmFtZS5lbGVtZW50RGVwdGhDb3VudCA9IDA7XG4gICAgb2xkTEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gbnVsbDtcbiAgICBvbGRMRnJhbWUuYmluZGluZ1Jvb3RJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5iaW5kaW5nSW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXggPSAwO1xufVxuZnVuY3Rpb24gbmV4dENvbnRleHRJbXBsKGxldmVsKSB7XG4gICAgY29uc3QgY29udGV4dExWaWV3ID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY29udGV4dExWaWV3ID1cbiAgICAgICAgd2Fsa1VwVmlld3MobGV2ZWwsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyk7XG4gICAgcmV0dXJuIGNvbnRleHRMVmlld1tDT05URVhUXTtcbn1cbmZ1bmN0aW9uIHdhbGtVcFZpZXdzKG5lc3RpbmdMZXZlbCwgY3VycmVudFZpZXcpIHtcbiAgICB3aGlsZSAobmVzdGluZ0xldmVsID4gMCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydERlZmluZWQoY3VycmVudFZpZXdbREVDTEFSQVRJT05fVklFV10sICdEZWNsYXJhdGlvbiB2aWV3IHNob3VsZCBiZSBkZWZpbmVkIGlmIG5lc3RpbmcgbGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDAuJyk7XG4gICAgICAgIGN1cnJlbnRWaWV3ID0gY3VycmVudFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIG5lc3RpbmdMZXZlbC0tO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZpZXc7XG59XG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBlbGVtZW50IGluZGV4LlxuICpcbiAqIFVzZWQgd2l0aCB7QGxpbmsgcHJvcGVydHl9IGluc3RydWN0aW9uIChhbmQgbW9yZSBpbiB0aGUgZnV0dXJlKSB0byBpZGVudGlmeSB0aGUgaW5kZXggaW4gdGhlXG4gKiBjdXJyZW50IGBMVmlld2AgdG8gYWN0IG9uLlxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3RlZEluZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5zZWxlY3RlZEluZGV4O1xufVxuLyoqXG4gKiBTZXRzIHRoZSBtb3N0IHJlY2VudCBpbmRleCBwYXNzZWQgdG8ge0BsaW5rIHNlbGVjdH1cbiAqXG4gKiBVc2VkIHdpdGgge0BsaW5rIHByb3BlcnR5fSBpbnN0cnVjdGlvbiAoYW5kIG1vcmUgaW4gdGhlIGZ1dHVyZSkgdG8gaWRlbnRpZnkgdGhlIGluZGV4IGluIHRoZVxuICogY3VycmVudCBgTFZpZXdgIHRvIGFjdCBvbi5cbiAqXG4gKiAoTm90ZSB0aGF0IGlmIGFuIFwiZXhpdCBmdW5jdGlvblwiIHdhcyBzZXQgZWFybGllciAodmlhIGBzZXRFbGVtZW50RXhpdEZuKClgKSB0aGVuIHRoYXQgd2lsbCBiZVxuICogcnVuIGlmIGFuZCB3aGVuIHRoZSBwcm92aWRlZCBgaW5kZXhgIHZhbHVlIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGVkIGluZGV4IHZhbHVlLilcbiAqL1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWRJbmRleChpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBpbmRleCAhPT0gLTEgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGluZGV4LCBIRUFERVJfT0ZGU0VULCAnSW5kZXggbXVzdCBiZSBwYXN0IEhFQURFUl9PRkZTRVQgKG9yIC0xKS4nKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0TGVzc1RoYW4oaW5kZXgsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmxWaWV3Lmxlbmd0aCwgJ0NhblxcJ3Qgc2V0IGluZGV4IHBhc3NlZCBlbmQgb2YgTFZpZXcnKTtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG59XG4vKipcbiAqIEdldHMgdGhlIGB0Tm9kZWAgdGhhdCByZXByZXNlbnRzIGN1cnJlbnRseSBzZWxlY3RlZCBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3RlZFROb2RlKCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIHJldHVybiBnZXRUTm9kZShsRnJhbWUudFZpZXcsIGxGcmFtZS5zZWxlY3RlZEluZGV4KTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnYCBpbiBnbG9iYWwgc3RhdGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5hbWVzcGFjZVNWRygpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gU1ZHX05BTUVTUEFDRTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvJ2AgaW4gZ2xvYmFsIHN0YXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuYW1lc3BhY2VNYXRoTUwoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IE1BVEhfTUxfTkFNRVNQQUNFO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBuYW1lc3BhY2UgdXNlZCB0byBjcmVhdGUgZWxlbWVudHMgdG8gYG51bGxgLCB3aGljaCBmb3JjZXMgZWxlbWVudCBjcmVhdGlvbiB0byB1c2VcbiAqIGBjcmVhdGVFbGVtZW50YCByYXRoZXIgdGhhbiBgY3JlYXRlRWxlbWVudE5TYC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmFtZXNwYWNlSFRNTCgpIHtcbiAgICBuYW1lc3BhY2VIVE1MSW50ZXJuYWwoKTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGBudWxsYCwgd2hpY2ggZm9yY2VzIGVsZW1lbnQgY3JlYXRpb24gdG8gdXNlXG4gKiBgY3JlYXRlRWxlbWVudGAgcmF0aGVyIHRoYW4gYGNyZWF0ZUVsZW1lbnROU2AuXG4gKi9cbmZ1bmN0aW9uIG5hbWVzcGFjZUhUTUxJbnRlcm5hbCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldE5hbWVzcGFjZSQxKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWRkcyBhbGwgZGlyZWN0aXZlIGxpZmVjeWNsZSBob29rcyBmcm9tIHRoZSBnaXZlbiBgRGlyZWN0aXZlRGVmYCB0byB0aGUgZ2l2ZW4gYFRWaWV3YC5cbiAqXG4gKiBNdXN0IGJlIHJ1biAqb25seSogb24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MuXG4gKlxuICogU2V0cyB1cCB0aGUgcHJlLW9yZGVyIGhvb2tzIG9uIHRoZSBwcm92aWRlZCBgdFZpZXdgLFxuICogc2VlIHtAbGluayBIb29rRGF0YX0gZm9yIGRldGFpbHMgYWJvdXQgdGhlIGRhdGEgc3RydWN0dXJlLlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIGRpcmVjdGl2ZSBpbiBMVmlld1xuICogQHBhcmFtIGRpcmVjdGl2ZURlZiBUaGUgZGVmaW5pdGlvbiBjb250YWluaW5nIHRoZSBob29rcyB0byBzZXR1cCBpbiB0Vmlld1xuICogQHBhcmFtIHRWaWV3IFRoZSBjdXJyZW50IFRWaWV3XG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUHJlT3JkZXJIb29rcyhkaXJlY3RpdmVJbmRleCwgZGlyZWN0aXZlRGVmLCB0Vmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IHsgbmdPbkNoYW5nZXMsIG5nT25Jbml0LCBuZ0RvQ2hlY2sgfSA9IGRpcmVjdGl2ZURlZi50eXBlLnByb3RvdHlwZTtcbiAgICBpZiAobmdPbkNoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZE9uQ2hhbmdlcyA9IE5nT25DaGFuZ2VzRmVhdHVyZUltcGwoZGlyZWN0aXZlRGVmKTtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2goZGlyZWN0aXZlSW5kZXgsIHdyYXBwZWRPbkNoYW5nZXMpO1xuICAgICAgICAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgPSBbXSkpXG4gICAgICAgICAgICAucHVzaChkaXJlY3RpdmVJbmRleCwgd3JhcHBlZE9uQ2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChuZ09uSW5pdCkge1xuICAgICAgICAodFZpZXcucHJlT3JkZXJIb29rcyB8fCAodFZpZXcucHJlT3JkZXJIb29rcyA9IFtdKSkucHVzaCgwIC0gZGlyZWN0aXZlSW5kZXgsIG5nT25Jbml0KTtcbiAgICB9XG4gICAgaWYgKG5nRG9DaGVjaykge1xuICAgICAgICAodFZpZXcucHJlT3JkZXJIb29rcyB8fCAodFZpZXcucHJlT3JkZXJIb29rcyA9IFtdKSkucHVzaChkaXJlY3RpdmVJbmRleCwgbmdEb0NoZWNrKTtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyB8fCAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzID0gW10pKS5wdXNoKGRpcmVjdGl2ZUluZGV4LCBuZ0RvQ2hlY2spO1xuICAgIH1cbn1cbi8qKlxuICpcbiAqIExvb3BzIHRocm91Z2ggdGhlIGRpcmVjdGl2ZXMgb24gdGhlIHByb3ZpZGVkIGB0Tm9kZWAgYW5kIHF1ZXVlcyBob29rcyB0byBiZVxuICogcnVuIHRoYXQgYXJlIG5vdCBpbml0aWFsaXphdGlvbiBob29rcy5cbiAqXG4gKiBTaG91bGQgYmUgZXhlY3V0ZWQgZHVyaW5nIGBlbGVtZW50RW5kKClgIGFuZCBzaW1pbGFyIHRvXG4gKiBwcmVzZXJ2ZSBob29rIGV4ZWN1dGlvbiBvcmRlci4gQ29udGVudCwgdmlldywgYW5kIGRlc3Ryb3kgaG9va3MgZm9yIHByb2plY3RlZFxuICogY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlcyBtdXN0IGJlIGNhbGxlZCAqYmVmb3JlKiB0aGVpciBob3N0cy5cbiAqXG4gKiBTZXRzIHVwIHRoZSBjb250ZW50LCB2aWV3LCBhbmQgZGVzdHJveSBob29rcyBvbiB0aGUgcHJvdmlkZWQgYHRWaWV3YCxcbiAqIHNlZSB7QGxpbmsgSG9va0RhdGF9IGZvciBkZXRhaWxzIGFib3V0IHRoZSBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBOT1RFOiBUaGlzIGRvZXMgbm90IHNldCB1cCBgb25DaGFuZ2VzYCwgYG9uSW5pdGAgb3IgYGRvQ2hlY2tgLCB0aG9zZSBhcmUgc2V0IHVwXG4gKiBzZXBhcmF0ZWx5IGF0IGBlbGVtZW50U3RhcnRgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgY3VycmVudCBUVmlld1xuICogQHBhcmFtIHROb2RlIFRoZSBUTm9kZSB3aG9zZSBkaXJlY3RpdmVzIGFyZSB0byBiZSBzZWFyY2hlZCBmb3IgaG9va3MgdG8gcXVldWVcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICAvLyBJdCdzIG5lY2Vzc2FyeSB0byBsb29wIHRocm91Z2ggdGhlIGRpcmVjdGl2ZXMgYXQgZWxlbWVudEVuZCgpIChyYXRoZXIgdGhhbiBwcm9jZXNzaW5nIGluXG4gICAgLy8gZGlyZWN0aXZlQ3JlYXRlKSBzbyB3ZSBjYW4gcHJlc2VydmUgdGhlIGN1cnJlbnQgaG9vayBvcmRlci4gQ29udGVudCwgdmlldywgYW5kIGRlc3Ryb3lcbiAgICAvLyBob29rcyBmb3IgcHJvamVjdGVkIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXMgbXVzdCBiZSBjYWxsZWQgKmJlZm9yZSogdGhlaXIgaG9zdHMuXG4gICAgZm9yIChsZXQgaSA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0LCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSB0Vmlldy5kYXRhW2ldO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChkaXJlY3RpdmVEZWYsICdFeHBlY3RpbmcgRGlyZWN0aXZlRGVmJyk7XG4gICAgICAgIGNvbnN0IGxpZmVjeWNsZUhvb2tzID0gZGlyZWN0aXZlRGVmLnR5cGUucHJvdG90eXBlO1xuICAgICAgICBjb25zdCB7IG5nQWZ0ZXJDb250ZW50SW5pdCwgbmdBZnRlckNvbnRlbnRDaGVja2VkLCBuZ0FmdGVyVmlld0luaXQsIG5nQWZ0ZXJWaWV3Q2hlY2tlZCwgbmdPbkRlc3Ryb3kgfSA9IGxpZmVjeWNsZUhvb2tzO1xuICAgICAgICBpZiAobmdBZnRlckNvbnRlbnRJbml0KSB7XG4gICAgICAgICAgICAodFZpZXcuY29udGVudEhvb2tzIHx8ICh0Vmlldy5jb250ZW50SG9va3MgPSBbXSkpLnB1c2goLWksIG5nQWZ0ZXJDb250ZW50SW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCkge1xuICAgICAgICAgICAgKHRWaWV3LmNvbnRlbnRIb29rcyB8fCAodFZpZXcuY29udGVudEhvb2tzID0gW10pKS5wdXNoKGksIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCk7XG4gICAgICAgICAgICAodFZpZXcuY29udGVudENoZWNrSG9va3MgfHwgKHRWaWV3LmNvbnRlbnRDaGVja0hvb2tzID0gW10pKS5wdXNoKGksIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nQWZ0ZXJWaWV3SW5pdCkge1xuICAgICAgICAgICAgKHRWaWV3LnZpZXdIb29rcyB8fCAodFZpZXcudmlld0hvb2tzID0gW10pKS5wdXNoKC1pLCBuZ0FmdGVyVmlld0luaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0FmdGVyVmlld0NoZWNrZWQpIHtcbiAgICAgICAgICAgICh0Vmlldy52aWV3SG9va3MgfHwgKHRWaWV3LnZpZXdIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyVmlld0NoZWNrZWQpO1xuICAgICAgICAgICAgKHRWaWV3LnZpZXdDaGVja0hvb2tzIHx8ICh0Vmlldy52aWV3Q2hlY2tIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyVmlld0NoZWNrZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ09uRGVzdHJveSAhPSBudWxsKSB7XG4gICAgICAgICAgICAodFZpZXcuZGVzdHJveUhvb2tzIHx8ICh0Vmlldy5kZXN0cm95SG9va3MgPSBbXSkpLnB1c2goaSwgbmdPbkRlc3Ryb3kpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBFeGVjdXRpbmcgaG9va3MgcmVxdWlyZXMgY29tcGxleCBsb2dpYyBhcyB3ZSBuZWVkIHRvIGRlYWwgd2l0aCAyIGNvbnN0cmFpbnRzLlxuICpcbiAqIDEuIEluaXQgaG9va3MgKG5nT25Jbml0LCBuZ0FmdGVyQ29udGVudEluaXQsIG5nQWZ0ZXJWaWV3SW5pdCkgbXVzdCBhbGwgYmUgZXhlY3V0ZWQgb25jZSBhbmQgb25seVxuICogb25jZSwgYWNyb3NzIG1hbnkgY2hhbmdlIGRldGVjdGlvbiBjeWNsZXMuIFRoaXMgbXVzdCBiZSB0cnVlIGV2ZW4gaWYgc29tZSBob29rcyB0aHJvdywgb3IgaWZcbiAqIHNvbWUgcmVjdXJzaXZlbHkgdHJpZ2dlciBhIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUuXG4gKiBUbyBzb2x2ZSB0aGF0LCBpdCBpcyByZXF1aXJlZCB0byB0cmFjayB0aGUgc3RhdGUgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGVzZSBpbml0IGhvb2tzLlxuICogVGhpcyBpcyBkb25lIGJ5IHN0b3JpbmcgYW5kIG1haW50YWluaW5nIGZsYWdzIGluIHRoZSB2aWV3OiB0aGUge0BsaW5rIEluaXRQaGFzZVN0YXRlfSxcbiAqIGFuZCB0aGUgaW5kZXggd2l0aGluIHRoYXQgcGhhc2UuIFRoZXkgY2FuIGJlIHNlZW4gYXMgYSBjdXJzb3IgaW4gdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gKiBbW29uSW5pdDEsIG9uSW5pdDJdLCBbYWZ0ZXJDb250ZW50SW5pdDFdLCBbYWZ0ZXJWaWV3SW5pdDEsIGFmdGVyVmlld0luaXQyLCBhZnRlclZpZXdJbml0M11dXG4gKiBUaGV5IGFyZSBhcmUgc3RvcmVkIGFzIGZsYWdzIGluIExWaWV3W0ZMQUdTXS5cbiAqXG4gKiAyLiBQcmUtb3JkZXIgaG9va3MgY2FuIGJlIGV4ZWN1dGVkIGluIGJhdGNoZXMsIGJlY2F1c2Ugb2YgdGhlIHNlbGVjdCBpbnN0cnVjdGlvbi5cbiAqIFRvIGJlIGFibGUgdG8gcGF1c2UgYW5kIHJlc3VtZSB0aGVpciBleGVjdXRpb24sIHdlIGFsc28gbmVlZCBzb21lIHN0YXRlIGFib3V0IHRoZSBob29rJ3MgYXJyYXlcbiAqIHRoYXQgaXMgYmVpbmcgcHJvY2Vzc2VkOlxuICogLSB0aGUgaW5kZXggb2YgdGhlIG5leHQgaG9vayB0byBiZSBleGVjdXRlZFxuICogLSB0aGUgbnVtYmVyIG9mIGluaXQgaG9va3MgYWxyZWFkeSBmb3VuZCBpbiB0aGUgcHJvY2Vzc2VkIHBhcnQgb2YgdGhlICBhcnJheVxuICogVGhleSBhcmUgYXJlIHN0b3JlZCBhcyBmbGFncyBpbiBMVmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXS5cbiAqL1xuLyoqXG4gKiBFeGVjdXRlcyBwcmUtb3JkZXIgY2hlY2sgaG9va3MgKCBPbkNoYW5nZXMsIERvQ2hhbmdlcykgZ2l2ZW4gYSB2aWV3IHdoZXJlIGFsbCB0aGUgaW5pdCBob29rcyB3ZXJlXG4gKiBleGVjdXRlZCBvbmNlLiBUaGlzIGlzIGEgbGlnaHQgdmVyc2lvbiBvZiBleGVjdXRlSW5pdEFuZENoZWNrUHJlT3JkZXJIb29rcyB3aGVyZSB3ZSBjYW4gc2tpcCByZWFkXG4gKiAvIHdyaXRlIG9mIHRoZSBpbml0LWhvb2tzIHJlbGF0ZWQgZmxhZ3MuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHdoZXJlIGhvb2tzIGFyZSBkZWZpbmVkXG4gKiBAcGFyYW0gaG9va3MgSG9va3MgdG8gYmUgcnVuXG4gKiBAcGFyYW0gbm9kZUluZGV4IDMgY2FzZXMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZTpcbiAqIC0gdW5kZWZpbmVkOiBhbGwgaG9va3MgZnJvbSB0aGUgYXJyYXkgc2hvdWxkIGJlIGV4ZWN1dGVkIChwb3N0LW9yZGVyIGNhc2UpXG4gKiAtIG51bGw6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBhcnJheSAocHJlLW9yZGVyIGNhc2UsIHdoZW5cbiAqIGZsdXNoaW5nIHRoZSByZW1haW5pbmcgaG9va3MpXG4gKiAtIG51bWJlcjogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoYXQgbm9kZSBpbmRleCBleGNsdXNpdmUgKHByZS1vcmRlclxuICogY2FzZSwgd2hlbiBleGVjdXRpbmcgc2VsZWN0KG51bWJlcikpXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBob29rcywgbm9kZUluZGV4KSB7XG4gICAgY2FsbEhvb2tzKGxWaWV3LCBob29rcywgMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi8sIG5vZGVJbmRleCk7XG59XG4vKipcbiAqIEV4ZWN1dGVzIHBvc3Qtb3JkZXIgaW5pdCBhbmQgY2hlY2sgaG9va3MgKG9uZSBvZiBBZnRlckNvbnRlbnRJbml0LCBBZnRlckNvbnRlbnRDaGVja2VkLFxuICogQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZCkgZ2l2ZW4gYSB2aWV3IHdoZXJlIHRoZXJlIGFyZSBwZW5kaW5nIGluaXQgaG9va3MgdG8gYmUgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHdoZXJlIGhvb2tzIGFyZSBkZWZpbmVkXG4gKiBAcGFyYW0gaG9va3MgSG9va3MgdG8gYmUgcnVuXG4gKiBAcGFyYW0gaW5pdFBoYXNlIEEgcGhhc2UgZm9yIHdoaWNoIGhvb2tzIHNob3VsZCBiZSBydW5cbiAqIEBwYXJhbSBub2RlSW5kZXggMyBjYXNlcyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlOlxuICogLSB1bmRlZmluZWQ6IGFsbCBob29rcyBmcm9tIHRoZSBhcnJheSBzaG91bGQgYmUgZXhlY3V0ZWQgKHBvc3Qtb3JkZXIgY2FzZSlcbiAqIC0gbnVsbDogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoZSBlbmQgb2YgdGhlIGFycmF5IChwcmUtb3JkZXIgY2FzZSwgd2hlblxuICogZmx1c2hpbmcgdGhlIHJlbWFpbmluZyBob29rcylcbiAqIC0gbnVtYmVyOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhhdCBub2RlIGluZGV4IGV4Y2x1c2l2ZSAocHJlLW9yZGVyXG4gKiBjYXNlLCB3aGVuIGV4ZWN1dGluZyBzZWxlY3QobnVtYmVyKSlcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBob29rcywgaW5pdFBoYXNlLCBub2RlSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoaW5pdFBoYXNlLCAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLywgJ0luaXQgcHJlLW9yZGVyIGhvb2tzIHNob3VsZCBub3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlJyk7XG4gICAgaWYgKChsVmlld1tGTEFHU10gJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IGluaXRQaGFzZSkge1xuICAgICAgICBjYWxsSG9va3MobFZpZXcsIGhvb2tzLCBpbml0UGhhc2UsIG5vZGVJbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIGluaXRQaGFzZSkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChpbml0UGhhc2UsIDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovLCAnSW5pdCBob29rcyBwaGFzZSBzaG91bGQgbm90IGJlIGluY3JlbWVudGVkIGFmdGVyIGFsbCBpbml0IGhvb2tzIGhhdmUgYmVlbiBydW4uJyk7XG4gICAgbGV0IGZsYWdzID0gbFZpZXdbRkxBR1NdO1xuICAgIGlmICgoZmxhZ3MgJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IGluaXRQaGFzZSkge1xuICAgICAgICBmbGFncyAmPSAyMDQ3IC8qIEluZGV4V2l0aGluSW5pdFBoYXNlUmVzZXQgKi87XG4gICAgICAgIGZsYWdzICs9IDEgLyogSW5pdFBoYXNlU3RhdGVJbmNyZW1lbnRlciAqLztcbiAgICAgICAgbFZpZXdbRkxBR1NdID0gZmxhZ3M7XG4gICAgfVxufVxuLyoqXG4gKiBDYWxscyBsaWZlY3ljbGUgaG9va3Mgd2l0aCB0aGVpciBjb250ZXh0cywgc2tpcHBpbmcgaW5pdCBob29rcyBpZiBpdCdzIG5vdFxuICogdGhlIGZpcnN0IExWaWV3IHBhc3NcbiAqXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIGN1cnJlbnQgdmlld1xuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgaW4gd2hpY2ggdGhlIGhvb2tzIGFyZSBmb3VuZFxuICogQHBhcmFtIGluaXRQaGFzZVN0YXRlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBpbml0IHBoYXNlXG4gKiBAcGFyYW0gY3VycmVudE5vZGVJbmRleCAzIGNhc2VzIGRlcGVuZGluZyBvbiB0aGUgdmFsdWU6XG4gKiAtIHVuZGVmaW5lZDogYWxsIGhvb2tzIGZyb20gdGhlIGFycmF5IHNob3VsZCBiZSBleGVjdXRlZCAocG9zdC1vcmRlciBjYXNlKVxuICogLSBudWxsOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHByZS1vcmRlciBjYXNlLCB3aGVuXG4gKiBmbHVzaGluZyB0aGUgcmVtYWluaW5nIGhvb2tzKVxuICogLSBudW1iZXI6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGF0IG5vZGUgaW5kZXggZXhjbHVzaXZlIChwcmUtb3JkZXJcbiAqIGNhc2UsIHdoZW4gZXhlY3V0aW5nIHNlbGVjdChudW1iZXIpKVxuICovXG5mdW5jdGlvbiBjYWxsSG9va3MoY3VycmVudFZpZXcsIGFyciwgaW5pdFBoYXNlLCBjdXJyZW50Tm9kZUluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSwgZmFsc2UsICdIb29rcyBzaG91bGQgbmV2ZXIgYmUgcnVuIHdoZW4gaW4gY2hlY2sgbm8gY2hhbmdlcyBtb2RlLicpO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBjdXJyZW50Tm9kZUluZGV4ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAoY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gJiA2NTUzNSAvKiBJbmRleE9mVGhlTmV4dFByZU9yZGVySG9va01hc2tNYXNrICovKSA6XG4gICAgICAgIDA7XG4gICAgY29uc3Qgbm9kZUluZGV4TGltaXQgPSBjdXJyZW50Tm9kZUluZGV4ICE9IG51bGwgPyBjdXJyZW50Tm9kZUluZGV4IDogLTE7XG4gICAgY29uc3QgbWF4ID0gYXJyLmxlbmd0aCAtIDE7IC8vIFN0b3AgdGhlIGxvb3AgYXQgbGVuZ3RoIC0gMSwgYmVjYXVzZSB3ZSBsb29rIGZvciB0aGUgaG9vayBhdCBpICsgMVxuICAgIGxldCBsYXN0Tm9kZUluZGV4Rm91bmQgPSAwO1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgY29uc3QgaG9vayA9IGFycltpICsgMV07XG4gICAgICAgIGlmICh0eXBlb2YgaG9vayA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGxhc3ROb2RlSW5kZXhGb3VuZCA9IGFycltpXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZUluZGV4ICE9IG51bGwgJiYgbGFzdE5vZGVJbmRleEZvdW5kID49IGN1cnJlbnROb2RlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5pdEhvb2sgPSBhcnJbaV0gPCAwO1xuICAgICAgICAgICAgaWYgKGlzSW5pdEhvb2spXG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gKz0gNjU1MzYgLyogTnVtYmVyT2ZJbml0SG9va3NDYWxsZWRJbmNyZW1lbnRlciAqLztcbiAgICAgICAgICAgIGlmIChsYXN0Tm9kZUluZGV4Rm91bmQgPCBub2RlSW5kZXhMaW1pdCB8fCBub2RlSW5kZXhMaW1pdCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNhbGxIb29rKGN1cnJlbnRWaWV3LCBpbml0UGhhc2UsIGFyciwgaSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gPVxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gJiA0Mjk0OTAxNzYwIC8qIE51bWJlck9mSW5pdEhvb2tzQ2FsbGVkTWFzayAqLykgKyBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEV4ZWN1dGUgb25lIGhvb2sgYWdhaW5zdCB0aGUgY3VycmVudCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgY3VycmVudCB2aWV3XG4gKiBAcGFyYW0gaW5pdFBoYXNlU3RhdGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGluaXQgcGhhc2VcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IGluIHdoaWNoIHRoZSBob29rcyBhcmUgZm91bmRcbiAqIEBwYXJhbSBpIFRoZSBjdXJyZW50IGluZGV4IHdpdGhpbiB0aGUgaG9vayBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGNhbGxIb29rKGN1cnJlbnRWaWV3LCBpbml0UGhhc2UsIGFyciwgaSkge1xuICAgIGNvbnN0IGlzSW5pdEhvb2sgPSBhcnJbaV0gPCAwO1xuICAgIGNvbnN0IGhvb2sgPSBhcnJbaSArIDFdO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4ID0gaXNJbml0SG9vayA/IC1hcnJbaV0gOiBhcnJbaV07XG4gICAgY29uc3QgZGlyZWN0aXZlID0gY3VycmVudFZpZXdbZGlyZWN0aXZlSW5kZXhdO1xuICAgIGlmIChpc0luaXRIb29rKSB7XG4gICAgICAgIGNvbnN0IGluZGV4V2l0aGludEluaXRQaGFzZSA9IGN1cnJlbnRWaWV3W0ZMQUdTXSA+PiAxMSAvKiBJbmRleFdpdGhpbkluaXRQaGFzZVNoaWZ0ICovO1xuICAgICAgICAvLyBUaGUgaW5pdCBwaGFzZSBzdGF0ZSBtdXN0IGJlIGFsd2F5cyBjaGVja2VkIGhlcmUgYXMgaXQgbWF5IGhhdmUgYmVlbiByZWN1cnNpdmVseSB1cGRhdGVkLlxuICAgICAgICBpZiAoaW5kZXhXaXRoaW50SW5pdFBoYXNlIDxcbiAgICAgICAgICAgIChjdXJyZW50Vmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSA+PiAxNiAvKiBOdW1iZXJPZkluaXRIb29rc0NhbGxlZFNoaWZ0ICovKSAmJlxuICAgICAgICAgICAgKGN1cnJlbnRWaWV3W0ZMQUdTXSAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gaW5pdFBoYXNlKSB7XG4gICAgICAgICAgICBjdXJyZW50Vmlld1tGTEFHU10gKz0gMjA0OCAvKiBJbmRleFdpdGhpbkluaXRQaGFzZUluY3JlbWVudGVyICovO1xuICAgICAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGRpcmVjdGl2ZSwgaG9vayk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhvb2suY2FsbChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcm9maWxlcig0IC8qIExpZmVjeWNsZUhvb2tTdGFydCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGhvb2suY2FsbChkaXJlY3RpdmUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IE5PX1BBUkVOVF9JTkpFQ1RPUiA9IC0xO1xuLyoqXG4gKiBFYWNoIGluamVjdG9yIGlzIHNhdmVkIGluIDkgY29udGlndW91cyBzbG90cyBpbiBgTFZpZXdgIGFuZCA5IGNvbnRpZ3VvdXMgc2xvdHMgaW5cbiAqIGBUVmlldy5kYXRhYC4gVGhpcyBhbGxvd3MgdXMgdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgbm9kZSdzIHRva2VucyAod2hpY2hcbiAqIGNhbiBiZSBzaGFyZWQgaW4gYFRWaWV3YCkgYXMgd2VsbCBhcyB0aGUgdG9rZW5zIG9mIGl0cyBhbmNlc3RvciBub2RlcyAod2hpY2ggY2Fubm90IGJlXG4gKiBzaGFyZWQsIHNvIHRoZXkgbGl2ZSBpbiBgTFZpZXdgKS5cbiAqXG4gKiBFYWNoIG9mIHRoZXNlIHNsb3RzIChhc2lkZSBmcm9tIHRoZSBsYXN0IHNsb3QpIGNvbnRhaW5zIGEgYmxvb20gZmlsdGVyLiBUaGlzIGJsb29tIGZpbHRlclxuICogZGV0ZXJtaW5lcyB3aGV0aGVyIGEgZGlyZWN0aXZlIGlzIGF2YWlsYWJsZSBvbiB0aGUgYXNzb2NpYXRlZCBub2RlIG9yIG5vdC4gVGhpcyBwcmV2ZW50cyB1c1xuICogZnJvbSBzZWFyY2hpbmcgdGhlIGRpcmVjdGl2ZXMgYXJyYXkgYXQgdGhpcyBsZXZlbCB1bmxlc3MgaXQncyBwcm9iYWJsZSB0aGUgZGlyZWN0aXZlIGlzIGluIGl0LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmxvb21fZmlsdGVyIGZvciBtb3JlIGFib3V0IGJsb29tIGZpbHRlcnMuXG4gKlxuICogQmVjYXVzZSBhbGwgaW5qZWN0b3JzIGhhdmUgYmVlbiBmbGF0dGVuZWQgaW50byBgTFZpZXdgIGFuZCBgVFZpZXdEYXRhYCwgdGhleSBjYW5ub3QgdHlwZWRcbiAqIHVzaW5nIGludGVyZmFjZXMgYXMgdGhleSB3ZXJlIHByZXZpb3VzbHkuIFRoZSBzdGFydCBpbmRleCBvZiBlYWNoIGBMSW5qZWN0b3JgIGFuZCBgVEluamVjdG9yYFxuICogd2lsbCBkaWZmZXIgYmFzZWQgb24gd2hlcmUgaXQgaXMgZmxhdHRlbmVkIGludG8gdGhlIG1haW4gYXJyYXksIHNvIGl0J3Mgbm90IHBvc3NpYmxlIHRvIGtub3dcbiAqIHRoZSBpbmRpY2VzIGFoZWFkIG9mIHRpbWUgYW5kIHNhdmUgdGhlaXIgdHlwZXMgaGVyZS4gVGhlIGludGVyZmFjZXMgYXJlIHN0aWxsIGluY2x1ZGVkIGhlcmVcbiAqIGZvciBkb2N1bWVudGF0aW9uIHB1cnBvc2VzLlxuICpcbiAqIGV4cG9ydCBpbnRlcmZhY2UgTEluamVjdG9yIGV4dGVuZHMgQXJyYXk8YW55PiB7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAwLTMxICAoSURzIGFyZSAlIEJMT09NX1NJWkUpXG4gKiAgICBbMF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDMyLTYzXG4gKiAgICBbMV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDY0LTk1XG4gKiAgICBbMl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDk2LTEyN1xuICogICAgWzNdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxMjgtMTU5XG4gKiAgICBbNF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDE2MCAtIDE5MVxuICogICAgWzVdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxOTIgLSAyMjNcbiAqICAgIFs2XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMjI0IC0gMjU1XG4gKiAgICBbN106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBXZSBuZWVkIHRvIHN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBpbmplY3RvcidzIHBhcmVudCBzbyBESSBjYW4ga2VlcCBsb29raW5nIHVwXG4gKiAgICAvLyB0aGUgaW5qZWN0b3IgdHJlZSB1bnRpbCBpdCBmaW5kcyB0aGUgZGVwZW5kZW5jeSBpdCdzIGxvb2tpbmcgZm9yLlxuICogICAgW1BBUkVOVF9JTkpFQ1RPUl06IG51bWJlcjtcbiAqIH1cbiAqXG4gKiBleHBvcnQgaW50ZXJmYWNlIFRJbmplY3RvciBleHRlbmRzIEFycmF5PGFueT4ge1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDAtMzEgIChJRHMgYXJlICUgQkxPT01fU0laRSlcbiAqICAgIFswXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDMyLTYzXG4gKiAgICBbMV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA2NC05NVxuICogICAgWzJdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgOTYtMTI3XG4gKiAgICBbM106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxMjgtMTU5XG4gKiAgICBbNF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxNjAgLSAxOTFcbiAqICAgIFs1XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDE5MiAtIDIyM1xuICogICAgWzZdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMjI0IC0gMjU1XG4gKiAgICBbN106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBOZWNlc3NhcnkgdG8gZmluZCBkaXJlY3RpdmUgaW5kaWNlcyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGUuXG4gKiAgICBbVE5PREVdOiBURWxlbWVudE5vZGV8VEVsZW1lbnRDb250YWluZXJOb2RlfFRDb250YWluZXJOb2RlO1xuICogIH1cbiAqL1xuLyoqXG4gKiBGYWN0b3J5IGZvciBjcmVhdGluZyBpbnN0YW5jZXMgb2YgaW5qZWN0b3JzIGluIHRoZSBOb2RlSW5qZWN0b3IuXG4gKlxuICogVGhpcyBmYWN0b3J5IGlzIGNvbXBsaWNhdGVkIGJ5IHRoZSBmYWN0IHRoYXQgaXQgY2FuIHJlc29sdmUgYG11bHRpYCBmYWN0b3JpZXMgYXMgd2VsbC5cbiAqXG4gKiBOT1RFOiBTb21lIG9mIHRoZSBmaWVsZHMgYXJlIG9wdGlvbmFsIHdoaWNoIG1lYW5zIHRoYXQgdGhpcyBjbGFzcyBoYXMgdHdvIGhpZGRlbiBjbGFzc2VzLlxuICogLSBPbmUgd2l0aG91dCBgbXVsdGlgIHN1cHBvcnQgKG1vc3QgY29tbW9uKVxuICogLSBPbmUgd2l0aCBgbXVsdGlgIHZhbHVlcywgKHJhcmUpLlxuICpcbiAqIFNpbmNlIFZNcyBjYW4gY2FjaGUgdXAgdG8gNCBpbmxpbmUgaGlkZGVuIGNsYXNzZXMgdGhpcyBpcyBPSy5cbiAqXG4gKiAtIFNpbmdsZSBmYWN0b3J5OiBPbmx5IGByZXNvbHZpbmdgIGFuZCBgZmFjdG9yeWAgaXMgZGVmaW5lZC5cbiAqIC0gYHByb3ZpZGVyc2AgZmFjdG9yeTogYGNvbXBvbmVudFByb3ZpZGVyc2AgaXMgYSBudW1iZXIgYW5kIGBpbmRleCA9IC0xYC5cbiAqIC0gYHZpZXdQcm92aWRlcnNgIGZhY3Rvcnk6IGBjb21wb25lbnRQcm92aWRlcnNgIGlzIGEgbnVtYmVyIGFuZCBgaW5kZXhgIHBvaW50cyB0byBgcHJvdmlkZXJzYC5cbiAqL1xuY2xhc3MgTm9kZUluamVjdG9yRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSB0byBpbnZva2UgaW4gb3JkZXIgdG8gY3JlYXRlIGEgbmV3IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZhY3RvcnksIFxuICAgIC8qKlxuICAgICAqIFNldCB0byBgdHJ1ZWAgaWYgdGhlIHRva2VuIGlzIGRlY2xhcmVkIGluIGB2aWV3UHJvdmlkZXJzYCAob3IgaWYgaXQgaXMgY29tcG9uZW50KS5cbiAgICAgKi9cbiAgICBpc1ZpZXdQcm92aWRlciwgaW5qZWN0SW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcmtlciBzZXQgdG8gdHJ1ZSBkdXJpbmcgZmFjdG9yeSBpbnZvY2F0aW9uIHRvIHNlZSBpZiB3ZSBnZXQgaW50byByZWN1cnNpdmUgbG9vcC5cbiAgICAgICAgICogUmVjdXJzaXZlIGxvb3AgY2F1c2VzIGFuIGVycm9yIHRvIGJlIGRpc3BsYXllZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGZhY3RvcnksICdGYWN0b3J5IG5vdCBzcGVjaWZpZWQnKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHR5cGVvZiBmYWN0b3J5LCAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgZmFjdG9yeSBmdW5jdGlvbi4nKTtcbiAgICAgICAgdGhpcy5jYW5TZWVWaWV3UHJvdmlkZXJzID0gaXNWaWV3UHJvdmlkZXI7XG4gICAgICAgIHRoaXMuaW5qZWN0SW1wbCA9IGluamVjdEltcGxlbWVudGF0aW9uO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRmFjdG9yeShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTm9kZUluamVjdG9yRmFjdG9yeTtcbn1cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDUgPSAxO1xuXG4vKipcbiAqIENvbnZlcnRzIGBUTm9kZVR5cGVgIGludG8gaHVtYW4gcmVhZGFibGUgdGV4dC5cbiAqIE1ha2Ugc3VyZSB0aGlzIG1hdGNoZXMgd2l0aCBgVE5vZGVUeXBlYFxuICovXG5mdW5jdGlvbiB0b1ROb2RlVHlwZUFzU3RyaW5nKHROb2RlVHlwZSkge1xuICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgKHROb2RlVHlwZSAmIDEgLyogVGV4dCAqLykgJiYgKHRleHQgKz0gJ3xUZXh0Jyk7XG4gICAgKHROb2RlVHlwZSAmIDIgLyogRWxlbWVudCAqLykgJiYgKHRleHQgKz0gJ3xFbGVtZW50Jyk7XG4gICAgKHROb2RlVHlwZSAmIDQgLyogQ29udGFpbmVyICovKSAmJiAodGV4dCArPSAnfENvbnRhaW5lcicpO1xuICAgICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pICYmICh0ZXh0ICs9ICd8RWxlbWVudENvbnRhaW5lcicpO1xuICAgICh0Tm9kZVR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSAmJiAodGV4dCArPSAnfFByb2plY3Rpb24nKTtcbiAgICAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSAmJiAodGV4dCArPSAnfEljdUNvbnRhaW5lcicpO1xuICAgICh0Tm9kZVR5cGUgJiA2NCAvKiBQbGFjZWhvbGRlciAqLykgJiYgKHRleHQgKz0gJ3xQbGFjZWhvbGRlcicpO1xuICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA+IDAgPyB0ZXh0LnN1YnN0cmluZygxKSA6IHRleHQ7XG59XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ID0gMTtcbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGBUTm9kZWAgaGFzIGEgZGlyZWN0aXZlIHdoaWNoIGhhcyBgQElucHV0KClgIGZvciBgY2xhc3NgIGJpbmRpbmcuXG4gKlxuICogYGBgXG4gKiA8ZGl2IG15LWRpciBbY2xhc3NdPVwiZXhwXCI+PC9kaXY+XG4gKiBgYGBcbiAqIGFuZFxuICogYGBgXG4gKiBARGlyZWN0aXZlKHtcbiAqIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIEBJbnB1dCgpXG4gKiAgIGNsYXNzOiBzdHJpbmc7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBpdCBpcyBuZWNlc3NhcnkgdG8gd3JpdGUgdGhlIHJlY29uY2lsZWQgc3R5bGluZyBpbmZvcm1hdGlvbiBpbnRvIHRoZVxuICogZGlyZWN0aXZlJ3MgaW5wdXQuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKi9cbmZ1bmN0aW9uIGhhc0NsYXNzSW5wdXQodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMTYgLyogaGFzQ2xhc3NJbnB1dCAqLykgIT09IDA7XG59XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBgVE5vZGVgIGhhcyBhIGRpcmVjdGl2ZSB3aGljaCBoYXMgYEBJbnB1dCgpYCBmb3IgYHN0eWxlYCBiaW5kaW5nLlxuICpcbiAqIGBgYFxuICogPGRpdiBteS1kaXIgW3N0eWxlXT1cImV4cFwiPjwvZGl2PlxuICogYGBgXG4gKiBhbmRcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiB9KVxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICBASW5wdXQoKVxuICogICBjbGFzczogc3RyaW5nO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGNhc2UgaXQgaXMgbmVjZXNzYXJ5IHRvIHdyaXRlIHRoZSByZWNvbmNpbGVkIHN0eWxpbmcgaW5mb3JtYXRpb24gaW50byB0aGVcbiAqIGRpcmVjdGl2ZSdzIGlucHV0LlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICovXG5mdW5jdGlvbiBoYXNTdHlsZUlucHV0KHROb2RlKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIDMyIC8qIGhhc1N0eWxlSW5wdXQgKi8pICE9PSAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgZXhwZWN0ZWRUeXBlcywgbWVzc2FnZSkge1xuICAgIGFzc2VydERlZmluZWQodE5vZGUsICdzaG91bGQgYmUgY2FsbGVkIHdpdGggYSBUTm9kZScpO1xuICAgIGlmICgodE5vZGUudHlwZSAmIGV4cGVjdGVkVHlwZXMpID09PSAwKSB7XG4gICAgICAgIHRocm93RXJyb3IobWVzc2FnZSB8fFxuICAgICAgICAgICAgYEV4cGVjdGVkIFske3RvVE5vZGVUeXBlQXNTdHJpbmcoZXhwZWN0ZWRUeXBlcyl9XSBidXQgZ290ICR7dG9UTm9kZVR5cGVBc1N0cmluZyh0Tm9kZS50eXBlKX0uYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0UHVyZVROb2RlVHlwZSh0eXBlKSB7XG4gICAgaWYgKCEodHlwZSA9PT0gMiAvKiBFbGVtZW50ICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDEgLyogVGV4dCAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSA0IC8qIENvbnRhaW5lciAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gMzIgLyogSWN1ICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDE2IC8qIFByb2plY3Rpb24gKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gNjQgLyogUGxhY2Vob2xkZXIgKi8pKSB7XG4gICAgICAgIHRocm93RXJyb3IoYEV4cGVjdGVkIFROb2RlVHlwZSB0byBoYXZlIG9ubHkgYSBzaW5nbGUgdHlwZSBzZWxlY3RlZCwgYnV0IGdvdCAke3RvVE5vZGVUeXBlQXNTdHJpbmcodHlwZSl9LmApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBc3NpZ25zIGFsbCBhdHRyaWJ1dGUgdmFsdWVzIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50IHZpYSB0aGUgaW5mZXJyZWQgcmVuZGVyZXIuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIHR3byBmb3JtcyBvZiBhdHRyaWJ1dGUgZW50cmllczpcbiAqXG4gKiBkZWZhdWx0OiAoa2V5LCB2YWx1ZSk6XG4gKiAgYXR0cnMgPSBba2V5MSwgdmFsdWUxLCBrZXkyLCB2YWx1ZTJdXG4gKlxuICogbmFtZXNwYWNlZDogKE5BTUVTUEFDRV9NQVJLRVIsIHVyaSwgbmFtZSwgdmFsdWUpXG4gKiAgYXR0cnMgPSBbTkFNRVNQQUNFX01BUktFUiwgdXJpLCBuYW1lLCB2YWx1ZSwgTkFNRVNQQUNFX01BUktFUiwgdXJpLCBuYW1lLCB2YWx1ZV1cbiAqXG4gKiBUaGUgYGF0dHJzYCBhcnJheSBjYW4gY29udGFpbiBhIG1peCBvZiBib3RoIHRoZSBkZWZhdWx0IGFuZCBuYW1lc3BhY2VkIGVudHJpZXMuXG4gKiBUaGUgXCJkZWZhdWx0XCIgdmFsdWVzIGFyZSBzZXQgd2l0aG91dCBhIG1hcmtlciwgYnV0IGlmIHRoZSBmdW5jdGlvbiBjb21lcyBhY3Jvc3NcbiAqIGEgbWFya2VyIHZhbHVlIHRoZW4gaXQgd2lsbCBhdHRlbXB0IHRvIHNldCBhIG5hbWVzcGFjZWQgdmFsdWUuIElmIHRoZSBtYXJrZXIgaXNcbiAqIG5vdCBvZiBhIG5hbWVzcGFjZWQgdmFsdWUgdGhlbiB0aGUgZnVuY3Rpb24gd2lsbCBxdWl0IGFuZCByZXR1cm4gdGhlIGluZGV4IHZhbHVlXG4gKiB3aGVyZSBpdCBzdG9wcGVkIGR1cmluZyB0aGUgaXRlcmF0aW9uIG9mIHRoZSBhdHRycyBhcnJheS5cbiAqXG4gKiBTZWUgW0F0dHJpYnV0ZU1hcmtlcl0gdG8gdW5kZXJzdGFuZCB3aGF0IHRoZSBuYW1lc3BhY2UgbWFya2VyIHZhbHVlIGlzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGluc3RydWN0aW9uIGRvZXMgbm90IHN1cHBvcnQgYXNzaWduaW5nIHN0eWxlIGFuZCBjbGFzcyB2YWx1ZXMgdG9cbiAqIGFuIGVsZW1lbnQuIFNlZSBgZWxlbWVudFN0YXJ0YCBhbmQgYGVsZW1lbnRIb3N0QXR0cnNgIHRvIGxlYXJuIGhvdyBzdHlsaW5nIHZhbHVlc1xuICogYXJlIGFwcGxpZWQgdG8gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSByZW5kZXJlciBUaGUgcmVuZGVyZXIgdG8gYmUgdXNlZFxuICogQHBhcmFtIG5hdGl2ZSBUaGUgZWxlbWVudCB0aGF0IHRoZSBhdHRyaWJ1dGVzIHdpbGwgYmUgYXNzaWduZWQgdG9cbiAqIEBwYXJhbSBhdHRycyBUaGUgYXR0cmlidXRlIGFycmF5IG9mIHZhbHVlcyB0aGF0IHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRcbiAqIEByZXR1cm5zIHRoZSBpbmRleCB2YWx1ZSB0aGF0IHdhcyBsYXN0IGFjY2Vzc2VkIGluIHRoZSBhdHRyaWJ1dGVzIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHNldFVwQXR0cmlidXRlcyhyZW5kZXJlciwgbmF0aXZlLCBhdHRycykge1xuICAgIGNvbnN0IGlzUHJvYyA9IGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgbmFtZXNwYWNlcyBhcmUgc3VwcG9ydGVkLiBPdGhlciB2YWx1ZSB0eXBlcyAoc3VjaCBhcyBzdHlsZS9jbGFzc1xuICAgICAgICAgICAgLy8gZW50cmllcykgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBmdW5jdGlvbi5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGp1c3QgbGFuZGVkIG9uIHRoZSBtYXJrZXIgdmFsdWUgLi4uIHRoZXJlZm9yZVxuICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIHNraXAgdG8gdGhlIG5leHQgZW50cnlcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZVVSSSA9IGF0dHJzW2krK107XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJzW2krK107XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsID0gYXR0cnNbaSsrXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRBdHRyaWJ1dGUrKztcbiAgICAgICAgICAgIGlzUHJvYyA/XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwsIG5hbWVzcGFjZVVSSSkgOlxuICAgICAgICAgICAgICAgIG5hdGl2ZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIGF0dHJOYW1lLCBhdHRyVmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGF0dHJOYW1lIGlzIHN0cmluZztcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsID0gYXR0cnNbKytpXTtcbiAgICAgICAgICAgIC8vIFN0YW5kYXJkIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRBdHRyaWJ1dGUrKztcbiAgICAgICAgICAgIGlmIChpc0FuaW1hdGlvblByb3AoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvYykge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRQcm9wZXJ0eShuYXRpdmUsIGF0dHJOYW1lLCBhdHRyVmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1Byb2MgP1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUobmF0aXZlLCBhdHRyTmFtZSwgYXR0clZhbCkgOlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmUuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhbm90aGVyIHBpZWNlIG9mIGNvZGUgbWF5IGl0ZXJhdGUgb3ZlciB0aGUgc2FtZSBhdHRyaWJ1dGVzIGFycmF5LiBUaGVyZWZvcmVcbiAgICAvLyBpdCBtYXkgYmUgaGVscGZ1bCB0byByZXR1cm4gdGhlIGV4YWN0IHNwb3Qgd2hlcmUgdGhlIGF0dHJpYnV0ZXMgYXJyYXkgZXhpdGVkXG4gICAgLy8gd2hldGhlciBieSBydW5uaW5nIGludG8gYW4gdW5zdXBwb3J0ZWQgbWFya2VyIG9yIGlmIGFsbCB0aGUgc3RhdGljIHZhbHVlcyB3ZXJlXG4gICAgLy8gaXRlcmF0ZWQgb3Zlci5cbiAgICByZXR1cm4gaTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG1hcmtlciB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBmb2xsb3dpbmdcbiAqIGF0dHJpYnV0ZSB2YWx1ZXMgaW4gYSBgVEF0dHJpYnV0ZXNgIGFycmF5IGFyZSBvbmx5IHRoZSBuYW1lcyBvZiBhdHRyaWJ1dGVzLFxuICogYW5kIG5vdCBuYW1lLXZhbHVlIHBhaXJzLlxuICogQHBhcmFtIG1hcmtlciBUaGUgYXR0cmlidXRlIG1hcmtlciB0byB0ZXN0LlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbWFya2VyIGlzIGEgXCJuYW1lLW9ubHlcIiBtYXJrZXIgKGUuZy4gYEJpbmRpbmdzYCwgYFRlbXBsYXRlYCBvciBgSTE4bmApLlxuICovXG5mdW5jdGlvbiBpc05hbWVPbmx5QXR0cmlidXRlTWFya2VyKG1hcmtlcikge1xuICAgIHJldHVybiBtYXJrZXIgPT09IDMgLyogQmluZGluZ3MgKi8gfHwgbWFya2VyID09PSA0IC8qIFRlbXBsYXRlICovIHx8XG4gICAgICAgIG1hcmtlciA9PT0gNiAvKiBJMThuICovO1xufVxuZnVuY3Rpb24gaXNBbmltYXRpb25Qcm9wKG5hbWUpIHtcbiAgICAvLyBQZXJmIG5vdGU6IGFjY2Vzc2luZyBjaGFyQ29kZUF0IHRvIGNoZWNrIGZvciB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nIGlzIGZhc3RlciBhc1xuICAgIC8vIGNvbXBhcmVkIHRvIGFjY2Vzc2luZyBhIGNoYXJhY3RlciBhdCBpbmRleCAwIChleC4gbmFtZVswXSkuIFRoZSBtYWluIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0XG4gICAgLy8gY2hhckNvZGVBdCBkb2Vzbid0IGFsbG9jYXRlIG1lbW9yeSB0byByZXR1cm4gYSBzdWJzdHJpbmcuXG4gICAgcmV0dXJuIG5hbWUuY2hhckNvZGVBdCgwKSA9PT0gNjQgLyogQVRfU0lHTiAqLztcbn1cbi8qKlxuICogTWVyZ2VzIGBzcmNgIGBUQXR0cmlidXRlc2AgaW50byBgZHN0YCBgVEF0dHJpYnV0ZXNgIHJlbW92aW5nIGFueSBkdXBsaWNhdGVzIGluIHRoZSBwcm9jZXNzLlxuICpcbiAqIFRoaXMgbWVyZ2UgZnVuY3Rpb24ga2VlcHMgdGhlIG9yZGVyIG9mIGF0dHJzIHNhbWUuXG4gKlxuICogQHBhcmFtIGRzdCBMb2NhdGlvbiBvZiB3aGVyZSB0aGUgbWVyZ2VkIGBUQXR0cmlidXRlc2Agc2hvdWxkIGVuZCB1cC5cbiAqIEBwYXJhbSBzcmMgYFRBdHRyaWJ1dGVzYCB3aGljaCBzaG91bGQgYmUgYXBwZW5kZWQgdG8gYGRzdGBcbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb3N0QXR0cnMoZHN0LCBzcmMpIHtcbiAgICBpZiAoc3JjID09PSBudWxsIHx8IHNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIGlmIChkc3QgPT09IG51bGwgfHwgZHN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSBoYXZlIHNvdXJjZSwgYnV0IGRzdCBpcyBlbXB0eSwganVzdCBtYWtlIGEgY29weS5cbiAgICAgICAgZHN0ID0gc3JjLnNsaWNlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgc3JjTWFya2VyID0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHNyY1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzcmNNYXJrZXIgPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNyY01hcmtlciA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBuZWVkIHRvIGNvbnN1bWUgYGtleTFgLCBga2V5MmAsIGB2YWx1ZWAgaXRlbXMuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyY01hcmtlciA9PT0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovIHx8XG4gICAgICAgICAgICAgICAgICAgIHNyY01hcmtlciA9PT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBoYXZlIHRvIGNvbnN1bWUgYGtleTFgIGFuZCBgdmFsdWVgIG9ubHkuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJpYnV0ZShkc3QsIHNyY01hcmtlciwgaXRlbSwgbnVsbCwgc3JjWysraV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBoYXZlIHRvIGNvbnN1bWUgYGtleTFgIG9ubHkuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJpYnV0ZShkc3QsIHNyY01hcmtlciwgaXRlbSwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGVuZCBga2V5YC9gdmFsdWVgIHRvIGV4aXN0aW5nIGBUQXR0cmlidXRlc2AgdGFraW5nIHJlZ2lvbiBtYXJrZXIgYW5kIGR1cGxpY2F0ZXMgaW50byBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSBkc3QgYFRBdHRyaWJ1dGVzYCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0gbWFya2VyIFJlZ2lvbiB3aGVyZSB0aGUgYGtleWAvYHZhbHVlYCBzaG91bGQgYmUgYWRkZWQuXG4gKiBAcGFyYW0ga2V5MSBLZXkgdG8gYWRkIHRvIGBUQXR0cmlidXRlc2BcbiAqIEBwYXJhbSBrZXkyIEtleSB0byBhZGQgdG8gYFRBdHRyaWJ1dGVzYCAoaW4gY2FzZSBvZiBgQXR0cmlidXRlTWFya2VyLk5hbWVzcGFjZVVSSWApXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gYWRkIG9yIHRvIG92ZXJ3cml0ZSB0byBgVEF0dHJpYnV0ZXNgIE9ubHkgdXNlZCBpZiBgbWFya2VyYCBpcyBub3QgQ2xhc3MuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9zdEF0dHJpYnV0ZShkc3QsIG1hcmtlciwga2V5MSwga2V5MiwgdmFsdWUpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gQXNzdW1lIHRoYXQgbmV3IG1hcmtlcnMgd2lsbCBiZSBpbnNlcnRlZCBhdCB0aGUgZW5kLlxuICAgIGxldCBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IGRzdC5sZW5ndGg7XG4gICAgLy8gc2NhbiB1bnRpbCBjb3JyZWN0IHR5cGUuXG4gICAgaWYgKG1hcmtlciA9PT0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovKSB7XG4gICAgICAgIG1hcmtlckluc2VydFBvc2l0aW9uID0gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aGlsZSAoaSA8IGRzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRzdFZhbHVlID0gZHN0W2krK107XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRzdFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGlmIChkc3RWYWx1ZSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc2VydFBvc2l0aW9uID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkc3RWYWx1ZSA+IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHNhdmUgdGhpcyBhcyB3ZSB3YW50IHRoZSBtYXJrZXJzIHRvIGJlIGluc2VydGVkIGluIHNwZWNpZmljIG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc2VhcmNoIHVudGlsIHlvdSBmaW5kIHBsYWNlIG9mIGluc2VydGlvblxuICAgIHdoaWxlIChpIDwgZHN0Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBpdGVtID0gZHN0W2ldO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBzaW5jZSBgaWAgc3RhcnRlZCBhcyB0aGUgaW5kZXggYWZ0ZXIgdGhlIG1hcmtlciwgd2UgZGlkIG5vdCBmaW5kIGl0IGlmIHdlIGFyZSBhdCB0aGUgbmV4dFxuICAgICAgICAgICAgLy8gbWFya2VyXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtID09PSBrZXkxKSB7XG4gICAgICAgICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgc2FtZSB0b2tlblxuICAgICAgICAgICAgaWYgKGtleTIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0W2kgKyAxXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkyID09PSBkc3RbaSArIDFdKSB7XG4gICAgICAgICAgICAgICAgZHN0W2kgKyAyXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbmNyZW1lbnQgY291bnRlci5cbiAgICAgICAgaSsrO1xuICAgICAgICBpZiAoa2V5MiAhPT0gbnVsbClcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKVxuICAgICAgICAgICAgaSsrO1xuICAgIH1cbiAgICAvLyBpbnNlcnQgYXQgbG9jYXRpb24uXG4gICAgaWYgKG1hcmtlckluc2VydFBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICBkc3Quc3BsaWNlKG1hcmtlckluc2VydFBvc2l0aW9uLCAwLCBtYXJrZXIpO1xuICAgICAgICBpID0gbWFya2VySW5zZXJ0UG9zaXRpb24gKyAxO1xuICAgIH1cbiAgICBkc3Quc3BsaWNlKGkrKywgMCwga2V5MSk7XG4gICAgaWYgKGtleTIgIT09IG51bGwpIHtcbiAgICAgICAgZHN0LnNwbGljZShpKyssIDAsIGtleTIpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgZHN0LnNwbGljZShpKyssIDAsIHZhbHVlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8vIFBhcmVudCBJbmplY3RvciBVdGlscyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGhhc1BhcmVudEluamVjdG9yKHBhcmVudExvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHBhcmVudExvY2F0aW9uICE9PSBOT19QQVJFTlRfSU5KRUNUT1I7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihwYXJlbnRMb2NhdGlvbiwgJ051bWJlciBleHBlY3RlZCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RFcXVhbChwYXJlbnRMb2NhdGlvbiwgLTEsICdOb3QgYSB2YWxpZCBzdGF0ZS4nKTtcbiAgICBjb25zdCBwYXJlbnRJbmplY3RvckluZGV4ID0gcGFyZW50TG9jYXRpb24gJiAzMjc2NyAvKiBJbmplY3RvckluZGV4TWFzayAqLztcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW4ocGFyZW50SW5qZWN0b3JJbmRleCwgSEVBREVSX09GRlNFVCwgJ1BhcmVudCBpbmplY3RvciBtdXN0IGJlIHBvaW50aW5nIHBhc3QgSEVBREVSX09GRlNFVC4nKTtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gJiAzMjc2NyAvKiBJbmplY3RvckluZGV4TWFzayAqLztcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yVmlld09mZnNldChwYXJlbnRMb2NhdGlvbikge1xuICAgIHJldHVybiBwYXJlbnRMb2NhdGlvbiA+PiAxNiAvKiBWaWV3T2Zmc2V0U2hpZnQgKi87XG59XG4vKipcbiAqIFVud3JhcHMgYSBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24gbnVtYmVyIHRvIGZpbmQgdGhlIHZpZXcgb2Zmc2V0IGZyb20gdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4gKiB0aGVuIHdhbGtzIHVwIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgdW50aWwgdGhlIHZpZXcgaXMgZm91bmQgdGhhdCBjb250YWlucyB0aGUgcGFyZW50XG4gKiBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gbG9jYXRpb24gVGhlIGxvY2F0aW9uIG9mIHRoZSBwYXJlbnQgaW5qZWN0b3IsIHdoaWNoIGNvbnRhaW5zIHRoZSB2aWV3IG9mZnNldFxuICogQHBhcmFtIHN0YXJ0VmlldyBUaGUgTFZpZXcgaW5zdGFuY2UgZnJvbSB3aGljaCB0byBzdGFydCB3YWxraW5nIHVwIHRoZSB2aWV3IHRyZWVcbiAqIEByZXR1cm5zIFRoZSBMVmlldyBpbnN0YW5jZSB0aGF0IGNvbnRhaW5zIHRoZSBwYXJlbnQgaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KGxvY2F0aW9uLCBzdGFydFZpZXcpIHtcbiAgICBsZXQgdmlld09mZnNldCA9IGdldFBhcmVudEluamVjdG9yVmlld09mZnNldChsb2NhdGlvbik7XG4gICAgbGV0IHBhcmVudFZpZXcgPSBzdGFydFZpZXc7XG4gICAgLy8gRm9yIG1vc3QgY2FzZXMsIHRoZSBwYXJlbnQgaW5qZWN0b3IgY2FuIGJlIGZvdW5kIG9uIHRoZSBob3N0IG5vZGUgKGUuZy4gZm9yIGNvbXBvbmVudFxuICAgIC8vIG9yIGNvbnRhaW5lciksIGJ1dCB3ZSBtdXN0IGtlZXAgdGhlIGxvb3AgaGVyZSB0byBzdXBwb3J0IHRoZSByYXJlciBjYXNlIG9mIGRlZXBseSBuZXN0ZWRcbiAgICAvLyA8bmctdGVtcGxhdGU+IHRhZ3Mgb3IgaW5saW5lIHZpZXdzLCB3aGVyZSB0aGUgcGFyZW50IGluamVjdG9yIG1pZ2h0IGxpdmUgbWFueSB2aWV3c1xuICAgIC8vIGFib3ZlIHRoZSBjaGlsZCBpbmplY3Rvci5cbiAgICB3aGlsZSAodmlld09mZnNldCA+IDApIHtcbiAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIHZpZXdPZmZzZXQtLTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudFZpZXc7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZWZpbmVzIGlmIHRoZSBjYWxsIHRvIGBpbmplY3RgIHNob3VsZCBpbmNsdWRlIGB2aWV3UHJvdmlkZXJzYCBpbiBpdHMgcmVzb2x1dGlvbi5cbiAqXG4gKiBUaGlzIGlzIHNldCB0byB0cnVlIHdoZW4gd2UgdHJ5IHRvIGluc3RhbnRpYXRlIGEgY29tcG9uZW50LiBUaGlzIHZhbHVlIGlzIHJlc2V0IGluXG4gKiBgZ2V0Tm9kZUluamVjdGFibGVgIHRvIGEgdmFsdWUgd2hpY2ggbWF0Y2hlcyB0aGUgZGVjbGFyYXRpb24gbG9jYXRpb24gb2YgdGhlIHRva2VuIGFib3V0IHRvIGJlXG4gKiBpbnN0YW50aWF0ZWQuIFRoaXMgaXMgZG9uZSBzbyB0aGF0IGlmIHdlIGFyZSBpbmplY3RpbmcgYSB0b2tlbiB3aGljaCB3YXMgZGVjbGFyZWQgb3V0c2lkZSBvZlxuICogYHZpZXdQcm92aWRlcnNgIHdlIGRvbid0IGFjY2lkZW50YWxseSBwdWxsIGB2aWV3UHJvdmlkZXJzYCBpbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgTXlTZXJ2aWNlIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBTdHJpbmcpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHByb3ZpZGVyczogW1xuICogICAgIE15U2VydmljZSxcbiAqICAgICB7cHJvdmlkZTogU3RyaW5nLCB2YWx1ZTogJ3Byb3ZpZGVycycgfVxuICogICBdXG4gKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAqICAgICB7cHJvdmlkZTogU3RyaW5nLCB2YWx1ZTogJ3ZpZXdQcm92aWRlcnMnfVxuICogICBdXG4gKiB9KVxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3RvcihteVNlcnZpY2U6IE15U2VydmljZSwgdmFsdWU6IFN0cmluZykge1xuICogICAgIC8vIFdlIGV4cGVjdCB0aGF0IENvbXBvbmVudCBjYW4gc2VlIGludG8gYHZpZXdQcm92aWRlcnNgLlxuICogICAgIGV4cGVjdCh2YWx1ZSkudG9FcXVhbCgndmlld1Byb3ZpZGVycycpO1xuICogICAgIC8vIGBNeVNlcnZpY2VgIHdhcyBub3QgZGVjbGFyZWQgaW4gYHZpZXdQcm92aWRlcnNgIGhlbmNlIGl0IGNhbid0IHNlZSBpdC5cbiAqICAgICBleHBlY3QobXlTZXJ2aWNlLnZhbHVlKS50b0VxdWFsKCdwcm92aWRlcnMnKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGBgYFxuICovXG5sZXQgaW5jbHVkZVZpZXdQcm92aWRlcnMgPSB0cnVlO1xuZnVuY3Rpb24gc2V0SW5jbHVkZVZpZXdQcm92aWRlcnModikge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gaW5jbHVkZVZpZXdQcm92aWRlcnM7XG4gICAgaW5jbHVkZVZpZXdQcm92aWRlcnMgPSB2O1xuICAgIHJldHVybiBvbGRWYWx1ZTtcbn1cbi8qKlxuICogVGhlIG51bWJlciBvZiBzbG90cyBpbiBlYWNoIGJsb29tIGZpbHRlciAodXNlZCBieSBESSkuIFRoZSBsYXJnZXIgdGhpcyBudW1iZXIsIHRoZSBmZXdlclxuICogZGlyZWN0aXZlcyB0aGF0IHdpbGwgc2hhcmUgc2xvdHMsIGFuZCB0aHVzLCB0aGUgZmV3ZXIgZmFsc2UgcG9zaXRpdmVzIHdoZW4gY2hlY2tpbmcgZm9yXG4gKiB0aGUgZXhpc3RlbmNlIG9mIGEgZGlyZWN0aXZlLlxuICovXG5jb25zdCBCTE9PTV9TSVpFID0gMjU2O1xuY29uc3QgQkxPT01fTUFTSyA9IEJMT09NX1NJWkUgLSAxO1xuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIGJpdHMgdGhhdCBpcyByZXByZXNlbnRlZCBieSBhIHNpbmdsZSBibG9vbSBidWNrZXQuIEpTIGJpdCBvcGVyYXRpb25zIGFyZSAzMiBiaXRzLFxuICogc28gZWFjaCBidWNrZXQgcmVwcmVzZW50cyAzMiBkaXN0aW5jdCB0b2tlbnMgd2hpY2ggYWNjb3VudHMgZm9yIGxvZzIoMzIpID0gNSBiaXRzIG9mIGEgYmxvb20gaGFzaFxuICogbnVtYmVyLlxuICovXG5jb25zdCBCTE9PTV9CVUNLRVRfQklUUyA9IDU7XG4vKiogQ291bnRlciB1c2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMgZm9yIGRpcmVjdGl2ZXMuICovXG5sZXQgbmV4dE5nRWxlbWVudElkID0gMDtcbi8qKlxuICogUmVnaXN0ZXJzIHRoaXMgZGlyZWN0aXZlIGFzIHByZXNlbnQgaW4gaXRzIG5vZGUncyBpbmplY3RvciBieSBmbGlwcGluZyB0aGUgZGlyZWN0aXZlJ3NcbiAqIGNvcnJlc3BvbmRpbmcgYml0IGluIHRoZSBpbmplY3RvcidzIGJsb29tIGZpbHRlci5cbiAqXG4gKiBAcGFyYW0gaW5qZWN0b3JJbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgaW5qZWN0b3Igd2hlcmUgdGhpcyB0b2tlbiBzaG91bGQgYmUgcmVnaXN0ZXJlZFxuICogQHBhcmFtIHRWaWV3IFRoZSBUVmlldyBmb3IgdGhlIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyc1xuICogQHBhcmFtIHR5cGUgVGhlIGRpcmVjdGl2ZSB0b2tlbiB0byByZWdpc3RlclxuICovXG5mdW5jdGlvbiBibG9vbUFkZChpbmplY3RvckluZGV4LCB0VmlldywgdHlwZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0Vmlldy5maXJzdENyZWF0ZVBhc3MsIHRydWUsICdleHBlY3RlZCBmaXJzdENyZWF0ZVBhc3MgdG8gYmUgdHJ1ZScpO1xuICAgIGxldCBpZDtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlkID0gdHlwZS5jaGFyQ29kZUF0KDApIHx8IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaGFzT3duUHJvcGVydHkoTkdfRUxFTUVOVF9JRCkpIHtcbiAgICAgICAgaWQgPSB0eXBlW05HX0VMRU1FTlRfSURdO1xuICAgIH1cbiAgICAvLyBTZXQgYSB1bmlxdWUgSUQgb24gdGhlIGRpcmVjdGl2ZSB0eXBlLCBzbyBpZiBzb21ldGhpbmcgdHJpZXMgdG8gaW5qZWN0IHRoZSBkaXJlY3RpdmUsXG4gICAgLy8gd2UgY2FuIGVhc2lseSByZXRyaWV2ZSB0aGUgSUQgYW5kIGhhc2ggaXQgaW50byB0aGUgYmxvb20gYml0IHRoYXQgc2hvdWxkIGJlIGNoZWNrZWQuXG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgaWQgPSB0eXBlW05HX0VMRU1FTlRfSURdID0gbmV4dE5nRWxlbWVudElkKys7XG4gICAgfVxuICAgIC8vIFdlIG9ubHkgaGF2ZSBCTE9PTV9TSVpFICgyNTYpIHNsb3RzIGluIG91ciBibG9vbSBmaWx0ZXIgKDggYnVja2V0cyAqIDMyIGJpdHMgZWFjaCksXG4gICAgLy8gc28gYWxsIHVuaXF1ZSBJRHMgbXVzdCBiZSBtb2R1bG8tZWQgaW50byBhIG51bWJlciBmcm9tIDAgLSAyNTUgdG8gZml0IGludG8gdGhlIGZpbHRlci5cbiAgICBjb25zdCBibG9vbUhhc2ggPSBpZCAmIEJMT09NX01BU0s7XG4gICAgLy8gQ3JlYXRlIGEgbWFzayB0aGF0IHRhcmdldHMgdGhlIHNwZWNpZmljIGJpdCBhc3NvY2lhdGVkIHdpdGggdGhlIGRpcmVjdGl2ZS5cbiAgICAvLyBKUyBiaXQgb3BlcmF0aW9ucyBhcmUgMzIgYml0cywgc28gdGhpcyB3aWxsIGJlIGEgbnVtYmVyIGJldHdlZW4gMl4wIGFuZCAyXjMxLCBjb3JyZXNwb25kaW5nXG4gICAgLy8gdG8gYml0IHBvc2l0aW9ucyAwIC0gMzEgaW4gYSAzMiBiaXQgaW50ZWdlci5cbiAgICBjb25zdCBtYXNrID0gMSA8PCBibG9vbUhhc2g7XG4gICAgLy8gRWFjaCBibG9vbSBidWNrZXQgaW4gYHREYXRhYCByZXByZXNlbnRzIGBCTE9PTV9CVUNLRVRfQklUU2AgbnVtYmVyIG9mIGJpdHMgb2YgYGJsb29tSGFzaGAuXG4gICAgLy8gQW55IGJpdHMgaW4gYGJsb29tSGFzaGAgYmV5b25kIGBCTE9PTV9CVUNLRVRfQklUU2AgaW5kaWNhdGUgdGhlIGJ1Y2tldCBvZmZzZXQgdGhhdCB0aGUgbWFza1xuICAgIC8vIHNob3VsZCBiZSB3cml0dGVuIHRvLlxuICAgIHRWaWV3LmRhdGFbaW5qZWN0b3JJbmRleCArIChibG9vbUhhc2ggPj4gQkxPT01fQlVDS0VUX0JJVFMpXSB8PSBtYXNrO1xufVxuLyoqXG4gKiBDcmVhdGVzIChvciBnZXRzIGFuIGV4aXN0aW5nKSBpbmplY3RvciBmb3IgYSBnaXZlbiBlbGVtZW50IG9yIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgZm9yIHdoaWNoIGFuIGluamVjdG9yIHNob3VsZCBiZSByZXRyaWV2ZWQgLyBjcmVhdGVkLlxuICogQHBhcmFtIGxWaWV3IFZpZXcgd2hlcmUgdGhlIG5vZGUgaXMgc3RvcmVkXG4gKiBAcmV0dXJucyBOb2RlIGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCBleGlzdGluZ0luamVjdG9ySW5kZXggPSBnZXRJbmplY3RvckluZGV4KHROb2RlLCBsVmlldyk7XG4gICAgaWYgKGV4aXN0aW5nSW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nSW5qZWN0b3JJbmRleDtcbiAgICB9XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICB0Tm9kZS5pbmplY3RvckluZGV4ID0gbFZpZXcubGVuZ3RoO1xuICAgICAgICBpbnNlcnRCbG9vbSh0Vmlldy5kYXRhLCB0Tm9kZSk7IC8vIGZvdW5kYXRpb24gZm9yIG5vZGUgYmxvb21cbiAgICAgICAgaW5zZXJ0Qmxvb20obFZpZXcsIG51bGwpOyAvLyBmb3VuZGF0aW9uIGZvciBjdW11bGF0aXZlIGJsb29tXG4gICAgICAgIGluc2VydEJsb29tKHRWaWV3LmJsdWVwcmludCwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudExvYyA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBpbmplY3RvckluZGV4ID0gdE5vZGUuaW5qZWN0b3JJbmRleDtcbiAgICAvLyBJZiBhIHBhcmVudCBpbmplY3RvciBjYW4ndCBiZSBmb3VuZCwgaXRzIGxvY2F0aW9uIGlzIHNldCB0byAtMS5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHdlIGRvbid0IG5lZWQgdG8gc2V0IHVwIGEgY3VtdWxhdGl2ZSBibG9vbVxuICAgIGlmIChoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2MpKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2MpO1xuICAgICAgICBjb25zdCBwYXJlbnRMVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2MsIGxWaWV3KTtcbiAgICAgICAgY29uc3QgcGFyZW50RGF0YSA9IHBhcmVudExWaWV3W1RWSUVXXS5kYXRhO1xuICAgICAgICAvLyBDcmVhdGVzIGEgY3VtdWxhdGl2ZSBibG9vbSBmaWx0ZXIgdGhhdCBtZXJnZXMgdGhlIHBhcmVudCdzIGJsb29tIGZpbHRlclxuICAgICAgICAvLyBhbmQgaXRzIG93biBjdW11bGF0aXZlIGJsb29tICh3aGljaCBjb250YWlucyB0b2tlbnMgZm9yIGFsbCBhbmNlc3RvcnMpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOCAvKiBCTE9PTV9TSVpFICovOyBpKyspIHtcbiAgICAgICAgICAgIGxWaWV3W2luamVjdG9ySW5kZXggKyBpXSA9IHBhcmVudExWaWV3W3BhcmVudEluZGV4ICsgaV0gfCBwYXJlbnREYXRhW3BhcmVudEluZGV4ICsgaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSA9IHBhcmVudExvYztcbiAgICByZXR1cm4gaW5qZWN0b3JJbmRleDtcbn1cbmZ1bmN0aW9uIGluc2VydEJsb29tKGFyciwgZm9vdGVyKSB7XG4gICAgYXJyLnB1c2goMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgZm9vdGVyKTtcbn1cbmZ1bmN0aW9uIGdldEluamVjdG9ySW5kZXgodE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHROb2RlLmluamVjdG9ySW5kZXggPT09IC0xIHx8XG4gICAgICAgIC8vIElmIHRoZSBpbmplY3RvciBpbmRleCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3MgaW5qZWN0b3IgaW5kZXgsIHRoZW4gdGhlIGluZGV4IGhhcyBiZWVuXG4gICAgICAgIC8vIGNvcGllZCBkb3duIGZyb20gdGhlIHBhcmVudCBub2RlLiBObyBpbmplY3RvciBoYXMgYmVlbiBjcmVhdGVkIHlldCBvbiB0aGlzIG5vZGUuXG4gICAgICAgICh0Tm9kZS5wYXJlbnQgJiYgdE5vZGUucGFyZW50LmluamVjdG9ySW5kZXggPT09IHROb2RlLmluamVjdG9ySW5kZXgpIHx8XG4gICAgICAgIC8vIEFmdGVyIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLCB0aGUgaW5qZWN0b3IgaW5kZXggbWlnaHQgZXhpc3QgYnV0IHRoZSBwYXJlbnQgdmFsdWVzXG4gICAgICAgIC8vIG1pZ2h0IG5vdCBoYXZlIGJlZW4gY2FsY3VsYXRlZCB5ZXQgZm9yIHRoaXMgaW5zdGFuY2VcbiAgICAgICAgbFZpZXdbdE5vZGUuaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0Tm9kZS5pbmplY3RvckluZGV4KTtcbiAgICAgICAgcmV0dXJuIHROb2RlLmluamVjdG9ySW5kZXg7XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIHBhcmVudCBpbmplY3Rvciwgd2l0aCBhIHZpZXcgb2Zmc2V0IGlmIGFwcGxpY2FibGUuIFVzZWQgdG8gc2V0IHRoZVxuICogcGFyZW50IGluamVjdG9yIGluaXRpYWxseS5cbiAqXG4gKiBAcmV0dXJucyBSZXR1cm5zIGEgbnVtYmVyIHRoYXQgaXMgdGhlIGNvbWJpbmF0aW9uIG9mIHRoZSBudW1iZXIgb2YgTFZpZXdzIHRoYXQgd2UgaGF2ZSB0byBnbyB1cFxuICogdG8gZmluZCB0aGUgTFZpZXcgY29udGFpbmluZyB0aGUgcGFyZW50IGluamVjdCBBTkQgdGhlIGluZGV4IG9mIHRoZSBpbmplY3RvciB3aXRoaW4gdGhhdCBMVmlldy5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAodE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcGFyZW50IGBUTm9kZWAgYW5kIHRoZXJlIGlzIGFuIGluamVjdG9yIGFzc29jaWF0ZWQgd2l0aCBpdCB3ZSBhcmUgZG9uZSwgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgcGFyZW50IGluamVjdG9yIGlzIHdpdGhpbiB0aGUgY3VycmVudCBgTFZpZXdgLlxuICAgICAgICByZXR1cm4gdE5vZGUucGFyZW50LmluamVjdG9ySW5kZXg7IC8vIFZpZXdPZmZzZXQgaXMgMFxuICAgIH1cbiAgICAvLyBXaGVuIHBhcmVudCBpbmplY3RvciBsb2NhdGlvbiBpcyBjb21wdXRlZCBpdCBtYXkgYmUgb3V0c2lkZSBvZiB0aGUgY3VycmVudCB2aWV3LiAoaWUgaXQgY291bGRcbiAgICAvLyBiZSBwb2ludGluZyB0byBhIGRlY2xhcmVkIHBhcmVudCBsb2NhdGlvbikuIFRoaXMgdmFyaWFibGUgc3RvcmVzIG51bWJlciBvZiBkZWNsYXJhdGlvbiBwYXJlbnRzXG4gICAgLy8gd2UgbmVlZCB0byB3YWxrIHVwIGluIG9yZGVyIHRvIGZpbmQgdGhlIHBhcmVudCBpbmplY3RvciBsb2NhdGlvbi5cbiAgICBsZXQgZGVjbGFyYXRpb25WaWV3T2Zmc2V0ID0gMDtcbiAgICBsZXQgcGFyZW50VE5vZGUgPSBudWxsO1xuICAgIGxldCBsVmlld0N1cnNvciA9IGxWaWV3O1xuICAgIC8vIFRoZSBwYXJlbnQgaW5qZWN0b3IgaXMgbm90IGluIHRoZSBjdXJyZW50IGBMVmlld2AuIFdlIHdpbGwgaGF2ZSB0byB3YWxrIHRoZSBkZWNsYXJlZCBwYXJlbnRcbiAgICAvLyBgTFZpZXdgIGhpZXJhcmNoeSBhbmQgbG9vayBmb3IgaXQuIElmIHdlIHdhbGsgb2YgdGhlIHRvcCwgdGhhdCBtZWFucyB0aGF0IHRoZXJlIGlzIG5vIHBhcmVudFxuICAgIC8vIGBOb2RlSW5qZWN0b3JgLlxuICAgIHdoaWxlIChsVmlld0N1cnNvciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBGaXJzdCBkZXRlcm1pbmUgdGhlIGBwYXJlbnRUTm9kZWAgbG9jYXRpb24uIFRoZSBwYXJlbnQgcG9pbnRlciBkaWZmZXJzIGJhc2VkIG9uIGBUVmlldy50eXBlYC5cbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld0N1cnNvcltUVklFV107XG4gICAgICAgIGNvbnN0IHRWaWV3VHlwZSA9IHRWaWV3LnR5cGU7XG4gICAgICAgIGlmICh0Vmlld1R5cGUgPT09IDIgLyogRW1iZWRkZWQgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydERlZmluZWQodFZpZXcuZGVjbFROb2RlLCAnRW1iZWRkZWQgVE5vZGVzIHNob3VsZCBoYXZlIGRlY2xhcmF0aW9uIHBhcmVudHMuJyk7XG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IHRWaWV3LmRlY2xUTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Vmlld1R5cGUgPT09IDEgLyogQ29tcG9uZW50ICovKSB7XG4gICAgICAgICAgICAvLyBDb21wb25lbnRzIGRvbid0IGhhdmUgYFRWaWV3LmRlY2xUTm9kZWAgYmVjYXVzZSBlYWNoIGluc3RhbmNlIG9mIGNvbXBvbmVudCBjb3VsZCBiZVxuICAgICAgICAgICAgLy8gaW5zZXJ0ZWQgaW4gZGlmZmVyZW50IGxvY2F0aW9uLCBoZW5jZSBgVFZpZXcuZGVjbFROb2RlYCBpcyBtZWFuaW5nbGVzcy5cbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gbFZpZXdDdXJzb3JbVF9IT1NUXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0Vmlldy50eXBlLCAwIC8qIFJvb3QgKi8sICdSb290IHR5cGUgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm8gcGFyZW50LCB0aGFuIHdlIGFyZSBkb25lLlxuICAgICAgICAgICAgcmV0dXJuIE5PX1BBUkVOVF9JTkpFQ1RPUjtcbiAgICAgICAgfVxuICAgICAgICBuZ0Rldk1vZGUgJiYgcGFyZW50VE5vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyhwYXJlbnRUTm9kZSwgbFZpZXdDdXJzb3JbREVDTEFSQVRJT05fVklFV10pO1xuICAgICAgICAvLyBFdmVyeSBpdGVyYXRpb24gb2YgdGhlIGxvb3AgcmVxdWlyZXMgdGhhdCB3ZSBnbyB0byB0aGUgZGVjbGFyZWQgcGFyZW50LlxuICAgICAgICBkZWNsYXJhdGlvblZpZXdPZmZzZXQrKztcbiAgICAgICAgbFZpZXdDdXJzb3IgPSBsVmlld0N1cnNvcltERUNMQVJBVElPTl9WSUVXXTtcbiAgICAgICAgaWYgKHBhcmVudFROb2RlLmluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIE5vZGVJbmplY3RvciB3aGljaCBwb2ludHMgdG8gc29tZXRoaW5nLlxuICAgICAgICAgICAgcmV0dXJuIChwYXJlbnRUTm9kZS5pbmplY3RvckluZGV4IHxcbiAgICAgICAgICAgICAgICAoZGVjbGFyYXRpb25WaWV3T2Zmc2V0IDw8IDE2IC8qIFZpZXdPZmZzZXRTaGlmdCAqLykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOT19QQVJFTlRfSU5KRUNUT1I7XG59XG4vKipcbiAqIE1ha2VzIGEgdHlwZSBvciBhbiBpbmplY3Rpb24gdG9rZW4gcHVibGljIHRvIHRoZSBESSBzeXN0ZW0gYnkgYWRkaW5nIGl0IHRvIGFuXG4gKiBpbmplY3RvcidzIGJsb29tIGZpbHRlci5cbiAqXG4gKiBAcGFyYW0gZGkgVGhlIG5vZGUgaW5qZWN0b3IgaW4gd2hpY2ggYSBkaXJlY3RpdmUgd2lsbCBiZSBhZGRlZFxuICogQHBhcmFtIHRva2VuIFRoZSB0eXBlIG9yIHRoZSBpbmplY3Rpb24gdG9rZW4gdG8gYmUgbWFkZSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZGlQdWJsaWNJbkluamVjdG9yKGluamVjdG9ySW5kZXgsIHRWaWV3LCB0b2tlbikge1xuICAgIGJsb29tQWRkKGluamVjdG9ySW5kZXgsIHRWaWV3LCB0b2tlbik7XG59XG4vKipcbiAqIEluamVjdCBzdGF0aWMgYXR0cmlidXRlIHZhbHVlIGludG8gZGlyZWN0aXZlIGNvbnN0cnVjdG9yLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgd2l0aCBgZmFjdG9yeWAgZnVuY3Rpb25zIHdoaWNoIGFyZSBnZW5lcmF0ZWQgYXMgcGFydCBvZlxuICogYGRlZmluZURpcmVjdGl2ZWAgb3IgYGRlZmluZUNvbXBvbmVudGAuIFRoZSBtZXRob2QgcmV0cmlldmVzIHRoZSBzdGF0aWMgdmFsdWVcbiAqIG9mIGFuIGF0dHJpYnV0ZS4gKER5bmFtaWMgYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZCBzaW5jZSB0aGV5IGFyZSBub3QgcmVzb2x2ZWRcbiAqICBhdCB0aGUgdGltZSBvZiBpbmplY3Rpb24gYW5kIGNhbiBjaGFuZ2Ugb3ZlciB0aW1lLilcbiAqXG4gKiAjIEV4YW1wbGVcbiAqIEdpdmVuOlxuICogYGBgXG4gKiBAQ29tcG9uZW50KC4uLilcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IoQEF0dHJpYnV0ZSgndGl0bGUnKSB0aXRsZTogc3RyaW5nKSB7IC4uLiB9XG4gKiB9XG4gKiBgYGBcbiAqIFdoZW4gaW5zdGFudGlhdGVkIHdpdGhcbiAqIGBgYFxuICogPG15LWNvbXBvbmVudCB0aXRsZT1cIkhlbGxvXCI+PC9teS1jb21wb25lbnQ+XG4gKiBgYGBcbiAqXG4gKiBUaGVuIGZhY3RvcnkgbWV0aG9kIGdlbmVyYXRlZCBpczpcbiAqIGBgYFxuICogTXlDb21wb25lbnQuybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICBmYWN0b3J5OiAoKSA9PiBuZXcgTXlDb21wb25lbnQoaW5qZWN0QXR0cmlidXRlKCd0aXRsZScpKVxuICogICAuLi5cbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGluamVjdEF0dHJpYnV0ZUltcGwodE5vZGUsIGF0dHJOYW1lVG9JbmplY3QpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAzIC8qIEFueVJOb2RlICovKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ2V4cGVjdGluZyB0Tm9kZScpO1xuICAgIGlmIChhdHRyTmFtZVRvSW5qZWN0ID09PSAnY2xhc3MnKSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5jbGFzc2VzO1xuICAgIH1cbiAgICBpZiAoYXR0ck5hbWVUb0luamVjdCA9PT0gJ3N0eWxlJykge1xuICAgICAgICByZXR1cm4gdE5vZGUuc3R5bGVzO1xuICAgIH1cbiAgICBjb25zdCBhdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIGlmIChhdHRycykge1xuICAgICAgICBjb25zdCBhdHRyc0xlbmd0aCA9IGF0dHJzLmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGF0dHJzTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGl0IGEgYEJpbmRpbmdzYCBvciBgVGVtcGxhdGVgIG1hcmtlciB0aGVuIHdlIGFyZSBkb25lLlxuICAgICAgICAgICAgaWYgKGlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIodmFsdWUpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gU2tpcCBuYW1lc3BhY2VkIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBza2lwIHRoZSBuZXh0IHR3byB2YWx1ZXNcbiAgICAgICAgICAgICAgICAvLyBhcyBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMgbG9va3MgbGlrZVxuICAgICAgICAgICAgICAgIC8vIFsuLi4sIEF0dHJpYnV0ZU1hcmtlci5OYW1lc3BhY2VVUkksICdodHRwOi8vc29tZXVyaS5jb20vdGVzdCcsICd0ZXN0OmV4aXN0JyxcbiAgICAgICAgICAgICAgICAvLyAnZXhpc3RWYWx1ZScsIC4uLl1cbiAgICAgICAgICAgICAgICBpID0gaSArIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0byB0aGUgZmlyc3QgdmFsdWUgb2YgdGhlIG1hcmtlZCBhdHRyaWJ1dGUuXG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgYXR0cnNMZW5ndGggJiYgdHlwZW9mIGF0dHJzW2ldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IGF0dHJOYW1lVG9JbmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gbm90Rm91bmRWYWx1ZU9yVGhyb3cobm90Rm91bmRWYWx1ZSwgdG9rZW4sIGZsYWdzKSB7XG4gICAgaWYgKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgJ05vZGVJbmplY3RvcicpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB0byB0aGUgZ2l2ZW4gdG9rZW4gZnJvbSB0aGUgTW9kdWxlSW5qZWN0b3Igb3IgdGhyb3dzIGV4Y2VwdGlvblxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB0aGF0IGNvbnRhaW5zIHRoZSBgdE5vZGVgXG4gKiBAcGFyYW0gdG9rZW4gVGhlIHRva2VuIHRvIGxvb2sgZm9yXG4gKiBAcGFyYW0gZmxhZ3MgSW5qZWN0aW9uIGZsYWdzXG4gKiBAcGFyYW0gbm90Rm91bmRWYWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIHdoZW4gdGhlIGluamVjdGlvbiBmbGFncyBpcyBgSW5qZWN0RmxhZ3MuT3B0aW9uYWxgXG4gKiBAcmV0dXJucyB0aGUgdmFsdWUgZnJvbSB0aGUgaW5qZWN0b3Igb3IgdGhyb3dzIGFuIGV4Y2VwdGlvblxuICovXG5mdW5jdGlvbiBsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IobFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSkge1xuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsICYmIG5vdEZvdW5kVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IG9yIHRoZSBOdWxsSW5qZWN0b3Igd2lsbCB0aHJvdyBmb3Igb3B0aW9uYWwgZGVwc1xuICAgICAgICBub3RGb3VuZFZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKChmbGFncyAmIChJbmplY3RGbGFncy5TZWxmIHwgSW5qZWN0RmxhZ3MuSG9zdCkpID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZUluamVjdG9yID0gbFZpZXdbSU5KRUNUT1IkMV07XG4gICAgICAgIC8vIHN3aXRjaCB0byBgaW5qZWN0SW5qZWN0b3JPbmx5YCBpbXBsZW1lbnRhdGlvbiBmb3IgbW9kdWxlIGluamVjdG9yLCBzaW5jZSBtb2R1bGUgaW5qZWN0b3JcbiAgICAgICAgLy8gc2hvdWxkIG5vdCBoYXZlIGFjY2VzcyB0byBDb21wb25lbnQvRGlyZWN0aXZlIERJIHNjb3BlICh0aGF0IG1heSBoYXBwZW4gdGhyb3VnaFxuICAgICAgICAvLyBgZGlyZWN0aXZlSW5qZWN0YCBpbXBsZW1lbnRhdGlvbilcbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IHNldEluamVjdEltcGxlbWVudGF0aW9uKHVuZGVmaW5lZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAobW9kdWxlSW5qZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SW5qZWN0SW1wbGVtZW50YXRpb24ocHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vdEZvdW5kVmFsdWVPclRocm93KG5vdEZvdW5kVmFsdWUsIHRva2VuLCBmbGFncyk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGFzc29jaWF0ZWQgdG8gdGhlIGdpdmVuIHRva2VuIGZyb20gdGhlIE5vZGVJbmplY3RvcnMgPT4gTW9kdWxlSW5qZWN0b3IuXG4gKlxuICogTG9vayBmb3IgdGhlIGluamVjdG9yIHByb3ZpZGluZyB0aGUgdG9rZW4gYnkgd2Fsa2luZyB1cCB0aGUgbm9kZSBpbmplY3RvciB0cmVlIGFuZCB0aGVuXG4gKiB0aGUgbW9kdWxlIGluamVjdG9yIHRyZWUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBwYXRjaGVzIGB0b2tlbmAgd2l0aCBgX19OR19FTEVNRU5UX0lEX19gIHdoaWNoIGNvbnRhaW5zIHRoZSBpZCBmb3IgdGhlIGJsb29tXG4gKiBmaWx0ZXIuIGAtMWAgaXMgcmVzZXJ2ZWQgZm9yIGluamVjdGluZyBgSW5qZWN0b3JgIChpbXBsZW1lbnRlZCBieSBgTm9kZUluamVjdG9yYClcbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIE5vZGUgd2hlcmUgdGhlIHNlYXJjaCBmb3IgdGhlIGluamVjdG9yIHNob3VsZCBzdGFydFxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHRoYXQgY29udGFpbnMgdGhlIGB0Tm9kZWBcbiAqIEBwYXJhbSB0b2tlbiBUaGUgdG9rZW4gdG8gbG9vayBmb3JcbiAqIEBwYXJhbSBmbGFncyBJbmplY3Rpb24gZmxhZ3NcbiAqIEBwYXJhbSBub3RGb3VuZFZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gd2hlbiB0aGUgaW5qZWN0aW9uIGZsYWdzIGlzIGBJbmplY3RGbGFncy5PcHRpb25hbGBcbiAqIEByZXR1cm5zIHRoZSB2YWx1ZSBmcm9tIHRoZSBpbmplY3RvciwgYG51bGxgIHdoZW4gbm90IGZvdW5kLCBvciBgbm90Rm91bmRWYWx1ZWAgaWYgcHJvdmlkZWRcbiAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHROb2RlLCBsVmlldywgdG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCwgbm90Rm91bmRWYWx1ZSkge1xuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBibG9vbUhhc2ggPSBibG9vbUhhc2hCaXRPckZhY3RvcnkodG9rZW4pO1xuICAgICAgICAvLyBJZiB0aGUgSUQgc3RvcmVkIGhlcmUgaXMgYSBmdW5jdGlvbiwgdGhpcyBpcyBhIHNwZWNpYWwgb2JqZWN0IGxpa2UgRWxlbWVudFJlZiBvciBUZW1wbGF0ZVJlZlxuICAgICAgICAvLyBzbyBqdXN0IGNhbGwgdGhlIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGl0LlxuICAgICAgICBpZiAodHlwZW9mIGJsb29tSGFzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKCFlbnRlckRJKGxWaWV3LCB0Tm9kZSwgZmxhZ3MpKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFpbGVkIHRvIGVudGVyIERJLCB0cnkgbW9kdWxlIGluamVjdG9yIGluc3RlYWQuIElmIGEgdG9rZW4gaXMgaW5qZWN0ZWQgd2l0aCB0aGUgQEhvc3RcbiAgICAgICAgICAgICAgICAvLyBmbGFnLCB0aGUgbW9kdWxlIGluamVjdG9yIGlzIG5vdCBzZWFyY2hlZCBmb3IgdGhhdCB0b2tlbiBpbiBJdnkuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChmbGFncyAmIEluamVjdEZsYWdzLkhvc3QpID9cbiAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRWYWx1ZU9yVGhyb3cobm90Rm91bmRWYWx1ZSwgdG9rZW4sIGZsYWdzKSA6XG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvcihsVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBibG9vbUhhc2goZmxhZ3MpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3IodG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGxlYXZlREkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYmxvb21IYXNoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzIGluamVjdG9yIFRWaWV3IHRoYXQgd2FzIGZvdW5kIHdoaWxlIGNsaW1iaW5nIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAvLyBpbmplY3RvciB0cmVlLiBUaGlzIGlzIHVzZWQgdG8ga25vdyBpZiB2aWV3UHJvdmlkZXJzIGNhbiBiZSBhY2Nlc3NlZCBvbiB0aGUgY3VycmVudFxuICAgICAgICAgICAgLy8gaW5qZWN0b3IuXG4gICAgICAgICAgICBsZXQgcHJldmlvdXNUVmlldyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaW5qZWN0b3JJbmRleCA9IGdldEluamVjdG9ySW5kZXgodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgIGxldCBwYXJlbnRMb2NhdGlvbiA9IE5PX1BBUkVOVF9JTkpFQ1RPUjtcbiAgICAgICAgICAgIGxldCBob3N0VEVsZW1lbnROb2RlID0gZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0ID8gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddW1RfSE9TVF0gOiBudWxsO1xuICAgICAgICAgICAgLy8gSWYgd2Ugc2hvdWxkIHNraXAgdGhpcyBpbmplY3Rvciwgb3IgaWYgdGhlcmUgaXMgbm8gaW5qZWN0b3Igb24gdGhpcyBub2RlLCBzdGFydCBieVxuICAgICAgICAgICAgLy8gc2VhcmNoaW5nIHRoZSBwYXJlbnQgaW5qZWN0b3IuXG4gICAgICAgICAgICBpZiAoaW5qZWN0b3JJbmRleCA9PT0gLTEgfHwgZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikge1xuICAgICAgICAgICAgICAgIHBhcmVudExvY2F0aW9uID0gaW5qZWN0b3JJbmRleCA9PT0gLTEgPyBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHROb2RlLCBsVmlldykgOlxuICAgICAgICAgICAgICAgICAgICBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiA9PT0gTk9fUEFSRU5UX0lOSkVDVE9SIHx8ICFzaG91bGRTZWFyY2hQYXJlbnQoZmxhZ3MsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhdmVyc2UgdXAgdGhlIGluamVjdG9yIHRyZWUgdW50aWwgd2UgZmluZCBhIHBvdGVudGlhbCBtYXRjaCBvciB1bnRpbCB3ZSBrbm93IHRoZXJlXG4gICAgICAgICAgICAvLyAqaXNuJ3QqIGEgbWF0Y2guXG4gICAgICAgICAgICB3aGlsZSAoaW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgY3VycmVudCBpbmplY3Rvci4gSWYgaXQgbWF0Y2hlcywgc2VlIGlmIGl0IGNvbnRhaW5zIHRva2VuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnRUTm9kZUZvckxWaWV3KHRWaWV3LmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgaWYgKGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCB0Vmlldy5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBoYXZlIGFuIGluamVjdG9yIHdoaWNoICptYXkqIGNvbnRhaW4gdGhlIHRva2VuLCBzbyB3ZSBzdGVwIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByb3ZpZGVycyBhbmQgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdG9yJ3MgY29ycmVzcG9uZGluZyBub2RlIHRvIGdldFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gc2VhcmNoVG9rZW5zT25JbmplY3RvcihpbmplY3RvckluZGV4LCBsVmlldywgdG9rZW4sIHByZXZpb3VzVFZpZXcsIGZsYWdzLCBob3N0VEVsZW1lbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBOT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnRMb2NhdGlvbiA9IGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL107XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uICE9PSBOT19QQVJFTlRfSU5KRUNUT1IgJiZcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2VhcmNoUGFyZW50KGZsYWdzLCBsVmlld1tUVklFV10uZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL10gPT09IGhvc3RURWxlbWVudE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCBsVmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGRlZiB3YXNuJ3QgZm91bmQgYW55d2hlcmUgb24gdGhpcyBub2RlLCBzbyBpdCB3YXMgYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhdmVyc2UgdXAgdGhlIHRyZWUgYW5kIGNvbnRpbnVlIHNlYXJjaGluZy5cbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUVmlldyA9IHRWaWV3O1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBzaG91bGQgbm90IHNlYXJjaCBwYXJlbnQgT1IgSWYgdGhlIGFuY2VzdG9yIGJsb29tIGZpbHRlciB2YWx1ZSBkb2VzIG5vdCBoYXZlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBiaXQgY29ycmVzcG9uZGluZyB0byB0aGUgZGlyZWN0aXZlIHdlIGNhbiBnaXZlIHVwIG9uIHRyYXZlcnNpbmcgdXAgdG8gZmluZCB0aGUgc3BlY2lmaWNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvcihsVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKTtcbn1cbmNvbnN0IE5PVF9GT1VORCA9IHt9O1xuZnVuY3Rpb24gY3JlYXRlTm9kZUluamVjdG9yKCkge1xuICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbmZ1bmN0aW9uIHNlYXJjaFRva2Vuc09uSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgbFZpZXcsIHRva2VuLCBwcmV2aW91c1RWaWV3LCBmbGFncywgaG9zdFRFbGVtZW50Tm9kZSkge1xuICAgIGNvbnN0IGN1cnJlbnRUVmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCB0Tm9kZSA9IGN1cnJlbnRUVmlldy5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXTtcbiAgICAvLyBGaXJzdCwgd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdmlldyBwcm92aWRlcnMgY2FuIGJlIGFjY2Vzc2VkIGJ5IHRoZSBzdGFydGluZyBlbGVtZW50LlxuICAgIC8vIFRoZXJlIGFyZSB0d28gcG9zc2liaWxpdGllc1xuICAgIGNvbnN0IGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgPSBwcmV2aW91c1RWaWV3ID09IG51bGwgP1xuICAgICAgICAvLyAxKSBUaGlzIGlzIHRoZSBmaXJzdCBpbnZvY2F0aW9uIGBwcmV2aW91c1RWaWV3ID09IG51bGxgIHdoaWNoIG1lYW5zIHRoYXQgd2UgYXJlIGF0IHRoZVxuICAgICAgICAvLyBgVE5vZGVgIG9mIHdoZXJlIGluamVjdG9yIGlzIHN0YXJ0aW5nIHRvIGxvb2suIEluIHN1Y2ggYSBjYXNlIHRoZSBvbmx5IHRpbWUgd2UgYXJlIGFsbG93ZWRcbiAgICAgICAgLy8gdG8gbG9vayBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzIGlzIGlmOlxuICAgICAgICAvLyAtIHdlIGFyZSBvbiBhIGNvbXBvbmVudFxuICAgICAgICAvLyAtIEFORCB0aGUgaW5qZWN0b3Igc2V0IGBpbmNsdWRlVmlld1Byb3ZpZGVyc2AgdG8gdHJ1ZSAoaW1wbHlpbmcgdGhhdCB0aGUgdG9rZW4gY2FuIHNlZVxuICAgICAgICAvLyBWaWV3UHJvdmlkZXJzIGJlY2F1c2UgaXQgaXMgdGhlIENvbXBvbmVudCBvciBhIFNlcnZpY2Ugd2hpY2ggaXRzZWxmIHdhcyBkZWNsYXJlZCBpblxuICAgICAgICAvLyBWaWV3UHJvdmlkZXJzKVxuICAgICAgICAoaXNDb21wb25lbnRIb3N0KHROb2RlKSAmJiBpbmNsdWRlVmlld1Byb3ZpZGVycykgOlxuICAgICAgICAvLyAyKSBgcHJldmlvdXNUVmlldyAhPSBudWxsYCB3aGljaCBtZWFucyB0aGF0IHdlIGFyZSBub3cgd2Fsa2luZyBhY3Jvc3MgdGhlIHBhcmVudCBub2Rlcy5cbiAgICAgICAgLy8gSW4gc3VjaCBhIGNhc2Ugd2UgYXJlIG9ubHkgYWxsb3dlZCB0byBsb29rIGludG8gdGhlIFZpZXdQcm92aWRlcnMgaWY6XG4gICAgICAgIC8vIC0gV2UganVzdCBjcm9zc2VkIGZyb20gY2hpbGQgVmlldyB0byBQYXJlbnQgVmlldyBgcHJldmlvdXNUVmlldyAhPSBjdXJyZW50VFZpZXdgXG4gICAgICAgIC8vIC0gQU5EIHRoZSBwYXJlbnQgVE5vZGUgaXMgYW4gRWxlbWVudC5cbiAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHdlIGp1c3QgY2FtZSBmcm9tIHRoZSBDb21wb25lbnQncyBWaWV3IGFuZCB0aGVyZWZvcmUgYXJlIGFsbG93ZWQgdG8gc2VlXG4gICAgICAgIC8vIGludG8gdGhlIFZpZXdQcm92aWRlcnMuXG4gICAgICAgIChwcmV2aW91c1RWaWV3ICE9IGN1cnJlbnRUVmlldyAmJiAoKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSAhPT0gMCkpO1xuICAgIC8vIFRoaXMgc3BlY2lhbCBjYXNlIGhhcHBlbnMgd2hlbiB0aGVyZSBpcyBhIEBob3N0IG9uIHRoZSBpbmplY3QgYW5kIHdoZW4gd2UgYXJlIHNlYXJjaGluZ1xuICAgIC8vIG9uIHRoZSBob3N0IGVsZW1lbnQgbm9kZS5cbiAgICBjb25zdCBpc0hvc3RTcGVjaWFsQ2FzZSA9IChmbGFncyAmIEluamVjdEZsYWdzLkhvc3QpICYmIGhvc3RURWxlbWVudE5vZGUgPT09IHROb2RlO1xuICAgIGNvbnN0IGluamVjdGFibGVJZHggPSBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCBjdXJyZW50VFZpZXcsIHRva2VuLCBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzLCBpc0hvc3RTcGVjaWFsQ2FzZSk7XG4gICAgaWYgKGluamVjdGFibGVJZHggIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCBjdXJyZW50VFZpZXcsIGluamVjdGFibGVJZHgsIHROb2RlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBOT1RfRk9VTkQ7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyBmb3IgdGhlIGdpdmVuIHRva2VuIGFtb25nIHRoZSBub2RlJ3MgZGlyZWN0aXZlcyBhbmQgcHJvdmlkZXJzLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUTm9kZSBvbiB3aGljaCBkaXJlY3RpdmVzIGFyZSBwcmVzZW50LlxuICogQHBhcmFtIHRWaWV3IFRoZSB0VmlldyB3ZSBhcmUgY3VycmVudGx5IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSB0b2tlbiBQcm92aWRlciB0b2tlbiBvciB0eXBlIG9mIGEgZGlyZWN0aXZlIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgV2hldGhlciB2aWV3IHByb3ZpZGVycyBzaG91bGQgYmUgY29uc2lkZXJlZC5cbiAqIEBwYXJhbSBpc0hvc3RTcGVjaWFsQ2FzZSBXaGV0aGVyIHRoZSBob3N0IHNwZWNpYWwgY2FzZSBhcHBsaWVzLlxuICogQHJldHVybnMgSW5kZXggb2YgYSBmb3VuZCBkaXJlY3RpdmUgb3IgcHJvdmlkZXIsIG9yIG51bGwgd2hlbiBub25lIGZvdW5kLlxuICovXG5mdW5jdGlvbiBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCB0VmlldywgdG9rZW4sIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMsIGlzSG9zdFNwZWNpYWxDYXNlKSB7XG4gICAgY29uc3Qgbm9kZVByb3ZpZGVySW5kZXhlcyA9IHROb2RlLnByb3ZpZGVySW5kZXhlcztcbiAgICBjb25zdCB0SW5qZWN0YWJsZXMgPSB0Vmlldy5kYXRhO1xuICAgIGNvbnN0IGluamVjdGFibGVzU3RhcnQgPSBub2RlUHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICBjb25zdCBkaXJlY3RpdmVzU3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBkaXJlY3RpdmVFbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgY29uc3QgY3B0Vmlld1Byb3ZpZGVyc0NvdW50ID0gbm9kZVByb3ZpZGVySW5kZXhlcyA+PiAyMCAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdCAqLztcbiAgICBjb25zdCBzdGFydGluZ0luZGV4ID0gY2FuQWNjZXNzVmlld1Byb3ZpZGVycyA/IGluamVjdGFibGVzU3RhcnQgOiBpbmplY3RhYmxlc1N0YXJ0ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50O1xuICAgIC8vIFdoZW4gdGhlIGhvc3Qgc3BlY2lhbCBjYXNlIGFwcGxpZXMsIG9ubHkgdGhlIHZpZXdQcm92aWRlcnMgYW5kIHRoZSBjb21wb25lbnQgYXJlIHZpc2libGVcbiAgICBjb25zdCBlbmRJbmRleCA9IGlzSG9zdFNwZWNpYWxDYXNlID8gaW5qZWN0YWJsZXNTdGFydCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCA6IGRpcmVjdGl2ZUVuZDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRpbmdJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJUb2tlbk9yRGVmID0gdEluamVjdGFibGVzW2ldO1xuICAgICAgICBpZiAoaSA8IGRpcmVjdGl2ZXNTdGFydCAmJiB0b2tlbiA9PT0gcHJvdmlkZXJUb2tlbk9yRGVmIHx8XG4gICAgICAgICAgICBpID49IGRpcmVjdGl2ZXNTdGFydCAmJiBwcm92aWRlclRva2VuT3JEZWYudHlwZSA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0hvc3RTcGVjaWFsQ2FzZSkge1xuICAgICAgICBjb25zdCBkaXJEZWYgPSB0SW5qZWN0YWJsZXNbZGlyZWN0aXZlc1N0YXJ0XTtcbiAgICAgICAgaWYgKGRpckRlZiAmJiBpc0NvbXBvbmVudERlZihkaXJEZWYpICYmIGRpckRlZi50eXBlID09PSB0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXNTdGFydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmUgb3IgaW5zdGFudGlhdGUgdGhlIGluamVjdGFibGUgZnJvbSB0aGUgYExWaWV3YCBhdCBwYXJ0aWN1bGFyIGBpbmRleGAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHRoZSB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGluc3RhbnRpYXRlZCBhbmQgaWYgc28gcmV0dXJucyB0aGVcbiAqIGNhY2hlZCBgaW5qZWN0YWJsZWAuIE90aGVyd2lzZSBpZiBpdCBkZXRlY3RzIHRoYXQgdGhlIHZhbHVlIGlzIHN0aWxsIGEgZmFjdG9yeSBpdFxuICogaW5zdGFudGlhdGVzIHRoZSBgaW5qZWN0YWJsZWAgYW5kIGNhY2hlcyB0aGUgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCB0VmlldywgaW5kZXgsIHROb2RlKSB7XG4gICAgbGV0IHZhbHVlID0gbFZpZXdbaW5kZXhdO1xuICAgIGNvbnN0IHREYXRhID0gdFZpZXcuZGF0YTtcbiAgICBpZiAoaXNGYWN0b3J5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdmFsdWU7XG4gICAgICAgIGlmIChmYWN0b3J5LnJlc29sdmluZykge1xuICAgICAgICAgICAgdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3Ioc3RyaW5naWZ5Rm9yRXJyb3IodERhdGFbaW5kZXhdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmNsdWRlVmlld1Byb3ZpZGVycyA9IHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKGZhY3RvcnkuY2FuU2VlVmlld1Byb3ZpZGVycyk7XG4gICAgICAgIGZhY3RvcnkucmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IGZhY3RvcnkuaW5qZWN0SW1wbCA/IHNldEluamVjdEltcGxlbWVudGF0aW9uKGZhY3RvcnkuaW5qZWN0SW1wbCkgOiBudWxsO1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gZW50ZXJESShsVmlldywgdE5vZGUsIEluamVjdEZsYWdzLkRlZmF1bHQpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKHN1Y2Nlc3MsIHRydWUsICdCZWNhdXNlIGZsYWdzIGRvIG5vdCBjb250YWluIFxcYFNraXBTZWxmXFwnIHdlIGV4cGVjdCB0aGlzIHRvIGFsd2F5cyBzdWNjZWVkLicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBsVmlld1tpbmRleF0gPSBmYWN0b3J5LmZhY3RvcnkodW5kZWZpbmVkLCB0RGF0YSwgbFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgIC8vIFRoaXMgY29kZSBwYXRoIGlzIGhpdCBmb3IgYm90aCBkaXJlY3RpdmVzIGFuZCBwcm92aWRlcnMuXG4gICAgICAgICAgICAvLyBGb3IgcGVyZiByZWFzb25zLCB3ZSB3YW50IHRvIGF2b2lkIHNlYXJjaGluZyBmb3IgaG9va3Mgb24gcHJvdmlkZXJzLlxuICAgICAgICAgICAgLy8gSXQgZG9lcyBubyBoYXJtIHRvIHRyeSAodGhlIGhvb2tzIGp1c3Qgd29uJ3QgZXhpc3QpLCBidXQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBjaGVja3MgYXJlIHVubmVjZXNzYXJ5IGFuZCB0aGlzIGlzIGEgaG90IHBhdGguIFNvIHdlIGNoZWNrIHRvIHNlZVxuICAgICAgICAgICAgLy8gaWYgdGhlIGluZGV4IG9mIHRoZSBkZXBlbmRlbmN5IGlzIGluIHRoZSBkaXJlY3RpdmUgcmFuZ2UgZm9yIHRoaXNcbiAgICAgICAgICAgIC8vIHROb2RlLiBJZiBpdCdzIG5vdCwgd2Uga25vdyBpdCdzIGEgcHJvdmlkZXIgYW5kIHNraXAgaG9vayByZWdpc3RyYXRpb24uXG4gICAgICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzICYmIGluZGV4ID49IHROb2RlLmRpcmVjdGl2ZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERpcmVjdGl2ZURlZih0RGF0YVtpbmRleF0pO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUHJlT3JkZXJIb29rcyhpbmRleCwgdERhdGFbaW5kZXhdLCB0Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgc2V0SW5qZWN0SW1wbGVtZW50YXRpb24ocHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzKTtcbiAgICAgICAgICAgIGZhY3RvcnkucmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBsZWF2ZURJKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiaXQgaW4gYW4gaW5qZWN0b3IncyBibG9vbSBmaWx0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3RcbiAqIHRoZSBkaXJlY3RpdmUgbWlnaHQgYmUgcHJvdmlkZWQgYnkgdGhlIGluamVjdG9yLlxuICpcbiAqIFdoZW4gYSBkaXJlY3RpdmUgaXMgcHVibGljLCBpdCBpcyBhZGRlZCB0byB0aGUgYmxvb20gZmlsdGVyIGFuZCBnaXZlbiBhIHVuaXF1ZSBJRCB0aGF0IGNhbiBiZVxuICogcmV0cmlldmVkIG9uIHRoZSBUeXBlLiBXaGVuIHRoZSBkaXJlY3RpdmUgaXNuJ3QgcHVibGljIG9yIHRoZSB0b2tlbiBpcyBub3QgYSBkaXJlY3RpdmUgYG51bGxgXG4gKiBpcyByZXR1cm5lZCBhcyB0aGUgbm9kZSBpbmplY3RvciBjYW4gbm90IHBvc3NpYmx5IHByb3ZpZGUgdGhhdCB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gdG9rZW4gdGhlIGluamVjdGlvbiB0b2tlblxuICogQHJldHVybnMgdGhlIG1hdGNoaW5nIGJpdCB0byBjaGVjayBpbiB0aGUgYmxvb20gZmlsdGVyIG9yIGBudWxsYCBpZiB0aGUgdG9rZW4gaXMgbm90IGtub3duLlxuICogICBXaGVuIHRoZSByZXR1cm5lZCB2YWx1ZSBpcyBuZWdhdGl2ZSB0aGVuIGl0IHJlcHJlc2VudHMgc3BlY2lhbCB2YWx1ZXMgc3VjaCBhcyBgSW5qZWN0b3JgLlxuICovXG5mdW5jdGlvbiBibG9vbUhhc2hCaXRPckZhY3RvcnkodG9rZW4pIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0b2tlbiwgJ3Rva2VuIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5jaGFyQ29kZUF0KDApIHx8IDA7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuSWQgPSBcbiAgICAvLyBGaXJzdCBjaGVjayB3aXRoIGBoYXNPd25Qcm9wZXJ0eWAgc28gd2UgZG9uJ3QgZ2V0IGFuIGluaGVyaXRlZCBJRC5cbiAgICB0b2tlbi5oYXNPd25Qcm9wZXJ0eShOR19FTEVNRU5UX0lEKSA/IHRva2VuW05HX0VMRU1FTlRfSURdIDogdW5kZWZpbmVkO1xuICAgIC8vIE5lZ2F0aXZlIHRva2VuIElEcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBvYmplY3RzIHN1Y2ggYXMgYEluamVjdG9yYFxuICAgIGlmICh0eXBlb2YgdG9rZW5JZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHRva2VuSWQgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuSWQgJiBCTE9PTV9NQVNLO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodG9rZW5JZCwgLTEgLyogSW5qZWN0b3IgKi8sICdFeHBlY3RpbmcgdG8gZ2V0IFNwZWNpYWwgSW5qZWN0b3IgSWQnKTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOb2RlSW5qZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0b2tlbklkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCBpbmplY3RvclZpZXcpIHtcbiAgICAvLyBDcmVhdGUgYSBtYXNrIHRoYXQgdGFyZ2V0cyB0aGUgc3BlY2lmaWMgYml0IGFzc29jaWF0ZWQgd2l0aCB0aGUgZGlyZWN0aXZlIHdlJ3JlIGxvb2tpbmcgZm9yLlxuICAgIC8vIEpTIGJpdCBvcGVyYXRpb25zIGFyZSAzMiBiaXRzLCBzbyB0aGlzIHdpbGwgYmUgYSBudW1iZXIgYmV0d2VlbiAyXjAgYW5kIDJeMzEsIGNvcnJlc3BvbmRpbmdcbiAgICAvLyB0byBiaXQgcG9zaXRpb25zIDAgLSAzMSBpbiBhIDMyIGJpdCBpbnRlZ2VyLlxuICAgIGNvbnN0IG1hc2sgPSAxIDw8IGJsb29tSGFzaDtcbiAgICAvLyBFYWNoIGJsb29tIGJ1Y2tldCBpbiBgaW5qZWN0b3JWaWV3YCByZXByZXNlbnRzIGBCTE9PTV9CVUNLRVRfQklUU2AgbnVtYmVyIG9mIGJpdHMgb2ZcbiAgICAvLyBgYmxvb21IYXNoYC4gQW55IGJpdHMgaW4gYGJsb29tSGFzaGAgYmV5b25kIGBCTE9PTV9CVUNLRVRfQklUU2AgaW5kaWNhdGUgdGhlIGJ1Y2tldCBvZmZzZXRcbiAgICAvLyB0aGF0IHNob3VsZCBiZSB1c2VkLlxuICAgIGNvbnN0IHZhbHVlID0gaW5qZWN0b3JWaWV3W2luamVjdG9ySW5kZXggKyAoYmxvb21IYXNoID4+IEJMT09NX0JVQ0tFVF9CSVRTKV07XG4gICAgLy8gSWYgdGhlIGJsb29tIGZpbHRlciB2YWx1ZSBoYXMgdGhlIGJpdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBkaXJlY3RpdmUncyBibG9vbUJpdCBmbGlwcGVkIG9uLFxuICAgIC8vIHRoaXMgaW5qZWN0b3IgaXMgYSBwb3RlbnRpYWwgbWF0Y2guXG4gICAgcmV0dXJuICEhKHZhbHVlICYgbWFzayk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIGZsYWdzIHByZXZlbnQgcGFyZW50IGluamVjdG9yIGZyb20gYmVpbmcgc2VhcmNoZWQgZm9yIHRva2VucyAqL1xuZnVuY3Rpb24gc2hvdWxkU2VhcmNoUGFyZW50KGZsYWdzLCBpc0ZpcnN0SG9zdFROb2RlKSB7XG4gICAgcmV0dXJuICEoZmxhZ3MgJiBJbmplY3RGbGFncy5TZWxmKSAmJiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCAmJiBpc0ZpcnN0SG9zdFROb2RlKTtcbn1cbmNsYXNzIE5vZGVJbmplY3RvciB7XG4gICAgY29uc3RydWN0b3IoX3ROb2RlLCBfbFZpZXcpIHtcbiAgICAgICAgdGhpcy5fdE5vZGUgPSBfdE5vZGU7XG4gICAgICAgIHRoaXMuX2xWaWV3ID0gX2xWaWV3O1xuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiBnZXRPckNyZWF0ZUluamVjdGFibGUodGhpcy5fdE5vZGUsIHRoaXMuX2xWaWV3LCB0b2tlbiwgZmxhZ3MsIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWdldEluaGVyaXRlZEZhY3RvcnkodHlwZSkge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3duQ29uc3RydWN0b3IgPSB0eXBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3Qgb3duRmFjdG9yeSA9IG93bkNvbnN0cnVjdG9yW05HX0ZBQ1RPUllfREVGXSB8fCBnZXRGYWN0b3J5T2Yob3duQ29uc3RydWN0b3IpO1xuICAgICAgICBjb25zdCBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuICAgICAgICBsZXQgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgLy8gR28gdXAgdGhlIHByb3RvdHlwZSB1bnRpbCB3ZSBoaXQgYE9iamVjdGAuXG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBwYXJlbnRbTkdfRkFDVE9SWV9ERUZdIHx8IGdldEZhY3RvcnlPZihwYXJlbnQpO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGl0IHNvbWV0aGluZyB0aGF0IGhhcyBhIGZhY3RvcnkgYW5kIHRoZSBmYWN0b3J5IGlzbid0IHRoZSBzYW1lIGFzIHRoZSB0eXBlLFxuICAgICAgICAgICAgLy8gd2UndmUgZm91bmQgdGhlIGluaGVyaXRlZCBmYWN0b3J5LiBOb3RlIHRoZSBjaGVjayB0aGF0IHRoZSBmYWN0b3J5IGlzbid0IHRoZSB0eXBlJ3NcbiAgICAgICAgICAgIC8vIG93biBmYWN0b3J5IGlzIHJlZHVuZGFudCBpbiBtb3N0IGNhc2VzLCBidXQgaWYgdGhlIHVzZXIgaGFzIGN1c3RvbSBkZWNvcmF0b3JzIG9uIHRoZVxuICAgICAgICAgICAgLy8gY2xhc3MsIHRoaXMgbG9va3VwIHdpbGwgc3RhcnQgb25lIGxldmVsIGRvd24gaW4gdGhlIHByb3RvdHlwZSBjaGFpbiwgY2F1c2luZyB1cyB0b1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgb3duIGZhY3RvcnkgZmlyc3QgYW5kIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgYW4gaW5maW5pdGUgbG9vcCBkb3duc3RyZWFtLlxuICAgICAgICAgICAgaWYgKGZhY3RvcnkgJiYgZmFjdG9yeSAhPT0gb3duRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gZmFjdG9yeSBkZWZpbmVkLiBFaXRoZXIgdGhpcyB3YXMgaW1wcm9wZXIgdXNhZ2Ugb2YgaW5oZXJpdGFuY2VcbiAgICAgICAgLy8gKG5vIEFuZ3VsYXIgZGVjb3JhdG9yIG9uIHRoZSBzdXBlcmNsYXNzKSBvciB0aGVyZSBpcyBubyBjb25zdHJ1Y3RvciBhdCBhbGxcbiAgICAgICAgLy8gaW4gdGhlIGluaGVyaXRhbmNlIGNoYWluLiBTaW5jZSB0aGUgdHdvIGNhc2VzIGNhbm5vdCBiZSBkaXN0aW5ndWlzaGVkLCB0aGVcbiAgICAgICAgLy8gbGF0dGVyIGhhcyB0byBiZSBhc3N1bWVkLlxuICAgICAgICByZXR1cm4gdCA9PiBuZXcgdCgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0RmFjdG9yeU9mKHR5cGUpIHtcbiAgICBpZiAoaXNGb3J3YXJkUmVmKHR5cGUpKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gZ2V0RmFjdG9yeU9mKHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5ICYmIGZhY3RvcnkoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEZhY3RvcnlEZWYodHlwZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGYWNhZGUgZm9yIHRoZSBhdHRyaWJ1dGUgaW5qZWN0aW9uIGZyb20gREkuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWluamVjdEF0dHJpYnV0ZShhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgcmV0dXJuIGluamVjdEF0dHJpYnV0ZUltcGwoZ2V0Q3VycmVudFROb2RlKCksIGF0dHJOYW1lVG9JbmplY3QpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IEFOTk9UQVRJT05TID0gJ19fYW5ub3RhdGlvbnNfXyc7XG5jb25zdCBQQVJBTUVURVJTID0gJ19fcGFyYW1ldGVyc19fJztcbmNvbnN0IFBST1BfTUVUQURBVEEgPSAnX19wcm9wX19tZXRhZGF0YV9fJztcbi8qKlxuICogQHN1cHByZXNzIHtnbG9iYWxUaGlzfVxuICovXG5mdW5jdGlvbiBtYWtlRGVjb3JhdG9yKG5hbWUsIHByb3BzLCBwYXJlbnRDbGFzcywgYWRkaXRpb25hbFByb2Nlc3NpbmcsIHR5cGVGbikge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWV0YUN0b3IgPSBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKTtcbiAgICAgICAgZnVuY3Rpb24gRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIERlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBtZXRhQ3Rvci5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbkluc3RhbmNlID0gbmV3IERlY29yYXRvckZhY3RvcnkoLi4uYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gVHlwZURlY29yYXRvcihjbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZUZuKVxuICAgICAgICAgICAgICAgICAgICB0eXBlRm4oY2xzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGlzIGltcG9ydGFudCBzaW5jZSBpdCBjcmVhdGVzIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIHByb3BlcnR5IGlzIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBjbHMuaGFzT3duUHJvcGVydHkoQU5OT1RBVElPTlMpID9cbiAgICAgICAgICAgICAgICAgICAgY2xzW0FOTk9UQVRJT05TXSA6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbHMsIEFOTk9UQVRJT05TLCB7IHZhbHVlOiBbXSB9KVtBTk5PVEFUSU9OU107XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUHJvY2Vzc2luZylcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb2Nlc3NpbmcoY2xzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICAgICAgRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gRGVjb3JhdG9yRmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIERlY29yYXRvckZhY3Rvcnk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGN0b3IoLi4uYXJncykge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHByb3BzKC4uLmFyZ3MpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IHZhbHVlc1twcm9wTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gbWFrZVBhcmFtRGVjb3JhdG9yKG5hbWUsIHByb3BzLCBwYXJlbnRDbGFzcykge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWV0YUN0b3IgPSBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKTtcbiAgICAgICAgZnVuY3Rpb24gUGFyYW1EZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUGFyYW1EZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgbWV0YUN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uSW5zdGFuY2UgPSBuZXcgUGFyYW1EZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgUGFyYW1EZWNvcmF0b3IuYW5ub3RhdGlvbiA9IGFubm90YXRpb25JbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiBQYXJhbURlY29yYXRvcjtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFBhcmFtRGVjb3JhdG9yKGNscywgdW51c2VkS2V5LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgaW1wb3J0YW50IHNpbmNlIGl0IGNyZWF0ZXMgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50cyB0aGUgcHJvcGVydHkgaXMgY29waWVkIGR1cmluZyBzdWJjbGFzc2luZy5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gY2xzLmhhc093blByb3BlcnR5KFBBUkFNRVRFUlMpID9cbiAgICAgICAgICAgICAgICAgICAgY2xzW1BBUkFNRVRFUlNdIDpcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNscywgUEFSQU1FVEVSUywgeyB2YWx1ZTogW10gfSlbUEFSQU1FVEVSU107XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgbWlnaHQgYmUgZ2FwcyBpZiBzb21lIGluIGJldHdlZW4gcGFyYW1ldGVycyBkbyBub3QgaGF2ZSBhbm5vdGF0aW9ucy5cbiAgICAgICAgICAgICAgICAvLyB3ZSBwYWQgd2l0aCBudWxscy5cbiAgICAgICAgICAgICAgICB3aGlsZSAocGFyYW1ldGVycy5sZW5ndGggPD0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAocGFyYW1ldGVyc1tpbmRleF0gPSBwYXJhbWV0ZXJzW2luZGV4XSB8fCBbXSkucHVzaChhbm5vdGF0aW9uSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFBhcmFtRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWUgPSBuYW1lO1xuICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IFBhcmFtRGVjb3JhdG9yRmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIFBhcmFtRGVjb3JhdG9yRmFjdG9yeTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1ha2VQcm9wRGVjb3JhdG9yKG5hbWUsIHByb3BzLCBwYXJlbnRDbGFzcywgYWRkaXRpb25hbFByb2Nlc3NpbmcpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgICAgIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUHJvcERlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBtZXRhQ3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlY29yYXRvckluc3RhbmNlID0gbmV3IFByb3BEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgZnVuY3Rpb24gUHJvcERlY29yYXRvcih0YXJnZXQsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGlzIGltcG9ydGFudCBiZWNhdXNlIGl0IGNyZWF0ZXMgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHByZXZlbnRzIHRoZSBwcm9wZXJ0eSBmcm9tIGJlaW5nIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFBST1BfTUVUQURBVEEpID9cbiAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3JbUFJPUF9NRVRBREFUQV0gOlxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsIFBST1BfTUVUQURBVEEsIHsgdmFsdWU6IHt9IH0pW1BST1BfTUVUQURBVEFdO1xuICAgICAgICAgICAgICAgIG1ldGFbbmFtZV0gPSBtZXRhLmhhc093blByb3BlcnR5KG5hbWUpICYmIG1ldGFbbmFtZV0gfHwgW107XG4gICAgICAgICAgICAgICAgbWV0YVtuYW1lXS51bnNoaWZ0KGRlY29yYXRvckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbFByb2Nlc3NpbmcpXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9jZXNzaW5nKHRhcmdldCwgbmFtZSwgLi4uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvcERlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIFByb3BEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWUgPSBuYW1lO1xuICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gUHJvcERlY29yYXRvckZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBQcm9wRGVjb3JhdG9yRmFjdG9yeTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEF0dHJpYnV0ZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEF0dHJpYnV0ZSA9IG1ha2VQYXJhbURlY29yYXRvcignQXR0cmlidXRlJywgKGF0dHJpYnV0ZU5hbWUpID0+ICh7IGF0dHJpYnV0ZU5hbWUsIF9fTkdfRUxFTUVOVF9JRF9fOiAoKSA9PiDJtcm1aW5qZWN0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpIH0pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIGluIGEgREkgUHJvdmlkZXIuXG4gKlxuICogVXNlIGFuIGBJbmplY3Rpb25Ub2tlbmAgd2hlbmV2ZXIgdGhlIHR5cGUgeW91IGFyZSBpbmplY3RpbmcgaXMgbm90IHJlaWZpZWQgKGRvZXMgbm90IGhhdmUgYVxuICogcnVudGltZSByZXByZXNlbnRhdGlvbikgc3VjaCBhcyB3aGVuIGluamVjdGluZyBhbiBpbnRlcmZhY2UsIGNhbGxhYmxlIHR5cGUsIGFycmF5IG9yXG4gKiBwYXJhbWV0ZXJpemVkIHR5cGUuXG4gKlxuICogYEluamVjdGlvblRva2VuYCBpcyBwYXJhbWV0ZXJpemVkIG9uIGBUYCB3aGljaCBpcyB0aGUgdHlwZSBvZiBvYmplY3Qgd2hpY2ggd2lsbCBiZSByZXR1cm5lZCBieVxuICogdGhlIGBJbmplY3RvcmAuIFRoaXMgcHJvdmlkZXMgYW4gYWRkaXRpb25hbCBsZXZlbCBvZiB0eXBlIHNhZmV0eS5cbiAqXG4gKiBgYGBcbiAqIGludGVyZmFjZSBNeUludGVyZmFjZSB7Li4ufVxuICogY29uc3QgbXlJbnRlcmZhY2UgPSBpbmplY3Rvci5nZXQobmV3IEluamVjdGlvblRva2VuPE15SW50ZXJmYWNlPignU29tZVRva2VuJykpO1xuICogLy8gbXlJbnRlcmZhY2UgaXMgaW5mZXJyZWQgdG8gYmUgTXlJbnRlcmZhY2UuXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGNyZWF0aW5nIGFuIGBJbmplY3Rpb25Ub2tlbmAsIHlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCByZXR1cm5zXG4gKiAocG9zc2libHkgYnkgY3JlYXRpbmcpIGEgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyaXplZCB0eXBlIGBUYC4gVGhpcyBzZXRzIHVwIHRoZVxuICogYEluamVjdGlvblRva2VuYCB1c2luZyB0aGlzIGZhY3RvcnkgYXMgYSBwcm92aWRlciBhcyBpZiBpdCB3YXMgZGVmaW5lZCBleHBsaWNpdGx5IGluIHRoZVxuICogYXBwbGljYXRpb24ncyByb290IGluamVjdG9yLiBJZiB0aGUgZmFjdG9yeSBmdW5jdGlvbiwgd2hpY2ggdGFrZXMgemVybyBhcmd1bWVudHMsIG5lZWRzIHRvIGluamVjdFxuICogZGVwZW5kZW5jaWVzLCBpdCBjYW4gZG8gc28gdXNpbmcgdGhlIGBpbmplY3RgIGZ1bmN0aW9uLlxuICogQXMgeW91IGNhbiBzZWUgaW4gdGhlIFRyZWUtc2hha2FibGUgSW5qZWN0aW9uVG9rZW4gZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIGlmIGEgYGZhY3RvcnlgIGlzIHNwZWNpZmllZCB5b3UgY2FuIGFsc28gc3BlY2lmeSB0aGUgYHByb3ZpZGVkSW5gIG9wdGlvbiwgd2hpY2hcbiAqIG92ZXJyaWRlcyB0aGUgYWJvdmUgYmVoYXZpb3IgYW5kIG1hcmtzIHRoZSB0b2tlbiBhcyBiZWxvbmdpbmcgdG8gYSBwYXJ0aWN1bGFyIGBATmdNb2R1bGVgLiBBc1xuICogbWVudGlvbmVkIGFib3ZlLCBgJ3Jvb3QnYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgYHByb3ZpZGVkSW5gLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgQmFzaWMgRXhhbXBsZXNcbiAqXG4gKiAjIyMgUGxhaW4gSW5qZWN0aW9uVG9rZW5cbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqICMjIyBUcmVlLXNoYWthYmxlIEluamVjdGlvblRva2VuXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J1NoYWthYmxlSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEluamVjdGlvblRva2VuIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gX2Rlc2MgICBEZXNjcmlwdGlvbiBmb3IgdGhlIHRva2VuLFxuICAgICAqICAgICAgICAgICAgICAgIHVzZWQgb25seSBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLFxuICAgICAqICAgICAgICAgICAgICAgIGl0IHNob3VsZCBidXQgZG9lcyBub3QgbmVlZCB0byBiZSB1bmlxdWVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgdG9rZW4ncyB1c2FnZSwgYXMgZGVzY3JpYmVkIGFib3ZlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX2Rlc2MsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fZGVzYyA9IF9kZXNjO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMubmdNZXRhZGF0YU5hbWUgPSAnSW5qZWN0aW9uVG9rZW4nO1xuICAgICAgICB0aGlzLsm1cHJvdiA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydExlc3NUaGFuKG9wdGlvbnMsIDAsICdPbmx5IG5lZ2F0aXZlIG51bWJlcnMgYXJlIHN1cHBvcnRlZCBoZXJlJyk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgc3BlY2lhbCBoYWNrIHRvIGFzc2lnbiBfX05HX0VMRU1FTlRfSURfXyB0byB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgICAgLy8gU2VlIGBJbmplY3Rvck1hcmtlcnNgXG4gICAgICAgICAgICB0aGlzLl9fTkdfRUxFTUVOVF9JRF9fID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoe1xuICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46IG9wdGlvbnMucHJvdmlkZWRJbiB8fCAncm9vdCcsXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogb3B0aW9ucy5mYWN0b3J5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgSW5qZWN0aW9uVG9rZW4gJHt0aGlzLl9kZXNjfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBESSB0b2tlbiB0aGF0IHlvdSBjYW4gdXNlIHRvIGNyZWF0ZSBhIHZpcnR1YWwgW3Byb3ZpZGVyXShndWlkZS9nbG9zc2FyeSNwcm92aWRlcilcbiAqIHRoYXQgd2lsbCBwb3B1bGF0ZSB0aGUgYGVudHJ5Q29tcG9uZW50c2AgZmllbGQgb2YgY29tcG9uZW50cyBhbmQgTmdNb2R1bGVzXG4gKiBiYXNlZCBvbiBpdHMgYHVzZVZhbHVlYCBwcm9wZXJ0eSB2YWx1ZS5cbiAqIEFsbCBjb21wb25lbnRzIHRoYXQgYXJlIHJlZmVyZW5jZWQgaW4gdGhlIGB1c2VWYWx1ZWAgdmFsdWUgKGVpdGhlciBkaXJlY3RseVxuICogb3IgaW4gYSBuZXN0ZWQgYXJyYXkgb3IgbWFwKSBhcmUgYWRkZWQgdG8gdGhlIGBlbnRyeUNvbXBvbmVudHNgIHByb3BlcnR5LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0aGUgcm91dGVyIGNhbiBwb3B1bGF0ZSB0aGUgYGVudHJ5Q29tcG9uZW50c2BcbiAqIGZpZWxkIG9mIGFuIE5nTW9kdWxlIGJhc2VkIG9uIGEgcm91dGVyIGNvbmZpZ3VyYXRpb24gdGhhdCByZWZlcnNcbiAqIHRvIGNvbXBvbmVudHMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gaGVscGVyIGZ1bmN0aW9uIGluc2lkZSB0aGUgcm91dGVyXG4gKiBmdW5jdGlvbiBwcm92aWRlUm91dGVzKHJvdXRlcykge1xuICogICByZXR1cm4gW1xuICogICAgIHtwcm92aWRlOiBST1VURVMsIHVzZVZhbHVlOiByb3V0ZXN9LFxuICogICAgIHtwcm92aWRlOiBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTLCB1c2VWYWx1ZTogcm91dGVzLCBtdWx0aTogdHJ1ZX1cbiAqICAgXTtcbiAqIH1cbiAqXG4gKiAvLyB1c2VyIGNvZGVcbiAqIGxldCByb3V0ZXMgPSBbXG4gKiAgIHtwYXRoOiAnL3Jvb3QnLCBjb21wb25lbnQ6IFJvb3RDb21wfSxcbiAqICAge3BhdGg6ICcvdGVhbXMnLCBjb21wb25lbnQ6IFRlYW1zQ29tcH1cbiAqIF07XG4gKlxuICogQE5nTW9kdWxlKHtcbiAqICAgcHJvdmlkZXJzOiBbcHJvdmlkZVJvdXRlcyhyb3V0ZXMpXVxuICogfSlcbiAqIGNsYXNzIE1vZHVsZVdpdGhSb3V0ZXMge31cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBkZXByZWNhdGVkIFNpbmNlIDkuMC4wLiBXaXRoIEl2eSwgdGhpcyBwcm9wZXJ0eSBpcyBubyBsb25nZXIgbmVjZXNzYXJ5LlxuICovXG5jb25zdCBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTID0gbmV3IEluamVjdGlvblRva2VuKCdBbmFseXplRm9yRW50cnlDb21wb25lbnRzJyk7XG4vLyBTdG9yZXMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYGVtaXREaXN0aW5jdENoYW5nZXNPbmx5YCB3aGVuIHRoZSBgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlgIGlzIG5vdFxuLy8gZXhwbGljaXRseSBzZXQuXG5jb25zdCBlbWl0RGlzdGluY3RDaGFuZ2VzT25seURlZmF1bHRWYWx1ZSA9IHRydWU7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHF1ZXJ5IG1ldGFkYXRhLlxuICpcbiAqIEBzZWUgYENvbnRlbnRDaGlsZHJlbmAuXG4gKiBAc2VlIGBDb250ZW50Q2hpbGRgLlxuICogQHNlZSBgVmlld0NoaWxkcmVuYC5cbiAqIEBzZWUgYFZpZXdDaGlsZGAuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBRdWVyeSB7XG59XG4vKipcbiAqIENvbnRlbnRDaGlsZHJlbiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDb250ZW50Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkcmVuJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiBmYWxzZSwgaXNWaWV3UXVlcnk6IGZhbHNlLCBkZXNjZW5kYW50czogZmFsc2UsIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seURlZmF1bHRWYWx1ZSB9LCBkYXRhKSksIFF1ZXJ5KTtcbi8qKlxuICogQ29udGVudENoaWxkIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDb250ZW50Q2hpbGQgPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiB0cnVlLCBpc1ZpZXdRdWVyeTogZmFsc2UsIGRlc2NlbmRhbnRzOiB0cnVlIH0sIGRhdGEpKSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWaWV3Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignVmlld0NoaWxkcmVuJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiBmYWxzZSwgaXNWaWV3UXVlcnk6IHRydWUsIGRlc2NlbmRhbnRzOiB0cnVlLCBlbWl0RGlzdGluY3RDaGFuZ2VzT25seTogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlEZWZhdWx0VmFsdWUgfSwgZGF0YSkpLCBRdWVyeSk7XG4vKipcbiAqIFZpZXdDaGlsZCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFZpZXdDaGlsZCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdWaWV3Q2hpbGQnLCAoc2VsZWN0b3IsIGRhdGEpID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiB0cnVlLCBpc1ZpZXdRdWVyeTogdHJ1ZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpLCBRdWVyeSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEZhY3RvcnlUYXJnZXQ7XG4oZnVuY3Rpb24gKEZhY3RvcnlUYXJnZXQpIHtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJEaXJlY3RpdmVcIl0gPSAwXSA9IFwiRGlyZWN0aXZlXCI7XG4gICAgRmFjdG9yeVRhcmdldFtGYWN0b3J5VGFyZ2V0W1wiQ29tcG9uZW50XCJdID0gMV0gPSBcIkNvbXBvbmVudFwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIkluamVjdGFibGVcIl0gPSAyXSA9IFwiSW5qZWN0YWJsZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIlBpcGVcIl0gPSAzXSA9IFwiUGlwZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIk5nTW9kdWxlXCJdID0gNF0gPSBcIk5nTW9kdWxlXCI7XG59KShGYWN0b3J5VGFyZ2V0IHx8IChGYWN0b3J5VGFyZ2V0ID0ge30pKTtcbnZhciBWaWV3RW5jYXBzdWxhdGlvbjtcbihmdW5jdGlvbiAoVmlld0VuY2Fwc3VsYXRpb24pIHtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIkVtdWxhdGVkXCJdID0gMF0gPSBcIkVtdWxhdGVkXCI7XG4gICAgLy8gSGlzdG9yaWNhbGx5IHRoZSAxIHZhbHVlIHdhcyBmb3IgYE5hdGl2ZWAgZW5jYXBzdWxhdGlvbiB3aGljaCBoYXMgYmVlbiByZW1vdmVkIGFzIG9mIHYxMS5cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIk5vbmVcIl0gPSAyXSA9IFwiTm9uZVwiO1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiU2hhZG93RG9tXCJdID0gM10gPSBcIlNoYWRvd0RvbVwiO1xufSkoVmlld0VuY2Fwc3VsYXRpb24gfHwgKFZpZXdFbmNhcHN1bGF0aW9uID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRDb21waWxlckZhY2FkZShyZXF1ZXN0KSB7XG4gICAgY29uc3QgZ2xvYmFsTmcgPSBfZ2xvYmFsWyduZyddO1xuICAgIGlmIChnbG9iYWxOZyAmJiBnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIExvZyB0aGUgdHlwZSBhcyBhbiBlcnJvciBzbyB0aGF0IGEgZGV2ZWxvcGVyIGNhbiBlYXNpbHkgbmF2aWdhdGUgdG8gdGhlIHR5cGUgZnJvbSB0aGVcbiAgICAgICAgLy8gY29uc29sZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihgSklUIGNvbXBpbGF0aW9uIGZhaWxlZCBmb3IgJHtyZXF1ZXN0LmtpbmR9YCwgcmVxdWVzdC50eXBlKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBgVGhlICR7cmVxdWVzdC5raW5kfSAnJHtyZXF1ZXN0XG4gICAgICAgICAgICAudHlwZS5uYW1lfScgbmVlZHMgdG8gYmUgY29tcGlsZWQgdXNpbmcgdGhlIEpJVCBjb21waWxlciwgYnV0ICdAYW5ndWxhci9jb21waWxlcicgaXMgbm90IGF2YWlsYWJsZS5cXG5cXG5gO1xuICAgICAgICBpZiAocmVxdWVzdC51c2FnZSA9PT0gMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFRoZSAke3JlcXVlc3Qua2luZH0gaXMgcGFydCBvZiBhIGxpYnJhcnkgdGhhdCBoYXMgYmVlbiBwYXJ0aWFsbHkgY29tcGlsZWQuXFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICBgSG93ZXZlciwgdGhlIEFuZ3VsYXIgTGlua2VyIGhhcyBub3QgcHJvY2Vzc2VkIHRoZSBsaWJyYXJ5IHN1Y2ggdGhhdCBKSVQgY29tcGlsYXRpb24gaXMgdXNlZCBhcyBmYWxsYmFjay5cXG5gO1xuICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuJztcbiAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICBgSWRlYWxseSwgdGhlIGxpYnJhcnkgaXMgcHJvY2Vzc2VkIHVzaW5nIHRoZSBBbmd1bGFyIExpbmtlciB0byBiZWNvbWUgZnVsbHkgQU9UIGNvbXBpbGVkLlxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYEpJVCBjb21waWxhdGlvbiBpcyBkaXNjb3VyYWdlZCBmb3IgcHJvZHVjdGlvbiB1c2UtY2FzZXMhIENvbnNpZGVyIHVzaW5nIEFPVCBtb2RlIGluc3RlYWQuXFxuYDtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICBgQWx0ZXJuYXRpdmVseSwgdGhlIEpJVCBjb21waWxlciBzaG91bGQgYmUgbG9hZGVkIGJ5IGJvb3RzdHJhcHBpbmcgdXNpbmcgJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYycgb3IgJ0Bhbmd1bGFyL3BsYXRmb3JtLXNlcnZlcicsXFxuYDtcbiAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgYG9yIG1hbnVhbGx5IHByb3ZpZGUgdGhlIGNvbXBpbGVyIHdpdGggJ2ltcG9ydCBcIkBhbmd1bGFyL2NvbXBpbGVyXCI7JyBiZWZvcmUgYm9vdHN0cmFwcGluZy5gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pJVCBjb21waWxlciB1bmF2YWlsYWJsZScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlcHJlc2VudHMgYSB0eXBlIHRoYXQgYSBDb21wb25lbnQgb3Igb3RoZXIgb2JqZWN0IGlzIGluc3RhbmNlcyBvZi5cbiAqXG4gKiBBbiBleGFtcGxlIG9mIGEgYFR5cGVgIGlzIGBNeUN1c3RvbUNvbXBvbmVudGAgY2xhc3MsIHdoaWNoIGluIEphdmFTY3JpcHQgaXMgcmVwcmVzZW50ZWQgYnlcbiAqIHRoZSBgTXlDdXN0b21Db21wb25lbnRgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVHlwZSA9IEZ1bmN0aW9uO1xuZnVuY3Rpb24gaXNUeXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEVTNiBzcHJlYWQsIGFkZCBlYWNoIGl0ZW0gdG8gYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIGl0ZW1zIFRoZSBpdGVtcyB0byBhZGRcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHdoaWNoIHlvdSB3YW50IHRvIGFkZCB0aGUgaXRlbXNcbiAqL1xuZnVuY3Rpb24gYWRkQWxsVG9BcnJheShpdGVtcywgYXJyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnIucHVzaChpdGVtc1tpXSk7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjb250ZW50cyBvZiB0d28gYXJyYXlzIGlzIGlkZW50aWNhbFxuICpcbiAqIEBwYXJhbSBhIGZpcnN0IGFycmF5XG4gKiBAcGFyYW0gYiBzZWNvbmQgYXJyYXlcbiAqIEBwYXJhbSBpZGVudGl0eUFjY2Vzc29yIE9wdGlvbmFsIGZ1bmN0aW9uIGZvciBleHRyYWN0aW5nIHN0YWJsZSBvYmplY3QgaWRlbnRpdHkgZnJvbSBhIHZhbHVlIGluXG4gKiAgICAgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUVxdWFscyhhLCBiLCBpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWVBID0gYVtpXTtcbiAgICAgICAgbGV0IHZhbHVlQiA9IGJbaV07XG4gICAgICAgIGlmIChpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgICAgICAgICB2YWx1ZUEgPSBpZGVudGl0eUFjY2Vzc29yKHZhbHVlQSk7XG4gICAgICAgICAgICB2YWx1ZUIgPSBpZGVudGl0eUFjY2Vzc29yKHZhbHVlQik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlQiAhPT0gdmFsdWVBKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEZsYXR0ZW5zIGFuIGFycmF5LlxuICovXG5mdW5jdGlvbiBmbGF0dGVuKGxpc3QsIGRzdCkge1xuICAgIGlmIChkc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgZHN0ID0gbGlzdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbmxpbmUgaXQuXG4gICAgICAgICAgICBpZiAoZHN0ID09PSBsaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gT3VyIGFzc3VtcHRpb24gdGhhdCB0aGUgbGlzdCB3YXMgYWxyZWFkeSBmbGF0IHdhcyB3cm9uZyBhbmRcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGNsb25lIGZsYXQgc2luY2Ugd2UgbmVlZCB0byB3cml0ZSB0byBpdC5cbiAgICAgICAgICAgICAgICBkc3QgPSBsaXN0LnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdHRlbihpdGVtLCBkc3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRzdCAhPT0gbGlzdCkge1xuICAgICAgICAgICAgZHN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbmZ1bmN0aW9uIGRlZXBGb3JFYWNoKGlucHV0LCBmbikge1xuICAgIGlucHV0LmZvckVhY2godmFsdWUgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBkZWVwRm9yRWFjaCh2YWx1ZSwgZm4pIDogZm4odmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGFkZFRvQXJyYXkoYXJyLCBpbmRleCwgdmFsdWUpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wdXNoIGlzIGZhc3RlciB0aGFuIGFycmF5LnNwbGljZSFcbiAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGFyciwgaW5kZXgpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wb3AgaXMgZmFzdGVyIHRoYW4gYXJyYXkuc3BsaWNlIVxuICAgIGlmIChpbmRleCA+PSBhcnIubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gYXJyLnBvcCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5ld0FycmF5KHNpemUsIHZhbHVlKSB7XG4gICAgY29uc3QgbGlzdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGxpc3QucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufVxuLyoqXG4gKiBSZW1vdmUgaXRlbSBmcm9tIGFycmF5IChTYW1lIGFzIGBBcnJheS5zcGxpY2UoKWAgYnV0IGZhc3Rlci4pXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgYXMgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBodHRwczovL2pzcGVyZi5jb20vZmFzdC1hcnJheS1zcGxpY2UgKEFib3V0IDIweCBmYXN0ZXIpXG4gKlxuICogQHBhcmFtIGFycmF5IEFycmF5IHRvIHNwbGljZVxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGVsZW1lbnQgaW4gYXJyYXkgdG8gcmVtb3ZlLlxuICogQHBhcmFtIGNvdW50IE51bWJlciBvZiBpdGVtcyB0byByZW1vdmUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U3BsaWNlKGFycmF5LCBpbmRleCwgY291bnQpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggLSBjb3VudDtcbiAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBjb3VudF07XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHdoaWxlIChjb3VudC0tKSB7XG4gICAgICAgIGFycmF5LnBvcCgpOyAvLyBzaHJpbmsgdGhlIGFycmF5XG4gICAgfVxufVxuLyoqXG4gKiBTYW1lIGFzIGBBcnJheS5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKWAgYnV0IGZhc3Rlci5cbiAqXG4gKiBgQXJyYXkuc3BsaWNlKClgIGlzIG5vdCBmYXN0IGJlY2F1c2UgaXQgaGFzIHRvIGFsbG9jYXRlIGFuIGFycmF5IGZvciB0aGUgZWxlbWVudHMgd2hpY2ggd2VyZVxuICogcmVtb3ZlZC4gVGhpcyBjYXVzZXMgbWVtb3J5IHByZXNzdXJlIGFuZCBzbG93cyBkb3duIGNvZGUgd2hlbiBtb3N0IG9mIHRoZSB0aW1lIHdlIGRvbid0XG4gKiBjYXJlIGFib3V0IHRoZSBkZWxldGVkIGl0ZW1zIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnJheSBBcnJheSB0byBzcGxpY2UuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggaW4gYXJyYXkgd2hlcmUgdGhlIGB2YWx1ZWAgc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGFkZCB0byBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlJbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoaW5kZXgsIGFycmF5Lmxlbmd0aCwgJ0NhblxcJ3QgaW5zZXJ0IHBhc3QgYXJyYXkgZW5kLicpO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGVuZCA+IGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRW5kID0gZW5kIC0gMTtcbiAgICAgICAgYXJyYXlbZW5kXSA9IGFycmF5W3ByZXZpb3VzRW5kXTtcbiAgICAgICAgZW5kID0gcHJldmlvdXNFbmQ7XG4gICAgfVxuICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xufVxuLyoqXG4gKiBTYW1lIGFzIGBBcnJheS5zcGxpY2UyKGluZGV4LCAwLCB2YWx1ZTEsIHZhbHVlMilgIGJ1dCBmYXN0ZXIuXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQXJyYXkgdG8gc3BsaWNlLlxuICogQHBhcmFtIGluZGV4IEluZGV4IGluIGFycmF5IHdoZXJlIHRoZSBgdmFsdWVgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB2YWx1ZTEgVmFsdWUgdG8gYWRkIHRvIGFycmF5LlxuICogQHBhcmFtIHZhbHVlMiBWYWx1ZSB0byBhZGQgdG8gYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0MihhcnJheSwgaW5kZXgsIHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuT3JFcXVhbChpbmRleCwgYXJyYXkubGVuZ3RoLCAnQ2FuXFwndCBpbnNlcnQgcGFzdCBhcnJheSBlbmQuJyk7XG4gICAgbGV0IGVuZCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoZW5kID09IGluZGV4KSB7XG4gICAgICAgIC8vIGluc2VydGluZyBhdCB0aGUgZW5kLlxuICAgICAgICBhcnJheS5wdXNoKHZhbHVlMSwgdmFsdWUyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5kID09PSAxKSB7XG4gICAgICAgIC8vIGNvcm5lciBjYXNlIHdoZW4gd2UgaGF2ZSBsZXNzIGl0ZW1zIGluIGFycmF5IHRoYW4gd2UgaGF2ZSBpdGVtcyB0byBpbnNlcnQuXG4gICAgICAgIGFycmF5LnB1c2godmFsdWUyLCBhcnJheVswXSk7XG4gICAgICAgIGFycmF5WzBdID0gdmFsdWUxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW5kLS07XG4gICAgICAgIGFycmF5LnB1c2goYXJyYXlbZW5kIC0gMV0sIGFycmF5W2VuZF0pO1xuICAgICAgICB3aGlsZSAoZW5kID4gaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRW5kID0gZW5kIC0gMjtcbiAgICAgICAgICAgIGFycmF5W2VuZF0gPSBhcnJheVtwcmV2aW91c0VuZF07XG4gICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTE7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMV0gPSB2YWx1ZTI7XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnQgYSBgdmFsdWVgIGludG8gYW4gYGFycmF5YCBzbyB0aGF0IHRoZSBhcnJheSByZW1haW5zIHNvcnRlZC5cbiAqXG4gKiBOT1RFOlxuICogLSBEdXBsaWNhdGVzIGFyZSBub3QgYWxsb3dlZCwgYW5kIGFyZSBpZ25vcmVkLlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgaW5zZXJ0cy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gaW5zZXJ0IGludG8uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc2VydC5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSBpbnNlcnRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlJbnNlcnRTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0gYXJyYXlJbmRleE9mU29ydGVkKGFycmF5LCB2YWx1ZSk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAvLyBpZiB3ZSBkaWQgbm90IGZpbmQgaXQgaW5zZXJ0IGl0LlxuICAgICAgICBpbmRleCA9IH5pbmRleDtcbiAgICAgICAgYXJyYXlJbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogUmVtb3ZlIGB2YWx1ZWAgZnJvbSBhIHNvcnRlZCBgYXJyYXlgLlxuICpcbiAqIE5PVEU6XG4gKiAtIFRoaXMgdXNlcyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBmb3IgZmFzdCByZW1vdmFscy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gcmVtb3ZlIGZyb20uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSByZW1vdmVkIHZhbHVlLlxuICogICAtIHBvc2l0aXZlIGluZGV4IGlmIHZhbHVlIGZvdW5kIGFuZCByZW1vdmVkLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIHZhbHVlIG5vdCBmb3VuZC4gKGB+aW5kZXhgIHRvIGdldCB0aGUgdmFsdWUgd2hlcmUgaXQgc2hvdWxkIGhhdmUgYmVlblxuICogICAgIGluc2VydGVkKVxuICovXG5mdW5jdGlvbiBhcnJheVJlbW92ZVNvcnRlZChhcnJheSwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGFycmF5U3BsaWNlKGFycmF5LCBpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogR2V0IGFuIGluZGV4IG9mIGFuIGB2YWx1ZWAgaW4gYSBzb3J0ZWQgYGFycmF5YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGJpbmFyeSBzZWFyY2guXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGxvb2sgZm9yLlxuICogQHJldHVybnMgaW5kZXggb2YgdGhlIHZhbHVlLlxuICogICAtIHBvc2l0aXZlIGluZGV4IGlmIHZhbHVlIGZvdW5kLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIHZhbHVlIG5vdCBmb3VuZC4gKGB+aW5kZXhgIHRvIGdldCB0aGUgdmFsdWUgd2hlcmUgaXQgc2hvdWxkIGhhdmUgYmVlblxuICogICAgIGxvY2F0ZWQpXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpIHtcbiAgICByZXR1cm4gX2FycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUsIDApO1xufVxuLyoqXG4gKiBTZXQgYSBgdmFsdWVgIGZvciBhIGBrZXlgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUgb3IgY3JlYXRlLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgZm9yIGEgYGtleWAuXG4gKiBAcmV0dXJucyBpbmRleCAoYWx3YXlzIGV2ZW4pIG9mIHdoZXJlIHRoZSB2YWx1ZSB2YXMgc2V0LlxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdmFsdWUpIHtcbiAgICBsZXQgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHNldCBpdC5cbiAgICAgICAga2V5VmFsdWVBcnJheVtpbmRleCB8IDFdID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleCA9IH5pbmRleDtcbiAgICAgICAgYXJyYXlJbnNlcnQyKGtleVZhbHVlQXJyYXksIGluZGV4LCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIGB2YWx1ZWAgZm9yIGEgYGtleWAgKG9uIGB1bmRlZmluZWRgIGlmIG5vdCBmb3VuZC4pXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgdG8gc2VhcmNoLlxuICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGxvY2F0ZS5cbiAqIEByZXR1cm4gVGhlIGB2YWx1ZWAgc3RvcmVkIGF0IHRoZSBga2V5YCBsb2NhdGlvbiBvciBgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheUdldChrZXlWYWx1ZUFycmF5LCBrZXkpIHtcbiAgICBjb25zdCBpbmRleCA9IGtleVZhbHVlQXJyYXlJbmRleE9mKGtleVZhbHVlQXJyYXksIGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgLy8gaWYgd2UgZm91bmQgaXQgcmV0cmlldmUgaXQuXG4gICAgICAgIHJldHVybiBrZXlWYWx1ZUFycmF5W2luZGV4IHwgMV07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgYGtleWAgaW5kZXggdmFsdWUgaW4gdGhlIGFycmF5IG9yIGAtMWAgaWYgbm90IGZvdW5kLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB3aGVyZSB0aGUga2V5IGlzIChvciBzaG91bGQgaGF2ZSBiZWVuLilcbiAqICAgLSBwb3NpdGl2ZSAoZXZlbikgaW5kZXggaWYga2V5IGZvdW5kLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIGtleSBub3QgZm91bmQuIChgfmluZGV4YCAoZXZlbikgdG8gZ2V0IHRoZSBpbmRleCB3aGVyZSBpdCBzaG91bGQgaGF2ZVxuICogICAgIGJlZW4gaW5zZXJ0ZWQuKVxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpIHtcbiAgICByZXR1cm4gX2FycmF5SW5kZXhPZlNvcnRlZChrZXlWYWx1ZUFycmF5LCBrZXksIDEpO1xufVxuLyoqXG4gKiBEZWxldGUgYSBga2V5YCAoYW5kIGB2YWx1ZWApIGZyb20gdGhlIGBLZXlWYWx1ZUFycmF5YC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlIG9yIGRlbGV0ZSAoaWYgZXhpc3QpLlxuICogQHJldHVybnMgaW5kZXggb2Ygd2hlcmUgdGhlIGtleSB3YXMgKG9yIHNob3VsZCBoYXZlIGJlZW4uKVxuICogICAtIHBvc2l0aXZlIChldmVuKSBpbmRleCBpZiBrZXkgZm91bmQgYW5kIGRlbGV0ZWQuXG4gKiAgIC0gbmVnYXRpdmUgaW5kZXggaWYga2V5IG5vdCBmb3VuZC4gKGB+aW5kZXhgIChldmVuKSB0byBnZXQgdGhlIGluZGV4IHdoZXJlIGl0IHNob3VsZCBoYXZlXG4gKiAgICAgYmVlbi4pXG4gKi9cbmZ1bmN0aW9uIGtleVZhbHVlQXJyYXlEZWxldGUoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgY29uc3QgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHJlbW92ZSBpdC5cbiAgICAgICAgYXJyYXlTcGxpY2Uoa2V5VmFsdWVBcnJheSwgaW5kZXgsIDIpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIElOVEVSTkFMOiBHZXQgYW4gaW5kZXggb2YgYW4gYHZhbHVlYCBpbiBhIHNvcnRlZCBgYXJyYXlgIGJ5IGdyb3VwaW5nIHNlYXJjaCBieSBgc2hpZnRgLlxuICpcbiAqIE5PVEU6XG4gKiAtIFRoaXMgdXNlcyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBmb3IgZmFzdCByZW1vdmFscy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gYmluYXJ5IHNlYXJjaC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0gc2hpZnQgZ3JvdXBpbmcgc2hpZnQuXG4gKiAgIC0gYDBgIG1lYW5zIGxvb2sgYXQgZXZlcnkgbG9jYXRpb25cbiAqICAgLSBgMWAgbWVhbnMgb25seSBsb29rIGF0IGV2ZXJ5IG90aGVyIChldmVuKSBsb2NhdGlvbiAodGhlIG9kZCBsb2NhdGlvbnMgYXJlIHRvIGJlIGlnbm9yZWQgYXNcbiAqICAgICAgICAgdGhleSBhcmUgdmFsdWVzLilcbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqIGluc2VydGVkKVxuICovXG5mdW5jdGlvbiBfYXJyYXlJbmRleE9mU29ydGVkKGFycmF5LCB2YWx1ZSwgc2hpZnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoQXJyYXkuaXNBcnJheShhcnJheSksIHRydWUsICdFeHBlY3RpbmcgYW4gYXJyYXknKTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGggPj4gc2hpZnQ7XG4gICAgd2hpbGUgKGVuZCAhPT0gc3RhcnQpIHtcbiAgICAgICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyAoKGVuZCAtIHN0YXJ0KSA+PiAxKTsgLy8gZmluZCB0aGUgbWlkZGxlLlxuICAgICAgICBjb25zdCBjdXJyZW50ID0gYXJyYXlbbWlkZGxlIDw8IHNoaWZ0XTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKG1pZGRsZSA8PCBzaGlmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudCA+IHZhbHVlKSB7XG4gICAgICAgICAgICBlbmQgPSBtaWRkbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydCA9IG1pZGRsZSArIDE7IC8vIFdlIGFscmVhZHkgc2VhcmNoZWQgbWlkZGxlIHNvIG1ha2UgaXQgbm9uLWluY2x1c2l2ZSBieSBhZGRpbmcgMVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB+KGVuZCA8PCBzaGlmdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLypcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAqIEF0dGVudGlvbjogVGhlc2UgUmVndWxhciBleHByZXNzaW9ucyBoYXZlIHRvIGhvbGQgZXZlbiBpZiB0aGUgY29kZSBpcyBtaW5pZmllZCFcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gKi9cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBwYXNzLXRocm91Z2ggY29uc3RydWN0b3JzIGZvciBFUzUgb3V0cHV0LiBUaGlzIFJlZ2V4XG4gKiBpbnRlbmRzIHRvIGNhcHR1cmUgdGhlIGNvbW1vbiBkZWxlZ2F0aW9uIHBhdHRlcm4gZW1pdHRlZCBieSBUeXBlU2NyaXB0IGFuZCBCYWJlbC4gQWxzb1xuICogaXQgaW50ZW5kcyB0byBjYXB0dXJlIHRoZSBwYXR0ZXJuIHdoZXJlIGV4aXN0aW5nIGNvbnN0cnVjdG9ycyBoYXZlIGJlZW4gZG93bmxldmVsZWQgZnJvbVxuICogRVMyMDE1IHRvIEVTNSB1c2luZyBUeXBlU2NyaXB0IHcvIGRvd25sZXZlbCBpdGVyYXRpb24uIGUuZy5cbiAqXG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICogYGBgXG4gKlxuICogZG93bmxldmVsZWQgdG8gRVM1IHdpdGggYGRvd25sZXZlbEl0ZXJhdGlvbmAgZm9yIFR5cGVTY3JpcHQgPCA0LjI6XG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWQoYXJndW1lbnRzKSkgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIG9yIGRvd25sZXZlbGVkIHRvIEVTNSB3aXRoIGBkb3dubGV2ZWxJdGVyYXRpb25gIGZvciBUeXBlU2NyaXB0ID49IDQuMjpcbiAqIGBgYFxuICogICBmdW5jdGlvbiBNeUNsYXNzKCkge1xuICogICAgIHZhciBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJndW1lbnRzKSwgZmFsc2UpKSB8fCB0aGlzO1xuICogYGBgXG4gKlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBpbjogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzg0NTMuXG4gKi9cbmNvbnN0IEVTNV9ERUxFR0FURV9DVE9SID0gL15mdW5jdGlvblxccytcXFMrXFwoXFwpXFxzKntbXFxzXFxTXStcXC5hcHBseVxcKHRoaXMsXFxzKihhcmd1bWVudHN8KD86W14oKV0rXFwoXFxbXFxdLCk/W14oKV0rXFwoYXJndW1lbnRzXFwpLiopXFwpLztcbi8qKiBSZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBkZXRlY3RzIEVTMjAxNSBjbGFzc2VzIHdoaWNoIGV4dGVuZCBmcm9tIG90aGVyIGNsYXNzZXMuICovXG5jb25zdCBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTID0gL15jbGFzc1xccytbQS1aYS16XFxkJF9dKlxccypleHRlbmRzXFxzK1tee10rey87XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgRVMyMDE1IGNsYXNzZXMgd2hpY2ggZXh0ZW5kIGZyb20gb3RoZXIgY2xhc3NlcyBhbmRcbiAqIGhhdmUgYW4gZXhwbGljaXQgY29uc3RydWN0b3IgZGVmaW5lZC5cbiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IgPSAvXmNsYXNzXFxzK1tBLVphLXpcXGQkX10qXFxzKmV4dGVuZHNcXHMrW157XSt7W1xcc1xcU10qY29uc3RydWN0b3JcXHMqXFwoLztcbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBFUzIwMTUgY2xhc3NlcyB3aGljaCBleHRlbmQgZnJvbSBvdGhlciBjbGFzc2VzXG4gKiBhbmQgaW5oZXJpdCBhIGNvbnN0cnVjdG9yLlxuICovXG5jb25zdCBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiA9IC9eY2xhc3NcXHMrW0EtWmEtelxcZCRfXSpcXHMqZXh0ZW5kc1xccytbXntdK3tbXFxzXFxTXSpjb25zdHJ1Y3RvclxccypcXChcXClcXHMqe1tefV0qc3VwZXJcXChcXC5cXC5cXC5hcmd1bWVudHNcXCkvO1xuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBhIHN0cmluZ2lmaWVkIHR5cGUgaXMgYSBjbGFzcyB3aGljaCBkZWxlZ2F0ZXMgaXRzIGNvbnN0cnVjdG9yXG4gKiB0byBpdHMgcGFyZW50LlxuICpcbiAqIFRoaXMgaXMgbm90IHRyaXZpYWwgc2luY2UgY29tcGlsZWQgY29kZSBjYW4gYWN0dWFsbHkgY29udGFpbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gKiBldmVuIGlmIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZSBkaWQgbm90LiBGb3IgaW5zdGFuY2UsIHdoZW4gdGhlIGNoaWxkIGNsYXNzIGNvbnRhaW5zXG4gKiBhbiBpbml0aWFsaXplZCBpbnN0YW5jZSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gaXNEZWxlZ2F0ZUN0b3IodHlwZVN0cikge1xuICAgIHJldHVybiBFUzVfREVMRUdBVEVfQ1RPUi50ZXN0KHR5cGVTdHIpIHx8XG4gICAgICAgIEVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9ERUxFR0FURV9DVE9SLnRlc3QodHlwZVN0cikgfHxcbiAgICAgICAgKEVTMjAxNV9JTkhFUklURURfQ0xBU1MudGVzdCh0eXBlU3RyKSAmJiAhRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IudGVzdCh0eXBlU3RyKSk7XG59XG5jbGFzcyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0KSB7XG4gICAgICAgIHRoaXMuX3JlZmxlY3QgPSByZWZsZWN0IHx8IF9nbG9iYWxbJ1JlZmxlY3QnXTtcbiAgICB9XG4gICAgaXNSZWZsZWN0aW9uRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZhY3RvcnkodCkge1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IG5ldyB0KC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXdBcnJheShwYXJhbUFubm90YXRpb25zLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXdBcnJheShwYXJhbVR5cGVzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRTIG91dHB1dHMgT2JqZWN0IGZvciBwYXJhbWV0ZXJzIHdpdGhvdXQgdHlwZXMsIHdoaWxlIFRyYWNldXIgb21pdHNcbiAgICAgICAgICAgIC8vIHRoZSBhbm5vdGF0aW9ucy4gRm9yIG5vdyB3ZSBwcmVzZXJ2ZSB0aGUgVHJhY2V1ciBiZWhhdmlvciB0byBhaWRcbiAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiwgYnV0IHRoaXMgY2FuIGJlIHJldmlzaXRlZC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1UeXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtVHlwZXNbaV0gJiYgcGFyYW1UeXBlc1tpXSAhPSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbcGFyYW1UeXBlc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJhbUFubm90YXRpb25zICYmIHBhcmFtQW5ub3RhdGlvbnNbaV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHJlc3VsdFtpXS5jb25jYXQocGFyYW1Bbm5vdGF0aW9uc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcikge1xuICAgICAgICBjb25zdCB0eXBlU3RyID0gdHlwZS50b1N0cmluZygpO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIGRlY29yYXRvcnMsIHdlIG9ubHkgaGF2ZSBmdW5jdGlvbi5sZW5ndGggYXMgbWV0YWRhdGEuXG4gICAgICAgIC8vIEluIHRoYXQgY2FzZSwgdG8gZGV0ZWN0IHdoZXRoZXIgYSBjaGlsZCBjbGFzcyBkZWNsYXJlZCBhbiBvd24gY29uc3RydWN0b3Igb3Igbm90LFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGxvb2sgaW5zaWRlIG9mIHRoYXQgY29uc3RydWN0b3IgdG8gY2hlY2sgd2hldGhlciBpdCBpc1xuICAgICAgICAvLyBqdXN0IGNhbGxpbmcgdGhlIHBhcmVudC5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGhlbHBzIHRvIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEyNDM5XG4gICAgICAgIC8vIHRoYXQgc2V0cyAnZGVzaWduOnBhcmFtdHlwZXMnIHRvIFtdXG4gICAgICAgIC8vIGlmIGEgY2xhc3MgaW5oZXJpdHMgZnJvbSBhbm90aGVyIGNsYXNzIGJ1dCBoYXMgbm8gY3RvciBkZWNsYXJlZCBpdHNlbGYuXG4gICAgICAgIGlmIChpc0RlbGVnYXRlQ3Rvcih0eXBlU3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJlZmVyIHRoZSBkaXJlY3QgQVBJLlxuICAgICAgICBpZiAodHlwZS5wYXJhbWV0ZXJzICYmIHR5cGUucGFyYW1ldGVycyAhPT0gcGFyZW50Q3Rvci5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5wYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBjb25zdCB0c2lja2xlQ3RvclBhcmFtcyA9IHR5cGUuY3RvclBhcmFtZXRlcnM7XG4gICAgICAgIGlmICh0c2lja2xlQ3RvclBhcmFtcyAmJiB0c2lja2xlQ3RvclBhcmFtcyAhPT0gcGFyZW50Q3Rvci5jdG9yUGFyYW1ldGVycykge1xuICAgICAgICAgICAgLy8gTmV3ZXIgdHNpY2tsZSB1c2VzIGEgZnVuY3Rpb24gY2xvc3VyZVxuICAgICAgICAgICAgLy8gUmV0YWluIHRoZSBub24tZnVuY3Rpb24gY2FzZSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHRzaWNrbGVcbiAgICAgICAgICAgIGNvbnN0IGN0b3JQYXJhbWV0ZXJzID0gdHlwZW9mIHRzaWNrbGVDdG9yUGFyYW1zID09PSAnZnVuY3Rpb24nID8gdHNpY2tsZUN0b3JQYXJhbXMoKSA6IHRzaWNrbGVDdG9yUGFyYW1zO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IGN0b3JQYXJhbWV0ZXJzLm1hcCgoY3RvclBhcmFtKSA9PiBjdG9yUGFyYW0gJiYgY3RvclBhcmFtLnR5cGUpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1Bbm5vdGF0aW9ucyA9IGN0b3JQYXJhbWV0ZXJzLm1hcCgoY3RvclBhcmFtKSA9PiBjdG9yUGFyYW0gJiYgY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEoY3RvclBhcmFtLmRlY29yYXRvcnMpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgY29uc3QgcGFyYW1Bbm5vdGF0aW9ucyA9IHR5cGUuaGFzT3duUHJvcGVydHkoUEFSQU1FVEVSUykgJiYgdHlwZVtQQVJBTUVURVJTXTtcbiAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IHRoaXMuX3JlZmxlY3QgJiYgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCB0eXBlKTtcbiAgICAgICAgaWYgKHBhcmFtVHlwZXMgfHwgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBjbGFzcyBoYXMgbm8gZGVjb3JhdG9ycywgYXQgbGVhc3QgY3JlYXRlIG1ldGFkYXRhXG4gICAgICAgIC8vIGJhc2VkIG9uIGZ1bmN0aW9uLmxlbmd0aC5cbiAgICAgICAgLy8gTm90ZTogV2Uga25vdyB0aGF0IHRoaXMgaXMgYSByZWFsIGNvbnN0cnVjdG9yIGFzIHdlIGNoZWNrZWRcbiAgICAgICAgLy8gdGhlIGNvbnRlbnQgb2YgdGhlIGNvbnN0cnVjdG9yIGFib3ZlLlxuICAgICAgICByZXR1cm4gbmV3QXJyYXkodHlwZS5sZW5ndGgpO1xuICAgIH1cbiAgICBwYXJhbWV0ZXJzKHR5cGUpIHtcbiAgICAgICAgLy8gTm90ZTogb25seSByZXBvcnQgbWV0YWRhdGEgaWYgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgY2xhc3MgZGVjb3JhdG9yXG4gICAgICAgIC8vIHRvIHN0YXkgaW4gc3luYyB3aXRoIHRoZSBzdGF0aWMgcmVmbGVjdG9yLlxuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGUpO1xuICAgICAgICBsZXQgcGFyYW1ldGVycyA9IHRoaXMuX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmICghcGFyYW1ldGVycyAmJiBwYXJlbnRDdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnMocGFyZW50Q3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnMgfHwgW107XG4gICAgfVxuICAgIF9vd25Bbm5vdGF0aW9ucyh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuYW5ub3RhdGlvbnMgJiYgdHlwZU9yRnVuYy5hbm5vdGF0aW9ucyAhPT0gcGFyZW50Q3Rvci5hbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgbGV0IGFubm90YXRpb25zID0gdHlwZU9yRnVuYy5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYW5ub3RhdGlvbnMgPT09ICdmdW5jdGlvbicgJiYgYW5ub3RhdGlvbnMuYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmFubm90YXRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFubm90YXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5kZWNvcmF0b3JzICYmIHR5cGVPckZ1bmMuZGVjb3JhdG9ycyAhPT0gcGFyZW50Q3Rvci5kZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEodHlwZU9yRnVuYy5kZWNvcmF0b3JzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmhhc093blByb3BlcnR5KEFOTk9UQVRJT05TKSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVPckZ1bmNbQU5OT1RBVElPTlNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhbm5vdGF0aW9ucyh0eXBlT3JGdW5jKSB7XG4gICAgICAgIGlmICghaXNUeXBlKHR5cGVPckZ1bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50Q3RvciA9IGdldFBhcmVudEN0b3IodHlwZU9yRnVuYyk7XG4gICAgICAgIGNvbnN0IG93bkFubm90YXRpb25zID0gdGhpcy5fb3duQW5ub3RhdGlvbnModHlwZU9yRnVuYywgcGFyZW50Q3RvcikgfHwgW107XG4gICAgICAgIGNvbnN0IHBhcmVudEFubm90YXRpb25zID0gcGFyZW50Q3RvciAhPT0gT2JqZWN0ID8gdGhpcy5hbm5vdGF0aW9ucyhwYXJlbnRDdG9yKSA6IFtdO1xuICAgICAgICByZXR1cm4gcGFyZW50QW5ub3RhdGlvbnMuY29uY2F0KG93bkFubm90YXRpb25zKTtcbiAgICB9XG4gICAgX293blByb3BNZXRhZGF0YSh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMucHJvcE1ldGFkYXRhICYmXG4gICAgICAgICAgICB0eXBlT3JGdW5jLnByb3BNZXRhZGF0YSAhPT0gcGFyZW50Q3Rvci5wcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGxldCBwcm9wTWV0YWRhdGEgPSB0eXBlT3JGdW5jLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcE1ldGFkYXRhID09PSAnZnVuY3Rpb24nICYmIHByb3BNZXRhZGF0YS5wcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBwcm9wTWV0YWRhdGEgPSBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnMgJiZcbiAgICAgICAgICAgIHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnMgIT09IHBhcmVudEN0b3IucHJvcERlY29yYXRvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BEZWNvcmF0b3JzID0gdHlwZU9yRnVuYy5wcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocHJvcERlY29yYXRvcnMpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BdID0gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEocHJvcERlY29yYXRvcnNbcHJvcF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuaGFzT3duUHJvcGVydHkoUFJPUF9NRVRBREFUQSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlT3JGdW5jW1BST1BfTUVUQURBVEFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBwcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGVPckZ1bmMpO1xuICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgaWYgKHBhcmVudEN0b3IgIT09IE9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UHJvcE1ldGFkYXRhID0gdGhpcy5wcm9wTWV0YWRhdGEocGFyZW50Q3Rvcik7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwYXJlbnRQcm9wTWV0YWRhdGEpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IHBhcmVudFByb3BNZXRhZGF0YVtwcm9wTmFtZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvd25Qcm9wTWV0YWRhdGEgPSB0aGlzLl9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmIChvd25Qcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG93blByb3BNZXRhZGF0YSkuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvcmF0b3JzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHByb3BNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdG9ycy5wdXNoKC4uLnByb3BNZXRhZGF0YVtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JzLnB1c2goLi4ub3duUHJvcE1ldGFkYXRhW3Byb3BOYW1lXSk7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IGRlY29yYXRvcnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgIH1cbiAgICBvd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKSkgfHwge307XG4gICAgfVxuICAgIGhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIFR5cGUgJiYgbGNQcm9wZXJ0eSBpbiB0eXBlLnByb3RvdHlwZTtcbiAgICB9XG4gICAgZ3VhcmRzKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ3JldHVybiBvLicgKyBuYW1lICsgJzsnKTtcbiAgICB9XG4gICAgc2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICd2JywgJ3JldHVybiBvLicgKyBuYW1lICsgJyA9IHY7Jyk7XG4gICAgfVxuICAgIG1ldGhvZChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQm9keSA9IGBpZiAoIW8uJHtuYW1lfSkgdGhyb3cgbmV3IEVycm9yKCdcIiR7bmFtZX1cIiBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIG8uJHtuYW1lfS5hcHBseShvLCBhcmdzKTtgO1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ2FyZ3MnLCBmdW5jdGlvbkJvZHkpO1xuICAgIH1cbiAgICAvLyBUaGVyZSBpcyBub3QgYSBjb25jZXB0IG9mIGltcG9ydCB1cmkgaW4gSnMsIGJ1dCB0aGlzIGlzIHVzZWZ1bCBpbiBkZXZlbG9waW5nIERhcnQgYXBwbGljYXRpb25zLlxuICAgIGltcG9ydFVyaSh0eXBlKSB7XG4gICAgICAgIC8vIFN0YXRpY1N5bWJvbFxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGVbJ2ZpbGVQYXRoJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlWydmaWxlUGF0aCddO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1bnRpbWUgdHlwZVxuICAgICAgICByZXR1cm4gYC4vJHtzdHJpbmdpZnkodHlwZSl9YDtcbiAgICB9XG4gICAgcmVzb3VyY2VVcmkodHlwZSkge1xuICAgICAgICByZXR1cm4gYC4vJHtzdHJpbmdpZnkodHlwZSl9YDtcbiAgICB9XG4gICAgcmVzb2x2ZUlkZW50aWZpZXIobmFtZSwgbW9kdWxlVXJsLCBtZW1iZXJzLCBydW50aW1lKSB7XG4gICAgICAgIHJldHVybiBydW50aW1lO1xuICAgIH1cbiAgICByZXNvbHZlRW51bShlbnVtSWRlbnRpZmllciwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZW51bUlkZW50aWZpZXJbbmFtZV07XG4gICAgfVxufVxuZnVuY3Rpb24gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEoZGVjb3JhdG9ySW52b2NhdGlvbnMpIHtcbiAgICBpZiAoIWRlY29yYXRvckludm9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29yYXRvckludm9jYXRpb25zLm1hcChkZWNvcmF0b3JJbnZvY2F0aW9uID0+IHtcbiAgICAgICAgY29uc3QgZGVjb3JhdG9yVHlwZSA9IGRlY29yYXRvckludm9jYXRpb24udHlwZTtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkNscyA9IGRlY29yYXRvclR5cGUuYW5ub3RhdGlvbkNscztcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkFyZ3MgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgPyBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgOiBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBhbm5vdGF0aW9uQ2xzKC4uLmFubm90YXRpb25BcmdzKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEN0b3IoY3Rvcikge1xuICAgIGNvbnN0IHBhcmVudFByb3RvID0gY3Rvci5wcm90b3R5cGUgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3Rvci5wcm90b3R5cGUpIDogbnVsbDtcbiAgICBjb25zdCBwYXJlbnRDdG9yID0gcGFyZW50UHJvdG8gPyBwYXJlbnRQcm90by5jb25zdHJ1Y3RvciA6IG51bGw7XG4gICAgLy8gTm90ZTogV2UgYWx3YXlzIHVzZSBgT2JqZWN0YCBhcyB0aGUgbnVsbCB2YWx1ZVxuICAgIC8vIHRvIHNpbXBsaWZ5IGNoZWNraW5nIGxhdGVyIG9uLlxuICAgIHJldHVybiBwYXJlbnRDdG9yIHx8IE9iamVjdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfVEhST1dfSUZfTk9UX0ZPVU5EID0ge307XG5jb25zdCBUSFJPV19JRl9OT1RfRk9VTkQgPSBfVEhST1dfSUZfTk9UX0ZPVU5EO1xuLypcbiAqIE5hbWUgb2YgYSBwcm9wZXJ0eSAodGhhdCB3ZSBwYXRjaCBvbnRvIERJIGRlY29yYXRvciksIHdoaWNoIGlzIHVzZWQgYXMgYW4gYW5ub3RhdGlvbiBvZiB3aGljaFxuICogSW5qZWN0RmxhZyB0aGlzIGRlY29yYXRvciByZXByZXNlbnRzLiBUaGlzIGFsbG93cyB0byBhdm9pZCBkaXJlY3QgcmVmZXJlbmNlcyB0byB0aGUgREkgZGVjb3JhdG9yc1xuICogaW4gdGhlIGNvZGUsIHRodXMgbWFraW5nIHRoZW0gdHJlZS1zaGFrYWJsZS5cbiAqL1xuY29uc3QgRElfREVDT1JBVE9SX0ZMQUcgPSAnX19OR19ESV9GTEFHX18nO1xuY29uc3QgTkdfVEVNUF9UT0tFTl9QQVRIID0gJ25nVGVtcFRva2VuUGF0aCc7XG5jb25zdCBOR19UT0tFTl9QQVRIID0gJ25nVG9rZW5QYXRoJztcbmNvbnN0IE5FV19MSU5FID0gL1xcbi9nbTtcbmNvbnN0IE5PX05FV19MSU5FID0gJ8m1JztcbmNvbnN0IFNPVVJDRSA9ICdfX3NvdXJjZSc7XG5jb25zdCBVU0VfVkFMVUUkMSA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBwcm92aWRlOiBTdHJpbmcsIHVzZVZhbHVlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLyoqXG4gKiBDdXJyZW50IGluamVjdG9yIHZhbHVlIHVzZWQgYnkgYGluamVjdGAuXG4gKiAtIGB1bmRlZmluZWRgOiBpdCBpcyBhbiBlcnJvciB0byBjYWxsIGBpbmplY3RgXG4gKiAtIGBudWxsYDogYGluamVjdGAgY2FuIGJlIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gaW5qZWN0b3IgKGxpbXAtbW9kZSkuXG4gKiAtIEluamVjdG9yIGluc3RhbmNlOiBVc2UgdGhlIGluamVjdG9yIGZvciByZXNvbHV0aW9uLlxuICovXG5sZXQgX2N1cnJlbnRJbmplY3RvciA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRJbmplY3RvcihpbmplY3Rvcikge1xuICAgIGNvbnN0IGZvcm1lciA9IF9jdXJyZW50SW5qZWN0b3I7XG4gICAgX2N1cnJlbnRJbmplY3RvciA9IGluamVjdG9yO1xuICAgIHJldHVybiBmb3JtZXI7XG59XG5mdW5jdGlvbiBpbmplY3RJbmplY3Rvck9ubHkodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIGlmIChfY3VycmVudEluamVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgYGluamVjdCgpIG11c3QgYmUgY2FsbGVkIGZyb20gYW4gaW5qZWN0aW9uIGNvbnRleHRgIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwMyAvKiBNSVNTSU5HX0lOSkVDVElPTl9DT05URVhUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChfY3VycmVudEluamVjdG9yID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50SW5qZWN0b3IuZ2V0KHRva2VuLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsID8gbnVsbCA6IHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIMm1ybVpbmplY3QodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIHJldHVybiAoZ2V0SW5qZWN0SW1wbGVtZW50YXRpb24oKSB8fCBpbmplY3RJbmplY3Rvck9ubHkpKHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW5kaWNhdGluZyB0aGF0IGEgZmFjdG9yeSBmdW5jdGlvbiBjb3VsZCBub3QgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBmb3IgYVxuICogcGFydGljdWxhciBjbGFzcy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFsbG93cyB0aGUgYWN0dWFsIGVycm9yIG1lc3NhZ2UgdG8gYmUgb3B0aW1pemVkIGF3YXkgd2hlbiBuZ0Rldk1vZGUgaXMgdHVybmVkXG4gKiBvZmYsIHNhdmluZyBieXRlcyBvZiBnZW5lcmF0ZWQgY29kZSB3aGlsZSBzdGlsbCBwcm92aWRpbmcgYSBnb29kIGV4cGVyaWVuY2UgaW4gZGV2IG1vZGUuXG4gKlxuICogVGhlIG5hbWUgb2YgdGhlIGNsYXNzIGlzIG5vdCBtZW50aW9uZWQgaGVyZSwgYnV0IHdpbGwgYmUgaW4gdGhlIGdlbmVyYXRlZCBmYWN0b3J5IGZ1bmN0aW9uIG5hbWVcbiAqIGFuZCB0aHVzIGluIHRoZSBzdGFjayB0cmFjZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aW52YWxpZEZhY3RvcnlEZXAoaW5kZXgpIHtcbiAgICBjb25zdCBtc2cgPSBuZ0Rldk1vZGUgP1xuICAgICAgICBgVGhpcyBjb25zdHJ1Y3RvciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIEFuZ3VsYXIgRGVwZW5kZW5jeSBJbmplY3Rpb24gYmVjYXVzZSBpdHMgZGVwZW5kZW5jeSBhdCBpbmRleCAke2luZGV4fSBvZiB0aGUgcGFyYW1ldGVyIGxpc3QgaXMgaW52YWxpZC5cblRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgZGVwZW5kZW5jeSB0eXBlIGlzIGEgcHJpbWl0aXZlIGxpa2UgYSBzdHJpbmcgb3IgaWYgYW4gYW5jZXN0b3Igb2YgdGhpcyBjbGFzcyBpcyBtaXNzaW5nIGFuIEFuZ3VsYXIgZGVjb3JhdG9yLlxuXG5QbGVhc2UgY2hlY2sgdGhhdCAxKSB0aGUgdHlwZSBmb3IgdGhlIHBhcmFtZXRlciBhdCBpbmRleCAke2luZGV4fSBpcyBjb3JyZWN0IGFuZCAyKSB0aGUgY29ycmVjdCBBbmd1bGFyIGRlY29yYXRvcnMgYXJlIGRlZmluZWQgZm9yIHRoaXMgY2xhc3MgYW5kIGl0cyBhbmNlc3RvcnMuYCA6XG4gICAgICAgICdpbnZhbGlkJztcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cbi8qKlxuICogSW5qZWN0cyBhIHRva2VuIGZyb20gdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5qZWN0b3IuXG4gKlxuICogTXVzdCBiZSB1c2VkIGluIHRoZSBjb250ZXh0IG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBzdWNoIGFzIG9uZSBkZWZpbmVkIGZvciBhblxuICogYEluamVjdGlvblRva2VuYC4gVGhyb3dzIGFuIGVycm9yIGlmIG5vdCBjYWxsZWQgZnJvbSBzdWNoIGEgY29udGV4dC5cbiAqXG4gKiBXaXRoaW4gc3VjaCBhIGZhY3RvcnkgZnVuY3Rpb24sIHVzaW5nIHRoaXMgZnVuY3Rpb24gdG8gcmVxdWVzdCBpbmplY3Rpb24gb2YgYSBkZXBlbmRlbmN5XG4gKiBpcyBmYXN0ZXIgYW5kIG1vcmUgdHlwZS1zYWZlIHRoYW4gcHJvdmlkaW5nIGFuIGFkZGl0aW9uYWwgYXJyYXkgb2YgZGVwZW5kZW5jaWVzXG4gKiAoYXMgaGFzIGJlZW4gY29tbW9uIHdpdGggYHVzZUZhY3RvcnlgIHByb3ZpZGVycykuXG4gKlxuICogQHBhcmFtIHRva2VuIFRoZSBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkLlxuICogQHBhcmFtIGZsYWdzIE9wdGlvbmFsIGZsYWdzIHRoYXQgY29udHJvbCBob3cgaW5qZWN0aW9uIGlzIGV4ZWN1dGVkLlxuICogVGhlIGZsYWdzIGNvcnJlc3BvbmQgdG8gaW5qZWN0aW9uIHN0cmF0ZWdpZXMgdGhhdCBjYW4gYmUgc3BlY2lmaWVkIHdpdGhcbiAqIHBhcmFtZXRlciBkZWNvcmF0b3JzIGBASG9zdGAsIGBAU2VsZmAsIGBAU2tpcFNlZmAsIGFuZCBgQE9wdGlvbmFsYC5cbiAqIEByZXR1cm5zIHRoZSBpbmplY3RlZCB2YWx1ZSBpZiBpbmplY3Rpb24gaXMgc3VjY2Vzc2Z1bCwgYG51bGxgIG90aGVyd2lzZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J1NoYWthYmxlSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgaW5qZWN0ID0gybXJtWluamVjdDtcbmZ1bmN0aW9uIGluamVjdEFyZ3ModHlwZXMpIHtcbiAgICBjb25zdCBhcmdzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhcmcgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlc1tpXSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICAgICAnQXJndW1lbnRzIGFycmF5IG11c3QgaGF2ZSBhcmd1bWVudHMuJyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0O1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcmcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gYXJnW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSBnZXRJbmplY3RGbGFnKG1ldGEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmxhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHdoZW4gd2UgaGFuZGxlIEBJbmplY3QgZGVjb3JhdG9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PT0gLTEgLyogSW5qZWN0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbWV0YS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzIHw9IGZsYWc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtZXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaCjJtcm1aW5qZWN0KHR5cGUsIGZsYWdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goybXJtWluamVjdChhcmcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJncztcbn1cbi8qKlxuICogQXR0YWNoZXMgYSBnaXZlbiBJbmplY3RGbGFnIHRvIGEgZ2l2ZW4gZGVjb3JhdG9yIHVzaW5nIG1vbmtleS1wYXRjaGluZy5cbiAqIFNpbmNlIERJIGRlY29yYXRvcnMgY2FuIGJlIHVzZWQgaW4gcHJvdmlkZXJzIGBkZXBzYCBhcnJheSAod2hlbiBwcm92aWRlciBpcyBjb25maWd1cmVkIHVzaW5nXG4gKiBgdXNlRmFjdG9yeWApIHdpdGhvdXQgaW5pdGlhbGl6YXRpb24gKGUuZy4gYEhvc3RgKSBhbmQgYXMgYW4gaW5zdGFuY2UgKGUuZy4gYG5ldyBIb3N0KClgKSwgd2VcbiAqIGF0dGFjaCB0aGUgZmxhZyB0byBtYWtlIGl0IGF2YWlsYWJsZSBib3RoIGFzIGEgc3RhdGljIHByb3BlcnR5IGFuZCBhcyBhIGZpZWxkIG9uIGRlY29yYXRvclxuICogaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGRlY29yYXRvciBQcm92aWRlZCBESSBkZWNvcmF0b3IuXG4gKiBAcGFyYW0gZmxhZyBJbmplY3RGbGFnIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEluamVjdEZsYWcoZGVjb3JhdG9yLCBmbGFnKSB7XG4gICAgZGVjb3JhdG9yW0RJX0RFQ09SQVRPUl9GTEFHXSA9IGZsYWc7XG4gICAgZGVjb3JhdG9yLnByb3RvdHlwZVtESV9ERUNPUkFUT1JfRkxBR10gPSBmbGFnO1xuICAgIHJldHVybiBkZWNvcmF0b3I7XG59XG4vKipcbiAqIFJlYWRzIG1vbmtleS1wYXRjaGVkIHByb3BlcnR5IHRoYXQgY29udGFpbnMgSW5qZWN0RmxhZyBhdHRhY2hlZCB0byBhIGRlY29yYXRvci5cbiAqXG4gKiBAcGFyYW0gdG9rZW4gVG9rZW4gdGhhdCBtYXkgY29udGFpbiBtb25rZXktcGF0Y2hlZCBESSBmbGFncyBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0RmxhZyh0b2tlbikge1xuICAgIHJldHVybiB0b2tlbltESV9ERUNPUkFUT1JfRkxBR107XG59XG5mdW5jdGlvbiBjYXRjaEluamVjdG9yRXJyb3IoZSwgdG9rZW4sIGluamVjdG9yRXJyb3JOYW1lLCBzb3VyY2UpIHtcbiAgICBjb25zdCB0b2tlblBhdGggPSBlW05HX1RFTVBfVE9LRU5fUEFUSF07XG4gICAgaWYgKHRva2VuW1NPVVJDRV0pIHtcbiAgICAgICAgdG9rZW5QYXRoLnVuc2hpZnQodG9rZW5bU09VUkNFXSk7XG4gICAgfVxuICAgIGUubWVzc2FnZSA9IGZvcm1hdEVycm9yKCdcXG4nICsgZS5tZXNzYWdlLCB0b2tlblBhdGgsIGluamVjdG9yRXJyb3JOYW1lLCBzb3VyY2UpO1xuICAgIGVbTkdfVE9LRU5fUEFUSF0gPSB0b2tlblBhdGg7XG4gICAgZVtOR19URU1QX1RPS0VOX1BBVEhdID0gbnVsbDtcbiAgICB0aHJvdyBlO1xufVxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodGV4dCwgb2JqLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlID0gbnVsbCkge1xuICAgIHRleHQgPSB0ZXh0ICYmIHRleHQuY2hhckF0KDApID09PSAnXFxuJyAmJiB0ZXh0LmNoYXJBdCgxKSA9PSBOT19ORVdfTElORSA/IHRleHQuc3Vic3RyKDIpIDogdGV4dDtcbiAgICBsZXQgY29udGV4dCA9IHN0cmluZ2lmeShvYmopO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgY29udGV4dCA9IG9iai5tYXAoc3RyaW5naWZ5KS5qb2luKCcgLT4gJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGtleSArICc6JyArICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogc3RyaW5naWZ5KHZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBgeyR7cGFydHMuam9pbignLCAnKX19YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke2luamVjdG9yRXJyb3JOYW1lfSR7c291cmNlID8gJygnICsgc291cmNlICsgJyknIDogJyd9WyR7Y29udGV4dH1dOiAke3RleHQucmVwbGFjZShORVdfTElORSwgJ1xcbiAgJyl9YDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEluamVjdCA9IGF0dGFjaEluamVjdEZsYWcoXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBEZWNvcmF0b3JGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5tYWtlUGFyYW1EZWNvcmF0b3IoJ0luamVjdCcsICh0b2tlbikgPT4gKHsgdG9rZW4gfSkpLCAtMSAvKiBJbmplY3QgKi8pO1xuLyoqXG4gKiBPcHRpb25hbCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE9wdGlvbmFsID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdPcHRpb25hbCcpLCA4IC8qIE9wdGlvbmFsICovKTtcbi8qKlxuICogU2VsZiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFNlbGYgPSBcbi8vIERpc2FibGUgdHNsaW50IGJlY2F1c2UgYEludGVybmFsSW5qZWN0RmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuYXR0YWNoSW5qZWN0RmxhZyhtYWtlUGFyYW1EZWNvcmF0b3IoJ1NlbGYnKSwgMiAvKiBTZWxmICovKTtcbi8qKlxuICogYFNraXBTZWxmYCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFNraXBTZWxmID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdTa2lwU2VsZicpLCA0IC8qIFNraXBTZWxmICovKTtcbi8qKlxuICogSG9zdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEhvc3QgPSBcbi8vIERpc2FibGUgdHNsaW50IGJlY2F1c2UgYEludGVybmFsSW5qZWN0RmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuYXR0YWNoSW5qZWN0RmxhZyhtYWtlUGFyYW1EZWNvcmF0b3IoJ0hvc3QnKSwgMSAvKiBIb3N0ICovKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3JlZmxlY3QgPSBudWxsO1xuZnVuY3Rpb24gZ2V0UmVmbGVjdCgpIHtcbiAgICByZXR1cm4gKF9yZWZsZWN0ID0gX3JlZmxlY3QgfHwgbmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKSk7XG59XG5mdW5jdGlvbiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpIHtcbiAgICByZXR1cm4gY29udmVydERlcGVuZGVuY2llcyhnZXRSZWZsZWN0KCkucGFyYW1ldGVycyh0eXBlKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RGVwZW5kZW5jaWVzKGRlcHMpIHtcbiAgICByZXR1cm4gZGVwcy5tYXAoZGVwID0+IHJlZmxlY3REZXBlbmRlbmN5KGRlcCkpO1xufVxuZnVuY3Rpb24gcmVmbGVjdERlcGVuZGVuY3koZGVwKSB7XG4gICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgdG9rZW46IG51bGwsXG4gICAgICAgIGF0dHJpYnV0ZTogbnVsbCxcbiAgICAgICAgaG9zdDogZmFsc2UsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgc2VsZjogZmFsc2UsXG4gICAgICAgIHNraXBTZWxmOiBmYWxzZSxcbiAgICB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlcCkgJiYgZGVwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkZXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVwW2pdO1xuICAgICAgICAgICAgaWYgKHBhcmFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhbSBtYXkgYmUgdW5kZWZpbmVkIGlmIHR5cGUgb2YgZGVwIGlzIG5vdCBzZXQgYnkgbmd0c2NcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmFtKTtcbiAgICAgICAgICAgIGlmIChwYXJhbSBpbnN0YW5jZW9mIE9wdGlvbmFsIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnT3B0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5vcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNraXBTZWxmIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnU2tpcFNlbGYnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5za2lwU2VsZiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNlbGYgfHwgcHJvdG8ubmdNZXRhZGF0YU5hbWUgPT09ICdTZWxmJykge1xuICAgICAgICAgICAgICAgIG1ldGEuc2VsZiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEhvc3QgfHwgcHJvdG8ubmdNZXRhZGF0YU5hbWUgPT09ICdIb3N0Jykge1xuICAgICAgICAgICAgICAgIG1ldGEuaG9zdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgICAgIG1ldGEudG9rZW4gPSBwYXJhbS50b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLmF0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dHJpYnV0ZSBuYW1lIG11c3QgYmUgZGVmaW5lZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWV0YS5hdHRyaWJ1dGUgPSBwYXJhbS5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0YS50b2tlbiA9IHBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlcCA9PT0gdW5kZWZpbmVkIHx8IChBcnJheS5pc0FycmF5KGRlcCkgJiYgZGVwLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgbWV0YS50b2tlbiA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXRhLnRva2VuID0gZGVwO1xuICAgIH1cbiAgICByZXR1cm4gbWV0YTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSByZXNvdXJjZSBVUkxzIG9uIGBAQ29tcG9uZW50YCB3aGVuIHVzZWQgd2l0aCBKSVQgY29tcGlsYXRpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbXktY29tcCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnbXktY29tcC5odG1sJywgLy8gVGhpcyByZXF1aXJlcyBhc3luY2hyb25vdXMgcmVzb2x1dGlvblxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50e1xuICogfVxuICpcbiAqIC8vIENhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgd2lsbCBmYWlsIGJlY2F1c2UgYHJlbmRlckNvbXBvbmVudGAgaXMgYSBzeW5jaHJvbm91cyBwcm9jZXNzXG4gKiAvLyBhbmQgYE15Q29tcG9uZW50YCdzIGBAQ29tcG9uZW50LnRlbXBsYXRlVXJsYCBuZWVkcyB0byBiZSByZXNvbHZlZCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiAvLyBDYWxsaW5nIGByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKClgIHdpbGwgcmVzb2x2ZSBgQENvbXBvbmVudC50ZW1wbGF0ZVVybGAgaW50b1xuICogLy8gYEBDb21wb25lbnQudGVtcGxhdGVgLCB3aGljaCBhbGxvd3MgYHJlbmRlckNvbXBvbmVudGAgdG8gcHJvY2VlZCBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAqXG4gKiAvLyBVc2UgYnJvd3NlcidzIGBmZXRjaCgpYCBmdW5jdGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvdXJjZSByZXNvbHV0aW9uIHN0cmF0ZWd5LlxuICogcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyhmZXRjaCkudGhlbigoKSA9PiB7XG4gKiAgIC8vIEFmdGVyIHJlc29sdXRpb24gYWxsIFVSTHMgaGF2ZSBiZWVuIGNvbnZlcnRlZCBpbnRvIGB0ZW1wbGF0ZWAgc3RyaW5ncy5cbiAqICAgcmVuZGVyQ29tcG9uZW50KE15Q29tcG9uZW50KTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIE5PVEU6IEluIEFPVCB0aGUgcmVzb2x1dGlvbiBoYXBwZW5zIGR1cmluZyBjb21waWxhdGlvbiwgYW5kIHNvIHRoZXJlIHNob3VsZCBiZSBubyBuZWVkXG4gKiB0byBjYWxsIHRoaXMgbWV0aG9kIG91dHNpZGUgSklUIG1vZGUuXG4gKlxuICogQHBhcmFtIHJlc291cmNlUmVzb2x2ZXIgYSBmdW5jdGlvbiB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIGEgYFByb21pc2VgIHRvIHRoZVxuICogY29udGVudHMgb2YgdGhlIHJlc29sdmVkIFVSTC4gQnJvd3NlcidzIGBmZXRjaCgpYCBtZXRob2QgaXMgYSBnb29kIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMocmVzb3VyY2VSZXNvbHZlcikge1xuICAgIC8vIFN0b3JlIGFsbCBwcm9taXNlcyB3aGljaCBhcmUgZmV0Y2hpbmcgdGhlIHJlc291cmNlcy5cbiAgICBjb25zdCBjb21wb25lbnRSZXNvbHZlZCA9IFtdO1xuICAgIC8vIENhY2hlIHNvIHRoYXQgd2UgZG9uJ3QgZmV0Y2ggdGhlIHNhbWUgcmVzb3VyY2UgbW9yZSB0aGFuIG9uY2UuXG4gICAgY29uc3QgdXJsTWFwID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGNhY2hlZFJlc291cmNlUmVzb2x2ZSh1cmwpIHtcbiAgICAgICAgbGV0IHByb21pc2UgPSB1cmxNYXAuZ2V0KHVybCk7XG4gICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgY29uc3QgcmVzcCA9IHJlc291cmNlUmVzb2x2ZXIodXJsKTtcbiAgICAgICAgICAgIHVybE1hcC5zZXQodXJsLCBwcm9taXNlID0gcmVzcC50aGVuKHVud3JhcFJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLmZvckVhY2goKGNvbXBvbmVudCwgdHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBpZiAoY29tcG9uZW50LnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGNhY2hlZFJlc291cmNlUmVzb2x2ZShjb21wb25lbnQudGVtcGxhdGVVcmwpLnRoZW4oKHRlbXBsYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGVVcmxzID0gY29tcG9uZW50LnN0eWxlVXJscztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gY29tcG9uZW50LnN0eWxlcyB8fCAoY29tcG9uZW50LnN0eWxlcyA9IFtdKTtcbiAgICAgICAgY29uc3Qgc3R5bGVPZmZzZXQgPSBjb21wb25lbnQuc3R5bGVzLmxlbmd0aDtcbiAgICAgICAgc3R5bGVVcmxzICYmIHN0eWxlVXJscy5mb3JFYWNoKChzdHlsZVVybCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKCcnKTsgLy8gcHJlLWFsbG9jYXRlIGFycmF5LlxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjYWNoZWRSZXNvdXJjZVJlc29sdmUoc3R5bGVVcmwpLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3R5bGVzW3N0eWxlT2Zmc2V0ICsgaW5kZXhdID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgc3R5bGVVcmxzLnNwbGljZShzdHlsZVVybHMuaW5kZXhPZihzdHlsZVVybCksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZVVybHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0eWxlVXJscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdWxseVJlc29sdmVkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gY29tcG9uZW50RGVmUmVzb2x2ZWQodHlwZSkpO1xuICAgICAgICBjb21wb25lbnRSZXNvbHZlZC5wdXNoKGZ1bGx5UmVzb2x2ZWQpO1xuICAgIH0pO1xuICAgIGNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoY29tcG9uZW50UmVzb2x2ZWQpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cbmxldCBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IG5ldyBNYXAoKTtcbi8vIFRyYWNrIHdoZW4gZXhpc3RpbmcgybVjbXAgZm9yIGEgVHlwZSBpcyB3YWl0aW5nIG9uIHJlc291cmNlcy5cbmNvbnN0IGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gbWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyh0eXBlLCBtZXRhZGF0YSkge1xuICAgIGlmIChjb21wb25lbnROZWVkc1Jlc29sdXRpb24obWV0YWRhdGEpKSB7XG4gICAgICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLnNldCh0eXBlLCBtZXRhZGF0YSk7XG4gICAgICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmFkZCh0eXBlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uaGFzKHR5cGUpO1xufVxuZnVuY3Rpb24gY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKGNvbXBvbmVudCkge1xuICAgIHJldHVybiAhISgoY29tcG9uZW50LnRlbXBsYXRlVXJsICYmICFjb21wb25lbnQuaGFzT3duUHJvcGVydHkoJ3RlbXBsYXRlJykpIHx8XG4gICAgICAgIGNvbXBvbmVudC5zdHlsZVVybHMgJiYgY29tcG9uZW50LnN0eWxlVXJscy5sZW5ndGgpO1xufVxuZnVuY3Rpb24gY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSgpIHtcbiAgICBjb25zdCBvbGQgPSBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZTtcbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4gb2xkO1xufVxuZnVuY3Rpb24gcmVzdG9yZUNvbXBvbmVudFJlc29sdXRpb25RdWV1ZShxdWV1ZSkge1xuICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmNsZWFyKCk7XG4gICAgcXVldWUuZm9yRWFjaCgoXywgdHlwZSkgPT4gY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uYWRkKHR5cGUpKTtcbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IHF1ZXVlO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZUVtcHR5KCkge1xuICAgIHJldHVybiBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5zaXplID09PSAwO1xufVxuZnVuY3Rpb24gdW53cmFwUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3BvbnNlID09ICdzdHJpbmcnID8gcmVzcG9uc2UgOiByZXNwb25zZS50ZXh0KCk7XG59XG5mdW5jdGlvbiBjb21wb25lbnREZWZSZXNvbHZlZCh0eXBlKSB7XG4gICAgY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uZGVsZXRlKHR5cGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcG9saWN5IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldC5cbiAqL1xubGV0IHBvbGljeSQxO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLiBUaGUgZmlyc3QgY2FsbCB0byB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIHRoZSBwb2xpY3kuXG4gKi9cbmZ1bmN0aW9uIGdldFBvbGljeSQxKCkge1xuICAgIGlmIChwb2xpY3kkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvbGljeSQxID0gbnVsbDtcbiAgICAgICAgaWYgKF9nbG9iYWwudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvbGljeSQxID0gX2dsb2JhbC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdhbmd1bGFyJywge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0OiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0VVJMOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIC8vIHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3kgdGhyb3dzIGlmIGNhbGxlZCB3aXRoIGEgbmFtZSB0aGF0IGlzXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkLCBldmVuIGluIHJlcG9ydC1vbmx5IG1vZGUuIFVudGlsIHRoZSBBUEkgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAvLyBjYXRjaCB0aGUgZXJyb3Igbm90IHRvIGJyZWFrIHRoZSBhcHBsaWNhdGlvbnMgZnVuY3Rpb25hbGx5LiBJbiBzdWNoXG4gICAgICAgICAgICAgICAgLy8gY2FzZXMsIHRoZSBjb2RlIHdpbGwgZmFsbCBiYWNrIHRvIHVzaW5nIHN0cmluZ3MuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeSQxO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZEhUTUwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCB0aGVcbiAqIHByb3ZpZGVkIHN0cmluZyB3aWxsIG5ldmVyIGNhdXNlIGFuIFhTUyB2dWxuZXJhYmlsaXR5IGlmIHVzZWQgaW4gYSBjb250ZXh0XG4gKiB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgSFRNTCBieSBhIGJyb3dzZXIsIGUuZy4gd2hlbiBhc3NpZ25pbmcgdG9cbiAqIGVsZW1lbnQuaW5uZXJIVE1MLlxuICovXG5mdW5jdGlvbiB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSQxKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVIVE1MKGh0bWwpKSB8fCBodG1sO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZFNjcmlwdCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCB0aGUgcHJvdmlkZWQgc3RyaW5nIHdpbGxcbiAqIG5ldmVyIGNhdXNlIGFuIFhTUyB2dWxuZXJhYmlsaXR5IGlmIHVzZWQgaW4gYSBjb250ZXh0IHRoYXQgd2lsbCBiZVxuICogaW50ZXJwcmV0ZWQgYW5kIGV4ZWN1dGVkIGFzIGEgc2NyaXB0IGJ5IGEgYnJvd3NlciwgZS5nLiB3aGVuIGNhbGxpbmcgZXZhbC5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoc2NyaXB0KSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gZ2V0UG9saWN5JDEoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZVNjcmlwdChzY3JpcHQpKSB8fCBzY3JpcHQ7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0VVJMLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5nc1xuICogd2hlbiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlXG4gKiBwcm92aWRlZCBzdHJpbmcgd2lsbCBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dFxuICogdGhhdCB3aWxsIGNhdXNlIGEgYnJvd3NlciB0byBsb2FkIGFuZCBleGVjdXRlIGEgcmVzb3VyY2UsIGUuZy4gd2hlblxuICogYXNzaWduaW5nIHRvIHNjcmlwdC5zcmMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nKHVybCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSQxKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVTY3JpcHRVUkwodXJsKSkgfHwgdXJsO1xufVxuLyoqXG4gKiBVbnNhZmVseSBjYWxsIHRoZSBGdW5jdGlvbiBjb25zdHJ1Y3RvciB3aXRoIHRoZSBnaXZlbiBzdHJpbmcgYXJndW1lbnRzLiBJdFxuICogaXMgb25seSBhdmFpbGFibGUgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgYW5kIHNob3VsZCBiZSBzdHJpcHBlZCBvdXQgb2ZcbiAqIHByb2R1Y3Rpb24gY29kZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IGl0XG4gKiBpcyBvbmx5IGNhbGxlZCBmcm9tIGRldmVsb3BtZW50IGNvZGUsIGFzIHVzZSBpbiBwcm9kdWN0aW9uIGNvZGUgY2FuIGxlYWQgdG9cbiAqIFhTUyB2dWxuZXJhYmlsaXRpZXMuXG4gKi9cbmZ1bmN0aW9uIG5ld1RydXN0ZWRGdW5jdGlvbkZvckRldiguLi5hcmdzKSB7XG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbmV3VHJ1c3RlZEZ1bmN0aW9uRm9yRGV2IHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gcHJvZHVjdGlvbicpO1xuICAgIH1cbiAgICBpZiAoIV9nbG9iYWwudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgIC8vIEluIGVudmlyb25tZW50cyB0aGF0IGRvbid0IHN1cHBvcnQgVHJ1c3RlZCBUeXBlcywgZmFsbCBiYWNrIHRvIHRoZSBtb3N0XG4gICAgICAgIC8vIHN0cmFpZ2h0Zm9yd2FyZCBpbXBsZW1lbnRhdGlvbjpcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbiguLi5hcmdzKTtcbiAgICB9XG4gICAgLy8gQ2hyb21lIGN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IHBhc3NpbmcgVHJ1c3RlZFNjcmlwdCB0byB0aGUgRnVuY3Rpb25cbiAgICAvLyBjb25zdHJ1Y3Rvci4gVGhlIGZvbGxvd2luZyBpbXBsZW1lbnRzIHRoZSB3b3JrYXJvdW5kIHByb3Bvc2VkIG9uIHRoZSBwYWdlXG4gICAgLy8gYmVsb3csIHdoZXJlIHRoZSBDaHJvbWl1bSBidWcgaXMgYWxzbyByZWZlcmVuY2VkOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2Mvd2ViYXBwc2VjLXRydXN0ZWQtdHlwZXMvd2lraS9UcnVzdGVkLVR5cGVzLWZvci1mdW5jdGlvbi1jb25zdHJ1Y3RvclxuICAgIGNvbnN0IGZuQXJncyA9IGFyZ3Muc2xpY2UoMCwgLTEpLmpvaW4oJywnKTtcbiAgICBjb25zdCBmbkJvZHkgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgYm9keSA9IGAoZnVuY3Rpb24gYW5vbnltb3VzKCR7Zm5BcmdzfVxuKSB7ICR7Zm5Cb2R5fVxufSlgO1xuICAgIC8vIFVzaW5nIGV2YWwgZGlyZWN0bHkgY29uZnVzZXMgdGhlIGNvbXBpbGVyIGFuZCBwcmV2ZW50cyB0aGlzIG1vZHVsZSBmcm9tXG4gICAgLy8gYmVpbmcgc3RyaXBwZWQgb3V0IG9mIEpTIGJpbmFyaWVzIGV2ZW4gaWYgbm90IHVzZWQuIFRoZSBnbG9iYWxbJ2V2YWwnXVxuICAgIC8vIGluZGlyZWN0aW9uIGZpeGVzIHRoYXQuXG4gICAgY29uc3QgZm4gPSBfZ2xvYmFsWydldmFsJ10odHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoYm9keSkpO1xuICAgIGlmIChmbi5iaW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgYSBicm93c2VyIGJ1ZyB0aGF0IG9ubHkgZXhpc3RzIGluIENocm9tZSA4Mywgd2hlcmUgcGFzc2luZ1xuICAgICAgICAvLyBhIFRydXN0ZWRTY3JpcHQgdG8gZXZhbCBqdXN0IHJldHVybnMgdGhlIFRydXN0ZWRTY3JpcHQgYmFjayB3aXRob3V0XG4gICAgICAgIC8vIGV2YWx1YXRpbmcgaXQuIEluIHRoYXQgY2FzZSwgZmFsbCBiYWNrIHRvIHRoZSBtb3N0IHN0cmFpZ2h0Zm9yd2FyZFxuICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbjpcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbiguLi5hcmdzKTtcbiAgICB9XG4gICAgLy8gVG8gY29tcGxldGVseSBtaW1pYyB0aGUgYmVoYXZpb3Igb2YgY2FsbGluZyBcIm5ldyBGdW5jdGlvblwiLCB0d28gbW9yZVxuICAgIC8vIHRoaW5ncyBuZWVkIHRvIGhhcHBlbjpcbiAgICAvLyAxLiBTdHJpbmdpZnlpbmcgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGl0cyBzb3VyY2UgY29kZVxuICAgIGZuLnRvU3RyaW5nID0gKCkgPT4gYm9keTtcbiAgICAvLyAyLiBXaGVuIGNhbGxpbmcgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiwgYHRoaXNgIHNob3VsZCByZWZlciB0byBgZ2xvYmFsYFxuICAgIHJldHVybiBmbi5iaW5kKF9nbG9iYWwpO1xuICAgIC8vIFdoZW4gVHJ1c3RlZCBUeXBlcyBzdXBwb3J0IGluIEZ1bmN0aW9uIGNvbnN0cnVjdG9ycyBpcyB3aWRlbHkgYXZhaWxhYmxlLFxuICAgIC8vIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBzaW1wbGlmaWVkIHRvOlxuICAgIC8vIHJldHVybiBuZXcgRnVuY3Rpb24oLi4uYXJncy5tYXAoYSA9PiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZyhhKSkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcG9saWN5IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldC5cbiAqL1xubGV0IHBvbGljeTtcbi8qKlxuICogUmV0dXJucyB0aGUgVHJ1c3RlZCBUeXBlcyBwb2xpY3ksIG9yIG51bGwgaWYgVHJ1c3RlZCBUeXBlcyBhcmUgbm90XG4gKiBlbmFibGVkL3N1cHBvcnRlZC4gVGhlIGZpcnN0IGNhbGwgdG8gdGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSB0aGUgcG9saWN5LlxuICovXG5mdW5jdGlvbiBnZXRQb2xpY3koKSB7XG4gICAgaWYgKHBvbGljeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvbGljeSA9IG51bGw7XG4gICAgICAgIGlmIChfZ2xvYmFsLnRydXN0ZWRUeXBlcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb2xpY3kgPSBfZ2xvYmFsLnRydXN0ZWRUeXBlc1xuICAgICAgICAgICAgICAgICAgICAuY3JlYXRlUG9saWN5KCdhbmd1bGFyI3Vuc2FmZS1ieXBhc3MnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUhUTUw6IChzKSA9PiBzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHQ6IChzKSA9PiBzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRVUkw6IChzKSA9PiBzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSB0aHJvd3MgaWYgY2FsbGVkIHdpdGggYSBuYW1lIHRoYXQgaXNcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQsIGV2ZW4gaW4gcmVwb3J0LW9ubHkgbW9kZS4gVW50aWwgdGhlIEFQSSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIC8vIGNhdGNoIHRoZSBlcnJvciBub3QgdG8gYnJlYWsgdGhlIGFwcGxpY2F0aW9ucyBmdW5jdGlvbmFsbHkuIEluIHN1Y2hcbiAgICAgICAgICAgICAgICAvLyBjYXNlcywgdGhlIGNvZGUgd2lsbCBmYWxsIGJhY2sgdG8gdXNpbmcgc3RyaW5ncy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9saWN5O1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZEhUTUwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKGh0bWwpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBnZXRQb2xpY3koKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZUhUTUwoaHRtbCkpIHx8IGh0bWw7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0LCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5ncyB3aGVuXG4gKiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgaXRcbiAqIGlzIG9ubHkgcGFzc2VkIHN0cmluZ3MgdGhhdCBjb21lIGRpcmVjdGx5IGZyb20gY3VzdG9tIHNhbml0aXplcnMgb3IgdGhlXG4gKiBieXBhc3NTZWN1cml0eVRydXN0KiBmdW5jdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzKHNjcmlwdCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3JlYXRlU2NyaXB0KHNjcmlwdCkpIHx8IHNjcmlwdDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHRVUkwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzXG4gKiB3aGVuIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3ModXJsKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gZ2V0UG9saWN5KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVTY3JpcHRVUkwodXJsKSkgfHwgdXJsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIFNhZmVWYWx1ZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5ID0gY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgU2FmZVZhbHVlIG11c3QgdXNlIFtwcm9wZXJ0eV09YmluZGluZzogJHt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHl9YCArXG4gICAgICAgICAgICBgIChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVIdG1sSW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIVE1MXCIgLyogSHRtbCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlU3R5bGVJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0eWxlXCIgLyogU3R5bGUgKi87XG4gICAgfVxufVxuY2xhc3MgU2FmZVNjcmlwdEltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU2NyaXB0XCIgLyogU2NyaXB0ICovO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVVcmxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlVSTFwiIC8qIFVybCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlUmVzb3VyY2VVcmxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJlc291cmNlVVJMXCIgLyogUmVzb3VyY2VVcmwgKi87XG4gICAgfVxufVxuZnVuY3Rpb24gdW53cmFwU2FmZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVZhbHVlSW1wbCA/IHZhbHVlLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkgOlxuICAgICAgICB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codmFsdWUsIHR5cGUpIHtcbiAgICBjb25zdCBhY3R1YWxUeXBlID0gZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSh2YWx1ZSk7XG4gICAgaWYgKGFjdHVhbFR5cGUgIT0gbnVsbCAmJiBhY3R1YWxUeXBlICE9PSB0eXBlKSB7XG4gICAgICAgIC8vIEFsbG93IFJlc291cmNlVVJMcyBpbiBVUkwgY29udGV4dHMsIHRoZXkgYXJlIHN0cmljdGx5IG1vcmUgdHJ1c3RlZC5cbiAgICAgICAgaWYgKGFjdHVhbFR5cGUgPT09IFwiUmVzb3VyY2VVUkxcIiAvKiBSZXNvdXJjZVVybCAqLyAmJiB0eXBlID09PSBcIlVSTFwiIC8qIFVybCAqLylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIGEgc2FmZSAke3R5cGV9LCBnb3QgYSAke2FjdHVhbFR5cGV9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdHVhbFR5cGUgPT09IHR5cGU7XG59XG5mdW5jdGlvbiBnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVZhbHVlSW1wbCAmJiB2YWx1ZS5nZXRUeXBlTmFtZSgpIHx8IG51bGw7XG59XG4vKipcbiAqIE1hcmsgYGh0bWxgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgaHRtbFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkSHRtbCBgaHRtbGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYGh0bWxgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwodHJ1c3RlZEh0bWwpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVIdG1sSW1wbCh0cnVzdGVkSHRtbCk7XG59XG4vKipcbiAqIE1hcmsgYHN0eWxlYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHN0eWxlU2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRTdHlsZSBgc3R5bGVgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBzdHlsZWAgaGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSh0cnVzdGVkU3R5bGUpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVTdHlsZUltcGwodHJ1c3RlZFN0eWxlKTtcbn1cbi8qKlxuICogTWFyayBgc2NyaXB0YCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHNjcmlwdFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkU2NyaXB0IGBzY3JpcHRgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBzY3JpcHRgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCh0cnVzdGVkU2NyaXB0KSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlU2NyaXB0SW1wbCh0cnVzdGVkU2NyaXB0KTtcbn1cbi8qKlxuICogTWFyayBgdXJsYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkVXJsIGB1cmxgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGB1cmxgICB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwodHJ1c3RlZFVybCkge1xuICAgIHJldHVybiBuZXcgU2FmZVVybEltcGwodHJ1c3RlZFVybCk7XG59XG4vKipcbiAqIE1hcmsgYHVybGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayByZXNvdXJjZVVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkUmVzb3VyY2VVcmwgYHVybGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHVybGAgd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwodHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlUmVzb3VyY2VVcmxJbXBsKHRydXN0ZWRSZXNvdXJjZVVybCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGhlbHBlciBpcyB1c2VkIHRvIGdldCBob2xkIG9mIGFuIGluZXJ0IHRyZWUgb2YgRE9NIGVsZW1lbnRzIGNvbnRhaW5pbmcgZGlydHkgSFRNTFxuICogdGhhdCBuZWVkcyBzYW5pdGl6aW5nLlxuICogRGVwZW5kaW5nIHVwb24gYnJvd3NlciBzdXBwb3J0IHdlIHVzZSBvbmUgb2YgdHdvIHN0cmF0ZWdpZXMgZm9yIGRvaW5nIHRoaXMuXG4gKiBEZWZhdWx0OiBET01QYXJzZXIgc3RyYXRlZ3lcbiAqIEZhbGxiYWNrOiBJbmVydERvY3VtZW50IHN0cmF0ZWd5XG4gKi9cbmZ1bmN0aW9uIGdldEluZXJ0Qm9keUhlbHBlcihkZWZhdWx0RG9jKSB7XG4gICAgY29uc3QgaW5lcnREb2N1bWVudEhlbHBlciA9IG5ldyBJbmVydERvY3VtZW50SGVscGVyKGRlZmF1bHREb2MpO1xuICAgIHJldHVybiBpc0RPTVBhcnNlckF2YWlsYWJsZSgpID8gbmV3IERPTVBhcnNlckhlbHBlcihpbmVydERvY3VtZW50SGVscGVyKSA6IGluZXJ0RG9jdW1lbnRIZWxwZXI7XG59XG4vKipcbiAqIFVzZXMgRE9NUGFyc2VyIHRvIGNyZWF0ZSBhbmQgZmlsbCBhbiBpbmVydCBib2R5IGVsZW1lbnQuXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IHN0cmF0ZWd5IHVzZWQgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LlxuICovXG5jbGFzcyBET01QYXJzZXJIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKGluZXJ0RG9jdW1lbnRIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5pbmVydERvY3VtZW50SGVscGVyID0gaW5lcnREb2N1bWVudEhlbHBlcjtcbiAgICB9XG4gICAgZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKSB7XG4gICAgICAgIC8vIFdlIGFkZCB0aGVzZSBleHRyYSBlbGVtZW50cyB0byBlbnN1cmUgdGhhdCB0aGUgcmVzdCBvZiB0aGUgY29udGVudCBpcyBwYXJzZWQgYXMgZXhwZWN0ZWRcbiAgICAgICAgLy8gZS5nLiBsZWFkaW5nIHdoaXRlc3BhY2UgaXMgbWFpbnRhaW5lZCBhbmQgdGFncyBsaWtlIGA8bWV0YT5gIGRvIG5vdCBnZXQgaG9pc3RlZCB0byB0aGVcbiAgICAgICAgLy8gYDxoZWFkPmAgdGFnLiBOb3RlIHRoYXQgdGhlIGA8Ym9keT5gIHRhZyBpcyBjbG9zZWQgaW1wbGljaXRseSB0byBwcmV2ZW50IHVuY2xvc2VkIHRhZ3NcbiAgICAgICAgLy8gaW4gYGh0bWxgIGZyb20gY29uc3VtaW5nIHRoZSBvdGhlcndpc2UgZXhwbGljaXQgYDwvYm9keT5gIHRhZy5cbiAgICAgICAgaHRtbCA9ICc8Ym9keT48cmVtb3ZlPjwvcmVtb3ZlPicgKyBodG1sO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKClcbiAgICAgICAgICAgICAgICAucGFyc2VGcm9tU3RyaW5nKHRydXN0ZWRIVE1MRnJvbVN0cmluZyhodG1sKSwgJ3RleHQvaHRtbCcpXG4gICAgICAgICAgICAgICAgLmJvZHk7XG4gICAgICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMgKGUuZy4gTW96aWxsYS81LjAgaVBhZCBBcHBsZVdlYktpdCBNb2JpbGUpIHRoZSBgYm9keWAgcHJvcGVydHkgb25seVxuICAgICAgICAgICAgICAgIC8vIGJlY29tZXMgYXZhaWxhYmxlIGluIHRoZSBmb2xsb3dpbmcgdGljayBvZiB0aGUgSlMgZW5naW5lLiBJbiB0aGF0IGNhc2Ugd2UgZmFsbCBiYWNrIHRvXG4gICAgICAgICAgICAgICAgLy8gdGhlIGBpbmVydERvY3VtZW50SGVscGVyYCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVzZSBhbiBIVE1MNSBgdGVtcGxhdGVgIGVsZW1lbnQsIGlmIHN1cHBvcnRlZCwgb3IgYW4gaW5lcnQgYm9keSBlbGVtZW50IGNyZWF0ZWQgdmlhXG4gKiBgY3JlYXRlSHRtbERvY3VtZW50YCB0byBjcmVhdGUgYW5kIGZpbGwgYW4gaW5lcnQgRE9NIGVsZW1lbnQuXG4gKiBUaGlzIGlzIHRoZSBmYWxsYmFjayBzdHJhdGVneSBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IERPTVBhcnNlci5cbiAqL1xuY2xhc3MgSW5lcnREb2N1bWVudEhlbHBlciB7XG4gICAgY29uc3RydWN0b3IoZGVmYXVsdERvYykge1xuICAgICAgICB0aGlzLmRlZmF1bHREb2MgPSBkZWZhdWx0RG9jO1xuICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnQgPSB0aGlzLmRlZmF1bHREb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCdzYW5pdGl6YXRpb24taW5lcnQnKTtcbiAgICAgICAgaWYgKHRoaXMuaW5lcnREb2N1bWVudC5ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHVzdWFsbHkgdGhlcmUgc2hvdWxkIGJlIG9ubHkgb25lIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQsIGJ1dCBJRSBkb2Vzbid0IGhhdmUgYW55LCBzb1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgb25lLlxuICAgICAgICAgICAgY29uc3QgaW5lcnRIdG1sID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHRoaXMuaW5lcnREb2N1bWVudC5hcHBlbmRDaGlsZChpbmVydEh0bWwpO1xuICAgICAgICAgICAgY29uc3QgaW5lcnRCb2R5RWxlbWVudCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgICAgICBpbmVydEh0bWwuYXBwZW5kQ2hpbGQoaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKSB7XG4gICAgICAgIC8vIFByZWZlciB1c2luZyA8dGVtcGxhdGU+IGVsZW1lbnQgaWYgc3VwcG9ydGVkLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZUVsID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIGlmICgnY29udGVudCcgaW4gdGVtcGxhdGVFbCkge1xuICAgICAgICAgICAgdGVtcGxhdGVFbC5pbm5lckhUTUwgPSB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVFbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlIHRoYXQgcHJldmlvdXNseSB3ZSB1c2VkIHRvIGRvIHNvbWV0aGluZyBsaWtlIGB0aGlzLmluZXJ0RG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBodG1sYFxuICAgICAgICAvLyBhbmQgd2UgcmV0dXJuZWQgdGhlIGluZXJ0IGBib2R5YCBub2RlLiBUaGlzIHdhcyBjaGFuZ2VkLCBiZWNhdXNlIElFIHNlZW1zIHRvIHRyZWF0IHNldHRpbmdcbiAgICAgICAgLy8gYGlubmVySFRNTGAgb24gYW4gaW5zZXJ0ZWQgZWxlbWVudCBkaWZmZXJlbnRseSwgY29tcGFyZWQgdG8gb25lIHRoYXQgaGFzbid0IGJlZW4gaW5zZXJ0ZWRcbiAgICAgICAgLy8geWV0LiBJbiBwYXJ0aWN1bGFyLCBJRSBhcHBlYXJzIHRvIHNwbGl0IHNvbWUgb2YgdGhlIHRleHQgaW50byBtdWx0aXBsZSB0ZXh0IG5vZGVzIHJhdGhlclxuICAgICAgICAvLyB0aGFuIGtlZXBpbmcgdGhlbSBpbiBhIHNpbmdsZSBvbmUgd2hpY2ggZW5kcyB1cCBtZXNzaW5nIHdpdGggSXZ5J3MgaTE4biBwYXJzaW5nIGZ1cnRoZXJcbiAgICAgICAgLy8gZG93biB0aGUgbGluZS4gVGhpcyBoYXMgYmVlbiB3b3JrZWQgYXJvdW5kIGJ5IGNyZWF0aW5nIGEgbmV3IGluZXJ0IGBib2R5YCBhbmQgdXNpbmcgaXQgYXNcbiAgICAgICAgLy8gdGhlIHJvb3Qgbm9kZSBpbiB3aGljaCB3ZSBpbnNlcnQgdGhlIEhUTUwuXG4gICAgICAgIGNvbnN0IGluZXJ0Qm9keSA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgIGluZXJ0Qm9keS5pbm5lckhUTUwgPSB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcbiAgICAgICAgLy8gc3RyaXAgY3VzdG9tLW5hbWVzcGFjZWQgYXR0cmlidXRlcyBvbiBJRTw9MTFcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdERvYy5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGluZXJ0Qm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZXJ0Qm9keTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBJRTExIGNvbWVzIGFjcm9zcyBhbiB1bmtub3duIG5hbWVzcGFjZWQgYXR0cmlidXRlIGUuZy4gJ3hsaW5rOmZvbycgaXQgYWRkcyAneG1sbnM6bnMxJ1xuICAgICAqIGF0dHJpYnV0ZSB0byBkZWNsYXJlIG5zMSBuYW1lc3BhY2UgYW5kIHByZWZpeGVzIHRoZSBhdHRyaWJ1dGUgd2l0aCAnbnMxJyAoZS5nLlxuICAgICAqICduczE6eGxpbms6Zm9vJykuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVuZGVzaXJhYmxlIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gYWxsb3cgYW55IG9mIHRoZXNlIGN1c3RvbSBhdHRyaWJ1dGVzLiBUaGlzIG1ldGhvZFxuICAgICAqIHN0cmlwcyB0aGVtIGFsbC5cbiAgICAgKi9cbiAgICBzdHJpcEN1c3RvbU5zQXR0cnMoZWwpIHtcbiAgICAgICAgY29uc3QgZWxBdHRycyA9IGVsLmF0dHJpYnV0ZXM7XG4gICAgICAgIC8vIGxvb3AgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnQgcmVtb3ZhbHMuXG4gICAgICAgIGZvciAobGV0IGkgPSBlbEF0dHJzLmxlbmd0aCAtIDE7IDAgPCBpOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYiA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cmliLm5hbWU7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmluZGV4T2YoJ25zMTonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoaWxkTm9kZSA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFdlIG5lZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIERPTVBhcnNlciBleGlzdHMgaW4gdGhlIGdsb2JhbCBjb250ZXh0IGFuZFxuICogc3VwcG9ydHMgcGFyc2luZyBIVE1MOyBIVE1MIHBhcnNpbmcgc3VwcG9ydCBpcyBub3QgYXMgd2lkZSBhcyBvdGhlciBmb3JtYXRzLCBzZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ET01QYXJzZXIjQnJvd3Nlcl9jb21wYXRpYmlsaXR5LlxuICpcbiAqIEBzdXBwcmVzcyB7dXNlbGVzc0NvZGV9XG4gKi9cbmZ1bmN0aW9uIGlzRE9NUGFyc2VyQXZhaWxhYmxlKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIW5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRydXN0ZWRIVE1MRnJvbVN0cmluZygnJyksICd0ZXh0L2h0bWwnKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHBhdHRlcm4gdGhhdCByZWNvZ25pemVzIGEgY29tbW9ubHkgdXNlZnVsIHN1YnNldCBvZiBVUkxzIHRoYXQgYXJlIHNhZmUuXG4gKlxuICogVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBhIHN1YnNldCBvZiBVUkxzIHRoYXQgd2lsbCBub3QgY2F1c2Ugc2NyaXB0XG4gKiBleGVjdXRpb24gaWYgdXNlZCBpbiBVUkwgY29udGV4dCB3aXRoaW4gYSBIVE1MIGRvY3VtZW50LiBTcGVjaWZpY2FsbHksIHRoaXNcbiAqIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGlmIChjb21tZW50IGZyb20gaGVyZSBvbiBhbmQgcmVnZXggY29waWVkIGZyb21cbiAqIFNveSdzIEVzY2FwaW5nQ29udmVudGlvbnMpOlxuICogKDEpIEVpdGhlciBhbiBhbGxvd2VkIHByb3RvY29sIChodHRwLCBodHRwcywgbWFpbHRvIG9yIGZ0cCkuXG4gKiAoMikgb3Igbm8gcHJvdG9jb2wuICBBIHByb3RvY29sIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBjb2xvbi4gVGhlIGJlbG93XG4gKiAgICAgYWxsb3dzIHRoYXQgYnkgYWxsb3dpbmcgY29sb25zIG9ubHkgYWZ0ZXIgb25lIG9mIHRoZSBjaGFyYWN0ZXJzIFsvPyNdLlxuICogICAgIEEgY29sb24gYWZ0ZXIgYSBoYXNoICgjKSBtdXN0IGJlIGluIHRoZSBmcmFnbWVudC5cbiAqICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSAoPykgbXVzdCBiZSBpbiBhIHF1ZXJ5LlxuICogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhIHNpbmdsZSBzb2xpZHVzICgvKSBtdXN0IGJlIGluIGEgcGF0aC5cbiAqICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSBkb3VibGUgc29saWR1cyAoLy8pIG11c3QgYmUgaW4gdGhlIGF1dGhvcml0eVxuICogICAgIChiZWZvcmUgcG9ydCkuXG4gKlxuICogVGhlIHBhdHRlcm4gZGlzYWxsb3dzICYsIHVzZWQgaW4gSFRNTCBlbnRpdHkgZGVjbGFyYXRpb25zIGJlZm9yZVxuICogb25lIG9mIHRoZSBjaGFyYWN0ZXJzIGluIFsvPyNdLiBUaGlzIGRpc2FsbG93cyBIVE1MIGVudGl0aWVzIHVzZWQgaW4gdGhlXG4gKiBwcm90b2NvbCBuYW1lLCB3aGljaCBzaG91bGQgbmV2ZXIgaGFwcGVuLCBlLmcuIFwiaCYjMTE2O3RwXCIgZm9yIFwiaHR0cFwiLlxuICogSXQgYWxzbyBkaXNhbGxvd3MgSFRNTCBlbnRpdGllcyBpbiB0aGUgZmlyc3QgcGF0aCBwYXJ0IG9mIGEgcmVsYXRpdmUgcGF0aCxcbiAqIGUuZy4gXCJmb28mbHQ7YmFyL2JhelwiLiAgT3VyIGV4aXN0aW5nIGVzY2FwaW5nIGZ1bmN0aW9ucyBzaG91bGQgbm90IHByb2R1Y2VcbiAqIHRoYXQuIE1vcmUgaW1wb3J0YW50bHksIGl0IGRpc2FsbG93cyBtYXNraW5nIG9mIGEgY29sb24sXG4gKiBlLmcuIFwiamF2YXNjcmlwdCYjNTg7Li4uXCIuXG4gKlxuICogVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gd2FzIHRha2VuIGZyb20gdGhlIENsb3N1cmUgc2FuaXRpemF0aW9uIGxpYnJhcnkuXG4gKi9cbmNvbnN0IFNBRkVfVVJMX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naTtcbi8qIEEgcGF0dGVybiB0aGF0IG1hdGNoZXMgc2FmZSBzcmNzZXQgdmFsdWVzICovXG5jb25zdCBTQUZFX1NSQ1NFVF9QQVRURVJOID0gL14oPzooPzpodHRwcz98ZmlsZSk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naTtcbi8qKiBBIHBhdHRlcm4gdGhhdCBtYXRjaGVzIHNhZmUgZGF0YSBVUkxzLiBPbmx5IG1hdGNoZXMgaW1hZ2UsIHZpZGVvIGFuZCBhdWRpbyB0eXBlcy4gKi9cbmNvbnN0IERBVEFfVVJMX1BBVFRFUk4gPSAvXmRhdGE6KD86aW1hZ2VcXC8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnApfHZpZGVvXFwvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXFwvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbYS16MC05K1xcL10rPSokL2k7XG5mdW5jdGlvbiBfc2FuaXRpemVVcmwodXJsKSB7XG4gICAgdXJsID0gU3RyaW5nKHVybCk7XG4gICAgaWYgKHVybC5tYXRjaChTQUZFX1VSTF9QQVRURVJOKSB8fCB1cmwubWF0Y2goREFUQV9VUkxfUEFUVEVSTikpXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFdBUk5JTkc6IHNhbml0aXppbmcgdW5zYWZlIFVSTCB2YWx1ZSAke3VybH0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApO1xuICAgIH1cbiAgICByZXR1cm4gJ3Vuc2FmZTonICsgdXJsO1xufVxuZnVuY3Rpb24gc2FuaXRpemVTcmNzZXQoc3Jjc2V0KSB7XG4gICAgc3Jjc2V0ID0gU3RyaW5nKHNyY3NldCk7XG4gICAgcmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3Jjc2V0KSA9PiBfc2FuaXRpemVVcmwoc3Jjc2V0LnRyaW0oKSkpLmpvaW4oJywgJyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gdGFnU2V0KHRhZ3MpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGFncy5zcGxpdCgnLCcpKVxuICAgICAgICByZXNbdF0gPSB0cnVlO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtZXJnZSguLi5zZXRzKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChjb25zdCBzIG9mIHNldHMpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IGluIHMpIHtcbiAgICAgICAgICAgIGlmIChzLmhhc093blByb3BlcnR5KHYpKVxuICAgICAgICAgICAgICAgIHJlc1t2XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIEdvb2Qgc291cmNlIG9mIGluZm8gYWJvdXQgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXNcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3NlbWFudGljc1xuLy8gaHR0cHM6Ly9zaW1vbi5odG1sNS5vcmcvaHRtbC1lbGVtZW50c1xuLy8gU2FmZSBWb2lkIEVsZW1lbnRzIC0gSFRNTDVcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3ZvaWQtZWxlbWVudHNcbmNvbnN0IFZPSURfRUxFTUVOVFMgPSB0YWdTZXQoJ2FyZWEsYnIsY29sLGhyLGltZyx3YnInKTtcbi8vIEVsZW1lbnRzIHRoYXQgeW91IGNhbiwgaW50ZW50aW9uYWxseSwgbGVhdmUgb3BlbiAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNvcHRpb25hbC10YWdzXG5jb25zdCBPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTID0gdGFnU2V0KCdjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyJyk7XG5jb25zdCBPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUyA9IHRhZ1NldCgncnAscnQnKTtcbmNvbnN0IE9QVElPTkFMX0VORF9UQUdfRUxFTUVOVFMgPSBtZXJnZShPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUywgT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyk7XG4vLyBTYWZlIEJsb2NrIEVsZW1lbnRzIC0gSFRNTDVcbmNvbnN0IEJMT0NLX0VMRU1FTlRTID0gbWVyZ2UoT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUywgdGFnU2V0KCdhZGRyZXNzLGFydGljbGUsJyArXG4gICAgJ2FzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRldGFpbHMsZGlhbG9nLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LCcgK1xuICAgICdoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYWluLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbixzdW1tYXJ5LHRhYmxlLHVsJykpO1xuLy8gSW5saW5lIEVsZW1lbnRzIC0gSFRNTDVcbmNvbnN0IElOTElORV9FTEVNRU5UUyA9IG1lcmdlKE9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTLCB0YWdTZXQoJ2EsYWJicixhY3JvbnltLGF1ZGlvLGIsJyArXG4gICAgJ2JkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxwaWN0dXJlLHEscnVieSxycCxydCxzLCcgK1xuICAgICdzYW1wLHNtYWxsLHNvdXJjZSxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHRyYWNrLHR0LHUsdmFyLHZpZGVvJykpO1xuY29uc3QgVkFMSURfRUxFTUVOVFMgPSBtZXJnZShWT0lEX0VMRU1FTlRTLCBCTE9DS19FTEVNRU5UUywgSU5MSU5FX0VMRU1FTlRTLCBPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTKTtcbi8vIEF0dHJpYnV0ZXMgdGhhdCBoYXZlIGhyZWYgYW5kIGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG5jb25zdCBVUklfQVRUUlMgPSB0YWdTZXQoJ2JhY2tncm91bmQsY2l0ZSxocmVmLGl0ZW10eXBlLGxvbmdkZXNjLHBvc3RlcixzcmMseGxpbms6aHJlZicpO1xuLy8gQXR0cmlidXRlcyB0aGF0IGhhdmUgc3BlY2lhbCBocmVmIHNldCBoZW5jZSBuZWVkIHRvIGJlIHNhbml0aXplZFxuY29uc3QgU1JDU0VUX0FUVFJTID0gdGFnU2V0KCdzcmNzZXQnKTtcbmNvbnN0IEhUTUxfQVRUUlMgPSB0YWdTZXQoJ2FiYnIsYWNjZXNza2V5LGFsaWduLGFsdCxhdXRvcGxheSxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLGNvbG9yLGNvbHMsY29sc3BhbiwnICtcbiAgICAnY29tcGFjdCxjb250cm9scyxjb29yZHMsZGF0ZXRpbWUsZGVmYXVsdCxkaXIsZG93bmxvYWQsZmFjZSxoZWFkZXJzLGhlaWdodCxoaWRkZW4saHJlZmxhbmcsaHNwYWNlLCcgK1xuICAgICdpc21hcCxpdGVtc2NvcGUsaXRlbXByb3Asa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvb3AsbWVkaWEsbXV0ZWQsbm9ocmVmLG5vd3JhcCxvcGVuLHByZWxvYWQscmVsLHJldixyb2xlLHJvd3Mscm93c3BhbixydWxlcywnICtcbiAgICAnc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc2l6ZXMsc3BhbixzcmNsYW5nLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCwnICtcbiAgICAndmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCcpO1xuLy8gQWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzIGFzIHBlciBXQUktQVJJQSAxLjEgKFczQyBXb3JraW5nIERyYWZ0IDE0IERlY2VtYmVyIDIwMTgpXG5jb25zdCBBUklBX0FUVFJTID0gdGFnU2V0KCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQsYXJpYS1hdG9taWMsYXJpYS1hdXRvY29tcGxldGUsYXJpYS1idXN5LGFyaWEtY2hlY2tlZCxhcmlhLWNvbGNvdW50LGFyaWEtY29saW5kZXgsJyArXG4gICAgJ2FyaWEtY29sc3BhbixhcmlhLWNvbnRyb2xzLGFyaWEtY3VycmVudCxhcmlhLWRlc2NyaWJlZGJ5LGFyaWEtZGV0YWlscyxhcmlhLWRpc2FibGVkLGFyaWEtZHJvcGVmZmVjdCwnICtcbiAgICAnYXJpYS1lcnJvcm1lc3NhZ2UsYXJpYS1leHBhbmRlZCxhcmlhLWZsb3d0byxhcmlhLWdyYWJiZWQsYXJpYS1oYXNwb3B1cCxhcmlhLWhpZGRlbixhcmlhLWludmFsaWQsJyArXG4gICAgJ2FyaWEta2V5c2hvcnRjdXRzLGFyaWEtbGFiZWwsYXJpYS1sYWJlbGxlZGJ5LGFyaWEtbGV2ZWwsYXJpYS1saXZlLGFyaWEtbW9kYWwsYXJpYS1tdWx0aWxpbmUsJyArXG4gICAgJ2FyaWEtbXVsdGlzZWxlY3RhYmxlLGFyaWEtb3JpZW50YXRpb24sYXJpYS1vd25zLGFyaWEtcGxhY2Vob2xkZXIsYXJpYS1wb3NpbnNldCxhcmlhLXByZXNzZWQsYXJpYS1yZWFkb25seSwnICtcbiAgICAnYXJpYS1yZWxldmFudCxhcmlhLXJlcXVpcmVkLGFyaWEtcm9sZWRlc2NyaXB0aW9uLGFyaWEtcm93Y291bnQsYXJpYS1yb3dpbmRleCxhcmlhLXJvd3NwYW4sYXJpYS1zZWxlY3RlZCwnICtcbiAgICAnYXJpYS1zZXRzaXplLGFyaWEtc29ydCxhcmlhLXZhbHVlbWF4LGFyaWEtdmFsdWVtaW4sYXJpYS12YWx1ZW5vdyxhcmlhLXZhbHVldGV4dCcpO1xuLy8gTkI6IFRoaXMgY3VycmVudGx5IGNvbnNjaW91c2x5IGRvZXNuJ3Qgc3VwcG9ydCBTVkcuIFNWRyBzYW5pdGl6YXRpb24gaGFzIGhhZCBzZXZlcmFsIHNlY3VyaXR5XG4vLyBpc3N1ZXMgaW4gdGhlIHBhc3QsIHNvIGl0IHNlZW1zIHNhZmVyIHRvIGxlYXZlIGl0IG91dCBpZiBwb3NzaWJsZS4gSWYgc3VwcG9ydCBmb3IgYmluZGluZyBTVkcgdmlhXG4vLyBpbm5lckhUTUwgaXMgcmVxdWlyZWQsIFNWRyBhdHRyaWJ1dGVzIHNob3VsZCBiZSBhZGRlZCBoZXJlLlxuLy8gTkI6IFNhbml0aXphdGlvbiBkb2VzIG5vdCBhbGxvdyA8Zm9ybT4gZWxlbWVudHMgb3Igb3RoZXIgYWN0aXZlIGVsZW1lbnRzICg8YnV0dG9uPiBldGMpLiBUaG9zZVxuLy8gY2FuIGJlIHNhbml0aXplZCwgYnV0IHRoZXkgaW5jcmVhc2Ugc2VjdXJpdHkgc3VyZmFjZSBhcmVhIHdpdGhvdXQgYSBsZWdpdGltYXRlIHVzZSBjYXNlLCBzbyB0aGV5XG4vLyBhcmUgbGVmdCBvdXQgaGVyZS5cbmNvbnN0IFZBTElEX0FUVFJTID0gbWVyZ2UoVVJJX0FUVFJTLCBTUkNTRVRfQVRUUlMsIEhUTUxfQVRUUlMsIEFSSUFfQVRUUlMpO1xuLy8gRWxlbWVudHMgd2hvc2UgY29udGVudCBzaG91bGQgbm90IGJlIHRyYXZlcnNlZC9wcmVzZXJ2ZWQsIGlmIHRoZSBlbGVtZW50cyB0aGVtc2VsdmVzIGFyZSBpbnZhbGlkLlxuLy9cbi8vIFR5cGljYWxseSwgYDxpbnZhbGlkPlNvbWUgY29udGVudDwvaW52YWxpZD5gIHdvdWxkIHRyYXZlcnNlIChhbmQgaW4gdGhpcyBjYXNlIHByZXNlcnZlKVxuLy8gYFNvbWUgY29udGVudGAsIGJ1dCBzdHJpcCBgaW52YWxpZC1lbGVtZW50YCBvcGVuaW5nL2Nsb3NpbmcgdGFncy4gRm9yIHNvbWUgZWxlbWVudHMsIHRob3VnaCwgd2Vcbi8vIGRvbid0IHdhbnQgdG8gcHJlc2VydmUgdGhlIGNvbnRlbnQsIGlmIHRoZSBlbGVtZW50cyB0aGVtc2VsdmVzIGFyZSBnb2luZyB0byBiZSByZW1vdmVkLlxuY29uc3QgU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UUyA9IHRhZ1NldCgnc2NyaXB0LHN0eWxlLHRlbXBsYXRlJyk7XG4vKipcbiAqIFNhbml0aXppbmdIdG1sU2VyaWFsaXplciBzZXJpYWxpemVzIGEgRE9NIGZyYWdtZW50LCBzdHJpcHBpbmcgb3V0IGFueSB1bnNhZmUgZWxlbWVudHMgYW5kIHVuc2FmZVxuICogYXR0cmlidXRlcy5cbiAqL1xuY2xhc3MgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gRXhwbGljaXRseSB0cmFjayBpZiBzb21ldGhpbmcgd2FzIHN0cmlwcGVkLCB0byBhdm9pZCBhY2NpZGVudGFsbHkgd2FybmluZyBvZiBzYW5pdGl6YXRpb24ganVzdFxuICAgICAgICAvLyBiZWNhdXNlIGNoYXJhY3RlcnMgd2VyZSByZS1lbmNvZGVkLlxuICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgIH1cbiAgICBzYW5pdGl6ZUNoaWxkcmVuKGVsKSB7XG4gICAgICAgIC8vIFRoaXMgY2Fubm90IHVzZSBhIFRyZWVXYWxrZXIsIGFzIGl0IGhhcyB0byBydW4gb24gQW5ndWxhcidzIHZhcmlvdXMgRE9NIGFkYXB0ZXJzLlxuICAgICAgICAvLyBIb3dldmVyIHRoaXMgY29kZSBuZXZlciBhY2Nlc3NlcyBwcm9wZXJ0aWVzIG9mZiBvZiBgZG9jdW1lbnRgIGJlZm9yZSBkZWxldGluZyBpdHMgY29udGVudHNcbiAgICAgICAgLy8gYWdhaW4sIHNvIGl0IHNob3VsZG4ndCBiZSB2dWxuZXJhYmxlIHRvIERPTSBjbG9iYmVyaW5nLlxuICAgICAgICBsZXQgY3VycmVudCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGxldCB0cmF2ZXJzZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2VDb250ZW50ID0gdGhpcy5zdGFydEVsZW1lbnQoY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnMoY3VycmVudC5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU3RyaXAgbm9uLWVsZW1lbnQsIG5vbi10ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmF2ZXJzZUNvbnRlbnQgJiYgY3VycmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gTGVhdmluZyB0aGUgZWxlbWVudC4gV2FsayB1cCBhbmQgdG8gdGhlIHJpZ2h0LCBjbG9zaW5nIHRhZ3MgYXMgd2UgZ28uXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kRWxlbWVudChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChjdXJyZW50LCBjdXJyZW50Lm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChjdXJyZW50LCBjdXJyZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FuaXRpemVzIGFuIG9wZW5pbmcgZWxlbWVudCB0YWcgKGlmIHZhbGlkKSBhbmQgcmV0dXJucyB3aGV0aGVyIHRoZSBlbGVtZW50J3MgY29udGVudHMgc2hvdWxkXG4gICAgICogYmUgdHJhdmVyc2VkLiBFbGVtZW50IGNvbnRlbnQgbXVzdCBhbHdheXMgYmUgdHJhdmVyc2VkIChldmVuIGlmIHRoZSBlbGVtZW50IGl0c2VsZiBpcyBub3RcbiAgICAgKiB2YWxpZC9zYWZlKSwgdW5sZXNzIHRoZSBlbGVtZW50IGlzIG9uZSBvZiBgU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UU2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzYW5pdGl6ZS5cbiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIGVsZW1lbnQncyBjb250ZW50cyBzaG91bGQgYmUgdHJhdmVyc2VkLlxuICAgICAqL1xuICAgIHN0YXJ0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAhU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc8Jyk7XG4gICAgICAgIHRoaXMuYnVmLnB1c2godGFnTmFtZSk7XG4gICAgICAgIGNvbnN0IGVsQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxBdHRyID0gZWxBdHRycy5pdGVtKGkpO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBlbEF0dHIubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyID0gYXR0ck5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghVkFMSURfQVRUUlMuaGFzT3duUHJvcGVydHkobG93ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZWxBdHRyLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyhtYXJ0aW5wcm9ic3QpOiBTcGVjaWFsIGNhc2UgaW1hZ2UgVVJJcyBmb3IgZGF0YTppbWFnZS8uLi5cbiAgICAgICAgICAgIGlmIChVUklfQVRUUlNbbG93ZXJdKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3Nhbml0aXplVXJsKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChTUkNTRVRfQVRUUlNbbG93ZXJdKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gc2FuaXRpemVTcmNzZXQodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnICcsIGF0dHJOYW1lLCAnPVwiJywgZW5jb2RlRW50aXRpZXModmFsdWUpLCAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbmRFbGVtZW50KGN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGN1cnJlbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKFZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpICYmICFWT0lEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc8LycpO1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCh0YWdOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2goJz4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGFycyhjaGFycykge1xuICAgICAgICB0aGlzLmJ1Zi5wdXNoKGVuY29kZUVudGl0aWVzKGNoYXJzKSk7XG4gICAgfVxuICAgIGNoZWNrQ2xvYmJlcmVkRWxlbWVudChub2RlLCBuZXh0Tm9kZSkge1xuICAgICAgICBpZiAobmV4dE5vZGUgJiZcbiAgICAgICAgICAgIChub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHROb2RlKSAmXG4gICAgICAgICAgICAgICAgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpID09PSBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogJHtub2RlLm91dGVySFRNTH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dE5vZGU7XG4gICAgfVxufVxuLy8gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgcGFyc2luZyB0YWdzIGFuZCBhdHRyaWJ1dGVzXG5jb25zdCBTVVJST0dBVEVfUEFJUl9SRUdFWFAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nO1xuLy8gISB0byB+IGlzIHRoZSBBU0NJSSByYW5nZS5cbmNvbnN0IE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQID0gLyhbXlxcIy1+IHwhXSkvZztcbi8qKlxuICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXG4gKiByZXN1bHRpbmcgc3RyaW5nIGNhbiBiZSBzYWZlbHkgaW5zZXJ0ZWQgaW50byBhdHRyaWJ1dGUgb3JcbiAqIGVsZW1lbnQgdGV4dC5cbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5mdW5jdGlvbiBlbmNvZGVFbnRpdGllcyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKFNVUlJPR0FURV9QQUlSX1JFR0VYUCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGhpID0gbWF0Y2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgY29uc3QgbG93ID0gbWF0Y2guY2hhckNvZGVBdCgxKTtcbiAgICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuICcmIycgKyBtYXRjaC5jaGFyQ29kZUF0KDApICsgJzsnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn1cbmxldCBpbmVydEJvZHlIZWxwZXI7XG4vKipcbiAqIFNhbml0aXplcyB0aGUgZ2l2ZW4gdW5zYWZlLCB1bnRydXN0ZWQgSFRNTCBmcmFnbWVudCwgYW5kIHJldHVybnMgSFRNTCB0ZXh0IHRoYXQgaXMgc2FmZSB0byBhZGQgdG9cbiAqIHRoZSBET00gaW4gYSBicm93c2VyIGVudmlyb25tZW50LlxuICovXG5mdW5jdGlvbiBfc2FuaXRpemVIdG1sKGRlZmF1bHREb2MsIHVuc2FmZUh0bWxJbnB1dCkge1xuICAgIGxldCBpbmVydEJvZHlFbGVtZW50ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgICBpbmVydEJvZHlIZWxwZXIgPSBpbmVydEJvZHlIZWxwZXIgfHwgZ2V0SW5lcnRCb2R5SGVscGVyKGRlZmF1bHREb2MpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdW5zYWZlSHRtbCBpcyBhY3R1YWxseSBhIHN0cmluZyAoVHlwZVNjcmlwdCB0eXBlcyBhcmUgbm90IGVuZm9yY2VkIGF0IHJ1bnRpbWUpLlxuICAgICAgICBsZXQgdW5zYWZlSHRtbCA9IHVuc2FmZUh0bWxJbnB1dCA/IFN0cmluZyh1bnNhZmVIdG1sSW5wdXQpIDogJyc7XG4gICAgICAgIGluZXJ0Qm9keUVsZW1lbnQgPSBpbmVydEJvZHlIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudCh1bnNhZmVIdG1sKTtcbiAgICAgICAgLy8gbVhTUyBwcm90ZWN0aW9uLiBSZXBlYXRlZGx5IHBhcnNlIHRoZSBkb2N1bWVudCB0byBtYWtlIHN1cmUgaXQgc3RhYmlsaXplcywgc28gdGhhdCBhIGJyb3dzZXJcbiAgICAgICAgLy8gdHJ5aW5nIHRvIGF1dG8tY29ycmVjdCBpbmNvcnJlY3QgSFRNTCBjYW5ub3QgY2F1c2UgZm9ybWVybHkgaW5lcnQgSFRNTCB0byBiZWNvbWUgZGFuZ2Vyb3VzLlxuICAgICAgICBsZXQgbVhTU0F0dGVtcHRzID0gNTtcbiAgICAgICAgbGV0IHBhcnNlZEh0bWwgPSB1bnNhZmVIdG1sO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAobVhTU0F0dGVtcHRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbVhTU0F0dGVtcHRzLS07XG4gICAgICAgICAgICB1bnNhZmVIdG1sID0gcGFyc2VkSHRtbDtcbiAgICAgICAgICAgIHBhcnNlZEh0bWwgPSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgIGluZXJ0Qm9keUVsZW1lbnQgPSBpbmVydEJvZHlIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudCh1bnNhZmVIdG1sKTtcbiAgICAgICAgfSB3aGlsZSAodW5zYWZlSHRtbCAhPT0gcGFyc2VkSHRtbCk7XG4gICAgICAgIGNvbnN0IHNhbml0aXplciA9IG5ldyBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgY29uc3Qgc2FmZUh0bWwgPSBzYW5pdGl6ZXIuc2FuaXRpemVDaGlsZHJlbihnZXRUZW1wbGF0ZUNvbnRlbnQoaW5lcnRCb2R5RWxlbWVudCkgfHwgaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICAgIGlmICgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBzYW5pdGl6ZXIuc2FuaXRpemVkU29tZXRoaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IHNhbml0aXppbmcgSFRNTCBzdHJpcHBlZCBzb21lIGNvbnRlbnQsIHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydXN0ZWRIVE1MRnJvbVN0cmluZyhzYWZlSHRtbCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAvLyBJbiBjYXNlIGFueXRoaW5nIGdvZXMgd3JvbmcsIGNsZWFyIG91dCBpbmVydEVsZW1lbnQgdG8gcmVzZXQgdGhlIGVudGlyZSBET00gc3RydWN0dXJlLlxuICAgICAgICBpZiAoaW5lcnRCb2R5RWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0VGVtcGxhdGVDb250ZW50KGluZXJ0Qm9keUVsZW1lbnQpIHx8IGluZXJ0Qm9keUVsZW1lbnQ7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VGVtcGxhdGVDb250ZW50KGVsKSB7XG4gICAgcmV0dXJuICdjb250ZW50JyBpbiBlbCAvKiogTWljcm9zb2Z0L1R5cGVTY3JpcHQjMjE1MTcgKi8gJiYgaXNUZW1wbGF0ZUVsZW1lbnQoZWwpID9cbiAgICAgICAgZWwuY29udGVudCA6XG4gICAgICAgIG51bGw7XG59XG5mdW5jdGlvbiBpc1RlbXBsYXRlRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgZWwubm9kZU5hbWUgPT09ICdURU1QTEFURSc7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFNlY3VyaXR5Q29udGV4dCBtYXJrcyBhIGxvY2F0aW9uIHRoYXQgaGFzIGRhbmdlcm91cyBzZWN1cml0eSBpbXBsaWNhdGlvbnMsIGUuZy4gYSBET00gcHJvcGVydHlcbiAqIGxpa2UgYGlubmVySFRNTGAgdGhhdCBjb3VsZCBjYXVzZSBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKSBzZWN1cml0eSBidWdzIHdoZW4gaW1wcm9wZXJseVxuICogaGFuZGxlZC5cbiAqXG4gKiBTZWUgRG9tU2FuaXRpemVyIGZvciBtb3JlIGRldGFpbHMgb24gc2VjdXJpdHkgaW4gQW5ndWxhciBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgU2VjdXJpdHlDb250ZXh0O1xuKGZ1bmN0aW9uIChTZWN1cml0eUNvbnRleHQpIHtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIkhUTUxcIl0gPSAxXSA9IFwiSFRNTFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJTVFlMRVwiXSA9IDJdID0gXCJTVFlMRVwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJTQ1JJUFRcIl0gPSAzXSA9IFwiU0NSSVBUXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlVSTFwiXSA9IDRdID0gXCJVUkxcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiUkVTT1VSQ0VfVVJMXCJdID0gNV0gPSBcIlJFU09VUkNFX1VSTFwiO1xufSkoU2VjdXJpdHlDb250ZXh0IHx8IChTZWN1cml0eUNvbnRleHQgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gYGh0bWxgIHNhbml0aXplciB3aGljaCBjb252ZXJ0cyB1bnRydXN0ZWQgYGh0bWxgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzIGNvbnRlbnQuXG4gKlxuICogVGhpcyBtZXRob2QgcGFyc2VzIHRoZSBgaHRtbGAgYW5kIGxvY2F0ZXMgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNvbnRlbnQgKHN1Y2ggYXMgdXJscyBhbmRcbiAqIGphdmFzY3JpcHQpIGFuZCByZW1vdmVzIGl0LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWx9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVIdG1sIHVudHJ1c3RlZCBgaHRtbGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYGh0bWxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGRpc3BsYXkgdG8gdXNlciwgYmVjYXVzZSBhbGwgb2YgdGhlIGRhbmdlcm91cyBqYXZhc2NyaXB0XG4gKiBhbmQgdXJscyBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVIdG1sKHVuc2FmZUh0bWwpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmdCeXBhc3Moc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5IVE1MLCB1bnNhZmVIdG1sKSB8fCAnJyk7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZUh0bWwsIFwiSFRNTFwiIC8qIEh0bWwgKi8pKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmdCeXBhc3ModW53cmFwU2FmZVZhbHVlKHVuc2FmZUh0bWwpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9zYW5pdGl6ZUh0bWwoZ2V0RG9jdW1lbnQoKSwgcmVuZGVyU3RyaW5naWZ5KHVuc2FmZUh0bWwpKTtcbn1cbi8qKlxuICogQSBgc3R5bGVgIHNhbml0aXplciB3aGljaCBjb252ZXJ0cyB1bnRydXN0ZWQgYHN0eWxlYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91cyBjb250ZW50LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlU3R5bGUgdW50cnVzdGVkIGBzdHlsZWAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHN0eWxlYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgc3R5bGVgIHByb3BlcnRpZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplU3R5bGUodW5zYWZlU3R5bGUpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlNUWUxFLCB1bnNhZmVTdHlsZSkgfHwgJyc7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVN0eWxlLCBcIlN0eWxlXCIgLyogU3R5bGUgKi8pKSB7XG4gICAgICAgIHJldHVybiB1bndyYXBTYWZlVmFsdWUodW5zYWZlU3R5bGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyU3RyaW5naWZ5KHVuc2FmZVN0eWxlKTtcbn1cbi8qKlxuICogQSBgdXJsYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGB1cmxgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzXG4gKiBjb250ZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGUgYHVybGAgYW5kIGxvY2F0ZXMgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNvbnRlbnQgKHN1Y2ggYXMgamF2YXNjcmlwdCkgYW5kXG4gKiByZW1vdmVzIGl0LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVVybCB1bnRydXN0ZWQgYHVybGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHNyY2AgcHJvcGVydGllcyBzdWNoIGFzIGA8aW1nIHNyYz5gLCBiZWNhdXNlXG4gKiBhbGwgb2YgdGhlIGRhbmdlcm91cyBqYXZhc2NyaXB0IGhhcyBiZWVuIHJlbW92ZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplVXJsKHVuc2FmZVVybCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuVVJMLCB1bnNhZmVVcmwpIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVVcmwsIFwiVVJMXCIgLyogVXJsICovKSkge1xuICAgICAgICByZXR1cm4gdW53cmFwU2FmZVZhbHVlKHVuc2FmZVVybCk7XG4gICAgfVxuICAgIHJldHVybiBfc2FuaXRpemVVcmwocmVuZGVyU3RyaW5naWZ5KHVuc2FmZVVybCkpO1xufVxuLyoqXG4gKiBBIGB1cmxgIHNhbml0aXplciB3aGljaCBvbmx5IGxldHMgdHJ1c3RlZCBgdXJsYHMgdGhyb3VnaC5cbiAqXG4gKiBUaGlzIHBhc3NlcyBvbmx5IGB1cmxgcyBtYXJrZWQgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlUmVzb3VyY2VVcmwgdW50cnVzdGVkIGB1cmxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGBzcmNgIHByb3BlcnRpZXMgc3VjaCBhcyBgPGltZyBzcmM+YCwgYmVjYXVzZVxuICogb25seSB0cnVzdGVkIGB1cmxgcyBoYXZlIGJlZW4gYWxsb3dlZCB0byBwYXNzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsKHVuc2FmZVJlc291cmNlVXJsKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3Moc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5SRVNPVVJDRV9VUkwsIHVuc2FmZVJlc291cmNlVXJsKSB8fCAnJyk7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVJlc291cmNlVXJsLCBcIlJlc291cmNlVVJMXCIgLyogUmVzb3VyY2VVcmwgKi8pKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZ0J5cGFzcyh1bndyYXBTYWZlVmFsdWUodW5zYWZlUmVzb3VyY2VVcmwpKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAndW5zYWZlIHZhbHVlIHVzZWQgaW4gYSByZXNvdXJjZSBVUkwgY29udGV4dCAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpJyA6XG4gICAgICAgICcnO1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTA0IC8qIFVOU0FGRV9WQUxVRV9JTl9SRVNPVVJDRV9VUkwgKi8sIGVycm9yTWVzc2FnZSk7XG59XG4vKipcbiAqIEEgYHNjcmlwdGAgc2FuaXRpemVyIHdoaWNoIG9ubHkgbGV0cyB0cnVzdGVkIGphdmFzY3JpcHQgdGhyb3VnaC5cbiAqXG4gKiBUaGlzIHBhc3NlcyBvbmx5IGBzY3JpcHRgcyBtYXJrZWQgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGlua1xuICogYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHR9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVTY3JpcHQgdW50cnVzdGVkIGBzY3JpcHRgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGA8c2NyaXB0PmAgZWxlbWVudCBzdWNoIGFzIGA8aW1nIHNyYz5gLFxuICogYmVjYXVzZSBvbmx5IHRydXN0ZWQgYHNjcmlwdHNgIGhhdmUgYmVlbiBhbGxvd2VkIHRvIHBhc3MuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplU2NyaXB0KHVuc2FmZVNjcmlwdCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzKHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuU0NSSVBULCB1bnNhZmVTY3JpcHQpIHx8ICcnKTtcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlU2NyaXB0LCBcIlNjcmlwdFwiIC8qIFNjcmlwdCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzKHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVTY3JpcHQpKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAndW5zYWZlIHZhbHVlIHVzZWQgaW4gYSBzY3JpcHQgY29udGV4dCcgOlxuICAgICAgICAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwNSAvKiBVTlNBRkVfVkFMVUVfSU5fU0NSSVBUICovLCBlcnJvck1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBIHRlbXBsYXRlIHRhZyBmdW5jdGlvbiBmb3IgcHJvbW90aW5nIHRoZSBhc3NvY2lhdGVkIGNvbnN0YW50IGxpdGVyYWwgdG8gYVxuICogVHJ1c3RlZEhUTUwuIEludGVycG9sYXRpb24gaXMgZXhwbGljaXRseSBub3QgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0gaHRtbCBjb25zdGFudCB0ZW1wbGF0ZSBsaXRlcmFsIGNvbnRhaW5pbmcgdHJ1c3RlZCBIVE1MLlxuICogQHJldHVybnMgVHJ1c3RlZEhUTUwgd3JhcHBpbmcgYGh0bWxgLlxuICpcbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uIGFuZCBzaG91bGQgb25seSBiZSB1c2VkIHRvXG4gKiBjb252ZXJ0IGNvbnN0YW50IHZhbHVlcyBvZiBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzIGZvdW5kIGluXG4gKiBhcHBsaWNhdGlvbi1wcm92aWRlZCBBbmd1bGFyIHRlbXBsYXRlcyB0byBUcnVzdGVkSFRNTC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dHJ1c3RDb25zdGFudEh0bWwoaHRtbCkge1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgcnVudGltZSBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQgYXMgYVxuICAgIC8vIHRlbXBsYXRlIHRhZyAoZS5nLiDJtcm1dHJ1c3RDb25zdGFudEh0bWxgY29udGVudGApLCB3aXRob3V0IGFueSBpbnRlcnBvbGF0aW9uXG4gICAgLy8gKGUuZy4gbm90IMm1ybV0cnVzdENvbnN0YW50SHRtbGBjb250ZW50ICR7dmFyaWFibGV9YCkuIEEgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICAvLyBpcyBhbiBhcnJheSB3aXRoIGEgYHJhd2AgcHJvcGVydHkgdGhhdCBpcyBhbHNvIGFuIGFycmF5LiBUaGUgYXNzb2NpYXRlZFxuICAgIC8vIHRlbXBsYXRlIGxpdGVyYWwgaGFzIG5vIGludGVycG9sYXRpb24gaWYgYW5kIG9ubHkgaWYgdGhlIGxlbmd0aCBvZiB0aGVcbiAgICAvLyBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyAxLlxuICAgIGlmIChuZ0Rldk1vZGUgJiYgKCFBcnJheS5pc0FycmF5KGh0bWwpIHx8ICFBcnJheS5pc0FycmF5KGh0bWwucmF3KSB8fCBodG1sLmxlbmd0aCAhPT0gMSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGludGVycG9sYXRpb24gaW4gdHJ1c3RlZCBIVE1MIGNvbnN0YW50OiAke2h0bWwuam9pbignPycpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWxbMF0pO1xufVxuLyoqXG4gKiBBIHRlbXBsYXRlIHRhZyBmdW5jdGlvbiBmb3IgcHJvbW90aW5nIHRoZSBhc3NvY2lhdGVkIGNvbnN0YW50IGxpdGVyYWwgdG8gYVxuICogVHJ1c3RlZFNjcmlwdFVSTC4gSW50ZXJwb2xhdGlvbiBpcyBleHBsaWNpdGx5IG5vdCBhbGxvd2VkLlxuICpcbiAqIEBwYXJhbSB1cmwgY29uc3RhbnQgdGVtcGxhdGUgbGl0ZXJhbCBjb250YWluaW5nIGEgdHJ1c3RlZCBzY3JpcHQgVVJMLlxuICogQHJldHVybnMgVHJ1c3RlZFNjcmlwdFVSTCB3cmFwcGluZyBgdXJsYC5cbiAqXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbiBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZCB0b1xuICogY29udmVydCBjb25zdGFudCB2YWx1ZXMgb2YgYXR0cmlidXRlcyBhbmQgcHJvcGVydGllcyBmb3VuZCBpblxuICogYXBwbGljYXRpb24tcHJvdmlkZWQgQW5ndWxhciB0ZW1wbGF0ZXMgdG8gVHJ1c3RlZFNjcmlwdFVSTC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsKHVybCkge1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgcnVudGltZSBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQgYXMgYVxuICAgIC8vIHRlbXBsYXRlIHRhZyAoZS5nLiDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsYGNvbnRlbnRgKSwgd2l0aG91dCBhbnlcbiAgICAvLyBpbnRlcnBvbGF0aW9uIChlLmcuIG5vdCDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsYGNvbnRlbnQgJHt2YXJpYWJsZX1gKS4gQVxuICAgIC8vIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIGFuIGFycmF5IHdpdGggYSBgcmF3YCBwcm9wZXJ0eSB0aGF0IGlzIGFsc28gYW5cbiAgICAvLyBhcnJheS4gVGhlIGFzc29jaWF0ZWQgdGVtcGxhdGUgbGl0ZXJhbCBoYXMgbm8gaW50ZXJwb2xhdGlvbiBpZiBhbmQgb25seSBpZlxuICAgIC8vIHRoZSBsZW5ndGggb2YgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIDEuXG4gICAgaWYgKG5nRGV2TW9kZSAmJiAoIUFycmF5LmlzQXJyYXkodXJsKSB8fCAhQXJyYXkuaXNBcnJheSh1cmwucmF3KSB8fCB1cmwubGVuZ3RoICE9PSAxKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW50ZXJwb2xhdGlvbiBpbiB0cnVzdGVkIFVSTCBjb25zdGFudDogJHt1cmwuam9pbignPycpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmcodXJsWzBdKTtcbn1cbi8qKlxuICogRGV0ZWN0cyB3aGljaCBzYW5pdGl6ZXIgdG8gdXNlIGZvciBVUkwgcHJvcGVydHksIGJhc2VkIG9uIHRhZyBuYW1lIGFuZCBwcm9wIG5hbWUuXG4gKlxuICogVGhlIHJ1bGVzIGFyZSBiYXNlZCBvbiB0aGUgUkVTT1VSQ0VfVVJMIGNvbnRleHQgY29uZmlnIGZyb21cbiAqIGBwYWNrYWdlcy9jb21waWxlci9zcmMvc2NoZW1hL2RvbV9zZWN1cml0eV9zY2hlbWEudHNgLlxuICogSWYgdGFnIGFuZCBwcm9wIG5hbWVzIGRvbid0IG1hdGNoIFJlc291cmNlIFVSTCBzY2hlbWEsIHVzZSBVUkwgc2FuaXRpemVyLlxuICovXG5mdW5jdGlvbiBnZXRVcmxTYW5pdGl6ZXIodGFnLCBwcm9wKSB7XG4gICAgaWYgKChwcm9wID09PSAnc3JjJyAmJlxuICAgICAgICAodGFnID09PSAnZW1iZWQnIHx8IHRhZyA9PT0gJ2ZyYW1lJyB8fCB0YWcgPT09ICdpZnJhbWUnIHx8IHRhZyA9PT0gJ21lZGlhJyB8fFxuICAgICAgICAgICAgdGFnID09PSAnc2NyaXB0JykpIHx8XG4gICAgICAgIChwcm9wID09PSAnaHJlZicgJiYgKHRhZyA9PT0gJ2Jhc2UnIHx8IHRhZyA9PT0gJ2xpbmsnKSkpIHtcbiAgICAgICAgcmV0dXJuIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXNhbml0aXplVXJsO1xufVxuLyoqXG4gKiBTYW5pdGl6ZXMgVVJMLCBzZWxlY3Rpbmcgc2FuaXRpemVyIGZ1bmN0aW9uIGJhc2VkIG9uIHRhZyBhbmQgcHJvcGVydHkgbmFtZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGluIGNhc2Ugd2UgY2FuJ3QgZGVmaW5lIHNlY3VyaXR5IGNvbnRleHQgYXQgY29tcGlsZSB0aW1lLCB3aGVuIG9ubHkgcHJvcFxuICogbmFtZSBpcyBhdmFpbGFibGUuIFRoaXMgaGFwcGVucyB3aGVuIHdlIGdlbmVyYXRlIGhvc3QgYmluZGluZ3MgZm9yIERpcmVjdGl2ZXMvQ29tcG9uZW50cy4gVGhlXG4gKiBob3N0IGVsZW1lbnQgaXMgdW5rbm93biBhdCBjb21waWxlIHRpbWUsIHNvIHdlIGRlZmVyIGNhbGN1bGF0aW9uIG9mIHNwZWNpZmljIHNhbml0aXplciB0b1xuICogcnVudGltZS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlVXJsIHVudHJ1c3RlZCBgdXJsYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcGFyYW0gdGFnIHRhcmdldCBlbGVtZW50IHRhZyBuYW1lLlxuICogQHBhcmFtIHByb3AgbmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBjb250YWlucyB0aGUgdmFsdWUuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwodW5zYWZlVXJsLCB0YWcsIHByb3ApIHtcbiAgICByZXR1cm4gZ2V0VXJsU2FuaXRpemVyKHRhZywgcHJvcCkodW5zYWZlVXJsKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyhuYW1lKSB7XG4gICAgaWYgKG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdvbicpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBCaW5kaW5nIHRvIGV2ZW50IHByb3BlcnR5ICcke25hbWV9JyBpcyBkaXNhbGxvd2VkIGZvciBzZWN1cml0eSByZWFzb25zLCBgICtcbiAgICAgICAgICAgIGBwbGVhc2UgdXNlICgke25hbWUuc2xpY2UoMil9KT0uLi5gICtcbiAgICAgICAgICAgIGBcXG5JZiAnJHtuYW1lfScgaXMgYSBkaXJlY3RpdmUgaW5wdXQsIG1ha2Ugc3VyZSB0aGUgZGlyZWN0aXZlIGlzIGltcG9ydGVkIGJ5IHRoZWAgK1xuICAgICAgICAgICAgYCBjdXJyZW50IG1vZHVsZS5gO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDMwNiAvKiBJTlZBTElEX0VWRU5UX0JJTkRJTkcgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVBZ2FpbnN0RXZlbnRBdHRyaWJ1dGVzKG5hbWUpIHtcbiAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYEJpbmRpbmcgdG8gZXZlbnQgYXR0cmlidXRlICcke25hbWV9JyBpcyBkaXNhbGxvd2VkIGZvciBzZWN1cml0eSByZWFzb25zLCBgICtcbiAgICAgICAgICAgIGBwbGVhc2UgdXNlICgke25hbWUuc2xpY2UoMil9KT0uLi5gO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDMwNiAvKiBJTlZBTElEX0VWRU5UX0JJTkRJTkcgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0U2FuaXRpemVyKCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gbFZpZXcgJiYgbFZpZXdbU0FOSVRJWkVSXTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIG1hdGNoaW5nIGBMQ29udGV4dGAgZGF0YSBmb3IgYSBnaXZlbiBET00gbm9kZSwgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZXhhbWluZSB0aGUgcHJvdmlkZWQgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCwgb3IgZGlyZWN0aXZlIGluc3RhbmNlXFwnc1xuICogbW9ua2V5LXBhdGNoZWQgcHJvcGVydHkgdG8gZGVyaXZlIHRoZSBgTENvbnRleHRgIGRhdGEuIE9uY2UgY2FsbGVkIHRoZW4gdGhlIG1vbmtleS1wYXRjaGVkXG4gKiB2YWx1ZSB3aWxsIGJlIHRoYXQgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgYExDb250ZXh0YC5cbiAqXG4gKiBJZiB0aGUgbW9ua2V5LXBhdGNoZWQgdmFsdWUgaXMgdGhlIGBMVmlld2AgaW5zdGFuY2UgdGhlbiB0aGUgY29udGV4dCB2YWx1ZSBmb3IgdGhhdFxuICogdGFyZ2V0IHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIG1vbmtleS1wYXRjaCByZWZlcmVuY2Ugd2lsbCBiZSB1cGRhdGVkLiBUaGVyZWZvcmUgd2hlbiB0aGlzXG4gKiBmdW5jdGlvbiBpcyBjYWxsZWQgaXQgbWF5IG11dGF0ZSB0aGUgcHJvdmlkZWQgZWxlbWVudFxcJ3MsIGNvbXBvbmVudFxcJ3Mgb3IgYW55IG9mIHRoZSBhc3NvY2lhdGVkXG4gKiBkaXJlY3RpdmVcXCdzIG1vbmtleS1wYXRjaCB2YWx1ZXMuXG4gKlxuICogSWYgdGhlIG1vbmtleS1wYXRjaCB2YWx1ZSBpcyBub3QgZGV0ZWN0ZWQgdGhlbiB0aGUgY29kZSB3aWxsIHdhbGsgdXAgdGhlIERPTSB1bnRpbCBhbiBlbGVtZW50XG4gKiBpcyBmb3VuZCB3aGljaCBjb250YWlucyBhIG1vbmtleS1wYXRjaCByZWZlcmVuY2UuIFdoZW4gdGhhdCBvY2N1cnMgdGhlbiB0aGUgcHJvdmlkZWQgZWxlbWVudFxuICogd2lsbCBiZSB1cGRhdGVkIHdpdGggYSBuZXcgY29udGV4dCAod2hpY2ggaXMgdGhlbiByZXR1cm5lZCkuIElmIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgaXMgbm90XG4gKiBkZXRlY3RlZCBmb3IgYSBjb21wb25lbnQvZGlyZWN0aXZlIGluc3RhbmNlIHRoZW4gaXQgd2lsbCB0aHJvdyBhbiBlcnJvciAoYWxsIGNvbXBvbmVudHMgYW5kXG4gKiBkaXJlY3RpdmVzIHNob3VsZCBiZSBhdXRvbWF0aWNhbGx5IG1vbmtleS1wYXRjaGVkIGJ5IGl2eSkuXG4gKlxuICogQHBhcmFtIHRhcmdldCBDb21wb25lbnQsIERpcmVjdGl2ZSBvciBET00gTm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TENvbnRleHQodGFyZ2V0KSB7XG4gICAgbGV0IG1wVmFsdWUgPSByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KTtcbiAgICBpZiAobXBWYWx1ZSkge1xuICAgICAgICAvLyBvbmx5IHdoZW4gaXQncyBhbiBhcnJheSBpcyBpdCBjb25zaWRlcmVkIGFuIExWaWV3IGluc3RhbmNlXG4gICAgICAgIC8vIC4uLiBvdGhlcndpc2UgaXQncyBhbiBhbHJlYWR5IGNvbnN0cnVjdGVkIExDb250ZXh0IGluc3RhbmNlXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1wVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBsVmlldyA9IG1wVmFsdWU7XG4gICAgICAgICAgICBsZXQgbm9kZUluZGV4O1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBkaXJlY3RpdmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFDb21wb25lbnQobFZpZXcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBjb21wb25lbnQgd2FzIG5vdCBmb3VuZCBpbiB0aGUgYXBwbGljYXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEaXJlY3RpdmVJbnN0YW5jZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gZmluZFZpYURpcmVjdGl2ZShsVmlldywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHByb3ZpZGVkIGRpcmVjdGl2ZSB3YXMgbm90IGZvdW5kIGluIHRoZSBhcHBsaWNhdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzID0gZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFOYXRpdmVFbGVtZW50KGxWaWV3LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIGdvYWwgaXMgbm90IHRvIGZpbGwgdGhlIGVudGlyZSBjb250ZXh0IGZ1bGwgb2YgZGF0YSBiZWNhdXNlIHRoZSBsb29rdXBzXG4gICAgICAgICAgICAvLyBhcmUgZXhwZW5zaXZlLiBJbnN0ZWFkLCBvbmx5IHRoZSB0YXJnZXQgZGF0YSAodGhlIGVsZW1lbnQsIGNvbXBvbmVudCwgY29udGFpbmVyLCBJQ1VcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gb3IgZGlyZWN0aXZlIGRldGFpbHMpIGFyZSBmaWxsZWQgaW50byB0aGUgY29udGV4dC4gSWYgY2FsbGVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgICAvLyB3aXRoIGRpZmZlcmVudCB0YXJnZXQgdmFsdWVzIHRoZW4gdGhlIG1pc3NpbmcgdGFyZ2V0IGRhdGEgd2lsbCBiZSBmaWxsZWQgaW4uXG4gICAgICAgICAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShsVmlld1tub2RlSW5kZXhdKTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ3R4ID0gcmVhZFBhdGNoZWREYXRhKG5hdGl2ZSk7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gKGV4aXN0aW5nQ3R4ICYmICFBcnJheS5pc0FycmF5KGV4aXN0aW5nQ3R4KSkgP1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ3R4IDpcbiAgICAgICAgICAgICAgICBjcmVhdGVMQ29udGV4dChsVmlldywgbm9kZUluZGV4LCBuYXRpdmUpO1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gZGlzY292ZXJlZCB0aGVuIHVwZGF0ZSB0aGUgbW9ua2V5LXBhdGNoXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbnRleHQuY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5jb21wb25lbnQsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSBkaXJlY3RpdmVzIGhhdmUgYmVlbiBkaXNjb3ZlcmVkIHRoZW4gdXBkYXRlIHRoZSBtb25rZXktcGF0Y2hcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVzICYmIGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZXNbaV0sIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb250ZXh0Lm5hdGl2ZSwgY29udGV4dCk7XG4gICAgICAgICAgICBtcFZhbHVlID0gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgckVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKHJFbGVtZW50KTtcbiAgICAgICAgLy8gaWYgdGhlIGNvbnRleHQgaXMgbm90IGZvdW5kIHRoZW4gd2UgbmVlZCB0byB0cmF2ZXJzZSB1cHdhcmRzIHVwIHRoZSBET01cbiAgICAgICAgLy8gdG8gZmluZCB0aGUgbmVhcmVzdCBlbGVtZW50IHRoYXQgaGFzIGFscmVhZHkgYmVlbiBtb25rZXkgcGF0Y2hlZCB3aXRoIGRhdGFcbiAgICAgICAgbGV0IHBhcmVudCA9IHJFbGVtZW50O1xuICAgICAgICB3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENvbnRleHQgPSByZWFkUGF0Y2hlZERhdGEocGFyZW50KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGxWaWV3O1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmVudENvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gcGFyZW50Q29udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gcGFyZW50Q29udGV4dC5sVmlldztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhlIGVkZ2Ugb2YgdGhlIGFwcCB3YXMgYWxzbyByZWFjaGVkIGhlcmUgdGhyb3VnaCBhbm90aGVyIG1lYW5zXG4gICAgICAgICAgICAgICAgLy8gKG1heWJlIGJlY2F1c2UgdGhlIERPTSB3YXMgY2hhbmdlZCBtYW51YWxseSkuXG4gICAgICAgICAgICAgICAgaWYgKCFsVmlldykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZSA9IHVud3JhcFJOb2RlKGxWaWV3W2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVMQ29udGV4dChsVmlldywgaW5kZXgsIG5hdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBtcFZhbHVlID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtcFZhbHVlIHx8IG51bGw7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgaW5zdGFuY2Ugb2YgYSBgTENvbnRleHRgIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTENvbnRleHQobFZpZXcsIG5vZGVJbmRleCwgbmF0aXZlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbFZpZXcsXG4gICAgICAgIG5vZGVJbmRleCxcbiAgICAgICAgbmF0aXZlLFxuICAgICAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlyZWN0aXZlczogdW5kZWZpbmVkLFxuICAgICAgICBsb2NhbFJlZnM6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBUYWtlcyBhIGNvbXBvbmVudCBpbnN0YW5jZSBhbmQgcmV0dXJucyB0aGUgdmlldyBmb3IgdGhhdCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudEluc3RhbmNlXG4gKiBAcmV0dXJucyBUaGUgY29tcG9uZW50J3Mgdmlld1xuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZShjb21wb25lbnRJbnN0YW5jZSkge1xuICAgIGxldCBsVmlldyA9IHJlYWRQYXRjaGVkRGF0YShjb21wb25lbnRJbnN0YW5jZSk7XG4gICAgbGV0IHZpZXc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobFZpZXcpKSB7XG4gICAgICAgIGNvbnN0IG5vZGVJbmRleCA9IGZpbmRWaWFDb21wb25lbnQobFZpZXcsIGNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgdmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChub2RlSW5kZXgsIGxWaWV3KTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBub2RlSW5kZXgsIHZpZXdbSE9TVF0pO1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29tcG9uZW50SW5zdGFuY2UsIGNvbnRleHQpO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5uYXRpdmUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGxWaWV3O1xuICAgICAgICB2aWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbnRleHQubm9kZUluZGV4LCBjb250ZXh0LmxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIFRoaXMgcHJvcGVydHkgd2lsbCBiZSBtb25rZXktcGF0Y2hlZCBvbiBlbGVtZW50cywgY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlcy5cbiAqL1xuY29uc3QgTU9OS0VZX1BBVENIX0tFWV9OQU1FID0gJ19fbmdDb250ZXh0X18nO1xuLyoqXG4gKiBBc3NpZ25zIHRoZSBnaXZlbiBkYXRhIHRvIHRoZSBnaXZlbiB0YXJnZXQgKHdoaWNoIGNvdWxkIGJlIGEgY29tcG9uZW50LFxuICogZGlyZWN0aXZlIG9yIERPTSBub2RlIGluc3RhbmNlKSB1c2luZyBtb25rZXktcGF0Y2hpbmcuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaFBhdGNoRGF0YSh0YXJnZXQsIGRhdGEpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0YXJnZXQsICdUYXJnZXQgZXhwZWN0ZWQnKTtcbiAgICB0YXJnZXRbTU9OS0VZX1BBVENIX0tFWV9OQU1FXSA9IGRhdGE7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1vbmtleS1wYXRjaCB2YWx1ZSBkYXRhIHByZXNlbnQgb24gdGhlIHRhcmdldCAod2hpY2ggY291bGQgYmVcbiAqIGEgY29tcG9uZW50LCBkaXJlY3RpdmUgb3IgYSBET00gbm9kZSkuXG4gKi9cbmZ1bmN0aW9uIHJlYWRQYXRjaGVkRGF0YSh0YXJnZXQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0YXJnZXQsICdUYXJnZXQgZXhwZWN0ZWQnKTtcbiAgICByZXR1cm4gdGFyZ2V0W01PTktFWV9QQVRDSF9LRVlfTkFNRV0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIHJlYWRQYXRjaGVkTFZpZXcodGFyZ2V0KSB7XG4gICAgY29uc3QgdmFsdWUgPSByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiB2YWx1ZS5sVmlldztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yLsm1Y21wO1xufVxuZnVuY3Rpb24gaXNEaXJlY3RpdmVJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3RvciAmJiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci7JtWRpcjtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgZWxlbWVudCB3aXRoaW4gdGhlIGdpdmVuIExWaWV3IGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBpbmRleFxuICovXG5mdW5jdGlvbiBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgdGFyZ2V0KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgZm9yIChsZXQgaSA9IEhFQURFUl9PRkZTRVQ7IGkgPCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleDsgaSsrKSB7XG4gICAgICAgIGlmICh1bndyYXBSTm9kZShsVmlld1tpXSkgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBuZXh0IHROb2RlIChjaGlsZCwgc2libGluZyBvciBwYXJlbnQpLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZU5leHRFbGVtZW50KHROb2RlKSB7XG4gICAgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5jaGlsZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUubmV4dCkge1xuICAgICAgICByZXR1cm4gdE5vZGUubmV4dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIExldCdzIHRha2UgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTogPGRpdj48c3Bhbj50ZXh0PC9zcGFuPjwvZGl2Pjxjb21wb25lbnQvPlxuICAgICAgICAvLyBBZnRlciBjaGVja2luZyB0aGUgdGV4dCBub2RlLCB3ZSBuZWVkIHRvIGZpbmQgdGhlIG5leHQgcGFyZW50IHRoYXQgaGFzIGEgXCJuZXh0XCIgVE5vZGUsXG4gICAgICAgIC8vIGluIHRoaXMgY2FzZSB0aGUgcGFyZW50IGBkaXZgLCBzbyB0aGF0IHdlIGNhbiBmaW5kIHRoZSBjb21wb25lbnQuXG4gICAgICAgIHdoaWxlICh0Tm9kZS5wYXJlbnQgJiYgIXROb2RlLnBhcmVudC5uZXh0KSB7XG4gICAgICAgICAgICB0Tm9kZSA9IHROb2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5uZXh0O1xuICAgIH1cbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgY29tcG9uZW50IHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFDb21wb25lbnQobFZpZXcsIGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgY29uc3QgY29tcG9uZW50SW5kaWNlcyA9IGxWaWV3W1RWSUVXXS5jb21wb25lbnRzO1xuICAgIGlmIChjb21wb25lbnRJbmRpY2VzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50SW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudENvbXBvbmVudEluZGV4ID0gY29tcG9uZW50SW5kaWNlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoZWxlbWVudENvbXBvbmVudEluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Vmlld1tDT05URVhUXSA9PT0gY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudENvbXBvbmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByb290Q29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChIRUFERVJfT0ZGU0VULCBsVmlldyk7XG4gICAgICAgIGNvbnN0IHJvb3RDb21wb25lbnQgPSByb290Q29tcG9uZW50Vmlld1tDT05URVhUXTtcbiAgICAgICAgaWYgKHJvb3RDb21wb25lbnQgPT09IGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSByb290IGVsZW1lbnQgaGVyZSB0aGVyZWZvcmUgd2Uga25vdyB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gZWxlbWVudCBpcyB0aGUgdmVyeSBmaXJzdCBlbGVtZW50IGFmdGVyIHRoZSBIRUFERVIgZGF0YSBpbiB0aGUgbFZpZXdcbiAgICAgICAgICAgIHJldHVybiBIRUFERVJfT0ZGU0VUO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgZGlyZWN0aXZlIHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFEaXJlY3RpdmUobFZpZXcsIGRpcmVjdGl2ZUluc3RhbmNlKSB7XG4gICAgLy8gaWYgYSBkaXJlY3RpdmUgaXMgbW9ua2V5IHBhdGNoZWQgdGhlbiBpdCB3aWxsIChieSBkZWZhdWx0KVxuICAgIC8vIGhhdmUgYSByZWZlcmVuY2UgdG8gdGhlIExWaWV3IG9mIHRoZSBjdXJyZW50IHZpZXcuIFRoZVxuICAgIC8vIGVsZW1lbnQgYm91bmQgdG8gdGhlIGRpcmVjdGl2ZSBiZWluZyBzZWFyY2ggbGl2ZXMgc29tZXdoZXJlXG4gICAgLy8gaW4gdGhlIHZpZXcgZGF0YS4gV2UgbG9vcCB0aHJvdWdoIHRoZSBub2RlcyBhbmQgY2hlY2sgdGhlaXJcbiAgICAvLyBsaXN0IG9mIGRpcmVjdGl2ZXMgZm9yIHRoZSBpbnN0YW5jZS5cbiAgICBsZXQgdE5vZGUgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAodE5vZGUpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5kZXhTdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVJbmRleEVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGRpcmVjdGl2ZUluZGV4U3RhcnQ7IGkgPCBkaXJlY3RpdmVJbmRleEVuZDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobFZpZXdbaV0gPT09IGRpcmVjdGl2ZUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHROb2RlLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHROb2RlID0gdHJhdmVyc2VOZXh0RWxlbWVudCh0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgZGlyZWN0aXZlcyBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gdmlldyBiYXNlZCBvbiB0aGVcbiAqIHByb3ZpZGVkIGxpc3Qgb2YgZGlyZWN0aXZlIGluZGV4IHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gbm9kZUluZGV4IFRoZSBub2RlIGluZGV4XG4gKiBAcGFyYW0gbFZpZXcgVGhlIHRhcmdldCB2aWV3IGRhdGFcbiAqIEBwYXJhbSBpbmNsdWRlQ29tcG9uZW50cyBXaGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIGNvbXBvbmVudHMgaW4gcmV0dXJuZWQgZGlyZWN0aXZlc1xuICovXG5mdW5jdGlvbiBnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldywgaW5jbHVkZUNvbXBvbmVudHMpIHtcbiAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW25vZGVJbmRleF07XG4gICAgbGV0IGRpcmVjdGl2ZVN0YXJ0SW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBpZiAoZGlyZWN0aXZlU3RhcnRJbmRleCA9PSAwKVxuICAgICAgICByZXR1cm4gRU1QVFlfQVJSQVk7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgaWYgKCFpbmNsdWRlQ29tcG9uZW50cyAmJiB0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKVxuICAgICAgICBkaXJlY3RpdmVTdGFydEluZGV4Kys7XG4gICAgcmV0dXJuIGxWaWV3LnNsaWNlKGRpcmVjdGl2ZVN0YXJ0SW5kZXgsIGRpcmVjdGl2ZUVuZEluZGV4KTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudEF0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcpIHtcbiAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW25vZGVJbmRleF07XG4gICAgbGV0IGRpcmVjdGl2ZVN0YXJ0SW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICByZXR1cm4gdE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLyA/IGxWaWV3W2RpcmVjdGl2ZVN0YXJ0SW5kZXhdIDogbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyBhIG1hcCBvZiBsb2NhbCByZWZlcmVuY2VzIChsb2NhbCByZWZlcmVuY2UgbmFtZSA9PiBlbGVtZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSkgdGhhdFxuICogZXhpc3Qgb24gYSBnaXZlbiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBkaXNjb3ZlckxvY2FsUmVmcyhsVmlldywgbm9kZUluZGV4KSB7XG4gICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIGlmICh0Tm9kZSAmJiB0Tm9kZS5sb2NhbE5hbWVzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBsZXQgbG9jYWxJbmRleCA9IHROb2RlLmluZGV4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Tm9kZS5sb2NhbE5hbWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICByZXN1bHRbdE5vZGUubG9jYWxOYW1lc1tpXV0gPSBsVmlld1tsb2NhbEluZGV4XTtcbiAgICAgICAgICAgIGxvY2FsSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBFUlJPUl9PUklHSU5BTF9FUlJPUiA9ICduZ09yaWdpbmFsRXJyb3InO1xuY29uc3QgRVJST1JfTE9HR0VSID0gJ25nRXJyb3JMb2dnZXInO1xuZnVuY3Rpb24gd3JhcHBlZEVycm9yKG1lc3NhZ2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICBjb25zdCBtc2cgPSBgJHttZXNzYWdlfSBjYXVzZWQgYnk6ICR7b3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gb3JpZ2luYWxFcnJvci5tZXNzYWdlIDogb3JpZ2luYWxFcnJvcn1gO1xuICAgIGNvbnN0IGVycm9yID0gRXJyb3IobXNnKTtcbiAgICBlcnJvcltFUlJPUl9PUklHSU5BTF9FUlJPUl0gPSBvcmlnaW5hbEVycm9yO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmZ1bmN0aW9uIGdldE9yaWdpbmFsRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3JbRVJST1JfT1JJR0lOQUxfRVJST1JdO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JMb2dnZXIoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IgJiYgZXJyb3JbRVJST1JfTE9HR0VSXSB8fCBkZWZhdWx0RXJyb3JMb2dnZXI7XG59XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JMb2dnZXIoY29uc29sZSwgLi4udmFsdWVzKSB7XG4gICAgY29uc29sZS5lcnJvciguLi52YWx1ZXMpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgYSBob29rIGZvciBjZW50cmFsaXplZCBleGNlcHRpb24gaGFuZGxpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYEVycm9ySGFuZGxlcmAgcHJpbnRzIGVycm9yIG1lc3NhZ2VzIHRvIHRoZSBgY29uc29sZWAuIFRvXG4gKiBpbnRlcmNlcHQgZXJyb3IgaGFuZGxpbmcsIHdyaXRlIGEgY3VzdG9tIGV4Y2VwdGlvbiBoYW5kbGVyIHRoYXQgcmVwbGFjZXMgdGhpcyBkZWZhdWx0IGFzXG4gKiBhcHByb3ByaWF0ZSBmb3IgeW91ciBhcHAuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBjbGFzcyBNeUVycm9ySGFuZGxlciBpbXBsZW1lbnRzIEVycm9ySGFuZGxlciB7XG4gKiAgIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gKiAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGV4Y2VwdGlvblxuICogICB9XG4gKiB9XG4gKlxuICogQE5nTW9kdWxlKHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IEVycm9ySGFuZGxlciwgdXNlQ2xhc3M6IE15RXJyb3JIYW5kbGVyfV1cbiAqIH0pXG4gKiBjbGFzcyBNeU1vZHVsZSB7fVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBFcnJvckhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jb25zb2xlID0gY29uc29sZTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxFcnJvciA9IHRoaXMuX2ZpbmRPcmlnaW5hbEVycm9yKGVycm9yKTtcbiAgICAgICAgLy8gTm90ZTogQnJvd3NlciBjb25zb2xlcyBzaG93IHRoZSBwbGFjZSBmcm9tIHdoZXJlIGNvbnNvbGUuZXJyb3Igd2FzIGNhbGxlZC5cbiAgICAgICAgLy8gV2UgY2FuIHVzZSB0aGlzIHRvIGdpdmUgdXNlcnMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuXG4gICAgICAgIGNvbnN0IGVycm9yTG9nZ2VyID0gZ2V0RXJyb3JMb2dnZXIoZXJyb3IpO1xuICAgICAgICBlcnJvckxvZ2dlcih0aGlzLl9jb25zb2xlLCBgRVJST1JgLCBlcnJvcik7XG4gICAgICAgIGlmIChvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgICAgICBlcnJvckxvZ2dlcih0aGlzLl9jb25zb2xlLCBgT1JJR0lOQUwgRVJST1JgLCBvcmlnaW5hbEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2ZpbmRPcmlnaW5hbEVycm9yKGVycm9yKSB7XG4gICAgICAgIGxldCBlID0gZXJyb3IgJiYgZ2V0T3JpZ2luYWxFcnJvcihlcnJvcik7XG4gICAgICAgIHdoaWxlIChlICYmIGdldE9yaWdpbmFsRXJyb3IoZSkpIHtcbiAgICAgICAgICAgIGUgPSBnZXRPcmlnaW5hbEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlIHx8IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyBhIHNjaGVtYSB0aGF0IGFsbG93cyBhbiBOZ01vZHVsZSB0byBjb250YWluIHRoZSBmb2xsb3dpbmc6XG4gKiAtIE5vbi1Bbmd1bGFyIGVsZW1lbnRzIG5hbWVkIHdpdGggZGFzaCBjYXNlIChgLWApLlxuICogLSBFbGVtZW50IHByb3BlcnRpZXMgbmFtZWQgd2l0aCBkYXNoIGNhc2UgKGAtYCkuXG4gKiBEYXNoIGNhc2UgaXMgdGhlIG5hbWluZyBjb252ZW50aW9uIGZvciBjdXN0b20gZWxlbWVudHMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDVVNUT01fRUxFTUVOVFNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICdjdXN0b20tZWxlbWVudHMnXG59O1xuLyoqXG4gKiBEZWZpbmVzIGEgc2NoZW1hIHRoYXQgYWxsb3dzIGFueSBwcm9wZXJ0eSBvbiBhbnkgZWxlbWVudC5cbiAqXG4gKiBUaGlzIHNjaGVtYSBhbGxvd3MgeW91IHRvIGlnbm9yZSB0aGUgZXJyb3JzIHJlbGF0ZWQgdG8gYW55IHVua25vd24gZWxlbWVudHMgb3IgcHJvcGVydGllcyBpbiBhXG4gKiB0ZW1wbGF0ZS4gVGhlIHVzYWdlIG9mIHRoaXMgc2NoZW1hIGlzIGdlbmVyYWxseSBkaXNjb3VyYWdlZCBiZWNhdXNlIGl0IHByZXZlbnRzIHVzZWZ1bCB2YWxpZGF0aW9uXG4gKiBhbmQgbWF5IGhpZGUgcmVhbCBlcnJvcnMgaW4geW91ciB0ZW1wbGF0ZS4gQ29uc2lkZXIgdXNpbmcgdGhlIGBDVVNUT01fRUxFTUVOVFNfU0NIRU1BYCBpbnN0ZWFkLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgTk9fRVJST1JTX1NDSEVNQSA9IHtcbiAgICBuYW1lOiAnbm8tZXJyb3JzLXNjaGVtYSdcbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaXNhbGxvd2VkIHN0cmluZ3MgaW4gdGhlIGNvbW1lbnQuXG4gKlxuICogc2VlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNjb21tZW50c1xuICovXG5jb25zdCBDT01NRU5UX0RJU0FMTE9XRUQgPSAvXj58Xi0+fDwhLS18LS0+fC0tIT58PCEtJC9nO1xuLyoqXG4gKiBEZWxpbWl0ZXIgaW4gdGhlIGRpc2FsbG93ZWQgc3RyaW5ncyB3aGljaCBuZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggemVybyB3aXRoIGNoYXJhY3Rlci5cbiAqL1xuY29uc3QgQ09NTUVOVF9ERUxJTUlURVIgPSAvKDx8PikvO1xuY29uc3QgQ09NTUVOVF9ERUxJTUlURVJfRVNDQVBFRCA9ICdcXHUyMDBCJDFcXHUyMDBCJztcbi8qKlxuICogRXNjYXBlIHRoZSBjb250ZW50IG9mIGNvbW1lbnQgc3RyaW5ncyBzbyB0aGF0IGl0IGNhbiBiZSBzYWZlbHkgaW5zZXJ0ZWQgaW50byBhIGNvbW1lbnQgbm9kZS5cbiAqXG4gKiBUaGUgaXNzdWUgaXMgdGhhdCBIVE1MIGRvZXMgbm90IHNwZWNpZnkgYW55IHdheSB0byBlc2NhcGUgY29tbWVudCBlbmQgdGV4dCBpbnNpZGUgdGhlIGNvbW1lbnQuXG4gKiBDb25zaWRlcjogYDwhLS0gVGhlIHdheSB5b3UgY2xvc2UgYSBjb21tZW50IGlzIHdpdGggXCI+XCIsIGFuZCBcIi0+XCIgYXQgdGhlIGJlZ2lubmluZyBvciBieSBcIi0tPlwiIG9yXG4gKiBcIi0tIT5cIiBhdCB0aGUgZW5kLiAtLT5gLiBBYm92ZSB0aGUgYFwiLS0+XCJgIGlzIG1lYW50IHRvIGJlIHRleHQgbm90IGFuIGVuZCB0byB0aGUgY29tbWVudC4gVGhpc1xuICogY2FuIGJlIGNyZWF0ZWQgcHJvZ3JhbW1hdGljYWxseSB0aHJvdWdoIERPTSBBUElzLiAoYDwhLS1gIGFyZSBhbHNvIGRpc2FsbG93ZWQuKVxuICpcbiAqIHNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjY29tbWVudHNcbiAqXG4gKiBgYGBcbiAqIGRpdi5pbm5lckhUTUwgPSBkaXYuaW5uZXJIVE1MXG4gKiBgYGBcbiAqXG4gKiBPbmUgd291bGQgZXhwZWN0IHRoYXQgdGhlIGFib3ZlIGNvZGUgd291bGQgYmUgc2FmZSB0byBkbywgYnV0IGl0IHR1cm5zIG91dCB0aGF0IGJlY2F1c2UgY29tbWVudFxuICogdGV4dCBpcyBub3QgZXNjYXBlZCwgdGhlIGNvbW1lbnQgbWF5IGNvbnRhaW4gdGV4dCB3aGljaCB3aWxsIHByZW1hdHVyZWx5IGNsb3NlIHRoZSBjb21tZW50XG4gKiBvcGVuaW5nIHVwIHRoZSBhcHBsaWNhdGlvbiBmb3IgWFNTIGF0dGFjay4gKEluIFNTUiB3ZSBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBjb21tZW50IG5vZGVzIHdoaWNoXG4gKiBtYXkgY29udGFpbiBzdWNoIHRleHQgYW5kIGV4cGVjdCB0aGVtIHRvIGJlIHNhZmUuKVxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZXNjYXBlcyB0aGUgY29tbWVudCB0ZXh0IGJ5IGxvb2tpbmcgZm9yIGNvbW1lbnQgZGVsaW1pdGVycyAoYDxgIGFuZCBgPmApIGFuZFxuICogc3Vycm91bmRpbmcgdGhlbSB3aXRoIGBfPl9gIHdoZXJlIHRoZSBgX2AgaXMgYSB6ZXJvIHdpZHRoIHNwYWNlIGBcXHUyMDBCYC4gVGhlIHJlc3VsdCBpcyB0aGF0IGlmIGFcbiAqIGNvbW1lbnQgY29udGFpbnMgYW55IG9mIHRoZSBjb21tZW50IHN0YXJ0L2VuZCBkZWxpbWl0ZXJzIChzdWNoIGFzIGA8IS0tYCwgYC0tPmAgb3IgYC0tIT5gKSB0aGVcbiAqIHRleHQgaXQgd2lsbCByZW5kZXIgbm9ybWFsbHkgYnV0IGl0IHdpbGwgbm90IGNhdXNlIHRoZSBIVE1MIHBhcnNlciB0byBjbG9zZS9vcGVuIHRoZSBjb21tZW50LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSB0ZXh0IHRvIG1ha2Ugc2FmZSBmb3IgY29tbWVudCBub2RlIGJ5IGVzY2FwaW5nIHRoZSBjb21tZW50IG9wZW4vY2xvc2UgY2hhcmFjdGVyXG4gKiAgICAgc2VxdWVuY2UuXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUNvbW1lbnRUZXh0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoQ09NTUVOVF9ESVNBTExPV0VELCAodGV4dCkgPT4gdGV4dC5yZXBsYWNlKENPTU1FTlRfREVMSU1JVEVSLCBDT01NRU5UX0RFTElNSVRFUl9FU0NBUEVEKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGVidWdCaW5kaW5nTmFtZShuYW1lKSB7XG4gICAgLy8gQXR0cmlidXRlIG5hbWVzIHdpdGggYCRgIChlZyBgeC15JGApIGFyZSB2YWxpZCBwZXIgc3BlYywgYnV0IHVuc3VwcG9ydGVkIGJ5IHNvbWUgYnJvd3NlcnNcbiAgICBuYW1lID0gY2FtZWxDYXNlVG9EYXNoQ2FzZShuYW1lLnJlcGxhY2UoL1skQF0vZywgJ18nKSk7XG4gICAgcmV0dXJuIGBuZy1yZWZsZWN0LSR7bmFtZX1gO1xufVxuY29uc3QgQ0FNRUxfQ0FTRV9SRUdFWFAgPSAvKFtBLVpdKS9nO1xuZnVuY3Rpb24gY2FtZWxDYXNlVG9EYXNoQ2FzZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKENBTUVMX0NBU0VfUkVHRVhQLCAoLi4ubSkgPT4gJy0nICsgbVsxXS50b0xvd2VyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlYnVnQmluZGluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gTGltaXQgdGhlIHNpemUgb2YgdGhlIHZhbHVlIGFzIG90aGVyd2lzZSB0aGUgRE9NIGp1c3QgZ2V0cyBwb2xsdXRlZC5cbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZS50b1N0cmluZygpLnNsaWNlKDAsIDMwKSA6IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gJ1tFUlJPUl0gRXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBzZXJpYWxpemUgdGhlIHZhbHVlJztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgZGVmYXVsdFNjaGVkdWxlciA9ICgoKSA9PiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgLy8gYnJvd3NlciBvbmx5XG4gICAgc2V0VGltZW91dCAvLyBldmVyeXRoaW5nIGVsc2VcbilcbiAgICAuYmluZChfZ2xvYmFsKSkoKTtcbi8qKlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXNvbHZlV2luZG93KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xufVxuLyoqXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlc29sdmVEb2N1bWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudDtcbn1cbi8qKlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXNvbHZlQm9keShlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xufVxuLyoqXG4gKiBUaGUgc3BlY2lhbCBkZWxpbWl0ZXIgd2UgdXNlIHRvIHNlcGFyYXRlIHByb3BlcnR5IG5hbWVzLCBwcmVmaXhlcywgYW5kIHN1ZmZpeGVzXG4gKiBpbiBwcm9wZXJ0eSBiaW5kaW5nIG1ldGFkYXRhLiBTZWUgc3RvcmVCaW5kaW5nTWV0YWRhdGEoKS5cbiAqXG4gKiBXZSBpbnRlbnRpb25hbGx5IHVzZSB0aGUgVW5pY29kZSBcIlJFUExBQ0VNRU5UIENIQVJBQ1RFUlwiIChVK0ZGRkQpIGFzIGEgZGVsaW1pdGVyXG4gKiBiZWNhdXNlIGl0IGlzIGEgdmVyeSB1bmNvbW1vbiBjaGFyYWN0ZXIgdGhhdCBpcyB1bmxpa2VseSB0byBiZSBwYXJ0IG9mIGEgdXNlcidzXG4gKiBwcm9wZXJ0eSBuYW1lcyBvciBpbnRlcnBvbGF0aW9uIHN0cmluZ3MuIElmIGl0IGlzIGluIGZhY3QgdXNlZCBpbiBhIHByb3BlcnR5XG4gKiBiaW5kaW5nLCBEZWJ1Z0VsZW1lbnQucHJvcGVydGllcyB3aWxsIG5vdCByZXR1cm4gdGhlIGNvcnJlY3QgdmFsdWUgZm9yIHRoYXRcbiAqIGJpbmRpbmcuIEhvd2V2ZXIsIHRoZXJlIHNob3VsZCBiZSBubyBydW50aW1lIGVmZmVjdCBmb3IgcmVhbCBhcHBsaWNhdGlvbnMuXG4gKlxuICogVGhpcyBjaGFyYWN0ZXIgaXMgdHlwaWNhbGx5IHJlbmRlcmVkIGFzIGEgcXVlc3Rpb24gbWFyayBpbnNpZGUgb2YgYSBkaWFtb25kLlxuICogU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwZWNpYWxzXyhVbmljb2RlX2Jsb2NrKVxuICpcbiAqL1xuY29uc3QgSU5URVJQT0xBVElPTl9ERUxJTUlURVIgPSBg77+9YDtcbi8qKlxuICogVW53cmFwIGEgdmFsdWUgd2hpY2ggbWlnaHQgYmUgYmVoaW5kIGEgY2xvc3VyZSAoZm9yIGZvcndhcmQgZGVjbGFyYXRpb24gcmVhc29ucykuXG4gKi9cbmZ1bmN0aW9uIG1heWJlVW53cmFwRm4odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gdmFsdWUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIENhbGxlZCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBjb21wb25lbnQgc2VsZWN0b3JzIHRoYXQgbWF0Y2ggYSBnaXZlbiBub2RlICovXG5mdW5jdGlvbiB0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IodE5vZGUpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0zMDAgLyogTVVMVElQTEVfQ09NUE9ORU5UU19NQVRDSCAqLywgYE11bHRpcGxlIGNvbXBvbmVudHMgbWF0Y2ggbm9kZSB3aXRoIHRhZ25hbWUgJHt0Tm9kZS52YWx1ZX1gKTtcbn1cbi8qKiBUaHJvd3MgYW4gRXhwcmVzc2lvbkNoYW5nZWRBZnRlckNoZWNrZWQgZXJyb3IgaWYgY2hlY2tOb0NoYW5nZXMgbW9kZSBpcyBvbi4gKi9cbmZ1bmN0aW9uIHRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUoY3JlYXRpb25Nb2RlLCBvbGRWYWx1ZSwgY3VyclZhbHVlLCBwcm9wTmFtZSkge1xuICAgIGNvbnN0IGZpZWxkID0gcHJvcE5hbWUgPyBgIGZvciAnJHtwcm9wTmFtZX0nYCA6ICcnO1xuICAgIGxldCBtc2cgPSBgRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcjogRXhwcmVzc2lvbiBoYXMgY2hhbmdlZCBhZnRlciBpdCB3YXMgY2hlY2tlZC4gUHJldmlvdXMgdmFsdWUke2ZpZWxkfTogJyR7b2xkVmFsdWV9Jy4gQ3VycmVudCB2YWx1ZTogJyR7Y3VyclZhbHVlfScuYDtcbiAgICBpZiAoY3JlYXRpb25Nb2RlKSB7XG4gICAgICAgIG1zZyArPVxuICAgICAgICAgICAgYCBJdCBzZWVtcyBsaWtlIHRoZSB2aWV3IGhhcyBiZWVuIGNyZWF0ZWQgYWZ0ZXIgaXRzIHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuIGhhdmUgYmVlbiBkaXJ0eSBjaGVja2VkLmAgK1xuICAgICAgICAgICAgICAgIGAgSGFzIGl0IGJlZW4gY3JlYXRlZCBpbiBhIGNoYW5nZSBkZXRlY3Rpb24gaG9vaz9gO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0xMDAgLyogRVhQUkVTU0lPTl9DSEFOR0VEX0FGVEVSX0NIRUNLRUQgKi8sIG1zZyk7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbihsVmlldywgcm9vdEluZGV4LCBleHByZXNzaW9uSW5kZXgsIG1ldGEsIGNoYW5nZWRWYWx1ZSkge1xuICAgIGNvbnN0IFtwcm9wTmFtZSwgcHJlZml4LCAuLi5jaHVua3NdID0gbWV0YS5zcGxpdChJTlRFUlBPTEFUSU9OX0RFTElNSVRFUik7XG4gICAgbGV0IG9sZFZhbHVlID0gcHJlZml4LCBuZXdWYWx1ZSA9IHByZWZpeDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzbG90SWR4ID0gcm9vdEluZGV4ICsgaTtcbiAgICAgICAgb2xkVmFsdWUgKz0gYCR7bFZpZXdbc2xvdElkeF19JHtjaHVua3NbaV19YDtcbiAgICAgICAgbmV3VmFsdWUgKz0gYCR7c2xvdElkeCA9PT0gZXhwcmVzc2lvbkluZGV4ID8gY2hhbmdlZFZhbHVlIDogbFZpZXdbc2xvdElkeF19JHtjaHVua3NbaV19YDtcbiAgICB9XG4gICAgcmV0dXJuIHsgcHJvcE5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9O1xufVxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGRldGFpbHMgZm9yIHRoZSBFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEVycm9yOlxuICogLSBwcm9wZXJ0eSBuYW1lIChmb3IgcHJvcGVydHkgYmluZGluZ3Mgb3IgaW50ZXJwb2xhdGlvbnMpXG4gKiAtIG9sZCBhbmQgbmV3IHZhbHVlcywgZW5yaWNoZWQgdXNpbmcgaW5mb3JtYXRpb24gZnJvbSBtZXRhZGF0YVxuICpcbiAqIE1vcmUgaW5mb3JtYXRpb24gb24gdGhlIG1ldGFkYXRhIHN0b3JhZ2UgZm9ybWF0IGNhbiBiZSBmb3VuZCBpbiBgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YWBcbiAqIGZ1bmN0aW9uIGRlc2NyaXB0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyhsVmlldywgYmluZGluZ0luZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBjb25zdCB0RGF0YSA9IGxWaWV3W1RWSUVXXS5kYXRhO1xuICAgIGNvbnN0IG1ldGFkYXRhID0gdERhdGFbYmluZGluZ0luZGV4XTtcbiAgICBpZiAodHlwZW9mIG1ldGFkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBtZXRhZGF0YSBmb3IgcHJvcGVydHkgaW50ZXJwb2xhdGlvblxuICAgICAgICBpZiAobWV0YWRhdGEuaW5kZXhPZihJTlRFUlBPTEFUSU9OX0RFTElNSVRFUikgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGJpbmRpbmdJbmRleCwgbWV0YWRhdGEsIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXRhZGF0YSBmb3IgcHJvcGVydHkgYmluZGluZ1xuICAgICAgICByZXR1cm4geyBwcm9wTmFtZTogbWV0YWRhdGEsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9O1xuICAgIH1cbiAgICAvLyBtZXRhZGF0YSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIGV4cHJlc3Npb24sIGNoZWNrIGlmIHRoaXMgZXhwcmVzc2lvbiBpcyBhIHBhcnQgb2YgdGhlXG4gICAgLy8gcHJvcGVydHkgaW50ZXJwb2xhdGlvbiBieSBnb2luZyBmcm9tIHRoZSBjdXJyZW50IGJpbmRpbmcgaW5kZXggbGVmdCBhbmQgbG9vayBmb3IgYSBzdHJpbmcgdGhhdFxuICAgIC8vIGNvbnRhaW5zIElOVEVSUE9MQVRJT05fREVMSU1JVEVSLCB0aGUgbGF5b3V0IGluIHRWaWV3LmRhdGEgZm9yIHRoaXMgY2FzZSB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICAgIC8vIFsuLi4sICdpZO+/vVByZWZpeCDvv70gYW5kIO+/vSBzdWZmaXgnLCBudWxsLCBudWxsLCBudWxsLCAuLi5dXG4gICAgaWYgKG1ldGFkYXRhID09PSBudWxsKSB7XG4gICAgICAgIGxldCBpZHggPSBiaW5kaW5nSW5kZXggLSAxO1xuICAgICAgICB3aGlsZSAodHlwZW9mIHREYXRhW2lkeF0gIT09ICdzdHJpbmcnICYmIHREYXRhW2lkeCArIDFdID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZHgtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhID0gdERhdGFbaWR4XTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IG1ldGEubWF0Y2gobmV3IFJlZ0V4cChJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiwgJ2cnKSk7XG4gICAgICAgICAgICAvLyBmaXJzdCBpbnRlcnBvbGF0aW9uIGRlbGltaXRlciBzZXBhcmF0ZXMgcHJvcGVydHkgbmFtZSBmcm9tIGludGVycG9sYXRpb24gcGFydHMgKGluIGNhc2Ugb2ZcbiAgICAgICAgICAgIC8vIHByb3BlcnR5IGludGVycG9sYXRpb25zKSwgc28gd2Ugc3VidHJhY3Qgb25lIGZyb20gdG90YWwgbnVtYmVyIG9mIGZvdW5kIGRlbGltaXRlcnNcbiAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIChtYXRjaGVzLmxlbmd0aCAtIDEpID4gYmluZGluZ0luZGV4IC0gaWR4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uKGxWaWV3LCBpZHgsIGJpbmRpbmdJbmRleCwgbWV0YSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHByb3BOYW1lOiB1bmRlZmluZWQsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmxhZ3MgZm9yIHJlbmRlcmVyLXNwZWNpZmljIHN0eWxlIG1vZGlmaWVycy5cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFJlbmRlcmVyU3R5bGVGbGFnczI7XG4oZnVuY3Rpb24gKFJlbmRlcmVyU3R5bGVGbGFnczIpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogVGhpcyBuZWVkcyB0byBiZSByZWZhY3RvcmVkIGludG8gYSBzZXBhcmF0ZSBmaWxlIHNvIHRoYXQgaXQgY2FuIGJlIGltcG9ydGVkIGZyb21cbiAgICAvLyBgbm9kZV9tYW5pcHVsYXRpb24udHNgIEN1cnJlbnRseSBkb2luZyB0aGUgaW1wb3J0IGNhdXNlIHJlc29sdXRpb24gb3JkZXIgdG8gY2hhbmdlIGFuZCBmYWlsc1xuICAgIC8vIHRoZSB0ZXN0cy4gVGhlIHdvcmsgYXJvdW5kIGlzIHRvIGhhdmUgaGFyZCBjb2RlZCB2YWx1ZSBpbiBgbm9kZV9tYW5pcHVsYXRpb24udHNgIGZvciBub3cuXG4gICAgLyoqXG4gICAgICogTWFya3MgYSBzdHlsZSBhcyBpbXBvcnRhbnQuXG4gICAgICovXG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzMltSZW5kZXJlclN0eWxlRmxhZ3MyW1wiSW1wb3J0YW50XCJdID0gMV0gPSBcIkltcG9ydGFudFwiO1xuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgc3R5bGUgYXMgdXNpbmcgZGFzaCBjYXNlIG5hbWluZyAodGhpcy1pcy1kYXNoLWNhc2UpLlxuICAgICAqL1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczJbUmVuZGVyZXJTdHlsZUZsYWdzMltcIkRhc2hDYXNlXCJdID0gMl0gPSBcIkRhc2hDYXNlXCI7XG59KShSZW5kZXJlclN0eWxlRmxhZ3MyIHx8IChSZW5kZXJlclN0eWxlRmxhZ3MyID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX2ljdUNvbnRhaW5lckl0ZXJhdGU7XG4vKipcbiAqIEl0ZXJhdG9yIHdoaWNoIHByb3ZpZGVzIGFiaWxpdHkgdG8gdmlzaXQgYWxsIG9mIHRoZSBgVEljdUNvbnRhaW5lck5vZGVgIHJvb3QgYFJOb2RlYHMuXG4gKi9cbmZ1bmN0aW9uIGljdUNvbnRhaW5lckl0ZXJhdGUodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIF9pY3VDb250YWluZXJJdGVyYXRlKHRJY3VDb250YWluZXJOb2RlLCBsVmlldyk7XG59XG4vKipcbiAqIEVuc3VyZXMgdGhhdCBgSWN1Q29udGFpbmVyVmlzaXRvcmAncyBpbXBsZW1lbnRhdGlvbiBpcyBwcmVzZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW52b2tlZCB3aGVuIGkxOG4gaW5zdHJ1Y3Rpb24gY29tZXMgYWNyb3NzIGFuIElDVS4gVGhlIHB1cnBvc2UgaXMgdG8gYWxsb3cgdGhlXG4gKiBidW5kbGVyIHRvIHRyZWUgc2hha2UgSUNVIGxvZ2ljIGFuZCBvbmx5IGxvYWQgaXQgaWYgSUNVIGluc3RydWN0aW9uIGlzIGV4ZWN1dGVkLlxuICovXG5mdW5jdGlvbiBlbnN1cmVJY3VDb250YWluZXJWaXNpdG9yTG9hZGVkKGxvYWRlcikge1xuICAgIGlmIChfaWN1Q29udGFpbmVySXRlcmF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIERvIG5vdCBpbmxpbmUgdGhpcyBmdW5jdGlvbi4gV2Ugd2FudCB0byBrZWVwIGBlbnN1cmVJY3VDb250YWluZXJWaXNpdG9yTG9hZGVkYCBsaWdodCwgc28gaXRcbiAgICAgICAgLy8gY2FuIGJlIGlubGluZWQgaW50byBjYWxsLXNpdGUuXG4gICAgICAgIF9pY3VDb250YWluZXJJdGVyYXRlID0gbG9hZGVyKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDMgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogR2V0cyB0aGUgcGFyZW50IExWaWV3IG9mIHRoZSBwYXNzZWQgTFZpZXcsIGlmIHRoZSBQQVJFTlQgaXMgYW4gTENvbnRhaW5lciwgd2lsbCBnZXQgdGhlIHBhcmVudCBvZlxuICogdGhhdCBMQ29udGFpbmVyLCB3aGljaCBpcyBhbiBMVmlld1xuICogQHBhcmFtIGxWaWV3IHRoZSBsVmlldyB3aG9zZSBwYXJlbnQgdG8gZ2V0XG4gKi9cbmZ1bmN0aW9uIGdldExWaWV3UGFyZW50KGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICBjb25zdCBwYXJlbnQgPSBsVmlld1tQQVJFTlRdO1xuICAgIHJldHVybiBpc0xDb250YWluZXIocGFyZW50KSA/IHBhcmVudFtQQVJFTlRdIDogcGFyZW50O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgcm9vdCB2aWV3IGZyb20gYW55IGNvbXBvbmVudCBvciBgTFZpZXdgIGJ5IHdhbGtpbmcgdGhlIHBhcmVudCBgTFZpZXdgIHVudGlsXG4gKiByZWFjaGluZyB0aGUgcm9vdCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRPckxWaWV3IGFueSBjb21wb25lbnQgb3IgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRSb290Vmlldyhjb21wb25lbnRPckxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY29tcG9uZW50T3JMVmlldywgJ2NvbXBvbmVudCcpO1xuICAgIGxldCBsVmlldyA9IGlzTFZpZXcoY29tcG9uZW50T3JMVmlldykgPyBjb21wb25lbnRPckxWaWV3IDogcmVhZFBhdGNoZWRMVmlldyhjb21wb25lbnRPckxWaWV3KTtcbiAgICB3aGlsZSAobFZpZXcgJiYgIShsVmlld1tGTEFHU10gJiA1MTIgLyogSXNSb290ICovKSkge1xuICAgICAgICBsVmlldyA9IGdldExWaWV3UGFyZW50KGxWaWV3KTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICByZXR1cm4gbFZpZXc7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGBSb290Q29udGV4dGAgaW5zdGFuY2UgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGhcbiAqIHRoZSBhcHBsaWNhdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGlzIHNpdHVhdGVkLiBJdCBkb2VzIHRoaXMgYnkgd2Fsa2luZyB0aGUgcGFyZW50IHZpZXdzIHVudGlsIGl0XG4gKiBnZXRzIHRvIHRoZSByb290IHZpZXcsIHRoZW4gZ2V0dGluZyB0aGUgY29udGV4dCBvZmYgb2YgdGhhdC5cbiAqXG4gKiBAcGFyYW0gdmlld09yQ29tcG9uZW50IHRoZSBgTFZpZXdgIG9yIGNvbXBvbmVudCB0byBnZXQgdGhlIHJvb3QgY29udGV4dCBmb3IuXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3RDb250ZXh0KHZpZXdPckNvbXBvbmVudCkge1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gZ2V0Um9vdFZpZXcodmlld09yQ29tcG9uZW50KTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChyb290Vmlld1tDT05URVhUXSwgJ1Jvb3RWaWV3IGhhcyBubyBjb250ZXh0LiBQZXJoYXBzIGl0IGlzIGRpc2Nvbm5lY3RlZD8nKTtcbiAgICByZXR1cm4gcm9vdFZpZXdbQ09OVEVYVF07XG59XG4vKipcbiAqIEdldHMgdGhlIGZpcnN0IGBMQ29udGFpbmVyYCBpbiB0aGUgTFZpZXcgb3IgYG51bGxgIGlmIG5vbmUgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBnZXRGaXJzdExDb250YWluZXIobFZpZXcpIHtcbiAgICByZXR1cm4gZ2V0TmVhcmVzdExDb250YWluZXIobFZpZXdbQ0hJTERfSEVBRF0pO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IGBMQ29udGFpbmVyYCB0aGF0IGlzIGEgc2libGluZyBvZiB0aGUgZ2l2ZW4gY29udGFpbmVyLlxuICovXG5mdW5jdGlvbiBnZXROZXh0TENvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICByZXR1cm4gZ2V0TmVhcmVzdExDb250YWluZXIoY29udGFpbmVyW05FWFRdKTtcbn1cbmZ1bmN0aW9uIGdldE5lYXJlc3RMQ29udGFpbmVyKHZpZXdPckNvbnRhaW5lcikge1xuICAgIHdoaWxlICh2aWV3T3JDb250YWluZXIgIT09IG51bGwgJiYgIWlzTENvbnRhaW5lcih2aWV3T3JDb250YWluZXIpKSB7XG4gICAgICAgIHZpZXdPckNvbnRhaW5lciA9IHZpZXdPckNvbnRhaW5lcltORVhUXTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdPckNvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCB1bnVzZWRWYWx1ZVRvUGxhY2F0ZUFqZCQyID0gdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkOCArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDQgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQzICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNiArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDc7XG4vKipcbiAqIE5PVEU6IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB0aGUgcG9zc2libGUgYWN0aW9ucyBhcmUgaW5saW5lZCB3aXRoaW4gdGhlIGZ1bmN0aW9uIGluc3RlYWQgb2ZcbiAqIGJlaW5nIHBhc3NlZCBhcyBhbiBhcmd1bWVudC5cbiAqL1xuZnVuY3Rpb24gYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnQsIGxOb2RlVG9IYW5kbGUsIGJlZm9yZU5vZGUpIHtcbiAgICAvLyBJZiB0aGlzIHNsb3Qgd2FzIGFsbG9jYXRlZCBmb3IgYSB0ZXh0IG5vZGUgZHluYW1pY2FsbHkgY3JlYXRlZCBieSBpMThuLCB0aGUgdGV4dCBub2RlIGl0c2VsZlxuICAgIC8vIHdvbid0IGJlIGNyZWF0ZWQgdW50aWwgaTE4bkFwcGx5KCkgaW4gdGhlIHVwZGF0ZSBibG9jaywgc28gdGhpcyBub2RlIHNob3VsZCBiZSBza2lwcGVkLlxuICAgIC8vIEZvciBtb3JlIGluZm8sIHNlZSBcIklDVSBleHByZXNzaW9ucyBzaG91bGQgd29yayBpbnNpZGUgYW4gbmdUZW1wbGF0ZU91dGxldCBpbnNpZGUgYW4gbmdGb3JcIlxuICAgIC8vIGluIGBpMThuX3NwZWMudHNgLlxuICAgIGlmIChsTm9kZVRvSGFuZGxlICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGxDb250YWluZXI7XG4gICAgICAgIGxldCBpc0NvbXBvbmVudCA9IGZhbHNlO1xuICAgICAgICAvLyBXZSBhcmUgZXhwZWN0aW5nIGFuIFJOb2RlLCBidXQgaW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQgb3IgTENvbnRhaW5lciB0aGUgYFJOb2RlYCBpc1xuICAgICAgICAvLyB3cmFwcGVkIGluIGFuIGFycmF5IHdoaWNoIG5lZWRzIHRvIGJlIHVud3JhcHBlZC4gV2UgbmVlZCB0byBrbm93IGlmIGl0IGlzIGEgY29tcG9uZW50IGFuZCBpZlxuICAgICAgICAvLyBpdCBoYXMgTENvbnRhaW5lciBzbyB0aGF0IHdlIGNhbiBwcm9jZXNzIGFsbCBvZiB0aG9zZSBjYXNlcyBhcHByb3ByaWF0ZWx5LlxuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKGxOb2RlVG9IYW5kbGUpKSB7XG4gICAgICAgICAgICBsQ29udGFpbmVyID0gbE5vZGVUb0hhbmRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xWaWV3KGxOb2RlVG9IYW5kbGUpKSB7XG4gICAgICAgICAgICBpc0NvbXBvbmVudCA9IHRydWU7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsTm9kZVRvSGFuZGxlW0hPU1RdLCAnSE9TVCBtdXN0IGJlIGRlZmluZWQgZm9yIGEgY29tcG9uZW50IExWaWV3Jyk7XG4gICAgICAgICAgICBsTm9kZVRvSGFuZGxlID0gbE5vZGVUb0hhbmRsZVtIT1NUXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByTm9kZSA9IHVud3JhcFJOb2RlKGxOb2RlVG9IYW5kbGUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSAmJiBhc3NlcnREb21Ob2RlKHJOb2RlKTtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gMCAvKiBDcmVhdGUgKi8gJiYgcGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXBwZW5kQ2hpbGQocmVuZGVyZXIsIHBhcmVudCwgck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIHJOb2RlLCBiZWZvcmVOb2RlIHx8IG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gMSAvKiBJbnNlcnQgKi8gJiYgcGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgck5vZGUsIGJlZm9yZU5vZGUgfHwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAyIC8qIERldGFjaCAqLykge1xuICAgICAgICAgICAgbmF0aXZlUmVtb3ZlTm9kZShyZW5kZXJlciwgck5vZGUsIGlzQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09IDMgLyogRGVzdHJveSAqLykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckRlc3Ryb3lOb2RlKys7XG4gICAgICAgICAgICByZW5kZXJlci5kZXN0cm95Tm9kZShyTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxDb250YWluZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXBwbHlDb250YWluZXIocmVuZGVyZXIsIGFjdGlvbiwgbENvbnRhaW5lciwgcGFyZW50LCBiZWZvcmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHJlbmRlcmVyLCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVUZXh0Tm9kZSsrO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRUZXh0Kys7XG4gICAgcmV0dXJuIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLmNyZWF0ZVRleHQodmFsdWUpIDpcbiAgICAgICAgcmVuZGVyZXIuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xufVxuZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGUocmVuZGVyZXIsIHJOb2RlLCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRUZXh0Kys7XG4gICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIuc2V0VmFsdWUock5vZGUsIHZhbHVlKSA6IHJOb2RlLnRleHRDb250ZW50ID0gdmFsdWU7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Tm9kZShyZW5kZXJlciwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgIC8vIGlzUHJvY2VkdXJhbFJlbmRlcmVyIGNoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBib3RoIGBSZW5kZXJlcjJgIGFuZCBgUmVuZGVyZXIzYCBoYXZlIHRoZSBzYW1lXG4gICAgLy8gbWV0aG9kIG5hbWUuXG4gICAgcmV0dXJuIHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQoZXNjYXBlQ29tbWVudFRleHQodmFsdWUpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5hdGl2ZSBlbGVtZW50IGZyb20gYSB0YWcgbmFtZSwgdXNpbmcgYSByZW5kZXJlci5cbiAqIEBwYXJhbSByZW5kZXJlciBBIHJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIG5hbWUgdGhlIHRhZyBuYW1lXG4gKiBAcGFyYW0gbmFtZXNwYWNlIE9wdGlvbmFsIG5hbWVzcGFjZSBmb3IgZWxlbWVudC5cbiAqIEByZXR1cm5zIHRoZSBlbGVtZW50IGNyZWF0ZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5vZGUocmVuZGVyZXIsIG5hbWUsIG5hbWVzcGFjZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVFbGVtZW50Kys7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXIuY3JlYXRlRWxlbWVudChuYW1lLCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlVXJpID0gbmFtZXNwYWNlICE9PSBudWxsID8gZ2V0TmFtZXNwYWNlVXJpKG5hbWVzcGFjZSkgOiBudWxsO1xuICAgICAgICByZXR1cm4gbmFtZXNwYWNlVXJpID09PSBudWxsID8gcmVuZGVyZXIuY3JlYXRlRWxlbWVudChuYW1lKSA6XG4gICAgICAgICAgICByZW5kZXJlci5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVXJpLCBuYW1lKTtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIERPTSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggYSB2aWV3LlxuICpcbiAqIEJlY2F1c2Ugc29tZSByb290IG5vZGVzIG9mIHRoZSB2aWV3IG1heSBiZSBjb250YWluZXJzLCB3ZSBzb21ldGltZXMgbmVlZFxuICogdG8gcHJvcGFnYXRlIGRlZXBseSBpbnRvIHRoZSBuZXN0ZWQgY29udGFpbmVycyB0byByZW1vdmUgYWxsIGVsZW1lbnRzIGluIHRoZVxuICogdmlld3MgYmVuZWF0aCBpdC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlVmlld0Zyb21Db250YWluZXIodFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIDIgLyogRGV0YWNoICovLCBudWxsLCBudWxsKTtcbiAgICBsVmlld1tIT1NUXSA9IG51bGw7XG4gICAgbFZpZXdbVF9IT1NUXSA9IG51bGw7XG59XG4vKipcbiAqIEFkZHMgYWxsIERPTSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggYSB2aWV3LlxuICpcbiAqIEJlY2F1c2Ugc29tZSByb290IG5vZGVzIG9mIHRoZSB2aWV3IG1heSBiZSBjb250YWluZXJzLCB3ZSBzb21ldGltZXMgbmVlZFxuICogdG8gcHJvcGFnYXRlIGRlZXBseSBpbnRvIHRoZSBuZXN0ZWQgY29udGFpbmVycyB0byBhZGQgYWxsIGVsZW1lbnRzIGluIHRoZVxuICogdmlld3MgYmVuZWF0aCBpdC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICogQHBhcmFtIHBhcmVudFROb2RlIFRoZSBgVE5vZGVgIHdoZXJlIHRoZSBgTFZpZXdgIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAqIEBwYXJhbSByZW5kZXJlciBDdXJyZW50IHJlbmRlcmVyIHRvIHVzZSBmb3IgRE9NIG1hbmlwdWxhdGlvbnMuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICogQHBhcmFtIHBhcmVudE5hdGl2ZU5vZGUgVGhlIHBhcmVudCBgUkVsZW1lbnRgIHdoZXJlIGl0IHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvLlxuICogQHBhcmFtIGJlZm9yZU5vZGUgVGhlIG5vZGUgYmVmb3JlIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCwgaWYgaW5zZXJ0IG1vZGVcbiAqL1xuZnVuY3Rpb24gYWRkVmlld1RvQ29udGFpbmVyKHRWaWV3LCBwYXJlbnRUTm9kZSwgcmVuZGVyZXIsIGxWaWV3LCBwYXJlbnROYXRpdmVOb2RlLCBiZWZvcmVOb2RlKSB7XG4gICAgbFZpZXdbSE9TVF0gPSBwYXJlbnROYXRpdmVOb2RlO1xuICAgIGxWaWV3W1RfSE9TVF0gPSBwYXJlbnRUTm9kZTtcbiAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgMSAvKiBJbnNlcnQgKi8sIHBhcmVudE5hdGl2ZU5vZGUsIGJlZm9yZU5vZGUpO1xufVxuLyoqXG4gKiBEZXRhY2ggYSBgTFZpZXdgIGZyb20gdGhlIERPTSBieSBkZXRhY2hpbmcgaXRzIG5vZGVzLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCB0byBiZSBkZXRhY2hlZFxuICogQHBhcmFtIGxWaWV3IHRoZSBgTFZpZXdgIHRvIGJlIGRldGFjaGVkLlxuICovXG5mdW5jdGlvbiByZW5kZXJEZXRhY2hWaWV3KHRWaWV3LCBsVmlldykge1xuICAgIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgMiAvKiBEZXRhY2ggKi8sIG51bGwsIG51bGwpO1xufVxuLyoqXG4gKiBUcmF2ZXJzZXMgZG93biBhbmQgdXAgdGhlIHRyZWUgb2Ygdmlld3MgYW5kIGNvbnRhaW5lcnMgdG8gcmVtb3ZlIGxpc3RlbmVycyBhbmRcbiAqIGNhbGwgb25EZXN0cm95IGNhbGxiYWNrcy5cbiAqXG4gKiBOb3RlczpcbiAqICAtIEJlY2F1c2UgaXQncyB1c2VkIGZvciBvbkRlc3Ryb3kgY2FsbHMsIGl0IG5lZWRzIHRvIGJlIGJvdHRvbS11cC5cbiAqICAtIE11c3QgcHJvY2VzcyBjb250YWluZXJzIGluc3RlYWQgb2YgdGhlaXIgdmlld3MgdG8gYXZvaWQgc3BsaWNpbmdcbiAqICB3aGVuIHZpZXdzIGFyZSBkZXN0cm95ZWQgYW5kIHJlLWFkZGVkLlxuICogIC0gVXNpbmcgYSB3aGlsZSBsb29wIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiByZWN1cnNpb25cbiAqICAtIERlc3Ryb3kgb25seSBjYWxsZWQgb24gbW92ZW1lbnQgdG8gc2libGluZyBvciBtb3ZlbWVudCB0byBwYXJlbnQgKGxhdGVyYWxseSBvciB1cClcbiAqXG4gKiAgQHBhcmFtIHJvb3RWaWV3IFRoZSB2aWV3IHRvIGRlc3Ryb3lcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVZpZXdUcmVlKHJvb3RWaWV3KSB7XG4gICAgLy8gSWYgdGhlIHZpZXcgaGFzIG5vIGNoaWxkcmVuLCB3ZSBjYW4gY2xlYW4gaXQgdXAgYW5kIHJldHVybiBlYXJseS5cbiAgICBsZXQgbFZpZXdPckxDb250YWluZXIgPSByb290Vmlld1tDSElMRF9IRUFEXTtcbiAgICBpZiAoIWxWaWV3T3JMQ29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjbGVhblVwVmlldyhyb290Vmlld1tUVklFV10sIHJvb3RWaWV3KTtcbiAgICB9XG4gICAgd2hpbGUgKGxWaWV3T3JMQ29udGFpbmVyKSB7XG4gICAgICAgIGxldCBuZXh0ID0gbnVsbDtcbiAgICAgICAgaWYgKGlzTFZpZXcobFZpZXdPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAvLyBJZiBMVmlldywgdHJhdmVyc2UgZG93biB0byBjaGlsZC5cbiAgICAgICAgICAgIG5leHQgPSBsVmlld09yTENvbnRhaW5lcltDSElMRF9IRUFEXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGxWaWV3T3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgIC8vIElmIGNvbnRhaW5lciwgdHJhdmVyc2UgZG93biB0byBpdHMgZmlyc3QgTFZpZXcuXG4gICAgICAgICAgICBjb25zdCBmaXJzdFZpZXcgPSBsVmlld09yTENvbnRhaW5lcltDT05UQUlORVJfSEVBREVSX09GRlNFVF07XG4gICAgICAgICAgICBpZiAoZmlyc3RWaWV3KVxuICAgICAgICAgICAgICAgIG5leHQgPSBmaXJzdFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAvLyBPbmx5IGNsZWFuIHVwIHZpZXcgd2hlbiBtb3ZpbmcgdG8gdGhlIHNpZGUgb3IgdXAsIGFzIGRlc3Ryb3kgaG9va3NcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBjYWxsZWQgaW4gb3JkZXIgZnJvbSB0aGUgYm90dG9tIHVwLlxuICAgICAgICAgICAgd2hpbGUgKGxWaWV3T3JMQ29udGFpbmVyICYmICFsVmlld09yTENvbnRhaW5lcltORVhUXSAmJiBsVmlld09yTENvbnRhaW5lciAhPT0gcm9vdFZpZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNMVmlldyhsVmlld09yTENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5VcFZpZXcobFZpZXdPckxDb250YWluZXJbVFZJRVddLCBsVmlld09yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxWaWV3T3JMQ29udGFpbmVyID0gbFZpZXdPckxDb250YWluZXJbUEFSRU5UXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsVmlld09yTENvbnRhaW5lciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICBsVmlld09yTENvbnRhaW5lciA9IHJvb3RWaWV3O1xuICAgICAgICAgICAgaWYgKGlzTFZpZXcobFZpZXdPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgY2xlYW5VcFZpZXcobFZpZXdPckxDb250YWluZXJbVFZJRVddLCBsVmlld09yTENvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gbFZpZXdPckxDb250YWluZXIgJiYgbFZpZXdPckxDb250YWluZXJbTkVYVF07XG4gICAgICAgIH1cbiAgICAgICAgbFZpZXdPckxDb250YWluZXIgPSBuZXh0O1xuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0cyBhIHZpZXcgaW50byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGFkZHMgdGhlIHZpZXcgdG8gdGhlIGNvbnRhaW5lcidzIGFycmF5IG9mIGFjdGl2ZSB2aWV3cyBpbiB0aGUgY29ycmVjdFxuICogcG9zaXRpb24uIEl0IGFsc28gYWRkcyB0aGUgdmlldydzIGVsZW1lbnRzIHRvIHRoZSBET00gaWYgdGhlIGNvbnRhaW5lciBpc24ndCBhXG4gKiByb290IG5vZGUgb2YgYW5vdGhlciB2aWV3IChpbiB0aGF0IGNhc2UsIHRoZSB2aWV3J3MgZWxlbWVudHMgd2lsbCBiZSBhZGRlZCB3aGVuXG4gKiB0aGUgY29udGFpbmVyJ3MgcGFyZW50IHZpZXcgaXMgYWRkZWQgbGF0ZXIpLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCB0byBpbnNlcnRcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byBpbnNlcnRcbiAqIEBwYXJhbSBsQ29udGFpbmVyIFRoZSBjb250YWluZXIgaW50byB3aGljaCB0aGUgdmlldyBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAqIEBwYXJhbSBpbmRleCBXaGljaCBpbmRleCBpbiB0aGUgY29udGFpbmVyIHRvIGluc2VydCB0aGUgY2hpbGQgdmlldyBpbnRvXG4gKi9cbmZ1bmN0aW9uIGluc2VydFZpZXcodFZpZXcsIGxWaWV3LCBsQ29udGFpbmVyLCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIobENvbnRhaW5lcik7XG4gICAgY29uc3QgaW5kZXhJbkNvbnRhaW5lciA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgaW5kZXg7XG4gICAgY29uc3QgY29udGFpbmVyTGVuZ3RoID0gbENvbnRhaW5lci5sZW5ndGg7XG4gICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgbmV3IHZpZXcsIHdlIG5lZWQgdG8gYWRkIGl0IHRvIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyIC0gMV1bTkVYVF0gPSBsVmlldztcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgY29udGFpbmVyTGVuZ3RoIC0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQpIHtcbiAgICAgICAgbFZpZXdbTkVYVF0gPSBsQ29udGFpbmVyW2luZGV4SW5Db250YWluZXJdO1xuICAgICAgICBhZGRUb0FycmF5KGxDb250YWluZXIsIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgaW5kZXgsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxDb250YWluZXIucHVzaChsVmlldyk7XG4gICAgICAgIGxWaWV3W05FWFRdID0gbnVsbDtcbiAgICB9XG4gICAgbFZpZXdbUEFSRU5UXSA9IGxDb250YWluZXI7XG4gICAgLy8gdHJhY2sgdmlld3Mgd2hlcmUgZGVjbGFyYXRpb24gYW5kIGluc2VydGlvbiBwb2ludHMgYXJlIGRpZmZlcmVudFxuICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IGxWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdO1xuICAgIGlmIChkZWNsYXJhdGlvbkxDb250YWluZXIgIT09IG51bGwgJiYgbENvbnRhaW5lciAhPT0gZGVjbGFyYXRpb25MQ29udGFpbmVyKSB7XG4gICAgICAgIHRyYWNrTW92ZWRWaWV3KGRlY2xhcmF0aW9uTENvbnRhaW5lciwgbFZpZXcpO1xuICAgIH1cbiAgICAvLyBub3RpZnkgcXVlcnkgdGhhdCBhIG5ldyB2aWV3IGhhcyBiZWVuIGFkZGVkXG4gICAgY29uc3QgbFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXTtcbiAgICBpZiAobFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgbFF1ZXJpZXMuaW5zZXJ0Vmlldyh0Vmlldyk7XG4gICAgfVxuICAgIC8vIFNldHMgdGhlIGF0dGFjaGVkIGZsYWdcbiAgICBsVmlld1tGTEFHU10gfD0gMTI4IC8qIEF0dGFjaGVkICovO1xufVxuLyoqXG4gKiBUcmFjayB2aWV3cyBjcmVhdGVkIGZyb20gdGhlIGRlY2xhcmF0aW9uIGNvbnRhaW5lciAoVGVtcGxhdGVSZWYpIGFuZCBpbnNlcnRlZCBpbnRvIGFcbiAqIGRpZmZlcmVudCBMQ29udGFpbmVyLlxuICovXG5mdW5jdGlvbiB0cmFja01vdmVkVmlldyhkZWNsYXJhdGlvbkNvbnRhaW5lciwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlldywgJ0xWaWV3IHJlcXVpcmVkJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25Db250YWluZXIpO1xuICAgIGNvbnN0IG1vdmVkVmlld3MgPSBkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgY29uc3QgaW5zZXJ0ZWRMQ29udGFpbmVyID0gbFZpZXdbUEFSRU5UXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihpbnNlcnRlZExDb250YWluZXIpO1xuICAgIGNvbnN0IGluc2VydGVkQ29tcG9uZW50TFZpZXcgPSBpbnNlcnRlZExDb250YWluZXJbUEFSRU5UXVtERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaW5zZXJ0ZWRDb21wb25lbnRMVmlldywgJ01pc3NpbmcgaW5zZXJ0ZWRDb21wb25lbnRMVmlldycpO1xuICAgIGNvbnN0IGRlY2xhcmVkQ29tcG9uZW50TFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZGVjbGFyZWRDb21wb25lbnRMVmlldywgJ01pc3NpbmcgZGVjbGFyZWRDb21wb25lbnRMVmlldycpO1xuICAgIGlmIChkZWNsYXJlZENvbXBvbmVudExWaWV3ICE9PSBpbnNlcnRlZENvbXBvbmVudExWaWV3KSB7XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIGRlY2xhcmF0aW9uLWNvbXBvbmVudCBpcyBub3Qgc2FtZSBhcyBpbnNlcnRpb24tY29tcG9uZW50OyB0aGlzIG1lYW5zIHRoYXRcbiAgICAgICAgLy8gdGhpcyBpcyBhIHRyYW5zcGxhbnRlZCB2aWV3LiBNYXJrIHRoZSBkZWNsYXJlZCBsVmlldyBhcyBoYXZpbmcgdHJhbnNwbGFudGVkIHZpZXdzIHNvIHRoYXRcbiAgICAgICAgLy8gdGhvc2Ugdmlld3MgY2FuIHBhcnRpY2lwYXRlIGluIENELlxuICAgICAgICBkZWNsYXJhdGlvbkNvbnRhaW5lcltIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTXSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChtb3ZlZFZpZXdzID09PSBudWxsKSB7XG4gICAgICAgIGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXSA9IFtsVmlld107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtb3ZlZFZpZXdzLnB1c2gobFZpZXcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaE1vdmVkVmlldyhkZWNsYXJhdGlvbkNvbnRhaW5lciwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkNvbnRhaW5lcik7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydERlZmluZWQoZGVjbGFyYXRpb25Db250YWluZXJbTU9WRURfVklFV1NdLCAnQSBwcm9qZWN0ZWQgdmlldyBzaG91bGQgYmVsb25nIHRvIGEgbm9uLWVtcHR5IHByb2plY3RlZCB2aWV3cyBjb2xsZWN0aW9uJyk7XG4gICAgY29uc3QgbW92ZWRWaWV3cyA9IGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICBjb25zdCBkZWNsYXJhdGlvblZpZXdJbmRleCA9IG1vdmVkVmlld3MuaW5kZXhPZihsVmlldyk7XG4gICAgY29uc3QgaW5zZXJ0aW9uTENvbnRhaW5lciA9IGxWaWV3W1BBUkVOVF07XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoaW5zZXJ0aW9uTENvbnRhaW5lcik7XG4gICAgLy8gSWYgdGhlIHZpZXcgd2FzIG1hcmtlZCBmb3IgcmVmcmVzaCBidXQgdGhlbiBkZXRhY2hlZCBiZWZvcmUgaXQgd2FzIGNoZWNrZWQgKHdoZXJlIHRoZSBmbGFnXG4gICAgLy8gd291bGQgYmUgY2xlYXJlZCBhbmQgdGhlIGNvdW50ZXIgZGVjcmVtZW50ZWQpLCB3ZSBuZWVkIHRvIGRlY3JlbWVudCB0aGUgdmlldyBjb3VudGVyIGhlcmVcbiAgICAvLyBpbnN0ZWFkLlxuICAgIGlmIChsVmlld1tGTEFHU10gJiAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovKSB7XG4gICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+MTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLztcbiAgICAgICAgdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGluc2VydGlvbkxDb250YWluZXIsIC0xKTtcbiAgICB9XG4gICAgbW92ZWRWaWV3cy5zcGxpY2UoZGVjbGFyYXRpb25WaWV3SW5kZXgsIDEpO1xufVxuLyoqXG4gKiBEZXRhY2hlcyBhIHZpZXcgZnJvbSBhIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZW1vdmVzIHRoZSB2aWV3IGZyb20gdGhlIGNvbnRhaW5lcidzIGFycmF5IG9mIGFjdGl2ZSB2aWV3cy4gSXQgYWxzb1xuICogcmVtb3ZlcyB0aGUgdmlldydzIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cbiAqXG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgY29udGFpbmVyIGZyb20gd2hpY2ggdG8gZGV0YWNoIGEgdmlld1xuICogQHBhcmFtIHJlbW92ZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgdmlldyB0byBkZXRhY2hcbiAqIEByZXR1cm5zIERldGFjaGVkIExWaWV3IGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBkZXRhY2hWaWV3KGxDb250YWluZXIsIHJlbW92ZUluZGV4KSB7XG4gICAgaWYgKGxDb250YWluZXIubGVuZ3RoIDw9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgaW5kZXhJbkNvbnRhaW5lciA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgcmVtb3ZlSW5kZXg7XG4gICAgY29uc3Qgdmlld1RvRGV0YWNoID0gbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyXTtcbiAgICBpZiAodmlld1RvRGV0YWNoKSB7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IHZpZXdUb0RldGFjaFtERUNMQVJBVElPTl9MQ09OVEFJTkVSXTtcbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uTENvbnRhaW5lciAhPT0gbnVsbCAmJiBkZWNsYXJhdGlvbkxDb250YWluZXIgIT09IGxDb250YWluZXIpIHtcbiAgICAgICAgICAgIGRldGFjaE1vdmVkVmlldyhkZWNsYXJhdGlvbkxDb250YWluZXIsIHZpZXdUb0RldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZUluZGV4ID4gMCkge1xuICAgICAgICAgICAgbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyIC0gMV1bTkVYVF0gPSB2aWV3VG9EZXRhY2hbTkVYVF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlZExWaWV3ID0gcmVtb3ZlRnJvbUFycmF5KGxDb250YWluZXIsIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgcmVtb3ZlSW5kZXgpO1xuICAgICAgICByZW1vdmVWaWV3RnJvbUNvbnRhaW5lcih2aWV3VG9EZXRhY2hbVFZJRVddLCB2aWV3VG9EZXRhY2gpO1xuICAgICAgICAvLyBub3RpZnkgcXVlcnkgdGhhdCBhIHZpZXcgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICBjb25zdCBsUXVlcmllcyA9IHJlbW92ZWRMVmlld1tRVUVSSUVTXTtcbiAgICAgICAgaWYgKGxRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsUXVlcmllcy5kZXRhY2hWaWV3KHJlbW92ZWRMVmlld1tUVklFV10pO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdUb0RldGFjaFtQQVJFTlRdID0gbnVsbDtcbiAgICAgICAgdmlld1RvRGV0YWNoW05FWFRdID0gbnVsbDtcbiAgICAgICAgLy8gVW5zZXRzIHRoZSBhdHRhY2hlZCBmbGFnXG4gICAgICAgIHZpZXdUb0RldGFjaFtGTEFHU10gJj0gfjEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdUb0RldGFjaDtcbn1cbi8qKlxuICogQSBzdGFuZGFsb25lIGZ1bmN0aW9uIHdoaWNoIGRlc3Ryb3lzIGFuIExWaWV3LFxuICogY29uZHVjdGluZyBjbGVhbiB1cCAoZS5nLiByZW1vdmluZyBsaXN0ZW5lcnMsIGNhbGxpbmcgb25EZXN0cm95cykuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIHRvIGJlIGRlc3Ryb3llZFxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIGJlIGRlc3Ryb3llZC5cbiAqL1xuZnVuY3Rpb24gZGVzdHJveUxWaWV3KHRWaWV3LCBsVmlldykge1xuICAgIGlmICghKGxWaWV3W0ZMQUdTXSAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpICYmIHJlbmRlcmVyLmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgICAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgMyAvKiBEZXN0cm95ICovLCBudWxsLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95Vmlld1RyZWUobFZpZXcpO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbHMgb25EZXN0cm95cyBob29rcyBmb3IgYWxsIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGluIGEgZ2l2ZW4gdmlldyBhbmQgdGhlbiByZW1vdmVzIGFsbFxuICogbGlzdGVuZXJzLiBMaXN0ZW5lcnMgYXJlIHJlbW92ZWQgYXMgdGhlIGxhc3Qgc3RlcCBzbyBldmVudHMgZGVsaXZlcmVkIGluIHRoZSBvbkRlc3Ryb3lzIGhvb2tzXG4gKiBjYW4gYmUgcHJvcGFnYXRlZCB0byBAT3V0cHV0IGxpc3RlbmVycy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCBmb3IgdGhlIGBMVmlld2AgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHRvIGNsZWFuIHVwXG4gKi9cbmZ1bmN0aW9uIGNsZWFuVXBWaWV3KHRWaWV3LCBsVmlldykge1xuICAgIGlmICghKGxWaWV3W0ZMQUdTXSAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pKSB7XG4gICAgICAgIC8vIFVzdWFsbHkgdGhlIEF0dGFjaGVkIGZsYWcgaXMgcmVtb3ZlZCB3aGVuIHRoZSB2aWV3IGlzIGRldGFjaGVkIGZyb20gaXRzIHBhcmVudCwgaG93ZXZlclxuICAgICAgICAvLyBpZiBpdCdzIGEgcm9vdCB2aWV3LCB0aGUgZmxhZyB3b24ndCBiZSB1bnNldCBoZW5jZSB3aHkgd2UncmUgYWxzbyByZW1vdmluZyBvbiBkZXN0cm95LlxuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICAgICAgLy8gTWFyayB0aGUgTFZpZXcgYXMgZGVzdHJveWVkICpiZWZvcmUqIGV4ZWN1dGluZyB0aGUgb25EZXN0cm95IGhvb2tzLiBBbiBvbkRlc3Ryb3kgaG9va1xuICAgICAgICAvLyBydW5zIGFyYml0cmFyeSB1c2VyIGNvZGUsIHdoaWNoIGNvdWxkIGluY2x1ZGUgaXRzIG93biBgdmlld1JlZi5kZXN0cm95KClgIChvciBzaW1pbGFyKS4gSWZcbiAgICAgICAgLy8gV2UgZG9uJ3QgZmxhZyB0aGUgdmlldyBhcyBkZXN0cm95ZWQgYmVmb3JlIHRoZSBob29rcywgdGhpcyBjb3VsZCBsZWFkIHRvIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBhbGlnbnMgd2l0aCB0aGUgVmlld0VuZ2luZSBiZWhhdmlvci4gSXQgYWxzbyBtZWFucyB0aGF0IHRoZSBvbkRlc3Ryb3kgaG9vayBpc1xuICAgICAgICAvLyByZWFsbHkgbW9yZSBvZiBhbiBcImFmdGVyRGVzdHJveVwiIGhvb2sgaWYgeW91IHRoaW5rIGFib3V0IGl0LlxuICAgICAgICBsVmlld1tGTEFHU10gfD0gMjU2IC8qIERlc3Ryb3llZCAqLztcbiAgICAgICAgZXhlY3V0ZU9uRGVzdHJveXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgcHJvY2Vzc0NsZWFudXBzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIC8vIEZvciBjb21wb25lbnQgdmlld3Mgb25seSwgdGhlIGxvY2FsIHJlbmRlcmVyIGlzIGRlc3Ryb3llZCBhdCBjbGVhbiB1cCB0aW1lLlxuICAgICAgICBpZiAobFZpZXdbVFZJRVddLnR5cGUgPT09IDEgLyogQ29tcG9uZW50ICovICYmIGlzUHJvY2VkdXJhbFJlbmRlcmVyKGxWaWV3W1JFTkRFUkVSXSkpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJEZXN0cm95Kys7XG4gICAgICAgICAgICBsVmlld1tSRU5ERVJFUl0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uQ29udGFpbmVyID0gbFZpZXdbREVDTEFSQVRJT05fTENPTlRBSU5FUl07XG4gICAgICAgIC8vIHdlIGFyZSBkZWFsaW5nIHdpdGggYW4gZW1iZWRkZWQgdmlldyB0aGF0IGlzIHN0aWxsIGluc2VydGVkIGludG8gYSBjb250YWluZXJcbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uQ29udGFpbmVyICE9PSBudWxsICYmIGlzTENvbnRhaW5lcihsVmlld1tQQVJFTlRdKSkge1xuICAgICAgICAgICAgLy8gYW5kIHRoaXMgaXMgYSBwcm9qZWN0ZWQgdmlld1xuICAgICAgICAgICAgaWYgKGRlY2xhcmF0aW9uQ29udGFpbmVyICE9PSBsVmlld1tQQVJFTlRdKSB7XG4gICAgICAgICAgICAgICAgZGV0YWNoTW92ZWRWaWV3KGRlY2xhcmF0aW9uQ29udGFpbmVyLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgZW1iZWRkZWQgdmlld3Mgc3RpbGwgYXR0YWNoZWQgdG8gYSBjb250YWluZXI6IHJlbW92ZSBxdWVyeSByZXN1bHQgZnJvbSB0aGlzIHZpZXcuXG4gICAgICAgICAgICBjb25zdCBsUXVlcmllcyA9IGxWaWV3W1FVRVJJRVNdO1xuICAgICAgICAgICAgaWYgKGxRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbFF1ZXJpZXMuZGV0YWNoVmlldyh0Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogUmVtb3ZlcyBsaXN0ZW5lcnMgYW5kIHVuc3Vic2NyaWJlcyBmcm9tIG91dHB1dCBzdWJzY3JpcHRpb25zICovXG5mdW5jdGlvbiBwcm9jZXNzQ2xlYW51cHModFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgLy8gYExDbGVhbnVwYCBjb250YWlucyBib3RoIHNoYXJlIGluZm9ybWF0aW9uIHdpdGggYFRDbGVhbnVwYCBhcyB3ZWxsIGFzIGluc3RhbmNlIHNwZWNpZmljXG4gICAgLy8gaW5mb3JtYXRpb24gYXBwZW5kZWQgYXQgdGhlIGVuZC4gV2UgbmVlZCB0byBrbm93IHdoZXJlIHRoZSBlbmQgb2YgdGhlIGBUQ2xlYW51cGAgaW5mb3JtYXRpb25cbiAgICAvLyBpcywgYW5kIHdlIHRyYWNrIHRoaXMgd2l0aCBgbGFzdExDbGVhbnVwSW5kZXhgLlxuICAgIGxldCBsYXN0TENsZWFudXBJbmRleCA9IC0xO1xuICAgIGlmICh0Q2xlYW51cCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0Q2xlYW51cFtpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbmF0aXZlIERPTSBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkeE9yVGFyZ2V0R2V0dGVyID0gdENsZWFudXBbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHR5cGVvZiBpZHhPclRhcmdldEdldHRlciA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICAgIGlkeE9yVGFyZ2V0R2V0dGVyKGxWaWV3KSA6XG4gICAgICAgICAgICAgICAgICAgIHVud3JhcFJOb2RlKGxWaWV3W2lkeE9yVGFyZ2V0R2V0dGVyXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsQ2xlYW51cFtsYXN0TENsZWFudXBJbmRleCA9IHRDbGVhbnVwW2kgKyAyXV07XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlQ2FwdHVyZU9yU3ViSWR4ID0gdENsZWFudXBbaSArIDNdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlQ2FwdHVyZU9yU3ViSWR4ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF0aXZlIERPTSBsaXN0ZW5lciByZWdpc3RlcmVkIHdpdGggUmVuZGVyZXIzXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRDbGVhbnVwW2ldLCBsaXN0ZW5lciwgdXNlQ2FwdHVyZU9yU3ViSWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VDYXB0dXJlT3JTdWJJZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSB1c2VDYXB0dXJlT3JTdWJJZHhdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gLXVzZUNhcHR1cmVPclN1YklkeF0udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgY2xlYW51cCBmdW5jdGlvbiB0aGF0IGlzIGdyb3VwZWQgd2l0aCB0aGUgaW5kZXggb2YgaXRzIGNvbnRleHRcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSB0Q2xlYW51cFtpICsgMV1dO1xuICAgICAgICAgICAgICAgIHRDbGVhbnVwW2ldLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxDbGVhbnVwICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0TENsZWFudXBJbmRleCArIDE7IGkgPCBsQ2xlYW51cC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VDbGVhbnVwRm4gPSBsQ2xlYW51cFtpXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGdW5jdGlvbihpbnN0YW5jZUNsZWFudXBGbiwgJ0V4cGVjdGluZyBpbnN0YW5jZSBjbGVhbnVwIGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgaW5zdGFuY2VDbGVhbnVwRm4oKTtcbiAgICAgICAgfVxuICAgICAgICBsVmlld1tDTEVBTlVQXSA9IG51bGw7XG4gICAgfVxufVxuLyoqIENhbGxzIG9uRGVzdHJveSBob29rcyBmb3IgdGhpcyB2aWV3ICovXG5mdW5jdGlvbiBleGVjdXRlT25EZXN0cm95cyh0VmlldywgbFZpZXcpIHtcbiAgICBsZXQgZGVzdHJveUhvb2tzO1xuICAgIGlmICh0VmlldyAhPSBudWxsICYmIChkZXN0cm95SG9va3MgPSB0Vmlldy5kZXN0cm95SG9va3MpICE9IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXN0cm95SG9va3MubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBsVmlld1tkZXN0cm95SG9va3NbaV1dO1xuICAgICAgICAgICAgLy8gT25seSBjYWxsIHRoZSBkZXN0cm95IGhvb2sgaWYgdGhlIGNvbnRleHQgaGFzIGJlZW4gcmVxdWVzdGVkLlxuICAgICAgICAgICAgaWYgKCEoY29udGV4dCBpbnN0YW5jZW9mIE5vZGVJbmplY3RvckZhY3RvcnkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9DYWxsID0gZGVzdHJveUhvb2tzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b0NhbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdG9DYWxsLmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsQ29udGV4dCA9IGNvbnRleHRbdG9DYWxsW2pdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvb2sgPSB0b0NhbGxbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGNhbGxDb250ZXh0LCBob29rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9vay5jYWxsKGNhbGxDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgY2FsbENvbnRleHQsIGhvb2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9maWxlcig0IC8qIExpZmVjeWNsZUhvb2tTdGFydCAqLywgY29udGV4dCwgdG9DYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbC5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBjb250ZXh0LCB0b0NhbGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIGVsZW1lbnQgaWYgYSBub2RlIGNhbiBiZSBpbnNlcnRlZCBpbnRvIHRoZSBnaXZlbiBwYXJlbnQuXG4gKlxuICogVGhlcmUgYXJlIHR3byByZWFzb25zIHdoeSB3ZSBtYXkgbm90IGJlIGFibGUgdG8gaW5zZXJ0IGEgZWxlbWVudCBpbW1lZGlhdGVseS5cbiAqIC0gUHJvamVjdGlvbjogV2hlbiBjcmVhdGluZyBhIGNoaWxkIGNvbnRlbnQgZWxlbWVudCBvZiBhIGNvbXBvbmVudCwgd2UgaGF2ZSB0byBza2lwIHRoZVxuICogICBpbnNlcnRpb24gYmVjYXVzZSB0aGUgY29udGVudCBvZiBhIGNvbXBvbmVudCB3aWxsIGJlIHByb2plY3RlZC5cbiAqICAgYDxjb21wb25lbnQ+PGNvbnRlbnQ+ZGVsYXllZCBkdWUgdG8gcHJvamVjdGlvbjwvY29udGVudD48L2NvbXBvbmVudD5gXG4gKiAtIFBhcmVudCBjb250YWluZXIgaXMgZGlzY29ubmVjdGVkOiBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhcmUgaW5zZXJ0aW5nIGEgdmlldyBpbnRvXG4gKiAgIHBhcmVudCBjb250YWluZXIsIHdoaWNoIGl0c2VsZiBpcyBkaXNjb25uZWN0ZWQuIEZvciBleGFtcGxlIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIHBhcnRcbiAqICAgb2YgYSBWaWV3IHdoaWNoIGhhcyBub3QgYmUgaW5zZXJ0ZWQgb3IgaXMgbWFkZSBmb3IgcHJvamVjdGlvbiBidXQgaGFzIG5vdCBiZWVuIGluc2VydGVkXG4gKiAgIGludG8gZGVzdGluYXRpb24uXG4gKlxuICogQHBhcmFtIHRWaWV3OiBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gdE5vZGU6IGBUTm9kZWAgZm9yIHdoaWNoIHdlIHdpc2ggdG8gcmV0cmlldmUgcmVuZGVyIHBhcmVudC5cbiAqIEBwYXJhbSBsVmlldzogQ3VycmVudCBgTFZpZXdgLlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRSRWxlbWVudCh0VmlldywgdE5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIGdldENsb3Nlc3RSRWxlbWVudCh0VmlldywgdE5vZGUucGFyZW50LCBsVmlldyk7XG59XG4vKipcbiAqIEdldCBjbG9zZXN0IGBSRWxlbWVudGAgb3IgYG51bGxgIGlmIGl0IGNhbid0IGJlIGZvdW5kLlxuICpcbiAqIElmIGBUTm9kZWAgaXMgYFROb2RlVHlwZS5FbGVtZW50YCA9PiByZXR1cm4gYFJFbGVtZW50YCBhdCBgTFZpZXdbdE5vZGUuaW5kZXhdYCBsb2NhdGlvbi5cbiAqIElmIGBUTm9kZWAgaXMgYFROb2RlVHlwZS5FbGVtZW50Q29udGFpbmVyfEljdUNvbnRhaW5gID0+IHJldHVybiB0aGUgcGFyZW50IChyZWN1cnNpdmVseSkuXG4gKiBJZiBgVE5vZGVgIGlzIGBudWxsYCB0aGVuIHJldHVybiBob3N0IGBSRWxlbWVudGA6XG4gKiAgIC0gcmV0dXJuIGBudWxsYCBpZiBwcm9qZWN0aW9uXG4gKiAgIC0gcmV0dXJuIGBudWxsYCBpZiBwYXJlbnQgY29udGFpbmVyIGlzIGRpc2Nvbm5lY3RlZCAod2UgaGF2ZSBubyBwYXJlbnQuKVxuICpcbiAqIEBwYXJhbSB0VmlldzogQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIHROb2RlOiBgVE5vZGVgIGZvciB3aGljaCB3ZSB3aXNoIHRvIHJldHJpZXZlIGBSRWxlbWVudGAgKG9yIGBudWxsYCBpZiBob3N0IGVsZW1lbnQgaXNcbiAqICAgICBuZWVkZWQpLlxuICogQHBhcmFtIGxWaWV3OiBDdXJyZW50IGBMVmlld2AuXG4gKiBAcmV0dXJucyBgbnVsbGAgaWYgdGhlIGBSRWxlbWVudGAgY2FuJ3QgYmUgZGV0ZXJtaW5lZCBhdCB0aGlzIHRpbWUgKG5vIHBhcmVudCAvIHByb2plY3Rpb24pXG4gKi9cbmZ1bmN0aW9uIGdldENsb3Nlc3RSRWxlbWVudCh0VmlldywgdE5vZGUsIGxWaWV3KSB7XG4gICAgbGV0IHBhcmVudFROb2RlID0gdE5vZGU7XG4gICAgLy8gU2tpcCBvdmVyIGVsZW1lbnQgYW5kIElDVSBjb250YWluZXJzIGFzIHRob3NlIGFyZSByZXByZXNlbnRlZCBieSBhIGNvbW1lbnQgbm9kZSBhbmRcbiAgICAvLyBjYW4ndCBiZSB1c2VkIGFzIGEgcmVuZGVyIHBhcmVudC5cbiAgICB3aGlsZSAocGFyZW50VE5vZGUgIT09IG51bGwgJiZcbiAgICAgICAgKHBhcmVudFROb2RlLnR5cGUgJiAoOCAvKiBFbGVtZW50Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovKSkpIHtcbiAgICAgICAgdE5vZGUgPSBwYXJlbnRUTm9kZTtcbiAgICAgICAgcGFyZW50VE5vZGUgPSB0Tm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIC8vIElmIHRoZSBwYXJlbnQgdE5vZGUgaXMgbnVsbCwgdGhlbiB3ZSBhcmUgaW5zZXJ0aW5nIGFjcm9zcyB2aWV3czogZWl0aGVyIGludG8gYW4gZW1iZWRkZWQgdmlld1xuICAgIC8vIG9yIGEgY29tcG9uZW50IHZpZXcuXG4gICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbnNlcnRpbmcgYSByb290IGVsZW1lbnQgb2YgdGhlIGNvbXBvbmVudCB2aWV3IGludG8gdGhlIGNvbXBvbmVudCBob3N0IGVsZW1lbnQgYW5kXG4gICAgICAgIC8vIGl0IHNob3VsZCBhbHdheXMgYmUgZWFnZXIuXG4gICAgICAgIHJldHVybiBsVmlld1tIT1NUXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUocGFyZW50VE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCA0IC8qIENvbnRhaW5lciAqLyk7XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyhwYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgY29uc3QgZW5jYXBzdWxhdGlvbiA9IHRWaWV3LmRhdGFbcGFyZW50VE5vZGUuZGlyZWN0aXZlU3RhcnRdLmVuY2Fwc3VsYXRpb247XG4gICAgICAgICAgICAvLyBXZSd2ZSBnb3QgYSBwYXJlbnQgd2hpY2ggaXMgYW4gZWxlbWVudCBpbiB0aGUgY3VycmVudCB2aWV3LiBXZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRoZVxuICAgICAgICAgICAgLy8gcGFyZW50IGVsZW1lbnQgaXMgbm90IGEgY29tcG9uZW50LiBDb21wb25lbnQncyBjb250ZW50IG5vZGVzIGFyZSBub3QgaW5zZXJ0ZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhleSB3aWxsIGJlIHByb2plY3RlZCwgYW5kIHNvIGRvaW5nIGluc2VydCBhdCB0aGlzIHBvaW50IHdvdWxkIGJlIHdhc3RlZnVsLlxuICAgICAgICAgICAgLy8gU2luY2UgdGhlIHByb2plY3Rpb24gd291bGQgdGhlbiBtb3ZlIGl0IHRvIGl0cyBmaW5hbCBkZXN0aW5hdGlvbi4gTm90ZSB0aGF0IHdlIGNhbid0XG4gICAgICAgICAgICAvLyBtYWtlIHRoaXMgYXNzdW1wdGlvbiB3aGVuIHVzaW5nIHRoZSBTaGFkb3cgRE9NLCBiZWNhdXNlIHRoZSBuYXRpdmUgcHJvamVjdGlvbiBwbGFjZWhvbGRlcnNcbiAgICAgICAgICAgIC8vICg8Y29udGVudD4gb3IgPHNsb3Q+KSBoYXZlIHRvIGJlIGluIHBsYWNlIGFzIGVsZW1lbnRzIGFyZSBiZWluZyBpbnNlcnRlZC5cbiAgICAgICAgICAgIGlmIChlbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbiQxLk5vbmUgfHxcbiAgICAgICAgICAgICAgICBlbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbiQxLkVtdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldE5hdGl2ZUJ5VE5vZGUocGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgYSBuYXRpdmUgbm9kZSBiZWZvcmUgYW5vdGhlciBuYXRpdmUgbm9kZSBmb3IgYSBnaXZlbiBwYXJlbnQgdXNpbmcge0BsaW5rIFJlbmRlcmVyM30uXG4gKiBUaGlzIGlzIGEgdXRpbGl0eSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHdoZW4gbmF0aXZlIG5vZGVzIHdlcmUgZGV0ZXJtaW5lZCAtIGl0IGFic3RyYWN0cyBhblxuICogYWN0dWFsIHJlbmRlcmVyIGJlaW5nIHVzZWQuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckluc2VydEJlZm9yZSsrO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIuaW5zZXJ0QmVmb3JlKHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5hdGl2ZUFwcGVuZENoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFwcGVuZENoaWxkKys7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocGFyZW50LCAncGFyZW50IG5vZGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSkge1xuICAgIGlmIChiZWZvcmVOb2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5hdGl2ZUFwcGVuZENoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG59XG4vKiogUmVtb3ZlcyBhIG5vZGUgZnJvbSB0aGUgRE9NIGdpdmVuIGl0cyBuYXRpdmUgcGFyZW50LiAqL1xuZnVuY3Rpb24gbmF0aXZlUmVtb3ZlQ2hpbGQocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQsIGlzSG9zdEVsZW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgYSBuYXRpdmUgcGFyZW50IG9mIGEgZ2l2ZW4gbmF0aXZlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIG5vZGUpIHtcbiAgICByZXR1cm4gKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnBhcmVudE5vZGUobm9kZSkgOiBub2RlLnBhcmVudE5vZGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIHNpYmxpbmcgb2YgYSBnaXZlbiBuYXRpdmUgbm9kZS5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlTmV4dFNpYmxpbmcocmVuZGVyZXIsIG5vZGUpIHtcbiAgICByZXR1cm4gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIubmV4dFNpYmxpbmcobm9kZSkgOiBub2RlLm5leHRTaWJsaW5nO1xufVxuLyoqXG4gKiBGaW5kIGEgbm9kZSBpbiBmcm9udCBvZiB3aGljaCBgY3VycmVudFROb2RlYCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKlxuICogVGhpcyBtZXRob2QgZGV0ZXJtaW5lcyB0aGUgYFJOb2RlYCBpbiBmcm9udCBvZiB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoZSBgY3VycmVudFJOb2RlYC4gVGhpc1xuICogdGFrZXMgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBpbnRvIGFjY291bnQgaWYgaTE4biBjb2RlIGhhcyBiZWVuIGludm9rZWQuXG4gKlxuICogQHBhcmFtIHBhcmVudFROb2RlIHBhcmVudCBgVE5vZGVgXG4gKiBAcGFyYW0gY3VycmVudFROb2RlIGN1cnJlbnQgYFROb2RlYCAoVGhlIG5vZGUgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBpbnNlcnQgaW50byB0aGUgRE9NKVxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZShwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBfZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bihwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldyk7XG59XG4vKipcbiAqIEZpbmQgYSBub2RlIGluIGZyb250IG9mIHdoaWNoIGBjdXJyZW50VE5vZGVgIHNob3VsZCBiZSBpbnNlcnRlZC4gKERvZXMgbm90IHRha2UgaTE4biBpbnRvXG4gKiBhY2NvdW50KVxuICpcbiAqIFRoaXMgbWV0aG9kIGRldGVybWluZXMgdGhlIGBSTm9kZWAgaW4gZnJvbnQgb2Ygd2hpY2ggd2Ugc2hvdWxkIGluc2VydCB0aGUgYGN1cnJlbnRSTm9kZWAuIFRoaXNcbiAqIGRvZXMgbm90IHRha2UgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBpbnRvIGFjY291bnQuXG4gKlxuICogQHBhcmFtIHBhcmVudFROb2RlIHBhcmVudCBgVE5vZGVgXG4gKiBAcGFyYW0gY3VycmVudFROb2RlIGN1cnJlbnQgYFROb2RlYCAoVGhlIG5vZGUgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBpbnNlcnQgaW50byB0aGUgRE9NKVxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhOb0kxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpIHtcbiAgICBpZiAocGFyZW50VE5vZGUudHlwZSAmICg4IC8qIEVsZW1lbnRDb250YWluZXIgKi8gfCAzMiAvKiBJY3UgKi8pKSB7XG4gICAgICAgIHJldHVybiBnZXROYXRpdmVCeVROb2RlKHBhcmVudFROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUcmVlIHNoYWthYmxlIGJvdW5kYXJ5IGZvciBgZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bmAgZnVuY3Rpb24uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgc2V0IGlmIGkxOG4gY29kZSBydW5zLlxuICovXG5sZXQgX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4gPSBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhOb0kxOG47XG4vKipcbiAqIFRyZWUgc2hha2FibGUgYm91bmRhcnkgZm9yIGBwcm9jZXNzSTE4bkluc2VydEJlZm9yZWAgZnVuY3Rpb24uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgc2V0IGlmIGkxOG4gY29kZSBydW5zLlxuICovXG5sZXQgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlO1xuZnVuY3Rpb24gc2V0STE4bkhhbmRsaW5nKGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4sIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKSB7XG4gICAgX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4gPSBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuO1xuICAgIF9wcm9jZXNzSTE4bkluc2VydEJlZm9yZSA9IHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlO1xufVxuLyoqXG4gKiBBcHBlbmRzIHRoZSBgY2hpbGRgIG5hdGl2ZSBub2RlIChvciBhIGNvbGxlY3Rpb24gb2Ygbm9kZXMpIHRvIHRoZSBgcGFyZW50YC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgY3VycmVudCBMVmlld1xuICogQHBhcmFtIGNoaWxkUk5vZGUgVGhlIG5hdGl2ZSBjaGlsZCAob3IgY2hpbGRyZW4pIHRoYXQgc2hvdWxkIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gY2hpbGRUTm9kZSBUaGUgVE5vZGUgb2YgdGhlIGNoaWxkIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBjaGlsZFJOb2RlLCBjaGlsZFROb2RlKSB7XG4gICAgY29uc3QgcGFyZW50Uk5vZGUgPSBnZXRQYXJlbnRSRWxlbWVudCh0VmlldywgY2hpbGRUTm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGNvbnN0IHBhcmVudFROb2RlID0gY2hpbGRUTm9kZS5wYXJlbnQgfHwgbFZpZXdbVF9IT1NUXTtcbiAgICBjb25zdCBhbmNob3JOb2RlID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUocGFyZW50VE5vZGUsIGNoaWxkVE5vZGUsIGxWaWV3KTtcbiAgICBpZiAocGFyZW50Uk5vZGUgIT0gbnVsbCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZFJOb2RlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZFJOb2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCBjaGlsZFJOb2RlW2ldLCBhbmNob3JOb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYXRpdmVBcHBlbmRPckluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50Uk5vZGUsIGNoaWxkUk5vZGUsIGFuY2hvck5vZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUocmVuZGVyZXIsIGNoaWxkVE5vZGUsIGxWaWV3LCBjaGlsZFJOb2RlLCBwYXJlbnRSTm9kZSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IG5hdGl2ZSBub2RlIGZvciBhIGdpdmVuIExWaWV3LCBzdGFydGluZyBmcm9tIHRoZSBwcm92aWRlZCBUTm9kZS5cbiAqXG4gKiBOYXRpdmUgbm9kZXMgYXJlIHJldHVybmVkIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aG9zZSBhcHBlYXIgaW4gdGhlIG5hdGl2ZSB0cmVlIChET00pLlxuICovXG5mdW5jdGlvbiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIHROb2RlKSB7XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovIHwgMTYgLyogUHJvamVjdGlvbiAqLyk7XG4gICAgICAgIGNvbnN0IHROb2RlVHlwZSA9IHROb2RlLnR5cGU7XG4gICAgICAgIGlmICh0Tm9kZVR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QmVmb3JlTm9kZUZvclZpZXcoLTEsIGxWaWV3W3ROb2RlLmluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjb25zdCBlbEljdUNvbnRhaW5lckNoaWxkID0gdE5vZGUuY2hpbGQ7XG4gICAgICAgICAgICBpZiAoZWxJY3VDb250YWluZXJDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIGVsSWN1Q29udGFpbmVyQ2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgck5vZGVPckxDb250YWluZXIgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzTENvbnRhaW5lcihyTm9kZU9yTENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEJlZm9yZU5vZGVGb3JWaWV3KC0xLCByTm9kZU9yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW53cmFwUk5vZGUock5vZGVPckxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAzMiAvKiBJY3UgKi8pIHtcbiAgICAgICAgICAgIGxldCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRlKHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBsZXQgck5vZGUgPSBuZXh0Uk5vZGUoKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBJQ1UgY29udGFpbmVyIGhhcyBubyBub2RlcywgdGhhbiB3ZSB1c2UgdGhlIElDVSBhbmNob3IgYXMgdGhlIG5vZGUuXG4gICAgICAgICAgICByZXR1cm4gck5vZGUgfHwgdW53cmFwUk5vZGUobFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb25Ob2RlcyA9IGdldFByb2plY3Rpb25Ob2RlcyhsVmlldywgdE5vZGUpO1xuICAgICAgICAgICAgaWYgKHByb2plY3Rpb25Ob2RlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb2plY3Rpb25Ob2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3Rpb25Ob2Rlc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IGdldExWaWV3UGFyZW50KGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSk7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFBhcmVudFZpZXcocGFyZW50Vmlldyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShwYXJlbnRWaWV3LCBwcm9qZWN0aW9uTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShsVmlldywgdE5vZGUubmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRQcm9qZWN0aW9uTm9kZXMobFZpZXcsIHROb2RlKSB7XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEhvc3QgPSBjb21wb25lbnRWaWV3W1RfSE9TVF07XG4gICAgICAgIGNvbnN0IHNsb3RJZHggPSB0Tm9kZS5wcm9qZWN0aW9uO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0UHJvamVjdGlvblNsb3RzKGxWaWV3KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudEhvc3QucHJvamVjdGlvbltzbG90SWR4XTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRCZWZvcmVOb2RlRm9yVmlldyh2aWV3SW5kZXhJbkNvbnRhaW5lciwgbENvbnRhaW5lcikge1xuICAgIGNvbnN0IG5leHRWaWV3SW5kZXggPSBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIHZpZXdJbmRleEluQ29udGFpbmVyICsgMTtcbiAgICBpZiAobmV4dFZpZXdJbmRleCA8IGxDb250YWluZXIubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gbENvbnRhaW5lcltuZXh0Vmlld0luZGV4XTtcbiAgICAgICAgY29uc3QgZmlyc3RUTm9kZU9mVmlldyA9IGxWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoZmlyc3RUTm9kZU9mVmlldyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShsVmlldywgZmlyc3RUTm9kZU9mVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxDb250YWluZXJbTkFUSVZFXTtcbn1cbi8qKlxuICogUmVtb3ZlcyBhIG5hdGl2ZSBub2RlIGl0c2VsZiB1c2luZyBhIGdpdmVuIHJlbmRlcmVyLiBUbyByZW1vdmUgdGhlIG5vZGUgd2UgYXJlIGxvb2tpbmcgdXAgaXRzXG4gKiBwYXJlbnQgZnJvbSB0aGUgbmF0aXZlIHRyZWUgYXMgbm90IGFsbCBwbGF0Zm9ybXMgLyBicm93c2VycyBzdXBwb3J0IHRoZSBlcXVpdmFsZW50IG9mXG4gKiBub2RlLnJlbW92ZSgpLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBBIHJlbmRlcmVyIHRvIGJlIHVzZWRcbiAqIEBwYXJhbSByTm9kZSBUaGUgbmF0aXZlIG5vZGUgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZFxuICogQHBhcmFtIGlzSG9zdEVsZW1lbnQgQSBmbGFnIGluZGljYXRpbmcgaWYgYSBub2RlIHRvIGJlIHJlbW92ZWQgaXMgYSBob3N0IG9mIGEgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBuYXRpdmVSZW1vdmVOb2RlKHJlbmRlcmVyLCByTm9kZSwgaXNIb3N0RWxlbWVudCkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVOb2RlKys7XG4gICAgY29uc3QgbmF0aXZlUGFyZW50ID0gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgck5vZGUpO1xuICAgIGlmIChuYXRpdmVQYXJlbnQpIHtcbiAgICAgICAgbmF0aXZlUmVtb3ZlQ2hpbGQocmVuZGVyZXIsIG5hdGl2ZVBhcmVudCwgck5vZGUsIGlzSG9zdEVsZW1lbnQpO1xuICAgIH1cbn1cbi8qKlxuICogUGVyZm9ybXMgdGhlIG9wZXJhdGlvbiBvZiBgYWN0aW9uYCBvbiB0aGUgbm9kZS4gVHlwaWNhbGx5IHRoaXMgaW52b2x2ZXMgaW5zZXJ0aW5nIG9yIHJlbW92aW5nXG4gKiBub2RlcyBvbiB0aGUgTFZpZXcgb3IgcHJvamVjdGlvbiBib3VuZGFyeS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCB0Tm9kZSwgbFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCBpc1Byb2plY3Rpb24pIHtcbiAgICB3aGlsZSAodE5vZGUgIT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDE2IC8qIFByb2plY3Rpb24gKi8gfCAzMiAvKiBJY3UgKi8pO1xuICAgICAgICBjb25zdCByYXdTbG90VmFsdWUgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIGNvbnN0IHROb2RlVHlwZSA9IHROb2RlLnR5cGU7XG4gICAgICAgIGlmIChpc1Byb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IDAgLyogQ3JlYXRlICovKSB7XG4gICAgICAgICAgICAgICAgcmF3U2xvdFZhbHVlICYmIGF0dGFjaFBhdGNoRGF0YSh1bndyYXBSTm9kZShyYXdTbG90VmFsdWUpLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gNCAvKiBpc1Byb2plY3RlZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHROb2RlLmZsYWdzICYgNjQgLyogaXNEZXRhY2hlZCAqLykgIT09IDY0IC8qIGlzRGV0YWNoZWQgKi8pIHtcbiAgICAgICAgICAgIGlmICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgICAgICBhcHBseU5vZGVzKHJlbmRlcmVyLCBhY3Rpb24sIHROb2RlLmNoaWxkLCBsVmlldywgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByYXdTbG90VmFsdWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0ZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIGxldCByTm9kZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAock5vZGUgPSBuZXh0Uk5vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByTm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIHJhd1Nsb3RWYWx1ZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlKHJlbmRlcmVyLCBhY3Rpb24sIGxWaWV3LCB0Tm9kZSwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDQgLyogQ29udGFpbmVyICovKTtcbiAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByYXdTbG90VmFsdWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHROb2RlID0gaXNQcm9qZWN0aW9uID8gdE5vZGUucHJvamVjdGlvbk5leHQgOiB0Tm9kZS5uZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCBhY3Rpb24sIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlKSB7XG4gICAgYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCB0Vmlldy5maXJzdENoaWxkLCBsVmlldywgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUsIGZhbHNlKTtcbn1cbi8qKlxuICogYGFwcGx5UHJvamVjdGlvbmAgcGVyZm9ybXMgb3BlcmF0aW9uIG9uIHRoZSBwcm9qZWN0aW9uLlxuICpcbiAqIEluc2VydGluZyBhIHByb2plY3Rpb24gcmVxdWlyZXMgdXMgdG8gbG9jYXRlIHRoZSBwcm9qZWN0ZWQgbm9kZXMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC4gVGhlXG4gKiBjb21wbGljYXRpb24gaXMgdGhhdCB0aG9zZSBub2RlcyB0aGVtc2VsdmVzIGNvdWxkIGJlIHJlLXByb2plY3RlZCBmcm9tIHRoZWlyIHBhcmVudCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXdgIG9mIGBMVmlld2Agd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZC5cbiAqIEBwYXJhbSB0UHJvamVjdGlvbk5vZGUgbm9kZSB0byBwcm9qZWN0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5UHJvamVjdGlvbih0VmlldywgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGNvbnN0IHBhcmVudFJOb2RlID0gZ2V0UGFyZW50UkVsZW1lbnQodFZpZXcsIHRQcm9qZWN0aW9uTm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IHBhcmVudFROb2RlID0gdFByb2plY3Rpb25Ob2RlLnBhcmVudCB8fCBsVmlld1tUX0hPU1RdO1xuICAgIGxldCBiZWZvcmVOb2RlID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUocGFyZW50VE5vZGUsIHRQcm9qZWN0aW9uTm9kZSwgbFZpZXcpO1xuICAgIGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZShyZW5kZXJlciwgMCAvKiBDcmVhdGUgKi8sIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUsIHBhcmVudFJOb2RlLCBiZWZvcmVOb2RlKTtcbn1cbi8qKlxuICogYGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZWAgcGVyZm9ybXMgb3BlcmF0aW9uIG9uIHRoZSBwcm9qZWN0aW9uIHNwZWNpZmllZCBieSBgYWN0aW9uYCAoaW5zZXJ0LFxuICogZGV0YWNoLCBkZXN0cm95KVxuICpcbiAqIEluc2VydGluZyBhIHByb2plY3Rpb24gcmVxdWlyZXMgdXMgdG8gbG9jYXRlIHRoZSBwcm9qZWN0ZWQgbm9kZXMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC4gVGhlXG4gKiBjb21wbGljYXRpb24gaXMgdGhhdCB0aG9zZSBub2RlcyB0aGVtc2VsdmVzIGNvdWxkIGJlIHJlLXByb2plY3RlZCBmcm9tIHRoZWlyIHBhcmVudCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlciB0byB1c2VcbiAqIEBwYXJhbSBhY3Rpb24gYWN0aW9uIHRvIHBlcmZvcm0gKGluc2VydCwgZGV0YWNoLCBkZXN0cm95KVxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZC5cbiAqIEBwYXJhbSB0UHJvamVjdGlvbk5vZGUgbm9kZSB0byBwcm9qZWN0XG4gKiBAcGFyYW0gcGFyZW50UkVsZW1lbnQgcGFyZW50IERPTSBlbGVtZW50IGZvciBpbnNlcnRpb24vcmVtb3ZhbC5cbiAqIEBwYXJhbSBiZWZvcmVOb2RlIEJlZm9yZSB3aGljaCBub2RlIHRoZSBpbnNlcnRpb25zIHNob3VsZCBoYXBwZW4uXG4gKi9cbmZ1bmN0aW9uIGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZShyZW5kZXJlciwgYWN0aW9uLCBsVmlldywgdFByb2plY3Rpb25Ob2RlLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudExWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgIGNvbnN0IGNvbXBvbmVudE5vZGUgPSBjb21wb25lbnRMVmlld1tUX0hPU1RdO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgdFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24sICdudW1iZXInLCAnZXhwZWN0aW5nIHByb2plY3Rpb24gaW5kZXgnKTtcbiAgICBjb25zdCBub2RlVG9Qcm9qZWN0T3JSTm9kZXMgPSBjb21wb25lbnROb2RlLnByb2plY3Rpb25bdFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb25dO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVUb1Byb2plY3RPclJOb2RlcykpIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGV4aXN0LCBpdCBpcyBhIGJpdCBvZiBhIGhhY2suIFdoZW4gd2UgYm9vdHN0cmFwIGEgdG9wIGxldmVsIG5vZGUgYW5kIHdlXG4gICAgICAgIC8vIG5lZWQgdG8gc3VwcG9ydCBwYXNzaW5nIHByb2plY3RhYmxlIG5vZGVzLCBzbyB3ZSBjaGVhdCBhbmQgcHV0IHRoZW0gaW4gdGhlIFROb2RlXG4gICAgICAgIC8vIG9mIHRoZSBIb3N0IFRWaWV3LiAoWWVzIHdlIHB1dCBpbnN0YW5jZSBpbmZvIGF0IHRoZSBUIExldmVsKS4gV2UgY2FuIGdldCBhd2F5IHdpdGggaXRcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBrbm93IHRoYXQgdGhhdCBUVmlldyBpcyBub3Qgc2hhcmVkIGFuZCB0aGVyZWZvcmUgaXQgd2lsbCBub3QgYmUgYSBwcm9ibGVtLlxuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSByZWZhY3RvcmVkIGFuZCBjbGVhbmVkIHVwLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVUb1Byb2plY3RPclJOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgck5vZGUgPSBub2RlVG9Qcm9qZWN0T3JSTm9kZXNbaV07XG4gICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByTm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBub2RlVG9Qcm9qZWN0ID0gbm9kZVRvUHJvamVjdE9yUk5vZGVzO1xuICAgICAgICBjb25zdCBwcm9qZWN0ZWRDb21wb25lbnRMVmlldyA9IGNvbXBvbmVudExWaWV3W1BBUkVOVF07XG4gICAgICAgIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgbm9kZVRvUHJvamVjdCwgcHJvamVjdGVkQ29tcG9uZW50TFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIGBhcHBseUNvbnRhaW5lcmAgcGVyZm9ybXMgYW4gb3BlcmF0aW9uIG9uIHRoZSBjb250YWluZXIgYW5kIGl0cyB2aWV3cyBhcyBzcGVjaWZpZWQgYnlcbiAqIGBhY3Rpb25gIChpbnNlcnQsIGRldGFjaCwgZGVzdHJveSlcbiAqXG4gKiBJbnNlcnRpbmcgYSBDb250YWluZXIgaXMgY29tcGxpY2F0ZWQgYnkgdGhlIGZhY3QgdGhhdCB0aGUgY29udGFpbmVyIG1heSBoYXZlIFZpZXdzIHdoaWNoXG4gKiB0aGVtc2VsdmVzIGhhdmUgY29udGFpbmVycyBvciBwcm9qZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlXG4gKiBAcGFyYW0gYWN0aW9uIGFjdGlvbiB0byBwZXJmb3JtIChpbnNlcnQsIGRldGFjaCwgZGVzdHJveSlcbiAqIEBwYXJhbSBsQ29udGFpbmVyIFRoZSBMQ29udGFpbmVyIHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkLCBkZXRhY2hlZCwgZGVzdHJveWVkLlxuICogQHBhcmFtIHBhcmVudFJFbGVtZW50IHBhcmVudCBET00gZWxlbWVudCBmb3IgaW5zZXJ0aW9uL3JlbW92YWwuXG4gKiBAcGFyYW0gYmVmb3JlTm9kZSBCZWZvcmUgd2hpY2ggbm9kZSB0aGUgaW5zZXJ0aW9ucyBzaG91bGQgaGFwcGVuLlxuICovXG5mdW5jdGlvbiBhcHBseUNvbnRhaW5lcihyZW5kZXJlciwgYWN0aW9uLCBsQ29udGFpbmVyLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGxDb250YWluZXIpO1xuICAgIGNvbnN0IGFuY2hvciA9IGxDb250YWluZXJbTkFUSVZFXTsgLy8gTENvbnRhaW5lciBoYXMgaXRzIG93biBiZWZvcmUgbm9kZS5cbiAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShsQ29udGFpbmVyKTtcbiAgICAvLyBBbiBMQ29udGFpbmVyIGNhbiBiZSBjcmVhdGVkIGR5bmFtaWNhbGx5IG9uIGFueSBub2RlIGJ5IGluamVjdGluZyBWaWV3Q29udGFpbmVyUmVmLlxuICAgIC8vIEFza2luZyBmb3IgYSBWaWV3Q29udGFpbmVyUmVmIG9uIGFuIGVsZW1lbnQgd2lsbCByZXN1bHQgaW4gYSBjcmVhdGlvbiBvZiBhIHNlcGFyYXRlIGFuY2hvclxuICAgIC8vIG5vZGUgKGNvbW1lbnQgaW4gdGhlIERPTSkgdGhhdCB3aWxsIGJlIGRpZmZlcmVudCBmcm9tIHRoZSBMQ29udGFpbmVyJ3MgaG9zdCBub2RlLiBJbiB0aGlzXG4gICAgLy8gcGFydGljdWxhciBjYXNlIHdlIG5lZWQgdG8gZXhlY3V0ZSBhY3Rpb24gb24gMiBub2RlczpcbiAgICAvLyAtIGNvbnRhaW5lcidzIGhvc3Qgbm9kZSAodGhpcyBpcyBkb25lIGluIHRoZSBleGVjdXRlQWN0aW9uT25FbGVtZW50T3JDb250YWluZXIpXG4gICAgLy8gLSBjb250YWluZXIncyBob3N0IG5vZGUgKHRoaXMgaXMgZG9uZSBoZXJlKVxuICAgIGlmIChhbmNob3IgIT09IG5hdGl2ZSkge1xuICAgICAgICAvLyBUaGlzIGlzIHZlcnkgc3RyYW5nZSB0byBtZSAoTWlza28pLiBJIHdvdWxkIGV4cGVjdCB0aGF0IHRoZSBuYXRpdmUgaXMgc2FtZSBhcyBhbmNob3IuIElcbiAgICAgICAgLy8gZG9uJ3Qgc2VlIGEgcmVhc29uIHdoeSB0aGV5IHNob3VsZCBiZSBkaWZmZXJlbnQsIGJ1dCB0aGV5IGFyZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhleSBhcmUgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBzZWNvbmQgYW5jaG9yIGFzIHdlbGwuXG4gICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIGFuY2hvciwgYmVmb3JlTm9kZSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICBhcHBseVZpZXcobFZpZXdbVFZJRVddLCBsVmlldywgcmVuZGVyZXIsIGFjdGlvbiwgcGFyZW50UkVsZW1lbnQsIGFuY2hvcik7XG4gICAgfVxufVxuLyoqXG4gKiBXcml0ZXMgY2xhc3Mvc3R5bGUgdG8gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgaXQgc2hvdWxkIGJlIHdyaXR0ZW4gdG8gYGNsYXNzYCAoYGZhbHNlYCB0byB3cml0ZSB0byBgc3R5bGVgKVxuICogQHBhcmFtIHJOb2RlIFRoZSBOb2RlIHRvIHdyaXRlIHRvLlxuICogQHBhcmFtIHByb3AgUHJvcGVydHkgdG8gd3JpdGUgdG8uIFRoaXMgd291bGQgYmUgdGhlIGNsYXNzL3N0eWxlIG5hbWUuXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gd3JpdGUuIElmIGBudWxsYC9gdW5kZWZpbmVkYC9gZmFsc2VgIHRoaXMgaXMgY29uc2lkZXJlZCBhIHJlbW92ZSAoc2V0L2FkZFxuICogICAgICAgIG90aGVyd2lzZSkuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGluZyhyZW5kZXJlciwgaXNDbGFzc0Jhc2VkLCByTm9kZSwgcHJvcCwgdmFsdWUpIHtcbiAgICBjb25zdCBpc1Byb2NlZHVyYWwgPSBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgaWYgKGlzQ2xhc3NCYXNlZCkge1xuICAgICAgICAvLyBXZSBhY3R1YWxseSB3YW50IEpTIHRydWUvZmFsc2UgaGVyZSBiZWNhdXNlIGFueSB0cnV0aHkgdmFsdWUgc2hvdWxkIGFkZCB0aGUgY2xhc3NcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZUNsYXNzKys7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZWR1cmFsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVtb3ZlQ2xhc3Mock5vZGUsIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgck5vZGUuY2xhc3NMaXN0LnJlbW92ZShwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBZGRDbGFzcysrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmFkZENsYXNzKHJOb2RlLCBwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJOb2RlLmNsYXNzTGlzdCwgJ0hUTUxFbGVtZW50IGV4cGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgck5vZGUuY2xhc3NMaXN0LmFkZChwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGZsYWdzID0gcHJvcC5pbmRleE9mKCctJykgPT09IC0xID8gdW5kZWZpbmVkIDogUmVuZGVyZXJTdHlsZUZsYWdzMi5EYXNoQ2FzZTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgLyoqIHx8IHZhbHVlID09PSB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVTdHlsZSsrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZVN0eWxlKHJOb2RlLCBwcm9wLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByTm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEEgdmFsdWUgaXMgaW1wb3J0YW50IGlmIGl0IGVuZHMgd2l0aCBgIWltcG9ydGFudGAuIFRoZSBzdHlsZVxuICAgICAgICAgICAgLy8gcGFyc2VyIHN0cmlwcyBhbnkgc2VtaWNvbG9ucyBhdCB0aGUgZW5kIG9mIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgIGNvbnN0IGlzSW1wb3J0YW50ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlLmVuZHNXaXRoKCchaW1wb3J0YW50JykgOiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0ltcG9ydGFudCkge1xuICAgICAgICAgICAgICAgIC8vICFpbXBvcnRhbnQgaGFzIHRvIGJlIHN0cmlwcGVkIGZyb20gdGhlIHZhbHVlIGZvciBpdCB0byBiZSB2YWxpZC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDAsIC0xMCk7XG4gICAgICAgICAgICAgICAgZmxhZ3MgfD0gUmVuZGVyZXJTdHlsZUZsYWdzMi5JbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0U3R5bGUrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRTdHlsZShyTm9kZSwgcHJvcCwgdmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJOb2RlLnN0eWxlLCAnSFRNTEVsZW1lbnQgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICByTm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgaXNJbXBvcnRhbnQgPyAnaW1wb3J0YW50JyA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogV3JpdGUgYGNzc1RleHRgIHRvIGBSRWxlbWVudGAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIGRpcmVjdCB3cml0ZSB3aXRob3V0IGFueSByZWNvbmNpbGlhdGlvbi4gVXNlZCBmb3Igd3JpdGluZyBpbml0aWFsIHZhbHVlcywgc29cbiAqIHRoYXQgc3RhdGljIHN0eWxpbmcgdmFsdWVzIGRvIG5vdCBwdWxsIGluIHRoZSBzdHlsZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hpY2ggbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSBuZXdWYWx1ZSBUaGUgbmV3IGNsYXNzIGxpc3QgdG8gd3JpdGUuXG4gKi9cbmZ1bmN0aW9uIHdyaXRlRGlyZWN0U3R5bGUocmVuZGVyZXIsIGVsZW1lbnQsIG5ld1ZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyhuZXdWYWx1ZSwgJ1xcJ25ld1ZhbHVlXFwnIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdzdHlsZScsIG5ld1ZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0U3R5bGUrKztcbn1cbi8qKlxuICogV3JpdGUgYGNsYXNzTmFtZWAgdG8gYFJFbGVtZW50YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgZGlyZWN0IHdyaXRlIHdpdGhvdXQgYW55IHJlY29uY2lsaWF0aW9uLiBVc2VkIGZvciB3cml0aW5nIGluaXRpYWwgdmFsdWVzLCBzb1xuICogdGhhdCBzdGF0aWMgc3R5bGluZyB2YWx1ZXMgZG8gbm90IHB1bGwgaW4gdGhlIHN0eWxlIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB3aGljaCBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICogQHBhcmFtIG5ld1ZhbHVlIFRoZSBuZXcgY2xhc3MgbGlzdCB0byB3cml0ZS5cbiAqL1xuZnVuY3Rpb24gd3JpdGVEaXJlY3RDbGFzcyhyZW5kZXJlciwgZWxlbWVudCwgbmV3VmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKG5ld1ZhbHVlLCAnXFwnbmV3VmFsdWVcXCcgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBhcmUgdGVzdHMgaW4gYGdvb2dsZTNgIHdoaWNoIGV4cGVjdCBgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJylgIHRvIGJlIGBudWxsYC5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnY2xhc3MnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnY2xhc3MnLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gbmV3VmFsdWU7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRDbGFzc05hbWUrKztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgYW4gaW5kZXggb2YgYGNsYXNzVG9TZWFyY2hgIGluIGBjbGFzc05hbWVgIHRha2luZyB0b2tlbiBib3VuZGFyaWVzIGludG8gYWNjb3VudC5cbiAqXG4gKiBgY2xhc3NJbmRleE9mKCdBQiBBJywgJ0EnLCAwKWAgd2lsbCBiZSAzIChub3QgMCBzaW5jZSBgQUIhPT1BYClcbiAqXG4gKiBAcGFyYW0gY2xhc3NOYW1lIEEgc3RyaW5nIGNvbnRhaW5pbmcgY2xhc3NlcyAod2hpdGVzcGFjZSBzZXBhcmF0ZWQpXG4gKiBAcGFyYW0gY2xhc3NUb1NlYXJjaCBBIGNsYXNzIG5hbWUgdG8gbG9jYXRlXG4gKiBAcGFyYW0gc3RhcnRpbmdJbmRleCBTdGFydGluZyBsb2NhdGlvbiBvZiBzZWFyY2hcbiAqIEByZXR1cm5zIGFuIGluZGV4IG9mIHRoZSBsb2NhdGVkIGNsYXNzIChvciAtMSBpZiBub3QgZm91bmQpXG4gKi9cbmZ1bmN0aW9uIGNsYXNzSW5kZXhPZihjbGFzc05hbWUsIGNsYXNzVG9TZWFyY2gsIHN0YXJ0aW5nSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwoY2xhc3NUb1NlYXJjaCwgJycsICdjYW4gbm90IGxvb2sgZm9yIFwiXCIgc3RyaW5nLicpO1xuICAgIGxldCBlbmQgPSBjbGFzc05hbWUubGVuZ3RoO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kSW5kZXggPSBjbGFzc05hbWUuaW5kZXhPZihjbGFzc1RvU2VhcmNoLCBzdGFydGluZ0luZGV4KTtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kSW5kZXg7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAwIHx8IGNsYXNzTmFtZS5jaGFyQ29kZUF0KGZvdW5kSW5kZXggLSAxKSA8PSAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgaXQgaGFzIGxlYWRpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gY2xhc3NUb1NlYXJjaC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZm91bmRJbmRleCArIGxlbmd0aCA9PT0gZW5kIHx8XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lLmNoYXJDb2RlQXQoZm91bmRJbmRleCArIGxlbmd0aCkgPD0gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBpdCBoYXMgdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZhbHNlIHBvc2l0aXZlLCBrZWVwIHNlYXJjaGluZyBmcm9tIHdoZXJlIHdlIGxlZnQgb2ZmLlxuICAgICAgICBzdGFydGluZ0luZGV4ID0gZm91bmRJbmRleCArIDE7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHVudXNlZFZhbHVlVG9QbGFjYXRlQWpkJDEgPSB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMztcbmNvbnN0IE5HX1RFTVBMQVRFX1NFTEVDVE9SID0gJ25nLXRlbXBsYXRlJztcbi8qKlxuICogU2VhcmNoIHRoZSBgVEF0dHJpYnV0ZXNgIHRvIHNlZSBpZiBpdCBjb250YWlucyBgY3NzQ2xhc3NUb01hdGNoYCAoY2FzZSBpbnNlbnNpdGl2ZSlcbiAqXG4gKiBAcGFyYW0gYXR0cnMgYFRBdHRyaWJ1dGVzYCB0byBzZWFyY2ggdGhyb3VnaC5cbiAqIEBwYXJhbSBjc3NDbGFzc1RvTWF0Y2ggY2xhc3MgdG8gbWF0Y2ggKGxvd2VyY2FzZSlcbiAqIEBwYXJhbSBpc1Byb2plY3Rpb25Nb2RlIFdoZXRoZXIgb3Igbm90IGNsYXNzIG1hdGNoaW5nIHNob3VsZCBsb29rIGludG8gdGhlIGF0dHJpYnV0ZSBgY2xhc3NgIGluXG4gKiAgICBhZGRpdGlvbiB0byB0aGUgYEF0dHJpYnV0ZU1hcmtlci5DbGFzc2VzYC5cbiAqL1xuZnVuY3Rpb24gaXNDc3NDbGFzc01hdGNoaW5nKGF0dHJzLCBjc3NDbGFzc1RvTWF0Y2gsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogVGhlIGZhY3QgdGhhdCB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGtub3cgYWJvdXQgYGlzUHJvamVjdGlvbk1vZGVgIHNlZW1zIHN1c3BlY3QuXG4gICAgLy8gSXQgaXMgc3RyYW5nZSB0byBtZSB0aGF0IHNvbWV0aW1lcyB0aGUgY2xhc3MgaW5mb3JtYXRpb24gY29tZXMgaW4gZm9ybSBvZiBgY2xhc3NgIGF0dHJpYnV0ZVxuICAgIC8vIGFuZCBzb21ldGltZXMgaW4gZm9ybSBvZiBgQXR0cmlidXRlTWFya2VyLkNsYXNzZXNgLiBTb21lIGludmVzdGlnYXRpb24gaXMgbmVlZGVkIHRvIGRldGVybWluZVxuICAgIC8vIGlmIHRoYXQgaXMgdGhlIHJpZ2h0IGJlaGF2aW9yLlxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChjc3NDbGFzc1RvTWF0Y2gsIGNzc0NsYXNzVG9NYXRjaC50b0xvd2VyQ2FzZSgpLCAnQ2xhc3MgbmFtZSBleHBlY3RlZCB0byBiZSBsb3dlcmNhc2UuJyk7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBpdGVtID0gYXR0cnNbaSsrXTtcbiAgICAgICAgaWYgKGlzUHJvamVjdGlvbk1vZGUgJiYgaXRlbSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgaXRlbSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKGNsYXNzSW5kZXhPZihpdGVtLnRvTG93ZXJDYXNlKCksIGNzc0NsYXNzVG9NYXRjaCwgMCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSA9PT0gMSAvKiBDbGFzc2VzICovKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCB0aGUgY2xhc3NlcyBzZWN0aW9uLiBTdGFydCBzZWFyY2hpbmcgZm9yIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoICYmIHR5cGVvZiAoaXRlbSA9IGF0dHJzW2krK10pID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gd2hpbGUgd2UgaGF2ZSBzdHJpbmdzXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9Mb3dlckNhc2UoKSA9PT0gY3NzQ2xhc3NUb01hdGNoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBgdE5vZGVgIHJlcHJlc2VudHMgYW4gaW5saW5lIHRlbXBsYXRlIChlLmcuIGAqbmdGb3JgKS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgY3VycmVudCBUTm9kZVxuICovXG5mdW5jdGlvbiBpc0lubGluZVRlbXBsYXRlKHROb2RlKSB7XG4gICAgcmV0dXJuIHROb2RlLnR5cGUgPT09IDQgLyogQ29udGFpbmVyICovICYmIHROb2RlLnZhbHVlICE9PSBOR19URU1QTEFURV9TRUxFQ1RPUjtcbn1cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBjaGVja3Mgd2hldGhlciBhIGdpdmVuIHROb2RlIG1hdGNoZXMgdGFnLWJhc2VkIHNlbGVjdG9yIGFuZCBoYXMgYSB2YWxpZCB0eXBlLlxuICpcbiAqIE1hdGNoaW5nIGNhbiBiZSBwZXJmb3JtZWQgaW4gMiBtb2RlczogcHJvamVjdGlvbiBtb2RlICh3aGVuIHdlIHByb2plY3Qgbm9kZXMpIGFuZCByZWd1bGFyXG4gKiBkaXJlY3RpdmUgbWF0Y2hpbmcgbW9kZTpcbiAqIC0gaW4gdGhlIFwiZGlyZWN0aXZlIG1hdGNoaW5nXCIgbW9kZSB3ZSBkbyBfbm90XyB0YWtlIFRDb250YWluZXIncyB0YWdOYW1lIGludG8gYWNjb3VudCBpZiBpdCBpc1xuICogZGlmZmVyZW50IGZyb20gTkdfVEVNUExBVEVfU0VMRUNUT1IgKHZhbHVlIGRpZmZlcmVudCBmcm9tIE5HX1RFTVBMQVRFX1NFTEVDVE9SIGluZGljYXRlcyB0aGF0IGFcbiAqIHRhZyBuYW1lIHdhcyBleHRyYWN0ZWQgZnJvbSAqIHN5bnRheCBzbyB3ZSB3b3VsZCBtYXRjaCB0aGUgc2FtZSBkaXJlY3RpdmUgdHdpY2UpO1xuICogLSBpbiB0aGUgXCJwcm9qZWN0aW9uXCIgbW9kZSwgd2UgdXNlIGEgdGFnIG5hbWUgcG90ZW50aWFsbHkgZXh0cmFjdGVkIGZyb20gdGhlICogc3ludGF4IHByb2Nlc3NpbmdcbiAqIChhcHBsaWNhYmxlIHRvIFROb2RlVHlwZS5Db250YWluZXIgb25seSkuXG4gKi9cbmZ1bmN0aW9uIGhhc1RhZ0FuZFR5cGVNYXRjaCh0Tm9kZSwgY3VycmVudFNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgY29uc3QgdGFnTmFtZVRvQ29tcGFyZSA9IHROb2RlLnR5cGUgPT09IDQgLyogQ29udGFpbmVyICovICYmICFpc1Byb2plY3Rpb25Nb2RlID8gTkdfVEVNUExBVEVfU0VMRUNUT1IgOiB0Tm9kZS52YWx1ZTtcbiAgICByZXR1cm4gY3VycmVudFNlbGVjdG9yID09PSB0YWdOYW1lVG9Db21wYXJlO1xufVxuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gbWF0Y2ggYW4gSXZ5IG5vZGUgc3RhdGljIGRhdGEgYWdhaW5zdCBhIHNpbXBsZSBDU1Mgc2VsZWN0b3JcbiAqXG4gKiBAcGFyYW0gbm9kZSBzdGF0aWMgZGF0YSBvZiB0aGUgbm9kZSB0byBtYXRjaFxuICogQHBhcmFtIHNlbGVjdG9yIFRoZSBzZWxlY3RvciB0byB0cnkgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgbm9kZS5cbiAqIEBwYXJhbSBpc1Byb2plY3Rpb25Nb2RlIGlmIGB0cnVlYCB3ZSBhcmUgbWF0Y2hpbmcgZm9yIGNvbnRlbnQgcHJvamVjdGlvbiwgb3RoZXJ3aXNlIHdlIGFyZSBkb2luZ1xuICogZGlyZWN0aXZlIG1hdGNoaW5nLlxuICogQHJldHVybnMgdHJ1ZSBpZiBub2RlIG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBpc05vZGVNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBzZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHNlbGVjdG9yWzBdLCAnU2VsZWN0b3Igc2hvdWxkIGhhdmUgYSB0YWcgbmFtZScpO1xuICAgIGxldCBtb2RlID0gNCAvKiBFTEVNRU5UICovO1xuICAgIGNvbnN0IG5vZGVBdHRycyA9IHROb2RlLmF0dHJzIHx8IFtdO1xuICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIGZpcnN0IGF0dHJpYnV0ZSB0aGF0IGhhcyBubyB2YWx1ZSwgb25seSBhIG5hbWUuXG4gICAgY29uc3QgbmFtZU9ubHlNYXJrZXJJZHggPSBnZXROYW1lT25seU1hcmtlckluZGV4KG5vZGVBdHRycyk7XG4gICAgLy8gV2hlbiBwcm9jZXNzaW5nIFwiOm5vdFwiIHNlbGVjdG9ycywgd2Ugc2tpcCB0byB0aGUgbmV4dCBcIjpub3RcIiBpZiB0aGVcbiAgICAvLyBjdXJyZW50IG9uZSBkb2Vzbid0IG1hdGNoXG4gICAgbGV0IHNraXBUb05leHRTZWxlY3RvciA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0b3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNlbGVjdG9yW2ldO1xuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBmaW5pc2ggcHJvY2Vzc2luZyBhIDpub3Qgc2VsZWN0b3IgYW5kIGl0IGhhc24ndCBmYWlsZWQsIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgaWYgKCFza2lwVG9OZXh0U2VsZWN0b3IgJiYgIWlzUG9zaXRpdmUobW9kZSkgJiYgIWlzUG9zaXRpdmUoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgc2tpcHBpbmcgdG8gdGhlIG5leHQgOm5vdCgpIGFuZCB0aGlzIG1vZGUgZmxhZyBpcyBwb3NpdGl2ZSxcbiAgICAgICAgICAgIC8vIGl0J3MgYSBwYXJ0IG9mIHRoZSBjdXJyZW50IDpub3QoKSBzZWxlY3RvciwgYW5kIHdlIHNob3VsZCBrZWVwIHNraXBwaW5nXG4gICAgICAgICAgICBpZiAoc2tpcFRvTmV4dFNlbGVjdG9yICYmIGlzUG9zaXRpdmUoY3VycmVudCkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgIG1vZGUgPSBjdXJyZW50IHwgKG1vZGUgJiAxIC8qIE5PVCAqLyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpcFRvTmV4dFNlbGVjdG9yKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChtb2RlICYgNCAvKiBFTEVNRU5UICovKSB7XG4gICAgICAgICAgICBtb2RlID0gMiAvKiBBVFRSSUJVVEUgKi8gfCBtb2RlICYgMSAvKiBOT1QgKi87XG4gICAgICAgICAgICBpZiAoY3VycmVudCAhPT0gJycgJiYgIWhhc1RhZ0FuZFR5cGVNYXRjaCh0Tm9kZSwgY3VycmVudCwgaXNQcm9qZWN0aW9uTW9kZSkgfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50ID09PSAnJyAmJiBzZWxlY3Rvci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvckF0dHJWYWx1ZSA9IG1vZGUgJiA4IC8qIENMQVNTICovID8gY3VycmVudCA6IHNlbGVjdG9yWysraV07XG4gICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIG1hdGNoaW5nIGFnYWluc3QgY2xhc3NlcyB3aGVuIGEgdE5vZGUgaGFzIGJlZW4gaW5zdGFudGlhdGVkIHdpdGhcbiAgICAgICAgICAgIC8vIGNsYXNzIGFuZCBzdHlsZSB2YWx1ZXMgYXMgc2VwYXJhdGUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiBbJ3RpdGxlJywgQ0xBU1MsICdmb28nXSlcbiAgICAgICAgICAgIGlmICgobW9kZSAmIDggLyogQ0xBU1MgKi8pICYmIHROb2RlLmF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0Nzc0NsYXNzTWF0Y2hpbmcodE5vZGUuYXR0cnMsIHNlbGVjdG9yQXR0clZhbHVlLCBpc1Byb2plY3Rpb25Nb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IChtb2RlICYgOCAvKiBDTEFTUyAqLykgPyAnY2xhc3MnIDogY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJJbmRleEluTm9kZSA9IGZpbmRBdHRySW5kZXhJbk5vZGUoYXR0ck5hbWUsIG5vZGVBdHRycywgaXNJbmxpbmVUZW1wbGF0ZSh0Tm9kZSksIGlzUHJvamVjdGlvbk1vZGUpO1xuICAgICAgICAgICAgaWYgKGF0dHJJbmRleEluTm9kZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JBdHRyVmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGVBdHRyVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJJbmRleEluTm9kZSA+IG5hbWVPbmx5TWFya2VySWR4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVBdHRyVmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Tm90RXF1YWwobm9kZUF0dHJzW2F0dHJJbmRleEluTm9kZV0sIDAgLyogTmFtZXNwYWNlVVJJICovLCAnV2UgZG8gbm90IG1hdGNoIGRpcmVjdGl2ZXMgb24gbmFtZXNwYWNlZCBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGxvd2VyY2FzZSB0aGUgYXR0cmlidXRlIHZhbHVlIHRvIGJlIGFibGUgdG8gbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0b3JzIHdpdGhvdXQgY2FzZS1zZW5zaXRpdml0eVxuICAgICAgICAgICAgICAgICAgICAvLyAoc2VsZWN0b3JzIGFyZSBhbHJlYWR5IGluIGxvd2VyY2FzZSB3aGVuIGdlbmVyYXRlZClcbiAgICAgICAgICAgICAgICAgICAgbm9kZUF0dHJWYWx1ZSA9IG5vZGVBdHRyc1thdHRySW5kZXhJbk5vZGUgKyAxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlQWdhaW5zdENsYXNzTmFtZSA9IG1vZGUgJiA4IC8qIENMQVNTICovID8gbm9kZUF0dHJWYWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVBZ2FpbnN0Q2xhc3NOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzSW5kZXhPZihjb21wYXJlQWdhaW5zdENsYXNzTmFtZSwgc2VsZWN0b3JBdHRyVmFsdWUsIDApICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlICYgMiAvKiBBVFRSSUJVVEUgKi8gJiYgc2VsZWN0b3JBdHRyVmFsdWUgIT09IG5vZGVBdHRyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc1Bvc2l0aXZlKG1vZGUpIHx8IHNraXBUb05leHRTZWxlY3Rvcjtcbn1cbmZ1bmN0aW9uIGlzUG9zaXRpdmUobW9kZSkge1xuICAgIHJldHVybiAobW9kZSAmIDEgLyogTk9UICovKSA9PT0gMDtcbn1cbi8qKlxuICogRXhhbWluZXMgdGhlIGF0dHJpYnV0ZSdzIGRlZmluaXRpb24gYXJyYXkgZm9yIGEgbm9kZSB0byBmaW5kIHRoZSBpbmRleCBvZiB0aGVcbiAqIGF0dHJpYnV0ZSB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBOT1RFOiBUaGlzIHdpbGwgbm90IG1hdGNoIG5hbWVzcGFjZWQgYXR0cmlidXRlcy5cbiAqXG4gKiBBdHRyaWJ1dGUgbWF0Y2hpbmcgZGVwZW5kcyB1cG9uIGBpc0lubGluZVRlbXBsYXRlYCBhbmQgYGlzUHJvamVjdGlvbk1vZGVgLlxuICogVGhlIGZvbGxvd2luZyB0YWJsZSBzdW1tYXJpemVzIHdoaWNoIHR5cGVzIG9mIGF0dHJpYnV0ZXMgd2UgYXR0ZW1wdCB0byBtYXRjaDpcbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kZXMgICAgICAgICAgICAgICAgICAgfCBOb3JtYWwgQXR0cmlidXRlcyB8IEJpbmRpbmdzIEF0dHJpYnV0ZXMgfCBUZW1wbGF0ZSBBdHRyaWJ1dGVzIHwgSTE4blxuICogQXR0cmlidXRlc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIElubGluZSArIFByb2plY3Rpb24gICAgIHwgWUVTICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElubGluZSArIERpcmVjdGl2ZSAgICAgIHwgTk8gICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTICAgICAgICAgICAgICAgICB8IE5PXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTm9uLWlubGluZSArIFByb2plY3Rpb24gfCBZRVMgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTm9uLWlubGluZSArIERpcmVjdGl2ZSAgfCBZRVMgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZmluZFxuICogQHBhcmFtIGF0dHJzIHRoZSBhdHRyaWJ1dGUgYXJyYXkgdG8gZXhhbWluZVxuICogQHBhcmFtIGlzSW5saW5lVGVtcGxhdGUgdHJ1ZSBpZiB0aGUgbm9kZSBiZWluZyBtYXRjaGVkIGlzIGFuIGlubGluZSB0ZW1wbGF0ZSAoZS5nLiBgKm5nRm9yYClcbiAqIHJhdGhlciB0aGFuIGEgbWFudWFsbHkgZXhwYW5kZWQgdGVtcGxhdGUgbm9kZSAoZS5nIGA8bmctdGVtcGxhdGU+YCkuXG4gKiBAcGFyYW0gaXNQcm9qZWN0aW9uTW9kZSB0cnVlIGlmIHdlIGFyZSBtYXRjaGluZyBhZ2FpbnN0IGNvbnRlbnQgcHJvamVjdGlvbiBvdGhlcndpc2Ugd2UgYXJlXG4gKiBtYXRjaGluZyBhZ2FpbnN0IGRpcmVjdGl2ZXMuXG4gKi9cbmZ1bmN0aW9uIGZpbmRBdHRySW5kZXhJbk5vZGUobmFtZSwgYXR0cnMsIGlzSW5saW5lVGVtcGxhdGUsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICBpZiAoYXR0cnMgPT09IG51bGwpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBsZXQgaSA9IDA7XG4gICAgaWYgKGlzUHJvamVjdGlvbk1vZGUgfHwgIWlzSW5saW5lVGVtcGxhdGUpIHtcbiAgICAgICAgbGV0IGJpbmRpbmdzTW9kZSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbWF5YmVBdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKG1heWJlQXR0ck5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDMgLyogQmluZGluZ3MgKi8gfHwgbWF5YmVBdHRyTmFtZSA9PT0gNiAvKiBJMThuICovKSB7XG4gICAgICAgICAgICAgICAgYmluZGluZ3NNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDEgLyogQ2xhc3NlcyAqLyB8fCBtYXliZUF0dHJOYW1lID09PSAyIC8qIFN0eWxlcyAqLykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIHNraXAgY2xhc3NlcyBoZXJlIGJlY2F1c2Ugd2UgaGF2ZSBhIHNlcGFyYXRlIG1lY2hhbmlzbSBmb3JcbiAgICAgICAgICAgICAgICAvLyBtYXRjaGluZyBjbGFzc2VzIGluIHByb2plY3Rpb24gbW9kZS5cbiAgICAgICAgICAgICAgICB3aGlsZSAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVBdHRyTmFtZSA9PT0gNCAvKiBUZW1wbGF0ZSAqLykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvIG5vdCBjYXJlIGFib3V0IFRlbXBsYXRlIGF0dHJpYnV0ZXMgaW4gdGhpcyBzY2VuYXJpby5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgd2hvbGUgbmFtZXNwYWNlZCBhdHRyaWJ1dGUgYW5kIHZhbHVlLiBUaGlzIGlzIGJ5IGRlc2lnbi5cbiAgICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbiBiaW5kaW5nIG1vZGUgdGhlcmUgYXJlIG9ubHkgbmFtZXMsIHJhdGhlciB0aGFuIG5hbWUtdmFsdWUgcGFpcnMuXG4gICAgICAgICAgICBpICs9IGJpbmRpbmdzTW9kZSA/IDEgOiAyO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGRpZCBub3QgbWF0Y2ggdGhlIGF0dHJpYnV0ZVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF0Y2hUZW1wbGF0ZUF0dHJpYnV0ZShhdHRycywgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIHNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlID0gZmFsc2UpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc05vZGVNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBzZWxlY3RvcltpXSwgaXNQcm9qZWN0aW9uTW9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFByb2plY3RBc0F0dHJWYWx1ZSh0Tm9kZSkge1xuICAgIGNvbnN0IG5vZGVBdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIGlmIChub2RlQXR0cnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBuZ1Byb2plY3RBc0F0dHJJZHggPSBub2RlQXR0cnMuaW5kZXhPZig1IC8qIFByb2plY3RBcyAqLyk7XG4gICAgICAgIC8vIG9ubHkgY2hlY2sgZm9yIG5nUHJvamVjdEFzIGluIGF0dHJpYnV0ZSBuYW1lcywgZG9uJ3QgYWNjaWRlbnRhbGx5IG1hdGNoIGF0dHJpYnV0ZSdzIHZhbHVlXG4gICAgICAgIC8vIChhdHRyaWJ1dGUgbmFtZXMgYXJlIHN0b3JlZCBhdCBldmVuIGluZGV4ZXMpXG4gICAgICAgIGlmICgobmdQcm9qZWN0QXNBdHRySWR4ICYgMSkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlQXR0cnNbbmdQcm9qZWN0QXNBdHRySWR4ICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXROYW1lT25seU1hcmtlckluZGV4KG5vZGVBdHRycykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZUF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGVBdHRyID0gbm9kZUF0dHJzW2ldO1xuICAgICAgICBpZiAoaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlcihub2RlQXR0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlQXR0cnMubGVuZ3RoO1xufVxuZnVuY3Rpb24gbWF0Y2hUZW1wbGF0ZUF0dHJpYnV0ZShhdHRycywgbmFtZSkge1xuICAgIGxldCBpID0gYXR0cnMuaW5kZXhPZig0IC8qIFRlbXBsYXRlICovKTtcbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIC8vIFJldHVybiBpbiBjYXNlIHdlIGNoZWNrZWQgYWxsIHRlbXBsYXRlIGF0dHJzIGFuZCBhcmUgc3dpdGNoaW5nIHRvIHRoZSBuZXh0IHNlY3Rpb24gaW4gdGhlXG4gICAgICAgICAgICAvLyBhdHRycyBhcnJheSAodGhhdCBzdGFydHMgd2l0aCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgYW4gYXR0cmlidXRlIG1hcmtlcikuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGF0dHIgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhdHRyID09PSBuYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBzZWxlY3RvciBpcyBpbnNpZGUgYSBDc3NTZWxlY3Rvckxpc3RcbiAqIEBwYXJhbSBzZWxlY3RvciBTZWxlY3RvciB0byBiZSBjaGVja2VkLlxuICogQHBhcmFtIGxpc3QgTGlzdCBpbiB3aGljaCB0byBsb29rIGZvciB0aGUgc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGlzU2VsZWN0b3JJblNlbGVjdG9yTGlzdChzZWxlY3RvciwgbGlzdCkge1xuICAgIHNlbGVjdG9yTGlzdExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2VsZWN0b3JJbkxpc3QgPSBsaXN0W2ldO1xuICAgICAgICBpZiAoc2VsZWN0b3IubGVuZ3RoICE9PSBjdXJyZW50U2VsZWN0b3JJbkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNlbGVjdG9yLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3Jbal0gIT09IGN1cnJlbnRTZWxlY3RvckluTGlzdFtqXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIHNlbGVjdG9yTGlzdExvb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG1heWJlV3JhcEluTm90U2VsZWN0b3IoaXNOZWdhdGl2ZU1vZGUsIGNodW5rKSB7XG4gICAgcmV0dXJuIGlzTmVnYXRpdmVNb2RlID8gJzpub3QoJyArIGNodW5rLnRyaW0oKSArICcpJyA6IGNodW5rO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5Q1NTU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBsZXQgcmVzdWx0ID0gc2VsZWN0b3JbMF07XG4gICAgbGV0IGkgPSAxO1xuICAgIGxldCBtb2RlID0gMiAvKiBBVFRSSUJVVEUgKi87XG4gICAgbGV0IGN1cnJlbnRDaHVuayA9ICcnO1xuICAgIGxldCBpc05lZ2F0aXZlTW9kZSA9IGZhbHNlO1xuICAgIHdoaWxlIChpIDwgc2VsZWN0b3IubGVuZ3RoKSB7XG4gICAgICAgIGxldCB2YWx1ZU9yTWFya2VyID0gc2VsZWN0b3JbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVPck1hcmtlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChtb2RlICYgMiAvKiBBVFRSSUJVVEUgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBzZWxlY3RvclsrK2ldO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayArPVxuICAgICAgICAgICAgICAgICAgICAnWycgKyB2YWx1ZU9yTWFya2VyICsgKGF0dHJWYWx1ZS5sZW5ndGggPiAwID8gJz1cIicgKyBhdHRyVmFsdWUgKyAnXCInIDogJycpICsgJ10nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSAmIDggLyogQ0xBU1MgKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gJy4nICsgdmFsdWVPck1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgJiA0IC8qIEVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gJyAnICsgdmFsdWVPck1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBcHBlbmQgY3VycmVudCBjaHVuayB0byB0aGUgZmluYWwgcmVzdWx0IGluIGNhc2Ugd2UgY29tZSBhY3Jvc3MgU2VsZWN0b3JGbGFnLCB3aGljaFxuICAgICAgICAgICAgLy8gaW5kaWNhdGVzIHRoYXQgdGhlIHByZXZpb3VzIHNlY3Rpb24gb2YgYSBzZWxlY3RvciBpcyBvdmVyLiBXZSBuZWVkIHRvIGFjY3VtdWxhdGUgY29udGVudFxuICAgICAgICAgICAgLy8gYmV0d2VlbiBmbGFncyB0byBtYWtlIHN1cmUgd2Ugd3JhcCB0aGUgY2h1bmsgbGF0ZXIgaW4gOm5vdCgpIHNlbGVjdG9yIGlmIG5lZWRlZCwgZS5nLlxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyAgWycnLCBGbGFncy5DTEFTUywgJy5jbGFzc0EnLCBGbGFncy5DTEFTUyB8IEZsYWdzLk5PVCwgJy5jbGFzc0InLCAnLmNsYXNzQyddXG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSB0cmFuc2Zvcm1lZCB0byBgLmNsYXNzQSA6bm90KC5jbGFzc0IgLmNsYXNzQylgLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIE5vdGU6IGZvciBuZWdhdGl2ZSBzZWxlY3RvciBwYXJ0LCB3ZSBhY2N1bXVsYXRlIGNvbnRlbnQgYmV0d2VlbiBmbGFncyB1bnRpbCB3ZSBmaW5kIHRoZVxuICAgICAgICAgICAgLy8gbmV4dCBuZWdhdGl2ZSBmbGFnLiBUaGlzIGlzIG5lZWRlZCB0byBzdXBwb3J0IGEgY2FzZSB3aGVyZSBgOm5vdCgpYCBydWxlIGNvbnRhaW5zIG1vcmUgdGhhblxuICAgICAgICAgICAgLy8gb25lIGNodW5rLCBlLmcuIHRoZSBmb2xsb3dpbmcgc2VsZWN0b3I6XG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vICBbJycsIEZsYWdzLkVMRU1FTlQgfCBGbGFncy5OT1QsICdwJywgRmxhZ3MuQ0xBU1MsICdmb28nLCBGbGFncy5DTEFTUyB8IEZsYWdzLk5PVCwgJ2JhciddXG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBzdHJpbmdpZmllZCB0byBgOm5vdChwLmZvbykgOm5vdCguYmFyKWBcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAoY3VycmVudENodW5rICE9PSAnJyAmJiAhaXNQb3NpdGl2ZSh2YWx1ZU9yTWFya2VyKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBtYXliZVdyYXBJbk5vdFNlbGVjdG9yKGlzTmVnYXRpdmVNb2RlLCBjdXJyZW50Q2h1bmspO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kZSA9IHZhbHVlT3JNYXJrZXI7XG4gICAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gQ3NzU2VsZWN0b3Igc3BlYywgb25jZSB3ZSBjb21lIGFjcm9zcyBgU2VsZWN0b3JGbGFncy5OT1RgIGZsYWcsIHRoZSBuZWdhdGl2ZVxuICAgICAgICAgICAgLy8gbW9kZSBpcyBtYWludGFpbmVkIGZvciByZW1haW5pbmcgY2h1bmtzIG9mIGEgc2VsZWN0b3IuXG4gICAgICAgICAgICBpc05lZ2F0aXZlTW9kZSA9IGlzTmVnYXRpdmVNb2RlIHx8ICFpc1Bvc2l0aXZlKG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRDaHVuayAhPT0gJycpIHtcbiAgICAgICAgcmVzdWx0ICs9IG1heWJlV3JhcEluTm90U2VsZWN0b3IoaXNOZWdhdGl2ZU1vZGUsIGN1cnJlbnRDaHVuayk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgQ1NTIHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtLlxuICpcbiAqIENvbXBvbmVudERlZiBhbmQgRGlyZWN0aXZlRGVmIGFyZSBnZW5lcmF0ZWQgd2l0aCB0aGUgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm0gdG8gYXZvaWQgZG9pbmdcbiAqIGFkZGl0aW9uYWwgcGFyc2luZyBhdCBydW50aW1lIChmb3IgZXhhbXBsZSwgZm9yIGRpcmVjdGl2ZSBtYXRjaGluZykuIEhvd2V2ZXIgaW4gc29tZSBjYXNlcyAoZm9yXG4gKiBleGFtcGxlLCB3aGlsZSBib290c3RyYXBwaW5nIGEgY29tcG9uZW50KSwgYSBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgc2VsZWN0b3IgaXMgcmVxdWlyZWQgdG8gcXVlcnlcbiAqIGZvciB0aGUgaG9zdCBlbGVtZW50IG9uIHRoZSBwYWdlLiBUaGlzIGZ1bmN0aW9uIHRha2VzIHRoZSBwYXJzZWQgZm9ybSBvZiBhIHNlbGVjdG9yIGFuZCByZXR1cm5zXG4gKiBpdHMgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEBwYXJhbSBzZWxlY3Rvckxpc3Qgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm1cbiAqIEByZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGdpdmVuIHNlbGVjdG9yXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeUNTU1NlbGVjdG9yTGlzdChzZWxlY3Rvckxpc3QpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JMaXN0Lm1hcChzdHJpbmdpZnlDU1NTZWxlY3Rvcikuam9pbignLCcpO1xufVxuLyoqXG4gKiBFeHRyYWN0cyBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGluZm9ybWF0aW9uIGZyb20gYSBnaXZlbiBDU1Mgc2VsZWN0b3IuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHdoaWxlIGNyZWF0aW5nIGEgY29tcG9uZW50IGR5bmFtaWNhbGx5LiBJbiB0aGlzIGNhc2UsIHRoZSBob3N0IGVsZW1lbnRcbiAqICh0aGF0IGlzIGNyZWF0ZWQgZHluYW1pY2FsbHkpIHNob3VsZCBjb250YWluIGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMgc3BlY2lmaWVkIGluIGNvbXBvbmVudCdzIENTU1xuICogc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIENTUyBzZWxlY3RvciBpbiBwYXJzZWQgZm9ybSAoaW4gYSBmb3JtIG9mIGFycmF5KVxuICogQHJldHVybnMgb2JqZWN0IHdpdGggYGF0dHJzYCBhbmQgYGNsYXNzZXNgIGZpZWxkcyB0aGF0IGNvbnRhaW4gZXh0cmFjdGVkIGluZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RBdHRyc0FuZENsYXNzZXNGcm9tU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBjb25zdCBhdHRycyA9IFtdO1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbXTtcbiAgICBsZXQgaSA9IDE7XG4gICAgbGV0IG1vZGUgPSAyIC8qIEFUVFJJQlVURSAqLztcbiAgICB3aGlsZSAoaSA8IHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgICBsZXQgdmFsdWVPck1hcmtlciA9IHNlbGVjdG9yW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlT3JNYXJrZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gMiAvKiBBVFRSSUJVVEUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVPck1hcmtlciAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMucHVzaCh2YWx1ZU9yTWFya2VyLCBzZWxlY3RvclsrK2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSA4IC8qIENMQVNTICovKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKHZhbHVlT3JNYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIENzc1NlbGVjdG9yIHNwZWMsIG9uY2Ugd2UgY29tZSBhY3Jvc3MgYFNlbGVjdG9yRmxhZ3MuTk9UYCBmbGFnLCB0aGUgbmVnYXRpdmVcbiAgICAgICAgICAgIC8vIG1vZGUgaXMgbWFpbnRhaW5lZCBmb3IgcmVtYWluaW5nIGNodW5rcyBvZiBhIHNlbGVjdG9yLiBTaW5jZSBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGFyZVxuICAgICAgICAgICAgLy8gZXh0cmFjdGVkIG9ubHkgZm9yIFwicG9zaXRpdmVcIiBwYXJ0IG9mIHRoZSBzZWxlY3Rvciwgd2UgY2FuIHN0b3AgaGVyZS5cbiAgICAgICAgICAgIGlmICghaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIG1vZGUgPSB2YWx1ZU9yTWFya2VyO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHsgYXR0cnMsIGNsYXNzZXMgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogQSBzcGVjaWFsIHZhbHVlIHdoaWNoIGRlc2lnbmF0ZXMgdGhhdCBhIHZhbHVlIGhhcyBub3QgY2hhbmdlZC4gKi9cbmNvbnN0IE5PX0NIQU5HRSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID8geyBfX2JyYW5kX186ICdOT19DSEFOR0UnIH0gOiB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkdmFuY2VzIHRvIGFuIGVsZW1lbnQgZm9yIGxhdGVyIGJpbmRpbmcgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBpbnN0cnVjdGlvbnMgbGlrZSB7QGxpbmsgcHJvcGVydHl9IHRvIGFjdCBvbiBlbGVtZW50cyB3aXRoIHNwZWNpZmllZFxuICogaW5kaWNlcywgZm9yIGV4YW1wbGUgdGhvc2UgY3JlYXRlZCB3aXRoIHtAbGluayBlbGVtZW50fSBvciB7QGxpbmsgZWxlbWVudFN0YXJ0fS5cbiAqXG4gKiBgYGB0c1xuICogKHJmOiBSZW5kZXJGbGFncywgY3R4OiBhbnkpID0+IHtcbiAqICAgaWYgKHJmICYgMSkge1xuICogICAgIHRleHQoMCwgJ0hlbGxvJyk7XG4gKiAgICAgdGV4dCgxLCAnR29vZGJ5ZScpXG4gKiAgICAgZWxlbWVudCgyLCAnZGl2Jyk7XG4gKiAgIH1cbiAqICAgaWYgKHJmICYgMikge1xuICogICAgIGFkdmFuY2UoMik7IC8vIEFkdmFuY2UgdHdpY2UgdG8gdGhlIDxkaXY+LlxuICogICAgIHByb3BlcnR5KCd0aXRsZScsICd0ZXN0Jyk7XG4gKiAgIH1cbiAqICB9XG4gKiBgYGBcbiAqIEBwYXJhbSBkZWx0YSBOdW1iZXIgb2YgZWxlbWVudHMgdG8gYWR2YW5jZSBmb3J3YXJkcyBieS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YWR2YW5jZShkZWx0YSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihkZWx0YSwgMCwgJ0NhbiBvbmx5IGFkdmFuY2UgZm9yd2FyZCcpO1xuICAgIHNlbGVjdEluZGV4SW50ZXJuYWwoZ2V0VFZpZXcoKSwgZ2V0TFZpZXcoKSwgZ2V0U2VsZWN0ZWRJbmRleCgpICsgZGVsdGEsIGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSk7XG59XG5mdW5jdGlvbiBzZWxlY3RJbmRleEludGVybmFsKHRWaWV3LCBsVmlldywgaW5kZXgsIGNoZWNrTm9DaGFuZ2VzTW9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluRGVjbFJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgLy8gRmx1c2ggdGhlIGluaXRpYWwgaG9va3MgZm9yIGVsZW1lbnRzIGluIHRoZSB2aWV3IHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHVwIHRvIHRoaXMgcG9pbnQuXG4gICAgLy8gUEVSRiBXQVJOSU5HOiBkbyBOT1QgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gd2l0aG91dCBydW5uaW5nIGJlbmNobWFya3NcbiAgICBpZiAoIWNoZWNrTm9DaGFuZ2VzTW9kZSkge1xuICAgICAgICBjb25zdCBob29rc0luaXRQaGFzZUNvbXBsZXRlZCA9IChsVmlld1tGTEFHU10gJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovO1xuICAgICAgICBpZiAoaG9va3NJbml0UGhhc2VDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZU9yZGVyQ2hlY2tIb29rcyA9IHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcztcbiAgICAgICAgICAgIGlmIChwcmVPcmRlckNoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJDaGVja0hvb2tzLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcmVPcmRlckhvb2tzID0gdFZpZXcucHJlT3JkZXJIb29rcztcbiAgICAgICAgICAgIGlmIChwcmVPcmRlckhvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBwcmVPcmRlckhvb2tzLCAwIC8qIE9uSW5pdEhvb2tzVG9CZVJ1biAqLywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdlIG11c3Qgc2V0IHRoZSBzZWxlY3RlZCBpbmRleCAqYWZ0ZXIqIHJ1bm5pbmcgdGhlIGhvb2tzLCBiZWNhdXNlIGhvb2tzIG1heSBoYXZlIHNpZGUtZWZmZWN0c1xuICAgIC8vIHRoYXQgY2F1c2Ugb3RoZXIgdGVtcGxhdGUgZnVuY3Rpb25zIHRvIHJ1biwgdGh1cyB1cGRhdGluZyB0aGUgc2VsZWN0ZWQgaW5kZXgsIHdoaWNoIGlzIGdsb2JhbFxuICAgIC8vIHN0YXRlLiBJZiB3ZSBydW4gYHNldFNlbGVjdGVkSW5kZXhgICpiZWZvcmUqIHdlIHJ1biB0aGUgaG9va3MsIGluIHNvbWUgY2FzZXMgdGhlIHNlbGVjdGVkIGluZGV4XG4gICAgLy8gd2lsbCBiZSBhbHRlcmVkIGJ5IHRoZSB0aW1lIHdlIGxlYXZlIHRoZSBgybXJtWFkdmFuY2VgIGluc3RydWN0aW9uLlxuICAgIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVEhJUyBGSUxFIENPTlRBSU5TIENPREUgV0hJQ0ggU0hPVUxEIEJFIFRSRUUgU0hBS0VOIEFORCBORVZFUiBDQUxMRUQgRlJPTSBQUk9EVUNUSU9OIENPREUhISFcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuIGBBcnJheWAgY29uc3RydWN0aW9uIHdpdGggYSBnaXZlbiBuYW1lLiBUaGlzIGlzIHVzZWZ1bCB3aGVuXG4gKiBsb29raW5nIGZvciBtZW1vcnkgY29uc3VtcHRpb24gdG8gc2VlIHdoYXQgdGltZSBvZiBhcnJheSBpdCBpcy5cbiAqXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBnaXZlIHRvIHRoZSBjb25zdHJ1Y3RvclxuICogQHJldHVybnMgQSBzdWJjbGFzcyBvZiBgQXJyYXlgIGlmIHBvc3NpYmxlLiBUaGlzIGNhbiBvbmx5IGJlIGRvbmUgaW5cbiAqICAgICAgICAgIGVudmlyb25tZW50cyB3aGljaCBzdXBwb3J0IGBjbGFzc2AgY29uc3RydWN0LlxuICovXG5mdW5jdGlvbiBjcmVhdGVOYW1lZEFycmF5VHlwZShuYW1lKSB7XG4gICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGluIHByb2QgbW9kZSwgc28gbGV0J3MgdmVyaWZ5IHRoYXQgaXMgdGhlIGNhc2UuXG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBmdW5jdGlvbiB3ZXJlIGNvbXByb21pc2VkIHRoZSBmb2xsb3dpbmcgY291bGQgbGVhZCB0byBhcmJpdHJhcnlcbiAgICAgICAgICAgIC8vIHNjcmlwdCBleGVjdXRpb24uIFdlIGJsZXNzIGl0IHdpdGggVHJ1c3RlZCBUeXBlcyBhbnl3YXkgc2luY2UgdGhpc1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgc3RyaXBwZWQgb3V0IG9mIHByb2R1Y3Rpb24gYmluYXJpZXMuXG4gICAgICAgICAgICByZXR1cm4gKG5ld1RydXN0ZWRGdW5jdGlvbkZvckRldignQXJyYXknLCBgcmV0dXJuIGNsYXNzICR7bmFtZX0gZXh0ZW5kcyBBcnJheXt9YCkpKEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWYgaXQgZG9lcyBub3Qgd29yayBqdXN0IGdpdmUgdXAgYW5kIGZhbGwgYmFjayB0byByZWd1bGFyIEFycmF5LlxuICAgICAgICAgICAgcmV0dXJuIEFycmF5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvb2tzIGxpa2Ugd2UgYXJlIGluIFxcJ3Byb2QgbW9kZVxcJywgYnV0IHdlIGFyZSBjcmVhdGluZyBhIG5hbWVkIEFycmF5IHR5cGUsIHdoaWNoIGlzIHdyb25nISBDaGVjayB5b3VyIGNvZGUnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gdG9UU3R5bGluZ1JhbmdlKHByZXYsIG5leHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShwcmV2LCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShuZXh0LCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICByZXR1cm4gKHByZXYgPDwgMTcgLyogUFJFVl9TSElGVCAqLyB8IG5leHQgPDwgMiAvKiBORVhUX1NISUZUICovKTtcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgPj4gMTcgLyogUFJFVl9TSElGVCAqLykgJiAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSAmIDIgLyogUFJFVl9EVVBMSUNBVEUgKi8pID09XG4gICAgICAgIDIgLyogUFJFVl9EVVBMSUNBVEUgKi87XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ1JhbmdlLCBwcmV2aW91cykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKHByZXZpb3VzLCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICByZXR1cm4gKCh0U3R5bGluZ1JhbmdlICYgfjQyOTQ4MzYyMjQgLyogUFJFVl9NQVNLICovKSB8XG4gICAgICAgIChwcmV2aW91cyA8PCAxNyAvKiBQUkVWX1NISUZUICovKSk7XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlIHwgMiAvKiBQUkVWX0RVUExJQ0FURSAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlICYgMTMxMDY4IC8qIE5FWFRfTUFTSyAqLykgPj4gMiAvKiBORVhUX1NISUZUICovO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdSYW5nZSwgbmV4dCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKG5leHQsIDAsIDMyNzY3IC8qIFVOU0lHTkVEX01BU0sgKi8pO1xuICAgIHJldHVybiAoKHRTdHlsaW5nUmFuZ2UgJiB+MTMxMDY4IC8qIE5FWFRfTUFTSyAqLykgfCAvL1xuICAgICAgICBuZXh0IDw8IDIgLyogTkVYVF9TSElGVCAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlICYgMSAvKiBORVhUX0RVUExJQ0FURSAqLykgPT09XG4gICAgICAgIDEgLyogTkVYVF9EVVBMSUNBVEUgKi87XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlIHwgMSAvKiBORVhUX0RVUExJQ0FURSAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlVGFpbCh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgY29uc3QgbmV4dCA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nUmFuZ2UpO1xuICAgIHJldHVybiBuZXh0ID09PSAwID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdSYW5nZSkgOiBuZXh0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUGF0Y2ggYSBgZGVidWdgIHByb3BlcnR5IG9uIHRvcCBvZiB0aGUgZXhpc3Rpbmcgb2JqZWN0LlxuICpcbiAqIE5PVEU6IGFsd2F5cyBjYWxsIHRoaXMgbWV0aG9kIHdpdGggYG5nRGV2TW9kZSAmJiBhdHRhY2hEZWJ1Z09iamVjdCguLi4pYFxuICpcbiAqIEBwYXJhbSBvYmogT2JqZWN0IHRvIHBhdGNoXG4gKiBAcGFyYW0gZGVidWcgVmFsdWUgdG8gcGF0Y2hcbiAqL1xuZnVuY3Rpb24gYXR0YWNoRGVidWdPYmplY3Qob2JqLCBkZWJ1Zykge1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ2RlYnVnJywgeyB2YWx1ZTogZGVidWcsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBzaG91bGQgYmUgZ3VhcmRlZCB3aXRoIGBuZ0Rldk1vZGVgIHNvIHRoYXQgaXQgY2FuIGJlIHRyZWUgc2hha2VuIGluIHByb2R1Y3Rpb24hJyk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXRjaCBhIGBkZWJ1Z2AgcHJvcGVydHkgZ2V0dGVyIG9uIHRvcCBvZiB0aGUgZXhpc3Rpbmcgb2JqZWN0LlxuICpcbiAqIE5PVEU6IGFsd2F5cyBjYWxsIHRoaXMgbWV0aG9kIHdpdGggYG5nRGV2TW9kZSAmJiBhdHRhY2hEZWJ1Z09iamVjdCguLi4pYFxuICpcbiAqIEBwYXJhbSBvYmogT2JqZWN0IHRvIHBhdGNoXG4gKiBAcGFyYW0gZGVidWdHZXR0ZXIgR2V0dGVyIHJldHVybmluZyBhIHZhbHVlIHRvIHBhdGNoXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaERlYnVnR2V0dGVyKG9iaiwgZGVidWdHZXR0ZXIpIHtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdkZWJ1ZycsIHsgZ2V0OiBkZWJ1Z0dldHRlciwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIHNob3VsZCBiZSBndWFyZGVkIHdpdGggYG5nRGV2TW9kZWAgc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gaW4gcHJvZHVjdGlvbiEnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLypcbiAqIFRoaXMgZmlsZSBjb250YWlucyBjb25kaXRpb25hbGx5IGF0dGFjaGVkIGNsYXNzZXMgd2hpY2ggcHJvdmlkZSBodW1hbiByZWFkYWJsZSAoZGVidWcpIGxldmVsXG4gKiBpbmZvcm1hdGlvbiBmb3IgYExWaWV3YCwgYExDb250YWluZXJgIGFuZCBvdGhlciBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZXMuIFRoZXNlIGRhdGEgc3RydWN0dXJlc1xuICogYXJlIHN0b3JlZCBpbnRlcm5hbGx5IGFzIGFycmF5IHdoaWNoIG1ha2VzIGl0IHZlcnkgZGlmZmljdWx0IGR1cmluZyBkZWJ1Z2dpbmcgdG8gcmVhc29uIGFib3V0IHRoZVxuICogY3VycmVudCBzdGF0ZSBvZiB0aGUgc3lzdGVtLlxuICpcbiAqIFBhdGNoaW5nIHRoZSBhcnJheSB3aXRoIGV4dHJhIHByb3BlcnR5IGRvZXMgY2hhbmdlIHRoZSBhcnJheSdzIGhpZGRlbiBjbGFzcycgYnV0IGl0IGRvZXMgbm90XG4gKiBjaGFuZ2UgdGhlIGNvc3Qgb2YgYWNjZXNzLCB0aGVyZWZvcmUgdGhpcyBwYXRjaGluZyBzaG91bGQgbm90IGhhdmUgc2lnbmlmaWNhbnQgaWYgYW55IGltcGFjdCBpblxuICogYG5nRGV2TW9kZWAgbW9kZS4gKHNlZTogaHR0cHM6Ly9qc3BlcmYuY29tL2FycmF5LXZzLW1vbmtleS1wYXRjaC1hcnJheSlcbiAqXG4gKiBTbyBpbnN0ZWFkIG9mIHNlZWluZzpcbiAqIGBgYFxuICogQXJyYXkoMzApIFtPYmplY3QsIDY1OSwgbnVsbCwg4oCmXVxuICogYGBgXG4gKlxuICogWW91IGdldCB0byBzZWU6XG4gKiBgYGBcbiAqIExWaWV3RGVidWcge1xuICogICB2aWV3czogWy4uLl0sXG4gKiAgIGZsYWdzOiB7YXR0YWNoZWQ6IHRydWUsIC4uLn1cbiAqICAgbm9kZXM6IFtcbiAqICAgICB7aHRtbDogJzxkaXYgaWQ9XCIxMjNcIj4nLCAuLi4sIG5vZGVzOiBbXG4gKiAgICAgICB7aHRtbDogJzxzcGFuPicsIC4uLiwgbm9kZXM6IG51bGx9XG4gKiAgICAgXX1cbiAqICAgXVxuICogfVxuICogYGBgXG4gKi9cbmxldCBMVklFV19DT01QT05FTlRfQ0FDSEU7XG5sZXQgTFZJRVdfRU1CRURERURfQ0FDSEU7XG5sZXQgTFZJRVdfUk9PVDtcbmxldCBMVklFV19DT01QT05FTlQ7XG5sZXQgTFZJRVdfRU1CRURERUQ7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGEgYmx1ZXByaW50IGFuZCBjcmVhdGVzIExWaWV3LlxuICpcbiAqIFNpbXBsZSBzbGljZSB3aWxsIGtlZXAgdGhlIHNhbWUgdHlwZSwgYW5kIHdlIG5lZWQgaXQgdG8gYmUgTFZpZXdcbiAqL1xuZnVuY3Rpb24gY2xvbmVUb0xWaWV3RnJvbVRWaWV3Qmx1ZXByaW50KHRWaWV3KSB7XG4gICAgY29uc3QgZGVidWdUVmlldyA9IHRWaWV3O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXdUb0Nsb25lKGRlYnVnVFZpZXcudHlwZSwgdFZpZXcudGVtcGxhdGUgJiYgdFZpZXcudGVtcGxhdGUubmFtZSk7XG4gICAgcmV0dXJuIGxWaWV3LmNvbmNhdCh0Vmlldy5ibHVlcHJpbnQpO1xufVxuY2xhc3MgTFJvb3RWaWV3IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTENvbXBvbmVudFZpZXcgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBMRW1iZWRkZWRWaWV3IGV4dGVuZHMgQXJyYXkge1xufVxuZnVuY3Rpb24gZ2V0TFZpZXdUb0Nsb25lKHR5cGUsIG5hbWUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAwIC8qIFJvb3QgKi86XG4gICAgICAgICAgICBpZiAoTFZJRVdfUk9PVCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIExWSUVXX1JPT1QgPSBuZXcgTFJvb3RWaWV3KCk7XG4gICAgICAgICAgICByZXR1cm4gTFZJRVdfUk9PVDtcbiAgICAgICAgY2FzZSAxIC8qIENvbXBvbmVudCAqLzpcbiAgICAgICAgICAgIGlmICghbmdEZXZNb2RlIHx8ICFuZ0Rldk1vZGUubmFtZWRDb25zdHJ1Y3RvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoTFZJRVdfQ09NUE9ORU5UID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIExWSUVXX0NPTVBPTkVOVCA9IG5ldyBMQ29tcG9uZW50VmlldygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMVklFV19DT01QT05FTlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTFZJRVdfQ09NUE9ORU5UX0NBQ0hFID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgTFZJRVdfQ09NUE9ORU5UX0NBQ0hFID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudEFycmF5ID0gTFZJRVdfQ09NUE9ORU5UX0NBQ0hFLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRBcnJheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50QXJyYXkgPSBuZXcgKGNyZWF0ZU5hbWVkQXJyYXlUeXBlKCdMQ29tcG9uZW50VmlldycgKyBuYW1lU3VmZml4KG5hbWUpKSkoKTtcbiAgICAgICAgICAgICAgICBMVklFV19DT01QT05FTlRfQ0FDSEUuc2V0KG5hbWUsIGNvbXBvbmVudEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRBcnJheTtcbiAgICAgICAgY2FzZSAyIC8qIEVtYmVkZGVkICovOlxuICAgICAgICAgICAgaWYgKCFuZ0Rldk1vZGUgfHwgIW5nRGV2TW9kZS5uYW1lZENvbnN0cnVjdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChMVklFV19FTUJFRERFRCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBMVklFV19FTUJFRERFRCA9IG5ldyBMRW1iZWRkZWRWaWV3KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExWSUVXX0VNQkVEREVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKExWSUVXX0VNQkVEREVEX0NBQ0hFID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgTFZJRVdfRU1CRURERURfQ0FDSEUgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBsZXQgZW1iZWRkZWRBcnJheSA9IExWSUVXX0VNQkVEREVEX0NBQ0hFLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZEFycmF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlbWJlZGRlZEFycmF5ID0gbmV3IChjcmVhdGVOYW1lZEFycmF5VHlwZSgnTEVtYmVkZGVkVmlldycgKyBuYW1lU3VmZml4KG5hbWUpKSkoKTtcbiAgICAgICAgICAgICAgICBMVklFV19FTUJFRERFRF9DQUNIRS5zZXQobmFtZSwgZW1iZWRkZWRBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW1iZWRkZWRBcnJheTtcbiAgICB9XG59XG5mdW5jdGlvbiBuYW1lU3VmZml4KHRleHQpIHtcbiAgICBpZiAodGV4dCA9PSBudWxsKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgaW5kZXggPSB0ZXh0Lmxhc3RJbmRleE9mKCdfVGVtcGxhdGUnKTtcbiAgICByZXR1cm4gJ18nICsgKGluZGV4ID09PSAtMSA/IHRleHQgOiB0ZXh0LnN1YnN0cigwLCBpbmRleCkpO1xufVxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGEgZGVidWcgdmVyc2lvbiBvZiBPYmplY3QgbGl0ZXJhbCBzbyB0aGF0IHdlIGNhbiBoYXZlIGNvbnN0cnVjdG9yIG5hbWUgc2hvdyB1cFxuICogaW5cbiAqIGRlYnVnIHRvb2xzIGluIG5nRGV2TW9kZS5cbiAqL1xuY29uc3QgVFZpZXdDb25zdHJ1Y3RvciA9IGNsYXNzIFRWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBibHVlcHJpbnQsIHRlbXBsYXRlLCBxdWVyaWVzLCB2aWV3UXVlcnksIGRlY2xUTm9kZSwgZGF0YSwgYmluZGluZ1N0YXJ0SW5kZXgsIGV4cGFuZG9TdGFydEluZGV4LCBob3N0QmluZGluZ09wQ29kZXMsIGZpcnN0Q3JlYXRlUGFzcywgZmlyc3RVcGRhdGVQYXNzLCBzdGF0aWNWaWV3UXVlcmllcywgc3RhdGljQ29udGVudFF1ZXJpZXMsIHByZU9yZGVySG9va3MsIHByZU9yZGVyQ2hlY2tIb29rcywgY29udGVudEhvb2tzLCBjb250ZW50Q2hlY2tIb29rcywgdmlld0hvb2tzLCB2aWV3Q2hlY2tIb29rcywgZGVzdHJveUhvb2tzLCBjbGVhbnVwLCBjb250ZW50UXVlcmllcywgY29tcG9uZW50cywgZGlyZWN0aXZlUmVnaXN0cnksIHBpcGVSZWdpc3RyeSwgZmlyc3RDaGlsZCwgc2NoZW1hcywgY29uc3RzLCBpbmNvbXBsZXRlRmlyc3RQYXNzLCBfZGVjbHMsIF92YXJzKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuYmx1ZXByaW50ID0gYmx1ZXByaW50O1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMucXVlcmllcyA9IHF1ZXJpZXM7XG4gICAgICAgIHRoaXMudmlld1F1ZXJ5ID0gdmlld1F1ZXJ5O1xuICAgICAgICB0aGlzLmRlY2xUTm9kZSA9IGRlY2xUTm9kZTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5iaW5kaW5nU3RhcnRJbmRleCA9IGJpbmRpbmdTdGFydEluZGV4O1xuICAgICAgICB0aGlzLmV4cGFuZG9TdGFydEluZGV4ID0gZXhwYW5kb1N0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuaG9zdEJpbmRpbmdPcENvZGVzID0gaG9zdEJpbmRpbmdPcENvZGVzO1xuICAgICAgICB0aGlzLmZpcnN0Q3JlYXRlUGFzcyA9IGZpcnN0Q3JlYXRlUGFzcztcbiAgICAgICAgdGhpcy5maXJzdFVwZGF0ZVBhc3MgPSBmaXJzdFVwZGF0ZVBhc3M7XG4gICAgICAgIHRoaXMuc3RhdGljVmlld1F1ZXJpZXMgPSBzdGF0aWNWaWV3UXVlcmllcztcbiAgICAgICAgdGhpcy5zdGF0aWNDb250ZW50UXVlcmllcyA9IHN0YXRpY0NvbnRlbnRRdWVyaWVzO1xuICAgICAgICB0aGlzLnByZU9yZGVySG9va3MgPSBwcmVPcmRlckhvb2tzO1xuICAgICAgICB0aGlzLnByZU9yZGVyQ2hlY2tIb29rcyA9IHByZU9yZGVyQ2hlY2tIb29rcztcbiAgICAgICAgdGhpcy5jb250ZW50SG9va3MgPSBjb250ZW50SG9va3M7XG4gICAgICAgIHRoaXMuY29udGVudENoZWNrSG9va3MgPSBjb250ZW50Q2hlY2tIb29rcztcbiAgICAgICAgdGhpcy52aWV3SG9va3MgPSB2aWV3SG9va3M7XG4gICAgICAgIHRoaXMudmlld0NoZWNrSG9va3MgPSB2aWV3Q2hlY2tIb29rcztcbiAgICAgICAgdGhpcy5kZXN0cm95SG9va3MgPSBkZXN0cm95SG9va3M7XG4gICAgICAgIHRoaXMuY2xlYW51cCA9IGNsZWFudXA7XG4gICAgICAgIHRoaXMuY29udGVudFF1ZXJpZXMgPSBjb250ZW50UXVlcmllcztcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVSZWdpc3RyeSA9IGRpcmVjdGl2ZVJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnBpcGVSZWdpc3RyeSA9IHBpcGVSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5maXJzdENoaWxkID0gZmlyc3RDaGlsZDtcbiAgICAgICAgdGhpcy5zY2hlbWFzID0gc2NoZW1hcztcbiAgICAgICAgdGhpcy5jb25zdHMgPSBjb25zdHM7XG4gICAgICAgIHRoaXMuaW5jb21wbGV0ZUZpcnN0UGFzcyA9IGluY29tcGxldGVGaXJzdFBhc3M7XG4gICAgICAgIHRoaXMuX2RlY2xzID0gX2RlY2xzO1xuICAgICAgICB0aGlzLl92YXJzID0gX3ZhcnM7XG4gICAgfVxuICAgIGdldCB0ZW1wbGF0ZV8oKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IFtdO1xuICAgICAgICBwcm9jZXNzVE5vZGVDaGlsZHJlbih0aGlzLmZpcnN0Q2hpbGQsIGJ1Zik7XG4gICAgICAgIHJldHVybiBidWYuam9pbignJyk7XG4gICAgfVxuICAgIGdldCB0eXBlXygpIHtcbiAgICAgICAgcmV0dXJuIFRWaWV3VHlwZUFzU3RyaW5nW3RoaXMudHlwZV0gfHwgYFRWaWV3VHlwZS4/JHt0aGlzLnR5cGV9P2A7XG4gICAgfVxufTtcbmNsYXNzIFROb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih0Vmlld18sIC8vXG4gICAgdHlwZSwgLy9cbiAgICBpbmRleCwgLy9cbiAgICBpbnNlcnRCZWZvcmVJbmRleCwgLy9cbiAgICBpbmplY3RvckluZGV4LCAvL1xuICAgIGRpcmVjdGl2ZVN0YXJ0LCAvL1xuICAgIGRpcmVjdGl2ZUVuZCwgLy9cbiAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCwgLy9cbiAgICBwcm9wZXJ0eUJpbmRpbmdzLCAvL1xuICAgIGZsYWdzLCAvL1xuICAgIHByb3ZpZGVySW5kZXhlcywgLy9cbiAgICB2YWx1ZSwgLy9cbiAgICBhdHRycywgLy9cbiAgICBtZXJnZWRBdHRycywgLy9cbiAgICBsb2NhbE5hbWVzLCAvL1xuICAgIGluaXRpYWxJbnB1dHMsIC8vXG4gICAgaW5wdXRzLCAvL1xuICAgIG91dHB1dHMsIC8vXG4gICAgdFZpZXdzLCAvL1xuICAgIG5leHQsIC8vXG4gICAgcHJvamVjdGlvbk5leHQsIC8vXG4gICAgY2hpbGQsIC8vXG4gICAgcGFyZW50LCAvL1xuICAgIHByb2plY3Rpb24sIC8vXG4gICAgc3R5bGVzLCAvL1xuICAgIHN0eWxlc1dpdGhvdXRIb3N0LCAvL1xuICAgIHJlc2lkdWFsU3R5bGVzLCAvL1xuICAgIGNsYXNzZXMsIC8vXG4gICAgY2xhc3Nlc1dpdGhvdXRIb3N0LCAvL1xuICAgIHJlc2lkdWFsQ2xhc3NlcywgLy9cbiAgICBjbGFzc0JpbmRpbmdzLCAvL1xuICAgIHN0eWxlQmluZGluZ3MpIHtcbiAgICAgICAgdGhpcy50Vmlld18gPSB0Vmlld187XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5pbnNlcnRCZWZvcmVJbmRleCA9IGluc2VydEJlZm9yZUluZGV4O1xuICAgICAgICB0aGlzLmluamVjdG9ySW5kZXggPSBpbmplY3RvckluZGV4O1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZVN0YXJ0ID0gZGlyZWN0aXZlU3RhcnQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlRW5kID0gZGlyZWN0aXZlRW5kO1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gZGlyZWN0aXZlU3R5bGluZ0xhc3Q7XG4gICAgICAgIHRoaXMucHJvcGVydHlCaW5kaW5ncyA9IHByb3BlcnR5QmluZGluZ3M7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5wcm92aWRlckluZGV4ZXMgPSBwcm92aWRlckluZGV4ZXM7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB0aGlzLm1lcmdlZEF0dHJzID0gbWVyZ2VkQXR0cnM7XG4gICAgICAgIHRoaXMubG9jYWxOYW1lcyA9IGxvY2FsTmFtZXM7XG4gICAgICAgIHRoaXMuaW5pdGlhbElucHV0cyA9IGluaXRpYWxJbnB1dHM7XG4gICAgICAgIHRoaXMuaW5wdXRzID0gaW5wdXRzO1xuICAgICAgICB0aGlzLm91dHB1dHMgPSBvdXRwdXRzO1xuICAgICAgICB0aGlzLnRWaWV3cyA9IHRWaWV3cztcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uTmV4dCA9IHByb2plY3Rpb25OZXh0O1xuICAgICAgICB0aGlzLmNoaWxkID0gY2hpbGQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5zdHlsZXNXaXRob3V0SG9zdCA9IHN0eWxlc1dpdGhvdXRIb3N0O1xuICAgICAgICB0aGlzLnJlc2lkdWFsU3R5bGVzID0gcmVzaWR1YWxTdHlsZXM7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IGNsYXNzZXM7XG4gICAgICAgIHRoaXMuY2xhc3Nlc1dpdGhvdXRIb3N0ID0gY2xhc3Nlc1dpdGhvdXRIb3N0O1xuICAgICAgICB0aGlzLnJlc2lkdWFsQ2xhc3NlcyA9IHJlc2lkdWFsQ2xhc3NlcztcbiAgICAgICAgdGhpcy5jbGFzc0JpbmRpbmdzID0gY2xhc3NCaW5kaW5ncztcbiAgICAgICAgdGhpcy5zdHlsZUJpbmRpbmdzID0gc3R5bGVCaW5kaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgaHVtYW4gZGVidWcgdmVyc2lvbiBvZiB0aGUgc2V0IG9mIGBOb2RlSW5qZWN0b3JgcyB3aGljaCB3aWxsIGJlIGNvbnN1bHRlZCB3aGVuXG4gICAgICogcmVzb2x2aW5nIHRva2VucyBmcm9tIHRoaXMgYFROb2RlYC5cbiAgICAgKlxuICAgICAqIFdoZW4gZGVidWdnaW5nIGFwcGxpY2F0aW9ucywgaXQgaXMgb2Z0ZW4gZGlmZmljdWx0IHRvIGRldGVybWluZSB3aGljaCBgTm9kZUluamVjdG9yYHMgd2lsbCBiZVxuICAgICAqIGNvbnN1bHRlZC4gVGhpcyBtZXRob2Qgc2hvd3MgYSBsaXN0IG9mIGBEZWJ1Z05vZGVgcyByZXByZXNlbnRpbmcgdGhlIGBUTm9kZWBzIHdoaWNoIHdpbGwgYmVcbiAgICAgKiBjb25zdWx0ZWQgaW4gb3JkZXIgd2hlbiByZXNvbHZpbmcgYSB0b2tlbiBzdGFydGluZyBhdCB0aGlzIGBUTm9kZWAuXG4gICAgICpcbiAgICAgKiBUaGUgb3JpZ2luYWwgZGF0YSBpcyBzdG9yZWQgaW4gYExWaWV3YCBhbmQgYFRWaWV3YCB3aXRoIGEgbG90IG9mIG9mZnNldCBpbmRleGVzLCBhbmQgc28gaXQgaXNcbiAgICAgKiBkaWZmaWN1bHQgdG8gcmVhc29uIGFib3V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIGluc3RhbmNlIGZvciB0aGlzIGBUTm9kZWAuXG4gICAgICovXG4gICAgZGVidWdOb2RlSW5qZWN0b3JQYXRoKGxWaWV3KSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgbGV0IGluamVjdG9ySW5kZXggPSBnZXRJbmplY3RvckluZGV4KHRoaXMsIGxWaWV3KTtcbiAgICAgICAgaWYgKGluamVjdG9ySW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBMb29rcyBsaWtlIHRoZSBjdXJyZW50IGBUTm9kZWAgZG9lcyBub3QgaGF2ZSBgTm9kZUluamVjdG9yYCBhc3NvY2lhdGVkIHdpdGggaXQgPT4gbG9vayBmb3JcbiAgICAgICAgICAgIC8vIHBhcmVudCBOb2RlSW5qZWN0b3IuXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRMb2NhdGlvbiA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odGhpcywgbFZpZXcpO1xuICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uICE9PSBOT19QQVJFTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIHBhcmVudCwgc28gc3RhcnQgc2VhcmNoaW5nIGZyb20gdGhlIHBhcmVudCBsb2NhdGlvbi5cbiAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vIHBhcmVudHMgaGF2ZSBiZWVuIGZvdW5kLCBzbyB0aGVyZSBhcmUgbm8gYE5vZGVJbmplY3RvcmBzIHRvIGNvbnN1bHQuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dO1xuICAgICAgICAgICAgcGF0aC5wdXNoKGJ1aWxkRGVidWdOb2RlKHROb2RlLCBsVmlldykpO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50TG9jYXRpb24gPSBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dO1xuICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uID09PSBOT19QQVJFTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgZ2V0IHR5cGVfKCkge1xuICAgICAgICByZXR1cm4gdG9UTm9kZVR5cGVBc1N0cmluZyh0aGlzLnR5cGUpIHx8IGBUTm9kZVR5cGUuPyR7dGhpcy50eXBlfT9gO1xuICAgIH1cbiAgICBnZXQgZmxhZ3NfKCkge1xuICAgICAgICBjb25zdCBmbGFncyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDE2IC8qIGhhc0NsYXNzSW5wdXQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc0NsYXNzSW5wdXQnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaGFzQ29udGVudFF1ZXJ5Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMzIgLyogaGFzU3R5bGVJbnB1dCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaGFzU3R5bGVJbnB1dCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc0hvc3RCaW5kaW5ncycpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5pc0NvbXBvbmVudEhvc3QnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNEaXJlY3RpdmVIb3N0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgNjQgLyogaXNEZXRhY2hlZCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNEZXRhY2hlZCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDQgLyogaXNQcm9qZWN0ZWQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzUHJvamVjdGVkJyk7XG4gICAgICAgIHJldHVybiBmbGFncy5qb2luKCd8Jyk7XG4gICAgfVxuICAgIGdldCB0ZW1wbGF0ZV8oKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgJiAxIC8qIFRleHQgKi8pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgYnVmID0gW107XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ3N0cmluZycgJiYgdGhpcy52YWx1ZSB8fCB0aGlzLnR5cGVfO1xuICAgICAgICBidWYucHVzaCgnPCcsIHRhZ05hbWUpO1xuICAgICAgICBpZiAodGhpcy5mbGFncykge1xuICAgICAgICAgICAgYnVmLnB1c2goJyAnLCB0aGlzLmZsYWdzXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXR0cnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRycy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLmF0dHJzW2krK107XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyTmFtZSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdGhpcy5hdHRyc1tpKytdO1xuICAgICAgICAgICAgICAgIGJ1Zi5wdXNoKCcgJywgYXR0ck5hbWUsICc9XCInLCBhdHRyVmFsdWUsICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIHByb2Nlc3NUTm9kZUNoaWxkcmVuKHRoaXMuY2hpbGQsIGJ1Zik7XG4gICAgICAgIGJ1Zi5wdXNoKCc8LycsIHRhZ05hbWUsICc+Jyk7XG4gICAgICAgIHJldHVybiBidWYuam9pbignJyk7XG4gICAgfVxuICAgIGdldCBzdHlsZUJpbmRpbmdzXygpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHlsZUJpbmRpbmcodGhpcywgZmFsc2UpO1xuICAgIH1cbiAgICBnZXQgY2xhc3NCaW5kaW5nc18oKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnU3R5bGVCaW5kaW5nKHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICBnZXQgcHJvdmlkZXJJbmRleFN0YXJ0XygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICB9XG4gICAgZ2V0IHByb3ZpZGVySW5kZXhFbmRfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlckluZGV4U3RhcnRfICtcbiAgICAgICAgICAgICh0aGlzLnByb3ZpZGVySW5kZXhlcyA+Pj4gMjAgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnQgKi8pO1xuICAgIH1cbn1cbmNvbnN0IFROb2RlRGVidWcgPSBUTm9kZTtcbmZ1bmN0aW9uIHRvRGVidWdTdHlsZUJpbmRpbmcodE5vZGUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IHREYXRhID0gdE5vZGUudFZpZXdfLmRhdGE7XG4gICAgY29uc3QgYmluZGluZ3MgPSBbXTtcbiAgICBjb25zdCByYW5nZSA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzQmluZGluZ3MgOiB0Tm9kZS5zdHlsZUJpbmRpbmdzO1xuICAgIGNvbnN0IHByZXYgPSBnZXRUU3R5bGluZ1JhbmdlUHJldihyYW5nZSk7XG4gICAgY29uc3QgbmV4dCA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHJhbmdlKTtcbiAgICBsZXQgaXNUZW1wbGF0ZSA9IG5leHQgIT09IDA7XG4gICAgbGV0IGN1cnNvciA9IGlzVGVtcGxhdGUgPyBuZXh0IDogcHJldjtcbiAgICB3aGlsZSAoY3Vyc29yICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1LZXkgPSB0RGF0YVtjdXJzb3JdO1xuICAgICAgICBjb25zdCBpdGVtUmFuZ2UgPSB0RGF0YVtjdXJzb3IgKyAxXTtcbiAgICAgICAgYmluZGluZ3MudW5zaGlmdCh7XG4gICAgICAgICAgICBrZXk6IGl0ZW1LZXksXG4gICAgICAgICAgICBpbmRleDogY3Vyc29yLFxuICAgICAgICAgICAgaXNUZW1wbGF0ZTogaXNUZW1wbGF0ZSxcbiAgICAgICAgICAgIHByZXZEdXBsaWNhdGU6IGdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKGl0ZW1SYW5nZSksXG4gICAgICAgICAgICBuZXh0RHVwbGljYXRlOiBnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZShpdGVtUmFuZ2UpLFxuICAgICAgICAgICAgbmV4dEluZGV4OiBnZXRUU3R5bGluZ1JhbmdlTmV4dChpdGVtUmFuZ2UpLFxuICAgICAgICAgICAgcHJldkluZGV4OiBnZXRUU3R5bGluZ1JhbmdlUHJldihpdGVtUmFuZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN1cnNvciA9PT0gcHJldilcbiAgICAgICAgICAgIGlzVGVtcGxhdGUgPSBmYWxzZTtcbiAgICAgICAgY3Vyc29yID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYoaXRlbVJhbmdlKTtcbiAgICB9XG4gICAgYmluZGluZ3MucHVzaCgoaXNDbGFzc0Jhc2VkID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXMpIHx8IG51bGwpO1xuICAgIHJldHVybiBiaW5kaW5ncztcbn1cbmZ1bmN0aW9uIHByb2Nlc3NUTm9kZUNoaWxkcmVuKHROb2RlLCBidWYpIHtcbiAgICB3aGlsZSAodE5vZGUpIHtcbiAgICAgICAgYnVmLnB1c2godE5vZGUudGVtcGxhdGVfKTtcbiAgICAgICAgdE5vZGUgPSB0Tm9kZS5uZXh0O1xuICAgIH1cbn1cbmNsYXNzIFRWaWV3RGF0YSBleHRlbmRzIEFycmF5IHtcbn1cbmxldCBUVklFV0RBVEFfRU1QVFk7IC8vIGNhbid0IGluaXRpYWxpemUgaGVyZSBvciBpdCB3aWxsIG5vdCBiZSB0cmVlIHNoYWtlbiwgYmVjYXVzZVxuLy8gYExWaWV3YCBjb25zdHJ1Y3RvciBjb3VsZCBoYXZlIHNpZGUtZWZmZWN0cy5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjbG9uZXMgYSBibHVlcHJpbnQgYW5kIGNyZWF0ZXMgVERhdGEuXG4gKlxuICogU2ltcGxlIHNsaWNlIHdpbGwga2VlcCB0aGUgc2FtZSB0eXBlLCBhbmQgd2UgbmVlZCBpdCB0byBiZSBURGF0YVxuICovXG5mdW5jdGlvbiBjbG9uZVRvVFZpZXdEYXRhKGxpc3QpIHtcbiAgICBpZiAoVFZJRVdEQVRBX0VNUFRZID09PSB1bmRlZmluZWQpXG4gICAgICAgIFRWSUVXREFUQV9FTVBUWSA9IG5ldyBUVmlld0RhdGEoKTtcbiAgICByZXR1cm4gVFZJRVdEQVRBX0VNUFRZLmNvbmNhdChsaXN0KTtcbn1cbmNsYXNzIExWaWV3Qmx1ZXByaW50IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTWF0Y2hlc0FycmF5IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVFZpZXdDb21wb25lbnRzIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVE5vZGVMb2NhbE5hbWVzIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVE5vZGVJbml0aWFsSW5wdXRzIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTENsZWFudXAgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBUQ2xlYW51cCBleHRlbmRzIEFycmF5IHtcbn1cbmZ1bmN0aW9uIGF0dGFjaExWaWV3RGVidWcobFZpZXcpIHtcbiAgICBhdHRhY2hEZWJ1Z09iamVjdChsVmlldywgbmV3IExWaWV3RGVidWcobFZpZXcpKTtcbn1cbmZ1bmN0aW9uIGF0dGFjaExDb250YWluZXJEZWJ1ZyhsQ29udGFpbmVyKSB7XG4gICAgYXR0YWNoRGVidWdPYmplY3QobENvbnRhaW5lciwgbmV3IExDb250YWluZXJEZWJ1ZyhsQ29udGFpbmVyKSk7XG59XG5mdW5jdGlvbiB0b0RlYnVnKG9iaikge1xuICAgIGlmIChvYmopIHtcbiAgICAgICAgY29uc3QgZGVidWcgPSBvYmouZGVidWc7XG4gICAgICAgIGFzc2VydERlZmluZWQoZGVidWcsICdPYmplY3QgZG9lcyBub3QgaGF2ZSBhIGRlYnVnIHJlcHJlc2VudGF0aW9uLicpO1xuICAgICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbn1cbi8qKlxuICogVXNlIHRoaXMgbWV0aG9kIHRvIHVud3JhcCBhIG5hdGl2ZSBlbGVtZW50IGluIGBMVmlld2AgYW5kIGNvbnZlcnQgaXQgaW50byBIVE1MIGZvciBlYXNpZXJcbiAqIHJlYWRpbmcuXG4gKlxuICogQHBhcmFtIHZhbHVlIHBvc3NpYmx5IHdyYXBwZWQgbmF0aXZlIERPTSBub2RlLlxuICogQHBhcmFtIGluY2x1ZGVDaGlsZHJlbiBJZiBgdHJ1ZWAgdGhlbiB0aGUgc2VyaWFsaXplZCBIVE1MIGZvcm0gd2lsbCBpbmNsdWRlIGNoaWxkIGVsZW1lbnRzXG4gKiAoc2FtZVxuICogYXMgYG91dGVySFRNTGApLiBJZiBgZmFsc2VgIHRoZW4gdGhlIHNlcmlhbGl6ZWQgSFRNTCBmb3JtIHdpbGwgb25seSBjb250YWluIHRoZSBlbGVtZW50XG4gKiBpdHNlbGZcbiAqICh3aWxsIG5vdCBzZXJpYWxpemUgY2hpbGQgZWxlbWVudHMpLlxuICovXG5mdW5jdGlvbiB0b0h0bWwodmFsdWUsIGluY2x1ZGVDaGlsZHJlbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgbm9kZSA9IHVud3JhcFJOb2RlKHZhbHVlKTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5URVhUX05PREU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgIHJldHVybiBgPCEtLSR7bm9kZS50ZXh0Q29udGVudH0tLT5gO1xuICAgICAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRlckhUTUwgPSBub2RlLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lckhUTUwgPSAnPicgKyBub2RlLmlubmVySFRNTCArICc8JztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvdXRlckhUTUwuc3BsaXQoaW5uZXJIVE1MKVswXSkgKyAnPic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuY2xhc3MgTFZpZXdEZWJ1ZyB7XG4gICAgY29uc3RydWN0b3IoX3Jhd19sVmlldykge1xuICAgICAgICB0aGlzLl9yYXdfbFZpZXcgPSBfcmF3X2xWaWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbGFncyBhc3NvY2lhdGVkIHdpdGggdGhlIGBMVmlld2AgdW5wYWNrZWQgaW50byBhIG1vcmUgcmVhZGFibGUgc3RhdGUuXG4gICAgICovXG4gICAgZ2V0IGZsYWdzKCkge1xuICAgICAgICBjb25zdCBmbGFncyA9IHRoaXMuX3Jhd19sVmlld1tGTEFHU107XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3Jhd19fZmxhZ3NfXzogZmxhZ3MsXG4gICAgICAgICAgICBpbml0UGhhc2VTdGF0ZTogZmxhZ3MgJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLyxcbiAgICAgICAgICAgIGNyZWF0aW9uTW9kZTogISEoZmxhZ3MgJiA0IC8qIENyZWF0aW9uTW9kZSAqLyksXG4gICAgICAgICAgICBmaXJzdFZpZXdQYXNzOiAhIShmbGFncyAmIDggLyogRmlyc3RMVmlld1Bhc3MgKi8pLFxuICAgICAgICAgICAgY2hlY2tBbHdheXM6ICEhKGZsYWdzICYgMTYgLyogQ2hlY2tBbHdheXMgKi8pLFxuICAgICAgICAgICAgZGlydHk6ICEhKGZsYWdzICYgNjQgLyogRGlydHkgKi8pLFxuICAgICAgICAgICAgYXR0YWNoZWQ6ICEhKGZsYWdzICYgMTI4IC8qIEF0dGFjaGVkICovKSxcbiAgICAgICAgICAgIGRlc3Ryb3llZDogISEoZmxhZ3MgJiAyNTYgLyogRGVzdHJveWVkICovKSxcbiAgICAgICAgICAgIGlzUm9vdDogISEoZmxhZ3MgJiA1MTIgLyogSXNSb290ICovKSxcbiAgICAgICAgICAgIGluZGV4V2l0aGluSW5pdFBoYXNlOiBmbGFncyA+PiAxMSAvKiBJbmRleFdpdGhpbkluaXRQaGFzZVNoaWZ0ICovLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbUEFSRU5UXSk7XG4gICAgfVxuICAgIGdldCBob3N0SFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIHRvSHRtbCh0aGlzLl9yYXdfbFZpZXdbSE9TVF0sIHRydWUpO1xuICAgIH1cbiAgICBnZXQgaHRtbCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm5vZGVzIHx8IFtdKS5tYXAobWFwVG9IVE1MKS5qb2luKCcnKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbQ09OVEVYVF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0cmVlIG9mIG5vZGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBgTFZpZXdgLiBUaGUgbm9kZXMgaGF2ZSBiZWVuIG5vcm1hbGl6ZWQgaW50b1xuICAgICAqIGEgdHJlZSBzdHJ1Y3R1cmUgd2l0aCByZWxldmFudCBkZXRhaWxzIHB1bGxlZCBvdXQgZm9yIHJlYWRhYmlsaXR5LlxuICAgICAqL1xuICAgIGdldCBub2RlcygpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSB0aGlzLl9yYXdfbFZpZXc7XG4gICAgICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHJldHVybiB0b0RlYnVnTm9kZXModE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50Vmlldy50ZW1wbGF0ZV87XG4gICAgfVxuICAgIGdldCB0VmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tUVklFV107XG4gICAgfVxuICAgIGdldCBjbGVhbnVwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W0NMRUFOVVBdO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbSU5KRUNUT1IkMV07XG4gICAgfVxuICAgIGdldCByZW5kZXJlckZhY3RvcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgfVxuICAgIGdldCByZW5kZXJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tSRU5ERVJFUl07XG4gICAgfVxuICAgIGdldCBzYW5pdGl6ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbU0FOSVRJWkVSXTtcbiAgICB9XG4gICAgZ2V0IGNoaWxkSGVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W0NISUxEX0hFQURdKTtcbiAgICB9XG4gICAgZ2V0IG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tORVhUXSk7XG4gICAgfVxuICAgIGdldCBjaGlsZFRhaWwoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tDSElMRF9UQUlMXSk7XG4gICAgfVxuICAgIGdldCBkZWNsYXJhdGlvblZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tERUNMQVJBVElPTl9WSUVXXSk7XG4gICAgfVxuICAgIGdldCBxdWVyaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1FVRVJJRVNdO1xuICAgIH1cbiAgICBnZXQgdEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbVF9IT1NUXTtcbiAgICB9XG4gICAgZ2V0IGRlY2xzKCkge1xuICAgICAgICByZXR1cm4gdG9MVmlld1JhbmdlKHRoaXMudFZpZXcsIHRoaXMuX3Jhd19sVmlldywgSEVBREVSX09GRlNFVCwgdGhpcy50Vmlldy5iaW5kaW5nU3RhcnRJbmRleCk7XG4gICAgfVxuICAgIGdldCB2YXJzKCkge1xuICAgICAgICByZXR1cm4gdG9MVmlld1JhbmdlKHRoaXMudFZpZXcsIHRoaXMuX3Jhd19sVmlldywgdGhpcy50Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgdGhpcy50Vmlldy5leHBhbmRvU3RhcnRJbmRleCk7XG4gICAgfVxuICAgIGdldCBleHBhbmRvKCkge1xuICAgICAgICByZXR1cm4gdG9MVmlld1JhbmdlKHRoaXMudFZpZXcsIHRoaXMuX3Jhd19sVmlldywgdGhpcy50Vmlldy5leHBhbmRvU3RhcnRJbmRleCwgdGhpcy5fcmF3X2xWaWV3Lmxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZWQgdmlldyBvZiBjaGlsZCB2aWV3cyAoYW5kIGNvbnRhaW5lcnMpIGF0dGFjaGVkIGF0IHRoaXMgbG9jYXRpb24uXG4gICAgICovXG4gICAgZ2V0IGNoaWxkVmlld3MoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkVmlld3MgPSBbXTtcbiAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZEhlYWQ7XG4gICAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRWaWV3cztcbiAgICB9XG59XG5mdW5jdGlvbiBtYXBUb0hUTUwobm9kZSkge1xuICAgIGlmIChub2RlLnR5cGUgPT09ICdFbGVtZW50Q29udGFpbmVyJykge1xuICAgICAgICByZXR1cm4gKG5vZGUuY2hpbGRyZW4gfHwgW10pLm1hcChtYXBUb0hUTUwpLmpvaW4oJycpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdJY3VDb250YWluZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9IdG1sKG5vZGUubmF0aXZlLCB0cnVlKSB8fCAnJztcbiAgICB9XG59XG5mdW5jdGlvbiB0b0xWaWV3UmFuZ2UodFZpZXcsIGxWaWV3LCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0OyBpbmRleCA8IGVuZDsgaW5kZXgrKykge1xuICAgICAgICBjb250ZW50LnB1c2goeyBpbmRleDogaW5kZXgsIHQ6IHRWaWV3LmRhdGFbaW5kZXhdLCBsOiBsVmlld1tpbmRleF0gfSk7XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQsIGxlbmd0aDogZW5kIC0gc3RhcnQsIGNvbnRlbnQ6IGNvbnRlbnQgfTtcbn1cbi8qKlxuICogVHVybnMgYSBmbGF0IGxpc3Qgb2Ygbm9kZXMgaW50byBhIHRyZWUgYnkgd2Fsa2luZyB0aGUgYXNzb2NpYXRlZCBgVE5vZGVgIHRyZWUuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKiBAcGFyYW0gbFZpZXdcbiAqL1xuZnVuY3Rpb24gdG9EZWJ1Z05vZGVzKHROb2RlLCBsVmlldykge1xuICAgIGlmICh0Tm9kZSkge1xuICAgICAgICBjb25zdCBkZWJ1Z05vZGVzID0gW107XG4gICAgICAgIGxldCB0Tm9kZUN1cnNvciA9IHROb2RlO1xuICAgICAgICB3aGlsZSAodE5vZGVDdXJzb3IpIHtcbiAgICAgICAgICAgIGRlYnVnTm9kZXMucHVzaChidWlsZERlYnVnTm9kZSh0Tm9kZUN1cnNvciwgbFZpZXcpKTtcbiAgICAgICAgICAgIHROb2RlQ3Vyc29yID0gdE5vZGVDdXJzb3IubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVidWdOb2RlcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBidWlsZERlYnVnTm9kZSh0Tm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCByYXdWYWx1ZSA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShyYXdWYWx1ZSk7XG4gICAgY29uc3QgZmFjdG9yaWVzID0gW107XG4gICAgY29uc3QgaW5zdGFuY2VzID0gW107XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgZm9yIChsZXQgaSA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0OyBpIDwgdE5vZGUuZGlyZWN0aXZlRW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgZmFjdG9yaWVzLnB1c2goZGVmLnR5cGUpO1xuICAgICAgICBpbnN0YW5jZXMucHVzaChsVmlld1tpXSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGh0bWw6IHRvSHRtbChuYXRpdmUpLFxuICAgICAgICB0eXBlOiB0b1ROb2RlVHlwZUFzU3RyaW5nKHROb2RlLnR5cGUpLFxuICAgICAgICB0Tm9kZSxcbiAgICAgICAgbmF0aXZlOiBuYXRpdmUsXG4gICAgICAgIGNoaWxkcmVuOiB0b0RlYnVnTm9kZXModE5vZGUuY2hpbGQsIGxWaWV3KSxcbiAgICAgICAgZmFjdG9yaWVzLFxuICAgICAgICBpbnN0YW5jZXMsXG4gICAgICAgIGluamVjdG9yOiBidWlsZE5vZGVJbmplY3RvckRlYnVnKHROb2RlLCB0VmlldywgbFZpZXcpLFxuICAgICAgICBnZXQgaW5qZWN0b3JSZXNvbHV0aW9uUGF0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0Tm9kZS5kZWJ1Z05vZGVJbmplY3RvclBhdGgobFZpZXcpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZE5vZGVJbmplY3RvckRlYnVnKHROb2RlLCB0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCB2aWV3UHJvdmlkZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IHROb2RlLnByb3ZpZGVySW5kZXhTdGFydF87IGkgPCB0Tm9kZS5wcm92aWRlckluZGV4RW5kXzsgaSsrKSB7XG4gICAgICAgIHZpZXdQcm92aWRlcnMucHVzaCh0Vmlldy5kYXRhW2ldKTtcbiAgICB9XG4gICAgY29uc3QgcHJvdmlkZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IHROb2RlLnByb3ZpZGVySW5kZXhFbmRfOyBpIDwgdE5vZGUuZGlyZWN0aXZlRW5kOyBpKyspIHtcbiAgICAgICAgcHJvdmlkZXJzLnB1c2godFZpZXcuZGF0YVtpXSk7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVJbmplY3RvckRlYnVnID0ge1xuICAgICAgICBibG9vbTogdG9CbG9vbShsVmlldywgdE5vZGUuaW5qZWN0b3JJbmRleCksXG4gICAgICAgIGN1bXVsYXRpdmVCbG9vbTogdG9CbG9vbSh0Vmlldy5kYXRhLCB0Tm9kZS5pbmplY3RvckluZGV4KSxcbiAgICAgICAgcHJvdmlkZXJzLFxuICAgICAgICB2aWV3UHJvdmlkZXJzLFxuICAgICAgICBwYXJlbnRJbmplY3RvckluZGV4OiBsVmlld1t0Tm9kZS5wcm92aWRlckluZGV4U3RhcnRfIC0gMV0sXG4gICAgfTtcbiAgICByZXR1cm4gbm9kZUluamVjdG9yRGVidWc7XG59XG4vKipcbiAqIENvbnZlcnQgYSBudW1iZXIgYXQgYGlkeGAgbG9jYXRpb24gaW4gYGFycmF5YCBpbnRvIGJpbmFyeSByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYXJyYXlcbiAqIEBwYXJhbSBpZHhcbiAqL1xuZnVuY3Rpb24gYmluYXJ5KGFycmF5LCBpZHgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGFycmF5W2lkeF07XG4gICAgLy8gSWYgbm90IGEgbnVtYmVyIHdlIHByaW50IDggYD9gIHRvIHJldGFpbiBhbGlnbm1lbnQgYnV0IGxldCB1c2VyIGtub3cgdGhhdCBpdCB3YXMgY2FsbGVkIG9uXG4gICAgLy8gd3JvbmcgdHlwZS5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuICc/Pz8/Pz8/Pyc7XG4gICAgLy8gV2UgcHJlZml4IDBzIHNvIHRoYXQgd2UgaGF2ZSBjb25zdGFudCBsZW5ndGggbnVtYmVyXG4gICAgY29uc3QgdGV4dCA9ICcwMDAwMDAwMCcgKyB2YWx1ZS50b1N0cmluZygyKTtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcodGV4dC5sZW5ndGggLSA4KTtcbn1cbi8qKlxuICogQ29udmVydCBhIGJsb29tIGZpbHRlciBhdCBsb2NhdGlvbiBgaWR4YCBpbiBgYXJyYXlgIGludG8gYmluYXJ5IHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEBwYXJhbSBhcnJheVxuICogQHBhcmFtIGlkeFxuICovXG5mdW5jdGlvbiB0b0Jsb29tKGFycmF5LCBpZHgpIHtcbiAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICByZXR1cm4gJ05PX05PREVfSU5KRUNUT1InO1xuICAgIH1cbiAgICByZXR1cm4gYCR7YmluYXJ5KGFycmF5LCBpZHggKyA3KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDYpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgNSl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyA0KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDMpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgMil9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAxKX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDApfWA7XG59XG5jbGFzcyBMQ29udGFpbmVyRGVidWcge1xuICAgIGNvbnN0cnVjdG9yKF9yYXdfbENvbnRhaW5lcikge1xuICAgICAgICB0aGlzLl9yYXdfbENvbnRhaW5lciA9IF9yYXdfbENvbnRhaW5lcjtcbiAgICB9XG4gICAgZ2V0IGhhc1RyYW5zcGxhbnRlZFZpZXdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbSEFTX1RSQU5TUExBTlRFRF9WSUVXU107XG4gICAgfVxuICAgIGdldCB2aWV3cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyLnNsaWNlKENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUKVxuICAgICAgICAgICAgLm1hcCh0b0RlYnVnKTtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xDb250YWluZXJbUEFSRU5UXSk7XG4gICAgfVxuICAgIGdldCBtb3ZlZFZpZXdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbTU9WRURfVklFV1NdO1xuICAgIH1cbiAgICBnZXQgaG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW0hPU1RdO1xuICAgIH1cbiAgICBnZXQgbmF0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbTkFUSVZFXTtcbiAgICB9XG4gICAgZ2V0IG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sQ29udGFpbmVyW05FWFRdKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBwZXJtYW5lbnQgbWFya2VyIHByb21pc2Ugd2hpY2ggc2lnbmlmaWVzIHRoYXQgdGhlIGN1cnJlbnQgQ0QgdHJlZSBpc1xuICogY2xlYW4uXG4gKi9cbmNvbnN0IF9DTEVBTl9QUk9NSVNFID0gKCgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSkoKTtcbi8qKlxuICogSW52b2tlIGBIb3N0QmluZGluZ3NGdW5jdGlvbmBzIGZvciB2aWV3LlxuICpcbiAqIFRoaXMgbWV0aG9kcyBleGVjdXRlcyBgVFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzYC4gSXQgaXMgdXNlZCB0byBleGVjdXRlIHRoZVxuICogYEhvc3RCaW5kaW5nc0Z1bmN0aW9uYHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2AuXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgaG9zdEJpbmRpbmdPcENvZGVzID0gdFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzO1xuICAgIGlmIChob3N0QmluZGluZ09wQ29kZXMgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvc3RCaW5kaW5nT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3BDb2RlID0gaG9zdEJpbmRpbmdPcENvZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG9wQ29kZSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSBlbGVtZW50IGluZGV4ZXMuXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCh+b3BDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIE51bWJlclR1cGxlIHdoaWNoIHN0b3JlIGJpbmRpbmdSb290SW5kZXggYW5kIGRpcmVjdGl2ZUluZGV4LlxuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZUlkeCA9IG9wQ29kZTtcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5kaW5nUm9vdEluZHggPSBob3N0QmluZGluZ09wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBob3N0QmluZGluZ0ZuID0gaG9zdEJpbmRpbmdPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgc2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MoYmluZGluZ1Jvb3RJbmR4LCBkaXJlY3RpdmVJZHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBsVmlld1tkaXJlY3RpdmVJZHhdO1xuICAgICAgICAgICAgICAgIGhvc3RCaW5kaW5nRm4oMiAvKiBVcGRhdGUgKi8sIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcbiAgICB9XG59XG4vKiogUmVmcmVzaGVzIGFsbCBjb250ZW50IHF1ZXJpZXMgZGVjbGFyZWQgYnkgZGlyZWN0aXZlcyBpbiBhIGdpdmVuIHZpZXcgKi9cbmZ1bmN0aW9uIHJlZnJlc2hDb250ZW50UXVlcmllcyh0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCBjb250ZW50UXVlcmllcyA9IHRWaWV3LmNvbnRlbnRRdWVyaWVzO1xuICAgIGlmIChjb250ZW50UXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnRRdWVyaWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0YXJ0SWR4ID0gY29udGVudFF1ZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWZJZHggPSBjb250ZW50UXVlcmllc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlRGVmSWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZiA9IHRWaWV3LmRhdGFbZGlyZWN0aXZlRGVmSWR4XTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChkaXJlY3RpdmVEZWYsICdEaXJlY3RpdmVEZWYgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKGRpcmVjdGl2ZURlZi5jb250ZW50UXVlcmllcywgJ2NvbnRlbnRRdWVyaWVzIGZ1bmN0aW9uIHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFF1ZXJ5SW5kZXgocXVlcnlTdGFydElkeCk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlRGVmLmNvbnRlbnRRdWVyaWVzKDIgLyogVXBkYXRlICovLCBsVmlld1tkaXJlY3RpdmVEZWZJZHhdLCBkaXJlY3RpdmVEZWZJZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqIFJlZnJlc2hlcyBjaGlsZCBjb21wb25lbnRzIGluIHRoZSBjdXJyZW50IHZpZXcgKHVwZGF0ZSBtb2RlKS4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hDaGlsZENvbXBvbmVudHMoaG9zdExWaWV3LCBjb21wb25lbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlZnJlc2hDb21wb25lbnQoaG9zdExWaWV3LCBjb21wb25lbnRzW2ldKTtcbiAgICB9XG59XG4vKiogUmVuZGVycyBjaGlsZCBjb21wb25lbnRzIGluIHRoZSBjdXJyZW50IHZpZXcgKGNyZWF0aW9uIG1vZGUpLiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2hpbGRDb21wb25lbnRzKGhvc3RMVmlldywgY29tcG9uZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZW5kZXJDb21wb25lbnQkMShob3N0TFZpZXcsIGNvbXBvbmVudHNbaV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUxWaWV3KHBhcmVudExWaWV3LCB0VmlldywgY29udGV4dCwgZmxhZ3MsIGhvc3QsIHRIb3N0Tm9kZSwgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlciwgc2FuaXRpemVyLCBpbmplY3Rvcikge1xuICAgIGNvbnN0IGxWaWV3ID0gbmdEZXZNb2RlID8gY2xvbmVUb0xWaWV3RnJvbVRWaWV3Qmx1ZXByaW50KHRWaWV3KSA6IHRWaWV3LmJsdWVwcmludC5zbGljZSgpO1xuICAgIGxWaWV3W0hPU1RdID0gaG9zdDtcbiAgICBsVmlld1tGTEFHU10gPSBmbGFncyB8IDQgLyogQ3JlYXRpb25Nb2RlICovIHwgMTI4IC8qIEF0dGFjaGVkICovIHwgOCAvKiBGaXJzdExWaWV3UGFzcyAqLztcbiAgICByZXNldFByZU9yZGVySG9va0ZsYWdzKGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgdFZpZXcuZGVjbFROb2RlICYmIHBhcmVudExWaWV3ICYmIGFzc2VydFROb2RlRm9yTFZpZXcodFZpZXcuZGVjbFROb2RlLCBwYXJlbnRMVmlldyk7XG4gICAgbFZpZXdbUEFSRU5UXSA9IGxWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddID0gcGFyZW50TFZpZXc7XG4gICAgbFZpZXdbQ09OVEVYVF0gPSBjb250ZXh0O1xuICAgIGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldID0gKHJlbmRlcmVyRmFjdG9yeSB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tSRU5ERVJFUl9GQUNUT1JZXSk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXdbUkVOREVSRVJfRkFDVE9SWV0sICdSZW5kZXJlckZhY3RvcnkgaXMgcmVxdWlyZWQnKTtcbiAgICBsVmlld1tSRU5ERVJFUl0gPSAocmVuZGVyZXIgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbUkVOREVSRVJdKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlld1tSRU5ERVJFUl0sICdSZW5kZXJlciBpcyByZXF1aXJlZCcpO1xuICAgIGxWaWV3W1NBTklUSVpFUl0gPSBzYW5pdGl6ZXIgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbU0FOSVRJWkVSXSB8fCBudWxsO1xuICAgIGxWaWV3W0lOSkVDVE9SJDFdID0gaW5qZWN0b3IgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbSU5KRUNUT1IkMV0gfHwgbnVsbDtcbiAgICBsVmlld1tUX0hPU1RdID0gdEhvc3ROb2RlO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0Vmlldy50eXBlID09IDIgLyogRW1iZWRkZWQgKi8gPyBwYXJlbnRMVmlldyAhPT0gbnVsbCA6IHRydWUsIHRydWUsICdFbWJlZGRlZCB2aWV3cyBtdXN0IGhhdmUgcGFyZW50TFZpZXcnKTtcbiAgICBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10gPVxuICAgICAgICB0Vmlldy50eXBlID09IDIgLyogRW1iZWRkZWQgKi8gPyBwYXJlbnRMVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10gOiBsVmlldztcbiAgICBuZ0Rldk1vZGUgJiYgYXR0YWNoTFZpZXdEZWJ1ZyhsVmlldyk7XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIHR5cGUsIG5hbWUsIGF0dHJzKSB7XG4gICAgbmdEZXZNb2RlICYmIGluZGV4ICE9PSAwICYmIC8vIDAgYXJlIGJvZ3VzIG5vZGVzIGFuZCB0aGV5IGFyZSBPSy4gU2VlIGBjcmVhdGVDb250YWluZXJSZWZgIGluXG4gICAgICAgIC8vIGB2aWV3X2VuZ2luZV9jb21wYXRpYmlsaXR5YCBmb3IgYWRkaXRpb25hbCBjb250ZXh0LlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdUTm9kZXMgY2FuXFwndCBiZSBpbiB0aGUgTFZpZXcgaGVhZGVyLicpO1xuICAgIC8vIEtlZXAgdGhpcyBmdW5jdGlvbiBzaG9ydCwgc28gdGhhdCB0aGUgVk0gd2lsbCBpbmxpbmUgaXQuXG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFB1cmVUTm9kZVR5cGUodHlwZSk7XG4gICAgbGV0IHROb2RlID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgaWYgKHROb2RlID09PSBudWxsKSB7XG4gICAgICAgIHROb2RlID0gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpbmRleCwgdHlwZSwgbmFtZSwgYXR0cnMpO1xuICAgICAgICBpZiAoaXNJbkkxOG5CbG9jaygpKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gaTE4biBibG9jayB0aGVuIGFsbCBlbGVtZW50cyBzaG91bGQgYmUgcHJlIGRlY2xhcmVkIHRocm91Z2ggYFBsYWNlaG9sZGVyYFxuICAgICAgICAgICAgLy8gU2VlIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGFuZCBgTEZyYW1lLmluSTE4bmAgZm9yIG1vcmUgY29udGV4dC5cbiAgICAgICAgICAgIC8vIElmIHRoZSBgVE5vZGVgIHdhcyBub3QgcHJlLWRlY2xhcmVkIHRoYW4gaXQgbWVhbnMgaXQgd2FzIG5vdCBtZW50aW9uZWQgd2hpY2ggbWVhbnMgaXQgd2FzXG4gICAgICAgICAgICAvLyByZW1vdmVkLCBzbyB3ZSBtYXJrIGl0IGFzIGRldGFjaGVkLlxuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gNjQgLyogaXNEZXRhY2hlZCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgNjQgLyogUGxhY2Vob2xkZXIgKi8pIHtcbiAgICAgICAgdE5vZGUudHlwZSA9IHR5cGU7XG4gICAgICAgIHROb2RlLnZhbHVlID0gbmFtZTtcbiAgICAgICAgdE5vZGUuYXR0cnMgPSBhdHRycztcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgICAgIHROb2RlLmluamVjdG9ySW5kZXggPSBwYXJlbnQgPT09IG51bGwgPyAtMSA6IHBhcmVudC5pbmplY3RvckluZGV4O1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgdFZpZXcpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaW5kZXgsIHROb2RlLmluZGV4LCAnRXhwZWN0aW5nIHNhbWUgaW5kZXgnKTtcbiAgICB9XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICByZXR1cm4gdE5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGluZGV4LCB0eXBlLCBuYW1lLCBhdHRycykge1xuICAgIGNvbnN0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZVBsYWNlaG9sZGVyT2soKTtcbiAgICBjb25zdCBpc1BhcmVudCA9IGlzQ3VycmVudFROb2RlUGFyZW50KCk7XG4gICAgY29uc3QgcGFyZW50ID0gaXNQYXJlbnQgPyBjdXJyZW50VE5vZGUgOiBjdXJyZW50VE5vZGUgJiYgY3VycmVudFROb2RlLnBhcmVudDtcbiAgICAvLyBQYXJlbnRzIGNhbm5vdCBjcm9zcyBjb21wb25lbnQgYm91bmRhcmllcyBiZWNhdXNlIGNvbXBvbmVudHMgd2lsbCBiZSB1c2VkIGluIG11bHRpcGxlIHBsYWNlcy5cbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdID1cbiAgICAgICAgY3JlYXRlVE5vZGUodFZpZXcsIHBhcmVudCwgdHlwZSwgaW5kZXgsIG5hbWUsIGF0dHJzKTtcbiAgICAvLyBBc3NpZ24gYSBwb2ludGVyIHRvIHRoZSBmaXJzdCBjaGlsZCBub2RlIG9mIGEgZ2l2ZW4gdmlldy4gVGhlIGZpcnN0IG5vZGUgaXMgbm90IGFsd2F5cyB0aGUgb25lXG4gICAgLy8gYXQgaW5kZXggMCwgaW4gY2FzZSBvZiBpMThuLCBpbmRleCAwIGNhbiBiZSB0aGUgaW5zdHJ1Y3Rpb24gYGkxOG5TdGFydGAgYW5kIHRoZSBmaXJzdCBub2RlIGhhc1xuICAgIC8vIHRoZSBpbmRleCAxIG9yIG1vcmUsIHNvIHdlIGNhbid0IGp1c3QgY2hlY2sgbm9kZSBpbmRleC5cbiAgICBpZiAodFZpZXcuZmlyc3RDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5maXJzdENoaWxkID0gdE5vZGU7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzUGFyZW50KSB7XG4gICAgICAgICAgICAvLyBGSVhNRShtaXNrbyk6IFRoaXMgbG9naWMgbG9va3MgdW5uZWNlc3NhcmlseSBjb21wbGljYXRlZC4gQ291bGQgd2Ugc2ltcGxpZnk/XG4gICAgICAgICAgICBpZiAoY3VycmVudFROb2RlLmNoaWxkID09IG51bGwgJiYgdE5vZGUucGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGluIHRoZSBzYW1lIHZpZXcsIHdoaWNoIG1lYW5zIHdlIGFyZSBhZGRpbmcgY29udGVudCBub2RlIHRvIHRoZSBwYXJlbnQgdmlldy5cbiAgICAgICAgICAgICAgICBjdXJyZW50VE5vZGUuY2hpbGQgPSB0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VE5vZGUubmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIGkxOG4gdGhlIGBjdXJyZW50VE5vZGVgIG1heSBhbHJlYWR5IGJlIGxpbmtlZCwgaW4gd2hpY2ggY2FzZSB3ZSBkb24ndCB3YW50XG4gICAgICAgICAgICAgICAgLy8gdG8gYnJlYWsgdGhlIGxpbmtzIHdoaWNoIGkxOG4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgICBjdXJyZW50VE5vZGUubmV4dCA9IHROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogV2hlbiBlbGVtZW50cyBhcmUgY3JlYXRlZCBkeW5hbWljYWxseSBhZnRlciBhIHZpZXcgYmx1ZXByaW50IGlzIGNyZWF0ZWQgKGUuZy4gdGhyb3VnaFxuICogaTE4bkFwcGx5KCkpLCB3ZSBuZWVkIHRvIGFkanVzdCB0aGUgYmx1ZXByaW50IGZvciBmdXR1cmVcbiAqIHRlbXBsYXRlIHBhc3Nlcy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCBhc3NvY2lhdGVkIHdpdGggYExWaWV3YFxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIGNvbnRhaW5pbmcgdGhlIGJsdWVwcmludCB0byBhZGp1c3RcbiAqIEBwYXJhbSBudW1TbG90c1RvQWxsb2MgVGhlIG51bWJlciBvZiBzbG90cyB0byBhbGxvYyBpbiB0aGUgTFZpZXcsIHNob3VsZCBiZSA+MFxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSBJbml0aWFsIHZhbHVlIHRvIHN0b3JlIGluIGJsdWVwcmludFxuICovXG5mdW5jdGlvbiBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCBudW1TbG90c1RvQWxsb2MsIGluaXRpYWxWYWx1ZSkge1xuICAgIGlmIChudW1TbG90c1RvQWxsb2MgPT09IDApXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgICAgIGFzc2VydFNhbWUodFZpZXcsIGxWaWV3W1RWSUVXXSwgJ2BMVmlld2AgbXVzdCBiZSBhc3NvY2lhdGVkIHdpdGggYFRWaWV3YCEnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcuZGF0YS5sZW5ndGgsIGxWaWV3Lmxlbmd0aCwgJ0V4cGVjdGluZyBMVmlldyB0byBiZSBzYW1lIHNpemUgYXMgVFZpZXcnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcuZGF0YS5sZW5ndGgsIHRWaWV3LmJsdWVwcmludC5sZW5ndGgsICdFeHBlY3RpbmcgQmx1ZXByaW50IHRvIGJlIHNhbWUgc2l6ZSBhcyBUVmlldycpO1xuICAgICAgICBhc3NlcnRGaXJzdFVwZGF0ZVBhc3ModFZpZXcpO1xuICAgIH1cbiAgICBjb25zdCBhbGxvY0lkeCA9IGxWaWV3Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNsb3RzVG9BbGxvYzsgaSsrKSB7XG4gICAgICAgIGxWaWV3LnB1c2goaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgdFZpZXcuYmx1ZXByaW50LnB1c2goaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgdFZpZXcuZGF0YS5wdXNoKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gYWxsb2NJZHg7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBSZW5kZXJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqIFByb2Nlc3NlcyBhIHZpZXcgaW4gdGhlIGNyZWF0aW9uIG1vZGUuIFRoaXMgaW5jbHVkZXMgYSBudW1iZXIgb2Ygc3RlcHMgaW4gYSBzcGVjaWZpYyBvcmRlcjpcbiAqIC0gY3JlYXRpbmcgdmlldyBxdWVyeSBmdW5jdGlvbnMgKGlmIGFueSk7XG4gKiAtIGV4ZWN1dGluZyBhIHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBjcmVhdGlvbiBtb2RlO1xuICogLSB1cGRhdGluZyBzdGF0aWMgcXVlcmllcyAoaWYgYW55KTtcbiAqIC0gY3JlYXRpbmcgY2hpbGQgY29tcG9uZW50cyBkZWZpbmVkIGluIGEgZ2l2ZW4gdmlldy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyVmlldyh0VmlldywgbFZpZXcsIGNvbnRleHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUobFZpZXcpLCB0cnVlLCAnU2hvdWxkIGJlIHJ1biBpbiBjcmVhdGlvbiBtb2RlJyk7XG4gICAgZW50ZXJWaWV3KGxWaWV3KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB2aWV3UXVlcnkgPSB0Vmlldy52aWV3UXVlcnk7XG4gICAgICAgIGlmICh2aWV3UXVlcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVWaWV3UXVlcnlGbigxIC8qIENyZWF0ZSAqLywgdmlld1F1ZXJ5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGVjdXRlIGEgdGVtcGxhdGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdmlldywgaWYgaXQgZXhpc3RzLiBBIHRlbXBsYXRlIGZ1bmN0aW9uIG1pZ2h0IG5vdCBiZVxuICAgICAgICAvLyBkZWZpbmVkIGZvciB0aGUgcm9vdCBjb21wb25lbnQgdmlld3MuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlRm4gPSB0Vmlldy50ZW1wbGF0ZTtcbiAgICAgICAgaWYgKHRlbXBsYXRlRm4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIDEgLyogQ3JlYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIHNldCBiZWZvcmUgY2hpbGRyZW4gYXJlIHByb2Nlc3NlZCB0byBzdXBwb3J0IHJlY3Vyc2l2ZSBjb21wb25lbnRzLlxuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IHRvIGZhbHNlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBmaXJzdCBjcmVhdGlvbiBydW4gYmVjYXVzZSBpbiBhblxuICAgICAgICAvLyBuZ0ZvciBsb29wLCBhbGwgdGhlIHZpZXdzIHdpbGwgYmUgY3JlYXRlZCB0b2dldGhlciBiZWZvcmUgdXBkYXRlIG1vZGUgcnVucyBhbmQgdHVybnNcbiAgICAgICAgLy8gb2ZmIGZpcnN0Q3JlYXRlUGFzcy4gSWYgd2UgZG9uJ3Qgc2V0IGl0IGhlcmUsIGluc3RhbmNlcyB3aWxsIHBlcmZvcm0gZGlyZWN0aXZlXG4gICAgICAgIC8vIG1hdGNoaW5nLCBldGMgYWdhaW4gYW5kIGFnYWluLlxuICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgICAgICB0Vmlldy5maXJzdENyZWF0ZVBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSByZXNvbHZlIGNvbnRlbnQgcXVlcmllcyBzcGVjaWZpY2FsbHkgbWFya2VkIGFzIGBzdGF0aWNgIGluIGNyZWF0aW9uIG1vZGUuIER5bmFtaWNcbiAgICAgICAgLy8gY29udGVudCBxdWVyaWVzIGFyZSByZXNvbHZlZCBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbiAoaS5lLiB1cGRhdGUgbW9kZSksIGFmdGVyIGVtYmVkZGVkXG4gICAgICAgIC8vIHZpZXdzIGFyZSByZWZyZXNoZWQgKHNlZSBibG9jayBhYm92ZSkuXG4gICAgICAgIGlmICh0Vmlldy5zdGF0aWNDb250ZW50UXVlcmllcykge1xuICAgICAgICAgICAgcmVmcmVzaENvbnRlbnRRdWVyaWVzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgbXVzdCBtYXRlcmlhbGl6ZSBxdWVyeSByZXN1bHRzIGJlZm9yZSBjaGlsZCBjb21wb25lbnRzIGFyZSBwcm9jZXNzZWRcbiAgICAgICAgLy8gaW4gY2FzZSBhIGNoaWxkIGNvbXBvbmVudCBoYXMgcHJvamVjdGVkIGEgY29udGFpbmVyLiBUaGUgTENvbnRhaW5lciBuZWVkc1xuICAgICAgICAvLyB0byBleGlzdCBzbyB0aGUgZW1iZWRkZWQgdmlld3MgYXJlIHByb3Blcmx5IGF0dGFjaGVkIGJ5IHRoZSBjb250YWluZXIuXG4gICAgICAgIGlmICh0Vmlldy5zdGF0aWNWaWV3UXVlcmllcykge1xuICAgICAgICAgICAgZXhlY3V0ZVZpZXdRdWVyeUZuKDIgLyogVXBkYXRlICovLCB0Vmlldy52aWV3UXVlcnksIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciBjaGlsZCBjb21wb25lbnQgdmlld3MuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0Vmlldy5jb21wb25lbnRzO1xuICAgICAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVuZGVyQ2hpbGRDb21wb25lbnRzKGxWaWV3LCBjb21wb25lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgd2UgZGlkbid0IG1hbmFnZSB0byBnZXQgcGFzdCB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcyBkdWUgdG9cbiAgICAgICAgLy8gYW4gZXJyb3IsIG1hcmsgdGhlIHZpZXcgYXMgY29ycnVwdGVkIHNvIHdlIGNhbiB0cnkgdG8gcmVjb3Zlci5cbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAgICAgdFZpZXcuaW5jb21wbGV0ZUZpcnN0UGFzcyA9IHRydWU7XG4gICAgICAgICAgICB0Vmlldy5maXJzdENyZWF0ZVBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+NCAvKiBDcmVhdGlvbk1vZGUgKi87XG4gICAgICAgIGxlYXZlVmlldygpO1xuICAgIH1cbn1cbi8qKlxuICogUHJvY2Vzc2VzIGEgdmlldyBpbiB1cGRhdGUgbW9kZS4gVGhpcyBpbmNsdWRlcyBhIG51bWJlciBvZiBzdGVwcyBpbiBhIHNwZWNpZmljIG9yZGVyOlxuICogLSBleGVjdXRpbmcgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBpbiB1cGRhdGUgbW9kZTtcbiAqIC0gZXhlY3V0aW5nIGhvb2tzO1xuICogLSByZWZyZXNoaW5nIHF1ZXJpZXM7XG4gKiAtIHNldHRpbmcgaG9zdCBiaW5kaW5ncztcbiAqIC0gcmVmcmVzaGluZyBjaGlsZCAoZW1iZWRkZWQgYW5kIGNvbXBvbmVudCkgdmlld3MuXG4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hWaWV3KHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgY29udGV4dCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpc0NyZWF0aW9uTW9kZShsVmlldyksIGZhbHNlLCAnU2hvdWxkIGJlIHJ1biBpbiB1cGRhdGUgbW9kZScpO1xuICAgIGNvbnN0IGZsYWdzID0gbFZpZXdbRkxBR1NdO1xuICAgIGlmICgoZmxhZ3MgJiAyNTYgLyogRGVzdHJveWVkICovKSA9PT0gMjU2IC8qIERlc3Ryb3llZCAqLylcbiAgICAgICAgcmV0dXJuO1xuICAgIGVudGVyVmlldyhsVmlldyk7XG4gICAgLy8gQ2hlY2sgbm8gY2hhbmdlcyBtb2RlIGlzIGEgZGV2IG9ubHkgbW9kZSB1c2VkIHRvIHZlcmlmeSB0aGF0IGJpbmRpbmdzIGhhdmUgbm90IGNoYW5nZWRcbiAgICAvLyBzaW5jZSB0aGV5IHdlcmUgYXNzaWduZWQuIFdlIGRvIG5vdCB3YW50IHRvIGV4ZWN1dGUgbGlmZWN5Y2xlIGhvb2tzIGluIHRoYXQgbW9kZS5cbiAgICBjb25zdCBpc0luQ2hlY2tOb0NoYW5nZXNQYXNzID0gaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc2V0UHJlT3JkZXJIb29rRmxhZ3MobFZpZXcpO1xuICAgICAgICBzZXRCaW5kaW5nSW5kZXgodFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpO1xuICAgICAgICBpZiAodGVtcGxhdGVGbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXhlY3V0ZVRlbXBsYXRlKHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgMiAvKiBVcGRhdGUgKi8sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkID0gKGZsYWdzICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLztcbiAgICAgICAgLy8gZXhlY3V0ZSBwcmUtb3JkZXIgaG9va3MgKE9uSW5pdCwgT25DaGFuZ2VzLCBEb0NoZWNrKVxuICAgICAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZU9yZGVyQ2hlY2tIb29rcyA9IHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcztcbiAgICAgICAgICAgICAgICBpZiAocHJlT3JkZXJDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBwcmVPcmRlckNoZWNrSG9va3MsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZU9yZGVySG9va3MgPSB0Vmlldy5wcmVPcmRlckhvb2tzO1xuICAgICAgICAgICAgICAgIGlmIChwcmVPcmRlckhvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJIb29rcywgMCAvKiBPbkluaXRIb29rc1RvQmVSdW4gKi8sIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRJbml0UGhhc2VGbGFncyhsVmlldywgMCAvKiBPbkluaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpcnN0IG1hcmsgdHJhbnNwbGFudGVkIHZpZXdzIHRoYXQgYXJlIGRlY2xhcmVkIGluIHRoaXMgbFZpZXcgYXMgbmVlZGluZyBhIHJlZnJlc2ggYXQgdGhlaXJcbiAgICAgICAgLy8gaW5zZXJ0aW9uIHBvaW50cy4gVGhpcyBpcyBuZWVkZWQgdG8gYXZvaWQgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgdGVtcGxhdGUgaXMgZGVmaW5lZCBpbiB0aGlzXG4gICAgICAgIC8vIGBMVmlld2AgYnV0IGl0cyBkZWNsYXJhdGlvbiBhcHBlYXJzIGFmdGVyIHRoZSBpbnNlcnRpb24gY29tcG9uZW50LlxuICAgICAgICBtYXJrVHJhbnNwbGFudGVkVmlld3NGb3JSZWZyZXNoKGxWaWV3KTtcbiAgICAgICAgcmVmcmVzaEVtYmVkZGVkVmlld3MobFZpZXcpO1xuICAgICAgICAvLyBDb250ZW50IHF1ZXJ5IHJlc3VsdHMgbXVzdCBiZSByZWZyZXNoZWQgYmVmb3JlIGNvbnRlbnQgaG9va3MgYXJlIGNhbGxlZC5cbiAgICAgICAgaWYgKHRWaWV3LmNvbnRlbnRRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWZyZXNoQ29udGVudFF1ZXJpZXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleGVjdXRlIGNvbnRlbnQgaG9va3MgKEFmdGVyQ29udGVudEluaXQsIEFmdGVyQ29udGVudENoZWNrZWQpXG4gICAgICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudENoZWNrSG9va3MgPSB0Vmlldy5jb250ZW50Q2hlY2tIb29rcztcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudENoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIGNvbnRlbnRDaGVja0hvb2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50SG9va3MgPSB0Vmlldy5jb250ZW50SG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIGNvbnRlbnRIb29rcywgMSAvKiBBZnRlckNvbnRlbnRJbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIDEgLyogQWZ0ZXJDb250ZW50SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0hvc3RCaW5kaW5nT3BDb2Rlcyh0VmlldywgbFZpZXcpO1xuICAgICAgICAvLyBSZWZyZXNoIGNoaWxkIGNvbXBvbmVudCB2aWV3cy5cbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHRWaWV3LmNvbXBvbmVudHM7XG4gICAgICAgIGlmIChjb21wb25lbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWZyZXNoQ2hpbGRDb21wb25lbnRzKGxWaWV3LCBjb21wb25lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBWaWV3IHF1ZXJpZXMgbXVzdCBleGVjdXRlIGFmdGVyIHJlZnJlc2hpbmcgY2hpbGQgY29tcG9uZW50cyBiZWNhdXNlIGEgdGVtcGxhdGUgaW4gdGhpcyB2aWV3XG4gICAgICAgIC8vIGNvdWxkIGJlIGluc2VydGVkIGluIGEgY2hpbGQgY29tcG9uZW50LiBJZiB0aGUgdmlldyBxdWVyeSBleGVjdXRlcyBiZWZvcmUgY2hpbGQgY29tcG9uZW50XG4gICAgICAgIC8vIHJlZnJlc2gsIHRoZSB0ZW1wbGF0ZSBtaWdodCBub3QgeWV0IGJlIGluc2VydGVkLlxuICAgICAgICBjb25zdCB2aWV3UXVlcnkgPSB0Vmlldy52aWV3UXVlcnk7XG4gICAgICAgIGlmICh2aWV3UXVlcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVWaWV3UXVlcnlGbigyIC8qIFVwZGF0ZSAqLywgdmlld1F1ZXJ5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleGVjdXRlIHZpZXcgaG9va3MgKEFmdGVyVmlld0luaXQsIEFmdGVyVmlld0NoZWNrZWQpXG4gICAgICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld0NoZWNrSG9va3MgPSB0Vmlldy52aWV3Q2hlY2tIb29rcztcbiAgICAgICAgICAgICAgICBpZiAodmlld0NoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIHZpZXdDaGVja0hvb2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3SG9va3MgPSB0Vmlldy52aWV3SG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXdIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIHZpZXdIb29rcywgMiAvKiBBZnRlclZpZXdJbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIDIgLyogQWZ0ZXJWaWV3SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0VXBkYXRlUGFzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCB3ZSBvbmx5IGZsaXAgdGhlIGZsYWcgb24gc3VjY2Vzc2Z1bCBgcmVmcmVzaFZpZXdgIG9ubHlcbiAgICAgICAgICAgIC8vIERvbid0IGRvIHRoaXMgaW4gYGZpbmFsbHlgIGJsb2NrLlxuICAgICAgICAgICAgLy8gSWYgd2UgZGlkIHRoaXMgaW4gYGZpbmFsbHlgIGJsb2NrIHRoZW4gYW4gZXhjZXB0aW9uIGNvdWxkIGJsb2NrIHRoZSBleGVjdXRpb24gb2Ygc3R5bGluZ1xuICAgICAgICAgICAgLy8gaW5zdHJ1Y3Rpb25zIHdoaWNoIGluIHR1cm4gd291bGQgYmUgdW5hYmxlIHRvIGluc2VydCB0aGVtc2VsdmVzIGludG8gdGhlIHN0eWxpbmcgbGlua2VkXG4gICAgICAgICAgICAvLyBsaXN0LiBUaGUgcmVzdWx0IG9mIHRoaXMgd291bGQgYmUgdGhhdCBpZiB0aGUgZXhjZXB0aW9uIHdvdWxkIG5vdCBiZSB0aHJvdyBvbiBzdWJzZXF1ZW50IENEXG4gICAgICAgICAgICAvLyB0aGUgc3R5bGluZyB3b3VsZCBiZSB1bmFibGUgdG8gcHJvY2VzcyBpdCBkYXRhIGFuZCByZWZsZWN0IHRvIHRoZSBET00uXG4gICAgICAgICAgICB0Vmlldy5maXJzdFVwZGF0ZVBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBub3QgcmVzZXQgdGhlIGRpcnR5IHN0YXRlIHdoZW4gcnVubmluZyBpbiBjaGVjayBubyBjaGFuZ2VzIG1vZGUuIFdlIGRvbid0IHdhbnQgY29tcG9uZW50c1xuICAgICAgICAvLyB0byBiZWhhdmUgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoZXRoZXIgY2hlY2sgbm8gY2hhbmdlcyBpcyBlbmFibGVkIG9yIG5vdC4gRm9yIGV4YW1wbGU6XG4gICAgICAgIC8vIE1hcmtpbmcgYW4gT25QdXNoIGNvbXBvbmVudCBhcyBkaXJ0eSBmcm9tIHdpdGhpbiB0aGUgYG5nQWZ0ZXJWaWV3SW5pdGAgaG9vayBpbiBvcmRlciB0b1xuICAgICAgICAvLyByZWZyZXNoIGEgYE5nQ2xhc3NgIGJpbmRpbmcgc2hvdWxkIHdvcmsuIElmIHdlIHdvdWxkIHJlc2V0IHRoZSBkaXJ0eSBzdGF0ZSBpbiB0aGUgY2hlY2tcbiAgICAgICAgLy8gbm8gY2hhbmdlcyBjeWNsZSwgdGhlIGNvbXBvbmVudCB3b3VsZCBiZSBub3QgYmUgZGlydHkgZm9yIHRoZSBuZXh0IHVwZGF0ZSBwYXNzLiBUaGlzIHdvdWxkXG4gICAgICAgIC8vIGJlIGRpZmZlcmVudCBpbiBwcm9kdWN0aW9uIG1vZGUgd2hlcmUgdGhlIGNvbXBvbmVudCBkaXJ0eSBzdGF0ZSBpcyBub3QgcmVzZXQuXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4oNjQgLyogRGlydHkgKi8gfCA4IC8qIEZpcnN0TFZpZXdQYXNzICovKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykge1xuICAgICAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4xMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGxWaWV3W1BBUkVOVF0sIC0xKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgbGVhdmVWaWV3KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGNvbnRleHQpIHtcbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICBjb25zdCBub3JtYWxFeGVjdXRpb25QYXRoID0gIWlzSW5DaGVja05vQ2hhbmdlc01vZGUoKTtcbiAgICBjb25zdCBjcmVhdGlvbk1vZGVJc0FjdGl2ZSA9IGlzQ3JlYXRpb25Nb2RlKGxWaWV3KTtcbiAgICB0cnkge1xuICAgICAgICBpZiAobm9ybWFsRXhlY3V0aW9uUGF0aCAmJiAhY3JlYXRpb25Nb2RlSXNBY3RpdmUgJiYgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKSB7XG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuYmVnaW4oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3JlYXRpb25Nb2RlSXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJlbmRlclZpZXcodFZpZXcsIGxWaWV3LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZWZyZXNoVmlldyh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGNvbnRleHQpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG5vcm1hbEV4ZWN1dGlvblBhdGggJiYgIWNyZWF0aW9uTW9kZUlzQWN0aXZlICYmIHJlbmRlcmVyRmFjdG9yeS5lbmQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5lbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIHJmLCBjb250ZXh0KSB7XG4gICAgY29uc3QgcHJldlNlbGVjdGVkSW5kZXggPSBnZXRTZWxlY3RlZEluZGV4KCk7XG4gICAgY29uc3QgaXNVcGRhdGVQaGFzZSA9IHJmICYgMiAvKiBVcGRhdGUgKi87XG4gICAgdHJ5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCgtMSk7XG4gICAgICAgIGlmIChpc1VwZGF0ZVBoYXNlICYmIGxWaWV3Lmxlbmd0aCA+IEhFQURFUl9PRkZTRVQpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UncmUgdXBkYXRpbmcsIGluaGVyZW50bHkgc2VsZWN0IDAgc28gd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGhhdmUgdG8gZ2VuZXJhdGUgdGhhdCBpbnN0cnVjdGlvbiBmb3IgbW9zdCB1cGRhdGUgYmxvY2tzLlxuICAgICAgICAgICAgc2VsZWN0SW5kZXhJbnRlcm5hbCh0VmlldywgbFZpZXcsIEhFQURFUl9PRkZTRVQsIGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJlSG9va1R5cGUgPSBpc1VwZGF0ZVBoYXNlID8gMiAvKiBUZW1wbGF0ZVVwZGF0ZVN0YXJ0ICovIDogMCAvKiBUZW1wbGF0ZUNyZWF0ZVN0YXJ0ICovO1xuICAgICAgICBwcm9maWxlcihwcmVIb29rVHlwZSwgY29udGV4dCk7XG4gICAgICAgIHRlbXBsYXRlRm4ocmYsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChwcmV2U2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIGNvbnN0IHBvc3RIb29rVHlwZSA9IGlzVXBkYXRlUGhhc2UgPyAzIC8qIFRlbXBsYXRlVXBkYXRlRW5kICovIDogMSAvKiBUZW1wbGF0ZUNyZWF0ZUVuZCAqLztcbiAgICAgICAgcHJvZmlsZXIocG9zdEhvb2tUeXBlLCBjb250ZXh0KTtcbiAgICB9XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBFbGVtZW50XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gZXhlY3V0ZUNvbnRlbnRRdWVyaWVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAoaXNDb250ZW50UXVlcnlIb3N0KHROb2RlKSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgICAgIGZvciAobGV0IGRpcmVjdGl2ZUluZGV4ID0gc3RhcnQ7IGRpcmVjdGl2ZUluZGV4IDwgZW5kOyBkaXJlY3RpdmVJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2RpcmVjdGl2ZUluZGV4XTtcbiAgICAgICAgICAgIGlmIChkZWYuY29udGVudFF1ZXJpZXMpIHtcbiAgICAgICAgICAgICAgICBkZWYuY29udGVudFF1ZXJpZXMoMSAvKiBDcmVhdGUgKi8sIGxWaWV3W2RpcmVjdGl2ZUluZGV4XSwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGRpcmVjdGl2ZSBpbnN0YW5jZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXModFZpZXcsIGxWaWV3LCB0Tm9kZSkge1xuICAgIGlmICghZ2V0QmluZGluZ3NFbmFibGVkKCkpXG4gICAgICAgIHJldHVybjtcbiAgICBpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpKTtcbiAgICBpZiAoKHROb2RlLmZsYWdzICYgMTI4IC8qIGhhc0hvc3RCaW5kaW5ncyAqLykgPT09IDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi8pIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIFRha2VzIGEgbGlzdCBvZiBsb2NhbCBuYW1lcyBhbmQgaW5kaWNlcyBhbmQgcHVzaGVzIHRoZSByZXNvbHZlZCBsb2NhbCB2YXJpYWJsZSB2YWx1ZXNcbiAqIHRvIExWaWV3IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgYXJlIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgd2l0aCBsb2FkKCkuXG4gKi9cbmZ1bmN0aW9uIHNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YSh2aWV3RGF0YSwgdE5vZGUsIGxvY2FsUmVmRXh0cmFjdG9yID0gZ2V0TmF0aXZlQnlUTm9kZSkge1xuICAgIGNvbnN0IGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzO1xuICAgIGlmIChsb2NhbE5hbWVzICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBsb2NhbEluZGV4ID0gdE5vZGUuaW5kZXggKyAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsTmFtZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbG9jYWxOYW1lc1tpICsgMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGluZGV4ID09PSAtMSA/XG4gICAgICAgICAgICAgICAgbG9jYWxSZWZFeHRyYWN0b3IodE5vZGUsIHZpZXdEYXRhKSA6XG4gICAgICAgICAgICAgICAgdmlld0RhdGFbaW5kZXhdO1xuICAgICAgICAgICAgdmlld0RhdGFbbG9jYWxJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZXRzIFRWaWV3IGZyb20gYSB0ZW1wbGF0ZSBmdW5jdGlvbiBvciBjcmVhdGVzIGEgbmV3IFRWaWV3XG4gKiBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QuXG4gKlxuICogQHBhcmFtIGRlZiBDb21wb25lbnREZWZcbiAqIEByZXR1cm5zIFRWaWV3XG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVENvbXBvbmVudFZpZXcoZGVmKSB7XG4gICAgY29uc3QgdFZpZXcgPSBkZWYudFZpZXc7XG4gICAgLy8gQ3JlYXRlIGEgVFZpZXcgaWYgdGhlcmUgaXNuJ3Qgb25lLCBvciByZWNyZWF0ZSBpdCBpZiB0aGUgZmlyc3QgY3JlYXRlIHBhc3MgZGlkbid0XG4gICAgLy8gY29tcGxldGUgc3VjY2Vzc2Z1bGx5IHNpbmNlIHdlIGNhbid0IGtub3cgZm9yIHN1cmUgd2hldGhlciBpdCdzIGluIGEgdXNhYmxlIHNoYXBlLlxuICAgIGlmICh0VmlldyA9PT0gbnVsbCB8fCB0Vmlldy5pbmNvbXBsZXRlRmlyc3RQYXNzKSB7XG4gICAgICAgIC8vIERlY2xhcmF0aW9uIG5vZGUgaGVyZSBpcyBudWxsIHNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gd2UgZHluYW1pY2FsbHkgY3JlYXRlIGFcbiAgICAgICAgLy8gY29tcG9uZW50IGFuZCBoZW5jZSB0aGVyZSBpcyBubyBkZWNsYXJhdGlvbi5cbiAgICAgICAgY29uc3QgZGVjbFROb2RlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGRlZi50VmlldyA9IGNyZWF0ZVRWaWV3KDEgLyogQ29tcG9uZW50ICovLCBkZWNsVE5vZGUsIGRlZi50ZW1wbGF0ZSwgZGVmLmRlY2xzLCBkZWYudmFycywgZGVmLmRpcmVjdGl2ZURlZnMsIGRlZi5waXBlRGVmcywgZGVmLnZpZXdRdWVyeSwgZGVmLnNjaGVtYXMsIGRlZi5jb25zdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdFZpZXc7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBUVmlldyBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB0eXBlIFR5cGUgb2YgYFRWaWV3YC5cbiAqIEBwYXJhbSBkZWNsVE5vZGUgRGVjbGFyYXRpb24gbG9jYXRpb24gb2YgdGhpcyBgVFZpZXdgLlxuICogQHBhcmFtIHRlbXBsYXRlRm4gVGVtcGxhdGUgZnVuY3Rpb25cbiAqIEBwYXJhbSBkZWNscyBUaGUgbnVtYmVyIG9mIG5vZGVzLCBsb2NhbCByZWZzLCBhbmQgcGlwZXMgaW4gdGhpcyB0ZW1wbGF0ZVxuICogQHBhcmFtIGRpcmVjdGl2ZXMgUmVnaXN0cnkgb2YgZGlyZWN0aXZlcyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0gcGlwZXMgUmVnaXN0cnkgb2YgcGlwZXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIHZpZXdRdWVyeSBWaWV3IHF1ZXJpZXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIHNjaGVtYXMgU2NoZW1hcyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0gY29uc3RzIENvbnN0YW50cyBmb3IgdGhpcyB2aWV3XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRWaWV3KHR5cGUsIGRlY2xUTm9kZSwgdGVtcGxhdGVGbiwgZGVjbHMsIHZhcnMsIGRpcmVjdGl2ZXMsIHBpcGVzLCB2aWV3UXVlcnksIHNjaGVtYXMsIGNvbnN0c09yRmFjdG9yeSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUudFZpZXcrKztcbiAgICBjb25zdCBiaW5kaW5nU3RhcnRJbmRleCA9IEhFQURFUl9PRkZTRVQgKyBkZWNscztcbiAgICAvLyBUaGlzIGxlbmd0aCBkb2VzIG5vdCB5ZXQgY29udGFpbiBob3N0IGJpbmRpbmdzIGZyb20gY2hpbGQgZGlyZWN0aXZlcyBiZWNhdXNlIGF0IHRoaXMgcG9pbnQsXG4gICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBkaXJlY3RpdmVzIGFyZSBhY3RpdmUgb24gdGhpcyB0ZW1wbGF0ZS4gQXMgc29vbiBhcyBhIGRpcmVjdGl2ZSBpcyBtYXRjaGVkXG4gICAgLy8gdGhhdCBoYXMgYSBob3N0IGJpbmRpbmcsIHdlIHdpbGwgdXBkYXRlIHRoZSBibHVlcHJpbnQgd2l0aCB0aGF0IGRlZidzIGhvc3RWYXJzIGNvdW50LlxuICAgIGNvbnN0IGluaXRpYWxWaWV3TGVuZ3RoID0gYmluZGluZ1N0YXJ0SW5kZXggKyB2YXJzO1xuICAgIGNvbnN0IGJsdWVwcmludCA9IGNyZWF0ZVZpZXdCbHVlcHJpbnQoYmluZGluZ1N0YXJ0SW5kZXgsIGluaXRpYWxWaWV3TGVuZ3RoKTtcbiAgICBjb25zdCBjb25zdHMgPSB0eXBlb2YgY29uc3RzT3JGYWN0b3J5ID09PSAnZnVuY3Rpb24nID8gY29uc3RzT3JGYWN0b3J5KCkgOiBjb25zdHNPckZhY3Rvcnk7XG4gICAgY29uc3QgdFZpZXcgPSBibHVlcHJpbnRbVFZJRVddID0gbmdEZXZNb2RlID9cbiAgICAgICAgbmV3IFRWaWV3Q29uc3RydWN0b3IodHlwZSwgLy8gdHlwZTogVFZpZXdUeXBlLFxuICAgICAgICBibHVlcHJpbnQsIC8vIGJsdWVwcmludDogTFZpZXcsXG4gICAgICAgIHRlbXBsYXRlRm4sIC8vIHRlbXBsYXRlOiBDb21wb25lbnRUZW1wbGF0ZTx7fT58bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gcXVlcmllczogVFF1ZXJpZXN8bnVsbFxuICAgICAgICB2aWV3UXVlcnksIC8vIHZpZXdRdWVyeTogVmlld1F1ZXJpZXNGdW5jdGlvbjx7fT58bnVsbCxcbiAgICAgICAgZGVjbFROb2RlLCAvLyBkZWNsVE5vZGU6IFROb2RlfG51bGwsXG4gICAgICAgIGNsb25lVG9UVmlld0RhdGEoYmx1ZXByaW50KS5maWxsKG51bGwsIGJpbmRpbmdTdGFydEluZGV4KSwgLy8gZGF0YTogVERhdGEsXG4gICAgICAgIGJpbmRpbmdTdGFydEluZGV4LCAvLyBiaW5kaW5nU3RhcnRJbmRleDogbnVtYmVyLFxuICAgICAgICBpbml0aWFsVmlld0xlbmd0aCwgLy8gZXhwYW5kb1N0YXJ0SW5kZXg6IG51bWJlcixcbiAgICAgICAgbnVsbCwgLy8gaG9zdEJpbmRpbmdPcENvZGVzOiBIb3N0QmluZGluZ09wQ29kZXMsXG4gICAgICAgIHRydWUsIC8vIGZpcnN0Q3JlYXRlUGFzczogYm9vbGVhbixcbiAgICAgICAgdHJ1ZSwgLy8gZmlyc3RVcGRhdGVQYXNzOiBib29sZWFuLFxuICAgICAgICBmYWxzZSwgLy8gc3RhdGljVmlld1F1ZXJpZXM6IGJvb2xlYW4sXG4gICAgICAgIGZhbHNlLCAvLyBzdGF0aWNDb250ZW50UXVlcmllczogYm9vbGVhbixcbiAgICAgICAgbnVsbCwgLy8gcHJlT3JkZXJIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gcHJlT3JkZXJDaGVja0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb250ZW50SG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNvbnRlbnRDaGVja0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyB2aWV3SG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIHZpZXdDaGVja0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBkZXN0cm95SG9va3M6IERlc3Ryb3lIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjbGVhbnVwOiBhbnlbXXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb250ZW50UXVlcmllczogbnVtYmVyW118bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29tcG9uZW50czogbnVtYmVyW118bnVsbCxcbiAgICAgICAgdHlwZW9mIGRpcmVjdGl2ZXMgPT09ICdmdW5jdGlvbicgPyAvL1xuICAgICAgICAgICAgZGlyZWN0aXZlcygpIDogLy9cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMsIC8vIGRpcmVjdGl2ZVJlZ2lzdHJ5OiBEaXJlY3RpdmVEZWZMaXN0fG51bGwsXG4gICAgICAgIHR5cGVvZiBwaXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IHBpcGVzKCkgOiBwaXBlcywgLy8gcGlwZVJlZ2lzdHJ5OiBQaXBlRGVmTGlzdHxudWxsLFxuICAgICAgICBudWxsLCAvLyBmaXJzdENoaWxkOiBUTm9kZXxudWxsLFxuICAgICAgICBzY2hlbWFzLCAvLyBzY2hlbWFzOiBTY2hlbWFNZXRhZGF0YVtdfG51bGwsXG4gICAgICAgIGNvbnN0cywgLy8gY29uc3RzOiBUQ29uc3RhbnRzfG51bGxcbiAgICAgICAgZmFsc2UsIC8vIGluY29tcGxldGVGaXJzdFBhc3M6IGJvb2xlYW5cbiAgICAgICAgZGVjbHMsIC8vIG5nRGV2TW9kZSBvbmx5OiBkZWNsc1xuICAgICAgICB2YXJzKSA6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBibHVlcHJpbnQ6IGJsdWVwcmludCxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZUZuLFxuICAgICAgICAgICAgcXVlcmllczogbnVsbCxcbiAgICAgICAgICAgIHZpZXdRdWVyeTogdmlld1F1ZXJ5LFxuICAgICAgICAgICAgZGVjbFROb2RlOiBkZWNsVE5vZGUsXG4gICAgICAgICAgICBkYXRhOiBibHVlcHJpbnQuc2xpY2UoKS5maWxsKG51bGwsIGJpbmRpbmdTdGFydEluZGV4KSxcbiAgICAgICAgICAgIGJpbmRpbmdTdGFydEluZGV4OiBiaW5kaW5nU3RhcnRJbmRleCxcbiAgICAgICAgICAgIGV4cGFuZG9TdGFydEluZGV4OiBpbml0aWFsVmlld0xlbmd0aCxcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nT3BDb2RlczogbnVsbCxcbiAgICAgICAgICAgIGZpcnN0Q3JlYXRlUGFzczogdHJ1ZSxcbiAgICAgICAgICAgIGZpcnN0VXBkYXRlUGFzczogdHJ1ZSxcbiAgICAgICAgICAgIHN0YXRpY1ZpZXdRdWVyaWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXRpY0NvbnRlbnRRdWVyaWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHByZU9yZGVySG9va3M6IG51bGwsXG4gICAgICAgICAgICBwcmVPcmRlckNoZWNrSG9va3M6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50SG9va3M6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50Q2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgICAgIHZpZXdIb29rczogbnVsbCxcbiAgICAgICAgICAgIHZpZXdDaGVja0hvb2tzOiBudWxsLFxuICAgICAgICAgICAgZGVzdHJveUhvb2tzOiBudWxsLFxuICAgICAgICAgICAgY2xlYW51cDogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRRdWVyaWVzOiBudWxsLFxuICAgICAgICAgICAgY29tcG9uZW50czogbnVsbCxcbiAgICAgICAgICAgIGRpcmVjdGl2ZVJlZ2lzdHJ5OiB0eXBlb2YgZGlyZWN0aXZlcyA9PT0gJ2Z1bmN0aW9uJyA/IGRpcmVjdGl2ZXMoKSA6IGRpcmVjdGl2ZXMsXG4gICAgICAgICAgICBwaXBlUmVnaXN0cnk6IHR5cGVvZiBwaXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IHBpcGVzKCkgOiBwaXBlcyxcbiAgICAgICAgICAgIGZpcnN0Q2hpbGQ6IG51bGwsXG4gICAgICAgICAgICBzY2hlbWFzOiBzY2hlbWFzLFxuICAgICAgICAgICAgY29uc3RzOiBjb25zdHMsXG4gICAgICAgICAgICBpbmNvbXBsZXRlRmlyc3RQYXNzOiBmYWxzZVxuICAgICAgICB9O1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgLy8gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHRWaWV3IHJldGFpbnMgdGhlIHNhbWUgc2hhcGUgZHVyaW5nIHJ1bnRpbWUuXG4gICAgICAgIC8vIChUbyBtYWtlIHN1cmUgdGhhdCBhbGwgb2YgdGhlIGNvZGUgaXMgbW9ub21vcnBoaWMuKSBGb3IgdGhpcyByZWFzb24gd2Ugc2VhbCB0aGUgb2JqZWN0IHRvXG4gICAgICAgIC8vIHByZXZlbnQgY2xhc3MgdHJhbnNpdGlvbnMuXG4gICAgICAgIE9iamVjdC5zZWFsKHRWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIHRWaWV3O1xufVxuZnVuY3Rpb24gY3JlYXRlVmlld0JsdWVwcmludChiaW5kaW5nU3RhcnRJbmRleCwgaW5pdGlhbFZpZXdMZW5ndGgpIHtcbiAgICBjb25zdCBibHVlcHJpbnQgPSBuZ0Rldk1vZGUgPyBuZXcgTFZpZXdCbHVlcHJpbnQoKSA6IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5pdGlhbFZpZXdMZW5ndGg7IGkrKykge1xuICAgICAgICBibHVlcHJpbnQucHVzaChpIDwgYmluZGluZ1N0YXJ0SW5kZXggPyBudWxsIDogTk9fQ0hBTkdFKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsdWVwcmludDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKHRleHQsIHRva2VuKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgUmVuZGVyZXI6ICR7dGV4dH0gWyR7c3RyaW5naWZ5Rm9yRXJyb3IodG9rZW4pfV1gKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEhvc3ROb2RlRXhpc3RzKHJFbGVtZW50LCBlbGVtZW50T3JTZWxlY3Rvcikge1xuICAgIGlmICghckVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50T3JTZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdIb3N0IG5vZGUgd2l0aCBzZWxlY3RvciBub3QgZm91bmQ6JywgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0hvc3Qgbm9kZSBpcyByZXF1aXJlZDonLCBlbGVtZW50T3JTZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGhvc3QgbmF0aXZlIGVsZW1lbnQsIHVzZWQgZm9yIGJvb3RzdHJhcHBpbmcgZXhpc3Rpbmcgbm9kZXMgaW50byByZW5kZXJpbmcgcGlwZWxpbmUuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSByZW5kZXJlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbGVtZW50T3JTZWxlY3RvciBSZW5kZXIgZWxlbWVudCBvciBDU1Mgc2VsZWN0b3IgdG8gbG9jYXRlIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIGVuY2Fwc3VsYXRpb24gVmlldyBFbmNhcHN1bGF0aW9uIGRlZmluZWQgZm9yIGNvbXBvbmVudCB0aGF0IHJlcXVlc3RzIGhvc3QgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gbG9jYXRlSG9zdEVsZW1lbnQocmVuZGVyZXIsIGVsZW1lbnRPclNlbGVjdG9yLCBlbmNhcHN1bGF0aW9uKSB7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAvLyBXaGVuIHVzaW5nIG5hdGl2ZSBTaGFkb3cgRE9NLCBkbyBub3QgY2xlYXIgaG9zdCBlbGVtZW50IHRvIGFsbG93IG5hdGl2ZSBzbG90IHByb2plY3Rpb25cbiAgICAgICAgY29uc3QgcHJlc2VydmVDb250ZW50ID0gZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24kMS5TaGFkb3dEb207XG4gICAgICAgIHJldHVybiByZW5kZXJlci5zZWxlY3RSb290RWxlbWVudChlbGVtZW50T3JTZWxlY3RvciwgcHJlc2VydmVDb250ZW50KTtcbiAgICB9XG4gICAgbGV0IHJFbGVtZW50ID0gdHlwZW9mIGVsZW1lbnRPclNlbGVjdG9yID09PSAnc3RyaW5nJyA/XG4gICAgICAgIHJlbmRlcmVyLnF1ZXJ5U2VsZWN0b3IoZWxlbWVudE9yU2VsZWN0b3IpIDpcbiAgICAgICAgZWxlbWVudE9yU2VsZWN0b3I7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEhvc3ROb2RlRXhpc3RzKHJFbGVtZW50LCBlbGVtZW50T3JTZWxlY3Rvcik7XG4gICAgLy8gQWx3YXlzIGNsZWFyIGhvc3QgZWxlbWVudCdzIGNvbnRlbnQgd2hlbiBSZW5kZXJlcjMgaXMgaW4gdXNlLiBGb3IgcHJvY2VkdXJhbCByZW5kZXJlciBjYXNlIHdlXG4gICAgLy8gbWFrZSBpdCBkZXBlbmQgb24gd2hldGhlciBTaGFkb3dEb20gZW5jYXBzdWxhdGlvbiBpcyB1c2VkIChpbiB3aGljaCBjYXNlIHRoZSBjb250ZW50IHNob3VsZCBiZVxuICAgIC8vIHByZXNlcnZlZCB0byBhbGxvdyBuYXRpdmUgc2xvdCBwcm9qZWN0aW9uKS4gU2hhZG93RG9tIGVuY2Fwc3VsYXRpb24gcmVxdWlyZXMgcHJvY2VkdXJhbFxuICAgIC8vIHJlbmRlcmVyLCBhbmQgcHJvY2VkdXJhbCByZW5kZXJlciBjYXNlIGlzIGhhbmRsZWQgYWJvdmUuXG4gICAgckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICByZXR1cm4gckVsZW1lbnQ7XG59XG4vKipcbiAqIFNhdmVzIGNvbnRleHQgZm9yIHRoaXMgY2xlYW51cCBmdW5jdGlvbiBpbiBMVmlldy5jbGVhbnVwSW5zdGFuY2VzLlxuICpcbiAqIE9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLCBzYXZlcyBpbiBUVmlldzpcbiAqIC0gQ2xlYW51cCBmdW5jdGlvblxuICogLSBJbmRleCBvZiBjb250ZXh0IHdlIGp1c3Qgc2F2ZWQgaW4gTFZpZXcuY2xlYW51cEluc3RhbmNlc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGFsc28gYmUgdXNlZCB0byBzdG9yZSBpbnN0YW5jZSBzcGVjaWZpYyBjbGVhbnVwIGZucy4gSW4gdGhhdCBjYXNlIHRoZSBgY29udGV4dGBcbiAqIGlzIGBudWxsYCBhbmQgdGhlIGZ1bmN0aW9uIGlzIHN0b3JlIGluIGBMVmlld2AgKHJhdGhlciB0aGFuIGl0IGBUVmlld2ApLlxuICovXG5mdW5jdGlvbiBzdG9yZUNsZWFudXBXaXRoQ29udGV4dCh0VmlldywgbFZpZXcsIGNvbnRleHQsIGNsZWFudXBGbikge1xuICAgIGNvbnN0IGxDbGVhbnVwID0gZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAobFZpZXcpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIC8vIElmIGNvbnRleHQgaXMgbnVsbCB0aGF0IHRoaXMgaXMgaW5zdGFuY2Ugc3BlY2lmaWMgY2FsbGJhY2suIFRoZXNlIGNhbGxiYWNrcyBjYW4gb25seSBiZVxuICAgICAgICAvLyBpbnNlcnRlZCBhZnRlciB0ZW1wbGF0ZSBzaGFyZWQgaW5zdGFuY2VzLiBGb3IgdGhpcyByZWFzb24gaW4gbmdEZXZNb2RlIHdlIGZyZWV6ZSB0aGUgVFZpZXcuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpKTtcbiAgICAgICAgfVxuICAgICAgICBsQ2xlYW51cC5wdXNoKGNsZWFudXBGbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsQ2xlYW51cC5wdXNoKGNvbnRleHQpO1xuICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgICAgICBnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0VmlldykucHVzaChjbGVhbnVwRm4sIGxDbGVhbnVwLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVE5vZGUodFZpZXcsIHRQYXJlbnQsIHR5cGUsIGluZGV4LCB2YWx1ZSwgYXR0cnMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgaW5kZXggIT09IDAgJiYgLy8gMCBhcmUgYm9ndXMgbm9kZXMgYW5kIHRoZXkgYXJlIE9LLiBTZWUgYGNyZWF0ZUNvbnRhaW5lclJlZmAgaW5cbiAgICAgICAgLy8gYHZpZXdfZW5naW5lX2NvbXBhdGliaWxpdHlgIGZvciBhZGRpdGlvbmFsIGNvbnRleHQuXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ1ROb2RlcyBjYW5cXCd0IGJlIGluIHRoZSBMVmlldyBoZWFkZXIuJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdFNhbWUoYXR0cnMsIHVuZGVmaW5lZCwgJ1xcJ3VuZGVmaW5lZFxcJyBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIFxcJ2F0dHJzXFwnJyk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS50Tm9kZSsrO1xuICAgIG5nRGV2TW9kZSAmJiB0UGFyZW50ICYmIGFzc2VydFROb2RlRm9yVFZpZXcodFBhcmVudCwgdFZpZXcpO1xuICAgIGxldCBpbmplY3RvckluZGV4ID0gdFBhcmVudCA/IHRQYXJlbnQuaW5qZWN0b3JJbmRleCA6IC0xO1xuICAgIGNvbnN0IHROb2RlID0gbmdEZXZNb2RlID9cbiAgICAgICAgbmV3IFROb2RlRGVidWcodFZpZXcsIC8vIHRWaWV3XzogVFZpZXdcbiAgICAgICAgdHlwZSwgLy8gdHlwZTogVE5vZGVUeXBlXG4gICAgICAgIGluZGV4LCAvLyBpbmRleDogbnVtYmVyXG4gICAgICAgIG51bGwsIC8vIGluc2VydEJlZm9yZUluZGV4OiBudWxsfC0xfG51bWJlcnxudW1iZXJbXVxuICAgICAgICBpbmplY3RvckluZGV4LCAvLyBpbmplY3RvckluZGV4OiBudW1iZXJcbiAgICAgICAgLTEsIC8vIGRpcmVjdGl2ZVN0YXJ0OiBudW1iZXJcbiAgICAgICAgLTEsIC8vIGRpcmVjdGl2ZUVuZDogbnVtYmVyXG4gICAgICAgIC0xLCAvLyBkaXJlY3RpdmVTdHlsaW5nTGFzdDogbnVtYmVyXG4gICAgICAgIG51bGwsIC8vIHByb3BlcnR5QmluZGluZ3M6IG51bWJlcltdfG51bGxcbiAgICAgICAgMCwgLy8gZmxhZ3M6IFROb2RlRmxhZ3NcbiAgICAgICAgMCwgLy8gcHJvdmlkZXJJbmRleGVzOiBUTm9kZVByb3ZpZGVySW5kZXhlc1xuICAgICAgICB2YWx1ZSwgLy8gdmFsdWU6IHN0cmluZ3xudWxsXG4gICAgICAgIGF0dHJzLCAvLyBhdHRyczogKHN0cmluZ3xBdHRyaWJ1dGVNYXJrZXJ8KHN0cmluZ3xTZWxlY3RvckZsYWdzKVtdKVtdfG51bGxcbiAgICAgICAgbnVsbCwgLy8gbWVyZ2VkQXR0cnNcbiAgICAgICAgbnVsbCwgLy8gbG9jYWxOYW1lczogKHN0cmluZ3xudW1iZXIpW118bnVsbFxuICAgICAgICB1bmRlZmluZWQsIC8vIGluaXRpYWxJbnB1dHM6IChzdHJpbmdbXXxudWxsKVtdfG51bGx8dW5kZWZpbmVkXG4gICAgICAgIG51bGwsIC8vIGlucHV0czogUHJvcGVydHlBbGlhc2VzfG51bGxcbiAgICAgICAgbnVsbCwgLy8gb3V0cHV0czogUHJvcGVydHlBbGlhc2VzfG51bGxcbiAgICAgICAgbnVsbCwgLy8gdFZpZXdzOiBJVFZpZXd8SVRWaWV3W118bnVsbFxuICAgICAgICBudWxsLCAvLyBuZXh0OiBJVE5vZGV8bnVsbFxuICAgICAgICBudWxsLCAvLyBwcm9qZWN0aW9uTmV4dDogSVROb2RlfG51bGxcbiAgICAgICAgbnVsbCwgLy8gY2hpbGQ6IElUTm9kZXxudWxsXG4gICAgICAgIHRQYXJlbnQsIC8vIHBhcmVudDogVEVsZW1lbnROb2RlfFRDb250YWluZXJOb2RlfG51bGxcbiAgICAgICAgbnVsbCwgLy8gcHJvamVjdGlvbjogbnVtYmVyfChJVE5vZGV8Uk5vZGVbXSlbXXxudWxsXG4gICAgICAgIG51bGwsIC8vIHN0eWxlczogc3RyaW5nfG51bGxcbiAgICAgICAgbnVsbCwgLy8gc3R5bGVzV2l0aG91dEhvc3Q6IHN0cmluZ3xudWxsXG4gICAgICAgIHVuZGVmaW5lZCwgLy8gcmVzaWR1YWxTdHlsZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIG51bGwsIC8vIGNsYXNzZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIG51bGwsIC8vIGNsYXNzZXNXaXRob3V0SG9zdDogc3RyaW5nfG51bGxcbiAgICAgICAgdW5kZWZpbmVkLCAvLyByZXNpZHVhbENsYXNzZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIDAsIC8vIGNsYXNzQmluZGluZ3M6IFRTdHlsaW5nUmFuZ2U7XG4gICAgICAgIDApIDpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlSW5kZXg6IG51bGwsXG4gICAgICAgICAgICBpbmplY3RvckluZGV4LFxuICAgICAgICAgICAgZGlyZWN0aXZlU3RhcnQ6IC0xLFxuICAgICAgICAgICAgZGlyZWN0aXZlRW5kOiAtMSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0OiAtMSxcbiAgICAgICAgICAgIHByb3BlcnR5QmluZGluZ3M6IG51bGwsXG4gICAgICAgICAgICBmbGFnczogMCxcbiAgICAgICAgICAgIHByb3ZpZGVySW5kZXhlczogMCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGF0dHJzOiBhdHRycyxcbiAgICAgICAgICAgIG1lcmdlZEF0dHJzOiBudWxsLFxuICAgICAgICAgICAgbG9jYWxOYW1lczogbnVsbCxcbiAgICAgICAgICAgIGluaXRpYWxJbnB1dHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlucHV0czogbnVsbCxcbiAgICAgICAgICAgIG91dHB1dHM6IG51bGwsXG4gICAgICAgICAgICB0Vmlld3M6IG51bGwsXG4gICAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICAgICAgcHJvamVjdGlvbk5leHQ6IG51bGwsXG4gICAgICAgICAgICBjaGlsZDogbnVsbCxcbiAgICAgICAgICAgIHBhcmVudDogdFBhcmVudCxcbiAgICAgICAgICAgIHByb2plY3Rpb246IG51bGwsXG4gICAgICAgICAgICBzdHlsZXM6IG51bGwsXG4gICAgICAgICAgICBzdHlsZXNXaXRob3V0SG9zdDogbnVsbCxcbiAgICAgICAgICAgIHJlc2lkdWFsU3R5bGVzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgICAgICAgY2xhc3Nlc1dpdGhvdXRIb3N0OiBudWxsLFxuICAgICAgICAgICAgcmVzaWR1YWxDbGFzc2VzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjbGFzc0JpbmRpbmdzOiAwLFxuICAgICAgICAgICAgc3R5bGVCaW5kaW5nczogMCxcbiAgICAgICAgfTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSB0Tm9kZSByZXRhaW5zIHRoZSBzYW1lIHNoYXBlIGR1cmluZyBydW50aW1lLlxuICAgICAgICAvLyAoVG8gbWFrZSBzdXJlIHRoYXQgYWxsIG9mIHRoZSBjb2RlIGlzIG1vbm9tb3JwaGljLikgRm9yIHRoaXMgcmVhc29uIHdlIHNlYWwgdGhlIG9iamVjdCB0b1xuICAgICAgICAvLyBwcmV2ZW50IGNsYXNzIHRyYW5zaXRpb25zLlxuICAgICAgICBPYmplY3Quc2VhbCh0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKGlucHV0QWxpYXNNYXAsIGRpcmVjdGl2ZURlZklkeCwgcHJvcFN0b3JlKSB7XG4gICAgZm9yIChsZXQgcHVibGljTmFtZSBpbiBpbnB1dEFsaWFzTWFwKSB7XG4gICAgICAgIGlmIChpbnB1dEFsaWFzTWFwLmhhc093blByb3BlcnR5KHB1YmxpY05hbWUpKSB7XG4gICAgICAgICAgICBwcm9wU3RvcmUgPSBwcm9wU3RvcmUgPT09IG51bGwgPyB7fSA6IHByb3BTdG9yZTtcbiAgICAgICAgICAgIGNvbnN0IGludGVybmFsTmFtZSA9IGlucHV0QWxpYXNNYXBbcHVibGljTmFtZV07XG4gICAgICAgICAgICBpZiAocHJvcFN0b3JlLmhhc093blByb3BlcnR5KHB1YmxpY05hbWUpKSB7XG4gICAgICAgICAgICAgICAgcHJvcFN0b3JlW3B1YmxpY05hbWVdLnB1c2goZGlyZWN0aXZlRGVmSWR4LCBpbnRlcm5hbE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHByb3BTdG9yZVtwdWJsaWNOYW1lXSA9IFtkaXJlY3RpdmVEZWZJZHgsIGludGVybmFsTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wU3RvcmU7XG59XG4vKipcbiAqIEluaXRpYWxpemVzIGRhdGEgc3RydWN0dXJlcyByZXF1aXJlZCB0byB3b3JrIHdpdGggZGlyZWN0aXZlIGlucHV0cyBhbmQgb3V0cHV0cy5cbiAqIEluaXRpYWxpemF0aW9uIGlzIGRvbmUgZm9yIGFsbCBkaXJlY3RpdmVzIG1hdGNoZWQgb24gYSBnaXZlbiBUTm9kZS5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZUlucHV0QW5kT3V0cHV0QWxpYXNlcyh0VmlldywgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBjb25zdCB0Vmlld0RhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGNvbnN0IHROb2RlQXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBjb25zdCBpbnB1dHNGcm9tQXR0cnMgPSBuZ0Rldk1vZGUgPyBuZXcgVE5vZGVJbml0aWFsSW5wdXRzKCkgOiBbXTtcbiAgICBsZXQgaW5wdXRzU3RvcmUgPSBudWxsO1xuICAgIGxldCBvdXRwdXRzU3RvcmUgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZiA9IHRWaWV3RGF0YVtpXTtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5wdXRzID0gZGlyZWN0aXZlRGVmLmlucHV0cztcbiAgICAgICAgLy8gRG8gbm90IHVzZSB1bmJvdW5kIGF0dHJpYnV0ZXMgYXMgaW5wdXRzIHRvIHN0cnVjdHVyYWwgZGlyZWN0aXZlcywgc2luY2Ugc3RydWN0dXJhbFxuICAgICAgICAvLyBkaXJlY3RpdmUgaW5wdXRzIGNhbiBvbmx5IGJlIHNldCB1c2luZyBtaWNyb3N5bnRheCAoZS5nLiBgPGRpdiAqZGlyPVwiZXhwXCI+YCkuXG4gICAgICAgIC8vIFRPRE8oRlctMTkzMCk6IG1pY3Jvc3ludGF4IGV4cHJlc3Npb25zIG1heSBhbHNvIGNvbnRhaW4gdW5ib3VuZC9zdGF0aWMgYXR0cmlidXRlcywgd2hpY2hcbiAgICAgICAgLy8gc2hvdWxkIGJlIHNldCBmb3IgaW5saW5lIHRlbXBsYXRlcy5cbiAgICAgICAgY29uc3QgaW5pdGlhbElucHV0cyA9ICh0Tm9kZUF0dHJzICE9PSBudWxsICYmICFpc0lubGluZVRlbXBsYXRlKHROb2RlKSkgP1xuICAgICAgICAgICAgZ2VuZXJhdGVJbml0aWFsSW5wdXRzKGRpcmVjdGl2ZUlucHV0cywgdE5vZGVBdHRycykgOlxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgaW5wdXRzRnJvbUF0dHJzLnB1c2goaW5pdGlhbElucHV0cyk7XG4gICAgICAgIGlucHV0c1N0b3JlID0gZ2VuZXJhdGVQcm9wZXJ0eUFsaWFzZXMoZGlyZWN0aXZlSW5wdXRzLCBpLCBpbnB1dHNTdG9yZSk7XG4gICAgICAgIG91dHB1dHNTdG9yZSA9IGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKGRpcmVjdGl2ZURlZi5vdXRwdXRzLCBpLCBvdXRwdXRzU3RvcmUpO1xuICAgIH1cbiAgICBpZiAoaW5wdXRzU3RvcmUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGlucHV0c1N0b3JlLmhhc093blByb3BlcnR5KCdjbGFzcycpKSB7XG4gICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSAxNiAvKiBoYXNDbGFzc0lucHV0ICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dHNTdG9yZS5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSkge1xuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gMzIgLyogaGFzU3R5bGVJbnB1dCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0Tm9kZS5pbml0aWFsSW5wdXRzID0gaW5wdXRzRnJvbUF0dHJzO1xuICAgIHROb2RlLmlucHV0cyA9IGlucHV0c1N0b3JlO1xuICAgIHROb2RlLm91dHB1dHMgPSBvdXRwdXRzU3RvcmU7XG59XG4vKipcbiAqIE1hcHBpbmcgYmV0d2VlbiBhdHRyaWJ1dGVzIG5hbWVzIHRoYXQgZG9uJ3QgY29ycmVzcG9uZCB0byB0aGVpciBlbGVtZW50IHByb3BlcnR5IG5hbWVzLlxuICpcbiAqIFBlcmZvcm1hbmNlIG5vdGU6IHRoaXMgZnVuY3Rpb24gaXMgd3JpdHRlbiBhcyBhIHNlcmllcyBvZiBpZiBjaGVja3MgKGluc3RlYWQgb2YsIHNheSwgYSBwcm9wZXJ0eVxuICogb2JqZWN0IGxvb2t1cCkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgLSB0aGUgc2VyaWVzIG9mIGBpZmAgY2hlY2tzIHNlZW1zIHRvIGJlIHRoZSBmYXN0ZXN0IHdheSBvZlxuICogbWFwcGluZyBwcm9wZXJ0eSBuYW1lcy4gRG8gTk9UIGNoYW5nZSB3aXRob3V0IGJlbmNobWFya2luZy5cbiAqXG4gKiBOb3RlOiB0aGlzIG1hcHBpbmcgaGFzIHRvIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSBlcXVhbGx5IG5hbWVkIG1hcHBpbmcgaW4gdGhlIHRlbXBsYXRlXG4gKiB0eXBlLWNoZWNraW5nIG1hY2hpbmVyeSBvZiBuZ3RzYy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJvcE5hbWUobmFtZSkge1xuICAgIGlmIChuYW1lID09PSAnY2xhc3MnKVxuICAgICAgICByZXR1cm4gJ2NsYXNzTmFtZSc7XG4gICAgaWYgKG5hbWUgPT09ICdmb3InKVxuICAgICAgICByZXR1cm4gJ2h0bWxGb3InO1xuICAgIGlmIChuYW1lID09PSAnZm9ybWFjdGlvbicpXG4gICAgICAgIHJldHVybiAnZm9ybUFjdGlvbic7XG4gICAgaWYgKG5hbWUgPT09ICdpbm5lckh0bWwnKVxuICAgICAgICByZXR1cm4gJ2lubmVySFRNTCc7XG4gICAgaWYgKG5hbWUgPT09ICdyZWFkb25seScpXG4gICAgICAgIHJldHVybiAncmVhZE9ubHknO1xuICAgIGlmIChuYW1lID09PSAndGFiaW5kZXgnKVxuICAgICAgICByZXR1cm4gJ3RhYkluZGV4JztcbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCB2YWx1ZSwgcmVuZGVyZXIsIHNhbml0aXplciwgbmF0aXZlT25seSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgbGV0IGlucHV0RGF0YSA9IHROb2RlLmlucHV0cztcbiAgICBsZXQgZGF0YVZhbHVlO1xuICAgIGlmICghbmF0aXZlT25seSAmJiBpbnB1dERhdGEgIT0gbnVsbCAmJiAoZGF0YVZhbHVlID0gaW5wdXREYXRhW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgc2V0SW5wdXRzRm9yUHJvcGVydHkodFZpZXcsIGxWaWV3LCBkYXRhVmFsdWUsIHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEhvc3QodE5vZGUpKVxuICAgICAgICAgICAgbWFya0RpcnR5SWZPblB1c2gobFZpZXcsIHROb2RlLmluZGV4KTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgc2V0TmdSZWZsZWN0UHJvcGVydGllcyhsVmlldywgZWxlbWVudCwgdE5vZGUudHlwZSwgZGF0YVZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pIHtcbiAgICAgICAgcHJvcE5hbWUgPSBtYXBQcm9wTmFtZShwcm9wTmFtZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlUHJvcGVydHkodFZpZXcsIGVsZW1lbnQsIHByb3BOYW1lLCB0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gaGVyZSBzaW5jZSB3ZSBvbmx5IGxvZyB3YXJuaW5ncyBmb3IgdW5rbm93biBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgIGxvZ1Vua25vd25Qcm9wZXJ0eUVycm9yKHByb3BOYW1lLCB0Tm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdEZXZNb2RlLnJlbmRlcmVyU2V0UHJvcGVydHkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBJdCBpcyBhc3N1bWVkIHRoYXQgdGhlIHNhbml0aXplciBpcyBvbmx5IGFkZGVkIHdoZW4gdGhlIGNvbXBpbGVyIGRldGVybWluZXMgdGhhdCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgaXMgcmlza3ksIHNvIHNhbml0aXphdGlvbiBjYW4gYmUgZG9uZSB3aXRob3V0IGZ1cnRoZXIgY2hlY2tzLlxuICAgICAgICB2YWx1ZSA9IHNhbml0aXplciAhPSBudWxsID8gc2FuaXRpemVyKHZhbHVlLCB0Tm9kZS52YWx1ZSB8fCAnJywgcHJvcE5hbWUpIDogdmFsdWU7XG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFByb3BlcnR5KGVsZW1lbnQsIHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWlzQW5pbWF0aW9uUHJvcChwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0UHJvcGVydHkgPyBlbGVtZW50LnNldFByb3BlcnR5KHByb3BOYW1lLCB2YWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnRbcHJvcE5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDEyIC8qIEFueUNvbnRhaW5lciAqLykge1xuICAgICAgICAvLyBJZiB0aGUgbm9kZSBpcyBhIGNvbnRhaW5lciBhbmQgdGhlIHByb3BlcnR5IGRpZG4ndFxuICAgICAgICAvLyBtYXRjaCBhbnkgb2YgdGhlIGlucHV0cyBvciBzY2hlbWFzIHdlIHNob3VsZCB0aHJvdy5cbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiAhbWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0Tm9kZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGxvZ1Vua25vd25Qcm9wZXJ0eUVycm9yKHByb3BOYW1lLCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogSWYgbm9kZSBpcyBhbiBPblB1c2ggY29tcG9uZW50LCBtYXJrcyBpdHMgTFZpZXcgZGlydHkuICovXG5mdW5jdGlvbiBtYXJrRGlydHlJZk9uUHVzaChsVmlldywgdmlld0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICBjb25zdCBjaGlsZENvbXBvbmVudExWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHZpZXdJbmRleCwgbFZpZXcpO1xuICAgIGlmICghKGNoaWxkQ29tcG9uZW50TFZpZXdbRkxBR1NdICYgMTYgLyogQ2hlY2tBbHdheXMgKi8pKSB7XG4gICAgICAgIGNoaWxkQ29tcG9uZW50TFZpZXdbRkxBR1NdIHw9IDY0IC8qIERpcnR5ICovO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldE5nUmVmbGVjdFByb3BlcnR5KGxWaWV3LCBlbGVtZW50LCB0eXBlLCBhdHRyTmFtZSwgdmFsdWUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBhdHRyTmFtZSA9IG5vcm1hbGl6ZURlYnVnQmluZGluZ05hbWUoYXR0ck5hbWUpO1xuICAgIGNvbnN0IGRlYnVnVmFsdWUgPSBub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKHR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgYXR0ck5hbWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgP1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyTmFtZSwgZGVidWdWYWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBkZWJ1Z1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBlc2NhcGVDb21tZW50VGV4dChgYmluZGluZ3M9JHtKU09OLnN0cmluZ2lmeSh7IFthdHRyTmFtZV06IGRlYnVnVmFsdWUgfSwgbnVsbCwgMil9YCk7XG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFZhbHVlKGVsZW1lbnQsIHRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldE5nUmVmbGVjdFByb3BlcnRpZXMobFZpZXcsIGVsZW1lbnQsIHR5cGUsIGRhdGFWYWx1ZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSAmICgzIC8qIEFueVJOb2RlICovIHwgNCAvKiBDb250YWluZXIgKi8pKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhVmFsdWUgaXMgYW4gYXJyYXkgY29udGFpbmluZyBydW50aW1lIGlucHV0IG9yIG91dHB1dCBuYW1lcyBmb3IgdGhlIGRpcmVjdGl2ZXM6XG4gICAgICAgICAqIGkrMDogZGlyZWN0aXZlIGluc3RhbmNlIGluZGV4XG4gICAgICAgICAqIGkrMTogcHJpdmF0ZU5hbWVcbiAgICAgICAgICpcbiAgICAgICAgICogZS5nLiBbMCwgJ2NoYW5nZScsICdjaGFuZ2UtbWluaWZpZWQnXVxuICAgICAgICAgKiB3ZSB3YW50IHRvIHNldCB0aGUgcmVmbGVjdGVkIHByb3BlcnR5IHdpdGggdGhlIHByaXZhdGVOYW1lOiBkYXRhVmFsdWVbaSsxXVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhVmFsdWUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnR5KGxWaWV3LCBlbGVtZW50LCB0eXBlLCBkYXRhVmFsdWVbaSArIDFdLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5KHRWaWV3LCBlbGVtZW50LCBwcm9wTmFtZSwgdE5vZGUpIHtcbiAgICAvLyBJZiBgc2NoZW1hc2AgaXMgc2V0IHRvIGBudWxsYCwgdGhhdCdzIGFuIGluZGljYXRpb24gdGhhdCB0aGlzIENvbXBvbmVudCB3YXMgY29tcGlsZWQgaW4gQU9UXG4gICAgLy8gbW9kZSB3aGVyZSB0aGlzIGNoZWNrIGhhcHBlbnMgYXQgY29tcGlsZSB0aW1lLiBJbiBKSVQgbW9kZSwgYHNjaGVtYXNgIGlzIGFsd2F5cyBwcmVzZW50IGFuZFxuICAgIC8vIGRlZmluZWQgYXMgYW4gYXJyYXkgKGFzIGFuIGVtcHR5IGFycmF5IGluIGNhc2UgYHNjaGVtYXNgIGZpZWxkIGlzIG5vdCBkZWZpbmVkKSBhbmQgd2Ugc2hvdWxkXG4gICAgLy8gZXhlY3V0ZSB0aGUgY2hlY2sgYmVsb3cuXG4gICAgaWYgKHRWaWV3LnNjaGVtYXMgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIFRoZSBwcm9wZXJ0eSBpcyBjb25zaWRlcmVkIHZhbGlkIGlmIHRoZSBlbGVtZW50IG1hdGNoZXMgdGhlIHNjaGVtYSwgaXQgZXhpc3RzIG9uIHRoZSBlbGVtZW50XG4gICAgLy8gb3IgaXQgaXMgc3ludGhldGljLCBhbmQgd2UgYXJlIGluIGEgYnJvd3NlciBjb250ZXh0ICh3ZWIgd29ya2VyIG5vZGVzIHNob3VsZCBiZSBza2lwcGVkKS5cbiAgICBpZiAobWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0Tm9kZS52YWx1ZSkgfHwgcHJvcE5hbWUgaW4gZWxlbWVudCB8fCBpc0FuaW1hdGlvblByb3AocHJvcE5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBOb3RlOiBgdHlwZW9mIE5vZGVgIHJldHVybnMgJ2Z1bmN0aW9uJyBpbiBtb3N0IGJyb3dzZXJzLCBidXQgb24gSUUgaXQgaXMgJ29iamVjdCcgc28gd2VcbiAgICAvLyBuZWVkIHRvIGFjY291bnQgZm9yIGJvdGggaGVyZSwgd2hpbGUgYmVpbmcgY2FyZWZ1bCBmb3IgYHR5cGVvZiBudWxsYCBhbHNvIHJldHVybmluZyAnb2JqZWN0Jy5cbiAgICByZXR1cm4gdHlwZW9mIE5vZGUgPT09ICd1bmRlZmluZWQnIHx8IE5vZGUgPT09IG51bGwgfHwgIShlbGVtZW50IGluc3RhbmNlb2YgTm9kZSk7XG59XG5mdW5jdGlvbiBtYXRjaGluZ1NjaGVtYXModFZpZXcsIHRhZ05hbWUpIHtcbiAgICBjb25zdCBzY2hlbWFzID0gdFZpZXcuc2NoZW1hcztcbiAgICBpZiAoc2NoZW1hcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbaV07XG4gICAgICAgICAgICBpZiAoc2NoZW1hID09PSBOT19FUlJPUlNfU0NIRU1BIHx8XG4gICAgICAgICAgICAgICAgc2NoZW1hID09PSBDVVNUT01fRUxFTUVOVFNfU0NIRU1BICYmIHRhZ05hbWUgJiYgdGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTG9ncyBhbiBlcnJvciB0aGF0IGEgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBvbiBhbiBlbGVtZW50LlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgdGhlIGludmFsaWQgcHJvcGVydHkuXG4gKiBAcGFyYW0gdE5vZGUgTm9kZSBvbiB3aGljaCB3ZSBlbmNvdW50ZXJlZCB0aGUgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGxvZ1Vua25vd25Qcm9wZXJ0eUVycm9yKHByb3BOYW1lLCB0Tm9kZSkge1xuICAgIGxldCBtZXNzYWdlID0gYENhbid0IGJpbmQgdG8gJyR7cHJvcE5hbWV9JyBzaW5jZSBpdCBpc24ndCBhIGtub3duIHByb3BlcnR5IG9mICcke3ROb2RlLnZhbHVlfScuYDtcbiAgICBjb25zb2xlLmVycm9yKGZvcm1hdFJ1bnRpbWVFcnJvcigzMDMgLyogVU5LTk9XTl9CSU5ESU5HICovLCBtZXNzYWdlKSk7XG59XG4vKipcbiAqIEluc3RhbnRpYXRlIGEgcm9vdCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlUm9vdENvbXBvbmVudCh0VmlldywgbFZpZXcsIGRlZikge1xuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgaWYgKGRlZi5wcm92aWRlcnNSZXNvbHZlcilcbiAgICAgICAgICAgIGRlZi5wcm92aWRlcnNSZXNvbHZlcihkZWYpO1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVJbmRleCA9IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIDEsIG51bGwpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKGRpcmVjdGl2ZUluZGV4LCByb290VE5vZGUuZGlyZWN0aXZlU3RhcnQsICdCZWNhdXNlIHRoaXMgaXMgYSByb290IGNvbXBvbmVudCB0aGUgYWxsb2NhdGVkIGV4cGFuZG8gc2hvdWxkIG1hdGNoIHRoZSBUTm9kZSBjb21wb25lbnQuJyk7XG4gICAgICAgIGNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlKHRWaWV3LCByb290VE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJbmRleCwgZGVmKTtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aXZlID0gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIHRWaWV3LCByb290VE5vZGUuZGlyZWN0aXZlU3RhcnQsIHJvb3RUTm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZSwgbFZpZXcpO1xuICAgIGNvbnN0IG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUocm9vdFROb2RlLCBsVmlldyk7XG4gICAgaWYgKG5hdGl2ZSkge1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3RpdmU7XG59XG4vKipcbiAqIFJlc29sdmUgdGhlIG1hdGNoZWQgZGlyZWN0aXZlcyBvbiBhIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGxvY2FsUmVmcykge1xuICAgIC8vIFBsZWFzZSBtYWtlIHN1cmUgdG8gaGF2ZSBleHBsaWNpdCB0eXBlIGZvciBgZXhwb3J0c01hcGAuIEluZmVycmVkIHR5cGUgdHJpZ2dlcnMgYnVnIGluXG4gICAgLy8gdHNpY2tsZS5cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBsZXQgaGFzRGlyZWN0aXZlcyA9IGZhbHNlO1xuICAgIGlmIChnZXRCaW5kaW5nc0VuYWJsZWQoKSkge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWZzID0gZmluZERpcmVjdGl2ZURlZk1hdGNoZXModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGNvbnN0IGV4cG9ydHNNYXAgPSBsb2NhbFJlZnMgPT09IG51bGwgPyBudWxsIDogeyAnJzogLTEgfTtcbiAgICAgICAgaWYgKGRpcmVjdGl2ZURlZnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhhc0RpcmVjdGl2ZXMgPSB0cnVlO1xuICAgICAgICAgICAgaW5pdFROb2RlRmxhZ3ModE5vZGUsIHRWaWV3LmRhdGEubGVuZ3RoLCBkaXJlY3RpdmVEZWZzLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBzYW1lIHRva2VuIGlzIHByb3ZpZGVkIGJ5IHNldmVyYWwgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBub2RlLCBzb21lIHJ1bGVzIGFwcGx5IGluXG4gICAgICAgICAgICAvLyB0aGUgdmlld0VuZ2luZTpcbiAgICAgICAgICAgIC8vIC0gdmlld1Byb3ZpZGVycyBoYXZlIHByaW9yaXR5IG92ZXIgcHJvdmlkZXJzXG4gICAgICAgICAgICAvLyAtIHRoZSBsYXN0IGRpcmVjdGl2ZSBpbiBOZ01vZHVsZS5kZWNsYXJhdGlvbnMgaGFzIHByaW9yaXR5IG92ZXIgdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICAgICAgLy8gU28gdG8gbWF0Y2ggdGhlc2UgcnVsZXMsIHRoZSBvcmRlciBpbiB3aGljaCBwcm92aWRlcnMgYXJlIGFkZGVkIGluIHRoZSBhcnJheXMgaXMgdmVyeVxuICAgICAgICAgICAgLy8gaW1wb3J0YW50LlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVEZWZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmID0gZGlyZWN0aXZlRGVmc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmLnByb3ZpZGVyc1Jlc29sdmVyKVxuICAgICAgICAgICAgICAgICAgICBkZWYucHJvdmlkZXJzUmVzb2x2ZXIoZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmVPcmRlckhvb2tzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwcmVPcmRlckNoZWNrSG9va3NGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGRpcmVjdGl2ZUlkeCA9IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIGRpcmVjdGl2ZURlZnMubGVuZ3RoLCBudWxsKTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydFNhbWUoZGlyZWN0aXZlSWR4LCB0Tm9kZS5kaXJlY3RpdmVTdGFydCwgJ1ROb2RlLmRpcmVjdGl2ZVN0YXJ0IHNob3VsZCBwb2ludCB0byBqdXN0IGFsbG9jYXRlZCBzcGFjZScpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVEZWZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmID0gZGlyZWN0aXZlRGVmc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSB0aGUgYXR0cnMgaW4gdGhlIG9yZGVyIG9mIG1hdGNoZXMuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZSBmaXJzdCBkaXJlY3RpdmUgaXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IGl0c2VsZiwgc28gdGhhdCB0aGUgY29tcG9uZW50IGhhcyB0aGUgbGVhc3QgcHJpb3JpdHkuXG4gICAgICAgICAgICAgICAgdE5vZGUubWVyZ2VkQXR0cnMgPSBtZXJnZUhvc3RBdHRycyh0Tm9kZS5tZXJnZWRBdHRycywgZGVmLmhvc3RBdHRycyk7XG4gICAgICAgICAgICAgICAgY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUodFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSWR4LCBkZWYpO1xuICAgICAgICAgICAgICAgIHNhdmVOYW1lVG9FeHBvcnRNYXAoZGlyZWN0aXZlSWR4LCBkZWYsIGV4cG9ydHNNYXApO1xuICAgICAgICAgICAgICAgIGlmIChkZWYuY29udGVudFF1ZXJpZXMgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDggLyogaGFzQ29udGVudFF1ZXJ5ICovO1xuICAgICAgICAgICAgICAgIGlmIChkZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsIHx8IGRlZi5ob3N0QXR0cnMgIT09IG51bGwgfHwgZGVmLmhvc3RWYXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpZmVDeWNsZUhvb2tzID0gZGVmLnR5cGUucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgcHVzaCBhIG5vZGUgaW5kZXggaW50byB0aGUgcHJlT3JkZXJIb29rcyBhcnJheSBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgIC8vIHByZS1vcmRlciBob29rIGZvdW5kIG9uIHRoaXMgbm9kZS5cbiAgICAgICAgICAgICAgICBpZiAoIXByZU9yZGVySG9va3NGb3VuZCAmJlxuICAgICAgICAgICAgICAgICAgICAobGlmZUN5Y2xlSG9va3MubmdPbkNoYW5nZXMgfHwgbGlmZUN5Y2xlSG9va3MubmdPbkluaXQgfHwgbGlmZUN5Y2xlSG9va3MubmdEb0NoZWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSB3aWxsIHB1c2ggdGhlIGFjdHVhbCBob29rIGZ1bmN0aW9uIGludG8gdGhpcyBhcnJheSBsYXRlciBkdXJpbmcgZGlyIGluc3RhbnRpYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbm5vdCBkbyBpdCBub3cgYmVjYXVzZSB3ZSBtdXN0IGVuc3VyZSBob29rcyBhcmUgcmVnaXN0ZXJlZCBpbiB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICAvLyBvcmRlciB0aGF0IGRpcmVjdGl2ZXMgYXJlIGNyZWF0ZWQgKGkuZS4gaW5qZWN0aW9uIG9yZGVyKS5cbiAgICAgICAgICAgICAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2godE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBwcmVPcmRlckhvb2tzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kICYmIChsaWZlQ3ljbGVIb29rcy5uZ09uQ2hhbmdlcyB8fCBsaWZlQ3ljbGVIb29rcy5uZ0RvQ2hlY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgfHwgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyA9IFtdKSkucHVzaCh0Tm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlSWR4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbml0aWFsaXplSW5wdXRBbmRPdXRwdXRBbGlhc2VzKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9ydHNNYXApXG4gICAgICAgICAgICBjYWNoZU1hdGNoaW5nTG9jYWxOYW1lcyh0Tm9kZSwgbG9jYWxSZWZzLCBleHBvcnRzTWFwKTtcbiAgICB9XG4gICAgLy8gTWVyZ2UgdGhlIHRlbXBsYXRlIGF0dHJzIGxhc3Qgc28gdGhhdCB0aGV5IGhhdmUgdGhlIGhpZ2hlc3QgcHJpb3JpdHkuXG4gICAgdE5vZGUubWVyZ2VkQXR0cnMgPSBtZXJnZUhvc3RBdHRycyh0Tm9kZS5tZXJnZWRBdHRycywgdE5vZGUuYXR0cnMpO1xuICAgIHJldHVybiBoYXNEaXJlY3RpdmVzO1xufVxuLyoqXG4gKiBBZGQgYGhvc3RCaW5kaW5nc2AgdG8gdGhlIGBUVmlldy5ob3N0QmluZGluZ09wQ29kZXNgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIHRvIHdoaWNoIHRoZSBgaG9zdEJpbmRpbmdzYCBzaG91bGQgYmUgYWRkZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB0aGUgZWxlbWVudCB3aGljaCBjb250YWlucyB0aGUgZGlyZWN0aXZlXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBjdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBkaXJlY3RpdmVJZHggRGlyZWN0aXZlIGluZGV4IGluIHZpZXcuXG4gKiBAcGFyYW0gZGlyZWN0aXZlVmFyc0lkeCBXaGVyZSB3aWxsIHRoZSBkaXJlY3RpdmUncyB2YXJzIGJlIHN0b3JlZFxuICogQHBhcmFtIGRlZiBgQ29tcG9uZW50RGVmYC9gRGlyZWN0aXZlRGVmYCwgd2hpY2ggY29udGFpbnMgdGhlIGBob3N0VmFyc2AvYGhvc3RCaW5kaW5nc2AgdG8gYWRkLlxuICovXG5mdW5jdGlvbiByZWdpc3Rlckhvc3RCaW5kaW5nT3BDb2Rlcyh0VmlldywgdE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJZHgsIGRpcmVjdGl2ZVZhcnNJZHgsIGRlZikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IGhvc3RCaW5kaW5ncyA9IGRlZi5ob3N0QmluZGluZ3M7XG4gICAgaWYgKGhvc3RCaW5kaW5ncykge1xuICAgICAgICBsZXQgaG9zdEJpbmRpbmdPcENvZGVzID0gdFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzO1xuICAgICAgICBpZiAoaG9zdEJpbmRpbmdPcENvZGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0QmluZGluZ09wQ29kZXMgPSB0Vmlldy5ob3N0QmluZGluZ09wQ29kZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50SW5keCA9IH50Tm9kZS5pbmRleDtcbiAgICAgICAgaWYgKGxhc3RTZWxlY3RlZEVsZW1lbnRJZHgoaG9zdEJpbmRpbmdPcENvZGVzKSAhPSBlbGVtZW50SW5keCkge1xuICAgICAgICAgICAgLy8gQ29uZGl0aW9uYWxseSBhZGQgc2VsZWN0IGVsZW1lbnQgc28gdGhhdCB3ZSBhcmUgbW9yZSBlZmZpY2llbnQgaW4gZXhlY3V0aW9uLlxuICAgICAgICAgICAgLy8gTk9URTogdGhpcyBpcyBzdHJpY3RseSBub3QgbmVjZXNzYXJ5IGFuZCBpdCB0cmFkZXMgY29kZSBzaXplIGZvciBydW50aW1lIHBlcmYuXG4gICAgICAgICAgICAvLyAoV2UgY291bGQganVzdCBhbHdheXMgYWRkIGl0LilcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nT3BDb2Rlcy5wdXNoKGVsZW1lbnRJbmR4KTtcbiAgICAgICAgfVxuICAgICAgICBob3N0QmluZGluZ09wQ29kZXMucHVzaChkaXJlY3RpdmVJZHgsIGRpcmVjdGl2ZVZhcnNJZHgsIGhvc3RCaW5kaW5ncyk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXN0IHNlbGVjdGVkIGVsZW1lbnQgaW5kZXggaW4gdGhlIGBIb3N0QmluZGluZ09wQ29kZXNgXG4gKlxuICogRm9yIHBlcmYgcmVhc29ucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgc2VsZWN0ZWQgZWxlbWVudCBpbmRleCBpbiBgSG9zdEJpbmRpbmdPcENvZGVzYCBvbmx5XG4gKiBpZiBpdCBjaGFuZ2VzLiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBsYXN0IGluZGV4IChvciAnMCcgaWYgbm90IGZvdW5kLilcbiAqXG4gKiBTZWxlY3RlZCBlbGVtZW50IGluZGV4IGFyZSBvbmx5IHRoZSBvbmVzIHdoaWNoIGFyZSBuZWdhdGl2ZS5cbiAqL1xuZnVuY3Rpb24gbGFzdFNlbGVjdGVkRWxlbWVudElkeChob3N0QmluZGluZ09wQ29kZXMpIHtcbiAgICBsZXQgaSA9IGhvc3RCaW5kaW5nT3BDb2Rlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaG9zdEJpbmRpbmdPcENvZGVzWy0taV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuLyoqXG4gKiBJbnN0YW50aWF0ZSBhbGwgdGhlIGRpcmVjdGl2ZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVzb2x2ZWQgb24gdGhlIGN1cnJlbnQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gaW5zdGFudGlhdGVBbGxEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIG5hdGl2ZSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGlmICghdFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgY29uc3QgaW5pdGlhbElucHV0cyA9IHROb2RlLmluaXRpYWxJbnB1dHM7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudERlZihkZWYpO1xuICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8pO1xuICAgICAgICAgICAgYWRkQ29tcG9uZW50TG9naWMobFZpZXcsIHROb2RlLCBkZWYpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCB0VmlldywgaSwgdE5vZGUpO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoZGlyZWN0aXZlLCBsVmlldyk7XG4gICAgICAgIGlmIChpbml0aWFsSW5wdXRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRJbnB1dHNGcm9tQXR0cnMobFZpZXcsIGkgLSBzdGFydCwgZGlyZWN0aXZlLCBkZWYsIHROb2RlLCBpbml0aWFsSW5wdXRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0gPSBkaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVzSG9zdEJpbmRpbmdzKHRWaWV3LCBsVmlldywgdE5vZGUpIHtcbiAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBjb25zdCBmaXJzdENyZWF0ZVBhc3MgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3M7XG4gICAgY29uc3QgZWxlbWVudEluZGV4ID0gdE5vZGUuaW5kZXg7XG4gICAgY29uc3QgY3VycmVudERpcmVjdGl2ZUluZGV4ID0gZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCk7XG4gICAgdHJ5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChlbGVtZW50SW5kZXgpO1xuICAgICAgICBmb3IgKGxldCBkaXJJbmRleCA9IHN0YXJ0OyBkaXJJbmRleCA8IGVuZDsgZGlySW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtkaXJJbmRleF07XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSBsVmlld1tkaXJJbmRleF07XG4gICAgICAgICAgICBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoZGlySW5kZXgpO1xuICAgICAgICAgICAgaWYgKGRlZi5ob3N0QmluZGluZ3MgIT09IG51bGwgfHwgZGVmLmhvc3RWYXJzICE9PSAwIHx8IGRlZi5ob3N0QXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VIb3N0QmluZGluZ3NJbkNyZWF0aW9uTW9kZShkZWYsIGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xuICAgICAgICBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoY3VycmVudERpcmVjdGl2ZUluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIEludm9rZSB0aGUgaG9zdCBiaW5kaW5ncyBpbiBjcmVhdGlvbiBtb2RlLlxuICpcbiAqIEBwYXJhbSBkZWYgYERpcmVjdGl2ZURlZmAgd2hpY2ggbWF5IGNvbnRhaW4gdGhlIGBob3N0QmluZGluZ3NgIGZ1bmN0aW9uLlxuICogQHBhcmFtIGRpcmVjdGl2ZSBJbnN0YW5jZSBvZiBkaXJlY3RpdmUuXG4gKi9cbmZ1bmN0aW9uIGludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlKGRlZiwgZGlyZWN0aXZlKSB7XG4gICAgaWYgKGRlZi5ob3N0QmluZGluZ3MgIT09IG51bGwpIHtcbiAgICAgICAgZGVmLmhvc3RCaW5kaW5ncygxIC8qIENyZWF0ZSAqLywgZGlyZWN0aXZlKTtcbiAgICB9XG59XG4vKipcbiAqIE1hdGNoZXMgdGhlIGN1cnJlbnQgbm9kZSBhZ2FpbnN0IGFsbCBhdmFpbGFibGUgc2VsZWN0b3JzLlxuICogSWYgYSBjb21wb25lbnQgaXMgbWF0Y2hlZCAoYXQgbW9zdCBvbmUpLCBpdCBpcyByZXR1cm5lZCBpbiBmaXJzdCBwb3NpdGlvbiBpbiB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGZpbmREaXJlY3RpdmVEZWZNYXRjaGVzKHRWaWV3LCB2aWV3RGF0YSwgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovKTtcbiAgICBjb25zdCByZWdpc3RyeSA9IHRWaWV3LmRpcmVjdGl2ZVJlZ2lzdHJ5O1xuICAgIGxldCBtYXRjaGVzID0gbnVsbDtcbiAgICBpZiAocmVnaXN0cnkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWdpc3RyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGVmID0gcmVnaXN0cnlbaV07XG4gICAgICAgICAgICBpZiAoaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIGRlZi5zZWxlY3RvcnMsIC8qIGlzUHJvamVjdGlvbk1vZGUgKi8gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyB8fCAobWF0Y2hlcyA9IG5nRGV2TW9kZSA/IG5ldyBNYXRjaGVzQXJyYXkoKSA6IFtdKTtcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCB2aWV3RGF0YSksIHRWaWV3LCBkZWYudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAyIC8qIEVsZW1lbnQgKi8sIGBcIiR7dE5vZGUudmFsdWV9XCIgdGFncyBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgaG9zdHMuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgdXNlIGEgZGlmZmVyZW50IHRhZyB0byBhY3RpdmF0ZSB0aGUgJHtzdHJpbmdpZnkoZGVmLnR5cGUpfSBjb21wb25lbnQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IodE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcmtBc0NvbXBvbmVudEhvc3QodFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbXBvbmVudCBpcyBhbHdheXMgc3RvcmVkIGZpcnN0IHdpdGggZGlyZWN0aXZlcyBhZnRlci5cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy51bnNoaWZ0KGRlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG4vKipcbiAqIE1hcmtzIGEgZ2l2ZW4gVE5vZGUgYXMgYSBjb21wb25lbnQncyBob3N0LiBUaGlzIGNvbnNpc3RzIG9mOlxuICogLSBzZXR0aW5nIGFwcHJvcHJpYXRlIFROb2RlIGZsYWdzO1xuICogLSBzdG9yaW5nIGluZGV4IG9mIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCBzbyBpdCB3aWxsIGJlIHF1ZXVlZCBmb3IgdmlldyByZWZyZXNoIGR1cmluZyBDRC5cbiAqL1xuZnVuY3Rpb24gbWFya0FzQ29tcG9uZW50SG9zdCh0VmlldywgaG9zdFROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgaG9zdFROb2RlLmZsYWdzIHw9IDIgLyogaXNDb21wb25lbnRIb3N0ICovO1xuICAgICh0Vmlldy5jb21wb25lbnRzIHx8ICh0Vmlldy5jb21wb25lbnRzID0gbmdEZXZNb2RlID8gbmV3IFRWaWV3Q29tcG9uZW50cygpIDogW10pKVxuICAgICAgICAucHVzaChob3N0VE5vZGUuaW5kZXgpO1xufVxuLyoqIENhY2hlcyBsb2NhbCBuYW1lcyBhbmQgdGhlaXIgbWF0Y2hpbmcgZGlyZWN0aXZlIGluZGljZXMgZm9yIHF1ZXJ5IGFuZCB0ZW1wbGF0ZSBsb29rdXBzLiAqL1xuZnVuY3Rpb24gY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXModE5vZGUsIGxvY2FsUmVmcywgZXhwb3J0c01hcCkge1xuICAgIGlmIChsb2NhbFJlZnMpIHtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lcyA9IHROb2RlLmxvY2FsTmFtZXMgPSBuZ0Rldk1vZGUgPyBuZXcgVE5vZGVMb2NhbE5hbWVzKCkgOiBbXTtcbiAgICAgICAgLy8gTG9jYWwgbmFtZXMgbXVzdCBiZSBzdG9yZWQgaW4gdE5vZGUgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCBsb2NhbFJlZnMgYXJlIGRlZmluZWRcbiAgICAgICAgLy8gaW4gdGhlIHRlbXBsYXRlIHRvIGVuc3VyZSB0aGUgZGF0YSBpcyBsb2FkZWQgaW4gdGhlIHNhbWUgc2xvdHMgYXMgdGhlaXIgcmVmc1xuICAgICAgICAvLyBpbiB0aGUgdGVtcGxhdGUgKGZvciB0ZW1wbGF0ZSBxdWVyaWVzKS5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFJlZnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZXhwb3J0c01hcFtsb2NhbFJlZnNbaSArIDFdXTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTMwMSAvKiBFWFBPUlRfTk9UX0ZPVU5EICovLCBuZ0Rldk1vZGUgJiYgYEV4cG9ydCBvZiBuYW1lICcke2xvY2FsUmVmc1tpICsgMV19JyBub3QgZm91bmQhYCk7XG4gICAgICAgICAgICBsb2NhbE5hbWVzLnB1c2gobG9jYWxSZWZzW2ldLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyB1cCBhbiBleHBvcnQgbWFwIGFzIGRpcmVjdGl2ZXMgYXJlIGNyZWF0ZWQsIHNvIGxvY2FsIHJlZnMgY2FuIGJlIHF1aWNrbHkgbWFwcGVkXG4gKiB0byB0aGVpciBkaXJlY3RpdmUgaW5zdGFuY2VzLlxuICovXG5mdW5jdGlvbiBzYXZlTmFtZVRvRXhwb3J0TWFwKGRpcmVjdGl2ZUlkeCwgZGVmLCBleHBvcnRzTWFwKSB7XG4gICAgaWYgKGV4cG9ydHNNYXApIHtcbiAgICAgICAgaWYgKGRlZi5leHBvcnRBcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWYuZXhwb3J0QXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBleHBvcnRzTWFwW2RlZi5leHBvcnRBc1tpXV0gPSBkaXJlY3RpdmVJZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZikpXG4gICAgICAgICAgICBleHBvcnRzTWFwWycnXSA9IGRpcmVjdGl2ZUlkeDtcbiAgICB9XG59XG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBmbGFncyBvbiB0aGUgY3VycmVudCBub2RlLCBzZXR0aW5nIGFsbCBpbmRpY2VzIHRvIHRoZSBpbml0aWFsIGluZGV4LFxuICogdGhlIGRpcmVjdGl2ZSBjb3VudCB0byAwLCBhbmQgYWRkaW5nIHRoZSBpc0NvbXBvbmVudCBmbGFnLlxuICogQHBhcmFtIGluZGV4IHRoZSBpbml0aWFsIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluaXRUTm9kZUZsYWdzKHROb2RlLCBpbmRleCwgbnVtYmVyT2ZEaXJlY3RpdmVzKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKG51bWJlck9mRGlyZWN0aXZlcywgdE5vZGUuZGlyZWN0aXZlRW5kIC0gdE5vZGUuZGlyZWN0aXZlU3RhcnQsICdSZWFjaGVkIHRoZSBtYXggbnVtYmVyIG9mIGRpcmVjdGl2ZXMnKTtcbiAgICB0Tm9kZS5mbGFncyB8PSAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLztcbiAgICAvLyBXaGVuIHRoZSBmaXJzdCBkaXJlY3RpdmUgaXMgY3JlYXRlZCBvbiBhIG5vZGUsIHNhdmUgdGhlIGluZGV4XG4gICAgdE5vZGUuZGlyZWN0aXZlU3RhcnQgPSBpbmRleDtcbiAgICB0Tm9kZS5kaXJlY3RpdmVFbmQgPSBpbmRleCArIG51bWJlck9mRGlyZWN0aXZlcztcbiAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgPSBpbmRleDtcbn1cbi8qKlxuICogU2V0dXAgZGlyZWN0aXZlIGZvciBpbnN0YW50aWF0aW9uLlxuICpcbiAqIFdlIG5lZWQgdG8gY3JlYXRlIGEgYE5vZGVJbmplY3RvckZhY3RvcnlgIHdoaWNoIGlzIHRoZW4gaW5zZXJ0ZWQgaW4gYm90aCB0aGUgYEJsdWVwcmludGAgYXMgd2VsbFxuICogYXMgYExWaWV3YC4gYFRWaWV3YCBnZXRzIHRoZSBgRGlyZWN0aXZlRGVmYC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YFxuICogQHBhcmFtIHROb2RlIGBUTm9kZWBcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggSW5kZXggd2hlcmUgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHN0b3JlZCBpbiB0aGUgRXhwYW5kby5cbiAqIEBwYXJhbSBkZWYgYERpcmVjdGl2ZURlZmBcbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUodFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSW5kZXgsIGRlZikge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoZGlyZWN0aXZlSW5kZXgsIEhFQURFUl9PRkZTRVQsICdNdXN0IGJlIGluIEV4cGFuZG8gc2VjdGlvbicpO1xuICAgIHRWaWV3LmRhdGFbZGlyZWN0aXZlSW5kZXhdID0gZGVmO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUZhY3RvcnkgPSBkZWYuZmFjdG9yeSB8fCAoZGVmLmZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKGRlZi50eXBlLCB0cnVlKSk7XG4gICAgY29uc3Qgbm9kZUluamVjdG9yRmFjdG9yeSA9IG5ldyBOb2RlSW5qZWN0b3JGYWN0b3J5KGRpcmVjdGl2ZUZhY3RvcnksIGlzQ29tcG9uZW50RGVmKGRlZiksIG51bGwpO1xuICAgIHRWaWV3LmJsdWVwcmludFtkaXJlY3RpdmVJbmRleF0gPSBub2RlSW5qZWN0b3JGYWN0b3J5O1xuICAgIGxWaWV3W2RpcmVjdGl2ZUluZGV4XSA9IG5vZGVJbmplY3RvckZhY3Rvcnk7XG4gICAgcmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSW5kZXgsIGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIGRlZi5ob3N0VmFycywgTk9fQ0hBTkdFKSwgZGVmKTtcbn1cbmZ1bmN0aW9uIGFkZENvbXBvbmVudExvZ2ljKGxWaWV3LCBob3N0VE5vZGUsIGRlZikge1xuICAgIGNvbnN0IG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUoaG9zdFROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3KGRlZik7XG4gICAgLy8gT25seSBjb21wb25lbnQgdmlld3Mgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSB2aWV3IHRyZWUgZGlyZWN0bHkuIEVtYmVkZGVkIHZpZXdzIGFyZVxuICAgIC8vIGFjY2Vzc2VkIHRocm91Z2ggdGhlaXIgY29udGFpbmVycyBiZWNhdXNlIHRoZXkgbWF5IGJlIHJlbW92ZWQgLyByZS1hZGRlZCBsYXRlci5cbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gYWRkVG9WaWV3VHJlZShsVmlldywgY3JlYXRlTFZpZXcobFZpZXcsIHRWaWV3LCBudWxsLCBkZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gOiAxNiAvKiBDaGVja0Fsd2F5cyAqLywgbmF0aXZlLCBob3N0VE5vZGUsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG5hdGl2ZSwgZGVmKSwgbnVsbCwgbnVsbCkpO1xuICAgIC8vIENvbXBvbmVudCB2aWV3IHdpbGwgYWx3YXlzIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBpbmplY3RlZCBMQ29udGFpbmVycyxcbiAgICAvLyBzbyB0aGlzIGlzIGEgcmVndWxhciBlbGVtZW50LCB3cmFwIGl0IHdpdGggdGhlIGNvbXBvbmVudCB2aWV3XG4gICAgbFZpZXdbaG9zdFROb2RlLmluZGV4XSA9IGNvbXBvbmVudFZpZXc7XG59XG5mdW5jdGlvbiBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGFzc2VydE5vdFNhbWUodmFsdWUsIE5PX0NIQU5HRSwgJ0luY29taW5nIHZhbHVlIHNob3VsZCBuZXZlciBiZSBOT19DSEFOR0UuJyk7XG4gICAgICAgIHZhbGlkYXRlQWdhaW5zdEV2ZW50QXR0cmlidXRlcyhuYW1lKTtcbiAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAyIC8qIEVsZW1lbnQgKi8sIGBBdHRlbXB0ZWQgdG8gc2V0IGF0dHJpYnV0ZSBcXGAke25hbWV9XFxgIG9uIGEgY29udGFpbmVyIG5vZGUuIGAgK1xuICAgICAgICAgICAgYEhvc3QgYmluZGluZ3MgYXJlIG5vdCB2YWxpZCBvbiBuZy1jb250YWluZXIgb3IgbmctdGVtcGxhdGUuYCk7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgc2V0RWxlbWVudEF0dHJpYnV0ZShsVmlld1tSRU5ERVJFUl0sIGVsZW1lbnQsIG5hbWVzcGFjZSwgdE5vZGUudmFsdWUsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpO1xufVxuZnVuY3Rpb24gc2V0RWxlbWVudEF0dHJpYnV0ZShyZW5kZXJlciwgZWxlbWVudCwgbmFtZXNwYWNlLCB0YWdOYW1lLCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZUF0dHJpYnV0ZSsrO1xuICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgbmFtZXNwYWNlKSA6XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRBdHRyaWJ1dGUrKztcbiAgICAgICAgY29uc3Qgc3RyVmFsdWUgPSBzYW5pdGl6ZXIgPT0gbnVsbCA/IHJlbmRlclN0cmluZ2lmeSh2YWx1ZSkgOiBzYW5pdGl6ZXIodmFsdWUsIHRhZ05hbWUgfHwgJycsIG5hbWUpO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgc3RyVmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPyBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgbmFtZSwgc3RyVmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBzdHJWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFNldHMgaW5pdGlhbCBpbnB1dCBwcm9wZXJ0aWVzIG9uIGRpcmVjdGl2ZSBpbnN0YW5jZXMgZnJvbSBhdHRyaWJ1dGUgZGF0YVxuICpcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IExWaWV3IHRoYXQgaXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEluZGV4IG9mIHRoZSBkaXJlY3RpdmUgaW4gZGlyZWN0aXZlcyBhcnJheVxuICogQHBhcmFtIGluc3RhbmNlIEluc3RhbmNlIG9mIHRoZSBkaXJlY3RpdmUgb24gd2hpY2ggdG8gc2V0IHRoZSBpbml0aWFsIGlucHV0c1xuICogQHBhcmFtIGRlZiBUaGUgZGlyZWN0aXZlIGRlZiB0aGF0IGNvbnRhaW5zIHRoZSBsaXN0IG9mIGlucHV0c1xuICogQHBhcmFtIHROb2RlIFRoZSBzdGF0aWMgZGF0YSBmb3IgdGhpcyBub2RlXG4gKi9cbmZ1bmN0aW9uIHNldElucHV0c0Zyb21BdHRycyhsVmlldywgZGlyZWN0aXZlSW5kZXgsIGluc3RhbmNlLCBkZWYsIHROb2RlLCBpbml0aWFsSW5wdXREYXRhKSB7XG4gICAgY29uc3QgaW5pdGlhbElucHV0cyA9IGluaXRpYWxJbnB1dERhdGFbZGlyZWN0aXZlSW5kZXhdO1xuICAgIGlmIChpbml0aWFsSW5wdXRzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNldElucHV0ID0gZGVmLnNldElucHV0O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxJbnB1dHMubGVuZ3RoOykge1xuICAgICAgICAgICAgY29uc3QgcHVibGljTmFtZSA9IGluaXRpYWxJbnB1dHNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IHByaXZhdGVOYW1lID0gaW5pdGlhbElucHV0c1tpKytdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsSW5wdXRzW2krK107XG4gICAgICAgICAgICBpZiAoc2V0SW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWYuc2V0SW5wdXQoaW5zdGFuY2UsIHZhbHVlLCBwdWJsaWNOYW1lLCBwcml2YXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVtwcml2YXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnR5KGxWaWV3LCBuYXRpdmVFbGVtZW50LCB0Tm9kZS50eXBlLCBwcml2YXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZW5lcmF0ZXMgaW5pdGlhbElucHV0RGF0YSBmb3IgYSBub2RlIGFuZCBzdG9yZXMgaXQgaW4gdGhlIHRlbXBsYXRlJ3Mgc3RhdGljIHN0b3JhZ2VcbiAqIHNvIHN1YnNlcXVlbnQgdGVtcGxhdGUgaW52b2NhdGlvbnMgZG9uJ3QgaGF2ZSB0byByZWNhbGN1bGF0ZSBpdC5cbiAqXG4gKiBpbml0aWFsSW5wdXREYXRhIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSBzZXQgYXMgaW5wdXQgcHJvcGVydGllc1xuICogZm9yIGRpcmVjdGl2ZXMgb24gdGhpcyBub2RlLCBidXQgb25seSBvbmNlIG9uIGNyZWF0aW9uLiBXZSBuZWVkIHRoaXMgYXJyYXkgdG8gc3VwcG9ydFxuICogdGhlIGNhc2Ugd2hlcmUgeW91IHNldCBhbiBASW5wdXQgcHJvcGVydHkgb2YgYSBkaXJlY3RpdmUgdXNpbmcgYXR0cmlidXRlLWxpa2Ugc3ludGF4LlxuICogZS5nLiBpZiB5b3UgaGF2ZSBhIGBuYW1lYCBASW5wdXQsIHlvdSBjYW4gc2V0IGl0IG9uY2UgbGlrZSB0aGlzOlxuICpcbiAqIDxteS1jb21wb25lbnQgbmFtZT1cIkJlc3NcIj48L215LWNvbXBvbmVudD5cbiAqXG4gKiBAcGFyYW0gaW5wdXRzIFRoZSBsaXN0IG9mIGlucHV0cyBmcm9tIHRoZSBkaXJlY3RpdmUgZGVmXG4gKiBAcGFyYW0gYXR0cnMgVGhlIHN0YXRpYyBhdHRycyBvbiB0aGlzIG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVJbml0aWFsSW5wdXRzKGlucHV0cywgYXR0cnMpIHtcbiAgICBsZXQgaW5wdXRzVG9TdG9yZSA9IG51bGw7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cnNbaV07XG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGRvIG5vdCBhbGxvdyBpbnB1dHMgb24gbmFtZXNwYWNlZCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXR0ck5hbWUgPT09IDUgLyogUHJvamVjdEFzICovKSB7XG4gICAgICAgICAgICAvLyBTa2lwIG92ZXIgdGhlIGBuZ1Byb2plY3RBc2AgdmFsdWUuXG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoaXQgYW55IG90aGVyIGF0dHJpYnV0ZSBtYXJrZXJzLCB3ZSdyZSBkb25lIGFueXdheS4gTm9uZSBvZiB0aG9zZSBhcmUgdmFsaWQgaW5wdXRzLlxuICAgICAgICBpZiAodHlwZW9mIGF0dHJOYW1lID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAoaW5wdXRzLmhhc093blByb3BlcnR5KGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgaWYgKGlucHV0c1RvU3RvcmUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgaW5wdXRzVG9TdG9yZSA9IFtdO1xuICAgICAgICAgICAgaW5wdXRzVG9TdG9yZS5wdXNoKGF0dHJOYW1lLCBpbnB1dHNbYXR0ck5hbWVdLCBhdHRyc1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgICAgIGkgKz0gMjtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0c1RvU3RvcmU7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBWaWV3Q29udGFpbmVyICYgVmlld1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE5vdCBzdXJlIHdoeSBJIG5lZWQgdG8gZG8gYGFueWAgaGVyZSBidXQgVFMgY29tcGxhaW5zIGxhdGVyLlxuY29uc3QgTENvbnRhaW5lckFycmF5ID0gY2xhc3MgTENvbnRhaW5lciBleHRlbmRzIEFycmF5IHtcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBMQ29udGFpbmVyLCBlaXRoZXIgZnJvbSBhIGNvbnRhaW5lciBpbnN0cnVjdGlvbiwgb3IgZm9yIGEgVmlld0NvbnRhaW5lclJlZi5cbiAqXG4gKiBAcGFyYW0gaG9zdE5hdGl2ZSBUaGUgaG9zdCBlbGVtZW50IGZvciB0aGUgTENvbnRhaW5lclxuICogQHBhcmFtIGhvc3RUTm9kZSBUaGUgaG9zdCBUTm9kZSBmb3IgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgcGFyZW50IHZpZXcgb2YgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBuYXRpdmUgVGhlIG5hdGl2ZSBjb21tZW50IGVsZW1lbnRcbiAqIEBwYXJhbSBpc0ZvclZpZXdDb250YWluZXJSZWYgT3B0aW9uYWwgYSBmbGFnIGluZGljYXRpbmcgdGhlIFZpZXdDb250YWluZXJSZWYgY2FzZVxuICogQHJldHVybnMgTENvbnRhaW5lclxuICovXG5mdW5jdGlvbiBjcmVhdGVMQ29udGFpbmVyKGhvc3ROYXRpdmUsIGN1cnJlbnRWaWV3LCBuYXRpdmUsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGN1cnJlbnRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKGN1cnJlbnRWaWV3W1JFTkRFUkVSXSkgJiYgYXNzZXJ0RG9tTm9kZShuYXRpdmUpO1xuICAgIC8vIGh0dHBzOi8vanNwZXJmLmNvbS9hcnJheS1saXRlcmFsLXZzLW5ldy1hcnJheS1yZWFsbHlcbiAgICBjb25zdCBsQ29udGFpbmVyID0gbmV3IChuZ0Rldk1vZGUgPyBMQ29udGFpbmVyQXJyYXkgOiBBcnJheSkoaG9zdE5hdGl2ZSwgLy8gaG9zdCBuYXRpdmVcbiAgICB0cnVlLCAvLyBCb29sZWFuIGB0cnVlYCBpbiB0aGlzIHBvc2l0aW9uIHNpZ25pZmllcyB0aGF0IHRoaXMgaXMgYW4gYExDb250YWluZXJgXG4gICAgZmFsc2UsIC8vIGhhcyB0cmFuc3BsYW50ZWQgdmlld3NcbiAgICBjdXJyZW50VmlldywgLy8gcGFyZW50XG4gICAgbnVsbCwgLy8gbmV4dFxuICAgIDAsIC8vIHRyYW5zcGxhbnRlZCB2aWV3cyB0byByZWZyZXNoIGNvdW50XG4gICAgdE5vZGUsIC8vIHRfaG9zdFxuICAgIG5hdGl2ZSwgLy8gbmF0aXZlLFxuICAgIG51bGwsIC8vIHZpZXcgcmVmc1xuICAgIG51bGwpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChsQ29udGFpbmVyLmxlbmd0aCwgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQsICdTaG91bGQgYWxsb2NhdGUgY29ycmVjdCBudW1iZXIgb2Ygc2xvdHMgZm9yIExDb250YWluZXIgaGVhZGVyLicpO1xuICAgIG5nRGV2TW9kZSAmJiBhdHRhY2hMQ29udGFpbmVyRGVidWcobENvbnRhaW5lcik7XG4gICAgcmV0dXJuIGxDb250YWluZXI7XG59XG4vKipcbiAqIEdvZXMgb3ZlciBlbWJlZGRlZCB2aWV3cyAob25lcyBjcmVhdGVkIHRocm91Z2ggVmlld0NvbnRhaW5lclJlZiBBUElzKSBhbmQgcmVmcmVzaGVzXG4gKiB0aGVtIGJ5IGV4ZWN1dGluZyBhbiBhc3NvY2lhdGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiByZWZyZXNoRW1iZWRkZWRWaWV3cyhsVmlldykge1xuICAgIGZvciAobGV0IGxDb250YWluZXIgPSBnZXRGaXJzdExDb250YWluZXIobFZpZXcpOyBsQ29udGFpbmVyICE9PSBudWxsOyBsQ29udGFpbmVyID0gZ2V0TmV4dExDb250YWluZXIobENvbnRhaW5lcikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGxDb250YWluZXJbaV07XG4gICAgICAgICAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gZW1iZWRkZWRMVmlld1tUVklFV107XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChlbWJlZGRlZFRWaWV3LCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgICAgIGlmICh2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKGVtYmVkZGVkTFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFZpZXcoZW1iZWRkZWRUVmlldywgZW1iZWRkZWRMVmlldywgZW1iZWRkZWRUVmlldy50ZW1wbGF0ZSwgZW1iZWRkZWRMVmlld1tDT05URVhUXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1hcmsgdHJhbnNwbGFudGVkIHZpZXdzIGFzIG5lZWRpbmcgdG8gYmUgcmVmcmVzaGVkIGF0IHRoZWlyIGluc2VydGlvbiBwb2ludHMuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHRoYXQgbWF5IGhhdmUgdHJhbnNwbGFudGVkIHZpZXdzLlxuICovXG5mdW5jdGlvbiBtYXJrVHJhbnNwbGFudGVkVmlld3NGb3JSZWZyZXNoKGxWaWV3KSB7XG4gICAgZm9yIChsZXQgbENvbnRhaW5lciA9IGdldEZpcnN0TENvbnRhaW5lcihsVmlldyk7IGxDb250YWluZXIgIT09IG51bGw7IGxDb250YWluZXIgPSBnZXROZXh0TENvbnRhaW5lcihsQ29udGFpbmVyKSkge1xuICAgICAgICBpZiAoIWxDb250YWluZXJbSEFTX1RSQU5TUExBTlRFRF9WSUVXU10pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbW92ZWRWaWV3cyA9IGxDb250YWluZXJbTU9WRURfVklFV1NdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChtb3ZlZFZpZXdzLCAnVHJhbnNwbGFudGVkIFZpZXcgZmxhZ3Mgc2V0IGJ1dCBtaXNzaW5nIE1PVkVEX1ZJRVdTJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW92ZWRWaWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbW92ZWRMVmlldyA9IG1vdmVkVmlld3NbaV07XG4gICAgICAgICAgICBjb25zdCBpbnNlcnRpb25MQ29udGFpbmVyID0gbW92ZWRMVmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoaW5zZXJ0aW9uTENvbnRhaW5lcik7XG4gICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgbW92ZWQgTFZpZXcgd2FzIGFscmVhZHkgbWFya2VkIGZvclxuICAgICAgICAgICAgLy8gcmVmcmVzaC5cbiAgICAgICAgICAgIGlmICgobW92ZWRMVmlld1tGTEFHU10gJiAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChpbnNlcnRpb25MQ29udGFpbmVyLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGUsIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIGBtb3ZlZFZpZXdzYCBpcyB0cmFja2luZyB2aWV3cyB0aGF0IGFyZSB0cmFuc3BsYW50ZWQgKmFuZCpcbiAgICAgICAgICAgIC8vIHRob3NlIHRoYXQgYXJlbid0IChkZWNsYXJhdGlvbiBjb21wb25lbnQgPT09IGluc2VydGlvbiBjb21wb25lbnQpLiBJbiB0aGUgbGF0dGVyIGNhc2UsXG4gICAgICAgICAgICAvLyBpdCdzIGZpbmUgdG8gYWRkIHRoZSBmbGFnLCBhcyB3ZSB3aWxsIGNsZWFyIGl0IGltbWVkaWF0ZWx5IGluXG4gICAgICAgICAgICAvLyBgcmVmcmVzaEVtYmVkZGVkVmlld3NgIGZvciB0aGUgdmlldyBjdXJyZW50bHkgYmVpbmcgcmVmcmVzaGVkLlxuICAgICAgICAgICAgbW92ZWRMVmlld1tGTEFHU10gfD0gMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vLy8vLy8vLy8vLy9cbi8qKlxuICogUmVmcmVzaGVzIGNvbXBvbmVudHMgYnkgZW50ZXJpbmcgdGhlIGNvbXBvbmVudCB2aWV3IGFuZCBwcm9jZXNzaW5nIGl0cyBiaW5kaW5ncywgcXVlcmllcywgZXRjLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRIb3N0SWR4ICBFbGVtZW50IGluZGV4IGluIExWaWV3W10gKGFkanVzdGVkIGZvciBIRUFERVJfT0ZGU0VUKVxuICovXG5mdW5jdGlvbiByZWZyZXNoQ29tcG9uZW50KGhvc3RMVmlldywgY29tcG9uZW50SG9zdElkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpc0NyZWF0aW9uTW9kZShob3N0TFZpZXcpLCBmYWxzZSwgJ1Nob3VsZCBiZSBydW4gaW4gdXBkYXRlIG1vZGUnKTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbXBvbmVudEhvc3RJZHgsIGhvc3RMVmlldyk7XG4gICAgLy8gT25seSBhdHRhY2hlZCBjb21wb25lbnRzIHRoYXQgYXJlIENoZWNrQWx3YXlzIG9yIE9uUHVzaCBhbmQgZGlydHkgc2hvdWxkIGJlIHJlZnJlc2hlZFxuICAgIGlmICh2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKGNvbXBvbmVudFZpZXcpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gY29tcG9uZW50Vmlld1tUVklFV107XG4gICAgICAgIGlmIChjb21wb25lbnRWaWV3W0ZMQUdTXSAmICgxNiAvKiBDaGVja0Fsd2F5cyAqLyB8IDY0IC8qIERpcnR5ICovKSkge1xuICAgICAgICAgICAgcmVmcmVzaFZpZXcodFZpZXcsIGNvbXBvbmVudFZpZXcsIHRWaWV3LnRlbXBsYXRlLCBjb21wb25lbnRWaWV3W0NPTlRFWFRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb21wb25lbnRWaWV3W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA+IDApIHtcbiAgICAgICAgICAgIC8vIE9ubHkgYXR0YWNoZWQgY29tcG9uZW50cyB0aGF0IGFyZSBDaGVja0Fsd2F5cyBvciBPblB1c2ggYW5kIGRpcnR5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICAgICAgICAgIHJlZnJlc2hDb250YWluc0RpcnR5Vmlldyhjb21wb25lbnRWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmVmcmVzaGVzIGFsbCB0cmFuc3BsYW50ZWQgdmlld3MgbWFya2VkIHdpdGggYExWaWV3RmxhZ3MuUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXdgIHRoYXQgYXJlXG4gKiBjaGlsZHJlbiBvciBkZXNjZW5kYW50cyBvZiB0aGUgZ2l2ZW4gbFZpZXcuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBsVmlldyB3aGljaCBjb250YWlucyBkZXNjZW5kYW50IHRyYW5zcGxhbnRlZCB2aWV3cyB0aGF0IG5lZWQgdG8gYmUgcmVmcmVzaGVkLlxuICovXG5mdW5jdGlvbiByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcobFZpZXcpIHtcbiAgICBmb3IgKGxldCBsQ29udGFpbmVyID0gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KTsgbENvbnRhaW5lciAhPT0gbnVsbDsgbENvbnRhaW5lciA9IGdldE5leHRMQ29udGFpbmVyKGxDb250YWluZXIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICAgICAgaWYgKGVtYmVkZGVkTFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkVFZpZXcgPSBlbWJlZGRlZExWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChlbWJlZGRlZFRWaWV3LCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoVmlldyhlbWJlZGRlZFRWaWV3LCBlbWJlZGRlZExWaWV3LCBlbWJlZGRlZFRWaWV3LnRlbXBsYXRlLCBlbWJlZGRlZExWaWV3W0NPTlRFWFRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVtYmVkZGVkTFZpZXdbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID4gMCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hDb250YWluc0RpcnR5VmlldyhlbWJlZGRlZExWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAvLyBSZWZyZXNoIGNoaWxkIGNvbXBvbmVudCB2aWV3cy5cbiAgICBjb25zdCBjb21wb25lbnRzID0gdFZpZXcuY29tcG9uZW50cztcbiAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoY29tcG9uZW50c1tpXSwgbFZpZXcpO1xuICAgICAgICAgICAgLy8gT25seSBhdHRhY2hlZCBjb21wb25lbnRzIHRoYXQgYXJlIENoZWNrQWx3YXlzIG9yIE9uUHVzaCBhbmQgZGlydHkgc2hvdWxkIGJlIHJlZnJlc2hlZFxuICAgICAgICAgICAgaWYgKHZpZXdBdHRhY2hlZFRvQ2hhbmdlRGV0ZWN0b3IoY29tcG9uZW50VmlldykgJiZcbiAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA+IDApIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcoY29tcG9uZW50Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnQkMShob3N0TFZpZXcsIGNvbXBvbmVudEhvc3RJZHgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUoaG9zdExWaWV3KSwgdHJ1ZSwgJ1Nob3VsZCBiZSBydW4gaW4gY3JlYXRpb24gbW9kZScpO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoY29tcG9uZW50SG9zdElkeCwgaG9zdExWaWV3KTtcbiAgICBjb25zdCBjb21wb25lbnRUVmlldyA9IGNvbXBvbmVudFZpZXdbVFZJRVddO1xuICAgIHN5bmNWaWV3V2l0aEJsdWVwcmludChjb21wb25lbnRUVmlldywgY29tcG9uZW50Vmlldyk7XG4gICAgcmVuZGVyVmlldyhjb21wb25lbnRUVmlldywgY29tcG9uZW50VmlldywgY29tcG9uZW50Vmlld1tDT05URVhUXSk7XG59XG4vKipcbiAqIFN5bmNzIGFuIExWaWV3IGluc3RhbmNlIHdpdGggaXRzIGJsdWVwcmludCBpZiB0aGV5IGhhdmUgZ290dGVuIG91dCBvZiBzeW5jLlxuICpcbiAqIFR5cGljYWxseSwgYmx1ZXByaW50cyBhbmQgdGhlaXIgdmlldyBpbnN0YW5jZXMgc2hvdWxkIGFsd2F5cyBiZSBpbiBzeW5jLCBzbyB0aGUgbG9vcCBoZXJlXG4gKiB3aWxsIGJlIHNraXBwZWQuIEhvd2V2ZXIsIGNvbnNpZGVyIHRoaXMgY2FzZSBvZiB0d28gY29tcG9uZW50cyBzaWRlLWJ5LXNpZGU6XG4gKlxuICogQXBwIHRlbXBsYXRlOlxuICogYGBgXG4gKiA8Y29tcD48L2NvbXA+XG4gKiA8Y29tcD48L2NvbXA+XG4gKiBgYGBcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHdpbGwgaGFwcGVuOlxuICogMS4gQXBwIHRlbXBsYXRlIGJlZ2lucyBwcm9jZXNzaW5nLlxuICogMi4gRmlyc3QgPGNvbXA+IGlzIG1hdGNoZWQgYXMgYSBjb21wb25lbnQgYW5kIGl0cyBMVmlldyBpcyBjcmVhdGVkLlxuICogMy4gU2Vjb25kIDxjb21wPiBpcyBtYXRjaGVkIGFzIGEgY29tcG9uZW50IGFuZCBpdHMgTFZpZXcgaXMgY3JlYXRlZC5cbiAqIDQuIEFwcCB0ZW1wbGF0ZSBjb21wbGV0ZXMgcHJvY2Vzc2luZywgc28gaXQncyB0aW1lIHRvIGNoZWNrIGNoaWxkIHRlbXBsYXRlcy5cbiAqIDUuIEZpcnN0IDxjb21wPiB0ZW1wbGF0ZSBpcyBjaGVja2VkLiBJdCBoYXMgYSBkaXJlY3RpdmUsIHNvIGl0cyBkZWYgaXMgcHVzaGVkIHRvIGJsdWVwcmludC5cbiAqIDYuIFNlY29uZCA8Y29tcD4gdGVtcGxhdGUgaXMgY2hlY2tlZC4gSXRzIGJsdWVwcmludCBoYXMgYmVlbiB1cGRhdGVkIGJ5IHRoZSBmaXJzdFxuICogPGNvbXA+IHRlbXBsYXRlLCBidXQgaXRzIExWaWV3IHdhcyBjcmVhdGVkIGJlZm9yZSB0aGlzIHVwZGF0ZSwgc28gaXQgaXMgb3V0IG9mIHN5bmMuXG4gKlxuICogTm90ZSB0aGF0IGVtYmVkZGVkIHZpZXdzIGluc2lkZSBuZ0ZvciBsb29wcyB3aWxsIG5ldmVyIGJlIG91dCBvZiBzeW5jIGJlY2F1c2UgdGhlc2Ugdmlld3NcbiAqIGFyZSBwcm9jZXNzZWQgYXMgc29vbiBhcyB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3YCB0aGF0IGNvbnRhaW5zIHRoZSBibHVlcHJpbnQgZm9yIHN5bmNpbmdcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byBzeW5jXG4gKi9cbmZ1bmN0aW9uIHN5bmNWaWV3V2l0aEJsdWVwcmludCh0VmlldywgbFZpZXcpIHtcbiAgICBmb3IgKGxldCBpID0gbFZpZXcubGVuZ3RoOyBpIDwgdFZpZXcuYmx1ZXByaW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxWaWV3LnB1c2godFZpZXcuYmx1ZXByaW50W2ldKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZHMgTFZpZXcgb3IgTENvbnRhaW5lciB0byB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IHZpZXcgdHJlZS5cbiAqXG4gKiBUaGlzIHN0cnVjdHVyZSB3aWxsIGJlIHVzZWQgdG8gdHJhdmVyc2UgdGhyb3VnaCBuZXN0ZWQgdmlld3MgdG8gcmVtb3ZlIGxpc3RlbmVyc1xuICogYW5kIGNhbGwgb25EZXN0cm95IGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgd2hlcmUgTFZpZXcgb3IgTENvbnRhaW5lciBzaG91bGQgYmUgYWRkZWRcbiAqIEBwYXJhbSBhZGp1c3RlZEhvc3RJbmRleCBJbmRleCBvZiB0aGUgdmlldydzIGhvc3Qgbm9kZSBpbiBMVmlld1tdLCBhZGp1c3RlZCBmb3IgaGVhZGVyXG4gKiBAcGFyYW0gbFZpZXdPckxDb250YWluZXIgVGhlIExWaWV3IG9yIExDb250YWluZXIgdG8gYWRkIHRvIHRoZSB2aWV3IHRyZWVcbiAqIEByZXR1cm5zIFRoZSBzdGF0ZSBwYXNzZWQgaW5cbiAqL1xuZnVuY3Rpb24gYWRkVG9WaWV3VHJlZShsVmlldywgbFZpZXdPckxDb250YWluZXIpIHtcbiAgICAvLyBUT0RPKGJlbmxlc2gvbWlza28pOiBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGluY29ycmVjdCwgYmVjYXVzZSBpdCBhbHdheXMgYWRkcyB0aGUgTENvbnRhaW5lclxuICAgIC8vIHRvIHRoZSBlbmQgb2YgdGhlIHF1ZXVlLCB3aGljaCBtZWFucyBpZiB0aGUgZGV2ZWxvcGVyIHJldHJpZXZlcyB0aGUgTENvbnRhaW5lcnMgZnJvbSBSTm9kZXMgb3V0XG4gICAgLy8gb2Ygb3JkZXIsIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHdpbGwgcnVuIG91dCBvZiBvcmRlciwgYXMgdGhlIGFjdCBvZiByZXRyaWV2aW5nIHRoZSB0aGVcbiAgICAvLyBMQ29udGFpbmVyIGZyb20gdGhlIFJOb2RlIGlzIHdoYXQgYWRkcyBpdCB0byB0aGUgcXVldWUuXG4gICAgaWYgKGxWaWV3W0NISUxEX0hFQURdKSB7XG4gICAgICAgIGxWaWV3W0NISUxEX1RBSUxdW05FWFRdID0gbFZpZXdPckxDb250YWluZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsVmlld1tDSElMRF9IRUFEXSA9IGxWaWV3T3JMQ29udGFpbmVyO1xuICAgIH1cbiAgICBsVmlld1tDSElMRF9UQUlMXSA9IGxWaWV3T3JMQ29udGFpbmVyO1xuICAgIHJldHVybiBsVmlld09yTENvbnRhaW5lcjtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gQ2hhbmdlIGRldGVjdGlvblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBNYXJrcyBjdXJyZW50IHZpZXcgYW5kIGFsbCBhbmNlc3RvcnMgZGlydHkuXG4gKlxuICogUmV0dXJucyB0aGUgcm9vdCB2aWV3IGJlY2F1c2UgaXQgaXMgZm91bmQgYXMgYSBieXByb2R1Y3Qgb2YgbWFya2luZyB0aGUgdmlldyB0cmVlXG4gKiBkaXJ0eSwgYW5kIGNhbiBiZSB1c2VkIGJ5IG1ldGhvZHMgdGhhdCBjb25zdW1lIG1hcmtWaWV3RGlydHkoKSB0byBlYXNpbHkgc2NoZWR1bGVcbiAqIGNoYW5nZSBkZXRlY3Rpb24uIE90aGVyd2lzZSwgc3VjaCBtZXRob2RzIHdvdWxkIG5lZWQgdG8gdHJhdmVyc2UgdXAgdGhlIHZpZXcgdHJlZVxuICogYW4gYWRkaXRpb25hbCB0aW1lIHRvIGdldCB0aGUgcm9vdCB2aWV3IGFuZCBzY2hlZHVsZSBhIHRpY2sgb24gaXQuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBzdGFydGluZyBMVmlldyB0byBtYXJrIGRpcnR5XG4gKiBAcmV0dXJucyB0aGUgcm9vdCBMVmlld1xuICovXG5mdW5jdGlvbiBtYXJrVmlld0RpcnR5KGxWaWV3KSB7XG4gICAgd2hpbGUgKGxWaWV3KSB7XG4gICAgICAgIGxWaWV3W0ZMQUdTXSB8PSA2NCAvKiBEaXJ0eSAqLztcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0TFZpZXdQYXJlbnQobFZpZXcpO1xuICAgICAgICAvLyBTdG9wIHRyYXZlcnNpbmcgdXAgYXMgc29vbiBhcyB5b3UgZmluZCBhIHJvb3QgdmlldyB0aGF0IHdhc24ndCBhdHRhY2hlZCB0byBhbnkgY29udGFpbmVyXG4gICAgICAgIGlmIChpc1Jvb3RWaWV3KGxWaWV3KSAmJiAhcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29udGludWUgb3RoZXJ3aXNlXG4gICAgICAgIGxWaWV3ID0gcGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVXNlZCB0byBzY2hlZHVsZSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBVbmxpa2UgYHRpY2tgLCBgc2NoZWR1bGVUaWNrYCBjb2FsZXNjZXMgbXVsdGlwbGUgY2FsbHMgaW50byBvbmUgY2hhbmdlIGRldGVjdGlvbiBydW4uXG4gKiBJdCBpcyB1c3VhbGx5IGNhbGxlZCBpbmRpcmVjdGx5IGJ5IGNhbGxpbmcgYG1hcmtEaXJ0eWAgd2hlbiB0aGUgdmlldyBuZWVkcyB0byBiZVxuICogcmUtcmVuZGVyZWQuXG4gKlxuICogVHlwaWNhbGx5IGBzY2hlZHVsZVRpY2tgIHVzZXMgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdG8gY29hbGVzY2UgbXVsdGlwbGVcbiAqIGBzY2hlZHVsZVRpY2tgIHJlcXVlc3RzLiBUaGUgc2NoZWR1bGluZyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGRlbiBpblxuICogYHJlbmRlckNvbXBvbmVudGAncyBgc2NoZWR1bGVyYCBvcHRpb24uXG4gKi9cbmZ1bmN0aW9uIHNjaGVkdWxlVGljayhyb290Q29udGV4dCwgZmxhZ3MpIHtcbiAgICBjb25zdCBub3RoaW5nU2NoZWR1bGVkID0gcm9vdENvbnRleHQuZmxhZ3MgPT09IDAgLyogRW1wdHkgKi87XG4gICAgaWYgKG5vdGhpbmdTY2hlZHVsZWQgJiYgcm9vdENvbnRleHQuY2xlYW4gPT0gX0NMRUFOX1BST01JU0UpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzkyOTZcbiAgICAgICAgLy8gc2hvdWxkIG9ubHkgYXR0YWNoIHRoZSBmbGFncyB3aGVuIHJlYWxseSBzY2hlZHVsaW5nIGEgdGlja1xuICAgICAgICByb290Q29udGV4dC5mbGFncyB8PSBmbGFncztcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgcm9vdENvbnRleHQuY2xlYW4gPSBuZXcgUHJvbWlzZSgocikgPT4gcmVzID0gcik7XG4gICAgICAgIHJvb3RDb250ZXh0LnNjaGVkdWxlcigoKSA9PiB7XG4gICAgICAgICAgICBpZiAocm9vdENvbnRleHQuZmxhZ3MgJiAxIC8qIERldGVjdENoYW5nZXMgKi8pIHtcbiAgICAgICAgICAgICAgICByb290Q29udGV4dC5mbGFncyAmPSB+MSAvKiBEZXRlY3RDaGFuZ2VzICovO1xuICAgICAgICAgICAgICAgIHRpY2tSb290Q29udGV4dChyb290Q29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm9vdENvbnRleHQuZmxhZ3MgJiAyIC8qIEZsdXNoUGxheWVycyAqLykge1xuICAgICAgICAgICAgICAgIHJvb3RDb250ZXh0LmZsYWdzICY9IH4yIC8qIEZsdXNoUGxheWVycyAqLztcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJIYW5kbGVyID0gcm9vdENvbnRleHQucGxheWVySGFuZGxlcjtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJIYW5kbGVyLmZsdXNoUGxheWVycygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3RDb250ZXh0LmNsZWFuID0gX0NMRUFOX1BST01JU0U7XG4gICAgICAgICAgICByZXMobnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2tSb290Q29udGV4dChyb290Q29udGV4dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm9vdENvbnRleHQuY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByb290Q29tcG9uZW50ID0gcm9vdENvbnRleHQuY29tcG9uZW50c1tpXTtcbiAgICAgICAgY29uc3QgbFZpZXcgPSByZWFkUGF0Y2hlZExWaWV3KHJvb3RDb21wb25lbnQpO1xuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRWaWV3LnRlbXBsYXRlLCByb290Q29tcG9uZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodFZpZXcsIGxWaWV3LCBjb250ZXh0KSB7XG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5iZWdpbilcbiAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVmcmVzaFZpZXcodFZpZXcsIGxWaWV3LCB0Vmlldy50ZW1wbGF0ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihsVmlldywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmIChyZW5kZXJlckZhY3RvcnkuZW5kKVxuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmVuZCgpO1xuICAgIH1cbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBwZXJmb3JtIGNoYW5nZSBkZXRlY3Rpb24gb24gYSByb290IHZpZXcgYW5kIGl0cyBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkIG9uLlxuICovXG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzSW5Sb290VmlldyhsVmlldykge1xuICAgIHRpY2tSb290Q29udGV4dChsVmlld1tDT05URVhUXSk7XG59XG5mdW5jdGlvbiBjaGVja05vQ2hhbmdlc0ludGVybmFsKHRWaWV3LCB2aWV3LCBjb250ZXh0KSB7XG4gICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodFZpZXcsIHZpZXcsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZShmYWxzZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDaGVja3MgdGhlIGNoYW5nZSBkZXRlY3RvciBvbiBhIHJvb3QgdmlldyBhbmQgaXRzIGNvbXBvbmVudHMsIGFuZCB0aHJvd3MgaWYgYW55IGNoYW5nZXMgYXJlXG4gKiBkZXRlY3RlZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byB2ZXJpZnkgdGhhdCBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24gZG9lc24ndFxuICogaW50cm9kdWNlIG90aGVyIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHdoaWNoIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHNob3VsZCBiZSBjaGVja2VkIG9uLlxuICovXG5mdW5jdGlvbiBjaGVja05vQ2hhbmdlc0luUm9vdFZpZXcobFZpZXcpIHtcbiAgICBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJblJvb3RWaWV3KGxWaWV3KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUoZmFsc2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVWaWV3UXVlcnlGbihmbGFncywgdmlld1F1ZXJ5Rm4sIGNvbXBvbmVudCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHZpZXdRdWVyeUZuLCAnVmlldyBxdWVyaWVzIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgbXVzdCBiZSBkZWZpbmVkLicpO1xuICAgIHNldEN1cnJlbnRRdWVyeUluZGV4KDApO1xuICAgIHZpZXdRdWVyeUZuKGZsYWdzLCBjb21wb25lbnQpO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBCaW5kaW5ncyAmIGludGVycG9sYXRpb25zXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqIFN0b3JlcyBtZXRhLWRhdGEgZm9yIGEgcHJvcGVydHkgYmluZGluZyB0byBiZSB1c2VkIGJ5IFRlc3RCZWQncyBgRGVidWdFbGVtZW50LnByb3BlcnRpZXNgLlxuICpcbiAqIEluIG9yZGVyIHRvIHN1cHBvcnQgVGVzdEJlZCdzIGBEZWJ1Z0VsZW1lbnQucHJvcGVydGllc2Agd2UgbmVlZCB0byBzYXZlLCBmb3IgZWFjaCBiaW5kaW5nOlxuICogLSBhIGJvdW5kIHByb3BlcnR5IG5hbWU7XG4gKiAtIGEgc3RhdGljIHBhcnRzIG9mIGludGVycG9sYXRlZCBzdHJpbmdzO1xuICpcbiAqIEEgZ2l2ZW4gcHJvcGVydHkgbWV0YWRhdGEgaXMgc2F2ZWQgYXQgdGhlIGJpbmRpbmcncyBpbmRleCBpbiB0aGUgYFRWaWV3LmRhdGFgIChpbiBvdGhlciB3b3JkcywgYVxuICogcHJvcGVydHkgYmluZGluZyBtZXRhZGF0YSB3aWxsIGJlIHN0b3JlZCBpbiBgVFZpZXcuZGF0YWAgYXQgdGhlIHNhbWUgaW5kZXggYXMgYSBib3VuZCB2YWx1ZSBpblxuICogYExWaWV3YCkuIE1ldGFkYXRhIGFyZSByZXByZXNlbnRlZCBhcyBgSU5URVJQT0xBVElPTl9ERUxJTUlURVJgLWRlbGltaXRlZCBzdHJpbmcgd2l0aCB0aGVcbiAqIGZvbGxvd2luZyBmb3JtYXQ6XG4gKiAtIGBwcm9wZXJ0eU5hbWVgIGZvciBib3VuZCBwcm9wZXJ0aWVzO1xuICogLSBgcHJvcGVydHlOYW1l77+9cHJlZml477+9aW50ZXJwb2xhdGlvbl9zdGF0aWNfcGFydDHvv70uLmludGVycG9sYXRpb25fc3RhdGljX3BhcnRO77+9c3VmZml4YCBmb3JcbiAqIGludGVycG9sYXRlZCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIG1ldGEtZGF0YSB3aWxsIGJlIHNhdmVkO1xuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgdGhhdCBpcyBhIHRhcmdldCBvZiB0aGUgYmluZGluZztcbiAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgYm91bmQgcHJvcGVydHkgbmFtZTtcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggYmluZGluZyBpbmRleCBpbiBgTFZpZXdgXG4gKiBAcGFyYW0gaW50ZXJwb2xhdGlvblBhcnRzIHN0YXRpYyBpbnRlcnBvbGF0aW9uIHBhcnRzIChmb3IgcHJvcGVydHkgaW50ZXJwb2xhdGlvbnMpXG4gKi9cbmZ1bmN0aW9uIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodERhdGEsIHROb2RlLCBwcm9wZXJ0eU5hbWUsIGJpbmRpbmdJbmRleCwgLi4uaW50ZXJwb2xhdGlvblBhcnRzKSB7XG4gICAgLy8gQmluZGluZyBtZXRhLWRhdGEgYXJlIHN0b3JlZCBvbmx5IHRoZSBmaXJzdCB0aW1lIGEgZ2l2ZW4gcHJvcGVydHkgaW5zdHJ1Y3Rpb24gaXMgcHJvY2Vzc2VkLlxuICAgIC8vIFNpbmNlIHdlIGRvbid0IGhhdmUgYSBjb25jZXB0IG9mIHRoZSBcImZpcnN0IHVwZGF0ZSBwYXNzXCIgd2UgbmVlZCB0byBjaGVjayBmb3IgcHJlc2VuY2Ugb2YgdGhlXG4gICAgLy8gYmluZGluZyBtZXRhLWRhdGEgdG8gZGVjaWRlIGlmIG9uZSBzaG91bGQgYmUgc3RvcmVkIChvciBpZiB3YXMgc3RvcmVkIGFscmVhZHkpLlxuICAgIGlmICh0RGF0YVtiaW5kaW5nSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgIGlmICh0Tm9kZS5pbnB1dHMgPT0gbnVsbCB8fCAhdE5vZGUuaW5wdXRzW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BCaW5kaW5nSWR4cyA9IHROb2RlLnByb3BlcnR5QmluZGluZ3MgfHwgKHROb2RlLnByb3BlcnR5QmluZGluZ3MgPSBbXSk7XG4gICAgICAgICAgICBwcm9wQmluZGluZ0lkeHMucHVzaChiaW5kaW5nSW5kZXgpO1xuICAgICAgICAgICAgbGV0IGJpbmRpbmdNZXRhZGF0YSA9IHByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGJpbmRpbmdNZXRhZGF0YSArPVxuICAgICAgICAgICAgICAgICAgICBJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiArIGludGVycG9sYXRpb25QYXJ0cy5qb2luKElOVEVSUE9MQVRJT05fREVMSU1JVEVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHREYXRhW2JpbmRpbmdJbmRleF0gPSBiaW5kaW5nTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBDTEVBTl9QUk9NSVNFID0gX0NMRUFOX1BST01JU0U7XG5mdW5jdGlvbiBnZXRPckNyZWF0ZUxWaWV3Q2xlYW51cCh2aWV3KSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiB2aWV3W0NMRUFOVVBdIHx8ICh2aWV3W0NMRUFOVVBdID0gbmdEZXZNb2RlID8gbmV3IExDbGVhbnVwKCkgOiBbXSk7XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0Vmlldykge1xuICAgIHJldHVybiB0Vmlldy5jbGVhbnVwIHx8ICh0Vmlldy5jbGVhbnVwID0gbmdEZXZNb2RlID8gbmV3IFRDbGVhbnVwKCkgOiBbXSk7XG59XG4vKipcbiAqIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSB0aGUgc3ViIGNvbXBvbmVudCdzIHJlbmRlcmVyIG5lZWRzIHRvIGJlIGluY2x1ZGVkXG4gKiBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHJlbmRlcmVyIChzZWUgdGhlIGNvbXBvbmVudFN5bnRoZXRpY0hvc3QqIGluc3RydWN0aW9ucykuXG4gKi9cbmZ1bmN0aW9uIGxvYWRDb21wb25lbnRSZW5kZXJlcihjdXJyZW50RGVmLCB0Tm9kZSwgbFZpZXcpIHtcbiAgICAvLyBUT0RPKEZXLTIwNDMpOiB0aGUgYGN1cnJlbnREZWZgIGlzIG51bGwgd2hlbiBob3N0IGJpbmRpbmdzIGFyZSBpbnZva2VkIHdoaWxlIGNyZWF0aW5nIHJvb3RcbiAgICAvLyBjb21wb25lbnQgKHNlZSBwYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXIzL2NvbXBvbmVudC50cykuIFRoaXMgaXMgbm90IGNvbnNpc3RlbnQgd2l0aCB0aGUgcHJvY2Vzc1xuICAgIC8vIG9mIGNyZWF0aW5nIGlubmVyIGNvbXBvbmVudHMsIHdoZW4gY3VycmVudCBkaXJlY3RpdmUgaW5kZXggaXMgYXZhaWxhYmxlIGluIHRoZSBzdGF0ZS4gSW4gb3JkZXJcbiAgICAvLyB0byBhdm9pZCByZWx5aW5nIG9uIGN1cnJlbnQgZGVmIGJlaW5nIGBudWxsYCAodGh1cyBzcGVjaWFsLWNhc2luZyByb290IGNvbXBvbmVudCBjcmVhdGlvbiksIHRoZVxuICAgIC8vIHByb2Nlc3Mgb2YgY3JlYXRpbmcgcm9vdCBjb21wb25lbnQgc2hvdWxkIGJlIHVuaWZpZWQgd2l0aCB0aGUgcHJvY2VzcyBvZiBjcmVhdGluZyBpbm5lclxuICAgIC8vIGNvbXBvbmVudHMuXG4gICAgaWYgKGN1cnJlbnREZWYgPT09IG51bGwgfHwgaXNDb21wb25lbnREZWYoY3VycmVudERlZikpIHtcbiAgICAgICAgbFZpZXcgPSB1bndyYXBMVmlldyhsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgIH1cbiAgICByZXR1cm4gbFZpZXdbUkVOREVSRVJdO1xufVxuLyoqIEhhbmRsZXMgYW4gZXJyb3IgdGhyb3duIGluIGFuIExWaWV3LiAqL1xuZnVuY3Rpb24gaGFuZGxlRXJyb3IobFZpZXcsIGVycm9yKSB7XG4gICAgY29uc3QgaW5qZWN0b3IgPSBsVmlld1tJTkpFQ1RPUiQxXTtcbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSBpbmplY3RvciA/IGluamVjdG9yLmdldChFcnJvckhhbmRsZXIsIG51bGwpIDogbnVsbDtcbiAgICBlcnJvckhhbmRsZXIgJiYgZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGVycm9yKTtcbn1cbi8qKlxuICogU2V0IHRoZSBpbnB1dHMgb2YgZGlyZWN0aXZlcyBhdCB0aGUgY3VycmVudCBub2RlIHRvIGNvcnJlc3BvbmRpbmcgdmFsdWUuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBjdXJyZW50IFRWaWV3XG4gKiBAcGFyYW0gbFZpZXcgdGhlIGBMVmlld2Agd2hpY2ggY29udGFpbnMgdGhlIGRpcmVjdGl2ZXMuXG4gKiBAcGFyYW0gaW5wdXRzIG1hcHBpbmcgYmV0d2VlbiB0aGUgcHVibGljIFwiaW5wdXRcIiBuYW1lIGFuZCBwcml2YXRlbHkta25vd24sXG4gKiAgICAgICAgcG9zc2libHkgbWluaWZpZWQsIHByb3BlcnR5IG5hbWVzIHRvIHdyaXRlIHRvLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0SW5wdXRzRm9yUHJvcGVydHkodFZpZXcsIGxWaWV3LCBpbnB1dHMsIHB1YmxpY05hbWUsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOykge1xuICAgICAgICBjb25zdCBpbmRleCA9IGlucHV0c1tpKytdO1xuICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9IGlucHV0c1tpKytdO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGxWaWV3W2luZGV4XTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGRlZi5zZXRJbnB1dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGVmLnNldElucHV0KGluc3RhbmNlLCB2YWx1ZSwgcHVibGljTmFtZSwgcHJpdmF0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2VbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZXMgYSB0ZXh0IGJpbmRpbmcgYXQgYSBnaXZlbiBpbmRleCBpbiBhIGdpdmVuIExWaWV3LlxuICovXG5mdW5jdGlvbiB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBpbmRleCwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKHZhbHVlLCAnVmFsdWUgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdFNhbWUodmFsdWUsIE5PX0NIQU5HRSwgJ3ZhbHVlIHNob3VsZCBub3QgYmUgTk9fQ0hBTkdFJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBnZXROYXRpdmVCeUluZGV4KGluZGV4LCBsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZWxlbWVudCwgJ25hdGl2ZSBlbGVtZW50IHNob3VsZCBleGlzdCcpO1xuICAgIHVwZGF0ZVRleHROb2RlKGxWaWV3W1JFTkRFUkVSXSwgZWxlbWVudCwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcHV0ZSB0aGUgc3RhdGljIHN0eWxpbmcgKGNsYXNzL3N0eWxlKSBmcm9tIGBUQXR0cmlidXRlc2AuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyBgZmlyc3RDcmVhdGVQYXNzYCBvbmx5LlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgYFROb2RlYCBpbnRvIHdoaWNoIHRoZSBzdHlsaW5nIGluZm9ybWF0aW9uIHNob3VsZCBiZSBsb2FkZWQuXG4gKiBAcGFyYW0gYXR0cnMgYFRBdHRyaWJ1dGVzYCBjb250YWluaW5nIHRoZSBzdHlsaW5nIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHdyaXRlVG9Ib3N0IFdoZXJlIHNob3VsZCB0aGUgcmVzdWx0aW5nIHN0YXRpYyBzdHlsZXMgYmUgd3JpdHRlbj9cbiAqICAgLSBgZmFsc2VgIFdyaXRlIHRvIGBUTm9kZS5zdHlsZXNXaXRob3V0SG9zdGAgLyBgVE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0YFxuICogICAtIGB0cnVlYCBXcml0ZSB0byBgVE5vZGUuc3R5bGVzYCAvIGBUTm9kZS5jbGFzc2VzYFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3RhdGljU3R5bGluZyh0Tm9kZSwgYXR0cnMsIHdyaXRlVG9Ib3N0KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyhnZXRUVmlldygpLCAnRXhwZWN0aW5nIHRvIGJlIGNhbGxlZCBpbiBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICBsZXQgc3R5bGVzID0gd3JpdGVUb0hvc3QgPyB0Tm9kZS5zdHlsZXMgOiBudWxsO1xuICAgIGxldCBjbGFzc2VzID0gd3JpdGVUb0hvc3QgPyB0Tm9kZS5jbGFzc2VzIDogbnVsbDtcbiAgICBsZXQgbW9kZSA9IDA7XG4gICAgaWYgKGF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gMSAvKiBDbGFzc2VzICovKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IGNvbmNhdFN0cmluZ3NXaXRoU3BhY2UoY2xhc3NlcywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PSAyIC8qIFN0eWxlcyAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVWYWx1ZSA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAgICAgc3R5bGVzID0gY29uY2F0U3RyaW5nc1dpdGhTcGFjZShzdHlsZXMsIHN0eWxlICsgJzogJyArIHN0eWxlVmFsdWUgKyAnOycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHdyaXRlVG9Ib3N0ID8gdE5vZGUuc3R5bGVzID0gc3R5bGVzIDogdE5vZGUuc3R5bGVzV2l0aG91dEhvc3QgPSBzdHlsZXM7XG4gICAgd3JpdGVUb0hvc3QgPyB0Tm9kZS5jbGFzc2VzID0gY2xhc3NlcyA6IHROb2RlLmNsYXNzZXNXaXRob3V0SG9zdCA9IGNsYXNzZXM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTeW5jaHJvbm91c2x5IHBlcmZvcm0gY2hhbmdlIGRldGVjdGlvbiBvbiBhIGNvbXBvbmVudCAoYW5kIHBvc3NpYmx5IGl0cyBzdWItY29tcG9uZW50cykuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0cmlnZ2VycyBjaGFuZ2UgZGV0ZWN0aW9uIGluIGEgc3luY2hyb25vdXMgd2F5IG9uIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkIG9uLlxuICovXG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIGNvbnN0IHZpZXcgPSBnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZShjb21wb25lbnQpO1xuICAgIGRldGVjdENoYW5nZXNJbnRlcm5hbCh2aWV3W1RWSUVXXSwgdmlldywgY29tcG9uZW50KTtcbn1cbi8qKlxuICogTWFya3MgdGhlIGNvbXBvbmVudCBhcyBkaXJ0eSAobmVlZGluZyBjaGFuZ2UgZGV0ZWN0aW9uKS4gTWFya2luZyBhIGNvbXBvbmVudCBkaXJ0eSB3aWxsXG4gKiBzY2hlZHVsZSBhIGNoYW5nZSBkZXRlY3Rpb24gb24gaXQgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICpcbiAqIE1hcmtpbmcgYW4gYWxyZWFkeSBkaXJ0eSBjb21wb25lbnQgYXMgZGlydHkgd29uJ3QgZG8gYW55dGhpbmcuIE9ubHkgb25lIG91dHN0YW5kaW5nIGNoYW5nZVxuICogZGV0ZWN0aW9uIGNhbiBiZSBzY2hlZHVsZWQgcGVyIGNvbXBvbmVudCB0cmVlLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIG1hcmsgYXMgZGlydHkuXG4gKi9cbmZ1bmN0aW9uIG1hcmtEaXJ0eShjb21wb25lbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjb21wb25lbnQsICdjb21wb25lbnQnKTtcbiAgICBjb25zdCByb290VmlldyA9IG1hcmtWaWV3RGlydHkoZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50KSk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocm9vdFZpZXdbQ09OVEVYVF0sICdyb290Q29udGV4dCBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgIHNjaGVkdWxlVGljayhyb290Vmlld1tDT05URVhUXSwgMSAvKiBEZXRlY3RDaGFuZ2VzICovKTtcbn1cbi8qKlxuICogVXNlZCB0byBwZXJmb3JtIGNoYW5nZSBkZXRlY3Rpb24gb24gdGhlIHdob2xlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgZGV0ZWN0Q2hhbmdlc2AsIGJ1dCBpbnZva2VkIG9uIHJvb3QgY29tcG9uZW50LiBBZGRpdGlvbmFsbHksIGB0aWNrYFxuICogZXhlY3V0ZXMgbGlmZWN5Y2xlIGhvb2tzIGFuZCBjb25kaXRpb25hbGx5IGNoZWNrcyBjb21wb25lbnRzIGJhc2VkIG9uIHRoZWlyXG4gKiBgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lgIGFuZCBkaXJ0aW5lc3MuXG4gKlxuICogVGhlIHByZWZlcnJlZCB3YXkgdG8gdHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uIGlzIHRvIGNhbGwgYG1hcmtEaXJ0eWAuIGBtYXJrRGlydHlgIGludGVybmFsbHlcbiAqIHNjaGVkdWxlcyBgdGlja2AgdXNpbmcgYSBzY2hlZHVsZXIgaW4gb3JkZXIgdG8gY29hbGVzY2UgbXVsdGlwbGUgYG1hcmtEaXJ0eWAgY2FsbHMgaW50byBhXG4gKiBzaW5nbGUgY2hhbmdlIGRldGVjdGlvbiBydW4uIEJ5IGRlZmF1bHQsIHRoZSBzY2hlZHVsZXIgaXMgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAsIGJ1dCBjYW5cbiAqIGJlIGNoYW5nZWQgd2hlbiBjYWxsaW5nIGByZW5kZXJDb21wb25lbnRgIGFuZCBwcm92aWRpbmcgdGhlIGBzY2hlZHVsZXJgIG9wdGlvbi5cbiAqL1xuZnVuY3Rpb24gdGljayhjb21wb25lbnQpIHtcbiAgICBjb25zdCByb290VmlldyA9IGdldFJvb3RWaWV3KGNvbXBvbmVudCk7XG4gICAgY29uc3Qgcm9vdENvbnRleHQgPSByb290Vmlld1tDT05URVhUXTtcbiAgICB0aWNrUm9vdENvbnRleHQocm9vdENvbnRleHQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gSW5qZWN0aW9uVG9rZW4gdGhhdCBnZXRzIHRoZSBjdXJyZW50IGBJbmplY3RvcmAgZm9yIGBjcmVhdGVJbmplY3RvcigpYC1zdHlsZSBpbmplY3RvcnMuXG4gKlxuICogUmVxdWVzdGluZyB0aGlzIHRva2VuIGluc3RlYWQgb2YgYEluamVjdG9yYCBhbGxvd3MgYFN0YXRpY0luamVjdG9yYCB0byBiZSB0cmVlLXNoYWtlbiBmcm9tIGFcbiAqIHByb2plY3QuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBJTkpFQ1RPUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignSU5KRUNUT1InLCBcbi8vIERpc3NhYmxlIHRzbGludCBiZWNhdXNlIHRoaXMgaXMgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQgbm90IHRvcCBsZXZlbCBwcm9wIGFjY2Vzcy5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4tMSAvKiBJbmplY3RvciAqLyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgTnVsbEluamVjdG9yIHtcbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYE51bGxJbmplY3RvckVycm9yOiBObyBwcm92aWRlciBmb3IgJHtzdHJpbmdpZnkodG9rZW4pfSFgKTtcbiAgICAgICAgICAgIGVycm9yLm5hbWUgPSAnTnVsbEluamVjdG9yRXJyb3InO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gaW50ZXJuYWwgdG9rZW4gd2hvc2UgcHJlc2VuY2UgaW4gYW4gaW5qZWN0b3IgaW5kaWNhdGVzIHRoYXQgdGhlIGluamVjdG9yIHNob3VsZCB0cmVhdCBpdHNlbGZcbiAqIGFzIGEgcm9vdCBzY29wZWQgaW5qZWN0b3Igd2hlbiBwcm9jZXNzaW5nIHJlcXVlc3RzIGZvciB1bmtub3duIHRva2VucyB3aGljaCBtYXkgaW5kaWNhdGVcbiAqIHRoZXkgYXJlIHByb3ZpZGVkIGluIHRoZSByb290IHNjb3BlLlxuICovXG5jb25zdCBJTkpFQ1RPUl9TQ09QRSA9IG5ldyBJbmplY3Rpb25Ub2tlbignU2V0IEluamVjdG9yIHNjb3BlLicpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFya2VyIHdoaWNoIGluZGljYXRlcyB0aGF0IGEgdmFsdWUgaGFzIG5vdCB5ZXQgYmVlbiBjcmVhdGVkIGZyb20gdGhlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKi9cbmNvbnN0IE5PVF9ZRVQgPSB7fTtcbi8qKlxuICogTWFya2VyIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGZvciBhIHRva2VuIGlzIGluIHRoZSBwcm9jZXNzIG9mIGJlaW5nIGNhbGxlZC5cbiAqXG4gKiBJZiB0aGUgaW5qZWN0b3IgaXMgYXNrZWQgdG8gaW5qZWN0IGEgdG9rZW4gd2l0aCBpdHMgdmFsdWUgc2V0IHRvIENJUkNVTEFSLCB0aGF0IGluZGljYXRlc1xuICogaW5qZWN0aW9uIG9mIGEgZGVwZW5kZW5jeSBoYXMgcmVjdXJzaXZlbHkgYXR0ZW1wdGVkIHRvIGluamVjdCB0aGUgb3JpZ2luYWwgdG9rZW4sIGFuZCB0aGVyZSBpc1xuICogYSBjaXJjdWxhciBkZXBlbmRlbmN5IGFtb25nIHRoZSBwcm92aWRlcnMuXG4gKi9cbmNvbnN0IENJUkNVTEFSID0ge307XG4vKipcbiAqIEEgbGF6aWx5IGluaXRpYWxpemVkIE51bGxJbmplY3Rvci5cbiAqL1xubGV0IE5VTExfSU5KRUNUT1IkMSA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGdldE51bGxJbmplY3RvcigpIHtcbiAgICBpZiAoTlVMTF9JTkpFQ1RPUiQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgTlVMTF9JTkpFQ1RPUiQxID0gbmV3IE51bGxJbmplY3RvcigpO1xuICAgIH1cbiAgICByZXR1cm4gTlVMTF9JTkpFQ1RPUiQxO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgYEluamVjdG9yYCB3aGljaCBpcyBjb25maWd1cmVkIHVzaW5nIGEgYGRlZlR5cGVgIG9mIGBJbmplY3RvclR5cGU8YW55PmBzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IoZGVmVHlwZSwgcGFyZW50ID0gbnVsbCwgYWRkaXRpb25hbFByb3ZpZGVycyA9IG51bGwsIG5hbWUpIHtcbiAgICBjb25zdCBpbmplY3RvciA9IGNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzKGRlZlR5cGUsIHBhcmVudCwgYWRkaXRpb25hbFByb3ZpZGVycywgbmFtZSk7XG4gICAgaW5qZWN0b3IuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCk7XG4gICAgcmV0dXJuIGluamVjdG9yO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGluamVjdG9yIHdpdGhvdXQgZWFnZXJseSByZXNvbHZpbmcgaXRzIGluamVjdG9yIHR5cGVzLiBDYW4gYmUgdXNlZCBpbiBwbGFjZXNcbiAqIHdoZXJlIHJlc29sdmluZyB0aGUgaW5qZWN0b3IgdHlwZXMgaW1tZWRpYXRlbHkgY2FuIGxlYWQgdG8gYW4gaW5maW5pdGUgbG9vcC4gVGhlIGluamVjdG9yIHR5cGVzXG4gKiBzaG91bGQgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciBwb2ludCBieSBjYWxsaW5nIGBfcmVzb2x2ZUluamVjdG9yRGVmVHlwZXNgLlxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmplY3RvcldpdGhvdXRJbmplY3Rvckluc3RhbmNlcyhkZWZUeXBlLCBwYXJlbnQgPSBudWxsLCBhZGRpdGlvbmFsUHJvdmlkZXJzID0gbnVsbCwgbmFtZSkge1xuICAgIHJldHVybiBuZXcgUjNJbmplY3RvcihkZWZUeXBlLCBhZGRpdGlvbmFsUHJvdmlkZXJzLCBwYXJlbnQgfHwgZ2V0TnVsbEluamVjdG9yKCksIG5hbWUpO1xufVxuY2xhc3MgUjNJbmplY3RvciB7XG4gICAgY29uc3RydWN0b3IoZGVmLCBhZGRpdGlvbmFsUHJvdmlkZXJzLCBwYXJlbnQsIHNvdXJjZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2YgdG9rZW5zIHRvIHJlY29yZHMgd2hpY2ggY29udGFpbiB0aGUgaW5zdGFuY2VzIG9mIHRob3NlIHRva2Vucy5cbiAgICAgICAgICogLSBgbnVsbGAgdmFsdWUgaW1wbGllcyB0aGF0IHdlIGRvbid0IGhhdmUgdGhlIHJlY29yZC4gVXNlZCBieSB0cmVlLXNoYWthYmxlIGluamVjdG9yc1xuICAgICAgICAgKiB0byBwcmV2ZW50IGZ1cnRoZXIgc2VhcmNoZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY29yZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNpdGl2ZSBzZXQgb2YgYEluamVjdG9yVHlwZWBzIHdoaWNoIGRlZmluZSB0aGlzIGluamVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmplY3RvckRlZlR5cGVzID0gbmV3IFNldCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IG9mIHZhbHVlcyBpbnN0YW50aWF0ZWQgYnkgdGhpcyBpbmplY3RvciB3aGljaCBjb250YWluIGBuZ09uRGVzdHJveWAgbGlmZWN5Y2xlIGhvb2tzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkRlc3Ryb3kgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBkZWR1cFN0YWNrID0gW107XG4gICAgICAgIC8vIFN0YXJ0IG9mZiBieSBjcmVhdGluZyBSZWNvcmRzIGZvciBldmVyeSBwcm92aWRlciBkZWNsYXJlZCBpbiBldmVyeSBJbmplY3RvclR5cGVcbiAgICAgICAgLy8gaW5jbHVkZWQgdHJhbnNpdGl2ZWx5IGluIGFkZGl0aW9uYWwgcHJvdmlkZXJzIHRoZW4gZG8gdGhlIHNhbWUgZm9yIGBkZWZgLiBUaGlzIG9yZGVyIGlzXG4gICAgICAgIC8vIGltcG9ydGFudCBiZWNhdXNlIGBkZWZgIG1heSBpbmNsdWRlIHByb3ZpZGVycyB0aGF0IG92ZXJyaWRlIG9uZXMgaW4gYWRkaXRpb25hbFByb3ZpZGVycy5cbiAgICAgICAgYWRkaXRpb25hbFByb3ZpZGVycyAmJlxuICAgICAgICAgICAgZGVlcEZvckVhY2goYWRkaXRpb25hbFByb3ZpZGVycywgcHJvdmlkZXIgPT4gdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIGRlZiwgYWRkaXRpb25hbFByb3ZpZGVycykpO1xuICAgICAgICBkZWVwRm9yRWFjaChbZGVmXSwgaW5qZWN0b3JEZWYgPT4gdGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKGluamVjdG9yRGVmLCBbXSwgZGVkdXBTdGFjaykpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIElOSkVDVE9SIHRva2VuIHByb3ZpZGVzIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgIHRoaXMucmVjb3Jkcy5zZXQoSU5KRUNUT1IsIG1ha2VSZWNvcmQodW5kZWZpbmVkLCB0aGlzKSk7XG4gICAgICAgIC8vIERldGVjdCB3aGV0aGVyIHRoaXMgaW5qZWN0b3IgaGFzIHRoZSBBUFBfUk9PVF9TQ09QRSB0b2tlbiBhbmQgdGh1cyBzaG91bGQgcHJvdmlkZVxuICAgICAgICAvLyBhbnkgaW5qZWN0YWJsZSBzY29wZWQgdG8gQVBQX1JPT1RfU0NPUEUuXG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMucmVjb3Jkcy5nZXQoSU5KRUNUT1JfU0NPUEUpO1xuICAgICAgICB0aGlzLnNjb3BlID0gcmVjb3JkICE9IG51bGwgPyByZWNvcmQudmFsdWUgOiBudWxsO1xuICAgICAgICAvLyBTb3VyY2UgbmFtZSwgdXNlZCBmb3IgZGVidWdnaW5nXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlIHx8ICh0eXBlb2YgZGVmID09PSAnb2JqZWN0JyA/IG51bGwgOiBzdHJpbmdpZnkoZGVmKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IHRoaXMgaW5qZWN0b3Igd2FzIHByZXZpb3VzbHkgZGVzdHJveWVkLlxuICAgICAqL1xuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXN0cm95ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGluamVjdG9yIGFuZCByZWxlYXNlIHJlZmVyZW5jZXMgdG8gZXZlcnkgaW5zdGFuY2Ugb3IgcHJvdmlkZXIgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAqXG4gICAgICogQWxzbyBjYWxscyB0aGUgYE9uRGVzdHJveWAgbGlmZWN5Y2xlIGhvb2tzIG9mIGV2ZXJ5IGluc3RhbmNlIHRoYXQgd2FzIGNyZWF0ZWQgZm9yIHdoaWNoIGFcbiAgICAgKiBob29rIHdhcyBmb3VuZC5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgICAgICAvLyBTZXQgZGVzdHJveWVkID0gdHJ1ZSBmaXJzdCwgaW4gY2FzZSBsaWZlY3ljbGUgaG9va3MgcmUtZW50ZXIgZGVzdHJveSgpLlxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2FsbCBhbGwgdGhlIGxpZmVjeWNsZSBob29rcy5cbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95LmZvckVhY2goc2VydmljZSA9PiBzZXJ2aWNlLm5nT25EZXN0cm95KCkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gUmVsZWFzZSBhbGwgcmVmZXJlbmNlcy5cbiAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3kuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSA9IFRIUk9XX0lGX05PVF9GT1VORCwgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0KSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgICAgIC8vIFNldCB0aGUgaW5qZWN0aW9uIGNvbnRleHQuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0b3IgPSBzZXRDdXJyZW50SW5qZWN0b3IodGhpcyk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbih1bmRlZmluZWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBTa2lwU2VsZiBmbGFnLlxuICAgICAgICAgICAgaWYgKCEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwU2VsZiBpc24ndCBzZXQsIGNoZWNrIGlmIHRoZSByZWNvcmQgYmVsb25ncyB0byB0aGlzIGluamVjdG9yLlxuICAgICAgICAgICAgICAgIGxldCByZWNvcmQgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gcmVjb3JkLCBidXQgbWF5YmUgdGhlIHRva2VuIGlzIHNjb3BlZCB0byB0aGlzIGluamVjdG9yLiBMb29rIGZvciBhbiBpbmplY3RhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZiB3aXRoIGEgc2NvcGUgbWF0Y2hpbmcgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmID0gY291bGRCZUluamVjdGFibGVUeXBlKHRva2VuKSAmJiBnZXRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZiAmJiB0aGlzLmluamVjdGFibGVEZWZJblNjb3BlKGRlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGluamVjdGFibGUgZGVmIGFuZCBpdCdzIHNjb3BlZCB0byB0aGlzIGluamVjdG9yLiBQcmV0ZW5kIGFzIGlmIGl0IHdhcyBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgYWxvbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSBtYWtlUmVjb3JkKGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSh0b2tlbiksIE5PVF9ZRVQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMuc2V0KHRva2VuLCByZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBhIHJlY29yZCB3YXMgZm91bmQsIGdldCB0aGUgaW5zdGFuY2UgZm9yIGl0IGFuZCByZXR1cm4gaXQuXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCAhPSBudWxsIC8qIE5PVCBudWxsIHx8IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oeWRyYXRlKHRva2VuLCByZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbmV4dCBpbmplY3RvciBiYXNlZCBvbiB0aGUgU2VsZiBmbGFnIC0gaWYgc2VsZiBpcyBzZXQsIHRoZSBuZXh0IGluamVjdG9yIGlzXG4gICAgICAgICAgICAvLyB0aGUgTnVsbEluamVjdG9yLCBvdGhlcndpc2UgaXQncyB0aGUgcGFyZW50LlxuICAgICAgICAgICAgY29uc3QgbmV4dEluamVjdG9yID0gIShmbGFncyAmIEluamVjdEZsYWdzLlNlbGYpID8gdGhpcy5wYXJlbnQgOiBnZXROdWxsSW5qZWN0b3IoKTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgbm90Rm91bmRWYWx1ZSBiYXNlZCBvbiB0aGUgT3B0aW9uYWwgZmxhZyAtIGlmIG9wdGlvbmFsIGlzIHNldCBhbmQgbm90Rm91bmRWYWx1ZVxuICAgICAgICAgICAgLy8gaXMgdW5kZWZpbmVkLCB0aGUgdmFsdWUgaXMgbnVsbCwgb3RoZXJ3aXNlIGl0J3MgdGhlIG5vdEZvdW5kVmFsdWUuXG4gICAgICAgICAgICBub3RGb3VuZFZhbHVlID0gKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpICYmIG5vdEZvdW5kVmFsdWUgPT09IFRIUk9XX0lGX05PVF9GT1VORCA/XG4gICAgICAgICAgICAgICAgbnVsbCA6XG4gICAgICAgICAgICAgICAgbm90Rm91bmRWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0SW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ051bGxJbmplY3RvckVycm9yJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBlW05HX1RFTVBfVE9LRU5fUEFUSF0gPSBlW05HX1RFTVBfVE9LRU5fUEFUSF0gfHwgW107XG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHN0cmluZ2lmeSh0b2tlbikpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0luamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHN0aWxsIGhhdmUgYSBwYXJlbnQgaW5qZWN0b3IsIGtlZXAgdGhyb3dpbmdcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCAmIHRocm93IHRoZSBmaW5hbCBlcnJvciBtZXNzYWdlIHdoZW4gd2UgZG9uJ3QgaGF2ZSBhbnkgcHJldmlvdXMgaW5qZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGNoSW5qZWN0b3JFcnJvcihlLCB0b2tlbiwgJ1IzSW5qZWN0b3JFcnJvcicsIHRoaXMuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gTGFzdGx5LCByZXN0b3JlIHRoZSBwcmV2aW91cyBpbmplY3Rpb24gY29udGV4dC5cbiAgICAgICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgc2V0Q3VycmVudEluamVjdG9yKHByZXZpb3VzSW5qZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKSB7XG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5mb3JFYWNoKGRlZlR5cGUgPT4gdGhpcy5nZXQoZGVmVHlwZSkpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gW10sIHJlY29yZHMgPSB0aGlzLnJlY29yZHM7XG4gICAgICAgIHJlY29yZHMuZm9yRWFjaCgodiwgdG9rZW4pID0+IHRva2Vucy5wdXNoKHN0cmluZ2lmeSh0b2tlbikpKTtcbiAgICAgICAgcmV0dXJuIGBSM0luamVjdG9yWyR7dG9rZW5zLmpvaW4oJywgJyl9XWA7XG4gICAgfVxuICAgIGFzc2VydE5vdERlc3Ryb3llZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDUgLyogSU5KRUNUT1JfQUxSRUFEWV9ERVNUUk9ZRUQgKi8sIG5nRGV2TW9kZSAmJiAnSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGBJbmplY3RvclR5cGVgIG9yIGBJbmplY3RvclR5cGVXaXRoUHJvdmlkZXJzYCBhbmQgYWxsIG9mIGl0cyB0cmFuc2l0aXZlIHByb3ZpZGVyc1xuICAgICAqIHRvIHRoaXMgaW5qZWN0b3IuXG4gICAgICpcbiAgICAgKiBJZiBhbiBgSW5qZWN0b3JUeXBlV2l0aFByb3ZpZGVyc2AgdGhhdCBkZWNsYXJlcyBwcm92aWRlcnMgYmVzaWRlcyB0aGUgdHlwZSBpcyBzcGVjaWZpZWQsXG4gICAgICogdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIFwidHJ1ZVwiIHRvIGluZGljYXRlIHRoYXQgdGhlIHByb3ZpZGVycyBvZiB0aGUgdHlwZSBkZWZpbml0aW9uIG5lZWRcbiAgICAgKiB0byBiZSBwcm9jZXNzZWQuIFRoaXMgYWxsb3dzIHVzIHRvIHByb2Nlc3MgcHJvdmlkZXJzIG9mIGluamVjdG9yIHR5cGVzIGFmdGVyIGFsbCBpbXBvcnRzIG9mXG4gICAgICogYW4gaW5qZWN0b3IgZGVmaW5pdGlvbiBhcmUgcHJvY2Vzc2VkLiAoZm9sbG93aW5nIFZpZXcgRW5naW5lIHNlbWFudGljczogc2VlIEZXLTEzNDkpXG4gICAgICovXG4gICAgcHJvY2Vzc0luamVjdG9yVHlwZShkZWZPcldyYXBwZWREZWYsIHBhcmVudHMsIGRlZHVwU3RhY2spIHtcbiAgICAgICAgZGVmT3JXcmFwcGVkRGVmID0gcmVzb2x2ZUZvcndhcmRSZWYoZGVmT3JXcmFwcGVkRGVmKTtcbiAgICAgICAgaWYgKCFkZWZPcldyYXBwZWREZWYpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIEVpdGhlciB0aGUgZGVmT3JXcmFwcGVkRGVmIGlzIGFuIEluamVjdG9yVHlwZSAod2l0aCBpbmplY3RvciBkZWYpIG9yIGFuXG4gICAgICAgIC8vIEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnMgKGFrYSBNb2R1bGVXaXRoUHJvdmlkZXJzKS4gRGV0ZWN0aW5nIGVpdGhlciBpcyBhIG1lZ2Ftb3JwaGljXG4gICAgICAgIC8vIHJlYWQsIHNvIGNhcmUgaXMgdGFrZW4gdG8gb25seSBkbyB0aGUgcmVhZCBvbmNlLlxuICAgICAgICAvLyBGaXJzdCBhdHRlbXB0IHRvIHJlYWQgdGhlIGluamVjdG9yIGRlZiAoYMm1aW5qYCkuXG4gICAgICAgIGxldCBkZWYgPSBnZXRJbmplY3RvckRlZihkZWZPcldyYXBwZWREZWYpO1xuICAgICAgICAvLyBJZiB0aGF0J3Mgbm90IHByZXNlbnQsIHRoZW4gYXR0ZW1wdCB0byByZWFkIG5nTW9kdWxlIGZyb20gdGhlIEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnMuXG4gICAgICAgIGNvbnN0IG5nTW9kdWxlID0gKGRlZiA9PSBudWxsKSAmJiBkZWZPcldyYXBwZWREZWYubmdNb2R1bGUgfHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIEluamVjdG9yVHlwZS4gSW4gdGhlIGNhc2Ugd2hlcmUgYGRlZk9yV3JhcHBlZERlZmAgaXMgYW4gYEluamVjdG9yVHlwZWAsXG4gICAgICAgIC8vIHRoZW4gdGhpcyBpcyBlYXN5LiBJbiB0aGUgY2FzZSBvZiBhbiBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzLCB0aGVuIHRoZSBkZWZpbml0aW9uIHR5cGVcbiAgICAgICAgLy8gaXMgdGhlIGBuZ01vZHVsZWAuXG4gICAgICAgIGNvbnN0IGRlZlR5cGUgPSAobmdNb2R1bGUgPT09IHVuZGVmaW5lZCkgPyBkZWZPcldyYXBwZWREZWYgOiBuZ01vZHVsZTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBwYXJlbnRzLmluZGV4T2YoZGVmVHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZOYW1lID0gc3RyaW5naWZ5KGRlZlR5cGUpO1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHBhcmVudHMubWFwKHN0cmluZ2lmeSk7XG4gICAgICAgICAgICB0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvcihkZWZOYW1lLCBwYXRoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgaW1wb3J0cyBvZiB0aGUgc2FtZSBtb2R1bGVcbiAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBkZWR1cFN0YWNrLmluZGV4T2YoZGVmVHlwZSkgIT09IC0xO1xuICAgICAgICAvLyBGaW5hbGx5LCBpZiBkZWZPcldyYXBwZWRUeXBlIHdhcyBhbiBgSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVyc2AsIHRoZW4gdGhlIGFjdHVhbFxuICAgICAgICAvLyBgSW5qZWN0b3JEZWZgIGlzIG9uIGl0cyBgbmdNb2R1bGVgLlxuICAgICAgICBpZiAobmdNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVmID0gZ2V0SW5qZWN0b3JEZWYobmdNb2R1bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vIGRlZmluaXRpb24gd2FzIGZvdW5kLCBpdCBtaWdodCBiZSBmcm9tIGV4cG9ydHMuIFJlbW92ZSBpdC5cbiAgICAgICAgaWYgKGRlZiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHByb3ZpZGVycyBpbiB0aGUgc2FtZSB3YXkgdGhhdCBATmdNb2R1bGUgcmVzb2x1dGlvbiBkaWQ6XG4gICAgICAgIC8vIEZpcnN0LCBpbmNsdWRlIHByb3ZpZGVycyBmcm9tIGFueSBpbXBvcnRzLlxuICAgICAgICBpZiAoZGVmLmltcG9ydHMgIT0gbnVsbCAmJiAhaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgIC8vIEJlZm9yZSBwcm9jZXNzaW5nIGRlZlR5cGUncyBpbXBvcnRzLCBhZGQgaXQgdG8gdGhlIHNldCBvZiBwYXJlbnRzLiBUaGlzIHdheSwgaWYgaXQgZW5kc1xuICAgICAgICAgICAgLy8gdXAgZGVlcGx5IGltcG9ydGluZyBpdHNlbGYsIHRoaXMgY2FuIGJlIGRldGVjdGVkLlxuICAgICAgICAgICAgbmdEZXZNb2RlICYmIHBhcmVudHMucHVzaChkZWZUeXBlKTtcbiAgICAgICAgICAgIC8vIEFkZCBpdCB0byB0aGUgc2V0IG9mIGRlZHVwcy4gVGhpcyB3YXkgd2UgY2FuIGRldGVjdCBtdWx0aXBsZSBpbXBvcnRzIG9mIHRoZSBzYW1lIG1vZHVsZVxuICAgICAgICAgICAgZGVkdXBTdGFjay5wdXNoKGRlZlR5cGUpO1xuICAgICAgICAgICAgbGV0IGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGVlcEZvckVhY2goZGVmLmltcG9ydHMsIGltcG9ydGVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc0luamVjdG9yVHlwZShpbXBvcnRlZCwgcGFyZW50cywgZGVkdXBTdGFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcm9jZXNzZWQgaW1wb3J0IGlzIGFuIGluamVjdG9yIHR5cGUgd2l0aCBwcm92aWRlcnMsIHdlIHN0b3JlIGl0IGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBpbXBvcnQgdHlwZXMgd2l0aCBwcm92aWRlcnMsIHNvIHRoYXQgd2UgY2FuIHByb2Nlc3MgdGhvc2UgYWZ0ZXJ3YXJkcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycy5wdXNoKGltcG9ydGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gdGhlIHBhcmVudHMgc2V0IHdoZW4gZmluaXNoZWQuXG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIHBhcmVudHMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbXBvcnRzIHdoaWNoIGFyZSBkZWNsYXJlZCB3aXRoIHByb3ZpZGVycyAoVHlwZVdpdGhQcm92aWRlcnMpIG5lZWQgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgICAgICAvLyBhZnRlciBhbGwgaW1wb3J0ZWQgbW9kdWxlcyBhcmUgcHJvY2Vzc2VkLiBUaGlzIGlzIHNpbWlsYXIgdG8gaG93IFZpZXcgRW5naW5lXG4gICAgICAgICAgICAvLyBwcm9jZXNzZXMvbWVyZ2VzIG1vZHVsZSBpbXBvcnRzIGluIHRoZSBtZXRhZGF0YSByZXNvbHZlci4gU2VlOiBGVy0xMzQ5LlxuICAgICAgICAgICAgaWYgKGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBuZ01vZHVsZSwgcHJvdmlkZXJzIH0gPSBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGRlZXBGb3JFYWNoKHByb3ZpZGVycywgcHJvdmlkZXIgPT4gdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIG5nTW9kdWxlLCBwcm92aWRlcnMgfHwgRU1QVFlfQVJSQVkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJhY2sgdGhlIEluamVjdG9yVHlwZSBhbmQgYWRkIGEgcHJvdmlkZXIgZm9yIGl0LiBJdCdzIGltcG9ydGFudCB0aGF0IHRoaXMgaXMgZG9uZSBhZnRlciB0aGVcbiAgICAgICAgLy8gZGVmJ3MgaW1wb3J0cy5cbiAgICAgICAgdGhpcy5pbmplY3RvckRlZlR5cGVzLmFkZChkZWZUeXBlKTtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IGdldEZhY3RvcnlEZWYoZGVmVHlwZSkgfHwgKCgpID0+IG5ldyBkZWZUeXBlKCkpO1xuICAgICAgICB0aGlzLnJlY29yZHMuc2V0KGRlZlR5cGUsIG1ha2VSZWNvcmQoZmFjdG9yeSwgTk9UX1lFVCkpO1xuICAgICAgICAvLyBOZXh0LCBpbmNsdWRlIHByb3ZpZGVycyBsaXN0ZWQgb24gdGhlIGRlZmluaXRpb24gaXRzZWxmLlxuICAgICAgICBjb25zdCBkZWZQcm92aWRlcnMgPSBkZWYucHJvdmlkZXJzO1xuICAgICAgICBpZiAoZGVmUHJvdmlkZXJzICE9IG51bGwgJiYgIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBpbmplY3RvclR5cGUgPSBkZWZPcldyYXBwZWREZWY7XG4gICAgICAgICAgICBkZWVwRm9yRWFjaChkZWZQcm92aWRlcnMsIHByb3ZpZGVyID0+IHRoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBpbmplY3RvclR5cGUsIGRlZlByb3ZpZGVycykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobmdNb2R1bGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZGVmT3JXcmFwcGVkRGVmLnByb3ZpZGVycyAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGBTaW5nbGVQcm92aWRlcmAgYW5kIGFkZCBpdC5cbiAgICAgKi9cbiAgICBwcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKSB7XG4gICAgICAgIC8vIERldGVybWluZSB0aGUgdG9rZW4gZnJvbSB0aGUgcHJvdmlkZXIuIEVpdGhlciBpdCdzIGl0cyBvd24gdG9rZW4sIG9yIGhhcyBhIHtwcm92aWRlOiAuLi59XG4gICAgICAgIC8vIHByb3BlcnR5LlxuICAgICAgICBwcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICAgICAgbGV0IHRva2VuID0gaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpID8gcHJvdmlkZXIgOiByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlciAmJiBwcm92aWRlci5wcm92aWRlKTtcbiAgICAgICAgLy8gQ29uc3RydWN0IGEgYFJlY29yZGAgZm9yIHRoZSBwcm92aWRlci5cbiAgICAgICAgY29uc3QgcmVjb3JkID0gcHJvdmlkZXJUb1JlY29yZChwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpO1xuICAgICAgICBpZiAoIWlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSAmJiBwcm92aWRlci5tdWx0aSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHByb3ZpZGVyIGluZGljYXRlcyB0aGF0IGl0J3MgYSBtdWx0aS1wcm92aWRlciwgcHJvY2VzcyBpdCBzcGVjaWFsbHkuXG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayB3aGV0aGVyIGl0J3MgYmVlbiBkZWZpbmVkIGFscmVhZHkuXG4gICAgICAgICAgICBsZXQgbXVsdGlSZWNvcmQgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChtdWx0aVJlY29yZCkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGhhcy4gVGhyb3cgYSBuaWNlIGVycm9yIGlmXG4gICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBtdWx0aVJlY29yZC5tdWx0aSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtdWx0aVJlY29yZCA9IG1ha2VSZWNvcmQodW5kZWZpbmVkLCBOT1RfWUVULCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtdWx0aVJlY29yZC5mYWN0b3J5ID0gKCkgPT4gaW5qZWN0QXJncyhtdWx0aVJlY29yZC5tdWx0aSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgbXVsdGlSZWNvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gPSBwcm92aWRlcjtcbiAgICAgICAgICAgIG11bHRpUmVjb3JkLm11bHRpLnB1c2gocHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgZXhpc3RpbmcgJiYgZXhpc3RpbmcubXVsdGkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY29yZHMuc2V0KHRva2VuLCByZWNvcmQpO1xuICAgIH1cbiAgICBoeWRyYXRlKHRva2VuLCByZWNvcmQpIHtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiByZWNvcmQudmFsdWUgPT09IENJUkNVTEFSKSB7XG4gICAgICAgICAgICB0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvcihzdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmQudmFsdWUgPT09IE5PVF9ZRVQpIHtcbiAgICAgICAgICAgIHJlY29yZC52YWx1ZSA9IENJUkNVTEFSO1xuICAgICAgICAgICAgcmVjb3JkLnZhbHVlID0gcmVjb3JkLmZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlY29yZC52YWx1ZSA9PT0gJ29iamVjdCcgJiYgcmVjb3JkLnZhbHVlICYmIGhhc09uRGVzdHJveShyZWNvcmQudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5hZGQocmVjb3JkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkLnZhbHVlO1xuICAgIH1cbiAgICBpbmplY3RhYmxlRGVmSW5TY29wZShkZWYpIHtcbiAgICAgICAgaWYgKCFkZWYucHJvdmlkZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3ZpZGVkSW4gPSByZXNvbHZlRm9yd2FyZFJlZihkZWYucHJvdmlkZWRJbik7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvdmlkZWRJbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlZEluID09PSAnYW55JyB8fCAocHJvdmlkZWRJbiA9PT0gdGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmplY3RvckRlZlR5cGVzLmhhcyhwcm92aWRlZEluKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSh0b2tlbikge1xuICAgIC8vIE1vc3QgdG9rZW5zIHdpbGwgaGF2ZSBhbiBpbmplY3RhYmxlIGRlZiBkaXJlY3RseSBvbiB0aGVtLCB3aGljaCBzcGVjaWZpZXMgYSBmYWN0b3J5IGRpcmVjdGx5LlxuICAgIGNvbnN0IGluamVjdGFibGVEZWYgPSBnZXRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICBjb25zdCBmYWN0b3J5ID0gaW5qZWN0YWJsZURlZiAhPT0gbnVsbCA/IGluamVjdGFibGVEZWYuZmFjdG9yeSA6IGdldEZhY3RvcnlEZWYodG9rZW4pO1xuICAgIGlmIChmYWN0b3J5ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgIH1cbiAgICAvLyBJbmplY3Rpb25Ub2tlbnMgc2hvdWxkIGhhdmUgYW4gaW5qZWN0YWJsZSBkZWYgKMm1cHJvdikgYW5kIHRodXMgc2hvdWxkIGJlIGhhbmRsZWQgYWJvdmUuXG4gICAgLy8gSWYgaXQncyBtaXNzaW5nIHRoYXQsIGl0J3MgYW4gZXJyb3IuXG4gICAgaWYgKHRva2VuIGluc3RhbmNlb2YgSW5qZWN0aW9uVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDQgLyogSU5WQUxJRF9JTkpFQ1RJT05fVE9LRU4gKi8sIG5nRGV2TW9kZSAmJiBgVG9rZW4gJHtzdHJpbmdpZnkodG9rZW4pfSBpcyBtaXNzaW5nIGEgybVwcm92IGRlZmluaXRpb24uYCk7XG4gICAgfVxuICAgIC8vIFVuZGVjb3JhdGVkIHR5cGVzIGNhbiBzb21ldGltZXMgYmUgY3JlYXRlZCBpZiB0aGV5IGhhdmUgbm8gY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiBnZXRVbmRlY29yYXRlZEluamVjdGFibGVGYWN0b3J5KHRva2VuKTtcbiAgICB9XG4gICAgLy8gVGhlcmUgd2FzIG5vIHdheSB0byByZXNvbHZlIGEgZmFjdG9yeSBmb3IgdGhpcyB0b2tlbi5cbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwNCAvKiBJTlZBTElEX0lOSkVDVElPTl9UT0tFTiAqLywgbmdEZXZNb2RlICYmICd1bnJlYWNoYWJsZScpO1xufVxuZnVuY3Rpb24gZ2V0VW5kZWNvcmF0ZWRJbmplY3RhYmxlRmFjdG9yeSh0b2tlbikge1xuICAgIC8vIElmIHRoZSB0b2tlbiBoYXMgcGFyYW1ldGVycyB0aGVuIGl0IGhhcyBkZXBlbmRlbmNpZXMgdGhhdCB3ZSBjYW5ub3QgcmVzb2x2ZSBpbXBsaWNpdGx5LlxuICAgIGNvbnN0IHBhcmFtTGVuZ3RoID0gdG9rZW4ubGVuZ3RoO1xuICAgIGlmIChwYXJhbUxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ld0FycmF5KHBhcmFtTGVuZ3RoLCAnPycpO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwNCAvKiBJTlZBTElEX0lOSkVDVElPTl9UT0tFTiAqLywgbmdEZXZNb2RlICYmIGBDYW4ndCByZXNvbHZlIGFsbCBwYXJhbWV0ZXJzIGZvciAke3N0cmluZ2lmeSh0b2tlbil9OiAoJHthcmdzLmpvaW4oJywgJyl9KS5gKTtcbiAgICB9XG4gICAgLy8gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFwcGVhcnMgdG8gaGF2ZSBubyBwYXJhbWV0ZXJzLlxuICAgIC8vIFRoaXMgbWlnaHQgYmUgYmVjYXVzZSBpdCBpbmhlcml0cyBmcm9tIGEgc3VwZXItY2xhc3MuIEluIHdoaWNoIGNhc2UsIHVzZSBhbiBpbmplY3RhYmxlXG4gICAgLy8gZGVmIGZyb20gYW4gYW5jZXN0b3IgaWYgdGhlcmUgaXMgb25lLlxuICAgIC8vIE90aGVyd2lzZSB0aGlzIHJlYWxseSBpcyBhIHNpbXBsZSBjbGFzcyB3aXRoIG5vIGRlcGVuZGVuY2llcywgc28gcmV0dXJuIGEgZmFjdG9yeSB0aGF0XG4gICAgLy8ganVzdCBpbnN0YW50aWF0ZXMgdGhlIHplcm8tYXJnIGNvbnN0cnVjdG9yLlxuICAgIGNvbnN0IGluaGVyaXRlZEluamVjdGFibGVEZWYgPSBnZXRJbmhlcml0ZWRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICBpZiAoaW5oZXJpdGVkSW5qZWN0YWJsZURlZiAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gaW5oZXJpdGVkSW5qZWN0YWJsZURlZi5mYWN0b3J5KHRva2VuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoKSA9PiBuZXcgdG9rZW4oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwcm92aWRlclRvUmVjb3JkKHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgIGlmIChpc1ZhbHVlUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgIHJldHVybiBtYWtlUmVjb3JkKHVuZGVmaW5lZCwgcHJvdmlkZXIudXNlVmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHByb3ZpZGVyVG9GYWN0b3J5KHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiBtYWtlUmVjb3JkKGZhY3RvcnksIE5PVF9ZRVQpO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgYSBgU2luZ2xlUHJvdmlkZXJgIGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciBwcm92aWRlciB0byBjb252ZXJ0IHRvIGZhY3RvcnlcbiAqL1xuZnVuY3Rpb24gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKSB7XG4gICAgbGV0IGZhY3RvcnkgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICBjb25zdCB1bndyYXBwZWRQcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICAgICAgcmV0dXJuIGdldEZhY3RvcnlEZWYodW53cmFwcGVkUHJvdmlkZXIpIHx8IGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSh1bndyYXBwZWRQcm92aWRlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgZmFjdG9yeSA9ICgpID0+IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ZhY3RvcnlQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiBwcm92aWRlci51c2VGYWN0b3J5KC4uLmluamVjdEFyZ3MocHJvdmlkZXIuZGVwcyB8fCBbXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRXhpc3RpbmdQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiDJtcm1aW5qZWN0KHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUV4aXN0aW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc1JlZiA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyICYmXG4gICAgICAgICAgICAgICAgKHByb3ZpZGVyLnVzZUNsYXNzIHx8IHByb3ZpZGVyLnByb3ZpZGUpKTtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgIWNsYXNzUmVmKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUHJvdmlkZXJFcnJvcihuZ01vZHVsZVR5cGUsIHByb3ZpZGVycywgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0RlcHMocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgZmFjdG9yeSA9ICgpID0+IG5ldyAoY2xhc3NSZWYpKC4uLmluamVjdEFyZ3MocHJvdmlkZXIuZGVwcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZhY3RvcnlEZWYoY2xhc3NSZWYpIHx8IGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeShjbGFzc1JlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG59XG5mdW5jdGlvbiBtYWtlUmVjb3JkKGZhY3RvcnksIHZhbHVlLCBtdWx0aSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmFjdG9yeTogZmFjdG9yeSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBtdWx0aTogbXVsdGkgPyBbXSA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNWYWx1ZVByb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiBVU0VfVkFMVUUkMSBpbiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGlzRXhpc3RpbmdQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS51c2VFeGlzdGluZyk7XG59XG5mdW5jdGlvbiBpc0ZhY3RvcnlQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS51c2VGYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGlzVHlwZVByb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlLnVzZUNsYXNzO1xufVxuZnVuY3Rpb24gaGFzRGVwcyh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlLmRlcHM7XG59XG5mdW5jdGlvbiBoYXNPbkRlc3Ryb3kodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWUubmdPbkRlc3Ryb3kgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBjb3VsZEJlSW5qZWN0YWJsZVR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb25jcmV0ZSBpbmplY3RvcnMgaW1wbGVtZW50IHRoaXMgaW50ZXJmYWNlLiBJbmplY3RvcnMgYXJlIGNvbmZpZ3VyZWRcbiAqIHdpdGggW3Byb3ZpZGVyc10oZ3VpZGUvZ2xvc3NhcnkjcHJvdmlkZXIpIHRoYXQgYXNzb2NpYXRlXG4gKiBkZXBlbmRlbmNpZXMgb2YgdmFyaW91cyB0eXBlcyB3aXRoIFtpbmplY3Rpb24gdG9rZW5zXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbikuXG4gKlxuICogQHNlZSBbXCJESSBQcm92aWRlcnNcIl0oZ3VpZGUvZGVwZW5kZW5jeS1pbmplY3Rpb24tcHJvdmlkZXJzKS5cbiAqIEBzZWUgYFN0YXRpY1Byb3ZpZGVyYFxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgc2VydmljZSBpbmplY3RvciBpbnN0YW5jZS5cbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9wcm92aWRlcl9zcGVjLnRzIHJlZ2lvbj0nQ29uc3RydWN0b3JQcm92aWRlcid9XG4gKlxuICogIyMjIFVzYWdlIGV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nSW5qZWN0b3InfVxuICpcbiAqIGBJbmplY3RvcmAgcmV0dXJucyBpdHNlbGYgd2hlbiBnaXZlbiBgSW5qZWN0b3JgIGFzIGEgdG9rZW46XG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J2luamVjdEluamVjdG9yJ31cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEluamVjdG9yIHtcbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMsIHBhcmVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5qZWN0b3IoeyBuYW1lOiAnJyB9LCBwYXJlbnQsIG9wdGlvbnMsICcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBvcHRpb25zLm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUluamVjdG9yKHsgbmFtZSB9LCBvcHRpb25zLnBhcmVudCwgb3B0aW9ucy5wcm92aWRlcnMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EID0gVEhST1dfSUZfTk9UX0ZPVU5EO1xuSW5qZWN0b3IuTlVMTCA9ICggLyogQF9fUFVSRV9fICovbmV3IE51bGxJbmplY3RvcigpKTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuSW5qZWN0b3IuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoe1xuICAgIHRva2VuOiBJbmplY3RvcixcbiAgICBwcm92aWRlZEluOiAnYW55JyxcbiAgICBmYWN0b3J5OiAoKSA9PiDJtcm1aW5qZWN0KElOSkVDVE9SKSxcbn0pO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cbkluamVjdG9yLl9fTkdfRUxFTUVOVF9JRF9fID0gLTEgLyogSW5qZWN0b3IgKi87XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBET00gZWxlbWVudC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogR2l2ZW4gdGhlIGZvbGxvd2luZyBET00gc3RydWN0dXJlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxhcHAtcm9vdD5cbiAqICAgPGRpdj5cbiAqICAgICA8Y2hpbGQtY29tcD48L2NoaWxkLWNvbXA+XG4gKiAgIDwvZGl2PlxuICogPC9hcHAtcm9vdD5cbiAqIGBgYFxuICpcbiAqIENhbGxpbmcgYGdldENvbXBvbmVudGAgb24gYDxjaGlsZC1jb21wPmAgd2lsbCByZXR1cm4gdGhlIGluc3RhbmNlIG9mIGBDaGlsZENvbXBvbmVudGBcbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGlzIERPTSBlbGVtZW50LlxuICpcbiAqIENhbGxpbmcgdGhlIGZ1bmN0aW9uIG9uIGA8YXBwLXJvb3Q+YCB3aWxsIHJldHVybiB0aGUgYE15QXBwYCBpbnN0YW5jZS5cbiAqXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRE9NIGVsZW1lbnQgZnJvbSB3aGljaCB0aGUgY29tcG9uZW50IHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKiBAcmV0dXJucyBDb21wb25lbnQgaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50IG9yIGBudWxsYCBpZiB0aGVyZVxuICogICAgaXMgbm8gY29tcG9uZW50IGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudCQxKGVsZW1lbnQpIHtcbiAgICBhc3NlcnREb21FbGVtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGNvbnRleHQuY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBnZXRDb21wb25lbnRBdE5vZGVJbmRleChjb250ZXh0Lm5vZGVJbmRleCwgY29udGV4dC5sVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudDtcbn1cbi8qKlxuICogSWYgaW5zaWRlIGFuIGVtYmVkZGVkIHZpZXcgKGUuZy4gYCpuZ0lmYCBvciBgKm5nRm9yYCksIHJldHJpZXZlcyB0aGUgY29udGV4dCBvZiB0aGUgZW1iZWRkZWRcbiAqIHZpZXcgdGhhdCB0aGUgZWxlbWVudCBpcyBwYXJ0IG9mLiBPdGhlcndpc2UgcmV0cmlldmVzIHRoZSBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IHdob3NlIHZpZXdcbiAqIG93bnMgdGhlIGVsZW1lbnQgKGluIHRoaXMgY2FzZSwgdGhlIHJlc3VsdCBpcyB0aGUgc2FtZSBhcyBjYWxsaW5nIGBnZXRPd25pbmdDb21wb25lbnRgKS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0byBnZXQgdGhlIHN1cnJvdW5kaW5nIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIEluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgdGhhdCBpcyBhcm91bmQgdGhlIGVsZW1lbnQgb3IgbnVsbCBpZiB0aGUgZWxlbWVudCBpc24ndFxuICogICAgaW5zaWRlIGFueSBjb21wb25lbnQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRDb250ZXh0KGVsZW1lbnQpIHtcbiAgICBhc3NlcnREb21FbGVtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICByZXR1cm4gY29udGV4dCA9PT0gbnVsbCA/IG51bGwgOiBjb250ZXh0LmxWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB3aG9zZSB2aWV3IGNvbnRhaW5zIHRoZSBET00gZWxlbWVudC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgaWYgYDxjaGlsZC1jb21wPmAgaXMgdXNlZCBpbiB0aGUgdGVtcGxhdGUgb2YgYDxhcHAtY29tcD5gXG4gKiAoaS5lLiBhIGBWaWV3Q2hpbGRgIG9mIGA8YXBwLWNvbXA+YCksIGNhbGxpbmcgYGdldE93bmluZ0NvbXBvbmVudGAgb24gYDxjaGlsZC1jb21wPmBcbiAqIHdvdWxkIHJldHVybiBgPGFwcC1jb21wPmAuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRPckRpciBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZVxuICogICAgZm9yIHdoaWNoIHRvIHJldHJpZXZlIHRoZSByb290IGNvbXBvbmVudHMuXG4gKiBAcmV0dXJucyBDb21wb25lbnQgaW5zdGFuY2Ugd2hvc2UgdmlldyBvd25zIHRoZSBET00gZWxlbWVudCBvciBudWxsIGlmIHRoZSBlbGVtZW50IGlzIG5vdFxuICogICAgcGFydCBvZiBhIGNvbXBvbmVudCB2aWV3LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0T3duaW5nQ29tcG9uZW50KGVsZW1lbnRPckRpcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50T3JEaXIpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgIGxldCBwYXJlbnQ7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICB3aGlsZSAobFZpZXdbVFZJRVddLnR5cGUgPT09IDIgLyogRW1iZWRkZWQgKi8gJiYgKHBhcmVudCA9IGdldExWaWV3UGFyZW50KGxWaWV3KSkpIHtcbiAgICAgICAgbFZpZXcgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBsVmlld1tGTEFHU10gJiA1MTIgLyogSXNSb290ICovID8gbnVsbCA6IGxWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYWxsIHJvb3QgY29tcG9uZW50cyBhc3NvY2lhdGVkIHdpdGggYSBET00gZWxlbWVudCwgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIFJvb3QgY29tcG9uZW50cyBhcmUgdGhvc2Ugd2hpY2ggaGF2ZSBiZWVuIGJvb3RzdHJhcHBlZCBieSBBbmd1bGFyLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50T3JEaXIgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2VcbiAqICAgIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgcm9vdCBjb21wb25lbnRzLlxuICogQHJldHVybnMgUm9vdCBjb21wb25lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3RDb21wb25lbnRzKGVsZW1lbnRPckRpcikge1xuICAgIHJldHVybiBbLi4uZ2V0Um9vdENvbnRleHQoZWxlbWVudE9yRGlyKS5jb21wb25lbnRzXTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFuIGBJbmplY3RvcmAgYXNzb2NpYXRlZCB3aXRoIGFuIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRPckRpciBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSBmb3Igd2hpY2ggdG9cbiAqICAgIHJldHJpZXZlIHRoZSBpbmplY3Rvci5cbiAqIEByZXR1cm5zIEluamVjdG9yIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdG9yKGVsZW1lbnRPckRpcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50T3JEaXIpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gSW5qZWN0b3IuTlVMTDtcbiAgICBjb25zdCB0Tm9kZSA9IGNvbnRleHQubFZpZXdbVFZJRVddLmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHROb2RlLCBjb250ZXh0LmxWaWV3KTtcbn1cbi8qKlxuICogUmV0cmlldmUgYSBzZXQgb2YgaW5qZWN0aW9uIHRva2VucyBhdCBhIGdpdmVuIERPTSBub2RlLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgZm9yIHdoaWNoIHRoZSBpbmplY3Rpb24gdG9rZW5zIHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdGlvblRva2VucyhlbGVtZW50KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgY29uc3QgcHJvdmlkZXJUb2tlbnMgPSBbXTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICBjb25zdCBlbmRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgaWYgKGlzRGlyZWN0aXZlRGVmSGFjayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBmYWN0IHRoYXQgd2Ugc29tZXRpbWVzIHN0b3JlIFR5cGUgYW5kIHNvbWV0aW1lcyBEaXJlY3RpdmVEZWYgaW4gdGhpcyBsb2NhdGlvbiBpcyBhXG4gICAgICAgICAgICAvLyBkZXNpZ24gZmxhdy4gIFdlIHNob3VsZCBhbHdheXMgc3RvcmUgc2FtZSB0eXBlIHNvIHRoYXQgd2UgY2FuIGJlIG1vbm9tb3JwaGljLiBUaGUgaXNzdWVcbiAgICAgICAgICAgIC8vIGlzIHRoYXQgZm9yIENvbXBvbmVudHMvRGlyZWN0aXZlcyB3ZSBzdG9yZSB0aGUgZGVmIGluc3RlYWQgdGhlIHR5cGUuIFRoZSBjb3JyZWN0IGJlaGF2aW9yXG4gICAgICAgICAgICAvLyBpcyB0aGF0IHdlIHNob3VsZCBhbHdheXMgYmUgc3RvcmluZyBpbmplY3RhYmxlIHR5cGUgaW4gdGhpcyBsb2NhdGlvbi5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlclRva2Vucy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3ZpZGVyVG9rZW5zO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgZGlyZWN0aXZlIGluc3RhbmNlcyBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBET00gbm9kZS4gRG9lcyBub3QgaW5jbHVkZVxuICogY29tcG9uZW50IGluc3RhbmNlcy5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogR2l2ZW4gdGhlIGZvbGxvd2luZyBET00gc3RydWN0dXJlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxhcHAtcm9vdD5cbiAqICAgPGJ1dHRvbiBteS1idXR0b24+PC9idXR0b24+XG4gKiAgIDxteS1jb21wPjwvbXktY29tcD5cbiAqIDwvYXBwLXJvb3Q+XG4gKiBgYGBcbiAqXG4gKiBDYWxsaW5nIGBnZXREaXJlY3RpdmVzYCBvbiBgPGJ1dHRvbj5gIHdpbGwgcmV0dXJuIGFuIGFycmF5IHdpdGggYW4gaW5zdGFuY2Ugb2YgdGhlIGBNeUJ1dHRvbmBcbiAqIGRpcmVjdGl2ZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgRE9NIG5vZGUuXG4gKlxuICogQ2FsbGluZyBgZ2V0RGlyZWN0aXZlc2Agb24gYDxteS1jb21wPmAgd2lsbCByZXR1cm4gYW4gZW1wdHkgYXJyYXkuXG4gKlxuICogQHBhcmFtIG5vZGUgRE9NIG5vZGUgZm9yIHdoaWNoIHRvIGdldCB0aGUgZGlyZWN0aXZlcy5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGRpcmVjdGl2ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBub2RlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlcyhub2RlKSB7XG4gICAgLy8gU2tpcCB0ZXh0IG5vZGVzIGJlY2F1c2Ugd2UgY2FuJ3QgaGF2ZSBkaXJlY3RpdmVzIGFzc29jaWF0ZWQgd2l0aCB0aGVtLlxuICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChub2RlKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCBub2RlSW5kZXggPSBjb250ZXh0Lm5vZGVJbmRleDtcbiAgICBpZiAoISh0VmlldyA9PT0gbnVsbCB8fCB0VmlldyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdFZpZXcuZGF0YVtub2RlSW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChjb250ZXh0LmRpcmVjdGl2ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXMgPSBnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldywgZmFsc2UpO1xuICAgIH1cbiAgICAvLyBUaGUgYGRpcmVjdGl2ZXNgIGluIHRoaXMgY2FzZSBhcmUgYSBuYW1lZCBhcnJheSBjYWxsZWQgYExDb21wb25lbnRWaWV3YC4gQ2xvbmUgdGhlXG4gICAgLy8gcmVzdWx0IHNvIHdlIGRvbid0IGV4cG9zZSBhbiBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSBpbiB0aGUgdXNlcidzIGNvbnNvbGUuXG4gICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gbnVsbCA/IFtdIDogWy4uLmNvbnRleHQuZGlyZWN0aXZlc107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlYnVnIChwYXJ0aWFsKSBtZXRhZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBUaGUgZnVuY3Rpb24gYWNjZXB0cyBhbiBpbnN0YW5jZSBvZiBhIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcbiAqIG1ldGFkYXRhLlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlIEluc3RhbmNlIG9mIGEgZGlyZWN0aXZlIG9yIGNvbXBvbmVudFxuICogQHJldHVybnMgbWV0YWRhdGEgb2YgdGhlIHBhc3NlZCBkaXJlY3RpdmUgb3IgY29tcG9uZW50XG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXREaXJlY3RpdmVNZXRhZGF0YSQxKGRpcmVjdGl2ZU9yQ29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IGNvbnN0cnVjdG9yIH0gPSBkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCB0aGUgaW5zdGFuY2UgY29uc3RydWN0b3InKTtcbiAgICB9XG4gICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpbmhlcml0cyBmcm9tIGEgZGlyZWN0aXZlLCB3ZSBtYXkgaGF2ZSBjb21wb25lbnQgYW5kIGRpcmVjdGl2ZSBtZXRhZGF0YVxuICAgIC8vIFRvIGVuc3VyZSB3ZSBkb24ndCBnZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBkaXJlY3RpdmUsIHdlIHdhbnQgdG8gY2FsbCBgZ2V0Q29tcG9uZW50RGVmYCBmaXJzdC5cbiAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29uc3RydWN0b3IpO1xuICAgIGlmIChjb21wb25lbnREZWYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0czogY29tcG9uZW50RGVmLmlucHV0cyxcbiAgICAgICAgICAgIG91dHB1dHM6IGNvbXBvbmVudERlZi5vdXRwdXRzLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24sXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IGNvbXBvbmVudERlZi5vblB1c2ggPyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2ggOlxuICAgICAgICAgICAgICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aXZlRGVmID0gZ2V0RGlyZWN0aXZlRGVmKGNvbnN0cnVjdG9yKTtcbiAgICBpZiAoZGlyZWN0aXZlRGVmKSB7XG4gICAgICAgIHJldHVybiB7IGlucHV0czogZGlyZWN0aXZlRGVmLmlucHV0cywgb3V0cHV0czogZGlyZWN0aXZlRGVmLm91dHB1dHMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlIG1hcCBvZiBsb2NhbCByZWZlcmVuY2VzLlxuICpcbiAqIFRoZSByZWZlcmVuY2VzIGFyZSByZXRyaWV2ZWQgYXMgYSBtYXAgb2YgbG9jYWwgcmVmZXJlbmNlIG5hbWUgdG8gZWxlbWVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHRhcmdldCBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSBmb3Igd2hpY2ggdG8gcmV0cmlldmVcbiAqICAgIHRoZSBsb2NhbCByZWZlcmVuY2VzLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbFJlZnModGFyZ2V0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHRhcmdldCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBpZiAoY29udGV4dC5sb2NhbFJlZnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmxvY2FsUmVmcyA9IGRpc2NvdmVyTG9jYWxSZWZzKGNvbnRleHQubFZpZXcsIGNvbnRleHQubm9kZUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQubG9jYWxSZWZzIHx8IHt9O1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGhvc3QgZWxlbWVudCBvZiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKiBUaGUgaG9zdCBlbGVtZW50IGlzIHRoZSBET00gZWxlbWVudCB0aGF0IG1hdGNoZWQgdGhlIHNlbGVjdG9yIG9mIHRoZSBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudE9yRGlyZWN0aXZlIENvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UgZm9yIHdoaWNoIHRoZSBob3N0XG4gKiAgICAgZWxlbWVudCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHJldHVybnMgSG9zdCBlbGVtZW50IG9mIHRoZSB0YXJnZXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRIb3N0RWxlbWVudChjb21wb25lbnRPckRpcmVjdGl2ZSkge1xuICAgIHJldHVybiBnZXRMQ29udGV4dChjb21wb25lbnRPckRpcmVjdGl2ZSkubmF0aXZlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHJlbmRlcmVkIHRleHQgZm9yIGEgZ2l2ZW4gY29tcG9uZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0cmlldmVzIHRoZSBob3N0IGVsZW1lbnQgb2YgYSBjb21wb25lbnQgYW5kXG4gKiBhbmQgdGhlbiByZXR1cm5zIHRoZSBgdGV4dENvbnRlbnRgIGZvciB0aGF0IGVsZW1lbnQuIFRoaXMgaW1wbGllc1xuICogdGhhdCB0aGUgdGV4dCByZXR1cm5lZCB3aWxsIGluY2x1ZGUgcmUtcHJvamVjdGVkIGNvbnRlbnQgb2ZcbiAqIHRoZSBjb21wb25lbnQgYXMgd2VsbC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmV0dXJuIHRoZSBjb250ZW50IHRleHQgZm9yLlxuICovXG5mdW5jdGlvbiBnZXRSZW5kZXJlZFRleHQoY29tcG9uZW50KSB7XG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChjb21wb25lbnQpO1xuICAgIHJldHVybiBob3N0RWxlbWVudC50ZXh0Q29udGVudCB8fCAnJztcbn1cbi8qKlxuICogUmV0cmlldmVzIGEgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuIFRoZSBsaXN0IGRvZXMgaW5jbHVkZSBob3N0XG4gKiBsaXN0ZW5lcnMsIGJ1dCBpdCBkb2VzIG5vdCBpbmNsdWRlIGV2ZW50IGxpc3RlbmVycyBkZWZpbmVkIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgY29udGV4dFxuICogKGUuZy4gdGhyb3VnaCBgYWRkRXZlbnRMaXN0ZW5lcmApLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIERPTSBzdHJ1Y3R1cmU6XG4gKlxuICogYGBgaHRtbFxuICogPGFwcC1yb290PlxuICogICA8ZGl2IChjbGljayk9XCJkb1NvbWV0aGluZygpXCI+PC9kaXY+XG4gKiA8L2FwcC1yb290PlxuICogYGBgXG4gKlxuICogQ2FsbGluZyBgZ2V0TGlzdGVuZXJzYCBvbiBgPGRpdj5gIHdpbGwgcmV0dXJuIGFuIG9iamVjdCB0aGF0IGxvb2tzIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgdHNcbiAqIHtcbiAqICAgbmFtZTogJ2NsaWNrJyxcbiAqICAgZWxlbWVudDogPGRpdj4sXG4gKiAgIGNhbGxiYWNrOiAoKSA9PiBkb1NvbWV0aGluZygpLFxuICogICB1c2VDYXB0dXJlOiBmYWxzZVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCBmb3Igd2hpY2ggdGhlIERPTSBsaXN0ZW5lcnMgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgRE9NIGVsZW1lbnQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZWxlbWVudCkge1xuICAgIGFzc2VydERvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3QgbENvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAobENvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgY29uc3QgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIGlmICh0Q2xlYW51cCAmJiBsQ2xlYW51cCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kUGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaXJzdFBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmaXJzdFBhcmFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyRWxlbWVudCA9IHVud3JhcFJOb2RlKGxWaWV3W3NlY29uZFBhcmFtXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBsQ2xlYW51cFt0Q2xlYW51cFtpKytdXTtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VDYXB0dXJlT3JJbmR4ID0gdENsZWFudXBbaSsrXTtcbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIGJvb2xlYW4gdGhlbiByZXBvcnQgaXQgYXMgaXMuXG4gICAgICAgICAgICAgICAgLy8gaWYgdXNlQ2FwdHVyZU9ySW5keCBpcyBwb3NpdGl2ZSBudW1iZXIgdGhlbiBpdCBpbiB1bnN1YnNjcmliZSBtZXRob2RcbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIG5lZ2F0aXZlIG51bWJlciB0aGVuIGl0IGlzIGEgU3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9ICh0eXBlb2YgdXNlQ2FwdHVyZU9ySW5keCA9PT0gJ2Jvb2xlYW4nIHx8IHVzZUNhcHR1cmVPckluZHggPj0gMCkgPyAnZG9tJyA6ICdvdXRwdXQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZUNhcHR1cmUgPSB0eXBlb2YgdXNlQ2FwdHVyZU9ySW5keCA9PT0gJ2Jvb2xlYW4nID8gdXNlQ2FwdHVyZU9ySW5keCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID09IGxpc3RlbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaCh7IGVsZW1lbnQsIG5hbWUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsaXN0ZW5lcnMuc29ydChzb3J0TGlzdGVuZXJzKTtcbiAgICByZXR1cm4gbGlzdGVuZXJzO1xufVxuZnVuY3Rpb24gc29ydExpc3RlbmVycyhhLCBiKSB7XG4gICAgaWYgKGEubmFtZSA9PSBiLm5hbWUpXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBleGlzdCBiZWNhdXNlIGl0IGlzIG1lZ2Ftb3JwaGljIGFuZCBvbmx5IG1vc3RseSBjb3JyZWN0LlxuICpcbiAqIFNlZSBjYWxsIHNpdGUgZm9yIG1vcmUgaW5mby5cbiAqL1xuZnVuY3Rpb24gaXNEaXJlY3RpdmVEZWZIYWNrKG9iaikge1xuICAgIHJldHVybiBvYmoudHlwZSAhPT0gdW5kZWZpbmVkICYmIG9iai50ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkICYmIG9iai5kZWNsYXJlZElucHV0cyAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhdHRhY2hlZCBgRGVidWdOb2RlYCBpbnN0YW5jZSBmb3IgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIG93bmVkIGJ5IGFuIGV4aXN0aW5nIGNvbXBvbmVudCdzIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldERlYnVnTm9kZSQxKGVsZW1lbnQpIHtcbiAgICBpZiAobmdEZXZNb2RlICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGluc3RhbmNlIG9mIERPTSBFbGVtZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGxDb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IG5vZGVJbmRleCA9IGxDb250ZXh0Lm5vZGVJbmRleDtcbiAgICBpZiAobm9kZUluZGV4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCB2YWx1ZUluTFZpZXcgPSBsVmlld1tub2RlSW5kZXhdO1xuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdmFsdWUgaW4gdGhlIGxWaWV3IGlzIGEgY29tcG9uZW50IHdpdGggaXRzIG93blxuICAgICAgICAvLyBkYXRhLiBJbiB0aGlzIHNpdHVhdGlvbiB0aGUgVE5vZGUgaXMgbm90IGFjY2Vzc2VkIGF0IHRoZSBzYW1lIHNwb3QuXG4gICAgICAgIGNvbnN0IHROb2RlID0gaXNMVmlldyh2YWx1ZUluTFZpZXcpID8gdmFsdWVJbkxWaWV3W1RfSE9TVF0gOiBnZXRUTm9kZShsVmlld1tUVklFV10sIG5vZGVJbmRleCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwodE5vZGUuaW5kZXgsIG5vZGVJbmRleCwgJ0V4cGVjdGluZyB0aGF0IFROb2RlIGF0IGluZGV4IGlzIHNhbWUgYXMgaW5kZXgnKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVidWdOb2RlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY29tcG9uZW50IGBMVmlld2AgZnJvbSBjb21wb25lbnQvZWxlbWVudC5cbiAqXG4gKiBOT1RFOiBgTFZpZXdgIGlzIGEgcHJpdmF0ZSBhbmQgc2hvdWxkIG5vdCBiZSBsZWFrZWQgb3V0c2lkZS5cbiAqICAgICAgIERvbid0IGV4cG9ydCB0aGlzIG1ldGhvZCB0byBgbmcuKmAgb24gd2luZG93LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgRE9NIGVsZW1lbnQgb3IgY29tcG9uZW50IGluc3RhbmNlIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudExWaWV3KHRhcmdldCkge1xuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQodGFyZ2V0KTtcbiAgICBjb25zdCBub2RlSW5keCA9IGxDb250ZXh0Lm5vZGVJbmRleDtcbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IGNvbXBvbmVudExWaWV3ID0gbFZpZXdbbm9kZUluZHhdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhjb21wb25lbnRMVmlldyk7XG4gICAgcmV0dXJuIGNvbXBvbmVudExWaWV3O1xufVxuLyoqIEFzc2VydHMgdGhhdCBhIHZhbHVlIGlzIGEgRE9NIEVsZW1lbnQuICovXG5mdW5jdGlvbiBhc3NlcnREb21FbGVtZW50KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgaW5zdGFuY2Ugb2YgRE9NIEVsZW1lbnQnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyBhIGNvbXBvbmVudCBmb3IgY2hlY2sgKGluIGNhc2Ugb2YgT25QdXNoIGNvbXBvbmVudHMpIGFuZCBzeW5jaHJvbm91c2x5XG4gKiBwZXJmb3JtcyBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSBhcHBsaWNhdGlvbiB0aGlzIGNvbXBvbmVudCBiZWxvbmdzIHRvLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNtYXJrRm9yQ2hlY2sgbWFyayBmb3IgY2hlY2t9LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIG1hcmtEaXJ0eShjb21wb25lbnQpO1xuICAgIGdldFJvb3RDb21wb25lbnRzKGNvbXBvbmVudCkuZm9yRWFjaChyb290Q29tcG9uZW50ID0+IGRldGVjdENoYW5nZXMocm9vdENvbXBvbmVudCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGludHJvZHVjZXMgc2VyaWVzIG9mIGdsb2JhbGx5IGFjY2Vzc2libGUgZGVidWcgdG9vbHNcbiAqIHRvIGFsbG93IGZvciB0aGUgQW5ndWxhciBkZWJ1Z2dpbmcgc3RvcnkgdG8gZnVuY3Rpb24uXG4gKlxuICogVG8gc2VlIHRoaXMgaW4gYWN0aW9uIHJ1biB0aGUgZm9sbG93aW5nIGNvbW1hbmQ6XG4gKlxuICogICBiYXplbCBydW4gLy9wYWNrYWdlcy9jb3JlL3Rlc3QvYnVuZGxpbmcvdG9kbzpkZXZzZXJ2ZXJcbiAqXG4gKiAgVGhlbiBsb2FkIGBsb2NhbGhvc3Q6NTQzMmAgYW5kIHN0YXJ0IHVzaW5nIHRoZSBjb25zb2xlIHRvb2xzLlxuICovXG4vKipcbiAqIFRoaXMgdmFsdWUgcmVmbGVjdHMgdGhlIHByb3BlcnR5IG9uIHRoZSB3aW5kb3cgd2hlcmUgdGhlIGRldlxuICogdG9vbHMgYXJlIHBhdGNoZWQgKHdpbmRvdy5uZykuXG4gKiAqL1xuY29uc3QgR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVkgPSAnbmcnO1xubGV0IF9wdWJsaXNoZWQgPSBmYWxzZTtcbi8qKlxuICogUHVibGlzaGVzIGEgY29sbGVjdGlvbiBvZiBkZWZhdWx0IGRlYnVnIHRvb2xzIG9udG9gd2luZG93Lm5nYC5cbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgYXJlIGF2YWlsYWJsZSBnbG9iYWxseSB3aGVuIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnRcbiAqIG1vZGUgYW5kIGFyZSBhdXRvbWF0aWNhbGx5IHN0cmlwcGVkIGF3YXkgZnJvbSBwcm9kIG1vZGUgaXMgb24uXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMkMSgpIHtcbiAgICBpZiAoIV9wdWJsaXNoZWQpIHtcbiAgICAgICAgX3B1Ymxpc2hlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXYXJuaW5nOiB0aGlzIGZ1bmN0aW9uIGlzICpJTlRFUk5BTCogYW5kIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaW4gYXBwbGljYXRpb24ncyBjb2RlLlxuICAgICAgICAgKiBUaGUgY29udHJhY3Qgb2YgdGhlIGZ1bmN0aW9uIG1pZ2h0IGJlIGNoYW5nZWQgaW4gYW55IHJlbGVhc2UgYW5kL29yIHRoZSBmdW5jdGlvbiBjYW4gYmVcbiAgICAgICAgICogcmVtb3ZlZCBjb21wbGV0ZWx5LlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ8m1c2V0UHJvZmlsZXInLCBzZXRQcm9maWxlcik7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXREaXJlY3RpdmVNZXRhZGF0YScsIGdldERpcmVjdGl2ZU1ldGFkYXRhJDEpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Q29tcG9uZW50JywgZ2V0Q29tcG9uZW50JDEpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Q29udGV4dCcsIGdldENvbnRleHQpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0TGlzdGVuZXJzJywgZ2V0TGlzdGVuZXJzKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldE93bmluZ0NvbXBvbmVudCcsIGdldE93bmluZ0NvbXBvbmVudCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRIb3N0RWxlbWVudCcsIGdldEhvc3RFbGVtZW50KTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldEluamVjdG9yJywgZ2V0SW5qZWN0b3IpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Um9vdENvbXBvbmVudHMnLCBnZXRSb290Q29tcG9uZW50cyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXREaXJlY3RpdmVzJywgZ2V0RGlyZWN0aXZlcyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdhcHBseUNoYW5nZXMnLCBhcHBseUNoYW5nZXMpO1xuICAgIH1cbn1cbi8qKlxuICogUHVibGlzaGVzIHRoZSBnaXZlbiBmdW5jdGlvbiB0byBgd2luZG93Lm5nYCBzbyB0aGF0IGl0IGNhbiBiZVxuICogdXNlZCBmcm9tIHRoZSBicm93c2VyIGNvbnNvbGUgd2hlbiBhbiBhcHBsaWNhdGlvbiBpcyBub3QgaW4gcHJvZHVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gcHVibGlzaEdsb2JhbFV0aWwobmFtZSwgZm4pIHtcbiAgICBpZiAodHlwZW9mIENPTVBJTEVEID09PSAndW5kZWZpbmVkJyB8fCAhQ09NUElMRUQpIHtcbiAgICAgICAgLy8gTm90ZTogd2UgY2FuJ3QgZXhwb3J0IGBuZ2Agd2hlbiB1c2luZyBjbG9zdXJlIGVuaGFuY2VkIG9wdGltaXphdGlvbiBhczpcbiAgICAgICAgLy8gLSBjbG9zdXJlIGRlY2xhcmVzIGdsb2JhbHMgaXRzZWxmIGZvciBtaW5pZmllZCBuYW1lcywgd2hpY2ggc29tZXRpbWVzIGNsb2JiZXIgb3VyIGBuZ2AgZ2xvYmFsXG4gICAgICAgIC8vIC0gd2UgY2FuJ3QgZGVjbGFyZSBhIGNsb3N1cmUgZXh0ZXJuIGFzIHRoZSBuYW1lc3BhY2UgYG5nYCBpcyBhbHJlYWR5IHVzZWQgd2l0aGluIEdvb2dsZVxuICAgICAgICAvLyAgIGZvciB0eXBpbmdzIGZvciBBbmd1bGFySlMgKHZpYSBgZ29vZy5wcm92aWRlKCduZy4uLi4nKWApLlxuICAgICAgICBjb25zdCB3ID0gX2dsb2JhbDtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZm4sICdmdW5jdGlvbiBub3QgZGVmaW5lZCcpO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHdbR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVldO1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB3W0dMT0JBTF9QVUJMSVNIX0VYUEFORE9fS0VZXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyW25hbWVdID0gZm47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETzogQSBoYWNrIHRvIG5vdCBwdWxsIGluIHRoZSBOdWxsSW5qZWN0b3IgZnJvbSBAYW5ndWxhci9jb3JlLlxuY29uc3QgTlVMTF9JTkpFQ1RPUiA9IHtcbiAgICBnZXQ6ICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkgPT4ge1xuICAgICAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgJ051bGxJbmplY3RvcicpO1xuICAgIH1cbn07XG4vKipcbiAqIEJvb3RzdHJhcHMgYSBDb21wb25lbnQgaW50byBhbiBleGlzdGluZyBob3N0IGVsZW1lbnQgYW5kIHJldHVybnMgYW4gaW5zdGFuY2VcbiAqIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIGEgY29tcG9uZW50IGludG8gdGhlIERPTSB0cmVlLiBFYWNoIGludm9jYXRpb25cbiAqIG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBzZXBhcmF0ZSB0cmVlIG9mIGNvbXBvbmVudHMsIGluamVjdG9ycyBhbmRcbiAqIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGVzIGFuZCBsaWZldGltZXMuIFRvIGR5bmFtaWNhbGx5IGluc2VydCBhIG5ldyBjb21wb25lbnRcbiAqIGludG8gYW4gZXhpc3RpbmcgdHJlZSBzdWNoIHRoYXQgaXQgc2hhcmVzIHRoZSBzYW1lIGluamVjdGlvbiwgY2hhbmdlIGRldGVjdGlvblxuICogYW5kIG9iamVjdCBsaWZldGltZSwgdXNlIHtAbGluayBWaWV3Q29udGFpbmVyI2NyZWF0ZUNvbXBvbmVudH0uXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudFR5cGUgQ29tcG9uZW50IHRvIGJvb3RzdHJhcFxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVycyB3aGljaCBjb250cm9sIGJvb3RzdHJhcHBpbmdcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudFR5cGUgLyogVHlwZSBhcyB3b3JrYXJvdW5kIGZvcjogTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQ4ODEgKi8sIG9wdHMgPSB7fSkge1xuICAgIG5nRGV2TW9kZSAmJiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Q29tcG9uZW50VHlwZShjb21wb25lbnRUeXBlKTtcbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBvcHRzLnJlbmRlcmVyRmFjdG9yeSB8fCBkb21SZW5kZXJlckZhY3RvcnkzO1xuICAgIGNvbnN0IHNhbml0aXplciA9IG9wdHMuc2FuaXRpemVyIHx8IG51bGw7XG4gICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudFR5cGUpO1xuICAgIGlmIChjb21wb25lbnREZWYudHlwZSAhPSBjb21wb25lbnRUeXBlKVxuICAgICAgICBjb21wb25lbnREZWYudHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgLy8gVGhlIGZpcnN0IGluZGV4IG9mIHRoZSBmaXJzdCBzZWxlY3RvciBpcyB0aGUgdGFnIG5hbWUuXG4gICAgY29uc3QgY29tcG9uZW50VGFnID0gY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXTtcbiAgICBjb25zdCBob3N0UmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgbnVsbCk7XG4gICAgY29uc3QgaG9zdFJOb2RlID0gbG9jYXRlSG9zdEVsZW1lbnQoaG9zdFJlbmRlcmVyLCBvcHRzLmhvc3QgfHwgY29tcG9uZW50VGFnLCBjb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbik7XG4gICAgY29uc3Qgcm9vdEZsYWdzID0gY29tcG9uZW50RGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIHwgNTEyIC8qIElzUm9vdCAqLyA6XG4gICAgICAgIDE2IC8qIENoZWNrQWx3YXlzICovIHwgNTEyIC8qIElzUm9vdCAqLztcbiAgICBjb25zdCByb290Q29udGV4dCA9IGNyZWF0ZVJvb3RDb250ZXh0KG9wdHMuc2NoZWR1bGVyLCBvcHRzLnBsYXllckhhbmRsZXIpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKGhvc3RSTm9kZSwgY29tcG9uZW50RGVmKTtcbiAgICBjb25zdCByb290VFZpZXcgPSBjcmVhdGVUVmlldygwIC8qIFJvb3QgKi8sIG51bGwsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gY3JlYXRlTFZpZXcobnVsbCwgcm9vdFRWaWV3LCByb290Q29udGV4dCwgcm9vdEZsYWdzLCBudWxsLCBudWxsLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCBudWxsLCBvcHRzLmluamVjdG9yIHx8IG51bGwpO1xuICAgIGVudGVyVmlldyhyb290Vmlldyk7XG4gICAgbGV0IGNvbXBvbmVudDtcbiAgICB0cnkge1xuICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmJlZ2luKVxuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIGNvbXBvbmVudERlZiwgcm9vdFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplcik7XG4gICAgICAgIGNvbXBvbmVudCA9IGNyZWF0ZVJvb3RDb21wb25lbnQoY29tcG9uZW50VmlldywgY29tcG9uZW50RGVmLCByb290Vmlldywgcm9vdENvbnRleHQsIG9wdHMuaG9zdEZlYXR1cmVzIHx8IG51bGwpO1xuICAgICAgICAvLyBjcmVhdGUgbW9kZSBwYXNzXG4gICAgICAgIHJlbmRlclZpZXcocm9vdFRWaWV3LCByb290VmlldywgbnVsbCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtb2RlIHBhc3NcbiAgICAgICAgcmVmcmVzaFZpZXcocm9vdFRWaWV3LCByb290VmlldywgbnVsbCwgbnVsbCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5lbmQpXG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIHJvb3QgY29tcG9uZW50IHZpZXcgYW5kIHRoZSByb290IGNvbXBvbmVudCBub2RlLlxuICpcbiAqIEBwYXJhbSByTm9kZSBSZW5kZXIgaG9zdCBlbGVtZW50LlxuICogQHBhcmFtIGRlZiBDb21wb25lbnREZWZcbiAqIEBwYXJhbSByb290VmlldyBUaGUgcGFyZW50IHZpZXcgd2hlcmUgdGhlIGhvc3Qgbm9kZSBpcyBzdG9yZWRcbiAqIEBwYXJhbSByZW5kZXJlckZhY3RvcnkgRmFjdG9yeSB0byBiZSB1c2VkIGZvciBjcmVhdGluZyBjaGlsZCByZW5kZXJlcnMuXG4gKiBAcGFyYW0gaG9zdFJlbmRlcmVyIFRoZSBjdXJyZW50IHJlbmRlcmVyXG4gKiBAcGFyYW0gc2FuaXRpemVyIFRoZSBzYW5pdGl6ZXIsIGlmIHByb3ZpZGVkXG4gKlxuICogQHJldHVybnMgQ29tcG9uZW50IHZpZXcgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50VmlldyhyTm9kZSwgZGVmLCByb290VmlldywgcmVuZGVyZXJGYWN0b3J5LCBob3N0UmVuZGVyZXIsIHNhbml0aXplcikge1xuICAgIGNvbnN0IHRWaWV3ID0gcm9vdFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IGluZGV4ID0gSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHJvb3RWaWV3LCBpbmRleCk7XG4gICAgcm9vdFZpZXdbaW5kZXhdID0gck5vZGU7XG4gICAgLy8gJyNob3N0JyBpcyBhZGRlZCBoZXJlIGFzIHdlIGRvbid0IGtub3cgdGhlIHJlYWwgaG9zdCBET00gbmFtZSAod2UgZG9uJ3Qgd2FudCB0byByZWFkIGl0KSBhbmQgYXRcbiAgICAvLyB0aGUgc2FtZSB0aW1lIHdlIHdhbnQgdG8gY29tbXVuaWNhdGUgdGhlIGRlYnVnIGBUTm9kZWAgdGhhdCB0aGlzIGlzIGEgc3BlY2lhbCBgVE5vZGVgXG4gICAgLy8gcmVwcmVzZW50aW5nIGEgaG9zdCBlbGVtZW50LlxuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDIgLyogRWxlbWVudCAqLywgJyNob3N0JywgbnVsbCk7XG4gICAgY29uc3QgbWVyZ2VkQXR0cnMgPSB0Tm9kZS5tZXJnZWRBdHRycyA9IGRlZi5ob3N0QXR0cnM7XG4gICAgaWYgKG1lcmdlZEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCBtZXJnZWRBdHRycywgdHJ1ZSk7XG4gICAgICAgIGlmIChyTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKGhvc3RSZW5kZXJlciwgck5vZGUsIG1lcmdlZEF0dHJzKTtcbiAgICAgICAgICAgIGlmICh0Tm9kZS5jbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVEaXJlY3RDbGFzcyhob3N0UmVuZGVyZXIsIHJOb2RlLCB0Tm9kZS5jbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0Tm9kZS5zdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZURpcmVjdFN0eWxlKGhvc3RSZW5kZXJlciwgck5vZGUsIHROb2RlLnN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgdmlld1JlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKHJOb2RlLCBkZWYpO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVMVmlldyhyb290VmlldywgZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyhkZWYpLCBudWxsLCBkZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gOiAxNiAvKiBDaGVja0Fsd2F5cyAqLywgcm9vdFZpZXdbaW5kZXhdLCB0Tm9kZSwgcmVuZGVyZXJGYWN0b3J5LCB2aWV3UmVuZGVyZXIsIHNhbml0aXplciB8fCBudWxsLCBudWxsKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIHJvb3RWaWV3KSwgdFZpZXcsIGRlZi50eXBlKTtcbiAgICAgICAgbWFya0FzQ29tcG9uZW50SG9zdCh0VmlldywgdE5vZGUpO1xuICAgICAgICBpbml0VE5vZGVGbGFncyh0Tm9kZSwgcm9vdFZpZXcubGVuZ3RoLCAxKTtcbiAgICB9XG4gICAgYWRkVG9WaWV3VHJlZShyb290VmlldywgY29tcG9uZW50Vmlldyk7XG4gICAgLy8gU3RvcmUgY29tcG9uZW50IHZpZXcgYXQgbm9kZSBpbmRleCwgd2l0aCBub2RlIGFzIHRoZSBIT1NUXG4gICAgcmV0dXJuIHJvb3RWaWV3W2luZGV4XSA9IGNvbXBvbmVudFZpZXc7XG59XG4vKipcbiAqIENyZWF0ZXMgYSByb290IGNvbXBvbmVudCBhbmQgc2V0cyBpdCB1cCB3aXRoIGZlYXR1cmVzIGFuZCBob3N0IGJpbmRpbmdzLiBTaGFyZWQgYnlcbiAqIHJlbmRlckNvbXBvbmVudCgpIGFuZCBWaWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudCgpLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudERlZiwgcm9vdExWaWV3LCByb290Q29udGV4dCwgaG9zdEZlYXR1cmVzKSB7XG4gICAgY29uc3QgdFZpZXcgPSByb290TFZpZXdbVFZJRVddO1xuICAgIC8vIENyZWF0ZSBkaXJlY3RpdmUgaW5zdGFuY2Ugd2l0aCBmYWN0b3J5KCkgYW5kIHN0b3JlIGF0IG5leHQgaW5kZXggaW4gdmlld0RhdGFcbiAgICBjb25zdCBjb21wb25lbnQgPSBpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQodFZpZXcsIHJvb3RMVmlldywgY29tcG9uZW50RGVmKTtcbiAgICByb290Q29udGV4dC5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICBjb21wb25lbnRWaWV3W0NPTlRFWFRdID0gY29tcG9uZW50O1xuICAgIGhvc3RGZWF0dXJlcyAmJiBob3N0RmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSkgPT4gZmVhdHVyZShjb21wb25lbnQsIGNvbXBvbmVudERlZikpO1xuICAgIC8vIFdlIHdhbnQgdG8gZ2VuZXJhdGUgYW4gZW1wdHkgUXVlcnlMaXN0IGZvciByb290IGNvbnRlbnQgcXVlcmllcyBmb3IgYmFja3dhcmRzXG4gICAgLy8gY29tcGF0aWJpbGl0eSB3aXRoIFZpZXdFbmdpbmUuXG4gICAgaWYgKGNvbXBvbmVudERlZi5jb250ZW50UXVlcmllcykge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIGV4cGVjdGVkJyk7XG4gICAgICAgIGNvbXBvbmVudERlZi5jb250ZW50UXVlcmllcygxIC8qIENyZWF0ZSAqLywgY29tcG9uZW50LCB0Tm9kZS5kaXJlY3RpdmVTdGFydCk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJvb3RUTm9kZSwgJ3ROb2RlIHNob3VsZCBoYXZlIGJlZW4gYWxyZWFkeSBjcmVhdGVkJyk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJlxuICAgICAgICAoY29tcG9uZW50RGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCB8fCBjb21wb25lbnREZWYuaG9zdEF0dHJzICE9PSBudWxsKSkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KHJvb3RUTm9kZS5pbmRleCk7XG4gICAgICAgIGNvbnN0IHJvb3RUVmlldyA9IHJvb3RMVmlld1tUVklFV107XG4gICAgICAgIHJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzKHJvb3RUVmlldywgcm9vdFROb2RlLCByb290TFZpZXcsIHJvb3RUTm9kZS5kaXJlY3RpdmVTdGFydCwgcm9vdFROb2RlLmRpcmVjdGl2ZUVuZCwgY29tcG9uZW50RGVmKTtcbiAgICAgICAgaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUoY29tcG9uZW50RGVmLCBjb21wb25lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gY3JlYXRlUm9vdENvbnRleHQoc2NoZWR1bGVyLCBwbGF5ZXJIYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tcG9uZW50czogW10sXG4gICAgICAgIHNjaGVkdWxlcjogc2NoZWR1bGVyIHx8IGRlZmF1bHRTY2hlZHVsZXIsXG4gICAgICAgIGNsZWFuOiBDTEVBTl9QUk9NSVNFLFxuICAgICAgICBwbGF5ZXJIYW5kbGVyOiBwbGF5ZXJIYW5kbGVyIHx8IG51bGwsXG4gICAgICAgIGZsYWdzOiAwIC8qIEVtcHR5ICovXG4gICAgfTtcbn1cbi8qKlxuICogVXNlZCB0byBlbmFibGUgbGlmZWN5Y2xlIGhvb2tzIG9uIHRoZSByb290IGNvbXBvbmVudC5cbiAqXG4gKiBJbmNsdWRlIHRoaXMgZmVhdHVyZSB3aGVuIGNhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgaWYgdGhlIHJvb3QgY29tcG9uZW50XG4gKiB5b3UgYXJlIHJlbmRlcmluZyBoYXMgbGlmZWN5Y2xlIGhvb2tzIGRlZmluZWQuIE90aGVyd2lzZSwgdGhlIGhvb2tzIHdvbid0XG4gKiBiZSBjYWxsZWQgcHJvcGVybHkuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHJlbmRlckNvbXBvbmVudChBcHBDb21wb25lbnQsIHtob3N0RmVhdHVyZXM6IFtMaWZlY3ljbGVIb29rc0ZlYXR1cmVdfSk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gTGlmZWN5Y2xlSG9va3NGZWF0dXJlKGNvbXBvbmVudCwgZGVmKSB7XG4gICAgY29uc3QgbFZpZXcgPSByZWFkUGF0Y2hlZExWaWV3KGNvbXBvbmVudCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXcsICdMVmlldyBpcyByZXF1aXJlZCcpO1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdUTm9kZSBpcyByZXF1aXJlZCcpO1xuICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIHROb2RlKTtcbn1cbi8qKlxuICogV2FpdCBvbiBjb21wb25lbnQgdW50aWwgaXQgaXMgcmVuZGVyZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgYFByb21pc2VgIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIGNvbXBvbmVudCdzXG4gKiBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGV4ZWN1dGVkLiBUaGlzIGlzIGRldGVybWluZWQgYnkgZmluZGluZyB0aGUgc2NoZWR1bGVyXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIGBjb21wb25lbnRgJ3MgcmVuZGVyIHRyZWUgYW5kIHdhaXRpbmcgdW50aWwgdGhlIHNjaGVkdWxlclxuICogZmx1c2hlcy4gSWYgbm90aGluZyBpcyBzY2hlZHVsZWQsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiBhd2FpdCB3aGVuUmVuZGVyZWQobXlDb21wb25lbnQpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgdG8gd2FpdCB1cG9uXG4gKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW5kZXJlZC5cbiAqL1xuZnVuY3Rpb24gd2hlblJlbmRlcmVkKGNvbXBvbmVudCkge1xuICAgIHJldHVybiBnZXRSb290Q29udGV4dChjb21wb25lbnQpLmNsZWFuO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldFN1cGVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG59XG4vKipcbiAqIE1lcmdlcyB0aGUgZGVmaW5pdGlvbiBmcm9tIGEgc3VwZXIgY2xhc3MgdG8gYSBzdWIgY2xhc3MuXG4gKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiB0aGF0IGlzIGEgU3ViQ2xhc3Mgb2YgYW5vdGhlciBkaXJlY3RpdmUgb2YgY29tcG9uZW50XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgbGV0IHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIGxldCBzaG91bGRJbmhlcml0RmllbGRzID0gdHJ1ZTtcbiAgICBjb25zdCBpbmhlcml0YW5jZUNoYWluID0gW2RlZmluaXRpb25dO1xuICAgIHdoaWxlIChzdXBlclR5cGUpIHtcbiAgICAgICAgbGV0IHN1cGVyRGVmID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1Y21wIHx8IHN1cGVyVHlwZS7JtWRpcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdXBlclR5cGUuybVjbXApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgICAgICdEaXJlY3RpdmVzIGNhbm5vdCBpbmhlcml0IENvbXBvbmVudHMnIDpcbiAgICAgICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDMgLyogSU5WQUxJRF9JTkhFUklUQU5DRSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1ZGlyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBlckRlZikge1xuICAgICAgICAgICAgaWYgKHNob3VsZEluaGVyaXRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpbmhlcml0YW5jZUNoYWluLnB1c2goc3VwZXJEZWYpO1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgZmllbGRzIGluIHRoZSBkZWZpbml0aW9uIG1heSBiZSBlbXB0eSwgaWYgdGhlcmUgd2VyZSBubyB2YWx1ZXMgdG8gcHV0IGluIHRoZW0gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdvdWxkJ3ZlIGp1c3RpZmllZCBvYmplY3QgY3JlYXRpb24uIFVud3JhcCB0aGVtIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZWFibGVEZWYgPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5pbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uaW5wdXRzKTtcbiAgICAgICAgICAgICAgICB3cml0ZWFibGVEZWYuZGVjbGFyZWRJbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5vdXRwdXRzID0gbWF5YmVVbndyYXBFbXB0eShkZWZpbml0aW9uLm91dHB1dHMpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIGhvc3RCaW5kaW5nc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cGVySG9zdEJpbmRpbmdzID0gc3VwZXJEZWYuaG9zdEJpbmRpbmdzO1xuICAgICAgICAgICAgICAgIHN1cGVySG9zdEJpbmRpbmdzICYmIGluaGVyaXRIb3N0QmluZGluZ3MoZGVmaW5pdGlvbiwgc3VwZXJIb3N0QmluZGluZ3MpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHF1ZXJpZXNcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlclZpZXdRdWVyeSA9IHN1cGVyRGVmLnZpZXdRdWVyeTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlckNvbnRlbnRRdWVyaWVzID0gc3VwZXJEZWYuY29udGVudFF1ZXJpZXM7XG4gICAgICAgICAgICAgICAgc3VwZXJWaWV3UXVlcnkgJiYgaW5oZXJpdFZpZXdRdWVyeShkZWZpbml0aW9uLCBzdXBlclZpZXdRdWVyeSk7XG4gICAgICAgICAgICAgICAgc3VwZXJDb250ZW50UXVlcmllcyAmJiBpbmhlcml0Q29udGVudFF1ZXJpZXMoZGVmaW5pdGlvbiwgc3VwZXJDb250ZW50UXVlcmllcyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgaW5wdXRzIGFuZCBvdXRwdXRzXG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5pbnB1dHMsIHN1cGVyRGVmLmlucHV0cyk7XG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cywgc3VwZXJEZWYuZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgICAgIGZpbGxQcm9wZXJ0aWVzKGRlZmluaXRpb24ub3V0cHV0cywgc3VwZXJEZWYub3V0cHV0cyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgYW5pbWF0aW9ucyBtZXRhZGF0YS5cbiAgICAgICAgICAgICAgICAvLyBJZiBgc3VwZXJEZWZgIGlzIGEgQ29tcG9uZW50LCB0aGUgYGRhdGFgIGZpZWxkIGlzIHByZXNlbnQgKGRlZmF1bHRzIHRvIGFuIGVtcHR5IG9iamVjdCkuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKHN1cGVyRGVmKSAmJiBzdXBlckRlZi5kYXRhLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdXBlciBkZWYgaXMgYSBDb21wb25lbnQsIHRoZSBgZGVmaW5pdGlvbmAgaXMgYWxzbyBhIENvbXBvbmVudCwgc2luY2UgRGlyZWN0aXZlcyBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGluaGVyaXQgQ29tcG9uZW50cyAod2UgdGhyb3cgYW4gZXJyb3IgYWJvdmUgYW5kIGNhbm5vdCByZWFjaCB0aGlzIGNvZGUpLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZEYXRhID0gZGVmaW5pdGlvbi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBkZWZEYXRhLmFuaW1hdGlvbiA9IChkZWZEYXRhLmFuaW1hdGlvbiB8fCBbXSkuY29uY2F0KHN1cGVyRGVmLmRhdGEuYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSdW4gcGFyZW50IGZlYXR1cmVzXG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN1cGVyRGVmLmZlYXR1cmVzO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlICYmIGZlYXR1cmUubmdJbmhlcml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGBJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmVgIGlzIGEgcGFydCBvZiB0aGUgY3VycmVudCBgc3VwZXJEZWZgLCBpdCBtZWFucyB0aGF0IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmIGFscmVhZHkgaGFzIGFsbCB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGluaGVyaXRlZCBmcm9tIGl0cyBzdXBlciBjbGFzcyhlcyksIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbiBzdG9wIG1lcmdpbmcgZmllbGRzIGZyb20gc3VwZXIgY2xhc3Nlcy4gSG93ZXZlciB3ZSBuZWVkIHRvIGl0ZXJhdGUgdGhyb3VnaCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvdG90eXBlIGNoYWluIHRvIGxvb2sgZm9yIGNsYXNzZXMgdGhhdCBtaWdodCBjb250YWluIG90aGVyIFwiZmVhdHVyZXNcIiAobGlrZVxuICAgICAgICAgICAgICAgICAgICAvLyBOZ09uQ2hhbmdlcyksIHdoaWNoIHdlIHNob3VsZCBpbnZva2UgZm9yIHRoZSBvcmlnaW5hbCBgZGVmaW5pdGlvbmAuIFdlIHNldCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYHNob3VsZEluaGVyaXRGaWVsZHNgIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCwgZXNzZW50aWFsbHkgc2tpcHBpbmcgZmllbGRzIGluaGVyaXRhbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2ljIGFuZCBvbmx5IGludm9raW5nIGZ1bmN0aW9ucyBmcm9tIHRoZSBcImZlYXR1cmVzXCIgbGlzdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUgPT09IMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEluaGVyaXRGaWVsZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlclR5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc3VwZXJUeXBlKTtcbiAgICB9XG4gICAgbWVyZ2VIb3N0QXR0cnNBY3Jvc3NJbmhlcml0YW5jZShpbmhlcml0YW5jZUNoYWluKTtcbn1cbi8qKlxuICogTWVyZ2UgdGhlIGBob3N0QXR0cnNgIGFuZCBgaG9zdFZhcnNgIGZyb20gdGhlIGluaGVyaXRlZCBwYXJlbnQgdG8gdGhlIGJhc2UgY2xhc3MuXG4gKlxuICogQHBhcmFtIGluaGVyaXRhbmNlQ2hhaW4gQSBsaXN0IG9mIGBXcml0YWJsZURlZnNgIHN0YXJ0aW5nIGF0IHRoZSB0b3AgbW9zdCB0eXBlIGFuZCBsaXN0aW5nXG4gKiBzdWItdHlwZXMgaW4gb3JkZXIuIEZvciBlYWNoIHR5cGUgdGFrZSB0aGUgYGhvc3RBdHRyc2AgYW5kIGBob3N0VmFyc2AgYW5kIG1lcmdlIGl0IHdpdGggdGhlIGNoaWxkXG4gKiB0eXBlLlxuICovXG5mdW5jdGlvbiBtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlKGluaGVyaXRhbmNlQ2hhaW4pIHtcbiAgICBsZXQgaG9zdFZhcnMgPSAwO1xuICAgIGxldCBob3N0QXR0cnMgPSBudWxsO1xuICAgIC8vIFdlIHByb2Nlc3MgdGhlIGluaGVyaXRhbmNlIG9yZGVyIGZyb20gdGhlIGJhc2UgdG8gdGhlIGxlYXZlcyBoZXJlLlxuICAgIGZvciAobGV0IGkgPSBpbmhlcml0YW5jZUNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IGluaGVyaXRhbmNlQ2hhaW5baV07XG4gICAgICAgIC8vIEZvciBlYWNoIGBob3N0VmFyc2AsIHdlIG5lZWQgdG8gYWRkIHRoZSBzdXBlcmNsYXNzIGFtb3VudC5cbiAgICAgICAgZGVmLmhvc3RWYXJzID0gKGhvc3RWYXJzICs9IGRlZi5ob3N0VmFycyk7XG4gICAgICAgIC8vIGZvciBlYWNoIGBob3N0QXR0cnNgIHdlIG5lZWQgdG8gbWVyZ2UgaXQgd2l0aCBzdXBlcmNsYXNzLlxuICAgICAgICBkZWYuaG9zdEF0dHJzID1cbiAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJzKGRlZi5ob3N0QXR0cnMsIGhvc3RBdHRycyA9IG1lcmdlSG9zdEF0dHJzKGhvc3RBdHRycywgZGVmLmhvc3RBdHRycykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1heWJlVW53cmFwRW1wdHkodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IEVNUFRZX09CSikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID09PSBFTVBUWV9BUlJBWSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5oZXJpdFZpZXdRdWVyeShkZWZpbml0aW9uLCBzdXBlclZpZXdRdWVyeSkge1xuICAgIGNvbnN0IHByZXZWaWV3UXVlcnkgPSBkZWZpbml0aW9uLnZpZXdRdWVyeTtcbiAgICBpZiAocHJldlZpZXdRdWVyeSkge1xuICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IChyZiwgY3R4KSA9PiB7XG4gICAgICAgICAgICBzdXBlclZpZXdRdWVyeShyZiwgY3R4KTtcbiAgICAgICAgICAgIHByZXZWaWV3UXVlcnkocmYsIGN0eCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IHN1cGVyVmlld1F1ZXJ5O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRDb250ZW50UXVlcmllcyhkZWZpbml0aW9uLCBzdXBlckNvbnRlbnRRdWVyaWVzKSB7XG4gICAgY29uc3QgcHJldkNvbnRlbnRRdWVyaWVzID0gZGVmaW5pdGlvbi5jb250ZW50UXVlcmllcztcbiAgICBpZiAocHJldkNvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXMgPSAocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpID0+IHtcbiAgICAgICAgICAgIHN1cGVyQ29udGVudFF1ZXJpZXMocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICAgICAgcHJldkNvbnRlbnRRdWVyaWVzKHJmLCBjdHgsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXMgPSBzdXBlckNvbnRlbnRRdWVyaWVzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRIb3N0QmluZGluZ3MoZGVmaW5pdGlvbiwgc3VwZXJIb3N0QmluZGluZ3MpIHtcbiAgICBjb25zdCBwcmV2SG9zdEJpbmRpbmdzID0gZGVmaW5pdGlvbi5ob3N0QmluZGluZ3M7XG4gICAgaWYgKHByZXZIb3N0QmluZGluZ3MpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgPSAocmYsIGN0eCkgPT4ge1xuICAgICAgICAgICAgc3VwZXJIb3N0QmluZGluZ3MocmYsIGN0eCk7XG4gICAgICAgICAgICBwcmV2SG9zdEJpbmRpbmdzKHJmLCBjdHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgPSBzdXBlckhvc3RCaW5kaW5ncztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGaWVsZHMgd2hpY2ggZXhpc3Qgb24gZWl0aGVyIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgZGVmaW5pdGlvbnMsIGFuZCBuZWVkIHRvIGJlIGNvcGllZCBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgY2xhc3NlcyBieSB0aGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgLlxuICovXG5jb25zdCBDT1BZX0RJUkVDVElWRV9GSUVMRFMgPSBbXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIHByb3ZpZGVycyBvZiBpdHMgcGFyZW50LlxuICAgICdwcm92aWRlcnNSZXNvbHZlcicsXG4gICAgLy8gTm90IGxpc3RlZCBoZXJlIGFyZSBhbnkgZmllbGRzIHdoaWNoIGFyZSBoYW5kbGVkIGJ5IHRoZSBgybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAsIHN1Y2hcbiAgICAvLyBhcyBpbnB1dHMsIG91dHB1dHMsIGFuZCBob3N0IGJpbmRpbmcgZnVuY3Rpb25zLlxuXTtcbi8qKlxuICogRmllbGRzIHdoaWNoIGV4aXN0IG9ubHkgb24gY29tcG9uZW50IGRlZmluaXRpb25zLCBhbmQgbmVlZCB0byBiZSBjb3BpZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGRcbiAqIGNsYXNzZXMgYnkgdGhlIGDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlYC5cbiAqXG4gKiBUaGUgdHlwZSBoZXJlIGFsbG93cyBhbnkgZmllbGQgb2YgYENvbXBvbmVudERlZmAgd2hpY2ggaXMgbm90IGFsc28gYSBwcm9wZXJ0eSBvZiBgRGlyZWN0aXZlRGVmYCxcbiAqIHNpbmNlIHRob3NlIHNob3VsZCBnbyBpbiBgQ09QWV9ESVJFQ1RJVkVfRklFTERTYCBhYm92ZS5cbiAqL1xuY29uc3QgQ09QWV9DT01QT05FTlRfRklFTERTID0gW1xuICAgIC8vIFRoZSBjaGlsZCBjbGFzcyBzaG91bGQgdXNlIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbiBvZiBpdHMgcGFyZW50LCBpbmNsdWRpbmcgYWxsIHRlbXBsYXRlXG4gICAgLy8gc2VtYW50aWNzLlxuICAgICd0ZW1wbGF0ZScsXG4gICAgJ2RlY2xzJyxcbiAgICAnY29uc3RzJyxcbiAgICAndmFycycsXG4gICAgJ29uUHVzaCcsXG4gICAgJ25nQ29udGVudFNlbGVjdG9ycycsXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIENTUyBzdHlsZXMgb2YgaXRzIHBhcmVudCwgaW5jbHVkaW5nIGFsbCBzdHlsaW5nIHNlbWFudGljcy5cbiAgICAnc3R5bGVzJyxcbiAgICAnZW5jYXBzdWxhdGlvbicsXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCBiZSBjaGVja2VkIGJ5IHRoZSBydW50aW1lIGluIHRoZSBzYW1lIHdheSBhcyBpdHMgcGFyZW50LlxuICAgICdzY2hlbWFzJyxcbl07XG4vKipcbiAqIENvcGllcyB0aGUgZmllbGRzIG5vdCBoYW5kbGVkIGJ5IHRoZSBgybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAgZnJvbSB0aGUgc3VwZXJ0eXBlIG9mIGFcbiAqIGRlZmluaXRpb24uXG4gKlxuICogVGhpcyBleGlzdHMgcHJpbWFyaWx5IHRvIHN1cHBvcnQgbmdjYyBtaWdyYXRpb24gb2YgYW4gZXhpc3RpbmcgVmlldyBFbmdpbmUgcGF0dGVybiwgd2hlcmUgYW5cbiAqIGVudGlyZSBkZWNvcmF0b3IgaXMgaW5oZXJpdGVkIGZyb20gYSBwYXJlbnQgdG8gYSBjaGlsZCBjbGFzcy4gV2hlbiBuZ2NjIGRldGVjdHMgdGhpcyBjYXNlLCBpdFxuICogZ2VuZXJhdGVzIGEgc2tlbGV0b24gZGVmaW5pdGlvbiBvbiB0aGUgY2hpbGQgY2xhc3MsIGFuZCBhcHBsaWVzIHRoaXMgZmVhdHVyZS5cbiAqXG4gKiBUaGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgIHRoZW4gY29waWVzIGFueSBuZWVkZWQgZmllbGRzIGZyb20gdGhlIHBhcmVudCBjbGFzcycgZGVmaW5pdGlvbixcbiAqIGluY2x1ZGluZyB0aGluZ3MgbGlrZSB0aGUgY29tcG9uZW50IHRlbXBsYXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBkZWZpbml0aW9uIFRoZSBkZWZpbml0aW9uIG9mIGEgY2hpbGQgY2xhc3Mgd2hpY2ggaW5oZXJpdHMgZnJvbSBhIHBhcmVudCBjbGFzcyB3aXRoIGl0c1xuICogb3duIGRlZmluaXRpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgbGV0IHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIGxldCBzdXBlckRlZiA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS7JtWNtcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUuybVkaXI7XG4gICAgfVxuICAgIC8vIE5lZWRlZCBiZWNhdXNlIGBkZWZpbml0aW9uYCBmaWVsZHMgYXJlIHJlYWRvbmx5LlxuICAgIGNvbnN0IGRlZkFueSA9IGRlZmluaXRpb247XG4gICAgLy8gQ29weSBvdmVyIGFueSBmaWVsZHMgdGhhdCBhcHBseSB0byBlaXRoZXIgZGlyZWN0aXZlcyBvciBjb21wb25lbnRzLlxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgQ09QWV9ESVJFQ1RJVkVfRklFTERTKSB7XG4gICAgICAgIGRlZkFueVtmaWVsZF0gPSBzdXBlckRlZltmaWVsZF07XG4gICAgfVxuICAgIGlmIChpc0NvbXBvbmVudERlZihzdXBlckRlZikpIHtcbiAgICAgICAgLy8gQ29weSBvdmVyIGFueSBjb21wb25lbnQtc3BlY2lmaWMgZmllbGRzLlxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIENPUFlfQ09NUE9ORU5UX0ZJRUxEUykge1xuICAgICAgICAgICAgZGVmQW55W2ZpZWxkXSA9IHN1cGVyRGVmW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3N5bWJvbEl0ZXJhdG9yID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICghX3N5bWJvbEl0ZXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IFN5bWJvbCA9IF9nbG9iYWxbJ1N5bWJvbCddO1xuICAgICAgICBpZiAoU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXM2LXNoaW0gc3BlY2lmaWMgbG9naWNcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zeW1ib2xJdGVyYXRvcjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZXZNb2RlRXF1YWwoYSwgYikge1xuICAgIGNvbnN0IGlzTGlzdExpa2VJdGVyYWJsZUEgPSBpc0xpc3RMaWtlSXRlcmFibGUoYSk7XG4gICAgY29uc3QgaXNMaXN0TGlrZUl0ZXJhYmxlQiA9IGlzTGlzdExpa2VJdGVyYWJsZShiKTtcbiAgICBpZiAoaXNMaXN0TGlrZUl0ZXJhYmxlQSAmJiBpc0xpc3RMaWtlSXRlcmFibGVCKSB7XG4gICAgICAgIHJldHVybiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBkZXZNb2RlRXF1YWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXNBT2JqZWN0ID0gYSAmJiAodHlwZW9mIGEgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgY29uc3QgaXNCT2JqZWN0ID0gYiAmJiAodHlwZW9mIGIgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgaWYgKCFpc0xpc3RMaWtlSXRlcmFibGVBICYmIGlzQU9iamVjdCAmJiAhaXNMaXN0TGlrZUl0ZXJhYmxlQiAmJiBpc0JPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5pcyhhLCBiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgTWFwKSAmJiAvLyBKUyBNYXAgYXJlIGl0ZXJhYmxlcyBidXQgcmV0dXJuIGVudHJpZXMgYXMgW2ssIHZdXG4gICAgICAgICAgICBnZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZnVuY3Rpb24gYXJlSXRlcmFibGVzRXF1YWwoYSwgYiwgY29tcGFyYXRvcikge1xuICAgIGNvbnN0IGl0ZXJhdG9yMSA9IGFbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICBjb25zdCBpdGVyYXRvcjIgPSBiW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgaXRlbTEgPSBpdGVyYXRvcjEubmV4dCgpO1xuICAgICAgICBjb25zdCBpdGVtMiA9IGl0ZXJhdG9yMi5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVtMS5kb25lICYmIGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgfHwgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjb21wYXJhdG9yKGl0ZW0xLnZhbHVlLCBpdGVtMi52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlcmF0ZUxpc3RMaWtlKG9iaiwgZm4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IG9ialtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgd2hpbGUgKCEoKGl0ZW0gPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICBmbihpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSnNPYmplY3Qobykge1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbyA9PT0gJ29iamVjdCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE8obWlza28pOiBjb25zaWRlciBpbmxpbmluZ1xuLyoqIFVwZGF0ZXMgYmluZGluZyBhbmQgcmV0dXJucyB0aGUgdmFsdWUuICovXG5mdW5jdGlvbiB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGxWaWV3W2JpbmRpbmdJbmRleF0gPSB2YWx1ZTtcbn1cbi8qKiBHZXRzIHRoZSBjdXJyZW50IGJpbmRpbmcgdmFsdWUuICovXG5mdW5jdGlvbiBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RTYW1lKGxWaWV3W2JpbmRpbmdJbmRleF0sIE5PX0NIQU5HRSwgJ1N0b3JlZCB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIHJldHVybiBsVmlld1tiaW5kaW5nSW5kZXhdO1xufVxuLyoqXG4gKiBVcGRhdGVzIGJpbmRpbmcgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgaXQgd2FzIHVwZGF0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGNoZWNrcyB0aGUgYENoZWNrTm9DaGFuZ2VzTW9kZWAgYW5kIHRocm93cyBpZiBjaGFuZ2VzIGFyZSBtYWRlLlxuICogU29tZSBjaGFuZ2VzIChPYmplY3RzL2l0ZXJhYmxlcykgZHVyaW5nIGBDaGVja05vQ2hhbmdlc01vZGVgIGFyZSBleGVtcHQgdG8gY29tcGx5IHdpdGggVkVcbiAqIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggVGhlIGJpbmRpbmcgaW4gdGhlIGBMVmlld2AgdG8gY2hlY2tcbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCBgbFZpZXdbYmluZGluZ0luZGV4XWBcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYmluZGluZ3MgaGFzIGNoYW5nZWQuIChUaHJvd3MgaWYgYmluZGluZyBoYXMgY2hhbmdlZCBkdXJpbmdcbiAqICAgICAgICAgIGBDaGVja05vQ2hhbmdlc01vZGVgKVxuICovXG5mdW5jdGlvbiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRMZXNzVGhhbihiaW5kaW5nSW5kZXgsIGxWaWV3Lmxlbmd0aCwgYFNsb3Qgc2hvdWxkIGhhdmUgYmVlbiBpbml0aWFsaXplZCB0byBOT19DSEFOR0VgKTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGxWaWV3W2JpbmRpbmdJbmRleF07XG4gICAgaWYgKE9iamVjdC5pcyhvbGRWYWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpKSB7XG4gICAgICAgICAgICAvLyBWaWV3IGVuZ2luZSBkaWRuJ3QgcmVwb3J0IHVuZGVmaW5lZCB2YWx1ZXMgYXMgY2hhbmdlZCBvbiB0aGUgZmlyc3QgY2hlY2tOb0NoYW5nZXMgcGFzc1xuICAgICAgICAgICAgLy8gKGJlZm9yZSB0aGUgY2hhbmdlIGRldGVjdGlvbiB3YXMgcnVuKS5cbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlVG9Db21wYXJlID0gb2xkVmFsdWUgIT09IE5PX0NIQU5HRSA/IG9sZFZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFkZXZNb2RlRXF1YWwob2xkVmFsdWVUb0NvbXBhcmUsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyhsVmlldywgYmluZGluZ0luZGV4LCBvbGRWYWx1ZVRvQ29tcGFyZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUob2xkVmFsdWUgPT09IE5PX0NIQU5HRSwgZGV0YWlscy5vbGRWYWx1ZSwgZGV0YWlscy5uZXdWYWx1ZSwgZGV0YWlscy5wcm9wTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGVyZSB3YXMgYSBjaGFuZ2UsIGJ1dCB0aGUgYGRldk1vZGVFcXVhbGAgZGVjaWRlZCB0aGF0IHRoZSBjaGFuZ2UgaXMgZXhlbXB0IGZyb20gYW4gZXJyb3IuXG4gICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgZXhpdCBhcyBpZiBubyBjaGFuZ2UuIFRoZSBlYXJseSBleGl0IGlzIG5lZWRlZCB0byBwcmV2ZW50IHRoZSBjaGFuZ2VkXG4gICAgICAgICAgICAvLyB2YWx1ZSB0byBiZSB3cml0dGVuIGludG8gYExWaWV3YCAoSWYgd2Ugd291bGQgd3JpdGUgdGhlIG5ldyB2YWx1ZSB0aGF0IHdlIHdvdWxkIG5vdCBzZWUgaXRcbiAgICAgICAgICAgIC8vIGFzIGNoYW5nZSBvbiBuZXh0IENELilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsVmlld1tiaW5kaW5nSW5kZXhdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKiBVcGRhdGVzIDIgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgZWl0aGVyIHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCBleHAxKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDEsIGV4cDIpIHx8IGRpZmZlcmVudDtcbn1cbi8qKiBVcGRhdGVzIDMgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgYW55IHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMik7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyLCBleHAzKSB8fCBkaWZmZXJlbnQ7XG59XG4vKiogVXBkYXRlcyA0IGJpbmRpbmdzIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGFueSB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KSB7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIGV4cDMsIGV4cDQpIHx8IGRpZmZlcmVudDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIG9yIHJlbW92ZXMgYSBib3VuZCBhdHRyaWJ1dGUgb24gYW4gRWxlbWVudC5cbiAqXG4gKiBVc2VkIGluIHRoZSBjYXNlIG9mIGBbYXR0ci50aXRsZV09XCJ2YWx1ZVwiYFxuICpcbiAqIEBwYXJhbSBuYW1lIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBUaGUgYXR0cmlidXRlIGlzIHJlbW92ZWQgd2hlbiB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gKiAgICAgICAgICAgICAgICAgIE90aGVyd2lzZSB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHNldCB0byB0aGUgc3RyaW5naWZpZWQgdmFsdWUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHBhcmFtIG5hbWVzcGFjZSBPcHRpb25hbCBuYW1lc3BhY2UgdG8gdXNlIHdoZW4gc2V0dGluZyB0aGUgYXR0cmlidXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCAnYXR0ci4nICsgbmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5ncyB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHRoZXJlIGFyZSAxIHRvIDggZXhwcmVzc2lvbnMgYGludGVycG9sYXRpb24xKClgIHRvIGBpbnRlcnBvbGF0aW9uOCgpYCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogVGhvc2UgYXJlIGZhc3RlciBiZWNhdXNlIHRoZXJlIGlzIG5vIG5lZWQgdG8gY3JlYXRlIGFuIGFycmF5IG9mIGV4cHJlc3Npb25zIGFuZCBpdGVyYXRlIG92ZXIgaXQuXG4gKlxuICogYHZhbHVlc2A6XG4gKiAtIGhhcyBzdGF0aWMgdGV4dCBhdCBldmVuIGluZGV4ZXMsXG4gKiAtIGhhcyBldmFsdWF0ZWQgZXhwcmVzc2lvbnMgYXQgb2RkIGluZGV4ZXMuXG4gKlxuICogUmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIHN0cmluZyB3aGVuIGFueSBvZiB0aGUgYXJndW1lbnRzIGNoYW5nZXMsIGBOT19DSEFOR0VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbigyLCB2YWx1ZXMubGVuZ3RoLCAnc2hvdWxkIGhhdmUgYXQgbGVhc3QgMyB2YWx1ZXMnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodmFsdWVzLmxlbmd0aCAlIDIsIDEsICdzaG91bGQgaGF2ZSBhbiBvZGQgbnVtYmVyIG9mIHZhbHVlcycpO1xuICAgIGxldCBpc0JpbmRpbmdVcGRhdGVkID0gZmFsc2U7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGJpbmRpbmdzIChvZGQgaW5kZXhlcykgaGF2ZSBjaGFuZ2VkXG4gICAgICAgIGlzQmluZGluZ1VwZGF0ZWQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4KyssIHZhbHVlc1tpXSkgfHwgaXNCaW5kaW5nVXBkYXRlZDtcbiAgICB9XG4gICAgc2V0QmluZGluZ0luZGV4KGJpbmRpbmdJbmRleCk7XG4gICAgaWYgKCFpc0JpbmRpbmdVcGRhdGVkKSB7XG4gICAgICAgIHJldHVybiBOT19DSEFOR0U7XG4gICAgfVxuICAgIC8vIEJ1aWxkIHRoZSB1cGRhdGVkIGNvbnRlbnRcbiAgICBsZXQgY29udGVudCA9IHZhbHVlc1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb250ZW50ICs9IHJlbmRlclN0cmluZ2lmeSh2YWx1ZXNbaV0pICsgdmFsdWVzW2kgKyAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMSBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBwcmVmaXggc3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCB2YWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IHN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgbmV4dEJpbmRpbmdJbmRleCgpLCB2MCk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBzdWZmaXggOiBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMiBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSk7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDIpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgc3VmZml4IDogTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDMgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCgzKTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICsgcmVuZGVyU3RyaW5naWZ5KHYyKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDQgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg0KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA1IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQpIHx8IGRpZmZlcmVudDtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoNSk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNiBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSkgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg2KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICsgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICtcbiAgICAgICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBpNCArIHJlbmRlclN0cmluZ2lmeSh2NSkgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNyBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQsIHY1LCB2NikgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg3KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIGkzICsgcmVuZGVyU3RyaW5naWZ5KHY0KSArIGk0ICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHY1KSArIGk1ICsgcmVuZGVyU3RyaW5naWZ5KHY2KSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA4IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSwgdjYsIHY3KSB8fCBkaWZmZXJlbnQ7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDgpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgKyByZW5kZXJTdHJpbmdpZnkodjMpICsgaTMgKyByZW5kZXJTdHJpbmdpZnkodjQpICsgaTQgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjUpICsgaTUgKyByZW5kZXJTdHJpbmdpZnkodjYpICsgaTYgKyByZW5kZXJTdHJpbmdpZnkodjcpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMShhdHRyTmFtZSwgcHJlZml4LCB2MCwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAxLCBwcmVmaXgsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMigndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyKGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAyLCBwcmVmaXgsIGkwLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzKFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyhhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDMsIHByZWZpeCwgaTAsIGkxLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNChcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNCwgcHJlZml4LCBpMCwgaTEsIGkyLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA1LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNihhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDYsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyhcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNywgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgoXG4gKiAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOChhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gOCwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBpNiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYoXG4gKiAgJ3RpdGxlJywgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYoYXR0ck5hbWUsIHZhbHVlcywgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25JbkJldHdlZW4gPSBbdmFsdWVzWzBdXTsgLy8gcHJlZml4XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25JbkJldHdlZW4ucHVzaCh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5sZW5ndGggKyAxLCAuLi5pbnRlcnBvbGF0aW9uSW5CZXR3ZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiB0ZW1wbGF0ZUZpcnN0Q3JlYXRlUGFzcyhpbmRleCwgdFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIC8vIFRPRE8ocGspOiByZWZhY3RvciBnZXRPckNyZWF0ZVROb2RlIHRvIGhhdmUgdGhlIFwiY3JlYXRlXCIgb25seSB2ZXJzaW9uXG4gICAgY29uc3QgdE5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgNCAvKiBDb250YWluZXIgKi8sIHRhZ05hbWUgfHwgbnVsbCwgZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpKTtcbiAgICByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpKTtcbiAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCB0Tm9kZSk7XG4gICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IHROb2RlLnRWaWV3cyA9IGNyZWF0ZVRWaWV3KDIgLyogRW1iZWRkZWQgKi8sIHROb2RlLCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdFZpZXcuZGlyZWN0aXZlUmVnaXN0cnksIHRWaWV3LnBpcGVSZWdpc3RyeSwgbnVsbCwgdFZpZXcuc2NoZW1hcywgdFZpZXdDb25zdHMpO1xuICAgIGlmICh0Vmlldy5xdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LnF1ZXJpZXMudGVtcGxhdGUodFZpZXcsIHROb2RlKTtcbiAgICAgICAgZW1iZWRkZWRUVmlldy5xdWVyaWVzID0gdFZpZXcucXVlcmllcy5lbWJlZGRlZFRWaWV3KHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIExDb250YWluZXIgZm9yIGFuIG5nLXRlbXBsYXRlIChkeW5hbWljYWxseS1pbnNlcnRlZCB2aWV3KSwgZS5nLlxuICpcbiAqIDxuZy10ZW1wbGF0ZSAjZm9vPlxuICogICAgPGRpdj48L2Rpdj5cbiAqIDwvbmctdGVtcGxhdGU+XG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY29udGFpbmVyIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gdGVtcGxhdGVGbiBJbmxpbmUgdGVtcGxhdGVcbiAqIEBwYXJhbSBkZWNscyBUaGUgbnVtYmVyIG9mIG5vZGVzLCBsb2NhbCByZWZzLCBhbmQgcGlwZXMgZm9yIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB2YXJzIFRoZSBudW1iZXIgb2YgYmluZGluZ3MgZm9yIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB0YWdOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250YWluZXIgZWxlbWVudCwgaWYgYXBwbGljYWJsZVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGVtcGxhdGUgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzIEluZGV4IG9mIHRoZSBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZkV4dHJhY3RvciBBIGZ1bmN0aW9uIHdoaWNoIGV4dHJhY3RzIGxvY2FsLXJlZnMgdmFsdWVzIGZyb20gdGhlIHRlbXBsYXRlLlxuICogICAgICAgIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBsb2NhbC1yZWYuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRlbXBsYXRlKGluZGV4LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgsIGxvY2FsUmVmRXh0cmFjdG9yKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID8gdGVtcGxhdGVGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlKTtcbiAgICBjb25zdCBjb21tZW50ID0gbFZpZXdbUkVOREVSRVJdLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ2NvbnRhaW5lcicgOiAnJyk7XG4gICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBjb21tZW50LCB0Tm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKGNvbW1lbnQsIGxWaWV3KTtcbiAgICBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBsVmlld1thZGp1c3RlZEluZGV4XSA9IGNyZWF0ZUxDb250YWluZXIoY29tbWVudCwgbFZpZXcsIGNvbW1lbnQsIHROb2RlKSk7XG4gICAgaWYgKGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgaWYgKGxvY2FsUmVmc0luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKGxWaWV3LCB0Tm9kZSwgbG9jYWxSZWZFeHRyYWN0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogU3RvcmUgYSB2YWx1ZSBpbiB0aGUgYGRhdGFgIGF0IGEgZ2l2ZW4gYGluZGV4YC4gKi9cbmZ1bmN0aW9uIHN0b3JlKHRWaWV3LCBsVmlldywgaW5kZXgsIHZhbHVlKSB7XG4gICAgLy8gV2UgZG9uJ3Qgc3RvcmUgYW55IHN0YXRpYyBkYXRhIGZvciBsb2NhbCB2YXJpYWJsZXMsIHNvIHRoZSBmaXJzdCB0aW1lXG4gICAgLy8gd2Ugc2VlIHRoZSB0ZW1wbGF0ZSwgd2Ugc2hvdWxkIHN0b3JlIGFzIG51bGwgdG8gYXZvaWQgYSBzcGFyc2UgYXJyYXlcbiAgICBpZiAoaW5kZXggPj0gdFZpZXcuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSBudWxsO1xuICAgICAgICB0Vmlldy5ibHVlcHJpbnRbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gICAgbFZpZXdbaW5kZXhdID0gdmFsdWU7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhIGxvY2FsIHJlZmVyZW5jZSBmcm9tIHRoZSBjdXJyZW50IGNvbnRleHRWaWV3RGF0YS5cbiAqXG4gKiBJZiB0aGUgcmVmZXJlbmNlIHRvIHJldHJpZXZlIGlzIGluIGEgcGFyZW50IHZpZXcsIHRoaXMgaW5zdHJ1Y3Rpb24gaXMgdXNlZCBpbiBjb25qdW5jdGlvblxuICogd2l0aCBhIG5leHRDb250ZXh0KCkgY2FsbCwgd2hpY2ggd2Fsa3MgdXAgdGhlIHRyZWUgYW5kIHVwZGF0ZXMgdGhlIGNvbnRleHRWaWV3RGF0YSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBsb2NhbCByZWYgaW4gY29udGV4dFZpZXdEYXRhLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZWZlcmVuY2UoaW5kZXgpIHtcbiAgICBjb25zdCBjb250ZXh0TFZpZXcgPSBnZXRDb250ZXh0TFZpZXcoKTtcbiAgICByZXR1cm4gbG9hZChjb250ZXh0TFZpZXcsIEhFQURFUl9PRkZTRVQgKyBpbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGhlIEBhbmd1bGFyL2NvcmUgQVBJIHN1cmZhY2UgdXNlZCBpbiBnZW5lcmF0ZWQgZXhwcmVzc2lvbnMgdG8gdGhlIGFjdHVhbCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBwdWJsaWMgZXhwb3J0cyBvZiBAYW5ndWxhci9jb3JlLlxuICovXG5jb25zdCBhbmd1bGFyQ29yZURpRW52ID0ge1xuICAgICfJtcm1ZGVmaW5lSW5qZWN0YWJsZSc6IMm1ybVkZWZpbmVJbmplY3RhYmxlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0b3InOiDJtcm1ZGVmaW5lSW5qZWN0b3IsXG4gICAgJ8m1ybVpbmplY3QnOiDJtcm1aW5qZWN0LFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnlEZXAnOiDJtcm1aW52YWxpZEZhY3RvcnlEZXAsXG4gICAgJ3Jlc29sdmVGb3J3YXJkUmVmJzogcmVzb2x2ZUZvcndhcmRSZWYsXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGluamVjdGFibGUgYWNjb3JkaW5nIHRvIGl0cyBgSW5qZWN0YWJsZWAgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIG9udG8gdGhlIGluamVjdGFibGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUluamVjdGFibGUodHlwZSwgbWV0YSkge1xuICAgIGxldCBuZ0luamVjdGFibGVEZWYgPSBudWxsO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIC8vIGlmIE5HX1BST1ZfREVGIGlzIGFscmVhZHkgZGVmaW5lZCBvbiB0aGlzIGNsYXNzIHRoZW4gZG9uJ3Qgb3ZlcndyaXRlIGl0XG4gICAgaWYgKCF0eXBlLmhhc093blByb3BlcnR5KE5HX1BST1ZfREVGKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfUFJPVl9ERUYsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZ0luamVjdGFibGVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZ0luamVjdGFibGVEZWYgPSBjb21waWxlci5jb21waWxlSW5qZWN0YWJsZShhbmd1bGFyQ29yZURpRW52LCBgbmc6Ly8vJHt0eXBlLm5hbWV9L8m1cHJvdi5qc2AsIGdldEluamVjdGFibGVNZXRhZGF0YSh0eXBlLCBtZXRhKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZ0luamVjdGFibGVEZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gaWYgTkdfRkFDVE9SWV9ERUYgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIHRoaXMgY2xhc3MgdGhlbiBkb24ndCBvdmVyd3JpdGUgaXRcbiAgICBpZiAoIXR5cGUuaGFzT3duUHJvcGVydHkoTkdfRkFDVE9SWV9ERUYpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnaW5qZWN0YWJsZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRGlFbnYsIGBuZzovLy8ke3R5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LkluamVjdGFibGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gTGVhdmUgdGhpcyBjb25maWd1cmFibGUgc28gdGhhdCB0aGUgZmFjdG9yaWVzIGZyb20gZGlyZWN0aXZlcyBvciBwaXBlcyBjYW4gdGFrZSBwcmVjZWRlbmNlLlxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IFVTRV9WQUxVRSA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBwcm92aWRlOiBTdHJpbmcsIHVzZVZhbHVlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuZnVuY3Rpb24gaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VDbGFzcyAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNVc2VWYWx1ZVByb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gVVNFX1ZBTFVFIGluIG1ldGE7XG59XG5mdW5jdGlvbiBpc1VzZUZhY3RvcnlQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIG1ldGEudXNlRmFjdG9yeSAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNVc2VFeGlzdGluZ1Byb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VFeGlzdGluZyAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0SW5qZWN0YWJsZU1ldGFkYXRhKHR5cGUsIHNyY01ldGEpIHtcbiAgICAvLyBBbGxvdyB0aGUgY29tcGlsYXRpb24gb2YgYSBjbGFzcyB3aXRoIGEgYEBJbmplY3RhYmxlKClgIGRlY29yYXRvciB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICBjb25zdCBtZXRhID0gc3JjTWV0YSB8fCB7IHByb3ZpZGVkSW46IG51bGwgfTtcbiAgICBjb25zdCBjb21waWxlck1ldGEgPSB7XG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgIHByb3ZpZGVkSW46IG1ldGEucHJvdmlkZWRJbixcbiAgICB9O1xuICAgIGlmICgoaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHx8IGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpKSAmJiBtZXRhLmRlcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21waWxlck1ldGEuZGVwcyA9IGNvbnZlcnREZXBlbmRlbmNpZXMobWV0YS5kZXBzKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgcHJvdmlkZWQgYSBgdXNlWHh4eGAgcHJvcGVydHkuXG4gICAgaWYgKGlzVXNlQ2xhc3NQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlQ2xhc3MgPSBtZXRhLnVzZUNsYXNzO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZVZhbHVlID0gbWV0YS51c2VWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNVc2VGYWN0b3J5UHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZUZhY3RvcnkgPSBtZXRhLnVzZUZhY3Rvcnk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXNlRXhpc3RpbmdQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlRXhpc3RpbmcgPSBtZXRhLnVzZUV4aXN0aW5nO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZXJNZXRhO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSW5qZWN0YWJsZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEluamVjdGFibGUgPSBtYWtlRGVjb3JhdG9yKCdJbmplY3RhYmxlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVJbmplY3RhYmxlKHR5cGUsIG1ldGEpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBmaW5kRmlyc3RDbG9zZWRDeWNsZShrZXlzKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChyZXMuaW5kZXhPZihrZXlzW2ldKSA+IC0xKSB7XG4gICAgICAgICAgICByZXMucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IHJldmVyc2VkID0gZmluZEZpcnN0Q2xvc2VkQ3ljbGUoa2V5cy5zbGljZSgpLnJldmVyc2UoKSk7XG4gICAgICAgIGNvbnN0IHRva2VuU3RycyA9IHJldmVyc2VkLm1hcChrID0+IHN0cmluZ2lmeShrLnRva2VuKSk7XG4gICAgICAgIHJldHVybiAnICgnICsgdG9rZW5TdHJzLmpvaW4oJyAtPiAnKSArICcpJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuZnVuY3Rpb24gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSwgb3JpZ2luYWxFcnJvcikge1xuICAgIGNvbnN0IGtleXMgPSBba2V5XTtcbiAgICBjb25zdCBlcnJNc2cgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKGtleXMpO1xuICAgIGNvbnN0IGVycm9yID0gKG9yaWdpbmFsRXJyb3IgPyB3cmFwcGVkRXJyb3IoZXJyTXNnLCBvcmlnaW5hbEVycm9yKSA6IEVycm9yKGVyck1zZykpO1xuICAgIGVycm9yLmFkZEtleSA9IGFkZEtleTtcbiAgICBlcnJvci5rZXlzID0ga2V5cztcbiAgICBlcnJvci5pbmplY3RvcnMgPSBbaW5qZWN0b3JdO1xuICAgIGVycm9yLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlO1xuICAgIGVycm9yW0VSUk9SX09SSUdJTkFMX0VSUk9SXSA9IG9yaWdpbmFsRXJyb3I7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gYWRkS2V5KGluamVjdG9yLCBrZXkpIHtcbiAgICB0aGlzLmluamVjdG9ycy5wdXNoKGluamVjdG9yKTtcbiAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuICAgIC8vIE5vdGU6IFRoaXMgdXBkYXRlZCBtZXNzYWdlIHdvbid0IGJlIHJlZmxlY3RlZCBpbiB0aGUgYC5zdGFja2AgcHJvcGVydHlcbiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UodGhpcy5rZXlzKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gdHJ5aW5nIHRvIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBieSBrZXkgZnJvbSB7QGxpbmsgSW5qZWN0b3J9LCBidXQgdGhlXG4gKiB7QGxpbmsgSW5qZWN0b3J9IGRvZXMgbm90IGhhdmUgYSB7QGxpbmsgUHJvdmlkZXJ9IGZvciB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcihiOkIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gbm9Qcm92aWRlckVycm9yKGluamVjdG9yLCBrZXkpIHtcbiAgICByZXR1cm4gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBzdHJpbmdpZnkoa2V5c1swXS50b2tlbik7XG4gICAgICAgIHJldHVybiBgTm8gcHJvdmlkZXIgZm9yICR7Zmlyc3R9ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX1gO1xuICAgIH0pO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBkZXBlbmRlbmNpZXMgZm9ybSBhIGN5Y2xlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICB7cHJvdmlkZTogXCJvbmVcIiwgdXNlRmFjdG9yeTogKHR3bykgPT4gXCJ0d29cIiwgZGVwczogW1tuZXcgSW5qZWN0KFwidHdvXCIpXV19LFxuICogICB7cHJvdmlkZTogXCJ0d29cIiwgdXNlRmFjdG9yeTogKG9uZSkgPT4gXCJvbmVcIiwgZGVwczogW1tuZXcgSW5qZWN0KFwib25lXCIpXV19XG4gKiBdKTtcbiAqXG4gKiBleHBlY3QoKCkgPT4gaW5qZWN0b3IuZ2V0KFwib25lXCIpKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqIFJldHJpZXZpbmcgYEFgIG9yIGBCYCB0aHJvd3MgYSBgQ3ljbGljRGVwZW5kZW5jeUVycm9yYCBhcyB0aGUgZ3JhcGggYWJvdmUgY2Fubm90IGJlIGNvbnN0cnVjdGVkLlxuICovXG5mdW5jdGlvbiBjeWNsaWNEZXBlbmRlbmN5RXJyb3IoaW5qZWN0b3IsIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4gYENhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSEke2NvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyl9YDtcbiAgICB9KTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gYSBjb25zdHJ1Y3RpbmcgdHlwZSByZXR1cm5zIHdpdGggYW4gRXJyb3IuXG4gKlxuICogVGhlIGBJbnN0YW50aWF0aW9uRXJyb3JgIGNsYXNzIGNvbnRhaW5zIHRoZSBvcmlnaW5hbCBlcnJvciBwbHVzIHRoZSBkZXBlbmRlbmN5IGdyYXBoIHdoaWNoIGNhdXNlZFxuICogdGhpcyBvYmplY3QgdG8gYmUgaW5zdGFudGlhdGVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aHJvdyBuZXcgRXJyb3IoJ21lc3NhZ2UnKTtcbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKTtcblxuICogdHJ5IHtcbiAqICAgaW5qZWN0b3IuZ2V0KEEpO1xuICogfSBjYXRjaCAoZSkge1xuICogICBleHBlY3QoZSBpbnN0YW5jZW9mIEluc3RhbnRpYXRpb25FcnJvcikudG9CZSh0cnVlKTtcbiAqICAgZXhwZWN0KGUub3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZSkudG9FcXVhbChcIm1lc3NhZ2VcIik7XG4gKiAgIGV4cGVjdChlLm9yaWdpbmFsU3RhY2spLnRvQmVEZWZpbmVkKCk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gaW5zdGFudGlhdGlvbkVycm9yKGluamVjdG9yLCBvcmlnaW5hbEV4Y2VwdGlvbiwgb3JpZ2luYWxTdGFjaywga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gc3RyaW5naWZ5KGtleXNbMF0udG9rZW4pO1xuICAgICAgICByZXR1cm4gYCR7b3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZX06IEVycm9yIGR1cmluZyBpbnN0YW50aWF0aW9uIG9mICR7Zmlyc3R9ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX0uYDtcbiAgICB9LCBvcmlnaW5hbEV4Y2VwdGlvbik7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGFuIG9iamVjdCBvdGhlciB0aGVuIHtAbGluayBQcm92aWRlcn0gKG9yIGBUeXBlYCkgaXMgcGFzc2VkIHRvIHtAbGluayBJbmplY3Rvcn1cbiAqIGNyZWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcIm5vdCBhIHR5cGVcIl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBpbnZhbGlkUHJvdmlkZXJFcnJvcihwcm92aWRlcikge1xuICAgIHJldHVybiBFcnJvcihgSW52YWxpZCBwcm92aWRlciAtIG9ubHkgaW5zdGFuY2VzIG9mIFByb3ZpZGVyIGFuZCBUeXBlIGFyZSBhbGxvd2VkLCBnb3Q6ICR7cHJvdmlkZXJ9YCk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjbGFzcyBoYXMgbm8gYW5ub3RhdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBMYWNrIG9mIGFubm90YXRpb24gaW5mb3JtYXRpb24gcHJldmVudHMgdGhlIHtAbGluayBJbmplY3Rvcn0gZnJvbSBkZXRlcm1pbmluZyB3aGljaCBkZXBlbmRlbmNpZXNcbiAqIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3IuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGFsc28gdGhyb3duIHdoZW4gdGhlIGNsYXNzIG5vdCBtYXJrZWQgd2l0aCB7QGxpbmsgSW5qZWN0YWJsZX0gaGFzIHBhcmFtZXRlciB0eXBlcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBCIHt9XG4gKlxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge30gLy8gbm8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBhcmFtZXRlciB0eXBlcyBvZiBBIGlzIGF2YWlsYWJsZSBhdCBydW50aW1lLlxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBLEJdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKi9cbmZ1bmN0aW9uIG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcykge1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBhcmFtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IHBhcmFtc1tpXTtcbiAgICAgICAgaWYgKCFwYXJhbWV0ZXIgfHwgcGFyYW1ldGVyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBzaWduYXR1cmUucHVzaCgnPycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2lnbmF0dXJlLnB1c2gocGFyYW1ldGVyLm1hcChzdHJpbmdpZnkpLmpvaW4oJyAnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEVycm9yKCdDYW5ub3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgXFwnJyArIHN0cmluZ2lmeSh0eXBlT3JGdW5jKSArICdcXCcoJyArXG4gICAgICAgIHNpZ25hdHVyZS5qb2luKCcsICcpICsgJykuICcgK1xuICAgICAgICAnTWFrZSBzdXJlIHRoYXQgYWxsIHRoZSBwYXJhbWV0ZXJzIGFyZSBkZWNvcmF0ZWQgd2l0aCBJbmplY3Qgb3IgaGF2ZSB2YWxpZCB0eXBlIGFubm90YXRpb25zIGFuZCB0aGF0IFxcJycgK1xuICAgICAgICBzdHJpbmdpZnkodHlwZU9yRnVuYykgKyAnXFwnIGlzIGRlY29yYXRlZCB3aXRoIEluamVjdGFibGUuJyk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGdldHRpbmcgYW4gb2JqZWN0IGJ5IGluZGV4LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge31cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSk7XG4gKlxuICogZXhwZWN0KCgpID0+IGluamVjdG9yLmdldEF0KDEwMCkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICovXG5mdW5jdGlvbiBvdXRPZkJvdW5kc0Vycm9yKGluZGV4KSB7XG4gICAgcmV0dXJuIEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBvdXQtb2YtYm91bmRzLmApO1xufVxuLy8gVE9ETzogYWRkIGEgd29ya2luZyBleGFtcGxlIGFmdGVyIGFscGhhMzggaXMgcmVsZWFzZWRcbi8qKlxuICogVGhyb3duIHdoZW4gYSBtdWx0aSBwcm92aWRlciBhbmQgYSByZWd1bGFyIHByb3ZpZGVyIGFyZSBib3VuZCB0byB0aGUgc2FtZSB0b2tlbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHsgcHJvdmlkZTogXCJTdHJpbmdzXCIsIHVzZVZhbHVlOiBcInN0cmluZzFcIiwgbXVsdGk6IHRydWV9LFxuICogICB7IHByb3ZpZGU6IFwiU3RyaW5nc1wiLCB1c2VWYWx1ZTogXCJzdHJpbmcyXCIsIG11bHRpOiBmYWxzZX1cbiAqIF0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBtaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3IocHJvdmlkZXIxLCBwcm92aWRlcjIpIHtcbiAgICByZXR1cm4gRXJyb3IoYENhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVycywgZ290OiAke3Byb3ZpZGVyMX0gJHtwcm92aWRlcjJ9YCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHVuaXF1ZSBvYmplY3QgdXNlZCBmb3IgcmV0cmlldmluZyBpdGVtcyBmcm9tIHRoZSB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfS5cbiAqXG4gKiBLZXlzIGhhdmU6XG4gKiAtIGEgc3lzdGVtLXdpZGUgdW5pcXVlIGBpZGAuXG4gKiAtIGEgYHRva2VuYC5cbiAqXG4gKiBgS2V5YCBpcyB1c2VkIGludGVybmFsbHkgYnkge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0gYmVjYXVzZSBpdHMgc3lzdGVtLXdpZGUgdW5pcXVlIGBpZGAgYWxsb3dzXG4gKiB0aGVcbiAqIGluamVjdG9yIHRvIHN0b3JlIGNyZWF0ZWQgb2JqZWN0cyBpbiBhIG1vcmUgZWZmaWNpZW50IHdheS5cbiAqXG4gKiBgS2V5YCBzaG91bGQgbm90IGJlIGNyZWF0ZWQgZGlyZWN0bHkuIHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGNyZWF0ZXMga2V5cyBhdXRvbWF0aWNhbGx5IHdoZW5cbiAqIHJlc29sdmluZ1xuICogcHJvdmlkZXJzLlxuICpcbiAqIEBkZXByZWNhdGVkIE5vIHJlcGxhY2VtZW50XG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlZmxlY3RpdmVLZXkge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0b2tlbiwgaWQpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gbXVzdCBiZSBkZWZpbmVkIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSBzdHJpbmdpZnkodGhpcy50b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGBLZXlgIGZvciBhIHRva2VuLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5nZXQocmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBrZXlzIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG51bWJlck9mS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5udW1iZXJPZktleXM7XG4gICAgfVxufVxuY2xhc3MgS2V5UmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9hbGxLZXlzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuIGluc3RhbmNlb2YgUmVmbGVjdGl2ZUtleSlcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgaWYgKHRoaXMuX2FsbEtleXMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsbEtleXMuZ2V0KHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdLZXkgPSBuZXcgUmVmbGVjdGl2ZUtleSh0b2tlbiwgUmVmbGVjdGl2ZUtleS5udW1iZXJPZktleXMpO1xuICAgICAgICB0aGlzLl9hbGxLZXlzLnNldCh0b2tlbiwgbmV3S2V5KTtcbiAgICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZ2V0IG51bWJlck9mS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbEtleXMuc2l6ZTtcbiAgICB9XG59XG5jb25zdCBfZ2xvYmFsS2V5UmVnaXN0cnkgPSBuZXcgS2V5UmVnaXN0cnkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byByZWZsZWN0aW9uIGRhdGEgYWJvdXQgc3ltYm9scy4gVXNlZCBpbnRlcm5hbGx5IGJ5IEFuZ3VsYXJcbiAqIHRvIHBvd2VyIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGFuZCBjb21waWxhdGlvbi5cbiAqL1xuY2xhc3MgUmVmbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIHVwZGF0ZUNhcGFiaWxpdGllcyhjYXBzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IGNhcHM7XG4gICAgfVxuICAgIGZhY3RvcnkodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmZhY3RvcnkodHlwZSk7XG4gICAgfVxuICAgIHBhcmFtZXRlcnModHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGFubm90YXRpb25zKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5hbm5vdGF0aW9ucyh0eXBlT3JGdW5jKTtcbiAgICB9XG4gICAgcHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm9wTWV0YWRhdGEodHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSk7XG4gICAgfVxuICAgIGdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuZ2V0dGVyKG5hbWUpO1xuICAgIH1cbiAgICBzZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnNldHRlcihuYW1lKTtcbiAgICB9XG4gICAgbWV0aG9kKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5tZXRob2QobmFtZSk7XG4gICAgfVxuICAgIGltcG9ydFVyaSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuaW1wb3J0VXJpKHR5cGUpO1xuICAgIH1cbiAgICByZXNvdXJjZVVyaSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb3VyY2VVcmkodHlwZSk7XG4gICAgfVxuICAgIHJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSk7XG4gICAgfVxuICAgIHJlc29sdmVFbnVtKGlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlRW51bShpZGVudGlmaWVyLCBuYW1lKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUge0BsaW5rIFJlZmxlY3Rvcn0gdXNlZCBpbnRlcm5hbGx5IGluIEFuZ3VsYXIgdG8gYWNjZXNzIG1ldGFkYXRhXG4gKiBhYm91dCBzeW1ib2xzLlxuICovXG5jb25zdCByZWZsZWN0b3IgPSBuZXcgUmVmbGVjdG9yKG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogYERlcGVuZGVuY3lgIGlzIHVzZWQgYnkgdGhlIGZyYW1ld29yayB0byBleHRlbmQgREkuXG4gKiBUaGlzIGlzIGludGVybmFsIHRvIEFuZ3VsYXIgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseS5cbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZURlcGVuZGVuY3kge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSBvcHRpb25hbDtcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21LZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koa2V5LCBmYWxzZSwgbnVsbCk7XG4gICAgfVxufVxuY29uc3QgX0VNUFRZX0xJU1QgPSBbXTtcbmNsYXNzIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyB7XG4gICAgY29uc3RydWN0b3Ioa2V5LCByZXNvbHZlZEZhY3RvcmllcywgbXVsdGlQcm92aWRlcikge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEZhY3RvcmllcyA9IHJlc29sdmVkRmFjdG9yaWVzO1xuICAgICAgICB0aGlzLm11bHRpUHJvdmlkZXIgPSBtdWx0aVByb3ZpZGVyO1xuICAgICAgICB0aGlzLnJlc29sdmVkRmFjdG9yeSA9IHRoaXMucmVzb2x2ZWRGYWN0b3JpZXNbMF07XG4gICAgfVxufVxuLyoqXG4gKiBBbiBpbnRlcm5hbCByZXNvbHZlZCByZXByZXNlbnRhdGlvbiBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gY3JlYXRlZCBieSByZXNvbHZpbmcgYFByb3ZpZGVyYC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBmdW5jdGlvbiB3aGljaCBjYW4gcmV0dXJuIGFuIGluc3RhbmNlIG9mIGFuIG9iamVjdCByZXByZXNlbnRlZCBieSBhIGtleS5cbiAgICAgKi9cbiAgICBmYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBBcmd1bWVudHMgKGRlcGVuZGVuY2llcykgdG8gdGhlIGBmYWN0b3J5YCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIGEgc2luZ2xlIHByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpIHtcbiAgICBsZXQgZmFjdG9yeUZuO1xuICAgIGxldCByZXNvbHZlZERlcHM7XG4gICAgaWYgKHByb3ZpZGVyLnVzZUNsYXNzKSB7XG4gICAgICAgIGNvbnN0IHVzZUNsYXNzID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlQ2xhc3MpO1xuICAgICAgICBmYWN0b3J5Rm4gPSByZWZsZWN0b3IuZmFjdG9yeSh1c2VDbGFzcyk7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9kZXBlbmRlbmNpZXNGb3IodXNlQ2xhc3MpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm92aWRlci51c2VFeGlzdGluZykge1xuICAgICAgICBmYWN0b3J5Rm4gPSAoYWxpYXNJbnN0YW5jZSkgPT4gYWxpYXNJbnN0YW5jZTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gW1JlZmxlY3RpdmVEZXBlbmRlbmN5LmZyb21LZXkoUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIudXNlRXhpc3RpbmcpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUZhY3RvcnkpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gcHJvdmlkZXIudXNlRmFjdG9yeTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gY29uc3RydWN0RGVwZW5kZW5jaWVzKHByb3ZpZGVyLnVzZUZhY3RvcnksIHByb3ZpZGVyLmRlcHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmFjdG9yeUZuID0gKCkgPT4gcHJvdmlkZXIudXNlVmFsdWU7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9FTVBUWV9MSVNUO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkoZmFjdG9yeUZuLCByZXNvbHZlZERlcHMpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYFByb3ZpZGVyYCBpbnRvIGBSZXNvbHZlZFByb3ZpZGVyYC5cbiAqXG4gKiBgSW5qZWN0b3JgIGludGVybmFsbHkgb25seSB1c2VzIGBSZXNvbHZlZFByb3ZpZGVyYCwgYFByb3ZpZGVyYCBjb250YWlucyBjb252ZW5pZW5jZSBwcm92aWRlclxuICogc3ludGF4LlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIucHJvdmlkZSksIFtyZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpXSwgcHJvdmlkZXIubXVsdGkgfHwgZmFsc2UpO1xufVxuLyoqXG4gKiBSZXNvbHZlIGEgbGlzdCBvZiBQcm92aWRlcnMuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgW10pO1xuICAgIGNvbnN0IHJlc29sdmVkID0gbm9ybWFsaXplZC5tYXAocmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcik7XG4gICAgY29uc3QgcmVzb2x2ZWRQcm92aWRlck1hcCA9IG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHJlc29sdmVkLCBuZXcgTWFwKCkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHJlc29sdmVkUHJvdmlkZXJNYXAudmFsdWVzKCkpO1xufVxuLyoqXG4gKiBNZXJnZXMgYSBsaXN0IG9mIFJlc29sdmVkUHJvdmlkZXJzIGludG8gYSBsaXN0IHdoZXJlIGVhY2gga2V5IGlzIGNvbnRhaW5lZCBleGFjdGx5IG9uY2UgYW5kXG4gKiBtdWx0aSBwcm92aWRlcnMgaGF2ZSBiZWVuIG1lcmdlZC5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzLCBub3JtYWxpemVkUHJvdmlkZXJzTWFwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBwcm92aWRlcnNbaV07XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbm9ybWFsaXplZFByb3ZpZGVyc01hcC5nZXQocHJvdmlkZXIua2V5LmlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlciAhPT0gZXhpc3RpbmcubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG1peGluZ011bHRpUHJvdmlkZXJzV2l0aFJlZ3VsYXJQcm92aWRlcnNFcnJvcihleGlzdGluZywgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLnJlc29sdmVkRmFjdG9yaWVzLnB1c2gocHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXNbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXAuc2V0KHByb3ZpZGVyLmtleS5pZCwgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc29sdmVkUHJvdmlkZXI7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvdmlkZXIgPSBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfKHByb3ZpZGVyLmtleSwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMuc2xpY2UoKSwgcHJvdmlkZXIubXVsdGlQcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvdmlkZXJzTWFwLnNldChwcm92aWRlci5rZXkuaWQsIHJlc29sdmVkUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkUHJvdmlkZXJzTWFwO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZVByb3ZpZGVycyhwcm92aWRlcnMsIHJlcykge1xuICAgIHByb3ZpZGVycy5mb3JFYWNoKGIgPT4ge1xuICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIFR5cGUpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHsgcHJvdmlkZTogYiwgdXNlQ2xhc3M6IGIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiAmJiB0eXBlb2YgYiA9PSAnb2JqZWN0JyAmJiBiLnByb3ZpZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzLnB1c2goYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICAgICAgX25vcm1hbGl6ZVByb3ZpZGVycyhiLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZFByb3ZpZGVyRXJyb3IoYik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY29uc3RydWN0RGVwZW5kZW5jaWVzKHR5cGVPckZ1bmMsIGRlcGVuZGVuY2llcykge1xuICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gZGVwZW5kZW5jaWVzLm1hcCh0ID0+IFt0XSk7XG4gICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXMubWFwKHQgPT4gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCB0LCBwYXJhbXMpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSByZWZsZWN0b3IucGFyYW1ldGVycyh0eXBlT3JGdW5jKTtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGlmIChwYXJhbXMuc29tZShwID0+IHAgPT0gbnVsbCkpIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcy5tYXAocCA9PiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIHAsIHBhcmFtcykpO1xufVxuZnVuY3Rpb24gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCBtZXRhZGF0YSwgcGFyYW1zKSB7XG4gICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICBsZXQgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWV0YWRhdGEpKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVEZXBlbmRlbmN5KG1ldGFkYXRhLnRva2VuLCBvcHRpb25hbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEsIG9wdGlvbmFsLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgdmlzaWJpbGl0eSA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBwYXJhbU1ldGFkYXRhID0gbWV0YWRhdGFbaV07XG4gICAgICAgIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgVHlwZSkge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YS50b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2VsZiB8fCBwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuID0gcmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pO1xuICAgIGlmICh0b2tlbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVEZXBlbmRlbmN5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRocmVzaG9sZCBmb3IgdGhlIGR5bmFtaWMgdmVyc2lvblxuY29uc3QgVU5ERUZJTkVEID0ge307XG4vKipcbiAqIEEgUmVmbGVjdGl2ZURlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciB1c2VkIGZvciBpbnN0YW50aWF0aW5nIG9iamVjdHMgYW5kIHJlc29sdmluZ1xuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqIEFuIGBJbmplY3RvcmAgaXMgYSByZXBsYWNlbWVudCBmb3IgYSBgbmV3YCBvcGVyYXRvciwgd2hpY2ggY2FuIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSB0aGVcbiAqIGNvbnN0cnVjdG9yIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBJbiB0eXBpY2FsIHVzZSwgYXBwbGljYXRpb24gY29kZSBhc2tzIGZvciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgdGhleSBhcmVcbiAqIHJlc29sdmVkIGJ5IHRoZSBgSW5qZWN0b3JgLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGFuIGBJbmplY3RvcmAgY29uZmlndXJlZCB0byBjcmVhdGUgYEVuZ2luZWAgYW5kIGBDYXJgLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEVuZ2luZSB7XG4gKiB9XG4gKlxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgQ2FyIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0NhciwgRW5naW5lXSk7XG4gKiB2YXIgY2FyID0gaW5qZWN0b3IuZ2V0KENhcik7XG4gKiBleHBlY3QoY2FyIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICogZXhwZWN0KGNhci5lbmdpbmUgaW5zdGFuY2VvZiBFbmdpbmUpLnRvQmUodHJ1ZSk7XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UsIHdlIGRvbid0IHVzZSB0aGUgYG5ld2Agb3BlcmF0b3IgYmVjYXVzZSB3ZSBleHBsaWNpdGx5IHdhbnQgdG8gaGF2ZSB0aGUgYEluamVjdG9yYFxuICogcmVzb2x2ZSBhbGwgb2YgdGhlIG9iamVjdCdzIGRlcGVuZGVuY2llcyBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIFRPRE86IGRlbGV0ZSBpbiB2MTQuXG4gKlxuICogQGRlcHJlY2F0ZWQgZnJvbSB2NSAtIHNsb3cgYW5kIGJyaW5ncyBpbiBhIGxvdCBvZiBjb2RlLCBVc2UgYEluamVjdG9yLmNyZWF0ZWAgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZUluamVjdG9yIHtcbiAgICAvKipcbiAgICAgKiBUdXJucyBhbiBhcnJheSBvZiBwcm92aWRlciBkZWZpbml0aW9ucyBpbnRvIGFuIGFycmF5IG9mIHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEEgcmVzb2x1dGlvbiBpcyBhIHByb2Nlc3Mgb2YgZmxhdHRlbmluZyBtdWx0aXBsZSBuZXN0ZWQgYXJyYXlzIGFuZCBjb252ZXJ0aW5nIGluZGl2aWR1YWxcbiAgICAgKiBwcm92aWRlcnMgaW50byBhbiBhcnJheSBvZiBgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJgcy5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBbW0VuZ2luZV1dXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0gaW5zdGFuY2VvZiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkNhclwiKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmRlcGVuZGVuY2llcy5sZW5ndGgpLnRvRXF1YWwoMSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5mYWN0b3J5KS50b0JlRGVmaW5lZCgpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1sxXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJFbmdpbmVcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZShwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFycmF5IG9mIHByb3ZpZGVycyBhbmQgY3JlYXRlcyBhbiBpbmplY3RvciBmcm9tIHRob3NlIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIFRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGNhbiBiZSBhbiBhcnJheSBvZiBgVHlwZWAsIGBQcm92aWRlcmAsXG4gICAgICogb3IgYSByZWN1cnNpdmUgYXJyYXkgb2YgbW9yZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyLCBFbmdpbmVdKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmVBbmRDcmVhdGUocHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUocHJvdmlkZXJzKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluamVjdG9yIGZyb20gcHJldmlvdXNseSByZXNvbHZlZCBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZXNvbHZlZFByb3ZpZGVycyhwcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH1cbn1cbmNsYXNzIFJlZmxlY3RpdmVJbmplY3Rvcl8ge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfcHJvdmlkZXJzLCBfcGFyZW50KSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY29uc3RydWN0aW9uQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3Byb3ZpZGVycyA9IF9wcm92aWRlcnM7XG4gICAgICAgIHRoaXMucGFyZW50ID0gX3BhcmVudCB8fCBudWxsO1xuICAgICAgICBjb25zdCBsZW4gPSBfcHJvdmlkZXJzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYmpzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMua2V5SWRzW2ldID0gX3Byb3ZpZGVyc1tpXS5rZXkuaWQ7XG4gICAgICAgICAgICB0aGlzLm9ianNbaV0gPSBVTkRFRklORUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShSZWZsZWN0aXZlS2V5LmdldCh0b2tlbiksIG51bGwsIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbiAgICByZXNvbHZlQW5kQ3JlYXRlQ2hpbGQocHJvdmlkZXJzKSB7XG4gICAgICAgIGNvbnN0IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkKFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyk7XG4gICAgfVxuICAgIGNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkKHByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBpbmogPSBuZXcgUmVmbGVjdGl2ZUluamVjdG9yXyhwcm92aWRlcnMpO1xuICAgICAgICBpbmoucGFyZW50ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGluajtcbiAgICB9XG4gICAgcmVzb2x2ZUFuZEluc3RhbnRpYXRlKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbnRpYXRlUmVzb2x2ZWQoUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW3Byb3ZpZGVyXSlbMF0pO1xuICAgIH1cbiAgICBpbnN0YW50aWF0ZVJlc29sdmVkKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9XG4gICAgZ2V0UHJvdmlkZXJBdEluZGV4KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5fcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgb3V0T2ZCb3VuZHNFcnJvcihpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyc1tpbmRleF07XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfbmV3KHByb3ZpZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25zdHJ1Y3Rpb25Db3VudGVyKysgPiB0aGlzLl9nZXRNYXhOdW1iZXJPZk9iamVjdHMoKSkge1xuICAgICAgICAgICAgdGhyb3cgY3ljbGljRGVwZW5kZW5jeUVycm9yKHRoaXMsIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICBfZ2V0TWF4TnVtYmVyT2ZPYmplY3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmpzLmxlbmd0aDtcbiAgICB9XG4gICAgX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc1tpXSA9IHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5LmZhY3Rvcnk7XG4gICAgICAgIGxldCBkZXBzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVwcyA9XG4gICAgICAgICAgICAgICAgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeS5kZXBlbmRlbmNpZXMubWFwKGRlcCA9PiB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KGRlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5hZGRLZXkpIHtcbiAgICAgICAgICAgICAgICBlLmFkZEtleSh0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JqO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2JqID0gZmFjdG9yeSguLi5kZXBzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgaW5zdGFudGlhdGlvbkVycm9yKHRoaXMsIGUsIGUuc3RhY2ssIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3koZGVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShkZXAua2V5LCBkZXAudmlzaWJpbGl0eSwgZGVwLm9wdGlvbmFsID8gbnVsbCA6IFRIUk9XX0lGX05PVF9GT1VORCk7XG4gICAgfVxuICAgIF9nZXRCeUtleShrZXksIHZpc2liaWxpdHksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gUmVmbGVjdGl2ZUluamVjdG9yXy5JTkpFQ1RPUl9LRVkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aXNpYmlsaXR5IGluc3RhbmNlb2YgU2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5RGVmYXVsdChrZXksIG5vdEZvdW5kVmFsdWUsIHZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRPYmpCeUtleUlkKGtleUlkKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5rZXlJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleUlkc1tpXSA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vYmpzW2ldID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpzW2ldID0gdGhpcy5fbmV3KHRoaXMuX3Byb3ZpZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9ianNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVOREVGSU5FRDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgIT09IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBub1Byb3ZpZGVyRXJyb3IodGhpcywga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5fZ2V0T2JqQnlLZXlJZChrZXkuaWQpO1xuICAgICAgICByZXR1cm4gKG9iaiAhPT0gVU5ERUZJTkVEKSA/IG9iaiA6IHRoaXMuX3Rocm93T3JOdWxsKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZ2V0QnlLZXlEZWZhdWx0KGtleSwgbm90Rm91bmRWYWx1ZSwgdmlzaWJpbGl0eSkge1xuICAgICAgICBsZXQgaW5qO1xuICAgICAgICBpZiAodmlzaWJpbGl0eSBpbnN0YW5jZW9mIFNraXBTZWxmKSB7XG4gICAgICAgICAgICBpbmogPSB0aGlzLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluaiBpbnN0YW5jZW9mIFJlZmxlY3RpdmVJbmplY3Rvcl8pIHtcbiAgICAgICAgICAgIGNvbnN0IGlual8gPSBpbmo7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBpbmpfLl9nZXRPYmpCeUtleUlkKGtleS5pZCk7XG4gICAgICAgICAgICBpZiAob2JqICE9PSBVTkRFRklORUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIGluaiA9IGlual8ucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmogIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmouZ2V0KGtleS50b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzcGxheU5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IF9tYXBQcm92aWRlcnModGhpcywgKGIpID0+ICcgXCInICsgYi5rZXkuZGlzcGxheU5hbWUgKyAnXCIgJylcbiAgICAgICAgICAgIC5qb2luKCcsICcpO1xuICAgICAgICByZXR1cm4gYFJlZmxlY3RpdmVJbmplY3Rvcihwcm92aWRlcnM6IFske3Byb3ZpZGVyc31dKWA7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TmFtZTtcbiAgICB9XG59XG5SZWZsZWN0aXZlSW5qZWN0b3JfLklOSkVDVE9SX0tFWSA9ICggLyogQF9fUFVSRV9fICovUmVmbGVjdGl2ZUtleS5nZXQoSW5qZWN0b3IpKTtcbmZ1bmN0aW9uIF9tYXBQcm92aWRlcnMoaW5qZWN0b3IsIGZuKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmplY3Rvci5fcHJvdmlkZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc1tpXSA9IGZuKGluamVjdG9yLmdldFByb3ZpZGVyQXRJbmRleChpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiDJtcm1ZGlyZWN0aXZlSW5qZWN0KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgLy8gRmFsbCBiYWNrIHRvIGluamVjdCgpIGlmIHZpZXcgaGFzbid0IGJlZW4gY3JlYXRlZC4gVGhpcyBzaXR1YXRpb24gY2FuIGhhcHBlbiBpbiB0ZXN0c1xuICAgIC8vIGlmIGluamVjdCB1dGlsaXRpZXMgYXJlIHVzZWQgYmVmb3JlIGJvb3RzdHJhcHBpbmcuXG4gICAgaWYgKGxWaWV3ID09PSBudWxsKSB7XG4gICAgICAgIC8vIFZlcmlmeSB0aGF0IHdlIHdpbGwgbm90IGdldCBpbnRvIGluZmluaXRlIGxvb3AuXG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmplY3RJbXBsZW1lbnRhdGlvbk5vdEVxdWFsKMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgICAgICByZXR1cm4gybXJtWluamVjdCh0b2tlbiwgZmxhZ3MpO1xuICAgIH1cbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIHJldHVybiBnZXRPckNyZWF0ZUluamVjdGFibGUodE5vZGUsIGxWaWV3LCByZXNvbHZlRm9yd2FyZFJlZih0b2tlbiksIGZsYWdzKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCBhIGZhY3RvcnkgZnVuY3Rpb24gY291bGQgbm90IGJlIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgZm9yIGFcbiAqIHBhcnRpY3VsYXIgY2xhc3MuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhbGxvd3MgdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHRvIGJlIG9wdGltaXplZCBhd2F5IHdoZW4gbmdEZXZNb2RlIGlzIHR1cm5lZFxuICogb2ZmLCBzYXZpbmcgYnl0ZXMgb2YgZ2VuZXJhdGVkIGNvZGUgd2hpbGUgc3RpbGwgcHJvdmlkaW5nIGEgZ29vZCBleHBlcmllbmNlIGluIGRldiBtb2RlLlxuICpcbiAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzcyBpcyBub3QgbWVudGlvbmVkIGhlcmUsIGJ1dCB3aWxsIGJlIGluIHRoZSBnZW5lcmF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBuYW1lXG4gKiBhbmQgdGh1cyBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWludmFsaWRGYWN0b3J5KCkge1xuICAgIGNvbnN0IG1zZyA9IG5nRGV2TW9kZSA/IGBUaGlzIGNvbnN0cnVjdG9yIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIERlcGVuZGVuY3kgSW5qZWN0aW9uLmAgOiAnaW52YWxpZCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBwcm9wZXJ0eSBvbiBhIHNlbGVjdGVkIGVsZW1lbnQuXG4gKlxuICogT3BlcmF0ZXMgb24gdGhlIGVsZW1lbnQgc2VsZWN0ZWQgYnkgaW5kZXggdmlhIHRoZSB7QGxpbmsgc2VsZWN0fSBpbnN0cnVjdGlvbi5cbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYHByb3BlcnR5KCduYW1lJywgY3R4Lm5hbWUpKCd0aXRsZScsIGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eTtcbn1cbi8qKlxuICogR2l2ZW4gYDxkaXYgc3R5bGU9XCIuLi5cIiBteS1kaXI+YCBhbmQgYE15RGlyYCB3aXRoIGBASW5wdXQoJ3N0eWxlJylgIHdlIG5lZWQgdG8gd3JpdGUgdG9cbiAqIGRpcmVjdGl2ZSBpbnB1dC5cbiAqL1xuZnVuY3Rpb24gc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCB2YWx1ZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdE5vZGUuaW5wdXRzO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gaXNDbGFzc0Jhc2VkID8gJ2NsYXNzJyA6ICdzdHlsZSc7XG4gICAgLy8gV2Ugc3VwcG9ydCBib3RoICdjbGFzcycgYW5kIGBjbGFzc05hbWVgIGhlbmNlIHRoZSBmYWxsYmFjay5cbiAgICBzZXRJbnB1dHNGb3JQcm9wZXJ0eSh0VmlldywgbFZpZXcsIGlucHV0c1twcm9wZXJ0eV0sIHByb3BlcnR5LCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZWxlbWVudFN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGluZGV4LCB0VmlldywgbFZpZXcsIG5hdGl2ZSwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDIgLyogRWxlbWVudCAqLywgbmFtZSwgYXR0cnMpO1xuICAgIGNvbnN0IGhhc0RpcmVjdGl2ZXMgPSByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpKTtcbiAgICBuZ0Rldk1vZGUgJiYgbG9nVW5rbm93bkVsZW1lbnRFcnJvcih0VmlldywgbmF0aXZlLCB0Tm9kZSwgaGFzRGlyZWN0aXZlcyk7XG4gICAgaWYgKHROb2RlLmF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCB0Tm9kZS5hdHRycywgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodE5vZGUubWVyZ2VkQXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIHROb2RlLm1lcmdlZEF0dHJzLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGUgRE9NIGVsZW1lbnQuIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50RW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgRE9NIE5vZGVcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBBdHRyaWJ1dGVzIGFuZCBsb2NhbFJlZnMgYXJlIHBhc3NlZCBhcyBhbiBhcnJheSBvZiBzdHJpbmdzIHdoZXJlIGVsZW1lbnRzIHdpdGggYW4gZXZlbiBpbmRleFxuICogaG9sZCBhbiBhdHRyaWJ1dGUgbmFtZSBhbmQgZWxlbWVudHMgd2l0aCBhbiBvZGQgaW5kZXggaG9sZCBhbiBhdHRyaWJ1dGUgdmFsdWUsIGV4LjpcbiAqIFsnaWQnLCAnd2FybmluZzUnLCAnY2xhc3MnLCAnYWxlcnQnXVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50U3RhcnQoaW5kZXgsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRCaW5kaW5nSW5kZXgoKSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICdlbGVtZW50cyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgY29uc3QgbmF0aXZlID0gbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBjcmVhdGVFbGVtZW50Tm9kZShyZW5kZXJlciwgbmFtZSwgZ2V0TmFtZXNwYWNlJDEoKSk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgP1xuICAgICAgICBlbGVtZW50U3RhcnRGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCBuYXRpdmUsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICBjb25zdCBtZXJnZWRBdHRycyA9IHROb2RlLm1lcmdlZEF0dHJzO1xuICAgIGlmIChtZXJnZWRBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBzZXRVcEF0dHJpYnV0ZXMocmVuZGVyZXIsIG5hdGl2ZSwgbWVyZ2VkQXR0cnMpO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc2VzID0gdE5vZGUuY2xhc3NlcztcbiAgICBpZiAoY2xhc3NlcyAhPT0gbnVsbCkge1xuICAgICAgICB3cml0ZURpcmVjdENsYXNzKHJlbmRlcmVyLCBuYXRpdmUsIGNsYXNzZXMpO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZXMgPSB0Tm9kZS5zdHlsZXM7XG4gICAgaWYgKHN0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICB3cml0ZURpcmVjdFN0eWxlKHJlbmRlcmVyLCBuYXRpdmUsIHN0eWxlcyk7XG4gICAgfVxuICAgIGlmICgodE5vZGUuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKSAhPT0gNjQgLyogaXNEZXRhY2hlZCAqLykge1xuICAgICAgICAvLyBJbiB0aGUgaTE4biBjYXNlLCB0aGUgdHJhbnNsYXRpb24gbWF5IGhhdmUgcmVtb3ZlZCB0aGlzIGVsZW1lbnQsIHNvIG9ubHkgYWRkIGl0IGlmIGl0IGlzIG5vdFxuICAgICAgICAvLyBkZXRhY2hlZC4gU2VlIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGFuZCBgTEZyYW1lLmluSTE4bmAgZm9yIG1vcmUgY29udGV4dC5cbiAgICAgICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBuYXRpdmUsIHROb2RlKTtcbiAgICB9XG4gICAgLy8gYW55IGltbWVkaWF0ZSBjaGlsZHJlbiBvZiBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZSBjb250YWluZXIgbXVzdCBiZSBwcmUtZW1wdGl2ZWx5XG4gICAgLy8gbW9ua2V5LXBhdGNoZWQgd2l0aCB0aGUgY29tcG9uZW50IHZpZXcgZGF0YSBzbyB0aGF0IHRoZSBlbGVtZW50IGNhbiBiZSBpbnNwZWN0ZWRcbiAgICAvLyBsYXRlciBvbiB1c2luZyBhbnkgZWxlbWVudCBkaXNjb3ZlcnkgdXRpbGl0eSBtZXRob2RzIChzZWUgYGVsZW1lbnRfZGlzY292ZXJ5LnRzYClcbiAgICBpZiAoZ2V0RWxlbWVudERlcHRoQ291bnQoKSA9PT0gMCkge1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgfVxuICAgIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICBpZiAoaXNEaXJlY3RpdmVIb3N0KHROb2RlKSkge1xuICAgICAgICBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgICAgICBleGVjdXRlQ29udGVudFF1ZXJpZXModFZpZXcsIHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGlmIChsb2NhbFJlZnNJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEobFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50U3RhcnQ7XG59XG4vKipcbiAqIE1hcmsgdGhlIGVuZCBvZiB0aGUgZWxlbWVudC5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudEVuZCgpIHtcbiAgICBsZXQgY3VycmVudFROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY3VycmVudFROb2RlLCAnTm8gcGFyZW50IG5vZGUgdG8gY2xvc2UuJyk7XG4gICAgaWYgKGlzQ3VycmVudFROb2RlUGFyZW50KCkpIHtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIYXNQYXJlbnQoZ2V0Q3VycmVudFROb2RlKCkpO1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRDdXJyZW50VE5vZGUoY3VycmVudFROb2RlLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IHROb2RlID0gY3VycmVudFROb2RlO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8pO1xuICAgIGRlY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCBjdXJyZW50VE5vZGUpO1xuICAgICAgICBpZiAoaXNDb250ZW50UXVlcnlIb3N0KGN1cnJlbnRUTm9kZSkpIHtcbiAgICAgICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudEVuZChjdXJyZW50VE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QgIT0gbnVsbCAmJiBoYXNDbGFzc0lucHV0KHROb2RlKSkge1xuICAgICAgICBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgZ2V0TFZpZXcoKSwgdE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0ICE9IG51bGwgJiYgaGFzU3R5bGVJbnB1dCh0Tm9kZSkpIHtcbiAgICAgICAgc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGdldExWaWV3KCksIHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0LCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1ZWxlbWVudEVuZDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBlbGVtZW50IHVzaW5nIHtAbGluayBlbGVtZW50U3RhcnR9IGFuZCB7QGxpbmsgZWxlbWVudEVuZH1cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIERPTSBOb2RlXG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnQoaW5kZXgsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgybXJtWVsZW1lbnRTdGFydChpbmRleCwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpO1xuICAgIMm1ybVlbGVtZW50RW5kKCk7XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50O1xufVxuZnVuY3Rpb24gbG9nVW5rbm93bkVsZW1lbnRFcnJvcih0VmlldywgZWxlbWVudCwgdE5vZGUsIGhhc0RpcmVjdGl2ZXMpIHtcbiAgICBjb25zdCBzY2hlbWFzID0gdFZpZXcuc2NoZW1hcztcbiAgICAvLyBJZiBgc2NoZW1hc2AgaXMgc2V0IHRvIGBudWxsYCwgdGhhdCdzIGFuIGluZGljYXRpb24gdGhhdCB0aGlzIENvbXBvbmVudCB3YXMgY29tcGlsZWQgaW4gQU9UXG4gICAgLy8gbW9kZSB3aGVyZSB0aGlzIGNoZWNrIGhhcHBlbnMgYXQgY29tcGlsZSB0aW1lLiBJbiBKSVQgbW9kZSwgYHNjaGVtYXNgIGlzIGFsd2F5cyBwcmVzZW50IGFuZFxuICAgIC8vIGRlZmluZWQgYXMgYW4gYXJyYXkgKGFzIGFuIGVtcHR5IGFycmF5IGluIGNhc2UgYHNjaGVtYXNgIGZpZWxkIGlzIG5vdCBkZWZpbmVkKSBhbmQgd2Ugc2hvdWxkXG4gICAgLy8gZXhlY3V0ZSB0aGUgY2hlY2sgYmVsb3cuXG4gICAgaWYgKHNjaGVtYXMgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCB0YWdOYW1lID0gdE5vZGUudmFsdWU7XG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgbWF0Y2hlcyBhbnkgZGlyZWN0aXZlLCBpdCdzIGNvbnNpZGVyZWQgYXMgdmFsaWQuXG4gICAgaWYgKCFoYXNEaXJlY3RpdmVzICYmIHRhZ05hbWUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgdW5rbm93biBpZiBpdCdzIGFuIGluc3RhbmNlIG9mIEhUTUxVbmtub3duRWxlbWVudCBvciBpdCBpc24ndCByZWdpc3RlcmVkXG4gICAgICAgIC8vIGFzIGEgY3VzdG9tIGVsZW1lbnQuIE5vdGUgdGhhdCB1bmtub3duIGVsZW1lbnRzIHdpdGggYSBkYXNoIGluIHRoZWlyIG5hbWUgd29uJ3QgYmUgaW5zdGFuY2VzXG4gICAgICAgIC8vIG9mIEhUTUxVbmtub3duRWxlbWVudCBpbiBicm93c2VycyB0aGF0IHN1cHBvcnQgd2ViIGNvbXBvbmVudHMuXG4gICAgICAgIGNvbnN0IGlzVW5rbm93biA9IFxuICAgICAgICAvLyBOb3RlIHRoYXQgd2UgY2FuJ3QgY2hlY2sgZm9yIGB0eXBlb2YgSFRNTFVua25vd25FbGVtZW50ID09PSAnZnVuY3Rpb24nYCxcbiAgICAgICAgLy8gYmVjYXVzZSB3aGlsZSBtb3N0IGJyb3dzZXJzIHJldHVybiAnZnVuY3Rpb24nLCBJRSByZXR1cm5zICdvYmplY3QnLlxuICAgICAgICAodHlwZW9mIEhUTUxVbmtub3duRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgSFRNTFVua25vd25FbGVtZW50ICYmXG4gICAgICAgICAgICBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFVua25vd25FbGVtZW50KSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBjdXN0b21FbGVtZW50cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSAmJlxuICAgICAgICAgICAgICAgICFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpO1xuICAgICAgICBpZiAoaXNVbmtub3duICYmICFtYXRjaGluZ1NjaGVtYXModFZpZXcsIHRhZ05hbWUpKSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGAnJHt0YWdOYW1lfScgaXMgbm90IGEga25vd24gZWxlbWVudDpcXG5gO1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgMS4gSWYgJyR7dGFnTmFtZX0nIGlzIGFuIEFuZ3VsYXIgY29tcG9uZW50LCB0aGVuIHZlcmlmeSB0aGF0IGl0IGlzIHBhcnQgb2YgdGhpcyBtb2R1bGUuXFxuYDtcbiAgICAgICAgICAgIGlmICh0YWdOYW1lICYmIHRhZ05hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGAyLiBJZiAnJHt0YWdOYW1lfScgaXMgYSBXZWIgQ29tcG9uZW50IHRoZW4gYWRkICdDVVNUT01fRUxFTUVOVFNfU0NIRU1BJyB0byB0aGUgJ0BOZ01vZHVsZS5zY2hlbWFzJyBvZiB0aGlzIGNvbXBvbmVudCB0byBzdXBwcmVzcyB0aGlzIG1lc3NhZ2UuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICAgICAgYDIuIFRvIGFsbG93IGFueSBlbGVtZW50IGFkZCAnTk9fRVJST1JTX1NDSEVNQScgdG8gdGhlICdATmdNb2R1bGUuc2NoZW1hcycgb2YgdGhpcyBjb21wb25lbnQuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0UnVudGltZUVycm9yKDMwNCAvKiBVTktOT1dOX0VMRU1FTlQgKi8sIG1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBlbGVtZW50Q29udGFpbmVyU3RhcnRGaXJzdENyZWF0ZVBhc3MoaW5kZXgsIHRWaWV3LCBsVmlldywgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDggLyogRWxlbWVudENvbnRhaW5lciAqLywgJ25nLWNvbnRhaW5lcicsIGF0dHJzKTtcbiAgICAvLyBXaGlsZSBuZy1jb250YWluZXIgZG9lc24ndCBuZWNlc3NhcmlseSBzdXBwb3J0IHN0eWxpbmcsIHdlIHVzZSB0aGUgc3R5bGUgY29udGV4dCB0byBpZGVudGlmeVxuICAgIC8vIGFuZCBleGVjdXRlIGRpcmVjdGl2ZXMgb24gdGhlIG5nLWNvbnRhaW5lci5cbiAgICBpZiAoYXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIGF0dHJzLCB0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxSZWZzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGxvY2FsUmVmc0luZGV4KTtcbiAgICByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBsb2NhbFJlZnMpO1xuICAgIGlmICh0Vmlldy5xdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGxvZ2ljYWwgY29udGFpbmVyIGZvciBvdGhlciBub2RlcyAoPG5nLWNvbnRhaW5lcj4pIGJhY2tlZCBieSBhIGNvbW1lbnQgbm9kZSBpbiB0aGUgRE9NLlxuICogVGhlIGluc3RydWN0aW9uIG11c3QgbGF0ZXIgYmUgZm9sbG93ZWQgYnkgYGVsZW1lbnRDb250YWluZXJFbmQoKWAgY2FsbC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIExWaWV3IGFycmF5XG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBFdmVuIGlmIHRoaXMgaW5zdHJ1Y3Rpb24gYWNjZXB0cyBhIHNldCBvZiBhdHRyaWJ1dGVzIG5vIGFjdHVhbCBhdHRyaWJ1dGUgdmFsdWVzIGFyZSBwcm9wYWdhdGVkIHRvXG4gKiB0aGUgRE9NIChhcyBhIGNvbW1lbnQgbm9kZSBjYW4ndCBoYXZlIGF0dHJpYnV0ZXMpLiBBdHRyaWJ1dGVzIGFyZSBoZXJlIG9ubHkgZm9yIGRpcmVjdGl2ZVxuICogbWF0Y2hpbmcgcHVycG9zZXMgYW5kIHNldHRpbmcgaW5pdGlhbCBpbnB1dHMgb2YgZGlyZWN0aXZlcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0KGluZGV4LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoZ2V0QmluZGluZ0luZGV4KCksIHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCAnZWxlbWVudCBjb250YWluZXJzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MnKTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA/XG4gICAgICAgIGVsZW1lbnRDb250YWluZXJTdGFydEZpcnN0Q3JlYXRlUGFzcyhhZGp1c3RlZEluZGV4LCB0VmlldywgbFZpZXcsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgIGNvbnN0IG5hdGl2ZSA9IGxWaWV3W2FkanVzdGVkSW5kZXhdID1cbiAgICAgICAgbFZpZXdbUkVOREVSRVJdLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ25nLWNvbnRhaW5lcicgOiAnJyk7XG4gICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBuYXRpdmUsIHROb2RlKTtcbiAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgaWYgKGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICAgICAgZXhlY3V0ZUNvbnRlbnRRdWVyaWVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBpZiAobG9jYWxSZWZzSW5kZXggIT0gbnVsbCkge1xuICAgICAgICBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEobFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQ7XG59XG4vKipcbiAqIE1hcmsgdGhlIGVuZCBvZiB0aGUgPG5nLWNvbnRhaW5lcj4uXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRDb250YWluZXJFbmQoKSB7XG4gICAgbGV0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAoaXNDdXJyZW50VE5vZGVQYXJlbnQoKSkge1xuICAgICAgICBzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEhhc1BhcmVudChjdXJyZW50VE5vZGUpO1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRDdXJyZW50VE5vZGUoY3VycmVudFROb2RlLCBmYWxzZSk7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUoY3VycmVudFROb2RlLCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgY3VycmVudFROb2RlKTtcbiAgICAgICAgaWYgKGlzQ29udGVudFF1ZXJ5SG9zdChjdXJyZW50VE5vZGUpKSB7XG4gICAgICAgICAgICB0Vmlldy5xdWVyaWVzLmVsZW1lbnRFbmQoY3VycmVudFROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtWVsZW1lbnRDb250YWluZXJFbmQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgbG9naWNhbCBjb250YWluZXIgdXNpbmcge0BsaW5rIGVsZW1lbnRDb250YWluZXJTdGFydH1cbiAqIGFuZCB7QGxpbmsgZWxlbWVudENvbnRhaW5lckVuZH1cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIExWaWV3IGFycmF5XG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudENvbnRhaW5lcihpbmRleCwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0KGluZGV4LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCk7XG4gICAgybXJtWVsZW1lbnRDb250YWluZXJFbmQoKTtcbiAgICByZXR1cm4gybXJtWVsZW1lbnRDb250YWluZXI7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UuXG4gKlxuICogVXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSByZXN0b3JlVmlldygpIGluc3RydWN0aW9uIHRvIHNhdmUgYSBzbmFwc2hvdFxuICogb2YgdGhlIGN1cnJlbnQgdmlldyBhbmQgcmVzdG9yZSBpdCB3aGVuIGxpc3RlbmVycyBhcmUgaW52b2tlZC4gVGhpcyBhbGxvd3NcbiAqIHdhbGtpbmcgdGhlIGRlY2xhcmF0aW9uIHZpZXcgdHJlZSBpbiBsaXN0ZW5lcnMgdG8gZ2V0IHZhcnMgZnJvbSBwYXJlbnQgdmlld3MuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWdldEN1cnJlbnRWaWV3KCkge1xuICAgIHJldHVybiBnZXRMVmlldygpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBhcmd1bWVudCBpcyBzaGFwZWQgbGlrZSBhIFByb21pc2VcbiAqL1xuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICAgIC8vIGFsbG93IGFueSBQcm9taXNlL0ErIGNvbXBsaWFudCB0aGVuYWJsZS5cbiAgICAvLyBJdCdzIHVwIHRvIHRoZSBjYWxsZXIgdG8gZW5zdXJlIHRoYXQgb2JqLnRoZW4gY29uZm9ybXMgdG8gdGhlIHNwZWNcbiAgICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgU3Vic2NyaWJhYmxlXG4gKi9cbmZ1bmN0aW9uIGlzU3Vic2NyaWJhYmxlKG9iaikge1xuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBPYnNlcnZhYmxlXG4gKlxuICogU3RyaWN0bHkgdGhpcyB0ZXN0cyB0aGF0IHRoZSBgb2JqYCBpcyBgU3Vic2NyaWJhYmxlYCwgc2luY2UgYE9ic2VydmFibGVgXG4gKiB0eXBlcyBuZWVkIGFkZGl0aW9uYWwgbWV0aG9kcywgc3VjaCBhcyBgbGlmdCgpYC4gQnV0IGl0IGlzIGFkZXF1YXRlIGZvciBvdXJcbiAqIG5lZWRzIHNpbmNlIHdpdGhpbiB0aGUgQW5ndWxhciBmcmFtZXdvcmsgY29kZSB3ZSBvbmx5IGV2ZXIgbmVlZCB0byB1c2UgdGhlXG4gKiBgc3Vic2NyaWJlKClgIG1ldGhvZCwgYW5kIFJ4SlMgaGFzIG1lY2hhbmlzbXMgdG8gd3JhcCBgU3Vic2NyaWJhYmxlYCBvYmplY3RzXG4gKiBpbnRvIGBPYnNlcnZhYmxlYCBhcyBuZWVkZWQuXG4gKi9cbmNvbnN0IGlzT2JzZXJ2YWJsZSA9IGlzU3Vic2NyaWJhYmxlO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgY3VycmVudCBub2RlLlxuICpcbiAqIElmIGFuIG91dHB1dCBleGlzdHMgb24gb25lIG9mIHRoZSBub2RlJ3MgZGlyZWN0aXZlcywgaXQgYWxzbyBzdWJzY3JpYmVzIHRvIHRoZSBvdXRwdXRcbiAqIGFuZCBzYXZlcyB0aGUgc3Vic2NyaXB0aW9uIGZvciBsYXRlciBjbGVhbnVwLlxuICpcbiAqIEBwYXJhbSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnRcbiAqIEBwYXJhbSBsaXN0ZW5lckZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBlbWl0c1xuICogQHBhcmFtIHVzZUNhcHR1cmUgV2hldGhlciBvciBub3QgdG8gdXNlIGNhcHR1cmUgaW4gZXZlbnQgbGlzdGVuZXJcbiAqIEBwYXJhbSBldmVudFRhcmdldFJlc29sdmVyIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBnbG9iYWwgdGFyZ2V0IGluZm9ybWF0aW9uIGluIGNhc2UgdGhpcyBsaXN0ZW5lclxuICogc2hvdWxkIGJlIGF0dGFjaGVkIHRvIGEgZ2xvYmFsIG9iamVjdCBsaWtlIHdpbmRvdywgZG9jdW1lbnQgb3IgYm9keVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVsaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUsIGV2ZW50VGFyZ2V0UmVzb2x2ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbGlzdGVuZXJJbnRlcm5hbCh0VmlldywgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgdE5vZGUsIGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgISF1c2VDYXB0dXJlLCBldmVudFRhcmdldFJlc29sdmVyKTtcbiAgICByZXR1cm4gybXJtWxpc3RlbmVyO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgYSBzeW50aGV0aWMgaG9zdCBsaXN0ZW5lciAoZS5nLiBgKEBmb28uc3RhcnQpYCkgb24gYSBjb21wb25lbnQgb3IgZGlyZWN0aXZlLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgZm9yIGNvbXBhdGliaWxpdHkgcHVycG9zZXMgYW5kIGlzIGRlc2lnbmVkIHRvIGVuc3VyZSB0aGF0IGFcbiAqIHN5bnRoZXRpYyBob3N0IGxpc3RlbmVyIChlLmcuIGBASG9zdExpc3RlbmVyKCdAZm9vLnN0YXJ0JylgKSBwcm9wZXJseSBnZXRzIHJlbmRlcmVkXG4gKiBpbiB0aGUgY29tcG9uZW50J3MgcmVuZGVyZXIuIE5vcm1hbGx5IGFsbCBob3N0IGxpc3RlbmVycyBhcmUgZXZhbHVhdGVkIHdpdGggdGhlXG4gKiBwYXJlbnQgY29tcG9uZW50J3MgcmVuZGVyZXIsIGJ1dCwgaW4gdGhlIGNhc2Ugb2YgYW5pbWF0aW9uIEB0cmlnZ2VycywgdGhleSBuZWVkXG4gKiB0byBiZSBldmFsdWF0ZWQgd2l0aCB0aGUgc3ViIGNvbXBvbmVudCdzIHJlbmRlcmVyIChiZWNhdXNlIHRoYXQncyB3aGVyZSB0aGVcbiAqIGFuaW1hdGlvbiB0cmlnZ2VycyBhcmUgZGVmaW5lZCkuXG4gKlxuICogRG8gbm90IHVzZSB0aGlzIGluc3RydWN0aW9uIGFzIGEgcmVwbGFjZW1lbnQgZm9yIGBsaXN0ZW5lcmAuIFRoaXMgaW5zdHJ1Y3Rpb25cbiAqIG9ubHkgZXhpc3RzIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggdGhlIFZpZXdFbmdpbmUncyBob3N0IGJpbmRpbmcgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtIGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudFxuICogQHBhcmFtIGxpc3RlbmVyRm4gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGV2ZW50IGVtaXRzXG4gKiBAcGFyYW0gdXNlQ2FwdHVyZSBXaGV0aGVyIG9yIG5vdCB0byB1c2UgY2FwdHVyZSBpbiBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIGV2ZW50VGFyZ2V0UmVzb2x2ZXIgRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdsb2JhbCB0YXJnZXQgaW5mb3JtYXRpb24gaW4gY2FzZSB0aGlzIGxpc3RlbmVyXG4gKiBzaG91bGQgYmUgYXR0YWNoZWQgdG8gYSBnbG9iYWwgb2JqZWN0IGxpa2Ugd2luZG93LCBkb2N1bWVudCBvciBib2R5XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRm4pIHtcbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgY3VycmVudERlZiA9IGdldEN1cnJlbnREaXJlY3RpdmVEZWYodFZpZXcuZGF0YSk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsb2FkQ29tcG9uZW50UmVuZGVyZXIoY3VycmVudERlZiwgdE5vZGUsIGxWaWV3KTtcbiAgICBsaXN0ZW5lckludGVybmFsKHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIHROb2RlLCBldmVudE5hbWUsIGxpc3RlbmVyRm4sIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcjtcbn1cbi8qKlxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIGEgZ2l2ZW4gZWxlbWVudCBoYXMgYWxyZWFkeSBhbiBldmVudCBoYW5kbGVyIHJlZ2lzdGVyZWQgZm9yIGFuXG4gKiBldmVudCB3aXRoIGEgc3BlY2lmaWVkIG5hbWUuIFRoZSBUVmlldy5jbGVhbnVwIGRhdGEgc3RydWN0dXJlIGlzIHVzZWQgdG8gZmluZCBvdXQgd2hpY2ggZXZlbnRzXG4gKiBhcmUgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBmaW5kRXhpc3RpbmdMaXN0ZW5lcih0VmlldywgbFZpZXcsIGV2ZW50TmFtZSwgdE5vZGVJZHgpIHtcbiAgICBjb25zdCB0Q2xlYW51cCA9IHRWaWV3LmNsZWFudXA7XG4gICAgaWYgKHRDbGVhbnVwICE9IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Q2xlYW51cC5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFudXBFdmVudE5hbWUgPSB0Q2xlYW51cFtpXTtcbiAgICAgICAgICAgIGlmIChjbGVhbnVwRXZlbnROYW1lID09PSBldmVudE5hbWUgJiYgdENsZWFudXBbaSArIDFdID09PSB0Tm9kZUlkeCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgZm91bmQgYSBtYXRjaGluZyBldmVudCBuYW1lIG9uIHRoZSBzYW1lIG5vZGUgYnV0IGl0IG1pZ2h0IG5vdCBoYXZlIGJlZW5cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlcmVkIHlldCwgc28gd2UgbXVzdCBleHBsaWNpdGx5IHZlcmlmeSBlbnRyaWVzIGluIHRoZSBMVmlldyBjbGVhbnVwIGRhdGFcbiAgICAgICAgICAgICAgICAvLyBzdHJ1Y3R1cmVzLlxuICAgICAgICAgICAgICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJJZHhJbkxDbGVhbnVwID0gdENsZWFudXBbaSArIDJdO1xuICAgICAgICAgICAgICAgIHJldHVybiBsQ2xlYW51cC5sZW5ndGggPiBsaXN0ZW5lcklkeEluTENsZWFudXAgPyBsQ2xlYW51cFtsaXN0ZW5lcklkeEluTENsZWFudXBdIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRWaWV3LmNsZWFudXAgY2FuIGhhdmUgYSBtaXggb2YgNC1lbGVtZW50cyBlbnRyaWVzIChmb3IgZXZlbnQgaGFuZGxlciBjbGVhbnVwcykgb3JcbiAgICAgICAgICAgIC8vIDItZWxlbWVudCBlbnRyaWVzIChmb3IgZGlyZWN0aXZlIGFuZCBxdWVyaWVzIGRlc3Ryb3kgaG9va3MpLiBBcyBzdWNoIHdlIGNhbiBlbmNvdW50ZXJcbiAgICAgICAgICAgIC8vIGJsb2NrcyBvZiA0IG9yIDIgaXRlbXMgaW4gdGhlIHRWaWV3LmNsZWFudXAgYW5kIHRoaXMgaXMgd2h5IHdlIGl0ZXJhdGUgb3ZlciAyIGVsZW1lbnRzXG4gICAgICAgICAgICAvLyBmaXJzdCBhbmQganVtcCBhbm90aGVyIDIgZWxlbWVudHMgaWYgd2UgZGV0ZWN0IGxpc3RlbmVycyBjbGVhbnVwICg0IGVsZW1lbnRzKS4gQWxzbyBjaGVja1xuICAgICAgICAgICAgLy8gZG9jdW1lbnRhdGlvbiBvZiBUVmlldy5jbGVhbnVwIGZvciBtb3JlIGRldGFpbHMgb2YgdGhpcyBkYXRhIHN0cnVjdHVyZSBsYXlvdXQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsZWFudXBFdmVudE5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gbGlzdGVuZXJJbnRlcm5hbCh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCB0Tm9kZSwgZXZlbnROYW1lLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlLCBldmVudFRhcmdldFJlc29sdmVyKSB7XG4gICAgY29uc3QgaXNUTm9kZURpcmVjdGl2ZUhvc3QgPSBpc0RpcmVjdGl2ZUhvc3QodE5vZGUpO1xuICAgIGNvbnN0IGZpcnN0Q3JlYXRlUGFzcyA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcztcbiAgICBjb25zdCB0Q2xlYW51cCA9IGZpcnN0Q3JlYXRlUGFzcyAmJiBnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0Vmlldyk7XG4gICAgY29uc3QgY29udGV4dCA9IGxWaWV3W0NPTlRFWFRdO1xuICAgIC8vIFdoZW4gdGhlIMm1ybVsaXN0ZW5lciBpbnN0cnVjdGlvbiB3YXMgZ2VuZXJhdGVkIGFuZCBpcyBleGVjdXRlZCB3ZSBrbm93IHRoYXQgdGhlcmUgaXMgZWl0aGVyIGFcbiAgICAvLyBuYXRpdmUgbGlzdGVuZXIgb3IgYSBkaXJlY3RpdmUgb3V0cHV0IG9uIHRoaXMgZWxlbWVudC4gQXMgc3VjaCB3ZSB3ZSBrbm93IHRoYXQgd2Ugd2lsbCBoYXZlIHRvXG4gICAgLy8gcmVnaXN0ZXIgYSBsaXN0ZW5lciBhbmQgc3RvcmUgaXRzIGNsZWFudXAgZnVuY3Rpb24gb24gTFZpZXcuXG4gICAgY29uc3QgbENsZWFudXAgPSBnZXRPckNyZWF0ZUxWaWV3Q2xlYW51cChsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyk7XG4gICAgbGV0IHByb2Nlc3NPdXRwdXRzID0gdHJ1ZTtcbiAgICAvLyBBZGRpbmcgYSBuYXRpdmUgZXZlbnQgbGlzdGVuZXIgaXMgYXBwbGljYWJsZSB3aGVuOlxuICAgIC8vIC0gVGhlIGNvcnJlc3BvbmRpbmcgVE5vZGUgcmVwcmVzZW50cyBhIERPTSBlbGVtZW50LlxuICAgIC8vIC0gVGhlIGV2ZW50IHRhcmdldCBoYXMgYSByZXNvbHZlciAodXN1YWxseSByZXN1bHRpbmcgaW4gYSBnbG9iYWwgb2JqZWN0LFxuICAgIC8vICAgc3VjaCBhcyBgd2luZG93YCBvciBgZG9jdW1lbnRgKS5cbiAgICBpZiAoKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB8fCBldmVudFRhcmdldFJlc29sdmVyKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnRUYXJnZXRSZXNvbHZlciA/IGV2ZW50VGFyZ2V0UmVzb2x2ZXIobmF0aXZlKSA6IG5hdGl2ZTtcbiAgICAgICAgY29uc3QgbENsZWFudXBJbmRleCA9IGxDbGVhbnVwLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaWR4T3JUYXJnZXRHZXR0ZXIgPSBldmVudFRhcmdldFJlc29sdmVyID9cbiAgICAgICAgICAgIChfbFZpZXcpID0+IGV2ZW50VGFyZ2V0UmVzb2x2ZXIodW53cmFwUk5vZGUoX2xWaWV3W3ROb2RlLmluZGV4XSkpIDpcbiAgICAgICAgICAgIHROb2RlLmluZGV4O1xuICAgICAgICAvLyBJbiBvcmRlciB0byBtYXRjaCBjdXJyZW50IGJlaGF2aW9yLCBuYXRpdmUgRE9NIGV2ZW50IGxpc3RlbmVycyBtdXN0IGJlIGFkZGVkIGZvciBhbGxcbiAgICAgICAgLy8gZXZlbnRzIChpbmNsdWRpbmcgb3V0cHV0cykuXG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIG11bHRpcGxlIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWUgZWxlbWVudCB0cnkgdG8gcmVnaXN0ZXIgYW4gZXZlbnRcbiAgICAgICAgICAgIC8vIGhhbmRsZXIgZnVuY3Rpb24gZm9yIHRoZSBzYW1lIGV2ZW50LiBJbiB0aGlzIHNpdHVhdGlvbiB3ZSB3YW50IHRvIGF2b2lkIHJlZ2lzdHJhdGlvbiBvZlxuICAgICAgICAgICAgLy8gc2V2ZXJhbCBuYXRpdmUgbGlzdGVuZXJzIGFzIGVhY2ggcmVnaXN0cmF0aW9uIHdvdWxkIGJlIGludGVyY2VwdGVkIGJ5IE5nWm9uZSBhbmRcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGRldGVjdGlvbi4gVGhpcyB3b3VsZCBtZWFuIHRoYXQgYSBzaW5nbGUgdXNlciBhY3Rpb24gd291bGQgcmVzdWx0IGluIHNldmVyYWxcbiAgICAgICAgICAgIC8vIGNoYW5nZSBkZXRlY3Rpb25zIGJlaW5nIGludm9rZWQuIFRvIGF2b2lkIHRoaXMgc2l0dWF0aW9uIHdlIHdhbnQgdG8gaGF2ZSBvbmx5IG9uZSBjYWxsIHRvXG4gICAgICAgICAgICAvLyBuYXRpdmUgaGFuZGxlciByZWdpc3RyYXRpb24gKGZvciB0aGUgc2FtZSBlbGVtZW50IGFuZCBzYW1lIHR5cGUgb2YgZXZlbnQpLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIGhhdmUganVzdCBvbmUgbmF0aXZlIGV2ZW50IGhhbmRsZXIgaW4gcHJlc2VuY2Ugb2YgbXVsdGlwbGUgaGFuZGxlciBmdW5jdGlvbnMsXG4gICAgICAgICAgICAvLyB3ZSBqdXN0IHJlZ2lzdGVyIGEgZmlyc3QgaGFuZGxlciBmdW5jdGlvbiBhcyBhIG5hdGl2ZSBldmVudCBsaXN0ZW5lciBhbmQgdGhlbiBjaGFpblxuICAgICAgICAgICAgLy8gKGNvYWxlc2NlKSBvdGhlciBoYW5kbGVyIGZ1bmN0aW9ucyBvbiB0b3Agb2YgdGhlIGZpcnN0IG5hdGl2ZSBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgLy8gUGxlYXNlIG5vdGUgdGhhdCB0aGUgY29hbGVzY2luZyBkZXNjcmliZWQgaGVyZSBkb2Vzbid0IGhhcHBlbiBmb3IgZXZlbnRzIHNwZWNpZnlpbmcgYW5cbiAgICAgICAgICAgIC8vIGFsdGVybmF0aXZlIHRhcmdldCAoZXguIChkb2N1bWVudDpjbGljaykpIC0gdGhpcyBpcyB0byBrZWVwIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCB0aGVcbiAgICAgICAgICAgIC8vIHZpZXcgZW5naW5lLlxuICAgICAgICAgICAgLy8gQWxzbywgd2UgZG9uJ3QgaGF2ZSB0byBzZWFyY2ggZm9yIGV4aXN0aW5nIGxpc3RlbmVycyBpcyB0aGVyZSBhcmUgbm8gZGlyZWN0aXZlc1xuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgb24gYSBnaXZlbiBub2RlIGFzIHdlIGNhbid0IHJlZ2lzdGVyIG11bHRpcGxlIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgc2FtZSBldmVudCBpblxuICAgICAgICAgICAgLy8gYSB0ZW1wbGF0ZSAodGhpcyB3b3VsZCBtZWFuIGhhdmluZyBkdXBsaWNhdGUgYXR0cmlidXRlcykuXG4gICAgICAgICAgICBpZiAoIWV2ZW50VGFyZ2V0UmVzb2x2ZXIgJiYgaXNUTm9kZURpcmVjdGl2ZUhvc3QpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0xpc3RlbmVyID0gZmluZEV4aXN0aW5nTGlzdGVuZXIodFZpZXcsIGxWaWV3LCBldmVudE5hbWUsIHROb2RlLmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleGlzdGluZ0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoIGEgbmV3IGxpc3RlbmVyIHRvIGNvYWxlc2NlZCBsaXN0ZW5lcnMgbGlzdCwgbWFpbnRhaW5pbmcgdGhlIG9yZGVyIGluIHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuZXJzIGFyZSByZWdpc3RlcmVkLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2Uga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgbGFzdFxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbmVyIGluIHRoYXQgbGlzdCAoaW4gYF9fbmdMYXN0TGlzdGVuZXJGbl9fYCBmaWVsZCksIHNvIHdlIGNhbiBhdm9pZCBnb2luZyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gdGhlIGVudGlyZSBzZXQgZWFjaCB0aW1lIHdlIG5lZWQgdG8gYWRkIGEgbmV3IGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaXN0ZW5lckZuID0gZXhpc3RpbmdMaXN0ZW5lci5fX25nTGFzdExpc3RlbmVyRm5fXyB8fCBleGlzdGluZ0xpc3RlbmVyO1xuICAgICAgICAgICAgICAgIGxhc3RMaXN0ZW5lckZuLl9fbmdOZXh0TGlzdGVuZXJGbl9fID0gbGlzdGVuZXJGbjtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0xpc3RlbmVyLl9fbmdMYXN0TGlzdGVuZXJGbl9fID0gbGlzdGVuZXJGbjtcbiAgICAgICAgICAgICAgICBwcm9jZXNzT3V0cHV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIGZhbHNlIC8qKiBwcmV2ZW50RGVmYXVsdCAqLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW51cEZuID0gcmVuZGVyZXIubGlzdGVuKHRhcmdldCwgZXZlbnROYW1lLCBsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcisrO1xuICAgICAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbiwgY2xlYW51cEZuKTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgaWR4T3JUYXJnZXRHZXR0ZXIsIGxDbGVhbnVwSW5kZXgsIGxDbGVhbnVwSW5kZXggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXIodE5vZGUsIGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCB0cnVlIC8qKiBwcmV2ZW50RGVmYXVsdCAqLyk7XG4gICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFkZEV2ZW50TGlzdGVuZXIrKztcbiAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbik7XG4gICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgaWR4T3JUYXJnZXRHZXR0ZXIsIGxDbGVhbnVwSW5kZXgsIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZXJlIGlzIG5vIG5hdGl2ZSBsaXN0ZW5lciB0byBhZGQsIHdlIHN0aWxsIG5lZWQgdG8gd3JhcCB0aGUgbGlzdGVuZXIgc28gdGhhdCBPblB1c2hcbiAgICAgICAgLy8gYW5jZXN0b3JzIGFyZSBtYXJrZWQgZGlydHkgd2hlbiBhbiBldmVudCBvY2N1cnMuXG4gICAgICAgIGxpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXIodE5vZGUsIGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBmYWxzZSAvKiogcHJldmVudERlZmF1bHQgKi8pO1xuICAgIH1cbiAgICAvLyBzdWJzY3JpYmUgdG8gZGlyZWN0aXZlIG91dHB1dHNcbiAgICBjb25zdCBvdXRwdXRzID0gdE5vZGUub3V0cHV0cztcbiAgICBsZXQgcHJvcHM7XG4gICAgaWYgKHByb2Nlc3NPdXRwdXRzICYmIG91dHB1dHMgIT09IG51bGwgJiYgKHByb3BzID0gb3V0cHV0c1tldmVudE5hbWVdKSkge1xuICAgICAgICBjb25zdCBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgICAgaWYgKHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzTGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5pZmllZE5hbWUgPSBwcm9wc1tpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5zdGFuY2UgPSBsVmlld1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gZGlyZWN0aXZlSW5zdGFuY2VbbWluaWZpZWROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmICFpc09ic2VydmFibGUob3V0cHV0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEBPdXRwdXQgJHttaW5pZmllZE5hbWV9IG5vdCBpbml0aWFsaXplZCBpbiAnJHtkaXJlY3RpdmVJbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lfScuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG91dHB1dC5zdWJzY3JpYmUobGlzdGVuZXJGbik7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbENsZWFudXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbiwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgdE5vZGUuaW5kZXgsIGlkeCwgLShpZHggKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyhsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHByb2ZpbGVyKDYgLyogT3V0cHV0U3RhcnQgKi8sIGNvbnRleHQsIGxpc3RlbmVyRm4pO1xuICAgICAgICAvLyBPbmx5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGZhbHNlIGZyb20gYSBsaXN0ZW5lciBzaG91bGQgcHJldmVudERlZmF1bHRcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyRm4oZSkgIT09IGZhbHNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IobFZpZXcsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgcHJvZmlsZXIoNyAvKiBPdXRwdXRFbmQgKi8sIGNvbnRleHQsIGxpc3RlbmVyRm4pO1xuICAgIH1cbn1cbi8qKlxuICogV3JhcHMgYW4gZXZlbnQgbGlzdGVuZXIgd2l0aCBhIGZ1bmN0aW9uIHRoYXQgbWFya3MgYW5jZXN0b3JzIGRpcnR5IGFuZCBwcmV2ZW50cyBkZWZhdWx0IGJlaGF2aW9yLFxuICogaWYgYXBwbGljYWJsZS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIFROb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxpc3RlbmVyXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHRoYXQgY29udGFpbnMgdGhpcyBsaXN0ZW5lclxuICogQHBhcmFtIGxpc3RlbmVyRm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGNhbGxcbiAqIEBwYXJhbSB3cmFwV2l0aFByZXZlbnREZWZhdWx0IFdoZXRoZXIgb3Igbm90IHRvIHByZXZlbnQgZGVmYXVsdCBiZWhhdmlvclxuICogKHRoZSBwcm9jZWR1cmFsIHJlbmRlcmVyIGRvZXMgdGhpcyBhbHJlYWR5LCBzbyBpbiB0aG9zZSBjYXNlcywgd2Ugc2hvdWxkIHNraXApXG4gKi9cbmZ1bmN0aW9uIHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIHdyYXBXaXRoUHJldmVudERlZmF1bHQpIHtcbiAgICAvLyBOb3RlOiB3ZSBhcmUgcGVyZm9ybWluZyBtb3N0IG9mIHRoZSB3b3JrIGluIHRoZSBsaXN0ZW5lciBmdW5jdGlvbiBpdHNlbGZcbiAgICAvLyB0byBvcHRpbWl6ZSBsaXN0ZW5lciByZWdpc3RyYXRpb24uXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lckluX21hcmtEaXJ0eUFuZFByZXZlbnREZWZhdWx0KGUpIHtcbiAgICAgICAgLy8gSXZ5IHVzZXMgYEZ1bmN0aW9uYCBhcyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBhbGxvd3MgdXMgdG8gdW53cmFwIHRoZSBmdW5jdGlvblxuICAgICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSBpbnZva2VkIHByb2dyYW1tYXRpY2FsbHkgYnkgYERlYnVnTm9kZS50cmlnZ2VyRXZlbnRIYW5kbGVyYC5cbiAgICAgICAgaWYgKGUgPT09IEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdGVuZXJGbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBvcmRlciB0byBiZSBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIFZpZXcgRW5naW5lLCBldmVudHMgb24gY29tcG9uZW50IGhvc3Qgbm9kZXNcbiAgICAgICAgLy8gbXVzdCBhbHNvIG1hcmsgdGhlIGNvbXBvbmVudCB2aWV3IGl0c2VsZiBkaXJ0eSAoaS5lLiB0aGUgdmlldyB0aGF0IGl0IG93bnMpLlxuICAgICAgICBjb25zdCBzdGFydFZpZXcgPSB0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovID9cbiAgICAgICAgICAgIGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpIDpcbiAgICAgICAgICAgIGxWaWV3O1xuICAgICAgICAvLyBTZWUgaW50ZXJmYWNlcy92aWV3LnRzIGZvciBtb3JlIG9uIExWaWV3RmxhZ3MuTWFudWFsT25QdXNoXG4gICAgICAgIGlmICgobFZpZXdbRkxBR1NdICYgMzIgLyogTWFudWFsT25QdXNoICovKSA9PT0gMCkge1xuICAgICAgICAgICAgbWFya1ZpZXdEaXJ0eShzdGFydFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyhsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZSk7XG4gICAgICAgIC8vIEEganVzdC1pbnZva2VkIGxpc3RlbmVyIGZ1bmN0aW9uIG1pZ2h0IGhhdmUgY29hbGVzY2VkIGxpc3RlbmVycyBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvclxuICAgICAgICAvLyB0aGVpciBwcmVzZW5jZSBhbmQgaW52b2tlIGFzIG5lZWRlZC5cbiAgICAgICAgbGV0IG5leHRMaXN0ZW5lckZuID0gd3JhcExpc3RlbmVySW5fbWFya0RpcnR5QW5kUHJldmVudERlZmF1bHQuX19uZ05leHRMaXN0ZW5lckZuX187XG4gICAgICAgIHdoaWxlIChuZXh0TGlzdGVuZXJGbikge1xuICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIHByZXZlbnQgZGVmYXVsdCBpZiBhbnkgb2YgdGhlIGxpc3RlbmVycyBleHBsaWNpdGx5IHJldHVybiBmYWxzZVxuICAgICAgICAgICAgcmVzdWx0ID0gZXhlY3V0ZUxpc3RlbmVyV2l0aEVycm9ySGFuZGxpbmcobFZpZXcsIGNvbnRleHQsIG5leHRMaXN0ZW5lckZuLCBlKSAmJiByZXN1bHQ7XG4gICAgICAgICAgICBuZXh0TGlzdGVuZXJGbiA9IG5leHRMaXN0ZW5lckZuLl9fbmdOZXh0TGlzdGVuZXJGbl9fO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3cmFwV2l0aFByZXZlbnREZWZhdWx0ICYmIHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vIE5lY2Vzc2FyeSBmb3IgbGVnYWN5IGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBwcmV2ZW50RGVmYXVsdCAoZS5nLiBJRSlcbiAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmVzIGEgY29udGV4dCBhdCB0aGUgbGV2ZWwgc3BlY2lmaWVkIGFuZCBzYXZlcyBpdCBhcyB0aGUgZ2xvYmFsLCBjb250ZXh0Vmlld0RhdGEuXG4gKiBXaWxsIGdldCB0aGUgbmV4dCBsZXZlbCB1cCBpZiBsZXZlbCBpcyBub3Qgc3BlY2lmaWVkLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBzYXZlIGNvbnRleHRzIG9mIHBhcmVudCB2aWV3cyBzbyB0aGV5IGNhbiBiZSBib3VuZCBpbiBlbWJlZGRlZCB2aWV3cywgb3JcbiAqIGluIGNvbmp1bmN0aW9uIHdpdGggcmVmZXJlbmNlKCkgdG8gYmluZCBhIHJlZiBmcm9tIGEgcGFyZW50IHZpZXcuXG4gKlxuICogQHBhcmFtIGxldmVsIFRoZSByZWxhdGl2ZSBsZXZlbCBvZiB0aGUgdmlldyBmcm9tIHdoaWNoIHRvIGdyYWIgY29udGV4dCBjb21wYXJlZCB0byBjb250ZXh0VmV3RGF0YVxuICogQHJldHVybnMgY29udGV4dFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZXh0Q29udGV4dChsZXZlbCA9IDEpIHtcbiAgICByZXR1cm4gbmV4dENvbnRleHRJbXBsKGxldmVsKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENoZWNrcyBhIGdpdmVuIG5vZGUgYWdhaW5zdCBtYXRjaGluZyBwcm9qZWN0aW9uIHNsb3RzIGFuZCByZXR1cm5zIHRoZVxuICogZGV0ZXJtaW5lZCBzbG90IGluZGV4LiBSZXR1cm5zIFwibnVsbFwiIGlmIG5vIHNsb3QgbWF0Y2hlZCB0aGUgZ2l2ZW4gbm9kZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGludG8gYWNjb3VudCB0aGUgcGFyc2VkIG5nUHJvamVjdEFzIHNlbGVjdG9yIGZyb20gdGhlXG4gKiBub2RlJ3MgYXR0cmlidXRlcy4gSWYgcHJlc2VudCwgaXQgd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBuZ1Byb2plY3RBcyBzZWxlY3RvclxuICogbWF0Y2hlcyBhbnkgb2YgdGhlIHByb2plY3Rpb24gc2xvdCBzZWxlY3RvcnMuXG4gKi9cbmZ1bmN0aW9uIG1hdGNoaW5nUHJvamVjdGlvblNsb3RJbmRleCh0Tm9kZSwgcHJvamVjdGlvblNsb3RzKSB7XG4gICAgbGV0IHdpbGRjYXJkTmdDb250ZW50SW5kZXggPSBudWxsO1xuICAgIGNvbnN0IG5nUHJvamVjdEFzQXR0clZhbCA9IGdldFByb2plY3RBc0F0dHJWYWx1ZSh0Tm9kZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0aW9uU2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdFZhbHVlID0gcHJvamVjdGlvblNsb3RzW2ldO1xuICAgICAgICAvLyBUaGUgbGFzdCB3aWxkY2FyZCBwcm9qZWN0aW9uIHNsb3Qgc2hvdWxkIG1hdGNoIGFsbCBub2RlcyB3aGljaCBhcmVuJ3QgbWF0Y2hpbmdcbiAgICAgICAgLy8gYW55IHNlbGVjdG9yLiBUaGlzIGlzIG5lY2Vzc2FyeSB0byBiZSBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHZpZXcgZW5naW5lLlxuICAgICAgICBpZiAoc2xvdFZhbHVlID09PSAnKicpIHtcbiAgICAgICAgICAgIHdpbGRjYXJkTmdDb250ZW50SW5kZXggPSBpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgcmFuIGludG8gYW4gYG5nUHJvamVjdEFzYCBhdHRyaWJ1dGUsIHdlIHNob3VsZCBtYXRjaCBpdHMgcGFyc2VkIHNlbGVjdG9yXG4gICAgICAgIC8vIHRvIHRoZSBsaXN0IG9mIHNlbGVjdG9ycywgb3RoZXJ3aXNlIHdlIGZhbGwgYmFjayB0byBtYXRjaGluZyBhZ2FpbnN0IHRoZSBub2RlLlxuICAgICAgICBpZiAobmdQcm9qZWN0QXNBdHRyVmFsID09PSBudWxsID9cbiAgICAgICAgICAgIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBzbG90VmFsdWUsIC8qIGlzUHJvamVjdGlvbk1vZGUgKi8gdHJ1ZSkgOlxuICAgICAgICAgICAgaXNTZWxlY3RvckluU2VsZWN0b3JMaXN0KG5nUHJvamVjdEFzQXR0clZhbCwgc2xvdFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7IC8vIGZpcnN0IG1hdGNoaW5nIHNlbGVjdG9yIFwiY2FwdHVyZXNcIiBhIGdpdmVuIG5vZGVcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gd2lsZGNhcmROZ0NvbnRlbnRJbmRleDtcbn1cbi8qKlxuICogSW5zdHJ1Y3Rpb24gdG8gZGlzdHJpYnV0ZSBwcm9qZWN0YWJsZSBub2RlcyBhbW9uZyA8bmctY29udGVudD4gb2NjdXJyZW5jZXMgaW4gYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqIEl0IHRha2VzIGFsbCB0aGUgc2VsZWN0b3JzIGZyb20gdGhlIGVudGlyZSBjb21wb25lbnQncyB0ZW1wbGF0ZSBhbmQgZGVjaWRlcyB3aGVyZVxuICogZWFjaCBwcm9qZWN0ZWQgbm9kZSBiZWxvbmdzIChpdCByZS1kaXN0cmlidXRlcyBub2RlcyBhbW9uZyBcImJ1Y2tldHNcIiB3aGVyZSBlYWNoIFwiYnVja2V0XCIgaXNcbiAqIGJhY2tlZCBieSBhIHNlbGVjdG9yKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIENTUyBzZWxlY3RvcnMgdG8gYmUgcHJvdmlkZWQgaW4gMiBmb3JtczogcGFyc2VkIChieSBhIGNvbXBpbGVyKSBhbmQgdGV4dCxcbiAqIHVuLXBhcnNlZCBmb3JtLlxuICpcbiAqIFRoZSBwYXJzZWQgZm9ybSBpcyBuZWVkZWQgZm9yIGVmZmljaWVudCBtYXRjaGluZyBvZiBhIG5vZGUgYWdhaW5zdCBhIGdpdmVuIENTUyBzZWxlY3Rvci5cbiAqIFRoZSB1bi1wYXJzZWQsIHRleHR1YWwgZm9ybSBpcyBuZWVkZWQgZm9yIHN1cHBvcnQgb2YgdGhlIG5nUHJvamVjdEFzIGF0dHJpYnV0ZS5cbiAqXG4gKiBIYXZpbmcgYSBDU1Mgc2VsZWN0b3IgaW4gMiBkaWZmZXJlbnQgZm9ybWF0cyBpcyBub3QgaWRlYWwsIGJ1dCBhbHRlcm5hdGl2ZXMgaGF2ZSBldmVuIG1vcmVcbiAqIGRyYXdiYWNrczpcbiAqIC0gaGF2aW5nIG9ubHkgYSB0ZXh0dWFsIGZvcm0gd291bGQgcmVxdWlyZSBydW50aW1lIHBhcnNpbmcgb2YgQ1NTIHNlbGVjdG9ycztcbiAqIC0gd2UgY2FuJ3QgaGF2ZSBvbmx5IGEgcGFyc2VkIGFzIHdlIGNhbid0IHJlLWNvbnN0cnVjdCB0ZXh0dWFsIGZvcm0gZnJvbSBpdCAoYXMgZW50ZXJlZCBieSBhXG4gKiB0ZW1wbGF0ZSBhdXRob3IpLlxuICpcbiAqIEBwYXJhbSBwcm9qZWN0aW9uU2xvdHM/IEEgY29sbGVjdGlvbiBvZiBwcm9qZWN0aW9uIHNsb3RzLiBBIHByb2plY3Rpb24gc2xvdCBjYW4gYmUgYmFzZWRcbiAqICAgICAgICBvbiBhIHBhcnNlZCBDU1Mgc2VsZWN0b3JzIG9yIHNldCB0byB0aGUgd2lsZGNhcmQgc2VsZWN0b3IgKFwiKlwiKSBpbiBvcmRlciB0byBtYXRjaFxuICogICAgICAgIGFsbCBub2RlcyB3aGljaCBkbyBub3QgbWF0Y2ggYW55IHNlbGVjdG9yLiBJZiBub3Qgc3BlY2lmaWVkLCBhIHNpbmdsZSB3aWxkY2FyZFxuICogICAgICAgIHNlbGVjdG9yIHByb2plY3Rpb24gc2xvdCB3aWxsIGJlIGRlZmluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb2plY3Rpb25EZWYocHJvamVjdGlvblNsb3RzKSB7XG4gICAgY29uc3QgY29tcG9uZW50Tm9kZSA9IGdldExWaWV3KClbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddW1RfSE9TVF07XG4gICAgaWYgKCFjb21wb25lbnROb2RlLnByb2plY3Rpb24pIHtcbiAgICAgICAgLy8gSWYgbm8gZXhwbGljaXQgcHJvamVjdGlvbiBzbG90cyBhcmUgZGVmaW5lZCwgZmFsbCBiYWNrIHRvIGEgc2luZ2xlXG4gICAgICAgIC8vIHByb2plY3Rpb24gc2xvdCB3aXRoIHRoZSB3aWxkY2FyZCBzZWxlY3Rvci5cbiAgICAgICAgY29uc3QgbnVtUHJvamVjdGlvblNsb3RzID0gcHJvamVjdGlvblNsb3RzID8gcHJvamVjdGlvblNsb3RzLmxlbmd0aCA6IDE7XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25IZWFkcyA9IGNvbXBvbmVudE5vZGUucHJvamVjdGlvbiA9XG4gICAgICAgICAgICBuZXdBcnJheShudW1Qcm9qZWN0aW9uU2xvdHMsIG51bGwpO1xuICAgICAgICBjb25zdCB0YWlscyA9IHByb2plY3Rpb25IZWFkcy5zbGljZSgpO1xuICAgICAgICBsZXQgY29tcG9uZW50Q2hpbGQgPSBjb21wb25lbnROb2RlLmNoaWxkO1xuICAgICAgICB3aGlsZSAoY29tcG9uZW50Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHByb2plY3Rpb25TbG90cyA/IG1hdGNoaW5nUHJvamVjdGlvblNsb3RJbmRleChjb21wb25lbnRDaGlsZCwgcHJvamVjdGlvblNsb3RzKSA6IDA7XG4gICAgICAgICAgICBpZiAoc2xvdEluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhaWxzW3Nsb3RJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFpbHNbc2xvdEluZGV4XS5wcm9qZWN0aW9uTmV4dCA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbkhlYWRzW3Nsb3RJbmRleF0gPSBjb21wb25lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFpbHNbc2xvdEluZGV4XSA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50Q2hpbGQgPSBjb21wb25lbnRDaGlsZC5uZXh0O1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnRzIHByZXZpb3VzbHkgcmUtZGlzdHJpYnV0ZWQgcHJvamVjdGVkIG5vZGVzLiBUaGlzIGluc3RydWN0aW9uIG11c3QgYmUgcHJlY2VkZWQgYnkgYSBjYWxsXG4gKiB0byB0aGUgcHJvamVjdGlvbkRlZiBpbnN0cnVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gbm9kZUluZGV4XG4gKiBAcGFyYW0gc2VsZWN0b3JJbmRleDpcbiAqICAgICAgICAtIDAgd2hlbiB0aGUgc2VsZWN0b3IgaXMgYCpgIChvciB1bnNwZWNpZmllZCBhcyB0aGlzIGlzIHRoZSBkZWZhdWx0IHZhbHVlKSxcbiAqICAgICAgICAtIDEgYmFzZWQgaW5kZXggb2YgdGhlIHNlbGVjdG9yIGZyb20gdGhlIHtAbGluayBwcm9qZWN0aW9uRGVmfVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9qZWN0aW9uKG5vZGVJbmRleCwgc2VsZWN0b3JJbmRleCA9IDAsIGF0dHJzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCB0UHJvamVjdGlvbk5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBIRUFERVJfT0ZGU0VUICsgbm9kZUluZGV4LCAxNiAvKiBQcm9qZWN0aW9uICovLCBudWxsLCBhdHRycyB8fCBudWxsKTtcbiAgICAvLyBXZSBjYW4ndCB1c2Ugdmlld0RhdGFbSE9TVF9OT0RFXSBiZWNhdXNlIHByb2plY3Rpb24gbm9kZXMgY2FuIGJlIG5lc3RlZCBpbiBlbWJlZGRlZCB2aWV3cy5cbiAgICBpZiAodFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24gPT09IG51bGwpXG4gICAgICAgIHRQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uID0gc2VsZWN0b3JJbmRleDtcbiAgICAvLyBgPG5nLWNvbnRlbnQ+YCBoYXMgbm8gY29udGVudFxuICAgIHNldEN1cnJlbnRUTm9kZUFzTm90UGFyZW50KCk7XG4gICAgaWYgKCh0UHJvamVjdGlvbk5vZGUuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKSAhPT0gNjQgLyogaXNEZXRhY2hlZCAqLykge1xuICAgICAgICAvLyByZS1kaXN0cmlidXRpb24gb2YgcHJvamVjdGFibGUgbm9kZXMgaXMgc3RvcmVkIG9uIGEgY29tcG9uZW50J3MgdmlldyBsZXZlbFxuICAgICAgICBhcHBseVByb2plY3Rpb24odFZpZXcsIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggYSBsb25lIGJvdW5kIHZhbHVlXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQsIGFuIG5vIGFkZGl0aW9uYWwgdGV4dFxuICogc3Vycm91bmRzIHRoYXQgaW50ZXJwb2xhdGVkIHZhbHVlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJ7e3YwfX1cIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlKCd0aXRsZScsIHYwKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUocHJvcE5hbWUsIHYwLCBzYW5pdGl6ZXIpIHtcbiAgICDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEocHJvcE5hbWUsICcnLCB2MCwgJycsIHNhbml0aXplcik7XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMShwcm9wTmFtZSwgcHJlZml4LCB2MCwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMSwgcHJlZml4LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyKCd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAyLCBwcmVmaXgsIGkwLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMyhcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMywgcHJlZml4LCBpMCwgaTEsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTM7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNChcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTQocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDQsIHByZWZpeCwgaTAsIGkxLCBpMiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNShcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA1LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNihcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNiwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTY7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNyhcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTcocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDcsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBpNSwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlOChcbiAqICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4KHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gOCwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBpNiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYoXG4gKiAgJ3RpdGxlJywgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbmJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aCBhXG4gKiBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVihwcm9wTmFtZSwgdmFsdWVzLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25JbkJldHdlZW4gPSBbdmFsdWVzWzBdXTsgLy8gcHJlZml4XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25JbkJldHdlZW4ucHVzaCh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5sZW5ndGggKyAxLCAuLi5pbnRlcnBvbGF0aW9uSW5CZXR3ZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTk9URTogVGhlIHdvcmQgYHN0eWxpbmdgIGlzIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IGFzIHN0eWxlIG9yIGNsYXNzIHN0eWxpbmcuXG4gKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIGNvZGUgdG8gbGluayBzdHlsaW5nIGluc3RydWN0aW9ucyB0b2dldGhlciBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlcGxheWVkIGluXG4gKiBwcmlvcml0eSBvcmRlci4gVGhlIGZpbGUgZXhpc3RzIGJlY2F1c2UgSXZ5IHN0eWxpbmcgaW5zdHJ1Y3Rpb24gZXhlY3V0aW9uIG9yZGVyIGRvZXMgbm90IG1hdGNoXG4gKiB0aGF0IG9mIHRoZSBwcmlvcml0eSBvcmRlci4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBjb2RlIGlzIHRvIGNyZWF0ZSBhIGxpbmtlZCBsaXN0IHNvIHRoYXQgdGhlXG4gKiBpbnN0cnVjdGlvbnMgY2FuIGJlIHRyYXZlcnNlZCBpbiBwcmlvcml0eSBvcmRlciB3aGVuIGNvbXB1dGluZyB0aGUgc3R5bGVzLlxuICpcbiAqIEFzc3VtZSB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSBmb2xsb3dpbmcgY29kZTpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPG15LWNtcCBbc3R5bGVdPVwiIHtjb2xvcjogJyMwMDEnfSBcIlxuICogICAgICAgICAgICAgW3N0eWxlLmNvbG9yXT1cIiAjMDAyIFwiXG4gKiAgICAgICAgICAgICBkaXItc3R5bGUtY29sb3ItMVxuICogICAgICAgICAgICAgZGlyLXN0eWxlLWNvbG9yLTI+IGBcbiAqIH0pXG4gKiBjbGFzcyBFeGFtcGxlQ29tcG9uZW50IHtcbiAqICAgc3RhdGljIG5nQ29tcCA9IC4uLiB7XG4gKiAgICAgLi4uXG4gKiAgICAgLy8gQ29tcGlsZXIgZW5zdXJlcyB0aGF0IGDJtcm1c3R5bGVQcm9wYCBpcyBhZnRlciBgybXJtXN0eWxlTWFwYFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAxJ30pO1xuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDInKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogYFtkaXItc3R5bGUtY29sb3ItMV0nLFxuICogfSlcbiAqIGNsYXNzIFN0eWxlMURpcmVjdGl2ZSB7XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUnKSBzdHlsZSA9IHtjb2xvcjogJyMwMDUnfTtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZS5jb2xvcicpIGNvbG9yID0gJyMwMDYnO1xuICpcbiAqICAgc3RhdGljIG5nRGlyID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDUnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNicpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKlxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiBgW2Rpci1zdHlsZS1jb2xvci0yXScsXG4gKiB9KVxuICogY2xhc3MgU3R5bGUyRGlyZWN0aXZlIHtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZScpIHN0eWxlID0ge2NvbG9yOiAnIzAwNyd9O1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlLmNvbG9yJykgY29sb3IgPSAnIzAwOCc7XG4gKlxuICogICBzdGF0aWMgbmdEaXIgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNyd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4Jyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6IGBteS1jbXAnLFxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZScpIHN0eWxlID0ge2NvbG9yOiAnIzAwMyd9O1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlLmNvbG9yJykgY29sb3IgPSAnIzAwNCc7XG4gKlxuICogICBzdGF0aWMgbmdDb21wID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDMnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNCcpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgT3JkZXIgb2YgaW5zdHJ1Y3Rpb24gZXhlY3V0aW9uIGlzOlxuICpcbiAqIE5PVEU6IHRoZSBjb21tZW50IGJpbmRpbmcgbG9jYXRpb24gaXMgZm9yIGlsbHVzdHJhdGl2ZSBwdXJwb3NlcyBvbmx5LlxuICpcbiAqIGBgYFxuICogLy8gVGVtcGxhdGU6IChFeGFtcGxlQ29tcG9uZW50KVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAxJ30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDEwXG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpOyAgLy8gQmluZGluZyBpbmRleDogMTJcbiAqIC8vIE15Q29tcG9uZW50XG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDMnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyMlxuICogLy8gU3R5bGUxRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDUnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjRcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyNlxuICogLy8gU3R5bGUyRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDcnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjhcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAzMFxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3QgcHJpb3JpdHkgb3JkZXIgb2YgY29uY2F0ZW5hdGlvbiBpczpcbiAqXG4gKiBgYGBcbiAqIC8vIE15Q29tcG9uZW50XG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDMnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyMlxuICogLy8gU3R5bGUxRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDUnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjRcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAyNlxuICogLy8gU3R5bGUyRGlyZWN0aXZlXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDcnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMjhcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4Jyk7ICAvLyBCaW5kaW5nIGluZGV4OiAzMFxuICogLy8gVGVtcGxhdGU6IChFeGFtcGxlQ29tcG9uZW50KVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAxJ30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDEwXG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpOyAgLy8gQmluZGluZyBpbmRleDogMTJcbiAqIGBgYFxuICpcbiAqIFdoYXQgY29sb3Igc2hvdWxkIGJlIHJlbmRlcmVkP1xuICpcbiAqIE9uY2UgdGhlIGl0ZW1zIGFyZSBjb3JyZWN0bHkgc29ydGVkIGluIHRoZSBsaXN0LCB0aGUgYW5zd2VyIGlzIHNpbXBseSB0aGUgbGFzdCBpdGVtIGluIHRoZVxuICogY29uY2F0ZW5hdGlvbiBsaXN0IHdoaWNoIGlzIGAjMDAyYC5cbiAqXG4gKiBUbyBkbyBzbyB3ZSBrZWVwIGEgbGlua2VkIGxpc3Qgb2YgYWxsIG9mIHRoZSBiaW5kaW5ncyB3aGljaCBwZXJ0YWluIHRvIHRoaXMgZWxlbWVudC5cbiAqIE5vdGljZSB0aGF0IHRoZSBiaW5kaW5ncyBhcmUgaW5zZXJ0ZWQgaW4gdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiwgYnV0IHRoZSBgVFZpZXcuZGF0YWAgYWxsb3dzXG4gKiB1cyB0byB0cmF2ZXJzZSB0aGVtIGluIHRoZSBvcmRlciBvZiBwcmlvcml0eS5cbiAqXG4gKiB8SWR4fGBUVmlldy5kYXRhYHxgTFZpZXdgICAgICAgICAgIHwgTm90ZXNcbiAqIHwtLS18LS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tXG4gKiB8Li4ufCAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHxcbiAqIHwxMCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDAxJ31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDEnfSlgXG4gKiB8MTEgfGAzMCB8IDEyYCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwxMiB8YGNvbG9yYCAgICAgfGAnIzAwMidgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpYFxuICogfDEzIHxgMTAgfCAwYCAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8Li4ufCAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHxcbiAqIHwyMCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDAzJ31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDMnfSlgXG4gKiB8MjEgfGAwIHwgMjJgICAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyMiB8YGNvbG9yYCAgICAgfGAnIzAwNCdgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNCcpYFxuICogfDIzIHxgMjAgfCAyNGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjQgfGBudWxsYCAgICAgIHxge2NvbG9yOiAnIzAwNSd9YHwgYMm1ybVzdHlsZU1hcCgnY29sb3InLCB7Y29sb3I6ICcjMDA1J30pYFxuICogfDI1IHxgMjIgfCAyNmAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjYgfGBjb2xvcmAgICAgIHxgJyMwMDYnYCAgICAgICAgIHwgYMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKWBcbiAqIHwyNyB8YDI0IHwgMjhgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDI4IHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDcnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwNyd9KWBcbiAqIHwyOSB8YDI2IHwgMzBgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDMwIHxgY29sb3JgICAgICB8YCcjMDA4J2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA4JylgXG4gKiB8MzEgfGAyOCB8IDEwYCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqXG4gKiBUaGUgYWJvdmUgZGF0YSBzdHJ1Y3R1cmUgYWxsb3dzIHVzIHRvIHJlLWNvbmNhdGVuYXRlIHRoZSBzdHlsaW5nIG5vIG1hdHRlciB3aGljaCBkYXRhIGJpbmRpbmdcbiAqIGNoYW5nZXMuXG4gKlxuICogTk9URTogaW4gYWRkaXRpb24gdG8ga2VlcGluZyB0cmFjayBvZiBuZXh0L3ByZXZpb3VzIGluZGV4IHRoZSBgVFZpZXcuZGF0YWAgYWxzbyBzdG9yZXMgcHJldi9uZXh0XG4gKiBkdXBsaWNhdGUgYml0LiBUaGUgZHVwbGljYXRlIGJpdCBpZiB0cnVlIHNheXMgdGhlcmUgZWl0aGVyIGlzIGEgYmluZGluZyB3aXRoIHRoZSBzYW1lIG5hbWUgb3JcbiAqIHRoZXJlIGlzIGEgbWFwICh3aGljaCBtYXkgY29udGFpbiB0aGUgbmFtZSkuIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZnVsIGluIGtub3dpbmcgaWYgb3RoZXJcbiAqIHN0eWxlcyB3aXRoIGhpZ2hlciBwcmlvcml0eSBuZWVkIHRvIGJlIHNlYXJjaGVkIGZvciBvdmVyd3JpdGVzLlxuICpcbiAqIE5PVEU6IFNlZSBgc2hvdWxkIHN1cHBvcnQgZXhhbXBsZSBpbiAndG5vZGVfbGlua2VkX2xpc3QudHMnIGRvY3VtZW50YXRpb25gIGluXG4gKiBgdG5vZGVfbGlua2VkX2xpc3Rfc3BlYy50c2AgZm9yIHdvcmtpbmcgZXhhbXBsZS5cbiAqL1xubGV0IF9fdW51c2VkX2NvbnN0X2FzX2Nsb3N1cmVfZG9lc19ub3RfbGlrZV9zdGFuZGFsb25lX2NvbW1lbnRfYmxvY2tzX187XG4vKipcbiAqIEluc2VydCBuZXcgYHRTdHlsZVZhbHVlYCBhdCBgVERhdGFgIGFuZCBsaW5rIGV4aXN0aW5nIHN0eWxlIGJpbmRpbmdzIHN1Y2ggdGhhdCB3ZSBtYWludGFpbiBsaW5rZWRcbiAqIGxpc3Qgb2Ygc3R5bGVzIGFuZCBjb21wdXRlIHRoZSBkdXBsaWNhdGUgZmxhZy5cbiAqXG4gKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGR1cmluZyBgZmlyc3RVcGRhdGVQYXNzYCBvbmx5IHRvIHBvcHVsYXRlIHRoZSBgVFZpZXcuZGF0YWAuXG4gKlxuICogVGhlIGZ1bmN0aW9uIHdvcmtzIGJ5IGtlZXBpbmcgdHJhY2sgb2YgYHRTdHlsaW5nUmFuZ2VgIHdoaWNoIGNvbnRhaW5zIHR3byBwb2ludGVycyBwb2ludGluZyB0b1xuICogdGhlIGhlYWQvdGFpbCBvZiB0aGUgdGVtcGxhdGUgcG9ydGlvbiBvZiB0aGUgc3R5bGVzLlxuICogIC0gaWYgYGlzSG9zdCA9PT0gZmFsc2VgICh3ZSBhcmUgdGVtcGxhdGUpIHRoZW4gaW5zZXJ0aW9uIGlzIGF0IHRhaWwgb2YgYFRTdHlsaW5nUmFuZ2VgXG4gKiAgLSBpZiBgaXNIb3N0ID09PSB0cnVlYCAod2UgYXJlIGhvc3QgYmluZGluZykgdGhlbiBpbnNlcnRpb24gaXMgYXQgaGVhZCBvZiBgVFN0eWxpbmdSYW5nZWBcbiAqXG4gKiBAcGFyYW0gdERhdGEgVGhlIGBURGF0YWAgdG8gaW5zZXJ0IGludG8uXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBhc3NvY2lhdGVkIHdpdGggdGhlIHN0eWxpbmcgZWxlbWVudC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBTZWUgYFRTdHlsaW5nS2V5YC5cbiAqIEBwYXJhbSBpbmRleCBsb2NhdGlvbiBvZiB3aGVyZSBgdFN0eWxlVmFsdWVgIHNob3VsZCBiZSBzdG9yZWQgKGFuZCBsaW5rZWQgaW50byBsaXN0LilcbiAqIEBwYXJhbSBpc0hvc3RCaW5kaW5nIGB0cnVlYCBpZiB0aGUgaW5zZXJ0aW9uIGlzIGZvciBhIGBob3N0QmluZGluZ2AuIChpbnNlcnRpb24gaXMgaW4gZnJvbnQgb2ZcbiAqICAgICAgICAgICAgICAgdGVtcGxhdGUuKVxuICogQHBhcmFtIGlzQ2xhc3NCaW5kaW5nIFRydWUgaWYgdGhlIGFzc29jaWF0ZWQgYHRTdHlsaW5nS2V5YCBhcyBhIGBjbGFzc2Agc3R5bGluZy5cbiAqICAgICAgICAgICAgICAgICAgICAgICBgdE5vZGUuY2xhc3NCaW5kaW5nc2Agc2hvdWxkIGJlIHVzZWQgKG9yIGB0Tm9kZS5zdHlsZUJpbmRpbmdzYCBvdGhlcndpc2UuKVxuICovXG5mdW5jdGlvbiBpbnNlcnRUU3R5bGluZ0JpbmRpbmcodERhdGEsIHROb2RlLCB0U3R5bGluZ0tleVdpdGhTdGF0aWMsIGluZGV4LCBpc0hvc3RCaW5kaW5nLCBpc0NsYXNzQmluZGluZykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdFVwZGF0ZVBhc3MoZ2V0VFZpZXcoKSk7XG4gICAgbGV0IHRCaW5kaW5ncyA9IGlzQ2xhc3NCaW5kaW5nID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgbGV0IHRtcGxIZWFkID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYodEJpbmRpbmdzKTtcbiAgICBsZXQgdG1wbFRhaWwgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0QmluZGluZ3MpO1xuICAgIHREYXRhW2luZGV4XSA9IHRTdHlsaW5nS2V5V2l0aFN0YXRpYztcbiAgICBsZXQgaXNLZXlEdXBsaWNhdGVPZlN0YXRpYyA9IGZhbHNlO1xuICAgIGxldCB0U3R5bGluZ0tleTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleVdpdGhTdGF0aWMpKSB7XG4gICAgICAgIC8vIFdlIGFyZSBjYXNlIHdoZW4gdGhlIGBUU3R5bGluZ0tleWAgY29udGFpbnMgc3RhdGljIGZpZWxkcyBhcyB3ZWxsLlxuICAgICAgICBjb25zdCBzdGF0aWNLZXlWYWx1ZUFycmF5ID0gdFN0eWxpbmdLZXlXaXRoU3RhdGljO1xuICAgICAgICB0U3R5bGluZ0tleSA9IHN0YXRpY0tleVZhbHVlQXJyYXlbMV07IC8vIHVud3JhcC5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiBvdXIga2V5IGlzIHByZXNlbnQgaW4gdGhlIHN0YXRpYyBzbyB0aGF0IHdlIGNhbiBtYXJrIGl0IGFzIGR1cGxpY2F0ZS5cbiAgICAgICAgaWYgKHRTdHlsaW5nS2V5ID09PSBudWxsIHx8XG4gICAgICAgICAgICBrZXlWYWx1ZUFycmF5SW5kZXhPZihzdGF0aWNLZXlWYWx1ZUFycmF5LCB0U3R5bGluZ0tleSkgPiAwKSB7XG4gICAgICAgICAgICAvLyB0U3R5bGluZ0tleSBpcyBwcmVzZW50IGluIHRoZSBzdGF0aWNzLCBuZWVkIHRvIG1hcmsgaXQgYXMgZHVwbGljYXRlLlxuICAgICAgICAgICAgaXNLZXlEdXBsaWNhdGVPZlN0YXRpYyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRTdHlsaW5nS2V5ID0gdFN0eWxpbmdLZXlXaXRoU3RhdGljO1xuICAgIH1cbiAgICBpZiAoaXNIb3N0QmluZGluZykge1xuICAgICAgICAvLyBXZSBhcmUgaW5zZXJ0aW5nIGhvc3QgYmluZGluZ3NcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSB0ZW1wbGF0ZSBiaW5kaW5ncyB0aGVuIGB0YWlsYCBpcyAwLlxuICAgICAgICBjb25zdCBoYXNUZW1wbGF0ZUJpbmRpbmdzID0gdG1wbFRhaWwgIT09IDA7XG4gICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgYmVjYXVzZSB0aGF0IG1lYW5zIHRoYXQgdGhlIGBoZWFkYCBjYW4ndCBwb2ludCB0byB0aGUgZmlyc3RcbiAgICAgICAgLy8gdGVtcGxhdGUgYmluZGluZ3MgKHRoZXJlIGFyZSBub25lLikgSW5zdGVhZCB0aGUgaGVhZCBwb2ludHMgdG8gdGhlIHRhaWwgb2YgdGhlIHRlbXBsYXRlLlxuICAgICAgICBpZiAoaGFzVGVtcGxhdGVCaW5kaW5ncykge1xuICAgICAgICAgICAgLy8gdGVtcGxhdGUgaGVhZCdzIFwicHJldlwiIHdpbGwgcG9pbnQgdG8gbGFzdCBob3N0IGJpbmRpbmcgb3IgdG8gMCBpZiBubyBob3N0IGJpbmRpbmdzIHlldFxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNOb2RlID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYodERhdGFbdG1wbEhlYWQgKyAxXSk7XG4gICAgICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gdG9UU3R5bGluZ1JhbmdlKHByZXZpb3VzTm9kZSwgdG1wbEhlYWQpO1xuICAgICAgICAgICAgLy8gaWYgYSBob3N0IGJpbmRpbmcgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgbmV4dCBvZiB0aGF0IGhvc3RcbiAgICAgICAgICAgIC8vIGJpbmRpbmcgdG8gcG9pbnQgdG8gdGhpcyBvbmVcbiAgICAgICAgICAgIGlmIChwcmV2aW91c05vZGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUtdGFpbCB2YWx1ZSB0byBwb2ludCB0byB1cy5cbiAgICAgICAgICAgICAgICB0RGF0YVtwcmV2aW91c05vZGUgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIHNldFRTdHlsaW5nUmFuZ2VOZXh0KHREYXRhW3ByZXZpb3VzTm9kZSArIDFdLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgXCJwcmV2aW91c1wiIG9mIHRoZSB0ZW1wbGF0ZSBiaW5kaW5nIGhlYWQgc2hvdWxkIHBvaW50IHRvIHRoaXMgaG9zdCBiaW5kaW5nXG4gICAgICAgICAgICB0RGF0YVt0bXBsSGVhZCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZVByZXYodERhdGFbdG1wbEhlYWQgKyAxXSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHRvVFN0eWxpbmdSYW5nZSh0bXBsSGVhZCwgMCk7XG4gICAgICAgICAgICAvLyBpZiBhIGhvc3QgYmluZGluZyBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBuZXh0IG9mIHRoYXQgaG9zdFxuICAgICAgICAgICAgLy8gYmluZGluZyB0byBwb2ludCB0byB0aGlzIG9uZVxuICAgICAgICAgICAgaWYgKHRtcGxIZWFkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgdGhlIHRlbXBsYXRlLXRhaWwgdmFsdWUgdG8gcG9pbnQgdG8gdXMuXG4gICAgICAgICAgICAgICAgdERhdGFbdG1wbEhlYWQgKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VOZXh0KHREYXRhW3RtcGxIZWFkICsgMV0sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdGVtcGxhdGUsIHRoZSBoZWFkIHBvaW50cyB0byB0ZW1wbGF0ZS10YWlsLCBhbmQgbmVlZHMgdG8gYmUgYWR2YW5jZWQuXG4gICAgICAgICAgICB0bXBsSGVhZCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSBhcmUgaW5zZXJ0aW5nIGluIHRlbXBsYXRlIHNlY3Rpb24uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgYmluZGluZydzIFwicHJldmlvdXNcIiB0byB0aGUgY3VycmVudCB0ZW1wbGF0ZSB0YWlsXG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSB0b1RTdHlsaW5nUmFuZ2UodG1wbFRhaWwsIDApO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKHRtcGxIZWFkICE9PSAwICYmIHRtcGxUYWlsID09PSAwLCBmYWxzZSwgJ0FkZGluZyB0ZW1wbGF0ZSBiaW5kaW5ncyBhZnRlciBob3N0QmluZGluZ3MgaXMgbm90IGFsbG93ZWQuJyk7XG4gICAgICAgIGlmICh0bXBsSGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgdG1wbEhlYWQgPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwcmV2aW91cyB2YWx1ZSBcIm5leHRcIiB0byBwb2ludCB0byB0aGlzIGJpbmRpbmdcbiAgICAgICAgICAgIHREYXRhW3RtcGxUYWlsICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlTmV4dCh0RGF0YVt0bXBsVGFpbCArIDFdLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdG1wbFRhaWwgPSBpbmRleDtcbiAgICB9XG4gICAgLy8gTm93IHdlIG5lZWQgdG8gdXBkYXRlIC8gY29tcHV0ZSB0aGUgZHVwbGljYXRlcy5cbiAgICAvLyBTdGFydGluZyB3aXRoIG91ciBsb2NhdGlvbiBzZWFyY2ggdG93YXJkcyBoZWFkIChsZWFzdCBwcmlvcml0eSlcbiAgICBpZiAoaXNLZXlEdXBsaWNhdGVPZlN0YXRpYykge1xuICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodERhdGFbaW5kZXggKyAxXSk7XG4gICAgfVxuICAgIG1hcmtEdXBsaWNhdGVzKHREYXRhLCB0U3R5bGluZ0tleSwgaW5kZXgsIHRydWUsIGlzQ2xhc3NCaW5kaW5nKTtcbiAgICBtYXJrRHVwbGljYXRlcyh0RGF0YSwgdFN0eWxpbmdLZXksIGluZGV4LCBmYWxzZSwgaXNDbGFzc0JpbmRpbmcpO1xuICAgIG1hcmtEdXBsaWNhdGVPZlJlc2lkdWFsU3R5bGluZyh0Tm9kZSwgdFN0eWxpbmdLZXksIHREYXRhLCBpbmRleCwgaXNDbGFzc0JpbmRpbmcpO1xuICAgIHRCaW5kaW5ncyA9IHRvVFN0eWxpbmdSYW5nZSh0bXBsSGVhZCwgdG1wbFRhaWwpO1xuICAgIGlmIChpc0NsYXNzQmluZGluZykge1xuICAgICAgICB0Tm9kZS5jbGFzc0JpbmRpbmdzID0gdEJpbmRpbmdzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdE5vZGUuc3R5bGVCaW5kaW5ncyA9IHRCaW5kaW5ncztcbiAgICB9XG59XG4vKipcbiAqIExvb2sgaW50byB0aGUgcmVzaWR1YWwgc3R5bGluZyB0byBzZWUgaWYgdGhlIGN1cnJlbnQgYHRTdHlsaW5nS2V5YCBpcyBkdXBsaWNhdGUgb2YgcmVzaWR1YWwuXG4gKlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hlcmUgdGhlIHJlc2lkdWFsIGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBgVFN0eWxpbmdLZXlgIHRvIHN0b3JlLlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKiBAcGFyYW0gaW5kZXggbG9jYXRpb24gb2Ygd2hlcmUgYHRTdHlsZVZhbHVlYCBzaG91bGQgYmUgc3RvcmVkIChhbmQgbGlua2VkIGludG8gbGlzdC4pXG4gKiBAcGFyYW0gaXNDbGFzc0JpbmRpbmcgVHJ1ZSBpZiB0aGUgYXNzb2NpYXRlZCBgdFN0eWxpbmdLZXlgIGFzIGEgYGNsYXNzYCBzdHlsaW5nLlxuICogICAgICAgICAgICAgICAgICAgICAgIGB0Tm9kZS5jbGFzc0JpbmRpbmdzYCBzaG91bGQgYmUgdXNlZCAob3IgYHROb2RlLnN0eWxlQmluZGluZ3NgIG90aGVyd2lzZS4pXG4gKi9cbmZ1bmN0aW9uIG1hcmtEdXBsaWNhdGVPZlJlc2lkdWFsU3R5bGluZyh0Tm9kZSwgdFN0eWxpbmdLZXksIHREYXRhLCBpbmRleCwgaXNDbGFzc0JpbmRpbmcpIHtcbiAgICBjb25zdCByZXNpZHVhbCA9IGlzQ2xhc3NCaW5kaW5nID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXM7XG4gICAgaWYgKHJlc2lkdWFsICE9IG51bGwgLyogb3IgdW5kZWZpbmVkICovICYmIHR5cGVvZiB0U3R5bGluZ0tleSA9PSAnc3RyaW5nJyAmJlxuICAgICAgICBrZXlWYWx1ZUFycmF5SW5kZXhPZihyZXNpZHVhbCwgdFN0eWxpbmdLZXkpID49IDApIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBkdXBsaWNhdGUgaW4gdGhlIHJlc2lkdWFsIHNvIG1hcmsgb3Vyc2VsdmVzIGFzIGR1cGxpY2F0ZS5cbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHREYXRhW2luZGV4ICsgMV0pO1xuICAgIH1cbn1cbi8qKlxuICogTWFya3MgYFRTdHlsZVZhbHVlYHMgYXMgZHVwbGljYXRlcyBpZiBhbm90aGVyIHN0eWxlIGJpbmRpbmcgaW4gdGhlIGxpc3QgaGFzIHRoZSBzYW1lXG4gKiBgVFN0eWxlVmFsdWVgLlxuICpcbiAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIHR3aWNlIG9uY2Ugd2l0aCBgaXNQcmV2RGlyYCBzZXQgdG8gYHRydWVgIGFuZCBvbmNlXG4gKiB3aXRoIGl0IHNldCB0byBgZmFsc2VgIHRvIHNlYXJjaCBib3RoIHRoZSBwcmV2aW91cyBhcyB3ZWxsIGFzIG5leHQgaXRlbXMgaW4gdGhlIGxpc3QuXG4gKlxuICogTm8gZHVwbGljYXRlIGNhc2VcbiAqIGBgYFxuICogICBbc3R5bGUuY29sb3JdXG4gKiAgIFtzdHlsZS53aWR0aC5weF0gPDwtIGluZGV4XG4gKiAgIFtzdHlsZS5oZWlnaHQucHhdXG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZS53aWR0aC5weF1gIHRvIHRoZSBleGlzdGluZyBgW3N0eWxlLmNvbG9yXWAgcHJvZHVjZXMgbm9cbiAqIGR1cGxpY2F0ZXMgYmVjYXVzZSBgd2lkdGhgIGlzIG5vdCBmb3VuZCBpbiBhbnkgb3RoZXIgcGFydCBvZiB0aGUgbGlua2VkIGxpc3QuXG4gKlxuICogRHVwbGljYXRlIGNhc2VcbiAqIGBgYFxuICogICBbc3R5bGUuY29sb3JdXG4gKiAgIFtzdHlsZS53aWR0aC5lbV1cbiAqICAgW3N0eWxlLndpZHRoLnB4XSA8PC0gaW5kZXhcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGUud2lkdGgucHhdYCB3aWxsIHByb2R1Y2UgYSBkdXBsaWNhdGUgd2l0aCBgW3N0eWxlLndpZHRoLmVtXWBcbiAqIGJlY2F1c2UgYHdpZHRoYCBpcyBmb3VuZCBpbiB0aGUgY2hhaW4uXG4gKlxuICogTWFwIGNhc2UgMVxuICogYGBgXG4gKiAgIFtzdHlsZS53aWR0aC5weF1cbiAqICAgW3N0eWxlLmNvbG9yXVxuICogICBbc3R5bGVdICA8PC0gaW5kZXhcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGVdYCB3aWxsIHByb2R1Y2UgYSBkdXBsaWNhdGUgd2l0aCBhbnkgb3RoZXIgYmluZGluZ3MgYmVjYXVzZVxuICogYFtzdHlsZV1gIGlzIGEgTWFwIGFuZCBhcyBzdWNoIGlzIGZ1bGx5IGR5bmFtaWMgYW5kIGNvdWxkIHByb2R1Y2UgYGNvbG9yYCBvciBgd2lkdGhgLlxuICpcbiAqIE1hcCBjYXNlIDJcbiAqIGBgYFxuICogICBbc3R5bGVdXG4gKiAgIFtzdHlsZS53aWR0aC5weF1cbiAqICAgW3N0eWxlLmNvbG9yXSAgPDwtIGluZGV4XG4gKiBgYGBcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGFkZGluZyBgW3N0eWxlLmNvbG9yXWAgd2lsbCBwcm9kdWNlIGEgZHVwbGljYXRlIGJlY2F1c2UgdGhlcmUgaXMgYWxyZWFkeSBhXG4gKiBgW3N0eWxlXWAgYmluZGluZyB3aGljaCBpcyBhIE1hcCBhbmQgYXMgc3VjaCBpcyBmdWxseSBkeW5hbWljIGFuZCBjb3VsZCBwcm9kdWNlIGBjb2xvcmAgb3JcbiAqIGB3aWR0aGAuXG4gKlxuICogTk9URTogT25jZSBgW3N0eWxlXWAgKE1hcCkgaXMgYWRkZWQgaW50byB0aGUgc3lzdGVtIGFsbCB0aGluZ3MgYXJlIG1hcHBlZCBhcyBkdXBsaWNhdGVzLlxuICogTk9URTogV2UgdXNlIGBzdHlsZWAgYXMgZXhhbXBsZSwgYnV0IHNhbWUgbG9naWMgaXMgYXBwbGllZCB0byBgY2xhc3NgZXMgYXMgd2VsbC5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IGBUU3R5bGluZ0tleVByaW1pdGl2ZWAgd2hpY2ggY29udGFpbnMgdGhlIHZhbHVlIHRvIGNvbXBhcmUgdG8gb3RoZXIga2V5cyBpblxuICogICAgICAgIHRoZSBsaW5rZWQgbGlzdC5cbiAqIEBwYXJhbSBpbmRleCBTdGFydGluZyBsb2NhdGlvbiBpbiB0aGUgbGlua2VkIGxpc3QgdG8gc2VhcmNoIGZyb21cbiAqIEBwYXJhbSBpc1ByZXZEaXIgRGlyZWN0aW9uLlxuICogICAgICAgIC0gYHRydWVgIGZvciBwcmV2aW91cyAobG93ZXIgcHJpb3JpdHkpO1xuICogICAgICAgIC0gYGZhbHNlYCBmb3IgbmV4dCAoaGlnaGVyIHByaW9yaXR5KS5cbiAqL1xuZnVuY3Rpb24gbWFya0R1cGxpY2F0ZXModERhdGEsIHRTdHlsaW5nS2V5LCBpbmRleCwgaXNQcmV2RGlyLCBpc0NsYXNzQmluZGluZykge1xuICAgIGNvbnN0IHRTdHlsaW5nQXRJbmRleCA9IHREYXRhW2luZGV4ICsgMV07XG4gICAgY29uc3QgaXNNYXAgPSB0U3R5bGluZ0tleSA9PT0gbnVsbDtcbiAgICBsZXQgY3Vyc29yID0gaXNQcmV2RGlyID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdBdEluZGV4KSA6IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nQXRJbmRleCk7XG4gICAgbGV0IGZvdW5kRHVwbGljYXRlID0gZmFsc2U7XG4gICAgLy8gV2Uga2VlcCBpdGVyYXRpbmcgYXMgbG9uZyBhcyB3ZSBoYXZlIGEgY3Vyc29yXG4gICAgLy8gQU5EIGVpdGhlcjpcbiAgICAvLyAtIHdlIGZvdW5kIHdoYXQgd2UgYXJlIGxvb2tpbmcgZm9yLCBPUlxuICAgIC8vIC0gd2UgYXJlIGEgbWFwIGluIHdoaWNoIGNhc2Ugd2UgaGF2ZSB0byBjb250aW51ZSBzZWFyY2hpbmcgZXZlbiBhZnRlciB3ZSBmaW5kIHdoYXQgd2Ugd2VyZVxuICAgIC8vICAgbG9va2luZyBmb3Igc2luY2Ugd2UgYXJlIGEgd2lsZCBjYXJkIGFuZCBldmVyeXRoaW5nIG5lZWRzIHRvIGJlIGZsaXBwZWQgdG8gZHVwbGljYXRlLlxuICAgIHdoaWxlIChjdXJzb3IgIT09IDAgJiYgKGZvdW5kRHVwbGljYXRlID09PSBmYWxzZSB8fCBpc01hcCkpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh0RGF0YSwgY3Vyc29yKTtcbiAgICAgICAgY29uc3QgdFN0eWxpbmdWYWx1ZUF0Q3Vyc29yID0gdERhdGFbY3Vyc29yXTtcbiAgICAgICAgY29uc3QgdFN0eWxlUmFuZ2VBdEN1cnNvciA9IHREYXRhW2N1cnNvciArIDFdO1xuICAgICAgICBpZiAoaXNTdHlsaW5nTWF0Y2godFN0eWxpbmdWYWx1ZUF0Q3Vyc29yLCB0U3R5bGluZ0tleSkpIHtcbiAgICAgICAgICAgIGZvdW5kRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHREYXRhW2N1cnNvciArIDFdID0gaXNQcmV2RGlyID8gc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxlUmFuZ2VBdEN1cnNvcikgOlxuICAgICAgICAgICAgICAgIHNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsZVJhbmdlQXRDdXJzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvciA9IGlzUHJldkRpciA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsZVJhbmdlQXRDdXJzb3IpIDpcbiAgICAgICAgICAgIGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsZVJhbmdlQXRDdXJzb3IpO1xuICAgIH1cbiAgICBpZiAoZm91bmREdXBsaWNhdGUpIHtcbiAgICAgICAgLy8gaWYgd2UgZm91bmQgYSBkdXBsaWNhdGUsIHRoYW4gbWFyayBvdXJzZWx2ZXMuXG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSBpc1ByZXZEaXIgPyBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0U3R5bGluZ0F0SW5kZXgpIDpcbiAgICAgICAgICAgIHNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRTdHlsaW5nQXRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBgVFN0eWxpbmdLZXlgcyBhcmUgYSBtYXRjaC5cbiAqXG4gKiBXaGVuIGNvbXB1dGluZyB3aGV0aGVyIGEgYmluZGluZyBjb250YWlucyBhIGR1cGxpY2F0ZSwgd2UgbmVlZCB0byBjb21wYXJlIGlmIHRoZSBpbnN0cnVjdGlvblxuICogYFRTdHlsaW5nS2V5YCBoYXMgYSBtYXRjaC5cbiAqXG4gKiBIZXJlIGFyZSBleGFtcGxlcyBvZiBgVFN0eWxpbmdLZXlgcyB3aGljaCBtYXRjaCBnaXZlbiBgdFN0eWxpbmdLZXlDdXJzb3JgIGlzOlxuICogLSBgY29sb3JgXG4gKiAgICAtIGBjb2xvcmAgICAgLy8gTWF0Y2ggYW5vdGhlciBjb2xvclxuICogICAgLSBgbnVsbGAgICAgIC8vIFRoYXQgbWVhbnMgdGhhdCBgdFN0eWxpbmdLZXlgIGlzIGEgYGNsYXNzTWFwYC9gc3R5bGVNYXBgIGluc3RydWN0aW9uXG4gKiAgICAtIGBbJycsICdjb2xvcicsICdvdGhlcicsIHRydWVdYCAvLyB3cmFwcGVkIGBjb2xvcmAgc28gbWF0Y2hcbiAqICAgIC0gYFsnJywgbnVsbCwgJ290aGVyJywgdHJ1ZV1gICAgICAgIC8vIHdyYXBwZWQgYG51bGxgIHNvIG1hdGNoXG4gKiAgICAtIGBbJycsICd3aWR0aCcsICdjb2xvcicsICd2YWx1ZSddYCAvLyB3cmFwcGVkIHN0YXRpYyB2YWx1ZSBjb250YWlucyBhIG1hdGNoIG9uIGAnY29sb3InYFxuICogLSBgbnVsbGAgICAgICAgLy8gYHRTdHlsaW5nS2V5Q3Vyc29yYCBhbHdheXMgbWF0Y2ggYXMgaXQgaXMgYGNsYXNzTWFwYC9gc3R5bGVNYXBgIGluc3RydWN0aW9uXG4gKlxuICogQHBhcmFtIHRTdHlsaW5nS2V5Q3Vyc29yXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXlcbiAqL1xuZnVuY3Rpb24gaXNTdHlsaW5nTWF0Y2godFN0eWxpbmdLZXlDdXJzb3IsIHRTdHlsaW5nS2V5KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXkpLCB0cnVlLCAnRXhwZWN0ZWQgdGhhdCBcXCd0U3R5bGluZ0tleVxcJyBoYXMgYmVlbiB1bndyYXBwZWQnKTtcbiAgICBpZiAodFN0eWxpbmdLZXlDdXJzb3IgPT09IG51bGwgfHwgLy8gSWYgdGhlIGN1cnNvciBpcyBgbnVsbGAgaXQgbWVhbnMgdGhhdCB3ZSBoYXZlIG1hcCBhdCB0aGF0XG4gICAgICAgIC8vIGxvY2F0aW9uIHNvIHdlIG11c3QgYXNzdW1lIHRoYXQgd2UgaGF2ZSBhIG1hdGNoLlxuICAgICAgICB0U3R5bGluZ0tleSA9PSBudWxsIHx8IC8vIElmIGB0U3R5bGluZ0tleWAgaXMgYG51bGxgIHRoZW4gaXQgaXMgYSBtYXAgdGhlcmVmb3IgYXNzdW1lIHRoYXQgaXRcbiAgICAgICAgLy8gY29udGFpbnMgYSBtYXRjaC5cbiAgICAgICAgKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXlDdXJzb3IpID8gdFN0eWxpbmdLZXlDdXJzb3JbMV0gOiB0U3R5bGluZ0tleUN1cnNvcikgPT09XG4gICAgICAgICAgICB0U3R5bGluZ0tleSAvLyBJZiB0aGUga2V5cyBtYXRjaCBleHBsaWNpdGx5IHRoYW4gd2UgYXJlIGEgbWF0Y2guXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5Q3Vyc29yKSAmJiB0eXBlb2YgdFN0eWxpbmdLZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGlmIHdlIGRpZCBub3QgZmluZCBhIG1hdGNoLCBidXQgYHRTdHlsaW5nS2V5Q3Vyc29yYCBpcyBgS2V5VmFsdWVBcnJheWAgdGhhdCBtZWFucyBjdXJzb3IgaGFzXG4gICAgICAgIC8vIHN0YXRpY3MgYW5kIHdlIG5lZWQgdG8gY2hlY2sgdGhvc2UgYXMgd2VsbC5cbiAgICAgICAgcmV0dXJuIGtleVZhbHVlQXJyYXlJbmRleE9mKHRTdHlsaW5nS2V5Q3Vyc29yLCB0U3R5bGluZ0tleSkgPj1cbiAgICAgICAgICAgIDA7IC8vIHNlZSBpZiB3ZSBhcmUgbWF0Y2hpbmcgdGhlIGtleVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gR2xvYmFsIHN0YXRlIG9mIHRoZSBwYXJzZXIuIChUaGlzIG1ha2VzIHBhcnNlciBub24tcmVlbnRyYW50LCBidXQgdGhhdCBpcyBub3QgYW4gaXNzdWUpXG5jb25zdCBwYXJzZXJTdGF0ZSA9IHtcbiAgICB0ZXh0RW5kOiAwLFxuICAgIGtleTogMCxcbiAgICBrZXlFbmQ6IDAsXG4gICAgdmFsdWU6IDAsXG4gICAgdmFsdWVFbmQ6IDAsXG59O1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGxhc3QgcGFyc2VkIGBrZXlgIG9mIHN0eWxlLlxuICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc3Vic3RyaW5nIHRoZSBrZXkgZnJvbS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGFzdFBhcnNlZEtleSh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHBhcnNlclN0YXRlLmtleSwgcGFyc2VyU3RhdGUua2V5RW5kKTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBsYXN0IHBhcnNlZCBgdmFsdWVgIG9mIHN0eWxlLlxuICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc3Vic3RyaW5nIHRoZSBrZXkgZnJvbS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGFzdFBhcnNlZFZhbHVlKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcocGFyc2VyU3RhdGUudmFsdWUsIHBhcnNlclN0YXRlLnZhbHVlRW5kKTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgYGNsYXNzTmFtZWAgc3RyaW5nIGZvciBwYXJzaW5nIGFuZCBwYXJzZXMgdGhlIGZpcnN0IHRva2VuLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlQ2xhc3NOYW1lKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogQHBhcmFtIHRleHQgYGNsYXNzTmFtZWAgdG8gcGFyc2VcbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlQ2xhc3NOYW1lTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VDbGFzc05hbWUodGV4dCkge1xuICAgIHJlc2V0UGFyc2VyU3RhdGUodGV4dCk7XG4gICAgcmV0dXJuIHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCAwLCBwYXJzZXJTdGF0ZS50ZXh0RW5kKSk7XG59XG4vKipcbiAqIFBhcnNlcyBuZXh0IGBjbGFzc05hbWVgIHRva2VuLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlQ2xhc3NOYW1lKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0ZXh0IGBjbGFzc05hbWVgIHRvIHBhcnNlXG4gKiBAcGFyYW0gaW5kZXggd2hlcmUgdGhlIHBhcnNpbmcgc2hvdWxkIHJlc3VtZS5cbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlQ2xhc3NOYW1lTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGluZGV4KSB7XG4gICAgY29uc3QgZW5kID0gcGFyc2VyU3RhdGUudGV4dEVuZDtcbiAgICBpZiAoZW5kID09PSBpbmRleCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUua2V5RW5kID0gY29uc3VtZUNsYXNzVG9rZW4odGV4dCwgcGFyc2VyU3RhdGUua2V5ID0gaW5kZXgsIGVuZCk7XG4gICAgcmV0dXJuIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIGluZGV4LCBlbmQpO1xufVxuLyoqXG4gKiBJbml0aWFsaXplcyBgY3NzVGV4dGAgc3RyaW5nIGZvciBwYXJzaW5nIGFuZCBwYXJzZXMgdGhlIGZpcnN0IGtleS92YWx1ZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VTdHlsZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VTdHlsZU5leHQodGV4dCwgaSkpKSB7XG4gKiAgIGNvbnN0IGtleSA9IGdldExhc3RQYXJzZWRLZXkoKTtcbiAqICAgY29uc3QgdmFsdWUgPSBnZXRMYXN0UGFyc2VkVmFsdWUoKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSB0ZXh0IGBjc3NUZXh0YCB0byBwYXJzZVxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VTdHlsZU5leHRgIHNob3VsZCByZXN1bWUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU3R5bGUodGV4dCkge1xuICAgIHJlc2V0UGFyc2VyU3RhdGUodGV4dCk7XG4gICAgcmV0dXJuIHBhcnNlU3R5bGVOZXh0KHRleHQsIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIDAsIHBhcnNlclN0YXRlLnRleHRFbmQpKTtcbn1cbi8qKlxuICogUGFyc2VzIHRoZSBuZXh0IGBjc3NUZXh0YCBrZXkvdmFsdWVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlU3R5bGUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlU3R5bGVOZXh0KHRleHQsIGkpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIGNvbnN0IHZhbHVlID0gZ2V0TGFzdFBhcnNlZFZhbHVlKCk7XG4gKiAgIC4uLlxuICogfVxuICpcbiAqIEBwYXJhbSB0ZXh0IGBjc3NUZXh0YCB0byBwYXJzZVxuICogQHBhcmFtIGluZGV4IHdoZXJlIHRoZSBwYXJzaW5nIHNob3VsZCByZXN1bWUuXG4gKiBAcmV0dXJucyBpbmRleCB3aGVyZSB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwYXJzZVN0eWxlTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHlsZU5leHQodGV4dCwgc3RhcnRJbmRleCkge1xuICAgIGNvbnN0IGVuZCA9IHBhcnNlclN0YXRlLnRleHRFbmQ7XG4gICAgbGV0IGluZGV4ID0gcGFyc2VyU3RhdGUua2V5ID0gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgc3RhcnRJbmRleCwgZW5kKTtcbiAgICBpZiAoZW5kID09PSBpbmRleCkge1xuICAgICAgICAvLyB3ZSByZWFjaGVkIGFuIGVuZCBzbyBqdXN0IHF1aXRcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpbmRleCA9IHBhcnNlclN0YXRlLmtleUVuZCA9IGNvbnN1bWVTdHlsZUtleSh0ZXh0LCBpbmRleCwgZW5kKTtcbiAgICBpbmRleCA9IGNvbnN1bWVTZXBhcmF0b3IodGV4dCwgaW5kZXgsIGVuZCwgNTggLyogQ09MT04gKi8pO1xuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUudmFsdWUgPSBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBpbmRleCwgZW5kKTtcbiAgICBpbmRleCA9IHBhcnNlclN0YXRlLnZhbHVlRW5kID0gY29uc3VtZVN0eWxlVmFsdWUodGV4dCwgaW5kZXgsIGVuZCk7XG4gICAgcmV0dXJuIGNvbnN1bWVTZXBhcmF0b3IodGV4dCwgaW5kZXgsIGVuZCwgNTkgLyogU0VNSV9DT0xPTiAqLyk7XG59XG4vKipcbiAqIFJlc2V0IHRoZSBnbG9iYWwgc3RhdGUgb2YgdGhlIHN0eWxpbmcgcGFyc2VyLlxuICogQHBhcmFtIHRleHQgVGhlIHN0eWxpbmcgdGV4dCB0byBwYXJzZS5cbiAqL1xuZnVuY3Rpb24gcmVzZXRQYXJzZXJTdGF0ZSh0ZXh0KSB7XG4gICAgcGFyc2VyU3RhdGUua2V5ID0gMDtcbiAgICBwYXJzZXJTdGF0ZS5rZXlFbmQgPSAwO1xuICAgIHBhcnNlclN0YXRlLnZhbHVlID0gMDtcbiAgICBwYXJzZXJTdGF0ZS52YWx1ZUVuZCA9IDA7XG4gICAgcGFyc2VyU3RhdGUudGV4dEVuZCA9IHRleHQubGVuZ3RoO1xufVxuLyoqXG4gKiBSZXR1cm5zIGluZGV4IG9mIG5leHQgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBvZiBuZXh0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciAoTWF5IGJlIHRoZSBzYW1lIGFzIGBzdGFydGAgaWYgbm8gd2hpdGVzcGFjZSBhdFxuICogICAgICAgICAgdGhhdCBsb2NhdGlvbi4pXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgd2hpbGUgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCAmJiB0ZXh0LmNoYXJDb2RlQXQoc3RhcnRJbmRleCkgPD0gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogUmV0dXJucyBpbmRleCBvZiBsYXN0IGNoYXIgaW4gY2xhc3MgdG9rZW4uXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIGxhc3QgY2hhciBpbiBjbGFzcyB0b2tlbi5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZUNsYXNzVG9rZW4odGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGVuZEluZGV4ICYmIHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSA+IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIGFsbCBvZiB0aGUgY2hhcmFjdGVycyBiZWxvbmdpbmcgdG8gc3R5bGUga2V5IGFuZCB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgbGFzdCBzdHlsZSBrZXkgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiBjb25zdW1lU3R5bGVLZXkodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBsZXQgY2g7XG4gICAgd2hpbGUgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCAmJlxuICAgICAgICAoKGNoID0gdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpKSA9PT0gNDUgLyogREFTSCAqLyB8fCBjaCA9PT0gOTUgLyogVU5ERVJTQ09SRSAqLyB8fFxuICAgICAgICAgICAgKChjaCAmIC0zMyAvKiBVUFBFUl9DQVNFICovKSA+PSA2NSAvKiBBICovICYmIChjaCAmIC0zMyAvKiBVUFBFUl9DQVNFICovKSA8PSA5MCAvKiBaICovKSB8fFxuICAgICAgICAgICAgKGNoID49IDQ4IC8qIFpFUk8gKi8gJiYgY2ggPD0gNTcgLyogTklORSAqLykpKSB7XG4gICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIGFsbCB3aGl0ZXNwYWNlIGFuZCB0aGUgc2VwYXJhdG9yIGA6YCBhZnRlciB0aGUgc3R5bGUga2V5LlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBzZXBhcmF0b3IgYW5kIHN1cnJvdW5kaW5nIHdoaXRlc3BhY2UuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVTZXBhcmF0b3IodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHNlcGFyYXRvcikge1xuICAgIHN0YXJ0SW5kZXggPSBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgaWYgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSAhPT0gc2VwYXJhdG9yKSB7XG4gICAgICAgICAgICBtYWxmb3JtZWRTdHlsZUVycm9yKHRleHQsIFN0cmluZy5mcm9tQ2hhckNvZGUoc2VwYXJhdG9yKSwgc3RhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgc3R5bGUgdmFsdWUgaG9ub3JpbmcgYHVybCgpYCBhbmQgYFwiXCJgIHRleHQuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIGxhc3Qgc3R5bGUgdmFsdWUgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiBjb25zdW1lU3R5bGVWYWx1ZSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGxldCBjaDEgPSAtMTsgLy8gMXN0IHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBjaDIgPSAtMTsgLy8gMm5kIHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBjaDMgPSAtMTsgLy8gM3JkIHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBpID0gc3RhcnRJbmRleDtcbiAgICBsZXQgbGFzdENoSW5kZXggPSBpO1xuICAgIHdoaWxlIChpIDwgZW5kSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgaWYgKGNoID09PSA1OSAvKiBTRU1JX0NPTE9OICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdENoSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPT09IDM0IC8qIERPVUJMRV9RVU9URSAqLyB8fCBjaCA9PT0gMzkgLyogU0lOR0xFX1FVT1RFICovKSB7XG4gICAgICAgICAgICBsYXN0Q2hJbmRleCA9IGkgPSBjb25zdW1lUXVvdGVkVGV4dCh0ZXh0LCBjaCwgaSwgZW5kSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZXggPT09XG4gICAgICAgICAgICBpIC0gNCAmJiAvLyBXZSBoYXZlIHNlZW4gb25seSA0IGNoYXJhY3RlcnMgc28gZmFyIFwiVVJMKFwiIChJZ25vcmUgXCJmb29fVVJMKClcIilcbiAgICAgICAgICAgIGNoMyA9PT0gODUgLyogVSAqLyAmJlxuICAgICAgICAgICAgY2gyID09PSA4MiAvKiBSICovICYmIGNoMSA9PT0gNzYgLyogTCAqLyAmJiBjaCA9PT0gNDAgLyogT1BFTl9QQVJFTiAqLykge1xuICAgICAgICAgICAgbGFzdENoSW5kZXggPSBpID0gY29uc3VtZVF1b3RlZFRleHQodGV4dCwgNDEgLyogQ0xPU0VfUEFSRU4gKi8sIGksIGVuZEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA+IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyIHRoZW4gY2FwdHVyZSBpdHMgbG9jYXRpb25cbiAgICAgICAgICAgIGxhc3RDaEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBjaDMgPSBjaDI7XG4gICAgICAgIGNoMiA9IGNoMTtcbiAgICAgICAgY2gxID0gY2ggJiAtMzMgLyogVVBQRVJfQ0FTRSAqLztcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RDaEluZGV4O1xufVxuLyoqXG4gKiBDb25zdW1lcyBhbGwgb2YgdGhlIHF1b3RlZCBjaGFyYWN0ZXJzLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHF1b3RlQ2hhckNvZGUgQ2hhckNvZGUgb2YgZWl0aGVyIGBcImAgb3IgYCdgIHF1b3RlIG9yIGApYCBmb3IgYHVybCguLi4pYC5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgcXVvdGVkIGNoYXJhY3RlcnMuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVRdW90ZWRUZXh0KHRleHQsIHF1b3RlQ2hhckNvZGUsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgbGV0IGNoMSA9IC0xOyAvLyAxc3QgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGluZGV4ID0gc3RhcnRJbmRleDtcbiAgICB3aGlsZSAoaW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICBjb25zdCBjaCA9IHRleHQuY2hhckNvZGVBdChpbmRleCsrKTtcbiAgICAgICAgaWYgKGNoID09IHF1b3RlQ2hhckNvZGUgJiYgY2gxICE9PSA5MiAvKiBCQUNLX1NMQVNIICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoID09IDkyIC8qIEJBQ0tfU0xBU0ggKi8gJiYgY2gxID09PSA5MiAvKiBCQUNLX1NMQVNIICovKSB7XG4gICAgICAgICAgICAvLyB0d28gYmFjayBzbGFzaGVzIGNhbmNlbCBlYWNoIG90aGVyIG91dC4gRm9yIGV4YW1wbGUgYFwiXFxcXFwiYCBzaG91bGQgcHJvcGVybHkgZW5kIHRoZVxuICAgICAgICAgICAgLy8gcXVvdGF0aW9uLiAoSXQgc2hvdWxkIG5vdCBhc3N1bWUgdGhhdCB0aGUgbGFzdCBgXCJgIGlzIGVzY2FwZWQuKVxuICAgICAgICAgICAgY2gxID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoMSA9IGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5nRGV2TW9kZSA/IG1hbGZvcm1lZFN0eWxlRXJyb3IodGV4dCwgU3RyaW5nLmZyb21DaGFyQ29kZShxdW90ZUNoYXJDb2RlKSwgZW5kSW5kZXgpIDpcbiAgICAgICAgbmV3IEVycm9yKCk7XG59XG5mdW5jdGlvbiBtYWxmb3JtZWRTdHlsZUVycm9yKHRleHQsIGV4cGVjdGluZywgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodHlwZW9mIHRleHQgPT09ICdzdHJpbmcnLCB0cnVlLCAnU3RyaW5nIGV4cGVjdGVkIGhlcmUnKTtcbiAgICB0aHJvdyB0aHJvd0Vycm9yKGBNYWxmb3JtZWQgc3R5bGUgYXQgbG9jYXRpb24gJHtpbmRleH0gaW4gc3RyaW5nICdgICsgdGV4dC5zdWJzdHJpbmcoMCwgaW5kZXgpICsgJ1s+PicgK1xuICAgICAgICB0ZXh0LnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyAxKSArICc8PF0nICsgdGV4dC5zdWJzdHIoaW5kZXggKyAxKSArXG4gICAgICAgIGAnLiBFeHBlY3RpbmcgJyR7ZXhwZWN0aW5nfScuYCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBzdHlsZSBiaW5kaW5nIG9uIGFuIGVsZW1lbnQgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gKlxuICogSWYgdGhlIHN0eWxlIHZhbHVlIGlzIGZhbHN5IHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAqIChvciBhc3NpZ25lZCBhIGRpZmZlcmVudCB2YWx1ZSBkZXBlbmRpbmcgaWYgdGhlcmUgYXJlIGFueSBzdHlsZXMgcGxhY2VkXG4gKiBvbiB0aGUgZWxlbWVudCB3aXRoIGBzdHlsZU1hcGAgb3IgYW55IHN0YXRpYyBzdHlsZXMgdGhhdCBhcmVcbiAqIHByZXNlbnQgZnJvbSB3aGVuIHRoZSBlbGVtZW50IHdhcyBjcmVhdGVkIHdpdGggYHN0eWxpbmdgKS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHN0eWxpbmcgZWxlbWVudCBpcyB1cGRhdGVkIGFzIHBhcnQgb2YgYHN0eWxpbmdBcHBseWAuXG4gKlxuICogQHBhcmFtIHByb3AgQSB2YWxpZCBDU1MgcHJvcGVydHkuXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlIChgbnVsbGAgb3IgYW4gZW1wdHkgc3RyaW5nIHRvIHJlbW92ZSkuXG4gKiBAcGFyYW0gc3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgYXBwbHkgdGhlIHByb3ZpZGVkIHN0eWxlIHZhbHVlIHRvIHRoZSBob3N0IGVsZW1lbnQgaWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWRcbiAqIHdpdGhpbiBhIGhvc3QgYmluZGluZyBmdW5jdGlvbi5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wKHByb3AsIHZhbHVlLCBzdWZmaXgpIHtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgc3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3A7XG59XG4vKipcbiAqIFVwZGF0ZSBhIGNsYXNzIGJpbmRpbmcgb24gYW4gZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGhhbmRsZSB0aGUgYFtjbGFzcy5mb29dPVwiZXhwXCJgIGNhc2UgYW5kLFxuICogdGhlcmVmb3JlLCB0aGUgY2xhc3MgYmluZGluZyBpdHNlbGYgbXVzdCBhbHJlYWR5IGJlIGFsbG9jYXRlZCB1c2luZ1xuICogYHN0eWxpbmdgIHdpdGhpbiB0aGUgY3JlYXRpb24gYmxvY2suXG4gKlxuICogQHBhcmFtIHByb3AgQSB2YWxpZCBDU1MgY2xhc3MgKG9ubHkgb25lKS5cbiAqIEBwYXJhbSB2YWx1ZSBBIHRydWUvZmFsc2UgdmFsdWUgd2hpY2ggd2lsbCB0dXJuIHRoZSBjbGFzcyBvbiBvciBvZmYuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCBhcHBseSB0aGUgcHJvdmlkZWQgY2xhc3MgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uXG4gKiBpcyBjYWxsZWQgd2l0aGluIGEgaG9zdCBiaW5kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc1Byb3AoY2xhc3NOYW1lLCB2YWx1ZSkge1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KGNsYXNzTmFtZSwgdmFsdWUsIG51bGwsIHRydWUpO1xuICAgIHJldHVybiDJtcm1Y2xhc3NQcm9wO1xufVxuLyoqXG4gKiBVcGRhdGUgc3R5bGUgYmluZGluZ3MgdXNpbmcgYW4gb2JqZWN0IGxpdGVyYWwgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGFwcGx5IHN0eWxpbmcgdmlhIHRoZSBgW3N0eWxlXT1cImV4cFwiYCB0ZW1wbGF0ZSBiaW5kaW5ncy5cbiAqIFdoZW4gc3R5bGVzIGFyZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IHRoZXkgd2lsbCB0aGVuIGJlIHVwZGF0ZWQgd2l0aCByZXNwZWN0IHRvXG4gKiBhbnkgc3R5bGVzL2NsYXNzZXMgc2V0IHZpYSBgc3R5bGVQcm9wYC4gSWYgYW55IHN0eWxlcyBhcmUgc2V0IHRvIGZhbHN5XG4gKiB0aGVuIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIHdpbGwgbm90IGJlIGFwcGxpZWQgdW50aWwgYHN0eWxpbmdBcHBseWAgaXMgY2FsbGVkLlxuICpcbiAqIEBwYXJhbSBzdHlsZXMgQSBrZXkvdmFsdWUgc3R5bGUgbWFwIG9mIHRoZSBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiAgICAgICAgQW55IG1pc3Npbmcgc3R5bGVzICh0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYmVmb3JlaGFuZCkgd2lsbCBiZVxuICogICAgICAgIHJlbW92ZWQgKHVuc2V0KSBmcm9tIHRoZSBlbGVtZW50J3Mgc3R5bGluZy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIGFwcGx5IHRoZSBwcm92aWRlZCBzdHlsZU1hcCB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb25cbiAqIGlzIGNhbGxlZCB3aXRoaW4gYSBob3N0IGJpbmRpbmcuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwKHN0eWxlcykge1xuICAgIGNoZWNrU3R5bGluZ01hcChzdHlsZUtleVZhbHVlQXJyYXlTZXQsIHN0eWxlU3RyaW5nUGFyc2VyLCBzdHlsZXMsIGZhbHNlKTtcbn1cbi8qKlxuICogUGFyc2UgdGV4dCBhcyBzdHlsZSBhbmQgYWRkIHZhbHVlcyB0byBLZXlWYWx1ZUFycmF5LlxuICpcbiAqIFRoaXMgY29kZSBpcyBwdWxsZWQgb3V0IHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gYXdheSBpZiBpdCBpcyBub3RcbiAqIG5lZWRlZC4gSXQgaXMgb25seSByZWZlcmVuY2VkIGZyb20gYMm1ybVzdHlsZU1hcGAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgS2V5VmFsdWVBcnJheSB0byBhZGQgcGFyc2VkIHZhbHVlcyB0by5cbiAqIEBwYXJhbSB0ZXh0IHRleHQgdG8gcGFyc2UuXG4gKi9cbmZ1bmN0aW9uIHN0eWxlU3RyaW5nUGFyc2VyKGtleVZhbHVlQXJyYXksIHRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gcGFyc2VTdHlsZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VTdHlsZU5leHQodGV4dCwgaSkpIHtcbiAgICAgICAgc3R5bGVLZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGdldExhc3RQYXJzZWRLZXkodGV4dCksIGdldExhc3RQYXJzZWRWYWx1ZSh0ZXh0KSk7XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGUgY2xhc3MgYmluZGluZ3MgdXNpbmcgYW4gb2JqZWN0IGxpdGVyYWwgb3IgY2xhc3Mtc3RyaW5nIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBtZWFudCB0byBhcHBseSBzdHlsaW5nIHZpYSB0aGUgYFtjbGFzc109XCJleHBcImAgdGVtcGxhdGUgYmluZGluZ3MuXG4gKiBXaGVuIGNsYXNzZXMgYXJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgdGhleSB3aWxsIHRoZW4gYmUgdXBkYXRlZCB3aXRoXG4gKiByZXNwZWN0IHRvIGFueSBzdHlsZXMvY2xhc3NlcyBzZXQgdmlhIGBjbGFzc1Byb3BgLiBJZiBhbnlcbiAqIGNsYXNzZXMgYXJlIHNldCB0byBmYWxzeSB0aGVuIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIHdpbGwgbm90IGJlIGFwcGxpZWQgdW50aWwgYHN0eWxpbmdBcHBseWAgaXMgY2FsbGVkLlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCB0aGUgcHJvdmlkZWQgY2xhc3NNYXAgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICogd2l0aGluIGEgaG9zdCBiaW5kaW5nLlxuICpcbiAqIEBwYXJhbSBjbGFzc2VzIEEga2V5L3ZhbHVlIG1hcCBvciBzdHJpbmcgb2YgQ1NTIGNsYXNzZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICogICAgICAgIGdpdmVuIGVsZW1lbnQuIEFueSBtaXNzaW5nIGNsYXNzZXMgKHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICogICAgICAgIGJlZm9yZWhhbmQpIHdpbGwgYmUgcmVtb3ZlZCAodW5zZXQpIGZyb20gdGhlIGVsZW1lbnQncyBsaXN0IG9mIENTUyBjbGFzc2VzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcChjbGFzc2VzKSB7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBjbGFzc2VzLCB0cnVlKTtcbn1cbi8qKlxuICogUGFyc2UgdGV4dCBhcyBjbGFzcyBhbmQgYWRkIHZhbHVlcyB0byBLZXlWYWx1ZUFycmF5LlxuICpcbiAqIFRoaXMgY29kZSBpcyBwdWxsZWQgb3V0IHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gYXdheSBpZiBpdCBpcyBub3RcbiAqIG5lZWRlZC4gSXQgaXMgb25seSByZWZlcmVuY2VkIGZyb20gYMm1ybVjbGFzc01hcGAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgS2V5VmFsdWVBcnJheSB0byBhZGQgcGFyc2VkIHZhbHVlcyB0by5cbiAqIEBwYXJhbSB0ZXh0IHRleHQgdG8gcGFyc2UuXG4gKi9cbmZ1bmN0aW9uIGNsYXNzU3RyaW5nUGFyc2VyKGtleVZhbHVlQXJyYXksIHRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gcGFyc2VDbGFzc05hbWUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpKSkge1xuICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGdldExhc3RQYXJzZWRLZXkodGV4dCksIHRydWUpO1xuICAgIH1cbn1cbi8qKlxuICogQ29tbW9uIGNvZGUgYmV0d2VlbiBgybXJtWNsYXNzUHJvcGAgYW5kIGDJtcm1c3R5bGVQcm9wYC5cbiAqXG4gKiBAcGFyYW0gcHJvcCBwcm9wZXJ0eSBuYW1lLlxuICogQHBhcmFtIHZhbHVlIGJpbmRpbmcgdmFsdWUuXG4gKiBAcGFyYW0gc3VmZml4IHN1ZmZpeCBmb3IgdGhlIHByb3BlcnR5IChlLmcuIGBlbWAgb3IgYHB4YClcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgY2hhbmdlIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIHZhbHVlLCBzdWZmaXgsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgLy8gU3R5bGluZyBpbnN0cnVjdGlvbnMgdXNlIDIgc2xvdHMgcGVyIGJpbmRpbmcuXG4gICAgLy8gMS4gb25lIGZvciB0aGUgdmFsdWUgLyBUU3R5bGluZ0tleVxuICAgIC8vIDIuIG9uZSBmb3IgdGhlIGludGVybWl0dGVudC12YWx1ZSAvIFRTdHlsaW5nUmFuZ2VcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoMik7XG4gICAgaWYgKHRWaWV3LmZpcnN0VXBkYXRlUGFzcykge1xuICAgICAgICBzdHlsaW5nRmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBwcm9wLCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gTk9fQ0hBTkdFICYmIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbZ2V0U2VsZWN0ZWRJbmRleCgpXTtcbiAgICAgICAgdXBkYXRlU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIHByb3AsIGxWaWV3W2JpbmRpbmdJbmRleCArIDFdID0gbm9ybWFsaXplU3VmZml4KHZhbHVlLCBzdWZmaXgpLCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBDb21tb24gY29kZSBiZXR3ZWVuIGDJtcm1Y2xhc3NNYXBgIGFuZCBgybXJtXN0eWxlTWFwYC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheVNldCAoU2VlIGBrZXlWYWx1ZUFycmF5U2V0YCBpbiBcInV0aWwvYXJyYXlfdXRpbHNcIikgR2V0cyBwYXNzZWQgaW4gYXMgYVxuICogICAgICAgIGZ1bmN0aW9uIHNvIHRoYXQgYHN0eWxlYCBjYW4gYmUgcHJvY2Vzc2VkLiBUaGlzIGlzIGRvbmUgZm9yIHRyZWUgc2hha2luZyBwdXJwb3Nlcy5cbiAqIEBwYXJhbSBzdHJpbmdQYXJzZXIgUGFyc2VyIHVzZWQgdG8gcGFyc2UgYHZhbHVlYCBpZiBgc3RyaW5nYC4gKFBhc3NlZCBpbiBhcyBgc3R5bGVgIGFuZCBgY2xhc3NgXG4gKiAgICAgICAgaGF2ZSBkaWZmZXJlbnQgcGFyc2Vycy4pXG4gKiBAcGFyYW0gdmFsdWUgYm91bmQgdmFsdWUgZnJvbSBhcHBsaWNhdGlvblxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCBjaGFuZ2UgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIHN0cmluZ1BhcnNlciwgdmFsdWUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoMik7XG4gICAgaWYgKHRWaWV3LmZpcnN0VXBkYXRlUGFzcykge1xuICAgICAgICBzdHlsaW5nRmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBudWxsLCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBpZiAodmFsdWUgIT09IE5PX0NIQU5HRSAmJiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgLy8gYGdldFNlbGVjdGVkSW5kZXgoKWAgc2hvdWxkIGJlIGhlcmUgKHJhdGhlciB0aGFuIGluIGluc3RydWN0aW9uKSBzbyB0aGF0IGl0IGlzIGd1YXJkZWQgYnkgdGhlXG4gICAgICAgIC8vIGlmIHNvIGFzIG5vdCB0byByZWFkIHVubmVjZXNzYXJpbHkuXG4gICAgICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtnZXRTZWxlY3RlZEluZGV4KCldO1xuICAgICAgICBpZiAoaGFzU3R5bGluZ0lucHV0U2hhZG93KHROb2RlLCBpc0NsYXNzQmFzZWQpICYmICFpc0luSG9zdEJpbmRpbmdzKHRWaWV3LCBiaW5kaW5nSW5kZXgpKSB7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHRoYXQgaWYgd2UgYXJlIHNoYWRvd2luZyB0aGVuIGBURGF0YWAgaXMgYXBwcm9wcmlhdGVseSBtYXJrZWQgc28gdGhhdCB3ZSBza2lwXG4gICAgICAgICAgICAgICAgLy8gcHJvY2Vzc2luZyB0aGlzIGJpbmRpbmcgaW4gc3R5bGluZyByZXNvbHV0aW9uLlxuICAgICAgICAgICAgICAgIGNvbnN0IHRTdHlsaW5nS2V5ID0gdFZpZXcuZGF0YVtiaW5kaW5nSW5kZXhdO1xuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXkpID8gdFN0eWxpbmdLZXlbMV0gOiB0U3R5bGluZ0tleSwgZmFsc2UsICdTdHlsaW5nIGxpbmtlZCBsaXN0IHNoYWRvdyBpbnB1dCBzaG91bGQgYmUgbWFya2VkIGFzIFxcJ2ZhbHNlXFwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBWRSBkb2VzIG5vdCBjb25jYXRlbmF0ZSB0aGUgc3RhdGljIHBvcnRpb24gbGlrZSB3ZSBhcmUgZG9pbmcgaGVyZS5cbiAgICAgICAgICAgIC8vIEluc3RlYWQgVkUganVzdCBpZ25vcmVzIHRoZSBzdGF0aWMgY29tcGxldGVseSBpZiBkeW5hbWljIGJpbmRpbmcgaXMgcHJlc2VudC5cbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgbG9jYWxpdHkgd2UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgc3RhdGljIHBvcnRpb24gYmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIHRoZXJlXG4gICAgICAgICAgICAvLyBpcyBhIGR5bmFtaWMgcG9ydGlvbiB1bnRpbCBsYXRlci4gSWYgd2Ugd291bGQgaWdub3JlIHRoZSBzdGF0aWMgcG9ydGlvbiBpdCB3b3VsZCBsb29rIGxpa2VcbiAgICAgICAgICAgIC8vIHRoZSBiaW5kaW5nIGhhcyByZW1vdmVkIGl0LiBUaGlzIHdvdWxkIGNvbmZ1c2UgYFtuZ1N0eWxlXWAvYFtuZ0NsYXNzXWAgdG8gZG8gdGhlIHdyb25nXG4gICAgICAgICAgICAvLyB0aGluZyBhcyBpdCB3b3VsZCB0aGluayB0aGF0IHRoZSBzdGF0aWMgcG9ydGlvbiB3YXMgcmVtb3ZlZC4gRm9yIHRoaXMgcmVhc29uIHdlXG4gICAgICAgICAgICAvLyBjb25jYXRlbmF0ZSBpdCBzbyB0aGF0IGBbbmdTdHlsZV1gL2BbbmdDbGFzc11gICBjYW4gY29udGludWUgdG8gd29yayBvbiBjaGFuZ2VkLlxuICAgICAgICAgICAgbGV0IHN0YXRpY1ByZWZpeCA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzZXNXaXRob3V0SG9zdCA6IHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0O1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGlzQ2xhc3NCYXNlZCA9PT0gZmFsc2UgJiYgc3RhdGljUHJlZml4ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoc3RhdGljUHJlZml4LmVuZHNXaXRoKCc7JyksIHRydWUsICdFeHBlY3Rpbmcgc3RhdGljIHBvcnRpb24gdG8gZW5kIHdpdGggXFwnO1xcJycpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1ByZWZpeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgZmFsc3kgdmFsdWVzIG9mIGB2YWx1ZWAgYmVjb21lIGVtcHR5IHN0cmluZ3MuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb25jYXRTdHJpbmdzV2l0aFNwYWNlKHN0YXRpY1ByZWZpeCwgdmFsdWUgPyB2YWx1ZSA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdpdmVuIGA8ZGl2IFtzdHlsZV0gbXktZGlyPmAgc3VjaCB0aGF0IGBteS1kaXJgIGhhcyBgQElucHV0KCdzdHlsZScpYC5cbiAgICAgICAgICAgIC8vIFRoaXMgdGFrZXMgb3ZlciB0aGUgYFtzdHlsZV1gIGJpbmRpbmcuIChTYW1lIGZvciBgW2NsYXNzXWApXG4gICAgICAgICAgICBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHZhbHVlLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlU3R5bGluZ01hcCh0VmlldywgdE5vZGUsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIGxWaWV3W2JpbmRpbmdJbmRleCArIDFdLCBsVmlld1tiaW5kaW5nSW5kZXggKyAxXSA9IHRvU3R5bGluZ0tleVZhbHVlQXJyYXkoa2V5VmFsdWVBcnJheVNldCwgc3RyaW5nUGFyc2VyLCB2YWx1ZSksIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGVuIHRoZSBiaW5kaW5nIGlzIGluIGBob3N0QmluZGluZ3NgIHNlY3Rpb25cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IGluZGV4IG9mIGJpbmRpbmcgd2hpY2ggd2Ugd291bGQgbGlrZSBpZiBpdCBpcyBpbiBgaG9zdEJpbmRpbmdzYFxuICovXG5mdW5jdGlvbiBpc0luSG9zdEJpbmRpbmdzKHRWaWV3LCBiaW5kaW5nSW5kZXgpIHtcbiAgICAvLyBBbGwgaG9zdCBiaW5kaW5ncyBhcmUgcGxhY2VkIGFmdGVyIHRoZSBleHBhbmRvIHNlY3Rpb24uXG4gICAgcmV0dXJuIGJpbmRpbmdJbmRleCA+PSB0Vmlldy5leHBhbmRvU3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29sbGVjdHMgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBpbnNlcnQgdGhlIGJpbmRpbmcgaW50byBhIGxpbmtlZCBsaXN0IG9mIHN0eWxlIGJpbmRpbmdzXG4gKiB1c2luZyBgaW5zZXJ0VFN0eWxpbmdCaW5kaW5nYC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCB3aGVyZSB0aGUgYmluZGluZyBsaW5rZWQgbGlzdCB3aWxsIGJlIHN0b3JlZC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBQcm9wZXJ0eS9rZXkgb2YgdGhlIGJpbmRpbmcuXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IEluZGV4IG9mIGJpbmRpbmcgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvcGBcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgY2hhbmdlIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIHN0eWxpbmdGaXJzdFVwZGF0ZVBhc3ModFZpZXcsIHRTdHlsaW5nS2V5LCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdFVwZGF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IHREYXRhID0gdFZpZXcuZGF0YTtcbiAgICBpZiAodERhdGFbYmluZGluZ0luZGV4ICsgMV0gPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGFib3ZlIGNoZWNrIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGRvbid0IGNsZWFyIGZpcnN0IHVwZGF0ZSBwYXNzIHVudGlsIGZpcnN0IHN1Y2Nlc3NmdWxcbiAgICAgICAgLy8gKG5vIGV4Y2VwdGlvbikgdGVtcGxhdGUgZXhlY3V0aW9uLiBUaGlzIHByZXZlbnRzIHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIGZyb20gZG91YmxlIGFkZGluZ1xuICAgICAgICAvLyBpdHNlbGYgdG8gdGhlIGxpc3QuXG4gICAgICAgIC8vIGBnZXRTZWxlY3RlZEluZGV4KClgIHNob3VsZCBiZSBoZXJlIChyYXRoZXIgdGhhbiBpbiBpbnN0cnVjdGlvbikgc28gdGhhdCBpdCBpcyBndWFyZGVkIGJ5IHRoZVxuICAgICAgICAvLyBpZiBzbyBhcyBub3QgdG8gcmVhZCB1bm5lY2Vzc2FyaWx5LlxuICAgICAgICBjb25zdCB0Tm9kZSA9IHREYXRhW2dldFNlbGVjdGVkSW5kZXgoKV07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgZXhwZWN0ZWQnKTtcbiAgICAgICAgY29uc3QgaXNIb3N0QmluZGluZ3MgPSBpc0luSG9zdEJpbmRpbmdzKHRWaWV3LCBiaW5kaW5nSW5kZXgpO1xuICAgICAgICBpZiAoaGFzU3R5bGluZ0lucHV0U2hhZG93KHROb2RlLCBpc0NsYXNzQmFzZWQpICYmIHRTdHlsaW5nS2V5ID09PSBudWxsICYmICFpc0hvc3RCaW5kaW5ncykge1xuICAgICAgICAgICAgLy8gYHRTdHlsaW5nS2V5ID09PSBudWxsYCBpbXBsaWVzIHRoYXQgd2UgYXJlIGVpdGhlciBgW3N0eWxlXWAgb3IgYFtjbGFzc11gIGJpbmRpbmcuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGRpcmVjdGl2ZSB3aGljaCB1c2VzIGBASW5wdXQoJ3N0eWxlJylgIG9yIGBASW5wdXQoJ2NsYXNzJylgIHRoYW5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gbmV1dHJhbGl6ZSB0aGlzIGJpbmRpbmcgc2luY2UgdGhhdCBkaXJlY3RpdmUgaXMgc2hhZG93aW5nIGl0LlxuICAgICAgICAgICAgLy8gV2UgdHVybiB0aGlzIGludG8gYSBub29wIGJ5IHNldHRpbmcgdGhlIGtleSB0byBgZmFsc2VgXG4gICAgICAgICAgICB0U3R5bGluZ0tleSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRTdHlsaW5nS2V5ID0gd3JhcEluU3RhdGljU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIHRTdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICBpbnNlcnRUU3R5bGluZ0JpbmRpbmcodERhdGEsIHROb2RlLCB0U3R5bGluZ0tleSwgYmluZGluZ0luZGV4LCBpc0hvc3RCaW5kaW5ncywgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZHMgc3RhdGljIHN0eWxpbmcgaW5mb3JtYXRpb24gdG8gdGhlIGJpbmRpbmcgaWYgYXBwbGljYWJsZS5cbiAqXG4gKiBUaGUgbGlua2VkIGxpc3Qgb2Ygc3R5bGVzIG5vdCBvbmx5IHN0b3JlcyB0aGUgbGlzdCBhbmQga2V5cywgYnV0IGFsc28gc3RvcmVzIHN0YXRpYyBzdHlsaW5nXG4gKiBpbmZvcm1hdGlvbiBvbiBzb21lIG9mIHRoZSBrZXlzLiBUaGlzIGZ1bmN0aW9uIGRldGVybWluZXMgaWYgdGhlIGtleSBzaG91bGQgY29udGFpbiB0aGUgc3R5bGluZ1xuICogaW5mb3JtYXRpb24gYW5kIGNvbXB1dGVzIGl0LlxuICpcbiAqIFNlZSBgVFN0eWxpbmdTdGF0aWNgIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBzdHlsaW5nS2V5IGBUU3R5bGluZ0tleVByaW1pdGl2ZWAgd2hpY2ggbWF5IG5lZWQgdG8gYmUgd3JhcHBlZCBpbnRvIGBUU3R5bGluZ0tleWBcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gd3JhcEluU3RhdGljU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIHN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGhvc3REaXJlY3RpdmVEZWYgPSBnZXRDdXJyZW50RGlyZWN0aXZlRGVmKHREYXRhKTtcbiAgICBsZXQgcmVzaWR1YWwgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5yZXNpZHVhbENsYXNzZXMgOiB0Tm9kZS5yZXNpZHVhbFN0eWxlcztcbiAgICBpZiAoaG9zdERpcmVjdGl2ZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBhcmUgaW4gdGVtcGxhdGUgbm9kZS5cbiAgICAgICAgLy8gSWYgdGVtcGxhdGUgbm9kZSBhbHJlYWR5IGhhZCBzdHlsaW5nIGluc3RydWN0aW9uIHRoZW4gaXQgaGFzIGFscmVhZHkgY29sbGVjdGVkIHRoZSBzdGF0aWNcbiAgICAgICAgLy8gc3R5bGluZyBhbmQgdGhlcmUgaXMgbm8gbmVlZCB0byBjb2xsZWN0IHRoZW0gYWdhaW4uIFdlIGtub3cgdGhhdCB3ZSBhcmUgdGhlIGZpcnN0IHN0eWxpbmdcbiAgICAgICAgLy8gaW5zdHJ1Y3Rpb24gYmVjYXVzZSB0aGUgYFROb2RlLipCaW5kaW5nc2AgcG9pbnRzIHRvIDAgKG5vdGhpbmcgaGFzIGJlZW4gaW5zZXJ0ZWQgeWV0KS5cbiAgICAgICAgY29uc3QgaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluVGVtcGxhdGUgPSAoaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3MpID09PSAwO1xuICAgICAgICBpZiAoaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIC8vIEl0IHdvdWxkIGJlIG5pY2UgdG8gYmUgYWJsZSB0byBnZXQgdGhlIHN0YXRpY3MgZnJvbSBgbWVyZ2VBdHRyc2AsIGhvd2V2ZXIsIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgIC8vIHRoZXkgYXJlIGFscmVhZHkgbWVyZ2VkIGFuZCBpdCB3b3VsZCBub3QgYmUgcG9zc2libGUgdG8gZmlndXJlIHdoaWNoIHByb3BlcnR5IGJlbG9uZ3Mgd2hlcmVcbiAgICAgICAgICAgIC8vIGluIHRoZSBwcmlvcml0eS5cbiAgICAgICAgICAgIHN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKG51bGwsIHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIHN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMoc3R5bGluZ0tleSwgdE5vZGUuYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHRoYXQgaWYgd2UgaGF2ZSBzdHlsaW5nIGJpbmRpbmcgaW4gdGVtcGxhdGUgd2UgY2FuJ3QgaGF2ZSByZXNpZHVhbC5cbiAgICAgICAgICAgIHJlc2lkdWFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2UgYXJlIGluIGhvc3QgYmluZGluZyBub2RlIGFuZCB0aGVyZSB3YXMgbm8gYmluZGluZyBpbnN0cnVjdGlvbiBpbiB0ZW1wbGF0ZSBub2RlLlxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgd2UgbmVlZCB0byBjb21wdXRlIHRoZSByZXNpZHVhbC5cbiAgICAgICAgY29uc3QgZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtcbiAgICAgICAgY29uc3QgaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluSG9zdEJpbmRpbmcgPSBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9PT0gLTEgfHwgdERhdGFbZGlyZWN0aXZlU3R5bGluZ0xhc3RdICE9PSBob3N0RGlyZWN0aXZlRGVmO1xuICAgICAgICBpZiAoaXNGaXJzdFN0eWxpbmdJbnN0cnVjdGlvbkluSG9zdEJpbmRpbmcpIHtcbiAgICAgICAgICAgIHN0eWxpbmdLZXkgPVxuICAgICAgICAgICAgICAgIGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMoaG9zdERpcmVjdGl2ZURlZiwgdERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgaWYgKHJlc2lkdWFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gLSBJZiBgbnVsbGAgdGhhbiBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy8gICAgLSBUZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9uIGFscmVhZHkgcmFuIGFuZCBpdCBoYXMgY29uc3VtZWQgdGhlIHN0YXRpY1xuICAgICAgICAgICAgICAgIC8vICAgICAgc3R5bGluZyBpbnRvIGl0cyBgVFN0eWxpbmdLZXlgIGFuZCBzbyB0aGVyZSBpcyBubyBuZWVkIHRvIHVwZGF0ZSByZXNpZHVhbC4gSW5zdGVhZFxuICAgICAgICAgICAgICAgIC8vICAgICAgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGBUU3R5bGluZ0tleWAgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaXJzdCB0ZW1wbGF0ZSBub2RlXG4gICAgICAgICAgICAgICAgLy8gICAgICBpbnN0cnVjdGlvbi4gT1JcbiAgICAgICAgICAgICAgICAvLyAgICAtIFNvbWUgb3RoZXIgc3R5bGluZyBpbnN0cnVjdGlvbiByYW4gYW5kIGRldGVybWluZWQgdGhhdCB0aGVyZSBhcmUgbm8gcmVzaWR1YWxzXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBsYXRlU3R5bGluZ0tleSA9IGdldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVTdHlsaW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgQXJyYXkuaXNBcnJheSh0ZW1wbGF0ZVN0eWxpbmdLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVjb21wdXRlIGlmIGB0ZW1wbGF0ZVN0eWxpbmdLZXlgIGhhZCBzdGF0aWMgdmFsdWVzLiAoSWYgbm8gc3RhdGljIHZhbHVlIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gdGhlcmUgaXMgbm90aGluZyB0byBkbyBzaW5jZSB0aGlzIG9wZXJhdGlvbiBjYW4gb25seSBwcm9kdWNlIGxlc3Mgc3RhdGljIGtleXMsIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBtb3JlLilcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVTdHlsaW5nS2V5ID0gY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyhudWxsLCB0RGF0YSwgdE5vZGUsIHRlbXBsYXRlU3R5bGluZ0tleVsxXSAvKiB1bndyYXAgcHJldmlvdXMgc3RhdGljcyAqLywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVTdHlsaW5nS2V5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyh0ZW1wbGF0ZVN0eWxpbmdLZXksIHROb2RlLmF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCwgdGVtcGxhdGVTdHlsaW5nS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IG5lZWQgdG8gcmVjb21wdXRlIHJlc2lkdWFsIGlmIGl0IGlzIG5vdCBgbnVsbGAuXG4gICAgICAgICAgICAgICAgLy8gLSBJZiBleGlzdGluZyByZXNpZHVhbCAoaW1wbGllcyB0aGVyZSB3YXMgbm8gdGVtcGxhdGUgc3R5bGluZykuIFRoaXMgbWVhbnMgdGhhdCBzb21lIG9mXG4gICAgICAgICAgICAgICAgLy8gICB0aGUgc3RhdGljcyBtYXkgaGF2ZSBtb3ZlZCBmcm9tIHRoZSByZXNpZHVhbCB0byB0aGUgYHN0eWxpbmdLZXlgIGFuZCBzbyB3ZSBoYXZlIHRvXG4gICAgICAgICAgICAgICAgLy8gICByZWNvbXB1dGUuXG4gICAgICAgICAgICAgICAgLy8gLSBJZiBgdW5kZWZpbmVkYCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBydW5uaW5nLlxuICAgICAgICAgICAgICAgIHJlc2lkdWFsID0gY29sbGVjdFJlc2lkdWFsKHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzaWR1YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpc0NsYXNzQmFzZWQgPyAodE5vZGUucmVzaWR1YWxDbGFzc2VzID0gcmVzaWR1YWwpIDogKHROb2RlLnJlc2lkdWFsU3R5bGVzID0gcmVzaWR1YWwpO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGluZ0tleTtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIGBUU3R5bGluZ0tleWAgZm9yIHRoZSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9uLlxuICpcbiAqIFRoaXMgaXMgbmVlZGVkIHNpbmNlIGBob3N0QmluZGluZ2Agc3R5bGluZyBpbnN0cnVjdGlvbnMgYXJlIGluc2VydGVkIGFmdGVyIHRoZSB0ZW1wbGF0ZVxuICogaW5zdHJ1Y3Rpb24uIFdoaWxlIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBuZWVkcyB0byB1cGRhdGUgdGhlIHJlc2lkdWFsIGluIGBUTm9kZWAgdGhlXG4gKiBgaG9zdEJpbmRpbmdgIGluc3RydWN0aW9ucyBuZWVkIHRvIHVwZGF0ZSB0aGUgYFRTdHlsaW5nS2V5YCBvZiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gYmVjYXVzZVxuICogdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIGlzIGRvd25zdHJlYW0gZnJvbSB0aGUgYGhvc3RCaW5kaW5nc2AgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3Igd2hpY2ggdGhlIHN0eWxpbmcgaXMgYmVpbmcgY29tcHV0ZWQuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKiBAcmV0dXJuIGBUU3R5bGluZ0tleWAgaWYgZm91bmQgb3IgYHVuZGVmaW5lZGAgaWYgbm90IGZvdW5kLlxuICovXG5mdW5jdGlvbiBnZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGJpbmRpbmdzID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgaWYgKGdldFRTdHlsaW5nUmFuZ2VOZXh0KGJpbmRpbmdzKSA9PT0gMCkge1xuICAgICAgICAvLyBUaGVyZSBkb2VzIG5vdCBzZWVtIHRvIGJlIGEgc3R5bGluZyBpbnN0cnVjdGlvbiBpbiB0aGUgYHRlbXBsYXRlYC5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHREYXRhW2dldFRTdHlsaW5nUmFuZ2VQcmV2KGJpbmRpbmdzKV07XG59XG4vKipcbiAqIFVwZGF0ZSB0aGUgYFRTdHlsaW5nS2V5YCBvZiB0aGUgZmlyc3QgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gaW4gYFROb2RlYC5cbiAqXG4gKiBMb2dpY2FsbHkgYGhvc3RCaW5kaW5nc2Agc3R5bGluZyBpbnN0cnVjdGlvbnMgYXJlIG9mIGxvd2VyIHByaW9yaXR5IHRoYW4gdGhhdCBvZiB0aGUgdGVtcGxhdGUuXG4gKiBIb3dldmVyLCB0aGV5IGV4ZWN1dGUgYWZ0ZXIgdGhlIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zLiBUaGlzIG1lYW5zIHRoYXQgdGhleSBnZXQgaW5zZXJ0ZWRcbiAqIGluIGZyb250IG9mIHRoZSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9ucy5cbiAqXG4gKiBJZiB3ZSBoYXZlIGEgdGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbiBhbmQgYSBuZXcgYGhvc3RCaW5kaW5nc2Agc3R5bGluZyBpbnN0cnVjdGlvbiBpc1xuICogZXhlY3V0ZWQgaXQgbWVhbnMgdGhhdCBpdCBtYXkgbmVlZCB0byBzdGVhbCBzdGF0aWMgZmllbGRzIGZyb20gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uLiBUaGlzXG4gKiBtZXRob2QgYWxsb3dzIHVzIHRvIHVwZGF0ZSB0aGUgZmlyc3QgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gYFRTdHlsaW5nS2V5YCB3aXRoIGEgbmV3IHZhbHVlLlxuICpcbiAqIEFzc3VtZTpcbiAqIGBgYFxuICogPGRpdiBteS1kaXIgc3R5bGU9XCJjb2xvcjogcmVkXCIgW3N0eWxlLmNvbG9yXT1cInRtcGxFeHBcIj48L2Rpdj5cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgaG9zdDoge1xuICogICAgICdzdHlsZSc6ICd3aWR0aDogMTAwcHgnLFxuICogICAgICdbc3R5bGUuY29sb3JdJzogJ2RpckV4cCcsXG4gKiAgIH1cbiAqIH0pXG4gKiBjbGFzcyBNeURpciB7fVxuICogYGBgXG4gKlxuICogd2hlbiBgW3N0eWxlLmNvbG9yXT1cInRtcGxFeHBcImAgZXhlY3V0ZXMgaXQgY3JlYXRlcyB0aGlzIGRhdGEgc3RydWN0dXJlLlxuICogYGBgXG4gKiAgWycnLCAnY29sb3InLCAnY29sb3InLCAncmVkJywgJ3dpZHRoJywgJzEwMHB4J10sXG4gKiBgYGBcbiAqXG4gKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIGRvZXMgbm90IGtub3cgaWYgdGhlcmUgYXJlIHN0eWxpbmdcbiAqIGluc3RydWN0aW9ucyBhbmQgbXVzdCBhc3N1bWUgdGhhdCB0aGVyZSBhcmUgbm9uZSBhbmQgbXVzdCBjb2xsZWN0IGFsbCBvZiB0aGUgc3RhdGljIHN0eWxpbmcuXG4gKiAoYm90aFxuICogYGNvbG9yJyBhbmQgJ3dpZHRoYClcbiAqXG4gKiBXaGVuIGAnW3N0eWxlLmNvbG9yXSc6ICdkaXJFeHAnLGAgZXhlY3V0ZXMgd2UgbmVlZCB0byBpbnNlcnQgYSBuZXcgZGF0YSBpbnRvIHRoZSBsaW5rZWQgbGlzdC5cbiAqIGBgYFxuICogIFsnJywgJ2NvbG9yJywgJ3dpZHRoJywgJzEwMHB4J10sICAvLyBuZXdseSBpbnNlcnRlZFxuICogIFsnJywgJ2NvbG9yJywgJ2NvbG9yJywgJ3JlZCcsICd3aWR0aCcsICcxMDBweCddLCAvLyB0aGlzIGlzIHdyb25nXG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgdGVtcGxhdGUgc3RhdGljcyBpcyBub3cgd3JvbmcgYXMgaXQgaW5jb3JyZWN0bHkgY29udGFpbnMgYHdpZHRoYCBzbyB3ZSBuZWVkIHRvXG4gKiB1cGRhdGUgaXQgbGlrZSBzbzpcbiAqIGBgYFxuICogIFsnJywgJ2NvbG9yJywgJ3dpZHRoJywgJzEwMHB4J10sXG4gKiAgWycnLCAnY29sb3InLCAnY29sb3InLCAncmVkJ10sICAgIC8vIFVQREFURVxuICogYGBgXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBOZXcgYFRTdHlsaW5nS2V5YCB3aGljaCBpcyByZXBsYWNpbmcgdGhlIG9sZCBvbmUuXG4gKi9cbmZ1bmN0aW9uIHNldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkLCB0U3R5bGluZ0tleSkge1xuICAgIGNvbnN0IGJpbmRpbmdzID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3NCaW5kaW5ncyA6IHROb2RlLnN0eWxlQmluZGluZ3M7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGdldFRTdHlsaW5nUmFuZ2VOZXh0KGJpbmRpbmdzKSwgMCwgJ0V4cGVjdGluZyB0byBoYXZlIGF0IGxlYXN0IG9uZSB0ZW1wbGF0ZSBzdHlsaW5nIGJpbmRpbmcuJyk7XG4gICAgdERhdGFbZ2V0VFN0eWxpbmdSYW5nZVByZXYoYmluZGluZ3MpXSA9IHRTdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBDb2xsZWN0IGFsbCBzdGF0aWMgdmFsdWVzIGFmdGVyIHRoZSBjdXJyZW50IGBUTm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdGAgaW5kZXguXG4gKlxuICogQ29sbGVjdCB0aGUgcmVtYWluaW5nIHN0eWxpbmcgaW5mb3JtYXRpb24gd2hpY2ggaGFzIG5vdCB5ZXQgYmVlbiBjb2xsZWN0ZWQgYnkgYW4gZXhpc3RpbmdcbiAqIHN0eWxpbmcgaW5zdHJ1Y3Rpb24uXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGBEaXJlY3RpdmVEZWZzYCBhcmUgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hpY2ggY29udGFpbnMgdGhlIGRpcmVjdGl2ZSByYW5nZS5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFJlc2lkdWFsKHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgbGV0IHJlc2lkdWFsID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwodE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3QsIC0xLCAnQnkgdGhlIHRpbWUgdGhpcyBmdW5jdGlvbiBnZXRzIGNhbGxlZCBhdCBsZWFzdCBvbmUgaG9zdEJpbmRpbmdzLW5vZGUgc3R5bGluZyBpbnN0cnVjdGlvbiBtdXN0IGhhdmUgZXhlY3V0ZWQuJyk7XG4gICAgLy8gV2UgYWRkIGAxICsgdE5vZGUuZGlyZWN0aXZlU3RhcnRgIGJlY2F1c2Ugd2UgbmVlZCB0byBza2lwIHRoZSBjdXJyZW50IGRpcmVjdGl2ZSAoYXMgd2UgYXJlXG4gICAgLy8gY29sbGVjdGluZyB0aGluZ3MgYWZ0ZXIgdGhlIGxhc3QgYGhvc3RCaW5kaW5nc2AgZGlyZWN0aXZlIHdoaWNoIGhhZCBhIHN0eWxpbmcgaW5zdHJ1Y3Rpb24uKVxuICAgIGZvciAobGV0IGkgPSAxICsgdE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7IGkgPCBkaXJlY3RpdmVFbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBhdHRycyA9IHREYXRhW2ldLmhvc3RBdHRycztcbiAgICAgICAgcmVzaWR1YWwgPSBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMocmVzaWR1YWwsIGF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHJlc2lkdWFsLCB0Tm9kZS5hdHRycywgaXNDbGFzc0Jhc2VkKTtcbn1cbi8qKlxuICogQ29sbGVjdCB0aGUgc3RhdGljIHN0eWxpbmcgaW5mb3JtYXRpb24gd2l0aCBsb3dlciBwcmlvcml0eSB0aGFuIGBob3N0RGlyZWN0aXZlRGVmYC5cbiAqXG4gKiAoVGhpcyBpcyBvcHBvc2l0ZSBvZiByZXNpZHVhbCBzdHlsaW5nLilcbiAqXG4gKiBAcGFyYW0gaG9zdERpcmVjdGl2ZURlZiBgRGlyZWN0aXZlRGVmYCBmb3Igd2hpY2ggd2Ugd2FudCB0byBjb2xsZWN0IGxvd2VyIHByaW9yaXR5IHN0YXRpY1xuICogICAgICAgIHN0eWxpbmcuIChPciBgbnVsbGAgaWYgdGVtcGxhdGUgc3R5bGluZylcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3Igd2hpY2ggdGhlIHN0eWxpbmcgaXMgYmVpbmcgY29tcHV0ZWQuXG4gKiBAcGFyYW0gc3R5bGluZ0tleSBFeGlzdGluZyBgVFN0eWxpbmdLZXlgIHRvIHVwZGF0ZSBvciB3cmFwLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKGhvc3REaXJlY3RpdmVEZWYsIHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgLy8gV2UgbmVlZCB0byBsb29wIGJlY2F1c2UgdGhlcmUgY2FuIGJlIGRpcmVjdGl2ZXMgd2hpY2ggaGF2ZSBgaG9zdEF0dHJzYCBidXQgZG9uJ3QgaGF2ZVxuICAgIC8vIGBob3N0QmluZGluZ3NgIHNvIHRoaXMgbG9vcCBjYXRjaGVzIHVwIHRvIHRoZSBjdXJyZW50IGRpcmVjdGl2ZS4uXG4gICAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPSBudWxsO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBsZXQgZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtcbiAgICBpZiAoZGlyZWN0aXZlU3R5bGluZ0xhc3QgPT09IC0xKSB7XG4gICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCsrO1xuICAgIH1cbiAgICB3aGlsZSAoZGlyZWN0aXZlU3R5bGluZ0xhc3QgPCBkaXJlY3RpdmVFbmQpIHtcbiAgICAgICAgY3VycmVudERpcmVjdGl2ZSA9IHREYXRhW2RpcmVjdGl2ZVN0eWxpbmdMYXN0XTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY3VycmVudERpcmVjdGl2ZSwgJ2V4cGVjdGVkIHRvIGJlIGRlZmluZWQnKTtcbiAgICAgICAgc3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhzdHlsaW5nS2V5LCBjdXJyZW50RGlyZWN0aXZlLmhvc3RBdHRycywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgaWYgKGN1cnJlbnREaXJlY3RpdmUgPT09IGhvc3REaXJlY3RpdmVEZWYpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QrKztcbiAgICB9XG4gICAgaWYgKGhvc3REaXJlY3RpdmVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgLy8gd2Ugb25seSBhZHZhbmNlIHRoZSBzdHlsaW5nIGN1cnNvciBpZiB3ZSBhcmUgY29sbGVjdGluZyBkYXRhIGZyb20gaG9zdCBiaW5kaW5ncy5cbiAgICAgICAgLy8gVGVtcGxhdGUgZXhlY3V0ZXMgYmVmb3JlIGhvc3QgYmluZGluZ3MgYW5kIHNvIGlmIHdlIHdvdWxkIHVwZGF0ZSB0aGUgaW5kZXgsXG4gICAgICAgIC8vIGhvc3QgYmluZGluZ3Mgd291bGQgbm90IGdldCB0aGVpciBzdGF0aWNzLlxuICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdCA9IGRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGluZ0tleTtcbn1cbi8qKlxuICogQ29udmVydCBgVEF0dHJzYCBpbnRvIGBUU3R5bGluZ1N0YXRpY2AuXG4gKlxuICogQHBhcmFtIHN0eWxpbmdLZXkgZXhpc3RpbmcgYFRTdHlsaW5nS2V5YCB0byB1cGRhdGUgb3Igd3JhcC5cbiAqIEBwYXJhbSBhdHRycyBgVEF0dHJpYnV0ZXNgIHRvIHByb2Nlc3MuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhzdHlsaW5nS2V5LCBhdHRycywgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgZGVzaXJlZE1hcmtlciA9IGlzQ2xhc3NCYXNlZCA/IDEgLyogQ2xhc3NlcyAqLyA6IDIgLyogU3R5bGVzICovO1xuICAgIGxldCBjdXJyZW50TWFya2VyID0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovO1xuICAgIGlmIChhdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE1hcmtlciA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1hcmtlciA9PT0gZGVzaXJlZE1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGluZ0tleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxpbmdLZXkgPSBzdHlsaW5nS2V5ID09PSB1bmRlZmluZWQgPyBbXSA6IFsnJywgc3R5bGluZ0tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAga2V5VmFsdWVBcnJheVNldChzdHlsaW5nS2V5LCBpdGVtLCBpc0NsYXNzQmFzZWQgPyB0cnVlIDogYXR0cnNbKytpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsaW5nS2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogc3R5bGluZ0tleTtcbn1cbi8qKlxuICogQ29udmVydCB1c2VyIGlucHV0IHRvIGBLZXlWYWx1ZUFycmF5YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIHVzZXIgaW5wdXQgd2hpY2ggY291bGQgYmUgYHN0cmluZ2AsIE9iamVjdCBsaXRlcmFsLCBvciBpdGVyYWJsZSBhbmQgY29udmVydHNcbiAqIGl0IGludG8gYSBjb25zaXN0ZW50IHJlcHJlc2VudGF0aW9uLiBUaGUgb3V0cHV0IG9mIHRoaXMgaXMgYEtleVZhbHVlQXJyYXlgICh3aGljaCBpcyBhbiBhcnJheVxuICogd2hlcmVcbiAqIGV2ZW4gaW5kZXhlcyBjb250YWluIGtleXMgYW5kIG9kZCBpbmRleGVzIGNvbnRhaW4gdmFsdWVzIGZvciB0aG9zZSBrZXlzKS5cbiAqXG4gKiBUaGUgYWR2YW50YWdlIG9mIGNvbnZlcnRpbmcgdG8gYEtleVZhbHVlQXJyYXlgIGlzIHRoYXQgd2UgY2FuIHBlcmZvcm0gZGlmZiBpbiBhbiBpbnB1dFxuICogaW5kZXBlbmRlbnRcbiAqIHdheS5cbiAqIChpZSB3ZSBjYW4gY29tcGFyZSBgZm9vIGJhcmAgdG8gYFsnYmFyJywgJ2JheiddIGFuZCBkZXRlcm1pbmUgYSBzZXQgb2YgY2hhbmdlcyB3aGljaCBuZWVkIHRvIGJlXG4gKiBhcHBsaWVkKVxuICpcbiAqIFRoZSBmYWN0IHRoYXQgYEtleVZhbHVlQXJyYXlgIGlzIHNvcnRlZCBpcyB2ZXJ5IGltcG9ydGFudCBiZWNhdXNlIGl0IGFsbG93cyB1cyB0byBjb21wdXRlIHRoZVxuICogZGlmZmVyZW5jZSBpbiBsaW5lYXIgZmFzaGlvbiB3aXRob3V0IHRoZSBuZWVkIHRvIGFsbG9jYXRlIGFueSBhZGRpdGlvbmFsIGRhdGEuXG4gKlxuICogRm9yIGV4YW1wbGUgaWYgd2Uga2VwdCB0aGlzIGFzIGEgYE1hcGAgd2Ugd291bGQgaGF2ZSB0byBpdGVyYXRlIG92ZXIgcHJldmlvdXMgYE1hcGAgdG8gZGV0ZXJtaW5lXG4gKiB3aGljaCB2YWx1ZXMgbmVlZCB0byBiZSBkZWxldGVkLCBvdmVyIHRoZSBuZXcgYE1hcGAgdG8gZGV0ZXJtaW5lIGFkZGl0aW9ucywgYW5kIHdlIHdvdWxkIGhhdmUgdG9cbiAqIGtlZXAgYWRkaXRpb25hbCBgTWFwYCB0byBrZWVwIHRyYWNrIG9mIGR1cGxpY2F0ZXMgb3IgaXRlbXMgd2hpY2ggaGF2ZSBub3QgeWV0IGJlZW4gdmlzaXRlZC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheVNldCAoU2VlIGBrZXlWYWx1ZUFycmF5U2V0YCBpbiBcInV0aWwvYXJyYXlfdXRpbHNcIikgR2V0cyBwYXNzZWQgaW4gYXMgYVxuICogICAgICAgIGZ1bmN0aW9uIHNvIHRoYXQgYHN0eWxlYCBjYW4gYmUgcHJvY2Vzc2VkLiBUaGlzIGlzIGRvbmVcbiAqICAgICAgICBmb3IgdHJlZSBzaGFraW5nIHB1cnBvc2VzLlxuICogQHBhcmFtIHN0cmluZ1BhcnNlciBUaGUgcGFyc2VyIGlzIHBhc3NlZCBpbiBzbyB0aGF0IGl0IHdpbGwgYmUgdHJlZSBzaGFrYWJsZS4gU2VlXG4gKiAgICAgICAgYHN0eWxlU3RyaW5nUGFyc2VyYCBhbmQgYGNsYXNzU3RyaW5nUGFyc2VyYFxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBwYXJzZS9jb252ZXJ0IHRvIGBLZXlWYWx1ZUFycmF5YFxuICovXG5mdW5jdGlvbiB0b1N0eWxpbmdLZXlWYWx1ZUFycmF5KGtleVZhbHVlQXJyYXlTZXQsIHN0cmluZ1BhcnNlciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAvKnx8IHZhbHVlID09PSB1bmRlZmluZWQgKi8gfHwgdmFsdWUgPT09ICcnKVxuICAgICAgICByZXR1cm4gRU1QVFlfQVJSQVk7XG4gICAgY29uc3Qgc3R5bGVLZXlWYWx1ZUFycmF5ID0gW107XG4gICAgY29uc3QgdW53cmFwcGVkVmFsdWUgPSB1bndyYXBTYWZlVmFsdWUodmFsdWUpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVud3JhcHBlZFZhbHVlKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVud3JhcHBlZFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KHN0eWxlS2V5VmFsdWVBcnJheSwgdW53cmFwcGVkVmFsdWVbaV0sIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB1bndyYXBwZWRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdW53cmFwcGVkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh1bndyYXBwZWRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAga2V5VmFsdWVBcnJheVNldChzdHlsZUtleVZhbHVlQXJyYXksIGtleSwgdW53cmFwcGVkVmFsdWVba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHVud3JhcHBlZFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmdQYXJzZXIoc3R5bGVLZXlWYWx1ZUFycmF5LCB1bndyYXBwZWRWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHRocm93RXJyb3IoJ1Vuc3VwcG9ydGVkIHN0eWxpbmcgdHlwZSAnICsgdHlwZW9mIHVud3JhcHBlZFZhbHVlICsgJzogJyArIHVud3JhcHBlZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlS2V5VmFsdWVBcnJheTtcbn1cbi8qKlxuICogU2V0IGEgYHZhbHVlYCBmb3IgYSBga2V5YC5cbiAqXG4gKiBTZWU6IGBrZXlWYWx1ZUFycmF5U2V0YCBmb3IgZGV0YWlsc1xuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IEtleVZhbHVlQXJyYXkgdG8gYWRkIHRvLlxuICogQHBhcmFtIGtleSBTdHlsZSBrZXkgdG8gYWRkLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHN0eWxlS2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBrZXksIHZhbHVlKSB7XG4gICAga2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBrZXksIHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSkpO1xufVxuLyoqXG4gKiBVcGRhdGUgbWFwIGJhc2VkIHN0eWxpbmcuXG4gKlxuICogTWFwIGJhc2VkIHN0eWxpbmcgY291bGQgYmUgYW55dGhpbmcgd2hpY2ggY29udGFpbnMgbW9yZSB0aGFuIG9uZSBiaW5kaW5nLiBGb3IgZXhhbXBsZSBgc3RyaW5nYCxcbiAqIG9yIG9iamVjdCBsaXRlcmFsLiBEZWFsaW5nIHdpdGggYWxsIG9mIHRoZXNlIHR5cGVzIHdvdWxkIGNvbXBsaWNhdGUgdGhlIGxvZ2ljIHNvXG4gKiBpbnN0ZWFkIHRoaXMgZnVuY3Rpb24gZXhwZWN0cyB0aGF0IHRoZSBjb21wbGV4IGlucHV0IGlzIGZpcnN0IGNvbnZlcnRlZCBpbnRvIG5vcm1hbGl6ZWRcbiAqIGBLZXlWYWx1ZUFycmF5YC4gVGhlIGFkdmFudGFnZSBvZiBub3JtYWxpemF0aW9uIGlzIHRoYXQgd2UgZ2V0IHRoZSB2YWx1ZXMgc29ydGVkLCB3aGljaCBtYWtlcyBpdFxuICogdmVyeSBjaGVhcCB0byBjb21wdXRlIGRlbHRhcyBiZXR3ZWVuIHRoZSBwcmV2aW91cyBhbmQgY3VycmVudCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQXNzb2NpYXRlZCBgVFZpZXcuZGF0YWAgY29udGFpbnMgdGhlIGxpbmtlZCBsaXN0IG9mIGJpbmRpbmcgcHJpb3JpdGllcy5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoZXJlIHRoZSBiaW5kaW5nIGlzIGxvY2F0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBjb250YWlucyB0aGUgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBvdGhlciBzdHlsaW5nIGJpbmRpbmcgYXQgdGhpcyBgVE5vZGVgLlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZSBpZiBhbnkgdXBkYXRlcy5cbiAqIEBwYXJhbSBvbGRLZXlWYWx1ZUFycmF5IFByZXZpb3VzIHZhbHVlIHJlcHJlc2VudGVkIGFzIGBLZXlWYWx1ZUFycmF5YFxuICogQHBhcmFtIG5ld0tleVZhbHVlQXJyYXkgQ3VycmVudCB2YWx1ZSByZXByZXNlbnRlZCBhcyBgS2V5VmFsdWVBcnJheWBcbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggQmluZGluZyBpbmRleCBvZiB0aGUgYmluZGluZy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3R5bGluZ01hcCh0VmlldywgdE5vZGUsIGxWaWV3LCByZW5kZXJlciwgb2xkS2V5VmFsdWVBcnJheSwgbmV3S2V5VmFsdWVBcnJheSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpIHtcbiAgICBpZiAob2xkS2V5VmFsdWVBcnJheSA9PT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIC8vIE9uIGZpcnN0IGV4ZWN1dGlvbiB0aGUgb2xkS2V5VmFsdWVBcnJheSBpcyBOT19DSEFOR0UgPT4gdHJlYXQgaXQgYXMgZW1wdHkgS2V5VmFsdWVBcnJheS5cbiAgICAgICAgb2xkS2V5VmFsdWVBcnJheSA9IEVNUFRZX0FSUkFZO1xuICAgIH1cbiAgICBsZXQgb2xkSW5kZXggPSAwO1xuICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgbGV0IG9sZEtleSA9IDAgPCBvbGRLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG9sZEtleVZhbHVlQXJyYXlbMF0gOiBudWxsO1xuICAgIGxldCBuZXdLZXkgPSAwIDwgbmV3S2V5VmFsdWVBcnJheS5sZW5ndGggPyBuZXdLZXlWYWx1ZUFycmF5WzBdIDogbnVsbDtcbiAgICB3aGlsZSAob2xkS2V5ICE9PSBudWxsIHx8IG5ld0tleSAhPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4ob2xkSW5kZXgsIDk5OSwgJ0FyZSB3ZSBzdHVjayBpbiBpbmZpbml0ZSBsb29wPycpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4obmV3SW5kZXgsIDk5OSwgJ0FyZSB3ZSBzdHVjayBpbiBpbmZpbml0ZSBsb29wPycpO1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IG9sZEluZGV4IDwgb2xkS2V5VmFsdWVBcnJheS5sZW5ndGggPyBvbGRLZXlWYWx1ZUFycmF5W29sZEluZGV4ICsgMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbmV3SW5kZXggPCBuZXdLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG5ld0tleVZhbHVlQXJyYXlbbmV3SW5kZXggKyAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHNldEtleSA9IG51bGw7XG4gICAgICAgIGxldCBzZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9sZEtleSA9PT0gbmV3S2V5KSB7XG4gICAgICAgICAgICAvLyBVUERBVEU6IEtleXMgYXJlIGVxdWFsID0+IG5ldyB2YWx1ZSBpcyBvdmVyd3JpdGluZyBvbGQgdmFsdWUuXG4gICAgICAgICAgICBvbGRJbmRleCArPSAyO1xuICAgICAgICAgICAgbmV3SW5kZXggKz0gMjtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXRLZXkgPSBuZXdLZXk7XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdLZXkgPT09IG51bGwgfHwgb2xkS2V5ICE9PSBudWxsICYmIG9sZEtleSA8IG5ld0tleSkge1xuICAgICAgICAgICAgLy8gREVMRVRFOiBvbGRLZXkga2V5IGlzIG1pc3Npbmcgb3Igd2UgZGlkIG5vdCBmaW5kIHRoZSBvbGRLZXkgaW4gdGhlIG5ld1ZhbHVlXG4gICAgICAgICAgICAvLyAoYmVjYXVzZSB0aGUga2V5VmFsdWVBcnJheSBpcyBzb3J0ZWQgYW5kIGBuZXdLZXlgIGlzIGZvdW5kIGxhdGVyIGFscGhhYmV0aWNhbGx5KS5cbiAgICAgICAgICAgIC8vIGBcImJhY2tncm91bmRcIiA8IFwiY29sb3JcImAgc28gd2UgbmVlZCB0byBkZWxldGUgYFwiYmFja2dyb3VuZFwiYCBiZWNhdXNlIGl0IGlzIG5vdCBmb3VuZCBpbiB0aGVcbiAgICAgICAgICAgIC8vIG5ldyBhcnJheS5cbiAgICAgICAgICAgIG9sZEluZGV4ICs9IDI7XG4gICAgICAgICAgICBzZXRLZXkgPSBvbGRLZXk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBDUkVBVEU6IG5ld0tleSdzIGlzIGVhcmxpZXIgYWxwaGFiZXRpY2FsbHkgdGhhbiBvbGRLZXkncyAob3Igbm8gb2xkS2V5KSA9PiB3ZSBoYXZlIG5ldyBrZXkuXG4gICAgICAgICAgICAvLyBgXCJjb2xvclwiID4gXCJiYWNrZ3JvdW5kXCJgIHNvIHdlIG5lZWQgdG8gYWRkIGBjb2xvcmAgYmVjYXVzZSBpdCBpcyBpbiBuZXcgYXJyYXkgYnV0IG5vdCBpblxuICAgICAgICAgICAgLy8gb2xkIGFycmF5LlxuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobmV3S2V5LCAnRXhwZWN0aW5nIHRvIGhhdmUgYSB2YWxpZCBrZXknKTtcbiAgICAgICAgICAgIG5ld0luZGV4ICs9IDI7XG4gICAgICAgICAgICBzZXRLZXkgPSBuZXdLZXk7XG4gICAgICAgICAgICBzZXRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVwZGF0ZVN0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgcmVuZGVyZXIsIHNldEtleSwgc2V0VmFsdWUsIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBvbGRLZXkgPSBvbGRJbmRleCA8IG9sZEtleVZhbHVlQXJyYXkubGVuZ3RoID8gb2xkS2V5VmFsdWVBcnJheVtvbGRJbmRleF0gOiBudWxsO1xuICAgICAgICBuZXdLZXkgPSBuZXdJbmRleCA8IG5ld0tleVZhbHVlQXJyYXkubGVuZ3RoID8gbmV3S2V5VmFsdWVBcnJheVtuZXdJbmRleF0gOiBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogVXBkYXRlIGEgc2ltcGxlIChwcm9wZXJ0eSBuYW1lKSBzdHlsaW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYHByb3BgIGFuZCB1cGRhdGVzIHRoZSBET00gdG8gdGhhdCB2YWx1ZS4gVGhlIGZ1bmN0aW9uIHRha2VzIHRoZSBiaW5kaW5nXG4gKiB2YWx1ZSBhcyB3ZWxsIGFzIGJpbmRpbmcgcHJpb3JpdHkgaW50byBjb25zaWRlcmF0aW9uIHRvIGRldGVybWluZSB3aGljaCB2YWx1ZSBzaG91bGQgYmUgd3JpdHRlblxuICogdG8gRE9NLiAoRm9yIGV4YW1wbGUgaXQgbWF5IGJlIGRldGVybWluZWQgdGhhdCB0aGVyZSBpcyBhIGhpZ2hlciBwcmlvcml0eSBvdmVyd3JpdGUgd2hpY2ggYmxvY2tzXG4gKiB0aGUgRE9NIHdyaXRlLCBvciBpZiB0aGUgdmFsdWUgZ29lcyB0byBgdW5kZWZpbmVkYCBhIGxvd2VyIHByaW9yaXR5IG92ZXJ3cml0ZSBtYXkgYmUgY29uc3VsdGVkLilcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQXNzb2NpYXRlZCBgVFZpZXcuZGF0YWAgY29udGFpbnMgdGhlIGxpbmtlZCBsaXN0IG9mIGJpbmRpbmcgcHJpb3JpdGllcy5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoZXJlIHRoZSBiaW5kaW5nIGlzIGxvY2F0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBjb250YWlucyB0aGUgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBvdGhlciBzdHlsaW5nIGJpbmRpbmcgYXQgdGhpcyBgVE5vZGVgLlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZSBpZiBhbnkgdXBkYXRlcy5cbiAqIEBwYXJhbSBwcm9wIEVpdGhlciBzdHlsZSBwcm9wZXJ0eSBuYW1lIG9yIGEgY2xhc3MgbmFtZS5cbiAqIEBwYXJhbSB2YWx1ZSBFaXRoZXIgc3R5bGUgdmFsdWUgZm9yIGBwcm9wYCBvciBgdHJ1ZWAvYGZhbHNlYCBpZiBgcHJvcGAgaXMgY2xhc3MuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IEJpbmRpbmcgaW5kZXggb2YgdGhlIGJpbmRpbmcuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgcmVuZGVyZXIsIHByb3AsIHZhbHVlLCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCkge1xuICAgIGlmICghKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSkge1xuICAgICAgICAvLyBJdCBpcyBwb3NzaWJsZSB0byBoYXZlIHN0eWxpbmcgb24gbm9uLWVsZW1lbnRzIChzdWNoIGFzIG5nLWNvbnRhaW5lcikuXG4gICAgICAgIC8vIFRoaXMgaXMgcmFyZSwgYnV0IGl0IGRvZXMgaGFwcGVuLiBJbiBzdWNoIGEgY2FzZSwganVzdCBpZ25vcmUgdGhlIGJpbmRpbmcuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdERhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGNvbnN0IHRSYW5nZSA9IHREYXRhW2JpbmRpbmdJbmRleCArIDFdO1xuICAgIGNvbnN0IGhpZ2hlclByaW9yaXR5VmFsdWUgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0UmFuZ2UpID9cbiAgICAgICAgZmluZFN0eWxpbmdWYWx1ZSh0RGF0YSwgdE5vZGUsIGxWaWV3LCBwcm9wLCBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0UmFuZ2UpLCBpc0NsYXNzQmFzZWQpIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuICAgIGlmICghaXNTdHlsaW5nVmFsdWVQcmVzZW50KGhpZ2hlclByaW9yaXR5VmFsdWUpKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IGhhdmUgYSBuZXh0IGR1cGxpY2F0ZSwgb3Igd2UgZGlkIG5vdCBmaW5kIGEgZHVwbGljYXRlIHZhbHVlLlxuICAgICAgICBpZiAoIWlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCBkZWxldGUgY3VycmVudCB2YWx1ZSBvciByZXN0b3JlIHRvIGxvd2VyIHByaW9yaXR5IHZhbHVlLlxuICAgICAgICAgICAgaWYgKGdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRSYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgcG9zc2libGUgcHJldiBkdXBsaWNhdGUsIGxldCdzIHJldHJpZXZlIGl0LlxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmluZFN0eWxpbmdWYWx1ZSh0RGF0YSwgbnVsbCwgbFZpZXcsIHByb3AsIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByTm9kZSA9IGdldE5hdGl2ZUJ5SW5kZXgoZ2V0U2VsZWN0ZWRJbmRleCgpLCBsVmlldyk7XG4gICAgICAgIGFwcGx5U3R5bGluZyhyZW5kZXJlciwgaXNDbGFzc0Jhc2VkLCByTm9kZSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoIGZvciBzdHlsaW5nIHZhbHVlIHdpdGggaGlnaGVyIHByaW9yaXR5IHdoaWNoIGlzIG92ZXJ3cml0aW5nIGN1cnJlbnQgdmFsdWUsIG9yIGFcbiAqIHZhbHVlIG9mIGxvd2VyIHByaW9yaXR5IHRvIHdoaWNoIHdlIHNob3VsZCBmYWxsIGJhY2sgaWYgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLlxuICpcbiAqIFdoZW4gdmFsdWUgaXMgYmVpbmcgYXBwbGllZCBhdCBhIGxvY2F0aW9uLCByZWxhdGVkIHZhbHVlcyBuZWVkIHRvIGJlIGNvbnN1bHRlZC5cbiAqIC0gSWYgdGhlcmUgaXMgYSBoaWdoZXIgcHJpb3JpdHkgYmluZGluZywgd2Ugc2hvdWxkIGJlIHVzaW5nIHRoYXQgb25lIGluc3RlYWQuXG4gKiAgIEZvciBleGFtcGxlIGA8ZGl2ICBbc3R5bGVdPVwie2NvbG9yOmV4cDF9XCIgW3N0eWxlLmNvbG9yXT1cImV4cDJcIj5gIGNoYW5nZSB0byBgZXhwMWBcbiAqICAgcmVxdWlyZXMgdGhhdCB3ZSBjaGVjayBgZXhwMmAgdG8gc2VlIGlmIGl0IGlzIHNldCB0byB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICogLSBJZiB0aGVyZSBpcyBhIGxvd2VyIHByaW9yaXR5IGJpbmRpbmcgYW5kIHdlIGFyZSBjaGFuZ2luZyB0byBgdW5kZWZpbmVkYFxuICogICBGb3IgZXhhbXBsZSBgPGRpdiAgW3N0eWxlXT1cIntjb2xvcjpleHAxfVwiIFtzdHlsZS5jb2xvcl09XCJleHAyXCI+YCBjaGFuZ2UgdG8gYGV4cDJgIHRvXG4gKiAgIGB1bmRlZmluZWRgIHJlcXVpcmVzIHRoYXQgd2UgY2hlY2sgYGV4cDFgIChhbmQgc3RhdGljIHZhbHVlcykgYW5kIHVzZSB0aGF0IGFzIG5ldyB2YWx1ZS5cbiAqXG4gKiBOT1RFOiBUaGUgc3R5bGluZyBzdG9yZXMgdHdvIHZhbHVlcy5cbiAqIDEuIFRoZSByYXcgdmFsdWUgd2hpY2ggY2FtZSBmcm9tIHRoZSBhcHBsaWNhdGlvbiBpcyBzdG9yZWQgYXQgYGluZGV4ICsgMGAgbG9jYXRpb24uIChUaGlzIHZhbHVlXG4gKiAgICBpcyB1c2VkIGZvciBkaXJ0eSBjaGVja2luZykuXG4gKiAyLiBUaGUgbm9ybWFsaXplZCB2YWx1ZSBpcyBzdG9yZWQgYXQgYGluZGV4ICsgMWAuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgdXNlZCBmb3IgdHJhdmVyc2luZyB0aGUgcHJpb3JpdHkuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB0byB1c2UgZm9yIHJlc29sdmluZyBzdGF0aWMgc3R5bGluZy4gQWxzbyBjb250cm9scyBzZWFyY2ggZGlyZWN0aW9uLlxuICogICAtIGBUTm9kZWAgc2VhcmNoIG5leHQgYW5kIHF1aXQgYXMgc29vbiBhcyBgaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKWAgaXMgdHJ1ZS5cbiAqICAgICAgSWYgbm8gdmFsdWUgZm91bmQgY29uc3VsdCBgdE5vZGUucmVzaWR1YWxTdHlsZWAvYHROb2RlLnJlc2lkdWFsQ2xhc3NgIGZvciBkZWZhdWx0IHZhbHVlLlxuICogICAtIGBudWxsYCBzZWFyY2ggcHJldiBhbmQgZ28gYWxsIHRoZSB3YXkgdG8gZW5kLiBSZXR1cm4gbGFzdCB2YWx1ZSB3aGVyZVxuICogICAgIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgdXNlZCBmb3IgcmV0cmlldmluZyB0aGUgYWN0dWFsIHZhbHVlcy5cbiAqIEBwYXJhbSBwcm9wIFByb3BlcnR5IHdoaWNoIHdlIGFyZSBpbnRlcmVzdGVkIGluLlxuICogQHBhcmFtIGluZGV4IFN0YXJ0aW5nIGluZGV4IGluIHRoZSBsaW5rZWQgbGlzdCBvZiBzdHlsaW5nIGJpbmRpbmdzIHdoZXJlIHRoZSBzZWFyY2ggc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBmaW5kU3R5bGluZ1ZhbHVlKHREYXRhLCB0Tm9kZSwgbFZpZXcsIHByb3AsIGluZGV4LCBpc0NsYXNzQmFzZWQpIHtcbiAgICAvLyBgVE5vZGVgIHRvIHVzZSBmb3IgcmVzb2x2aW5nIHN0YXRpYyBzdHlsaW5nLiBBbHNvIGNvbnRyb2xzIHNlYXJjaCBkaXJlY3Rpb24uXG4gICAgLy8gICAtIGBUTm9kZWAgc2VhcmNoIG5leHQgYW5kIHF1aXQgYXMgc29vbiBhcyBgaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKWAgaXMgdHJ1ZS5cbiAgICAvLyAgICAgIElmIG5vIHZhbHVlIGZvdW5kIGNvbnN1bHQgYHROb2RlLnJlc2lkdWFsU3R5bGVgL2B0Tm9kZS5yZXNpZHVhbENsYXNzYCBmb3IgZGVmYXVsdCB2YWx1ZS5cbiAgICAvLyAgIC0gYG51bGxgIHNlYXJjaCBwcmV2IGFuZCBnbyBhbGwgdGhlIHdheSB0byBlbmQuIFJldHVybiBsYXN0IHZhbHVlIHdoZXJlXG4gICAgLy8gICAgIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICAgIGNvbnN0IGlzUHJldkRpcmVjdGlvbiA9IHROb2RlID09PSBudWxsO1xuICAgIGxldCB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB3aGlsZSAoaW5kZXggPiAwKSB7XG4gICAgICAgIGNvbnN0IHJhd0tleSA9IHREYXRhW2luZGV4XTtcbiAgICAgICAgY29uc3QgY29udGFpbnNTdGF0aWNzID0gQXJyYXkuaXNBcnJheShyYXdLZXkpO1xuICAgICAgICAvLyBVbndyYXAgdGhlIGtleSBpZiB3ZSBjb250YWluIHN0YXRpYyB2YWx1ZXMuXG4gICAgICAgIGNvbnN0IGtleSA9IGNvbnRhaW5zU3RhdGljcyA/IHJhd0tleVsxXSA6IHJhd0tleTtcbiAgICAgICAgY29uc3QgaXNTdHlsaW5nTWFwID0ga2V5ID09PSBudWxsO1xuICAgICAgICBsZXQgdmFsdWVBdExWaWV3SW5kZXggPSBsVmlld1tpbmRleCArIDFdO1xuICAgICAgICBpZiAodmFsdWVBdExWaWV3SW5kZXggPT09IE5PX0NIQU5HRSkge1xuICAgICAgICAgICAgLy8gSW4gZmlyc3RVcGRhdGVQYXNzIHRoZSBzdHlsaW5nIGluc3RydWN0aW9ucyBjcmVhdGUgYSBsaW5rZWQgbGlzdCBvZiBzdHlsaW5nLlxuICAgICAgICAgICAgLy8gT24gc3Vic2VxdWVudCBwYXNzZXMgaXQgaXMgcG9zc2libGUgZm9yIGEgc3R5bGluZyBpbnN0cnVjdGlvbiB0byB0cnkgdG8gcmVhZCBhIGJpbmRpbmdcbiAgICAgICAgICAgIC8vIHdoaWNoXG4gICAgICAgICAgICAvLyBoYXMgbm90IHlldCBleGVjdXRlZC4gSW4gdGhhdCBjYXNlIHdlIHdpbGwgZmluZCBgTk9fQ0hBTkdFYCBhbmQgd2Ugc2hvdWxkIGFzc3VtZSB0aGF0XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGB1bmRlZmluZWRgIChvciBlbXB0eSBhcnJheSBpbiBjYXNlIG9mIHN0eWxpbmctbWFwIGluc3RydWN0aW9uKSBpbnN0ZWFkLiBUaGlzXG4gICAgICAgICAgICAvLyBhbGxvd3MgdGhlIHJlc29sdXRpb24gdG8gYXBwbHkgdGhlIHZhbHVlICh3aGljaCBtYXkgbGF0ZXIgYmUgb3ZlcndyaXR0ZW4gd2hlbiB0aGVcbiAgICAgICAgICAgIC8vIGJpbmRpbmcgYWN0dWFsbHkgZXhlY3V0ZXMuKVxuICAgICAgICAgICAgdmFsdWVBdExWaWV3SW5kZXggPSBpc1N0eWxpbmdNYXAgPyBFTVBUWV9BUlJBWSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gaXNTdHlsaW5nTWFwID8ga2V5VmFsdWVBcnJheUdldCh2YWx1ZUF0TFZpZXdJbmRleCwgcHJvcCkgOlxuICAgICAgICAgICAga2V5ID09PSBwcm9wID8gdmFsdWVBdExWaWV3SW5kZXggOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjb250YWluc1N0YXRpY3MgJiYgIWlzU3R5bGluZ1ZhbHVlUHJlc2VudChjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBrZXlWYWx1ZUFycmF5R2V0KHJhd0tleSwgcHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3R5bGluZ1ZhbHVlUHJlc2VudChjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChpc1ByZXZEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdFJhbmdlID0gdERhdGFbaW5kZXggKyAxXTtcbiAgICAgICAgaW5kZXggPSBpc1ByZXZEaXJlY3Rpb24gPyBnZXRUU3R5bGluZ1JhbmdlUHJldih0UmFuZ2UpIDogZ2V0VFN0eWxpbmdSYW5nZU5leHQodFJhbmdlKTtcbiAgICB9XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIC8vIGluIGNhc2Ugd2hlcmUgd2UgYXJlIGdvaW5nIGluIG5leHQgZGlyZWN0aW9uIEFORCB3ZSBkaWQgbm90IGZpbmQgYW55dGhpbmcsIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gY29uc3VsdCByZXNpZHVhbCBzdHlsaW5nXG4gICAgICAgIGxldCByZXNpZHVhbCA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzO1xuICAgICAgICBpZiAocmVzaWR1YWwgIT0gbnVsbCAvKiogT1IgcmVzaWR1YWwgIT09PSB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2V5VmFsdWVBcnJheUdldChyZXNpZHVhbCwgcHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBiaW5kaW5nIHZhbHVlIHNob3VsZCBiZSB1c2VkIChvciBpZiB0aGUgdmFsdWUgaXMgJ3VuZGVmaW5lZCcgYW5kIGhlbmNlIHByaW9yaXR5XG4gKiByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkLilcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQmluZGluZyBzdHlsZSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKSB7XG4gICAgLy8gQ3VycmVudGx5IG9ubHkgYHVuZGVmaW5lZGAgdmFsdWUgaXMgY29uc2lkZXJlZCBub24tYmluZGluZy4gVGhhdCBpcyBgdW5kZWZpbmVkYCBzYXlzIEkgZG9uJ3RcbiAgICAvLyBoYXZlIGFuIG9waW5pb24gYXMgdG8gd2hhdCB0aGlzIGJpbmRpbmcgc2hvdWxkIGJlIGFuZCB5b3Ugc2hvdWxkIGNvbnN1bHQgb3RoZXIgYmluZGluZ3MgYnlcbiAgICAvLyBwcmlvcml0eSB0byBkZXRlcm1pbmUgdGhlIHZhbGlkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZXh0cmFjdGVkIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gc28gdGhhdCB3ZSBoYXZlIGEgc2luZ2xlIHBsYWNlIHRvIGNvbnRyb2wgdGhpcy5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8qKlxuICogTm9ybWFsaXplcyBhbmQvb3IgYWRkcyBhIHN1ZmZpeCB0byB0aGUgdmFsdWUuXG4gKlxuICogSWYgdmFsdWUgaXMgYG51bGxgL2B1bmRlZmluZWRgIG5vIHN1ZmZpeCBpcyBhZGRlZFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gc3VmZml4XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1ZmZpeCh2YWx1ZSwgc3VmZml4KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgLyoqIHx8IHZhbHVlID09PSB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc3VmZml4ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICsgc3VmZml4O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhbHVlID0gc3RyaW5naWZ5KHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFRlc3RzIGlmIHRoZSBgVE5vZGVgIGhhcyBpbnB1dCBzaGFkb3cuXG4gKlxuICogQW4gaW5wdXQgc2hhZG93IGlzIHdoZW4gYSBkaXJlY3RpdmUgc3RlYWxzIChzaGFkb3dzKSB0aGUgaW5wdXQgYnkgdXNpbmcgYEBJbnB1dCgnc3R5bGUnKWAgb3JcbiAqIGBASW5wdXQoJ2NsYXNzJylgIGFzIGlucHV0LlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gc2VlIGlmIGl0IGhhcyBzaGFkb3cuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGhhc1N0eWxpbmdJbnB1dFNoYWRvdyh0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIChpc0NsYXNzQmFzZWQgPyAxNiAvKiBoYXNDbGFzc0lucHV0ICovIDogMzIgLyogaGFzU3R5bGVJbnB1dCAqLykpICE9PSAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlIHN0YXRpYyB0ZXh0IG5vZGVcbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIG5vZGUgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSB2YWx1ZSBTdGF0aWMgc3RyaW5nIHZhbHVlIHRvIHdyaXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0KGluZGV4LCB2YWx1ZSA9ICcnKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRCaW5kaW5nSW5kZXgoKSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICd0ZXh0IG5vZGVzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA/XG4gICAgICAgIGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGFkanVzdGVkSW5kZXgsIDEgLyogVGV4dCAqLywgdmFsdWUsIG51bGwpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBjb25zdCB0ZXh0TmF0aXZlID0gbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBjcmVhdGVUZXh0Tm9kZShsVmlld1tSRU5ERVJFUl0sIHZhbHVlKTtcbiAgICBhcHBlbmRDaGlsZCh0VmlldywgbFZpZXcsIHRleHROYXRpdmUsIHROb2RlKTtcbiAgICAvLyBUZXh0IG5vZGVzIGFyZSBzZWxmIGNsb3NpbmcuXG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCBmYWxzZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIGEgbG9uZSBib3VuZCB2YWx1ZVxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQsIGFuIG5vIGFkZGl0aW9uYWwgdGV4dFxuICogc3Vycm91bmRzIHRoYXQgaW50ZXJwb2xhdGVkIHZhbHVlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+e3t2MH19PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUodjApO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGUodjApIHtcbiAgICDJtcm1dGV4dEludGVycG9sYXRlMSgnJywgdjAsICcnKTtcbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTEoJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTEocHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlMTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUyKCdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGUyKHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUzKFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTMocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGUzO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNChcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIMm1ybV0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTUoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNShwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNihcbiAqICAgICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU2KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTcoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU3O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTgoXG4gKiAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIG90aGVyIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlVihcbiAqICBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluIGJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICpcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGVWKHZhbHVlcykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlMSgncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEocHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlMigncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIocHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzKFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzKHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0KFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgoXG4gKiAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlVihcbiAqICBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWKHZhbHVlcykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMSgna2V5OiAnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMShwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIoJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyKHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTI6IHt7djF9fTsga2V5Mjoge3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMyhcbiAqICAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzKHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNChcbiAqICAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUoXG4gKiAgICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fTtcbiAqICAgICAgICAgICAgIGtleTU6IHt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYoXG4gKiAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNihwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19OyBrZXk1OiB7e3Y1fX07XG4gKiAgICAgICAgICAgICBrZXk2OiB7e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3KFxuICogICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnOyBrZXk1OiAnLCB2NSxcbiAqICAgICc7IGtleTY6ICcsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19OyBrZXk1OiB7e3Y1fX07XG4gKiAgICAgICAgICAgICBrZXk2OiB7e3Y2fX07IGtleTc6IHt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgoXG4gKiAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgJzsga2V5NjogJywgdjYsICc7IGtleTc6ICcsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgY2xhc3M9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19OyBrZXk1OiB7e3Y1fX07XG4gKiAgICAgICAgIGtleTY6IHt7djZ9fTsga2V5Nzoge3t2N319OyBrZXk4OiB7e3Y4fX07IGtleTk6IHt7djl9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYoXG4gKiAgICBbJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnOyBrZXk1OiAnLCB2NSxcbiAqICAgICAnOyBrZXk2OiAnLCB2NiwgJzsga2V5NzogJywgdjcsICc7IGtleTg6ICcsIHY4LCAnOyBrZXk5OiAnLCB2OSwgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICouXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4tYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJzsga2V5MjogJywgdmFsdWUxLCAnOyBrZXkyOiAnLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlVih2YWx1ZXMpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxKDAsICdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEocHJvcCwgcHJlZml4LCB2MCwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyKDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTIocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMyhwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0KDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1KDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNihwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3KFxuICogICAgMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNyhwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTc7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LFxuICogJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5XG4gKiB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeFwiPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYoXG4gKiAgMCwgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLi5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbi1iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnLScsIHZhbHVlMSwgJy0nLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYocHJvcCwgdmFsdWVzLCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXBkYXRlIGEgcHJvcGVydHkgb24gYSBob3N0IGVsZW1lbnQuIE9ubHkgYXBwbGllcyB0byBuYXRpdmUgbm9kZSBwcm9wZXJ0aWVzLCBub3QgaW5wdXRzLlxuICpcbiAqIE9wZXJhdGVzIG9uIHRoZSBlbGVtZW50IHNlbGVjdGVkIGJ5IGluZGV4IHZpYSB0aGUge0BsaW5rIHNlbGVjdH0gaW5zdHJ1Y3Rpb24uXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYHByb3BlcnR5KCduYW1lJywgY3R4Lm5hbWUpKCd0aXRsZScsIGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVob3N0UHJvcGVydHkocHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gbmV4dEJpbmRpbmdJbmRleCgpO1xuICAgIGlmIChiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgdHJ1ZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVob3N0UHJvcGVydHk7XG59XG4vKipcbiAqIFVwZGF0ZXMgYSBzeW50aGV0aWMgaG9zdCBiaW5kaW5nIChlLmcuIGBbQGZvb11gKSBvbiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBmb3IgY29tcGF0aWJpbGl0eSBwdXJwb3NlcyBhbmQgaXMgZGVzaWduZWQgdG8gZW5zdXJlIHRoYXQgYVxuICogc3ludGhldGljIGhvc3QgYmluZGluZyAoZS5nLiBgQEhvc3RCaW5kaW5nKCdAZm9vJylgKSBwcm9wZXJseSBnZXRzIHJlbmRlcmVkIGluXG4gKiB0aGUgY29tcG9uZW50J3MgcmVuZGVyZXIuIE5vcm1hbGx5IGFsbCBob3N0IGJpbmRpbmdzIGFyZSBldmFsdWF0ZWQgd2l0aCB0aGUgcGFyZW50XG4gKiBjb21wb25lbnQncyByZW5kZXJlciwgYnV0LCBpbiB0aGUgY2FzZSBvZiBhbmltYXRpb24gQHRyaWdnZXJzLCB0aGV5IG5lZWQgdG8gYmVcbiAqIGV2YWx1YXRlZCB3aXRoIHRoZSBzdWIgY29tcG9uZW50J3MgcmVuZGVyZXIgKGJlY2F1c2UgdGhhdCdzIHdoZXJlIHRoZSBhbmltYXRpb25cbiAqIHRyaWdnZXJzIGFyZSBkZWZpbmVkKS5cbiAqXG4gKiBEbyBub3QgdXNlIHRoaXMgaW5zdHJ1Y3Rpb24gYXMgYSByZXBsYWNlbWVudCBmb3IgYGVsZW1lbnRQcm9wZXJ0eWAuIFRoaXMgaW5zdHJ1Y3Rpb25cbiAqIG9ubHkgZXhpc3RzIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggdGhlIFZpZXdFbmdpbmUncyBob3N0IGJpbmRpbmcgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byB1cGRhdGUgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSBwcm9wTmFtZSBOYW1lIG9mIHByb3BlcnR5LiBCZWNhdXNlIGl0IGlzIGdvaW5nIHRvIERPTSwgdGhpcyBpcyBub3Qgc3ViamVjdCB0b1xuICogICAgICAgIHJlbmFtaW5nIGFzIHBhcnQgb2YgbWluaWZpY2F0aW9uLlxuICogQHBhcmFtIHZhbHVlIE5ldyB2YWx1ZSB0byB3cml0ZS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgdmFsdWUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50RGVmID0gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0Vmlldy5kYXRhKTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBsb2FkQ29tcG9uZW50UmVuZGVyZXIoY3VycmVudERlZiwgdE5vZGUsIGxWaWV3KTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCByZW5kZXJlciwgc2FuaXRpemVyLCB0cnVlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE5PVEU6IGNoYW5nZXMgdG8gdGhlIGBuZ0kxOG5DbG9zdXJlTW9kZWAgbmFtZSBtdXN0IGJlIHN5bmNlZCB3aXRoIGBjb21waWxlci1jbGkvc3JjL3Rvb2xpbmcudHNgLlxuICovXG5pZiAodHlwZW9mIG5nSTE4bkNsb3N1cmVNb2RlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFRoZXNlIHByb3BlcnR5IGFjY2Vzc2VzIGNhbiBiZSBpZ25vcmVkIGJlY2F1c2UgbmdJMThuQ2xvc3VyZU1vZGUgd2lsbCBiZSBzZXQgdG8gZmFsc2VcbiAgICAvLyB3aGVuIG9wdGltaXppbmcgY29kZSBhbmQgdGhlIHdob2xlIGlmIHN0YXRlbWVudCB3aWxsIGJlIGRyb3BwZWQuXG4gICAgLy8gTWFrZSBzdXJlIHRvIHJlZmVyIHRvIG5nSTE4bkNsb3N1cmVNb2RlIGFzIFsnbmdJMThuQ2xvc3VyZU1vZGUnXSBmb3IgY2xvc3VyZS5cbiAgICAvLyBOT1RFOiB3ZSBuZWVkIHRvIGhhdmUgaXQgaW4gSUlGRSBzbyB0aGF0IHRoZSB0cmVlLXNoYWtlciBpcyBoYXBweS5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgICAgIF9nbG9iYWxbJ25nSTE4bkNsb3N1cmVNb2RlJ10gPVxuICAgICAgICAgICAgLy8gVE9ETyhGVy0xMjUwKTogdmFsaWRhdGUgdGhhdCB0aGlzIGFjdHVhbGx5LCB5b3Uga25vdywgd29ya3MuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgICAgICAgICB0eXBlb2YgZ29vZyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGdvb2cuZ2V0TXNnID09PSAnZnVuY3Rpb24nO1xuICAgIH0pKCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVEhJUyBDT0RFIElTIEdFTkVSQVRFRCAtIERPIE5PVCBNT0RJRlkuXG5jb25zdCB1ID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gcGx1cmFsKHZhbCkge1xuICAgIGNvbnN0IG4gPSB2YWwsIGkgPSBNYXRoLmZsb29yKE1hdGguYWJzKHZhbCkpLCB2ID0gdmFsLnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXFwuPy8sICcnKS5sZW5ndGg7XG4gICAgaWYgKGkgPT09IDEgJiYgdiA9PT0gMClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDU7XG59XG52YXIgbG9jYWxlRW4gPSBbXCJlblwiLCBbW1wiYVwiLCBcInBcIl0sIFtcIkFNXCIsIFwiUE1cIl0sIHVdLCBbW1wiQU1cIiwgXCJQTVwiXSwgdSwgdV0sIFtbXCJTXCIsIFwiTVwiLCBcIlRcIiwgXCJXXCIsIFwiVFwiLCBcIkZcIiwgXCJTXCJdLCBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl0sIFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdLCBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXV0sIHUsIFtbXCJKXCIsIFwiRlwiLCBcIk1cIiwgXCJBXCIsIFwiTVwiLCBcIkpcIiwgXCJKXCIsIFwiQVwiLCBcIlNcIiwgXCJPXCIsIFwiTlwiLCBcIkRcIl0sIFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXSwgW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl1dLCB1LCBbW1wiQlwiLCBcIkFcIl0sIFtcIkJDXCIsIFwiQURcIl0sIFtcIkJlZm9yZSBDaHJpc3RcIiwgXCJBbm5vIERvbWluaVwiXV0sIDAsIFs2LCAwXSwgW1wiTS9kL3l5XCIsIFwiTU1NIGQsIHlcIiwgXCJNTU1NIGQsIHlcIiwgXCJFRUVFLCBNTU1NIGQsIHlcIl0sIFtcImg6bW0gYVwiLCBcImg6bW06c3MgYVwiLCBcImg6bW06c3MgYSB6XCIsIFwiaDptbTpzcyBhIHp6enpcIl0sIFtcInsxfSwgezB9XCIsIHUsIFwiezF9ICdhdCcgezB9XCIsIHVdLCBbXCIuXCIsIFwiLFwiLCBcIjtcIiwgXCIlXCIsIFwiK1wiLCBcIi1cIiwgXCJFXCIsIFwiw5dcIiwgXCLigLBcIiwgXCLiiJ5cIiwgXCJOYU5cIiwgXCI6XCJdLCBbXCIjLCMjMC4jIyNcIiwgXCIjLCMjMCVcIiwgXCLCpCMsIyMwLjAwXCIsIFwiI0UwXCJdLCBcIlVTRFwiLCBcIiRcIiwgXCJVUyBEb2xsYXJcIiwge30sIFwibHRyXCIsIHBsdXJhbF07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGNvbnN0IGlzIHVzZWQgdG8gc3RvcmUgdGhlIGxvY2FsZSBkYXRhIHJlZ2lzdGVyZWQgd2l0aCBgcmVnaXN0ZXJMb2NhbGVEYXRhYFxuICovXG5sZXQgTE9DQUxFX0RBVEEgPSB7fTtcbi8qKlxuICogUmVnaXN0ZXIgbG9jYWxlIGRhdGEgdG8gYmUgdXNlZCBpbnRlcm5hbGx5IGJ5IEFuZ3VsYXIuIFNlZSB0aGVcbiAqIFtcIkkxOG4gZ3VpZGVcIl0oZ3VpZGUvaTE4bi1jb21tb24tZm9ybWF0LWRhdGEtbG9jYWxlKSB0byBrbm93IGhvdyB0byBpbXBvcnQgYWRkaXRpb25hbCBsb2NhbGVcbiAqIGRhdGEuXG4gKlxuICogVGhlIHNpZ25hdHVyZSBgcmVnaXN0ZXJMb2NhbGVEYXRhKGRhdGE6IGFueSwgZXh0cmFEYXRhPzogYW55KWAgaXMgZGVwcmVjYXRlZCBzaW5jZSB2NS4xXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTG9jYWxlRGF0YShkYXRhLCBsb2NhbGVJZCwgZXh0cmFEYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZXh0cmFEYXRhID0gbG9jYWxlSWQ7XG4gICAgICAgIGxvY2FsZUlkID0gZGF0YVtMb2NhbGVEYXRhSW5kZXguTG9jYWxlSWRdO1xuICAgIH1cbiAgICBsb2NhbGVJZCA9IGxvY2FsZUlkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLScpO1xuICAgIExPQ0FMRV9EQVRBW2xvY2FsZUlkXSA9IGRhdGE7XG4gICAgaWYgKGV4dHJhRGF0YSkge1xuICAgICAgICBMT0NBTEVfREFUQVtsb2NhbGVJZF1bTG9jYWxlRGF0YUluZGV4LkV4dHJhRGF0YV0gPSBleHRyYURhdGE7XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgbG9jYWxlIGRhdGEgZm9yIGEgZ2l2ZW4gbG9jYWxlLlxuICpcbiAqIEBwYXJhbSBsb2NhbGUgVGhlIGxvY2FsZSBjb2RlLlxuICogQHJldHVybnMgVGhlIGxvY2FsZSBkYXRhLlxuICogQHNlZSBbSW50ZXJuYXRpb25hbGl6YXRpb24gKGkxOG4pIEd1aWRlXShodHRwczovL2FuZ3VsYXIuaW8vZ3VpZGUvaTE4bi1vdmVydmlldylcbiAqL1xuZnVuY3Rpb24gZmluZExvY2FsZURhdGEobG9jYWxlKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZExvY2FsZSA9IG5vcm1hbGl6ZUxvY2FsZShsb2NhbGUpO1xuICAgIGxldCBtYXRjaCA9IGdldExvY2FsZURhdGEobm9ybWFsaXplZExvY2FsZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICAgLy8gbGV0J3MgdHJ5IHRvIGZpbmQgYSBwYXJlbnQgbG9jYWxlXG4gICAgY29uc3QgcGFyZW50TG9jYWxlID0gbm9ybWFsaXplZExvY2FsZS5zcGxpdCgnLScpWzBdO1xuICAgIG1hdGNoID0gZ2V0TG9jYWxlRGF0YShwYXJlbnRMb2NhbGUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICAgIGlmIChwYXJlbnRMb2NhbGUgPT09ICdlbicpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZUVuO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgXCIke2xvY2FsZX1cIi5gKTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBkZWZhdWx0IGN1cnJlbmN5IGNvZGUgZm9yIHRoZSBnaXZlbiBsb2NhbGUuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgZGVmaW5lZCBhcyB0aGUgZmlyc3QgY3VycmVuY3kgd2hpY2ggaXMgc3RpbGwgaW4gdXNlLlxuICpcbiAqIEBwYXJhbSBsb2NhbGUgVGhlIGNvZGUgb2YgdGhlIGxvY2FsZSB3aG9zZSBjdXJyZW5jeSBjb2RlIHdlIHdhbnQuXG4gKiBAcmV0dXJucyBUaGUgY29kZSBvZiB0aGUgZGVmYXVsdCBjdXJyZW5jeSBmb3IgdGhlIGdpdmVuIGxvY2FsZS5cbiAqXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsZUN1cnJlbmN5Q29kZShsb2NhbGUpIHtcbiAgICBjb25zdCBkYXRhID0gZmluZExvY2FsZURhdGEobG9jYWxlKTtcbiAgICByZXR1cm4gZGF0YVtMb2NhbGVEYXRhSW5kZXguQ3VycmVuY3lDb2RlXSB8fCBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHBsdXJhbCBmdW5jdGlvbiB1c2VkIGJ5IElDVSBleHByZXNzaW9ucyB0byBkZXRlcm1pbmUgdGhlIHBsdXJhbCBjYXNlIHRvIHVzZVxuICogZm9yIGEgZ2l2ZW4gbG9jYWxlLlxuICogQHBhcmFtIGxvY2FsZSBBIGxvY2FsZSBjb2RlIGZvciB0aGUgbG9jYWxlIGZvcm1hdCBydWxlcyB0byB1c2UuXG4gKiBAcmV0dXJucyBUaGUgcGx1cmFsIGZ1bmN0aW9uIGZvciB0aGUgbG9jYWxlLlxuICogQHNlZSBgTmdQbHVyYWxgXG4gKiBAc2VlIFtJbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgR3VpZGVdKGh0dHBzOi8vYW5ndWxhci5pby9ndWlkZS9pMThuLW92ZXJ2aWV3KVxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVQbHVyYWxDYXNlKGxvY2FsZSkge1xuICAgIGNvbnN0IGRhdGEgPSBmaW5kTG9jYWxlRGF0YShsb2NhbGUpO1xuICAgIHJldHVybiBkYXRhW0xvY2FsZURhdGFJbmRleC5QbHVyYWxDYXNlXTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgZ2l2ZW4gYG5vcm1hbGl6ZWRMb2NhbGVgIGZyb20gYExPQ0FMRV9EQVRBYFxuICogb3IgZnJvbSB0aGUgZ2xvYmFsIGBuZy5jb21tb24ubG9jYWxlYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlRGF0YShub3JtYWxpemVkTG9jYWxlKSB7XG4gICAgaWYgKCEobm9ybWFsaXplZExvY2FsZSBpbiBMT0NBTEVfREFUQSkpIHtcbiAgICAgICAgTE9DQUxFX0RBVEFbbm9ybWFsaXplZExvY2FsZV0gPSBfZ2xvYmFsLm5nICYmIF9nbG9iYWwubmcuY29tbW9uICYmIF9nbG9iYWwubmcuY29tbW9uLmxvY2FsZXMgJiZcbiAgICAgICAgICAgIF9nbG9iYWwubmcuY29tbW9uLmxvY2FsZXNbbm9ybWFsaXplZExvY2FsZV07XG4gICAgfVxuICAgIHJldHVybiBMT0NBTEVfREFUQVtub3JtYWxpemVkTG9jYWxlXTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHJlbW92ZSBhbGwgdGhlIGxvY2FsZSBkYXRhIGZyb20gYExPQ0FMRV9EQVRBYC5cbiAqL1xuZnVuY3Rpb24gdW5yZWdpc3RlckFsbExvY2FsZURhdGEoKSB7XG4gICAgTE9DQUxFX0RBVEEgPSB7fTtcbn1cbi8qKlxuICogSW5kZXggb2YgZWFjaCB0eXBlIG9mIGxvY2FsZSBkYXRhIGZyb20gdGhlIGxvY2FsZSBkYXRhIGFycmF5XG4gKi9cbnZhciBMb2NhbGVEYXRhSW5kZXg7XG4oZnVuY3Rpb24gKExvY2FsZURhdGFJbmRleCkge1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJMb2NhbGVJZFwiXSA9IDBdID0gXCJMb2NhbGVJZFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlQZXJpb2RzRm9ybWF0XCJdID0gMV0gPSBcIkRheVBlcmlvZHNGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5UGVyaW9kc1N0YW5kYWxvbmVcIl0gPSAyXSA9IFwiRGF5UGVyaW9kc1N0YW5kYWxvbmVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5c0Zvcm1hdFwiXSA9IDNdID0gXCJEYXlzRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRheXNTdGFuZGFsb25lXCJdID0gNF0gPSBcIkRheXNTdGFuZGFsb25lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIk1vbnRoc0Zvcm1hdFwiXSA9IDVdID0gXCJNb250aHNGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTW9udGhzU3RhbmRhbG9uZVwiXSA9IDZdID0gXCJNb250aHNTdGFuZGFsb25lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkVyYXNcIl0gPSA3XSA9IFwiRXJhc1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJGaXJzdERheU9mV2Vla1wiXSA9IDhdID0gXCJGaXJzdERheU9mV2Vla1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJXZWVrZW5kUmFuZ2VcIl0gPSA5XSA9IFwiV2Vla2VuZFJhbmdlXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRhdGVGb3JtYXRcIl0gPSAxMF0gPSBcIkRhdGVGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiVGltZUZvcm1hdFwiXSA9IDExXSA9IFwiVGltZUZvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXRlVGltZUZvcm1hdFwiXSA9IDEyXSA9IFwiRGF0ZVRpbWVGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTnVtYmVyU3ltYm9sc1wiXSA9IDEzXSA9IFwiTnVtYmVyU3ltYm9sc1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJOdW1iZXJGb3JtYXRzXCJdID0gMTRdID0gXCJOdW1iZXJGb3JtYXRzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmN5Q29kZVwiXSA9IDE1XSA9IFwiQ3VycmVuY3lDb2RlXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmN5U3ltYm9sXCJdID0gMTZdID0gXCJDdXJyZW5jeVN5bWJvbFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJDdXJyZW5jeU5hbWVcIl0gPSAxN10gPSBcIkN1cnJlbmN5TmFtZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJDdXJyZW5jaWVzXCJdID0gMThdID0gXCJDdXJyZW5jaWVzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRpcmVjdGlvbmFsaXR5XCJdID0gMTldID0gXCJEaXJlY3Rpb25hbGl0eVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJQbHVyYWxDYXNlXCJdID0gMjBdID0gXCJQbHVyYWxDYXNlXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkV4dHJhRGF0YVwiXSA9IDIxXSA9IFwiRXh0cmFEYXRhXCI7XG59KShMb2NhbGVEYXRhSW5kZXggfHwgKExvY2FsZURhdGFJbmRleCA9IHt9KSk7XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbm9uaWNhbCBmb3JtIG9mIGEgbG9jYWxlIG5hbWUgLSBsb3dlcmNhc2Ugd2l0aCBgX2AgcmVwbGFjZWQgd2l0aCBgLWAuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLScpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHBsdXJhbE1hcHBpbmcgPSBbJ3plcm8nLCAnb25lJywgJ3R3bycsICdmZXcnLCAnbWFueSddO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBwbHVyYWwgY2FzZSBiYXNlZCBvbiB0aGUgbG9jYWxlXG4gKi9cbmZ1bmN0aW9uIGdldFBsdXJhbENhc2UodmFsdWUsIGxvY2FsZSkge1xuICAgIGNvbnN0IHBsdXJhbCA9IGdldExvY2FsZVBsdXJhbENhc2UobG9jYWxlKShwYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICBjb25zdCByZXN1bHQgPSBwbHVyYWxNYXBwaW5nW3BsdXJhbF07XG4gICAgcmV0dXJuIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgPyByZXN1bHQgOiAnb3RoZXInO1xufVxuLyoqXG4gKiBUaGUgbG9jYWxlIGlkIHRoYXQgdGhlIGFwcGxpY2F0aW9uIGlzIHVzaW5nIGJ5IGRlZmF1bHQgKGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucykuXG4gKi9cbmNvbnN0IERFRkFVTFRfTE9DQUxFX0lEID0gJ2VuLVVTJztcbi8qKlxuICogVVNEIGN1cnJlbmN5IGNvZGUgdGhhdCB0aGUgYXBwbGljYXRpb24gdXNlcyBieSBkZWZhdWx0IGZvciBDdXJyZW5jeVBpcGUgd2hlbiBub1xuICogREVGQVVMVF9DVVJSRU5DWV9DT0RFIGlzIHByb3ZpZGVkLlxuICovXG5jb25zdCBVU0RfQ1VSUkVOQ1lfQ09ERSA9ICdVU0QnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFya3MgdGhhdCB0aGUgbmV4dCBzdHJpbmcgaXMgYW4gZWxlbWVudCBuYW1lLlxuICpcbiAqIFNlZSBgSTE4bk11dGF0ZU9wQ29kZXNgIGRvY3VtZW50YXRpb24uXG4gKi9cbmNvbnN0IEVMRU1FTlRfTUFSS0VSID0ge1xuICAgIG1hcmtlcjogJ2VsZW1lbnQnXG59O1xuLyoqXG4gKiBNYXJrcyB0aGF0IHRoZSBuZXh0IHN0cmluZyBpcyBjb21tZW50IHRleHQgbmVlZCBmb3IgSUNVLlxuICpcbiAqIFNlZSBgSTE4bk11dGF0ZU9wQ29kZXNgIGRvY3VtZW50YXRpb24uXG4gKi9cbmNvbnN0IElDVV9NQVJLRVIgPSB7XG4gICAgbWFya2VyOiAnSUNVJ1xufTtcbi8qKlxuICogU2VlIGBJMThuQ3JlYXRlT3BDb2Rlc2BcbiAqL1xudmFyIEkxOG5DcmVhdGVPcENvZGU7XG4oZnVuY3Rpb24gKEkxOG5DcmVhdGVPcENvZGUpIHtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgYml0cyB0byBzaGlmdCBpbmRleCBzbyB0aGF0IGl0IGNhbiBiZSBjb21iaW5lZCB3aXRoIHRoZSBgQVBQRU5EX0VBR0VSTFlgIGFuZFxuICAgICAqIGBDT01NRU5UYC5cbiAgICAgKi9cbiAgICBJMThuQ3JlYXRlT3BDb2RlW0kxOG5DcmVhdGVPcENvZGVbXCJTSElGVFwiXSA9IDJdID0gXCJTSElGVFwiO1xuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgbm9kZSBiZSBhcHBlbmRlZCB0byBwYXJlbnQgaW1lZGRpdGF0bHkgYWZ0ZXIgY3JlYXRpb24uXG4gICAgICovXG4gICAgSTE4bkNyZWF0ZU9wQ29kZVtJMThuQ3JlYXRlT3BDb2RlW1wiQVBQRU5EX0VBR0VSTFlcIl0gPSAxXSA9IFwiQVBQRU5EX0VBR0VSTFlcIjtcbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdGhlIG5vZGUgc2hvdWxkIGJlIGNvbW1lbnQgKHJhdGhlciB0aGFuIGEgdGV4dCkgbm9kZS5cbiAgICAgKi9cbiAgICBJMThuQ3JlYXRlT3BDb2RlW0kxOG5DcmVhdGVPcENvZGVbXCJDT01NRU5UXCJdID0gMl0gPSBcIkNPTU1FTlRcIjtcbn0pKEkxOG5DcmVhdGVPcENvZGUgfHwgKEkxOG5DcmVhdGVPcENvZGUgPSB7fSkpO1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMiA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgbG9jYWxlIGlkIHRoYXQgdGhlIGFwcGxpY2F0aW9uIGlzIGN1cnJlbnRseSB1c2luZyAoZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zKS5cbiAqIFRoaXMgaXMgdGhlIGl2eSB2ZXJzaW9uIG9mIGBMT0NBTEVfSURgIHRoYXQgd2FzIGRlZmluZWQgYXMgYW4gaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgdmlldyBlbmdpbmVcbiAqIGJ1dCBpcyBub3cgZGVmaW5lZCBhcyBhIGdsb2JhbCB2YWx1ZS5cbiAqL1xubGV0IExPQ0FMRV9JRCQxID0gREVGQVVMVF9MT0NBTEVfSUQ7XG4vKipcbiAqIFNldHMgdGhlIGxvY2FsZSBpZCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgdHJhbnNsYXRpb25zIGFuZCBJQ1UgZXhwcmVzc2lvbnMuXG4gKiBUaGlzIGlzIHRoZSBpdnkgdmVyc2lvbiBvZiBgTE9DQUxFX0lEYCB0aGF0IHdhcyBkZWZpbmVkIGFzIGFuIGluamVjdGlvbiB0b2tlbiBmb3IgdGhlIHZpZXcgZW5naW5lXG4gKiBidXQgaXMgbm93IGRlZmluZWQgYXMgYSBnbG9iYWwgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxvY2FsZUlkXG4gKi9cbmZ1bmN0aW9uIHNldExvY2FsZUlkKGxvY2FsZUlkKSB7XG4gICAgYXNzZXJ0RGVmaW5lZChsb2NhbGVJZCwgYEV4cGVjdGVkIGxvY2FsZUlkIHRvIGJlIGRlZmluZWRgKTtcbiAgICBpZiAodHlwZW9mIGxvY2FsZUlkID09PSAnc3RyaW5nJykge1xuICAgICAgICBMT0NBTEVfSUQkMSA9IGxvY2FsZUlkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLScpO1xuICAgIH1cbn1cbi8qKlxuICogR2V0cyB0aGUgbG9jYWxlIGlkIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucy5cbiAqIFRoaXMgaXMgdGhlIGl2eSB2ZXJzaW9uIG9mIGBMT0NBTEVfSURgIHRoYXQgd2FzIGRlZmluZWQgYXMgYW4gaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgdmlldyBlbmdpbmVcbiAqIGJ1dCBpcyBub3cgZGVmaW5lZCBhcyBhIGdsb2JhbCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlSWQoKSB7XG4gICAgcmV0dXJuIExPQ0FMRV9JRCQxO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmluZCBhIG5vZGUgaW4gZnJvbnQgb2Ygd2hpY2ggYGN1cnJlbnRUTm9kZWAgc2hvdWxkIGJlIGluc2VydGVkICh0YWtlcyBpMThuIGludG8gYWNjb3VudCkuXG4gKlxuICogVGhpcyBtZXRob2QgZGV0ZXJtaW5lcyB0aGUgYFJOb2RlYCBpbiBmcm9udCBvZiB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoZSBgY3VycmVudFJOb2RlYC4gVGhpc1xuICogdGFrZXMgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBpbnRvIGFjY291bnQuXG4gKlxuICogQHBhcmFtIHBhcmVudFROb2RlIHBhcmVudCBgVE5vZGVgXG4gKiBAcGFyYW0gY3VycmVudFROb2RlIGN1cnJlbnQgYFROb2RlYCAoVGhlIG5vZGUgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBpbnNlcnQgaW50byB0aGUgRE9NKVxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgdE5vZGVJbnNlcnRCZWZvcmVJbmRleCA9IGN1cnJlbnRUTm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBjb25zdCBpbnNlcnRCZWZvcmVJbmRleCA9IEFycmF5LmlzQXJyYXkodE5vZGVJbnNlcnRCZWZvcmVJbmRleCkgPyB0Tm9kZUluc2VydEJlZm9yZUluZGV4WzBdIDogdE5vZGVJbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoaW5zZXJ0QmVmb3JlSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aE5vSTE4bihwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbnNlcnRCZWZvcmVJbmRleCk7XG4gICAgICAgIHJldHVybiB1bndyYXBSTm9kZShsVmlld1tpbnNlcnRCZWZvcmVJbmRleF0pO1xuICAgIH1cbn1cbi8qKlxuICogUHJvY2VzcyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGJ5IGFkZGluZyBpMThuIHRleHQgbm9kZXMuXG4gKlxuICogU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUocmVuZGVyZXIsIGNoaWxkVE5vZGUsIGxWaWV3LCBjaGlsZFJOb2RlLCBwYXJlbnRSRWxlbWVudCkge1xuICAgIGNvbnN0IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXggPSBjaGlsZFROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHROb2RlSW5zZXJ0QmVmb3JlSW5kZXgpKSB7XG4gICAgICAgIC8vIEFuIGFycmF5IGluZGljYXRlcyB0aGF0IHRoZXJlIGFyZSBpMThuIG5vZGVzIHRoYXQgbmVlZCB0byBiZSBhZGRlZCBhcyBjaGlsZHJlbiBvZiB0aGlzXG4gICAgICAgIC8vIGBjaGlsZFJOb2RlYC4gVGhlc2UgaTE4biBub2RlcyB3ZXJlIGNyZWF0ZWQgYmVmb3JlIHRoaXMgYGNoaWxkUk5vZGVgIHdhcyBhdmFpbGFibGUgYW5kIHNvXG4gICAgICAgIC8vIG9ubHkgbm93IGNhbiBiZSBhZGRlZC4gVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5IGlzIHRoZSBub3JtYWwgaW5kZXggd2hlcmUgd2Ugc2hvdWxkXG4gICAgICAgIC8vIGluc2VydCB0aGUgYGNoaWxkUk5vZGVgLiBBZGRpdGlvbmFsIGVsZW1lbnRzIGFyZSB0aGUgZXh0cmEgbm9kZXMgdG8gYmUgYWRkZWQgYXMgY2hpbGRyZW4gb2ZcbiAgICAgICAgLy8gYGNoaWxkUk5vZGVgLlxuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShjaGlsZFJOb2RlKTtcbiAgICAgICAgbGV0IGkxOG5QYXJlbnQgPSBjaGlsZFJOb2RlO1xuICAgICAgICBsZXQgYW5jaG9yUk5vZGUgPSBudWxsO1xuICAgICAgICBpZiAoIShjaGlsZFROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSkge1xuICAgICAgICAgICAgYW5jaG9yUk5vZGUgPSBpMThuUGFyZW50O1xuICAgICAgICAgICAgaTE4blBhcmVudCA9IHBhcmVudFJFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpMThuUGFyZW50ICE9PSBudWxsICYmIChjaGlsZFROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pID09PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGB1bndyYXBSTm9kZWAgYmVjYXVzZSBhbGwgb2YgdGhlIGluZGV4ZXMgcG9pbnQgdG8gaTE4biB0ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIHNlZSBgYXNzZXJ0RG9tTm9kZWAgYmVsb3cuXG4gICAgICAgICAgICAgICAgY29uc3QgaTE4bkNoaWxkID0gbFZpZXdbdE5vZGVJbnNlcnRCZWZvcmVJbmRleFtpXV07XG4gICAgICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBpMThuUGFyZW50LCBpMThuQ2hpbGQsIGFuY2hvclJOb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGQgYHROb2RlYCB0byBgcHJldmlvdXNUTm9kZXNgIGxpc3QgYW5kIHVwZGF0ZSByZWxldmFudCBgVE5vZGVgcyBpbiBgcHJldmlvdXNUTm9kZXNgIGxpc3RcbiAqIGB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleGAuXG4gKlxuICogVGhpbmdzIHRvIGtlZXAgaW4gbWluZDpcbiAqIDEuIEFsbCBpMThuIHRleHQgbm9kZXMgYXJlIGVuY29kZWQgYXMgYFROb2RlVHlwZS5FbGVtZW50YCBhbmQgYXJlIGNyZWF0ZWQgZWFnZXJseSBieSB0aGVcbiAqICAgIGDJtcm1aTE4blN0YXJ0YCBpbnN0cnVjdGlvbi5cbiAqIDIuIEFsbCBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBgVE5vZGVzYCBhcmUgZWxlbWVudHMgd2hpY2ggd2lsbCBiZSBjcmVhdGVkIGxhdGVyIGJ5XG4gKiAgICBgybXJtWVsZW1lbnRTdGFydGAgaW5zdHJ1Y3Rpb24uXG4gKiAzLiBgybXJtWVsZW1lbnRTdGFydGAgaW5zdHJ1Y3Rpb24gd2lsbCBjcmVhdGUgYFROb2RlYHMgaW4gdGhlIGFzY2VuZGluZyBgVE5vZGUuaW5kZXhgIG9yZGVyLiAoU28gYVxuICogICAgc21hbGxlciBpbmRleCBgVE5vZGVgIGlzIGd1YXJhbnRlZWQgdG8gYmUgY3JlYXRlZCBiZWZvcmUgYSBsYXJnZXIgb25lKVxuICpcbiAqIFdlIHVzZSB0aGUgYWJvdmUgdGhyZWUgaW52YXJpYW50cyB0byBkZXRlcm1pbmUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqXG4gKiBJbiBhbiBpZGVhbCB3b3JsZCBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIHdvdWxkIGFsd2F5cyBiZSBgVE5vZGUubmV4dC5pbmRleGAuIEhvd2V2ZXIsXG4gKiB0aGlzIHdpbGwgbm90IHdvcmsgYmVjYXVzZSBgVE5vZGUubmV4dC5pbmRleGAgbWF5IGJlIGxhcmdlciB0aGFuIGBUTm9kZS5pbmRleGAgd2hpY2ggbWVhbnMgdGhhdFxuICogdGhlIG5leHQgbm9kZSBpcyBub3QgeWV0IGNyZWF0ZWQgYW5kIHRoZXJlZm9yZSB3ZSBjYW4ndCBpbnNlcnQgaW4gZnJvbnQgb2YgaXQuXG4gKlxuICogUnVsZTE6IGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleCA9IG51bGxgIGlmIGBUTm9kZS5uZXh0ID09PSBudWxsYCAoSW5pdGlhbCBjb25kaXRpb24sIGFzIHdlIGRvbid0XG4gKiAgICAgICAga25vdyBpZiB0aGVyZSB3aWxsIGJlIGZ1cnRoZXIgYFROb2RlYHMgaW5zZXJ0ZWQgYWZ0ZXIuKVxuICogUnVsZTI6IElmIGBwcmV2aW91c1ROb2RlYCBpcyBjcmVhdGVkIGFmdGVyIHRoZSBgdE5vZGVgIGJlaW5nIGluc2VydGVkLCB0aGVuXG4gKiAgICAgICAgYHByZXZpb3VzVE5vZGUuaW5zZXJ0QmVmb3JlTm9kZSA9IHROb2RlLmluZGV4YCAoU28gd2hlbiBhIG5ldyBgdE5vZGVgIGlzIGFkZGVkIHdlIGNoZWNrXG4gKiAgICAgICAgcHJldmlvdXMgdG8gc2VlIGlmIHdlIGNhbiB1cGRhdGUgaXRzIGBpbnNlcnRCZWZvcmVUTm9kZWApXG4gKlxuICogU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgZm9yIG1vcmUgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0gcHJldmlvdXNUTm9kZXMgQSBsaXN0IG9mIHByZXZpb3VzIFROb2RlcyBzbyB0aGF0IHdlIGNhbiBlYXNpbHkgdHJhdmVyc2UgYFROb2RlYHMgaW5cbiAqICAgICByZXZlcnNlIG9yZGVyLiAoSWYgYFROb2RlYCB3b3VsZCBoYXZlIGBwcmV2aW91c2AgdGhpcyB3b3VsZCBub3QgYmUgbmVjZXNzYXJ5LilcbiAqIEBwYXJhbSBuZXdUTm9kZSBBIFROb2RlIHRvIGFkZCB0byB0aGUgYHByZXZpb3VzVE5vZGVzYCBsaXN0LlxuICovXG5mdW5jdGlvbiBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4KHByZXZpb3VzVE5vZGVzLCBuZXdUTm9kZSkge1xuICAgIC8vIFN0YXJ0IHdpdGggUnVsZTFcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3VE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXgsIG51bGwsICdXZSBleHBlY3QgdGhhdCBpbnNlcnRCZWZvcmVJbmRleCBpcyBub3Qgc2V0Jyk7XG4gICAgcHJldmlvdXNUTm9kZXMucHVzaChuZXdUTm9kZSk7XG4gICAgaWYgKHByZXZpb3VzVE5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHByZXZpb3VzVE5vZGVzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1ROb2RlID0gcHJldmlvdXNUTm9kZXNbaV07XG4gICAgICAgICAgICAvLyBUZXh0IG5vZGVzIGFyZSBjcmVhdGVkIGVhZ2VybHkgYW5kIHNvIHRoZXkgZG9uJ3QgbmVlZCB0aGVpciBgaW5kZXhCZWZvcmVJbmRleGAgdXBkYXRlZC5cbiAgICAgICAgICAgIC8vIEl0IGlzIHNhZmUgdG8gaWdub3JlIHRoZW0uXG4gICAgICAgICAgICBpZiAoIWlzSTE4blRleHQoZXhpc3RpbmdUTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXdUTm9kZUNyZWF0ZWRCZWZvcmUoZXhpc3RpbmdUTm9kZSwgbmV3VE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGdldEluc2VydEJlZm9yZUluZGV4KGV4aXN0aW5nVE5vZGUpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IHdhcyBjcmVhdGVkIGJlZm9yZSB1cyBpbiB0aW1lLCAoYW5kIGl0IGRvZXMgbm90IHlldCBoYXZlIGBpbnNlcnRCZWZvcmVJbmRleGApXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gYWRkIHRoZSBgaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICAgICAgICAgICAgICAgICAgICBzZXRJbnNlcnRCZWZvcmVJbmRleChleGlzdGluZ1ROb2RlLCBuZXdUTm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNJMThuVGV4dCh0Tm9kZSkge1xuICAgIHJldHVybiAhKHROb2RlLnR5cGUgJiA2NCAvKiBQbGFjZWhvbGRlciAqLyk7XG59XG5mdW5jdGlvbiBpc05ld1ROb2RlQ3JlYXRlZEJlZm9yZShleGlzdGluZ1ROb2RlLCBuZXdUTm9kZSkge1xuICAgIHJldHVybiBpc0kxOG5UZXh0KG5ld1ROb2RlKSB8fCBleGlzdGluZ1ROb2RlLmluZGV4ID4gbmV3VE5vZGUuaW5kZXg7XG59XG5mdW5jdGlvbiBnZXRJbnNlcnRCZWZvcmVJbmRleCh0Tm9kZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaW5kZXgpID8gaW5kZXhbMF0gOiBpbmRleDtcbn1cbmZ1bmN0aW9uIHNldEluc2VydEJlZm9yZUluZGV4KHROb2RlLCB2YWx1ZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICAgIC8vIEFycmF5IGlzIHN0b3JlZCBpZiB3ZSBoYXZlIHRvIGluc2VydCBjaGlsZCBub2Rlcy4gU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAgICAgICAgaW5kZXhbMF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldEkxOG5IYW5kbGluZyhnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuLCBwcm9jZXNzSTE4bkluc2VydEJlZm9yZSk7XG4gICAgICAgIHROb2RlLmluc2VydEJlZm9yZUluZGV4ID0gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmUgYFRJY3VgIGF0IGEgZ2l2ZW4gYGluZGV4YC5cbiAqXG4gKiBUaGUgYFRJY3VgIGNhbiBiZSBzdG9yZWQgZWl0aGVyIGRpcmVjdGx5IChpZiBpdCBpcyBuZXN0ZWQgSUNVKSBPUlxuICogaXQgaXMgc3RvcmVkIGluc2lkZSB0aG8gYFRJY3VDb250YWluZXJgIGlmIGl0IGlzIHRvcCBsZXZlbCBJQ1UuXG4gKlxuICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHRoZSB0b3AgbGV2ZWwgSUNVIG5lZWQgYSBgVE5vZGVgIHNvIHRoYXQgdGhleSBhcmUgcGFydCBvZiB0aGUgcmVuZGVyXG4gKiB0cmVlLCBidXQgbmVzdGVkIElDVSdzIGhhdmUgbm8gVE5vZGUsIGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lIGlmIHRoZSBuZXN0ZWQgSUNVIGlzXG4gKiBleHByZXNzZWQgKHBhcmVudCBJQ1UgbWF5IGhhdmUgc2VsZWN0ZWQgYSBjYXNlIHdoaWNoIGRvZXMgbm90IGNvbnRhaW4gaXQuKVxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggd2hlcmUgdGhlIHZhbHVlIHNob3VsZCBiZSByZWFkIGZyb20uXG4gKi9cbmZ1bmN0aW9uIGdldFRJY3UodFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKG5nRGV2TW9kZSAmJlxuICAgICAgICAhKHZhbHVlLmhhc093blByb3BlcnR5KCd0Vmlld3MnKSB8fCB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudENhc2VMVmlld0luZGV4JykpKSB7XG4gICAgICAgIHRocm93RXJyb3IoJ1dlIGV4cGVjdCB0byBnZXQgXFwnbnVsbFxcJ3xcXCdUSWN1XFwnfFxcJ1RJY3VDb250YWluZXJcXCcsIGJ1dCBnb3Q6ICcgKyB2YWx1ZSk7XG4gICAgfVxuICAgIC8vIEhlcmUgdGhlIGB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudENhc2VMVmlld0luZGV4JylgIGlzIGEgcG9seW1vcnBoaWMgcmVhZCBhcyBpdCBjYW4gYmVcbiAgICAvLyBlaXRoZXIgVEljdSBvciBUSWN1Q29udGFpbmVyTm9kZS4gVGhpcyBpcyBub3QgaWRlYWwsIGJ1dCB3ZSBzdGlsbCB0aGluayBpdCBpcyBPSyBiZWNhdXNlIGl0XG4gICAgLy8gd2lsbCBiZSBqdXN0IHR3byBjYXNlcyB3aGljaCBmaXRzIGludG8gdGhlIGJyb3dzZXIgaW5saW5lIGNhY2hlIChpbmxpbmUgY2FjaGUgY2FuIHRha2UgdXAgdG9cbiAgICAvLyA0KVxuICAgIGNvbnN0IHRJY3UgPSB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudENhc2VMVmlld0luZGV4JykgPyB2YWx1ZSA6XG4gICAgICAgIHZhbHVlLnZhbHVlO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUSWN1KHRJY3UpO1xuICAgIHJldHVybiB0SWN1O1xufVxuLyoqXG4gKiBTdG9yZSBgVEljdWAgYXQgYSBnaXZlIGBpbmRleGAuXG4gKlxuICogVGhlIGBUSWN1YCBjYW4gYmUgc3RvcmVkIGVpdGhlciBkaXJlY3RseSAoaWYgaXQgaXMgbmVzdGVkIElDVSkgT1JcbiAqIGl0IGlzIHN0b3JlZCBpbnNpZGUgdGhvIGBUSWN1Q29udGFpbmVyYCBpZiBpdCBpcyB0b3AgbGV2ZWwgSUNVLlxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB0aGUgdG9wIGxldmVsIElDVSBuZWVkIGEgYFROb2RlYCBzbyB0aGF0IHRoZXkgYXJlIHBhcnQgb2YgdGhlIHJlbmRlclxuICogdHJlZSwgYnV0IG5lc3RlZCBJQ1UncyBoYXZlIG5vIFROb2RlLCBiZWNhdXNlIHdlIGRvbid0IGtub3cgYWhlYWQgb2YgdGltZSBpZiB0aGUgbmVzdGVkIElDVSBpc1xuICogZXhwcmVzc2VkIChwYXJlbnQgSUNVIG1heSBoYXZlIHNlbGVjdGVkIGEgY2FzZSB3aGljaCBkb2VzIG5vdCBjb250YWluIGl0LilcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIGluZGV4IEluZGV4IHdoZXJlIHRoZSB2YWx1ZSBzaG91bGQgYmUgc3RvcmVkIGF0IGluIGBUdmlldy5kYXRhYFxuICogQHBhcmFtIHRJY3UgVGhlIFRJY3UgdG8gc3RvcmUuXG4gKi9cbmZ1bmN0aW9uIHNldFRJY3UodFZpZXcsIGluZGV4LCB0SWN1KSB7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodE5vZGUgPT09IG51bGwgfHwgdE5vZGUuaGFzT3duUHJvcGVydHkoJ3RWaWV3cycpLCB0cnVlLCAnV2UgZXhwZWN0IHRvIGdldCBcXCdudWxsXFwnfFxcJ1RJY3VDb250YWluZXJcXCcnKTtcbiAgICBpZiAodE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSB0SWN1O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMzIgLyogSWN1ICovKTtcbiAgICAgICAgdE5vZGUudmFsdWUgPSB0SWN1O1xuICAgIH1cbn1cbi8qKlxuICogU2V0IGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgdGFraW5nIHRoZSBgQXJyYXlgIGludG8gYWNjb3VudC5cbiAqXG4gKiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICovXG5mdW5jdGlvbiBzZXRUTm9kZUluc2VydEJlZm9yZUluZGV4KHROb2RlLCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZSh0Tm9kZSk7XG4gICAgbGV0IGluc2VydEJlZm9yZUluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKGluc2VydEJlZm9yZUluZGV4ID09PSBudWxsKSB7XG4gICAgICAgIHNldEkxOG5IYW5kbGluZyhnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuLCBwcm9jZXNzSTE4bkluc2VydEJlZm9yZSk7XG4gICAgICAgIGluc2VydEJlZm9yZUluZGV4ID0gdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXggPVxuICAgICAgICAgICAgW251bGwgLyogbWF5IGJlIHVwZGF0ZWQgdG8gbnVtYmVyIGxhdGVyICovLCBpbmRleF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NlcnRFcXVhbChBcnJheS5pc0FycmF5KGluc2VydEJlZm9yZUluZGV4KSwgdHJ1ZSwgJ0V4cGVjdGluZyBhcnJheSBoZXJlJyk7XG4gICAgICAgIGluc2VydEJlZm9yZUluZGV4LnB1c2goaW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGBUTm9kZS50eXBlPVROb2RlVHlwZS5QbGFjZWhvbGRlcmAgbm9kZS5cbiAqXG4gKiBTZWUgYFROb2RlVHlwZS5QbGFjZWhvbGRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVROb2RlUGxhY2Vob2xkZXIodFZpZXcsIHByZXZpb3VzVE5vZGVzLCBpbmRleCkge1xuICAgIGNvbnN0IHROb2RlID0gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpbmRleCwgNjQgLyogUGxhY2Vob2xkZXIgKi8sIG51bGwsIG51bGwpO1xuICAgIGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgocHJldmlvdXNUTm9kZXMsIHROb2RlKTtcbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIFJldHVybnMgY3VycmVudCBJQ1UgY2FzZS5cbiAqXG4gKiBJQ1UgY2FzZXMgYXJlIHN0b3JlZCBhcyBpbmRleCBpbnRvIHRoZSBgVEljdS5jYXNlc2AuXG4gKiBBdCB0aW1lcyBpdCBpcyBuZWNlc3NhcnkgdG8gY29tbXVuaWNhdGUgdGhhdCB0aGUgSUNVIGNhc2UganVzdCBzd2l0Y2hlZCBhbmQgdGhhdCBuZXh0IElDVSB1cGRhdGVcbiAqIHNob3VsZCB1cGRhdGUgYWxsIGJpbmRpbmdzIHJlZ2FyZGxlc3Mgb2YgdGhlIG1hc2suIEluIHN1Y2ggYSBjYXNlIHRoZSB3ZSBzdG9yZSBuZWdhdGl2ZSBudW1iZXJzXG4gKiBmb3IgY2FzZXMgd2hpY2ggaGF2ZSBqdXN0IGJlZW4gc3dpdGNoZWQuIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgbmVnYXRpdmUgZmxhZy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldykge1xuICAgIGNvbnN0IGN1cnJlbnRDYXNlID0gbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdO1xuICAgIHJldHVybiBjdXJyZW50Q2FzZSA9PT0gbnVsbCA/IGN1cnJlbnRDYXNlIDogKGN1cnJlbnRDYXNlIDwgMCA/IH5jdXJyZW50Q2FzZSA6IGN1cnJlbnRDYXNlKTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUobWVyZ2VkQ29kZSkge1xuICAgIHJldHVybiBtZXJnZWRDb2RlID4+PiAxNyAvKiBTSElGVF9QQVJFTlQgKi87XG59XG5mdW5jdGlvbiBnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlKG1lcmdlZENvZGUpIHtcbiAgICByZXR1cm4gKG1lcmdlZENvZGUgJiAxMzEwNzAgLyogTUFTS19SRUYgKi8pID4+PiAxIC8qIFNISUZUX1JFRiAqLztcbn1cbmZ1bmN0aW9uIGdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZShtZXJnZWRDb2RlKSB7XG4gICAgcmV0dXJuIG1lcmdlZENvZGUgJiAxIC8qIE1BU0tfSU5TVFJVQ1RJT04gKi87XG59XG5mdW5jdGlvbiBpY3VDcmVhdGVPcENvZGUob3BDb2RlLCBwYXJlbnRJZHgsIHJlZklkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwocGFyZW50SWR4LCAwLCAnTWlzc2luZyBwYXJlbnQgaW5kZXgnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4ocmVmSWR4LCAwLCAnTWlzc2luZyByZWYgaW5kZXgnKTtcbiAgICByZXR1cm4gb3BDb2RlIHwgcGFyZW50SWR4IDw8IDE3IC8qIFNISUZUX1BBUkVOVCAqLyB8IHJlZklkeCA8PCAxIC8qIFNISUZUX1JFRiAqLztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEtlZXAgdHJhY2sgb2Ygd2hpY2ggaW5wdXQgYmluZGluZ3MgaW4gYMm1ybVpMThuRXhwYCBoYXZlIGNoYW5nZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIHRvIGVmZmljaWVudGx5IHVwZGF0ZSBleHByZXNzaW9ucyBpbiBpMThuIG9ubHkgd2hlbiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCBoYXNcbiAqIGNoYW5nZWQuXG4gKlxuICogMSkgRWFjaCBiaXQgcmVwcmVzZW50cyB3aGljaCBvZiB0aGUgYMm1ybVpMThuRXhwYCBoYXMgY2hhbmdlZC5cbiAqIDIpIFRoZXJlIGFyZSAzMiBiaXRzIGFsbG93ZWQgaW4gSlMuXG4gKiAzKSBCaXQgMzIgaXMgc3BlY2lhbCBhcyBpdCBpcyBzaGFyZWQgZm9yIGFsbCBjaGFuZ2VzIHBhc3QgMzIuIChJbiBvdGhlciB3b3JkcyBpZiB5b3UgaGF2ZSBtb3JlXG4gKiB0aGFuIDMyIGDJtcm1aTE4bkV4cGAgdGhlbiBhbGwgY2hhbmdlcyBwYXN0IDMybmQgYMm1ybVpMThuRXhwYCB3aWxsIGJlIG1hcHBlZCB0byBzYW1lIGJpdC4gVGhpcyBtZWFuc1xuICogdGhhdCB3ZSBtYXkgZW5kIHVwIGNoYW5naW5nIG1vcmUgdGhhbiB3ZSBuZWVkIHRvLiBCdXQgaTE4biBleHByZXNzaW9ucyB3aXRoIDMyIGJpbmRpbmdzIGlzIHJhcmVcbiAqIHNvIGluIHByYWN0aWNlIGl0IHNob3VsZCBub3QgYmUgYW4gaXNzdWUuKVxuICovXG5sZXQgY2hhbmdlTWFzayA9IDBiMDtcbi8qKlxuICogS2VlcHMgdHJhY2sgb2Ygd2hpY2ggYml0IG5lZWRzIHRvIGJlIHVwZGF0ZWQgaW4gYGNoYW5nZU1hc2tgXG4gKlxuICogVGhpcyB2YWx1ZSBnZXRzIGluY3JlbWVudGVkIG9uIGV2ZXJ5IGNhbGwgdG8gYMm1ybVpMThuRXhwYFxuICovXG5sZXQgY2hhbmdlTWFza0NvdW50ZXIgPSAwO1xuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIHdoaWNoIGlucHV0IGJpbmRpbmdzIGluIGDJtcm1aTE4bkV4cGAgaGF2ZSBjaGFuZ2VkLlxuICpcbiAqIGBzZXRNYXNrQml0YCBnZXRzIGludm9rZWQgYnkgZWFjaCBjYWxsIHRvIGDJtcm1aTE4bkV4cGAuXG4gKlxuICogQHBhcmFtIGhhc0NoYW5nZSBkaWQgYMm1ybVpMThuRXhwYCBkZXRlY3QgYSBjaGFuZ2UuXG4gKi9cbmZ1bmN0aW9uIHNldE1hc2tCaXQoaGFzQ2hhbmdlKSB7XG4gICAgaWYgKGhhc0NoYW5nZSkge1xuICAgICAgICBjaGFuZ2VNYXNrID0gY2hhbmdlTWFzayB8ICgxIDw8IE1hdGgubWluKGNoYW5nZU1hc2tDb3VudGVyLCAzMSkpO1xuICAgIH1cbiAgICBjaGFuZ2VNYXNrQ291bnRlcisrO1xufVxuZnVuY3Rpb24gYXBwbHlJMThuKHRWaWV3LCBsVmlldywgaW5kZXgpIHtcbiAgICBpZiAoY2hhbmdlTWFza0NvdW50ZXIgPiAwKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBgdFZpZXcgc2hvdWxkIGJlIGRlZmluZWRgKTtcbiAgICAgICAgY29uc3QgdEkxOG4gPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICAgICAgLy8gV2hlbiBgaW5kZXhgIHBvaW50cyB0byBhbiBgybXJtWkxOG5BdHRyaWJ1dGVzYCB0aGVuIHdlIGhhdmUgYW4gYXJyYXkgb3RoZXJ3aXNlIGBUSTE4bmBcbiAgICAgICAgY29uc3QgdXBkYXRlT3BDb2RlcyA9IEFycmF5LmlzQXJyYXkodEkxOG4pID8gdEkxOG4gOiB0STE4bi51cGRhdGU7XG4gICAgICAgIGNvbnN0IGJpbmRpbmdzU3RhcnRJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpIC0gY2hhbmdlTWFza0NvdW50ZXIgLSAxO1xuICAgICAgICBhcHBseVVwZGF0ZU9wQ29kZXModFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGNoYW5nZU1hc2spO1xuICAgIH1cbiAgICAvLyBSZXNldCBjaGFuZ2VNYXNrICYgbWFza0JpdCB0byBkZWZhdWx0IGZvciB0aGUgbmV4dCB1cGRhdGUgY3ljbGVcbiAgICBjaGFuZ2VNYXNrID0gMGIwO1xuICAgIGNoYW5nZU1hc2tDb3VudGVyID0gMDtcbn1cbi8qKlxuICogQXBwbHkgYEkxOG5DcmVhdGVPcENvZGVzYCBvcC1jb2RlcyBhcyBzdG9yZWQgaW4gYFRJMThuLmNyZWF0ZWAuXG4gKlxuICogQ3JlYXRlcyB0ZXh0IChhbmQgY29tbWVudCkgbm9kZXMgd2hpY2ggYXJlIGludGVybmF0aW9uYWxpemVkLlxuICpcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGxWaWV3XG4gKiBAcGFyYW0gY3JlYXRlT3BDb2RlcyBTZXQgb2Ygb3AtY29kZXMgdG8gYXBwbHlcbiAqIEBwYXJhbSBwYXJlbnRSTm9kZSBQYXJlbnQgbm9kZSAoc28gdGhhdCBkaXJlY3QgY2hpbGRyZW4gY2FuIGJlIGFkZGVkIGVhZ2VybHkpIG9yIGBudWxsYCBpZiBpdCBpc1xuICogICAgIGEgcm9vdCBub2RlLlxuICogQHBhcmFtIGluc2VydEluRnJvbnRPZiBET00gbm9kZSB0aGF0IHNob3VsZCBiZSB1c2VkIGFzIGFuIGFuY2hvci5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDcmVhdGVPcENvZGVzKGxWaWV3LCBjcmVhdGVPcENvZGVzLCBwYXJlbnRSTm9kZSwgaW5zZXJ0SW5Gcm9udE9mKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcmVhdGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IGNyZWF0ZU9wQ29kZXNbaSsrXTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGNyZWF0ZU9wQ29kZXNbaV07XG4gICAgICAgIGNvbnN0IGlzQ29tbWVudCA9IChvcENvZGUgJiBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQpID09PSBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQ7XG4gICAgICAgIGNvbnN0IGFwcGVuZE5vdyA9IChvcENvZGUgJiBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZKSA9PT0gSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBvcENvZGUgPj4+IEkxOG5DcmVhdGVPcENvZGUuU0hJRlQ7XG4gICAgICAgIGxldCByTm9kZSA9IGxWaWV3W2luZGV4XTtcbiAgICAgICAgaWYgKHJOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNyZWF0ZSBuZXcgRE9NIG5vZGVzIGlmIHRoZXkgZG9uJ3QgYWxyZWFkeSBleGlzdDogSWYgSUNVIHN3aXRjaGVzIGNhc2UgYmFjayB0byBhXG4gICAgICAgICAgICAvLyBjYXNlIHdoaWNoIHdhcyBhbHJlYWR5IGluc3RhbnRpYXRlZCwgbm8gbmVlZCB0byBjcmVhdGUgbmV3IERPTSBub2Rlcy5cbiAgICAgICAgICAgIHJOb2RlID0gbFZpZXdbaW5kZXhdID1cbiAgICAgICAgICAgICAgICBpc0NvbW1lbnQgPyByZW5kZXJlci5jcmVhdGVDb21tZW50KHRleHQpIDogY3JlYXRlVGV4dE5vZGUocmVuZGVyZXIsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBlbmROb3cgJiYgcGFyZW50Uk5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50Uk5vZGUsIHJOb2RlLCBpbnNlcnRJbkZyb250T2YsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgYEkxOG5NdXRhdGVPcENvZGVzYCBPcENvZGVzLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSBtdXRhYmxlT3BDb2RlcyBNdXRhYmxlIE9wQ29kZXMgdG8gcHJvY2Vzc1xuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIGFuY2hvclJOb2RlIHBsYWNlIHdoZXJlIHRoZSBpMThuIG5vZGUgc2hvdWxkIGJlIGluc2VydGVkLlxuICovXG5mdW5jdGlvbiBhcHBseU11dGFibGVPcENvZGVzKHRWaWV3LCBtdXRhYmxlT3BDb2RlcywgbFZpZXcsIGFuY2hvclJOb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoYW5jaG9yUk5vZGUpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIC8vIGByb290SWR4YCByZXByZXNlbnRzIHRoZSBub2RlIGludG8gd2hpY2ggYWxsIGluc2VydHMgaGFwcGVuLlxuICAgIGxldCByb290SWR4ID0gbnVsbDtcbiAgICAvLyBgcm9vdFJOb2RlYCByZXByZXNlbnRzIHRoZSByZWFsIG5vZGUgaW50byB3aGljaCB3ZSBpbnNlcnQuIFRoaXMgY2FuIGJlIGRpZmZlcmVudCBmcm9tXG4gICAgLy8gYGxWaWV3W3Jvb3RJZHhdYCBpZiB3ZSBoYXZlIHByb2plY3Rpb24uXG4gICAgLy8gIC0gbnVsbCB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IChhcyBjYW4gYmUgdGhlIGNhc2UgaW4gd2hlbiB3ZSBhcmUgaW5zZXJ0aW5nIGludG8gYSByb290IG9mXG4gICAgLy8gICAgTFZpZXcgd2hpY2ggaGFzIG5vIHBhcmVudC4pXG4gICAgLy8gIC0gYFJFbGVtZW50YCBUaGUgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIHJvb3QgYWZ0ZXIgdGFraW5nIHByb2plY3Rpb24gaW50byBhY2NvdW50LlxuICAgIGxldCByb290Uk5vZGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhYmxlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBtdXRhYmxlT3BDb2Rlc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHROb2RlSW5kZXggPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgaWYgKGxWaWV3W3RleHROb2RlSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZVRleHROb2RlKys7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdGV4dE5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgbFZpZXdbdGV4dE5vZGVJbmRleF0gPSBjcmVhdGVUZXh0Tm9kZShyZW5kZXJlciwgb3BDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3BDb2RlID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSAmIDEgLyogTUFTS19JTlNUUlVDVElPTiAqLykge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBBcHBlbmRDaGlsZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SWR4ID0gZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdElkeCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IG9wZXJhdGlvbiBzaG91bGQgc2F2ZSB0aGUgYHJvb3RJZHhgIGJlY2F1c2UgdGhlIGZpcnN0IG9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbXVzdCBpbnNlcnQgaW50byB0aGUgcm9vdC4gKE9ubHkgc3Vic2VxdWVudCBvcGVyYXRpb25zIGNhbiBpbnNlcnQgaW50byBhIGR5bmFtaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RJZHggPSBwYXJlbnRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290Uk5vZGUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBhbmNob3JSTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGluc2VydEluRnJvbnRPZjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudFJOb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50SWR4ID09PSByb290SWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRJbkZyb250T2YgPSBhbmNob3JSTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFJOb2RlID0gcm9vdFJOb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0SW5Gcm9udE9mID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFJOb2RlID0gdW53cmFwUk5vZGUobFZpZXdbcGFyZW50SWR4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBSZWZhY3RvciB3aXRoIGBwcm9jZXNzSTE4blRleHRgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBgTFZpZXdgIHdlIGFyZSBhZGRpbmcgdG8gaXMgbm90IGF0dGFjaGVkIHRvIGEgcGFyZW50IGBMVmlld2AuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBzdWNoIGEgY2FzZSB0aGVyZSBpcyBubyBcInJvb3RcIiB3ZSBjYW4gYXR0YWNoIHRvLiBUaGlzIGlzIGZpbmUsIGFzIHdlIHN0aWxsIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgZWxlbWVudHMuIFdoZW4gdGhlIGBMVmlld2AgZ2V0cyBsYXRlciBhZGRlZCB0byBhIHBhcmVudCB0aGVzZSBcInJvb3RcIiBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHBpY2tlZCB1cCBhbmQgYWRkZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShwYXJlbnRSTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZJZHggPSBnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4ocmVmSWR4LCBIRUFERVJfT0ZGU0VULCAnTWlzc2luZyByZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB1bndyYXBSTm9kZWAgaXMgbm90IG5lZWRlZCBoZXJlIGFzIGFsbCBvZiB0aGVzZSBwb2ludCB0byBSTm9kZXMgYXMgcGFydCBvZiB0aGUgaTE4blxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggY2FuJ3QgaGF2ZSBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBsVmlld1tyZWZJZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgY2hpbGQsIGluc2VydEluRnJvbnRPZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdEljdSA9IGdldFRJY3UodFZpZXcsIHJlZklkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodEljdSAhPT0gbnVsbCAmJiB0eXBlb2YgdEljdSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBqdXN0IGFkZGVkIGEgY29tbWVudCBub2RlIHdoaWNoIGhhcyBJQ1UgdGhlbiB0aGF0IElDVSBtYXkgaGF2ZSBhbHJlYWR5IGJlZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXJlZCBhbmQgdGhlcmVmb3JlIHdlIG5lZWQgdG8gcmUtYWRkIGl0IGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFRJY3UodEljdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzZUluZGV4ID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseU11dGFibGVPcENvZGVzKHRWaWV3LCB0SWN1LmNyZWF0ZVtjYXNlSW5kZXhdLCBsVmlldywgbFZpZXdbdEljdS5hbmNob3JJZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnROb2RlSW5kZXggPSBvcENvZGUgPj4+IDEgLyogU0hJRlRfUkVGICovO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY29kZSBpcyB1c2VkIGZvciBJQ1UgZXhwcmVzc2lvbnMgb25seSwgc2luY2Ugd2UgZG9uJ3Qgc3VwcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzL2NvbXBvbmVudHMgaW4gSUNVcywgd2UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBpbnB1dHMgaGVyZVxuICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50QXR0cmlidXRlKHJlbmRlcmVyLCBnZXROYXRpdmVCeUluZGV4KGVsZW1lbnROb2RlSW5kZXgsIGxWaWV3KSwgbnVsbCwgbnVsbCwgYXR0ck5hbWUsIGF0dHJWYWx1ZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNzAwIC8qIElOVkFMSURfSTE4Tl9TVFJVQ1RVUkUgKi8sIGBVbmFibGUgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIG11dGF0ZSBvcGVyYXRpb24gZm9yIFwiJHtvcENvZGV9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChvcENvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIElDVV9NQVJLRVI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRWYWx1ZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnROb2RlSW5kZXggPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobFZpZXdbY29tbWVudE5vZGVJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHR5cGVvZiBjb21tZW50VmFsdWUsICdzdHJpbmcnLCBgRXhwZWN0ZWQgXCIke2NvbW1lbnRWYWx1ZX1cIiB0byBiZSBhIGNvbW1lbnQgbm9kZSB2YWx1ZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluRXhwYW5kb1JhbmdlKGxWaWV3LCBjb21tZW50Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRSTm9kZSA9IGxWaWV3W2NvbW1lbnROb2RlSW5kZXhdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb21tZW50Tm9kZShyZW5kZXJlciwgY29tbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FKG1pc2tvKTogQXR0YWNoaW5nIHBhdGNoIGRhdGEgaXMgb25seSBuZWVkZWQgZm9yIHRoZSByb290IChBbHNvIGFkZCB0ZXN0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb21tZW50Uk5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVMRU1FTlRfTUFSS0VSOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudE5vZGVJbmRleCA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsVmlld1tlbGVtZW50Tm9kZUluZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIHRhZ05hbWUsICdzdHJpbmcnLCBgRXhwZWN0ZWQgXCIke3RhZ05hbWV9XCIgdG8gYmUgYW4gZWxlbWVudCBub2RlIHRhZyBuYW1lYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlRWxlbWVudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGVsZW1lbnROb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFJOb2RlID0gbFZpZXdbZWxlbWVudE5vZGVJbmRleF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyLCB0YWdOYW1lLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FKG1pc2tvKTogQXR0YWNoaW5nIHBhdGNoIGRhdGEgaXMgb25seSBuZWVkZWQgZm9yIHRoZSByb290IChBbHNvIGFkZCB0ZXN0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShlbGVtZW50Uk5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYFVuYWJsZSB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgbXV0YXRlIG9wZXJhdGlvbiBmb3IgXCIke29wQ29kZX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBgSTE4blVwZGF0ZU9wQ29kZXNgIE9wQ29kZXNcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gdXBkYXRlT3BDb2RlcyBPcENvZGVzIHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBiaW5kaW5nc1N0YXJ0SW5kZXggTG9jYXRpb24gb2YgdGhlIGZpcnN0IGDJtcm1aTE4bkFwcGx5YFxuICogQHBhcmFtIGNoYW5nZU1hc2sgRWFjaCBiaXQgY29ycmVzcG9uZHMgdG8gYSBgybXJtWkxOG5FeHBgIChDb3VudGluZyBiYWNrd2FyZHMgZnJvbVxuICogICAgIGBiaW5kaW5nc1N0YXJ0SW5kZXhgKVxuICovXG5mdW5jdGlvbiBhcHBseVVwZGF0ZU9wQ29kZXModFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGNoYW5nZU1hc2spIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZGF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYml0IGNvZGUgdG8gY2hlY2sgaWYgd2Ugc2hvdWxkIGFwcGx5IHRoZSBuZXh0IHVwZGF0ZVxuICAgICAgICBjb25zdCBjaGVja0JpdCA9IHVwZGF0ZU9wQ29kZXNbaV07XG4gICAgICAgIC8vIE51bWJlciBvZiBvcENvZGVzIHRvIHNraXAgdW50aWwgbmV4dCBzZXQgb2YgdXBkYXRlIGNvZGVzXG4gICAgICAgIGNvbnN0IHNraXBDb2RlcyA9IHVwZGF0ZU9wQ29kZXNbKytpXTtcbiAgICAgICAgaWYgKGNoZWNrQml0ICYgY2hhbmdlTWFzaykge1xuICAgICAgICAgICAgLy8gVGhlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWQgc2luY2UgbGFzdCBjaGVja2VkXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8PSAoaSArIHNraXBDb2Rlcyk7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wQ29kZSA9IHVwZGF0ZU9wQ29kZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gb3BDb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3BDb2RlID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBvcENvZGUgcmVwcmVzZW50IGBpMThuRXhwYCB2YWx1ZXMgb2Zmc2V0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gcmVuZGVyU3RyaW5naWZ5KGxWaWV3W2JpbmRpbmdzU3RhcnRJbmRleCAtIG9wQ29kZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZUluZGV4ID0gKG9wQ29kZSA+Pj4gMiAvKiBTSElGVF9SRUYgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcENvZGUgJiAzIC8qIE1BU0tfT1BDT0RFICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gdXBkYXRlT3BDb2Rlc1srK2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW5pdGl6ZUZuID0gdXBkYXRlT3BDb2Rlc1srK2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0Tm9kZU9yVGFnTmFtZSA9IHRWaWV3LmRhdGFbbm9kZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGVPclRhZ05hbWUsICdFeHBlcnRpbmcgVE5vZGUgb3Igc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdE5vZGVPclRhZ05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRiB3ZSBkb24ndCBoYXZlIGEgYFROb2RlYCwgdGhlbiB3ZSBhcmUgYW4gZWxlbWVudCBpbiBJQ1UgKGFzIElDVSBjb250ZW50IGRvZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBoYXZlIFROb2RlKSwgaW4gd2hpY2ggY2FzZSB3ZSBrbm93IHRoYXQgdGhlcmUgYXJlIG5vIGRpcmVjdGl2ZXMsIGFuZCBoZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgdXNlIGF0dHJpYnV0ZSBzZXR0aW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWxlbWVudEF0dHJpYnV0ZShsVmlld1tSRU5ERVJFUl0sIGxWaWV3W25vZGVJbmRleF0sIG51bGwsIHROb2RlT3JUYWdOYW1lLCBwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplRm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlT3JUYWdOYW1lLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplRm4sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDAgLyogVGV4dCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgclRleHQgPSBsVmlld1tub2RlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByVGV4dCAhPT0gbnVsbCAmJiB1cGRhdGVUZXh0Tm9kZShsVmlld1tSRU5ERVJFUl0sIHJUZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBJY3VTd2l0Y2ggKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5SWN1U3dpdGNoQ2FzZSh0VmlldywgZ2V0VEljdSh0Vmlldywgbm9kZUluZGV4KSwgbFZpZXcsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIEljdVVwZGF0ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlJY3VVcGRhdGVDYXNlKHRWaWV3LCBnZXRUSWN1KHRWaWV3LCBub2RlSW5kZXgpLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBvcENvZGUgPSB1cGRhdGVPcENvZGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChvcENvZGUgPiAwICYmIChvcENvZGUgJiAzIC8qIE1BU0tfT1BDT0RFICovKSA9PT0gMyAvKiBJY3VVcGRhdGUgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHRoZSBgaWN1VXBkYXRlQ2FzZWAuIEl0IGNvdWxkIGJlIHRoYXQgdGhlIG1hc2sgZGlkIG5vdCBtYXRjaCwgYnV0XG4gICAgICAgICAgICAgICAgLy8gd2Ugc3RpbGwgbmVlZCB0byBleGVjdXRlIGBpY3VVcGRhdGVDYXNlYCBiZWNhdXNlIHRoZSBjYXNlIGhhcyBjaGFuZ2VkIHJlY2VudGx5IGR1ZSB0b1xuICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIGBpY3VTd2l0Y2hDYXNlYCBpbnN0cnVjdGlvbi4gKGBpY3VTd2l0Y2hDYXNlYCBhbmQgYGljdVVwZGF0ZUNhc2VgIGFsd2F5cyBjb21lIGluXG4gICAgICAgICAgICAgICAgLy8gcGFpcnMuKVxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVJbmRleCA9IChvcENvZGUgPj4+IDIgLyogU0hJRlRfUkVGICovKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0SWN1ID0gZ2V0VEljdSh0Vmlldywgbm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlJY3VVcGRhdGVDYXNlKHRWaWV3LCB0SWN1LCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSArPSBza2lwQ29kZXM7XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBPcENvZGVzIGFzc29jaWF0ZWQgd2l0aCB1cGRhdGluZyBhbiBleGlzdGluZyBJQ1UuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIHRJY3UgQ3VycmVudCBgVEljdWBcbiAqIEBwYXJhbSBiaW5kaW5nc1N0YXJ0SW5kZXggTG9jYXRpb24gb2YgdGhlIGZpcnN0IGDJtcm1aTE4bkFwcGx5YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBhcHBseUljdVVwZGF0ZUNhc2UodFZpZXcsIHRJY3UsIGJpbmRpbmdzU3RhcnRJbmRleCwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleCk7XG4gICAgbGV0IGFjdGl2ZUNhc2VJbmRleCA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XTtcbiAgICBpZiAoYWN0aXZlQ2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBtYXNrID0gY2hhbmdlTWFzaztcbiAgICAgICAgaWYgKGFjdGl2ZUNhc2VJbmRleCA8IDApIHtcbiAgICAgICAgICAgIC8vIENsZWFyIHRoZSBmbGFnLlxuICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVyIG1lYW5zIHRoYXQgdGhlIElDVSB3YXMgZnJlc2hseSBjcmVhdGVkIGFuZCB3ZSBuZWVkIHRvIGZvcmNlIHRoZSB1cGRhdGUuXG4gICAgICAgICAgICBhY3RpdmVDYXNlSW5kZXggPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF0gPSB+YWN0aXZlQ2FzZUluZGV4O1xuICAgICAgICAgICAgLy8gLTEgaXMgc2FtZSBhcyBhbGwgYml0cyBvbiwgd2hpY2ggc2ltdWxhdGVzIGNyZWF0aW9uIHNpbmNlIGl0IG1hcmtzIGFsbCBiaXRzIGRpcnR5XG4gICAgICAgICAgICBtYXNrID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlVcGRhdGVPcENvZGVzKHRWaWV3LCBsVmlldywgdEljdS51cGRhdGVbYWN0aXZlQ2FzZUluZGV4XSwgYmluZGluZ3NTdGFydEluZGV4LCBtYXNrKTtcbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IE9wQ29kZXMgYXNzb2NpYXRlZCB3aXRoIHN3aXRjaGluZyBhIGNhc2Ugb24gSUNVLlxuICpcbiAqIFRoaXMgaW52b2x2ZXMgdGVhcmluZyBkb3duIGV4aXN0aW5nIGNhc2UgYW5kIHRoYW4gYnVpbGRpbmcgdXAgYSBuZXcgY2FzZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gdEljdSBDdXJyZW50IGBUSWN1YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIHZhbHVlIFZhbHVlIG9mIHRoZSBjYXNlIHRvIHVwZGF0ZSB0by5cbiAqL1xuZnVuY3Rpb24gYXBwbHlJY3VTd2l0Y2hDYXNlKHRWaWV3LCB0SWN1LCBsVmlldywgdmFsdWUpIHtcbiAgICAvLyBSZWJ1aWxkIGEgbmV3IGNhc2UgZm9yIHRoaXMgSUNVXG4gICAgY29uc3QgY2FzZUluZGV4ID0gZ2V0Q2FzZUluZGV4KHRJY3UsIHZhbHVlKTtcbiAgICBsZXQgYWN0aXZlQ2FzZUluZGV4ID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgaWYgKGFjdGl2ZUNhc2VJbmRleCAhPT0gY2FzZUluZGV4KSB7XG4gICAgICAgIGFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSh0VmlldywgdEljdSwgbFZpZXcpO1xuICAgICAgICBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF0gPSBjYXNlSW5kZXggPT09IG51bGwgPyBudWxsIDogfmNhc2VJbmRleDtcbiAgICAgICAgaWYgKGNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBub2RlcyBmb3IgdGhlIG5ldyBjYXNlXG4gICAgICAgICAgICBjb25zdCBhbmNob3JSTm9kZSA9IGxWaWV3W3RJY3UuYW5jaG9ySWR4XTtcbiAgICAgICAgICAgIGlmIChhbmNob3JSTm9kZSkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKGFuY2hvclJOb2RlKTtcbiAgICAgICAgICAgICAgICBhcHBseU11dGFibGVPcENvZGVzKHRWaWV3LCB0SWN1LmNyZWF0ZVtjYXNlSW5kZXhdLCBsVmlldywgYW5jaG9yUk5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBPcENvZGVzIGFzc29jaWF0ZWQgd2l0aCB0ZWFyaW5nIElDVSBjYXNlLlxuICpcbiAqIFRoaXMgaW52b2x2ZXMgdGVhcmluZyBkb3duIGV4aXN0aW5nIGNhc2UgYW5kIHRoYW4gYnVpbGRpbmcgdXAgYSBuZXcgY2FzZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gdEljdSBDdXJyZW50IGBUSWN1YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBhcHBseUljdVN3aXRjaENhc2VSZW1vdmUodFZpZXcsIHRJY3UsIGxWaWV3KSB7XG4gICAgbGV0IGFjdGl2ZUNhc2VJbmRleCA9IGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpO1xuICAgIGlmIChhY3RpdmVDYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlQ29kZXMgPSB0SWN1LnJlbW92ZVthY3RpdmVDYXNlSW5kZXhdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZUNvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlT3JJY3VJbmRleCA9IHJlbW92ZUNvZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGVPckljdUluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIGBSTm9kZWBzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHJOb2RlID0gZ2V0TmF0aXZlQnlJbmRleChub2RlT3JJY3VJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIHJOb2RlICE9PSBudWxsICYmIG5hdGl2ZVJlbW92ZU5vZGUobFZpZXdbUkVOREVSRVJdLCByTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSBJQ1VzXG4gICAgICAgICAgICAgICAgYXBwbHlJY3VTd2l0Y2hDYXNlUmVtb3ZlKHRWaWV3LCBnZXRUSWN1KHRWaWV3LCB+bm9kZU9ySWN1SW5kZXgpLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGNhc2Ugb2YgYW4gSUNVIGV4cHJlc3Npb24gZGVwZW5kaW5nIG9uIHRoZSBtYWluIGJpbmRpbmcgdmFsdWVcbiAqXG4gKiBAcGFyYW0gaWN1RXhwcmVzc2lvblxuICogQHBhcmFtIGJpbmRpbmdWYWx1ZSBUaGUgdmFsdWUgb2YgdGhlIG1haW4gYmluZGluZyB1c2VkIGJ5IHRoaXMgSUNVIGV4cHJlc3Npb25cbiAqL1xuZnVuY3Rpb24gZ2V0Q2FzZUluZGV4KGljdUV4cHJlc3Npb24sIGJpbmRpbmdWYWx1ZSkge1xuICAgIGxldCBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZihiaW5kaW5nVmFsdWUpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgc3dpdGNoIChpY3VFeHByZXNzaW9uLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBwbHVyYWwgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZENhc2UgPSBnZXRQbHVyYWxDYXNlKGJpbmRpbmdWYWx1ZSwgZ2V0TG9jYWxlSWQoKSk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpY3VFeHByZXNzaW9uLmNhc2VzLmluZGV4T2YocmVzb2x2ZWRDYXNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xICYmIHJlc29sdmVkQ2FzZSAhPT0gJ290aGVyJykge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZignb3RoZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDAgLyogc2VsZWN0ICovOiB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpY3VFeHByZXNzaW9uLmNhc2VzLmluZGV4T2YoJ290aGVyJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4ID09PSAtMSA/IG51bGwgOiBpbmRleDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBsb2FkSWN1Q29udGFpbmVyVmlzaXRvcigpIHtcbiAgICBjb25zdCBfc3RhY2sgPSBbXTtcbiAgICBsZXQgX2luZGV4ID0gLTE7XG4gICAgbGV0IF9sVmlldztcbiAgICBsZXQgX3JlbW92ZXM7XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgc2V0IG9mIHJvb3Qgbm9kZXMgZnJvbSBgVEljdS5yZW1vdmVgLiBVc2VkIGJ5IGBUTm9kZVR5cGUuSUNVQ29udGFpbmVyYFxuICAgICAqIHRvIGRldGVybWluZSB3aGljaCByb290IGJlbG9uZyB0byB0aGUgSUNVLlxuICAgICAqXG4gICAgICogRXhhbXBsZSBvZiB1c2FnZS5cbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRvclN0YXJ0KHRJY3VDb250YWluZXJOb2RlLCBsVmlldyk7XG4gICAgICogbGV0IHJOb2RlOiBSTm9kZXxudWxsO1xuICAgICAqIHdoaWxlKHJOb2RlID0gbmV4dFJOb2RlKCkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHJOb2RlKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdEljdUNvbnRhaW5lck5vZGUgQ3VycmVudCBgVEljdUNvbnRhaW5lck5vZGVgXG4gICAgICogQHBhcmFtIGxWaWV3IGBMVmlld2Agd2hlcmUgdGhlIGBSTm9kZWBzIHNob3VsZCBiZSBsb29rZWQgdXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWN1Q29udGFpbmVySXRlcmF0b3JTdGFydCh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpIHtcbiAgICAgICAgX2xWaWV3ID0gbFZpZXc7XG4gICAgICAgIHdoaWxlIChfc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgX3N0YWNrLnBvcCgpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpO1xuICAgICAgICBlbnRlckljdSh0SWN1Q29udGFpbmVyTm9kZS52YWx1ZSwgbFZpZXcpO1xuICAgICAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRlckljdSh0SWN1LCBsVmlldykge1xuICAgICAgICBfaW5kZXggPSAwO1xuICAgICAgICBjb25zdCBjdXJyZW50Q2FzZSA9IGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpO1xuICAgICAgICBpZiAoY3VycmVudENhc2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKGN1cnJlbnRDYXNlLCAwLCB0SWN1LmNhc2VzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgX3JlbW92ZXMgPSB0SWN1LnJlbW92ZVtjdXJyZW50Q2FzZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfcmVtb3ZlcyA9IEVNUFRZX0FSUkFZO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dCgpIHtcbiAgICAgICAgaWYgKF9pbmRleCA8IF9yZW1vdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlT3BDb2RlID0gX3JlbW92ZXNbX2luZGV4KytdO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihyZW1vdmVPcENvZGUsICdFeHBlY3RpbmcgT3BDb2RlIG51bWJlcicpO1xuICAgICAgICAgICAgaWYgKHJlbW92ZU9wQ29kZSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCByTm9kZSA9IF9sVmlld1tyZW1vdmVPcENvZGVdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKHJOb2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gck5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfc3RhY2sucHVzaChfaW5kZXgsIF9yZW1vdmVzKTtcbiAgICAgICAgICAgICAgICAvLyBJQ1VzIGFyZSByZXByZXNlbnRlZCBieSBuZWdhdGl2ZSBpbmRpY2VzXG4gICAgICAgICAgICAgICAgY29uc3QgdEljdUluZGV4ID0gfnJlbW92ZU9wQ29kZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0SWN1ID0gX2xWaWV3W1RWSUVXXS5kYXRhW3RJY3VJbmRleF07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFRJY3UodEljdSk7XG4gICAgICAgICAgICAgICAgZW50ZXJJY3UodEljdSwgX2xWaWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3JlbW92ZXMgPSBfc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgX2luZGV4ID0gX3N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvck5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JTdGFydDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnZlcnRzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4bkNyZWF0ZU9wQ29kZXMuZGVidWdgIHByb3BlcnR5IGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuXG4gKiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGkxOG5DcmVhdGVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IGNyZWF0ZU9wQ29kZXMgPSBvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNyZWF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gY3JlYXRlT3BDb2Rlc1tpKytdO1xuICAgICAgICBjb25zdCB0ZXh0ID0gY3JlYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgY29uc3QgaXNDb21tZW50ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVCkgPT09IEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVDtcbiAgICAgICAgY29uc3QgYXBwZW5kTm93ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFkpID09PSBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9wQ29kZSA+Pj4gSTE4bkNyZWF0ZU9wQ29kZS5TSElGVDtcbiAgICAgICAgbGluZXMucHVzaChgbFZpZXdbJHtpbmRleH1dID0gZG9jdW1lbnQuJHtpc0NvbW1lbnQgPyAnY3JlYXRlQ29tbWVudCcgOiAnY3JlYXRlVGV4dCd9KCR7SlNPTi5zdHJpbmdpZnkodGV4dCl9KTtgKTtcbiAgICAgICAgaWYgKGFwcGVuZE5vdykge1xuICAgICAgICAgICAgbGluZXMucHVzaChgcGFyZW50LmFwcGVuZENoaWxkKGxWaWV3WyR7aW5kZXh9XSk7YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgSTE4blVwZGF0ZU9wQ29kZXNgIGFycmF5IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGUgYEkxOG5VcGRhdGVPcENvZGVzLmRlYnVnYCBwcm9wZXJ0eSBpZiBgbmdEZXZNb2RlYCBpcyBlbmFibGVkLlxuICogVGhpcyBmdW5jdGlvbiBwcm92aWRlcyBhIGh1bWFuIHJlYWRhYmxlIHZpZXcgb2YgdGhlIG9wY29kZXMuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZGVidWdnaW5nIHRoZVxuICogYXBwbGljYXRpb24gYXMgd2VsbCBhcyB3cml0aW5nIG1vcmUgcmVhZGFibGUgdGVzdHMuXG4gKlxuICogQHBhcmFtIHRoaXMgYEkxOG5VcGRhdGVPcENvZGVzYCBpZiBhdHRhY2hlZCBhcyBhIG1ldGhvZC5cbiAqIEBwYXJhbSBvcGNvZGVzIGBJMThuVXBkYXRlT3BDb2Rlc2AgaWYgaW52b2tlZCBhcyBhIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKG9wY29kZXMpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgT3BDb2RlUGFyc2VyKG9wY29kZXMgfHwgKEFycmF5LmlzQXJyYXkodGhpcykgPyB0aGlzIDogW10pKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmdW5jdGlvbiBjb25zdW1lT3BDb2RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IHZhbHVlID4+PiAyIC8qIFNISUZUX1JFRiAqLztcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gdmFsdWUgJiAzIC8qIE1BU0tfT1BDT0RFICovO1xuICAgICAgICBzd2l0Y2ggKG9wQ29kZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIFRleHQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtyZWZ9XSBhcyBUZXh0KS50ZXh0Q29udGVudCA9ICQkJGA7XG4gICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHBhcnNlci5jb25zdW1lU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FuaXRpemF0aW9uRm4gPSBwYXJzZXIuY29uc3VtZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzYW5pdGl6YXRpb25GbiA/IGAoJHtzYW5pdGl6YXRpb25Gbn0pKCQkJClgIDogJyQkJCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtyZWZ9XSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoJyR7YXR0ck5hbWV9JywgJHt2YWx1ZX0pYDtcbiAgICAgICAgICAgIGNhc2UgMiAvKiBJY3VTd2l0Y2ggKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBpY3VTd2l0Y2hDYXNlKCR7cmVmfSwgJCQkKWA7XG4gICAgICAgICAgICBjYXNlIDMgLyogSWN1VXBkYXRlICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgaWN1VXBkYXRlQ2FzZSgke3JlZn0pYDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgT3BDb2RlJyk7XG4gICAgfVxuICAgIHdoaWxlIChwYXJzZXIuaGFzTW9yZSgpKSB7XG4gICAgICAgIGxldCBtYXNrID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgbGV0IHNpemUgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICBjb25zdCBlbmQgPSBwYXJzZXIuaSArIHNpemU7XG4gICAgICAgIGNvbnN0IHN0YXRlbWVudHMgPSBbXTtcbiAgICAgICAgbGV0IHN0YXRlbWVudCA9ICcnO1xuICAgICAgICB3aGlsZSAocGFyc2VyLmkgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlci5jb25zdW1lTnVtYmVyT3JTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ICs9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBhcmUgcmVmIGluZGV4ZXNcbiAgICAgICAgICAgICAgICAvLyBIZXJlIGBpYCByZWZlcnMgdG8gY3VycmVudCBiaW5kaW5nIGluZGV4LiBJdCBpcyB0byBzaWduaWZ5IHRoYXQgdGhlIHZhbHVlIGlzIHJlbGF0aXZlLFxuICAgICAgICAgICAgICAgIC8vIHJhdGhlciB0aGFuIGFic29sdXRlLlxuICAgICAgICAgICAgICAgIHN0YXRlbWVudCArPSAnJHtsVmlld1tpJyArIHZhbHVlICsgJ119JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIG9wZXJhdGlvbnMuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BDb2RlVGV4dCA9IGNvbnN1bWVPcENvZGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudHMucHVzaChvcENvZGVUZXh0LnJlcGxhY2UoJyQkJCcsICdgJyArIHN0YXRlbWVudCArICdgJykgKyAnOycpO1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpbmVzLnB1c2goYGlmIChtYXNrICYgMGIke21hc2sudG9TdHJpbmcoMil9KSB7ICR7c3RhdGVtZW50cy5qb2luKCcgJyl9IH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGFycmF5IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGUgYEkxOG5DcmVhdGVPcENvZGVzLmRlYnVnYCBpZiBgbmdEZXZNb2RlYCBpcyBlbmFibGVkLiBUaGlzXG4gKiBmdW5jdGlvbiBwcm92aWRlcyBhIGh1bWFuIHJlYWRhYmxlIHZpZXcgb2YgdGhlIG9wY29kZXMuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZGVidWdnaW5nIHRoZVxuICogYXBwbGljYXRpb24gYXMgd2VsbCBhcyB3cml0aW5nIG1vcmUgcmVhZGFibGUgdGVzdHMuXG4gKlxuICogQHBhcmFtIHRoaXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBhdHRhY2hlZCBhcyBhIG1ldGhvZC5cbiAqIEBwYXJhbSBvcGNvZGVzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgaWYgaW52b2tlZCBhcyBhIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBpY3VDcmVhdGVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBPcENvZGVQYXJzZXIob3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSkpO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZ1bmN0aW9uIGNvbnN1bWVPcENvZGUob3BDb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKTtcbiAgICAgICAgY29uc3QgcmVmID0gZ2V0UmVmRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICBzd2l0Y2ggKGdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogQXBwZW5kQ2hpbGQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtwYXJlbnR9XSBhcyBFbGVtZW50KS5hcHBlbmRDaGlsZChsVmlld1ske2xhc3RSZWZ9XSlgO1xuICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAobFZpZXdbJHtyZWZ9XSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXCIke3BhcnNlci5jb25zdW1lU3RyaW5nKCl9XCIsIFwiJHtwYXJzZXIuY29uc3VtZVN0cmluZygpfVwiKWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIE9wQ29kZTogJyArIGdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpKTtcbiAgICB9XG4gICAgbGV0IGxhc3RSZWYgPSAtMTtcbiAgICB3aGlsZSAocGFyc2VyLmhhc01vcmUoKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBwYXJzZXIuY29uc3VtZU51bWJlclN0cmluZ09yTWFya2VyKCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gSUNVX01BUktFUikge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnNlci5jb25zdW1lU3RyaW5nKCk7XG4gICAgICAgICAgICBsYXN0UmVmID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7bGFzdFJlZn1dID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIiR7dGV4dH1cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gRUxFTUVOVF9NQVJLRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXJzZXIuY29uc3VtZVN0cmluZygpO1xuICAgICAgICAgICAgbGFzdFJlZiA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2xhc3RSZWZ9XSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCIke3RleHR9XCIpYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGFzdFJlZiA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2xhc3RSZWZ9XSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiJHt2YWx1ZX1cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gY29uc3VtZU9wQ29kZSh2YWx1ZSk7XG4gICAgICAgICAgICBsaW5lICYmIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcbiAqIENvbnZlcnRzIGBJMThuUmVtb3ZlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4blJlbW92ZU9wQ29kZXMuZGVidWdgIGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4blJlbW92ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5SZW1vdmVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGkxOG5SZW1vdmVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IHJlbW92ZUNvZGVzID0gb3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlT3JJY3VJbmRleCA9IHJlbW92ZUNvZGVzW2ldO1xuICAgICAgICBpZiAobm9kZU9ySWN1SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAvLyBQb3NpdGl2ZSBudW1iZXJzIGFyZSBgUk5vZGVgcy5cbiAgICAgICAgICAgIGxpbmVzLnB1c2goYHJlbW92ZShsVmlld1ske25vZGVPckljdUluZGV4fV0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSBJQ1VzXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGByZW1vdmVOZXN0ZWRJQ1UoJHt+bm9kZU9ySWN1SW5kZXh9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbmNsYXNzIE9wQ29kZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY29kZXMpIHtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5jb2RlcyA9IGNvZGVzO1xuICAgIH1cbiAgICBoYXNNb3JlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pIDwgdGhpcy5jb2Rlcy5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN1bWVOdW1iZXIoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBhc3NlcnROdW1iZXIodmFsdWUsICdleHBlY3RpbmcgbnVtYmVyIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN1bWVTdHJpbmcoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBhc3NlcnRTdHJpbmcodmFsdWUsICdleHBlY3Rpbmcgc3RyaW5nIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN1bWVGdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGluZyBmdW5jdGlvbiBpbiBPcENvZGUnKTtcbiAgICB9XG4gICAgY29uc3VtZU51bWJlck9yU3RyaW5nKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnROdW1iZXIodmFsdWUsICdleHBlY3RpbmcgbnVtYmVyIG9yIHN0cmluZyBpbiBPcENvZGUnKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdW1lTnVtYmVyU3RyaW5nT3JNYXJrZXIoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlID09IElDVV9NQVJLRVIgfHxcbiAgICAgICAgICAgIHZhbHVlID09IEVMRU1FTlRfTUFSS0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0TnVtYmVyKHZhbHVlLCAnZXhwZWN0aW5nIG51bWJlciwgc3RyaW5nLCBJQ1VfTUFSS0VSIG9yIEVMRU1FTlRfTUFSS0VSIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IEJJTkRJTkdfUkVHRVhQID0gL++/vShcXGQrKTo/XFxkKu+/vS9naTtcbmNvbnN0IElDVV9SRUdFWFAgPSAvKHtcXHMq77+9XFxkKzo/XFxkKu+/vVxccyosXFxzKlxcU3s2fVxccyosW1xcc1xcU10qfSkvZ2k7XG5jb25zdCBORVNURURfSUNVID0gL++/vShcXGQrKe+/vS87XG5jb25zdCBJQ1VfQkxPQ0tfUkVHRVhQID0gL15cXHMqKO+/vVxcZCs6P1xcZCrvv70pXFxzKixcXHMqKHNlbGVjdHxwbHVyYWwpXFxzKiwvO1xuY29uc3QgTUFSS0VSID0gYO+/vWA7XG5jb25zdCBTVUJURU1QTEFURV9SRUdFWFAgPSAv77+9XFwvP1xcKihcXGQrOlxcZCsp77+9L2dpO1xuY29uc3QgUEhfUkVHRVhQID0gL++/vShcXC8/WyMqXVxcZCspOj9cXGQq77+9L2dpO1xuLyoqXG4gKiBBbmd1bGFyIERhcnQgaW50cm9kdWNlZCAmbmdzcDsgYXMgYSBwbGFjZWhvbGRlciBmb3Igbm9uLXJlbW92YWJsZSBzcGFjZSwgc2VlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2RhcnQtbGFuZy9hbmd1bGFyL2Jsb2IvMGJiNjExMzg3ZDI5ZDY1YjVhZjdmOWQyNTE1YWI1NzFmZDNmYmVlNC9fdGVzdHMvdGVzdC9jb21waWxlci9wcmVzZXJ2ZV93aGl0ZXNwYWNlX3Rlc3QuZGFydCNMMjUtTDMyXG4gKiBJbiBBbmd1bGFyIERhcnQgJm5nc3A7IGlzIGNvbnZlcnRlZCB0byB0aGUgMHhFNTAwIFBVQSAoUHJpdmF0ZSBVc2UgQXJlYXMpIHVuaWNvZGUgY2hhcmFjdGVyXG4gKiBhbmQgbGF0ZXIgb24gcmVwbGFjZWQgYnkgYSBzcGFjZS4gV2UgYXJlIHJlLWltcGxlbWVudGluZyB0aGUgc2FtZSBpZGVhIGhlcmUsIHNpbmNlIHRyYW5zbGF0aW9uc1xuICogbWlnaHQgY29udGFpbiB0aGlzIHNwZWNpYWwgY2hhcmFjdGVyLlxuICovXG5jb25zdCBOR1NQX1VOSUNPREVfUkVHRVhQID0gL1xcdUU1MDAvZztcbmZ1bmN0aW9uIHJlcGxhY2VOZ3NwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoTkdTUF9VTklDT0RFX1JFR0VYUCwgJyAnKTtcbn1cbi8qKlxuICogQ3JlYXRlIGR5bmFtaWMgbm9kZXMgZnJvbSBpMThuIHRyYW5zbGF0aW9uIGJsb2NrLlxuICpcbiAqIC0gVGV4dCBub2RlcyBhcmUgY3JlYXRlZCBzeW5jaHJvbm91c2x5XG4gKiAtIFROb2RlcyBhcmUgbGlua2VkIGludG8gdHJlZSBsYXppbHlcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyZW50VE5vZGVJbmRleCBpbmRleCB0byB0aGUgcGFyZW50IFROb2RlIG9mIHRoaXMgaTE4biBibG9ja1xuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGDJtcm1aTE4blN0YXJ0YCBpbnN0cnVjdGlvbi5cbiAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gdHJhbnNsYXRlLlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggSW5kZXggaW50byB0aGUgc3ViIHRlbXBsYXRlIG9mIG1lc3NhZ2UgdHJhbnNsYXRpb24uIChpZSBpbiBjYXNlIG9mXG4gKiAgICAgYG5nSWZgKSAoLTEgb3RoZXJ3aXNlKVxuICovXG5mdW5jdGlvbiBpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsIHBhcmVudFROb2RlSW5kZXgsIGxWaWV3LCBpbmRleCwgbWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IGNyZWF0ZU9wQ29kZXMgPSBbXTtcbiAgICBjb25zdCB1cGRhdGVPcENvZGVzID0gW107XG4gICAgY29uc3QgZXhpc3RpbmdUTm9kZVN0YWNrID0gW1tdXTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKGNyZWF0ZU9wQ29kZXMsIGkxOG5DcmVhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGVPcENvZGVzLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgbWVzc2FnZSA9IGdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUobWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgY29uc3QgbXNnUGFydHMgPSByZXBsYWNlTmdzcChtZXNzYWdlKS5zcGxpdChQSF9SRUdFWFApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXNnUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbXNnUGFydHNbaV07XG4gICAgICAgIGlmICgoaSAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBFdmVuIGluZGV4ZXMgYXJlIHRleHQgKGluY2x1ZGluZyBiaW5kaW5ncyAmIElDVSBleHByZXNzaW9ucylcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVSh2YWx1ZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoKGogJiAxKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBgamAgaXMgb2RkIHRoZXJlZm9yZSBgcGFydGAgaXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKHRleHQsICdQYXJzZWQgSUNVIHBhcnQgc2hvdWxkIGJlIHN0cmluZycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzc1Byb2Nlc3NUZXh0Tm9kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlU3RhY2tbMF0sIGNyZWF0ZU9wQ29kZXMsIHVwZGF0ZU9wQ29kZXMsIGxWaWV3LCB0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYGpgIGlzIEV2ZW4gdGhlcmVmb3IgYHBhcnRgIGlzIGFuIGBJQ1VFeHByZXNzaW9uYFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VFeHByZXNzaW9uID0gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoYXQgSUNVIGV4cHJlc3Npb24gaGFzIHRoZSByaWdodCBzaGFwZS4gVHJhbnNsYXRpb25zIG1pZ2h0IGNvbnRhaW4gaW52YWxpZFxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3Rpb25zICh3aGlsZSBvcmlnaW5hbCBtZXNzYWdlcyB3ZXJlIGNvcnJlY3QpLCBzbyBJQ1UgcGFyc2luZyBhdCBydW50aW1lIG1heVxuICAgICAgICAgICAgICAgICAgICAvLyBub3Qgc3VjY2VlZCAodGh1cyBgaWN1RXhwcmVzc2lvbmAgcmVtYWlucyBhIHN0cmluZykuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHdlIGludGVudGlvbmFsbHkgcmV0YWluIHRoZSBlcnJvciBoZXJlIGJ5IG5vdCB1c2luZyBgbmdEZXZNb2RlYCwgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgY2FuIGNoYW5nZSBiYXNlZCBvbiB0aGUgbG9jYWxlIGFuZCB1c2VycyBhcmVuJ3QgZ3VhcmFudGVlZCB0byBoaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gaW52YWxpZCBzdHJpbmcgd2hpbGUgdGhleSdyZSBkZXZlbG9waW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGljdUV4cHJlc3Npb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBJQ1UgZXhwcmVzc2lvbiBpbiBcIiR7bWVzc2FnZX1cIiBtZXNzYWdlLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdUNvbnRhaW5lclROb2RlID0gY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZVN0YWNrWzBdLCBsVmlldywgY3JlYXRlT3BDb2RlcywgbmdEZXZNb2RlID8gYElDVSAke2luZGV4fToke2ljdUV4cHJlc3Npb24ubWFpbkJpbmRpbmd9YCA6ICcnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWN1Tm9kZUluZGV4ID0gaWN1Q29udGFpbmVyVE5vZGUuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGljdU5vZGVJbmRleCwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgaW4gYWJzb2x1dGUgTFZpZXcgb2Zmc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGljdVN0YXJ0KHRWaWV3LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50VE5vZGVJbmRleCwgaWN1RXhwcmVzc2lvbiwgaWN1Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBPZGQgaW5kZXhlcyBhcmUgcGxhY2Vob2xkZXJzIChlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcylcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdmFsdWUgaXMgc29tZXRoaW5nIGxpa2U6ICcvIzE6MicgKG9yaWdpbmFsbHkgY29taW5nIGZyb20gJ++/vS8jMToy77+9JylcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xvc2luZyA9IHZhbHVlLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qIFNMQVNIICovO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHZhbHVlLmNoYXJDb2RlQXQoaXNDbG9zaW5nID8gMSA6IDApO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE9uZU9mKHR5cGUsIDQyIC8qIFNUQVIgKi8sIDM1IC8qIEhBU0ggKi8pO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBIRUFERVJfT0ZGU0VUICsgTnVtYmVyLnBhcnNlSW50KHZhbHVlLnN1YnN0cmluZygoaXNDbG9zaW5nID8gMiA6IDEpKSk7XG4gICAgICAgICAgICBpZiAoaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUTm9kZVN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFROb2RlKGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlUGxhY2Vob2xkZXIodFZpZXcsIGV4aXN0aW5nVE5vZGVTdGFja1swXSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVE5vZGVTdGFjay51bnNoaWZ0KFtdKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRWaWV3LmRhdGFbaW5kZXhdID0ge1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZU9wQ29kZXMsXG4gICAgICAgIHVwZGF0ZTogdXBkYXRlT3BDb2RlcyxcbiAgICB9O1xufVxuLyoqXG4gKiBBbGxvY2F0ZSBzcGFjZSBpbiBpMThuIFJhbmdlIGFkZCBjcmVhdGUgT3BDb2RlIGluc3RydWN0aW9uIHRvIGNyZWF0ZSBhIHRleHQgb3IgY29tbWVudCBub2RlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AgbmVlZGVkIHRvIGFsbG9jYXRlIHNwYWNlIGluIGkxOG4gcmFuZ2UuXG4gKiBAcGFyYW0gcm9vdFROb2RlIFJvb3QgYFROb2RlYCBvZiB0aGUgaTE4biBibG9jay4gVGhpcyBub2RlIGRldGVybWluZXMgaWYgdGhlIG5ldyBUTm9kZSB3aWxsIGJlXG4gKiAgICAgYWRkZWQgYXMgcGFydCBvZiB0aGUgYGkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24gb3IgYXMgcGFydCBvZiB0aGUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqIEBwYXJhbSBleGlzdGluZ1ROb2RlcyBpbnRlcm5hbCBzdGF0ZSBmb3IgYGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YCBuZWVkZWQgdG8gYWxsb2NhdGUgc3BhY2UgaW4gaTE4biByYW5nZS5cbiAqIEBwYXJhbSBjcmVhdGVPcENvZGVzIEFycmF5IHN0b3JpbmcgYEkxOG5DcmVhdGVPcENvZGVzYCB3aGVyZSBuZXcgb3BDb2RlcyB3aWxsIGJlIGFkZGVkLlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBiZSBhZGRlZCB3aGVuIHRoZSBgVGV4dGAgb3IgYENvbW1lbnRgIG5vZGUgd2lsbCBiZSBjcmVhdGVkLlxuICogQHBhcmFtIGlzSUNVIHRydWUgaWYgYSBgQ29tbWVudGAgbm9kZSBmb3IgSUNVIChpbnN0ZWFkIG9mIGBUZXh0YCkgbm9kZSBzaG91bGQgYmUgY3JlYXRlZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZXMsIGxWaWV3LCBjcmVhdGVPcENvZGVzLCB0ZXh0LCBpc0lDVSkge1xuICAgIGNvbnN0IGkxOG5Ob2RlSWR4ID0gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgMSwgbnVsbCk7XG4gICAgbGV0IG9wQ29kZSA9IGkxOG5Ob2RlSWR4IDw8IEkxOG5DcmVhdGVPcENvZGUuU0hJRlQ7XG4gICAgbGV0IHBhcmVudFROb2RlID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgaWYgKHJvb3RUTm9kZSA9PT0gcGFyZW50VE5vZGUpIHtcbiAgICAgICAgLy8gRklYTUUobWlza28pOiBBIG51bGwgYHBhcmVudFROb2RlYCBzaG91bGQgcmVwcmVzZW50IHdoZW4gd2UgZmFsbCBvZiB0aGUgYExWaWV3YCBib3VuZGFyeS5cbiAgICAgICAgLy8gKHRoZXJlIGlzIG5vIHBhcmVudCksIGJ1dCBpbiBzb21lIGNpcmN1bXN0YW5jZXMgKGJlY2F1c2Ugd2UgYXJlIGluY29uc2lzdGVudCBhYm91dCBob3cgd2Ugc2V0XG4gICAgICAgIC8vIGBwcmV2aW91c09yUGFyZW50VE5vZGVgKSBpdCBjb3VsZCBwb2ludCB0byBgcm9vdFROb2RlYCBTbyB0aGlzIGlzIGEgd29yayBhcm91bmQuXG4gICAgICAgIHBhcmVudFROb2RlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgdGhhdCBtZWFucyB0aGF0IHdlIGNhbiBlYWdlcmx5IGFkZCBub2Rlcy5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBhcmVudCB0aGFuIHRoZXNlIG5vZGVzIGNhbid0IGJlIGFkZGVkIG5vdyAoYXMgdGhlIHBhcmVudCBoYXMgbm90IGJlZW4gY3JlYXRlZFxuICAgICAgICAvLyB5ZXQpIGFuZCBpbnN0ZWFkIHRoZSBgcGFyZW50VE5vZGVgIGlzIHJlc3BvbnNpYmxlIGZvciBhZGRpbmcgaXQuIFNlZVxuICAgICAgICAvLyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgXG4gICAgICAgIG9wQ29kZSB8PSBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZO1xuICAgIH1cbiAgICBpZiAoaXNJQ1UpIHtcbiAgICAgICAgb3BDb2RlIHw9IEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVDtcbiAgICAgICAgZW5zdXJlSWN1Q29udGFpbmVyVmlzaXRvckxvYWRlZChsb2FkSWN1Q29udGFpbmVyVmlzaXRvcik7XG4gICAgfVxuICAgIGNyZWF0ZU9wQ29kZXMucHVzaChvcENvZGUsIHRleHQgPT09IG51bGwgPyAnJyA6IHRleHQpO1xuICAgIC8vIFdlIHN0b3JlIGB7ez99fWAgc28gdGhhdCB3aGVuIGxvb2tpbmcgYXQgZGVidWcgYFROb2RlVHlwZS50ZW1wbGF0ZWAgd2UgY2FuIHNlZSB3aGVyZSB0aGVcbiAgICAvLyBiaW5kaW5ncyBhcmUuXG4gICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGkxOG5Ob2RlSWR4LCBpc0lDVSA/IDMyIC8qIEljdSAqLyA6IDEgLyogVGV4dCAqLywgdGV4dCA9PT0gbnVsbCA/IChuZ0Rldk1vZGUgPyAne3s/fX0nIDogJycpIDogdGV4dCwgbnVsbCk7XG4gICAgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleChleGlzdGluZ1ROb2RlcywgdE5vZGUpO1xuICAgIGNvbnN0IHROb2RlSWR4ID0gdE5vZGUuaW5kZXg7XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCBmYWxzZSAvKiBUZXh0IG5vZGVzIGFyZSBzZWxmIGNsb3NpbmcgKi8pO1xuICAgIGlmIChwYXJlbnRUTm9kZSAhPT0gbnVsbCAmJiByb290VE5vZGUgIT09IHBhcmVudFROb2RlKSB7XG4gICAgICAgIC8vIFdlIGFyZSBhIGNoaWxkIG9mIGRlZXBlciBub2RlIChyYXRoZXIgdGhhbiBhIGRpcmVjdCBjaGlsZCBvZiBgaTE4blN0YXJ0YCBpbnN0cnVjdGlvbi4pXG4gICAgICAgIC8vIFdlIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGFkZCBvdXJzZWx2ZXMgdG8gdGhlIHBhcmVudC5cbiAgICAgICAgc2V0VE5vZGVJbnNlcnRCZWZvcmVJbmRleChwYXJlbnRUTm9kZSwgdE5vZGVJZHgpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIFByb2Nlc3NlcyB0ZXh0IG5vZGUgaW4gaTE4biBibG9jay5cbiAqXG4gKiBUZXh0IG5vZGVzIGNhbiBoYXZlOlxuICogLSBDcmVhdGUgaW5zdHJ1Y3Rpb24gaW4gYGNyZWF0ZU9wQ29kZXNgIGZvciBjcmVhdGluZyB0aGUgdGV4dCBub2RlLlxuICogLSBBbGxvY2F0ZSBzcGVjIGZvciB0ZXh0IG5vZGUgaW4gaTE4biByYW5nZSBvZiBgTFZpZXdgXG4gKiAtIElmIGNvbnRhaW5zIGJpbmRpbmc6XG4gKiAgICAtIGJpbmRpbmdzID0+IGFsbG9jYXRlIHNwYWNlIGluIGkxOG4gcmFuZ2Ugb2YgYExWaWV3YCB0byBzdG9yZSB0aGUgYmluZGluZyB2YWx1ZS5cbiAqICAgIC0gcG9wdWxhdGUgYHVwZGF0ZU9wQ29kZXNgIHdpdGggdXBkYXRlIGluc3RydWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gcm9vdFROb2RlIFJvb3QgYFROb2RlYCBvZiB0aGUgaTE4biBibG9jay4gVGhpcyBub2RlIGRldGVybWluZXMgaWYgdGhlIG5ldyBUTm9kZSB3aWxsXG4gKiAgICAgYmUgYWRkZWQgYXMgcGFydCBvZiB0aGUgYGkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24gb3IgYXMgcGFydCBvZiB0aGVcbiAqICAgICBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGV4aXN0aW5nVE5vZGVzIGludGVybmFsIHN0YXRlIGZvciBgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gY3JlYXRlT3BDb2RlcyBMb2NhdGlvbiB3aGVyZSB0aGUgY3JlYXRpb24gT3BDb2RlcyB3aWxsIGJlIHN0b3JlZC5cbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSB0ZXh0IFRoZSB0cmFuc2xhdGVkIHRleHQgKHdoaWNoIG1heSBjb250YWluIGJpbmRpbmcpXG4gKi9cbmZ1bmN0aW9uIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzc1Byb2Nlc3NUZXh0Tm9kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlcywgY3JlYXRlT3BDb2RlcywgdXBkYXRlT3BDb2RlcywgbFZpZXcsIHRleHQpIHtcbiAgICBjb25zdCBoYXNCaW5kaW5nID0gdGV4dC5tYXRjaChCSU5ESU5HX1JFR0VYUCk7XG4gICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlcywgbFZpZXcsIGNyZWF0ZU9wQ29kZXMsIGhhc0JpbmRpbmcgPyBudWxsIDogdGV4dCwgZmFsc2UpO1xuICAgIGlmIChoYXNCaW5kaW5nKSB7XG4gICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2RlcywgdGV4dCwgdE5vZGUuaW5kZXgsIG51bGwsIDAsIG51bGwpO1xuICAgIH1cbn1cbi8qKlxuICogU2VlIGBpMThuQXR0cmlidXRlc2AgYWJvdmUuXG4gKi9cbmZ1bmN0aW9uIGkxOG5BdHRyaWJ1dGVzRmlyc3RQYXNzKHRWaWV3LCBpbmRleCwgdmFsdWVzKSB7XG4gICAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3QgcHJldmlvdXNFbGVtZW50SW5kZXggPSBwcmV2aW91c0VsZW1lbnQuaW5kZXg7XG4gICAgY29uc3QgdXBkYXRlT3BDb2RlcyA9IFtdO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIodXBkYXRlT3BDb2RlcywgaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgfVxuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MgJiYgdFZpZXcuZGF0YVtpbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHZhbHVlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhdHRyaWJ1dGUgdmFsdWUgY29udGFpbnMgYW4gSUNVIGFuZCB0aHJvdyBhbiBlcnJvciBpZiB0aGF0J3MgdGhlIGNhc2UuXG4gICAgICAgICAgICAgICAgLy8gSUNVcyBpbiBlbGVtZW50IGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogd2UgaW50ZW50aW9uYWxseSByZXRhaW4gdGhlIGVycm9yIGhlcmUgYnkgbm90IHVzaW5nIGBuZ0Rldk1vZGVgLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIGB2YWx1ZWAgY2FuIGNoYW5nZSBiYXNlZCBvbiB0aGUgbG9jYWxlIGFuZCB1c2VycyBhcmVuJ3QgZ3VhcmFudGVlZCB0byBoaXRcbiAgICAgICAgICAgICAgICAvLyBhbiBpbnZhbGlkIHN0cmluZyB3aGlsZSB0aGV5J3JlIGRldmVsb3BpbmcuXG4gICAgICAgICAgICAgICAgaWYgKElDVV9SRUdFWFAudGVzdChtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElDVSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhdHRyaWJ1dGVzLiBNZXNzYWdlOiBcIiR7bWVzc2FnZX1cIi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaTE4biBhdHRyaWJ1dGVzIHRoYXQgaGl0IHRoaXMgY29kZSBwYXRoIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgYmluZGluZ3MsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcGlsZXIgdHJlYXRzIHN0YXRpYyBpMThuIGF0dHJpYnV0ZXMgYXMgcmVndWxhciBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBtYXkgbm90IGJlIHRoZSBmaXJzdCBpMThuIGF0dHJpYnV0ZSBvbiB0aGlzIGVsZW1lbnQgd2UgbmVlZCB0byBwYXNzIGluIGhvd1xuICAgICAgICAgICAgICAgIC8vIG1hbnkgcHJldmlvdXMgYmluZGluZ3MgdGhlcmUgaGF2ZSBhbHJlYWR5IGJlZW4uXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGVPcENvZGVzLCBtZXNzYWdlLCBwcmV2aW91c0VsZW1lbnRJbmRleCwgYXR0ck5hbWUsIGNvdW50QmluZGluZ3ModXBkYXRlT3BDb2RlcyksIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRWaWV3LmRhdGFbaW5kZXhdID0gdXBkYXRlT3BDb2RlcztcbiAgICB9XG59XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBPcENvZGVzIHRvIHVwZGF0ZSB0aGUgYmluZGluZ3Mgb2YgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHVwZGF0ZU9wQ29kZXMgUGxhY2Ugd2hlcmUgdGhlIHVwZGF0ZSBvcGNvZGVzIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdzLlxuICogQHBhcmFtIGRlc3RpbmF0aW9uTm9kZSBJbmRleCBvZiB0aGUgZGVzdGluYXRpb24gbm9kZSB3aGljaCB3aWxsIHJlY2VpdmUgdGhlIGJpbmRpbmcuXG4gKiBAcGFyYW0gYXR0ck5hbWUgTmFtZSBvZiB0aGUgYXR0cmlidXRlLCBpZiB0aGUgc3RyaW5nIGJlbG9uZ3MgdG8gYW4gYXR0cmlidXRlLlxuICogQHBhcmFtIHNhbml0aXplRm4gU2FuaXRpemF0aW9uIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHN0cmluZyBhZnRlciB1cGRhdGUsIGlmIG5lY2Vzc2FyeS5cbiAqIEBwYXJhbSBiaW5kaW5nU3RhcnQgVGhlIGxWaWV3IGluZGV4IG9mIHRoZSBuZXh0IGV4cHJlc3Npb24gdGhhdCBjYW4gYmUgYm91bmQgdmlhIGFuIG9wQ29kZS5cbiAqIEByZXR1cm5zIFRoZSBtYXNrIHZhbHVlIGZvciB0aGVzZSBiaW5kaW5nc1xuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZU9wQ29kZXMsIHN0ciwgZGVzdGluYXRpb25Ob2RlLCBhdHRyTmFtZSwgYmluZGluZ1N0YXJ0LCBzYW5pdGl6ZUZuKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChkZXN0aW5hdGlvbk5vZGUsIEhFQURFUl9PRkZTRVQsICdJbmRleCBtdXN0IGJlIGluIGFic29sdXRlIExWaWV3IG9mZnNldCcpO1xuICAgIGNvbnN0IG1hc2tJbmRleCA9IHVwZGF0ZU9wQ29kZXMubGVuZ3RoOyAvLyBMb2NhdGlvbiBvZiBtYXNrXG4gICAgY29uc3Qgc2l6ZUluZGV4ID0gbWFza0luZGV4ICsgMTsgLy8gbG9jYXRpb24gb2Ygc2l6ZSBmb3Igc2tpcHBpbmdcbiAgICB1cGRhdGVPcENvZGVzLnB1c2gobnVsbCwgbnVsbCk7IC8vIEFsbG9jIHNwYWNlIGZvciBtYXNrIGFuZCBzaXplXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IG1hc2tJbmRleCArIDI7IC8vIGxvY2F0aW9uIG9mIGZpcnN0IGFsbG9jYXRpb24uXG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGVPcENvZGVzLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dFBhcnRzID0gc3RyLnNwbGl0KEJJTkRJTkdfUkVHRVhQKTtcbiAgICBsZXQgbWFzayA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXh0UGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdGV4dFZhbHVlID0gdGV4dFBhcnRzW2pdO1xuICAgICAgICBpZiAoaiAmIDEpIHtcbiAgICAgICAgICAgIC8vIE9kZCBpbmRleGVzIGFyZSBiaW5kaW5nc1xuICAgICAgICAgICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1N0YXJ0ICsgcGFyc2VJbnQodGV4dFZhbHVlLCAxMCk7XG4gICAgICAgICAgICB1cGRhdGVPcENvZGVzLnB1c2goLTEgLSBiaW5kaW5nSW5kZXgpO1xuICAgICAgICAgICAgbWFzayA9IG1hc2sgfCB0b01hc2tCaXQoYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0VmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAvLyBFdmVuIGluZGV4ZXMgYXJlIHRleHRcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMucHVzaCh0ZXh0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZU9wQ29kZXMucHVzaChkZXN0aW5hdGlvbk5vZGUgPDwgMiAvKiBTSElGVF9SRUYgKi8gfFxuICAgICAgICAoYXR0ck5hbWUgPyAxIC8qIEF0dHIgKi8gOiAwIC8qIFRleHQgKi8pKTtcbiAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKGF0dHJOYW1lLCBzYW5pdGl6ZUZuKTtcbiAgICB9XG4gICAgdXBkYXRlT3BDb2Rlc1ttYXNrSW5kZXhdID0gbWFzaztcbiAgICB1cGRhdGVPcENvZGVzW3NpemVJbmRleF0gPSB1cGRhdGVPcENvZGVzLmxlbmd0aCAtIHN0YXJ0SW5kZXg7XG4gICAgcmV0dXJuIG1hc2s7XG59XG4vKipcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgYmluZGluZ3MgaW4gdGhlIGdpdmVuIGBvcENvZGVzYC5cbiAqXG4gKiBJdCBjb3VsZCBiZSBwb3NzaWJsZSB0byBzcGVlZCB0aGlzIHVwLCBieSBwYXNzaW5nIHRoZSBudW1iZXIgb2YgYmluZGluZ3MgZm91bmQgYmFjayBmcm9tXG4gKiBgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcygpYCB0byBgaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3MoKWAgYnV0IHRoaXMgd291bGQgdGhlbiByZXF1aXJlIG1vcmVcbiAqIGNvbXBsZXhpdHkgaW4gdGhlIGNvZGUgYW5kL29yIHRyYW5zaWVudCBvYmplY3RzIHRvIGJlIGNyZWF0ZWQuXG4gKlxuICogU2luY2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlIHdoZW4gdGhlIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZCwgaXMgdHJpdmlhbCBpbiB0aGVcbiAqIGZpcnN0IGluc3RhbmNlIChzaW5jZSBgb3BDb2Rlc2Agd2lsbCBiZSBhbiBlbXB0eSBhcnJheSksIGFuZCBpdCBpcyBub3QgY29tbW9uIGZvciBlbGVtZW50cyB0b1xuICogY29udGFpbiBtdWx0aXBsZSBpMThuIGJvdW5kIGF0dHJpYnV0ZXMsIGl0IHNlZW1zIGxpa2UgdGhpcyBpcyBhIHJlYXNvbmFibGUgY29tcHJvbWlzZS5cbiAqL1xuZnVuY3Rpb24gY291bnRCaW5kaW5ncyhvcENvZGVzKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gb3BDb2Rlc1tpXTtcbiAgICAgICAgLy8gQmluZGluZ3MgYXJlIG5lZ2F0aXZlIG51bWJlcnMuXG4gICAgICAgIGlmICh0eXBlb2Ygb3BDb2RlID09PSAnbnVtYmVyJyAmJiBvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbn1cbi8qKlxuICogQ29udmVydCBiaW5kaW5nIGluZGV4IHRvIG1hc2sgYml0LlxuICpcbiAqIEVhY2ggaW5kZXggcmVwcmVzZW50cyBhIHNpbmdsZSBiaXQgb24gdGhlIGJpdC1tYXNrLiBCZWNhdXNlIGJpdC1tYXNrIG9ubHkgaGFzIDMyIGJpdHMsIHdlIG1ha2VcbiAqIHRoZSAzMm5kIGJpdCBzaGFyZSBhbGwgbWFza3MgZm9yIGFsbCBiaW5kaW5ncyBoaWdoZXIgdGhhbiAzMi4gU2luY2UgaXQgaXMgZXh0cmVtZWx5IHJhcmUgdG9cbiAqIGhhdmUgbW9yZSB0aGFuIDMyIGJpbmRpbmdzIHRoaXMgd2lsbCBiZSBoaXQgdmVyeSByYXJlbHkuIFRoZSBkb3duc2lkZSBvZiBoaXR0aW5nIHRoaXMgY29ybmVyXG4gKiBjYXNlIGlzIHRoYXQgd2Ugd2lsbCBleGVjdXRlIGJpbmRpbmcgY29kZSBtb3JlIG9mdGVuIHRoYW4gbmVjZXNzYXJ5LiAocGVuYWx0eSBvZiBwZXJmb3JtYW5jZSlcbiAqL1xuZnVuY3Rpb24gdG9NYXNrQml0KGJpbmRpbmdJbmRleCkge1xuICAgIHJldHVybiAxIDw8IE1hdGgubWluKGJpbmRpbmdJbmRleCwgMzEpO1xufVxuZnVuY3Rpb24gaXNSb290VGVtcGxhdGVNZXNzYWdlKHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICByZXR1cm4gc3ViVGVtcGxhdGVJbmRleCA9PT0gLTE7XG59XG4vKipcbiAqIFJlbW92ZXMgZXZlcnl0aGluZyBpbnNpZGUgdGhlIHN1Yi10ZW1wbGF0ZXMgb2YgYSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiByZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24obWVzc2FnZSkge1xuICAgIGxldCBtYXRjaDtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgaW5UZW1wbGF0ZSA9IGZhbHNlO1xuICAgIGxldCB0YWdNYXRjaGVkO1xuICAgIHdoaWxlICgobWF0Y2ggPSBTVUJURU1QTEFURV9SRUdFWFAuZXhlYyhtZXNzYWdlKSkgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFpblRlbXBsYXRlKSB7XG4gICAgICAgICAgICByZXMgKz0gbWVzc2FnZS5zdWJzdHJpbmcoaW5kZXgsIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRhZ01hdGNoZWQgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIGluVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzBdID09PSBgJHtNQVJLRVJ9Lyoke3RhZ01hdGNoZWR9JHtNQVJLRVJ9YCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICAgICAgaW5UZW1wbGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChpblRlbXBsYXRlLCBmYWxzZSwgYFRhZyBtaXNtYXRjaDogdW5hYmxlIHRvIGZpbmQgdGhlIGVuZCBvZiB0aGUgc3ViLXRlbXBsYXRlIGluIHRoZSB0cmFuc2xhdGlvbiBcIiR7bWVzc2FnZX1cImApO1xuICAgIHJlcyArPSBtZXNzYWdlLnN1YnN0cihpbmRleCk7XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKlxuICogRXh0cmFjdHMgYSBwYXJ0IG9mIGEgbWVzc2FnZSBhbmQgcmVtb3ZlcyB0aGUgcmVzdC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGZvciBleHRyYWN0aW5nIGEgcGFydCBvZiB0aGUgbWVzc2FnZSBhc3NvY2lhdGVkIHdpdGggYSB0ZW1wbGF0ZS4gQVxuICogdHJhbnNsYXRlZCBtZXNzYWdlIGNhbiBzcGFuIG11bHRpcGxlIHRlbXBsYXRlcy5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiA8ZGl2IGkxOG4+VHJhbnNsYXRlIDxzcGFuICpuZ0lmPm1lPC9zcGFuPiE8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGNyb3BcbiAqIEBwYXJhbSBzdWJUZW1wbGF0ZUluZGV4IEluZGV4IG9mIHRoZSBzdWItdGVtcGxhdGUgdG8gZXh0cmFjdC4gSWYgdW5kZWZpbmVkIGl0IHJldHVybnMgdGhlXG4gKiBleHRlcm5hbCB0ZW1wbGF0ZSBhbmQgcmVtb3ZlcyBhbGwgc3ViLXRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZShtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgaWYgKGlzUm9vdFRlbXBsYXRlTWVzc2FnZShzdWJUZW1wbGF0ZUluZGV4KSkge1xuICAgICAgICAvLyBXZSB3YW50IHRoZSByb290IHRlbXBsYXRlIG1lc3NhZ2UsIGlnbm9yZSBhbGwgc3ViLXRlbXBsYXRlc1xuICAgICAgICByZXR1cm4gcmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2Ugd2FudCBhIHNwZWNpZmljIHN1Yi10ZW1wbGF0ZVxuICAgICAgICBjb25zdCBzdGFydCA9IG1lc3NhZ2UuaW5kZXhPZihgOiR7c3ViVGVtcGxhdGVJbmRleH0ke01BUktFUn1gKSArIDIgKyBzdWJUZW1wbGF0ZUluZGV4LnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgICAgICBjb25zdCBlbmQgPSBtZXNzYWdlLnNlYXJjaChuZXcgUmVnRXhwKGAke01BUktFUn1cXFxcL1xcXFwqXFxcXGQrOiR7c3ViVGVtcGxhdGVJbmRleH0ke01BUktFUn1gKSk7XG4gICAgICAgIHJldHVybiByZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24obWVzc2FnZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCkpO1xuICAgIH1cbn1cbi8qKlxuICogR2VuZXJhdGUgdGhlIE9wQ29kZXMgZm9yIElDVSBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0gaWN1RXhwcmVzc2lvblxuICogQHBhcmFtIGluZGV4IEluZGV4IHdoZXJlIHRoZSBhbmNob3IgaXMgc3RvcmVkIGFuZCBhbiBvcHRpb25hbCBgVEljdUNvbnRhaW5lck5vZGVgXG4gKiAgIC0gYGxWaWV3W2FuY2hvcklkeF1gIHBvaW50cyB0byBhIGBDb21tZW50YCBub2RlIHJlcHJlc2VudGluZyB0aGUgYW5jaG9yIGZvciB0aGUgSUNVLlxuICogICAtIGB0Vmlldy5kYXRhW2FuY2hvcklkeF1gIHBvaW50cyB0byB0aGUgYFRJY3VDb250YWluZXJOb2RlYCBpZiBJQ1UgaXMgcm9vdCAoYG51bGxgIG90aGVyd2lzZSlcbiAqL1xuZnVuY3Rpb24gaWN1U3RhcnQodFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGljdUV4cHJlc3Npb24sIGFuY2hvcklkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGljdUV4cHJlc3Npb24sICdJQ1UgZXhwcmVzc2lvbiBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBsZXQgYmluZGluZ01hc2sgPSAwO1xuICAgIGNvbnN0IHRJY3UgPSB7XG4gICAgICAgIHR5cGU6IGljdUV4cHJlc3Npb24udHlwZSxcbiAgICAgICAgY3VycmVudENhc2VMVmlld0luZGV4OiBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKSxcbiAgICAgICAgYW5jaG9ySWR4LFxuICAgICAgICBjYXNlczogW10sXG4gICAgICAgIGNyZWF0ZTogW10sXG4gICAgICAgIHJlbW92ZTogW10sXG4gICAgICAgIHVwZGF0ZTogW11cbiAgICB9O1xuICAgIGFkZFVwZGF0ZUljdVN3aXRjaCh1cGRhdGVPcENvZGVzLCBpY3VFeHByZXNzaW9uLCBhbmNob3JJZHgpO1xuICAgIHNldFRJY3UodFZpZXcsIGFuY2hvcklkeCwgdEljdSk7XG4gICAgY29uc3QgdmFsdWVzID0gaWN1RXhwcmVzc2lvbi52YWx1ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gRWFjaCB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzICYgb3RoZXIgSUNVIGV4cHJlc3Npb25zXG4gICAgICAgIGNvbnN0IHZhbHVlQXJyID0gdmFsdWVzW2ldO1xuICAgICAgICBjb25zdCBuZXN0ZWRJY3VzID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsdWVBcnIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVBcnJbal07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGFuIG5lc3RlZCBJQ1UgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIGNvbnN0IGljdUluZGV4ID0gbmVzdGVkSWN1cy5wdXNoKHZhbHVlKSAtIDE7XG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBuZXN0ZWQgSUNVIGV4cHJlc3Npb24gYnkgYSBjb21tZW50IG5vZGVcbiAgICAgICAgICAgICAgICB2YWx1ZUFycltqXSA9IGA8IS0t77+9JHtpY3VJbmRleH3vv70tLT5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJpbmRpbmdNYXNrID0gcGFyc2VJY3VDYXNlKHRWaWV3LCB0SWN1LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBpY3VFeHByZXNzaW9uLmNhc2VzW2ldLCB2YWx1ZUFyci5qb2luKCcnKSwgbmVzdGVkSWN1cykgfFxuICAgICAgICAgICAgYmluZGluZ01hc2s7XG4gICAgfVxuICAgIGlmIChiaW5kaW5nTWFzaykge1xuICAgICAgICBhZGRVcGRhdGVJY3VVcGRhdGUodXBkYXRlT3BDb2RlcywgYmluZGluZ01hc2ssIGFuY2hvcklkeCk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZXMgdGV4dCBjb250YWluaW5nIGFuIElDVSBleHByZXNzaW9uIGFuZCBwcm9kdWNlcyBhIEpTT04gb2JqZWN0IGZvciBpdC5cbiAqIE9yaWdpbmFsIGNvZGUgZnJvbSBjbG9zdXJlIGxpYnJhcnksIG1vZGlmaWVkIGZvciBBbmd1bGFyLlxuICpcbiAqIEBwYXJhbSBwYXR0ZXJuIFRleHQgY29udGFpbmluZyBhbiBJQ1UgZXhwcmVzc2lvbiB0aGF0IG5lZWRzIHRvIGJlIHBhcnNlZC5cbiAqXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSUNVQmxvY2socGF0dGVybikge1xuICAgIGNvbnN0IGNhc2VzID0gW107XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgbGV0IGljdVR5cGUgPSAxIC8qIHBsdXJhbCAqLztcbiAgICBsZXQgbWFpbkJpbmRpbmcgPSAwO1xuICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoSUNVX0JMT0NLX1JFR0VYUCwgZnVuY3Rpb24gKHN0ciwgYmluZGluZywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICAgIGljdVR5cGUgPSAwIC8qIHNlbGVjdCAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGljdVR5cGUgPSAxIC8qIHBsdXJhbCAqLztcbiAgICAgICAgfVxuICAgICAgICBtYWluQmluZGluZyA9IHBhcnNlSW50KGJpbmRpbmcuc3Vic3RyKDEpLCAxMCk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgICBjb25zdCBwYXJ0cyA9IGkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UocGF0dGVybik7XG4gICAgLy8gTG9va2luZyBmb3IgKGtleSBibG9jaykrIHNlcXVlbmNlLiBPbmUgb2YgdGhlIGtleXMgaGFzIHRvIGJlIFwib3RoZXJcIi5cbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCBwYXJ0cy5sZW5ndGg7KSB7XG4gICAgICAgIGxldCBrZXkgPSBwYXJ0c1twb3MrK10udHJpbSgpO1xuICAgICAgICBpZiAoaWN1VHlwZSA9PT0gMSAvKiBwbHVyYWwgKi8pIHtcbiAgICAgICAgICAgIC8vIEtleSBjYW4gYmUgXCI9eFwiLCB3ZSBqdXN0IHdhbnQgXCJ4XCJcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXHMqKD86PSk/KFxcdyspXFxzKi8sICckMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlcy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxvY2tzID0gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVShwYXJ0c1twb3MrK10pO1xuICAgICAgICBpZiAoY2FzZXMubGVuZ3RoID4gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goYmxvY2tzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPKG9jb21iZSk6IHN1cHBvcnQgSUNVIGV4cHJlc3Npb25zIGluIGF0dHJpYnV0ZXMsIHNlZSAjMjE2MTVcbiAgICByZXR1cm4geyB0eXBlOiBpY3VUeXBlLCBtYWluQmluZGluZzogbWFpbkJpbmRpbmcsIGNhc2VzLCB2YWx1ZXMgfTtcbn1cbi8qKlxuICogQnJlYWtzIHBhdHRlcm4gaW50byBzdHJpbmdzIGFuZCB0b3AgbGV2ZWwgey4uLn0gYmxvY2tzLlxuICogQ2FuIGJlIHVzZWQgdG8gYnJlYWsgYSBtZXNzYWdlIGludG8gdGV4dCBhbmQgSUNVIGV4cHJlc3Npb25zLCBvciB0byBicmVhayBhbiBJQ1UgZXhwcmVzc2lvblxuICogaW50byBrZXlzIGFuZCBjYXNlcy4gT3JpZ2luYWwgY29kZSBmcm9tIGNsb3N1cmUgbGlicmFyeSwgbW9kaWZpZWQgZm9yIEFuZ3VsYXIuXG4gKlxuICogQHBhcmFtIHBhdHRlcm4gKHN1YilQYXR0ZXJuIHRvIGJlIGJyb2tlbi5cbiAqIEByZXR1cm5zIEFuIGBBcnJheTxzdHJpbmd8SWN1RXhwcmVzc2lvbj5gIHdoZXJlOlxuICogICAtIG9kZCBwb3NpdGlvbnM6IGBzdHJpbmdgID0+IHRleHQgYmV0d2VlbiBJQ1UgZXhwcmVzc2lvbnNcbiAqICAgLSBldmVuIHBvc2l0aW9uczogYElDVUV4cHJlc3Npb25gID0+IElDVSBleHByZXNzaW9uIHBhcnNlZCBpbnRvIGBJQ1VFeHByZXNzaW9uYCByZWNvcmQuXG4gKi9cbmZ1bmN0aW9uIGkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UocGF0dGVybikge1xuICAgIGlmICghcGF0dGVybikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBwcmV2UG9zID0gMDtcbiAgICBjb25zdCBicmFjZVN0YWNrID0gW107XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IGJyYWNlcyA9IC9be31dL2c7XG4gICAgLy8gbGFzdEluZGV4IGRvZXNuJ3QgZ2V0IHNldCB0byAwIHNvIHdlIGhhdmUgdG8uXG4gICAgYnJhY2VzLmxhc3RJbmRleCA9IDA7XG4gICAgbGV0IG1hdGNoO1xuICAgIHdoaWxlIChtYXRjaCA9IGJyYWNlcy5leGVjKHBhdHRlcm4pKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG1hdGNoLmluZGV4O1xuICAgICAgICBpZiAobWF0Y2hbMF0gPT0gJ30nKSB7XG4gICAgICAgICAgICBicmFjZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGJyYWNlU3RhY2subGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQgb2YgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gcGF0dGVybi5zdWJzdHJpbmcocHJldlBvcywgcG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoSUNVX0JMT0NLX1JFR0VYUC50ZXN0KGJsb2NrKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocGFyc2VJQ1VCbG9jayhibG9jaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGJsb2NrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldlBvcyA9IHBvcyArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYnJhY2VTdGFjay5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnN0cmluZyA9IHBhdHRlcm4uc3Vic3RyaW5nKHByZXZQb3MsIHBvcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHN1YnN0cmluZyk7XG4gICAgICAgICAgICAgICAgcHJldlBvcyA9IHBvcyArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmFjZVN0YWNrLnB1c2goJ3snKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdWJzdHJpbmcgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zKTtcbiAgICByZXN1bHRzLnB1c2goc3Vic3RyaW5nKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8qKlxuICogUGFyc2VzIGEgbm9kZSwgaXRzIGNoaWxkcmVuIGFuZCBpdHMgc2libGluZ3MsIGFuZCBnZW5lcmF0ZXMgdGhlIG11dGF0ZSAmIHVwZGF0ZSBPcENvZGVzLlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VJY3VDYXNlKHRWaWV3LCB0SWN1LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBjYXNlTmFtZSwgdW5zYWZlQ2FzZUh0bWwsIG5lc3RlZEljdXMpIHtcbiAgICBjb25zdCBjcmVhdGUgPSBbXTtcbiAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICBjb25zdCB1cGRhdGUgPSBbXTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKGNyZWF0ZSwgaWN1Q3JlYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIocmVtb3ZlLCBpMThuUmVtb3ZlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIodXBkYXRlLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgdEljdS5jYXNlcy5wdXNoKGNhc2VOYW1lKTtcbiAgICB0SWN1LmNyZWF0ZS5wdXNoKGNyZWF0ZSk7XG4gICAgdEljdS5yZW1vdmUucHVzaChyZW1vdmUpO1xuICAgIHRJY3UudXBkYXRlLnB1c2godXBkYXRlKTtcbiAgICBjb25zdCBpbmVydEJvZHlIZWxwZXIgPSBnZXRJbmVydEJvZHlIZWxwZXIoZ2V0RG9jdW1lbnQoKSk7XG4gICAgY29uc3QgaW5lcnRCb2R5RWxlbWVudCA9IGluZXJ0Qm9keUhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHVuc2FmZUNhc2VIdG1sKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChpbmVydEJvZHlFbGVtZW50LCAnVW5hYmxlIHRvIGdlbmVyYXRlIGluZXJ0IGJvZHkgZWxlbWVudCcpO1xuICAgIGNvbnN0IGluZXJ0Um9vdE5vZGUgPSBnZXRUZW1wbGF0ZUNvbnRlbnQoaW5lcnRCb2R5RWxlbWVudCkgfHwgaW5lcnRCb2R5RWxlbWVudDtcbiAgICBpZiAoaW5lcnRSb290Tm9kZSkge1xuICAgICAgICByZXR1cm4gd2Fsa0ljdVRyZWUodFZpZXcsIHRJY3UsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBjcmVhdGUsIHJlbW92ZSwgdXBkYXRlLCBpbmVydFJvb3ROb2RlLCBwYXJlbnRJZHgsIG5lc3RlZEljdXMsIDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuZnVuY3Rpb24gd2Fsa0ljdVRyZWUodFZpZXcsIHRJY3UsIGxWaWV3LCBzaGFyZWRVcGRhdGVPcENvZGVzLCBjcmVhdGUsIHJlbW92ZSwgdXBkYXRlLCBwYXJlbnROb2RlLCBwYXJlbnRJZHgsIG5lc3RlZEljdXMsIGRlcHRoKSB7XG4gICAgbGV0IGJpbmRpbmdNYXNrID0gMDtcbiAgICBsZXQgY3VycmVudE5vZGUgPSBwYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IG5ld0luZGV4ID0gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgMSwgbnVsbCk7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudE5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIEVMRU1FTlRfTUFSS0VSLCB0YWdOYW1lLCBwYXJlbnRJZHgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdFZpZXcuZGF0YVtuZXdJbmRleF0gPSB0YWdOYW1lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbEF0dHJzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBlbEF0dHJzLml0ZW0oaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dlckF0dHJOYW1lID0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNCaW5kaW5nID0gISFhdHRyLnZhbHVlLm1hdGNoKEJJTkRJTkdfUkVHRVhQKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFzc3VtZSB0aGUgaW5wdXQgc3RyaW5nIGlzIHNhZmUsIHVubGVzcyBpdCdzIHVzaW5nIGEgYmluZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVkFMSURfQVRUUlMuaGFzT3duUHJvcGVydHkobG93ZXJBdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFVSSV9BVFRSU1tsb3dlckF0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIGF0dHIudmFsdWUsIG5ld0luZGV4LCBhdHRyLm5hbWUsIDAsIF9zYW5pdGl6ZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoU1JDU0VUX0FUVFJTW2xvd2VyQXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgYXR0ci52YWx1ZSwgbmV3SW5kZXgsIGF0dHIubmFtZSwgMCwgc2FuaXRpemVTcmNzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIGF0dHIudmFsdWUsIG5ld0luZGV4LCBhdHRyLm5hbWUsIDAsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgV0FSTklORzogaWdub3JpbmcgdW5zYWZlIGF0dHJpYnV0ZSB2YWx1ZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtsb3dlckF0dHJOYW1lfSBvbiBlbGVtZW50ICR7dGFnTmFtZX0gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDcmVhdGVBdHRyaWJ1dGUoY3JlYXRlLCBuZXdJbmRleCwgYXR0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSAoaWYgYW55KVxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nTWFzayA9IHdhbGtJY3VUcmVlKHRWaWV3LCB0SWN1LCBsVmlldywgc2hhcmVkVXBkYXRlT3BDb2RlcywgY3JlYXRlLCByZW1vdmUsIHVwZGF0ZSwgY3VycmVudE5vZGUsIG5ld0luZGV4LCBuZXN0ZWRJY3VzLCBkZXB0aCArIDEpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdNYXNrO1xuICAgICAgICAgICAgICAgICAgICBhZGRSZW1vdmVOb2RlKHJlbW92ZSwgbmV3SW5kZXgsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudE5vZGUudGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQmluZGluZyA9IHZhbHVlLm1hdGNoKEJJTkRJTkdfUkVHRVhQKTtcbiAgICAgICAgICAgICAgICBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgbnVsbCwgaGFzQmluZGluZyA/ICcnIDogdmFsdWUsIHBhcmVudElkeCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgIGFkZFJlbW92ZU5vZGUocmVtb3ZlLCBuZXdJbmRleCwgZGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdNYXNrID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlLCB2YWx1ZSwgbmV3SW5kZXgsIG51bGwsIDAsIG51bGwpIHwgYmluZGluZ01hc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29tbWVudCBub2RlIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgbmVzdGVkIElDVVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzTmVzdGVkSWN1ID0gTkVTVEVEX0lDVS5leGVjKGN1cnJlbnROb2RlLnRleHRDb250ZW50IHx8ICcnKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXN0ZWRJY3UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSWN1SW5kZXggPSBwYXJzZUludChpc05lc3RlZEljdVsxXSwgMTApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VFeHByZXNzaW9uID0gbmVzdGVkSWN1c1tuZXN0ZWRJY3VJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY29tbWVudCBub2RlIHRoYXQgd2lsbCBhbmNob3IgdGhlIElDVSBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIGFkZENyZWF0ZU5vZGVBbmRBcHBlbmQoY3JlYXRlLCBJQ1VfTUFSS0VSLCBuZ0Rldk1vZGUgPyBgbmVzdGVkIElDVSAke25lc3RlZEljdUluZGV4fWAgOiAnJywgcGFyZW50SWR4LCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGljdVN0YXJ0KHRWaWV3LCBsVmlldywgc2hhcmVkVXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBpY3VFeHByZXNzaW9uLCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU5lc3RlZEljdShyZW1vdmUsIG5ld0luZGV4LCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBiaW5kaW5nTWFzaztcbn1cbmZ1bmN0aW9uIGFkZFJlbW92ZU5vZGUocmVtb3ZlLCBpbmRleCwgZGVwdGgpIHtcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgcmVtb3ZlLnB1c2goaW5kZXgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFJlbW92ZU5lc3RlZEljdShyZW1vdmUsIGluZGV4LCBkZXB0aCkge1xuICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZW1vdmUucHVzaCh+aW5kZXgpOyAvLyByZW1vdmUgSUNVIGF0IGBpbmRleGBcbiAgICAgICAgcmVtb3ZlLnB1c2goaW5kZXgpOyAvLyByZW1vdmUgSUNVIGNvbW1lbnQgYXQgYGluZGV4YFxuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFVwZGF0ZUljdVN3aXRjaCh1cGRhdGUsIGljdUV4cHJlc3Npb24sIGluZGV4KSB7XG4gICAgdXBkYXRlLnB1c2godG9NYXNrQml0KGljdUV4cHJlc3Npb24ubWFpbkJpbmRpbmcpLCAyLCAtMSAtIGljdUV4cHJlc3Npb24ubWFpbkJpbmRpbmcsIGluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMiAvKiBJY3VTd2l0Y2ggKi8pO1xufVxuZnVuY3Rpb24gYWRkVXBkYXRlSWN1VXBkYXRlKHVwZGF0ZSwgYmluZGluZ01hc2ssIGluZGV4KSB7XG4gICAgdXBkYXRlLnB1c2goYmluZGluZ01hc2ssIDEsIGluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMyAvKiBJY3VVcGRhdGUgKi8pO1xufVxuZnVuY3Rpb24gYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIG1hcmtlciwgdGV4dCwgYXBwZW5kVG9QYXJlbnRJZHgsIGNyZWF0ZUF0SWR4KSB7XG4gICAgaWYgKG1hcmtlciAhPT0gbnVsbCkge1xuICAgICAgICBjcmVhdGUucHVzaChtYXJrZXIpO1xuICAgIH1cbiAgICBjcmVhdGUucHVzaCh0ZXh0LCBjcmVhdGVBdElkeCwgaWN1Q3JlYXRlT3BDb2RlKDAgLyogQXBwZW5kQ2hpbGQgKi8sIGFwcGVuZFRvUGFyZW50SWR4LCBjcmVhdGVBdElkeCkpO1xufVxuZnVuY3Rpb24gYWRkQ3JlYXRlQXR0cmlidXRlKGNyZWF0ZSwgbmV3SW5kZXgsIGF0dHIpIHtcbiAgICBjcmVhdGUucHVzaChuZXdJbmRleCA8PCAxIC8qIFNISUZUX1JFRiAqLyB8IDEgLyogQXR0ciAqLywgYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBpMThuUG9zdHByb2Nlc3MgY29uc3RzXG5jb25zdCBST09UX1RFTVBMQVRFX0lEID0gMDtcbmNvbnN0IFBQX01VTFRJX1ZBTFVFX1BMQUNFSE9MREVSU19SRUdFWFAgPSAvXFxbKO+/vS4rP++/vT8pXFxdLztcbmNvbnN0IFBQX1BMQUNFSE9MREVSU19SRUdFWFAgPSAvXFxbKO+/vS4rP++/vT8pXFxdfCjvv71cXC8/XFwqXFxkKzpcXGQr77+9KS9nO1xuY29uc3QgUFBfSUNVX1ZBUlNfUkVHRVhQID0gLyh7XFxzKikoVkFSXyhQTFVSQUx8U0VMRUNUKShfXFxkKyk/KShcXHMqLCkvZztcbmNvbnN0IFBQX0lDVV9QTEFDRUhPTERFUlNfUkVHRVhQID0gL3soW0EtWjAtOV9dKyl9L2c7XG5jb25zdCBQUF9JQ1VTX1JFR0VYUCA9IC/vv71JMThOX0VYUF8oSUNVKF9cXGQrKT8p77+9L2c7XG5jb25zdCBQUF9DTE9TRV9URU1QTEFURV9SRUdFWFAgPSAvXFwvXFwqLztcbmNvbnN0IFBQX1RFTVBMQVRFX0lEX1JFR0VYUCA9IC9cXGQrXFw6KFxcZCspLztcbi8qKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgZm9yIGludGVybmF0aW9uYWxpemF0aW9uLlxuICpcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGJ5IHRyYW5zZm9ybWluZyBpdCBmcm9tIGludGVybWVkaWF0ZVxuICogZm9ybWF0ICh0aGF0IG1pZ2h0IGNvbnRhaW4gc29tZSBtYXJrZXJzIHRoYXQgd2UgbmVlZCB0byByZXBsYWNlKSB0byB0aGUgZmluYWxcbiAqIGZvcm0sIGNvbnN1bWFibGUgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uLiBQb3N0IHByb2Nlc3Npbmcgc3RlcHMgaW5jbHVkZTpcbiAqXG4gKiAxLiBSZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBjYXNlcyAobGlrZSBb77+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vXzvv70177+9XSlcbiAqIDIuIFJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICogMy4gUmVwbGFjZSBhbGwgcGxhY2Vob2xkZXJzIHVzZWQgaW5zaWRlIElDVXMgaW4gYSBmb3JtIG9mIHtQTEFDRUhPTERFUn1cbiAqIDQuIFJlcGxhY2UgYWxsIElDVSByZWZlcmVuY2VzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMgKGxpa2Ug77+9SUNVX0VYUF9JQ1VfMe+/vSlcbiAqICAgIGluIGNhc2UgbXVsdGlwbGUgSUNVcyBoYXZlIHRoZSBzYW1lIHBsYWNlaG9sZGVyIG5hbWVcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBSYXcgdHJhbnNsYXRpb24gc3RyaW5nIGZvciBwb3N0IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSByZXBsYWNlbWVudHMgU2V0IG9mIHJlcGxhY2VtZW50cyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQHJldHVybnMgVHJhbnNmb3JtZWQgc3RyaW5nIHRoYXQgY2FuIGJlIGNvbnN1bWVkIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvblxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIGkxOG5Qb3N0cHJvY2VzcyhtZXNzYWdlLCByZXBsYWNlbWVudHMgPSB7fSkge1xuICAgIC8qKlxuICAgICAqIFN0ZXAgMTogcmVzb2x2ZSBhbGwgbXVsdGktdmFsdWUgcGxhY2Vob2xkZXJzIGxpa2UgW++/vSM177+9fO+/vSoxOjHvv73vv70jMjox77+9fO+/vSM0OjHvv71dXG4gICAgICpcbiAgICAgKiBOb3RlOiBkdWUgdG8gdGhlIHdheSB3ZSBwcm9jZXNzIG5lc3RlZCB0ZW1wbGF0ZXMgKEJGUyksIG11bHRpLXZhbHVlIHBsYWNlaG9sZGVycyBhcmUgdHlwaWNhbGx5XG4gICAgICogZ3JvdXBlZCBieSB0ZW1wbGF0ZXMsIGZvciBleGFtcGxlOiBb77+9IzXvv71877+9Izbvv71877+9IzE6Me+/vXzvv70jMzoy77+9XSB3aGVyZSDvv70jNe+/vSBhbmQg77+9Izbvv70gYmVsb25nIHRvIHJvb3RcbiAgICAgKiB0ZW1wbGF0ZSwg77+9IzE6Me+/vSBiZWxvbmcgdG8gbmVzdGVkIHRlbXBsYXRlIHdpdGggaW5kZXggMSBhbmQg77+9IzE6Mu+/vSAtIG5lc3RlZCB0ZW1wbGF0ZSB3aXRoIGluZGV4XG4gICAgICogMy4gSG93ZXZlciBpbiByZWFsIHRlbXBsYXRlcyB0aGUgb3JkZXIgbWlnaHQgYmUgZGlmZmVyZW50OiBpLmUuIO+/vSMxOjHvv70gYW5kL29yIO+/vSMzOjLvv70gbWF5IGdvIGluXG4gICAgICogZnJvbnQgb2Yg77+9Izbvv70uIFRoZSBwb3N0IHByb2Nlc3Npbmcgc3RlcCByZXN0b3JlcyB0aGUgcmlnaHQgb3JkZXIgYnkga2VlcGluZyB0cmFjayBvZiB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBpZCBzdGFjayBhbmQgbG9va3MgZm9yIHBsYWNlaG9sZGVycyB0aGF0IGJlbG9uZyB0byB0aGUgY3VycmVudGx5IGFjdGl2ZSB0ZW1wbGF0ZS5cbiAgICAgKi9cbiAgICBsZXQgcmVzdWx0ID0gbWVzc2FnZTtcbiAgICBpZiAoUFBfTVVMVElfVkFMVUVfUExBQ0VIT0xERVJTX1JFR0VYUC50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB7fTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVJZHNTdGFjayA9IFtST09UX1RFTVBMQVRFX0lEXTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfUExBQ0VIT0xERVJTX1JFR0VYUCwgKG0sIHBocywgdG1wbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHBocyB8fCB0bXBsO1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gbWF0Y2hlc1tjb250ZW50XSB8fCBbXTtcbiAgICAgICAgICAgIGlmICghcGxhY2Vob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc3BsaXQoJ3wnKS5mb3JFYWNoKChwbGFjZWhvbGRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHBsYWNlaG9sZGVyLm1hdGNoKFBQX1RFTVBMQVRFX0lEX1JFR0VYUCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlSWQgPSBtYXRjaCA/IHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgOiBST09UX1RFTVBMQVRFX0lEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Nsb3NlVGVtcGxhdGVUYWcgPSBQUF9DTE9TRV9URU1QTEFURV9SRUdFWFAudGVzdChwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVycy5wdXNoKFt0ZW1wbGF0ZUlkLCBpc0Nsb3NlVGVtcGxhdGVUYWcsIHBsYWNlaG9sZGVyXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc1tjb250ZW50XSA9IHBsYWNlaG9sZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGxhY2Vob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaTE4biBwb3N0cHJvY2VzczogdW5tYXRjaGVkIHBsYWNlaG9sZGVyIC0gJHtjb250ZW50fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFRlbXBsYXRlSWQgPSB0ZW1wbGF0ZUlkc1N0YWNrW3RlbXBsYXRlSWRzU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgICAgIC8vIGZpbmQgcGxhY2Vob2xkZXIgaW5kZXggdGhhdCBtYXRjaGVzIGN1cnJlbnQgdGVtcGxhdGUgaWRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2Vob2xkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyc1tpXVswXSA9PT0gY3VycmVudFRlbXBsYXRlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRlbXBsYXRlIGlkIHN0YWNrIGJhc2VkIG9uIHRoZSBjdXJyZW50IHRhZyBleHRyYWN0ZWRcbiAgICAgICAgICAgIGNvbnN0IFt0ZW1wbGF0ZUlkLCBpc0Nsb3NlVGVtcGxhdGVUYWcsIHBsYWNlaG9sZGVyXSA9IHBsYWNlaG9sZGVyc1tpZHhdO1xuICAgICAgICAgICAgaWYgKGlzQ2xvc2VUZW1wbGF0ZVRhZykge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlSWRzU3RhY2sucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VGVtcGxhdGVJZCAhPT0gdGVtcGxhdGVJZCkge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlSWRzU3RhY2sucHVzaCh0ZW1wbGF0ZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm9jZXNzZWQgdGFnIGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgIHBsYWNlaG9sZGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHJldHVybiBjdXJyZW50IHJlc3VsdCBpZiBubyByZXBsYWNlbWVudHMgc3BlY2lmaWVkXG4gICAgaWYgKCFPYmplY3Qua2V5cyhyZXBsYWNlbWVudHMpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGVwIDI6IHJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICAgICAqL1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFBQX0lDVV9WQVJTX1JFR0VYUCwgKG1hdGNoLCBzdGFydCwga2V5LCBfdHlwZSwgX2lkeCwgZW5kKSA9PiB7XG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudHMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGAke3N0YXJ0fSR7cmVwbGFjZW1lbnRzW2tleV19JHtlbmR9YCA6IG1hdGNoO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0ZXAgMzogcmVwbGFjZSBhbGwgcGxhY2Vob2xkZXJzIHVzZWQgaW5zaWRlIElDVXMgaW4gYSBmb3JtIG9mIHtQTEFDRUhPTERFUn1cbiAgICAgKi9cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9JQ1VfUExBQ0VIT0xERVJTX1JFR0VYUCwgKG1hdGNoLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gcmVwbGFjZW1lbnRzW2tleV0gOiBtYXRjaDtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGVwIDQ6IHJlcGxhY2UgYWxsIElDVSByZWZlcmVuY2VzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMgKGxpa2Ug77+9SUNVX0VYUF9JQ1VfMe+/vSkgaW4gY2FzZVxuICAgICAqIG11bHRpcGxlIElDVXMgaGF2ZSB0aGUgc2FtZSBwbGFjZWhvbGRlciBuYW1lXG4gICAgICovXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVU19SRUdFWFAsIChtYXRjaCwga2V5KSA9PiB7XG4gICAgICAgIGlmIChyZXBsYWNlbWVudHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHJlcGxhY2VtZW50c1trZXldO1xuICAgICAgICAgICAgaWYgKCFsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaTE4biBwb3N0cHJvY2VzczogdW5tYXRjaGVkIElDVSAtICR7bWF0Y2h9IHdpdGgga2V5OiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyBhIGJsb2NrIG9mIHRleHQgYXMgdHJhbnNsYXRhYmxlLlxuICpcbiAqIFRoZSBpbnN0cnVjdGlvbnMgYGkxOG5TdGFydGAgYW5kIGBpMThuRW5kYCBtYXJrIHRoZSB0cmFuc2xhdGlvbiBibG9jayBpbiB0aGUgdGVtcGxhdGUuXG4gKiBUaGUgdHJhbnNsYXRpb24gYG1lc3NhZ2VgIGlzIHRoZSB2YWx1ZSB3aGljaCBpcyBsb2NhbGUgc3BlY2lmaWMuIFRoZSB0cmFuc2xhdGlvbiBzdHJpbmcgbWF5XG4gKiBjb250YWluIHBsYWNlaG9sZGVycyB3aGljaCBhc3NvY2lhdGUgaW5uZXIgZWxlbWVudHMgYW5kIHN1Yi10ZW1wbGF0ZXMgd2l0aGluIHRoZSB0cmFuc2xhdGlvbi5cbiAqXG4gKiBUaGUgdHJhbnNsYXRpb24gYG1lc3NhZ2VgIHBsYWNlaG9sZGVycyBhcmU6XG4gKiAtIGDvv717aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpCaW5kaW5nIFBsYWNlaG9sZGVyKjogTWFya3MgYSBsb2NhdGlvbiB3aGVyZSBhbiBleHByZXNzaW9uIHdpbGwgYmVcbiAqICAgaW50ZXJwb2xhdGVkIGludG8uIFRoZSBwbGFjZWhvbGRlciBgaW5kZXhgIHBvaW50cyB0byB0aGUgZXhwcmVzc2lvbiBiaW5kaW5nIGluZGV4LiBBbiBvcHRpb25hbFxuICogICBgYmxvY2tgIHRoYXQgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqIC0gYO+/vSN7aW5kZXh9KDp7YmxvY2t9Ke+/vWAvYO+/vS8je2luZGV4fSg6e2Jsb2NrfSnvv71gOiAqRWxlbWVudCBQbGFjZWhvbGRlcio6ICBNYXJrcyB0aGUgYmVnaW5uaW5nXG4gKiAgIGFuZCBlbmQgb2YgRE9NIGVsZW1lbnQgdGhhdCB3ZXJlIGVtYmVkZGVkIGluIHRoZSBvcmlnaW5hbCB0cmFuc2xhdGlvbiBibG9jay4gVGhlIHBsYWNlaG9sZGVyXG4gKiAgIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBlbGVtZW50IGluZGV4IGluIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbnMgc2V0LiBBbiBvcHRpb25hbCBgYmxvY2tgIHRoYXRcbiAqICAgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqIC0gYO+/vSp7aW5kZXh9OntibG9ja33vv71gL2Dvv70vKntpbmRleH06e2Jsb2Nrfe+/vWA6ICpTdWItdGVtcGxhdGUgUGxhY2Vob2xkZXIqOiBTdWItdGVtcGxhdGVzIG11c3QgYmVcbiAqICAgc3BsaXQgdXAgYW5kIHRyYW5zbGF0ZWQgc2VwYXJhdGVseSBpbiBlYWNoIGFuZ3VsYXIgdGVtcGxhdGUgZnVuY3Rpb24uIFRoZSBgaW5kZXhgIHBvaW50cyB0byB0aGVcbiAqICAgYHRlbXBsYXRlYCBpbnN0cnVjdGlvbiBpbmRleC4gQSBgYmxvY2tgIHRoYXQgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggQSB1bmlxdWUgaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIGluIHRoZSBzdGF0aWMgYmxvY2suXG4gKiBAcGFyYW0gbWVzc2FnZUluZGV4IEFuIGluZGV4IG9mIHRoZSB0cmFuc2xhdGlvbiBtZXNzYWdlIGZyb20gdGhlIGBkZWYuY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBzdWJUZW1wbGF0ZUluZGV4IE9wdGlvbmFsIHN1Yi10ZW1wbGF0ZSBpbmRleCBpbiB0aGUgYG1lc3NhZ2VgLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuU3RhcnQoaW5kZXgsIG1lc3NhZ2VJbmRleCwgc3ViVGVtcGxhdGVJbmRleCA9IC0xKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBgdFZpZXcgc2hvdWxkIGJlIGRlZmluZWRgKTtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2V0Q29uc3RhbnQodFZpZXcuY29uc3RzLCBtZXNzYWdlSW5kZXgpO1xuICAgIGNvbnN0IHBhcmVudFROb2RlID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsIHBhcmVudFROb2RlID09PSBudWxsID8gMCA6IHBhcmVudFROb2RlLmluZGV4LCBsVmlldywgYWRqdXN0ZWRJbmRleCwgbWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IHRJMThuID0gdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBjb25zdCBzYW1lVmlld1BhcmVudFROb2RlID0gcGFyZW50VE5vZGUgPT09IGxWaWV3W1RfSE9TVF0gPyBudWxsIDogcGFyZW50VE5vZGU7XG4gICAgY29uc3QgcGFyZW50Uk5vZGUgPSBnZXRDbG9zZXN0UkVsZW1lbnQodFZpZXcsIHNhbWVWaWV3UGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICAvLyBJZiBgcGFyZW50VE5vZGVgIGlzIGFuIGBFbGVtZW50Q29udGFpbmVyYCB0aGFuIGl0IGhhcyBgPCEtLW5nLWNvbnRhaW5lci0tLT5gLlxuICAgIC8vIFdoZW4gd2UgZG8gaW5zZXJ0cyB3ZSBoYXZlIHRvIG1ha2Ugc3VyZSB0byBpbnNlcnQgaW4gZnJvbnQgb2YgYDwhLS1uZy1jb250YWluZXItLS0+YC5cbiAgICBjb25zdCBpbnNlcnRJbkZyb250T2YgPSBwYXJlbnRUTm9kZSAmJiAocGFyZW50VE5vZGUudHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykgP1xuICAgICAgICBsVmlld1twYXJlbnRUTm9kZS5pbmRleF0gOlxuICAgICAgICBudWxsO1xuICAgIGFwcGx5Q3JlYXRlT3BDb2RlcyhsVmlldywgdEkxOG4uY3JlYXRlLCBwYXJlbnRSTm9kZSwgaW5zZXJ0SW5Gcm9udE9mKTtcbiAgICBzZXRJbkkxOG5CbG9jayh0cnVlKTtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyBhIHRyYW5zbGF0aW9uIGJsb2NrIG1hcmtlZCBieSBgaTE4blN0YXJ0YCBhbmQgYGkxOG5FbmRgLiBJdCBpbnNlcnRzIHRoZSB0ZXh0L0lDVSBub2Rlc1xuICogaW50byB0aGUgcmVuZGVyIHRyZWUsIG1vdmVzIHRoZSBwbGFjZWhvbGRlciBub2RlcyBhbmQgcmVtb3ZlcyB0aGUgZGVsZXRlZCBub2Rlcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkVuZCgpIHtcbiAgICBzZXRJbkkxOG5CbG9jayhmYWxzZSk7XG59XG4vKipcbiAqXG4gKiBVc2UgdGhpcyBpbnN0cnVjdGlvbiB0byBjcmVhdGUgYSB0cmFuc2xhdGlvbiBibG9jayB0aGF0IGRvZXNuJ3QgY29udGFpbiBhbnkgcGxhY2Vob2xkZXIuXG4gKiBJdCBjYWxscyBib3RoIHtAbGluayBpMThuU3RhcnR9IGFuZCB7QGxpbmsgaTE4bkVuZH0gaW4gb25lIGluc3RydWN0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgaXMgdGhlIHZhbHVlIHdoaWNoIGlzIGxvY2FsZSBzcGVjaWZpYy4gVGhlIHRyYW5zbGF0aW9uIHN0cmluZyBtYXlcbiAqIGNvbnRhaW4gcGxhY2Vob2xkZXJzIHdoaWNoIGFzc29jaWF0ZSBpbm5lciBlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgcGxhY2Vob2xkZXJzIGFyZTpcbiAqIC0gYO+/vXtpbmRleH0oOntibG9ja30p77+9YDogKkJpbmRpbmcgUGxhY2Vob2xkZXIqOiBNYXJrcyBhIGxvY2F0aW9uIHdoZXJlIGFuIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICBpbnRlcnBvbGF0ZWQgaW50by4gVGhlIHBsYWNlaG9sZGVyIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBleHByZXNzaW9uIGJpbmRpbmcgaW5kZXguIEFuIG9wdGlvbmFsXG4gKiAgIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9I3tpbmRleH0oOntibG9ja30p77+9YC9g77+9LyN7aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpFbGVtZW50IFBsYWNlaG9sZGVyKjogIE1hcmtzIHRoZSBiZWdpbm5pbmdcbiAqICAgYW5kIGVuZCBvZiBET00gZWxlbWVudCB0aGF0IHdlcmUgZW1iZWRkZWQgaW4gdGhlIG9yaWdpbmFsIHRyYW5zbGF0aW9uIGJsb2NrLiBUaGUgcGxhY2Vob2xkZXJcbiAqICAgYGluZGV4YCBwb2ludHMgdG8gdGhlIGVsZW1lbnQgaW5kZXggaW4gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9ucyBzZXQuIEFuIG9wdGlvbmFsIGBibG9ja2AgdGhhdFxuICogICBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9KntpbmRleH06e2Jsb2Nrfe+/vWAvYO+/vS8qe2luZGV4fTp7YmxvY2t977+9YDogKlN1Yi10ZW1wbGF0ZSBQbGFjZWhvbGRlcio6IFN1Yi10ZW1wbGF0ZXMgbXVzdCBiZVxuICogICBzcGxpdCB1cCBhbmQgdHJhbnNsYXRlZCBzZXBhcmF0ZWx5IGluIGVhY2ggYW5ndWxhciB0ZW1wbGF0ZSBmdW5jdGlvbi4gVGhlIGBpbmRleGAgcG9pbnRzIHRvIHRoZVxuICogICBgdGVtcGxhdGVgIGluc3RydWN0aW9uIGluZGV4LiBBIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gaW4gdGhlIHN0YXRpYyBibG9jay5cbiAqIEBwYXJhbSBtZXNzYWdlSW5kZXggQW4gaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgYGRlZi5jb25zdHNgIGFycmF5LlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggT3B0aW9uYWwgc3ViLXRlbXBsYXRlIGluZGV4IGluIHRoZSBgbWVzc2FnZWAuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG4oaW5kZXgsIG1lc3NhZ2VJbmRleCwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIMm1ybVpMThuU3RhcnQoaW5kZXgsIG1lc3NhZ2VJbmRleCwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgybXJtWkxOG5FbmQoKTtcbn1cbi8qKlxuICogTWFya3MgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgYXMgdHJhbnNsYXRhYmxlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBpbiB0aGUgc3RhdGljIGJsb2NrXG4gKiBAcGFyYW0gdmFsdWVzXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5BdHRyaWJ1dGVzKGluZGV4LCBhdHRyc0luZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBgdFZpZXcgc2hvdWxkIGJlIGRlZmluZWRgKTtcbiAgICBjb25zdCBhdHRycyA9IGdldENvbnN0YW50KHRWaWV3LmNvbnN0cywgYXR0cnNJbmRleCk7XG4gICAgaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3ModFZpZXcsIGluZGV4ICsgSEVBREVSX09GRlNFVCwgYXR0cnMpO1xufVxuLyoqXG4gKiBTdG9yZXMgdGhlIHZhbHVlcyBvZiB0aGUgYmluZGluZ3MgZHVyaW5nIGVhY2ggdXBkYXRlIGN5Y2xlIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvXG4gKiB1cGRhdGUgdGhlIHRyYW5zbGF0ZWQgbm9kZXMuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSBiaW5kaW5nJ3MgdmFsdWVcbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYGkxOG5FeHAoY3R4Lm5hbWUpKGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuRXhwKHZhbHVlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHNldE1hc2tCaXQoYmluZGluZ1VwZGF0ZWQobFZpZXcsIG5leHRCaW5kaW5nSW5kZXgoKSwgdmFsdWUpKTtcbiAgICByZXR1cm4gybXJtWkxOG5FeHA7XG59XG4vKipcbiAqIFVwZGF0ZXMgYSB0cmFuc2xhdGlvbiBibG9jayBvciBhbiBpMThuIGF0dHJpYnV0ZSB3aGVuIHRoZSBiaW5kaW5ncyBoYXZlIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGVpdGhlciB7QGxpbmsgaTE4blN0YXJ0fSAodHJhbnNsYXRpb24gYmxvY2spIG9yIHtAbGluayBpMThuQXR0cmlidXRlc31cbiAqIChpMThuIGF0dHJpYnV0ZSkgb24gd2hpY2ggaXQgc2hvdWxkIHVwZGF0ZSB0aGUgY29udGVudC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkFwcGx5KGluZGV4KSB7XG4gICAgYXBwbHlJMThuKGdldFRWaWV3KCksIGdldExWaWV3KCksIGluZGV4ICsgSEVBREVSX09GRlNFVCk7XG59XG4vKipcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGZvciBpbnRlcm5hdGlvbmFsaXphdGlvbi5cbiAqXG4gKiBIYW5kbGVzIG1lc3NhZ2Ugc3RyaW5nIHBvc3QtcHJvY2Vzc2luZyBieSB0cmFuc2Zvcm1pbmcgaXQgZnJvbSBpbnRlcm1lZGlhdGVcbiAqIGZvcm1hdCAodGhhdCBtaWdodCBjb250YWluIHNvbWUgbWFya2VycyB0aGF0IHdlIG5lZWQgdG8gcmVwbGFjZSkgdG8gdGhlIGZpbmFsXG4gKiBmb3JtLCBjb25zdW1hYmxlIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvbi4gUG9zdCBwcm9jZXNzaW5nIHN0ZXBzIGluY2x1ZGU6XG4gKlxuICogMS4gUmVzb2x2ZSBhbGwgbXVsdGktdmFsdWUgY2FzZXMgKGxpa2UgW++/vSoxOjHvv73vv70jMjox77+9fO+/vSM0OjHvv71877+9Ne+/vV0pXG4gKiAyLiBSZXBsYWNlIGFsbCBJQ1UgdmFycyAobGlrZSBcIlZBUl9QTFVSQUxcIilcbiAqIDMuIFJlcGxhY2UgYWxsIHBsYWNlaG9sZGVycyB1c2VkIGluc2lkZSBJQ1VzIGluIGEgZm9ybSBvZiB7UExBQ0VIT0xERVJ9XG4gKiA0LiBSZXBsYWNlIGFsbCBJQ1UgcmVmZXJlbmNlcyB3aXRoIGNvcnJlc3BvbmRpbmcgdmFsdWVzIChsaWtlIO+/vUlDVV9FWFBfSUNVXzHvv70pXG4gKiAgICBpbiBjYXNlIG11bHRpcGxlIElDVXMgaGF2ZSB0aGUgc2FtZSBwbGFjZWhvbGRlciBuYW1lXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgUmF3IHRyYW5zbGF0aW9uIHN0cmluZyBmb3IgcG9zdCBwcm9jZXNzaW5nXG4gKiBAcGFyYW0gcmVwbGFjZW1lbnRzIFNldCBvZiByZXBsYWNlbWVudHMgdGhhdCBzaG91bGQgYmUgYXBwbGllZFxuICpcbiAqIEByZXR1cm5zIFRyYW5zZm9ybWVkIHN0cmluZyB0aGF0IGNhbiBiZSBjb25zdW1lZCBieSBpMThuU3RhcnQgaW5zdHJ1Y3Rpb25cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4blBvc3Rwcm9jZXNzKG1lc3NhZ2UsIHJlcGxhY2VtZW50cyA9IHt9KSB7XG4gICAgcmV0dXJuIGkxOG5Qb3N0cHJvY2VzcyhtZXNzYWdlLCByZXBsYWNlbWVudHMpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlc29sdmVzIHRoZSBwcm92aWRlcnMgd2hpY2ggYXJlIGRlZmluZWQgaW4gdGhlIERpcmVjdGl2ZURlZi5cbiAqXG4gKiBXaGVuIGluc2VydGluZyB0aGUgdG9rZW5zIGFuZCB0aGUgZmFjdG9yaWVzIGluIHRoZWlyIHJlc3BlY3RpdmUgYXJyYXlzLCB3ZSBjYW4gYXNzdW1lIHRoYXRcbiAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmaXJzdCBmb3IgdGhlIGNvbXBvbmVudCAoaWYgYW55KSwgYW5kIHRoZW4gZm9yIG90aGVyIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWVcbiAqIG5vZGUuXG4gKiBBcyBhIGNvbnNlcXVlbmNlLHRoZSBwcm92aWRlcnMgYXJlIGFsd2F5cyBwcm9jZXNzZWQgaW4gdGhhdCBvcmRlcjpcbiAqIDEpIFRoZSB2aWV3IHByb3ZpZGVycyBvZiB0aGUgY29tcG9uZW50XG4gKiAyKSBUaGUgcHJvdmlkZXJzIG9mIHRoZSBjb21wb25lbnRcbiAqIDMpIFRoZSBwcm92aWRlcnMgb2YgdGhlIG90aGVyIGRpcmVjdGl2ZXNcbiAqIFRoaXMgbWF0Y2hlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBpbmplY3RhYmxlcyBhcnJheXMgb2YgYSB2aWV3IChmb3IgZWFjaCBub2RlKS5cbiAqIFNvIHRoZSB0b2tlbnMgYW5kIHRoZSBmYWN0b3JpZXMgY2FuIGJlIHB1c2hlZCBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheXMsIGV4Y2VwdFxuICogaW4gb25lIGNhc2UgZm9yIG11bHRpIHByb3ZpZGVycy5cbiAqXG4gKiBAcGFyYW0gZGVmIHRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvblxuICogQHBhcmFtIHByb3ZpZGVyczogQXJyYXkgb2YgYHByb3ZpZGVyc2AuXG4gKiBAcGFyYW0gdmlld1Byb3ZpZGVyczogQXJyYXkgb2YgYHZpZXdQcm92aWRlcnNgLlxuICovXG5mdW5jdGlvbiBwcm92aWRlcnNSZXNvbHZlcihkZWYsIHByb3ZpZGVycywgdmlld1Byb3ZpZGVycykge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50ID0gaXNDb21wb25lbnREZWYoZGVmKTtcbiAgICAgICAgLy8gVGhlIGxpc3Qgb2YgdmlldyBwcm92aWRlcnMgaXMgcHJvY2Vzc2VkIGZpcnN0LCBhbmQgdGhlIGZsYWdzIGFyZSB1cGRhdGVkXG4gICAgICAgIHJlc29sdmVQcm92aWRlcih2aWV3UHJvdmlkZXJzLCB0Vmlldy5kYXRhLCB0Vmlldy5ibHVlcHJpbnQsIGlzQ29tcG9uZW50LCB0cnVlKTtcbiAgICAgICAgLy8gVGhlbiwgdGhlIGxpc3Qgb2YgcHJvdmlkZXJzIGlzIHByb2Nlc3NlZCwgYW5kIHRoZSBmbGFncyBhcmUgdXBkYXRlZFxuICAgICAgICByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXJzLCB0Vmlldy5kYXRhLCB0Vmlldy5ibHVlcHJpbnQsIGlzQ29tcG9uZW50LCBmYWxzZSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlcyBhIHByb3ZpZGVyIGFuZCBwdWJsaXNoZXMgaXQgdG8gdGhlIERJIHN5c3RlbS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVByb3ZpZGVyKHByb3ZpZGVyLCB0SW5qZWN0YWJsZXMsIGxJbmplY3RhYmxlc0JsdWVwcmludCwgaXNDb21wb25lbnQsIGlzVmlld1Byb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvdmlkZXIpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNhbGwgYHJlc29sdmVQcm92aWRlcmBcbiAgICAgICAgLy8gUmVjdXJzaW9uIGlzIE9LIGluIHRoaXMgY2FzZSBiZWNhdXNlIHRoaXMgY29kZSB3aWxsIG5vdCBiZSBpbiBob3QtcGF0aCBvbmNlIHdlIGltcGxlbWVudFxuICAgICAgICAvLyBjbG9uaW5nIG9mIHRoZSBpbml0aWFsIHN0YXRlLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3ZpZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXJbaV0sIHRJbmplY3RhYmxlcywgbEluamVjdGFibGVzQmx1ZXByaW50LCBpc0NvbXBvbmVudCwgaXNWaWV3UHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgbGV0IHRva2VuID0gaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpID8gcHJvdmlkZXIgOiByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci5wcm92aWRlKTtcbiAgICAgICAgbGV0IHByb3ZpZGVyRmFjdG9yeSA9IHByb3ZpZGVyVG9GYWN0b3J5KHByb3ZpZGVyKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICAgICAgY29uc3QgYmVnaW5JbmRleCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgICAgIGNvbnN0IGNwdFZpZXdQcm92aWRlcnNDb3VudCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyA+PiAyMCAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdCAqLztcbiAgICAgICAgaWYgKGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSB8fCAhcHJvdmlkZXIubXVsdGkpIHtcbiAgICAgICAgICAgIC8vIFNpbmdsZSBwcm92aWRlciBjYXNlOiB0aGUgZmFjdG9yeSBpcyBjcmVhdGVkIGFuZCBwdXNoZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShwcm92aWRlckZhY3RvcnksIGlzVmlld1Byb3ZpZGVyLCDJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmFjdG9yeUluZGV4ID0gaW5kZXhPZih0b2tlbiwgdEluamVjdGFibGVzLCBpc1ZpZXdQcm92aWRlciA/IGJlZ2luSW5kZXggOiBiZWdpbkluZGV4ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50LCBlbmRJbmRleCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdGYWN0b3J5SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpLCB0VmlldywgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCB0SW5qZWN0YWJsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0SW5qZWN0YWJsZXMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlU3RhcnQrKztcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVFbmQrKztcbiAgICAgICAgICAgICAgICBpZiAoaXNWaWV3UHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUucHJvdmlkZXJJbmRleGVzICs9IDEwNDg1NzYgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnRlciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgbFZpZXcucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ0ZhY3RvcnlJbmRleF0gPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIGxWaWV3W2V4aXN0aW5nRmFjdG9yeUluZGV4XSA9IGZhY3Rvcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNdWx0aSBwcm92aWRlciBjYXNlOlxuICAgICAgICAgICAgLy8gV2UgY3JlYXRlIGEgbXVsdGkgZmFjdG9yeSB3aGljaCBpcyBnb2luZyB0byBhZ2dyZWdhdGUgYWxsIHRoZSB2YWx1ZXMuXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgb3V0cHV0IG9mIHN1Y2ggYSBmYWN0b3J5IGRlcGVuZHMgb24gY29udGVudCBvciB2aWV3IGluamVjdGlvbixcbiAgICAgICAgICAgIC8vIHdlIGNyZWF0ZSB0d28gb2YgdGhlbSwgd2hpY2ggYXJlIGxpbmtlZCB0b2dldGhlci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3Qgb25lIChmb3IgdmlldyBwcm92aWRlcnMpIGlzIGFsd2F5cyBpbiB0aGUgZmlyc3QgYmxvY2sgb2YgdGhlIGluamVjdGFibGVzIGFycmF5LFxuICAgICAgICAgICAgLy8gYW5kIHRoZSBzZWNvbmQgb25lIChmb3IgcHJvdmlkZXJzKSBpcyBhbHdheXMgaW4gdGhlIHNlY29uZCBibG9jay5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdmlldyBwcm92aWRlcnMgaGF2ZSBoaWdoZXIgcHJpb3JpdHkuIFdoZW4gYSBtdWx0aSB0b2tlblxuICAgICAgICAgICAgLy8gaXMgYmVpbmcgbG9va2VkIHVwLCB0aGUgdmlldyBwcm92aWRlcnMgc2hvdWxkIGJlIGZvdW5kIGZpcnN0LlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBoYXZlIGEgbXVsdGkgZmFjdG9yeSBpbiB0aGUgdGhpcmQgYmxvY2sgKGRpcmVjdGl2ZSBibG9jaykuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGFsZ29yaXRobSB0byBwcm9jZXNzIG11bHRpIHByb3ZpZGVycyBpcyBhcyBmb2xsb3dzOlxuICAgICAgICAgICAgLy8gMSkgSWYgdGhlIG11bHRpIHByb3ZpZGVyIGNvbWVzIGZyb20gdGhlIGB2aWV3UHJvdmlkZXJzYCBvZiB0aGUgY29tcG9uZW50OlxuICAgICAgICAgICAgLy8gICBhKSBJZiB0aGUgc3BlY2lhbCB2aWV3IHByb3ZpZGVycyBmYWN0b3J5IGRvZXNuJ3QgZXhpc3QsIGl0IGlzIGNyZWF0ZWQgYW5kIHB1c2hlZC5cbiAgICAgICAgICAgIC8vICAgYikgRWxzZSwgdGhlIG11bHRpIHByb3ZpZGVyIGlzIGFkZGVkIHRvIHRoZSBleGlzdGluZyBtdWx0aSBmYWN0b3J5LlxuICAgICAgICAgICAgLy8gMikgSWYgdGhlIG11bHRpIHByb3ZpZGVyIGNvbWVzIGZyb20gdGhlIGBwcm92aWRlcnNgIG9mIHRoZSBjb21wb25lbnQgb3Igb2YgYW5vdGhlclxuICAgICAgICAgICAgLy8gZGlyZWN0aXZlOlxuICAgICAgICAgICAgLy8gICBhKSBJZiB0aGUgbXVsdGkgZmFjdG9yeSBkb2Vzbid0IGV4aXN0LCBpdCBpcyBjcmVhdGVkIGFuZCBwcm92aWRlciBwdXNoZWQgaW50byBpdC5cbiAgICAgICAgICAgIC8vICAgICAgSXQgaXMgYWxzbyBsaW5rZWQgdG8gdGhlIG11bHRpIGZhY3RvcnkgZm9yIHZpZXcgcHJvdmlkZXJzLCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAgICAvLyAgIGIpIEVsc2UsIHRoZSBtdWx0aSBwcm92aWRlciBpcyBhZGRlZCB0byB0aGUgZXhpc3RpbmcgbXVsdGkgZmFjdG9yeS5cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4ID0gaW5kZXhPZih0b2tlbiwgdEluamVjdGFibGVzLCBiZWdpbkluZGV4ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50LCBlbmRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggPSBpbmRleE9mKHRva2VuLCB0SW5qZWN0YWJsZXMsIGJlZ2luSW5kZXgsIGJlZ2luSW5kZXggKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQpO1xuICAgICAgICAgICAgY29uc3QgZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCA9IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4ID49IDAgJiZcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QgPSBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggPj0gMCAmJlxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgaWYgKGlzVmlld1Byb3ZpZGVyICYmICFkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCB8fFxuICAgICAgICAgICAgICAgICFpc1ZpZXdQcm92aWRlciAmJiAhZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIENhc2VzIDEuYSBhbmQgMi5hXG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpLCB0VmlldywgdG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBtdWx0aUZhY3RvcnkoaXNWaWV3UHJvdmlkZXIgPyBtdWx0aVZpZXdQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIgOiBtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciwgbEluamVjdGFibGVzQmx1ZXByaW50Lmxlbmd0aCwgaXNWaWV3UHJvdmlkZXIsIGlzQ29tcG9uZW50LCBwcm92aWRlckZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWaWV3UHJvdmlkZXIgJiYgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0ucHJvdmlkZXJGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIHRJbmplY3RhYmxlcy5sZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIHRJbmplY3RhYmxlcy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdGFydCsrO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZUVuZCsrO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgKz0gMTA0ODU3NiAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdGVyICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnQucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBsVmlldy5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FzZXMgMS5iIGFuZCAyLmJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleEluRmFjdG9yeSA9IG11bHRpRmFjdG9yeUFkZChsSW5qZWN0YWJsZXNCbHVlcHJpbnRbaXNWaWV3UHJvdmlkZXIgPyBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggOlxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0sIHByb3ZpZGVyRmFjdG9yeSwgIWlzVmlld1Byb3ZpZGVyICYmIGlzQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkKHRWaWV3LCBwcm92aWRlciwgZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggPiAtMSA/IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4IDpcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4LCBpbmRleEluRmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVmlld1Byb3ZpZGVyICYmIGlzQ29tcG9uZW50ICYmIGRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0KSB7XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0uY29tcG9uZW50UHJvdmlkZXJzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgYG5nT25EZXN0cm95YCBob29rIG9mIGEgcHJvdmlkZXIsIGlmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBkZXN0cm95IGhvb2tzLlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgaW4gd2hpY2ggdG8gcmVnaXN0ZXIgdGhlIGhvb2suXG4gKiBAcGFyYW0gcHJvdmlkZXIgUHJvdmlkZXIgd2hvc2UgaG9vayBzaG91bGQgYmUgcmVnaXN0ZXJlZC5cbiAqIEBwYXJhbSBjb250ZXh0SW5kZXggSW5kZXggdW5kZXIgd2hpY2ggdG8gZmluZCB0aGUgY29udGV4dCBmb3IgdGhlIGhvb2sgd2hlbiBpdCdzIGJlaW5nIGludm9rZWQuXG4gKiBAcGFyYW0gaW5kZXhJbkZhY3RvcnkgT25seSByZXF1aXJlZCBmb3IgYG11bHRpYCBwcm92aWRlcnMuIEluZGV4IG9mIHRoZSBwcm92aWRlciBpbiB0aGUgbXVsdGlcbiAqIHByb3ZpZGVyIGZhY3RvcnkuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCBjb250ZXh0SW5kZXgsIGluZGV4SW5GYWN0b3J5KSB7XG4gICAgY29uc3QgcHJvdmlkZXJJc1R5cGVQcm92aWRlciA9IGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICBjb25zdCBwcm92aWRlcklzQ2xhc3NQcm92aWRlciA9IGlzQ2xhc3NQcm92aWRlcihwcm92aWRlcik7XG4gICAgaWYgKHByb3ZpZGVySXNUeXBlUHJvdmlkZXIgfHwgcHJvdmlkZXJJc0NsYXNzUHJvdmlkZXIpIHtcbiAgICAgICAgLy8gUmVzb2x2ZSBmb3J3YXJkIHJlZmVyZW5jZXMgYXMgYHVzZUNsYXNzYCBjYW4gaG9sZCBhIGZvcndhcmQgcmVmZXJlbmNlLlxuICAgICAgICBjb25zdCBjbGFzc1Rva2VuID0gcHJvdmlkZXJJc0NsYXNzUHJvdmlkZXIgPyByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VDbGFzcykgOiBwcm92aWRlcjtcbiAgICAgICAgY29uc3QgcHJvdG90eXBlID0gY2xhc3NUb2tlbi5wcm90b3R5cGU7XG4gICAgICAgIGNvbnN0IG5nT25EZXN0cm95ID0gcHJvdG90eXBlLm5nT25EZXN0cm95O1xuICAgICAgICBpZiAobmdPbkRlc3Ryb3kpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2tzID0gdFZpZXcuZGVzdHJveUhvb2tzIHx8ICh0Vmlldy5kZXN0cm95SG9va3MgPSBbXSk7XG4gICAgICAgICAgICBpZiAoIXByb3ZpZGVySXNUeXBlUHJvdmlkZXIgJiYgcHJvdmlkZXIubXVsdGkpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChpbmRleEluRmFjdG9yeSwgJ2luZGV4SW5GYWN0b3J5IHdoZW4gcmVnaXN0ZXJpbmcgbXVsdGkgZmFjdG9yeSBkZXN0cm95IGhvb2snKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0NhbGxiYWNrc0luZGV4ID0gaG9va3MuaW5kZXhPZihjb250ZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0NhbGxiYWNrc0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBob29rcy5wdXNoKGNvbnRleHRJbmRleCwgW2luZGV4SW5GYWN0b3J5LCBuZ09uRGVzdHJveV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3NbZXhpc3RpbmdDYWxsYmFja3NJbmRleCArIDFdLnB1c2goaW5kZXhJbkZhY3RvcnksIG5nT25EZXN0cm95KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob29rcy5wdXNoKGNvbnRleHRJbmRleCwgbmdPbkRlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBZGQgYSBmYWN0b3J5IGluIGEgbXVsdGkgZmFjdG9yeS5cbiAqIEByZXR1cm5zIEluZGV4IGF0IHdoaWNoIHRoZSBmYWN0b3J5IHdhcyBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlGYWN0b3J5QWRkKG11bHRpRmFjdG9yeSwgZmFjdG9yeSwgaXNDb21wb25lbnRQcm92aWRlcikge1xuICAgIGlmIChpc0NvbXBvbmVudFByb3ZpZGVyKSB7XG4gICAgICAgIG11bHRpRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMrKztcbiAgICB9XG4gICAgcmV0dXJuIG11bHRpRmFjdG9yeS5tdWx0aS5wdXNoKGZhY3RvcnkpIC0gMTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgaXRlbSBpbiB0aGUgYXJyYXksIGJ1dCBvbmx5IGluIHRoZSBiZWdpbiB0byBlbmQgcmFuZ2UuXG4gKi9cbmZ1bmN0aW9uIGluZGV4T2YoaXRlbSwgYXJyLCBiZWdpbiwgZW5kKSB7XG4gICAgZm9yIChsZXQgaSA9IGJlZ2luOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSA9PT0gaXRlbSlcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIFVzZSB0aGlzIHdpdGggYG11bHRpYCBgcHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIoXywgdERhdGEsIGxEYXRhLCB0Tm9kZSkge1xuICAgIHJldHVybiBtdWx0aVJlc29sdmUodGhpcy5tdWx0aSwgW10pO1xufVxuLyoqXG4gKiBVc2UgdGhpcyB3aXRoIGBtdWx0aWAgYHZpZXdQcm92aWRlcnNgLlxuICpcbiAqIFRoaXMgZmFjdG9yeSBrbm93cyBob3cgdG8gY29uY2F0ZW5hdGUgaXRzZWxmIHdpdGggdGhlIGV4aXN0aW5nIGBtdWx0aWAgYHByb3ZpZGVyc2AuXG4gKi9cbmZ1bmN0aW9uIG11bHRpVmlld1Byb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlcihfLCB0RGF0YSwgbFZpZXcsIHROb2RlKSB7XG4gICAgY29uc3QgZmFjdG9yaWVzID0gdGhpcy5tdWx0aTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh0aGlzLnByb3ZpZGVyRmFjdG9yeSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRDb3VudCA9IHRoaXMucHJvdmlkZXJGYWN0b3J5LmNvbXBvbmVudFByb3ZpZGVycztcbiAgICAgICAgY29uc3QgbXVsdGlQcm92aWRlcnMgPSBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgbFZpZXdbVFZJRVddLCB0aGlzLnByb3ZpZGVyRmFjdG9yeS5pbmRleCwgdE5vZGUpO1xuICAgICAgICAvLyBDb3B5IHRoZSBzZWN0aW9uIG9mIHRoZSBhcnJheSB3aGljaCBjb250YWlucyBgbXVsdGlgIGBwcm92aWRlcnNgIGZyb20gdGhlIGNvbXBvbmVudFxuICAgICAgICByZXN1bHQgPSBtdWx0aVByb3ZpZGVycy5zbGljZSgwLCBjb21wb25lbnRDb3VudCk7XG4gICAgICAgIC8vIEluc2VydCB0aGUgYHZpZXdQcm92aWRlcmAgaW5zdGFuY2VzLlxuICAgICAgICBtdWx0aVJlc29sdmUoZmFjdG9yaWVzLCByZXN1bHQpO1xuICAgICAgICAvLyBDb3B5IHRoZSBzZWN0aW9uIG9mIHRoZSBhcnJheSB3aGljaCBjb250YWlucyBgbXVsdGlgIGBwcm92aWRlcnNgIGZyb20gb3RoZXIgZGlyZWN0aXZlc1xuICAgICAgICBmb3IgKGxldCBpID0gY29tcG9uZW50Q291bnQ7IGkgPCBtdWx0aVByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobXVsdGlQcm92aWRlcnNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBgdmlld1Byb3ZpZGVyYCBpbnN0YW5jZXMuXG4gICAgICAgIG11bHRpUmVzb2x2ZShmYWN0b3JpZXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIE1hcHMgYW4gYXJyYXkgb2YgZmFjdG9yaWVzIGludG8gYW4gYXJyYXkgb2YgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBtdWx0aVJlc29sdmUoZmFjdG9yaWVzLCByZXN1bHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhY3Rvcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gZmFjdG9yaWVzW2ldO1xuICAgICAgICByZXN1bHQucHVzaChmYWN0b3J5KCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbXVsdGkgZmFjdG9yeS5cbiAqL1xuZnVuY3Rpb24gbXVsdGlGYWN0b3J5KGZhY3RvcnlGbiwgaW5kZXgsIGlzVmlld1Byb3ZpZGVyLCBpc0NvbXBvbmVudCwgZikge1xuICAgIGNvbnN0IGZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShmYWN0b3J5Rm4sIGlzVmlld1Byb3ZpZGVyLCDJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICBmYWN0b3J5Lm11bHRpID0gW107XG4gICAgZmFjdG9yeS5pbmRleCA9IGluZGV4O1xuICAgIGZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzID0gMDtcbiAgICBtdWx0aUZhY3RvcnlBZGQoZmFjdG9yeSwgZiwgaXNDb21wb25lbnQgJiYgIWlzVmlld1Byb3ZpZGVyKTtcbiAgICByZXR1cm4gZmFjdG9yeTtcbn1cblxuLyoqXG4gKiBUaGlzIGZlYXR1cmUgcmVzb2x2ZXMgdGhlIHByb3ZpZGVycyBvZiBhIGRpcmVjdGl2ZSAob3IgY29tcG9uZW50KSxcbiAqIGFuZCBwdWJsaXNoIHRoZW0gaW50byB0aGUgREkgc3lzdGVtLCBtYWtpbmcgaXQgdmlzaWJsZSB0byBvdGhlcnMgZm9yIGluamVjdGlvbi5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBjbGFzcyBDb21wb25lbnRXaXRoUHJvdmlkZXJzIHtcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBncmVldGVyOiBHcmVldGVyREUpIHt9XG4gKlxuICogICBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAgIHR5cGU6IENvbXBvbmVudFdpdGhQcm92aWRlcnMsXG4gKiAgICAgc2VsZWN0b3JzOiBbWydjb21wb25lbnQtd2l0aC1wcm92aWRlcnMnXV0sXG4gKiAgICBmYWN0b3J5OiAoKSA9PiBuZXcgQ29tcG9uZW50V2l0aFByb3ZpZGVycyhkaXJlY3RpdmVJbmplY3QoR3JlZXRlckRFIGFzIGFueSkpLFxuICogICAgZGVjbHM6IDEsXG4gKiAgICB2YXJzOiAxLFxuICogICAgdGVtcGxhdGU6IGZ1bmN0aW9uKGZzOiBSZW5kZXJGbGFncywgY3R4OiBDb21wb25lbnRXaXRoUHJvdmlkZXJzKSB7XG4gKiAgICAgIGlmIChmcyAmIFJlbmRlckZsYWdzLkNyZWF0ZSkge1xuICogICAgICAgIMm1ybV0ZXh0KDApO1xuICogICAgICB9XG4gKiAgICAgIGlmIChmcyAmIFJlbmRlckZsYWdzLlVwZGF0ZSkge1xuICogICAgICAgIMm1ybV0ZXh0SW50ZXJwb2xhdGUoY3R4LmdyZWV0ZXIuZ3JlZXQoKSk7XG4gKiAgICAgIH1cbiAqICAgIH0sXG4gKiAgICBmZWF0dXJlczogW8m1ybVQcm92aWRlcnNGZWF0dXJlKFtHcmVldGVyREVdKV1cbiAqICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBkZWZpbml0aW9uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtVByb3ZpZGVyc0ZlYXR1cmUocHJvdmlkZXJzLCB2aWV3UHJvdmlkZXJzID0gW10pIHtcbiAgICByZXR1cm4gKGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgZGVmaW5pdGlvbi5wcm92aWRlcnNSZXNvbHZlciA9XG4gICAgICAgICAgICAoZGVmLCBwcm9jZXNzUHJvdmlkZXJzRm4pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXJzUmVzb2x2ZXIoZGVmLCAvL1xuICAgICAgICAgICAgICAgIHByb2Nlc3NQcm92aWRlcnNGbiA/IHByb2Nlc3NQcm92aWRlcnNGbihwcm92aWRlcnMpIDogcHJvdmlkZXJzLCAvL1xuICAgICAgICAgICAgICAgIHZpZXdQcm92aWRlcnMpO1xuICAgICAgICAgICAgfTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbXBvbmVudCBjcmVhdGVkIGJ5IGEgYENvbXBvbmVudEZhY3RvcnlgLlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIHJlbGF0ZWQgb2JqZWN0cyxcbiAqIGFuZCBwcm92aWRlcyB0aGUgbWVhbnMgb2YgZGVzdHJveWluZyB0aGUgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBDb21wb25lbnRSZWYkMSB7XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGEgZmFjdG9yeSB0aGF0IGNhbiBjcmVhdGUgYSBjb21wb25lbnQgZHluYW1pY2FsbHkuXG4gKiBJbnN0YW50aWF0ZSBhIGZhY3RvcnkgZm9yIGEgZ2l2ZW4gdHlwZSBvZiBjb21wb25lbnQgd2l0aCBgcmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoKWAuXG4gKiBVc2UgdGhlIHJlc3VsdGluZyBgQ29tcG9uZW50RmFjdG9yeS5jcmVhdGUoKWAgbWV0aG9kIHRvIGNyZWF0ZSBhIGNvbXBvbmVudCBvZiB0aGF0IHR5cGUuXG4gKlxuICogQHNlZSBbRHluYW1pYyBDb21wb25lbnRzXShndWlkZS9keW5hbWljLWNvbXBvbmVudC1sb2FkZXIpXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkIEFuZ3VsYXIgbm8gbG9uZ2VyIHJlcXVpcmVzIENvbXBvbmVudCBmYWN0b3JpZXMuIFBsZWFzZSB1c2Ugb3RoZXIgQVBJcyB3aGVyZVxuICogICAgIENvbXBvbmVudCBjbGFzcyBjYW4gYmUgdXNlZCBkaXJlY3RseS5cbiAqL1xuY2xhc3MgQ29tcG9uZW50RmFjdG9yeSQxIHtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBub0NvbXBvbmVudEZhY3RvcnlFcnJvcihjb21wb25lbnQpIHtcbiAgICBjb25zdCBlcnJvciA9IEVycm9yKGBObyBjb21wb25lbnQgZmFjdG9yeSBmb3VuZCBmb3IgJHtzdHJpbmdpZnkoY29tcG9uZW50KX0uIERpZCB5b3UgYWRkIGl0IHRvIEBOZ01vZHVsZS5lbnRyeUNvbXBvbmVudHM/YCk7XG4gICAgZXJyb3JbRVJST1JfQ09NUE9ORU5UXSA9IGNvbXBvbmVudDtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5jb25zdCBFUlJPUl9DT01QT05FTlQgPSAnbmdDb21wb25lbnQnO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50KGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yW0VSUk9SX0NPTVBPTkVOVF07XG59XG5jbGFzcyBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB7XG4gICAgcmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50KSB7XG4gICAgICAgIHRocm93IG5vQ29tcG9uZW50RmFjdG9yeUVycm9yKGNvbXBvbmVudCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNpbXBsZSByZWdpc3RyeSB0aGF0IG1hcHMgYENvbXBvbmVudHNgIHRvIGdlbmVyYXRlZCBgQ29tcG9uZW50RmFjdG9yeWAgY2xhc3Nlc1xuICogdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGNvbXBvbmVudHMuXG4gKiBVc2UgdG8gb2J0YWluIHRoZSBmYWN0b3J5IGZvciBhIGdpdmVuIGNvbXBvbmVudCB0eXBlLFxuICogdGhlbiB1c2UgdGhlIGZhY3RvcnkncyBgY3JlYXRlKClgIG1ldGhvZCB0byBjcmVhdGUgYSBjb21wb25lbnQgb2YgdGhhdCB0eXBlLlxuICpcbiAqIE5vdGU6IHNpbmNlIHYxMywgZHluYW1pYyBjb21wb25lbnQgY3JlYXRpb24gdmlhXG4gKiBbYFZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50YF0oYXBpL2NvcmUvVmlld0NvbnRhaW5lclJlZiNjcmVhdGVDb21wb25lbnQpXG4gKiBkb2VzICoqbm90KiogcmVxdWlyZSByZXNvbHZpbmcgY29tcG9uZW50IGZhY3Rvcnk6IGNvbXBvbmVudCBjbGFzcyBjYW4gYmUgdXNlZCBkaXJlY3RseS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWQgQW5ndWxhciBubyBsb25nZXIgcmVxdWlyZXMgQ29tcG9uZW50IGZhY3Rvcmllcy4gUGxlYXNlIHVzZSBvdGhlciBBUElzIHdoZXJlXG4gKiAgICAgQ29tcG9uZW50IGNsYXNzIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSB7XG59XG5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMS5OVUxMID0gKCAvKiBAX19QVVJFX18gKi9uZXcgX051bGxDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuIEVsZW1lbnRSZWYgZnJvbSB0aGUgbW9zdCByZWNlbnQgbm9kZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgRWxlbWVudFJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0RWxlbWVudFJlZigpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gRWxlbWVudFJlZiBnaXZlbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBub2RlIGZvciB3aGljaCB5b3UnZCBsaWtlIGFuIEVsZW1lbnRSZWZcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcmV0dXJucyBUaGUgRWxlbWVudFJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFJlZih0Tm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gbmV3IEVsZW1lbnRSZWYoZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpKTtcbn1cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBlbGVtZW50IGluc2lkZSBvZiBhIFZpZXcuXG4gKlxuICogQW4gYEVsZW1lbnRSZWZgIGlzIGJhY2tlZCBieSBhIHJlbmRlci1zcGVjaWZpYyBlbGVtZW50LiBJbiB0aGUgYnJvd3NlciwgdGhpcyBpcyB1c3VhbGx5IGEgRE9NXG4gKiBlbGVtZW50LlxuICpcbiAqIEBzZWN1cml0eSBQZXJtaXR0aW5nIGRpcmVjdCBhY2Nlc3MgdG8gdGhlIERPTSBjYW4gbWFrZSB5b3VyIGFwcGxpY2F0aW9uIG1vcmUgdnVsbmVyYWJsZSB0b1xuICogWFNTIGF0dGFja3MuIENhcmVmdWxseSByZXZpZXcgYW55IHVzZSBvZiBgRWxlbWVudFJlZmAgaW4geW91ciBjb2RlLiBGb3IgbW9yZSBkZXRhaWwsIHNlZSB0aGVcbiAqIFtTZWN1cml0eSBHdWlkZV0oaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5KS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbi8vIE5vdGU6IFdlIGRvbid0IGV4cG9zZSB0aGluZ3MgbGlrZSBgSW5qZWN0b3JgLCBgVmlld0NvbnRhaW5lcmAsIC4uLiBoZXJlLFxuLy8gaS5lLiB1c2VycyBoYXZlIHRvIGFzayBmb3Igd2hhdCB0aGV5IG5lZWQuIFdpdGggdGhhdCwgd2UgY2FuIGJ1aWxkIGJldHRlciBhbmFseXNpcyB0b29sc1xuLy8gYW5kIGNvdWxkIGRvIGJldHRlciBjb2RlZ2VuIGluIHRoZSBmdXR1cmUuXG5jbGFzcyBFbGVtZW50UmVmIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMubmF0aXZlRWxlbWVudCA9IG5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cbkVsZW1lbnRSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RFbGVtZW50UmVmO1xuLyoqXG4gKiBVbndyYXBzIGBFbGVtZW50UmVmYCBhbmQgcmV0dXJuIHRoZSBgbmF0aXZlRWxlbWVudGAuXG4gKlxuICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHVud3JhcFxuICogQHJldHVybnMgYG5hdGl2ZUVsZW1lbnRgIGlmIGBFbGVtZW50UmVmYCBvdGhlcndpc2UgcmV0dXJucyB2YWx1ZSBhcyBpcy5cbiAqL1xuZnVuY3Rpb24gdW53cmFwRWxlbWVudFJlZih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyB2YWx1ZS5uYXRpdmVFbGVtZW50IDogdmFsdWU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgUmVuZGVyZXIySW50ZXJjZXB0b3IgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1JlbmRlcmVyMkludGVyY2VwdG9yJyk7XG4vKipcbiAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgY3VzdG9tIHJlbmRlcmVyIHRoYXQgaW1wbGVtZW50cyB0aGUgYFJlbmRlcmVyMmAgYmFzZSBjbGFzcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlbmRlcmVyRmFjdG9yeTIge1xufVxuLyoqXG4gKiBFeHRlbmQgdGhpcyBiYXNlIGNsYXNzIHRvIGltcGxlbWVudCBjdXN0b20gcmVuZGVyaW5nLiBCeSBkZWZhdWx0LCBBbmd1bGFyXG4gKiByZW5kZXJzIGEgdGVtcGxhdGUgaW50byBET00uIFlvdSBjYW4gdXNlIGN1c3RvbSByZW5kZXJpbmcgdG8gaW50ZXJjZXB0XG4gKiByZW5kZXJpbmcgY2FsbHMsIG9yIHRvIHJlbmRlciB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiBET00uXG4gKlxuICogQ3JlYXRlIHlvdXIgY3VzdG9tIHJlbmRlcmVyIHVzaW5nIGBSZW5kZXJlckZhY3RvcnkyYC5cbiAqXG4gKiBVc2UgYSBjdXN0b20gcmVuZGVyZXIgdG8gYnlwYXNzIEFuZ3VsYXIncyB0ZW1wbGF0aW5nIGFuZFxuICogbWFrZSBjdXN0b20gVUkgY2hhbmdlcyB0aGF0IGNhbid0IGJlIGV4cHJlc3NlZCBkZWNsYXJhdGl2ZWx5LlxuICogRm9yIGV4YW1wbGUgaWYgeW91IG5lZWQgdG8gc2V0IGEgcHJvcGVydHkgb3IgYW4gYXR0cmlidXRlIHdob3NlIG5hbWUgaXNcbiAqIG5vdCBzdGF0aWNhbGx5IGtub3duLCB1c2UgdGhlIGBzZXRQcm9wZXJ0eSgpYCBvclxuICogYHNldEF0dHJpYnV0ZSgpYCBtZXRob2QuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBSZW5kZXJlcjIge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cblJlbmRlcmVyMi5fX05HX0VMRU1FTlRfSURfXyA9ICgpID0+IGluamVjdFJlbmRlcmVyMigpO1xuLyoqIFJldHVybnMgYSBSZW5kZXJlcjIgKG9yIHRocm93cyB3aGVuIGFwcGxpY2F0aW9uIHdhcyBib290c3RyYXBwZWQgd2l0aCBSZW5kZXJlcjMpICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVJlbmRlcmVyMihsVmlldykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbmplY3QgUmVuZGVyZXIyIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHVzZXMgUmVuZGVyZXIzIScpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZXI7XG59XG4vKiogSW5qZWN0cyBhIFJlbmRlcmVyMiBmb3IgdGhlIGN1cnJlbnQgY29tcG9uZW50LiAqL1xuZnVuY3Rpb24gaW5qZWN0UmVuZGVyZXIyKCkge1xuICAgIC8vIFdlIG5lZWQgdGhlIFJlbmRlcmVyIHRvIGJlIGJhc2VkIG9uIHRoZSBjb21wb25lbnQgdGhhdCBpdCdzIGJlaW5nIGluamVjdGVkIGludG8sIGhvd2V2ZXIgc2luY2VcbiAgICAvLyBESSBoYXBwZW5zIGJlZm9yZSB3ZSd2ZSBlbnRlcmVkIGl0cyB2aWV3LCBgZ2V0TFZpZXdgIHdpbGwgcmV0dXJuIHRoZSBwYXJlbnQgdmlldyBpbnN0ZWFkLlxuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IG5vZGVBdEluZGV4ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgcmV0dXJuIGdldE9yQ3JlYXRlUmVuZGVyZXIyKGlzTFZpZXcobm9kZUF0SW5kZXgpID8gbm9kZUF0SW5kZXggOiBsVmlldyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTYW5pdGl6ZXIgaXMgdXNlZCBieSB0aGUgdmlld3MgdG8gc2FuaXRpemUgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHZhbHVlcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFNhbml0aXplciB7XG59XG4vKiogQG5vY29sbGFwc2UgKi9cblNhbml0aXplci7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgdG9rZW46IFNhbml0aXplcixcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogKCkgPT4gbnVsbCxcbn0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQGRlc2NyaXB0aW9uIFJlcHJlc2VudHMgdGhlIHZlcnNpb24gb2YgQW5ndWxhclxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVmVyc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZnVsbCkge1xuICAgICAgICB0aGlzLmZ1bGwgPSBmdWxsO1xuICAgICAgICB0aGlzLm1ham9yID0gZnVsbC5zcGxpdCgnLicpWzBdO1xuICAgICAgICB0aGlzLm1pbm9yID0gZnVsbC5zcGxpdCgnLicpWzFdO1xuICAgICAgICB0aGlzLnBhdGNoID0gZnVsbC5zcGxpdCgnLicpLnNsaWNlKDIpLmpvaW4oJy4nKTtcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVkVSU0lPTiA9IG5ldyBWZXJzaW9uKCcxMy4yLjYnKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaGlzIGRlZmF1bHQgdmFsdWUgaXMgd2hlbiBjaGVja2luZyB0aGUgaGllcmFyY2h5IGZvciBhIHRva2VuLlxuLy9cbi8vIEl0IG1lYW5zIGJvdGg6XG4vLyAtIHRoZSB0b2tlbiBpcyBub3QgcHJvdmlkZWQgYnkgdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4vLyAtIG9ubHkgdGhlIGVsZW1lbnQgaW5qZWN0b3JzIHNob3VsZCBiZSBjaGVja2VkIChpZSBkbyBub3QgY2hlY2sgbW9kdWxlIGluamVjdG9yc1xuLy9cbi8vICAgICAgICAgIG1vZDFcbi8vICAgICAgICAgL1xuLy8gICAgICAgZWwxICAgbW9kMlxuLy8gICAgICAgICBcXCAgL1xuLy8gICAgICAgICBlbDJcbi8vXG4vLyBXaGVuIHJlcXVlc3RpbmcgZWwyLmluamVjdG9yLmdldCh0b2tlbiksIHdlIHNob3VsZCBjaGVjayBpbiB0aGUgZm9sbG93aW5nIG9yZGVyIGFuZCByZXR1cm4gdGhlXG4vLyBmaXJzdCBmb3VuZCB2YWx1ZTpcbi8vIC0gZWwyLmluamVjdG9yLmdldCh0b2tlbiwgZGVmYXVsdClcbi8vIC0gZWwxLmluamVjdG9yLmdldCh0b2tlbiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUikgLT4gZG8gbm90IGNoZWNrIHRoZSBtb2R1bGVcbi8vIC0gbW9kMi5pbmplY3Rvci5nZXQodG9rZW4sIGRlZmF1bHQpXG5jb25zdCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SID0ge307XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gY29sbGVjdE5hdGl2ZU5vZGVzKHRWaWV3LCBsVmlldywgdE5vZGUsIHJlc3VsdCwgaXNQcm9qZWN0aW9uID0gZmFsc2UpIHtcbiAgICB3aGlsZSAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAxNiAvKiBQcm9qZWN0aW9uICovIHwgMzIgLyogSWN1ICovKTtcbiAgICAgICAgY29uc3QgbE5vZGUgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIGlmIChsTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godW53cmFwUk5vZGUobE5vZGUpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIGdpdmVuIGxOb2RlIGNhbiByZXByZXNlbnQgZWl0aGVyIGEgbmF0aXZlIG5vZGUgb3IgYSBMQ29udGFpbmVyICh3aGVuIGl0IGlzIGEgaG9zdCBvZiBhXG4gICAgICAgIC8vIFZpZXdDb250YWluZXJSZWYpLiBXaGVuIHdlIGZpbmQgYSBMQ29udGFpbmVyIHdlIG5lZWQgdG8gZGVzY2VuZCBpbnRvIGl0IHRvIGNvbGxlY3Qgcm9vdCBub2Rlc1xuICAgICAgICAvLyBmcm9tIHRoZSB2aWV3cyBpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgaWYgKGlzTENvbnRhaW5lcihsTm9kZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxOb2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbFZpZXdJbkFDb250YWluZXIgPSBsTm9kZVtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsVmlld0ZpcnN0Q2hpbGRUTm9kZSA9IGxWaWV3SW5BQ29udGFpbmVyW1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChsVmlld0ZpcnN0Q2hpbGRUTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0TmF0aXZlTm9kZXMobFZpZXdJbkFDb250YWluZXJbVFZJRVddLCBsVmlld0luQUNvbnRhaW5lciwgbFZpZXdGaXJzdENoaWxkVE5vZGUsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHROb2RlVHlwZSA9IHROb2RlLnR5cGU7XG4gICAgICAgIGlmICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIGNvbGxlY3ROYXRpdmVOb2Rlcyh0VmlldywgbFZpZXcsIHROb2RlLmNoaWxkLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0ZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgbGV0IHJOb2RlO1xuICAgICAgICAgICAgd2hpbGUgKHJOb2RlID0gbmV4dFJOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXNJblNsb3QgPSBnZXRQcm9qZWN0aW9uTm9kZXMobFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVzSW5TbG90KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLm5vZGVzSW5TbG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSBnZXRMVmlld1BhcmVudChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10pO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQYXJlbnRWaWV3KHBhcmVudFZpZXcpO1xuICAgICAgICAgICAgICAgIGNvbGxlY3ROYXRpdmVOb2RlcyhwYXJlbnRWaWV3W1RWSUVXXSwgcGFyZW50Vmlldywgbm9kZXNJblNsb3QsIHJlc3VsdCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGUgPSBpc1Byb2plY3Rpb24gPyB0Tm9kZS5wcm9qZWN0aW9uTmV4dCA6IHROb2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgVmlld1JlZiQxIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlcHJlc2VudHMgYExWaWV3YCBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbXBvbmVudCB3aGVuIFZpZXdSZWYgaXMgYSBDaGFuZ2VEZXRlY3RvclJlZi5cbiAgICAgKlxuICAgICAqIFdoZW4gVmlld1JlZiBpcyBjcmVhdGVkIGZvciBhIGR5bmFtaWMgY29tcG9uZW50LCB0aGlzIGFsc28gcmVwcmVzZW50cyB0aGUgYExWaWV3YCBmb3IgdGhlXG4gICAgICogY29tcG9uZW50LlxuICAgICAqXG4gICAgICogRm9yIGEgXCJyZWd1bGFyXCIgVmlld1JlZiBjcmVhdGVkIGZvciBhbiBlbWJlZGRlZCB2aWV3LCB0aGlzIGlzIHRoZSBgTFZpZXdgIGZvciB0aGUgZW1iZWRkZWRcbiAgICAgKiB2aWV3LlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX2xWaWV3LCBcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlcHJlc2VudHMgdGhlIGBMVmlld2AgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb2ludCB3aGVyZSBgQ2hhbmdlRGV0ZWN0b3JSZWZgIHdhc1xuICAgICAqIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWF5IGJlIGRpZmZlcmVudCBmcm9tIGBfbFZpZXdgIGlmIHRoZSBgX2NkUmVmSW5qZWN0aW5nVmlld2AgaXMgYW4gZW1iZWRkZWQgdmlldy5cbiAgICAgKi9cbiAgICBfY2RSZWZJbmplY3RpbmdWaWV3KSB7XG4gICAgICAgIHRoaXMuX2xWaWV3ID0gX2xWaWV3O1xuICAgICAgICB0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXcgPSBfY2RSZWZJbmplY3RpbmdWaWV3O1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lciA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgcm9vdE5vZGVzKCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IHRoaXMuX2xWaWV3O1xuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3ROYXRpdmVOb2Rlcyh0VmlldywgbFZpZXcsIHRWaWV3LmZpcnN0Q2hpbGQsIFtdKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sVmlld1tDT05URVhUXTtcbiAgICB9XG4gICAgc2V0IGNvbnRleHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbFZpZXdbQ09OVEVYVF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGRlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9sVmlld1tGTEFHU10gJiAyNTYgLyogRGVzdHJveWVkICovKSA9PT0gMjU2IC8qIERlc3Ryb3llZCAqLztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFJlZikge1xuICAgICAgICAgICAgdGhpcy5fYXBwUmVmLmRldGFjaFZpZXcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX2xWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICBpZiAoaXNMQ29udGFpbmVyKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3UmVmcyA9IHBhcmVudFtWSUVXX1JFRlNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmlld1JlZnMgPyB2aWV3UmVmcy5pbmRleE9mKHRoaXMpIDogLTE7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChpbmRleCwgcGFyZW50LmluZGV4T2YodGhpcy5fbFZpZXcpIC0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQsICdBbiBhdHRhY2hlZCB2aWV3IHNob3VsZCBiZSBpbiB0aGUgc2FtZSBwb3NpdGlvbiB3aXRoaW4gaXRzIGNvbnRhaW5lciBhcyBpdHMgVmlld1JlZiBpbiB0aGUgVklFV19SRUZTIGFycmF5LicpO1xuICAgICAgICAgICAgICAgICAgICBkZXRhY2hWaWV3KHBhcmVudCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodmlld1JlZnMsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlc3Ryb3lMVmlldyh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3KTtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHN0b3JlQ2xlYW51cFdpdGhDb250ZXh0KHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcsIG51bGwsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgYSB2aWV3IGFuZCBhbGwgb2YgaXRzIGFuY2VzdG9ycyBkaXJ0eS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gZW5zdXJlIGFuIHtAbGluayBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSNPblB1c2ggT25QdXNofSBjb21wb25lbnQgaXNcbiAgICAgKiBjaGVja2VkIHdoZW4gaXQgbmVlZHMgdG8gYmUgcmUtcmVuZGVyZWQgYnV0IHRoZSB0d28gbm9ybWFsIHRyaWdnZXJzIGhhdmVuJ3QgbWFya2VkIGl0XG4gICAgICogZGlydHkgKGkuZS4gaW5wdXRzIGhhdmVuJ3QgY2hhbmdlZCBhbmQgZXZlbnRzIGhhdmVuJ3QgZmlyZWQgaW4gdGhlIHZpZXcpLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBPblB1c2ggY29tcG9uZW50cyAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwLXJvb3QnLFxuICAgICAqICAgdGVtcGxhdGU6IGBOdW1iZXIgb2YgdGlja3M6IHt7bnVtYmVyT2ZUaWNrc319YFxuICAgICAqICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgICAqICAgbnVtYmVyT2ZUaWNrcyA9IDA7XG4gICAgICpcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuICAgICAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogICAgICAgdGhpcy5udW1iZXJPZlRpY2tzKys7XG4gICAgICogICAgICAgLy8gdGhlIGZvbGxvd2luZyBpcyByZXF1aXJlZCwgb3RoZXJ3aXNlIHRoZSB2aWV3IHdpbGwgbm90IGJlIHVwZGF0ZWRcbiAgICAgKiAgICAgICB0aGlzLnJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICAgKiAgICAgfSwgMTAwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG1hcmtGb3JDaGVjaygpIHtcbiAgICAgICAgbWFya1ZpZXdEaXJ0eSh0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXcgfHwgdGhpcy5fbFZpZXcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyB0aGUgdmlldyBmcm9tIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gICAgICpcbiAgICAgKiBEZXRhY2hlZCB2aWV3cyB3aWxsIG5vdCBiZSBjaGVja2VkIGR1cmluZyBjaGFuZ2UgZGV0ZWN0aW9uIHJ1bnMgdW50aWwgdGhleSBhcmVcbiAgICAgKiByZS1hdHRhY2hlZCwgZXZlbiBpZiB0aGV5IGFyZSBkaXJ0eS4gYGRldGFjaGAgY2FuIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICAgICAqIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRlY3RDaGFuZ2VzIGRldGVjdENoYW5nZXN9IHRvIGltcGxlbWVudCBsb2NhbCBjaGFuZ2VcbiAgICAgKiBkZXRlY3Rpb24gY2hlY2tzLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBkZXRhY2gvcmVhdHRhY2gvbG9jYWwgZGlnZXN0IC0tPlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGl2ZSBkZW1vIG9uY2UgcmVmLmRldGVjdENoYW5nZXMgaXMgbWVyZ2VkIGludG8gbWFzdGVyIC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlZmluZXMgYSBjb21wb25lbnQgd2l0aCBhIGxhcmdlIGxpc3Qgb2YgcmVhZG9ubHkgZGF0YS5cbiAgICAgKiBJbWFnaW5lIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLiBXZSBjYW4gZG8gdGhhdCBieSBkZXRhY2hpbmdcbiAgICAgKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBkb2luZyBhIGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgLy8gaW4gYSByZWFsIGFwcGxpY2F0aW9uIHRoZSByZXR1cm5lZCBkYXRhIHdpbGwgYmUgZGlmZmVyZW50IGV2ZXJ5IHRpbWVcbiAgICAgKiAgIGdldCBkYXRhKCkge1xuICAgICAqICAgICByZXR1cm4gWzEsMiwzLDQsNV07XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2dpYW50LWxpc3QnLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgPGxpICpuZ0Zvcj1cImxldCBkIG9mIGRhdGFQcm92aWRlci5kYXRhXCI+RGF0YSB7e2R9fTwvbGk+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgR2lhbnRMaXN0IHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkYXRhUHJvdmlkZXI6IERhdGFQcm92aWRlcikge1xuICAgICAqICAgICByZWYuZGV0YWNoKCk7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICogICAgIH0sIDUwMDApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICAgICAqICAgcHJvdmlkZXJzOiBbRGF0YVByb3ZpZGVyXSxcbiAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICogICAgIDxnaWFudC1saXN0PjxnaWFudC1saXN0PlxuICAgICAqICAgYCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcCB7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgdGhpcy5fbFZpZXdbRkxBR1NdICY9IH4xMjggLyogQXR0YWNoZWQgKi87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlLWF0dGFjaGVzIGEgdmlldyB0byB0aGUgY2hhbmdlIGRldGVjdGlvbiB0cmVlLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byByZS1hdHRhY2ggdmlld3MgdGhhdCB3ZXJlIHByZXZpb3VzbHkgZGV0YWNoZWQgZnJvbSB0aGUgdHJlZVxuICAgICAqIHVzaW5nIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRhY2ggZGV0YWNofS4gVmlld3MgYXJlIGF0dGFjaGVkIHRvIHRoZSB0cmVlIGJ5IGRlZmF1bHQuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIGNvbXBvbmVudCBkaXNwbGF5aW5nIGBsaXZlYCBkYXRhLiBUaGUgY29tcG9uZW50IHdpbGwgZGV0YWNoXG4gICAgICogaXRzIGNoYW5nZSBkZXRlY3RvciBmcm9tIHRoZSBtYWluIGNoYW5nZSBkZXRlY3RvciB0cmVlIHdoZW4gdGhlIGNvbXBvbmVudCdzIGxpdmUgcHJvcGVydHlcbiAgICAgKiBpcyBzZXQgdG8gZmFsc2UuXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgRGF0YVByb3ZpZGVyIHtcbiAgICAgKiAgIGRhdGEgPSAxO1xuICAgICAqXG4gICAgICogICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YSAqIDI7XG4gICAgICogICAgIH0sIDUwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2xpdmUtZGF0YScsXG4gICAgICogICBpbnB1dHM6IFsnbGl2ZSddLFxuICAgICAqICAgdGVtcGxhdGU6ICdEYXRhOiB7e2RhdGFQcm92aWRlci5kYXRhfX0nXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBMaXZlRGF0YSB7XG4gICAgICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGF0YVByb3ZpZGVyOiBEYXRhUHJvdmlkZXIpIHt9XG4gICAgICpcbiAgICAgKiAgIHNldCBsaXZlKHZhbHVlKSB7XG4gICAgICogICAgIGlmICh2YWx1ZSkge1xuICAgICAqICAgICAgIHRoaXMucmVmLnJlYXR0YWNoKCk7XG4gICAgICogICAgIH0gZWxzZSB7XG4gICAgICogICAgICAgdGhpcy5yZWYuZGV0YWNoKCk7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwLXJvb3QnLFxuICAgICAqICAgcHJvdmlkZXJzOiBbRGF0YVByb3ZpZGVyXSxcbiAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICogICAgIExpdmUgVXBkYXRlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgWyhuZ01vZGVsKV09XCJsaXZlXCI+XG4gICAgICogICAgIDxsaXZlLWRhdGEgW2xpdmVdPVwibGl2ZVwiPjxsaXZlLWRhdGE+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAgKiAgIGxpdmUgPSB0cnVlO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICByZWF0dGFjaCgpIHtcbiAgICAgICAgdGhpcy5fbFZpZXdbRkxBR1NdIHw9IDEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSB2aWV3IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBhbHNvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0gdG8gaW1wbGVtZW50XG4gICAgICogbG9jYWwgY2hhbmdlIGRldGVjdGlvbiBjaGVja3MuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaXZlIGRlbW8gb25jZSByZWYuZGV0ZWN0Q2hhbmdlcyBpcyBtZXJnZWQgaW50byBtYXN0ZXIgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkb25seSBkYXRhLlxuICAgICAqIEltYWdpbmUsIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogV2UgY2FuIGRvIHRoYXQgYnkgZGV0YWNoaW5nIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGRvaW5nIGEgbG9jYWwgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIFNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgZGV0ZWN0Q2hhbmdlcygpIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcsIHRoaXMuY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgY2hhbmdlIGRldGVjdG9yIGFuZCBpdHMgY2hpbGRyZW4sIGFuZCB0aHJvd3MgaWYgYW55IGNoYW5nZXMgYXJlIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VkIGluIGRldmVsb3BtZW50IG1vZGUgdG8gdmVyaWZ5IHRoYXQgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uIGRvZXNuJ3RcbiAgICAgKiBpbnRyb2R1Y2Ugb3RoZXIgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjaGVja05vQ2hhbmdlcygpIHtcbiAgICAgICAgY2hlY2tOb0NoYW5nZXNJbnRlcm5hbCh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3LCB0aGlzLmNvbnRleHQpO1xuICAgIH1cbiAgICBhdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcHBSZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5nRGV2TW9kZSA/ICdUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhJyA6ICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDIgLyogVklFV19BTFJFQURZX0FUVEFDSEVEICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgZGV0YWNoRnJvbUFwcFJlZigpIHtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gbnVsbDtcbiAgICAgICAgcmVuZGVyRGV0YWNoVmlldyh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3KTtcbiAgICB9XG4gICAgYXR0YWNoVG9BcHBSZWYoYXBwUmVmKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbmdEZXZNb2RlID8gJ1RoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgVmlld0NvbnRhaW5lciEnIDogJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMiAvKiBWSUVXX0FMUkVBRFlfQVRUQUNIRUQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwUmVmID0gYXBwUmVmO1xuICAgIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIFJvb3RWaWV3UmVmIGV4dGVuZHMgVmlld1JlZiQxIHtcbiAgICBjb25zdHJ1Y3Rvcihfdmlldykge1xuICAgICAgICBzdXBlcihfdmlldyk7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICB9XG4gICAgZGV0ZWN0Q2hhbmdlcygpIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXcodGhpcy5fdmlldyk7XG4gICAgfVxuICAgIGNoZWNrTm9DaGFuZ2VzKCkge1xuICAgICAgICBjaGVja05vQ2hhbmdlc0luUm9vdFZpZXcodGhpcy5fdmlldyk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIGV4dGVuZHMgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuZ01vZHVsZSBUaGUgTmdNb2R1bGVSZWYgdG8gd2hpY2ggYWxsIHJlc29sdmVkIGZhY3RvcmllcyBhcmUgYm91bmQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmdNb2R1bGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uZ01vZHVsZSA9IG5nTW9kdWxlO1xuICAgIH1cbiAgICByZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnQpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydENvbXBvbmVudFR5cGUoY29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnREZWYsIHRoaXMubmdNb2R1bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRvUmVmQXJyYXkobWFwKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBub25NaW5pZmllZCBpbiBtYXApIHtcbiAgICAgICAgaWYgKG1hcC5oYXNPd25Qcm9wZXJ0eShub25NaW5pZmllZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbmlmaWVkID0gbWFwW25vbk1pbmlmaWVkXTtcbiAgICAgICAgICAgIGFycmF5LnB1c2goeyBwcm9wTmFtZTogbWluaWZpZWQsIHRlbXBsYXRlTmFtZTogbm9uTWluaWZpZWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlKGVsZW1lbnROYW1lKSB7XG4gICAgY29uc3QgbmFtZSA9IGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5hbWUgPT09ICdzdmcnID8gU1ZHX05BTUVTUEFDRSA6IChuYW1lID09PSAnbWF0aCcgPyBNQVRIX01MX05BTUVTUEFDRSA6IG51bGwpO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEluamVjdG9yKHJvb3RWaWV3SW5qZWN0b3IsIG1vZHVsZUluamVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiAodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBmbGFncyk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgfHxcbiAgICAgICAgICAgICAgICBub3RGb3VuZFZhbHVlID09PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSByb290IGVsZW1lbnQgaW5qZWN0b3Igd2hlblxuICAgICAgICAgICAgICAgIC8vIC0gaXQgcHJvdmlkZXMgaXRcbiAgICAgICAgICAgICAgICAvLyAgICh2YWx1ZSAhPT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgICAgICAgICAvLyAtIHRoZSBtb2R1bGUgaW5qZWN0b3Igc2hvdWxkIG5vdCBiZSBjaGVja2VkXG4gICAgICAgICAgICAgICAgLy8gICAobm90Rm91bmRWYWx1ZSA9PT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBSZW5kZXIzIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayB2aWV3RW5naW5lX0NvbXBvbmVudEZhY3Rvcnl9LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5IGV4dGVuZHMgQ29tcG9uZW50RmFjdG9yeSQxIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50RGVmIFRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gbmdNb2R1bGUgVGhlIE5nTW9kdWxlUmVmIHRvIHdoaWNoIHRoZSBmYWN0b3J5IGlzIGJvdW5kLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudERlZiwgbmdNb2R1bGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnREZWYgPSBjb21wb25lbnREZWY7XG4gICAgICAgIHRoaXMubmdNb2R1bGUgPSBuZ01vZHVsZTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlID0gY29tcG9uZW50RGVmLnR5cGU7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzdHJpbmdpZnlDU1NTZWxlY3Rvckxpc3QoY29tcG9uZW50RGVmLnNlbGVjdG9ycyk7XG4gICAgICAgIHRoaXMubmdDb250ZW50U2VsZWN0b3JzID1cbiAgICAgICAgICAgIGNvbXBvbmVudERlZi5uZ0NvbnRlbnRTZWxlY3RvcnMgPyBjb21wb25lbnREZWYubmdDb250ZW50U2VsZWN0b3JzIDogW107XG4gICAgICAgIHRoaXMuaXNCb3VuZFRvTW9kdWxlID0gISFuZ01vZHVsZTtcbiAgICB9XG4gICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRvUmVmQXJyYXkodGhpcy5jb21wb25lbnREZWYuaW5wdXRzKTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dHMoKSB7XG4gICAgICAgIHJldHVybiB0b1JlZkFycmF5KHRoaXMuY29tcG9uZW50RGVmLm91dHB1dHMpO1xuICAgIH1cbiAgICBjcmVhdGUoaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGUgPSBuZ01vZHVsZSB8fCB0aGlzLm5nTW9kdWxlO1xuICAgICAgICBjb25zdCByb290Vmlld0luamVjdG9yID0gbmdNb2R1bGUgPyBjcmVhdGVDaGFpbmVkSW5qZWN0b3IoaW5qZWN0b3IsIG5nTW9kdWxlLmluamVjdG9yKSA6IGluamVjdG9yO1xuICAgICAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSByb290Vmlld0luamVjdG9yLmdldChSZW5kZXJlckZhY3RvcnkyLCBkb21SZW5kZXJlckZhY3RvcnkzKTtcbiAgICAgICAgY29uc3Qgc2FuaXRpemVyID0gcm9vdFZpZXdJbmplY3Rvci5nZXQoU2FuaXRpemVyLCBudWxsKTtcbiAgICAgICAgY29uc3QgaG9zdFJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG51bGwsIHRoaXMuY29tcG9uZW50RGVmKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGEgdGFnIG5hbWUgdXNlZCBmb3IgY3JlYXRpbmcgaG9zdCBlbGVtZW50cyB3aGVuIHRoaXMgY29tcG9uZW50IGlzIGNyZWF0ZWRcbiAgICAgICAgLy8gZHluYW1pY2FsbHkuIERlZmF1bHQgdG8gJ2RpdicgaWYgdGhpcyBjb21wb25lbnQgZGlkIG5vdCBzcGVjaWZ5IGFueSB0YWcgbmFtZSBpbiBpdHMgc2VsZWN0b3IuXG4gICAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gdGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdWzBdIHx8ICdkaXYnO1xuICAgICAgICBjb25zdCBob3N0Uk5vZGUgPSByb290U2VsZWN0b3JPck5vZGUgP1xuICAgICAgICAgICAgbG9jYXRlSG9zdEVsZW1lbnQoaG9zdFJlbmRlcmVyLCByb290U2VsZWN0b3JPck5vZGUsIHRoaXMuY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pIDpcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCB0aGlzLmNvbXBvbmVudERlZiksIGVsZW1lbnROYW1lLCBnZXROYW1lc3BhY2UoZWxlbWVudE5hbWUpKTtcbiAgICAgICAgY29uc3Qgcm9vdEZsYWdzID0gdGhpcy5jb21wb25lbnREZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gfCA1MTIgLyogSXNSb290ICovIDpcbiAgICAgICAgICAgIDE2IC8qIENoZWNrQWx3YXlzICovIHwgNTEyIC8qIElzUm9vdCAqLztcbiAgICAgICAgY29uc3Qgcm9vdENvbnRleHQgPSBjcmVhdGVSb290Q29udGV4dCgpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIHJvb3Qgdmlldy4gVXNlcyBlbXB0eSBUVmlldyBhbmQgQ29udGVudFRlbXBsYXRlLlxuICAgICAgICBjb25zdCByb290VFZpZXcgPSBjcmVhdGVUVmlldygwIC8qIFJvb3QgKi8sIG51bGwsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICBjb25zdCByb290TFZpZXcgPSBjcmVhdGVMVmlldyhudWxsLCByb290VFZpZXcsIHJvb3RDb250ZXh0LCByb290RmxhZ3MsIG51bGwsIG51bGwsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyLCBzYW5pdGl6ZXIsIHJvb3RWaWV3SW5qZWN0b3IpO1xuICAgICAgICAvLyByb290VmlldyBpcyB0aGUgcGFyZW50IHdoZW4gYm9vdHN0cmFwcGluZ1xuICAgICAgICAvLyBUT0RPKG1pc2tvKTogaXQgbG9va3MgbGlrZSB3ZSBhcmUgZW50ZXJpbmcgdmlldyBoZXJlIGJ1dCB3ZSBkb24ndCByZWFsbHkgbmVlZCB0byBhc1xuICAgICAgICAvLyBgcmVuZGVyVmlld2AgZG9lcyB0aGF0LiBIb3dldmVyIGFzIHRoZSBjb2RlIGlzIHdyaXR0ZW4gaXQgaXMgbmVlZGVkIGJlY2F1c2VcbiAgICAgICAgLy8gYGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3YCBhbmQgYGNyZWF0ZVJvb3RDb21wb25lbnRgIGJvdGggcmVhZCBnbG9iYWwgc3RhdGUuIEZpeGluZyB0aG9zZVxuICAgICAgICAvLyBpc3N1ZXMgd291bGQgYWxsb3cgdXMgdG8gZHJvcCB0aGlzLlxuICAgICAgICBlbnRlclZpZXcocm9vdExWaWV3KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudDtcbiAgICAgICAgbGV0IHRFbGVtZW50Tm9kZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyKTtcbiAgICAgICAgICAgIGlmIChob3N0Uk5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFVwQXR0cmlidXRlcyhob3N0UmVuZGVyZXIsIGhvc3RSTm9kZSwgWyduZy12ZXJzaW9uJywgVkVSU0lPTi5mdWxsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBob3N0IGVsZW1lbnQgaXMgY3JlYXRlZCBhcyBhIHBhcnQgb2YgdGhpcyBmdW5jdGlvbiBjYWxsIChpLmUuIGByb290U2VsZWN0b3JPck5vZGVgXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIG5vdCBkZWZpbmVkKSwgYWxzbyBhcHBseSBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGV4dHJhY3RlZCBmcm9tIGNvbXBvbmVudCBzZWxlY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGZyb20gdGhlIGZpcnN0IHNlbGVjdG9yIG9ubHkgdG8gbWF0Y2ggVkUgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXR0cnMsIGNsYXNzZXMgfSA9IGV4dHJhY3RBdHRyc0FuZENsYXNzZXNGcm9tU2VsZWN0b3IodGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVcEF0dHJpYnV0ZXMoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIGF0dHJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NlcyAmJiBjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlRGlyZWN0Q2xhc3MoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIGNsYXNzZXMuam9pbignICcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRFbGVtZW50Tm9kZSA9IGdldFROb2RlKHJvb3RUVmlldywgSEVBREVSX09GRlNFVCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGFibGVOb2RlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRFbGVtZW50Tm9kZS5wcm9qZWN0aW9uID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2Rlc2ZvclNsb3QgPSBwcm9qZWN0YWJsZU5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm9qZWN0YWJsZSBub2RlcyBjYW4gYmUgcGFzc2VkIGFzIGFycmF5IG9mIGFycmF5cyBvciBhbiBhcnJheSBvZiBpdGVyYWJsZXMgKG5nVXBncmFkZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlKS4gSGVyZSB3ZSBkbyBub3JtYWxpemUgcGFzc2VkIGRhdGEgc3RydWN0dXJlIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5cyB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wbGV4IGNoZWNrcyBkb3duIHRoZSBsaW5lLlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHNvIG5vcm1hbGl6ZSB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzZWQgaW4gcHJvamVjdGFibGUgbm9kZXMgKHRvIG1hdGNoIHRoZSBudW1iZXIgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gPG5nLWNvbnRhaW5lcj4gc2xvdHMgZGVmaW5lZCBieSBhIGNvbXBvbmVudCkuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24ucHVzaChub2Rlc2ZvclNsb3QgIT0gbnVsbCA/IEFycmF5LmZyb20obm9kZXNmb3JTbG90KSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYW5kIG90aGVyIGhvc3QgZmVhdHVyZXMgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBhbmRcbiAgICAgICAgICAgIC8vIGV4ZWN1dGVkIGhlcmU/XG4gICAgICAgICAgICAvLyBBbmd1bGFyIDUgcmVmZXJlbmNlOiBodHRwczovL3N0YWNrYmxpdHouY29tL2VkaXQvbGlmZWN5Y2xlLWhvb2tzLXZjcmVmXG4gICAgICAgICAgICBjb21wb25lbnQgPSBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJvb3RDb250ZXh0LCBbTGlmZWN5Y2xlSG9va3NGZWF0dXJlXSk7XG4gICAgICAgICAgICByZW5kZXJWaWV3KHJvb3RUVmlldywgcm9vdExWaWV3LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGxlYXZlVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50UmVmKHRoaXMuY29tcG9uZW50VHlwZSwgY29tcG9uZW50LCBjcmVhdGVFbGVtZW50UmVmKHRFbGVtZW50Tm9kZSwgcm9vdExWaWV3KSwgcm9vdExWaWV3LCB0RWxlbWVudE5vZGUpO1xuICAgIH1cbn1cbmNvbnN0IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IG5ldyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKTtcbi8qKlxuICogQ3JlYXRlcyBhIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci4gT3IsIGlmIHRoZVxuICogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gKiBhbHJlYWR5IGV4aXN0cywgcmV0cmlldmVzIHRoZSBleGlzdGluZyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gKlxuICogQHJldHVybnMgVGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0Q29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCkge1xuICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW5zdGFuY2Ugb2YgYSBDb21wb25lbnQgY3JlYXRlZCB2aWEgYSB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX0uXG4gKlxuICogYENvbXBvbmVudFJlZmAgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBDb21wb25lbnQgSW5zdGFuY2UgYXMgd2VsbCBvdGhlciBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpc1xuICogQ29tcG9uZW50IEluc3RhbmNlIGFuZCBhbGxvd3MgeW91IHRvIGRlc3Ryb3kgdGhlIENvbXBvbmVudCBJbnN0YW5jZSB2aWEgdGhlIHtAbGluayAjZGVzdHJveX1cbiAqIG1ldGhvZC5cbiAqXG4gKi9cbmNsYXNzIENvbXBvbmVudFJlZiBleHRlbmRzIENvbXBvbmVudFJlZiQxIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnRUeXBlLCBpbnN0YW5jZSwgbG9jYXRpb24sIF9yb290TFZpZXcsIF90Tm9kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuX3Jvb3RMVmlldyA9IF9yb290TFZpZXc7XG4gICAgICAgIHRoaXMuX3ROb2RlID0gX3ROb2RlO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcgPSB0aGlzLmNoYW5nZURldGVjdG9yUmVmID0gbmV3IFJvb3RWaWV3UmVmKF9yb290TFZpZXcpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHRoaXMuX3ROb2RlLCB0aGlzLl9yb290TFZpZXcpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcub25EZXN0cm95KGNhbGxiYWNrKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGRlY29yYXRvciwgY29uc3RydWN0b3IsIGFuZCBwcm9wZXJ0eSBtZXRhZGF0YSB0byBhIGdpdmVuIHR5cGUgdmlhIHN0YXRpYyBtZXRhZGF0YSBmaWVsZHNcbiAqIG9uIHRoZSB0eXBlLlxuICpcbiAqIFRoZXNlIG1ldGFkYXRhIGZpZWxkcyBjYW4gbGF0ZXIgYmUgcmVhZCB3aXRoIEFuZ3VsYXIncyBgUmVmbGVjdGlvbkNhcGFiaWxpdGllc2AgQVBJLlxuICpcbiAqIENhbGxzIHRvIGBzZXRDbGFzc01ldGFkYXRhYCBjYW4gYmUgZ3VhcmRlZCBieSBuZ0Rldk1vZGUsIHJlc3VsdGluZyBpbiB0aGUgbWV0YWRhdGEgYXNzaWdubWVudHNcbiAqIGJlaW5nIHRyZWUtc2hha2VuIGF3YXkgZHVyaW5nIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5mdW5jdGlvbiBzZXRDbGFzc01ldGFkYXRhKHR5cGUsIGRlY29yYXRvcnMsIGN0b3JQYXJhbWV0ZXJzLCBwcm9wRGVjb3JhdG9ycykge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgY2xhenogPSB0eXBlO1xuICAgICAgICBpZiAoZGVjb3JhdG9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNsYXp6Lmhhc093blByb3BlcnR5KCdkZWNvcmF0b3JzJykgJiYgY2xhenouZGVjb3JhdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xhenouZGVjb3JhdG9ycy5wdXNoKC4uLmRlY29yYXRvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhenouZGVjb3JhdG9ycyA9IGRlY29yYXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3JQYXJhbWV0ZXJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSYXRoZXIgdGhhbiBtZXJnaW5nLCBjbG9iYmVyIHRoZSBleGlzdGluZyBwYXJhbWV0ZXJzLiBJZiBvdGhlciBwcm9qZWN0cyBleGlzdCB3aGljaFxuICAgICAgICAgICAgLy8gdXNlIHRzaWNrbGUtc3R5bGUgYW5ub3RhdGlvbnMgYW5kIHJlZmxlY3Qgb3ZlciB0aGVtIGluIHRoZSBzYW1lIHdheSwgdGhpcyBjb3VsZFxuICAgICAgICAgICAgLy8gY2F1c2UgaXNzdWVzLCBidXQgdGhhdCBpcyB2YW5pc2hpbmdseSB1bmxpa2VseS5cbiAgICAgICAgICAgIGNsYXp6LmN0b3JQYXJhbWV0ZXJzID0gY3RvclBhcmFtZXRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BEZWNvcmF0b3JzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgcHJvcGVydHkgZGVjb3JhdG9yIG9iamVjdHMgYXJlIG1lcmdlZCBhcyBpdCBpcyBwb3NzaWJsZSBkaWZmZXJlbnQgZmllbGRzIGhhdmVcbiAgICAgICAgICAgIC8vIGRpZmZlcmVudCBkZWNvcmF0b3IgdHlwZXMuIERlY29yYXRvcnMgb24gaW5kaXZpZHVhbCBmaWVsZHMgYXJlIG5vdCBtZXJnZWQsIGFzIGl0J3NcbiAgICAgICAgICAgIC8vIGFsc28gaW5jcmVkaWJseSB1bmxpa2VseSB0aGF0IGEgZmllbGQgd2lsbCBiZSBkZWNvcmF0ZWQgYm90aCB3aXRoIGFuIEFuZ3VsYXJcbiAgICAgICAgICAgIC8vIGRlY29yYXRvciBhbmQgYSBub24tQW5ndWxhciBkZWNvcmF0b3IgdGhhdCdzIGFsc28gYmVlbiBkb3dubGV2ZWxlZC5cbiAgICAgICAgICAgIGlmIChjbGF6ei5oYXNPd25Qcm9wZXJ0eSgncHJvcERlY29yYXRvcnMnKSAmJiBjbGF6ei5wcm9wRGVjb3JhdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xhenoucHJvcERlY29yYXRvcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNsYXp6LnByb3BEZWNvcmF0b3JzKSwgcHJvcERlY29yYXRvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhenoucHJvcERlY29yYXRvcnMgPSBwcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnN0YW5jZSBvZiBhbiBgTmdNb2R1bGVgIGNyZWF0ZWQgYnkgYW4gYE5nTW9kdWxlRmFjdG9yeWAuXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGBOZ01vZHVsZWAgaW5zdGFuY2UgYW5kIHJlbGF0ZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nTW9kdWxlUmVmJDEge1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIFRoaXMgY2xhc3Mgd2FzIG1vc3RseSB1c2VkIGFzIGEgcGFydCBvZiBWaWV3RW5naW5lLWJhc2VkIEpJVCBBUEkgYW5kIGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gSXZ5XG4gKiBKSVQgbW9kZS4gU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpXG4gKiBmb3IgYWRkaXRpb25hbCBjb250ZXh0LiBBbmd1bGFyIHByb3ZpZGVzIEFQSXMgdGhhdCBhY2NlcHQgTmdNb2R1bGUgY2xhc3NlcyBkaXJlY3RseSAoc3VjaCBhc1xuICogW1BsYXRmb3JtUmVmLmJvb3RzdHJhcE1vZHVsZV0oYXBpL2NvcmUvUGxhdGZvcm1SZWYjYm9vdHN0cmFwTW9kdWxlKSBhbmRcbiAqIFtjcmVhdGVOZ01vZHVsZVJlZl0oYXBpL2NvcmUvY3JlYXRlTmdNb2R1bGVSZWYpKSwgY29uc2lkZXIgc3dpdGNoaW5nIHRvIHRob3NlIEFQSXMgaW5zdGVhZCBvZlxuICogdXNpbmcgZmFjdG9yeS1iYXNlZCBvbmVzLlxuICovXG5jbGFzcyBOZ01vZHVsZUZhY3RvcnkkMSB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXAgb2YgbW9kdWxlLWlkIHRvIHRoZSBjb3JyZXNwb25kaW5nIE5nTW9kdWxlLlxuICogLSBJbiBwcmUgSXZ5IHdlIHRyYWNrIE5nTW9kdWxlRmFjdG9yeSxcbiAqIC0gSW4gcG9zdCBJdnkgd2UgdHJhY2sgdGhlIE5nTW9kdWxlVHlwZVxuICovXG5jb25zdCBtb2R1bGVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBSZWdpc3RlcnMgYSBsb2FkZWQgbW9kdWxlLiBTaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSBnZW5lcmF0ZWQgTmdNb2R1bGVGYWN0b3J5IGNvZGUuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlRmFjdG9yeShpZCwgZmFjdG9yeSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbW9kdWxlcy5nZXQoaWQpO1xuICAgIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCBleGlzdGluZyAmJiBleGlzdGluZy5tb2R1bGVUeXBlLCBmYWN0b3J5Lm1vZHVsZVR5cGUpO1xuICAgIG1vZHVsZXMuc2V0KGlkLCBmYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCB0eXBlLCBpbmNvbWluZykge1xuICAgIGlmICh0eXBlICYmIHR5cGUgIT09IGluY29taW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmVkIGZvciAke2lkfSAtICR7c3RyaW5naWZ5KHR5cGUpfSB2cyAke3N0cmluZ2lmeSh0eXBlLm5hbWUpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyTmdNb2R1bGVUeXBlKG5nTW9kdWxlVHlwZSkge1xuICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gICAgcmVjdXJzZShuZ01vZHVsZVR5cGUpO1xuICAgIGZ1bmN0aW9uIHJlY3Vyc2UobmdNb2R1bGVUeXBlKSB7XG4gICAgICAgIC8vIFRoZSBpbXBvcnRzIGFycmF5IG9mIGFuIE5nTW9kdWxlIG11c3QgcmVmZXIgdG8gb3RoZXIgTmdNb2R1bGVzLFxuICAgICAgICAvLyBzbyBhbiBlcnJvciBpcyB0aHJvd24gaWYgbm8gbW9kdWxlIGRlZmluaXRpb24gaXMgYXZhaWxhYmxlLlxuICAgICAgICBjb25zdCBkZWYgPSBnZXROZ01vZHVsZURlZihuZ01vZHVsZVR5cGUsIC8qIHRocm93Tm90Rm91bmQgKi8gdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGlkID0gZGVmLmlkO1xuICAgICAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbW9kdWxlcy5nZXQoaWQpO1xuICAgICAgICAgICAgYXNzZXJ0U2FtZU9yTm90RXhpc3RpbmcoaWQsIGV4aXN0aW5nLCBuZ01vZHVsZVR5cGUpO1xuICAgICAgICAgICAgbW9kdWxlcy5zZXQoaWQsIG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1wb3J0cyA9IG1heWJlVW53cmFwRm4oZGVmLmltcG9ydHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaW1wb3J0cykge1xuICAgICAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhpKSkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWQuYWRkKGkpO1xuICAgICAgICAgICAgICAgIHJlY3Vyc2UoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhck1vZHVsZXNGb3JUZXN0KCkge1xuICAgIG1vZHVsZXMuY2xlYXIoKTtcbn1cbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUoaWQpIHtcbiAgICByZXR1cm4gKG1vZHVsZXMuZ2V0KGlkKSB8fCBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkW2lkXSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IE5nTW9kdWxlUmVmIGluc3RhbmNlIGJhc2VkIG9uIHRoZSBOZ01vZHVsZSBjbGFzcyBhbmQgcGFyZW50IGluamVjdG9yIHByb3ZpZGVkLlxuICogQHBhcmFtIG5nTW9kdWxlIE5nTW9kdWxlIGNsYXNzLlxuICogQHBhcmFtIHBhcmVudEluamVjdG9yIE9wdGlvbmFsIGluamVjdG9yIGluc3RhbmNlIHRvIHVzZSBhcyBhIHBhcmVudCBmb3IgdGhlIG1vZHVsZSBpbmplY3Rvci4gSWZcbiAqICAgICBub3QgcHJvdmlkZWQsIGBOdWxsSW5qZWN0b3JgIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBjcmVhdGVOZ01vZHVsZVJlZihuZ01vZHVsZSwgcGFyZW50SW5qZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmKG5nTW9kdWxlLCBwYXJlbnRJbmplY3RvciAhPT0gbnVsbCAmJiBwYXJlbnRJbmplY3RvciAhPT0gdm9pZCAwID8gcGFyZW50SW5qZWN0b3IgOiBudWxsKTtcbn1cbmNsYXNzIE5nTW9kdWxlUmVmIGV4dGVuZHMgTmdNb2R1bGVSZWYkMSB7XG4gICAgY29uc3RydWN0b3IobmdNb2R1bGVUeXBlLCBfcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpyZXF1aXJlLWludGVybmFsLXdpdGgtdW5kZXJzY29yZVxuICAgICAgICB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMgPSBbXTtcbiAgICAgICAgLy8gV2hlbiBib290c3RyYXBwaW5nIGEgbW9kdWxlIHdlIGhhdmUgYSBkZXBlbmRlbmN5IGdyYXBoIHRoYXQgbG9va3MgbGlrZSB0aGlzOlxuICAgICAgICAvLyBBcHBsaWNhdGlvblJlZiAtPiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgLT4gTmdNb2R1bGVSZWYuIFRoZSBwcm9ibGVtIGlzIHRoYXQgaWYgdGhlXG4gICAgICAgIC8vIG1vZHVsZSBiZWluZyByZXNvbHZlZCB0cmllcyB0byBpbmplY3QgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgaXQnbGwgY3JlYXRlIGFcbiAgICAgICAgLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIHJ1bnRpbWUgZXJyb3IsIGJlY2F1c2UgdGhlIGluamVjdG9yIGRvZXNuJ3RcbiAgICAgICAgLy8gZXhpc3QgeWV0LiBXZSB3b3JrIGFyb3VuZCB0aGUgaXNzdWUgYnkgY3JlYXRpbmcgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBvdXJzZWx2ZXNcbiAgICAgICAgLy8gYW5kIHByb3ZpZGluZyBpdCwgcmF0aGVyIHRoYW4gbGV0dGluZyB0aGUgaW5qZWN0b3IgcmVzb2x2ZSBpdC5cbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBuZXcgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKHRoaXMpO1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZURlZiwgYE5nTW9kdWxlICcke3N0cmluZ2lmeShuZ01vZHVsZVR5cGUpfScgaXMgbm90IGEgc3VidHlwZSBvZiAnTmdNb2R1bGVUeXBlJy5gKTtcbiAgICAgICAgdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuYm9vdHN0cmFwKTtcbiAgICAgICAgdGhpcy5fcjNJbmplY3RvciA9IGNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzKG5nTW9kdWxlVHlwZSwgX3BhcmVudCwgW1xuICAgICAgICAgICAgeyBwcm92aWRlOiBOZ01vZHVsZVJlZiQxLCB1c2VWYWx1ZTogdGhpcyB9LCB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEsXG4gICAgICAgICAgICAgICAgdXNlVmFsdWU6IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sIHN0cmluZ2lmeShuZ01vZHVsZVR5cGUpKTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byByZXNvbHZlIHRoZSBpbmplY3RvciB0eXBlcyBzZXBhcmF0ZWx5IGZyb20gdGhlIGluamVjdG9yIGNyZWF0aW9uLCBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBtb2R1bGUgbWlnaHQgYmUgdHJ5aW5nIHRvIHVzZSB0aGlzIHJlZiBpbiBpdHMgY29uc3RydWN0b3IgZm9yIERJIHdoaWNoIHdpbGwgY2F1c2UgYVxuICAgICAgICAvLyBjaXJjdWxhciBlcnJvciB0aGF0IHdpbGwgZXZlbnR1YWxseSBlcnJvciBvdXQsIGJlY2F1c2UgdGhlIGluamVjdG9yIGlzbid0IGNyZWF0ZWQgeWV0LlxuICAgICAgICB0aGlzLl9yM0luamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gdGhpcy5nZXQobmdNb2R1bGVUeXBlKTtcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5ELCBpbmplY3RGbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSBJbmplY3RvciB8fCB0b2tlbiA9PT0gTmdNb2R1bGVSZWYkMSB8fCB0b2tlbiA9PT0gSU5KRUNUT1IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yM0luamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgaW5qZWN0RmxhZ3MpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuX3IzSW5qZWN0b3I7XG4gICAgICAgICFpbmplY3Rvci5kZXN0cm95ZWQgJiYgaW5qZWN0b3IuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaChmbiA9PiBmbigpKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Q2JzID0gbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRoaXMuZGVzdHJveUNicywgJ05nTW9kdWxlIGFscmVhZHkgZGVzdHJveWVkJyk7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG59XG5jbGFzcyBOZ01vZHVsZUZhY3RvcnkgZXh0ZW5kcyBOZ01vZHVsZUZhY3RvcnkkMSB7XG4gICAgY29uc3RydWN0b3IobW9kdWxlVHlwZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1vZHVsZVR5cGUgPSBtb2R1bGVUeXBlO1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgICAgICBpZiAobmdNb2R1bGVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBOZ01vZHVsZSB3aXRoIEFuZ3VsYXIncyBtb2R1bGUgcmVnaXN0cnkuIFRoZSBsb2NhdGlvbiAoYW5kIGhlbmNlIHRpbWluZykgb2ZcbiAgICAgICAgICAgIC8vIHRoaXMgY2FsbCBpcyBjcml0aWNhbCB0byBlbnN1cmUgdGhpcyB3b3JrcyBjb3JyZWN0bHkgKG1vZHVsZXMgZ2V0IHJlZ2lzdGVyZWQgd2hlbiBleHBlY3RlZClcbiAgICAgICAgICAgIC8vIHdpdGhvdXQgYmxvYXRpbmcgYnVuZGxlcyAobW9kdWxlcyBhcmUgcmVnaXN0ZXJlZCB3aGVuIG90aGVyd2lzZSBub3QgcmVmZXJlbmNlZCkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gVmlldyBFbmdpbmUsIHJlZ2lzdHJhdGlvbiBvY2N1cnMgaW4gdGhlIC5uZ2ZhY3RvcnkuanMgZmlsZSBhcyBhIHNpZGUgZWZmZWN0LiBUaGlzIGhhc1xuICAgICAgICAgICAgLy8gc2V2ZXJhbCBwcmFjdGljYWwgY29uc2VxdWVuY2VzOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIC0gSWYgYW4gLm5nZmFjdG9yeSBmaWxlIGlzIG5vdCBpbXBvcnRlZCBmcm9tLCB0aGUgbW9kdWxlIHdvbid0IGJlIHJlZ2lzdGVyZWQgKGFuZCBjYW4gYmVcbiAgICAgICAgICAgIC8vICAgdHJlZSBzaGFrZW4pLlxuICAgICAgICAgICAgLy8gLSBJZiBhbiAubmdmYWN0b3J5IGZpbGUgaXMgaW1wb3J0ZWQgZnJvbSwgdGhlIG1vZHVsZSB3aWxsIGJlIHJlZ2lzdGVyZWQgZXZlbiBpZiBhbiBpbnN0YW5jZVxuICAgICAgICAgICAgLy8gICBpcyBub3QgYWN0dWFsbHkgY3JlYXRlZCAodmlhIGBjcmVhdGVgIGJlbG93KS5cbiAgICAgICAgICAgIC8vIC0gU2luY2UgYW4gLm5nZmFjdG9yeSBmaWxlIGluIFZpZXcgRW5naW5lIHJlZmVyZW5jZXMgdGhlIC5uZ2ZhY3RvcnkgZmlsZXMgb2YgdGhlIE5nTW9kdWxlJ3NcbiAgICAgICAgICAgIC8vICAgaW1wb3J0cyxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJbiBJdnksIHRoaW5ncyBhcmUgYSBiaXQgZGlmZmVyZW50LiAubmdmYWN0b3J5IGZpbGVzIHN0aWxsIGV4aXN0IGZvciBjb21wYXRpYmlsaXR5LCBidXQgYXJlXG4gICAgICAgICAgICAvLyBub3QgYSByZXF1aXJlZCBBUEkgdG8gdXNlIC0gdGhlcmUgYXJlIG90aGVyIHdheXMgdG8gb2J0YWluIGFuIE5nTW9kdWxlRmFjdG9yeSBmb3IgYSBnaXZlblxuICAgICAgICAgICAgLy8gTmdNb2R1bGUuIFRodXMsIHJlbHlpbmcgb24gYSBzaWRlIGVmZmVjdCBpbiB0aGUgLm5nZmFjdG9yeSBmaWxlIGlzIG5vdCBzdWZmaWNpZW50LiBJbnN0ZWFkLFxuICAgICAgICAgICAgLy8gdGhlIHNpZGUgZWZmZWN0IG9mIHJlZ2lzdHJhdGlvbiBpcyBhZGRlZCBoZXJlLCBpbiB0aGUgY29uc3RydWN0b3Igb2YgTmdNb2R1bGVGYWN0b3J5LFxuICAgICAgICAgICAgLy8gZW5zdXJpbmcgbm8gbWF0dGVyIGhvdyBhIGZhY3RvcnkgaXMgY3JlYXRlZCwgdGhlIG1vZHVsZSBpcyByZWdpc3RlcmVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBbiBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBpbmNsdWRlIHRoZSByZWdpc3RyYXRpb24gc2lkZSBlZmZlY3QgaW5saW5lIGZvbGxvd2luZyB0aGUgYWN0dWFsXG4gICAgICAgICAgICAvLyBOZ01vZHVsZSBkZWZpbml0aW9uLiBUaGlzIGFsc28gaGFzIHRoZSBjb3JyZWN0IHRpbWluZywgYnV0IGJyZWFrcyB0cmVlLXNoYWtpbmcgLSBtb2R1bGVzXG4gICAgICAgICAgICAvLyB3aWxsIGJlIHJlZ2lzdGVyZWQgYW5kIHJldGFpbmVkIGV2ZW4gaWYgdGhleSdyZSBvdGhlcndpc2UgbmV2ZXIgcmVmZXJlbmNlZC5cbiAgICAgICAgICAgIHJlZ2lzdGVyTmdNb2R1bGVUeXBlKG1vZHVsZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZShwYXJlbnRJbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmKHRoaXMubW9kdWxlVHlwZSwgcGFyZW50SW5qZWN0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJpbmRpbmdzIGZvciBwdXJlIGZ1bmN0aW9ucyBhcmUgc3RvcmVkIGFmdGVyIHJlZ3VsYXIgYmluZGluZ3MuXG4gKlxuICogfC0tLS0tLS1kZWNscy0tLS0tLXwtLS0tLS0tLS12YXJzLS0tLS0tLS0tfCAgICAgICAgICAgICAgICAgfC0tLS0tIGhvc3RWYXJzIChkaXIxKSAtLS0tLS18XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHwgbm9kZXMvcmVmcy9waXBlcyB8IGJpbmRpbmdzIHwgZm4gc2xvdHMgIHwgaW5qZWN0b3IgfCBkaXIxIHwgaG9zdCBiaW5kaW5ncyB8IGhvc3Qgc2xvdHMgfFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgICAgICAgICAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICBeXG4gKiAgICAgIFRWaWV3LmJpbmRpbmdTdGFydEluZGV4ICAgICAgVFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXhcbiAqXG4gKiBQdXJlIGZ1bmN0aW9uIGluc3RydWN0aW9ucyBhcmUgZ2l2ZW4gYW4gb2Zmc2V0IGZyb20gdGhlIGJpbmRpbmcgcm9vdC4gQWRkaW5nIHRoZSBvZmZzZXQgdG8gdGhlXG4gKiBiaW5kaW5nIHJvb3QgZ2l2ZXMgdGhlIGZpcnN0IGluZGV4IHdoZXJlIHRoZSBiaW5kaW5ncyBhcmUgc3RvcmVkLiBJbiBjb21wb25lbnQgdmlld3MsIHRoZSBiaW5kaW5nXG4gKiByb290IGlzIHRoZSBiaW5kaW5nU3RhcnRJbmRleC4gSW4gaG9zdCBiaW5kaW5ncywgdGhlIGJpbmRpbmcgcm9vdCBpcyB0aGUgZXhwYW5kb1N0YXJ0SW5kZXggK1xuICogYW55IGRpcmVjdGl2ZSBpbnN0YW5jZXMgKyBhbnkgaG9zdFZhcnMgaW4gZGlyZWN0aXZlcyBldmFsdWF0ZWQgYmVmb3JlIGl0LlxuICpcbiAqIFNlZSBWSUVXX0RBVEEubWQgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG9zdCBiaW5kaW5nIHJlc29sdXRpb24uXG4gKi9cbi8qKlxuICogSWYgdGhlIHZhbHVlIGhhc24ndCBiZWVuIHNhdmVkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byBzdG9yZSBhbmQgcmV0dXJuIHRoZVxuICogdmFsdWUuIElmIGl0IGhhcyBiZWVuIHNhdmVkLCByZXR1cm5zIHRoZSBzYXZlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbHVlXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24wKHNsb3RPZmZzZXQsIHB1cmVGbiwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gbFZpZXdbYmluZGluZ0luZGV4XSA9PT0gTk9fQ0hBTkdFID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZykgOiBwdXJlRm4oKSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiB0aGUgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiB1cGRhdGVkIHZhbHVlXG4gKiBAcGFyYW0gZXhwIFVwZGF0ZWQgZXhwcmVzc2lvbiB2YWx1ZVxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uMShzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cCwgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24xSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjIoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjJJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24zKHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24zSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjQoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjRJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjUoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDUsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1KSA6XG4gICAgICAgICAgICBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSkpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNSk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gZXhwNVxuICogQHBhcmFtIGV4cDZcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA2LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNikgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDYpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uNyhzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA3LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNykgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIGV4cDhcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjgoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA4LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCkgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDgpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gQSBwdXJlIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYmluZGluZyB2YWx1ZXMgYW5kIGJ1aWxkcyBhbiBvYmplY3Qgb3IgYXJyYXlcbiAqIGNvbnRhaW5pbmcgdGhvc2UgdmFsdWVzLlxuICogQHBhcmFtIGV4cHMgQW4gYXJyYXkgb2YgYmluZGluZyB2YWx1ZXNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvblYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvblZJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cHMsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBSZXN1bHRzIG9mIGEgcHVyZSBmdW5jdGlvbiBpbnZvY2F0aW9uIGFyZSBzdG9yZWQgaW4gTFZpZXcgaW4gYSBkZWRpY2F0ZWQgc2xvdCB0aGF0IGlzIGluaXRpYWxpemVkXG4gKiB0byBOT19DSEFOR0UuIEluIHJhcmUgc2l0dWF0aW9ucyBhIHB1cmUgcGlwZSBtaWdodCB0aHJvdyBhbiBleGNlcHRpb24gb24gdGhlIHZlcnkgZmlyc3RcbiAqIGludm9jYXRpb24gYW5kIG5vdCBwcm9kdWNlIGFueSB2YWxpZCByZXN1bHRzLiBJbiB0aGlzIGNhc2UgTFZpZXcgd291bGQga2VlcCBob2xkaW5nIHRoZSBOT19DSEFOR0VcbiAqIHZhbHVlLiBUaGUgTk9fQ0hBTkdFIGlzIG5vdCBzb21ldGhpbmcgdGhhdCB3ZSBjYW4gdXNlIGluIGV4cHJlc3Npb25zIC8gYmluZGluZ3MgdGh1cyB3ZSBjb252ZXJ0XG4gKiBpdCB0byBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIHJldHVyblZhbHVlSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCByZXR1cm5WYWx1ZUluZGV4KTtcbiAgICBjb25zdCBsYXN0UmV0dXJuVmFsdWUgPSBsVmlld1tyZXR1cm5WYWx1ZUluZGV4XTtcbiAgICByZXR1cm4gbGFzdFJldHVyblZhbHVlID09PSBOT19DSEFOR0UgPyB1bmRlZmluZWQgOiBsYXN0UmV0dXJuVmFsdWU7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gdXBkYXRlZCB2YWx1ZVxuICogQHBhcmFtIGV4cCBVcGRhdGVkIGV4cHJlc3Npb24gdmFsdWVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCBleHApID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMSwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cCkgOiBwdXJlRm4oZXhwKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMSk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb24ySW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyKSA6IHB1cmVGbihleHAxLCBleHAyKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMik7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uM0ludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMykgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAzLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMykgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMykpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDMpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uNEludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDQpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBBIHB1cmUgZnVuY3Rpb24gdGhhdCB0YWtlcyBiaW5kaW5nIHZhbHVlcyBhbmQgYnVpbGRzIGFuIG9iamVjdCBvciBhcnJheVxuICogY29udGFpbmluZyB0aG9zZSB2YWx1ZXMuXG4gKiBAcGFyYW0gZXhwcyBBbiBhcnJheSBvZiBiaW5kaW5nIHZhbHVlc1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uVkludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICBsZXQgZGlmZmVyZW50ID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgrKywgZXhwc1tpXSkgJiYgKGRpZmZlcmVudCA9IHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZmVyZW50ID8gdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCBwdXJlRm4uYXBwbHkodGhpc0FyZywgZXhwcykpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgYSBwaXBlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHBpcGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBwaXBlXG4gKiBAcmV0dXJucyBUIHRoZSBpbnN0YW5jZSBvZiB0aGUgcGlwZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZShpbmRleCwgcGlwZU5hbWUpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgbGV0IHBpcGVEZWY7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIC8vIFRoZSBgZ2V0UGlwZURlZmAgdGhyb3dzIGlmIGEgcGlwZSB3aXRoIGEgZ2l2ZW4gbmFtZSBpcyBub3QgZm91bmRcbiAgICAgICAgLy8gKHNvIHdlIHVzZSBub24tbnVsbCBhc3NlcnRpb24gYmVsb3cpLlxuICAgICAgICBwaXBlRGVmID0gZ2V0UGlwZURlZihwaXBlTmFtZSwgdFZpZXcucGlwZVJlZ2lzdHJ5KTtcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XSA9IHBpcGVEZWY7XG4gICAgICAgIGlmIChwaXBlRGVmLm9uRGVzdHJveSkge1xuICAgICAgICAgICAgKHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pKS5wdXNoKGFkanVzdGVkSW5kZXgsIHBpcGVEZWYub25EZXN0cm95KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGlwZURlZiA9IHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgfVxuICAgIGNvbnN0IHBpcGVGYWN0b3J5ID0gcGlwZURlZi5mYWN0b3J5IHx8IChwaXBlRGVmLmZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKHBpcGVEZWYudHlwZSwgdHJ1ZSkpO1xuICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbijJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICB0cnkge1xuICAgICAgICAvLyBESSBmb3IgcGlwZXMgaXMgc3VwcG9zZWQgdG8gYmVoYXZlIGxpa2UgZGlyZWN0aXZlcyB3aGVuIHBsYWNlZCBvbiBhIGNvbXBvbmVudFxuICAgICAgICAvLyBob3N0IG5vZGUsIHdoaWNoIG1lYW5zIHRoYXQgd2UgaGF2ZSB0byBkaXNhYmxlIGFjY2VzcyB0byBgdmlld1Byb3ZpZGVyc2AuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMgPSBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhmYWxzZSk7XG4gICAgICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IHBpcGVGYWN0b3J5KCk7XG4gICAgICAgIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICBzdG9yZSh0VmlldywgZ2V0TFZpZXcoKSwgYWRqdXN0ZWRJbmRleCwgcGlwZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHBpcGVJbnN0YW5jZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gcmVzdG9yZSB0aGUgaW5qZWN0b3IgaW1wbGVtZW50YXRpb24gaW4gZmluYWxseSwganVzdCBpbiBjYXNlIHRoZSBjcmVhdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gcGlwZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoZXMgdGhlIHBpcGUgcmVnaXN0cnkgZm9yIGEgcGlwZSB3aXRoIHRoZSBnaXZlbiBuYW1lLiBJZiBvbmUgaXMgZm91bmQsXG4gKiByZXR1cm5zIHRoZSBwaXBlLiBPdGhlcndpc2UsIGFuIGVycm9yIGlzIHRocm93biBiZWNhdXNlIHRoZSBwaXBlIGNhbm5vdCBiZSByZXNvbHZlZC5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHBpcGUgdG8gcmVzb2x2ZVxuICogQHBhcmFtIHJlZ2lzdHJ5IEZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgcGlwZXNcbiAqIEByZXR1cm5zIE1hdGNoaW5nIFBpcGVEZWZcbiAqL1xuZnVuY3Rpb24gZ2V0UGlwZURlZihuYW1lLCByZWdpc3RyeSkge1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBmb3IgKGxldCBpID0gcmVnaXN0cnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHBpcGVEZWYgPSByZWdpc3RyeVtpXTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBwaXBlRGVmLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlwZURlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MVmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGRlY2xhcmF0aW9uTFZpZXdbQ09OVEVYVF07XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbnRleHQgPyBgIGluIHRoZSAnJHtjb250ZXh0LmNvbnN0cnVjdG9yLm5hbWV9JyBjb21wb25lbnRgIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTMwMiAvKiBQSVBFX05PVF9GT1VORCAqLywgYFRoZSBwaXBlICcke25hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQke2NvbXBvbmVudH0hYCk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDEgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kMShpbmRleCwgc2xvdE9mZnNldCwgdjEpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/XG4gICAgICAgIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxKTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCAyIGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHYxIDFzdCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYyIDJuZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZDIoaW5kZXgsIHNsb3RPZmZzZXQsIHYxLCB2Mikge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uMkludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgdjIsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2Mik7XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggMyBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2MSAxc3QgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MiAybmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MyA0cmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmQzKGluZGV4LCBzbG90T2Zmc2V0LCB2MSwgdjIsIHYzKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb24zSW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCB2MiwgdjMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MiwgdjMpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDQgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjMgM3JkIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjQgNHRoIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kNChpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyLCB2MywgdjQpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/IHB1cmVGdW5jdGlvbjRJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHYyLCB2MywgdjQsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MiwgdjMsIHY0KTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdmFsdWVzIEFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gbWV0aG9kLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZFYoaW5kZXgsIHNsb3RPZmZzZXQsIHZhbHVlcykge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uVkludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2YWx1ZXMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLmFwcGx5KHBpcGVJbnN0YW5jZSwgdmFsdWVzKTtcbn1cbmZ1bmN0aW9uIGlzUHVyZShsVmlldywgaW5kZXgpIHtcbiAgICByZXR1cm4gbFZpZXdbVFZJRVddLmRhdGFbaW5kZXhdLnB1cmU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgRXZlbnRFbWl0dGVyXyBleHRlbmRzIFN1YmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGlzQXN5bmMgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9faXNBc3luYyA9IGlzQXN5bmM7XG4gICAgfVxuICAgIGVtaXQodmFsdWUpIHtcbiAgICAgICAgc3VwZXIubmV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIHN1YnNjcmliZShvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBsZXQgbmV4dEZuID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIGxldCBlcnJvckZuID0gZXJyb3IgfHwgKCgpID0+IG51bGwpO1xuICAgICAgICBsZXQgY29tcGxldGVGbiA9IGNvbXBsZXRlO1xuICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgJiYgdHlwZW9mIG9ic2VydmVyT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgICAgIG5leHRGbiA9IChfYSA9IG9ic2VydmVyLm5leHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgICAgIGVycm9yRm4gPSAoX2IgPSBvYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJpbmQob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgY29tcGxldGVGbiA9IChfYyA9IG9ic2VydmVyLmNvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYmluZChvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19pc0FzeW5jKSB7XG4gICAgICAgICAgICBlcnJvckZuID0gX3dyYXBJblRpbWVvdXQoZXJyb3JGbik7XG4gICAgICAgICAgICBpZiAobmV4dEZuKSB7XG4gICAgICAgICAgICAgICAgbmV4dEZuID0gX3dyYXBJblRpbWVvdXQobmV4dEZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZUZuKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9IF93cmFwSW5UaW1lb3V0KGNvbXBsZXRlRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpbmsgPSBzdXBlci5zdWJzY3JpYmUoeyBuZXh0OiBuZXh0Rm4sIGVycm9yOiBlcnJvckZuLCBjb21wbGV0ZTogY29tcGxldGVGbiB9KTtcbiAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBvYnNlcnZlck9yTmV4dC5hZGQoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfVxufVxuZnVuY3Rpb24gX3dyYXBJblRpbWVvdXQoZm4pIHtcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIHVuZGVmaW5lZCwgdmFsdWUpO1xuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyXztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBzeW1ib2xJdGVyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzdWx0c1tnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xufVxuLyoqXG4gKiBBbiB1bm1vZGlmaWFibGUgbGlzdCBvZiBpdGVtcyB0aGF0IEFuZ3VsYXIga2VlcHMgdXAgdG8gZGF0ZSB3aGVuIHRoZSBzdGF0ZVxuICogb2YgdGhlIGFwcGxpY2F0aW9uIGNoYW5nZXMuXG4gKlxuICogVGhlIHR5cGUgb2Ygb2JqZWN0IHRoYXQge0BsaW5rIFZpZXdDaGlsZHJlbn0sIHtAbGluayBDb250ZW50Q2hpbGRyZW59LCBhbmQge0BsaW5rIFF1ZXJ5TGlzdH1cbiAqIHByb3ZpZGUuXG4gKlxuICogSW1wbGVtZW50cyBhbiBpdGVyYWJsZSBpbnRlcmZhY2UsIHRoZXJlZm9yZSBpdCBjYW4gYmUgdXNlZCBpbiBib3RoIEVTNlxuICogamF2YXNjcmlwdCBgZm9yICh2YXIgaSBvZiBpdGVtcylgIGxvb3BzIGFzIHdlbGwgYXMgaW4gQW5ndWxhciB0ZW1wbGF0ZXMgd2l0aFxuICogYCpuZ0Zvcj1cImxldCBpIG9mIG15TGlzdFwiYC5cbiAqXG4gKiBDaGFuZ2VzIGNhbiBiZSBvYnNlcnZlZCBieSBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcyBgT2JzZXJ2YWJsZWAuXG4gKlxuICogTk9URTogSW4gdGhlIGZ1dHVyZSB0aGlzIGNsYXNzIHdpbGwgaW1wbGVtZW50IGFuIGBPYnNlcnZhYmxlYCBpbnRlcmZhY2UuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBAQ29tcG9uZW50KHsuLi59KVxuICogY2xhc3MgQ29udGFpbmVyIHtcbiAqICAgQFZpZXdDaGlsZHJlbihJdGVtKSBpdGVtczpRdWVyeUxpc3Q8SXRlbT47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFF1ZXJ5TGlzdCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5IFdoZXRoZXIgYFF1ZXJ5TGlzdC5jaGFuZ2VzYCBzaG91bGQgZmlyZSBvbmx5IHdoZW4gYWN0dWFsIGNoYW5nZVxuICAgICAqICAgICBoYXMgb2NjdXJyZWQuIE9yIGlmIGl0IHNob3VsZCBmaXJlIHdoZW4gcXVlcnkgaXMgcmVjb21wdXRlZC4gKHJlY29tcHV0aW5nIGNvdWxkIHJlc29sdmUgaW5cbiAgICAgKiAgICAgdGhlIHNhbWUgcmVzdWx0KVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9lbWl0RGlzdGluY3RDaGFuZ2VzT25seSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5ID0gX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IFtdO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlcyA9IG51bGw7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5maXJzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBkZWNsYXJlZCBvbiB0aGUgcHJvdG90eXBlLCBidXQgZG9pbmcgc28gdGhlcmUgd2lsbCBjYXVzZSB0aGUgY2xhc3NcbiAgICAgICAgLy8gZGVjbGFyYXRpb24gdG8gaGF2ZSBzaWRlLWVmZmVjdHMgYW5kIGJlY29tZSBub3QgdHJlZS1zaGFrYWJsZS4gRm9yIHRoaXMgcmVhc29uIHdlIGRvIGl0IGluXG4gICAgICAgIC8vIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgLy8gW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk6IEl0ZXJhdG9yPFQ+IHsgLi4uIH1cbiAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgcHJvdG8gPSBRdWVyeUxpc3QucHJvdG90eXBlO1xuICAgICAgICBpZiAoIXByb3RvW3N5bWJvbF0pXG4gICAgICAgICAgICBwcm90b1tzeW1ib2xdID0gc3ltYm9sSXRlcmF0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYE9ic2VydmFibGVgIG9mIGBRdWVyeUxpc3RgIG5vdGlmeWluZyB0aGUgc3Vic2NyaWJlciBvZiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBjaGFuZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlcyB8fCAodGhpcy5fY2hhbmdlcyA9IG5ldyBFdmVudEVtaXR0ZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFF1ZXJ5TGlzdCBlbnRyeSBhdCBgaW5kZXhgLlxuICAgICAqL1xuICAgIGdldChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0c1tpbmRleF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5tYXBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L21hcClcbiAgICAgKi9cbiAgICBtYXAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZpbHRlcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmlsdGVyKVxuICAgICAqL1xuICAgIGZpbHRlcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmluZClcbiAgICAgKi9cbiAgICBmaW5kKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLmZpbmQoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkucmVkdWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZWR1Y2UpXG4gICAgICovXG4gICAgcmVkdWNlKGZuLCBpbml0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnJlZHVjZShmbiwgaW5pdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5mb3JFYWNoXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9mb3JFYWNoKVxuICAgICAqL1xuICAgIGZvckVhY2goZm4pIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0cy5mb3JFYWNoKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnNvbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvbWUpXG4gICAgICovXG4gICAgc29tZShmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5zb21lKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGludGVybmFsIHJlc3VsdHMgbGlzdCBhcyBhbiBBcnJheS5cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RvcmVkIGRhdGEgb2YgdGhlIHF1ZXJ5IGxpc3QsIGFuZCByZXNldHMgdGhlIGBkaXJ0eWAgZmxhZyB0byBgZmFsc2VgLCBzbyB0aGF0XG4gICAgICogb24gY2hhbmdlIGRldGVjdGlvbiwgaXQgd2lsbCBub3Qgbm90aWZ5IG9mIGNoYW5nZXMgdG8gdGhlIHF1ZXJpZXMsIHVubGVzcyBhIG5ldyBjaGFuZ2VcbiAgICAgKiBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzdWx0c1RyZWUgVGhlIHF1ZXJ5IHJlc3VsdHMgdG8gc3RvcmVcbiAgICAgKiBAcGFyYW0gaWRlbnRpdHlBY2Nlc3NvciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgZXh0cmFjdGluZyBzdGFibGUgb2JqZWN0IGlkZW50aXR5IGZyb20gYSB2YWx1ZVxuICAgICAqICAgIGluIHRoZSBhcnJheS4gVGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZCBmb3IgZWFjaCBlbGVtZW50IG9mIHRoZSBxdWVyeSByZXN1bHQgbGlzdCB3aGlsZVxuICAgICAqICAgIGNvbXBhcmluZyBjdXJyZW50IHF1ZXJ5IGxpc3Qgd2l0aCB0aGUgbmV3IG9uZSAocHJvdmlkZWQgYXMgYSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgYHJlc2V0YFxuICAgICAqICAgIGZ1bmN0aW9uKSB0byBkZXRlY3QgaWYgdGhlIGxpc3RzIGFyZSBkaWZmZXJlbnQuIElmIHRoZSBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIGVsZW1lbnRzXG4gICAgICogICAgYXJlIGNvbXBhcmVkIGFzIGlzICh3aXRob3V0IGFueSBwcmUtcHJvY2Vzc2luZykuXG4gICAgICovXG4gICAgcmVzZXQocmVzdWx0c1RyZWUsIGlkZW50aXR5QWNjZXNzb3IpIHtcbiAgICAgICAgLy8gQ2FzdCB0byBgUXVlcnlMaXN0SW50ZXJuYWxgIHNvIHRoYXQgd2UgY2FuIG11dGF0ZSBmaWVsZHMgd2hpY2ggYXJlIHJlYWRvbmx5IGZvciB0aGUgdXNhZ2Ugb2ZcbiAgICAgICAgLy8gUXVlcnlMaXN0IChidXQgbm90IGZvciBRdWVyeUxpc3QgaXRzZWxmLilcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV3UmVzdWx0RmxhdCA9IGZsYXR0ZW4ocmVzdWx0c1RyZWUpO1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc0RldGVjdGVkID0gIWFycmF5RXF1YWxzKHNlbGYuX3Jlc3VsdHMsIG5ld1Jlc3VsdEZsYXQsIGlkZW50aXR5QWNjZXNzb3IpKSB7XG4gICAgICAgICAgICBzZWxmLl9yZXN1bHRzID0gbmV3UmVzdWx0RmxhdDtcbiAgICAgICAgICAgIHNlbGYubGVuZ3RoID0gbmV3UmVzdWx0RmxhdC5sZW5ndGg7XG4gICAgICAgICAgICBzZWxmLmxhc3QgPSBuZXdSZXN1bHRGbGF0W3RoaXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBzZWxmLmZpcnN0ID0gbmV3UmVzdWx0RmxhdFswXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhIGNoYW5nZSBldmVudCBieSBlbWl0dGluZyBvbiB0aGUgYGNoYW5nZXNgIHtAbGluayBFdmVudEVtaXR0ZXJ9LlxuICAgICAqL1xuICAgIG5vdGlmeU9uQ2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXMgJiYgKHRoaXMuX2NoYW5nZXNEZXRlY3RlZCB8fCAhdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkpKVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlcy5lbWl0KHRoaXMpO1xuICAgIH1cbiAgICAvKiogaW50ZXJuYWwgKi9cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIC8qKiBpbnRlcm5hbCAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLmNoYW5nZXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG5TeW1ib2wuaXRlcmF0b3I7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVtYmVkZGVkIHRlbXBsYXRlIHRoYXQgY2FuIGJlIHVzZWQgdG8gaW5zdGFudGlhdGUgZW1iZWRkZWQgdmlld3MuXG4gKiBUbyBpbnN0YW50aWF0ZSBlbWJlZGRlZCB2aWV3cyBiYXNlZCBvbiBhIHRlbXBsYXRlLCB1c2UgdGhlIGBWaWV3Q29udGFpbmVyUmVmYFxuICogbWV0aG9kIGBjcmVhdGVFbWJlZGRlZFZpZXcoKWAuXG4gKlxuICogQWNjZXNzIGEgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZSBieSBwbGFjaW5nIGEgZGlyZWN0aXZlIG9uIGFuIGA8bmctdGVtcGxhdGU+YFxuICogZWxlbWVudCAob3IgZGlyZWN0aXZlIHByZWZpeGVkIHdpdGggYCpgKS4gVGhlIGBUZW1wbGF0ZVJlZmAgZm9yIHRoZSBlbWJlZGRlZCB2aWV3XG4gKiBpcyBpbmplY3RlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlyZWN0aXZlLFxuICogdXNpbmcgdGhlIGBUZW1wbGF0ZVJlZmAgdG9rZW4uXG4gKlxuICogWW91IGNhbiBhbHNvIHVzZSBhIGBRdWVyeWAgdG8gZmluZCBhIGBUZW1wbGF0ZVJlZmAgYXNzb2NpYXRlZCB3aXRoXG4gKiBhIGNvbXBvbmVudCBvciBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBAc2VlIGBWaWV3Q29udGFpbmVyUmVmYFxuICogQHNlZSBbTmF2aWdhdGUgdGhlIENvbXBvbmVudCBUcmVlIHdpdGggREldKGd1aWRlL2RlcGVuZGVuY3ktaW5qZWN0aW9uLW5hdnRyZWUpXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBUZW1wbGF0ZVJlZiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuVGVtcGxhdGVSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RUZW1wbGF0ZVJlZjtcbmNvbnN0IFZpZXdFbmdpbmVUZW1wbGF0ZVJlZiA9IFRlbXBsYXRlUmVmO1xuLy8gVE9ETyhhbHhodWIpOiBjb21iaW5lIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb24uIEN1cnJlbnRseSB0aGlzIGlzIGNoYWxsZW5naW5nIHNpbmNlIHNvbWV0aGluZ1xuLy8gaW4gZzMgZGVwZW5kcyBvbiB0aGVtIGJlaW5nIHNlcGFyYXRlLlxuY29uc3QgUjNUZW1wbGF0ZVJlZiA9IGNsYXNzIFRlbXBsYXRlUmVmIGV4dGVuZHMgVmlld0VuZ2luZVRlbXBsYXRlUmVmIHtcbiAgICBjb25zdHJ1Y3RvcihfZGVjbGFyYXRpb25MVmlldywgX2RlY2xhcmF0aW9uVENvbnRhaW5lciwgZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kZWNsYXJhdGlvbkxWaWV3ID0gX2RlY2xhcmF0aW9uTFZpZXc7XG4gICAgICAgIHRoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lciA9IF9kZWNsYXJhdGlvblRDb250YWluZXI7XG4gICAgICAgIHRoaXMuZWxlbWVudFJlZiA9IGVsZW1lbnRSZWY7XG4gICAgfVxuICAgIGNyZWF0ZUVtYmVkZGVkVmlldyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGVtYmVkZGVkVFZpZXcgPSB0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIudFZpZXdzO1xuICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gY3JlYXRlTFZpZXcodGhpcy5fZGVjbGFyYXRpb25MVmlldywgZW1iZWRkZWRUVmlldywgY29udGV4dCwgMTYgLyogQ2hlY2tBbHdheXMgKi8sIG51bGwsIGVtYmVkZGVkVFZpZXcuZGVjbFROb2RlLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MQ29udGFpbmVyID0gdGhpcy5fZGVjbGFyYXRpb25MVmlld1t0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIuaW5kZXhdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkxDb250YWluZXIpO1xuICAgICAgICBlbWJlZGRlZExWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdID0gZGVjbGFyYXRpb25MQ29udGFpbmVyO1xuICAgICAgICBjb25zdCBkZWNsYXJhdGlvblZpZXdMUXVlcmllcyA9IHRoaXMuX2RlY2xhcmF0aW9uTFZpZXdbUVVFUklFU107XG4gICAgICAgIGlmIChkZWNsYXJhdGlvblZpZXdMUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZW1iZWRkZWRMVmlld1tRVUVSSUVTXSA9IGRlY2xhcmF0aW9uVmlld0xRdWVyaWVzLmNyZWF0ZUVtYmVkZGVkVmlldyhlbWJlZGRlZFRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJWaWV3KGVtYmVkZGVkVFZpZXcsIGVtYmVkZGVkTFZpZXcsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdSZWYkMShlbWJlZGRlZExWaWV3KTtcbiAgICB9XG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgVGVtcGxhdGVSZWYgZ2l2ZW4gYSBub2RlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBUZW1wbGF0ZVJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0VGVtcGxhdGVSZWYoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFRlbXBsYXRlUmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yLlxuICpcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIG5vZGUgb24gd2hpY2ggYSBUZW1wbGF0ZVJlZiBpcyByZXF1ZXN0ZWRcbiAqIEBwYXJhbSBob3N0TFZpZXcgVGhlIGBMVmlld2AgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHJldHVybnMgVGhlIFRlbXBsYXRlUmVmIGluc3RhbmNlIG9yIG51bGwgaWYgd2UgY2FuJ3QgY3JlYXRlIGEgVGVtcGxhdGVSZWYgb24gYSBnaXZlbiBub2RlIHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGVtcGxhdGVSZWYoaG9zdFROb2RlLCBob3N0TFZpZXcpIHtcbiAgICBpZiAoaG9zdFROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChob3N0VE5vZGUudFZpZXdzLCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSM1RlbXBsYXRlUmVmKGhvc3RMVmlldywgaG9zdFROb2RlLCBjcmVhdGVFbGVtZW50UmVmKGhvc3RUTm9kZSwgaG9zdExWaWV3KSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnRhaW5lciB3aGVyZSBvbmUgb3IgbW9yZSB2aWV3cyBjYW4gYmUgYXR0YWNoZWQgdG8gYSBjb21wb25lbnQuXG4gKlxuICogQ2FuIGNvbnRhaW4gKmhvc3Qgdmlld3MqIChjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYVxuICogY29tcG9uZW50IHdpdGggdGhlIGBjcmVhdGVDb21wb25lbnQoKWAgbWV0aG9kKSwgYW5kICplbWJlZGRlZCB2aWV3cypcbiAqIChjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYSBgVGVtcGxhdGVSZWZgIHdpdGggdGhlIGBjcmVhdGVFbWJlZGRlZFZpZXcoKWAgbWV0aG9kKS5cbiAqXG4gKiBBIHZpZXcgY29udGFpbmVyIGluc3RhbmNlIGNhbiBjb250YWluIG90aGVyIHZpZXcgY29udGFpbmVycyxcbiAqIGNyZWF0aW5nIGEgW3ZpZXcgaGllcmFyY2h5XShndWlkZS9nbG9zc2FyeSN2aWV3LXRyZWUpLlxuICpcbiAqIEBzZWUgYENvbXBvbmVudFJlZmBcbiAqIEBzZWUgYEVtYmVkZGVkVmlld1JlZmBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFZpZXdDb250YWluZXJSZWYge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cblZpZXdDb250YWluZXJSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RWaWV3Q29udGFpbmVyUmVmO1xuLyoqXG4gKiBDcmVhdGVzIGEgVmlld0NvbnRhaW5lclJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci4gT3IsIGlmIHRoZSBWaWV3Q29udGFpbmVyUmVmXG4gKiBhbHJlYWR5IGV4aXN0cywgcmV0cmlldmVzIHRoZSBleGlzdGluZyBWaWV3Q29udGFpbmVyUmVmLlxuICpcbiAqIEByZXR1cm5zIFRoZSBWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RWaWV3Q29udGFpbmVyUmVmKCkge1xuICAgIGNvbnN0IHByZXZpb3VzVE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyUmVmKHByZXZpb3VzVE5vZGUsIGdldExWaWV3KCkpO1xufVxuY29uc3QgVkVfVmlld0NvbnRhaW5lclJlZiA9IFZpZXdDb250YWluZXJSZWY7XG4vLyBUT0RPKGFseGh1Yik6IGNsZWFuaW5nIHVwIHRoaXMgaW5kaXJlY3Rpb24gdHJpZ2dlcnMgYSBzdWJ0bGUgYnVnIGluIENsb3N1cmUgaW4gZzMuIE9uY2UgdGhlIGZpeFxuLy8gZm9yIHRoYXQgbGFuZHMsIHRoaXMgY2FuIGJlIGNsZWFuZWQgdXAuXG5jb25zdCBSM1ZpZXdDb250YWluZXJSZWYgPSBjbGFzcyBWaWV3Q29udGFpbmVyUmVmIGV4dGVuZHMgVkVfVmlld0NvbnRhaW5lclJlZiB7XG4gICAgY29uc3RydWN0b3IoX2xDb250YWluZXIsIF9ob3N0VE5vZGUsIF9ob3N0TFZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbENvbnRhaW5lciA9IF9sQ29udGFpbmVyO1xuICAgICAgICB0aGlzLl9ob3N0VE5vZGUgPSBfaG9zdFROb2RlO1xuICAgICAgICB0aGlzLl9ob3N0TFZpZXcgPSBfaG9zdExWaWV3O1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYodGhpcy5faG9zdFROb2RlLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdExWaWV3KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIE5vIHJlcGxhY2VtZW50ICovXG4gICAgZ2V0IHBhcmVudEluamVjdG9yKCkge1xuICAgICAgICBjb25zdCBwYXJlbnRMb2NhdGlvbiA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odGhpcy5faG9zdFROb2RlLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgICAgICBpZiAoaGFzUGFyZW50SW5qZWN0b3IocGFyZW50TG9jYXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVJbmplY3RvcihwYXJlbnRWaWV3LCBpbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFROb2RlID0gcGFyZW50Vmlld1tUVklFV10uZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL107XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3RvcihwYXJlbnRUTm9kZSwgcGFyZW50Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3RvcihudWxsLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSh0aGlzLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldChpbmRleCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmcyA9IGdldFZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gdmlld1JlZnMgIT09IG51bGwgJiYgdmlld1JlZnNbaW5kZXhdIHx8IG51bGw7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sQ29udGFpbmVyLmxlbmd0aCAtIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUO1xuICAgIH1cbiAgICBjcmVhdGVFbWJlZGRlZFZpZXcodGVtcGxhdGVSZWYsIGNvbnRleHQsIGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0ZW1wbGF0ZVJlZi5jcmVhdGVFbWJlZGRlZFZpZXcoY29udGV4dCB8fCB7fSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHZpZXdSZWYsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIGNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRGYWN0b3J5T3JUeXBlLCBpbmRleE9yT3B0aW9ucywgaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIG5nTW9kdWxlUmVmKSB7XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50RmFjdG9yeSA9IGNvbXBvbmVudEZhY3RvcnlPclR5cGUgJiYgIWlzVHlwZShjb21wb25lbnRGYWN0b3J5T3JUeXBlKTtcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIDIgc2lnbmF0dXJlcyBhbmQgd2UgbmVlZCB0byBoYW5kbGUgb3B0aW9ucyBjb3JyZWN0bHkgZm9yIGJvdGg6XG4gICAgICAgIC8vICAgMS4gV2hlbiBmaXJzdCBhcmd1bWVudCBpcyBhIENvbXBvbmVudCB0eXBlLiBUaGlzIHNpZ25hdHVyZSBhbHNvIHJlcXVpcmVzIGV4dHJhXG4gICAgICAgIC8vICAgICAgb3B0aW9ucyB0byBiZSBwcm92aWRlZCBhcyBhcyBvYmplY3QgKG1vcmUgZXJnb25vbWljIG9wdGlvbikuXG4gICAgICAgIC8vICAgMi4gRmlyc3QgYXJndW1lbnQgaXMgYSBDb21wb25lbnQgZmFjdG9yeS4gSW4gdGhpcyBjYXNlIGV4dHJhIG9wdGlvbnMgYXJlIHJlcHJlc2VudGVkIGFzXG4gICAgICAgIC8vICAgICAgcG9zaXRpb25hbCBhcmd1bWVudHMuIFRoaXMgc2lnbmF0dXJlIGlzIGxlc3MgZXJnb25vbWljIGFuZCB3aWxsIGJlIGRlcHJlY2F0ZWQuXG4gICAgICAgIGlmIChpc0NvbXBvbmVudEZhY3RvcnkpIHtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgaW5kZXhPck9wdGlvbnMgIT09ICdvYmplY3QnLCB0cnVlLCAnSXQgbG9va3MgbGlrZSBDb21wb25lbnQgZmFjdG9yeSB3YXMgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW5kIGFuIG9wdGlvbnMgb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIFRoaXMgY29tYmluYXRpb24gb2YgYXJndW1lbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAnaXMgaW5jb21wYXRpYmxlLiBZb3UgY2FuIGVpdGhlciBjaGFuZ2UgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHByb3ZpZGUgQ29tcG9uZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAndHlwZSBvciBjaGFuZ2UgdGhlIHNlY29uZCBhcmd1bWVudCB0byBiZSBhIG51bWJlciAocmVwcmVzZW50aW5nIGFuIGluZGV4IGF0ICcgK1xuICAgICAgICAgICAgICAgICAgICAnd2hpY2ggdG8gaW5zZXJ0IHRoZSBuZXcgY29tcG9uZW50XFwncyBob3N0IHZpZXcgaW50byB0aGlzIGNvbnRhaW5lciknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXhPck9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChnZXRDb21wb25lbnREZWYoY29tcG9uZW50RmFjdG9yeU9yVHlwZSksIGBQcm92aWRlZCBDb21wb25lbnQgY2xhc3MgZG9lc24ndCBjb250YWluIENvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSBjaGVjayB3aGV0aGVyIHByb3ZpZGVkIGNsYXNzIGhhcyBAQ29tcG9uZW50IGRlY29yYXRvci5gKTtcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgaW5kZXhPck9wdGlvbnMgIT09ICdudW1iZXInLCB0cnVlLCAnSXQgbG9va3MgbGlrZSBDb21wb25lbnQgdHlwZSB3YXMgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW5kIGEgbnVtYmVyIChyZXByZXNlbnRpbmcgYW4gaW5kZXggYXQgd2hpY2ggdG8gaW5zZXJ0IHRoZSBuZXcgY29tcG9uZW50XFwncyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2hvc3QgdmlldyBpbnRvIHRoaXMgY29udGFpbmVyIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIFRoaXMgY29tYmluYXRpb24gb2YgYXJndW1lbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAnaXMgaW5jb21wYXRpYmxlLiBQbGVhc2UgdXNlIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gKGluZGV4T3JPcHRpb25zIHx8IHt9KTtcbiAgICAgICAgICAgIGluZGV4ID0gb3B0aW9ucy5pbmRleDtcbiAgICAgICAgICAgIGluamVjdG9yID0gb3B0aW9ucy5pbmplY3RvcjtcbiAgICAgICAgICAgIHByb2plY3RhYmxlTm9kZXMgPSBvcHRpb25zLnByb2plY3RhYmxlTm9kZXM7XG4gICAgICAgICAgICBuZ01vZHVsZVJlZiA9IG9wdGlvbnMubmdNb2R1bGVSZWY7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yeSA9IGlzQ29tcG9uZW50RmFjdG9yeSA/XG4gICAgICAgICAgICBjb21wb25lbnRGYWN0b3J5T3JUeXBlIDpcbiAgICAgICAgICAgIG5ldyBDb21wb25lbnRGYWN0b3J5KGdldENvbXBvbmVudERlZihjb21wb25lbnRGYWN0b3J5T3JUeXBlKSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRJbmplY3RvciA9IGluamVjdG9yIHx8IHRoaXMucGFyZW50SW5qZWN0b3I7XG4gICAgICAgIC8vIElmIGFuIGBOZ01vZHVsZVJlZmAgaXMgbm90IHByb3ZpZGVkIGV4cGxpY2l0bHksIHRyeSByZXRyaWV2aW5nIGl0IGZyb20gdGhlIERJIHRyZWUuXG4gICAgICAgIGlmICghbmdNb2R1bGVSZWYgJiYgY29tcG9uZW50RmFjdG9yeS5uZ01vZHVsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBGb3IgdGhlIGBDb21wb25lbnRGYWN0b3J5YCBjYXNlLCBlbnRlcmluZyB0aGlzIGxvZ2ljIGlzIHZlcnkgdW5saWtlbHksIHNpbmNlIHdlIGV4cGVjdCB0aGF0XG4gICAgICAgICAgICAvLyBhbiBpbnN0YW5jZSBvZiBhIGBDb21wb25lbnRGYWN0b3J5YCwgcmVzb2x2ZWQgdmlhIGBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJgIHdvdWxkIGhhdmUgYW5cbiAgICAgICAgICAgIC8vIGBuZ01vZHVsZWAgZmllbGQuIFRoaXMgaXMgcG9zc2libGUgaW4gc29tZSB0ZXN0IHNjZW5hcmlvcyBhbmQgcG90ZW50aWFsbHkgaW4gc29tZSBKSVQtYmFzZWRcbiAgICAgICAgICAgIC8vIHVzZS1jYXNlcy4gRm9yIHRoZSBgQ29tcG9uZW50RmFjdG9yeWAgY2FzZSB3ZSBwcmVzZXJ2ZSBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBhbmQgdHJ5XG4gICAgICAgICAgICAvLyB1c2luZyBhIHByb3ZpZGVkIGluamVjdG9yIGZpcnN0LCB0aGVuIGZhbGwgYmFjayB0byB0aGUgcGFyZW50IGluamVjdG9yIG9mIHRoaXNcbiAgICAgICAgICAgIC8vIGBWaWV3Q29udGFpbmVyUmVmYCBpbnN0YW5jZS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBGb3IgdGhlIGZhY3RvcnktbGVzcyBjYXNlLCBpdCdzIGNyaXRpY2FsIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgbW9kdWxlXG4gICAgICAgICAgICAvLyBpbmplY3RvciB0cmVlIChieSByZXRyaWV2aW5nIGFuIGluc3RhbmNlIG9mIGFuIGBOZ01vZHVsZVJlZmAgYW5kIGFjY2Vzc2luZyBpdHMgaW5qZWN0b3IpLFxuICAgICAgICAgICAgLy8gc28gdGhhdCBhIGNvbXBvbmVudCBjYW4gdXNlIERJIHRva2VucyBwcm92aWRlZCBpbiBNZ01vZHVsZXMuIEZvciB0aGlzIHJlYXNvbiwgd2UgY2FuIG5vdFxuICAgICAgICAgICAgLy8gcmVseSBvbiB0aGUgcHJvdmlkZWQgaW5qZWN0b3IsIHNpbmNlIGl0IG1pZ2h0IGJlIGRldGFjaGVkIGZyb20gdGhlIERJIHRyZWUgKGZvciBleGFtcGxlLCBpZlxuICAgICAgICAgICAgLy8gaXQgd2FzIGNyZWF0ZWQgdmlhIGBJbmplY3Rvci5jcmVhdGVgIHdpdGhvdXQgc3BlY2lmeWluZyBhIHBhcmVudCBpbmplY3Rvciwgb3IgaWYgYW5cbiAgICAgICAgICAgIC8vIGluamVjdG9yIGlzIHJldHJpZXZlZCBmcm9tIGFuIGBOZ01vZHVsZVJlZmAgY3JlYXRlZCB2aWEgYGNyZWF0ZU5nTW9kdWxlUmVmYCB1c2luZyBhblxuICAgICAgICAgICAgLy8gTmdNb2R1bGUgb3V0c2lkZSBvZiBhIG1vZHVsZSB0cmVlKS4gSW5zdGVhZCwgd2UgYWx3YXlzIHVzZSBgVmlld0NvbnRhaW5lclJlZmAncyBwYXJlbnRcbiAgICAgICAgICAgIC8vIGluamVjdG9yLCB3aGljaCBpcyBub3JtYWxseSBjb25uZWN0ZWQgdG8gdGhlIERJIHRyZWUsIHdoaWNoIGluY2x1ZGVzIG1vZHVsZSBpbmplY3RvclxuICAgICAgICAgICAgLy8gc3VidHJlZS5cbiAgICAgICAgICAgIGNvbnN0IF9pbmplY3RvciA9IGlzQ29tcG9uZW50RmFjdG9yeSA/IGNvbnRleHRJbmplY3RvciA6IHRoaXMucGFyZW50SW5qZWN0b3I7XG4gICAgICAgICAgICAvLyBETyBOT1QgUkVGQUNUT1IuIFRoZSBjb2RlIGhlcmUgdXNlZCB0byBoYXZlIGEgYGluamVjdG9yLmdldChOZ01vZHVsZVJlZiwgbnVsbCkgfHxcbiAgICAgICAgICAgIC8vIHVuZGVmaW5lZGAgZXhwcmVzc2lvbiB3aGljaCBzZWVtcyB0byBjYXVzZSBpbnRlcm5hbCBnb29nbGUgYXBwcyB0byBmYWlsLiBUaGlzIGlzIGRvY3VtZW50ZWRcbiAgICAgICAgICAgIC8vIGluIHRoZSBmb2xsb3dpbmcgaW50ZXJuYWwgYnVnIGlzc3VlOiBnby9iLzE0Mjk2NzgwMlxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gX2luamVjdG9yLmdldChOZ01vZHVsZVJlZiQxLCBudWxsKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBuZ01vZHVsZVJlZiA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShjb250ZXh0SW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHVuZGVmaW5lZCwgbmdNb2R1bGVSZWYpO1xuICAgICAgICB0aGlzLmluc2VydChjb21wb25lbnRSZWYuaG9zdFZpZXcsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgaW5zZXJ0KHZpZXdSZWYsIGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gdmlld1JlZi5fbFZpZXc7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHZpZXdSZWYuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnNlcnQgYSBkZXN0cm95ZWQgVmlldyBpbiBhIFZpZXdDb250YWluZXIhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZXdBdHRhY2hlZFRvQ29udGFpbmVyKGxWaWV3KSkge1xuICAgICAgICAgICAgLy8gSWYgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkLCBkZXRhY2ggaXQgZmlyc3Qgc28gd2UgY2xlYW4gdXAgcmVmZXJlbmNlcyBhcHByb3ByaWF0ZWx5LlxuICAgICAgICAgICAgY29uc3QgcHJldklkeCA9IHRoaXMuaW5kZXhPZih2aWV3UmVmKTtcbiAgICAgICAgICAgIC8vIEEgdmlldyBtaWdodCBiZSBhdHRhY2hlZCBlaXRoZXIgdG8gdGhpcyBvciBhIGRpZmZlcmVudCBjb250YWluZXIuIFRoZSBgcHJldklkeGAgZm9yXG4gICAgICAgICAgICAvLyB0aG9zZSBjYXNlcyB3aWxsIGJlOlxuICAgICAgICAgICAgLy8gZXF1YWwgdG8gLTEgZm9yIHZpZXdzIGF0dGFjaGVkIHRvIHRoaXMgVmlld0NvbnRhaW5lclJlZlxuICAgICAgICAgICAgLy8gPj0gMCBmb3Igdmlld3MgYXR0YWNoZWQgdG8gYSBkaWZmZXJlbnQgVmlld0NvbnRhaW5lclJlZlxuICAgICAgICAgICAgaWYgKHByZXZJZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhY2gocHJldklkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2TENvbnRhaW5lciA9IGxWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKGlzTENvbnRhaW5lcihwcmV2TENvbnRhaW5lciksIHRydWUsICdBbiBhdHRhY2hlZCB2aWV3IHNob3VsZCBoYXZlIGl0cyBQQVJFTlQgcG9pbnQgdG8gYSBjb250YWluZXIuJyk7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byByZS1jcmVhdGUgYSBSM1ZpZXdDb250YWluZXJSZWYgaW5zdGFuY2Ugc2luY2UgdGhvc2UgYXJlIG5vdCBzdG9yZWQgb25cbiAgICAgICAgICAgICAgICAvLyBMVmlldyAobm9yIGFueXdoZXJlIGVsc2UpLlxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZWQ1JlZiA9IG5ldyBSM1ZpZXdDb250YWluZXJSZWYocHJldkxDb250YWluZXIsIHByZXZMQ29udGFpbmVyW1RfSE9TVF0sIHByZXZMQ29udGFpbmVyW1BBUkVOVF0pO1xuICAgICAgICAgICAgICAgIHByZXZWQ1JlZi5kZXRhY2gocHJldlZDUmVmLmluZGV4T2Yodmlld1JlZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIExvZ2ljYWwgb3BlcmF0aW9uIG9mIGFkZGluZyBgTFZpZXdgIHRvIGBMQ29udGFpbmVyYFxuICAgICAgICBjb25zdCBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4KTtcbiAgICAgICAgY29uc3QgbENvbnRhaW5lciA9IHRoaXMuX2xDb250YWluZXI7XG4gICAgICAgIGluc2VydFZpZXcodFZpZXcsIGxWaWV3LCBsQ29udGFpbmVyLCBhZGp1c3RlZElkeCk7XG4gICAgICAgIC8vIFBoeXNpY2FsIG9wZXJhdGlvbiBvZiBhZGRpbmcgdGhlIERPTSBub2Rlcy5cbiAgICAgICAgY29uc3QgYmVmb3JlTm9kZSA9IGdldEJlZm9yZU5vZGVGb3JWaWV3KGFkanVzdGVkSWR4LCBsQ29udGFpbmVyKTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgICAgIGNvbnN0IHBhcmVudFJOb2RlID0gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgbENvbnRhaW5lcltOQVRJVkVdKTtcbiAgICAgICAgaWYgKHBhcmVudFJOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBhZGRWaWV3VG9Db250YWluZXIodFZpZXcsIGxDb250YWluZXJbVF9IT1NUXSwgcmVuZGVyZXIsIGxWaWV3LCBwYXJlbnRSTm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld1JlZi5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKTtcbiAgICAgICAgYWRkVG9BcnJheShnZXRPckNyZWF0ZVZpZXdSZWZzKGxDb250YWluZXIpLCBhZGp1c3RlZElkeCwgdmlld1JlZik7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICBtb3ZlKHZpZXdSZWYsIG5ld0luZGV4KSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgdmlld1JlZi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1vdmUgYSBkZXN0cm95ZWQgVmlldyBpbiBhIFZpZXdDb250YWluZXIhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KHZpZXdSZWYsIG5ld0luZGV4KTtcbiAgICB9XG4gICAgaW5kZXhPZih2aWV3UmVmKSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWZzQXJyID0gZ2V0Vmlld1JlZnModGhpcy5fbENvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiB2aWV3UmVmc0FyciAhPT0gbnVsbCA/IHZpZXdSZWZzQXJyLmluZGV4T2Yodmlld1JlZikgOiAtMTtcbiAgICB9XG4gICAgcmVtb3ZlKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkSWR4ID0gdGhpcy5fYWRqdXN0SW5kZXgoaW5kZXgsIC0xKTtcbiAgICAgICAgY29uc3QgZGV0YWNoZWRWaWV3ID0gZGV0YWNoVmlldyh0aGlzLl9sQ29udGFpbmVyLCBhZGp1c3RlZElkeCk7XG4gICAgICAgIGlmIChkZXRhY2hlZFZpZXcpIHtcbiAgICAgICAgICAgIC8vIEJlZm9yZSBkZXN0cm95aW5nIHRoZSB2aWV3LCByZW1vdmUgaXQgZnJvbSB0aGUgY29udGFpbmVyJ3MgYXJyYXkgb2YgYFZpZXdSZWZgcy5cbiAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGUgdmlldyBjb250YWluZXIgbGVuZ3RoIGlzIHVwZGF0ZWQgYmVmb3JlIGNhbGxpbmdcbiAgICAgICAgICAgIC8vIGBkZXN0cm95TFZpZXdgLCB3aGljaCBjb3VsZCByZWN1cnNpdmVseSBjYWxsIHZpZXcgY29udGFpbmVyIG1ldGhvZHMgdGhhdFxuICAgICAgICAgICAgLy8gcmVseSBvbiBhbiBhY2N1cmF0ZSBjb250YWluZXIgbGVuZ3RoLlxuICAgICAgICAgICAgLy8gKGUuZy4gYSBtZXRob2Qgb24gdGhpcyB2aWV3IGNvbnRhaW5lciBiZWluZyBjYWxsZWQgYnkgYSBjaGlsZCBkaXJlY3RpdmUncyBPbkRlc3Ryb3lcbiAgICAgICAgICAgIC8vIGxpZmVjeWNsZSBob29rKVxuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KGdldE9yQ3JlYXRlVmlld1JlZnModGhpcy5fbENvbnRhaW5lciksIGFkanVzdGVkSWR4KTtcbiAgICAgICAgICAgIGRlc3Ryb3lMVmlldyhkZXRhY2hlZFZpZXdbVFZJRVddLCBkZXRhY2hlZFZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRldGFjaChpbmRleCkge1xuICAgICAgICBjb25zdCBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4LCAtMSk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBkZXRhY2hWaWV3KHRoaXMuX2xDb250YWluZXIsIGFkanVzdGVkSWR4KTtcbiAgICAgICAgY29uc3Qgd2FzRGV0YWNoZWQgPSB2aWV3ICYmIHJlbW92ZUZyb21BcnJheShnZXRPckNyZWF0ZVZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpLCBhZGp1c3RlZElkeCkgIT0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHdhc0RldGFjaGVkID8gbmV3IFZpZXdSZWYkMSh2aWV3KSA6IG51bGw7XG4gICAgfVxuICAgIF9hZGp1c3RJbmRleChpbmRleCwgc2hpZnQgPSAwKSB7XG4gICAgICAgIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggKyBzaGlmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbihpbmRleCwgLTEsIGBWaWV3UmVmIGluZGV4IG11c3QgYmUgcG9zaXRpdmUsIGdvdCAke2luZGV4fWApO1xuICAgICAgICAgICAgLy8gKzEgYmVjYXVzZSBpdCdzIGxlZ2FsIHRvIGluc2VydCBhdCB0aGUgZW5kLlxuICAgICAgICAgICAgYXNzZXJ0TGVzc1RoYW4oaW5kZXgsIHRoaXMubGVuZ3RoICsgMSArIHNoaWZ0LCAnaW5kZXgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGdldFZpZXdSZWZzKGxDb250YWluZXIpIHtcbiAgICByZXR1cm4gbENvbnRhaW5lcltWSUVXX1JFRlNdO1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVWaWV3UmVmcyhsQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuIChsQ29udGFpbmVyW1ZJRVdfUkVGU10gfHwgKGxDb250YWluZXJbVklFV19SRUZTXSA9IFtdKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBWaWV3Q29udGFpbmVyUmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yLlxuICpcbiAqIEBwYXJhbSBWaWV3Q29udGFpbmVyUmVmVG9rZW4gVGhlIFZpZXdDb250YWluZXJSZWYgdHlwZVxuICogQHBhcmFtIEVsZW1lbnRSZWZUb2tlbiBUaGUgRWxlbWVudFJlZiB0eXBlXG4gKiBAcGFyYW0gaG9zdFROb2RlIFRoZSBub2RlIHRoYXQgaXMgcmVxdWVzdGluZyBhIFZpZXdDb250YWluZXJSZWZcbiAqIEBwYXJhbSBob3N0TFZpZXcgVGhlIHZpZXcgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHJldHVybnMgVGhlIFZpZXdDb250YWluZXJSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lclJlZihob3N0VE5vZGUsIGhvc3RMVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUoaG9zdFROb2RlLCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAzIC8qIEFueVJOb2RlICovKTtcbiAgICBsZXQgbENvbnRhaW5lcjtcbiAgICBjb25zdCBzbG90VmFsdWUgPSBob3N0TFZpZXdbaG9zdFROb2RlLmluZGV4XTtcbiAgICBpZiAoaXNMQ29udGFpbmVyKHNsb3RWYWx1ZSkpIHtcbiAgICAgICAgLy8gSWYgdGhlIGhvc3QgaXMgYSBjb250YWluZXIsIHdlIGRvbid0IG5lZWQgdG8gY3JlYXRlIGEgbmV3IExDb250YWluZXJcbiAgICAgICAgbENvbnRhaW5lciA9IHNsb3RWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBjb21tZW50Tm9kZTtcbiAgICAgICAgLy8gSWYgdGhlIGhvc3QgaXMgYW4gZWxlbWVudCBjb250YWluZXIsIHRoZSBuYXRpdmUgaG9zdCBlbGVtZW50IGlzIGd1YXJhbnRlZWQgdG8gYmUgYVxuICAgICAgICAvLyBjb21tZW50IGFuZCB3ZSBjYW4gcmV1c2UgdGhhdCBjb21tZW50IGFzIGFuY2hvciBlbGVtZW50IGZvciB0aGUgbmV3IExDb250YWluZXIuXG4gICAgICAgIC8vIFRoZSBjb21tZW50IG5vZGUgaW4gcXVlc3Rpb24gaXMgYWxyZWFkeSBwYXJ0IG9mIHRoZSBET00gc3RydWN0dXJlIHNvIHdlIGRvbid0IG5lZWQgdG8gYXBwZW5kXG4gICAgICAgIC8vIGl0IGFnYWluLlxuICAgICAgICBpZiAoaG9zdFROb2RlLnR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIGNvbW1lbnROb2RlID0gdW53cmFwUk5vZGUoc2xvdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBob3N0IGlzIGEgcmVndWxhciBlbGVtZW50LCB3ZSBoYXZlIHRvIGluc2VydCBhIGNvbW1lbnQgbm9kZSBtYW51YWxseSB3aGljaCB3aWxsXG4gICAgICAgICAgICAvLyBiZSB1c2VkIGFzIGFuIGFuY2hvciB3aGVuIGluc2VydGluZyBlbGVtZW50cy4gSW4gdGhpcyBzcGVjaWZpYyBjYXNlIHdlIHVzZSBsb3ctbGV2ZWwgRE9NXG4gICAgICAgICAgICAvLyBtYW5pcHVsYXRpb24gdG8gaW5zZXJ0IGl0LlxuICAgICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBob3N0TFZpZXdbUkVOREVSRVJdO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICAgICAgICAgIGNvbW1lbnROb2RlID0gcmVuZGVyZXIuY3JlYXRlQ29tbWVudChuZ0Rldk1vZGUgPyAnY29udGFpbmVyJyA6ICcnKTtcbiAgICAgICAgICAgIGNvbnN0IGhvc3ROYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKGhvc3RUTm9kZSwgaG9zdExWaWV3KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE9mSG9zdE5hdGl2ZSA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIGhvc3ROYXRpdmUpO1xuICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRPZkhvc3ROYXRpdmUsIGNvbW1lbnROb2RlLCBuYXRpdmVOZXh0U2libGluZyhyZW5kZXJlciwgaG9zdE5hdGl2ZSksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0TFZpZXdbaG9zdFROb2RlLmluZGV4XSA9IGxDb250YWluZXIgPVxuICAgICAgICAgICAgY3JlYXRlTENvbnRhaW5lcihzbG90VmFsdWUsIGhvc3RMVmlldywgY29tbWVudE5vZGUsIGhvc3RUTm9kZSk7XG4gICAgICAgIGFkZFRvVmlld1RyZWUoaG9zdExWaWV3LCBsQ29udGFpbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSM1ZpZXdDb250YWluZXJSZWYobENvbnRhaW5lciwgaG9zdFROb2RlLCBob3N0TFZpZXcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDEgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCB1bnVzZWRWYWx1ZVRvUGxhY2F0ZUFqZCA9IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDEgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ1ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNCArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkO1xuY2xhc3MgTFF1ZXJ5XyB7XG4gICAgY29uc3RydWN0b3IocXVlcnlMaXN0KSB7XG4gICAgICAgIHRoaXMucXVlcnlMaXN0ID0gcXVlcnlMaXN0O1xuICAgICAgICB0aGlzLm1hdGNoZXMgPSBudWxsO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMUXVlcnlfKHRoaXMucXVlcnlMaXN0KTtcbiAgICB9XG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMucXVlcnlMaXN0LnNldERpcnR5KCk7XG4gICAgfVxufVxuY2xhc3MgTFF1ZXJpZXNfIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyaWVzID0gW10pIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gcXVlcmllcztcbiAgICB9XG4gICAgY3JlYXRlRW1iZWRkZWRWaWV3KHRWaWV3KSB7XG4gICAgICAgIGNvbnN0IHRRdWVyaWVzID0gdFZpZXcucXVlcmllcztcbiAgICAgICAgaWYgKHRRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBub09mSW5oZXJpdGVkUXVlcmllcyA9IHRWaWV3LmNvbnRlbnRRdWVyaWVzICE9PSBudWxsID8gdFZpZXcuY29udGVudFF1ZXJpZXNbMF0gOiB0UXVlcmllcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB2aWV3TFF1ZXJpZXMgPSBbXTtcbiAgICAgICAgICAgIC8vIEFuIGVtYmVkZGVkIHZpZXcgaGFzIHF1ZXJpZXMgcHJvcGFnYXRlZCBmcm9tIGEgZGVjbGFyYXRpb24gdmlldyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZVxuICAgICAgICAgICAgLy8gVFF1ZXJpZXMgY29sbGVjdGlvbiBhbmQgdXAgdW50aWwgYSBmaXJzdCBjb250ZW50IHF1ZXJ5IGRlY2xhcmVkIGluIHRoZSBlbWJlZGRlZCB2aWV3LiBPbmx5XG4gICAgICAgICAgICAvLyBwcm9wYWdhdGVkIExRdWVyaWVzIGFyZSBjcmVhdGVkIGF0IHRoaXMgcG9pbnQgKExRdWVyeSBjb3JyZXNwb25kaW5nIHRvIGRlY2xhcmVkIGNvbnRlbnRcbiAgICAgICAgICAgIC8vIHF1ZXJpZXMgd2lsbCBiZSBpbnN0YW50aWF0ZWQgZnJvbSB0aGUgY29udGVudCBxdWVyeSBpbnN0cnVjdGlvbnMgZm9yIGVhY2ggZGlyZWN0aXZlKS5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9PZkluaGVyaXRlZFF1ZXJpZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRRdWVyeSA9IHRRdWVyaWVzLmdldEJ5SW5kZXgoaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50TFF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3RRdWVyeS5pbmRleEluRGVjbGFyYXRpb25WaWV3XTtcbiAgICAgICAgICAgICAgICB2aWV3TFF1ZXJpZXMucHVzaChwYXJlbnRMUXVlcnkuY2xvbmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IExRdWVyaWVzXyh2aWV3TFF1ZXJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpbnNlcnRWaWV3KHRWaWV3KSB7XG4gICAgICAgIHRoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModFZpZXcpO1xuICAgIH1cbiAgICBkZXRhY2hWaWV3KHRWaWV3KSB7XG4gICAgICAgIHRoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModFZpZXcpO1xuICAgIH1cbiAgICBkaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0Vmlldykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGdldFRRdWVyeSh0VmlldywgaSkubWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVlcmllc1tpXS5zZXREaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgVFF1ZXJ5TWV0YWRhdGFfIHtcbiAgICBjb25zdHJ1Y3RvcihwcmVkaWNhdGUsIGZsYWdzLCByZWFkID0gbnVsbCkge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgICAgICB0aGlzLnJlYWQgPSByZWFkO1xuICAgIH1cbn1cbmNsYXNzIFRRdWVyaWVzXyB7XG4gICAgY29uc3RydWN0b3IocXVlcmllcyA9IFtdKSB7XG4gICAgICAgIHRoaXMucXVlcmllcyA9IHF1ZXJpZXM7XG4gICAgfVxuICAgIGVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsICdRdWVyaWVzIHNob3VsZCBjb2xsZWN0IHJlc3VsdHMgb24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3Mgb25seScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLmVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRFbmQodE5vZGUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVlcmllc1tpXS5lbGVtZW50RW5kKHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbWJlZGRlZFRWaWV3KHROb2RlKSB7XG4gICAgICAgIGxldCBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkUXVlcnlJbmRleCA9IHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiAhPT0gbnVsbCA/IHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZi5sZW5ndGggOiAwO1xuICAgICAgICAgICAgY29uc3QgdHF1ZXJ5Q2xvbmUgPSB0aGlzLmdldEJ5SW5kZXgoaSkuZW1iZWRkZWRUVmlldyh0Tm9kZSwgY2hpbGRRdWVyeUluZGV4KTtcbiAgICAgICAgICAgIGlmICh0cXVlcnlDbG9uZSkge1xuICAgICAgICAgICAgICAgIHRxdWVyeUNsb25lLmluZGV4SW5EZWNsYXJhdGlvblZpZXcgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChxdWVyaWVzRm9yVGVtcGxhdGVSZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcmllc0ZvclRlbXBsYXRlUmVmLnB1c2godHF1ZXJ5Q2xvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcmllc0ZvclRlbXBsYXRlUmVmID0gW3RxdWVyeUNsb25lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiAhPT0gbnVsbCA/IG5ldyBUUXVlcmllc18ocXVlcmllc0ZvclRlbXBsYXRlUmVmKSA6IG51bGw7XG4gICAgfVxuICAgIHRlbXBsYXRlKHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgJ1F1ZXJpZXMgc2hvdWxkIGNvbGxlY3QgcmVzdWx0cyBvbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcyBvbmx5Jyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0udGVtcGxhdGUodFZpZXcsIHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRCeUluZGV4KGluZGV4KSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UodGhpcy5xdWVyaWVzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJpZXNbaW5kZXhdO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyaWVzLmxlbmd0aDtcbiAgICB9XG4gICAgdHJhY2sodHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMucXVlcmllcy5wdXNoKHRxdWVyeSk7XG4gICAgfVxufVxuY2xhc3MgVFF1ZXJ5XyB7XG4gICAgY29uc3RydWN0b3IobWV0YWRhdGEsIG5vZGVJbmRleCA9IC0xKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5tYXRjaGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEluRGVjbGFyYXRpb25WaWV3ID0gLTE7XG4gICAgICAgIHRoaXMuY3Jvc3Nlc05nVGVtcGxhdGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyBpbmRpY2F0aW5nIGlmIGEgZ2l2ZW4gcXVlcnkgc3RpbGwgYXBwbGllcyB0byBub2RlcyBpdCBpcyBjcm9zc2luZy4gV2UgdXNlIHRoaXMgZmxhZ1xuICAgICAgICAgKiAoYWxvbmdzaWRlIHdpdGggX2RlY2xhcmF0aW9uTm9kZUluZGV4KSB0byBrbm93IHdoZW4gdG8gc3RvcCBhcHBseWluZyBjb250ZW50IHF1ZXJpZXMgdG9cbiAgICAgICAgICogZWxlbWVudHMgaW4gYSB0ZW1wbGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FwcGxpZXNUb05leHROb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXggPSBub2RlSW5kZXg7XG4gICAgfVxuICAgIGVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBcHBseWluZ1RvTm9kZSh0Tm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZSh0VmlldywgdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRFbmQodE5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4ID09PSB0Tm9kZS5pbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fYXBwbGllc1RvTmV4dE5vZGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0ZW1wbGF0ZSh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgZW1iZWRkZWRUVmlldyh0Tm9kZSwgY2hpbGRRdWVyeUluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQXBwbHlpbmdUb05vZGUodE5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIEEgbWFya2VyIGluZGljYXRpbmcgYSBgPG5nLXRlbXBsYXRlPmAgZWxlbWVudCAoYSBwbGFjZWhvbGRlciBmb3IgcXVlcnkgcmVzdWx0cyBmcm9tXG4gICAgICAgICAgICAvLyBlbWJlZGRlZCB2aWV3cyBjcmVhdGVkIGJhc2VkIG9uIHRoaXMgYDxuZy10ZW1wbGF0ZT5gKS5cbiAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2goLXROb2RlLmluZGV4LCBjaGlsZFF1ZXJ5SW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUUXVlcnlfKHRoaXMubWV0YWRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpc0FwcGx5aW5nVG9Ob2RlKHROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZSAmJlxuICAgICAgICAgICAgKHRoaXMubWV0YWRhdGEuZmxhZ3MgJiAxIC8qIGRlc2NlbmRhbnRzICovKSAhPT0gMSAvKiBkZXNjZW5kYW50cyAqLykge1xuICAgICAgICAgICAgY29uc3QgZGVjbGFyYXRpb25Ob2RlSWR4ID0gdGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXg7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdE5vZGUucGFyZW50O1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgZ2l2ZW4gVE5vZGUgaXMgYSBcImRpcmVjdFwiIGNoaWxkIG9mIGEgbm9kZSBvbiB3aGljaCBhIGNvbnRlbnQgcXVlcnkgd2FzXG4gICAgICAgICAgICAvLyBkZWNsYXJlZCAob25seSBkaXJlY3QgY2hpbGRyZW4gb2YgcXVlcnkncyBob3N0IG5vZGUgY2FuIG1hdGNoIHdpdGggdGhlIGRlc2NlbmRhbnRzOiBmYWxzZVxuICAgICAgICAgICAgLy8gb3B0aW9uKS4gVGhlcmUgYXJlIDMgbWFpbiB1c2UtY2FzZSAvIGNvbmRpdGlvbnMgdG8gY29uc2lkZXIgaGVyZTpcbiAgICAgICAgICAgIC8vIC0gPG5lZWRzLXRhcmdldD48aSAjdGFyZ2V0PjwvaT48L25lZWRzLXRhcmdldD46IGhlcmUgPGkgI3RhcmdldD4gcGFyZW50IG5vZGUgaXMgYSBxdWVyeVxuICAgICAgICAgICAgLy8gaG9zdCBub2RlO1xuICAgICAgICAgICAgLy8gLSA8bmVlZHMtdGFyZ2V0PjxuZy10ZW1wbGF0ZSBbbmdJZl09XCJ0cnVlXCI+PGkgI3RhcmdldD48L2k+PC9uZy10ZW1wbGF0ZT48L25lZWRzLXRhcmdldD46XG4gICAgICAgICAgICAvLyBoZXJlIDxpICN0YXJnZXQ+IHBhcmVudCBub2RlIGlzIG51bGw7XG4gICAgICAgICAgICAvLyAtIDxuZWVkcy10YXJnZXQ+PG5nLWNvbnRhaW5lcj48aSAjdGFyZ2V0PjwvaT48L25nLWNvbnRhaW5lcj48L25lZWRzLXRhcmdldD46IGhlcmUgd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gZ28gcGFzdCBgPG5nLWNvbnRhaW5lcj5gIHRvIGRldGVybWluZSA8aSAjdGFyZ2V0PiBwYXJlbnQgbm9kZSAoYnV0IHdlIHNob3VsZG4ndCB0cmF2ZXJzZVxuICAgICAgICAgICAgLy8gdXAgcGFzdCB0aGUgcXVlcnkncyBob3N0IG5vZGUhKS5cbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiYgKHBhcmVudC50eXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSAmJlxuICAgICAgICAgICAgICAgIHBhcmVudC5pbmRleCAhPT0gZGVjbGFyYXRpb25Ob2RlSWR4KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWNsYXJhdGlvbk5vZGVJZHggPT09IChwYXJlbnQgIT09IG51bGwgPyBwYXJlbnQuaW5kZXggOiAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGxpZXNUb05leHROb2RlO1xuICAgIH1cbiAgICBtYXRjaFROb2RlKHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSB0aGlzLm1ldGFkYXRhLnByZWRpY2F0ZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJlZGljYXRlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVkaWNhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gcHJlZGljYXRlW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgZ2V0SWR4T2ZNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBuYW1lKSk7XG4gICAgICAgICAgICAgICAgLy8gQWxzbyB0cnkgbWF0Y2hpbmcgdGhlIG5hbWUgdG8gYSBwcm92aWRlciBzaW5jZSBzdHJpbmdzIGNhbiBiZSB1c2VkIGFzIERJIHRva2VucyB0b28uXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odFZpZXcsIHROb2RlLCBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCB0VmlldywgbmFtZSwgZmFsc2UsIGZhbHNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlID09PSBUZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgICAgIGlmICh0Tm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odFZpZXcsIHROb2RlLCAtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odFZpZXcsIHROb2RlLCBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCB0VmlldywgcHJlZGljYXRlLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odFZpZXcsIHROb2RlLCBub2RlTWF0Y2hJZHgpIHtcbiAgICAgICAgaWYgKG5vZGVNYXRjaElkeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVhZCA9IHRoaXMubWV0YWRhdGEucmVhZDtcbiAgICAgICAgICAgIGlmIChyZWFkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWQgPT09IEVsZW1lbnRSZWYgfHwgcmVhZCA9PT0gVmlld0NvbnRhaW5lclJlZiB8fFxuICAgICAgICAgICAgICAgICAgICByZWFkID09PSBUZW1wbGF0ZVJlZiAmJiAodE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE1hdGNoKHROb2RlLmluZGV4LCAtMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVPclByb3ZpZGVySWR4ID0gbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIHJlYWQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3RpdmVPclByb3ZpZGVySWR4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE1hdGNoKHROb2RlLmluZGV4LCBkaXJlY3RpdmVPclByb3ZpZGVySWR4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2godE5vZGUuaW5kZXgsIG5vZGVNYXRjaElkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkTWF0Y2godE5vZGVJZHgsIG1hdGNoSWR4KSB7XG4gICAgICAgIGlmICh0aGlzLm1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IFt0Tm9kZUlkeCwgbWF0Y2hJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVzLnB1c2godE5vZGVJZHgsIG1hdGNoSWR4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogSXRlcmF0ZXMgb3ZlciBsb2NhbCBuYW1lcyBmb3IgYSBnaXZlbiBub2RlIGFuZCByZXR1cm5zIGRpcmVjdGl2ZSBpbmRleFxuICogKG9yIC0xIGlmIGEgbG9jYWwgbmFtZSBwb2ludHMgdG8gYW4gZWxlbWVudCkuXG4gKlxuICogQHBhcmFtIHROb2RlIHN0YXRpYyBkYXRhIG9mIGEgbm9kZSB0byBjaGVja1xuICogQHBhcmFtIHNlbGVjdG9yIHNlbGVjdG9yIHRvIG1hdGNoXG4gKiBAcmV0dXJucyBkaXJlY3RpdmUgaW5kZXgsIC0xIG9yIG51bGwgaWYgYSBzZWxlY3RvciBkaWRuJ3QgbWF0Y2ggYW55IG9mIHRoZSBsb2NhbCBuYW1lc1xuICovXG5mdW5jdGlvbiBnZXRJZHhPZk1hdGNoaW5nU2VsZWN0b3IodE5vZGUsIHNlbGVjdG9yKSB7XG4gICAgY29uc3QgbG9jYWxOYW1lcyA9IHROb2RlLmxvY2FsTmFtZXM7XG4gICAgaWYgKGxvY2FsTmFtZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbE5hbWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxOYW1lc1tpXSA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxOYW1lc1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXN1bHRCeVROb2RlVHlwZSh0Tm9kZSwgY3VycmVudFZpZXcpIHtcbiAgICBpZiAodE5vZGUudHlwZSAmICgzIC8qIEFueVJOb2RlICovIHwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZih0Tm9kZSwgY3VycmVudFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKHROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVzdWx0Rm9yTm9kZShsVmlldywgdE5vZGUsIG1hdGNoaW5nSWR4LCByZWFkKSB7XG4gICAgaWYgKG1hdGNoaW5nSWR4ID09PSAtMSkge1xuICAgICAgICAvLyBpZiByZWFkIHRva2VuIGFuZCAvIG9yIHN0cmF0ZWd5IGlzIG5vdCBzcGVjaWZpZWQsIGRldGVjdCBpdCB1c2luZyBhcHByb3ByaWF0ZSB0Tm9kZSB0eXBlXG4gICAgICAgIHJldHVybiBjcmVhdGVSZXN1bHRCeVROb2RlVHlwZSh0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXRjaGluZ0lkeCA9PT0gLTIpIHtcbiAgICAgICAgLy8gcmVhZCBhIHNwZWNpYWwgdG9rZW4gZnJvbSBhIG5vZGUgaW5qZWN0b3JcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNwZWNpYWxUb2tlbihsVmlldywgdE5vZGUsIHJlYWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVhZCBhIHRva2VuXG4gICAgICAgIHJldHVybiBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgbFZpZXdbVFZJRVddLCBtYXRjaGluZ0lkeCwgdE5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVNwZWNpYWxUb2tlbihsVmlldywgdE5vZGUsIHJlYWQpIHtcbiAgICBpZiAocmVhZCA9PT0gRWxlbWVudFJlZikge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZih0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWFkID09PSBUZW1wbGF0ZVJlZikge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVhZCA9PT0gVmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbnRhaW5lclJlZih0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICB0aHJvd0Vycm9yKGBTcGVjaWFsIHRva2VuIHRvIHJlYWQgc2hvdWxkIGJlIG9uZSBvZiBFbGVtZW50UmVmLCBUZW1wbGF0ZVJlZiBvciBWaWV3Q29udGFpbmVyUmVmIGJ1dCBnb3QgJHtzdHJpbmdpZnkocmVhZCl9LmApO1xuICAgIH1cbn1cbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHF1ZXJ5IHJlc3VsdHMgZm9yIGEgZ2l2ZW4gdmlldy4gVGhpcyBmdW5jdGlvbiBpcyBtZWFudCB0byBkbyB0aGVcbiAqIHByb2Nlc3Npbmcgb25jZSBhbmQgb25seSBvbmNlIGZvciBhIGdpdmVuIHZpZXcgaW5zdGFuY2UgKGEgc2V0IG9mIHJlc3VsdHMgZm9yIGEgZ2l2ZW4gdmlld1xuICogZG9lc24ndCBjaGFuZ2UpLlxuICovXG5mdW5jdGlvbiBtYXRlcmlhbGl6ZVZpZXdSZXN1bHRzKHRWaWV3LCBsVmlldywgdFF1ZXJ5LCBxdWVyeUluZGV4KSB7XG4gICAgY29uc3QgbFF1ZXJ5ID0gbFZpZXdbUVVFUklFU10ucXVlcmllc1txdWVyeUluZGV4XTtcbiAgICBpZiAobFF1ZXJ5Lm1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdFZpZXdEYXRhID0gdFZpZXcuZGF0YTtcbiAgICAgICAgY29uc3QgdFF1ZXJ5TWF0Y2hlcyA9IHRRdWVyeS5tYXRjaGVzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0UXVlcnlNYXRjaGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkTm9kZUlkeCA9IHRRdWVyeU1hdGNoZXNbaV07XG4gICAgICAgICAgICBpZiAobWF0Y2hlZE5vZGVJZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgYXQgdGhlIDxuZy10ZW1wbGF0ZT4gbWFya2VyIHdoaWNoIG1pZ2h0IGhhdmUgcmVzdWx0cyBpbiB2aWV3cyBjcmVhdGVkIGJhc2VkIG9uIHRoaXNcbiAgICAgICAgICAgICAgICAvLyA8bmctdGVtcGxhdGU+IC0gdGhvc2UgcmVzdWx0cyB3aWxsIGJlIGluIHNlcGFyYXRlIHZpZXdzIHRob3VnaCwgc28gaGVyZSB3ZSBqdXN0IGxlYXZlXG4gICAgICAgICAgICAgICAgLy8gbnVsbCBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHRWaWV3RGF0YSwgbWF0Y2hlZE5vZGVJZHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHROb2RlID0gdFZpZXdEYXRhW21hdGNoZWROb2RlSWR4XTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjcmVhdGVSZXN1bHRGb3JOb2RlKGxWaWV3LCB0Tm9kZSwgdFF1ZXJ5TWF0Y2hlc1tpICsgMV0sIHRRdWVyeS5tZXRhZGF0YS5yZWFkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbFF1ZXJ5Lm1hdGNoZXMgPSByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBsUXVlcnkubWF0Y2hlcztcbn1cbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gdGhhdCBjb2xsZWN0cyAoYWxyZWFkeSBtYXRlcmlhbGl6ZWQpIHF1ZXJ5IHJlc3VsdHMgZnJvbSBhIHRyZWUgb2Ygdmlld3MsXG4gKiBzdGFydGluZyB3aXRoIGEgcHJvdmlkZWQgTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RRdWVyeVJlc3VsdHModFZpZXcsIGxWaWV3LCBxdWVyeUluZGV4LCByZXN1bHQpIHtcbiAgICBjb25zdCB0UXVlcnkgPSB0Vmlldy5xdWVyaWVzLmdldEJ5SW5kZXgocXVlcnlJbmRleCk7XG4gICAgY29uc3QgdFF1ZXJ5TWF0Y2hlcyA9IHRRdWVyeS5tYXRjaGVzO1xuICAgIGlmICh0UXVlcnlNYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3UmVzdWx0cyA9IG1hdGVyaWFsaXplVmlld1Jlc3VsdHModFZpZXcsIGxWaWV3LCB0UXVlcnksIHF1ZXJ5SW5kZXgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRRdWVyeU1hdGNoZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHROb2RlSWR4ID0gdFF1ZXJ5TWF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGlmICh0Tm9kZUlkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsVmlld1Jlc3VsdHNbaSAvIDJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkUXVlcnlJbmRleCA9IHRRdWVyeU1hdGNoZXNbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IGxWaWV3Wy10Tm9kZUlkeF07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25MQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0IG1hdGNoZXMgZm9yIHZpZXdzIGluc2VydGVkIGluIHRoaXMgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgZGVjbGFyYXRpb25MQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBkZWNsYXJhdGlvbkxDb250YWluZXJbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWJlZGRlZExWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdID09PSBlbWJlZGRlZExWaWV3W1BBUkVOVF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RRdWVyeVJlc3VsdHMoZW1iZWRkZWRMVmlld1tUVklFV10sIGVtYmVkZGVkTFZpZXcsIGNoaWxkUXVlcnlJbmRleCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0IG1hdGNoZXMgZm9yIHZpZXdzIGNyZWF0ZWQgZnJvbSB0aGlzIGRlY2xhcmF0aW9uIGNvbnRhaW5lciBhbmQgaW5zZXJ0ZWQgaW50b1xuICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBjb250YWluZXJzXG4gICAgICAgICAgICAgICAgaWYgKGRlY2xhcmF0aW9uTENvbnRhaW5lcltNT1ZFRF9WSUVXU10gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlld3MgPSBkZWNsYXJhdGlvbkxDb250YWluZXJbTU9WRURfVklFV1NdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVtYmVkZGVkTFZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gZW1iZWRkZWRMVmlld3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0UXVlcnlSZXN1bHRzKGVtYmVkZGVkTFZpZXdbVFZJRVddLCBlbWJlZGRlZExWaWV3LCBjaGlsZFF1ZXJ5SW5kZXgsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogUmVmcmVzaGVzIGEgcXVlcnkgYnkgY29tYmluaW5nIG1hdGNoZXMgZnJvbSBhbGwgYWN0aXZlIHZpZXdzIGFuZCByZW1vdmluZyBtYXRjaGVzIGZyb20gZGVsZXRlZFxuICogdmlld3MuXG4gKlxuICogQHJldHVybnMgYHRydWVgIGlmIGEgcXVlcnkgZ290IGRpcnR5IGR1cmluZyBjaGFuZ2UgZGV0ZWN0aW9uIG9yIGlmIHRoaXMgaXMgYSBzdGF0aWMgcXVlcnlcbiAqIHJlc29sdmluZyBpbiBjcmVhdGlvbiBtb2RlLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cXVlcnlSZWZyZXNoKHF1ZXJ5TGlzdCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgcXVlcnlJbmRleCA9IGdldEN1cnJlbnRRdWVyeUluZGV4KCk7XG4gICAgc2V0Q3VycmVudFF1ZXJ5SW5kZXgocXVlcnlJbmRleCArIDEpO1xuICAgIGNvbnN0IHRRdWVyeSA9IGdldFRRdWVyeSh0VmlldywgcXVlcnlJbmRleCk7XG4gICAgaWYgKHF1ZXJ5TGlzdC5kaXJ0eSAmJlxuICAgICAgICAoaXNDcmVhdGlvbk1vZGUobFZpZXcpID09PVxuICAgICAgICAgICAgKCh0UXVlcnkubWV0YWRhdGEuZmxhZ3MgJiAyIC8qIGlzU3RhdGljICovKSA9PT0gMiAvKiBpc1N0YXRpYyAqLykpKSB7XG4gICAgICAgIGlmICh0UXVlcnkubWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlMaXN0LnJlc2V0KFtdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRRdWVyeS5jcm9zc2VzTmdUZW1wbGF0ZSA/XG4gICAgICAgICAgICAgICAgY29sbGVjdFF1ZXJ5UmVzdWx0cyh0VmlldywgbFZpZXcsIHF1ZXJ5SW5kZXgsIFtdKSA6XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxpemVWaWV3UmVzdWx0cyh0VmlldywgbFZpZXcsIHRRdWVyeSwgcXVlcnlJbmRleCk7XG4gICAgICAgICAgICBxdWVyeUxpc3QucmVzZXQocmVzdWx0LCB1bndyYXBFbGVtZW50UmVmKTtcbiAgICAgICAgICAgIHF1ZXJ5TGlzdC5ub3RpZnlPbkNoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBDcmVhdGVzIG5ldyBRdWVyeUxpc3QsIHN0b3JlcyB0aGUgcmVmZXJlbmNlIGluIExWaWV3IGFuZCByZXR1cm5zIFF1ZXJ5TGlzdC5cbiAqXG4gKiBAcGFyYW0gcHJlZGljYXRlIFRoZSB0eXBlIGZvciB3aGljaCB0aGUgcXVlcnkgd2lsbCBzZWFyY2hcbiAqIEBwYXJhbSBmbGFncyBGbGFncyBhc3NvY2lhdGVkIHdpdGggdGhlIHF1ZXJ5XG4gKiBAcGFyYW0gcmVhZCBXaGF0IHRvIHNhdmUgaW4gdGhlIHF1ZXJ5XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXZpZXdRdWVyeShwcmVkaWNhdGUsIGZsYWdzLCByZWFkKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihmbGFncywgJ0V4cGVjdGluZyBmbGFncycpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGNyZWF0ZVRRdWVyeSh0VmlldywgbmV3IFRRdWVyeU1ldGFkYXRhXyhwcmVkaWNhdGUsIGZsYWdzLCByZWFkKSwgLTEpO1xuICAgICAgICBpZiAoKGZsYWdzICYgMiAvKiBpc1N0YXRpYyAqLykgPT09IDIgLyogaXNTdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIHRWaWV3LnN0YXRpY1ZpZXdRdWVyaWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVMUXVlcnkodFZpZXcsIGdldExWaWV3KCksIGZsYWdzKTtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIGEgUXVlcnlMaXN0LCBhc3NvY2lhdGVkIHdpdGggYSBjb250ZW50IHF1ZXJ5LCBmb3IgbGF0ZXIgcmVmcmVzaCAocGFydCBvZiBhIHZpZXdcbiAqIHJlZnJlc2gpLlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBDdXJyZW50IGRpcmVjdGl2ZSBpbmRleFxuICogQHBhcmFtIHByZWRpY2F0ZSBUaGUgdHlwZSBmb3Igd2hpY2ggdGhlIHF1ZXJ5IHdpbGwgc2VhcmNoXG4gKiBAcGFyYW0gZmxhZ3MgRmxhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBxdWVyeVxuICogQHBhcmFtIHJlYWQgV2hhdCB0byBzYXZlIGluIHRoZSBxdWVyeVxuICogQHJldHVybnMgUXVlcnlMaXN0PFQ+XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNvbnRlbnRRdWVyeShkaXJlY3RpdmVJbmRleCwgcHJlZGljYXRlLCBmbGFncywgcmVhZCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIoZmxhZ3MsICdFeHBlY3RpbmcgZmxhZ3MnKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgICAgICBjcmVhdGVUUXVlcnkodFZpZXcsIG5ldyBUUXVlcnlNZXRhZGF0YV8ocHJlZGljYXRlLCBmbGFncywgcmVhZCksIHROb2RlLmluZGV4KTtcbiAgICAgICAgc2F2ZUNvbnRlbnRRdWVyeUFuZERpcmVjdGl2ZUluZGV4KHRWaWV3LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyIC8qIGlzU3RhdGljICovKSA9PT0gMiAvKiBpc1N0YXRpYyAqLykge1xuICAgICAgICAgICAgdFZpZXcuc3RhdGljQ29udGVudFF1ZXJpZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUxRdWVyeSh0VmlldywgZ2V0TFZpZXcoKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBMb2FkcyBhIFF1ZXJ5TGlzdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBjdXJyZW50IHZpZXcgb3IgY29udGVudCBxdWVyeS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bG9hZFF1ZXJ5KCkge1xuICAgIHJldHVybiBsb2FkUXVlcnlJbnRlcm5hbChnZXRMVmlldygpLCBnZXRDdXJyZW50UXVlcnlJbmRleCgpKTtcbn1cbmZ1bmN0aW9uIGxvYWRRdWVyeUludGVybmFsKGxWaWV3LCBxdWVyeUluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydERlZmluZWQobFZpZXdbUVVFUklFU10sICdMUXVlcmllcyBzaG91bGQgYmUgZGVmaW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIGEgcXVlcnknKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3W1FVRVJJRVNdLnF1ZXJpZXMsIHF1ZXJ5SW5kZXgpO1xuICAgIHJldHVybiBsVmlld1tRVUVSSUVTXS5xdWVyaWVzW3F1ZXJ5SW5kZXhdLnF1ZXJ5TGlzdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxRdWVyeSh0VmlldywgbFZpZXcsIGZsYWdzKSB7XG4gICAgY29uc3QgcXVlcnlMaXN0ID0gbmV3IFF1ZXJ5TGlzdCgoZmxhZ3MgJiA0IC8qIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5ICovKSA9PT0gNCAvKiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seSAqLyk7XG4gICAgc3RvcmVDbGVhbnVwV2l0aENvbnRleHQodFZpZXcsIGxWaWV3LCBxdWVyeUxpc3QsIHF1ZXJ5TGlzdC5kZXN0cm95KTtcbiAgICBpZiAobFZpZXdbUVVFUklFU10gPT09IG51bGwpXG4gICAgICAgIGxWaWV3W1FVRVJJRVNdID0gbmV3IExRdWVyaWVzXygpO1xuICAgIGxWaWV3W1FVRVJJRVNdLnF1ZXJpZXMucHVzaChuZXcgTFF1ZXJ5XyhxdWVyeUxpc3QpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRRdWVyeSh0VmlldywgbWV0YWRhdGEsIG5vZGVJbmRleCkge1xuICAgIGlmICh0Vmlldy5xdWVyaWVzID09PSBudWxsKVxuICAgICAgICB0Vmlldy5xdWVyaWVzID0gbmV3IFRRdWVyaWVzXygpO1xuICAgIHRWaWV3LnF1ZXJpZXMudHJhY2sobmV3IFRRdWVyeV8obWV0YWRhdGEsIG5vZGVJbmRleCkpO1xufVxuZnVuY3Rpb24gc2F2ZUNvbnRlbnRRdWVyeUFuZERpcmVjdGl2ZUluZGV4KHRWaWV3LCBkaXJlY3RpdmVJbmRleCkge1xuICAgIGNvbnN0IHRWaWV3Q29udGVudFF1ZXJpZXMgPSB0Vmlldy5jb250ZW50UXVlcmllcyB8fCAodFZpZXcuY29udGVudFF1ZXJpZXMgPSBbXSk7XG4gICAgY29uc3QgbGFzdFNhdmVkRGlyZWN0aXZlSW5kZXggPSB0Vmlld0NvbnRlbnRRdWVyaWVzLmxlbmd0aCA/IHRWaWV3Q29udGVudFF1ZXJpZXNbdFZpZXdDb250ZW50UXVlcmllcy5sZW5ndGggLSAxXSA6IC0xO1xuICAgIGlmIChkaXJlY3RpdmVJbmRleCAhPT0gbGFzdFNhdmVkRGlyZWN0aXZlSW5kZXgpIHtcbiAgICAgICAgdFZpZXdDb250ZW50UXVlcmllcy5wdXNoKHRWaWV3LnF1ZXJpZXMubGVuZ3RoIC0gMSwgZGlyZWN0aXZlSW5kZXgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRRdWVyeSh0VmlldywgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Vmlldy5xdWVyaWVzLCAnVFF1ZXJpZXMgbXVzdCBiZSBkZWZpbmVkIHRvIHJldHJpZXZlIGEgVFF1ZXJ5Jyk7XG4gICAgcmV0dXJuIHRWaWV3LnF1ZXJpZXMuZ2V0QnlJbmRleChpbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZXMgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZSBmcm9tIGBJbmplY3RvcmAgd2hlbiBhIGxvY2FsIHJlZmVyZW5jZSBpcyBwbGFjZWQgb24gdGhlXG4gKiBgPG5nLXRlbXBsYXRlPmAgZWxlbWVudC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGVtcGxhdGVSZWZFeHRyYWN0b3IodE5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKHROb2RlLCBsVmlldyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBtYXBwaW5nIG9mIHRoZSBAYW5ndWxhci9jb3JlIEFQSSBzdXJmYWNlIHVzZWQgaW4gZ2VuZXJhdGVkIGV4cHJlc3Npb25zIHRvIHRoZSBhY3R1YWwgc3ltYm9scy5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSBrZXB0IHVwIHRvIGRhdGUgd2l0aCB0aGUgcHVibGljIGV4cG9ydHMgb2YgQGFuZ3VsYXIvY29yZS5cbiAqL1xuY29uc3QgYW5ndWxhckNvcmVFbnYgPSAoKCkgPT4gKHtcbiAgICAnybXJtWF0dHJpYnV0ZSc6IMm1ybVhdHRyaWJ1dGUsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMixcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU0LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNSxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNic6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU3LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU4JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOCxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVic6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVkZWZpbmVDb21wb25lbnQnOiDJtcm1ZGVmaW5lQ29tcG9uZW50LFxuICAgICfJtcm1ZGVmaW5lRGlyZWN0aXZlJzogybXJtWRlZmluZURpcmVjdGl2ZSxcbiAgICAnybXJtWRlZmluZUluamVjdGFibGUnOiDJtcm1ZGVmaW5lSW5qZWN0YWJsZSxcbiAgICAnybXJtWRlZmluZUluamVjdG9yJzogybXJtWRlZmluZUluamVjdG9yLFxuICAgICfJtcm1ZGVmaW5lTmdNb2R1bGUnOiDJtcm1ZGVmaW5lTmdNb2R1bGUsXG4gICAgJ8m1ybVkZWZpbmVQaXBlJzogybXJtWRlZmluZVBpcGUsXG4gICAgJ8m1ybVkaXJlY3RpdmVJbmplY3QnOiDJtcm1ZGlyZWN0aXZlSW5qZWN0LFxuICAgICfJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSc6IMm1ybVnZXRJbmhlcml0ZWRGYWN0b3J5LFxuICAgICfJtcm1aW5qZWN0JzogybXJtWluamVjdCxcbiAgICAnybXJtWluamVjdEF0dHJpYnV0ZSc6IMm1ybVpbmplY3RBdHRyaWJ1dGUsXG4gICAgJ8m1ybVpbnZhbGlkRmFjdG9yeSc6IMm1ybVpbnZhbGlkRmFjdG9yeSxcbiAgICAnybXJtWludmFsaWRGYWN0b3J5RGVwJzogybXJtWludmFsaWRGYWN0b3J5RGVwLFxuICAgICfJtcm1dGVtcGxhdGVSZWZFeHRyYWN0b3InOiDJtcm1dGVtcGxhdGVSZWZFeHRyYWN0b3IsXG4gICAgJ8m1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUnOiDJtcm1TmdPbkNoYW5nZXNGZWF0dXJlLFxuICAgICfJtcm1UHJvdmlkZXJzRmVhdHVyZSc6IMm1ybVQcm92aWRlcnNGZWF0dXJlLFxuICAgICfJtcm1Q29weURlZmluaXRpb25GZWF0dXJlJzogybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZSxcbiAgICAnybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSc6IMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUsXG4gICAgJ8m1ybVuZXh0Q29udGV4dCc6IMm1ybVuZXh0Q29udGV4dCxcbiAgICAnybXJtW5hbWVzcGFjZUhUTUwnOiDJtcm1bmFtZXNwYWNlSFRNTCxcbiAgICAnybXJtW5hbWVzcGFjZU1hdGhNTCc6IMm1ybVuYW1lc3BhY2VNYXRoTUwsXG4gICAgJ8m1ybVuYW1lc3BhY2VTVkcnOiDJtcm1bmFtZXNwYWNlU1ZHLFxuICAgICfJtcm1ZW5hYmxlQmluZGluZ3MnOiDJtcm1ZW5hYmxlQmluZGluZ3MsXG4gICAgJ8m1ybVkaXNhYmxlQmluZGluZ3MnOiDJtcm1ZGlzYWJsZUJpbmRpbmdzLFxuICAgICfJtcm1ZWxlbWVudFN0YXJ0JzogybXJtWVsZW1lbnRTdGFydCxcbiAgICAnybXJtWVsZW1lbnRFbmQnOiDJtcm1ZWxlbWVudEVuZCxcbiAgICAnybXJtWVsZW1lbnQnOiDJtcm1ZWxlbWVudCxcbiAgICAnybXJtWVsZW1lbnRDb250YWluZXJTdGFydCc6IMm1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQsXG4gICAgJ8m1ybVlbGVtZW50Q29udGFpbmVyRW5kJzogybXJtWVsZW1lbnRDb250YWluZXJFbmQsXG4gICAgJ8m1ybVlbGVtZW50Q29udGFpbmVyJzogybXJtWVsZW1lbnRDb250YWluZXIsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb24wJzogybXJtXB1cmVGdW5jdGlvbjAsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb24xJzogybXJtXB1cmVGdW5jdGlvbjEsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb24yJzogybXJtXB1cmVGdW5jdGlvbjIsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb24zJzogybXJtXB1cmVGdW5jdGlvbjMsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb240JzogybXJtXB1cmVGdW5jdGlvbjQsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb241JzogybXJtXB1cmVGdW5jdGlvbjUsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb242JzogybXJtXB1cmVGdW5jdGlvbjYsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb243JzogybXJtXB1cmVGdW5jdGlvbjcsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb244JzogybXJtXB1cmVGdW5jdGlvbjgsXG4gICAgJ8m1ybVwdXJlRnVuY3Rpb25WJzogybXJtXB1cmVGdW5jdGlvblYsXG4gICAgJ8m1ybVnZXRDdXJyZW50Vmlldyc6IMm1ybVnZXRDdXJyZW50VmlldyxcbiAgICAnybXJtXJlc3RvcmVWaWV3JzogybXJtXJlc3RvcmVWaWV3LFxuICAgICfJtcm1bGlzdGVuZXInOiDJtcm1bGlzdGVuZXIsXG4gICAgJ8m1ybVwcm9qZWN0aW9uJzogybXJtXByb2plY3Rpb24sXG4gICAgJ8m1ybVzeW50aGV0aWNIb3N0UHJvcGVydHknOiDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5LFxuICAgICfJtcm1c3ludGhldGljSG9zdExpc3RlbmVyJzogybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcixcbiAgICAnybXJtXBpcGVCaW5kMSc6IMm1ybVwaXBlQmluZDEsXG4gICAgJ8m1ybVwaXBlQmluZDInOiDJtcm1cGlwZUJpbmQyLFxuICAgICfJtcm1cGlwZUJpbmQzJzogybXJtXBpcGVCaW5kMyxcbiAgICAnybXJtXBpcGVCaW5kNCc6IMm1ybVwaXBlQmluZDQsXG4gICAgJ8m1ybVwaXBlQmluZFYnOiDJtcm1cGlwZUJpbmRWLFxuICAgICfJtcm1cHJvamVjdGlvbkRlZic6IMm1ybVwcm9qZWN0aW9uRGVmLFxuICAgICfJtcm1aG9zdFByb3BlcnR5JzogybXJtWhvc3RQcm9wZXJ0eSxcbiAgICAnybXJtXByb3BlcnR5JzogybXJtXByb3BlcnR5LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZSc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlLFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlMic6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMixcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUzJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUzLFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTQnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNSc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU2JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU2LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTcnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlOCc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlOCxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWLFxuICAgICfJtcm1cGlwZSc6IMm1ybVwaXBlLFxuICAgICfJtcm1cXVlcnlSZWZyZXNoJzogybXJtXF1ZXJ5UmVmcmVzaCxcbiAgICAnybXJtXZpZXdRdWVyeSc6IMm1ybV2aWV3UXVlcnksXG4gICAgJ8m1ybVsb2FkUXVlcnknOiDJtcm1bG9hZFF1ZXJ5LFxuICAgICfJtcm1Y29udGVudFF1ZXJ5JzogybXJtWNvbnRlbnRRdWVyeSxcbiAgICAnybXJtXJlZmVyZW5jZSc6IMm1ybVyZWZlcmVuY2UsXG4gICAgJ8m1ybVjbGFzc01hcCc6IMm1ybVjbGFzc01hcCxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTInOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlMyc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlMyxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNic6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNixcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlVic6IMm1ybVjbGFzc01hcEludGVycG9sYXRlVixcbiAgICAnybXJtXN0eWxlTWFwJzogybXJtXN0eWxlTWFwLFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTEnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlMic6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlMixcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzJzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTQnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNSc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNSxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlOCc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlOCxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWJzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1c3R5bGVQcm9wJzogybXJtXN0eWxlUHJvcCxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTInOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzJzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMyxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNixcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlNyc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWJzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlVixcbiAgICAnybXJtWNsYXNzUHJvcCc6IMm1ybVjbGFzc1Byb3AsXG4gICAgJ8m1ybVhZHZhbmNlJzogybXJtWFkdmFuY2UsXG4gICAgJ8m1ybV0ZW1wbGF0ZSc6IMm1ybV0ZW1wbGF0ZSxcbiAgICAnybXJtXRleHQnOiDJtcm1dGV4dCxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZSc6IMm1ybV0ZXh0SW50ZXJwb2xhdGUsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGUxJzogybXJtXRleHRJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGUyJzogybXJtXRleHRJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGUzJzogybXJtXRleHRJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGU0JzogybXJtXRleHRJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGU1JzogybXJtXRleHRJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGU2JzogybXJtXRleHRJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGU3JzogybXJtXRleHRJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGU4JzogybXJtXRleHRJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGVWJzogybXJtXRleHRJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVpMThuJzogybXJtWkxOG4sXG4gICAgJ8m1ybVpMThuQXR0cmlidXRlcyc6IMm1ybVpMThuQXR0cmlidXRlcyxcbiAgICAnybXJtWkxOG5FeHAnOiDJtcm1aTE4bkV4cCxcbiAgICAnybXJtWkxOG5TdGFydCc6IMm1ybVpMThuU3RhcnQsXG4gICAgJ8m1ybVpMThuRW5kJzogybXJtWkxOG5FbmQsXG4gICAgJ8m1ybVpMThuQXBwbHknOiDJtcm1aTE4bkFwcGx5LFxuICAgICfJtcm1aTE4blBvc3Rwcm9jZXNzJzogybXJtWkxOG5Qb3N0cHJvY2VzcyxcbiAgICAnybXJtXJlc29sdmVXaW5kb3cnOiDJtcm1cmVzb2x2ZVdpbmRvdyxcbiAgICAnybXJtXJlc29sdmVEb2N1bWVudCc6IMm1ybVyZXNvbHZlRG9jdW1lbnQsXG4gICAgJ8m1ybVyZXNvbHZlQm9keSc6IMm1ybVyZXNvbHZlQm9keSxcbiAgICAnybXJtXNldENvbXBvbmVudFNjb3BlJzogybXJtXNldENvbXBvbmVudFNjb3BlLFxuICAgICfJtcm1c2V0TmdNb2R1bGVTY29wZSc6IMm1ybVzZXROZ01vZHVsZVNjb3BlLFxuICAgICfJtcm1c2FuaXRpemVIdG1sJzogybXJtXNhbml0aXplSHRtbCxcbiAgICAnybXJtXNhbml0aXplU3R5bGUnOiDJtcm1c2FuaXRpemVTdHlsZSxcbiAgICAnybXJtXNhbml0aXplUmVzb3VyY2VVcmwnOiDJtcm1c2FuaXRpemVSZXNvdXJjZVVybCxcbiAgICAnybXJtXNhbml0aXplU2NyaXB0JzogybXJtXNhbml0aXplU2NyaXB0LFxuICAgICfJtcm1c2FuaXRpemVVcmwnOiDJtcm1c2FuaXRpemVVcmwsXG4gICAgJ8m1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwnOiDJtcm1c2FuaXRpemVVcmxPclJlc291cmNlVXJsLFxuICAgICfJtcm1dHJ1c3RDb25zdGFudEh0bWwnOiDJtcm1dHJ1c3RDb25zdGFudEh0bWwsXG4gICAgJ8m1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwnOiDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsLFxuICAgICdmb3J3YXJkUmVmJzogZm9yd2FyZFJlZixcbiAgICAncmVzb2x2ZUZvcndhcmRSZWYnOiByZXNvbHZlRm9yd2FyZFJlZixcbn0pKSgpO1xuXG5sZXQgaml0T3B0aW9ucyA9IG51bGw7XG5mdW5jdGlvbiBzZXRKaXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBpZiAoaml0T3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0RW5jYXBzdWxhdGlvbiAhPT0gaml0T3B0aW9ucy5kZWZhdWx0RW5jYXBzdWxhdGlvbikge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUHJvdmlkZWQgdmFsdWUgZm9yIGBkZWZhdWx0RW5jYXBzdWxhdGlvbmAgY2FuIG5vdCBiZSBjaGFuZ2VkIG9uY2UgaXQgaGFzIGJlZW4gc2V0LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZXMgIT09IGppdE9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUHJvdmlkZWQgdmFsdWUgZm9yIGBwcmVzZXJ2ZVdoaXRlc3BhY2VzYCBjYW4gbm90IGJlIGNoYW5nZWQgb25jZSBpdCBoYXMgYmVlbiBzZXQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaml0T3B0aW9ucyA9IG9wdGlvbnM7XG59XG5mdW5jdGlvbiBnZXRKaXRPcHRpb25zKCkge1xuICAgIHJldHVybiBqaXRPcHRpb25zO1xufVxuZnVuY3Rpb24gcmVzZXRKaXRPcHRpb25zKCkge1xuICAgIGppdE9wdGlvbnMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IG1vZHVsZVF1ZXVlID0gW107XG4vKipcbiAqIEVucXVldWVzIG1vZHVsZURlZiB0byBiZSBjaGVja2VkIGxhdGVyIHRvIHNlZSBpZiBzY29wZSBjYW4gYmUgc2V0IG9uIGl0c1xuICogY29tcG9uZW50IGRlY2xhcmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZW5xdWV1ZU1vZHVsZUZvckRlbGF5ZWRTY29waW5nKG1vZHVsZVR5cGUsIG5nTW9kdWxlKSB7XG4gICAgbW9kdWxlUXVldWUucHVzaCh7IG1vZHVsZVR5cGUsIG5nTW9kdWxlIH0pO1xufVxubGV0IGZsdXNoaW5nTW9kdWxlUXVldWUgPSBmYWxzZTtcbi8qKlxuICogTG9vcHMgb3ZlciBxdWV1ZWQgbW9kdWxlIGRlZmluaXRpb25zLCBpZiBhIGdpdmVuIG1vZHVsZSBkZWZpbml0aW9uIGhhcyBhbGwgb2YgaXRzXG4gKiBkZWNsYXJhdGlvbnMgcmVzb2x2ZWQsIGl0IGRlcXVldWVzIHRoYXQgbW9kdWxlIGRlZmluaXRpb24gYW5kIHNldHMgdGhlIHNjb3BlIG9uXG4gKiBpdHMgZGVjbGFyYXRpb25zLlxuICovXG5mdW5jdGlvbiBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUoKSB7XG4gICAgaWYgKCFmbHVzaGluZ01vZHVsZVF1ZXVlKSB7XG4gICAgICAgIGZsdXNoaW5nTW9kdWxlUXVldWUgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG1vZHVsZVF1ZXVlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVUeXBlLCBuZ01vZHVsZSB9ID0gbW9kdWxlUXVldWVbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5nTW9kdWxlLmRlY2xhcmF0aW9ucyAmJiBuZ01vZHVsZS5kZWNsYXJhdGlvbnMuZXZlcnkoaXNSZXNvbHZlZERlY2xhcmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZXF1ZXVlXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZVF1ZXVlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2NvcGVPbkRlY2xhcmVkQ29tcG9uZW50cyhtb2R1bGVUeXBlLCBuZ01vZHVsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgZmx1c2hpbmdNb2R1bGVRdWV1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRydXRoeSBpZiBhIGRlY2xhcmF0aW9uIGhhcyByZXNvbHZlZC4gSWYgdGhlIGRlY2xhcmF0aW9uIGhhcHBlbnMgdG8gYmVcbiAqIGFuIGFycmF5IG9mIGRlY2xhcmF0aW9ucywgaXQgd2lsbCByZWN1cnNlIHRvIGNoZWNrIGVhY2ggZGVjbGFyYXRpb24gaW4gdGhhdCBhcnJheVxuICogKHdoaWNoIG1heSBhbHNvIGJlIGFycmF5cykuXG4gKi9cbmZ1bmN0aW9uIGlzUmVzb2x2ZWREZWNsYXJhdGlvbihkZWNsYXJhdGlvbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlY2xhcmF0aW9uKSkge1xuICAgICAgICByZXR1cm4gZGVjbGFyYXRpb24uZXZlcnkoaXNSZXNvbHZlZERlY2xhcmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmVzb2x2ZUZvcndhcmRSZWYoZGVjbGFyYXRpb24pO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIG1vZHVsZSBpbiBKSVQgbW9kZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGF1dG9tYXRpY2FsbHkgZ2V0cyBjYWxsZWQgd2hlbiBhIGNsYXNzIGhhcyBhIGBATmdNb2R1bGVgIGRlY29yYXRvci5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZU5nTW9kdWxlKG1vZHVsZVR5cGUsIG5nTW9kdWxlID0ge30pIHtcbiAgICBjb21waWxlTmdNb2R1bGVEZWZzKG1vZHVsZVR5cGUsIG5nTW9kdWxlKTtcbiAgICAvLyBCZWNhdXNlIHdlIGRvbid0IGtub3cgaWYgYWxsIGRlY2xhcmF0aW9ucyBoYXZlIHJlc29sdmVkIHlldCBhdCB0aGUgbW9tZW50IHRoZVxuICAgIC8vIE5nTW9kdWxlIGRlY29yYXRvciBpcyBleGVjdXRpbmcsIHdlJ3JlIGVucXVldWVpbmcgdGhlIHNldHRpbmcgb2YgbW9kdWxlIHNjb3BlXG4gICAgLy8gb24gaXRzIGRlY2xhcmF0aW9ucyB0byBiZSBydW4gYXQgYSBsYXRlciB0aW1lIHdoZW4gYWxsIGRlY2xhcmF0aW9ucyBmb3IgdGhlIG1vZHVsZSxcbiAgICAvLyBpbmNsdWRpbmcgZm9yd2FyZCByZWZzLCBoYXZlIHJlc29sdmVkLlxuICAgIGVucXVldWVNb2R1bGVGb3JEZWxheWVkU2NvcGluZyhtb2R1bGVUeXBlLCBuZ01vZHVsZSk7XG59XG4vKipcbiAqIENvbXBpbGVzIGFuZCBhZGRzIHRoZSBgybVtb2RgLCBgybVmYWNgIGFuZCBgybVpbmpgIHByb3BlcnRpZXMgdG8gdGhlIG1vZHVsZSBjbGFzcy5cbiAqXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGNvbXBpbGUgYSBtb2R1bGUgdmlhIHRoaXMgQVBJIHdoaWNoIHdpbGwgYWxsb3cgZHVwbGljYXRlIGRlY2xhcmF0aW9ucyBpbiBpdHNcbiAqIHJvb3QuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZURlZnMobW9kdWxlVHlwZSwgbmdNb2R1bGUsIGFsbG93RHVwbGljYXRlRGVjbGFyYXRpb25zSW5Sb290ID0gZmFsc2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChtb2R1bGVUeXBlLCAnUmVxdWlyZWQgdmFsdWUgbW9kdWxlVHlwZScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKG5nTW9kdWxlLCAnUmVxdWlyZWQgdmFsdWUgbmdNb2R1bGUnKTtcbiAgICBjb25zdCBkZWNsYXJhdGlvbnMgPSBmbGF0dGVuKG5nTW9kdWxlLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWSk7XG4gICAgbGV0IG5nTW9kdWxlRGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlVHlwZSwgTkdfTU9EX0RFRiwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nTW9kdWxlRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBuZ01vZHVsZS5pbXBvcnRzICYmIG5nTW9kdWxlLmltcG9ydHMuaW5kZXhPZihtb2R1bGVUeXBlKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gYXNzZXJ0IHRoaXMgaW1tZWRpYXRlbHksIGJlY2F1c2UgYWxsb3dpbmcgaXQgdG8gY29udGludWUgd2lsbCBjYXVzZSBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBnbyBpbnRvIGFuIGluZmluaXRlIGxvb3AgYmVmb3JlIHdlJ3ZlIHJlYWNoZWQgdGhlIHBvaW50IHdoZXJlIHdlIHRocm93IGFsbCB0aGUgZXJyb3JzLlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3N0cmluZ2lmeUZvckVycm9yKG1vZHVsZVR5cGUpfScgbW9kdWxlIGNhbid0IGltcG9ydCBpdHNlbGZgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogbW9kdWxlVHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ01vZHVsZURlZiA9IGNvbXBpbGVyLmNvbXBpbGVOZ01vZHVsZShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bW9kdWxlVHlwZS5uYW1lfS/JtW1vZC5qc2AsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kdWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgYm9vdHN0cmFwOiBmbGF0dGVuKG5nTW9kdWxlLmJvb3RzdHJhcCB8fCBFTVBUWV9BUlJBWSkubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWNsYXJhdGlvbnMubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogZmxhdHRlbihuZ01vZHVsZS5pbXBvcnRzIHx8IEVNUFRZX0FSUkFZKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZXNvbHZlRm9yd2FyZFJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyksXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IGZsYXR0ZW4obmdNb2R1bGUuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAocmVzb2x2ZUZvcndhcmRSZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGV4cGFuZE1vZHVsZVdpdGhQcm92aWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBuZ01vZHVsZS5zY2hlbWFzID8gZmxhdHRlbihuZ01vZHVsZS5zY2hlbWFzKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBuZ01vZHVsZS5pZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFNldCBgc2NoZW1hc2Agb24gbmdNb2R1bGVEZWYgdG8gYW4gZW1wdHkgYXJyYXkgaW4gSklUIG1vZGUgdG8gaW5kaWNhdGUgdGhhdCBydW50aW1lXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIHZlcmlmeSB0aGF0IHRoZXJlIGFyZSBubyB1bmtub3duIGVsZW1lbnRzIGluIGEgdGVtcGxhdGUuIEluIEFPVCBtb2RlLCB0aGF0IGNoZWNrXG4gICAgICAgICAgICAgICAgLy8gaGFwcGVucyBhdCBjb21waWxlIHRpbWUgYW5kIGBzY2hlbWFzYCBpbmZvcm1hdGlvbiBpcyBub3QgcHJlc2VudCBvbiBDb21wb25lbnQgYW5kIE1vZHVsZVxuICAgICAgICAgICAgICAgIC8vIGRlZnMgYWZ0ZXIgY29tcGlsYXRpb24gKHNvIHRoZSBjaGVjayBkb2Vzbid0IGhhcHBlbiB0aGUgc2Vjb25kIHRpbWUgYXQgcnVudGltZSkuXG4gICAgICAgICAgICAgICAgaWYgKCFuZ01vZHVsZURlZi5zY2hlbWFzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5nTW9kdWxlRGVmLnNjaGVtYXMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdNb2R1bGVEZWY7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgbmdGYWN0b3J5RGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlVHlwZSwgTkdfRkFDVE9SWV9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdGYWN0b3J5RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogbW9kdWxlVHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0ZhY3RvcnlEZWYgPSBjb21waWxlci5jb21waWxlRmFjdG9yeShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bW9kdWxlVHlwZS5uYW1lfS/JtWZhYy5qc2AsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbW9kdWxlVHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKG1vZHVsZVR5cGUpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBpbGVyLkZhY3RvcnlUYXJnZXQuTmdNb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nRmFjdG9yeURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbiAgICBsZXQgbmdJbmplY3RvckRlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZVR5cGUsIE5HX0lOSl9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdJbmplY3RvckRlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKG1vZHVsZVR5cGUsIGFsbG93RHVwbGljYXRlRGVjbGFyYXRpb25zSW5Sb290KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtb2R1bGVUeXBlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogbmdNb2R1bGUucHJvdmlkZXJzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAobmdNb2R1bGUuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSkubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZ01vZHVsZS5leHBvcnRzIHx8IEVNUFRZX0FSUkFZKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogbW9kdWxlVHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0luamVjdG9yRGVmID1cbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZXIuY29tcGlsZUluamVjdG9yKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttb2R1bGVUeXBlLm5hbWV9L8m1aW5qLmpzYCwgbWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdJbmplY3RvckRlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kdWxlVHlwZSwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QsIGltcG9ydGluZ01vZHVsZSkge1xuICAgIGlmICh2ZXJpZmllZE5nTW9kdWxlLmdldChtb2R1bGVUeXBlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHZlcmlmaWVkTmdNb2R1bGUuc2V0KG1vZHVsZVR5cGUsIHRydWUpO1xuICAgIG1vZHVsZVR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZihtb2R1bGVUeXBlKTtcbiAgICBsZXQgbmdNb2R1bGVEZWY7XG4gICAgaWYgKGltcG9ydGluZ01vZHVsZSkge1xuICAgICAgICBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgICAgICBpZiAoIW5nTW9kdWxlRGVmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdmFsdWUgJyR7bW9kdWxlVHlwZS5uYW1lfScgaW1wb3J0ZWQgYnkgdGhlIG1vZHVsZSAnJHtpbXBvcnRpbmdNb2R1bGUubmFtZX0nLiBQbGVhc2UgYWRkIGFuIEBOZ01vZHVsZSBhbm5vdGF0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUsIHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCBkZWNsYXJhdGlvbnMgPSBtYXliZVVud3JhcEZuKG5nTW9kdWxlRGVmLmRlY2xhcmF0aW9ucyk7XG4gICAgY29uc3QgaW1wb3J0cyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuaW1wb3J0cyk7XG4gICAgZmxhdHRlbihpbXBvcnRzKS5tYXAodW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHMpLmZvckVhY2gobW9kID0+IHtcbiAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydChtb2QsIG1vZHVsZVR5cGUpO1xuICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKG1vZCwgZmFsc2UsIG1vZHVsZVR5cGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IGV4cG9ydHMgPSBtYXliZVVud3JhcEZuKG5nTW9kdWxlRGVmLmV4cG9ydHMpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKHZlcmlmeURlY2xhcmF0aW9uc0hhdmVEZWZpbml0aW9ucyk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2godmVyaWZ5RGlyZWN0aXZlc0hhdmVTZWxlY3Rvcik7XG4gICAgY29uc3QgY29tYmluZWREZWNsYXJhdGlvbnMgPSBbXG4gICAgICAgIC4uLmRlY2xhcmF0aW9ucy5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAuLi5mbGF0dGVuKGltcG9ydHMubWFwKGNvbXB1dGVDb21iaW5lZEV4cG9ydHMpKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgIF07XG4gICAgZXhwb3J0cy5mb3JFYWNoKHZlcmlmeUV4cG9ydHNBcmVEZWNsYXJlZE9yUmVFeHBvcnRlZCk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2goZGVjbCA9PiB2ZXJpZnlEZWNsYXJhdGlvbklzVW5pcXVlKGRlY2wsIGFsbG93RHVwbGljYXRlRGVjbGFyYXRpb25zSW5Sb290KSk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2godmVyaWZ5Q29tcG9uZW50RW50cnlDb21wb25lbnRzSXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgY29uc3QgbmdNb2R1bGUgPSBnZXRBbm5vdGF0aW9uKG1vZHVsZVR5cGUsICdOZ01vZHVsZScpO1xuICAgIGlmIChuZ01vZHVsZSkge1xuICAgICAgICBuZ01vZHVsZS5pbXBvcnRzICYmXG4gICAgICAgICAgICBmbGF0dGVuKG5nTW9kdWxlLmltcG9ydHMpLm1hcCh1bndyYXBNb2R1bGVXaXRoUHJvdmlkZXJzSW1wb3J0cykuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVJbXBvcnQobW9kLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKG1vZCwgZmFsc2UsIG1vZHVsZVR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIG5nTW9kdWxlLmJvb3RzdHJhcCAmJiBkZWVwRm9yRWFjaChuZ01vZHVsZS5ib290c3RyYXAsIHZlcmlmeUNvcnJlY3RCb290c3RyYXBUeXBlKTtcbiAgICAgICAgbmdNb2R1bGUuYm9vdHN0cmFwICYmIGRlZXBGb3JFYWNoKG5nTW9kdWxlLmJvb3RzdHJhcCwgdmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgICAgIG5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cyAmJlxuICAgICAgICAgICAgZGVlcEZvckVhY2gobmdNb2R1bGUuZW50cnlDb21wb25lbnRzLCB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICB9XG4gICAgLy8gVGhyb3cgRXJyb3IgaWYgYW55IGVycm9ycyB3ZXJlIGRldGVjdGVkLlxuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnMuam9pbignXFxuJykpO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiB2ZXJpZnlEZWNsYXJhdGlvbnNIYXZlRGVmaW5pdGlvbnModHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGRlZiA9IGdldENvbXBvbmVudERlZih0eXBlKSB8fCBnZXREaXJlY3RpdmVEZWYodHlwZSkgfHwgZ2V0UGlwZURlZiQxKHR5cGUpO1xuICAgICAgICBpZiAoIWRlZikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYFVuZXhwZWN0ZWQgdmFsdWUgJyR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9JyBkZWNsYXJlZCBieSB0aGUgbW9kdWxlICcke3N0cmluZ2lmeUZvckVycm9yKG1vZHVsZVR5cGUpfScuIFBsZWFzZSBhZGQgYSBAUGlwZS9ARGlyZWN0aXZlL0BDb21wb25lbnQgYW5ub3RhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlEaXJlY3RpdmVzSGF2ZVNlbGVjdG9yKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBkZWYgPSBnZXREaXJlY3RpdmVEZWYodHlwZSk7XG4gICAgICAgIGlmICghZ2V0Q29tcG9uZW50RGVmKHR5cGUpICYmIGRlZiAmJiBkZWYuc2VsZWN0b3JzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgRGlyZWN0aXZlICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGhhcyBubyBzZWxlY3RvciwgcGxlYXNlIGFkZCBpdCFgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlFeHBvcnRzQXJlRGVjbGFyZWRPclJlRXhwb3J0ZWQodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGtpbmQgPSBnZXRDb21wb25lbnREZWYodHlwZSkgJiYgJ2NvbXBvbmVudCcgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpICYmICdkaXJlY3RpdmUnIHx8XG4gICAgICAgICAgICBnZXRQaXBlRGVmJDEodHlwZSkgJiYgJ3BpcGUnO1xuICAgICAgICBpZiAoa2luZCkge1xuICAgICAgICAgICAgLy8gb25seSBjaGVja2VkIGlmIHdlIGFyZSBkZWNsYXJlZCBhcyBDb21wb25lbnQsIERpcmVjdGl2ZSwgb3IgUGlwZVxuICAgICAgICAgICAgLy8gTW9kdWxlcyBkb24ndCBuZWVkIHRvIGJlIGRlY2xhcmVkIG9yIGltcG9ydGVkLlxuICAgICAgICAgICAgaWYgKGNvbWJpbmVkRGVjbGFyYXRpb25zLmxhc3RJbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBleHBvcnRpbmcgc29tZXRoaW5nIHdoaWNoIHdlIGRvbid0IGV4cGxpY2l0bHkgZGVjbGFyZSBvciBpbXBvcnQuXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYENhbid0IGV4cG9ydCAke2tpbmR9ICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGZyb20gJHtzdHJpbmdpZnlGb3JFcnJvcihtb2R1bGVUeXBlKX0gYXMgaXQgd2FzIG5laXRoZXIgZGVjbGFyZWQgbm9yIGltcG9ydGVkIWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeURlY2xhcmF0aW9uSXNVbmlxdWUodHlwZSwgc3VwcHJlc3NFcnJvcnMpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBleGlzdGluZ01vZHVsZSA9IG93bmVyTmdNb2R1bGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoZXhpc3RpbmdNb2R1bGUgJiYgZXhpc3RpbmdNb2R1bGUgIT09IG1vZHVsZVR5cGUpIHtcbiAgICAgICAgICAgIGlmICghc3VwcHJlc3NFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVzID0gW2V4aXN0aW5nTW9kdWxlLCBtb2R1bGVUeXBlXS5tYXAoc3RyaW5naWZ5Rm9yRXJyb3IpLnNvcnQoKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgVHlwZSAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBpcyBwYXJ0IG9mIHRoZSBkZWNsYXJhdGlvbnMgb2YgMiBtb2R1bGVzOiAke21vZHVsZXNbMF19IGFuZCAke21vZHVsZXNbMV19ISBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSBjb25zaWRlciBtb3ZpbmcgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gdG8gYSBoaWdoZXIgbW9kdWxlIHRoYXQgaW1wb3J0cyAke21vZHVsZXNbMF19IGFuZCAke21vZHVsZXNbMV19LiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFlvdSBjYW4gYWxzbyBjcmVhdGUgYSBuZXcgTmdNb2R1bGUgdGhhdCBleHBvcnRzIGFuZCBpbmNsdWRlcyAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSB0aGVuIGltcG9ydCB0aGF0IE5nTW9kdWxlIGluICR7bW9kdWxlc1swXX0gYW5kICR7bW9kdWxlc1sxXX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNYXJrIHR5cGUgYXMgaGF2aW5nIG93bmVyLlxuICAgICAgICAgICAgb3duZXJOZ01vZHVsZS5zZXQodHlwZSwgbW9kdWxlVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdNb2R1bGUgPSBvd25lck5nTW9kdWxlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ01vZHVsZSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYENvbXBvbmVudCAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBpcyBub3QgcGFydCBvZiBhbnkgTmdNb2R1bGUgb3IgdGhlIG1vZHVsZSBoYXMgbm90IGJlZW4gaW1wb3J0ZWQgaW50byB5b3VyIG1vZHVsZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb3JyZWN0Qm9vdHN0cmFwVHlwZSh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgaWYgKCFnZXRDb21wb25lbnREZWYodHlwZSkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBjYW5ub3QgYmUgdXNlZCBhcyBhbiBlbnRyeSBjb21wb25lbnQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5Q29tcG9uZW50RW50cnlDb21wb25lbnRzSXNQYXJ0T2ZOZ01vZHVsZSh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgaWYgKGdldENvbXBvbmVudERlZih0eXBlKSkge1xuICAgICAgICAgICAgLy8gV2Uga25vdyB3ZSBhcmUgY29tcG9uZW50XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBnZXRBbm5vdGF0aW9uKHR5cGUsICdDb21wb25lbnQnKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LmVudHJ5Q29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgIGRlZXBGb3JFYWNoKGNvbXBvbmVudC5lbnRyeUNvbXBvbmVudHMsIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVJbXBvcnQodHlwZSwgaW1wb3J0aW5nTW9kdWxlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgaWYgKGdldENvbXBvbmVudERlZih0eXBlKSB8fCBnZXREaXJlY3RpdmVEZWYodHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBkaXJlY3RpdmUgJyR7dHlwZS5uYW1lfScgaW1wb3J0ZWQgYnkgdGhlIG1vZHVsZSAnJHtpbXBvcnRpbmdNb2R1bGUubmFtZX0nLiBQbGVhc2UgYWRkIGFuIEBOZ01vZHVsZSBhbm5vdGF0aW9uLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQaXBlRGVmJDEodHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBwaXBlICcke3R5cGUubmFtZX0nIGltcG9ydGVkIGJ5IHRoZSBtb2R1bGUgJyR7aW1wb3J0aW5nTW9kdWxlLm5hbWV9Jy4gUGxlYXNlIGFkZCBhbiBATmdNb2R1bGUgYW5ub3RhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKHR5cGVPcldpdGhQcm92aWRlcnMpIHtcbiAgICB0eXBlT3JXaXRoUHJvdmlkZXJzID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZU9yV2l0aFByb3ZpZGVycyk7XG4gICAgcmV0dXJuIHR5cGVPcldpdGhQcm92aWRlcnMubmdNb2R1bGUgfHwgdHlwZU9yV2l0aFByb3ZpZGVycztcbn1cbmZ1bmN0aW9uIGdldEFubm90YXRpb24odHlwZSwgbmFtZSkge1xuICAgIGxldCBhbm5vdGF0aW9uID0gbnVsbDtcbiAgICBjb2xsZWN0KHR5cGUuX19hbm5vdGF0aW9uc19fKTtcbiAgICBjb2xsZWN0KHR5cGUuZGVjb3JhdG9ycyk7XG4gICAgcmV0dXJuIGFubm90YXRpb247XG4gICAgZnVuY3Rpb24gY29sbGVjdChhbm5vdGF0aW9ucykge1xuICAgICAgICBpZiAoYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIGFubm90YXRpb25zLmZvckVhY2gocmVhZEFubm90YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRBbm5vdGF0aW9uKGRlY29yYXRvcikge1xuICAgICAgICBpZiAoIWFubm90YXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGRlY29yYXRvcik7XG4gICAgICAgICAgICBpZiAocHJvdG8ubmdNZXRhZGF0YU5hbWUgPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIGFubm90YXRpb24gPSBkZWNvcmF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkZWNvcmF0b3IudHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGRlY29yYXRvci50eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvdG8ubmdNZXRhZGF0YU5hbWUgPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uID0gZGVjb3JhdG9yLmFyZ3NbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIGNvbXBpbGVkIGNvbXBvbmVudHMuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgaW4gdGVzdHMgd2Ugb2Z0ZW4gd2FudCB0byBjb21waWxlIHRoZVxuICogc2FtZSBjb21wb25lbnQgd2l0aCBtb3JlIHRoYW4gb25lIE5nTW9kdWxlLiBUaGlzIHdvdWxkIGNhdXNlIGFuIGVycm9yIHVubGVzcyB3ZSByZXNldCB3aGljaFxuICogTmdNb2R1bGUgdGhlIGNvbXBvbmVudCBiZWxvbmdzIHRvLiBXZSBrZWVwIHRoZSBsaXN0IG9mIGNvbXBpbGVkIGNvbXBvbmVudHMgaGVyZSBzbyB0aGF0IHRoZVxuICogVGVzdEJlZCBjYW4gcmVzZXQgaXQgbGF0ZXIuXG4gKi9cbmxldCBvd25lck5nTW9kdWxlID0gbmV3IFdlYWtNYXAoKTtcbmxldCB2ZXJpZmllZE5nTW9kdWxlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHJlc2V0Q29tcGlsZWRDb21wb25lbnRzKCkge1xuICAgIG93bmVyTmdNb2R1bGUgPSBuZXcgV2Vha01hcCgpO1xuICAgIHZlcmlmaWVkTmdNb2R1bGUgPSBuZXcgV2Vha01hcCgpO1xuICAgIG1vZHVsZVF1ZXVlLmxlbmd0aCA9IDA7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjb21iaW5lZCBkZWNsYXJhdGlvbnMgb2YgZXhwbGljaXQgZGVjbGFyYXRpb25zLCBhcyB3ZWxsIGFzIGRlY2xhcmF0aW9ucyBpbmhlcml0ZWQgYnlcbiAqIHRyYXZlcnNpbmcgdGhlIGV4cG9ydHMgb2YgaW1wb3J0ZWQgbW9kdWxlcy5cbiAqIEBwYXJhbSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVDb21iaW5lZEV4cG9ydHModHlwZSkge1xuICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKHR5cGUsIHRydWUpO1xuICAgIHJldHVybiBbLi4uZmxhdHRlbihtYXliZVVud3JhcEZuKG5nTW9kdWxlRGVmLmV4cG9ydHMpLm1hcCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZih0eXBlKTtcbiAgICAgICAgICAgIGlmIChuZ01vZHVsZURlZikge1xuICAgICAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYodHlwZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wdXRlQ29tYmluZWRFeHBvcnRzKHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKV07XG59XG4vKipcbiAqIFNvbWUgZGVjbGFyZWQgY29tcG9uZW50cyBtYXkgYmUgY29tcGlsZWQgYXN5bmNocm9ub3VzbHksIGFuZCB0aHVzIG1heSBub3QgaGF2ZSB0aGVpclxuICogybVjbXAgc2V0IHlldC4gSWYgdGhpcyBpcyB0aGUgY2FzZSwgdGhlbiBhIHJlZmVyZW5jZSB0byB0aGUgbW9kdWxlIGlzIHdyaXR0ZW4gaW50b1xuICogdGhlIGBuZ1NlbGVjdG9yU2NvcGVgIHByb3BlcnR5IG9mIHRoZSBkZWNsYXJlZCB0eXBlLlxuICovXG5mdW5jdGlvbiBzZXRTY29wZU9uRGVjbGFyZWRDb21wb25lbnRzKG1vZHVsZVR5cGUsIG5nTW9kdWxlKSB7XG4gICAgY29uc3QgZGVjbGFyYXRpb25zID0gZmxhdHRlbihuZ01vZHVsZS5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVkpO1xuICAgIGNvbnN0IHRyYW5zaXRpdmVTY29wZXMgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKG1vZHVsZVR5cGUpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKGRlY2xhcmF0aW9uID0+IHtcbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uLmhhc093blByb3BlcnR5KE5HX0NPTVBfREVGKSkge1xuICAgICAgICAgICAgLy8gQSBgybVjbXBgIGZpZWxkIGV4aXN0cyAtIGdvIGFoZWFkIGFuZCBwYXRjaCB0aGUgY29tcG9uZW50IGRpcmVjdGx5LlxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGVjbGFyYXRpb247XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29tcG9uZW50KTtcbiAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKGNvbXBvbmVudERlZiwgdHJhbnNpdGl2ZVNjb3Blcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRlY2xhcmF0aW9uLmhhc093blByb3BlcnR5KE5HX0RJUl9ERUYpICYmICFkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19QSVBFX0RFRikpIHtcbiAgICAgICAgICAgIC8vIFNldCBgbmdTZWxlY3RvclNjb3BlYCBmb3IgZnV0dXJlIHJlZmVyZW5jZSB3aGVuIHRoZSBjb21wb25lbnQgY29tcGlsYXRpb24gZmluaXNoZXMuXG4gICAgICAgICAgICBkZWNsYXJhdGlvbi5uZ1NlbGVjdG9yU2NvcGUgPSBtb2R1bGVUeXBlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFBhdGNoIHRoZSBkZWZpbml0aW9uIG9mIGEgY29tcG9uZW50IHdpdGggZGlyZWN0aXZlcyBhbmQgcGlwZXMgZnJvbSB0aGUgY29tcGlsYXRpb24gc2NvcGUgb2ZcbiAqIGEgZ2l2ZW4gbW9kdWxlLlxuICovXG5mdW5jdGlvbiBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZShjb21wb25lbnREZWYsIHRyYW5zaXRpdmVTY29wZXMpIHtcbiAgICBjb21wb25lbnREZWYuZGlyZWN0aXZlRGVmcyA9ICgpID0+IEFycmF5LmZyb20odHJhbnNpdGl2ZVNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzKVxuICAgICAgICAubWFwKGRpciA9PiBkaXIuaGFzT3duUHJvcGVydHkoTkdfQ09NUF9ERUYpID8gZ2V0Q29tcG9uZW50RGVmKGRpcikgOiBnZXREaXJlY3RpdmVEZWYoZGlyKSlcbiAgICAgICAgLmZpbHRlcihkZWYgPT4gISFkZWYpO1xuICAgIGNvbXBvbmVudERlZi5waXBlRGVmcyA9ICgpID0+IEFycmF5LmZyb20odHJhbnNpdGl2ZVNjb3Blcy5jb21waWxhdGlvbi5waXBlcykubWFwKHBpcGUgPT4gZ2V0UGlwZURlZiQxKHBpcGUpKTtcbiAgICBjb21wb25lbnREZWYuc2NoZW1hcyA9IHRyYW5zaXRpdmVTY29wZXMuc2NoZW1hcztcbiAgICAvLyBTaW5jZSB3ZSBhdm9pZCBDb21wb25lbnRzL0RpcmVjdGl2ZXMvUGlwZXMgcmVjb21waWxpbmcgaW4gY2FzZSB0aGVyZSBhcmUgbm8gb3ZlcnJpZGVzLCB3ZVxuICAgIC8vIG1heSBmYWNlIGEgcHJvYmxlbSB3aGVyZSBwcmV2aW91c2x5IGNvbXBpbGVkIGRlZnMgYXZhaWxhYmxlIHRvIGEgZ2l2ZW4gQ29tcG9uZW50L0RpcmVjdGl2ZVxuICAgIC8vIGFyZSBjYWNoZWQgaW4gVFZpZXcgYW5kIG1heSBiZWNvbWUgc3RhbGUgKGluIGNhc2UgYW55IG9mIHRoZXNlIGRlZnMgZ2V0cyByZWNvbXBpbGVkKS4gSW5cbiAgICAvLyBvcmRlciB0byBhdm9pZCB0aGlzIHByb2JsZW0sIHdlIGZvcmNlIGZyZXNoIFRWaWV3IHRvIGJlIGNyZWF0ZWQuXG4gICAgY29tcG9uZW50RGVmLnRWaWV3ID0gbnVsbDtcbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgcGFpciBvZiB0cmFuc2l0aXZlIHNjb3BlcyAoY29tcGlsYXRpb24gc2NvcGUgYW5kIGV4cG9ydGVkIHNjb3BlKSBmb3IgYSBnaXZlbiBtb2R1bGUuXG4gKlxuICogVGhpcyBvcGVyYXRpb24gaXMgbWVtb2l6ZWQgYW5kIHRoZSByZXN1bHQgaXMgY2FjaGVkIG9uIHRoZSBtb2R1bGUncyBkZWZpbml0aW9uLiBUaGlzIGZ1bmN0aW9uIGNhblxuICogYmUgY2FsbGVkIG9uIG1vZHVsZXMgd2l0aCBjb21wb25lbnRzIHRoYXQgaGF2ZSBub3QgZnVsbHkgY29tcGlsZWQgeWV0LCBidXQgdGhlIHJlc3VsdCBzaG91bGQgbm90XG4gKiBiZSB1c2VkIHVudGlsIHRoZXkgaGF2ZS5cbiAqXG4gKiBAcGFyYW0gbW9kdWxlVHlwZSBtb2R1bGUgdGhhdCB0cmFuc2l0aXZlIHNjb3BlIHNob3VsZCBiZSBjYWxjdWxhdGVkIGZvci5cbiAqL1xuZnVuY3Rpb24gdHJhbnNpdGl2ZVNjb3Blc0Zvcihtb2R1bGVUeXBlKSB7XG4gICAgaWYgKCFpc05nTW9kdWxlKG1vZHVsZVR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHttb2R1bGVUeXBlLm5hbWV9IGRvZXMgbm90IGhhdmUgYSBtb2R1bGUgZGVmICjJtW1vZCBwcm9wZXJ0eSlgKTtcbiAgICB9XG4gICAgY29uc3QgZGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSk7XG4gICAgaWYgKGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcyAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZGVmLnRyYW5zaXRpdmVDb21waWxlU2NvcGVzO1xuICAgIH1cbiAgICBjb25zdCBzY29wZXMgPSB7XG4gICAgICAgIHNjaGVtYXM6IGRlZi5zY2hlbWFzIHx8IG51bGwsXG4gICAgICAgIGNvbXBpbGF0aW9uOiB7XG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBwaXBlczogbmV3IFNldCgpLFxuICAgICAgICB9LFxuICAgICAgICBleHBvcnRlZDoge1xuICAgICAgICAgICAgZGlyZWN0aXZlczogbmV3IFNldCgpLFxuICAgICAgICAgICAgcGlwZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIG1heWJlVW53cmFwRm4oZGVmLmltcG9ydHMpLmZvckVhY2goKGltcG9ydGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGltcG9ydGVkVHlwZSA9IGltcG9ydGVkO1xuICAgICAgICBpZiAoIWlzTmdNb2R1bGUoaW1wb3J0ZWRUeXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbXBvcnRpbmcgJHtpbXBvcnRlZFR5cGUubmFtZX0gd2hpY2ggZG9lcyBub3QgaGF2ZSBhIMm1bW9kIHByb3BlcnR5YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGlzIG1vZHVsZSBpbXBvcnRzIGFub3RoZXIsIHRoZSBpbXBvcnRlZCBtb2R1bGUncyBleHBvcnRlZCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBhcmVcbiAgICAgICAgLy8gYWRkZWQgdG8gdGhlIGNvbXBpbGF0aW9uIHNjb3BlIG9mIHRoaXMgbW9kdWxlLlxuICAgICAgICBjb25zdCBpbXBvcnRlZFNjb3BlID0gdHJhbnNpdGl2ZVNjb3Blc0ZvcihpbXBvcnRlZFR5cGUpO1xuICAgICAgICBpbXBvcnRlZFNjb3BlLmV4cG9ydGVkLmRpcmVjdGl2ZXMuZm9yRWFjaChlbnRyeSA9PiBzY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcy5hZGQoZW50cnkpKTtcbiAgICAgICAgaW1wb3J0ZWRTY29wZS5leHBvcnRlZC5waXBlcy5mb3JFYWNoKGVudHJ5ID0+IHNjb3Blcy5jb21waWxhdGlvbi5waXBlcy5hZGQoZW50cnkpKTtcbiAgICB9KTtcbiAgICBtYXliZVVud3JhcEZuKGRlZi5kZWNsYXJhdGlvbnMpLmZvckVhY2goZGVjbGFyZWQgPT4ge1xuICAgICAgICBjb25zdCBkZWNsYXJlZFdpdGhEZWZzID0gZGVjbGFyZWQ7XG4gICAgICAgIGlmIChnZXRQaXBlRGVmJDEoZGVjbGFyZWRXaXRoRGVmcykpIHtcbiAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5waXBlcy5hZGQoZGVjbGFyZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRWl0aGVyIGRlY2xhcmVkIGhhcyBhIMm1Y21wIG9yIMm1ZGlyLCBvciBpdCdzIGEgY29tcG9uZW50IHdoaWNoIGhhc24ndFxuICAgICAgICAgICAgLy8gaGFkIGl0cyB0ZW1wbGF0ZSBjb21waWxlZCB5ZXQuIEluIGVpdGhlciBjYXNlLCBpdCBnZXRzIGFkZGVkIHRvIHRoZSBjb21waWxhdGlvbidzXG4gICAgICAgICAgICAvLyBkaXJlY3RpdmVzLlxuICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMuYWRkKGRlY2xhcmVkKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIG1heWJlVW53cmFwRm4oZGVmLmV4cG9ydHMpLmZvckVhY2goKGV4cG9ydGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4cG9ydGVkVHlwZSA9IGV4cG9ydGVkO1xuICAgICAgICAvLyBFaXRoZXIgdGhlIHR5cGUgaXMgYSBtb2R1bGUsIGEgcGlwZSwgb3IgYSBjb21wb25lbnQvZGlyZWN0aXZlICh3aGljaCBtYXkgbm90IGhhdmUgYVxuICAgICAgICAvLyDJtWNtcCBhcyBpdCBtaWdodCBiZSBjb21waWxlZCBhc3luY2hyb25vdXNseSkuXG4gICAgICAgIGlmIChpc05nTW9kdWxlKGV4cG9ydGVkVHlwZSkpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhpcyBtb2R1bGUgZXhwb3J0cyBhbm90aGVyLCB0aGUgZXhwb3J0ZWQgbW9kdWxlJ3MgZXhwb3J0ZWQgZGlyZWN0aXZlcyBhbmQgcGlwZXMgYXJlXG4gICAgICAgICAgICAvLyBhZGRlZCB0byBib3RoIHRoZSBjb21waWxhdGlvbiBhbmQgZXhwb3J0ZWQgc2NvcGVzIG9mIHRoaXMgbW9kdWxlLlxuICAgICAgICAgICAgY29uc3QgZXhwb3J0ZWRTY29wZSA9IHRyYW5zaXRpdmVTY29wZXNGb3IoZXhwb3J0ZWRUeXBlKTtcbiAgICAgICAgICAgIGV4cG9ydGVkU2NvcGUuZXhwb3J0ZWQuZGlyZWN0aXZlcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5kaXJlY3RpdmVzLmFkZChlbnRyeSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4cG9ydGVkU2NvcGUuZXhwb3J0ZWQucGlwZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChlbnRyeSk7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLnBpcGVzLmFkZChlbnRyeSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZXRQaXBlRGVmJDEoZXhwb3J0ZWRUeXBlKSkge1xuICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLnBpcGVzLmFkZChleHBvcnRlZFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLmRpcmVjdGl2ZXMuYWRkKGV4cG9ydGVkVHlwZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBkZWYudHJhbnNpdGl2ZUNvbXBpbGVTY29wZXMgPSBzY29wZXM7XG4gICAgcmV0dXJuIHNjb3Blcztcbn1cbmZ1bmN0aW9uIGV4cGFuZE1vZHVsZVdpdGhQcm92aWRlcnModmFsdWUpIHtcbiAgICBpZiAoaXNNb2R1bGVXaXRoUHJvdmlkZXJzKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubmdNb2R1bGU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGlzTW9kdWxlV2l0aFByb3ZpZGVycyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5uZ01vZHVsZSAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNOZ01vZHVsZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIWdldE5nTW9kdWxlRGVmKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEtlZXAgdHJhY2sgb2YgdGhlIGNvbXBpbGF0aW9uIGRlcHRoIHRvIGF2b2lkIHJlZW50cmFuY3kgaXNzdWVzIGR1cmluZyBKSVQgY29tcGlsYXRpb24uIFRoaXNcbiAqIG1hdHRlcnMgaW4gdGhlIGZvbGxvd2luZyBzY2VuYXJpbzpcbiAqXG4gKiBDb25zaWRlciBhIGNvbXBvbmVudCAnQScgdGhhdCBleHRlbmRzIGNvbXBvbmVudCAnQicsIGJvdGggZGVjbGFyZWQgaW4gbW9kdWxlICdNJy4gRHVyaW5nXG4gKiB0aGUgY29tcGlsYXRpb24gb2YgJ0EnIHRoZSBkZWZpbml0aW9uIG9mICdCJyBpcyByZXF1ZXN0ZWQgdG8gY2FwdHVyZSB0aGUgaW5oZXJpdGFuY2UgY2hhaW4sXG4gKiBwb3RlbnRpYWxseSB0cmlnZ2VyaW5nIGNvbXBpbGF0aW9uIG9mICdCJy4gSWYgdGhpcyBuZXN0ZWQgY29tcGlsYXRpb24gd2VyZSB0byB0cmlnZ2VyXG4gKiBgZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlYCBpdCBtYXkgaGFwcGVuIHRoYXQgbW9kdWxlICdNJyBpcyBzdGlsbCBwZW5kaW5nIGluIHRoZVxuICogcXVldWUsIHJlc3VsdGluZyBpbiAnQScgYW5kICdCJyB0byBiZSBwYXRjaGVkIHdpdGggdGhlIE5nTW9kdWxlIHNjb3BlLiBBcyB0aGUgY29tcGlsYXRpb24gb2ZcbiAqICdBJyBpcyBzdGlsbCBpbiBwcm9ncmVzcywgdGhpcyB3b3VsZCBpbnRyb2R1Y2UgYSBjaXJjdWxhciBkZXBlbmRlbmN5IG9uIGl0cyBjb21waWxhdGlvbi4gVG8gYXZvaWRcbiAqIHRoaXMgaXNzdWUsIHRoZSBtb2R1bGUgc2NvcGUgcXVldWUgaXMgb25seSBmbHVzaGVkIGZvciBjb21waWxhdGlvbnMgYXQgdGhlIGRlcHRoIDAsIHRvIGVuc3VyZVxuICogYWxsIGNvbXBpbGF0aW9ucyBoYXZlIGZpbmlzaGVkLlxuICovXG5sZXQgY29tcGlsYXRpb25EZXB0aCA9IDA7XG4vKipcbiAqIENvbXBpbGUgYW4gQW5ndWxhciBjb21wb25lbnQgYWNjb3JkaW5nIHRvIGl0cyBkZWNvcmF0b3IgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBjb21wb25lbnQgZGVmICjJtWNtcCkgb250byB0aGUgY29tcG9uZW50IHR5cGUuXG4gKlxuICogQ29tcGlsYXRpb24gbWF5IGJlIGFzeW5jaHJvbm91cyAoZHVlIHRvIHRoZSBuZWVkIHRvIHJlc29sdmUgVVJMcyBmb3IgdGhlIGNvbXBvbmVudCB0ZW1wbGF0ZSBvclxuICogb3RoZXIgcmVzb3VyY2VzLCBmb3IgZXhhbXBsZSkuIEluIHRoZSBldmVudCB0aGF0IGNvbXBpbGF0aW9uIGlzIG5vdCBpbW1lZGlhdGUsIGBjb21waWxlQ29tcG9uZW50YFxuICogd2lsbCBlbnF1ZXVlIHJlc291cmNlIHJlc29sdXRpb24gaW50byBhIGdsb2JhbCBxdWV1ZSBhbmQgd2lsbCBmYWlsIHRvIHJldHVybiB0aGUgYMm1Y21wYFxuICogdW50aWwgdGhlIGdsb2JhbCBxdWV1ZSBoYXMgYmVlbiByZXNvbHZlZCB3aXRoIGEgY2FsbCB0byBgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlc2AuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVDb21wb25lbnQodHlwZSwgbWV0YWRhdGEpIHtcbiAgICAvLyBJbml0aWFsaXplIG5nRGV2TW9kZS4gVGhpcyBtdXN0IGJlIHRoZSBmaXJzdCBzdGF0ZW1lbnQgaW4gY29tcGlsZUNvbXBvbmVudC5cbiAgICAvLyBTZWUgdGhlIGBpbml0TmdEZXZNb2RlYCBkb2NzdHJpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgaW5pdE5nRGV2TW9kZSgpO1xuICAgIGxldCBuZ0NvbXBvbmVudERlZiA9IG51bGw7XG4gICAgLy8gTWV0YWRhdGEgbWF5IGhhdmUgcmVzb3VyY2VzIHdoaWNoIG5lZWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgbWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyh0eXBlLCBtZXRhZGF0YSk7XG4gICAgLy8gTm90ZSB0aGF0IHdlJ3JlIHVzaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIGFzIGBEaXJlY3RpdmVgLCBiZWNhdXNlIHRoYXQncyBvbmx5IHN1YnNldCBvZiBtZXRhZGF0YVxuICAgIC8vIHRoYXQgd2UgbmVlZCB0byBjcmVhdGUgdGhlIG5nRmFjdG9yeURlZi4gV2UncmUgYXZvaWRpbmcgdXNpbmcgdGhlIGNvbXBvbmVudCBtZXRhZGF0YVxuICAgIC8vIGJlY2F1c2Ugd2UnZCBoYXZlIHRvIHJlc29sdmUgdGhlIGFzeW5jaHJvbm91cyB0ZW1wbGF0ZXMuXG4gICAgYWRkRGlyZWN0aXZlRmFjdG9yeURlZih0eXBlLCBtZXRhZGF0YSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0NPTVBfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nQ29tcG9uZW50RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2NvbXBvbmVudCcsIHR5cGU6IHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbihtZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBbYENvbXBvbmVudCAnJHt0eXBlLm5hbWV9JyBpcyBub3QgcmVzb2x2ZWQ6YF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YS50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChgIC0gdGVtcGxhdGVVcmw6ICR7bWV0YWRhdGEudGVtcGxhdGVVcmx9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLnN0eWxlVXJscyAmJiBtZXRhZGF0YS5zdHlsZVVybHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKGAgLSBzdHlsZVVybHM6ICR7SlNPTi5zdHJpbmdpZnkobWV0YWRhdGEuc3R5bGVVcmxzKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKGBEaWQgeW91IHJ1biBhbmQgd2FpdCBmb3IgJ3Jlc29sdmVDb21wb25lbnRSZXNvdXJjZXMoKSc/YCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5qb2luKCdcXG4nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgY29uc3Qgd2FzIGNhbGxlZCBgaml0T3B0aW9uc2AgcHJldmlvdXNseSBidXQgaGFkIHRvIGJlIHJlbmFtZWQgdG8gYG9wdGlvbnNgIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyBvZiBhIGJ1ZyB3aXRoIFRlcnNlciB0aGF0IGNhdXNlZCBvcHRpbWl6ZWQgSklUIGJ1aWxkcyB0byB0aHJvdyBhIGBSZWZlcmVuY2VFcnJvcmAuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBidWcgd2FzIGludmVzdGlnYXRlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLWNsaS9pc3N1ZXMvMTcyNjQuXG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIG5vdCByZW5hbWUgaXQgYmFjayB1bnRpbCBodHRwczovL2dpdGh1Yi5jb20vdGVyc2VyL3RlcnNlci9pc3N1ZXMvNjE1IGlzIGZpeGVkLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRKaXRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgbGV0IHByZXNlcnZlV2hpdGVzcGFjZXMgPSBtZXRhZGF0YS5wcmVzZXJ2ZVdoaXRlc3BhY2VzO1xuICAgICAgICAgICAgICAgIGlmIChwcmVzZXJ2ZVdoaXRlc3BhY2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZXMgPSBvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGVuY2Fwc3VsYXRpb24gPSBtZXRhZGF0YS5lbmNhcHN1bGF0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChlbmNhcHN1bGF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucy5kZWZhdWx0RW5jYXBzdWxhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNhcHN1bGF0aW9uID0gb3B0aW9ucy5kZWZhdWx0RW5jYXBzdWxhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY2Fwc3VsYXRpb24gPSBWaWV3RW5jYXBzdWxhdGlvbiQxLkVtdWxhdGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlVXJsID0gbWV0YWRhdGEudGVtcGxhdGVVcmwgfHwgYG5nOi8vLyR7dHlwZS5uYW1lfS90ZW1wbGF0ZS5odG1sYDtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSkpLCB7IHR5cGVTb3VyY2VTcGFuOiBjb21waWxlci5jcmVhdGVQYXJzZVNvdXJjZVNwYW4oJ0NvbXBvbmVudCcsIHR5cGUubmFtZSwgdGVtcGxhdGVVcmwpLCB0ZW1wbGF0ZTogbWV0YWRhdGEudGVtcGxhdGUgfHwgJycsIHByZXNlcnZlV2hpdGVzcGFjZXMsIHN0eWxlczogbWV0YWRhdGEuc3R5bGVzIHx8IEVNUFRZX0FSUkFZLCBhbmltYXRpb25zOiBtZXRhZGF0YS5hbmltYXRpb25zLCBkaXJlY3RpdmVzOiBbXSwgY2hhbmdlRGV0ZWN0aW9uOiBtZXRhZGF0YS5jaGFuZ2VEZXRlY3Rpb24sIHBpcGVzOiBuZXcgTWFwKCksIGVuY2Fwc3VsYXRpb24sIGludGVycG9sYXRpb246IG1ldGFkYXRhLmludGVycG9sYXRpb24sIHZpZXdQcm92aWRlcnM6IG1ldGFkYXRhLnZpZXdQcm92aWRlcnMgfHwgbnVsbCB9KTtcbiAgICAgICAgICAgICAgICBjb21waWxhdGlvbkRlcHRoKys7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGEudXNlc0luaGVyaXRhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyh0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZ0NvbXBvbmVudERlZiA9IGNvbXBpbGVyLmNvbXBpbGVDb21wb25lbnQoYW5ndWxhckNvcmVFbnYsIHRlbXBsYXRlVXJsLCBtZXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBjb21waWxhdGlvbiBkZXB0aCBpcyBkZWNyZW1lbnRlZCBldmVuIHdoZW4gdGhlIGNvbXBpbGF0aW9uIGZhaWxlZC5cbiAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb25EZXB0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tcGlsYXRpb25EZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIE5nTW9kdWxlIGRlY29yYXRvciBleGVjdXRlZCwgd2UgZW5xdWV1ZWQgdGhlIG1vZHVsZSBkZWZpbml0aW9uIHN1Y2ggdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyBpdCB3b3VsZCBvbmx5IGRlcXVldWUgYW5kIGFkZCBpdHNlbGYgYXMgbW9kdWxlIHNjb3BlIHRvIGFsbCBvZiBpdHMgZGVjbGFyYXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgb25seSBpZiAgaWYgYWxsIG9mIGl0cyBkZWNsYXJhdGlvbnMgaGFkIHJlc29sdmVkLiBUaGlzIGNhbGwgcnVucyB0aGUgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gc2VlIGlmIGFueSBtb2R1bGVzIHRoYXQgYXJlIGluIHRoZSBxdWV1ZSBjYW4gYmUgZGVxdWV1ZWQgYW5kIGFkZCBzY29wZSB0b1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVpciBkZWNsYXJhdGlvbnMuXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBjb21wb25lbnQgY29tcGlsYXRpb24gaXMgYXN5bmMsIHRoZW4gdGhlIEBOZ01vZHVsZSBhbm5vdGF0aW9uIHdoaWNoIGRlY2xhcmVzIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgZXhlY3V0ZSBhbmQgc2V0IGFuIG5nU2VsZWN0b3JTY29wZSBwcm9wZXJ0eSBvbiB0aGUgY29tcG9uZW50IHR5cGUuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbXBvbmVudCB0byBwYXRjaCBpdHNlbGYgd2l0aCBkaXJlY3RpdmVEZWZzIGZyb20gdGhlIG1vZHVsZSBhZnRlciBpdFxuICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVzIGNvbXBpbGluZy5cbiAgICAgICAgICAgICAgICBpZiAoaGFzU2VsZWN0b3JTY29wZSh0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZXMgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKHR5cGUubmdTZWxlY3RvclNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUobmdDb21wb25lbnREZWYsIHNjb3Blcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nQ29tcG9uZW50RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gaGFzU2VsZWN0b3JTY29wZShjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50Lm5nU2VsZWN0b3JTY29wZSAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBDb21waWxlIGFuIEFuZ3VsYXIgZGlyZWN0aXZlIGFjY29yZGluZyB0byBpdHMgZGVjb3JhdG9yIG1ldGFkYXRhLCBhbmQgcGF0Y2ggdGhlIHJlc3VsdGluZ1xuICogZGlyZWN0aXZlIGRlZiBvbnRvIHRoZSBjb21wb25lbnQgdHlwZS5cbiAqXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCBjb21waWxhdGlvbiBpcyBub3QgaW1tZWRpYXRlLCBgY29tcGlsZURpcmVjdGl2ZWAgd2lsbCByZXR1cm4gYSBgUHJvbWlzZWAgd2hpY2hcbiAqIHdpbGwgcmVzb2x2ZSB3aGVuIGNvbXBpbGF0aW9uIGNvbXBsZXRlcyBhbmQgdGhlIGRpcmVjdGl2ZSBiZWNvbWVzIHVzYWJsZS5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZURpcmVjdGl2ZSh0eXBlLCBkaXJlY3RpdmUpIHtcbiAgICBsZXQgbmdEaXJlY3RpdmVEZWYgPSBudWxsO1xuICAgIGFkZERpcmVjdGl2ZUZhY3RvcnlEZWYodHlwZSwgZGlyZWN0aXZlIHx8IHt9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfRElSX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0RpcmVjdGl2ZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGBkaXJlY3RpdmVgIGNhbiBiZSBudWxsIGluIHRoZSBjYXNlIG9mIGFic3RyYWN0IGRpcmVjdGl2ZXMgYXMgYSBiYXNlIGNsYXNzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB1c2UgYEBEaXJlY3RpdmUoKWAgd2l0aCBubyBzZWxlY3Rvci4gSW4gdGhhdCBjYXNlLCBwYXNzIGVtcHR5IG9iamVjdCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBgZGlyZWN0aXZlTWV0YWRhdGFgIGZ1bmN0aW9uIGluc3RlYWQgb2YgbnVsbC5cbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gZ2V0RGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgZGlyZWN0aXZlIHx8IHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0RpcmVjdGl2ZURlZiA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmNvbXBpbGVEaXJlY3RpdmUoYW5ndWxhckNvcmVFbnYsIG1ldGEuc291cmNlTWFwVXJsLCBtZXRhLm1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0RpcmVjdGl2ZURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgY29uc3QgbmFtZSA9IHR5cGUgJiYgdHlwZS5uYW1lO1xuICAgIGNvbnN0IHNvdXJjZU1hcFVybCA9IGBuZzovLy8ke25hbWV9L8m1ZGlyLmpzYDtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZSB9KTtcbiAgICBjb25zdCBmYWNhZGUgPSBkaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSk7XG4gICAgZmFjYWRlLnR5cGVTb3VyY2VTcGFuID0gY29tcGlsZXIuY3JlYXRlUGFyc2VTb3VyY2VTcGFuKCdEaXJlY3RpdmUnLCBuYW1lLCBzb3VyY2VNYXBVcmwpO1xuICAgIGlmIChmYWNhZGUudXNlc0luaGVyaXRhbmNlKSB7XG4gICAgICAgIGFkZERpcmVjdGl2ZURlZlRvVW5kZWNvcmF0ZWRQYXJlbnRzKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXRhZGF0YTogZmFjYWRlLCBzb3VyY2VNYXBVcmwgfTtcbn1cbmZ1bmN0aW9uIGFkZERpcmVjdGl2ZUZhY3RvcnlEZWYodHlwZSwgbWV0YWRhdGEpIHtcbiAgICBsZXQgbmdGYWN0b3J5RGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfRkFDVE9SWV9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdGYWN0b3J5RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGdldERpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnZGlyZWN0aXZlJywgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0ZhY3RvcnlEZWYgPSBjb21waWxlci5jb21waWxlRmFjdG9yeShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7dHlwZS5uYW1lfS/JtWZhYy5qc2AsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWV0YS5tZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZXRhLm1ldGFkYXRhLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBpbGVyLkZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdGYWN0b3J5RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG4vKipcbiAqIEV4dHJhY3QgdGhlIGBSM0RpcmVjdGl2ZU1ldGFkYXRhYCBmb3IgYSBwYXJ0aWN1bGFyIGRpcmVjdGl2ZSAoZWl0aGVyIGEgYERpcmVjdGl2ZWAgb3IgYVxuICogYENvbXBvbmVudGApLlxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSkge1xuICAgIC8vIFJlZmxlY3QgaW5wdXRzIGFuZCBvdXRwdXRzLlxuICAgIGNvbnN0IHJlZmxlY3QgPSBnZXRSZWZsZWN0KCk7XG4gICAgY29uc3QgcHJvcE1ldGFkYXRhID0gcmVmbGVjdC5vd25Qcm9wTWV0YWRhdGEodHlwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBzZWxlY3RvcjogbWV0YWRhdGEuc2VsZWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFkYXRhLnNlbGVjdG9yIDogbnVsbCxcbiAgICAgICAgaG9zdDogbWV0YWRhdGEuaG9zdCB8fCBFTVBUWV9PQkosXG4gICAgICAgIHByb3BNZXRhZGF0YTogcHJvcE1ldGFkYXRhLFxuICAgICAgICBpbnB1dHM6IG1ldGFkYXRhLmlucHV0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgb3V0cHV0czogbWV0YWRhdGEub3V0cHV0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgcXVlcmllczogZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzQ29udGVudFF1ZXJ5KSxcbiAgICAgICAgbGlmZWN5Y2xlOiB7IHVzZXNPbkNoYW5nZXM6IHJlZmxlY3QuaGFzTGlmZWN5Y2xlSG9vayh0eXBlLCAnbmdPbkNoYW5nZXMnKSB9LFxuICAgICAgICB0eXBlU291cmNlU3BhbjogbnVsbCxcbiAgICAgICAgdXNlc0luaGVyaXRhbmNlOiAhZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCh0eXBlKSxcbiAgICAgICAgZXhwb3J0QXM6IGV4dHJhY3RFeHBvcnRBcyhtZXRhZGF0YS5leHBvcnRBcyksXG4gICAgICAgIHByb3ZpZGVyczogbWV0YWRhdGEucHJvdmlkZXJzIHx8IG51bGwsXG4gICAgICAgIHZpZXdRdWVyaWVzOiBleHRyYWN0UXVlcmllc01ldGFkYXRhKHR5cGUsIHByb3BNZXRhZGF0YSwgaXNWaWV3UXVlcnkpXG4gICAgfTtcbn1cbi8qKlxuICogQWRkcyBhIGRpcmVjdGl2ZSBkZWZpbml0aW9uIHRvIGFsbCBwYXJlbnQgY2xhc3NlcyBvZiBhIHR5cGUgdGhhdCBkb24ndCBoYXZlIGFuIEFuZ3VsYXIgZGVjb3JhdG9yLlxuICovXG5mdW5jdGlvbiBhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyh0eXBlKSB7XG4gICAgY29uc3Qgb2JqUHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICBsZXQgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtcbiAgICAvLyBHbyB1cCB0aGUgcHJvdG90eXBlIHVudGlsIHdlIGhpdCBgT2JqZWN0YC5cbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gb2JqUHJvdG90eXBlKSB7XG4gICAgICAgIC8vIFNpbmNlIGluaGVyaXRhbmNlIHdvcmtzIGlmIHRoZSBjbGFzcyB3YXMgYW5ub3RhdGVkIGFscmVhZHksIHdlIG9ubHkgbmVlZCB0byBhZGRcbiAgICAgICAgLy8gdGhlIGRlZiBpZiB0aGVyZSBhcmUgbm8gYW5ub3RhdGlvbnMgYW5kIHRoZSBkZWYgaGFzbid0IGJlZW4gY3JlYXRlZCBhbHJlYWR5LlxuICAgICAgICBpZiAoIWdldERpcmVjdGl2ZURlZihwYXJlbnQpICYmICFnZXRDb21wb25lbnREZWYocGFyZW50KSAmJlxuICAgICAgICAgICAgc2hvdWxkQWRkQWJzdHJhY3REaXJlY3RpdmUocGFyZW50KSkge1xuICAgICAgICAgICAgY29tcGlsZURpcmVjdGl2ZShwYXJlbnQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1IzUXVlcnlQcmVkaWNhdGUoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJyA/IHNwbGl0QnlDb21tYShzZWxlY3RvcikgOiByZXNvbHZlRm9yd2FyZFJlZihzZWxlY3Rvcik7XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9SM1F1ZXJ5TWV0YWRhdGEocHJvcGVydHlOYW1lLCBhbm4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSxcbiAgICAgICAgcHJlZGljYXRlOiBjb252ZXJ0VG9SM1F1ZXJ5UHJlZGljYXRlKGFubi5zZWxlY3RvciksXG4gICAgICAgIGRlc2NlbmRhbnRzOiBhbm4uZGVzY2VuZGFudHMsXG4gICAgICAgIGZpcnN0OiBhbm4uZmlyc3QsXG4gICAgICAgIHJlYWQ6IGFubi5yZWFkID8gYW5uLnJlYWQgOiBudWxsLFxuICAgICAgICBzdGF0aWM6ICEhYW5uLnN0YXRpYyxcbiAgICAgICAgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk6ICEhYW5uLmVtaXREaXN0aW5jdENoYW5nZXNPbmx5LFxuICAgIH07XG59XG5mdW5jdGlvbiBleHRyYWN0UXVlcmllc01ldGFkYXRhKHR5cGUsIHByb3BNZXRhZGF0YSwgaXNRdWVyeUFubikge1xuICAgIGNvbnN0IHF1ZXJpZXNNZXRhID0gW107XG4gICAgZm9yIChjb25zdCBmaWVsZCBpbiBwcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKHByb3BNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25zID0gcHJvcE1ldGFkYXRhW2ZpZWxkXTtcbiAgICAgICAgICAgIGFubm90YXRpb25zLmZvckVhY2goYW5uID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNRdWVyeUFubihhbm4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5uLnNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGNvbnN0cnVjdCBhIHF1ZXJ5IGZvciB0aGUgcHJvcGVydHkgXCIke2ZpZWxkfVwiIG9mIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcIiR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9XCIgc2luY2UgdGhlIHF1ZXJ5IHNlbGVjdG9yIHdhc24ndCBkZWZpbmVkLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbm5vdGF0aW9ucy5zb21lKGlzSW5wdXRBbm5vdGF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29tYmluZSBASW5wdXQgZGVjb3JhdG9ycyB3aXRoIHF1ZXJ5IGRlY29yYXRvcnNgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzTWV0YS5wdXNoKGNvbnZlcnRUb1IzUXVlcnlNZXRhZGF0YShmaWVsZCwgYW5uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJpZXNNZXRhO1xufVxuZnVuY3Rpb24gZXh0cmFjdEV4cG9ydEFzKGV4cG9ydEFzKSB7XG4gICAgcmV0dXJuIGV4cG9ydEFzID09PSB1bmRlZmluZWQgPyBudWxsIDogc3BsaXRCeUNvbW1hKGV4cG9ydEFzKTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFF1ZXJ5KHZhbHVlKSB7XG4gICAgY29uc3QgbmFtZSA9IHZhbHVlLm5nTWV0YWRhdGFOYW1lO1xuICAgIHJldHVybiBuYW1lID09PSAnQ29udGVudENoaWxkJyB8fCBuYW1lID09PSAnQ29udGVudENoaWxkcmVuJztcbn1cbmZ1bmN0aW9uIGlzVmlld1F1ZXJ5KHZhbHVlKSB7XG4gICAgY29uc3QgbmFtZSA9IHZhbHVlLm5nTWV0YWRhdGFOYW1lO1xuICAgIHJldHVybiBuYW1lID09PSAnVmlld0NoaWxkJyB8fCBuYW1lID09PSAnVmlld0NoaWxkcmVuJztcbn1cbmZ1bmN0aW9uIGlzSW5wdXRBbm5vdGF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm5nTWV0YWRhdGFOYW1lID09PSAnSW5wdXQnO1xufVxuZnVuY3Rpb24gc3BsaXRCeUNvbW1hKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNwbGl0KCcsJykubWFwKHBpZWNlID0+IHBpZWNlLnRyaW0oKSk7XG59XG5jb25zdCBMSUZFQ1lDTEVfSE9PS1MgPSBbXG4gICAgJ25nT25DaGFuZ2VzJywgJ25nT25Jbml0JywgJ25nT25EZXN0cm95JywgJ25nRG9DaGVjaycsICduZ0FmdGVyVmlld0luaXQnLCAnbmdBZnRlclZpZXdDaGVja2VkJyxcbiAgICAnbmdBZnRlckNvbnRlbnRJbml0JywgJ25nQWZ0ZXJDb250ZW50Q2hlY2tlZCdcbl07XG5mdW5jdGlvbiBzaG91bGRBZGRBYnN0cmFjdERpcmVjdGl2ZSh0eXBlKSB7XG4gICAgY29uc3QgcmVmbGVjdCA9IGdldFJlZmxlY3QoKTtcbiAgICBpZiAoTElGRUNZQ0xFX0hPT0tTLnNvbWUoaG9va05hbWUgPT4gcmVmbGVjdC5oYXNMaWZlY3ljbGVIb29rKHR5cGUsIGhvb2tOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHJlZmxlY3QucHJvcE1ldGFkYXRhKHR5cGUpO1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gcHJvcE1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25zID0gcHJvcE1ldGFkYXRhW2ZpZWxkXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbm5vdGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGFubm90YXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGFOYW1lID0gY3VycmVudC5uZ01ldGFkYXRhTmFtZTtcbiAgICAgICAgICAgIGlmIChpc0lucHV0QW5ub3RhdGlvbihjdXJyZW50KSB8fCBpc0NvbnRlbnRRdWVyeShjdXJyZW50KSB8fCBpc1ZpZXdRdWVyeShjdXJyZW50KSB8fFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhTmFtZSA9PT0gJ091dHB1dCcgfHwgbWV0YWRhdGFOYW1lID09PSAnSG9zdEJpbmRpbmcnIHx8XG4gICAgICAgICAgICAgICAgbWV0YWRhdGFOYW1lID09PSAnSG9zdExpc3RlbmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBjb21waWxlUGlwZSh0eXBlLCBtZXRhKSB7XG4gICAgbGV0IG5nUGlwZURlZiA9IG51bGw7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0UGlwZU1ldGFkYXRhKHR5cGUsIG1ldGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdwaXBlJywgdHlwZTogbWV0YWRhdGEudHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ0ZhY3RvcnlEZWYgPSBjb21waWxlci5jb21waWxlRmFjdG9yeShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bWV0YWRhdGEubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1ldGFkYXRhLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBpbGVyLkZhY3RvcnlUYXJnZXQuUGlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nRmFjdG9yeURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfUElQRV9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdQaXBlRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBnZXRQaXBlTWV0YWRhdGEodHlwZSwgbWV0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ3BpcGUnLCB0eXBlOiBtZXRhZGF0YS50eXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nUGlwZURlZiA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmNvbXBpbGVQaXBlKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttZXRhZGF0YS5uYW1lfS/JtXBpcGUuanNgLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdQaXBlRGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0UGlwZU1ldGFkYXRhKHR5cGUsIG1ldGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgIHBpcGVOYW1lOiBtZXRhLm5hbWUsXG4gICAgICAgIHB1cmU6IG1ldGEucHVyZSAhPT0gdW5kZWZpbmVkID8gbWV0YS5wdXJlIDogdHJ1ZVxuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUeXBlIG9mIHRoZSBEaXJlY3RpdmUgbWV0YWRhdGEuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBEaXJlY3RpdmUgPSBtYWtlRGVjb3JhdG9yKCdEaXJlY3RpdmUnLCAoZGlyID0ge30pID0+IGRpciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlRGlyZWN0aXZlKHR5cGUsIG1ldGEpKTtcbi8qKlxuICogQ29tcG9uZW50IGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ29tcG9uZW50ID0gbWFrZURlY29yYXRvcignQ29tcG9uZW50JywgKGMgPSB7fSkgPT4gKE9iamVjdC5hc3NpZ24oeyBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQgfSwgYykpLCBEaXJlY3RpdmUsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVDb21wb25lbnQodHlwZSwgbWV0YSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQaXBlID0gbWFrZURlY29yYXRvcignUGlwZScsIChwKSA9PiAoT2JqZWN0LmFzc2lnbih7IHB1cmU6IHRydWUgfSwgcCkpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVQaXBlKHR5cGUsIG1ldGEpKTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSW5wdXQgPSBtYWtlUHJvcERlY29yYXRvcignSW5wdXQnLCAoYmluZGluZ1Byb3BlcnR5TmFtZSkgPT4gKHsgYmluZGluZ1Byb3BlcnR5TmFtZSB9KSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE91dHB1dCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdPdXRwdXQnLCAoYmluZGluZ1Byb3BlcnR5TmFtZSkgPT4gKHsgYmluZGluZ1Byb3BlcnR5TmFtZSB9KSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEhvc3RCaW5kaW5nID0gbWFrZVByb3BEZWNvcmF0b3IoJ0hvc3RCaW5kaW5nJywgKGhvc3RQcm9wZXJ0eU5hbWUpID0+ICh7IGhvc3RQcm9wZXJ0eU5hbWUgfSkpO1xuLyoqXG4gKiBEZWNvcmF0b3IgdGhhdCBiaW5kcyBhIERPTSBldmVudCB0byBhIGhvc3QgbGlzdGVuZXIgYW5kIHN1cHBsaWVzIGNvbmZpZ3VyYXRpb24gbWV0YWRhdGEuXG4gKiBBbmd1bGFyIGludm9rZXMgdGhlIHN1cHBsaWVkIGhhbmRsZXIgbWV0aG9kIHdoZW4gdGhlIGhvc3QgZWxlbWVudCBlbWl0cyB0aGUgc3BlY2lmaWVkIGV2ZW50LFxuICogYW5kIHVwZGF0ZXMgdGhlIGJvdW5kIGVsZW1lbnQgd2l0aCB0aGUgcmVzdWx0LlxuICpcbiAqIElmIHRoZSBoYW5kbGVyIG1ldGhvZCByZXR1cm5zIGZhbHNlLCBhcHBsaWVzIGBwcmV2ZW50RGVmYXVsdGAgb24gdGhlIGJvdW5kIGVsZW1lbnQuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVjbGFyZXMgYSBkaXJlY3RpdmVcbiAqIHRoYXQgYXR0YWNoZXMgYSBjbGljayBsaXN0ZW5lciB0byBhIGJ1dHRvbiBhbmQgY291bnRzIGNsaWNrcy5cbiAqXG4gKiBgYGB0c1xuICogQERpcmVjdGl2ZSh7c2VsZWN0b3I6ICdidXR0b25bY291bnRpbmddJ30pXG4gKiBjbGFzcyBDb3VudENsaWNrcyB7XG4gKiAgIG51bWJlck9mQ2xpY2tzID0gMDtcbiAqXG4gKiAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJywgWyckZXZlbnQudGFyZ2V0J10pXG4gKiAgIG9uQ2xpY2soYnRuKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ2J1dHRvbicsIGJ0biwgJ251bWJlciBvZiBjbGlja3M6JywgdGhpcy5udW1iZXJPZkNsaWNrcysrKTtcbiAqICAgfVxuICogfVxuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHRlbXBsYXRlOiAnPGJ1dHRvbiBjb3VudGluZz5JbmNyZW1lbnQ8L2J1dHRvbj4nLFxuICogfSlcbiAqIGNsYXNzIEFwcCB7fVxuICpcbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSByZWdpc3RlcnMgYW5vdGhlciBET00gZXZlbnQgaGFuZGxlciB0aGF0IGxpc3RlbnMgZm9yIGBFbnRlcmAga2V5LXByZXNzXG4gKiBldmVudHMgb24gdGhlIGdsb2JhbCBgd2luZG93YC5cbiAqIGBgYCB0c1xuICogaW1wb3J0IHsgSG9zdExpc3RlbmVyLCBDb21wb25lbnQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHRlbXBsYXRlOiBgPGgxPkhlbGxvLCB5b3UgaGF2ZSBwcmVzc2VkIGVudGVyIHt7Y291bnRlcn19IG51bWJlciBvZiB0aW1lcyE8L2gxPiBQcmVzcyBlbnRlciBrZXlcbiAqIHRvIGluY3JlbWVudCB0aGUgY291bnRlci5cbiAqICAgPGJ1dHRvbiAoY2xpY2spPVwicmVzZXRDb3VudGVyKClcIj5SZXNldCBDb3VudGVyPC9idXR0b24+YFxuICogfSlcbiAqIGNsYXNzIEFwcENvbXBvbmVudCB7XG4gKiAgIGNvdW50ZXIgPSAwO1xuICogICBASG9zdExpc3RlbmVyKCd3aW5kb3c6a2V5ZG93bi5lbnRlcicsIFsnJGV2ZW50J10pXG4gKiAgIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAqICAgICB0aGlzLmNvdW50ZXIrKztcbiAqICAgfVxuICogICByZXNldENvdW50ZXIoKSB7XG4gKiAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBUaGUgbGlzdCBvZiB2YWxpZCBrZXkgbmFtZXMgZm9yIGBrZXlkb3duYCBhbmQgYGtleXVwYCBldmVudHNcbiAqIGNhbiBiZSBmb3VuZCBoZXJlOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy1rZXkvI25hbWVkLWtleS1hdHRyaWJ1dGUtdmFsdWVzXG4gKlxuICogTm90ZSB0aGF0IGtleXMgY2FuIGFsc28gYmUgY29tYmluZWQsIGUuZy4gYEBIb3N0TGlzdGVuZXIoJ2tleWRvd24uc2hpZnQuYScpYC5cbiAqXG4gKiBUaGUgZ2xvYmFsIHRhcmdldCBuYW1lcyB0aGF0IGNhbiBiZSB1c2VkIHRvIHByZWZpeCBhbiBldmVudCBuYW1lIGFyZVxuICogYGRvY3VtZW50OmAsIGB3aW5kb3c6YCBhbmQgYGJvZHk6YC5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBIb3N0TGlzdGVuZXIgPSBtYWtlUHJvcERlY29yYXRvcignSG9zdExpc3RlbmVyJywgKGV2ZW50TmFtZSwgYXJncykgPT4gKHsgZXZlbnROYW1lLCBhcmdzIH0pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE5nTW9kdWxlID0gbWFrZURlY29yYXRvcignTmdNb2R1bGUnLCAobmdNb2R1bGUpID0+IG5nTW9kdWxlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXG4vKipcbiAqIERlY29yYXRvciB0aGF0IG1hcmtzIHRoZSBmb2xsb3dpbmcgY2xhc3MgYXMgYW4gTmdNb2R1bGUsIGFuZCBzdXBwbGllc1xuICogY29uZmlndXJhdGlvbiBtZXRhZGF0YSBmb3IgaXQuXG4gKlxuICogKiBUaGUgYGRlY2xhcmF0aW9uc2AgYW5kIGBlbnRyeUNvbXBvbmVudHNgIG9wdGlvbnMgY29uZmlndXJlIHRoZSBjb21waWxlclxuICogd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJlbG9uZ3MgdG8gdGhlIE5nTW9kdWxlLlxuICogKiBUaGUgYHByb3ZpZGVyc2Agb3B0aW9ucyBjb25maWd1cmVzIHRoZSBOZ01vZHVsZSdzIGluamVjdG9yIHRvIHByb3ZpZGVcbiAqIGRlcGVuZGVuY2llcyB0aGUgTmdNb2R1bGUgbWVtYmVycy5cbiAqICogVGhlIGBpbXBvcnRzYCBhbmQgYGV4cG9ydHNgIG9wdGlvbnMgYnJpbmcgaW4gbWVtYmVycyBmcm9tIG90aGVyIG1vZHVsZXMsIGFuZCBtYWtlXG4gKiB0aGlzIG1vZHVsZSdzIG1lbWJlcnMgYXZhaWxhYmxlIHRvIG90aGVycy5cbiAqL1xuKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVOZ01vZHVsZSh0eXBlLCBtZXRhKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5vb3AoLi4uYXJncykge1xuICAgIC8vIERvIG5vdGhpbmcuXG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgZXhpc3RlbmNlIG9mIHRoaXMgY29uc3RhbnQgKGluIHRoaXMgcGFydGljdWxhciBmaWxlKSBpbmZvcm1zIHRoZSBBbmd1bGFyIGNvbXBpbGVyIHRoYXQgdGhlXG4gKiBjdXJyZW50IHByb2dyYW0gaXMgYWN0dWFsbHkgQGFuZ3VsYXIvY29yZSwgd2hpY2ggbmVlZHMgdG8gYmUgY29tcGlsZWQgc3BlY2lhbGx5LlxuICovXG5jb25zdCBJVFNfSlVTVF9BTkdVTEFSID0gdHJ1ZTtcblxuLyoqXG4gKiBBIFtESSB0b2tlbl0oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4gXCJESSB0b2tlbiBkZWZpbml0aW9uXCIpIHRoYXQgeW91IGNhbiB1c2UgdG8gcHJvdmlkZVxuICogb25lIG9yIG1vcmUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb25zLlxuICpcbiAqIFRoZSBwcm92aWRlZCBmdW5jdGlvbnMgYXJlIGluamVjdGVkIGF0IGFwcGxpY2F0aW9uIHN0YXJ0dXAgYW5kIGV4ZWN1dGVkIGR1cmluZ1xuICogYXBwIGluaXRpYWxpemF0aW9uLiBJZiBhbnkgb2YgdGhlc2UgZnVuY3Rpb25zIHJldHVybnMgYSBQcm9taXNlIG9yIGFuIE9ic2VydmFibGUsIGluaXRpYWxpemF0aW9uXG4gKiBkb2VzIG5vdCBjb21wbGV0ZSB1bnRpbCB0aGUgUHJvbWlzZSBpcyByZXNvbHZlZCBvciB0aGUgT2JzZXJ2YWJsZSBpcyBjb21wbGV0ZWQuXG4gKlxuICogWW91IGNhbiwgZm9yIGV4YW1wbGUsIGNyZWF0ZSBhIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCBsb2FkcyBsYW5ndWFnZSBkYXRhXG4gKiBvciBhbiBleHRlcm5hbCBjb25maWd1cmF0aW9uLCBhbmQgcHJvdmlkZSB0aGF0IGZ1bmN0aW9uIHRvIHRoZSBgQVBQX0lOSVRJQUxJWkVSYCB0b2tlbi5cbiAqIFRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBkdXJpbmcgdGhlIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCBwcm9jZXNzLFxuICogYW5kIHRoZSBuZWVkZWQgZGF0YSBpcyBhdmFpbGFibGUgb24gc3RhcnR1cC5cbiAqXG4gKiBAc2VlIGBBcHBsaWNhdGlvbkluaXRTdGF0dXNgXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgaWxsdXN0cmF0ZXMgaG93IHRvIGNvbmZpZ3VyZSBhIG11bHRpLXByb3ZpZGVyIHVzaW5nIGBBUFBfSU5JVElBTElaRVJgIHRva2VuXG4gKiBhbmQgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9taXNlLlxuICpcbiAqIGBgYFxuICogIGZ1bmN0aW9uIGluaXRpYWxpemVBcHAoKTogUHJvbWlzZTxhbnk+IHtcbiAqICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gKiAgICAgIC8vIERvIHNvbWUgYXN5bmNocm9ub3VzIHN0dWZmXG4gKiAgICAgIHJlc29sdmUoKTtcbiAqICAgIH0pO1xuICogIH1cbiAqXG4gKiAgQE5nTW9kdWxlKHtcbiAqICAgaW1wb3J0czogW0Jyb3dzZXJNb2R1bGVdLFxuICogICBkZWNsYXJhdGlvbnM6IFtBcHBDb21wb25lbnRdLFxuICogICBib290c3RyYXA6IFtBcHBDb21wb25lbnRdLFxuICogICBwcm92aWRlcnM6IFt7XG4gKiAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICogICAgIHVzZUZhY3Rvcnk6ICgpID0+IGluaXRpYWxpemVBcHAsXG4gKiAgICAgbXVsdGk6IHRydWVcbiAqICAgIH1dXG4gKiAgIH0pXG4gKiAgZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fVxuICogYGBgXG4gKlxuICogSXQncyBhbHNvIHBvc3NpYmxlIHRvIGNvbmZpZ3VyZSBhIG11bHRpLXByb3ZpZGVyIHVzaW5nIGBBUFBfSU5JVElBTElaRVJgIHRva2VuIGFuZCBhIGZ1bmN0aW9uXG4gKiByZXR1cm5pbmcgYW4gb2JzZXJ2YWJsZSwgc2VlIGFuIGV4YW1wbGUgYmVsb3cuIE5vdGU6IHRoZSBgSHR0cENsaWVudGAgaW4gdGhpcyBleGFtcGxlIGlzIHVzZWQgZm9yXG4gKiBkZW1vIHB1cnBvc2VzIHRvIGlsbHVzdHJhdGUgaG93IHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGNhbiB3b3JrIHdpdGggb3RoZXIgcHJvdmlkZXJzIGF2YWlsYWJsZVxuICogdGhyb3VnaCBESS5cbiAqXG4gKiBgYGBcbiAqICBmdW5jdGlvbiBpbml0aWFsaXplQXBwRmFjdG9yeShodHRwQ2xpZW50OiBIdHRwQ2xpZW50KTogKCkgPT4gT2JzZXJ2YWJsZTxhbnk+IHtcbiAqICAgcmV0dXJuICgpID0+IGh0dHBDbGllbnQuZ2V0KFwiaHR0cHM6Ly9zb21lVXJsLmNvbS9hcGkvdXNlclwiKVxuICogICAgIC5waXBlKFxuICogICAgICAgIHRhcCh1c2VyID0+IHsgLi4uIH0pXG4gKiAgICAgKTtcbiAqICB9XG4gKlxuICogIEBOZ01vZHVsZSh7XG4gKiAgICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZSwgSHR0cENsaWVudE1vZHVsZV0sXG4gKiAgICBkZWNsYXJhdGlvbnM6IFtBcHBDb21wb25lbnRdLFxuICogICAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgIHByb3ZpZGVyczogW3tcbiAqICAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICogICAgICB1c2VGYWN0b3J5OiBpbml0aWFsaXplQXBwRmFjdG9yeSxcbiAqICAgICAgZGVwczogW0h0dHBDbGllbnRdLFxuICogICAgICBtdWx0aTogdHJ1ZVxuICogICAgfV1cbiAqICB9KVxuICogIGV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge31cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0lOSVRJQUxJWkVSID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBsaWNhdGlvbiBJbml0aWFsaXplcicpO1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQgcmVmbGVjdHMgdGhlIHN0YXRlIG9mIHJ1bm5pbmcge0BsaW5rIEFQUF9JTklUSUFMSVpFUn0gZnVuY3Rpb25zLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgQXBwbGljYXRpb25Jbml0U3RhdHVzIHtcbiAgICBjb25zdHJ1Y3RvcihhcHBJbml0cykge1xuICAgICAgICB0aGlzLmFwcEluaXRzID0gYXBwSW5pdHM7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IG5vb3A7XG4gICAgICAgIHRoaXMucmVqZWN0ID0gbm9vcDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kb25lUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzO1xuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgcnVuSW5pdGlhbGl6ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFzeW5jSW5pdFByb21pc2VzID0gW107XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5hcHBJbml0cykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFwcEluaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdFJlc3VsdCA9IHRoaXMuYXBwSW5pdHNbaV0oKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKGluaXRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSW5pdFByb21pc2VzLnB1c2goaW5pdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZShpbml0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZhYmxlQXNQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFJlc3VsdC5zdWJzY3JpYmUoeyBjb21wbGV0ZTogcmVzb2x2ZSwgZXJyb3I6IHJlamVjdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSW5pdFByb21pc2VzLnB1c2gob2JzZXJ2YWJsZUFzUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFByb21pc2UuYWxsKGFzeW5jSW5pdFByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFzeW5jSW5pdFByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG59XG5BcHBsaWNhdGlvbkluaXRTdGF0dXMuybVmYWMgPSBmdW5jdGlvbiBBcHBsaWNhdGlvbkluaXRTdGF0dXNfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgQXBwbGljYXRpb25Jbml0U3RhdHVzKSjJtcm1aW5qZWN0KEFQUF9JTklUSUFMSVpFUiwgOCkpOyB9O1xuQXBwbGljYXRpb25Jbml0U3RhdHVzLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQXBwbGljYXRpb25Jbml0U3RhdHVzLCBmYWN0b3J5OiBBcHBsaWNhdGlvbkluaXRTdGF0dXMuybVmYWMsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbeyBwcm92aWRlZEluOiAncm9vdCcgfV1cbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtBUFBfSU5JVElBTElaRVJdXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0sIG51bGwpO1xufSkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgcmVwcmVzZW50aW5nIGEgdW5pcXVlIHN0cmluZyBJRCwgdXNlZFxuICogcHJpbWFyaWx5IGZvciBwcmVmaXhpbmcgYXBwbGljYXRpb24gYXR0cmlidXRlcyBhbmQgQ1NTIHN0eWxlcyB3aGVuXG4gKiB7QGxpbmsgVmlld0VuY2Fwc3VsYXRpb24jRW11bGF0ZWQgVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWR9IGlzIGJlaW5nIHVzZWQuXG4gKlxuICogQlkgZGVmYXVsdCwgdGhlIHZhbHVlIGlzIHJhbmRvbWx5IGdlbmVyYXRlZCBhbmQgYXNzaWduZWQgdG8gdGhlIGFwcGxpY2F0aW9uIGJ5IEFuZ3VsYXIuXG4gKiBUbyBwcm92aWRlIGEgY3VzdG9tIElEIHZhbHVlLCB1c2UgYSBESSBwcm92aWRlciA8IS0tIFRPRE86IHByb3ZpZGVyIC0tPiB0byBjb25maWd1cmVcbiAqIHRoZSByb290IHtAbGluayBJbmplY3Rvcn0gdGhhdCB1c2VzIHRoaXMgdG9rZW4uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBUFBfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FwcElkJywge1xuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnksXG59KTtcbmZ1bmN0aW9uIF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gYCR7X3JhbmRvbUNoYXIoKX0ke19yYW5kb21DaGFyKCl9JHtfcmFuZG9tQ2hhcigpfWA7XG59XG4vKipcbiAqIFByb3ZpZGVycyB0aGF0IGdlbmVyYXRlIGEgcmFuZG9tIGBBUFBfSURfVE9LRU5gLlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBUFBfSURfUkFORE9NX1BST1ZJREVSID0ge1xuICAgIHByb3ZpZGU6IEFQUF9JRCxcbiAgICB1c2VGYWN0b3J5OiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnksXG4gICAgZGVwczogW10sXG59O1xuZnVuY3Rpb24gX3JhbmRvbUNoYXIoKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTcgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNSkpO1xufVxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgaXMgZXhlY3V0ZWQgd2hlbiBhIHBsYXRmb3JtIGlzIGluaXRpYWxpemVkLlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQTEFURk9STV9JTklUSUFMSVpFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSW5pdGlhbGl6ZXInKTtcbi8qKlxuICogQSB0b2tlbiB0aGF0IGluZGljYXRlcyBhbiBvcGFxdWUgcGxhdGZvcm0gSUQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFBMQVRGT1JNX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdQbGF0Zm9ybSBJRCcpO1xuLyoqXG4gKiBBIFtESSB0b2tlbl0oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4gXCJESSB0b2tlbiBkZWZpbml0aW9uXCIpIHRoYXQgcHJvdmlkZXMgYSBzZXQgb2YgY2FsbGJhY2tzIHRvXG4gKiBiZSBjYWxsZWQgZm9yIGV2ZXJ5IGNvbXBvbmVudCB0aGF0IGlzIGJvb3RzdHJhcHBlZC5cbiAqXG4gKiBFYWNoIGNhbGxiYWNrIG11c3QgdGFrZSBhIGBDb21wb25lbnRSZWZgIGluc3RhbmNlIGFuZCByZXR1cm4gbm90aGluZy5cbiAqXG4gKiBgKGNvbXBvbmVudFJlZjogQ29tcG9uZW50UmVmKSA9PiB2b2lkYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0JPT1RTVFJBUF9MSVNURU5FUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignYXBwQm9vdHN0cmFwTGlzdGVuZXInKTtcbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSB0aGF0IGluZGljYXRlcyB0aGUgcm9vdCBkaXJlY3Rvcnkgb2ZcbiAqIHRoZSBhcHBsaWNhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQQUNLQUdFX1JPT1RfVVJMID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBsaWNhdGlvbiBQYWNrYWdlcyBSb290IFVSTCcpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIENvbnNvbGUge1xuICAgIGxvZyhtZXNzYWdlKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvLyBOb3RlOiBmb3IgcmVwb3J0aW5nIGVycm9ycyB1c2UgYERPTS5sb2dFcnJvcigpYCBhcyBpdCBpcyBwbGF0Zm9ybSBzcGVjaWZpY1xuICAgIHdhcm4obWVzc2FnZSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxufVxuQ29uc29sZS7JtWZhYyA9IGZ1bmN0aW9uIENvbnNvbGVfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgQ29uc29sZSkoKTsgfTtcbkNvbnNvbGUuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBDb25zb2xlLCBmYWN0b3J5OiBDb25zb2xlLsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQ29uc29sZSwgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIG51bGwsIG51bGwpO1xufSkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFdvcmsgb3V0IHRoZSBsb2NhbGUgZnJvbSB0aGUgcG90ZW50aWFsIGdsb2JhbCBwcm9wZXJ0aWVzLlxuICpcbiAqICogQ2xvc3VyZSBDb21waWxlcjogdXNlIGBnb29nLmdldExvY2FsZSgpYC5cbiAqICogSXZ5IGVuYWJsZWQ6IHVzZSBgJGxvY2FsaXplLmxvY2FsZWBcbiAqL1xuZnVuY3Rpb24gZ2V0R2xvYmFsTG9jYWxlKCkge1xuICAgIGlmICh0eXBlb2YgbmdJMThuQ2xvc3VyZU1vZGUgIT09ICd1bmRlZmluZWQnICYmIG5nSTE4bkNsb3N1cmVNb2RlICYmXG4gICAgICAgIHR5cGVvZiBnb29nICE9PSAndW5kZWZpbmVkJyAmJiBnb29nLmdldExvY2FsZSgpICE9PSAnZW4nKSB7XG4gICAgICAgIC8vICogVGhlIGRlZmF1bHQgYGdvb2cuZ2V0TG9jYWxlKClgIHZhbHVlIGlzIGBlbmAsIHdoaWxlIEFuZ3VsYXIgdXNlZCBgZW4tVVNgLlxuICAgICAgICAvLyAqIEluIG9yZGVyIHRvIHByZXNlcnZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSB1c2UgQW5ndWxhciBkZWZhdWx0IHZhbHVlIG92ZXJcbiAgICAgICAgLy8gICBDbG9zdXJlIENvbXBpbGVyJ3Mgb25lLlxuICAgICAgICByZXR1cm4gZ29vZy5nZXRMb2NhbGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEtFRVAgYHR5cGVvZiAkbG9jYWxpemUgIT09ICd1bmRlZmluZWQnICYmICRsb2NhbGl6ZS5sb2NhbGVgIElOIFNZTkMgV0lUSCBUSEUgTE9DQUxJWkVcbiAgICAgICAgLy8gQ09NUElMRS1USU1FIElOTElORVIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICogRHVyaW5nIGNvbXBpbGUgdGltZSBpbmxpbmluZyBvZiB0cmFuc2xhdGlvbnMgdGhlIGV4cHJlc3Npb24gd2lsbCBiZSByZXBsYWNlZFxuICAgICAgICAvLyAgIHdpdGggYSBzdHJpbmcgbGl0ZXJhbCB0aGF0IGlzIHRoZSBjdXJyZW50IGxvY2FsZS4gT3RoZXIgZm9ybXMgb2YgdGhpcyBleHByZXNzaW9uIGFyZSBub3RcbiAgICAgICAgLy8gICBndWFyYW50ZWVkIHRvIGJlIHJlcGxhY2VkLlxuICAgICAgICAvL1xuICAgICAgICAvLyAqIER1cmluZyBydW50aW1lIHRyYW5zbGF0aW9uIGV2YWx1YXRpb24sIHRoZSBkZXZlbG9wZXIgaXMgcmVxdWlyZWQgdG8gc2V0IGAkbG9jYWxpemUubG9jYWxlYFxuICAgICAgICAvLyAgIGlmIHJlcXVpcmVkLCBvciBqdXN0IHRvIHByb3ZpZGUgdGhlaXIgb3duIGBMT0NBTEVfSURgIHByb3ZpZGVyLlxuICAgICAgICByZXR1cm4gKHR5cGVvZiAkbG9jYWxpemUgIT09ICd1bmRlZmluZWQnICYmICRsb2NhbGl6ZS5sb2NhbGUpIHx8IERFRkFVTFRfTE9DQUxFX0lEO1xuICAgIH1cbn1cbi8qKlxuICogUHJvdmlkZSB0aGlzIHRva2VuIHRvIHNldCB0aGUgbG9jYWxlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gKiBJdCBpcyB1c2VkIGZvciBpMThuIGV4dHJhY3Rpb24sIGJ5IGkxOG4gcGlwZXMgKERhdGVQaXBlLCBJMThuUGx1cmFsUGlwZSwgQ3VycmVuY3lQaXBlLFxuICogRGVjaW1hbFBpcGUgYW5kIFBlcmNlbnRQaXBlKSBhbmQgYnkgSUNVIGV4cHJlc3Npb25zLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLWxvY2FsZS1pZCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgTE9DQUxFX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBMT0NBTEVfSUQsIHVzZVZhbHVlOiAnZW4tVVMnIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgTE9DQUxFX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdMb2NhbGVJZCcsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogKCkgPT4gaW5qZWN0KExPQ0FMRV9JRCwgSW5qZWN0RmxhZ3MuT3B0aW9uYWwgfCBJbmplY3RGbGFncy5Ta2lwU2VsZikgfHwgZ2V0R2xvYmFsTG9jYWxlKCksXG59KTtcbi8qKlxuICogUHJvdmlkZSB0aGlzIHRva2VuIHRvIHNldCB0aGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIHlvdXIgYXBwbGljYXRpb24gdXNlcyBmb3JcbiAqIEN1cnJlbmN5UGlwZSB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbmN5IGNvZGUgcGFzc2VkIGludG8gaXQuIFRoaXMgaXMgb25seSB1c2VkIGJ5XG4gKiBDdXJyZW5jeVBpcGUgYW5kIGhhcyBubyByZWxhdGlvbiB0byBsb2NhbGUgY3VycmVuY3kuIERlZmF1bHRzIHRvIFVTRCBpZiBub3QgY29uZmlndXJlZC5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuLWNvbW1vbi1sb2NhbGUtaWQpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBpcy1oZWxwZnVsXCI+XG4gKlxuICogKipEZXByZWNhdGlvbiBub3RpY2U6KipcbiAqXG4gKiBUaGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIGlzIGN1cnJlbnRseSBhbHdheXMgYFVTRGAgYnV0IHRoaXMgaXMgZGVwcmVjYXRlZCBmcm9tIHY5LlxuICpcbiAqICoqSW4gdjEwIHRoZSBkZWZhdWx0IGN1cnJlbmN5IGNvZGUgd2lsbCBiZSB0YWtlbiBmcm9tIHRoZSBjdXJyZW50IGxvY2FsZS4qKlxuICpcbiAqIElmIHlvdSBuZWVkIHRoZSBwcmV2aW91cyBiZWhhdmlvciB0aGVuIHNldCBpdCBieSBjcmVhdGluZyBhIGBERUZBVUxUX0NVUlJFTkNZX0NPREVgIHByb3ZpZGVyIGluXG4gKiB5b3VyIGFwcGxpY2F0aW9uIGBOZ01vZHVsZWA6XG4gKlxuICogYGBgdHNcbiAqIHtwcm92aWRlOiBERUZBVUxUX0NVUlJFTkNZX0NPREUsIHVzZVZhbHVlOiAnVVNEJ31cbiAqIGBgYFxuICpcbiAqIDwvZGl2PlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IERFRkFVTFRfQ1VSUkVOQ1lfQ09ERSwgdXNlVmFsdWU6ICdFVVInIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgREVGQVVMVF9DVVJSRU5DWV9DT0RFID0gbmV3IEluamVjdGlvblRva2VuKCdEZWZhdWx0Q3VycmVuY3lDb2RlJywge1xuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiAoKSA9PiBVU0RfQ1VSUkVOQ1lfQ09ERSxcbn0pO1xuLyoqXG4gKiBVc2UgdGhpcyB0b2tlbiBhdCBib290c3RyYXAgdG8gcHJvdmlkZSB0aGUgY29udGVudCBvZiB5b3VyIHRyYW5zbGF0aW9uIGZpbGUgKGB4dGJgLFxuICogYHhsZmAgb3IgYHhsZjJgKSB3aGVuIHlvdSB3YW50IHRvIHRyYW5zbGF0ZSB5b3VyIGFwcGxpY2F0aW9uIGluIGFub3RoZXIgbGFuZ3VhZ2UuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFRSQU5TTEFUSU9OUyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiAvLyBjb250ZW50IG9mIHlvdXIgdHJhbnNsYXRpb24gZmlsZVxuICogY29uc3QgdHJhbnNsYXRpb25zID0gJy4uLi4nO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBUUkFOU0xBVElPTlMsIHVzZVZhbHVlOiB0cmFuc2xhdGlvbnMgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBUUkFOU0xBVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RyYW5zbGF0aW9ucycpO1xuLyoqXG4gKiBQcm92aWRlIHRoaXMgdG9rZW4gYXQgYm9vdHN0cmFwIHRvIHNldCB0aGUgZm9ybWF0IG9mIHlvdXIge0BsaW5rIFRSQU5TTEFUSU9OU306IGB4dGJgLFxuICogYHhsZmAgb3IgYHhsZjJgLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLW1lcmdlKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBUUkFOU0xBVElPTlNfRk9STUFUIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBUUkFOU0xBVElPTlNfRk9STUFULCB1c2VWYWx1ZTogJ3hsZicgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBUUkFOU0xBVElPTlNfRk9STUFUID0gbmV3IEluamVjdGlvblRva2VuKCdUcmFuc2xhdGlvbnNGb3JtYXQnKTtcbi8qKlxuICogVXNlIHRoaXMgZW51bSBhdCBib290c3RyYXAgYXMgYW4gb3B0aW9uIG9mIGBib290c3RyYXBNb2R1bGVgIHRvIGRlZmluZSB0aGUgc3RyYXRlZ3lcbiAqIHRoYXQgdGhlIGNvbXBpbGVyIHNob3VsZCB1c2UgaW4gY2FzZSBvZiBtaXNzaW5nIHRyYW5zbGF0aW9uczpcbiAqIC0gRXJyb3I6IHRocm93IGlmIHlvdSBoYXZlIG1pc3NpbmcgdHJhbnNsYXRpb25zLlxuICogLSBXYXJuaW5nIChkZWZhdWx0KTogc2hvdyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgYW5kL29yIHNoZWxsLlxuICogLSBJZ25vcmU6IGRvIG5vdGhpbmcuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UjcmVwb3J0LW1pc3NpbmctdHJhbnNsYXRpb25zKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIG1pc3NpbmdUcmFuc2xhdGlvbjogTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kuRXJyb3JcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3k7XG4oZnVuY3Rpb24gKE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5KSB7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJFcnJvclwiXSA9IDBdID0gXCJFcnJvclwiO1xuICAgIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W1wiV2FybmluZ1wiXSA9IDFdID0gXCJXYXJuaW5nXCI7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJJZ25vcmVcIl0gPSAyXSA9IFwiSWdub3JlXCI7XG59KShNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSB8fCAoTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tYmluYXRpb24gb2YgTmdNb2R1bGVGYWN0b3J5IGFuZCBDb21wb25lbnRGYWN0b3JpZXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBJdnkgSklUIG1vZGUgZG9lc24ndCByZXF1aXJlIGFjY2Vzc2luZyB0aGlzIHN5bWJvbC5cbiAqIFNlZSBbSklUIEFQSSBjaGFuZ2VzIGR1ZSB0byBWaWV3RW5naW5lIGRlcHJlY2F0aW9uXShndWlkZS9kZXByZWNhdGlvbnMjaml0LWFwaS1jaGFuZ2VzKSBmb3JcbiAqIGFkZGl0aW9uYWwgY29udGV4dC5cbiAqL1xuY2xhc3MgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyB7XG4gICAgY29uc3RydWN0b3IobmdNb2R1bGVGYWN0b3J5LCBjb21wb25lbnRGYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5uZ01vZHVsZUZhY3RvcnkgPSBuZ01vZHVsZUZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yaWVzID0gY29tcG9uZW50RmFjdG9yaWVzO1xuICAgIH1cbn1cbi8qKlxuICogTG93LWxldmVsIHNlcnZpY2UgZm9yIHJ1bm5pbmcgdGhlIGFuZ3VsYXIgY29tcGlsZXIgZHVyaW5nIHJ1bnRpbWVcbiAqIHRvIGNyZWF0ZSB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX1zLCB3aGljaFxuICogY2FuIGxhdGVyIGJlIHVzZWQgdG8gY3JlYXRlIGFuZCByZW5kZXIgYSBDb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogRWFjaCBgQE5nTW9kdWxlYCBwcm92aWRlcyBhbiBvd24gYENvbXBpbGVyYCB0byBpdHMgaW5qZWN0b3IsXG4gKiB0aGF0IHdpbGwgdXNlIHRoZSBkaXJlY3RpdmVzL3BpcGVzIG9mIHRoZSBuZyBtb2R1bGUgZm9yIGNvbXBpbGF0aW9uXG4gKiBvZiBjb21wb25lbnRzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogSXZ5IEpJVCBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBhY2Nlc3NpbmcgdGhpcyBzeW1ib2wuXG4gKiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcykgZm9yXG4gKiBhZGRpdGlvbmFsIGNvbnRleHQuXG4gKi9cbmNsYXNzIENvbXBpbGVyIHtcbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgZ2l2ZW4gTmdNb2R1bGUgYW5kIGFsbCBvZiBpdHMgY29tcG9uZW50cy4gQWxsIHRlbXBsYXRlcyBvZiB0aGUgY29tcG9uZW50cyBsaXN0ZWRcbiAgICAgKiBpbiBgZW50cnlDb21wb25lbnRzYCBoYXZlIHRvIGJlIGlubGluZWQuXG4gICAgICovXG4gICAgY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlRmFjdG9yeShtb2R1bGVUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIGdpdmVuIE5nTW9kdWxlIGFuZCBhbGwgb2YgaXRzIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQXN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHtAbGluayAjY29tcGlsZU1vZHVsZVN5bmN9IGJ1dCBhbHNvIGNyZWF0ZXMgQ29tcG9uZW50RmFjdG9yaWVzIGZvciBhbGwgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICBjb25zdCBuZ01vZHVsZUZhY3RvcnkgPSB0aGlzLmNvbXBpbGVNb2R1bGVTeW5jKG1vZHVsZVR5cGUpO1xuICAgICAgICBjb25zdCBtb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yaWVzID0gbWF5YmVVbndyYXBGbihtb2R1bGVEZWYuZGVjbGFyYXRpb25zKVxuICAgICAgICAgICAgLnJlZHVjZSgoZmFjdG9yaWVzLCBkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGRlY2xhcmF0aW9uKTtcbiAgICAgICAgICAgIGNvbXBvbmVudERlZiAmJiBmYWN0b3JpZXMucHVzaChuZXcgQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnREZWYpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3JpZXM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzKG5nTW9kdWxlRmFjdG9yeSwgY29tcG9uZW50RmFjdG9yaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB7QGxpbmsgI2NvbXBpbGVNb2R1bGVBc3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIGNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzQXN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jKG1vZHVsZVR5cGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgY2xlYXJDYWNoZSgpIHsgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FjaGUgZm9yIHRoZSBnaXZlbiBjb21wb25lbnQvbmdNb2R1bGUuXG4gICAgICovXG4gICAgY2xlYXJDYWNoZUZvcih0eXBlKSB7IH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpZCBmb3IgYSBnaXZlbiBOZ01vZHVsZSwgaWYgb25lIGlzIGRlZmluZWQgYW5kIGtub3duIHRvIHRoZSBjb21waWxlci5cbiAgICAgKi9cbiAgICBnZXRNb2R1bGVJZChtb2R1bGVUeXBlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuQ29tcGlsZXIuybVmYWMgPSBmdW5jdGlvbiBDb21waWxlcl9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBDb21waWxlcikoKTsgfTtcbkNvbXBpbGVyLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQ29tcGlsZXIsIGZhY3Rvcnk6IENvbXBpbGVyLsm1ZmFjLCBwcm92aWRlZEluOiAncm9vdCcgfSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShDb21waWxlciwgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbeyBwcm92aWRlZEluOiAncm9vdCcgfV1cbiAgICAgICAgfV0sIG51bGwsIG51bGwpO1xufSkoKTtcbi8qKlxuICogVG9rZW4gdG8gcHJvdmlkZSBDb21waWxlck9wdGlvbnMgaW4gdGhlIHBsYXRmb3JtIGluamVjdG9yLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ09NUElMRVJfT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignY29tcGlsZXJPcHRpb25zJyk7XG4vKipcbiAqIEEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgYSBDb21waWxlclxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogSXZ5IEpJVCBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBhY2Nlc3NpbmcgdGhpcyBzeW1ib2wuXG4gKiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcykgZm9yXG4gKiBhZGRpdGlvbmFsIGNvbnRleHQuXG4gKi9cbmNsYXNzIENvbXBpbGVyRmFjdG9yeSB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgcHJvbWlzZSA9ICgoKSA9PiBQcm9taXNlLnJlc29sdmUoMCkpKCk7XG5mdW5jdGlvbiBzY2hlZHVsZU1pY3JvVGFzayhmbikge1xuICAgIGlmICh0eXBlb2YgWm9uZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gdXNlIHByb21pc2UgdG8gc2NoZWR1bGUgbWljcm9UYXNrIGluc3RlYWQgb2YgdXNlIFpvbmVcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZuICYmIGZuLmFwcGx5KG51bGwsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygnc2NoZWR1bGVNaWNyb3Rhc2snLCBmbik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSgpIHtcbiAgICBsZXQgbmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gX2dsb2JhbFsncmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgbGV0IG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lID0gX2dsb2JhbFsnY2FuY2VsQW5pbWF0aW9uRnJhbWUnXTtcbiAgICBpZiAodHlwZW9mIFpvbmUgIT09ICd1bmRlZmluZWQnICYmIG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAvLyB1c2UgdW5wYXRjaGVkIHZlcnNpb24gb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG5hdGl2ZSBkZWxlZ2F0ZSkgaWYgcG9zc2libGVcbiAgICAgICAgLy8gdG8gYXZvaWQgYW5vdGhlciBDaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICAgIGNvbnN0IHVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZSA9IG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZVtab25lLl9fc3ltYm9sX18oJ09yaWdpbmFsRGVsZWdhdGUnKV07XG4gICAgICAgIGlmICh1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSA9IG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lW1pvbmUuX19zeW1ib2xfXygnT3JpZ2luYWxEZWxlZ2F0ZScpXTtcbiAgICAgICAgaWYgKHVucGF0Y2hlZENhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSA9IHVucGF0Y2hlZENhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSwgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGluamVjdGFibGUgc2VydmljZSBmb3IgZXhlY3V0aW5nIHdvcmsgaW5zaWRlIG9yIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIHRoaXMgc2VydmljZSBpcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZSB3aGVuIHN0YXJ0aW5nIGEgd29yayBjb25zaXN0aW5nIG9mXG4gKiBvbmUgb3IgbW9yZSBhc3luY2hyb25vdXMgdGFza3MgdGhhdCBkb24ndCByZXF1aXJlIFVJIHVwZGF0ZXMgb3IgZXJyb3IgaGFuZGxpbmcgdG8gYmUgaGFuZGxlZCBieVxuICogQW5ndWxhci4gU3VjaCB0YXNrcyBjYW4gYmUga2lja2VkIG9mZiB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtAbGluayAjcnVufS5cbiAqXG4gKiA8IS0tIFRPRE86IGFkZC9maXggbGlua3MgdG86XG4gKiAgIC0gZG9jcyBleHBsYWluaW5nIHpvbmVzIGFuZCB0aGUgdXNlIG9mIHpvbmVzIGluIEFuZ3VsYXIgYW5kIGNoYW5nZS1kZXRlY3Rpb25cbiAqICAgLSBsaW5rIHRvIHJ1bk91dHNpZGVBbmd1bGFyL3J1biAodGhyb3VnaG91dCB0aGlzIGZpbGUhKVxuICogICAtLT5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBOZ1pvbmV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtOZ0lmfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ25nLXpvbmUtZGVtbycsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGgyPkRlbW86IE5nWm9uZTwvaDI+XG4gKlxuICogICAgIDxwPlByb2dyZXNzOiB7e3Byb2dyZXNzfX0lPC9wPlxuICogICAgIDxwICpuZ0lmPVwicHJvZ3Jlc3MgPj0gMTAwXCI+RG9uZSBwcm9jZXNzaW5nIHt7bGFiZWx9fSBvZiBBbmd1bGFyIHpvbmUhPC9wPlxuICpcbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgd2l0aGluIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyBvdXRzaWRlIG9mIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICBgLFxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBOZ1pvbmVEZW1vIHtcbiAqICAgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gKiAgIGxhYmVsOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZ1pvbmU6IE5nWm9uZSkge31cbiAqXG4gKiAgIC8vIExvb3AgaW5zaWRlIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnaW5zaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IGNvbnNvbGUubG9nKCdJbnNpZGUgRG9uZSEnKSk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIExvb3Agb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIE5PVCByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdvdXRzaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICogICAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiB7XG4gKiAgICAgICAgIC8vIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZGlzcGxheSBkb25lXG4gKiAgICAgICAgIHRoaXMuX25nWm9uZS5ydW4oKCkgPT4geyBjb25zb2xlLmxvZygnT3V0c2lkZSBEb25lIScpOyB9KTtcbiAqICAgICAgIH0pO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICBfaW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAqICAgICB0aGlzLnByb2dyZXNzICs9IDE7XG4gKiAgICAgY29uc29sZS5sb2coYEN1cnJlbnQgcHJvZ3Jlc3M6ICR7dGhpcy5wcm9ncmVzc30lYCk7XG4gKlxuICogICAgIGlmICh0aGlzLnByb2dyZXNzIDwgMTAwKSB7XG4gKiAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjayksIDEwKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgZG9uZUNhbGxiYWNrKCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nWm9uZSB7XG4gICAgY29uc3RydWN0b3IoeyBlbmFibGVMb25nU3RhY2tUcmFjZSA9IGZhbHNlLCBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UsIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UgfSkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIG1pY3JvdGFza3Mgb3IgbWFjcm90YXNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiBjb2RlIGVudGVycyBBbmd1bGFyIFpvbmUuIFRoaXMgZ2V0cyBmaXJlZCBmaXJzdCBvbiBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgbWljcm90YXNrcyBlbnF1ZXVlZCBpbiB0aGUgY3VycmVudCBWTSBUdXJuLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGludCBmb3IgQW5ndWxhciB0byBkbyBjaGFuZ2UgZGV0ZWN0aW9uLCB3aGljaCBtYXkgZW5xdWV1ZSBtb3JlIG1pY3JvdGFza3MuXG4gICAgICAgICAqIEZvciB0aGlzIHJlYXNvbiB0aGlzIGV2ZW50IGNhbiBmaXJlIG11bHRpcGxlIHRpbWVzIHBlciBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZSBsYXN0IGBvbk1pY3JvdGFza0VtcHR5YCBoYXMgcnVuIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBtaWNyb3Rhc2tzLCB3aGljaFxuICAgICAgICAgKiBpbXBsaWVzIHdlIGFyZSBhYm91dCB0byByZWxpbnF1aXNoIFZNIHR1cm4uXG4gICAgICAgICAqIFRoaXMgZXZlbnQgZ2V0cyBjYWxsZWQganVzdCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhbiBlcnJvciBoYXMgYmVlbiBkZWxpdmVyZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanNgKTtcbiAgICAgICAgfVxuICAgICAgICBab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLl9uZXN0aW5nID0gMDtcbiAgICAgICAgc2VsZi5fb3V0ZXIgPSBzZWxmLl9pbm5lciA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgaWYgKFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhuZXcgWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZUxvbmdTdGFja1RyYWNlICYmIFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZSwgYWxsIHRhc2tzIGluY2x1ZGluZyBldmVudCB0YXNrcyB3aWxsIGJlXG4gICAgICAgIC8vIGNvYWxlc2NlZCwgc28gc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiBvcHRpb24gaXMgbm90IG5lY2Vzc2FyeSBhbmQgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9XG4gICAgICAgICAgICAhc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gJiYgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICBzZWxmLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSgpLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioc2VsZik7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIC8vIFpvbmUgbmVlZHMgdG8gYmUgY2hlY2tlZCwgYmVjYXVzZSB0aGlzIG1ldGhvZCBtaWdodCBiZSBjYWxsZWQgZXZlbiB3aGVuIE5vb3BOZ1pvbmUgaXMgdXNlZC5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBab25lLmN1cnJlbnQuZ2V0KCdpc0FuZ3VsYXJab25lJykgPT09IHRydWU7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoIU5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyBub3QhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGFzc2VydE5vdEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmIChOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYXMgYSB0YXNrIGFuZCByZXR1cm5zIHZhbHVlXG4gICAgICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1blRhc2soZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSB0aGlzLl9pbm5lcjtcbiAgICAgICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ05nWm9uZUV2ZW50OiAnICsgbmFtZSwgZm4sIEVNUFRZX1BBWUxPQUQsIG5vb3AsIG5vb3ApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHpvbmUucnVuVGFzayh0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBgcnVuYCwgZXhjZXB0IHRoYXQgc3luY2hyb25vdXMgZXJyb3JzIGFyZSBjYXVnaHQgYW5kIGZvcndhcmRlZCB2aWEgYG9uRXJyb3JgIGFuZCBub3RcbiAgICAgKiByZXRocm93bi5cbiAgICAgKi9cbiAgICBydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IGluIEFuZ3VsYXIncyBwYXJlbnQgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbGxvd3MgeW91IHRvIGVzY2FwZSBBbmd1bGFyJ3Mgem9uZSBhbmQgZG9cbiAgICAgKiB3b3JrIHRoYXRcbiAgICAgKiBkb2Vzbid0IHRyaWdnZXIgQW5ndWxhciBjaGFuZ2UtZGV0ZWN0aW9uIG9yIGlzIHN1YmplY3QgdG8gQW5ndWxhcidzIGVycm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIHJ1bk91dHNpZGVBbmd1bGFyKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlci5ydW4oZm4pO1xuICAgIH1cbn1cbmNvbnN0IEVNUFRZX1BBWUxPQUQgPSB7fTtcbmZ1bmN0aW9uIGNoZWNrU3RhYmxlKHpvbmUpIHtcbiAgICAvLyBUT0RPOiBASmlhTGlQYXNzaW9uLCBzaG91bGQgY2hlY2sgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB0byBwcmV2ZW50XG4gICAgLy8gcmUtZW50cnkuIFRoZSBjYXNlIGlzOlxuICAgIC8vXG4gICAgLy8gQENvbXBvbmVudCh7Li4ufSlcbiAgICAvLyBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAvLyBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nWm9uZTogTmdab25lKSB7XG4gICAgLy8gICB0aGlzLm5nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgIC8vICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gY29uc29sZS5sb2coJ3N0YWJsZScpOyk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBUaGUgb25TdGFibGUgc3Vic2NyaWJlciBydW4gYW5vdGhlciBmdW5jdGlvbiBpbnNpZGUgbmdab25lXG4gICAgLy8gd2hpY2ggY2F1c2VzIGBjaGVja1N0YWJsZSgpYCByZS1lbnRyeS5cbiAgICAvLyBCdXQgdGhpcyBmaXggY2F1c2VzIHNvbWUgaXNzdWVzIGluIGczLCBzbyB0aGlzIGZpeCB3aWxsIGJlXG4gICAgLy8gbGF1bmNoZWQgaW4gYW5vdGhlciBQUi5cbiAgICBpZiAoem9uZS5fbmVzdGluZyA9PSAwICYmICF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzICYmICF6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgICAgICAgICB6b25lLm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICAgICAgICAgIGlmICghem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vblN0YWJsZS5lbWl0KG51bGwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpIHtcbiAgICAvKipcbiAgICAgKiBXZSBhbHNvIG5lZWQgdG8gY2hlY2sgX25lc3RpbmcgaGVyZVxuICAgICAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgY2FzZSB3aXRoIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZVxuICAgICAqXG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICpcbiAgICAgKiBXZSB3YW50IHRoZSB0d28gYG5nWm9uZS5ydW4oKWAgb25seSB0cmlnZ2VyIG9uZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogd2hlbiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLlxuICAgICAqIEFuZCBiZWNhdXNlIGluIHRoaXMgY2FzZSwgY2hhbmdlIGRldGVjdGlvbiBydW4gaW4gYXN5bmMgd2F5KHJlcXVlc3RBbmltYXRpb25GcmFtZSksXG4gICAgICogc28gd2UgYWxzbyBuZWVkIHRvIGNoZWNrIHRoZSBfbmVzdGluZyBoZXJlIHRvIHByZXZlbnQgbXVsdGlwbGVcbiAgICAgKiBjaGFuZ2UgZGV0ZWN0aW9ucy5cbiAgICAgKi9cbiAgICBpZiAoem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB8fCB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IHpvbmUubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoX2dsb2JhbCwgKCkgPT4ge1xuICAgICAgICAvLyBUaGlzIGlzIGEgd29yayBhcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM2ODM5LlxuICAgICAgICAvLyBUaGUgY29yZSBpc3N1ZSBpcyB0aGF0IHdoZW4gZXZlbnQgY29hbGVzY2luZyBpcyBlbmFibGVkIGl0IGlzIHBvc3NpYmxlIGZvciBtaWNyb3Rhc2tzXG4gICAgICAgIC8vIHRvIGdldCBmbHVzaGVkIHRvbyBlYXJseSAoQXMgaXMgdGhlIGNhc2Ugd2l0aCBgUHJvbWlzZS50aGVuYCkgYmV0d2VlbiB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUbyB3b3JrYXJvdW5kIHRoaXMgd2Ugc2NoZWR1bGUgYSBcImZha2VcIiBldmVudFRhc2sgYmVmb3JlIHdlIHByb2Nlc3MgdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy4gVGhlIGJlbmVmaXQgb2YgdGhpcyBpcyB0aGF0IHRoZSBcImZha2VcIiBjb250YWluZXIgZXZlbnRUYXNrXG4gICAgICAgIC8vICB3aWxsIHByZXZlbnQgdGhlIG1pY3JvdGFza3MgcXVldWUgZnJvbSBnZXR0aW5nIGRyYWluZWQgaW4gYmV0d2VlbiB0aGUgY29hbGVzY2luZ1xuICAgICAgICAvLyBldmVudFRhc2sgZXhlY3V0aW9uLlxuICAgICAgICBpZiAoIXpvbmUuZmFrZVRvcEV2ZW50VGFzaykge1xuICAgICAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrID0gWm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCdmYWtlVG9wRXZlbnRUYXNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgKCkgPT4geyB9LCAoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzay5pbnZva2UoKTtcbiAgICB9KTtcbiAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG59XG5mdW5jdGlvbiBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcih6b25lKSB7XG4gICAgY29uc3QgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSA9ICgpID0+IHtcbiAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSk7XG4gICAgfTtcbiAgICB6b25lLl9pbm5lciA9IHpvbmUuX2lubmVyLmZvcmsoe1xuICAgICAgICBuYW1lOiAnYW5ndWxhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IHsgJ2lzQW5ndWxhclpvbmUnOiB0cnVlIH0sXG4gICAgICAgIG9uSW52b2tlVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZVRhc2sodGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHpvbmUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiAmJiB0YXNrLnR5cGUgPT09ICdldmVudFRhc2snKSB8fFxuICAgICAgICAgICAgICAgICAgICB6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25JbnZva2U6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2UodGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFzVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGhhc1Rhc2tTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFzVGFzayh0YXJnZXQsIGhhc1Rhc2tTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBoYXNUYXNrIGV2ZW50cyB3aGljaCBvcmlnaW5hdGUgZnJvbSBvdXIgem9uZVxuICAgICAgICAgICAgICAgIC8vIChBIGNoaWxkIGhhc1Rhc2sgZXZlbnQgaXMgbm90IGludGVyZXN0aW5nIHRvIHVzKVxuICAgICAgICAgICAgICAgIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtaWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1pY3JvVGFzaztcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWFjcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1hY3JvVGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFuZGxlRXJyb3I6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFuZGxlRXJyb3IodGFyZ2V0LCBlcnJvcik7XG4gICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25FcnJvci5lbWl0KGVycm9yKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKSB7XG4gICAgaWYgKHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIHx8XG4gICAgICAgICgoem9uZS5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIHx8IHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pICYmXG4gICAgICAgICAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpKSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uRW50ZXIoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICBpZiAoem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB6b25lLmlzU3RhYmxlID0gZmFsc2U7XG4gICAgICAgIHpvbmUub25VbnN0YWJsZS5lbWl0KG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uTGVhdmUoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICBjaGVja1N0YWJsZSh6b25lKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgYSBub29wIGltcGxlbWVudGF0aW9uIG9mIGBOZ1pvbmVgIHdoaWNoIGRvZXMgbm90aGluZy4gVGhpcyB6b25lIHJlcXVpcmVzIGV4cGxpY2l0IGNhbGxzXG4gKiB0byBmcmFtZXdvcmsgdG8gcGVyZm9ybSByZW5kZXJpbmcuXG4gKi9cbmNsYXNzIE5vb3BOZ1pvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMub25VbnN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uU3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIHJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgcnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgcnVuT3V0c2lkZUFuZ3VsYXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIHJ1blRhc2soZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgdGVzdGluZyBob29rcyB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBmcm9tXG4gKiB0aGUgYnJvd3Nlci4gRWFjaCBib290c3RyYXBwZWQgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSB3aWxsIGhhdmVcbiAqIGFuIGluc3RhbmNlIG9mIFRlc3RhYmlsaXR5LlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBUZXN0YWJpbGl0eSB7XG4gICAgY29uc3RydWN0b3IoX25nWm9uZSkge1xuICAgICAgICB0aGlzLl9uZ1pvbmUgPSBfbmdab25lO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pc1pvbmVTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBhbnkgd29yayB3YXMgZG9uZSBzaW5jZSB0aGUgbGFzdCAnd2hlblN0YWJsZScgY2FsbGJhY2suIFRoaXMgaXNcbiAgICAgICAgICogdXNlZnVsIHRvIGRldGVjdCBpZiB0aGlzIGNvdWxkIGhhdmUgcG90ZW50aWFsbHkgZGVzdGFiaWxpemVkIGFub3RoZXJcbiAgICAgICAgICogY29tcG9uZW50IHdoaWxlIGl0IGlzIHN0YWJpbGl6aW5nLlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RpZFdvcmsgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMudGFza1RyYWNraW5nWm9uZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dhdGNoQW5ndWxhckV2ZW50cygpO1xuICAgICAgICBfbmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhc2tUcmFja2luZ1pvbmUgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnID8gbnVsbCA6IFpvbmUuY3VycmVudC5nZXQoJ1Rhc2tUcmFja2luZ1pvbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF93YXRjaEFuZ3VsYXJFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlkV29yayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1pvbmVTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlcyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXMuXG4gICAgICovXG4gICAgaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50KCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgKz0gMTtcbiAgICAgICAgdGhpcy5fZGlkV29yayA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY3JlYXNlcyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXNcbiAgICAgKi9cbiAgICBkZWNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwZW5kaW5nIGFzeW5jIHJlcXVlc3RzIGJlbG93IHplcm8nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgYW4gYXNzb2NpYXRlZCBhcHBsaWNhdGlvbiBpcyBzdGFibGVcbiAgICAgKi9cbiAgICBpc1N0YWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSAmJiB0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcztcbiAgICB9XG4gICAgX3J1bkNhbGxiYWNrc0lmUmVhZHkoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhYmxlKCkpIHtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlcyB0aGUgY2FsbCBiYWNrcyBpbiBhIG5ldyBmcmFtZSBzbyB0aGF0IGl0IGlzIGFsd2F5cyBhc3luYy5cbiAgICAgICAgICAgIHNjaGVkdWxlTWljcm9UYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fY2FsbGJhY2tzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2IgPSB0aGlzLl9jYWxsYmFja3MucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjYi50aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICBjYi5kb25lQ2IodGhpcy5fZGlkV29yayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RpbGwgbm90IHN0YWJsZSwgc2VuZCB1cGRhdGVzLlxuICAgICAgICAgICAgbGV0IHBlbmRpbmcgPSB0aGlzLmdldFBlbmRpbmdUYXNrcygpO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzLmZpbHRlcigoY2IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2IudXBkYXRlQ2IgJiYgY2IudXBkYXRlQ2IocGVuZGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNiLnRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlbmRpbmdUYXNrcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRhc2tUcmFja2luZ1pvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb3B5IHRoZSB0YXNrcyBkYXRhIHNvIHRoYXQgd2UgZG9uJ3QgbGVhayB0YXNrcy5cbiAgICAgICAgcmV0dXJuIHRoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcCgodCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHQuc291cmNlLFxuICAgICAgICAgICAgICAgIC8vIEZyb20gVGFza1RyYWNraW5nWm9uZTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2Jsb2IvbWFzdGVyL2xpYi96b25lLXNwZWMvdGFzay10cmFja2luZy50cyNMNDBcbiAgICAgICAgICAgICAgICBjcmVhdGlvbkxvY2F0aW9uOiB0LmNyZWF0aW9uTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgZGF0YTogdC5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkQ2FsbGJhY2soY2IsIHRpbWVvdXQsIHVwZGF0ZUNiKSB7XG4gICAgICAgIGxldCB0aW1lb3V0SWQgPSAtMTtcbiAgICAgICAgaWYgKHRpbWVvdXQgJiYgdGltZW91dCA+IDApIHtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcy5maWx0ZXIoKGNiKSA9PiBjYi50aW1lb3V0SWQgIT09IHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgY2IodGhpcy5fZGlkV29yaywgdGhpcy5nZXRQZW5kaW5nVGFza3MoKSk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaCh7IGRvbmVDYjogY2IsIHRpbWVvdXRJZDogdGltZW91dElkLCB1cGRhdGVDYjogdXBkYXRlQ2IgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSBzdGFibGUgd2l0aCBhIHRpbWVvdXQuIElmIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQgYmVmb3JlIHRoYXRcbiAgICAgKiBoYXBwZW5zLCB0aGUgY2FsbGJhY2sgcmVjZWl2ZXMgYSBsaXN0IG9mIHRoZSBtYWNybyB0YXNrcyB0aGF0IHdlcmUgcGVuZGluZywgb3RoZXJ3aXNlIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9uZUNiIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2hlbiBBbmd1bGFyIGlzIHN0YWJsZSBvciB0aGUgdGltZW91dCBleHBpcmVzXG4gICAgICogICAgd2hpY2hldmVyIGNvbWVzIGZpcnN0LlxuICAgICAqIEBwYXJhbSB0aW1lb3V0IE9wdGlvbmFsLiBUaGUgbWF4aW11bSB0aW1lIHRvIHdhaXQgZm9yIEFuZ3VsYXIgdG8gYmVjb21lIHN0YWJsZS4gSWYgbm90XG4gICAgICogICAgc3BlY2lmaWVkLCB3aGVuU3RhYmxlKCkgd2lsbCB3YWl0IGZvcmV2ZXIuXG4gICAgICogQHBhcmFtIHVwZGF0ZUNiIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIHdoZW5ldmVyIHRoZSBzZXQgb2ZcbiAgICAgKiAgICBwZW5kaW5nIG1hY3JvdGFza3MgY2hhbmdlcy4gSWYgdGhpcyBjYWxsYmFjayByZXR1cm5zIHRydWUgZG9uZUNiIHdpbGwgbm90IGJlIGludm9rZWRcbiAgICAgKiAgICBhbmQgbm8gZnVydGhlciB1cGRhdGVzIHdpbGwgYmUgaXNzdWVkLlxuICAgICAqL1xuICAgIHdoZW5TdGFibGUoZG9uZUNiLCB0aW1lb3V0LCB1cGRhdGVDYikge1xuICAgICAgICBpZiAodXBkYXRlQ2IgJiYgIXRoaXMudGFza1RyYWNraW5nWm9uZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byAnICtcbiAgICAgICAgICAgICAgICAnd2hlblN0YWJsZSgpLiBJcyBcInpvbmUuanMvcGx1Z2lucy90YXNrLXRyYWNraW5nXCIgbG9hZGVkPycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXNlIGFyZ3VtZW50cyBhcmUgJ0Z1bmN0aW9uJyBhYm92ZSB0byBrZWVwIHRoZSBwdWJsaWMgQVBJIHNpbXBsZS5cbiAgICAgICAgdGhpcy5hZGRDYWxsYmFjayhkb25lQ2IsIHRpbWVvdXQsIHVwZGF0ZUNiKTtcbiAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICogQGRlcHJlY2F0ZWQgcGVuZGluZyByZXF1ZXN0cyBhcmUgbm93IHRyYWNrZWQgd2l0aCB6b25lc1xuICAgICAqL1xuICAgIGdldFBlbmRpbmdSZXF1ZXN0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgcHJvdmlkZXJzIGJ5IG5hbWVcbiAgICAgKiBAcGFyYW0gdXNpbmcgVGhlIHJvb3QgZWxlbWVudCB0byBzZWFyY2ggZnJvbVxuICAgICAqIEBwYXJhbSBwcm92aWRlciBUaGUgbmFtZSBvZiBiaW5kaW5nIHZhcmlhYmxlXG4gICAgICogQHBhcmFtIGV4YWN0TWF0Y2ggV2hldGhlciB1c2luZyBleGFjdE1hdGNoXG4gICAgICovXG4gICAgZmluZFByb3ZpZGVycyh1c2luZywgcHJvdmlkZXIsIGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgLy8gVE9ETyhqdWxpZW1yKTogaW1wbGVtZW50LlxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuVGVzdGFiaWxpdHkuybVmYWMgPSBmdW5jdGlvbiBUZXN0YWJpbGl0eV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBUZXN0YWJpbGl0eSkoybXJtWluamVjdChOZ1pvbmUpKTsgfTtcblRlc3RhYmlsaXR5Lsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogVGVzdGFiaWxpdHksIGZhY3Rvcnk6IFRlc3RhYmlsaXR5Lsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoVGVzdGFiaWxpdHksIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOZ1pvbmUgfV07IH0sIG51bGwpO1xufSkoKTtcbi8qKlxuICogQSBnbG9iYWwgcmVnaXN0cnkgb2Yge0BsaW5rIFRlc3RhYmlsaXR5fSBpbnN0YW5jZXMgZm9yIHNwZWNpZmljIGVsZW1lbnRzLlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBUZXN0YWJpbGl0eVJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIF90ZXN0YWJpbGl0eUdldHRlci5hZGRUb1dpbmRvdyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFuIGFwcGxpY2F0aW9uIHdpdGggYSB0ZXN0YWJpbGl0eSBob29rIHNvIHRoYXQgaXQgY2FuIGJlIHRyYWNrZWRcbiAgICAgKiBAcGFyYW0gdG9rZW4gdG9rZW4gb2YgYXBwbGljYXRpb24sIHJvb3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSB0ZXN0YWJpbGl0eSBUZXN0YWJpbGl0eSBob29rXG4gICAgICovXG4gICAgcmVnaXN0ZXJBcHBsaWNhdGlvbih0b2tlbiwgdGVzdGFiaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLnNldCh0b2tlbiwgdGVzdGFiaWxpdHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyBhbiBhcHBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0gdG9rZW4gdG9rZW4gb2YgYXBwbGljYXRpb24sIHJvb3QgZWxlbWVudFxuICAgICAqL1xuICAgIHVucmVnaXN0ZXJBcHBsaWNhdGlvbih0b2tlbikge1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMuZGVsZXRlKHRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYWxsIGFwcGxpY2F0aW9uc1xuICAgICAqL1xuICAgIHVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucy5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSB0ZXN0YWJpbGl0eSBob29rIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBAcGFyYW0gZWxlbSByb290IGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRUZXN0YWJpbGl0eShlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBsaWNhdGlvbnMuZ2V0KGVsZW0pIHx8IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcmVnaXN0ZXJlZCB0ZXN0YWJpbGl0aWVzXG4gICAgICovXG4gICAgZ2V0QWxsVGVzdGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLnZhbHVlcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCByZWdpc3RlcmVkIGFwcGxpY2F0aW9ucyhyb290IGVsZW1lbnRzKVxuICAgICAqL1xuICAgIGdldEFsbFJvb3RFbGVtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGVzdGFiaWxpdHkgb2YgYSBub2RlIGluIHRoZSBUcmVlXG4gICAgICogQHBhcmFtIGVsZW0gbm9kZVxuICAgICAqIEBwYXJhbSBmaW5kSW5BbmNlc3RvcnMgd2hldGhlciBmaW5kaW5nIHRlc3RhYmlsaXR5IGluIGFuY2VzdG9ycyBpZiB0ZXN0YWJpbGl0eSB3YXMgbm90IGZvdW5kIGluXG4gICAgICogY3VycmVudCBub2RlXG4gICAgICovXG4gICAgZmluZFRlc3RhYmlsaXR5SW5UcmVlKGVsZW0sIGZpbmRJbkFuY2VzdG9ycyA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIF90ZXN0YWJpbGl0eUdldHRlci5maW5kVGVzdGFiaWxpdHlJblRyZWUodGhpcywgZWxlbSwgZmluZEluQW5jZXN0b3JzKTtcbiAgICB9XG59XG5UZXN0YWJpbGl0eVJlZ2lzdHJ5Lsm1ZmFjID0gZnVuY3Rpb24gVGVzdGFiaWxpdHlSZWdpc3RyeV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBUZXN0YWJpbGl0eVJlZ2lzdHJ5KSgpOyB9O1xuVGVzdGFiaWxpdHlSZWdpc3RyeS7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IFRlc3RhYmlsaXR5UmVnaXN0cnksIGZhY3Rvcnk6IFRlc3RhYmlsaXR5UmVnaXN0cnkuybVmYWMgfSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH0sIG51bGwpO1xufSkoKTtcbmNsYXNzIF9Ob29wR2V0VGVzdGFiaWxpdHkge1xuICAgIGFkZFRvV2luZG93KHJlZ2lzdHJ5KSB7IH1cbiAgICBmaW5kVGVzdGFiaWxpdHlJblRyZWUocmVnaXN0cnksIGVsZW0sIGZpbmRJbkFuY2VzdG9ycykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIFNldCB0aGUge0BsaW5rIEdldFRlc3RhYmlsaXR5fSBpbXBsZW1lbnRhdGlvbiB1c2VkIGJ5IHRoZSBBbmd1bGFyIHRlc3RpbmcgZnJhbWV3b3JrLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBzZXRUZXN0YWJpbGl0eUdldHRlcihnZXR0ZXIpIHtcbiAgICBfdGVzdGFiaWxpdHlHZXR0ZXIgPSBnZXR0ZXI7XG59XG5sZXQgX3Rlc3RhYmlsaXR5R2V0dGVyID0gbmV3IF9Ob29wR2V0VGVzdGFiaWxpdHkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3BsYXRmb3JtO1xuZnVuY3Rpb24gY29tcGlsZU5nTW9kdWxlRmFjdG9yeShpbmplY3Rvciwgb3B0aW9ucywgbW9kdWxlVHlwZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROZ01vZHVsZVR5cGUobW9kdWxlVHlwZSk7XG4gICAgY29uc3QgbW9kdWxlRmFjdG9yeSA9IG5ldyBOZ01vZHVsZUZhY3RvcnkobW9kdWxlVHlwZSk7XG4gICAgLy8gQWxsIG9mIHRoZSBsb2dpYyBiZWxvdyBpcyBpcnJlbGV2YW50IGZvciBBT1QtY29tcGlsZWQgY29kZS5cbiAgICBpZiAodHlwZW9mIG5nSml0TW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIW5nSml0TW9kZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1vZHVsZUZhY3RvcnkpO1xuICAgIH1cbiAgICBjb25zdCBjb21waWxlck9wdGlvbnMgPSBpbmplY3Rvci5nZXQoQ09NUElMRVJfT1BUSU9OUywgW10pLmNvbmNhdChvcHRpb25zKTtcbiAgICAvLyBDb25maWd1cmUgdGhlIGNvbXBpbGVyIHRvIHVzZSB0aGUgcHJvdmlkZWQgb3B0aW9ucy4gVGhpcyBjYWxsIG1heSBmYWlsIHdoZW4gbXVsdGlwbGUgbW9kdWxlc1xuICAgIC8vIGFyZSBib290c3RyYXBwZWQgd2l0aCBpbmNvbXBhdGlibGUgb3B0aW9ucywgYXMgYSBjb21wb25lbnQgY2FuIG9ubHkgYmUgY29tcGlsZWQgYWNjb3JkaW5nIHRvXG4gICAgLy8gYSBzaW5nbGUgc2V0IG9mIG9wdGlvbnMuXG4gICAgc2V0Sml0T3B0aW9ucyh7XG4gICAgICAgIGRlZmF1bHRFbmNhcHN1bGF0aW9uOiBfbGFzdERlZmluZWQoY29tcGlsZXJPcHRpb25zLm1hcChvcHRzID0+IG9wdHMuZGVmYXVsdEVuY2Fwc3VsYXRpb24pKSxcbiAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlczogX2xhc3REZWZpbmVkKGNvbXBpbGVyT3B0aW9ucy5tYXAob3B0cyA9PiBvcHRzLnByZXNlcnZlV2hpdGVzcGFjZXMpKSxcbiAgICB9KTtcbiAgICBpZiAoaXNDb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZUVtcHR5KCkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2R1bGVGYWN0b3J5KTtcbiAgICB9XG4gICAgY29uc3QgY29tcGlsZXJQcm92aWRlcnMgPSBfbWVyZ2VBcnJheXMoY29tcGlsZXJPcHRpb25zLm1hcChvID0+IG8ucHJvdmlkZXJzKSk7XG4gICAgLy8gSW4gY2FzZSB0aGVyZSBhcmUgbm8gY29tcGlsZXIgcHJvdmlkZXJzLCB3ZSBqdXN0IHJldHVybiB0aGUgbW9kdWxlIGZhY3RvcnkgYXNcbiAgICAvLyB0aGVyZSB3b24ndCBiZSBhbnkgcmVzb3VyY2UgbG9hZGVyLiBUaGlzIGNhbiBoYXBwZW4gd2l0aCBJdnksIGJlY2F1c2UgQU9UIGNvbXBpbGVkXG4gICAgLy8gbW9kdWxlcyBjYW4gYmUgc3RpbGwgcGFzc2VkIHRocm91Z2ggXCJib290c3RyYXBNb2R1bGVcIi4gSW4gdGhhdCBjYXNlIHdlIHNob3VsZG4ndFxuICAgIC8vIHVubmVjZXNzYXJpbHkgcmVxdWlyZSB0aGUgSklUIGNvbXBpbGVyLlxuICAgIGlmIChjb21waWxlclByb3ZpZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2R1bGVGYWN0b3J5KTtcbiAgICB9XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7XG4gICAgICAgIHVzYWdlOiAwIC8qIERlY29yYXRvciAqLyxcbiAgICAgICAga2luZDogJ05nTW9kdWxlJyxcbiAgICAgICAgdHlwZTogbW9kdWxlVHlwZSxcbiAgICB9KTtcbiAgICBjb25zdCBjb21waWxlckluamVjdG9yID0gSW5qZWN0b3IuY3JlYXRlKHsgcHJvdmlkZXJzOiBjb21waWxlclByb3ZpZGVycyB9KTtcbiAgICBjb25zdCByZXNvdXJjZUxvYWRlciA9IGNvbXBpbGVySW5qZWN0b3IuZ2V0KGNvbXBpbGVyLlJlc291cmNlTG9hZGVyKTtcbiAgICAvLyBUaGUgcmVzb3VyY2UgbG9hZGVyIGNhbiBhbHNvIHJldHVybiBhIHN0cmluZyB3aGlsZSB0aGUgXCJyZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzXCJcbiAgICAvLyBhbHdheXMgZXhwZWN0cyBhIHByb21pc2UuIFRoZXJlZm9yZSB3ZSBuZWVkIHRvIHdyYXAgdGhlIHJldHVybmVkIHZhbHVlIGluIGEgcHJvbWlzZS5cbiAgICByZXR1cm4gcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyh1cmwgPT4gUHJvbWlzZS5yZXNvbHZlKHJlc291cmNlTG9hZGVyLmdldCh1cmwpKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gbW9kdWxlRmFjdG9yeSk7XG59XG5mdW5jdGlvbiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzKCkge1xuICAgIG5nRGV2TW9kZSAmJiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEoKTtcbn1cbmZ1bmN0aW9uIGlzQm91bmRUb01vZHVsZShjZikge1xuICAgIHJldHVybiBjZi5pc0JvdW5kVG9Nb2R1bGU7XG59XG5jb25zdCBBTExPV19NVUxUSVBMRV9QTEFURk9STVMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FsbG93TXVsdGlwbGVUb2tlbicpO1xuLyoqXG4gKiBBIHRva2VuIGZvciB0aGlyZC1wYXJ0eSBjb21wb25lbnRzIHRoYXQgY2FuIHJlZ2lzdGVyIHRoZW1zZWx2ZXMgd2l0aCBOZ1Byb2JlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgTmdQcm9iZVRva2VuIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0b2tlbikge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgcGxhdGZvcm0uXG4gKiBQbGF0Zm9ybXMgbXVzdCBiZSBjcmVhdGVkIG9uIGxhdW5jaCB1c2luZyB0aGlzIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGxhdGZvcm0oaW5qZWN0b3IpIHtcbiAgICBpZiAoX3BsYXRmb3JtICYmICFfcGxhdGZvcm0uZGVzdHJveWVkICYmXG4gICAgICAgICFfcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgZmFsc2UpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICdUaGVyZSBjYW4gYmUgb25seSBvbmUgcGxhdGZvcm0uIERlc3Ryb3kgdGhlIHByZXZpb3VzIG9uZSB0byBjcmVhdGUgYSBuZXcgb25lLicgOlxuICAgICAgICAgICAgJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAwIC8qIE1VTFRJUExFX1BMQVRGT1JNUyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscygpO1xuICAgIF9wbGF0Zm9ybSA9IGluamVjdG9yLmdldChQbGF0Zm9ybVJlZik7XG4gICAgY29uc3QgaW5pdHMgPSBpbmplY3Rvci5nZXQoUExBVEZPUk1fSU5JVElBTElaRVIsIG51bGwpO1xuICAgIGlmIChpbml0cylcbiAgICAgICAgaW5pdHMuZm9yRWFjaCgoaW5pdCkgPT4gaW5pdCgpKTtcbiAgICByZXR1cm4gX3BsYXRmb3JtO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZmFjdG9yeSBmb3IgYSBwbGF0Zm9ybS4gQ2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBvciBvdmVycmlkZSBgUHJvdmlkZXJzYCBzcGVjaWZpYyB0b1xuICogeW91ciBhcHBsaWNhdGlvbidzIHJ1bnRpbWUgbmVlZHMsIHN1Y2ggYXMgYFBMQVRGT1JNX0lOSVRJQUxJWkVSYCBhbmQgYFBMQVRGT1JNX0lEYC5cbiAqIEBwYXJhbSBwYXJlbnRQbGF0Zm9ybUZhY3RvcnkgQW5vdGhlciBwbGF0Zm9ybSBmYWN0b3J5IHRvIG1vZGlmeS4gQWxsb3dzIHlvdSB0byBjb21wb3NlIGZhY3Rvcmllc1xuICogdG8gYnVpbGQgdXAgY29uZmlndXJhdGlvbnMgdGhhdCBtaWdodCBiZSByZXF1aXJlZCBieSBkaWZmZXJlbnQgbGlicmFyaWVzIG9yIHBhcnRzIG9mIHRoZVxuICogYXBwbGljYXRpb24uXG4gKiBAcGFyYW0gbmFtZSBJZGVudGlmaWVzIHRoZSBuZXcgcGxhdGZvcm0gZmFjdG9yeS5cbiAqIEBwYXJhbSBwcm92aWRlcnMgQSBzZXQgb2YgZGVwZW5kZW5jeSBwcm92aWRlcnMgZm9yIHBsYXRmb3JtcyBjcmVhdGVkIHdpdGggdGhlIG5ldyBmYWN0b3J5LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGxhdGZvcm1GYWN0b3J5KHBhcmVudFBsYXRmb3JtRmFjdG9yeSwgbmFtZSwgcHJvdmlkZXJzID0gW10pIHtcbiAgICBjb25zdCBkZXNjID0gYFBsYXRmb3JtOiAke25hbWV9YDtcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oZGVzYyk7XG4gICAgcmV0dXJuIChleHRyYVByb3ZpZGVycyA9IFtdKSA9PiB7XG4gICAgICAgIGxldCBwbGF0Zm9ybSA9IGdldFBsYXRmb3JtKCk7XG4gICAgICAgIGlmICghcGxhdGZvcm0gfHwgcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgZmFsc2UpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50UGxhdGZvcm1GYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50UGxhdGZvcm1GYWN0b3J5KHByb3ZpZGVycy5jb25jYXQoZXh0cmFQcm92aWRlcnMpLmNvbmNhdCh7IHByb3ZpZGU6IG1hcmtlciwgdXNlVmFsdWU6IHRydWUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5qZWN0ZWRQcm92aWRlcnMgPSBwcm92aWRlcnMuY29uY2F0KGV4dHJhUHJvdmlkZXJzKS5jb25jYXQoeyBwcm92aWRlOiBtYXJrZXIsIHVzZVZhbHVlOiB0cnVlIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogSU5KRUNUT1JfU0NPUEUsXG4gICAgICAgICAgICAgICAgICAgIHVzZVZhbHVlOiAncGxhdGZvcm0nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY3JlYXRlUGxhdGZvcm0oSW5qZWN0b3IuY3JlYXRlKHsgcHJvdmlkZXJzOiBpbmplY3RlZFByb3ZpZGVycywgbmFtZTogZGVzYyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2VydFBsYXRmb3JtKG1hcmtlcik7XG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2tzIHRoYXQgdGhlcmUgaXMgY3VycmVudGx5IGEgcGxhdGZvcm0gdGhhdCBjb250YWlucyB0aGUgZ2l2ZW4gdG9rZW4gYXMgYSBwcm92aWRlci5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFBsYXRmb3JtKHJlcXVpcmVkVG9rZW4pIHtcbiAgICBjb25zdCBwbGF0Zm9ybSA9IGdldFBsYXRmb3JtKCk7XG4gICAgaWYgKCFwbGF0Zm9ybSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/ICdObyBwbGF0Zm9ybSBleGlzdHMhJyA6ICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMSAvKiBQTEFURk9STV9OT1RfRk9VTkQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJlxuICAgICAgICAhcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KHJlcXVpcmVkVG9rZW4sIG51bGwpKSB7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAwIC8qIE1VTFRJUExFX1BMQVRGT1JNUyAqLywgJ0EgcGxhdGZvcm0gd2l0aCBhIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGNyZWF0ZWQuIFBsZWFzZSBkZXN0cm95IGl0IGZpcnN0LicpO1xuICAgIH1cbiAgICByZXR1cm4gcGxhdGZvcm07XG59XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjdXJyZW50IEFuZ3VsYXIgcGxhdGZvcm0gYW5kIGFsbCBBbmd1bGFyIGFwcGxpY2F0aW9ucyBvbiB0aGUgcGFnZS5cbiAqIERlc3Ryb3lzIGFsbCBtb2R1bGVzIGFuZCBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBwbGF0Zm9ybS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lQbGF0Zm9ybSgpIHtcbiAgICBpZiAoX3BsYXRmb3JtICYmICFfcGxhdGZvcm0uZGVzdHJveWVkKSB7XG4gICAgICAgIF9wbGF0Zm9ybS5kZXN0cm95KCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBsYXRmb3JtLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZ2V0UGxhdGZvcm0oKSB7XG4gICAgcmV0dXJuIF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCA/IF9wbGF0Zm9ybSA6IG51bGw7XG59XG4vKipcbiAqIFRoZSBBbmd1bGFyIHBsYXRmb3JtIGlzIHRoZSBlbnRyeSBwb2ludCBmb3IgQW5ndWxhciBvbiBhIHdlYiBwYWdlLlxuICogRWFjaCBwYWdlIGhhcyBleGFjdGx5IG9uZSBwbGF0Zm9ybS4gU2VydmljZXMgKHN1Y2ggYXMgcmVmbGVjdGlvbikgd2hpY2ggYXJlIGNvbW1vblxuICogdG8gZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBydW5uaW5nIG9uIHRoZSBwYWdlIGFyZSBib3VuZCBpbiBpdHMgc2NvcGUuXG4gKiBBIHBhZ2UncyBwbGF0Zm9ybSBpcyBpbml0aWFsaXplZCBpbXBsaWNpdGx5IHdoZW4gYSBwbGF0Zm9ybSBpcyBjcmVhdGVkIHVzaW5nIGEgcGxhdGZvcm1cbiAqIGZhY3Rvcnkgc3VjaCBhcyBgUGxhdGZvcm1Ccm93c2VyYCwgb3IgZXhwbGljaXRseSBieSBjYWxsaW5nIHRoZSBgY3JlYXRlUGxhdGZvcm0oKWAgZnVuY3Rpb24uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBQbGF0Zm9ybVJlZiB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbnN0cnVjdG9yKF9pbmplY3Rvcikge1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgdGhpcy5fbW9kdWxlcyA9IFtdO1xuICAgICAgICB0aGlzLl9kZXN0cm95TGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIGBATmdNb2R1bGVgIGZvciB0aGUgZ2l2ZW4gcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQYXNzaW5nIE5nTW9kdWxlIGZhY3RvcmllcyBhcyB0aGUgYFBsYXRmb3JtUmVmLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnlgIGZ1bmN0aW9uXG4gICAgICogICAgIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgYFBsYXRmb3JtUmVmLmJvb3RzdHJhcE1vZHVsZWAgQVBJIGluc3RlYWQuXG4gICAgICovXG4gICAgYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIG5lZWQgdG8gY3JlYXRlIHRoZSBOZ1pvbmUgX2JlZm9yZV8gd2UgaW5zdGFudGlhdGUgdGhlIG1vZHVsZSxcbiAgICAgICAgLy8gYXMgaW5zdGFudGlhdGluZyB0aGUgbW9kdWxlIGNyZWF0ZXMgc29tZSBwcm92aWRlcnMgZWFnZXJseS5cbiAgICAgICAgLy8gU28gd2UgY3JlYXRlIGEgbWluaSBwYXJlbnQgaW5qZWN0b3IgdGhhdCBqdXN0IGNvbnRhaW5zIHRoZSBuZXcgTmdab25lIGFuZFxuICAgICAgICAvLyBwYXNzIHRoYXQgYXMgcGFyZW50IHRvIHRoZSBOZ01vZHVsZUZhY3RvcnkuXG4gICAgICAgIGNvbnN0IG5nWm9uZU9wdGlvbiA9IG9wdGlvbnMgPyBvcHRpb25zLm5nWm9uZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgbmdab25lRXZlbnRDb2FsZXNjaW5nID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5uZ1pvbmVFdmVudENvYWxlc2NpbmcpIHx8IGZhbHNlO1xuICAgICAgICBjb25zdCBuZ1pvbmVSdW5Db2FsZXNjaW5nID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5uZ1pvbmVSdW5Db2FsZXNjaW5nKSB8fCBmYWxzZTtcbiAgICAgICAgY29uc3Qgbmdab25lID0gZ2V0Tmdab25lKG5nWm9uZU9wdGlvbiwgeyBuZ1pvbmVFdmVudENvYWxlc2NpbmcsIG5nWm9uZVJ1bkNvYWxlc2NpbmcgfSk7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IFt7IHByb3ZpZGU6IE5nWm9uZSwgdXNlVmFsdWU6IG5nWm9uZSB9XTtcbiAgICAgICAgLy8gTm90ZTogQ3JlYXRlIG5nWm9uZUluamVjdG9yIHdpdGhpbiBuZ1pvbmUucnVuIHNvIHRoYXQgYWxsIG9mIHRoZSBpbnN0YW50aWF0ZWQgc2VydmljZXMgYXJlXG4gICAgICAgIC8vIGNyZWF0ZWQgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmVcbiAgICAgICAgLy8gRG8gbm90IHRyeSB0byByZXBsYWNlIG5nWm9uZS5ydW4gd2l0aCBBcHBsaWNhdGlvblJlZiNydW4gYmVjYXVzZSBBcHBsaWNhdGlvblJlZiB3b3VsZCB0aGVuIGJlXG4gICAgICAgIC8vIGNyZWF0ZWQgb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAgICByZXR1cm4gbmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZ1pvbmVJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogcHJvdmlkZXJzLCBwYXJlbnQ6IHRoaXMuaW5qZWN0b3IsIG5hbWU6IG1vZHVsZUZhY3RvcnkubW9kdWxlVHlwZS5uYW1lIH0pO1xuICAgICAgICAgICAgY29uc3QgbW9kdWxlUmVmID0gbW9kdWxlRmFjdG9yeS5jcmVhdGUobmdab25lSW5qZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgZXhjZXB0aW9uSGFuZGxlciA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoRXJyb3JIYW5kbGVyLCBudWxsKTtcbiAgICAgICAgICAgIGlmICghZXhjZXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAgICAgJ05vIEVycm9ySGFuZGxlci4gSXMgcGxhdGZvcm0gbW9kdWxlIChCcm93c2VyTW9kdWxlKSBpbmNsdWRlZD8nIDpcbiAgICAgICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDIgLyogRVJST1JfSEFORExFUl9OT1RfRk9VTkQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG5nWm9uZS5vbkVycm9yLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtb2R1bGVSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHRoaXMuX21vZHVsZXMsIG1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX2NhbGxBbmRSZXBvcnRUb0Vycm9ySGFuZGxlcihleGNlcHRpb25IYW5kbGVyLCBuZ1pvbmUsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0U3RhdHVzID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChBcHBsaWNhdGlvbkluaXRTdGF0dXMpO1xuICAgICAgICAgICAgICAgIGluaXRTdGF0dXMucnVuSW5pdGlhbGl6ZXJzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaXRTdGF0dXMuZG9uZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBgTE9DQUxFX0lEYCBwcm92aWRlciBpcyBkZWZpbmVkIGF0IGJvb3RzdHJhcCB0aGVuIHdlIHNldCB0aGUgdmFsdWUgZm9yIGl2eVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbGVJZCA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoTE9DQUxFX0lELCBERUZBVUxUX0xPQ0FMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgIHNldExvY2FsZUlkKGxvY2FsZUlkIHx8IERFRkFVTFRfTE9DQUxFX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW9kdWxlRG9Cb290c3RyYXAobW9kdWxlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVJlZjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgQE5nTW9kdWxlYCBmb3IgYSBnaXZlbiBwbGF0Zm9ybS5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIFNpbXBsZSBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQE5nTW9kdWxlKHtcbiAgICAgKiAgIGltcG9ydHM6IFtCcm93c2VyTW9kdWxlXVxuICAgICAqIH0pXG4gICAgICogY2xhc3MgTXlNb2R1bGUge31cbiAgICAgKlxuICAgICAqIGxldCBtb2R1bGVSZWYgPSBwbGF0Zm9ybUJyb3dzZXIoKS5ib290c3RyYXBNb2R1bGUoTXlNb2R1bGUpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICovXG4gICAgYm9vdHN0cmFwTW9kdWxlKG1vZHVsZVR5cGUsIGNvbXBpbGVyT3B0aW9ucyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zUmVkdWNlcih7fSwgY29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVOZ01vZHVsZUZhY3RvcnkodGhpcy5pbmplY3Rvciwgb3B0aW9ucywgbW9kdWxlVHlwZSlcbiAgICAgICAgICAgIC50aGVuKG1vZHVsZUZhY3RvcnkgPT4gdGhpcy5ib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnksIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgX21vZHVsZURvQm9vdHN0cmFwKG1vZHVsZVJlZikge1xuICAgICAgICBjb25zdCBhcHBSZWYgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKTtcbiAgICAgICAgaWYgKG1vZHVsZVJlZi5fYm9vdHN0cmFwQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtb2R1bGVSZWYuX2Jvb3RzdHJhcENvbXBvbmVudHMuZm9yRWFjaChmID0+IGFwcFJlZi5ib290c3RyYXAoZikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1vZHVsZVJlZi5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKSB7XG4gICAgICAgICAgICBtb2R1bGVSZWYuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcChhcHBSZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgIGBUaGUgbW9kdWxlICR7c3RyaW5naWZ5KG1vZHVsZVJlZi5pbnN0YW5jZS5jb25zdHJ1Y3Rvcil9IHdhcyBib290c3RyYXBwZWQsIGAgK1xuICAgICAgICAgICAgICAgICAgICBgYnV0IGl0IGRvZXMgbm90IGRlY2xhcmUgXCJATmdNb2R1bGUuYm9vdHN0cmFwXCIgY29tcG9uZW50cyBub3IgYSBcIm5nRG9Cb290c3RyYXBcIiBtZXRob2QuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUGxlYXNlIGRlZmluZSBvbmUgb2YgdGhlc2UuYCA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMyAvKiBCT09UU1RSQVBfQ09NUE9ORU5UU19OT1RfRk9VTkQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kdWxlcy5wdXNoKG1vZHVsZVJlZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBwbGF0Zm9ybSBpcyBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgcGxhdGZvcm0ge0BsaW5rIEluamVjdG9yfSwgd2hpY2ggaXMgdGhlIHBhcmVudCBpbmplY3RvciBmb3JcbiAgICAgKiBldmVyeSBBbmd1bGFyIGFwcGxpY2F0aW9uIG9uIHRoZSBwYWdlIGFuZCBwcm92aWRlcyBzaW5nbGV0b24gcHJvdmlkZXJzLlxuICAgICAqL1xuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luamVjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY3VycmVudCBBbmd1bGFyIHBsYXRmb3JtIGFuZCBhbGwgQW5ndWxhciBhcHBsaWNhdGlvbnMgb24gdGhlIHBhZ2UuXG4gICAgICogRGVzdHJveXMgYWxsIG1vZHVsZXMgYW5kIGxpc3RlbmVycyByZWdpc3RlcmVkIHdpdGggdGhlIHBsYXRmb3JtLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAnVGhlIHBsYXRmb3JtIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkIScgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDQgLyogQUxSRUFEWV9ERVNUUk9ZRURfUExBVEZPUk0gKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kdWxlcy5zbGljZSgpLmZvckVhY2gobW9kdWxlID0+IG1vZHVsZS5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLl9kZXN0cm95TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoKSk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXN0cm95ZWQ7XG4gICAgfVxufVxuUGxhdGZvcm1SZWYuybVmYWMgPSBmdW5jdGlvbiBQbGF0Zm9ybVJlZl9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBQbGF0Zm9ybVJlZikoybXJtWluamVjdChJbmplY3RvcikpOyB9O1xuUGxhdGZvcm1SZWYuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBQbGF0Zm9ybVJlZiwgZmFjdG9yeTogUGxhdGZvcm1SZWYuybVmYWMgfSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShQbGF0Zm9ybVJlZiwgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEluamVjdG9yIH1dOyB9LCBudWxsKTtcbn0pKCk7XG5mdW5jdGlvbiBnZXROZ1pvbmUobmdab25lT3B0aW9uLCBleHRyYSkge1xuICAgIGxldCBuZ1pvbmU7XG4gICAgaWYgKG5nWm9uZU9wdGlvbiA9PT0gJ25vb3AnKSB7XG4gICAgICAgIG5nWm9uZSA9IG5ldyBOb29wTmdab25lKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ1pvbmUgPSAobmdab25lT3B0aW9uID09PSAnem9uZS5qcycgPyB1bmRlZmluZWQgOiBuZ1pvbmVPcHRpb24pIHx8IG5ldyBOZ1pvbmUoe1xuICAgICAgICAgICAgZW5hYmxlTG9uZ1N0YWNrVHJhY2U6IHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiAhIW5nRGV2TW9kZSxcbiAgICAgICAgICAgIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246ICEhKGV4dHJhID09PSBudWxsIHx8IGV4dHJhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBleHRyYS5uZ1pvbmVFdmVudENvYWxlc2NpbmcpLFxuICAgICAgICAgICAgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb246ICEhKGV4dHJhID09PSBudWxsIHx8IGV4dHJhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBleHRyYS5uZ1pvbmVSdW5Db2FsZXNjaW5nKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5nWm9uZTtcbn1cbmZ1bmN0aW9uIF9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIoZXJyb3JIYW5kbGVyLCBuZ1pvbmUsIGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsbGJhY2soKTtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IGVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSk7XG4gICAgICAgICAgICAgICAgLy8gcmV0aHJvdyBhcyB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgbWlnaHQgbm90IGRvIGl0XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICAvLyByZXRocm93IGFzIHRoZSBleGNlcHRpb24gaGFuZGxlciBtaWdodCBub3QgZG8gaXRcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG59XG5mdW5jdGlvbiBvcHRpb25zUmVkdWNlcihkc3QsIG9ianMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpzKSkge1xuICAgICAgICBkc3QgPSBvYmpzLnJlZHVjZShvcHRpb25zUmVkdWNlciwgZHN0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRzdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZHN0KSwgb2Jqcyk7XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGFuIEFuZ3VsYXIgYXBwbGljYXRpb24gcnVubmluZyBvbiBhIHBhZ2UuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiB7QGEgaXMtc3RhYmxlLWV4YW1wbGVzfVxuICogIyMjIGlzU3RhYmxlIGV4YW1wbGVzIGFuZCBjYXZlYXRzXG4gKlxuICogTm90ZSB0d28gaW1wb3J0YW50IHBvaW50cyBhYm91dCBgaXNTdGFibGVgLCBkZW1vbnN0cmF0ZWQgaW4gdGhlIGV4YW1wbGVzIGJlbG93OlxuICogLSB0aGUgYXBwbGljYXRpb24gd2lsbCBuZXZlciBiZSBzdGFibGUgaWYgeW91IHN0YXJ0IGFueSBraW5kXG4gKiBvZiByZWN1cnJlbnQgYXN5bmNocm9ub3VzIHRhc2sgd2hlbiB0aGUgYXBwbGljYXRpb24gc3RhcnRzXG4gKiAoZm9yIGV4YW1wbGUgZm9yIGEgcG9sbGluZyBwcm9jZXNzLCBzdGFydGVkIHdpdGggYSBgc2V0SW50ZXJ2YWxgLCBhIGBzZXRUaW1lb3V0YFxuICogb3IgdXNpbmcgUnhKUyBvcGVyYXRvcnMgbGlrZSBgaW50ZXJ2YWxgKTtcbiAqIC0gdGhlIGBpc1N0YWJsZWAgT2JzZXJ2YWJsZSBydW5zIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBMZXQncyBpbWFnaW5lIHRoYXQgeW91IHN0YXJ0IGEgcmVjdXJyZW50IHRhc2tcbiAqIChoZXJlIGluY3JlbWVudGluZyBhIGNvdW50ZXIsIHVzaW5nIFJ4SlMgYGludGVydmFsYCksXG4gKiBhbmQgYXQgdGhlIHNhbWUgdGltZSBzdWJzY3JpYmUgdG8gYGlzU3RhYmxlYC5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgIGZpbHRlcihzdGFibGUgPT4gc3RhYmxlKVxuICogICApLnN1YnNjcmliZSgoKSA9PiBjb25zb2xlLmxvZygnQXBwIGlzIHN0YWJsZSBub3cnKTtcbiAqICAgaW50ZXJ2YWwoMTAwMCkuc3Vic2NyaWJlKGNvdW50ZXIgPT4gY29uc29sZS5sb2coY291bnRlcikpO1xuICogfVxuICogYGBgXG4gKiBJbiB0aGlzIGV4YW1wbGUsIGBpc1N0YWJsZWAgd2lsbCBuZXZlciBlbWl0IGB0cnVlYCxcbiAqIGFuZCB0aGUgdHJhY2UgXCJBcHAgaXMgc3RhYmxlIG5vd1wiIHdpbGwgbmV2ZXIgZ2V0IGxvZ2dlZC5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBleGVjdXRlIHNvbWV0aGluZyB3aGVuIHRoZSBhcHAgaXMgc3RhYmxlLFxuICogeW91IGhhdmUgdG8gd2FpdCBmb3IgdGhlIGFwcGxpY2F0aW9uIHRvIGJlIHN0YWJsZVxuICogYmVmb3JlIHN0YXJ0aW5nIHlvdXIgcG9sbGluZyBwcm9jZXNzLlxuICpcbiAqIGBgYFxuICogY29uc3RydWN0b3IoYXBwUmVmOiBBcHBsaWNhdGlvblJlZikge1xuICogICBhcHBSZWYuaXNTdGFibGUucGlwZShcbiAqICAgICBmaXJzdChzdGFibGUgPT4gc3RhYmxlKSxcbiAqICAgICB0YXAoc3RhYmxlID0+IGNvbnNvbGUubG9nKCdBcHAgaXMgc3RhYmxlIG5vdycpKSxcbiAqICAgICBzd2l0Y2hNYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkpXG4gKiAgICkuc3Vic2NyaWJlKGNvdW50ZXIgPT4gY29uc29sZS5sb2coY291bnRlcikpO1xuICogfVxuICogYGBgXG4gKiBJbiB0aGlzIGV4YW1wbGUsIHRoZSB0cmFjZSBcIkFwcCBpcyBzdGFibGUgbm93XCIgd2lsbCBiZSBsb2dnZWRcbiAqIGFuZCB0aGVuIHRoZSBjb3VudGVyIHN0YXJ0cyBpbmNyZW1lbnRpbmcgZXZlcnkgc2Vjb25kLlxuICpcbiAqIE5vdGUgYWxzbyB0aGF0IHRoaXMgT2JzZXJ2YWJsZSBydW5zIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSxcbiAqIHdoaWNoIG1lYW5zIHRoYXQgdGhlIGNvZGUgaW4gdGhlIHN1YnNjcmlwdGlvblxuICogdG8gdGhpcyBPYnNlcnZhYmxlIHdpbGwgbm90IHRyaWdnZXIgdGhlIGNoYW5nZSBkZXRlY3Rpb24uXG4gKlxuICogTGV0J3MgaW1hZ2luZSB0aGF0IGluc3RlYWQgb2YgbG9nZ2luZyB0aGUgY291bnRlciB2YWx1ZSxcbiAqIHlvdSB1cGRhdGUgYSBmaWVsZCBvZiB5b3VyIGNvbXBvbmVudFxuICogYW5kIGRpc3BsYXkgaXQgaW4gaXRzIHRlbXBsYXRlLlxuICpcbiAqIGBgYFxuICogY29uc3RydWN0b3IoYXBwUmVmOiBBcHBsaWNhdGlvblJlZikge1xuICogICBhcHBSZWYuaXNTdGFibGUucGlwZShcbiAqICAgICBmaXJzdChzdGFibGUgPT4gc3RhYmxlKSxcbiAqICAgICBzd2l0Y2hNYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkpXG4gKiAgICkuc3Vic2NyaWJlKGNvdW50ZXIgPT4gdGhpcy52YWx1ZSA9IGNvdW50ZXIpO1xuICogfVxuICogYGBgXG4gKiBBcyB0aGUgYGlzU3RhYmxlYCBPYnNlcnZhYmxlIHJ1bnMgb3V0c2lkZSB0aGUgem9uZSxcbiAqIHRoZSBgdmFsdWVgIGZpZWxkIHdpbGwgYmUgdXBkYXRlZCBwcm9wZXJseSxcbiAqIGJ1dCB0aGUgdGVtcGxhdGUgd2lsbCBub3QgYmUgcmVmcmVzaGVkIVxuICpcbiAqIFlvdSdsbCBoYXZlIHRvIG1hbnVhbGx5IHRyaWdnZXIgdGhlIGNoYW5nZSBkZXRlY3Rpb24gdG8gdXBkYXRlIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYsIGNkOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuICogICBhcHBSZWYuaXNTdGFibGUucGlwZShcbiAqICAgICBmaXJzdChzdGFibGUgPT4gc3RhYmxlKSxcbiAqICAgICBzd2l0Y2hNYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkpXG4gKiAgICkuc3Vic2NyaWJlKGNvdW50ZXIgPT4ge1xuICogICAgIHRoaXMudmFsdWUgPSBjb3VudGVyO1xuICogICAgIGNkLmRldGVjdENoYW5nZXMoKTtcbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBPciBtYWtlIHRoZSBzdWJzY3JpcHRpb24gY2FsbGJhY2sgcnVuIGluc2lkZSB0aGUgem9uZS5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYsIHpvbmU6IE5nWm9uZSkge1xuICogICBhcHBSZWYuaXNTdGFibGUucGlwZShcbiAqICAgICBmaXJzdChzdGFibGUgPT4gc3RhYmxlKSxcbiAqICAgICBzd2l0Y2hNYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkpXG4gKiAgICkuc3Vic2NyaWJlKGNvdW50ZXIgPT4gem9uZS5ydW4oKCkgPT4gdGhpcy52YWx1ZSA9IGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgQXBwbGljYXRpb25SZWYge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3Rvcihfem9uZSwgX2luamVjdG9yLCBfZXhjZXB0aW9uSGFuZGxlciwgX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgX2luaXRTdGF0dXMpIHtcbiAgICAgICAgdGhpcy5fem9uZSA9IF96b25lO1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgdGhpcy5fZXhjZXB0aW9uSGFuZGxlciA9IF9leGNlcHRpb25IYW5kbGVyO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICB0aGlzLl9pbml0U3RhdHVzID0gX2luaXRTdGF0dXM7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX3ZpZXdzID0gW107XG4gICAgICAgIHRoaXMuX3J1bm5pbmdUaWNrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBsaXN0IG9mIGNvbXBvbmVudCB0eXBlcyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICAgICAqIFRoaXMgbGlzdCBpcyBwb3B1bGF0ZWQgZXZlbiBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBjcmVhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgbGlzdCBvZiBjb21wb25lbnRzIHJlZ2lzdGVyZWQgdG8gdGhpcyBhcHBsaWNhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uID0gdGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGlzQ3VycmVudGx5U3RhYmxlID0gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zdGFibGUgPSB0aGlzLl96b25lLmlzU3RhYmxlICYmICF0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01pY3JvdGFza3M7XG4gICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHRoaXMuX3N0YWJsZSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaXNTdGFibGUgPSBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgc3Vic2NyaXB0aW9uIHRvIG9uU3RhYmxlIG91dHNpZGUgdGhlIEFuZ3VsYXIgWm9uZSBzbyB0aGF0XG4gICAgICAgICAgICAvLyB0aGUgY2FsbGJhY2sgaXMgcnVuIG91dHNpZGUgdGhlIEFuZ3VsYXIgWm9uZS5cbiAgICAgICAgICAgIGxldCBzdGFibGVTdWI7XG4gICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzdGFibGVTdWIgPSB0aGlzLl96b25lLm9uU3RhYmxlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIE5nWm9uZS5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlcmUgYXJlIG5vIHBlbmRpbmcgbWFjcm8vbWljcm8gdGFza3MgaW4gdGhlIG5leHQgdGlja1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBhbGxvdyBmb3IgTmdab25lIHRvIHVwZGF0ZSB0aGUgc3RhdGUuXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlTWljcm9UYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc3RhYmxlICYmICF0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB1bnN0YWJsZVN1YiA9IHRoaXMuX3pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIE5nWm9uZS5hc3NlcnRJbkFuZ3VsYXJab25lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YWJsZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIHVuc3RhYmxlU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pc1N0YWJsZSA9XG4gICAgICAgICAgICBtZXJnZSQxKGlzQ3VycmVudGx5U3RhYmxlLCBpc1N0YWJsZS5waXBlKHNoYXJlKCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQm9vdHN0cmFwIGEgY29tcG9uZW50IG9udG8gdGhlIGVsZW1lbnQgaWRlbnRpZmllZCBieSBpdHMgc2VsZWN0b3Igb3IsIG9wdGlvbmFsbHksIHRvIGFcbiAgICAgKiBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEJvb3RzdHJhcCBwcm9jZXNzXG4gICAgICpcbiAgICAgKiBXaGVuIGJvb3RzdHJhcHBpbmcgYSBjb21wb25lbnQsIEFuZ3VsYXIgbW91bnRzIGl0IG9udG8gYSB0YXJnZXQgRE9NIGVsZW1lbnRcbiAgICAgKiBhbmQga2lja3Mgb2ZmIGF1dG9tYXRpYyBjaGFuZ2UgZGV0ZWN0aW9uLiBUaGUgdGFyZ2V0IERPTSBlbGVtZW50IGNhbiBiZVxuICAgICAqIHByb3ZpZGVkIHVzaW5nIHRoZSBgcm9vdFNlbGVjdG9yT3JOb2RlYCBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIElmIHRoZSB0YXJnZXQgRE9NIGVsZW1lbnQgaXMgbm90IHByb3ZpZGVkLCBBbmd1bGFyIHRyaWVzIHRvIGZpbmQgb25lIG9uIGEgcGFnZVxuICAgICAqIHVzaW5nIHRoZSBgc2VsZWN0b3JgIG9mIHRoZSBjb21wb25lbnQgdGhhdCBpcyBiZWluZyBib290c3RyYXBwZWRcbiAgICAgKiAoZmlyc3QgbWF0Y2hlZCBlbGVtZW50IGlzIHVzZWQpLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIEdlbmVyYWxseSwgd2UgZGVmaW5lIHRoZSBjb21wb25lbnQgdG8gYm9vdHN0cmFwIGluIHRoZSBgYm9vdHN0cmFwYCBhcnJheSBvZiBgTmdNb2R1bGVgLFxuICAgICAqIGJ1dCBpdCByZXF1aXJlcyB1cyB0byBrbm93IHRoZSBjb21wb25lbnQgd2hpbGUgd3JpdGluZyB0aGUgYXBwbGljYXRpb24gY29kZS5cbiAgICAgKlxuICAgICAqIEltYWdpbmUgYSBzaXR1YXRpb24gd2hlcmUgd2UgaGF2ZSB0byB3YWl0IGZvciBhbiBBUEkgY2FsbCB0byBkZWNpZGUgYWJvdXQgdGhlIGNvbXBvbmVudCB0b1xuICAgICAqIGJvb3RzdHJhcC4gV2UgY2FuIHVzZSB0aGUgYG5nRG9Cb290c3RyYXBgIGhvb2sgb2YgdGhlIGBOZ01vZHVsZWAgYW5kIGNhbGwgdGhpcyBtZXRob2QgdG9cbiAgICAgKiBkeW5hbWljYWxseSBib290c3RyYXAgYSBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgY29yZS90cy9wbGF0Zm9ybS9wbGF0Zm9ybS50cyByZWdpb249J2NvbXBvbmVudFNlbGVjdG9yJ31cbiAgICAgKlxuICAgICAqIE9wdGlvbmFsbHksIGEgY29tcG9uZW50IGNhbiBiZSBtb3VudGVkIG9udG8gYSBET00gZWxlbWVudCB0aGF0IGRvZXMgbm90IG1hdGNoIHRoZVxuICAgICAqIHNlbGVjdG9yIG9mIHRoZSBib290c3RyYXBwZWQgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCB3ZSBhcmUgcHJvdmlkaW5nIGEgQ1NTIHNlbGVjdG9yIHRvIG1hdGNoIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIHtAZXhhbXBsZSBjb3JlL3RzL3BsYXRmb3JtL3BsYXRmb3JtLnRzIHJlZ2lvbj0nY3NzU2VsZWN0b3InfVxuICAgICAqXG4gICAgICogV2hpbGUgaW4gdGhpcyBleGFtcGxlLCB3ZSBhcmUgcHJvdmlkaW5nIHJlZmVyZW5jZSB0byBhIERPTSBub2RlLlxuICAgICAqXG4gICAgICoge0BleGFtcGxlIGNvcmUvdHMvcGxhdGZvcm0vcGxhdGZvcm0udHMgcmVnaW9uPSdkb21Ob2RlJ31cbiAgICAgKi9cbiAgICBib290c3RyYXAoY29tcG9uZW50T3JGYWN0b3J5LCByb290U2VsZWN0b3JPck5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0U3RhdHVzLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAnQ2Fubm90IGJvb3RzdHJhcCBhcyB0aGVyZSBhcmUgc3RpbGwgYXN5bmNocm9ub3VzIGluaXRpYWxpemVycyBydW5uaW5nLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0Jvb3RzdHJhcCBjb21wb25lbnRzIGluIHRoZSBgbmdEb0Jvb3RzdHJhcGAgbWV0aG9kIG9mIHRoZSByb290IG1vZHVsZS4nIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDA1IC8qIEFTWU5DX0lOSVRJQUxJWkVSU19TVElMTF9SVU5OSU5HICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb21wb25lbnRGYWN0b3J5O1xuICAgICAgICBpZiAoY29tcG9uZW50T3JGYWN0b3J5IGluc3RhbmNlb2YgQ29tcG9uZW50RmFjdG9yeSQxKSB7XG4gICAgICAgICAgICBjb21wb25lbnRGYWN0b3J5ID0gY29tcG9uZW50T3JGYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeSA9XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudE9yRmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlcy5wdXNoKGNvbXBvbmVudEZhY3RvcnkuY29tcG9uZW50VHlwZSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGZhY3RvcnkgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vZHVsZSBpZiBpdCdzIG5vdCBib3VuZCB0byBzb21lIG90aGVyXG4gICAgICAgIGNvbnN0IG5nTW9kdWxlID0gaXNCb3VuZFRvTW9kdWxlKGNvbXBvbmVudEZhY3RvcnkpID8gdW5kZWZpbmVkIDogdGhpcy5faW5qZWN0b3IuZ2V0KE5nTW9kdWxlUmVmJDEpO1xuICAgICAgICBjb25zdCBzZWxlY3Rvck9yTm9kZSA9IHJvb3RTZWxlY3Rvck9yTm9kZSB8fCBjb21wb25lbnRGYWN0b3J5LnNlbGVjdG9yO1xuICAgICAgICBjb25zdCBjb21wUmVmID0gY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoSW5qZWN0b3IuTlVMTCwgW10sIHNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSk7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSBjb21wUmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHRlc3RhYmlsaXR5ID0gY29tcFJlZi5pbmplY3Rvci5nZXQoVGVzdGFiaWxpdHksIG51bGwpO1xuICAgICAgICBjb25zdCB0ZXN0YWJpbGl0eVJlZ2lzdHJ5ID0gdGVzdGFiaWxpdHkgJiYgY29tcFJlZi5pbmplY3Rvci5nZXQoVGVzdGFiaWxpdHlSZWdpc3RyeSk7XG4gICAgICAgIGlmICh0ZXN0YWJpbGl0eSAmJiB0ZXN0YWJpbGl0eVJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICB0ZXN0YWJpbGl0eVJlZ2lzdHJ5LnJlZ2lzdGVyQXBwbGljYXRpb24obmF0aXZlRWxlbWVudCwgdGVzdGFiaWxpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoVmlldyhjb21wUmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIHJlbW92ZSh0aGlzLmNvbXBvbmVudHMsIGNvbXBSZWYpO1xuICAgICAgICAgICAgaWYgKHRlc3RhYmlsaXR5UmVnaXN0cnkpIHtcbiAgICAgICAgICAgICAgICB0ZXN0YWJpbGl0eVJlZ2lzdHJ5LnVucmVnaXN0ZXJBcHBsaWNhdGlvbihuYXRpdmVFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2xvYWRDb21wb25lbnQoY29tcFJlZik7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IF9jb25zb2xlID0gdGhpcy5faW5qZWN0b3IuZ2V0KENvbnNvbGUpO1xuICAgICAgICAgICAgX2NvbnNvbGUubG9nKGBBbmd1bGFyIGlzIHJ1bm5pbmcgaW4gZGV2ZWxvcG1lbnQgbW9kZS4gQ2FsbCBlbmFibGVQcm9kTW9kZSgpIHRvIGVuYWJsZSBwcm9kdWN0aW9uIG1vZGUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGlzIG1ldGhvZCB0byBleHBsaWNpdGx5IHByb2Nlc3MgY2hhbmdlIGRldGVjdGlvbiBhbmQgaXRzIHNpZGUtZWZmZWN0cy5cbiAgICAgKlxuICAgICAqIEluIGRldmVsb3BtZW50IG1vZGUsIGB0aWNrKClgIGFsc28gcGVyZm9ybXMgYSBzZWNvbmQgY2hhbmdlIGRldGVjdGlvbiBjeWNsZSB0byBlbnN1cmUgdGhhdCBub1xuICAgICAqIGZ1cnRoZXIgY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuIElmIGFkZGl0aW9uYWwgY2hhbmdlcyBhcmUgcGlja2VkIHVwIGR1cmluZyB0aGlzIHNlY29uZCBjeWNsZSxcbiAgICAgKiBiaW5kaW5ncyBpbiB0aGUgYXBwIGhhdmUgc2lkZS1lZmZlY3RzIHRoYXQgY2Fubm90IGJlIHJlc29sdmVkIGluIGEgc2luZ2xlIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgKiBwYXNzLlxuICAgICAqIEluIHRoaXMgY2FzZSwgQW5ndWxhciB0aHJvd3MgYW4gZXJyb3IsIHNpbmNlIGFuIEFuZ3VsYXIgYXBwbGljYXRpb24gY2FuIG9ubHkgaGF2ZSBvbmUgY2hhbmdlXG4gICAgICogZGV0ZWN0aW9uIHBhc3MgZHVyaW5nIHdoaWNoIGFsbCBjaGFuZ2UgZGV0ZWN0aW9uIG11c3QgY29tcGxldGUuXG4gICAgICovXG4gICAgdGljaygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3J1bm5pbmdUaWNrKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ0FwcGxpY2F0aW9uUmVmLnRpY2sgaXMgY2FsbGVkIHJlY3Vyc2l2ZWx5JyA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDEwMSAvKiBSRUNVUlNJVkVfQVBQTElDQVRJT05fUkVGX1RJQ0sgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3J1bm5pbmdUaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAobGV0IHZpZXcgb2YgdGhpcy5fdmlld3MpIHtcbiAgICAgICAgICAgICAgICB2aWV3LmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMuX3ZpZXdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuY2hlY2tOb0NoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIEF0dGVudGlvbjogRG9uJ3QgcmV0aHJvdyBhcyBpdCBjb3VsZCBjYW5jZWwgc3Vic2NyaXB0aW9ucyB0byBPYnNlcnZhYmxlcyFcbiAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gdGhpcy5fZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcihlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGEgdmlldyBzbyB0aGF0IGl0IHdpbGwgYmUgZGlydHkgY2hlY2tlZC5cbiAgICAgKiBUaGUgdmlldyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGV0YWNoZWQgd2hlbiBpdCBpcyBkZXN0cm95ZWQuXG4gICAgICogVGhpcyB3aWxsIHRocm93IGlmIHRoZSB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyLlxuICAgICAqL1xuICAgIGF0dGFjaFZpZXcodmlld1JlZikge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmlld1JlZjtcbiAgICAgICAgdGhpcy5fdmlld3MucHVzaCh2aWV3KTtcbiAgICAgICAgdmlldy5hdHRhY2hUb0FwcFJlZih0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0YWNoZXMgYSB2aWV3IGZyb20gZGlydHkgY2hlY2tpbmcgYWdhaW4uXG4gICAgICovXG4gICAgZGV0YWNoVmlldyh2aWV3UmVmKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2aWV3UmVmO1xuICAgICAgICByZW1vdmUodGhpcy5fdmlld3MsIHZpZXcpO1xuICAgICAgICB2aWV3LmRldGFjaEZyb21BcHBSZWYoKTtcbiAgICB9XG4gICAgX2xvYWRDb21wb25lbnQoY29tcG9uZW50UmVmKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50UmVmKTtcbiAgICAgICAgLy8gR2V0IHRoZSBsaXN0ZW5lcnMgbGF6aWx5IHRvIHByZXZlbnQgREkgY3ljbGVzLlxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9pbmplY3Rvci5nZXQoQVBQX0JPT1RTVFJBUF9MSVNURU5FUiwgW10pLmNvbmNhdCh0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMpO1xuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKGNvbXBvbmVudFJlZikpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdzLnNsaWNlKCkuZm9yRWFjaCgodmlldykgPT4gdmlldy5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBhdHRhY2hlZCB2aWV3cy5cbiAgICAgKi9cbiAgICBnZXQgdmlld0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3MubGVuZ3RoO1xuICAgIH1cbn1cbkFwcGxpY2F0aW9uUmVmLsm1ZmFjID0gZnVuY3Rpb24gQXBwbGljYXRpb25SZWZfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgQXBwbGljYXRpb25SZWYpKMm1ybVpbmplY3QoTmdab25lKSwgybXJtWluamVjdChJbmplY3RvciksIMm1ybVpbmplY3QoRXJyb3JIYW5kbGVyKSwgybXJtWluamVjdChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSksIMm1ybVpbmplY3QoQXBwbGljYXRpb25Jbml0U3RhdHVzKSk7IH07XG5BcHBsaWNhdGlvblJlZi7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IEFwcGxpY2F0aW9uUmVmLCBmYWN0b3J5OiBBcHBsaWNhdGlvblJlZi7JtWZhYywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQXBwbGljYXRpb25SZWYsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOZ1pvbmUgfSwgeyB0eXBlOiBJbmplY3RvciB9LCB7IHR5cGU6IEVycm9ySGFuZGxlciB9LCB7IHR5cGU6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIH0sIHsgdHlwZTogQXBwbGljYXRpb25Jbml0U3RhdHVzIH1dOyB9LCBudWxsKTtcbn0pKCk7XG5mdW5jdGlvbiByZW1vdmUobGlzdCwgZWwpIHtcbiAgICBjb25zdCBpbmRleCA9IGxpc3QuaW5kZXhPZihlbCk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9sYXN0RGVmaW5lZChhcmdzKSB7XG4gICAgZm9yIChsZXQgaSA9IGFyZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGFyZ3NbaV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIF9tZXJnZUFycmF5cyhwYXJ0cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHBhcnRzLmZvckVhY2goKHBhcnQpID0+IHBhcnQgJiYgcmVzdWx0LnB1c2goLi4ucGFydCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGZpbGUgaXMgdXNlZCB0byBjb250cm9sIGlmIHRoZSBkZWZhdWx0IHJlbmRlcmluZyBwaXBlbGluZSBzaG91bGQgYmUgYFZpZXdFbmdpbmVgIG9yIGBJdnlgLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBydW4gYW5kIGRlYnVnIHRlc3RzIHdpdGggZWl0aGVyIEl2eSBvciBWaWV3IEVuZ2luZSAobGVnYWN5KSxcbiAqIHBsZWFzZSBzZWUgW0JBWkVMLm1kXSguL2RvY3MvQkFaRUwubWQpLlxuICovXG5sZXQgX2Rldk1vZGUgPSB0cnVlO1xubGV0IF9ydW5Nb2RlTG9ja2VkID0gZmFsc2U7XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBBbmd1bGFyIGlzIGluIGRldmVsb3BtZW50IG1vZGUuIEFmdGVyIGNhbGxlZCBvbmNlLFxuICogdGhlIHZhbHVlIGlzIGxvY2tlZCBhbmQgd29uJ3QgY2hhbmdlIGFueSBtb3JlLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdHJ1ZSwgdW5sZXNzIGEgdXNlciBjYWxscyBgZW5hYmxlUHJvZE1vZGVgIGJlZm9yZSBjYWxsaW5nIHRoaXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBpc0Rldk1vZGUoKSB7XG4gICAgX3J1bk1vZGVMb2NrZWQgPSB0cnVlO1xuICAgIHJldHVybiBfZGV2TW9kZTtcbn1cbi8qKlxuICogRGlzYWJsZSBBbmd1bGFyJ3MgZGV2ZWxvcG1lbnQgbW9kZSwgd2hpY2ggdHVybnMgb2ZmIGFzc2VydGlvbnMgYW5kIG90aGVyXG4gKiBjaGVja3Mgd2l0aGluIHRoZSBmcmFtZXdvcmsuXG4gKlxuICogT25lIGltcG9ydGFudCBhc3NlcnRpb24gdGhpcyBkaXNhYmxlcyB2ZXJpZmllcyB0aGF0IGEgY2hhbmdlIGRldGVjdGlvbiBwYXNzXG4gKiBkb2VzIG5vdCByZXN1bHQgaW4gYWRkaXRpb25hbCBjaGFuZ2VzIHRvIGFueSBiaW5kaW5ncyAoYWxzbyBrbm93biBhc1xuICogdW5pZGlyZWN0aW9uYWwgZGF0YSBmbG93KS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZVByb2RNb2RlKCkge1xuICAgIGlmIChfcnVuTW9kZUxvY2tlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLicpO1xuICAgIH1cbiAgICAvLyBUaGUgYmVsb3cgY2hlY2sgaXMgdGhlcmUgc28gd2hlbiBuZ0Rldk1vZGUgaXMgc2V0IHZpYSB0ZXJzZXJcbiAgICAvLyBgZ2xvYmFsWyduZ0Rldk1vZGUnXSA9IGZhbHNlO2AgaXMgYWxzbyBkcm9wcGVkLlxuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSB1bmRlZmluZWQgfHwgISFuZ0Rldk1vZGUpIHtcbiAgICAgICAgX2dsb2JhbFsnbmdEZXZNb2RlJ10gPSBmYWxzZTtcbiAgICB9XG4gICAgX2Rldk1vZGUgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgTmdNb2R1bGVGYWN0b3J5IHdpdGggdGhlIGdpdmVuIGlkIChzcGVjaWZpZWQgdXNpbmcgW0BOZ01vZHVsZS5pZFxuICogZmllbGRdKGFwaS9jb3JlL05nTW9kdWxlI2lkKSksIGlmIGl0IGV4aXN0cyBhbmQgaGFzIGJlZW4gbG9hZGVkLiBGYWN0b3JpZXMgZm9yIE5nTW9kdWxlcyB0aGF0IGRvXG4gKiBub3Qgc3BlY2lmeSBhbiBgaWRgIGNhbm5vdCBiZSByZXRyaWV2ZWQuIFRocm93cyBpZiBhbiBOZ01vZHVsZSBjYW5ub3QgYmUgZm91bmQuXG4gKiBAcHVibGljQXBpXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGdldE5nTW9kdWxlQnlJZGAgaW5zdGVhZC5cbiAqL1xuZnVuY3Rpb24gZ2V0TW9kdWxlRmFjdG9yeShpZCkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRSZWdpc3RlcmVkTmdNb2R1bGVUeXBlKGlkKTtcbiAgICBpZiAoIXR5cGUpXG4gICAgICAgIHRocm93IG5vTW9kdWxlRXJyb3IoaWQpO1xuICAgIHJldHVybiBuZXcgTmdNb2R1bGVGYWN0b3J5KHR5cGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBOZ01vZHVsZSBjbGFzcyB3aXRoIHRoZSBnaXZlbiBpZCAoc3BlY2lmaWVkIHVzaW5nIFtATmdNb2R1bGUuaWRcbiAqIGZpZWxkXShhcGkvY29yZS9OZ01vZHVsZSNpZCkpLCBpZiBpdCBleGlzdHMgYW5kIGhhcyBiZWVuIGxvYWRlZC4gQ2xhc3NlcyBmb3IgTmdNb2R1bGVzIHRoYXQgZG9cbiAqIG5vdCBzcGVjaWZ5IGFuIGBpZGAgY2Fubm90IGJlIHJldHJpZXZlZC4gVGhyb3dzIGlmIGFuIE5nTW9kdWxlIGNhbm5vdCBiZSBmb3VuZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZ2V0TmdNb2R1bGVCeUlkKGlkKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUoaWQpO1xuICAgIGlmICghdHlwZSlcbiAgICAgICAgdGhyb3cgbm9Nb2R1bGVFcnJvcihpZCk7XG4gICAgcmV0dXJuIHR5cGU7XG59XG5mdW5jdGlvbiBub01vZHVsZUVycm9yKGlkKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgTm8gbW9kdWxlIHdpdGggSUQgJHtpZH0gbG9hZGVkYCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCYXNlIGNsYXNzIHRoYXQgcHJvdmlkZXMgY2hhbmdlIGRldGVjdGlvbiBmdW5jdGlvbmFsaXR5LlxuICogQSBjaGFuZ2UtZGV0ZWN0aW9uIHRyZWUgY29sbGVjdHMgYWxsIHZpZXdzIHRoYXQgYXJlIHRvIGJlIGNoZWNrZWQgZm9yIGNoYW5nZXMuXG4gKiBVc2UgdGhlIG1ldGhvZHMgdG8gYWRkIGFuZCByZW1vdmUgdmlld3MgZnJvbSB0aGUgdHJlZSwgaW5pdGlhdGUgY2hhbmdlLWRldGVjdGlvbixcbiAqIGFuZCBleHBsaWNpdGx5IG1hcmsgdmlld3MgYXMgX2RpcnR5XywgbWVhbmluZyB0aGF0IHRoZXkgaGF2ZSBjaGFuZ2VkIGFuZCBuZWVkIHRvIGJlIHJlLXJlbmRlcmVkLlxuICpcbiAqIEBzZWUgW1VzaW5nIGNoYW5nZSBkZXRlY3Rpb24gaG9va3NdKGd1aWRlL2xpZmVjeWNsZS1ob29rcyN1c2luZy1jaGFuZ2UtZGV0ZWN0aW9uLWhvb2tzKVxuICogQHNlZSBbRGVmaW5pbmcgY3VzdG9tIGNoYW5nZSBkZXRlY3Rpb25dKGd1aWRlL2xpZmVjeWNsZS1ob29rcyNkZWZpbmluZy1jdXN0b20tY2hhbmdlLWRldGVjdGlvbilcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZXMgZGVtb25zdHJhdGUgaG93IHRvIG1vZGlmeSBkZWZhdWx0IGNoYW5nZS1kZXRlY3Rpb24gYmVoYXZpb3JcbiAqIHRvIHBlcmZvcm0gZXhwbGljaXQgZGV0ZWN0aW9uIHdoZW4gbmVlZGVkLlxuICpcbiAqICMjIyBVc2UgYG1hcmtGb3JDaGVjaygpYCB3aXRoIGBDaGVja09uY2VgIHN0cmF0ZWd5XG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNldHMgdGhlIGBPblB1c2hgIGNoYW5nZS1kZXRlY3Rpb24gc3RyYXRlZ3kgZm9yIGEgY29tcG9uZW50XG4gKiAoYENoZWNrT25jZWAsIHJhdGhlciB0aGFuIHRoZSBkZWZhdWx0IGBDaGVja0Fsd2F5c2ApLCB0aGVuIGZvcmNlcyBhIHNlY29uZCBjaGVja1xuICogYWZ0ZXIgYW4gaW50ZXJ2YWwuIFNlZSBbbGl2ZSBkZW1vXShodHRwczovL3BsbmtyLmNvL2VkaXQvR0M1MTJiP3A9cHJldmlldykuXG4gKlxuICogPGNvZGUtZXhhbXBsZSBwYXRoPVwiY29yZS90cy9jaGFuZ2VfZGV0ZWN0L2NoYW5nZS1kZXRlY3Rpb24udHNcIlxuICogcmVnaW9uPVwibWFyay1mb3ItY2hlY2tcIj48L2NvZGUtZXhhbXBsZT5cbiAqXG4gKiAjIyMgRGV0YWNoIGNoYW5nZSBkZXRlY3RvciB0byBsaW1pdCBob3cgb2Z0ZW4gY2hlY2sgb2NjdXJzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlZmluZXMgYSBjb21wb25lbnQgd2l0aCBhIGxhcmdlIGxpc3Qgb2YgcmVhZC1vbmx5IGRhdGFcbiAqIHRoYXQgaXMgZXhwZWN0ZWQgdG8gY2hhbmdlIGNvbnN0YW50bHksIG1hbnkgdGltZXMgcGVyIHNlY29uZC5cbiAqIFRvIGltcHJvdmUgcGVyZm9ybWFuY2UsIHdlIHdhbnQgdG8gY2hlY2sgYW5kIHVwZGF0ZSB0aGUgbGlzdFxuICogbGVzcyBvZnRlbiB0aGFuIHRoZSBjaGFuZ2VzIGFjdHVhbGx5IG9jY3VyLiBUbyBkbyB0aGF0LCB3ZSBkZXRhY2hcbiAqIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIHBlcmZvcm0gYW4gZXhwbGljaXQgbG9jYWwgY2hlY2sgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCIgcmVnaW9uPVwiZGV0YWNoXCI+PC9jb2RlLWV4YW1wbGU+XG4gKlxuICpcbiAqICMjIyBSZWF0dGFjaGluZyBhIGRldGFjaGVkIGNvbXBvbmVudFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgY29tcG9uZW50IGRpc3BsYXlpbmcgbGl2ZSBkYXRhLlxuICogVGhlIGNvbXBvbmVudCBkZXRhY2hlcyBpdHMgY2hhbmdlIGRldGVjdG9yIGZyb20gdGhlIG1haW4gY2hhbmdlIGRldGVjdG9yIHRyZWVcbiAqIHdoZW4gdGhlIGBsaXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gZmFsc2UsIGFuZCByZWF0dGFjaGVzIGl0IHdoZW4gdGhlIHByb3BlcnR5XG4gKiBiZWNvbWVzIHRydWUuXG4gKlxuICogPGNvZGUtZXhhbXBsZSBwYXRoPVwiY29yZS90cy9jaGFuZ2VfZGV0ZWN0L2NoYW5nZS1kZXRlY3Rpb24udHNcIiByZWdpb249XCJyZWF0dGFjaFwiPjwvY29kZS1leGFtcGxlPlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgQ2hhbmdlRGV0ZWN0b3JSZWYge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cbkNoYW5nZURldGVjdG9yUmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gaW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWY7XG4vKiogUmV0dXJucyBhIENoYW5nZURldGVjdG9yUmVmIChhLmsuYS4gYSBWaWV3UmVmKSAqL1xuZnVuY3Rpb24gaW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYoZmxhZ3MpIHtcbiAgICByZXR1cm4gY3JlYXRlVmlld1JlZihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSwgKGZsYWdzICYgMTYgLyogRm9yUGlwZSAqLykgPT09IDE2IC8qIEZvclBpcGUgKi8pO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVmlld1JlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3RvciBhcyBDaGFuZ2VEZXRlY3RvclJlZiAocHVibGljIGFsaWFzKS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGEgQ2hhbmdlRGV0ZWN0b3JSZWZcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcGFyYW0gaXNQaXBlIFdoZXRoZXIgdGhlIHZpZXcgaXMgYmVpbmcgaW5qZWN0ZWQgaW50byBhIHBpcGUuXG4gKiBAcmV0dXJucyBUaGUgQ2hhbmdlRGV0ZWN0b3JSZWYgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdSZWYodE5vZGUsIGxWaWV3LCBpc1BpcGUpIHtcbiAgICBpZiAoaXNDb21wb25lbnRIb3N0KHROb2RlKSAmJiAhaXNQaXBlKSB7XG4gICAgICAgIC8vIFRoZSBMVmlldyByZXByZXNlbnRzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgY29tcG9uZW50IGlzIGRlY2xhcmVkLlxuICAgICAgICAvLyBJbnN0ZWFkIHdlIHdhbnQgdGhlIExWaWV3IGZvciB0aGUgY29tcG9uZW50IFZpZXcgYW5kIHNvIHdlIG5lZWQgdG8gbG9vayBpdCB1cC5cbiAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpOyAvLyBsb29rIGRvd25cbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmJDEoY29tcG9uZW50VmlldywgY29tcG9uZW50Vmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDMyIC8qIEljdSAqLykpIHtcbiAgICAgICAgLy8gVGhlIExWaWV3IHJlcHJlc2VudHMgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBpbmplY3Rpb24gaXMgcmVxdWVzdGVkIGZyb20uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gbG9jYXRlIHRoZSBjb250YWluaW5nIExWaWV3IChpbiBjYXNlIHdoZXJlIHRoZSBgbFZpZXdgIGlzIGFuIGVtYmVkZGVkIHZpZXcpXG4gICAgICAgIGNvbnN0IGhvc3RDb21wb25lbnRWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddOyAvLyBsb29rIHVwXG4gICAgICAgIHJldHVybiBuZXcgVmlld1JlZiQxKGhvc3RDb21wb25lbnRWaWV3LCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBbmd1bGFyIFt2aWV3XShndWlkZS9nbG9zc2FyeSN2aWV3IFwiRGVmaW5pdGlvblwiKS5cbiAqXG4gKiBAc2VlIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiN1c2FnZS1ub3RlcyBDaGFuZ2UgZGV0ZWN0aW9uIHVzYWdlfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVmlld1JlZiBleHRlbmRzIENoYW5nZURldGVjdG9yUmVmIHtcbn1cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBbmd1bGFyIFt2aWV3XShndWlkZS9nbG9zc2FyeSN2aWV3KSBpbiBhIHZpZXcgY29udGFpbmVyLlxuICogQW4gW2VtYmVkZGVkIHZpZXddKGd1aWRlL2dsb3NzYXJ5I3ZpZXctdHJlZSkgY2FuIGJlIHJlZmVyZW5jZWQgZnJvbSBhIGNvbXBvbmVudFxuICogb3RoZXIgdGhhbiB0aGUgaG9zdGluZyBjb21wb25lbnQgd2hvc2UgdGVtcGxhdGUgZGVmaW5lcyBpdCwgb3IgaXQgY2FuIGJlIGRlZmluZWRcbiAqIGluZGVwZW5kZW50bHkgYnkgYSBgVGVtcGxhdGVSZWZgLlxuICpcbiAqIFByb3BlcnRpZXMgb2YgZWxlbWVudHMgaW4gYSB2aWV3IGNhbiBjaGFuZ2UsIGJ1dCB0aGUgc3RydWN0dXJlIChudW1iZXIgYW5kIG9yZGVyKSBvZiBlbGVtZW50cyBpblxuICogYSB2aWV3IGNhbm5vdC4gQ2hhbmdlIHRoZSBzdHJ1Y3R1cmUgb2YgZWxlbWVudHMgYnkgaW5zZXJ0aW5nLCBtb3ZpbmcsIG9yXG4gKiByZW1vdmluZyBuZXN0ZWQgdmlld3MgaW4gYSB2aWV3IGNvbnRhaW5lci5cbiAqXG4gKiBAc2VlIGBWaWV3Q29udGFpbmVyUmVmYFxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSBicmVha3MgZG93biBpbnRvIHR3byBzZXBhcmF0ZSBgVGVtcGxhdGVSZWZgIGluc3RhbmNlcyxcbiAqIGFuIG91dGVyIG9uZSBhbmQgYW4gaW5uZXIgb25lLlxuICpcbiAqIGBgYFxuICogQ291bnQ6IHt7aXRlbXMubGVuZ3RofX1cbiAqIDx1bD5cbiAqICAgPGxpICpuZ0Zvcj1cImxldCAgaXRlbSBvZiBpdGVtc1wiPnt7aXRlbX19PC9saT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIHRoZSBvdXRlciBgVGVtcGxhdGVSZWZgOlxuICpcbiAqIGBgYFxuICogQ291bnQ6IHt7aXRlbXMubGVuZ3RofX1cbiAqIDx1bD5cbiAqICAgPG5nLXRlbXBsYXRlIG5nRm9yIGxldC1pdGVtIFtuZ0Zvck9mXT1cIml0ZW1zXCI+PC9uZy10ZW1wbGF0ZT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIHRoZSBpbm5lciBgVGVtcGxhdGVSZWZgOlxuICpcbiAqIGBgYFxuICogICA8bGk+e3tpdGVtfX08L2xpPlxuICogYGBgXG4gKlxuICogVGhlIG91dGVyIGFuZCBpbm5lciBgVGVtcGxhdGVSZWZgIGluc3RhbmNlcyBhcmUgYXNzZW1ibGVkIGludG8gdmlld3MgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIDwhLS0gVmlld1JlZjogb3V0ZXItMCAtLT5cbiAqIENvdW50OiAyXG4gKiA8dWw+XG4gKiAgIDxuZy10ZW1wbGF0ZSB2aWV3LWNvbnRhaW5lci1yZWY+PC9uZy10ZW1wbGF0ZT5cbiAqICAgPCEtLSBWaWV3UmVmOiBpbm5lci0xIC0tPjxsaT5maXJzdDwvbGk+PCEtLSAvVmlld1JlZjogaW5uZXItMSAtLT5cbiAqICAgPCEtLSBWaWV3UmVmOiBpbm5lci0yIC0tPjxsaT5zZWNvbmQ8L2xpPjwhLS0gL1ZpZXdSZWY6IGlubmVyLTIgLS0+XG4gKiA8L3VsPlxuICogPCEtLSAvVmlld1JlZjogb3V0ZXItMCAtLT5cbiAqIGBgYFxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBFbWJlZGRlZFZpZXdSZWYgZXh0ZW5kcyBWaWV3UmVmIHtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVGhpcyBmaWxlIGV4aXN0cyBmb3IgZWFzaWx5IHBhdGNoaW5nIE5nTW9kdWxlRmFjdG9yeUxvYWRlciBpbiBnM1xudmFyIG5nX21vZHVsZV9mYWN0b3J5X2xvYWRlcl9pbXBsID0ge307XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIERlYnVnRXZlbnRMaXN0ZW5lciB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBhc05hdGl2ZUVsZW1lbnRzKGRlYnVnRWxzKSB7XG4gICAgcmV0dXJuIGRlYnVnRWxzLm1hcCgoZWwpID0+IGVsLm5hdGl2ZUVsZW1lbnQpO1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIERlYnVnTm9kZSB7XG4gICAgY29uc3RydWN0b3IobmF0aXZlTm9kZSkge1xuICAgICAgICB0aGlzLm5hdGl2ZU5vZGUgPSBuYXRpdmVOb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYERlYnVnRWxlbWVudGAgcGFyZW50LiBXaWxsIGJlIGBudWxsYCBpZiB0aGlzIGlzIHRoZSByb290IGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5uYXRpdmVOb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIHJldHVybiBwYXJlbnQgPyBuZXcgRGVidWdFbGVtZW50KHBhcmVudCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaG9zdCBkZXBlbmRlbmN5IGluamVjdG9yLiBGb3IgZXhhbXBsZSwgdGhlIHJvb3QgZWxlbWVudCdzIGNvbXBvbmVudCBpbnN0YW5jZSBpbmplY3Rvci5cbiAgICAgKi9cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbmplY3Rvcih0aGlzLm5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCdzIG93biBjb21wb25lbnQgaW5zdGFuY2UsIGlmIGl0IGhhcyBvbmUuXG4gICAgICovXG4gICAgZ2V0IGNvbXBvbmVudEluc3RhbmNlKCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gdGhpcy5uYXRpdmVOb2RlO1xuICAgICAgICByZXR1cm4gbmF0aXZlRWxlbWVudCAmJlxuICAgICAgICAgICAgKGdldENvbXBvbmVudCQxKG5hdGl2ZUVsZW1lbnQpIHx8IGdldE93bmluZ0NvbXBvbmVudChuYXRpdmVFbGVtZW50KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIHBhcmVudCBjb250ZXh0IGZvciB0aGlzIGVsZW1lbnQuIE9mdGVuIGFuIGFuY2VzdG9yIGNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAqIHRoYXQgZ292ZXJucyB0aGlzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBXaGVuIGFuIGVsZW1lbnQgaXMgcmVwZWF0ZWQgd2l0aGluICpuZ0ZvciwgdGhlIGNvbnRleHQgaXMgYW4gYE5nRm9yT2ZgIHdob3NlIGAkaW1wbGljaXRgXG4gICAgICogcHJvcGVydHkgaXMgdGhlIHZhbHVlIG9mIHRoZSByb3cgaW5zdGFuY2UgdmFsdWUuIEZvciBleGFtcGxlLCB0aGUgYGhlcm9gIGluIGAqbmdGb3I9XCJsZXQgaGVyb1xuICAgICAqIG9mIGhlcm9lc1wiYC5cbiAgICAgKi9cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudCQxKHRoaXMubmF0aXZlTm9kZSkgfHwgZ2V0Q29udGV4dCh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY2FsbGJhY2tzIGF0dGFjaGVkIHRvIHRoZSBjb21wb25lbnQncyBAT3V0cHV0IHByb3BlcnRpZXMgYW5kL29yIHRoZSBlbGVtZW50J3MgZXZlbnRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdldCBsaXN0ZW5lcnMoKSB7XG4gICAgICAgIHJldHVybiBnZXRMaXN0ZW5lcnModGhpcy5uYXRpdmVOb2RlKS5maWx0ZXIobGlzdGVuZXIgPT4gbGlzdGVuZXIudHlwZSA9PT0gJ2RvbScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaWN0aW9uYXJ5IG9mIG9iamVjdHMgYXNzb2NpYXRlZCB3aXRoIHRlbXBsYXRlIGxvY2FsIHZhcmlhYmxlcyAoZS5nLiAjZm9vKSwga2V5ZWQgYnkgdGhlIGxvY2FsXG4gICAgICogdmFyaWFibGUgbmFtZS5cbiAgICAgKi9cbiAgICBnZXQgcmVmZXJlbmNlcygpIHtcbiAgICAgICAgcmV0dXJuIGdldExvY2FsUmVmcyh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGNvbXBvbmVudCdzIGluamVjdG9yIGxvb2t1cCB0b2tlbnMuIEluY2x1ZGVzIHRoZSBjb21wb25lbnQgaXRzZWxmIHBsdXMgdGhlIHRva2VucyB0aGF0IHRoZVxuICAgICAqIGNvbXBvbmVudCBsaXN0cyBpbiBpdHMgcHJvdmlkZXJzIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIGdldCBwcm92aWRlclRva2VucygpIHtcbiAgICAgICAgcmV0dXJuIGdldEluamVjdGlvblRva2Vucyh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBzZWUgW0NvbXBvbmVudCB0ZXN0aW5nIHNjZW5hcmlvc10oZ3VpZGUvdGVzdGluZy1jb21wb25lbnRzLXNjZW5hcmlvcylcbiAqIEBzZWUgW0Jhc2ljcyBvZiB0ZXN0aW5nIGNvbXBvbmVudHNdKGd1aWRlL3Rlc3RpbmctY29tcG9uZW50cy1iYXNpY3MpXG4gKiBAc2VlIFtUZXN0aW5nIHV0aWxpdHkgQVBJc10oZ3VpZGUvdGVzdGluZy11dGlsaXR5LWFwaXMpXG4gKi9cbmNsYXNzIERlYnVnRWxlbWVudCBleHRlbmRzIERlYnVnTm9kZSB7XG4gICAgY29uc3RydWN0b3IobmF0aXZlTm9kZSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShuYXRpdmVOb2RlKTtcbiAgICAgICAgc3VwZXIobmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB1bmRlcmx5aW5nIERPTSBlbGVtZW50IGF0IHRoZSByb290IG9mIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0IG5hdGl2ZUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZU5vZGUubm9kZVR5cGUgPT0gTm9kZS5FTEVNRU5UX05PREUgPyB0aGlzLm5hdGl2ZU5vZGUgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCB0YWcgbmFtZSwgaWYgaXQgaXMgYW4gZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHRoaXMubmF0aXZlTm9kZSk7XG4gICAgICAgIGlmIChjb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgICAgICAgICBjb25zdCB0RGF0YSA9IGxWaWV3W1RWSUVXXS5kYXRhO1xuICAgICAgICAgICAgY29uc3QgdE5vZGUgPSB0RGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgICAgICAgICByZXR1cm4gdE5vZGUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVOb2RlLm5vZGVOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBHZXRzIGEgbWFwIG9mIHByb3BlcnR5IG5hbWVzIHRvIHByb3BlcnR5IHZhbHVlcyBmb3IgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqICBUaGlzIG1hcCBpbmNsdWRlczpcbiAgICAgKiAgLSBSZWd1bGFyIHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIGBbaWRdPVwiaWRcImApXG4gICAgICogIC0gSG9zdCBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgaG9zdDogeyAnW2lkXSc6IFwiaWRcIiB9YClcbiAgICAgKiAgLSBJbnRlcnBvbGF0ZWQgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYGlkPVwie3sgdmFsdWUgfX1cIilcbiAgICAgKlxuICAgICAqICBJdCBkb2VzIG5vdCBpbmNsdWRlOlxuICAgICAqICAtIGlucHV0IHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIGBbbXlDdXN0b21JbnB1dF09XCJ2YWx1ZVwiYClcbiAgICAgKiAgLSBhdHRyaWJ1dGUgYmluZGluZ3MgKGUuZy4gYFthdHRyLnJvbGVdPVwibWVudVwiYClcbiAgICAgKi9cbiAgICBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHRoaXMubmF0aXZlTm9kZSk7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgICAgICBjb25zdCB0RGF0YSA9IGxWaWV3W1RWSUVXXS5kYXRhO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IHREYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAvLyBDb2xsZWN0IHByb3BlcnRpZXMgZnJvbSB0aGUgRE9NLlxuICAgICAgICBjb3B5RG9tUHJvcGVydGllcyh0aGlzLm5hdGl2ZUVsZW1lbnQsIHByb3BlcnRpZXMpO1xuICAgICAgICAvLyBDb2xsZWN0IHByb3BlcnRpZXMgZnJvbSB0aGUgYmluZGluZ3MuIFRoaXMgaXMgbmVlZGVkIGZvciBhbmltYXRpb24gcmVuZGVyZXIgd2hpY2ggaGFzXG4gICAgICAgIC8vIHN5bnRoZXRpYyBwcm9wZXJ0aWVzIHdoaWNoIGRvbid0IGdldCByZWZsZWN0ZWQgaW50byB0aGUgRE9NLlxuICAgICAgICBjb2xsZWN0UHJvcGVydHlCaW5kaW5ncyhwcm9wZXJ0aWVzLCB0Tm9kZSwgbFZpZXcsIHREYXRhKTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBBIG1hcCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYXR0cmlidXRlIHZhbHVlcyBmb3IgYW4gZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXQgYXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgICAgIGNvbnN0IHROb2RlQXR0cnMgPSBsVmlld1tUVklFV10uZGF0YVtjb250ZXh0Lm5vZGVJbmRleF0uYXR0cnM7XG4gICAgICAgIGNvbnN0IGxvd2VyY2FzZVROb2RlQXR0cnMgPSBbXTtcbiAgICAgICAgLy8gRm9yIGRlYnVnIG5vZGVzIHdlIHRha2UgdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGUgZGlyZWN0bHkgZnJvbSB0aGUgRE9NIHNpbmNlIGl0IGFsbG93cyB1c1xuICAgICAgICAvLyB0byBhY2NvdW50IGZvciBvbmVzIHRoYXQgd2VyZW4ndCBzZXQgdmlhIGJpbmRpbmdzIChlLmcuIFZpZXdFbmdpbmUga2VlcHMgdHJhY2sgb2YgdGhlIG9uZXNcbiAgICAgICAgLy8gdGhhdCBhcmUgc2V0IHRocm91Z2ggYFJlbmRlcmVyMmApLiBUaGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBicm93c2VyIHdpbGwgbG93ZXJjYXNlIGFsbCBuYW1lcyxcbiAgICAgICAgLy8gaG93ZXZlciBzaW5jZSB3ZSBoYXZlIHRoZSBhdHRyaWJ1dGVzIGFscmVhZHkgb24gdGhlIFROb2RlLCB3ZSBjYW4gcHJlc2VydmUgdGhlIGNhc2UgYnkgZ29pbmdcbiAgICAgICAgLy8gdGhyb3VnaCB0aGVtIG9uY2UsIGFkZGluZyB0aGVtIHRvIHRoZSBgYXR0cmlidXRlc2AgbWFwIGFuZCBwdXR0aW5nIHRoZWlyIGxvd2VyLWNhc2VkIG5hbWVcbiAgICAgICAgLy8gaW50byBhbiBhcnJheS4gQWZ0ZXJ3YXJkcyB3aGVuIHdlJ3JlIGdvaW5nIHRocm91Z2ggdGhlIG5hdGl2ZSBET00gYXR0cmlidXRlcywgd2UgY2FuIGNoZWNrXG4gICAgICAgIC8vIHdoZXRoZXIgd2UgaGF2ZW4ndCBydW4gaW50byBhbiBhdHRyaWJ1dGUgYWxyZWFkeSB0aHJvdWdoIHRoZSBUTm9kZS5cbiAgICAgICAgaWYgKHROb2RlQXR0cnMpIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgdE5vZGVBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHROb2RlQXR0cnNbaV07XG4gICAgICAgICAgICAgICAgLy8gU3RvcCBhcyBzb29uIGFzIHdlIGhpdCBhIG1hcmtlci4gV2Ugb25seSBjYXJlIGFib3V0IHRoZSByZWd1bGFyIGF0dHJpYnV0ZXMuIEV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICAvLyBlbHNlIHdpbGwgYmUgaGFuZGxlZCBiZWxvdyB3aGVuIHdlIHJlYWQgdGhlIGZpbmFsIGF0dHJpYnV0ZXMgb2ZmIHRoZSBET00uXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyTmFtZSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHROb2RlQXR0cnNbaSArIDFdO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0clZhbHVlO1xuICAgICAgICAgICAgICAgIGxvd2VyY2FzZVROb2RlQXR0cnMucHVzaChhdHRyTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZUF0dHJzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IGVBdHRyc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZU5hbWUgPSBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IGFzc2lnbiB0aGUgc2FtZSBhdHRyaWJ1dGUgYm90aCBpbiBpdHNcbiAgICAgICAgICAgIC8vIGNhc2Utc2Vuc2l0aXZlIGZvcm0gYW5kIHRoZSBsb3dlci1jYXNlZCBvbmUgZnJvbSB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2VUTm9kZUF0dHJzLmluZGV4T2YobG93ZXJjYXNlTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgbG93ZXJjYXNlIG5hbWUgdG8gYWxpZ24gdGhlIGJlaGF2aW9yIGJldHdlZW4gYnJvd3NlcnMuXG4gICAgICAgICAgICAgICAgLy8gSUUgcHJlc2VydmVzIHRoZSBjYXNlLCB3aGlsZSBhbGwgb3RoZXIgYnJvd3NlciBjb252ZXJ0IGl0IHRvIGxvd2VyIGNhc2UuXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tsb3dlcmNhc2VOYW1lXSA9IGF0dHIudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpbmxpbmUgc3R5bGVzIG9mIHRoZSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGlzIG5vIGBzdHlsZWAgcHJvcGVydHkgb24gdGhlIHVuZGVybHlpbmcgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc2VlIFtFbGVtZW50Q1NTSW5saW5lU3R5bGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50Q1NTSW5saW5lU3R5bGUvc3R5bGUpXG4gICAgICovXG4gICAgZ2V0IHN0eWxlcygpIHtcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlRWxlbWVudCAmJiB0aGlzLm5hdGl2ZUVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSBjbGFzcyBuYW1lcyBvbiB0aGUgZWxlbWVudCBhcyBrZXlzLlxuICAgICAqXG4gICAgICogVGhpcyBtYXAgaXMgZGVyaXZlZCBmcm9tIHRoZSBgY2xhc3NOYW1lYCBwcm9wZXJ0eSBvZiB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGUgdmFsdWVzIG9mIHRoaXMgb2JqZWN0IHdpbGwgYWx3YXlzIGJlIGB0cnVlYC4gVGhlIGNsYXNzIGtleSB3aWxsIG5vdCBhcHBlYXIgaW4gdGhlIEtWXG4gICAgICogb2JqZWN0IGlmIGl0IGRvZXMgbm90IGV4aXN0IG9uIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHNlZSBbRWxlbWVudC5jbGFzc05hbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L2NsYXNzTmFtZSlcbiAgICAgKi9cbiAgICBnZXQgY2xhc3NlcygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIC8vIFNWRyBlbGVtZW50cyByZXR1cm4gYW4gYFNWR0FuaW1hdGVkU3RyaW5nYCBpbnN0ZWFkIG9mIGEgcGxhaW4gc3RyaW5nIGZvciB0aGUgYGNsYXNzTmFtZWAuXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lO1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gdHlwZW9mIGNsYXNzTmFtZSAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWUuYmFzZVZhbC5zcGxpdCgnICcpIDogY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgICAgIGNsYXNzZXMuZm9yRWFjaCgodmFsdWUpID0+IHJlc3VsdFt2YWx1ZV0gPSB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGBjaGlsZE5vZGVzYCBvZiB0aGUgRE9NIGVsZW1lbnQgYXMgYSBgRGVidWdOb2RlYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzZWUgW05vZGUuY2hpbGROb2Rlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05vZGUvY2hpbGROb2RlcylcbiAgICAgKi9cbiAgICBnZXQgY2hpbGROb2RlcygpIHtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IHRoaXMubmF0aXZlTm9kZS5jaGlsZE5vZGVzO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChnZXREZWJ1Z05vZGUoZWxlbWVudCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGltbWVkaWF0ZSBgRGVidWdFbGVtZW50YCBjaGlsZHJlbi4gV2FsayB0aGUgdHJlZSBieSBkZXNjZW5kaW5nIHRocm91Z2ggYGNoaWxkcmVuYC5cbiAgICAgKi9cbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSB0aGlzLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmICghbmF0aXZlRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IG5hdGl2ZUVsZW1lbnQuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGdldERlYnVnTm9kZShlbGVtZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgZmlyc3QgYERlYnVnRWxlbWVudGAgdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUgYXQgYW55IGRlcHRoIGluIHRoZSBzdWJ0cmVlLlxuICAgICAqL1xuICAgIHF1ZXJ5KHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5xdWVyeUFsbChwcmVkaWNhdGUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0c1swXSB8fCBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBbGwgYERlYnVnRWxlbWVudGAgbWF0Y2hlcyBmb3IgdGhlIHByZWRpY2F0ZSBhdCBhbnkgZGVwdGggaW4gdGhlIHN1YnRyZWUuXG4gICAgICovXG4gICAgcXVlcnlBbGwocHJlZGljYXRlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5QWxsKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBbGwgYERlYnVnTm9kZWAgbWF0Y2hlcyBmb3IgdGhlIHByZWRpY2F0ZSBhdCBhbnkgZGVwdGggaW4gdGhlIHN1YnRyZWUuXG4gICAgICovXG4gICAgcXVlcnlBbGxOb2RlcyhwcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFtdO1xuICAgICAgICBfcXVlcnlBbGwodGhpcywgcHJlZGljYXRlLCBtYXRjaGVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyB0aGUgZXZlbnQgYnkgaXRzIG5hbWUgaWYgdGhlcmUgaXMgYSBjb3JyZXNwb25kaW5nIGxpc3RlbmVyIGluIHRoZSBlbGVtZW50J3NcbiAgICAgKiBgbGlzdGVuZXJzYCBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogSWYgdGhlIGV2ZW50IGxhY2tzIGEgbGlzdGVuZXIgb3IgdGhlcmUncyBzb21lIG90aGVyIHByb2JsZW0sIGNvbnNpZGVyXG4gICAgICogY2FsbGluZyBgbmF0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50T2JqZWN0KWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byB0cmlnZ2VyXG4gICAgICogQHBhcmFtIGV2ZW50T2JqIFRoZSBfZXZlbnQgb2JqZWN0XyBleHBlY3RlZCBieSB0aGUgaGFuZGxlclxuICAgICAqXG4gICAgICogQHNlZSBbVGVzdGluZyBjb21wb25lbnRzIHNjZW5hcmlvc10oZ3VpZGUvdGVzdGluZy1jb21wb25lbnRzLXNjZW5hcmlvcyN0cmlnZ2VyLWV2ZW50LWhhbmRsZXIpXG4gICAgICovXG4gICAgdHJpZ2dlckV2ZW50SGFuZGxlcihldmVudE5hbWUsIGV2ZW50T2JqKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5hdGl2ZU5vZGU7XG4gICAgICAgIGNvbnN0IGludm9rZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIubmFtZSA9PT0gZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBsaXN0ZW5lci5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKG5vZGUsIGV2ZW50T2JqKTtcbiAgICAgICAgICAgICAgICBpbnZva2VkTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayB3aGV0aGVyIGBldmVudExpc3RlbmVyc2AgZXhpc3RzLCBiZWNhdXNlIGl0J3Mgc29tZXRoaW5nXG4gICAgICAgIC8vIHRoYXQgWm9uZS5qcyBvbmx5IGFkZHMgdG8gYEV2ZW50VGFyZ2V0YCBpbiBicm93c2VyIGVudmlyb25tZW50cy5cbiAgICAgICAgaWYgKHR5cGVvZiBub2RlLmV2ZW50TGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgaW4gSXZ5IHdlIHdyYXAgZXZlbnQgbGlzdGVuZXJzIHdpdGggYSBjYWxsIHRvIGBldmVudC5wcmV2ZW50RGVmYXVsdGAgaW4gc29tZVxuICAgICAgICAgICAgLy8gY2FzZXMuIFdlIHVzZSAnX19uZ1Vud3JhcF9fJyBhcyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBnaXZlcyB1cyBhY2Nlc3MgdG8gdGhlIGFjdHVhbCBldmVudFxuICAgICAgICAgICAgLy8gbGlzdGVuZXIuXG4gICAgICAgICAgICBub2RlLmV2ZW50TGlzdGVuZXJzKGV2ZW50TmFtZSkuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJbiBvcmRlciB0byBlbnN1cmUgdGhhdCB3ZSBjYW4gZGV0ZWN0IHRoZSBzcGVjaWFsIF9fbmdVbndyYXBfXyB0b2tlbiBkZXNjcmliZWQgYWJvdmUsIHdlXG4gICAgICAgICAgICAgICAgLy8gdXNlIGB0b1N0cmluZ2Agb24gdGhlIGxpc3RlbmVyIGFuZCBzZWUgaWYgaXQgY29udGFpbnMgdGhlIHRva2VuLiBXZSB1c2UgdGhpcyBhcHByb2FjaCB0b1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IGl0IHN0aWxsIHdvcmtlZCB3aXRoIGNvbXBpbGVkIGNvZGUgc2luY2UgaXQgY2Fubm90IHJlbW92ZSBvciByZW5hbWUgc3RyaW5nXG4gICAgICAgICAgICAgICAgLy8gbGl0ZXJhbHMuIFdlIGFsc28gY29uc2lkZXJlZCB1c2luZyBhIHNwZWNpYWwgZnVuY3Rpb24gbmFtZSAoaS5lLiBpZihsaXN0ZW5lci5uYW1lID09PVxuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwpKSBidXQgdGhhdCB3YXMgbW9yZSBjdW1iZXJzb21lIGFuZCB3ZSB3ZXJlIGFsc28gY29uY2VybmVkIHRoZSBjb21waWxlZCBjb2RlIGNvdWxkXG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgdGhlIG5hbWUsIHR1cm5pbmcgdGhlIGNvbmRpdGlvbiBpbiB0byAoXCJcIiA9PT0gXCJcIikgYW5kIGFsd2F5cyByZXR1cm5pbmcgdHJ1ZS5cbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIudG9TdHJpbmcoKS5pbmRleE9mKCdfX25nVW53cmFwX18nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW53cmFwcGVkTGlzdGVuZXIgPSBsaXN0ZW5lcignX19uZ1Vud3JhcF9fJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2VkTGlzdGVuZXJzLmluZGV4T2YodW53cmFwcGVkTGlzdGVuZXIpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdW53cmFwcGVkTGlzdGVuZXIuY2FsbChub2RlLCBldmVudE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb3B5RG9tUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgLy8gU2tpcCBvd24gcHJvcGVydGllcyAoYXMgdGhvc2UgYXJlIHBhdGNoZWQpXG4gICAgICAgIGxldCBvYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IE5vZGVQcm90b3R5cGUgPSBOb2RlLnByb3RvdHlwZTtcbiAgICAgICAgd2hpbGUgKG9iaiAhPT0gbnVsbCAmJiBvYmogIT09IE5vZGVQcm90b3R5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBkZXNjcmlwdG9ycykge1xuICAgICAgICAgICAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoJ19fJykgJiYgIWtleS5zdGFydHNXaXRoKCdvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGluY2x1ZGUgcHJvcGVydGllcyBzdGFydGluZyB3aXRoIGBfX2AgYW5kIGBvbmAuXG4gICAgICAgICAgICAgICAgICAgIC8vIGBfX2AgYXJlIHBhdGNoZWQgdmFsdWVzIHdoaWNoIHNob3VsZCBub3QgYmUgaW5jbHVkZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIGBvbmAgYXJlIGxpc3RlbmVycyB3aGljaCBhbHNvIHNob3VsZCBub3QgYmUgaW5jbHVkZWQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmltaXRpdmVWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxuICAgICAgICB2YWx1ZSA9PT0gbnVsbDtcbn1cbmZ1bmN0aW9uIF9xdWVyeUFsbChwYXJlbnRFbGVtZW50LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChwYXJlbnRFbGVtZW50Lm5hdGl2ZU5vZGUpO1xuICAgIGlmIChjb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFROb2RlID0gY29udGV4dC5sVmlld1tUVklFV10uZGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihwYXJlbnRUTm9kZSwgY29udGV4dC5sVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHBhcmVudEVsZW1lbnQubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgY29udGV4dCBpcyBudWxsLCB0aGVuIGBwYXJlbnRFbGVtZW50YCB3YXMgZWl0aGVyIGNyZWF0ZWQgd2l0aCBSZW5kZXJlcjIgb3IgbmF0aXZlIERPTVxuICAgICAgICAvLyBBUElzLlxuICAgICAgICBfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMocGFyZW50RWxlbWVudC5uYXRpdmVOb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBtYXRjaCB0aGUgY3VycmVudCBUTm9kZSBhZ2FpbnN0IHRoZSBwcmVkaWNhdGUsIGFuZCBnb2VzIG9uIHdpdGggdGhlIG5leHQgb25lcy5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgdGhlIGN1cnJlbnQgVE5vZGVcbiAqIEBwYXJhbSBsVmlldyB0aGUgTFZpZXcgb2YgdGhpcyBUTm9kZVxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIG1hdGNoXG4gKiBAcGFyYW0gbWF0Y2hlcyB0aGUgbGlzdCBvZiBwb3NpdGl2ZSBtYXRjaGVzXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqIEBwYXJhbSByb290TmF0aXZlTm9kZSB0aGUgcm9vdCBuYXRpdmUgbm9kZSBvbiB3aGljaCBwcmVkaWNhdGUgc2hvdWxkIG5vdCBiZSBtYXRjaGVkXG4gKi9cbmZ1bmN0aW9uIF9xdWVyeU5vZGVDaGlsZHJlbih0Tm9kZSwgbFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgbmF0aXZlTm9kZSA9IGdldE5hdGl2ZUJ5VE5vZGVPck51bGwodE5vZGUsIGxWaWV3KTtcbiAgICAvLyBGb3IgZWFjaCB0eXBlIG9mIFROb2RlLCBzcGVjaWZpYyBsb2dpYyBpcyBleGVjdXRlZC5cbiAgICBpZiAodE5vZGUudHlwZSAmICgzIC8qIEFueVJOb2RlICovIHwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSkge1xuICAgICAgICAvLyBDYXNlIDE6IHRoZSBUTm9kZSBpcyBhbiBlbGVtZW50XG4gICAgICAgIC8vIFRoZSBuYXRpdmUgbm9kZSBoYXMgdG8gYmUgY2hlY2tlZC5cbiAgICAgICAgX2FkZFF1ZXJ5TWF0Y2gobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50SG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIHRoZSBob3N0IG9mIGEgY29tcG9uZW50LCB0aGVuIGFsbCBub2RlcyBpbiBpdHMgdmlldyBoYXZlIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoZSBjb21wb25lbnQncyBjb250ZW50ICh0Tm9kZS5jaGlsZCkgd2lsbCBiZSBwcm9jZXNzZWQgZnJvbSB0aGUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3ICYmIGNvbXBvbmVudFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4oY29tcG9uZW50Vmlld1tUVklFV10uZmlyc3RDaGlsZCwgY29tcG9uZW50VmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0Tm9kZS5jaGlsZCkge1xuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaXRzIGNoaWxkcmVuIGhhdmUgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbih0Tm9kZS5jaGlsZCwgbFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBhbHNvIGhhdmUgdG8gcXVlcnkgdGhlIERPTSBkaXJlY3RseSBpbiBvcmRlciB0byBjYXRjaCBlbGVtZW50cyBpbnNlcnRlZCB0aHJvdWdoXG4gICAgICAgICAgICAvLyBSZW5kZXJlcjIuIE5vdGUgdGhhdCB0aGlzIGlzIF9fbm90X18gb3B0aW1hbCwgYmVjYXVzZSB3ZSdyZSB3YWxraW5nIHNpbWlsYXIgdHJlZXMgbXVsdGlwbGVcbiAgICAgICAgICAgIC8vIHRpbWVzLiBWaWV3RW5naW5lIGNvdWxkIGRvIGl0IG1vcmUgZWZmaWNpZW50bHksIGJlY2F1c2UgYWxsIHRoZSBpbnNlcnRpb25zIGdvIHRocm91Z2hcbiAgICAgICAgICAgIC8vIFJlbmRlcmVyMiwgaG93ZXZlciB0aGF0J3Mgbm90IHRoZSBjYXNlIGluIEl2eS4gVGhpcyBhcHByb2FjaCBpcyBiZWluZyB1c2VkIGJlY2F1c2U6XG4gICAgICAgICAgICAvLyAxLiBNYXRjaGluZyB0aGUgVmlld0VuZ2luZSBiZWhhdmlvciB3b3VsZCBtZWFuIHBvdGVudGlhbGx5IGludHJvZHVjaW5nIGEgZGVwZWRlbmN5XG4gICAgICAgICAgICAvLyAgICBmcm9tIGBSZW5kZXJlcjJgIHRvIEl2eSB3aGljaCBjb3VsZCBicmluZyBJdnkgY29kZSBpbnRvIFZpZXdFbmdpbmUuXG4gICAgICAgICAgICAvLyAyLiBXZSB3b3VsZCBoYXZlIHRvIG1ha2UgYFJlbmRlcmVyM2AgXCJrbm93XCIgYWJvdXQgZGVidWcgbm9kZXMuXG4gICAgICAgICAgICAvLyAzLiBJdCBhbGxvd3MgdXMgdG8gY2FwdHVyZSBub2RlcyB0aGF0IHdlcmUgaW5zZXJ0ZWQgZGlyZWN0bHkgdmlhIHRoZSBET00uXG4gICAgICAgICAgICBuYXRpdmVOb2RlICYmIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhuYXRpdmVOb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW4gYWxsIGNhc2VzLCBpZiBhIGR5bmFtaWMgY29udGFpbmVyIGV4aXN0cyBmb3IgdGhpcyBub2RlLCBlYWNoIHZpZXcgaW5zaWRlIGl0IGhhcyB0byBiZVxuICAgICAgICAvLyBwcm9jZXNzZWQuXG4gICAgICAgIGNvbnN0IG5vZGVPckNvbnRhaW5lciA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgaWYgKGlzTENvbnRhaW5lcihub2RlT3JDb250YWluZXIpKSB7XG4gICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW5JbkNvbnRhaW5lcihub2RlT3JDb250YWluZXIsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgIC8vIENhc2UgMjogdGhlIFROb2RlIGlzIGEgY29udGFpbmVyXG4gICAgICAgIC8vIFRoZSBuYXRpdmUgbm9kZSBoYXMgdG8gYmUgY2hlY2tlZC5cbiAgICAgICAgY29uc3QgbENvbnRhaW5lciA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgX2FkZFF1ZXJ5TWF0Y2gobENvbnRhaW5lcltOQVRJVkVdLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICAvLyBFYWNoIHZpZXcgaW5zaWRlIHRoZSBjb250YWluZXIgaGFzIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIobENvbnRhaW5lciwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDE2IC8qIFByb2plY3Rpb24gKi8pIHtcbiAgICAgICAgLy8gQ2FzZSAzOiB0aGUgVE5vZGUgaXMgYSBwcm9qZWN0aW9uIGluc2VydGlvbiBwb2ludCAoaS5lLiBhIDxuZy1jb250ZW50PikuXG4gICAgICAgIC8vIFRoZSBub2RlcyBwcm9qZWN0ZWQgYXQgdGhpcyBsb2NhdGlvbiBhbGwgbmVlZCB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEhvc3QgPSBjb21wb25lbnRWaWV3W1RfSE9TVF07XG4gICAgICAgIGNvbnN0IGhlYWQgPSBjb21wb25lbnRIb3N0LnByb2plY3Rpb25bdE5vZGUucHJvamVjdGlvbl07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGhlYWQpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBuYXRpdmVOb2RlIG9mIGhlYWQpIHtcbiAgICAgICAgICAgICAgICBfYWRkUXVlcnlNYXRjaChuYXRpdmVOb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhlYWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRMVmlldyA9IGNvbXBvbmVudFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUTm9kZSA9IG5leHRMVmlld1tUVklFV10uZGF0YVtoZWFkLmluZGV4XTtcbiAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihuZXh0VE5vZGUsIG5leHRMVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS5jaGlsZCkge1xuICAgICAgICAvLyBDYXNlIDQ6IHRoZSBUTm9kZSBpcyBhIHZpZXcuXG4gICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbih0Tm9kZS5jaGlsZCwgbFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gZ28gdG8gdGhlIG5leHQgc2libGluZyBvZiB0aGUgcm9vdCBub2RlLlxuICAgIGlmIChyb290TmF0aXZlTm9kZSAhPT0gbmF0aXZlTm9kZSkge1xuICAgICAgICAvLyBUbyBkZXRlcm1pbmUgdGhlIG5leHQgbm9kZSB0byBiZSBwcm9jZXNzZWQsIHdlIG5lZWQgdG8gdXNlIHRoZSBuZXh0IG9yIHRoZSBwcm9qZWN0aW9uTmV4dFxuICAgICAgICAvLyBsaW5rLCBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgY3VycmVudCBub2RlIGhhcyBiZWVuIHByb2plY3RlZC5cbiAgICAgICAgY29uc3QgbmV4dFROb2RlID0gKHROb2RlLmZsYWdzICYgNCAvKiBpc1Byb2plY3RlZCAqLykgPyB0Tm9kZS5wcm9qZWN0aW9uTmV4dCA6IHROb2RlLm5leHQ7XG4gICAgICAgIGlmIChuZXh0VE5vZGUpIHtcbiAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihuZXh0VE5vZGUsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBQcm9jZXNzIGFsbCBUTm9kZXMgaW4gYSBnaXZlbiBjb250YWluZXIuXG4gKlxuICogQHBhcmFtIGxDb250YWluZXIgdGhlIGNvbnRhaW5lciB0byBiZSBwcm9jZXNzZWRcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byBtYXRjaFxuICogQHBhcmFtIG1hdGNoZXMgdGhlIGxpc3Qgb2YgcG9zaXRpdmUgbWF0Y2hlc1xuICogQHBhcmFtIGVsZW1lbnRzT25seSB3aGV0aGVyIG9ubHkgZWxlbWVudHMgc2hvdWxkIGJlIHNlYXJjaGVkXG4gKiBAcGFyYW0gcm9vdE5hdGl2ZU5vZGUgdGhlIHJvb3QgbmF0aXZlIG5vZGUgb24gd2hpY2ggcHJlZGljYXRlIHNob3VsZCBub3QgYmUgbWF0Y2hlZFxuICovXG5mdW5jdGlvbiBfcXVlcnlOb2RlQ2hpbGRyZW5JbkNvbnRhaW5lcihsQ29udGFpbmVyLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpIHtcbiAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkVmlldyA9IGxDb250YWluZXJbaV07XG4gICAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSBjaGlsZFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChmaXJzdENoaWxkKSB7XG4gICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4oZmlyc3RDaGlsZCwgY2hpbGRWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBNYXRjaCB0aGUgY3VycmVudCBuYXRpdmUgbm9kZSBhZ2FpbnN0IHRoZSBwcmVkaWNhdGUuXG4gKlxuICogQHBhcmFtIG5hdGl2ZU5vZGUgdGhlIGN1cnJlbnQgbmF0aXZlIG5vZGVcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byBtYXRjaFxuICogQHBhcmFtIG1hdGNoZXMgdGhlIGxpc3Qgb2YgcG9zaXRpdmUgbWF0Y2hlc1xuICogQHBhcmFtIGVsZW1lbnRzT25seSB3aGV0aGVyIG9ubHkgZWxlbWVudHMgc2hvdWxkIGJlIHNlYXJjaGVkXG4gKiBAcGFyYW0gcm9vdE5hdGl2ZU5vZGUgdGhlIHJvb3QgbmF0aXZlIG5vZGUgb24gd2hpY2ggcHJlZGljYXRlIHNob3VsZCBub3QgYmUgbWF0Y2hlZFxuICovXG5mdW5jdGlvbiBfYWRkUXVlcnlNYXRjaChuYXRpdmVOb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpIHtcbiAgICBpZiAocm9vdE5hdGl2ZU5vZGUgIT09IG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgY29uc3QgZGVidWdOb2RlID0gZ2V0RGVidWdOb2RlKG5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoIWRlYnVnTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFR5cGUgb2YgdGhlIFwicHJlZGljYXRlIGFuZCBcIm1hdGNoZXNcIiBhcnJheSBhcmUgc2V0IGJhc2VkIG9uIHRoZSB2YWx1ZSBvZlxuICAgICAgICAvLyB0aGUgXCJlbGVtZW50c09ubHlcIiBwYXJhbWV0ZXIuIFR5cGVTY3JpcHQgaXMgbm90IGFibGUgdG8gcHJvcGVybHkgaW5mZXIgdGhlc2VcbiAgICAgICAgLy8gdHlwZXMgd2l0aCBnZW5lcmljcywgc28gd2UgbWFudWFsbHkgY2FzdCB0aGUgcGFyYW1ldGVycyBhY2NvcmRpbmdseS5cbiAgICAgICAgaWYgKGVsZW1lbnRzT25seSAmJiAoZGVidWdOb2RlIGluc3RhbmNlb2YgRGVidWdFbGVtZW50KSAmJiBwcmVkaWNhdGUoZGVidWdOb2RlKSAmJlxuICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZWxlbWVudHNPbmx5ICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaChkZWJ1Z05vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBNYXRjaCBhbGwgdGhlIGRlc2NlbmRhbnRzIG9mIGEgRE9NIG5vZGUgYWdhaW5zdCBhIHByZWRpY2F0ZS5cbiAqXG4gKiBAcGFyYW0gbmF0aXZlTm9kZSB0aGUgY3VycmVudCBuYXRpdmUgbm9kZVxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIG1hdGNoXG4gKiBAcGFyYW0gbWF0Y2hlcyB0aGUgbGlzdCB3aGVyZSBtYXRjaGVzIGFyZSBzdG9yZWRcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICovXG5mdW5jdGlvbiBfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMocGFyZW50Tm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpIHtcbiAgICBjb25zdCBub2RlcyA9IHBhcmVudE5vZGUuY2hpbGROb2RlcztcbiAgICBjb25zdCBsZW5ndGggPSBub2Rlcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGNvbnN0IGRlYnVnTm9kZSA9IGdldERlYnVnTm9kZShub2RlKTtcbiAgICAgICAgaWYgKGRlYnVnTm9kZSkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzT25seSAmJiAoZGVidWdOb2RlIGluc3RhbmNlb2YgRGVidWdFbGVtZW50KSAmJiBwcmVkaWNhdGUoZGVidWdOb2RlKSAmJlxuICAgICAgICAgICAgICAgIG1hdGNoZXMuaW5kZXhPZihkZWJ1Z05vZGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChkZWJ1Z05vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWVsZW1lbnRzT25seSAmJiBwcmVkaWNhdGUoZGVidWdOb2RlKSAmJlxuICAgICAgICAgICAgICAgIG1hdGNoZXMuaW5kZXhPZihkZWJ1Z05vZGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChkZWJ1Z05vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKG5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogSXRlcmF0ZXMgdGhyb3VnaCB0aGUgcHJvcGVydHkgYmluZGluZ3MgZm9yIGEgZ2l2ZW4gbm9kZSBhbmQgZ2VuZXJhdGVzXG4gKiBhIG1hcCBvZiBwcm9wZXJ0eSBuYW1lcyB0byB2YWx1ZXMuIFRoaXMgbWFwIG9ubHkgY29udGFpbnMgcHJvcGVydHkgYmluZGluZ3NcbiAqIGRlZmluZWQgaW4gdGVtcGxhdGVzLCBub3QgaW4gaG9zdCBiaW5kaW5ncy5cbiAqL1xuZnVuY3Rpb24gY29sbGVjdFByb3BlcnR5QmluZGluZ3MocHJvcGVydGllcywgdE5vZGUsIGxWaWV3LCB0RGF0YSkge1xuICAgIGxldCBiaW5kaW5nSW5kZXhlcyA9IHROb2RlLnByb3BlcnR5QmluZGluZ3M7XG4gICAgaWYgKGJpbmRpbmdJbmRleGVzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ0luZGV4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdJbmRleGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcHJvcE1ldGFkYXRhID0gdERhdGFbYmluZGluZ0luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhUGFydHMgPSBwcm9wTWV0YWRhdGEuc3BsaXQoSU5URVJQT0xBVElPTl9ERUxJTUlURVIpO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gbWV0YWRhdGFQYXJ0c1swXTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YVBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBtZXRhZGF0YVBhcnRzWzFdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgbWV0YWRhdGFQYXJ0cy5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gcmVuZGVyU3RyaW5naWZ5KGxWaWV3W2JpbmRpbmdJbmRleCArIGogLSAxXSkgKyBtZXRhZGF0YVBhcnRzW2ogKyAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gPSBsVmlld1tiaW5kaW5nSW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8gTmVlZCB0byBrZWVwIHRoZSBub2RlcyBpbiBhIGdsb2JhbCBNYXAgc28gdGhhdCBtdWx0aXBsZSBhbmd1bGFyIGFwcHMgYXJlIHN1cHBvcnRlZC5cbmNvbnN0IF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUgPSBuZXcgTWFwKCk7XG5jb25zdCBOR19ERUJVR19QUk9QRVJUWSA9ICdfX25nX2RlYnVnX18nO1xuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldERlYnVnTm9kZShuYXRpdmVOb2RlKSB7XG4gICAgaWYgKG5hdGl2ZU5vZGUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgIGlmICghKG5hdGl2ZU5vZGUuaGFzT3duUHJvcGVydHkoTkdfREVCVUdfUFJPUEVSVFkpKSkge1xuICAgICAgICAgICAgbmF0aXZlTm9kZVtOR19ERUJVR19QUk9QRVJUWV0gPSBuYXRpdmVOb2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFID9cbiAgICAgICAgICAgICAgICBuZXcgRGVidWdFbGVtZW50KG5hdGl2ZU5vZGUpIDpcbiAgICAgICAgICAgICAgICBuZXcgRGVidWdOb2RlKG5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXRpdmVOb2RlW05HX0RFQlVHX1BST1BFUlRZXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBUT0RPOiBjbGVhbnVwIGFsbCByZWZlcmVuY2VzIHRvIHRoaXMgZnVuY3Rpb24gYW5kIHJlbW92ZSBpdC5cbmZ1bmN0aW9uIGdldERlYnVnTm9kZVIyKF9uYXRpdmVOb2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxEZWJ1Z05vZGVzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUudmFsdWVzKCkpO1xufVxuZnVuY3Rpb24gaW5kZXhEZWJ1Z05vZGUobm9kZSkge1xuICAgIF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUuc2V0KG5vZGUubmF0aXZlTm9kZSwgbm9kZSk7XG59XG5mdW5jdGlvbiByZW1vdmVEZWJ1Z05vZGVGcm9tSW5kZXgobm9kZSkge1xuICAgIF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUuZGVsZXRlKG5vZGUubmF0aXZlTm9kZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICBzdXBwb3J0cyhvYmopIHtcbiAgICAgICAgcmV0dXJuIGlzTGlzdExpa2VJdGVyYWJsZShvYmopO1xuICAgIH1cbiAgICBjcmVhdGUodHJhY2tCeUZuKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyKHRyYWNrQnlGbik7XG4gICAgfVxufVxuY29uc3QgdHJhY2tCeUlkZW50aXR5ID0gKGluZGV4LCBpdGVtKSA9PiBpdGVtO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCB2NC4wLjAgLSBTaG91bGQgbm90IGJlIHBhcnQgb2YgcHVibGljIEFQSS5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFja0J5Rm4pIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgdXNlZCByZWNvcmRzIGF0IGFueSBwb2ludCBpbiB0aW1lIChkdXJpbmcgJiBhY3Jvc3MgYF9jaGVjaygpYCBjYWxscylcbiAgICAgICAgdGhpcy5fbGlua2VkUmVjb3JkcyA9IG51bGw7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSByZW1vdmVkIHJlY29yZHMgYXQgYW55IHBvaW50IGluIHRpbWUgZHVyaW5nIGBfY2hlY2soKWAgY2FsbHMuXG4gICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3JkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzSXRIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXRIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXRUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9tb3Zlc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9tb3Zlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiByZWNvcmRzIHdoZXJlIGN1c3RvbSB0cmFjayBieSBpcyB0aGUgc2FtZSwgYnV0IGl0ZW0gaWRlbnRpdHkgaGFzIGNoYW5nZWRcbiAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl90cmFja0J5Rm4gPSB0cmFja0J5Rm4gfHwgdHJhY2tCeUlkZW50aXR5O1xuICAgIH1cbiAgICBmb3JFYWNoSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaE9wZXJhdGlvbihmbikge1xuICAgICAgICBsZXQgbmV4dEl0ID0gdGhpcy5faXRIZWFkO1xuICAgICAgICBsZXQgbmV4dFJlbW92ZSA9IHRoaXMuX3JlbW92YWxzSGVhZDtcbiAgICAgICAgbGV0IGFkZFJlbW92ZU9mZnNldCA9IDA7XG4gICAgICAgIGxldCBtb3ZlT2Zmc2V0cyA9IG51bGw7XG4gICAgICAgIHdoaWxlIChuZXh0SXQgfHwgbmV4dFJlbW92ZSkge1xuICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGljaCBpcyB0aGUgbmV4dCByZWNvcmQgdG8gcHJvY2Vzc1xuICAgICAgICAgICAgLy8gT3JkZXI6IHJlbW92ZSwgYWRkLCBtb3ZlXG4gICAgICAgICAgICBjb25zdCByZWNvcmQgPSAhbmV4dFJlbW92ZSB8fFxuICAgICAgICAgICAgICAgIG5leHRJdCAmJlxuICAgICAgICAgICAgICAgICAgICBuZXh0SXQuY3VycmVudEluZGV4IDxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFByZXZpb3VzSW5kZXgobmV4dFJlbW92ZSwgYWRkUmVtb3ZlT2Zmc2V0LCBtb3ZlT2Zmc2V0cykgP1xuICAgICAgICAgICAgICAgIG5leHRJdCA6XG4gICAgICAgICAgICAgICAgbmV4dFJlbW92ZTtcbiAgICAgICAgICAgIGNvbnN0IGFkalByZXZpb3VzSW5kZXggPSBnZXRQcmV2aW91c0luZGV4KHJlY29yZCwgYWRkUmVtb3ZlT2Zmc2V0LCBtb3ZlT2Zmc2V0cyk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSByZWNvcmQuY3VycmVudEluZGV4O1xuICAgICAgICAgICAgLy8gY29uc3VtZSB0aGUgaXRlbSwgYW5kIGFkanVzdCB0aGUgYWRkUmVtb3ZlT2Zmc2V0IGFuZCB1cGRhdGUgbW92ZURpc3RhbmNlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbmV4dFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGFkZFJlbW92ZU9mZnNldC0tO1xuICAgICAgICAgICAgICAgIG5leHRSZW1vdmUgPSBuZXh0UmVtb3ZlLl9uZXh0UmVtb3ZlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRJdCA9IG5leHRJdC5fbmV4dDtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLnByZXZpb3VzSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRSZW1vdmVPZmZzZXQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElOVkFSSUFOVDogIGN1cnJlbnRJbmRleCA8IHByZXZpb3VzSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3ZlT2Zmc2V0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVPZmZzZXRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsTW92ZVByZXZpb3VzSW5kZXggPSBhZGpQcmV2aW91c0luZGV4IC0gYWRkUmVtb3ZlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbEN1cnJlbnRJbmRleCA9IGN1cnJlbnRJbmRleCAtIGFkZFJlbW92ZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsTW92ZVByZXZpb3VzSW5kZXggIT0gbG9jYWxDdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxNb3ZlUHJldmlvdXNJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSA8IG1vdmVPZmZzZXRzLmxlbmd0aCA/IG1vdmVPZmZzZXRzW2ldIDogKG1vdmVPZmZzZXRzW2ldID0gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBvZmZzZXQgKyBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbEN1cnJlbnRJbmRleCA8PSBpbmRleCAmJiBpbmRleCA8IGxvY2FsTW92ZVByZXZpb3VzSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHNbaV0gPSBvZmZzZXQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzSW5kZXggPSByZWNvcmQucHJldmlvdXNJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVPZmZzZXRzW3ByZXZpb3VzSW5kZXhdID0gbG9jYWxDdXJyZW50SW5kZXggLSBsb2NhbE1vdmVQcmV2aW91c0luZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFkalByZXZpb3VzSW5kZXggIT09IGN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGZuKHJlY29yZCwgYWRqUHJldmlvdXNJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoUHJldmlvdXNJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNJdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UHJldmlvdXMpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaEFkZGVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaE1vdmVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21vdmVzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRNb3ZlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoUmVtb3ZlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UmVtb3ZlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoSWRlbnRpdHlDaGFuZ2UoZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dElkZW50aXR5Q2hhbmdlKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpZmYoY29sbGVjdGlvbikge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKVxuICAgICAgICAgICAgY29sbGVjdGlvbiA9IFtdO1xuICAgICAgICBpZiAoIWlzTGlzdExpa2VJdGVyYWJsZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgIGBFcnJvciB0cnlpbmcgdG8gZGlmZiAnJHtzdHJpbmdpZnkoY29sbGVjdGlvbil9Jy4gT25seSBhcnJheXMgYW5kIGl0ZXJhYmxlcyBhcmUgYWxsb3dlZGAgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDAgLyogSU5WQUxJRF9ESUZGRVJfSU5QVVQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2soY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25EZXN0cm95KCkgeyB9XG4gICAgY2hlY2soY29sbGVjdGlvbikge1xuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5faXRIZWFkO1xuICAgICAgICBsZXQgbWF5QmVEaXJ0eSA9IGZhbHNlO1xuICAgICAgICBsZXQgaW5kZXg7XG4gICAgICAgIGxldCBpdGVtO1xuICAgICAgICBsZXQgaXRlbVRyYWNrQnk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgICAgICAgIGl0ZW1UcmFja0J5ID0gdGhpcy5fdHJhY2tCeUZuKGluZGV4LCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSBudWxsIHx8ICFPYmplY3QuaXMocmVjb3JkLnRyYWNrQnlJZCwgaXRlbVRyYWNrQnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbWF5QmVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5QmVEaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhtaXNrbyk6IGNhbiB3ZSBsaW1pdCB0aGlzIHRvIGR1cGxpY2F0ZXMgb25seT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICBpdGVyYXRlTGlzdExpa2UoY29sbGVjdGlvbiwgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpdGVtVHJhY2tCeSA9IHRoaXMuX3RyYWNrQnlGbihpbmRleCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCB8fCAhT2JqZWN0LmlzKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9taXNtYXRjaChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIG1heUJlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heUJlRGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8obWlza28pOiBjYW4gd2UgbGltaXQgdGhpcyB0byBkdXBsaWNhdGVzIG9ubHk/XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl92ZXJpZnlSZWluc2VydGlvbihyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJ1bmNhdGUocmVjb3JkKTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9XG4gICAgLyogQ29sbGVjdGlvbkNoYW5nZXMgaXMgY29uc2lkZXJlZCBkaXJ0eSBpZiBpdCBoYXMgYW55IGFkZGl0aW9ucywgbW92ZXMsIHJlbW92YWxzLCBvciBpZGVudGl0eVxuICAgICAqIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGlzRGlydHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX21vdmVzSGVhZCAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkICE9PSBudWxsIHx8IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgIT09IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgY2hhbmdlIG9iamVjdHMgdG8gc2hvdyBubyBjaGFuZ2VzLiBUaGlzIG1lYW5zIHNldCBwcmV2aW91c0tleSB0b1xuICAgICAqIGN1cnJlbnRLZXksIGFuZCBjbGVhciBhbGwgb2YgdGhlIHF1ZXVlcyAoYWRkaXRpb25zLCBtb3ZlcywgcmVtb3ZhbHMpLlxuICAgICAqIFNldCB0aGUgcHJldmlvdXNJbmRleGVzIG9mIG1vdmVkIGFuZCBhZGRlZCBpdGVtcyB0byB0aGVpciBjdXJyZW50SW5kZXhlc1xuICAgICAqIFJlc2V0IHRoZSBsaXN0IG9mIGFkZGl0aW9ucywgbW92ZXMgYW5kIHJlbW92YWxzXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfcmVzZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzSXRIZWFkID0gdGhpcy5faXRIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dFByZXZpb3VzID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzSW5kZXggPSByZWNvcmQuY3VycmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9tb3Zlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0TW92ZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc0hlYWQgPSB0aGlzLl9tb3Zlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gdGhpcy5fcmVtb3ZhbHNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6IHdoZW4gYXNzZXJ0IGdldHMgc3VwcG9ydGVkXG4gICAgICAgICAgICAvLyBhc3NlcnQoIXRoaXMuaXNEaXJ0eSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgY29yZSBmdW5jdGlvbiB3aGljaCBoYW5kbGVzIGRpZmZlcmVuY2VzIGJldHdlZW4gY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiAtIGByZWNvcmRgIGlzIHRoZSByZWNvcmQgd2hpY2ggd2Ugc2F3IGF0IHRoaXMgcG9zaXRpb24gbGFzdCB0aW1lLiBJZiBudWxsIHRoZW4gaXQgaXMgYSBuZXdcbiAgICAgKiAgIGl0ZW0uXG4gICAgICogLSBgaXRlbWAgaXMgdGhlIGN1cnJlbnQgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgICAqIC0gYGluZGV4YCBpcyB0aGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9taXNtYXRjaChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCkge1xuICAgICAgICAvLyBUaGUgcHJldmlvdXMgcmVjb3JkIGFmdGVyIHdoaWNoIHdlIHdpbGwgYXBwZW5kIHRoZSBjdXJyZW50IG9uZS5cbiAgICAgICAgbGV0IHByZXZpb3VzUmVjb3JkO1xuICAgICAgICBpZiAocmVjb3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICBwcmV2aW91c1JlY29yZCA9IHRoaXMuX2l0VGFpbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzUmVjb3JkID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSByZWNvcmQgZnJvbSB0aGUgY29sbGVjdGlvbiBzaW5jZSB3ZSBrbm93IGl0IGRvZXMgbm90IG1hdGNoIHRoZSBpdGVtLlxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VlIGlmIHdlIGhhdmUgZXZpY3RlZCB0aGUgaXRlbSwgd2hpY2ggdXNlZCB0byBiZSBhdCBzb21lIGFudGVyaW9yIHBvc2l0aW9uIG9mIF9pdEhlYWQgbGlzdC5cbiAgICAgICAgcmVjb3JkID0gdGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnksIG51bGwpO1xuICAgICAgICBpZiAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJdCBpcyBhbiBpdGVtIHdoaWNoIHdlIGhhdmUgZXZpY3RlZCBlYXJsaWVyOiByZWluc2VydCBpdCBiYWNrIGludG8gdGhlIGxpc3QuXG4gICAgICAgICAgICAvLyBCdXQgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpZiBpZGVudGl0eSBjaGFuZ2VkLCBzbyB3ZSBjYW4gdXBkYXRlIGluIHZpZXcgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICB0aGlzLl9yZWluc2VydEFmdGVyKHJlY29yZCwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gc2VlIGlmIHRoZSBpdGVtIGlzIGF0IHNvbWUgcG9zdGVyaW9yIHBvc2l0aW9uIG9mIF9pdEhlYWQgbGlzdC5cbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2xpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fbGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRoZSBpdGVtIGluIF9pdEhlYWQgYXQvYWZ0ZXIgYGluZGV4YCBwb3NpdGlvbi4gV2UgbmVlZCB0byBtb3ZlIGl0IGZvcndhcmQgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBCdXQgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpZiBpZGVudGl0eSBjaGFuZ2VkLCBzbyB3ZSBjYW4gdXBkYXRlIGluIHZpZXcgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlQWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYSBuZXcgaXRlbTogYWRkIGl0LlxuICAgICAgICAgICAgICAgIHJlY29yZCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEFmdGVyKG5ldyBJdGVyYWJsZUNoYW5nZVJlY29yZF8oaXRlbSwgaXRlbVRyYWNrQnkpLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgY2hlY2sgaXMgb25seSBuZWVkZWQgaWYgYW4gYXJyYXkgY29udGFpbnMgZHVwbGljYXRlcy4gKFNob3J0IGNpcmN1aXQgb2Ygbm90aGluZyBkaXJ0eSlcbiAgICAgKlxuICAgICAqIFVzZSBjYXNlOiBgW2EsIGFdYCA9PiBgW2IsIGEsIGFdYFxuICAgICAqXG4gICAgICogSWYgd2UgZGlkIG5vdCBoYXZlIHRoaXMgY2hlY2sgdGhlbiB0aGUgaW5zZXJ0aW9uIG9mIGBiYCB3b3VsZDpcbiAgICAgKiAgIDEpIGV2aWN0IGZpcnN0IGBhYFxuICAgICAqICAgMikgaW5zZXJ0IGBiYCBhdCBgMGAgaW5kZXguXG4gICAgICogICAzKSBsZWF2ZSBgYWAgYXQgaW5kZXggYDFgIGFzIGlzLiA8LS0gdGhpcyBpcyB3cm9uZyFcbiAgICAgKiAgIDMpIHJlaW5zZXJ0IGBhYCBhdCBpbmRleCAyLiA8LS0gdGhpcyBpcyB3cm9uZyFcbiAgICAgKlxuICAgICAqIFRoZSBjb3JyZWN0IGJlaGF2aW9yIGlzOlxuICAgICAqICAgMSkgZXZpY3QgZmlyc3QgYGFgXG4gICAgICogICAyKSBpbnNlcnQgYGJgIGF0IGAwYCBpbmRleC5cbiAgICAgKiAgIDMpIHJlaW5zZXJ0IGBhYCBhdCBpbmRleCAxLlxuICAgICAqICAgMykgbW92ZSBgYWAgYXQgZnJvbSBgMWAgdG8gYDJgLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBEb3VibGUgY2hlY2sgdGhhdCB3ZSBoYXZlIG5vdCBldmljdGVkIGEgZHVwbGljYXRlIGl0ZW0uIFdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIGl0ZW0gdHlwZSBtYXlcbiAgICAgKiBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkOlxuICAgICAqIFRoZSBpbnNlcnRpb24gb2YgYiB3aWxsIGV2aWN0IHRoZSBmaXJzdCAnYScuIElmIHdlIGRvbid0IHJlaW5zZXJ0IGl0IG5vdyBpdCB3aWxsIGJlIHJlaW5zZXJ0ZWRcbiAgICAgKiBhdCB0aGUgZW5kLiBXaGljaCB3aWxsIHNob3cgdXAgYXMgdGhlIHR3byAnYSdzIHN3aXRjaGluZyBwb3NpdGlvbi4gVGhpcyBpcyBpbmNvcnJlY3QsIHNpbmNlIGFcbiAgICAgKiBiZXR0ZXIgd2F5IHRvIHRoaW5rIG9mIGl0IGlzIGFzIGluc2VydCBvZiAnYicgcmF0aGVyIHRoZW4gc3dpdGNoICdhJyB3aXRoICdiJyBhbmQgdGhlbiBhZGQgJ2EnXG4gICAgICogYXQgdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF92ZXJpZnlSZWluc2VydGlvbihyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCkge1xuICAgICAgICBsZXQgcmVpbnNlcnRSZWNvcmQgPSB0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgbnVsbCk7XG4gICAgICAgIGlmIChyZWluc2VydFJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fcmVpbnNlcnRBZnRlcihyZWluc2VydFJlY29yZCwgcmVjb3JkLl9wcmV2LCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLmN1cnJlbnRJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgcmlkIG9mIGFueSBleGNlc3Mge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX31zIGZyb20gdGhlIHByZXZpb3VzIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIC0gYHJlY29yZGAgVGhlIGZpcnN0IGV4Y2VzcyB7QGxpbmsgSXRlcmFibGVDaGFuZ2VSZWNvcmRffS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF90cnVuY2F0ZShyZWNvcmQpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgYWZ0ZXIgdGhhdCBuZWVkcyB0byBiZSByZW1vdmVkO1xuICAgICAgICB3aGlsZSAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0UmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsocmVjb3JkKSk7XG4gICAgICAgICAgICByZWNvcmQgPSBuZXh0UmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl91bmxpbmtlZFJlY29yZHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3Jkcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3Zlc1RhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXRUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdFRhaWwuX25leHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmFsc1RhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcmVpbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLl91bmxpbmtlZFJlY29yZHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3Jkcy5yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2ID0gcmVjb3JkLl9wcmV2UmVtb3ZlZDtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlY29yZC5fbmV4dFJlbW92ZWQ7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dFJlbW92ZWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldlJlbW92ZWQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX21vdmVBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX3VubGluayhyZWNvcmQpO1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hZGRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydCh0aGlzLl9hZGRpdGlvbnNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSB0aGlzLl9hZGRpdGlvbnNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID09PSBudWxsKTtcbiAgICAgICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRBZGRlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQocmVjb3JkICE9IHByZXZSZWNvcmQpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0ID09PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fcHJldiA9PT0gbnVsbCk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBwcmV2UmVjb3JkID09PSBudWxsID8gdGhpcy5faXRIZWFkIDogcHJldlJlY29yZC5fbmV4dDtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KG5leHQgIT0gcmVjb3JkKTtcbiAgICAgICAgLy8gYXNzZXJ0KHByZXZSZWNvcmQgIT0gcmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgcmVjb3JkLl9wcmV2ID0gcHJldlJlY29yZDtcbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXYgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZSZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0SGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZSZWNvcmQuX25leHQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpbmtlZFJlY29yZHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMgPSBuZXcgX0R1cGxpY2F0ZU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZW1vdmUocmVjb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayhyZWNvcmQpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF91bmxpbmsocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzLnJlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXYgPSByZWNvcmQuX3ByZXY7XG4gICAgICAgIGNvbnN0IG5leHQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydCgocmVjb3JkLl9wcmV2ID0gbnVsbCkgPT09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQoKHJlY29yZC5fbmV4dCA9IG51bGwpID09PSBudWxsKTtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0SGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfYWRkVG9Nb3ZlcyhyZWNvcmQsIHRvSW5kZXgpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dE1vdmVkID09PSBudWxsKTtcbiAgICAgICAgaWYgKHJlY29yZC5wcmV2aW91c0luZGV4ID09PSB0b0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3Zlc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX21vdmVzSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwgPSB0aGlzLl9tb3Zlc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwgPSB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICBfYWRkVG9SZW1vdmFscyhyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbmV3IF9EdXBsaWNhdGVNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBudWxsO1xuICAgICAgICByZWNvcmQuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3JlbW92YWxzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfcmVtb3ZhbHNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHRoaXMuX3JlbW92YWxzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldlJlbW92ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0UmVtb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gdGhpcy5fcmVtb3ZhbHNUYWlsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gdGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSkge1xuICAgICAgICByZWNvcmQuaXRlbSA9IGl0ZW07XG4gICAgICAgIGlmICh0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG59XG5jbGFzcyBJdGVyYWJsZUNoYW5nZVJlY29yZF8ge1xuICAgIGNvbnN0cnVjdG9yKGl0ZW0sIHRyYWNrQnlJZCkge1xuICAgICAgICB0aGlzLml0ZW0gPSBpdGVtO1xuICAgICAgICB0aGlzLnRyYWNrQnlJZCA9IHRyYWNrQnlJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLnByZXZpb3VzSW5kZXggPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRQcmV2aW91cyA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fcHJldkR1cCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fcHJldlJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRNb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dElkZW50aXR5Q2hhbmdlID0gbnVsbDtcbiAgICB9XG59XG4vLyBBIGxpbmtlZCBsaXN0IG9mIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkcyB3aXRoIHRoZSBzYW1lIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy5pdGVtXG5jbGFzcyBfRHVwbGljYXRlSXRlbVJlY29yZExpc3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgdGhlIHJlY29yZCB0byB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogTm90ZTogYnkgZGVzaWduIGFsbCByZWNvcmRzIGluIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgaG9sZCB0aGUgc2FtZSB2YWx1ZSBpbiByZWNvcmQuaXRlbS5cbiAgICAgKi9cbiAgICBhZGQocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9oZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZEdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChyZWNvcmQuaXRlbSA9PSAgX2hlYWQuaXRlbSB8fFxuICAgICAgICAgICAgLy8gICAgICAgcmVjb3JkLml0ZW0gaXMgbnVtICYmIHJlY29yZC5pdGVtLmlzTmFOICYmIF9oZWFkLml0ZW0gaXMgbnVtICYmIF9oZWFkLml0ZW0uaXNOYU4pO1xuICAgICAgICAgICAgdGhpcy5fdGFpbC5fbmV4dER1cCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldkR1cCA9IHRoaXMuX3RhaWw7XG4gICAgICAgICAgICByZWNvcmQuX25leHREdXAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgSXRlcmFibGVDaGFuZ2VSZWNvcmRfIGhhdmluZyBJdGVyYWJsZUNoYW5nZVJlY29yZF8udHJhY2tCeUlkID09IHRyYWNrQnlJZCBhbmRcbiAgICAvLyBJdGVyYWJsZUNoYW5nZVJlY29yZF8uY3VycmVudEluZGV4ID49IGF0T3JBZnRlckluZGV4XG4gICAgZ2V0KHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9oZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dER1cCkge1xuICAgICAgICAgICAgaWYgKChhdE9yQWZ0ZXJJbmRleCA9PT0gbnVsbCB8fCBhdE9yQWZ0ZXJJbmRleCA8PSByZWNvcmQuY3VycmVudEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIE9iamVjdC5pcyhyZWNvcmQudHJhY2tCeUlkLCB0cmFja0J5SWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIG9uZSB7QGxpbmsgSXRlcmFibGVDaGFuZ2VSZWNvcmRffSBmcm9tIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICByZW1vdmUocmVjb3JkKSB7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydCgoKSB7XG4gICAgICAgIC8vICAvLyB2ZXJpZnkgdGhhdCB0aGUgcmVjb3JkIGJlaW5nIHJlbW92ZWQgaXMgaW4gdGhlIGxpc3QuXG4gICAgICAgIC8vICBmb3IgKEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyBjdXJzb3IgPSBfaGVhZDsgY3Vyc29yICE9IG51bGw7IGN1cnNvciA9IGN1cnNvci5fbmV4dER1cCkge1xuICAgICAgICAvLyAgICBpZiAoaWRlbnRpY2FsKGN1cnNvciwgcmVjb3JkKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vICB9XG4gICAgICAgIC8vICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vfSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSByZWNvcmQuX3ByZXZEdXA7XG4gICAgICAgIGNvbnN0IG5leHQgPSByZWNvcmQuX25leHREdXA7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHREdXAgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXZEdXAgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkID09PSBudWxsO1xuICAgIH1cbn1cbmNsYXNzIF9EdXBsaWNhdGVNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgcHV0KHJlY29yZCkge1xuICAgICAgICBjb25zdCBrZXkgPSByZWNvcmQudHJhY2tCeUlkO1xuICAgICAgICBsZXQgZHVwbGljYXRlcyA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWR1cGxpY2F0ZXMpIHtcbiAgICAgICAgICAgIGR1cGxpY2F0ZXMgPSBuZXcgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCBkdXBsaWNhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBkdXBsaWNhdGVzLmFkZChyZWNvcmQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgYHZhbHVlYCB1c2luZyBrZXkuIEJlY2F1c2UgdGhlIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyB2YWx1ZSBtYXkgYmUgb25lIHdoaWNoIHdlXG4gICAgICogaGF2ZSBhbHJlYWR5IGl0ZXJhdGVkIG92ZXIsIHdlIHVzZSB0aGUgYGF0T3JBZnRlckluZGV4YCB0byBwcmV0ZW5kIGl0IGlzIG5vdCB0aGVyZS5cbiAgICAgKlxuICAgICAqIFVzZSBjYXNlOiBgW2EsIGIsIGMsIGEsIGFdYCBpZiB3ZSBhcmUgYXQgaW5kZXggYDNgIHdoaWNoIGlzIHRoZSBzZWNvbmQgYGFgIHRoZW4gYXNraW5nIGlmIHdlXG4gICAgICogaGF2ZSBhbnkgbW9yZSBgYWBzIG5lZWRzIHRvIHJldHVybiB0aGUgc2Vjb25kIGBhYC5cbiAgICAgKi9cbiAgICBnZXQodHJhY2tCeUlkLCBhdE9yQWZ0ZXJJbmRleCkge1xuICAgICAgICBjb25zdCBrZXkgPSB0cmFja0J5SWQ7XG4gICAgICAgIGNvbnN0IHJlY29yZExpc3QgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZExpc3QgPyByZWNvcmRMaXN0LmdldCh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB7QGxpbmsgSXRlcmFibGVDaGFuZ2VSZWNvcmRffSBmcm9tIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBkdXBsaWNhdGVzIGFsc28gaXMgcmVtb3ZlZCBmcm9tIHRoZSBtYXAgaWYgaXQgZ2V0cyBlbXB0eS5cbiAgICAgKi9cbiAgICByZW1vdmUocmVjb3JkKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHJlY29yZC50cmFja0J5SWQ7XG4gICAgICAgIGNvbnN0IHJlY29yZExpc3QgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgd2hlbiBpdCBnZXRzIGVtcHR5XG4gICAgICAgIGlmIChyZWNvcmRMaXN0LnJlbW92ZShyZWNvcmQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnNpemUgPT09IDA7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFByZXZpb3VzSW5kZXgoaXRlbSwgYWRkUmVtb3ZlT2Zmc2V0LCBtb3ZlT2Zmc2V0cykge1xuICAgIGNvbnN0IHByZXZpb3VzSW5kZXggPSBpdGVtLnByZXZpb3VzSW5kZXg7XG4gICAgaWYgKHByZXZpb3VzSW5kZXggPT09IG51bGwpXG4gICAgICAgIHJldHVybiBwcmV2aW91c0luZGV4O1xuICAgIGxldCBtb3ZlT2Zmc2V0ID0gMDtcbiAgICBpZiAobW92ZU9mZnNldHMgJiYgcHJldmlvdXNJbmRleCA8IG1vdmVPZmZzZXRzLmxlbmd0aCkge1xuICAgICAgICBtb3ZlT2Zmc2V0ID0gbW92ZU9mZnNldHNbcHJldmlvdXNJbmRleF07XG4gICAgfVxuICAgIHJldHVybiBwcmV2aW91c0luZGV4ICsgYWRkUmVtb3ZlT2Zmc2V0ICsgbW92ZU9mZnNldDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHN1cHBvcnRzKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTWFwIHx8IGlzSnNPYmplY3Qob2JqKTtcbiAgICB9XG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlcigpO1xuICAgIH1cbn1cbmNsYXNzIERlZmF1bHRLZXlWYWx1ZURpZmZlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3JlY29yZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX21hcEhlYWQgPSBudWxsO1xuICAgICAgICAvLyBfYXBwZW5kQWZ0ZXIgaXMgdXNlZCBpbiB0aGUgY2hlY2sgbG9vcFxuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgfVxuICAgIGdldCBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkaXRpb25zSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9jaGFuZ2VzSGVhZCAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkICE9PSBudWxsO1xuICAgIH1cbiAgICBmb3JFYWNoSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hQcmV2aW91c0l0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c01hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UHJldmlvdXMpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaENoYW5nZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fY2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0Q2hhbmdlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoQWRkZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoUmVtb3ZlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UmVtb3ZlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaWZmKG1hcCkge1xuICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCEobWFwIGluc3RhbmNlb2YgTWFwIHx8IGlzSnNPYmplY3QobWFwKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7c3RyaW5naWZ5KG1hcCl9Jy4gT25seSBtYXBzIGFuZCBvYmplY3RzIGFyZSBhbGxvd2VkYCA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMCAvKiBJTlZBTElEX0RJRkZFUl9JTlBVVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjayhtYXApID8gdGhpcyA6IG51bGw7XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHsgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBtYXAgdnMgdGhlIHByZXZpb3VzLlxuICAgICAqIFRoZSBhbGdvcml0aG0gaXMgb3B0aW1pc2VkIGZvciB3aGVuIHRoZSBrZXlzIGRvIG5vIGNoYW5nZS5cbiAgICAgKi9cbiAgICBjaGVjayhtYXApIHtcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgbGV0IGluc2VydEJlZm9yZSA9IHRoaXMuX21hcEhlYWQ7XG4gICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZm9yRWFjaChtYXAsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlICYmIGluc2VydEJlZm9yZS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21heWJlQWRkVG9DaGFuZ2VzKGluc2VydEJlZm9yZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gaW5zZXJ0QmVmb3JlO1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSA9IGluc2VydEJlZm9yZS5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSA9IHRoaXMuX2luc2VydEJlZm9yZU9yQXBwZW5kKGluc2VydEJlZm9yZSwgcmVjb3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEl0ZW1zIHJlbWFpbmluZyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IGhhdmUgYmVlbiBkZWxldGVkXG4gICAgICAgIGlmIChpbnNlcnRCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmIChpbnNlcnRCZWZvcmUuX3ByZXYpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUuX3ByZXYuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gaW5zZXJ0QmVmb3JlO1xuICAgICAgICAgICAgZm9yIChsZXQgcmVjb3JkID0gaW5zZXJ0QmVmb3JlOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSB0aGlzLl9tYXBIZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcEhlYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvcmRzLmRlbGV0ZShyZWNvcmQua2V5KTtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRSZW1vdmVkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZWNvcmQuX3ByZXYgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRhaWxzIGhhdmUgbm8gbmV4dCByZWNvcmRzIGZyb20gcHJldmlvdXMgcnVuc1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc1RhaWwpXG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbClcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlydHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSByZWNvcmQgYmVmb3JlIGBiZWZvcmVgIG9yIGFwcGVuZCBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IHdoZW4gYGJlZm9yZWAgaXMgbnVsbC5cbiAgICAgKlxuICAgICAqIE5vdGVzOlxuICAgICAqIC0gVGhpcyBtZXRob2QgYXBwZW5kcyBhdCBgdGhpcy5fYXBwZW5kQWZ0ZXJgLFxuICAgICAqIC0gVGhpcyBtZXRob2QgdXBkYXRlcyBgdGhpcy5fYXBwZW5kQWZ0ZXJgLFxuICAgICAqIC0gVGhlIHJldHVybiB2YWx1ZSBpcyB0aGUgbmV3IHZhbHVlIGZvciB0aGUgaW5zZXJ0aW9uIHBvaW50ZXIuXG4gICAgICovXG4gICAgX2luc2VydEJlZm9yZU9yQXBwZW5kKGJlZm9yZSwgcmVjb3JkKSB7XG4gICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBiZWZvcmUuX3ByZXY7XG4gICAgICAgICAgICByZWNvcmQuX25leHQgPSBiZWZvcmU7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSBwcmV2O1xuICAgICAgICAgICAgYmVmb3JlLl9wcmV2ID0gcmVjb3JkO1xuICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2Ll9uZXh0ID0gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlZm9yZSA9PT0gdGhpcy5fbWFwSGVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcEhlYWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IGJlZm9yZTtcbiAgICAgICAgICAgIHJldHVybiBiZWZvcmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FwcGVuZEFmdGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBlbmRBZnRlci5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IHRoaXMuX2FwcGVuZEFmdGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IHJlY29yZDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIF9nZXRPckNyZWF0ZVJlY29yZEZvcktleShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvcmRzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLl9yZWNvcmRzLmdldChrZXkpO1xuICAgICAgICAgICAgdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMocmVjb3JkLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgcHJldi5fbmV4dCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IG5ldyBLZXlWYWx1ZUNoYW5nZVJlY29yZF8oa2V5KTtcbiAgICAgICAgdGhpcy5fcmVjb3Jkcy5zZXQoa2V5LCByZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2FkZFRvQWRkaXRpb25zKHJlY29yZCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcmVzZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgICAgICAvLyBsZXQgYF9wcmV2aW91c01hcEhlYWRgIGNvbnRhaW4gdGhlIHN0YXRlIG9mIHRoZSBtYXAgYmVmb3JlIHRoZSBjaGFuZ2VzXG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c01hcEhlYWQgPSB0aGlzLl9tYXBIZWFkO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c01hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UHJldmlvdXMgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgYHJlY29yZC5wcmV2aW91c1ZhbHVlYCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbSBiZWZvcmUgdGhlIGNoYW5nZXNcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIGFsbCBjaGFuZ2VkIGl0ZW1zICh0aGF0J3MgdGhvc2Ugd2hpY2ggaGF2ZSBiZWVuIGFkZGVkIGFuZCBjaGFuZ2VkKVxuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9jaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzSGVhZCA9IHRoaXMuX2NoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQWRkIHRoZSByZWNvcmQgb3IgYSBnaXZlbiBrZXkgdG8gdGhlIGxpc3Qgb2YgY2hhbmdlcyBvbmx5IHdoZW4gdGhlIHZhbHVlIGhhcyBhY3R1YWxseSBjaGFuZ2VkXG4gICAgX21heWJlQWRkVG9DaGFuZ2VzKHJlY29yZCwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuaXMobmV3VmFsdWUsIHJlY29yZC5jdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb0NoYW5nZXMocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWRkVG9BZGRpdGlvbnMocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNIZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IHJlY29yZDtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZFRvQ2hhbmdlcyhyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNIZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzSGVhZCA9IHRoaXMuX2NoYW5nZXNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwuX25leHRDaGFuZ2VkID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9mb3JFYWNoKG9iaiwgZm4pIHtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgb2JqLmZvckVhY2goZm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGsgPT4gZm4ob2JqW2tdLCBrKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBLZXlWYWx1ZUNoYW5nZVJlY29yZF8ge1xuICAgIGNvbnN0cnVjdG9yKGtleSkge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRQcmV2aW91cyA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dENoYW5nZWQgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0SXRlcmFibGVEaWZmZXJzRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhbbmV3IERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkoKV0pO1xufVxuLyoqXG4gKiBBIHJlcG9zaXRvcnkgb2YgZGlmZmVyZW50IGl0ZXJhYmxlIGRpZmZpbmcgc3RyYXRlZ2llcyB1c2VkIGJ5IE5nRm9yLCBOZ0NsYXNzLCBhbmQgb3RoZXJzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgSXRlcmFibGVEaWZmZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBmYWN0b3JpZXM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjb3BpZWQgPSBwYXJlbnQuZmFjdG9yaWVzLnNsaWNlKCk7XG4gICAgICAgICAgICBmYWN0b3JpZXMgPSBmYWN0b3JpZXMuY29uY2F0KGNvcGllZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYWJsZURpZmZlcnMoZmFjdG9yaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGFrZXMgYW4gYXJyYXkgb2Yge0BsaW5rIEl0ZXJhYmxlRGlmZmVyRmFjdG9yeX0gYW5kIHJldHVybnMgYSBwcm92aWRlciB1c2VkIHRvIGV4dGVuZCB0aGVcbiAgICAgKiBpbmhlcml0ZWQge0BsaW5rIEl0ZXJhYmxlRGlmZmVyc30gaW5zdGFuY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZmFjdG9yaWVzIGFuZCByZXR1cm4gYSBuZXdcbiAgICAgKiB7QGxpbmsgSXRlcmFibGVEaWZmZXJzfSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gZXh0ZW5kIGFuIGV4aXN0aW5nIGxpc3Qgb2YgZmFjdG9yaWVzLFxuICAgICAqIHdoaWNoIHdpbGwgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBpbmplY3RvciBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBUaGlzIHN0ZXAgaXMgYWxsIHRoYXQncyByZXF1aXJlZCB0byBtYWtlIGEgbmV3IHtAbGluayBJdGVyYWJsZURpZmZlcn0gYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICB2aWV3UHJvdmlkZXJzOiBbXG4gICAgICogICAgIEl0ZXJhYmxlRGlmZmVycy5leHRlbmQoW25ldyBJbW11dGFibGVMaXN0RGlmZmVyKCldKVxuICAgICAqICAgXVxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZChmYWN0b3JpZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEl0ZXJhYmxlRGlmZmVycyxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IChwYXJlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiBwYXJlbnQgaXMgbnVsbCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgaW4gdGhlIHJvb3QgaW5qZWN0b3IgYW5kIHdlIGhhdmUganVzdCBvdmVycmlkZGVuXG4gICAgICAgICAgICAgICAgLy8gdGhlIGRlZmF1bHQgaW5qZWN0aW9uIG1lY2hhbmlzbSBmb3IgSXRlcmFibGVEaWZmZXJzLCBpbiBzdWNoIGEgY2FzZSBqdXN0IGFzc3VtZVxuICAgICAgICAgICAgICAgIC8vIGBkZWZhdWx0SXRlcmFibGVEaWZmZXJzRmFjdG9yeWAuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEl0ZXJhYmxlRGlmZmVycy5jcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQgfHwgZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGVwZW5kZW5jeSB0ZWNobmljYWxseSBpc24ndCBvcHRpb25hbCwgYnV0IHdlIGNhbiBwcm92aWRlIGEgYmV0dGVyIGVycm9yIG1lc3NhZ2UgdGhpcyB3YXkuXG4gICAgICAgICAgICBkZXBzOiBbW0l0ZXJhYmxlRGlmZmVycywgbmV3IFNraXBTZWxmKCksIG5ldyBPcHRpb25hbCgpXV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmluZChpdGVyYWJsZSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmID0+IGYuc3VwcG9ydHMoaXRlcmFibGUpKTtcbiAgICAgICAgaWYgKGZhY3RvcnkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke2l0ZXJhYmxlfScgb2YgdHlwZSAnJHtnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyhpdGVyYWJsZSl9J2AgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDEgLyogTk9fU1VQUE9SVElOR19ESUZGRVJfRkFDVE9SWSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBAbm9jb2xsYXBzZSAqL1xuSXRlcmFibGVEaWZmZXJzLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IEl0ZXJhYmxlRGlmZmVycywgcHJvdmlkZWRJbjogJ3Jvb3QnLCBmYWN0b3J5OiBkZWZhdWx0SXRlcmFibGVEaWZmZXJzRmFjdG9yeSB9KTtcbmZ1bmN0aW9uIGdldFR5cGVOYW1lRm9yRGVidWdnaW5nKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZVsnbmFtZSddIHx8IHR5cGVvZiB0eXBlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgS2V5VmFsdWVEaWZmZXJzKFtuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSgpXSk7XG59XG4vKipcbiAqIEEgcmVwb3NpdG9yeSBvZiBkaWZmZXJlbnQgTWFwIGRpZmZpbmcgc3RyYXRlZ2llcyB1c2VkIGJ5IE5nQ2xhc3MsIE5nU3R5bGUsIGFuZCBvdGhlcnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBLZXlWYWx1ZURpZmZlcnMge1xuICAgIGNvbnN0cnVjdG9yKGZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLmZhY3RvcmllcyA9IGZhY3RvcmllcztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjb3BpZWQgPSBwYXJlbnQuZmFjdG9yaWVzLnNsaWNlKCk7XG4gICAgICAgICAgICBmYWN0b3JpZXMgPSBmYWN0b3JpZXMuY29uY2F0KGNvcGllZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBLZXlWYWx1ZURpZmZlcnMoZmFjdG9yaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGFrZXMgYW4gYXJyYXkgb2Yge0BsaW5rIEtleVZhbHVlRGlmZmVyRmFjdG9yeX0gYW5kIHJldHVybnMgYSBwcm92aWRlciB1c2VkIHRvIGV4dGVuZCB0aGVcbiAgICAgKiBpbmhlcml0ZWQge0BsaW5rIEtleVZhbHVlRGlmZmVyc30gaW5zdGFuY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZmFjdG9yaWVzIGFuZCByZXR1cm4gYSBuZXdcbiAgICAgKiB7QGxpbmsgS2V5VmFsdWVEaWZmZXJzfSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gZXh0ZW5kIGFuIGV4aXN0aW5nIGxpc3Qgb2YgZmFjdG9yaWVzLFxuICAgICAqIHdoaWNoIHdpbGwgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBpbmplY3RvciBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBUaGlzIHN0ZXAgaXMgYWxsIHRoYXQncyByZXF1aXJlZCB0byBtYWtlIGEgbmV3IHtAbGluayBLZXlWYWx1ZURpZmZlcn0gYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICB2aWV3UHJvdmlkZXJzOiBbXG4gICAgICogICAgIEtleVZhbHVlRGlmZmVycy5leHRlbmQoW25ldyBJbW11dGFibGVNYXBEaWZmZXIoKV0pXG4gICAgICogICBdXG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0ZW5kKGZhY3Rvcmllcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvdmlkZTogS2V5VmFsdWVEaWZmZXJzLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogKHBhcmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGlmIHBhcmVudCBpcyBudWxsLCBpdCBtZWFucyB0aGF0IHdlIGFyZSBpbiB0aGUgcm9vdCBpbmplY3RvciBhbmQgd2UgaGF2ZSBqdXN0IG92ZXJyaWRkZW5cbiAgICAgICAgICAgICAgICAvLyB0aGUgZGVmYXVsdCBpbmplY3Rpb24gbWVjaGFuaXNtIGZvciBLZXlWYWx1ZURpZmZlcnMsIGluIHN1Y2ggYSBjYXNlIGp1c3QgYXNzdW1lXG4gICAgICAgICAgICAgICAgLy8gYGRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5YC5cbiAgICAgICAgICAgICAgICByZXR1cm4gS2V5VmFsdWVEaWZmZXJzLmNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCB8fCBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbS2V5VmFsdWVEaWZmZXJzLCBuZXcgU2tpcFNlbGYoKSwgbmV3IE9wdGlvbmFsKCldXVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmaW5kKGt2KSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLmZhY3Rvcmllcy5maW5kKGYgPT4gZi5zdXBwb3J0cyhrdikpO1xuICAgICAgICBpZiAoZmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke2t2fSdgIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMSAvKiBOT19TVVBQT1JUSU5HX0RJRkZFUl9GQUNUT1JZICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbn1cbi8qKiBAbm9jb2xsYXBzZSAqL1xuS2V5VmFsdWVEaWZmZXJzLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IEtleVZhbHVlRGlmZmVycywgcHJvdmlkZWRJbjogJ3Jvb3QnLCBmYWN0b3J5OiBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFN0cnVjdHVyYWwgZGlmZmluZyBmb3IgYE9iamVjdGBzIGFuZCBgTWFwYHMuXG4gKi9cbmNvbnN0IGtleVZhbERpZmYgPSBbbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKV07XG4vKipcbiAqIFN0cnVjdHVyYWwgZGlmZmluZyBmb3IgYEl0ZXJhYmxlYCB0eXBlcyBzdWNoIGFzIGBBcnJheWBzLlxuICovXG5jb25zdCBpdGVyYWJsZURpZmYgPSBbbmV3IERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkoKV07XG5jb25zdCBkZWZhdWx0SXRlcmFibGVEaWZmZXJzID0gbmV3IEl0ZXJhYmxlRGlmZmVycyhpdGVyYWJsZURpZmYpO1xuY29uc3QgZGVmYXVsdEtleVZhbHVlRGlmZmVycyA9IG5ldyBLZXlWYWx1ZURpZmZlcnMoa2V5VmFsRGlmZik7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IF9DT1JFX1BMQVRGT1JNX1BST1ZJREVSUyA9IFtcbiAgICAvLyBTZXQgYSBkZWZhdWx0IHBsYXRmb3JtIG5hbWUgZm9yIHBsYXRmb3JtcyB0aGF0IGRvbid0IHNldCBpdCBleHBsaWNpdGx5LlxuICAgIHsgcHJvdmlkZTogUExBVEZPUk1fSUQsIHVzZVZhbHVlOiAndW5rbm93bicgfSxcbiAgICB7IHByb3ZpZGU6IFBsYXRmb3JtUmVmLCBkZXBzOiBbSW5qZWN0b3JdIH0sXG4gICAgeyBwcm92aWRlOiBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBkZXBzOiBbXSB9LFxuICAgIHsgcHJvdmlkZTogQ29uc29sZSwgZGVwczogW10gfSxcbl07XG4vKipcbiAqIFRoaXMgcGxhdGZvcm0gaGFzIHRvIGJlIGluY2x1ZGVkIGluIGFueSBvdGhlciBwbGF0Zm9ybVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgcGxhdGZvcm1Db3JlID0gY3JlYXRlUGxhdGZvcm1GYWN0b3J5KG51bGwsICdjb3JlJywgX0NPUkVfUExBVEZPUk1fUFJPVklERVJTKTtcblxuLyoqXG4gKiBSZS1leHBvcnRlZCBieSBgQnJvd3Nlck1vZHVsZWAsIHdoaWNoIGlzIGluY2x1ZGVkIGF1dG9tYXRpY2FsbHkgaW4gdGhlIHJvb3RcbiAqIGBBcHBNb2R1bGVgIHdoZW4geW91IGNyZWF0ZSBhIG5ldyBhcHAgd2l0aCB0aGUgQ0xJIGBuZXdgIGNvbW1hbmQuIEVhZ2VybHkgaW5qZWN0c1xuICogYEFwcGxpY2F0aW9uUmVmYCB0byBpbnN0YW50aWF0ZSBpdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uTW9kdWxlIHtcbiAgICAvLyBJbmplY3QgQXBwbGljYXRpb25SZWYgdG8gbWFrZSBpdCBlYWdlci4uLlxuICAgIGNvbnN0cnVjdG9yKGFwcFJlZikgeyB9XG59XG5BcHBsaWNhdGlvbk1vZHVsZS7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uTW9kdWxlX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uTW9kdWxlKSjJtcm1aW5qZWN0KEFwcGxpY2F0aW9uUmVmKSk7IH07XG5BcHBsaWNhdGlvbk1vZHVsZS7JtW1vZCA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZU5nTW9kdWxlKHsgdHlwZTogQXBwbGljYXRpb25Nb2R1bGUgfSk7XG5BcHBsaWNhdGlvbk1vZHVsZS7JtWluaiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdG9yKHt9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKEFwcGxpY2F0aW9uTW9kdWxlLCBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGVcbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEFwcGxpY2F0aW9uUmVmIH1dOyB9LCBudWxsKTtcbn0pKCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETyhhbHhodWIpOiBhbGxvd3MgdGVzdHMgdG8gY29tcGlsZSwgY2FuIGJlIHJlbW92ZWQgd2hlbiB0ZXN0cyBoYXZlIGJlZW4gdXBkYXRlZC5cbmNvbnN0IMm1aXZ5RW5hYmxlZCA9IHRydWU7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgZGlyZWN0aXZlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZURpcmVjdGl2ZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZURpcmVjdGl2ZURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVmYWMuanNgLCBkZWNsKTtcbn1cbi8qKlxuICogRXZhbHVhdGVzIHRoZSBjbGFzcyBtZXRhZGF0YSBkZWNsYXJhdGlvbi5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YShkZWNsKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBzZXRDbGFzc01ldGFkYXRhKGRlY2wudHlwZSwgZGVjbC5kZWNvcmF0b3JzLCAoX2EgPSBkZWNsLmN0b3JQYXJhbWV0ZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLCAoX2IgPSBkZWNsLnByb3BEZWNvcmF0b3JzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGNvbXBvbmVudCBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVDb21wb25lbnQoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdjb21wb25lbnQnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVDb21wb25lbnREZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1Y21wLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBwaXBlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBwaXBlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVGYWN0b3J5KGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHtcbiAgICAgICAgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLFxuICAgICAgICBraW5kOiBnZXRGYWN0b3J5S2luZChkZWNsLnRhcmdldCksXG4gICAgICAgIHR5cGU6IGRlY2wudHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlRmFjdG9yeURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVmYWMuanNgLCBkZWNsKTtcbn1cbmZ1bmN0aW9uIGdldEZhY3RvcnlLaW5kKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0KSB7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5EaXJlY3RpdmU6XG4gICAgICAgICAgICByZXR1cm4gJ2RpcmVjdGl2ZSc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5Db21wb25lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ2NvbXBvbmVudCc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5JbmplY3RhYmxlOlxuICAgICAgICAgICAgcmV0dXJuICdpbmplY3RhYmxlJztcbiAgICAgICAgY2FzZSBGYWN0b3J5VGFyZ2V0LlBpcGU6XG4gICAgICAgICAgICByZXR1cm4gJ3BpcGUnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuTmdNb2R1bGU6XG4gICAgICAgICAgICByZXR1cm4gJ05nTW9kdWxlJztcbiAgICB9XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBpbmplY3RhYmxlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBpbmplY3RhYmxlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnaW5qZWN0YWJsZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUluamVjdGFibGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1cHJvdi5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgaW5qZWN0b3IgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIGluamVjdG9yIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVJbmplY3RvcihkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlSW5qZWN0b3JEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1aW5qLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBOZ01vZHVsZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgTmdNb2R1bGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZU5nTW9kdWxlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVOZ01vZHVsZURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVtb2QuanNgLCBkZWNsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIHBpcGUgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIHBpcGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZVBpcGUoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdwaXBlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlUGlwZURlY2xhcmF0aW9uKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHtkZWNsLnR5cGUubmFtZX0vybVwaXBlLmpzYCwgZGVjbCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gY2xhbmctZm9ybWF0IG9uXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuaWYgKHR5cGVvZiBuZ0Rldk1vZGUgIT09ICd1bmRlZmluZWQnICYmIG5nRGV2TW9kZSkge1xuICAgIC8vIFRoaXMgaGVscGVyIGlzIHRvIGdpdmUgYSByZWFzb25hYmxlIGVycm9yIG1lc3NhZ2UgdG8gcGVvcGxlIHVwZ3JhZGluZyB0byB2OSB0aGF0IGhhdmUgbm90IHlldFxuICAgIC8vIGluc3RhbGxlZCBgQGFuZ3VsYXIvbG9jYWxpemVgIGluIHRoZWlyIGFwcC5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgIF9nbG9iYWwuJGxvY2FsaXplID0gX2dsb2JhbC4kbG9jYWxpemUgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0IGxvb2tzIGxpa2UgeW91ciBhcHBsaWNhdGlvbiBvciBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcyBpcyB1c2luZyBpMThuLlxcbicgK1xuICAgICAgICAgICAgJ0FuZ3VsYXIgOSBpbnRyb2R1Y2VkIGEgZ2xvYmFsIGAkbG9jYWxpemUoKWAgZnVuY3Rpb24gdGhhdCBuZWVkcyB0byBiZSBsb2FkZWQuXFxuJyArXG4gICAgICAgICAgICAnUGxlYXNlIHJ1biBgbmcgYWRkIEBhbmd1bGFyL2xvY2FsaXplYCBmcm9tIHRoZSBBbmd1bGFyIENMSS5cXG4nICtcbiAgICAgICAgICAgICcoRm9yIG5vbi1DTEkgcHJvamVjdHMsIGFkZCBgaW1wb3J0IFxcJ0Bhbmd1bGFyL2xvY2FsaXplL2luaXRcXCc7YCB0byB5b3VyIGBwb2x5ZmlsbHMudHNgIGZpbGUuXFxuJyArXG4gICAgICAgICAgICAnRm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZyBhcHBsaWNhdGlvbnMgYWRkIHRoZSBpbXBvcnQgdG8geW91ciBgbWFpbi5zZXJ2ZXIudHNgIGZpbGUuKScpO1xuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVGhpcyBmaWxlIG9ubHkgcmVleHBvcnRzIGNvbnRlbnQgb2YgdGhlIGBzcmNgIGZvbGRlci4gS2VlcCBpdCB0aGF0IHdheS5cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0IHsgQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgQVBQX0JPT1RTVFJBUF9MSVNURU5FUiwgQVBQX0lELCBBUFBfSU5JVElBTElaRVIsIEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgQXBwbGljYXRpb25Nb2R1bGUsIEFwcGxpY2F0aW9uUmVmLCBBdHRyaWJ1dGUsIENPTVBJTEVSX09QVElPTlMsIENVU1RPTV9FTEVNRU5UU19TQ0hFTUEsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcGlsZXIsIENvbXBpbGVyRmFjdG9yeSwgQ29tcG9uZW50LCBDb21wb25lbnRGYWN0b3J5JDEgYXMgQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEgYXMgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBDb21wb25lbnRSZWYkMSBhcyBDb21wb25lbnRSZWYsIENvbnRlbnRDaGlsZCwgQ29udGVudENoaWxkcmVuLCBERUZBVUxUX0NVUlJFTkNZX0NPREUsIERlYnVnRWxlbWVudCwgRGVidWdFdmVudExpc3RlbmVyLCBEZWJ1Z05vZGUsIERlZmF1bHRJdGVyYWJsZURpZmZlciwgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFbWJlZGRlZFZpZXdSZWYsIEVycm9ySGFuZGxlciwgRXZlbnRFbWl0dGVyLCBIb3N0LCBIb3N0QmluZGluZywgSG9zdExpc3RlbmVyLCBJTkpFQ1RPUiwgSW5qZWN0LCBJbmplY3RGbGFncywgSW5qZWN0YWJsZSwgSW5qZWN0aW9uVG9rZW4sIEluamVjdG9yLCBJbnB1dCwgSXRlcmFibGVEaWZmZXJzLCBLZXlWYWx1ZURpZmZlcnMsIExPQ0FMRV9JRCwgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3ksIE1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMsIE5PX0VSUk9SU19TQ0hFTUEsIE5nTW9kdWxlLCBOZ01vZHVsZUZhY3RvcnkkMSBhcyBOZ01vZHVsZUZhY3RvcnksIE5nTW9kdWxlUmVmJDEgYXMgTmdNb2R1bGVSZWYsIE5nUHJvYmVUb2tlbiwgTmdab25lLCBPcHRpb25hbCwgT3V0cHV0LCBQQUNLQUdFX1JPT1RfVVJMLCBQTEFURk9STV9JRCwgUExBVEZPUk1fSU5JVElBTElaRVIsIFBpcGUsIFBsYXRmb3JtUmVmLCBRdWVyeSwgUXVlcnlMaXN0LCBSZWZsZWN0aXZlSW5qZWN0b3IsIFJlZmxlY3RpdmVLZXksIFJlbmRlcmVyMiwgUmVuZGVyZXJGYWN0b3J5MiwgUmVuZGVyZXJTdHlsZUZsYWdzMiwgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSwgU2FuaXRpemVyLCBTZWN1cml0eUNvbnRleHQsIFNlbGYsIFNpbXBsZUNoYW5nZSwgU2tpcFNlbGYsIFRSQU5TTEFUSU9OUywgVFJBTlNMQVRJT05TX0ZPUk1BVCwgVGVtcGxhdGVSZWYsIFRlc3RhYmlsaXR5LCBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBUeXBlLCBWRVJTSU9OLCBWZXJzaW9uLCBWaWV3Q2hpbGQsIFZpZXdDaGlsZHJlbiwgVmlld0NvbnRhaW5lclJlZiwgVmlld0VuY2Fwc3VsYXRpb24kMSBhcyBWaWV3RW5jYXBzdWxhdGlvbiwgVmlld1JlZiwgYXNOYXRpdmVFbGVtZW50cywgYXNzZXJ0UGxhdGZvcm0sIGNyZWF0ZU5nTW9kdWxlUmVmLCBjcmVhdGVQbGF0Zm9ybSwgY3JlYXRlUGxhdGZvcm1GYWN0b3J5LCBkZWZpbmVJbmplY3RhYmxlLCBkZXN0cm95UGxhdGZvcm0sIGVuYWJsZVByb2RNb2RlLCBmb3J3YXJkUmVmLCBnZXREZWJ1Z05vZGUsIGdldE1vZHVsZUZhY3RvcnksIGdldE5nTW9kdWxlQnlJZCwgZ2V0UGxhdGZvcm0sIGluamVjdCwgaXNEZXZNb2RlLCBwbGF0Zm9ybUNvcmUsIHJlc29sdmVGb3J3YXJkUmVmLCBzZXRUZXN0YWJpbGl0eUdldHRlciwgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TIGFzIMm1QUxMT1dfTVVMVElQTEVfUExBVEZPUk1TLCBBUFBfSURfUkFORE9NX1BST1ZJREVSIGFzIMm1QVBQX0lEX1JBTkRPTV9QUk9WSURFUiwgQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgYXMgybVDaGFuZ2VEZXRlY3RvclN0YXR1cywgQ29tcG9uZW50RmFjdG9yeSQxIGFzIMm1Q29tcG9uZW50RmFjdG9yeSwgQ29uc29sZSBhcyDJtUNvbnNvbGUsIERFRkFVTFRfTE9DQUxFX0lEIGFzIMm1REVGQVVMVF9MT0NBTEVfSUQsIElOSkVDVE9SX1NDT1BFIGFzIMm1SU5KRUNUT1JfU0NPUEUsIExpZmVjeWNsZUhvb2tzRmVhdHVyZSBhcyDJtUxpZmVjeWNsZUhvb2tzRmVhdHVyZSwgTG9jYWxlRGF0YUluZGV4IGFzIMm1TG9jYWxlRGF0YUluZGV4LCBOR19DT01QX0RFRiBhcyDJtU5HX0NPTVBfREVGLCBOR19ESVJfREVGIGFzIMm1TkdfRElSX0RFRiwgTkdfRUxFTUVOVF9JRCBhcyDJtU5HX0VMRU1FTlRfSUQsIE5HX0lOSl9ERUYgYXMgybVOR19JTkpfREVGLCBOR19NT0RfREVGIGFzIMm1TkdfTU9EX0RFRiwgTkdfUElQRV9ERUYgYXMgybVOR19QSVBFX0RFRiwgTkdfUFJPVl9ERUYgYXMgybVOR19QUk9WX0RFRiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiBhcyDJtU5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IsIE5PX0NIQU5HRSBhcyDJtU5PX0NIQU5HRSwgTmdNb2R1bGVGYWN0b3J5IGFzIMm1TmdNb2R1bGVGYWN0b3J5LCBOb29wTmdab25lIGFzIMm1Tm9vcE5nWm9uZSwgUmVmbGVjdGlvbkNhcGFiaWxpdGllcyBhcyDJtVJlZmxlY3Rpb25DYXBhYmlsaXRpZXMsIENvbXBvbmVudEZhY3RvcnkgYXMgybVSZW5kZXIzQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50UmVmIGFzIMm1UmVuZGVyM0NvbXBvbmVudFJlZiwgTmdNb2R1bGVSZWYgYXMgybVSZW5kZXIzTmdNb2R1bGVSZWYsIFJ1bnRpbWVFcnJvciBhcyDJtVJ1bnRpbWVFcnJvciwgVmlld1JlZiQxIGFzIMm1Vmlld1JlZiwgX3Nhbml0aXplSHRtbCBhcyDJtV9zYW5pdGl6ZUh0bWwsIF9zYW5pdGl6ZVVybCBhcyDJtV9zYW5pdGl6ZVVybCwgYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyBhcyDJtWFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3csIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCwgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0IGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlLCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0VXJsLCBjbGVhclJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlc1F1ZXVlIGFzIMm1Y2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSwgY29tcGlsZUNvbXBvbmVudCBhcyDJtWNvbXBpbGVDb21wb25lbnQsIGNvbXBpbGVEaXJlY3RpdmUgYXMgybVjb21waWxlRGlyZWN0aXZlLCBjb21waWxlTmdNb2R1bGUgYXMgybVjb21waWxlTmdNb2R1bGUsIGNvbXBpbGVOZ01vZHVsZURlZnMgYXMgybVjb21waWxlTmdNb2R1bGVEZWZzLCBjb21waWxlTmdNb2R1bGVGYWN0b3J5IGFzIMm1Y29tcGlsZU5nTW9kdWxlRmFjdG9yeSwgY29tcGlsZVBpcGUgYXMgybVjb21waWxlUGlwZSwgY3JlYXRlSW5qZWN0b3IgYXMgybVjcmVhdGVJbmplY3RvciwgZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyBhcyDJtWRlZmF1bHRJdGVyYWJsZURpZmZlcnMsIGRlZmF1bHRLZXlWYWx1ZURpZmZlcnMgYXMgybVkZWZhdWx0S2V5VmFsdWVEaWZmZXJzLCBkZXRlY3RDaGFuZ2VzIGFzIMm1ZGV0ZWN0Q2hhbmdlcywgZGV2TW9kZUVxdWFsIGFzIMm1ZGV2TW9kZUVxdWFsLCBmaW5kTG9jYWxlRGF0YSBhcyDJtWZpbmRMb2NhbGVEYXRhLCBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUgYXMgybVmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUsIGdldERlYnVnTm9kZSBhcyDJtWdldERlYnVnTm9kZSwgZ2V0RGVidWdOb2RlUjIgYXMgybVnZXREZWJ1Z05vZGVSMiwgZ2V0RGlyZWN0aXZlcyBhcyDJtWdldERpcmVjdGl2ZXMsIGdldEhvc3RFbGVtZW50IGFzIMm1Z2V0SG9zdEVsZW1lbnQsIGdldEluamVjdGFibGVEZWYgYXMgybVnZXRJbmplY3RhYmxlRGVmLCBnZXRMQ29udGV4dCBhcyDJtWdldExDb250ZXh0LCBnZXRMb2NhbGVDdXJyZW5jeUNvZGUgYXMgybVnZXRMb2NhbGVDdXJyZW5jeUNvZGUsIGdldExvY2FsZVBsdXJhbENhc2UgYXMgybVnZXRMb2NhbGVQbHVyYWxDYXNlLCBnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlIGFzIMm1Z2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSwgX2dsb2JhbCBhcyDJtWdsb2JhbCwgaW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYgYXMgybVpbmplY3RDaGFuZ2VEZXRlY3RvclJlZiwgaXNCb3VuZFRvTW9kdWxlIGFzIMm1aXNCb3VuZFRvTW9kdWxlLCBpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSBhcyDJtWlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBpc0xpc3RMaWtlSXRlcmFibGUgYXMgybVpc0xpc3RMaWtlSXRlcmFibGUsIGlzT2JzZXJ2YWJsZSBhcyDJtWlzT2JzZXJ2YWJsZSwgaXNQcm9taXNlIGFzIMm1aXNQcm9taXNlLCBpc1N1YnNjcmliYWJsZSBhcyDJtWlzU3Vic2NyaWJhYmxlLCDJtWl2eUVuYWJsZWQsIG1ha2VEZWNvcmF0b3IgYXMgybVtYWtlRGVjb3JhdG9yLCBtYXJrRGlydHkgYXMgybVtYXJrRGlydHksIG5vU2lkZUVmZmVjdHMgYXMgybVub1NpZGVFZmZlY3RzLCBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZSBhcyDJtXBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlLCBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEgYXMgybVwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzLCBwdWJsaXNoR2xvYmFsVXRpbCBhcyDJtXB1Ymxpc2hHbG9iYWxVdGlsLCByZWdpc3RlckxvY2FsZURhdGEgYXMgybVyZWdpc3RlckxvY2FsZURhdGEsIHJlZ2lzdGVyTmdNb2R1bGVUeXBlIGFzIMm1cmVnaXN0ZXJOZ01vZHVsZVR5cGUsIHJlbmRlckNvbXBvbmVudCBhcyDJtXJlbmRlckNvbXBvbmVudCwgcmVzZXRDb21waWxlZENvbXBvbmVudHMgYXMgybVyZXNldENvbXBpbGVkQ29tcG9uZW50cywgcmVzZXRKaXRPcHRpb25zIGFzIMm1cmVzZXRKaXRPcHRpb25zLCByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzIGFzIMm1cmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcywgc2V0Q2xhc3NNZXRhZGF0YSBhcyDJtXNldENsYXNzTWV0YWRhdGEsIHNldEN1cnJlbnRJbmplY3RvciBhcyDJtXNldEN1cnJlbnRJbmplY3Rvciwgc2V0RG9jdW1lbnQgYXMgybVzZXREb2N1bWVudCwgc2V0TG9jYWxlSWQgYXMgybVzZXRMb2NhbGVJZCwgc3RvcmUgYXMgybVzdG9yZSwgc3RyaW5naWZ5IGFzIMm1c3RyaW5naWZ5LCB0cmFuc2l0aXZlU2NvcGVzRm9yIGFzIMm1dHJhbnNpdGl2ZVNjb3Blc0ZvciwgdW5yZWdpc3RlckFsbExvY2FsZURhdGEgYXMgybV1bnJlZ2lzdGVyTG9jYWxlRGF0YSwgdW53cmFwU2FmZVZhbHVlIGFzIMm1dW53cmFwU2FmZVZhbHVlLCB3aGVuUmVuZGVyZWQgYXMgybV3aGVuUmVuZGVyZWQsIMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUsIEZhY3RvcnlUYXJnZXQgYXMgybXJtUZhY3RvcnlUYXJnZXQsIMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUsIMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUsIMm1ybVQcm92aWRlcnNGZWF0dXJlLCDJtcm1YWR2YW5jZSwgybXJtWF0dHJpYnV0ZSwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMiwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMywgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNCwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNSwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNiwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNywgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOCwgybXJtWF0dHJpYnV0ZUludGVycG9sYXRlViwgybXJtWNsYXNzTWFwLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEsIMm1ybVjbGFzc01hcEludGVycG9sYXRlMiwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQsIMm1ybVjbGFzc01hcEludGVycG9sYXRlNSwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcsIMm1ybVjbGFzc01hcEludGVycG9sYXRlOCwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWLCDJtcm1Y2xhc3NQcm9wLCDJtcm1Y29udGVudFF1ZXJ5LCDJtcm1ZGVmaW5lQ29tcG9uZW50LCDJtcm1ZGVmaW5lRGlyZWN0aXZlLCDJtcm1ZGVmaW5lSW5qZWN0YWJsZSwgybXJtWRlZmluZUluamVjdG9yLCDJtcm1ZGVmaW5lTmdNb2R1bGUsIMm1ybVkZWZpbmVQaXBlLCDJtcm1ZGlyZWN0aXZlSW5qZWN0LCDJtcm1ZGlzYWJsZUJpbmRpbmdzLCDJtcm1ZWxlbWVudCwgybXJtWVsZW1lbnRDb250YWluZXIsIMm1ybVlbGVtZW50Q29udGFpbmVyRW5kLCDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0LCDJtcm1ZWxlbWVudEVuZCwgybXJtWVsZW1lbnRTdGFydCwgybXJtWVuYWJsZUJpbmRpbmdzLCDJtcm1Z2V0Q3VycmVudFZpZXcsIMm1ybVnZXRJbmhlcml0ZWRGYWN0b3J5LCDJtcm1aG9zdFByb3BlcnR5LCDJtcm1aTE4biwgybXJtWkxOG5BcHBseSwgybXJtWkxOG5BdHRyaWJ1dGVzLCDJtcm1aTE4bkVuZCwgybXJtWkxOG5FeHAsIMm1ybVpMThuUG9zdHByb2Nlc3MsIMm1ybVpMThuU3RhcnQsIMm1ybVpbmplY3QsIMm1ybVpbmplY3RBdHRyaWJ1dGUsIMm1ybVpbnZhbGlkRmFjdG9yeSwgybXJtWludmFsaWRGYWN0b3J5RGVwLCDJtcm1bGlzdGVuZXIsIMm1ybVsb2FkUXVlcnksIMm1ybVuYW1lc3BhY2VIVE1MLCDJtcm1bmFtZXNwYWNlTWF0aE1MLCDJtcm1bmFtZXNwYWNlU1ZHLCDJtcm1bmV4dENvbnRleHQsIMm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhLCDJtcm1bmdEZWNsYXJlQ29tcG9uZW50LCDJtcm1bmdEZWNsYXJlRGlyZWN0aXZlLCDJtcm1bmdEZWNsYXJlRmFjdG9yeSwgybXJtW5nRGVjbGFyZUluamVjdGFibGUsIMm1ybVuZ0RlY2xhcmVJbmplY3RvciwgybXJtW5nRGVjbGFyZU5nTW9kdWxlLCDJtcm1bmdEZWNsYXJlUGlwZSwgybXJtXBpcGUsIMm1ybVwaXBlQmluZDEsIMm1ybVwaXBlQmluZDIsIMm1ybVwaXBlQmluZDMsIMm1ybVwaXBlQmluZDQsIMm1ybVwaXBlQmluZFYsIMm1ybVwcm9qZWN0aW9uLCDJtcm1cHJvamVjdGlvbkRlZiwgybXJtXByb3BlcnR5LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxLCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMywgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNiwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlViwgybXJtXB1cmVGdW5jdGlvbjAsIMm1ybVwdXJlRnVuY3Rpb24xLCDJtcm1cHVyZUZ1bmN0aW9uMiwgybXJtXB1cmVGdW5jdGlvbjMsIMm1ybVwdXJlRnVuY3Rpb240LCDJtcm1cHVyZUZ1bmN0aW9uNSwgybXJtXB1cmVGdW5jdGlvbjYsIMm1ybVwdXJlRnVuY3Rpb243LCDJtcm1cHVyZUZ1bmN0aW9uOCwgybXJtXB1cmVGdW5jdGlvblYsIMm1ybVxdWVyeVJlZnJlc2gsIMm1ybVyZWZlcmVuY2UsIMm1ybVyZXNvbHZlQm9keSwgybXJtXJlc29sdmVEb2N1bWVudCwgybXJtXJlc29sdmVXaW5kb3csIMm1ybVyZXN0b3JlVmlldywgybXJtXNhbml0aXplSHRtbCwgybXJtXNhbml0aXplUmVzb3VyY2VVcmwsIMm1ybVzYW5pdGl6ZVNjcmlwdCwgybXJtXNhbml0aXplU3R5bGUsIMm1ybVzYW5pdGl6ZVVybCwgybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCwgybXJtXNldENvbXBvbmVudFNjb3BlLCDJtcm1c2V0TmdNb2R1bGVTY29wZSwgybXJtXN0eWxlTWFwLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTEsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMiwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTQsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNSwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlOCwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWLCDJtcm1c3R5bGVQcm9wLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzLCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4LCDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWLCDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyLCDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5LCDJtcm1dGVtcGxhdGUsIMm1ybV0ZW1wbGF0ZVJlZkV4dHJhY3RvciwgybXJtXRleHQsIMm1ybV0ZXh0SW50ZXJwb2xhdGUsIMm1ybV0ZXh0SW50ZXJwb2xhdGUxLCDJtcm1dGV4dEludGVycG9sYXRlMiwgybXJtXRleHRJbnRlcnBvbGF0ZTMsIMm1ybV0ZXh0SW50ZXJwb2xhdGU0LCDJtcm1dGV4dEludGVycG9sYXRlNSwgybXJtXRleHRJbnRlcnBvbGF0ZTYsIMm1ybV0ZXh0SW50ZXJwb2xhdGU3LCDJtcm1dGV4dEludGVycG9sYXRlOCwgybXJtXRleHRJbnRlcnBvbGF0ZVYsIMm1ybV0cnVzdENvbnN0YW50SHRtbCwgybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCwgybXJtXZpZXdRdWVyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5tanMubWFwXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCB7IFNpZ25hbGluZ1NlcnZlciB9IGZyb20gXCIuL3NpZ25hbGluZ1NlcnZlclwiO1xuZXhwb3J0IHsgV2ViUnRjUHJvdmlkZXIgfSBmcm9tIFwiLi93ZWJSdGMucHJvdmlkZXJcIjtcbmV4cG9ydCB7IFByb29mbWVVdGlsc1Byb3ZpZGVyIH0gZnJvbSBcIi4vcHJvb2ZtZS11dGlscy5wcm92aWRlclwiO1xuZXhwb3J0IHsgUHJvb2ZtZVV0aWxzIH0gZnJvbSBcIi4vcHJvb2ZtZS11dGlsc1wiO1xuZXhwb3J0IHsgU2lnbmFsU2VydmVyVjIgfSBmcm9tIFwiLi9zaWduYWxTZXJ2ZXIvc2lnbmFsU2VydmVyVjJcIjtcbmV4cG9ydCB7IGdldFN1YkRvbWFpbiB9IGZyb20gXCIuL3V0aWxzL2dsb2JhbC92MVV0aWxzXCI7XG5leHBvcnQgeyBJUlRDQ29ubmVjdGlvbkNvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcnRjQ29ubmVjdGlvbkNvbmZpZy5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvY29ubmVjdGlvbkRldGFpbHNcIjtcbmV4cG9ydCB7IElXZWJSVENDb25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3dlYlJ0Y0NvbmZpZy5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IEVNaW1lVHlwZSB9IGZyb20gXCIuL2VudW1zL21pbWVUeXBlcy5lbnVtXCI7XG5leHBvcnQgeyBFU2lnbmF0dXJlVHlwZXMgfSBmcm9tIFwiLi9lbnVtcy9zaWduYXR1cmVUeXBlcy5lbnVtXCI7XG5leHBvcnQgeyBFQ2xhaW1UeXBlIH0gZnJvbSBcIi4vZW51bXMvY2xhaW1UeXBlcy5lbnVtXCI7XG5leHBvcnQgeyBJU2lnbmVkQ29udGVudCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY2xhaW1zL3NpZ25lZENvbnRlbnQuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUHJvb2YgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3Byb29mLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNoZWNrZWREaWQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoZWNrZWREaWQuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbEtleSB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbEtleS5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElWYWxpZGF0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvdmFsaWRhdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ3JlZGVudGlhbE9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ3JlZGVudGlhbEtleU9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbEtleU9iamVjdC5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuZXhwb3J0IHsgRVByb29mbWVEYXRhUHVycG9zZSB9IGZyb20gXCIuL2VudW1zL3Byb29mbWVEYXRhUHVycG9zZVwiO1xuZXhwb3J0IHsgRVByb29mbWVEYXRhU3RvcmFnZSB9IGZyb20gXCIuL2VudW1zL3Byb29mbWVEYXRhU3RvcmFnZVwiO1xuZXhwb3J0IHsgRVByb29mVHlwZSB9IGZyb20gXCIuL2VudW1zL3Byb29mVHlwZS5lbnVtXCI7XG5leHBvcnQgeyBFV2Vic29ja2V0UmVhZHlTdGF0ZSB9IGZyb20gXCIuL2VudW1zL3dlYnNvY2tldFJlYWR5U3RhdGUuZW51bVwiO1xuZXhwb3J0IHsgY2hlY2tLZXlGb3JEaWQgfSBmcm9tIFwiLi91dGlscy9zbWFydENvbnRyYWN0cy9zbWFydENvbnRyYWN0VXRpbHNcIlxuZXhwb3J0IHsgSUFkZGl0aW9uYWxJbmZvIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9hZGRpdGlvbmFsLWluZm8uaW50ZXJmYWNlXCI7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiZ2xvYmFsIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJBc3luY1N1YmplY3QiLCJfc3VwZXIiLCJfdGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3ZhbHVlIiwiX2hhc1ZhbHVlIiwiX2lzQ29tcGxldGUiLCJfY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyIsInN1YnNjcmliZXIiLCJfYSIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJpc1N0b3BwZWQiLCJlcnJvciIsIm5leHQiLCJjb21wbGV0ZSIsIlN1YmplY3QiLCJCZWhhdmlvclN1YmplY3QiLCJnZXQiLCJnZXRWYWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJfc3Vic2NyaWJlIiwic3Vic2NyaXB0aW9uIiwiY2xvc2VkIiwiX3Rocm93SWZDbG9zZWQiLCJvYnNlcnZlTm90aWZpY2F0aW9uIiwiTm90aWZpY2F0aW9uIiwiTm90aWZpY2F0aW9uS2luZCIsImVtcHR5XzEiLCJvZl8xIiwidGhyb3dFcnJvcl8xIiwiaXNGdW5jdGlvbl8xIiwia2luZCIsImhhc1ZhbHVlIiwib2JzZXJ2ZSIsIm9ic2VydmVyIiwiZG8iLCJuZXh0SGFuZGxlciIsImVycm9ySGFuZGxlciIsImNvbXBsZXRlSGFuZGxlciIsImFjY2VwdCIsIm5leHRPck9ic2VydmVyIiwiaXNGdW5jdGlvbiIsInRvT2JzZXJ2YWJsZSIsInJlc3VsdCIsIm9mIiwidGhyb3dFcnJvciIsIkVNUFRZIiwiY3JlYXRlTmV4dCIsImNyZWF0ZUVycm9yIiwiZXJyIiwidW5kZWZpbmVkIiwiY3JlYXRlQ29tcGxldGUiLCJjb21wbGV0ZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsIl9iIiwiX2MiLCJfZCIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsIm5leHROb3RpZmljYXRpb24iLCJlcnJvck5vdGlmaWNhdGlvbiIsIkNPTVBMRVRFX05PVElGSUNBVElPTiIsIk9ic2VydmFibGUiLCJTdWJzY3JpYmVyXzEiLCJTdWJzY3JpcHRpb25fMSIsIm9ic2VydmFibGVfMSIsInBpcGVfMSIsImNvbmZpZ18xIiwiZXJyb3JDb250ZXh0XzEiLCJzdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJvYnNlcnZhYmxlIiwic291cmNlIiwib2JzZXJ2ZXJPck5leHQiLCJTdWJzY3JpYmVyIiwiaXNPYnNlcnZlciIsImlzU3Vic2NyaXB0aW9uIiwiU2FmZVN1YnNjcmliZXIiLCJlcnJvckNvbnRleHQiLCJhZGQiLCJfdHJ5U3Vic2NyaWJlIiwic2luayIsImZvckVhY2giLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicmVzb2x2ZSIsInJlamVjdCIsInVuc3Vic2NyaWJlIiwicGlwZSIsIm9wZXJhdGlvbnMiLCJfaSIsImxlbmd0aCIsInBpcGVGcm9tQXJyYXkiLCJ0b1Byb21pc2UiLCJ4IiwiY29uZmlnIiwiUHJvbWlzZSIsIlJlcGxheVN1YmplY3QiLCJTdWJqZWN0XzEiLCJkYXRlVGltZXN0YW1wUHJvdmlkZXJfMSIsIl9idWZmZXJTaXplIiwiX3dpbmRvd1RpbWUiLCJfdGltZXN0YW1wUHJvdmlkZXIiLCJJbmZpbml0eSIsImRhdGVUaW1lc3RhbXBQcm92aWRlciIsIl9idWZmZXIiLCJfaW5maW5pdGVUaW1lV2luZG93IiwiTWF0aCIsIm1heCIsInB1c2giLCJub3ciLCJfdHJpbUJ1ZmZlciIsIl9pbm5lclN1YnNjcmliZSIsImNvcHkiLCJzbGljZSIsImkiLCJhZGp1c3RlZEJ1ZmZlclNpemUiLCJzcGxpY2UiLCJsYXN0IiwiU2NoZWR1bGVyIiwic2NoZWR1bGVyQWN0aW9uQ3RvciIsInNjaGVkdWxlIiwid29yayIsImRlbGF5Iiwic3RhdGUiLCJfX3ZhbHVlcyIsIm8iLCJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJtIiwiZG9uZSIsIkFub255bW91c1N1YmplY3QiLCJPYnNlcnZhYmxlXzEiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvcl8xIiwiYXJyUmVtb3ZlXzEiLCJvYnNlcnZlcnMiLCJzdWJqZWN0IiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLCJlXzEiLCJjb3B5XzEiLCJjb3B5XzFfMSIsImVfMV8xIiwicmV0dXJuIiwic2hpZnQiLCJFTVBUWV9TVUJTQ1JJUFRJT04iLCJTdWJzY3JpcHRpb24iLCJhcnJSZW1vdmUiLCJhc09ic2VydmFibGUiLCJkZXN0aW5hdGlvbiIsIkVNUFRZX09CU0VSVkVSIiwicmVwb3J0VW5oYW5kbGVkRXJyb3JfMSIsIm5vb3BfMSIsIk5vdGlmaWNhdGlvbkZhY3Rvcmllc18xIiwidGltZW91dFByb3ZpZGVyXzEiLCJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfYmluZCIsIkZ1bmN0aW9uIiwiYmluZCIsImZuIiwidGhpc0FyZyIsIkNvbnN1bWVyT2JzZXJ2ZXIiLCJwYXJ0aWFsT2JzZXJ2ZXIiLCJoYW5kbGVVbmhhbmRsZWRFcnJvciIsImNvbnRleHRfMSIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJjYXB0dXJlRXJyb3IiLCJyZXBvcnRVbmhhbmRsZWRFcnJvciIsIm9uU3RvcHBlZE5vdGlmaWNhdGlvbiIsInRpbWVvdXRQcm92aWRlciIsInNldFRpbWVvdXQiLCJub29wIiwiX19yZWFkIiwibiIsInIiLCJlIiwiYXIiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwiaWwiLCJqIiwiVW5zdWJzY3JpcHRpb25FcnJvcl8xIiwiaW5pdGlhbFRlYXJkb3duIiwiX3BhcmVudGFnZSIsIl90ZWFyZG93bnMiLCJlbXB0eSIsImVfMiIsImVycm9ycyIsImlzQXJyYXkiLCJfcGFyZW50YWdlXzEiLCJfcGFyZW50YWdlXzFfMSIsInJlbW92ZSIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJfdGVhcmRvd25zXzEiLCJfdGVhcmRvd25zXzFfMSIsInRlYXJkb3duXzEiLCJleGVjVGVhcmRvd24iLCJlXzJfMSIsInRlYXJkb3duIiwiX2hhc1BhcmVudCIsIl9hZGRQYXJlbnQiLCJwYXJlbnQiLCJpbmNsdWRlcyIsIl9yZW1vdmVQYXJlbnQiLCJvblVuaGFuZGxlZEVycm9yIiwiQ29ubmVjdGFibGVPYnNlcnZhYmxlIiwicmVmQ291bnRfMSIsIk9wZXJhdG9yU3Vic2NyaWJlcl8xIiwibGlmdF8xIiwic3ViamVjdEZhY3RvcnkiLCJfc3ViamVjdCIsIl9yZWZDb3VudCIsIl9jb25uZWN0aW9uIiwiaGFzTGlmdCIsImdldFN1YmplY3QiLCJfdGVhcmRvd24iLCJjb25uZWN0IiwiY29ubmVjdGlvbiIsInN1YmplY3RfMSIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsInJlZkNvdW50IiwiY29tYmluZUxhdGVzdEluaXQiLCJjb21iaW5lTGF0ZXN0IiwiYXJnc0FyZ0FycmF5T3JPYmplY3RfMSIsImZyb21fMSIsImlkZW50aXR5XzEiLCJtYXBPbmVPck1hbnlBcmdzXzEiLCJhcmdzXzEiLCJjcmVhdGVPYmplY3RfMSIsImV4ZWN1dGVTY2hlZHVsZV8xIiwib2JzZXJ2YWJsZXMiLCJzY2hlZHVsZXIiLCJ2YWx1ZVRyYW5zZm9ybSIsImlkZW50aXR5IiwibWF5YmVTY2hlZHVsZSIsInZhbHVlcyIsImFjdGl2ZSIsInJlbWFpbmluZ0ZpcnN0VmFsdWVzIiwiX2xvb3BfMSIsImhhc0ZpcnN0VmFsdWUiLCJleGVjdXRlIiwiZXhlY3V0ZVNjaGVkdWxlIiwiYXJncyIsInBvcFNjaGVkdWxlciIsInJlc3VsdFNlbGVjdG9yIiwicG9wUmVzdWx0U2VsZWN0b3IiLCJhcmdzQXJnQXJyYXlPck9iamVjdCIsImtleXMiLCJjcmVhdGVPYmplY3QiLCJtYXBPbmVPck1hbnlBcmdzIiwiY29uY2F0IiwiY29uY2F0QWxsXzEiLCJjb25jYXRBbGwiLCJlbXB0eVNjaGVkdWxlZCIsInNjaGVkdWxlZF8xIiwiaW5uZXJGcm9tXzEiLCJpbnB1dCIsInNjaGVkdWxlZCIsImlubmVyRnJvbSIsImZyb21TdWJzY3JpYmFibGUiLCJzdWJzY3JpYmFibGUiLCJfX2F3YWl0ZXIiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJyZWplY3RlZCIsInRoZW4iLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwidiIsIm9wIiwicG9wIiwiX19hc3luY1ZhbHVlcyIsImFzeW5jSXRlcmF0b3IiLCJzZXR0bGUiLCJmcm9tUmVhZGFibGVTdHJlYW1MaWtlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJmcm9tSXRlcmFibGUiLCJmcm9tUHJvbWlzZSIsImZyb21BcnJheUxpa2UiLCJmcm9tSW50ZXJvcE9ic2VydmFibGUiLCJpc0FycmF5TGlrZV8xIiwiaXNQcm9taXNlXzEiLCJpc0ludGVyb3BPYnNlcnZhYmxlXzEiLCJpc0FzeW5jSXRlcmFibGVfMSIsInRocm93VW5vYnNlcnZhYmxlRXJyb3JfMSIsImlzSXRlcmFibGVfMSIsImlzUmVhZGFibGVTdHJlYW1MaWtlXzEiLCJvYmoiLCJvYnMiLCJhcnJheSIsInByb21pc2UiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhc3luY0l0ZXJhYmxlIiwiYXN5bmNJdGVyYWJsZV8xIiwiYXN5bmNJdGVyYWJsZV8xXzEiLCJwcm9jZXNzIiwiY2F0Y2giLCJyZWFkYWJsZVN0cmVhbSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNBcnJheUxpa2UiLCJpc1Byb21pc2UiLCJpc0FzeW5jSXRlcmFibGUiLCJpc0l0ZXJhYmxlIiwiaXNSZWFkYWJsZVN0cmVhbUxpa2UiLCJjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciIsImludGVydmFsIiwiYXN5bmNfMSIsInRpbWVyXzEiLCJwZXJpb2QiLCJhc3luY1NjaGVkdWxlciIsInRpbWVyIiwicmFjZUluaXQiLCJyYWNlIiwiYXJnc09yQXJnQXJyYXlfMSIsInNvdXJjZXMiLCJzdWJzY3JpcHRpb25zIiwiYXJnc09yQXJnQXJyYXkiLCJlcnJvck9yRXJyb3JGYWN0b3J5IiwiZXJyb3JGYWN0b3J5IiwiaW5pdCIsImlzU2NoZWR1bGVyXzEiLCJpc0RhdGVfMSIsImR1ZVRpbWUiLCJpbnRlcnZhbE9yU2NoZWR1bGVyIiwiYXN5bmMiLCJpbnRlcnZhbER1cmF0aW9uIiwiaXNTY2hlZHVsZXIiLCJkdWUiLCJpc1ZhbGlkRGF0ZSIsInppcCIsImJ1ZmZlcnMiLCJtYXAiLCJjb21wbGV0ZWQiLCJzb3VyY2VJbmRleCIsImV2ZXJ5IiwiYnVmZmVyIiwic29tZSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsInNob3VsZFVuc3Vic2NyaWJlIiwiY2xvc2VkXzEiLCJhdWRpdCIsImR1cmF0aW9uU2VsZWN0b3IiLCJvcGVyYXRlIiwibGFzdFZhbHVlIiwiZHVyYXRpb25TdWJzY3JpYmVyIiwiaXNDb21wbGV0ZSIsImVuZER1cmF0aW9uIiwiY2xlYW51cER1cmF0aW9uIiwiYXVkaXRUaW1lIiwiYXVkaXRfMSIsImR1cmF0aW9uIiwiY2xvc2luZ05vdGlmaWVyIiwiY3VycmVudEJ1ZmZlciIsImJ1ZmZlckNvdW50IiwiYnVmZmVyU2l6ZSIsInN0YXJ0QnVmZmVyRXZlcnkiLCJjb3VudCIsInRvRW1pdCIsImJ1ZmZlcnNfMSIsImJ1ZmZlcnNfMV8xIiwidG9FbWl0XzEiLCJ0b0VtaXRfMV8xIiwiZV8zIiwiYnVmZmVyc18yIiwiYnVmZmVyc18yXzEiLCJlXzNfMSIsImJ1ZmZlclRpbWUiLCJidWZmZXJUaW1lU3BhbiIsIm90aGVyQXJncyIsImJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwiLCJtYXhCdWZmZXJTaXplIiwiYnVmZmVyUmVjb3JkcyIsInJlc3RhcnRPbkVtaXQiLCJlbWl0IiwicmVjb3JkIiwic3VicyIsInN0YXJ0QnVmZmVyIiwicmVjb3JkXzEiLCJidWZmZXJUaW1lU3Vic2NyaWJlciIsInJlY29yZHNDb3B5IiwicmVjb3Jkc0NvcHlfMSIsInJlY29yZHNDb3B5XzFfMSIsImJ1ZmZlclRvZ2dsZSIsIm9wZW5pbmdzIiwiY2xvc2luZ1NlbGVjdG9yIiwib3BlblZhbHVlIiwiY2xvc2luZ1N1YnNjcmlwdGlvbiIsImJ1ZmZlcldoZW4iLCJjbG9zaW5nU3Vic2NyaWJlciIsIm9wZW5CdWZmZXIiLCJjYXRjaEVycm9yIiwic2VsZWN0b3IiLCJoYW5kbGVkUmVzdWx0IiwiaW5uZXJTdWIiLCJzeW5jVW5zdWIiLCJjb21iaW5lQWxsIiwiY29tYmluZUxhdGVzdEFsbF8xIiwiY29tYmluZUxhdGVzdEFsbCIsImNvbWJpbmVMYXRlc3RfMSIsImpvaW5BbGxJbnRlcm5hbHNfMSIsInByb2plY3QiLCJqb2luQWxsSW50ZXJuYWxzIiwiY29tYmluZUxhdGVzdFdpdGgiLCJvdGhlclNvdXJjZXMiLCJtZXJnZUFsbF8xIiwibWVyZ2VBbGwiLCJjb25jYXRNYXAiLCJtZXJnZU1hcF8xIiwibWVyZ2VNYXAiLCJjb25jYXRNYXBUbyIsImNvbmNhdE1hcF8xIiwiaW5uZXJPYnNlcnZhYmxlIiwiY29uY2F0V2l0aCIsImNvbmNhdF8xIiwiZnJvbVN1YnNjcmliYWJsZV8xIiwiREVGQVVMVF9DT05GSUciLCJjb25uZWN0b3IiLCJyZWR1Y2VfMSIsInByZWRpY2F0ZSIsInJlZHVjZSIsInRvdGFsIiwiZGVib3VuY2UiLCJkZWJvdW5jZVRpbWUiLCJhY3RpdmVUYXNrIiwibGFzdFRpbWUiLCJlbWl0V2hlbklkbGUiLCJ0YXJnZXRUaW1lIiwiZGVmYXVsdElmRW1wdHkiLCJkZWZhdWx0VmFsdWUiLCJkZWxheVdoZW5fMSIsImRlbGF5V2hlbiIsInRha2VfMSIsImlnbm9yZUVsZW1lbnRzXzEiLCJtYXBUb18xIiwiZGVsYXlEdXJhdGlvblNlbGVjdG9yIiwic3Vic2NyaXB0aW9uRGVsYXkiLCJ0YWtlIiwiaWdub3JlRWxlbWVudHMiLCJpbmRleCIsIm1hcFRvIiwiZGVtYXRlcmlhbGl6ZSIsIk5vdGlmaWNhdGlvbl8xIiwiZGlzdGluY3QiLCJrZXlTZWxlY3RvciIsImZsdXNoZXMiLCJkaXN0aW5jdEtleXMiLCJTZXQiLCJrZXkiLCJoYXMiLCJjbGVhciIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwiZGVmYXVsdENvbXBhcmUiLCJhIiwiY29tcGFyYXRvciIsInByZXZpb3VzS2V5IiwiZmlyc3QiLCJjdXJyZW50S2V5IiwiZGlzdGluY3RVbnRpbEtleUNoYW5nZWQiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZF8xIiwiY29tcGFyZSIsImVsZW1lbnRBdCIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yXzEiLCJmaWx0ZXJfMSIsInRocm93SWZFbXB0eV8xIiwiZGVmYXVsdElmRW1wdHlfMSIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIiwiaGFzRGVmYXVsdFZhbHVlIiwiZmlsdGVyIiwidGhyb3dJZkVtcHR5IiwiZW5kV2l0aCIsImV4aGF1c3QiLCJleGhhdXN0QWxsXzEiLCJleGhhdXN0QWxsIiwiaW5uZXIiLCJleGhhdXN0TWFwIiwibWFwXzEiLCJpaSIsIm91dGVyVmFsdWUiLCJleHBhbmQiLCJtZXJnZUludGVybmFsc18xIiwiY29uY3VycmVudCIsIm1lcmdlSW50ZXJuYWxzIiwiZmluYWxpemUiLCJjYWxsYmFjayIsImNyZWF0ZUZpbmQiLCJmaW5kIiwiZmluZEluZGV4IiwiZmluZF8xIiwiRW1wdHlFcnJvcl8xIiwiRW1wdHlFcnJvciIsImZsYXRNYXAiLCJncm91cEJ5IiwiZWxlbWVudE9yT3B0aW9ucyIsImVsZW1lbnQiLCJncm91cHMiLCJNYXAiLCJub3RpZnkiLCJjYiIsImhhbmRsZUVycm9yIiwiY29uc3VtZXIiLCJhY3RpdmVHcm91cHMiLCJ0ZWFyZG93bkF0dGVtcHRlZCIsImdyb3VwQnlTb3VyY2VTdWJzY3JpYmVyIiwia2V5XzEiLCJncm91cF8xIiwic2V0IiwiZ3JvdXBlZCIsImdyb3VwU3ViamVjdCIsImdyb3VwU3Vic2NyaWJlciIsImR1cmF0aW9uU3Vic2NyaWJlcl8xIiwiZGVsZXRlIiwiaXNFbXB0eSIsInRvQXJyYXlfMSIsImpvaW5GbiIsInRvQXJyYXkiLCJ0YWtlTGFzdF8xIiwidGFrZUxhc3QiLCJtYXRlcmlhbGl6ZSIsImNvbXBhcmVyIiwibWVyZ2UiLCJwb3BOdW1iZXIiLCJvbkJlZm9yZU5leHQiLCJpbm5lclN1YlNjaGVkdWxlciIsImFkZGl0aW9uYWxUZWFyZG93biIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJidWZmZXJlZFZhbHVlIiwibWVyZ2VNYXBUbyIsIm1lcmdlU2NhbiIsImFjY3VtdWxhdG9yIiwic2VlZCIsIm1lcmdlV2l0aCIsIm1lcmdlXzEiLCJtaW4iLCJtdWx0aWNhc3QiLCJDb25uZWN0YWJsZU9ic2VydmFibGVfMSIsImNvbm5lY3RfMSIsInN1YmplY3RPclN1YmplY3RGYWN0b3J5Iiwib2JzZXJ2ZU9uIiwib25FcnJvclJlc3VtZU5leHQiLCJuZXh0U291cmNlcyIsInJlbWFpbmluZyIsInN1YnNjcmliZU5leHQiLCJuZXh0U291cmNlIiwicGFpcndpc2UiLCJwcmV2IiwiaGFzUHJldiIsInBhcnRpdGlvbiIsIm5vdF8xIiwibm90IiwicGx1Y2siLCJwcm9wZXJ0aWVzIiwiRXJyb3IiLCJjdXJyZW50UHJvcCIsInB1Ymxpc2giLCJtdWx0aWNhc3RfMSIsInB1Ymxpc2hCZWhhdmlvciIsIkJlaGF2aW9yU3ViamVjdF8xIiwiaW5pdGlhbFZhbHVlIiwicHVibGlzaExhc3QiLCJBc3luY1N1YmplY3RfMSIsInB1Ymxpc2hSZXBsYXkiLCJSZXBsYXlTdWJqZWN0XzEiLCJ3aW5kb3dUaW1lIiwic2VsZWN0b3JPclNjaGVkdWxlciIsInRpbWVzdGFtcFByb3ZpZGVyIiwicmFjZVdpdGhfMSIsInJhY2VXaXRoIiwicmFjZV8xIiwic2NhbkludGVybmFsc18xIiwic2NhbkludGVybmFscyIsInJlZkNvdW50ZXIiLCJzaGFyZWRDb25uZWN0aW9uIiwiY29ubiIsInJlcGVhdCIsImNvdW50T3JDb25maWciLCJzb3VyY2VTdWIiLCJzb0ZhciIsInJlc3Vic2NyaWJlIiwibm90aWZpZXIiLCJub3RpZmllclN1YnNjcmliZXJfMSIsInN1YnNjcmliZVRvU291cmNlIiwicmVwZWF0V2hlbiIsImNvbXBsZXRpb25zJCIsInN5bmNSZXN1YiIsImlzTm90aWZpZXJDb21wbGV0ZSIsImlzTWFpbkNvbXBsZXRlIiwic3Vic2NyaWJlRm9yUmVwZWF0V2hlbiIsInJldHJ5IiwiY29uZmlnT3JDb3VudCIsInJlc2V0T25TdWNjZXNzIiwic3Vic2NyaWJlRm9yUmV0cnkiLCJyZXN1Yl8xIiwicmV0cnlXaGVuIiwiZXJyb3JzJCIsInN1YnNjcmliZUZvclJldHJ5V2hlbiIsInNhbXBsZSIsInNhbXBsZVRpbWUiLCJzYW1wbGVfMSIsImludGVydmFsXzEiLCJzY2FuIiwiaGFzU2VlZCIsImVtaXRPbk5leHQiLCJlbWl0QmVmb3JlQ29tcGxldGUiLCJoYXNTdGF0ZSIsInNlcXVlbmNlRXF1YWwiLCJjb21wYXJlVG8iLCJhU3RhdGUiLCJiU3RhdGUiLCJpc0VxdWFsIiwiY3JlYXRlU3Vic2NyaWJlciIsInNlbGZTdGF0ZSIsIm90aGVyU3RhdGUiLCJzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciIsInNoYXJlIiwiaGFuZGxlUmVzZXQiLCJyZXNldCIsIm9uIiwib3B0aW9ucyIsInJlc2V0T25FcnJvciIsInJlc2V0T25Db21wbGV0ZSIsInJlc2V0T25SZWZDb3VudFplcm8iLCJ3cmFwcGVyU291cmNlIiwicmVzZXRDb25uZWN0aW9uIiwiaGFzQ29tcGxldGVkIiwiaGFzRXJyb3JlZCIsImNhbmNlbFJlc2V0IiwicmVzZXRBbmRVbnN1YnNjcmliZSIsImRlc3QiLCJzaGFyZVJlcGxheSIsInNoYXJlXzEiLCJjb25maWdPckJ1ZmZlclNpemUiLCJzaW5nbGUiLCJTZXF1ZW5jZUVycm9yXzEiLCJOb3RGb3VuZEVycm9yXzEiLCJzaW5nbGVWYWx1ZSIsInNlZW5WYWx1ZSIsIlNlcXVlbmNlRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwic2tpcCIsInNraXBMYXN0Iiwic2tpcENvdW50IiwicmluZyIsInNlZW4iLCJ2YWx1ZUluZGV4Iiwib2xkVmFsdWUiLCJza2lwVW50aWwiLCJ0YWtpbmciLCJza2lwU3Vic2NyaWJlciIsInNraXBXaGlsZSIsInN0YXJ0V2l0aCIsInN1YnNjcmliZU9uIiwic3dpdGNoQWxsIiwic3dpdGNoTWFwXzEiLCJzd2l0Y2hNYXAiLCJpbm5lclN1YnNjcmliZXIiLCJpbm5lckluZGV4Iiwib3V0ZXJJbmRleCIsInN3aXRjaE1hcFRvIiwic3dpdGNoU2NhbiIsImJ1ZmZlcl8xIiwiYnVmZmVyXzFfMSIsInRha2VVbnRpbCIsInRha2VXaGlsZSIsImluY2x1c2l2ZSIsInRhcCIsInRhcE9ic2VydmVyIiwiaXNVbnN1YiIsInRocm90dGxlIiwiZGVmYXVsdFRocm90dGxlQ29uZmlnIiwibGVhZGluZyIsInRyYWlsaW5nIiwic2VuZFZhbHVlIiwidGhyb3R0bGVkIiwiZW5kVGhyb3R0bGluZyIsInNlbmQiLCJjbGVhbnVwVGhyb3R0bGluZyIsInN0YXJ0VGhyb3R0bGUiLCJ0aHJvdHRsZVRpbWUiLCJ0aHJvdHRsZV8xIiwiZHVyYXRpb24kIiwiZGVmYXVsdEVycm9yRmFjdG9yeSIsIlRpbWVJbnRlcnZhbCIsInRpbWVJbnRlcnZhbCIsInRpbWVvdXQiLCJUaW1lb3V0RXJyb3IiLCJjcmVhdGVFcnJvckNsYXNzXzEiLCJ0aW1lb3V0RXJyb3JGYWN0b3J5IiwiaW5mbyIsImNyZWF0ZUVycm9yQ2xhc3MiLCJtZXNzYWdlIiwibmFtZSIsInNjaGVkdWxlckFyZyIsImVhY2giLCJ3aXRoIiwiX3dpdGgiLCJtZXRhIiwib3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24iLCJ0aW1lclN1YnNjcmlwdGlvbiIsInN0YXJ0VGltZXIiLCJ0aW1lb3V0V2l0aCIsInRpbWVvdXRfMSIsIndpdGhPYnNlcnZhYmxlIiwidGltZXN0YW1wIiwiYXJyUmVkdWNlciIsImFyciIsIndpbmRvdyIsIndpbmRvd0JvdW5kYXJpZXMiLCJ3aW5kb3dTdWJqZWN0Iiwid2luZG93Q291bnQiLCJ3aW5kb3dTaXplIiwic3RhcnRXaW5kb3dFdmVyeSIsInN0YXJ0RXZlcnkiLCJ3aW5kb3dzIiwid2luZG93c18xIiwid2luZG93c18xXzEiLCJjIiwid2luZG93XzIiLCJ3aW5kb3dUaW1lU3BhbiIsIndpbmRvd0NyZWF0aW9uSW50ZXJ2YWwiLCJtYXhXaW5kb3dTaXplIiwid2luZG93UmVjb3JkcyIsInJlc3RhcnRPbkNsb3NlIiwiY2xvc2VXaW5kb3ciLCJzdGFydFdpbmRvdyIsIndpbmRvd18xIiwibG9vcCIsInRlcm1pbmF0ZSIsIndpbmRvd1RvZ2dsZSIsIndpbmRvd3NDb3B5Iiwid2luZG93c0NvcHlfMSIsIndpbmRvd3NDb3B5XzFfMSIsIndpbmRvd1doZW4iLCJvcGVuV2luZG93Iiwid2l0aExhdGVzdEZyb20iLCJpbnB1dHMiLCJsZW4iLCJvdGhlclZhbHVlcyIsInJlYWR5IiwiemlwXzEiLCJ6aXBBbGwiLCJ6aXBXaXRoIiwib3RoZXJJbnB1dHMiLCJzY2hlZHVsZUFycmF5Iiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVJdGVyYWJsZSIsIml0ZXJhdG9yXzEiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJvYnNlcnZlT25fMSIsInN1YnNjcmliZU9uXzEiLCJzY2hlZHVsZVByb21pc2UiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlQXN5bmNJdGVyYWJsZV8xIiwic2NoZWR1bGVPYnNlcnZhYmxlXzEiLCJzY2hlZHVsZVByb21pc2VfMSIsInNjaGVkdWxlQXJyYXlfMSIsInNjaGVkdWxlSXRlcmFibGVfMSIsInNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlXzEiLCJBY3Rpb24iLCJBc3luY0FjdGlvbiIsIkFjdGlvbl8xIiwiaW50ZXJ2YWxQcm92aWRlcl8xIiwicGVuZGluZyIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsIl9pZCIsImludGVydmFsUHJvdmlkZXIiLCJzZXRJbnRlcnZhbCIsImZsdXNoIiwiX3NjaGVkdWxlciIsImNsZWFySW50ZXJ2YWwiLCJfZXhlY3V0ZSIsIl9kZWxheSIsImVycm9yVmFsdWUiLCJlcnJvcmVkIiwiYWN0aW9ucyIsIkFzeW5jU2NoZWR1bGVyIiwiU2NoZWR1bGVyXzEiLCJTY2hlZHVsZXJBY3Rpb24iLCJfYWN0aXZlIiwiX3NjaGVkdWxlZCIsImFjdGlvbiIsIkFzeW5jQWN0aW9uXzEiLCJBc3luY1NjaGVkdWxlcl8xIiwiZGVsZWdhdGUiLCJEYXRlIiwiaGFuZGxlIiwiY2xlYXJUaW1lb3V0IiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJ0b1N0cmluZyIsImpvaW4iLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvIiwiZ2V0S2V5cyIsImZpcnN0XzEiLCJpdGVtIiwiaW5kZXhPZiIsImNyZWF0ZUltcGwiLCJjdG9yRnVuYyIsImluc3RhbmNlIiwic3RhY2siLCJjb250ZXh0IiwiaXNSb290IiwiZXJyb3JUaHJvd24iLCJwYXJlbnRTdWJzY3JpcHRpb24iLCJzY2hlZHVsZVN1YnNjcmlwdGlvbiIsImlzTmFOIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsInJlYWRlciIsImdldFJlYWRlciIsInJlYWQiLCJyZWxlYXNlTG9jayIsImxpZnRlZFNvdXJjZSIsImNhbGxPckFwcGx5IiwicHJlZCIsImZucyIsIkVDbGFpbVR5cGUiLCJFRElEQWNjZXNzTGV2ZWwiLCJFTWltZVR5cGUiLCJFUHJvb2ZtZURhdGFQdXJwb3NlIiwiRVByb29mbWVEYXRhU3RvcmFnZSIsIkVTaWduYXR1cmVUeXBlcyIsImNoYW5uZWxJZCIsImNvbm5lY3Rpb25zIiwiY2xpZW50IiwidXVpZCIsImNoYW5uZWwiLCJob3N0IiwidHlwZSIsInR1cm5FeHBpcmF0aW9uIiwidHVyblNlY3JldCIsInR1cm5VcmwiLCJ1c2VybmFtZSIsImZsb29yIiwiaWNlQ2FuZGlkYXRlUG9vbFNpemUiLCJpY2VTZXJ2ZXJzIiwidXJscyIsImNyZWRlbnRpYWwiLCJjcmVhdGVIbWFjIiwidXBkYXRlIiwiZGlnZXN0IiwiUHJvb2ZtZVV0aWxzUHJvdmlkZXIiLCJwcm9vZm1lVXRpbHMiLCJQcm9vZm1lVXRpbHMiLCJjcmVkZW50aWFsT2JqZWN0Iiwid2ViM1VybCIsInJlcXVlc3RlZENyZWRlbnRpYWxzIiwidHJ1c3RlZERpZHMiLCJjaGVja1VzZXJOb25jZSIsImxpdmVuZXNzQ2hlY2tSZXF1aXJlZCIsImlzVmFsaWRDcmVkZW50aWFscyIsImdldFNpZ25hdHVyZSIsInByaXZhdGVLZXkiLCJzaWduQ3JlZGVudGlhbE9iamVjdCIsInNpZ25SZXF1ZXN0ZWRDcmVkZW50aWFscyIsImRpZCIsImNsYWltaG9sZGVyQWJpIiwiaXNWYWxpZFJlcXVlc3RlZENyZWRlbnRpYWxzIiwiY2xhaW1Ib2xkZXJBYmkiLCJpc1ZhbGlkTGljZW5zZSIsImdlbmVyYXRlQ2hhbGxlbmdlIiwicHVibGljS2V5IiwiY2xhaW1UeXBlIiwiY29udHJhY3RBZGRyZXNzIiwiZ2V0Q2xhaW0iLCJJbmplY3RhYmxlIiwiZXhjbHVkZWRDcmVkZW50aWFsS2V5cyIsIndlYjMiLCJyZXF1ZXN0ZWRDaGVja1Jlc3VsdCIsInJlcXVlc3RlZENyZWRlbnRpYWxzQ29ycmVjdCIsInN1Y2Nlc3MiLCJjcmVkZW50aWFscyIsImNoZWNrQ3JlZGVudGlhbHMiLCJ2YWxpZCIsInV0aWxzIiwiaXNBZGRyZXNzIiwiY29uc29sZSIsImNoZWNrZWREaWQiLCJ2YWxpZENyZWRlbnRpYWxzQW1vdW50IiwiY3JlZGVudGlhbHNBbW91bnQiLCJpbnZhbGlkQ3JlZGVudGlhbHMiLCJwcm92aWRlciIsImVudHJpZXMiLCJjdXJyZW50Q3JlZGVudGlhbEtleSIsImlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyIsImlzc3VlciIsInNwbGl0IiwiZm91bmRWYWxpZCIsImludmFsaWRLZXlQcm92aWRlciIsImludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzIiwibm9UcnVzdGVkQ2xhaW1Gb3VuZCIsImZvdW5kRW50cnkiLCJjbGFpbSIsImdldENsYWltcyIsImV4cGlyYXRpb25EYXRlIiwiY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXMiLCJwcm92aWRlckNyZWRlbnRpYWxLZXkiLCJjb2RlIiwiSlNPTiIsInBhcnNlIiwicmVPcmRlckNyZWRlbnRpYWxPYmplY3QiLCJ3ZWIzTm9kZSIsImNyZWRlbnRpYWxPYmplY3RXaXRob3V0UHJvb2ZTaWduYXR1cmUiLCJzdHJpbmdpZnkiLCJwcm9vZiIsInNpZ25hdHVyZSIsInVzZXJSZWNvdmVyZWRBZGRyZXNzIiwiZXRoIiwiYWNjb3VudHMiLCJyZWNvdmVyIiwidXNlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyIsImhvbGRlciIsInZlcnNpb24iLCJjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGUiLCJub25jZSIsImNhbGN1bGF0ZU1pbnV0ZXNEaWZmZXJlbmNlIiwiaXNzdWVyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nIiwiaXNzdWVySG9sZGVyS2V5IiwiZGlkQ29udHJhY3RLZXlXcm9uZyIsInVzZXJIb2xkZXJLZXkiLCJ1c2VyRGlkQ29udHJhY3RBZGRyZXNzIiwidmVyaWZpZWQiLCJob2xkZXJLZXkiLCJyZWNvdmVyZWRBZGRyZXNzIiwiaXNzdWVyU2lnbmF0dXJlIiwiY3JlZGVudGlhbElzc3VlcktleSIsImNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YiLCJkaWRBZGRyZXNzIiwia25vd25BZGRyZXNzZXMiLCJzaGEzS2V5IiwiZ2V0U2hhM0tleSIsImtleU1hbmFnZXJDb250cmFjdCIsIkNvbnRyYWN0Iiwia25vd25BZGRyZXNzZXNDb250YWlucyIsImtleVB1cnBvc2UiLCJwYXJzZUludCIsImdldEtleVB1cnBvc2UiLCJsaXN0IiwiZGlkQ29udHJhY3RBZGRyZXNzIiwibGlzdEl0ZW0iLCJrZWNjYWsyNTYiLCJhZGRyZXNzIiwibWV0aG9kcyIsImR0MiIsImR0MSIsImRpZmYiLCJnZXRUaW1lIiwiYWJzIiwicm91bmQiLCJjcmVkZW50aWFsS2V5cyIsImNyZWRlbnRpYWxLZXkiLCJzb3J0IiwicmVPcmRlcmVkQ3JlZGVudGlhbHMiLCJyZU9yZGVyZWRDcmVkZW50aWFsIiwicmVPcmRlckNyZWRlbnRpYWwiLCJyZU9yZGVyQ3JlZGVudGlhbFByb29mIiwic29ydE9iamVjdEFscGhhYmV0aWNhbGx5Iiwib2JqZWN0Iiwic29ydGVkT2JqIiwia2V5MSIsImtleTIiLCJ0b0xvd2VyQ2FzZSIsInJlT3JkZXJPYmplY3QiLCJzaWduIiwiY29udGVudFRvU2lnbiIsImNvbnRyYWN0IiwiY2xhaW1JZHMiLCJnZXRDbGFpbUlkc0J5VHlwZSIsInJhd0NsYWltcyIsInBhcnNlZENsYWltcyIsInRvQXNjaWkiLCJkYXRhIiwibG9nIiwiY2hlY2tSZXN1bHQiLCJtaXNzaW5nS2V5cyIsInJlcXVlc3RlZENyZWRlbnRpYWwiLCJyZXF1aXJlZCIsIm9iamVjdEtleXMiLCJhZGRpdGlvbmFsSW5mbyIsImFuc3dlciIsImZvdW5kIiwicmVjb3ZlckFkZHJlc3NGcm9tU2lnbmF0dXJlIiwic29ydEFscGhhYmV0aWNhbGx5IiwiRUNEU0EiLCJyZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcHkiLCJjbGFpbUhvbGRlckNvbnRyYWN0Iiwia2VjY2FrMjU2T3JnYW5pc2F0aW9uS2V5IiwiTUFOQUdFTUVOVF9LRVkiLCJBQ1RJT05fS0VZIiwib3JnYW5pc2F0aW9uRGlkIiwic3RhdHVzIiwiQ09NUEFOWV9JTkZPIiwiY3JlZGVudGlhbFN1YmplY3QiLCJwcml2YXRlS2V5VG9QdWJsaWNLZXkiLCJwcml2YXRlS2V5VG9BY2NvdW50IiwiY2hhbGxlbmdlIiwiZW5kcG9pbnQiLCJ3c1NlcnZlciIsIndzUmVxdWVzdCQiLCJzdGFydFNpZ25hbCIsImh0dHBTZXJ2ZXIiLCJhdXRvQWNjZXB0Q29ubmVjdGlvbnMiLCJyZXF1ZXN0Iiwic2VuZFRvIiwic2VuZFVURiIsInJlamVjdENvbm5lY3Rpb24iLCJyZWFzb24iLCJ0b0lTT1N0cmluZyIsInJlbW90ZUFkZHJlc3NlcyIsInZhbGlkU2lnbiIsIm9yaWdpbkFsbG93ZWQiLCJzaWduYWxTZXJ2ZXIiLCJhY3Rpb25UeXBlIiwib3JpZ2luIiwicmVzb3VyY2VVUkwiLCJxdWVyeSIsInB1YmxpY2tleSIsImF1dGhlbnRpY2F0ZWQiLCJzZXR1cFdlYnNvY2tldExpc3RlbmVycyIsIndlYlJ0Y0NvbmZpZyIsImdldFJUQ0Nvbm5lY3Rpb25Db25maWciLCJ3ZWJSdGNDb25uZWN0aW9uQ29uZmlnIiwid2ViUnRjQ2xpZW50IiwiV2ViUlRDQ2xpZW50VjIiLCJzZXR1cFBlZXJjb25uZWN0aW9uIiwiaG9zdENoYW5uZWwiLCJjbGllbnRDaGFubmVsIiwiY2xpZW50RGF0YSIsImNsb3NlIiwidXRmOERhdGEiLCJvZmZlciIsImNhbmRpZGF0ZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwic2VuZEFuc3dlciIsImFkZENhbmRpZGF0ZSIsInJlYXNvbkNvZGUiLCJkZXNjcmlwdGlvbiIsInJlbW90ZUFkZHJlc3MiLCJydGNDb25uZWN0aW9uQ29uZmlnIiwic2V0UlRDQ29ubmVjdGlvbkNvbmZpZyIsInR1cm5FbmFibGVkIiwiY3J5cHRvIiwic3R1bkVuYWJsZWQiLCJzdHVuVXJsIiwic2VydmVyIiwiV2ViU29ja2V0IiwiU2VydmVyIiwiZGF0YWNoYW5uZWwiLCJ3cyIsImNvbm5lY3RlZCIsIm1zZyIsInRva2VuIiwiaG9zdHMiLCJjbGllbnRzIiwic2l6ZSIsImhvc3RzT2ZmZXIiLCJ3c0FyZyIsImNsaWVudEFyZyIsImNvbnN0YW50Iiwib3V0cHV0cyIsInBheWFibGUiLCJzdGF0ZU11dGFiaWxpdHkiLCJhbm9ueW1vdXMiLCJpbmRleGVkIiwiSWRlbnRpdHkiLCJhYmkiLCJ1cmwiLCJyZXBsYWNlIiwia2V5VG9DaGVjayIsInNoYUFkZHJlc3MiLCJzaGEzIiwia2V5SGFzUHVycG9zZSIsIldlYlJ0Y1Byb3ZpZGVyIiwiaG9zdFV1aWQiLCJwZWVyQ29ubmVjdGlvbiIsImRhdGFDaGFubmVsIiwid3NDbGllbnQiLCJyZWNlaXZlZEFjdGlvbnMkIiwidXVpZCQiLCJ3ZWJzb2NrZXRNZXNzYWdlJCIsIndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkIiwid2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kIiwid2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJCIsImNvbm5lY3Rpb25UaW1lb3V0IiwicG9uZ0NoZWNrSW50ZXJ2YWwiLCJwaW5nVGltZW91dCIsIldFQlNPQ0tFVF9QSU5HX0FOU1dFUl9ERUxBWSIsIldFQlNPQ0tFVF9QSU5HX1BPTkdfQUxMT1dFRF9USU1FIiwiZ2V0Q29uZmlnIiwic2V0SG9zdFV1aWQiLCJzZW5kUDJQRGF0YSIsInJlYWR5U3RhdGUiLCJzZW5kV2Vic29ja2V0RGF0YSIsIk9QRU4iLCJnZXRXZWJzb2NrZXQiLCJzZXRVdWlkIiwiZGlzY29ubmVjdCIsIm9uY2xvc2UiLCJyZW1vdGVEaXNjb25uZWN0IiwiY3JlYXRlT2ZmZXIiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwiaGVhZGVycyIsImNvbm5lY3Rpb25TdWNjZXNzIiwic2lnbmFsaW5nVXJsIiwia2VlcGFsaXZlIiwidzNjd2Vic29ja2V0Iiwib25lcnJvciIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInNlbmRQaW5nIiwiaXNIb3N0IiwibWF4VHJpZXMiLCJ0cmllcyIsInNlbmRPZmZlciIsIlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiIsImhvc3RBbnN3ZXIiLCJjcmVhdGVBbnN3ZXIiLCJjbGllbnRDYW5kaWRhdGUiLCJSVENJY2VDYW5kaWRhdGUiLCJhZGRJY2VDYW5kaWRhdGUiLCJSVENQZWVyQ29ubmVjdGlvbiIsImNyZWF0ZURhdGFDaGFubmVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZXZlbnRNZXNzYWdlIiwicDJwQ29ubmVjdGVkIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwiaG9zdFdzQ29ubmVjdGlvbiIsImRhdGFDaGFubmVsT3BlbiQiLCJkYXRhQ2hhbm5lbE1lc3NhZ2UkIiwiY2hhbm5lbFV1aWQiLCJkYXRhQ2hhbm5lbEV2ZW50IiwibWVzc2FnZUV2ZW50IiwicGFyc2VkTWVzc2FnZSIsInJlbW90ZURlc2NyaXB0aW9uIiwicmVxdWlyZSIsImdldENsb3N1cmVTYWZlUHJvcGVydHkiLCJvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QiLCJmaWxsUHJvcGVydGllcyIsInRhcmdldCIsIm92ZXJyaWRkZW5OYW1lIiwicmVzIiwibmV3TGluZUluZGV4Iiwic3Vic3RyaW5nIiwiY29uY2F0U3RyaW5nc1dpdGhTcGFjZSIsImJlZm9yZSIsImFmdGVyIiwiX19mb3J3YXJkX3JlZl9fIiwiZm9yd2FyZFJlZiIsImZvcndhcmRSZWZGbiIsInJlc29sdmVGb3J3YXJkUmVmIiwiaXNGb3J3YXJkUmVmIiwiUnVudGltZUVycm9yIiwic3VwZXIiLCJmb3JtYXRSdW50aW1lRXJyb3IiLCJmdWxsQ29kZSIsImVycm9yTWVzc2FnZSIsIm5nRGV2TW9kZSIsInJlbmRlclN0cmluZ2lmeSIsInN0cmluZ2lmeUZvckVycm9yIiwidGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IiLCJwYXRoIiwiZGVwUGF0aCIsInRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IiLCJ0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvciIsImluamVjdG9yTmFtZSIsImluamVjdG9yRGV0YWlscyIsImFzc2VydE51bWJlciIsImFjdHVhbCIsImFzc2VydE51bWJlckluUmFuZ2UiLCJtaW5JbmNsdXNpdmUiLCJtYXhJbmNsdXNpdmUiLCJhc3NlcnRMZXNzVGhhbk9yRXF1YWwiLCJhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwiLCJhc3NlcnRTdHJpbmciLCJhc3NlcnRFcXVhbCIsImV4cGVjdGVkIiwiYXNzZXJ0Tm90RXF1YWwiLCJhc3NlcnRTYW1lIiwiYXNzZXJ0Tm90U2FtZSIsImFzc2VydExlc3NUaGFuIiwiYXNzZXJ0R3JlYXRlclRoYW4iLCJhc3NlcnREZWZpbmVkIiwiY29tcGFyaXNvbiIsImFzc2VydERvbU5vZGUiLCJub2RlIiwiTm9kZSIsImFzc2VydEluZGV4SW5SYW5nZSIsIm1heExlbiIsImFzc2VydE9uZU9mIiwidmFsaWRWYWx1ZXMiLCJvcHRzIiwicHJvdmlkZWRJbiIsImRlZmluZUluamVjdGFibGUiLCJwcm92aWRlcnMiLCJpbXBvcnRzIiwiZ2V0SW5qZWN0YWJsZURlZiIsImdldE93bkRlZmluaXRpb24iLCJOR19QUk9WX0RFRiIsIk5HX0lOSkVDVEFCTEVfREVGIiwiZmllbGQiLCJnZXRJbmplY3RvckRlZiIsIk5HX0lOSl9ERUYiLCJOR19JTkpFQ1RPUl9ERUYiLCJuZ0luamVjdGFibGVEZWYiLCJuZ0luamVjdG9yRGVmIiwiSW5qZWN0RmxhZ3MiLCJfaW5qZWN0SW1wbGVtZW50YXRpb24iLCJzZXRJbmplY3RJbXBsZW1lbnRhdGlvbiIsImltcGwiLCJwcmV2aW91cyIsImluamVjdFJvb3RMaW1wTW9kZSIsIm5vdEZvdW5kVmFsdWUiLCJmbGFncyIsImluamVjdGFibGVEZWYiLCJPcHRpb25hbCIsIm5vU2lkZUVmZmVjdHMiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNoYW5nZURldGVjdG9yU3RhdHVzIiwiVmlld0VuY2Fwc3VsYXRpb24kMSIsImlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJEZWZhdWx0IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJfX2dsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwiX193aW5kb3ciLCJfX3NlbGYiLCJzZWxmIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJfX2dsb2JhbCIsIl9nbG9iYWwiLCJpbml0TmdEZXZNb2RlIiwibG9jYXRpb25TdHJpbmciLCJsb2NhdGlvbiIsIm5ld0NvdW50ZXJzIiwibmFtZWRDb25zdHJ1Y3RvcnMiLCJmaXJzdENyZWF0ZVBhc3MiLCJ0Tm9kZSIsInRWaWV3IiwicmVuZGVyZXJDcmVhdGVUZXh0Tm9kZSIsInJlbmRlcmVyU2V0VGV4dCIsInJlbmRlcmVyQ3JlYXRlRWxlbWVudCIsInJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lciIsInJlbmRlcmVyU2V0QXR0cmlidXRlIiwicmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGUiLCJyZW5kZXJlclNldFByb3BlcnR5IiwicmVuZGVyZXJTZXRDbGFzc05hbWUiLCJyZW5kZXJlckFkZENsYXNzIiwicmVuZGVyZXJSZW1vdmVDbGFzcyIsInJlbmRlcmVyU2V0U3R5bGUiLCJyZW5kZXJlclJlbW92ZVN0eWxlIiwicmVuZGVyZXJEZXN0cm95IiwicmVuZGVyZXJEZXN0cm95Tm9kZSIsInJlbmRlcmVyTW92ZU5vZGUiLCJyZW5kZXJlclJlbW92ZU5vZGUiLCJyZW5kZXJlckFwcGVuZENoaWxkIiwicmVuZGVyZXJJbnNlcnRCZWZvcmUiLCJyZW5kZXJlckNyZWF0ZUNvbW1lbnQiLCJhbGxvd05nRGV2TW9kZVRydWUiLCJuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycyIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUkFZIiwiZnJlZXplIiwiTkdfQ09NUF9ERUYiLCJOR19ESVJfREVGIiwiTkdfUElQRV9ERUYiLCJOR19NT0RfREVGIiwiTkdfRkFDVE9SWV9ERUYiLCJOR19FTEVNRU5UX0lEIiwiX19OR19FTEVNRU5UX0lEX18iLCJfcmVuZGVyQ29tcENvdW50IiwiY29tcG9uZW50RGVmaW5pdGlvbiIsImRlY2xhcmVkSW5wdXRzIiwiZGVmIiwicHJvdmlkZXJzUmVzb2x2ZXIiLCJkZWNscyIsInZhcnMiLCJ0ZW1wbGF0ZSIsImNvbnN0cyIsIm5nQ29udGVudFNlbGVjdG9ycyIsImhvc3RCaW5kaW5ncyIsImhvc3RWYXJzIiwiaG9zdEF0dHJzIiwiY29udGVudFF1ZXJpZXMiLCJleHBvcnRBcyIsIm9uUHVzaCIsImNoYW5nZURldGVjdGlvbiIsIk9uUHVzaCIsImRpcmVjdGl2ZURlZnMiLCJwaXBlRGVmcyIsInNlbGVjdG9ycyIsInZpZXdRdWVyeSIsImZlYXR1cmVzIiwiZW5jYXBzdWxhdGlvbiIsIkVtdWxhdGVkIiwic3R5bGVzIiwic2V0SW5wdXQiLCJzY2hlbWFzIiwiZGlyZWN0aXZlVHlwZXMiLCJkaXJlY3RpdmVzIiwiZmVhdHVyZSIsInBpcGVUeXBlcyIsInBpcGVzIiwiaW52ZXJ0T2JqZWN0IiwiZXh0cmFjdERpcmVjdGl2ZURlZiIsImV4dHJhY3RQaXBlRGVmIiwiZ2V0Q29tcG9uZW50RGVmIiwiZ2V0RGlyZWN0aXZlRGVmIiwiZ2V0UGlwZURlZiQxIiwiYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZCIsImJvb3RzdHJhcCIsImRlY2xhcmF0aW9ucyIsInRyYW5zaXRpdmVDb21waWxlU2NvcGVzIiwic2NvcGUiLCJuZ01vZHVsZURlZiIsImdldE5nTW9kdWxlRGVmIiwic2Vjb25kYXJ5IiwibmV3TG9va3VwIiwibWluaWZpZWRLZXkiLCJwdWJsaWNOYW1lIiwiZGVjbGFyZWROYW1lIiwicGlwZURlZiIsInB1cmUiLCJvbkRlc3Ryb3kiLCJuZ09uRGVzdHJveSIsInRocm93Tm90Rm91bmQiLCJDT05UQUlORVJfSEVBREVSX09GRlNFVCIsIkhFQURFUl9PRkZTRVQiLCJUVmlld1R5cGVBc1N0cmluZyIsImlzTFZpZXciLCJpc0xDb250YWluZXIiLCJpc0NvbnRlbnRRdWVyeUhvc3QiLCJpc0NvbXBvbmVudEhvc3QiLCJpc0RpcmVjdGl2ZUhvc3QiLCJpc0NvbXBvbmVudERlZiIsImFzc2VydFROb2RlRm9yTFZpZXciLCJsVmlldyIsImFzc2VydFROb2RlRm9yVFZpZXciLCJhc3NlcnRUTm9kZSIsInRWaWV3XyIsImFzc2VydFRJY3UiLCJ0SWN1IiwiY3VycmVudENhc2VMVmlld0luZGV4IiwiYXNzZXJ0Q29tcG9uZW50VHlwZSIsImFzc2VydEhhc1BhcmVudCIsImFzc2VydExDb250YWluZXIiLCJhc3NlcnRMVmlld09yVW5kZWZpbmVkIiwiYXNzZXJ0TFZpZXciLCJhc3NlcnRGaXJzdENyZWF0ZVBhc3MiLCJlcnJNZXNzYWdlIiwiYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzIiwiZmlyc3RVcGRhdGVQYXNzIiwiYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZSIsImFzc2VydEJldHdlZW4iLCJleHBhbmRvU3RhcnRJbmRleCIsImxvd2VyIiwidXBwZXIiLCJhc3NlcnRQYXJlbnRWaWV3IiwiYXNzZXJ0Tm9kZUluamVjdG9yIiwiaW5qZWN0b3JJbmRleCIsImdldEZhY3RvcnlEZWYiLCJoYXNGYWN0b3J5RGVmIiwiU2ltcGxlQ2hhbmdlIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImZpcnN0Q2hhbmdlIiwiaXNGaXJzdENoYW5nZSIsIk5nT25DaGFuZ2VzRmVhdHVyZUltcGwiLCJkZWZpbml0aW9uIiwibmdPbkNoYW5nZXMiLCJuZ09uQ2hhbmdlc1NldElucHV0IiwicmVtZW1iZXJDaGFuZ2VIaXN0b3J5QW5kSW52b2tlT25DaGFuZ2VzSG9vayIsInNpbXBsZUNoYW5nZXNTdG9yZSIsImdldFNpbXBsZUNoYW5nZXNTdG9yZSIsImN1cnJlbnQiLCJwcml2YXRlTmFtZSIsInN0b3JlIiwic2V0U2ltcGxlQ2hhbmdlc1N0b3JlIiwicHJldmlvdXNDaGFuZ2UiLCJuZ0luaGVyaXQiLCJwcm9maWxlckNhbGxiYWNrIiwic2V0UHJvZmlsZXIiLCJwcm9maWxlciIsImhvb2tPckxpc3RlbmVyIiwiU1ZHX05BTUVTUEFDRSIsIk1BVEhfTUxfTkFNRVNQQUNFIiwiRE9DVU1FTlQiLCJzZXREb2N1bWVudCIsImRvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJSZW5kZXJlclN0eWxlRmxhZ3MzIiwiaXNQcm9jZWR1cmFsUmVuZGVyZXIiLCJyZW5kZXJlciIsImRvbVJlbmRlcmVyRmFjdG9yeTMiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwicmVuZGVyZXJUeXBlIiwidW53cmFwUk5vZGUiLCJnZXROYXRpdmVCeUluZGV4IiwiZ2V0TmF0aXZlQnlUTm9kZSIsIlJFTkRFUkVSIiwiZ2V0VE5vZGUiLCJsb2FkIiwidmlldyIsImdldENvbXBvbmVudExWaWV3QnlJbmRleCIsIm5vZGVJbmRleCIsImhvc3RWaWV3Iiwic2xvdFZhbHVlIiwiaXNDcmVhdGlvbk1vZGUiLCJ2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yIiwiZ2V0Q29uc3RhbnQiLCJyZXNldFByZU9yZGVySG9va0ZsYWdzIiwiUFJFT1JERVJfSE9PS19GTEFHUyIsInVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudCIsImxDb250YWluZXIiLCJhbW91bnQiLCJ2aWV3T3JDb250YWluZXIiLCJpbnN0cnVjdGlvblN0YXRlIiwibEZyYW1lIiwiY3JlYXRlTEZyYW1lIiwiYmluZGluZ3NFbmFibGVkIiwiaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSIsImdldEJpbmRpbmdzRW5hYmxlZCIsImdldExWaWV3IiwiZ2V0VFZpZXciLCJ2aWV3VG9SZXN0b3JlIiwiY29udGV4dExWaWV3IiwiZ2V0Q3VycmVudFROb2RlIiwiY3VycmVudFROb2RlIiwiZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPayIsImdldEN1cnJlbnRQYXJlbnRUTm9kZSIsImlzUGFyZW50Iiwic2V0Q3VycmVudFROb2RlIiwiaXNDdXJyZW50VE5vZGVQYXJlbnQiLCJzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCIsInNldElzSW5DaGVja05vQ2hhbmdlc01vZGUiLCJtb2RlIiwiZ2V0QmluZGluZ1Jvb3QiLCJiaW5kaW5nUm9vdEluZGV4IiwiYmluZGluZ1N0YXJ0SW5kZXgiLCJnZXRCaW5kaW5nSW5kZXgiLCJiaW5kaW5nSW5kZXgiLCJzZXRCaW5kaW5nSW5kZXgiLCJuZXh0QmluZGluZ0luZGV4IiwiaW5jcmVtZW50QmluZGluZ0luZGV4Iiwic2V0SW5JMThuQmxvY2siLCJpc0luSTE4bkJsb2NrIiwiaW5JMThuIiwic2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MiLCJjdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJnZXRDdXJyZW50RGlyZWN0aXZlRGVmIiwidERhdGEiLCJnZXRDdXJyZW50UXVlcnlJbmRleCIsImN1cnJlbnRRdWVyeUluZGV4Iiwic2V0Q3VycmVudFF1ZXJ5SW5kZXgiLCJnZXREZWNsYXJhdGlvblROb2RlIiwiZGVjbFROb2RlIiwiZW50ZXJESSIsIlNraXBTZWxmIiwicGFyZW50VE5vZGUiLCJwYXJlbnRMVmlldyIsIkhvc3QiLCJERUNMQVJBVElPTl9WSUVXIiwiYWxsb2NMRnJhbWUiLCJlbnRlclZpZXciLCJuZXdWaWV3IiwibmV3TEZyYW1lIiwic2VsZWN0ZWRJbmRleCIsImVsZW1lbnREZXB0aENvdW50IiwiY3VycmVudE5hbWVzcGFjZSIsImZpcnN0Q2hpbGQiLCJjdXJyZW50TEZyYW1lIiwiY2hpbGRMRnJhbWUiLCJjaGlsZCIsImxlYXZlVmlld0xpZ2h0Iiwib2xkTEZyYW1lIiwibGVhdmVESSIsImxlYXZlVmlldyIsImdldFNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZEluZGV4IiwiZ2V0U2VsZWN0ZWRUTm9kZSIsInJlZ2lzdGVyUG9zdE9yZGVySG9va3MiLCJkaXJlY3RpdmVTdGFydCIsImVuZCIsImRpcmVjdGl2ZUVuZCIsImRpcmVjdGl2ZURlZiIsImxpZmVjeWNsZUhvb2tzIiwibmdBZnRlckNvbnRlbnRJbml0IiwibmdBZnRlckNvbnRlbnRDaGVja2VkIiwibmdBZnRlclZpZXdJbml0IiwibmdBZnRlclZpZXdDaGVja2VkIiwiY29udGVudEhvb2tzIiwiY29udGVudENoZWNrSG9va3MiLCJ2aWV3SG9va3MiLCJ2aWV3Q2hlY2tIb29rcyIsImRlc3Ryb3lIb29rcyIsImV4ZWN1dGVDaGVja0hvb2tzIiwiaG9va3MiLCJjYWxsSG9va3MiLCJleGVjdXRlSW5pdEFuZENoZWNrSG9va3MiLCJpbml0UGhhc2UiLCJpbmNyZW1lbnRJbml0UGhhc2VGbGFncyIsImN1cnJlbnRWaWV3IiwiY3VycmVudE5vZGVJbmRleCIsInN0YXJ0SW5kZXgiLCJub2RlSW5kZXhMaW1pdCIsImxhc3ROb2RlSW5kZXhGb3VuZCIsImNhbGxIb29rIiwiaXNJbml0SG9vayIsImhvb2siLCJkaXJlY3RpdmUiLCJOT19QQVJFTlRfSU5KRUNUT1IiLCJOb2RlSW5qZWN0b3JGYWN0b3J5IiwiaXNWaWV3UHJvdmlkZXIiLCJpbmplY3RJbXBsZW1lbnRhdGlvbiIsInJlc29sdmluZyIsImNhblNlZVZpZXdQcm92aWRlcnMiLCJpbmplY3RJbXBsIiwidG9UTm9kZVR5cGVBc1N0cmluZyIsInROb2RlVHlwZSIsInRleHQiLCJhc3NlcnRUTm9kZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwic2V0VXBBdHRyaWJ1dGVzIiwibmF0aXZlIiwiYXR0cnMiLCJpc1Byb2MiLCJuYW1lc3BhY2VVUkkiLCJhdHRyTmFtZSIsImF0dHJWYWwiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsImlzQW5pbWF0aW9uUHJvcCIsInNldFByb3BlcnR5IiwiaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlciIsIm1hcmtlciIsImNoYXJDb2RlQXQiLCJtZXJnZUhvc3RBdHRycyIsImRzdCIsInNyYyIsInNyY01hcmtlciIsIm1lcmdlSG9zdEF0dHJpYnV0ZSIsIm1hcmtlckluc2VydFBvc2l0aW9uIiwiZHN0VmFsdWUiLCJoYXNQYXJlbnRJbmplY3RvciIsInBhcmVudExvY2F0aW9uIiwiZ2V0UGFyZW50SW5qZWN0b3JJbmRleCIsImdldFBhcmVudEluamVjdG9yVmlldyIsInN0YXJ0VmlldyIsInZpZXdPZmZzZXQiLCJwYXJlbnRWaWV3IiwiaW5jbHVkZVZpZXdQcm92aWRlcnMiLCJzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyIsIm5leHROZ0VsZW1lbnRJZCIsImdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSIsImV4aXN0aW5nSW5qZWN0b3JJbmRleCIsImdldEluamVjdG9ySW5kZXgiLCJpbnNlcnRCbG9vbSIsImJsdWVwcmludCIsInBhcmVudExvYyIsImdldFBhcmVudEluamVjdG9yTG9jYXRpb24iLCJwYXJlbnRJbmRleCIsInBhcmVudERhdGEiLCJmb290ZXIiLCJkZWNsYXJhdGlvblZpZXdPZmZzZXQiLCJsVmlld0N1cnNvciIsInRWaWV3VHlwZSIsImRpUHVibGljSW5JbmplY3RvciIsImJsb29tSGFzaCIsIkJMT09NX1NJWkUiLCJtYXNrIiwiYmxvb21BZGQiLCJub3RGb3VuZFZhbHVlT3JUaHJvdyIsImxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvciIsIlNlbGYiLCJtb2R1bGVJbmplY3RvciIsInByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24iLCJnZXRPckNyZWF0ZUluamVjdGFibGUiLCJ0b2tlbklkIiwiY3JlYXRlTm9kZUluamVjdG9yIiwiYmxvb21IYXNoQml0T3JGYWN0b3J5IiwicHJldmlvdXNUVmlldyIsImhvc3RURWxlbWVudE5vZGUiLCJERUNMQVJBVElPTl9DT01QT05FTlRfVklFVyIsInNob3VsZFNlYXJjaFBhcmVudCIsImJsb29tSGFzVG9rZW4iLCJzZWFyY2hUb2tlbnNPbkluamVjdG9yIiwiTk9UX0ZPVU5EIiwiTm9kZUluamVjdG9yIiwiY3VycmVudFRWaWV3IiwiaW5qZWN0YWJsZUlkeCIsImxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIiLCJnZXROb2RlSW5qZWN0YWJsZSIsImNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMiLCJpc0hvc3RTcGVjaWFsQ2FzZSIsIm5vZGVQcm92aWRlckluZGV4ZXMiLCJwcm92aWRlckluZGV4ZXMiLCJ0SW5qZWN0YWJsZXMiLCJpbmplY3RhYmxlc1N0YXJ0IiwiZGlyZWN0aXZlc1N0YXJ0IiwiY3B0Vmlld1Byb3ZpZGVyc0NvdW50IiwiZW5kSW5kZXgiLCJwcm92aWRlclRva2VuT3JEZWYiLCJkaXJEZWYiLCJwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzIiwiZGlyZWN0aXZlSW5kZXgiLCJuZ09uSW5pdCIsIm5nRG9DaGVjayIsIndyYXBwZWRPbkNoYW5nZXMiLCJwcmVPcmRlckhvb2tzIiwicHJlT3JkZXJDaGVja0hvb2tzIiwicmVnaXN0ZXJQcmVPcmRlckhvb2tzIiwiaW5qZWN0b3JWaWV3IiwiaXNGaXJzdEhvc3RUTm9kZSIsIl90Tm9kZSIsIl9sVmlldyIsIm93bkNvbnN0cnVjdG9yIiwib3duRmFjdG9yeSIsImdldEZhY3RvcnlPZiIsIm9iamVjdFByb3RvdHlwZSIsImF0dHJOYW1lVG9JbmplY3QiLCJjbGFzc2VzIiwiYXR0cnNMZW5ndGgiLCJpbmplY3RBdHRyaWJ1dGVJbXBsIiwiQU5OT1RBVElPTlMiLCJQQVJBTUVURVJTIiwiUFJPUF9NRVRBREFUQSIsIm1ha2VEZWNvcmF0b3IiLCJwcm9wcyIsInBhcmVudENsYXNzIiwiYWRkaXRpb25hbFByb2Nlc3NpbmciLCJ0eXBlRm4iLCJtZXRhQ3RvciIsIm1ha2VNZXRhZGF0YUN0b3IiLCJEZWNvcmF0b3JGYWN0b3J5IiwiYW5ub3RhdGlvbkluc3RhbmNlIiwiY2xzIiwibmdNZXRhZGF0YU5hbWUiLCJhbm5vdGF0aW9uQ2xzIiwicHJvcE5hbWUiLCJtYWtlUGFyYW1EZWNvcmF0b3IiLCJQYXJhbURlY29yYXRvckZhY3RvcnkiLCJQYXJhbURlY29yYXRvciIsImFubm90YXRpb24iLCJ1bnVzZWRLZXkiLCJwYXJhbWV0ZXJzIiwibWFrZVByb3BEZWNvcmF0b3IiLCJQcm9wRGVjb3JhdG9yRmFjdG9yeSIsImRlY29yYXRvckluc3RhbmNlIiwidW5zaGlmdCIsIkF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJJbmplY3Rpb25Ub2tlbiIsIl9kZXNjIiwiQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyIsIlF1ZXJ5IiwiQ29udGVudENoaWxkcmVuIiwiYXNzaWduIiwiaXNWaWV3UXVlcnkiLCJkZXNjZW5kYW50cyIsImVtaXREaXN0aW5jdENoYW5nZXNPbmx5IiwiQ29udGVudENoaWxkIiwiVmlld0NoaWxkcmVuIiwiVmlld0NoaWxkIiwiRmFjdG9yeVRhcmdldCIsImdldENvbXBpbGVyRmFjYWRlIiwiZ2xvYmFsTmciLCJ1c2FnZSIsIlR5cGUiLCJpc1R5cGUiLCJmbGF0dGVuIiwiZGVlcEZvckVhY2giLCJhZGRUb0FycmF5IiwicmVtb3ZlRnJvbUFycmF5IiwibmV3QXJyYXkiLCJrZXlWYWx1ZUFycmF5U2V0Iiwia2V5VmFsdWVBcnJheSIsImtleVZhbHVlQXJyYXlJbmRleE9mIiwidmFsdWUxIiwidmFsdWUyIiwicHJldmlvdXNFbmQiLCJhcnJheUluc2VydDIiLCJrZXlWYWx1ZUFycmF5R2V0Iiwic3RhcnQiLCJtaWRkbGUiLCJfYXJyYXlJbmRleE9mU29ydGVkIiwiRVM1X0RFTEVHQVRFX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTIiwiRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiIsIlJlZmxlY3Rpb25DYXBhYmlsaXRpZXMiLCJyZWZsZWN0IiwiX3JlZmxlY3QiLCJpc1JlZmxlY3Rpb25FbmFibGVkIiwiX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMiLCJwYXJhbVR5cGVzIiwicGFyYW1Bbm5vdGF0aW9ucyIsIl9vd25QYXJhbWV0ZXJzIiwicGFyZW50Q3RvciIsInR5cGVTdHIiLCJ0ZXN0IiwidHNpY2tsZUN0b3JQYXJhbXMiLCJjdG9yUGFyYW1ldGVycyIsImN0b3JQYXJhbSIsImNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhIiwiZGVjb3JhdG9ycyIsImdldE93bk1ldGFkYXRhIiwiZ2V0UGFyZW50Q3RvciIsIl9vd25Bbm5vdGF0aW9ucyIsInR5cGVPckZ1bmMiLCJhbm5vdGF0aW9ucyIsIm93bkFubm90YXRpb25zIiwiX293blByb3BNZXRhZGF0YSIsInByb3BNZXRhZGF0YSIsInByb3BEZWNvcmF0b3JzIiwicHJvcCIsInBhcmVudFByb3BNZXRhZGF0YSIsIm93blByb3BNZXRhZGF0YSIsImhhc0xpZmVjeWNsZUhvb2siLCJsY1Byb3BlcnR5IiwiZ3VhcmRzIiwiZ2V0dGVyIiwic2V0dGVyIiwibWV0aG9kIiwiaW1wb3J0VXJpIiwicmVzb3VyY2VVcmkiLCJyZXNvbHZlSWRlbnRpZmllciIsIm1vZHVsZVVybCIsIm1lbWJlcnMiLCJydW50aW1lIiwicmVzb2x2ZUVudW0iLCJlbnVtSWRlbnRpZmllciIsImRlY29yYXRvckludm9jYXRpb25zIiwiZGVjb3JhdG9ySW52b2NhdGlvbiIsImN0b3IiLCJwYXJlbnRQcm90byIsIlRIUk9XX0lGX05PVF9GT1VORCIsIk5FV19MSU5FIiwiU09VUkNFIiwiVVNFX1ZBTFVFJDEiLCJwcm92aWRlIiwidXNlVmFsdWUiLCJfY3VycmVudEluamVjdG9yIiwic2V0Q3VycmVudEluamVjdG9yIiwiaW5qZWN0b3IiLCJmb3JtZXIiLCJpbmplY3RJbmplY3Rvck9ubHkiLCJpbmplY3QiLCJpbmplY3RBcmdzIiwidHlwZXMiLCJhcmciLCJmbGFnIiwiYXR0YWNoSW5qZWN0RmxhZyIsImRlY29yYXRvciIsIkluamVjdCIsImdldFJlZmxlY3QiLCJyZWZsZWN0RGVwZW5kZW5jaWVzIiwiY29udmVydERlcGVuZGVuY2llcyIsImRlcHMiLCJkZXAiLCJhdHRyaWJ1dGUiLCJvcHRpb25hbCIsInNraXBTZWxmIiwicGFyYW0iLCJwcm90byIsInJlZmxlY3REZXBlbmRlbmN5IiwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyIsInJlc291cmNlUmVzb2x2ZXIiLCJjb21wb25lbnRSZXNvbHZlZCIsInVybE1hcCIsImNhY2hlZFJlc291cmNlUmVzb2x2ZSIsInJlc3AiLCJ1bndyYXBSZXNwb25zZSIsImNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlIiwiY29tcG9uZW50IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInN0eWxlT2Zmc2V0Iiwic3R5bGVVcmwiLCJzdHlsZSIsImZ1bGx5UmVzb2x2ZWQiLCJhbGwiLCJjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiIsImNvbXBvbmVudERlZlJlc29sdmVkIiwiY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSIsImNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbiIsIm9sZCIsInJlc3BvbnNlIiwicG9saWN5JDEiLCJwb2xpY3kiLCJnZXRQb2xpY3kkMSIsInRydXN0ZWRUeXBlcyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJjcmVhdGVTY3JpcHQiLCJjcmVhdGVTY3JpcHRVUkwiLCJ0cnVzdGVkSFRNTEZyb21TdHJpbmciLCJodG1sIiwiZ2V0UG9saWN5IiwidHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzIiwidHJ1c3RlZFNjcmlwdEZyb21TdHJpbmdCeXBhc3MiLCJzY3JpcHQiLCJ0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZ0J5cGFzcyIsIlNhZmVWYWx1ZUltcGwiLCJjaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5IiwiU2FmZUh0bWxJbXBsIiwiZ2V0VHlwZU5hbWUiLCJTYWZlU3R5bGVJbXBsIiwiU2FmZVNjcmlwdEltcGwiLCJTYWZlVXJsSW1wbCIsIlNhZmVSZXNvdXJjZVVybEltcGwiLCJ1bndyYXBTYWZlVmFsdWUiLCJhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93IiwiYWN0dWFsVHlwZSIsImdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwiLCJ0cnVzdGVkSHRtbCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUiLCJ0cnVzdGVkU3R5bGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCIsInRydXN0ZWRTY3JpcHQiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCIsInRydXN0ZWRVcmwiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsIiwidHJ1c3RlZFJlc291cmNlVXJsIiwiZ2V0SW5lcnRCb2R5SGVscGVyIiwiZGVmYXVsdERvYyIsImluZXJ0RG9jdW1lbnRIZWxwZXIiLCJJbmVydERvY3VtZW50SGVscGVyIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaXNET01QYXJzZXJBdmFpbGFibGUiLCJET01QYXJzZXJIZWxwZXIiLCJnZXRJbmVydEJvZHlFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJpbmVydERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJpbmVydEh0bWwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbmVydEJvZHlFbGVtZW50IiwidGVtcGxhdGVFbCIsImlubmVySFRNTCIsImluZXJ0Qm9keSIsImRvY3VtZW50TW9kZSIsInN0cmlwQ3VzdG9tTnNBdHRycyIsImVsIiwiZWxBdHRycyIsImF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGlsZE5vZGUiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsIm5leHRTaWJsaW5nIiwiU0FGRV9VUkxfUEFUVEVSTiIsIkRBVEFfVVJMX1BBVFRFUk4iLCJfc2FuaXRpemVVcmwiLCJtYXRjaCIsIndhcm4iLCJzYW5pdGl6ZVNyY3NldCIsInNyY3NldCIsInRyaW0iLCJ0YWdTZXQiLCJ0YWdzIiwic2V0cyIsIlZPSURfRUxFTUVOVFMiLCJPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMiLCJPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTIiwiQkxPQ0tfRUxFTUVOVFMiLCJJTkxJTkVfRUxFTUVOVFMiLCJWQUxJRF9FTEVNRU5UUyIsIlVSSV9BVFRSUyIsIlNSQ1NFVF9BVFRSUyIsIkhUTUxfQVRUUlMiLCJBUklBX0FUVFJTIiwiVkFMSURfQVRUUlMiLCJTS0lQX1RSQVZFUlNJTkdfQ09OVEVOVF9JRl9JTlZBTElEX0VMRU1FTlRTIiwiU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIiwic2FuaXRpemVkU29tZXRoaW5nIiwiYnVmIiwic2FuaXRpemVDaGlsZHJlbiIsInRyYXZlcnNlQ29udGVudCIsInN0YXJ0RWxlbWVudCIsIlRFWFRfTk9ERSIsImNoYXJzIiwibm9kZVZhbHVlIiwiZW5kRWxlbWVudCIsImNoZWNrQ2xvYmJlcmVkRWxlbWVudCIsInBhcmVudE5vZGUiLCJ0YWdOYW1lIiwibm9kZU5hbWUiLCJlbEF0dHIiLCJlbmNvZGVFbnRpdGllcyIsIm5leHROb2RlIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkiLCJvdXRlckhUTUwiLCJTVVJST0dBVEVfUEFJUl9SRUdFWFAiLCJOT05fQUxQSEFOVU1FUklDX1JFR0VYUCIsImluZXJ0Qm9keUhlbHBlciIsIl9zYW5pdGl6ZUh0bWwiLCJ1bnNhZmVIdG1sSW5wdXQiLCJ1bnNhZmVIdG1sIiwibVhTU0F0dGVtcHRzIiwicGFyc2VkSHRtbCIsInNhbml0aXplciIsInNhZmVIdG1sIiwiZ2V0VGVtcGxhdGVDb250ZW50IiwiaXNUZW1wbGF0ZUVsZW1lbnQiLCJjb250ZW50IiwiU2VjdXJpdHlDb250ZXh0IiwiZ2V0U2FuaXRpemVyIiwic2FuaXRpemUiLCJIVE1MIiwidW5zYWZlU3R5bGUiLCJTVFlMRSIsInVuc2FmZVVybCIsIlVSTCIsInVuc2FmZVJlc291cmNlVXJsIiwiUkVTT1VSQ0VfVVJMIiwidW5zYWZlU2NyaXB0IiwiU0NSSVBUIiwicmF3IiwidHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmciLCJ0YWciLCJnZXRVcmxTYW5pdGl6ZXIiLCJnZXRMQ29udGV4dCIsIm1wVmFsdWUiLCJyZWFkUGF0Y2hlZERhdGEiLCJmaW5kVmlhQ29tcG9uZW50IiwiaXNEaXJlY3RpdmVJbnN0YW5jZSIsImRpcmVjdGl2ZUluc3RhbmNlIiwiZGlyZWN0aXZlSW5kZXhTdGFydCIsImRpcmVjdGl2ZUluZGV4RW5kIiwidHJhdmVyc2VOZXh0RWxlbWVudCIsImZpbmRWaWFEaXJlY3RpdmUiLCJnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgiLCJmaW5kVmlhTmF0aXZlRWxlbWVudCIsImV4aXN0aW5nQ3R4IiwiY3JlYXRlTENvbnRleHQiLCJhdHRhY2hQYXRjaERhdGEiLCJyRWxlbWVudCIsInBhcmVudENvbnRleHQiLCJsb2NhbFJlZnMiLCJnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZSIsImNvbXBvbmVudEluc3RhbmNlIiwicmVhZFBhdGNoZWRMVmlldyIsImNvbXBvbmVudEluZGljZXMiLCJjb21wb25lbnRzIiwiZWxlbWVudENvbXBvbmVudEluZGV4IiwiaW5jbHVkZUNvbXBvbmVudHMiLCJkaXJlY3RpdmVTdGFydEluZGV4IiwiZGlyZWN0aXZlRW5kSW5kZXgiLCJnZXRPcmlnaW5hbEVycm9yIiwiZGVmYXVsdEVycm9yTG9nZ2VyIiwiRXJyb3JIYW5kbGVyIiwiX2NvbnNvbGUiLCJvcmlnaW5hbEVycm9yIiwiX2ZpbmRPcmlnaW5hbEVycm9yIiwiZXJyb3JMb2dnZXIiLCJnZXRFcnJvckxvZ2dlciIsIkNVU1RPTV9FTEVNRU5UU19TQ0hFTUEiLCJOT19FUlJPUlNfU0NIRU1BIiwiQ09NTUVOVF9ESVNBTExPV0VEIiwiQ09NTUVOVF9ERUxJTUlURVIiLCJlc2NhcGVDb21tZW50VGV4dCIsIkNBTUVMX0NBU0VfUkVHRVhQIiwiZGVmYXVsdFNjaGVkdWxlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsIklOVEVSUE9MQVRJT05fREVMSU1JVEVSIiwibWF5YmVVbndyYXBGbiIsInRocm93TXVsdGlwbGVDb21wb25lbnRFcnJvciIsImNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uIiwicm9vdEluZGV4IiwiZXhwcmVzc2lvbkluZGV4IiwiY2hhbmdlZFZhbHVlIiwicHJlZml4IiwiY2h1bmtzIiwibmV3VmFsdWUiLCJzbG90SWR4IiwiUmVuZGVyZXJTdHlsZUZsYWdzMiIsIl9pY3VDb250YWluZXJJdGVyYXRlIiwiaWN1Q29udGFpbmVySXRlcmF0ZSIsInRJY3VDb250YWluZXJOb2RlIiwiZ2V0TFZpZXdQYXJlbnQiLCJnZXRSb290Q29udGV4dCIsInZpZXdPckNvbXBvbmVudCIsInJvb3RWaWV3IiwiY29tcG9uZW50T3JMVmlldyIsImdldFJvb3RWaWV3IiwiZ2V0Rmlyc3RMQ29udGFpbmVyIiwiZ2V0TmVhcmVzdExDb250YWluZXIiLCJDSElMRF9IRUFEIiwiZ2V0TmV4dExDb250YWluZXIiLCJjb250YWluZXIiLCJhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyIiwibE5vZGVUb0hhbmRsZSIsImJlZm9yZU5vZGUiLCJpc0NvbXBvbmVudCIsInJOb2RlIiwibmF0aXZlQXBwZW5kQ2hpbGQiLCJuYXRpdmVJbnNlcnRCZWZvcmUiLCJuYXRpdmVSZW1vdmVOb2RlIiwiZGVzdHJveU5vZGUiLCJwYXJlbnRSRWxlbWVudCIsImFuY2hvciIsImFwcGx5VmlldyIsImFwcGx5Q29udGFpbmVyIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVUZXh0IiwidXBkYXRlVGV4dE5vZGUiLCJzZXRWYWx1ZSIsInRleHRDb250ZW50IiwiY3JlYXRlQ29tbWVudE5vZGUiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRWxlbWVudE5vZGUiLCJuYW1lc3BhY2UiLCJuYW1lc3BhY2VVcmkiLCJnZXROYW1lc3BhY2VVcmkiLCJjcmVhdGVFbGVtZW50TlMiLCJkZXRhY2hNb3ZlZFZpZXciLCJkZWNsYXJhdGlvbkNvbnRhaW5lciIsIm1vdmVkVmlld3MiLCJkZWNsYXJhdGlvblZpZXdJbmRleCIsImluc2VydGlvbkxDb250YWluZXIiLCJkZXRhY2hWaWV3IiwicmVtb3ZlSW5kZXgiLCJpbmRleEluQ29udGFpbmVyIiwidmlld1RvRGV0YWNoIiwiZGVjbGFyYXRpb25MQ29udGFpbmVyIiwicmVtb3ZlZExWaWV3IiwibFF1ZXJpZXMiLCJRVUVSSUVTIiwiZGVzdHJveUxWaWV3IiwibFZpZXdPckxDb250YWluZXIiLCJjbGVhblVwVmlldyIsImZpcnN0VmlldyIsImRlc3Ryb3lWaWV3VHJlZSIsInRvQ2FsbCIsImNhbGxDb250ZXh0IiwiZXhlY3V0ZU9uRGVzdHJveXMiLCJ0Q2xlYW51cCIsImNsZWFudXAiLCJsQ2xlYW51cCIsImxhc3RMQ2xlYW51cEluZGV4IiwiaWR4T3JUYXJnZXRHZXR0ZXIiLCJsaXN0ZW5lciIsInVzZUNhcHR1cmVPclN1YklkeCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbnN0YW5jZUNsZWFudXBGbiIsInByb2Nlc3NDbGVhbnVwcyIsImRlc3Ryb3kiLCJnZXRQYXJlbnRSRWxlbWVudCIsImdldENsb3Nlc3RSRWxlbWVudCIsIk5vbmUiLCJpc01vdmUiLCJpbnNlcnRCZWZvcmUiLCJuYXRpdmVBcHBlbmRPckluc2VydEJlZm9yZSIsIm5hdGl2ZVBhcmVudE5vZGUiLCJnZXRJbnNlcnRJbkZyb250T2ZSTm9kZSIsIl9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuIiwiZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuIiwiX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlIiwic2V0STE4bkhhbmRsaW5nIiwiZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biIsInByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlIiwiY2hpbGRSTm9kZSIsImNoaWxkVE5vZGUiLCJwYXJlbnRSTm9kZSIsImFuY2hvck5vZGUiLCJnZXRGaXJzdE5hdGl2ZU5vZGUiLCJnZXRCZWZvcmVOb2RlRm9yVmlldyIsImVsSWN1Q29udGFpbmVyQ2hpbGQiLCJyTm9kZU9yTENvbnRhaW5lciIsIm5leHRSTm9kZSIsInByb2plY3Rpb25Ob2RlcyIsImdldFByb2plY3Rpb25Ob2RlcyIsImNvbXBvbmVudEhvc3QiLCJwcm9qZWN0aW9uIiwiYXNzZXJ0UHJvamVjdGlvblNsb3RzIiwidmlld0luZGV4SW5Db250YWluZXIiLCJuZXh0Vmlld0luZGV4IiwiZmlyc3RUTm9kZU9mVmlldyIsImlzSG9zdEVsZW1lbnQiLCJuYXRpdmVQYXJlbnQiLCJuYXRpdmVSZW1vdmVDaGlsZCIsImFwcGx5Tm9kZXMiLCJpc1Byb2plY3Rpb24iLCJyYXdTbG90VmFsdWUiLCJhcHBseVByb2plY3Rpb25SZWN1cnNpdmUiLCJwcm9qZWN0aW9uTmV4dCIsInRQcm9qZWN0aW9uTm9kZSIsImNvbXBvbmVudExWaWV3IiwiY29tcG9uZW50Tm9kZSIsIm5vZGVUb1Byb2plY3RPclJOb2RlcyIsIndyaXRlRGlyZWN0U3R5bGUiLCJjc3NUZXh0Iiwid3JpdGVEaXJlY3RDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzSW5kZXhPZiIsImNsYXNzVG9TZWFyY2giLCJzdGFydGluZ0luZGV4IiwiZm91bmRJbmRleCIsIk5HX1RFTVBMQVRFX1NFTEVDVE9SIiwiaXNDc3NDbGFzc01hdGNoaW5nIiwiY3NzQ2xhc3NUb01hdGNoIiwiaXNQcm9qZWN0aW9uTW9kZSIsImlzSW5saW5lVGVtcGxhdGUiLCJoYXNUYWdBbmRUeXBlTWF0Y2giLCJjdXJyZW50U2VsZWN0b3IiLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yIiwibm9kZUF0dHJzIiwibmFtZU9ubHlNYXJrZXJJZHgiLCJnZXROYW1lT25seU1hcmtlckluZGV4Iiwic2tpcFRvTmV4dFNlbGVjdG9yIiwiaXNQb3NpdGl2ZSIsInNlbGVjdG9yQXR0clZhbHVlIiwiYXR0ckluZGV4SW5Ob2RlIiwiZmluZEF0dHJJbmRleEluTm9kZSIsIm5vZGVBdHRyVmFsdWUiLCJjb21wYXJlQWdhaW5zdENsYXNzTmFtZSIsImJpbmRpbmdzTW9kZSIsIm1heWJlQXR0ck5hbWUiLCJhdHRyIiwibWF0Y2hUZW1wbGF0ZUF0dHJpYnV0ZSIsImlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0IiwiaXNTZWxlY3RvckluU2VsZWN0b3JMaXN0Iiwic2VsZWN0b3JMaXN0TG9vcCIsImN1cnJlbnRTZWxlY3RvckluTGlzdCIsIm1heWJlV3JhcEluTm90U2VsZWN0b3IiLCJpc05lZ2F0aXZlTW9kZSIsImNodW5rIiwic3RyaW5naWZ5Q1NTU2VsZWN0b3IiLCJjdXJyZW50Q2h1bmsiLCJ2YWx1ZU9yTWFya2VyIiwiYXR0clZhbHVlIiwiTk9fQ0hBTkdFIiwiX19icmFuZF9fIiwiZGVsdGEiLCJzZWxlY3RJbmRleEludGVybmFsIiwiY2hlY2tOb0NoYW5nZXNNb2RlIiwiYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZSIsImNyZWF0ZU5hbWVkQXJyYXlUeXBlIiwidG9UU3R5bGluZ1JhbmdlIiwiZ2V0VFN0eWxpbmdSYW5nZVByZXYiLCJ0U3R5bGluZ1JhbmdlIiwiZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUiLCJzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSIsImdldFRTdHlsaW5nUmFuZ2VOZXh0Iiwic2V0VFN0eWxpbmdSYW5nZU5leHQiLCJnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSIsInNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlIiwiYXR0YWNoRGVidWdPYmplY3QiLCJkZWJ1ZyIsImF0dGFjaERlYnVnR2V0dGVyIiwiZGVidWdHZXR0ZXIiLCJMVklFV19DT01QT05FTlRfQ0FDSEUiLCJMVklFV19FTUJFRERFRF9DQUNIRSIsIkxWSUVXX1JPT1QiLCJMVklFV19DT01QT05FTlQiLCJMVklFV19FTUJFRERFRCIsIkxSb290VmlldyIsIkxDb21wb25lbnRWaWV3IiwiTEVtYmVkZGVkVmlldyIsIm5hbWVTdWZmaXgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsInRvRGVidWdTdHlsZUJpbmRpbmciLCJpc0NsYXNzQmFzZWQiLCJiaW5kaW5ncyIsInJhbmdlIiwiY2xhc3NCaW5kaW5ncyIsInN0eWxlQmluZGluZ3MiLCJpc1RlbXBsYXRlIiwiY3Vyc29yIiwiaXRlbUtleSIsIml0ZW1SYW5nZSIsInByZXZEdXBsaWNhdGUiLCJuZXh0RHVwbGljYXRlIiwibmV4dEluZGV4IiwicHJldkluZGV4IiwicmVzaWR1YWxDbGFzc2VzIiwicmVzaWR1YWxTdHlsZXMiLCJwcm9jZXNzVE5vZGVDaGlsZHJlbiIsInRlbXBsYXRlXyIsIlRWaWV3RGF0YSIsIlRWSUVXREFUQV9FTVBUWSIsIkxWaWV3Qmx1ZXByaW50IiwiTWF0Y2hlc0FycmF5IiwiVFZpZXdDb21wb25lbnRzIiwiVE5vZGVMb2NhbE5hbWVzIiwiVE5vZGVJbml0aWFsSW5wdXRzIiwiTENsZWFudXAiLCJUQ2xlYW51cCIsInRvRGVidWciLCJ0b0h0bWwiLCJpbmNsdWRlQ2hpbGRyZW4iLCJDT01NRU5UX05PREUiLCJMVmlld0RlYnVnIiwiX3Jhd19sVmlldyIsIl9fcmF3X19mbGFnc19fIiwiaW5pdFBoYXNlU3RhdGUiLCJjcmVhdGlvbk1vZGUiLCJmaXJzdFZpZXdQYXNzIiwiY2hlY2tBbHdheXMiLCJkaXJ0eSIsImF0dGFjaGVkIiwiZGVzdHJveWVkIiwiaW5kZXhXaXRoaW5Jbml0UGhhc2UiLCJob3N0SFRNTCIsIm5vZGVzIiwibWFwVG9IVE1MIiwidG9EZWJ1Z05vZGVzIiwicmVuZGVyZXJGYWN0b3J5IiwiUkVOREVSRVJfRkFDVE9SWSIsImNoaWxkSGVhZCIsImNoaWxkVGFpbCIsImRlY2xhcmF0aW9uVmlldyIsInF1ZXJpZXMiLCJ0SG9zdCIsInRvTFZpZXdSYW5nZSIsImV4cGFuZG8iLCJjaGlsZFZpZXdzIiwiY2hpbGRyZW4iLCJsIiwiZGVidWdOb2RlcyIsInROb2RlQ3Vyc29yIiwiYnVpbGREZWJ1Z05vZGUiLCJmYWN0b3JpZXMiLCJpbnN0YW5jZXMiLCJidWlsZE5vZGVJbmplY3RvckRlYnVnIiwiaW5qZWN0b3JSZXNvbHV0aW9uUGF0aCIsImRlYnVnTm9kZUluamVjdG9yUGF0aCIsInZpZXdQcm92aWRlcnMiLCJwcm92aWRlckluZGV4U3RhcnRfIiwicHJvdmlkZXJJbmRleEVuZF8iLCJibG9vbSIsInRvQmxvb20iLCJjdW11bGF0aXZlQmxvb20iLCJwYXJlbnRJbmplY3RvckluZGV4IiwiYmluYXJ5IiwiaWR4IiwiTENvbnRhaW5lckRlYnVnIiwiX3Jhd19sQ29udGFpbmVyIiwiaGFzVHJhbnNwbGFudGVkVmlld3MiLCJ2aWV3cyIsIl9DTEVBTl9QUk9NSVNFIiwicmVmcmVzaENvbnRlbnRRdWVyaWVzIiwicXVlcnlTdGFydElkeCIsImRpcmVjdGl2ZURlZklkeCIsImNyZWF0ZUxWaWV3IiwidEhvc3ROb2RlIiwiY29tcG9uZW50QXJyYXkiLCJlbWJlZGRlZEFycmF5IiwiZ2V0TFZpZXdUb0Nsb25lIiwiY2xvbmVUb0xWaWV3RnJvbVRWaWV3Qmx1ZXByaW50IiwiYXR0YWNoTFZpZXdEZWJ1ZyIsImdldE9yQ3JlYXRlVE5vZGUiLCJhc3NlcnRQdXJlVE5vZGVUeXBlIiwiY3JlYXRlVE5vZGVBdEluZGV4IiwidFBhcmVudCIsImluc2VydEJlZm9yZUluZGV4IiwiZGlyZWN0aXZlU3R5bGluZ0xhc3QiLCJwcm9wZXJ0eUJpbmRpbmdzIiwibWVyZ2VkQXR0cnMiLCJsb2NhbE5hbWVzIiwiaW5pdGlhbElucHV0cyIsInRWaWV3cyIsInN0eWxlc1dpdGhvdXRIb3N0IiwiY2xhc3Nlc1dpdGhvdXRIb3N0IiwidHlwZV8iLCJmbGFnc18iLCJzdHlsZUJpbmRpbmdzXyIsImNsYXNzQmluZGluZ3NfIiwic2VhbCIsImNyZWF0ZVROb2RlIiwiYWxsb2NFeHBhbmRvIiwibnVtU2xvdHNUb0FsbG9jIiwiYWxsb2NJZHgiLCJyZW5kZXJWaWV3IiwiZXhlY3V0ZVZpZXdRdWVyeUZuIiwidGVtcGxhdGVGbiIsImV4ZWN1dGVUZW1wbGF0ZSIsInN0YXRpY0NvbnRlbnRRdWVyaWVzIiwic3RhdGljVmlld1F1ZXJpZXMiLCJob3N0TFZpZXciLCJyZW5kZXJDb21wb25lbnQkMSIsInJlbmRlckNoaWxkQ29tcG9uZW50cyIsImluY29tcGxldGVGaXJzdFBhc3MiLCJyZWZyZXNoVmlldyIsImlzSW5DaGVja05vQ2hhbmdlc1Bhc3MiLCJob29rc0luaXRQaGFzZUNvbXBsZXRlZCIsIm1vdmVkTFZpZXciLCJtYXJrVHJhbnNwbGFudGVkVmlld3NGb3JSZWZyZXNoIiwiZW1iZWRkZWRMVmlldyIsImVtYmVkZGVkVFZpZXciLCJyZWZyZXNoRW1iZWRkZWRWaWV3cyIsImhvc3RCaW5kaW5nT3BDb2RlcyIsIm9wQ29kZSIsImRpcmVjdGl2ZUlkeCIsImJpbmRpbmdSb290SW5keCIsImhvc3RCaW5kaW5nRm4iLCJwcm9jZXNzSG9zdEJpbmRpbmdPcENvZGVzIiwicmVmcmVzaENvbXBvbmVudCIsInJlZnJlc2hDaGlsZENvbXBvbmVudHMiLCJyZW5kZXJDb21wb25lbnRPclRlbXBsYXRlIiwibm9ybWFsRXhlY3V0aW9uUGF0aCIsImNyZWF0aW9uTW9kZUlzQWN0aXZlIiwiYmVnaW4iLCJyZiIsInByZXZTZWxlY3RlZEluZGV4IiwiaXNVcGRhdGVQaGFzZSIsImV4ZWN1dGVDb250ZW50UXVlcmllcyIsImNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXMiLCJhZGRDb21wb25lbnRMb2dpYyIsInNldElucHV0c0Zyb21BdHRycyIsImluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyIsImVsZW1lbnRJbmRleCIsImRpckluZGV4IiwiaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUiLCJpbnZva2VEaXJlY3RpdmVzSG9zdEJpbmRpbmdzIiwic2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhIiwidmlld0RhdGEiLCJsb2NhbFJlZkV4dHJhY3RvciIsImxvY2FsSW5kZXgiLCJnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3IiwiY3JlYXRlVFZpZXciLCJjb25zdHNPckZhY3RvcnkiLCJpbml0aWFsVmlld0xlbmd0aCIsImNyZWF0ZVZpZXdCbHVlcHJpbnQiLCJkaXJlY3RpdmVSZWdpc3RyeSIsInBpcGVSZWdpc3RyeSIsIl9kZWNscyIsIl92YXJzIiwiZmlsbCIsImxvY2F0ZUhvc3RFbGVtZW50IiwiZWxlbWVudE9yU2VsZWN0b3IiLCJwcmVzZXJ2ZUNvbnRlbnQiLCJTaGFkb3dEb20iLCJzZWxlY3RSb290RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhc3NlcnRIb3N0Tm9kZUV4aXN0cyIsInN0b3JlQ2xlYW51cFdpdGhDb250ZXh0IiwiY2xlYW51cEZuIiwiZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAiLCJnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCIsImdlbmVyYXRlUHJvcGVydHlBbGlhc2VzIiwiaW5wdXRBbGlhc01hcCIsInByb3BTdG9yZSIsImludGVybmFsTmFtZSIsImVsZW1lbnRQcm9wZXJ0eUludGVybmFsIiwibmF0aXZlT25seSIsImRhdGFWYWx1ZSIsImlucHV0RGF0YSIsInNldElucHV0c0ZvclByb3BlcnR5Iiwidmlld0luZGV4IiwiY2hpbGRDb21wb25lbnRMVmlldyIsIm1hcmtEaXJ0eUlmT25QdXNoIiwic2V0TmdSZWZsZWN0UHJvcGVydHkiLCJzZXROZ1JlZmxlY3RQcm9wZXJ0aWVzIiwic3RhcnRzV2l0aCIsInZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyIsIm1hdGNoaW5nU2NoZW1hcyIsInZhbGlkYXRlUHJvcGVydHkiLCJsb2dVbmtub3duUHJvcGVydHlFcnJvciIsImRlYnVnVmFsdWUiLCJub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSIsInNjaGVtYSIsInJlc29sdmVEaXJlY3RpdmVzIiwiaGFzRGlyZWN0aXZlcyIsInJlZ2lzdHJ5IiwibWF0Y2hlcyIsIm1hcmtBc0NvbXBvbmVudEhvc3QiLCJmaW5kRGlyZWN0aXZlRGVmTWF0Y2hlcyIsImV4cG9ydHNNYXAiLCJpbml0VE5vZGVGbGFncyIsInByZU9yZGVySG9va3NGb3VuZCIsInByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kIiwiY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUiLCJzYXZlTmFtZVRvRXhwb3J0TWFwIiwibGlmZUN5Y2xlSG9va3MiLCJ0Vmlld0RhdGEiLCJ0Tm9kZUF0dHJzIiwiaW5wdXRzRnJvbUF0dHJzIiwiaW5wdXRzU3RvcmUiLCJvdXRwdXRzU3RvcmUiLCJkaXJlY3RpdmVJbnB1dHMiLCJnZW5lcmF0ZUluaXRpYWxJbnB1dHMiLCJpbml0aWFsaXplSW5wdXRBbmRPdXRwdXRBbGlhc2VzIiwiY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXMiLCJyZWdpc3Rlckhvc3RCaW5kaW5nT3BDb2RlcyIsImRpcmVjdGl2ZVZhcnNJZHgiLCJlbGVtZW50SW5keCIsImxhc3RTZWxlY3RlZEVsZW1lbnRJZHgiLCJob3N0VE5vZGUiLCJudW1iZXJPZkRpcmVjdGl2ZXMiLCJkaXJlY3RpdmVGYWN0b3J5Iiwibm9kZUluamVjdG9yRmFjdG9yeSIsImNvbXBvbmVudFZpZXciLCJhZGRUb1ZpZXdUcmVlIiwiZWxlbWVudEF0dHJpYnV0ZUludGVybmFsIiwidmFsaWRhdGVBZ2FpbnN0RXZlbnRBdHRyaWJ1dGVzIiwic2V0RWxlbWVudEF0dHJpYnV0ZSIsInN0clZhbHVlIiwiaW5pdGlhbElucHV0RGF0YSIsImlucHV0c1RvU3RvcmUiLCJMQ29udGFpbmVyQXJyYXkiLCJjcmVhdGVMQ29udGFpbmVyIiwiaG9zdE5hdGl2ZSIsImF0dGFjaExDb250YWluZXJEZWJ1ZyIsImNvbXBvbmVudEhvc3RJZHgiLCJyZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXciLCJjb21wb25lbnRUVmlldyIsInN5bmNWaWV3V2l0aEJsdWVwcmludCIsIm1hcmtWaWV3RGlydHkiLCJ0aWNrUm9vdENvbnRleHQiLCJyb290Q29udGV4dCIsInJvb3RDb21wb25lbnQiLCJkZXRlY3RDaGFuZ2VzSW50ZXJuYWwiLCJkZXRlY3RDaGFuZ2VzSW5Sb290VmlldyIsInZpZXdRdWVyeUZuIiwic3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSIsInByb3BlcnR5TmFtZSIsImludGVycG9sYXRpb25QYXJ0cyIsImJpbmRpbmdNZXRhZGF0YSIsIkNMRUFOX1BST01JU0UiLCJsb2FkQ29tcG9uZW50UmVuZGVyZXIiLCJjdXJyZW50RGVmIiwidW53cmFwTFZpZXciLCJ0ZXh0QmluZGluZ0ludGVybmFsIiwiY29tcHV0ZVN0YXRpY1N0eWxpbmciLCJ3cml0ZVRvSG9zdCIsImRldGVjdENoYW5nZXMiLCJtYXJrRGlydHkiLCJjbGVhbiIsInBsYXllckhhbmRsZXIiLCJmbHVzaFBsYXllcnMiLCJzY2hlZHVsZVRpY2siLCJJTkpFQ1RPUiIsIk51bGxJbmplY3RvciIsIklOSkVDVE9SX1NDT1BFIiwiTk9UX1lFVCIsIkNJUkNVTEFSIiwiTlVMTF9JTkpFQ1RPUiQxIiwiZ2V0TnVsbEluamVjdG9yIiwiY3JlYXRlSW5qZWN0b3IiLCJkZWZUeXBlIiwiYWRkaXRpb25hbFByb3ZpZGVycyIsImNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzIiwiX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzIiwiUjNJbmplY3RvciIsInJlY29yZHMiLCJpbmplY3RvckRlZlR5cGVzIiwiX2Rlc3Ryb3llZCIsImRlZHVwU3RhY2siLCJwcm9jZXNzUHJvdmlkZXIiLCJpbmplY3RvckRlZiIsInByb2Nlc3NJbmplY3RvclR5cGUiLCJtYWtlUmVjb3JkIiwiYXNzZXJ0Tm90RGVzdHJveWVkIiwic2VydmljZSIsInByZXZpb3VzSW5qZWN0b3IiLCJpbmplY3RhYmxlRGVmSW5TY29wZSIsImluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSIsImh5ZHJhdGUiLCJuZXh0SW5qZWN0b3IiLCJpbmplY3RvckVycm9yTmFtZSIsInRva2VuUGF0aCIsImNoYXJBdCIsInBhcnRzIiwiZm9ybWF0RXJyb3IiLCJjYXRjaEluamVjdG9yRXJyb3IiLCJ0b2tlbnMiLCJkZWZPcldyYXBwZWREZWYiLCJwYXJlbnRzIiwibmdNb2R1bGUiLCJpc0R1cGxpY2F0ZSIsImltcG9ydFR5cGVzV2l0aFByb3ZpZGVycyIsImltcG9ydGVkIiwiZGVmUHJvdmlkZXJzIiwiaW5qZWN0b3JUeXBlIiwibmdNb2R1bGVUeXBlIiwiaXNUeXBlUHJvdmlkZXIiLCJpc1ZhbHVlUHJvdmlkZXIiLCJwcm92aWRlclRvRmFjdG9yeSIsInByb3ZpZGVyVG9SZWNvcmQiLCJtdWx0aSIsImV4aXN0aW5nIiwibXVsdGlSZWNvcmQiLCJwYXJhbUxlbmd0aCIsImluaGVyaXRlZEluamVjdGFibGVEZWYiLCJ0eXBlTmFtZSIsImdldEluaGVyaXRlZEluamVjdGFibGVEZWYiLCJnZXRVbmRlY29yYXRlZEluamVjdGFibGVGYWN0b3J5IiwidW53cmFwcGVkUHJvdmlkZXIiLCJ1c2VGYWN0b3J5IiwidXNlRXhpc3RpbmciLCJpc0V4aXN0aW5nUHJvdmlkZXIiLCJjbGFzc1JlZiIsInVzZUNsYXNzIiwibmdNb2R1bGVEZXRhaWwiLCJ0aHJvd0ludmFsaWRQcm92aWRlckVycm9yIiwiaGFzRGVwcyIsIkluamVjdG9yIiwic3RhdGljIiwiZ2V0Q29tcG9uZW50JDEiLCJhc3NlcnREb21FbGVtZW50IiwiZ2V0Q29tcG9uZW50QXROb2RlSW5kZXgiLCJnZXRDb250ZXh0IiwiZ2V0T3duaW5nQ29tcG9uZW50IiwiZWxlbWVudE9yRGlyIiwiZ2V0Um9vdENvbXBvbmVudHMiLCJnZXRJbmplY3RvciIsIk5VTEwiLCJnZXREaXJlY3RpdmVzIiwiVGV4dCIsImdldERpcmVjdGl2ZU1ldGFkYXRhJDEiLCJkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlIiwiY29tcG9uZW50RGVmIiwiZ2V0SG9zdEVsZW1lbnQiLCJjb21wb25lbnRPckRpcmVjdGl2ZSIsImdldExpc3RlbmVycyIsImxDb250ZXh0IiwibGlzdGVuZXJzIiwiZmlyc3RQYXJhbSIsInNlY29uZFBhcmFtIiwibGlzdGVuZXJFbGVtZW50IiwidXNlQ2FwdHVyZU9ySW5keCIsInVzZUNhcHR1cmUiLCJzb3J0TGlzdGVuZXJzIiwiRWxlbWVudCIsImFwcGx5Q2hhbmdlcyIsIl9wdWJsaXNoZWQiLCJwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEiLCJwdWJsaXNoR2xvYmFsVXRpbCIsIkNPTVBJTEVEIiwidyIsInJlbmRlckNvbXBvbmVudCIsImNvbXBvbmVudFR5cGUiLCJjb21wb25lbnRUYWciLCJob3N0Uk5vZGUiLCJyb290RmxhZ3MiLCJjcmVhdGVSb290Q29udGV4dCIsInJvb3RUVmlldyIsImNyZWF0ZVJvb3RDb21wb25lbnQiLCJjcmVhdGVSb290Q29tcG9uZW50VmlldyIsImhvc3RGZWF0dXJlcyIsImhvc3RSZW5kZXJlciIsInZpZXdSZW5kZXJlciIsInJvb3RMVmlldyIsInJvb3RUTm9kZSIsImluc3RhbnRpYXRlUm9vdENvbXBvbmVudCIsIkxpZmVjeWNsZUhvb2tzRmVhdHVyZSIsIndoZW5SZW5kZXJlZCIsImdldFN1cGVyVHlwZSIsInN1cGVyVHlwZSIsInNob3VsZEluaGVyaXRGaWVsZHMiLCJpbmhlcml0YW5jZUNoYWluIiwic3VwZXJEZWYiLCJ3cml0ZWFibGVEZWYiLCJtYXliZVVud3JhcEVtcHR5Iiwic3VwZXJIb3N0QmluZGluZ3MiLCJpbmhlcml0SG9zdEJpbmRpbmdzIiwic3VwZXJWaWV3UXVlcnkiLCJzdXBlckNvbnRlbnRRdWVyaWVzIiwiaW5oZXJpdFZpZXdRdWVyeSIsImluaGVyaXRDb250ZW50UXVlcmllcyIsImFuaW1hdGlvbiIsImRlZkRhdGEiLCJtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlIiwicHJldlZpZXdRdWVyeSIsImN0eCIsInByZXZDb250ZW50UXVlcmllcyIsInByZXZIb3N0QmluZGluZ3MiLCJDT1BZX0RJUkVDVElWRV9GSUVMRFMiLCJDT1BZX0NPTVBPTkVOVF9GSUVMRFMiLCJkZWZBbnkiLCJfc3ltYm9sSXRlcmF0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZGV2TW9kZUVxdWFsIiwiaXNMaXN0TGlrZUl0ZXJhYmxlQSIsImlzTGlzdExpa2VJdGVyYWJsZSIsImlzTGlzdExpa2VJdGVyYWJsZUIiLCJpdGVyYXRvcjEiLCJpdGVyYXRvcjIiLCJpdGVtMSIsIml0ZW0yIiwiYXJlSXRlcmFibGVzRXF1YWwiLCJpc0FPYmplY3QiLCJpc0JPYmplY3QiLCJpcyIsImlzSnNPYmplY3QiLCJ1cGRhdGVCaW5kaW5nIiwiZ2V0QmluZGluZyIsImJpbmRpbmdVcGRhdGVkIiwib2xkVmFsdWVUb0NvbXBhcmUiLCJkZXRhaWxzIiwibWV0YWRhdGEiLCJSZWdFeHAiLCJnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyIsImN1cnJWYWx1ZSIsInRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUiLCJiaW5kaW5nVXBkYXRlZDIiLCJleHAxIiwiZXhwMiIsImRpZmZlcmVudCIsImJpbmRpbmdVcGRhdGVkMyIsImV4cDMiLCJiaW5kaW5nVXBkYXRlZDQiLCJleHA0IiwiaW50ZXJwb2xhdGlvblYiLCJpc0JpbmRpbmdVcGRhdGVkIiwiaW50ZXJwb2xhdGlvbjEiLCJ2MCIsInN1ZmZpeCIsImludGVycG9sYXRpb24yIiwiaTAiLCJ2MSIsImludGVycG9sYXRpb24zIiwiaTEiLCJ2MiIsImludGVycG9sYXRpb240IiwiaTIiLCJ2MyIsImludGVycG9sYXRpb241IiwiaTMiLCJ2NCIsImludGVycG9sYXRpb242IiwiaTQiLCJ2NSIsImludGVycG9sYXRpb243IiwiaTUiLCJ2NiIsImludGVycG9sYXRpb244IiwiaTYiLCJ2NyIsImludGVycG9sYXRlZFZhbHVlIiwiaW50ZXJwb2xhdGVkIiwiaW50ZXJwb2xhdGlvbkluQmV0d2VlbiIsImF0dHJzSW5kZXgiLCJsb2NhbFJlZnNJbmRleCIsImFkanVzdGVkSW5kZXgiLCJ0Vmlld0NvbnN0cyIsInRlbXBsYXRlRmlyc3RDcmVhdGVQYXNzIiwiY29tbWVudCIsImFuZ3VsYXJDb3JlRGlFbnYiLCJVU0VfVkFMVUUiLCJpc1VzZUNsYXNzUHJvdmlkZXIiLCJpc1VzZUZhY3RvcnlQcm92aWRlciIsIm5nRmFjdG9yeURlZiIsImNvbXBpbGVyIiwiY29tcGlsZUluamVjdGFibGUiLCJzcmNNZXRhIiwiY29tcGlsZXJNZXRhIiwidHlwZUFyZ3VtZW50Q291bnQiLCJpc1VzZVZhbHVlUHJvdmlkZXIiLCJpc1VzZUV4aXN0aW5nUHJvdmlkZXIiLCJnZXRJbmplY3RhYmxlTWV0YWRhdGEiLCJjb21waWxlRmFjdG9yeSIsImNvbnN0cnVjdFJlc29sdmluZ1BhdGgiLCJmaW5kRmlyc3RDbG9zZWRDeWNsZSIsInJldmVyc2UiLCJrIiwiaW5qZWN0aW9uRXJyb3IiLCJjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlIiwiZXJyTXNnIiwid3JhcHBlZEVycm9yIiwiYWRkS2V5IiwiaW5qZWN0b3JzIiwibm9Bbm5vdGF0aW9uRXJyb3IiLCJwYXJhbXMiLCJwYXJhbWV0ZXIiLCJSZWZsZWN0aXZlS2V5IiwiZGlzcGxheU5hbWUiLCJfZ2xvYmFsS2V5UmVnaXN0cnkiLCJudW1iZXJPZktleXMiLCJfYWxsS2V5cyIsIm5ld0tleSIsInJlZmxlY3RvciIsInJlZmxlY3Rpb25DYXBhYmlsaXRpZXMiLCJ1cGRhdGVDYXBhYmlsaXRpZXMiLCJjYXBzIiwiaWRlbnRpZmllciIsIlJlZmxlY3RpdmVEZXBlbmRlbmN5IiwidmlzaWJpbGl0eSIsIl9FTVBUWV9MSVNUIiwiUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfIiwicmVzb2x2ZWRGYWN0b3JpZXMiLCJtdWx0aVByb3ZpZGVyIiwicmVzb2x2ZWRGYWN0b3J5IiwiUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSIsImRlcGVuZGVuY2llcyIsInJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeSIsImZhY3RvcnlGbiIsInJlc29sdmVkRGVwcyIsIl9kZXBlbmRlbmNpZXNGb3IiLCJhbGlhc0luc3RhbmNlIiwiZnJvbUtleSIsIl9leHRyYWN0VG9rZW4iLCJjb25zdHJ1Y3REZXBlbmRlbmNpZXMiLCJyZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyIiwicmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMiLCJyZXNvbHZlZFByb3ZpZGVyTWFwIiwibm9ybWFsaXplZFByb3ZpZGVyc01hcCIsInJlc29sdmVkUHJvdmlkZXIiLCJtZXJnZVJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyIsIl9ub3JtYWxpemVQcm92aWRlcnMiLCJfY3JlYXRlRGVwZW5kZW5jeSIsInBhcmFtTWV0YWRhdGEiLCJVTkRFRklORUQiLCJSZWZsZWN0aXZlSW5qZWN0b3IiLCJSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMiLCJmcm9tUmVzb2x2ZWRQcm92aWRlcnMiLCJSZWZsZWN0aXZlSW5qZWN0b3JfIiwiX3Byb3ZpZGVycyIsIl9wYXJlbnQiLCJfY29uc3RydWN0aW9uQ291bnRlciIsImtleUlkcyIsIm9ianMiLCJfZ2V0QnlLZXkiLCJyZXNvbHZlQW5kQ3JlYXRlQ2hpbGQiLCJjcmVhdGVDaGlsZEZyb21SZXNvbHZlZCIsImluaiIsInJlc29sdmVBbmRJbnN0YW50aWF0ZSIsImluc3RhbnRpYXRlUmVzb2x2ZWQiLCJfaW5zdGFudGlhdGVQcm92aWRlciIsImdldFByb3ZpZGVyQXRJbmRleCIsIm91dE9mQm91bmRzRXJyb3IiLCJfbmV3IiwiX2dldE1heE51bWJlck9mT2JqZWN0cyIsIl9pbnN0YW50aWF0ZSIsIl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5Iiwib3JpZ2luYWxFeGNlcHRpb24iLCJJTkpFQ1RPUl9LRVkiLCJfZ2V0QnlLZXlTZWxmIiwiX2dldEJ5S2V5RGVmYXVsdCIsIl9nZXRPYmpCeUtleUlkIiwia2V5SWQiLCJfdGhyb3dPck51bGwiLCJub1Byb3ZpZGVyRXJyb3IiLCJpbmpfIiwiX21hcFByb3ZpZGVycyIsInNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmciLCJwcm9wZXJ0eSIsIkhUTUxVbmtub3duRWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwibG9nVW5rbm93bkVsZW1lbnRFcnJvciIsImVsZW1lbnRTdGFydCIsImVsZW1lbnRTdGFydEZpcnN0Q3JlYXRlUGFzcyIsImVsZW1lbnRFbmQiLCJoYXNDbGFzc0lucHV0IiwiaGFzU3R5bGVJbnB1dCIsImVsZW1lbnRDb250YWluZXJTdGFydEZpcnN0Q3JlYXRlUGFzcyIsImlzU3Vic2NyaWJhYmxlIiwiaXNPYnNlcnZhYmxlIiwiZXZlbnROYW1lIiwibGlzdGVuZXJGbiIsImV2ZW50VGFyZ2V0UmVzb2x2ZXIiLCJsaXN0ZW5lckludGVybmFsIiwiaXNUTm9kZURpcmVjdGl2ZUhvc3QiLCJwcm9jZXNzT3V0cHV0cyIsImxDbGVhbnVwSW5kZXgiLCJleGlzdGluZ0xpc3RlbmVyIiwidE5vZGVJZHgiLCJjbGVhbnVwRXZlbnROYW1lIiwibGlzdGVuZXJJZHhJbkxDbGVhbnVwIiwiZmluZEV4aXN0aW5nTGlzdGVuZXIiLCJfX25nTGFzdExpc3RlbmVyRm5fXyIsIl9fbmdOZXh0TGlzdGVuZXJGbl9fIiwid3JhcExpc3RlbmVyIiwibGlzdGVuIiwicHJvcHNMZW5ndGgiLCJtaW5pZmllZE5hbWUiLCJvdXRwdXQiLCJleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyIsIndyYXBXaXRoUHJldmVudERlZmF1bHQiLCJ3cmFwTGlzdGVuZXJJbl9tYXJrRGlydHlBbmRQcmV2ZW50RGVmYXVsdCIsIm5leHRMaXN0ZW5lckZuIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImxldmVsIiwibmVzdGluZ0xldmVsIiwid2Fsa1VwVmlld3MiLCJuZXh0Q29udGV4dEltcGwiLCJtYXRjaGluZ1Byb2plY3Rpb25TbG90SW5kZXgiLCJwcm9qZWN0aW9uU2xvdHMiLCJ3aWxkY2FyZE5nQ29udGVudEluZGV4IiwibmdQcm9qZWN0QXNBdHRyVmFsIiwibmdQcm9qZWN0QXNBdHRySWR4IiwiZ2V0UHJvamVjdEFzQXR0clZhbHVlIiwibnVtUHJvamVjdGlvblNsb3RzIiwicHJvamVjdGlvbkhlYWRzIiwidGFpbHMiLCJjb21wb25lbnRDaGlsZCIsInNsb3RJbmRleCIsInNlbGVjdG9ySW5kZXgiLCJhcHBseVByb2plY3Rpb24iLCJtYXJrRHVwbGljYXRlcyIsInRTdHlsaW5nS2V5IiwiaXNQcmV2RGlyIiwiaXNDbGFzc0JpbmRpbmciLCJ0U3R5bGluZ0F0SW5kZXgiLCJpc01hcCIsImZvdW5kRHVwbGljYXRlIiwidFN0eWxpbmdWYWx1ZUF0Q3Vyc29yIiwidFN0eWxlUmFuZ2VBdEN1cnNvciIsImlzU3R5bGluZ01hdGNoIiwidFN0eWxpbmdLZXlDdXJzb3IiLCJwYXJzZXJTdGF0ZSIsInRleHRFbmQiLCJrZXlFbmQiLCJ2YWx1ZUVuZCIsImdldExhc3RQYXJzZWRLZXkiLCJnZXRMYXN0UGFyc2VkVmFsdWUiLCJwYXJzZUNsYXNzTmFtZU5leHQiLCJjb25zdW1lQ2xhc3NUb2tlbiIsImNvbnN1bWVXaGl0ZXNwYWNlIiwicGFyc2VTdHlsZU5leHQiLCJjaCIsImNvbnN1bWVTdHlsZUtleSIsImNvbnN1bWVTZXBhcmF0b3IiLCJjaDEiLCJjaDIiLCJjaDMiLCJsYXN0Q2hJbmRleCIsImNvbnN1bWVRdW90ZWRUZXh0IiwiY29uc3VtZVN0eWxlVmFsdWUiLCJyZXNldFBhcnNlclN0YXRlIiwic2VwYXJhdG9yIiwibWFsZm9ybWVkU3R5bGVFcnJvciIsImZyb21DaGFyQ29kZSIsInF1b3RlQ2hhckNvZGUiLCJleHBlY3RpbmciLCJjaGVja1N0eWxpbmdQcm9wZXJ0eSIsImNoZWNrU3R5bGluZ01hcCIsInN0eWxlS2V5VmFsdWVBcnJheVNldCIsInN0eWxlU3RyaW5nUGFyc2VyIiwicGFyc2VTdHlsZSIsImNsYXNzU3RyaW5nUGFyc2VyIiwicGFyc2VDbGFzc05hbWUiLCJzdHlsaW5nRmlyc3RVcGRhdGVQYXNzIiwidXBkYXRlU3R5bGluZyIsIm5vcm1hbGl6ZVN1ZmZpeCIsInN0cmluZ1BhcnNlciIsImhhc1N0eWxpbmdJbnB1dFNoYWRvdyIsImlzSW5Ib3N0QmluZGluZ3MiLCJzdGF0aWNQcmVmaXgiLCJlbmRzV2l0aCIsIm9sZEtleVZhbHVlQXJyYXkiLCJuZXdLZXlWYWx1ZUFycmF5Iiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIm9sZEtleSIsInNldEtleSIsInVwZGF0ZVN0eWxpbmdNYXAiLCJzdHlsZUtleVZhbHVlQXJyYXkiLCJ1bndyYXBwZWRWYWx1ZSIsInRvU3R5bGluZ0tleVZhbHVlQXJyYXkiLCJpc0hvc3RCaW5kaW5ncyIsInN0eWxpbmdLZXkiLCJob3N0RGlyZWN0aXZlRGVmIiwicmVzaWR1YWwiLCJjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMiLCJjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzIiwidGVtcGxhdGVTdHlsaW5nS2V5IiwiZ2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkiLCJzZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSIsImNvbGxlY3RSZXNpZHVhbCIsIndyYXBJblN0YXRpY1N0eWxpbmdLZXkiLCJ0U3R5bGluZ0tleVdpdGhTdGF0aWMiLCJpc0hvc3RCaW5kaW5nIiwidEJpbmRpbmdzIiwidG1wbEhlYWQiLCJ0bXBsVGFpbCIsImlzS2V5RHVwbGljYXRlT2ZTdGF0aWMiLCJzdGF0aWNLZXlWYWx1ZUFycmF5IiwicHJldmlvdXNOb2RlIiwibWFya0R1cGxpY2F0ZU9mUmVzaWR1YWxTdHlsaW5nIiwiaW5zZXJ0VFN0eWxpbmdCaW5kaW5nIiwiY3VycmVudERpcmVjdGl2ZSIsImRlc2lyZWRNYXJrZXIiLCJjdXJyZW50TWFya2VyIiwidFJhbmdlIiwiaXNTdHlsaW5nVmFsdWVQcmVzZW50IiwiZmluZFN0eWxpbmdWYWx1ZSIsImlzUHJvY2VkdXJhbCIsImFkZENsYXNzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJEYXNoQ2FzZSIsInJlbW92ZVN0eWxlIiwicmVtb3ZlUHJvcGVydHkiLCJpc0ltcG9ydGFudCIsIkltcG9ydGFudCIsInNldFN0eWxlIiwiYXBwbHlTdHlsaW5nIiwiaXNQcmV2RGlyZWN0aW9uIiwicmF3S2V5IiwiY29udGFpbnNTdGF0aWNzIiwiaXNTdHlsaW5nTWFwIiwidmFsdWVBdExWaWV3SW5kZXgiLCJ0ZXh0TmF0aXZlIiwidmFsdWVTdWZmaXgiLCJuZ0kxOG5DbG9zdXJlTW9kZSIsImdvb2ciLCJnZXRNc2ciLCJ1IiwibG9jYWxlRW4iLCJ2YWwiLCJMT0NBTEVfREFUQSIsInJlZ2lzdGVyTG9jYWxlRGF0YSIsImxvY2FsZUlkIiwiZXh0cmFEYXRhIiwiTG9jYWxlRGF0YUluZGV4IiwiTG9jYWxlSWQiLCJFeHRyYURhdGEiLCJmaW5kTG9jYWxlRGF0YSIsImxvY2FsZSIsIm5vcm1hbGl6ZWRMb2NhbGUiLCJub3JtYWxpemVMb2NhbGUiLCJnZXRMb2NhbGVEYXRhIiwicGFyZW50TG9jYWxlIiwiZ2V0TG9jYWxlQ3VycmVuY3lDb2RlIiwiQ3VycmVuY3lDb2RlIiwiZ2V0TG9jYWxlUGx1cmFsQ2FzZSIsIlBsdXJhbENhc2UiLCJuZyIsImNvbW1vbiIsImxvY2FsZXMiLCJ1bnJlZ2lzdGVyQWxsTG9jYWxlRGF0YSIsInBsdXJhbE1hcHBpbmciLCJERUZBVUxUX0xPQ0FMRV9JRCIsIkVMRU1FTlRfTUFSS0VSIiwiSUNVX01BUktFUiIsIkkxOG5DcmVhdGVPcENvZGUiLCJMT0NBTEVfSUQkMSIsInNldExvY2FsZUlkIiwidE5vZGVJbnNlcnRCZWZvcmVJbmRleCIsImkxOG5QYXJlbnQiLCJhbmNob3JSTm9kZSIsImFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgiLCJwcmV2aW91c1ROb2RlcyIsIm5ld1ROb2RlIiwiZXhpc3RpbmdUTm9kZSIsImlzSTE4blRleHQiLCJpc05ld1ROb2RlQ3JlYXRlZEJlZm9yZSIsImdldEluc2VydEJlZm9yZUluZGV4Iiwic2V0SW5zZXJ0QmVmb3JlSW5kZXgiLCJnZXRUSWN1IiwiY3JlYXRlVE5vZGVQbGFjZWhvbGRlciIsImdldEN1cnJlbnRJQ1VDYXNlSW5kZXgiLCJjdXJyZW50Q2FzZSIsImdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUiLCJtZXJnZWRDb2RlIiwiZ2V0UmVmRnJvbUljdUNyZWF0ZU9wQ29kZSIsImdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZSIsImNoYW5nZU1hc2siLCJjaGFuZ2VNYXNrQ291bnRlciIsImFwcGx5TXV0YWJsZU9wQ29kZXMiLCJtdXRhYmxlT3BDb2RlcyIsInJvb3RSTm9kZSIsInJvb3RJZHgiLCJ0ZXh0Tm9kZUluZGV4IiwicGFyZW50SWR4IiwiaW5zZXJ0SW5Gcm9udE9mIiwicmVmSWR4IiwiY2FzZUluZGV4IiwiYW5jaG9ySWR4IiwiZWxlbWVudE5vZGVJbmRleCIsImNvbW1lbnRWYWx1ZSIsImNvbW1lbnROb2RlSW5kZXgiLCJhcHBseVVwZGF0ZU9wQ29kZXMiLCJ1cGRhdGVPcENvZGVzIiwiYmluZGluZ3NTdGFydEluZGV4IiwiY2hlY2tCaXQiLCJza2lwQ29kZXMiLCJzYW5pdGl6ZUZuIiwidE5vZGVPclRhZ05hbWUiLCJyVGV4dCIsImFwcGx5SWN1U3dpdGNoQ2FzZSIsImFwcGx5SWN1VXBkYXRlQ2FzZSIsImFjdGl2ZUNhc2VJbmRleCIsImljdUV4cHJlc3Npb24iLCJiaW5kaW5nVmFsdWUiLCJjYXNlcyIsInJlc29sdmVkQ2FzZSIsInBsdXJhbCIsImdldFBsdXJhbENhc2UiLCJnZXRDYXNlSW5kZXgiLCJhcHBseUljdVN3aXRjaENhc2VSZW1vdmUiLCJyZW1vdmVDb2RlcyIsIm5vZGVPckljdUluZGV4IiwibG9hZEljdUNvbnRhaW5lclZpc2l0b3IiLCJfc3RhY2siLCJfcmVtb3ZlcyIsIl9pbmRleCIsImVudGVySWN1IiwiaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0IiwicmVtb3ZlT3BDb2RlIiwidEljdUluZGV4IiwiaTE4bkNyZWF0ZU9wQ29kZXNUb1N0cmluZyIsIm9wY29kZXMiLCJjcmVhdGVPcENvZGVzIiwibGluZXMiLCJpc0NvbW1lbnQiLCJDT01NRU5UIiwiYXBwZW5kTm93IiwiQVBQRU5EX0VBR0VSTFkiLCJTSElGVCIsImkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmciLCJwYXJzZXIiLCJPcENvZGVQYXJzZXIiLCJjb25zdW1lT3BDb2RlIiwicmVmIiwiY29uc3VtZVN0cmluZyIsInNhbml0aXphdGlvbkZuIiwiY29uc3VtZUZ1bmN0aW9uIiwiaGFzTW9yZSIsImNvbnN1bWVOdW1iZXIiLCJzdGF0ZW1lbnRzIiwic3RhdGVtZW50IiwiY29uc3VtZU51bWJlck9yU3RyaW5nIiwib3BDb2RlVGV4dCIsImljdUNyZWF0ZU9wQ29kZXNUb1N0cmluZyIsImxhc3RSZWYiLCJjb25zdW1lTnVtYmVyU3RyaW5nT3JNYXJrZXIiLCJsaW5lIiwiaTE4blJlbW92ZU9wQ29kZXNUb1N0cmluZyIsImNvZGVzIiwiQklORElOR19SRUdFWFAiLCJJQ1VfUkVHRVhQIiwiTkVTVEVEX0lDVSIsIklDVV9CTE9DS19SRUdFWFAiLCJTVUJURU1QTEFURV9SRUdFWFAiLCJQSF9SRUdFWFAiLCJOR1NQX1VOSUNPREVfUkVHRVhQIiwiY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUiLCJleGlzdGluZ1ROb2RlcyIsImlzSUNVIiwiaTE4bk5vZGVJZHgiLCJzZXRUTm9kZUluc2VydEJlZm9yZUluZGV4IiwiaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzUHJvY2Vzc1RleHROb2RlIiwiaGFzQmluZGluZyIsImdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXMiLCJzdHIiLCJkZXN0aW5hdGlvbk5vZGUiLCJiaW5kaW5nU3RhcnQiLCJtYXNrSW5kZXgiLCJzaXplSW5kZXgiLCJ0ZXh0UGFydHMiLCJ0ZXh0VmFsdWUiLCJ0b01hc2tCaXQiLCJjb3VudEJpbmRpbmdzIiwib3BDb2RlcyIsInJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbiIsInRhZ01hdGNoZWQiLCJpblRlbXBsYXRlIiwiZXhlYyIsImljdVN0YXJ0IiwiYmluZGluZ01hc2siLCJtYWluQmluZGluZyIsImFkZFVwZGF0ZUljdVN3aXRjaCIsInNldFRJY3UiLCJ2YWx1ZUFyciIsIm5lc3RlZEljdXMiLCJpY3VJbmRleCIsInBhcnNlSWN1Q2FzZSIsImFkZFVwZGF0ZUljdVVwZGF0ZSIsInBhcnNlSUNVQmxvY2siLCJwYXR0ZXJuIiwiaWN1VHlwZSIsImkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UiLCJiaW5kaW5nIiwicG9zIiwiYmxvY2tzIiwicHJldlBvcyIsImJyYWNlU3RhY2siLCJyZXN1bHRzIiwiYnJhY2VzIiwibGFzdEluZGV4IiwiYmxvY2siLCJjYXNlTmFtZSIsInVuc2FmZUNhc2VIdG1sIiwiaW5lcnRSb290Tm9kZSIsIndhbGtJY3VUcmVlIiwic2hhcmVkVXBkYXRlT3BDb2RlcyIsImRlcHRoIiwiY3VycmVudE5vZGUiLCJhZGRDcmVhdGVOb2RlQW5kQXBwZW5kIiwibG93ZXJBdHRyTmFtZSIsImFkZENyZWF0ZUF0dHJpYnV0ZSIsImFkZFJlbW92ZU5vZGUiLCJpc05lc3RlZEljdSIsIm5lc3RlZEljdUluZGV4IiwiYWRkUmVtb3ZlTmVzdGVkSWN1IiwiYXBwZW5kVG9QYXJlbnRJZHgiLCJjcmVhdGVBdElkeCIsIlBQX01VTFRJX1ZBTFVFX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9QTEFDRUhPTERFUlNfUkVHRVhQIiwiUFBfSUNVX1ZBUlNfUkVHRVhQIiwiUFBfSUNVX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9JQ1VTX1JFR0VYUCIsIlBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUCIsIlBQX1RFTVBMQVRFX0lEX1JFR0VYUCIsIm1lc3NhZ2VJbmRleCIsInN1YlRlbXBsYXRlSW5kZXgiLCJwYXJlbnRUTm9kZUluZGV4IiwiZXhpc3RpbmdUTm9kZVN0YWNrIiwiaXNSb290VGVtcGxhdGVNZXNzYWdlIiwic2VhcmNoIiwiZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZSIsIm1zZ1BhcnRzIiwicGFydCIsImljdU5vZGVJbmRleCIsImlzQ2xvc2luZyIsIk51bWJlciIsImkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyIsInRJMThuIiwiYXBwbHlDcmVhdGVPcENvZGVzIiwicHJldmlvdXNFbGVtZW50SW5kZXgiLCJpMThuQXR0cmlidXRlc0ZpcnN0UGFzcyIsImFwcGx5STE4biIsInJlcGxhY2VtZW50cyIsInRlbXBsYXRlSWRzU3RhY2siLCJwaHMiLCJ0bXBsIiwicGxhY2Vob2xkZXJzIiwicGxhY2Vob2xkZXIiLCJ0ZW1wbGF0ZUlkIiwiaXNDbG9zZVRlbXBsYXRlVGFnIiwiY3VycmVudFRlbXBsYXRlSWQiLCJfdHlwZSIsIl9pZHgiLCJpMThuUG9zdHByb2Nlc3MiLCJyZXNvbHZlUHJvdmlkZXIiLCJsSW5qZWN0YWJsZXNCbHVlcHJpbnQiLCJwcm92aWRlckZhY3RvcnkiLCJiZWdpbkluZGV4IiwiZXhpc3RpbmdGYWN0b3J5SW5kZXgiLCJyZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkIiwiZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXgiLCJleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXgiLCJkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0IiwiZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QiLCJjb21wb25lbnRQcm92aWRlcnMiLCJtdWx0aUZhY3RvcnlBZGQiLCJtdWx0aUZhY3RvcnkiLCJtdWx0aVZpZXdQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIiLCJtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciIsImNvbnRleHRJbmRleCIsImluZGV4SW5GYWN0b3J5IiwicHJvdmlkZXJJc1R5cGVQcm92aWRlciIsInByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyIiwiZXhpc3RpbmdDYWxsYmFja3NJbmRleCIsImlzQ29tcG9uZW50UHJvdmlkZXIiLCJsRGF0YSIsIm11bHRpUmVzb2x2ZSIsImNvbXBvbmVudENvdW50IiwibXVsdGlQcm92aWRlcnMiLCJwcm9jZXNzUHJvdmlkZXJzRm4iLCJDb21wb25lbnRSZWYkMSIsIkNvbXBvbmVudEZhY3RvcnkkMSIsIl9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJub0NvbXBvbmVudEZhY3RvcnlFcnJvciIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIiwiY3JlYXRlRWxlbWVudFJlZiIsIkVsZW1lbnRSZWYiLCJuYXRpdmVFbGVtZW50IiwidW53cmFwRWxlbWVudFJlZiIsIlJlbmRlcmVyRmFjdG9yeTIiLCJSZW5kZXJlcjIiLCJub2RlQXRJbmRleCIsImdldE9yQ3JlYXRlUmVuZGVyZXIyIiwiaW5qZWN0UmVuZGVyZXIyIiwiU2FuaXRpemVyIiwiVmVyc2lvbiIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwicGF0Y2giLCJWRVJTSU9OIiwiTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiIsImNvbGxlY3ROYXRpdmVOb2RlcyIsImxOb2RlIiwibFZpZXdJbkFDb250YWluZXIiLCJsVmlld0ZpcnN0Q2hpbGRUTm9kZSIsIm5vZGVzSW5TbG90IiwiVmlld1JlZiQxIiwiX2NkUmVmSW5qZWN0aW5nVmlldyIsIl9hcHBSZWYiLCJfYXR0YWNoZWRUb1ZpZXdDb250YWluZXIiLCJyb290Tm9kZXMiLCJ2aWV3UmVmcyIsIm1hcmtGb3JDaGVjayIsImRldGFjaCIsInJlYXR0YWNoIiwiY2hlY2tOb0NoYW5nZXMiLCJjaGVja05vQ2hhbmdlc0ludGVybmFsIiwiYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmIiwiZGV0YWNoRnJvbUFwcFJlZiIsImF0dGFjaFRvQXBwUmVmIiwiYXBwUmVmIiwiUm9vdFZpZXdSZWYiLCJfdmlldyIsImNoZWNrTm9DaGFuZ2VzSW5Sb290VmlldyIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkNvbXBvbmVudEZhY3RvcnkiLCJ0b1JlZkFycmF5Iiwibm9uTWluaWZpZWQiLCJtaW5pZmllZCIsInRlbXBsYXRlTmFtZSIsImlzQm91bmRUb01vZHVsZSIsInByb2plY3RhYmxlTm9kZXMiLCJyb290U2VsZWN0b3JPck5vZGUiLCJyb290Vmlld0luamVjdG9yIiwiY3JlYXRlQ2hhaW5lZEluamVjdG9yIiwiZWxlbWVudE5hbWUiLCJnZXROYW1lc3BhY2UiLCJ0RWxlbWVudE5vZGUiLCJleHRyYWN0QXR0cnNBbmRDbGFzc2VzRnJvbVNlbGVjdG9yIiwibm9kZXNmb3JTbG90IiwiQ29tcG9uZW50UmVmIiwiX3Jvb3RMVmlldyIsImNoYW5nZURldGVjdG9yUmVmIiwic2V0Q2xhc3NNZXRhZGF0YSIsImNsYXp6IiwiTmdNb2R1bGVSZWYkMSIsIk5nTW9kdWxlRmFjdG9yeSQxIiwibW9kdWxlcyIsInJlZ2lzdGVyTmdNb2R1bGVUeXBlIiwidmlzaXRlZCIsInJlY3Vyc2UiLCJpbmNvbWluZyIsImFzc2VydFNhbWVPck5vdEV4aXN0aW5nIiwiZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZSIsImNyZWF0ZU5nTW9kdWxlUmVmIiwicGFyZW50SW5qZWN0b3IiLCJOZ01vZHVsZVJlZiIsIl9ib290c3RyYXBDb21wb25lbnRzIiwiZGVzdHJveUNicyIsImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl9yM0luamVjdG9yIiwiaW5qZWN0RmxhZ3MiLCJOZ01vZHVsZUZhY3RvcnkiLCJtb2R1bGVUeXBlIiwic2xvdE9mZnNldCIsInB1cmVGbiIsImV4cCIsInB1cmVGdW5jdGlvbjFJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjJJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjNJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjRJbnRlcm5hbCIsImV4cDUiLCJleHA2IiwiZXhwNyIsImV4cDgiLCJleHBzIiwicHVyZUZ1bmN0aW9uVkludGVybmFsIiwiZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUiLCJyZXR1cm5WYWx1ZUluZGV4IiwibGFzdFJldHVyblZhbHVlIiwiYmluZGluZ1Jvb3QiLCJwaXBlTmFtZSIsImdldFBpcGVEZWYiLCJwaXBlRmFjdG9yeSIsInBpcGVJbnN0YW5jZSIsImlzUHVyZSIsInRyYW5zZm9ybSIsIkV2ZW50RW1pdHRlcl8iLCJpc0FzeW5jIiwiX19pc0FzeW5jIiwibmV4dEZuIiwiZXJyb3JGbiIsImNvbXBsZXRlRm4iLCJfd3JhcEluVGltZW91dCIsIkV2ZW50RW1pdHRlciIsInN5bWJvbEl0ZXJhdG9yIiwiX3Jlc3VsdHMiLCJRdWVyeUxpc3QiLCJfZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkiLCJfY2hhbmdlc0RldGVjdGVkIiwiX2NoYW5nZXMiLCJzeW1ib2wiLCJjaGFuZ2VzIiwicmVzdWx0c1RyZWUiLCJpZGVudGl0eUFjY2Vzc29yIiwibmV3UmVzdWx0RmxhdCIsInZhbHVlQSIsInZhbHVlQiIsImFycmF5RXF1YWxzIiwibm90aWZ5T25DaGFuZ2VzIiwic2V0RGlydHkiLCJUZW1wbGF0ZVJlZiIsImNyZWF0ZVRlbXBsYXRlUmVmIiwiVmlld0VuZ2luZVRlbXBsYXRlUmVmIiwiUjNUZW1wbGF0ZVJlZiIsIl9kZWNsYXJhdGlvbkxWaWV3IiwiX2RlY2xhcmF0aW9uVENvbnRhaW5lciIsImVsZW1lbnRSZWYiLCJjcmVhdGVFbWJlZGRlZFZpZXciLCJkZWNsYXJhdGlvblZpZXdMUXVlcmllcyIsIlZpZXdDb250YWluZXJSZWYiLCJjcmVhdGVDb250YWluZXJSZWYiLCJWRV9WaWV3Q29udGFpbmVyUmVmIiwiUjNWaWV3Q29udGFpbmVyUmVmIiwiX2xDb250YWluZXIiLCJfaG9zdFROb2RlIiwiX2hvc3RMVmlldyIsImdldFZpZXdSZWZzIiwidGVtcGxhdGVSZWYiLCJ2aWV3UmVmIiwiaW5zZXJ0IiwiY3JlYXRlQ29tcG9uZW50IiwiY29tcG9uZW50RmFjdG9yeU9yVHlwZSIsImluZGV4T3JPcHRpb25zIiwibmdNb2R1bGVSZWYiLCJpc0NvbXBvbmVudEZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3J5IiwiY29udGV4dEluamVjdG9yIiwiY29tcG9uZW50UmVmIiwicHJldklkeCIsInByZXZMQ29udGFpbmVyIiwicHJldlZDUmVmIiwiYWRqdXN0ZWRJZHgiLCJfYWRqdXN0SW5kZXgiLCJjb250YWluZXJMZW5ndGgiLCJpbnNlcnRlZExDb250YWluZXIiLCJpbnNlcnRlZENvbXBvbmVudExWaWV3IiwiZGVjbGFyZWRDb21wb25lbnRMVmlldyIsInRyYWNrTW92ZWRWaWV3IiwiaW5zZXJ0VmlldyIsInBhcmVudE5hdGl2ZU5vZGUiLCJhZGRWaWV3VG9Db250YWluZXIiLCJnZXRPckNyZWF0ZVZpZXdSZWZzIiwibW92ZSIsInZpZXdSZWZzQXJyIiwiZGV0YWNoZWRWaWV3IiwiY29tbWVudE5vZGUiLCJuYXRpdmVOZXh0U2libGluZyIsIkxRdWVyeV8iLCJxdWVyeUxpc3QiLCJjbG9uZSIsIkxRdWVyaWVzXyIsInRRdWVyaWVzIiwibm9PZkluaGVyaXRlZFF1ZXJpZXMiLCJ2aWV3TFF1ZXJpZXMiLCJ0UXVlcnkiLCJnZXRCeUluZGV4IiwicGFyZW50TFF1ZXJ5IiwiaW5kZXhJbkRlY2xhcmF0aW9uVmlldyIsImRpcnR5UXVlcmllc1dpdGhNYXRjaGVzIiwiZ2V0VFF1ZXJ5IiwiVFF1ZXJ5TWV0YWRhdGFfIiwiVFF1ZXJpZXNfIiwicXVlcmllc0ZvclRlbXBsYXRlUmVmIiwiY2hpbGRRdWVyeUluZGV4IiwidHF1ZXJ5Q2xvbmUiLCJ0cmFjayIsInRxdWVyeSIsIlRRdWVyeV8iLCJjcm9zc2VzTmdUZW1wbGF0ZSIsIl9hcHBsaWVzVG9OZXh0Tm9kZSIsIl9kZWNsYXJhdGlvbk5vZGVJbmRleCIsImlzQXBwbHlpbmdUb05vZGUiLCJtYXRjaFROb2RlIiwiYWRkTWF0Y2giLCJkZWNsYXJhdGlvbk5vZGVJZHgiLCJtYXRjaFROb2RlV2l0aFJlYWRPcHRpb24iLCJnZXRJZHhPZk1hdGNoaW5nU2VsZWN0b3IiLCJub2RlTWF0Y2hJZHgiLCJkaXJlY3RpdmVPclByb3ZpZGVySWR4IiwibWF0Y2hJZHgiLCJjcmVhdGVSZXN1bHRGb3JOb2RlIiwibWF0Y2hpbmdJZHgiLCJjcmVhdGVSZXN1bHRCeVROb2RlVHlwZSIsImNyZWF0ZVNwZWNpYWxUb2tlbiIsIm1hdGVyaWFsaXplVmlld1Jlc3VsdHMiLCJxdWVyeUluZGV4IiwibFF1ZXJ5IiwidFF1ZXJ5TWF0Y2hlcyIsIm1hdGNoZWROb2RlSWR4IiwiY29sbGVjdFF1ZXJ5UmVzdWx0cyIsImxWaWV3UmVzdWx0cyIsImVtYmVkZGVkTFZpZXdzIiwiY3JlYXRlVFF1ZXJ5IiwiY3JlYXRlTFF1ZXJ5IiwidFZpZXdDb250ZW50UXVlcmllcyIsInNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCIsImFuZ3VsYXJDb3JlRW52Iiwiaml0T3B0aW9ucyIsInJlc2V0Sml0T3B0aW9ucyIsIm1vZHVsZVF1ZXVlIiwiZmx1c2hpbmdNb2R1bGVRdWV1ZSIsImZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSIsImlzUmVzb2x2ZWREZWNsYXJhdGlvbiIsInNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMiLCJkZWNsYXJhdGlvbiIsImNvbXBpbGVOZ01vZHVsZSIsImNvbXBpbGVOZ01vZHVsZURlZnMiLCJlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmciLCJhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCIsImV4cGFuZE1vZHVsZVdpdGhQcm92aWRlcnMiLCJOZ01vZHVsZSIsInZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYiLCJjb21waWxlSW5qZWN0b3IiLCJpbXBvcnRpbmdNb2R1bGUiLCJ2ZXJpZmllZE5nTW9kdWxlIiwidW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHMiLCJtb2QiLCJ2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0IiwiY29tYmluZWREZWNsYXJhdGlvbnMiLCJjb21wdXRlQ29tYmluZWRFeHBvcnRzIiwiZGVjbCIsInN1cHByZXNzRXJyb3JzIiwiZXhpc3RpbmdNb2R1bGUiLCJvd25lck5nTW9kdWxlIiwidmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZSIsImdldEFubm90YXRpb24iLCJlbnRyeUNvbXBvbmVudHMiLCJ2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlIiwidHlwZU9yV2l0aFByb3ZpZGVycyIsImNvbGxlY3QiLCJfX2Fubm90YXRpb25zX18iLCJyZWFkQW5ub3RhdGlvbiIsIldlYWtNYXAiLCJyZXNldENvbXBpbGVkQ29tcG9uZW50cyIsInRyYW5zaXRpdmVTY29wZXMiLCJ0cmFuc2l0aXZlU2NvcGVzRm9yIiwicGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUiLCJuZ1NlbGVjdG9yU2NvcGUiLCJjb21waWxhdGlvbiIsImRpciIsImlzTmdNb2R1bGUiLCJzY29wZXMiLCJleHBvcnRlZCIsImltcG9ydGVkVHlwZSIsImltcG9ydGVkU2NvcGUiLCJlbnRyeSIsImRlY2xhcmVkIiwiZXhwb3J0ZWRUeXBlIiwiZXhwb3J0ZWRTY29wZSIsImlzTW9kdWxlV2l0aFByb3ZpZGVycyIsImNvbXBpbGF0aW9uRGVwdGgiLCJjb21waWxlQ29tcG9uZW50IiwibmdDb21wb25lbnREZWYiLCJtYXliZVF1ZXVlUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzIiwiYWRkRGlyZWN0aXZlRmFjdG9yeURlZiIsInByZXNlcnZlV2hpdGVzcGFjZXMiLCJkZWZhdWx0RW5jYXBzdWxhdGlvbiIsImRpcmVjdGl2ZU1ldGFkYXRhIiwidHlwZVNvdXJjZVNwYW4iLCJjcmVhdGVQYXJzZVNvdXJjZVNwYW4iLCJhbmltYXRpb25zIiwiaW50ZXJwb2xhdGlvbiIsInVzZXNJbmhlcml0YW5jZSIsImFkZERpcmVjdGl2ZURlZlRvVW5kZWNvcmF0ZWRQYXJlbnRzIiwiY29tcGlsZURpcmVjdGl2ZSIsIm5nRGlyZWN0aXZlRGVmIiwiZ2V0RGlyZWN0aXZlTWV0YWRhdGEiLCJzb3VyY2VNYXBVcmwiLCJmYWNhZGUiLCJEaXJlY3RpdmUiLCJleHRlbmRzRGlyZWN0bHlGcm9tT2JqZWN0IiwiZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSIsImlzQ29udGVudFF1ZXJ5IiwibGlmZWN5Y2xlIiwidXNlc09uQ2hhbmdlcyIsInNwbGl0QnlDb21tYSIsInZpZXdRdWVyaWVzIiwib2JqUHJvdG90eXBlIiwic2hvdWxkQWRkQWJzdHJhY3REaXJlY3RpdmUiLCJjb252ZXJ0VG9SM1F1ZXJ5TWV0YWRhdGEiLCJhbm4iLCJpc1F1ZXJ5QW5uIiwicXVlcmllc01ldGEiLCJpc0lucHV0QW5ub3RhdGlvbiIsInBpZWNlIiwiTElGRUNZQ0xFX0hPT0tTIiwiaG9va05hbWUiLCJtZXRhZGF0YU5hbWUiLCJjb21waWxlUGlwZSIsIm5nUGlwZURlZiIsImdldFBpcGVNZXRhZGF0YSIsIlBpcGUiLCJDb21wb25lbnQiLCJJbnB1dCIsImJpbmRpbmdQcm9wZXJ0eU5hbWUiLCJPdXRwdXQiLCJIb3N0QmluZGluZyIsImhvc3RQcm9wZXJ0eU5hbWUiLCJIb3N0TGlzdGVuZXIiLCJBUFBfSU5JVElBTElaRVIiLCJBcHBsaWNhdGlvbkluaXRTdGF0dXMiLCJhcHBJbml0cyIsImluaXRpYWxpemVkIiwiZG9uZVByb21pc2UiLCJyZWoiLCJydW5Jbml0aWFsaXplcnMiLCJhc3luY0luaXRQcm9taXNlcyIsImluaXRSZXN1bHQiLCJvYnNlcnZhYmxlQXNQcm9taXNlIiwiQVBQX0lEIiwiX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5IiwiX3JhbmRvbUNoYXIiLCJBUFBfSURfUkFORE9NX1BST1ZJREVSIiwicmFuZG9tIiwiUExBVEZPUk1fSU5JVElBTElaRVIiLCJQTEFURk9STV9JRCIsIkFQUF9CT09UU1RSQVBfTElTVEVORVIiLCJQQUNLQUdFX1JPT1RfVVJMIiwiQ29uc29sZSIsIkxPQ0FMRV9JRCIsImdldExvY2FsZSIsIiRsb2NhbGl6ZSIsIkRFRkFVTFRfQ1VSUkVOQ1lfQ09ERSIsIlRSQU5TTEFUSU9OUyIsIlRSQU5TTEFUSU9OU19GT1JNQVQiLCJNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSIsIk1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMiLCJuZ01vZHVsZUZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3JpZXMiLCJDb21waWxlciIsImNvbXBpbGVNb2R1bGVTeW5jIiwiY29tcGlsZU1vZHVsZUFzeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyIsImNsZWFyQ2FjaGUiLCJjbGVhckNhY2hlRm9yIiwiZ2V0TW9kdWxlSWQiLCJDT01QSUxFUl9PUFRJT05TIiwiQ29tcGlsZXJGYWN0b3J5Iiwic2NoZWR1bGVNaWNyb1Rhc2siLCJab25lIiwiTmdab25lIiwiZW5hYmxlTG9uZ1N0YWNrVHJhY2UiLCJzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIiwic2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24iLCJoYXNQZW5kaW5nTWFjcm90YXNrcyIsImhhc1BlbmRpbmdNaWNyb3Rhc2tzIiwiaXNTdGFibGUiLCJvblVuc3RhYmxlIiwib25NaWNyb3Rhc2tFbXB0eSIsIm9uU3RhYmxlIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJfbmVzdGluZyIsIl9vdXRlciIsIl9pbm5lciIsImZvcmsiLCJsYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQiLCJuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSIsInVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9fc3ltYm9sX18iLCJ1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSIsImdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsInpvbmUiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlIiwiaXNDaGVja1N0YWJsZVJ1bm5pbmciLCJmYWtlVG9wRXZlbnRUYXNrIiwic2NoZWR1bGVFdmVudFRhc2siLCJ1cGRhdGVNaWNyb1Rhc2tTdGF0dXMiLCJjaGVja1N0YWJsZSIsImludm9rZSIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzIiwib25JbnZva2VUYXNrIiwidGFzayIsImFwcGx5VGhpcyIsImFwcGx5QXJncyIsIm9uRW50ZXIiLCJpbnZva2VUYXNrIiwib25MZWF2ZSIsIm9uSW52b2tlIiwib25IYXNUYXNrIiwiaGFzVGFza1N0YXRlIiwiaGFzVGFzayIsImNoYW5nZSIsIl9oYXNQZW5kaW5nTWljcm90YXNrcyIsIm1pY3JvVGFzayIsIm1hY3JvVGFzayIsIm9uSGFuZGxlRXJyb3IiLCJydW5PdXRzaWRlQW5ndWxhciIsImZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yIiwiaXNJbkFuZ3VsYXJab25lIiwicnVuIiwicnVuVGFzayIsIkVNUFRZX1BBWUxPQUQiLCJjYW5jZWxUYXNrIiwicnVuR3VhcmRlZCIsIk5vb3BOZ1pvbmUiLCJUZXN0YWJpbGl0eSIsIl9uZ1pvbmUiLCJfcGVuZGluZ0NvdW50IiwiX2lzWm9uZVN0YWJsZSIsIl9kaWRXb3JrIiwiX2NhbGxiYWNrcyIsInRhc2tUcmFja2luZ1pvbmUiLCJfd2F0Y2hBbmd1bGFyRXZlbnRzIiwiYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSIsIl9ydW5DYWxsYmFja3NJZlJlYWR5IiwiaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50IiwiZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50IiwidGltZW91dElkIiwiZG9uZUNiIiwiZ2V0UGVuZGluZ1Rhc2tzIiwidXBkYXRlQ2IiLCJtYWNyb1Rhc2tzIiwiY3JlYXRpb25Mb2NhdGlvbiIsImFkZENhbGxiYWNrIiwid2hlblN0YWJsZSIsImdldFBlbmRpbmdSZXF1ZXN0Q291bnQiLCJmaW5kUHJvdmlkZXJzIiwidXNpbmciLCJleGFjdE1hdGNoIiwiVGVzdGFiaWxpdHlSZWdpc3RyeSIsIl9hcHBsaWNhdGlvbnMiLCJfdGVzdGFiaWxpdHlHZXR0ZXIiLCJhZGRUb1dpbmRvdyIsInJlZ2lzdGVyQXBwbGljYXRpb24iLCJ0ZXN0YWJpbGl0eSIsInVucmVnaXN0ZXJBcHBsaWNhdGlvbiIsInVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMiLCJnZXRUZXN0YWJpbGl0eSIsImVsZW0iLCJnZXRBbGxUZXN0YWJpbGl0aWVzIiwiZ2V0QWxsUm9vdEVsZW1lbnRzIiwiZmluZFRlc3RhYmlsaXR5SW5UcmVlIiwiZmluZEluQW5jZXN0b3JzIiwic2V0VGVzdGFiaWxpdHlHZXR0ZXIiLCJfcGxhdGZvcm0iLCJjb21waWxlTmdNb2R1bGVGYWN0b3J5IiwiYXNzZXJ0TmdNb2R1bGVUeXBlIiwibW9kdWxlRmFjdG9yeSIsIm5nSml0TW9kZSIsImNvbXBpbGVyT3B0aW9ucyIsInNldEppdE9wdGlvbnMiLCJfbGFzdERlZmluZWQiLCJjb21waWxlclByb3ZpZGVycyIsIl9tZXJnZUFycmF5cyIsInJlc291cmNlTG9hZGVyIiwiUmVzb3VyY2VMb2FkZXIiLCJjZiIsIkFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyIsIk5nUHJvYmVUb2tlbiIsImNyZWF0ZVBsYXRmb3JtIiwiUGxhdGZvcm1SZWYiLCJpbml0cyIsImNyZWF0ZVBsYXRmb3JtRmFjdG9yeSIsInBhcmVudFBsYXRmb3JtRmFjdG9yeSIsImRlc2MiLCJleHRyYVByb3ZpZGVycyIsInBsYXRmb3JtIiwiZ2V0UGxhdGZvcm0iLCJpbmplY3RlZFByb3ZpZGVycyIsImFzc2VydFBsYXRmb3JtIiwicmVxdWlyZWRUb2tlbiIsImRlc3Ryb3lQbGF0Zm9ybSIsIl9pbmplY3RvciIsIl9tb2R1bGVzIiwiX2Rlc3Ryb3lMaXN0ZW5lcnMiLCJib290c3RyYXBNb2R1bGVGYWN0b3J5Iiwibmdab25lIiwibmdab25lT3B0aW9uIiwiZXh0cmEiLCJuZ1pvbmVFdmVudENvYWxlc2NpbmciLCJuZ1pvbmVSdW5Db2FsZXNjaW5nIiwiZ2V0Tmdab25lIiwibmdab25lSW5qZWN0b3IiLCJtb2R1bGVSZWYiLCJleGNlcHRpb25IYW5kbGVyIiwiX2NhbGxBbmRSZXBvcnRUb0Vycm9ySGFuZGxlciIsImluaXRTdGF0dXMiLCJfbW9kdWxlRG9Cb290c3RyYXAiLCJib290c3RyYXBNb2R1bGUiLCJvcHRpb25zUmVkdWNlciIsIkFwcGxpY2F0aW9uUmVmIiwibmdEb0Jvb3RzdHJhcCIsIl96b25lIiwiX2V4Y2VwdGlvbkhhbmRsZXIiLCJfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiX2luaXRTdGF0dXMiLCJfYm9vdHN0cmFwTGlzdGVuZXJzIiwiX3ZpZXdzIiwiX3J1bm5pbmdUaWNrIiwiX3N0YWJsZSIsImNvbXBvbmVudFR5cGVzIiwiX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24iLCJ0aWNrIiwiaXNDdXJyZW50bHlTdGFibGUiLCJzdGFibGVTdWIiLCJ1bnN0YWJsZVN1YiIsImFzc2VydEluQW5ndWxhclpvbmUiLCJjb21wb25lbnRPckZhY3RvcnkiLCJzZWxlY3Rvck9yTm9kZSIsImNvbXBSZWYiLCJ0ZXN0YWJpbGl0eVJlZ2lzdHJ5IiwiX2xvYWRDb21wb25lbnQiLCJhdHRhY2hWaWV3Iiwidmlld0NvdW50IiwiX2Rldk1vZGUiLCJfcnVuTW9kZUxvY2tlZCIsImlzRGV2TW9kZSIsImVuYWJsZVByb2RNb2RlIiwiZ2V0TW9kdWxlRmFjdG9yeSIsIm5vTW9kdWxlRXJyb3IiLCJnZXROZ01vZHVsZUJ5SWQiLCJDaGFuZ2VEZXRlY3RvclJlZiIsImluamVjdENoYW5nZURldGVjdG9yUmVmIiwiaXNQaXBlIiwiaG9zdENvbXBvbmVudFZpZXciLCJjcmVhdGVWaWV3UmVmIiwiVmlld1JlZiIsIkVtYmVkZGVkVmlld1JlZiIsIkRlYnVnRXZlbnRMaXN0ZW5lciIsImFzTmF0aXZlRWxlbWVudHMiLCJkZWJ1Z0VscyIsIkRlYnVnTm9kZSIsIm5hdGl2ZU5vZGUiLCJEZWJ1Z0VsZW1lbnQiLCJyZWZlcmVuY2VzIiwiZGlzY292ZXJMb2NhbFJlZnMiLCJnZXRMb2NhbFJlZnMiLCJwcm92aWRlclRva2VucyIsImdldEluamVjdGlvblRva2VucyIsIk5vZGVQcm90b3R5cGUiLCJkZXNjcmlwdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJpc1ByaW1pdGl2ZVZhbHVlIiwiY29weURvbVByb3BlcnRpZXMiLCJiaW5kaW5nSW5kZXhlcyIsIm1ldGFkYXRhUGFydHMiLCJjb2xsZWN0UHJvcGVydHlCaW5kaW5ncyIsImxvd2VyY2FzZVROb2RlQXR0cnMiLCJlQXR0cnMiLCJsb3dlcmNhc2VOYW1lIiwiYmFzZVZhbCIsImNoaWxkTm9kZXMiLCJnZXREZWJ1Z05vZGUiLCJxdWVyeUFsbCIsIl9xdWVyeUFsbCIsInF1ZXJ5QWxsTm9kZXMiLCJ0cmlnZ2VyRXZlbnRIYW5kbGVyIiwiZXZlbnRPYmoiLCJpbnZva2VkTGlzdGVuZXJzIiwiZXZlbnRMaXN0ZW5lcnMiLCJ1bndyYXBwZWRMaXN0ZW5lciIsInBhcmVudEVsZW1lbnQiLCJlbGVtZW50c09ubHkiLCJfcXVlcnlOb2RlQ2hpbGRyZW4iLCJfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMiLCJyb290TmF0aXZlTm9kZSIsImdldE5hdGl2ZUJ5VE5vZGVPck51bGwiLCJfYWRkUXVlcnlNYXRjaCIsIm5vZGVPckNvbnRhaW5lciIsIl9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyIiwiaGVhZCIsIm5leHRMVmlldyIsIm5leHRUTm9kZSIsImNoaWxkVmlldyIsImRlYnVnTm9kZSIsImdldERlYnVnTm9kZVIyIiwiX25hdGl2ZU5vZGUiLCJEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5Iiwic3VwcG9ydHMiLCJ0cmFja0J5Rm4iLCJEZWZhdWx0SXRlcmFibGVEaWZmZXIiLCJ0cmFja0J5SWRlbnRpdHkiLCJfbGlua2VkUmVjb3JkcyIsIl91bmxpbmtlZFJlY29yZHMiLCJfcHJldmlvdXNJdEhlYWQiLCJfaXRIZWFkIiwiX2l0VGFpbCIsIl9hZGRpdGlvbnNIZWFkIiwiX2FkZGl0aW9uc1RhaWwiLCJfbW92ZXNIZWFkIiwiX21vdmVzVGFpbCIsIl9yZW1vdmFsc0hlYWQiLCJfcmVtb3ZhbHNUYWlsIiwiX2lkZW50aXR5Q2hhbmdlc0hlYWQiLCJfaWRlbnRpdHlDaGFuZ2VzVGFpbCIsIl90cmFja0J5Rm4iLCJmb3JFYWNoSXRlbSIsImZvckVhY2hPcGVyYXRpb24iLCJuZXh0SXQiLCJuZXh0UmVtb3ZlIiwiYWRkUmVtb3ZlT2Zmc2V0IiwibW92ZU9mZnNldHMiLCJjdXJyZW50SW5kZXgiLCJnZXRQcmV2aW91c0luZGV4IiwiYWRqUHJldmlvdXNJbmRleCIsIl9uZXh0UmVtb3ZlZCIsInByZXZpb3VzSW5kZXgiLCJsb2NhbE1vdmVQcmV2aW91c0luZGV4IiwibG9jYWxDdXJyZW50SW5kZXgiLCJvZmZzZXQiLCJmb3JFYWNoUHJldmlvdXNJdGVtIiwiX25leHRQcmV2aW91cyIsImZvckVhY2hBZGRlZEl0ZW0iLCJfbmV4dEFkZGVkIiwiZm9yRWFjaE1vdmVkSXRlbSIsIl9uZXh0TW92ZWQiLCJmb3JFYWNoUmVtb3ZlZEl0ZW0iLCJmb3JFYWNoSWRlbnRpdHlDaGFuZ2UiLCJfbmV4dElkZW50aXR5Q2hhbmdlIiwiY29sbGVjdGlvbiIsImNoZWNrIiwiX3Jlc2V0IiwiaXRlbVRyYWNrQnkiLCJtYXlCZURpcnR5IiwidHJhY2tCeUlkIiwiX3ZlcmlmeVJlaW5zZXJ0aW9uIiwiX2FkZElkZW50aXR5Q2hhbmdlIiwiX21pc21hdGNoIiwiaXRlcmF0ZUxpc3RMaWtlIiwiX3RydW5jYXRlIiwiaXNEaXJ0eSIsInByZXZpb3VzUmVjb3JkIiwiX3ByZXYiLCJfcmVtb3ZlIiwiX3JlaW5zZXJ0QWZ0ZXIiLCJfbW92ZUFmdGVyIiwiX2FkZEFmdGVyIiwiSXRlcmFibGVDaGFuZ2VSZWNvcmRfIiwicmVpbnNlcnRSZWNvcmQiLCJfYWRkVG9Nb3ZlcyIsIm5leHRSZWNvcmQiLCJfYWRkVG9SZW1vdmFscyIsIl91bmxpbmsiLCJwcmV2UmVjb3JkIiwiX3ByZXZSZW1vdmVkIiwiX2luc2VydEFmdGVyIiwiX0R1cGxpY2F0ZU1hcCIsInB1dCIsInRvSW5kZXgiLCJfcHJldkR1cCIsIl9uZXh0RHVwIiwiX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0IiwiX2hlYWQiLCJfdGFpbCIsImF0T3JBZnRlckluZGV4IiwiZHVwbGljYXRlcyIsInJlY29yZExpc3QiLCJtb3ZlT2Zmc2V0IiwiRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSIsIkRlZmF1bHRLZXlWYWx1ZURpZmZlciIsIl9yZWNvcmRzIiwiX21hcEhlYWQiLCJfYXBwZW5kQWZ0ZXIiLCJfcHJldmlvdXNNYXBIZWFkIiwiX2NoYW5nZXNIZWFkIiwiX2NoYW5nZXNUYWlsIiwiZm9yRWFjaENoYW5nZWRJdGVtIiwiX25leHRDaGFuZ2VkIiwiX2ZvckVhY2giLCJfbWF5YmVBZGRUb0NoYW5nZXMiLCJfZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkiLCJfaW5zZXJ0QmVmb3JlT3JBcHBlbmQiLCJLZXlWYWx1ZUNoYW5nZVJlY29yZF8iLCJfYWRkVG9BZGRpdGlvbnMiLCJfYWRkVG9DaGFuZ2VzIiwiZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkiLCJJdGVyYWJsZURpZmZlcnMiLCJjb3BpZWQiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSIsIktleVZhbHVlRGlmZmVycyIsImt2Iiwia2V5VmFsRGlmZiIsIml0ZXJhYmxlRGlmZiIsImRlZmF1bHRJdGVyYWJsZURpZmZlcnMiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIiwicGxhdGZvcm1Db3JlIiwiQXBwbGljYXRpb25Nb2R1bGUiLCJjb21waWxlRGlyZWN0aXZlRGVjbGFyYXRpb24iLCJjb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24iLCJnZXRGYWN0b3J5S2luZCIsImNvbXBpbGVGYWN0b3J5RGVjbGFyYXRpb24iLCJjb21waWxlSW5qZWN0YWJsZURlY2xhcmF0aW9uIiwiY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24iLCJjb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbiIsImNvbXBpbGVQaXBlRGVjbGFyYXRpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwidG9TdHJpbmdUYWciLCJTaWduYWxpbmdTZXJ2ZXIiLCJTaWduYWxTZXJ2ZXJWMiIsImdldFN1YkRvbWFpbiIsImNoZWNrS2V5Rm9yRGlkIl0sInNvdXJjZVJvb3QiOiIifQ==