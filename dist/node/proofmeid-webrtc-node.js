/*! For license information please see proofmeid-webrtc-node.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ProofmeId=t():e.ProofmeId=t()}(global,(function(){return(()=>{"use strict";var e={280:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return o(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,s=t.isStopped,a=t._isComplete;n?e.error(i):(s||a)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(3032).Subject);t.AsyncSubject=i},5240:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(3032).Subject);t.BehaviorSubject=i},3104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r,o=n(6332),i=n(5726),s=n(2098),a=n(3005);(r=t.NotificationKind||(t.NotificationKind={})).NEXT="N",r.ERROR="E",r.COMPLETE="C";var u=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return c(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,s=r.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(s):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return a.isFunction(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,a="N"===t?i.of(n):"E"===t?s.throwError((function(){return r})):"C"===t?o.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+t);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function c(e,t){var n,r,o,i=e,s=i.kind,a=i.value,u=i.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,a):"E"===s?null===(r=t.error)||void 0===r||r.call(t,u):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=u,t.observeNotification=c},7286:(e,t)=>{function n(e,t,n){return{kind:e,value:t,error:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=n("C",void 0,void 0),t.errorNotification=function(e){return n("E",void 0,e)},t.nextNotification=function(e){return n("N",e,void 0)},t.createNotification=n},2419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=n(5125),o=n(3865),i=n(2801),s=n(2872),a=n(3280),u=n(3005),c=n(6110),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,s=this,a=(i=e)&&i instanceof r.Subscriber||function(e){return e&&u.isFunction(e.next)&&u.isFunction(e.error)&&u.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new r.SafeSubscriber(e,t,n);return c.errorContext((function(){var e=s,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?s._subscribe(a):s._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,o){var i=new r.SafeSubscriber({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:a.config.Promise)&&void 0!==t?t:Promise}t.Observable=l},3274:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var i=n(3032),s=n(7950),a=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=s.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return o(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(o.push(t),!i&&o.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),a=0,u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}},t}(i.Subject);t.ReplaySubject=a},218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=n(7950),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.dateTimestampProvider.now,e}();t.Scheduler=o},3032:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var s=n(2419),a=n(3865),u=n(2642),c=n(6967),l=n(6110),f=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var o=t.observers.slice();try{for(var s=i(o),a=s.next();!a.done;a=s.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;l.errorContext((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,r=t.isStopped,o=t.observers;return n||r?a.EMPTY_SUBSCRIPTION:(o.push(e),new a.Subscription((function(){return c.arrRemove(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(s.Observable);t.Subject=f;var d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:a.EMPTY_SUBSCRIPTION},t}(f);t.AnonymousSubject=d},5125:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var i=n(3005),s=n(3865),a=n(3280),u=n(7968),c=n(2576),l=n(7286),f=n(4590),d=n(6110),p=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,s.isSubscription(n)&&n.add(r)):r.destination=t.EMPTY_OBSERVER,r}return o(n,e),n.create=function(e,t,n){return new b(e,t,n)},n.prototype.next=function(e){this.isStopped?m(l.nextNotification(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?m(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(s.Subscription);t.Subscriber=p;var h=Function.prototype.bind;function v(e,t){return h.call(e,t)}var y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){g(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){g(e)}else g(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){g(e)}},e}(),b=function(e){function t(t,n,r){var o,s,u=e.call(this)||this;return i.isFunction(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&a.config.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&v(t.next,s),error:t.error&&v(t.error,s),complete:t.complete&&v(t.complete,s)}):o=t,u.destination=new y(o),u}return o(t,e),t}(p);function g(e){a.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):u.reportUnhandledError(e)}function m(e,t){var n=a.config.onStoppedNotification;n&&f.timeoutProvider.setTimeout((function(){return n(e,t)}))}t.SafeSubscriber=b,t.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}},3865:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var s=n(3005),a=n(4805),u=n(6967),c=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,u,c;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=r(f),p=d.next();!p.done;p=d.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this);var h=this.initialTeardown;if(s.isFunction(h))try{h()}catch(e){c=e instanceof a.UnsubscriptionError?e.errors:[e]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var y=r(v),b=y.next();!b.done;b=y.next()){var g=b.value;try{l(g)}catch(e){c=null!=c?c:[],e instanceof a.UnsubscriptionError?c=i(i([],o(c)),o(e.errors)):c.push(e)}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(n)throw n.error}}}if(c)throw new a.UnsubscriptionError(c)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u.arrRemove(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&u.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){s.isFunction(e)?e():e.unsubscribe()}t.Subscription=c,t.EMPTY_SUBSCRIPTION=c.EMPTY,t.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&s.isFunction(e.remove)&&s.isFunction(e.add)&&s.isFunction(e.unsubscribe)}},3280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9518:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var i=n(2419),s=n(3865),a=n(8739),u=n(4990),c=n(4935),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,c.hasLift(t)&&(r.lift=t.lift),r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new s.Subscription;var n=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=s.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return a.refCount()(this)},t}(i.Observable);t.ConnectableObservable=l},9258:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=n(2419),o=n(1203),i=n(5432),s=n(4781),a=n(1914),u=n(2433),c=n(641),l=n(4990),f=n(7738);function d(e,t,n){return void 0===n&&(n=s.identity),function(r){p(t,(function(){for(var o=e.length,s=new Array(o),a=o,u=o,c=function(o){p(t,(function(){var c=i.from(e[o],t),f=!1;c.subscribe(l.createOperatorSubscriber(r,(function(e){s[o]=e,f||(f=!0,u--),u||r.next(n(s.slice()))}),(function(){--a||r.complete()})))}),r)},f=0;f<o;f++)c(f)}),r)}}function p(e,t,n){e?f.executeSchedule(n,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),l=u.popResultSelector(e),f=o.argsArgArrayOrObject(e),p=f.args,h=f.keys;if(0===p.length)return i.from([],n);var v=new r.Observable(d(p,n,h?function(e){return c.createObject(h,e)}:s.identity));return l?v.pipe(a.mapOneOrManyArgs(l)):v},t.combineLatestInit=d},2239:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=n(4413),o=n(2433),i=n(5432);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.concatAll()(i.from(e,o.popScheduler(e)))}},6332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=n(2419);t.EMPTY=new r.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new r.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},5432:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=n(5207),o=n(7103);t.from=function(e,t){return t?r.scheduled(e,t):o.innerFrom(e)}},851:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=n(2419);t.fromSubscribable=function(e){return new r.Observable((function(t){return e.subscribe(t)}))}},7103:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof s?s(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var a=n(3909),u=n(6018),c=n(2419),l=n(9500),f=n(9595),d=n(9906),p=n(2743),h=n(7823),v=n(3005),y=n(7968),b=n(2801);function g(e){return new c.Observable((function(t){var n=e[b.observable]();if(v.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function m(e){return new c.Observable((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function _(e){return new c.Observable((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y.reportUnhandledError)}))}function w(e){return new c.Observable((function(t){var n,r;try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}))}function M(e){return new c.Observable((function(t){(function(e,t){var n,s,a,u;return r(this,void 0,void 0,(function(){var r,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=i(e),o.label=1;case 1:return[4,n.next()];case 2:if((s=o.sent()).done)return[3,4];if(r=s.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=o.sent(),a={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),s&&!s.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function C(e){return M(h.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return g(e);if(a.isArrayLike(e))return m(e);if(u.isPromise(e))return _(e);if(f.isAsyncIterable(e))return M(e);if(p.isIterable(e))return w(e);if(h.isReadableStreamLike(e))return C(e)}throw d.createInvalidObservableTypeError(e)},t.fromInteropObservable=g,t.fromArrayLike=m,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=M,t.fromReadableStreamLike=C},8990:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=n(2445),o=n(7513);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},5726:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=n(2433),o=n(5432);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.popScheduler(e);return o.from(e,n)}},5182:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=n(2419),o=n(7103),i=n(5498),s=n(4990);function a(e){return function(t){for(var n=[],r=function(r){n.push(o.innerFrom(e[r]).subscribe(s.createOperatorSubscriber(t,(function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)}))))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new r.Observable(a(e))},t.raceInit=a},2098:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=n(2419),o=n(3005);t.throwError=function(e,t){var n=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},7513:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=n(2419),o=n(2445),i=n(9016),s=n(1677);t.timer=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.async);var a=-1;return null!=t&&(i.isScheduler(t)?n=t:a=t),new r.Observable((function(t){var r=s.isValidDate(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=a?this.schedule(void 0,a):t.complete())}),r)}))}},7654:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(2419),s=n(7103),a=n(5498),u=n(6332),c=n(4990),l=n(2433);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.popResultSelector(e),f=a.argsOrArgArray(e);return f.length?new i.Observable((function(e){var t=f.map((function(){return[]})),i=f.map((function(){return!1}));e.add((function(){t=i=null}));for(var a=function(a){s.innerFrom(f[a]).subscribe(c.createOperatorSubscriber(e,(function(s){if(t[a].push(s),t.every((function(e){return e.length}))){var u=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,o([],r(u))):u),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[a]=!0,!t[a].length&&e.complete()})))},u=0;!e.closed&&u<f.length;u++)a(u);return function(){t=i=null}})):u.EMPTY}},4990:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var i=n(5125);t.createOperatorSubscriber=function(e,t,n,r,o){return new s(e,t,n,r,o)};var s=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return o(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(i.Subscriber);t.OperatorSubscriber=s},6474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=n(4935),o=n(7103),i=n(4990);t.audit=function(e){return r.operate((function(t,n){var r=!1,s=null,a=null,u=!1,c=function(){if(null==a||a.unsubscribe(),a=null,r){r=!1;var e=s;s=null,n.next(e)}u&&n.complete()},l=function(){a=null,u&&n.complete()};t.subscribe(i.createOperatorSubscriber(n,(function(t){r=!0,s=t,a||o.innerFrom(e(t)).subscribe(a=i.createOperatorSubscriber(n,c,l))}),(function(){u=!0,(!r||!a||a.closed)&&n.complete()})))}))}},5382:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=n(2445),o=n(6474),i=n(7513);t.auditTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.audit((function(){return i.timer(e,t)}))}},9715:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=n(4935),o=n(2576),i=n(4990);t.buffer=function(e){return r.operate((function(t,n){var r=[];return t.subscribe(i.createOperatorSubscriber(n,(function(e){return r.push(e)}),(function(){n.next(r),n.complete()}))),e.subscribe(i.createOperatorSubscriber(n,(function(){var e=r;r=[],n.next(e)}),o.noop)),function(){r=null}}))}},3814:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=n(4935),i=n(4990),s=n(6967);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,o.operate((function(n,o){var a=[],u=0;n.subscribe(i.createOperatorSubscriber(o,(function(n){var i,c,l,f,d=null;u++%t==0&&a.push([]);try{for(var p=r(a),h=p.next();!h.done;h=p.next())(b=h.value).push(n),e<=b.length&&(d=null!=d?d:[]).push(b)}catch(e){i={error:e}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(i)throw i.error}}if(d)try{for(var v=r(d),y=v.next();!y.done;y=v.next()){var b=y.value;s.arrRemove(a,b),o.next(b)}}catch(e){l={error:e}}finally{try{y&&!y.done&&(f=v.return)&&f.call(v)}finally{if(l)throw l.error}}}),(function(){var e,t;try{for(var n=r(a),i=n.next();!i.done;i=n.next()){var s=i.value;o.next(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){a=null})))}))}},7211:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=n(3865),i=n(4935),s=n(4990),a=n(6967),u=n(2445),c=n(2433),l=n(7738);t.bufferTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(t=c.popScheduler(f))&&void 0!==t?t:u.asyncScheduler,h=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return i.operate((function(t,n){var i=[],u=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),a.arrRemove(i,e),n.next(t),u&&f()},f=function(){if(i){var t=new o.Subscription;n.add(t);var r={buffer:[],subs:t};i.push(r),l.executeSchedule(t,p,(function(){return c(r)}),e)}};null!==h&&h>=0?l.executeSchedule(n,p,f,h,!0):u=!0,f();var d=s.createOperatorSubscriber(n,(function(e){var t,n,o=i.slice();try{for(var s=r(o),a=s.next();!a.done;a=s.next()){var u=a.value,l=u.buffer;l.push(e),v<=l.length&&c(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}),(function(){for(;null==i?void 0:i.length;)n.next(i.shift().buffer);null==d||d.unsubscribe(),n.complete(),n.unsubscribe()}),void 0,(function(){return i=null}));t.subscribe(d)}))}},4943:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=n(3865),i=n(4935),s=n(7103),a=n(4990),u=n(2576),c=n(6967);t.bufferToggle=function(e,t){return i.operate((function(n,i){var l=[];s.innerFrom(e).subscribe(a.createOperatorSubscriber(i,(function(e){var n=[];l.push(n);var r=new o.Subscription;r.add(s.innerFrom(t(e)).subscribe(a.createOperatorSubscriber(i,(function(){c.arrRemove(l,n),i.next(n),r.unsubscribe()}),u.noop)))}),u.noop)),n.subscribe(a.createOperatorSubscriber(i,(function(e){var t,n;try{for(var o=r(l),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),(function(){for(;l.length>0;)i.next(l.shift());i.complete()})))}))}},1240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=n(4935),o=n(2576),i=n(4990),s=n(7103);t.bufferWhen=function(e){return r.operate((function(t,n){var r=null,a=null,u=function(){null==a||a.unsubscribe();var t=r;r=[],t&&n.next(t),s.innerFrom(e()).subscribe(a=i.createOperatorSubscriber(n,u,o.noop))};u(),t.subscribe(i.createOperatorSubscriber(n,(function(e){return null==r?void 0:r.push(e)}),(function(){r&&n.next(r),n.complete()}),void 0,(function(){return r=a=null})))}))}},9548:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=n(7103),o=n(4990),i=n(4935);t.catchError=function e(t){return i.operate((function(n,i){var s,a=null,u=!1;a=n.subscribe(o.createOperatorSubscriber(i,void 0,void 0,(function(o){s=r.innerFrom(t(o,e(t)(n))),a?(a.unsubscribe(),a=null,s.subscribe(i)):u=!0}))),u&&(a.unsubscribe(),a=null,s.subscribe(i))}))}},2128:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=n(3240);t.combineAll=r.combineLatestAll},6318:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=n(9258),s=n(4935),a=n(5498),u=n(1914),c=n(2872),l=n(2433);t.combineLatest=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var f=l.popResultSelector(t);return f?c.pipe(e.apply(void 0,o([],r(t))),u.mapOneOrManyArgs(f)):s.operate((function(e,n){i.combineLatestInit(o([e],r(a.argsOrArgArray(t))))(n)}))}},3240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=n(9258),o=n(2069);t.combineLatestAll=function(e){return o.joinAllInternals(r.combineLatest,e)}},5024:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=n(6318);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],r(e)))}},4919:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=n(4935),s=n(4413),a=n(2433),u=n(5432);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e);return i.operate((function(t,i){s.concatAll()(u.from(o([t],r(e)),n)).subscribe(i)}))}},4413:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=n(3783);t.concatAll=function(){return r.mergeAll(1)}},7498:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=n(9475),o=n(3005);t.concatMap=function(e,t){return o.isFunction(t)?r.mergeMap(e,t,1):r.mergeMap(e,1)}},6109:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=n(7498),o=n(3005);t.concatMapTo=function(e,t){return o.isFunction(t)?r.concatMap((function(){return e}),t):r.concatMap((function(){return e}))}},9664:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=n(4919);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],r(e)))}},1995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=n(3032),o=n(5432),i=n(4935),s=n(851),a={connector:function(){return new r.Subject}};t.connect=function(e,t){void 0===t&&(t=a);var n=t.connector;return i.operate((function(t,r){var i=n();o.from(e(s.fromSubscribable(i))).subscribe(r),r.add(t.subscribe(i))}))}},993:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=n(122);t.count=function(e){return r.reduce((function(t,n,r){return!e||e(n,r)?t+1:t}),0)}},496:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=n(4935),o=n(2576),i=n(4990),s=n(7103);t.debounce=function(e){return r.operate((function(t,n){var r=!1,a=null,u=null,c=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=a;a=null,n.next(e)}};t.subscribe(i.createOperatorSubscriber(n,(function(t){null==u||u.unsubscribe(),r=!0,a=t,u=i.createOperatorSubscriber(n,c,o.noop),s.innerFrom(e(t)).subscribe(u)}),(function(){c(),n.complete()}),void 0,(function(){a=u=null})))}))}},1385:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=n(2445),o=n(4935),i=n(4990);t.debounceTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.operate((function(n,r){var o=null,s=null,a=null,u=function(){if(o){o.unsubscribe(),o=null;var e=s;s=null,r.next(e)}};function c(){var n=a+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);u()}n.subscribe(i.createOperatorSubscriber(r,(function(n){s=n,a=t.now(),o||(o=t.schedule(c,e),r.add(o))}),(function(){u(),r.complete()}),void 0,(function(){s=o=null})))}))}},1658:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=n(4935),o=n(4990);t.defaultIfEmpty=function(e){return r.operate((function(t,n){var r=!1;t.subscribe(o.createOperatorSubscriber(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}},5841:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=n(2445),o=n(8798),i=n(7513);t.delay=function(e,t){void 0===t&&(t=r.asyncScheduler);var n=i.timer(e,t);return o.delayWhen((function(){return n}))}},8798:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=n(2239),o=n(4783),i=n(9438),s=n(8313),a=n(9475);t.delayWhen=function e(t,n){return n?function(s){return r.concat(n.pipe(o.take(1),i.ignoreElements()),s.pipe(e(t)))}:a.mergeMap((function(e,n){return t(e,n).pipe(o.take(1),s.mapTo(e))}))}},1080:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=n(3104),o=n(4935),i=n(4990);t.dematerialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){return r.observeNotification(e,t)})))}))}},3054:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=n(4935),o=n(4990),i=n(2576);t.distinct=function(e,t){return r.operate((function(n,r){var s=new Set;n.subscribe(o.createOperatorSubscriber(r,(function(t){var n=e?e(t):t;s.has(n)||(s.add(n),r.next(t))}))),null==t||t.subscribe(o.createOperatorSubscriber(r,(function(){return s.clear()}),i.noop))}))}},8737:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=n(4781),o=n(4935),i=n(4990);function s(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=r.identity),e=null!=e?e:s,o.operate((function(n,r){var o,s=!0;n.subscribe(i.createOperatorSubscriber(r,(function(n){var i=t(n);!s&&e(o,i)||(s=!1,o=i,r.next(n))})))}))}},7957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=n(8737);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},8633:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=n(2351),o=n(9154),i=n(1779),s=n(1658),a=n(4783);t.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(u){return u.pipe(o.filter((function(t,n){return n===e})),a.take(1),n?s.defaultIfEmpty(t):i.throwIfEmpty((function(){return new r.ArgumentOutOfRangeError})))}}},911:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=n(2239),s=n(5726);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,s.of.apply(void 0,o([],r(e))))}}},2096:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=n(4935),o=n(4990);t.every=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))}},67:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=n(5337);t.exhaust=r.exhaustAll},5337:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=n(4935),o=n(7103),i=n(4990);t.exhaustAll=function(){return r.operate((function(e,t){var n=!1,r=null;e.subscribe(i.createOperatorSubscriber(t,(function(e){r||(r=o.innerFrom(e).subscribe(i.createOperatorSubscriber(t,void 0,(function(){r=null,n&&t.complete()}))))}),(function(){n=!0,!r&&t.complete()})))}))}},5635:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=n(7291),o=n(7103),i=n(4935),s=n(4990);t.exhaustMap=function e(t,n){return n?function(i){return i.pipe(e((function(e,i){return o.innerFrom(t(e,i)).pipe(r.map((function(t,r){return n(e,t,i,r)})))})))}:i.operate((function(e,n){var r=0,i=null,a=!1;e.subscribe(s.createOperatorSubscriber(n,(function(e){i||(i=s.createOperatorSubscriber(n,void 0,(function(){i=null,a&&n.complete()})),o.innerFrom(t(e,r++)).subscribe(i))}),(function(){a=!0,!i&&n.complete()})))}))}},9745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=n(4935),o=n(7788);t.expand=function(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,r.operate((function(r,i){return o.mergeInternals(r,i,e,t,void 0,!0,n)}))}},9154:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=n(4935),o=n(4990);t.filter=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},9283:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=n(4935);t.finalize=function(e){return r.operate((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}},7119:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=n(4935),o=n(4990);function i(e,t,n){var r="index"===n;return function(n,i){var s=0;n.subscribe(o.createOperatorSubscriber(i,(function(o){var a=s++;e.call(t,o,a,n)&&(i.next(r?a:o),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}t.find=function(e,t){return r.operate(i(e,t,"value"))},t.createFind=i},4706:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=n(4935),o=n(7119);t.findIndex=function(e,t){return r.operate(o.createFind(e,t,"index"))}},9219:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=n(9474),o=n(9154),i=n(4783),s=n(1658),a=n(1779),u=n(4781);t.first=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,n){return e(t,n,c)})):u.identity,i.take(1),n?s.defaultIfEmpty(t):a.throwIfEmpty((function(){return new r.EmptyError})))}}},1788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=n(9475);t.flatMap=r.mergeMap},9749:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=n(2419),o=n(7103),i=n(3032),s=n(4935),a=n(4990);t.groupBy=function(e,t,n,u){return s.operate((function(s,c){var l;t&&"function"!=typeof t?(n=t.duration,l=t.element,u=t.connector):l=t;var f=new Map,d=function(e){f.forEach(e),e(c)},p=function(e){return d((function(t){return t.error(e)}))},h=0,v=!1,y=new a.OperatorSubscriber(c,(function(t){try{var s=e(t),d=f.get(s);if(!d){f.set(s,d=u?u():new i.Subject);var b=(m=s,_=d,(w=new r.Observable((function(e){h++;var t=_.subscribe(e);return function(){t.unsubscribe(),0==--h&&v&&y.unsubscribe()}}))).key=m,w);if(c.next(b),n){var g=a.createOperatorSubscriber(d,(function(){d.complete(),null==g||g.unsubscribe()}),void 0,void 0,(function(){return f.delete(s)}));y.add(o.innerFrom(n(b)).subscribe(g))}}d.next(l?l(t):t)}catch(e){p(e)}var m,_,w}),(function(){return d((function(e){return e.complete()}))}),p,(function(){return f.clear()}),(function(){return v=!0,0===h}));s.subscribe(y)}))}},9438:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=n(4935),o=n(4990),i=n(2576);t.ignoreElements=function(){return r.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))}))}},8515:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=n(4935),o=n(4990);t.isEmpty=function(){return r.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}},2069:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=n(4781),o=n(1914),i=n(2872),s=n(9475),a=n(2);t.joinAllInternals=function(e,t){return i.pipe(a.toArray(),s.mergeMap((function(t){return e(t)})),t?o.mapOneOrManyArgs(t):r.identity)}},2435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=n(9474),o=n(9154),i=n(1980),s=n(1779),a=n(1658),u=n(4781);t.last=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,n){return e(t,n,c)})):u.identity,i.takeLast(1),n?a.defaultIfEmpty(t):s.throwIfEmpty((function(){return new r.EmptyError})))}}},7291:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=n(4935),o=n(4990);t.map=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){r.next(e.call(t,n,i++))})))}))}},8313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=n(7291);t.mapTo=function(e){return r.map((function(){return e}))}},3209:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=n(3104),o=n(4935),i=n(4990);t.materialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){t.next(r.Notification.createNext(e))}),(function(){t.next(r.Notification.createComplete()),t.complete()}),(function(e){t.next(r.Notification.createError(e)),t.complete()})))}))}},2620:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=n(122),o=n(3005);t.max=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},9821:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=n(4935),s=n(5498),a=n(3783),u=n(2433),c=n(5432);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),l=u.popNumber(e,1/0);return e=s.argsOrArgArray(e),i.operate((function(t,i){a.mergeAll(l)(c.from(o([t],r(e)),n)).subscribe(i)}))}},3783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=n(9475),o=n(4781);t.mergeAll=function(e){return void 0===e&&(e=1/0),r.mergeMap(o.identity,e)}},7788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=n(7103),o=n(7738),i=n(4990);t.mergeInternals=function(e,t,n,s,a,u,c,l){var f=[],d=0,p=0,h=!1,v=function(){!h||f.length||d||t.complete()},y=function(e){return d<s?b(e):f.push(e)},b=function(e){u&&t.next(e),d++;var l=!1;r.innerFrom(n(e,p++)).subscribe(i.createOperatorSubscriber(t,(function(e){null==a||a(e),u?y(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{d--;for(var e=function(){var e=f.shift();c?o.executeSchedule(t,c,(function(){return b(e)})):b(e)};f.length&&d<s;)e();v()}catch(e){t.error(e)}})))};return e.subscribe(i.createOperatorSubscriber(t,y,(function(){h=!0,v()}))),function(){null==l||l()}}},9475:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=n(7291),o=n(7103),i=n(4935),s=n(7788),a=n(3005);t.mergeMap=function e(t,n,u){return void 0===u&&(u=1/0),a.isFunction(n)?e((function(e,i){return r.map((function(t,r){return n(e,t,i,r)}))(o.innerFrom(t(e,i)))}),u):("number"==typeof n&&(u=n),i.operate((function(e,n){return s.mergeInternals(e,n,t,u)})))}},1211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=n(9475),o=n(3005);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=1/0),o.isFunction(t)?r.mergeMap((function(){return e}),t,n):("number"==typeof t&&(n=t),r.mergeMap((function(){return e}),n))}},7267:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=n(4935),o=n(7788);t.mergeScan=function(e,t,n){return void 0===n&&(n=1/0),r.operate((function(r,i){var s=t;return o.mergeInternals(r,i,(function(t,n){return e(s,t,n)}),n,(function(e){s=e}),!1,void 0,(function(){return s=null}))}))}},9303:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=n(9821);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],r(e)))}},9714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=n(122),o=n(3005);t.min=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},3848:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=n(9518),o=n(3005),i=n(1995);t.multicast=function(e,t){var n=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:n}):function(e){return new r.ConnectableObservable(e,n)}}},1184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=n(7738),o=n(4935),i=n(4990);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate((function(n,o){n.subscribe(i.createOperatorSubscriber(o,(function(n){return r.executeSchedule(o,e,(function(){return o.next(n)}),t)}),(function(){return r.executeSchedule(o,e,(function(){return o.complete()}),t)}),(function(n){return r.executeSchedule(o,e,(function(){return o.error(n)}),t)})))}))}},6223:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var i=n(4935),s=n(7103),a=n(5498),u=n(4990),c=n(2576);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.argsOrArgArray(e);return i.operate((function(e,t){var i=o([e],r(n)),a=function(){if(!t.closed)if(i.length>0){var e=void 0;try{e=s.innerFrom(i.shift())}catch(e){return void a()}var n=u.createOperatorSubscriber(t,void 0,c.noop,c.noop);e.subscribe(n),n.add(a)}else t.complete()};a()}))}},2731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=n(4935),o=n(4990);t.pairwise=function(){return r.operate((function(e,t){var n,r=!1;e.subscribe(o.createOperatorSubscriber(t,(function(e){var o=n;n=e,r&&t.next([o,e]),r=!0})))}))}},5649:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(8634),o=n(9154);t.partition=function(e,t){return function(n){return[o.filter(e,t)(n),o.filter(r.not(e,t))(n)]}}},4691:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=n(7291);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return r.map((function(t){for(var r=t,o=0;o<n;o++){var i=null==r?void 0:r[e[o]];if(void 0===i)return;r=i}return r}))}},4474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=n(3032),o=n(3848),i=n(1995);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new r.Subject)(e)}}},52:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=n(5240),o=n(9518);t.publishBehavior=function(e){return function(t){var n=new r.BehaviorSubject(e);return new o.ConnectableObservable(t,(function(){return n}))}}},2110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=n(280),o=n(9518);t.publishLast=function(){return function(e){var t=new r.AsyncSubject;return new o.ConnectableObservable(e,(function(){return t}))}}},9864:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=n(3274),o=n(3848),i=n(3005);t.publishReplay=function(e,t,n,s){n&&!i.isFunction(n)&&(s=n);var a=i.isFunction(n)?n:void 0;return function(n){return o.multicast(new r.ReplaySubject(e,t,s),a)(n)}}},9764:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=n(5498),s=n(179);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.raceWith.apply(void 0,o([],r(i.argsOrArgArray(e))))}},179:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=n(5182),s=n(4935),a=n(4781);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s.operate((function(t,n){i.raceInit(o([t],r(e)))(n)})):a.identity}},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=n(8345),o=n(4935);t.reduce=function(e,t){return o.operate(r.scanInternals(e,t,arguments.length>=2,!1,!0))}},8739:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=n(4935),o=n(4990);t.refCount=function(){return r.operate((function(e,t){var n=null;e._refCount++;var r=o.createOperatorSubscriber(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}},5313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=n(6332),o=n(4935),i=n(4990),s=n(7103),a=n(7513);t.repeat=function(e){var t,n,u=1/0;return null!=e&&("object"==typeof e?(t=e.count,u=void 0===t?1/0:t,n=e.delay):u=e),u<=0?function(){return r.EMPTY}:o.operate((function(e,t){var r,o=0,c=function(){if(null==r||r.unsubscribe(),r=null,null!=n){var e="number"==typeof n?a.timer(n):s.innerFrom(n(o)),u=i.createOperatorSubscriber(t,(function(){u.unsubscribe(),l()}));e.subscribe(u)}else l()},l=function(){var n=!1;r=e.subscribe(i.createOperatorSubscriber(t,void 0,(function(){++o<u?r?c():n=!0:t.complete()}))),n&&c()};l()}))}},4068:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=n(3032),o=n(4935),i=n(4990);t.repeatWhen=function(e){return o.operate((function(t,n){var o,s,a=!1,u=!1,c=!1,l=function(){return c&&u&&(n.complete(),!0)},f=function(){c=!1,o=t.subscribe(i.createOperatorSubscriber(n,void 0,(function(){c=!0,!l()&&(s||(s=new r.Subject,e(s).subscribe(i.createOperatorSubscriber(n,(function(){o?f():a=!0}),(function(){u=!0,l()})))),s).next()}))),a&&(o.unsubscribe(),o=null,a=!1,f())};f()}))}},64:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=n(4935),o=n(4990),i=n(4781),s=n(7513),a=n(7103);t.retry=function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,u=void 0===n?1/0:n,c=t.delay,l=t.resetOnSuccess,f=void 0!==l&&l;return u<=0?i.identity:r.operate((function(e,t){var n,r=0,i=function(){var l=!1;n=e.subscribe(o.createOperatorSubscriber(t,(function(e){f&&(r=0),t.next(e)}),void 0,(function(e){if(r++<u){var f=function(){n?(n.unsubscribe(),n=null,i()):l=!0};if(null!=c){var d="number"==typeof c?s.timer(c):a.innerFrom(c(e,r)),p=o.createOperatorSubscriber(t,(function(){p.unsubscribe(),f()}),(function(){t.complete()}));d.subscribe(p)}else f()}else t.error(e)}))),l&&(n.unsubscribe(),n=null,i())};i()}))}},1188:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=n(3032),o=n(4935),i=n(4990);t.retryWhen=function(e){return o.operate((function(t,n){var o,s,a=!1,u=function(){o=t.subscribe(i.createOperatorSubscriber(n,void 0,void 0,(function(t){s||(s=new r.Subject,e(s).subscribe(i.createOperatorSubscriber(n,(function(){return o?u():a=!0})))),s&&s.next(t)}))),a&&(o.unsubscribe(),o=null,a=!1,u())};u()}))}},4193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=n(4935),o=n(2576),i=n(4990);t.sample=function(e){return r.operate((function(t,n){var r=!1,s=null;t.subscribe(i.createOperatorSubscriber(n,(function(e){r=!0,s=e}))),e.subscribe(i.createOperatorSubscriber(n,(function(){if(r){r=!1;var e=s;s=null,n.next(e)}}),o.noop))}))}},6170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=n(2445),o=n(4193),i=n(8990);t.sampleTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.sample(i.interval(e,t))}},5876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=n(4935),o=n(8345);t.scan=function(e,t){return r.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},8345:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=n(4990);t.scanInternals=function(e,t,n,o,i){return function(s,a){var u=n,c=t,l=0;s.subscribe(r.createOperatorSubscriber(a,(function(t){var n=l++;c=u?e(c,t,n):(u=!0,t),o&&a.next(c)}),i&&function(){u&&a.next(c),a.complete()}))}}},1791:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=n(4935),o=n(4990);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),r.operate((function(n,r){var i={buffer:[],complete:!1},s={buffer:[],complete:!1},a=function(e){r.next(e),r.complete()},u=function(e,n){var i=o.createOperatorSubscriber(r,(function(r){var o=n.buffer,i=n.complete;0===o.length?i?a(!1):e.buffer.push(r):!t(r,o.shift())&&a(!1)}),(function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&a(0===r.length),null==i||i.unsubscribe()}));return i};n.subscribe(u(i,s)),e.subscribe(u(s,i))}))}},5137:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=n(5432),s=n(4783),a=n(3032),u=n(5125),c=n(4935);function l(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return!0===t?(e(),null):!1===t?null:t.apply(void 0,o([],r(n))).pipe(s.take(1)).subscribe((function(){return e()}))}t.share=function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new a.Subject}:t,r=e.resetOnError,o=void 0===r||r,s=e.resetOnComplete,f=void 0===s||s,d=e.resetOnRefCountZero,p=void 0===d||d;return function(e){var t=null,r=null,s=null,a=0,d=!1,h=!1,v=function(){null==r||r.unsubscribe(),r=null},y=function(){v(),t=s=null,d=h=!1},b=function(){var e=t;y(),null==e||e.unsubscribe()};return c.operate((function(e,c){a++,h||d||v();var g=s=null!=s?s:n();c.add((function(){0!=--a||h||d||(r=l(b,p))})),g.subscribe(c),t||(t=new u.SafeSubscriber({next:function(e){return g.next(e)},error:function(e){h=!0,v(),r=l(y,o,e),g.error(e)},complete:function(){d=!0,v(),r=l(y,f),g.complete()}}),i.from(e).subscribe(t))}))(e)}}},1348:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=n(3274),o=n(5137);t.shareReplay=function(e,t,n){var i,s,a,u=!1;return e&&"object"==typeof e?(a=null!==(i=e.bufferSize)&&void 0!==i?i:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,u=!!e.refCount,n=e.scheduler):a=null!=e?e:1/0,o.share({connector:function(){return new r.ReplaySubject(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},8242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(9474),o=n(6156),i=n(8598),s=n(4935),a=n(4990);t.single=function(e){return s.operate((function(t,n){var s,u=!1,c=!1,l=0;t.subscribe(a.createOperatorSubscriber(n,(function(r){c=!0,e&&!e(r,l++,t)||(u&&n.error(new o.SequenceError("Too many matching values")),u=!0,s=r)}),(function(){u?(n.next(s),n.complete()):n.error(c?new i.NotFoundError("No matching values"):new r.EmptyError)})))}))}},3169:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=n(9154);t.skip=function(e){return r.filter((function(t,n){return e<=n}))}},2454:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=n(4781),o=n(4935),i=n(4990);t.skipLast=function(e){return e<=0?r.identity:o.operate((function(t,n){var r=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(n,(function(t){var i=o++;if(i<e)r[i]=t;else{var s=i%e,a=r[s];r[s]=t,n.next(a)}}))),function(){r=null}}))}},6931:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=n(4935),o=n(4990),i=n(7103),s=n(2576);t.skipUntil=function(e){return r.operate((function(t,n){var r=!1,a=o.createOperatorSubscriber(n,(function(){null==a||a.unsubscribe(),r=!0}),s.noop);i.innerFrom(e).subscribe(a),t.subscribe(o.createOperatorSubscriber(n,(function(e){return r&&n.next(e)})))}))}},7913:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=n(4935),o=n(4990);t.skipWhile=function(e){return r.operate((function(t,n){var r=!1,i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){return(r||(r=!e(t,i++)))&&n.next(t)})))}))}},9234:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=n(2239),o=n(2433),i=n(4935);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.popScheduler(e);return i.operate((function(t,o){(n?r.concat(e,t,n):r.concat(e,t)).subscribe(o)}))}},276:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=n(4935);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.operate((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}},9253:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=n(8518),o=n(4781);t.switchAll=function(){return r.switchMap(o.identity)}},8518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=n(7103),o=n(4935),i=n(4990);t.switchMap=function(e,t){return o.operate((function(n,o){var s=null,a=0,u=!1,c=function(){return u&&!s&&o.complete()};n.subscribe(i.createOperatorSubscriber(o,(function(n){null==s||s.unsubscribe();var u=0,l=a++;r.innerFrom(e(n,l)).subscribe(s=i.createOperatorSubscriber(o,(function(e){return o.next(t?t(n,e,l,u++):e)}),(function(){s=null,c()})))}),(function(){u=!0,c()})))}))}},1173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=n(8518),o=n(3005);t.switchMapTo=function(e,t){return o.isFunction(t)?r.switchMap((function(){return e}),t):r.switchMap((function(){return e}))}},3855:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=n(8518),o=n(4935);t.switchScan=function(e,t){return o.operate((function(n,o){var i=t;return r.switchMap((function(t,n){return e(i,t,n)}),(function(e,t){return i=t,t}))(n).subscribe(o),function(){i=null}}))}},4783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=n(6332),o=n(4935),i=n(4990);t.take=function(e){return e<=0?function(){return r.EMPTY}:o.operate((function(t,n){var r=0;t.subscribe(i.createOperatorSubscriber(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},1980:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=n(6332),i=n(4935),s=n(4990);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate((function(t,n){var o=[];t.subscribe(s.createOperatorSubscriber(n,(function(t){o.push(t),e<o.length&&o.shift()}),(function(){var e,t;try{for(var i=r(o),s=i.next();!s.done;s=i.next()){var a=s.value;n.next(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){o=null})))}))}},9845:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=n(4935),o=n(4990),i=n(7103),s=n(2576);t.takeUntil=function(e){return r.operate((function(t,n){i.innerFrom(e).subscribe(o.createOperatorSubscriber(n,(function(){return n.complete()}),s.noop)),!n.closed&&t.subscribe(n)}))}},6060:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=n(4935),o=n(4990);t.takeWhile=function(e,t){return void 0===t&&(t=!1),r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}},1138:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=n(3005),o=n(4935),i=n(4990),s=n(4781);t.tap=function(e,t,n){var a=r.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return a?o.operate((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(i.createOperatorSubscriber(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):s.identity}},7306:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.defaultThrottleConfig=void 0;var r=n(4935),o=n(4990),i=n(7103);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,n){return void 0===n&&(n=t.defaultThrottleConfig),r.operate((function(t,r){var s=n.leading,a=n.trailing,u=!1,c=null,l=null,f=!1,d=function(){null==l||l.unsubscribe(),l=null,a&&(v(),f&&r.complete())},p=function(){l=null,f&&r.complete()},h=function(t){return l=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(r,d,p))},v=function(){if(u){u=!1;var e=c;c=null,r.next(e),!f&&h(e)}};t.subscribe(o.createOperatorSubscriber(r,(function(e){u=!0,c=e,(!l||l.closed)&&(s?v():h(e))}),(function(){f=!0,(!(a&&u&&l)||l.closed)&&r.complete()})))}))}},8968:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=n(2445),o=n(7306),i=n(7513);t.throttleTime=function(e,t,n){void 0===t&&(t=r.asyncScheduler),void 0===n&&(n=o.defaultThrottleConfig);var s=i.timer(e,t);return o.throttle((function(){return s}),n)}},1779:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=n(9474),o=n(4935),i=n(4990);function s(){return new r.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=s),o.operate((function(t,n){var r=!1;t.subscribe(i.createOperatorSubscriber(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}},8005:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=n(2445),o=n(4935),i=n(4990);t.timeInterval=function(e){return void 0===e&&(e=r.asyncScheduler),o.operate((function(t,n){var r=e.now();t.subscribe(i.createOperatorSubscriber(n,(function(t){var o=e.now(),i=o-r;r=o,n.next(new s(t,i))})))}))};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s},4173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=n(2445),o=n(1677),i=n(4935),s=n(7103),a=n(7029),u=n(4990),c=n(7738);function l(e){throw new t.TimeoutError(e)}t.TimeoutError=a.createErrorClass((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}})),t.timeout=function(e,t){var n=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,a=n.first,f=n.each,d=n.with,p=void 0===d?l:d,h=n.scheduler,v=void 0===h?null!=t?t:r.asyncScheduler:h,y=n.meta,b=void 0===y?null:y;if(null==a&&null==f)throw new TypeError("No timeout provided.");return i.operate((function(e,t){var n,r,o=null,i=0,l=function(e){r=c.executeSchedule(t,v,(function(){try{n.unsubscribe(),s.innerFrom(p({meta:b,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(u.createOperatorSubscriber(t,(function(e){null==r||r.unsubscribe(),i++,t.next(o=e),f>0&&l(f)}),void 0,void 0,(function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null}))),l(null!=a?"number"==typeof a?a:+a-v.now():f)}))}},7223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=n(2445),o=n(1677),i=n(4173);t.timeoutWith=function(e,t,n){var s,a,u;if(n=null!=n?n:r.async,o.isValidDate(e)?s=e:"number"==typeof e&&(a=e),!t)throw new TypeError("No observable provided to switch to");if(u=function(){return t},null==s&&null==a)throw new TypeError("No timeout provided.");return i.timeout({first:s,each:a,scheduler:n,with:u})}},8975:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=n(7950),o=n(7291);t.timestamp=function(e){return void 0===e&&(e=r.dateTimestampProvider),o.map((function(t){return{value:t,timestamp:e.now()}}))}},2:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=n(122),o=n(4935),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate((function(e,t){r.reduce(i,[])(e).subscribe(t)}))}},2826:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=n(3032),o=n(4935),i=n(4990),s=n(2576);t.window=function(e){return o.operate((function(t,n){var o=new r.Subject;n.next(o.asObservable());var a=function(e){o.error(e),n.error(e)};return t.subscribe(i.createOperatorSubscriber(n,(function(e){return null==o?void 0:o.next(e)}),(function(){o.complete(),n.complete()}),a)),e.subscribe(i.createOperatorSubscriber(n,(function(){o.complete(),n.next(o=new r.Subject)}),s.noop,a)),function(){null==o||o.unsubscribe(),o=null}}))}},7526:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=n(3032),i=n(4935),s=n(4990);t.windowCount=function(e,t){void 0===t&&(t=0);var n=t>0?t:e;return i.operate((function(t,i){var a=[new o.Subject],u=0;i.next(a[0].asObservable()),t.subscribe(s.createOperatorSubscriber(i,(function(t){var s,c;try{for(var l=r(a),f=l.next();!f.done;f=l.next())f.value.next(t)}catch(e){s={error:e}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}var d=u-e+1;if(d>=0&&d%n==0&&a.shift().complete(),++u%n==0){var p=new o.Subject;a.push(p),i.next(p.asObservable())}}),(function(){for(;a.length>0;)a.shift().complete();i.complete()}),(function(e){for(;a.length>0;)a.shift().error(e);i.error(e)}),(function(){a=null})))}))}},8294:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=n(3032),o=n(2445),i=n(3865),s=n(4935),a=n(4990),u=n(6967),c=n(2433),l=n(7738);t.windowTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(t=c.popScheduler(f))&&void 0!==t?t:o.asyncScheduler,h=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return s.operate((function(t,n){var o=[],s=!1,c=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),u.arrRemove(o,e),s&&f()},f=function(){if(o){var t=new i.Subscription;n.add(t);var s=new r.Subject,a={window:s,subs:t,seen:0};o.push(a),n.next(s.asObservable()),l.executeSchedule(t,p,(function(){return c(a)}),e)}};null!==h&&h>=0?l.executeSchedule(n,p,f,h,!0):s=!0,f();var d=function(e){return o.slice().forEach(e)},y=function(e){d((function(t){var n=t.window;return e(n)})),e(n),n.unsubscribe()};return t.subscribe(a.createOperatorSubscriber(n,(function(e){d((function(t){t.window.next(e),v<=++t.seen&&c(t)}))}),(function(){return y((function(e){return e.complete()}))}),(function(e){return y((function(t){return t.error(e)}))}))),function(){o=null}}))}},1883:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=n(3032),i=n(3865),s=n(4935),a=n(7103),u=n(4990),c=n(2576),l=n(6967);t.windowToggle=function(e,t){return s.operate((function(n,s){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);s.error(e)};a.innerFrom(e).subscribe(u.createOperatorSubscriber(s,(function(e){var n=new o.Subject;f.push(n);var r,p=new i.Subscription;try{r=a.innerFrom(t(e))}catch(e){return void d(e)}s.next(n.asObservable()),p.add(r.subscribe(u.createOperatorSubscriber(s,(function(){l.arrRemove(f,n),n.complete(),p.unsubscribe()}),c.noop,d)))}),c.noop)),n.subscribe(u.createOperatorSubscriber(s,(function(e){var t,n,o=f.slice();try{for(var i=r(o),s=i.next();!s.done;s=i.next())s.value.next(e)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),(function(){for(;0<f.length;)f.shift().complete();s.complete()}),d,(function(){for(;0<f.length;)f.shift().unsubscribe()})))}))}},4309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=n(3032),o=n(4935),i=n(4990),s=n(7103);t.windowWhen=function(e){return o.operate((function(t,n){var o,a,u=function(e){o.error(e),n.error(e)},c=function(){var t;null==a||a.unsubscribe(),null==o||o.complete(),o=new r.Subject,n.next(o.asObservable());try{t=s.innerFrom(e())}catch(e){return void u(e)}t.subscribe(a=i.createOperatorSubscriber(n,c,c,u))};c(),t.subscribe(i.createOperatorSubscriber(n,(function(e){return o.next(e)}),(function(){o.complete(),n.complete()}),u,(function(){null==a||a.unsubscribe(),o=null})))}))}},3041:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=n(4935),s=n(4990),a=n(7103),u=n(4781),c=n(2576),l=n(2433);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.popResultSelector(e);return i.operate((function(t,i){for(var l=e.length,f=new Array(l),d=e.map((function(){return!1})),p=!1,h=function(t){a.innerFrom(e[t]).subscribe(s.createOperatorSubscriber(i,(function(e){f[t]=e,p||d[t]||(d[t]=!0,(p=d.every(u.identity))&&(d=null))}),c.noop))},v=0;v<l;v++)h(v);t.subscribe(s.createOperatorSubscriber(i,(function(e){if(p){var t=o([e],r(f));i.next(n?n.apply(void 0,o([],r(t))):t)}})))}))}},4400:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(7654),s=n(4935);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.operate((function(t,n){i.zip.apply(void 0,o([t],r(e))).subscribe(n)}))}},8593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=n(7654),o=n(2069);t.zipAll=function(e){return o.joinAllInternals(r.zip,e)}},8096:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=n(4400);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],r(e)))}},7631:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=n(2419);t.scheduleArray=function(e,t){return new r.Observable((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}},8489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=n(2419),o=n(7738);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable((function(n){o.executeSchedule(n,t,(function(){var r=e[Symbol.asyncIterator]();o.executeSchedule(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}},1297:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=n(2419),o=n(3725),i=n(3005),s=n(7738);t.scheduleIterable=function(e,t){return new r.Observable((function(n){var r;return s.executeSchedule(n,t,(function(){r=e[o.iterator](),s.executeSchedule(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return i.isFunction(null==r?void 0:r.return)&&r.return()}}))}},4001:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=n(7103),o=n(1184),i=n(276);t.scheduleObservable=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},5143:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=n(7103),o=n(1184),i=n(276);t.schedulePromise=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},3676:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=n(8489),o=n(7823);t.scheduleReadableStreamLike=function(e,t){return r.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},5207:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=n(4001),o=n(5143),i=n(7631),s=n(1297),a=n(8489),u=n(9500),c=n(6018),l=n(3909),f=n(2743),d=n(9595),p=n(9906),h=n(7823),v=n(3676);t.scheduled=function(e,t){if(null!=e){if(u.isInteropObservable(e))return r.scheduleObservable(e,t);if(l.isArrayLike(e))return i.scheduleArray(e,t);if(c.isPromise(e))return o.schedulePromise(e,t);if(d.isAsyncIterable(e))return a.scheduleAsyncIterable(e,t);if(f.isIterable(e))return s.scheduleIterable(e,t);if(h.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw p.createInvalidObservableTypeError(e)}},1986:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var i=function(e){function t(t,n){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(3865).Subscription);t.Action=i},9702:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var i=n(1986),s=n(8203),a=n(6967),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;s.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i.Action);t.AsyncAction=u},3643:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var i=n(218),s=function(e){function t(t,n){void 0===n&&(n=i.Scheduler.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return o(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);t.AsyncScheduler=s},2445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=n(9702),o=n(3643);t.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler},7950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},8203:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=t.intervalProvider.delegate;return((null==i?void 0:i.setInterval)||setInterval).apply(void 0,r([],n(e)))},clearInterval:function(e){var n=t.intervalProvider.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},4590:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=t.timeoutProvider.delegate;return((null==i?void 0:i.setTimeout)||setTimeout).apply(void 0,r([],n(e)))},clearTimeout:function(e){var n=t.timeoutProvider.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},3725:(e,t)=>{function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=n,t.iterator=n()},2801:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2351:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=n(7029);t.ArgumentOutOfRangeError=r.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},9474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=n(7029);t.EmptyError=r.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},8598:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=n(7029);t.NotFoundError=r.createErrorClass((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},2642:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=n(7029);t.ObjectUnsubscribedError=r.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},6156:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=n(7029);t.SequenceError=r.createErrorClass((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},4805:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=n(7029);t.UnsubscriptionError=r.createErrorClass((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},2433:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=n(3005),o=n(9016);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return r.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof i(e)?e.pop():t}},1203:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var n=Array.isArray,r=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&r(a)===o){var s=i(t);return{args:s.map((function(e){return t[e]})),keys:s}}}var a;return{args:e,keys:null}}},5498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var n=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}},6967:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}},7029:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},641:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}},6110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=n(3280),o=null;t.errorContext=function(e){if(r.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,s=n.error;if(o=null,i)throw s}}else e()},t.captureError=function(e){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},7738:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}},4781:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},3909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},9595:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=n(3005);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&r.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},1677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},3005:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},9500:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=n(2801),o=n(3005);t.isInteropObservable=function(e){return o.isFunction(e[r.observable])}},2743:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=n(3725),o=n(3005);t.isIterable=function(e){return o.isFunction(null==e?void 0:e[r.iterator])}},6018:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=n(3005);t.isPromise=function(e){return r.isFunction(null==e?void 0:e.then)}},7823:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(c,l):f(s[0][2],n)}catch(e){f(s[0][3],e)}var n}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var s=n(3005);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,o(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,o(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,o(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t.isReadableStreamLike=function(e){return s.isFunction(null==e?void 0:e.getReader)}},9016:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=n(3005);t.isScheduler=function(e){return e&&r.isFunction(e.schedule)}},4935:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=n(3005);function o(e){return r.isFunction(null==e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},1914:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=n(7291),s=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map((function(t){return function(e,t){return s(t)?e.apply(void 0,o([],r(t))):e(t)}(e,t)}))}},2576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},8634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(n,r){return!e.call(t,n,r)}}},2872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=n(4781);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},7968:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=n(3280),o=n(4590);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout((function(){var t=r.config.onUnhandledError;if(!t)throw e;t(e)}))}},9906:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},4857:(e,t,n)=>{t.BN=void 0;n(6474),n(5382),n(9715),n(3814),n(7211),n(4943),n(1240),n(9548),n(2128),n(3240),n(6318),n(5024),n(4919),n(4413),n(7498),n(6109),n(9664),n(1995),n(993),n(496),n(1385),n(1658),n(5841),n(8798),n(1080),n(3054),n(8737),n(7957),n(8633),n(911),n(2096),n(67),n(5337),n(5635),n(9745),n(9154),n(9283),n(7119),n(4706),n(9219),n(9749),n(9438),n(8515),n(2435),n(7291),n(8313),n(3209),n(2620),n(9821),n(3783),n(1788),n(9475),n(1211),n(7267),n(9303),n(9714),n(3848),n(1184),n(6223),n(2731),n(5649),n(4691),n(4474),n(52),n(2110),n(9864),n(9764),n(179),n(122),n(5313),n(4068),n(64),n(1188),n(8739),n(4193),n(6170),n(5876),n(1791);var r=n(5137);Object.defineProperty(t,"BN",{enumerable:!0,get:function(){return r.share}});n(1348),n(8242),n(3169),n(2454),n(6931),n(7913),n(9234),n(276),n(9253),n(8518),n(1173),n(3855),n(4783),n(1980),n(9845),n(6060),n(1138),n(7306),n(8968),n(1779),n(8005),n(4173),n(7223),n(8975),n(2),n(2826),n(7526),n(8294),n(1883),n(4309),n(3041),n(4400),n(8593),n(8096)},9137:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EClaimType=void 0,(n=t.EClaimType||(t.EClaimType={}))[n.SIGNED_CONTENT=1e3]="SIGNED_CONTENT",n[n.COMPANY_INFO=2e3]="COMPANY_INFO",n[n.VALIDATORS=2001]="VALIDATORS",n[n.USERS=2002]="USERS"},8922:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EDIDAccessLevel=void 0,(n=t.EDIDAccessLevel||(t.EDIDAccessLevel={})).NONE="0",n.MANAGEMENT_KEY="1",n.ACTION_KEY="2",n.CLAIM_SIGNER_KEY="3",n.ENCRYPTION_KEY="4"},3244:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EMimeType=void 0,(n=t.EMimeType||(t.EMimeType={})).AAC="audio/aac",n.ABW="application/x-abiword",n.ARC="application/x-freearc",n.AVI="video/x-msvideo",n.AZW="application/vnd.amazon.ebook",n.BIN="application/octet-stream",n.BMP="image/bmp",n.BZ="application/x-bzip",n.BZ2="application/x-bzip2",n.CSH="application/x-csh",n.CSS="text/css",n.CSV="text/csv",n.DOC="application/msword",n.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",n.EOT="application/vnd.ms-fontobject",n.EPUB="application/epub+zip",n.GZ="application/gzip",n.GIF="image/gif",n.HTM="text/html",n.HTML="text/html",n.ICO="image/vnd.microsoft.icon",n.ICS="text/calendar",n.JAR="application/java-archive",n.JPEG=".jpg",n.JS="text/javascript",n.JSON="application/json",n.JSONLD="application/ld+json",n.MID=".midi",n.MJS="text/javascript",n.MP3="audio/mpeg",n.MPEG="video/mpeg",n.MPKG="application/vnd.apple.installer+xml",n.ODP="application/vnd.oasis.opendocument.presentation",n.ODS="application/vnd.oasis.opendocument.spreadsheet",n.ODT="application/vnd.oasis.opendocument.text",n.OGA="audio/ogg",n.OGV="video/ogg",n.OGX="application/ogg",n.OPUS="audio/opus",n.OTF="font/otf",n.PNG="image/png",n.PDF="application/pdf",n.PHP="application/php",n.PPT="application/vnd.ms-powerpoint",n.PPTX="application/vnd.openxmlformats-officedocument.presentationml.presentation",n.RAR="application/vnd.rar",n.RTF="application/rtf",n.SH="application/x-sh",n.SVG="image/svg+xml",n.SWF="application/x-shockwave-flash",n.TAR="application/x-tar",n.TIF="image/tiff",n.TIFF="image/tiff",n.TS="video/mp2t",n.TTF="font/ttf",n.TXT="text/plain",n.URI="text/x-uri",n.VSD="application/vnd.visio",n.WAV="audio/wav",n.WEBA="audio/webm",n.WEBM="video/webm",n.WEBP="image/webp",n.WOFF="font/woff",n.WOFF2="font/woff2",n.XHTML="application/xhtml+xml",n.XLS="application/vnd.ms-excel",n.XLSX="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n.XML="XML",n.XUL="application/vnd.mozilla.xul+xml",n.ZIP="application/zip",n.GP3="video/3gpp",n.G23="video/3gpp2",n.Z7="application/x-7z-compressed"},5018:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataPurpose=void 0,(n=t.EProofmeDataPurpose||(t.EProofmeDataPurpose={})).AGE_VERIFICATION="AGE_VERIFICATION",n.KYC_VERIFICATION="KYC_VERIFICATION",n.ACCESS_CONTROL="ACCESS_CONTROL",n.ONLINE_VERIFICATION="ONLINE_VERIFICATION",n.IDENTIFICATION="IDENTIFICATION"},345:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EProofmeDataStorage=void 0,(n=t.EProofmeDataStorage||(t.EProofmeDataStorage={})).DATABASE="DATABASE",n.CERTIFICATE="CERTIFICATE",n.NOT_STORED="NOT_STORED"},2178:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ESignatureTypes=void 0,(n=t.ESignatureTypes||(t.ESignatureTypes={})).ECDSA="ECDSA",n.RSA="RSA",n.HMAC="HMAC"},6498:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRTCConnectionConfig=t.validChannelId=void 0;const o=r(n(6113));t.validChannelId=function(e,t){return 1===t.filter((t=>t.uuid===e&&null===t.channel&&!0===t.host)).length},t.getRTCConnectionConfig=function(e,t,n,r){const i=`${Math.floor(Date.now()/1e3)+t}:${e}`;return{iceCandidatePoolSize:5,iceServers:[{urls:[r],credential:o.default.createHmac("sha1",n).update(i.toString()).digest("base64"),username:i}]}}},1015:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtilsProvider=void 0;const o=n(2254),i=n(5583);let s=class{proofmeUtils=new i.ProofmeUtils;async isValidCredentials(e,t,n,r,o,i){return this.proofmeUtils.isValidCredentials(e,t,n,r,o,i)}getSignature(e,t){return this.proofmeUtils.getSignature(e,t)}signCredentialObject(e,t){return this.proofmeUtils.signCredentialObject(e,t)}async isValidRequestedCredentials(e,t,n){return this.proofmeUtils.isValidRequestedCredentials(e,t,n)}generateChallenge(e,t,n,r){return this.proofmeUtils.generateChallenge(e,t,n,r)}};s=r([(0,o.Injectable)()],s),t.ProofmeUtilsProvider=s},5583:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtils=void 0;const o=r(n(8519)),i=n(8922),s=n(2178),a=n(1485);t.ProofmeUtils=class{async isValidCredentials(e,t,n,r,i,s){const a=new o.default(t),u=this.requestedCredentialsCorrect(e,n);if(!u.success)return u.credentials=e,u;const c=await this.checkCredentials(e,t,i,s);if(!c.valid)return c;for(const e of r)a.utils.isAddress(e)||(console.error(`Trusted party did ${e} is NOT a valid address and is removed.`),r=r.filter((t=>t!==e)));if(r.length>0){const t=[];let n=0,o=0;const i=[];for(const[s]of Object.entries(e.credentials))for(const[u,c]of Object.entries(e.credentials[s].credentials)){o++;const e=c.issuer.id.split(":")[2];let s=!1,l=null,f=null,d=!0;for(const o of r){const r=t.find((t=>t.issuerDidContractAddress===e&&t.did===o));let p=null;if(r?p=r.claim:(p=await this.getClaims(e,o,a),t.push({issuerDidContractAddress:e,did:o,claim:p})),p)if(d=!1,new Date(p.expirationDate)>new Date){const e=p.keys;f=e;const t=`${c.provider}_${u}`;if(!e.includes(t)){l=t;break}if(!l){n++,s=!0;break}}else i.push({credential:c,valid:!1,code:14,message:"Claim expired."})}d?i.push({credential:c,valid:!1,code:13,message:`No claims found to check. Checked dids ${r}`}):!l||s||i.push({credential:c,valid:!1,code:12,message:`Tried to validate attribute ${l} but provider was not allowed to issue. Allowed attributes: ${f.join(", ")}`})}return n===o?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential",requestedCheckResult:u}:{valid:!1,code:1,message:"Invalid credentials",invalidCredentials:i}}return{valid:!1,code:10,message:"No trusted parties to check."}}async checkCredentials(e,t,n,r){"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e);const i=new o.default(t),s=[];let u=0,c=0;const l=[];for(const[o]of Object.entries(e.credentials)){const f={credentials:{[o]:JSON.parse(JSON.stringify(e.credentials[o]))}};delete f.credentials[o].proof.signature;const d=i.eth.accounts.recover(JSON.stringify(f),e.credentials[o].proof.signature);if(this.userCredentialSignatureWrong(e.credentials[o].proof.holder,d))for(const[,f]of Object.entries(e.credentials[o].credentials)){if(c++,!f.version){l.push({credential:f,code:8,message:"Incorrect credential version. Renew your credentials"});continue}const d=new Date(f.expirationDate),p=new Date;if(p>d){l.push({credential:f,code:7,message:`Your credential expired on ${d}`});continue}const h=new Date(e.credentials[o].proof.nonce);if(this.calculateMinutesDifference(p,h)>5&&n)l.push({credential:f,code:2,message:"Nonce too old"});else if(this.issuerCredentialSignatureWrong(f,i)){const n=f.proof.holder,c=f.issuer.id.split(":")[2];if(await this.didContractKeyWrong(i,t,a.claimHolderAbi,n,c,s)){const n=e.credentials[o].proof.holder,c=f.id.split(":")[2];await this.didContractKeyWrong(i,t,a.claimHolderAbi,n,c,s)?r&&void 0!==f.verified&&!0!==f.verified?l.push({credential:f,code:15,message:"Liveness check required but credential not verified"}):u++:l.push({credential:f,code:6,message:"User did incorrect"})}else l.push({credential:f,code:5,message:"Issuer did incorrect"})}else l.push({credential:f,code:4,message:"Issuer signature incorrect"})}else l.push({credential:e.credentials[o],code:3,message:"User signature incorrect"})}return c>0&&u===c?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential"}:{valid:!1,code:1,message:"Invalid credential",invalidCredentials:l}}userCredentialSignatureWrong(e,t){return e===t||(console.error(`User signature of credential ${e} does not match recoveredAddress ${t}`),!1)}issuerCredentialSignatureWrong(e,t){const n=e.proof.signature,r=e.proof.holder,o=JSON.parse(JSON.stringify(e));delete o.proof.signature;const i=t.eth.accounts.recover(JSON.stringify(o),n);return r===i||(console.error(`Issuer signature of credential ${r} does not match recoveredAddress ${i}`),!1)}async didContractKeyWrong(e,t,n,r,i,s){const a=s.find((e=>e.did==i&&e.holderKey===r));if(a)return a.result;{const a=[];if(i===r)return s.push({did:i,holderKey:r,result:!0}),!0;{const u=this.getSha3Key(r,e),c=new(new o.default(t).eth.Contract)(n,i);if(!this.knownAddressesContains(a,u,i)){const e=parseInt(await this.getKeyPurpose(c,u),10);if(0===e||e>3)return s.push({did:i,holderKey:r,result:!1}),!1;a.push({sha3Key:u,didAddress:i})}return s.push({did:i,holderKey:r,result:!0}),!0}}}knownAddressesContains(e,t,n){for(const r of e)if(r.sha3Key===t&&r.didContractAddress===n)return!0}getSha3Key(e,t){return t.utils.keccak256(e)}async getKeyPurpose(e,t){return null===e.options.address?Promise.resolve(null):await e.methods.getKeyPurpose(t).call()}calculateMinutesDifference(e,t){let n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}reOrderCredentialObject(e){for(const t of Object.keys(e.credentials)){const n=[];for(const r of Object.keys(e.credentials[t].credentials))n.push(r);n.sort();const r={};for(const o of n){const n=this.reOrderCredential(e.credentials[t].credentials[o]);r[o]=n}e.credentials[t].proof=this.reOrderCredentialProof(e.credentials[t].proof),e.credentials[t]={credentials:r,proof:e.credentials[t].proof}}return e}reOrderCredential(e){return this.sortObjectAlphabetically(e)}sortObjectAlphabetically(e){const t={},n=Object.keys(e);n.sort(((e,t)=>(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0));for(const r in n){const o=n[r];null===e[o]||"object"!=typeof e[o]||e[o]instanceof Array?t[o]=e[o]:t[o]=this.sortObjectAlphabetically(e[o])}return t}reOrderCredentialProof(e){return{holder:e.holder,nonce:e.nonce,signature:e.signature,type:e.type}}getSignature(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderObject(e),(new o.default).eth.accounts.sign(JSON.stringify(e),t).signature}reOrderObject(e){return this.sortObjectAlphabetically(e)}signCredentialObject(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=this.reOrderCredentialObject(e),(new o.default).eth.accounts.sign(JSON.stringify(e),t).signature}async getClaims(e,t,n){const r=new n.eth.Contract(a.claimHolderAbi,t),o=await r.methods.getClaimIdsByType(e).call();if(!(o.length>0))return Promise.resolve(null);try{const e=await r.methods.getClaim(o[o.length-1]).call(),t=JSON.parse(n.utils.toAscii(e.data));return Promise.resolve(t)}catch(e){return Promise.resolve(null)}}requestedCredentialsCorrect(e,t){const n={success:!0,missingKeys:[]};for(const r of t.credentials){let o=!1;if(t.minimumRequired&&(o=!!t.minimumRequired.data.find((e=>e===r.key))),r.required&&!o){Array.isArray(r.provider)||(r.provider=[r.provider]);let t=!1;for(const n of r.provider)e.credentials[n]&&e.credentials[n].credentials&&e.credentials[n].credentials[r.key]&&(t=!0);t||(n.success=!1,n.missingKeys.push(r))}}if(t.minimumRequired){const r=Object.keys(e.credentials),o=t.minimumRequired.data;let i=0;for(const t of r)for(const n of o)e.credentials[t]&&e.credentials[t].credentials&&e.credentials[t].credentials[n]&&i++;i<t.minimumRequired.amount&&(n.success=!1,n.missingMessage=`Check the minimumRequired array. Found ${i} items and required amount ${t.minimumRequired.amount}`)}return n}recoverAddressFromSignature(e,t){return(new o.default).eth.accounts.recover(e,t)}signRequestedCredentials(e,t,n){e.proof={holder:t,nonce:Date.now(),type:s.ESignatureTypes.ECDSA};const r=this.getSignature(e,n);return e.proof.signature=r,e}async isValidRequestedCredentials(e,t,n){if(e.proof){const r=JSON.parse(JSON.stringify(e));delete r.proof.signature;const s=this.recoverAddressFromSignature(JSON.stringify(r),e.proof.signature),a=new o.default(t),u=e.proof.holder,c=new a.eth.Contract(n,u),l=this.getSha3Key(s,a),f=await this.getKeyPurpose(c,l);return f===i.EDIDAccessLevel.MANAGEMENT_KEY||f===i.EDIDAccessLevel.ACTION_KEY}return console.error("Requested Credentials doesn't have any proof to check"),!1}privateKeyToPublicKey(e){return(new o.default).eth.accounts.privateKeyToAccount(e).address}generateChallenge(e,t,n,r){const i=new o.default,s=Math.floor(Date.now()/1e3).toString(),a=`${e}-${t}-${n}-${s}`;return{did:t,publicKey:e,endpoint:n,timestamp:s,challenge:a,signature:i.eth.accounts.sign(a,r).signature}}}},5456:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SignalServerV2=void 0;const r=n(1964),o=n(5828),i=n(367),s=n(6498),a=n(593);t.SignalServerV2=class{wsServer;wsRequest$=new r.Subject;startSignal(e){this.wsServer=new i.server({httpServer:e,autoAcceptConnections:!1}),this.wsServer.on("request",(async e=>{this.wsRequest$.next(e)}))}sendTo(e,t){e.sendUTF(JSON.stringify(t))}rejectConnection(e,t){t.reject(),console.error((new Date).toISOString()+" "+e),console.error((new Date).toISOString()+" Connection from remoteAddress "+t.remoteAddresses+" rejected.")}async setupP2PConnection(e,t,n,r,i,u,c,l,f,d,p){const h=e.accept(null,e.origin);if(console.log(`Library - Accepted ${e.origin} valid signed ${t}`),h.uuid=(0,o.v4)(),h.did=t?e.httpRequest.headers.did.toString():null,h.publicKey=t?e.httpRequest.headers.publickey.toString():null,h.authenticated=t,h.channel=n,this.setupWebsocketListeners(h),"http://validator"===e.origin&&t&&null===n||r&&null===n){h.host=!0,h.origin=e.origin;const t=(0,s.getRTCConnectionConfig)("host",i,c,u);console.log("Library - Host waiting for connection"),this.sendTo(h,{type:"host",success:!0,message:`Host initialised ${h.uuid}`,channelId:h.uuid,signalServer:l,..."http://validator"===e.origin&&{webRtcConnectionConfig:t}}),"http://validator"!==e.origin&&(h.webRtcClient=new a.WebRTCClientV2(t,f,h,d,p),await h.webRtcClient.setupPeerconnection(h.uuid))}else if(null!==n){const e=this.wsServer.connections.find((e=>e.uuid===n&&null===e.channel&&!0===e.host));if(e){e.channel=h.uuid,h.channel=e.uuid,console.log(`Library - Client connecting to ${n}`);const t=(0,s.getRTCConnectionConfig)("client",i,c,u);this.sendTo(h,{type:"client",success:!0,message:`Client initialised ${h.uuid}`,channelId:n,webRtcConnectionConfig:t}),"http://validator"!==e.origin&&e.webRtcClient.setClientChannel(h)}else h.close()}else console.error("Library - Not a client or host"),h.close();return h}setupWebsocketListeners(e){e.on("message",(async t=>{let n;try{"utf8Data"in t&&(n=JSON.parse(t.utf8Data))}catch(e){console.error("Library - Websocket connection invalid JSON",e),n={type:null}}const{type:r,offer:o,answer:i,candidate:s}=n;switch(r){case"offer":if(!e.host&&e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid&&!0===t.host));"http://validator"===t.origin?this.sendTo(t,{type:"offer",success:!0,message:"Client shared an offer",offer:o}):(await t.webRtcClient.setRemoteDescription(o),await t.webRtcClient.sendAnswer())}else e.close();break;case"answer":if(e.host&&e.channel&&"http://validator"===e.origin){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));this.sendTo(t,{type:"answer",success:!0,message:"Client shared an answer",answer:i})}else e.close();break;case"candidate":if(e.channel){const t=this.wsServer.connections.find((t=>t.channel===e.uuid));"http://validator"===t.origin||"http://validator"===e.origin?this.sendTo(t,{type:"candidate",success:!0,message:"Candidate shared",candidate:s}):t.webRtcClient.addCandidate(s)}else e.close()}})),e.on("close",((t,n)=>{console.log(`Library - ${(new Date).toISOString()} - Peer ${e.remoteAddress} disconnected, Reason ${t}, description ${n}`)}))}}},2582:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingServer=void 0;const s=i(n(5352)),a=n(5828),u=i(n(6113));t.SignalingServer=class{wsServer;rtcConnectionConfig;setRTCConnectionConfig(e){this.rtcConnectionConfig=e}getRTCConnectionConfig(e){if(this.rtcConnectionConfig.turnEnabled){const t=`${Math.floor(Date.now()/1e3)+this.rtcConnectionConfig.turnExpiration}:${e}`,n=u.createHmac("sha1",this.rtcConnectionConfig.turnSecret).update(t.toString()).digest("base64");return{iceCandidatePoolSize:5,iceServers:[{urls:[this.rtcConnectionConfig.turnUrl],credential:n,username:t}]}}if(this.rtcConnectionConfig.stunEnabled)return{iceServers:[{urls:[this.rtcConnectionConfig.stunUrl]}]}}startSignal(e){this.wsServer=new s.Server({server:e});const t=(e,t)=>{e.send(JSON.stringify(t))};this.wsServer.on("connection",(e=>{e.uuid=(0,a.v4)(),e.did=null,e.host=!1,e.authenticated=!1,e.connected=null,e.on("error",(e=>{})),e.on("message",(n=>{let r;try{r=JSON.parse(n)}catch(e){r={}}const{type:o,token:i,host:s,offer:u,answer:c,candidate:l}=r;switch(o){case"auth":i?(e.authenticated=!0,t(e,{type:"AUTH",success:!0,message:"Authentication successful"})):t(e,{type:"auth",success:!1,message:"Could not validate token"});break;case"host":e.host=!0,t(e,{type:"host",success:!0,message:"Host initialised "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")});break;case"ping":t(e,{type:"pong"});break;case"connect":{const n=[...this.wsServer.clients].filter((e=>e.uuid===s&&null===e.connected&&!0===e.host));1===n.length?(t(n[0],{type:"connected",success:!0,message:"Client connected "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")}),t(e,{type:"connected",success:!0,message:"Connected to "+s,webRtcConnectionConfig:this.getRTCConnectionConfig("client")}),e.connected=n[0].uuid,n[0].connected=e.uuid):t(e,{type:"connected",success:!1,message:"Could not connect to "+s});break}case"offer":if(null!=e.connected&&this.wsServer.clients.size>0){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"offer",success:!0,offer:u}),t(e,{type:"offer",success:!0,offer:u})):t(e,{type:"offer",success:!1,offer:u,message:"Connection not found."})}else t(e,{type:"offer",success:!1,offer:u,message:"Too soon..."});break;case"answer":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"answer",success:!0,answer:c}),t(e,{type:"answer",success:!0,answer:c})):t(e,{type:"answer",success:!1,answer:c,message:"Connection not found."})}else t(e,{type:"answer",success:!1,answer:c,message:"Too soon..."});break;case"candidate":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?t(n[0],{type:"candidate",success:!0,candidate:l}):t(e,{type:"candidate",success:!1,candidate:l,message:"Connection not found."})}else t(e,{type:"candidate",success:!1,candidate:l,message:"Too soon..."});break;case"leave":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));e.uuid=(0,a.v4)(),1===n.length?(t(n[0],{type:"leave",success:!0,message:"Connection left on receive leave"}),n[0].connected=null,t(e,{type:"leave",success:!0,message:"Connection left.",uuid:e.uuid})):t(e,{type:"leave",success:!1,message:"Connection not found.",uuid:e.uuid}),e.connected=null}else e.uuid=(0,a.v4)(),t(e,{type:"leave",success:!1,message:"Not connected to host/client.",uuid:e.uuid});break;default:t(e,{type:"error",message:"Command not found: "+o})}})),e.on("close",((e,n,r)=>{if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length&&(t(n[0],{type:"leave",success:!0,message:"Connection left on websocket close"}),n[0].connected=null),e.connected=null}})),e.send(JSON.stringify({type:"connect",message:"Well hello there, I am the Signaling Server",success:!0}))}))}}},1485:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.claimHolderAbi=void 0,t.claimHolderAbi=[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}]},3002:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Identity=void 0,t.Identity={abi:[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_str",type:"bytes"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getBytes",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_offset",type:"uint256"},{name:"_length",type:"uint256"}],name:"getString",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_claimType",type:"uint256[]"},{name:"_scheme",type:"uint256[]"},{name:"_issuer",type:"address[]"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"},{name:"_sigSizes",type:"uint256[]"},{name:"dataSizes",type:"uint256[]"},{name:"uriSizes",type:"uint256[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}],data:"60806040523480156200001157600080fd5b50604051620033333803806200333383398101806040528101908080518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919060200180518201929190602001805182019291906020018051820192919050505060008060008060008033604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209050806001600083600019166000191681526020019081526020016000206002018160001916905550600180600083600019166000191681526020019081526020016000206000018190555060018060008360001916600019168152602001908152602001600020600101819055506002600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550600180600083600019166000191681526020019081526020016000206000015482600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a450600093506000925060009150600090505b8d51811015620007ba578b818151811015156200020f57fe5b906020019060200201518e828151811015156200022857fe5b90602001906020020151604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401828152602001925050506040518091039020945060c0604051908101604052808f83815181101515620002a657fe5b9060200190602002015181526020018e83815181101515620002c457fe5b9060200190602002015181526020018d83815181101515620002e257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1681526020016200033b8d878c868151811015156200031c57fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003748c858b868151811015156200035557fe5b90602001906020020151620007ce640100000000026401000000009004565b8152602001620003ad8b868a868151811015156200038e57fe5b90602001906020020151620008da640100000000026401000000009004565b815250600460008760001916600019168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301908051906020019062000444929190620009ec565b50608082015181600401908051906020019062000463929190620009ec565b5060a08201518160050190805190602001906200048292919062000a73565b5090505087818151811015156200049557fe5b90602001906020020151840193508581815181101515620004b257fe5b90602001906020020151830192508681815181101515620004cf57fe5b906020019060200201518201915060046000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600087600019166000191681526020019081526020016000206000015486600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c5600460008a6000191660001916815260200190815260200160002060010154600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501604051808581526020018060200180602001806020018481038452878181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156200068b5780601f106200065f576101008083540402835291602001916200068b565b820191906000526020600020905b8154815290600101906020018083116200066d57829003601f168201915b5050848103835286818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007125780601f10620006e65761010080835404028352916020019162000712565b820191906000526020600020905b815481529060010190602001808311620006f457829003601f168201915b5050848103825285818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620007995780601f106200076d5761010080835404028352916020019162000799565b820191906000526020600020905b8154815290600101906020018083116200077b57829003601f168201915b505097505050505050505060405180910390a48080600101915050620001f6565b505050505050505050505050505062000b22565b606080600080846040519080825280601f01601f191660200182016040528015620008085781602001602082028038833980820191505090505b509250600091508590505b848601811015620008cd5786818151811015156200082d57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200088757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000813565b8293505050509392505050565b6060806060600080879350856040519080825280601f01601f191660200182016040528015620009195781602001602082028038833980820191505090505b509250600091508690505b858701811015620009de5783818151811015156200093e57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156200099857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505062000924565b829450505050509392505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000a2f57805160ff191683800117855562000a60565b8280016001018555821562000a60579182015b8281111562000a5f57825182559160200191906001019062000a42565b5b50905062000a6f919062000afa565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000ab657805160ff191683800117855562000ae7565b8280016001018555821562000ae7579182015b8281111562000ae657825182559160200191906001019062000ac9565b5b50905062000af6919062000afa565b5090565b62000b1f91905b8082111562000b1b57600081600090555060010162000b01565b5090565b90565b6128018062000b326000396000f3006080604052600436106100d0576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063032c1a8a146100d557806312aaac701461011a5780631d38124014610175578063262b54f5146101d25780634eee424a146102545780635d2cfd611461029d578063747442d314610393578063862642f5146103e45780639010f7261461042d578063b1a34e0d146104af578063b61d27f6146105f4578063c9100bcb1461069b578063d202158d1461085e578063df9319be146108b1575b600080fd5b3480156100e157600080fd5b5061010460048036038101908080356000191690602001909291905050506109a7565b6040518082815260200191505060405180910390f35b34801561012657600080fd5b5061014960048036038101908080356000191690602001909291905050506109cf565b604051808481526020018381526020018260001916600019168152602001935050505060405180910390f35b34801561018157600080fd5b506101b860048036038101908080356000191690602001909291908035906020019092919080359060200190929190505050610a3e565b604051808215151515815260200191505060405180910390f35b3480156101de57600080fd5b506101fd60048036038101908080359060200190929190505050610cf7565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610240578082015181840152602081019050610225565b505050509050019250505060405180910390f35b34801561026057600080fd5b506102836004803603810190808035600019169060200190929190505050610d66565b604051808215151515815260200191505060405180910390f35b3480156102a957600080fd5b50610318600480360381019080803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190803590602001909291905050506111e4565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561035857808201518184015260208101905061033d565b50505050905090810190601f1680156103855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561039f57600080fd5b506103ca600480360381019080803590602001909291908035151590602001909291905050506112eb565b604051808215151515815260200191505060405180910390f35b3480156103f057600080fd5b5061041360048036038101908080356000191690602001909291905050506117ff565b604051808215151515815260200191505060405180910390f35b34801561043957600080fd5b506104586004803603810190808035906020019092919050505061196a565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561049b578082015181840152602081019050610480565b505050509050019250505060405180910390f35b3480156104bb57600080fd5b506105d66004803603810190808035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506119d9565b60405180826000191660001916815260200191505060405180910390f35b34801561060057600080fd5b50610685600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611efe565b6040518082815260200191505060405180910390f35b3480156106a757600080fd5b506106ca60048036038101908080356000191690602001909291905050506121e0565b604051808781526020018681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015610750578082015181840152602081019050610735565b50505050905090810190601f16801561077d5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b838110156107b657808201518184015260208101905061079b565b50505050905090810190601f1680156107e35780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b8381101561081c578082015181840152602081019050610801565b50505050905090810190601f1680156108495780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b34801561086a57600080fd5b506108976004803603810190808035600019169060200190929190803590602001909291905050506124aa565b604051808215151515815260200191505060405180910390f35b3480156108bd57600080fd5b5061092c600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919080359060200190929190505050612513565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561096c578082015181840152602081019050610951565b50505050905090810190601f1680156109995780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000600160008360001916600019168152602001908152602001600020600001549050919050565b60008060006001600085600019166000191681526020019081526020016000206000015460016000866000191660001916815260200190815260200160002060010154600160008760001916600019168152602001908152602001600020600201549250925092509193909250565b60008360001916600160008660001916600019168152602001908152602001600020600201546000191614151515610ade576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f4b657920616c726561647920657869737473000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610c0957610b6e33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610c08576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8360016000866000191660001916815260200190815260200160002060020181600019169055508260016000866000191660001916815260200190815260200160002060000181905550816001600086600019166000191681526020019081526020016000206001018190555060026000848152602001908152602001600020849080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550818385600019167f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b606060056000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610d5a57602002820191906000526020600020905b81546000191681526020019060010190808311610d42575b50505050509050919050565b60003073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e9357610df833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b1515610e92576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f742068617665206d616e6167656d656e742081526020017f6b6579000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166004600084600019166000191681526020019081526020016000206000015483600019167f3cf57863a89432c61c4a27073c6ee39e8a764bff5a05aebfbcdcdc80b2e6130a60046000876000191660001916815260200190815260200160002060010154600460008860001916600019168152602001908152602001600020600301600460008960001916600019168152602001908152602001600020600401600460008a600019166000191681526020019081526020016000206005016040518085815260200180602001806020018060200184810384528781815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561103d5780601f106110125761010080835404028352916020019161103d565b820191906000526020600020905b81548152906001019060200180831161102057829003601f168201915b50508481038352868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156110c05780601f10611095576101008083540402835291602001916110c0565b820191906000526020600020905b8154815290600101906020018083116110a357829003601f168201915b50508481038252858181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156111435780601f1061111857610100808354040283529160200191611143565b820191906000526020600020905b81548152906001019060200180831161112657829003601f168201915b505097505050505050505060405180910390a460046000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556003820160006111b99190612620565b6004820160006111c99190612620565b6005820160006111d99190612668565b505060019050919050565b606080600080846040519080825280601f01601f19166020018201604052801561121d5781602001602082028038833980820191505090505b509250600091508590505b8486018110156112de57868181518110151561124057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838381518110151561129957fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535081806001019250508080600101915050611228565b8293505050509392505050565b600061134833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b15156113bc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f53656e64657220646f6573206e6f74206861766520616374696f6e206b65790081525060200191505060405180910390fd5b827fb3932da477fe5d6c8ff2eafef050c0f3a1af18fc07121001482600f36f3715d883604051808215151515815260200191505060405180910390a26001151582151514156117c55760016003600085815260200190815260200160002060030160006101000a81548160ff0219169083151502179055506003600084815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660036000858152602001908152602001600020600201600060405180838054600181600116156101000203166002900480156114fe5780601f106114d3576101008083540402835291602001916114fe565b820191906000526020600020905b8154815290600101906020018083116114e157829003601f168201915b50508260ff168152602001925050506000604051808303816000865af19150509050801561168d5760016003600085815260200190815260200160002060030160016101000a81548160ff02191690831515021790555060036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847f1f920dbda597d7bf95035464170fa58d0a4b57f13a1c315ace6793b9f63688b860036000888152602001908152602001600020600201604051808060200182810382528381815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561167a5780601f1061164f5761010080835404028352916020019161167a565b820191906000526020600020905b81548152906001019060200180831161165d57829003601f168201915b50509250505060405180910390a46117f9565b60036000848152602001908152602001600020600101546003600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16847fe10c49d9f7c71da23262367013434763cfdb2332267641728d25cd712c5c6a686003600088815260200190815260200160002060020160405180806020018281038252838181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156117b25780601f10611787576101008083540402835291602001916117b2565b820191906000526020600020905b81548152906001019060200180831161179557829003601f168201915b50509250505060405180910390a46117f9565b60006003600085815260200190815260200160002060030160006101000a81548160ff021916908315150217905550600190505b92915050565b60008160001916600160008460001916600019168152602001908152602001600020600201546000191614151561189e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f4e6f2073756368206b657900000000000000000000000000000000000000000081525060200191505060405180910390fd5b600160008360001916600019168152602001908152602001600020600101546001600084600019166000191681526020019081526020016000206000015460016000856000191660001916815260200190815260200160002060020154600019167f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460016000836000191660001916815260200190815260200160002060008082016000905560018201600090556002820160009055505060019050919050565b6060600260008381526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156119cd57602002820191906000526020600020905b815460001916815260200190600101908083116119b5575b50505050509050919050565b6000808588604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182815260200192505050604051809103902090503073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611b6257611ac733604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060036124aa565b1515611b61576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001807f53656e64657220646f6573206e6f74206861766520636c61696d207369676e6581526020017f72206b657900000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b8573ffffffffffffffffffffffffffffffffffffffff1660046000836000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141515611c1957600560008981526020019081526020016000208190806001815401808255809150509060018203906000526020600020016000909192909190915090600019169055505b876004600083600019166000191681526020019081526020016000206000018190555086600460008360001916600019168152602001908152602001600020600101819055508560046000836000191660001916815260200190815260200160002060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550846004600083600019166000191681526020019081526020016000206003019080519060200190611cee9291906126b0565b50836004600083600019166000191681526020019081526020016000206004019080519060200190611d219291906126b0565b50826004600083600019166000191681526020019081526020016000206005019080519060200190611d54929190612730565b508573ffffffffffffffffffffffffffffffffffffffff168882600019167f46149b18aa084502c3f12bc75e19eda8bda8d102b82cce8474677a6d0d5f43c58a89898960405180858152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015611de5578082015181840152602081019050611dca565b50505050905090810190601f168015611e125780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015611e4b578082015181840152602081019050611e30565b50505050905090810190601f168015611e785780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015611eb1578082015181840152602081019050611e96565b50505050905090810190601f168015611ede5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a4809150509695505050505050565b6000600360008054815260200190815260200160002060030160019054906101000a900460ff16151515611f9a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f416c72656164792065786563757465640000000000000000000000000000000081525060200191505060405180910390fd5b83600360008054815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508260036000805481526020019081526020016000206001018190555081600360008054815260200190815260200160002060020190805190602001906120379291906126b0565b50828473ffffffffffffffffffffffffffffffffffffffff166000547f8afcfabcb00e47a53a8fc3e9f23ff47ee1926194bb1350dd007c50b412a6cee8856040518080602001828103825283818151815260200191508051906020019080838360005b838110156120b557808201518184015260208101905061209a565b50505050905090810190601f1680156120e25780820380516001836020036101000a031916815260200191505b509250505060405180910390a461214a33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016124aa565b806121ac57506121ab33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026124aa565b5b156121c0576121be60005460016112eb565b505b600080815480929190600101919050555060016000540390509392505050565b600080600060608060606004600088600019166000191681526020019081526020016000206000015460046000896000191660001916815260200190815260200160002060010154600460008a6000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600460008b60001916600019168152602001908152602001600020600301600460008c60001916600019168152602001908152602001600020600401600460008d60001916600019168152602001908152602001600020600501828054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123565780601f1061232b57610100808354040283529160200191612356565b820191906000526020600020905b81548152906001019060200180831161233957829003601f168201915b50505050509250818054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123f25780601f106123c7576101008083540402835291602001916123f2565b820191906000526020600020905b8154815290600101906020018083116123d557829003601f168201915b50505050509150808054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561248e5780601f106124635761010080835404028352916020019161248e565b820191906000526020600020905b81548152906001019060200180831161247157829003601f168201915b5050505050905095509550955095509550955091939550919395565b6000806000600102600160008660001916600019168152602001908152602001600020600201546000191614156124e4576000915061250c565b8260016000866000191660001916815260200190815260200160002060000154111590508091505b5092915050565b6060806060600080879350856040519080825280601f01601f1916602001820160405280156125515781602001602082028038833980820191505090505b509250600091508690505b85870181101561261257838181518110151561257457fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838151811015156125cd57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508180600101925050808060010191505061255c565b829450505050509392505050565b50805460018160011615610100020316600290046000825580601f106126465750612665565b601f01602090049060005260206000209081019061266491906127b0565b5b50565b50805460018160011615610100020316600290046000825580601f1061268e57506126ad565b601f0160209004906000526020600020908101906126ac91906127b0565b5b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106126f157805160ff191683800117855561271f565b8280016001018555821561271f579182015b8281111561271e578251825591602001919060010190612703565b5b50905061272c91906127b0565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061277157805160ff191683800117855561279f565b8280016001018555821561279f579182015b8281111561279e578251825591602001919060010190612783565b5b5090506127ac91906127b0565b5090565b6127d291905b808211156127ce5760008160009055506001016127b6565b5090565b905600a165627a7a723058200017634e62c856198c9c8d204756bd9ed5e12ca97b230682c6cc941e813b81330029"}},6919:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSubDomain=void 0,t.getSubDomain=function(e){return e?.replace("http://","").replace("https://","").split(":")[0]}},3817:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkKeyForDid=void 0;const o=n(3002),i=r(n(8519));t.checkKeyForDid=async function(e,t,n,r){try{const s=new i.default(e),a=new s.eth.Contract(o.Identity.abi,t),u=s.utils.sha3(n);return await a.methods.keyHasPurpose(u,r).call()}catch(e){return console.log("Library - Something went wrong: "+e),!1}}},2733:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcProvider=void 0;const o=n(2254),i=n(1964),s=n(1904),a=n(367);let u=class{webRtcConfig;hostUuid;peerConnection=null;dataChannel=null;wsClient=null;receivedActions$=new i.BehaviorSubject(null);uuid$=new i.BehaviorSubject(null);websocketMessage$=new i.BehaviorSubject(null);websocketConnectionClosed$=new i.BehaviorSubject(null);websocketConnectionOpen$=new i.BehaviorSubject(null);websocketConnectionError$=new i.BehaviorSubject(null);webRtcConnectionConfig;connectionTimeout=null;pongCheckInterval=null;pingTimeout=null;WEBSOCKET_PING_ANSWER_DELAY=1e3;WEBSOCKET_PING_PONG_ALLOWED_TIME=3e3;getConfig(){return this.webRtcConfig}setHostUuid(e){this.hostUuid=e}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}' with data:`,t),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Websocket - Attempted to send data with action ${e} but data channel is not open`)}sendWebsocketData(e,t){return this.wsClient&&this.wsClient.readyState===this.wsClient.OPEN?(this.wsClient.send(JSON.stringify({action:e,...t})),!0):(console.error(`Websocket - Attempted to send data with action ${e} but websocket channel is not open`),!1)}getWebsocket(){return this.wsClient}setUuid(e){this.uuid$.next(e)}disconnect(){clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),this.peerConnection&&this.peerConnection.close(),this.dataChannel&&this.dataChannel.close(),this.wsClient&&(this.wsClient.close(),this.wsClient.onclose=null),this.peerConnection=null,this.dataChannel=null,this.wsClient=null,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)}remoteDisconnect(){this.dataChannel&&"open"===this.dataChannel.readyState&&this.dataChannel.send(JSON.stringify({action:"disconnect"})),setTimeout((()=>{this.disconnect()}),1e3)}async sendOffer(e,t){const n=await e.createOffer();await e.setLocalDescription(n),t.send(JSON.stringify({type:"offer",offer:n}))}async launchWebsocketClient(e,t){this.webRtcConfig=e;let n=null;this.receivedActions$=new i.BehaviorSubject(null),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.uuid$=new i.BehaviorSubject(null),this.websocketMessage$=new i.BehaviorSubject(null),this.websocketConnectionClosed$=new i.BehaviorSubject(null),this.websocketConnectionOpen$=new i.BehaviorSubject(null),this.websocketConnectionError$=new i.BehaviorSubject(null);let r=this.webRtcConfig.signalingUrl;r||(console.log("Launch websocket - URL undefined, falling back to default"),r="wss://auth.proofme.id"),console.log("Launch websocket - Client URL:",r),console.log("Launch websocket - Channel:",e.channel);let o=`${r}?channel=${e.channel}`;e.data&&(o=`${o}&data=${e.data}`),this.wsClient=new a.w3cwebsocket(o,null,null,t),this.connectionTimeout=setTimeout((()=>{!0!==n&&(this.websocketConnectionError$.next(!0),this.wsClient&&this.wsClient.close())}),1e4),this.wsClient.onerror=e=>{console.log("Websocket - Error: "+e.toString()),n=!1,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1),this.websocketConnectionError$.next(!0)},this.wsClient.onclose=()=>{console.log("Websocket - Connection closed"),this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)},this.wsClient.onopen=()=>{console.log("Websocket - Connection open"),n=!0,this.websocketConnectionClosed$.next(!1),this.websocketConnectionOpen$.next(!0)},this.wsClient.onmessage=async e=>{if(console.log("Websocket - Message:",e),this.websocketMessage$.next(e),e.data){let t;try{t=JSON.parse(e.data)}catch(e){console.error("Websocket - Message was not JSON"),t={}}const{type:n,message:r,success:o,uuid:i,offer:a,answer:u,candidate:c,webRtcConnectionConfig:l}=t;switch(n){case"error":console.log("Websocket - Error message:",r),"Command not found: ping"==r&&(clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{console.log(`Websocket - Ping pong took more than ${this.WEBSOCKET_PING_PONG_ALLOWED_TIME}ms. Disconnecting`),this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing());break;case"connect":if(o)if(this.webRtcConfig.isHost){const e=500;let t=0;const n=setInterval((()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"host"}))),t>=e&&clearInterval(n),t++}),50)}else{const e=500;let t=0;const n=setInterval((async()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"connect",host:this.hostUuid}))),t>=e&&clearInterval(n),t++}),50)}break;case"connected":clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),l&&(this.webRtcConnectionConfig=l,this.webRtcConfig.isHost||await this.setupPeerconnection(this.hostUuid)),i&&this.webRtcConfig.isHost&&await this.sendOffer(this.peerConnection,this.wsClient);break;case"pong":clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing();break;case"offer":if(a&&!this.webRtcConfig.isHost){await this.peerConnection.setRemoteDescription(new s.RTCSessionDescription(a));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.wsClient.send(JSON.stringify({type:"answer",answer:e}))}break;case"host":i&&this.webRtcConfig.isHost&&(this.setUuid(i),l&&(this.webRtcConnectionConfig=l),await this.setupPeerconnection(i),this.sendPing());break;case"leave":this.setUuid(null),this.disconnect();break;case"answer":u&&await this.peerConnection.setRemoteDescription(new s.RTCSessionDescription(u));break;case"candidate":if(c){const e=new s.RTCIceCandidate(c);await this.peerConnection.addIceCandidate(e)}break;case"client":l&&(this.webRtcConnectionConfig=l,this.webRtcConfig.isHost||(await this.setupPeerconnection(this.hostUuid),await this.sendOffer(this.peerConnection,this.wsClient)))}}}}sendPing(){this.pingTimeout=setTimeout((()=>{1===this.wsClient.readyState&&this.wsClient.send(JSON.stringify({type:"ping"}))}),this.WEBSOCKET_PING_ANSWER_DELAY)}async setupPeerconnection(e){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new s.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}async setupClientPeerconnection(){this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&this.disconnect(),this.receivedActions$.next(t)}catch(e){console.log("P2P - Message invalid JSON:",e)}},e.channel.onopen=()=>{this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new s.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}};u=r([(0,o.Injectable)()],u),t.WebRtcProvider=u},593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCClientV2=void 0;const r=n(1964),o=n(1904);t.WebRTCClientV2=class{peerConnection=null;dataChannel=null;clientChannel;webRtcConnectionConfig;requestedCredentials;hostWsConnection;actionType;dataChannelOpen$=new r.Subject;dataChannelMessage$=new r.Subject;data;constructor(e,t,n,r,o){this.webRtcConnectionConfig=e,this.requestedCredentials=t,this.hostWsConnection=n,this.actionType=r,this.data=o}async setupPeerconnection(e){this.peerConnection=new o.RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){try{const t=new o.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){}this.clientChannel.sendUTF(JSON.stringify({type:"candidate",candidate:e.candidate}))}})),this.peerConnection.addEventListener("iceconnectionstatechange",(()=>{"disconnected"===this.peerConnection.iceConnectionState&&this.peerConnection.close()})),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{try{const t=JSON.parse(e.data);this.dataChannelMessage$.next(t)}catch(e){console.error("Could not parse message:",e)}},e.channel.onopen=async()=>{console.log("Library - Datachannel connected"),this.hostWsConnection.sendUTF(JSON.stringify({type:"clientconnected",success:!0})),this.dataChannelOpen$.next()},e.channel.onclose=e=>{console.log("Library - Datachannel onclose:",e),this.hostWsConnection.sendUTF(JSON.stringify({type:"disconnect"}))}}))}async sendOffer(){const e=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"offer",offer:e}))}sendP2PData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?(console.log(`Library - Sending action '${e}' with data:`,t),this.dataChannel.send(JSON.stringify({action:e,...t}))):console.error(`Library - Attempted to send data with action ${e} but data channel is not open`)}async setRemoteDescription(e){await this.peerConnection.setRemoteDescription(new o.RTCSessionDescription(e))}async addCandidate(e){try{const t=new o.RTCIceCandidate(e);await this.peerConnection.addIceCandidate(t)}catch(e){console.error(e)}}async sendAnswer(){const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.clientChannel.sendUTF(JSON.stringify({type:"answer",answer:e}))}setClientChannel(e){this.clientChannel=e}}},1964:e=>{e.exports=require("rxjs")},5828:e=>{e.exports=require("uuid")},8519:e=>{e.exports=require("web3")},367:e=>{e.exports=require("websocket")},1904:e=>{e.exports=require("wrtc")},5352:e=>{e.exports=require("ws")},6113:e=>{e.exports=require("crypto")},2254:(e,t,n)=>{n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>fr,APP_BOOTSTRAP_LISTENER:()=>Fy,APP_ID:()=>Ty,APP_INITIALIZER:()=>Iy,ApplicationInitStatus:()=>Py,ApplicationModule:()=>fg,ApplicationRef:()=>_b,Attribute:()=>cr,COMPILER_OPTIONS:()=>Ky,CUSTOM_ELEMENTS_SCHEMA:()=>Ti,ChangeDetectionStrategy:()=>Q,ChangeDetectorRef:()=>Pb,Compiler:()=>qy,CompilerFactory:()=>Gy,Component:()=>wy,ComponentFactory:()=>sh,ComponentFactoryResolver:()=>uh,ComponentRef:()=>ih,ContentChild:()=>hr,ContentChildren:()=>pr,DEFAULT_CURRENCY_CODE:()=>Hy,DebugElement:()=>Fb,DebugEventListener:()=>kb,DebugNode:()=>Rb,DefaultIterableDiffer:()=>Gb,Directive:()=>_y,ElementRef:()=>lh,EmbeddedViewRef:()=>jb,ErrorHandler:()=>Pi,EventEmitter:()=>iv,Host:()=>Xr,HostBinding:()=>Oy,HostListener:()=>Dy,INJECTOR:()=>ku,Inject:()=>Jr,InjectFlags:()=>q,Injectable:()=>cl,InjectionToken:()=>lr,Injector:()=>Ju,Input:()=>Cy,IterableDiffers:()=>rg,KeyValueDiffers:()=>ig,LOCALE_ID:()=>$y,MissingTranslationStrategy:()=>Wy,ModuleWithComponentFactories:()=>zy,NO_ERRORS_SCHEMA:()=>Ai,NgModule:()=>Sy,NgModuleFactory:()=>Sh,NgModuleRef:()=>Dh,NgProbeToken:()=>db,NgZone:()=>Qy,Optional:()=>Zr,Output:()=>xy,PACKAGE_ROOT_URL:()=>Ly,PLATFORM_ID:()=>Ry,PLATFORM_INITIALIZER:()=>Ny,Pipe:()=>My,PlatformRef:()=>gb,Query:()=>dr,QueryList:()=>av,ReflectiveInjector:()=>Il,ReflectiveKey:()=>hl,Renderer2:()=>ph,RendererFactory2:()=>dh,RendererStyleFlags2:()=>zi,ResolvedReflectiveFactory:()=>_l,Sanitizer:()=>hh,SecurityContext:()=>ui,Self:()=>Qr,SimpleChange:()=>tt,SkipSelf:()=>Yr,TRANSLATIONS:()=>Uy,TRANSLATIONS_FORMAT:()=>By,TemplateRef:()=>uv,Testability:()=>ob,TestabilityRegistry:()=>ib,Type:()=>_r,VERSION:()=>yh,Version:()=>vh,ViewChild:()=>yr,ViewChildren:()=>vr,ViewContainerRef:()=>dv,ViewEncapsulation:()=>X,ViewRef:()=>Ab,asNativeElements:()=>Nb,assertPlatform:()=>vb,createNgModuleRef:()=>Th,createPlatform:()=>pb,createPlatformFactory:()=>hb,defineInjectable:()=>F,destroyPlatform:()=>yb,enableProdMode:()=>Db,forwardRef:()=>l,getDebugNode:()=>Wb,getModuleFactory:()=>Sb,getNgModuleById:()=>Eb,getPlatform:()=>bb,inject:()=>qr,isDevMode:()=>Ob,platformCore:()=>lg,resolveForwardRef:()=>f,setTestabilityGetter:()=>sb,ɵALLOW_MULTIPLE_PLATFORMS:()=>fb,ɵAPP_ID_RANDOM_PROVIDER:()=>jy,ɵChangeDetectorStatus:()=>Y,ɵComponentFactory:()=>sh,ɵConsole:()=>Vy,ɵDEFAULT_LOCALE_ID:()=>Fd,ɵINJECTOR_SCOPE:()=>Ru,ɵLifecycleHooksFeature:()=>vc,ɵLocaleDataIndex:()=>Nd,ɵNG_COMP_DEF:()=>ce,ɵNG_DIR_DEF:()=>le,ɵNG_ELEMENT_ID:()=>he,ɵNG_INJ_DEF:()=>B,ɵNG_MOD_DEF:()=>de,ɵNG_PIPE_DEF:()=>fe,ɵNG_PROV_DEF:()=>U,ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>bh,ɵNO_CHANGE:()=>Hs,ɵNgModuleFactory:()=>jh,ɵNoopNgZone:()=>rb,ɵReflectionCapabilities:()=>kr,ɵRender3ComponentFactory:()=>Ch,ɵRender3ComponentRef:()=>xh,ɵRender3NgModuleRef:()=>Ah,ɵRuntimeError:()=>p,ɵViewRef:()=>mh,ɵ_sanitizeHtml:()=>si,ɵ_sanitizeUrl:()=>Lo,ɵallowSanitizationBypassAndThrow:()=>Do,ɵbypassSanitizationTrustHtml:()=>Eo,ɵbypassSanitizationTrustResourceUrl:()=>Ao,ɵbypassSanitizationTrustScript:()=>Po,ɵbypassSanitizationTrustStyle:()=>Io,ɵbypassSanitizationTrustUrl:()=>To,ɵclearResolutionOfComponentResourcesQueue:()=>uo,ɵcompileComponent:()=>ry,ɵcompileDirective:()=>oy,ɵcompileNgModule:()=>Uv,ɵcompileNgModuleDefs:()=>Bv,ɵcompileNgModuleFactory:()=>cb,ɵcompilePipe:()=>gy,ɵcreateInjector:()=>Hu,ɵdefaultIterableDiffers:()=>ug,ɵdefaultKeyValueDiffers:()=>cg,ɵdetectChanges:()=>Au,ɵdevModeEqual:()=>Ec,ɵfindLocaleData:()=>Pd,ɵflushModuleScopingQueueAsMuchAsPossible:()=>$v,ɵgetDebugNode:()=>Wb,ɵgetDebugNodeR2:()=>zb,ɵgetDirectives:()=>tc,ɵgetHostElement:()=>rc,ɵgetInjectableDef:()=>V,ɵgetLContext:()=>gi,ɵgetLocaleCurrencyCode:()=>Td,ɵgetLocalePluralCase:()=>Ad,ɵgetSanitizationBypassType:()=>So,ɵglobal:()=>ie,ɵinjectChangeDetectorRef:()=>Tb,ɵisBoundToModule:()=>lb,ɵisDefaultChangeDetectionStrategy:()=>ee,ɵisListLikeIterable:()=>Ic,ɵisObservable:()=>Wl,ɵisPromise:()=>Ul,ɵisSubscribable:()=>Bl,ɵivyEnabled:()=>dg,ɵmakeDecorator:()=>ir,ɵmarkDirty:()=>ju,ɵnoSideEffects:()=>Z,ɵpatchComponentDefWithScope:()=>Yv,ɵpublishDefaultGlobalUtils:()=>cc,ɵpublishGlobalUtil:()=>lc,ɵregisterLocaleData:()=>Id,ɵregisterNgModuleType:()=>Ih,ɵrenderComponent:()=>fc,ɵresetCompiledComponents:()=>Jv,ɵresetJitOptions:()=>Fv,ɵresolveComponentResources:()=>oo,ɵsetClassMetadata:()=>Oh,ɵsetCurrentInjector:()=>Ur,ɵsetDocument:()=>pt,ɵsetLocaleId:()=>Ud,ɵstore:()=>rl,ɵstringify:()=>a,ɵtransitiveScopesFor:()=>Xv,ɵunregisterLocaleData:()=>kd,ɵunwrapSafeValue:()=>Oo,ɵwhenRendered:()=>yc,ɵɵCopyDefinitionFeature:()=>Oc,ɵɵFactoryTarget:()=>br,ɵɵInheritDefinitionFeature:()=>gc,ɵɵNgOnChangesFeature:()=>nt,ɵɵProvidersFeature:()=>oh,ɵɵadvance:()=>Us,ɵɵattribute:()=>Fc,ɵɵattributeInterpolate1:()=>Kc,ɵɵattributeInterpolate2:()=>Gc,ɵɵattributeInterpolate3:()=>Jc,ɵɵattributeInterpolate4:()=>Zc,ɵɵattributeInterpolate5:()=>Qc,ɵɵattributeInterpolate6:()=>Yc,ɵɵattributeInterpolate7:()=>Xc,ɵɵattributeInterpolate8:()=>el,ɵɵattributeInterpolateV:()=>tl,ɵɵclassMap:()=>Sf,ɵɵclassMapInterpolate1:()=>Qf,ɵɵclassMapInterpolate2:()=>Yf,ɵɵclassMapInterpolate3:()=>Xf,ɵɵclassMapInterpolate4:()=>ed,ɵɵclassMapInterpolate5:()=>td,ɵɵclassMapInterpolate6:()=>nd,ɵɵclassMapInterpolate7:()=>rd,ɵɵclassMapInterpolate8:()=>od,ɵɵclassMapInterpolateV:()=>id,ɵɵclassProp:()=>xf,ɵɵcontentQuery:()=>Iv,ɵɵdefineComponent:()=>ye,ɵɵdefineDirective:()=>xe,ɵɵdefineInjectable:()=>R,ɵɵdefineInjector:()=>L,ɵɵdefineNgModule:()=>we,ɵɵdefinePipe:()=>Oe,ɵɵdirectiveInject:()=>Tl,ɵɵdisableBindings:()=>At,ɵɵelement:()=>Fl,ɵɵelementContainer:()=>$l,ɵɵelementContainerEnd:()=>Vl,ɵɵelementContainerStart:()=>Ll,ɵɵelementEnd:()=>Rl,ɵɵelementStart:()=>Nl,ɵɵenableBindings:()=>Tt,ɵɵgetCurrentView:()=>Hl,ɵɵgetInheritedFactory:()=>Xn,ɵɵhostProperty:()=>xd,ɵɵi18n:()=>qp,ɵɵi18nApply:()=>Jp,ɵɵi18nAttributes:()=>Kp,ɵɵi18nEnd:()=>zp,ɵɵi18nExp:()=>Gp,ɵɵi18nPostprocess:()=>Zp,ɵɵi18nStart:()=>Wp,ɵɵinject:()=>Wr,ɵɵinjectAttribute:()=>tr,ɵɵinvalidFactory:()=>Al,ɵɵinvalidFactoryDep:()=>zr,ɵɵlistener:()=>zl,ɵɵloadQuery:()=>Pv,ɵɵnamespaceHTML:()=>vn,ɵɵnamespaceMathML:()=>hn,ɵɵnamespaceSVG:()=>pn,ɵɵnextContext:()=>Zl,ɵɵngDeclareClassMetadata:()=>hg,ɵɵngDeclareComponent:()=>vg,ɵɵngDeclareDirective:()=>pg,ɵɵngDeclareFactory:()=>yg,ɵɵngDeclareInjectable:()=>gg,ɵɵngDeclareInjector:()=>mg,ɵɵngDeclareNgModule:()=>_g,ɵɵngDeclarePipe:()=>wg,ɵɵpipe:()=>Zh,ɵɵpipeBind1:()=>Qh,ɵɵpipeBind2:()=>Yh,ɵɵpipeBind3:()=>Xh,ɵɵpipeBind4:()=>ev,ɵɵpipeBindV:()=>tv,ɵɵprojection:()=>Xl,ɵɵprojectionDef:()=>Yl,ɵɵproperty:()=>jl,ɵɵpropertyInterpolate:()=>ef,ɵɵpropertyInterpolate1:()=>tf,ɵɵpropertyInterpolate2:()=>nf,ɵɵpropertyInterpolate3:()=>rf,ɵɵpropertyInterpolate4:()=>of,ɵɵpropertyInterpolate5:()=>sf,ɵɵpropertyInterpolate6:()=>af,ɵɵpropertyInterpolate7:()=>uf,ɵɵpropertyInterpolate8:()=>cf,ɵɵpropertyInterpolateV:()=>lf,ɵɵpureFunction0:()=>kh,ɵɵpureFunction1:()=>Nh,ɵɵpureFunction2:()=>Rh,ɵɵpureFunction3:()=>Fh,ɵɵpureFunction4:()=>Lh,ɵɵpureFunction5:()=>Vh,ɵɵpureFunction6:()=>$h,ɵɵpureFunction7:()=>Hh,ɵɵpureFunction8:()=>Uh,ɵɵpureFunctionV:()=>Bh,ɵɵqueryRefresh:()=>Sv,ɵɵreference:()=>ol,ɵɵresolveBody:()=>$i,ɵɵresolveDocument:()=>Vi,ɵɵresolveWindow:()=>Li,ɵɵrestoreView:()=>Nt,ɵɵsanitizeHtml:()=>ci,ɵɵsanitizeResourceUrl:()=>di,ɵɵsanitizeScript:()=>pi,ɵɵsanitizeStyle:()=>li,ɵɵsanitizeUrl:()=>fi,ɵɵsanitizeUrlOrResourceUrl:()=>yi,ɵɵsetComponentScope:()=>be,ɵɵsetNgModuleScope:()=>Me,ɵɵstyleMap:()=>Of,ɵɵstyleMapInterpolate1:()=>sd,ɵɵstyleMapInterpolate2:()=>ad,ɵɵstyleMapInterpolate3:()=>ud,ɵɵstyleMapInterpolate4:()=>cd,ɵɵstyleMapInterpolate5:()=>ld,ɵɵstyleMapInterpolate6:()=>fd,ɵɵstyleMapInterpolate7:()=>dd,ɵɵstyleMapInterpolate8:()=>pd,ɵɵstyleMapInterpolateV:()=>hd,ɵɵstyleProp:()=>Cf,ɵɵstylePropInterpolate1:()=>vd,ɵɵstylePropInterpolate2:()=>yd,ɵɵstylePropInterpolate3:()=>bd,ɵɵstylePropInterpolate4:()=>gd,ɵɵstylePropInterpolate5:()=>md,ɵɵstylePropInterpolate6:()=>_d,ɵɵstylePropInterpolate7:()=>wd,ɵɵstylePropInterpolate8:()=>Md,ɵɵstylePropInterpolateV:()=>Cd,ɵɵsyntheticHostListener:()=>ql,ɵɵsyntheticHostProperty:()=>Od,ɵɵtemplate:()=>nl,ɵɵtemplateRefExtractor:()=>kv,ɵɵtext:()=>$f,ɵɵtextInterpolate:()=>Hf,ɵɵtextInterpolate1:()=>Uf,ɵɵtextInterpolate2:()=>Bf,ɵɵtextInterpolate3:()=>Wf,ɵɵtextInterpolate4:()=>zf,ɵɵtextInterpolate5:()=>qf,ɵɵtextInterpolate6:()=>Kf,ɵɵtextInterpolate7:()=>Gf,ɵɵtextInterpolate8:()=>Jf,ɵɵtextInterpolateV:()=>Zf,ɵɵtrustConstantHtml:()=>hi,ɵɵtrustConstantResourceUrl:()=>vi,ɵɵviewQuery:()=>Ev});var r=n(1964),o=n(4857);function i(e){for(let t in e)if(e[t]===i)return t;throw Error("Could not find renamed property on target object.")}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function a(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(a).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function u(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const c=i({__forward_ref__:i});function l(e){return e.__forward_ref__=l,e.toString=function(){return a(this())},e}function f(e){return d(e)?e():e}function d(e){return"function"==typeof e&&e.hasOwnProperty(c)&&e.__forward_ref__===l}class p extends Error{constructor(e,t){super(h(e,t)),this.code=e}}function h(e,t){const n=`NG0${Math.abs(e)}`;let r=`${n}${t?": "+t:""}`;return ngDevMode&&e<0&&(r=`${r}. Find more at https://angular.io/errors/${n}`),r}function v(e){return"string"==typeof e?e:null==e?"":String(e)}function y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():v(e)}function b(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new p(-200,`Circular dependency in DI detected for ${e}${n}`)}function g(){throw new Error("Cannot mix multi providers and regular providers")}function m(e,t){const n=t?` in ${t}`:"";throw new p(-201,`No provider for ${y(e)} found${n}`)}function _(e,t){"number"!=typeof e&&A(t,typeof e,"number","===")}function w(e,t,n){_(e,"Expected a number"),E(e,n,"Expected number to be less than or equal to"),P(e,t,"Expected number to be greater than or equal to")}function M(e,t){"string"!=typeof e&&A(t,null===e?"null":typeof e,"string","===")}function C(e,t,n){e!=t&&A(n,e,t,"==")}function x(e,t,n){e==t&&A(n,e,t,"!=")}function O(e,t,n){e!==t&&A(n,e,t,"===")}function D(e,t,n){e===t&&A(n,e,t,"!==")}function S(e,t,n){e<t||A(n,e,t,"<")}function E(e,t,n){e<=t||A(n,e,t,"<=")}function I(e,t,n){e>t||A(n,e,t,">")}function P(e,t,n){e>=t||A(n,e,t,">=")}function T(e,t){null==e&&A(t,e,null,"!=")}function A(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function j(e){"undefined"!=typeof Node&&e instanceof Node||"object"==typeof e&&null!=e&&"WebWorkerRenderNode"===e.constructor.name||A(`The provided value must be an instance of a DOM Node but got ${a(e)}`)}function k(e,t){T(e,"Array must be defined.");const n=e.length;(t<0||t>=n)&&A(`Index expected to be less than ${n} but got ${t}`)}function N(e,...t){if(-1!==t.indexOf(e))return!0;A(`Expected value to be one of ${JSON.stringify(t)} but was ${JSON.stringify(e)}.`)}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const F=R;function L(e){return{providers:e.providers||[],imports:e.imports||[]}}function V(e){return $(e,U)||$(e,W)}function $(e,t){return e.hasOwnProperty(t)?e[t]:null}function H(e){return e&&(e.hasOwnProperty(B)||e.hasOwnProperty(z))?e[B]:null}const U=i({ɵprov:i}),B=i({ɵinj:i}),W=i({ngInjectableDef:i}),z=i({ngInjectorDef:i});var q;let K;function G(e){const t=K;return K=e,t}function J(e,t,n){const r=V(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==t?t:void m(a(e),"Injector")}function Z(e){return{toString:e}.toString()}var Q,Y,X;function ee(e){return null==e||e===Q.Default}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(q||(q={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Q||(Q={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(Y||(Y={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(X||(X={}));const te="undefined"!=typeof globalThis&&globalThis,ne="undefined"!=typeof window&&window,re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,oe="undefined"!=typeof global&&global,ie=te||oe||ne||re;function se(){return!("undefined"!=typeof ngDevMode&&!ngDevMode||("object"!=typeof ngDevMode&&function(){const e="undefined"!=typeof location?location.toString():"",t={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0},n=-1===e.indexOf("ngDevMode=false");ie.ngDevMode=n&&t}(),"undefined"==typeof ngDevMode||!ngDevMode))}const ae={},ue=[];("undefined"==typeof ngDevMode||ngDevMode)&&se()&&(Object.freeze(ae),Object.freeze(ue));const ce=i({ɵcmp:i}),le=i({ɵdir:i}),fe=i({ɵpipe:i}),de=i({ɵmod:i}),pe=i({ɵfac:i}),he=i({__NG_ELEMENT_ID__:i});let ve=0;function ye(e){return Z((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&se();const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ue,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||X.Emulated,id:"c",styles:e.styles||ue,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,i=e.pipes;return n.id+=ve++,n.inputs=Ce(e.inputs,t),n.outputs=Ce(e.outputs),o&&o.forEach((e=>e(n))),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ge):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(me):null,n}))}function be(e,t,n){const r=e.ɵcmp;r.directiveDefs=()=>t.map(ge),r.pipeDefs=()=>n.map(me)}function ge(e){const t=De(e)||Se(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is neither 'ComponentType' or 'DirectiveType'.`);return t}function me(e){const t=Ee(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is not a 'PipeType'.`);return t}const _e={};function we(e){return Z((()=>{const t={type:e.type,bootstrap:e.bootstrap||ue,declarations:e.declarations||ue,imports:e.imports||ue,exports:e.exports||ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(_e[e.id]=e.type),t}))}function Me(e,t){return Z((()=>{const n=Ie(e,!0);n.declarations=t.declarations||ue,n.imports=t.imports||ue,n.exports=t.exports||ue}))}function Ce(e,t){if(null==e)return ae;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}const xe=ye;function Oe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function De(e){return e[ce]||null}function Se(e){return e[le]||null}function Ee(e){return e[fe]||null}function Ie(e,t){const n=e[de]||null;if(!n&&!0===t)throw new Error(`Type ${a(e)} does not have 'ɵmod' property.`);return n}const Pe=10,Te=20,Ae=["Root","Component","Embedded"];function je(e){return Array.isArray(e)&&"object"==typeof e[1]}function ke(e){return Array.isArray(e)&&!0===e[1]}function Ne(e){return 0!=(8&e.flags)}function Re(e){return 2==(2&e.flags)}function Fe(e){return 1==(1&e.flags)}function Le(e){return null!==e.template}function Ve(e,t){$e(e,t[1])}function $e(e,t){He(e),e.hasOwnProperty("tView_")&&C(e.tView_,t,"This TNode does not belong to this TView.")}function He(e){T(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||A("Not of type TNode, got: "+e)}function Ue(e){T(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&A("Object is not of TIcu type.")}function Be(e,t="Type passed in is not ComponentType, it does not have 'ɵcmp' property."){De(e)||A(t)}function We(e){T(e,"currentTNode should exist!"),T(e.parent,"currentTNode should have a parent")}function ze(e){T(e,"LContainer must be defined"),C(ke(e),!0,"Expecting LContainer")}function qe(e){e&&C(je(e),!0,"Expecting LView or undefined or null")}function Ke(e){T(e,"LView must be defined"),C(je(e),!0,"Expecting LView")}function Ge(e,t){C(e.firstCreatePass,!0,t||"Should only be called in first create pass.")}function Je(e,t){C(e.firstUpdatePass,!0,t||"Should only be called in first update pass.")}function Ze(e,t){Qe(e[1].expandoStartIndex,e.length,t)}function Qe(e,t,n){e<=n&&n<t||A(`Index out of range (expecting ${e} <= ${n} < ${t})`)}function Ye(e,t){T(e,t||"Component views should always have a parent view (component's host view)")}function Xe(e,t){Ze(e,t),Ze(e,t+8),_(e[t+0],"injectorIndex should point to a bloom filter"),_(e[t+1],"injectorIndex should point to a bloom filter"),_(e[t+2],"injectorIndex should point to a bloom filter"),_(e[t+3],"injectorIndex should point to a bloom filter"),_(e[t+4],"injectorIndex should point to a bloom filter"),_(e[t+5],"injectorIndex should point to a bloom filter"),_(e[t+6],"injectorIndex should point to a bloom filter"),_(e[t+7],"injectorIndex should point to a bloom filter"),_(e[t+8],"injectorIndex should point to parent injector")}function et(e,t){const n=e.hasOwnProperty(pe);if(!n&&!0===t&&ngDevMode)throw new Error(`Type ${a(e)} does not have 'ɵfac' property.`);return n?e[pe]:null}class tt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function nt(){return rt}function rt(e){return e.type.prototype.ngOnChanges&&(e.setInput=it),ot}function ot(){const e=st(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ae)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function it(e,t,n,r){const o=st(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ae,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],u=s[a];i[a]=new tt(u&&u.currentValue,t,s===ae),e[r]=t}function st(e){return e.__ngSimpleChanges__||null}nt.ngInherit=!0;let at=null;const ut=e=>{at=e},ct=function(e,t,n){null!=at&&at(e,t,n)},lt="svg",ft="math";let dt;function pt(e){dt=e}function ht(){return void 0!==dt?dt:"undefined"!=typeof document?document:void 0}var vt;function yt(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(vt||(vt={}));const bt={createRenderer:(e,t)=>ht()};function gt(e){for(;Array.isArray(e);)e=e[0];return e}function mt(e,t){return ngDevMode&&k(t,e),ngDevMode&&P(e,Te,"Expected to be past HEADER_OFFSET"),gt(t[e])}function _t(e,t){ngDevMode&&Ve(e,t),ngDevMode&&k(t,e.index);const n=gt(t[e.index]);return ngDevMode&&!yt(t[11])&&j(n),n}function wt(e,t){ngDevMode&&I(t,-1,"wrong index for TNode"),ngDevMode&&S(t,e.data.length,"wrong index for TNode");const n=e.data[t];return ngDevMode&&null!==n&&He(n),n}function Mt(e,t){return ngDevMode&&k(e,t),e[t]}function Ct(e,t){ngDevMode&&k(t,e);const n=t[e];return je(n)?n:n[0]}function xt(e){return 4==(4&e[2])}function Ot(e){return 128==(128&e[2])}function Dt(e,t){return null==t?null:(ngDevMode&&k(e,t),e[t])}function St(e){e[18]=0}function Et(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const It={lFrame:sn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pt(){return It.bindingsEnabled}function Tt(){It.bindingsEnabled=!0}function At(){It.bindingsEnabled=!1}function jt(){return It.lFrame.lView}function kt(){return It.lFrame.tView}function Nt(e){return It.lFrame.contextLView=e,e[8]}function Rt(){let e=Ft();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ft(){return It.lFrame.currentTNode}function Lt(){const e=It.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Vt(e,t){ngDevMode&&e&&$e(e,It.lFrame.tView);const n=It.lFrame;n.currentTNode=e,n.isParent=t}function $t(){return It.lFrame.isParent}function Ht(){It.lFrame.isParent=!1}function Ut(){return It.isInCheckNoChangesMode}function Bt(e){It.isInCheckNoChangesMode=e}function Wt(){const e=It.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zt(){return It.lFrame.bindingIndex}function qt(e){return It.lFrame.bindingIndex=e}function Kt(){return It.lFrame.bindingIndex++}function Gt(e){const t=It.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Jt(e){It.lFrame.inI18n=e}function Zt(e,t){const n=It.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qt(t)}function Qt(e){It.lFrame.currentDirectiveIndex=e}function Yt(e){const t=It.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Xt(){return It.lFrame.currentQueryIndex}function en(e){It.lFrame.currentQueryIndex=e}function tn(e){const t=e[1];return 2===t.type?(ngDevMode&&T(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===t.type?e[6]:null}function nn(e,t,n){if(ngDevMode&&qe(e),n&q.SkipSelf){ngDevMode&&$e(t,e[1]);let r=t,o=e;for(;ngDevMode&&T(r,"Parent TNode should be defined"),r=r.parent,!(null!==r||n&q.Host||(r=tn(o),null===r)||(ngDevMode&&T(o,"Parent LView should be defined"),o=o[15],10&r.type)););if(null===r)return!1;t=r,e=o}ngDevMode&&Ve(t,e);const r=It.lFrame=on();return r.currentTNode=t,r.lView=e,!0}function rn(e){ngDevMode&&x(e[0],e[1],"????"),ngDevMode&&qe(e);const t=on();ngDevMode&&(C(t.isParent,!0,"Expected clean LFrame"),C(t.lView,null,"Expected clean LFrame"),C(t.tView,null,"Expected clean LFrame"),C(t.selectedIndex,-1,"Expected clean LFrame"),C(t.elementDepthCount,0,"Expected clean LFrame"),C(t.currentDirectiveIndex,-1,"Expected clean LFrame"),C(t.currentNamespace,null,"Expected clean LFrame"),C(t.bindingRootIndex,-1,"Expected clean LFrame"),C(t.currentQueryIndex,0,"Expected clean LFrame"));const n=e[1];It.lFrame=t,ngDevMode&&n.firstChild&&$e(n.firstChild,n),t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function on(){const e=It.lFrame,t=null===e?null:e.child;return null===t?sn(e):t}function sn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function an(){const e=It.lFrame;return It.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const un=an;function cn(){const e=an();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ln(){return It.lFrame.selectedIndex}function fn(e){ngDevMode&&-1!==e&&P(e,Te,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&S(e,It.lFrame.lView.length,"Can't set index passed end of LView"),It.lFrame.selectedIndex=e}function dn(){const e=It.lFrame;return wt(e.tView,e.selectedIndex)}function pn(){It.lFrame.currentNamespace=lt}function hn(){It.lFrame.currentNamespace=ft}function vn(){It.lFrame.currentNamespace=null}function yn(e,t){ngDevMode&&Ge(e);for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];ngDevMode&&T(t,"Expecting DirectiveDef");const r=t.type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:a,ngOnDestroy:u}=r;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function bn(e,t,n){_n(e,t,3,n)}function gn(e,t,n,r){ngDevMode&&x(n,3,"Init pre-order hooks should not be called more than once"),(3&e[2])===n&&_n(e,t,n,r)}function mn(e,t){ngDevMode&&x(t,3,"Init hooks phase should not be incremented after all init hooks have been run.");let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _n(e,t,n,r){ngDevMode&&C(Ut(),!1,"Hooks should never be run when in check no changes mode.");const o=void 0!==r?65535&e[18]:0,i=null!=r?r:-1,s=t.length-1;let a=0;for(let u=o;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<i||-1==i)&&(wn(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function wn(e,t,n,r){const o=n[r]<0,i=n[r+1],s=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,ct(4,s,i);try{i.call(s)}finally{ct(5,s,i)}}}else{ct(4,s,i);try{i.call(s)}finally{ct(5,s,i)}}}const Mn=-1;class Cn{constructor(e,t,n){this.factory=e,this.resolving=!1,ngDevMode&&T(e,"Factory not specified"),ngDevMode&&C(typeof e,"function","Expected factory function."),this.canSeeViewProviders=t,this.injectImpl=n}}function xn(e){let t="";return 1&e&&(t+="|Text"),2&e&&(t+="|Element"),4&e&&(t+="|Container"),8&e&&(t+="|ElementContainer"),16&e&&(t+="|Projection"),32&e&&(t+="|IcuContainer"),64&e&&(t+="|Placeholder"),t.length>0?t.substring(1):t}function On(e,t,n){T(e,"should be called with a TNode"),0==(e.type&t)&&A(n||`Expected [${xn(t)}] but got ${xn(e.type)}.`)}function Dn(e,t,n){const r=yt(e);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],a=n[o++],u=n[o++];ngDevMode&&ngDevMode.rendererSetAttribute++,r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=i,a=n[++o];ngDevMode&&ngDevMode.rendererSetAttribute++,En(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),o++}}return o}function Sn(e){return 3===e||4===e||6===e}function En(e){return 64===e.charCodeAt(0)}function In(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Pn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Pn(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function Tn(e){return e!==Mn}function An(e){return ngDevMode&&_(e,"Number expected"),ngDevMode&&x(e,-1,"Not a valid state."),ngDevMode&&I(32767&e,Te,"Parent injector must be pointing past HEADER_OFFSET."),32767&e}function jn(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let kn=!0;function Nn(e){const t=kn;return kn=e,t}let Rn=0;function Fn(e,t){const n=Vn(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ln(r.data,e),Ln(t,null),Ln(r.blueprint,null));const o=$n(e,t),i=e.injectorIndex;if(Tn(o)){const e=An(o),n=jn(o,t),r=n[1].data;for(let o=0;o<8;o++)t[i+o]=n[e+o]|r[e+o]}return t[i+8]=o,i}function Ln(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:(ngDevMode&&k(t,e.injectorIndex),e.injectorIndex)}function $n(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const e=o[1],t=e.type;if(2===t?(ngDevMode&&T(e.declTNode,"Embedded TNodes should have declaration parents."),r=e.declTNode):1===t?r=o[6]:(ngDevMode&&C(e.type,0,"Root type expected"),r=null),null===r)return Mn;if(ngDevMode&&r&&Ve(r,o[15]),n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mn}function Hn(e,t,n){!function(e,t,n){let r;ngDevMode&&C(t.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(he)&&(r=n[he]),null==r&&(r=n[he]=Rn++);const o=255&r,i=1<<o;t.data[e+(o>>5)]|=i}(e,t,n)}function Un(e,t,n){if(n&q.Optional)return e;m(t,"NodeInjector")}function Bn(e,t,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){const o=e[9],i=G(void 0);try{return o?o.get(t,r,n&q.Optional):J(t,r,n&q.Optional)}finally{G(i)}}return Un(r,t,n)}function Wn(e,t,n,r=q.Default,o){if(null!==e){const i=function(e){if(ngDevMode&&T(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(he)?e[he]:void 0;return"number"==typeof t?t>=0?255&t:(ngDevMode&&C(t,-1,"Expecting to get Special Injector Id"),qn):t}(n);if("function"==typeof i){if(!nn(t,e,r))return r&q.Host?Un(o,n,r):Bn(t,n,r,o);try{const e=i(r);if(null!=e||r&q.Optional)return e;m(n)}finally{un()}}else if("number"==typeof i){let o=null,s=Vn(e,t),a=Mn,u=r&q.Host?t[16][6]:null;for((-1===s||r&q.SkipSelf)&&(a=-1===s?$n(e,t):t[s+8],a!==Mn&&Qn(r,!1)?(o=t[1],s=An(a),t=jn(a,t)):s=-1);-1!==s;){ngDevMode&&Xe(t,s);const e=t[1];if(ngDevMode&&Ve(e.data[s+8],t),Zn(i,s,e.data)){const e=Kn(s,t,n,o,r,u);if(e!==zn)return e}a=t[s+8],a!==Mn&&Qn(r,t[1].data[s+8]===u)&&Zn(i,s,t)?(o=e,s=An(a),t=jn(a,t)):s=-1}}}return Bn(t,n,r,o)}const zn={};function qn(){return new Yn(Rt(),jt())}function Kn(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],u=Gn(a,s,n,null==r?Re(a)&&kn:r!=s&&0!=(3&a.type),o&q.Host&&i===a);return null!==u?Jn(t,s,u,a):zn}function Gn(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,u=e.directiveStart,c=e.directiveEnd,l=i>>20,f=o?a+l:c;for(let e=r?a:a+l;e<f;e++){const t=s[e];if(e<u&&n===t||e>=u&&t.type===n)return e}if(o){const e=s[u];if(e&&Le(e)&&e.type===n)return u}return null}function Jn(e,t,n,r){let o=e[n];const i=t.data;if(o instanceof Cn){const a=o;a.resolving&&b(y(i[n]));const u=Nn(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?G(a.injectImpl):null,l=nn(e,r,q.Default);ngDevMode&&C(l,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{o=e[n]=a.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&(ngDevMode&&(void 0!==(s=i[n]).type&&null!=s.selectors&&void 0!==s.inputs||A("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")),function(e,t,n){ngDevMode&&Ge(n);const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const r=rt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t))}finally{null!==c&&G(c),Nn(u),a.resolving=!1,un()}}var s;return o}function Zn(e,t,n){const r=1<<e;return!!(n[t+(e>>5)]&r)}function Qn(e,t){return!(e&q.Self||e&q.Host&&t)}class Yn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Wn(this._tNode,this._lView,e,n,t)}}function Xn(e){return Z((()=>{const t=e.prototype.constructor,n=t[pe]||er(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const e=o[pe]||er(o);if(e&&e!==n)return e;o=Object.getPrototypeOf(o)}return e=>new e}))}function er(e){return d(e)?()=>{const t=er(f(e));return t&&t()}:et(e)}function tr(e){return function(e,t){if(ngDevMode&&On(e,15),ngDevMode&&T(e,"expecting tNode"),"class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const o=n[r];if(Sn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Rt(),e)}const nr="__annotations__",rr="__parameters__",or="__prop__metadata__";function ir(e,t,n,r,o){return Z((()=>{const i=sr(t);function s(...e){if(this instanceof s)return i.call(this,...e),this;const t=new s(...e);return function(n){return o&&o(n,...e),(n.hasOwnProperty(nr)?n[nr]:Object.defineProperty(n,nr,{value:[]})[nr]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function sr(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function ar(e,t,n){return Z((()=>{const r=sr(t);function o(...e){if(this instanceof o)return r.apply(this,e),this;const t=new o(...e);return n.annotation=t,n;function n(e,n,r){const o=e.hasOwnProperty(rr)?e[rr]:Object.defineProperty(e,rr,{value:[]})[rr];for(;o.length<=r;)o.push(null);return(o[r]=o[r]||[]).push(t),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}function ur(e,t,n,r){return Z((()=>{const o=sr(t);function i(...e){if(this instanceof i)return o.apply(this,e),this;const t=new i(...e);return function(n,o){const i=n.constructor,s=i.hasOwnProperty(or)?i[or]:Object.defineProperty(i,or,{value:{}})[or];s[o]=s.hasOwnProperty(o)&&s[o]||[],s[o].unshift(t),r&&r(n,o,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}const cr=ar("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>tr(e)})));class lr{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?(("undefined"==typeof ngDevMode||ngDevMode)&&S(t,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=t):void 0!==t&&(this.ɵprov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fr=new lr("AnalyzeForEntryComponents");class dr{}const pr=ur("ContentChildren",((e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t)),dr),hr=ur("ContentChild",((e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),dr),vr=ur("ViewChildren",((e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},t)),dr),yr=ur("ViewChild",((e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),dr);var br,gr;function mr(e){const t=ie.ng;if(t&&t.ɵcompilerFacade)return t.ɵcompilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let t=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(t+=`The ${e.kind} is part of a library that has been partially compiled.\n`,t+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",t+="\n",t+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):t+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",t+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",t+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(t)}throw new Error("JIT compiler unavailable")}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(br||(br={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(gr||(gr={}));const _r=Function;function wr(e){return"function"==typeof e}function Mr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Mr(r,t)):t!==e&&t.push(r)}return t}function Cr(e,t){e.forEach((e=>Array.isArray(e)?Cr(e,t):t(e)))}function xr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Or(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dr(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Sr(e,t,n){let r=Ir(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){ngDevMode&&E(t,e.length,"Can't insert past array end.");let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){const t=o-2;e[o]=e[t],o--}e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Er(e,t){const n=Ir(e,t);if(n>=0)return e[1|n]}function Ir(e,t){return function(e,t,n){ngDevMode&&C(Array.isArray(e),!0,"Expecting an array");let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Pr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Tr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ar=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,jr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class kr{constructor(e){this._reflect=e||ie.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Dr(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Pr.test(n)||jr.test(n)||Tr.test(n)&&!Ar.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map((e=>e&&e.type)),n=e.map((e=>e&&Nr(e.decorators)));return this._zipTypesAndAnnotations(t,n)}const o=e.hasOwnProperty(rr)&&e[rr],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||o?this._zipTypesAndAnnotations(i,o):Dr(e.length)}parameters(e){if(!wr(e))return[];const t=Rr(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Nr(e.decorators):e.hasOwnProperty(nr)?e[nr]:null}annotations(e){if(!wr(e))return[];const t=Rr(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach((e=>{n[e]=Nr(t[e])})),n}return e.hasOwnProperty(or)?e[or]:null}propMetadata(e){if(!wr(e))return{};const t=Rr(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach((t=>{n[t]=e[t]}))}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach((e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t})),n}ownPropMetadata(e){return wr(e)&&this._ownPropMetadata(e,Rr(e))||{}}hasLifecycleHook(e,t){return e instanceof _r&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${a(e)}`}resourceUri(e){return`./${a(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Nr(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function Rr(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Fr={},Lr=/\n/gm,Vr="__source",$r=i({provide:String,useValue:i});let Hr;function Ur(e){const t=Hr;return Hr=e,t}function Br(e,t=q.Default){if(void 0===Hr){const e="undefined"==typeof ngDevMode||ngDevMode?"inject() must be called from an injection context":"";throw new p(203,e)}return null===Hr?J(e,void 0,t):Hr.get(e,t&q.Optional?null:void 0,t)}function Wr(e,t=q.Default){return(K||Br)(f(e),t)}function zr(e){const t=ngDevMode?`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`:"invalid";throw new Error(t)}const qr=Wr;function Kr(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length){const e="undefined"==typeof ngDevMode||ngDevMode?"Arguments array must have arguments.":"";throw new p(900,e)}let e,n=q.Default;for(let t=0;t<r.length;t++){const o=r[t],i=o.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=o.token:n|=i:e=o}t.push(Wr(e,n))}else t.push(Wr(r))}return t}function Gr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Jr=Gr(ar("Inject",(e=>({token:e}))),-1),Zr=Gr(ar("Optional"),8),Qr=Gr(ar("Self"),2),Yr=Gr(ar("SkipSelf"),4),Xr=Gr(ar("Host"),1);let eo=null;function to(){return eo=eo||new kr}function no(e){return ro(to().parameters(e))}function ro(e){return e.map((e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof Zr||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof Yr||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof Qr||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof Xr||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof Jr)t.token=r.token;else if(r instanceof cr){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e)))}function oo(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const o=e(t);n.set(t,r=o.then(co))}return r}return io.forEach(((e,n)=>{const o=[];e.templateUrl&&o.push(r(e.templateUrl).then((t=>{e.template=t})));const i=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;i&&i.forEach(((t,n)=>{s.push(""),o.push(r(t).then((r=>{s[a+n]=r,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));const u=Promise.all(o).then((()=>function(e){so.delete(e)}(n)));t.push(u)})),uo(),Promise.all(t).then((()=>{}))}let io=new Map;const so=new Set;function ao(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function uo(){const e=io;return io=new Map,e}function co(e){return"string"==typeof e?e:e.text()}let lo,fo;function po(){if(void 0===lo&&(lo=null,ie.trustedTypes))try{lo=ie.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return lo}function ho(e){var t;return(null===(t=po())||void 0===t?void 0:t.createHTML(e))||e}function vo(){if(void 0===fo&&(fo=null,ie.trustedTypes))try{fo=ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return fo}function yo(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createHTML(e))||e}function bo(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createScript(e))||e}function go(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createScriptURL(e))||e}class mo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _o extends mo{getTypeName(){return"HTML"}}class wo extends mo{getTypeName(){return"Style"}}class Mo extends mo{getTypeName(){return"Script"}}class Co extends mo{getTypeName(){return"URL"}}class xo extends mo{getTypeName(){return"ResourceURL"}}function Oo(e){return e instanceof mo?e.changingThisBreaksApplicationSecurity:e}function Do(e,t){const n=So(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function So(e){return e instanceof mo&&e.getTypeName()||null}function Eo(e){return new _o(e)}function Io(e){return new wo(e)}function Po(e){return new Mo(e)}function To(e){return new Co(e)}function Ao(e){return new xo(e)}function jo(e){const t=new No(e);return function(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch(e){return!1}}()?new ko(t):t}class ko{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ho(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(e){return null}}}class No{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ho(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=ho(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ro=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lo(e){return(e=String(e)).match(Ro)||e.match(Fo)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see https://g.co/ng/security#xss)`),"unsafe:"+e)}function Vo(e){return(e=String(e)).split(",").map((e=>Lo(e.trim()))).join(", ")}function $o(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ho(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Uo=$o("area,br,col,hr,img,wbr"),Bo=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wo=$o("rp,rt"),zo=Ho(Wo,Bo),qo=Ho(Bo,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko=Ho(Wo,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Go=Ho(Uo,qo,Ko,zo),Jo=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zo=$o("srcset"),Qo=$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo=$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xo=Ho(Jo,Zo,Qo,Yo),ei=$o("script,style,template");class ti{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Go.hasOwnProperty(t))return this.sanitizedSomething=!0,!ei.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),r=t.name,o=r.toLowerCase();if(!Xo.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let i=t.value;Jo[o]&&(i=Lo(i)),Zo[o]&&(i=Vo(i)),this.buf.push(" ",r,'="',oi(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Go.hasOwnProperty(t)&&!Uo.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(oi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ri=/([^\#-~ |!])/g;function oi(e){return e.replace(/&/g,"&amp;").replace(ni,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ri,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ii;function si(e,t){let n=null;try{ii=ii||jo(e);let r=t?String(t):"";n=ii.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=ii.getInertBodyElement(r)}while(r!==i);const s=new ti,a=s.sanitizeChildren(ai(n)||n);return("undefined"==typeof ngDevMode||ngDevMode)&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),ho(a)}finally{if(n){const e=ai(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ai(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ui;function ci(e){const t=bi();return t?yo(t.sanitize(ui.HTML,e)||""):Do(e,"HTML")?yo(Oo(e)):si(ht(),v(e))}function li(e){const t=bi();return t?t.sanitize(ui.STYLE,e)||"":Do(e,"Style")?Oo(e):v(e)}function fi(e){const t=bi();return t?t.sanitize(ui.URL,e)||"":Do(e,"URL")?Oo(e):Lo(v(e))}function di(e){const t=bi();if(t)return go(t.sanitize(ui.RESOURCE_URL,e)||"");if(Do(e,"ResourceURL"))return go(Oo(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a resource URL context (see https://g.co/ng/security#xss)":"";throw new p(904,n)}function pi(e){const t=bi();if(t)return bo(t.sanitize(ui.SCRIPT,e)||"");if(Do(e,"Script"))return bo(Oo(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a script context":"";throw new p(905,n)}function hi(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return ho(e[0])}function vi(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function(e){var t;return(null===(t=po())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function yi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?di:fi}(t,n)(e)}function bi(){const e=jt();return e&&e[12]}function gi(e){let t=Mi(e);if(t){if(Array.isArray(t)){const r=t;let o,i,s;if((n=e)&&n.constructor&&n.constructor.ɵcmp){if(o=Di(r,e),-1==o)throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.ɵdir}(e)){if(o=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveStart,o=n.directiveEnd;for(let i=r;i<o;i++)if(e[i]===t)return n.index;n=Oi(n)}return-1}(r,e),-1==o)throw new Error("The provided directive was not found in the application");s=Si(o,r,!1)}else if(o=xi(r,e),-1==o)return null;const a=gt(r[o]),u=Mi(a),c=u&&!Array.isArray(u)?u:mi(r,o,a);if(i&&void 0===c.component&&(c.component=i,wi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)wi(s[e],c)}wi(c.native,c),t=c}}else{const n=e;ngDevMode&&j(n);let r=n;for(;r=r.parentNode;){const e=Mi(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const o=xi(r,n);if(o>=0){const e=gt(r[o]),n=mi(r,o,e);wi(e,n),t=n;break}}}}var n;return t||null}function mi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function _i(e){let t,n=Mi(e);if(Array.isArray(n)){const r=Di(n,e);t=Ct(r,n);const o=mi(n,r,t[0]);o.component=e,wi(e,o),wi(o.native,o)}else{const e=n;t=Ct(e.nodeIndex,e.lView)}return t}function wi(e,t){ngDevMode&&T(e,"Target expected"),e.__ngContext__=t}function Mi(e){return ngDevMode&&T(e,"Target expected"),e.__ngContext__||null}function Ci(e){const t=Mi(e);return t?Array.isArray(t)?t:t.lView:null}function xi(e,t){const n=e[1];for(let r=Te;r<n.bindingStartIndex;r++)if(gt(e[r])===t)return r;return-1}function Oi(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Di(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const o=n[r];if(Ct(o,e)[8]===t)return o}else if(Ct(Te,e)[8]===t)return Te;return-1}function Si(e,t,n){const r=t[1].data[e];let o=r.directiveStart;if(0==o)return ue;const i=r.directiveEnd;return!n&&2&r.flags&&o++,t.slice(o,i)}function Ei(e){return e.ngOriginalError}function Ii(e,...t){e.error(...t)}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(ui||(ui={}));class Pi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(e){return e&&e.ngErrorLogger||Ii}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ei(e);for(;t&&Ei(t);)t=Ei(t);return t||null}}const Ti={name:"custom-elements"},Ai={name:"no-errors-schema"},ji=/^>|^->|<!--|-->|--!>|<!-$/g,ki=/(<|>)/;function Ni(e){return e.replace(ji,(e=>e.replace(ki,"​$1​")))}const Ri=/([A-Z])/g,Fi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ie);function Li(e){return e.ownerDocument.defaultView}function Vi(e){return e.ownerDocument}function $i(e){return e.ownerDocument.body}const Hi="�";function Ui(e){return e instanceof Function?e():e}function Bi(e){throw new p(-300,`Multiple components match node with tagname ${e.value}`)}function Wi(e,t,n,r,o){const[i,s,...a]=r.split(Hi);let u=s,c=s;for(let r=0;r<a.length;r++){const i=t+r;u+=`${e[i]}${a[r]}`,c+=`${i===n?o:e[i]}${a[r]}`}return{propName:i,oldValue:u,newValue:c}}var zi;let qi;function Ki(e,t){return qi(e,t)}function Gi(e){ngDevMode&&Ke(e);const t=e[3];return ke(t)?t[3]:t}function Ji(e){const t=function(e){ngDevMode&&T(e,"component");let t=je(e)?e:Ci(e);for(;t&&!(512&t[2]);)t=Gi(t);return ngDevMode&&Ke(t),t}(e);return ngDevMode&&T(t[8],"RootView has no context. Perhaps it is disconnected?"),t[8]}function Zi(e){return Yi(e[13])}function Qi(e){return Yi(e[4])}function Yi(e){for(;null!==e&&!ke(e);)e=e[4];return e}function Xi(e,t,n,r,o){if(null!=r){let i,s=!1;ke(r)?i=r:je(r)&&(s=!0,ngDevMode&&T(r[0],"HOST must be defined for a component LView"),r=r[0]);const a=gt(r);ngDevMode&&!yt(t)&&j(a),0===e&&null!==n?null==o?fs(t,n,a):ls(t,n,a,o||null,!0):1===e&&null!==n?ls(t,n,a,o||null,!0):2===e?Cs(t,a,s):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(a)),null!=i&&function(e,t,n,r,o){ngDevMode&&ze(n);const i=n[7];i!==gt(n)&&Xi(t,e,r,i,o);for(let o=Pe;o<n.length;o++){const s=n[o];Os(s[1],s,e,t,r,i)}}(t,e,i,n,o)}}function es(e,t){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,yt(e)?e.createText(t):e.createTextNode(t)}function ts(e,t,n){ngDevMode&&ngDevMode.rendererSetText++,yt(e)?e.setValue(t,n):t.textContent=n}function ns(e,t){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(Ni(t))}function rs(e,t,n){if(ngDevMode&&ngDevMode.rendererCreateElement++,yt(e))return e.createElement(t,n);{const r=null!==n?function(e){const t=e.toLowerCase();return t===lt?"http://www.w3.org/2000/svg":t===ft?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function os(e,t){ngDevMode&&ze(e),ngDevMode&&T(e[9],"A projected view should belong to a non-empty projected views collection");const n=e[9],r=n.indexOf(t),o=t[3];ngDevMode&&ze(o),1024&t[2]&&(t[2]&=-1025,Et(o,-1)),n.splice(r,1)}function is(e,t){if(e.length<=Pe)return;const n=Pe+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&os(i,r),t>0&&(e[n-1][4]=r[4]);const s=Or(e,Pe+t);Os(r[1],o=r,o[11],2,null,null),o[0]=null,o[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var o;return r}function ss(e,t){if(!(256&t[2])){const n=t[11];yt(n)&&n.destroyNode&&Os(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return as(e[1],e);for(;t;){let n=null;if(je(t))n=t[13];else{ngDevMode&&ze(t);const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)je(t)&&as(t[1],t),t=t[3];null===t&&(t=e),je(t)&&as(t[1],t),n=t&&t[4]}t=n}}(t)}}function as(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const r=t[n[e]];if(!(r instanceof Cn)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=r[t[e]],o=t[e+1];ct(4,n,o);try{o.call(n)}finally{ct(5,n,o)}}else{ct(4,r,t);try{t.call(r)}finally{ct(5,r,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const i=n[e+1],s="function"==typeof i?i(t):gt(t[i]),a=r[o=n[e+2]],u=n[e+3];"boolean"==typeof u?s.removeEventListener(n[e],a,u):u>=0?r[o=u]():r[o=-u].unsubscribe(),e+=2}else{const t=r[o=n[e+1]];n[e].call(t)}if(null!==r){for(let e=o+1;e<r.length;e++){const t=r[e];ngDevMode&&(s="Expecting instance cleanup function.","function"!=typeof(i=t)&&A(s,null===i?"null":typeof i,"function","===")),t()}t[7]=null}var i,s}(e,t),1===t[1].type&&yt(t[11])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[11].destroy());const n=t[17];if(null!==n&&ke(t[3])){n!==t[3]&&os(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function us(e,t,n){return cs(e,t.parent,n)}function cs(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(ngDevMode&&On(r,7),2&r.flags){ngDevMode&&Ve(r,n);const t=e.data[r.directiveStart].encapsulation;if(t===X.None||t===X.Emulated)return null}return _t(r,n)}function ls(e,t,n,r,o){ngDevMode&&ngDevMode.rendererInsertBefore++,yt(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function fs(e,t,n){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&T(t,"parent node must be defined"),yt(e)?e.appendChild(t,n):t.appendChild(n)}function ds(e,t,n,r,o){null!==r?ls(e,t,n,r,o):fs(e,t,n)}function ps(e,t){return yt(e)?e.parentNode(t):t.parentNode}function hs(e,t,n){return bs(e,t,n)}function vs(e,t,n){return 40&e.type?_t(e,n):null}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(zi||(zi={}));let ys,bs=vs;function gs(e,t){bs=e,ys=t}function ms(e,t,n,r){const o=us(e,r,t),i=t[11],s=hs(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let e=0;e<n.length;e++)ds(i,o,n[e],s,!1);else ds(i,o,n,s,!1);void 0!==ys&&ys(i,r,t,n,o)}function _s(e,t){if(null!==t){ngDevMode&&On(t,63);const n=t.type;if(3&n)return _t(t,e);if(4&n)return Ms(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return _s(e,n);{const n=e[t.index];return ke(n)?Ms(-1,n):gt(n)}}if(32&n)return Ki(t,e)()||gt(e[t.index]);{const n=ws(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=Gi(e[16]);return ngDevMode&&Ye(t),_s(t,n)}return _s(e,t.next)}}return null}function ws(e,t){if(null!==t){const n=e[16][6],r=t.projection;return ngDevMode&&function(e,t){T(e[16],"Component views should exist."),T(e[16][6].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),n.projection[r]}return null}function Ms(e,t){const n=Pe+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return _s(e,r)}return t[7]}function Cs(e,t,n){ngDevMode&&ngDevMode.rendererRemoveNode++;const r=ps(e,t);r&&function(e,t,n,r){yt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function xs(e,t,n,r,o,i,s){for(;null!=n;){ngDevMode&&Ve(n,r),ngDevMode&&On(n,63);const a=r[n.index],u=n.type;if(s&&0===t&&(a&&wi(gt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)xs(e,t,n.child,r,o,i,!1),Xi(t,e,o,a,i);else if(32&u){const s=Ki(n,r);let u;for(;u=s();)Xi(t,e,o,u,i);Xi(t,e,o,a,i)}else 16&u?Ds(e,t,r,n,o,i):(ngDevMode&&On(n,7),Xi(t,e,o,a,i));n=s?n.projectionNext:n.next}}function Os(e,t,n,r,o,i){xs(n,r,e.firstChild,t,o,i,!1)}function Ds(e,t,n,r,o,i){const s=n[16],a=s[6];ngDevMode&&C(typeof r.projection,"number","expecting projection index");const u=a.projection[r.projection];if(Array.isArray(u))for(let n=0;n<u.length;n++)Xi(t,e,o,u[n],i);else xs(e,t,u,s[3],o,i,!0)}function Ss(e,t,n){ngDevMode&&M(n,"'newValue' should be a string"),yt(e)?e.setAttribute(t,"style",n):t.style.cssText=n,ngDevMode&&ngDevMode.rendererSetStyle++}function Es(e,t,n){ngDevMode&&M(n,"'newValue' should be a string"),yt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n,ngDevMode&&ngDevMode.rendererSetClassName++}function Is(e,t,n){ngDevMode&&x(t,"",'can not look for "" string.');let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const n=t.length;if(o+n===r||e.charCodeAt(o+n)<=32)return o}n=o+1}}const Ps="ng-template";function Ts(e,t,n){ngDevMode&&C(t,t.toLowerCase(),"Class name expected to be lowercase.");let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==Is(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function As(e){return 4===e.type&&e.value!==Ps}function js(e,t,n){return t===(4!==e.type||n?e.value:Ps)}function ks(e,t,n){ngDevMode&&T(t[0],"Selector should have a tag name");let r=4;const o=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(Sn(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!js(e,u,n)||""===u&&1===t.length){if(Ns(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Ts(e.attrs,c,n)){if(Ns(r))return!1;s=!0}continue}const l=Rs(8&r?"class":u,o,As(e),n);if(-1===l){if(Ns(r))return!1;s=!0;continue}if(""!==c){let e;l>i?e="":(ngDevMode&&x(o[l],0,"We do not match directives on namespaced attributes"),e=o[l+1].toLowerCase());const t=8&r?e:null;if(t&&-1!==Is(t,c,0)||2&r&&c!==e){if(Ns(r))return!1;s=!0}}}}else{if(!s&&!Ns(r)&&!Ns(u))return!1;if(s&&Ns(u))continue;s=!1,r=u|1&r}}return Ns(r)||s}function Ns(e){return 0==(1&e)}function Rs(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let n=!1;for(;o<t.length;){const r=t[o];if(r===e)return o;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++o];for(;"string"==typeof e;)e=t[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Fs(e,t,n=!1){for(let r=0;r<t.length;r++)if(ks(e,t[r],n))return!0;return!1}function Ls(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function Vs(e,t){return e?":not("+t.trim()+")":t}function $s(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];o+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""===o||Ns(s)||(t+=Vs(i,o),o=""),r=s,i=i||!Ns(r);n++}return""!==o&&(t+=Vs(i,o)),t}const Hs="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function Us(e){ngDevMode&&I(e,0,"Can only advance forward"),Bs(kt(),jt(),ln()+e,Ut())}function Bs(e,t,n,r){if(ngDevMode&&function(e,t){const n=e[1];Qe(Te,n.bindingStartIndex,t)}(t,n),!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&bn(t,r,n)}else{const r=e.preOrderHooks;null!==r&&gn(t,r,0,n)}fn(n)}function Ws(e){if(!ngDevMode)throw new Error("Looks like we are in 'prod mode', but we are creating a named Array type, which is wrong! Check your code");try{return function(...e){if("undefined"==typeof ngDevMode)throw new Error("newTrustedFunctionForDev should never be called in production");if(!ie.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=ie.eval((r=t,(null===(o=po())||void 0===o?void 0:o.createScript(r))||r));var r,o;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(ie))}("Array",`return class ${e} extends Array{}`)(Array)}catch(e){return Array}}function zs(e,t){return ngDevMode&&w(e,0,32767),ngDevMode&&w(t,0,32767),e<<17|t<<2}function qs(e){return ngDevMode&&_(e,"expected number"),e>>17&32767}function Ks(e){return ngDevMode&&_(e,"expected number"),2==(2&e)}function Gs(e){return ngDevMode&&_(e,"expected number"),2|e}function Js(e){return ngDevMode&&_(e,"expected number"),(131068&e)>>2}function Zs(e,t){return ngDevMode&&_(e,"expected number"),ngDevMode&&w(t,0,32767),-131069&e|t<<2}function Qs(e){return ngDevMode&&_(e,"expected number"),1==(1&e)}function Ys(e){return ngDevMode&&_(e,"expected number"),1|e}function Xs(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{value:t,enumerable:!1})}function ea(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:t,enumerable:!1})}let ta,na,ra,oa,ia;class sa extends Array{}class aa extends Array{}class ua extends Array{}function ca(e){if(null==e)return"";const t=e.lastIndexOf("_Template");return"_"+(-1===t?e:e.substr(0,t))}function la(e,t){const n=e.tView_.data,r=[],o=t?e.classBindings:e.styleBindings,i=qs(o),s=Js(o);let a=0!==s,u=a?s:i;for(;0!==u;){const e=n[u],t=n[u+1];r.unshift({key:e,index:u,isTemplate:a,prevDuplicate:Ks(t),nextDuplicate:Qs(t),nextIndex:Js(t),prevIndex:qs(t)}),u===i&&(a=!1),u=qs(t)}return r.push((t?e.residualClasses:e.residualStyles)||null),r}function fa(e,t){for(;e;)t.push(e.template_),e=e.next}class da extends Array{}let pa;class ha extends Array{}class va extends Array{}class ya extends Array{}class ba extends Array{}class ga extends Array{}class ma extends Array{}class _a extends Array{}function wa(e){if(e){const t=e.debug;return T(t,"Object does not have a debug representation."),t}return e}function Ma(e,t=!1){const n=gt(e);if(n)switch(n.nodeType){case Node.TEXT_NODE:return n.textContent;case Node.COMMENT_NODE:return`\x3c!--${n.textContent}--\x3e`;case Node.ELEMENT_NODE:const e=n.outerHTML;if(t)return e;{const t=">"+n.innerHTML+"<";return e.split(t)[0]+">"}}return null}class Ca{constructor(e){this._raw_lView=e}get flags(){const e=this._raw_lView[2];return{__raw__flags__:e,initPhaseState:3&e,creationMode:!!(4&e),firstViewPass:!!(8&e),checkAlways:!!(16&e),dirty:!!(64&e),attached:!!(128&e),destroyed:!!(256&e),isRoot:!!(512&e),indexWithinInitPhase:e>>11}}get parent(){return wa(this._raw_lView[3])}get hostHTML(){return Ma(this._raw_lView[0],!0)}get html(){return(this.nodes||[]).map(xa).join("")}get context(){return this._raw_lView[8]}get nodes(){const e=this._raw_lView;return Da(e[1].firstChild,e)}get template(){return this.tView.template_}get tView(){return this._raw_lView[1]}get cleanup(){return this._raw_lView[7]}get injector(){return this._raw_lView[9]}get rendererFactory(){return this._raw_lView[10]}get renderer(){return this._raw_lView[11]}get sanitizer(){return this._raw_lView[12]}get childHead(){return wa(this._raw_lView[13])}get next(){return wa(this._raw_lView[4])}get childTail(){return wa(this._raw_lView[14])}get declarationView(){return wa(this._raw_lView[15])}get queries(){return this._raw_lView[19]}get tHost(){return this._raw_lView[6]}get decls(){return Oa(this.tView,this._raw_lView,Te,this.tView.bindingStartIndex)}get vars(){return Oa(this.tView,this._raw_lView,this.tView.bindingStartIndex,this.tView.expandoStartIndex)}get expando(){return Oa(this.tView,this._raw_lView,this.tView.expandoStartIndex,this._raw_lView.length)}get childViews(){const e=[];let t=this.childHead;for(;t;)e.push(t),t=t.next;return e}}function xa(e){if("ElementContainer"===e.type)return(e.children||[]).map(xa).join("");if("IcuContainer"===e.type)throw new Error("Not implemented");return Ma(e.native,!0)||""}function Oa(e,t,n,r){let o=[];for(let i=n;i<r;i++)o.push({index:i,t:e.data[i],l:t[i]});return{start:n,end:r,length:r-n,content:o}}function Da(e,t){if(e){const n=[];let r=e;for(;r;)n.push(Sa(r,t)),r=r.next;return n}return[]}function Sa(e,t){const n=gt(t[e.index]),r=[],o=[],i=t[1];for(let n=e.directiveStart;n<e.directiveEnd;n++){const e=i.data[n];r.push(e.type),o.push(t[n])}return{html:Ma(n),type:xn(e.type),tNode:e,native:n,children:Da(e.child,t),factories:r,instances:o,injector:Ea(e,i,t),get injectorResolutionPath(){return e.debugNodeInjectorPath(t)}}}function Ea(e,t,n){const r=[];for(let n=e.providerIndexStart_;n<e.providerIndexEnd_;n++)r.push(t.data[n]);const o=[];for(let n=e.providerIndexEnd_;n<e.directiveEnd;n++)o.push(t.data[n]);return{bloom:Pa(n,e.injectorIndex),cumulativeBloom:Pa(t.data,e.injectorIndex),providers:o,viewProviders:r,parentInjectorIndex:n[e.providerIndexStart_-1]}}function Ia(e,t){const n=e[t];if("number"!=typeof n)return"????????";const r="00000000"+n.toString(2);return r.substring(r.length-8)}function Pa(e,t){return t<0?"NO_NODE_INJECTOR":`${Ia(e,t+7)}_${Ia(e,t+6)}_${Ia(e,t+5)}_${Ia(e,t+4)}_${Ia(e,t+3)}_${Ia(e,t+2)}_${Ia(e,t+1)}_${Ia(e,t+0)}`}class Ta{constructor(e){this._raw_lContainer=e}get hasTransplantedViews(){return this._raw_lContainer[2]}get views(){return this._raw_lContainer.slice(Pe).map(wa)}get parent(){return wa(this._raw_lContainer[3])}get movedViews(){return this._raw_lContainer[9]}get host(){return this._raw_lContainer[0]}get native(){return this._raw_lContainer[7]}get next(){return wa(this._raw_lContainer[4])}}const Aa=Promise.resolve(null);function ja(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];ngDevMode&&T(n,"DirectiveDef not found."),ngDevMode&&T(n.contentQueries,"contentQueries function should be defined"),en(o),n.contentQueries(2,t[i],i)}}}function ka(e,t,n,r,o,i,s,a,u,c){const l=ngDevMode?function(e){return function(e,t){switch(e){case 0:return void 0===ra&&(ra=new sa),ra;case 1:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===oa&&(oa=new aa),oa;void 0===ta&&(ta=new Map);let e=ta.get(t);return void 0===e&&(e=new(Ws("LComponentView"+ca(t))),ta.set(t,e)),e;case 2:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===ia&&(ia=new ua),ia;void 0===na&&(na=new Map);let n=na.get(t);return void 0===n&&(n=new(Ws("LEmbeddedView"+ca(t))),na.set(t,n)),n}}(e.type,e.template&&e.template.name).concat(e.blueprint)}(t):t.blueprint.slice();return l[0]=o,l[2]=140|r,St(l),ngDevMode&&t.declTNode&&e&&Ve(t.declTNode,e),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],ngDevMode&&T(l[10],"RendererFactory is required"),l[11]=a||e&&e[11],ngDevMode&&T(l[11],"Renderer is required"),l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=i,ngDevMode&&C(2!=t.type||null!==e,!0,"Embedded views must have parentLView"),l[16]=2==t.type?e[16]:l,ngDevMode&&function(e){Xs(e,new Ca(e))}(l),l}function Na(e,t,n,r,o){ngDevMode&&0!==t&&P(t,Te,"TNodes can't be in the LView header."),ngDevMode&&function(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&A(`Expected TNodeType to have only a single type selected, but got ${xn(e)}.`)}(n);let i=e.data[t];if(null===i)i=Ra(e,t,n,r,o),It.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=Lt();i.injectorIndex=null===s?-1:s.injectorIndex,ngDevMode&&$e(i,e),ngDevMode&&C(t,i.index,"Expecting same index")}return Vt(i,!0),i}function Ra(e,t,n,r,o){const i=Ft(),s=$t(),a=s?i:i&&i.parent,u=e.data[t]=function(e,t,n,r,o,i){ngDevMode&&0!==r&&P(r,Te,"TNodes can't be in the LView header."),ngDevMode&&D(i,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&t&&$e(t,e);let s=t?t.injectorIndex:-1;const a=ngDevMode?new class{constructor(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g,m,_,w,M,C,x,O,D,S,E,I,P,T){this.tView_=e,this.type=t,this.index=n,this.insertBeforeIndex=r,this.injectorIndex=o,this.directiveStart=i,this.directiveEnd=s,this.directiveStylingLast=a,this.propertyBindings=u,this.flags=c,this.providerIndexes=l,this.value=f,this.attrs=d,this.mergedAttrs=p,this.localNames=h,this.initialInputs=v,this.inputs=y,this.outputs=b,this.tViews=g,this.next=m,this.projectionNext=_,this.child=w,this.parent=M,this.projection=C,this.styles=x,this.stylesWithoutHost=O,this.residualStyles=D,this.classes=S,this.classesWithoutHost=E,this.residualClasses=I,this.classBindings=P,this.styleBindings=T}debugNodeInjectorPath(e){const t=[];let n=Vn(this,e);if(-1===n){const t=$n(this,e);t!==Mn&&(n=An(t),e=jn(t,e))}for(;-1!==n;){ngDevMode&&Xe(e,n);const r=e[1].data[n+8];t.push(Sa(r,e));const o=e[n+8];o===Mn?n=-1:(n=An(o),e=jn(o,e))}return t}get type_(){return xn(this.type)||`TNodeType.?${this.type}?`}get flags_(){const e=[];return 16&this.flags&&e.push("TNodeFlags.hasClassInput"),8&this.flags&&e.push("TNodeFlags.hasContentQuery"),32&this.flags&&e.push("TNodeFlags.hasStyleInput"),128&this.flags&&e.push("TNodeFlags.hasHostBindings"),2&this.flags&&e.push("TNodeFlags.isComponentHost"),1&this.flags&&e.push("TNodeFlags.isDirectiveHost"),64&this.flags&&e.push("TNodeFlags.isDetached"),4&this.flags&&e.push("TNodeFlags.isProjected"),e.join("|")}get template_(){if(1&this.type)return this.value;const e=[],t="string"==typeof this.value&&this.value||this.type_;if(e.push("<",t),this.flags&&e.push(" ",this.flags_),this.attrs)for(let t=0;t<this.attrs.length;){const n=this.attrs[t++];if("number"==typeof n)break;const r=this.attrs[t++];e.push(" ",n,'="',r,'"')}return e.push(">"),fa(this.child,e),e.push("</",t,">"),e.join("")}get styleBindings_(){return la(this,!1)}get classBindings_(){return la(this,!0)}get providerIndexStart_(){return 1048575&this.providerIndexes}get providerIndexEnd_(){return this.providerIndexStart_+(this.providerIndexes>>>20)}}(e,n,r,null,s,-1,-1,-1,null,0,0,o,i,null,null,void 0,null,null,null,null,null,null,t,null,null,null,void 0,null,null,void 0,0,0):{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return ngDevMode&&Object.seal(a),a}(e,a,n,t,r,o);return null===e.firstChild&&(e.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}function Fa(e,t,n,r){if(0===n)return-1;ngDevMode&&(Ge(e),O(e,t[1],"`LView` must be associated with `TView`!"),C(e.data.length,t.length,"Expecting LView to be same size as TView"),C(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),Je(e));const o=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function La(e,t,n){ngDevMode&&C(xt(t),!0,"Should be run in creation mode"),rn(t);try{const r=e.viewQuery;null!==r&&Mu(1,r,n);const o=e.template;null!==o&&Ha(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ja(e,t),e.staticViewQueries&&Mu(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)yu(e,t[n])}(t,i)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[2]&=-5,cn()}}function Va(e,t,n,r){ngDevMode&&C(xt(t),!1,"Should be run in update mode");const o=t[2];if(256==(256&o))return;rn(t);const i=Ut();try{St(t),qt(e.bindingStartIndex),null!==n&&Ha(e,t,n,2,r);const s=3==(3&o);if(!i)if(s){const n=e.preOrderCheckHooks;null!==n&&bn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&gn(t,n,0,null),mn(t,0)}if(function(e){for(let t=Zi(e);null!==t;t=Qi(t)){if(!t[2])continue;const e=t[9];ngDevMode&&T(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let t=0;t<e.length;t++){const n=e[t],r=n[3];ngDevMode&&ze(r),0==(1024&n[2])&&Et(r,1),n[2]|=1024}}}(t),function(e){for(let t=Zi(e);null!==t;t=Qi(t))for(let e=Pe;e<t.length;e++){const n=t[e],r=n[1];ngDevMode&&T(r,"TView must be allocated"),Ot(n)&&Va(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&ja(e,t),!i)if(s){const n=e.contentCheckHooks;null!==n&&bn(t,n)}else{const n=e.contentHooks;null!==n&&gn(t,n,1),mn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)fn(~r);else{const o=r,i=n[++e],s=n[++e];Zt(i,o),s(2,t[o])}}}finally{fn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)hu(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Mu(2,u,r),!i)if(s){const n=e.viewCheckHooks;null!==n&&bn(t,n)}else{const n=e.viewHooks;null!==n&&gn(t,n,2),mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Et(t[3],-1))}finally{cn()}}function $a(e,t,n,r){const o=t[10],i=!Ut(),s=xt(t);try{i&&!s&&o.begin&&o.begin(),s&&La(e,t,r),Va(e,t,n,r)}finally{i&&!s&&o.end&&o.end()}}function Ha(e,t,n,r,o){const i=ln(),s=2&r;try{fn(-1),s&&t.length>Te&&Bs(e,t,Te,Ut()),ct(s?2:0,o),n(r,o)}finally{fn(i),ct(s?3:1,o)}}function Ua(e,t,n){if(Ne(t)){const r=t.directiveStart,o=t.directiveEnd;for(let t=r;t<o;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function Ba(e,t,n){Pt()&&(function(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Fn(n,t),wi(r,t);const s=n.initialInputs;for(let r=o;r<i;r++){const i=e.data[r],a=Le(i);a&&(ngDevMode&&On(n,3),au(t,n,i));const u=Jn(t,e,r,n);wi(u,t),null!==s&&lu(t,r-o,u,i,n,s),a&&(Ct(n.index,t)[8]=u)}}(e,t,n,_t(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=(e.firstCreatePass,n.index),s=It.lFrame.currentDirectiveIndex;try{fn(i);for(let n=r;n<o;n++){const r=e.data[n],o=t[n];Qt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||nu(r,o)}}finally{fn(-1),Qt(s)}}(e,t,n))}function Wa(e,t,n=_t){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function za(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=qa(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function qa(e,t,n,r,o,i,s,a,u,c){ngDevMode&&ngDevMode.tView++;const l=Te+r,f=l+o,d=function(e,t){const n=ngDevMode?new ha:[];for(let r=0;r<t;r++)n.push(r<e?null:Hs);return n}(l,f),p="function"==typeof c?c():c,h=d[1]=ngDevMode?new class{constructor(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g,m,_,w,M,C,x,O,D,S,E,I,P,T){this.type=e,this.blueprint=t,this.template=n,this.queries=r,this.viewQuery=o,this.declTNode=i,this.data=s,this.bindingStartIndex=a,this.expandoStartIndex=u,this.hostBindingOpCodes=c,this.firstCreatePass=l,this.firstUpdatePass=f,this.staticViewQueries=d,this.staticContentQueries=p,this.preOrderHooks=h,this.preOrderCheckHooks=v,this.contentHooks=y,this.contentCheckHooks=b,this.viewHooks=g,this.viewCheckHooks=m,this.destroyHooks=_,this.cleanup=w,this.contentQueries=M,this.components=C,this.directiveRegistry=x,this.pipeRegistry=O,this.firstChild=D,this.schemas=S,this.consts=E,this.incompleteFirstPass=I,this._decls=P,this._vars=T}get template_(){const e=[];return fa(this.firstChild,e),e.join("")}get type_(){return Ae[this.type]||`TViewType.?${this.type}?`}}(e,d,n,null,a,t,(v=d,void 0===pa&&(pa=new da),pa.concat(v)).fill(null,l),l,f,null,!0,!0,!1,!1,null,null,null,null,null,null,null,null,null,null,"function"==typeof i?i():i,"function"==typeof s?s():s,null,u,p,!1,r,o):{type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1};var v;return ngDevMode&&Object.seal(h),h}function Ka(e,t,n){if(yt(e)){const r=n===X.ShadowDom;return e.selectRootElement(t,r)}let r="string"==typeof t?e.querySelector(t):t;return ngDevMode&&function(e,t){if(!e)throw new Error(`Renderer: ${"string"==typeof t?"Host node with selector not found:":"Host node is required:"} [${y(t)}]`)}(r,t),r.textContent="",r}function Ga(e,t,n,r){const o=Ou(t);null===n?(ngDevMode&&Object.freeze(Du(e)),o.push(r)):(o.push(n),e.firstCreatePass&&Du(e).push(r,o.length-1))}function Ja(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];n.hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function Za(e,t,n,r,o,i,s,a){ngDevMode&&D(o,Hs,"Incoming value should never be NO_CHANGE.");const u=_t(t,n);let c,l=t.inputs;if(!a&&null!=l&&(c=l[r]))Iu(e,n,c,r,o),Re(t)&&function(e,t){ngDevMode&&Ke(e);const n=Ct(t,e);16&n[2]||(n[2]|=64)}(n,t.index),ngDevMode&&function(e,t,n,r,o){if(7&n)for(let i=0;i<r.length;i+=2)Qa(e,t,n,r[i+1],o)}(n,u,t.type,c,o);else if(3&t.type){if(r="class"===(f=r)?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f,ngDevMode){if(function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new p(306,t)}}(r),!function(e,t,n,r){return null===e.schemas||(!!(Ya(e,r.value)||n in t||En(n))||("undefined"==typeof Node||null===Node||!(t instanceof Node)))}(e,u,r,t))return void Xa(r,t);ngDevMode.rendererSetProperty++}o=null!=s?s(o,t.value||"",r):o,yt(i)?i.setProperty(u,r,o):En(r)||(u.setProperty?u.setProperty(r,o):u[r]=o)}else 12&t.type&&ngDevMode&&!Ya(e,t.value)&&Xa(r,t);var f}function Qa(e,t,n,r,o){const i=e[11];var s;s=r.replace(/[$@]/g,"_"),r=`ng-reflect-${s.replace(Ri,((...e)=>"-"+e[1].toLowerCase()))}`;const a=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(o);if(3&n)null==o?yt(i)?i.removeAttribute(t,r):t.removeAttribute(r):yt(i)?i.setAttribute(t,r,a):t.setAttribute(r,a);else{const e=Ni(`bindings=${JSON.stringify({[r]:a},null,2)}`);yt(i)?i.setValue(t,e):t.textContent=e}}function Ya(e,t){const n=e.schemas;if(null!==n)for(let e=0;e<n.length;e++){const r=n[e];if(r===Ai||r===Ti&&t&&t.indexOf("-")>-1)return!0}return!1}function Xa(e,t){let n=`Can't bind to '${e}' since it isn't a known property of '${t.value}'.`;console.error(h(303,n))}function eu(e,t,n,r){ngDevMode&&Ge(e);let o=!1;if(Pt()){const i=function(e,t,n){ngDevMode&&Ge(e),ngDevMode&&On(n,15);const r=e.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Fs(n,s.selectors,!1)&&(o||(o=ngDevMode?new va:[]),Hn(Fn(n,t),e,s.type),Le(s)?(ngDevMode&&(On(n,2,`"${n.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${a(s.type)} component.`),2&n.flags&&Bi(n)),ru(e,n),o.unshift(s)):o.push(s))}return o}(e,t,n),s=null===r?null:{"":-1};if(null!==i){o=!0,iu(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Fa(e,t,i.length,null);ngDevMode&&O(u,n.directiveStart,"TNode.directiveStart should point to just allocated space");for(let o=0;o<i.length;o++){const c=i[o];n.mergedAttrs=In(n.mergedAttrs,c.hostAttrs),su(e,n,t,u,c),ou(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){ngDevMode&&Ge(e);const n=t.directiveStart,r=t.directiveEnd,o=e.data,i=t.attrs,s=ngDevMode?new ga:[];let a=null,u=null;for(let e=n;e<r;e++){const n=o[e],r=n.inputs,c=null===i||As(t)?null:fu(r,i);s.push(c),a=Ja(r,e,a),u=Ja(n.outputs,e,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=u}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=ngDevMode?new ba:[];for(let e=0;e<t.length;e+=2){const o=n[t[e+1]];if(null==o)throw new p(-301,ngDevMode&&`Export of name '${t[e+1]}' not found!`);r.push(t[e],o)}}}(n,r,s)}return n.mergedAttrs=In(n.mergedAttrs,n.attrs),o}function tu(e,t,n,r,o,i){ngDevMode&&Ge(e);const s=i.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,o,s)}}function nu(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ru(e,t){ngDevMode&&Ge(e),t.flags|=2,(e.components||(e.components=ngDevMode?new ya:[])).push(t.index)}function ou(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Le(t)&&(n[""]=e)}}function iu(e,t,n){ngDevMode&&x(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function su(e,t,n,r,o){ngDevMode&&P(r,Te,"Must be in Expando section"),e.data[r]=o;const i=o.factory||(o.factory=et(o.type,!0)),s=new Cn(i,Le(o),null);e.blueprint[r]=s,n[r]=s,tu(e,t,0,r,Fa(e,n,o.hostVars,Hs),o)}function au(e,t,n){const r=_t(t,e),o=za(n),i=e[10],s=bu(e,ka(e,o,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=s}function uu(e,t,n,r,o,i){ngDevMode&&(D(r,Hs,"Incoming value should never be NO_CHANGE."),function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new p(306,t)}}(n),On(e,2,`Attempted to set attribute \`${n}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const s=_t(e,t);cu(t[11],s,i,e.value,n,r,o)}function cu(e,t,n,r,o,i,s){if(null==i)ngDevMode&&ngDevMode.rendererRemoveAttribute++,yt(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const a=null==s?v(i):s(i,r||"",o);yt(e)?e.setAttribute(t,o,a,n):n?t.setAttributeNS(n,o,a):t.setAttribute(o,a)}}function lu(e,t,n,r,o,i){const s=i[t];if(null!==s){const t=r.setInput;for(let i=0;i<s.length;){const a=s[i++],u=s[i++],c=s[i++];null!==t?r.setInput(n,c,a,u):n[u]=c,ngDevMode&&Qa(e,_t(o,e),o.type,u,c)}}}function fu(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}const du=class extends Array{};function pu(e,t,n,r){ngDevMode&&Ke(t),ngDevMode&&!yt(t[11])&&j(n);const o=new(ngDevMode?du:Array)(e,!0,!1,t,null,0,r,n,null,null);return ngDevMode&&C(o.length,Pe,"Should allocate correct number of slots for LContainer header."),ngDevMode&&function(e){Xs(e,new Ta(e))}(o),o}function hu(e,t){ngDevMode&&C(xt(e),!1,"Should be run in update mode");const n=Ct(t,e);if(Ot(n)){const e=n[1];80&n[2]?Va(e,n,e.template,n[8]):n[5]>0&&vu(n)}}function vu(e){for(let t=Zi(e);null!==t;t=Qi(t))for(let e=Pe;e<t.length;e++){const n=t[e];if(1024&n[2]){const e=n[1];ngDevMode&&T(e,"TView must be allocated"),Va(e,n,e.template,n[8])}else n[5]>0&&vu(n)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ct(t[n],e);Ot(r)&&r[5]>0&&vu(r)}}function yu(e,t){ngDevMode&&C(xt(e),!0,"Should be run in creation mode");const n=Ct(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),La(r,n,n[8])}function bu(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function gu(e){for(;e;){e[2]|=64;const t=Gi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function mu(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Ci(n),o=r[1];$a(o,r,o.template,n)}}function _u(e,t,n){const r=t[10];r.begin&&r.begin();try{Va(e,t,e.template,n)}catch(e){throw Eu(t,e),e}finally{r.end&&r.end()}}function wu(e){mu(e[8])}function Mu(e,t,n){ngDevMode&&T(t,"View queries function to execute must be defined."),en(0),t(e,n)}function Cu(e,t,n,r,...o){if(null===e[r]&&(null==t.inputs||!t.inputs[n])){(t.propertyBindings||(t.propertyBindings=[])).push(r);let i=n;o.length>0&&(i+=Hi+o.join(Hi)),e[r]=i}}const xu=Aa;function Ou(e){return e[7]||(e[7]=ngDevMode?new ma:[])}function Du(e){return e.cleanup||(e.cleanup=ngDevMode?new _a:[])}function Su(e,t,n){return(null===e||Le(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Eu(e,t){const n=e[9],r=n?n.get(Pi,null):null;r&&r.handleError(t)}function Iu(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],u=t[s];ngDevMode&&k(t,s);const c=e.data[s];null!==c.setInput?c.setInput(u,o,r,a):u[a]=o}}function Pu(e,t,n){ngDevMode&&M(n,"Value should be a string"),ngDevMode&&D(n,Hs,"value should not be NO_CHANGE"),ngDevMode&&k(e,t);const r=mt(t,e);ngDevMode&&T(r,"native element should exist"),ts(e[11],r,n)}function Tu(e,t,n){ngDevMode&&Ge(kt(),"Expecting to be called in first template pass only");let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];"number"==typeof n?i=n:1==i?o=u(o,n):2==i&&(r=u(r,n+": "+t[++e]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Au(e){const t=_i(e);_u(t[1],t,e)}function ju(e){ngDevMode&&T(e,"component");const t=gu(_i(e));ngDevMode&&T(t[8],"rootContext should be defined"),function(e,t){if(0===e.flags&&e.clean==Aa){let t;e.flags|=1,e.clean=new Promise((e=>t=e)),e.scheduler((()=>{if(1&e.flags&&(e.flags&=-2,mu(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=Aa,t(null)}))}}(t[8])}const ku=new lr("INJECTOR",-1);class Nu{get(e,t=Fr){if(t===Fr){const t=new Error(`NullInjectorError: No provider for ${a(e)}!`);throw t.name="NullInjectorError",t}return t}}const Ru=new lr("Set Injector scope."),Fu={},Lu={};let Vu;function $u(){return void 0===Vu&&(Vu=new Nu),Vu}function Hu(e,t=null,n=null,r){const o=Uu(e,t,n,r);return o._resolveInjectorDefTypes(),o}function Uu(e,t=null,n=null,r){return new Bu(e,n,t||$u(),r)}class Bu{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Cr(t,(n=>this.processProvider(n,e,t))),Cr([e],(e=>this.processInjectorType(e,[],o))),this.records.set(ku,qu(void 0,this));const i=this.records.get(Ru);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof e?null:a(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((e=>e.ngOnDestroy()))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Fr,n=q.Default){this.assertNotDestroyed();const r=Ur(this),o=G(void 0);try{if(!(n&q.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof lr)&&V(e);t=n&&this.injectableDefInScope(n)?qu(Wu(e),Fu):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const s=n&q.Self?$u():this.parent;return t=n&q.Optional&&t===Fr?null:t,s.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(a(e)),r)throw t;return function(e,t,n,r){const o=e.ngTempTokenPath;throw t[Vr]&&o.unshift(t[Vr]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.substr(2):e;let o=a(t);if(Array.isArray(t))o=t.map(a).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):a(r)))}o=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Lr,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e.ngTempTokenPath=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{G(o),Ur(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach((e=>this.get(e)))}toString(){const e=[];return this.records.forEach(((t,n)=>e.push(a(n)))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new p(205,ngDevMode&&"Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=H(e);const o=null==r&&e.ngModule||void 0,i=void 0===o?e:o;ngDevMode&&-1!==t.indexOf(i)&&b(a(i),t.map(a));const s=-1!==n.indexOf(i);if(void 0!==o&&(r=H(o)),null==r)return!1;if(null!=r.imports&&!s){let e;ngDevMode&&t.push(i),n.push(i);try{Cr(r.imports,(r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))}))}finally{ngDevMode&&t.pop()}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Cr(r,(e=>this.processProvider(e,n,r||ue)))}}this.injectorDefTypes.add(i);const u=et(i)||(()=>new i);this.records.set(i,qu(u,Fu));const c=r.providers;if(null!=c&&!s){const t=e;Cr(c,(e=>this.processProvider(e,t,c)))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,n){let r=Gu(e=f(e))?e:f(e&&e.provide);const o=function(e,t,n){return Ku(e)?qu(void 0,e.useValue):qu(zu(e,t,n),Fu)}(e,t,n);if(Gu(e)||!0!==e.multi){const e=this.records.get(r);ngDevMode&&e&&void 0!==e.multi&&g()}else{let t=this.records.get(r);t?ngDevMode&&void 0===t.multi&&g():(t=qu(void 0,Fu,!0),t.factory=()=>Kr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,o)}hydrate(e,t){var n;return ngDevMode&&t.value===Lu?b(a(e)):t.value===Fu&&(t.value=Lu,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Wu(e){const t=V(e),n=null!==t?t.factory:et(e);if(null!==n)return n;if(e instanceof lr)throw new p(204,ngDevMode&&`Token ${a(e)} is missing a ɵprov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Dr(t,"?");throw new p(204,ngDevMode&&`Can't resolve all parameters for ${a(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[U]||e[W]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new p(204,ngDevMode&&"unreachable")}function zu(e,t,n){let r;if(Gu(e)){const t=f(e);return et(t)||Wu(t)}if(Ku(e))r=()=>f(e.useValue);else if((o=e)&&o.useFactory)r=()=>e.useFactory(...Kr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Wr(f(e.useExisting));else{const o=f(e&&(e.useClass||e.provide));if(ngDevMode&&!o&&function(e,t,n){let r="";throw e&&t&&(r=` - only instances of Provider and Type are allowed, got: [${t.map((e=>e==n?"?"+n+"?":"...")).join(", ")}]`),new Error(`Invalid provider for the NgModule '${a(e)}'`+r)}(t,n,e),!function(e){return!!e.deps}(e))return et(o)||Wu(o);r=()=>new o(...Kr(e.deps))}var o;return r}function qu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ku(e){return null!==e&&"object"==typeof e&&$r in e}function Gu(e){return"function"==typeof e}class Ju{static create(e,t){var n;if(Array.isArray(e))return Hu({name:""},t,e,"");{const t=null!==(n=e.name)&&void 0!==n?n:"";return Hu({name:t},e.parent,e.providers,t)}}}function Zu(e){sc(e);const t=gi(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];let r=n.directiveStart;return 2&n.flags?t[r]:null}(t.nodeIndex,t.lView)),t.component)}function Qu(e){sc(e);const t=gi(e);return null===t?null:t.lView[8]}function Yu(e){const t=gi(e);if(null===t)return null;let n,r=t.lView;for(ngDevMode&&Ke(r);2===r[1].type&&(n=Gi(r));)r=n;return 512&r[2]?null:r[8]}function Xu(e){return[...Ji(e).components]}function ec(e){const t=gi(e);if(null===t)return Ju.NULL;const n=t.lView[1].data[t.nodeIndex];return new Yn(n,t.lView)}function tc(e){if(e instanceof Text)return[];const t=gi(e);if(null===t)return[];const n=t.lView,r=n[1],o=t.nodeIndex;return(null==r?void 0:r.data[o])?(void 0===t.directives&&(t.directives=Si(o,n,!1)),null===t.directives?[]:[...t.directives]):[]}function nc(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=De(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?Q.OnPush:Q.Default};const r=Se(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function rc(e){return gi(e).native}function oc(e){sc(e);const t=gi(e);if(null===t)return[];const n=t.lView,r=n[1],o=n[7],i=r.cleanup,s=[];if(i&&o)for(let t=0;t<i.length;){const r=i[t++],a=i[t++];if("string"==typeof r){const u=r,c=gt(n[a]),l=o[i[t++]],f=i[t++],d="boolean"==typeof f||f>=0?"dom":"output",p="boolean"==typeof f&&f;e==c&&s.push({element:e,name:u,callback:l,useCapture:p,type:d})}}return s.sort(ic),s}function ic(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function sc(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function ac(e){ju(e),Xu(e).forEach((e=>Au(e)))}Ju.THROW_IF_NOT_FOUND=Fr,Ju.NULL=new Nu,Ju.ɵprov=R({token:Ju,providedIn:"any",factory:()=>Wr(ku)}),Ju.__NG_ELEMENT_ID__=-1;let uc=!1;function cc(){uc||(uc=!0,lc("ɵsetProfiler",ut),lc("getDirectiveMetadata",nc),lc("getComponent",Zu),lc("getContext",Qu),lc("getListeners",oc),lc("getOwningComponent",Yu),lc("getHostElement",rc),lc("getInjector",ec),lc("getRootComponents",Xu),lc("getDirectives",tc),lc("applyChanges",ac))}function lc(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=ie;if(ngDevMode&&T(t,"function not defined"),n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function fc(e,t={}){ngDevMode&&cc(),ngDevMode&&Be(e);const n=t.rendererFactory||bt,r=t.sanitizer||null,o=De(e);o.type!=e&&(o.type=e);const i=o.selectors[0][0],s=Ka(n.createRenderer(null,null),t.host||i,o.encapsulation),a=o.onPush?576:528,u=hc(t.scheduler,t.playerHandler),c=n.createRenderer(s,o),l=qa(0,null,null,1,0,null,null,null,null,null),f=ka(null,l,u,a,null,null,n,c,null,t.injector||null);let d;rn(f);try{n.begin&&n.begin(),d=pc(dc(s,o,f,n,c,r),o,f,u,t.hostFeatures||null),La(l,f,null),Va(l,f,null,null)}finally{cn(),n.end&&n.end()}return d}function dc(e,t,n,r,o,i){const s=n[1];ngDevMode&&k(n,20),n[20]=e;const a=Na(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(Tu(a,u,!0),null!==e&&(Dn(o,e,u),null!==a.classes&&Es(o,e,a.classes),null!==a.styles&&Ss(o,e,a.styles)));const c=r.createRenderer(e,t),l=ka(n,za(t),null,t.onPush?64:16,n[20],a,r,c,i||null,null);return s.firstCreatePass&&(Hn(Fn(a,n),s,t.type),ru(s,a),iu(a,n.length,1)),bu(n,l),n[20]=l}function pc(e,t,n,r,o){const i=n[1],s=function(e,t,n){const r=Rt();if(e.firstCreatePass){n.providersResolver&&n.providersResolver(n);const o=Fa(e,t,1,null);ngDevMode&&C(o,r.directiveStart,"Because this is a root component the allocated expando should match the TNode component."),su(e,r,t,o,n)}const o=Jn(t,e,r.directiveStart,r);wi(o,t);const i=_t(r,t);return i&&wi(i,t),o}(i,n,t);if(r.components.push(s),e[8]=s,o&&o.forEach((e=>e(s,t))),t.contentQueries){const e=Rt();ngDevMode&&T(e,"TNode expected"),t.contentQueries(1,s,e.directiveStart)}const a=Rt();return ngDevMode&&T(a,"tNode should have been already created"),!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(fn(a.index),tu(n[1],a,0,a.directiveStart,a.directiveEnd,t),nu(t,s)),s}function hc(e,t){return{components:[],scheduler:e||Fi,clean:xu,playerHandler:t||null,flags:0}}function vc(e,t){const n=Ci(e);ngDevMode&&T(n,"LView is required");const r=n[1],o=Rt();ngDevMode&&T(o,"TNode is required"),yn(r,o)}function yc(e){return Ji(e).clean}function bc(e){return Object.getPrototypeOf(e.prototype).constructor}function gc(e){let t=bc(e.type),n=!0;const r=[e];for(;t;){let o;if(Le(e))o=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp){const e="undefined"==typeof ngDevMode||ngDevMode?"Directives cannot inherit Components":"";throw new p(903,e)}o=t.ɵdir}if(o){if(n){r.push(o);const t=e;t.inputs=mc(e.inputs),t.declaredInputs=mc(e.declaredInputs),t.outputs=mc(e.outputs);const n=o.hostBindings;n&&Mc(e,n);const i=o.viewQuery,a=o.contentQueries;if(i&&_c(e,i),a&&wc(e,a),s(e.inputs,o.inputs),s(e.declaredInputs,o.declaredInputs),s(e.outputs,o.outputs),Le(o)&&o.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(o.data.animation)}}const t=o.features;if(t)for(let r=0;r<t.length;r++){const o=t[r];o&&o.ngInherit&&o(e),o===gc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=In(o.hostAttrs,n=In(n,o.hostAttrs))}}(r)}function mc(e){return e===ae?{}:e===ue?[]:e}function _c(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function wc(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,o)=>{t(e,r,o),n(e,r,o)}:t}function Mc(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Cc=["providersResolver"],xc=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Oc(e){let t,n=bc(e.type);t=Le(e)?n.ɵcmp:n.ɵdir;const r=e;for(const e of Cc)r[e]=t[e];if(Le(t))for(const e of xc)r[e]=t[e]}let Dc=null;function Sc(){if(!Dc){const e=ie.Symbol;if(e&&e.iterator)Dc=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Dc=n)}}}return Dc}function Ec(e,t){const n=Ic(e),r=Ic(t);if(n&&r)return function(e,t,n){const r=e[Sc()](),o=t[Sc()]();for(;;){const e=r.next(),t=o.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Ec);{const o=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!o||r||!i)||Object.is(e,t)}}function Ic(e){return!!Pc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Sc()in e)}function Pc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Tc(e,t,n){return e[t]=n}function Ac(e,t){return ngDevMode&&k(e,t),ngDevMode&&D(e[t],Hs,"Stored value should never be NO_CHANGE."),e[t]}function jc(e,t,n){ngDevMode&&D(n,Hs,"Incoming value should never be NO_CHANGE."),ngDevMode&&S(t,e.length,"Slot should have been initialized to NO_CHANGE");const r=e[t];if(Object.is(r,n))return!1;if(ngDevMode&&Ut()){const o=r!==Hs?r:void 0;if(!Ec(o,n)){const i=function(e,t,n,r){const o=e[1].data,i=o[t];if("string"==typeof i)return i.indexOf(Hi)>-1?Wi(e,t,t,i,r):{propName:i,oldValue:n,newValue:r};if(null===i){let n=t-1;for(;"string"!=typeof o[n]&&null===o[n+1];)n--;const i=o[n];if("string"==typeof i){const o=i.match(new RegExp(Hi,"g"));if(o&&o.length-1>t-n)return Wi(e,n,t,i,r)}}return{propName:void 0,oldValue:n,newValue:r}}(e,t,o,n);!function(e,t,n,r){let o=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${r?` for '${r}'`:""}: '${t}'. Current value: '${n}'.`;throw e&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new p(-100,o)}(r===Hs,i.oldValue,i.newValue,i.propName)}return!1}return e[t]=n,!0}function kc(e,t,n,r){const o=jc(e,t,n);return jc(e,t+1,r)||o}function Nc(e,t,n,r,o){const i=kc(e,t,n,r);return jc(e,t+2,o)||i}function Rc(e,t,n,r,o,i){const s=kc(e,t,n,r);return kc(e,t+2,o,i)||s}function Fc(e,t,n,r){const o=jt(),i=Kt();if(jc(o,i,t)){const s=kt(),a=dn();uu(a,o,e,t,n,r),ngDevMode&&Cu(s.data,a,"attr."+e,i)}return Fc}function Lc(e,t){ngDevMode&&S(2,t.length,"should have at least 3 values"),ngDevMode&&C(t.length%2,1,"should have an odd number of values");let n=!1,r=zt();for(let o=1;o<t.length;o+=2)n=jc(e,r++,t[o])||n;if(qt(r),!n)return Hs;let o=t[0];for(let e=1;e<t.length;e+=2)o+=v(t[e])+t[e+1];return o}function Vc(e,t,n,r){return jc(e,Kt(),n)?t+v(n)+r:Hs}function $c(e,t,n,r,o,i){const s=kc(e,zt(),n,o);return Gt(2),s?t+v(n)+r+v(o)+i:Hs}function Hc(e,t,n,r,o,i,s,a){const u=Nc(e,zt(),n,o,s);return Gt(3),u?t+v(n)+r+v(o)+i+v(s)+a:Hs}function Uc(e,t,n,r,o,i,s,a,u,c){const l=Rc(e,zt(),n,o,s,u);return Gt(4),l?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c:Hs}function Bc(e,t,n,r,o,i,s,a,u,c,l,f){const d=zt();let p=Rc(e,d,n,o,s,u);return p=jc(e,d+4,l)||p,Gt(5),p?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f:Hs}function Wc(e,t,n,r,o,i,s,a,u,c,l,f,d,p){const h=zt();let y=Rc(e,h,n,o,s,u);return y=kc(e,h+4,l,d)||y,Gt(6),y?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f+v(d)+p:Hs}function zc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,y){const b=zt();let g=Rc(e,b,n,o,s,u);return g=Nc(e,b+4,l,d,h)||g,Gt(7),g?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f+v(d)+p+v(h)+y:Hs}function qc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,y,b,g){const m=zt();let _=Rc(e,m,n,o,s,u);return _=Rc(e,m+4,l,d,h,b)||_,Gt(8),_?t+v(n)+r+v(o)+i+v(s)+a+v(u)+c+v(l)+f+v(d)+p+v(h)+y+v(b)+g:Hs}function Kc(e,t,n,r,o,i){const s=jt(),a=Vc(s,t,n,r);if(a!==Hs){const n=dn();uu(n,s,e,a,o,i),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-1,t,r)}return Kc}function Gc(e,t,n,r,o,i,s,a){const u=jt(),c=$c(u,t,n,r,o,i);if(c!==Hs){const n=dn();uu(n,u,e,c,s,a),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-2,t,r,i)}return Gc}function Jc(e,t,n,r,o,i,s,a,u,c){const l=jt(),f=Hc(l,t,n,r,o,i,s,a);if(f!==Hs){const n=dn();uu(n,l,e,f,u,c),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-3,t,r,i,a)}return Jc}function Zc(e,t,n,r,o,i,s,a,u,c,l,f){const d=jt(),p=Uc(d,t,n,r,o,i,s,a,u,c);if(p!==Hs){const n=dn();uu(n,d,e,p,l,f),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-4,t,r,i,a,c)}return Zc}function Qc(e,t,n,r,o,i,s,a,u,c,l,f,d,p){const h=jt(),v=Bc(h,t,n,r,o,i,s,a,u,c,l,f);if(v!==Hs){const n=dn();uu(n,h,e,v,d,p),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-5,t,r,i,a,c,f)}return Qc}function Yc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v){const y=jt(),b=Wc(y,t,n,r,o,i,s,a,u,c,l,f,d,p);if(b!==Hs){const n=dn();uu(n,y,e,b,h,v),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-6,t,r,i,a,c,f,p)}return Yc}function Xc(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b){const g=jt(),m=zc(g,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v);if(m!==Hs){const n=dn();uu(n,g,e,m,y,b),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-7,t,r,i,a,c,f,p,v)}return Xc}function el(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g,m){const _=jt(),w=qc(_,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b);if(w!==Hs){const n=dn();uu(n,_,e,w,g,m),ngDevMode&&Cu(kt().data,n,"attr."+e,zt()-8,t,r,i,a,c,f,p,v,b)}return el}function tl(e,t,n,r){const o=jt(),i=Lc(o,t);if(i!==Hs){const s=dn();if(uu(s,o,e,i,n,r),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Cu(kt().data,s,"attr."+e,zt()-n.length+1,...n)}}return tl}function nl(e,t,n,r,o,i,s,a){const u=jt(),c=kt(),l=e+Te,f=c.firstCreatePass?function(e,t,n,r,o,i,s,a,u){ngDevMode&&Ge(t),ngDevMode&&ngDevMode.firstCreatePass++;const c=t.consts,l=Na(t,e,4,s||null,Dt(c,a));eu(t,n,l,Dt(c,u)),yn(t,l);const f=l.tViews=qa(2,l,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,o,i,s):c.data[l];Vt(f,!1);const d=u[11].createComment(ngDevMode?"container":"");ms(c,u,d,f),wi(d,u),bu(u,u[l]=pu(d,u,d,f)),Fe(f)&&Ba(c,u,f),null!=s&&Wa(u,f,a)}function rl(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function ol(e){return Mt(It.lFrame.contextLView,Te+e)}const il={ɵɵdefineInjectable:R,ɵɵdefineInjector:L,ɵɵinject:Wr,ɵɵinvalidFactoryDep:zr,resolveForwardRef:f};const sl=i({provide:String,useValue:i});function al(e){return void 0!==e.useClass}function ul(e){return void 0!==e.useFactory}const cl=ir("Injectable",void 0,void 0,void 0,((e,t)=>function(e,t){let n=null,r=null;e.hasOwnProperty(U)||Object.defineProperty(e,U,{get:()=>{if(null===n){const r=mr({usage:0,kind:"injectable",type:e});n=r.compileInjectable(il,`ng:///${e.name}/ɵprov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(al(n)||ul(n))&&void 0!==n.deps&&(r.deps=ro(n.deps)),al(n)?r.useClass=n.useClass:function(e){return sl in e}(n)?r.useValue=n.useValue:ul(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))}return n}}),e.hasOwnProperty(pe)||Object.defineProperty(e,pe,{get:()=>{if(null===r){const t=mr({usage:0,kind:"injectable",type:e});r=t.compileFactory(il,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:no(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t)));function ll(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((e=>a(e.token))).join(" -> ")+")":""}function fl(e,t,n,r){const o=[t],i=n(o),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(i,r):Error(i);return s.addKey=dl,s.keys=o,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function dl(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function pl(e,t){const n=[];for(let e=0,r=t.length;e<r;e++){const r=t[e];r&&0!=r.length?n.push(r.map(a).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+a(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+a(e)+"' is decorated with Injectable.")}class hl{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=a(this.token)}static get(e){return vl.get(f(e))}static get numberOfKeys(){return vl.numberOfKeys}}const vl=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof hl)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new hl(e,hl.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},yl=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new kr);class bl{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new bl(e,!1,null)}}const gl=[];class ml{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class _l{constructor(e,t){this.factory=e,this.dependencies=t}}function wl(e){let t,n;if(e.useClass){const r=f(e.useClass);t=yl.factory(r),n=Ol(r)}else e.useExisting?(t=e=>e,n=[bl.fromKey(hl.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map((e=>[e]));return t.map((t=>Dl(e,t,n)))}return Ol(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=gl);return new _l(t,n)}function Ml(e){return new ml(hl.get(e.provide),[wl(e)],e.multi||!1)}function Cl(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${o} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)o.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new ml(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(xl(e,[]).map(Ml),new Map);return Array.from(t.values())}function xl(e,t){return e.forEach((e=>{if(e instanceof _r)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);xl(e,t)}})),t}function Ol(e){const t=yl.parameters(e);if(!t)return[];if(t.some((e=>null==e)))throw pl(e,t);return t.map((n=>Dl(e,n,t)))}function Dl(e,t,n){let r=null,o=!1;if(!Array.isArray(t))return Sl(t instanceof Jr?t.token:t,o,null);let i=null;for(let e=0;e<t.length;++e){const n=t[e];n instanceof _r?r=n:n instanceof Jr?r=n.token:n instanceof Zr?o=!0:n instanceof Qr||n instanceof Yr?i=n:n instanceof lr&&(r=n)}if(r=f(r),null!=r)return Sl(r,o,i);throw pl(e,n)}function Sl(e,t,n){return new bl(hl.get(e),t,n)}const El={};class Il{static resolve(e){return Cl(e)}static resolveAndCreate(e,t){const n=Il.resolve(e);return Il.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Pl(e,t)}}class Pl{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let t=0;t<n;t++)this.keyIds[t]=e[t].key.id,this.objs[t]=El}get(e,t=Fr){return this._getByKey(hl.get(e),null,t)}resolveAndCreateChild(e){const t=Il.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Pl(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(Il.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,fl(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${ll(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,o;try{r=t.dependencies.map((e=>this._getByReflectiveDependency(e)))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{o=n(...r)}catch(t){throw this,i=t,t.stack,fl(this,e.key,(function(e){const t=a(e[0].token);return`${i.message}: Error during instantiation of ${t}!${ll(e)}.`}),i)}var i;return o}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:Fr)}_getByKey(e,t,n){return e===Pl.INJECTOR_KEY?this:t instanceof Qr?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===El&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return El}_throwOrNull(e,t){if(t!==Fr)return t;throw function(e,t){return fl(e,t,(function(e){return`No provider for ${a(e[0].token)}!${ll(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==El?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof Yr?this.parent:this;r instanceof Pl;){const t=r,n=t._getObjByKeyId(e.id);if(n!==El)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let t=0;t<e._providers.length;++t)n[t]=' "'+e.getProviderAtIndex(t).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}function Tl(e,t=q.Default){const n=jt();return null===n?(ngDevMode&&(ngDevMode&&x(K,Tl,"Calling ɵɵinject would cause infinite recursion")),Wr(e,t)):Wn(Rt(),n,f(e),t)}function Al(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function jl(e,t,n){const r=jt(),o=Kt();if(jc(r,o,t)){const i=kt(),s=dn();Za(i,s,r,e,t,r[11],n,!1),ngDevMode&&Cu(i.data,s,e,o)}return jl}function kl(e,t,n,r,o){const i=o?"class":"style";Iu(e,n,t.inputs[i],i,r)}function Nl(e,t,n,r){const o=jt(),i=kt(),s=Te+e;ngDevMode&&C(zt(),i.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&k(o,s);const a=o[11],u=o[s]=rs(a,t,It.lFrame.currentNamespace),c=i.firstCreatePass?function(e,t,n,r,o,i,s){ngDevMode&&Ge(t),ngDevMode&&ngDevMode.firstCreatePass++;const a=t.consts,u=Na(t,e,2,o,Dt(a,i)),c=eu(t,n,u,Dt(a,s));return ngDevMode&&function(e,t,n,r){if(null===e.schemas)return;const o=n.value;if(!r&&null!==o&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&t instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&o.indexOf("-")>-1&&!customElements.get(o))&&!Ya(e,o)){let e=`'${o}' is not a known element:\n`;e+=`1. If '${o}' is an Angular component, then verify that it is part of this module.\n`,o&&o.indexOf("-")>-1?e+=`2. If '${o}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",console.error(h(304,e))}}(t,r,u,c),null!==u.attrs&&Tu(u,u.attrs,!1),null!==u.mergedAttrs&&Tu(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,i,o,u,t,n,r):i.data[s];Vt(c,!0);const l=c.mergedAttrs;null!==l&&Dn(a,u,l);const f=c.classes;null!==f&&Es(a,u,f);const d=c.styles;return null!==d&&Ss(a,u,d),64!=(64&c.flags)&&ms(i,o,u,c),0===It.lFrame.elementDepthCount&&wi(u,o),It.lFrame.elementDepthCount++,Fe(c)&&(Ba(i,o,c),Ua(i,c,o)),null!==r&&Wa(o,c),Nl}function Rl(){let e=Rt();ngDevMode&&T(e,"No parent node to close."),$t()?Ht():(ngDevMode&&We(Rt()),e=e.parent,Vt(e,!1));const t=e;ngDevMode&&On(t,3),It.lFrame.elementDepthCount--;const n=kt();return n.firstCreatePass&&(yn(n,e),Ne(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&kl(n,t,jt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&kl(n,t,jt(),t.stylesWithoutHost,!1),Rl}function Fl(e,t,n,r){return Nl(e,t,n,r),Rl(),Fl}function Ll(e,t,n){const r=jt(),o=kt(),i=e+Te;ngDevMode&&k(r,i),ngDevMode&&C(zt(),o.bindingStartIndex,"element containers should be created before any bindings");const s=o.firstCreatePass?function(e,t,n,r,o){ngDevMode&&ngDevMode.firstCreatePass++;const i=t.consts,s=Dt(i,r),a=Na(t,e,8,"ng-container",s);return null!==s&&Tu(a,s,!0),eu(t,n,a,Dt(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,r,t,n):o.data[i];Vt(s,!0),ngDevMode&&ngDevMode.rendererCreateComment++;const a=r[i]=r[11].createComment(ngDevMode?"ng-container":"");return ms(o,r,a,s),wi(a,r),Fe(s)&&(Ba(o,r,s),Ua(o,s,r)),null!=n&&Wa(r,s),Ll}function Vl(){let e=Rt();const t=kt();return $t()?Ht():(ngDevMode&&We(e),e=e.parent,Vt(e,!1)),ngDevMode&&On(e,8),t.firstCreatePass&&(yn(t,e),Ne(e)&&t.queries.elementEnd(e)),Vl}function $l(e,t,n){return Ll(e,t,n),Vl(),$l}function Hl(){return jt()}function Ul(e){return!!e&&"function"==typeof e.then}function Bl(e){return!!e&&"function"==typeof e.subscribe}Pl.INJECTOR_KEY=hl.get(Ju);const Wl=Bl;function zl(e,t,n,r){const o=jt(),i=kt(),s=Rt();return Kl(i,o,o[11],s,e,t,!!n,r),zl}function ql(e,t){const n=Rt(),r=jt(),o=kt();return Kl(o,r,Su(Yt(o.data),n,r),n,e,t,!1),ql}function Kl(e,t,n,r,o,i,s,a){const u=Fe(r),c=e.firstCreatePass&&Du(e),l=t[8],f=Ou(t);ngDevMode&&On(r,15);let d=!0;if(3&r.type||a){const p=_t(r,t),h=a?a(p):p,v=f.length,y=a?e=>a(gt(e[r.index])):r.index;if(yt(n)){let s=null;if(!a&&u&&(s=function(e,t,n,r){const o=e.cleanup;if(null!=o)for(let e=0;e<o.length-1;e+=2){const i=o[e];if(i===n&&o[e+1]===r){const n=t[7],r=o[e+2];return n.length>r?n[r]:null}"string"==typeof i&&(e+=2)}return null}(e,t,o,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,d=!1;else{i=Jl(r,t,l,i,!1);const e=n.listen(h,o,i);ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i,e),c&&c.push(o,y,v,v+1)}}else i=Jl(r,t,l,i,!0),h.addEventListener(o,i,s),ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(i),c&&c.push(o,y,v,s)}else i=Jl(r,t,l,i,!1);const p=r.outputs;let h;if(d&&null!==p&&(h=p[o])){const e=h.length;if(e)for(let n=0;n<e;n+=2){const e=h[n];ngDevMode&&k(t,e);const s=h[n+1],a=t[e],u=a[s];if(ngDevMode&&!Wl(u))throw new Error(`@Output ${s} not initialized in '${a.constructor.name}'.`);const l=u.subscribe(i),d=f.length;f.push(i,l),c&&c.push(o,r.index,d,-(d+1))}}}function Gl(e,t,n,r){try{return ct(6,t,n),!1!==n(r)}catch(t){return Eu(e,t),!1}finally{ct(7,t,n)}}function Jl(e,t,n,r,o){return function i(s){if(s===Function)return r;const a=2&e.flags?Ct(e.index,t):t;0==(32&t[2])&&gu(a);let u=Gl(t,n,r,s),c=i.__ngNextListenerFn__;for(;c;)u=Gl(t,n,c,s)&&u,c=c.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Zl(e=1){return function(e){return(It.lFrame.contextLView=function(e,t){for(;e>0;)ngDevMode&&T(t[15],"Declaration view should be defined if nesting level is greater than 0."),t=t[15],e--;return t}(e,It.lFrame.contextLView))[8]}(e)}function Ql(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?Fs(e,i,!0):Ls(r,i))return o}else n=o}return n}function Yl(e){const t=jt()[16][6];if(!t.projection){const n=e?e.length:1,r=t.projection=Dr(n,null),o=r.slice();let i=t.child;for(;null!==i;){const t=e?Ql(i,e):0;null!==t&&(o[t]?o[t].projectionNext=i:r[t]=i,o[t]=i),i=i.next}}}function Xl(e,t=0,n){const r=jt(),o=kt(),i=Na(o,Te+e,16,null,n||null);null===i.projection&&(i.projection=t),Ht(),64!=(64&i.flags)&&function(e,t,n){Ds(t[11],0,t,n,us(e,n,t),hs(n.parent||t[6],n,t))}(o,r,i)}function ef(e,t,n){return tf(e,"",t,"",n),ef}function tf(e,t,n,r,o){const i=jt(),s=Vc(i,t,n,r);if(s!==Hs){const n=kt(),a=dn();Za(n,a,i,e,s,i[11],o,!1),ngDevMode&&Cu(n.data,a,e,zt()-1,t,r)}return tf}function nf(e,t,n,r,o,i,s){const a=jt(),u=$c(a,t,n,r,o,i);if(u!==Hs){const n=kt(),o=dn();Za(n,o,a,e,u,a[11],s,!1),ngDevMode&&Cu(n.data,o,e,zt()-2,t,r,i)}return nf}function rf(e,t,n,r,o,i,s,a,u){const c=jt(),l=Hc(c,t,n,r,o,i,s,a);if(l!==Hs){const n=kt(),o=dn();Za(n,o,c,e,l,c[11],u,!1),ngDevMode&&Cu(n.data,o,e,zt()-3,t,r,i,a)}return rf}function of(e,t,n,r,o,i,s,a,u,c,l){const f=jt(),d=Uc(f,t,n,r,o,i,s,a,u,c);if(d!==Hs){const n=kt(),o=dn();Za(n,o,f,e,d,f[11],l,!1),ngDevMode&&Cu(n.data,o,e,zt()-4,t,r,i,a,c)}return of}function sf(e,t,n,r,o,i,s,a,u,c,l,f,d){const p=jt(),h=Bc(p,t,n,r,o,i,s,a,u,c,l,f);if(h!==Hs){const n=kt(),o=dn();Za(n,o,p,e,h,p[11],d,!1),ngDevMode&&Cu(n.data,o,e,zt()-5,t,r,i,a,c,f)}return sf}function af(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){const v=jt(),y=Wc(v,t,n,r,o,i,s,a,u,c,l,f,d,p);if(y!==Hs){const n=kt(),o=dn();Za(n,o,v,e,y,v[11],h,!1),ngDevMode&&Cu(n.data,o,e,zt()-6,t,r,i,a,c,f,p)}return af}function uf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){const b=jt(),g=zc(b,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v);if(g!==Hs){const n=kt(),o=dn();Za(n,o,b,e,g,b[11],y,!1),ngDevMode&&Cu(n.data,o,e,zt()-7,t,r,i,a,c,f,p,v)}return uf}function cf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g){const m=jt(),_=qc(m,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b);if(_!==Hs){const n=kt(),o=dn();Za(n,o,m,e,_,m[11],g,!1),ngDevMode&&Cu(n.data,o,e,zt()-8,t,r,i,a,c,f,p,v,b)}return cf}function lf(e,t,n){const r=jt(),o=Lc(r,t);if(o!==Hs){const i=kt(),s=dn();if(Za(i,s,r,e,o,r[11],n,!1),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Cu(i.data,s,e,zt()-n.length+1,...n)}}return lf}function ff(e,t,n,r,o){const i=e[n+1],s=null===t;let a=r?qs(i):Js(i),u=!1;for(;0!==a&&(!1===u||s);){ngDevMode&&k(e,a);const n=e[a],o=e[a+1];df(n,t)&&(u=!0,e[a+1]=r?Ys(o):Gs(o)),a=r?qs(o):Js(o)}u&&(e[n+1]=r?Gs(i):Ys(i))}function df(e,t){return ngDevMode&&x(Array.isArray(t),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ir(e,t)>=0}const pf={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hf(e){return e.substring(pf.key,pf.keyEnd)}function vf(e){return e.substring(pf.value,pf.valueEnd)}function yf(e,t){const n=pf.textEnd;return n===t?-1:(t=pf.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pf.key=t,n),mf(e,t,n))}function bf(e,t){const n=pf.textEnd;let r=pf.key=mf(e,t,n);return n===r?-1:(r=pf.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=_f(e,r,n,58),r=pf.value=mf(e,r,n),r=pf.valueEnd=function(e,t,n){let r=-1,o=-1,i=-1,s=t,a=s;for(;s<n;){const u=e.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=wf(e,u,s,n):t===s-4&&85===i&&82===o&&76===r&&40===u?a=s=wf(e,41,s,n):u>32&&(a=s),i=o,o=r,r=-33&u}return a}(e,r,n),_f(e,r,n,59))}function gf(e){pf.key=0,pf.keyEnd=0,pf.value=0,pf.valueEnd=0,pf.textEnd=e.length}function mf(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _f(e,t,n,r){return(t=mf(e,t,n))<n&&(ngDevMode&&e.charCodeAt(t)!==r&&Mf(e,String.fromCharCode(r),t),t++),t}function wf(e,t,n,r){let o=-1,i=n;for(;i<r;){const n=e.charCodeAt(i++);if(n==t&&92!==o)return i;o=92==n&&92===o?0:n}throw ngDevMode?Mf(e,String.fromCharCode(t),r):new Error}function Mf(e,t,n){throw ngDevMode&&C("string"==typeof e,!0,"String expected here"),A(`Malformed style at location ${n} in string '`+e.substring(0,n)+"[>>"+e.substring(n,n+1)+"<<]"+e.substr(n+1)+`'. Expecting '${t}'.`)}function Cf(e,t,n){return If(e,t,n,!1),Cf}function xf(e,t){return If(e,t,null,!0),xf}function Of(e){Pf(Nf,Df,e,!1)}function Df(e,t){for(let n=function(e){return gf(e),bf(e,mf(e,0,pf.textEnd))}(t);n>=0;n=bf(t,n))Nf(e,hf(t),vf(t))}function Sf(e){Pf(Sr,Ef,e,!0)}function Ef(e,t){for(let n=function(e){return gf(e),yf(e,mf(e,0,pf.textEnd))}(t);n>=0;n=yf(t,n))Sr(e,hf(t),!0)}function If(e,t,n,r){const o=jt(),i=kt(),s=Gt(2);i.firstUpdatePass&&Af(i,e,s,r),t!==Hs&&jc(o,s,t)&&Rf(i,i.data[ln()],o,o[11],e,o[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=a(Oo(e)))),e}(t,n),r,s)}function Pf(e,t,n,r){const o=kt(),i=Gt(2);o.firstUpdatePass&&Af(o,null,i,r);const s=jt();if(n!==Hs&&jc(s,i,n)){const a=o.data[ln()];if(Vf(a,r)&&!Tf(o,i)){if(ngDevMode){const e=o.data[i];C(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=r?a.classesWithoutHost:a.stylesWithoutHost;ngDevMode&&!1===r&&null!==e&&C(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(n=u(e,n||"")),kl(o,a,s,n,r)}else!function(e,t,n,r,o,i,s,a){o===Hs&&(o=ue);let u=0,c=0,l=0<o.length?o[0]:null,f=0<i.length?i[0]:null;for(;null!==l||null!==f;){ngDevMode&&S(u,999,"Are we stuck in infinite loop?"),ngDevMode&&S(c,999,"Are we stuck in infinite loop?");const d=u<o.length?o[u+1]:void 0,p=c<i.length?i[c+1]:void 0;let h,v=null;l===f?(u+=2,c+=2,d!==p&&(v=f,h=p)):null===f||null!==l&&l<f?(u+=2,v=l):(ngDevMode&&T(f,"Expecting to have a valid key"),c+=2,v=f,h=p),null!==v&&Rf(e,t,n,r,v,h,s,a),l=u<o.length?o[u]:null,f=c<i.length?i[c]:null}}(o,a,s,s[11],s[i+1],s[i+1]=function(e,t,n){if(null==n||""===n)return ue;const r=[],o=Oo(n);if(Array.isArray(o))for(let t=0;t<o.length;t++)e(r,o[t],!0);else if("object"==typeof o)for(const t in o)o.hasOwnProperty(t)&&e(r,t,o[t]);else"string"==typeof o?t(r,o):ngDevMode&&A("Unsupported styling type "+typeof o+": "+o);return r}(e,t,n),r,i)}}function Tf(e,t){return t>=e.expandoStartIndex}function Af(e,t,n,r){ngDevMode&&Je(e);const o=e.data;if(null===o[n+1]){const i=o[ln()];ngDevMode&&T(i,"TNode expected");const s=Tf(e,n);Vf(i,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const o=Yt(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=kf(n=jf(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=jf(o,e,t,n,r),null===i){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Js(r))return e[qs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=jf(null,e,t,n[1],r),n=kf(n,t.attrs,r),function(e,t,n,r){const o=n?t.classBindings:t.styleBindings;ngDevMode&&x(Js(o),0,"Expecting to have at least one template styling binding."),e[qs(o)]=r}(e,t,r,n))}else i=function(e,t,n){let r;const o=t.directiveEnd;ngDevMode&&x(t.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+t.directiveStylingLast;i<o;i++)r=kf(r,e[i].hostAttrs,n);return kf(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function(e,t,n,r,o,i){ngDevMode&&Je(kt());let s=i?t.classBindings:t.styleBindings,a=qs(s),u=Js(s);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Ir(e,c)>0)&&(l=!0)}else c=n;if(o)if(0!==u){const t=qs(e[a+1]);e[r+1]=zs(t,a),0!==t&&(e[t+1]=Zs(e[t+1],r)),e[a+1]=(f=e[a+1],d=r,ngDevMode&&_(f,"expected number"),ngDevMode&&w(d,0,32767),131071&f|d<<17)}else e[r+1]=zs(a,0),0!==a&&(e[a+1]=Zs(e[a+1],r)),a=r;else e[r+1]=zs(u,0),ngDevMode&&C(0!==a&&0===u,!1,"Adding template bindings after hostBindings is not allowed."),0===a?a=r:e[u+1]=Zs(e[u+1],r),u=r;var f,d;l&&(e[r+1]=Gs(e[r+1])),ff(e,c,r,!0),ff(e,c,r,!1),function(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Ir(i,t)>=0&&(n[r+1]=Ys(n[r+1]))}(t,c,e,r,i),s=zs(a,u),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}function jf(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],ngDevMode&&T(i,"expected to be defined"),r=kf(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function kf(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sr(e,s,!!n||t[++i]))}return void 0===e?null:e}function Nf(e,t,n){Sr(e,t,Oo(n))}function Rf(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Lf(Qs(c)?Ff(u,t,n,o,Js(c),s):void 0)||(Lf(i)||Ks(c)&&(i=Ff(u,null,n,o,a,s)),function(e,t,n,r,o){const i=yt(e);if(t)o?(ngDevMode&&ngDevMode.rendererAddClass++,i?e.addClass(n,r):(ngDevMode&&T(n.classList,"HTMLElement expected"),n.classList.add(r))):(ngDevMode&&ngDevMode.rendererRemoveClass++,i?e.removeClass(n,r):n.classList.remove(r));else{let t=-1===r.indexOf("-")?void 0:zi.DashCase;if(null==o)ngDevMode&&ngDevMode.rendererRemoveStyle++,i?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),t|=zi.Important),ngDevMode&&ngDevMode.rendererSetStyle++,i?e.setStyle(n,r,o,t):(ngDevMode&&T(n.style,"HTMLElement expected"),n.style.setProperty(r,o,s?"important":""))}}}(r,s,mt(ln(),n),o,i))}function Ff(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const t=e[o],i=Array.isArray(t),u=i?t[1]:t,c=null===u;let l=n[o+1];l===Hs&&(l=c?ue:void 0);let f=c?Er(l,r):u===r?l:void 0;if(i&&!Lf(f)&&(f=Er(t,r)),Lf(f)&&(a=f,s))return a;const d=e[o+1];o=s?qs(d):Js(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=Er(e,r))}return a}function Lf(e){return void 0!==e}function Vf(e,t){return 0!=(e.flags&(t?16:32))}function $f(e,t=""){const n=jt(),r=kt(),o=e+Te;ngDevMode&&C(zt(),r.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&k(n,o);const i=r.firstCreatePass?Na(r,o,1,t,null):r.data[o],s=n[o]=es(n[11],t);ms(r,n,s,i),Vt(i,!1)}function Hf(e){return Uf("",e,""),Hf}function Uf(e,t,n){const r=jt(),o=Vc(r,e,t,n);return o!==Hs&&Pu(r,ln(),o),Uf}function Bf(e,t,n,r,o){const i=jt(),s=$c(i,e,t,n,r,o);return s!==Hs&&Pu(i,ln(),s),Bf}function Wf(e,t,n,r,o,i,s){const a=jt(),u=Hc(a,e,t,n,r,o,i,s);return u!==Hs&&Pu(a,ln(),u),Wf}function zf(e,t,n,r,o,i,s,a,u){const c=jt(),l=Uc(c,e,t,n,r,o,i,s,a,u);return l!==Hs&&Pu(c,ln(),l),zf}function qf(e,t,n,r,o,i,s,a,u,c,l){const f=jt(),d=Bc(f,e,t,n,r,o,i,s,a,u,c,l);return d!==Hs&&Pu(f,ln(),d),qf}function Kf(e,t,n,r,o,i,s,a,u,c,l,f,d){const p=jt(),h=Wc(p,e,t,n,r,o,i,s,a,u,c,l,f,d);return h!==Hs&&Pu(p,ln(),h),Kf}function Gf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){const v=jt(),y=zc(v,e,t,n,r,o,i,s,a,u,c,l,f,d,p,h);return y!==Hs&&Pu(v,ln(),y),Gf}function Jf(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){const b=jt(),g=qc(b,e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y);return g!==Hs&&Pu(b,ln(),g),Jf}function Zf(e){const t=jt(),n=Lc(t,e);return n!==Hs&&Pu(t,ln(),n),Zf}function Qf(e,t,n){Pf(Sr,Ef,Vc(jt(),e,t,n),!0)}function Yf(e,t,n,r,o){Pf(Sr,Ef,$c(jt(),e,t,n,r,o),!0)}function Xf(e,t,n,r,o,i,s){Pf(Sr,Ef,Hc(jt(),e,t,n,r,o,i,s),!0)}function ed(e,t,n,r,o,i,s,a,u){Pf(Sr,Ef,Uc(jt(),e,t,n,r,o,i,s,a,u),!0)}function td(e,t,n,r,o,i,s,a,u,c,l){Pf(Sr,Ef,Bc(jt(),e,t,n,r,o,i,s,a,u,c,l),!0)}function nd(e,t,n,r,o,i,s,a,u,c,l,f,d){Pf(Sr,Ef,Wc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d),!0)}function rd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){Pf(Sr,Ef,zc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h),!0)}function od(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){Pf(Sr,Ef,qc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y),!0)}function id(e){Pf(Sr,Ef,Lc(jt(),e),!0)}function sd(e,t,n){Of(Vc(jt(),e,t,n))}function ad(e,t,n,r,o){Of($c(jt(),e,t,n,r,o))}function ud(e,t,n,r,o,i,s){Of(Hc(jt(),e,t,n,r,o,i,s))}function cd(e,t,n,r,o,i,s,a,u){Of(Uc(jt(),e,t,n,r,o,i,s,a,u))}function ld(e,t,n,r,o,i,s,a,u,c,l){Of(Bc(jt(),e,t,n,r,o,i,s,a,u,c,l))}function fd(e,t,n,r,o,i,s,a,u,c,l,f,d){Of(Wc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d))}function dd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){Of(zc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h))}function pd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){Of(qc(jt(),e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y))}function hd(e){Of(Lc(jt(),e))}function vd(e,t,n,r,o){return If(e,Vc(jt(),t,n,r),o,!1),vd}function yd(e,t,n,r,o,i,s){return If(e,$c(jt(),t,n,r,o,i),s,!1),yd}function bd(e,t,n,r,o,i,s,a,u){return If(e,Hc(jt(),t,n,r,o,i,s,a),u,!1),bd}function gd(e,t,n,r,o,i,s,a,u,c,l){return If(e,Uc(jt(),t,n,r,o,i,s,a,u,c),l,!1),gd}function md(e,t,n,r,o,i,s,a,u,c,l,f,d){return If(e,Bc(jt(),t,n,r,o,i,s,a,u,c,l,f),d,!1),md}function _d(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h){return If(e,Wc(jt(),t,n,r,o,i,s,a,u,c,l,f,d,p),h,!1),_d}function wd(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y){return If(e,zc(jt(),t,n,r,o,i,s,a,u,c,l,f,d,p,h,v),y,!1),wd}function Md(e,t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b,g){return If(e,qc(jt(),t,n,r,o,i,s,a,u,c,l,f,d,p,h,v,y,b),g,!1),Md}function Cd(e,t,n){return If(e,Lc(jt(),t),n,!1),Cd}function xd(e,t,n){const r=jt(),o=Kt();if(jc(r,o,t)){const i=kt(),s=dn();Za(i,s,r,e,t,r[11],n,!0),ngDevMode&&Cu(i.data,s,e,o)}return xd}function Od(e,t,n){const r=jt(),o=Kt();if(jc(r,o,t)){const i=kt(),s=dn();Za(i,s,r,e,t,Su(Yt(i.data),s,r),n,!0),ngDevMode&&Cu(i.data,s,e,o)}return Od}"undefined"==typeof ngI18nClosureMode&&(ie.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);const Dd=void 0;var Sd=["en",[["a","p"],["AM","PM"],Dd],[["AM","PM"],Dd,Dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ed={};function Id(e,t,n){"string"!=typeof t&&(n=t,t=e[Nd.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Ed[t]=e,n&&(Ed[t][Nd.ExtraData]=n)}function Pd(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=jd(t);if(n)return n;const r=t.split("-")[0];if(n=jd(r),n)return n;if("en"===r)return Sd;throw new Error(`Missing locale data for the locale "${e}".`)}function Td(e){return Pd(e)[Nd.CurrencyCode]||null}function Ad(e){return Pd(e)[Nd.PluralCase]}function jd(e){return e in Ed||(Ed[e]=ie.ng&&ie.ng.common&&ie.ng.common.locales&&ie.ng.common.locales[e]),Ed[e]}function kd(){Ed={}}var Nd;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(Nd||(Nd={}));const Rd=["zero","one","two","few","many"],Fd="en-US",Ld={marker:"element"},Vd={marker:"ICU"};var $d;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}($d||($d={}));let Hd=Fd;function Ud(e){T(e,"Expected localeId to be defined"),"string"==typeof e&&(Hd=e.toLowerCase().replace(/_/g,"-"))}function Bd(e,t,n){const r=t.insertBeforeIndex,o=Array.isArray(r)?r[0]:r;return null===o?vs(e,0,n):(ngDevMode&&k(n,o),gt(n[o]))}function Wd(e,t,n,r,o){const i=t.insertBeforeIndex;if(Array.isArray(i)){ngDevMode&&j(r);let s=r,a=null;if(3&t.type||(a=s,s=o),null!==s&&0==(2&t.flags))for(let t=1;t<i.length;t++)ls(e,s,n[i[t]],a,!1)}}function zd(e,t){if(ngDevMode&&C(t.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];qd(r)||Kd(r,t)&&null===Gd(r)&&Jd(r,t.index)}}function qd(e){return!(64&e.type)}function Kd(e,t){return qd(t)||e.index>t.index}function Gd(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Jd(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(gs(Bd,Wd),e.insertBeforeIndex=t)}function Zd(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;!ngDevMode||n.hasOwnProperty("tViews")||n.hasOwnProperty("currentCaseLViewIndex")||A("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+n);const r=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return ngDevMode&&Ue(r),r}function Qd(e,t,n){const r=Ra(e,n,64,null,null);return zd(t,r),r}function Yd(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Xd(e){return e>>>17}function ep(e){return(131070&e)>>>1}function tp(e){return 1&e}let np=0,rp=0;function op(e,t,n,r){ngDevMode&&j(r);const o=n[11];let i,s=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&k(n,e),n[e]=es(o,u))}else if("number"==typeof u)switch(1&u){case 0:const c=Xd(u);let l,f;if(null===s&&(s=c,i=ps(o,r)),c===s?(l=r,f=i):(l=null,f=gt(n[c])),null!==f){ngDevMode&&j(f);const t=ep(u);ngDevMode&&I(t,Te,"Missing ref");const r=n[t];ngDevMode&&j(r),ls(o,f,r,l,!1);const i=Zd(e,t);if(null!==i&&"object"==typeof i){ngDevMode&&Ue(i);const t=Yd(i,n);null!==t&&op(e,i.create[t],n,n[i.anchorIdx])}}break;case 1:const d=u>>>1,h=t[++a],v=t[++a];cu(o,mt(d,n),null,null,h,v,null);break;default:if(ngDevMode)throw new p(700,`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Vd:const e=t[++a],r=t[++a];null===n[r]&&(ngDevMode&&C(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&Ze(n,r),wi(n[r]=ns(o,e),n));break;case Ld:const i=t[++a],s=t[++a];null===n[s]&&(ngDevMode&&C(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&Ze(n,s),wi(n[s]=rs(o,i,null),n));break;default:ngDevMode&&A(`Unable to determine the type of mutate operation for "${u}"`)}}}function ip(e,t,n,r,o){for(let i=0;i<n.length;i++){const s=n[i],a=n[++i];if(s&o){let o="";for(let s=i+1;s<=i+a;s++){const i=n[s];if("string"==typeof i)o+=i;else if("number"==typeof i)if(i<0)o+=v(t[r-i]);else{const a=i>>>2;switch(3&i){case 1:const i=n[++s],u=n[++s],c=e.data[a];ngDevMode&&T(c,"Experting TNode or string"),"string"==typeof c?cu(t[11],t[a],null,c,i,o,u):Za(e,c,t,i,o,t[11],u,!1);break;case 0:const l=t[a];null!==l&&ts(t[11],l,o);break;case 2:ap(e,Zd(e,a),t,o);break;case 3:sp(e,Zd(e,a),r,t)}}}}else{const o=n[i+1];if(o>0&&3==(3&o)){const n=Zd(e,o>>>2);t[n.currentCaseLViewIndex]<0&&sp(e,n,r,t)}}i+=a}}function sp(e,t,n,r){ngDevMode&&k(r,t.currentCaseLViewIndex);let o=r[t.currentCaseLViewIndex];if(null!==o){let i=np;o<0&&(o=r[t.currentCaseLViewIndex]=~o,i=-1),ip(e,r,t.update[o],n,i)}}function ap(e,t,n,r){const o=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Ad(t)(parseInt(e,10)),r=Rd[n];return void 0!==r?r:"other"}(t,Hd);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Yd(t,n)!==o&&(up(e,t,n),n[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const r=n[t.anchorIdx];r&&(ngDevMode&&j(r),op(e,t.create[o],n,r))}}function up(e,t,n){let r=Yd(t,n);if(null!==r){const o=t.remove[r];for(let t=0;t<o.length;t++){const r=o[t];if(r>0){const e=mt(r,n);null!==e&&Cs(n[11],e)}else up(e,Zd(e,~r),n)}}}function cp(){const e=[];let t,n,r=-1;function o(e,t){r=0;const o=Yd(e,t);null!==o?(ngDevMode&&w(o,0,e.cases.length-1),n=e.remove[o]):n=ue}function i(){if(r<n.length){const s=n[r++];if(ngDevMode&&_(s,"Expecting OpCode number"),s>0){const e=t[s];return ngDevMode&&j(e),e}{e.push(r,n);const a=~s,u=t[1].data[a];return ngDevMode&&Ue(u),o(u,t),i()}}return 0===e.length?null:(n=e.pop(),r=e.pop(),i())}return function(n,r){for(t=r;e.length;)e.pop();return ngDevMode&&Ve(n,r),o(n.value,r),i}}function lp(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e++],o=t[e],i=(r&$d.COMMENT)===$d.COMMENT,s=(r&$d.APPEND_EAGERLY)===$d.APPEND_EAGERLY,a=r>>>$d.SHIFT;n.push(`lView[${a}] = document.${i?"createComment":"createText"}(${JSON.stringify(o)});`),s&&n.push(`parent.appendChild(lView[${a}]);`)}return n}function fp(e){const t=new hp(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=e>>>2;switch(3&e){case 0:return`(lView[${n}] as Text).textContent = $$$`;case 1:const e=t.consumeString(),r=t.consumeFunction();return`(lView[${n}] as Element).setAttribute('${e}', ${r?`(${r})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${n}, $$$)`;case 3:return`icuUpdateCase(${n})`}throw new Error("unexpected OpCode")}for(;t.hasMore();){let e=t.consumeNumber(),o=t.consumeNumber();const i=t.i+o,s=[];let a="";for(;t.i<i;){let e=t.consumeNumberOrString();if("string"==typeof e)a+=e;else if(e<0)a+="${lView[i"+e+"]}";else{const t=r(e);s.push(t.replace("$$$","`"+a+"`")+";"),a=""}}n.push(`if (mask & 0b${e.toString(2)}) { ${s.join(" ")} }`)}return n}function dp(e){const t=new hp(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=Xd(e),r=ep(e);switch(tp(e)){case 0:return`(lView[${n}] as Element).appendChild(lView[${o}])`;case 1:return`(lView[${r}] as Element).setAttribute("${t.consumeString()}", "${t.consumeString()}")`}throw new Error("Unexpected OpCode: "+tp(e))}let o=-1;for(;t.hasMore();){let e=t.consumeNumberStringOrMarker();if(e===Vd){const e=t.consumeString();o=t.consumeNumber(),n.push(`lView[${o}] = document.createComment("${e}")`)}else if(e===Ld){const e=t.consumeString();o=t.consumeNumber(),n.push(`lView[${o}] = document.createElement("${e}")`)}else if("string"==typeof e)o=t.consumeNumber(),n.push(`lView[${o}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const t=r(e);t&&n.push(t)}}}return n}function pp(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e];r>0?n.push(`remove(lView[${r}])`):n.push(`removeNestedICU(${~r})`)}return n}class hp{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return _(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return M(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||_(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==Vd||e==Ld||_(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const vp=/�(\d+):?\d*�/gi,yp=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,bp=/�(\d+)�/,gp=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,mp=/�\/?\*(\d+:\d+)�/gi,_p=/�(\/?[#*]\d+):?\d*�/gi,wp=/\uE500/g;function Mp(e,t,n,r,o,i,s){const a=Fa(e,r,1,null);let u=a<<$d.SHIFT,c=Lt();t===c&&(c=null),null===c&&(u|=$d.APPEND_EAGERLY),s&&(u|=$d.COMMENT,void 0===qi&&(qi=cp())),o.push(u,null===i?"":i);const l=Ra(e,a,s?32:1,null===i?ngDevMode?"{{?}}":"":i,null);zd(n,l);const f=l.index;return Vt(l,!1),null!==c&&t!==c&&function(e,t){ngDevMode&&He(e);let n=e.insertBeforeIndex;null===n?(gs(Bd,Wd),n=e.insertBeforeIndex=[null,t]):(C(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(c,f),l}function Cp(e,t,n,r,o,i,s){const a=s.match(vp),u=Mp(e,t,n,i,r,a?null:s,!1);a&&xp(o,s,u.index,null,0,null)}function xp(e,t,n,r,o,i){ngDevMode&&P(n,Te,"Index must be in absolute LView offset");const s=e.length,a=s+1;e.push(null,null);const u=s+2;ngDevMode&&ea(e,fp);const c=t.split(vp);let l=0;for(let t=0;t<c.length;t++){const n=c[t];if(1&t){const t=o+parseInt(n,10);e.push(-1-t),l|=Dp(t)}else""!==n&&e.push(n)}return e.push(n<<2|(r?1:0)),r&&e.push(r,i),e[s]=l,e[a]=e.length-u,l}function Op(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function Dp(e){return 1<<Math.min(e,31)}function Sp(e){let t,n,r="",o=0,i=!1;for(;null!==(t=mp.exec(e));)i?t[0]===`�/*${n}�`&&(o=t.index,i=!1):(r+=e.substring(o,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&C(i,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),r+=e.substr(o),r}function Ep(e,t,n,r,o,i){ngDevMode&&T(o,"ICU expression must be defined");let s=0;const a={type:o.type,currentCaseLViewIndex:Fa(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Dp(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,o,i),function(e,t,n){const r=e.data[t];ngDevMode&&C(null===r||r.hasOwnProperty("tViews"),!0,"We expect to get 'null'|'TIcuContainer'"),null===r?e.data[t]=n:(ngDevMode&&On(r,32),r.value=n)}(e,i,a);const u=o.values;for(let i=0;i<u.length;i++){const c=u[i],l=[];for(let e=0;e<c.length;e++){const t=c[e];if("string"!=typeof t){const n=l.push(t)-1;c[e]=`\x3c!--�${n}�--\x3e`}}s=Tp(e,a,t,n,r,o.cases[i],c.join(""),l)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,i)}function Ip(e){const t=[],n=[];let r=1,o=0;const i=Pp(e=e.replace(gp,(function(e,t,n){return r="select"===n?0:1,o=parseInt(t.substr(1),10),""})));for(let e=0;e<i.length;){let o=i[e++].trim();1===r&&(o=o.replace(/\s*(?:=)?(\w+)\s*/,"$1")),o.length&&t.push(o);const s=Pp(i[e++]);t.length>n.length&&n.push(s)}return{type:r,mainBinding:o,cases:t,values:n}}function Pp(e){if(!e)return[];let t=0;const n=[],r=[],o=/[{}]/g;let i;for(o.lastIndex=0;i=o.exec(e);){const o=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const n=e.substring(t,o);gp.test(n)?r.push(Ip(n)):r.push(n),t=o+1}}else{if(0==n.length){const n=e.substring(t,o);r.push(n),t=o+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function Tp(e,t,n,r,o,i,s,a){const u=[],c=[],l=[];ngDevMode&&(ea(u,dp),ea(c,pp),ea(l,fp)),t.cases.push(i),t.create.push(u),t.remove.push(c),t.update.push(l);const f=jo(ht()).getInertBodyElement(s);ngDevMode&&T(f,"Unable to generate inert body element");const d=ai(f)||f;return d?Ap(e,t,n,r,u,c,l,d,o,a,0):0}function Ap(e,t,n,r,o,i,s,a,u,c,l){let f=0,d=a.firstChild;for(;d;){const a=Fa(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,h=p.tagName.toLowerCase();if(Go.hasOwnProperty(h)){Np(o,Ld,h,u,a),e.data[a]=h;const v=p.attributes;for(let e=0;e<v.length;e++){const t=v.item(e),n=t.name.toLowerCase();t.value.match(vp)?Xo.hasOwnProperty(n)?Jo[n]?xp(s,t.value,a,t.name,0,Lo):Zo[n]?xp(s,t.value,a,t.name,0,Vo):xp(s,t.value,a,t.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${n} on element ${h} (see https://g.co/ng/security#xss)`):Rp(o,a,t)}f=Ap(e,t,n,r,o,i,s,d,a,c,l+1)|f,jp(i,a,l)}break;case Node.TEXT_NODE:const v=d.textContent||"",y=v.match(vp);Np(o,null,y?"":v,u,a),jp(i,a,l),y&&(f=xp(s,v,a,null,0,null)|f);break;case Node.COMMENT_NODE:const b=bp.exec(d.textContent||"");if(b){const t=parseInt(b[1],10),s=c[t];Np(o,Vd,ngDevMode?`nested ICU ${t}`:"",u,a),Ep(e,n,r,u,s,a),kp(i,a,l)}}d=d.nextSibling}return f}function jp(e,t,n){0===n&&e.push(t)}function kp(e,t,n){0===n&&(e.push(~t),e.push(t))}function Np(e,t,n,r,o){var i,s;null!==t&&e.push(t),e.push(n,o,(0,i=r,s=o,ngDevMode&&P(i,0,"Missing parent index"),ngDevMode&&I(s,0,"Missing ref index"),0|i<<17|s<<1))}function Rp(e,t,n){e.push(t<<1|1,n.name,n.value)}const Fp=/\[(�.+?�?)\]/,Lp=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Vp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,$p=/{([A-Z0-9_]+)}/g,Hp=/�I18N_EXP_(ICU(_\d+)?)�/g,Up=/\/\*/,Bp=/\d+\:(\d+)/;function Wp(e,t,n=-1){const r=kt(),o=jt(),i=Te+e;ngDevMode&&T(r,"tView should be defined");const s=Dt(r.consts,t),a=Lt();r.firstCreatePass&&function(e,t,n,r,o,i){const s=Lt(),a=[],u=[],c=[[]];ngDevMode&&(ea(a,lp),ea(u,fp)),o=function(e,t){if(function(e){return-1===e}(t))return Sp(e);{const n=e.indexOf(`:${t}�`)+2+t.toString().length,r=e.search(new RegExp(`�\\/\\*\\d+:${t}�`));return Sp(e.substring(n,r))}}(o,i);const l=(f=o,f.replace(wp," ")).split(_p);var f;for(let i=0;i<l.length;i++){let f=l[i];if(0==(1&i)){const i=Pp(f);for(let l=0;l<i.length;l++){let f=i[l];if(0==(1&l)){const t=f;ngDevMode&&M(t,"Parsed ICU part should be string"),""!==t&&Cp(e,s,c[0],a,u,n,t)}else{const i=f;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const l=Mp(e,s,c[0],n,a,ngDevMode?`ICU ${r}:${i.mainBinding}`:"",!0).index;ngDevMode&&P(l,Te,"Index must be in absolute LView offset"),Ep(e,n,u,t,i,l)}}}else{const t=47===f.charCodeAt(0),n=f.charCodeAt(t?1:0);ngDevMode&&N(n,42,35);const r=Te+Number.parseInt(f.substring(t?2:1));if(t)c.shift(),Vt(Lt(),!1);else{const t=Qd(e,c[0],r);c.unshift([]),Vt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,o,i,s,n);const u=r.data[i],c=cs(r,a===o[6]?null:a,o),l=a&&8&a.type?o[a.index]:null;!function(e,t,n,r){const o=e[11];for(let i=0;i<t.length;i++){const s=t[i++],a=t[i],u=(s&$d.COMMENT)===$d.COMMENT,c=(s&$d.APPEND_EAGERLY)===$d.APPEND_EAGERLY,l=s>>>$d.SHIFT;let f=e[l];null===f&&(f=e[l]=u?o.createComment(a):es(o,a)),c&&null!==n&&ls(o,n,f,r,!1)}}(o,u.create,c,l),Jt(!0)}function zp(){Jt(!1)}function qp(e,t,n){Wp(e,t,n),zp()}function Kp(e,t){const n=kt();ngDevMode&&T(n,"tView should be defined");const r=Dt(n.consts,t);!function(e,t,n){const r=Rt().index,o=[];if(ngDevMode&&ea(o,fp),e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],i=n[e+1];if(""!==i){if(yp.test(i))throw new Error(`ICU expressions are not supported in attributes. Message: "${i}".`);xp(o,i,r,t,Op(o),null)}}e.data[t]=o}}(n,e+Te,r)}function Gp(e){return jc(jt(),Kt(),e)&&(np|=1<<Math.min(rp,31)),rp++,Gp}function Jp(e){!function(e,t,n){if(rp>0){ngDevMode&&T(e,"tView should be defined");const r=e.data[n];ip(e,t,Array.isArray(r)?r:r.update,zt()-rp-1,np)}np=0,rp=0}(kt(),jt(),e+Te)}function Zp(e,t={}){return function(e,t={}){let n=e;if(Fp.test(e)){const e={},t=[0];n=n.replace(Lp,((n,r,o)=>{const i=r||o,s=e[i]||[];if(s.length||(i.split("|").forEach((e=>{const t=e.match(Bp),n=t?parseInt(t[1],10):0,r=Up.test(e);s.push([n,r,e])})),e[i]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${i}`);const a=t[t.length-1];let u=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){u=e;break}const[c,l,f]=s[u];return l?t.pop():a!==c&&t.push(c),s.splice(u,1),f}))}return Object.keys(t).length?(n=n.replace(Vp,((e,n,r,o,i,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e)),n=n.replace($p,((e,n)=>t.hasOwnProperty(n)?t[n]:e)),n=n.replace(Hp,((e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e})),n):n}(e,t)}function Qp(e,t,n,r,o){if(e=f(e),Array.isArray(e))for(let i=0;i<e.length;i++)Qp(e[i],t,n,r,o);else{const i=kt(),s=jt();let a=Gu(e)?e:f(e.provide),u=zu(e);const c=Rt(),l=1048575&c.providerIndexes,d=c.directiveStart,p=c.providerIndexes>>20;if(Gu(e)||!e.multi){const r=new Cn(u,o,Tl),f=eh(a,t,o?l:l+p,d);-1===f?(Hn(Fn(c,s),i,a),Yp(i,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=eh(a,t,l+p,d),h=eh(a,t,l,l+p),v=f>=0&&n[f],y=h>=0&&n[h];if(o&&!y||!o&&!v){Hn(Fn(c,s),i,a);const l=function(e,t,n,r,o){const i=new Cn(e,n,Tl);return i.multi=[],i.index=t,i.componentProviders=0,Xp(i,o,r&&!n),i}(o?nh:th,n.length,o,r,u);!o&&y&&(n[h].providerFactory=l),Yp(i,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Yp(i,e,f>-1?f:h,Xp(n[o?h:f],u,!o&&r));!o&&r&&y&&n[h].componentProviders++}}}function Yp(e,t,n,r){const o=Gu(t),i=!!t.useClass;if(o||i){const s=(i?f(t.useClass):t).prototype.ngOnDestroy;if(s){const i=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){ngDevMode&&T(r,"indexInFactory when registering multi factory destroy hook");const e=i.indexOf(n);-1===e?i.push(n,[r,s]):i[e+1].push(r,s)}else i.push(n,s)}}}function Xp(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eh(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function th(e,t,n,r){return rh(this.multi,[])}function nh(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Jn(n,n[1],this.providerFactory.index,r);i=t.slice(0,e),rh(o,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],rh(o,i);return i}function rh(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function oh(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=kt();if(r.firstCreatePass){const o=Le(e);Qp(n,r.data,r.blueprint,o,!0),Qp(t,r.data,r.blueprint,o,!1)}}(n,r?r(e):e,t)}}class ih{}class sh{}class ah{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${a(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class uh{}function ch(e,t){return new lh(_t(e,t))}uh.NULL=new ah;class lh{constructor(e){this.nativeElement=e}}function fh(e){return e instanceof lh?e.nativeElement:e}lh.__NG_ELEMENT_ID__=function(){return ch(Rt(),jt())},new lr("Renderer2Interceptor");class dh{}class ph{}ph.__NG_ELEMENT_ID__=()=>function(){const e=jt(),t=Ct(Rt().index,e);return function(e){const t=e[11];if(ngDevMode&&!yt(t))throw new Error("Cannot inject Renderer2 when the application uses Renderer3!");return t}(je(t)?t:e)}();class hh{}hh.ɵprov=R({token:hh,providedIn:"root",factory:()=>null});class vh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yh=new vh("13.2.6"),bh={};function gh(e,t,n,r,o=!1){for(;null!==n;){ngDevMode&&On(n,63);const i=t[n.index];if(null!==i&&r.push(gt(i)),ke(i))for(let e=Pe;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&gh(t[1],t,n,r)}const s=n.type;if(8&s)gh(e,t,n.child,r);else if(32&s){const e=Ki(n,t);let o;for(;o=e();)r.push(o)}else if(16&s){const e=ws(t,n);if(Array.isArray(e))r.push(...e);else{const n=Gi(t[16]);ngDevMode&&Ye(n),gh(n[1],n,e,r,!0)}}n=o?n.projectionNext:n.next}return r}class mh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return gh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ke(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ngDevMode&&C(n,e.indexOf(this._lView)-Pe,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),is(e,n),Or(t,n))}this._attachedToViewContainer=!1}ss(this._lView[1],this._lView)}onDestroy(e){Ga(this._lView[1],this._lView,null,e)}markForCheck(){gu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_u(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Bt(!0);try{_u(e,t,n)}finally{Bt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef){const e=ngDevMode?"This view is already attached directly to the ApplicationRef!":"";throw new p(902,e)}this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Os(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer){const e=ngDevMode?"This view is already attached to a ViewContainer!":"";throw new p(902,e)}this._appRef=e}}class _h extends mh{constructor(e){super(e),this._view=e}detectChanges(){wu(this._view)}checkNoChanges(){!function(e){Bt(!0);try{wu(e)}finally{Bt(!1)}}(this._view)}get context(){return null}}class wh extends uh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&Be(e);const t=De(e);return new Ch(t,this.ngModule)}}function Mh(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}class Ch extends sh{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map($s).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Mh(this.componentDef.inputs)}get outputs(){return Mh(this.componentDef.outputs)}create(e,t,n,r){const o=(r=r||this.ngModule)?function(e,t){return{get:(n,r,o)=>{const i=e.get(n,bh,o);return i!==bh||r===bh?i:t.get(n,r,o)}}}(e,r.injector):e,i=o.get(dh,bt),s=o.get(hh,null),a=i.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?Ka(a,n,this.componentDef.encapsulation):rs(i.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?lt:"math"===t?ft:null}(u)),l=this.componentDef.onPush?576:528,f=hc(),d=qa(0,null,null,1,0,null,null,null,null,null),p=ka(null,d,f,l,null,null,i,a,s,o);let h,v;rn(p);try{const e=dc(c,this.componentDef,p,i,a);if(c)if(n)Dn(a,c,["ng-version",yh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Ns(o))break;o=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Dn(a,c,e),t&&t.length>0&&Es(a,c,t.join(" "))}if(v=wt(d,Te),void 0!==t){const e=v.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}h=pc(e,this.componentDef,p,f,[vc]),La(d,p,null)}finally{cn()}return new xh(this.componentType,h,ch(v,p),p,v)}}new wh;class xh extends ih{constructor(e,t,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new _h(r),this.componentType=e}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Oh(e,t,n,r){return Z((()=>{const o=e;null!==t&&(o.hasOwnProperty("decorators")&&void 0!==o.decorators?o.decorators.push(...t):o.decorators=t),null!==n&&(o.ctorParameters=n),null!==r&&(o.hasOwnProperty("propDecorators")&&void 0!==o.propDecorators?o.propDecorators=Object.assign(Object.assign({},o.propDecorators),r):o.propDecorators=r)}))}class Dh{}class Sh{}const Eh=new Map;function Ih(e){const t=new Set;!function e(n){const r=Ie(n,!0),o=r.id;if(null!==o){(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${a(t)} vs ${a(t.name)}`)})(o,Eh.get(o),n),Eh.set(o,n)}const i=Ui(r.imports);for(const n of i)t.has(n)||(t.add(n),e(n))}(e)}function Ph(e){return Eh.get(e)||_e[e]}function Th(e,t){return new Ah(e,null!=t?t:null)}class Ah extends Dh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wh(this);const n=Ie(e);ngDevMode&&T(n,`NgModule '${a(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=Ui(n.bootstrap),this._r3Injector=Uu(e,t,[{provide:Dh,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],a(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ju.THROW_IF_NOT_FOUND,n=q.Default){return e===Ju||e===Dh||e===ku?this:this._r3Injector.get(e,t,n)}destroy(){ngDevMode&&T(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&T(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class jh extends Sh{constructor(e){super(),this.moduleType=e,null!==Ie(e)&&Ih(e)}create(e){return new Ah(this.moduleType,e)}}function kh(e,t,n){const r=Wt()+e,o=jt();return o[r]===Hs?Tc(o,r,n?t.call(n):t()):Ac(o,r)}function Nh(e,t,n,r){return zh(jt(),Wt(),e,t,n,r)}function Rh(e,t,n,r,o){return qh(jt(),Wt(),e,t,n,r,o)}function Fh(e,t,n,r,o,i){return Kh(jt(),Wt(),e,t,n,r,o,i)}function Lh(e,t,n,r,o,i,s){return Gh(jt(),Wt(),e,t,n,r,o,i,s)}function Vh(e,t,n,r,o,i,s,a){const u=Wt()+e,c=jt(),l=Rc(c,u,n,r,o,i);return jc(c,u+4,s)||l?Tc(c,u+5,a?t.call(a,n,r,o,i,s):t(n,r,o,i,s)):Ac(c,u+5)}function $h(e,t,n,r,o,i,s,a,u){const c=Wt()+e,l=jt(),f=Rc(l,c,n,r,o,i);return kc(l,c+4,s,a)||f?Tc(l,c+6,u?t.call(u,n,r,o,i,s,a):t(n,r,o,i,s,a)):Ac(l,c+6)}function Hh(e,t,n,r,o,i,s,a,u,c){const l=Wt()+e,f=jt();let d=Rc(f,l,n,r,o,i);return Nc(f,l+4,s,a,u)||d?Tc(f,l+7,c?t.call(c,n,r,o,i,s,a,u):t(n,r,o,i,s,a,u)):Ac(f,l+7)}function Uh(e,t,n,r,o,i,s,a,u,c,l){const f=Wt()+e,d=jt(),p=Rc(d,f,n,r,o,i);return Rc(d,f+4,s,a,u,c)||p?Tc(d,f+8,l?t.call(l,n,r,o,i,s,a,u,c):t(n,r,o,i,s,a,u,c)):Ac(d,f+8)}function Bh(e,t,n,r){return Jh(jt(),Wt(),e,t,n,r)}function Wh(e,t){ngDevMode&&k(e,t);const n=e[t];return n===Hs?void 0:n}function zh(e,t,n,r,o,i){const s=t+n;return jc(e,s,o)?Tc(e,s+1,i?r.call(i,o):r(o)):Wh(e,s+1)}function qh(e,t,n,r,o,i,s){const a=t+n;return kc(e,a,o,i)?Tc(e,a+2,s?r.call(s,o,i):r(o,i)):Wh(e,a+2)}function Kh(e,t,n,r,o,i,s,a){const u=t+n;return Nc(e,u,o,i,s)?Tc(e,u+3,a?r.call(a,o,i,s):r(o,i,s)):Wh(e,u+3)}function Gh(e,t,n,r,o,i,s,a,u){const c=t+n;return Rc(e,c,o,i,s,a)?Tc(e,c+4,u?r.call(u,o,i,s,a):r(o,i,s,a)):Wh(e,c+4)}function Jh(e,t,n,r,o,i){let s=t+n,a=!1;for(let t=0;t<o.length;t++)jc(e,s++,o[t])&&(a=!0);return a?Tc(e,s,r.apply(i,o)):Wh(e,s)}function Zh(e,t){const n=kt();let r;const o=e+Te;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}if(ngDevMode){const t=jt()[16][8],n=t?` in the '${t.constructor.name}' component`:"";throw new p(-302,`The pipe '${e}' could not be found${n}!`)}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=et(r.type,!0)),s=G(Tl);try{const e=Nn(!1),t=i();return Nn(e),rl(n,jt(),o,t),t}finally{G(s)}}function Qh(e,t,n){const r=e+Te,o=jt(),i=Mt(o,r);return nv(o,r)?zh(o,Wt(),t,i.transform,n,i):i.transform(n)}function Yh(e,t,n,r){const o=e+Te,i=jt(),s=Mt(i,o);return nv(i,o)?qh(i,Wt(),t,s.transform,n,r,s):s.transform(n,r)}function Xh(e,t,n,r,o){const i=e+Te,s=jt(),a=Mt(s,i);return nv(s,i)?Kh(s,Wt(),t,a.transform,n,r,o,a):a.transform(n,r,o)}function ev(e,t,n,r,o,i){const s=e+Te,a=jt(),u=Mt(a,s);return nv(a,s)?Gh(a,Wt(),t,u.transform,n,r,o,i,u):u.transform(n,r,o,i)}function tv(e,t,n){const r=e+Te,o=jt(),i=Mt(o,r);return nv(o,r)?Jh(o,Wt(),t,i.transform,n,i):i.transform.apply(i,n)}function nv(e,t){return e[1].data[t].pure}class rv extends r.Subject{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var o,i,s;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(o=t.next)||void 0===o?void 0:o.bind(t),u=null===(i=t.error)||void 0===i?void 0:i.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(u=ov(u),a&&(a=ov(a)),c&&(c=ov(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof r.Subscription&&e.add(l),l}}function ov(e){return t=>{setTimeout(e,void 0,t)}}const iv=rv;function sv(){return this._results[Sc()]()}class av{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Sc(),n=av.prototype;n[t]||(n[t]=sv)}get changes(){return this._changes||(this._changes=new iv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Mr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class uv{}uv.__NG_ELEMENT_ID__=function(){return fv(Rt(),jt())};const cv=uv,lv=class extends cv{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ka(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null),r=this._declarationLView[this._declarationTContainer.index];ngDevMode&&ze(r),n[17]=r;const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(t)),La(t,n,e),new mh(n)}};function fv(e,t){return 4&e.type?(ngDevMode&&T(e.tViews,"TView must be allocated"),new lv(t,e,ch(e,t))):null}class dv{}dv.__NG_ELEMENT_ID__=function(){return bv(Rt(),jt())};const pv=dv,hv=class extends pv{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=$n(this._hostTNode,this._hostLView);if(Tn(e)){const t=jn(e,this._hostLView),n=An(e);ngDevMode&&Xe(t,n);const r=t[1].data[n+8];return new Yn(r,t)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=vv(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,o){const i=e&&!wr(e);let s;if(i)ngDevMode&&C("object"!=typeof t,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),s=t;else{ngDevMode&&(T(De(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),C("number"!=typeof t,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const i=t||{};s=i.index,n=i.injector,r=i.projectableNodes,o=i.ngModuleRef}const a=i?e:new Ch(De(e)),u=n||this.parentInjector;if(!o&&null==a.ngModule){const e=(i?u:this.parentInjector).get(Dh,null);e&&(o=e)}const c=a.create(u,r,void 0,o);return this.insert(c.hostView,s),c}insert(e,t){const n=e._lView,r=n[1];if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(ke(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3];ngDevMode&&C(ke(t),!0,"An attached view should have its PARENT point to a container.");const r=new hv(t,t[6],t[3]);r.detach(r.indexOf(e))}}const o=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){ngDevMode&&Ke(t),ngDevMode&&ze(n);const o=Pe+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-Pe?(t[4]=n[o],xr(n,Pe+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){ngDevMode&&T(t,"LView required"),ngDevMode&&ze(e);const n=e[9],r=t[3];ngDevMode&&ze(r);const o=r[3][16];ngDevMode&&T(o,"Missing insertedComponentLView");const i=t[16];ngDevMode&&T(i,"Missing declaredComponentLView"),i!==o&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,i,o);const s=Ms(o,i),a=n[11],u=ps(a,i[7]);return null!==u&&function(e,t,n,r,o,i){r[0]=o,r[6]=t,Os(e,r,n,1,o,i)}(r,i[6],a,n,u,s),e.attachToViewContainerRef(),xr(yv(i),o,e),e}move(e,t){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=vv(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=is(this._lContainer,t);n&&(Or(yv(this._lContainer),t),ss(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=is(this._lContainer,t);return n&&null!=Or(yv(this._lContainer),t)?new mh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:(ngDevMode&&(I(e,-1,`ViewRef index must be positive, got ${e}`),S(e,this.length+1+t,"index")),e)}};function vv(e){return e[8]}function yv(e){return e[8]||(e[8]=[])}function bv(e,t){let n;ngDevMode&&On(e,15);const r=t[e.index];if(ke(r))n=r;else{let o;if(8&e.type)o=gt(r);else{const n=t[11];ngDevMode&&ngDevMode.rendererCreateComment++,o=n.createComment(ngDevMode?"container":"");const r=_t(e,t);ls(n,ps(n,r),o,function(e,t){return yt(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=pu(r,t,o,e),bu(t,n)}return new hv(n,e,t)}class gv{constructor(e){this.queryList=e,this.matches=null}clone(){return new gv(this.queryList)}setDirty(){this.queryList.setDirty()}}class mv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),o=this.queries[n.indexInDeclarationView];r.push(o.clone())}return new mv(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jv(e,t).matches&&this.queries[t].setDirty()}}class _v{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class wv{constructor(e=[]){this.queries=e}elementStart(e,t){ngDevMode&&Ge(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new wv(t):null}template(e,t){ngDevMode&&Ge(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return ngDevMode&&k(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Mv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Mv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(e,t,Cv(t,o)),this.matchTNodeWithReadOption(e,t,Gn(t,e,o,!1,!1))}else n===uv?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===lh||r===dv||r===uv&&4&t.type)this.addMatch(t.index,-2);else{const n=Gn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Cv(e,t){const n=e.localNames;if(null!==n)for(let e=0;e<n.length;e+=2)if(n[e]===t)return n[e+1];return null}function xv(e,t,n,r){return-1===n?function(e,t){return 11&e.type?ch(e,t):4&e.type?fv(e,t):null}(t,e):-2===n?function(e,t,n){return n===lh?ch(t,e):n===uv?fv(t,e):n===dv?(ngDevMode&&On(t,15),bv(t,e)):void(ngDevMode&&A(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${a(n)}.`))}(e,t,r):Jn(e,e[1],n,t)}function Ov(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const r=e.data,i=n.matches,s=[];for(let e=0;e<i.length;e+=2){const o=i[e];if(o<0)s.push(null);else{ngDevMode&&k(r,o);const a=r[o];s.push(xv(t,a,i[e+1],n.metadata.read))}}o.matches=s}return o.matches}function Dv(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=Ov(e,t,o,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(s[e/2]);else{const o=i[e+1],s=t[-n];ngDevMode&&ze(s);for(let e=Pe;e<s.length;e++){const t=s[e];t[17]===t[3]&&Dv(t[1],t,o,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Dv(n[1],n,o,r)}}}}}return r}function Sv(e){const t=jt(),n=kt(),r=Xt();en(r+1);const o=jv(n,r);if(e.dirty&&xt(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Dv(n,t,r,[]):Ov(n,t,o,r);e.reset(i,fh),e.notifyOnChanges()}return!0}return!1}function Ev(e,t,n){ngDevMode&&_(t,"Expecting flags");const r=kt();r.firstCreatePass&&(Av(r,new _v(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Tv(r,jt(),t)}function Iv(e,t,n,r){ngDevMode&&_(n,"Expecting flags");const o=kt();if(o.firstCreatePass){const i=Rt();Av(o,new _v(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}Tv(o,jt(),n)}function Pv(){return e=jt(),t=Xt(),ngDevMode&&T(e[19],"LQueries should be defined when trying to load a query"),ngDevMode&&k(e[19].queries,t),e[19].queries[t].queryList;var e,t}function Tv(e,t,n){const r=new av(4==(4&n));Ga(e,t,r,r.destroy),null===t[19]&&(t[19]=new mv),t[19].queries.push(new gv(r))}function Av(e,t,n){null===e.queries&&(e.queries=new wv),e.queries.track(new Mv(t,n))}function jv(e,t){return ngDevMode&&T(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(t)}function kv(e,t){return fv(e,t)}const Nv={ɵɵattribute:Fc,ɵɵattributeInterpolate1:Kc,ɵɵattributeInterpolate2:Gc,ɵɵattributeInterpolate3:Jc,ɵɵattributeInterpolate4:Zc,ɵɵattributeInterpolate5:Qc,ɵɵattributeInterpolate6:Yc,ɵɵattributeInterpolate7:Xc,ɵɵattributeInterpolate8:el,ɵɵattributeInterpolateV:tl,ɵɵdefineComponent:ye,ɵɵdefineDirective:xe,ɵɵdefineInjectable:R,ɵɵdefineInjector:L,ɵɵdefineNgModule:we,ɵɵdefinePipe:Oe,ɵɵdirectiveInject:Tl,ɵɵgetInheritedFactory:Xn,ɵɵinject:Wr,ɵɵinjectAttribute:tr,ɵɵinvalidFactory:Al,ɵɵinvalidFactoryDep:zr,ɵɵtemplateRefExtractor:kv,ɵɵNgOnChangesFeature:nt,ɵɵProvidersFeature:oh,ɵɵCopyDefinitionFeature:Oc,ɵɵInheritDefinitionFeature:gc,ɵɵnextContext:Zl,ɵɵnamespaceHTML:vn,ɵɵnamespaceMathML:hn,ɵɵnamespaceSVG:pn,ɵɵenableBindings:Tt,ɵɵdisableBindings:At,ɵɵelementStart:Nl,ɵɵelementEnd:Rl,ɵɵelement:Fl,ɵɵelementContainerStart:Ll,ɵɵelementContainerEnd:Vl,ɵɵelementContainer:$l,ɵɵpureFunction0:kh,ɵɵpureFunction1:Nh,ɵɵpureFunction2:Rh,ɵɵpureFunction3:Fh,ɵɵpureFunction4:Lh,ɵɵpureFunction5:Vh,ɵɵpureFunction6:$h,ɵɵpureFunction7:Hh,ɵɵpureFunction8:Uh,ɵɵpureFunctionV:Bh,ɵɵgetCurrentView:Hl,ɵɵrestoreView:Nt,ɵɵlistener:zl,ɵɵprojection:Xl,ɵɵsyntheticHostProperty:Od,ɵɵsyntheticHostListener:ql,ɵɵpipeBind1:Qh,ɵɵpipeBind2:Yh,ɵɵpipeBind3:Xh,ɵɵpipeBind4:ev,ɵɵpipeBindV:tv,ɵɵprojectionDef:Yl,ɵɵhostProperty:xd,ɵɵproperty:jl,ɵɵpropertyInterpolate:ef,ɵɵpropertyInterpolate1:tf,ɵɵpropertyInterpolate2:nf,ɵɵpropertyInterpolate3:rf,ɵɵpropertyInterpolate4:of,ɵɵpropertyInterpolate5:sf,ɵɵpropertyInterpolate6:af,ɵɵpropertyInterpolate7:uf,ɵɵpropertyInterpolate8:cf,ɵɵpropertyInterpolateV:lf,ɵɵpipe:Zh,ɵɵqueryRefresh:Sv,ɵɵviewQuery:Ev,ɵɵloadQuery:Pv,ɵɵcontentQuery:Iv,ɵɵreference:ol,ɵɵclassMap:Sf,ɵɵclassMapInterpolate1:Qf,ɵɵclassMapInterpolate2:Yf,ɵɵclassMapInterpolate3:Xf,ɵɵclassMapInterpolate4:ed,ɵɵclassMapInterpolate5:td,ɵɵclassMapInterpolate6:nd,ɵɵclassMapInterpolate7:rd,ɵɵclassMapInterpolate8:od,ɵɵclassMapInterpolateV:id,ɵɵstyleMap:Of,ɵɵstyleMapInterpolate1:sd,ɵɵstyleMapInterpolate2:ad,ɵɵstyleMapInterpolate3:ud,ɵɵstyleMapInterpolate4:cd,ɵɵstyleMapInterpolate5:ld,ɵɵstyleMapInterpolate6:fd,ɵɵstyleMapInterpolate7:dd,ɵɵstyleMapInterpolate8:pd,ɵɵstyleMapInterpolateV:hd,ɵɵstyleProp:Cf,ɵɵstylePropInterpolate1:vd,ɵɵstylePropInterpolate2:yd,ɵɵstylePropInterpolate3:bd,ɵɵstylePropInterpolate4:gd,ɵɵstylePropInterpolate5:md,ɵɵstylePropInterpolate6:_d,ɵɵstylePropInterpolate7:wd,ɵɵstylePropInterpolate8:Md,ɵɵstylePropInterpolateV:Cd,ɵɵclassProp:xf,ɵɵadvance:Us,ɵɵtemplate:nl,ɵɵtext:$f,ɵɵtextInterpolate:Hf,ɵɵtextInterpolate1:Uf,ɵɵtextInterpolate2:Bf,ɵɵtextInterpolate3:Wf,ɵɵtextInterpolate4:zf,ɵɵtextInterpolate5:qf,ɵɵtextInterpolate6:Kf,ɵɵtextInterpolate7:Gf,ɵɵtextInterpolate8:Jf,ɵɵtextInterpolateV:Zf,ɵɵi18n:qp,ɵɵi18nAttributes:Kp,ɵɵi18nExp:Gp,ɵɵi18nStart:Wp,ɵɵi18nEnd:zp,ɵɵi18nApply:Jp,ɵɵi18nPostprocess:Zp,ɵɵresolveWindow:Li,ɵɵresolveDocument:Vi,ɵɵresolveBody:$i,ɵɵsetComponentScope:be,ɵɵsetNgModuleScope:Me,ɵɵsanitizeHtml:ci,ɵɵsanitizeStyle:li,ɵɵsanitizeResourceUrl:di,ɵɵsanitizeScript:pi,ɵɵsanitizeUrl:fi,ɵɵsanitizeUrlOrResourceUrl:yi,ɵɵtrustConstantHtml:hi,ɵɵtrustConstantResourceUrl:vi,forwardRef:l,resolveForwardRef:f};let Rv=null;function Fv(){Rv=null}const Lv=[];let Vv=!1;function $v(){if(!Vv){Vv=!0;try{for(let e=Lv.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Lv[e];n.declarations&&n.declarations.every(Hv)&&(Lv.splice(e,1),Qv(t,n))}}finally{Vv=!1}}}function Hv(e){return Array.isArray(e)?e.every(Hv):!!f(e)}function Uv(e,t={}){Bv(e,t),function(e,t){Lv.push({moduleType:e,ngModule:t})}(e,t)}function Bv(e,t,n=!1){ngDevMode&&T(e,"Required value moduleType"),ngDevMode&&T(t,"Required value ngModule");const r=Mr(t.declarations||ue);let o=null;Object.defineProperty(e,de,{configurable:!0,get:()=>{if(null===o){if(ngDevMode&&t.imports&&t.imports.indexOf(e)>-1)throw new Error(`'${y(e)}' module can't import itself`);const n=mr({usage:0,kind:"NgModule",type:e});o=n.compileNgModule(Nv,`ng:///${e.name}/ɵmod.js`,{type:e,bootstrap:Mr(t.bootstrap||ue).map(f),declarations:r.map(f),imports:Mr(t.imports||ue).map(f).map(ey),exports:Mr(t.exports||ue).map(f).map(ey),schemas:t.schemas?Mr(t.schemas):null,id:t.id||null}),o.schemas||(o.schemas=[])}return o}});let i=null;Object.defineProperty(e,pe,{get:()=>{if(null===i){const t=mr({usage:0,kind:"NgModule",type:e});i=t.compileFactory(Nv,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,deps:no(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!!ngDevMode});let s=null;Object.defineProperty(e,B,{get:()=>{if(null===s){ngDevMode&&Wv(e,n);const r={name:e.name,type:e,providers:t.providers||ue,imports:[(t.imports||ue).map(f),(t.exports||ue).map(f)]},o=mr({usage:0,kind:"NgModule",type:e});s=o.compileInjector(Nv,`ng:///${e.name}/ɵinj.js`,r)}return s},configurable:!!ngDevMode})}function Wv(e,t,n){if(Gv.get(e))return;let r;if(Gv.set(e,!0),e=f(e),n){if(r=Ie(e),!r)throw new Error(`Unexpected value '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}else r=Ie(e,!0);const o=[],i=Ui(r.declarations),s=Ui(r.imports);Mr(s).map(zv).forEach((t=>{d(t,e),Wv(t,!1,e)}));const a=Ui(r.exports);i.forEach((function(t){De(t=f(t))||Se(t)||Ee(t)||o.push(`Unexpected value '${y(t)}' declared by the module '${y(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),i.forEach((function(e){const t=Se(e=f(e));!De(e)&&t&&0==t.selectors.length&&o.push(`Directive ${y(e)} has no selector, please add it!`)}));const u=[...i.map(f),...Mr(s.map(Zv)).map(f)];a.forEach((function(t){const n=(De(t=f(t))?"component":Se(t)&&"directive")||Ee(t)&&"pipe";n&&-1===u.lastIndexOf(t)&&o.push(`Can't export ${n} ${y(t)} from ${y(e)} as it was neither declared nor imported!`)})),i.forEach((n=>function(t,n){t=f(t);const r=Kv.get(t);if(r&&r!==e){if(!n){const n=[r,e].map(y).sort();o.push(`Type ${y(t)} is part of the declarations of 2 modules: ${n[0]} and ${n[1]}! Please consider moving ${y(t)} to a higher module that imports ${n[0]} and ${n[1]}. You can also create a new NgModule that exports and includes ${y(t)} then import that NgModule in ${n[0]} and ${n[1]}.`)}}else Kv.set(t,e)}(n,t))),i.forEach((function(e){if(De(e=f(e))){const t=qv(e,"Component");t&&t.entryComponents&&Cr(t.entryComponents,l)}}));const c=qv(e,"NgModule");if(c&&(c.imports&&Mr(c.imports).map(zv).forEach((t=>{d(t,e),Wv(t,!1,e)})),c.bootstrap&&Cr(c.bootstrap,(function(e){De(e=f(e))||o.push(`${y(e)} cannot be used as an entry component.`)})),c.bootstrap&&Cr(c.bootstrap,l),c.entryComponents&&Cr(c.entryComponents,l)),o.length)throw new Error(o.join("\n"));function l(e){e=f(e),Kv.get(e)||o.push(`Component ${y(e)} is not part of any NgModule or the module has not been imported into your module.`)}function d(e,t){if(De(e=f(e))||Se(e))throw new Error(`Unexpected directive '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`);if(Ee(e))throw new Error(`Unexpected pipe '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`)}}function zv(e){return(e=f(e)).ngModule||e}function qv(e,t){let n=null;return r(e.__annotations__),r(e.decorators),n;function r(e){e&&e.forEach(o)}function o(e){n||(Object.getPrototypeOf(e).ngMetadataName==t?n=e:e.type&&Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0]))}}let Kv=new WeakMap,Gv=new WeakMap;function Jv(){Kv=new WeakMap,Gv=new WeakMap,Lv.length=0}function Zv(e){return[...Mr(Ui(Ie(e=f(e),!0).exports).map((e=>Ie(e)?(Wv(e,!1),Zv(e)):e)))]}function Qv(e,t){const n=Mr(t.declarations||ue),r=Xv(e);n.forEach((t=>{t.hasOwnProperty(ce)?Yv(De(t),r):t.hasOwnProperty(le)||t.hasOwnProperty(fe)||(t.ngSelectorScope=e)}))}function Yv(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map((e=>e.hasOwnProperty(ce)?De(e):Se(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(t.compilation.pipes).map((e=>Ee(e))),e.schemas=t.schemas,e.tView=null}function Xv(e){if(!ty(e))throw new Error(`${e.name} does not have a module def (ɵmod property)`);const t=Ie(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ui(t.imports).forEach((e=>{const t=e;if(!ty(t))throw new Error(`Importing ${t.name} which does not have a ɵmod property`);const r=Xv(t);r.exported.directives.forEach((e=>n.compilation.directives.add(e))),r.exported.pipes.forEach((e=>n.compilation.pipes.add(e)))})),Ui(t.declarations).forEach((e=>{Ee(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),Ui(t.exports).forEach((e=>{const t=e;if(ty(t)){const e=Xv(t);e.exported.directives.forEach((e=>{n.compilation.directives.add(e),n.exported.directives.add(e)})),e.exported.pipes.forEach((e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else Ee(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function ey(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function ty(e){return!!Ie(e)}let ny=0;function ry(e,t){("undefined"==typeof ngDevMode||ngDevMode)&&se();let n=null;!function(e,t){ao(t)&&(io.set(e,t),so.add(e))}(e,t),sy(e,t),Object.defineProperty(e,ce,{get:()=>{if(null===n){const r=mr({usage:0,kind:"component",type:e});if(ao(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const o=Rv;let i=t.preserveWhitespaces;void 0===i&&(i=null!==o&&void 0!==o.preserveWhitespaces&&o.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==o&&void 0!==o.defaultEncapsulation?o.defaultEncapsulation:X.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,u=Object.assign(Object.assign({},uy(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:i,styles:t.styles||ue,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});ny++;try{u.usesInheritance&&cy(e),n=r.compileComponent(Nv,a,u)}finally{ny--}if(0===ny&&$v(),void 0!==e.ngSelectorScope){const t=Xv(e.ngSelectorScope);Yv(n,t)}}return n},configurable:!!ngDevMode})}function oy(e,t){let n=null;sy(e,t||{}),Object.defineProperty(e,le,{get:()=>{if(null===n){const r=iy(e,t||{}),o=mr({usage:0,kind:"directive",type:e});n=o.compileDirective(Nv,r.sourceMapUrl,r.metadata)}return n},configurable:!!ngDevMode})}function iy(e,t){const n=e&&e.name,r=`ng:///${n}/ɵdir.js`,o=mr({usage:0,kind:"directive",type:e}),i=uy(e,t);return i.typeSourceSpan=o.createParseSourceSpan("Directive",n,r),i.usesInheritance&&cy(e),{metadata:i,sourceMapUrl:r}}function sy(e,t){let n=null;Object.defineProperty(e,pe,{get:()=>{if(null===n){const r=iy(e,t),o=mr({usage:0,kind:"directive",type:e});n=o.compileFactory(Nv,`ng:///${e.name}/ɵfac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:no(e),target:o.FactoryTarget.Directive})}return n},configurable:!!ngDevMode})}function ay(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function uy(e,t){const n=to(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||ae,propMetadata:r,inputs:t.inputs||ue,outputs:t.outputs||ue,queries:fy(e,r,dy),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!ay(e),exportAs:(o=t.exportAs,void 0===o?null:vy(o)),providers:t.providers||null,viewQueries:fy(e,r,py)};var o}function cy(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)Se(n)||De(n)||!by(n)||oy(n,null),n=Object.getPrototypeOf(n)}function ly(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?vy(n):f(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function fy(e,t,n){const r=[];for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];i.forEach((t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${o}" of "${y(e)}" since the query selector wasn't defined.`);if(i.some(hy))throw new Error("Cannot combine @Input decorators with query decorators");r.push(ly(o,t))}}))}return r}function dy(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function py(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function hy(e){return"Input"===e.ngMetadataName}function vy(e){return e.split(",").map((e=>e.trim()))}const yy=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function by(e){const t=to();if(yy.some((n=>t.hasLifecycleHook(e,n))))return!0;const n=t.propMetadata(e);for(const e in n){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(hy(n)||dy(n)||py(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function gy(e,t){let n=null,r=null;Object.defineProperty(e,pe,{get:()=>{if(null===r){const n=my(e,t),o=mr({usage:0,kind:"pipe",type:n.type});r=o.compileFactory(Nv,`ng:///${n.name}/ɵfac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:no(e),target:o.FactoryTarget.Pipe})}return r},configurable:!!ngDevMode}),Object.defineProperty(e,fe,{get:()=>{if(null===n){const r=my(e,t),o=mr({usage:0,kind:"pipe",type:r.type});n=o.compilePipe(Nv,`ng:///${r.name}/ɵpipe.js`,r)}return n},configurable:!!ngDevMode})}function my(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const _y=ir("Directive",((e={})=>e),void 0,void 0,((e,t)=>oy(e,t))),wy=ir("Component",((e={})=>Object.assign({changeDetection:Q.Default},e)),_y,void 0,((e,t)=>ry(e,t))),My=ir("Pipe",(e=>Object.assign({pure:!0},e)),void 0,void 0,((e,t)=>gy(e,t))),Cy=ur("Input",(e=>({bindingPropertyName:e}))),xy=ur("Output",(e=>({bindingPropertyName:e}))),Oy=ur("HostBinding",(e=>({hostPropertyName:e}))),Dy=ur("HostListener",((e,t)=>({eventName:e,args:t}))),Sy=ir("NgModule",(e=>e),void 0,void 0,((e,t)=>Uv(e,t)));function Ey(...e){}const Iy=new lr("Application Initializer");class Py{constructor(e){this.appInits=e,this.resolve=Ey,this.reject=Ey,this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();if(Ul(n))e.push(n);else if(Wl(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}}Py.ɵfac=function(e){return new(e||Py)(Wr(Iy,8))},Py.ɵprov=R({token:Py,factory:Py.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(Py,[{type:cl,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:Jr,args:[Iy]},{type:Zr}]}]}),null);const Ty=new lr("AppId",{providedIn:"root",factory:Ay});function Ay(){return`${ky()}${ky()}${ky()}`}const jy={provide:Ty,useFactory:Ay,deps:[]};function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ny=new lr("Platform Initializer"),Ry=new lr("Platform ID"),Fy=new lr("appBootstrapListener"),Ly=new lr("Application Packages Root URL");class Vy{log(e){console.log(e)}warn(e){console.warn(e)}}Vy.ɵfac=function(e){return new(e||Vy)},Vy.ɵprov=R({token:Vy,factory:Vy.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(Vy,[{type:cl}],null,null);const $y=new lr("LocaleId",{providedIn:"root",factory:()=>qr($y,q.Optional|q.SkipSelf)||("undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.getLocale()?goog.getLocale():"undefined"!=typeof $localize&&$localize.locale||Fd)}),Hy=new lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Uy=new lr("Translations"),By=new lr("TranslationsFormat");var Wy;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Wy||(Wy={}));class zy{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class qy{compileModuleSync(e){return new jh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=Ui(Ie(e).declarations).reduce(((e,t)=>{const n=De(t);return n&&e.push(new Ch(n)),e}),[]);return new zy(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}qy.ɵfac=function(e){return new(e||qy)},qy.ɵprov=R({token:qy,factory:qy.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(qy,[{type:cl,args:[{providedIn:"root"}]}],null,null);const Ky=new lr("compilerOptions");class Gy{}const Jy=Promise.resolve(0);function Zy(e){"undefined"==typeof Zone?Jy.then((()=>{e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qy{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new iv(!1),this.onMicrotaskEmpty=new iv(!1),this.onStable=new iv(!1),this.onError=new iv(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=ie.requestAnimationFrame,t=ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ie,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,eb(e),e.isCheckStableRunning=!0,Xy(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),eb(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return tb(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),nb(e)}},onInvoke:(n,r,o,i,s,a,u)=>{try{return tb(e),n.invoke(o,i,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),nb(e)}},onHasTask:(t,n,r,o)=>{t.hasTask(r,o),n===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,eb(e),Xy(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,r,o)=>(t.handleError(r,o),e.runOutsideAngular((()=>e.onError.emit(o))),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qy.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qy.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,e,Yy,Ey,Ey);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Yy={};function Xy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function eb(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function tb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nb(e){e._nesting--,Xy(e)}class rb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new iv,this.onMicrotaskEmpty=new iv,this.onStable=new iv,this.onError=new iv}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}class ob{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Qy.assertNotInAngularZone(),Zy((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zy((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==r)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}ob.ɵfac=function(e){return new(e||ob)(Wr(Qy))},ob.ɵprov=R({token:ob,factory:ob.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(ob,[{type:cl}],(function(){return[{type:Qy}]}),null);class ib{constructor(){this._applications=new Map,ub.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ub.findTestabilityInTree(this,e,t)}}function sb(e){ub=e}ib.ɵfac=function(e){return new(e||ib)},ib.ɵprov=R({token:ib,factory:ib.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(ib,[{type:cl}],(function(){return[]}),null);let ab,ub=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}};function cb(e,t,n){ngDevMode&&function(e,t="Type passed in is not NgModuleType, it does not have 'ɵmod' property."){Ie(e)||A(t)}(n);const r=new jh(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(r);const o=e.get(Ky,[]).concat(t);if(function(e){if(null!==Rv){if(e.defaultEncapsulation!==Rv.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(e.preserveWhitespaces!==Rv.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}Rv=e}({defaultEncapsulation:Mb(o.map((e=>e.defaultEncapsulation))),preserveWhitespaces:Mb(o.map((e=>e.preserveWhitespaces)))}),0===io.size)return Promise.resolve(r);const i=function(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}(o.map((e=>e.providers)));if(0===i.length)return Promise.resolve(r);const s=mr({usage:0,kind:"NgModule",type:n}),a=Ju.create({providers:i}).get(s.ResourceLoader);return oo((e=>Promise.resolve(a.get(e)))).then((()=>r))}function lb(e){return e.isBoundToModule}const fb=new lr("AllowMultipleToken");class db{constructor(e,t){this.name=e,this.token=t}}function pb(e){if(ab&&!ab.destroyed&&!ab.injector.get(fb,!1)){const e="undefined"==typeof ngDevMode||ngDevMode?"There can be only one platform. Destroy the previous one to create a new one.":"";throw new p(400,e)}ngDevMode&&cc(),ab=e.get(gb);const t=e.get(Ny,null);return t&&t.forEach((e=>e())),ab}function hb(e,t,n=[]){const r=`Platform: ${t}`,o=new lr(r);return(t=[])=>{let i=bb();if(!i||i.injector.get(fb,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{const e=n.concat(t).concat({provide:o,useValue:!0},{provide:Ru,useValue:"platform"});pb(Ju.create({providers:e,name:r}))}return vb(o)}}function vb(e){const t=bb();if(!t){const e="undefined"==typeof ngDevMode||ngDevMode?"No platform exists!":"";throw new p(401,e)}if(("undefined"==typeof ngDevMode||ngDevMode)&&!t.injector.get(e,null))throw new p(400,"A platform with a different configuration has been created. Please destroy it first.");return t}function yb(){ab&&!ab.destroyed&&ab.destroy()}function bb(){return ab&&!ab.destroyed?ab:null}class gb{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new rb:("zone.js"===e?void 0:e)||new Qy({enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Qy,useValue:n}];return n.run((()=>{const t=Ju.create({providers:r,parent:this.injector,name:e.moduleType.name}),o=e.create(t),i=o.injector.get(Pi,null);if(!i){const e="undefined"==typeof ngDevMode||ngDevMode?"No ErrorHandler. Is platform module (BrowserModule) included?":"";throw new p(402,e)}return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});o.onDestroy((()=>{wb(this._modules,o),e.unsubscribe()}))})),function(e,t,n){try{const r=n();return Ul(r)?r.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):r}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}(i,n,(()=>{const e=o.injector.get(Py);return e.runInitializers(),e.donePromise.then((()=>(Ud(o.injector.get($y,Fd)||Fd),this._moduleDoBootstrap(o),o)))}))}))}bootstrapModule(e,t=[]){const n=mb({},t);return cb(this.injector,n,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(_b);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap){const t="undefined"==typeof ngDevMode||ngDevMode?`The module ${a(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`:"";throw new p(403,t)}e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed){const e="undefined"==typeof ngDevMode||ngDevMode?"The platform has already been destroyed!":"";throw new p(404,e)}this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e())),this._destroyed=!0}get destroyed(){return this._destroyed}}function mb(e,t){return Array.isArray(t)?t.reduce(mb,e):Object.assign(Object.assign({},e),t)}gb.ɵfac=function(e){return new(e||gb)(Wr(Ju))},gb.ɵprov=R({token:gb,factory:gb.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(gb,[{type:cl}],(function(){return[{type:Ju}]}),null);class _b{constructor(e,t,n,i,s){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run((()=>{this.tick()}))}});const a=new r.Observable((e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular((()=>{e.next(this._stable),e.complete()}))})),u=new r.Observable((e=>{let t;this._zone.runOutsideAngular((()=>{t=this._zone.onStable.subscribe((()=>{Qy.assertNotInAngularZone(),Zy((()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))}))}))}));const n=this._zone.onUnstable.subscribe((()=>{Qy.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular((()=>{e.next(!1)})))}));return()=>{t.unsubscribe(),n.unsubscribe()}}));this.isStable=(0,r.merge)(a,u.pipe((0,o.BN)()))}bootstrap(e,t){if(!this._initStatus.done){const e="undefined"==typeof ngDevMode||ngDevMode?"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.":"";throw new p(405,e)}let n;n=e instanceof sh?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=lb(n)?void 0:this._injector.get(Dh),o=t||n.selector,i=n.create(Ju.NULL,[],o,r),s=i.location.nativeElement,a=i.injector.get(ob,null),u=a&&i.injector.get(ib);return a&&u&&u.registerApplication(s,a),i.onDestroy((()=>{this.detachView(i.hostView),wb(this.components,i),u&&u.unregisterApplication(s)})),this._loadComponent(i),("undefined"==typeof ngDevMode||ngDevMode)&&this._injector.get(Vy).log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick){const e="undefined"==typeof ngDevMode||ngDevMode?"ApplicationRef.tick is called recursively":"";throw new p(101,e)}try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if("undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular((()=>this._exceptionHandler.handleError(e)))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;wb(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Fy,[]).concat(this._bootstrapListeners).forEach((t=>t(e)))}ngOnDestroy(){this._views.slice().forEach((e=>e.destroy())),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function wb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Mb(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}_b.ɵfac=function(e){return new(e||_b)(Wr(Qy),Wr(Ju),Wr(Pi),Wr(uh),Wr(Py))},_b.ɵprov=R({token:_b,factory:_b.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(_b,[{type:cl,args:[{providedIn:"root"}]}],(function(){return[{type:Qy},{type:Ju},{type:Pi},{type:uh},{type:Py}]}),null);let Cb=!0,xb=!1;function Ob(){return xb=!0,Cb}function Db(){if(xb)throw new Error("Cannot enable prod mode after platform setup.");(void 0===typeof ngDevMode||ngDevMode)&&(ie.ngDevMode=!1),Cb=!1}function Sb(e){const t=Ph(e);if(!t)throw Ib(e);return new jh(t)}function Eb(e){const t=Ph(e);if(!t)throw Ib(e);return t}function Ib(e){return new Error(`No module with ID ${e} loaded`)}class Pb{}function Tb(e){return function(e,t,n){if(Re(e)&&!n){const n=Ct(e.index,t);return new mh(n,n)}if(47&e.type){const e=t[16];return new mh(e,t)}return null}(Rt(),jt(),16==(16&e))}Pb.__NG_ELEMENT_ID__=Tb;class Ab extends Pb{}class jb extends Ab{}class kb{constructor(e,t){this.name=e,this.callback=t}}function Nb(e){return e.map((e=>e.nativeElement))}class Rb{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Fb(e):null}get injector(){return ec(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Zu(e)||Yu(e))}get context(){return Zu(this.nativeNode)||Qu(this.nativeNode)}get listeners(){return oc(this.nativeNode).filter((e=>"dom"===e.type))}get references(){return function(e){const t=gi(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let o=0;o<n.localNames.length;o+=2)t[n.localNames[o]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=gi(e);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],o=[],i=1048575&r.providerIndexes,s=r.directiveEnd;for(let e=i;e<s;e++){let t=n.data[e];void 0!==(a=t).type&&void 0!==a.template&&void 0!==a.declaredInputs&&(t=t.type),o.push(t)}var a;return o}(this.nativeNode)}}class Fb extends Rb{constructor(e){ngDevMode&&j(e),super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=gi(this.nativeNode);return null!==e?e.lView[1].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=gi(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],o={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];Lb(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,o),function(e,t,n,r){let o=t.propertyBindings;if(null!==o)for(let t=0;t<o.length;t++){const i=o[t],s=r[i].split(Hi),a=s[0];if(s.length>1){let t=s[1];for(let e=1;e<s.length-1;e++)t+=v(n[i+e-1])+s[e+1];e[a]=t}else e[a]=n[i]}}(o,r,t,n),o}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=gi(t);if(null===n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,o=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;const i=r[t+1];e[n]=i,o.push(n.toLowerCase()),t+=2}}const i=t.attributes;for(let t=0;t<i.length;t++){const n=i[t],r=n.name.toLowerCase();-1===o.indexOf(r)&&(e[r]=n.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return("string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((t=>e[t]=!0)),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(Wb(r))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let e=0;e<t.length;e++){const r=t[e];n.push(Wb(r))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Vb(this,e,t,!0),t}queryAllNodes(e){const t=[];return Vb(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach((o=>{if(o.name===e){const e=o.callback;e.call(n,t),r.push(e)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const o=e("__ngUnwrap__");return-1===r.indexOf(o)&&o.call(n,t)}}))}}function Lb(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Vb(e,t,n,r){const o=gi(e.nativeNode);null!==o?$b(o.lView[1].data[o.nodeIndex],o.lView,t,n,r,e.nativeNode):Bb(e.nativeNode,t,n,r)}function $b(e,t,n,r,o,i){ngDevMode&&Ve(e,t);const s=function(e,t){const n=null===e?-1:e.index;if(-1!==n){ngDevMode&&Ve(e,t);const r=gt(t[n]);return ngDevMode&&null!==r&&!yt(t[11])&&j(r),r}return null}(e,t);if(11&e.type){if(Ub(s,n,r,o,i),Re(e)){const s=Ct(e.index,t);s&&s[1].firstChild&&$b(s[1].firstChild,s,n,r,o,i)}else e.child&&$b(e.child,t,n,r,o,i),s&&Bb(s,n,r,o);const a=t[e.index];ke(a)&&Hb(a,n,r,o,i)}else if(4&e.type){const s=t[e.index];Ub(s[7],n,r,o,i),Hb(s,n,r,o,i)}else if(16&e.type){const s=t[16],a=s[6].projection[e.projection];if(Array.isArray(a))for(let e of a)Ub(e,n,r,o,i);else if(a){const e=s[3];$b(e[1].data[a.index],e,n,r,o,i)}}else e.child&&$b(e.child,t,n,r,o,i);if(i!==s){const s=4&e.flags?e.projectionNext:e.next;s&&$b(s,t,n,r,o,i)}}function Hb(e,t,n,r,o){for(let i=Pe;i<e.length;i++){const s=e[i],a=s[1].firstChild;a&&$b(a,s,t,n,r,o)}}function Ub(e,t,n,r,o){if(o!==e){const o=Wb(e);if(!o)return;(r&&o instanceof Fb&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o)}}function Bb(e,t,n,r){const o=e.childNodes,i=o.length;for(let e=0;e<i;e++){const i=o[e],s=Wb(i);s&&((r&&s instanceof Fb&&t(s)&&-1===n.indexOf(s)||!r&&t(s)&&-1===n.indexOf(s))&&n.push(s),Bb(i,t,n,r))}}new Map;function Wb(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new Fb(e):new Rb(e)),e.__ng_debug__):null}function zb(e){return null}class qb{constructor(){}supports(e){return Ic(e)}create(e){return new Gb(e)}}const Kb=(e,t)=>t;class Gb{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kb}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,o=null;for(;t||n;){const i=!n||t&&t.currentIndex<Yb(n,r,o)?t:n,s=Yb(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<o.length?o[n]:o[n]=0,i=r+n;t<=i&&i<e&&(o[n]=r+1)}o[i.previousIndex]=t-e}}s!==a&&e(i,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ic(e)){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${a(e)}'. Only arrays and iterables are allowed`:"";throw new p(900,t)}return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,o=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,n,r,t)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,r,t),i=!0),o=o._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Sc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,(e=>{r=this._trackByFn(t,e),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,e,r,t)),Object.is(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,r,t),i=!0),o=o._next,t++})),this.length=t;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Jb(t,n),o,r),e}_verifyReinsertion(e,t,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qb),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Jb{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zb{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Qb{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Zb,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yb(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Xb{constructor(){}supports(e){return e instanceof Map||Pc(e)}create(){return new eg}}class eg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Pc(e))){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${a(e)}'. Only maps and objects are allowed`:"";throw new p(900,t)}}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}const n=new tg(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((n=>t(e[n],n)))}}class tg{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ng(){return new rg([new qb])}class rg{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new rg(e)}static extend(e){return{provide:rg,useFactory:t=>rg.create(e,t||ng()),deps:[[rg,new Yr,new Zr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;{const t="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`:"";throw new p(901,t)}var n}}function og(){return new ig([new Xb])}rg.ɵprov=R({token:rg,providedIn:"root",factory:ng});class ig{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new ig(e)}static extend(e){return{provide:ig,useFactory:t=>ig.create(e,t||og()),deps:[[ig,new Yr,new Zr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(t)return t;const n="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}'`:"";throw new p(901,n)}}ig.ɵprov=R({token:ig,providedIn:"root",factory:og});const sg=[new Xb],ag=[new qb],ug=new rg(ag),cg=new ig(sg),lg=hb(null,"core",[{provide:Ry,useValue:"unknown"},{provide:gb,deps:[Ju]},{provide:ib,deps:[]},{provide:Vy,deps:[]}]);class fg{constructor(e){}}fg.ɵfac=function(e){return new(e||fg)(Wr(_b))},fg.ɵmod=we({type:fg}),fg.ɵinj=L({}),("undefined"==typeof ngDevMode||ngDevMode)&&Oh(fg,[{type:Sy}],(function(){return[{type:_b}]}),null);const dg=!0;function pg(e){return mr({usage:1,kind:"directive",type:e.type}).compileDirectiveDeclaration(Nv,`ng:///${e.type.name}/ɵfac.js`,e)}function hg(e){var t,n;Oh(e.type,e.decorators,null!==(t=e.ctorParameters)&&void 0!==t?t:null,null!==(n=e.propDecorators)&&void 0!==n?n:null)}function vg(e){return mr({usage:1,kind:"component",type:e.type}).compileComponentDeclaration(Nv,`ng:///${e.type.name}/ɵcmp.js`,e)}function yg(e){return mr({usage:1,kind:bg(e.target),type:e.type}).compileFactoryDeclaration(Nv,`ng:///${e.type.name}/ɵfac.js`,e)}function bg(e){switch(e){case br.Directive:return"directive";case br.Component:return"component";case br.Injectable:return"injectable";case br.Pipe:return"pipe";case br.NgModule:return"NgModule"}}function gg(e){return mr({usage:1,kind:"injectable",type:e.type}).compileInjectableDeclaration(Nv,`ng:///${e.type.name}/ɵprov.js`,e)}function mg(e){return mr({usage:1,kind:"NgModule",type:e.type}).compileInjectorDeclaration(Nv,`ng:///${e.type.name}/ɵinj.js`,e)}function _g(e){return mr({usage:1,kind:"NgModule",type:e.type}).compileNgModuleDeclaration(Nv,`ng:///${e.type.name}/ɵmod.js`,e)}function wg(e){return mr({usage:1,kind:"pipe",type:e.type}).compilePipeDeclaration(Nv,`ng:///${e.type.name}/ɵpipe.js`,e)}"undefined"!=typeof ngDevMode&&ngDevMode&&(ie.$localize=ie.$localize||function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.checkKeyForDid=e.EProofmeDataStorage=e.EProofmeDataPurpose=e.EClaimType=e.ESignatureTypes=e.EMimeType=e.getSubDomain=e.SignalServerV2=e.ProofmeUtils=e.ProofmeUtilsProvider=e.WebRtcProvider=e.SignalingServer=void 0;var t=n(2582);Object.defineProperty(e,"SignalingServer",{enumerable:!0,get:function(){return t.SignalingServer}});var o=n(2733);Object.defineProperty(e,"WebRtcProvider",{enumerable:!0,get:function(){return o.WebRtcProvider}});var i=n(1015);Object.defineProperty(e,"ProofmeUtilsProvider",{enumerable:!0,get:function(){return i.ProofmeUtilsProvider}});var s=n(5583);Object.defineProperty(e,"ProofmeUtils",{enumerable:!0,get:function(){return s.ProofmeUtils}});var a=n(5456);Object.defineProperty(e,"SignalServerV2",{enumerable:!0,get:function(){return a.SignalServerV2}});var u=n(6919);Object.defineProperty(e,"getSubDomain",{enumerable:!0,get:function(){return u.getSubDomain}});var c=n(3244);Object.defineProperty(e,"EMimeType",{enumerable:!0,get:function(){return c.EMimeType}});var l=n(2178);Object.defineProperty(e,"ESignatureTypes",{enumerable:!0,get:function(){return l.ESignatureTypes}});var f=n(9137);Object.defineProperty(e,"EClaimType",{enumerable:!0,get:function(){return f.EClaimType}});var d=n(5018);Object.defineProperty(e,"EProofmeDataPurpose",{enumerable:!0,get:function(){return d.EProofmeDataPurpose}});var p=n(345);Object.defineProperty(e,"EProofmeDataStorage",{enumerable:!0,get:function(){return p.EProofmeDataStorage}});var h=n(3817);Object.defineProperty(e,"checkKeyForDid",{enumerable:!0,get:function(){return h.checkKeyForDid}})})(),r})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxnQkFDVCxjQUFTLGdGQUFBcStGLGtCQUNULGNBQVMsc0RBQUFqMEgsSUFBQSxvQkFBQWswSCxnQkFJVCxjQUFTLDJFQUFBLy9GLGFBQ1QsY0FBUyxpRkFBQUcsbUJBQ1QsY0FBUyw0RUFBQUwsY0FVVCxjQUFTLHFGQUFBRyx1QkFDVCxhQUFTLHFGQUFBQyx1QkFHVCxjQUFTLGdGQUFBOC9GIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9Bc3luY1N1YmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tU3Vic2NyaWJhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvaW5uZXJGcm9tLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvdGltZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0VGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVG9nZ2xlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJXaGVuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jYXRjaEVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0QWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0V2l0aC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdFdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2Nvbm5lY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9lbmRXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9ldmVyeS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdEFsbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9maW5kLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9maW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9mbGF0TWFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvam9pbkFsbEludGVybmFscy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tYXBUby5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWF0ZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21heC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUludGVybmFscy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwVG8uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlU2Nhbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9taW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3BhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2suanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2guanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2VXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZkNvdW50LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVdoZW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlVGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2Nhbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2NhbkludGVybmFscy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2VxdWVuY2VFcXVhbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zaW5nbGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9za2lwVW50aWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBXaGlsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zdWJzY3JpYmVPbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFRvLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hTY2FuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlTGFzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVVudGlsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlV2hpbGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RhcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlVGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90aW1lSW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90aW1lc3RhbXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvdy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93Q291bnQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RpbWUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RvZ2dsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93V2hlbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3ppcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvemlwQWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy96aXBXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci9Bc3luY1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvaW50ZXJ2YWxQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvRW1wdHlFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL05vdEZvdW5kRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL1NlcXVlbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvYXJncy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvYXJnc09yQXJnQXJyYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvY3JlYXRlT2JqZWN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvZXJyb3JDb250ZXh0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzRGF0ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9saWZ0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvbWFwT25lT3JNYW55QXJncy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9ub3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL29wZXJhdG9ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvY2xhaW1UeXBlcy5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9kaWRBY2Nlc3NMZXZlbC5lbnVtLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9taW1lVHlwZXMuZW51bS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvZW51bXMvcHJvb2ZtZURhdGFQdXJwb3NlLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9lbnVtcy9wcm9vZm1lRGF0YVN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2VudW1zL3NpZ25hdHVyZVR5cGVzLmVudW0udHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL2hlbHBlcnMvc2lnbmFsSGVscGVycy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvcHJvb2ZtZS11dGlscy5wcm92aWRlci50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvcHJvb2ZtZS11dGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvc2lnbmFsU2VydmVyL3NpZ25hbFNlcnZlclYyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zaWduYWxpbmdTZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3NtYXJ0Y29udHJhY3RzL2NsYWltSG9sZGVyQWJpLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zbWFydGNvbnRyYWN0cy9pZGVudGl0eS50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvdXRpbHMvZ2xvYmFsL3YxVXRpbHMudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3V0aWxzL3NtYXJ0Q29udHJhY3RzL3NtYXJ0Q29udHJhY3RVdGlscy50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvd2ViUnRjLnByb3ZpZGVyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy93ZWJSdGNDbGllbnRWMi50cyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJyeGpzXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwidXVpZFwiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndlYjNcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ3ZWJzb2NrZXRcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ3cnRjXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwid3NcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNyeXB0b1wiIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL2Zlc20yMDE1L2NvcmUubWpzIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1Byb29mbWVJZC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJQcm9vZm1lSWRcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUHJvb2ZtZUlkXCJdID0gZmFjdG9yeSgpO1xufSkoZ2xvYmFsLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFzeW5jU3ViamVjdCA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi9TdWJqZWN0XCIpO1xudmFyIEFzeW5jU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1N1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5faGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgX2hhc1ZhbHVlID0gX2EuX2hhc1ZhbHVlLCBfdmFsdWUgPSBfYS5fdmFsdWUsIHRocm93bkVycm9yID0gX2EudGhyb3duRXJyb3IsIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZCwgX2lzQ29tcGxldGUgPSBfYS5faXNDb21wbGV0ZTtcbiAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRocm93bkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0b3BwZWQgfHwgX2lzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIF9oYXNWYWx1ZSAmJiBzdWJzY3JpYmVyLm5leHQoX3ZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9oYXNWYWx1ZSA9IF9hLl9oYXNWYWx1ZSwgX3ZhbHVlID0gX2EuX3ZhbHVlLCBfaXNDb21wbGV0ZSA9IF9hLl9pc0NvbXBsZXRlO1xuICAgICAgICBpZiAoIV9pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIF9oYXNWYWx1ZSAmJiBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCBfdmFsdWUpO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTdWJqZWN0O1xufShTdWJqZWN0XzEuU3ViamVjdCkpO1xuZXhwb3J0cy5Bc3luY1N1YmplY3QgPSBBc3luY1N1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1N1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CZWhhdmlvclN1YmplY3QgPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4vU3ViamVjdFwiKTtcbnZhciBCZWhhdmlvclN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgICFzdWJzY3JpcHRpb24uY2xvc2VkICYmIHN1YnNjcmliZXIubmV4dCh0aGlzLl92YWx1ZSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBfdmFsdWUgPSBfYS5fdmFsdWU7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgdGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsICh0aGlzLl92YWx1ZSA9IHZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0XzEuU3ViamVjdCkpO1xuZXhwb3J0cy5CZWhhdmlvclN1YmplY3QgPSBCZWhhdmlvclN1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CZWhhdmlvclN1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm9ic2VydmVOb3RpZmljYXRpb24gPSBleHBvcnRzLk5vdGlmaWNhdGlvbiA9IGV4cG9ydHMuTm90aWZpY2F0aW9uS2luZCA9IHZvaWQgMDtcbnZhciBlbXB0eV8xID0gcmVxdWlyZShcIi4vb2JzZXJ2YWJsZS9lbXB0eVwiKTtcbnZhciBvZl8xID0gcmVxdWlyZShcIi4vb2JzZXJ2YWJsZS9vZlwiKTtcbnZhciB0aHJvd0Vycm9yXzEgPSByZXF1aXJlKFwiLi9vYnNlcnZhYmxlL3Rocm93RXJyb3JcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIE5vdGlmaWNhdGlvbktpbmQ7XG4oZnVuY3Rpb24gKE5vdGlmaWNhdGlvbktpbmQpIHtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiTkVYVFwiXSA9IFwiTlwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJFUlJPUlwiXSA9IFwiRVwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJDT01QTEVURVwiXSA9IFwiQ1wiO1xufSkoTm90aWZpY2F0aW9uS2luZCA9IGV4cG9ydHMuTm90aWZpY2F0aW9uS2luZCB8fCAoZXhwb3J0cy5Ob3RpZmljYXRpb25LaW5kID0ge30pKTtcbnZhciBOb3RpZmljYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSBraW5kID09PSAnTic7XG4gICAgfVxuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZU5vdGlmaWNhdGlvbih0aGlzLCBvYnNlcnZlcik7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmRvID0gZnVuY3Rpb24gKG5leHRIYW5kbGVyLCBlcnJvckhhbmRsZXIsIGNvbXBsZXRlSGFuZGxlcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBraW5kID0gX2Eua2luZCwgdmFsdWUgPSBfYS52YWx1ZSwgZXJyb3IgPSBfYS5lcnJvcjtcbiAgICAgICAgcmV0dXJuIGtpbmQgPT09ICdOJyA/IG5leHRIYW5kbGVyID09PSBudWxsIHx8IG5leHRIYW5kbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0SGFuZGxlcih2YWx1ZSkgOiBraW5kID09PSAnRScgPyBlcnJvckhhbmRsZXIgPT09IG51bGwgfHwgZXJyb3JIYW5kbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvckhhbmRsZXIoZXJyb3IpIDogY29tcGxldGVIYW5kbGVyID09PSBudWxsIHx8IGNvbXBsZXRlSGFuZGxlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcGxldGVIYW5kbGVyKCk7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKChfYSA9IG5leHRPck9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dClcbiAgICAgICAgICAgID8gdGhpcy5vYnNlcnZlKG5leHRPck9ic2VydmVyKVxuICAgICAgICAgICAgOiB0aGlzLmRvKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS50b09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGtpbmQgPSBfYS5raW5kLCB2YWx1ZSA9IF9hLnZhbHVlLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICB2YXIgcmVzdWx0ID0ga2luZCA9PT0gJ04nXG4gICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgb2ZfMS5vZih2YWx1ZSlcbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICBraW5kID09PSAnRSdcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcl8xLnRocm93RXJyb3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gZXJyb3I7IH0pXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQgPT09ICdDJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlfMS5FTVBUWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIFwiICsga2luZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdOJywgdmFsdWUpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ0MnKTtcbiAgICByZXR1cm4gTm90aWZpY2F0aW9uO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpY2F0aW9uID0gTm90aWZpY2F0aW9uO1xuZnVuY3Rpb24gb2JzZXJ2ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIG9ic2VydmVyKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdmFyIF9kID0gbm90aWZpY2F0aW9uLCBraW5kID0gX2Qua2luZCwgdmFsdWUgPSBfZC52YWx1ZSwgZXJyb3IgPSBfZC5lcnJvcjtcbiAgICBpZiAodHlwZW9mIGtpbmQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm90aWZpY2F0aW9uLCBtaXNzaW5nIFwia2luZFwiJyk7XG4gICAgfVxuICAgIGtpbmQgPT09ICdOJyA/IChfYSA9IG9ic2VydmVyLm5leHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9ic2VydmVyLCB2YWx1ZSkgOiBraW5kID09PSAnRScgPyAoX2IgPSBvYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwob2JzZXJ2ZXIsIGVycm9yKSA6IChfYyA9IG9ic2VydmVyLmNvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChvYnNlcnZlcik7XG59XG5leHBvcnRzLm9ic2VydmVOb3RpZmljYXRpb24gPSBvYnNlcnZlTm90aWZpY2F0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVOb3RpZmljYXRpb24gPSBleHBvcnRzLm5leHROb3RpZmljYXRpb24gPSBleHBvcnRzLmVycm9yTm90aWZpY2F0aW9uID0gZXhwb3J0cy5DT01QTEVURV9OT1RJRklDQVRJT04gPSB2b2lkIDA7XG5leHBvcnRzLkNPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XG5mdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydHMuZXJyb3JOb3RpZmljYXRpb24gPSBlcnJvck5vdGlmaWNhdGlvbjtcbmZ1bmN0aW9uIG5leHROb3RpZmljYXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdOJywgdmFsdWUsIHVuZGVmaW5lZCk7XG59XG5leHBvcnRzLm5leHROb3RpZmljYXRpb24gPSBuZXh0Tm90aWZpY2F0aW9uO1xuZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGtpbmQsIHZhbHVlLCBlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZU5vdGlmaWNhdGlvbiA9IGNyZWF0ZU5vdGlmaWNhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT2JzZXJ2YWJsZSA9IHZvaWQgMDtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9TdWJzY3JpYmVyXCIpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIG9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuL3N5bWJvbC9vYnNlcnZhYmxlXCIpO1xudmFyIHBpcGVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvcGlwZVwiKTtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgZXJyb3JDb250ZXh0XzEgPSByZXF1aXJlKFwiLi91dGlsL2Vycm9yQ29udGV4dFwiKTtcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFN1YnNjcmliZXJfMS5TYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyXzEuU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHJlc29sdmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZV8xLnBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnRzLk9ic2VydmFibGUgPSBPYnNlcnZhYmxlO1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHByb21pc2VDdG9yICE9PSBudWxsICYmIHByb21pc2VDdG9yICE9PSB2b2lkIDAgPyBwcm9taXNlQ3RvciA6IGNvbmZpZ18xLmNvbmZpZy5Qcm9taXNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBQcm9taXNlO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUuY29tcGxldGUpO1xufVxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgU3Vic2NyaXB0aW9uXzEuaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlTdWJqZWN0ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuL1N1YmplY3RcIik7XG52YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXCIpO1xudmFyIFJlcGxheVN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBsYXlTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGxheVN1YmplY3QoX2J1ZmZlclNpemUsIF93aW5kb3dUaW1lLCBfdGltZXN0YW1wUHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKF9idWZmZXJTaXplID09PSB2b2lkIDApIHsgX2J1ZmZlclNpemUgPSBJbmZpbml0eTsgfVxuICAgICAgICBpZiAoX3dpbmRvd1RpbWUgPT09IHZvaWQgMCkgeyBfd2luZG93VGltZSA9IEluZmluaXR5OyB9XG4gICAgICAgIGlmIChfdGltZXN0YW1wUHJvdmlkZXIgPT09IHZvaWQgMCkgeyBfdGltZXN0YW1wUHJvdmlkZXIgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXJfMS5kYXRlVGltZXN0YW1wUHJvdmlkZXI7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSBfYnVmZmVyU2l6ZTtcbiAgICAgICAgX3RoaXMuX3dpbmRvd1RpbWUgPSBfd2luZG93VGltZTtcbiAgICAgICAgX3RoaXMuX3RpbWVzdGFtcFByb3ZpZGVyID0gX3RpbWVzdGFtcFByb3ZpZGVyO1xuICAgICAgICBfdGhpcy5fYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3cgPSB0cnVlO1xuICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gX3dpbmRvd1RpbWUgPT09IEluZmluaXR5O1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IE1hdGgubWF4KDEsIF9idWZmZXJTaXplKTtcbiAgICAgICAgX3RoaXMuX3dpbmRvd1RpbWUgPSBNYXRoLm1heCgxLCBfd2luZG93VGltZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQsIF9idWZmZXIgPSBfYS5fYnVmZmVyLCBfaW5maW5pdGVUaW1lV2luZG93ID0gX2EuX2luZmluaXRlVGltZVdpbmRvdywgX3RpbWVzdGFtcFByb3ZpZGVyID0gX2EuX3RpbWVzdGFtcFByb3ZpZGVyLCBfd2luZG93VGltZSA9IF9hLl93aW5kb3dUaW1lO1xuICAgICAgICBpZiAoIWlzU3RvcHBlZCkge1xuICAgICAgICAgICAgX2J1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICFfaW5maW5pdGVUaW1lV2luZG93ICYmIF9idWZmZXIucHVzaChfdGltZXN0YW1wUHJvdmlkZXIubm93KCkgKyBfd2luZG93VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICB0aGlzLl90cmltQnVmZmVyKCk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLl9pbm5lclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgX2luZmluaXRlVGltZVdpbmRvdyA9IF9hLl9pbmZpbml0ZVRpbWVXaW5kb3csIF9idWZmZXIgPSBfYS5fYnVmZmVyO1xuICAgICAgICB2YXIgY29weSA9IF9idWZmZXIuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3B5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkgKz0gX2luZmluaXRlVGltZVdpbmRvdyA/IDEgOiAyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoY29weVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl90cmltQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfYnVmZmVyU2l6ZSA9IF9hLl9idWZmZXJTaXplLCBfdGltZXN0YW1wUHJvdmlkZXIgPSBfYS5fdGltZXN0YW1wUHJvdmlkZXIsIF9idWZmZXIgPSBfYS5fYnVmZmVyLCBfaW5maW5pdGVUaW1lV2luZG93ID0gX2EuX2luZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgdmFyIGFkanVzdGVkQnVmZmVyU2l6ZSA9IChfaW5maW5pdGVUaW1lV2luZG93ID8gMSA6IDIpICogX2J1ZmZlclNpemU7XG4gICAgICAgIF9idWZmZXJTaXplIDwgSW5maW5pdHkgJiYgYWRqdXN0ZWRCdWZmZXJTaXplIDwgX2J1ZmZlci5sZW5ndGggJiYgX2J1ZmZlci5zcGxpY2UoMCwgX2J1ZmZlci5sZW5ndGggLSBhZGp1c3RlZEJ1ZmZlclNpemUpO1xuICAgICAgICBpZiAoIV9pbmZpbml0ZVRpbWVXaW5kb3cpIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBfdGltZXN0YW1wUHJvdmlkZXIubm93KCk7XG4gICAgICAgICAgICB2YXIgbGFzdCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IF9idWZmZXIubGVuZ3RoICYmIF9idWZmZXJbaV0gPD0gbm93OyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3QgJiYgX2J1ZmZlci5zcGxpY2UoMCwgbGFzdCArIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVwbGF5U3ViamVjdDtcbn0oU3ViamVjdF8xLlN1YmplY3QpKTtcbmV4cG9ydHMuUmVwbGF5U3ViamVjdCA9IFJlcGxheVN1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXBsYXlTdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXCIpO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydHMuU2NoZWR1bGVyID0gU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQW5vbnltb3VzU3ViamVjdCA9IGV4cG9ydHMuU3ViamVjdCA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi9PYnNlcnZhYmxlXCIpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEgPSByZXF1aXJlKFwiLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yXCIpO1xudmFyIGFyclJlbW92ZV8xID0gcmVxdWlyZShcIi4vdXRpbC9hcnJSZW1vdmVcIik7XG52YXIgZXJyb3JDb250ZXh0XzEgPSByZXF1aXJlKFwiLi91dGlsL2Vycm9yQ29udGV4dFwiKTtcbnZhciBTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgICAgICBzdWJqZWN0Lm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3Rocm93SWZDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlcnJvckNvbnRleHRfMS5lcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29weSA9IF90aGlzLm9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNvcHlfMSA9IF9fdmFsdWVzKGNvcHkpLCBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCk7ICFjb3B5XzFfMS5kb25lOyBjb3B5XzFfMSA9IGNvcHlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IGNvcHlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3B5XzFfMSAmJiAhY29weV8xXzEuZG9uZSAmJiAoX2EgPSBjb3B5XzEucmV0dXJuKSkgX2EuY2FsbChjb3B5XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGVycm9yQ29udGV4dF8xLmVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYXNFcnJvciA9IF90aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJqZWN0LnByb3RvdHlwZSwgXCJvYnNlcnZlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLm9ic2VydmVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2lubmVyU3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkLCBvYnNlcnZlcnMgPSBfYS5vYnNlcnZlcnM7XG4gICAgICAgIHJldHVybiBoYXNFcnJvciB8fCBpc1N0b3BwZWRcbiAgICAgICAgICAgID8gU3Vic2NyaXB0aW9uXzEuRU1QVFlfU1VCU0NSSVBUSU9OXG4gICAgICAgICAgICA6IChvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKSwgbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbihmdW5jdGlvbiAoKSB7IHJldHVybiBhcnJSZW1vdmVfMS5hcnJSZW1vdmUob2JzZXJ2ZXJzLCBzdWJzY3JpYmVyKTsgfSkpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLlN1YmplY3QgPSBTdWJqZWN0O1xudmFyIEFub255bW91c1N1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHZhbHVlKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBlcnIpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogU3Vic2NyaXB0aW9uXzEuRU1QVFlfU1VCU0NSSVBUSU9OO1xuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydHMuQW5vbnltb3VzU3ViamVjdCA9IEFub255bW91c1N1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRU1QVFlfT0JTRVJWRVIgPSBleHBvcnRzLlNhZmVTdWJzY3JpYmVyID0gZXhwb3J0cy5TdWJzY3JpYmVyID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciByZXBvcnRVbmhhbmRsZWRFcnJvcl8xID0gcmVxdWlyZShcIi4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi91dGlsL25vb3BcIik7XG52YXIgTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmljYXRpb25GYWN0b3JpZXNcIik7XG52YXIgdGltZW91dFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyXCIpO1xudmFyIGVycm9yQ29udGV4dF8xID0gcmVxdWlyZShcIi4vdXRpbC9lcnJvckNvbnRleHRcIik7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKFN1YnNjcmlwdGlvbl8xLmlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGV4cG9ydHMuRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEubmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEuZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbkZhY3Rvcmllc18xLkNPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbikpO1xuZXhwb3J0cy5TdWJzY3JpYmVyID0gU3Vic2NyaWJlcjtcbnZhciBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cbnZhciBDb25zdW1lck9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xuICAgICAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHBhcnRpYWxPYnNlcnZlcjtcbiAgICB9XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcbn0oKSk7XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgIW9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQgIT09IG51bGwgJiYgb2JzZXJ2ZXJPck5leHQgIT09IHZvaWQgMCA/IG9ic2VydmVyT3JOZXh0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlICE9PSBudWxsICYmIGNvbXBsZXRlICE9PSB2b2lkIDAgPyBjb21wbGV0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5TYWZlU3Vic2NyaWJlciA9IFNhZmVTdWJzY3JpYmVyO1xuZnVuY3Rpb24gaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuY2FwdHVyZUVycm9yKGVycm9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydFVuaGFuZGxlZEVycm9yXzEucmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgb25TdG9wcGVkTm90aWZpY2F0aW9uID0gY29uZmlnXzEuY29uZmlnLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyXzEudGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0cy5FTVBUWV9PQlNFUlZFUiA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogbm9vcF8xLm5vb3AsXG4gICAgZXJyb3I6IGRlZmF1bHRFcnJvckhhbmRsZXIsXG4gICAgY29tcGxldGU6IG5vb3BfMS5ub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1N1YnNjcmlwdGlvbiA9IGV4cG9ydHMuRU1QVFlfU1VCU0NSSVBUSU9OID0gZXhwb3J0cy5TdWJzY3JpcHRpb24gPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JfMSA9IHJlcXVpcmUoXCIuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvYXJyUmVtb3ZlXCIpO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25zID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxUZWFyZG93biA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGluaXRpYWxUZWFyZG93bikpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVGVhcmRvd24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3JfMS5VbnN1YnNjcmlwdGlvbkVycm9yID8gZS5lcnJvcnMgOiBbZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF90ZWFyZG93bnMgPSB0aGlzLl90ZWFyZG93bnM7XG4gICAgICAgICAgICBpZiAoX3RlYXJkb3ducykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RlYXJkb3ducyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3RlYXJkb3duc18xID0gX192YWx1ZXMoX3RlYXJkb3ducyksIF90ZWFyZG93bnNfMV8xID0gX3RlYXJkb3duc18xLm5leHQoKTsgIV90ZWFyZG93bnNfMV8xLmRvbmU7IF90ZWFyZG93bnNfMV8xID0gX3RlYXJkb3duc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlYXJkb3duXzEgPSBfdGVhcmRvd25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY1RlYXJkb3duKHRlYXJkb3duXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RlYXJkb3duc18xXzEgJiYgIV90ZWFyZG93bnNfMV8xLmRvbmUgJiYgKF9iID0gX3RlYXJkb3duc18xLnJldHVybikpIF9iLmNhbGwoX3RlYXJkb3duc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZXhlY1RlYXJkb3duKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fdGVhcmRvd25zID0gKF9hID0gdGhpcy5fdGVhcmRvd25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2hhc1BhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgPyAoX3BhcmVudGFnZS5wdXNoKHBhcmVudCksIF9wYXJlbnRhZ2UpIDogX3BhcmVudGFnZSA/IFtfcGFyZW50YWdlLCBwYXJlbnRdIDogcGFyZW50O1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICBhcnJSZW1vdmVfMS5hcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF90ZWFyZG93bnMgPSB0aGlzLl90ZWFyZG93bnM7XG4gICAgICAgIF90ZWFyZG93bnMgJiYgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKF90ZWFyZG93bnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb247XG5leHBvcnRzLkVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmZ1bmN0aW9uIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSkpO1xufVxuZXhwb3J0cy5pc1N1YnNjcmlwdGlvbiA9IGlzU3Vic2NyaXB0aW9uO1xuZnVuY3Rpb24gZXhlY1RlYXJkb3duKHRlYXJkb3duKSB7XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHRlYXJkb3duKSkge1xuICAgICAgICB0ZWFyZG93bigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGVhcmRvd24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmZpZyA9IHZvaWQgMDtcbmV4cG9ydHMuY29uZmlnID0ge1xuICAgIG9uVW5oYW5kbGVkRXJyb3I6IG51bGwsXG4gICAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiBudWxsLFxuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nOiBmYWxzZSxcbiAgICB1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6IGZhbHNlLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgcmVmQ291bnRfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvcmVmQ291bnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbm5lY3RhYmxlT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBzdWJqZWN0RmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLnN1YmplY3RGYWN0b3J5ID0gc3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIF90aGlzLl9zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAobGlmdF8xLmhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgX3RoaXMubGlmdCA9IHNvdXJjZS5saWZ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuZ2V0U3ViamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLl9zdWJqZWN0O1xuICAgICAgICBpZiAoIXN1YmplY3QgfHwgc3ViamVjdC5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YmplY3QgPSB0aGlzLnN1YmplY3RGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YmplY3Q7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLl90ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgICAgICB2YXIgX2Nvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIF9jb25uZWN0aW9uID09PSBudWxsIHx8IF9jb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc3ViamVjdF8xID0gdGhpcy5nZXRTdWJqZWN0KCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZCh0aGlzLnNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YmplY3RfMSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RlYXJkb3duKCk7XG4gICAgICAgICAgICAgICAgc3ViamVjdF8xLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RlYXJkb3duKCk7XG4gICAgICAgICAgICAgICAgc3ViamVjdF8xLmVycm9yKGVycik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fdGVhcmRvd24oKTsgfSkpKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLnJlZkNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVmQ291bnRfMS5yZWZDb3VudCgpKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUpKTtcbmV4cG9ydHMuQ29ubmVjdGFibGVPYnNlcnZhYmxlID0gQ29ubmVjdGFibGVPYnNlcnZhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGFibGVPYnNlcnZhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0SW5pdCA9IGV4cG9ydHMuY29tYmluZUxhdGVzdCA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBhcmdzQXJnQXJyYXlPck9iamVjdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3RcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4vZnJvbVwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG52YXIgbWFwT25lT3JNYW55QXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvbWFwT25lT3JNYW55QXJnc1wiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGNyZWF0ZU9iamVjdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvY3JlYXRlT2JqZWN0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc18xLnBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgdmFyIF9hID0gYXJnc0FyZ0FycmF5T3JPYmplY3RfMS5hcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKSwgb2JzZXJ2YWJsZXMgPSBfYS5hcmdzLCBrZXlzID0gX2Eua2V5cztcbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmcm9tXzEuZnJvbShbXSwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShjb21iaW5lTGF0ZXN0SW5pdChvYnNlcnZhYmxlcywgc2NoZWR1bGVyLCBrZXlzXG4gICAgICAgID9cbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZXMpIHsgcmV0dXJuIGNyZWF0ZU9iamVjdF8xLmNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpOyB9XG4gICAgICAgIDpcbiAgICAgICAgICAgIGlkZW50aXR5XzEuaWRlbnRpdHkpKTtcbiAgICByZXR1cm4gcmVzdWx0U2VsZWN0b3IgPyByZXN1bHQucGlwZShtYXBPbmVPck1hbnlBcmdzXzEubWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpIDogcmVzdWx0O1xufVxuZXhwb3J0cy5jb21iaW5lTGF0ZXN0ID0gY29tYmluZUxhdGVzdDtcbmZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RJbml0KG9ic2VydmFibGVzLCBzY2hlZHVsZXIsIHZhbHVlVHJhbnNmb3JtKSB7XG4gICAgaWYgKHZhbHVlVHJhbnNmb3JtID09PSB2b2lkIDApIHsgdmFsdWVUcmFuc2Zvcm0gPSBpZGVudGl0eV8xLmlkZW50aXR5OyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmdGaXJzdFZhbHVlcyA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbV8xLmZyb20ob2JzZXJ2YWJsZXNbaV0sIHNjaGVkdWxlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNGaXJzdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0ZpcnN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNGaXJzdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdGaXJzdFZhbHVlcy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdGaXJzdFZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZVRyYW5zZm9ybSh2YWx1ZXMuc2xpY2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSwgc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN1YnNjcmliZXIpO1xuICAgIH07XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RJbml0ID0gY29tYmluZUxhdGVzdEluaXQ7XG5mdW5jdGlvbiBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZXhlY3V0ZSwgc3Vic2NyaXB0aW9uKSB7XG4gICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaXB0aW9uLCBzY2hlZHVsZXIsIGV4ZWN1dGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXhlY3V0ZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVMYXRlc3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdCA9IHZvaWQgMDtcbnZhciBjb25jYXRBbGxfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvY29uY2F0QWxsXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4vZnJvbVwiKTtcbmZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdEFsbF8xLmNvbmNhdEFsbCgpKGZyb21fMS5mcm9tKGFyZ3MsIGFyZ3NfMS5wb3BTY2hlZHVsZXIoYXJncykpKTtcbn1cbmV4cG9ydHMuY29uY2F0ID0gY29uY2F0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbXB0eSA9IGV4cG9ydHMuRU1QVFkgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG5leHBvcnRzLkVNUFRZID0gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBleHBvcnRzLkVNUFRZO1xufVxuZXhwb3J0cy5lbXB0eSA9IGVtcHR5O1xuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb20gPSB2b2lkIDA7XG52YXIgc2NoZWR1bGVkXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVkL3NjaGVkdWxlZFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuL2lubmVyRnJvbVwiKTtcbmZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBzY2hlZHVsZWRfMS5zY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikgOiBpbm5lckZyb21fMS5pbm5lckZyb20oaW5wdXQpO1xufVxuZXhwb3J0cy5mcm9tID0gZnJvbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb21TdWJzY3JpYmFibGUgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG5mdW5jdGlvbiBmcm9tU3Vic2NyaWJhYmxlKHN1YnNjcmliYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliYWJsZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0cy5mcm9tU3Vic2NyaWJhYmxlID0gZnJvbVN1YnNjcmliYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21TdWJzY3JpYmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZnJvbVJlYWRhYmxlU3RyZWFtTGlrZSA9IGV4cG9ydHMuZnJvbUFzeW5jSXRlcmFibGUgPSBleHBvcnRzLmZyb21JdGVyYWJsZSA9IGV4cG9ydHMuZnJvbVByb21pc2UgPSBleHBvcnRzLmZyb21BcnJheUxpa2UgPSBleHBvcnRzLmZyb21JbnRlcm9wT2JzZXJ2YWJsZSA9IGV4cG9ydHMuaW5uZXJGcm9tID0gdm9pZCAwO1xudmFyIGlzQXJyYXlMaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0FycmF5TGlrZVwiKTtcbnZhciBpc1Byb21pc2VfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzUHJvbWlzZVwiKTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBpc0ludGVyb3BPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlXCIpO1xudmFyIGlzQXN5bmNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlXCIpO1xudmFyIHRocm93VW5vYnNlcnZhYmxlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3JcIik7XG52YXIgaXNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNJdGVyYWJsZVwiKTtcbnZhciBpc1JlYWRhYmxlU3RyZWFtTGlrZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2VcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciByZXBvcnRVbmhhbmRsZWRFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3JcIik7XG52YXIgb2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9vYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZV8xLmlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2VfMS5pc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlXzEuaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlXzEuaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZV8xLmlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2VfMS5pc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyB0aHJvd1Vub2JzZXJ2YWJsZUVycm9yXzEuY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0cy5pbm5lckZyb20gPSBpbm5lckZyb207XG5mdW5jdGlvbiBmcm9tSW50ZXJvcE9ic2VydmFibGUob2JqKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW29ic2VydmFibGVfMS5vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnRzLmZyb21JbnRlcm9wT2JzZXJ2YWJsZSA9IGZyb21JbnRlcm9wT2JzZXJ2YWJsZTtcbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UoYXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZnJvbUFycmF5TGlrZSA9IGZyb21BcnJheUxpa2U7XG5mdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3JfMS5yZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gICAgfSk7XG59XG5leHBvcnRzLmZyb21Qcm9taXNlID0gZnJvbVByb21pc2U7XG5mdW5jdGlvbiBmcm9tSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlcmFibGVfMSA9IF9fdmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCk7ICFpdGVyYWJsZV8xXzEuZG9uZTsgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhYmxlXzFfMSAmJiAhaXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gaXRlcmFibGVfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZXJhYmxlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZnJvbUl0ZXJhYmxlID0gZnJvbUl0ZXJhYmxlO1xuZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5mcm9tQXN5bmNJdGVyYWJsZSA9IGZyb21Bc3luY0l0ZXJhYmxlO1xuZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpc1JlYWRhYmxlU3RyZWFtTGlrZV8xLnJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cbmV4cG9ydHMuZnJvbVJlYWRhYmxlU3RyZWFtTGlrZSA9IGZyb21SZWFkYWJsZVN0cmVhbUxpa2U7XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW50ZXJ2YWwgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgdGltZXJfMSA9IHJlcXVpcmUoXCIuL3RpbWVyXCIpO1xuZnVuY3Rpb24gaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHsgcGVyaW9kID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgaWYgKHBlcmlvZCA8IDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVyXzEudGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XG59XG5leHBvcnRzLmludGVydmFsID0gaW50ZXJ2YWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub2YgPSB2b2lkIDA7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBmcm9tXzEgPSByZXF1aXJlKFwiLi9mcm9tXCIpO1xuZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzXzEucG9wU2NoZWR1bGVyKGFyZ3MpO1xuICAgIHJldHVybiBmcm9tXzEuZnJvbShhcmdzLCBzY2hlZHVsZXIpO1xufVxuZXhwb3J0cy5vZiA9IG9mO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhY2VJbml0ID0gZXhwb3J0cy5yYWNlID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4vaW5uZXJGcm9tXCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gcmFjZSgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgc291cmNlcyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoc291cmNlcyk7XG4gICAgcmV0dXJuIHNvdXJjZXMubGVuZ3RoID09PSAxID8gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHNvdXJjZXNbMF0pIDogbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKHJhY2VJbml0KHNvdXJjZXMpKTtcbn1cbmV4cG9ydHMucmFjZSA9IHJhY2U7XG5mdW5jdGlvbiByYWNlSW5pdChzb3VyY2VzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChpbm5lckZyb21fMS5pbm5lckZyb20oc291cmNlc1tpXSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN1YnNjcmlwdGlvbnMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgIT09IGkgJiYgc3Vic2NyaXB0aW9uc1tzXS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IHN1YnNjcmlwdGlvbnMgJiYgIXN1YnNjcmliZXIuY2xvc2VkICYmIGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydHMucmFjZUluaXQgPSByYWNlSW5pdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRocm93RXJyb3IgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3JPckVycm9yRmFjdG9yeSwgc2NoZWR1bGVyKSB7XG4gICAgdmFyIGVycm9yRmFjdG9yeSA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGVycm9yT3JFcnJvckZhY3RvcnkpID8gZXJyb3JPckVycm9yRmFjdG9yeSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yT3JFcnJvckZhY3Rvcnk7IH07XG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnJvckZhY3RvcnkoKSk7IH07XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShzY2hlZHVsZXIgPyBmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGluaXQsIDAsIHN1YnNjcmliZXIpOyB9IDogaW5pdCk7XG59XG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZXIgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgaXNTY2hlZHVsZXJfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzU2NoZWR1bGVyXCIpO1xudmFyIGlzRGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNEYXRlXCIpO1xuZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgaW50ZXJ2YWxPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkgeyBkdWVUaW1lID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jOyB9XG4gICAgdmFyIGludGVydmFsRHVyYXRpb24gPSAtMTtcbiAgICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcl8xLmlzU2NoZWR1bGVyKGludGVydmFsT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJ2YWxEdXJhdGlvbiA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNEYXRlXzEuaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlci5ub3coKSA6IGR1ZVRpbWU7XG4gICAgICAgIGlmIChkdWUgPCAwKSB7XG4gICAgICAgICAgICBkdWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gaW50ZXJ2YWxEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkdWUpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aW1lciA9IHRpbWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56aXAgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi9pbm5lckZyb21cIik7XG52YXIgYXJnc09yQXJnQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NPckFyZ0FycmF5XCIpO1xudmFyIGVtcHR5XzEgPSByZXF1aXJlKFwiLi9lbXB0eVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG5mdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IGFyZ3NfMS5wb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICB2YXIgc291cmNlcyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoYXJncyk7XG4gICAgcmV0dXJuIHNvdXJjZXMubGVuZ3RoXG4gICAgICAgID8gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVycyA9IHNvdXJjZXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9KTtcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBzb3VyY2VzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycyA9IGNvbXBsZXRlZCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHNvdXJjZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJzW3NvdXJjZUluZGV4XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnMuZXZlcnkoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gYnVmZmVyLmxlbmd0aDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBidWZmZXJzLm1hcChmdW5jdGlvbiAoYnVmZmVyKSB7IHJldHVybiBidWZmZXIuc2hpZnQoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChyZXN1bHQpKSkgOiByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnMuc29tZShmdW5jdGlvbiAoYnVmZmVyLCBpKSB7IHJldHVybiAhYnVmZmVyLmxlbmd0aCAmJiBjb21wbGV0ZWRbaV07IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRbc291cmNlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgIWJ1ZmZlcnNbc291cmNlSW5kZXhdLmxlbmd0aCAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIHNvdXJjZUluZGV4ID0gMDsgIXN1YnNjcmliZXIuY2xvc2VkICYmIHNvdXJjZUluZGV4IDwgc291cmNlcy5sZW5ndGg7IHNvdXJjZUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKHNvdXJjZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycyA9IGNvbXBsZXRlZCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICA6IGVtcHR5XzEuRU1QVFk7XG59XG5leHBvcnRzLnppcCA9IHppcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9wZXJhdG9yU3Vic2NyaWJlciA9IGV4cG9ydHMuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyID0gdm9pZCAwO1xudmFyIFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbmV4cG9ydHMuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSwgc2hvdWxkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xuICAgICAgICBfdGhpcy5zaG91bGRVbnN1YnNjcmliZSA9IHNob3VsZFVuc3Vic2NyaWJlO1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9uZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9wZXJhdG9yU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgICAgICAgdmFyIGNsb3NlZF8xID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAhY2xvc2VkXzEgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5PcGVyYXRvclN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmF1ZGl0ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBhdWRpdChkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVuZER1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID09PSBudWxsIHx8IGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjbGVhbnVwRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoIWR1cmF0aW9uU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKChkdXJhdGlvblN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW5kRHVyYXRpb24sIGNsZWFudXBEdXJhdGlvbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAoIWhhc1ZhbHVlIHx8ICFkdXJhdGlvblN1YnNjcmliZXIgfHwgZHVyYXRpb25TdWJzY3JpYmVyLmNsb3NlZCkgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmF1ZGl0ID0gYXVkaXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXVkaXRUaW1lID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGF1ZGl0XzEgPSByZXF1aXJlKFwiLi9hdWRpdFwiKTtcbnZhciB0aW1lcl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvdGltZXJcIik7XG5mdW5jdGlvbiBhdWRpdFRpbWUoZHVyYXRpb24sIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgcmV0dXJuIGF1ZGl0XzEuYXVkaXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGltZXJfMS50aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTsgfSk7XG59XG5leHBvcnRzLmF1ZGl0VGltZSA9IGF1ZGl0VGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGl0VGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGJ1ZmZlcihjbG9zaW5nTm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgY3VycmVudEJ1ZmZlciA9IFtdO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGN1cnJlbnRCdWZmZXIucHVzaCh2YWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChjdXJyZW50QnVmZmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjbG9zaW5nTm90aWZpZXIuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYiA9IGN1cnJlbnRCdWZmZXI7XG4gICAgICAgICAgICBjdXJyZW50QnVmZmVyID0gW107XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYik7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdXJyZW50QnVmZmVyID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuYnVmZmVyID0gYnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5idWZmZXJDb3VudCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGFyclJlbW92ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJyUmVtb3ZlXCIpO1xuZnVuY3Rpb24gYnVmZmVyQ291bnQoYnVmZmVyU2l6ZSwgc3RhcnRCdWZmZXJFdmVyeSkge1xuICAgIGlmIChzdGFydEJ1ZmZlckV2ZXJ5ID09PSB2b2lkIDApIHsgc3RhcnRCdWZmZXJFdmVyeSA9IG51bGw7IH1cbiAgICBzdGFydEJ1ZmZlckV2ZXJ5ID0gc3RhcnRCdWZmZXJFdmVyeSAhPT0gbnVsbCAmJiBzdGFydEJ1ZmZlckV2ZXJ5ICE9PSB2b2lkIDAgPyBzdGFydEJ1ZmZlckV2ZXJ5IDogYnVmZmVyU2l6ZTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICAgICAgdmFyIHRvRW1pdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY291bnQrKyAlIHN0YXJ0QnVmZmVyRXZlcnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2goW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBidWZmZXJzXzEgPSBfX3ZhbHVlcyhidWZmZXJzKSwgYnVmZmVyc18xXzEgPSBidWZmZXJzXzEubmV4dCgpOyAhYnVmZmVyc18xXzEuZG9uZTsgYnVmZmVyc18xXzEgPSBidWZmZXJzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyU2l6ZSA8PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b0VtaXQgPSB0b0VtaXQgIT09IG51bGwgJiYgdG9FbWl0ICE9PSB2b2lkIDAgPyB0b0VtaXQgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvRW1pdC5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnNfMV8xICYmICFidWZmZXJzXzFfMS5kb25lICYmIChfYSA9IGJ1ZmZlcnNfMS5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b0VtaXQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0b0VtaXRfMSA9IF9fdmFsdWVzKHRvRW1pdCksIHRvRW1pdF8xXzEgPSB0b0VtaXRfMS5uZXh0KCk7ICF0b0VtaXRfMV8xLmRvbmU7IHRvRW1pdF8xXzEgPSB0b0VtaXRfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSB0b0VtaXRfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKGJ1ZmZlcnMsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvRW1pdF8xXzEgJiYgIXRvRW1pdF8xXzEuZG9uZSAmJiAoX2IgPSB0b0VtaXRfMS5yZXR1cm4pKSBfYi5jYWxsKHRvRW1pdF8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyc18yID0gX192YWx1ZXMoYnVmZmVycyksIGJ1ZmZlcnNfMl8xID0gYnVmZmVyc18yLm5leHQoKTsgIWJ1ZmZlcnNfMl8xLmRvbmU7IGJ1ZmZlcnNfMl8xID0gYnVmZmVyc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc18yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyc18yXzEgJiYgIWJ1ZmZlcnNfMl8xLmRvbmUgJiYgKF9hID0gYnVmZmVyc18yLnJldHVybikpIF9hLmNhbGwoYnVmZmVyc18yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlckNvdW50ID0gYnVmZmVyQ291bnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJDb3VudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyVGltZSA9IHZvaWQgMDtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gYnVmZmVyVGltZShidWZmZXJUaW1lU3Bhbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIG90aGVyQXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyQXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IChfYSA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIob3RoZXJBcmdzKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYXN5bmNfMS5hc3luY1NjaGVkdWxlcjtcbiAgICB2YXIgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9IChfYiA9IG90aGVyQXJnc1swXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB2YXIgbWF4QnVmZmVyU2l6ZSA9IG90aGVyQXJnc1sxXSB8fCBJbmZpbml0eTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYnVmZmVyUmVjb3JkcyA9IFtdO1xuICAgICAgICB2YXIgcmVzdGFydE9uRW1pdCA9IGZhbHNlO1xuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSByZWNvcmQuYnVmZmVyLCBzdWJzID0gcmVjb3JkLnN1YnM7XG4gICAgICAgICAgICBzdWJzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBhcnJSZW1vdmVfMS5hcnJSZW1vdmUoYnVmZmVyUmVjb3JkcywgcmVjb3JkKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgcmVzdGFydE9uRW1pdCAmJiBzdGFydEJ1ZmZlcigpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RhcnRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYnVmZmVyUmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnMpO1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkXzEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICBzdWJzOiBzdWJzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnVmZmVyUmVjb3Jkcy5wdXNoKHJlY29yZF8xKTtcbiAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vicywgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBlbWl0KHJlY29yZF8xKTsgfSwgYnVmZmVyVGltZVNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCAhPT0gbnVsbCAmJiBidWZmZXJDcmVhdGlvbkludGVydmFsID49IDApIHtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIHN0YXJ0QnVmZmVyLCBidWZmZXJDcmVhdGlvbkludGVydmFsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3RhcnRPbkVtaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0QnVmZmVyKCk7XG4gICAgICAgIHZhciBidWZmZXJUaW1lU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgdmFyIHJlY29yZHNDb3B5ID0gYnVmZmVyUmVjb3Jkcy5zbGljZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByZWNvcmRzQ29weV8xID0gX192YWx1ZXMocmVjb3Jkc0NvcHkpLCByZWNvcmRzQ29weV8xXzEgPSByZWNvcmRzQ29weV8xLm5leHQoKTsgIXJlY29yZHNDb3B5XzFfMS5kb25lOyByZWNvcmRzQ29weV8xXzEgPSByZWNvcmRzQ29weV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gcmVjb3Jkc0NvcHlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gcmVjb3JkLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBtYXhCdWZmZXJTaXplIDw9IGJ1ZmZlci5sZW5ndGggJiYgZW1pdChyZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3Jkc0NvcHlfMV8xICYmICFyZWNvcmRzQ29weV8xXzEuZG9uZSAmJiAoX2EgPSByZWNvcmRzQ29weV8xLnJldHVybikpIF9hLmNhbGwocmVjb3Jkc0NvcHlfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlclJlY29yZHMgPT09IG51bGwgfHwgYnVmZmVyUmVjb3JkcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyUmVjb3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyUmVjb3Jkcy5zaGlmdCgpLmJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJUaW1lU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBidWZmZXJUaW1lU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyVGltZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IHJldHVybiAoYnVmZmVyUmVjb3JkcyA9IG51bGwpOyB9KTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShidWZmZXJUaW1lU3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlclRpbWUgPSBidWZmZXJUaW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyVG9nZ2xlID0gdm9pZCAwO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmlwdGlvblwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG5mdW5jdGlvbiBidWZmZXJUb2dnbGUob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShvcGVuaW5ncykuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAob3BlblZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gW107XG4gICAgICAgICAgICBidWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIGVtaXRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKGJ1ZmZlcnMsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGlubmVyRnJvbV8xLmlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3Iob3BlblZhbHVlKSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0QnVmZmVyLCBub29wXzEubm9vcCkpKTtcbiAgICAgICAgfSwgbm9vcF8xLm5vb3ApKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyc18xID0gX192YWx1ZXMoYnVmZmVycyksIGJ1ZmZlcnNfMV8xID0gYnVmZmVyc18xLm5leHQoKTsgIWJ1ZmZlcnNfMV8xLmRvbmU7IGJ1ZmZlcnNfMV8xID0gYnVmZmVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnNfMV8xICYmICFidWZmZXJzXzFfMS5kb25lICYmIChfYSA9IGJ1ZmZlcnNfMS5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXJzLnNoaWZ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlclRvZ2dsZSA9IGJ1ZmZlclRvZ2dsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlclRvZ2dsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyV2hlbiA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiBidWZmZXJXaGVuKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSBudWxsO1xuICAgICAgICB2YXIgY2xvc2luZ1N1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB2YXIgb3BlbkJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpYmVyID09PSBudWxsIHx8IGNsb3NpbmdTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbG9zaW5nU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdmFyIGIgPSBidWZmZXI7XG4gICAgICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgIGIgJiYgc3Vic2NyaWJlci5uZXh0KGIpO1xuICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGNsb3NpbmdTZWxlY3RvcigpKS5zdWJzY3JpYmUoKGNsb3NpbmdTdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG9wZW5CdWZmZXIsIG5vb3BfMS5ub29wKSkpO1xuICAgICAgICB9O1xuICAgICAgICBvcGVuQnVmZmVyKCk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gYnVmZmVyID09PSBudWxsIHx8IGJ1ZmZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyLnB1c2godmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBidWZmZXIgJiYgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKGJ1ZmZlciA9IGNsb3NpbmdTdWJzY3JpYmVyID0gbnVsbCk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuYnVmZmVyV2hlbiA9IGJ1ZmZlcldoZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJXaGVuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jYXRjaEVycm9yID0gdm9pZCAwO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBjYXRjaEVycm9yKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgdmFyIHN5bmNVbnN1YiA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFuZGxlZFJlc3VsdDtcbiAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaGFuZGxlZFJlc3VsdCA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShzZWxlY3RvcihlcnIsIGNhdGNoRXJyb3Ioc2VsZWN0b3IpKHNvdXJjZSkpKTtcbiAgICAgICAgICAgIGlmIChpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGhhbmRsZWRSZXN1bHQuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3luY1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgaGFuZGxlZFJlc3VsdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMuY2F0Y2hFcnJvciA9IGNhdGNoRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaEVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lQWxsID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RBbGxfMSA9IHJlcXVpcmUoXCIuL2NvbWJpbmVMYXRlc3RBbGxcIik7XG5leHBvcnRzLmNvbWJpbmVBbGwgPSBjb21iaW5lTGF0ZXN0QWxsXzEuY29tYmluZUxhdGVzdEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0ID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3RcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBhcmdzT3JBcmdBcnJheV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc09yQXJnQXJyYXlcIik7XG52YXIgbWFwT25lT3JNYW55QXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvbWFwT25lT3JNYW55QXJnc1wiKTtcbnZhciBwaXBlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9waXBlXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yXG4gICAgICAgID8gcGlwZV8xLnBpcGUoY29tYmluZUxhdGVzdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpLCBtYXBPbmVPck1hbnlBcmdzXzEubWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpXG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgY29tYmluZUxhdGVzdF8xLmNvbWJpbmVMYXRlc3RJbml0KF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KGFyZ3MpKSkpKHN1YnNjcmliZXIpO1xuICAgICAgICB9KTtcbn1cbmV4cG9ydHMuY29tYmluZUxhdGVzdCA9IGNvbWJpbmVMYXRlc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0QWxsID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3RcIik7XG52YXIgam9pbkFsbEludGVybmFsc18xID0gcmVxdWlyZShcIi4vam9pbkFsbEludGVybmFsc1wiKTtcbmZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RBbGwocHJvamVjdCkge1xuICAgIHJldHVybiBqb2luQWxsSW50ZXJuYWxzXzEuam9pbkFsbEludGVybmFscyhjb21iaW5lTGF0ZXN0XzEuY29tYmluZUxhdGVzdCwgcHJvamVjdCk7XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RBbGwgPSBjb21iaW5lTGF0ZXN0QWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RXaXRoID0gdm9pZCAwO1xudmFyIGNvbWJpbmVMYXRlc3RfMSA9IHJlcXVpcmUoXCIuL2NvbWJpbmVMYXRlc3RcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0V2l0aCgpIHtcbiAgICB2YXIgb3RoZXJTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjb21iaW5lTGF0ZXN0XzEuY29tYmluZUxhdGVzdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChvdGhlclNvdXJjZXMpKSk7XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3RXaXRoID0gY29tYmluZUxhdGVzdFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0V2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGNvbmNhdEFsbF8xID0gcmVxdWlyZShcIi4vY29uY2F0QWxsXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvZnJvbVwiKTtcbmZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIoYXJncyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgY29uY2F0QWxsXzEuY29uY2F0QWxsKCkoZnJvbV8xLmZyb20oX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKGFyZ3MpKSwgc2NoZWR1bGVyKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jb25jYXQgPSBjb25jYXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdEFsbCA9IHZvaWQgMDtcbnZhciBtZXJnZUFsbF8xID0gcmVxdWlyZShcIi4vbWVyZ2VBbGxcIik7XG5mdW5jdGlvbiBjb25jYXRBbGwoKSB7XG4gICAgcmV0dXJuIG1lcmdlQWxsXzEubWVyZ2VBbGwoMSk7XG59XG5leHBvcnRzLmNvbmNhdEFsbCA9IGNvbmNhdEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29uY2F0TWFwID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gY29uY2F0TWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IG1lcmdlTWFwXzEubWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIDEpIDogbWVyZ2VNYXBfMS5tZXJnZU1hcChwcm9qZWN0LCAxKTtcbn1cbmV4cG9ydHMuY29uY2F0TWFwID0gY29uY2F0TWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0TWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25jYXRNYXBUbyA9IHZvaWQgMDtcbnZhciBjb25jYXRNYXBfMSA9IHJlcXVpcmUoXCIuL2NvbmNhdE1hcFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gY29uY2F0TWFwVG8oaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikgPyBjb25jYXRNYXBfMS5jb25jYXRNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9LCByZXN1bHRTZWxlY3RvcikgOiBjb25jYXRNYXBfMS5jb25jYXRNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9KTtcbn1cbmV4cG9ydHMuY29uY2F0TWFwVG8gPSBjb25jYXRNYXBUbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdE1hcFRvLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29uY2F0V2l0aCA9IHZvaWQgMDtcbnZhciBjb25jYXRfMSA9IHJlcXVpcmUoXCIuL2NvbmNhdFwiKTtcbmZ1bmN0aW9uIGNvbmNhdFdpdGgoKSB7XG4gICAgdmFyIG90aGVyU291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyU291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29uY2F0XzEuY29uY2F0LmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKG90aGVyU291cmNlcykpKTtcbn1cbmV4cG9ydHMuY29uY2F0V2l0aCA9IGNvbmNhdFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25uZWN0ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2Zyb21cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBmcm9tU3Vic2NyaWJhYmxlXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9mcm9tU3Vic2NyaWJhYmxlXCIpO1xudmFyIERFRkFVTFRfQ09ORklHID0ge1xuICAgIGNvbm5lY3RvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7IH0sXG59O1xuZnVuY3Rpb24gY29ubmVjdChzZWxlY3RvciwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfQ09ORklHOyB9XG4gICAgdmFyIGNvbm5lY3RvciA9IGNvbmZpZy5jb25uZWN0b3I7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBjb25uZWN0b3IoKTtcbiAgICAgICAgZnJvbV8xLmZyb20oc2VsZWN0b3IoZnJvbVN1YnNjcmliYWJsZV8xLmZyb21TdWJzY3JpYmFibGUoc3ViamVjdCkpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNvdXJjZS5zdWJzY3JpYmUoc3ViamVjdCkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jb25uZWN0ID0gY29ubmVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvdW50ID0gdm9pZCAwO1xudmFyIHJlZHVjZV8xID0gcmVxdWlyZShcIi4vcmVkdWNlXCIpO1xuZnVuY3Rpb24gY291bnQocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIHJlZHVjZV8xLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIHZhbHVlLCBpKSB7IHJldHVybiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGkpID8gdG90YWwgKyAxIDogdG90YWwpOyB9LCAwKTtcbn1cbmV4cG9ydHMuY291bnQgPSBjb3VudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWJvdW5jZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiBkZWJvdW5jZShkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPT09IG51bGwgfHwgZHVyYXRpb25TdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkdXJhdGlvblN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID09PSBudWxsIHx8IGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0LCBub29wXzEubm9vcCk7XG4gICAgICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20oZHVyYXRpb25TZWxlY3Rvcih2YWx1ZSkpLnN1YnNjcmliZShkdXJhdGlvblN1YnNjcmliZXIpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbWl0KCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWJvdW5jZSA9IGRlYm91bmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlYm91bmNlVGltZSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZGVib3VuY2VUaW1lKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RUaW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBlbWl0V2hlbklkbGUoKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VGltZSA9IGxhc3RUaW1lICsgZHVlVGltZTtcbiAgICAgICAgICAgIHZhciBub3cgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICBpZiAobm93IDwgdGFyZ2V0VGltZSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgdGFyZ2V0VGltZSAtIG5vdyk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBsYXN0VGltZSA9IHNjaGVkdWxlci5ub3coKTtcbiAgICAgICAgICAgIGlmICghYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSBzY2hlZHVsZXIuc2NoZWR1bGUoZW1pdFdoZW5JZGxlLCBkdWVUaW1lKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChhY3RpdmVUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRlYm91bmNlVGltZSA9IGRlYm91bmNlVGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdElmRW1wdHkgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0SWZFbXB0eSA9IGRlZmF1bHRJZkVtcHR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdElmRW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlbGF5ID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGRlbGF5V2hlbl8xID0gcmVxdWlyZShcIi4vZGVsYXlXaGVuXCIpO1xudmFyIHRpbWVyXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS90aW1lclwiKTtcbmZ1bmN0aW9uIGRlbGF5KGR1ZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICB2YXIgZHVyYXRpb24gPSB0aW1lcl8xLnRpbWVyKGR1ZSwgc2NoZWR1bGVyKTtcbiAgICByZXR1cm4gZGVsYXlXaGVuXzEuZGVsYXlXaGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uOyB9KTtcbn1cbmV4cG9ydHMuZGVsYXkgPSBkZWxheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWxheVdoZW4gPSB2b2lkIDA7XG52YXIgY29uY2F0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9jb25jYXRcIik7XG52YXIgdGFrZV8xID0gcmVxdWlyZShcIi4vdGFrZVwiKTtcbnZhciBpZ25vcmVFbGVtZW50c18xID0gcmVxdWlyZShcIi4vaWdub3JlRWxlbWVudHNcIik7XG52YXIgbWFwVG9fMSA9IHJlcXVpcmUoXCIuL21hcFRvXCIpO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbmZ1bmN0aW9uIGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IsIHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uY2F0XzEuY29uY2F0KHN1YnNjcmlwdGlvbkRlbGF5LnBpcGUodGFrZV8xLnRha2UoMSksIGlnbm9yZUVsZW1lbnRzXzEuaWdub3JlRWxlbWVudHMoKSksIHNvdXJjZS5waXBlKGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IpKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuIGRlbGF5RHVyYXRpb25TZWxlY3Rvcih2YWx1ZSwgaW5kZXgpLnBpcGUodGFrZV8xLnRha2UoMSksIG1hcFRvXzEubWFwVG8odmFsdWUpKTsgfSk7XG59XG5leHBvcnRzLmRlbGF5V2hlbiA9IGRlbGF5V2hlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5V2hlbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVtYXRlcmlhbGl6ZSA9IHZvaWQgMDtcbnZhciBOb3RpZmljYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9Ob3RpZmljYXRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRlbWF0ZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikgeyByZXR1cm4gTm90aWZpY2F0aW9uXzEub2JzZXJ2ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpOyB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRlbWF0ZXJpYWxpemUgPSBkZW1hdGVyaWFsaXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVtYXRlcmlhbGl6ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlzdGluY3QgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gZGlzdGluY3Qoa2V5U2VsZWN0b3IsIGZsdXNoZXMpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZGlzdGluY3RLZXlzID0gbmV3IFNldCgpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlTZWxlY3RvciA/IGtleVNlbGVjdG9yKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCFkaXN0aW5jdEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBkaXN0aW5jdEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBmbHVzaGVzID09PSBudWxsIHx8IGZsdXNoZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZsdXNoZXMuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXN0aW5jdEtleXMuY2xlYXIoKTsgfSwgbm9vcF8xLm5vb3ApKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGlzdGluY3QgPSBkaXN0aW5jdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kaXN0aW5jdFVudGlsQ2hhbmdlZCA9IHZvaWQgMDtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRpc3RpbmN0VW50aWxDaGFuZ2VkKGNvbXBhcmF0b3IsIGtleVNlbGVjdG9yKSB7XG4gICAgaWYgKGtleVNlbGVjdG9yID09PSB2b2lkIDApIHsga2V5U2VsZWN0b3IgPSBpZGVudGl0eV8xLmlkZW50aXR5OyB9XG4gICAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IgIT09IG51bGwgJiYgY29tcGFyYXRvciAhPT0gdm9pZCAwID8gY29tcGFyYXRvciA6IGRlZmF1bHRDb21wYXJlO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0tleTtcbiAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChmaXJzdCB8fCAhY29tcGFyYXRvcihwcmV2aW91c0tleSwgY3VycmVudEtleSkpIHtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzS2V5ID0gY3VycmVudEtleTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRpc3RpbmN0VW50aWxDaGFuZ2VkID0gZGlzdGluY3RVbnRpbENoYW5nZWQ7XG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXN0aW5jdFVudGlsQ2hhbmdlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgPSB2b2lkIDA7XG52YXIgZGlzdGluY3RVbnRpbENoYW5nZWRfMSA9IHJlcXVpcmUoXCIuL2Rpc3RpbmN0VW50aWxDaGFuZ2VkXCIpO1xuZnVuY3Rpb24gZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoa2V5LCBjb21wYXJlKSB7XG4gICAgcmV0dXJuIGRpc3RpbmN0VW50aWxDaGFuZ2VkXzEuZGlzdGluY3RVbnRpbENoYW5nZWQoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIGNvbXBhcmUgPyBjb21wYXJlKHhba2V5XSwgeVtrZXldKSA6IHhba2V5XSA9PT0geVtrZXldOyB9KTtcbn1cbmV4cG9ydHMuZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgPSBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbGVtZW50QXQgPSB2b2lkIDA7XG52YXIgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yXCIpO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xudmFyIHRocm93SWZFbXB0eV8xID0gcmVxdWlyZShcIi4vdGhyb3dJZkVtcHR5XCIpO1xudmFyIGRlZmF1bHRJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0SWZFbXB0eVwiKTtcbnZhciB0YWtlXzEgPSByZXF1aXJlKFwiLi90YWtlXCIpO1xuZnVuY3Rpb24gZWxlbWVudEF0KGluZGV4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcl8xLkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7XG4gICAgfVxuICAgIHZhciBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKGZpbHRlcl8xLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSA9PT0gaW5kZXg7IH0pLCB0YWtlXzEudGFrZSgxKSwgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHlfMS5kZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIDogdGhyb3dJZkVtcHR5XzEudGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcl8xLkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7IH0pKTtcbiAgICB9O1xufVxuZXhwb3J0cy5lbGVtZW50QXQgPSBlbGVtZW50QXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50QXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbmRXaXRoID0gdm9pZCAwO1xudmFyIGNvbmNhdF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvY29uY2F0XCIpO1xudmFyIG9mXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9vZlwiKTtcbmZ1bmN0aW9uIGVuZFdpdGgoKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhbHVlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0XzEuY29uY2F0KHNvdXJjZSwgb2ZfMS5vZi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZCh2YWx1ZXMpKSkpOyB9O1xufVxuZXhwb3J0cy5lbmRXaXRoID0gZW5kV2l0aDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZFdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV2ZXJ5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBldmVyeShwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyssIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRydWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmV2ZXJ5ID0gZXZlcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVyeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhoYXVzdCA9IHZvaWQgMDtcbnZhciBleGhhdXN0QWxsXzEgPSByZXF1aXJlKFwiLi9leGhhdXN0QWxsXCIpO1xuZXhwb3J0cy5leGhhdXN0ID0gZXhoYXVzdEFsbF8xLmV4aGF1c3RBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGhhdXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leGhhdXN0QWxsID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBleGhhdXN0QWxsKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lcikge1xuICAgICAgICAgICAgaWYgKCFpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlubmVyKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAhaW5uZXJTdWIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmV4aGF1c3RBbGwgPSBleGhhdXN0QWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhoYXVzdEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhoYXVzdE1hcCA9IHZvaWQgMDtcbnZhciBtYXBfMSA9IHJlcXVpcmUoXCIuL21hcFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZXhoYXVzdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKGV4aGF1c3RNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGlubmVyRnJvbV8xLmlubmVyRnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcF8xLm1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9KSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChvdXRlclZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHByb2plY3Qob3V0ZXJWYWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShpbm5lclN1Yik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgIWlubmVyU3ViICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5leGhhdXN0TWFwID0gZXhoYXVzdE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4aGF1c3RNYXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4cGFuZCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG1lcmdlSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9tZXJnZUludGVybmFsc1wiKTtcbmZ1bmN0aW9uIGV4cGFuZChwcm9qZWN0LCBjb25jdXJyZW50LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIGNvbmN1cnJlbnQgPSAoY29uY3VycmVudCB8fCAwKSA8IDEgPyBJbmZpbml0eSA6IGNvbmN1cnJlbnQ7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlSW50ZXJuYWxzXzEubWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCB1bmRlZmluZWQsIHRydWUsIHNjaGVkdWxlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLmV4cGFuZCA9IGV4cGFuZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGFuZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmlsdGVyID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5maWx0ZXIgPSBmaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZpbmFsaXplID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBmaW5hbGl6ZShjYWxsYmFjaykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmZpbmFsaXplID0gZmluYWxpemU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5hbGl6ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlRmluZCA9IGV4cG9ydHMuZmluZCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZmluZChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsICd2YWx1ZScpKTtcbn1cbmV4cG9ydHMuZmluZCA9IGZpbmQ7XG5mdW5jdGlvbiBjcmVhdGVGaW5kKHByZWRpY2F0ZSwgdGhpc0FyZywgZW1pdCkge1xuICAgIHZhciBmaW5kSW5kZXggPSBlbWl0ID09PSAnaW5kZXgnO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGkgPSBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGZpbmRJbmRleCA/IGkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmluZEluZGV4ID8gLTEgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlRmluZCA9IGNyZWF0ZUZpbmQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5kLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5maW5kSW5kZXggPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBmaW5kXzEgPSByZXF1aXJlKFwiLi9maW5kXCIpO1xuZnVuY3Rpb24gZmluZEluZGV4KHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmaW5kXzEuY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsICdpbmRleCcpKTtcbn1cbmV4cG9ydHMuZmluZEluZGV4ID0gZmluZEluZGV4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZEluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5maXJzdCA9IHZvaWQgMDtcbnZhciBFbXB0eUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9FbXB0eUVycm9yXCIpO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xudmFyIHRha2VfMSA9IHJlcXVpcmUoXCIuL3Rha2VcIik7XG52YXIgZGVmYXVsdElmRW1wdHlfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRJZkVtcHR5XCIpO1xudmFyIHRocm93SWZFbXB0eV8xID0gcmVxdWlyZShcIi4vdGhyb3dJZkVtcHR5XCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIGZpcnN0KHByZWRpY2F0ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIGhhc0RlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnBpcGUocHJlZGljYXRlID8gZmlsdGVyXzEuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBwcmVkaWNhdGUodiwgaSwgc291cmNlKTsgfSkgOiBpZGVudGl0eV8xLmlkZW50aXR5LCB0YWtlXzEudGFrZSgxKSwgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHlfMS5kZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIDogdGhyb3dJZkVtcHR5XzEudGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBFbXB0eUVycm9yXzEuRW1wdHlFcnJvcigpOyB9KSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZmlyc3QgPSBmaXJzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcnN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mbGF0TWFwID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbmV4cG9ydHMuZmxhdE1hcCA9IG1lcmdlTWFwXzEubWVyZ2VNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mbGF0TWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ncm91cEJ5ID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBncm91cEJ5KGtleVNlbGVjdG9yLCBlbGVtZW50T3JPcHRpb25zLCBkdXJhdGlvbiwgY29ubmVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQ7XG4gICAgICAgIGlmICghZWxlbWVudE9yT3B0aW9ucyB8fCB0eXBlb2YgZWxlbWVudE9yT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRPck9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoZHVyYXRpb24gPSBlbGVtZW50T3JPcHRpb25zLmR1cmF0aW9uLCBlbGVtZW50ID0gZWxlbWVudE9yT3B0aW9ucy5lbGVtZW50LCBjb25uZWN0b3IgPSBlbGVtZW50T3JPcHRpb25zLmNvbm5lY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIG5vdGlmeSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgY2Ioc3Vic2NyaWJlcik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIG5vdGlmeShmdW5jdGlvbiAoY29uc3VtZXIpIHsgcmV0dXJuIGNvbnN1bWVyLmVycm9yKGVycik7IH0pOyB9O1xuICAgICAgICB2YXIgYWN0aXZlR3JvdXBzID0gMDtcbiAgICAgICAgdmFyIHRlYXJkb3duQXR0ZW1wdGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBncm91cEJ5U291cmNlU3Vic2NyaWJlciA9IG5ldyBPcGVyYXRvclN1YnNjcmliZXJfMS5PcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlfMSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXBfMSA9IGdyb3Vwcy5nZXQoa2V5XzEpO1xuICAgICAgICAgICAgICAgIGlmICghZ3JvdXBfMSkge1xuICAgICAgICAgICAgICAgICAgICBncm91cHMuc2V0KGtleV8xLCAoZ3JvdXBfMSA9IGNvbm5lY3RvciA/IGNvbm5lY3RvcigpIDogbmV3IFN1YmplY3RfMS5TdWJqZWN0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwZWQgPSBjcmVhdGVHcm91cGVkT2JzZXJ2YWJsZShrZXlfMSwgZ3JvdXBfMSk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChncm91cGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb25TdWJzY3JpYmVyXzEgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoZ3JvdXBfMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwXzEuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXJfMSA9PT0gbnVsbCB8fCBkdXJhdGlvblN1YnNjcmliZXJfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyXzEudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IHJldHVybiBncm91cHMuZGVsZXRlKGtleV8xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cEJ5U291cmNlU3Vic2NyaWJlci5hZGQoaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGR1cmF0aW9uKGdyb3VwZWQpKS5zdWJzY3JpYmUoZHVyYXRpb25TdWJzY3JpYmVyXzEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cF8xLm5leHQoZWxlbWVudCA/IGVsZW1lbnQodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeShmdW5jdGlvbiAoY29uc3VtZXIpIHsgcmV0dXJuIGNvbnN1bWVyLmNvbXBsZXRlKCk7IH0pOyB9LCBoYW5kbGVFcnJvciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JvdXBzLmNsZWFyKCk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRlYXJkb3duQXR0ZW1wdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVHcm91cHMgPT09IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGdyb3VwQnlTb3VyY2VTdWJzY3JpYmVyKTtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cFN1YmplY3QpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKGdyb3VwU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUdyb3VwcysrO1xuICAgICAgICAgICAgICAgIHZhciBpbm5lclN1YiA9IGdyb3VwU3ViamVjdC5zdWJzY3JpYmUoZ3JvdXBTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAtLWFjdGl2ZUdyb3VwcyA9PT0gMCAmJiB0ZWFyZG93bkF0dGVtcHRlZCAmJiBncm91cEJ5U291cmNlU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc3VsdC5rZXkgPSBrZXk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmdyb3VwQnkgPSBncm91cEJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBCeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaWdub3JlRWxlbWVudHMgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gaWdub3JlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgbm9vcF8xLm5vb3ApKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuaWdub3JlRWxlbWVudHMgPSBpZ25vcmVFbGVtZW50cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlnbm9yZUVsZW1lbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0VtcHR5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmpvaW5BbGxJbnRlcm5hbHMgPSB2b2lkIDA7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIG1hcE9uZU9yTWFueUFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL21hcE9uZU9yTWFueUFyZ3NcIik7XG52YXIgcGlwZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvcGlwZVwiKTtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4vbWVyZ2VNYXBcIik7XG52YXIgdG9BcnJheV8xID0gcmVxdWlyZShcIi4vdG9BcnJheVwiKTtcbmZ1bmN0aW9uIGpvaW5BbGxJbnRlcm5hbHMoam9pbkZuLCBwcm9qZWN0KSB7XG4gICAgcmV0dXJuIHBpcGVfMS5waXBlKHRvQXJyYXlfMS50b0FycmF5KCksIG1lcmdlTWFwXzEubWVyZ2VNYXAoZnVuY3Rpb24gKHNvdXJjZXMpIHsgcmV0dXJuIGpvaW5Gbihzb3VyY2VzKTsgfSksIHByb2plY3QgPyBtYXBPbmVPck1hbnlBcmdzXzEubWFwT25lT3JNYW55QXJncyhwcm9qZWN0KSA6IGlkZW50aXR5XzEuaWRlbnRpdHkpO1xufVxuZXhwb3J0cy5qb2luQWxsSW50ZXJuYWxzID0gam9pbkFsbEludGVybmFscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvaW5BbGxJbnRlcm5hbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxhc3QgPSB2b2lkIDA7XG52YXIgRW1wdHlFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvRW1wdHlFcnJvclwiKTtcbnZhciBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlclwiKTtcbnZhciB0YWtlTGFzdF8xID0gcmVxdWlyZShcIi4vdGFrZUxhc3RcIik7XG52YXIgdGhyb3dJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi90aHJvd0lmRW1wdHlcIik7XG52YXIgZGVmYXVsdElmRW1wdHlfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRJZkVtcHR5XCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIGxhc3QocHJlZGljYXRlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UucGlwZShwcmVkaWNhdGUgPyBmaWx0ZXJfMS5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIHByZWRpY2F0ZSh2LCBpLCBzb3VyY2UpOyB9KSA6IGlkZW50aXR5XzEuaWRlbnRpdHksIHRha2VMYXN0XzEudGFrZUxhc3QoMSksIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5XzEuZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKSA6IHRocm93SWZFbXB0eV8xLnRocm93SWZFbXB0eShmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRW1wdHlFcnJvcl8xLkVtcHR5RXJyb3IoKTsgfSkpO1xuICAgIH07XG59XG5leHBvcnRzLmxhc3QgPSBsYXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWFwID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLm1hcCA9IG1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWFwVG8gPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5mdW5jdGlvbiBtYXBUbyh2YWx1ZSkge1xuICAgIHJldHVybiBtYXBfMS5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xufVxuZXhwb3J0cy5tYXBUbyA9IG1hcFRvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwVG8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hdGVyaWFsaXplID0gdm9pZCAwO1xudmFyIE5vdGlmaWNhdGlvbl8xID0gcmVxdWlyZShcIi4uL05vdGlmaWNhdGlvblwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gbWF0ZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoTm90aWZpY2F0aW9uXzEuTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSgpKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvcihlcnIpKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5tYXRlcmlhbGl6ZSA9IG1hdGVyaWFsaXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWxpemUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1heCA9IHZvaWQgMDtcbnZhciByZWR1Y2VfMSA9IHJlcXVpcmUoXCIuL3JlZHVjZVwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gbWF4KGNvbXBhcmVyKSB7XG4gICAgcmV0dXJuIHJlZHVjZV8xLnJlZHVjZShpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihjb21wYXJlcikgPyBmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4gKGNvbXBhcmVyKHgsIHkpID4gMCA/IHggOiB5KTsgfSA6IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiAoeCA+IHkgPyB4IDogeSk7IH0pO1xufVxuZXhwb3J0cy5tYXggPSBtYXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBtZXJnZUFsbF8xID0gcmVxdWlyZShcIi4vbWVyZ2VBbGxcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBmcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9mcm9tXCIpO1xuZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzXzEucG9wU2NoZWR1bGVyKGFyZ3MpO1xuICAgIHZhciBjb25jdXJyZW50ID0gYXJnc18xLnBvcE51bWJlcihhcmdzLCBJbmZpbml0eSk7XG4gICAgYXJncyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoYXJncyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgbWVyZ2VBbGxfMS5tZXJnZUFsbChjb25jdXJyZW50KShmcm9tXzEuZnJvbShfX3NwcmVhZEFycmF5KFtzb3VyY2VdLCBfX3JlYWQoYXJncykpLCBzY2hlZHVsZXIpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLm1lcmdlID0gbWVyZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VBbGwgPSB2b2lkIDA7XG52YXIgbWVyZ2VNYXBfMSA9IHJlcXVpcmUoXCIuL21lcmdlTWFwXCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIG1lcmdlQWxsKGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGlkZW50aXR5XzEuaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuZXhwb3J0cy5tZXJnZUFsbCA9IG1lcmdlQWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlSW50ZXJuYWxzID0gdm9pZCAwO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCBvbkJlZm9yZU5leHQsIGV4cGFuZCwgaW5uZXJTdWJTY2hlZHVsZXIsIGFkZGl0aW9uYWxUZWFyZG93bikge1xuICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICB2YXIgYWN0aXZlID0gMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG91dGVyTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7IH07XG4gICAgdmFyIGRvSW5uZXJTdWIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIGFjdGl2ZSsrO1xuICAgICAgICB2YXIgaW5uZXJDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgICAgIG9uQmVmb3JlTmV4dCA9PT0gbnVsbCB8fCBvbkJlZm9yZU5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQmVmb3JlTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIGlmIChleHBhbmQpIHtcbiAgICAgICAgICAgICAgICBvdXRlck5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlubmVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpbm5lckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcmVkVmFsdWUgPSBidWZmZXIuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBpbm5lclN1YlNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCAmJiBhY3RpdmUgPCBjb25jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG91dGVyTmV4dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRpdGlvbmFsVGVhcmRvd24gPT09IG51bGwgfHwgYWRkaXRpb25hbFRlYXJkb3duID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRpdGlvbmFsVGVhcmRvd24oKTtcbiAgICB9O1xufVxuZXhwb3J0cy5tZXJnZUludGVybmFscyA9IG1lcmdlSW50ZXJuYWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VJbnRlcm5hbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlTWFwID0gdm9pZCAwO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4vbWFwXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgbWVyZ2VJbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL21lcmdlSW50ZXJuYWxzXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIG1hcF8xLm1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkoaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHByb2plY3QoYSwgaSkpKTsgfSwgY29uY3VycmVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikgeyByZXR1cm4gbWVyZ2VJbnRlcm5hbHNfMS5tZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpOyB9KTtcbn1cbmV4cG9ydHMubWVyZ2VNYXAgPSBtZXJnZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZU1hcFRvID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gbWVyZ2VNYXBUbyhpbm5lck9ic2VydmFibGUsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBpZiAoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgY29uY3VycmVudCk7XG59XG5leHBvcnRzLm1lcmdlTWFwVG8gPSBtZXJnZU1hcFRvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXBUby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VTY2FuID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgbWVyZ2VJbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL21lcmdlSW50ZXJuYWxzXCIpO1xuZnVuY3Rpb24gbWVyZ2VTY2FuKGFjY3VtdWxhdG9yLCBzZWVkLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZWVkO1xuICAgICAgICByZXR1cm4gbWVyZ2VJbnRlcm5hbHNfMS5tZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuIGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaW5kZXgpOyB9LCBjb25jdXJyZW50LCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN0YXRlID0gdmFsdWU7XG4gICAgICAgIH0sIGZhbHNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChzdGF0ZSA9IG51bGwpOyB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubWVyZ2VTY2FuID0gbWVyZ2VTY2FuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VTY2FuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VXaXRoID0gdm9pZCAwO1xudmFyIG1lcmdlXzEgPSByZXF1aXJlKFwiLi9tZXJnZVwiKTtcbmZ1bmN0aW9uIG1lcmdlV2l0aCgpIHtcbiAgICB2YXIgb3RoZXJTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZV8xLm1lcmdlLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKG90aGVyU291cmNlcykpKTtcbn1cbmV4cG9ydHMubWVyZ2VXaXRoID0gbWVyZ2VXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5taW4gPSB2b2lkIDA7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi9yZWR1Y2VcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIG1pbihjb21wYXJlcikge1xuICAgIHJldHVybiByZWR1Y2VfMS5yZWR1Y2UoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oY29tcGFyZXIpID8gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIChjb21wYXJlcih4LCB5KSA8IDAgPyB4IDogeSk7IH0gOiBmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4gKHggPCB5ID8geCA6IHkpOyB9KTtcbn1cbmV4cG9ydHMubWluID0gbWluO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tdWx0aWNhc3QgPSB2b2lkIDA7XG52YXIgQ29ubmVjdGFibGVPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGVcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBjb25uZWN0XzEgPSByZXF1aXJlKFwiLi9jb25uZWN0XCIpO1xuZnVuY3Rpb24gbXVsdGljYXN0KHN1YmplY3RPclN1YmplY3RGYWN0b3J5LCBzZWxlY3Rvcikge1xuICAgIHZhciBzdWJqZWN0RmFjdG9yeSA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHN1YmplY3RPclN1YmplY3RGYWN0b3J5KSA/IHN1YmplY3RPclN1YmplY3RGYWN0b3J5IDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViamVjdE9yU3ViamVjdEZhY3Rvcnk7IH07XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gY29ubmVjdF8xLmNvbm5lY3Qoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgIGNvbm5lY3Rvcjogc3ViamVjdEZhY3RvcnksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIHN1YmplY3RGYWN0b3J5KTsgfTtcbn1cbmV4cG9ydHMubXVsdGljYXN0ID0gbXVsdGljYXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGljYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vYnNlcnZlT24gPSB2b2lkIDA7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIG9ic2VydmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5vYnNlcnZlT24gPSBvYnNlcnZlT247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlT24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vbkVycm9yUmVzdW1lTmV4dCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHQoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBuZXh0U291cmNlcyA9IGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoc291cmNlcyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChuZXh0U291cmNlcykpO1xuICAgICAgICB2YXIgc3Vic2NyaWJlTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTb3VyY2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U291cmNlID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHJlbWFpbmluZy5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVOZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyU3ViID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgbm9vcF8xLm5vb3AsIG5vb3BfMS5ub29wKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNvdXJjZS5zdWJzY3JpYmUoaW5uZXJTdWIpO1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi5hZGQoc3Vic2NyaWJlTmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzdWJzY3JpYmVOZXh0KCk7XG4gICAgfSk7XG59XG5leHBvcnRzLm9uRXJyb3JSZXN1bWVOZXh0ID0gb25FcnJvclJlc3VtZU5leHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVycm9yUmVzdW1lTmV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFpcndpc2UgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHBhaXJ3aXNlKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBwcmV2O1xuICAgICAgICB2YXIgaGFzUHJldiA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwID0gcHJldjtcbiAgICAgICAgICAgIHByZXYgPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc1ByZXYgJiYgc3Vic2NyaWJlci5uZXh0KFtwLCB2YWx1ZV0pO1xuICAgICAgICAgICAgaGFzUHJldiA9IHRydWU7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucGFpcndpc2UgPSBwYWlyd2lzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhaXJ3aXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJ0aXRpb24gPSB2b2lkIDA7XG52YXIgbm90XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub3RcIik7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5mdW5jdGlvbiBwYXJ0aXRpb24ocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIFtmaWx0ZXJfMS5maWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKShzb3VyY2UpLCBmaWx0ZXJfMS5maWx0ZXIobm90XzEubm90KHByZWRpY2F0ZSwgdGhpc0FyZykpKHNvdXJjZSldO1xuICAgIH07XG59XG5leHBvcnRzLnBhcnRpdGlvbiA9IHBhcnRpdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGx1Y2sgPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5mdW5jdGlvbiBwbHVjaygpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHByb3BlcnRpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsaXN0IG9mIHByb3BlcnRpZXMgY2Fubm90IGJlIGVtcHR5LicpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwXzEubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBjdXJyZW50UHJvcCA9IHg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gY3VycmVudFByb3AgPT09IG51bGwgfHwgY3VycmVudFByb3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRQcm9wW3Byb3BlcnRpZXNbaV1dO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9wO1xuICAgIH0pO1xufVxuZXhwb3J0cy5wbHVjayA9IHBsdWNrO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx1Y2suanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnB1Ymxpc2ggPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgbXVsdGljYXN0XzEgPSByZXF1aXJlKFwiLi9tdWx0aWNhc3RcIik7XG52YXIgY29ubmVjdF8xID0gcmVxdWlyZShcIi4vY29ubmVjdFwiKTtcbmZ1bmN0aW9uIHB1Ymxpc2goc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gc2VsZWN0b3IgPyBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBjb25uZWN0XzEuY29ubmVjdChzZWxlY3Rvcikoc291cmNlKTsgfSA6IGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG11bHRpY2FzdF8xLm11bHRpY2FzdChuZXcgU3ViamVjdF8xLlN1YmplY3QoKSkoc291cmNlKTsgfTtcbn1cbmV4cG9ydHMucHVibGlzaCA9IHB1Ymxpc2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wdWJsaXNoQmVoYXZpb3IgPSB2b2lkIDA7XG52YXIgQmVoYXZpb3JTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vQmVoYXZpb3JTdWJqZWN0XCIpO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gcHVibGlzaEJlaGF2aW9yKGluaXRpYWxWYWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdF8xLkJlaGF2aW9yU3ViamVjdChpbml0aWFsVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmplY3Q7IH0pO1xuICAgIH07XG59XG5leHBvcnRzLnB1Ymxpc2hCZWhhdmlvciA9IHB1Ymxpc2hCZWhhdmlvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hCZWhhdmlvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHVibGlzaExhc3QgPSB2b2lkIDA7XG52YXIgQXN5bmNTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vQXN5bmNTdWJqZWN0XCIpO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gcHVibGlzaExhc3QoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0XzEuQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGFibGVPYnNlcnZhYmxlXzEuQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViamVjdDsgfSk7XG4gICAgfTtcbn1cbmV4cG9ydHMucHVibGlzaExhc3QgPSBwdWJsaXNoTGFzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hMYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wdWJsaXNoUmVwbGF5ID0gdm9pZCAwO1xudmFyIFJlcGxheVN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9SZXBsYXlTdWJqZWN0XCIpO1xudmFyIG11bHRpY2FzdF8xID0gcmVxdWlyZShcIi4vbXVsdGljYXN0XCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBwdWJsaXNoUmVwbGF5KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNlbGVjdG9yT3JTY2hlZHVsZXIsIHRpbWVzdGFtcFByb3ZpZGVyKSB7XG4gICAgaWYgKHNlbGVjdG9yT3JTY2hlZHVsZXIgJiYgIWlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHNlbGVjdG9yT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHRpbWVzdGFtcFByb3ZpZGVyID0gc2VsZWN0b3JPclNjaGVkdWxlcjtcbiAgICB9XG4gICAgdmFyIHNlbGVjdG9yID0gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oc2VsZWN0b3JPclNjaGVkdWxlcikgPyBzZWxlY3Rvck9yU2NoZWR1bGVyIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBtdWx0aWNhc3RfMS5tdWx0aWNhc3QobmV3IFJlcGxheVN1YmplY3RfMS5SZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHRpbWVzdGFtcFByb3ZpZGVyKSwgc2VsZWN0b3IpKHNvdXJjZSk7IH07XG59XG5leHBvcnRzLnB1Ymxpc2hSZXBsYXkgPSBwdWJsaXNoUmVwbGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGlzaFJlcGxheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhY2UgPSB2b2lkIDA7XG52YXIgYXJnc09yQXJnQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NPckFyZ0FycmF5XCIpO1xudmFyIHJhY2VXaXRoXzEgPSByZXF1aXJlKFwiLi9yYWNlV2l0aFwiKTtcbmZ1bmN0aW9uIHJhY2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiByYWNlV2l0aF8xLnJhY2VXaXRoLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3NPckFyZ0FycmF5XzEuYXJnc09yQXJnQXJyYXkoYXJncykpKSk7XG59XG5leHBvcnRzLnJhY2UgPSByYWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhY2VXaXRoID0gdm9pZCAwO1xudmFyIHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3JhY2VcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiByYWNlV2l0aCgpIHtcbiAgICB2YXIgb3RoZXJTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiAhb3RoZXJTb3VyY2VzLmxlbmd0aFxuICAgICAgICA/IGlkZW50aXR5XzEuaWRlbnRpdHlcbiAgICAgICAgOiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByYWNlXzEucmFjZUluaXQoX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKG90aGVyU291cmNlcykpKShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnJhY2VXaXRoID0gcmFjZVdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWNlV2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVkdWNlID0gdm9pZCAwO1xudmFyIHNjYW5JbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL3NjYW5JbnRlcm5hbHNcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHJlZHVjZShhY2N1bXVsYXRvciwgc2VlZCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShzY2FuSW50ZXJuYWxzXzEuc2NhbkludGVybmFscyhhY2N1bXVsYXRvciwgc2VlZCwgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCBmYWxzZSwgdHJ1ZSkpO1xufVxuZXhwb3J0cy5yZWR1Y2UgPSByZWR1Y2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWR1Y2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZkNvdW50ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiByZWZDb3VudCgpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgc291cmNlLl9yZWZDb3VudCA8PSAwIHx8IDAgPCAtLXNvdXJjZS5fcmVmQ291bnQpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2hhcmVkQ29ubmVjdGlvbiA9IHNvdXJjZS5fY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHZhciBjb25uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm4pKSB7XG4gICAgICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHNvdXJjZS5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMucmVmQ291bnQgPSByZWZDb3VudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZkNvdW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXBlYXQgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2VtcHR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgdGltZXJfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3RpbWVyXCIpO1xuZnVuY3Rpb24gcmVwZWF0KGNvdW50T3JDb25maWcpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGNvdW50ID0gSW5maW5pdHk7XG4gICAgdmFyIGRlbGF5O1xuICAgIGlmIChjb3VudE9yQ29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb3VudE9yQ29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgKF9hID0gY291bnRPckNvbmZpZy5jb3VudCwgY291bnQgPSBfYSA9PT0gdm9pZCAwID8gSW5maW5pdHkgOiBfYSwgZGVsYXkgPSBjb3VudE9yQ29uZmlnLmRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gY291bnRPckNvbmZpZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQgPD0gMFxuICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVtcHR5XzEuRU1QVFk7IH1cbiAgICAgICAgOiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgc29GYXIgPSAwO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVN1YjtcbiAgICAgICAgICAgIHZhciByZXN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VTdWIgPT09IG51bGwgfHwgc291cmNlU3ViID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3RpZmllciA9IHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicgPyB0aW1lcl8xLnRpbWVyKGRlbGF5KSA6IGlubmVyRnJvbV8xLmlubmVyRnJvbShkZWxheShzb0ZhcikpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpZXJTdWJzY3JpYmVyXzEgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXJTdWJzY3JpYmVyXzEudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUobm90aWZpZXJTdWJzY3JpYmVyXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZVRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzb3VyY2VTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCsrc29GYXIgPCBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZVN1Yikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jVW5zdWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmIChzeW5jVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnJlcGVhdCA9IHJlcGVhdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVwZWF0V2hlbiA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gcmVwZWF0V2hlbihub3RpZmllcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YjtcbiAgICAgICAgdmFyIHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgICAgICB2YXIgY29tcGxldGlvbnMkO1xuICAgICAgICB2YXIgaXNOb3RpZmllckNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBpc01haW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzTWFpbkNvbXBsZXRlICYmIGlzTm90aWZpZXJDb21wbGV0ZSAmJiAoc3Vic2NyaWJlci5jb21wbGV0ZSgpLCB0cnVlKTsgfTtcbiAgICAgICAgdmFyIGdldENvbXBsZXRpb25TdWJqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFjb21wbGV0aW9ucyQpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucyQgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgICAgICBub3RpZmllcihjb21wbGV0aW9ucyQpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJlcGVhdFdoZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNSZXN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTm90aWZpZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGlvbnMkO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzTWFpbkNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlzTWFpbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAhY2hlY2tDb21wbGV0ZSgpICYmIGdldENvbXBsZXRpb25TdWJqZWN0KCkubmV4dCgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHN5bmNSZXN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJlcGVhdFdoZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5yZXBlYXRXaGVuID0gcmVwZWF0V2hlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdFdoZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJldHJ5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIHRpbWVyXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS90aW1lclwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbmZ1bmN0aW9uIHJldHJ5KGNvbmZpZ09yQ291bnQpIHtcbiAgICBpZiAoY29uZmlnT3JDb3VudCA9PT0gdm9pZCAwKSB7IGNvbmZpZ09yQ291bnQgPSBJbmZpbml0eTsgfVxuICAgIHZhciBjb25maWc7XG4gICAgaWYgKGNvbmZpZ09yQ291bnQgJiYgdHlwZW9mIGNvbmZpZ09yQ291bnQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZ09yQ291bnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICBjb3VudDogY29uZmlnT3JDb3VudCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIF9hID0gY29uZmlnLmNvdW50LCBjb3VudCA9IF9hID09PSB2b2lkIDAgPyBJbmZpbml0eSA6IF9hLCBkZWxheSA9IGNvbmZpZy5kZWxheSwgX2IgPSBjb25maWcucmVzZXRPblN1Y2Nlc3MsIHJlc2V0T25TdWNjZXNzID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2I7XG4gICAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICAgICAgPyBpZGVudGl0eV8xLmlkZW50aXR5XG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHNvRmFyID0gMDtcbiAgICAgICAgICAgIHZhciBpbm5lclN1YjtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVGb3JSZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0T25TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvRmFyKysgPCBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3ViXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWVyID0gdHlwZW9mIGRlbGF5ID09PSAnbnVtYmVyJyA/IHRpbWVyXzEudGltZXIoZGVsYXkpIDogaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGRlbGF5KGVyciwgc29GYXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpZXJTdWJzY3JpYmVyXzEgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmllclN1YnNjcmliZXJfMS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1Yl8xKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKG5vdGlmaWVyU3Vic2NyaWJlcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3ViXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnJldHJ5ID0gcmV0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV0cnlXaGVuID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiByZXRyeVdoZW4obm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWI7XG4gICAgICAgIHZhciBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9ycyQ7XG4gICAgICAgIHZhciBzdWJzY3JpYmVGb3JSZXRyeVdoZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcnMkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyQgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIoZXJyb3JzJCkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJTdWIgPyBzdWJzY3JpYmVGb3JSZXRyeVdoZW4oKSA6IChzeW5jUmVzdWIgPSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JzJCkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMkLm5leHQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAoc3luY1Jlc3ViKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3luY1Jlc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnlXaGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1YnNjcmliZUZvclJldHJ5V2hlbigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5yZXRyeVdoZW4gPSByZXRyeVdoZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeVdoZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNhbXBsZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBzYW1wbGUobm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNhbXBsZSA9IHNhbXBsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbXBsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2FtcGxlVGltZSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBzYW1wbGVfMSA9IHJlcXVpcmUoXCIuL3NhbXBsZVwiKTtcbnZhciBpbnRlcnZhbF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW50ZXJ2YWxcIik7XG5mdW5jdGlvbiBzYW1wbGVUaW1lKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICByZXR1cm4gc2FtcGxlXzEuc2FtcGxlKGludGVydmFsXzEuaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpKTtcbn1cbmV4cG9ydHMuc2FtcGxlVGltZSA9IHNhbXBsZVRpbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW1wbGVUaW1lLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2FuID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgc2NhbkludGVybmFsc18xID0gcmVxdWlyZShcIi4vc2NhbkludGVybmFsc1wiKTtcbmZ1bmN0aW9uIHNjYW4oYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoc2NhbkludGVybmFsc18xLnNjYW5JbnRlcm5hbHMoYWNjdW11bGF0b3IsIHNlZWQsIGFyZ3VtZW50cy5sZW5ndGggPj0gMiwgdHJ1ZSkpO1xufVxuZXhwb3J0cy5zY2FuID0gc2Nhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjYW5JbnRlcm5hbHMgPSB2b2lkIDA7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBzY2FuSW50ZXJuYWxzKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkLCBlbWl0T25OZXh0LCBlbWl0QmVmb3JlQ29tcGxldGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzU3RhdGUgPSBoYXNTZWVkO1xuICAgICAgICB2YXIgc3RhdGUgPSBzZWVkO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBpID0gaW5kZXgrKztcbiAgICAgICAgICAgIHN0YXRlID0gaGFzU3RhdGVcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaSlcbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICgoaGFzU3RhdGUgPSB0cnVlKSwgdmFsdWUpO1xuICAgICAgICAgICAgZW1pdE9uTmV4dCAmJiBzdWJzY3JpYmVyLm5leHQoc3RhdGUpO1xuICAgICAgICB9LCBlbWl0QmVmb3JlQ29tcGxldGUgJiZcbiAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGFzU3RhdGUgJiYgc3Vic2NyaWJlci5uZXh0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgIH07XG59XG5leHBvcnRzLnNjYW5JbnRlcm5hbHMgPSBzY2FuSW50ZXJuYWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbkludGVybmFscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2VxdWVuY2VFcXVhbCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2VxdWVuY2VFcXVhbChjb21wYXJlVG8sIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoY29tcGFyYXRvciA9PT0gdm9pZCAwKSB7IGNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSA9PT0gYjsgfTsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBhU3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgICAgICB2YXIgYlN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoaXNFcXVhbCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlzRXF1YWwpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY3JlYXRlU3Vic2NyaWJlciA9IGZ1bmN0aW9uIChzZWxmU3RhdGUsIG90aGVyU3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBvdGhlclN0YXRlLmJ1ZmZlciwgY29tcGxldGUgPSBvdGhlclN0YXRlLmNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlID8gZW1pdChmYWxzZSkgOiBzZWxmU3RhdGUuYnVmZmVyLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAhY29tcGFyYXRvcihhLCBidWZmZXIuc2hpZnQoKSkgJiYgZW1pdChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGZTdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gb3RoZXJTdGF0ZS5jb21wbGV0ZSwgYnVmZmVyID0gb3RoZXJTdGF0ZS5idWZmZXI7XG4gICAgICAgICAgICAgICAgY29tcGxldGUgJiYgZW1pdChidWZmZXIubGVuZ3RoID09PSAwKTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VxdWVuY2VFcXVhbFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyO1xuICAgICAgICB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoYVN0YXRlLCBiU3RhdGUpKTtcbiAgICAgICAgY29tcGFyZVRvLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKGJTdGF0ZSwgYVN0YXRlKSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNlcXVlbmNlRXF1YWwgPSBzZXF1ZW5jZUVxdWFsO1xuZnVuY3Rpb24gY3JlYXRlU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnVmZmVyOiBbXSxcbiAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXF1ZW5jZUVxdWFsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2hhcmUgPSB2b2lkIDA7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvZnJvbVwiKTtcbnZhciB0YWtlXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3Rha2VcIik7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmliZXJcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHNoYXJlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBfYSA9IG9wdGlvbnMuY29ubmVjdG9yLCBjb25uZWN0b3IgPSBfYSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7IH0gOiBfYSwgX2IgPSBvcHRpb25zLnJlc2V0T25FcnJvciwgcmVzZXRPbkVycm9yID0gX2IgPT09IHZvaWQgMCA/IHRydWUgOiBfYiwgX2MgPSBvcHRpb25zLnJlc2V0T25Db21wbGV0ZSwgcmVzZXRPbkNvbXBsZXRlID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgX2QgPSBvcHRpb25zLnJlc2V0T25SZWZDb3VudFplcm8sIHJlc2V0T25SZWZDb3VudFplcm8gPSBfZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9kO1xuICAgIHJldHVybiBmdW5jdGlvbiAod3JhcHBlclNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHZhciByZXNldENvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgc3ViamVjdCA9IG51bGw7XG4gICAgICAgIHZhciByZWZDb3VudCA9IDA7XG4gICAgICAgIHZhciBoYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhc0Vycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNhbmNlbFJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID09PSBudWxsIHx8IHJlc2V0Q29ubmVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzZXRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHN1YmplY3QgPSBudWxsO1xuICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gaGFzRXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzZXRBbmRVbnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb25uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICBjb25uID09PSBudWxsIHx8IGNvbm4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbm4udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJlZkNvdW50Kys7XG4gICAgICAgICAgICBpZiAoIWhhc0Vycm9yZWQgJiYgIWhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGVzdCA9IChzdWJqZWN0ID0gc3ViamVjdCAhPT0gbnVsbCAmJiBzdWJqZWN0ICE9PSB2b2lkIDAgPyBzdWJqZWN0IDogY29ubmVjdG9yKCkpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlZkNvdW50LS07XG4gICAgICAgICAgICAgICAgaWYgKHJlZkNvdW50ID09PSAwICYmICFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXRBbmRVbnN1YnNjcmliZSwgcmVzZXRPblJlZkNvdW50WmVybyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaWJlcl8xLlNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBkZXN0Lm5leHQodmFsdWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25FcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnJvbV8xLmZyb20oc291cmNlKS5zdWJzY3JpYmUoY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKHdyYXBwZXJTb3VyY2UpO1xuICAgIH07XG59XG5leHBvcnRzLnNoYXJlID0gc2hhcmU7XG5mdW5jdGlvbiBoYW5kbGVSZXNldChyZXNldCwgb24pIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChvbiA9PT0gdHJ1ZSkge1xuICAgICAgICByZXNldCgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9uID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG9uLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSkucGlwZSh0YWtlXzEudGFrZSgxKSlcbiAgICAgICAgLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiByZXNldCgpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXJlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zaGFyZVJlcGxheSA9IHZvaWQgMDtcbnZhciBSZXBsYXlTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vUmVwbGF5U3ViamVjdFwiKTtcbnZhciBzaGFyZV8xID0gcmVxdWlyZShcIi4vc2hhcmVcIik7XG5mdW5jdGlvbiBzaGFyZVJlcGxheShjb25maWdPckJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIGJ1ZmZlclNpemU7XG4gICAgdmFyIHJlZkNvdW50ID0gZmFsc2U7XG4gICAgaWYgKGNvbmZpZ09yQnVmZmVyU2l6ZSAmJiB0eXBlb2YgY29uZmlnT3JCdWZmZXJTaXplID09PSAnb2JqZWN0Jykge1xuICAgICAgICBidWZmZXJTaXplID0gKF9hID0gY29uZmlnT3JCdWZmZXJTaXplLmJ1ZmZlclNpemUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEluZmluaXR5O1xuICAgICAgICB3aW5kb3dUaW1lID0gKF9iID0gY29uZmlnT3JCdWZmZXJTaXplLndpbmRvd1RpbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IEluZmluaXR5O1xuICAgICAgICByZWZDb3VudCA9ICEhY29uZmlnT3JCdWZmZXJTaXplLnJlZkNvdW50O1xuICAgICAgICBzY2hlZHVsZXIgPSBjb25maWdPckJ1ZmZlclNpemUuc2NoZWR1bGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnVmZmVyU2l6ZSA9IGNvbmZpZ09yQnVmZmVyU2l6ZSAhPT0gbnVsbCAmJiBjb25maWdPckJ1ZmZlclNpemUgIT09IHZvaWQgMCA/IGNvbmZpZ09yQnVmZmVyU2l6ZSA6IEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVfMS5zaGFyZSh7XG4gICAgICAgIGNvbm5lY3RvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFJlcGxheVN1YmplY3RfMS5SZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcik7IH0sXG4gICAgICAgIHJlc2V0T25FcnJvcjogdHJ1ZSxcbiAgICAgICAgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgcmVzZXRPblJlZkNvdW50WmVybzogcmVmQ291bnQsXG4gICAgfSk7XG59XG5leHBvcnRzLnNoYXJlUmVwbGF5ID0gc2hhcmVSZXBsYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZVJlcGxheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2luZ2xlID0gdm9pZCAwO1xudmFyIEVtcHR5RXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0VtcHR5RXJyb3JcIik7XG52YXIgU2VxdWVuY2VFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvU2VxdWVuY2VFcnJvclwiKTtcbnZhciBOb3RGb3VuZEVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9Ob3RGb3VuZEVycm9yXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBzaW5nbGUocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBzaW5nbGVWYWx1ZTtcbiAgICAgICAgdmFyIHNlZW5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNlZW5WYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGluZGV4KyssIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSAmJiBzdWJzY3JpYmVyLmVycm9yKG5ldyBTZXF1ZW5jZUVycm9yXzEuU2VxdWVuY2VFcnJvcignVG9vIG1hbnkgbWF0Y2hpbmcgdmFsdWVzJykpO1xuICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoc2luZ2xlVmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3Ioc2VlblZhbHVlID8gbmV3IE5vdEZvdW5kRXJyb3JfMS5Ob3RGb3VuZEVycm9yKCdObyBtYXRjaGluZyB2YWx1ZXMnKSA6IG5ldyBFbXB0eUVycm9yXzEuRW1wdHlFcnJvcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zaW5nbGUgPSBzaW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaW5nbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNraXAgPSB2b2lkIDA7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5mdW5jdGlvbiBza2lwKGNvdW50KSB7XG4gICAgcmV0dXJuIGZpbHRlcl8xLmZpbHRlcihmdW5jdGlvbiAoXywgaW5kZXgpIHsgcmV0dXJuIGNvdW50IDw9IGluZGV4OyB9KTtcbn1cbmV4cG9ydHMuc2tpcCA9IHNraXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5za2lwTGFzdCA9IHZvaWQgMDtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHNraXBMYXN0KHNraXBDb3VudCkge1xuICAgIHJldHVybiBza2lwQ291bnQgPD0gMFxuICAgICAgICA/XG4gICAgICAgICAgICBpZGVudGl0eV8xLmlkZW50aXR5XG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHJpbmcgPSBuZXcgQXJyYXkoc2tpcENvdW50KTtcbiAgICAgICAgICAgIHZhciBzZWVuID0gMDtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZUluZGV4ID0gc2VlbisrO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUluZGV4IDwgc2tpcENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJpbmdbdmFsdWVJbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHZhbHVlSW5kZXggJSBza2lwQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHJpbmdbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICByaW5nW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQob2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmluZyA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbn1cbmV4cG9ydHMuc2tpcExhc3QgPSBza2lwTGFzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNraXBMYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5za2lwVW50aWwgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gc2tpcFVudGlsKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHRha2luZyA9IGZhbHNlO1xuICAgICAgICB2YXIgc2tpcFN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2tpcFN1YnNjcmliZXIgPT09IG51bGwgfHwgc2tpcFN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNraXBTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0YWtpbmcgPSB0cnVlO1xuICAgICAgICB9LCBub29wXzEubm9vcCk7XG4gICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShub3RpZmllcikuc3Vic2NyaWJlKHNraXBTdWJzY3JpYmVyKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0YWtpbmcgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5za2lwVW50aWwgPSBza2lwVW50aWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwVW50aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNraXBXaGlsZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2tpcFdoaWxlKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB0YWtpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAodGFraW5nIHx8ICh0YWtpbmcgPSAhcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKSkpICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2tpcFdoaWxlID0gc2tpcFdoaWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcFdoaWxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdGFydFdpdGggPSB2b2lkIDA7XG52YXIgY29uY2F0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9jb25jYXRcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gc3RhcnRXaXRoKCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YWx1ZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIodmFsdWVzKTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAoc2NoZWR1bGVyID8gY29uY2F0XzEuY29uY2F0KHZhbHVlcywgc291cmNlLCBzY2hlZHVsZXIpIDogY29uY2F0XzEuY29uY2F0KHZhbHVlcywgc291cmNlKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zdGFydFdpdGggPSBzdGFydFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydFdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN1YnNjcmliZU9uID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBzdWJzY3JpYmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7IH0sIGRlbGF5KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnN1YnNjcmliZU9uID0gc3Vic2NyaWJlT247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVPbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3dpdGNoQWxsID0gdm9pZCAwO1xudmFyIHN3aXRjaE1hcF8xID0gcmVxdWlyZShcIi4vc3dpdGNoTWFwXCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIHN3aXRjaEFsbCgpIHtcbiAgICByZXR1cm4gc3dpdGNoTWFwXzEuc3dpdGNoTWFwKGlkZW50aXR5XzEuaWRlbnRpdHkpO1xufVxuZXhwb3J0cy5zd2l0Y2hBbGwgPSBzd2l0Y2hBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN3aXRjaE1hcCA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNDb21wbGV0ZSAmJiAhaW5uZXJTdWJzY3JpYmVyICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPT09IG51bGwgfHwgaW5uZXJTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbm5lclN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHZhciBpbm5lckluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBvdXRlckluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBvdXRlckluZGV4KSkuc3Vic2NyaWJlKChpbm5lclN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dChyZXN1bHRTZWxlY3RvciA/IHJlc3VsdFNlbGVjdG9yKHZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4KyspIDogaW5uZXJWYWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnN3aXRjaE1hcCA9IHN3aXRjaE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3dpdGNoTWFwVG8gPSB2b2lkIDA7XG52YXIgc3dpdGNoTWFwXzEgPSByZXF1aXJlKFwiLi9zd2l0Y2hNYXBcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIHN3aXRjaE1hcFRvKGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpID8gc3dpdGNoTWFwXzEuc3dpdGNoTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IpIDogc3dpdGNoTWFwXzEuc3dpdGNoTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSk7XG59XG5leHBvcnRzLnN3aXRjaE1hcFRvID0gc3dpdGNoTWFwVG87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXBUby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3dpdGNoU2NhbiA9IHZvaWQgMDtcbnZhciBzd2l0Y2hNYXBfMSA9IHJlcXVpcmUoXCIuL3N3aXRjaE1hcFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gc3dpdGNoU2NhbihhY2N1bXVsYXRvciwgc2VlZCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHNlZWQ7XG4gICAgICAgIHN3aXRjaE1hcF8xLnN3aXRjaE1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7IHJldHVybiBhY2N1bXVsYXRvcihzdGF0ZSwgdmFsdWUsIGluZGV4KTsgfSwgZnVuY3Rpb24gKF8sIGlubmVyVmFsdWUpIHsgcmV0dXJuICgoc3RhdGUgPSBpbm5lclZhbHVlKSwgaW5uZXJWYWx1ZSk7IH0pKHNvdXJjZSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuZXhwb3J0cy5zd2l0Y2hTY2FuID0gc3dpdGNoU2Nhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaFNjYW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRha2UgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2VtcHR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0YWtlKGNvdW50KSB7XG4gICAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICAgICAgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW1wdHlfMS5FTVBUWTsgfVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzZWVuID0gMDtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICgrK3NlZW4gPD0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDw9IHNlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnRha2UgPSB0YWtlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGFrZUxhc3QgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2VtcHR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0YWtlTGFzdChjb3VudCkge1xuICAgIHJldHVybiBjb3VudCA8PSAwXG4gICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gZW1wdHlfMS5FTVBUWTsgfVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb3VudCA8IGJ1ZmZlci5sZW5ndGggJiYgYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyXzEgPSBfX3ZhbHVlcyhidWZmZXIpLCBidWZmZXJfMV8xID0gYnVmZmVyXzEubmV4dCgpOyAhYnVmZmVyXzFfMS5kb25lOyBidWZmZXJfMV8xID0gYnVmZmVyXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBidWZmZXJfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcl8xXzEgJiYgIWJ1ZmZlcl8xXzEuZG9uZSAmJiAoX2EgPSBidWZmZXJfMS5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xufVxuZXhwb3J0cy50YWtlTGFzdCA9IHRha2VMYXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZUxhc3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRha2VVbnRpbCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG5mdW5jdGlvbiB0YWtlVW50aWwobm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20obm90aWZpZXIpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9LCBub29wXzEubm9vcCkpO1xuICAgICAgICAhc3Vic2NyaWJlci5jbG9zZWQgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMudGFrZVVudGlsID0gdGFrZVVudGlsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZVVudGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50YWtlV2hpbGUgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgIGlmIChpbmNsdXNpdmUgPT09IHZvaWQgMCkgeyBpbmNsdXNpdmUgPSBmYWxzZTsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKyk7XG4gICAgICAgICAgICAocmVzdWx0IHx8IGluY2x1c2l2ZSkgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICFyZXN1bHQgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VXaGlsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGFwID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiB0YXAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIHZhciB0YXBPYnNlcnZlciA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCBlcnJvciB8fCBjb21wbGV0ZVxuICAgICAgICA/XG4gICAgICAgICAgICB7IG5leHQ6IG9ic2VydmVyT3JOZXh0LCBlcnJvcjogZXJyb3IsIGNvbXBsZXRlOiBjb21wbGV0ZSB9XG4gICAgICAgIDogb2JzZXJ2ZXJPck5leHQ7XG4gICAgcmV0dXJuIHRhcE9ic2VydmVyXG4gICAgICAgID8gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB2YXIgaXNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIGVycik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGFwT2JzZXJ2ZXIuZmluYWxpemUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHlfMS5pZGVudGl0eTtcbn1cbmV4cG9ydHMudGFwID0gdGFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aHJvdHRsZSA9IGV4cG9ydHMuZGVmYXVsdFRocm90dGxlQ29uZmlnID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5leHBvcnRzLmRlZmF1bHRUaHJvdHRsZUNvbmZpZyA9IHtcbiAgICBsZWFkaW5nOiB0cnVlLFxuICAgIHRyYWlsaW5nOiBmYWxzZSxcbn07XG5mdW5jdGlvbiB0aHJvdHRsZShkdXJhdGlvblNlbGVjdG9yLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gZXhwb3J0cy5kZWZhdWx0VGhyb3R0bGVDb25maWc7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGVhZGluZyA9IGNvbmZpZy5sZWFkaW5nLCB0cmFpbGluZyA9IGNvbmZpZy50cmFpbGluZztcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBzZW5kVmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgdGhyb3R0bGVkID0gbnVsbDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVuZFRocm90dGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdHRsZWQgPT09IG51bGwgfHwgdGhyb3R0bGVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aHJvdHRsZWQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRocm90dGxlZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodHJhaWxpbmcpIHtcbiAgICAgICAgICAgICAgICBzZW5kKCk7XG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjbGVhbnVwVGhyb3R0bGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm90dGxlZCA9IG51bGw7XG4gICAgICAgICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0VGhyb3R0bGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhyb3R0bGVkID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGR1cmF0aW9uU2VsZWN0b3IodmFsdWUpKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGVuZFRocm90dGxpbmcsIGNsZWFudXBUaHJvdHRsaW5nKSkpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gc2VuZFZhbHVlO1xuICAgICAgICAgICAgICAgIHNlbmRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAhaXNDb21wbGV0ZSAmJiBzdGFydFRocm90dGxlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBzZW5kVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICEodGhyb3R0bGVkICYmICF0aHJvdHRsZWQuY2xvc2VkKSAmJiAobGVhZGluZyA/IHNlbmQoKSA6IHN0YXJ0VGhyb3R0bGUodmFsdWUpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAhKHRyYWlsaW5nICYmIGhhc1ZhbHVlICYmIHRocm90dGxlZCAmJiAhdGhyb3R0bGVkLmNsb3NlZCkgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRocm90dGxlID0gdGhyb3R0bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvdHRsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGhyb3R0bGVUaW1lID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIHRocm90dGxlXzEgPSByZXF1aXJlKFwiLi90aHJvdHRsZVwiKTtcbnZhciB0aW1lcl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvdGltZXJcIik7XG5mdW5jdGlvbiB0aHJvdHRsZVRpbWUoZHVyYXRpb24sIHNjaGVkdWxlciwgY29uZmlnKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gdGhyb3R0bGVfMS5kZWZhdWx0VGhyb3R0bGVDb25maWc7IH1cbiAgICB2YXIgZHVyYXRpb24kID0gdGltZXJfMS50aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTtcbiAgICByZXR1cm4gdGhyb3R0bGVfMS50aHJvdHRsZShmdW5jdGlvbiAoKSB7IHJldHVybiBkdXJhdGlvbiQ7IH0sIGNvbmZpZyk7XG59XG5leHBvcnRzLnRocm90dGxlVGltZSA9IHRocm90dGxlVGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm90dGxlVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGhyb3dJZkVtcHR5ID0gdm9pZCAwO1xudmFyIEVtcHR5RXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0VtcHR5RXJyb3JcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHRocm93SWZFbXB0eShlcnJvckZhY3RvcnkpIHtcbiAgICBpZiAoZXJyb3JGYWN0b3J5ID09PSB2b2lkIDApIHsgZXJyb3JGYWN0b3J5ID0gZGVmYXVsdEVycm9yRmFjdG9yeTsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChoYXNWYWx1ZSA/IHN1YnNjcmliZXIuY29tcGxldGUoKSA6IHN1YnNjcmliZXIuZXJyb3IoZXJyb3JGYWN0b3J5KCkpKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aHJvd0lmRW1wdHkgPSB0aHJvd0lmRW1wdHk7XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgRW1wdHlFcnJvcl8xLkVtcHR5RXJyb3IoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93SWZFbXB0eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGltZUludGVydmFsID0gZXhwb3J0cy50aW1lSW50ZXJ2YWwgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHRpbWVJbnRlcnZhbChzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNfMS5hc3luY1NjaGVkdWxlcjsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsYXN0ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBub3cgLSBsYXN0O1xuICAgICAgICAgICAgbGFzdCA9IG5vdztcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuZXcgVGltZUludGVydmFsKHZhbHVlLCBpbnRlcnZhbCkpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRpbWVJbnRlcnZhbCA9IHRpbWVJbnRlcnZhbDtcbnZhciBUaW1lSW50ZXJ2YWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVJbnRlcnZhbCh2YWx1ZSwgaW50ZXJ2YWwpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgfVxuICAgIHJldHVybiBUaW1lSW50ZXJ2YWw7XG59KCkpO1xuZXhwb3J0cy5UaW1lSW50ZXJ2YWwgPSBUaW1lSW50ZXJ2YWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lSW50ZXJ2YWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRpbWVvdXQgPSBleHBvcnRzLlRpbWVvdXRFcnJvciA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBpc0RhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRGF0ZVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGNyZWF0ZUVycm9yQ2xhc3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2NyZWF0ZUVycm9yQ2xhc3NcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG5leHBvcnRzLlRpbWVvdXRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVGltZW91dEVycm9ySW1wbChpbmZvKSB7XG4gICAgICAgIGlmIChpbmZvID09PSB2b2lkIDApIHsgaW5mbyA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCBoYXMgb2NjdXJyZWQnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICB9O1xufSk7XG5mdW5jdGlvbiB0aW1lb3V0KGNvbmZpZywgc2NoZWR1bGVyQXJnKSB7XG4gICAgdmFyIF9hID0gKGlzRGF0ZV8xLmlzVmFsaWREYXRlKGNvbmZpZykgPyB7IGZpcnN0OiBjb25maWcgfSA6IHR5cGVvZiBjb25maWcgPT09ICdudW1iZXInID8geyBlYWNoOiBjb25maWcgfSA6IGNvbmZpZyksIGZpcnN0ID0gX2EuZmlyc3QsIGVhY2ggPSBfYS5lYWNoLCBfYiA9IF9hLndpdGgsIF93aXRoID0gX2IgPT09IHZvaWQgMCA/IHRpbWVvdXRFcnJvckZhY3RvcnkgOiBfYiwgX2MgPSBfYS5zY2hlZHVsZXIsIHNjaGVkdWxlciA9IF9jID09PSB2b2lkIDAgPyBzY2hlZHVsZXJBcmcgIT09IG51bGwgJiYgc2NoZWR1bGVyQXJnICE9PSB2b2lkIDAgPyBzY2hlZHVsZXJBcmcgOiBhc3luY18xLmFzeW5jU2NoZWR1bGVyIDogX2MsIF9kID0gX2EubWV0YSwgbWV0YSA9IF9kID09PSB2b2lkIDAgPyBudWxsIDogX2Q7XG4gICAgaWYgKGZpcnN0ID09IG51bGwgJiYgZWFjaCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIHRpbWVvdXQgcHJvdmlkZWQuJyk7XG4gICAgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbjtcbiAgICAgICAgdmFyIHRpbWVyU3Vic2NyaXB0aW9uO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIHNlZW4gPSAwO1xuICAgICAgICB2YXIgc3RhcnRUaW1lciA9IGZ1bmN0aW9uIChkZWxheSkge1xuICAgICAgICAgICAgdGltZXJTdWJzY3JpcHRpb24gPSBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKF93aXRoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IG1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VmFsdWU6IGxhc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW46IHNlZW4sXG4gICAgICAgICAgICAgICAgICAgIH0pKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfTtcbiAgICAgICAgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRpbWVyU3Vic2NyaXB0aW9uID09PSBudWxsIHx8IHRpbWVyU3Vic2NyaXB0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc2VlbisrO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KChsYXN0VmFsdWUgPSB2YWx1ZSkpO1xuICAgICAgICAgICAgZWFjaCA+IDAgJiYgc3RhcnRUaW1lcihlYWNoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghKHRpbWVyU3Vic2NyaXB0aW9uID09PSBudWxsIHx8IHRpbWVyU3Vic2NyaXB0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aW1lclN1YnNjcmlwdGlvbi5jbG9zZWQpKSB7XG4gICAgICAgICAgICAgICAgdGltZXJTdWJzY3JpcHRpb24gPT09IG51bGwgfHwgdGltZXJTdWJzY3JpcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpbWVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgICAgIHN0YXJ0VGltZXIoZmlyc3QgIT0gbnVsbCA/ICh0eXBlb2YgZmlyc3QgPT09ICdudW1iZXInID8gZmlyc3QgOiArZmlyc3QgLSBzY2hlZHVsZXIubm93KCkpIDogZWFjaCk7XG4gICAgfSk7XG59XG5leHBvcnRzLnRpbWVvdXQgPSB0aW1lb3V0O1xuZnVuY3Rpb24gdGltZW91dEVycm9yRmFjdG9yeShpbmZvKSB7XG4gICAgdGhyb3cgbmV3IGV4cG9ydHMuVGltZW91dEVycm9yKGluZm8pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZW91dFdpdGggPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgaXNEYXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0RhdGVcIik7XG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4vdGltZW91dFwiKTtcbmZ1bmN0aW9uIHRpbWVvdXRXaXRoKGR1ZSwgd2l0aE9ic2VydmFibGUsIHNjaGVkdWxlcikge1xuICAgIHZhciBmaXJzdDtcbiAgICB2YXIgZWFjaDtcbiAgICB2YXIgX3dpdGg7XG4gICAgc2NoZWR1bGVyID0gc2NoZWR1bGVyICE9PSBudWxsICYmIHNjaGVkdWxlciAhPT0gdm9pZCAwID8gc2NoZWR1bGVyIDogYXN5bmNfMS5hc3luYztcbiAgICBpZiAoaXNEYXRlXzEuaXNWYWxpZERhdGUoZHVlKSkge1xuICAgICAgICBmaXJzdCA9IGR1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGR1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgZWFjaCA9IGR1ZTtcbiAgICB9XG4gICAgaWYgKHdpdGhPYnNlcnZhYmxlKSB7XG4gICAgICAgIF93aXRoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gd2l0aE9ic2VydmFibGU7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvYnNlcnZhYmxlIHByb3ZpZGVkIHRvIHN3aXRjaCB0bycpO1xuICAgIH1cbiAgICBpZiAoZmlyc3QgPT0gbnVsbCAmJiBlYWNoID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gdGltZW91dCBwcm92aWRlZC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVvdXRfMS50aW1lb3V0KHtcbiAgICAgICAgZmlyc3Q6IGZpcnN0LFxuICAgICAgICBlYWNoOiBlYWNoLFxuICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgd2l0aDogX3dpdGgsXG4gICAgfSk7XG59XG5leHBvcnRzLnRpbWVvdXRXaXRoID0gdGltZW91dFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0V2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZXN0YW1wID0gdm9pZCAwO1xudmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXJcIik7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5mdW5jdGlvbiB0aW1lc3RhbXAodGltZXN0YW1wUHJvdmlkZXIpIHtcbiAgICBpZiAodGltZXN0YW1wUHJvdmlkZXIgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXBQcm92aWRlciA9IGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xLmRhdGVUaW1lc3RhbXBQcm92aWRlcjsgfVxuICAgIHJldHVybiBtYXBfMS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoeyB2YWx1ZTogdmFsdWUsIHRpbWVzdGFtcDogdGltZXN0YW1wUHJvdmlkZXIubm93KCkgfSk7IH0pO1xufVxuZXhwb3J0cy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lc3RhbXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRvQXJyYXkgPSB2b2lkIDA7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi9yZWR1Y2VcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBhcnJSZWR1Y2VyID0gZnVuY3Rpb24gKGFyciwgdmFsdWUpIHsgcmV0dXJuIChhcnIucHVzaCh2YWx1ZSksIGFycik7IH07XG5mdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJlZHVjZV8xLnJlZHVjZShhcnJSZWR1Y2VyLCBbXSkoc291cmNlKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9BcnJheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbmZ1bmN0aW9uIHdpbmRvdyh3aW5kb3dCb3VuZGFyaWVzKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHdpbmRvd1N1YmplY3QgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd1N1YmplY3QuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgd2luZG93U3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHdpbmRvd1N1YmplY3QgPT09IG51bGwgfHwgd2luZG93U3ViamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93U3ViamVjdC5uZXh0KHZhbHVlKTsgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93U3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBlcnJvckhhbmRsZXIpKTtcbiAgICAgICAgd2luZG93Qm91bmRhcmllcy5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCgod2luZG93U3ViamVjdCA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpKSk7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wLCBlcnJvckhhbmRsZXIpKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QgPT09IG51bGwgfHwgd2luZG93U3ViamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93U3ViamVjdC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgd2luZG93U3ViamVjdCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvdyA9IHdpbmRvdztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvdy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93Q291bnQgPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHdpbmRvd0NvdW50KHdpbmRvd1NpemUsIHN0YXJ0V2luZG93RXZlcnkpIHtcbiAgICBpZiAoc3RhcnRXaW5kb3dFdmVyeSA9PT0gdm9pZCAwKSB7IHN0YXJ0V2luZG93RXZlcnkgPSAwOyB9XG4gICAgdmFyIHN0YXJ0RXZlcnkgPSBzdGFydFdpbmRvd0V2ZXJ5ID4gMCA/IHN0YXJ0V2luZG93RXZlcnkgOiB3aW5kb3dTaXplO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gW25ldyBTdWJqZWN0XzEuU3ViamVjdCgpXTtcbiAgICAgICAgdmFyIHN0YXJ0cyA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93c1swXS5hc09ic2VydmFibGUoKSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHdpbmRvd3NfMSA9IF9fdmFsdWVzKHdpbmRvd3MpLCB3aW5kb3dzXzFfMSA9IHdpbmRvd3NfMS5uZXh0KCk7ICF3aW5kb3dzXzFfMS5kb25lOyB3aW5kb3dzXzFfMSA9IHdpbmRvd3NfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRvd18xID0gd2luZG93c18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd18xLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93c18xXzEgJiYgIXdpbmRvd3NfMV8xLmRvbmUgJiYgKF9hID0gd2luZG93c18xLnJldHVybikpIF9hLmNhbGwod2luZG93c18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGMgPSBjb3VudCAtIHdpbmRvd1NpemUgKyAxO1xuICAgICAgICAgICAgaWYgKGMgPj0gMCAmJiBjICUgc3RhcnRFdmVyeSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCsrY291bnQgJSBzdGFydEV2ZXJ5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd18yID0gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgd2luZG93cy5wdXNoKHdpbmRvd18yKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93XzIuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAod2luZG93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHdoaWxlICh3aW5kb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhcnRzID0gbnVsbDtcbiAgICAgICAgICAgIHdpbmRvd3MgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd0NvdW50ID0gd2luZG93Q291bnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3dDb3VudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93VGltZSA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gd2luZG93VGltZSh3aW5kb3dUaW1lU3Bhbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIG90aGVyQXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyQXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IChfYSA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIob3RoZXJBcmdzKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYXN5bmNfMS5hc3luY1NjaGVkdWxlcjtcbiAgICB2YXIgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA9IChfYiA9IG90aGVyQXJnc1swXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB2YXIgbWF4V2luZG93U2l6ZSA9IG90aGVyQXJnc1sxXSB8fCBJbmZpbml0eTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgd2luZG93UmVjb3JkcyA9IFtdO1xuICAgICAgICB2YXIgcmVzdGFydE9uQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNsb3NlV2luZG93ID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHdpbmRvdyA9IHJlY29yZC53aW5kb3csIHN1YnMgPSByZWNvcmQuc3VicztcbiAgICAgICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgc3Vicy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKHdpbmRvd1JlY29yZHMsIHJlY29yZCk7XG4gICAgICAgICAgICByZXN0YXJ0T25DbG9zZSAmJiBzdGFydFdpbmRvdygpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RhcnRXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAod2luZG93UmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnMpO1xuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciByZWNvcmRfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93OiB3aW5kb3dfMSxcbiAgICAgICAgICAgICAgICAgICAgc3Viczogc3VicyxcbiAgICAgICAgICAgICAgICAgICAgc2VlbjogMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHdpbmRvd1JlY29yZHMucHVzaChyZWNvcmRfMSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd18xLmFzT2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vicywgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjbG9zZVdpbmRvdyhyZWNvcmRfMSk7IH0sIHdpbmRvd1RpbWVTcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgIT09IG51bGwgJiYgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA+PSAwKSB7XG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBzdGFydFdpbmRvdywgd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN0YXJ0T25DbG9zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRXaW5kb3coKTtcbiAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIHdpbmRvd1JlY29yZHMuc2xpY2UoKS5mb3JFYWNoKGNiKTsgfTtcbiAgICAgICAgdmFyIHRlcm1pbmF0ZSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgbG9vcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2luZG93ID0gX2Eud2luZG93O1xuICAgICAgICAgICAgICAgIHJldHVybiBjYih3aW5kb3cpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBsb29wKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQud2luZG93Lm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIG1heFdpbmRvd1NpemUgPD0gKytyZWNvcmQuc2VlbiAmJiBjbG9zZVdpbmRvdyhyZWNvcmQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRlcm1pbmF0ZShmdW5jdGlvbiAoY29uc3VtZXIpIHsgcmV0dXJuIGNvbnN1bWVyLmNvbXBsZXRlKCk7IH0pOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiB0ZXJtaW5hdGUoZnVuY3Rpb24gKGNvbnN1bWVyKSB7IHJldHVybiBjb25zdW1lci5lcnJvcihlcnIpOyB9KTsgfSkpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93UmVjb3JkcyA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd1RpbWUgPSB3aW5kb3dUaW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93VGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93VG9nZ2xlID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmlwdGlvblwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG5mdW5jdGlvbiB3aW5kb3dUb2dnbGUob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gW107XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHdoaWxlICgwIDwgd2luZG93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKG9wZW5pbmdzKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChvcGVuVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgIHdpbmRvd3MucHVzaCh3aW5kb3cpO1xuICAgICAgICAgICAgdmFyIGNsb3NpbmdTdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB2YXIgY2xvc2VXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKHdpbmRvd3MsIHdpbmRvdyk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nTm90aWZpZXI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNsb3NpbmdOb3RpZmllciA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3Iob3BlblZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93LmFzT2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGNsb3NpbmdOb3RpZmllci5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNsb3NlV2luZG93LCBub29wXzEubm9vcCwgaGFuZGxlRXJyb3IpKSk7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICB2YXIgd2luZG93c0NvcHkgPSB3aW5kb3dzLnNsaWNlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHdpbmRvd3NDb3B5XzEgPSBfX3ZhbHVlcyh3aW5kb3dzQ29weSksIHdpbmRvd3NDb3B5XzFfMSA9IHdpbmRvd3NDb3B5XzEubmV4dCgpOyAhd2luZG93c0NvcHlfMV8xLmRvbmU7IHdpbmRvd3NDb3B5XzFfMSA9IHdpbmRvd3NDb3B5XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IHdpbmRvd3NDb3B5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93XzEubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dzQ29weV8xXzEgJiYgIXdpbmRvd3NDb3B5XzFfMS5kb25lICYmIChfYSA9IHdpbmRvd3NDb3B5XzEucmV0dXJuKSkgX2EuY2FsbCh3aW5kb3dzQ29weV8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGhhbmRsZUVycm9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMud2luZG93VG9nZ2xlID0gd2luZG93VG9nZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93VG9nZ2xlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy53aW5kb3dXaGVuID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiB3aW5kb3dXaGVuKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3c7XG4gICAgICAgIHZhciBjbG9zaW5nU3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIGhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgd2luZG93LmVycm9yKGVycik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvcGVuV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmliZXIgPT09IG51bGwgfHwgY2xvc2luZ1N1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsb3NpbmdTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHdpbmRvdyA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvdy5hc09ic2VydmFibGUoKSk7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjbG9zaW5nTm90aWZpZXIgPSBpbm5lckZyb21fMS5pbm5lckZyb20oY2xvc2luZ1NlbGVjdG9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2luZ05vdGlmaWVyLnN1YnNjcmliZSgoY2xvc2luZ1N1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3BlbldpbmRvdywgb3BlbldpbmRvdywgaGFuZGxlRXJyb3IpKSk7XG4gICAgICAgIH07XG4gICAgICAgIG9wZW5XaW5kb3coKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB3aW5kb3cubmV4dCh2YWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBoYW5kbGVFcnJvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmliZXIgPT09IG51bGwgfHwgY2xvc2luZ1N1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsb3NpbmdTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB3aW5kb3cgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd1doZW4gPSB3aW5kb3dXaGVuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93V2hlbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpdGhMYXRlc3RGcm9tID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbmZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tKCkge1xuICAgIHZhciBpbnB1dHMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBpbnB1dHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHByb2plY3QgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoaW5wdXRzKTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGVuID0gaW5wdXRzLmxlbmd0aDtcbiAgICAgICAgdmFyIG90aGVyVmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGlucHV0cy5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICB2YXIgcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0c1tpXSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvdGhlclZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghcmVhZHkgJiYgIWhhc1ZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgKHJlYWR5ID0gaGFzVmFsdWUuZXZlcnkoaWRlbnRpdHlfMS5pZGVudGl0eSkpICYmIChoYXNWYWx1ZSA9IG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocmVhZHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gX19zcHJlYWRBcnJheShbdmFsdWVdLCBfX3JlYWQob3RoZXJWYWx1ZXMpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdCA/IHByb2plY3QuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodmFsdWVzKSkpIDogdmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy53aXRoTGF0ZXN0RnJvbSA9IHdpdGhMYXRlc3RGcm9tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2l0aExhdGVzdEZyb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56aXAgPSB2b2lkIDA7XG52YXIgemlwXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS96aXBcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHppcCgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgemlwXzEuemlwLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKHNvdXJjZXMpKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy56aXAgPSB6aXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnppcEFsbCA9IHZvaWQgMDtcbnZhciB6aXBfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3ppcFwiKTtcbnZhciBqb2luQWxsSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9qb2luQWxsSW50ZXJuYWxzXCIpO1xuZnVuY3Rpb24gemlwQWxsKHByb2plY3QpIHtcbiAgICByZXR1cm4gam9pbkFsbEludGVybmFsc18xLmpvaW5BbGxJbnRlcm5hbHMoemlwXzEuemlwLCBwcm9qZWN0KTtcbn1cbmV4cG9ydHMuemlwQWxsID0gemlwQWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwQWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuemlwV2l0aCA9IHZvaWQgMDtcbnZhciB6aXBfMSA9IHJlcXVpcmUoXCIuL3ppcFwiKTtcbmZ1bmN0aW9uIHppcFdpdGgoKSB7XG4gICAgdmFyIG90aGVySW5wdXRzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb3RoZXJJbnB1dHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHppcF8xLnppcC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChvdGhlcklucHV0cykpKTtcbn1cbmV4cG9ydHMuemlwV2l0aCA9IHppcFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXBXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2hlZHVsZUFycmF5ID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zY2hlZHVsZUFycmF5ID0gc2NoZWR1bGVBcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlQXN5bmNJdGVyYWJsZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBleGVjdXRlU2NoZWR1bGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNjaGVkdWxlQXN5bmNJdGVyYWJsZSA9IHNjaGVkdWxlQXN5bmNJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2NoZWR1bGVJdGVyYWJsZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBpdGVyYXRvcl8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9pdGVyYXRvclwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gaW5wdXRbaXRlcmF0b3JfMS5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGl0ZXJhdG9yID09PSBudWxsIHx8IGl0ZXJhdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVyYXRvci5yZXR1cm4pICYmIGl0ZXJhdG9yLnJldHVybigpOyB9O1xuICAgIH0pO1xufVxuZXhwb3J0cy5zY2hlZHVsZUl0ZXJhYmxlID0gc2NoZWR1bGVJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlSXRlcmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlT2JzZXJ2YWJsZSA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBvYnNlcnZlT25fMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uXCIpO1xudmFyIHN1YnNjcmliZU9uXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uXzEuc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uXzEub2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuZXhwb3J0cy5zY2hlZHVsZU9ic2VydmFibGUgPSBzY2hlZHVsZU9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlUHJvbWlzZSA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBvYnNlcnZlT25fMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uXCIpO1xudmFyIHN1YnNjcmliZU9uXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uXCIpO1xuZnVuY3Rpb24gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uXzEuc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uXzEub2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuZXhwb3J0cy5zY2hlZHVsZVByb21pc2UgPSBzY2hlZHVsZVByb21pc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlID0gdm9pZCAwO1xudmFyIHNjaGVkdWxlQXN5bmNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlXCIpO1xudmFyIGlzUmVhZGFibGVTdHJlYW1MaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVBc3luY0l0ZXJhYmxlXzEuc2NoZWR1bGVBc3luY0l0ZXJhYmxlKGlzUmVhZGFibGVTdHJlYW1MaWtlXzEucmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihpbnB1dCksIHNjaGVkdWxlcik7XG59XG5leHBvcnRzLnNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlID0gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2NoZWR1bGVkID0gdm9pZCAwO1xudmFyIHNjaGVkdWxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVPYnNlcnZhYmxlXCIpO1xudmFyIHNjaGVkdWxlUHJvbWlzZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVQcm9taXNlXCIpO1xudmFyIHNjaGVkdWxlQXJyYXlfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlQXJyYXlcIik7XG52YXIgc2NoZWR1bGVJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVJdGVyYWJsZVwiKTtcbnZhciBzY2hlZHVsZUFzeW5jSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZVwiKTtcbnZhciBpc0ludGVyb3BPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlXCIpO1xudmFyIGlzUHJvbWlzZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNQcm9taXNlXCIpO1xudmFyIGlzQXJyYXlMaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0FycmF5TGlrZVwiKTtcbnZhciBpc0l0ZXJhYmxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0l0ZXJhYmxlXCIpO1xudmFyIGlzQXN5bmNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlXCIpO1xudmFyIHRocm93VW5vYnNlcnZhYmxlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3JcIik7XG52YXIgaXNSZWFkYWJsZVN0cmVhbUxpa2VfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlXCIpO1xudmFyIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGVfMS5pc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZV8xLnNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2VfMS5pc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5XzEuc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlXzEuaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZV8xLnNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlXzEuaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZV8xLnNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZV8xLmlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZV8xLnNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlXzEuaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2VfMS5zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyB0aHJvd1Vub2JzZXJ2YWJsZUVycm9yXzEuY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0cy5zY2hlZHVsZWQgPSBzY2hlZHVsZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BY3Rpb24gPSB2b2lkIDA7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIEFjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuQWN0aW9uID0gQWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXN5bmNBY3Rpb24gPSB2b2lkIDA7XG52YXIgQWN0aW9uXzEgPSByZXF1aXJlKFwiLi9BY3Rpb25cIik7XG52YXIgaW50ZXJ2YWxQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vaW50ZXJ2YWxQcm92aWRlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBBc3luY0FjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuaWQgfHwgdGhpcy5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIHRoaXMuaWQsIGRlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBfaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICByZXR1cm4gaW50ZXJ2YWxQcm92aWRlcl8xLmludGVydmFsUHJvdmlkZXIuc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKF9zY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGludGVydmFsUHJvdmlkZXJfMS5pbnRlcnZhbFByb3ZpZGVyLmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2RlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZV8xLmFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb25fMS5BY3Rpb24pKTtcbmV4cG9ydHMuQXN5bmNBY3Rpb24gPSBBc3luY0FjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXN5bmNTY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgU2NoZWR1bGVyXzEgPSByZXF1aXJlKFwiLi4vU2NoZWR1bGVyXCIpO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7IG5vdyA9IFNjaGVkdWxlcl8xLlNjaGVkdWxlci5ub3c7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBub3cpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXI7XG59KFNjaGVkdWxlcl8xLlNjaGVkdWxlcikpO1xuZXhwb3J0cy5Bc3luY1NjaGVkdWxlciA9IEFzeW5jU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFzeW5jID0gZXhwb3J0cy5hc3luY1NjaGVkdWxlciA9IHZvaWQgMDtcbnZhciBBc3luY0FjdGlvbl8xID0gcmVxdWlyZShcIi4vQXN5bmNBY3Rpb25cIik7XG52YXIgQXN5bmNTY2hlZHVsZXJfMSA9IHJlcXVpcmUoXCIuL0FzeW5jU2NoZWR1bGVyXCIpO1xuZXhwb3J0cy5hc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcl8xLkFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uXzEuQXN5bmNBY3Rpb24pO1xuZXhwb3J0cy5hc3luYyA9IGV4cG9ydHMuYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0gdm9pZCAwO1xuZXhwb3J0cy5kYXRlVGltZXN0YW1wUHJvdmlkZXIgPSB7XG4gICAgbm93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoZXhwb3J0cy5kYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmludGVydmFsUHJvdmlkZXIgPSB2b2lkIDA7XG5leHBvcnRzLmludGVydmFsUHJvdmlkZXIgPSB7XG4gICAgc2V0SW50ZXJ2YWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSBleHBvcnRzLmludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkgfHwgc2V0SW50ZXJ2YWwpLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhckludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGV4cG9ydHMuaW50ZXJ2YWxQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuICgoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLmNsZWFySW50ZXJ2YWwpIHx8IGNsZWFySW50ZXJ2YWwpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVydmFsUHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aW1lb3V0UHJvdmlkZXIgPSB2b2lkIDA7XG5leHBvcnRzLnRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gZXhwb3J0cy50aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRUaW1lb3V0KSB8fCBzZXRUaW1lb3V0KS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGV4cG9ydHMudGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRQcm92aWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXRlcmF0b3IgPSBleHBvcnRzLmdldFN5bWJvbEl0ZXJhdG9yID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0cy5nZXRTeW1ib2xJdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yO1xuZXhwb3J0cy5pdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub2JzZXJ2YWJsZSA9IHZvaWQgMDtcbmV4cG9ydHMub2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsKCkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbXB0eUVycm9yID0gdm9pZCAwO1xudmFyIGNyZWF0ZUVycm9yQ2xhc3NfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUVycm9yQ2xhc3NcIik7XG5leHBvcnRzLkVtcHR5RXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7IHJldHVybiBmdW5jdGlvbiBFbXB0eUVycm9ySW1wbCgpIHtcbiAgICBfc3VwZXIodGhpcyk7XG4gICAgdGhpcy5uYW1lID0gJ0VtcHR5RXJyb3InO1xuICAgIHRoaXMubWVzc2FnZSA9ICdubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSc7XG59OyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5RXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5vdEZvdW5kRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuTm90Rm91bmRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gTm90Rm91bmRFcnJvckltcGwobWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RGb3VuZEVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RGb3VuZEVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5PYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VxdWVuY2VFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5TZXF1ZW5jZUVycm9yID0gY3JlYXRlRXJyb3JDbGFzc18xLmNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBTZXF1ZW5jZUVycm9ySW1wbChtZXNzYWdlKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1NlcXVlbmNlRXJyb3InO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcXVlbmNlRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVuc3Vic2NyaXB0aW9uRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBvcE51bWJlciA9IGV4cG9ydHMucG9wU2NoZWR1bGVyID0gZXhwb3J0cy5wb3BSZXN1bHRTZWxlY3RvciA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xudmFyIGlzU2NoZWR1bGVyXzEgPSByZXF1aXJlKFwiLi9pc1NjaGVkdWxlclwiKTtcbmZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMucG9wUmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcjtcbmZ1bmN0aW9uIHBvcFNjaGVkdWxlcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzU2NoZWR1bGVyXzEuaXNTY2hlZHVsZXIobGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5wb3BTY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXI7XG5mdW5jdGlvbiBwb3BOdW1iZXIoYXJncywgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBsYXN0KGFyZ3MpID09PSAnbnVtYmVyJyA/IGFyZ3MucG9wKCkgOiBkZWZhdWx0VmFsdWU7XG59XG5leHBvcnRzLnBvcE51bWJlciA9IHBvcE51bWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFyZ3NBcmdBcnJheU9yT2JqZWN0ID0gdm9pZCAwO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIGdldEtleXMgPSBPYmplY3Qua2V5cztcbmZ1bmN0aW9uIGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYXJnczogZmlyc3RfMSwga2V5czogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BPSk8oZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gZ2V0S2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXJnczoga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSxcbiAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhcmdzOiBhcmdzLCBrZXlzOiBudWxsIH07XG59XG5leHBvcnRzLmFyZ3NBcmdBcnJheU9yT2JqZWN0ID0gYXJnc0FyZ0FycmF5T3JPYmplY3Q7XG5mdW5jdGlvbiBpc1BPSk8ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBnZXRQcm90b3R5cGVPZihvYmopID09PSBvYmplY3RQcm90bztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3NBcmdBcnJheU9yT2JqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hcmdzT3JBcmdBcnJheSA9IHZvaWQgMDtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGFyZ3NPckFyZ0FycmF5KGFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xufVxuZXhwb3J0cy5hcmdzT3JBcmdBcnJheSA9IGFyZ3NPckFyZ0FycmF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJnc09yQXJnQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFyclJlbW92ZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbmV4cG9ydHMuYXJyUmVtb3ZlID0gYXJyUmVtb3ZlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVFcnJvckNsYXNzID0gdm9pZCAwO1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuZXhwb3J0cy5jcmVhdGVFcnJvckNsYXNzID0gY3JlYXRlRXJyb3JDbGFzcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZU9iamVjdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAoKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldKSwgcmVzdWx0KTsgfSwge30pO1xufVxuZXhwb3J0cy5jcmVhdGVPYmplY3QgPSBjcmVhdGVPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVPYmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNhcHR1cmVFcnJvciA9IGV4cG9ydHMuZXJyb3JDb250ZXh0ID0gdm9pZCAwO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBjb250ZXh0ID0gbnVsbDtcbmZ1bmN0aW9uIGVycm9yQ29udGV4dChjYikge1xuICAgIGlmIChjb25maWdfMS5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLmVycm9yQ29udGV4dCA9IGVycm9yQ29udGV4dDtcbmZ1bmN0aW9uIGNhcHR1cmVFcnJvcihlcnIpIHtcbiAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgY29udGV4dC5lcnJvciA9IGVycjtcbiAgICB9XG59XG5leHBvcnRzLmNhcHR1cmVFcnJvciA9IGNhcHR1cmVFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yQ29udGV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhlY3V0ZVNjaGVkdWxlID0gdm9pZCAwO1xuZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0cy5leGVjdXRlU2NoZWR1bGUgPSBleGVjdXRlU2NoZWR1bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGVjdXRlU2NoZWR1bGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlkZW50aXR5ID0gdm9pZCAwO1xuZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuZXhwb3J0cy5pZGVudGl0eSA9IGlkZW50aXR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQXJyYXlMaWtlID0gdm9pZCAwO1xuZXhwb3J0cy5pc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0FzeW5jSXRlcmFibGUgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3IgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG5leHBvcnRzLmlzQXN5bmNJdGVyYWJsZSA9IGlzQXN5bmNJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNWYWxpZERhdGUgPSB2b2lkIDA7XG5mdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbHVlKTtcbn1cbmV4cG9ydHMuaXNWYWxpZERhdGUgPSBpc1ZhbGlkRGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IHZvaWQgMDtcbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzSW50ZXJvcE9ic2VydmFibGUgPSB2b2lkIDA7XG52YXIgb2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9vYnNlcnZhYmxlXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGlucHV0W29ic2VydmFibGVfMS5vYnNlcnZhYmxlXSk7XG59XG5leHBvcnRzLmlzSW50ZXJvcE9ic2VydmFibGUgPSBpc0ludGVyb3BPYnNlcnZhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNJdGVyYWJsZSA9IHZvaWQgMDtcbnZhciBpdGVyYXRvcl8xID0gcmVxdWlyZShcIi4uL3N5bWJvbC9pdGVyYXRvclwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXRbaXRlcmF0b3JfMS5pdGVyYXRvcl0pO1xufVxuZXhwb3J0cy5pc0l0ZXJhYmxlID0gaXNJdGVyYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzUHJvbWlzZSA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50aGVuKTtcbn1cbmV4cG9ydHMuaXNQcm9taXNlID0gaXNQcm9taXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19hd2FpdCA9ICh0aGlzICYmIHRoaXMuX19hd2FpdCkgfHwgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7IH1cbnZhciBfX2FzeW5jR2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jR2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1JlYWRhYmxlU3RyZWFtTGlrZSA9IGV4cG9ydHMucmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcl8xKCkge1xuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQocmVhZGVyLnJlYWQoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHJldHVybiBbMywgNV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgX19hd2FpdCh2YWx1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciA9IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3I7XG5mdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG5leHBvcnRzLmlzUmVhZGFibGVTdHJlYW1MaWtlID0gaXNSZWFkYWJsZVN0cmVhbUxpa2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNTY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlLnNjaGVkdWxlKTtcbn1cbmV4cG9ydHMuaXNTY2hlZHVsZXIgPSBpc1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vcGVyYXRlID0gZXhwb3J0cy5oYXNMaWZ0ID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBoYXNMaWZ0KHNvdXJjZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UubGlmdCk7XG59XG5leHBvcnRzLmhhc0xpZnQgPSBoYXNMaWZ0O1xuZnVuY3Rpb24gb3BlcmF0ZShpbml0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uIChsaWZ0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICAgIH07XG59XG5leHBvcnRzLm9wZXJhdGUgPSBvcGVyYXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hcE9uZU9yTWFueUFyZ3MgPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL21hcFwiKTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5mdW5jdGlvbiBtYXBPbmVPck1hbnlBcmdzKGZuKSB7XG4gICAgcmV0dXJuIG1hcF8xLm1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gY2FsbE9yQXBwbHkoZm4sIGFyZ3MpOyB9KTtcbn1cbmV4cG9ydHMubWFwT25lT3JNYW55QXJncyA9IG1hcE9uZU9yTWFueUFyZ3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub29wID0gdm9pZCAwO1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuZXhwb3J0cy5ub29wID0gbm9vcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vb3AuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm5vdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIG5vdChwcmVkLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuICFwcmVkLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KTsgfTtcbn1cbmV4cG9ydHMubm90ID0gbm90O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm90LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5waXBlRnJvbUFycmF5ID0gZXhwb3J0cy5waXBlID0gdm9pZCAwO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi9pZGVudGl0eVwiKTtcbmZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0cy5waXBlID0gcGlwZTtcbmZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5XzEuaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbmV4cG9ydHMucGlwZUZyb21BcnJheSA9IHBpcGVGcm9tQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXBvcnRVbmhhbmRsZWRFcnJvciA9IHZvaWQgMDtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG52YXIgdGltZW91dFByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlclwiKTtcbmZ1bmN0aW9uIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycikge1xuICAgIHRpbWVvdXRQcm92aWRlcl8xLnRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBjb25maWdfMS5jb25maWcub25VbmhhbmRsZWRFcnJvcjtcbiAgICAgICAgaWYgKG9uVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5yZXBvcnRVbmhhbmRsZWRFcnJvciA9IHJlcG9ydFVuaGFuZGxlZEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwb3J0VW5oYW5kbGVkRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yID0gdm9pZCAwO1xuZnVuY3Rpb24gY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIiArIChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgaW5wdXQgKyBcIidcIikgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLlwiKTtcbn1cbmV4cG9ydHMuY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgPSBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93VW5vYnNlcnZhYmxlRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlQWxsID0gZXhwb3J0cy5tZXJnZSA9IGV4cG9ydHMubWF4ID0gZXhwb3J0cy5tYXRlcmlhbGl6ZSA9IGV4cG9ydHMubWFwVG8gPSBleHBvcnRzLm1hcCA9IGV4cG9ydHMubGFzdCA9IGV4cG9ydHMuaXNFbXB0eSA9IGV4cG9ydHMuaWdub3JlRWxlbWVudHMgPSBleHBvcnRzLmdyb3VwQnkgPSBleHBvcnRzLmZpcnN0ID0gZXhwb3J0cy5maW5kSW5kZXggPSBleHBvcnRzLmZpbmQgPSBleHBvcnRzLmZpbmFsaXplID0gZXhwb3J0cy5maWx0ZXIgPSBleHBvcnRzLmV4cGFuZCA9IGV4cG9ydHMuZXhoYXVzdE1hcCA9IGV4cG9ydHMuZXhoYXVzdEFsbCA9IGV4cG9ydHMuZXhoYXVzdCA9IGV4cG9ydHMuZXZlcnkgPSBleHBvcnRzLmVuZFdpdGggPSBleHBvcnRzLmVsZW1lbnRBdCA9IGV4cG9ydHMuZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgPSBleHBvcnRzLmRpc3RpbmN0VW50aWxDaGFuZ2VkID0gZXhwb3J0cy5kaXN0aW5jdCA9IGV4cG9ydHMuZGVtYXRlcmlhbGl6ZSA9IGV4cG9ydHMuZGVsYXlXaGVuID0gZXhwb3J0cy5kZWxheSA9IGV4cG9ydHMuZGVmYXVsdElmRW1wdHkgPSBleHBvcnRzLmRlYm91bmNlVGltZSA9IGV4cG9ydHMuZGVib3VuY2UgPSBleHBvcnRzLmNvdW50ID0gZXhwb3J0cy5jb25uZWN0ID0gZXhwb3J0cy5jb25jYXRXaXRoID0gZXhwb3J0cy5jb25jYXRNYXBUbyA9IGV4cG9ydHMuY29uY2F0TWFwID0gZXhwb3J0cy5jb25jYXRBbGwgPSBleHBvcnRzLmNvbmNhdCA9IGV4cG9ydHMuY29tYmluZUxhdGVzdFdpdGggPSBleHBvcnRzLmNvbWJpbmVMYXRlc3QgPSBleHBvcnRzLmNvbWJpbmVMYXRlc3RBbGwgPSBleHBvcnRzLmNvbWJpbmVBbGwgPSBleHBvcnRzLmNhdGNoRXJyb3IgPSBleHBvcnRzLmJ1ZmZlcldoZW4gPSBleHBvcnRzLmJ1ZmZlclRvZ2dsZSA9IGV4cG9ydHMuYnVmZmVyVGltZSA9IGV4cG9ydHMuYnVmZmVyQ291bnQgPSBleHBvcnRzLmJ1ZmZlciA9IGV4cG9ydHMuYXVkaXRUaW1lID0gZXhwb3J0cy5hdWRpdCA9IHZvaWQgMDtcbmV4cG9ydHMudGltZUludGVydmFsID0gZXhwb3J0cy50aHJvd0lmRW1wdHkgPSBleHBvcnRzLnRocm90dGxlVGltZSA9IGV4cG9ydHMudGhyb3R0bGUgPSBleHBvcnRzLnRhcCA9IGV4cG9ydHMudGFrZVdoaWxlID0gZXhwb3J0cy50YWtlVW50aWwgPSBleHBvcnRzLnRha2VMYXN0ID0gZXhwb3J0cy50YWtlID0gZXhwb3J0cy5zd2l0Y2hTY2FuID0gZXhwb3J0cy5zd2l0Y2hNYXBUbyA9IGV4cG9ydHMuc3dpdGNoTWFwID0gZXhwb3J0cy5zd2l0Y2hBbGwgPSBleHBvcnRzLnN1YnNjcmliZU9uID0gZXhwb3J0cy5zdGFydFdpdGggPSBleHBvcnRzLnNraXBXaGlsZSA9IGV4cG9ydHMuc2tpcFVudGlsID0gZXhwb3J0cy5za2lwTGFzdCA9IGV4cG9ydHMuc2tpcCA9IGV4cG9ydHMuc2luZ2xlID0gZXhwb3J0cy5zaGFyZVJlcGxheSA9IGV4cG9ydHMuc2hhcmUgPSBleHBvcnRzLnNlcXVlbmNlRXF1YWwgPSBleHBvcnRzLnNjYW4gPSBleHBvcnRzLnNhbXBsZVRpbWUgPSBleHBvcnRzLnNhbXBsZSA9IGV4cG9ydHMucmVmQ291bnQgPSBleHBvcnRzLnJldHJ5V2hlbiA9IGV4cG9ydHMucmV0cnkgPSBleHBvcnRzLnJlcGVhdFdoZW4gPSBleHBvcnRzLnJlcGVhdCA9IGV4cG9ydHMucmVkdWNlID0gZXhwb3J0cy5yYWNlV2l0aCA9IGV4cG9ydHMucmFjZSA9IGV4cG9ydHMucHVibGlzaFJlcGxheSA9IGV4cG9ydHMucHVibGlzaExhc3QgPSBleHBvcnRzLnB1Ymxpc2hCZWhhdmlvciA9IGV4cG9ydHMucHVibGlzaCA9IGV4cG9ydHMucGx1Y2sgPSBleHBvcnRzLnBhcnRpdGlvbiA9IGV4cG9ydHMucGFpcndpc2UgPSBleHBvcnRzLm9uRXJyb3JSZXN1bWVOZXh0ID0gZXhwb3J0cy5vYnNlcnZlT24gPSBleHBvcnRzLm11bHRpY2FzdCA9IGV4cG9ydHMubWluID0gZXhwb3J0cy5tZXJnZVdpdGggPSBleHBvcnRzLm1lcmdlU2NhbiA9IGV4cG9ydHMubWVyZ2VNYXBUbyA9IGV4cG9ydHMubWVyZ2VNYXAgPSBleHBvcnRzLmZsYXRNYXAgPSB2b2lkIDA7XG5leHBvcnRzLnppcFdpdGggPSBleHBvcnRzLnppcEFsbCA9IGV4cG9ydHMuemlwID0gZXhwb3J0cy53aXRoTGF0ZXN0RnJvbSA9IGV4cG9ydHMud2luZG93V2hlbiA9IGV4cG9ydHMud2luZG93VG9nZ2xlID0gZXhwb3J0cy53aW5kb3dUaW1lID0gZXhwb3J0cy53aW5kb3dDb3VudCA9IGV4cG9ydHMud2luZG93ID0gZXhwb3J0cy50b0FycmF5ID0gZXhwb3J0cy50aW1lc3RhbXAgPSBleHBvcnRzLnRpbWVvdXRXaXRoID0gZXhwb3J0cy50aW1lb3V0ID0gdm9pZCAwO1xudmFyIGF1ZGl0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYXVkaXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1ZGl0XzEuYXVkaXQ7IH0gfSk7XG52YXIgYXVkaXRUaW1lXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0VGltZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImF1ZGl0VGltZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXVkaXRUaW1lXzEuYXVkaXRUaW1lOyB9IH0pO1xudmFyIGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlcjsgfSB9KTtcbnZhciBidWZmZXJDb3VudF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJ1ZmZlckNvdW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJDb3VudF8xLmJ1ZmZlckNvdW50OyB9IH0pO1xudmFyIGJ1ZmZlclRpbWVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVGltZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJ1ZmZlclRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlclRpbWVfMS5idWZmZXJUaW1lOyB9IH0pO1xudmFyIGJ1ZmZlclRvZ2dsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUb2dnbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJUb2dnbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlclRvZ2dsZV8xLmJ1ZmZlclRvZ2dsZTsgfSB9KTtcbnZhciBidWZmZXJXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcldoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJXaGVuXzEuYnVmZmVyV2hlbjsgfSB9KTtcbnZhciBjYXRjaEVycm9yXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjYXRjaEVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYXRjaEVycm9yXzEuY2F0Y2hFcnJvcjsgfSB9KTtcbnZhciBjb21iaW5lQWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lQWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lQWxsXzEuY29tYmluZUFsbDsgfSB9KTtcbnZhciBjb21iaW5lTGF0ZXN0QWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lTGF0ZXN0QWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lTGF0ZXN0QWxsXzEuY29tYmluZUxhdGVzdEFsbDsgfSB9KTtcbnZhciBjb21iaW5lTGF0ZXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lTGF0ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lTGF0ZXN0XzEuY29tYmluZUxhdGVzdDsgfSB9KTtcbnZhciBjb21iaW5lTGF0ZXN0V2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0V2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbWJpbmVMYXRlc3RXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lTGF0ZXN0V2l0aF8xLmNvbWJpbmVMYXRlc3RXaXRoOyB9IH0pO1xudmFyIGNvbmNhdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25jYXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmNhdF8xLmNvbmNhdDsgfSB9KTtcbnZhciBjb25jYXRBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0QWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25jYXRBbGxfMS5jb25jYXRBbGw7IH0gfSk7XG52YXIgY29uY2F0TWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmNhdE1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uY2F0TWFwXzEuY29uY2F0TWFwOyB9IH0pO1xudmFyIGNvbmNhdE1hcFRvXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcFRvXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0TWFwVG9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmNhdE1hcFRvXzEuY29uY2F0TWFwVG87IH0gfSk7XG52YXIgY29uY2F0V2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0V2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uY2F0V2l0aF8xLmNvbmNhdFdpdGg7IH0gfSk7XG52YXIgY29ubmVjdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25uZWN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29ubmVjdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdF8xLmNvbm5lY3Q7IH0gfSk7XG52YXIgY291bnRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY291bnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb3VudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY291bnRfMS5jb3VudDsgfSB9KTtcbnZhciBkZWJvdW5jZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlYm91bmNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWJvdW5jZV8xLmRlYm91bmNlOyB9IH0pO1xudmFyIGRlYm91bmNlVGltZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWJvdW5jZVRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlYm91bmNlVGltZV8xLmRlYm91bmNlVGltZTsgfSB9KTtcbnZhciBkZWZhdWx0SWZFbXB0eV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlZmF1bHRJZkVtcHR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWZhdWx0SWZFbXB0eV8xLmRlZmF1bHRJZkVtcHR5OyB9IH0pO1xudmFyIGRlbGF5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVsYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlbGF5XzEuZGVsYXk7IH0gfSk7XG52YXIgZGVsYXlXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlbGF5V2hlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVsYXlXaGVuXzEuZGVsYXlXaGVuOyB9IH0pO1xudmFyIGRlbWF0ZXJpYWxpemVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlbWF0ZXJpYWxpemVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlbWF0ZXJpYWxpemVfMS5kZW1hdGVyaWFsaXplOyB9IH0pO1xudmFyIGRpc3RpbmN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGlzdGluY3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRpc3RpbmN0XzEuZGlzdGluY3Q7IH0gfSk7XG52YXIgZGlzdGluY3RVbnRpbENoYW5nZWRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbENoYW5nZWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkaXN0aW5jdFVudGlsQ2hhbmdlZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzdGluY3RVbnRpbENoYW5nZWRfMS5kaXN0aW5jdFVudGlsQ2hhbmdlZDsgfSB9KTtcbnZhciBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZF8xLmRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkOyB9IH0pO1xudmFyIGVsZW1lbnRBdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9lbGVtZW50QXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbGVtZW50QXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVsZW1lbnRBdF8xLmVsZW1lbnRBdDsgfSB9KTtcbnZhciBlbmRXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2VuZFdpdGhcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbmRXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmRXaXRoXzEuZW5kV2l0aDsgfSB9KTtcbnZhciBldmVyeV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9ldmVyeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV2ZXJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBldmVyeV8xLmV2ZXJ5OyB9IH0pO1xudmFyIGV4aGF1c3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV4aGF1c3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4aGF1c3RfMS5leGhhdXN0OyB9IH0pO1xudmFyIGV4aGF1c3RBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdEFsbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV4aGF1c3RBbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4aGF1c3RBbGxfMS5leGhhdXN0QWxsOyB9IH0pO1xudmFyIGV4aGF1c3RNYXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImV4aGF1c3RNYXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4aGF1c3RNYXBfMS5leGhhdXN0TWFwOyB9IH0pO1xudmFyIGV4cGFuZF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9leHBhbmRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleHBhbmRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4cGFuZF8xLmV4cGFuZDsgfSB9KTtcbnZhciBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmlsdGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXJfMS5maWx0ZXI7IH0gfSk7XG52YXIgZmluYWxpemVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaW5hbGl6ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmluYWxpemVfMS5maW5hbGl6ZTsgfSB9KTtcbnZhciBmaW5kXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaW5kXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaW5kXzEuZmluZDsgfSB9KTtcbnZhciBmaW5kSW5kZXhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmluZEluZGV4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmluZEluZGV4XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaW5kSW5kZXhfMS5maW5kSW5kZXg7IH0gfSk7XG52YXIgZmlyc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmlyc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaXJzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlyc3RfMS5maXJzdDsgfSB9KTtcbnZhciBncm91cEJ5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJncm91cEJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBncm91cEJ5XzEuZ3JvdXBCeTsgfSB9KTtcbnZhciBpZ25vcmVFbGVtZW50c18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50c1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlnbm9yZUVsZW1lbnRzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpZ25vcmVFbGVtZW50c18xLmlnbm9yZUVsZW1lbnRzOyB9IH0pO1xudmFyIGlzRW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzRW1wdHlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRW1wdHlfMS5pc0VtcHR5OyB9IH0pO1xudmFyIGxhc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImxhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhc3RfMS5sYXN0OyB9IH0pO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hcF8xLm1hcDsgfSB9KTtcbnZhciBtYXBUb18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tYXBUb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1hcFRvXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXBUb18xLm1hcFRvOyB9IH0pO1xudmFyIG1hdGVyaWFsaXplXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21hdGVyaWFsaXplXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWF0ZXJpYWxpemVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGVyaWFsaXplXzEubWF0ZXJpYWxpemU7IH0gfSk7XG52YXIgbWF4XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21heFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1heFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF4XzEubWF4OyB9IH0pO1xudmFyIG1lcmdlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWVyZ2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlXzEubWVyZ2U7IH0gfSk7XG52YXIgbWVyZ2VBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtZXJnZUFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVyZ2VBbGxfMS5tZXJnZUFsbDsgfSB9KTtcbnZhciBmbGF0TWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZsYXRNYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmbGF0TWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmbGF0TWFwXzEuZmxhdE1hcDsgfSB9KTtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1lcmdlTWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZU1hcF8xLm1lcmdlTWFwOyB9IH0pO1xudmFyIG1lcmdlTWFwVG9fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1lcmdlTWFwVG9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlTWFwVG9fMS5tZXJnZU1hcFRvOyB9IH0pO1xudmFyIG1lcmdlU2Nhbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVNjYW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtZXJnZVNjYW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlU2Nhbl8xLm1lcmdlU2NhbjsgfSB9KTtcbnZhciBtZXJnZVdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWVyZ2VXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZVdpdGhfMS5tZXJnZVdpdGg7IH0gfSk7XG52YXIgbWluXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21pblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1pblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWluXzEubWluOyB9IH0pO1xudmFyIG11bHRpY2FzdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tdWx0aWNhc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtdWx0aWNhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG11bHRpY2FzdF8xLm11bHRpY2FzdDsgfSB9KTtcbnZhciBvYnNlcnZlT25fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwib2JzZXJ2ZU9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYnNlcnZlT25fMS5vYnNlcnZlT247IH0gfSk7XG52YXIgb25FcnJvclJlc3VtZU5leHRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvb25FcnJvclJlc3VtZU5leHRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJvbkVycm9yUmVzdW1lTmV4dFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb25FcnJvclJlc3VtZU5leHRfMS5vbkVycm9yUmVzdW1lTmV4dDsgfSB9KTtcbnZhciBwYWlyd2lzZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wYWlyd2lzZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhaXJ3aXNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwYWlyd2lzZV8xLnBhaXJ3aXNlOyB9IH0pO1xudmFyIHBhcnRpdGlvbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wYXJ0aXRpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwYXJ0aXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhcnRpdGlvbl8xLnBhcnRpdGlvbjsgfSB9KTtcbnZhciBwbHVja18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wbHVja1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBsdWNrXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwbHVja18xLnBsdWNrOyB9IH0pO1xudmFyIHB1Ymxpc2hfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInB1Ymxpc2hcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hfMS5wdWJsaXNoOyB9IH0pO1xudmFyIHB1Ymxpc2hCZWhhdmlvcl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoQmVoYXZpb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwdWJsaXNoQmVoYXZpb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hCZWhhdmlvcl8xLnB1Ymxpc2hCZWhhdmlvcjsgfSB9KTtcbnZhciBwdWJsaXNoTGFzdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoTGFzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInB1Ymxpc2hMYXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwdWJsaXNoTGFzdF8xLnB1Ymxpc2hMYXN0OyB9IH0pO1xudmFyIHB1Ymxpc2hSZXBsYXlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFJlcGxheVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInB1Ymxpc2hSZXBsYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHB1Ymxpc2hSZXBsYXlfMS5wdWJsaXNoUmVwbGF5OyB9IH0pO1xudmFyIHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmFjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJhY2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJhY2VfMS5yYWNlOyB9IH0pO1xudmFyIHJhY2VXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2VXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmFjZVdpdGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJhY2VXaXRoXzEucmFjZVdpdGg7IH0gfSk7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlZHVjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZHVjZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVkdWNlXzEucmVkdWNlOyB9IH0pO1xudmFyIHJlcGVhdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXBlYXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlcGVhdF8xLnJlcGVhdDsgfSB9KTtcbnZhciByZXBlYXRXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXBlYXRXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXBlYXRXaGVuXzEucmVwZWF0V2hlbjsgfSB9KTtcbnZhciByZXRyeV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJldHJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXRyeV8xLnJldHJ5OyB9IH0pO1xudmFyIHJldHJ5V2hlbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVdoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXRyeVdoZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJldHJ5V2hlbl8xLnJldHJ5V2hlbjsgfSB9KTtcbnZhciByZWZDb3VudF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZkNvdW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZWZDb3VudF8xLnJlZkNvdW50OyB9IH0pO1xudmFyIHNhbXBsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzYW1wbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNhbXBsZV8xLnNhbXBsZTsgfSB9KTtcbnZhciBzYW1wbGVUaW1lXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZVRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzYW1wbGVUaW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzYW1wbGVUaW1lXzEuc2FtcGxlVGltZTsgfSB9KTtcbnZhciBzY2FuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzY2FuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FuXzEuc2NhbjsgfSB9KTtcbnZhciBzZXF1ZW5jZUVxdWFsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NlcXVlbmNlRXF1YWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzZXF1ZW5jZUVxdWFsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXF1ZW5jZUVxdWFsXzEuc2VxdWVuY2VFcXVhbDsgfSB9KTtcbnZhciBzaGFyZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNoYXJlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzaGFyZV8xLnNoYXJlOyB9IH0pO1xudmFyIHNoYXJlUmVwbGF5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2hhcmVSZXBsYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlUmVwbGF5XzEuc2hhcmVSZXBsYXk7IH0gfSk7XG52YXIgc2luZ2xlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNpbmdsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2luZ2xlXzEuc2luZ2xlOyB9IH0pO1xudmFyIHNraXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNraXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBfMS5za2lwOyB9IH0pO1xudmFyIHNraXBMYXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2tpcExhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBMYXN0XzEuc2tpcExhc3Q7IH0gfSk7XG52YXIgc2tpcFVudGlsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNraXBVbnRpbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2tpcFVudGlsXzEuc2tpcFVudGlsOyB9IH0pO1xudmFyIHNraXBXaGlsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwV2hpbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJza2lwV2hpbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBXaGlsZV8xLnNraXBXaGlsZTsgfSB9KTtcbnZhciBzdGFydFdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RhcnRXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGFydFdpdGhfMS5zdGFydFdpdGg7IH0gfSk7XG52YXIgc3Vic2NyaWJlT25fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3Vic2NyaWJlT25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdWJzY3JpYmVPblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlT25fMS5zdWJzY3JpYmVPbjsgfSB9KTtcbnZhciBzd2l0Y2hBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoQWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3dpdGNoQWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzd2l0Y2hBbGxfMS5zd2l0Y2hBbGw7IH0gfSk7XG52YXIgc3dpdGNoTWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN3aXRjaE1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3dpdGNoTWFwXzEuc3dpdGNoTWFwOyB9IH0pO1xudmFyIHN3aXRjaE1hcFRvXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFRvXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3dpdGNoTWFwVG9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN3aXRjaE1hcFRvXzEuc3dpdGNoTWFwVG87IH0gfSk7XG52YXIgc3dpdGNoU2Nhbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hTY2FuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3dpdGNoU2NhblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3dpdGNoU2Nhbl8xLnN3aXRjaFNjYW47IH0gfSk7XG52YXIgdGFrZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90YWtlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGFrZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZV8xLnRha2U7IH0gfSk7XG52YXIgdGFrZUxhc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZUxhc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0YWtlTGFzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZUxhc3RfMS50YWtlTGFzdDsgfSB9KTtcbnZhciB0YWtlVW50aWxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVVudGlsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGFrZVVudGlsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0YWtlVW50aWxfMS50YWtlVW50aWw7IH0gfSk7XG52YXIgdGFrZVdoaWxlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRha2VXaGlsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZVdoaWxlXzEudGFrZVdoaWxlOyB9IH0pO1xudmFyIHRhcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90YXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0YXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRhcF8xLnRhcDsgfSB9KTtcbnZhciB0aHJvdHRsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRocm90dGxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aHJvdHRsZV8xLnRocm90dGxlOyB9IH0pO1xudmFyIHRocm90dGxlVGltZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0aHJvdHRsZVRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRocm90dGxlVGltZV8xLnRocm90dGxlVGltZTsgfSB9KTtcbnZhciB0aHJvd0lmRW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGhyb3dJZkVtcHR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aHJvd0lmRW1wdHlfMS50aHJvd0lmRW1wdHk7IH0gfSk7XG52YXIgdGltZUludGVydmFsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVJbnRlcnZhbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGltZUludGVydmFsXzEudGltZUludGVydmFsOyB9IH0pO1xudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVvdXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVvdXRfMS50aW1lb3V0OyB9IH0pO1xudmFyIHRpbWVvdXRXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGltZW91dFdpdGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVvdXRXaXRoXzEudGltZW91dFdpdGg7IH0gfSk7XG52YXIgdGltZXN0YW1wXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVzdGFtcFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVzdGFtcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGltZXN0YW1wXzEudGltZXN0YW1wOyB9IH0pO1xudmFyIHRvQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdG9BcnJheVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvQXJyYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvQXJyYXlfMS50b0FycmF5OyB9IH0pO1xudmFyIHdpbmRvd18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvd18xLndpbmRvdzsgfSB9KTtcbnZhciB3aW5kb3dDb3VudF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dDb3VudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpbmRvd0NvdW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dDb3VudF8xLndpbmRvd0NvdW50OyB9IH0pO1xudmFyIHdpbmRvd1RpbWVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VGltZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpbmRvd1RpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvd1RpbWVfMS53aW5kb3dUaW1lOyB9IH0pO1xudmFyIHdpbmRvd1RvZ2dsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dUb2dnbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dUb2dnbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvd1RvZ2dsZV8xLndpbmRvd1RvZ2dsZTsgfSB9KTtcbnZhciB3aW5kb3dXaGVuXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1doZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dXaGVuXzEud2luZG93V2hlbjsgfSB9KTtcbnZhciB3aXRoTGF0ZXN0RnJvbV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aXRoTGF0ZXN0RnJvbVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpdGhMYXRlc3RGcm9tXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aXRoTGF0ZXN0RnJvbV8xLndpdGhMYXRlc3RGcm9tOyB9IH0pO1xudmFyIHppcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy96aXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ6aXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHppcF8xLnppcDsgfSB9KTtcbnZhciB6aXBBbGxfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwQWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiemlwQWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB6aXBBbGxfMS56aXBBbGw7IH0gfSk7XG52YXIgemlwV2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy96aXBXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiemlwV2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gemlwV2l0aF8xLnppcFdpdGg7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgZW51bSBFQ2xhaW1UeXBlIHtcbiAgICBTSUdORURfQ09OVEVOVCA9IDEwMDAsXG4gICAgQ09NUEFOWV9JTkZPID0gMjAwMCxcbiAgICBWQUxJREFUT1JTID0gMjAwMSxcbiAgICBVU0VSUyA9IDIwMDJcbn0iLCJleHBvcnQgZW51bSBFRElEQWNjZXNzTGV2ZWwge1xuICAgIE5PTkU9IFwiMFwiLFxuICAgIE1BTkFHRU1FTlRfS0VZPSBcIjFcIixcbiAgICBBQ1RJT05fS0VZID0gXCIyXCIsXG4gICAgQ0xBSU1fU0lHTkVSX0tFWSA9IFwiM1wiLFxuICAgIEVOQ1JZUFRJT05fS0VZID0gXCI0XCJcbn0iLCJleHBvcnQgZW51bSBFTWltZVR5cGUge1xuICAgIEFBQyA9IFwiYXVkaW8vYWFjXCIsXG4gICAgQUJXID0gXCJhcHBsaWNhdGlvbi94LWFiaXdvcmRcIixcbiAgICBBUkMgPSBcImFwcGxpY2F0aW9uL3gtZnJlZWFyY1wiLFxuICAgIEFWSSA9IFwidmlkZW8veC1tc3ZpZGVvXCIsXG4gICAgQVpXID0gXCJhcHBsaWNhdGlvbi92bmQuYW1hem9uLmVib29rXCIsXG4gICAgQklOID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcbiAgICBCTVAgPSBcImltYWdlL2JtcFwiLFxuICAgIEJaID0gXCJhcHBsaWNhdGlvbi94LWJ6aXBcIixcbiAgICBCWjIgPSBcImFwcGxpY2F0aW9uL3gtYnppcDJcIixcbiAgICBDU0ggPSBcImFwcGxpY2F0aW9uL3gtY3NoXCIsXG4gICAgQ1NTID0gXCJ0ZXh0L2Nzc1wiLFxuICAgIENTViA9IFwidGV4dC9jc3ZcIixcbiAgICBET0MgPSBcImFwcGxpY2F0aW9uL21zd29yZFwiLFxuICAgIERPQ1ggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsXG4gICAgRU9UID0gXCJhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdFwiLFxuICAgIEVQVUIgPSBcImFwcGxpY2F0aW9uL2VwdWIremlwXCIsXG4gICAgR1ogPSBcImFwcGxpY2F0aW9uL2d6aXBcIixcbiAgICBHSUYgPSBcImltYWdlL2dpZlwiLFxuICAgIEhUTSA9IFwidGV4dC9odG1sXCIsXG4gICAgSFRNTCA9IFwidGV4dC9odG1sXCIsXG4gICAgSUNPID0gXCJpbWFnZS92bmQubWljcm9zb2Z0Lmljb25cIixcbiAgICBJQ1MgPSBcInRleHQvY2FsZW5kYXJcIixcbiAgICBKQVIgPSBcImFwcGxpY2F0aW9uL2phdmEtYXJjaGl2ZVwiLFxuICAgIEpQRUcgPSBcIi5qcGdcIixcbiAgICBKUyA9IFwidGV4dC9qYXZhc2NyaXB0XCIsXG4gICAgSlNPTiA9IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIEpTT05MRCA9IFwiYXBwbGljYXRpb24vbGQranNvblwiLFxuICAgIE1JRCA9IFwiLm1pZGlcIixcbiAgICBNSlMgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIE1QMyA9IFwiYXVkaW8vbXBlZ1wiLFxuICAgIE1QRUcgPSBcInZpZGVvL21wZWdcIixcbiAgICBNUEtHID0gXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUuaW5zdGFsbGVyK3htbFwiLFxuICAgIE9EUCA9IFwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb25cIixcbiAgICBPRFMgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXRcIixcbiAgICBPRFQgPSBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dFwiLFxuICAgIE9HQSA9IFwiYXVkaW8vb2dnXCIsXG4gICAgT0dWID0gXCJ2aWRlby9vZ2dcIixcbiAgICBPR1ggPSBcImFwcGxpY2F0aW9uL29nZ1wiLFxuICAgIE9QVVMgPSBcImF1ZGlvL29wdXNcIixcbiAgICBPVEYgPSBcImZvbnQvb3RmXCIsXG4gICAgUE5HID0gXCJpbWFnZS9wbmdcIixcbiAgICBQREYgPSBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgIFBIUCA9IFwiYXBwbGljYXRpb24vcGhwXCIsXG4gICAgUFBUID0gXCJhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludFwiLFxuICAgIFBQVFggPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb25cIixcbiAgICBSQVIgPSBcImFwcGxpY2F0aW9uL3ZuZC5yYXJcIixcbiAgICBSVEYgPSBcImFwcGxpY2F0aW9uL3J0ZlwiLFxuICAgIFNIID0gXCJhcHBsaWNhdGlvbi94LXNoXCIsXG4gICAgU1ZHID0gXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgU1dGID0gXCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiLFxuICAgIFRBUiA9IFwiYXBwbGljYXRpb24veC10YXJcIixcbiAgICBUSUYgPSBcImltYWdlL3RpZmZcIixcbiAgICBUSUZGID0gXCJpbWFnZS90aWZmXCIsXG4gICAgVFMgPSBcInZpZGVvL21wMnRcIixcbiAgICBUVEYgPSBcImZvbnQvdHRmXCIsXG4gICAgVFhUID0gXCJ0ZXh0L3BsYWluXCIsXG4gICAgVVJJID0gXCJ0ZXh0L3gtdXJpXCIsXG4gICAgVlNEID0gXCJhcHBsaWNhdGlvbi92bmQudmlzaW9cIixcbiAgICBXQVYgPSBcImF1ZGlvL3dhdlwiLFxuICAgIFdFQkEgPSBcImF1ZGlvL3dlYm1cIixcbiAgICBXRUJNID0gXCJ2aWRlby93ZWJtXCIsXG4gICAgV0VCUCA9IFwiaW1hZ2Uvd2VicFwiLFxuICAgIFdPRkYgPSBcImZvbnQvd29mZlwiLFxuICAgIFdPRkYyID0gXCJmb250L3dvZmYyXCIsXG4gICAgWEhUTUwgPSBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFxuICAgIFhMUyA9IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCIsXG4gICAgWExTWCA9IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRcIixcbiAgICBYTUwgPSBcIlhNTFwiLFxuICAgIFhVTCA9IFwiYXBwbGljYXRpb24vdm5kLm1vemlsbGEueHVsK3htbFwiLFxuICAgIFpJUCA9IFwiYXBwbGljYXRpb24vemlwXCIsXG4gICAgR1AzID0gXCJ2aWRlby8zZ3BwXCIsXG4gICAgRzIzID0gXCJ2aWRlby8zZ3BwMlwiLFxuICAgIFo3ID0gXCJhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWRcIlxufSIsImV4cG9ydCBlbnVtIEVQcm9vZm1lRGF0YVB1cnBvc2Uge1xuICAgIEFHRV9WRVJJRklDQVRJT04gPSBcIkFHRV9WRVJJRklDQVRJT05cIixcbiAgICBLWUNfVkVSSUZJQ0FUSU9OID0gXCJLWUNfVkVSSUZJQ0FUSU9OXCIsXG4gICAgQUNDRVNTX0NPTlRST0wgPSBcIkFDQ0VTU19DT05UUk9MXCIsXG4gICAgT05MSU5FX1ZFUklGSUNBVElPTiA9IFwiT05MSU5FX1ZFUklGSUNBVElPTlwiLFxuICAgIElERU5USUZJQ0FUSU9OID0gXCJJREVOVElGSUNBVElPTlwiXG59IiwiZXhwb3J0IGVudW0gRVByb29mbWVEYXRhU3RvcmFnZSB7XG4gICAgREFUQUJBU0UgPSBcIkRBVEFCQVNFXCIsXG4gICAgQ0VSVElGSUNBVEUgPSBcIkNFUlRJRklDQVRFXCIsXG4gICAgTk9UX1NUT1JFRCA9IFwiTk9UX1NUT1JFRFwiXG59IiwiZXhwb3J0IGVudW0gRVNpZ25hdHVyZVR5cGVzIHtcbiAgICBFQ0RTQSA9IFwiRUNEU0FcIixcbiAgICBSU0EgPSBcIlJTQVwiLFxuICAgIEhNQUMgPSBcIkhNQUNcIlxufSIsImltcG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EZXRhaWxzXCI7XG5pbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcblxuLyoqXG4gKiBDaGVjayBpZiBhIGNoYW5uZWxJZCBpcyB2YWxpZCBhbmQgZXhpc3RzXG4gKiBAcGFyYW0gY2hhbm5lbElkXG4gKiBAcGFyYW0gY29ubmVjdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkQ2hhbm5lbElkKGNoYW5uZWxJZDogc3RyaW5nLCBjb25uZWN0aW9uczogSUNvbm5lY3Rpb25EZXRhaWxzW10pOiBib29sZWFuIHtcbiAgICAvLyBDaGVjayBpZiBjaGFubmVsSWQgaXMgcHJlc2VudCBpbiBjb25uZWN0aW9uc1xuICAgIC8vIENoZWNrIGlmIGNoYW5uZWxJZCBpcyBub3QgYWxyZWFkeSBjb25uZWN0ZWRcbiAgICBjb25zdCBob3N0cyA9IGNvbm5lY3Rpb25zLmZpbHRlcigoY2xpZW50OiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC51dWlkID09PSBjaGFubmVsSWQgJiYgY2xpZW50LmNoYW5uZWwgPT09IG51bGwgJiYgY2xpZW50Lmhvc3QgPT09IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaG9zdHMubGVuZ3RoID09PSAxO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBSVEMgcGVlcmNvbm5lY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJUQ0Nvbm5lY3Rpb25Db25maWcodHlwZTogc3RyaW5nLCB0dXJuRXhwaXJhdGlvbjogbnVtYmVyLCB0dXJuU2VjcmV0OiBzdHJpbmcsIHR1cm5Vcmw6IHN0cmluZyk6IFJUQ0NvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0IHRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICBjb25zdCB1c2VybmFtZSA9IGAke3RpbWUgKyB0dXJuRXhwaXJhdGlvbn06JHt0eXBlfWA7XG4gICAgY29uc3QgY3JlZGVudGlhbCA9IGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMVwiLCB0dXJuU2VjcmV0KS51cGRhdGUodXNlcm5hbWUudG9TdHJpbmcoKSkuZGlnZXN0KFwiYmFzZTY0XCIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGljZUNhbmRpZGF0ZVBvb2xTaXplOiA1LFxuICAgICAgICBpY2VTZXJ2ZXJzOiBbe1xuICAgICAgICAgICAgdXJsczogW3R1cm5VcmxdLFxuICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICB9XSxcbiAgICB9IGFzIFJUQ0NvbmZpZ3VyYXRpb247XG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IElWYWxpZGF0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvdmFsaWRhdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbE9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHRcIjtcbmltcG9ydCB7IFByb29mbWVVdGlscyB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHNcIjtcbmltcG9ydCB7IElDaGFsbGVuZ2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoYWxsZW5nZS5pbnRlcmZhY2VcIjtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFByb29mbWVVdGlsc1Byb3ZpZGVyIHtcblxuICAgIHByb29mbWVVdGlscyA9IG5ldyBQcm9vZm1lVXRpbHMoKTtcblxuXHRhc3luYyBpc1ZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmw6IHN0cmluZywgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgdHJ1c3RlZERpZHM6IHN0cmluZ1tdLCBjaGVja1VzZXJOb25jZTogYm9vbGVhbiwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkPzogYm9vbGVhbik6IFByb21pc2U8SVZhbGlkYXRlZENyZWRlbnRpYWxzIHwgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQ+ICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5pc1ZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdCwgd2ViM1VybCwgcmVxdWVzdGVkQ3JlZGVudGlhbHMsIHRydXN0ZWREaWRzLCBjaGVja1VzZXJOb25jZSwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkKTtcbiAgICB9XG5cbiAgICBnZXRTaWduYXR1cmUobWVzc2FnZTogYW55LCBwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdldFNpZ25hdHVyZShtZXNzYWdlLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbE9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nICB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb29mbWVVdGlscy5zaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBhc3luYyBpc1ZhbGlkUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybDogc3RyaW5nLCBjbGFpbWhvbGRlckFiaTogYW55KTogUHJvbWlzZTxib29sZWFuPiAge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9vZm1lVXRpbHMuaXNWYWxpZFJlcXVlc3RlZENyZWRlbnRpYWxzKHJlcXVlc3RlZENyZWRlbnRpYWxzLCB3ZWIzVXJsLCBjbGFpbWhvbGRlckFiaSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDaGFsbGVuZ2UocHVibGljS2V5OiBzdHJpbmcsIGRpZDogc3RyaW5nLCBob3N0OiBzdHJpbmcsIHByaXZhdGVLZXk6IHN0cmluZyk6IElDaGFsbGVuZ2UgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvb2ZtZVV0aWxzLmdlbmVyYXRlQ2hhbGxlbmdlKHB1YmxpY0tleSwgZGlkLCBob3N0LCBwcml2YXRlS2V5KTtcbiAgICB9XG59IiwiaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcbmltcG9ydCB7IEVESURBY2Nlc3NMZXZlbCB9IGZyb20gXCIuL2VudW1zL2RpZEFjY2Vzc0xldmVsLmVudW1cIjtcbmltcG9ydCB7IEVTaWduYXR1cmVUeXBlcyB9IGZyb20gXCIuL2VudW1zL3NpZ25hdHVyZVR5cGVzLmVudW1cIjtcbmltcG9ydCB7IElDaGFsbGVuZ2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoYWxsZW5nZS5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDaGVja2VkRGlkIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jaGVja2VkRGlkLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSVNpZ25lZENvbnRlbnQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NsYWltcy9zaWduZWRDb250ZW50LmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSUNyZWRlbnRpYWwgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWwuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJQ3JlZGVudGlhbE9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUHJvb2YgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3Byb29mLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0XCI7XG5pbXBvcnQgeyBJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3ZhbGlkYXRlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgY2xhaW1Ib2xkZXJBYmkgfSBmcm9tIFwiLi9zbWFydGNvbnRyYWN0cy9jbGFpbUhvbGRlckFiaVwiO1xuXG5leHBvcnQgY2xhc3MgUHJvb2ZtZVV0aWxzIHtcblxuICAgIGFzeW5jIGlzVmFsaWRDcmVkZW50aWFscyhcbiAgICAgICAgY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsXG4gICAgICAgIHdlYjNVcmw6IHN0cmluZyxcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyxcbiAgICAgICAgdHJ1c3RlZERpZHM6IHN0cmluZ1tdLFxuICAgICAgICBjaGVja1VzZXJOb25jZTogYm9vbGVhbixcbiAgICAgICAgbGl2ZW5lc3NDaGVja1JlcXVpcmVkPzogYm9vbGVhblxuICAgICk6IFByb21pc2U8SVZhbGlkYXRlZENyZWRlbnRpYWxzIHwgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQ+IHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2hlY2tSZXN1bHQgPSB0aGlzLnJlcXVlc3RlZENyZWRlbnRpYWxzQ29ycmVjdChjcmVkZW50aWFsT2JqZWN0LCByZXF1ZXN0ZWRDcmVkZW50aWFscyk7XG4gICAgICAgIGlmICghcmVxdWVzdGVkQ2hlY2tSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmVxdWVzdGVkQ2hlY2tSZXN1bHQuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFsT2JqZWN0O1xuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENoZWNrUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2hlY2tDcmVkZW50aWFscyhjcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsLCBjaGVja1VzZXJOb25jZSwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkKTtcbiAgICAgICAgLy8gSWYgdGhlIFwibm9ybWFsXCIgY2hlY2sgd2FzIG5vdCB2YWxpZCwgZG9uJ3QgY2hlY2sgdGhlIHRydXN0ZWQgcGFydGllcyBidXQgcmV0dXJuIHRoZSByZXN1bHRcbiAgICAgICAgaWYgKCFyZXN1bHQudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRydXN0ZWQgYWRkcmVzc2VzIGFyZSBhZGRyZXNzZWRcbiAgICAgICAgZm9yIChjb25zdCBkaWQgb2YgdHJ1c3RlZERpZHMpIHtcbiAgICAgICAgICAgIGlmICghd2ViMy51dGlscy5pc0FkZHJlc3MoZGlkKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRydXN0ZWQgcGFydHkgZGlkICR7ZGlkfSBpcyBOT1QgYSB2YWxpZCBhZGRyZXNzIGFuZCBpcyByZW1vdmVkLmApO1xuICAgICAgICAgICAgICAgIHRydXN0ZWREaWRzID0gdHJ1c3RlZERpZHMuZmlsdGVyKHggPT4geCAhPT0gZGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHJ1c3RlZERpZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tlZERpZCA9IFtdO1xuICAgICAgICAgICAgbGV0IHZhbGlkQ3JlZGVudGlhbHNBbW91bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGNyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRDcmVkZW50aWFscyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbcHJvdmlkZXIsXSBvZiBPYmplY3QuZW50cmllcyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2N1cnJlbnRDcmVkZW50aWFsS2V5LCBjcmVkZW50aWFsXSBvZiBPYmplY3QuZW50cmllcyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHNBbW91bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID0gY3JlZGVudGlhbC5pc3N1ZXIuaWQuc3BsaXQoXCI6XCIpWzJdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW52YWxpZEtleVByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vVHJ1c3RlZENsYWltRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRpZCBvZiB0cnVzdGVkRGlkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRFbnRyeSA9IGNoZWNrZWREaWQuZmluZCh4ID0+IHguaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzID09PSBpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MgJiYgeC5kaWQgPT09IGRpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xhaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbSA9IGZvdW5kRW50cnkuY2xhaW07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltID0gYXdhaXQgdGhpcy5nZXRDbGFpbXMoaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzLCBkaWQsIHdlYjMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgZGlkLCBjbGFpbSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9UcnVzdGVkQ2xhaW1Gb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYWltRXhwaXJhdGlvbkRhdGUgPSBuZXcgRGF0ZShjbGFpbS5leHBpcmF0aW9uRGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltRXhwaXJhdGlvbkRhdGUgPiBuZXcgRGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzID0gY2xhaW0ua2V5cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMgPSBjbGFpbUFsbG93ZWRDcmVkZW50aWFsS2V5cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJDcmVkZW50aWFsS2V5ID0gYCR7Y3JlZGVudGlhbC5wcm92aWRlcn1fJHtjdXJyZW50Q3JlZGVudGlhbEtleX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzLmluY2x1ZGVzKHByb3ZpZGVyQ3JlZGVudGlhbEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRLZXlQcm92aWRlciA9IHByb3ZpZGVyQ3JlZGVudGlhbEtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW52YWxpZEtleVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZENyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDE0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDbGFpbSBleHBpcmVkLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9UcnVzdGVkQ2xhaW1Gb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDEzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBObyBjbGFpbXMgZm91bmQgdG8gY2hlY2suIENoZWNrZWQgZGlkcyAke3RydXN0ZWREaWRzfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGludmFsaWRLZXlQcm92aWRlciAmJiAhZm91bmRWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUcmllZCB0byB2YWxpZGF0ZSBhdHRyaWJ1dGUgJHtpbnZhbGlkS2V5UHJvdmlkZXJ9IGJ1dCBwcm92aWRlciB3YXMgbm90IGFsbG93ZWQgdG8gaXNzdWUuIEFsbG93ZWQgYXR0cmlidXRlczogJHtpbnZhbGlkS2V5UHJvdmlkZXJBbGxvd2VkS2V5cy5qb2luKFwiLCBcIil9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWxpZENyZWRlbnRpYWxzQW1vdW50ID09PSBjcmVkZW50aWFsc0Ftb3VudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzIGFzIGFueSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVmFsaWQgY3JlZGVudGlhbFwiLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRDaGVja1Jlc3VsdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbHNcIixcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29kZTogMTAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyB0cnVzdGVkIHBhcnRpZXMgdG8gY2hlY2suXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXN5bmMgY2hlY2tDcmVkZW50aWFscyhjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCwgd2ViM1VybDogc3RyaW5nLCBjaGVja1VzZXJOb25jZTogYm9vbGVhbiwgbGl2ZW5lc3NDaGVja1JlcXVpcmVkPzogYm9vbGVhbik6IFByb21pc2U8SVZhbGlkYXRlZENyZWRlbnRpYWxzPiB7XG4gICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgc3RyaW5naWZpZWRcbiAgICAgICAgaWYgKHR5cGVvZiBjcmVkZW50aWFsT2JqZWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjcmVkZW50aWFsT2JqZWN0ID0gSlNPTi5wYXJzZShjcmVkZW50aWFsT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVkZW50aWFsT2JqZWN0ID0gdGhpcy5yZU9yZGVyQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsT2JqZWN0KTtcbiAgICAgICAgY29uc3Qgd2ViM05vZGUgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgY29uc3QgY2hlY2tlZERpZDogSUNoZWNrZWREaWRbXSA9IFtdO1xuICAgICAgICBsZXQgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9IDA7XG4gICAgICAgIGxldCBjcmVkZW50aWFsc0Ftb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IGludmFsaWRDcmVkZW50aWFscyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtwcm92aWRlcixdIG9mIE9iamVjdC5lbnRyaWVzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgdXNlciBjcmVkZW50aWFscyAoZm9yIGVhY2ggcHJvdmlkZXIpOiBSZWNvbnN0cnVjdCBpdCBzbyB3ZSBvbmx5IGhhdmUgdGhlIGNyZWRlbnRpYWxPYmplY3Qgb2YgXG4gICAgICAgICAgICAvLyB0aGF0IHNwZWNpZmljIHByb3ZpZGVyICh3aGljaCB3ZSBnZW5lcmF0ZWQgdGhlIHNpZ25hdHVyZSBvdmVyKVxuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbE9iamVjdFdpdGhvdXRQcm9vZlNpZ25hdHVyZTogSUNyZWRlbnRpYWxPYmplY3QgPSB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgW3Byb3ZpZGVyXTogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGNyZWRlbnRpYWxPYmplY3RXaXRob3V0UHJvb2ZTaWduYXR1cmUuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLnNpZ25hdHVyZTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJSZWNvdmVyZWRBZGRyZXNzID0gd2ViM05vZGUuZXRoLmFjY291bnRzLnJlY292ZXIoSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbE9iamVjdFdpdGhvdXRQcm9vZlNpZ25hdHVyZSksIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLnNpZ25hdHVyZSk7XG4gICAgICAgICAgICBjb25zdCBjb3JyZWN0VXNlclNpZ25hdHVyZSA9IHRoaXMudXNlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZi5ob2xkZXIsIHVzZXJSZWNvdmVyZWRBZGRyZXNzKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIChJZGVudGl0eSBBcHApIGRpZCBzaWduIGl0IGNvcnJlY3Q7IG90aGVyd2hpc2Ugc2tpcCB0aGlzIHByb3ZpZGVyXG4gICAgICAgICAgICBpZiAoY29ycmVjdFVzZXJTaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFssIGNyZWRlbnRpYWxdIG9mIE9iamVjdC5lbnRyaWVzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsc0Ftb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWRlbnRpYWwudmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkluY29ycmVjdCBjcmVkZW50aWFsIHZlcnNpb24uIFJlbmV3IHlvdXIgY3JlZGVudGlhbHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGUgPSBuZXcgRGF0ZShjcmVkZW50aWFsLmV4cGlyYXRpb25EYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+IGNyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91ciBjcmVkZW50aWFsIGV4cGlyZWQgb24gJHtjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVuID0gbmV3IERhdGUoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2Yubm9uY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzRGlmZmVyZW5jZSA9IHRoaXMuY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2Uobm93LCB0aGVuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbnV0ZXNEaWZmZXJlbmNlID4gNSAmJiBjaGVja1VzZXJOb25jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vbmNlIHRvbyBvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VudCBjcmVkZW50aWFscyB3ZXJlIHByb3ZpZGVkIGJ5IHRoZSBkaWQgb2YgdGhlIGNyZWRlbnRpYWwgKGNoZWNrIHRoZSBzaWduYXR1cmUgb2YgZWFjaCBjcmVkZW50aWFsKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0SXNzdWVyU2lnbmF0dXJlID0gdGhpcy5pc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoY3JlZGVudGlhbCwgd2ViM05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ycmVjdElzc3VlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZXZlcnkgY3JlZGVudGlhbCBESUQgY29udHJhY3QgaWYgdGhlIGhvbGRlciBiZWxvbmdzIHRvIHRoYXQgRElEXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc3N1ZXJIb2xkZXJLZXkgPSBjcmVkZW50aWFsLnByb29mLmhvbGRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyA9IGNyZWRlbnRpYWwuaXNzdWVyLmlkLnNwbGl0KFwiOlwiKVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlckNvcnJlY3REaWQgPSBhd2FpdCB0aGlzLmRpZENvbnRyYWN0S2V5V3Jvbmcod2ViM05vZGUsIHdlYjNVcmwsIGNsYWltSG9sZGVyQWJpLCBpc3N1ZXJIb2xkZXJLZXksIGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWVyQ29ycmVjdERpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJIb2xkZXJLZXkgPSBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZi5ob2xkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRpZENvbnRyYWN0QWRkcmVzcyA9IGNyZWRlbnRpYWwuaWQuc3BsaXQoXCI6XCIpWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJDb3JyZWN0RGlkID0gYXdhaXQgdGhpcy5kaWRDb250cmFjdEtleVdyb25nKHdlYjNOb2RlLCB3ZWIzVXJsLCBjbGFpbUhvbGRlckFiaSwgdXNlckhvbGRlcktleSwgdXNlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJDb3JyZWN0RGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGl2ZW5lc3NDaGVja1JlcXVpcmVkIHx8IChjcmVkZW50aWFsLnZlcmlmaWVkID09PSB1bmRlZmluZWQgfHwgY3JlZGVudGlhbC52ZXJpZmllZCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkQ3JlZGVudGlhbHNBbW91bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDE1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTGl2ZW5lc3MgY2hlY2sgcmVxdWlyZWQgYnV0IGNyZWRlbnRpYWwgbm90IHZlcmlmaWVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZGlkIGluY29ycmVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIklzc3VlciBkaWQgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJc3N1ZXIgc2lnbmF0dXJlIGluY29ycmVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWw6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlVzZXIgc2lnbmF0dXJlIGluY29ycmVjdFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgdXNlciBzaWduYXR1cmUgaXMgaW5jb3JyZWN0IHdlIGRvbid0IHZhbGlkYXRlIGFueSBtb3JlIHdoZW4gdGhlcmUgaXMgMSBwcm92aWRlciBzbyBjcmVkZW50aWFsc2Ftb3VudCBzaG91bGQgYmUgbW9yZSB0aGFuIDBcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxzQW1vdW50ID4gMCAmJiB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID09PSBjcmVkZW50aWFsc0Ftb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscyBhcyBhbnksXG4gICAgICAgICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlZhbGlkIGNyZWRlbnRpYWxcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29kZTogMSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbFwiLFxuICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFsc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICB1c2VyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGhvbGRlcktleTogYW55LCByZWNvdmVyZWRBZGRyZXNzOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGhvbGRlcktleSAhPT0gcmVjb3ZlcmVkQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVXNlciBzaWduYXR1cmUgb2YgY3JlZGVudGlhbCAke2hvbGRlcktleX0gZG9lcyBub3QgbWF0Y2ggcmVjb3ZlcmVkQWRkcmVzcyAke3JlY292ZXJlZEFkZHJlc3N9YCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBpc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoY3JlZGVudGlhbDogYW55LCB3ZWIzTm9kZTogYW55KSB7XG4gICAgICAgIGNvbnN0IGlzc3VlclNpZ25hdHVyZSA9IGNyZWRlbnRpYWwucHJvb2Yuc2lnbmF0dXJlO1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsSXNzdWVyS2V5ID0gY3JlZGVudGlhbC5wcm9vZi5ob2xkZXI7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWwpKTtcbiAgICAgICAgZGVsZXRlIGNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YucHJvb2Yuc2lnbmF0dXJlO1xuICAgICAgICBjb25zdCByZWNvdmVyZWRBZGRyZXNzID0gd2ViM05vZGUuZXRoLmFjY291bnRzLnJlY292ZXIoSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbFdpdGhvdXRJc3N1ZXJQcm9vZiksIGlzc3VlclNpZ25hdHVyZSk7XG4gICAgICAgIGlmIChjcmVkZW50aWFsSXNzdWVyS2V5ICE9PSByZWNvdmVyZWRBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBJc3N1ZXIgc2lnbmF0dXJlIG9mIGNyZWRlbnRpYWwgJHtjcmVkZW50aWFsSXNzdWVyS2V5fSBkb2VzIG5vdCBtYXRjaCByZWNvdmVyZWRBZGRyZXNzICR7cmVjb3ZlcmVkQWRkcmVzc31gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhc3luYyBkaWRDb250cmFjdEtleVdyb25nKHdlYjNOb2RlOiBhbnksIHdlYjNVcmw6IHN0cmluZywgY2xhaW1Ib2xkZXJBYmk6IGFueSwgaG9sZGVyS2V5OiBzdHJpbmcsIGRpZEFkZHJlc3M6IHN0cmluZywgY2hlY2tlZERpZDogSUNoZWNrZWREaWRbXSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBmb3VuZEVudHJ5ID0gY2hlY2tlZERpZC5maW5kKHggPT4geC5kaWQgPT0gZGlkQWRkcmVzcyAmJiB4LmhvbGRlcktleSA9PT0gaG9sZGVyS2V5KTtcbiAgICAgICAgaWYgKGZvdW5kRW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZEVudHJ5LnJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGtub3duQWRkcmVzc2VzID0gW107XG5cbiAgICAgICAgICAgIGlmIChkaWRBZGRyZXNzID09PSBob2xkZXJLZXkpIHtcbiAgICAgICAgICAgICAgICBjaGVja2VkRGlkLnB1c2goeyBkaWQ6IGRpZEFkZHJlc3MsIGhvbGRlcktleSwgcmVzdWx0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGEzS2V5ID0gdGhpcy5nZXRTaGEzS2V5KGhvbGRlcktleSwgd2ViM05vZGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3ZWIzVXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlNYW5hZ2VyQ29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoXG4gICAgICAgICAgICAgICAgICAgIGNsYWltSG9sZGVyQWJpLFxuICAgICAgICAgICAgICAgICAgICBkaWRBZGRyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMua25vd25BZGRyZXNzZXNDb250YWlucyhrbm93bkFkZHJlc3Nlcywgc2hhM0tleSwgZGlkQWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5UHVycG9zZSA9IHBhcnNlSW50KGF3YWl0IHRoaXMuZ2V0S2V5UHVycG9zZShrZXlNYW5hZ2VyQ29udHJhY3QsIHNoYTNLZXkpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGtleVB1cnBvc2UgMSA9IE93bmVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleVB1cnBvc2UgMiA9IEFjdGlvbiBLZXlcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAzID0gQ2xhaW0gU2lnbmVyIEtleSBcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSA0ID0gRW5jcnlwdGlvbiBrZXlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVB1cnBvc2UgPT09IDAgfHwga2V5UHVycG9zZSA+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGRpZDogZGlkQWRkcmVzcywgaG9sZGVyS2V5LCByZXN1bHQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGtub3duQWRkcmVzc2VzLnB1c2goeyBzaGEzS2V5LCBkaWRBZGRyZXNzIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGVja2VkRGlkLnB1c2goeyBkaWQ6IGRpZEFkZHJlc3MsIGhvbGRlcktleSwgcmVzdWx0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAga25vd25BZGRyZXNzZXNDb250YWlucyhsaXN0OiBhbnlbXSwgc2hhM0tleTogc3RyaW5nLCBkaWRDb250cmFjdEFkZHJlc3M6IHN0cmluZykge1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RJdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgICAgIGlmIChsaXN0SXRlbS5zaGEzS2V5ID09PSBzaGEzS2V5ICYmIGxpc3RJdGVtLmRpZENvbnRyYWN0QWRkcmVzcyA9PT0gZGlkQ29udHJhY3RBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTaGEzS2V5KGtleTogc3RyaW5nLCB3ZWIzOiBXZWIzKSB7XG4gICAgICAgIHJldHVybiB3ZWIzLnV0aWxzLmtlY2NhazI1NihrZXkpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldEtleVB1cnBvc2Uoa2V5TWFuYWdlckNvbnRyYWN0OiBhbnksIGtleTogc3RyaW5nKTogUHJvbWlzZTxFRElEQWNjZXNzTGV2ZWw+IHtcbiAgICAgICAgLy8gR2V0IEV2ZW50c1xuICAgICAgICBpZiAoa2V5TWFuYWdlckNvbnRyYWN0Lm9wdGlvbnMuYWRkcmVzcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBrZXlNYW5hZ2VyQ29udHJhY3QubWV0aG9kcy5nZXRLZXlQdXJwb3NlKGtleSkuY2FsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2UoZHQyOiBEYXRlLCBkdDE6IERhdGUpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGlmZiA9IChkdDIuZ2V0VGltZSgpIC0gZHQxLmdldFRpbWUoKSkgLyAxMDAwO1xuICAgICAgICBkaWZmIC89IDYwO1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoTWF0aC5yb3VuZChkaWZmKSk7XG4gICAgfVxuXG4gICAgcmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QpOiBJQ3JlZGVudGlhbE9iamVjdCB7XG4gICAgICAgIC8vIExvb3AgZXZlcnkgcHJvdmlkZXJcbiAgICAgICAgZm9yIChjb25zdCBwcm92aWRlciBvZiBPYmplY3Qua2V5cyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbEtleXMgPSBbXTtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgY3JlZGVudGlhbCBrZXlzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNyZWRlbnRpYWxLZXkgb2YgT2JqZWN0LmtleXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbEtleXMucHVzaChjcmVkZW50aWFsS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWRlbnRpYWxLZXlzLnNvcnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlT3JkZXJlZENyZWRlbnRpYWxzID0ge307XG4gICAgICAgICAgICAvLyBMb29wIHRoZSBjcmVkZW50aWFsIGtleXMgb25lIGJ5IG9uZSBhbmQgcmUgb3JkZXIgdGhlIGNyZWRlbnRpYWxzIHNvIGl0cyBhbHBoYWJldGljYWxcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3JlZGVudGlhbEtleSBvZiBjcmVkZW50aWFsS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlT3JkZXJlZENyZWRlbnRpYWwgPSB0aGlzLnJlT3JkZXJDcmVkZW50aWFsKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxLZXldKTtcbiAgICAgICAgICAgICAgICByZU9yZGVyZWRDcmVkZW50aWFsc1tjcmVkZW50aWFsS2V5XSA9IHJlT3JkZXJlZENyZWRlbnRpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZiA9IHRoaXMucmVPcmRlckNyZWRlbnRpYWxQcm9vZihjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZik7XG4gICAgICAgICAgICBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSA9IHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogcmVPcmRlcmVkQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgcHJvb2Y6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWxPYmplY3Q7XG4gICAgfVxuXG4gICAgcmVPcmRlckNyZWRlbnRpYWwoY3JlZGVudGlhbDogSUNyZWRlbnRpYWwpOiBJQ3JlZGVudGlhbCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRPYmplY3RBbHBoYWJldGljYWxseShjcmVkZW50aWFsKTtcbiAgICB9XG5cbiAgICBzb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkob2JqZWN0OiBhbnkpOiBhbnkge1xuICAgICAgICBjb25zdCBzb3J0ZWRPYmogPSB7fTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICAgICAga2V5cy5zb3J0KChrZXkxLCBrZXkyKSA9PiB7XG4gICAgICAgICAgICBrZXkxID0ga2V5MS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAga2V5MiA9IGtleTIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmIChrZXkxIDwga2V5Mikge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkxID4ga2V5Mikge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgaXQncyB0aGUgc2FtZVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggaW4ga2V5cykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5lc3RlZCBvYmplY3RzLCB3ZSBuZWVkIHRvIGRpZyBkZWVwZXJcbiAgICAgICAgICAgIGlmIChvYmplY3Rba2V5XSAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT0gXCJvYmplY3RcIiAmJiAhKG9iamVjdFtrZXldIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgc29ydGVkT2JqW2tleV0gPSB0aGlzLnNvcnRPYmplY3RBbHBoYWJldGljYWxseShvYmplY3Rba2V5XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvcnRlZE9ialtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc29ydGVkT2JqO1xuICAgIH1cblxuICAgIHJlT3JkZXJDcmVkZW50aWFsUHJvb2YocHJvb2Y6IElQcm9vZik6IElQcm9vZiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob2xkZXI6IHByb29mLmhvbGRlcixcbiAgICAgICAgICAgIG5vbmNlOiBwcm9vZi5ub25jZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogcHJvb2Yuc2lnbmF0dXJlLFxuICAgICAgICAgICAgdHlwZTogcHJvb2YudHlwZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2lnbiAoY2FuIGJlIGFueXRoaW5nLCBvYmplY3QsIHN0cmluZywgZXRjLikgXG4gICAgICogQHBhcmFtIHByaXZhdGVLZXkgLSBUaGUgcHJpdmF0ZSBrZXkgdG8gc2lnbiB3aXRoXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0U2lnbmF0dXJlKG1lc3NhZ2U6IGFueSwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBzdHJpbmdpZmllZFxuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLnJlT3JkZXJPYmplY3QobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMuc2lnbihKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgcHJpdmF0ZUtleSkuc2lnbmF0dXJlXG4gICAgfVxuXG4gICAgcmVPcmRlck9iamVjdChjb250ZW50VG9TaWduOiBJU2lnbmVkQ29udGVudCk6IElTaWduZWRDb250ZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KGNvbnRlbnRUb1NpZ24pO1xuICAgIH1cblxuICAgIHNpZ25DcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LCBwcml2YXRlS2V5OiBzdHJpbmcpIHtcbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBzdHJpbmdpZmllZFxuICAgICAgICBpZiAodHlwZW9mIGNyZWRlbnRpYWxPYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxPYmplY3QgPSBKU09OLnBhcnNlKGNyZWRlbnRpYWxPYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3QgPSB0aGlzLnJlT3JkZXJDcmVkZW50aWFsT2JqZWN0KGNyZWRlbnRpYWxPYmplY3QpO1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcbiAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmFjY291bnRzLnNpZ24oSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbE9iamVjdCksIHByaXZhdGVLZXkpLnNpZ25hdHVyZVxuICAgIH1cblxuICAgIGFzeW5jIGdldENsYWltcyhjbGFpbVR5cGU6IG51bWJlciB8IHN0cmluZywgY29udHJhY3RBZGRyZXNzOiBzdHJpbmcsIHdlYjM6IFdlYjMpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChjbGFpbUhvbGRlckFiaSwgY29udHJhY3RBZGRyZXNzKTtcbiAgICAgICAgY29uc3QgY2xhaW1JZHMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmdldENsYWltSWRzQnlUeXBlKGNsYWltVHlwZSkuY2FsbCgpO1xuICAgICAgICBpZiAoY2xhaW1JZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIHJhdyBjbGFpbXNcbiAgICAgICAgICAgICAgICBjb25zdCByYXdDbGFpbXMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmdldENsYWltKGNsYWltSWRzW2NsYWltSWRzLmxlbmd0aCAtIDFdKS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGRhdGFcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRDbGFpbXMgPSBKU09OLnBhcnNlKHdlYjMudXRpbHMudG9Bc2NpaShyYXdDbGFpbXMuZGF0YSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFyc2VkQ2xhaW1zKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcnJlY3QoY3JlZGVudGlhbHM6IElDcmVkZW50aWFsT2JqZWN0LCByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzKTogSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQge1xuICAgICAgICBjb25zdCBjaGVja1Jlc3VsdDogSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgPSB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWlzc2luZ0tleXM6IFtdXG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9vcCBhbGwgcmVxdWVzdGVkIGNyZWRlbnRpYWxzXG4gICAgICAgIGZvciAoY29uc3QgcmVxdWVzdGVkQ3JlZGVudGlhbCBvZiByZXF1ZXN0ZWRDcmVkZW50aWFscy5jcmVkZW50aWFscykge1xuICAgICAgICAgICAgbGV0IGlzSW5zaWRlTWluaW11bVJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocmVxdWVzdGVkQ3JlZGVudGlhbHMubWluaW11bVJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgaXNJbnNpZGVNaW5pbXVtUmVxdWlyZWQgPSAhIXJlcXVlc3RlZENyZWRlbnRpYWxzLm1pbmltdW1SZXF1aXJlZC5kYXRhLmZpbmQoeCA9PiB4ID09PSByZXF1ZXN0ZWRDcmVkZW50aWFsLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBvbmx5IHJlcXVpcmVkIGtleXNcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0ZWRDcmVkZW50aWFsLnJlcXVpcmVkICYmICFpc0luc2lkZU1pbmltdW1SZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyID0gW3JlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIHJlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFscy5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHNbcmVxdWVzdGVkQ3JlZGVudGlhbC5rZXldXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGdvb2QsIGZvdW5kIVxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQuc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjaGVja1Jlc3VsdC5taXNzaW5nS2V5cy5wdXNoKHJlcXVlc3RlZENyZWRlbnRpYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgbWluaW11bSByZXF1aXJlZCBhbW91bnQgaGFzIGJlZW4gcmVhY2hlZFxuICAgICAgICBpZiAocmVxdWVzdGVkQ3JlZGVudGlhbHMubWluaW11bVJlcXVpcmVkKSB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBPYmplY3Qua2V5cyhjcmVkZW50aWFscy5jcmVkZW50aWFscyk7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsS2V5cyA9IHJlcXVlc3RlZENyZWRlbnRpYWxzLm1pbmltdW1SZXF1aXJlZC5kYXRhO1xuICAgICAgICAgICAgbGV0IGZvdW5kQ3JlZGVudGlhbHMgPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm92aWRlciBvZiBwcm92aWRlcnMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNyZWRlbnRpYWxLZXkgb2YgY3JlZGVudGlhbEtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFscy5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHNbY3JlZGVudGlhbEtleV1cbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgZ29vZCwgZm91bmQhXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZENyZWRlbnRpYWxzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm91bmRDcmVkZW50aWFscyA8IHJlcXVlc3RlZENyZWRlbnRpYWxzLm1pbmltdW1SZXF1aXJlZC5hbW91bnQpIHtcbiAgICAgICAgICAgICAgICBjaGVja1Jlc3VsdC5zdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQubWlzc2luZ01lc3NhZ2UgPSBgQ2hlY2sgdGhlIG1pbmltdW1SZXF1aXJlZCBhcnJheS4gRm91bmQgJHtmb3VuZENyZWRlbnRpYWxzfSBpdGVtcyBhbmQgcmVxdWlyZWQgYW1vdW50ICR7cmVxdWVzdGVkQ3JlZGVudGlhbHMubWluaW11bVJlcXVpcmVkLmFtb3VudH1gXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrUmVzdWx0O1xuICAgIH1cblxuICAgIHJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZShtZXNzYWdlOiBzdHJpbmcsIHNpZ25hdHVyZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMucmVjb3ZlcihtZXNzYWdlLCBzaWduYXR1cmUpO1xuICAgIH1cblxuICAgIHNpZ25SZXF1ZXN0ZWRDcmVkZW50aWFscyhyZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzLCBkaWQ6IHN0cmluZywgcHJpdmF0ZUtleTogc3RyaW5nKTogSVJlcXVlc3RlZENyZWRlbnRpYWxzIHtcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHMucHJvb2YgPSB7XG4gICAgICAgICAgICBob2xkZXI6IGRpZCxcbiAgICAgICAgICAgIG5vbmNlOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdHlwZTogRVNpZ25hdHVyZVR5cGVzLkVDRFNBXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUocmVxdWVzdGVkQ3JlZGVudGlhbHMsIHByaXZhdGVLZXkpO1xuICAgICAgICByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZi5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICAgIHJldHVybiByZXF1ZXN0ZWRDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICBhc3luYyBpc1ZhbGlkUmVxdWVzdGVkQ3JlZGVudGlhbHMocmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscywgd2ViM1VybDogc3RyaW5nLCBjbGFpbWhvbGRlckFiaTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGlmIChyZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZikge1xuICAgICAgICAgICAgLy8gTWFrZSBhIGNvcHkgc2luY2Ugd2UgZGVsZXRlIHRoZSBzaWduYXR1cmUgb2YgdGhlIG9iamVjdDsgb3RoZXJ3aGlzZSB3ZSBjYW4gb25seSBjaGVjayBpdCBvbmNlIGFuZCBpdCdzIGdvbmUgZm9yZXZlclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkQ3JlZGVudGlhbHNDb3B5OiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcXVlc3RlZENyZWRlbnRpYWxzKSk7XG4gICAgICAgICAgICBkZWxldGUgcmVxdWVzdGVkQ3JlZGVudGlhbHNDb3B5LnByb29mLnNpZ25hdHVyZTtcbiAgICAgICAgICAgIC8vIFJlY292ZXIgdGhlIHB1YmxpYyBrZXlcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHRoaXMucmVjb3ZlckFkZHJlc3NGcm9tU2lnbmF0dXJlKEpTT04uc3RyaW5naWZ5KHJlcXVlc3RlZENyZWRlbnRpYWxzQ29weSksIHJlcXVlc3RlZENyZWRlbnRpYWxzLnByb29mLnNpZ25hdHVyZSk7XG4gICAgICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgICAgICBjb25zdCBkaWQgPSByZXF1ZXN0ZWRDcmVkZW50aWFscy5wcm9vZi5ob2xkZXI7XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgYWNjZXNzIGxldmVsIG9uIHRoZSBjb250cmFjdFxuICAgICAgICAgICAgY29uc3QgY2xhaW1Ib2xkZXJDb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChjbGFpbWhvbGRlckFiaSwgZGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSA9IHRoaXMuZ2V0U2hhM0tleShwdWJsaWNLZXksIHdlYjMpO1xuICAgICAgICAgICAgY29uc3Qga2V5UHVycG9zZSA9IGF3YWl0IHRoaXMuZ2V0S2V5UHVycG9zZShjbGFpbUhvbGRlckNvbnRyYWN0LCBrZWNjYWsyNTZPcmdhbmlzYXRpb25LZXkpIGFzIEVESURBY2Nlc3NMZXZlbDtcbiAgICAgICAgICAgIHJldHVybiAoa2V5UHVycG9zZSA9PT0gRURJREFjY2Vzc0xldmVsLk1BTkFHRU1FTlRfS0VZIHx8IGtleVB1cnBvc2UgPT09IEVESURBY2Nlc3NMZXZlbC5BQ1RJT05fS0VZKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZXF1ZXN0ZWQgQ3JlZGVudGlhbHMgZG9lc24ndCBoYXZlIGFueSBwcm9vZiB0byBjaGVja1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGVLZXlUb1B1YmxpY0tleShwcml2YXRlS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcbiAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmFjY291bnRzLnByaXZhdGVLZXlUb0FjY291bnQocHJpdmF0ZUtleSkuYWRkcmVzcztcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNoYWxsZW5nZShwdWJsaWNLZXk6IHN0cmluZywgZGlkOiBzdHJpbmcsIGhvc3Q6IHN0cmluZywgcHJpdmF0ZUtleTogc3RyaW5nKTogSUNoYWxsZW5nZSB7XG4gICAgICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjaGFsbGVuZ2UgPSBgJHtwdWJsaWNLZXl9LSR7ZGlkfS0ke2hvc3R9LSR7dGltZXN0YW1wfWA7XG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHdlYjMuZXRoLmFjY291bnRzLnNpZ24oY2hhbGxlbmdlLCBwcml2YXRlS2V5KS5zaWduYXR1cmVcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpZCxcbiAgICAgICAgICAgIHB1YmxpY0tleSxcbiAgICAgICAgICAgIGVuZHBvaW50OiBob3N0LFxuICAgICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgICAgY2hhbGxlbmdlLFxuICAgICAgICAgICAgc2lnbmF0dXJlXG4gICAgICAgIH0gYXMgSUNoYWxsZW5nZVxuICAgIH1cbn0iLCJpbXBvcnQgKiBhcyBodHRwIGZyb20gXCJodHRwXCI7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IHJlcXVlc3QsIHNlcnZlciBhcyBXZWJTb2NrZXRTZXJ2ZXIgfSBmcm9tIFwid2Vic29ja2V0XCI7XG5pbXBvcnQgeyBnZXRSVENDb25uZWN0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL2hlbHBlcnMvc2lnbmFsSGVscGVyc1wiO1xuaW1wb3J0IHsgSUNvbm5lY3Rpb25EYXRhIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY29ubmVjdGlvbkRhdGFcIjtcbmltcG9ydCB7IElDb25uZWN0aW9uRGV0YWlscyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EZXRhaWxzXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IFdlYlJUQ0NsaWVudFYyIH0gZnJvbSBcIi4uL3dlYlJ0Y0NsaWVudFYyXCI7XG5cbmV4cG9ydCBjbGFzcyBTaWduYWxTZXJ2ZXJWMiB7XG4gICAgd3NTZXJ2ZXI6IFdlYlNvY2tldFNlcnZlcjtcbiAgICB3c1JlcXVlc3QkID0gbmV3IFN1YmplY3Q8YW55PigpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHR0cFNlcnZlclxuICAgICAqL1xuXG4gICAgcHVibGljIHN0YXJ0U2lnbmFsKFxuICAgICAgICBodHRwU2VydmVyOiBodHRwLlNlcnZlclxuICAgICk6IHZvaWQge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCB3ZWJzb2NrZXQgc2VydmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndzU2VydmVyID0gbmV3IFdlYlNvY2tldFNlcnZlcih7XG4gICAgICAgICAgICBodHRwU2VydmVyOiBodHRwU2VydmVyLFxuICAgICAgICAgICAgYXV0b0FjY2VwdENvbm5lY3Rpb25zOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2Vic29ja2V0IGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53c1NlcnZlci5vbihcInJlcXVlc3RcIiwgYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3NSZXF1ZXN0JC5uZXh0KHJlcXVlc3QpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIFVURkRhdGEgdG8gY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbFxuICAgICAqIEBwYXJhbSBtZXNzYWdlXG4gICAgICovXG4gICAgcHVibGljIHNlbmRUbyhjaGFubmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIGNoYW5uZWwuc2VuZFVURihKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBlcnJvclxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW1cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVqZWN0Q29ubmVjdGlvbihyZWFzb246IHN0cmluZywgcmVxdWVzdDogYW55KSB7XG4gICAgICAgIHJlcXVlc3QucmVqZWN0KCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkgKyBcIiBcIiArIHJlYXNvbik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkgKyBcIiBDb25uZWN0aW9uIGZyb20gcmVtb3RlQWRkcmVzcyBcIiArIHJlcXVlc3QucmVtb3RlQWRkcmVzc2VzICsgXCIgcmVqZWN0ZWQuXCIpO1xuICAgIH1cblxuICAgIGFzeW5jIHNldHVwUDJQQ29ubmVjdGlvbihcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcbiAgICAgICAgdmFsaWRTaWduOiBib29sZWFuLFxuICAgICAgICBjaGFubmVsOiBzdHJpbmcsXG4gICAgICAgIG9yaWdpbkFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgICAgIHR1cm5FeHBpcmF0aW9uOiBudW1iZXIsXG4gICAgICAgIHR1cm5Vcmw6IHN0cmluZyxcbiAgICAgICAgdHVyblNlY3JldDogc3RyaW5nLFxuICAgICAgICBzaWduYWxTZXJ2ZXI6IHN0cmluZyxcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyxcbiAgICAgICAgYWN0aW9uVHlwZTogc3RyaW5nLFxuICAgICAgICBkYXRhOiBhbnlcbiAgICApOiBQcm9taXNlPGFueT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2luY2UgYWxsIGlzIHdlbGwsIHdlIGFjY2VwdCB0aGUgY29ubmVjdGlvblxuICAgICAgICAgKiBBY2NlcHQgY29ubmVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgY29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzID0gcmVxdWVzdC5hY2NlcHQobnVsbCwgcmVxdWVzdC5vcmlnaW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtIEFjY2VwdGVkICR7cmVxdWVzdC5vcmlnaW59IHZhbGlkIHNpZ25lZCAke3ZhbGlkU2lnbn1gKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgZGVmYXVsdCB2YWx1ZXMgdXBvbiBjb25uZWN0XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uLnV1aWQgPSB1dWlkdjQoKTsgLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjbGllbnRcbiAgICAgICAgY29ubmVjdGlvbi5kaWQgPSB2YWxpZFNpZ24gPyByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmhlYWRlcnMuZGlkLnRvU3RyaW5nKCkgOiBudWxsOyAvLyBXaGVuIGF1dGhlbnRpY2F0ZWQ6IGRpZEFkZHJlc3NcbiAgICAgICAgY29ubmVjdGlvbi5wdWJsaWNLZXkgPSB2YWxpZFNpZ24gPyByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmhlYWRlcnMucHVibGlja2V5LnRvU3RyaW5nKCkgOiBudWxsOyAvLyBXaGVuIGF1dGhlbnRpY2F0ZWQ6IHB1YmxpY0tleVxuICAgICAgICBjb25uZWN0aW9uLmF1dGhlbnRpY2F0ZWQgPSB2YWxpZFNpZ247IC8vIHRydWUgb3IgZmFsc2VcbiAgICAgICAgY29ubmVjdGlvbi5jaGFubmVsID0gY2hhbm5lbDsgLy8gY29ubmVjdGlvbiBvciBjbGllbnQudXVpZCBjb25uZWN0ZWQgdG9cblxuICAgICAgICB0aGlzLnNldHVwV2Vic29ja2V0TGlzdGVuZXJzKGNvbm5lY3Rpb24pO1xuXG4gICAgICAgIC8vIEhvc3RcbiAgICAgICAgaWYgKChyZXF1ZXN0Lm9yaWdpbiA9PT0gXCJodHRwOi8vdmFsaWRhdG9yXCIgJiYgdmFsaWRTaWduICYmIGNoYW5uZWwgPT09IG51bGwpIHx8IChvcmlnaW5BbGxvd2VkICYmIGNoYW5uZWwgPT09IG51bGwpKSB7XG4gICAgICAgICAgICAvLyBjb25uZWN0aW9uIGlzIHZlcmlmaWVkIVxuICAgICAgICAgICAgY29ubmVjdGlvbi5ob3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24ub3JpZ2luID0gcmVxdWVzdC5vcmlnaW47XG4gICAgICAgICAgICBjb25zdCB3ZWJSdGNDb25maWcgPSBnZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiLCB0dXJuRXhwaXJhdGlvbiwgdHVyblNlY3JldCwgdHVyblVybCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxpYnJhcnkgLSBIb3N0IHdhaXRpbmcgZm9yIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICB0aGlzLnNlbmRUbyhjb25uZWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJob3N0XCIsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSG9zdCBpbml0aWFsaXNlZCAke2Nvbm5lY3Rpb24udXVpZH1gLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY29ubmVjdGlvbi51dWlkLFxuICAgICAgICAgICAgICAgIHNpZ25hbFNlcnZlcixcbiAgICAgICAgICAgICAgICAuLi4ocmVxdWVzdC5vcmlnaW4gPT09IFwiaHR0cDovL3ZhbGlkYXRvclwiICYmIHsgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogd2ViUnRjQ29uZmlnIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0Lm9yaWdpbiAhPT0gXCJodHRwOi8vdmFsaWRhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLndlYlJ0Y0NsaWVudCA9IG5ldyBXZWJSVENDbGllbnRWMih3ZWJSdGNDb25maWcsIHJlcXVlc3RlZENyZWRlbnRpYWxzLCBjb25uZWN0aW9uLCBhY3Rpb25UeXBlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLndlYlJ0Y0NsaWVudC5zZXR1cFBlZXJjb25uZWN0aW9uKGNvbm5lY3Rpb24udXVpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGllbnRcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBMZXQncyBmaW5kIHRoZSBob3N0IHRvIGNvbm5lY3QgdG8sIGFuZCBjb25uZWN0XG4gICAgICAgICAgICBjb25zdCBob3N0Q2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzID0gdGhpcy53c1NlcnZlci5jb25uZWN0aW9ucy5maW5kKChjb25uOiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IGNvbm4udXVpZCA9PT0gY2hhbm5lbCAmJiBjb25uLmNoYW5uZWwgPT09IG51bGwgJiYgY29ubi5ob3N0ID09PSB0cnVlKTtcbiAgICAgICAgICAgIGlmIChob3N0Q2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIC8vIExldCdzIGNvbm5lY3RcbiAgICAgICAgICAgICAgICBob3N0Q2hhbm5lbC5jaGFubmVsID0gY29ubmVjdGlvbi51dWlkO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2hhbm5lbCA9IGhvc3RDaGFubmVsLnV1aWQ7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtIENsaWVudCBjb25uZWN0aW5nIHRvICR7Y2hhbm5lbH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWJSdGNDb25maWcgPSBnZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiY2xpZW50XCIsIHR1cm5FeHBpcmF0aW9uLCB0dXJuU2VjcmV0LCB0dXJuVXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUbyhjb25uZWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDbGllbnQgaW5pdGlhbGlzZWQgJHtjb25uZWN0aW9uLnV1aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbElkOiBjaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnOiB3ZWJSdGNDb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaG9zdENoYW5uZWwub3JpZ2luICE9PSBcImh0dHA6Ly92YWxpZGF0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICBob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuc2V0Q2xpZW50Q2hhbm5lbChjb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJMaWJyYXJ5IC0gTm90IGEgY2xpZW50IG9yIGhvc3RcIik7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfVxuXG4gICAgc2V0dXBXZWJzb2NrZXRMaXN0ZW5lcnMoY29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzKTogdm9pZCB7XG4gICAgICAgIGNvbm5lY3Rpb24ub24oXCJtZXNzYWdlXCIsIGFzeW5jIChtZXNzYWdlKSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBkYXRhOiBJQ29ubmVjdGlvbkRhdGE7XG5cbiAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKFwidXRmOERhdGFcIiBpbiBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UudXRmOERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTGlicmFyeSAtIFdlYnNvY2tldCBjb25uZWN0aW9uIGludmFsaWQgSlNPTlwiLCBlKTtcbiAgICAgICAgICAgICAgICBkYXRhID0geyB0eXBlOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSB9ID0gZGF0YTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaW5jZSB2YWxpZGF0aW9uIGhhcHBlbnMgb24gY29ubmVjdGlvbiwgd2Ugb25seSBleHBlY3QgMyB0eXBlIG9mIG1lc3NhZ2VzXG4gICAgICAgICAgICAgKiBJbiB0aGlzIG9yZGVyOlxuICAgICAgICAgICAgICogLSBPZmZlclxuICAgICAgICAgICAgICogICBUaGUgaG9zdCBzZW5kcyBhbiBvZmZlciB0byB0aGUgY2xpZW50LlxuICAgICAgICAgICAgICogLSBBbnN3ZXJcbiAgICAgICAgICAgICAqICAgVGhlIENsaWVudCByZXNwb25zZSB3aXRoIGFuIEFuc3dlclxuICAgICAgICAgICAgICogLSBDYW5kaWRhdGVzXG4gICAgICAgICAgICAgKiAgIENsaWVudC9Ib3N0IHNoYXJlIGNhbmRpZGF0ZXNcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBXaGVuIG9mZmVyIGFuZCBhbnN3ZXIgaXMgc2VuZCwgdGhleSBjYW4gc3RhcnQgdG8gY29ubmVjdCBvdmVyIHdlYlJ0Yy5cbiAgICAgICAgICAgICAqIEV4dHJhIGNhbmRpZGF0ZXMgaGVscHMgdG8gY29ubmVjdCBmYXN0ZXIvYmV0dGVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZlclwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHNlbmRzIGFuIG9mZmVyIHRvIHRoZSBob3N0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb24uaG9zdCAmJiBjb25uZWN0aW9uLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHMgPSB0aGlzLndzU2VydmVyLmNvbm5lY3Rpb25zLmZpbmQoKGNvbm46IElDb25uZWN0aW9uRGV0YWlscykgPT4gY29ubi5jaGFubmVsID09PSBjb25uZWN0aW9uLnV1aWQgJiYgY29ubi5ob3N0ID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0Q2hhbm5lbC5vcmlnaW4gPT09IFwiaHR0cDovL3ZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oaG9zdENoYW5uZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsaWVudCBzaGFyZWQgYW4gb2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaG9zdENoYW5uZWwud2ViUnRjQ2xpZW50LnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBob3N0Q2hhbm5lbC53ZWJSdGNDbGllbnQuc2VuZEFuc3dlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgaG9zdCByZXNwb25kcyB3aXRoIGFuIGFuc3dlciBmb3IgdGhlIGNsaWVudC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uaG9zdCAmJiBjb25uZWN0aW9uLmNoYW5uZWwgJiYgY29ubmVjdGlvbi5vcmlnaW4gPT09IFwiaHR0cDovL3ZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHMgPSB0aGlzLndzU2VydmVyLmNvbm5lY3Rpb25zLmZpbmQoKGNvbm46IElDb25uZWN0aW9uRGV0YWlscykgPT4gY29ubi5jaGFubmVsID09PSBjb25uZWN0aW9uLnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oY2xpZW50Q2hhbm5lbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsaWVudCBzaGFyZWQgYW4gYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5kaWRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gSG9zdCBhbmQgQ2xpZW50IHNoYXJlIGNhbmRpZGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbDogSUNvbm5lY3Rpb25EZXRhaWxzID0gdGhpcy53c1NlcnZlci5jb25uZWN0aW9ucy5maW5kKChjb25uOiBJQ29ubmVjdGlvbkRldGFpbHMpID0+IGNvbm4uY2hhbm5lbCA9PT0gY29ubmVjdGlvbi51dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLm9yaWdpbiA9PT0gXCJodHRwOi8vdmFsaWRhdG9yXCIgfHwgY29ubmVjdGlvbi5vcmlnaW4gPT09IFwiaHR0cDovL3ZhbGlkYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVG8oY2hhbm5lbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNhbmRpZGF0ZSBzaGFyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwud2ViUnRjQ2xpZW50LmFkZENhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBhbHNvIGxpc3RlbiB0byB3ZWJzb2NrZXQgZXZlbnRzIG9uIHRoZSBob3N0IHNvIHdlIGRvbid0IHdhbnQgdG8gdGhyb3cgYW55IGVycm9yIGhlcmU7IGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBpcyBiZWluZyBtYWRlIG9uIHRoZSBhcHBsaWNhdGlvbiBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNvbm5lY3Rpb24gaXMgY2xvc2VkXG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uLm9uKFwiY2xvc2VcIiwgKHJlYXNvbkNvZGUsIGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTGlicmFyeSAtICR7KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSl9IC0gUGVlciAke2Nvbm5lY3Rpb24ucmVtb3RlQWRkcmVzc30gZGlzY29ubmVjdGVkLCBSZWFzb24gJHtyZWFzb25Db2RlfSwgZGVzY3JpcHRpb24gJHtkZXNjcmlwdGlvbn1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgV2ViU29ja2V0IGZyb20gXCJ3c1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBJUlRDQ29ubmVjdGlvbkNvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcnRjQ29ubmVjdGlvbkNvbmZpZy5pbnRlcmZhY2VcIjtcbmltcG9ydCAqIGFzIGh0dHAgZnJvbSBcImh0dHBcIjtcblxuZXhwb3J0IGNsYXNzIFNpZ25hbGluZ1NlcnZlciB7XG4gICAgd3NTZXJ2ZXI6IGFueTtcbiAgICBydGNDb25uZWN0aW9uQ29uZmlnOiBJUlRDQ29ubmVjdGlvbkNvbmZpZzsgXG5cbiAgICAvKipcbiAgICAgKiBXZWIgUlRDIGNvbm5lY3Rpb24gY29uZmlnXG4gICAgICogQHBhcmFtIHJ0Y0Nvbm5lY3Rpb25Db25maWcgXG4gICAgICovXG4gICAgc2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhydGNDb25uZWN0aW9uQ29uZmlnOiBJUlRDQ29ubmVjdGlvbkNvbmZpZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcgPSBydGNDb25uZWN0aW9uQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBSVEMgcGVlcmNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBnZXRSVENDb25uZWN0aW9uQ29uZmlnKHR5cGU6IHN0cmluZyk6IFJUQ0NvbmZpZ3VyYXRpb24ge1xuICAgICAgICBpZiAodGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5FbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBleHBpcmF0aW9uID0gdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5FeHBpcmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBgJHt0aW1lICsgZXhwaXJhdGlvbn06JHt0eXBlfWA7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGExXCIsIHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuU2VjcmV0KS51cGRhdGUodXNlcm5hbWUudG9TdHJpbmcoKSkuZGlnZXN0KFwiYmFzZTY0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpY2VDYW5kaWRhdGVQb29sU2l6ZTogNSxcbiAgICAgICAgICAgICAgICBpY2VTZXJ2ZXJzOiBbe1xuICAgICAgICAgICAgICAgICAgICB1cmxzOiBbdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5VcmxdLFxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0gYXMgUlRDQ29uZmlndXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcuc3R1bkVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWNlU2VydmVyczogW3tcbiAgICAgICAgICAgICAgICAgICAgdXJsczogW3RoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy5zdHVuVXJsXSxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0gYXMgUlRDQ29uZmlndXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJ2ZXIgXG4gICAgICovXG4gICAgcHVibGljIHN0YXJ0U2lnbmFsKHNlcnZlcjogaHR0cC5TZXJ2ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy53c1NlcnZlciA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgc2VydmVyIH0pO1xuXG4gICAgICAgIGNvbnN0IHNlbmRUbyA9IChkYXRhY2hhbm5lbDogUlRDRGF0YUNoYW5uZWwsIG1lc3NhZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgZGF0YWNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53c1NlcnZlci5vbihcImNvbm5lY3Rpb25cIiwgKHdzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHdzLnV1aWQgPSB1dWlkdjQoKTsgLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjbGllbnRcbiAgICAgICAgICAgIHdzLmRpZCA9IG51bGw7IC8vIFdoZW4gYXV0aGVudGljYXRlZDogcHVibGljS2V5IG9yIGRpZEFkZHJlc3NcbiAgICAgICAgICAgIHdzLmhvc3QgPSBmYWxzZTsgLy8gSXMgYSBob3N0LCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICB3cy5hdXRoZW50aWNhdGVkID0gZmFsc2U7IC8vIHRydWUgb3IgZmFsc2VcbiAgICAgICAgICAgIHdzLmNvbm5lY3RlZCA9IG51bGw7IC8vIG51bGwgb3IgY2xpZW50LnV1aWQgY29ubmVjdGVkIHRvXG5cbiAgICAgICAgICAgIHdzLm9uKFwiZXJyb3JcIiwgKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRUNPTk5SRVNFVCBjYW4gZ2V0IHRocm93biB3aGVuIHRoZSBjbGllbnQgZGlzY29ubmVjdHMuIFRoaXMgYXBwbGljYXRpb25cbiAgICAgICAgICAgICAgICAvLyB3aWxsIGNyYXNoLiBJZ25vcmUgdGhpcyBlcnJvci5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3cy5vbihcIm1lc3NhZ2VcIiwgKG1zZzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGE6IGFueTtcblxuICAgICAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShtc2cpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIHRva2VuLCBob3N0LCBvZmZlciwgYW5zd2VyLCBjYW5kaWRhdGUgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYSB1c2VyIHRyaWVzIHRvIGxvZ2luXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB1c2VybmFtZSBpcyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvdWxkIG5vdCB2YWxpZGF0ZSB0b2tlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuYXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQVVUSFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5ob3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIb3N0IGluaXRpYWxpc2VkIFwiICsgd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IHRoaXMuZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhcImhvc3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdCB0byBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0cyA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC51dWlkID09PSBob3N0ICYmIGNsaWVudC5jb25uZWN0ZWQgPT09IG51bGwgJiYgY2xpZW50Lmhvc3QgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDbGllbnQgY29ubmVjdGVkIFwiICsgd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGVkIHRvIFwiICsgaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiY2xpZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5rIHRoZW0gdG9nZXRoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy5jb25uZWN0ZWQgPSBob3N0c1swXS51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RzWzBdLmNvbm5lY3RlZCA9IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3QgY29ubmVjdCB0byBcIiArIGhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2ZmZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCBleGlzdHMgdGhlbiBzZW5kIGhpbSBvZmZlciBkZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwgJiYgdGhpcy53c1NlcnZlci5jbGllbnRzLnNpemUgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb28gc29vbi4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgQ2xpZW50IHJlc3BvbnNlIHRvIGFuIG9mZmVyIHdpdGggYW4gYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RzT2ZmZXIgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0c09mZmVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNPZmZlclswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9vIHNvb24uLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5kaWRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCByZXNwb25zZSB0byBhbiBvZmZlciB3aXRoIGFuIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdzLmNvbm5lY3RlZCAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FuZGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYW5kaWRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRvbyBzb29uLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVhdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudHMgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLnV1aWQgPSB1dWlkdjQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oY2xpZW50c1swXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBsZWZ0IG9uIHJlY2VpdmUgbGVhdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRzWzBdLmNvbm5lY3RlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuY29ubmVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MudXVpZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vdCBjb25uZWN0ZWQgdG8gaG9zdC9jbGllbnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29tbWFuZCBub3QgZm91bmQ6IFwiICsgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd3Mub24oXCJjbG9zZVwiLCAod3NBcmc6IGFueSwgcmVxdWVzdDogYW55LCBjbGllbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3c0FyZy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRzID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnRBcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnRBcmcuY29ubmVjdGVkID09PSB3c0FyZy51dWlkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhjbGllbnRzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQgb24gd2Vic29ja2V0IGNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50c1swXS5jb25uZWN0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdzQXJnLmNvbm5lY3RlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBzZW5kIGltbWVkaWF0ZWx5IGEgZmVlZGJhY2sgdG8gdGhlIGluY29taW5nIGNvbm5lY3Rpb25cbiAgICAgICAgICAgIHdzLnNlbmQoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJXZWxsIGhlbGxvIHRoZXJlLCBJIGFtIHRoZSBTaWduYWxpbmcgU2VydmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFiaUl0ZW0gfSBmcm9tIFwid2ViMy11dGlscy90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgY2xhaW1Ib2xkZXJBYmk6IEFiaUl0ZW1bXSA9IFtcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldEtleVB1cnBvc2VcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfdHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiYWRkS2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldENsYWltSWRzQnlUeXBlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwicmVtb3ZlQ2xhaW1cIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9pZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2FwcHJvdmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImFwcHJvdmVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcInJlbW92ZUtleVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5c0J5UHVycG9zZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3NjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2lzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3NpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3VyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJhZGRDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl90b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3ZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImV4ZWN1dGVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJrZXlIYXNQdXJwb3NlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbVJlcXVlc3RlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltUmVtb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltQ2hhbmdlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiRXhlY3V0aW9uRmFpbGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiS2V5QWRkZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJLZXlSZW1vdmVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidG9cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJFeGVjdXRpb25SZXF1ZXN0ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkV4ZWN1dGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFwcHJvdmVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJBcHByb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9XG5dO1xuIiwiaW1wb3J0IHsgQWJpSXRlbSB9IGZyb20gXCJ3ZWIzLXV0aWxzL3R5cGVzXCI7XG5leHBvcnQgY29uc3QgSWRlbnRpdHkgPSB7XG4gICAgYWJpOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEtleVB1cnBvc2VcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJwdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0S2V5XCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiYWRkS2V5XCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldENsYWltSWRzQnlUeXBlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1JZHNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwicmVtb3ZlQ2xhaW1cIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3N0clwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9vZmZzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9sZW5ndGhcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEJ5dGVzXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9hcHByb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJhcHByb3ZlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJyZW1vdmVLZXlcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX3B1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImdldEtleXNCeVB1cnBvc2VcIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5c1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN0YXRlTXV0YWJpbGl0eVwiOiBcInZpZXdcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9pc3N1ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl91cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiYWRkQ2xhaW1cIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRlXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0Q2xhaW1cIixcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5SGFzUHVycG9zZVwiLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJ2aWV3XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zdHJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX29mZnNldFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2xlbmd0aFwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0U3RyaW5nXCIsXG4gICAgICAgICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic3RhdGVNdXRhYmlsaXR5XCI6IFwidmlld1wiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZbXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zY2hlbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2lzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzW11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfc2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiX2RhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJfdXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIl9zaWdTaXplc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2W11cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhU2l6ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpU2l6ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NltdXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJzdGF0ZU11dGFiaWxpdHlcIjogXCJub25wYXlhYmxlXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbVJlcXVlc3RlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNsYWltUmVtb3ZlZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDbGFpbUNoYW5nZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ0b1wiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFeGVjdXRpb25GYWlsZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIktleUFkZGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImtleVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJLZXlSZW1vdmVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXhlY3V0aW9uUmVxdWVzdGVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidG9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXhlY3V0ZWRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICAgICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiYXBwcm92ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFwcHJvdmVkXCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgICAgIH1cbiAgICBdIGFzIEFiaUl0ZW1bXSxcbiAgICBkYXRhOiBcIjYwODA2MDQwNTIzNDgwMTU2MjAwMDAxMTU3NjAwMDgwZmQ1YjUwNjA0MDUxNjIwMDMzMzMzODAzODA2MjAwMzMzMzgzMzk4MTAxODA2MDQwNTI4MTAxOTA4MDgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDYwMjAwMTgwNTE4MjAxOTI5MTkwNjAyMDAxODA1MTgyMDE5MjkxOTA2MDIwMDE4MDUxODIwMTkyOTE5MDUwNTA1MDYwMDA4MDYwMDA4MDYwMDA4MDMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDkwNTA4MDYwMDE2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTgxNjAwMDE5MTY5MDU1NTA2MDAxODA2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTgxOTA1NTUwNjAwMTgwNjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE4MTkwNTU1MDYwMDI2MDAwNjAwMTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA4MTkwODA2MDAxODE1NDAxODA4MjU1ODA5MTUwNTA5MDYwMDE4MjAzOTA2MDAwNTI2MDIwNjAwMDIwMDE2MDAwOTA5MTkyOTA5MTkwOTE1MDkwNjAwMDE5MTY5MDU1NTA2MDAxODA2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0ODI2MDAwMTkxNjdmNDgwMDAwYmIxZWRhZDhjYTE0NzAzODFjYzMzNGIxOTE3ZmJkNTFjNjUzMWYzYTYyM2VhOGUwZWM3ZTM4YTZlOTYwNDA1MTYwNDA1MTgwOTEwMzkwYTQ1MDYwMDA5MzUwNjAwMDkyNTA2MDAwOTE1MDYwMDA5MDUwNWI4ZDUxODExMDE1NjIwMDA3YmE1NzhiODE4MTUxODExMDE1MTU2MjAwMDIwZjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxOGU4MjgxNTE4MTEwMTUxNTYyMDAwMjI4NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE2MDQwNTE4MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE4MjgxNTI2MDIwMDE5MjUwNTA1MDYwNDA1MTgwOTEwMzkwMjA5NDUwNjBjMDYwNDA1MTkwODEwMTYwNDA1MjgwOGY4MzgxNTE4MTEwMTUxNTYyMDAwMmE2NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4MTUyNjAyMDAxOGU4MzgxNTE4MTEwMTUxNTYyMDAwMmM0NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4MTUyNjAyMDAxOGQ4MzgxNTE4MTEwMTUxNTYyMDAwMmUyNTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjgxNTI2MDIwMDE2MjAwMDMzYjhkODc4Yzg2ODE1MTgxMTAxNTE1NjIwMDAzMWM1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYyMDAwN2NlNjQwMTAwMDAwMDAwMDI2NDAxMDAwMDAwMDA5MDA0NTY1YjgxNTI2MDIwMDE2MjAwMDM3NDhjODU4Yjg2ODE1MTgxMTAxNTE1NjIwMDAzNTU1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYyMDAwN2NlNjQwMTAwMDAwMDAwMDI2NDAxMDAwMDAwMDA5MDA0NTY1YjgxNTI2MDIwMDE2MjAwMDNhZDhiODY4YTg2ODE1MTgxMTAxNTE1NjIwMDAzOGU1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTYyMDAwOGRhNjQwMTAwMDAwMDAwMDI2NDAxMDAwMDAwMDA5MDA0NTY1YjgxNTI1MDYwMDQ2MDAwODc2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDA4MjAxNTE4MTYwMDAwMTU1NjAyMDgyMDE1MTgxNjAwMTAxNTU2MDQwODIwMTUxODE2MDAyMDE2MDAwNjEwMTAwMGE4MTU0ODE3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYwMjE5MTY5MDgzNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYwMjE3OTA1NTUwNjA2MDgyMDE1MTgxNjAwMzAxOTA4MDUxOTA2MDIwMDE5MDYyMDAwNDQ0OTI5MTkwNjIwMDA5ZWM1NjViNTA2MDgwODIwMTUxODE2MDA0MDE5MDgwNTE5MDYwMjAwMTkwNjIwMDA0NjM5MjkxOTA2MjAwMDllYzU2NWI1MDYwYTA4MjAxNTE4MTYwMDUwMTkwODA1MTkwNjAyMDAxOTA2MjAwMDQ4MjkyOTE5MDYyMDAwYTczNTY1YjUwOTA1MDUwODc4MTgxNTE4MTEwMTUxNTYyMDAwNDk1NTdmZTViOTA2MDIwMDE5MDYwMjAwMjAxNTE4NDAxOTM1MDg1ODE4MTUxODExMDE1MTU2MjAwMDRiMjU3ZmU1YjkwNjAyMDAxOTA2MDIwMDIwMTUxODMwMTkyNTA4NjgxODE1MTgxMTAxNTE1NjIwMDA0Y2Y1N2ZlNWI5MDYwMjAwMTkwNjAyMDAyMDE1MTgyMDE5MTUwNjAwNDYwMDA4NjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDA0NjAwMDg3NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDg2NjAwMDE5MTY3ZjQ2MTQ5YjE4YWEwODQ1MDJjM2YxMmJjNzVlMTllZGE4YmRhOGQxMDJiODJjY2U4NDc0Njc3YTZkMGQ1ZjQzYzU2MDA0NjAwMDhhNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDQ2MDAwOGI2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDQ2MDAwOGM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTYwMDQ2MDAwOGQ2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTYwNDA1MTgwODU4MTUyNjAyMDAxODA2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODQ4MTAzODQ1Mjg3ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjIwMDA2OGI1NzgwNjAxZjEwNjIwMDA2NWY1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYyMDAwNjhiNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MjAwMDY2ZDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODQ4MTAzODM1Mjg2ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjIwMDA3MTI1NzgwNjAxZjEwNjIwMDA2ZTY1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYyMDAwNzEyNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MjAwMDZmNDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwODQ4MTAzODI1Mjg1ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjIwMDA3OTk1NzgwNjAxZjEwNjIwMDA3NmQ1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYyMDAwNzk5NTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MjAwMDc3YjU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTc1MDUwNTA1MDUwNTA1MDUwNjA0MDUxODA5MTAzOTBhNDgwODA2MDAxMDE5MTUwNTA2MjAwMDFmNjU2NWI1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNjIwMDBiMjI1NjViNjA2MDgwNjAwMDgwODQ2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYyMDAwODA4NTc4MTYwMjAwMTYwMjA4MjAyODAzODgzMzk4MDgyMDE5MTUwNTA5MDUwNWI1MDkyNTA2MDAwOTE1MDg1OTA1MDViODQ4NjAxODExMDE1NjIwMDA4Y2Q1Nzg2ODE4MTUxODExMDE1MTU2MjAwMDgyZDU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MjAwMDg4NzU3ZmU1YjkwNjAyMDAxMDE5MDdlZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxOTE2OTA4MTYwMDAxYTkwNTM1MDgxODA2MDAxMDE5MjUwNTA4MDgwNjAwMTAxOTE1MDUwNjIwMDA4MTM1NjViODI5MzUwNTA1MDUwOTM5MjUwNTA1MDU2NWI2MDYwODA2MDYwNjAwMDgwODc5MzUwODU2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYyMDAwOTE5NTc4MTYwMjAwMTYwMjA4MjAyODAzODgzMzk4MDgyMDE5MTUwNTA5MDUwNWI1MDkyNTA2MDAwOTE1MDg2OTA1MDViODU4NzAxODExMDE1NjIwMDA5ZGU1NzgzODE4MTUxODExMDE1MTU2MjAwMDkzZTU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MjAwMDk5ODU3ZmU1YjkwNjAyMDAxMDE5MDdlZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxOTE2OTA4MTYwMDAxYTkwNTM1MDgxODA2MDAxMDE5MjUwNTA4MDgwNjAwMTAxOTE1MDUwNjIwMDA5MjQ1NjViODI5NDUwNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MjAwMGEyZjU3ODA1MTYwZmYxOTE2ODM4MDAxMTc4NTU1NjIwMDBhNjA1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MjAwMGE2MDU3OTE4MjAxNWI4MjgxMTExNTYyMDAwYTVmNTc4MjUxODI1NTkxNjAyMDAxOTE5MDYwMDEwMTkwNjIwMDBhNDI1NjViNWI1MDkwNTA2MjAwMGE2ZjkxOTA2MjAwMGFmYTU2NWI1MDkwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MjAwMGFiNjU3ODA1MTYwZmYxOTE2ODM4MDAxMTc4NTU1NjIwMDBhZTc1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MjAwMGFlNzU3OTE4MjAxNWI4MjgxMTExNTYyMDAwYWU2NTc4MjUxODI1NTkxNjAyMDAxOTE5MDYwMDEwMTkwNjIwMDBhYzk1NjViNWI1MDkwNTA2MjAwMGFmNjkxOTA2MjAwMGFmYTU2NWI1MDkwNTY1YjYyMDAwYjFmOTE5MDViODA4MjExMTU2MjAwMGIxYjU3NjAwMDgxNjAwMDkwNTU1MDYwMDEwMTYyMDAwYjAxNTY1YjUwOTA1NjViOTA1NjViNjEyODAxODA2MjAwMGIzMjYwMDAzOTYwMDBmMzAwNjA4MDYwNDA1MjYwMDQzNjEwNjEwMGQwNTc2MDAwMzU3YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0NjNmZmZmZmZmZjE2ODA2MzAzMmMxYThhMTQ2MTAwZDU1NzgwNjMxMmFhYWM3MDE0NjEwMTFhNTc4MDYzMWQzODEyNDAxNDYxMDE3NTU3ODA2MzI2MmI1NGY1MTQ2MTAxZDI1NzgwNjM0ZWVlNDI0YTE0NjEwMjU0NTc4MDYzNWQyY2ZkNjExNDYxMDI5ZDU3ODA2Mzc0NzQ0MmQzMTQ2MTAzOTM1NzgwNjM4NjI2NDJmNTE0NjEwM2U0NTc4MDYzOTAxMGY3MjYxNDYxMDQyZDU3ODA2M2IxYTM0ZTBkMTQ2MTA0YWY1NzgwNjNiNjFkMjdmNjE0NjEwNWY0NTc4MDYzYzkxMDBiY2IxNDYxMDY5YjU3ODA2M2QyMDIxNThkMTQ2MTA4NWU1NzgwNjNkZjkzMTliZTE0NjEwOGIxNTc1YjYwMDA4MGZkNWIzNDgwMTU2MTAwZTE1NzYwMDA4MGZkNWI1MDYxMDEwNDYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTA5YTc1NjViNjA0MDUxODA4MjgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAxMjY1NzYwMDA4MGZkNWI1MDYxMDE0OTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTA5Y2Y1NjViNjA0MDUxODA4NDgxNTI2MDIwMDE4MzgxNTI2MDIwMDE4MjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTM1MDUwNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDE4MTU3NjAwMDgwZmQ1YjUwNjEwMWI4NjAwNDgwMzYwMzgxMDE5MDgwODAzNTYwMDAxOTE2OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTBhM2U1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDFkZTU3NjAwMDgwZmQ1YjUwNjEwMWZkNjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTBjZjc1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA2MDIwMDI4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDI0MDU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDIyNTU2NWI1MDUwNTA1MDkwNTAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwMjYwNTc2MDAwODBmZDViNTA2MTAyODM2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEwZDY2NTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAyYTk1NzYwMDA4MGZkNWI1MDYxMDMxODYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwODAzNTkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMTFlNDU2NWI2MDQwNTE4MDgwNjAyMDAxODI4MTAzODI1MjgzODE4MTUxODE1MjYwMjAwMTkxNTA4MDUxOTA2MDIwMDE5MDgwODM4MzYwMDA1YjgzODExMDE1NjEwMzU4NTc4MDgyMDE1MTgxODQwMTUyNjAyMDgxMDE5MDUwNjEwMzNkNTY1YjUwNTA1MDUwOTA1MDkwODEwMTkwNjAxZjE2ODAxNTYxMDM4NTU3ODA4MjAzODA1MTYwMDE4MzYwMjAwMzYxMDEwMDBhMDMxOTE2ODE1MjYwMjAwMTkxNTA1YjUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAzOWY1NzYwMDA4MGZkNWI1MDYxMDNjYTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTE1MTU5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjExMmViNTY1YjYwNDA1MTgwODIxNTE1MTUxNTgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTAzZjA1NzYwMDA4MGZkNWI1MDYxMDQxMzYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTE3ZmY1NjViNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZjM1YjM0ODAxNTYxMDQzOTU3NjAwMDgwZmQ1YjUwNjEwNDU4NjAwNDgwMzYwMzgxMDE5MDgwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTE5NmE1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA2MDIwMDI4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDQ5YjU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDQ4MDU2NWI1MDUwNTA1MDkwNTAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwNGJiNTc2MDAwODBmZDViNTA2MTA1ZDY2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwODAzNTkwNjAyMDAxOTA4MjAxODAzNTkwNjAyMDAxOTA4MDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MzkyOTE5MDgxODE1MjYwMjAwMTgzODM4MDgyODQzNzgyMDE5MTUwNTA1MDUwNTA1MDkxOTI5MTkyOTA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDUwNTA1MDYxMTlkOTU2NWI2MDQwNTE4MDgyNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA2MDA1NzYwMDA4MGZkNWI1MDYxMDY4NTYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDgwMzU5MDYwMjAwMTkwODIwMTgwMzU5MDYwMjAwMTkwODA4MDYwMWYwMTYwMjA4MDkxMDQwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTM5MjkxOTA4MTgxNTI2MDIwMDE4MzgzODA4Mjg0Mzc4MjAxOTE1MDUwNTA1MDUwNTA5MTkyOTE5MjkwNTA1MDUwNjExZWZlNTY1YjYwNDA1MTgwODI4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwNmE3NTc2MDAwODBmZDViNTA2MTA2Y2E2MDA0ODAzNjAzODEwMTkwODA4MDM1NjAwMDE5MTY5MDYwMjAwMTkwOTI5MTkwNTA1MDUwNjEyMWUwNTY1YjYwNDA1MTgwODc4MTUyNjAyMDAxODY4MTUyNjAyMDAxODU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODE1MjYwMjAwMTgwNjAyMDAxODA2MDIwMDE4MDYwMjAwMTg0ODEwMzg0NTI4NzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDc1MDU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDczNTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA3N2Q1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgzNTI4NjgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDdiNjU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDc5YjU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA3ZTM1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgyNTI4NTgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDgxYzU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDgwMTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA4NDk1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDk5NTA1MDUwNTA1MDUwNTA1MDUwNTA2MDQwNTE4MDkxMDM5MGYzNWIzNDgwMTU2MTA4NmE1NzYwMDA4MGZkNWI1MDYxMDg5NzYwMDQ4MDM2MDM4MTAxOTA4MDgwMzU2MDAwMTkxNjkwNjAyMDAxOTA5MjkxOTA4MDM1OTA2MDIwMDE5MDkyOTE5MDUwNTA1MDYxMjRhYTU2NWI2MDQwNTE4MDgyMTUxNTE1MTU4MTUyNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmMzViMzQ4MDE1NjEwOGJkNTc2MDAwODBmZDViNTA2MTA5MmM2MDA0ODAzNjAzODEwMTkwODA4MDM1OTA2MDIwMDE5MDgyMDE4MDM1OTA2MDIwMDE5MDgwODA2MDFmMDE2MDIwODA5MTA0MDI2MDIwMDE2MDQwNTE5MDgxMDE2MDQwNTI4MDkzOTI5MTkwODE4MTUyNjAyMDAxODM4MzgwODI4NDM3ODIwMTkxNTA1MDUwNTA1MDUwOTE5MjkxOTI5MDgwMzU5MDYwMjAwMTkwOTI5MTkwODAzNTkwNjAyMDAxOTA5MjkxOTA1MDUwNTA2MTI1MTM1NjViNjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMDk2YzU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMDk1MTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTA5OTk1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBmMzViNjAwMDYwMDE2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0OTA1MDkxOTA1MDU2NWI2MDAwODA2MDAwNjAwMTYwMDA4NTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNTQ2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDE2MDAwODc2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0OTI1MDkyNTA5MjUwOTE5MzkwOTI1MDU2NWI2MDAwODM2MDAwMTkxNjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTYxNDE1MTUxNTYxMGFkZTU3NjA0MDUxN2YwOGMzNzlhMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjYwMDQwMTgwODA2MDIwMDE4MjgxMDM4MjUyNjAxMjgxNTI2MDIwMDE4MDdmNGI2NTc5MjA2MTZjNzI2NTYxNjQ3OTIwNjU3ODY5NzM3NDczMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjMwNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTYzMzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MTQxNTE1NjEwYzA5NTc2MTBiNmUzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAxNjEyNGFhNTY1YjE1MTU2MTBjMDg1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMjM4MTUyNjAyMDAxODA3ZjUzNjU2ZTY0NjU3MjIwNjQ2ZjY1NzMyMDZlNmY3NDIwNjg2MTc2NjUyMDZkNjE2ZTYxNjc2NTZkNjU2ZTc0MjA4MTUyNjAyMDAxN2Y2YjY1NzkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjA0MDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViNWI4MzYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTgxNjAwMDE5MTY5MDU1NTA4MjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTgxOTA1NTUwODE2MDAxNjAwMDg2NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE4MTkwNTU1MDYwMDI2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODQ5MDgwNjAwMTgxNTQwMTgwODI1NTgwOTE1MDUwOTA2MDAxODIwMzkwNjAwMDUyNjAyMDYwMDAyMDAxNjAwMDkwOTE5MjkwOTE5MDkxNTA5MDYwMDAxOTE2OTA1NTUwODE4Mzg1NjAwMDE5MTY3ZjQ4MDAwMGJiMWVkYWQ4Y2ExNDcwMzgxY2MzMzRiMTkxN2ZiZDUxYzY1MzFmM2E2MjNlYThlMGVjN2UzOGE2ZTk2MDQwNTE2MDQwNTE4MDkxMDM5MGE0NjAwMTkwNTA5MzkyNTA1MDUwNTY1YjYwNjA2MDA1NjAwMDgzODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDgwNTQ4MDYwMjAwMjYwMjAwMTYwNDA1MTkwODEwMTYwNDA1MjgwOTI5MTkwODE4MTUyNjAyMDAxODI4MDU0ODAxNTYxMGQ1YTU3NjAyMDAyODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ2MDAwMTkxNjgxNTI2MDIwMDE5MDYwMDEwMTkwODA4MzExNjEwZDQyNTc1YjUwNTA1MDUwNTA5MDUwOTE5MDUwNTY1YjYwMDAzMDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MzM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjE0MTUxNTYxMGU5MzU3NjEwZGY4MzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMTYxMjRhYTU2NWIxNTE1NjEwZTkyNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDIzODE1MjYwMjAwMTgwN2Y1MzY1NmU2NDY1NzIyMDY0NmY2NTczMjA2ZTZmNzQyMDY4NjE3NjY1MjA2ZDYxNmU2MTY3NjU2ZDY1NmU3NDIwODE1MjYwMjAwMTdmNmI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwNDAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjViNjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2MDA0NjAwMDg0NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDgzNjAwMDE5MTY3ZjNjZjU3ODYzYTg5NDMyYzYxYzRhMjcwNzNjNmVlMzllOGE3NjRiZmY1YTA1YWViZmJjZGNkYzgwYjJlNjEzMGE2MDA0NjAwMDg3NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAxMDE1NDYwMDQ2MDAwODg2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDQ2MDAwODk2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTYwMDQ2MDAwOGE2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTYwNDA1MTgwODU4MTUyNjAyMDAxODA2MDIwMDE4MDYwMjAwMTgwNjAyMDAxODQ4MTAzODQ1Mjg3ODE4MTU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgxNTI2MDIwMDE5MTUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MDE1NjExMDNkNTc4MDYwMWYxMDYxMTAxMjU3NjEwMTAwODA4MzU0MDQwMjgzNTI5MTYwMjAwMTkxNjExMDNkNTY1YjgyMDE5MTkwNjAwMDUyNjAyMDYwMDAyMDkwNWI4MTU0ODE1MjkwNjAwMTAxOTA2MDIwMDE4MDgzMTE2MTEwMjA1NzgyOTAwMzYwMWYxNjgyMDE5MTViNTA1MDg0ODEwMzgzNTI4NjgxODE1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ4MTUyNjAyMDAxOTE1MDgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTBjMDU3ODA2MDFmMTA2MTEwOTU1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTBjMDU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExMGEzNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4NDgxMDM4MjUyODU4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTExNDM1NzgwNjAxZjEwNjExMTE4NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTExNDM1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTEyNjU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTc1MDUwNTA1MDUwNTA1MDUwNjA0MDUxODA5MTAzOTBhNDYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDA4MDgyMDE2MDAwOTA1NTYwMDE4MjAxNjAwMDkwNTU2MDAyODIwMTYwMDA2MTAxMDAwYTgxNTQ5MDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjAyMTkxNjkwNTU2MDAzODIwMTYwMDA2MTExYjk5MTkwNjEyNjIwNTY1YjYwMDQ4MjAxNjAwMDYxMTFjOTkxOTA2MTI2MjA1NjViNjAwNTgyMDE2MDAwNjExMWQ5OTE5MDYxMjY2ODU2NWI1MDUwNjAwMTkwNTA5MTkwNTA1NjViNjA2MDgwNjAwMDgwODQ2MDQwNTE5MDgwODI1MjgwNjAxZjAxNjAxZjE5MTY2MDIwMDE4MjAxNjA0MDUyODAxNTYxMTIxZDU3ODE2MDIwMDE2MDIwODIwMjgwMzg4MzM5ODA4MjAxOTE1MDUwOTA1MDViNTA5MjUwNjAwMDkxNTA4NTkwNTA1Yjg0ODYwMTgxMTAxNTYxMTJkZTU3ODY4MTgxNTE4MTEwMTUxNTYxMTI0MDU3ZmU1YjkwNjAyMDAxMDE1MTdmMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDkwMDQ3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgzODM4MTUxODExMDE1MTU2MTEyOTk1N2ZlNWI5MDYwMjAwMTAxOTA3ZWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTkxNjkwODE2MDAwMWE5MDUzNTA4MTgwNjAwMTAxOTI1MDUwODA4MDYwMDEwMTkxNTA1MDYxMTIyODU2NWI4MjkzNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjYwMDA2MTEzNDgzMzYwNDA1MTgwODI3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTkxNTA1MDYwNDA1MTgwOTEwMzkwMjA2MDAyNjEyNGFhNTY1YjE1MTU2MTEzYmM1NzYwNDA1MTdmMDhjMzc5YTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI2MDA0MDE4MDgwNjAyMDAxODI4MTAzODI1MjYwMWY4MTUyNjAyMDAxODA3ZjUzNjU2ZTY0NjU3MjIwNjQ2ZjY1NzMyMDZlNmY3NDIwNjg2MTc2NjUyMDYxNjM3NDY5NmY2ZTIwNmI2NTc5MDA4MTUyNTA2MDIwMDE5MTUwNTA2MDQwNTE4MDkxMDM5MGZkNWI4MjdmYjM5MzJkYTQ3N2ZlNWQ2YzhmZjJlYWZlZjA1MGMwZjNhMWFmMThmYzA3MTIxMDAxNDgyNjAwZjM2ZjM3MTVkODgzNjA0MDUxODA4MjE1MTUxNTE1ODE1MjYwMjAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwYTI2MDAxMTUxNTgyMTUxNTE0MTU2MTE3YzU1NzYwMDE2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDA2MTAxMDAwYTgxNTQ4MTYwZmYwMjE5MTY5MDgzMTUxNTAyMTc5MDU1NTA2MDAzNjAwMDg0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwMzYwMDA4NTgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE2MDAwNjA0MDUxODA4MzgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMTRmZTU3ODA2MDFmMTA2MTE0ZDM1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMTRmZTU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjExNGUxNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA4MjYwZmYxNjgxNTI2MDIwMDE5MjUwNTA1MDYwMDA2MDQwNTE4MDgzMDM4MTYwMDA4NjVhZjE5MTUwNTA5MDUwODAxNTYxMTY4ZDU3NjAwMTYwMDM2MDAwODU4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwMTYxMDEwMDBhODE1NDgxNjBmZjAyMTkxNjkwODMxNTE1MDIxNzkwNTU1MDYwMDM2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODQ3ZjFmOTIwZGJkYTU5N2Q3YmY5NTAzNTQ2NDE3MGZhNThkMGE0YjU3ZjEzYTFjMzE1YWNlNjc5M2I5ZjYzNjg4Yjg2MDAzNjAwMDg4ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTE2N2E1NzgwNjAxZjEwNjExNjRmNTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTE2N2E1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTY1ZDU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGE0NjExN2Y5NTY1YjYwMDM2MDAwODQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODQ3ZmUxMGM0OWQ5ZjdjNzFkYTIzMjYyMzY3MDEzNDM0NzYzY2ZkYjIzMzIyNjc2NDE3MjhkMjVjZDcxMmM1YzZhNjg2MDAzNjAwMDg4ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwNDA1MTgwODA2MDIwMDE4MjgxMDM4MjUyODM4MTgxNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODE1MjYwMjAwMTkxNTA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwMTU2MTE3YjI1NzgwNjAxZjEwNjExNzg3NTc2MTAxMDA4MDgzNTQwNDAyODM1MjkxNjAyMDAxOTE2MTE3YjI1NjViODIwMTkxOTA2MDAwNTI2MDIwNjAwMDIwOTA1YjgxNTQ4MTUyOTA2MDAxMDE5MDYwMjAwMTgwODMxMTYxMTc5NTU3ODI5MDAzNjAxZjE2ODIwMTkxNWI1MDUwOTI1MDUwNTA2MDQwNTE4MDkxMDM5MGE0NjExN2Y5NTY1YjYwMDA2MDAzNjAwMDg1ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTYwMDA2MTAxMDAwYTgxNTQ4MTYwZmYwMjE5MTY5MDgzMTUxNTAyMTc5MDU1NTA2MDAxOTA1MDViOTI5MTUwNTA1NjViNjAwMDgxNjAwMDE5MTY2MDAxNjAwMDg0NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAyMDE1NDYwMDAxOTE2MTQxNTE1NjExODllNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDBiODE1MjYwMjAwMTgwN2Y0ZTZmMjA3Mzc1NjM2ODIwNmI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViNjAwMTYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxNTQ2MDAxNjAwMDg0NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDYwMDE2MDAwODU2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTY3ZjU4NWE0YWVmNTBmODI2N2E5MmIzMjQxMmIzMzFiMjBmN2Y4Yjk2ZjIyNDViMjUzYjljYzUwZGNjNjIxZDMzOTc2MDQwNTE2MDQwNTE4MDkxMDM5MGE0NjAwMTYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDgwODIwMTYwMDA5MDU1NjAwMTgyMDE2MDAwOTA1NTYwMDI4MjAxNjAwMDkwNTU1MDUwNjAwMTkwNTA5MTkwNTA1NjViNjA2MDYwMDI2MDAwODM4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwODA1NDgwNjAyMDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ4MDE1NjExOWNkNTc2MDIwMDI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDYwMDAxOTE2ODE1MjYwMjAwMTkwNjAwMTAxOTA4MDgzMTE2MTE5YjU1NzViNTA1MDUwNTA1MDkwNTA5MTkwNTA1NjViNjAwMDgwODU4ODYwNDA1MTgwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NmMwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyODE1MjYwMTQwMTgyODE1MjYwMjAwMTkyNTA1MDUwNjA0MDUxODA5MTAzOTAyMDkwNTAzMDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MzM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjE0MTUxNTYxMWI2MjU3NjExYWM3MzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMzYxMjRhYTU2NWIxNTE1NjExYjYxNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDI1ODE1MjYwMjAwMTgwN2Y1MzY1NmU2NDY1NzIyMDY0NmY2NTczMjA2ZTZmNzQyMDY4NjE3NjY1MjA2MzZjNjE2OTZkMjA3MzY5Njc2ZTY1ODE1MjYwMjAwMTdmNzIyMDZiNjU3OTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgxNTI1MDYwNDAwMTkxNTA1MDYwNDA1MTgwOTEwMzkwZmQ1YjViODU3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA5MDU0OTA2MTAxMDAwYTkwMDQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MTQxNTE1NjExYzE5NTc2MDA1NjAwMDg5ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDgxOTA4MDYwMDE4MTU0MDE4MDgyNTU4MDkxNTA1MDkwNjAwMTgyMDM5MDYwMDA1MjYwMjA2MDAwMjAwMTYwMDA5MDkxOTI5MDkxOTA5MTUwOTA2MDAwMTkxNjkwNTU1MDViODc2MDA0NjAwMDgzNjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE4MTkwNTU1MDg2NjAwNDYwMDA4MzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMTAxODE5MDU1NTA4NTYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTYwMDA2MTAxMDAwYTgxNTQ4MTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjAyMTkxNjkwODM3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjAyMTc5MDU1NTA4NDYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDMwMTkwODA1MTkwNjAyMDAxOTA2MTFjZWU5MjkxOTA2MTI2YjA1NjViNTA4MzYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDQwMTkwODA1MTkwNjAyMDAxOTA2MTFkMjE5MjkxOTA2MTI2YjA1NjViNTA4MjYwMDQ2MDAwODM2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDUwMTkwODA1MTkwNjAyMDAxOTA2MTFkNTQ5MjkxOTA2MTI3MzA1NjViNTA4NTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2ODg4MjYwMDAxOTE2N2Y0NjE0OWIxOGFhMDg0NTAyYzNmMTJiYzc1ZTE5ZWRhOGJkYThkMTAyYjgyY2NlODQ3NDY3N2E2ZDBkNWY0M2M1OGE4OTg5ODk2MDQwNTE4MDg1ODE1MjYwMjAwMTgwNjAyMDAxODA2MDIwMDE4MDYwMjAwMTg0ODEwMzg0NTI4NzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMWRlNTU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMWRjYTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTFlMTI1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgzNTI4NjgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMWU0YjU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMWUzMDU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTFlNzg1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDg0ODEwMzgyNTI4NTgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMWViMTU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMWU5NjU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTFlZGU1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDk3NTA1MDUwNTA1MDUwNTA1MDYwNDA1MTgwOTEwMzkwYTQ4MDkxNTA1MDk2OTU1MDUwNTA1MDUwNTA1NjViNjAwMDYwMDM2MDAwODA1NDgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAzMDE2MDAxOTA1NDkwNjEwMTAwMGE5MDA0NjBmZjE2MTUxNTE1NjExZjlhNTc2MDQwNTE3ZjA4YzM3OWEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MTUyNjAwNDAxODA4MDYwMjAwMTgyODEwMzgyNTI2MDEwODE1MjYwMjAwMTgwN2Y0MTZjNzI2NTYxNjQ3OTIwNjU3ODY1NjM3NTc0NjU2NDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODE1MjUwNjAyMDAxOTE1MDUwNjA0MDUxODA5MTAzOTBmZDViODM2MDAzNjAwMDgwNTQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMDAxNjAwMDYxMDEwMDBhODE1NDgxNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMDIxOTE2OTA4MzczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2MDIxNzkwNTU1MDgyNjAwMzYwMDA4MDU0ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTgxOTA1NTUwODE2MDAzNjAwMDgwNTQ4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxOTA4MDUxOTA2MDIwMDE5MDYxMjAzNzkyOTE5MDYxMjZiMDU2NWI1MDgyODQ3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjYwMDA1NDdmOGFmY2ZhYmNiMDBlNDdhNTNhOGZjM2U5ZjIzZmY0N2VlMTkyNjE5NGJiMTM1MGRkMDA3YzUwYjQxMmE2Y2VlODg1NjA0MDUxODA4MDYwMjAwMTgyODEwMzgyNTI4MzgxODE1MTgxNTI2MDIwMDE5MTUwODA1MTkwNjAyMDAxOTA4MDgzODM2MDAwNWI4MzgxMTAxNTYxMjBiNTU3ODA4MjAxNTE4MTg0MDE1MjYwMjA4MTAxOTA1MDYxMjA5YTU2NWI1MDUwNTA1MDkwNTA5MDgxMDE5MDYwMWYxNjgwMTU2MTIwZTI1NzgwODIwMzgwNTE2MDAxODM2MDIwMDM2MTAxMDAwYTAzMTkxNjgxNTI2MDIwMDE5MTUwNWI1MDkyNTA1MDUwNjA0MDUxODA5MTAzOTBhNDYxMjE0YTMzNjA0MDUxODA4MjczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY2YzAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MTUyNjAxNDAxOTE1MDUwNjA0MDUxODA5MTAzOTAyMDYwMDE2MTI0YWE1NjViODA2MTIxYWM1NzUwNjEyMWFiMzM2MDQwNTE4MDgyNzNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTY3M2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYxNjZjMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjgxNTI2MDE0MDE5MTUwNTA2MDQwNTE4MDkxMDM5MDIwNjAwMjYxMjRhYTU2NWI1YjE1NjEyMWMwNTc2MTIxYmU2MDAwNTQ2MDAxNjExMmViNTY1YjUwNWI2MDAwODA4MTU0ODA5MjkxOTA2MDAxMDE5MTkwNTA1NTUwNjAwMTYwMDA1NDAzOTA1MDkzOTI1MDUwNTA1NjViNjAwMDgwNjAwMDYwNjA4MDYwNjA2MDA0NjAwMDg4NjAwMDE5MTY2MDAwMTkxNjgxNTI2MDIwMDE5MDgxNTI2MDIwMDE2MDAwMjA2MDAwMDE1NDYwMDQ2MDAwODk2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDEwMTU0NjAwNDYwMDA4YTYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMjAxNjAwMDkwNTQ5MDYxMDEwMDBhOTAwNDczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NjAwNDYwMDA4YjYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwMzAxNjAwNDYwMDA4YzYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNDAxNjAwNDYwMDA4ZDYwMDAxOTE2NjAwMDE5MTY4MTUyNjAyMDAxOTA4MTUyNjAyMDAxNjAwMDIwNjAwNTAxODI4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMjM1NjU3ODA2MDFmMTA2MTIzMmI1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMjM1NjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjEyMzM5NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA1MDUwNTA5MjUwODE4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMjNmMjU3ODA2MDFmMTA2MTIzYzc1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMjNmMjU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjEyM2Q1NTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA1MDUwNTA5MTUwODA4MDU0NjAwMTgxNjAwMTE2MTU2MTAxMDAwMjAzMTY2MDAyOTAwNDgwNjAxZjAxNjAyMDgwOTEwNDAyNjAyMDAxNjA0MDUxOTA4MTAxNjA0MDUyODA5MjkxOTA4MTgxNTI2MDIwMDE4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0ODAxNTYxMjQ4ZTU3ODA2MDFmMTA2MTI0NjM1NzYxMDEwMDgwODM1NDA0MDI4MzUyOTE2MDIwMDE5MTYxMjQ4ZTU2NWI4MjAxOTE5MDYwMDA1MjYwMjA2MDAwMjA5MDViODE1NDgxNTI5MDYwMDEwMTkwNjAyMDAxODA4MzExNjEyNDcxNTc4MjkwMDM2MDFmMTY4MjAxOTE1YjUwNTA1MDUwNTA5MDUwOTU1MDk1NTA5NTUwOTU1MDk1NTA5NTUwOTE5Mzk1NTA5MTkzOTU1NjViNjAwMDgwNjAwMDYwMDEwMjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDIwMTU0NjAwMDE5MTYxNDE1NjEyNGU0NTc2MDAwOTE1MDYxMjUwYzU2NWI4MjYwMDE2MDAwODY2MDAwMTkxNjYwMDAxOTE2ODE1MjYwMjAwMTkwODE1MjYwMjAwMTYwMDAyMDYwMDAwMTU0MTExNTkwNTA4MDkxNTA1YjUwOTI5MTUwNTA1NjViNjA2MDgwNjA2MDYwMDA4MDg3OTM1MDg1NjA0MDUxOTA4MDgyNTI4MDYwMWYwMTYwMWYxOTE2NjAyMDAxODIwMTYwNDA1MjgwMTU2MTI1NTE1NzgxNjAyMDAxNjAyMDgyMDI4MDM4ODMzOTgwODIwMTkxNTA1MDkwNTA1YjUwOTI1MDYwMDA5MTUwODY5MDUwNWI4NTg3MDE4MTEwMTU2MTI2MTI1NzgzODE4MTUxODExMDE1MTU2MTI1NzQ1N2ZlNWI5MDYwMjAwMTAxNTE3ZjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA5MDA0N2YwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MzgzODE1MTgxMTAxNTE1NjEyNWNkNTdmZTViOTA2MDIwMDEwMTkwN2VmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE5MTY5MDgxNjAwMDFhOTA1MzUwODE4MDYwMDEwMTkyNTA1MDgwODA2MDAxMDE5MTUwNTA2MTI1NWM1NjViODI5NDUwNTA1MDUwNTA5MzkyNTA1MDUwNTY1YjUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ2MDAwODI1NTgwNjAxZjEwNjEyNjQ2NTc1MDYxMjY2NTU2NWI2MDFmMDE2MDIwOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwODEwMTkwNjEyNjY0OTE5MDYxMjdiMDU2NWI1YjUwNTY1YjUwODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ2MDAwODI1NTgwNjAxZjEwNjEyNjhlNTc1MDYxMjZhZDU2NWI2MDFmMDE2MDIwOTAwNDkwNjAwMDUyNjAyMDYwMDAyMDkwODEwMTkwNjEyNmFjOTE5MDYxMjdiMDU2NWI1YjUwNTY1YjgyODA1NDYwMDE4MTYwMDExNjE1NjEwMTAwMDIwMzE2NjAwMjkwMDQ5MDYwMDA1MjYwMjA2MDAwMjA5MDYwMWYwMTYwMjA5MDA0ODEwMTkyODI2MDFmMTA2MTI2ZjE1NzgwNTE2MGZmMTkxNjgzODAwMTE3ODU1NTYxMjcxZjU2NWI4MjgwMDE2MDAxMDE4NTU1ODIxNTYxMjcxZjU3OTE4MjAxNWI4MjgxMTExNTYxMjcxZTU3ODI1MTgyNTU5MTYwMjAwMTkxOTA2MDAxMDE5MDYxMjcwMzU2NWI1YjUwOTA1MDYxMjcyYzkxOTA2MTI3YjA1NjViNTA5MDU2NWI4MjgwNTQ2MDAxODE2MDAxMTYxNTYxMDEwMDAyMDMxNjYwMDI5MDA0OTA2MDAwNTI2MDIwNjAwMDIwOTA2MDFmMDE2MDIwOTAwNDgxMDE5MjgyNjAxZjEwNjEyNzcxNTc4MDUxNjBmZjE5MTY4MzgwMDExNzg1NTU2MTI3OWY1NjViODI4MDAxNjAwMTAxODU1NTgyMTU2MTI3OWY1NzkxODIwMTViODI4MTExMTU2MTI3OWU1NzgyNTE4MjU1OTE2MDIwMDE5MTkwNjAwMTAxOTA2MTI3ODM1NjViNWI1MDkwNTA2MTI3YWM5MTkwNjEyN2IwNTY1YjUwOTA1NjViNjEyN2QyOTE5MDViODA4MjExMTU2MTI3Y2U1NzYwMDA4MTYwMDA5MDU1NTA2MDAxMDE2MTI3YjY1NjViNTA5MDU2NWI5MDU2MDBhMTY1NjI3YTdhNzIzMDU4MjAwMDE3NjM0ZTYyYzg1NjE5OGM5YzhkMjA0NzU2YmQ5ZWQ1ZTEyY2E5N2IyMzA2ODJjNmNjOTQxZTgxM2I4MTMzMDAyOVwiXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFN1YkRvbWFpbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gUmVwbGFjZSBodHRwLCBodHRwcyBhbmQgcmVtb3ZlIHRoZSBwb3J0XG4gICAgcmV0dXJuIHVybD8ucmVwbGFjZShcImh0dHA6Ly9cIiwgXCJcIikucmVwbGFjZShcImh0dHBzOi8vXCIsIFwiXCIpLnNwbGl0KFwiOlwiKVswXTtcbn0iLCJpbXBvcnQgeyBFRElEQWNjZXNzTGV2ZWwgfSBmcm9tIFwiLi4vLi4vZW51bXMvZGlkQWNjZXNzTGV2ZWwuZW51bVwiO1xuaW1wb3J0IHsgSWRlbnRpdHkgfSBmcm9tIFwiLi4vLi4vc21hcnRjb250cmFjdHMvaWRlbnRpdHlcIjtcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0tleUZvckRpZCh3ZWIzVXJsOiBzdHJpbmcsIGNvbnRyYWN0QWRkcmVzczogc3RyaW5nLCBwdWJsaWNLZXk6IHN0cmluZywga2V5VG9DaGVjazogRURJREFjY2Vzc0xldmVsKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChJZGVudGl0eS5hYmksIGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IHNoYUFkZHJlc3MgPSB3ZWIzLnV0aWxzLnNoYTMocHVibGljS2V5KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMua2V5SGFzUHVycG9zZShzaGFBZGRyZXNzLCBrZXlUb0NoZWNrKS5jYWxsKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gU29tZXRoaW5nIHdlbnQgd3Jvbmc6IFwiICsgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IElXZWJSVENDb25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3dlYlJ0Y0NvbmZpZy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgUlRDSWNlQ2FuZGlkYXRlIH0gZnJvbSBcIndydGNcIjtcbmltcG9ydCB7IHczY3dlYnNvY2tldCB9IGZyb20gXCJ3ZWJzb2NrZXRcIjtcbmltcG9ydCB7IE91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwiaHR0cFwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgV2ViUnRjUHJvdmlkZXIge1xuICAgIHdlYlJ0Y0NvbmZpZzogSVdlYlJUQ0NvbmZpZztcbiAgICBob3N0VXVpZDogc3RyaW5nOyAvLyBUaGUgaG9zdCBVVUlEIHRvIGNvbm5lY3QgdG8gZnJvbSB0aGUgY2xpZW50XG4gICAgcGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDsgLy8gVGhlIHBlZXIgY29ubmVjdGlvbiBiZXR3ZWVuIGNsaWVudCBhbmQgaG9zdFxuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbCA9IG51bGw7IC8vIFRoZSBkYXRhIGNoYW5uZWwgYmV0d2VlbiBjbGllbnQgYW5kIGhvc3RcbiAgICB3c0NsaWVudDogdzNjd2Vic29ja2V0ID0gbnVsbDsgLy8gVGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGJldHdlZW4gY2xpZW50IGFuZCBzaWduYWxpbmcgc2VydmVyIG9yIGhvc3QgYW5kIHNpZ25hbGluZyBzZXJ2ZXJcbiAgICByZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTsgLy8gV2hlbmV2ZXIgYW4gYWN0aW9uIGlzIHJlY2VpdmVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGFuIGV2ZW50XG4gICAgdXVpZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZSBVVUlEIGlzIHNldCwgaXQgd2lsbCBlbWl0IGFuIGV2ZW50IChzbyB0aGF0IHRoZSBob3N0IGNhbiBzZXQgaXQgc29tZXdoZXJlIGluIGxpa2UgYSBRUilcbiAgICB3ZWJzb2NrZXRNZXNzYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25PcGVuJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4obnVsbCk7IC8vIFdoZW5ldmVyIHRoZXJlIGlzIGFuIGV2ZW50IG9uIHRoZSB3ZWJzb2NrZXQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAgICB3ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXJyb3IgZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0ID0gbnVsbDtcbiAgICBwb25nQ2hlY2tJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgPSBudWxsO1xuICAgIHBpbmdUaW1lb3V0OiBOb2RlSlMuVGltZW91dCA9IG51bGw7XG4gICAgV0VCU09DS0VUX1BJTkdfQU5TV0VSX0RFTEFZID0gMTAwMDtcbiAgICAvLyBUaGUgYWxsb3dlZCB0aW1lIGJlZm9yZSBhIHBpbmcgcG9uZyBpcyBtaXNzaW5nIGFuZCB0aHVzIGRpc2Nvbm5lY3RpbmcgdGhlIGNvbm5lY3Rpb25cbiAgICBXRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSA9IDMwMDA7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBXZWJSVEMgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGdldENvbmZpZygpOiBJV2ViUlRDQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2ViUnRjQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGllbnQgbmVlZHMgdG8gc2V0IHRoZSBob3N0IFVVSUQgdG8gY29ubmVjdCB0byBiZWZvcmUgc2V0dGluZyB1cCB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gaG9zdFV1aWQgVGhlIFVVSUQgb2YgdGhlIGhvc3RcbiAgICAgKi9cbiAgICBzZXRIb3N0VXVpZChob3N0VXVpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaG9zdFV1aWQgPSBob3N0VXVpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgb3ZlciB0aGUgUDJQIGRhdGEgY2hhbm5lbFxuICAgICAqIEBwYXJhbSBhY3Rpb24gQXMgYSBzdHJpbmcsIHdoaWNoIGFjdGlvbiB0eXBlIGRvIHlvdSB3YW50IHRvIHNlbmQ/XG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gc2VuZCBhcyBhbiBvYmplY3RcbiAgICAgKi9cbiAgICBzZW5kUDJQRGF0YShhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWJyYXJ5IC0gU2VuZGluZyBhY3Rpb24gJyR7YWN0aW9ufScgd2l0aCBkYXRhOmAsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uLCAuLi5kYXRhIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFdlYnNvY2tldCAtIEF0dGVtcHRlZCB0byBzZW5kIGRhdGEgd2l0aCBhY3Rpb24gJHthY3Rpb259IGJ1dCBkYXRhIGNoYW5uZWwgaXMgbm90IG9wZW5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBvdmVyIHRoZSBkYXRhIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gYWN0aW9uIEFzIGEgc3RyaW5nLCB3aGljaCBhY3Rpb24gdHlwZSBkbyB5b3Ugd2FudCB0byBzZW5kP1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgYXMgYW4gb2JqZWN0XG4gICAgICovXG4gICAgc2VuZFdlYnNvY2tldERhdGEoYWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy53c0NsaWVudCAmJiB0aGlzLndzQ2xpZW50LnJlYWR5U3RhdGUgPT09IHRoaXMud3NDbGllbnQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uLCAuLi5kYXRhIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgV2Vic29ja2V0IC0gQXR0ZW1wdGVkIHRvIHNlbmQgZGF0YSB3aXRoIGFjdGlvbiAke2FjdGlvbn0gYnV0IHdlYnNvY2tldCBjaGFubmVsIGlzIG5vdCBvcGVuYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRXZWJzb2NrZXQoKTogdzNjd2Vic29ja2V0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3NDbGllbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbmV2ZXIgdGhlIFVVSUQgaXMgc2V0IGZyb20gdGhlIGhvc3QgdGhpcyBvYnNlcnZhYmxlIGVtaXRzXG4gICAgICogQHBhcmFtIHV1aWQgVGhlIFVVSUQgdG8gYWxsb3cgY2xpZW50cyBjb25uZWMgdG9cbiAgICAgKi9cbiAgICBzZXRVdWlkKHV1aWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnV1aWQkLm5leHQodXVpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25seSBkaXNjb25uZWN0IG9uIHRoaXMgYXBwbGljYXRpb24gYW5kIHNlbmQgbm8gZGlzY29ubmVjdCBvdmVyIHRoZSBkYXRhIGNoYW5uZWxcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCk6IHZvaWQge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb25nQ2hlY2tJbnRlcnZhbCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KTtcbiAgICAgICAgaWYgKHRoaXMucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYXRhQ2hhbm5lbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndzQ2xpZW50KSB7XG5cbiAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMud3NDbGllbnQub25jbG9zZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YUNoYW5uZWwgPSBudWxsO1xuICAgICAgICB0aGlzLndzQ2xpZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KHRydWUpO1xuICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25PcGVuJC5uZXh0KGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IG9uIHRoaXMgYXBwbGljYXRpb24gYW5kIHNlbmQgYSBkaXNjb25uZWN0IGV2ZW50IG92ZXIgdGhlIGRhdGFjaGFubmVsXG4gICAgICovXG4gICAgcmVtb3RlRGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWwgJiYgdGhpcy5kYXRhQ2hhbm5lbC5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uOiBcImRpc2Nvbm5lY3RcIiB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogSXMgb25lIHNlY29uZCBlbm91Z2g/XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0sIDEwMDApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhvc3Qgd2lsbCBzZW5kIGFuIG9mZmVyIHdoZW4gYSBjbGllbnQgY29ubmVjdHMgdG8gaGlzIFVVSURcbiAgICAgKiBAcGFyYW0gcGVlckNvbm5lY3Rpb24gVGhlIHBlZXIgY29ubmVjdGlvbiB0byBzZXQgdGhlIGxvY2FsIGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHdzQ2xpZW50IFRoZSB3ZWJzb2NrZXQgdG8gc2VuZCB0aGUgb2ZmZXIgdG9cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kT2ZmZXIocGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uLCB3c0NsaWVudDogdzNjd2Vic29ja2V0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgcGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtcbiAgICAgICAgYXdhaXQgcGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgIHdzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgbGF1bmNoIHRoZSB3ZWJzb2NrZXQgYW5kIGxpc3RlbiB0byBldmVudHNcbiAgICAgKi9cbiAgICBhc3luYyBsYXVuY2hXZWJzb2NrZXRDbGllbnQod2ViUnRjQ29uZmlnOiBJV2ViUlRDQ29uZmlnLCBoZWFkZXJzPzogT3V0Z29pbmdIdHRwSGVhZGVycyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLndlYlJ0Y0NvbmZpZyA9IHdlYlJ0Y0NvbmZpZztcblxuICAgICAgICBsZXQgY29ubmVjdGlvblN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXVpZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB0aGlzLndlYnNvY2tldE1lc3NhZ2UkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcblxuICAgICAgICBsZXQgc2lnbmFsaW5nVXJsID0gdGhpcy53ZWJSdGNDb25maWcuc2lnbmFsaW5nVXJsO1xuICAgICAgICBpZiAoIXNpZ25hbGluZ1VybCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMYXVuY2ggd2Vic29ja2V0IC0gVVJMIHVuZGVmaW5lZCwgZmFsbGluZyBiYWNrIHRvIGRlZmF1bHRcIik7XG4gICAgICAgICAgICBzaWduYWxpbmdVcmwgPSBcIndzczovL2F1dGgucHJvb2ZtZS5pZFwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoIHdlYnNvY2tldCAtIENsaWVudCBVUkw6XCIsIHNpZ25hbGluZ1VybCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoIHdlYnNvY2tldCAtIENoYW5uZWw6XCIsIHdlYlJ0Y0NvbmZpZy5jaGFubmVsKTtcbiAgICAgICAgbGV0IHVybCA9IGAke3NpZ25hbGluZ1VybH0/Y2hhbm5lbD0ke3dlYlJ0Y0NvbmZpZy5jaGFubmVsfWA7XG4gICAgICAgIGlmICh3ZWJSdGNDb25maWcuZGF0YSkge1xuICAgICAgICAgICAgdXJsID0gYCR7dXJsfSZkYXRhPSR7d2ViUnRjQ29uZmlnLmRhdGF9YDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndzQ2xpZW50ID0gbmV3IHczY3dlYnNvY2tldCh1cmwsIG51bGwsIG51bGwsIGhlYWRlcnMpO1xuICAgICAgICAvLyBTbyBpZiB0aGVyZSBpcyBub3QgYSBzdWNjZXNzIGNvbm5lY3Rpb24gYWZ0ZXIgMTAgc2Vjb25kcywgY2xvc2UgdGhlIHNvY2tldCBhbmQgc2VuZCBhbiBlcnJvclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvblN1Y2Nlc3MgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQubmV4dCh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53c0NsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgIHRoaXMud3NDbGllbnQub25lcnJvciA9IChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIEVycm9yOiBcIiArIGVycm9yLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgY29ubmVjdGlvblN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkLm5leHQodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9uY2xvc2UgPSAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBDb25uZWN0aW9uIGNsb3NlZFwiKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53c0NsaWVudC5vbm9wZW4gPSAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgLSBDb25uZWN0aW9uIG9wZW5cIik7XG4gICAgICAgICAgICBjb25uZWN0aW9uU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25DbG9zZWQkLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3NDbGllbnQub25tZXNzYWdlID0gKGFzeW5jIG1zZyA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIE1lc3NhZ2U6XCIsIG1zZyk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldE1lc3NhZ2UkLm5leHQobXNnKTtcbiAgICAgICAgICAgIGlmIChtc2cuZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgbGV0IGRhdGE6IGFueTtcbiAgICAgICAgICAgICAgICAvLyBhY2NlcHRpbmcgb25seSBKU09OIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJzb2NrZXQgLSBNZXNzYWdlIHdhcyBub3QgSlNPTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIG1lc3NhZ2UsIHN1Y2Nlc3MsIHV1aWQsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSwgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZyB9ID0gZGF0YTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCAtIEVycm9yIG1lc3NhZ2U6XCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT0gXCJDb21tYW5kIG5vdCBmb3VuZDogcGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdlYnNvY2tldCAtIFBpbmcgcG9uZyB0b29rIG1vcmUgdGhhbiAke3RoaXMuV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUV9bXMuIERpc2Nvbm5lY3RpbmdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGNvbm5lY3RlZCB0byB0aGUgU2lnbmFsaW5nIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhUcmllcyA9IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gMSAmJiB0cmllcyA8IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFwcGxpY2F0aW9uIGlzIHRoZSBob3N0LCBzZW5kIGEgaG9zdCByZXF1ZXN0IHRvIHJlY2VpdmUgYSBVVUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJob3N0XCIgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWVzID49IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmllcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhUcmllcyA9IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50ICYmIHRoaXMud3NDbGllbnQucmVhZHlTdGF0ZSA9PT0gMSAmJiB0cmllcyA8IG1heFRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdCB0aGUgaG9zdCwgc2VuZCBhIGNvbm5lY3QgcmVxdWVzdCB3aXRoIHRoZSBob3N0IFVVSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNvbm5lY3RcIiwgaG9zdDogdGhpcy5ob3N0VXVpZCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZXMgPj0gbWF4VHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHNvIG5vIG5lZWQgdG8gY2hlY2sgb24gdGhlIHBpbmcgcG9uZyBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb25nQ2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGhvc3QgcmVjZWl2ZWQgYW4gVVVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV1aWQgJiYgdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kT2ZmZXIodGhpcy5wZWVyQ29ubmVjdGlvbiwgdGhpcy53c0NsaWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBvbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvbmdDaGVja0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuV0VCU09DS0VUX1BJTkdfUE9OR19BTExPV0VEX1RJTUUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdCB0aGUgaG9zdCwgaXQgcmVjZWl2ZXMgYW4gb2ZmZXIgd2hlbmV2ZXIgYSBjbGllbnQgY29ubmVjdHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHdpbGwgc2VuZCBhbiBhbnN3ZXIgYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZmVyICYmICF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ob2ZmZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0QW5zd2VyID0gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaG9zdEFuc3dlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBob3N0QW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuZXZlciB0aGUgaG9zdCByZWNlaXZlcyBhIGhvc3QgcmVxdWVzdCBiYWNrLCBzZXQgdGhlIFVVSUQgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1dWlkICYmIHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXVpZCh1dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgPSB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldHVwUGVlcmNvbm5lY3Rpb24odXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGhvc3Qgb3IgY2xpZW50IGxlYXZlcyBzZXR1cCBhIG5ldyBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFV1aWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2xpZW50IHdpbGwgc2VuZCBhbiBhbnN3ZXIgYW5kIHRoZSBob3N0IHdpbGwgc2V0IGl0IGFzIGEgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oYW5zd2VyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNhbmRpZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gcmVjZWl2aW5nIGFuIGNhbmRpZGF0ZSBmcm9tIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRDYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2xpZW50Q2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xpZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRPZmZlcih0aGlzLnBlZXJDb25uZWN0aW9uLCB0aGlzLndzQ2xpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiV2Vic29ja2V0IG9ubWVzc2FnZSBkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZW5kUGluZygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVhZHkgc3RhdGUgMSA9IG9wZW5cbiAgICAgICAgICAgIGlmICh0aGlzLndzQ2xpZW50LnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBpbmdcIlxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5XRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0dXAgdGhlIHBlZXJjb25uZWN0aW9uIGFuZCBkYXRhY2hhbm5lbFxuICAgICAqIEl0IHdpbGwgYWxzbyBlbWl0IHJlY2VpdmVkIGFjdGlvbnMgb3ZlciBhbiBvYnNlcnZhYmxlXG4gICAgICogQHBhcmFtIHV1aWQgVGhlIFVVSUQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNldHVwUGVlcmNvbm5lY3Rpb24odXVpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwodXVpZCk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUDJQIC0gTWVzc2FnZSBpbnZhbGlkIEpTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImxlYXZlXCIgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGV2ZW50LmNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBlcnJvciBiZWNhdXNlIGl0IGNhbm5vdCBhZGQgaXRzZWxmLCBpdCB3aWxsIHNlbmQgb3ZlciB3ZWJzb2NrZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjYW5kaWRhdGVcIiwgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldHVwIHRoZSBwZWVyY29ubmVjdGlvbiBhbmQgZGF0YWNoYW5uZWxcbiAgICAgKiBJdCB3aWxsIGFsc28gZW1pdCByZWNlaXZlZCBhY3Rpb25zIG92ZXIgYW4gb2JzZXJ2YWJsZVxuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyBzZXR1cENsaWVudFBlZXJjb25uZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUDJQIC0gTWVzc2FnZSBpbnZhbGlkIEpTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50LmNoYW5uZWwub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImxlYXZlXCIgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGV2ZW50LmNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBlcnJvciBiZWNhdXNlIGl0IGNhbm5vdCBhZGQgaXRzZWxmLCBpdCB3aWxsIHNlbmQgb3ZlciB3ZWJzb2NrZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJjYW5kaWRhdGVcIiwgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFJUQ0ljZUNhbmRpZGF0ZSwgUlRDUGVlckNvbm5lY3Rpb24sIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgUlRDRGF0YUNoYW5uZWwgfSBmcm9tIFwid3J0Y1wiO1xuaW1wb3J0IHsgSUNvbm5lY3Rpb25EZXRhaWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jb25uZWN0aW9uRGV0YWlsc1wiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcblxuZXhwb3J0IGNsYXNzIFdlYlJUQ0NsaWVudFYyIHtcblxuICAgIHBlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgZGF0YUNoYW5uZWw6IFJUQ0RhdGFDaGFubmVsID0gbnVsbDtcbiAgICBjbGllbnRDaGFubmVsOiBJQ29ubmVjdGlvbkRldGFpbHM7XG4gICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbjtcbiAgICByZXF1ZXN0ZWRDcmVkZW50aWFsczogSVJlcXVlc3RlZENyZWRlbnRpYWxzO1xuICAgIGhvc3RXc0Nvbm5lY3Rpb246IElDb25uZWN0aW9uRGV0YWlscztcbiAgICBhY3Rpb25UeXBlOiBzdHJpbmc7XG4gICAgZGF0YUNoYW5uZWxPcGVuJCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gICAgZGF0YUNoYW5uZWxNZXNzYWdlJCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcbiAgICBkYXRhOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbixcbiAgICAgICAgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyxcbiAgICAgICAgaG9zdFdzQ29ubmVjdGlvbjogSUNvbm5lY3Rpb25EZXRhaWxzLFxuICAgICAgICBhY3Rpb25UeXBlOiBzdHJpbmcsXG4gICAgICAgIGRhdGE6IGFueVxuICAgICkge1xuICAgICAgICB0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgPSB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnO1xuICAgICAgICB0aGlzLnJlcXVlc3RlZENyZWRlbnRpYWxzID0gcmVxdWVzdGVkQ3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuaG9zdFdzQ29ubmVjdGlvbiA9IGhvc3RXc0Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IGFjdGlvblR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBzZXR1cCB0aGUgcGVlcmNvbm5lY3Rpb24gYW5kIGRhdGFjaGFubmVsXG4gICAgICogSXQgd2lsbCBhbHNvIGVtaXQgcmVjZWl2ZWQgYWN0aW9ucyBvdmVyIGFuIG9ic2VydmFibGVcbiAgICAgKiBAcGFyYW0gdXVpZCBUaGUgVVVJRCB0byBjb25uZWN0IHRvXG4gICAgICovXG4gICAgYXN5bmMgc2V0dXBQZWVyY29ubmVjdGlvbihjaGFubmVsVXVpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoY2hhbm5lbFV1aWQpO1xuXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLCBhc3luYyBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShldmVudC5jYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW5jZSB0aGlzIGVycm9yLiBBIGxvdCBvZiBjYW5kaWRhdGVzIGNhbid0IGJlIGFkZGVkIGFuZCB0aGF0cyBmaW5lOyB0aGF0J3Mgd2h5IHdlIGhhdmUgbXVsdGlwbGUgY2FuZGlkYXRlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudENoYW5uZWwuc2VuZFVURihKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY2FuZGlkYXRlXCIsIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZGF0YUNoYW5uZWxFdmVudCA9PiB7XG4gICAgICAgICAgICBkYXRhQ2hhbm5lbEV2ZW50LmNoYW5uZWwub25tZXNzYWdlID0gKGFzeW5jIG1lc3NhZ2VFdmVudCA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZUV2ZW50LmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWxNZXNzYWdlJC5uZXh0KHBhcnNlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgbWVzc2FnZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGRhdGFDaGFubmVsRXZlbnQuY2hhbm5lbC5vbm9wZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gRGF0YWNoYW5uZWwgY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9zdFdzQ29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjbGllbnRjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWxPcGVuJC5uZXh0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbEV2ZW50LmNoYW5uZWwub25jbG9zZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWJyYXJ5IC0gRGF0YWNoYW5uZWwgb25jbG9zZTpcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0V3NDb25uZWN0aW9uLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRpc2Nvbm5lY3RcIlxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IHdpbGwgc2VuZCBhbiBvZmZlciB3aGVuIGEgY2xpZW50IGNvbm5lY3RzIHRvIGhpcyBVVUlEXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE9mZmVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgdGhpcy5jbGllbnRDaGFubmVsLnNlbmRVVEYoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogXCJvZmZlclwiLFxuICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBvdmVyIHRoZSBkYXRhIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gYWN0aW9uIEFzIGEgc3RyaW5nLCB3aGljaCBhY3Rpb24gdHlwZSBkbyB5b3Ugd2FudCB0byBzZW5kP1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgYXMgYW4gb2JqZWN0XG4gICAgICovXG4gICAgIHNlbmRQMlBEYXRhKGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWwgJiYgdGhpcy5kYXRhQ2hhbm5lbC5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExpYnJhcnkgLSBTZW5kaW5nIGFjdGlvbiAnJHthY3Rpb259JyB3aXRoIGRhdGE6YCwgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb24sIC4uLmRhdGEgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTGlicmFyeSAtIEF0dGVtcHRlZCB0byBzZW5kIGRhdGEgd2l0aCBhY3Rpb24gJHthY3Rpb259IGJ1dCBkYXRhIGNoYW5uZWwgaXMgbm90IG9wZW5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlbW90ZSBkZXNjcmlwdGlvbiBvZiB0aGUgb3RoZXIgc2lkZVxuICAgICAqIEBwYXJhbSByZW1vdGVEZXNjcmlwdGlvbiBDYW4gYmUgb2ZmZXIgb3IgYW5zd2VyIGRlcGVuZGluZyBvbiB0aGUgY2xpZW50IC8gaG9zdFxuICAgICAqL1xuICAgIGFzeW5jIHNldFJlbW90ZURlc2NyaXB0aW9uKHJlbW90ZURlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHJlbW90ZURlc2NyaXB0aW9uKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkQ2FuZGlkYXRlKGNhbmRpZGF0ZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRDYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjbGllbnRDYW5kaWRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzZW5kQW5zd2VyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBob3N0QW5zd2VyID0gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGhvc3RBbnN3ZXIpO1xuICAgICAgICB0aGlzLmNsaWVudENoYW5uZWwuc2VuZFVURihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgYW5zd2VyOiBob3N0QW5zd2VyXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBzZXRDbGllbnRDaGFubmVsKGNoYW5uZWw6IElDb25uZWN0aW9uRGV0YWlscyk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsaWVudENoYW5uZWwgPSBjaGFubmVsO1xuICAgIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3ZWIzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYnNvY2tldFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3cnRjXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNyeXB0b1wiKTsiLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXIgdjEzLjIuNlxuICogKGMpIDIwMTAtMjAyMiBHb29nbGUgTExDLiBodHRwczovL2FuZ3VsYXIuaW8vXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuXG5pbXBvcnQgeyBTdWJqZWN0LCBTdWJzY3JpcHRpb24sIE9ic2VydmFibGUsIG1lcmdlIGFzIG1lcmdlJDEgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHNoYXJlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldENsb3N1cmVTYWZlUHJvcGVydHkob2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0KSB7XG4gICAgZm9yIChsZXQga2V5IGluIG9ialdpdGhQcm9wZXJ0eVRvRXh0cmFjdCkge1xuICAgICAgICBpZiAob2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0W2tleV0gPT09IGdldENsb3N1cmVTYWZlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHJlbmFtZWQgcHJvcGVydHkgb24gdGFyZ2V0IG9iamVjdC4nKTtcbn1cbi8qKlxuICogU2V0cyBwcm9wZXJ0aWVzIG9uIGEgdGFyZ2V0IG9iamVjdCBmcm9tIGEgc291cmNlIG9iamVjdCwgYnV0IG9ubHkgaWZcbiAqIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgdG8gc2V0IHByb3BlcnRpZXMgb25cbiAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvZiB0aGUgcHJvcGVydHkga2V5cyBhbmQgdmFsdWVzIHRvIHNldFxuICovXG5mdW5jdGlvbiBmaWxsUHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkgJiYgIXRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeSh0b2tlbikge1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodG9rZW4pKSB7XG4gICAgICAgIHJldHVybiAnWycgKyB0b2tlbi5tYXAoc3RyaW5naWZ5KS5qb2luKCcsICcpICsgJ10nO1xuICAgIH1cbiAgICBpZiAodG9rZW4gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuLm92ZXJyaWRkZW5OYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHt0b2tlbi5vdmVycmlkZGVuTmFtZX1gO1xuICAgIH1cbiAgICBpZiAodG9rZW4ubmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7dG9rZW4ubmFtZX1gO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSB0b2tlbi50b1N0cmluZygpO1xuICAgIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyByZXM7XG4gICAgfVxuICAgIGNvbnN0IG5ld0xpbmVJbmRleCA9IHJlcy5pbmRleE9mKCdcXG4nKTtcbiAgICByZXR1cm4gbmV3TGluZUluZGV4ID09PSAtMSA/IHJlcyA6IHJlcy5zdWJzdHJpbmcoMCwgbmV3TGluZUluZGV4KTtcbn1cbi8qKlxuICogQ29uY2F0ZW5hdGVzIHR3byBzdHJpbmdzIHdpdGggc2VwYXJhdG9yLCBhbGxvY2F0aW5nIG5ldyBzdHJpbmdzIG9ubHkgd2hlbiBuZWNlc3NhcnkuXG4gKlxuICogQHBhcmFtIGJlZm9yZSBiZWZvcmUgc3RyaW5nLlxuICogQHBhcmFtIHNlcGFyYXRvciBzZXBhcmF0b3Igc3RyaW5nLlxuICogQHBhcmFtIGFmdGVyIGFmdGVyIHN0cmluZy5cbiAqIEByZXR1cm5zIGNvbmNhdGVuYXRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbmNhdFN0cmluZ3NXaXRoU3BhY2UoYmVmb3JlLCBhZnRlcikge1xuICAgIHJldHVybiAoYmVmb3JlID09IG51bGwgfHwgYmVmb3JlID09PSAnJykgP1xuICAgICAgICAoYWZ0ZXIgPT09IG51bGwgPyAnJyA6IGFmdGVyKSA6XG4gICAgICAgICgoYWZ0ZXIgPT0gbnVsbCB8fCBhZnRlciA9PT0gJycpID8gYmVmb3JlIDogYmVmb3JlICsgJyAnICsgYWZ0ZXIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IF9fZm9yd2FyZF9yZWZfXyA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBfX2ZvcndhcmRfcmVmX186IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG4vKipcbiAqIEFsbG93cyB0byByZWZlciB0byByZWZlcmVuY2VzIHdoaWNoIGFyZSBub3QgeWV0IGRlZmluZWQuXG4gKlxuICogRm9yIGluc3RhbmNlLCBgZm9yd2FyZFJlZmAgaXMgdXNlZCB3aGVuIHRoZSBgdG9rZW5gIHdoaWNoIHdlIG5lZWQgdG8gcmVmZXIgdG8gZm9yIHRoZSBwdXJwb3NlcyBvZlxuICogREkgaXMgZGVjbGFyZWQsIGJ1dCBub3QgeWV0IGRlZmluZWQuIEl0IGlzIGFsc28gdXNlZCB3aGVuIHRoZSBgdG9rZW5gIHdoaWNoIHdlIHVzZSB3aGVuIGNyZWF0aW5nXG4gKiBhIHF1ZXJ5IGlzIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2ZvcndhcmRfcmVmL2ZvcndhcmRfcmVmX3NwZWMudHMgcmVnaW9uPSdmb3J3YXJkX3JlZid9XG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGZvcndhcmRSZWYoZm9yd2FyZFJlZkZuKSB7XG4gICAgZm9yd2FyZFJlZkZuLl9fZm9yd2FyZF9yZWZfXyA9IGZvcndhcmRSZWY7XG4gICAgZm9yd2FyZFJlZkZuLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5KHRoaXMoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZm9yd2FyZFJlZkZuO1xufVxuLyoqXG4gKiBMYXppbHkgcmV0cmlldmVzIHRoZSByZWZlcmVuY2UgdmFsdWUgZnJvbSBhIGZvcndhcmRSZWYuXG4gKlxuICogQWN0cyBhcyB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gd2hlbiBnaXZlbiBhIG5vbi1mb3J3YXJkLXJlZiB2YWx1ZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9mb3J3YXJkX3JlZi9mb3J3YXJkX3JlZl9zcGVjLnRzIHJlZ2lvbj0ncmVzb2x2ZV9mb3J3YXJkX3JlZid9XG4gKlxuICogQHNlZSBgZm9yd2FyZFJlZmBcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSkge1xuICAgIHJldHVybiBpc0ZvcndhcmRSZWYodHlwZSkgPyB0eXBlKCkgOiB0eXBlO1xufVxuLyoqIENoZWNrcyB3aGV0aGVyIGEgZnVuY3Rpb24gaXMgd3JhcHBlZCBieSBhIGBmb3J3YXJkUmVmYC4gKi9cbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZihmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgZm4uaGFzT3duUHJvcGVydHkoX19mb3J3YXJkX3JlZl9fKSAmJlxuICAgICAgICBmbi5fX2ZvcndhcmRfcmVmX18gPT09IGZvcndhcmRSZWY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCYXNlIFVSTCBmb3IgdGhlIGVycm9yIGRldGFpbHMgcGFnZS5cbiAqXG4gKiBLZWVwIHRoZSBmaWxlcyBiZWxvdyBpbiBmdWxsIHN5bmM6XG4gKiAgLSBwYWNrYWdlcy9jb21waWxlci1jbGkvc3JjL25ndHNjL2RpYWdub3N0aWNzL3NyYy9lcnJvcl9kZXRhaWxzX2Jhc2VfdXJsLnRzXG4gKiAgLSBwYWNrYWdlcy9jb3JlL3NyYy9lcnJvcl9kZXRhaWxzX2Jhc2VfdXJsLnRzXG4gKi9cbmNvbnN0IEVSUk9SX0RFVEFJTFNfUEFHRV9CQVNFX1VSTCA9ICdodHRwczovL2FuZ3VsYXIuaW8vZXJyb3JzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHJ1bnRpbWUgZXJyb3IuXG4gKiBGb3JtYXRzIGFuZCBvdXRwdXRzIHRoZSBlcnJvciBtZXNzYWdlIGluIGEgY29uc2lzdGVudCB3YXkuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gKiAgICBSdW50aW1lRXJyb3JDb2RlLklOSkVDVE9SX0FMUkVBRFlfREVTVFJPWUVELFxuICogICAgbmdEZXZNb2RlICYmICdJbmplY3RvciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC4nKTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHRoZSBgbWVzc2FnZWAgYXJndW1lbnQgY29udGFpbnMgYSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlIGFzIGEgc3RyaW5nIGluIGRldmVsb3BtZW50XG4gKiBtb2RlICh3aGVuIHRoZSBgbmdEZXZNb2RlYCBpcyBkZWZpbmVkKS4gSW4gcHJvZHVjdGlvbiBtb2RlIChhZnRlciB0cmVlLXNoYWtpbmcgcGFzcyksIHRoZVxuICogYG1lc3NhZ2VgIGFyZ3VtZW50IGJlY29tZXMgYGZhbHNlYCwgdGh1cyB3ZSBhY2NvdW50IGZvciBpdCBpbiB0aGUgdHlwaW5ncyBhbmQgdGhlIHJ1bnRpbWUgbG9naWMuXG4gKi9cbmNsYXNzIFJ1bnRpbWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKGZvcm1hdFJ1bnRpbWVFcnJvcihjb2RlLCBtZXNzYWdlKSk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuLyoqXG4gKiBDYWxsZWQgdG8gZm9ybWF0IGEgcnVudGltZSBlcnJvci5cbiAqIFNlZSBhZGRpdGlvbmFsIGluZm8gb24gdGhlIGBtZXNzYWdlYCBhcmd1bWVudCB0eXBlIGluIHRoZSBgUnVudGltZUVycm9yYCBjbGFzcyBkZXNjcmlwdGlvbi5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0UnVudGltZUVycm9yKGNvZGUsIG1lc3NhZ2UpIHtcbiAgICAvLyBFcnJvciBjb2RlIG1pZ2h0IGJlIGEgbmVnYXRpdmUgbnVtYmVyLCB3aGljaCBpcyBhIHNwZWNpYWwgbWFya2VyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBsb2dpYyB0b1xuICAgIC8vIGdlbmVyYXRlIGEgbGluayB0byB0aGUgZXJyb3IgZGV0YWlscyBwYWdlIG9uIGFuZ3VsYXIuaW8uXG4gICAgY29uc3QgZnVsbENvZGUgPSBgTkcwJHtNYXRoLmFicyhjb2RlKX1gO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgJHtmdWxsQ29kZX0ke21lc3NhZ2UgPyAnOiAnICsgbWVzc2FnZSA6ICcnfWA7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiBjb2RlIDwgMCkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgJHtlcnJvck1lc3NhZ2V9LiBGaW5kIG1vcmUgYXQgJHtFUlJPUl9ERVRBSUxTX1BBR0VfQkFTRV9VUkx9LyR7ZnVsbENvZGV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVzZWQgZm9yIHN0cmluZ2lmeSByZW5kZXIgb3V0cHV0IGluIEl2eS5cbiAqIEltcG9ydGFudCEgVGhpcyBmdW5jdGlvbiBpcyB2ZXJ5IHBlcmZvcm1hbmNlLXNlbnNpdGl2ZSBhbmQgd2Ugc2hvdWxkXG4gKiBiZSBleHRyYSBjYXJlZnVsIG5vdCB0byBpbnRyb2R1Y2UgbWVnYW1vcnBoaWMgcmVhZHMgaW4gaXQuXG4gKiBDaGVjayBgY29yZS90ZXN0L3JlbmRlcjMvcGVyZi9yZW5kZXJfc3RyaW5naWZ5YCBmb3IgYmVuY2htYXJrcyBhbmQgYWx0ZXJuYXRlIGltcGxlbWVudGF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3RyaW5naWZ5KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIC8vIFVzZSBgU3RyaW5nYCBzbyB0aGF0IGl0IGludm9rZXMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIHRoZSB2YWx1ZS4gTm90ZSB0aGF0IHRoaXNcbiAgICAvLyBhcHBlYXJzIHRvIGJlIGZhc3RlciB0aGFuIGNhbGxpbmcgYHZhbHVlLnRvU3RyaW5nYCAoc2VlIGByZW5kZXJfc3RyaW5naWZ5YCBiZW5jaG1hcmspLlxuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuLyoqXG4gKiBVc2VkIHRvIHN0cmluZ2lmeSBhIHZhbHVlIHNvIHRoYXQgaXQgY2FuIGJlIGRpc3BsYXllZCBpbiBhbiBlcnJvciBtZXNzYWdlLlxuICogSW1wb3J0YW50ISBUaGlzIGZ1bmN0aW9uIGNvbnRhaW5zIGEgbWVnYW1vcnBoaWMgcmVhZCBhbmQgc2hvdWxkIG9ubHkgYmVcbiAqIHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlGb3JFcnJvcih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB2YWx1ZS5uYW1lIHx8IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWUudHlwZS5uYW1lIHx8IHZhbHVlLnR5cGUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclN0cmluZ2lmeSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIENhbGxlZCB3aGVuIGRpcmVjdGl2ZXMgaW5qZWN0IGVhY2ggb3RoZXIgKGNyZWF0aW5nIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSkgKi9cbmZ1bmN0aW9uIHRocm93Q3ljbGljRGVwZW5kZW5jeUVycm9yKHRva2VuLCBwYXRoKSB7XG4gICAgY29uc3QgZGVwUGF0aCA9IHBhdGggPyBgLiBEZXBlbmRlbmN5IHBhdGg6ICR7cGF0aC5qb2luKCcgPiAnKX0gPiAke3Rva2VufWAgOiAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0yMDAgLyogQ1lDTElDX0RJX0RFUEVOREVOQ1kgKi8sIGBDaXJjdWxhciBkZXBlbmRlbmN5IGluIERJIGRldGVjdGVkIGZvciAke3Rva2VufSR7ZGVwUGF0aH1gKTtcbn1cbmZ1bmN0aW9uIHRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbWl4IG11bHRpIHByb3ZpZGVycyBhbmQgcmVndWxhciBwcm92aWRlcnNgKTtcbn1cbmZ1bmN0aW9uIHRocm93SW52YWxpZFByb3ZpZGVyRXJyb3IobmdNb2R1bGVUeXBlLCBwcm92aWRlcnMsIHByb3ZpZGVyKSB7XG4gICAgbGV0IG5nTW9kdWxlRGV0YWlsID0gJyc7XG4gICAgaWYgKG5nTW9kdWxlVHlwZSAmJiBwcm92aWRlcnMpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJEZXRhaWwgPSBwcm92aWRlcnMubWFwKHYgPT4gdiA9PSBwcm92aWRlciA/ICc/JyArIHByb3ZpZGVyICsgJz8nIDogJy4uLicpO1xuICAgICAgICBuZ01vZHVsZURldGFpbCA9XG4gICAgICAgICAgICBgIC0gb25seSBpbnN0YW5jZXMgb2YgUHJvdmlkZXIgYW5kIFR5cGUgYXJlIGFsbG93ZWQsIGdvdDogWyR7cHJvdmlkZXJEZXRhaWwuam9pbignLCAnKX1dYDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb3ZpZGVyIGZvciB0aGUgTmdNb2R1bGUgJyR7c3RyaW5naWZ5KG5nTW9kdWxlVHlwZSl9J2AgKyBuZ01vZHVsZURldGFpbCk7XG59XG4vKiogVGhyb3dzIGFuIGVycm9yIHdoZW4gYSB0b2tlbiBpcyBub3QgZm91bmQgaW4gREkuICovXG5mdW5jdGlvbiB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgaW5qZWN0b3JOYW1lKSB7XG4gICAgY29uc3QgaW5qZWN0b3JEZXRhaWxzID0gaW5qZWN0b3JOYW1lID8gYCBpbiAke2luamVjdG9yTmFtZX1gIDogJyc7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMjAxIC8qIFBST1ZJREVSX05PVF9GT1VORCAqLywgYE5vIHByb3ZpZGVyIGZvciAke3N0cmluZ2lmeUZvckVycm9yKHRva2VuKX0gZm91bmQke2luamVjdG9yRGV0YWlsc31gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBhc3NlcnROdW1iZXIoYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoISh0eXBlb2YgYWN0dWFsID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIHR5cGVvZiBhY3R1YWwsICdudW1iZXInLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TnVtYmVySW5SYW5nZShhY3R1YWwsIG1pbkluY2x1c2l2ZSwgbWF4SW5jbHVzaXZlKSB7XG4gICAgYXNzZXJ0TnVtYmVyKGFjdHVhbCwgJ0V4cGVjdGVkIGEgbnVtYmVyJyk7XG4gICAgYXNzZXJ0TGVzc1RoYW5PckVxdWFsKGFjdHVhbCwgbWF4SW5jbHVzaXZlLCAnRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0bycpO1xuICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChhY3R1YWwsIG1pbkluY2x1c2l2ZSwgJ0V4cGVjdGVkIG51bWJlciB0byBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFN0cmluZyhhY3R1YWwsIG1zZykge1xuICAgIGlmICghKHR5cGVvZiBhY3R1YWwgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdHVhbCwgJ3N0cmluZycsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRGdW5jdGlvbihhY3R1YWwsIG1zZykge1xuICAgIGlmICghKHR5cGVvZiBhY3R1YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0dWFsLCAnZnVuY3Rpb24nLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID09IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsICE9IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJyE9Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0U2FtZShhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPT09IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz09PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE5vdFNhbWUoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsICE9PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICchPT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRMZXNzVGhhbihhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPCBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc8Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TGVzc1RoYW5PckVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA8PSBleHBlY3RlZCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsICc8PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEdyZWF0ZXJUaGFuKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA+IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID49IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJz49Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90RGVmaW5lZChhY3R1YWwsIG1zZykge1xuICAgIGlmIChhY3R1YWwgIT0gbnVsbCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBudWxsLCAnPT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnREZWZpbmVkKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIG51bGwsICchPScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJpc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBU1NFUlRJT04gRVJST1I6ICR7bXNnfWAgK1xuICAgICAgICAoY29tcGFyaXNvbiA9PSBudWxsID8gJycgOiBgIFtFeHBlY3RlZD0+ICR7ZXhwZWN0ZWR9ICR7Y29tcGFyaXNvbn0gJHthY3R1YWx9IDw9QWN0dWFsXWApKTtcbn1cbmZ1bmN0aW9uIGFzc2VydERvbU5vZGUobm9kZSkge1xuICAgIC8vIElmIHdlJ3JlIGluIGEgd29ya2VyLCBgTm9kZWAgd2lsbCBub3QgYmUgZGVmaW5lZC5cbiAgICBpZiAoISh0eXBlb2YgTm9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbm9kZSBpbnN0YW5jZW9mIE5vZGUpICYmXG4gICAgICAgICEodHlwZW9mIG5vZGUgPT09ICdvYmplY3QnICYmIG5vZGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgbm9kZS5jb25zdHJ1Y3Rvci5uYW1lID09PSAnV2ViV29ya2VyUmVuZGVyTm9kZScpKSB7XG4gICAgICAgIHRocm93RXJyb3IoYFRoZSBwcm92aWRlZCB2YWx1ZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIGEgRE9NIE5vZGUgYnV0IGdvdCAke3N0cmluZ2lmeShub2RlKX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRJbmRleEluUmFuZ2UoYXJyLCBpbmRleCkge1xuICAgIGFzc2VydERlZmluZWQoYXJyLCAnQXJyYXkgbXVzdCBiZSBkZWZpbmVkLicpO1xuICAgIGNvbnN0IG1heExlbiA9IGFyci5sZW5ndGg7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBtYXhMZW4pIHtcbiAgICAgICAgdGhyb3dFcnJvcihgSW5kZXggZXhwZWN0ZWQgdG8gYmUgbGVzcyB0aGFuICR7bWF4TGVufSBidXQgZ290ICR7aW5kZXh9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0T25lT2YodmFsdWUsIC4uLnZhbGlkVmFsdWVzKSB7XG4gICAgaWYgKHZhbGlkVmFsdWVzLmluZGV4T2YodmFsdWUpICE9PSAtMSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgdGhyb3dFcnJvcihgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICR7SlNPTi5zdHJpbmdpZnkodmFsaWRWYWx1ZXMpfSBidXQgd2FzICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfS5gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnN0cnVjdCBhbiBpbmplY3RhYmxlIGRlZmluaXRpb24gd2hpY2ggZGVmaW5lcyBob3cgYSB0b2tlbiB3aWxsIGJlIGNvbnN0cnVjdGVkIGJ5IHRoZSBESVxuICogc3lzdGVtLCBhbmQgaW4gd2hpY2ggaW5qZWN0b3JzIChpZiBhbnkpIGl0IHdpbGwgYmUgYXZhaWxhYmxlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGFzc2lnbmVkIHRvIGEgc3RhdGljIGDJtXByb3ZgIGZpZWxkIG9uIGEgdHlwZSwgd2hpY2ggd2lsbCB0aGVuIGJlIGFuXG4gKiBgSW5qZWN0YWJsZVR5cGVgLlxuICpcbiAqIE9wdGlvbnM6XG4gKiAqIGBwcm92aWRlZEluYCBkZXRlcm1pbmVzIHdoaWNoIGluamVjdG9ycyB3aWxsIGluY2x1ZGUgdGhlIGluamVjdGFibGUsIGJ5IGVpdGhlciBhc3NvY2lhdGluZyBpdFxuICogICB3aXRoIGFuIGBATmdNb2R1bGVgIG9yIG90aGVyIGBJbmplY3RvclR5cGVgLCBvciBieSBzcGVjaWZ5aW5nIHRoYXQgdGhpcyBpbmplY3RhYmxlIHNob3VsZCBiZVxuICogICBwcm92aWRlZCBpbiB0aGUgYCdyb290J2AgaW5qZWN0b3IsIHdoaWNoIHdpbGwgYmUgdGhlIGFwcGxpY2F0aW9uLWxldmVsIGluamVjdG9yIGluIG1vc3QgYXBwcy5cbiAqICogYGZhY3RvcnlgIGdpdmVzIHRoZSB6ZXJvIGFyZ3VtZW50IGZ1bmN0aW9uIHdoaWNoIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBpbmplY3RhYmxlLlxuICogICBUaGUgZmFjdG9yeSBjYW4gY2FsbCBgaW5qZWN0YCB0byBhY2Nlc3MgdGhlIGBJbmplY3RvcmAgYW5kIHJlcXVlc3QgaW5qZWN0aW9uIG9mIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICogQHB1YmxpY0FwaSBUaGlzIGluc3RydWN0aW9uIGhhcyBiZWVuIGVtaXR0ZWQgYnkgVmlld0VuZ2luZSBmb3Igc29tZSB0aW1lIGFuZCBpcyBkZXBsb3llZCB0byBucG0uXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVJbmplY3RhYmxlKG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbjogb3B0cy50b2tlbixcbiAgICAgICAgcHJvdmlkZWRJbjogb3B0cy5wcm92aWRlZEluIHx8IG51bGwsXG4gICAgICAgIGZhY3Rvcnk6IG9wdHMuZmFjdG9yeSxcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBpbiB2OCwgZGVsZXRlIGFmdGVyIHYxMC4gVGhpcyBBUEkgc2hvdWxkIGJlIHVzZWQgb25seSBieSBnZW5lcmF0ZWQgY29kZSwgYW5kIHRoYXRcbiAqIGNvZGUgc2hvdWxkIG5vdyB1c2UgybXJtWRlZmluZUluamVjdGFibGUgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgZGVmaW5lSW5qZWN0YWJsZSA9IMm1ybVkZWZpbmVJbmplY3RhYmxlO1xuLyoqXG4gKiBDb25zdHJ1Y3QgYW4gYEluamVjdG9yRGVmYCB3aGljaCBjb25maWd1cmVzIGFuIGluamVjdG9yLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGFzc2lnbmVkIHRvIGEgc3RhdGljIGluamVjdG9yIGRlZiAoYMm1aW5qYCkgZmllbGQgb24gYSB0eXBlLCB3aGljaCB3aWxsIHRoZW4gYmUgYW5cbiAqIGBJbmplY3RvclR5cGVgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogKiBgcHJvdmlkZXJzYDogYW4gb3B0aW9uYWwgYXJyYXkgb2YgcHJvdmlkZXJzIHRvIGFkZCB0byB0aGUgaW5qZWN0b3IuIEVhY2ggcHJvdmlkZXIgbXVzdFxuICogICBlaXRoZXIgaGF2ZSBhIGZhY3Rvcnkgb3IgcG9pbnQgdG8gYSB0eXBlIHdoaWNoIGhhcyBhIGDJtXByb3ZgIHN0YXRpYyBwcm9wZXJ0eSAodGhlXG4gKiAgIHR5cGUgbXVzdCBiZSBhbiBgSW5qZWN0YWJsZVR5cGVgKS5cbiAqICogYGltcG9ydHNgOiBhbiBvcHRpb25hbCBhcnJheSBvZiBpbXBvcnRzIG9mIG90aGVyIGBJbmplY3RvclR5cGVgcyBvciBgSW5qZWN0b3JUeXBlV2l0aE1vZHVsZWBzXG4gKiAgIHdob3NlIHByb3ZpZGVycyB3aWxsIGFsc28gYmUgYWRkZWQgdG8gdGhlIGluamVjdG9yLiBMb2NhbGx5IHByb3ZpZGVkIHR5cGVzIHdpbGwgb3ZlcnJpZGVcbiAqICAgcHJvdmlkZXJzIGZyb20gaW1wb3J0cy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZGVmaW5lSW5qZWN0b3Iob3B0aW9ucykge1xuICAgIHJldHVybiB7IHByb3ZpZGVyczogb3B0aW9ucy5wcm92aWRlcnMgfHwgW10sIGltcG9ydHM6IG9wdGlvbnMuaW1wb3J0cyB8fCBbXSB9O1xufVxuLyoqXG4gKiBSZWFkIHRoZSBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIGZvciBgdHlwZWAgaW4gYSB3YXkgd2hpY2ggaXMgaW1tdW5lIHRvIGFjY2lkZW50YWxseSByZWFkaW5nXG4gKiBpbmhlcml0ZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHR5cGUgQSB0eXBlIHdoaWNoIG1heSBoYXZlIGl0cyBvd24gKG5vbi1pbmhlcml0ZWQpIGDJtXByb3ZgLlxuICovXG5mdW5jdGlvbiBnZXRJbmplY3RhYmxlRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gZ2V0T3duRGVmaW5pdGlvbih0eXBlLCBOR19QUk9WX0RFRikgfHwgZ2V0T3duRGVmaW5pdGlvbih0eXBlLCBOR19JTkpFQ1RBQkxFX0RFRik7XG59XG4vKipcbiAqIFJldHVybiBkZWZpbml0aW9uIG9ubHkgaWYgaXQgaXMgZGVmaW5lZCBkaXJlY3RseSBvbiBgdHlwZWAgYW5kIGlzIG5vdCBpbmhlcml0ZWQgZnJvbSBhIGJhc2VcbiAqIGNsYXNzIG9mIGB0eXBlYC5cbiAqL1xuZnVuY3Rpb24gZ2V0T3duRGVmaW5pdGlvbih0eXBlLCBmaWVsZCkge1xuICAgIHJldHVybiB0eXBlLmhhc093blByb3BlcnR5KGZpZWxkKSA/IHR5cGVbZmllbGRdIDogbnVsbDtcbn1cbi8qKlxuICogUmVhZCB0aGUgaW5qZWN0YWJsZSBkZWYgKGDJtXByb3ZgKSBmb3IgYHR5cGVgIG9yIHJlYWQgdGhlIGDJtXByb3ZgIGZyb20gb25lIG9mIGl0cyBhbmNlc3RvcnMuXG4gKlxuICogQHBhcmFtIHR5cGUgQSB0eXBlIHdoaWNoIG1heSBoYXZlIGDJtXByb3ZgLCB2aWEgaW5oZXJpdGFuY2UuXG4gKlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgQW5ndWxhciwgd2hlcmUgYW4gZXJyb3Igd2lsbCBvY2N1ciBpbiB0aGVcbiAqICAgICBzY2VuYXJpbyBpZiB3ZSBmaW5kIHRoZSBgybVwcm92YCBvbiBhbiBhbmNlc3RvciBvbmx5LlxuICovXG5mdW5jdGlvbiBnZXRJbmhlcml0ZWRJbmplY3RhYmxlRGVmKHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSB0eXBlICYmICh0eXBlW05HX1BST1ZfREVGXSB8fCB0eXBlW05HX0lOSkVDVEFCTEVfREVGXSk7XG4gICAgaWYgKGRlZikge1xuICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGdldFR5cGVOYW1lKHR5cGUpO1xuICAgICAgICAvLyBUT0RPKEZXLTEzMDcpOiBSZS1hZGQgbmdEZXZNb2RlIHdoZW4gY2xvc3VyZSBjYW4gaGFuZGxlIGl0XG4gICAgICAgIC8vIG5nRGV2TW9kZSAmJlxuICAgICAgICBjb25zb2xlLndhcm4oYERFUFJFQ0FURUQ6IERJIGlzIGluc3RhbnRpYXRpbmcgYSB0b2tlbiBcIiR7dHlwZU5hbWV9XCIgdGhhdCBpbmhlcml0cyBpdHMgQEluamVjdGFibGUgZGVjb3JhdG9yIGJ1dCBkb2VzIG5vdCBwcm92aWRlIG9uZSBpdHNlbGYuXFxuYCArXG4gICAgICAgICAgICBgVGhpcyB3aWxsIGJlY29tZSBhbiBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEFuZ3VsYXIuIFBsZWFzZSBhZGQgQEluamVjdGFibGUoKSB0byB0aGUgXCIke3R5cGVOYW1lfVwiIGNsYXNzLmApO1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqIEdldHMgdGhlIG5hbWUgb2YgYSB0eXBlLCBhY2NvdW50aW5nIGZvciBzb21lIGNyb3NzLWJyb3dzZXIgZGlmZmVyZW5jZXMuICovXG5mdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgLy8gYEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lYCBiZWhhdmVzIGRpZmZlcmVudGx5IGJldHdlZW4gSUUgYW5kIG90aGVyIGJyb3dzZXJzLiBJbiBtb3N0IGJyb3dzZXJzXG4gICAgLy8gaXQnbGwgYWx3YXlzIHJldHVybiB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gaXRzZWxmLCBubyBtYXR0ZXIgaG93IG1hbnkgb3RoZXIgZnVuY3Rpb25zIGl0XG4gICAgLy8gaW5oZXJpdHMgZnJvbS4gT24gSUUgdGhlIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSBpdHMgb3duIGBuYW1lYCBwcm9wZXJ0eSwgYnV0IGl0IHRha2VzIGl0IGZyb21cbiAgICAvLyB0aGUgbG93ZXN0IGxldmVsIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uIEUuZy4gaWYgd2UgaGF2ZSBgY2xhc3MgRm9vIGV4dGVuZHMgUGFyZW50YCBtb3N0XG4gICAgLy8gYnJvd3NlcnMgd2lsbCBldmFsdWF0ZSBgRm9vLm5hbWVgIHRvIGBGb29gIHdoaWxlIElFIHdpbGwgcmV0dXJuIGBQYXJlbnRgLiBXZSB3b3JrIGFyb3VuZFxuICAgIC8vIHRoZSBpc3N1ZSBieSBjb252ZXJ0aW5nIHRoZSBmdW5jdGlvbiB0byBhIHN0cmluZyBhbmQgcGFyc2luZyBpdHMgbmFtZSBvdXQgdGhhdCB3YXkgdmlhIGEgcmVnZXguXG4gICAgaWYgKHR5cGUuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkge1xuICAgICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9ICgnJyArIHR5cGUpLm1hdGNoKC9eZnVuY3Rpb25cXHMqKFteXFxzKF0rKS8pO1xuICAgIHJldHVybiBtYXRjaCA9PT0gbnVsbCA/ICcnIDogbWF0Y2hbMV07XG59XG4vKipcbiAqIFJlYWQgdGhlIGluamVjdG9yIGRlZiB0eXBlIGluIGEgd2F5IHdoaWNoIGlzIGltbXVuZSB0byBhY2NpZGVudGFsbHkgcmVhZGluZyBpbmhlcml0ZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHR5cGUgdHlwZSB3aGljaCBtYXkgaGF2ZSBhbiBpbmplY3RvciBkZWYgKGDJtWluamApXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdG9yRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSAmJiAodHlwZS5oYXNPd25Qcm9wZXJ0eShOR19JTkpfREVGKSB8fCB0eXBlLmhhc093blByb3BlcnR5KE5HX0lOSkVDVE9SX0RFRikpID9cbiAgICAgICAgdHlwZVtOR19JTkpfREVGXSA6XG4gICAgICAgIG51bGw7XG59XG5jb25zdCBOR19QUk9WX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtXByb3Y6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19JTkpfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1aW5qOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLy8gV2UgbmVlZCB0byBrZWVwIHRoZXNlIGFyb3VuZCBzbyB3ZSBjYW4gcmVhZCBvZmYgb2xkIGRlZnMgaWYgbmV3IGRlZnMgYXJlIHVuYXZhaWxhYmxlXG5jb25zdCBOR19JTkpFQ1RBQkxFX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBuZ0luamVjdGFibGVEZWY6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19JTkpFQ1RPUl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgbmdJbmplY3RvckRlZjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdGlvbiBmbGFncyBmb3IgREkuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgSW5qZWN0RmxhZ3M7XG4oZnVuY3Rpb24gKEluamVjdEZsYWdzKSB7XG4gICAgLy8gVE9ETyhhbHhodWIpOiBtYWtlIHRoaXMgJ2NvbnN0JyAoYW5kIHJlbW92ZSBgSW50ZXJuYWxJbmplY3RGbGFnc2AgZW51bSkgd2hlbiBuZ2Mgbm8gbG9uZ2VyXG4gICAgLy8gd3JpdGVzIGV4cG9ydHMgb2YgaXQgaW50byBuZ2ZhY3RvcnkgZmlsZXMuXG4gICAgLyoqIENoZWNrIHNlbGYgYW5kIGNoZWNrIHBhcmVudCBpbmplY3RvciBpZiBuZWVkZWQgKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGluamVjdG9yIHNob3VsZCByZXRyaWV2ZSBhIGRlcGVuZGVuY3kgZnJvbSBhbnkgaW5qZWN0b3IgdW50aWwgcmVhY2hpbmcgdGhlXG4gICAgICogaG9zdCBlbGVtZW50IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudC4gKE9ubHkgdXNlZCB3aXRoIEVsZW1lbnQgSW5qZWN0b3IpXG4gICAgICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJIb3N0XCJdID0gMV0gPSBcIkhvc3RcIjtcbiAgICAvKiogRG9uJ3QgYXNjZW5kIHRvIGFuY2VzdG9ycyBvZiB0aGUgbm9kZSByZXF1ZXN0aW5nIGluamVjdGlvbi4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIlNlbGZcIl0gPSAyXSA9IFwiU2VsZlwiO1xuICAgIC8qKiBTa2lwIHRoZSBub2RlIHRoYXQgaXMgcmVxdWVzdGluZyBpbmplY3Rpb24uICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJTa2lwU2VsZlwiXSA9IDRdID0gXCJTa2lwU2VsZlwiO1xuICAgIC8qKiBJbmplY3QgYGRlZmF1bHRWYWx1ZWAgaW5zdGVhZCBpZiB0b2tlbiBub3QgZm91bmQuICovXG4gICAgSW5qZWN0RmxhZ3NbSW5qZWN0RmxhZ3NbXCJPcHRpb25hbFwiXSA9IDhdID0gXCJPcHRpb25hbFwiO1xufSkoSW5qZWN0RmxhZ3MgfHwgKEluamVjdEZsYWdzID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgaW5qZWN0LlxuICpcbiAqIEJ5IGRlZmF1bHQsIGl0IGlzIGBpbmplY3RJbmplY3Rvck9ubHlgLCB3aGljaCBtYWtlcyBpdCBgSW5qZWN0b3JgLW9ubHkgYXdhcmUuIEl0IGNhbiBiZSBjaGFuZ2VkXG4gKiB0byBgZGlyZWN0aXZlSW5qZWN0YCwgd2hpY2ggYnJpbmdzIGluIHRoZSBgTm9kZUluamVjdG9yYCBzeXN0ZW0gb2YgaXZ5LiBJdCBpcyBkZXNpZ25lZCB0aGlzXG4gKiB3YXkgZm9yIHR3byByZWFzb25zOlxuICogIDEuIGBJbmplY3RvcmAgc2hvdWxkIG5vdCBkZXBlbmQgb24gaXZ5IGxvZ2ljLlxuICogIDIuIFRvIG1haW50YWluIHRyZWUgc2hha2UtYWJpbGl0eSB3ZSBkb24ndCB3YW50IHRvIGJyaW5nIGluIHVubmVjZXNzYXJ5IGNvZGUuXG4gKi9cbmxldCBfaW5qZWN0SW1wbGVtZW50YXRpb247XG5mdW5jdGlvbiBnZXRJbmplY3RJbXBsZW1lbnRhdGlvbigpIHtcbiAgICByZXR1cm4gX2luamVjdEltcGxlbWVudGF0aW9uO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBjdXJyZW50IGluamVjdCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24oaW1wbCkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gX2luamVjdEltcGxlbWVudGF0aW9uO1xuICAgIF9pbmplY3RJbXBsZW1lbnRhdGlvbiA9IGltcGw7XG4gICAgcmV0dXJuIHByZXZpb3VzO1xufVxuLyoqXG4gKiBJbmplY3RzIGByb290YCB0b2tlbnMgaW4gbGltcCBtb2RlLlxuICpcbiAqIElmIG5vIGluamVjdG9yIGV4aXN0cywgd2UgY2FuIHN0aWxsIGluamVjdCB0cmVlLXNoYWthYmxlIHByb3ZpZGVycyB3aGljaCBoYXZlIGBwcm92aWRlZEluYCBzZXQgdG9cbiAqIGBcInJvb3RcImAuIFRoaXMgaXMga25vd24gYXMgdGhlIGxpbXAgbW9kZSBpbmplY3Rpb24uIEluIHN1Y2ggY2FzZSB0aGUgdmFsdWUgaXMgc3RvcmVkIGluIHRoZVxuICogaW5qZWN0YWJsZSBkZWZpbml0aW9uLlxuICovXG5mdW5jdGlvbiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgY29uc3QgaW5qZWN0YWJsZURlZiA9IGdldEluamVjdGFibGVEZWYodG9rZW4pO1xuICAgIGlmIChpbmplY3RhYmxlRGVmICYmIGluamVjdGFibGVEZWYucHJvdmlkZWRJbiA9PSAncm9vdCcpIHtcbiAgICAgICAgcmV0dXJuIGluamVjdGFibGVEZWYudmFsdWUgPT09IHVuZGVmaW5lZCA/IGluamVjdGFibGVEZWYudmFsdWUgPSBpbmplY3RhYmxlRGVmLmZhY3RvcnkoKSA6XG4gICAgICAgICAgICBpbmplY3RhYmxlRGVmLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKG5vdEZvdW5kVmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3Ioc3RyaW5naWZ5KHRva2VuKSwgJ0luamVjdG9yJyk7XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IGBfaW5qZWN0SW1wbGVtZW50YXRpb25gIGlzIG5vdCBgZm5gLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsLCB0byBwcmV2ZW50IGluZmluaXRlIHJlY3Vyc2lvbi5cbiAqXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gd2hpY2ggaXQgc2hvdWxkIG5vdCBlcXVhbCB0b1xuICovXG5mdW5jdGlvbiBhc3NlcnRJbmplY3RJbXBsZW1lbnRhdGlvbk5vdEVxdWFsKGZuKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKF9pbmplY3RJbXBsZW1lbnRhdGlvbiwgZm4sICdDYWxsaW5nIMm1ybVpbmplY3Qgd291bGQgY2F1c2UgaW5maW5pdGUgcmVjdXJzaW9uJyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb252aW5jZSBjbG9zdXJlIGNvbXBpbGVyIHRoYXQgdGhlIHdyYXBwZWQgZnVuY3Rpb24gaGFzIG5vIHNpZGUtZWZmZWN0cy5cbiAqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIGFsd2F5cyBhc3N1bWVzIHRoYXQgYHRvU3RyaW5nYCBoYXMgbm8gc2lkZS1lZmZlY3RzLiBXZSB1c2UgdGhpcyBxdWlyayB0b1xuICogYWxsb3cgdXMgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGJ1dCBoYXZlIGNsb3N1cmUgY29tcGlsZXIgbWFyayB0aGUgY2FsbCBhcyBuby1zaWRlLWVmZmVjdHMuXG4gKiBJdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgcmV0dXJuIHZhbHVlIGZvciB0aGUgYG5vU2lkZUVmZmVjdHNgIGZ1bmN0aW9uIGJlIGFzc2lnbmVkXG4gKiB0byBzb21ldGhpbmcgd2hpY2ggaXMgcmV0YWluZWQgb3RoZXJ3aXNlIHRoZSBjYWxsIHRvIGBub1NpZGVFZmZlY3RzYCB3aWxsIGJlIHJlbW92ZWQgYnkgY2xvc3VyZVxuICogY29tcGlsZXIuXG4gKi9cbmZ1bmN0aW9uIG5vU2lkZUVmZmVjdHMoZm4pIHtcbiAgICByZXR1cm4geyB0b1N0cmluZzogZm4gfS50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIHN0cmF0ZWd5IHRoYXQgdGhlIGRlZmF1bHQgY2hhbmdlIGRldGVjdG9yIHVzZXMgdG8gZGV0ZWN0IGNoYW5nZXMuXG4gKiBXaGVuIHNldCwgdGFrZXMgZWZmZWN0IHRoZSBuZXh0IHRpbWUgY2hhbmdlIGRldGVjdGlvbiBpcyB0cmlnZ2VyZWQuXG4gKlxuICogQHNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjdXNhZ2Utbm90ZXMgQ2hhbmdlIGRldGVjdGlvbiB1c2FnZX1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneTtcbihmdW5jdGlvbiAoQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kpIHtcbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIGBDaGVja09uY2VgIHN0cmF0ZWd5LCBtZWFuaW5nIHRoYXQgYXV0b21hdGljIGNoYW5nZSBkZXRlY3Rpb24gaXMgZGVhY3RpdmF0ZWRcbiAgICAgKiB1bnRpbCByZWFjdGl2YXRlZCBieSBzZXR0aW5nIHRoZSBzdHJhdGVneSB0byBgRGVmYXVsdGAgKGBDaGVja0Fsd2F5c2ApLlxuICAgICAqIENoYW5nZSBkZXRlY3Rpb24gY2FuIHN0aWxsIGJlIGV4cGxpY2l0bHkgaW52b2tlZC5cbiAgICAgKiBUaGlzIHN0cmF0ZWd5IGFwcGxpZXMgdG8gYWxsIGNoaWxkIGRpcmVjdGl2ZXMgYW5kIGNhbm5vdCBiZSBvdmVycmlkZGVuLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5W0NoYW5nZURldGVjdGlvblN0cmF0ZWd5W1wiT25QdXNoXCJdID0gMF0gPSBcIk9uUHVzaFwiO1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgZGVmYXVsdCBgQ2hlY2tBbHdheXNgIHN0cmF0ZWd5LCBpbiB3aGljaCBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGF1dG9tYXRpYyB1bnRpbFxuICAgICAqIGV4cGxpY2l0bHkgZGVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJEZWZhdWx0XCJdID0gMV0gPSBcIkRlZmF1bHRcIjtcbn0pKENoYW5nZURldGVjdGlvblN0cmF0ZWd5IHx8IChDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IHt9KSk7XG4vKipcbiAqIERlZmluZXMgdGhlIHBvc3NpYmxlIHN0YXRlcyBvZiB0aGUgZGVmYXVsdCBjaGFuZ2UgZGV0ZWN0b3IuXG4gKiBAc2VlIGBDaGFuZ2VEZXRlY3RvclJlZmBcbiAqL1xudmFyIENoYW5nZURldGVjdG9yU3RhdHVzO1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3RvclN0YXR1cykge1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2gsIGFmdGVyIGNhbGxpbmcgYGRldGVjdENoYW5nZXMoKWAsIHRoZSBjaGFuZ2UgZGV0ZWN0b3JcbiAgICAgKiBzdGF0ZSBiZWNvbWVzIGBDaGVja2VkYCwgYW5kIG11c3QgYmUgZXhwbGljaXRseSBpbnZva2VkIG9yIHJlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tPbmNlXCJdID0gMF0gPSBcIkNoZWNrT25jZVwiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggY2hhbmdlIGRldGVjdGlvbiBpcyBza2lwcGVkIHVudGlsIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgbW9kZVxuICAgICAqIGJlY29tZXMgYENoZWNrT25jZWAuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja2VkXCJdID0gMV0gPSBcIkNoZWNrZWRcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGNoYW5nZSBkZXRlY3Rpb24gY29udGludWVzIGF1dG9tYXRpY2FsbHkgdW50aWwgZXhwbGljaXRseVxuICAgICAqIGRlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tBbHdheXNcIl0gPSAyXSA9IFwiQ2hlY2tBbHdheXNcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGEgY2hhbmdlIGRldGVjdG9yIHN1YiB0cmVlIGlzIG5vdCBhIHBhcnQgb2YgdGhlIG1haW4gdHJlZSBhbmRcbiAgICAgKiBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkRldGFjaGVkXCJdID0gM10gPSBcIkRldGFjaGVkXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBlbmNvdW50ZXJlZCBhbiBlcnJvciBjaGVja2luZyBhIGJpbmRpbmdcbiAgICAgKiBvciBjYWxsaW5nIGEgZGlyZWN0aXZlIGxpZmVjeWNsZSBtZXRob2QgYW5kIGlzIG5vdyBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuIENoYW5nZVxuICAgICAqIGRldGVjdG9ycyBpbiB0aGlzIHN0YXRlIGRvIG5vdCBkZXRlY3QgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkVycm9yZWRcIl0gPSA0XSA9IFwiRXJyb3JlZFwiO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBjaGFuZ2UgZGV0ZWN0b3IgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRGVzdHJveWVkXCJdID0gNV0gPSBcIkRlc3Ryb3llZFwiO1xufSkoQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgfHwgKENoYW5nZURldGVjdG9yU3RhdHVzID0ge30pKTtcbi8qKlxuICogUmVwb3J0cyB3aGV0aGVyIGEgZ2l2ZW4gc3RyYXRlZ3kgaXMgY3VycmVudGx5IHRoZSBkZWZhdWx0IGZvciBjaGFuZ2UgZGV0ZWN0aW9uLlxuICogQHBhcmFtIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5IFRoZSBzdHJhdGVneSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGdpdmVuIHN0cmF0ZWd5IGlzIHRoZSBjdXJyZW50IGRlZmF1bHQsIGZhbHNlIG90aGVyd2lzZS5cbiAqIEBzZWUgYENoYW5nZURldGVjdG9yU3RhdHVzYFxuICogQHNlZSBgQ2hhbmdlRGV0ZWN0b3JSZWZgXG4gKi9cbmZ1bmN0aW9uIGlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5KGNoYW5nZURldGVjdGlvblN0cmF0ZWd5KSB7XG4gICAgcmV0dXJuIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5ID09IG51bGwgfHxcbiAgICAgICAgY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPT09IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZWZpbmVzIHRoZSBDU1Mgc3R5bGVzIGVuY2Fwc3VsYXRpb24gcG9saWNpZXMgZm9yIHRoZSB7QGxpbmsgQ29tcG9uZW50fSBkZWNvcmF0b3Inc1xuICogYGVuY2Fwc3VsYXRpb25gIG9wdGlvbi5cbiAqXG4gKiBTZWUge0BsaW5rIENvbXBvbmVudCNlbmNhcHN1bGF0aW9uIGVuY2Fwc3VsYXRpb259LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL3RzL21ldGFkYXRhL2VuY2Fwc3VsYXRpb24udHMgcmVnaW9uPSdsb25nZm9ybSd9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgVmlld0VuY2Fwc3VsYXRpb24kMTtcbihmdW5jdGlvbiAoVmlld0VuY2Fwc3VsYXRpb24pIHtcbiAgICAvLyBUT0RPOiBjb25zaWRlciBtYWtpbmcgYFZpZXdFbmNhcHN1bGF0aW9uYCBhIGBjb25zdCBlbnVtYCBpbnN0ZWFkLiBTZWVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy80NDExOSBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlcyBhIG5hdGl2ZSBTaGFkb3cgRE9NIGVuY2Fwc3VsYXRpb24gYmVoYXZpb3IgYnkgYWRkaW5nIGEgc3BlY2lmaWMgYXR0cmlidXRlIHRvIHRoZVxuICAgICAqIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCBhbmQgYXBwbHlpbmcgdGhlIHNhbWUgYXR0cmlidXRlIHRvIGFsbCB0aGUgQ1NTIHNlbGVjdG9ycyBwcm92aWRlZFxuICAgICAqIHZpYSB7QGxpbmsgQ29tcG9uZW50I3N0eWxlcyBzdHlsZXN9IG9yIHtAbGluayBDb21wb25lbnQjc3R5bGVVcmxzIHN0eWxlVXJsc30uXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0IG9wdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIkVtdWxhdGVkXCJdID0gMF0gPSBcIkVtdWxhdGVkXCI7XG4gICAgLy8gSGlzdG9yaWNhbGx5IHRoZSAxIHZhbHVlIHdhcyBmb3IgYE5hdGl2ZWAgZW5jYXBzdWxhdGlvbiB3aGljaCBoYXMgYmVlbiByZW1vdmVkIGFzIG9mIHYxMS5cbiAgICAvKipcbiAgICAgKiBEb2Vzbid0IHByb3ZpZGUgYW55IHNvcnQgb2YgQ1NTIHN0eWxlIGVuY2Fwc3VsYXRpb24sIG1lYW5pbmcgdGhhdCBhbGwgdGhlIHN0eWxlcyBwcm92aWRlZFxuICAgICAqIHZpYSB7QGxpbmsgQ29tcG9uZW50I3N0eWxlcyBzdHlsZXN9IG9yIHtAbGluayBDb21wb25lbnQjc3R5bGVVcmxzIHN0eWxlVXJsc30gYXJlIGFwcGxpY2FibGVcbiAgICAgKiB0byBhbnkgSFRNTCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiByZWdhcmRsZXNzIG9mIHRoZWlyIGhvc3QgQ29tcG9uZW50LlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiTm9uZVwiXSA9IDJdID0gXCJOb25lXCI7XG4gICAgLyoqXG4gICAgICogVXNlcyB0aGUgYnJvd3NlcidzIG5hdGl2ZSBTaGFkb3cgRE9NIEFQSSB0byBlbmNhcHN1bGF0ZSBDU1Mgc3R5bGVzLCBtZWFuaW5nIHRoYXQgaXQgY3JlYXRlc1xuICAgICAqIGEgU2hhZG93Um9vdCBmb3IgdGhlIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCB3aGljaCBpcyB0aGVuIHVzZWQgdG8gZW5jYXBzdWxhdGVcbiAgICAgKiBhbGwgdGhlIENvbXBvbmVudCdzIHN0eWxpbmcuXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJTaGFkb3dEb21cIl0gPSAzXSA9IFwiU2hhZG93RG9tXCI7XG59KShWaWV3RW5jYXBzdWxhdGlvbiQxIHx8IChWaWV3RW5jYXBzdWxhdGlvbiQxID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcztcbmNvbnN0IF9fd2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93O1xuY29uc3QgX19zZWxmID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiYgc2VsZjtcbmNvbnN0IF9fZ2xvYmFsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsO1xuLy8gQWx3YXlzIHVzZSBfX2dsb2JhbFRoaXMgaWYgYXZhaWxhYmxlLCB3aGljaCBpcyB0aGUgc3BlYy1kZWZpbmVkIGdsb2JhbCB2YXJpYWJsZSBhY3Jvc3MgYWxsXG4vLyBlbnZpcm9ubWVudHMsIHRoZW4gZmFsbGJhY2sgdG8gX19nbG9iYWwgZmlyc3QsIGJlY2F1c2UgaW4gTm9kZSB0ZXN0cyBib3RoIF9fZ2xvYmFsIGFuZFxuLy8gX193aW5kb3cgbWF5IGJlIGRlZmluZWQgYW5kIF9nbG9iYWwgc2hvdWxkIGJlIF9fZ2xvYmFsIGluIHRoYXQgY2FzZS5cbmNvbnN0IF9nbG9iYWwgPSBfX2dsb2JhbFRoaXMgfHwgX19nbG9iYWwgfHwgX193aW5kb3cgfHwgX19zZWxmO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5nRGV2TW9kZVJlc2V0UGVyZkNvdW50ZXJzKCkge1xuICAgIGNvbnN0IGxvY2F0aW9uU3RyaW5nID0gdHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJyA/IGxvY2F0aW9uLnRvU3RyaW5nKCkgOiAnJztcbiAgICBjb25zdCBuZXdDb3VudGVycyA9IHtcbiAgICAgICAgbmFtZWRDb25zdHJ1Y3RvcnM6IGxvY2F0aW9uU3RyaW5nLmluZGV4T2YoJ25nRGV2TW9kZT1uYW1lZENvbnN0cnVjdG9ycycpICE9IC0xLFxuICAgICAgICBmaXJzdENyZWF0ZVBhc3M6IDAsXG4gICAgICAgIHROb2RlOiAwLFxuICAgICAgICB0VmlldzogMCxcbiAgICAgICAgcmVuZGVyZXJDcmVhdGVUZXh0Tm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRUZXh0OiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZUVsZW1lbnQ6IDAsXG4gICAgICAgIHJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcjogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRBdHRyaWJ1dGU6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlQXR0cmlidXRlOiAwLFxuICAgICAgICByZW5kZXJlclNldFByb3BlcnR5OiAwLFxuICAgICAgICByZW5kZXJlclNldENsYXNzTmFtZTogMCxcbiAgICAgICAgcmVuZGVyZXJBZGRDbGFzczogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVDbGFzczogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRTdHlsZTogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVTdHlsZTogMCxcbiAgICAgICAgcmVuZGVyZXJEZXN0cm95OiAwLFxuICAgICAgICByZW5kZXJlckRlc3Ryb3lOb2RlOiAwLFxuICAgICAgICByZW5kZXJlck1vdmVOb2RlOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZU5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyQXBwZW5kQ2hpbGQ6IDAsXG4gICAgICAgIHJlbmRlcmVySW5zZXJ0QmVmb3JlOiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZUNvbW1lbnQ6IDAsXG4gICAgfTtcbiAgICAvLyBNYWtlIHN1cmUgdG8gcmVmZXIgdG8gbmdEZXZNb2RlIGFzIFsnbmdEZXZNb2RlJ10gZm9yIGNsb3N1cmUuXG4gICAgY29uc3QgYWxsb3dOZ0Rldk1vZGVUcnVlID0gbG9jYXRpb25TdHJpbmcuaW5kZXhPZignbmdEZXZNb2RlPWZhbHNlJykgPT09IC0xO1xuICAgIF9nbG9iYWxbJ25nRGV2TW9kZSddID0gYWxsb3dOZ0Rldk1vZGVUcnVlICYmIG5ld0NvdW50ZXJzO1xuICAgIHJldHVybiBuZXdDb3VudGVycztcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHRoZSBgbmdEZXZNb2RlYCBoYXMgYmVlbiBzZXQuIElmIHllcyxcbiAqIHRoZW4gd2UgaG9ub3IgaXQsIG90aGVyd2lzZSB3ZSBkZWZhdWx0IHRvIGRldiBtb2RlIHdpdGggYWRkaXRpb25hbCBjaGVja3MuXG4gKlxuICogVGhlIGlkZWEgaXMgdGhhdCB1bmxlc3Mgd2UgYXJlIGRvaW5nIHByb2R1Y3Rpb24gYnVpbGQgd2hlcmUgd2UgZXhwbGljaXRseVxuICogc2V0IGBuZ0Rldk1vZGUgPT0gZmFsc2VgIHdlIHNob3VsZCBiZSBoZWxwaW5nIHRoZSBkZXZlbG9wZXIgYnkgcHJvdmlkaW5nXG4gKiBhcyBtdWNoIGVhcmx5IHdhcm5pbmcgYW5kIGVycm9ycyBhcyBwb3NzaWJsZS5cbiAqXG4gKiBgybXJtWRlZmluZUNvbXBvbmVudGAgaXMgZ3VhcmFudGVlZCB0byBoYXZlIGJlZW4gY2FsbGVkIGJlZm9yZSBhbnkgY29tcG9uZW50IHRlbXBsYXRlIGZ1bmN0aW9uc1xuICogKGFuZCB0aHVzIEl2eSBpbnN0cnVjdGlvbnMpLCBzbyBhIHNpbmdsZSBpbml0aWFsaXphdGlvbiB0aGVyZSBpcyBzdWZmaWNpZW50IHRvIGVuc3VyZSBuZ0Rldk1vZGVcbiAqIGlzIGRlZmluZWQgZm9yIHRoZSBlbnRpcmUgaW5zdHJ1Y3Rpb24gc2V0LlxuICpcbiAqIFdoZW4gY2hlY2tpbmcgYG5nRGV2TW9kZWAgb24gdG9wbGV2ZWwsIGFsd2F5cyBpbml0IGl0IGJlZm9yZSByZWZlcmVuY2luZyBpdFxuICogKGUuZy4gYCgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCkpYCksIG90aGVyd2lzZSB5b3UgY2FuXG4gKiAgZ2V0IGEgYFJlZmVyZW5jZUVycm9yYCBsaWtlIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzMxNTk1LlxuICpcbiAqIERldGFpbHMgb24gcG9zc2libGUgdmFsdWVzIGZvciBgbmdEZXZNb2RlYCBjYW4gYmUgZm91bmQgb24gaXRzIGRvY3N0cmluZy5cbiAqXG4gKiBOT1RFOlxuICogLSBjaGFuZ2VzIHRvIHRoZSBgbmdEZXZNb2RlYCBuYW1lIG11c3QgYmUgc3luY2VkIHdpdGggYGNvbXBpbGVyLWNsaS9zcmMvdG9vbGluZy50c2AuXG4gKi9cbmZ1bmN0aW9uIGluaXROZ0Rldk1vZGUoKSB7XG4gICAgLy8gVGhlIGJlbG93IGNoZWNrcyBhcmUgdG8gZW5zdXJlIHRoYXQgY2FsbGluZyBgaW5pdE5nRGV2TW9kZWAgbXVsdGlwbGUgdGltZXMgZG9lcyBub3RcbiAgICAvLyByZXNldCB0aGUgY291bnRlcnMuXG4gICAgLy8gSWYgdGhlIGBuZ0Rldk1vZGVgIGlzIG5vdCBhbiBvYmplY3QsIHRoZW4gaXQgbWVhbnMgd2UgaGF2ZSBub3QgY3JlYXRlZCB0aGUgcGVyZiBjb3VudGVyc1xuICAgIC8vIHlldC5cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbmdEZXZNb2RlUmVzZXRQZXJmQ291bnRlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZW9mIG5nRGV2TW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISFuZ0Rldk1vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyByZXVzZWFibGUgXCJlbXB0eVwiIHN5bWJvbHMgdGhhdCBjYW4gYmUgdXNlZCBhcyBkZWZhdWx0IHJldHVybiB2YWx1ZXNcbiAqIGluIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgcmVuZGVyaW5nIGNvZGUuIEJlY2F1c2UgdGhlIHNhbWUgc3ltYm9scyBhcmUgcmV0dXJuZWQsIHRoaXNcbiAqIGFsbG93cyBmb3IgaWRlbnRpdHkgY2hlY2tzIGFnYWluc3QgdGhlc2UgdmFsdWVzIHRvIGJlIGNvbnNpc3RlbnRseSB1c2VkIGJ5IHRoZSBmcmFtZXdvcmtcbiAqIGNvZGUuXG4gKi9cbmNvbnN0IEVNUFRZX09CSiA9IHt9O1xuY29uc3QgRU1QVFlfQVJSQVkgPSBbXTtcbi8vIGZyZWV6aW5nIHRoZSB2YWx1ZXMgcHJldmVudHMgYW55IGNvZGUgZnJvbSBhY2NpZGVudGFsbHkgaW5zZXJ0aW5nIG5ldyB2YWx1ZXMgaW5cbmlmICgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCkpIHtcbiAgICAvLyBUaGVzZSBwcm9wZXJ0eSBhY2Nlc3NlcyBjYW4gYmUgaWdub3JlZCBiZWNhdXNlIG5nRGV2TW9kZSB3aWxsIGJlIHNldCB0byBmYWxzZVxuICAgIC8vIHdoZW4gb3B0aW1pemluZyBjb2RlIGFuZCB0aGUgd2hvbGUgaWYgc3RhdGVtZW50IHdpbGwgYmUgZHJvcHBlZC5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4gICAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBOR19DT01QX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWNtcDogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0RJUl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVkaXI6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19QSVBFX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtXBpcGU6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19NT0RfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1bW9kOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfRkFDVE9SWV9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVmYWM6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG4vKipcbiAqIElmIGEgZGlyZWN0aXZlIGlzIGRpUHVibGljLCBibG9vbUFkZCBzZXRzIGEgcHJvcGVydHkgb24gdGhlIHR5cGUgd2l0aCB0aGlzIGNvbnN0YW50IGFzXG4gKiB0aGUga2V5IGFuZCB0aGUgZGlyZWN0aXZlJ3MgdW5pcXVlIElEIGFzIHRoZSB2YWx1ZS4gVGhpcyBhbGxvd3MgdXMgdG8gbWFwIGRpcmVjdGl2ZXMgdG8gdGhlaXJcbiAqIGJsb29tIGZpbHRlciBiaXQgZm9yIERJLlxuICovXG4vLyBUT0RPKG1pc2tvKTogVGhpcyBpcyB3cm9uZy4gVGhlIE5HX0VMRU1FTlRfSUQgc2hvdWxkIG5ldmVyIGJlIG1pbmlmaWVkLlxuY29uc3QgTkdfRUxFTUVOVF9JRCA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBfX05HX0VMRU1FTlRfSURfXzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3JlbmRlckNvbXBDb3VudCA9IDA7XG4vKipcbiAqIENyZWF0ZSBhIGNvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgLy8gR2VuZXJhdGVkIGJ5IEFuZ3VsYXIgVGVtcGxhdGUgQ29tcGlsZXJcbiAqICAgLy8gW1N5bWJvbF0gc3ludGF4IHdpbGwgbm90IGJlIHN1cHBvcnRlZCBieSBUeXBlU2NyaXB0IHVudGlsIHYyLjdcbiAqICAgc3RhdGljIMm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVDb21wb25lbnQoY29tcG9uZW50RGVmaW5pdGlvbikge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBuZ0Rldk1vZGUuIFRoaXMgbXVzdCBiZSB0aGUgZmlyc3Qgc3RhdGVtZW50IGluIMm1ybVkZWZpbmVDb21wb25lbnQuXG4gICAgICAgIC8vIFNlZSB0aGUgYGluaXROZ0Rldk1vZGVgIGRvY3N0cmluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgaW5pdE5nRGV2TW9kZSgpO1xuICAgICAgICBjb25zdCB0eXBlID0gY29tcG9uZW50RGVmaW5pdGlvbi50eXBlO1xuICAgICAgICBjb25zdCBkZWNsYXJlZElucHV0cyA9IHt9O1xuICAgICAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgcHJvdmlkZXJzUmVzb2x2ZXI6IG51bGwsXG4gICAgICAgICAgICBkZWNsczogY29tcG9uZW50RGVmaW5pdGlvbi5kZWNscyxcbiAgICAgICAgICAgIHZhcnM6IGNvbXBvbmVudERlZmluaXRpb24udmFycyxcbiAgICAgICAgICAgIGZhY3Rvcnk6IG51bGwsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogY29tcG9uZW50RGVmaW5pdGlvbi50ZW1wbGF0ZSB8fCBudWxsLFxuICAgICAgICAgICAgY29uc3RzOiBjb21wb25lbnREZWZpbml0aW9uLmNvbnN0cyB8fCBudWxsLFxuICAgICAgICAgICAgbmdDb250ZW50U2VsZWN0b3JzOiBjb21wb25lbnREZWZpbml0aW9uLm5nQ29udGVudFNlbGVjdG9ycyxcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nczogY29tcG9uZW50RGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgfHwgbnVsbCxcbiAgICAgICAgICAgIGhvc3RWYXJzOiBjb21wb25lbnREZWZpbml0aW9uLmhvc3RWYXJzIHx8IDAsXG4gICAgICAgICAgICBob3N0QXR0cnM6IGNvbXBvbmVudERlZmluaXRpb24uaG9zdEF0dHJzIHx8IG51bGwsXG4gICAgICAgICAgICBjb250ZW50UXVlcmllczogY29tcG9uZW50RGVmaW5pdGlvbi5jb250ZW50UXVlcmllcyB8fCBudWxsLFxuICAgICAgICAgICAgZGVjbGFyZWRJbnB1dHM6IGRlY2xhcmVkSW5wdXRzLFxuICAgICAgICAgICAgaW5wdXRzOiBudWxsLFxuICAgICAgICAgICAgb3V0cHV0czogbnVsbCxcbiAgICAgICAgICAgIGV4cG9ydEFzOiBjb21wb25lbnREZWZpbml0aW9uLmV4cG9ydEFzIHx8IG51bGwsXG4gICAgICAgICAgICBvblB1c2g6IGNvbXBvbmVudERlZmluaXRpb24uY2hhbmdlRGV0ZWN0aW9uID09PSBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBkaXJlY3RpdmVEZWZzOiBudWxsLFxuICAgICAgICAgICAgcGlwZURlZnM6IG51bGwsXG4gICAgICAgICAgICBzZWxlY3RvcnM6IGNvbXBvbmVudERlZmluaXRpb24uc2VsZWN0b3JzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgdmlld1F1ZXJ5OiBjb21wb25lbnREZWZpbml0aW9uLnZpZXdRdWVyeSB8fCBudWxsLFxuICAgICAgICAgICAgZmVhdHVyZXM6IGNvbXBvbmVudERlZmluaXRpb24uZmVhdHVyZXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGRhdGE6IGNvbXBvbmVudERlZmluaXRpb24uZGF0YSB8fCB7fSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvbXBvbmVudERlZmluaXRpb24uZW5jYXBzdWxhdGlvbiB8fCBWaWV3RW5jYXBzdWxhdGlvbiQxLkVtdWxhdGVkLFxuICAgICAgICAgICAgaWQ6ICdjJyxcbiAgICAgICAgICAgIHN0eWxlczogY29tcG9uZW50RGVmaW5pdGlvbi5zdHlsZXMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBfOiBudWxsLFxuICAgICAgICAgICAgc2V0SW5wdXQ6IG51bGwsXG4gICAgICAgICAgICBzY2hlbWFzOiBjb21wb25lbnREZWZpbml0aW9uLnNjaGVtYXMgfHwgbnVsbCxcbiAgICAgICAgICAgIHRWaWV3OiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVUeXBlcyA9IGNvbXBvbmVudERlZmluaXRpb24uZGlyZWN0aXZlcztcbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IGNvbXBvbmVudERlZmluaXRpb24uZmVhdHVyZXM7XG4gICAgICAgIGNvbnN0IHBpcGVUeXBlcyA9IGNvbXBvbmVudERlZmluaXRpb24ucGlwZXM7XG4gICAgICAgIGRlZi5pZCArPSBfcmVuZGVyQ29tcENvdW50Kys7XG4gICAgICAgIGRlZi5pbnB1dHMgPSBpbnZlcnRPYmplY3QoY29tcG9uZW50RGVmaW5pdGlvbi5pbnB1dHMsIGRlY2xhcmVkSW5wdXRzKSxcbiAgICAgICAgICAgIGRlZi5vdXRwdXRzID0gaW52ZXJ0T2JqZWN0KGNvbXBvbmVudERlZmluaXRpb24ub3V0cHV0cyksXG4gICAgICAgICAgICBmZWF0dXJlICYmIGZlYXR1cmUuZm9yRWFjaCgoZm4pID0+IGZuKGRlZikpO1xuICAgICAgICBkZWYuZGlyZWN0aXZlRGVmcyA9IGRpcmVjdGl2ZVR5cGVzID9cbiAgICAgICAgICAgICgpID0+ICh0eXBlb2YgZGlyZWN0aXZlVHlwZXMgPT09ICdmdW5jdGlvbicgPyBkaXJlY3RpdmVUeXBlcygpIDogZGlyZWN0aXZlVHlwZXMpXG4gICAgICAgICAgICAgICAgLm1hcChleHRyYWN0RGlyZWN0aXZlRGVmKSA6XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICBkZWYucGlwZURlZnMgPSBwaXBlVHlwZXMgP1xuICAgICAgICAgICAgKCkgPT4gKHR5cGVvZiBwaXBlVHlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlVHlwZXMoKSA6IHBpcGVUeXBlcykubWFwKGV4dHJhY3RQaXBlRGVmKSA6XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZW5lcmF0ZWQgbmV4dCB0byBOZ01vZHVsZXMgdG8gbW9ua2V5LXBhdGNoIGRpcmVjdGl2ZSBhbmQgcGlwZSByZWZlcmVuY2VzIG9udG8gYSBjb21wb25lbnQnc1xuICogZGVmaW5pdGlvbiwgd2hlbiBnZW5lcmF0aW5nIGEgZGlyZWN0IHJlZmVyZW5jZSBpbiB0aGUgY29tcG9uZW50IGZpbGUgd291bGQgb3RoZXJ3aXNlIGNyZWF0ZSBhblxuICogaW1wb3J0IGN5Y2xlLlxuICpcbiAqIFNlZSBbdGhpcyBleHBsYW5hdGlvbl0oaHR0cHM6Ly9oYWNrbWQuaW8vT2R3ODBEMHBSNnlmc09qZ183WENKZz92aWV3KSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzZXRDb21wb25lbnRTY29wZSh0eXBlLCBkaXJlY3RpdmVzLCBwaXBlcykge1xuICAgIGNvbnN0IGRlZiA9IHR5cGUuybVjbXA7XG4gICAgZGVmLmRpcmVjdGl2ZURlZnMgPSAoKSA9PiBkaXJlY3RpdmVzLm1hcChleHRyYWN0RGlyZWN0aXZlRGVmKTtcbiAgICBkZWYucGlwZURlZnMgPSAoKSA9PiBwaXBlcy5tYXAoZXh0cmFjdFBpcGVEZWYpO1xufVxuZnVuY3Rpb24gZXh0cmFjdERpcmVjdGl2ZURlZih0eXBlKSB7XG4gICAgY29uc3QgZGVmID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKTtcbiAgICBpZiAobmdEZXZNb2RlICYmICFkZWYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHt0eXBlLm5hbWV9JyBpcyBuZWl0aGVyICdDb21wb25lbnRUeXBlJyBvciAnRGlyZWN0aXZlVHlwZScuYCk7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBleHRyYWN0UGlwZURlZih0eXBlKSB7XG4gICAgY29uc3QgZGVmID0gZ2V0UGlwZURlZiQxKHR5cGUpO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIWRlZikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3R5cGUubmFtZX0nIGlzIG5vdCBhICdQaXBlVHlwZScuYCk7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG5jb25zdCBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkID0ge307XG4vKipcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVOZ01vZHVsZShkZWYpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IGRlZi50eXBlLFxuICAgICAgICAgICAgYm9vdHN0cmFwOiBkZWYuYm9vdHN0cmFwIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWYuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgaW1wb3J0czogZGVmLmltcG9ydHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBleHBvcnRzOiBkZWYuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOiBudWxsLFxuICAgICAgICAgICAgc2NoZW1hczogZGVmLnNjaGVtYXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGlkOiBkZWYuaWQgfHwgbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlZi5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkW2RlZi5pZF0gPSBkZWYudHlwZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xufVxuLyoqXG4gKiBBZGRzIHRoZSBtb2R1bGUgbWV0YWRhdGEgdGhhdCBpcyBuZWNlc3NhcnkgdG8gY29tcHV0ZSB0aGUgbW9kdWxlJ3MgdHJhbnNpdGl2ZSBzY29wZSB0byBhblxuICogZXhpc3RpbmcgbW9kdWxlIGRlZmluaXRpb24uXG4gKlxuICogU2NvcGUgbWV0YWRhdGEgb2YgbW9kdWxlcyBpcyBub3QgdXNlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcywgc28gY2FsbHMgdG8gdGhpcyBmdW5jdGlvbiBjYW4gYmVcbiAqIG1hcmtlZCBwdXJlIHRvIHRyZWUtc2hha2UgaXQgZnJvbSB0aGUgYnVuZGxlLCBhbGxvd2luZyBmb3IgYWxsIHJlZmVyZW5jZWQgZGVjbGFyYXRpb25zXG4gKiB0byBiZWNvbWUgZWxpZ2libGUgZm9yIHRyZWUtc2hha2luZyBhcyB3ZWxsLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzZXROZ01vZHVsZVNjb3BlKHR5cGUsIHNjb3BlKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKHR5cGUsIHRydWUpO1xuICAgICAgICBuZ01vZHVsZURlZi5kZWNsYXJhdGlvbnMgPSBzY29wZS5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVk7XG4gICAgICAgIG5nTW9kdWxlRGVmLmltcG9ydHMgPSBzY29wZS5pbXBvcnRzIHx8IEVNUFRZX0FSUkFZO1xuICAgICAgICBuZ01vZHVsZURlZi5leHBvcnRzID0gc2NvcGUuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWTtcbiAgICB9KTtcbn1cbi8qKlxuICogSW52ZXJ0cyBhbiBpbnB1dHMgb3Igb3V0cHV0cyBsb29rdXAgc3VjaCB0aGF0IHRoZSBrZXlzLCB3aGljaCB3ZXJlIHRoZVxuICogbWluaWZpZWQga2V5cywgYXJlIHBhcnQgb2YgdGhlIHZhbHVlcywgYW5kIHRoZSB2YWx1ZXMgYXJlIHBhcnNlZCBzbyB0aGF0XG4gKiB0aGUgcHVibGljTmFtZSBvZiB0aGUgcHJvcGVydHkgaXMgdGhlIG5ldyBrZXlcbiAqXG4gKiBlLmcuIGZvclxuICpcbiAqIGBgYFxuICogY2xhc3MgQ29tcCB7XG4gKiAgIEBJbnB1dCgpXG4gKiAgIHByb3BOYW1lMTogc3RyaW5nO1xuICpcbiAqICAgQElucHV0KCdwdWJsaWNOYW1lMicpXG4gKiAgIGRlY2xhcmVkUHJvcE5hbWUyOiBudW1iZXI7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB3aWxsIGJlIHNlcmlhbGl6ZWQgYXNcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAgcHJvcE5hbWUxOiAncHJvcE5hbWUxJyxcbiAqICAgZGVjbGFyZWRQcm9wTmFtZTI6IFsncHVibGljTmFtZTInLCAnZGVjbGFyZWRQcm9wTmFtZTInXSxcbiAqIH1cbiAqIGBgYFxuICpcbiAqIHdoaWNoIGlzIHRoYW4gdHJhbnNsYXRlZCBieSB0aGUgbWluaWZpZXIgYXM6XG4gKlxuICogYGBgXG4gKiB7XG4gKiAgIG1pbmlmaWVkUHJvcE5hbWUxOiAncHJvcE5hbWUxJyxcbiAqICAgbWluaWZpZWRQcm9wTmFtZTI6IFsncHVibGljTmFtZTInLCAnZGVjbGFyZWRQcm9wTmFtZTInXSxcbiAqIH1cbiAqIGBgYFxuICpcbiAqIGJlY29tZXM6IChwdWJsaWMgbmFtZSA9PiBtaW5pZmllZE5hbWUpXG4gKlxuICogYGBgXG4gKiB7XG4gKiAgJ3Byb3BOYW1lMSc6ICdtaW5pZmllZFByb3BOYW1lMScsXG4gKiAgJ3B1YmxpY05hbWUyJzogJ21pbmlmaWVkUHJvcE5hbWUyJyxcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE9wdGlvbmFsbHkgdGhlIGZ1bmN0aW9uIGNhbiB0YWtlIGBzZWNvbmRhcnlgIHdoaWNoIHdpbGwgcmVzdWx0IGluOiAocHVibGljIG5hbWUgPT4gZGVjbGFyZWQgbmFtZSlcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAncHJvcE5hbWUxJzogJ3Byb3BOYW1lMScsXG4gKiAgJ3B1YmxpY05hbWUyJzogJ2RlY2xhcmVkUHJvcE5hbWUyJyxcbiAqIH1cbiAqIGBgYFxuICpcblxuICovXG5mdW5jdGlvbiBpbnZlcnRPYmplY3Qob2JqLCBzZWNvbmRhcnkpIHtcbiAgICBpZiAob2JqID09IG51bGwpXG4gICAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3TG9va3VwID0ge307XG4gICAgZm9yIChjb25zdCBtaW5pZmllZEtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShtaW5pZmllZEtleSkpIHtcbiAgICAgICAgICAgIGxldCBwdWJsaWNOYW1lID0gb2JqW21pbmlmaWVkS2V5XTtcbiAgICAgICAgICAgIGxldCBkZWNsYXJlZE5hbWUgPSBwdWJsaWNOYW1lO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHVibGljTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBkZWNsYXJlZE5hbWUgPSBwdWJsaWNOYW1lWzFdO1xuICAgICAgICAgICAgICAgIHB1YmxpY05hbWUgPSBwdWJsaWNOYW1lWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TG9va3VwW3B1YmxpY05hbWVdID0gbWluaWZpZWRLZXk7XG4gICAgICAgICAgICBpZiAoc2Vjb25kYXJ5KSB7XG4gICAgICAgICAgICAgICAgKHNlY29uZGFyeVtwdWJsaWNOYW1lXSA9IGRlY2xhcmVkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0xvb2t1cDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqICMgRXhhbXBsZVxuICogYGBgdHNcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgLy8gR2VuZXJhdGVkIGJ5IEFuZ3VsYXIgVGVtcGxhdGUgQ29tcGlsZXJcbiAqICAgLy8gW1N5bWJvbF0gc3ludGF4IHdpbGwgbm90IGJlIHN1cHBvcnRlZCBieSBUeXBlU2NyaXB0IHVudGlsIHYyLjdcbiAqICAgc3RhdGljIMm1ZGlyID0gybXJtWRlZmluZURpcmVjdGl2ZSh7XG4gKiAgICAgLi4uXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuY29uc3QgybXJtWRlZmluZURpcmVjdGl2ZSA9IMm1ybVkZWZpbmVDb21wb25lbnQ7XG4vKipcbiAqIENyZWF0ZSBhIHBpcGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIE15UGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICogICAvLyBHZW5lcmF0ZWQgYnkgQW5ndWxhciBUZW1wbGF0ZSBDb21waWxlclxuICogICBzdGF0aWMgybVwaXBlID0gZGVmaW5lUGlwZSh7XG4gKiAgICAgLi4uXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKiBAcGFyYW0gcGlwZURlZiBQaXBlIGRlZmluaXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlclxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVQaXBlKHBpcGVEZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwaXBlRGVmLnR5cGUsXG4gICAgICAgIG5hbWU6IHBpcGVEZWYubmFtZSxcbiAgICAgICAgZmFjdG9yeTogbnVsbCxcbiAgICAgICAgcHVyZTogcGlwZURlZi5wdXJlICE9PSBmYWxzZSxcbiAgICAgICAgb25EZXN0cm95OiBwaXBlRGVmLnR5cGUucHJvdG90eXBlLm5nT25EZXN0cm95IHx8IG51bGxcbiAgICB9O1xufVxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGdldHRlciBtZXRob2RzIHJldHJpZXZlIHRoZSBkZWZpbml0aW9uIGZyb20gdGhlIHR5cGUuIEN1cnJlbnRseSB0aGUgcmV0cmlldmFsXG4gKiBob25vcnMgaW5oZXJpdGFuY2UsIGJ1dCBpbiB0aGUgZnV0dXJlIHdlIG1heSBjaGFuZ2UgdGhlIHJ1bGUgdG8gcmVxdWlyZSB0aGF0IGRlZmluaXRpb25zIGFyZVxuICogZXhwbGljaXQuIFRoaXMgd291bGQgcmVxdWlyZSBzb21lIHNvcnQgb2YgbWlncmF0aW9uIHN0cmF0ZWd5LlxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnREZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX0NPTVBfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZVtOR19ESVJfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0UGlwZURlZiQxKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZVtOR19QSVBFX0RFRl0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldE5nTW9kdWxlRGVmKHR5cGUsIHRocm93Tm90Rm91bmQpIHtcbiAgICBjb25zdCBuZ01vZHVsZURlZiA9IHR5cGVbTkdfTU9EX0RFRl0gfHwgbnVsbDtcbiAgICBpZiAoIW5nTW9kdWxlRGVmICYmIHRocm93Tm90Rm91bmQgPT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlICR7c3RyaW5naWZ5KHR5cGUpfSBkb2VzIG5vdCBoYXZlICfJtW1vZCcgcHJvcGVydHkuYCk7XG4gICAgfVxuICAgIHJldHVybiBuZ01vZHVsZURlZjtcbn1cblxuLyoqXG4gKiBTcGVjaWFsIGxvY2F0aW9uIHdoaWNoIGFsbG93cyBlYXN5IGlkZW50aWZpY2F0aW9uIG9mIHR5cGUuIElmIHdlIGhhdmUgYW4gYXJyYXkgd2hpY2ggd2FzXG4gKiByZXRyaWV2ZWQgZnJvbSB0aGUgYExWaWV3YCBhbmQgdGhhdCBhcnJheSBoYXMgYHRydWVgIGF0IGBUWVBFYCBsb2NhdGlvbiwgd2Uga25vdyBpdCBpc1xuICogYExDb250YWluZXJgLlxuICovXG5jb25zdCBUWVBFID0gMTtcbi8qKlxuICogQmVsb3cgYXJlIGNvbnN0YW50cyBmb3IgTENvbnRhaW5lciBpbmRpY2VzIHRvIGhlbHAgdXMgbG9vayB1cCBMQ29udGFpbmVyIG1lbWJlcnNcbiAqIHdpdGhvdXQgaGF2aW5nIHRvIHJlbWVtYmVyIHRoZSBzcGVjaWZpYyBpbmRpY2VzLlxuICogVWdsaWZ5IHdpbGwgaW5saW5lIHRoZXNlIHdoZW4gbWluaWZ5aW5nIHNvIHRoZXJlIHNob3VsZG4ndCBiZSBhIGNvc3QuXG4gKi9cbi8qKlxuICogRmxhZyB0byBzaWduaWZ5IHRoYXQgdGhpcyBgTENvbnRhaW5lcmAgbWF5IGhhdmUgdHJhbnNwbGFudGVkIHZpZXdzIHdoaWNoIG5lZWQgdG8gYmUgY2hhbmdlXG4gKiBkZXRlY3RlZC4gKHNlZTogYExWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSlgLlxuICpcbiAqIFRoaXMgZmxhZywgb25jZSBzZXQsIGlzIG5ldmVyIHVuc2V0IGZvciB0aGUgYExDb250YWluZXJgLiBUaGlzIG1lYW5zIHRoYXQgd2hlbiB1bnNldCB3ZSBjYW4gc2tpcFxuICogYSBsb3Qgb2Ygd29yayBpbiBgcmVmcmVzaEVtYmVkZGVkVmlld3NgLiBCdXQgd2hlbiBzZXQgd2Ugc3RpbGwgbmVlZCB0byB2ZXJpZnlcbiAqIHRoYXQgdGhlIGBNT1ZFRF9WSUVXU2AgYXJlIHRyYW5zcGxhbnRlZCBhbmQgb24tcHVzaC5cbiAqL1xuY29uc3QgSEFTX1RSQU5TUExBTlRFRF9WSUVXUyA9IDI7XG4vLyBQQVJFTlQsIE5FWFQsIFRSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIIGFyZSBpbmRpY2VzIDMsIDQsIGFuZCA1XG4vLyBBcyB3ZSBhbHJlYWR5IGhhdmUgdGhlc2UgY29uc3RhbnRzIGluIExWaWV3LCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNyZWF0ZSB0aGVtLlxuLy8gVF9IT1NUIGlzIGluZGV4IDZcbi8vIFdlIGFscmVhZHkgaGF2ZSB0aGlzIGNvbnN0YW50cyBpbiBMVmlldywgd2UgZG9uJ3QgbmVlZCB0byByZS1jcmVhdGUgaXQuXG5jb25zdCBOQVRJVkUgPSA3O1xuY29uc3QgVklFV19SRUZTID0gODtcbmNvbnN0IE1PVkVEX1ZJRVdTID0gOTtcbi8qKlxuICogU2l6ZSBvZiBMQ29udGFpbmVyJ3MgaGVhZGVyLiBSZXByZXNlbnRzIHRoZSBpbmRleCBhZnRlciB3aGljaCBhbGwgdmlld3MgaW4gdGhlXG4gKiBjb250YWluZXIgd2lsbCBiZSBpbnNlcnRlZC4gV2UgbmVlZCB0byBrZWVwIGEgcmVjb3JkIG9mIGN1cnJlbnQgdmlld3Mgc28gd2Uga25vd1xuICogd2hpY2ggdmlld3MgYXJlIGFscmVhZHkgaW4gdGhlIERPTSAoYW5kIGRvbid0IG5lZWQgdG8gYmUgcmUtYWRkZWQpIGFuZCBzbyB3ZSBjYW5cbiAqIHJlbW92ZSB2aWV3cyBmcm9tIHRoZSBET00gd2hlbiB0aGV5IGFyZSBubyBsb25nZXIgcmVxdWlyZWQuXG4gKi9cbmNvbnN0IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUID0gMTA7XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ4ID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBCZWxvdyBhcmUgY29uc3RhbnRzIGZvciBMVmlldyBpbmRpY2VzIHRvIGhlbHAgdXMgbG9vayB1cCBMVmlldyBtZW1iZXJzXG4vLyB3aXRob3V0IGhhdmluZyB0byByZW1lbWJlciB0aGUgc3BlY2lmaWMgaW5kaWNlcy5cbi8vIFVnbGlmeSB3aWxsIGlubGluZSB0aGVzZSB3aGVuIG1pbmlmeWluZyBzbyB0aGVyZSBzaG91bGRuJ3QgYmUgYSBjb3N0LlxuY29uc3QgSE9TVCA9IDA7XG5jb25zdCBUVklFVyA9IDE7XG5jb25zdCBGTEFHUyA9IDI7XG5jb25zdCBQQVJFTlQgPSAzO1xuY29uc3QgTkVYVCA9IDQ7XG5jb25zdCBUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSCA9IDU7XG5jb25zdCBUX0hPU1QgPSA2O1xuY29uc3QgQ0xFQU5VUCA9IDc7XG5jb25zdCBDT05URVhUID0gODtcbmNvbnN0IElOSkVDVE9SJDEgPSA5O1xuY29uc3QgUkVOREVSRVJfRkFDVE9SWSA9IDEwO1xuY29uc3QgUkVOREVSRVIgPSAxMTtcbmNvbnN0IFNBTklUSVpFUiA9IDEyO1xuY29uc3QgQ0hJTERfSEVBRCA9IDEzO1xuY29uc3QgQ0hJTERfVEFJTCA9IDE0O1xuLy8gRklYTUUobWlza28pOiBJbnZlc3RpZ2F0ZSBpZiB0aGUgdGhyZWUgZGVjbGFyYXRpb25zIGFyZW4ndCBhbGwgc2FtZSB0aGluZy5cbmNvbnN0IERFQ0xBUkFUSU9OX1ZJRVcgPSAxNTtcbmNvbnN0IERFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXID0gMTY7XG5jb25zdCBERUNMQVJBVElPTl9MQ09OVEFJTkVSID0gMTc7XG5jb25zdCBQUkVPUkRFUl9IT09LX0ZMQUdTID0gMTg7XG5jb25zdCBRVUVSSUVTID0gMTk7XG4vKipcbiAqIFNpemUgb2YgTFZpZXcncyBoZWFkZXIuIE5lY2Vzc2FyeSB0byBhZGp1c3QgZm9yIGl0IHdoZW4gc2V0dGluZyBzbG90cy5cbiAqXG4gKiBJTVBPUlRBTlQ6IGBIRUFERVJfT0ZGU0VUYCBzaG91bGQgb25seSBiZSByZWZlcnJlZCB0byB0aGUgaW4gdGhlIGDJtcm1KmAgaW5zdHJ1Y3Rpb25zIHRvIHRyYW5zbGF0ZVxuICogaW5zdHJ1Y3Rpb24gaW5kZXggaW50byBgTFZpZXdgIGluZGV4LiBBbGwgb3RoZXIgaW5kZXhlcyBzaG91bGQgYmUgaW4gdGhlIGBMVmlld2AgaW5kZXggc3BhY2UgYW5kXG4gKiB0aGVyZSBzaG91bGQgYmUgbm8gbmVlZCB0byByZWZlciB0byBgSEVBREVSX09GRlNFVGAgYW55d2hlcmUgZWxzZS5cbiAqL1xuY29uc3QgSEVBREVSX09GRlNFVCA9IDIwO1xuLyoqXG4gKiBDb252ZXJ0cyBgVFZpZXdUeXBlYCBpbnRvIGh1bWFuIHJlYWRhYmxlIHRleHQuXG4gKiBNYWtlIHN1cmUgdGhpcyBtYXRjaGVzIHdpdGggYFRWaWV3VHlwZWBcbiAqL1xuY29uc3QgVFZpZXdUeXBlQXNTdHJpbmcgPSBbXG4gICAgJ1Jvb3QnLFxuICAgICdDb21wb25lbnQnLFxuICAgICdFbWJlZGRlZCcsIC8vIDJcbl07XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ3ID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRydWUgaWYgYHZhbHVlYCBpcyBgTFZpZXdgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIGlzTFZpZXcodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0Jztcbn1cbi8qKlxuICogVHJ1ZSBpZiBgdmFsdWVgIGlzIGBMQ29udGFpbmVyYC5cbiAqIEBwYXJhbSB2YWx1ZSB3cmFwcGVkIHZhbHVlIG9mIGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYFxuICovXG5mdW5jdGlvbiBpc0xDb250YWluZXIodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWVbVFlQRV0gPT09IHRydWU7XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRRdWVyeUhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgOCAvKiBoYXNDb250ZW50UXVlcnkgKi8pICE9PSAwO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRIb3N0KHROb2RlKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKSA9PT0gMiAvKiBpc0NvbXBvbmVudEhvc3QgKi87XG59XG5mdW5jdGlvbiBpc0RpcmVjdGl2ZUhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMSAvKiBpc0RpcmVjdGl2ZUhvc3QgKi8pID09PSAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLztcbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50RGVmKGRlZikge1xuICAgIHJldHVybiBkZWYudGVtcGxhdGUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1Jvb3RWaWV3KHRhcmdldCkge1xuICAgIHJldHVybiAodGFyZ2V0W0ZMQUdTXSAmIDUxMiAvKiBJc1Jvb3QgKi8pICE9PSAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFtBc3NlcnQgZnVuY3Rpb25zIGRvIG5vdCBjb25zdHJhaW50IHR5cGUgd2hlbiB0aGV5IGFyZSBndWFyZGVkIGJ5IGEgdHJ1dGh5XG4vLyBleHByZXNzaW9uLl0oaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zNzI5NSlcbmZ1bmN0aW9uIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KSB7XG4gICAgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgbFZpZXdbVFZJRVddKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIHRWaWV3KSB7XG4gICAgYXNzZXJ0VE5vZGUodE5vZGUpO1xuICAgIHROb2RlLmhhc093blByb3BlcnR5KCd0Vmlld18nKSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0Tm9kZS50Vmlld18sIHRWaWV3LCAnVGhpcyBUTm9kZSBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBUVmlldy4nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFROb2RlKHROb2RlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGlmICghKHROb2RlICYmIHR5cGVvZiB0Tm9kZSA9PT0gJ29iamVjdCcgJiYgdE5vZGUuaGFzT3duUHJvcGVydHkoJ2RpcmVjdGl2ZVN0eWxpbmdMYXN0JykpKSB7XG4gICAgICAgIHRocm93RXJyb3IoJ05vdCBvZiB0eXBlIFROb2RlLCBnb3Q6ICcgKyB0Tm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VEljdSh0SWN1KSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0SWN1LCAnRXhwZWN0ZWQgVEljdSB0byBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKCEodHlwZW9mIHRJY3UuY3VycmVudENhc2VMVmlld0luZGV4ID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcignT2JqZWN0IGlzIG5vdCBvZiBUSWN1IHR5cGUuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Q29tcG9uZW50VHlwZShhY3R1YWwsIG1zZyA9ICdUeXBlIHBhc3NlZCBpbiBpcyBub3QgQ29tcG9uZW50VHlwZSwgaXQgZG9lcyBub3QgaGF2ZSBcXCfJtWNtcFxcJyBwcm9wZXJ0eS4nKSB7XG4gICAgaWYgKCFnZXRDb21wb25lbnREZWYoYWN0dWFsKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TmdNb2R1bGVUeXBlKGFjdHVhbCwgbXNnID0gJ1R5cGUgcGFzc2VkIGluIGlzIG5vdCBOZ01vZHVsZVR5cGUsIGl0IGRvZXMgbm90IGhhdmUgXFwnybVtb2RcXCcgcHJvcGVydHkuJykge1xuICAgIGlmICghZ2V0TmdNb2R1bGVEZWYoYWN0dWFsKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Q3VycmVudFROb2RlSXNQYXJlbnQoaXNQYXJlbnQpIHtcbiAgICBhc3NlcnRFcXVhbChpc1BhcmVudCwgdHJ1ZSwgJ2N1cnJlbnRUTm9kZSBzaG91bGQgYmUgYSBwYXJlbnQnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEhhc1BhcmVudCh0Tm9kZSkge1xuICAgIGFzc2VydERlZmluZWQodE5vZGUsICdjdXJyZW50VE5vZGUgc2hvdWxkIGV4aXN0IScpO1xuICAgIGFzc2VydERlZmluZWQodE5vZGUucGFyZW50LCAnY3VycmVudFROb2RlIHNob3VsZCBoYXZlIGEgcGFyZW50Jyk7XG59XG5mdW5jdGlvbiBhc3NlcnREYXRhTmV4dChsVmlldywgaW5kZXgsIGFycikge1xuICAgIGlmIChhcnIgPT0gbnVsbClcbiAgICAgICAgYXJyID0gbFZpZXc7XG4gICAgYXNzZXJ0RXF1YWwoYXJyLmxlbmd0aCwgaW5kZXgsIGBpbmRleCAke2luZGV4fSBleHBlY3RlZCB0byBiZSBhdCB0aGUgZW5kIG9mIGFyciAobGVuZ3RoICR7YXJyLmxlbmd0aH0pYCk7XG59XG5mdW5jdGlvbiBhc3NlcnRMQ29udGFpbmVyKHZhbHVlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2YWx1ZSwgJ0xDb250YWluZXIgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgYXNzZXJ0RXF1YWwoaXNMQ29udGFpbmVyKHZhbHVlKSwgdHJ1ZSwgJ0V4cGVjdGluZyBMQ29udGFpbmVyJyk7XG59XG5mdW5jdGlvbiBhc3NlcnRMVmlld09yVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgdmFsdWUgJiYgYXNzZXJ0RXF1YWwoaXNMVmlldyh2YWx1ZSksIHRydWUsICdFeHBlY3RpbmcgTFZpZXcgb3IgdW5kZWZpbmVkIG9yIG51bGwnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExWaWV3KHZhbHVlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2YWx1ZSwgJ0xWaWV3IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGFzc2VydEVxdWFsKGlzTFZpZXcodmFsdWUpLCB0cnVlLCAnRXhwZWN0aW5nIExWaWV3Jyk7XG59XG5mdW5jdGlvbiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnRFcXVhbCh0Vmlldy5maXJzdENyZWF0ZVBhc3MsIHRydWUsIGVyck1lc3NhZ2UgfHwgJ1Nob3VsZCBvbmx5IGJlIGNhbGxlZCBpbiBmaXJzdCBjcmVhdGUgcGFzcy4nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEZpcnN0VXBkYXRlUGFzcyh0VmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydEVxdWFsKHRWaWV3LmZpcnN0VXBkYXRlUGFzcywgdHJ1ZSwgZXJyTWVzc2FnZSB8fCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IHVwZGF0ZSBwYXNzLicpO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgYmFzaWMgc2FuaXR5IGNoZWNrIHRoYXQgYW4gb2JqZWN0IGlzIHByb2JhYmx5IGEgZGlyZWN0aXZlIGRlZi4gRGlyZWN0aXZlRGVmIGlzXG4gKiBhbiBpbnRlcmZhY2UsIHNvIHdlIGNhbid0IGRvIGEgZGlyZWN0IGluc3RhbmNlb2YgY2hlY2suXG4gKi9cbmZ1bmN0aW9uIGFzc2VydERpcmVjdGl2ZURlZihvYmopIHtcbiAgICBpZiAob2JqLnR5cGUgPT09IHVuZGVmaW5lZCB8fCBvYmouc2VsZWN0b3JzID09IHVuZGVmaW5lZCB8fCBvYmouaW5wdXRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgRXhwZWN0ZWQgYSBEaXJlY3RpdmVEZWYvQ29tcG9uZW50RGVmIGFuZCB0aGlzIG9iamVjdCBkb2VzIG5vdCBzZWVtIHRvIGhhdmUgdGhlIGV4cGVjdGVkIHNoYXBlLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5EZWNsUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKEhFQURFUl9PRkZTRVQsIHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCBpbmRleCk7XG59XG5mdW5jdGlvbiBhc3NlcnRJbmRleEluVmFyc1JhbmdlKGxWaWV3LCBpbmRleCkge1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbMV07XG4gICAgYXNzZXJ0QmV0d2Vlbih0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgdFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKHRWaWV3LmV4cGFuZG9TdGFydEluZGV4LCBsVmlldy5sZW5ndGgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEJldHdlZW4obG93ZXIsIHVwcGVyLCBpbmRleCkge1xuICAgIGlmICghKGxvd2VyIDw9IGluZGV4ICYmIGluZGV4IDwgdXBwZXIpKSB7XG4gICAgICAgIHRocm93RXJyb3IoYEluZGV4IG91dCBvZiByYW5nZSAoZXhwZWN0aW5nICR7bG93ZXJ9IDw9ICR7aW5kZXh9IDwgJHt1cHBlcn0pYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0UHJvamVjdGlvblNsb3RzKGxWaWV3LCBlcnJNZXNzYWdlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10sICdDb21wb25lbnQgdmlld3Mgc2hvdWxkIGV4aXN0LicpO1xuICAgIGFzc2VydERlZmluZWQobFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddW1RfSE9TVF0ucHJvamVjdGlvbiwgZXJyTWVzc2FnZSB8fFxuICAgICAgICAnQ29tcG9uZW50cyB3aXRoIHByb2plY3Rpb24gbm9kZXMgKDxuZy1jb250ZW50PikgbXVzdCBoYXZlIHByb2plY3Rpb24gc2xvdHMgZGVmaW5lZC4nKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFBhcmVudFZpZXcobFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxWaWV3LCBlcnJNZXNzYWdlIHx8ICdDb21wb25lbnQgdmlld3Mgc2hvdWxkIGFsd2F5cyBoYXZlIGEgcGFyZW50IHZpZXcgKGNvbXBvbmVudFxcJ3MgaG9zdCB2aWV3KScpO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgYmFzaWMgc2FuaXR5IGNoZWNrIHRoYXQgdGhlIGBpbmplY3RvckluZGV4YCBzZWVtcyB0byBwb2ludCB0byB3aGF0IGxvb2tzIGxpa2UgYVxuICogTm9kZUluamVjdG9yIGRhdGEgc3RydWN0dXJlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIHdoaWNoIHNob3VsZCBiZSBjaGVja2VkLlxuICogQHBhcmFtIGluamVjdG9ySW5kZXggaW5kZXggaW50byB0aGUgYExWaWV3YCB3aGVyZSB0aGUgYE5vZGVJbmplY3RvcmAgaXMgZXhwZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vZGVJbmplY3RvcihsVmlldywgaW5qZWN0b3JJbmRleCkge1xuICAgIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGluamVjdG9ySW5kZXgpO1xuICAgIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGluamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqLyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAwXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAxXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAyXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyAzXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA0XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA1XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA2XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA3XSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyJyk7XG4gICAgYXNzZXJ0TnVtYmVyKGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL10sICdpbmplY3RvckluZGV4IHNob3VsZCBwb2ludCB0byBwYXJlbnQgaW5qZWN0b3InKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRGYWN0b3J5RGVmKHR5cGUsIHRocm93Tm90Rm91bmQpIHtcbiAgICBjb25zdCBoYXNGYWN0b3J5RGVmID0gdHlwZS5oYXNPd25Qcm9wZXJ0eShOR19GQUNUT1JZX0RFRik7XG4gICAgaWYgKCFoYXNGYWN0b3J5RGVmICYmIHRocm93Tm90Rm91bmQgPT09IHRydWUgJiYgbmdEZXZNb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSAke3N0cmluZ2lmeSh0eXBlKX0gZG9lcyBub3QgaGF2ZSAnybVmYWMnIHByb3BlcnR5LmApO1xuICAgIH1cbiAgICByZXR1cm4gaGFzRmFjdG9yeURlZiA/IHR5cGVbTkdfRkFDVE9SWV9ERUZdIDogbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBiYXNpYyBjaGFuZ2UgZnJvbSBhIHByZXZpb3VzIHRvIGEgbmV3IHZhbHVlIGZvciBhIHNpbmdsZVxuICogcHJvcGVydHkgb24gYSBkaXJlY3RpdmUgaW5zdGFuY2UuIFBhc3NlZCBhcyBhIHZhbHVlIGluIGFcbiAqIHtAbGluayBTaW1wbGVDaGFuZ2VzfSBvYmplY3QgdG8gdGhlIGBuZ09uQ2hhbmdlc2AgaG9vay5cbiAqXG4gKiBAc2VlIGBPbkNoYW5nZXNgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBTaW1wbGVDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmlyc3RDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgIHRoaXMuZmlyc3RDaGFuZ2UgPSBmaXJzdENoYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgbmV3IHZhbHVlIGlzIHRoZSBmaXJzdCB2YWx1ZSBhc3NpZ25lZC5cbiAgICAgKi9cbiAgICBpc0ZpcnN0Q2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoYW5nZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgTmdPbkNoYW5nZXNGZWF0dXJlIGRlY29yYXRlcyBhIGNvbXBvbmVudCB3aXRoIHN1cHBvcnQgZm9yIHRoZSBuZ09uQ2hhbmdlc1xuICogbGlmZWN5Y2xlIGhvb2ssIHNvIGl0IHNob3VsZCBiZSBpbmNsdWRlZCBpbiBhbnkgY29tcG9uZW50IHRoYXQgaW1wbGVtZW50c1xuICogdGhhdCBob29rLlxuICpcbiAqIElmIHRoZSBjb21wb25lbnQgb3IgZGlyZWN0aXZlIHVzZXMgaW5oZXJpdGFuY2UsIHRoZSBOZ09uQ2hhbmdlc0ZlYXR1cmUgTVVTVFxuICogYmUgaW5jbHVkZWQgYXMgYSBmZWF0dXJlIEFGVEVSIHtAbGluayBJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmV9LCBvdGhlcndpc2VcbiAqIGluaGVyaXRlZCBwcm9wZXJ0aWVzIHdpbGwgbm90IGJlIHByb3BhZ2F0ZWQgdG8gdGhlIG5nT25DaGFuZ2VzIGxpZmVjeWNsZVxuICogaG9vay5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICpcbiAqIGBgYFxuICogc3RhdGljIMm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgLi4uXG4gKiAgIGlucHV0czoge25hbWU6ICdwdWJsaWNOYW1lJ30sXG4gKiAgIGZlYXR1cmVzOiBbTmdPbkNoYW5nZXNGZWF0dXJlXVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1TmdPbkNoYW5nZXNGZWF0dXJlKCkge1xuICAgIHJldHVybiBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsO1xufVxuZnVuY3Rpb24gTmdPbkNoYW5nZXNGZWF0dXJlSW1wbChkZWZpbml0aW9uKSB7XG4gICAgaWYgKGRlZmluaXRpb24udHlwZS5wcm90b3R5cGUubmdPbkNoYW5nZXMpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5zZXRJbnB1dCA9IG5nT25DaGFuZ2VzU2V0SW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiByZW1lbWJlckNoYW5nZUhpc3RvcnlBbmRJbnZva2VPbkNoYW5nZXNIb29rO1xufVxuLy8gVGhpcyBvcHRpb24gZW5zdXJlcyB0aGF0IHRoZSBuZ09uQ2hhbmdlcyBsaWZlY3ljbGUgaG9vayB3aWxsIGJlIGluaGVyaXRlZFxuLy8gZnJvbSBzdXBlcmNsYXNzZXMgKGluIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZSkuXG4vKiogQG5vY29sbGFwc2UgKi9cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3Ncbsm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUubmdJbmhlcml0ID0gdHJ1ZTtcbi8qKlxuICogVGhpcyBpcyBhIHN5bnRoZXRpYyBsaWZlY3ljbGUgaG9vayB3aGljaCBnZXRzIGluc2VydGVkIGludG8gYFRWaWV3LnByZU9yZGVySG9va3NgIHRvIHNpbXVsYXRlXG4gKiBgbmdPbkNoYW5nZXNgLlxuICpcbiAqIFRoZSBob29rIHJlYWRzIHRoZSBgTmdTaW1wbGVDaGFuZ2VzU3RvcmVgIGRhdGEgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFuZCBpZiBjaGFuZ2VzIGFyZVxuICogZm91bmQgaXQgaW52b2tlcyBgbmdPbkNoYW5nZXNgIG9uIHRoZSBjb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHRoaXMgQ29tcG9uZW50IGluc3RhbmNlLiBCZWNhdXNlIHRoaXMgZnVuY3Rpb24gZ2V0cyBpbnNlcnRlZCBpbnRvIGBUVmlldy5wcmVPcmRlckhvb2tzYCxcbiAqICAgICBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCB3aXRoIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gcmVtZW1iZXJDaGFuZ2VIaXN0b3J5QW5kSW52b2tlT25DaGFuZ2VzSG9vaygpIHtcbiAgICBjb25zdCBzaW1wbGVDaGFuZ2VzU3RvcmUgPSBnZXRTaW1wbGVDaGFuZ2VzU3RvcmUodGhpcyk7XG4gICAgY29uc3QgY3VycmVudCA9IHNpbXBsZUNoYW5nZXNTdG9yZSA9PT0gbnVsbCB8fCBzaW1wbGVDaGFuZ2VzU3RvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpbXBsZUNoYW5nZXNTdG9yZS5jdXJyZW50O1xuICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gc2ltcGxlQ2hhbmdlc1N0b3JlLnByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMgPT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgc2ltcGxlQ2hhbmdlc1N0b3JlLnByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5ldyBjaGFuZ2VzIGFyZSBjb3BpZWQgdG8gdGhlIHByZXZpb3VzIHN0b3JlLCBzbyB0aGF0IHdlIGRvbid0IGxvc2UgaGlzdG9yeSBmb3IgaW5wdXRzXG4gICAgICAgICAgICAvLyB3aGljaCB3ZXJlIG5vdCBjaGFuZ2VkIHRoaXMgdGltZVxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1trZXldID0gY3VycmVudFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNpbXBsZUNoYW5nZXNTdG9yZS5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZ09uQ2hhbmdlcyhjdXJyZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZ09uQ2hhbmdlc1NldElucHV0KGluc3RhbmNlLCB2YWx1ZSwgcHVibGljTmFtZSwgcHJpdmF0ZU5hbWUpIHtcbiAgICBjb25zdCBzaW1wbGVDaGFuZ2VzU3RvcmUgPSBnZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UpIHx8XG4gICAgICAgIHNldFNpbXBsZUNoYW5nZXNTdG9yZShpbnN0YW5jZSwgeyBwcmV2aW91czogRU1QVFlfT0JKLCBjdXJyZW50OiBudWxsIH0pO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBzaW1wbGVDaGFuZ2VzU3RvcmUuY3VycmVudCB8fCAoc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQgPSB7fSk7XG4gICAgY29uc3QgcHJldmlvdXMgPSBzaW1wbGVDaGFuZ2VzU3RvcmUucHJldmlvdXM7XG4gICAgY29uc3QgZGVjbGFyZWROYW1lID0gdGhpcy5kZWNsYXJlZElucHV0c1twdWJsaWNOYW1lXTtcbiAgICBjb25zdCBwcmV2aW91c0NoYW5nZSA9IHByZXZpb3VzW2RlY2xhcmVkTmFtZV07XG4gICAgY3VycmVudFtkZWNsYXJlZE5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShwcmV2aW91c0NoYW5nZSAmJiBwcmV2aW91c0NoYW5nZS5jdXJyZW50VmFsdWUsIHZhbHVlLCBwcmV2aW91cyA9PT0gRU1QVFlfT0JKKTtcbiAgICBpbnN0YW5jZVtwcml2YXRlTmFtZV0gPSB2YWx1ZTtcbn1cbmNvbnN0IFNJTVBMRV9DSEFOR0VTX1NUT1JFID0gJ19fbmdTaW1wbGVDaGFuZ2VzX18nO1xuZnVuY3Rpb24gZ2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlW1NJTVBMRV9DSEFOR0VTX1NUT1JFXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gc2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlLCBzdG9yZSkge1xuICAgIHJldHVybiBpbnN0YW5jZVtTSU1QTEVfQ0hBTkdFU19TVE9SRV0gPSBzdG9yZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgcHJvZmlsZXJDYWxsYmFjayA9IG51bGw7XG4vKipcbiAqIFNldHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgaW52b2tlZCBiZWZvcmUgYW5kIGFmdGVyIHBlcmZvcm1pbmcgY2VydGFpbiBhY3Rpb25zIGF0XG4gKiBydW50aW1lIChmb3IgZXhhbXBsZSwgYmVmb3JlIGFuZCBhZnRlciBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24pLlxuICpcbiAqIFdhcm5pbmc6IHRoaXMgZnVuY3Rpb24gaXMgKklOVEVSTkFMKiBhbmQgc2hvdWxkIG5vdCBiZSByZWxpZWQgdXBvbiBpbiBhcHBsaWNhdGlvbidzIGNvZGUuXG4gKiBUaGUgY29udHJhY3Qgb2YgdGhlIGZ1bmN0aW9uIG1pZ2h0IGJlIGNoYW5nZWQgaW4gYW55IHJlbGVhc2UgYW5kL29yIHRoZSBmdW5jdGlvbiBjYW4gYmUgcmVtb3ZlZFxuICogY29tcGxldGVseS5cbiAqXG4gKiBAcGFyYW0gcHJvZmlsZXIgZnVuY3Rpb24gcHJvdmlkZWQgYnkgdGhlIGNhbGxlciBvciBudWxsIHZhbHVlIHRvIGRpc2FibGUgcHJvZmlsaW5nLlxuICovXG5jb25zdCBzZXRQcm9maWxlciA9IChwcm9maWxlcikgPT4ge1xuICAgIHByb2ZpbGVyQ2FsbGJhY2sgPSBwcm9maWxlcjtcbn07XG4vKipcbiAqIFByb2ZpbGVyIGZ1bmN0aW9uIHdoaWNoIHdyYXBzIHVzZXIgY29kZSBleGVjdXRlZCBieSB0aGUgcnVudGltZS5cbiAqXG4gKiBAcGFyYW0gZXZlbnQgUHJvZmlsZXJFdmVudCBjb3JyZXNwb25kaW5nIHRvIHRoZSBleGVjdXRpb24gY29udGV4dFxuICogQHBhcmFtIGluc3RhbmNlIGNvbXBvbmVudCBpbnN0YW5jZVxuICogQHBhcmFtIGhvb2tPckxpc3RlbmVyIGxpZmVjeWNsZSBob29rIGZ1bmN0aW9uIG9yIG91dHB1dCBsaXN0ZW5lci4gVGhlIHZhbHVlIGRlcGVuZHMgb24gdGhlXG4gKiAgZXhlY3V0aW9uIGNvbnRleHRcbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IHByb2ZpbGVyID0gZnVuY3Rpb24gKGV2ZW50LCBpbnN0YW5jZSwgaG9va09yTGlzdGVuZXIpIHtcbiAgICBpZiAocHJvZmlsZXJDYWxsYmFjayAhPSBudWxsIC8qIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYCAqLykge1xuICAgICAgICBwcm9maWxlckNhbGxiYWNrKGV2ZW50LCBpbnN0YW5jZSwgaG9va09yTGlzdGVuZXIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgU1ZHX05BTUVTUEFDRSA9ICdzdmcnO1xuY29uc3QgU1ZHX05BTUVTUEFDRV9VUkkgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgTUFUSF9NTF9OQU1FU1BBQ0UgPSAnbWF0aCc7XG5jb25zdCBNQVRIX01MX05BTUVTUEFDRV9VUkkgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvJztcbmZ1bmN0aW9uIGdldE5hbWVzcGFjZVVyaShuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBuYW1lID0gbmFtZXNwYWNlLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5hbWUgPT09IFNWR19OQU1FU1BBQ0UgPyBTVkdfTkFNRVNQQUNFX1VSSSA6XG4gICAgICAgIChuYW1lID09PSBNQVRIX01MX05BTUVTUEFDRSA/IE1BVEhfTUxfTkFNRVNQQUNFX1VSSSA6IG51bGwpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTW9zdCBvZiB0aGUgdXNlIG9mIGBkb2N1bWVudGAgaW4gQW5ndWxhciBpcyBmcm9tIHdpdGhpbiB0aGUgREkgc3lzdGVtIHNvIGl0IGlzIHBvc3NpYmxlIHRvIHNpbXBseVxuICogaW5qZWN0IHRoZSBgRE9DVU1FTlRgIHRva2VuIGFuZCBhcmUgZG9uZS5cbiAqXG4gKiBJdnkgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGRvZXMgbm90IHJlbHkgdXBvbiB0aGUgREkgYW5kIG11c3QgZ2V0IGhvbGQgb2YgdGhlIGRvY3VtZW50IHNvbWUgb3RoZXJcbiAqIHdheS5cbiAqXG4gKiBUaGUgc29sdXRpb24gaXMgdG8gZGVmaW5lIGBnZXREb2N1bWVudCgpYCBhbmQgYHNldERvY3VtZW50KClgIHRvcC1sZXZlbCBmdW5jdGlvbnMgZm9yIGl2eS5cbiAqIFdoZXJldmVyIGl2eSBuZWVkcyB0aGUgZ2xvYmFsIGRvY3VtZW50LCBpdCBjYWxscyBgZ2V0RG9jdW1lbnQoKWAgaW5zdGVhZC5cbiAqXG4gKiBXaGVuIHJ1bm5pbmcgaXZ5IG91dHNpZGUgb2YgYSBicm93c2VyIGVudmlyb25tZW50LCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbCBgc2V0RG9jdW1lbnQoKWAgdG9cbiAqIHRlbGwgaXZ5IHdoYXQgdGhlIGdsb2JhbCBgZG9jdW1lbnRgIGlzLlxuICpcbiAqIEFuZ3VsYXIgZG9lcyB0aGlzIGZvciB1cyBpbiBlYWNoIG9mIHRoZSBzdGFuZGFyZCBwbGF0Zm9ybXMgKGBCcm93c2VyYCwgYFNlcnZlcmAsIGFuZCBgV2ViV29ya2VyYClcbiAqIGJ5IGNhbGxpbmcgYHNldERvY3VtZW50KClgIHdoZW4gcHJvdmlkaW5nIHRoZSBgRE9DVU1FTlRgIHRva2VuLlxuICovXG5sZXQgRE9DVU1FTlQgPSB1bmRlZmluZWQ7XG4vKipcbiAqIFRlbGwgaXZ5IHdoYXQgdGhlIGBkb2N1bWVudGAgaXMgZm9yIHRoaXMgcGxhdGZvcm0uXG4gKlxuICogSXQgaXMgb25seSBuZWNlc3NhcnkgdG8gY2FsbCB0aGlzIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIGlzIG5vdCBhIGJyb3dzZXIuXG4gKlxuICogQHBhcmFtIGRvY3VtZW50IFRoZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBnbG9iYWwgYGRvY3VtZW50YCBpbiB0aGlzIGVudmlyb25tZW50LlxuICovXG5mdW5jdGlvbiBzZXREb2N1bWVudChkb2N1bWVudCkge1xuICAgIERPQ1VNRU5UID0gZG9jdW1lbnQ7XG59XG4vKipcbiAqIEFjY2VzcyB0aGUgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgYGRvY3VtZW50YCBmb3IgdGhpcyBwbGF0Zm9ybS5cbiAqXG4gKiBJdnkgY2FsbHMgdGhpcyB3aGVuZXZlciBpdCBuZWVkcyB0byBhY2Nlc3MgdGhlIGBkb2N1bWVudGAgb2JqZWN0LlxuICogRm9yIGV4YW1wbGUgdG8gY3JlYXRlIHRoZSByZW5kZXJlciBvciB0byBkbyBzYW5pdGl6YXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICAgIGlmIChET0NVTUVOVCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBET0NVTUVOVDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxuICAgIC8vIE5vIFwiZG9jdW1lbnRcIiBjYW4gYmUgZm91bmQuIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHdlIGFyZSBydW5uaW5nIGl2eSBvdXRzaWRlIEFuZ3VsYXIgYW5kXG4gICAgLy8gdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgbm90IGEgYnJvd3Nlci4gU2luY2UgdGhpcyBpcyBub3QgYSBzdXBwb3J0ZWQgc2NlbmFyaW8gYXQgdGhlIG1vbWVudFxuICAgIC8vIHRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gaW4gQW5ndWxhciBhcHBzLlxuICAgIC8vIE9uY2Ugd2Ugc3VwcG9ydCBydW5uaW5nIGl2eSBvdXRzaWRlIG9mIEFuZ3VsYXIgd2Ugd2lsbCBuZWVkIHRvIHB1Ymxpc2ggYHNldERvY3VtZW50KClgIGFzIGFcbiAgICAvLyBwdWJsaWMgQVBJLiBNZWFud2hpbGUgd2UganVzdCByZXR1cm4gYHVuZGVmaW5lZGAgYW5kIGxldCB0aGUgYXBwbGljYXRpb24gZmFpbC5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE86IGNsZWFudXAgb25jZSB0aGUgY29kZSBpcyBtZXJnZWQgaW4gYW5ndWxhci9hbmd1bGFyXG52YXIgUmVuZGVyZXJTdHlsZUZsYWdzMztcbihmdW5jdGlvbiAoUmVuZGVyZXJTdHlsZUZsYWdzMykge1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczNbUmVuZGVyZXJTdHlsZUZsYWdzM1tcIkltcG9ydGFudFwiXSA9IDFdID0gXCJJbXBvcnRhbnRcIjtcbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MzW1JlbmRlcmVyU3R5bGVGbGFnczNbXCJEYXNoQ2FzZVwiXSA9IDJdID0gXCJEYXNoQ2FzZVwiO1xufSkoUmVuZGVyZXJTdHlsZUZsYWdzMyB8fCAoUmVuZGVyZXJTdHlsZUZsYWdzMyA9IHt9KSk7XG4vKiogUmV0dXJucyB3aGV0aGVyIHRoZSBgcmVuZGVyZXJgIGlzIGEgYFByb2NlZHVyYWxSZW5kZXJlcjNgICovXG5mdW5jdGlvbiBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikge1xuICAgIHJldHVybiAhIShyZW5kZXJlci5saXN0ZW4pO1xufVxuY29uc3QgZG9tUmVuZGVyZXJGYWN0b3J5MyA9IHtcbiAgICBjcmVhdGVSZW5kZXJlcjogKGhvc3RFbGVtZW50LCByZW5kZXJlclR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldERvY3VtZW50KCk7XG4gICAgfVxufTtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDYgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRm9yIGVmZmljaWVuY3kgcmVhc29ucyB3ZSBvZnRlbiBwdXQgc2V2ZXJhbCBkaWZmZXJlbnQgZGF0YSB0eXBlcyAoYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgKVxuICogaW4gc2FtZSBsb2NhdGlvbiBpbiBgTFZpZXdgLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBwcmUtYWxsb2NhdGUgc3BhY2UgZm9yIGl0XG4gKiBiZWNhdXNlIHRoZSBzdG9yYWdlIGlzIHNwYXJzZS4gVGhpcyBmaWxlIGNvbnRhaW5zIHV0aWxpdGllcyBmb3IgZGVhbGluZyB3aXRoIHN1Y2ggZGF0YSB0eXBlcy5cbiAqXG4gKiBIb3cgZG8gd2Uga25vdyB3aGF0IGlzIHN0b3JlZCBhdCBhIGdpdmVuIGxvY2F0aW9uIGluIGBMVmlld2AuXG4gKiAtIGBBcnJheS5pc0FycmF5KHZhbHVlKSA9PT0gZmFsc2VgID0+IGBSTm9kZWAgKFRoZSBub3JtYWwgc3RvcmFnZSB2YWx1ZSlcbiAqIC0gYEFycmF5LmlzQXJyYXkodmFsdWUpID09PSB0cnVlYCA9PiB0aGVuIHRoZSBgdmFsdWVbMF1gIHJlcHJlc2VudHMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gKiAgIC0gYHR5cGVvZiB2YWx1ZVtUWVBFXSA9PT0gJ29iamVjdCdgID0+IGBMVmlld2BcbiAqICAgICAgLSBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBoYXZlIGEgY29tcG9uZW50IGF0IGEgZ2l2ZW4gbG9jYXRpb25cbiAqICAgLSBgdHlwZW9mIHZhbHVlW1RZUEVdID09PSB0cnVlYCA9PiBgTENvbnRhaW5lcmBcbiAqICAgICAgLSBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBoYXZlIGBMQ29udGFpbmVyYCBiaW5kaW5nIGF0IGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICpcbiAqIE5PVEU6IGl0IGlzIGFzc3VtZWQgdGhhdCBgQXJyYXkuaXNBcnJheWAgYW5kIGB0eXBlb2ZgIG9wZXJhdGlvbnMgYXJlIHZlcnkgZWZmaWNpZW50LlxuICovXG4vKipcbiAqIFJldHVybnMgYFJOb2RlYC5cbiAqIEBwYXJhbSB2YWx1ZSB3cmFwcGVkIHZhbHVlIG9mIGBSTm9kZWAsIGBMVmlld2AsIGBMQ29udGFpbmVyYFxuICovXG5mdW5jdGlvbiB1bndyYXBSTm9kZSh2YWx1ZSkge1xuICAgIHdoaWxlIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlW0hPU1RdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFJldHVybnMgYExWaWV3YCBvciBgbnVsbGAgaWYgbm90IGZvdW5kLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIHVud3JhcExWaWV3KHZhbHVlKSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFRoaXMgY2hlY2sgaXMgc2FtZSBhcyBgaXNMVmlldygpYCBidXQgd2UgZG9uJ3QgY2FsbCBhdCBhcyB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgICAgICAgLy8gYEFycmF5LmlzQXJyYXkoKWAgdHdpY2UgYW5kIGdpdmUgSklUZXIgbW9yZSB3b3JrIGZvciBpbmxpbmluZy5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtUWVBFXSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gdmFsdWVbSE9TVF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXR1cm5zIGBMQ29udGFpbmVyYCBvciBgbnVsbGAgaWYgbm90IGZvdW5kLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIHVud3JhcExDb250YWluZXIodmFsdWUpIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gVGhpcyBjaGVjayBpcyBzYW1lIGFzIGBpc0xDb250YWluZXIoKWAgYnV0IHdlIGRvbid0IGNhbGwgYXQgYXMgd2UgZG9uJ3Qgd2FudCB0byBjYWxsXG4gICAgICAgIC8vIGBBcnJheS5pc0FycmF5KClgIHR3aWNlIGFuZCBnaXZlIEpJVGVyIG1vcmUgd29yayBmb3IgaW5saW5pbmcuXG4gICAgICAgIGlmICh2YWx1ZVtUWVBFXSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVtIT1NUXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhbiBlbGVtZW50IHZhbHVlIGZyb20gdGhlIHByb3ZpZGVkIGB2aWV3RGF0YWAsIGJ5IHVud3JhcHBpbmdcbiAqIGZyb20gYW55IGNvbnRhaW5lcnMsIGNvbXBvbmVudCB2aWV3cywgb3Igc3R5bGUgY29udGV4dHMuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZUJ5SW5kZXgoaW5kZXgsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdFeHBlY3RlZCB0byBiZSBwYXN0IEhFQURFUl9PRkZTRVQnKTtcbiAgICByZXR1cm4gdW53cmFwUk5vZGUobFZpZXdbaW5kZXhdKTtcbn1cbi8qKlxuICogUmV0cmlldmUgYW4gYFJOb2RlYCBmb3IgYSBnaXZlbiBgVE5vZGVgIGFuZCBgTFZpZXdgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZ3VhcmFudGVlcyBpbiBkZXYgbW9kZSB0byByZXRyaWV2ZSBhIG5vbi1udWxsIGBSTm9kZWAuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKiBAcGFyYW0gbFZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHROb2RlLmluZGV4KTtcbiAgICBjb25zdCBub2RlID0gdW53cmFwUk5vZGUobFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICBuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKGxWaWV3W1JFTkRFUkVSXSkgJiYgYXNzZXJ0RG9tTm9kZShub2RlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cbi8qKlxuICogUmV0cmlldmUgYW4gYFJOb2RlYCBvciBgbnVsbGAgZm9yIGEgZ2l2ZW4gYFROb2RlYCBhbmQgYExWaWV3YC5cbiAqXG4gKiBTb21lIGBUTm9kZWBzIGRvbid0IGhhdmUgYXNzb2NpYXRlZCBgUk5vZGVgcy4gRm9yIGV4YW1wbGUgYFByb2plY3Rpb25gXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKiBAcGFyYW0gbFZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlUTm9kZU9yTnVsbCh0Tm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCBpbmRleCA9IHROb2RlID09PSBudWxsID8gLTEgOiB0Tm9kZS5pbmRleDtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB1bndyYXBSTm9kZShsVmlld1tpbmRleF0pO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbm9kZSAhPT0gbnVsbCAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIobFZpZXdbUkVOREVSRVJdKSAmJiBhc3NlcnREb21Ob2RlKG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBmaXhtZShtaXNrbyk6IFRoZSByZXR1cm4gVHlwZSBzaG91bGQgYmUgYFROb2RlfG51bGxgXG5mdW5jdGlvbiBnZXRUTm9kZSh0VmlldywgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4oaW5kZXgsIC0xLCAnd3JvbmcgaW5kZXggZm9yIFROb2RlJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuKGluZGV4LCB0Vmlldy5kYXRhLmxlbmd0aCwgJ3dyb25nIGluZGV4IGZvciBUTm9kZScpO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgbmdEZXZNb2RlICYmIHROb2RlICE9PSBudWxsICYmIGFzc2VydFROb2RlKHROb2RlKTtcbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKiogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSBhbnkgYExWaWV3YCBvciBgVERhdGFgLiAqL1xuZnVuY3Rpb24gbG9hZCh2aWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UodmlldywgaW5kZXgpO1xuICAgIHJldHVybiB2aWV3W2luZGV4XTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudExWaWV3QnlJbmRleChub2RlSW5kZXgsIGhvc3RWaWV3KSB7XG4gICAgLy8gQ291bGQgYmUgYW4gTFZpZXcgb3IgYW4gTENvbnRhaW5lci4gSWYgTENvbnRhaW5lciwgdW53cmFwIHRvIGZpbmQgTFZpZXcuXG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShob3N0Vmlldywgbm9kZUluZGV4KTtcbiAgICBjb25zdCBzbG90VmFsdWUgPSBob3N0Vmlld1tub2RlSW5kZXhdO1xuICAgIGNvbnN0IGxWaWV3ID0gaXNMVmlldyhzbG90VmFsdWUpID8gc2xvdFZhbHVlIDogc2xvdFZhbHVlW0hPU1RdO1xuICAgIHJldHVybiBsVmlldztcbn1cbi8qKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIHZpZXcgaXMgaW4gY3JlYXRpb24gbW9kZSAqL1xuZnVuY3Rpb24gaXNDcmVhdGlvbk1vZGUodmlldykge1xuICAgIHJldHVybiAodmlld1tGTEFHU10gJiA0IC8qIENyZWF0aW9uTW9kZSAqLykgPT09IDQgLyogQ3JlYXRpb25Nb2RlICovO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3Igd2hldGhlciB0aGUgdmlldyBpcyBhdHRhY2hlZCB0byB0aGUgY2hhbmdlIGRldGVjdGlvbiB0cmVlLlxuICpcbiAqIE5vdGU6IFRoaXMgZGV0ZXJtaW5lcyB3aGV0aGVyIGEgdmlldyBzaG91bGQgYmUgY2hlY2tlZCwgbm90IHdoZXRoZXIgaXQncyBpbnNlcnRlZFxuICogaW50byBhIGNvbnRhaW5lci4gRm9yIHRoYXQsIHlvdSdsbCB3YW50IGB2aWV3QXR0YWNoZWRUb0NvbnRhaW5lcmAgYmVsb3cuXG4gKi9cbmZ1bmN0aW9uIHZpZXdBdHRhY2hlZFRvQ2hhbmdlRGV0ZWN0b3Iodmlldykge1xuICAgIHJldHVybiAodmlld1tGTEFHU10gJiAxMjggLyogQXR0YWNoZWQgKi8pID09PSAxMjggLyogQXR0YWNoZWQgKi87XG59XG4vKiogUmV0dXJucyBhIGJvb2xlYW4gZm9yIHdoZXRoZXIgdGhlIHZpZXcgaXMgYXR0YWNoZWQgdG8gYSBjb250YWluZXIuICovXG5mdW5jdGlvbiB2aWV3QXR0YWNoZWRUb0NvbnRhaW5lcih2aWV3KSB7XG4gICAgcmV0dXJuIGlzTENvbnRhaW5lcih2aWV3W1BBUkVOVF0pO1xufVxuZnVuY3Rpb24gZ2V0Q29uc3RhbnQoY29uc3RzLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gbnVsbCB8fCBpbmRleCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGNvbnN0cywgaW5kZXgpO1xuICAgIHJldHVybiBjb25zdHNbaW5kZXhdO1xufVxuLyoqXG4gKiBSZXNldHMgdGhlIHByZS1vcmRlciBob29rIGZsYWdzIG9mIHRoZSB2aWV3LlxuICogQHBhcmFtIGxWaWV3IHRoZSBMVmlldyBvbiB3aGljaCB0aGUgZmxhZ3MgYXJlIHJlc2V0XG4gKi9cbmZ1bmN0aW9uIHJlc2V0UHJlT3JkZXJIb29rRmxhZ3MobFZpZXcpIHtcbiAgICBsVmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSA9IDA7XG59XG4vKipcbiAqIFVwZGF0ZXMgdGhlIGBUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSGAgY291bnRlciBvbiB0aGUgYExDb250YWluZXJgIGFzIHdlbGwgYXMgdGhlIHBhcmVudHNcbiAqIHdob3NlXG4gKiAgMS4gY291bnRlciBnb2VzIGZyb20gMCB0byAxLCBpbmRpY2F0aW5nIHRoYXQgdGhlcmUgaXMgYSBuZXcgY2hpbGQgdGhhdCBoYXMgYSB2aWV3IHRvIHJlZnJlc2hcbiAqICBvclxuICogIDIuIGNvdW50ZXIgZ29lcyBmcm9tIDEgdG8gMCwgaW5kaWNhdGluZyB0aGVyZSBhcmUgbm8gbW9yZSBkZXNjZW5kYW50IHZpZXdzIHRvIHJlZnJlc2hcbiAqL1xuZnVuY3Rpb24gdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGxDb250YWluZXIsIGFtb3VudCkge1xuICAgIGxDb250YWluZXJbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdICs9IGFtb3VudDtcbiAgICBsZXQgdmlld09yQ29udGFpbmVyID0gbENvbnRhaW5lcjtcbiAgICBsZXQgcGFyZW50ID0gbENvbnRhaW5lcltQQVJFTlRdO1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiZcbiAgICAgICAgKChhbW91bnQgPT09IDEgJiYgdmlld09yQ29udGFpbmVyW1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA9PT0gMSkgfHxcbiAgICAgICAgICAgIChhbW91bnQgPT09IC0xICYmIHZpZXdPckNvbnRhaW5lcltUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPT09IDApKSkge1xuICAgICAgICBwYXJlbnRbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdICs9IGFtb3VudDtcbiAgICAgICAgdmlld09yQ29udGFpbmVyID0gcGFyZW50O1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnRbUEFSRU5UXTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgaW5zdHJ1Y3Rpb25TdGF0ZSA9IHtcbiAgICBsRnJhbWU6IGNyZWF0ZUxGcmFtZShudWxsKSxcbiAgICBiaW5kaW5nc0VuYWJsZWQ6IHRydWUsXG4gICAgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZTogZmFsc2UsXG59O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGluc3RydWN0aW9uIHN0YXRlIHN0YWNrIGlzIGVtcHR5LlxuICpcbiAqIEludGVuZGVkIHRvIGJlIGNhbGxlZCBmcm9tIHRlc3RzIG9ubHkgKHRyZWUgc2hha2VuIG90aGVyd2lzZSkuXG4gKi9cbmZ1bmN0aW9uIHNwZWNPbmx5SXNJbnN0cnVjdGlvblN0YXRlRW1wdHkoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnBhcmVudCA9PT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnREZXB0aENvdW50KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudDtcbn1cbmZ1bmN0aW9uIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQrKztcbn1cbmZ1bmN0aW9uIGRlY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQtLTtcbn1cbmZ1bmN0aW9uIGdldEJpbmRpbmdzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5iaW5kaW5nc0VuYWJsZWQ7XG59XG4vKipcbiAqIEVuYWJsZXMgZGlyZWN0aXZlIG1hdGNoaW5nIG9uIGVsZW1lbnRzLlxuICpcbiAqICAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPCEtLSDJtcm1ZGlzYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiAgIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgICBTaG91bGQgbm90IG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZSBiZWNhdXNlIHdlIGFyZSBpbiBuZ05vbkJpbmRhYmxlLlxuICogICA8L215LWNvbXA+XG4gKiAgIDwhLS0gybXJtWVuYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbmFibGVCaW5kaW5ncygpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmJpbmRpbmdzRW5hYmxlZCA9IHRydWU7XG59XG4vKipcbiAqIERpc2FibGVzIGRpcmVjdGl2ZSBtYXRjaGluZyBvbiBlbGVtZW50LlxuICpcbiAqICAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPCEtLSDJtcm1ZGlzYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiAgIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgICBTaG91bGQgbm90IG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZSBiZWNhdXNlIHdlIGFyZSBpbiBuZ05vbkJpbmRhYmxlLlxuICogICA8L215LWNvbXA+XG4gKiAgIDwhLS0gybXJtWVuYWJsZUJpbmRpbmdzKCkgLS0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkaXNhYmxlQmluZGluZ3MoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5iaW5kaW5nc0VuYWJsZWQgPSBmYWxzZTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGdldExWaWV3KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5sVmlldztcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjdXJyZW50IGBUVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGdldFRWaWV3KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS50Vmlldztcbn1cbi8qKlxuICogUmVzdG9yZXMgYGNvbnRleHRWaWV3RGF0YWAgdG8gdGhlIGdpdmVuIE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGdldEN1cnJlbnRWaWV3KCkgaW5zdHJ1Y3Rpb24gdG8gc2F2ZSBhIHNuYXBzaG90XG4gKiBvZiB0aGUgY3VycmVudCB2aWV3IGFuZCByZXN0b3JlIGl0IHdoZW4gbGlzdGVuZXJzIGFyZSBpbnZva2VkLiBUaGlzIGFsbG93c1xuICogd2Fsa2luZyB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIGluIGxpc3RlbmVycyB0byBnZXQgdmFycyBmcm9tIHBhcmVudCB2aWV3cy5cbiAqXG4gKiBAcGFyYW0gdmlld1RvUmVzdG9yZSBUaGUgT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlIHRvIHJlc3RvcmUuXG4gKiBAcmV0dXJucyBDb250ZXh0IG9mIHRoZSByZXN0b3JlZCBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlc3RvcmVWaWV3KHZpZXdUb1Jlc3RvcmUpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXcgPSB2aWV3VG9SZXN0b3JlO1xuICAgIHJldHVybiB2aWV3VG9SZXN0b3JlW0NPTlRFWFRdO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFROb2RlKCkge1xuICAgIGxldCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGVQbGFjZWhvbGRlck9rKCk7XG4gICAgd2hpbGUgKGN1cnJlbnRUTm9kZSAhPT0gbnVsbCAmJiBjdXJyZW50VE5vZGUudHlwZSA9PT0gNjQgLyogUGxhY2Vob2xkZXIgKi8pIHtcbiAgICAgICAgY3VycmVudFROb2RlID0gY3VycmVudFROb2RlLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRUTm9kZTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRUTm9kZVBsYWNlaG9sZGVyT2soKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnRUTm9kZTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBjb25zdCBjdXJyZW50VE5vZGUgPSBsRnJhbWUuY3VycmVudFROb2RlO1xuICAgIHJldHVybiBsRnJhbWUuaXNQYXJlbnQgPyBjdXJyZW50VE5vZGUgOiBjdXJyZW50VE5vZGUucGFyZW50O1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFROb2RlKHROb2RlLCBpc1BhcmVudCkge1xuICAgIG5nRGV2TW9kZSAmJiB0Tm9kZSAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS50Vmlldyk7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgbEZyYW1lLmN1cnJlbnRUTm9kZSA9IHROb2RlO1xuICAgIGxGcmFtZS5pc1BhcmVudCA9IGlzUGFyZW50O1xufVxuZnVuY3Rpb24gaXNDdXJyZW50VE5vZGVQYXJlbnQoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmlzUGFyZW50O1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaXNQYXJlbnQgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRUTm9kZUFzUGFyZW50KCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmlzUGFyZW50ID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldENvbnRleHRMVmlldygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY29udGV4dExWaWV3O1xufVxuZnVuY3Rpb24gaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogcmVtb3ZlIHRoaXMgZnJvbSB0aGUgTFZpZXcgc2luY2UgaXQgaXMgbmdEZXZNb2RlPXRydWUgbW9kZSBvbmx5LlxuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmlzSW5DaGVja05vQ2hhbmdlc01vZGU7XG59XG5mdW5jdGlvbiBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKG1vZGUpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmlzSW5DaGVja05vQ2hhbmdlc01vZGUgPSBtb2RlO1xufVxuLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuZnVuY3Rpb24gZ2V0QmluZGluZ1Jvb3QoKSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgbGV0IGluZGV4ID0gbEZyYW1lLmJpbmRpbmdSb290SW5kZXg7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IGxGcmFtZS5iaW5kaW5nUm9vdEluZGV4ID0gbEZyYW1lLnRWaWV3LmJpbmRpbmdTdGFydEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG5mdW5jdGlvbiBnZXRCaW5kaW5nSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmJpbmRpbmdJbmRleDtcbn1cbmZ1bmN0aW9uIHNldEJpbmRpbmdJbmRleCh2YWx1ZSkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5iaW5kaW5nSW5kZXggPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG5leHRCaW5kaW5nSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmJpbmRpbmdJbmRleCsrO1xufVxuZnVuY3Rpb24gaW5jcmVtZW50QmluZGluZ0luZGV4KGNvdW50KSB7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgY29uc3QgaW5kZXggPSBsRnJhbWUuYmluZGluZ0luZGV4O1xuICAgIGxGcmFtZS5iaW5kaW5nSW5kZXggPSBsRnJhbWUuYmluZGluZ0luZGV4ICsgY291bnQ7XG4gICAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gaXNJbkkxOG5CbG9jaygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaW5JMThuO1xufVxuZnVuY3Rpb24gc2V0SW5JMThuQmxvY2soaXNJbkkxOG5CbG9jaykge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmluSTE4biA9IGlzSW5JMThuQmxvY2s7XG59XG4vKipcbiAqIFNldCBhIG5ldyBiaW5kaW5nIHJvb3QgaW5kZXggc28gdGhhdCBob3N0IHRlbXBsYXRlIGZ1bmN0aW9ucyBjYW4gZXhlY3V0ZS5cbiAqXG4gKiBCaW5kaW5ncyBpbnNpZGUgdGhlIGhvc3QgdGVtcGxhdGUgYXJlIDAgaW5kZXguIEJ1dCBiZWNhdXNlIHdlIGRvbid0IGtub3cgYWhlYWQgb2YgdGltZVxuICogaG93IG1hbnkgaG9zdCBiaW5kaW5ncyB3ZSBoYXZlIHdlIGNhbid0IHByZS1jb21wdXRlIHRoZW0uIEZvciB0aGlzIHJlYXNvbiB0aGV5IGFyZSBhbGxcbiAqIDAgaW5kZXggYW5kIHdlIGp1c3Qgc2hpZnQgdGhlIHJvb3Qgc28gdGhhdCB0aGV5IG1hdGNoIG5leHQgYXZhaWxhYmxlIGxvY2F0aW9uIGluIHRoZSBMVmlldy5cbiAqXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3RJbmRleCBSb290IGluZGV4IGZvciBgaG9zdEJpbmRpbmdzYFxuICogQHBhcmFtIGN1cnJlbnREaXJlY3RpdmVJbmRleCBgVERhdGFbY3VycmVudERpcmVjdGl2ZUluZGV4XWAgd2lsbCBwb2ludCB0byB0aGUgY3VycmVudCBkaXJlY3RpdmVcbiAqICAgICAgICB3aG9zZSBgaG9zdEJpbmRpbmdzYCBhcmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5mdW5jdGlvbiBzZXRCaW5kaW5nUm9vdEZvckhvc3RCaW5kaW5ncyhiaW5kaW5nUm9vdEluZGV4LCBjdXJyZW50RGlyZWN0aXZlSW5kZXgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBsRnJhbWUuYmluZGluZ0luZGV4ID0gbEZyYW1lLmJpbmRpbmdSb290SW5kZXggPSBiaW5kaW5nUm9vdEluZGV4O1xuICAgIHNldEN1cnJlbnREaXJlY3RpdmVJbmRleChjdXJyZW50RGlyZWN0aXZlSW5kZXgpO1xufVxuLyoqXG4gKiBXaGVuIGhvc3QgYmluZGluZyBpcyBleGVjdXRpbmcgdGhpcyBwb2ludHMgdG8gdGhlIGRpcmVjdGl2ZSBpbmRleC5cbiAqIGBUVmlldy5kYXRhW2dldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpXWAgaXMgYERpcmVjdGl2ZURlZmBcbiAqIGBMVmlld1tnZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoKV1gIGlzIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7XG59XG4vKipcbiAqIFNldHMgYW4gaW5kZXggb2YgYSBkaXJlY3RpdmUgd2hvc2UgYGhvc3RCaW5kaW5nc2AgYXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqXG4gKiBAcGFyYW0gY3VycmVudERpcmVjdGl2ZUluZGV4IGBURGF0YWAgaW5kZXggd2hlcmUgY3VycmVudCBkaXJlY3RpdmUgaW5zdGFuY2UgY2FuIGJlIGZvdW5kLlxuICovXG5mdW5jdGlvbiBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoY3VycmVudERpcmVjdGl2ZUluZGV4KSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4ID0gY3VycmVudERpcmVjdGl2ZUluZGV4O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBgRGlyZWN0aXZlRGVmYCB3aGljaCBpcyBhY3RpdmUgd2hlbiBgaG9zdEJpbmRpbmdzYCBpbnN0cnVjdGlvbiBpcyBiZWluZ1xuICogZXhlY3V0ZWQuXG4gKlxuICogQHBhcmFtIHREYXRhIEN1cnJlbnQgYFREYXRhYCB3aGVyZSB0aGUgYERpcmVjdGl2ZURlZmAgd2lsbCBiZSBsb29rZWQgdXAgYXQuXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnREaXJlY3RpdmVEZWYodERhdGEpIHtcbiAgICBjb25zdCBjdXJyZW50RGlyZWN0aXZlSW5kZXggPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7XG4gICAgcmV0dXJuIGN1cnJlbnREaXJlY3RpdmVJbmRleCA9PT0gLTEgPyBudWxsIDogdERhdGFbY3VycmVudERpcmVjdGl2ZUluZGV4XTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRRdWVyeUluZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleDtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRRdWVyeUluZGV4KHZhbHVlKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXggPSB2YWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGBUTm9kZWAgb2YgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBjdXJyZW50IGBMVmlld2AgaXMgZGVjbGFyZWQgYXQuXG4gKlxuICogQHBhcmFtIGxWaWV3IGFuIGBMVmlld2AgdGhhdCB3ZSB3YW50IHRvIGZpbmQgcGFyZW50IGBUTm9kZWAgZm9yLlxuICovXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvblROb2RlKGxWaWV3KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgLy8gUmV0dXJuIHRoZSBkZWNsYXJhdGlvbiBwYXJlbnQgZm9yIGVtYmVkZGVkIHZpZXdzXG4gICAgaWYgKHRWaWV3LnR5cGUgPT09IDIgLyogRW1iZWRkZWQgKi8pIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcuZGVjbFROb2RlLCAnRW1iZWRkZWQgVE5vZGVzIHNob3VsZCBoYXZlIGRlY2xhcmF0aW9uIHBhcmVudHMuJyk7XG4gICAgICAgIHJldHVybiB0Vmlldy5kZWNsVE5vZGU7XG4gICAgfVxuICAgIC8vIENvbXBvbmVudHMgZG9uJ3QgaGF2ZSBgVFZpZXcuZGVjbFROb2RlYCBiZWNhdXNlIGVhY2ggaW5zdGFuY2Ugb2YgY29tcG9uZW50IGNvdWxkIGJlXG4gICAgLy8gaW5zZXJ0ZWQgaW4gZGlmZmVyZW50IGxvY2F0aW9uLCBoZW5jZSBgVFZpZXcuZGVjbFROb2RlYCBpcyBtZWFuaW5nbGVzcy5cbiAgICAvLyBGYWxsaW5nIGJhY2sgdG8gYFRfSE9TVGAgaW4gY2FzZSB3ZSBjcm9zcyBjb21wb25lbnQgYm91bmRhcnkuXG4gICAgaWYgKHRWaWV3LnR5cGUgPT09IDEgLyogQ29tcG9uZW50ICovKSB7XG4gICAgICAgIHJldHVybiBsVmlld1tUX0hPU1RdO1xuICAgIH1cbiAgICAvLyBSZW1haW5pbmcgVE5vZGUgdHlwZSBpcyBgVFZpZXdUeXBlLlJvb3RgIHdoaWNoIGRvZXNuJ3QgaGF2ZSBhIHBhcmVudCBUTm9kZS5cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGxpZ2h0IHdlaWdodCB2ZXJzaW9uIG9mIHRoZSBgZW50ZXJWaWV3YCB3aGljaCBpcyBuZWVkZWQgYnkgdGhlIERJIHN5c3RlbS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBsb2NhdGlvbiBvZiB0aGUgREkgY29udGV4dC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciBESSBjb250ZXh0XG4gKiBAcGFyYW0gZmxhZ3MgREkgY29udGV4dCBmbGFncy4gaWYgYFNraXBTZWxmYCBmbGFnIGlzIHNldCB0aGFuIHdlIHdhbGsgdXAgdGhlIGRlY2xhcmF0aW9uXG4gKiAgICAgdHJlZSBmcm9tIGB0Tm9kZWAgIHVudGlsIHdlIGZpbmQgcGFyZW50IGRlY2xhcmVkIGBURWxlbWVudE5vZGVgLlxuICogQHJldHVybnMgYHRydWVgIGlmIHdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGVudGVyZWQgREkgYXNzb2NpYXRlZCB3aXRoIGB0Tm9kZWAgKG9yIHdpdGggZGVjbGFyZWRcbiAqICAgICBgVE5vZGVgIGlmIGBmbGFnc2AgaGFzICBgU2tpcFNlbGZgKS4gRmFpbGluZyB0byBlbnRlciBESSBpbXBsaWVzIHRoYXQgbm8gYXNzb2NpYXRlZFxuICogICAgIGBOb2RlSW5qZWN0b3JgIGNhbiBiZSBmb3VuZCBhbmQgd2Ugc2hvdWxkIGluc3RlYWQgdXNlIGBNb2R1bGVJbmplY3RvcmAuXG4gKiAgICAgLSBJZiBgdHJ1ZWAgdGhhbiB0aGlzIGNhbGwgbXVzdCBiZSBmYWxsb3dlZCBieSBgbGVhdmVESWBcbiAqICAgICAtIElmIGBmYWxzZWAgdGhhbiB0aGlzIGNhbGwgZmFpbGVkIGFuZCB3ZSBzaG91bGQgTk9UIGNhbGwgYGxlYXZlRElgXG4gKi9cbmZ1bmN0aW9uIGVudGVyREkobFZpZXcsIHROb2RlLCBmbGFncykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlld09yVW5kZWZpbmVkKGxWaWV3KTtcbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgbFZpZXdbVFZJRVddKTtcbiAgICAgICAgbGV0IHBhcmVudFROb2RlID0gdE5vZGU7XG4gICAgICAgIGxldCBwYXJlbnRMVmlldyA9IGxWaWV3O1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocGFyZW50VE5vZGUsICdQYXJlbnQgVE5vZGUgc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gcGFyZW50VE5vZGUucGFyZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0KSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFROb2RlID0gZ2V0RGVjbGFyYXRpb25UTm9kZShwYXJlbnRMVmlldyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIGEgcGFyZW50IGV4aXN0cyBhbmQgaXMgZGVmaW5pdGVseSBhbiBlbGVtZW50LiBTbyBpdCB3aWxsIGRlZmluaXRlbHlcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGFuIGV4aXN0aW5nIGxWaWV3IGFzIHRoZSBkZWNsYXJhdGlvbiB2aWV3LCB3aGljaCBpcyB3aHkgd2UgY2FuIGFzc3VtZSBpdCdzIGRlZmluZWQuXG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocGFyZW50TFZpZXcsICdQYXJlbnQgTFZpZXcgc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRMVmlldyA9IHBhcmVudExWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICAgICAgICAgIC8vIEluIEl2eSB0aGVyZSBhcmUgQ29tbWVudCBub2RlcyB0aGF0IGNvcnJlc3BvbmQgdG8gbmdJZiBhbmQgTmdGb3IgZW1iZWRkZWQgZGlyZWN0aXZlc1xuICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gc2tpcCB0aG9zZSBhbmQgbG9vayBvbmx5IGF0IEVsZW1lbnRzIGFuZCBFbGVtZW50Q29udGFpbmVycyB0byBlbnN1cmVcbiAgICAgICAgICAgICAgICAvLyB3ZSdyZSBsb29raW5nIGF0IHRydWUgcGFyZW50IG5vZGVzLCBhbmQgbm90IGNvbnRlbnQgb3Igb3RoZXIgdHlwZXMuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFROb2RlLnR5cGUgJiAoMiAvKiBFbGVtZW50ICovIHwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGZhaWxlZCB0byBmaW5kIGEgcGFyZW50IFROb2RlIHRoaXMgbWVhbnMgdGhhdCB3ZSBzaG91bGQgdXNlIG1vZHVsZSBpbmplY3Rvci5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHROb2RlID0gcGFyZW50VE5vZGU7XG4gICAgICAgICAgICBsVmlldyA9IHBhcmVudExWaWV3O1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgbEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUgPSBhbGxvY0xGcmFtZSgpO1xuICAgIGxGcmFtZS5jdXJyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICBsRnJhbWUubFZpZXcgPSBsVmlldztcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogU3dhcCB0aGUgY3VycmVudCBsVmlldyB3aXRoIGEgbmV3IGxWaWV3LlxuICpcbiAqIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIHdlIHN0b3JlIHRoZSBsVmlldyBpbiB0aGUgdG9wIGxldmVsIG9mIHRoZSBtb2R1bGUuXG4gKiBUaGlzIHdheSB3ZSBtaW5pbWl6ZSB0aGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgdG8gcmVhZC4gV2hlbmV2ZXIgYSBuZXcgdmlld1xuICogaXMgZW50ZXJlZCB3ZSBoYXZlIHRvIHN0b3JlIHRoZSBsVmlldyBmb3IgbGF0ZXIsIGFuZCB3aGVuIHRoZSB2aWV3IGlzXG4gKiBleGl0ZWQgdGhlIHN0YXRlIGhhcyB0byBiZSByZXN0b3JlZFxuICpcbiAqIEBwYXJhbSBuZXdWaWV3IE5ldyBsVmlldyB0byBiZWNvbWUgYWN0aXZlXG4gKiBAcmV0dXJucyB0aGUgcHJldmlvdXNseSBhY3RpdmUgbFZpZXc7XG4gKi9cbmZ1bmN0aW9uIGVudGVyVmlldyhuZXdWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdEVxdWFsKG5ld1ZpZXdbMF0sIG5ld1ZpZXdbMV0sICc/Pz8/Jyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3T3JVbmRlZmluZWQobmV3Vmlldyk7XG4gICAgY29uc3QgbmV3TEZyYW1lID0gYWxsb2NMRnJhbWUoKTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5pc1BhcmVudCwgdHJ1ZSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUubFZpZXcsIG51bGwsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLnRWaWV3LCBudWxsLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5zZWxlY3RlZEluZGV4LCAtMSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuZWxlbWVudERlcHRoQ291bnQsIDAsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleCwgLTEsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmN1cnJlbnROYW1lc3BhY2UsIG51bGwsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmJpbmRpbmdSb290SW5kZXgsIC0xLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5jdXJyZW50UXVlcnlJbmRleCwgMCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgIH1cbiAgICBjb25zdCB0VmlldyA9IG5ld1ZpZXdbVFZJRVddO1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lID0gbmV3TEZyYW1lO1xuICAgIG5nRGV2TW9kZSAmJiB0Vmlldy5maXJzdENoaWxkICYmIGFzc2VydFROb2RlRm9yVFZpZXcodFZpZXcuZmlyc3RDaGlsZCwgdFZpZXcpO1xuICAgIG5ld0xGcmFtZS5jdXJyZW50VE5vZGUgPSB0Vmlldy5maXJzdENoaWxkO1xuICAgIG5ld0xGcmFtZS5sVmlldyA9IG5ld1ZpZXc7XG4gICAgbmV3TEZyYW1lLnRWaWV3ID0gdFZpZXc7XG4gICAgbmV3TEZyYW1lLmNvbnRleHRMVmlldyA9IG5ld1ZpZXc7XG4gICAgbmV3TEZyYW1lLmJpbmRpbmdJbmRleCA9IHRWaWV3LmJpbmRpbmdTdGFydEluZGV4O1xuICAgIG5ld0xGcmFtZS5pbkkxOG4gPSBmYWxzZTtcbn1cbi8qKlxuICogQWxsb2NhdGVzIG5leHQgZnJlZSBMRnJhbWUuIFRoaXMgZnVuY3Rpb24gdHJpZXMgdG8gcmV1c2UgdGhlIGBMRnJhbWVgcyB0byBsb3dlciBtZW1vcnkgcHJlc3N1cmUuXG4gKi9cbmZ1bmN0aW9uIGFsbG9jTEZyYW1lKCkge1xuICAgIGNvbnN0IGN1cnJlbnRMRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBjb25zdCBjaGlsZExGcmFtZSA9IGN1cnJlbnRMRnJhbWUgPT09IG51bGwgPyBudWxsIDogY3VycmVudExGcmFtZS5jaGlsZDtcbiAgICBjb25zdCBuZXdMRnJhbWUgPSBjaGlsZExGcmFtZSA9PT0gbnVsbCA/IGNyZWF0ZUxGcmFtZShjdXJyZW50TEZyYW1lKSA6IGNoaWxkTEZyYW1lO1xuICAgIHJldHVybiBuZXdMRnJhbWU7XG59XG5mdW5jdGlvbiBjcmVhdGVMRnJhbWUocGFyZW50KSB7XG4gICAgY29uc3QgbEZyYW1lID0ge1xuICAgICAgICBjdXJyZW50VE5vZGU6IG51bGwsXG4gICAgICAgIGlzUGFyZW50OiB0cnVlLFxuICAgICAgICBsVmlldzogbnVsbCxcbiAgICAgICAgdFZpZXc6IG51bGwsXG4gICAgICAgIHNlbGVjdGVkSW5kZXg6IC0xLFxuICAgICAgICBjb250ZXh0TFZpZXc6IG51bGwsXG4gICAgICAgIGVsZW1lbnREZXB0aENvdW50OiAwLFxuICAgICAgICBjdXJyZW50TmFtZXNwYWNlOiBudWxsLFxuICAgICAgICBjdXJyZW50RGlyZWN0aXZlSW5kZXg6IC0xLFxuICAgICAgICBiaW5kaW5nUm9vdEluZGV4OiAtMSxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgY3VycmVudFF1ZXJ5SW5kZXg6IDAsXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICBjaGlsZDogbnVsbCxcbiAgICAgICAgaW5JMThuOiBmYWxzZSxcbiAgICB9O1xuICAgIHBhcmVudCAhPT0gbnVsbCAmJiAocGFyZW50LmNoaWxkID0gbEZyYW1lKTsgLy8gbGluayB0aGUgbmV3IExGcmFtZSBmb3IgcmV1c2UuXG4gICAgcmV0dXJuIGxGcmFtZTtcbn1cbi8qKlxuICogQSBsaWdodHdlaWdodCB2ZXJzaW9uIG9mIGxlYXZlIHdoaWNoIGlzIHVzZWQgd2l0aCBESS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG9ubHkgcmVzZXRzIGBjdXJyZW50VE5vZGVgIGFuZCBgTFZpZXdgIGFzIHRob3NlIGFyZSB0aGUgb25seSBwcm9wZXJ0aWVzXG4gKiB1c2VkIHdpdGggREkgKGBlbnRlckRJKClgKS5cbiAqXG4gKiBOT1RFOiBUaGlzIGZ1bmN0aW9uIGlzIHJlZXhwb3J0ZWQgYXMgYGxlYXZlRElgLiBIb3dldmVyIGBsZWF2ZURJYCBoYXMgcmV0dXJuIHR5cGUgb2YgYHZvaWRgIHdoZXJlXG4gKiBhcyBgbGVhdmVWaWV3TGlnaHRgIGhhcyBgTEZyYW1lYC4gVGhpcyBpcyBzbyB0aGF0IGBsZWF2ZVZpZXdMaWdodGAgY2FuIGJlIHVzZWQgaW4gYGxlYXZlVmlld2AuXG4gKi9cbmZ1bmN0aW9uIGxlYXZlVmlld0xpZ2h0KCkge1xuICAgIGNvbnN0IG9sZExGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lID0gb2xkTEZyYW1lLnBhcmVudDtcbiAgICBvbGRMRnJhbWUuY3VycmVudFROb2RlID0gbnVsbDtcbiAgICBvbGRMRnJhbWUubFZpZXcgPSBudWxsO1xuICAgIHJldHVybiBvbGRMRnJhbWU7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBsaWdodHdlaWdodCB2ZXJzaW9uIG9mIHRoZSBgbGVhdmVWaWV3YCB3aGljaCBpcyBuZWVkZWQgYnkgdGhlIERJIHN5c3RlbS5cbiAqXG4gKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIGlzIGFuIGFsaWFzIHNvIHRoYXQgd2UgY2FuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gdG8gaGF2ZSBgdm9pZGBcbiAqIHJldHVybiB0eXBlLlxuICovXG5jb25zdCBsZWF2ZURJID0gbGVhdmVWaWV3TGlnaHQ7XG4vKipcbiAqIExlYXZlIHRoZSBjdXJyZW50IGBMVmlld2BcbiAqXG4gKiBUaGlzIHBvcHMgdGhlIGBMRnJhbWVgIHdpdGggdGhlIGFzc29jaWF0ZWQgYExWaWV3YCBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBJTVBPUlRBTlQ6IFdlIG11c3QgemVybyBvdXQgdGhlIGBMRnJhbWVgIHZhbHVlcyBoZXJlIG90aGVyd2lzZSB0aGV5IHdpbGwgYmUgcmV0YWluZWQuIFRoaXMgaXNcbiAqIGJlY2F1c2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgd2UgZG9uJ3QgcmVsZWFzZSBgTEZyYW1lYCBidXQgcmF0aGVyIGtlZXAgaXQgZm9yIG5leHQgdXNlLlxuICovXG5mdW5jdGlvbiBsZWF2ZVZpZXcoKSB7XG4gICAgY29uc3Qgb2xkTEZyYW1lID0gbGVhdmVWaWV3TGlnaHQoKTtcbiAgICBvbGRMRnJhbWUuaXNQYXJlbnQgPSB0cnVlO1xuICAgIG9sZExGcmFtZS50VmlldyA9IG51bGw7XG4gICAgb2xkTEZyYW1lLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuY29udGV4dExWaWV3ID0gbnVsbDtcbiAgICBvbGRMRnJhbWUuZWxlbWVudERlcHRoQ291bnQgPSAwO1xuICAgIG9sZExGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IG51bGw7XG4gICAgb2xkTEZyYW1lLmJpbmRpbmdSb290SW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuYmluZGluZ0luZGV4ID0gLTE7XG4gICAgb2xkTEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4ID0gMDtcbn1cbmZ1bmN0aW9uIG5leHRDb250ZXh0SW1wbChsZXZlbCkge1xuICAgIGNvbnN0IGNvbnRleHRMVmlldyA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyA9XG4gICAgICAgIHdhbGtVcFZpZXdzKGxldmVsLCBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXcpO1xuICAgIHJldHVybiBjb250ZXh0TFZpZXdbQ09OVEVYVF07XG59XG5mdW5jdGlvbiB3YWxrVXBWaWV3cyhuZXN0aW5nTGV2ZWwsIGN1cnJlbnRWaWV3KSB7XG4gICAgd2hpbGUgKG5lc3RpbmdMZXZlbCA+IDApIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnREZWZpbmVkKGN1cnJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddLCAnRGVjbGFyYXRpb24gdmlldyBzaG91bGQgYmUgZGVmaW5lZCBpZiBuZXN0aW5nIGxldmVsIGlzIGdyZWF0ZXIgdGhhbiAwLicpO1xuICAgICAgICBjdXJyZW50VmlldyA9IGN1cnJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICBuZXN0aW5nTGV2ZWwtLTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRWaWV3O1xufVxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudCBpbmRleC5cbiAqXG4gKiBVc2VkIHdpdGgge0BsaW5rIHByb3BlcnR5fSBpbnN0cnVjdGlvbiAoYW5kIG1vcmUgaW4gdGhlIGZ1dHVyZSkgdG8gaWRlbnRpZnkgdGhlIGluZGV4IGluIHRoZVxuICogY3VycmVudCBgTFZpZXdgIHRvIGFjdCBvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleDtcbn1cbi8qKlxuICogU2V0cyB0aGUgbW9zdCByZWNlbnQgaW5kZXggcGFzc2VkIHRvIHtAbGluayBzZWxlY3R9XG4gKlxuICogVXNlZCB3aXRoIHtAbGluayBwcm9wZXJ0eX0gaW5zdHJ1Y3Rpb24gKGFuZCBtb3JlIGluIHRoZSBmdXR1cmUpIHRvIGlkZW50aWZ5IHRoZSBpbmRleCBpbiB0aGVcbiAqIGN1cnJlbnQgYExWaWV3YCB0byBhY3Qgb24uXG4gKlxuICogKE5vdGUgdGhhdCBpZiBhbiBcImV4aXQgZnVuY3Rpb25cIiB3YXMgc2V0IGVhcmxpZXIgKHZpYSBgc2V0RWxlbWVudEV4aXRGbigpYCkgdGhlbiB0aGF0IHdpbGwgYmVcbiAqIHJ1biBpZiBhbmQgd2hlbiB0aGUgcHJvdmlkZWQgYGluZGV4YCB2YWx1ZSBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgY3VycmVudCBzZWxlY3RlZCBpbmRleCB2YWx1ZS4pXG4gKi9cbmZ1bmN0aW9uIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgaW5kZXggIT09IC0xICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgcGFzdCBIRUFERVJfT0ZGU0VUIChvciAtMSkuJyk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydExlc3NUaGFuKGluZGV4LCBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5sVmlldy5sZW5ndGgsICdDYW5cXCd0IHNldCBpbmRleCBwYXNzZWQgZW5kIG9mIExWaWV3Jyk7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xufVxuLyoqXG4gKiBHZXRzIHRoZSBgdE5vZGVgIHRoYXQgcmVwcmVzZW50cyBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUTm9kZSgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICByZXR1cm4gZ2V0VE5vZGUobEZyYW1lLnRWaWV3LCBsRnJhbWUuc2VsZWN0ZWRJbmRleCk7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ2AgaW4gZ2xvYmFsIHN0YXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuYW1lc3BhY2VTVkcoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IFNWR19OQU1FU1BBQ0U7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLydgIGluIGdsb2JhbCBzdGF0ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmFtZXNwYWNlTWF0aE1MKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnROYW1lc3BhY2UgPSBNQVRIX01MX05BTUVTUEFDRTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGBudWxsYCwgd2hpY2ggZm9yY2VzIGVsZW1lbnQgY3JlYXRpb24gdG8gdXNlXG4gKiBgY3JlYXRlRWxlbWVudGAgcmF0aGVyIHRoYW4gYGNyZWF0ZUVsZW1lbnROU2AuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5hbWVzcGFjZUhUTUwoKSB7XG4gICAgbmFtZXNwYWNlSFRNTEludGVybmFsKCk7XG59XG4vKipcbiAqIFNldHMgdGhlIG5hbWVzcGFjZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyB0byBgbnVsbGAsIHdoaWNoIGZvcmNlcyBlbGVtZW50IGNyZWF0aW9uIHRvIHVzZVxuICogYGNyZWF0ZUVsZW1lbnRgIHJhdGhlciB0aGFuIGBjcmVhdGVFbGVtZW50TlNgLlxuICovXG5mdW5jdGlvbiBuYW1lc3BhY2VIVE1MSW50ZXJuYWwoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IG51bGw7XG59XG5mdW5jdGlvbiBnZXROYW1lc3BhY2UkMSgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkZHMgYWxsIGRpcmVjdGl2ZSBsaWZlY3ljbGUgaG9va3MgZnJvbSB0aGUgZ2l2ZW4gYERpcmVjdGl2ZURlZmAgdG8gdGhlIGdpdmVuIGBUVmlld2AuXG4gKlxuICogTXVzdCBiZSBydW4gKm9ubHkqIG9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLlxuICpcbiAqIFNldHMgdXAgdGhlIHByZS1vcmRlciBob29rcyBvbiB0aGUgcHJvdmlkZWQgYHRWaWV3YCxcbiAqIHNlZSB7QGxpbmsgSG9va0RhdGF9IGZvciBkZXRhaWxzIGFib3V0IHRoZSBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggVGhlIGluZGV4IG9mIHRoZSBkaXJlY3RpdmUgaW4gTFZpZXdcbiAqIEBwYXJhbSBkaXJlY3RpdmVEZWYgVGhlIGRlZmluaXRpb24gY29udGFpbmluZyB0aGUgaG9va3MgdG8gc2V0dXAgaW4gdFZpZXdcbiAqIEBwYXJhbSB0VmlldyBUaGUgY3VycmVudCBUVmlld1xuICovXG5mdW5jdGlvbiByZWdpc3RlclByZU9yZGVySG9va3MoZGlyZWN0aXZlSW5kZXgsIGRpcmVjdGl2ZURlZiwgdFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCB7IG5nT25DaGFuZ2VzLCBuZ09uSW5pdCwgbmdEb0NoZWNrIH0gPSBkaXJlY3RpdmVEZWYudHlwZS5wcm90b3R5cGU7XG4gICAgaWYgKG5nT25DaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRPbkNoYW5nZXMgPSBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsKGRpcmVjdGl2ZURlZik7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckhvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckhvb2tzID0gW10pKS5wdXNoKGRpcmVjdGl2ZUluZGV4LCB3cmFwcGVkT25DaGFuZ2VzKTtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyB8fCAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzID0gW10pKVxuICAgICAgICAgICAgLnB1c2goZGlyZWN0aXZlSW5kZXgsIHdyYXBwZWRPbkNoYW5nZXMpO1xuICAgIH1cbiAgICBpZiAobmdPbkluaXQpIHtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2goMCAtIGRpcmVjdGl2ZUluZGV4LCBuZ09uSW5pdCk7XG4gICAgfVxuICAgIGlmIChuZ0RvQ2hlY2spIHtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2goZGlyZWN0aXZlSW5kZXgsIG5nRG9DaGVjayk7XG4gICAgICAgICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgfHwgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyA9IFtdKSkucHVzaChkaXJlY3RpdmVJbmRleCwgbmdEb0NoZWNrKTtcbiAgICB9XG59XG4vKipcbiAqXG4gKiBMb29wcyB0aHJvdWdoIHRoZSBkaXJlY3RpdmVzIG9uIHRoZSBwcm92aWRlZCBgdE5vZGVgIGFuZCBxdWV1ZXMgaG9va3MgdG8gYmVcbiAqIHJ1biB0aGF0IGFyZSBub3QgaW5pdGlhbGl6YXRpb24gaG9va3MuXG4gKlxuICogU2hvdWxkIGJlIGV4ZWN1dGVkIGR1cmluZyBgZWxlbWVudEVuZCgpYCBhbmQgc2ltaWxhciB0b1xuICogcHJlc2VydmUgaG9vayBleGVjdXRpb24gb3JkZXIuIENvbnRlbnQsIHZpZXcsIGFuZCBkZXN0cm95IGhvb2tzIGZvciBwcm9qZWN0ZWRcbiAqIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXMgbXVzdCBiZSBjYWxsZWQgKmJlZm9yZSogdGhlaXIgaG9zdHMuXG4gKlxuICogU2V0cyB1cCB0aGUgY29udGVudCwgdmlldywgYW5kIGRlc3Ryb3kgaG9va3Mgb24gdGhlIHByb3ZpZGVkIGB0Vmlld2AsXG4gKiBzZWUge0BsaW5rIEhvb2tEYXRhfSBmb3IgZGV0YWlscyBhYm91dCB0aGUgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogTk9URTogVGhpcyBkb2VzIG5vdCBzZXQgdXAgYG9uQ2hhbmdlc2AsIGBvbkluaXRgIG9yIGBkb0NoZWNrYCwgdGhvc2UgYXJlIHNldCB1cFxuICogc2VwYXJhdGVseSBhdCBgZWxlbWVudFN0YXJ0YC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGN1cnJlbnQgVFZpZXdcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgVE5vZGUgd2hvc2UgZGlyZWN0aXZlcyBhcmUgdG8gYmUgc2VhcmNoZWQgZm9yIGhvb2tzIHRvIHF1ZXVlXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgLy8gSXQncyBuZWNlc3NhcnkgdG8gbG9vcCB0aHJvdWdoIHRoZSBkaXJlY3RpdmVzIGF0IGVsZW1lbnRFbmQoKSAocmF0aGVyIHRoYW4gcHJvY2Vzc2luZyBpblxuICAgIC8vIGRpcmVjdGl2ZUNyZWF0ZSkgc28gd2UgY2FuIHByZXNlcnZlIHRoZSBjdXJyZW50IGhvb2sgb3JkZXIuIENvbnRlbnQsIHZpZXcsIGFuZCBkZXN0cm95XG4gICAgLy8gaG9va3MgZm9yIHByb2plY3RlZCBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzIG11c3QgYmUgY2FsbGVkICpiZWZvcmUqIHRoZWlyIGhvc3RzLlxuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydCwgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZGlyZWN0aXZlRGVmLCAnRXhwZWN0aW5nIERpcmVjdGl2ZURlZicpO1xuICAgICAgICBjb25zdCBsaWZlY3ljbGVIb29rcyA9IGRpcmVjdGl2ZURlZi50eXBlLnByb3RvdHlwZTtcbiAgICAgICAgY29uc3QgeyBuZ0FmdGVyQ29udGVudEluaXQsIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCwgbmdBZnRlclZpZXdJbml0LCBuZ0FmdGVyVmlld0NoZWNrZWQsIG5nT25EZXN0cm95IH0gPSBsaWZlY3ljbGVIb29rcztcbiAgICAgICAgaWYgKG5nQWZ0ZXJDb250ZW50SW5pdCkge1xuICAgICAgICAgICAgKHRWaWV3LmNvbnRlbnRIb29rcyB8fCAodFZpZXcuY29udGVudEhvb2tzID0gW10pKS5wdXNoKC1pLCBuZ0FmdGVyQ29udGVudEluaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0FmdGVyQ29udGVudENoZWNrZWQpIHtcbiAgICAgICAgICAgICh0Vmlldy5jb250ZW50SG9va3MgfHwgKHRWaWV3LmNvbnRlbnRIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyQ29udGVudENoZWNrZWQpO1xuICAgICAgICAgICAgKHRWaWV3LmNvbnRlbnRDaGVja0hvb2tzIHx8ICh0Vmlldy5jb250ZW50Q2hlY2tIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyQ29udGVudENoZWNrZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0FmdGVyVmlld0luaXQpIHtcbiAgICAgICAgICAgICh0Vmlldy52aWV3SG9va3MgfHwgKHRWaWV3LnZpZXdIb29rcyA9IFtdKSkucHVzaCgtaSwgbmdBZnRlclZpZXdJbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdBZnRlclZpZXdDaGVja2VkKSB7XG4gICAgICAgICAgICAodFZpZXcudmlld0hvb2tzIHx8ICh0Vmlldy52aWV3SG9va3MgPSBbXSkpLnB1c2goaSwgbmdBZnRlclZpZXdDaGVja2VkKTtcbiAgICAgICAgICAgICh0Vmlldy52aWV3Q2hlY2tIb29rcyB8fCAodFZpZXcudmlld0NoZWNrSG9va3MgPSBbXSkpLnB1c2goaSwgbmdBZnRlclZpZXdDaGVja2VkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmdPbkRlc3Ryb3kgIT0gbnVsbCkge1xuICAgICAgICAgICAgKHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pKS5wdXNoKGksIG5nT25EZXN0cm95KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRXhlY3V0aW5nIGhvb2tzIHJlcXVpcmVzIGNvbXBsZXggbG9naWMgYXMgd2UgbmVlZCB0byBkZWFsIHdpdGggMiBjb25zdHJhaW50cy5cbiAqXG4gKiAxLiBJbml0IGhvb2tzIChuZ09uSW5pdCwgbmdBZnRlckNvbnRlbnRJbml0LCBuZ0FmdGVyVmlld0luaXQpIG11c3QgYWxsIGJlIGV4ZWN1dGVkIG9uY2UgYW5kIG9ubHlcbiAqIG9uY2UsIGFjcm9zcyBtYW55IGNoYW5nZSBkZXRlY3Rpb24gY3ljbGVzLiBUaGlzIG11c3QgYmUgdHJ1ZSBldmVuIGlmIHNvbWUgaG9va3MgdGhyb3csIG9yIGlmXG4gKiBzb21lIHJlY3Vyc2l2ZWx5IHRyaWdnZXIgYSBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlLlxuICogVG8gc29sdmUgdGhhdCwgaXQgaXMgcmVxdWlyZWQgdG8gdHJhY2sgdGhlIHN0YXRlIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlc2UgaW5pdCBob29rcy5cbiAqIFRoaXMgaXMgZG9uZSBieSBzdG9yaW5nIGFuZCBtYWludGFpbmluZyBmbGFncyBpbiB0aGUgdmlldzogdGhlIHtAbGluayBJbml0UGhhc2VTdGF0ZX0sXG4gKiBhbmQgdGhlIGluZGV4IHdpdGhpbiB0aGF0IHBoYXNlLiBUaGV5IGNhbiBiZSBzZWVuIGFzIGEgY3Vyc29yIGluIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuICogW1tvbkluaXQxLCBvbkluaXQyXSwgW2FmdGVyQ29udGVudEluaXQxXSwgW2FmdGVyVmlld0luaXQxLCBhZnRlclZpZXdJbml0MiwgYWZ0ZXJWaWV3SW5pdDNdXVxuICogVGhleSBhcmUgYXJlIHN0b3JlZCBhcyBmbGFncyBpbiBMVmlld1tGTEFHU10uXG4gKlxuICogMi4gUHJlLW9yZGVyIGhvb2tzIGNhbiBiZSBleGVjdXRlZCBpbiBiYXRjaGVzLCBiZWNhdXNlIG9mIHRoZSBzZWxlY3QgaW5zdHJ1Y3Rpb24uXG4gKiBUbyBiZSBhYmxlIHRvIHBhdXNlIGFuZCByZXN1bWUgdGhlaXIgZXhlY3V0aW9uLCB3ZSBhbHNvIG5lZWQgc29tZSBzdGF0ZSBhYm91dCB0aGUgaG9vaydzIGFycmF5XG4gKiB0aGF0IGlzIGJlaW5nIHByb2Nlc3NlZDpcbiAqIC0gdGhlIGluZGV4IG9mIHRoZSBuZXh0IGhvb2sgdG8gYmUgZXhlY3V0ZWRcbiAqIC0gdGhlIG51bWJlciBvZiBpbml0IGhvb2tzIGFscmVhZHkgZm91bmQgaW4gdGhlIHByb2Nlc3NlZCBwYXJ0IG9mIHRoZSAgYXJyYXlcbiAqIFRoZXkgYXJlIGFyZSBzdG9yZWQgYXMgZmxhZ3MgaW4gTFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10uXG4gKi9cbi8qKlxuICogRXhlY3V0ZXMgcHJlLW9yZGVyIGNoZWNrIGhvb2tzICggT25DaGFuZ2VzLCBEb0NoYW5nZXMpIGdpdmVuIGEgdmlldyB3aGVyZSBhbGwgdGhlIGluaXQgaG9va3Mgd2VyZVxuICogZXhlY3V0ZWQgb25jZS4gVGhpcyBpcyBhIGxpZ2h0IHZlcnNpb24gb2YgZXhlY3V0ZUluaXRBbmRDaGVja1ByZU9yZGVySG9va3Mgd2hlcmUgd2UgY2FuIHNraXAgcmVhZFxuICogLyB3cml0ZSBvZiB0aGUgaW5pdC1ob29rcyByZWxhdGVkIGZsYWdzLlxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB3aGVyZSBob29rcyBhcmUgZGVmaW5lZFxuICogQHBhcmFtIGhvb2tzIEhvb2tzIHRvIGJlIHJ1blxuICogQHBhcmFtIG5vZGVJbmRleCAzIGNhc2VzIGRlcGVuZGluZyBvbiB0aGUgdmFsdWU6XG4gKiAtIHVuZGVmaW5lZDogYWxsIGhvb2tzIGZyb20gdGhlIGFycmF5IHNob3VsZCBiZSBleGVjdXRlZCAocG9zdC1vcmRlciBjYXNlKVxuICogLSBudWxsOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHByZS1vcmRlciBjYXNlLCB3aGVuXG4gKiBmbHVzaGluZyB0aGUgcmVtYWluaW5nIGhvb2tzKVxuICogLSBudW1iZXI6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGF0IG5vZGUgaW5kZXggZXhjbHVzaXZlIChwcmUtb3JkZXJcbiAqIGNhc2UsIHdoZW4gZXhlY3V0aW5nIHNlbGVjdChudW1iZXIpKVxuICovXG5mdW5jdGlvbiBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgaG9va3MsIG5vZGVJbmRleCkge1xuICAgIGNhbGxIb29rcyhsVmlldywgaG9va3MsIDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovLCBub2RlSW5kZXgpO1xufVxuLyoqXG4gKiBFeGVjdXRlcyBwb3N0LW9yZGVyIGluaXQgYW5kIGNoZWNrIGhvb2tzIChvbmUgb2YgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAqIEFmdGVyVmlld0luaXQsIEFmdGVyVmlld0NoZWNrZWQpIGdpdmVuIGEgdmlldyB3aGVyZSB0aGVyZSBhcmUgcGVuZGluZyBpbml0IGhvb2tzIHRvIGJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB3aGVyZSBob29rcyBhcmUgZGVmaW5lZFxuICogQHBhcmFtIGhvb2tzIEhvb2tzIHRvIGJlIHJ1blxuICogQHBhcmFtIGluaXRQaGFzZSBBIHBoYXNlIGZvciB3aGljaCBob29rcyBzaG91bGQgYmUgcnVuXG4gKiBAcGFyYW0gbm9kZUluZGV4IDMgY2FzZXMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZTpcbiAqIC0gdW5kZWZpbmVkOiBhbGwgaG9va3MgZnJvbSB0aGUgYXJyYXkgc2hvdWxkIGJlIGV4ZWN1dGVkIChwb3N0LW9yZGVyIGNhc2UpXG4gKiAtIG51bGw6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBhcnJheSAocHJlLW9yZGVyIGNhc2UsIHdoZW5cbiAqIGZsdXNoaW5nIHRoZSByZW1haW5pbmcgaG9va3MpXG4gKiAtIG51bWJlcjogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoYXQgbm9kZSBpbmRleCBleGNsdXNpdmUgKHByZS1vcmRlclxuICogY2FzZSwgd2hlbiBleGVjdXRpbmcgc2VsZWN0KG51bWJlcikpXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgaG9va3MsIGluaXRQaGFzZSwgbm9kZUluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGluaXRQaGFzZSwgMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi8sICdJbml0IHByZS1vcmRlciBob29rcyBzaG91bGQgbm90IGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIGlmICgobFZpZXdbRkxBR1NdICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSBpbml0UGhhc2UpIHtcbiAgICAgICAgY2FsbEhvb2tzKGxWaWV3LCBob29rcywgaW5pdFBoYXNlLCBub2RlSW5kZXgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCBpbml0UGhhc2UpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoaW5pdFBoYXNlLCAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLywgJ0luaXQgaG9va3MgcGhhc2Ugc2hvdWxkIG5vdCBiZSBpbmNyZW1lbnRlZCBhZnRlciBhbGwgaW5pdCBob29rcyBoYXZlIGJlZW4gcnVuLicpO1xuICAgIGxldCBmbGFncyA9IGxWaWV3W0ZMQUdTXTtcbiAgICBpZiAoKGZsYWdzICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSBpbml0UGhhc2UpIHtcbiAgICAgICAgZmxhZ3MgJj0gMjA0NyAvKiBJbmRleFdpdGhpbkluaXRQaGFzZVJlc2V0ICovO1xuICAgICAgICBmbGFncyArPSAxIC8qIEluaXRQaGFzZVN0YXRlSW5jcmVtZW50ZXIgKi87XG4gICAgICAgIGxWaWV3W0ZMQUdTXSA9IGZsYWdzO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbHMgbGlmZWN5Y2xlIGhvb2tzIHdpdGggdGhlaXIgY29udGV4dHMsIHNraXBwaW5nIGluaXQgaG9va3MgaWYgaXQncyBub3RcbiAqIHRoZSBmaXJzdCBMVmlldyBwYXNzXG4gKlxuICogQHBhcmFtIGN1cnJlbnRWaWV3IFRoZSBjdXJyZW50IHZpZXdcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IGluIHdoaWNoIHRoZSBob29rcyBhcmUgZm91bmRcbiAqIEBwYXJhbSBpbml0UGhhc2VTdGF0ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaW5pdCBwaGFzZVxuICogQHBhcmFtIGN1cnJlbnROb2RlSW5kZXggMyBjYXNlcyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlOlxuICogLSB1bmRlZmluZWQ6IGFsbCBob29rcyBmcm9tIHRoZSBhcnJheSBzaG91bGQgYmUgZXhlY3V0ZWQgKHBvc3Qtb3JkZXIgY2FzZSlcbiAqIC0gbnVsbDogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoZSBlbmQgb2YgdGhlIGFycmF5IChwcmUtb3JkZXIgY2FzZSwgd2hlblxuICogZmx1c2hpbmcgdGhlIHJlbWFpbmluZyBob29rcylcbiAqIC0gbnVtYmVyOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhhdCBub2RlIGluZGV4IGV4Y2x1c2l2ZSAocHJlLW9yZGVyXG4gKiBjYXNlLCB3aGVuIGV4ZWN1dGluZyBzZWxlY3QobnVtYmVyKSlcbiAqL1xuZnVuY3Rpb24gY2FsbEhvb2tzKGN1cnJlbnRWaWV3LCBhcnIsIGluaXRQaGFzZSwgY3VycmVudE5vZGVJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCksIGZhbHNlLCAnSG9va3Mgc2hvdWxkIG5ldmVyIGJlIHJ1biB3aGVuIGluIGNoZWNrIG5vIGNoYW5nZXMgbW9kZS4nKTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gY3VycmVudE5vZGVJbmRleCAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgKGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdICYgNjU1MzUgLyogSW5kZXhPZlRoZU5leHRQcmVPcmRlckhvb2tNYXNrTWFzayAqLykgOlxuICAgICAgICAwO1xuICAgIGNvbnN0IG5vZGVJbmRleExpbWl0ID0gY3VycmVudE5vZGVJbmRleCAhPSBudWxsID8gY3VycmVudE5vZGVJbmRleCA6IC0xO1xuICAgIGNvbnN0IG1heCA9IGFyci5sZW5ndGggLSAxOyAvLyBTdG9wIHRoZSBsb29wIGF0IGxlbmd0aCAtIDEsIGJlY2F1c2Ugd2UgbG9vayBmb3IgdGhlIGhvb2sgYXQgaSArIDFcbiAgICBsZXQgbGFzdE5vZGVJbmRleEZvdW5kID0gMDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGhvb2sgPSBhcnJbaSArIDFdO1xuICAgICAgICBpZiAodHlwZW9mIGhvb2sgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBsYXN0Tm9kZUluZGV4Rm91bmQgPSBhcnJbaV07XG4gICAgICAgICAgICBpZiAoY3VycmVudE5vZGVJbmRleCAhPSBudWxsICYmIGxhc3ROb2RlSW5kZXhGb3VuZCA+PSBjdXJyZW50Tm9kZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpc0luaXRIb29rID0gYXJyW2ldIDwgMDtcbiAgICAgICAgICAgIGlmIChpc0luaXRIb29rKVxuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdICs9IDY1NTM2IC8qIE51bWJlck9mSW5pdEhvb2tzQ2FsbGVkSW5jcmVtZW50ZXIgKi87XG4gICAgICAgICAgICBpZiAobGFzdE5vZGVJbmRleEZvdW5kIDwgbm9kZUluZGV4TGltaXQgfHwgbm9kZUluZGV4TGltaXQgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjYWxsSG9vayhjdXJyZW50VmlldywgaW5pdFBoYXNlLCBhcnIsIGkpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdID1cbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdICYgNDI5NDkwMTc2MCAvKiBOdW1iZXJPZkluaXRIb29rc0NhbGxlZE1hc2sgKi8pICsgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBFeGVjdXRlIG9uZSBob29rIGFnYWluc3QgdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIGN1cnJlbnQgdmlld1xuICogQHBhcmFtIGluaXRQaGFzZVN0YXRlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBpbml0IHBoYXNlXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSBpbiB3aGljaCB0aGUgaG9va3MgYXJlIGZvdW5kXG4gKiBAcGFyYW0gaSBUaGUgY3VycmVudCBpbmRleCB3aXRoaW4gdGhlIGhvb2sgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiBjYWxsSG9vayhjdXJyZW50VmlldywgaW5pdFBoYXNlLCBhcnIsIGkpIHtcbiAgICBjb25zdCBpc0luaXRIb29rID0gYXJyW2ldIDwgMDtcbiAgICBjb25zdCBob29rID0gYXJyW2kgKyAxXTtcbiAgICBjb25zdCBkaXJlY3RpdmVJbmRleCA9IGlzSW5pdEhvb2sgPyAtYXJyW2ldIDogYXJyW2ldO1xuICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGN1cnJlbnRWaWV3W2RpcmVjdGl2ZUluZGV4XTtcbiAgICBpZiAoaXNJbml0SG9vaykge1xuICAgICAgICBjb25zdCBpbmRleFdpdGhpbnRJbml0UGhhc2UgPSBjdXJyZW50Vmlld1tGTEFHU10gPj4gMTEgLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VTaGlmdCAqLztcbiAgICAgICAgLy8gVGhlIGluaXQgcGhhc2Ugc3RhdGUgbXVzdCBiZSBhbHdheXMgY2hlY2tlZCBoZXJlIGFzIGl0IG1heSBoYXZlIGJlZW4gcmVjdXJzaXZlbHkgdXBkYXRlZC5cbiAgICAgICAgaWYgKGluZGV4V2l0aGludEluaXRQaGFzZSA8XG4gICAgICAgICAgICAoY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gPj4gMTYgLyogTnVtYmVyT2ZJbml0SG9va3NDYWxsZWRTaGlmdCAqLykgJiZcbiAgICAgICAgICAgIChjdXJyZW50Vmlld1tGTEFHU10gJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IGluaXRQaGFzZSkge1xuICAgICAgICAgICAgY3VycmVudFZpZXdbRkxBR1NdICs9IDIwNDggLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VJbmNyZW1lbnRlciAqLztcbiAgICAgICAgICAgIHByb2ZpbGVyKDQgLyogTGlmZWN5Y2xlSG9va1N0YXJ0ICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBob29rLmNhbGwoZGlyZWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGRpcmVjdGl2ZSwgaG9vayk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBob29rLmNhbGwoZGlyZWN0aXZlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBOT19QQVJFTlRfSU5KRUNUT1IgPSAtMTtcbi8qKlxuICogRWFjaCBpbmplY3RvciBpcyBzYXZlZCBpbiA5IGNvbnRpZ3VvdXMgc2xvdHMgaW4gYExWaWV3YCBhbmQgOSBjb250aWd1b3VzIHNsb3RzIGluXG4gKiBgVFZpZXcuZGF0YWAuIFRoaXMgYWxsb3dzIHVzIHRvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IG5vZGUncyB0b2tlbnMgKHdoaWNoXG4gKiBjYW4gYmUgc2hhcmVkIGluIGBUVmlld2ApIGFzIHdlbGwgYXMgdGhlIHRva2VucyBvZiBpdHMgYW5jZXN0b3Igbm9kZXMgKHdoaWNoIGNhbm5vdCBiZVxuICogc2hhcmVkLCBzbyB0aGV5IGxpdmUgaW4gYExWaWV3YCkuXG4gKlxuICogRWFjaCBvZiB0aGVzZSBzbG90cyAoYXNpZGUgZnJvbSB0aGUgbGFzdCBzbG90KSBjb250YWlucyBhIGJsb29tIGZpbHRlci4gVGhpcyBibG9vbSBmaWx0ZXJcbiAqIGRldGVybWluZXMgd2hldGhlciBhIGRpcmVjdGl2ZSBpcyBhdmFpbGFibGUgb24gdGhlIGFzc29jaWF0ZWQgbm9kZSBvciBub3QuIFRoaXMgcHJldmVudHMgdXNcbiAqIGZyb20gc2VhcmNoaW5nIHRoZSBkaXJlY3RpdmVzIGFycmF5IGF0IHRoaXMgbGV2ZWwgdW5sZXNzIGl0J3MgcHJvYmFibGUgdGhlIGRpcmVjdGl2ZSBpcyBpbiBpdC5cbiAqXG4gKiBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jsb29tX2ZpbHRlciBmb3IgbW9yZSBhYm91dCBibG9vbSBmaWx0ZXJzLlxuICpcbiAqIEJlY2F1c2UgYWxsIGluamVjdG9ycyBoYXZlIGJlZW4gZmxhdHRlbmVkIGludG8gYExWaWV3YCBhbmQgYFRWaWV3RGF0YWAsIHRoZXkgY2Fubm90IHR5cGVkXG4gKiB1c2luZyBpbnRlcmZhY2VzIGFzIHRoZXkgd2VyZSBwcmV2aW91c2x5LiBUaGUgc3RhcnQgaW5kZXggb2YgZWFjaCBgTEluamVjdG9yYCBhbmQgYFRJbmplY3RvcmBcbiAqIHdpbGwgZGlmZmVyIGJhc2VkIG9uIHdoZXJlIGl0IGlzIGZsYXR0ZW5lZCBpbnRvIHRoZSBtYWluIGFycmF5LCBzbyBpdCdzIG5vdCBwb3NzaWJsZSB0byBrbm93XG4gKiB0aGUgaW5kaWNlcyBhaGVhZCBvZiB0aW1lIGFuZCBzYXZlIHRoZWlyIHR5cGVzIGhlcmUuIFRoZSBpbnRlcmZhY2VzIGFyZSBzdGlsbCBpbmNsdWRlZCBoZXJlXG4gKiBmb3IgZG9jdW1lbnRhdGlvbiBwdXJwb3Nlcy5cbiAqXG4gKiBleHBvcnQgaW50ZXJmYWNlIExJbmplY3RvciBleHRlbmRzIEFycmF5PGFueT4ge1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMC0zMSAgKElEcyBhcmUgJSBCTE9PTV9TSVpFKVxuICogICAgWzBdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAzMi02M1xuICogICAgWzFdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA2NC05NVxuICogICAgWzJdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA5Ni0xMjdcbiAqICAgIFszXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTI4LTE1OVxuICogICAgWzRdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxNjAgLSAxOTFcbiAqICAgIFs1XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTkyIC0gMjIzXG4gKiAgICBbNl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDIyNCAtIDI1NVxuICogICAgWzddOiBudW1iZXI7XG4gKlxuICogICAgLy8gV2UgbmVlZCB0byBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgaW5qZWN0b3IncyBwYXJlbnQgc28gREkgY2FuIGtlZXAgbG9va2luZyB1cFxuICogICAgLy8gdGhlIGluamVjdG9yIHRyZWUgdW50aWwgaXQgZmluZHMgdGhlIGRlcGVuZGVuY3kgaXQncyBsb29raW5nIGZvci5cbiAqICAgIFtQQVJFTlRfSU5KRUNUT1JdOiBudW1iZXI7XG4gKiB9XG4gKlxuICogZXhwb3J0IGludGVyZmFjZSBUSW5qZWN0b3IgZXh0ZW5kcyBBcnJheTxhbnk+IHtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAwLTMxICAoSURzIGFyZSAlIEJMT09NX1NJWkUpXG4gKiAgICBbMF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAzMi02M1xuICogICAgWzFdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgNjQtOTVcbiAqICAgIFsyXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDk2LTEyN1xuICogICAgWzNdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTI4LTE1OVxuICogICAgWzRdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTYwIC0gMTkxXG4gKiAgICBbNV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxOTIgLSAyMjNcbiAqICAgIFs2XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDIyNCAtIDI1NVxuICogICAgWzddOiBudW1iZXI7XG4gKlxuICogICAgLy8gTmVjZXNzYXJ5IHRvIGZpbmQgZGlyZWN0aXZlIGluZGljZXMgZm9yIGEgcGFydGljdWxhciBub2RlLlxuICogICAgW1ROT0RFXTogVEVsZW1lbnROb2RlfFRFbGVtZW50Q29udGFpbmVyTm9kZXxUQ29udGFpbmVyTm9kZTtcbiAqICB9XG4gKi9cbi8qKlxuICogRmFjdG9yeSBmb3IgY3JlYXRpbmcgaW5zdGFuY2VzIG9mIGluamVjdG9ycyBpbiB0aGUgTm9kZUluamVjdG9yLlxuICpcbiAqIFRoaXMgZmFjdG9yeSBpcyBjb21wbGljYXRlZCBieSB0aGUgZmFjdCB0aGF0IGl0IGNhbiByZXNvbHZlIGBtdWx0aWAgZmFjdG9yaWVzIGFzIHdlbGwuXG4gKlxuICogTk9URTogU29tZSBvZiB0aGUgZmllbGRzIGFyZSBvcHRpb25hbCB3aGljaCBtZWFucyB0aGF0IHRoaXMgY2xhc3MgaGFzIHR3byBoaWRkZW4gY2xhc3Nlcy5cbiAqIC0gT25lIHdpdGhvdXQgYG11bHRpYCBzdXBwb3J0IChtb3N0IGNvbW1vbilcbiAqIC0gT25lIHdpdGggYG11bHRpYCB2YWx1ZXMsIChyYXJlKS5cbiAqXG4gKiBTaW5jZSBWTXMgY2FuIGNhY2hlIHVwIHRvIDQgaW5saW5lIGhpZGRlbiBjbGFzc2VzIHRoaXMgaXMgT0suXG4gKlxuICogLSBTaW5nbGUgZmFjdG9yeTogT25seSBgcmVzb2x2aW5nYCBhbmQgYGZhY3RvcnlgIGlzIGRlZmluZWQuXG4gKiAtIGBwcm92aWRlcnNgIGZhY3Rvcnk6IGBjb21wb25lbnRQcm92aWRlcnNgIGlzIGEgbnVtYmVyIGFuZCBgaW5kZXggPSAtMWAuXG4gKiAtIGB2aWV3UHJvdmlkZXJzYCBmYWN0b3J5OiBgY29tcG9uZW50UHJvdmlkZXJzYCBpcyBhIG51bWJlciBhbmQgYGluZGV4YCBwb2ludHMgdG8gYHByb3ZpZGVyc2AuXG4gKi9cbmNsYXNzIE5vZGVJbmplY3RvckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgdG8gaW52b2tlIGluIG9yZGVyIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBTZXQgdG8gYHRydWVgIGlmIHRoZSB0b2tlbiBpcyBkZWNsYXJlZCBpbiBgdmlld1Byb3ZpZGVyc2AgKG9yIGlmIGl0IGlzIGNvbXBvbmVudCkuXG4gICAgICovXG4gICAgaXNWaWV3UHJvdmlkZXIsIGluamVjdEltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXJrZXIgc2V0IHRvIHRydWUgZHVyaW5nIGZhY3RvcnkgaW52b2NhdGlvbiB0byBzZWUgaWYgd2UgZ2V0IGludG8gcmVjdXJzaXZlIGxvb3AuXG4gICAgICAgICAqIFJlY3Vyc2l2ZSBsb29wIGNhdXNlcyBhbiBlcnJvciB0byBiZSBkaXNwbGF5ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChmYWN0b3J5LCAnRmFjdG9yeSBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0eXBlb2YgZmFjdG9yeSwgJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGZhY3RvcnkgZnVuY3Rpb24uJyk7XG4gICAgICAgIHRoaXMuY2FuU2VlVmlld1Byb3ZpZGVycyA9IGlzVmlld1Byb3ZpZGVyO1xuICAgICAgICB0aGlzLmluamVjdEltcGwgPSBpbmplY3RJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0ZhY3Rvcnkob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE5vZGVJbmplY3RvckZhY3Rvcnk7XG59XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ1ID0gMTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgVE5vZGVUeXBlYCBpbnRvIGh1bWFuIHJlYWRhYmxlIHRleHQuXG4gKiBNYWtlIHN1cmUgdGhpcyBtYXRjaGVzIHdpdGggYFROb2RlVHlwZWBcbiAqL1xuZnVuY3Rpb24gdG9UTm9kZVR5cGVBc1N0cmluZyh0Tm9kZVR5cGUpIHtcbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgICh0Tm9kZVR5cGUgJiAxIC8qIFRleHQgKi8pICYmICh0ZXh0ICs9ICd8VGV4dCcpO1xuICAgICh0Tm9kZVR5cGUgJiAyIC8qIEVsZW1lbnQgKi8pICYmICh0ZXh0ICs9ICd8RWxlbWVudCcpO1xuICAgICh0Tm9kZVR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykgJiYgKHRleHQgKz0gJ3xDb250YWluZXInKTtcbiAgICAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSAmJiAodGV4dCArPSAnfEVsZW1lbnRDb250YWluZXInKTtcbiAgICAodE5vZGVUeXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykgJiYgKHRleHQgKz0gJ3xQcm9qZWN0aW9uJyk7XG4gICAgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykgJiYgKHRleHQgKz0gJ3xJY3VDb250YWluZXInKTtcbiAgICAodE5vZGVUeXBlICYgNjQgLyogUGxhY2Vob2xkZXIgKi8pICYmICh0ZXh0ICs9ICd8UGxhY2Vob2xkZXInKTtcbiAgICByZXR1cm4gdGV4dC5sZW5ndGggPiAwID8gdGV4dC5zdWJzdHJpbmcoMSkgOiB0ZXh0O1xufVxuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNCA9IDE7XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBgVE5vZGVgIGhhcyBhIGRpcmVjdGl2ZSB3aGljaCBoYXMgYEBJbnB1dCgpYCBmb3IgYGNsYXNzYCBiaW5kaW5nLlxuICpcbiAqIGBgYFxuICogPGRpdiBteS1kaXIgW2NsYXNzXT1cImV4cFwiPjwvZGl2PlxuICogYGBgXG4gKiBhbmRcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiB9KVxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICBASW5wdXQoKVxuICogICBjbGFzczogc3RyaW5nO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGNhc2UgaXQgaXMgbmVjZXNzYXJ5IHRvIHdyaXRlIHRoZSByZWNvbmNpbGVkIHN0eWxpbmcgaW5mb3JtYXRpb24gaW50byB0aGVcbiAqIGRpcmVjdGl2ZSdzIGlucHV0LlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICovXG5mdW5jdGlvbiBoYXNDbGFzc0lucHV0KHROb2RlKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIDE2IC8qIGhhc0NsYXNzSW5wdXQgKi8pICE9PSAwO1xufVxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYFROb2RlYCBoYXMgYSBkaXJlY3RpdmUgd2hpY2ggaGFzIGBASW5wdXQoKWAgZm9yIGBzdHlsZWAgYmluZGluZy5cbiAqXG4gKiBgYGBcbiAqIDxkaXYgbXktZGlyIFtzdHlsZV09XCJleHBcIj48L2Rpdj5cbiAqIGBgYFxuICogYW5kXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoe1xuICogfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgQElucHV0KClcbiAqICAgY2xhc3M6IHN0cmluZztcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGl0IGlzIG5lY2Vzc2FyeSB0byB3cml0ZSB0aGUgcmVjb25jaWxlZCBzdHlsaW5nIGluZm9ybWF0aW9uIGludG8gdGhlXG4gKiBkaXJlY3RpdmUncyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqL1xuZnVuY3Rpb24gaGFzU3R5bGVJbnB1dCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAzMiAvKiBoYXNTdHlsZUlucHV0ICovKSAhPT0gMDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIGV4cGVjdGVkVHlwZXMsIG1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKHROb2RlLCAnc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgVE5vZGUnKTtcbiAgICBpZiAoKHROb2RlLnR5cGUgJiBleHBlY3RlZFR5cGVzKSA9PT0gMCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1lc3NhZ2UgfHxcbiAgICAgICAgICAgIGBFeHBlY3RlZCBbJHt0b1ROb2RlVHlwZUFzU3RyaW5nKGV4cGVjdGVkVHlwZXMpfV0gYnV0IGdvdCAke3RvVE5vZGVUeXBlQXNTdHJpbmcodE5vZGUudHlwZSl9LmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFB1cmVUTm9kZVR5cGUodHlwZSkge1xuICAgIGlmICghKHR5cGUgPT09IDIgLyogRWxlbWVudCAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSAxIC8qIFRleHQgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gNCAvKiBDb250YWluZXIgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gOCAvKiBFbGVtZW50Q29udGFpbmVyICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDMyIC8qIEljdSAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSAxNiAvKiBQcm9qZWN0aW9uICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDY0IC8qIFBsYWNlaG9sZGVyICovKSkge1xuICAgICAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCBUTm9kZVR5cGUgdG8gaGF2ZSBvbmx5IGEgc2luZ2xlIHR5cGUgc2VsZWN0ZWQsIGJ1dCBnb3QgJHt0b1ROb2RlVHlwZUFzU3RyaW5nKHR5cGUpfS5gKTtcbiAgICB9XG59XG5cbi8qKlxuICogQXNzaWducyBhbGwgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgcHJvdmlkZWQgZWxlbWVudCB2aWEgdGhlIGluZmVycmVkIHJlbmRlcmVyLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyB0d28gZm9ybXMgb2YgYXR0cmlidXRlIGVudHJpZXM6XG4gKlxuICogZGVmYXVsdDogKGtleSwgdmFsdWUpOlxuICogIGF0dHJzID0gW2tleTEsIHZhbHVlMSwga2V5MiwgdmFsdWUyXVxuICpcbiAqIG5hbWVzcGFjZWQ6IChOQU1FU1BBQ0VfTUFSS0VSLCB1cmksIG5hbWUsIHZhbHVlKVxuICogIGF0dHJzID0gW05BTUVTUEFDRV9NQVJLRVIsIHVyaSwgbmFtZSwgdmFsdWUsIE5BTUVTUEFDRV9NQVJLRVIsIHVyaSwgbmFtZSwgdmFsdWVdXG4gKlxuICogVGhlIGBhdHRyc2AgYXJyYXkgY2FuIGNvbnRhaW4gYSBtaXggb2YgYm90aCB0aGUgZGVmYXVsdCBhbmQgbmFtZXNwYWNlZCBlbnRyaWVzLlxuICogVGhlIFwiZGVmYXVsdFwiIHZhbHVlcyBhcmUgc2V0IHdpdGhvdXQgYSBtYXJrZXIsIGJ1dCBpZiB0aGUgZnVuY3Rpb24gY29tZXMgYWNyb3NzXG4gKiBhIG1hcmtlciB2YWx1ZSB0aGVuIGl0IHdpbGwgYXR0ZW1wdCB0byBzZXQgYSBuYW1lc3BhY2VkIHZhbHVlLiBJZiB0aGUgbWFya2VyIGlzXG4gKiBub3Qgb2YgYSBuYW1lc3BhY2VkIHZhbHVlIHRoZW4gdGhlIGZ1bmN0aW9uIHdpbGwgcXVpdCBhbmQgcmV0dXJuIHRoZSBpbmRleCB2YWx1ZVxuICogd2hlcmUgaXQgc3RvcHBlZCBkdXJpbmcgdGhlIGl0ZXJhdGlvbiBvZiB0aGUgYXR0cnMgYXJyYXkuXG4gKlxuICogU2VlIFtBdHRyaWJ1dGVNYXJrZXJdIHRvIHVuZGVyc3RhbmQgd2hhdCB0aGUgbmFtZXNwYWNlIG1hcmtlciB2YWx1ZSBpcy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBpbnN0cnVjdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGFzc2lnbmluZyBzdHlsZSBhbmQgY2xhc3MgdmFsdWVzIHRvXG4gKiBhbiBlbGVtZW50LiBTZWUgYGVsZW1lbnRTdGFydGAgYW5kIGBlbGVtZW50SG9zdEF0dHJzYCB0byBsZWFybiBob3cgc3R5bGluZyB2YWx1ZXNcbiAqIGFyZSBhcHBsaWVkIHRvIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRvIGJlIHVzZWRcbiAqIEBwYXJhbSBuYXRpdmUgVGhlIGVsZW1lbnQgdGhhdCB0aGUgYXR0cmlidXRlcyB3aWxsIGJlIGFzc2lnbmVkIHRvXG4gKiBAcGFyYW0gYXR0cnMgVGhlIGF0dHJpYnV0ZSBhcnJheSBvZiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSBlbGVtZW50XG4gKiBAcmV0dXJucyB0aGUgaW5kZXggdmFsdWUgdGhhdCB3YXMgbGFzdCBhY2Nlc3NlZCBpbiB0aGUgYXR0cmlidXRlcyBhcnJheVxuICovXG5mdW5jdGlvbiBzZXRVcEF0dHJpYnV0ZXMocmVuZGVyZXIsIG5hdGl2ZSwgYXR0cnMpIHtcbiAgICBjb25zdCBpc1Byb2MgPSBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cnNbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG5hbWVzcGFjZXMgYXJlIHN1cHBvcnRlZC4gT3RoZXIgdmFsdWUgdHlwZXMgKHN1Y2ggYXMgc3R5bGUvY2xhc3NcbiAgICAgICAgICAgIC8vIGVudHJpZXMpIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBqdXN0IGxhbmRlZCBvbiB0aGUgbWFya2VyIHZhbHVlIC4uLiB0aGVyZWZvcmVcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCBza2lwIHRvIHRoZSBuZXh0IGVudHJ5XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VVUkkgPSBhdHRyc1tpKytdO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBhdHRyc1tpKytdO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbCA9IGF0dHJzW2krK107XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgICAgICBpc1Byb2MgP1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShuYXRpdmUsIGF0dHJOYW1lLCBhdHRyVmFsLCBuYW1lc3BhY2VVUkkpIDpcbiAgICAgICAgICAgICAgICBuYXRpdmUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlVVJJLCBhdHRyTmFtZSwgYXR0clZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBhdHRyTmFtZSBpcyBzdHJpbmc7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbCA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAvLyBTdGFuZGFyZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgICAgICBpZiAoaXNBbmltYXRpb25Qcm9wKGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1Byb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0UHJvcGVydHkobmF0aXZlLCBhdHRyTmFtZSwgYXR0clZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNQcm9jID9cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwpIDpcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYW5vdGhlciBwaWVjZSBvZiBjb2RlIG1heSBpdGVyYXRlIG92ZXIgdGhlIHNhbWUgYXR0cmlidXRlcyBhcnJheS4gVGhlcmVmb3JlXG4gICAgLy8gaXQgbWF5IGJlIGhlbHBmdWwgdG8gcmV0dXJuIHRoZSBleGFjdCBzcG90IHdoZXJlIHRoZSBhdHRyaWJ1dGVzIGFycmF5IGV4aXRlZFxuICAgIC8vIHdoZXRoZXIgYnkgcnVubmluZyBpbnRvIGFuIHVuc3VwcG9ydGVkIG1hcmtlciBvciBpZiBhbGwgdGhlIHN0YXRpYyB2YWx1ZXMgd2VyZVxuICAgIC8vIGl0ZXJhdGVkIG92ZXIuXG4gICAgcmV0dXJuIGk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBtYXJrZXIgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZm9sbG93aW5nXG4gKiBhdHRyaWJ1dGUgdmFsdWVzIGluIGEgYFRBdHRyaWJ1dGVzYCBhcnJheSBhcmUgb25seSB0aGUgbmFtZXMgb2YgYXR0cmlidXRlcyxcbiAqIGFuZCBub3QgbmFtZS12YWx1ZSBwYWlycy5cbiAqIEBwYXJhbSBtYXJrZXIgVGhlIGF0dHJpYnV0ZSBtYXJrZXIgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIG1hcmtlciBpcyBhIFwibmFtZS1vbmx5XCIgbWFya2VyIChlLmcuIGBCaW5kaW5nc2AsIGBUZW1wbGF0ZWAgb3IgYEkxOG5gKS5cbiAqL1xuZnVuY3Rpb24gaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlcihtYXJrZXIpIHtcbiAgICByZXR1cm4gbWFya2VyID09PSAzIC8qIEJpbmRpbmdzICovIHx8IG1hcmtlciA9PT0gNCAvKiBUZW1wbGF0ZSAqLyB8fFxuICAgICAgICBtYXJrZXIgPT09IDYgLyogSTE4biAqLztcbn1cbmZ1bmN0aW9uIGlzQW5pbWF0aW9uUHJvcChuYW1lKSB7XG4gICAgLy8gUGVyZiBub3RlOiBhY2Nlc3NpbmcgY2hhckNvZGVBdCB0byBjaGVjayBmb3IgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZyBpcyBmYXN0ZXIgYXNcbiAgICAvLyBjb21wYXJlZCB0byBhY2Nlc3NpbmcgYSBjaGFyYWN0ZXIgYXQgaW5kZXggMCAoZXguIG5hbWVbMF0pLiBUaGUgbWFpbiByZWFzb24gZm9yIHRoaXMgaXMgdGhhdFxuICAgIC8vIGNoYXJDb2RlQXQgZG9lc24ndCBhbGxvY2F0ZSBtZW1vcnkgdG8gcmV0dXJuIGEgc3Vic3RyaW5nLlxuICAgIHJldHVybiBuYW1lLmNoYXJDb2RlQXQoMCkgPT09IDY0IC8qIEFUX1NJR04gKi87XG59XG4vKipcbiAqIE1lcmdlcyBgc3JjYCBgVEF0dHJpYnV0ZXNgIGludG8gYGRzdGAgYFRBdHRyaWJ1dGVzYCByZW1vdmluZyBhbnkgZHVwbGljYXRlcyBpbiB0aGUgcHJvY2Vzcy5cbiAqXG4gKiBUaGlzIG1lcmdlIGZ1bmN0aW9uIGtlZXBzIHRoZSBvcmRlciBvZiBhdHRycyBzYW1lLlxuICpcbiAqIEBwYXJhbSBkc3QgTG9jYXRpb24gb2Ygd2hlcmUgdGhlIG1lcmdlZCBgVEF0dHJpYnV0ZXNgIHNob3VsZCBlbmQgdXAuXG4gKiBAcGFyYW0gc3JjIGBUQXR0cmlidXRlc2Agd2hpY2ggc2hvdWxkIGJlIGFwcGVuZGVkIHRvIGBkc3RgXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9zdEF0dHJzKGRzdCwgc3JjKSB7XG4gICAgaWYgKHNyYyA9PT0gbnVsbCB8fCBzcmMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgZWxzZSBpZiAoZHN0ID09PSBudWxsIHx8IGRzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBzb3VyY2UsIGJ1dCBkc3QgaXMgZW1wdHksIGp1c3QgbWFrZSBhIGNvcHkuXG4gICAgICAgIGRzdCA9IHNyYy5zbGljZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHNyY01hcmtlciA9IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzcmNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3JjTWFya2VyID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzcmNNYXJrZXIgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugd2hlcmUgd2UgbmVlZCB0byBjb25zdW1lIGBrZXkxYCwgYGtleTJgLCBgdmFsdWVgIGl0ZW1zLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzcmNNYXJrZXIgPT09IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLyB8fFxuICAgICAgICAgICAgICAgICAgICBzcmNNYXJrZXIgPT09IDIgLyogU3R5bGVzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugd2hlcmUgd2UgaGF2ZSB0byBjb25zdW1lIGBrZXkxYCBhbmQgYHZhbHVlYCBvbmx5LlxuICAgICAgICAgICAgICAgICAgICBtZXJnZUhvc3RBdHRyaWJ1dGUoZHN0LCBzcmNNYXJrZXIsIGl0ZW0sIG51bGwsIHNyY1srK2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugd2hlcmUgd2UgaGF2ZSB0byBjb25zdW1lIGBrZXkxYCBvbmx5LlxuICAgICAgICAgICAgICAgICAgICBtZXJnZUhvc3RBdHRyaWJ1dGUoZHN0LCBzcmNNYXJrZXIsIGl0ZW0sIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBcHBlbmQgYGtleWAvYHZhbHVlYCB0byBleGlzdGluZyBgVEF0dHJpYnV0ZXNgIHRha2luZyByZWdpb24gbWFya2VyIGFuZCBkdXBsaWNhdGVzIGludG8gYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0gZHN0IGBUQXR0cmlidXRlc2AgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIG1hcmtlciBSZWdpb24gd2hlcmUgdGhlIGBrZXlgL2B2YWx1ZWAgc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIGtleTEgS2V5IHRvIGFkZCB0byBgVEF0dHJpYnV0ZXNgXG4gKiBAcGFyYW0ga2V5MiBLZXkgdG8gYWRkIHRvIGBUQXR0cmlidXRlc2AgKGluIGNhc2Ugb2YgYEF0dHJpYnV0ZU1hcmtlci5OYW1lc3BhY2VVUklgKVxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGFkZCBvciB0byBvdmVyd3JpdGUgdG8gYFRBdHRyaWJ1dGVzYCBPbmx5IHVzZWQgaWYgYG1hcmtlcmAgaXMgbm90IENsYXNzLlxuICovXG5mdW5jdGlvbiBtZXJnZUhvc3RBdHRyaWJ1dGUoZHN0LCBtYXJrZXIsIGtleTEsIGtleTIsIHZhbHVlKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIEFzc3VtZSB0aGF0IG5ldyBtYXJrZXJzIHdpbGwgYmUgaW5zZXJ0ZWQgYXQgdGhlIGVuZC5cbiAgICBsZXQgbWFya2VySW5zZXJ0UG9zaXRpb24gPSBkc3QubGVuZ3RoO1xuICAgIC8vIHNjYW4gdW50aWwgY29ycmVjdCB0eXBlLlxuICAgIGlmIChtYXJrZXIgPT09IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLykge1xuICAgICAgICBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGkgPCBkc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBkc3RWYWx1ZSA9IGRzdFtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkc3RWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAoZHN0VmFsdWUgPT09IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZHN0VmFsdWUgPiBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBzYXZlIHRoaXMgYXMgd2Ugd2FudCB0aGUgbWFya2VycyB0byBiZSBpbnNlcnRlZCBpbiBzcGVjaWZpYyBvcmRlci5cbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zZXJ0UG9zaXRpb24gPSBpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHNlYXJjaCB1bnRpbCB5b3UgZmluZCBwbGFjZSBvZiBpbnNlcnRpb25cbiAgICB3aGlsZSAoaSA8IGRzdC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRzdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gc2luY2UgYGlgIHN0YXJ0ZWQgYXMgdGhlIGluZGV4IGFmdGVyIHRoZSBtYXJrZXIsIHdlIGRpZCBub3QgZmluZCBpdCBpZiB3ZSBhcmUgYXQgdGhlIG5leHRcbiAgICAgICAgICAgIC8vIG1hcmtlclxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSA9PT0ga2V5MSkge1xuICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIHNhbWUgdG9rZW5cbiAgICAgICAgICAgIGlmIChrZXkyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFtpICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5MiA9PT0gZHN0W2kgKyAxXSkge1xuICAgICAgICAgICAgICAgIGRzdFtpICsgMl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXIuXG4gICAgICAgIGkrKztcbiAgICAgICAgaWYgKGtleTIgIT09IG51bGwpXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIGkrKztcbiAgICB9XG4gICAgLy8gaW5zZXJ0IGF0IGxvY2F0aW9uLlxuICAgIGlmIChtYXJrZXJJbnNlcnRQb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgZHN0LnNwbGljZShtYXJrZXJJbnNlcnRQb3NpdGlvbiwgMCwgbWFya2VyKTtcbiAgICAgICAgaSA9IG1hcmtlckluc2VydFBvc2l0aW9uICsgMTtcbiAgICB9XG4gICAgZHN0LnNwbGljZShpKyssIDAsIGtleTEpO1xuICAgIGlmIChrZXkyICE9PSBudWxsKSB7XG4gICAgICAgIGRzdC5zcGxpY2UoaSsrLCAwLCBrZXkyKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIGRzdC5zcGxpY2UoaSsrLCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vLyBQYXJlbnQgSW5qZWN0b3IgVXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2NhdGlvbikge1xuICAgIHJldHVybiBwYXJlbnRMb2NhdGlvbiAhPT0gTk9fUEFSRU5UX0lOSkVDVE9SO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIocGFyZW50TG9jYXRpb24sICdOdW1iZXIgZXhwZWN0ZWQnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwocGFyZW50TG9jYXRpb24sIC0xLCAnTm90IGEgdmFsaWQgc3RhdGUuJyk7XG4gICAgY29uc3QgcGFyZW50SW5qZWN0b3JJbmRleCA9IHBhcmVudExvY2F0aW9uICYgMzI3NjcgLyogSW5qZWN0b3JJbmRleE1hc2sgKi87XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuKHBhcmVudEluamVjdG9ySW5kZXgsIEhFQURFUl9PRkZTRVQsICdQYXJlbnQgaW5qZWN0b3IgbXVzdCBiZSBwb2ludGluZyBwYXN0IEhFQURFUl9PRkZTRVQuJyk7XG4gICAgcmV0dXJuIHBhcmVudExvY2F0aW9uICYgMzI3NjcgLyogSW5qZWN0b3JJbmRleE1hc2sgKi87XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRJbmplY3RvclZpZXdPZmZzZXQocGFyZW50TG9jYXRpb24pIHtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gPj4gMTYgLyogVmlld09mZnNldFNoaWZ0ICovO1xufVxuLyoqXG4gKiBVbndyYXBzIGEgcGFyZW50IGluamVjdG9yIGxvY2F0aW9uIG51bWJlciB0byBmaW5kIHRoZSB2aWV3IG9mZnNldCBmcm9tIHRoZSBjdXJyZW50IGluamVjdG9yLFxuICogdGhlbiB3YWxrcyB1cCB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIHVudGlsIHRoZSB2aWV3IGlzIGZvdW5kIHRoYXQgY29udGFpbnMgdGhlIHBhcmVudFxuICogaW5qZWN0b3IuXG4gKlxuICogQHBhcmFtIGxvY2F0aW9uIFRoZSBsb2NhdGlvbiBvZiB0aGUgcGFyZW50IGluamVjdG9yLCB3aGljaCBjb250YWlucyB0aGUgdmlldyBvZmZzZXRcbiAqIEBwYXJhbSBzdGFydFZpZXcgVGhlIExWaWV3IGluc3RhbmNlIGZyb20gd2hpY2ggdG8gc3RhcnQgd2Fsa2luZyB1cCB0aGUgdmlldyB0cmVlXG4gKiBAcmV0dXJucyBUaGUgTFZpZXcgaW5zdGFuY2UgdGhhdCBjb250YWlucyB0aGUgcGFyZW50IGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yVmlldyhsb2NhdGlvbiwgc3RhcnRWaWV3KSB7XG4gICAgbGV0IHZpZXdPZmZzZXQgPSBnZXRQYXJlbnRJbmplY3RvclZpZXdPZmZzZXQobG9jYXRpb24pO1xuICAgIGxldCBwYXJlbnRWaWV3ID0gc3RhcnRWaWV3O1xuICAgIC8vIEZvciBtb3N0IGNhc2VzLCB0aGUgcGFyZW50IGluamVjdG9yIGNhbiBiZSBmb3VuZCBvbiB0aGUgaG9zdCBub2RlIChlLmcuIGZvciBjb21wb25lbnRcbiAgICAvLyBvciBjb250YWluZXIpLCBidXQgd2UgbXVzdCBrZWVwIHRoZSBsb29wIGhlcmUgdG8gc3VwcG9ydCB0aGUgcmFyZXIgY2FzZSBvZiBkZWVwbHkgbmVzdGVkXG4gICAgLy8gPG5nLXRlbXBsYXRlPiB0YWdzIG9yIGlubGluZSB2aWV3cywgd2hlcmUgdGhlIHBhcmVudCBpbmplY3RvciBtaWdodCBsaXZlIG1hbnkgdmlld3NcbiAgICAvLyBhYm92ZSB0aGUgY2hpbGQgaW5qZWN0b3IuXG4gICAgd2hpbGUgKHZpZXdPZmZzZXQgPiAwKSB7XG4gICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICB2aWV3T2Zmc2V0LS07XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRWaWV3O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyBpZiB0aGUgY2FsbCB0byBgaW5qZWN0YCBzaG91bGQgaW5jbHVkZSBgdmlld1Byb3ZpZGVyc2AgaW4gaXRzIHJlc29sdXRpb24uXG4gKlxuICogVGhpcyBpcyBzZXQgdG8gdHJ1ZSB3aGVuIHdlIHRyeSB0byBpbnN0YW50aWF0ZSBhIGNvbXBvbmVudC4gVGhpcyB2YWx1ZSBpcyByZXNldCBpblxuICogYGdldE5vZGVJbmplY3RhYmxlYCB0byBhIHZhbHVlIHdoaWNoIG1hdGNoZXMgdGhlIGRlY2xhcmF0aW9uIGxvY2F0aW9uIG9mIHRoZSB0b2tlbiBhYm91dCB0byBiZVxuICogaW5zdGFudGlhdGVkLiBUaGlzIGlzIGRvbmUgc28gdGhhdCBpZiB3ZSBhcmUgaW5qZWN0aW5nIGEgdG9rZW4gd2hpY2ggd2FzIGRlY2xhcmVkIG91dHNpZGUgb2ZcbiAqIGB2aWV3UHJvdmlkZXJzYCB3ZSBkb24ndCBhY2NpZGVudGFsbHkgcHVsbCBgdmlld1Byb3ZpZGVyc2AgaW4uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIE15U2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogU3RyaW5nKSB7fVxuICogfVxuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBwcm92aWRlcnM6IFtcbiAqICAgICBNeVNlcnZpY2UsXG4gKiAgICAge3Byb3ZpZGU6IFN0cmluZywgdmFsdWU6ICdwcm92aWRlcnMnIH1cbiAqICAgXVxuICogICB2aWV3UHJvdmlkZXJzOiBbXG4gKiAgICAge3Byb3ZpZGU6IFN0cmluZywgdmFsdWU6ICd2aWV3UHJvdmlkZXJzJ31cbiAqICAgXVxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IobXlTZXJ2aWNlOiBNeVNlcnZpY2UsIHZhbHVlOiBTdHJpbmcpIHtcbiAqICAgICAvLyBXZSBleHBlY3QgdGhhdCBDb21wb25lbnQgY2FuIHNlZSBpbnRvIGB2aWV3UHJvdmlkZXJzYC5cbiAqICAgICBleHBlY3QodmFsdWUpLnRvRXF1YWwoJ3ZpZXdQcm92aWRlcnMnKTtcbiAqICAgICAvLyBgTXlTZXJ2aWNlYCB3YXMgbm90IGRlY2xhcmVkIGluIGB2aWV3UHJvdmlkZXJzYCBoZW5jZSBpdCBjYW4ndCBzZWUgaXQuXG4gKiAgICAgZXhwZWN0KG15U2VydmljZS52YWx1ZSkudG9FcXVhbCgncHJvdmlkZXJzJyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBgYGBcbiAqL1xubGV0IGluY2x1ZGVWaWV3UHJvdmlkZXJzID0gdHJ1ZTtcbmZ1bmN0aW9uIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHYpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGluY2x1ZGVWaWV3UHJvdmlkZXJzO1xuICAgIGluY2x1ZGVWaWV3UHJvdmlkZXJzID0gdjtcbiAgICByZXR1cm4gb2xkVmFsdWU7XG59XG4vKipcbiAqIFRoZSBudW1iZXIgb2Ygc2xvdHMgaW4gZWFjaCBibG9vbSBmaWx0ZXIgKHVzZWQgYnkgREkpLiBUaGUgbGFyZ2VyIHRoaXMgbnVtYmVyLCB0aGUgZmV3ZXJcbiAqIGRpcmVjdGl2ZXMgdGhhdCB3aWxsIHNoYXJlIHNsb3RzLCBhbmQgdGh1cywgdGhlIGZld2VyIGZhbHNlIHBvc2l0aXZlcyB3aGVuIGNoZWNraW5nIGZvclxuICogdGhlIGV4aXN0ZW5jZSBvZiBhIGRpcmVjdGl2ZS5cbiAqL1xuY29uc3QgQkxPT01fU0laRSA9IDI1NjtcbmNvbnN0IEJMT09NX01BU0sgPSBCTE9PTV9TSVpFIC0gMTtcbi8qKlxuICogVGhlIG51bWJlciBvZiBiaXRzIHRoYXQgaXMgcmVwcmVzZW50ZWQgYnkgYSBzaW5nbGUgYmxvb20gYnVja2V0LiBKUyBiaXQgb3BlcmF0aW9ucyBhcmUgMzIgYml0cyxcbiAqIHNvIGVhY2ggYnVja2V0IHJlcHJlc2VudHMgMzIgZGlzdGluY3QgdG9rZW5zIHdoaWNoIGFjY291bnRzIGZvciBsb2cyKDMyKSA9IDUgYml0cyBvZiBhIGJsb29tIGhhc2hcbiAqIG51bWJlci5cbiAqL1xuY29uc3QgQkxPT01fQlVDS0VUX0JJVFMgPSA1O1xuLyoqIENvdW50ZXIgdXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzIGZvciBkaXJlY3RpdmVzLiAqL1xubGV0IG5leHROZ0VsZW1lbnRJZCA9IDA7XG4vKipcbiAqIFJlZ2lzdGVycyB0aGlzIGRpcmVjdGl2ZSBhcyBwcmVzZW50IGluIGl0cyBub2RlJ3MgaW5qZWN0b3IgYnkgZmxpcHBpbmcgdGhlIGRpcmVjdGl2ZSdzXG4gKiBjb3JyZXNwb25kaW5nIGJpdCBpbiB0aGUgaW5qZWN0b3IncyBibG9vbSBmaWx0ZXIuXG4gKlxuICogQHBhcmFtIGluamVjdG9ySW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIGluamVjdG9yIHdoZXJlIHRoaXMgdG9rZW4gc2hvdWxkIGJlIHJlZ2lzdGVyZWRcbiAqIEBwYXJhbSB0VmlldyBUaGUgVFZpZXcgZm9yIHRoZSBpbmplY3RvcidzIGJsb29tIGZpbHRlcnNcbiAqIEBwYXJhbSB0eXBlIFRoZSBkaXJlY3RpdmUgdG9rZW4gdG8gcmVnaXN0ZXJcbiAqL1xuZnVuY3Rpb24gYmxvb21BZGQoaW5qZWN0b3JJbmRleCwgdFZpZXcsIHR5cGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RDcmVhdGVQYXNzLCB0cnVlLCAnZXhwZWN0ZWQgZmlyc3RDcmVhdGVQYXNzIHRvIGJlIHRydWUnKTtcbiAgICBsZXQgaWQ7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZCA9IHR5cGUuY2hhckNvZGVBdCgwKSB8fCAwO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmhhc093blByb3BlcnR5KE5HX0VMRU1FTlRfSUQpKSB7XG4gICAgICAgIGlkID0gdHlwZVtOR19FTEVNRU5UX0lEXTtcbiAgICB9XG4gICAgLy8gU2V0IGEgdW5pcXVlIElEIG9uIHRoZSBkaXJlY3RpdmUgdHlwZSwgc28gaWYgc29tZXRoaW5nIHRyaWVzIHRvIGluamVjdCB0aGUgZGlyZWN0aXZlLFxuICAgIC8vIHdlIGNhbiBlYXNpbHkgcmV0cmlldmUgdGhlIElEIGFuZCBoYXNoIGl0IGludG8gdGhlIGJsb29tIGJpdCB0aGF0IHNob3VsZCBiZSBjaGVja2VkLlxuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIGlkID0gdHlwZVtOR19FTEVNRU5UX0lEXSA9IG5leHROZ0VsZW1lbnRJZCsrO1xuICAgIH1cbiAgICAvLyBXZSBvbmx5IGhhdmUgQkxPT01fU0laRSAoMjU2KSBzbG90cyBpbiBvdXIgYmxvb20gZmlsdGVyICg4IGJ1Y2tldHMgKiAzMiBiaXRzIGVhY2gpLFxuICAgIC8vIHNvIGFsbCB1bmlxdWUgSURzIG11c3QgYmUgbW9kdWxvLWVkIGludG8gYSBudW1iZXIgZnJvbSAwIC0gMjU1IHRvIGZpdCBpbnRvIHRoZSBmaWx0ZXIuXG4gICAgY29uc3QgYmxvb21IYXNoID0gaWQgJiBCTE9PTV9NQVNLO1xuICAgIC8vIENyZWF0ZSBhIG1hc2sgdGhhdCB0YXJnZXRzIHRoZSBzcGVjaWZpYyBiaXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBkaXJlY3RpdmUuXG4gICAgLy8gSlMgYml0IG9wZXJhdGlvbnMgYXJlIDMyIGJpdHMsIHNvIHRoaXMgd2lsbCBiZSBhIG51bWJlciBiZXR3ZWVuIDJeMCBhbmQgMl4zMSwgY29ycmVzcG9uZGluZ1xuICAgIC8vIHRvIGJpdCBwb3NpdGlvbnMgMCAtIDMxIGluIGEgMzIgYml0IGludGVnZXIuXG4gICAgY29uc3QgbWFzayA9IDEgPDwgYmxvb21IYXNoO1xuICAgIC8vIEVhY2ggYmxvb20gYnVja2V0IGluIGB0RGF0YWAgcmVwcmVzZW50cyBgQkxPT01fQlVDS0VUX0JJVFNgIG51bWJlciBvZiBiaXRzIG9mIGBibG9vbUhhc2hgLlxuICAgIC8vIEFueSBiaXRzIGluIGBibG9vbUhhc2hgIGJleW9uZCBgQkxPT01fQlVDS0VUX0JJVFNgIGluZGljYXRlIHRoZSBidWNrZXQgb2Zmc2V0IHRoYXQgdGhlIG1hc2tcbiAgICAvLyBzaG91bGQgYmUgd3JpdHRlbiB0by5cbiAgICB0Vmlldy5kYXRhW2luamVjdG9ySW5kZXggKyAoYmxvb21IYXNoID4+IEJMT09NX0JVQ0tFVF9CSVRTKV0gfD0gbWFzaztcbn1cbi8qKlxuICogQ3JlYXRlcyAob3IgZ2V0cyBhbiBleGlzdGluZykgaW5qZWN0b3IgZm9yIGEgZ2l2ZW4gZWxlbWVudCBvciBjb250YWluZXIuXG4gKlxuICogQHBhcmFtIHROb2RlIGZvciB3aGljaCBhbiBpbmplY3RvciBzaG91bGQgYmUgcmV0cmlldmVkIC8gY3JlYXRlZC5cbiAqIEBwYXJhbSBsVmlldyBWaWV3IHdoZXJlIHRoZSBub2RlIGlzIHN0b3JlZFxuICogQHJldHVybnMgTm9kZSBpbmplY3RvclxuICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgZXhpc3RpbmdJbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0Tm9kZSwgbFZpZXcpO1xuICAgIGlmIChleGlzdGluZ0luamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0luamVjdG9ySW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgdE5vZGUuaW5qZWN0b3JJbmRleCA9IGxWaWV3Lmxlbmd0aDtcbiAgICAgICAgaW5zZXJ0Qmxvb20odFZpZXcuZGF0YSwgdE5vZGUpOyAvLyBmb3VuZGF0aW9uIGZvciBub2RlIGJsb29tXG4gICAgICAgIGluc2VydEJsb29tKGxWaWV3LCBudWxsKTsgLy8gZm91bmRhdGlvbiBmb3IgY3VtdWxhdGl2ZSBibG9vbVxuICAgICAgICBpbnNlcnRCbG9vbSh0Vmlldy5ibHVlcHJpbnQsIG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRMb2MgPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgaW5qZWN0b3JJbmRleCA9IHROb2RlLmluamVjdG9ySW5kZXg7XG4gICAgLy8gSWYgYSBwYXJlbnQgaW5qZWN0b3IgY2FuJ3QgYmUgZm91bmQsIGl0cyBsb2NhdGlvbiBpcyBzZXQgdG8gLTEuXG4gICAgLy8gSW4gdGhhdCBjYXNlLCB3ZSBkb24ndCBuZWVkIHRvIHNldCB1cCBhIGN1bXVsYXRpdmUgYmxvb21cbiAgICBpZiAoaGFzUGFyZW50SW5qZWN0b3IocGFyZW50TG9jKSkge1xuICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jKTtcbiAgICAgICAgY29uc3QgcGFyZW50TFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jLCBsVmlldyk7XG4gICAgICAgIGNvbnN0IHBhcmVudERhdGEgPSBwYXJlbnRMVmlld1tUVklFV10uZGF0YTtcbiAgICAgICAgLy8gQ3JlYXRlcyBhIGN1bXVsYXRpdmUgYmxvb20gZmlsdGVyIHRoYXQgbWVyZ2VzIHRoZSBwYXJlbnQncyBibG9vbSBmaWx0ZXJcbiAgICAgICAgLy8gYW5kIGl0cyBvd24gY3VtdWxhdGl2ZSBibG9vbSAod2hpY2ggY29udGFpbnMgdG9rZW5zIGZvciBhbGwgYW5jZXN0b3JzKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDggLyogQkxPT01fU0laRSAqLzsgaSsrKSB7XG4gICAgICAgICAgICBsVmlld1tpbmplY3RvckluZGV4ICsgaV0gPSBwYXJlbnRMVmlld1twYXJlbnRJbmRleCArIGldIHwgcGFyZW50RGF0YVtwYXJlbnRJbmRleCArIGldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL10gPSBwYXJlbnRMb2M7XG4gICAgcmV0dXJuIGluamVjdG9ySW5kZXg7XG59XG5mdW5jdGlvbiBpbnNlcnRCbG9vbShhcnIsIGZvb3Rlcikge1xuICAgIGFyci5wdXNoKDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIGZvb3Rlcik7XG59XG5mdW5jdGlvbiBnZXRJbmplY3RvckluZGV4KHROb2RlLCBsVmlldykge1xuICAgIGlmICh0Tm9kZS5pbmplY3RvckluZGV4ID09PSAtMSB8fFxuICAgICAgICAvLyBJZiB0aGUgaW5qZWN0b3IgaW5kZXggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzIGluamVjdG9yIGluZGV4LCB0aGVuIHRoZSBpbmRleCBoYXMgYmVlblxuICAgICAgICAvLyBjb3BpZWQgZG93biBmcm9tIHRoZSBwYXJlbnQgbm9kZS4gTm8gaW5qZWN0b3IgaGFzIGJlZW4gY3JlYXRlZCB5ZXQgb24gdGhpcyBub2RlLlxuICAgICAgICAodE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ID09PSB0Tm9kZS5pbmplY3RvckluZGV4KSB8fFxuICAgICAgICAvLyBBZnRlciB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcywgdGhlIGluamVjdG9yIGluZGV4IG1pZ2h0IGV4aXN0IGJ1dCB0aGUgcGFyZW50IHZhbHVlc1xuICAgICAgICAvLyBtaWdodCBub3QgaGF2ZSBiZWVuIGNhbGN1bGF0ZWQgeWV0IGZvciB0aGlzIGluc3RhbmNlXG4gICAgICAgIGxWaWV3W3ROb2RlLmluamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL10gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdE5vZGUuaW5qZWN0b3JJbmRleCk7XG4gICAgICAgIHJldHVybiB0Tm9kZS5pbmplY3RvckluZGV4O1xuICAgIH1cbn1cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBwYXJlbnQgaW5qZWN0b3IsIHdpdGggYSB2aWV3IG9mZnNldCBpZiBhcHBsaWNhYmxlLiBVc2VkIHRvIHNldCB0aGVcbiAqIHBhcmVudCBpbmplY3RvciBpbml0aWFsbHkuXG4gKlxuICogQHJldHVybnMgUmV0dXJucyBhIG51bWJlciB0aGF0IGlzIHRoZSBjb21iaW5hdGlvbiBvZiB0aGUgbnVtYmVyIG9mIExWaWV3cyB0aGF0IHdlIGhhdmUgdG8gZ28gdXBcbiAqIHRvIGZpbmQgdGhlIExWaWV3IGNvbnRhaW5pbmcgdGhlIHBhcmVudCBpbmplY3QgQU5EIHRoZSBpbmRleCBvZiB0aGUgaW5qZWN0b3Igd2l0aGluIHRoYXQgTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHROb2RlLnBhcmVudCAmJiB0Tm9kZS5wYXJlbnQuaW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBhcmVudCBgVE5vZGVgIGFuZCB0aGVyZSBpcyBhbiBpbmplY3RvciBhc3NvY2lhdGVkIHdpdGggaXQgd2UgYXJlIGRvbmUsIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHBhcmVudCBpbmplY3RvciBpcyB3aXRoaW4gdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAgICAgICAgcmV0dXJuIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4OyAvLyBWaWV3T2Zmc2V0IGlzIDBcbiAgICB9XG4gICAgLy8gV2hlbiBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24gaXMgY29tcHV0ZWQgaXQgbWF5IGJlIG91dHNpZGUgb2YgdGhlIGN1cnJlbnQgdmlldy4gKGllIGl0IGNvdWxkXG4gICAgLy8gYmUgcG9pbnRpbmcgdG8gYSBkZWNsYXJlZCBwYXJlbnQgbG9jYXRpb24pLiBUaGlzIHZhcmlhYmxlIHN0b3JlcyBudW1iZXIgb2YgZGVjbGFyYXRpb24gcGFyZW50c1xuICAgIC8vIHdlIG5lZWQgdG8gd2FsayB1cCBpbiBvcmRlciB0byBmaW5kIHRoZSBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24uXG4gICAgbGV0IGRlY2xhcmF0aW9uVmlld09mZnNldCA9IDA7XG4gICAgbGV0IHBhcmVudFROb2RlID0gbnVsbDtcbiAgICBsZXQgbFZpZXdDdXJzb3IgPSBsVmlldztcbiAgICAvLyBUaGUgcGFyZW50IGluamVjdG9yIGlzIG5vdCBpbiB0aGUgY3VycmVudCBgTFZpZXdgLiBXZSB3aWxsIGhhdmUgdG8gd2FsayB0aGUgZGVjbGFyZWQgcGFyZW50XG4gICAgLy8gYExWaWV3YCBoaWVyYXJjaHkgYW5kIGxvb2sgZm9yIGl0LiBJZiB3ZSB3YWxrIG9mIHRoZSB0b3AsIHRoYXQgbWVhbnMgdGhhdCB0aGVyZSBpcyBubyBwYXJlbnRcbiAgICAvLyBgTm9kZUluamVjdG9yYC5cbiAgICB3aGlsZSAobFZpZXdDdXJzb3IgIT09IG51bGwpIHtcbiAgICAgICAgLy8gRmlyc3QgZGV0ZXJtaW5lIHRoZSBgcGFyZW50VE5vZGVgIGxvY2F0aW9uLiBUaGUgcGFyZW50IHBvaW50ZXIgZGlmZmVycyBiYXNlZCBvbiBgVFZpZXcudHlwZWAuXG4gICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdDdXJzb3JbVFZJRVddO1xuICAgICAgICBjb25zdCB0Vmlld1R5cGUgPSB0Vmlldy50eXBlO1xuICAgICAgICBpZiAodFZpZXdUeXBlID09PSAyIC8qIEVtYmVkZGVkICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKHRWaWV3LmRlY2xUTm9kZSwgJ0VtYmVkZGVkIFROb2RlcyBzaG91bGQgaGF2ZSBkZWNsYXJhdGlvbiBwYXJlbnRzLicpO1xuICAgICAgICAgICAgcGFyZW50VE5vZGUgPSB0Vmlldy5kZWNsVE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodFZpZXdUeXBlID09PSAxIC8qIENvbXBvbmVudCAqLykge1xuICAgICAgICAgICAgLy8gQ29tcG9uZW50cyBkb24ndCBoYXZlIGBUVmlldy5kZWNsVE5vZGVgIGJlY2F1c2UgZWFjaCBpbnN0YW5jZSBvZiBjb21wb25lbnQgY291bGQgYmVcbiAgICAgICAgICAgIC8vIGluc2VydGVkIGluIGRpZmZlcmVudCBsb2NhdGlvbiwgaGVuY2UgYFRWaWV3LmRlY2xUTm9kZWAgaXMgbWVhbmluZ2xlc3MuXG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IGxWaWV3Q3Vyc29yW1RfSE9TVF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodFZpZXcudHlwZSwgMCAvKiBSb290ICovLCAnUm9vdCB0eXBlIGV4cGVjdGVkJyk7XG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIHBhcmVudCwgdGhhbiB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIHJldHVybiBOT19QQVJFTlRfSU5KRUNUT1I7XG4gICAgICAgIH1cbiAgICAgICAgbmdEZXZNb2RlICYmIHBhcmVudFROb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcocGFyZW50VE5vZGUsIGxWaWV3Q3Vyc29yW0RFQ0xBUkFUSU9OX1ZJRVddKTtcbiAgICAgICAgLy8gRXZlcnkgaXRlcmF0aW9uIG9mIHRoZSBsb29wIHJlcXVpcmVzIHRoYXQgd2UgZ28gdG8gdGhlIGRlY2xhcmVkIHBhcmVudC5cbiAgICAgICAgZGVjbGFyYXRpb25WaWV3T2Zmc2V0Kys7XG4gICAgICAgIGxWaWV3Q3Vyc29yID0gbFZpZXdDdXJzb3JbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZS5pbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBOb2RlSW5qZWN0b3Igd2hpY2ggcG9pbnRzIHRvIHNvbWV0aGluZy5cbiAgICAgICAgICAgIHJldHVybiAocGFyZW50VE5vZGUuaW5qZWN0b3JJbmRleCB8XG4gICAgICAgICAgICAgICAgKGRlY2xhcmF0aW9uVmlld09mZnNldCA8PCAxNiAvKiBWaWV3T2Zmc2V0U2hpZnQgKi8pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTk9fUEFSRU5UX0lOSkVDVE9SO1xufVxuLyoqXG4gKiBNYWtlcyBhIHR5cGUgb3IgYW4gaW5qZWN0aW9uIHRva2VuIHB1YmxpYyB0byB0aGUgREkgc3lzdGVtIGJ5IGFkZGluZyBpdCB0byBhblxuICogaW5qZWN0b3IncyBibG9vbSBmaWx0ZXIuXG4gKlxuICogQHBhcmFtIGRpIFRoZSBub2RlIGluamVjdG9yIGluIHdoaWNoIGEgZGlyZWN0aXZlIHdpbGwgYmUgYWRkZWRcbiAqIEBwYXJhbSB0b2tlbiBUaGUgdHlwZSBvciB0aGUgaW5qZWN0aW9uIHRva2VuIHRvIGJlIG1hZGUgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGRpUHVibGljSW5JbmplY3RvcihpbmplY3RvckluZGV4LCB0VmlldywgdG9rZW4pIHtcbiAgICBibG9vbUFkZChpbmplY3RvckluZGV4LCB0VmlldywgdG9rZW4pO1xufVxuLyoqXG4gKiBJbmplY3Qgc3RhdGljIGF0dHJpYnV0ZSB2YWx1ZSBpbnRvIGRpcmVjdGl2ZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHdpdGggYGZhY3RvcnlgIGZ1bmN0aW9ucyB3aGljaCBhcmUgZ2VuZXJhdGVkIGFzIHBhcnQgb2ZcbiAqIGBkZWZpbmVEaXJlY3RpdmVgIG9yIGBkZWZpbmVDb21wb25lbnRgLiBUaGUgbWV0aG9kIHJldHJpZXZlcyB0aGUgc3RhdGljIHZhbHVlXG4gKiBvZiBhbiBhdHRyaWJ1dGUuIChEeW5hbWljIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgc2luY2UgdGhleSBhcmUgbm90IHJlc29sdmVkXG4gKiAgYXQgdGhlIHRpbWUgb2YgaW5qZWN0aW9uIGFuZCBjYW4gY2hhbmdlIG92ZXIgdGltZS4pXG4gKlxuICogIyBFeGFtcGxlXG4gKiBHaXZlbjpcbiAqIGBgYFxuICogQENvbXBvbmVudCguLi4pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKEBBdHRyaWJ1dGUoJ3RpdGxlJykgdGl0bGU6IHN0cmluZykgeyAuLi4gfVxuICogfVxuICogYGBgXG4gKiBXaGVuIGluc3RhbnRpYXRlZCB3aXRoXG4gKiBgYGBcbiAqIDxteS1jb21wb25lbnQgdGl0bGU9XCJIZWxsb1wiPjwvbXktY29tcG9uZW50PlxuICogYGBgXG4gKlxuICogVGhlbiBmYWN0b3J5IG1ldGhvZCBnZW5lcmF0ZWQgaXM6XG4gKiBgYGBcbiAqIE15Q29tcG9uZW50Lsm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgZmFjdG9yeTogKCkgPT4gbmV3IE15Q29tcG9uZW50KGluamVjdEF0dHJpYnV0ZSgndGl0bGUnKSlcbiAqICAgLi4uXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBpbmplY3RBdHRyaWJ1dGVJbXBsKHROb2RlLCBhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMyAvKiBBbnlSTm9kZSAqLyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdleHBlY3RpbmcgdE5vZGUnKTtcbiAgICBpZiAoYXR0ck5hbWVUb0luamVjdCA9PT0gJ2NsYXNzJykge1xuICAgICAgICByZXR1cm4gdE5vZGUuY2xhc3NlcztcbiAgICB9XG4gICAgaWYgKGF0dHJOYW1lVG9JbmplY3QgPT09ICdzdHlsZScpIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLnN0eWxlcztcbiAgICB9XG4gICAgY29uc3QgYXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgY29uc3QgYXR0cnNMZW5ndGggPSBhdHRycy5sZW5ndGg7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRyc0xlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhpdCBhIGBCaW5kaW5nc2Agb3IgYFRlbXBsYXRlYCBtYXJrZXIgdGhlbiB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIGlmIChpc05hbWVPbmx5QXR0cmlidXRlTWFya2VyKHZhbHVlKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIFNraXAgbmFtZXNwYWNlZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc2tpcCB0aGUgbmV4dCB0d28gdmFsdWVzXG4gICAgICAgICAgICAgICAgLy8gYXMgbmFtZXNwYWNlZCBhdHRyaWJ1dGVzIGxvb2tzIGxpa2VcbiAgICAgICAgICAgICAgICAvLyBbLi4uLCBBdHRyaWJ1dGVNYXJrZXIuTmFtZXNwYWNlVVJJLCAnaHR0cDovL3NvbWV1cmkuY29tL3Rlc3QnLCAndGVzdDpleGlzdCcsXG4gICAgICAgICAgICAgICAgLy8gJ2V4aXN0VmFsdWUnLCAuLi5dXG4gICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdG8gdGhlIGZpcnN0IHZhbHVlIG9mIHRoZSBtYXJrZWQgYXR0cmlidXRlLlxuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGF0dHJzTGVuZ3RoICYmIHR5cGVvZiBhdHRyc1tpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG5vdEZvdW5kVmFsdWVPclRocm93KG5vdEZvdW5kVmFsdWUsIHRva2VuLCBmbGFncykge1xuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3IodG9rZW4sICdOb2RlSW5qZWN0b3InKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGFzc29jaWF0ZWQgdG8gdGhlIGdpdmVuIHRva2VuIGZyb20gdGhlIE1vZHVsZUluamVjdG9yIG9yIHRocm93cyBleGNlcHRpb25cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2AgdGhhdCBjb250YWlucyB0aGUgYHROb2RlYFxuICogQHBhcmFtIHRva2VuIFRoZSB0b2tlbiB0byBsb29rIGZvclxuICogQHBhcmFtIGZsYWdzIEluamVjdGlvbiBmbGFnc1xuICogQHBhcmFtIG5vdEZvdW5kVmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiB3aGVuIHRoZSBpbmplY3Rpb24gZmxhZ3MgaXMgYEluamVjdEZsYWdzLk9wdGlvbmFsYFxuICogQHJldHVybnMgdGhlIHZhbHVlIGZyb20gdGhlIGluamVjdG9yIG9yIHRocm93cyBhbiBleGNlcHRpb25cbiAqL1xuZnVuY3Rpb24gbG9va3VwVG9rZW5Vc2luZ01vZHVsZUluamVjdG9yKGxWaWV3LCB0b2tlbiwgZmxhZ3MsIG5vdEZvdW5kVmFsdWUpIHtcbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCAmJiBub3RGb3VuZFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCBvciB0aGUgTnVsbEluamVjdG9yIHdpbGwgdGhyb3cgZm9yIG9wdGlvbmFsIGRlcHNcbiAgICAgICAgbm90Rm91bmRWYWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIGlmICgoZmxhZ3MgJiAoSW5qZWN0RmxhZ3MuU2VsZiB8IEluamVjdEZsYWdzLkhvc3QpKSA9PT0gMCkge1xuICAgICAgICBjb25zdCBtb2R1bGVJbmplY3RvciA9IGxWaWV3W0lOSkVDVE9SJDFdO1xuICAgICAgICAvLyBzd2l0Y2ggdG8gYGluamVjdEluamVjdG9yT25seWAgaW1wbGVtZW50YXRpb24gZm9yIG1vZHVsZSBpbmplY3Rvciwgc2luY2UgbW9kdWxlIGluamVjdG9yXG4gICAgICAgIC8vIHNob3VsZCBub3QgaGF2ZSBhY2Nlc3MgdG8gQ29tcG9uZW50L0RpcmVjdGl2ZSBESSBzY29wZSAodGhhdCBtYXkgaGFwcGVuIHRocm91Z2hcbiAgICAgICAgLy8gYGRpcmVjdGl2ZUluamVjdGAgaW1wbGVtZW50YXRpb24pXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbih1bmRlZmluZWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKG1vZHVsZUluamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3RGb3VuZFZhbHVlT3JUaHJvdyhub3RGb3VuZFZhbHVlLCB0b2tlbiwgZmxhZ3MpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHRvIHRoZSBnaXZlbiB0b2tlbiBmcm9tIHRoZSBOb2RlSW5qZWN0b3JzID0+IE1vZHVsZUluamVjdG9yLlxuICpcbiAqIExvb2sgZm9yIHRoZSBpbmplY3RvciBwcm92aWRpbmcgdGhlIHRva2VuIGJ5IHdhbGtpbmcgdXAgdGhlIG5vZGUgaW5qZWN0b3IgdHJlZSBhbmQgdGhlblxuICogdGhlIG1vZHVsZSBpbmplY3RvciB0cmVlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcGF0Y2hlcyBgdG9rZW5gIHdpdGggYF9fTkdfRUxFTUVOVF9JRF9fYCB3aGljaCBjb250YWlucyB0aGUgaWQgZm9yIHRoZSBibG9vbVxuICogZmlsdGVyLiBgLTFgIGlzIHJlc2VydmVkIGZvciBpbmplY3RpbmcgYEluamVjdG9yYCAoaW1wbGVtZW50ZWQgYnkgYE5vZGVJbmplY3RvcmApXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBOb2RlIHdoZXJlIHRoZSBzZWFyY2ggZm9yIHRoZSBpbmplY3RvciBzaG91bGQgc3RhcnRcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB0aGF0IGNvbnRhaW5zIHRoZSBgdE5vZGVgXG4gKiBAcGFyYW0gdG9rZW4gVGhlIHRva2VuIHRvIGxvb2sgZm9yXG4gKiBAcGFyYW0gZmxhZ3MgSW5qZWN0aW9uIGZsYWdzXG4gKiBAcGFyYW0gbm90Rm91bmRWYWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIHdoZW4gdGhlIGluamVjdGlvbiBmbGFncyBpcyBgSW5qZWN0RmxhZ3MuT3B0aW9uYWxgXG4gKiBAcmV0dXJucyB0aGUgdmFsdWUgZnJvbSB0aGUgaW5qZWN0b3IsIGBudWxsYCB3aGVuIG5vdCBmb3VuZCwgb3IgYG5vdEZvdW5kVmFsdWVgIGlmIHByb3ZpZGVkXG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlSW5qZWN0YWJsZSh0Tm9kZSwgbFZpZXcsIHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQsIG5vdEZvdW5kVmFsdWUpIHtcbiAgICBpZiAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgYmxvb21IYXNoID0gYmxvb21IYXNoQml0T3JGYWN0b3J5KHRva2VuKTtcbiAgICAgICAgLy8gSWYgdGhlIElEIHN0b3JlZCBoZXJlIGlzIGEgZnVuY3Rpb24sIHRoaXMgaXMgYSBzcGVjaWFsIG9iamVjdCBsaWtlIEVsZW1lbnRSZWYgb3IgVGVtcGxhdGVSZWZcbiAgICAgICAgLy8gc28ganVzdCBjYWxsIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBpdC5cbiAgICAgICAgaWYgKHR5cGVvZiBibG9vbUhhc2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmICghZW50ZXJESShsVmlldywgdE5vZGUsIGZsYWdzKSkge1xuICAgICAgICAgICAgICAgIC8vIEZhaWxlZCB0byBlbnRlciBESSwgdHJ5IG1vZHVsZSBpbmplY3RvciBpbnN0ZWFkLiBJZiBhIHRva2VuIGlzIGluamVjdGVkIHdpdGggdGhlIEBIb3N0XG4gICAgICAgICAgICAgICAgLy8gZmxhZywgdGhlIG1vZHVsZSBpbmplY3RvciBpcyBub3Qgc2VhcmNoZWQgZm9yIHRoYXQgdG9rZW4gaW4gSXZ5LlxuICAgICAgICAgICAgICAgIHJldHVybiAoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0KSA/XG4gICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kVmFsdWVPclRocm93KG5vdEZvdW5kVmFsdWUsIHRva2VuLCBmbGFncykgOlxuICAgICAgICAgICAgICAgICAgICBsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IobFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYmxvb21IYXNoKGZsYWdzKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBsZWF2ZURJKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJsb29tSGFzaCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyBpbmplY3RvciBUVmlldyB0aGF0IHdhcyBmb3VuZCB3aGlsZSBjbGltYmluZyB0aGUgZWxlbWVudFxuICAgICAgICAgICAgLy8gaW5qZWN0b3IgdHJlZS4gVGhpcyBpcyB1c2VkIHRvIGtub3cgaWYgdmlld1Byb3ZpZGVycyBjYW4gYmUgYWNjZXNzZWQgb24gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIGluamVjdG9yLlxuICAgICAgICAgICAgbGV0IHByZXZpb3VzVFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGluamVjdG9ySW5kZXggPSBnZXRJbmplY3RvckluZGV4KHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBsZXQgcGFyZW50TG9jYXRpb24gPSBOT19QQVJFTlRfSU5KRUNUT1I7XG4gICAgICAgICAgICBsZXQgaG9zdFRFbGVtZW50Tm9kZSA9IGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCA/IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXVtUX0hPU1RdIDogbnVsbDtcbiAgICAgICAgICAgIC8vIElmIHdlIHNob3VsZCBza2lwIHRoaXMgaW5qZWN0b3IsIG9yIGlmIHRoZXJlIGlzIG5vIGluamVjdG9yIG9uIHRoaXMgbm9kZSwgc3RhcnQgYnlcbiAgICAgICAgICAgIC8vIHNlYXJjaGluZyB0aGUgcGFyZW50IGluamVjdG9yLlxuICAgICAgICAgICAgaWYgKGluamVjdG9ySW5kZXggPT09IC0xIHx8IGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRMb2NhdGlvbiA9IGluamVjdG9ySW5kZXggPT09IC0xID8gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0Tm9kZSwgbFZpZXcpIDpcbiAgICAgICAgICAgICAgICAgICAgbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50TG9jYXRpb24gPT09IE5PX1BBUkVOVF9JTkpFQ1RPUiB8fCAhc2hvdWxkU2VhcmNoUGFyZW50KGZsYWdzLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUVmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYXZlcnNlIHVwIHRoZSBpbmplY3RvciB0cmVlIHVudGlsIHdlIGZpbmQgYSBwb3RlbnRpYWwgbWF0Y2ggb3IgdW50aWwgd2Uga25vdyB0aGVyZVxuICAgICAgICAgICAgLy8gKmlzbid0KiBhIG1hdGNoLlxuICAgICAgICAgICAgd2hpbGUgKGluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVJbmplY3RvcihsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGN1cnJlbnQgaW5qZWN0b3IuIElmIGl0IG1hdGNoZXMsIHNlZSBpZiBpdCBjb250YWlucyB0b2tlbi5cbiAgICAgICAgICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Vmlldy5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIGlmIChibG9vbUhhc1Rva2VuKGJsb29tSGFzaCwgaW5qZWN0b3JJbmRleCwgdFZpZXcuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSBhbiBpbmplY3RvciB3aGljaCAqbWF5KiBjb250YWluIHRoZSB0b2tlbiwgc28gd2Ugc3RlcCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwcm92aWRlcnMgYW5kIGRpcmVjdGl2ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmplY3RvcidzIGNvcnJlc3BvbmRpbmcgbm9kZSB0byBnZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGluc3RhbmNlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHNlYXJjaFRva2Vuc09uSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgbFZpZXcsIHRva2VuLCBwcmV2aW91c1RWaWV3LCBmbGFncywgaG9zdFRFbGVtZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50TG9jYXRpb24gPSBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiAhPT0gTk9fUEFSRU5UX0lOSkVDVE9SICYmXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNlYXJjaFBhcmVudChmbGFncywgbFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dID09PSBob3N0VEVsZW1lbnROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICBibG9vbUhhc1Rva2VuKGJsb29tSGFzaCwgaW5qZWN0b3JJbmRleCwgbFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWYgd2Fzbid0IGZvdW5kIGFueXdoZXJlIG9uIHRoaXMgbm9kZSwgc28gaXQgd2FzIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYXZlcnNlIHVwIHRoZSB0cmVlIGFuZCBjb250aW51ZSBzZWFyY2hpbmcuXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVFZpZXcgPSB0VmlldztcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2Ugc2hvdWxkIG5vdCBzZWFyY2ggcGFyZW50IE9SIElmIHRoZSBhbmNlc3RvciBibG9vbSBmaWx0ZXIgdmFsdWUgZG9lcyBub3QgaGF2ZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYml0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGRpcmVjdGl2ZSB3ZSBjYW4gZ2l2ZSB1cCBvbiB0cmF2ZXJzaW5nIHVwIHRvIGZpbmQgdGhlIHNwZWNpZmljXG4gICAgICAgICAgICAgICAgICAgIC8vIGluamVjdG9yLlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IobFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSk7XG59XG5jb25zdCBOT1RfRk9VTkQgPSB7fTtcbmZ1bmN0aW9uIGNyZWF0ZU5vZGVJbmplY3RvcigpIHtcbiAgICByZXR1cm4gbmV3IE5vZGVJbmplY3RvcihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG5mdW5jdGlvbiBzZWFyY2hUb2tlbnNPbkluamVjdG9yKGluamVjdG9ySW5kZXgsIGxWaWV3LCB0b2tlbiwgcHJldmlvdXNUVmlldywgZmxhZ3MsIGhvc3RURWxlbWVudE5vZGUpIHtcbiAgICBjb25zdCBjdXJyZW50VFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3QgdE5vZGUgPSBjdXJyZW50VFZpZXcuZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL107XG4gICAgLy8gRmlyc3QsIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHZpZXcgcHJvdmlkZXJzIGNhbiBiZSBhY2Nlc3NlZCBieSB0aGUgc3RhcnRpbmcgZWxlbWVudC5cbiAgICAvLyBUaGVyZSBhcmUgdHdvIHBvc3NpYmlsaXRpZXNcbiAgICBjb25zdCBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzID0gcHJldmlvdXNUVmlldyA9PSBudWxsID9cbiAgICAgICAgLy8gMSkgVGhpcyBpcyB0aGUgZmlyc3QgaW52b2NhdGlvbiBgcHJldmlvdXNUVmlldyA9PSBudWxsYCB3aGljaCBtZWFucyB0aGF0IHdlIGFyZSBhdCB0aGVcbiAgICAgICAgLy8gYFROb2RlYCBvZiB3aGVyZSBpbmplY3RvciBpcyBzdGFydGluZyB0byBsb29rLiBJbiBzdWNoIGEgY2FzZSB0aGUgb25seSB0aW1lIHdlIGFyZSBhbGxvd2VkXG4gICAgICAgIC8vIHRvIGxvb2sgaW50byB0aGUgVmlld1Byb3ZpZGVycyBpcyBpZjpcbiAgICAgICAgLy8gLSB3ZSBhcmUgb24gYSBjb21wb25lbnRcbiAgICAgICAgLy8gLSBBTkQgdGhlIGluamVjdG9yIHNldCBgaW5jbHVkZVZpZXdQcm92aWRlcnNgIHRvIHRydWUgKGltcGx5aW5nIHRoYXQgdGhlIHRva2VuIGNhbiBzZWVcbiAgICAgICAgLy8gVmlld1Byb3ZpZGVycyBiZWNhdXNlIGl0IGlzIHRoZSBDb21wb25lbnQgb3IgYSBTZXJ2aWNlIHdoaWNoIGl0c2VsZiB3YXMgZGVjbGFyZWQgaW5cbiAgICAgICAgLy8gVmlld1Byb3ZpZGVycylcbiAgICAgICAgKGlzQ29tcG9uZW50SG9zdCh0Tm9kZSkgJiYgaW5jbHVkZVZpZXdQcm92aWRlcnMpIDpcbiAgICAgICAgLy8gMikgYHByZXZpb3VzVFZpZXcgIT0gbnVsbGAgd2hpY2ggbWVhbnMgdGhhdCB3ZSBhcmUgbm93IHdhbGtpbmcgYWNyb3NzIHRoZSBwYXJlbnQgbm9kZXMuXG4gICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlIHdlIGFyZSBvbmx5IGFsbG93ZWQgdG8gbG9vayBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzIGlmOlxuICAgICAgICAvLyAtIFdlIGp1c3QgY3Jvc3NlZCBmcm9tIGNoaWxkIFZpZXcgdG8gUGFyZW50IFZpZXcgYHByZXZpb3VzVFZpZXcgIT0gY3VycmVudFRWaWV3YFxuICAgICAgICAvLyAtIEFORCB0aGUgcGFyZW50IFROb2RlIGlzIGFuIEVsZW1lbnQuXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBqdXN0IGNhbWUgZnJvbSB0aGUgQ29tcG9uZW50J3MgVmlldyBhbmQgdGhlcmVmb3JlIGFyZSBhbGxvd2VkIHRvIHNlZVxuICAgICAgICAvLyBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzLlxuICAgICAgICAocHJldmlvdXNUVmlldyAhPSBjdXJyZW50VFZpZXcgJiYgKCh0Tm9kZS50eXBlICYgMyAvKiBBbnlSTm9kZSAqLykgIT09IDApKTtcbiAgICAvLyBUaGlzIHNwZWNpYWwgY2FzZSBoYXBwZW5zIHdoZW4gdGhlcmUgaXMgYSBAaG9zdCBvbiB0aGUgaW5qZWN0IGFuZCB3aGVuIHdlIGFyZSBzZWFyY2hpbmdcbiAgICAvLyBvbiB0aGUgaG9zdCBlbGVtZW50IG5vZGUuXG4gICAgY29uc3QgaXNIb3N0U3BlY2lhbENhc2UgPSAoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0KSAmJiBob3N0VEVsZW1lbnROb2RlID09PSB0Tm9kZTtcbiAgICBjb25zdCBpbmplY3RhYmxlSWR4ID0gbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgY3VycmVudFRWaWV3LCB0b2tlbiwgY2FuQWNjZXNzVmlld1Byb3ZpZGVycywgaXNIb3N0U3BlY2lhbENhc2UpO1xuICAgIGlmIChpbmplY3RhYmxlSWR4ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgY3VycmVudFRWaWV3LCBpbmplY3RhYmxlSWR4LCB0Tm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTk9UX0ZPVU5EO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoZXMgZm9yIHRoZSBnaXZlbiB0b2tlbiBhbW9uZyB0aGUgbm9kZSdzIGRpcmVjdGl2ZXMgYW5kIHByb3ZpZGVycy5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVE5vZGUgb24gd2hpY2ggZGlyZWN0aXZlcyBhcmUgcHJlc2VudC5cbiAqIEBwYXJhbSB0VmlldyBUaGUgdFZpZXcgd2UgYXJlIGN1cnJlbnRseSBwcm9jZXNzaW5nXG4gKiBAcGFyYW0gdG9rZW4gUHJvdmlkZXIgdG9rZW4gb3IgdHlwZSBvZiBhIGRpcmVjdGl2ZSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzIFdoZXRoZXIgdmlldyBwcm92aWRlcnMgc2hvdWxkIGJlIGNvbnNpZGVyZWQuXG4gKiBAcGFyYW0gaXNIb3N0U3BlY2lhbENhc2UgV2hldGhlciB0aGUgaG9zdCBzcGVjaWFsIGNhc2UgYXBwbGllcy5cbiAqIEByZXR1cm5zIEluZGV4IG9mIGEgZm91bmQgZGlyZWN0aXZlIG9yIHByb3ZpZGVyLCBvciBudWxsIHdoZW4gbm9uZSBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIHRva2VuLCBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzLCBpc0hvc3RTcGVjaWFsQ2FzZSkge1xuICAgIGNvbnN0IG5vZGVQcm92aWRlckluZGV4ZXMgPSB0Tm9kZS5wcm92aWRlckluZGV4ZXM7XG4gICAgY29uc3QgdEluamVjdGFibGVzID0gdFZpZXcuZGF0YTtcbiAgICBjb25zdCBpbmplY3RhYmxlc1N0YXJ0ID0gbm9kZVByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgY29uc3QgZGlyZWN0aXZlc1N0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGNvbnN0IGNwdFZpZXdQcm92aWRlcnNDb3VudCA9IG5vZGVQcm92aWRlckluZGV4ZXMgPj4gMjAgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnQgKi87XG4gICAgY29uc3Qgc3RhcnRpbmdJbmRleCA9IGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgPyBpbmplY3RhYmxlc1N0YXJ0IDogaW5qZWN0YWJsZXNTdGFydCArIGNwdFZpZXdQcm92aWRlcnNDb3VudDtcbiAgICAvLyBXaGVuIHRoZSBob3N0IHNwZWNpYWwgY2FzZSBhcHBsaWVzLCBvbmx5IHRoZSB2aWV3UHJvdmlkZXJzIGFuZCB0aGUgY29tcG9uZW50IGFyZSB2aXNpYmxlXG4gICAgY29uc3QgZW5kSW5kZXggPSBpc0hvc3RTcGVjaWFsQ2FzZSA/IGluamVjdGFibGVzU3RhcnQgKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQgOiBkaXJlY3RpdmVFbmQ7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0aW5nSW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyVG9rZW5PckRlZiA9IHRJbmplY3RhYmxlc1tpXTtcbiAgICAgICAgaWYgKGkgPCBkaXJlY3RpdmVzU3RhcnQgJiYgdG9rZW4gPT09IHByb3ZpZGVyVG9rZW5PckRlZiB8fFxuICAgICAgICAgICAgaSA+PSBkaXJlY3RpdmVzU3RhcnQgJiYgcHJvdmlkZXJUb2tlbk9yRGVmLnR5cGUgPT09IHRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNIb3N0U3BlY2lhbENhc2UpIHtcbiAgICAgICAgY29uc3QgZGlyRGVmID0gdEluamVjdGFibGVzW2RpcmVjdGl2ZXNTdGFydF07XG4gICAgICAgIGlmIChkaXJEZWYgJiYgaXNDb21wb25lbnREZWYoZGlyRGVmKSAmJiBkaXJEZWYudHlwZSA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzU3RhcnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlIG9yIGluc3RhbnRpYXRlIHRoZSBpbmplY3RhYmxlIGZyb20gdGhlIGBMVmlld2AgYXQgcGFydGljdWxhciBgaW5kZXhgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGFscmVhZHkgYmVlbiBpbnN0YW50aWF0ZWQgYW5kIGlmIHNvIHJldHVybnMgdGhlXG4gKiBjYWNoZWQgYGluamVjdGFibGVgLiBPdGhlcndpc2UgaWYgaXQgZGV0ZWN0cyB0aGF0IHRoZSB2YWx1ZSBpcyBzdGlsbCBhIGZhY3RvcnkgaXRcbiAqIGluc3RhbnRpYXRlcyB0aGUgYGluamVjdGFibGVgIGFuZCBjYWNoZXMgdGhlIHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgdFZpZXcsIGluZGV4LCB0Tm9kZSkge1xuICAgIGxldCB2YWx1ZSA9IGxWaWV3W2luZGV4XTtcbiAgICBjb25zdCB0RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgaWYgKGlzRmFjdG9yeSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHZhbHVlO1xuICAgICAgICBpZiAoZmFjdG9yeS5yZXNvbHZpbmcpIHtcbiAgICAgICAgICAgIHRocm93Q3ljbGljRGVwZW5kZW5jeUVycm9yKHN0cmluZ2lmeUZvckVycm9yKHREYXRhW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMgPSBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhmYWN0b3J5LmNhblNlZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICBmYWN0b3J5LnJlc29sdmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBmYWN0b3J5LmluamVjdEltcGwgPyBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihmYWN0b3J5LmluamVjdEltcGwpIDogbnVsbDtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGVudGVyREkobFZpZXcsIHROb2RlLCBJbmplY3RGbGFncy5EZWZhdWx0KTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRFcXVhbChzdWNjZXNzLCB0cnVlLCAnQmVjYXVzZSBmbGFncyBkbyBub3QgY29udGFpbiBcXGBTa2lwU2VsZlxcJyB3ZSBleHBlY3QgdGhpcyB0byBhbHdheXMgc3VjY2VlZC4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gbFZpZXdbaW5kZXhdID0gZmFjdG9yeS5mYWN0b3J5KHVuZGVmaW5lZCwgdERhdGEsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgICAgICAvLyBUaGlzIGNvZGUgcGF0aCBpcyBoaXQgZm9yIGJvdGggZGlyZWN0aXZlcyBhbmQgcHJvdmlkZXJzLlxuICAgICAgICAgICAgLy8gRm9yIHBlcmYgcmVhc29ucywgd2Ugd2FudCB0byBhdm9pZCBzZWFyY2hpbmcgZm9yIGhvb2tzIG9uIHByb3ZpZGVycy5cbiAgICAgICAgICAgIC8vIEl0IGRvZXMgbm8gaGFybSB0byB0cnkgKHRoZSBob29rcyBqdXN0IHdvbid0IGV4aXN0KSwgYnV0IHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gY2hlY2tzIGFyZSB1bm5lY2Vzc2FyeSBhbmQgdGhpcyBpcyBhIGhvdCBwYXRoLiBTbyB3ZSBjaGVjayB0byBzZWVcbiAgICAgICAgICAgIC8vIGlmIHRoZSBpbmRleCBvZiB0aGUgZGVwZW5kZW5jeSBpcyBpbiB0aGUgZGlyZWN0aXZlIHJhbmdlIGZvciB0aGlzXG4gICAgICAgICAgICAvLyB0Tm9kZS4gSWYgaXQncyBub3QsIHdlIGtub3cgaXQncyBhIHByb3ZpZGVyIGFuZCBza2lwIGhvb2sgcmVnaXN0cmF0aW9uLlxuICAgICAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJiBpbmRleCA+PSB0Tm9kZS5kaXJlY3RpdmVTdGFydCkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREaXJlY3RpdmVEZWYodERhdGFbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICByZWdpc3RlclByZU9yZGVySG9va3MoaW5kZXgsIHREYXRhW2luZGV4XSwgdFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgc2V0SW5jbHVkZVZpZXdQcm92aWRlcnMocHJldmlvdXNJbmNsdWRlVmlld1Byb3ZpZGVycyk7XG4gICAgICAgICAgICBmYWN0b3J5LnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgbGVhdmVESSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgYml0IGluIGFuIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90XG4gKiB0aGUgZGlyZWN0aXZlIG1pZ2h0IGJlIHByb3ZpZGVkIGJ5IHRoZSBpbmplY3Rvci5cbiAqXG4gKiBXaGVuIGEgZGlyZWN0aXZlIGlzIHB1YmxpYywgaXQgaXMgYWRkZWQgdG8gdGhlIGJsb29tIGZpbHRlciBhbmQgZ2l2ZW4gYSB1bmlxdWUgSUQgdGhhdCBjYW4gYmVcbiAqIHJldHJpZXZlZCBvbiB0aGUgVHlwZS4gV2hlbiB0aGUgZGlyZWN0aXZlIGlzbid0IHB1YmxpYyBvciB0aGUgdG9rZW4gaXMgbm90IGEgZGlyZWN0aXZlIGBudWxsYFxuICogaXMgcmV0dXJuZWQgYXMgdGhlIG5vZGUgaW5qZWN0b3IgY2FuIG5vdCBwb3NzaWJseSBwcm92aWRlIHRoYXQgdG9rZW4uXG4gKlxuICogQHBhcmFtIHRva2VuIHRoZSBpbmplY3Rpb24gdG9rZW5cbiAqIEByZXR1cm5zIHRoZSBtYXRjaGluZyBiaXQgdG8gY2hlY2sgaW4gdGhlIGJsb29tIGZpbHRlciBvciBgbnVsbGAgaWYgdGhlIHRva2VuIGlzIG5vdCBrbm93bi5cbiAqICAgV2hlbiB0aGUgcmV0dXJuZWQgdmFsdWUgaXMgbmVnYXRpdmUgdGhlbiBpdCByZXByZXNlbnRzIHNwZWNpYWwgdmFsdWVzIHN1Y2ggYXMgYEluamVjdG9yYC5cbiAqL1xuZnVuY3Rpb24gYmxvb21IYXNoQml0T3JGYWN0b3J5KHRva2VuKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodG9rZW4sICd0b2tlbiBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdG9rZW4uY2hhckNvZGVBdCgwKSB8fCAwO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbklkID0gXG4gICAgLy8gRmlyc3QgY2hlY2sgd2l0aCBgaGFzT3duUHJvcGVydHlgIHNvIHdlIGRvbid0IGdldCBhbiBpbmhlcml0ZWQgSUQuXG4gICAgdG9rZW4uaGFzT3duUHJvcGVydHkoTkdfRUxFTUVOVF9JRCkgPyB0b2tlbltOR19FTEVNRU5UX0lEXSA6IHVuZGVmaW5lZDtcbiAgICAvLyBOZWdhdGl2ZSB0b2tlbiBJRHMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgb2JqZWN0cyBzdWNoIGFzIGBJbmplY3RvcmBcbiAgICBpZiAodHlwZW9mIHRva2VuSWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICh0b2tlbklkID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbklkICYgQkxPT01fTUFTSztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHRva2VuSWQsIC0xIC8qIEluamVjdG9yICovLCAnRXhwZWN0aW5nIHRvIGdldCBTcGVjaWFsIEluamVjdG9yIElkJyk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTm9kZUluamVjdG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9rZW5JZDtcbiAgICB9XG59XG5mdW5jdGlvbiBibG9vbUhhc1Rva2VuKGJsb29tSGFzaCwgaW5qZWN0b3JJbmRleCwgaW5qZWN0b3JWaWV3KSB7XG4gICAgLy8gQ3JlYXRlIGEgbWFzayB0aGF0IHRhcmdldHMgdGhlIHNwZWNpZmljIGJpdCBhc3NvY2lhdGVkIHdpdGggdGhlIGRpcmVjdGl2ZSB3ZSdyZSBsb29raW5nIGZvci5cbiAgICAvLyBKUyBiaXQgb3BlcmF0aW9ucyBhcmUgMzIgYml0cywgc28gdGhpcyB3aWxsIGJlIGEgbnVtYmVyIGJldHdlZW4gMl4wIGFuZCAyXjMxLCBjb3JyZXNwb25kaW5nXG4gICAgLy8gdG8gYml0IHBvc2l0aW9ucyAwIC0gMzEgaW4gYSAzMiBiaXQgaW50ZWdlci5cbiAgICBjb25zdCBtYXNrID0gMSA8PCBibG9vbUhhc2g7XG4gICAgLy8gRWFjaCBibG9vbSBidWNrZXQgaW4gYGluamVjdG9yVmlld2AgcmVwcmVzZW50cyBgQkxPT01fQlVDS0VUX0JJVFNgIG51bWJlciBvZiBiaXRzIG9mXG4gICAgLy8gYGJsb29tSGFzaGAuIEFueSBiaXRzIGluIGBibG9vbUhhc2hgIGJleW9uZCBgQkxPT01fQlVDS0VUX0JJVFNgIGluZGljYXRlIHRoZSBidWNrZXQgb2Zmc2V0XG4gICAgLy8gdGhhdCBzaG91bGQgYmUgdXNlZC5cbiAgICBjb25zdCB2YWx1ZSA9IGluamVjdG9yVmlld1tpbmplY3RvckluZGV4ICsgKGJsb29tSGFzaCA+PiBCTE9PTV9CVUNLRVRfQklUUyldO1xuICAgIC8vIElmIHRoZSBibG9vbSBmaWx0ZXIgdmFsdWUgaGFzIHRoZSBiaXQgY29ycmVzcG9uZGluZyB0byB0aGUgZGlyZWN0aXZlJ3MgYmxvb21CaXQgZmxpcHBlZCBvbixcbiAgICAvLyB0aGlzIGluamVjdG9yIGlzIGEgcG90ZW50aWFsIG1hdGNoLlxuICAgIHJldHVybiAhISh2YWx1ZSAmIG1hc2spO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiBmbGFncyBwcmV2ZW50IHBhcmVudCBpbmplY3RvciBmcm9tIGJlaW5nIHNlYXJjaGVkIGZvciB0b2tlbnMgKi9cbmZ1bmN0aW9uIHNob3VsZFNlYXJjaFBhcmVudChmbGFncywgaXNGaXJzdEhvc3RUTm9kZSkge1xuICAgIHJldHVybiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2VsZikgJiYgIShmbGFncyAmIEluamVjdEZsYWdzLkhvc3QgJiYgaXNGaXJzdEhvc3RUTm9kZSk7XG59XG5jbGFzcyBOb2RlSW5qZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKF90Tm9kZSwgX2xWaWV3KSB7XG4gICAgICAgIHRoaXMuX3ROb2RlID0gX3ROb2RlO1xuICAgICAgICB0aGlzLl9sVmlldyA9IF9sVmlldztcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgICAgICByZXR1cm4gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHRoaXMuX3ROb2RlLCB0aGlzLl9sVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKTtcbiAgICB9XG59XG4vKipcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVnZXRJbmhlcml0ZWRGYWN0b3J5KHR5cGUpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG93bkNvbnN0cnVjdG9yID0gdHlwZS5wcm90b3R5cGUuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IG93bkZhY3RvcnkgPSBvd25Db25zdHJ1Y3RvcltOR19GQUNUT1JZX0RFRl0gfHwgZ2V0RmFjdG9yeU9mKG93bkNvbnN0cnVjdG9yKTtcbiAgICAgICAgY29uc3Qgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICAgICAgbGV0IHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG4gICAgICAgIC8vIEdvIHVwIHRoZSBwcm90b3R5cGUgdW50aWwgd2UgaGl0IGBPYmplY3RgLlxuICAgICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcGFyZW50W05HX0ZBQ1RPUllfREVGXSB8fCBnZXRGYWN0b3J5T2YocGFyZW50KTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhpdCBzb21ldGhpbmcgdGhhdCBoYXMgYSBmYWN0b3J5IGFuZCB0aGUgZmFjdG9yeSBpc24ndCB0aGUgc2FtZSBhcyB0aGUgdHlwZSxcbiAgICAgICAgICAgIC8vIHdlJ3ZlIGZvdW5kIHRoZSBpbmhlcml0ZWQgZmFjdG9yeS4gTm90ZSB0aGUgY2hlY2sgdGhhdCB0aGUgZmFjdG9yeSBpc24ndCB0aGUgdHlwZSdzXG4gICAgICAgICAgICAvLyBvd24gZmFjdG9yeSBpcyByZWR1bmRhbnQgaW4gbW9zdCBjYXNlcywgYnV0IGlmIHRoZSB1c2VyIGhhcyBjdXN0b20gZGVjb3JhdG9ycyBvbiB0aGVcbiAgICAgICAgICAgIC8vIGNsYXNzLCB0aGlzIGxvb2t1cCB3aWxsIHN0YXJ0IG9uZSBsZXZlbCBkb3duIGluIHRoZSBwcm90b3R5cGUgY2hhaW4sIGNhdXNpbmcgdXMgdG9cbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIG93biBmYWN0b3J5IGZpcnN0IGFuZCBwb3RlbnRpYWxseSB0cmlnZ2VyaW5nIGFuIGluZmluaXRlIGxvb3AgZG93bnN0cmVhbS5cbiAgICAgICAgICAgIGlmIChmYWN0b3J5ICYmIGZhY3RvcnkgIT09IG93bkZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGZhY3RvcnkgZGVmaW5lZC4gRWl0aGVyIHRoaXMgd2FzIGltcHJvcGVyIHVzYWdlIG9mIGluaGVyaXRhbmNlXG4gICAgICAgIC8vIChubyBBbmd1bGFyIGRlY29yYXRvciBvbiB0aGUgc3VwZXJjbGFzcykgb3IgdGhlcmUgaXMgbm8gY29uc3RydWN0b3IgYXQgYWxsXG4gICAgICAgIC8vIGluIHRoZSBpbmhlcml0YW5jZSBjaGFpbi4gU2luY2UgdGhlIHR3byBjYXNlcyBjYW5ub3QgYmUgZGlzdGluZ3Vpc2hlZCwgdGhlXG4gICAgICAgIC8vIGxhdHRlciBoYXMgdG8gYmUgYXNzdW1lZC5cbiAgICAgICAgcmV0dXJuIHQgPT4gbmV3IHQoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldEZhY3RvcnlPZih0eXBlKSB7XG4gICAgaWYgKGlzRm9yd2FyZFJlZih0eXBlKSkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IGdldEZhY3RvcnlPZihyZXNvbHZlRm9yd2FyZFJlZih0eXBlKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeSAmJiBmYWN0b3J5KCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBnZXRGYWN0b3J5RGVmKHR5cGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmFjYWRlIGZvciB0aGUgYXR0cmlidXRlIGluamVjdGlvbiBmcm9tIERJLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpbmplY3RBdHRyaWJ1dGUoYXR0ck5hbWVUb0luamVjdCkge1xuICAgIHJldHVybiBpbmplY3RBdHRyaWJ1dGVJbXBsKGdldEN1cnJlbnRUTm9kZSgpLCBhdHRyTmFtZVRvSW5qZWN0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBBTk5PVEFUSU9OUyA9ICdfX2Fubm90YXRpb25zX18nO1xuY29uc3QgUEFSQU1FVEVSUyA9ICdfX3BhcmFtZXRlcnNfXyc7XG5jb25zdCBQUk9QX01FVEFEQVRBID0gJ19fcHJvcF9fbWV0YWRhdGFfXyc7XG4vKipcbiAqIEBzdXBwcmVzcyB7Z2xvYmFsVGhpc31cbiAqL1xuZnVuY3Rpb24gbWFrZURlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MsIGFkZGl0aW9uYWxQcm9jZXNzaW5nLCB0eXBlRm4pIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRvckZhY3RvcnkoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBEZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgbWV0YUN0b3IuY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25JbnN0YW5jZSA9IG5ldyBEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIFR5cGVEZWNvcmF0b3IoY2xzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVGbilcbiAgICAgICAgICAgICAgICAgICAgdHlwZUZuKGNscywgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgc2luY2UgaXQgY3JlYXRlcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB3aGljaFxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBwcm9wZXJ0eSBpcyBjb3BpZWQgZHVyaW5nIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25zID0gY2xzLmhhc093blByb3BlcnR5KEFOTk9UQVRJT05TKSA/XG4gICAgICAgICAgICAgICAgICAgIGNsc1tBTk5PVEFUSU9OU10gOlxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xzLCBBTk5PVEFUSU9OUywgeyB2YWx1ZTogW10gfSlbQU5OT1RBVElPTlNdO1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbFByb2Nlc3NpbmcpXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9jZXNzaW5nKGNscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICBEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZSA9IG5hbWU7XG4gICAgICAgIERlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IERlY29yYXRvckZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBEZWNvcmF0b3JGYWN0b3J5O1xuICAgIH0pO1xufVxuZnVuY3Rpb24gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBwcm9wcyguLi5hcmdzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSB2YWx1ZXNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1ha2VQYXJhbURlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgICAgIGZ1bmN0aW9uIFBhcmFtRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFBhcmFtRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIG1ldGFDdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbkluc3RhbmNlID0gbmV3IFBhcmFtRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKTtcbiAgICAgICAgICAgIFBhcmFtRGVjb3JhdG9yLmFubm90YXRpb24gPSBhbm5vdGF0aW9uSW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3I7XG4gICAgICAgICAgICBmdW5jdGlvbiBQYXJhbURlY29yYXRvcihjbHMsIHVudXNlZEtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGlzIGltcG9ydGFudCBzaW5jZSBpdCBjcmVhdGVzIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIHByb3BlcnR5IGlzIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IGNscy5oYXNPd25Qcm9wZXJ0eShQQVJBTUVURVJTKSA/XG4gICAgICAgICAgICAgICAgICAgIGNsc1tQQVJBTUVURVJTXSA6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbHMsIFBBUkFNRVRFUlMsIHsgdmFsdWU6IFtdIH0pW1BBUkFNRVRFUlNdO1xuICAgICAgICAgICAgICAgIC8vIHRoZXJlIG1pZ2h0IGJlIGdhcHMgaWYgc29tZSBpbiBiZXR3ZWVuIHBhcmFtZXRlcnMgZG8gbm90IGhhdmUgYW5ub3RhdGlvbnMuXG4gICAgICAgICAgICAgICAgLy8gd2UgcGFkIHdpdGggbnVsbHMuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhcmFtZXRlcnMubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHBhcmFtZXRlcnNbaW5kZXhdID0gcGFyYW1ldGVyc1tpbmRleF0gfHwgW10pLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICAgICAgUGFyYW1EZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICAgICAgUGFyYW1EZWNvcmF0b3JGYWN0b3J5LmFubm90YXRpb25DbHMgPSBQYXJhbURlY29yYXRvckZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBQYXJhbURlY29yYXRvckZhY3Rvcnk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtYWtlUHJvcERlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MsIGFkZGl0aW9uYWxQcm9jZXNzaW5nKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgICAgICBmdW5jdGlvbiBQcm9wRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb3BEZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgbWV0YUN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZWNvcmF0b3JJbnN0YW5jZSA9IG5ldyBQcm9wRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3IodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3IgPSB0YXJnZXQuY29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgYmVjYXVzZSBpdCBjcmVhdGVzIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBwcmV2ZW50cyB0aGUgcHJvcGVydHkgZnJvbSBiZWluZyBjb3BpZWQgZHVyaW5nIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShQUk9QX01FVEFEQVRBKSA/XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yW1BST1BfTUVUQURBVEFdIDpcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCBQUk9QX01FVEFEQVRBLCB7IHZhbHVlOiB7fSB9KVtQUk9QX01FVEFEQVRBXTtcbiAgICAgICAgICAgICAgICBtZXRhW25hbWVdID0gbWV0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBtZXRhW25hbWVdIHx8IFtdO1xuICAgICAgICAgICAgICAgIG1ldGFbbmFtZV0udW5zaGlmdChkZWNvcmF0b3JJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxQcm9jZXNzaW5nKVxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvY2Vzc2luZyh0YXJnZXQsIG5hbWUsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb3BEZWNvcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudENsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgUHJvcERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICAgICAgUHJvcERlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IFByb3BEZWNvcmF0b3JGYWN0b3J5O1xuICAgICAgICByZXR1cm4gUHJvcERlY29yYXRvckZhY3Rvcnk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBdHRyaWJ1dGUgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBdHRyaWJ1dGUgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ0F0dHJpYnV0ZScsIChhdHRyaWJ1dGVOYW1lKSA9PiAoeyBhdHRyaWJ1dGVOYW1lLCBfX05HX0VMRU1FTlRfSURfXzogKCkgPT4gybXJtWluamVjdEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSB9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBpbiBhIERJIFByb3ZpZGVyLlxuICpcbiAqIFVzZSBhbiBgSW5qZWN0aW9uVG9rZW5gIHdoZW5ldmVyIHRoZSB0eXBlIHlvdSBhcmUgaW5qZWN0aW5nIGlzIG5vdCByZWlmaWVkIChkb2VzIG5vdCBoYXZlIGFcbiAqIHJ1bnRpbWUgcmVwcmVzZW50YXRpb24pIHN1Y2ggYXMgd2hlbiBpbmplY3RpbmcgYW4gaW50ZXJmYWNlLCBjYWxsYWJsZSB0eXBlLCBhcnJheSBvclxuICogcGFyYW1ldGVyaXplZCB0eXBlLlxuICpcbiAqIGBJbmplY3Rpb25Ub2tlbmAgaXMgcGFyYW1ldGVyaXplZCBvbiBgVGAgd2hpY2ggaXMgdGhlIHR5cGUgb2Ygb2JqZWN0IHdoaWNoIHdpbGwgYmUgcmV0dXJuZWQgYnlcbiAqIHRoZSBgSW5qZWN0b3JgLiBUaGlzIHByb3ZpZGVzIGFuIGFkZGl0aW9uYWwgbGV2ZWwgb2YgdHlwZSBzYWZldHkuXG4gKlxuICogYGBgXG4gKiBpbnRlcmZhY2UgTXlJbnRlcmZhY2Ugey4uLn1cbiAqIGNvbnN0IG15SW50ZXJmYWNlID0gaW5qZWN0b3IuZ2V0KG5ldyBJbmplY3Rpb25Ub2tlbjxNeUludGVyZmFjZT4oJ1NvbWVUb2tlbicpKTtcbiAqIC8vIG15SW50ZXJmYWNlIGlzIGluZmVycmVkIHRvIGJlIE15SW50ZXJmYWNlLlxuICogYGBgXG4gKlxuICogV2hlbiBjcmVhdGluZyBhbiBgSW5qZWN0aW9uVG9rZW5gLCB5b3UgY2FuIG9wdGlvbmFsbHkgc3BlY2lmeSBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggcmV0dXJuc1xuICogKHBvc3NpYmx5IGJ5IGNyZWF0aW5nKSBhIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHBhcmFtZXRlcml6ZWQgdHlwZSBgVGAuIFRoaXMgc2V0cyB1cCB0aGVcbiAqIGBJbmplY3Rpb25Ub2tlbmAgdXNpbmcgdGhpcyBmYWN0b3J5IGFzIGEgcHJvdmlkZXIgYXMgaWYgaXQgd2FzIGRlZmluZWQgZXhwbGljaXRseSBpbiB0aGVcbiAqIGFwcGxpY2F0aW9uJ3Mgcm9vdCBpbmplY3Rvci4gSWYgdGhlIGZhY3RvcnkgZnVuY3Rpb24sIHdoaWNoIHRha2VzIHplcm8gYXJndW1lbnRzLCBuZWVkcyB0byBpbmplY3RcbiAqIGRlcGVuZGVuY2llcywgaXQgY2FuIGRvIHNvIHVzaW5nIHRoZSBgaW5qZWN0YCBmdW5jdGlvbi5cbiAqIEFzIHlvdSBjYW4gc2VlIGluIHRoZSBUcmVlLXNoYWthYmxlIEluamVjdGlvblRva2VuIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogQWRkaXRpb25hbGx5LCBpZiBhIGBmYWN0b3J5YCBpcyBzcGVjaWZpZWQgeW91IGNhbiBhbHNvIHNwZWNpZnkgdGhlIGBwcm92aWRlZEluYCBvcHRpb24sIHdoaWNoXG4gKiBvdmVycmlkZXMgdGhlIGFib3ZlIGJlaGF2aW9yIGFuZCBtYXJrcyB0aGUgdG9rZW4gYXMgYmVsb25naW5nIHRvIGEgcGFydGljdWxhciBgQE5nTW9kdWxlYC4gQXNcbiAqIG1lbnRpb25lZCBhYm92ZSwgYCdyb290J2AgaXMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIGBwcm92aWRlZEluYC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEJhc2ljIEV4YW1wbGVzXG4gKlxuICogIyMjIFBsYWluIEluamVjdGlvblRva2VuXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J0luamVjdGlvblRva2VuJ31cbiAqXG4gKiAjIyMgVHJlZS1zaGFrYWJsZSBJbmplY3Rpb25Ub2tlblxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdTaGFrYWJsZUluamVjdGlvblRva2VuJ31cbiAqXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBJbmplY3Rpb25Ub2tlbiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIF9kZXNjICAgRGVzY3JpcHRpb24gZm9yIHRoZSB0b2tlbixcbiAgICAgKiAgICAgICAgICAgICAgICB1c2VkIG9ubHkgZm9yIGRlYnVnZ2luZyBwdXJwb3NlcyxcbiAgICAgKiAgICAgICAgICAgICAgICBpdCBzaG91bGQgYnV0IGRvZXMgbm90IG5lZWQgdG8gYmUgdW5pcXVlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIHRva2VuJ3MgdXNhZ2UsIGFzIGRlc2NyaWJlZCBhYm92ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9kZXNjLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Rlc2MgPSBfZGVzYztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLm5nTWV0YWRhdGFOYW1lID0gJ0luamVjdGlvblRva2VuJztcbiAgICAgICAgdGhpcy7JtXByb3YgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRMZXNzVGhhbihvcHRpb25zLCAwLCAnT25seSBuZWdhdGl2ZSBudW1iZXJzIGFyZSBzdXBwb3J0ZWQgaGVyZScpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNwZWNpYWwgaGFjayB0byBhc3NpZ24gX19OR19FTEVNRU5UX0lEX18gdG8gdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICAgIC8vIFNlZSBgSW5qZWN0b3JNYXJrZXJzYFxuICAgICAgICAgICAgdGhpcy5fX05HX0VMRU1FTlRfSURfXyA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHtcbiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcyxcbiAgICAgICAgICAgICAgICBwcm92aWRlZEluOiBvcHRpb25zLnByb3ZpZGVkSW4gfHwgJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIGZhY3Rvcnk6IG9wdGlvbnMuZmFjdG9yeSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYEluamVjdGlvblRva2VuICR7dGhpcy5fZGVzY31gO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgREkgdG9rZW4gdGhhdCB5b3UgY2FuIHVzZSB0byBjcmVhdGUgYSB2aXJ0dWFsIFtwcm92aWRlcl0oZ3VpZGUvZ2xvc3NhcnkjcHJvdmlkZXIpXG4gKiB0aGF0IHdpbGwgcG9wdWxhdGUgdGhlIGBlbnRyeUNvbXBvbmVudHNgIGZpZWxkIG9mIGNvbXBvbmVudHMgYW5kIE5nTW9kdWxlc1xuICogYmFzZWQgb24gaXRzIGB1c2VWYWx1ZWAgcHJvcGVydHkgdmFsdWUuXG4gKiBBbGwgY29tcG9uZW50cyB0aGF0IGFyZSByZWZlcmVuY2VkIGluIHRoZSBgdXNlVmFsdWVgIHZhbHVlIChlaXRoZXIgZGlyZWN0bHlcbiAqIG9yIGluIGEgbmVzdGVkIGFycmF5IG9yIG1hcCkgYXJlIGFkZGVkIHRvIHRoZSBgZW50cnlDb21wb25lbnRzYCBwcm9wZXJ0eS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdGhlIHJvdXRlciBjYW4gcG9wdWxhdGUgdGhlIGBlbnRyeUNvbXBvbmVudHNgXG4gKiBmaWVsZCBvZiBhbiBOZ01vZHVsZSBiYXNlZCBvbiBhIHJvdXRlciBjb25maWd1cmF0aW9uIHRoYXQgcmVmZXJzXG4gKiB0byBjb21wb25lbnRzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIGhlbHBlciBmdW5jdGlvbiBpbnNpZGUgdGhlIHJvdXRlclxuICogZnVuY3Rpb24gcHJvdmlkZVJvdXRlcyhyb3V0ZXMpIHtcbiAqICAgcmV0dXJuIFtcbiAqICAgICB7cHJvdmlkZTogUk9VVEVTLCB1c2VWYWx1ZTogcm91dGVzfSxcbiAqICAgICB7cHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgdXNlVmFsdWU6IHJvdXRlcywgbXVsdGk6IHRydWV9XG4gKiAgIF07XG4gKiB9XG4gKlxuICogLy8gdXNlciBjb2RlXG4gKiBsZXQgcm91dGVzID0gW1xuICogICB7cGF0aDogJy9yb290JywgY29tcG9uZW50OiBSb290Q29tcH0sXG4gKiAgIHtwYXRoOiAnL3RlYW1zJywgY29tcG9uZW50OiBUZWFtc0NvbXB9XG4gKiBdO1xuICpcbiAqIEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3Byb3ZpZGVSb3V0ZXMocm91dGVzKV1cbiAqIH0pXG4gKiBjbGFzcyBNb2R1bGVXaXRoUm91dGVzIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZGVwcmVjYXRlZCBTaW5jZSA5LjAuMC4gV2l0aCBJdnksIHRoaXMgcHJvcGVydHkgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeS5cbiAqL1xuY29uc3QgQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignQW5hbHl6ZUZvckVudHJ5Q29tcG9uZW50cycpO1xuLy8gU3RvcmVzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIGBlbWl0RGlzdGluY3RDaGFuZ2VzT25seWAgd2hlbiB0aGUgYGVtaXREaXN0aW5jdENoYW5nZXNPbmx5YCBpcyBub3Rcbi8vIGV4cGxpY2l0bHkgc2V0LlxuY29uc3QgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlEZWZhdWx0VmFsdWUgPSB0cnVlO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBxdWVyeSBtZXRhZGF0YS5cbiAqXG4gKiBAc2VlIGBDb250ZW50Q2hpbGRyZW5gLlxuICogQHNlZSBgQ29udGVudENoaWxkYC5cbiAqIEBzZWUgYFZpZXdDaGlsZHJlbmAuXG4gKiBAc2VlIGBWaWV3Q2hpbGRgLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUXVlcnkge1xufVxuLyoqXG4gKiBDb250ZW50Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ29udGVudENoaWxkcmVuID0gbWFrZVByb3BEZWNvcmF0b3IoJ0NvbnRlbnRDaGlsZHJlbicsIChzZWxlY3RvciwgZGF0YSA9IHt9KSA9PiAoT2JqZWN0LmFzc2lnbih7IHNlbGVjdG9yLCBmaXJzdDogZmFsc2UsIGlzVmlld1F1ZXJ5OiBmYWxzZSwgZGVzY2VuZGFudHM6IGZhbHNlLCBlbWl0RGlzdGluY3RDaGFuZ2VzT25seTogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlEZWZhdWx0VmFsdWUgfSwgZGF0YSkpLCBRdWVyeSk7XG4vKipcbiAqIENvbnRlbnRDaGlsZCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqXG4gKiBAQW5ub3RhdGlvblxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ29udGVudENoaWxkID0gbWFrZVByb3BEZWNvcmF0b3IoJ0NvbnRlbnRDaGlsZCcsIChzZWxlY3RvciwgZGF0YSA9IHt9KSA9PiAoT2JqZWN0LmFzc2lnbih7IHNlbGVjdG9yLCBmaXJzdDogdHJ1ZSwgaXNWaWV3UXVlcnk6IGZhbHNlLCBkZXNjZW5kYW50czogdHJ1ZSB9LCBkYXRhKSksIFF1ZXJ5KTtcbi8qKlxuICogVmlld0NoaWxkcmVuIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVmlld0NoaWxkcmVuID0gbWFrZVByb3BEZWNvcmF0b3IoJ1ZpZXdDaGlsZHJlbicsIChzZWxlY3RvciwgZGF0YSA9IHt9KSA9PiAoT2JqZWN0LmFzc2lnbih7IHNlbGVjdG9yLCBmaXJzdDogZmFsc2UsIGlzVmlld1F1ZXJ5OiB0cnVlLCBkZXNjZW5kYW50czogdHJ1ZSwgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk6IGVtaXREaXN0aW5jdENoYW5nZXNPbmx5RGVmYXVsdFZhbHVlIH0sIGRhdGEpKSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWaWV3Q2hpbGQgPSBtYWtlUHJvcERlY29yYXRvcignVmlld0NoaWxkJywgKHNlbGVjdG9yLCBkYXRhKSA9PiAoT2JqZWN0LmFzc2lnbih7IHNlbGVjdG9yLCBmaXJzdDogdHJ1ZSwgaXNWaWV3UXVlcnk6IHRydWUsIGRlc2NlbmRhbnRzOiB0cnVlIH0sIGRhdGEpKSwgUXVlcnkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBGYWN0b3J5VGFyZ2V0O1xuKGZ1bmN0aW9uIChGYWN0b3J5VGFyZ2V0KSB7XG4gICAgRmFjdG9yeVRhcmdldFtGYWN0b3J5VGFyZ2V0W1wiRGlyZWN0aXZlXCJdID0gMF0gPSBcIkRpcmVjdGl2ZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIkNvbXBvbmVudFwiXSA9IDFdID0gXCJDb21wb25lbnRcIjtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJJbmplY3RhYmxlXCJdID0gMl0gPSBcIkluamVjdGFibGVcIjtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJQaXBlXCJdID0gM10gPSBcIlBpcGVcIjtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJOZ01vZHVsZVwiXSA9IDRdID0gXCJOZ01vZHVsZVwiO1xufSkoRmFjdG9yeVRhcmdldCB8fCAoRmFjdG9yeVRhcmdldCA9IHt9KSk7XG52YXIgVmlld0VuY2Fwc3VsYXRpb247XG4oZnVuY3Rpb24gKFZpZXdFbmNhcHN1bGF0aW9uKSB7XG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJFbXVsYXRlZFwiXSA9IDBdID0gXCJFbXVsYXRlZFwiO1xuICAgIC8vIEhpc3RvcmljYWxseSB0aGUgMSB2YWx1ZSB3YXMgZm9yIGBOYXRpdmVgIGVuY2Fwc3VsYXRpb24gd2hpY2ggaGFzIGJlZW4gcmVtb3ZlZCBhcyBvZiB2MTEuXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJOb25lXCJdID0gMl0gPSBcIk5vbmVcIjtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIlNoYWRvd0RvbVwiXSA9IDNdID0gXCJTaGFkb3dEb21cIjtcbn0pKFZpZXdFbmNhcHN1bGF0aW9uIHx8IChWaWV3RW5jYXBzdWxhdGlvbiA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcGlsZXJGYWNhZGUocmVxdWVzdCkge1xuICAgIGNvbnN0IGdsb2JhbE5nID0gX2dsb2JhbFsnbmcnXTtcbiAgICBpZiAoZ2xvYmFsTmcgJiYgZ2xvYmFsTmcuybVjb21waWxlckZhY2FkZSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsTmcuybVjb21waWxlckZhY2FkZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAvLyBMb2cgdGhlIHR5cGUgYXMgYW4gZXJyb3Igc28gdGhhdCBhIGRldmVsb3BlciBjYW4gZWFzaWx5IG5hdmlnYXRlIHRvIHRoZSB0eXBlIGZyb20gdGhlXG4gICAgICAgIC8vIGNvbnNvbGUuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEpJVCBjb21waWxhdGlvbiBmYWlsZWQgZm9yICR7cmVxdWVzdC5raW5kfWAsIHJlcXVlc3QudHlwZSk7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYFRoZSAke3JlcXVlc3Qua2luZH0gJyR7cmVxdWVzdFxuICAgICAgICAgICAgLnR5cGUubmFtZX0nIG5lZWRzIHRvIGJlIGNvbXBpbGVkIHVzaW5nIHRoZSBKSVQgY29tcGlsZXIsIGJ1dCAnQGFuZ3VsYXIvY29tcGlsZXInIGlzIG5vdCBhdmFpbGFibGUuXFxuXFxuYDtcbiAgICAgICAgaWYgKHJlcXVlc3QudXNhZ2UgPT09IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGBUaGUgJHtyZXF1ZXN0LmtpbmR9IGlzIHBhcnQgb2YgYSBsaWJyYXJ5IHRoYXQgaGFzIGJlZW4gcGFydGlhbGx5IGNvbXBpbGVkLlxcbmA7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYEhvd2V2ZXIsIHRoZSBBbmd1bGFyIExpbmtlciBoYXMgbm90IHByb2Nlc3NlZCB0aGUgbGlicmFyeSBzdWNoIHRoYXQgSklUIGNvbXBpbGF0aW9uIGlzIHVzZWQgYXMgZmFsbGJhY2suXFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbic7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYElkZWFsbHksIHRoZSBsaWJyYXJ5IGlzIHByb2Nlc3NlZCB1c2luZyB0aGUgQW5ndWxhciBMaW5rZXIgdG8gYmVjb21lIGZ1bGx5IEFPVCBjb21waWxlZC5cXG5gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgICAgIGBKSVQgY29tcGlsYXRpb24gaXMgZGlzY291cmFnZWQgZm9yIHByb2R1Y3Rpb24gdXNlLWNhc2VzISBDb25zaWRlciB1c2luZyBBT1QgbW9kZSBpbnN0ZWFkLlxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgYEFsdGVybmF0aXZlbHksIHRoZSBKSVQgY29tcGlsZXIgc2hvdWxkIGJlIGxvYWRlZCBieSBib290c3RyYXBwaW5nIHVzaW5nICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnIG9yICdAYW5ndWxhci9wbGF0Zm9ybS1zZXJ2ZXInLFxcbmA7XG4gICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgIGBvciBtYW51YWxseSBwcm92aWRlIHRoZSBjb21waWxlciB3aXRoICdpbXBvcnQgXCJAYW5ndWxhci9jb21waWxlclwiOycgYmVmb3JlIGJvb3RzdHJhcHBpbmcuYDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKSVQgY29tcGlsZXIgdW5hdmFpbGFibGUnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZXByZXNlbnRzIGEgdHlwZSB0aGF0IGEgQ29tcG9uZW50IG9yIG90aGVyIG9iamVjdCBpcyBpbnN0YW5jZXMgb2YuXG4gKlxuICogQW4gZXhhbXBsZSBvZiBhIGBUeXBlYCBpcyBgTXlDdXN0b21Db21wb25lbnRgIGNsYXNzLCB3aGljaCBpbiBKYXZhU2NyaXB0IGlzIHJlcHJlc2VudGVkIGJ5XG4gKiB0aGUgYE15Q3VzdG9tQ29tcG9uZW50YCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFR5cGUgPSBGdW5jdGlvbjtcbmZ1bmN0aW9uIGlzVHlwZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRXF1aXZhbGVudCB0byBFUzYgc3ByZWFkLCBhZGQgZWFjaCBpdGVtIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSBpdGVtcyBUaGUgaXRlbXMgdG8gYWRkXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSB0byB3aGljaCB5b3Ugd2FudCB0byBhZGQgdGhlIGl0ZW1zXG4gKi9cbmZ1bmN0aW9uIGFkZEFsbFRvQXJyYXkoaXRlbXMsIGFycikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyLnB1c2goaXRlbXNbaV0pO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgY29udGVudHMgb2YgdHdvIGFycmF5cyBpcyBpZGVudGljYWxcbiAqXG4gKiBAcGFyYW0gYSBmaXJzdCBhcnJheVxuICogQHBhcmFtIGIgc2Vjb25kIGFycmF5XG4gKiBAcGFyYW0gaWRlbnRpdHlBY2Nlc3NvciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgZXh0cmFjdGluZyBzdGFibGUgb2JqZWN0IGlkZW50aXR5IGZyb20gYSB2YWx1ZSBpblxuICogICAgIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlFcXVhbHMoYSwgYiwgaWRlbnRpdHlBY2Nlc3Nvcikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlQSA9IGFbaV07XG4gICAgICAgIGxldCB2YWx1ZUIgPSBiW2ldO1xuICAgICAgICBpZiAoaWRlbnRpdHlBY2Nlc3Nvcikge1xuICAgICAgICAgICAgdmFsdWVBID0gaWRlbnRpdHlBY2Nlc3Nvcih2YWx1ZUEpO1xuICAgICAgICAgICAgdmFsdWVCID0gaWRlbnRpdHlBY2Nlc3Nvcih2YWx1ZUIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZUIgIT09IHZhbHVlQSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBGbGF0dGVucyBhbiBhcnJheS5cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihsaXN0LCBkc3QpIHtcbiAgICBpZiAoZHN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIGRzdCA9IGxpc3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBpdGVtID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW5saW5lIGl0LlxuICAgICAgICAgICAgaWYgKGRzdCA9PT0gbGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIE91ciBhc3N1bXB0aW9uIHRoYXQgdGhlIGxpc3Qgd2FzIGFscmVhZHkgZmxhdCB3YXMgd3JvbmcgYW5kXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjbG9uZSBmbGF0IHNpbmNlIHdlIG5lZWQgdG8gd3JpdGUgdG8gaXQuXG4gICAgICAgICAgICAgICAgZHN0ID0gbGlzdC5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsYXR0ZW4oaXRlbSwgZHN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkc3QgIT09IGxpc3QpIHtcbiAgICAgICAgICAgIGRzdC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG5mdW5jdGlvbiBkZWVwRm9yRWFjaChpbnB1dCwgZm4pIHtcbiAgICBpbnB1dC5mb3JFYWNoKHZhbHVlID0+IEFycmF5LmlzQXJyYXkodmFsdWUpID8gZGVlcEZvckVhY2godmFsdWUsIGZuKSA6IGZuKHZhbHVlKSk7XG59XG5mdW5jdGlvbiBhZGRUb0FycmF5KGFyciwgaW5kZXgsIHZhbHVlKSB7XG4gICAgLy8gcGVyZjogYXJyYXkucHVzaCBpcyBmYXN0ZXIgdGhhbiBhcnJheS5zcGxpY2UhXG4gICAgaWYgKGluZGV4ID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUZyb21BcnJheShhcnIsIGluZGV4KSB7XG4gICAgLy8gcGVyZjogYXJyYXkucG9wIGlzIGZhc3RlciB0aGFuIGFycmF5LnNwbGljZSFcbiAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIGFyci5wb3AoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXdBcnJheShzaXplLCB2YWx1ZSkge1xuICAgIGNvbnN0IGxpc3QgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbn1cbi8qKlxuICogUmVtb3ZlIGl0ZW0gZnJvbSBhcnJheSAoU2FtZSBhcyBgQXJyYXkuc3BsaWNlKClgIGJ1dCBmYXN0ZXIuKVxuICpcbiAqIGBBcnJheS5zcGxpY2UoKWAgaXMgbm90IGFzIGZhc3QgYmVjYXVzZSBpdCBoYXMgdG8gYWxsb2NhdGUgYW4gYXJyYXkgZm9yIHRoZSBlbGVtZW50cyB3aGljaCB3ZXJlXG4gKiByZW1vdmVkLiBUaGlzIGNhdXNlcyBtZW1vcnkgcHJlc3N1cmUgYW5kIHNsb3dzIGRvd24gY29kZSB3aGVuIG1vc3Qgb2YgdGhlIHRpbWUgd2UgZG9uJ3RcbiAqIGNhcmUgYWJvdXQgdGhlIGRlbGV0ZWQgaXRlbXMgYXJyYXkuXG4gKlxuICogaHR0cHM6Ly9qc3BlcmYuY29tL2Zhc3QtYXJyYXktc3BsaWNlIChBYm91dCAyMHggZmFzdGVyKVxuICpcbiAqIEBwYXJhbSBhcnJheSBBcnJheSB0byBzcGxpY2VcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiBlbGVtZW50IGluIGFycmF5IHRvIHJlbW92ZS5cbiAqIEBwYXJhbSBjb3VudCBOdW1iZXIgb2YgaXRlbXMgdG8gcmVtb3ZlLlxuICovXG5mdW5jdGlvbiBhcnJheVNwbGljZShhcnJheSwgaW5kZXgsIGNvdW50KSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIC0gY291bnQ7XG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W2luZGV4ICsgY291bnRdO1xuICAgICAgICBpbmRleCsrO1xuICAgIH1cbiAgICB3aGlsZSAoY291bnQtLSkge1xuICAgICAgICBhcnJheS5wb3AoKTsgLy8gc2hyaW5rIHRoZSBhcnJheVxuICAgIH1cbn1cbi8qKlxuICogU2FtZSBhcyBgQXJyYXkuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSlgIGJ1dCBmYXN0ZXIuXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQXJyYXkgdG8gc3BsaWNlLlxuICogQHBhcmFtIGluZGV4IEluZGV4IGluIGFycmF5IHdoZXJlIHRoZSBgdmFsdWVgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBhZGQgdG8gYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0KGFycmF5LCBpbmRleCwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW5PckVxdWFsKGluZGV4LCBhcnJheS5sZW5ndGgsICdDYW5cXCd0IGluc2VydCBwYXN0IGFycmF5IGVuZC4nKTtcbiAgICBsZXQgZW5kID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChlbmQgPiBpbmRleCkge1xuICAgICAgICBjb25zdCBwcmV2aW91c0VuZCA9IGVuZCAtIDE7XG4gICAgICAgIGFycmF5W2VuZF0gPSBhcnJheVtwcmV2aW91c0VuZF07XG4gICAgICAgIGVuZCA9IHByZXZpb3VzRW5kO1xuICAgIH1cbiAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbn1cbi8qKlxuICogU2FtZSBhcyBgQXJyYXkuc3BsaWNlMihpbmRleCwgMCwgdmFsdWUxLCB2YWx1ZTIpYCBidXQgZmFzdGVyLlxuICpcbiAqIGBBcnJheS5zcGxpY2UoKWAgaXMgbm90IGZhc3QgYmVjYXVzZSBpdCBoYXMgdG8gYWxsb2NhdGUgYW4gYXJyYXkgZm9yIHRoZSBlbGVtZW50cyB3aGljaCB3ZXJlXG4gKiByZW1vdmVkLiBUaGlzIGNhdXNlcyBtZW1vcnkgcHJlc3N1cmUgYW5kIHNsb3dzIGRvd24gY29kZSB3aGVuIG1vc3Qgb2YgdGhlIHRpbWUgd2UgZG9uJ3RcbiAqIGNhcmUgYWJvdXQgdGhlIGRlbGV0ZWQgaXRlbXMgYXJyYXkuXG4gKlxuICogQHBhcmFtIGFycmF5IEFycmF5IHRvIHNwbGljZS5cbiAqIEBwYXJhbSBpbmRleCBJbmRleCBpbiBhcnJheSB3aGVyZSB0aGUgYHZhbHVlYCBzaG91bGQgYmUgYWRkZWQuXG4gKiBAcGFyYW0gdmFsdWUxIFZhbHVlIHRvIGFkZCB0byBhcnJheS5cbiAqIEBwYXJhbSB2YWx1ZTIgVmFsdWUgdG8gYWRkIHRvIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUluc2VydDIoYXJyYXksIGluZGV4LCB2YWx1ZTEsIHZhbHVlMikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoaW5kZXgsIGFycmF5Lmxlbmd0aCwgJ0NhblxcJ3QgaW5zZXJ0IHBhc3QgYXJyYXkgZW5kLicpO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGVuZCA9PSBpbmRleCkge1xuICAgICAgICAvLyBpbnNlcnRpbmcgYXQgdGhlIGVuZC5cbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZTEsIHZhbHVlMik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVuZCA9PT0gMSkge1xuICAgICAgICAvLyBjb3JuZXIgY2FzZSB3aGVuIHdlIGhhdmUgbGVzcyBpdGVtcyBpbiBhcnJheSB0aGFuIHdlIGhhdmUgaXRlbXMgdG8gaW5zZXJ0LlxuICAgICAgICBhcnJheS5wdXNoKHZhbHVlMiwgYXJyYXlbMF0pO1xuICAgICAgICBhcnJheVswXSA9IHZhbHVlMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVuZC0tO1xuICAgICAgICBhcnJheS5wdXNoKGFycmF5W2VuZCAtIDFdLCBhcnJheVtlbmRdKTtcbiAgICAgICAgd2hpbGUgKGVuZCA+IGluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0VuZCA9IGVuZCAtIDI7XG4gICAgICAgICAgICBhcnJheVtlbmRdID0gYXJyYXlbcHJldmlvdXNFbmRdO1xuICAgICAgICAgICAgZW5kLS07XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWUxO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gdmFsdWUyO1xuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0IGEgYHZhbHVlYCBpbnRvIGFuIGBhcnJheWAgc28gdGhhdCB0aGUgYXJyYXkgcmVtYWlucyBzb3J0ZWQuXG4gKlxuICogTk9URTpcbiAqIC0gRHVwbGljYXRlcyBhcmUgbm90IGFsbG93ZWQsIGFuZCBhcmUgaWdub3JlZC5cbiAqIC0gVGhpcyB1c2VzIGJpbmFyeSBzZWFyY2ggYWxnb3JpdGhtIGZvciBmYXN0IGluc2VydHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGluc2VydCBpbnRvLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNlcnQuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgaW5zZXJ0ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0U29ydGVkKGFycmF5LCB2YWx1ZSkge1xuICAgIGxldCBpbmRleCA9IGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgLy8gaWYgd2UgZGlkIG5vdCBmaW5kIGl0IGluc2VydCBpdC5cbiAgICAgICAgaW5kZXggPSB+aW5kZXg7XG4gICAgICAgIGFycmF5SW5zZXJ0KGFycmF5LCBpbmRleCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIFJlbW92ZSBgdmFsdWVgIGZyb20gYSBzb3J0ZWQgYGFycmF5YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIHJlbW92ZSBmcm9tLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgcmVtb3ZlZCB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZCBhbmQgcmVtb3ZlZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqICAgICBpbnNlcnRlZClcbiAqL1xuZnVuY3Rpb24gYXJyYXlSZW1vdmVTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnJheUluZGV4T2ZTb3J0ZWQoYXJyYXksIHZhbHVlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVNwbGljZShhcnJheSwgaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIEdldCBhbiBpbmRleCBvZiBhbiBgdmFsdWVgIGluIGEgc29ydGVkIGBhcnJheWAuXG4gKlxuICogTk9URTpcbiAqIC0gVGhpcyB1c2VzIGJpbmFyeSBzZWFyY2ggYWxnb3JpdGhtIGZvciBmYXN0IHJlbW92YWxzLlxuICpcbiAqIEBwYXJhbSBhcnJheSBBIHNvcnRlZCBhcnJheSB0byBiaW5hcnkgc2VhcmNoLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBsb29rIGZvci5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqICAgICBsb2NhdGVkKVxuICovXG5mdW5jdGlvbiBhcnJheUluZGV4T2ZTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIF9hcnJheUluZGV4T2ZTb3J0ZWQoYXJyYXksIHZhbHVlLCAwKTtcbn1cbi8qKlxuICogU2V0IGEgYHZhbHVlYCBmb3IgYSBga2V5YC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlIG9yIGNyZWF0ZS5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IGZvciBhIGBrZXlgLlxuICogQHJldHVybnMgaW5kZXggKGFsd2F5cyBldmVuKSBvZiB3aGVyZSB0aGUgdmFsdWUgdmFzIHNldC5cbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0ga2V5VmFsdWVBcnJheUluZGV4T2Yoa2V5VmFsdWVBcnJheSwga2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBpdCBzZXQgaXQuXG4gICAgICAgIGtleVZhbHVlQXJyYXlbaW5kZXggfCAxXSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5kZXggPSB+aW5kZXg7XG4gICAgICAgIGFycmF5SW5zZXJ0MihrZXlWYWx1ZUFycmF5LCBpbmRleCwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogUmV0cmlldmUgYSBgdmFsdWVgIGZvciBhIGBrZXlgIChvbiBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuKVxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUuXG4gKiBAcmV0dXJuIFRoZSBgdmFsdWVgIHN0b3JlZCBhdCB0aGUgYGtleWAgbG9jYXRpb24gb3IgYHVuZGVmaW5lZCBpZiBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGtleVZhbHVlQXJyYXlHZXQoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgY29uc3QgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHJldHJpZXZlIGl0LlxuICAgICAgICByZXR1cm4ga2V5VmFsdWVBcnJheVtpbmRleCB8IDFdO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIGBrZXlgIGluZGV4IHZhbHVlIGluIHRoZSBhcnJheSBvciBgLTFgIGlmIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBzZWFyY2guXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlLlxuICogQHJldHVybnMgaW5kZXggb2Ygd2hlcmUgdGhlIGtleSBpcyAob3Igc2hvdWxkIGhhdmUgYmVlbi4pXG4gKiAgIC0gcG9zaXRpdmUgKGV2ZW4pIGluZGV4IGlmIGtleSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiBrZXkgbm90IGZvdW5kLiAoYH5pbmRleGAgKGV2ZW4pIHRvIGdldCB0aGUgaW5kZXggd2hlcmUgaXQgc2hvdWxkIGhhdmVcbiAqICAgICBiZWVuIGluc2VydGVkLilcbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheUluZGV4T2Yoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgcmV0dXJuIF9hcnJheUluZGV4T2ZTb3J0ZWQoa2V5VmFsdWVBcnJheSwga2V5LCAxKTtcbn1cbi8qKlxuICogRGVsZXRlIGEgYGtleWAgKGFuZCBgdmFsdWVgKSBmcm9tIHRoZSBgS2V5VmFsdWVBcnJheWAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGxvY2F0ZSBvciBkZWxldGUgKGlmIGV4aXN0KS5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHdoZXJlIHRoZSBrZXkgd2FzIChvciBzaG91bGQgaGF2ZSBiZWVuLilcbiAqICAgLSBwb3NpdGl2ZSAoZXZlbikgaW5kZXggaWYga2V5IGZvdW5kIGFuZCBkZWxldGVkLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIGtleSBub3QgZm91bmQuIChgfmluZGV4YCAoZXZlbikgdG8gZ2V0IHRoZSBpbmRleCB3aGVyZSBpdCBzaG91bGQgaGF2ZVxuICogICAgIGJlZW4uKVxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5RGVsZXRlKGtleVZhbHVlQXJyYXksIGtleSkge1xuICAgIGNvbnN0IGluZGV4ID0ga2V5VmFsdWVBcnJheUluZGV4T2Yoa2V5VmFsdWVBcnJheSwga2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBpdCByZW1vdmUgaXQuXG4gICAgICAgIGFycmF5U3BsaWNlKGtleVZhbHVlQXJyYXksIGluZGV4LCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBJTlRFUk5BTDogR2V0IGFuIGluZGV4IG9mIGFuIGB2YWx1ZWAgaW4gYSBzb3J0ZWQgYGFycmF5YCBieSBncm91cGluZyBzZWFyY2ggYnkgYHNoaWZ0YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGJpbmFyeSBzZWFyY2guXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIHNoaWZ0IGdyb3VwaW5nIHNoaWZ0LlxuICogICAtIGAwYCBtZWFucyBsb29rIGF0IGV2ZXJ5IGxvY2F0aW9uXG4gKiAgIC0gYDFgIG1lYW5zIG9ubHkgbG9vayBhdCBldmVyeSBvdGhlciAoZXZlbikgbG9jYXRpb24gKHRoZSBvZGQgbG9jYXRpb25zIGFyZSB0byBiZSBpZ25vcmVkIGFzXG4gKiAgICAgICAgIHRoZXkgYXJlIHZhbHVlcy4pXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgdmFsdWUuXG4gKiAgIC0gcG9zaXRpdmUgaW5kZXggaWYgdmFsdWUgZm91bmQuXG4gKiAgIC0gbmVnYXRpdmUgaW5kZXggaWYgdmFsdWUgbm90IGZvdW5kLiAoYH5pbmRleGAgdG8gZ2V0IHRoZSB2YWx1ZSB3aGVyZSBpdCBzaG91bGQgaGF2ZSBiZWVuXG4gKiBpbnNlcnRlZClcbiAqL1xuZnVuY3Rpb24gX2FycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUsIHNoaWZ0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKEFycmF5LmlzQXJyYXkoYXJyYXkpLCB0cnVlLCAnRXhwZWN0aW5nIGFuIGFycmF5Jyk7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gYXJyYXkubGVuZ3RoID4+IHNoaWZ0O1xuICAgIHdoaWxlIChlbmQgIT09IHN0YXJ0KSB7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IHN0YXJ0ICsgKChlbmQgLSBzdGFydCkgPj4gMSk7IC8vIGZpbmQgdGhlIG1pZGRsZS5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IGFycmF5W21pZGRsZSA8PCBzaGlmdF07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChtaWRkbGUgPDwgc2hpZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgPiB2YWx1ZSkge1xuICAgICAgICAgICAgZW5kID0gbWlkZGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxOyAvLyBXZSBhbHJlYWR5IHNlYXJjaGVkIG1pZGRsZSBzbyBtYWtlIGl0IG5vbi1pbmNsdXNpdmUgYnkgYWRkaW5nIDFcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gfihlbmQgPDwgc2hpZnQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qXG4gKiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gKiBBdHRlbnRpb246IFRoZXNlIFJlZ3VsYXIgZXhwcmVzc2lvbnMgaGF2ZSB0byBob2xkIGV2ZW4gaWYgdGhlIGNvZGUgaXMgbWluaWZpZWQhXG4gKiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICovXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgcGFzcy10aHJvdWdoIGNvbnN0cnVjdG9ycyBmb3IgRVM1IG91dHB1dC4gVGhpcyBSZWdleFxuICogaW50ZW5kcyB0byBjYXB0dXJlIHRoZSBjb21tb24gZGVsZWdhdGlvbiBwYXR0ZXJuIGVtaXR0ZWQgYnkgVHlwZVNjcmlwdCBhbmQgQmFiZWwuIEFsc29cbiAqIGl0IGludGVuZHMgdG8gY2FwdHVyZSB0aGUgcGF0dGVybiB3aGVyZSBleGlzdGluZyBjb25zdHJ1Y3RvcnMgaGF2ZSBiZWVuIGRvd25sZXZlbGVkIGZyb21cbiAqIEVTMjAxNSB0byBFUzUgdXNpbmcgVHlwZVNjcmlwdCB3LyBkb3dubGV2ZWwgaXRlcmF0aW9uLiBlLmcuXG4gKlxuICogYGBgXG4gKiAgIGZ1bmN0aW9uIE15Q2xhc3MoKSB7XG4gKiAgICAgdmFyIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIGRvd25sZXZlbGVkIHRvIEVTNSB3aXRoIGBkb3dubGV2ZWxJdGVyYXRpb25gIGZvciBUeXBlU2NyaXB0IDwgNC4yOlxuICogYGBgXG4gKiAgIGZ1bmN0aW9uIE15Q2xhc3MoKSB7XG4gKiAgICAgdmFyIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkKGFyZ3VtZW50cykpIHx8IHRoaXM7XG4gKiBgYGBcbiAqXG4gKiBvciBkb3dubGV2ZWxlZCB0byBFUzUgd2l0aCBgZG93bmxldmVsSXRlcmF0aW9uYCBmb3IgVHlwZVNjcmlwdCA+PSA0LjI6XG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3VtZW50cyksIGZhbHNlKSkgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM4NDUzLlxuICovXG5jb25zdCBFUzVfREVMRUdBVEVfQ1RPUiA9IC9eZnVuY3Rpb25cXHMrXFxTK1xcKFxcKVxccyp7W1xcc1xcU10rXFwuYXBwbHlcXCh0aGlzLFxccyooYXJndW1lbnRzfCg/OlteKCldK1xcKFxcW1xcXSwpP1teKCldK1xcKGFyZ3VtZW50c1xcKS4qKVxcKS87XG4vKiogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBFUzIwMTUgY2xhc3NlcyB3aGljaCBleHRlbmQgZnJvbSBvdGhlciBjbGFzc2VzLiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTUyA9IC9eY2xhc3NcXHMrW0EtWmEtelxcZCRfXSpcXHMqZXh0ZW5kc1xccytbXntdK3svO1xuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBkZXRlY3RzIEVTMjAxNSBjbGFzc2VzIHdoaWNoIGV4dGVuZCBmcm9tIG90aGVyIGNsYXNzZXMgYW5kXG4gKiBoYXZlIGFuIGV4cGxpY2l0IGNvbnN0cnVjdG9yIGRlZmluZWQuXG4gKi9cbmNvbnN0IEVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9DVE9SID0gL15jbGFzc1xccytbQS1aYS16XFxkJF9dKlxccypleHRlbmRzXFxzK1tee10re1tcXHNcXFNdKmNvbnN0cnVjdG9yXFxzKlxcKC87XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgRVMyMDE1IGNsYXNzZXMgd2hpY2ggZXh0ZW5kIGZyb20gb3RoZXIgY2xhc3Nlc1xuICogYW5kIGluaGVyaXQgYSBjb25zdHJ1Y3Rvci5cbiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0RFTEVHQVRFX0NUT1IgPSAvXmNsYXNzXFxzK1tBLVphLXpcXGQkX10qXFxzKmV4dGVuZHNcXHMrW157XSt7W1xcc1xcU10qY29uc3RydWN0b3JcXHMqXFwoXFwpXFxzKntbXn1dKnN1cGVyXFwoXFwuXFwuXFwuYXJndW1lbnRzXFwpLztcbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBzdHJpbmdpZmllZCB0eXBlIGlzIGEgY2xhc3Mgd2hpY2ggZGVsZWdhdGVzIGl0cyBjb25zdHJ1Y3RvclxuICogdG8gaXRzIHBhcmVudC5cbiAqXG4gKiBUaGlzIGlzIG5vdCB0cml2aWFsIHNpbmNlIGNvbXBpbGVkIGNvZGUgY2FuIGFjdHVhbGx5IGNvbnRhaW4gYSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICogZXZlbiBpZiB0aGUgb3JpZ2luYWwgc291cmNlIGNvZGUgZGlkIG5vdC4gRm9yIGluc3RhbmNlLCB3aGVuIHRoZSBjaGlsZCBjbGFzcyBjb250YWluc1xuICogYW4gaW5pdGlhbGl6ZWQgaW5zdGFuY2UgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGlzRGVsZWdhdGVDdG9yKHR5cGVTdHIpIHtcbiAgICByZXR1cm4gRVM1X0RFTEVHQVRFX0NUT1IudGVzdCh0eXBlU3RyKSB8fFxuICAgICAgICBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUi50ZXN0KHR5cGVTdHIpIHx8XG4gICAgICAgIChFUzIwMTVfSU5IRVJJVEVEX0NMQVNTLnRlc3QodHlwZVN0cikgJiYgIUVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9DVE9SLnRlc3QodHlwZVN0cikpO1xufVxuY2xhc3MgUmVmbGVjdGlvbkNhcGFiaWxpdGllcyB7XG4gICAgY29uc3RydWN0b3IocmVmbGVjdCkge1xuICAgICAgICB0aGlzLl9yZWZsZWN0ID0gcmVmbGVjdCB8fCBfZ2xvYmFsWydSZWZsZWN0J107XG4gICAgfVxuICAgIGlzUmVmbGVjdGlvbkVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmYWN0b3J5KHQpIHtcbiAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiBuZXcgdCguLi5hcmdzKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbVR5cGVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3QXJyYXkocGFyYW1Bbm5vdGF0aW9ucy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3QXJyYXkocGFyYW1UeXBlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUUyBvdXRwdXRzIE9iamVjdCBmb3IgcGFyYW1ldGVycyB3aXRob3V0IHR5cGVzLCB3aGlsZSBUcmFjZXVyIG9taXRzXG4gICAgICAgICAgICAvLyB0aGUgYW5ub3RhdGlvbnMuIEZvciBub3cgd2UgcHJlc2VydmUgdGhlIFRyYWNldXIgYmVoYXZpb3IgdG8gYWlkXG4gICAgICAgICAgICAvLyBtaWdyYXRpb24sIGJ1dCB0aGlzIGNhbiBiZSByZXZpc2l0ZWQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbVR5cGVzW2ldICYmIHBhcmFtVHlwZXNbaV0gIT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW3BhcmFtVHlwZXNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1Bbm5vdGF0aW9ucyAmJiBwYXJhbUFubm90YXRpb25zW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSByZXN1bHRbaV0uY29uY2F0KHBhcmFtQW5ub3RhdGlvbnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9vd25QYXJhbWV0ZXJzKHR5cGUsIHBhcmVudEN0b3IpIHtcbiAgICAgICAgY29uc3QgdHlwZVN0ciA9IHR5cGUudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBubyBkZWNvcmF0b3JzLCB3ZSBvbmx5IGhhdmUgZnVuY3Rpb24ubGVuZ3RoIGFzIG1ldGFkYXRhLlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRvIGRldGVjdCB3aGV0aGVyIGEgY2hpbGQgY2xhc3MgZGVjbGFyZWQgYW4gb3duIGNvbnN0cnVjdG9yIG9yIG5vdCxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBsb29rIGluc2lkZSBvZiB0aGF0IGNvbnN0cnVjdG9yIHRvIGNoZWNrIHdoZXRoZXIgaXQgaXNcbiAgICAgICAgLy8ganVzdCBjYWxsaW5nIHRoZSBwYXJlbnQuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBoZWxwcyB0byB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMjQzOVxuICAgICAgICAvLyB0aGF0IHNldHMgJ2Rlc2lnbjpwYXJhbXR5cGVzJyB0byBbXVxuICAgICAgICAvLyBpZiBhIGNsYXNzIGluaGVyaXRzIGZyb20gYW5vdGhlciBjbGFzcyBidXQgaGFzIG5vIGN0b3IgZGVjbGFyZWQgaXRzZWxmLlxuICAgICAgICBpZiAoaXNEZWxlZ2F0ZUN0b3IodHlwZVN0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGUucGFyYW1ldGVycyAmJiB0eXBlLnBhcmFtZXRlcnMgIT09IHBhcmVudEN0b3IucGFyYW1ldGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUucGFyYW1ldGVycztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgY29uc3QgdHNpY2tsZUN0b3JQYXJhbXMgPSB0eXBlLmN0b3JQYXJhbWV0ZXJzO1xuICAgICAgICBpZiAodHNpY2tsZUN0b3JQYXJhbXMgJiYgdHNpY2tsZUN0b3JQYXJhbXMgIT09IHBhcmVudEN0b3IuY3RvclBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIC8vIE5ld2VyIHRzaWNrbGUgdXNlcyBhIGZ1bmN0aW9uIGNsb3N1cmVcbiAgICAgICAgICAgIC8vIFJldGFpbiB0aGUgbm9uLWZ1bmN0aW9uIGNhc2UgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciB0c2lja2xlXG4gICAgICAgICAgICBjb25zdCBjdG9yUGFyYW1ldGVycyA9IHR5cGVvZiB0c2lja2xlQ3RvclBhcmFtcyA9PT0gJ2Z1bmN0aW9uJyA/IHRzaWNrbGVDdG9yUGFyYW1zKCkgOiB0c2lja2xlQ3RvclBhcmFtcztcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtVHlwZXMgPSBjdG9yUGFyYW1ldGVycy5tYXAoKGN0b3JQYXJhbSkgPT4gY3RvclBhcmFtICYmIGN0b3JQYXJhbS50eXBlKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtQW5ub3RhdGlvbnMgPSBjdG9yUGFyYW1ldGVycy5tYXAoKGN0b3JQYXJhbSkgPT4gY3RvclBhcmFtICYmIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKGN0b3JQYXJhbS5kZWNvcmF0b3JzKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5femlwVHlwZXNBbmRBbm5vdGF0aW9ucyhwYXJhbVR5cGVzLCBwYXJhbUFubm90YXRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGNvbnN0IHBhcmFtQW5ub3RhdGlvbnMgPSB0eXBlLmhhc093blByb3BlcnR5KFBBUkFNRVRFUlMpICYmIHR5cGVbUEFSQU1FVEVSU107XG4gICAgICAgIGNvbnN0IHBhcmFtVHlwZXMgPSB0aGlzLl9yZWZsZWN0ICYmIHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEgJiZcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgdHlwZSk7XG4gICAgICAgIGlmIChwYXJhbVR5cGVzIHx8IHBhcmFtQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgY2xhc3MgaGFzIG5vIGRlY29yYXRvcnMsIGF0IGxlYXN0IGNyZWF0ZSBtZXRhZGF0YVxuICAgICAgICAvLyBiYXNlZCBvbiBmdW5jdGlvbi5sZW5ndGguXG4gICAgICAgIC8vIE5vdGU6IFdlIGtub3cgdGhhdCB0aGlzIGlzIGEgcmVhbCBjb25zdHJ1Y3RvciBhcyB3ZSBjaGVja2VkXG4gICAgICAgIC8vIHRoZSBjb250ZW50IG9mIHRoZSBjb25zdHJ1Y3RvciBhYm92ZS5cbiAgICAgICAgcmV0dXJuIG5ld0FycmF5KHR5cGUubGVuZ3RoKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycyh0eXBlKSB7XG4gICAgICAgIC8vIE5vdGU6IG9ubHkgcmVwb3J0IG1ldGFkYXRhIGlmIHdlIGhhdmUgYXQgbGVhc3Qgb25lIGNsYXNzIGRlY29yYXRvclxuICAgICAgICAvLyB0byBzdGF5IGluIHN5bmMgd2l0aCB0aGUgc3RhdGljIHJlZmxlY3Rvci5cbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlKTtcbiAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSB0aGlzLl9vd25QYXJhbWV0ZXJzKHR5cGUsIHBhcmVudEN0b3IpO1xuICAgICAgICBpZiAoIXBhcmFtZXRlcnMgJiYgcGFyZW50Q3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzKHBhcmVudEN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJzIHx8IFtdO1xuICAgIH1cbiAgICBfb3duQW5ub3RhdGlvbnModHlwZU9yRnVuYywgcGFyZW50Q3Rvcikge1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRpcmVjdCBBUEkuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmFubm90YXRpb25zICYmIHR5cGVPckZ1bmMuYW5ub3RhdGlvbnMgIT09IHBhcmVudEN0b3IuYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCBhbm5vdGF0aW9ucyA9IHR5cGVPckZ1bmMuYW5ub3RhdGlvbnM7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFubm90YXRpb25zID09PSAnZnVuY3Rpb24nICYmIGFubm90YXRpb25zLmFubm90YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9ucztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuZGVjb3JhdG9ycyAmJiB0eXBlT3JGdW5jLmRlY29yYXRvcnMgIT09IHBhcmVudEN0b3IuZGVjb3JhdG9ycykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHR5cGVPckZ1bmMuZGVjb3JhdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5oYXNPd25Qcm9wZXJ0eShBTk5PVEFUSU9OUykpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlT3JGdW5jW0FOTk9UQVRJT05TXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYW5ub3RhdGlvbnModHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGVPckZ1bmMpO1xuICAgICAgICBjb25zdCBvd25Bbm5vdGF0aW9ucyA9IHRoaXMuX293bkFubm90YXRpb25zKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpIHx8IFtdO1xuICAgICAgICBjb25zdCBwYXJlbnRBbm5vdGF0aW9ucyA9IHBhcmVudEN0b3IgIT09IE9iamVjdCA/IHRoaXMuYW5ub3RhdGlvbnMocGFyZW50Q3RvcikgOiBbXTtcbiAgICAgICAgcmV0dXJuIHBhcmVudEFubm90YXRpb25zLmNvbmNhdChvd25Bbm5vdGF0aW9ucyk7XG4gICAgfVxuICAgIF9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgcGFyZW50Q3Rvcikge1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRpcmVjdCBBUEkuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLnByb3BNZXRhZGF0YSAmJlxuICAgICAgICAgICAgdHlwZU9yRnVuYy5wcm9wTWV0YWRhdGEgIT09IHBhcmVudEN0b3IucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICBsZXQgcHJvcE1ldGFkYXRhID0gdHlwZU9yRnVuYy5wcm9wTWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BNZXRhZGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhID0gcHJvcE1ldGFkYXRhLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9wTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIG9mIHRzaWNrbGUgZm9yIGxvd2VyaW5nIGRlY29yYXRvcnMgdG8gcHJvcGVydGllcyBvbiB0aGUgY2xhc3MuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzICYmXG4gICAgICAgICAgICB0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzICE9PSBwYXJlbnRDdG9yLnByb3BEZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wRGVjb3JhdG9ycyA9IHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnM7XG4gICAgICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb3BEZWNvcmF0b3JzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wXSA9IGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHByb3BEZWNvcmF0b3JzW3Byb3BdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmhhc093blByb3BlcnR5KFBST1BfTUVUQURBVEEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZU9yRnVuY1tQUk9QX01FVEFEQVRBXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZU9yRnVuYykpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKTtcbiAgICAgICAgY29uc3QgcHJvcE1ldGFkYXRhID0ge307XG4gICAgICAgIGlmIChwYXJlbnRDdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFByb3BNZXRhZGF0YSA9IHRoaXMucHJvcE1ldGFkYXRhKHBhcmVudEN0b3IpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyZW50UHJvcE1ldGFkYXRhKS5mb3JFYWNoKChwcm9wTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wTmFtZV0gPSBwYXJlbnRQcm9wTWV0YWRhdGFbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3duUHJvcE1ldGFkYXRhID0gdGhpcy5fb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpO1xuICAgICAgICBpZiAob3duUHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvd25Qcm9wTWV0YWRhdGEpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb3JhdG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29yYXRvcnMucHVzaCguLi5wcm9wTWV0YWRhdGFbcHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVjb3JhdG9ycy5wdXNoKC4uLm93blByb3BNZXRhZGF0YVtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wTmFtZV0gPSBkZWNvcmF0b3JzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICB9XG4gICAgb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZU9yRnVuYykpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMsIGdldFBhcmVudEN0b3IodHlwZU9yRnVuYykpIHx8IHt9O1xuICAgIH1cbiAgICBoYXNMaWZlY3ljbGVIb29rKHR5cGUsIGxjUHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgaW5zdGFuY2VvZiBUeXBlICYmIGxjUHJvcGVydHkgaW4gdHlwZS5wcm90b3R5cGU7XG4gICAgfVxuICAgIGd1YXJkcyh0eXBlKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZ2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICdyZXR1cm4gby4nICsgbmFtZSArICc7Jyk7XG4gICAgfVxuICAgIHNldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ28nLCAndicsICdyZXR1cm4gby4nICsgbmFtZSArICcgPSB2OycpO1xuICAgIH1cbiAgICBtZXRob2QobmFtZSkge1xuICAgICAgICBjb25zdCBmdW5jdGlvbkJvZHkgPSBgaWYgKCFvLiR7bmFtZX0pIHRocm93IG5ldyBFcnJvcignXCIke25hbWV9XCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIHJldHVybiBvLiR7bmFtZX0uYXBwbHkobywgYXJncyk7YDtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICdhcmdzJywgZnVuY3Rpb25Cb2R5KTtcbiAgICB9XG4gICAgLy8gVGhlcmUgaXMgbm90IGEgY29uY2VwdCBvZiBpbXBvcnQgdXJpIGluIEpzLCBidXQgdGhpcyBpcyB1c2VmdWwgaW4gZGV2ZWxvcGluZyBEYXJ0IGFwcGxpY2F0aW9ucy5cbiAgICBpbXBvcnRVcmkodHlwZSkge1xuICAgICAgICAvLyBTdGF0aWNTeW1ib2xcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlWydmaWxlUGF0aCddKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZVsnZmlsZVBhdGgnXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSdW50aW1lIHR5cGVcbiAgICAgICAgcmV0dXJuIGAuLyR7c3RyaW5naWZ5KHR5cGUpfWA7XG4gICAgfVxuICAgIHJlc291cmNlVXJpKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGAuLyR7c3RyaW5naWZ5KHR5cGUpfWA7XG4gICAgfVxuICAgIHJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gcnVudGltZTtcbiAgICB9XG4gICAgcmVzb2x2ZUVudW0oZW51bUlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVudW1JZGVudGlmaWVyW25hbWVdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKGRlY29yYXRvckludm9jYXRpb25zKSB7XG4gICAgaWYgKCFkZWNvcmF0b3JJbnZvY2F0aW9ucykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBkZWNvcmF0b3JJbnZvY2F0aW9ucy5tYXAoZGVjb3JhdG9ySW52b2NhdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGRlY29yYXRvclR5cGUgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLnR5cGU7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25DbHMgPSBkZWNvcmF0b3JUeXBlLmFubm90YXRpb25DbHM7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25BcmdzID0gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzID8gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzIDogW107XG4gICAgICAgIHJldHVybiBuZXcgYW5ub3RhdGlvbkNscyguLi5hbm5vdGF0aW9uQXJncyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRDdG9yKGN0b3IpIHtcbiAgICBjb25zdCBwYXJlbnRQcm90byA9IGN0b3IucHJvdG90eXBlID8gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN0b3IucHJvdG90eXBlKSA6IG51bGw7XG4gICAgY29uc3QgcGFyZW50Q3RvciA9IHBhcmVudFByb3RvID8gcGFyZW50UHJvdG8uY29uc3RydWN0b3IgOiBudWxsO1xuICAgIC8vIE5vdGU6IFdlIGFsd2F5cyB1c2UgYE9iamVjdGAgYXMgdGhlIG51bGwgdmFsdWVcbiAgICAvLyB0byBzaW1wbGlmeSBjaGVja2luZyBsYXRlciBvbi5cbiAgICByZXR1cm4gcGFyZW50Q3RvciB8fCBPYmplY3Q7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX1RIUk9XX0lGX05PVF9GT1VORCA9IHt9O1xuY29uc3QgVEhST1dfSUZfTk9UX0ZPVU5EID0gX1RIUk9XX0lGX05PVF9GT1VORDtcbi8qXG4gKiBOYW1lIG9mIGEgcHJvcGVydHkgKHRoYXQgd2UgcGF0Y2ggb250byBESSBkZWNvcmF0b3IpLCB3aGljaCBpcyB1c2VkIGFzIGFuIGFubm90YXRpb24gb2Ygd2hpY2hcbiAqIEluamVjdEZsYWcgdGhpcyBkZWNvcmF0b3IgcmVwcmVzZW50cy4gVGhpcyBhbGxvd3MgdG8gYXZvaWQgZGlyZWN0IHJlZmVyZW5jZXMgdG8gdGhlIERJIGRlY29yYXRvcnNcbiAqIGluIHRoZSBjb2RlLCB0aHVzIG1ha2luZyB0aGVtIHRyZWUtc2hha2FibGUuXG4gKi9cbmNvbnN0IERJX0RFQ09SQVRPUl9GTEFHID0gJ19fTkdfRElfRkxBR19fJztcbmNvbnN0IE5HX1RFTVBfVE9LRU5fUEFUSCA9ICduZ1RlbXBUb2tlblBhdGgnO1xuY29uc3QgTkdfVE9LRU5fUEFUSCA9ICduZ1Rva2VuUGF0aCc7XG5jb25zdCBORVdfTElORSA9IC9cXG4vZ207XG5jb25zdCBOT19ORVdfTElORSA9ICfJtSc7XG5jb25zdCBTT1VSQ0UgPSAnX19zb3VyY2UnO1xuY29uc3QgVVNFX1ZBTFVFJDEgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgcHJvdmlkZTogU3RyaW5nLCB1c2VWYWx1ZTogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogQ3VycmVudCBpbmplY3RvciB2YWx1ZSB1c2VkIGJ5IGBpbmplY3RgLlxuICogLSBgdW5kZWZpbmVkYDogaXQgaXMgYW4gZXJyb3IgdG8gY2FsbCBgaW5qZWN0YFxuICogLSBgbnVsbGA6IGBpbmplY3RgIGNhbiBiZSBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIGluamVjdG9yIChsaW1wLW1vZGUpLlxuICogLSBJbmplY3RvciBpbnN0YW5jZTogVXNlIHRoZSBpbmplY3RvciBmb3IgcmVzb2x1dGlvbi5cbiAqL1xubGV0IF9jdXJyZW50SW5qZWN0b3IgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBzZXRDdXJyZW50SW5qZWN0b3IoaW5qZWN0b3IpIHtcbiAgICBjb25zdCBmb3JtZXIgPSBfY3VycmVudEluamVjdG9yO1xuICAgIF9jdXJyZW50SW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICByZXR1cm4gZm9ybWVyO1xufVxuZnVuY3Rpb24gaW5qZWN0SW5qZWN0b3JPbmx5KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICBpZiAoX2N1cnJlbnRJbmplY3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgIGBpbmplY3QoKSBtdXN0IGJlIGNhbGxlZCBmcm9tIGFuIGluamVjdGlvbiBjb250ZXh0YCA6XG4gICAgICAgICAgICAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDMgLyogTUlTU0lOR19JTkpFQ1RJT05fQ09OVEVYVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoX2N1cnJlbnRJbmplY3RvciA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCB1bmRlZmluZWQsIGZsYWdzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBfY3VycmVudEluamVjdG9yLmdldCh0b2tlbiwgZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCA/IG51bGwgOiB1bmRlZmluZWQsIGZsYWdzKTtcbiAgICB9XG59XG5mdW5jdGlvbiDJtcm1aW5qZWN0KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICByZXR1cm4gKGdldEluamVjdEltcGxlbWVudGF0aW9uKCkgfHwgaW5qZWN0SW5qZWN0b3JPbmx5KShyZXNvbHZlRm9yd2FyZFJlZih0b2tlbiksIGZsYWdzKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCBhIGZhY3RvcnkgZnVuY3Rpb24gY291bGQgbm90IGJlIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgZm9yIGFcbiAqIHBhcnRpY3VsYXIgY2xhc3MuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhbGxvd3MgdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHRvIGJlIG9wdGltaXplZCBhd2F5IHdoZW4gbmdEZXZNb2RlIGlzIHR1cm5lZFxuICogb2ZmLCBzYXZpbmcgYnl0ZXMgb2YgZ2VuZXJhdGVkIGNvZGUgd2hpbGUgc3RpbGwgcHJvdmlkaW5nIGEgZ29vZCBleHBlcmllbmNlIGluIGRldiBtb2RlLlxuICpcbiAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzcyBpcyBub3QgbWVudGlvbmVkIGhlcmUsIGJ1dCB3aWxsIGJlIGluIHRoZSBnZW5lcmF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBuYW1lXG4gKiBhbmQgdGh1cyBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWludmFsaWRGYWN0b3J5RGVwKGluZGV4KSB7XG4gICAgY29uc3QgbXNnID0gbmdEZXZNb2RlID9cbiAgICAgICAgYFRoaXMgY29uc3RydWN0b3IgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBBbmd1bGFyIERlcGVuZGVuY3kgSW5qZWN0aW9uIGJlY2F1c2UgaXRzIGRlcGVuZGVuY3kgYXQgaW5kZXggJHtpbmRleH0gb2YgdGhlIHBhcmFtZXRlciBsaXN0IGlzIGludmFsaWQuXG5UaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGRlcGVuZGVuY3kgdHlwZSBpcyBhIHByaW1pdGl2ZSBsaWtlIGEgc3RyaW5nIG9yIGlmIGFuIGFuY2VzdG9yIG9mIHRoaXMgY2xhc3MgaXMgbWlzc2luZyBhbiBBbmd1bGFyIGRlY29yYXRvci5cblxuUGxlYXNlIGNoZWNrIHRoYXQgMSkgdGhlIHR5cGUgZm9yIHRoZSBwYXJhbWV0ZXIgYXQgaW5kZXggJHtpbmRleH0gaXMgY29ycmVjdCBhbmQgMikgdGhlIGNvcnJlY3QgQW5ndWxhciBkZWNvcmF0b3JzIGFyZSBkZWZpbmVkIGZvciB0aGlzIGNsYXNzIGFuZCBpdHMgYW5jZXN0b3JzLmAgOlxuICAgICAgICAnaW52YWxpZCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG4vKipcbiAqIEluamVjdHMgYSB0b2tlbiBmcm9tIHRoZSBjdXJyZW50bHkgYWN0aXZlIGluamVjdG9yLlxuICpcbiAqIE11c3QgYmUgdXNlZCBpbiB0aGUgY29udGV4dCBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gc3VjaCBhcyBvbmUgZGVmaW5lZCBmb3IgYW5cbiAqIGBJbmplY3Rpb25Ub2tlbmAuIFRocm93cyBhbiBlcnJvciBpZiBub3QgY2FsbGVkIGZyb20gc3VjaCBhIGNvbnRleHQuXG4gKlxuICogV2l0aGluIHN1Y2ggYSBmYWN0b3J5IGZ1bmN0aW9uLCB1c2luZyB0aGlzIGZ1bmN0aW9uIHRvIHJlcXVlc3QgaW5qZWN0aW9uIG9mIGEgZGVwZW5kZW5jeVxuICogaXMgZmFzdGVyIGFuZCBtb3JlIHR5cGUtc2FmZSB0aGFuIHByb3ZpZGluZyBhbiBhZGRpdGlvbmFsIGFycmF5IG9mIGRlcGVuZGVuY2llc1xuICogKGFzIGhhcyBiZWVuIGNvbW1vbiB3aXRoIGB1c2VGYWN0b3J5YCBwcm92aWRlcnMpLlxuICpcbiAqIEBwYXJhbSB0b2tlbiBUaGUgaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgZGVwZW5kZW5jeSB0byBiZSBpbmplY3RlZC5cbiAqIEBwYXJhbSBmbGFncyBPcHRpb25hbCBmbGFncyB0aGF0IGNvbnRyb2wgaG93IGluamVjdGlvbiBpcyBleGVjdXRlZC5cbiAqIFRoZSBmbGFncyBjb3JyZXNwb25kIHRvIGluamVjdGlvbiBzdHJhdGVnaWVzIHRoYXQgY2FuIGJlIHNwZWNpZmllZCB3aXRoXG4gKiBwYXJhbWV0ZXIgZGVjb3JhdG9ycyBgQEhvc3RgLCBgQFNlbGZgLCBgQFNraXBTZWZgLCBhbmQgYEBPcHRpb25hbGAuXG4gKiBAcmV0dXJucyB0aGUgaW5qZWN0ZWQgdmFsdWUgaWYgaW5qZWN0aW9uIGlzIHN1Y2Nlc3NmdWwsIGBudWxsYCBvdGhlcndpc2UuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdTaGFrYWJsZUluamVjdGlvblRva2VuJ31cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IGluamVjdCA9IMm1ybVpbmplY3Q7XG5mdW5jdGlvbiBpbmplY3RBcmdzKHR5cGVzKSB7XG4gICAgY29uc3QgYXJncyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYXJnID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZXNbaV0pO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICBpZiAoYXJnLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICAgICAgJ0FyZ3VtZW50cyBhcnJheSBtdXN0IGhhdmUgYXJndW1lbnRzLicgOlxuICAgICAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMCAvKiBJTlZBTElEX0RJRkZFUl9JTlBVVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJnLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGFyZ1tqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBmbGFnID0gZ2V0SW5qZWN0RmxhZyhtZXRhKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZsYWcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSB3aGVuIHdlIGhhbmRsZSBASW5qZWN0IGRlY29yYXRvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcgPT09IC0xIC8qIEluamVjdCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG1ldGEudG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyB8PSBmbGFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gbWV0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnB1c2goybXJtWluamVjdCh0eXBlLCBmbGFncykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXJncy5wdXNoKMm1ybVpbmplY3QoYXJnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyZ3M7XG59XG4vKipcbiAqIEF0dGFjaGVzIGEgZ2l2ZW4gSW5qZWN0RmxhZyB0byBhIGdpdmVuIGRlY29yYXRvciB1c2luZyBtb25rZXktcGF0Y2hpbmcuXG4gKiBTaW5jZSBESSBkZWNvcmF0b3JzIGNhbiBiZSB1c2VkIGluIHByb3ZpZGVycyBgZGVwc2AgYXJyYXkgKHdoZW4gcHJvdmlkZXIgaXMgY29uZmlndXJlZCB1c2luZ1xuICogYHVzZUZhY3RvcnlgKSB3aXRob3V0IGluaXRpYWxpemF0aW9uIChlLmcuIGBIb3N0YCkgYW5kIGFzIGFuIGluc3RhbmNlIChlLmcuIGBuZXcgSG9zdCgpYCksIHdlXG4gKiBhdHRhY2ggdGhlIGZsYWcgdG8gbWFrZSBpdCBhdmFpbGFibGUgYm90aCBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBhbmQgYXMgYSBmaWVsZCBvbiBkZWNvcmF0b3JcbiAqIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBkZWNvcmF0b3IgUHJvdmlkZWQgREkgZGVjb3JhdG9yLlxuICogQHBhcmFtIGZsYWcgSW5qZWN0RmxhZyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkLlxuICovXG5mdW5jdGlvbiBhdHRhY2hJbmplY3RGbGFnKGRlY29yYXRvciwgZmxhZykge1xuICAgIGRlY29yYXRvcltESV9ERUNPUkFUT1JfRkxBR10gPSBmbGFnO1xuICAgIGRlY29yYXRvci5wcm90b3R5cGVbRElfREVDT1JBVE9SX0ZMQUddID0gZmxhZztcbiAgICByZXR1cm4gZGVjb3JhdG9yO1xufVxuLyoqXG4gKiBSZWFkcyBtb25rZXktcGF0Y2hlZCBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zIEluamVjdEZsYWcgYXR0YWNoZWQgdG8gYSBkZWNvcmF0b3IuXG4gKlxuICogQHBhcmFtIHRva2VuIFRva2VuIHRoYXQgbWF5IGNvbnRhaW4gbW9ua2V5LXBhdGNoZWQgREkgZmxhZ3MgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdEZsYWcodG9rZW4pIHtcbiAgICByZXR1cm4gdG9rZW5bRElfREVDT1JBVE9SX0ZMQUddO1xufVxuZnVuY3Rpb24gY2F0Y2hJbmplY3RvckVycm9yKGUsIHRva2VuLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlKSB7XG4gICAgY29uc3QgdG9rZW5QYXRoID0gZVtOR19URU1QX1RPS0VOX1BBVEhdO1xuICAgIGlmICh0b2tlbltTT1VSQ0VdKSB7XG4gICAgICAgIHRva2VuUGF0aC51bnNoaWZ0KHRva2VuW1NPVVJDRV0pO1xuICAgIH1cbiAgICBlLm1lc3NhZ2UgPSBmb3JtYXRFcnJvcignXFxuJyArIGUubWVzc2FnZSwgdG9rZW5QYXRoLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlKTtcbiAgICBlW05HX1RPS0VOX1BBVEhdID0gdG9rZW5QYXRoO1xuICAgIGVbTkdfVEVNUF9UT0tFTl9QQVRIXSA9IG51bGw7XG4gICAgdGhyb3cgZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHRleHQsIG9iaiwgaW5qZWN0b3JFcnJvck5hbWUsIHNvdXJjZSA9IG51bGwpIHtcbiAgICB0ZXh0ID0gdGV4dCAmJiB0ZXh0LmNoYXJBdCgwKSA9PT0gJ1xcbicgJiYgdGV4dC5jaGFyQXQoMSkgPT0gTk9fTkVXX0xJTkUgPyB0ZXh0LnN1YnN0cigyKSA6IHRleHQ7XG4gICAgbGV0IGNvbnRleHQgPSBzdHJpbmdpZnkob2JqKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvbnRleHQgPSBvYmoubWFwKHN0cmluZ2lmeSkuam9pbignIC0+ICcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICBsZXQgcGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChrZXkgKyAnOicgKyAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHN0cmluZ2lmeSh2YWx1ZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gYHske3BhcnRzLmpvaW4oJywgJyl9fWA7XG4gICAgfVxuICAgIHJldHVybiBgJHtpbmplY3RvckVycm9yTmFtZX0ke3NvdXJjZSA/ICcoJyArIHNvdXJjZSArICcpJyA6ICcnfVske2NvbnRleHR9XTogJHt0ZXh0LnJlcGxhY2UoTkVXX0xJTkUsICdcXG4gICcpfWA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBJbmplY3QgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBJbmplY3QgPSBhdHRhY2hJbmplY3RGbGFnKFxuLy8gRGlzYWJsZSB0c2xpbnQgYmVjYXVzZSBgRGVjb3JhdG9yRmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xubWFrZVBhcmFtRGVjb3JhdG9yKCdJbmplY3QnLCAodG9rZW4pID0+ICh7IHRva2VuIH0pKSwgLTEgLyogSW5qZWN0ICovKTtcbi8qKlxuICogT3B0aW9uYWwgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBPcHRpb25hbCA9IFxuLy8gRGlzYWJsZSB0c2xpbnQgYmVjYXVzZSBgSW50ZXJuYWxJbmplY3RGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5hdHRhY2hJbmplY3RGbGFnKG1ha2VQYXJhbURlY29yYXRvcignT3B0aW9uYWwnKSwgOCAvKiBPcHRpb25hbCAqLyk7XG4vKipcbiAqIFNlbGYgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBTZWxmID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdTZWxmJyksIDIgLyogU2VsZiAqLyk7XG4vKipcbiAqIGBTa2lwU2VsZmAgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBTa2lwU2VsZiA9IFxuLy8gRGlzYWJsZSB0c2xpbnQgYmVjYXVzZSBgSW50ZXJuYWxJbmplY3RGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5hdHRhY2hJbmplY3RGbGFnKG1ha2VQYXJhbURlY29yYXRvcignU2tpcFNlbGYnKSwgNCAvKiBTa2lwU2VsZiAqLyk7XG4vKipcbiAqIEhvc3QgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBIb3N0ID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdIb3N0JyksIDEgLyogSG9zdCAqLyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9yZWZsZWN0ID0gbnVsbDtcbmZ1bmN0aW9uIGdldFJlZmxlY3QoKSB7XG4gICAgcmV0dXJuIChfcmVmbGVjdCA9IF9yZWZsZWN0IHx8IG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xufVxuZnVuY3Rpb24gcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSB7XG4gICAgcmV0dXJuIGNvbnZlcnREZXBlbmRlbmNpZXMoZ2V0UmVmbGVjdCgpLnBhcmFtZXRlcnModHlwZSkpO1xufVxuZnVuY3Rpb24gY29udmVydERlcGVuZGVuY2llcyhkZXBzKSB7XG4gICAgcmV0dXJuIGRlcHMubWFwKGRlcCA9PiByZWZsZWN0RGVwZW5kZW5jeShkZXApKTtcbn1cbmZ1bmN0aW9uIHJlZmxlY3REZXBlbmRlbmN5KGRlcCkge1xuICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgICBhdHRyaWJ1dGU6IG51bGwsXG4gICAgICAgIGhvc3Q6IGZhbHNlLFxuICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgIHNlbGY6IGZhbHNlLFxuICAgICAgICBza2lwU2VsZjogZmFsc2UsXG4gICAgfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApICYmIGRlcC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGVwLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbSA9IGRlcFtqXTtcbiAgICAgICAgICAgIGlmIChwYXJhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYW0gbWF5IGJlIHVuZGVmaW5lZCBpZiB0eXBlIG9mIGRlcCBpcyBub3Qgc2V0IGJ5IG5ndHNjXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJhbSk7XG4gICAgICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBPcHRpb25hbCB8fCBwcm90by5uZ01ldGFkYXRhTmFtZSA9PT0gJ09wdGlvbmFsJykge1xuICAgICAgICAgICAgICAgIG1ldGEub3B0aW9uYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBTa2lwU2VsZiB8fCBwcm90by5uZ01ldGFkYXRhTmFtZSA9PT0gJ1NraXBTZWxmJykge1xuICAgICAgICAgICAgICAgIG1ldGEuc2tpcFNlbGYgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBTZWxmIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnU2VsZicpIHtcbiAgICAgICAgICAgICAgICBtZXRhLnNlbGYgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBIb3N0IHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnSG9zdCcpIHtcbiAgICAgICAgICAgICAgICBtZXRhLmhvc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgICAgICBtZXRhLnRva2VuID0gcGFyYW0udG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5hdHRyaWJ1dGVOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRyaWJ1dGUgbmFtZSBtdXN0IGJlIGRlZmluZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGEuYXR0cmlidXRlID0gcGFyYW0uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1ldGEudG9rZW4gPSBwYXJhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChkZXAgPT09IHVuZGVmaW5lZCB8fCAoQXJyYXkuaXNBcnJheShkZXApICYmIGRlcC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIG1ldGEudG9rZW4gPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWV0YS50b2tlbiA9IGRlcDtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGE7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgcmVzb3VyY2UgVVJMcyBvbiBgQENvbXBvbmVudGAgd2hlbiB1c2VkIHdpdGggSklUIGNvbXBpbGF0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXAnLFxuICogICB0ZW1wbGF0ZVVybDogJ215LWNvbXAuaHRtbCcsIC8vIFRoaXMgcmVxdWlyZXMgYXN5bmNocm9ub3VzIHJlc29sdXRpb25cbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudHtcbiAqIH1cbiAqXG4gKiAvLyBDYWxsaW5nIGByZW5kZXJDb21wb25lbnRgIHdpbGwgZmFpbCBiZWNhdXNlIGByZW5kZXJDb21wb25lbnRgIGlzIGEgc3luY2hyb25vdXMgcHJvY2Vzc1xuICogLy8gYW5kIGBNeUNvbXBvbmVudGAncyBgQENvbXBvbmVudC50ZW1wbGF0ZVVybGAgbmVlZHMgdG8gYmUgcmVzb2x2ZWQgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogLy8gQ2FsbGluZyBgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcygpYCB3aWxsIHJlc29sdmUgYEBDb21wb25lbnQudGVtcGxhdGVVcmxgIGludG9cbiAqIC8vIGBAQ29tcG9uZW50LnRlbXBsYXRlYCwgd2hpY2ggYWxsb3dzIGByZW5kZXJDb21wb25lbnRgIHRvIHByb2NlZWQgaW4gYSBzeW5jaHJvbm91cyBtYW5uZXIuXG4gKlxuICogLy8gVXNlIGJyb3dzZXIncyBgZmV0Y2goKWAgZnVuY3Rpb24gYXMgdGhlIGRlZmF1bHQgcmVzb3VyY2UgcmVzb2x1dGlvbiBzdHJhdGVneS5cbiAqIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMoZmV0Y2gpLnRoZW4oKCkgPT4ge1xuICogICAvLyBBZnRlciByZXNvbHV0aW9uIGFsbCBVUkxzIGhhdmUgYmVlbiBjb252ZXJ0ZWQgaW50byBgdGVtcGxhdGVgIHN0cmluZ3MuXG4gKiAgIHJlbmRlckNvbXBvbmVudChNeUNvbXBvbmVudCk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBOT1RFOiBJbiBBT1QgdGhlIHJlc29sdXRpb24gaGFwcGVucyBkdXJpbmcgY29tcGlsYXRpb24sIGFuZCBzbyB0aGVyZSBzaG91bGQgYmUgbm8gbmVlZFxuICogdG8gY2FsbCB0aGlzIG1ldGhvZCBvdXRzaWRlIEpJVCBtb2RlLlxuICpcbiAqIEBwYXJhbSByZXNvdXJjZVJlc29sdmVyIGEgZnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJldHVybmluZyBhIGBQcm9taXNlYCB0byB0aGVcbiAqIGNvbnRlbnRzIG9mIHRoZSByZXNvbHZlZCBVUkwuIEJyb3dzZXIncyBgZmV0Y2goKWAgbWV0aG9kIGlzIGEgZ29vZCBkZWZhdWx0IGltcGxlbWVudGF0aW9uLlxuICovXG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKHJlc291cmNlUmVzb2x2ZXIpIHtcbiAgICAvLyBTdG9yZSBhbGwgcHJvbWlzZXMgd2hpY2ggYXJlIGZldGNoaW5nIHRoZSByZXNvdXJjZXMuXG4gICAgY29uc3QgY29tcG9uZW50UmVzb2x2ZWQgPSBbXTtcbiAgICAvLyBDYWNoZSBzbyB0aGF0IHdlIGRvbid0IGZldGNoIHRoZSBzYW1lIHJlc291cmNlIG1vcmUgdGhhbiBvbmNlLlxuICAgIGNvbnN0IHVybE1hcCA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBjYWNoZWRSZXNvdXJjZVJlc29sdmUodXJsKSB7XG4gICAgICAgIGxldCBwcm9taXNlID0gdXJsTWFwLmdldCh1cmwpO1xuICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3AgPSByZXNvdXJjZVJlc29sdmVyKHVybCk7XG4gICAgICAgICAgICB1cmxNYXAuc2V0KHVybCwgcHJvbWlzZSA9IHJlc3AudGhlbih1bndyYXBSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5mb3JFYWNoKChjb21wb25lbnQsIHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgaWYgKGNvbXBvbmVudC50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjYWNoZWRSZXNvdXJjZVJlc29sdmUoY29tcG9uZW50LnRlbXBsYXRlVXJsKS50aGVuKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0eWxlVXJscyA9IGNvbXBvbmVudC5zdHlsZVVybHM7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGNvbXBvbmVudC5zdHlsZXMgfHwgKGNvbXBvbmVudC5zdHlsZXMgPSBbXSk7XG4gICAgICAgIGNvbnN0IHN0eWxlT2Zmc2V0ID0gY29tcG9uZW50LnN0eWxlcy5sZW5ndGg7XG4gICAgICAgIHN0eWxlVXJscyAmJiBzdHlsZVVybHMuZm9yRWFjaCgoc3R5bGVVcmwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCgnJyk7IC8vIHByZS1hbGxvY2F0ZSBhcnJheS5cbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goY2FjaGVkUmVzb3VyY2VSZXNvbHZlKHN0eWxlVXJsKS50aGVuKChzdHlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN0eWxlc1tzdHlsZU9mZnNldCArIGluZGV4XSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIHN0eWxlVXJscy5zcGxpY2Uoc3R5bGVVcmxzLmluZGV4T2Yoc3R5bGVVcmwpLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVVcmxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdHlsZVVybHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVsbHlSZXNvbHZlZCA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IGNvbXBvbmVudERlZlJlc29sdmVkKHR5cGUpKTtcbiAgICAgICAgY29tcG9uZW50UmVzb2x2ZWQucHVzaChmdWxseVJlc29sdmVkKTtcbiAgICB9KTtcbiAgICBjbGVhclJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlc1F1ZXVlKCk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGNvbXBvbmVudFJlc29sdmVkKS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5sZXQgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBuZXcgTWFwKCk7XG4vLyBUcmFjayB3aGVuIGV4aXN0aW5nIMm1Y21wIGZvciBhIFR5cGUgaXMgd2FpdGluZyBvbiByZXNvdXJjZXMuXG5jb25zdCBjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIG1heWJlUXVldWVSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXModHlwZSwgbWV0YWRhdGEpIHtcbiAgICBpZiAoY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKG1ldGFkYXRhKSkge1xuICAgICAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5zZXQodHlwZSwgbWV0YWRhdGEpO1xuICAgICAgICBjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbi5hZGQodHlwZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNDb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbih0eXBlKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmhhcyh0eXBlKTtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbihjb21wb25lbnQpIHtcbiAgICByZXR1cm4gISEoKGNvbXBvbmVudC50ZW1wbGF0ZVVybCAmJiAhY29tcG9uZW50Lmhhc093blByb3BlcnR5KCd0ZW1wbGF0ZScpKSB8fFxuICAgICAgICBjb21wb25lbnQuc3R5bGVVcmxzICYmIGNvbXBvbmVudC5zdHlsZVVybHMubGVuZ3RoKTtcbn1cbmZ1bmN0aW9uIGNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUoKSB7XG4gICAgY29uc3Qgb2xkID0gY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWU7XG4gICAgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIG9sZDtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVDb21wb25lbnRSZXNvbHV0aW9uUXVldWUocXVldWUpIHtcbiAgICBjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbi5jbGVhcigpO1xuICAgIHF1ZXVlLmZvckVhY2goKF8sIHR5cGUpID0+IGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmFkZCh0eXBlKSk7XG4gICAgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBxdWV1ZTtcbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWVFbXB0eSgpIHtcbiAgICByZXR1cm4gY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUuc2l6ZSA9PT0gMDtcbn1cbmZ1bmN0aW9uIHVud3JhcFJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiByZXNwb25zZSA9PSAnc3RyaW5nJyA/IHJlc3BvbnNlIDogcmVzcG9uc2UudGV4dCgpO1xufVxuZnVuY3Rpb24gY29tcG9uZW50RGVmUmVzb2x2ZWQodHlwZSkge1xuICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmRlbGV0ZSh0eXBlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLCBvciB1bmRlZmluZWQgaWYgdGhlIHBvbGljeSBoYXMgbm90IGJlZW4gY3JlYXRlZCB5ZXQuXG4gKi9cbmxldCBwb2xpY3kkMTtcbi8qKlxuICogUmV0dXJucyB0aGUgVHJ1c3RlZCBUeXBlcyBwb2xpY3ksIG9yIG51bGwgaWYgVHJ1c3RlZCBUeXBlcyBhcmUgbm90XG4gKiBlbmFibGVkL3N1cHBvcnRlZC4gVGhlIGZpcnN0IGNhbGwgdG8gdGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSB0aGUgcG9saWN5LlxuICovXG5mdW5jdGlvbiBnZXRQb2xpY3kkMSgpIHtcbiAgICBpZiAocG9saWN5JDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2xpY3kkMSA9IG51bGw7XG4gICAgICAgIGlmIChfZ2xvYmFsLnRydXN0ZWRUeXBlcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb2xpY3kkMSA9IF9nbG9iYWwudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgnYW5ndWxhcicsIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSFRNTDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFVSTDogKHMpID0+IHMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAvLyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5IHRocm93cyBpZiBjYWxsZWQgd2l0aCBhIG5hbWUgdGhhdCBpc1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgcmVnaXN0ZXJlZCwgZXZlbiBpbiByZXBvcnQtb25seSBtb2RlLiBVbnRpbCB0aGUgQVBJIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgLy8gY2F0Y2ggdGhlIGVycm9yIG5vdCB0byBicmVhayB0aGUgYXBwbGljYXRpb25zIGZ1bmN0aW9uYWxseS4gSW4gc3VjaFxuICAgICAgICAgICAgICAgIC8vIGNhc2VzLCB0aGUgY29kZSB3aWxsIGZhbGwgYmFjayB0byB1c2luZyBzdHJpbmdzLlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2xpY3kkMTtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRIVE1MLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5ncyB3aGVuXG4gKiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlXG4gKiBwcm92aWRlZCBzdHJpbmcgd2lsbCBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dFxuICogdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIEhUTUwgYnkgYSBicm93c2VyLCBlLmcuIHdoZW4gYXNzaWduaW5nIHRvXG4gKiBlbGVtZW50LmlubmVySFRNTC5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBnZXRQb2xpY3kkMSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3JlYXRlSFRNTChodG1sKSkgfHwgaHRtbDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHQsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlIHByb3ZpZGVkIHN0cmluZyB3aWxsXG4gKiBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dCB0aGF0IHdpbGwgYmVcbiAqIGludGVycHJldGVkIGFuZCBleGVjdXRlZCBhcyBhIHNjcmlwdCBieSBhIGJyb3dzZXIsIGUuZy4gd2hlbiBjYWxsaW5nIGV2YWwuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nKHNjcmlwdCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSQxKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVTY3JpcHQoc2NyaXB0KSkgfHwgc2NyaXB0O1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZFNjcmlwdFVSTCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3NcbiAqIHdoZW4gVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IHRoZVxuICogcHJvdmlkZWQgc3RyaW5nIHdpbGwgbmV2ZXIgY2F1c2UgYW4gWFNTIHZ1bG5lcmFiaWxpdHkgaWYgdXNlZCBpbiBhIGNvbnRleHRcbiAqIHRoYXQgd2lsbCBjYXVzZSBhIGJyb3dzZXIgdG8gbG9hZCBhbmQgZXhlY3V0ZSBhIHJlc291cmNlLCBlLmcuIHdoZW5cbiAqIGFzc2lnbmluZyB0byBzY3JpcHQuc3JjLlxuICovXG5mdW5jdGlvbiB0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZyh1cmwpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBnZXRQb2xpY3kkMSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3JlYXRlU2NyaXB0VVJMKHVybCkpIHx8IHVybDtcbn1cbi8qKlxuICogVW5zYWZlbHkgY2FsbCB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc3RyaW5nIGFyZ3VtZW50cy4gSXRcbiAqIGlzIG9ubHkgYXZhaWxhYmxlIGluIGRldmVsb3BtZW50IG1vZGUsIGFuZCBzaG91bGQgYmUgc3RyaXBwZWQgb3V0IG9mXG4gKiBwcm9kdWN0aW9uIGNvZGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBjYWxsZWQgZnJvbSBkZXZlbG9wbWVudCBjb2RlLCBhcyB1c2UgaW4gcHJvZHVjdGlvbiBjb2RlIGNhbiBsZWFkIHRvXG4gKiBYU1MgdnVsbmVyYWJpbGl0aWVzLlxuICovXG5mdW5jdGlvbiBuZXdUcnVzdGVkRnVuY3Rpb25Gb3JEZXYoLi4uYXJncykge1xuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25ld1RydXN0ZWRGdW5jdGlvbkZvckRldiBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGluIHByb2R1Y3Rpb24nKTtcbiAgICB9XG4gICAgaWYgKCFfZ2xvYmFsLnRydXN0ZWRUeXBlcykge1xuICAgICAgICAvLyBJbiBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBzdXBwb3J0IFRydXN0ZWQgVHlwZXMsIGZhbGwgYmFjayB0byB0aGUgbW9zdFxuICAgICAgICAvLyBzdHJhaWdodGZvcndhcmQgaW1wbGVtZW50YXRpb246XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oLi4uYXJncyk7XG4gICAgfVxuICAgIC8vIENocm9tZSBjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBwYXNzaW5nIFRydXN0ZWRTY3JpcHQgdG8gdGhlIEZ1bmN0aW9uXG4gICAgLy8gY29uc3RydWN0b3IuIFRoZSBmb2xsb3dpbmcgaW1wbGVtZW50cyB0aGUgd29ya2Fyb3VuZCBwcm9wb3NlZCBvbiB0aGUgcGFnZVxuICAgIC8vIGJlbG93LCB3aGVyZSB0aGUgQ2hyb21pdW0gYnVnIGlzIGFsc28gcmVmZXJlbmNlZDpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL3dlYmFwcHNlYy10cnVzdGVkLXR5cGVzL3dpa2kvVHJ1c3RlZC1UeXBlcy1mb3ItZnVuY3Rpb24tY29uc3RydWN0b3JcbiAgICBjb25zdCBmbkFyZ3MgPSBhcmdzLnNsaWNlKDAsIC0xKS5qb2luKCcsJyk7XG4gICAgY29uc3QgZm5Cb2R5ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGJvZHkgPSBgKGZ1bmN0aW9uIGFub255bW91cygke2ZuQXJnc31cbikgeyAke2ZuQm9keX1cbn0pYDtcbiAgICAvLyBVc2luZyBldmFsIGRpcmVjdGx5IGNvbmZ1c2VzIHRoZSBjb21waWxlciBhbmQgcHJldmVudHMgdGhpcyBtb2R1bGUgZnJvbVxuICAgIC8vIGJlaW5nIHN0cmlwcGVkIG91dCBvZiBKUyBiaW5hcmllcyBldmVuIGlmIG5vdCB1c2VkLiBUaGUgZ2xvYmFsWydldmFsJ11cbiAgICAvLyBpbmRpcmVjdGlvbiBmaXhlcyB0aGF0LlxuICAgIGNvbnN0IGZuID0gX2dsb2JhbFsnZXZhbCddKHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nKGJvZHkpKTtcbiAgICBpZiAoZm4uYmluZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGEgYnJvd3NlciBidWcgdGhhdCBvbmx5IGV4aXN0cyBpbiBDaHJvbWUgODMsIHdoZXJlIHBhc3NpbmdcbiAgICAgICAgLy8gYSBUcnVzdGVkU2NyaXB0IHRvIGV2YWwganVzdCByZXR1cm5zIHRoZSBUcnVzdGVkU2NyaXB0IGJhY2sgd2l0aG91dFxuICAgICAgICAvLyBldmFsdWF0aW5nIGl0LiBJbiB0aGF0IGNhc2UsIGZhbGwgYmFjayB0byB0aGUgbW9zdCBzdHJhaWdodGZvcndhcmRcbiAgICAgICAgLy8gaW1wbGVtZW50YXRpb246XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oLi4uYXJncyk7XG4gICAgfVxuICAgIC8vIFRvIGNvbXBsZXRlbHkgbWltaWMgdGhlIGJlaGF2aW9yIG9mIGNhbGxpbmcgXCJuZXcgRnVuY3Rpb25cIiwgdHdvIG1vcmVcbiAgICAvLyB0aGluZ3MgbmVlZCB0byBoYXBwZW46XG4gICAgLy8gMS4gU3RyaW5naWZ5aW5nIHRoZSByZXN1bHRpbmcgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBpdHMgc291cmNlIGNvZGVcbiAgICBmbi50b1N0cmluZyA9ICgpID0+IGJvZHk7XG4gICAgLy8gMi4gV2hlbiBjYWxsaW5nIHRoZSByZXN1bHRpbmcgZnVuY3Rpb24sIGB0aGlzYCBzaG91bGQgcmVmZXIgdG8gYGdsb2JhbGBcbiAgICByZXR1cm4gZm4uYmluZChfZ2xvYmFsKTtcbiAgICAvLyBXaGVuIFRydXN0ZWQgVHlwZXMgc3VwcG9ydCBpbiBGdW5jdGlvbiBjb25zdHJ1Y3RvcnMgaXMgd2lkZWx5IGF2YWlsYWJsZSxcbiAgICAvLyB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBmdW5jdGlvbiBjYW4gYmUgc2ltcGxpZmllZCB0bzpcbiAgICAvLyByZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLmFyZ3MubWFwKGEgPT4gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoYSkpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLCBvciB1bmRlZmluZWQgaWYgdGhlIHBvbGljeSBoYXMgbm90IGJlZW4gY3JlYXRlZCB5ZXQuXG4gKi9cbmxldCBwb2xpY3k7XG4vKipcbiAqIFJldHVybnMgdGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQuIFRoZSBmaXJzdCBjYWxsIHRvIHRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgdGhlIHBvbGljeS5cbiAqL1xuZnVuY3Rpb24gZ2V0UG9saWN5KCkge1xuICAgIGlmIChwb2xpY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2xpY3kgPSBudWxsO1xuICAgICAgICBpZiAoX2dsb2JhbC50cnVzdGVkVHlwZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcG9saWN5ID0gX2dsb2JhbC50cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZVBvbGljeSgnYW5ndWxhciN1bnNhZmUtYnlwYXNzJywge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0OiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0VVJMOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIC8vIHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3kgdGhyb3dzIGlmIGNhbGxlZCB3aXRoIGEgbmFtZSB0aGF0IGlzXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkLCBldmVuIGluIHJlcG9ydC1vbmx5IG1vZGUuIFVudGlsIHRoZSBBUEkgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAvLyBjYXRjaCB0aGUgZXJyb3Igbm90IHRvIGJyZWFrIHRoZSBhcHBsaWNhdGlvbnMgZnVuY3Rpb25hbGx5LiBJbiBzdWNoXG4gICAgICAgICAgICAgICAgLy8gY2FzZXMsIHRoZSBjb2RlIHdpbGwgZmFsbCBiYWNrIHRvIHVzaW5nIHN0cmluZ3MuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeTtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRIVE1MLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5ncyB3aGVuXG4gKiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgaXRcbiAqIGlzIG9ubHkgcGFzc2VkIHN0cmluZ3MgdGhhdCBjb21lIGRpcmVjdGx5IGZyb20gY3VzdG9tIHNhbml0aXplcnMgb3IgdGhlXG4gKiBieXBhc3NTZWN1cml0eVRydXN0KiBmdW5jdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRIVE1MRnJvbVN0cmluZ0J5cGFzcyhodG1sKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gZ2V0UG9saWN5KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVIVE1MKGh0bWwpKSB8fCBodG1sO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZFNjcmlwdCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IGl0XG4gKiBpcyBvbmx5IHBhc3NlZCBzdHJpbmdzIHRoYXQgY29tZSBkaXJlY3RseSBmcm9tIGN1c3RvbSBzYW5pdGl6ZXJzIG9yIHRoZVxuICogYnlwYXNzU2VjdXJpdHlUcnVzdCogZnVuY3Rpb25zLlxuICovXG5mdW5jdGlvbiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZ0J5cGFzcyhzY3JpcHQpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBnZXRQb2xpY3koKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZVNjcmlwdChzY3JpcHQpKSB8fCBzY3JpcHQ7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0VVJMLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5nc1xuICogd2hlbiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgaXRcbiAqIGlzIG9ubHkgcGFzc2VkIHN0cmluZ3MgdGhhdCBjb21lIGRpcmVjdGx5IGZyb20gY3VzdG9tIHNhbml0aXplcnMgb3IgdGhlXG4gKiBieXBhc3NTZWN1cml0eVRydXN0KiBmdW5jdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nQnlwYXNzKHVybCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3JlYXRlU2NyaXB0VVJMKHVybCkpIHx8IHVybDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5KSB7XG4gICAgICAgIHRoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eSA9IGNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYFNhZmVWYWx1ZSBtdXN0IHVzZSBbcHJvcGVydHldPWJpbmRpbmc6ICR7dGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5fWAgK1xuICAgICAgICAgICAgYCAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYDtcbiAgICB9XG59XG5jbGFzcyBTYWZlSHRtbEltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSFRNTFwiIC8qIEh0bWwgKi87XG4gICAgfVxufVxuY2xhc3MgU2FmZVN0eWxlSW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTdHlsZVwiIC8qIFN0eWxlICovO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVTY3JpcHRJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlNjcmlwdFwiIC8qIFNjcmlwdCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlVXJsSW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJVUkxcIiAvKiBVcmwgKi87XG4gICAgfVxufVxuY2xhc3MgU2FmZVJlc291cmNlVXJsSW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJSZXNvdXJjZVVSTFwiIC8qIFJlc291cmNlVXJsICovO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNhZmVWYWx1ZUltcGwgPyB2YWx1ZS5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5IDpcbiAgICAgICAgdmFsdWU7XG59XG5mdW5jdGlvbiBhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHZhbHVlLCB0eXBlKSB7XG4gICAgY29uc3QgYWN0dWFsVHlwZSA9IGdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUodmFsdWUpO1xuICAgIGlmIChhY3R1YWxUeXBlICE9IG51bGwgJiYgYWN0dWFsVHlwZSAhPT0gdHlwZSkge1xuICAgICAgICAvLyBBbGxvdyBSZXNvdXJjZVVSTHMgaW4gVVJMIGNvbnRleHRzLCB0aGV5IGFyZSBzdHJpY3RseSBtb3JlIHRydXN0ZWQuXG4gICAgICAgIGlmIChhY3R1YWxUeXBlID09PSBcIlJlc291cmNlVVJMXCIgLyogUmVzb3VyY2VVcmwgKi8gJiYgdHlwZSA9PT0gXCJVUkxcIiAvKiBVcmwgKi8pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXF1aXJlZCBhIHNhZmUgJHt0eXBlfSwgZ290IGEgJHthY3R1YWxUeXBlfSAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYCk7XG4gICAgfVxuICAgIHJldHVybiBhY3R1YWxUeXBlID09PSB0eXBlO1xufVxuZnVuY3Rpb24gZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNhZmVWYWx1ZUltcGwgJiYgdmFsdWUuZ2V0VHlwZU5hbWUoKSB8fCBudWxsO1xufVxuLyoqXG4gKiBNYXJrIGBodG1sYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIGh0bWxTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZEh0bWwgYGh0bWxgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBodG1sYCB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RIdG1sKHRydXN0ZWRIdG1sKSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlSHRtbEltcGwodHJ1c3RlZEh0bWwpO1xufVxuLyoqXG4gKiBNYXJrIGBzdHlsZWAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayBzdHlsZVNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkU3R5bGUgYHN0eWxlYCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgc3R5bGVgIGhpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUodHJ1c3RlZFN0eWxlKSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlU3R5bGVJbXBsKHRydXN0ZWRTdHlsZSk7XG59XG4vKipcbiAqIE1hcmsgYHNjcmlwdGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayBzY3JpcHRTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZFNjcmlwdCBgc2NyaXB0YCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgc2NyaXB0YCB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQodHJ1c3RlZFNjcmlwdCkge1xuICAgIHJldHVybiBuZXcgU2FmZVNjcmlwdEltcGwodHJ1c3RlZFNjcmlwdCk7XG59XG4vKipcbiAqIE1hcmsgYHVybGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayB1cmxTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZFVybCBgdXJsYCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgdXJsYCAgd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0VXJsKHRydXN0ZWRVcmwpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVVcmxJbXBsKHRydXN0ZWRVcmwpO1xufVxuLyoqXG4gKiBNYXJrIGB1cmxgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgcmVzb3VyY2VVcmxTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZFJlc291cmNlVXJsIGB1cmxgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGB1cmxgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsKHRydXN0ZWRSZXNvdXJjZVVybCkge1xuICAgIHJldHVybiBuZXcgU2FmZVJlc291cmNlVXJsSW1wbCh0cnVzdGVkUmVzb3VyY2VVcmwpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBoZWxwZXIgaXMgdXNlZCB0byBnZXQgaG9sZCBvZiBhbiBpbmVydCB0cmVlIG9mIERPTSBlbGVtZW50cyBjb250YWluaW5nIGRpcnR5IEhUTUxcbiAqIHRoYXQgbmVlZHMgc2FuaXRpemluZy5cbiAqIERlcGVuZGluZyB1cG9uIGJyb3dzZXIgc3VwcG9ydCB3ZSB1c2Ugb25lIG9mIHR3byBzdHJhdGVnaWVzIGZvciBkb2luZyB0aGlzLlxuICogRGVmYXVsdDogRE9NUGFyc2VyIHN0cmF0ZWd5XG4gKiBGYWxsYmFjazogSW5lcnREb2N1bWVudCBzdHJhdGVneVxuICovXG5mdW5jdGlvbiBnZXRJbmVydEJvZHlIZWxwZXIoZGVmYXVsdERvYykge1xuICAgIGNvbnN0IGluZXJ0RG9jdW1lbnRIZWxwZXIgPSBuZXcgSW5lcnREb2N1bWVudEhlbHBlcihkZWZhdWx0RG9jKTtcbiAgICByZXR1cm4gaXNET01QYXJzZXJBdmFpbGFibGUoKSA/IG5ldyBET01QYXJzZXJIZWxwZXIoaW5lcnREb2N1bWVudEhlbHBlcikgOiBpbmVydERvY3VtZW50SGVscGVyO1xufVxuLyoqXG4gKiBVc2VzIERPTVBhcnNlciB0byBjcmVhdGUgYW5kIGZpbGwgYW4gaW5lcnQgYm9keSBlbGVtZW50LlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBzdHJhdGVneSB1c2VkIGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBpdC5cbiAqL1xuY2xhc3MgRE9NUGFyc2VySGVscGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpbmVydERvY3VtZW50SGVscGVyKSB7XG4gICAgICAgIHRoaXMuaW5lcnREb2N1bWVudEhlbHBlciA9IGluZXJ0RG9jdW1lbnRIZWxwZXI7XG4gICAgfVxuICAgIGdldEluZXJ0Qm9keUVsZW1lbnQoaHRtbCkge1xuICAgICAgICAvLyBXZSBhZGQgdGhlc2UgZXh0cmEgZWxlbWVudHMgdG8gZW5zdXJlIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIGNvbnRlbnQgaXMgcGFyc2VkIGFzIGV4cGVjdGVkXG4gICAgICAgIC8vIGUuZy4gbGVhZGluZyB3aGl0ZXNwYWNlIGlzIG1haW50YWluZWQgYW5kIHRhZ3MgbGlrZSBgPG1ldGE+YCBkbyBub3QgZ2V0IGhvaXN0ZWQgdG8gdGhlXG4gICAgICAgIC8vIGA8aGVhZD5gIHRhZy4gTm90ZSB0aGF0IHRoZSBgPGJvZHk+YCB0YWcgaXMgY2xvc2VkIGltcGxpY2l0bHkgdG8gcHJldmVudCB1bmNsb3NlZCB0YWdzXG4gICAgICAgIC8vIGluIGBodG1sYCBmcm9tIGNvbnN1bWluZyB0aGUgb3RoZXJ3aXNlIGV4cGxpY2l0IGA8L2JvZHk+YCB0YWcuXG4gICAgICAgIGh0bWwgPSAnPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4nICsgaHRtbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpXG4gICAgICAgICAgICAgICAgLnBhcnNlRnJvbVN0cmluZyh0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCksICd0ZXh0L2h0bWwnKVxuICAgICAgICAgICAgICAgIC5ib2R5O1xuICAgICAgICAgICAgaWYgKGJvZHkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBzb21lIGJyb3dzZXJzIChlLmcuIE1vemlsbGEvNS4wIGlQYWQgQXBwbGVXZWJLaXQgTW9iaWxlKSB0aGUgYGJvZHlgIHByb3BlcnR5IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBiZWNvbWVzIGF2YWlsYWJsZSBpbiB0aGUgZm9sbG93aW5nIHRpY2sgb2YgdGhlIEpTIGVuZ2luZS4gSW4gdGhhdCBjYXNlIHdlIGZhbGwgYmFjayB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSBgaW5lcnREb2N1bWVudEhlbHBlcmAgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbmVydERvY3VtZW50SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQoaHRtbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgYW4gSFRNTDUgYHRlbXBsYXRlYCBlbGVtZW50LCBpZiBzdXBwb3J0ZWQsIG9yIGFuIGluZXJ0IGJvZHkgZWxlbWVudCBjcmVhdGVkIHZpYVxuICogYGNyZWF0ZUh0bWxEb2N1bWVudGAgdG8gY3JlYXRlIGFuZCBmaWxsIGFuIGluZXJ0IERPTSBlbGVtZW50LlxuICogVGhpcyBpcyB0aGUgZmFsbGJhY2sgc3RyYXRlZ3kgaWYgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBET01QYXJzZXIuXG4gKi9cbmNsYXNzIEluZXJ0RG9jdW1lbnRIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHREb2MpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0RG9jID0gZGVmYXVsdERvYztcbiAgICAgICAgdGhpcy5pbmVydERvY3VtZW50ID0gdGhpcy5kZWZhdWx0RG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnc2FuaXRpemF0aW9uLWluZXJ0Jyk7XG4gICAgICAgIGlmICh0aGlzLmluZXJ0RG9jdW1lbnQuYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB1c3VhbGx5IHRoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBib2R5IGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50LCBidXQgSUUgZG9lc24ndCBoYXZlIGFueSwgc29cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gY3JlYXRlIG9uZS5cbiAgICAgICAgICAgIGNvbnN0IGluZXJ0SHRtbCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnQuYXBwZW5kQ2hpbGQoaW5lcnRIdG1sKTtcbiAgICAgICAgICAgIGNvbnN0IGluZXJ0Qm9keUVsZW1lbnQgPSB0aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICAgICAgaW5lcnRIdG1sLmFwcGVuZENoaWxkKGluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEluZXJ0Qm9keUVsZW1lbnQoaHRtbCkge1xuICAgICAgICAvLyBQcmVmZXIgdXNpbmcgPHRlbXBsYXRlPiBlbGVtZW50IGlmIHN1cHBvcnRlZC5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVFbCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICBpZiAoJ2NvbnRlbnQnIGluIHRlbXBsYXRlRWwpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlRWwuaW5uZXJIVE1MID0gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlRWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZSB0aGF0IHByZXZpb3VzbHkgd2UgdXNlZCB0byBkbyBzb21ldGhpbmcgbGlrZSBgdGhpcy5pbmVydERvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gaHRtbGBcbiAgICAgICAgLy8gYW5kIHdlIHJldHVybmVkIHRoZSBpbmVydCBgYm9keWAgbm9kZS4gVGhpcyB3YXMgY2hhbmdlZCwgYmVjYXVzZSBJRSBzZWVtcyB0byB0cmVhdCBzZXR0aW5nXG4gICAgICAgIC8vIGBpbm5lckhUTUxgIG9uIGFuIGluc2VydGVkIGVsZW1lbnQgZGlmZmVyZW50bHksIGNvbXBhcmVkIHRvIG9uZSB0aGF0IGhhc24ndCBiZWVuIGluc2VydGVkXG4gICAgICAgIC8vIHlldC4gSW4gcGFydGljdWxhciwgSUUgYXBwZWFycyB0byBzcGxpdCBzb21lIG9mIHRoZSB0ZXh0IGludG8gbXVsdGlwbGUgdGV4dCBub2RlcyByYXRoZXJcbiAgICAgICAgLy8gdGhhbiBrZWVwaW5nIHRoZW0gaW4gYSBzaW5nbGUgb25lIHdoaWNoIGVuZHMgdXAgbWVzc2luZyB3aXRoIEl2eSdzIGkxOG4gcGFyc2luZyBmdXJ0aGVyXG4gICAgICAgIC8vIGRvd24gdGhlIGxpbmUuIFRoaXMgaGFzIGJlZW4gd29ya2VkIGFyb3VuZCBieSBjcmVhdGluZyBhIG5ldyBpbmVydCBgYm9keWAgYW5kIHVzaW5nIGl0IGFzXG4gICAgICAgIC8vIHRoZSByb290IG5vZGUgaW4gd2hpY2ggd2UgaW5zZXJ0IHRoZSBIVE1MLlxuICAgICAgICBjb25zdCBpbmVydEJvZHkgPSB0aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBpbmVydEJvZHkuaW5uZXJIVE1MID0gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWwpO1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG4gICAgICAgIC8vIHN0cmlwIGN1c3RvbS1uYW1lc3BhY2VkIGF0dHJpYnV0ZXMgb24gSUU8PTExXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHREb2MuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhpbmVydEJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmVydEJvZHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gSUUxMSBjb21lcyBhY3Jvc3MgYW4gdW5rbm93biBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBlLmcuICd4bGluazpmb28nIGl0IGFkZHMgJ3htbG5zOm5zMSdcbiAgICAgKiBhdHRyaWJ1dGUgdG8gZGVjbGFyZSBuczEgbmFtZXNwYWNlIGFuZCBwcmVmaXhlcyB0aGUgYXR0cmlidXRlIHdpdGggJ25zMScgKGUuZy5cbiAgICAgKiAnbnMxOnhsaW5rOmZvbycpLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1bmRlc2lyYWJsZSBzaW5jZSB3ZSBkb24ndCB3YW50IHRvIGFsbG93IGFueSBvZiB0aGVzZSBjdXN0b20gYXR0cmlidXRlcy4gVGhpcyBtZXRob2RcbiAgICAgKiBzdHJpcHMgdGhlbSBhbGwuXG4gICAgICovXG4gICAgc3RyaXBDdXN0b21Oc0F0dHJzKGVsKSB7XG4gICAgICAgIGNvbnN0IGVsQXR0cnMgPSBlbC5hdHRyaWJ1dGVzO1xuICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiBzdXBwb3J0IHJlbW92YWxzLlxuICAgICAgICBmb3IgKGxldCBpID0gZWxBdHRycy5sZW5ndGggLSAxOyAwIDwgaTsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWIgPSBlbEF0dHJzLml0ZW0oaSk7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJpYi5uYW1lO1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAneG1sbnM6bnMxJyB8fCBhdHRyTmFtZS5pbmRleE9mKCduczE6JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBjaGlsZE5vZGUgPSBlbC5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSlcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhjaGlsZE5vZGUpO1xuICAgICAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBXZSBuZWVkIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBET01QYXJzZXIgZXhpc3RzIGluIHRoZSBnbG9iYWwgY29udGV4dCBhbmRcbiAqIHN1cHBvcnRzIHBhcnNpbmcgSFRNTDsgSFRNTCBwYXJzaW5nIHN1cHBvcnQgaXMgbm90IGFzIHdpZGUgYXMgb3RoZXIgZm9ybWF0cywgc2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NUGFyc2VyI0Jyb3dzZXJfY29tcGF0aWJpbGl0eS5cbiAqXG4gKiBAc3VwcHJlc3Mge3VzZWxlc3NDb2RlfVxuICovXG5mdW5jdGlvbiBpc0RPTVBhcnNlckF2YWlsYWJsZSgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gISFuZXcgd2luZG93LkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0cnVzdGVkSFRNTEZyb21TdHJpbmcoJycpLCAndGV4dC9odG1sJyk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBwYXR0ZXJuIHRoYXQgcmVjb2duaXplcyBhIGNvbW1vbmx5IHVzZWZ1bCBzdWJzZXQgb2YgVVJMcyB0aGF0IGFyZSBzYWZlLlxuICpcbiAqIFRoaXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgYSBzdWJzZXQgb2YgVVJMcyB0aGF0IHdpbGwgbm90IGNhdXNlIHNjcmlwdFxuICogZXhlY3V0aW9uIGlmIHVzZWQgaW4gVVJMIGNvbnRleHQgd2l0aGluIGEgSFRNTCBkb2N1bWVudC4gU3BlY2lmaWNhbGx5LCB0aGlzXG4gKiByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBpZiAoY29tbWVudCBmcm9tIGhlcmUgb24gYW5kIHJlZ2V4IGNvcGllZCBmcm9tXG4gKiBTb3kncyBFc2NhcGluZ0NvbnZlbnRpb25zKTpcbiAqICgxKSBFaXRoZXIgYW4gYWxsb3dlZCBwcm90b2NvbCAoaHR0cCwgaHR0cHMsIG1haWx0byBvciBmdHApLlxuICogKDIpIG9yIG5vIHByb3RvY29sLiAgQSBwcm90b2NvbCBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgY29sb24uIFRoZSBiZWxvd1xuICogICAgIGFsbG93cyB0aGF0IGJ5IGFsbG93aW5nIGNvbG9ucyBvbmx5IGFmdGVyIG9uZSBvZiB0aGUgY2hhcmFjdGVycyBbLz8jXS5cbiAqICAgICBBIGNvbG9uIGFmdGVyIGEgaGFzaCAoIykgbXVzdCBiZSBpbiB0aGUgZnJhZ21lbnQuXG4gKiAgICAgT3RoZXJ3aXNlLCBhIGNvbG9uIGFmdGVyIGEgKD8pIG11c3QgYmUgaW4gYSBxdWVyeS5cbiAqICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSBzaW5nbGUgc29saWR1cyAoLykgbXVzdCBiZSBpbiBhIHBhdGguXG4gKiAgICAgT3RoZXJ3aXNlLCBhIGNvbG9uIGFmdGVyIGEgZG91YmxlIHNvbGlkdXMgKC8vKSBtdXN0IGJlIGluIHRoZSBhdXRob3JpdHlcbiAqICAgICAoYmVmb3JlIHBvcnQpLlxuICpcbiAqIFRoZSBwYXR0ZXJuIGRpc2FsbG93cyAmLCB1c2VkIGluIEhUTUwgZW50aXR5IGRlY2xhcmF0aW9ucyBiZWZvcmVcbiAqIG9uZSBvZiB0aGUgY2hhcmFjdGVycyBpbiBbLz8jXS4gVGhpcyBkaXNhbGxvd3MgSFRNTCBlbnRpdGllcyB1c2VkIGluIHRoZVxuICogcHJvdG9jb2wgbmFtZSwgd2hpY2ggc2hvdWxkIG5ldmVyIGhhcHBlbiwgZS5nLiBcImgmIzExNjt0cFwiIGZvciBcImh0dHBcIi5cbiAqIEl0IGFsc28gZGlzYWxsb3dzIEhUTUwgZW50aXRpZXMgaW4gdGhlIGZpcnN0IHBhdGggcGFydCBvZiBhIHJlbGF0aXZlIHBhdGgsXG4gKiBlLmcuIFwiZm9vJmx0O2Jhci9iYXpcIi4gIE91ciBleGlzdGluZyBlc2NhcGluZyBmdW5jdGlvbnMgc2hvdWxkIG5vdCBwcm9kdWNlXG4gKiB0aGF0LiBNb3JlIGltcG9ydGFudGx5LCBpdCBkaXNhbGxvd3MgbWFza2luZyBvZiBhIGNvbG9uLFxuICogZS5nLiBcImphdmFzY3JpcHQmIzU4Oy4uLlwiLlxuICpcbiAqIFRoaXMgcmVndWxhciBleHByZXNzaW9uIHdhcyB0YWtlbiBmcm9tIHRoZSBDbG9zdXJlIHNhbml0aXphdGlvbiBsaWJyYXJ5LlxuICovXG5jb25zdCBTQUZFX1VSTF9QQVRURVJOID0gL14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZXxzbXMpOnxbXiY6Lz8jXSooPzpbLz8jXXwkKSkvZ2k7XG4vKiBBIHBhdHRlcm4gdGhhdCBtYXRjaGVzIHNhZmUgc3Jjc2V0IHZhbHVlcyAqL1xuY29uc3QgU0FGRV9TUkNTRVRfUEFUVEVSTiA9IC9eKD86KD86aHR0cHM/fGZpbGUpOnxbXiY6Lz8jXSooPzpbLz8jXXwkKSkvZ2k7XG4vKiogQSBwYXR0ZXJuIHRoYXQgbWF0Y2hlcyBzYWZlIGRhdGEgVVJMcy4gT25seSBtYXRjaGVzIGltYWdlLCB2aWRlbyBhbmQgYXVkaW8gdHlwZXMuICovXG5jb25zdCBEQVRBX1VSTF9QQVRURVJOID0gL15kYXRhOig/OmltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1xcLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1xcLyg/Om1wM3xvZ2F8b2dnfG9wdXMpKTtiYXNlNjQsW2EtejAtOStcXC9dKz0qJC9pO1xuZnVuY3Rpb24gX3Nhbml0aXplVXJsKHVybCkge1xuICAgIHVybCA9IFN0cmluZyh1cmwpO1xuICAgIGlmICh1cmwubWF0Y2goU0FGRV9VUkxfUEFUVEVSTikgfHwgdXJsLm1hdGNoKERBVEFfVVJMX1BBVFRFUk4pKVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBXQVJOSU5HOiBzYW5pdGl6aW5nIHVuc2FmZSBVUkwgdmFsdWUgJHt1cmx9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICB9XG4gICAgcmV0dXJuICd1bnNhZmU6JyArIHVybDtcbn1cbmZ1bmN0aW9uIHNhbml0aXplU3Jjc2V0KHNyY3NldCkge1xuICAgIHNyY3NldCA9IFN0cmluZyhzcmNzZXQpO1xuICAgIHJldHVybiBzcmNzZXQuc3BsaXQoJywnKS5tYXAoKHNyY3NldCkgPT4gX3Nhbml0aXplVXJsKHNyY3NldC50cmltKCkpKS5qb2luKCcsICcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHRhZ1NldCh0YWdzKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChjb25zdCB0IG9mIHRhZ3Muc3BsaXQoJywnKSlcbiAgICAgICAgcmVzW3RdID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbWVyZ2UoLi4uc2V0cykge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcyBvZiBzZXRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBpbiBzKSB7XG4gICAgICAgICAgICBpZiAocy5oYXNPd25Qcm9wZXJ0eSh2KSlcbiAgICAgICAgICAgICAgICByZXNbdl0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyBHb29kIHNvdXJjZSBvZiBpbmZvIGFib3V0IGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzXG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzZW1hbnRpY3Ncbi8vIGh0dHBzOi8vc2ltb24uaHRtbDUub3JnL2h0bWwtZWxlbWVudHNcbi8vIFNhZmUgVm9pZCBFbGVtZW50cyAtIEhUTUw1XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyN2b2lkLWVsZW1lbnRzXG5jb25zdCBWT0lEX0VMRU1FTlRTID0gdGFnU2V0KCdhcmVhLGJyLGNvbCxocixpbWcsd2JyJyk7XG4vLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW4gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jb3B0aW9uYWwtdGFnc1xuY29uc3QgT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyA9IHRhZ1NldCgnY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0cicpO1xuY29uc3QgT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMgPSB0YWdTZXQoJ3JwLHJ0Jyk7XG5jb25zdCBPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTID0gbWVyZ2UoT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMsIE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMpO1xuLy8gU2FmZSBCbG9jayBFbGVtZW50cyAtIEhUTUw1XG5jb25zdCBCTE9DS19FTEVNRU5UUyA9IG1lcmdlKE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMsIHRhZ1NldCgnYWRkcmVzcyxhcnRpY2xlLCcgK1xuICAgICdhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkZXRhaWxzLGRpYWxvZyxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSwnICtcbiAgICAnaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFpbixtYXAsbWVudSxuYXYsb2wscHJlLHNlY3Rpb24sc3VtbWFyeSx0YWJsZSx1bCcpKTtcbi8vIElubGluZSBFbGVtZW50cyAtIEhUTUw1XG5jb25zdCBJTkxJTkVfRUxFTUVOVFMgPSBtZXJnZShPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUywgdGFnU2V0KCdhLGFiYnIsYWNyb255bSxhdWRpbyxiLCcgK1xuICAgICdiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscGljdHVyZSxxLHJ1YnkscnAscnQscywnICtcbiAgICAnc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlbycpKTtcbmNvbnN0IFZBTElEX0VMRU1FTlRTID0gbWVyZ2UoVk9JRF9FTEVNRU5UUywgQkxPQ0tfRUxFTUVOVFMsIElOTElORV9FTEVNRU5UUywgT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyk7XG4vLyBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBocmVmIGFuZCBoZW5jZSBuZWVkIHRvIGJlIHNhbml0aXplZFxuY29uc3QgVVJJX0FUVFJTID0gdGFnU2V0KCdiYWNrZ3JvdW5kLGNpdGUsaHJlZixpdGVtdHlwZSxsb25nZGVzYyxwb3N0ZXIsc3JjLHhsaW5rOmhyZWYnKTtcbi8vIEF0dHJpYnV0ZXMgdGhhdCBoYXZlIHNwZWNpYWwgaHJlZiBzZXQgaGVuY2UgbmVlZCB0byBiZSBzYW5pdGl6ZWRcbmNvbnN0IFNSQ1NFVF9BVFRSUyA9IHRhZ1NldCgnc3Jjc2V0Jyk7XG5jb25zdCBIVE1MX0FUVFJTID0gdGFnU2V0KCdhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sJyArXG4gICAgJ2NvbXBhY3QsY29udHJvbHMsY29vcmRzLGRhdGV0aW1lLGRlZmF1bHQsZGlyLGRvd25sb2FkLGZhY2UsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhyZWZsYW5nLGhzcGFjZSwnICtcbiAgICAnaXNtYXAsaXRlbXNjb3BlLGl0ZW1wcm9wLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb29wLG1lZGlhLG11dGVkLG5vaHJlZixub3dyYXAsb3BlbixwcmVsb2FkLHJlbCxyZXYscm9sZSxyb3dzLHJvd3NwYW4scnVsZXMsJyArXG4gICAgJ3Njb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzdGFydCxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsJyArXG4gICAgJ3ZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgnKTtcbi8vIEFjY2Vzc2liaWxpdHkgYXR0cmlidXRlcyBhcyBwZXIgV0FJLUFSSUEgMS4xIChXM0MgV29ya2luZyBEcmFmdCAxNCBEZWNlbWJlciAyMDE4KVxuY29uc3QgQVJJQV9BVFRSUyA9IHRhZ1NldCgnYXJpYS1hY3RpdmVkZXNjZW5kYW50LGFyaWEtYXRvbWljLGFyaWEtYXV0b2NvbXBsZXRlLGFyaWEtYnVzeSxhcmlhLWNoZWNrZWQsYXJpYS1jb2xjb3VudCxhcmlhLWNvbGluZGV4LCcgK1xuICAgICdhcmlhLWNvbHNwYW4sYXJpYS1jb250cm9scyxhcmlhLWN1cnJlbnQsYXJpYS1kZXNjcmliZWRieSxhcmlhLWRldGFpbHMsYXJpYS1kaXNhYmxlZCxhcmlhLWRyb3BlZmZlY3QsJyArXG4gICAgJ2FyaWEtZXJyb3JtZXNzYWdlLGFyaWEtZXhwYW5kZWQsYXJpYS1mbG93dG8sYXJpYS1ncmFiYmVkLGFyaWEtaGFzcG9wdXAsYXJpYS1oaWRkZW4sYXJpYS1pbnZhbGlkLCcgK1xuICAgICdhcmlhLWtleXNob3J0Y3V0cyxhcmlhLWxhYmVsLGFyaWEtbGFiZWxsZWRieSxhcmlhLWxldmVsLGFyaWEtbGl2ZSxhcmlhLW1vZGFsLGFyaWEtbXVsdGlsaW5lLCcgK1xuICAgICdhcmlhLW11bHRpc2VsZWN0YWJsZSxhcmlhLW9yaWVudGF0aW9uLGFyaWEtb3ducyxhcmlhLXBsYWNlaG9sZGVyLGFyaWEtcG9zaW5zZXQsYXJpYS1wcmVzc2VkLGFyaWEtcmVhZG9ubHksJyArXG4gICAgJ2FyaWEtcmVsZXZhbnQsYXJpYS1yZXF1aXJlZCxhcmlhLXJvbGVkZXNjcmlwdGlvbixhcmlhLXJvd2NvdW50LGFyaWEtcm93aW5kZXgsYXJpYS1yb3dzcGFuLGFyaWEtc2VsZWN0ZWQsJyArXG4gICAgJ2FyaWEtc2V0c2l6ZSxhcmlhLXNvcnQsYXJpYS12YWx1ZW1heCxhcmlhLXZhbHVlbWluLGFyaWEtdmFsdWVub3csYXJpYS12YWx1ZXRleHQnKTtcbi8vIE5COiBUaGlzIGN1cnJlbnRseSBjb25zY2lvdXNseSBkb2Vzbid0IHN1cHBvcnQgU1ZHLiBTVkcgc2FuaXRpemF0aW9uIGhhcyBoYWQgc2V2ZXJhbCBzZWN1cml0eVxuLy8gaXNzdWVzIGluIHRoZSBwYXN0LCBzbyBpdCBzZWVtcyBzYWZlciB0byBsZWF2ZSBpdCBvdXQgaWYgcG9zc2libGUuIElmIHN1cHBvcnQgZm9yIGJpbmRpbmcgU1ZHIHZpYVxuLy8gaW5uZXJIVE1MIGlzIHJlcXVpcmVkLCBTVkcgYXR0cmlidXRlcyBzaG91bGQgYmUgYWRkZWQgaGVyZS5cbi8vIE5COiBTYW5pdGl6YXRpb24gZG9lcyBub3QgYWxsb3cgPGZvcm0+IGVsZW1lbnRzIG9yIG90aGVyIGFjdGl2ZSBlbGVtZW50cyAoPGJ1dHRvbj4gZXRjKS4gVGhvc2Vcbi8vIGNhbiBiZSBzYW5pdGl6ZWQsIGJ1dCB0aGV5IGluY3JlYXNlIHNlY3VyaXR5IHN1cmZhY2UgYXJlYSB3aXRob3V0IGEgbGVnaXRpbWF0ZSB1c2UgY2FzZSwgc28gdGhleVxuLy8gYXJlIGxlZnQgb3V0IGhlcmUuXG5jb25zdCBWQUxJRF9BVFRSUyA9IG1lcmdlKFVSSV9BVFRSUywgU1JDU0VUX0FUVFJTLCBIVE1MX0FUVFJTLCBBUklBX0FUVFJTKTtcbi8vIEVsZW1lbnRzIHdob3NlIGNvbnRlbnQgc2hvdWxkIG5vdCBiZSB0cmF2ZXJzZWQvcHJlc2VydmVkLCBpZiB0aGUgZWxlbWVudHMgdGhlbXNlbHZlcyBhcmUgaW52YWxpZC5cbi8vXG4vLyBUeXBpY2FsbHksIGA8aW52YWxpZD5Tb21lIGNvbnRlbnQ8L2ludmFsaWQ+YCB3b3VsZCB0cmF2ZXJzZSAoYW5kIGluIHRoaXMgY2FzZSBwcmVzZXJ2ZSlcbi8vIGBTb21lIGNvbnRlbnRgLCBidXQgc3RyaXAgYGludmFsaWQtZWxlbWVudGAgb3BlbmluZy9jbG9zaW5nIHRhZ3MuIEZvciBzb21lIGVsZW1lbnRzLCB0aG91Z2gsIHdlXG4vLyBkb24ndCB3YW50IHRvIHByZXNlcnZlIHRoZSBjb250ZW50LCBpZiB0aGUgZWxlbWVudHMgdGhlbXNlbHZlcyBhcmUgZ29pbmcgdG8gYmUgcmVtb3ZlZC5cbmNvbnN0IFNLSVBfVFJBVkVSU0lOR19DT05URU5UX0lGX0lOVkFMSURfRUxFTUVOVFMgPSB0YWdTZXQoJ3NjcmlwdCxzdHlsZSx0ZW1wbGF0ZScpO1xuLyoqXG4gKiBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIgc2VyaWFsaXplcyBhIERPTSBmcmFnbWVudCwgc3RyaXBwaW5nIG91dCBhbnkgdW5zYWZlIGVsZW1lbnRzIGFuZCB1bnNhZmVcbiAqIGF0dHJpYnV0ZXMuXG4gKi9cbmNsYXNzIFNhbml0aXppbmdIdG1sU2VyaWFsaXplciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEV4cGxpY2l0bHkgdHJhY2sgaWYgc29tZXRoaW5nIHdhcyBzdHJpcHBlZCwgdG8gYXZvaWQgYWNjaWRlbnRhbGx5IHdhcm5pbmcgb2Ygc2FuaXRpemF0aW9uIGp1c3RcbiAgICAgICAgLy8gYmVjYXVzZSBjaGFyYWN0ZXJzIHdlcmUgcmUtZW5jb2RlZC5cbiAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICB9XG4gICAgc2FuaXRpemVDaGlsZHJlbihlbCkge1xuICAgICAgICAvLyBUaGlzIGNhbm5vdCB1c2UgYSBUcmVlV2Fsa2VyLCBhcyBpdCBoYXMgdG8gcnVuIG9uIEFuZ3VsYXIncyB2YXJpb3VzIERPTSBhZGFwdGVycy5cbiAgICAgICAgLy8gSG93ZXZlciB0aGlzIGNvZGUgbmV2ZXIgYWNjZXNzZXMgcHJvcGVydGllcyBvZmYgb2YgYGRvY3VtZW50YCBiZWZvcmUgZGVsZXRpbmcgaXRzIGNvbnRlbnRzXG4gICAgICAgIC8vIGFnYWluLCBzbyBpdCBzaG91bGRuJ3QgYmUgdnVsbmVyYWJsZSB0byBET00gY2xvYmJlcmluZy5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBlbC5maXJzdENoaWxkO1xuICAgICAgICBsZXQgdHJhdmVyc2VDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlQ29udGVudCA9IHRoaXMuc3RhcnRFbGVtZW50KGN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzKGN1cnJlbnQubm9kZVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFN0cmlwIG5vbi1lbGVtZW50LCBub24tdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJhdmVyc2VDb250ZW50ICYmIGN1cnJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIExlYXZpbmcgdGhlIGVsZW1lbnQuIFdhbGsgdXAgYW5kIHRvIHRoZSByaWdodCwgY2xvc2luZyB0YWdzIGFzIHdlIGdvLlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEVsZW1lbnQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoY3VycmVudCwgY3VycmVudC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoY3VycmVudCwgY3VycmVudC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWYuam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbml0aXplcyBhbiBvcGVuaW5nIGVsZW1lbnQgdGFnIChpZiB2YWxpZCkgYW5kIHJldHVybnMgd2hldGhlciB0aGUgZWxlbWVudCdzIGNvbnRlbnRzIHNob3VsZFxuICAgICAqIGJlIHRyYXZlcnNlZC4gRWxlbWVudCBjb250ZW50IG11c3QgYWx3YXlzIGJlIHRyYXZlcnNlZCAoZXZlbiBpZiB0aGUgZWxlbWVudCBpdHNlbGYgaXMgbm90XG4gICAgICogdmFsaWQvc2FmZSksIHVubGVzcyB0aGUgZWxlbWVudCBpcyBvbmUgb2YgYFNLSVBfVFJBVkVSU0lOR19DT05URU5UX0lGX0lOVkFMSURfRUxFTUVOVFNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2FuaXRpemUuXG4gICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBlbGVtZW50J3MgY29udGVudHMgc2hvdWxkIGJlIHRyYXZlcnNlZC5cbiAgICAgKi9cbiAgICBzdGFydEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIVZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gIVNLSVBfVFJBVkVSU0lOR19DT05URU5UX0lGX0lOVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYucHVzaCgnPCcpO1xuICAgICAgICB0aGlzLmJ1Zi5wdXNoKHRhZ05hbWUpO1xuICAgICAgICBjb25zdCBlbEF0dHJzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsQXR0ciA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gZWxBdHRyLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBsb3dlciA9IGF0dHJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoIVZBTElEX0FUVFJTLmhhc093blByb3BlcnR5KGxvd2VyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsQXR0ci52YWx1ZTtcbiAgICAgICAgICAgIC8vIFRPRE8obWFydGlucHJvYnN0KTogU3BlY2lhbCBjYXNlIGltYWdlIFVSSXMgZm9yIGRhdGE6aW1hZ2UvLi4uXG4gICAgICAgICAgICBpZiAoVVJJX0FUVFJTW2xvd2VyXSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9zYW5pdGl6ZVVybCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoU1JDU0VUX0FUVFJTW2xvd2VyXSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNhbml0aXplU3Jjc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2goJyAnLCBhdHRyTmFtZSwgJz1cIicsIGVuY29kZUVudGl0aWVzKHZhbHVlKSwgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYucHVzaCgnPicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZW5kRWxlbWVudChjdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBjdXJyZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSAmJiAhVk9JRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnPC8nKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2godGFnTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhcnMoY2hhcnMpIHtcbiAgICAgICAgdGhpcy5idWYucHVzaChlbmNvZGVFbnRpdGllcyhjaGFycykpO1xuICAgIH1cbiAgICBjaGVja0Nsb2JiZXJlZEVsZW1lbnQobm9kZSwgbmV4dE5vZGUpIHtcbiAgICAgICAgaWYgKG5leHROb2RlICYmXG4gICAgICAgICAgICAobm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0Tm9kZSkgJlxuICAgICAgICAgICAgICAgIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKSA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgZWxlbWVudCBpcyBjbG9iYmVyZWQ6ICR7bm9kZS5vdXRlckhUTUx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xuICAgIH1cbn1cbi8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlc1xuY29uc3QgU1VSUk9HQVRFX1BBSVJfUkVHRVhQID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZztcbi8vICEgdG8gfiBpcyB0aGUgQVNDSUkgcmFuZ2UuXG5jb25zdCBOT05fQUxQSEFOVU1FUklDX1JFR0VYUCA9IC8oW15cXCMtfiB8IV0pL2c7XG4vKipcbiAqIEVzY2FwZXMgYWxsIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLCBzbyB0aGF0IHRoZVxuICogcmVzdWx0aW5nIHN0cmluZyBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYXR0cmlidXRlIG9yXG4gKiBlbGVtZW50IHRleHQuXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gZW5jb2RlRW50aXRpZXModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZShTVVJST0dBVEVfUEFJUl9SRUdFWFAsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICBjb25zdCBoaSA9IG1hdGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGNvbnN0IGxvdyA9IG1hdGNoLmNoYXJDb2RlQXQoMSk7XG4gICAgICAgIHJldHVybiAnJiMnICsgKCgoaGkgLSAweEQ4MDApICogMHg0MDApICsgKGxvdyAtIDB4REMwMCkgKyAweDEwMDAwKSArICc7JztcbiAgICB9KVxuICAgICAgICAucmVwbGFjZShOT05fQUxQSEFOVU1FUklDX1JFR0VYUCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiAnJiMnICsgbWF0Y2guY2hhckNvZGVBdCgwKSArICc7JztcbiAgICB9KVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG5sZXQgaW5lcnRCb2R5SGVscGVyO1xuLyoqXG4gKiBTYW5pdGl6ZXMgdGhlIGdpdmVuIHVuc2FmZSwgdW50cnVzdGVkIEhUTUwgZnJhZ21lbnQsIGFuZCByZXR1cm5zIEhUTUwgdGV4dCB0aGF0IGlzIHNhZmUgdG8gYWRkIHRvXG4gKiB0aGUgRE9NIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAqL1xuZnVuY3Rpb24gX3Nhbml0aXplSHRtbChkZWZhdWx0RG9jLCB1bnNhZmVIdG1sSW5wdXQpIHtcbiAgICBsZXQgaW5lcnRCb2R5RWxlbWVudCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5lcnRCb2R5SGVscGVyID0gaW5lcnRCb2R5SGVscGVyIHx8IGdldEluZXJ0Qm9keUhlbHBlcihkZWZhdWx0RG9jKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHVuc2FmZUh0bWwgaXMgYWN0dWFsbHkgYSBzdHJpbmcgKFR5cGVTY3JpcHQgdHlwZXMgYXJlIG5vdCBlbmZvcmNlZCBhdCBydW50aW1lKS5cbiAgICAgICAgbGV0IHVuc2FmZUh0bWwgPSB1bnNhZmVIdG1sSW5wdXQgPyBTdHJpbmcodW5zYWZlSHRtbElucHV0KSA6ICcnO1xuICAgICAgICBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlSHRtbCk7XG4gICAgICAgIC8vIG1YU1MgcHJvdGVjdGlvbi4gUmVwZWF0ZWRseSBwYXJzZSB0aGUgZG9jdW1lbnQgdG8gbWFrZSBzdXJlIGl0IHN0YWJpbGl6ZXMsIHNvIHRoYXQgYSBicm93c2VyXG4gICAgICAgIC8vIHRyeWluZyB0byBhdXRvLWNvcnJlY3QgaW5jb3JyZWN0IEhUTUwgY2Fubm90IGNhdXNlIGZvcm1lcmx5IGluZXJ0IEhUTUwgdG8gYmVjb21lIGRhbmdlcm91cy5cbiAgICAgICAgbGV0IG1YU1NBdHRlbXB0cyA9IDU7XG4gICAgICAgIGxldCBwYXJzZWRIdG1sID0gdW5zYWZlSHRtbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKG1YU1NBdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1YU1NBdHRlbXB0cy0tO1xuICAgICAgICAgICAgdW5zYWZlSHRtbCA9IHBhcnNlZEh0bWw7XG4gICAgICAgICAgICBwYXJzZWRIdG1sID0gaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlSHRtbCk7XG4gICAgICAgIH0gd2hpbGUgKHVuc2FmZUh0bWwgIT09IHBhcnNlZEh0bWwpO1xuICAgICAgICBjb25zdCBzYW5pdGl6ZXIgPSBuZXcgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyKCk7XG4gICAgICAgIGNvbnN0IHNhZmVIdG1sID0gc2FuaXRpemVyLnNhbml0aXplQ2hpbGRyZW4oZ2V0VGVtcGxhdGVDb250ZW50KGluZXJ0Qm9keUVsZW1lbnQpIHx8IGluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICBpZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgc2FuaXRpemVyLnNhbml0aXplZFNvbWV0aGluZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBzYW5pdGl6aW5nIEhUTUwgc3RyaXBwZWQgc29tZSBjb250ZW50LCBzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmcoc2FmZUh0bWwpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgLy8gSW4gY2FzZSBhbnl0aGluZyBnb2VzIHdyb25nLCBjbGVhciBvdXQgaW5lcnRFbGVtZW50IHRvIHJlc2V0IHRoZSBlbnRpcmUgRE9NIHN0cnVjdHVyZS5cbiAgICAgICAgaWYgKGluZXJ0Qm9keUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRlbXBsYXRlQ29udGVudChlbCkge1xuICAgIHJldHVybiAnY29udGVudCcgaW4gZWwgLyoqIE1pY3Jvc29mdC9UeXBlU2NyaXB0IzIxNTE3ICovICYmIGlzVGVtcGxhdGVFbGVtZW50KGVsKSA/XG4gICAgICAgIGVsLmNvbnRlbnQgOlxuICAgICAgICBudWxsO1xufVxuZnVuY3Rpb24gaXNUZW1wbGF0ZUVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVsLm5vZGVOYW1lID09PSAnVEVNUExBVEUnO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBTZWN1cml0eUNvbnRleHQgbWFya3MgYSBsb2NhdGlvbiB0aGF0IGhhcyBkYW5nZXJvdXMgc2VjdXJpdHkgaW1wbGljYXRpb25zLCBlLmcuIGEgRE9NIHByb3BlcnR5XG4gKiBsaWtlIGBpbm5lckhUTUxgIHRoYXQgY291bGQgY2F1c2UgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmcgKFhTUykgc2VjdXJpdHkgYnVncyB3aGVuIGltcHJvcGVybHlcbiAqIGhhbmRsZWQuXG4gKlxuICogU2VlIERvbVNhbml0aXplciBmb3IgbW9yZSBkZXRhaWxzIG9uIHNlY3VyaXR5IGluIEFuZ3VsYXIgYXBwbGljYXRpb25zLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFNlY3VyaXR5Q29udGV4dDtcbihmdW5jdGlvbiAoU2VjdXJpdHlDb250ZXh0KSB7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJIVE1MXCJdID0gMV0gPSBcIkhUTUxcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiU1RZTEVcIl0gPSAyXSA9IFwiU1RZTEVcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiU0NSSVBUXCJdID0gM10gPSBcIlNDUklQVFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJVUkxcIl0gPSA0XSA9IFwiVVJMXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlJFU09VUkNFX1VSTFwiXSA9IDVdID0gXCJSRVNPVVJDRV9VUkxcIjtcbn0pKFNlY3VyaXR5Q29udGV4dCB8fCAoU2VjdXJpdHlDb250ZXh0ID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGBodG1sYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGBodG1sYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91cyBjb250ZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGUgYGh0bWxgIGFuZCBsb2NhdGVzIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjb250ZW50IChzdWNoIGFzIHVybHMgYW5kXG4gKiBqYXZhc2NyaXB0KSBhbmQgcmVtb3ZlcyBpdC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RIdG1sfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlSHRtbCB1bnRydXN0ZWQgYGh0bWxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGBodG1sYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBkaXNwbGF5IHRvIHVzZXIsIGJlY2F1c2UgYWxsIG9mIHRoZSBkYW5nZXJvdXMgamF2YXNjcmlwdFxuICogYW5kIHVybHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplSHRtbCh1bnNhZmVIdG1sKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuSFRNTCwgdW5zYWZlSHRtbCkgfHwgJycpO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVIdG1sLCBcIkhUTUxcIiAvKiBIdG1sICovKSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVIdG1sKSk7XG4gICAgfVxuICAgIHJldHVybiBfc2FuaXRpemVIdG1sKGdldERvY3VtZW50KCksIHJlbmRlclN0cmluZ2lmeSh1bnNhZmVIdG1sKSk7XG59XG4vKipcbiAqIEEgYHN0eWxlYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGBzdHlsZWAgKipzdHJpbmcqKiBpbnRvIHRydXN0ZWQgc3RyaW5nIGJ5IHJlbW92aW5nXG4gKiBkYW5nZXJvdXMgY29udGVudC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZX0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVN0eWxlIHVudHJ1c3RlZCBgc3R5bGVgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGBzdHlsZWAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHN0eWxlYCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVN0eWxlKHVuc2FmZVN0eWxlKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5TVFlMRSwgdW5zYWZlU3R5bGUpIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVTdHlsZSwgXCJTdHlsZVwiIC8qIFN0eWxlICovKSkge1xuICAgICAgICByZXR1cm4gdW53cmFwU2FmZVZhbHVlKHVuc2FmZVN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclN0cmluZ2lmeSh1bnNhZmVTdHlsZSk7XG59XG4vKipcbiAqIEEgYHVybGAgc2FuaXRpemVyIHdoaWNoIGNvbnZlcnRzIHVudHJ1c3RlZCBgdXJsYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91c1xuICogY29udGVudC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBwYXJzZXMgdGhlIGB1cmxgIGFuZCBsb2NhdGVzIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjb250ZW50IChzdWNoIGFzIGphdmFzY3JpcHQpIGFuZFxuICogcmVtb3ZlcyBpdC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmx9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVVcmwgdW50cnVzdGVkIGB1cmxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGBzcmNgIHByb3BlcnRpZXMgc3VjaCBhcyBgPGltZyBzcmM+YCwgYmVjYXVzZVxuICogYWxsIG9mIHRoZSBkYW5nZXJvdXMgamF2YXNjcmlwdCBoYXMgYmVlbiByZW1vdmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVVybCh1bnNhZmVVcmwpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlVSTCwgdW5zYWZlVXJsKSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlVXJsLCBcIlVSTFwiIC8qIFVybCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVVcmwpO1xuICAgIH1cbiAgICByZXR1cm4gX3Nhbml0aXplVXJsKHJlbmRlclN0cmluZ2lmeSh1bnNhZmVVcmwpKTtcbn1cbi8qKlxuICogQSBgdXJsYCBzYW5pdGl6ZXIgd2hpY2ggb25seSBsZXRzIHRydXN0ZWQgYHVybGBzIHRocm91Z2guXG4gKlxuICogVGhpcyBwYXNzZXMgb25seSBgdXJsYHMgbWFya2VkIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVJlc291cmNlVXJsIHVudHJ1c3RlZCBgdXJsYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgc3JjYCBwcm9wZXJ0aWVzIHN1Y2ggYXMgYDxpbWcgc3JjPmAsIGJlY2F1c2VcbiAqIG9ubHkgdHJ1c3RlZCBgdXJsYHMgaGF2ZSBiZWVuIGFsbG93ZWQgdG8gcGFzcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVSZXNvdXJjZVVybCh1bnNhZmVSZXNvdXJjZVVybCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nQnlwYXNzKHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuUkVTT1VSQ0VfVVJMLCB1bnNhZmVSZXNvdXJjZVVybCkgfHwgJycpO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVSZXNvdXJjZVVybCwgXCJSZXNvdXJjZVVSTFwiIC8qIFJlc291cmNlVXJsICovKSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3ModW53cmFwU2FmZVZhbHVlKHVuc2FmZVJlc291cmNlVXJsKSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgJ3Vuc2FmZSB2YWx1ZSB1c2VkIGluIGEgcmVzb3VyY2UgVVJMIGNvbnRleHQgKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKScgOlxuICAgICAgICAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwNCAvKiBVTlNBRkVfVkFMVUVfSU5fUkVTT1VSQ0VfVVJMICovLCBlcnJvck1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBIGBzY3JpcHRgIHNhbml0aXplciB3aGljaCBvbmx5IGxldHMgdHJ1c3RlZCBqYXZhc2NyaXB0IHRocm91Z2guXG4gKlxuICogVGhpcyBwYXNzZXMgb25seSBgc2NyaXB0YHMgbWFya2VkIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmtcbiAqIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0fS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlU2NyaXB0IHVudHJ1c3RlZCBgc2NyaXB0YCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgPHNjcmlwdD5gIGVsZW1lbnQgc3VjaCBhcyBgPGltZyBzcmM+YCxcbiAqIGJlY2F1c2Ugb25seSB0cnVzdGVkIGBzY3JpcHRzYCBoYXZlIGJlZW4gYWxsb3dlZCB0byBwYXNzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVNjcmlwdCh1bnNhZmVTY3JpcHQpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZ0J5cGFzcyhzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlNDUklQVCwgdW5zYWZlU2NyaXB0KSB8fCAnJyk7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVNjcmlwdCwgXCJTY3JpcHRcIiAvKiBTY3JpcHQgKi8pKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZ0J5cGFzcyh1bndyYXBTYWZlVmFsdWUodW5zYWZlU2NyaXB0KSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgJ3Vuc2FmZSB2YWx1ZSB1c2VkIGluIGEgc2NyaXB0IGNvbnRleHQnIDpcbiAgICAgICAgJyc7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDUgLyogVU5TQUZFX1ZBTFVFX0lOX1NDUklQVCAqLywgZXJyb3JNZXNzYWdlKTtcbn1cbi8qKlxuICogQSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb24gZm9yIHByb21vdGluZyB0aGUgYXNzb2NpYXRlZCBjb25zdGFudCBsaXRlcmFsIHRvIGFcbiAqIFRydXN0ZWRIVE1MLiBJbnRlcnBvbGF0aW9uIGlzIGV4cGxpY2l0bHkgbm90IGFsbG93ZWQuXG4gKlxuICogQHBhcmFtIGh0bWwgY29uc3RhbnQgdGVtcGxhdGUgbGl0ZXJhbCBjb250YWluaW5nIHRydXN0ZWQgSFRNTC5cbiAqIEByZXR1cm5zIFRydXN0ZWRIVE1MIHdyYXBwaW5nIGBodG1sYC5cbiAqXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbiBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZCB0b1xuICogY29udmVydCBjb25zdGFudCB2YWx1ZXMgb2YgYXR0cmlidXRlcyBhbmQgcHJvcGVydGllcyBmb3VuZCBpblxuICogYXBwbGljYXRpb24tcHJvdmlkZWQgQW5ndWxhciB0ZW1wbGF0ZXMgdG8gVHJ1c3RlZEhUTUwuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRydXN0Q29uc3RhbnRIdG1sKGh0bWwpIHtcbiAgICAvLyBUaGUgZm9sbG93aW5nIHJ1bnRpbWUgY2hlY2sgZW5zdXJlcyB0aGF0IHRoZSBmdW5jdGlvbiB3YXMgY2FsbGVkIGFzIGFcbiAgICAvLyB0ZW1wbGF0ZSB0YWcgKGUuZy4gybXJtXRydXN0Q29uc3RhbnRIdG1sYGNvbnRlbnRgKSwgd2l0aG91dCBhbnkgaW50ZXJwb2xhdGlvblxuICAgIC8vIChlLmcuIG5vdCDJtcm1dHJ1c3RDb25zdGFudEh0bWxgY29udGVudCAke3ZhcmlhYmxlfWApLiBBIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gICAgLy8gaXMgYW4gYXJyYXkgd2l0aCBhIGByYXdgIHByb3BlcnR5IHRoYXQgaXMgYWxzbyBhbiBhcnJheS4gVGhlIGFzc29jaWF0ZWRcbiAgICAvLyB0ZW1wbGF0ZSBsaXRlcmFsIGhhcyBubyBpbnRlcnBvbGF0aW9uIGlmIGFuZCBvbmx5IGlmIHRoZSBsZW5ndGggb2YgdGhlXG4gICAgLy8gVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgMS5cbiAgICBpZiAobmdEZXZNb2RlICYmICghQXJyYXkuaXNBcnJheShodG1sKSB8fCAhQXJyYXkuaXNBcnJheShodG1sLnJhdykgfHwgaHRtbC5sZW5ndGggIT09IDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnRlcnBvbGF0aW9uIGluIHRydXN0ZWQgSFRNTCBjb25zdGFudDogJHtodG1sLmpvaW4oJz8nKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydXN0ZWRIVE1MRnJvbVN0cmluZyhodG1sWzBdKTtcbn1cbi8qKlxuICogQSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb24gZm9yIHByb21vdGluZyB0aGUgYXNzb2NpYXRlZCBjb25zdGFudCBsaXRlcmFsIHRvIGFcbiAqIFRydXN0ZWRTY3JpcHRVUkwuIEludGVycG9sYXRpb24gaXMgZXhwbGljaXRseSBub3QgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0gdXJsIGNvbnN0YW50IHRlbXBsYXRlIGxpdGVyYWwgY29udGFpbmluZyBhIHRydXN0ZWQgc2NyaXB0IFVSTC5cbiAqIEByZXR1cm5zIFRydXN0ZWRTY3JpcHRVUkwgd3JhcHBpbmcgYHVybGAuXG4gKlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb24gYW5kIHNob3VsZCBvbmx5IGJlIHVzZWQgdG9cbiAqIGNvbnZlcnQgY29uc3RhbnQgdmFsdWVzIG9mIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXMgZm91bmQgaW5cbiAqIGFwcGxpY2F0aW9uLXByb3ZpZGVkIEFuZ3VsYXIgdGVtcGxhdGVzIHRvIFRydXN0ZWRTY3JpcHRVUkwuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCh1cmwpIHtcbiAgICAvLyBUaGUgZm9sbG93aW5nIHJ1bnRpbWUgY2hlY2sgZW5zdXJlcyB0aGF0IHRoZSBmdW5jdGlvbiB3YXMgY2FsbGVkIGFzIGFcbiAgICAvLyB0ZW1wbGF0ZSB0YWcgKGUuZy4gybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybGBjb250ZW50YCksIHdpdGhvdXQgYW55XG4gICAgLy8gaW50ZXJwb2xhdGlvbiAoZS5nLiBub3QgybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybGBjb250ZW50ICR7dmFyaWFibGV9YCkuIEFcbiAgICAvLyBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyBhbiBhcnJheSB3aXRoIGEgYHJhd2AgcHJvcGVydHkgdGhhdCBpcyBhbHNvIGFuXG4gICAgLy8gYXJyYXkuIFRoZSBhc3NvY2lhdGVkIHRlbXBsYXRlIGxpdGVyYWwgaGFzIG5vIGludGVycG9sYXRpb24gaWYgYW5kIG9ubHkgaWZcbiAgICAvLyB0aGUgbGVuZ3RoIG9mIHRoZSBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyAxLlxuICAgIGlmIChuZ0Rldk1vZGUgJiYgKCFBcnJheS5pc0FycmF5KHVybCkgfHwgIUFycmF5LmlzQXJyYXkodXJsLnJhdykgfHwgdXJsLmxlbmd0aCAhPT0gMSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGludGVycG9sYXRpb24gaW4gdHJ1c3RlZCBVUkwgY29uc3RhbnQ6ICR7dXJsLmpvaW4oJz8nKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nKHVybFswXSk7XG59XG4vKipcbiAqIERldGVjdHMgd2hpY2ggc2FuaXRpemVyIHRvIHVzZSBmb3IgVVJMIHByb3BlcnR5LCBiYXNlZCBvbiB0YWcgbmFtZSBhbmQgcHJvcCBuYW1lLlxuICpcbiAqIFRoZSBydWxlcyBhcmUgYmFzZWQgb24gdGhlIFJFU09VUkNFX1VSTCBjb250ZXh0IGNvbmZpZyBmcm9tXG4gKiBgcGFja2FnZXMvY29tcGlsZXIvc3JjL3NjaGVtYS9kb21fc2VjdXJpdHlfc2NoZW1hLnRzYC5cbiAqIElmIHRhZyBhbmQgcHJvcCBuYW1lcyBkb24ndCBtYXRjaCBSZXNvdXJjZSBVUkwgc2NoZW1hLCB1c2UgVVJMIHNhbml0aXplci5cbiAqL1xuZnVuY3Rpb24gZ2V0VXJsU2FuaXRpemVyKHRhZywgcHJvcCkge1xuICAgIGlmICgocHJvcCA9PT0gJ3NyYycgJiZcbiAgICAgICAgKHRhZyA9PT0gJ2VtYmVkJyB8fCB0YWcgPT09ICdmcmFtZScgfHwgdGFnID09PSAnaWZyYW1lJyB8fCB0YWcgPT09ICdtZWRpYScgfHxcbiAgICAgICAgICAgIHRhZyA9PT0gJ3NjcmlwdCcpKSB8fFxuICAgICAgICAocHJvcCA9PT0gJ2hyZWYnICYmICh0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdsaW5rJykpKSB7XG4gICAgICAgIHJldHVybiDJtcm1c2FuaXRpemVSZXNvdXJjZVVybDtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVzYW5pdGl6ZVVybDtcbn1cbi8qKlxuICogU2FuaXRpemVzIFVSTCwgc2VsZWN0aW5nIHNhbml0aXplciBmdW5jdGlvbiBiYXNlZCBvbiB0YWcgYW5kIHByb3BlcnR5IG5hbWVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBpbiBjYXNlIHdlIGNhbid0IGRlZmluZSBzZWN1cml0eSBjb250ZXh0IGF0IGNvbXBpbGUgdGltZSwgd2hlbiBvbmx5IHByb3BcbiAqIG5hbWUgaXMgYXZhaWxhYmxlLiBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBnZW5lcmF0ZSBob3N0IGJpbmRpbmdzIGZvciBEaXJlY3RpdmVzL0NvbXBvbmVudHMuIFRoZVxuICogaG9zdCBlbGVtZW50IGlzIHVua25vd24gYXQgY29tcGlsZSB0aW1lLCBzbyB3ZSBkZWZlciBjYWxjdWxhdGlvbiBvZiBzcGVjaWZpYyBzYW5pdGl6ZXIgdG9cbiAqIHJ1bnRpbWUuXG4gKlxuICogQHBhcmFtIHVuc2FmZVVybCB1bnRydXN0ZWQgYHVybGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHBhcmFtIHRhZyB0YXJnZXQgZWxlbWVudCB0YWcgbmFtZS5cbiAqIEBwYXJhbSBwcm9wIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgY29udGFpbnMgdGhlIHZhbHVlLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVVcmxPclJlc291cmNlVXJsKHVuc2FmZVVybCwgdGFnLCBwcm9wKSB7XG4gICAgcmV0dXJuIGdldFVybFNhbml0aXplcih0YWcsIHByb3ApKHVuc2FmZVVybCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFnYWluc3RFdmVudFByb3BlcnRpZXMobmFtZSkge1xuICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnb24nKSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgQmluZGluZyB0byBldmVudCBwcm9wZXJ0eSAnJHtuYW1lfScgaXMgZGlzYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgYCArXG4gICAgICAgICAgICBgcGxlYXNlIHVzZSAoJHtuYW1lLnNsaWNlKDIpfSk9Li4uYCArXG4gICAgICAgICAgICBgXFxuSWYgJyR7bmFtZX0nIGlzIGEgZGlyZWN0aXZlIGlucHV0LCBtYWtlIHN1cmUgdGhlIGRpcmVjdGl2ZSBpcyBpbXBvcnRlZCBieSB0aGVgICtcbiAgICAgICAgICAgIGAgY3VycmVudCBtb2R1bGUuYDtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigzMDYgLyogSU5WQUxJRF9FVkVOVF9CSU5ESU5HICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQWdhaW5zdEV2ZW50QXR0cmlidXRlcyhuYW1lKSB7XG4gICAgaWYgKG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdvbicpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBCaW5kaW5nIHRvIGV2ZW50IGF0dHJpYnV0ZSAnJHtuYW1lfScgaXMgZGlzYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgYCArXG4gICAgICAgICAgICBgcGxlYXNlIHVzZSAoJHtuYW1lLnNsaWNlKDIpfSk9Li4uYDtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigzMDYgLyogSU5WQUxJRF9FVkVOVF9CSU5ESU5HICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFNhbml0aXplcigpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgcmV0dXJuIGxWaWV3ICYmIGxWaWV3W1NBTklUSVpFUl07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXRjaGluZyBgTENvbnRleHRgIGRhdGEgZm9yIGEgZ2l2ZW4gRE9NIG5vZGUsIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGV4YW1pbmUgdGhlIHByb3ZpZGVkIERPTSBlbGVtZW50LCBjb21wb25lbnQsIG9yIGRpcmVjdGl2ZSBpbnN0YW5jZVxcJ3NcbiAqIG1vbmtleS1wYXRjaGVkIHByb3BlcnR5IHRvIGRlcml2ZSB0aGUgYExDb250ZXh0YCBkYXRhLiBPbmNlIGNhbGxlZCB0aGVuIHRoZSBtb25rZXktcGF0Y2hlZFxuICogdmFsdWUgd2lsbCBiZSB0aGF0IG9mIHRoZSBuZXdseSBjcmVhdGVkIGBMQ29udGV4dGAuXG4gKlxuICogSWYgdGhlIG1vbmtleS1wYXRjaGVkIHZhbHVlIGlzIHRoZSBgTFZpZXdgIGluc3RhbmNlIHRoZW4gdGhlIGNvbnRleHQgdmFsdWUgZm9yIHRoYXRcbiAqIHRhcmdldCB3aWxsIGJlIGNyZWF0ZWQgYW5kIHRoZSBtb25rZXktcGF0Y2ggcmVmZXJlbmNlIHdpbGwgYmUgdXBkYXRlZC4gVGhlcmVmb3JlIHdoZW4gdGhpc1xuICogZnVuY3Rpb24gaXMgY2FsbGVkIGl0IG1heSBtdXRhdGUgdGhlIHByb3ZpZGVkIGVsZW1lbnRcXCdzLCBjb21wb25lbnRcXCdzIG9yIGFueSBvZiB0aGUgYXNzb2NpYXRlZFxuICogZGlyZWN0aXZlXFwncyBtb25rZXktcGF0Y2ggdmFsdWVzLlxuICpcbiAqIElmIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgaXMgbm90IGRldGVjdGVkIHRoZW4gdGhlIGNvZGUgd2lsbCB3YWxrIHVwIHRoZSBET00gdW50aWwgYW4gZWxlbWVudFxuICogaXMgZm91bmQgd2hpY2ggY29udGFpbnMgYSBtb25rZXktcGF0Y2ggcmVmZXJlbmNlLiBXaGVuIHRoYXQgb2NjdXJzIHRoZW4gdGhlIHByb3ZpZGVkIGVsZW1lbnRcbiAqIHdpbGwgYmUgdXBkYXRlZCB3aXRoIGEgbmV3IGNvbnRleHQgKHdoaWNoIGlzIHRoZW4gcmV0dXJuZWQpLiBJZiB0aGUgbW9ua2V5LXBhdGNoIHZhbHVlIGlzIG5vdFxuICogZGV0ZWN0ZWQgZm9yIGEgY29tcG9uZW50L2RpcmVjdGl2ZSBpbnN0YW5jZSB0aGVuIGl0IHdpbGwgdGhyb3cgYW4gZXJyb3IgKGFsbCBjb21wb25lbnRzIGFuZFxuICogZGlyZWN0aXZlcyBzaG91bGQgYmUgYXV0b21hdGljYWxseSBtb25rZXktcGF0Y2hlZCBieSBpdnkpLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgQ29tcG9uZW50LCBEaXJlY3RpdmUgb3IgRE9NIE5vZGUuXG4gKi9cbmZ1bmN0aW9uIGdldExDb250ZXh0KHRhcmdldCkge1xuICAgIGxldCBtcFZhbHVlID0gcmVhZFBhdGNoZWREYXRhKHRhcmdldCk7XG4gICAgaWYgKG1wVmFsdWUpIHtcbiAgICAgICAgLy8gb25seSB3aGVuIGl0J3MgYW4gYXJyYXkgaXMgaXQgY29uc2lkZXJlZCBhbiBMVmlldyBpbnN0YW5jZVxuICAgICAgICAvLyAuLi4gb3RoZXJ3aXNlIGl0J3MgYW4gYWxyZWFkeSBjb25zdHJ1Y3RlZCBMQ29udGV4dCBpbnN0YW5jZVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtcFZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgbFZpZXcgPSBtcFZhbHVlO1xuICAgICAgICAgICAgbGV0IG5vZGVJbmRleDtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aXZlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgY29tcG9uZW50IHdhcyBub3QgZm91bmQgaW4gdGhlIGFwcGxpY2F0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGlyZWN0aXZlSW5zdGFuY2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFEaXJlY3RpdmUobFZpZXcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBkaXJlY3RpdmUgd2FzIG5vdCBmb3VuZCBpbiB0aGUgYXBwbGljYXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGdldERpcmVjdGl2ZXNBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoZSBnb2FsIGlzIG5vdCB0byBmaWxsIHRoZSBlbnRpcmUgY29udGV4dCBmdWxsIG9mIGRhdGEgYmVjYXVzZSB0aGUgbG9va3Vwc1xuICAgICAgICAgICAgLy8gYXJlIGV4cGVuc2l2ZS4gSW5zdGVhZCwgb25seSB0aGUgdGFyZ2V0IGRhdGEgKHRoZSBlbGVtZW50LCBjb21wb25lbnQsIGNvbnRhaW5lciwgSUNVXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uIG9yIGRpcmVjdGl2ZSBkZXRhaWxzKSBhcmUgZmlsbGVkIGludG8gdGhlIGNvbnRleHQuIElmIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgdGFyZ2V0IHZhbHVlcyB0aGVuIHRoZSBtaXNzaW5nIHRhcmdldCBkYXRhIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUobFZpZXdbbm9kZUluZGV4XSk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0N0eCA9IHJlYWRQYXRjaGVkRGF0YShuYXRpdmUpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IChleGlzdGluZ0N0eCAmJiAhQXJyYXkuaXNBcnJheShleGlzdGluZ0N0eCkpID9cbiAgICAgICAgICAgICAgICBleGlzdGluZ0N0eCA6XG4gICAgICAgICAgICAgICAgY3JlYXRlTENvbnRleHQobFZpZXcsIG5vZGVJbmRleCwgbmF0aXZlKTtcbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIGRpc2NvdmVyZWQgdGhlbiB1cGRhdGUgdGhlIG1vbmtleS1wYXRjaFxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb250ZXh0LmNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbnRleHQuY29tcG9uZW50LCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gZGlzY292ZXJlZCB0aGVuIHVwZGF0ZSB0aGUgbW9ua2V5LXBhdGNoXG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlcyAmJiBjb250ZXh0LmRpcmVjdGl2ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShkaXJlY3RpdmVzW2ldLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5uYXRpdmUsIGNvbnRleHQpO1xuICAgICAgICAgICAgbXBWYWx1ZSA9IGNvbnRleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJFbGVtZW50ID0gdGFyZ2V0O1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShyRWxlbWVudCk7XG4gICAgICAgIC8vIGlmIHRoZSBjb250ZXh0IGlzIG5vdCBmb3VuZCB0aGVuIHdlIG5lZWQgdG8gdHJhdmVyc2UgdXB3YXJkcyB1cCB0aGUgRE9NXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIG5lYXJlc3QgZWxlbWVudCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gbW9ua2V5IHBhdGNoZWQgd2l0aCBkYXRhXG4gICAgICAgIGxldCBwYXJlbnQgPSByRWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRDb250ZXh0ID0gcmVhZFBhdGNoZWREYXRhKHBhcmVudCk7XG4gICAgICAgICAgICBpZiAocGFyZW50Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGxldCBsVmlldztcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnRDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IHBhcmVudENvbnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IHBhcmVudENvbnRleHQubFZpZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSBlZGdlIG9mIHRoZSBhcHAgd2FzIGFsc28gcmVhY2hlZCBoZXJlIHRocm91Z2ggYW5vdGhlciBtZWFuc1xuICAgICAgICAgICAgICAgIC8vIChtYXliZSBiZWNhdXNlIHRoZSBET00gd2FzIGNoYW5nZWQgbWFudWFsbHkpLlxuICAgICAgICAgICAgICAgIGlmICghbFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZmluZFZpYU5hdGl2ZUVsZW1lbnQobFZpZXcsIHJFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShsVmlld1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlTENvbnRleHQobFZpZXcsIGluZGV4LCBuYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgbXBWYWx1ZSA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbXBWYWx1ZSB8fCBudWxsO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGVtcHR5IGluc3RhbmNlIG9mIGEgYExDb250ZXh0YCBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBub2RlSW5kZXgsIG5hdGl2ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxWaWV3LFxuICAgICAgICBub2RlSW5kZXgsXG4gICAgICAgIG5hdGl2ZSxcbiAgICAgICAgY29tcG9uZW50OiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdGl2ZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9jYWxSZWZzOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogVGFrZXMgYSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIHJldHVybnMgdGhlIHZpZXcgZm9yIHRoYXQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRJbnN0YW5jZVxuICogQHJldHVybnMgVGhlIGNvbXBvbmVudCdzIHZpZXdcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBsZXQgbFZpZXcgPSByZWFkUGF0Y2hlZERhdGEoY29tcG9uZW50SW5zdGFuY2UpO1xuICAgIGxldCB2aWV3O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxWaWV3KSkge1xuICAgICAgICBjb25zdCBub2RlSW5kZXggPSBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCBjb21wb25lbnRJbnN0YW5jZSk7XG4gICAgICAgIHZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgobm9kZUluZGV4LCBsVmlldyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVMQ29udGV4dChsVmlldywgbm9kZUluZGV4LCB2aWV3W0hPU1RdKTtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBjb21wb25lbnRJbnN0YW5jZTtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbXBvbmVudEluc3RhbmNlLCBjb250ZXh0KTtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbnRleHQubmF0aXZlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBsVmlldztcbiAgICAgICAgdmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChjb250ZXh0Lm5vZGVJbmRleCwgY29udGV4dC5sVmlldyk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3O1xufVxuLyoqXG4gKiBUaGlzIHByb3BlcnR5IHdpbGwgYmUgbW9ua2V5LXBhdGNoZWQgb24gZWxlbWVudHMsIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXMuXG4gKi9cbmNvbnN0IE1PTktFWV9QQVRDSF9LRVlfTkFNRSA9ICdfX25nQ29udGV4dF9fJztcbi8qKlxuICogQXNzaWducyB0aGUgZ2l2ZW4gZGF0YSB0byB0aGUgZ2l2ZW4gdGFyZ2V0ICh3aGljaCBjb3VsZCBiZSBhIGNvbXBvbmVudCxcbiAqIGRpcmVjdGl2ZSBvciBET00gbm9kZSBpbnN0YW5jZSkgdXNpbmcgbW9ua2V5LXBhdGNoaW5nLlxuICovXG5mdW5jdGlvbiBhdHRhY2hQYXRjaERhdGEodGFyZ2V0LCBkYXRhKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodGFyZ2V0LCAnVGFyZ2V0IGV4cGVjdGVkJyk7XG4gICAgdGFyZ2V0W01PTktFWV9QQVRDSF9LRVlfTkFNRV0gPSBkYXRhO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgZGF0YSBwcmVzZW50IG9uIHRoZSB0YXJnZXQgKHdoaWNoIGNvdWxkIGJlXG4gKiBhIGNvbXBvbmVudCwgZGlyZWN0aXZlIG9yIGEgRE9NIG5vZGUpLlxuICovXG5mdW5jdGlvbiByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodGFyZ2V0LCAnVGFyZ2V0IGV4cGVjdGVkJyk7XG4gICAgcmV0dXJuIHRhcmdldFtNT05LRVlfUEFUQ0hfS0VZX05BTUVdIHx8IG51bGw7XG59XG5mdW5jdGlvbiByZWFkUGF0Y2hlZExWaWV3KHRhcmdldCkge1xuICAgIGNvbnN0IHZhbHVlID0gcmVhZFBhdGNoZWREYXRhKHRhcmdldCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUubFZpZXc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3RvciAmJiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci7JtWNtcDtcbn1cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IuybVkaXI7XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGVsZW1lbnQgd2l0aGluIHRoZSBnaXZlbiBMVmlldyBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgaW5kZXhcbiAqL1xuZnVuY3Rpb24gZmluZFZpYU5hdGl2ZUVsZW1lbnQobFZpZXcsIHRhcmdldCkge1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGZvciAobGV0IGkgPSBIRUFERVJfT0ZGU0VUOyBpIDwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXg7IGkrKykge1xuICAgICAgICBpZiAodW53cmFwUk5vZGUobFZpZXdbaV0pID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgbmV4dCB0Tm9kZSAoY2hpbGQsIHNpYmxpbmcgb3IgcGFyZW50KS5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VOZXh0RWxlbWVudCh0Tm9kZSkge1xuICAgIGlmICh0Tm9kZS5jaGlsZCkge1xuICAgICAgICByZXR1cm4gdE5vZGUuY2hpbGQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLm5leHQpIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLm5leHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBMZXQncyB0YWtlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6IDxkaXY+PHNwYW4+dGV4dDwvc3Bhbj48L2Rpdj48Y29tcG9uZW50Lz5cbiAgICAgICAgLy8gQWZ0ZXIgY2hlY2tpbmcgdGhlIHRleHQgbm9kZSwgd2UgbmVlZCB0byBmaW5kIHRoZSBuZXh0IHBhcmVudCB0aGF0IGhhcyBhIFwibmV4dFwiIFROb2RlLFxuICAgICAgICAvLyBpbiB0aGlzIGNhc2UgdGhlIHBhcmVudCBgZGl2YCwgc28gdGhhdCB3ZSBjYW4gZmluZCB0aGUgY29tcG9uZW50LlxuICAgICAgICB3aGlsZSAodE5vZGUucGFyZW50ICYmICF0Tm9kZS5wYXJlbnQubmV4dCkge1xuICAgICAgICAgICAgdE5vZGUgPSB0Tm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHROb2RlLnBhcmVudCAmJiB0Tm9kZS5wYXJlbnQubmV4dDtcbiAgICB9XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGNvbXBvbmVudCB3aXRoaW4gdGhlIGdpdmVuIExWaWV3IGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBpbmRleFxuICovXG5mdW5jdGlvbiBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCBjb21wb25lbnRJbnN0YW5jZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudEluZGljZXMgPSBsVmlld1tUVklFV10uY29tcG9uZW50cztcbiAgICBpZiAoY29tcG9uZW50SW5kaWNlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudEluZGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRDb21wb25lbnRJbmRleCA9IGNvbXBvbmVudEluZGljZXNbaV07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGVsZW1lbnRDb21wb25lbnRJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdbQ09OVEVYVF0gPT09IGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRDb21wb25lbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgcm9vdENvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoSEVBREVSX09GRlNFVCwgbFZpZXcpO1xuICAgICAgICBjb25zdCByb290Q29tcG9uZW50ID0gcm9vdENvbXBvbmVudFZpZXdbQ09OVEVYVF07XG4gICAgICAgIGlmIChyb290Q29tcG9uZW50ID09PSBjb21wb25lbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgLy8gd2UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgcm9vdCBlbGVtZW50IGhlcmUgdGhlcmVmb3JlIHdlIGtub3cgdGhhdCB0aGVcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgdGhlIHZlcnkgZmlyc3QgZWxlbWVudCBhZnRlciB0aGUgSEVBREVSIGRhdGEgaW4gdGhlIGxWaWV3XG4gICAgICAgICAgICByZXR1cm4gSEVBREVSX09GRlNFVDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGRpcmVjdGl2ZSB3aXRoaW4gdGhlIGdpdmVuIExWaWV3IGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBpbmRleFxuICovXG5mdW5jdGlvbiBmaW5kVmlhRGlyZWN0aXZlKGxWaWV3LCBkaXJlY3RpdmVJbnN0YW5jZSkge1xuICAgIC8vIGlmIGEgZGlyZWN0aXZlIGlzIG1vbmtleSBwYXRjaGVkIHRoZW4gaXQgd2lsbCAoYnkgZGVmYXVsdClcbiAgICAvLyBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBMVmlldyBvZiB0aGUgY3VycmVudCB2aWV3LiBUaGVcbiAgICAvLyBlbGVtZW50IGJvdW5kIHRvIHRoZSBkaXJlY3RpdmUgYmVpbmcgc2VhcmNoIGxpdmVzIHNvbWV3aGVyZVxuICAgIC8vIGluIHRoZSB2aWV3IGRhdGEuIFdlIGxvb3AgdGhyb3VnaCB0aGUgbm9kZXMgYW5kIGNoZWNrIHRoZWlyXG4gICAgLy8gbGlzdCBvZiBkaXJlY3RpdmVzIGZvciB0aGUgaW5zdGFuY2UuXG4gICAgbGV0IHROb2RlID0gbFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKHROb2RlKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4U3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5kZXhFbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBkaXJlY3RpdmVJbmRleFN0YXJ0OyBpIDwgZGlyZWN0aXZlSW5kZXhFbmQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxWaWV3W2ldID09PSBkaXJlY3RpdmVJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0Tm9kZS5pbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IHRyYXZlcnNlTmV4dEVsZW1lbnQodE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIGRpcmVjdGl2ZXMgZXh0cmFjdGVkIGZyb20gdGhlIGdpdmVuIHZpZXcgYmFzZWQgb24gdGhlXG4gKiBwcm92aWRlZCBsaXN0IG9mIGRpcmVjdGl2ZSBpbmRleCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIG5vZGVJbmRleCBUaGUgbm9kZSBpbmRleFxuICogQHBhcmFtIGxWaWV3IFRoZSB0YXJnZXQgdmlldyBkYXRhXG4gKiBAcGFyYW0gaW5jbHVkZUNvbXBvbmVudHMgV2hldGhlciBvciBub3QgdG8gaW5jbHVkZSBjb21wb25lbnRzIGluIHJldHVybmVkIGRpcmVjdGl2ZXNcbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcsIGluY2x1ZGVDb21wb25lbnRzKSB7XG4gICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIGxldCBkaXJlY3RpdmVTdGFydEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgaWYgKGRpcmVjdGl2ZVN0YXJ0SW5kZXggPT0gMClcbiAgICAgICAgcmV0dXJuIEVNUFRZX0FSUkFZO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUVuZEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGlmICghaW5jbHVkZUNvbXBvbmVudHMgJiYgdE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLylcbiAgICAgICAgZGlyZWN0aXZlU3RhcnRJbmRleCsrO1xuICAgIHJldHVybiBsVmlldy5zbGljZShkaXJlY3RpdmVTdGFydEluZGV4LCBkaXJlY3RpdmVFbmRJbmRleCk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3KSB7XG4gICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIGxldCBkaXJlY3RpdmVTdGFydEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgcmV0dXJuIHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8gPyBsVmlld1tkaXJlY3RpdmVTdGFydEluZGV4XSA6IG51bGw7XG59XG4vKipcbiAqIFJldHVybnMgYSBtYXAgb2YgbG9jYWwgcmVmZXJlbmNlcyAobG9jYWwgcmVmZXJlbmNlIG5hbWUgPT4gZWxlbWVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UpIHRoYXRcbiAqIGV4aXN0IG9uIGEgZ2l2ZW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZGlzY292ZXJMb2NhbFJlZnMobFZpZXcsIG5vZGVJbmRleCkge1xuICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbbm9kZUluZGV4XTtcbiAgICBpZiAodE5vZGUgJiYgdE5vZGUubG9jYWxOYW1lcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgbGV0IGxvY2FsSW5kZXggPSB0Tm9kZS5pbmRleCArIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdE5vZGUubG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgcmVzdWx0W3ROb2RlLmxvY2FsTmFtZXNbaV1dID0gbFZpZXdbbG9jYWxJbmRleF07XG4gICAgICAgICAgICBsb2NhbEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgRVJST1JfT1JJR0lOQUxfRVJST1IgPSAnbmdPcmlnaW5hbEVycm9yJztcbmNvbnN0IEVSUk9SX0xPR0dFUiA9ICduZ0Vycm9yTG9nZ2VyJztcbmZ1bmN0aW9uIHdyYXBwZWRFcnJvcihtZXNzYWdlLCBvcmlnaW5hbEVycm9yKSB7XG4gICAgY29uc3QgbXNnID0gYCR7bWVzc2FnZX0gY2F1c2VkIGJ5OiAke29yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IG9yaWdpbmFsRXJyb3IubWVzc2FnZSA6IG9yaWdpbmFsRXJyb3J9YDtcbiAgICBjb25zdCBlcnJvciA9IEVycm9yKG1zZyk7XG4gICAgZXJyb3JbRVJST1JfT1JJR0lOQUxfRVJST1JdID0gb3JpZ2luYWxFcnJvcjtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5mdW5jdGlvbiBnZXRPcmlnaW5hbEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yW0VSUk9SX09SSUdJTkFMX0VSUk9SXTtcbn1cbmZ1bmN0aW9uIGdldEVycm9yTG9nZ2VyKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yICYmIGVycm9yW0VSUk9SX0xPR0dFUl0gfHwgZGVmYXVsdEVycm9yTG9nZ2VyO1xufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9yTG9nZ2VyKGNvbnNvbGUsIC4uLnZhbHVlcykge1xuICAgIGNvbnNvbGUuZXJyb3IoLi4udmFsdWVzKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFByb3ZpZGVzIGEgaG9vayBmb3IgY2VudHJhbGl6ZWQgZXhjZXB0aW9uIGhhbmRsaW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBFcnJvckhhbmRsZXJgIHByaW50cyBlcnJvciBtZXNzYWdlcyB0byB0aGUgYGNvbnNvbGVgLiBUb1xuICogaW50ZXJjZXB0IGVycm9yIGhhbmRsaW5nLCB3cml0ZSBhIGN1c3RvbSBleGNlcHRpb24gaGFuZGxlciB0aGF0IHJlcGxhY2VzIHRoaXMgZGVmYXVsdCBhc1xuICogYXBwcm9wcmlhdGUgZm9yIHlvdXIgYXBwLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogY2xhc3MgTXlFcnJvckhhbmRsZXIgaW1wbGVtZW50cyBFcnJvckhhbmRsZXIge1xuICogICBoYW5kbGVFcnJvcihlcnJvcikge1xuICogICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIHRoZSBleGNlcHRpb25cbiAqICAgfVxuICogfVxuICpcbiAqIEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBFcnJvckhhbmRsZXIsIHVzZUNsYXNzOiBNeUVycm9ySGFuZGxlcn1dXG4gKiB9KVxuICogY2xhc3MgTXlNb2R1bGUge31cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRXJyb3JIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29uc29sZSA9IGNvbnNvbGU7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSB0aGlzLl9maW5kT3JpZ2luYWxFcnJvcihlcnJvcik7XG4gICAgICAgIC8vIE5vdGU6IEJyb3dzZXIgY29uc29sZXMgc2hvdyB0aGUgcGxhY2UgZnJvbSB3aGVyZSBjb25zb2xlLmVycm9yIHdhcyBjYWxsZWQuXG4gICAgICAgIC8vIFdlIGNhbiB1c2UgdGhpcyB0byBnaXZlIHVzZXJzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLlxuICAgICAgICBjb25zdCBlcnJvckxvZ2dlciA9IGdldEVycm9yTG9nZ2VyKGVycm9yKTtcbiAgICAgICAgZXJyb3JMb2dnZXIodGhpcy5fY29uc29sZSwgYEVSUk9SYCwgZXJyb3IpO1xuICAgICAgICBpZiAob3JpZ2luYWxFcnJvcikge1xuICAgICAgICAgICAgZXJyb3JMb2dnZXIodGhpcy5fY29uc29sZSwgYE9SSUdJTkFMIEVSUk9SYCwgb3JpZ2luYWxFcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9maW5kT3JpZ2luYWxFcnJvcihlcnJvcikge1xuICAgICAgICBsZXQgZSA9IGVycm9yICYmIGdldE9yaWdpbmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICB3aGlsZSAoZSAmJiBnZXRPcmlnaW5hbEVycm9yKGUpKSB7XG4gICAgICAgICAgICBlID0gZ2V0T3JpZ2luYWxFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZSB8fCBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERlZmluZXMgYSBzY2hlbWEgdGhhdCBhbGxvd3MgYW4gTmdNb2R1bGUgdG8gY29udGFpbiB0aGUgZm9sbG93aW5nOlxuICogLSBOb24tQW5ndWxhciBlbGVtZW50cyBuYW1lZCB3aXRoIGRhc2ggY2FzZSAoYC1gKS5cbiAqIC0gRWxlbWVudCBwcm9wZXJ0aWVzIG5hbWVkIHdpdGggZGFzaCBjYXNlIChgLWApLlxuICogRGFzaCBjYXNlIGlzIHRoZSBuYW1pbmcgY29udmVudGlvbiBmb3IgY3VzdG9tIGVsZW1lbnRzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSA9IHtcbiAgICBuYW1lOiAnY3VzdG9tLWVsZW1lbnRzJ1xufTtcbi8qKlxuICogRGVmaW5lcyBhIHNjaGVtYSB0aGF0IGFsbG93cyBhbnkgcHJvcGVydHkgb24gYW55IGVsZW1lbnQuXG4gKlxuICogVGhpcyBzY2hlbWEgYWxsb3dzIHlvdSB0byBpZ25vcmUgdGhlIGVycm9ycyByZWxhdGVkIHRvIGFueSB1bmtub3duIGVsZW1lbnRzIG9yIHByb3BlcnRpZXMgaW4gYVxuICogdGVtcGxhdGUuIFRoZSB1c2FnZSBvZiB0aGlzIHNjaGVtYSBpcyBnZW5lcmFsbHkgZGlzY291cmFnZWQgYmVjYXVzZSBpdCBwcmV2ZW50cyB1c2VmdWwgdmFsaWRhdGlvblxuICogYW5kIG1heSBoaWRlIHJlYWwgZXJyb3JzIGluIHlvdXIgdGVtcGxhdGUuIENvbnNpZGVyIHVzaW5nIHRoZSBgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQWAgaW5zdGVhZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE5PX0VSUk9SU19TQ0hFTUEgPSB7XG4gICAgbmFtZTogJ25vLWVycm9ycy1zY2hlbWEnXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGlzYWxsb3dlZCBzdHJpbmdzIGluIHRoZSBjb21tZW50LlxuICpcbiAqIHNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjY29tbWVudHNcbiAqL1xuY29uc3QgQ09NTUVOVF9ESVNBTExPV0VEID0gL14+fF4tPnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbi8qKlxuICogRGVsaW1pdGVyIGluIHRoZSBkaXNhbGxvd2VkIHN0cmluZ3Mgd2hpY2ggbmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIHplcm8gd2l0aCBjaGFyYWN0ZXIuXG4gKi9cbmNvbnN0IENPTU1FTlRfREVMSU1JVEVSID0gLyg8fD4pLztcbmNvbnN0IENPTU1FTlRfREVMSU1JVEVSX0VTQ0FQRUQgPSAnXFx1MjAwQiQxXFx1MjAwQic7XG4vKipcbiAqIEVzY2FwZSB0aGUgY29udGVudCBvZiBjb21tZW50IHN0cmluZ3Mgc28gdGhhdCBpdCBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYSBjb21tZW50IG5vZGUuXG4gKlxuICogVGhlIGlzc3VlIGlzIHRoYXQgSFRNTCBkb2VzIG5vdCBzcGVjaWZ5IGFueSB3YXkgdG8gZXNjYXBlIGNvbW1lbnQgZW5kIHRleHQgaW5zaWRlIHRoZSBjb21tZW50LlxuICogQ29uc2lkZXI6IGA8IS0tIFRoZSB3YXkgeW91IGNsb3NlIGEgY29tbWVudCBpcyB3aXRoIFwiPlwiLCBhbmQgXCItPlwiIGF0IHRoZSBiZWdpbm5pbmcgb3IgYnkgXCItLT5cIiBvclxuICogXCItLSE+XCIgYXQgdGhlIGVuZC4gLS0+YC4gQWJvdmUgdGhlIGBcIi0tPlwiYCBpcyBtZWFudCB0byBiZSB0ZXh0IG5vdCBhbiBlbmQgdG8gdGhlIGNvbW1lbnQuIFRoaXNcbiAqIGNhbiBiZSBjcmVhdGVkIHByb2dyYW1tYXRpY2FsbHkgdGhyb3VnaCBET00gQVBJcy4gKGA8IS0tYCBhcmUgYWxzbyBkaXNhbGxvd2VkLilcbiAqXG4gKiBzZWU6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2NvbW1lbnRzXG4gKlxuICogYGBgXG4gKiBkaXYuaW5uZXJIVE1MID0gZGl2LmlubmVySFRNTFxuICogYGBgXG4gKlxuICogT25lIHdvdWxkIGV4cGVjdCB0aGF0IHRoZSBhYm92ZSBjb2RlIHdvdWxkIGJlIHNhZmUgdG8gZG8sIGJ1dCBpdCB0dXJucyBvdXQgdGhhdCBiZWNhdXNlIGNvbW1lbnRcbiAqIHRleHQgaXMgbm90IGVzY2FwZWQsIHRoZSBjb21tZW50IG1heSBjb250YWluIHRleHQgd2hpY2ggd2lsbCBwcmVtYXR1cmVseSBjbG9zZSB0aGUgY29tbWVudFxuICogb3BlbmluZyB1cCB0aGUgYXBwbGljYXRpb24gZm9yIFhTUyBhdHRhY2suIChJbiBTU1Igd2UgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgY29tbWVudCBub2RlcyB3aGljaFxuICogbWF5IGNvbnRhaW4gc3VjaCB0ZXh0IGFuZCBleHBlY3QgdGhlbSB0byBiZSBzYWZlLilcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVzY2FwZXMgdGhlIGNvbW1lbnQgdGV4dCBieSBsb29raW5nIGZvciBjb21tZW50IGRlbGltaXRlcnMgKGA8YCBhbmQgYD5gKSBhbmRcbiAqIHN1cnJvdW5kaW5nIHRoZW0gd2l0aCBgXz5fYCB3aGVyZSB0aGUgYF9gIGlzIGEgemVybyB3aWR0aCBzcGFjZSBgXFx1MjAwQmAuIFRoZSByZXN1bHQgaXMgdGhhdCBpZiBhXG4gKiBjb21tZW50IGNvbnRhaW5zIGFueSBvZiB0aGUgY29tbWVudCBzdGFydC9lbmQgZGVsaW1pdGVycyAoc3VjaCBhcyBgPCEtLWAsIGAtLT5gIG9yIGAtLSE+YCkgdGhlXG4gKiB0ZXh0IGl0IHdpbGwgcmVuZGVyIG5vcm1hbGx5IGJ1dCBpdCB3aWxsIG5vdCBjYXVzZSB0aGUgSFRNTCBwYXJzZXIgdG8gY2xvc2Uvb3BlbiB0aGUgY29tbWVudC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgdGV4dCB0byBtYWtlIHNhZmUgZm9yIGNvbW1lbnQgbm9kZSBieSBlc2NhcGluZyB0aGUgY29tbWVudCBvcGVuL2Nsb3NlIGNoYXJhY3RlclxuICogICAgIHNlcXVlbmNlLlxuICovXG5mdW5jdGlvbiBlc2NhcGVDb21tZW50VGV4dCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKENPTU1FTlRfRElTQUxMT1dFRCwgKHRleHQpID0+IHRleHQucmVwbGFjZShDT01NRU5UX0RFTElNSVRFUiwgQ09NTUVOVF9ERUxJTUlURVJfRVNDQVBFRCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlYnVnQmluZGluZ05hbWUobmFtZSkge1xuICAgIC8vIEF0dHJpYnV0ZSBuYW1lcyB3aXRoIGAkYCAoZWcgYHgteSRgKSBhcmUgdmFsaWQgcGVyIHNwZWMsIGJ1dCB1bnN1cHBvcnRlZCBieSBzb21lIGJyb3dzZXJzXG4gICAgbmFtZSA9IGNhbWVsQ2FzZVRvRGFzaENhc2UobmFtZS5yZXBsYWNlKC9bJEBdL2csICdfJykpO1xuICAgIHJldHVybiBgbmctcmVmbGVjdC0ke25hbWV9YDtcbn1cbmNvbnN0IENBTUVMX0NBU0VfUkVHRVhQID0gLyhbQS1aXSkvZztcbmZ1bmN0aW9uIGNhbWVsQ2FzZVRvRGFzaENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShDQU1FTF9DQVNFX1JFR0VYUCwgKC4uLm0pID0+ICctJyArIG1bMV0udG9Mb3dlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIExpbWl0IHRoZSBzaXplIG9mIHRoZSB2YWx1ZSBhcyBvdGhlcndpc2UgdGhlIERPTSBqdXN0IGdldHMgcG9sbHV0ZWQuXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUudG9TdHJpbmcoKS5zbGljZSgwLCAzMCkgOiB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICdbRVJST1JdIEV4Y2VwdGlvbiB3aGlsZSB0cnlpbmcgdG8gc2VyaWFsaXplIHRoZSB2YWx1ZSc7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IGRlZmF1bHRTY2hlZHVsZXIgPSAoKCkgPT4gKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IC8vIGJyb3dzZXIgb25seVxuICAgIHNldFRpbWVvdXQgLy8gZXZlcnl0aGluZyBlbHNlXG4pXG4gICAgLmJpbmQoX2dsb2JhbCkpKCk7XG4vKipcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzb2x2ZVdpbmRvdyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcbn1cbi8qKlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXNvbHZlRG9jdW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG4vKipcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzb2x2ZUJvZHkoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbn1cbi8qKlxuICogVGhlIHNwZWNpYWwgZGVsaW1pdGVyIHdlIHVzZSB0byBzZXBhcmF0ZSBwcm9wZXJ0eSBuYW1lcywgcHJlZml4ZXMsIGFuZCBzdWZmaXhlc1xuICogaW4gcHJvcGVydHkgYmluZGluZyBtZXRhZGF0YS4gU2VlIHN0b3JlQmluZGluZ01ldGFkYXRhKCkuXG4gKlxuICogV2UgaW50ZW50aW9uYWxseSB1c2UgdGhlIFVuaWNvZGUgXCJSRVBMQUNFTUVOVCBDSEFSQUNURVJcIiAoVStGRkZEKSBhcyBhIGRlbGltaXRlclxuICogYmVjYXVzZSBpdCBpcyBhIHZlcnkgdW5jb21tb24gY2hhcmFjdGVyIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcGFydCBvZiBhIHVzZXInc1xuICogcHJvcGVydHkgbmFtZXMgb3IgaW50ZXJwb2xhdGlvbiBzdHJpbmdzLiBJZiBpdCBpcyBpbiBmYWN0IHVzZWQgaW4gYSBwcm9wZXJ0eVxuICogYmluZGluZywgRGVidWdFbGVtZW50LnByb3BlcnRpZXMgd2lsbCBub3QgcmV0dXJuIHRoZSBjb3JyZWN0IHZhbHVlIGZvciB0aGF0XG4gKiBiaW5kaW5nLiBIb3dldmVyLCB0aGVyZSBzaG91bGQgYmUgbm8gcnVudGltZSBlZmZlY3QgZm9yIHJlYWwgYXBwbGljYXRpb25zLlxuICpcbiAqIFRoaXMgY2hhcmFjdGVyIGlzIHR5cGljYWxseSByZW5kZXJlZCBhcyBhIHF1ZXN0aW9uIG1hcmsgaW5zaWRlIG9mIGEgZGlhbW9uZC5cbiAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TcGVjaWFsc18oVW5pY29kZV9ibG9jaylcbiAqXG4gKi9cbmNvbnN0IElOVEVSUE9MQVRJT05fREVMSU1JVEVSID0gYO+/vWA7XG4vKipcbiAqIFVud3JhcCBhIHZhbHVlIHdoaWNoIG1pZ2h0IGJlIGJlaGluZCBhIGNsb3N1cmUgKGZvciBmb3J3YXJkIGRlY2xhcmF0aW9uIHJlYXNvbnMpLlxuICovXG5mdW5jdGlvbiBtYXliZVVud3JhcEZuKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBDYWxsZWQgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgY29tcG9uZW50IHNlbGVjdG9ycyB0aGF0IG1hdGNoIGEgZ2l2ZW4gbm9kZSAqL1xuZnVuY3Rpb24gdGhyb3dNdWx0aXBsZUNvbXBvbmVudEVycm9yKHROb2RlKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMzAwIC8qIE1VTFRJUExFX0NPTVBPTkVOVFNfTUFUQ0ggKi8sIGBNdWx0aXBsZSBjb21wb25lbnRzIG1hdGNoIG5vZGUgd2l0aCB0YWduYW1lICR7dE5vZGUudmFsdWV9YCk7XG59XG4vKiogVGhyb3dzIGFuIEV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJDaGVja2VkIGVycm9yIGlmIGNoZWNrTm9DaGFuZ2VzIG1vZGUgaXMgb24uICovXG5mdW5jdGlvbiB0aHJvd0Vycm9ySWZOb0NoYW5nZXNNb2RlKGNyZWF0aW9uTW9kZSwgb2xkVmFsdWUsIGN1cnJWYWx1ZSwgcHJvcE5hbWUpIHtcbiAgICBjb25zdCBmaWVsZCA9IHByb3BOYW1lID8gYCBmb3IgJyR7cHJvcE5hbWV9J2AgOiAnJztcbiAgICBsZXQgbXNnID0gYEV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3I6IEV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYWZ0ZXIgaXQgd2FzIGNoZWNrZWQuIFByZXZpb3VzIHZhbHVlJHtmaWVsZH06ICcke29sZFZhbHVlfScuIEN1cnJlbnQgdmFsdWU6ICcke2N1cnJWYWx1ZX0nLmA7XG4gICAgaWYgKGNyZWF0aW9uTW9kZSkge1xuICAgICAgICBtc2cgKz1cbiAgICAgICAgICAgIGAgSXQgc2VlbXMgbGlrZSB0aGUgdmlldyBoYXMgYmVlbiBjcmVhdGVkIGFmdGVyIGl0cyBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlbiBoYXZlIGJlZW4gZGlydHkgY2hlY2tlZC5gICtcbiAgICAgICAgICAgICAgICBgIEhhcyBpdCBiZWVuIGNyZWF0ZWQgaW4gYSBjaGFuZ2UgZGV0ZWN0aW9uIGhvb2s/YDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigtMTAwIC8qIEVYUFJFU1NJT05fQ0hBTkdFRF9BRlRFUl9DSEVDS0VEICovLCBtc2cpO1xufVxuZnVuY3Rpb24gY29uc3RydWN0RGV0YWlsc0ZvckludGVycG9sYXRpb24obFZpZXcsIHJvb3RJbmRleCwgZXhwcmVzc2lvbkluZGV4LCBtZXRhLCBjaGFuZ2VkVmFsdWUpIHtcbiAgICBjb25zdCBbcHJvcE5hbWUsIHByZWZpeCwgLi4uY2h1bmtzXSA9IG1ldGEuc3BsaXQoSU5URVJQT0xBVElPTl9ERUxJTUlURVIpO1xuICAgIGxldCBvbGRWYWx1ZSA9IHByZWZpeCwgbmV3VmFsdWUgPSBwcmVmaXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdElkeCA9IHJvb3RJbmRleCArIGk7XG4gICAgICAgIG9sZFZhbHVlICs9IGAke2xWaWV3W3Nsb3RJZHhdfSR7Y2h1bmtzW2ldfWA7XG4gICAgICAgIG5ld1ZhbHVlICs9IGAke3Nsb3RJZHggPT09IGV4cHJlc3Npb25JbmRleCA/IGNoYW5nZWRWYWx1ZSA6IGxWaWV3W3Nsb3RJZHhdfSR7Y2h1bmtzW2ldfWA7XG4gICAgfVxuICAgIHJldHVybiB7IHByb3BOYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfTtcbn1cbi8qKlxuICogQ29uc3RydWN0cyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBkZXRhaWxzIGZvciB0aGUgRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcjpcbiAqIC0gcHJvcGVydHkgbmFtZSAoZm9yIHByb3BlcnR5IGJpbmRpbmdzIG9yIGludGVycG9sYXRpb25zKVxuICogLSBvbGQgYW5kIG5ldyB2YWx1ZXMsIGVucmljaGVkIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gbWV0YWRhdGFcbiAqXG4gKiBNb3JlIGluZm9ybWF0aW9uIG9uIHRoZSBtZXRhZGF0YSBzdG9yYWdlIGZvcm1hdCBjYW4gYmUgZm91bmQgaW4gYHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGFgXG4gKiBmdW5jdGlvbiBkZXNjcmlwdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RXhwcmVzc2lvbkNoYW5nZWRFcnJvckRldGFpbHMobFZpZXcsIGJpbmRpbmdJbmRleCwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgY29uc3QgdERhdGEgPSBsVmlld1tUVklFV10uZGF0YTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IHREYXRhW2JpbmRpbmdJbmRleF07XG4gICAgaWYgKHR5cGVvZiBtZXRhZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gbWV0YWRhdGEgZm9yIHByb3BlcnR5IGludGVycG9sYXRpb25cbiAgICAgICAgaWYgKG1ldGFkYXRhLmluZGV4T2YoSU5URVJQT0xBVElPTl9ERUxJTUlURVIpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbihsVmlldywgYmluZGluZ0luZGV4LCBiaW5kaW5nSW5kZXgsIG1ldGFkYXRhLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWV0YWRhdGEgZm9yIHByb3BlcnR5IGJpbmRpbmdcbiAgICAgICAgcmV0dXJuIHsgcHJvcE5hbWU6IG1ldGFkYXRhLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfTtcbiAgICB9XG4gICAgLy8gbWV0YWRhdGEgaXMgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyBleHByZXNzaW9uLCBjaGVjayBpZiB0aGlzIGV4cHJlc3Npb24gaXMgYSBwYXJ0IG9mIHRoZVxuICAgIC8vIHByb3BlcnR5IGludGVycG9sYXRpb24gYnkgZ29pbmcgZnJvbSB0aGUgY3VycmVudCBiaW5kaW5nIGluZGV4IGxlZnQgYW5kIGxvb2sgZm9yIGEgc3RyaW5nIHRoYXRcbiAgICAvLyBjb250YWlucyBJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiwgdGhlIGxheW91dCBpbiB0Vmlldy5kYXRhIGZvciB0aGlzIGNhc2Ugd2lsbCBsb29rIGxpa2UgdGhpczpcbiAgICAvLyBbLi4uLCAnaWTvv71QcmVmaXgg77+9IGFuZCDvv70gc3VmZml4JywgbnVsbCwgbnVsbCwgbnVsbCwgLi4uXVxuICAgIGlmIChtZXRhZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICBsZXQgaWR4ID0gYmluZGluZ0luZGV4IC0gMTtcbiAgICAgICAgd2hpbGUgKHR5cGVvZiB0RGF0YVtpZHhdICE9PSAnc3RyaW5nJyAmJiB0RGF0YVtpZHggKyAxXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWR4LS07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0YSA9IHREYXRhW2lkeF07XG4gICAgICAgIGlmICh0eXBlb2YgbWV0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBtZXRhLm1hdGNoKG5ldyBSZWdFeHAoSU5URVJQT0xBVElPTl9ERUxJTUlURVIsICdnJykpO1xuICAgICAgICAgICAgLy8gZmlyc3QgaW50ZXJwb2xhdGlvbiBkZWxpbWl0ZXIgc2VwYXJhdGVzIHByb3BlcnR5IG5hbWUgZnJvbSBpbnRlcnBvbGF0aW9uIHBhcnRzIChpbiBjYXNlIG9mXG4gICAgICAgICAgICAvLyBwcm9wZXJ0eSBpbnRlcnBvbGF0aW9ucyksIHNvIHdlIHN1YnRyYWN0IG9uZSBmcm9tIHRvdGFsIG51bWJlciBvZiBmb3VuZCBkZWxpbWl0ZXJzXG4gICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiAobWF0Y2hlcy5sZW5ndGggLSAxKSA+IGJpbmRpbmdJbmRleCAtIGlkeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbihsVmlldywgaWR4LCBiaW5kaW5nSW5kZXgsIG1ldGEsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBwcm9wTmFtZTogdW5kZWZpbmVkLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEZsYWdzIGZvciByZW5kZXJlci1zcGVjaWZpYyBzdHlsZSBtb2RpZmllcnMuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBSZW5kZXJlclN0eWxlRmxhZ3MyO1xuKGZ1bmN0aW9uIChSZW5kZXJlclN0eWxlRmxhZ3MyKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IFRoaXMgbmVlZHMgdG8gYmUgcmVmYWN0b3JlZCBpbnRvIGEgc2VwYXJhdGUgZmlsZSBzbyB0aGF0IGl0IGNhbiBiZSBpbXBvcnRlZCBmcm9tXG4gICAgLy8gYG5vZGVfbWFuaXB1bGF0aW9uLnRzYCBDdXJyZW50bHkgZG9pbmcgdGhlIGltcG9ydCBjYXVzZSByZXNvbHV0aW9uIG9yZGVyIHRvIGNoYW5nZSBhbmQgZmFpbHNcbiAgICAvLyB0aGUgdGVzdHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBoYXZlIGhhcmQgY29kZWQgdmFsdWUgaW4gYG5vZGVfbWFuaXB1bGF0aW9uLnRzYCBmb3Igbm93LlxuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgc3R5bGUgYXMgaW1wb3J0YW50LlxuICAgICAqL1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczJbUmVuZGVyZXJTdHlsZUZsYWdzMltcIkltcG9ydGFudFwiXSA9IDFdID0gXCJJbXBvcnRhbnRcIjtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHN0eWxlIGFzIHVzaW5nIGRhc2ggY2FzZSBuYW1pbmcgKHRoaXMtaXMtZGFzaC1jYXNlKS5cbiAgICAgKi9cbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MyW1JlbmRlcmVyU3R5bGVGbGFnczJbXCJEYXNoQ2FzZVwiXSA9IDJdID0gXCJEYXNoQ2FzZVwiO1xufSkoUmVuZGVyZXJTdHlsZUZsYWdzMiB8fCAoUmVuZGVyZXJTdHlsZUZsYWdzMiA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9pY3VDb250YWluZXJJdGVyYXRlO1xuLyoqXG4gKiBJdGVyYXRvciB3aGljaCBwcm92aWRlcyBhYmlsaXR5IHRvIHZpc2l0IGFsbCBvZiB0aGUgYFRJY3VDb250YWluZXJOb2RlYCByb290IGBSTm9kZWBzLlxuICovXG5mdW5jdGlvbiBpY3VDb250YWluZXJJdGVyYXRlKHRJY3VDb250YWluZXJOb2RlLCBsVmlldykge1xuICAgIHJldHVybiBfaWN1Q29udGFpbmVySXRlcmF0ZSh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpO1xufVxuLyoqXG4gKiBFbnN1cmVzIHRoYXQgYEljdUNvbnRhaW5lclZpc2l0b3JgJ3MgaW1wbGVtZW50YXRpb24gaXMgcHJlc2VudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludm9rZWQgd2hlbiBpMThuIGluc3RydWN0aW9uIGNvbWVzIGFjcm9zcyBhbiBJQ1UuIFRoZSBwdXJwb3NlIGlzIHRvIGFsbG93IHRoZVxuICogYnVuZGxlciB0byB0cmVlIHNoYWtlIElDVSBsb2dpYyBhbmQgb25seSBsb2FkIGl0IGlmIElDVSBpbnN0cnVjdGlvbiBpcyBleGVjdXRlZC5cbiAqL1xuZnVuY3Rpb24gZW5zdXJlSWN1Q29udGFpbmVyVmlzaXRvckxvYWRlZChsb2FkZXIpIHtcbiAgICBpZiAoX2ljdUNvbnRhaW5lckl0ZXJhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBEbyBub3QgaW5saW5lIHRoaXMgZnVuY3Rpb24uIFdlIHdhbnQgdG8ga2VlcCBgZW5zdXJlSWN1Q29udGFpbmVyVmlzaXRvckxvYWRlZGAgbGlnaHQsIHNvIGl0XG4gICAgICAgIC8vIGNhbiBiZSBpbmxpbmVkIGludG8gY2FsbC1zaXRlLlxuICAgICAgICBfaWN1Q29udGFpbmVySXRlcmF0ZSA9IGxvYWRlcigpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQzID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCBMVmlldyBvZiB0aGUgcGFzc2VkIExWaWV3LCBpZiB0aGUgUEFSRU5UIGlzIGFuIExDb250YWluZXIsIHdpbGwgZ2V0IHRoZSBwYXJlbnQgb2ZcbiAqIHRoYXQgTENvbnRhaW5lciwgd2hpY2ggaXMgYW4gTFZpZXdcbiAqIEBwYXJhbSBsVmlldyB0aGUgbFZpZXcgd2hvc2UgcGFyZW50IHRvIGdldFxuICovXG5mdW5jdGlvbiBnZXRMVmlld1BhcmVudChsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgY29uc3QgcGFyZW50ID0gbFZpZXdbUEFSRU5UXTtcbiAgICByZXR1cm4gaXNMQ29udGFpbmVyKHBhcmVudCkgPyBwYXJlbnRbUEFSRU5UXSA6IHBhcmVudDtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIHJvb3QgdmlldyBmcm9tIGFueSBjb21wb25lbnQgb3IgYExWaWV3YCBieSB3YWxraW5nIHRoZSBwYXJlbnQgYExWaWV3YCB1bnRpbFxuICogcmVhY2hpbmcgdGhlIHJvb3QgYExWaWV3YC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50T3JMVmlldyBhbnkgY29tcG9uZW50IG9yIGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdFZpZXcoY29tcG9uZW50T3JMVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGNvbXBvbmVudE9yTFZpZXcsICdjb21wb25lbnQnKTtcbiAgICBsZXQgbFZpZXcgPSBpc0xWaWV3KGNvbXBvbmVudE9yTFZpZXcpID8gY29tcG9uZW50T3JMVmlldyA6IHJlYWRQYXRjaGVkTFZpZXcoY29tcG9uZW50T3JMVmlldyk7XG4gICAgd2hpbGUgKGxWaWV3ICYmICEobFZpZXdbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLykpIHtcbiAgICAgICAgbFZpZXcgPSBnZXRMVmlld1BhcmVudChsVmlldyk7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBgUm9vdENvbnRleHRgIGluc3RhbmNlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoXG4gKiB0aGUgYXBwbGljYXRpb24gd2hlcmUgdGhlIHRhcmdldCBpcyBzaXR1YXRlZC4gSXQgZG9lcyB0aGlzIGJ5IHdhbGtpbmcgdGhlIHBhcmVudCB2aWV3cyB1bnRpbCBpdFxuICogZ2V0cyB0byB0aGUgcm9vdCB2aWV3LCB0aGVuIGdldHRpbmcgdGhlIGNvbnRleHQgb2ZmIG9mIHRoYXQuXG4gKlxuICogQHBhcmFtIHZpZXdPckNvbXBvbmVudCB0aGUgYExWaWV3YCBvciBjb21wb25lbnQgdG8gZ2V0IHRoZSByb290IGNvbnRleHQgZm9yLlxuICovXG5mdW5jdGlvbiBnZXRSb290Q29udGV4dCh2aWV3T3JDb21wb25lbnQpIHtcbiAgICBjb25zdCByb290VmlldyA9IGdldFJvb3RWaWV3KHZpZXdPckNvbXBvbmVudCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydERlZmluZWQocm9vdFZpZXdbQ09OVEVYVF0sICdSb290VmlldyBoYXMgbm8gY29udGV4dC4gUGVyaGFwcyBpdCBpcyBkaXNjb25uZWN0ZWQ/Jyk7XG4gICAgcmV0dXJuIHJvb3RWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBmaXJzdCBgTENvbnRhaW5lcmAgaW4gdGhlIExWaWV3IG9yIGBudWxsYCBpZiBub25lIGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KSB7XG4gICAgcmV0dXJuIGdldE5lYXJlc3RMQ29udGFpbmVyKGxWaWV3W0NISUxEX0hFQURdKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgbmV4dCBgTENvbnRhaW5lcmAgdGhhdCBpcyBhIHNpYmxpbmcgb2YgdGhlIGdpdmVuIGNvbnRhaW5lci5cbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dExDb250YWluZXIoY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGdldE5lYXJlc3RMQ29udGFpbmVyKGNvbnRhaW5lcltORVhUXSk7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0TENvbnRhaW5lcih2aWV3T3JDb250YWluZXIpIHtcbiAgICB3aGlsZSAodmlld09yQ29udGFpbmVyICE9PSBudWxsICYmICFpc0xDb250YWluZXIodmlld09yQ29udGFpbmVyKSkge1xuICAgICAgICB2aWV3T3JDb250YWluZXIgPSB2aWV3T3JDb250YWluZXJbTkVYVF07XG4gICAgfVxuICAgIHJldHVybiB2aWV3T3JDb250YWluZXI7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgdW51c2VkVmFsdWVUb1BsYWNhdGVBamQkMiA9IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDggKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMyArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDYgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ3O1xuLyoqXG4gKiBOT1RFOiBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgdGhlIHBvc3NpYmxlIGFjdGlvbnMgYXJlIGlubGluZWQgd2l0aGluIHRoZSBmdW5jdGlvbiBpbnN0ZWFkIG9mXG4gKiBiZWluZyBwYXNzZWQgYXMgYW4gYXJndW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50LCBsTm9kZVRvSGFuZGxlLCBiZWZvcmVOb2RlKSB7XG4gICAgLy8gSWYgdGhpcyBzbG90IHdhcyBhbGxvY2F0ZWQgZm9yIGEgdGV4dCBub2RlIGR5bmFtaWNhbGx5IGNyZWF0ZWQgYnkgaTE4biwgdGhlIHRleHQgbm9kZSBpdHNlbGZcbiAgICAvLyB3b24ndCBiZSBjcmVhdGVkIHVudGlsIGkxOG5BcHBseSgpIGluIHRoZSB1cGRhdGUgYmxvY2ssIHNvIHRoaXMgbm9kZSBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAvLyBGb3IgbW9yZSBpbmZvLCBzZWUgXCJJQ1UgZXhwcmVzc2lvbnMgc2hvdWxkIHdvcmsgaW5zaWRlIGFuIG5nVGVtcGxhdGVPdXRsZXQgaW5zaWRlIGFuIG5nRm9yXCJcbiAgICAvLyBpbiBgaTE4bl9zcGVjLnRzYC5cbiAgICBpZiAobE5vZGVUb0hhbmRsZSAhPSBudWxsKSB7XG4gICAgICAgIGxldCBsQ29udGFpbmVyO1xuICAgICAgICBsZXQgaXNDb21wb25lbnQgPSBmYWxzZTtcbiAgICAgICAgLy8gV2UgYXJlIGV4cGVjdGluZyBhbiBSTm9kZSwgYnV0IGluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50IG9yIExDb250YWluZXIgdGhlIGBSTm9kZWAgaXNcbiAgICAgICAgLy8gd3JhcHBlZCBpbiBhbiBhcnJheSB3aGljaCBuZWVkcyB0byBiZSB1bndyYXBwZWQuIFdlIG5lZWQgdG8ga25vdyBpZiBpdCBpcyBhIGNvbXBvbmVudCBhbmQgaWZcbiAgICAgICAgLy8gaXQgaGFzIExDb250YWluZXIgc28gdGhhdCB3ZSBjYW4gcHJvY2VzcyBhbGwgb2YgdGhvc2UgY2FzZXMgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgaWYgKGlzTENvbnRhaW5lcihsTm9kZVRvSGFuZGxlKSkge1xuICAgICAgICAgICAgbENvbnRhaW5lciA9IGxOb2RlVG9IYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMVmlldyhsTm9kZVRvSGFuZGxlKSkge1xuICAgICAgICAgICAgaXNDb21wb25lbnQgPSB0cnVlO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobE5vZGVUb0hhbmRsZVtIT1NUXSwgJ0hPU1QgbXVzdCBiZSBkZWZpbmVkIGZvciBhIGNvbXBvbmVudCBMVmlldycpO1xuICAgICAgICAgICAgbE5vZGVUb0hhbmRsZSA9IGxOb2RlVG9IYW5kbGVbSE9TVF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgck5vZGUgPSB1bndyYXBSTm9kZShsTm9kZVRvSGFuZGxlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgJiYgYXNzZXJ0RG9tTm9kZShyTm9kZSk7XG4gICAgICAgIGlmIChhY3Rpb24gPT09IDAgLyogQ3JlYXRlICovICYmIHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUFwcGVuZENoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIHJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCByTm9kZSwgYmVmb3JlTm9kZSB8fCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09IDEgLyogSW5zZXJ0ICovICYmIHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIHJOb2RlLCBiZWZvcmVOb2RlIHx8IG51bGwsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gMiAvKiBEZXRhY2ggKi8pIHtcbiAgICAgICAgICAgIG5hdGl2ZVJlbW92ZU5vZGUocmVuZGVyZXIsIHJOb2RlLCBpc0NvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAzIC8qIERlc3Ryb3kgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJEZXN0cm95Tm9kZSsrO1xuICAgICAgICAgICAgcmVuZGVyZXIuZGVzdHJveU5vZGUock5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsQ29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFwcGx5Q29udGFpbmVyKHJlbmRlcmVyLCBhY3Rpb24sIGxDb250YWluZXIsIHBhcmVudCwgYmVmb3JlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZShyZW5kZXJlciwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUrKztcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0VGV4dCsrO1xuICAgIHJldHVybiBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5jcmVhdGVUZXh0KHZhbHVlKSA6XG4gICAgICAgIHJlbmRlcmVyLmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlKHJlbmRlcmVyLCByTm9kZSwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0VGV4dCsrO1xuICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnNldFZhbHVlKHJOb2RlLCB2YWx1ZSkgOiByTm9kZS50ZXh0Q29udGVudCA9IHZhbHVlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudE5vZGUocmVuZGVyZXIsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICAvLyBpc1Byb2NlZHVyYWxSZW5kZXJlciBjaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2UgYm90aCBgUmVuZGVyZXIyYCBhbmQgYFJlbmRlcmVyM2AgaGF2ZSB0aGUgc2FtZVxuICAgIC8vIG1ldGhvZCBuYW1lLlxuICAgIHJldHVybiByZW5kZXJlci5jcmVhdGVDb21tZW50KGVzY2FwZUNvbW1lbnRUZXh0KHZhbHVlKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuYXRpdmUgZWxlbWVudCBmcm9tIGEgdGFnIG5hbWUsIHVzaW5nIGEgcmVuZGVyZXIuXG4gKiBAcGFyYW0gcmVuZGVyZXIgQSByZW5kZXJlciB0byB1c2VcbiAqIEBwYXJhbSBuYW1lIHRoZSB0YWcgbmFtZVxuICogQHBhcmFtIG5hbWVzcGFjZSBPcHRpb25hbCBuYW1lc3BhY2UgZm9yIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB0aGUgZWxlbWVudCBjcmVhdGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyLCBuYW1lLCBuYW1lc3BhY2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlRWxlbWVudCsrO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZVVyaSA9IG5hbWVzcGFjZSAhPT0gbnVsbCA/IGdldE5hbWVzcGFjZVVyaShuYW1lc3BhY2UpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZVVyaSA9PT0gbnVsbCA/IHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQobmFtZSkgOlxuICAgICAgICAgICAgcmVuZGVyZXIuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVyaSwgbmFtZSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBET00gZWxlbWVudHMgYXNzb2NpYXRlZCB3aXRoIGEgdmlldy5cbiAqXG4gKiBCZWNhdXNlIHNvbWUgcm9vdCBub2RlcyBvZiB0aGUgdmlldyBtYXkgYmUgY29udGFpbmVycywgd2Ugc29tZXRpbWVzIG5lZWRcbiAqIHRvIHByb3BhZ2F0ZSBkZWVwbHkgaW50byB0aGUgbmVzdGVkIGNvbnRhaW5lcnMgdG8gcmVtb3ZlIGFsbCBlbGVtZW50cyBpbiB0aGVcbiAqIHZpZXdzIGJlbmVhdGggaXQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyBmcm9tIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCBvciByZW1vdmVkXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVZpZXdGcm9tQ29udGFpbmVyKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCAyIC8qIERldGFjaCAqLywgbnVsbCwgbnVsbCk7XG4gICAgbFZpZXdbSE9TVF0gPSBudWxsO1xuICAgIGxWaWV3W1RfSE9TVF0gPSBudWxsO1xufVxuLyoqXG4gKiBBZGRzIGFsbCBET00gZWxlbWVudHMgYXNzb2NpYXRlZCB3aXRoIGEgdmlldy5cbiAqXG4gKiBCZWNhdXNlIHNvbWUgcm9vdCBub2RlcyBvZiB0aGUgdmlldyBtYXkgYmUgY29udGFpbmVycywgd2Ugc29tZXRpbWVzIG5lZWRcbiAqIHRvIHByb3BhZ2F0ZSBkZWVwbHkgaW50byB0aGUgbmVzdGVkIGNvbnRhaW5lcnMgdG8gYWRkIGFsbCBlbGVtZW50cyBpbiB0aGVcbiAqIHZpZXdzIGJlbmVhdGggaXQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBUaGUgYFROb2RlYCB3aGVyZSB0aGUgYExWaWV3YCBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gKiBAcGFyYW0gcmVuZGVyZXIgQ3VycmVudCByZW5kZXJlciB0byB1c2UgZm9yIERPTSBtYW5pcHVsYXRpb25zLlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqIEBwYXJhbSBwYXJlbnROYXRpdmVOb2RlIFRoZSBwYXJlbnQgYFJFbGVtZW50YCB3aGVyZSBpdCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50by5cbiAqIEBwYXJhbSBiZWZvcmVOb2RlIFRoZSBub2RlIGJlZm9yZSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQsIGlmIGluc2VydCBtb2RlXG4gKi9cbmZ1bmN0aW9uIGFkZFZpZXdUb0NvbnRhaW5lcih0VmlldywgcGFyZW50VE5vZGUsIHJlbmRlcmVyLCBsVmlldywgcGFyZW50TmF0aXZlTm9kZSwgYmVmb3JlTm9kZSkge1xuICAgIGxWaWV3W0hPU1RdID0gcGFyZW50TmF0aXZlTm9kZTtcbiAgICBsVmlld1tUX0hPU1RdID0gcGFyZW50VE5vZGU7XG4gICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIDEgLyogSW5zZXJ0ICovLCBwYXJlbnROYXRpdmVOb2RlLCBiZWZvcmVOb2RlKTtcbn1cbi8qKlxuICogRGV0YWNoIGEgYExWaWV3YCBmcm9tIHRoZSBET00gYnkgZGV0YWNoaW5nIGl0cyBub2Rlcy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgdG8gYmUgZGV0YWNoZWRcbiAqIEBwYXJhbSBsVmlldyB0aGUgYExWaWV3YCB0byBiZSBkZXRhY2hlZC5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRGV0YWNoVmlldyh0VmlldywgbFZpZXcpIHtcbiAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIDIgLyogRGV0YWNoICovLCBudWxsLCBudWxsKTtcbn1cbi8qKlxuICogVHJhdmVyc2VzIGRvd24gYW5kIHVwIHRoZSB0cmVlIG9mIHZpZXdzIGFuZCBjb250YWluZXJzIHRvIHJlbW92ZSBsaXN0ZW5lcnMgYW5kXG4gKiBjYWxsIG9uRGVzdHJveSBjYWxsYmFja3MuXG4gKlxuICogTm90ZXM6XG4gKiAgLSBCZWNhdXNlIGl0J3MgdXNlZCBmb3Igb25EZXN0cm95IGNhbGxzLCBpdCBuZWVkcyB0byBiZSBib3R0b20tdXAuXG4gKiAgLSBNdXN0IHByb2Nlc3MgY29udGFpbmVycyBpbnN0ZWFkIG9mIHRoZWlyIHZpZXdzIHRvIGF2b2lkIHNwbGljaW5nXG4gKiAgd2hlbiB2aWV3cyBhcmUgZGVzdHJveWVkIGFuZCByZS1hZGRlZC5cbiAqICAtIFVzaW5nIGEgd2hpbGUgbG9vcCBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gcmVjdXJzaW9uXG4gKiAgLSBEZXN0cm95IG9ubHkgY2FsbGVkIG9uIG1vdmVtZW50IHRvIHNpYmxpbmcgb3IgbW92ZW1lbnQgdG8gcGFyZW50IChsYXRlcmFsbHkgb3IgdXApXG4gKlxuICogIEBwYXJhbSByb290VmlldyBUaGUgdmlldyB0byBkZXN0cm95XG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lWaWV3VHJlZShyb290Vmlldykge1xuICAgIC8vIElmIHRoZSB2aWV3IGhhcyBubyBjaGlsZHJlbiwgd2UgY2FuIGNsZWFuIGl0IHVwIGFuZCByZXR1cm4gZWFybHkuXG4gICAgbGV0IGxWaWV3T3JMQ29udGFpbmVyID0gcm9vdFZpZXdbQ0hJTERfSEVBRF07XG4gICAgaWYgKCFsVmlld09yTENvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gY2xlYW5VcFZpZXcocm9vdFZpZXdbVFZJRVddLCByb290Vmlldyk7XG4gICAgfVxuICAgIHdoaWxlIChsVmlld09yTENvbnRhaW5lcikge1xuICAgICAgICBsZXQgbmV4dCA9IG51bGw7XG4gICAgICAgIGlmIChpc0xWaWV3KGxWaWV3T3JMQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgLy8gSWYgTFZpZXcsIHRyYXZlcnNlIGRvd24gdG8gY2hpbGQuXG4gICAgICAgICAgICBuZXh0ID0gbFZpZXdPckxDb250YWluZXJbQ0hJTERfSEVBRF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihsVmlld09yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAvLyBJZiBjb250YWluZXIsIHRyYXZlcnNlIGRvd24gdG8gaXRzIGZpcnN0IExWaWV3LlxuICAgICAgICAgICAgY29uc3QgZmlyc3RWaWV3ID0gbFZpZXdPckxDb250YWluZXJbQ09OVEFJTkVSX0hFQURFUl9PRkZTRVRdO1xuICAgICAgICAgICAgaWYgKGZpcnN0VmlldylcbiAgICAgICAgICAgICAgICBuZXh0ID0gZmlyc3RWaWV3O1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgLy8gT25seSBjbGVhbiB1cCB2aWV3IHdoZW4gbW92aW5nIHRvIHRoZSBzaWRlIG9yIHVwLCBhcyBkZXN0cm95IGhvb2tzXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgY2FsbGVkIGluIG9yZGVyIGZyb20gdGhlIGJvdHRvbSB1cC5cbiAgICAgICAgICAgIHdoaWxlIChsVmlld09yTENvbnRhaW5lciAmJiAhbFZpZXdPckxDb250YWluZXJbTkVYVF0gJiYgbFZpZXdPckxDb250YWluZXIgIT09IHJvb3RWaWV3KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTFZpZXcobFZpZXdPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuVXBWaWV3KGxWaWV3T3JMQ29udGFpbmVyW1RWSUVXXSwgbFZpZXdPckxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsVmlld09yTENvbnRhaW5lciA9IGxWaWV3T3JMQ29udGFpbmVyW1BBUkVOVF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobFZpZXdPckxDb250YWluZXIgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgbFZpZXdPckxDb250YWluZXIgPSByb290VmlldztcbiAgICAgICAgICAgIGlmIChpc0xWaWV3KGxWaWV3T3JMQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgIGNsZWFuVXBWaWV3KGxWaWV3T3JMQ29udGFpbmVyW1RWSUVXXSwgbFZpZXdPckxDb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCA9IGxWaWV3T3JMQ29udGFpbmVyICYmIGxWaWV3T3JMQ29udGFpbmVyW05FWFRdO1xuICAgICAgICB9XG4gICAgICAgIGxWaWV3T3JMQ29udGFpbmVyID0gbmV4dDtcbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgYSB2aWV3IGludG8gYSBjb250YWluZXIuXG4gKlxuICogVGhpcyBhZGRzIHRoZSB2aWV3IHRvIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBhY3RpdmUgdmlld3MgaW4gdGhlIGNvcnJlY3RcbiAqIHBvc2l0aW9uLiBJdCBhbHNvIGFkZHMgdGhlIHZpZXcncyBlbGVtZW50cyB0byB0aGUgRE9NIGlmIHRoZSBjb250YWluZXIgaXNuJ3QgYVxuICogcm9vdCBub2RlIG9mIGFub3RoZXIgdmlldyAoaW4gdGhhdCBjYXNlLCB0aGUgdmlldydzIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQgd2hlblxuICogdGhlIGNvbnRhaW5lcidzIHBhcmVudCB2aWV3IGlzIGFkZGVkIGxhdGVyKS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgdG8gaW5zZXJ0XG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gaW5zZXJ0XG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgY29udGFpbmVyIGludG8gd2hpY2ggdGhlIHZpZXcgc2hvdWxkIGJlIGluc2VydGVkXG4gKiBAcGFyYW0gaW5kZXggV2hpY2ggaW5kZXggaW4gdGhlIGNvbnRhaW5lciB0byBpbnNlcnQgdGhlIGNoaWxkIHZpZXcgaW50b1xuICovXG5mdW5jdGlvbiBpbnNlcnRWaWV3KHRWaWV3LCBsVmlldywgbENvbnRhaW5lciwgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcobFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGxDb250YWluZXIpO1xuICAgIGNvbnN0IGluZGV4SW5Db250YWluZXIgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIGNvbnN0IGNvbnRhaW5lckxlbmd0aCA9IGxDb250YWluZXIubGVuZ3RoO1xuICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyB2aWV3LCB3ZSBuZWVkIHRvIGFkZCBpdCB0byB0aGUgY2hpbGRyZW4uXG4gICAgICAgIGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lciAtIDFdW05FWFRdID0gbFZpZXc7XG4gICAgfVxuICAgIGlmIChpbmRleCA8IGNvbnRhaW5lckxlbmd0aCAtIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUKSB7XG4gICAgICAgIGxWaWV3W05FWFRdID0gbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyXTtcbiAgICAgICAgYWRkVG9BcnJheShsQ29udGFpbmVyLCBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIGluZGV4LCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsQ29udGFpbmVyLnB1c2gobFZpZXcpO1xuICAgICAgICBsVmlld1tORVhUXSA9IG51bGw7XG4gICAgfVxuICAgIGxWaWV3W1BBUkVOVF0gPSBsQ29udGFpbmVyO1xuICAgIC8vIHRyYWNrIHZpZXdzIHdoZXJlIGRlY2xhcmF0aW9uIGFuZCBpbnNlcnRpb24gcG9pbnRzIGFyZSBkaWZmZXJlbnRcbiAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSBsVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXTtcbiAgICBpZiAoZGVjbGFyYXRpb25MQ29udGFpbmVyICE9PSBudWxsICYmIGxDb250YWluZXIgIT09IGRlY2xhcmF0aW9uTENvbnRhaW5lcikge1xuICAgICAgICB0cmFja01vdmVkVmlldyhkZWNsYXJhdGlvbkxDb250YWluZXIsIGxWaWV3KTtcbiAgICB9XG4gICAgLy8gbm90aWZ5IHF1ZXJ5IHRoYXQgYSBuZXcgdmlldyBoYXMgYmVlbiBhZGRlZFxuICAgIGNvbnN0IGxRdWVyaWVzID0gbFZpZXdbUVVFUklFU107XG4gICAgaWYgKGxRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIGxRdWVyaWVzLmluc2VydFZpZXcodFZpZXcpO1xuICAgIH1cbiAgICAvLyBTZXRzIHRoZSBhdHRhY2hlZCBmbGFnXG4gICAgbFZpZXdbRkxBR1NdIHw9IDEyOCAvKiBBdHRhY2hlZCAqLztcbn1cbi8qKlxuICogVHJhY2sgdmlld3MgY3JlYXRlZCBmcm9tIHRoZSBkZWNsYXJhdGlvbiBjb250YWluZXIgKFRlbXBsYXRlUmVmKSBhbmQgaW5zZXJ0ZWQgaW50byBhXG4gKiBkaWZmZXJlbnQgTENvbnRhaW5lci5cbiAqL1xuZnVuY3Rpb24gdHJhY2tNb3ZlZFZpZXcoZGVjbGFyYXRpb25Db250YWluZXIsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXcsICdMVmlldyByZXF1aXJlZCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGRlY2xhcmF0aW9uQ29udGFpbmVyKTtcbiAgICBjb25zdCBtb3ZlZFZpZXdzID0gZGVjbGFyYXRpb25Db250YWluZXJbTU9WRURfVklFV1NdO1xuICAgIGNvbnN0IGluc2VydGVkTENvbnRhaW5lciA9IGxWaWV3W1BBUkVOVF07XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoaW5zZXJ0ZWRMQ29udGFpbmVyKTtcbiAgICBjb25zdCBpbnNlcnRlZENvbXBvbmVudExWaWV3ID0gaW5zZXJ0ZWRMQ29udGFpbmVyW1BBUkVOVF1bREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGluc2VydGVkQ29tcG9uZW50TFZpZXcsICdNaXNzaW5nIGluc2VydGVkQ29tcG9uZW50TFZpZXcnKTtcbiAgICBjb25zdCBkZWNsYXJlZENvbXBvbmVudExWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGRlY2xhcmVkQ29tcG9uZW50TFZpZXcsICdNaXNzaW5nIGRlY2xhcmVkQ29tcG9uZW50TFZpZXcnKTtcbiAgICBpZiAoZGVjbGFyZWRDb21wb25lbnRMVmlldyAhPT0gaW5zZXJ0ZWRDb21wb25lbnRMVmlldykge1xuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBkZWNsYXJhdGlvbi1jb21wb25lbnQgaXMgbm90IHNhbWUgYXMgaW5zZXJ0aW9uLWNvbXBvbmVudDsgdGhpcyBtZWFucyB0aGF0XG4gICAgICAgIC8vIHRoaXMgaXMgYSB0cmFuc3BsYW50ZWQgdmlldy4gTWFyayB0aGUgZGVjbGFyZWQgbFZpZXcgYXMgaGF2aW5nIHRyYW5zcGxhbnRlZCB2aWV3cyBzbyB0aGF0XG4gICAgICAgIC8vIHRob3NlIHZpZXdzIGNhbiBwYXJ0aWNpcGF0ZSBpbiBDRC5cbiAgICAgICAgZGVjbGFyYXRpb25Db250YWluZXJbSEFTX1RSQU5TUExBTlRFRF9WSUVXU10gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobW92ZWRWaWV3cyA9PT0gbnVsbCkge1xuICAgICAgICBkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU10gPSBbbFZpZXddO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW92ZWRWaWV3cy5wdXNoKGxWaWV3KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hNb3ZlZFZpZXcoZGVjbGFyYXRpb25Db250YWluZXIsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25Db250YWluZXIpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnREZWZpbmVkKGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXSwgJ0EgcHJvamVjdGVkIHZpZXcgc2hvdWxkIGJlbG9uZyB0byBhIG5vbi1lbXB0eSBwcm9qZWN0ZWQgdmlld3MgY29sbGVjdGlvbicpO1xuICAgIGNvbnN0IG1vdmVkVmlld3MgPSBkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgY29uc3QgZGVjbGFyYXRpb25WaWV3SW5kZXggPSBtb3ZlZFZpZXdzLmluZGV4T2YobFZpZXcpO1xuICAgIGNvbnN0IGluc2VydGlvbkxDb250YWluZXIgPSBsVmlld1tQQVJFTlRdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGluc2VydGlvbkxDb250YWluZXIpO1xuICAgIC8vIElmIHRoZSB2aWV3IHdhcyBtYXJrZWQgZm9yIHJlZnJlc2ggYnV0IHRoZW4gZGV0YWNoZWQgYmVmb3JlIGl0IHdhcyBjaGVja2VkICh3aGVyZSB0aGUgZmxhZ1xuICAgIC8vIHdvdWxkIGJlIGNsZWFyZWQgYW5kIHRoZSBjb3VudGVyIGRlY3JlbWVudGVkKSwgd2UgbmVlZCB0byBkZWNyZW1lbnQgdGhlIHZpZXcgY291bnRlciBoZXJlXG4gICAgLy8gaW5zdGVhZC5cbiAgICBpZiAobFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykge1xuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi87XG4gICAgICAgIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChpbnNlcnRpb25MQ29udGFpbmVyLCAtMSk7XG4gICAgfVxuICAgIG1vdmVkVmlld3Muc3BsaWNlKGRlY2xhcmF0aW9uVmlld0luZGV4LCAxKTtcbn1cbi8qKlxuICogRGV0YWNoZXMgYSB2aWV3IGZyb20gYSBjb250YWluZXIuXG4gKlxuICogVGhpcyBtZXRob2QgcmVtb3ZlcyB0aGUgdmlldyBmcm9tIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBhY3RpdmUgdmlld3MuIEl0IGFsc29cbiAqIHJlbW92ZXMgdGhlIHZpZXcncyBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gKlxuICogQHBhcmFtIGxDb250YWluZXIgVGhlIGNvbnRhaW5lciBmcm9tIHdoaWNoIHRvIGRldGFjaCBhIHZpZXdcbiAqIEBwYXJhbSByZW1vdmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIHZpZXcgdG8gZGV0YWNoXG4gKiBAcmV0dXJucyBEZXRhY2hlZCBMVmlldyBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZGV0YWNoVmlldyhsQ29udGFpbmVyLCByZW1vdmVJbmRleCkge1xuICAgIGlmIChsQ29udGFpbmVyLmxlbmd0aCA8PSBDT05UQUlORVJfSEVBREVSX09GRlNFVClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGluZGV4SW5Db250YWluZXIgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIHJlbW92ZUluZGV4O1xuICAgIGNvbnN0IHZpZXdUb0RldGFjaCA9IGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lcl07XG4gICAgaWYgKHZpZXdUb0RldGFjaCkge1xuICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSB2aWV3VG9EZXRhY2hbREVDTEFSQVRJT05fTENPTlRBSU5FUl07XG4gICAgICAgIGlmIChkZWNsYXJhdGlvbkxDb250YWluZXIgIT09IG51bGwgJiYgZGVjbGFyYXRpb25MQ29udGFpbmVyICE9PSBsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBkZXRhY2hNb3ZlZFZpZXcoZGVjbGFyYXRpb25MQ29udGFpbmVyLCB2aWV3VG9EZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmVJbmRleCA+IDApIHtcbiAgICAgICAgICAgIGxDb250YWluZXJbaW5kZXhJbkNvbnRhaW5lciAtIDFdW05FWFRdID0gdmlld1RvRGV0YWNoW05FWFRdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZWRMVmlldyA9IHJlbW92ZUZyb21BcnJheShsQ29udGFpbmVyLCBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIHJlbW92ZUluZGV4KTtcbiAgICAgICAgcmVtb3ZlVmlld0Zyb21Db250YWluZXIodmlld1RvRGV0YWNoW1RWSUVXXSwgdmlld1RvRGV0YWNoKTtcbiAgICAgICAgLy8gbm90aWZ5IHF1ZXJ5IHRoYXQgYSB2aWV3IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgY29uc3QgbFF1ZXJpZXMgPSByZW1vdmVkTFZpZXdbUVVFUklFU107XG4gICAgICAgIGlmIChsUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbFF1ZXJpZXMuZGV0YWNoVmlldyhyZW1vdmVkTFZpZXdbVFZJRVddKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3VG9EZXRhY2hbUEFSRU5UXSA9IG51bGw7XG4gICAgICAgIHZpZXdUb0RldGFjaFtORVhUXSA9IG51bGw7XG4gICAgICAgIC8vIFVuc2V0cyB0aGUgYXR0YWNoZWQgZmxhZ1xuICAgICAgICB2aWV3VG9EZXRhY2hbRkxBR1NdICY9IH4xMjggLyogQXR0YWNoZWQgKi87XG4gICAgfVxuICAgIHJldHVybiB2aWV3VG9EZXRhY2g7XG59XG4vKipcbiAqIEEgc3RhbmRhbG9uZSBmdW5jdGlvbiB3aGljaCBkZXN0cm95cyBhbiBMVmlldyxcbiAqIGNvbmR1Y3RpbmcgY2xlYW4gdXAgKGUuZy4gcmVtb3ZpbmcgbGlzdGVuZXJzLCBjYWxsaW5nIG9uRGVzdHJveXMpLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCB0byBiZSBkZXN0cm95ZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byBiZSBkZXN0cm95ZWQuXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lMVmlldyh0VmlldywgbFZpZXcpIHtcbiAgICBpZiAoIShsVmlld1tGTEFHU10gJiAyNTYgLyogRGVzdHJveWVkICovKSkge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSAmJiByZW5kZXJlci5kZXN0cm95Tm9kZSkge1xuICAgICAgICAgICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIDMgLyogRGVzdHJveSAqLywgbnVsbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveVZpZXdUcmVlKGxWaWV3KTtcbiAgICB9XG59XG4vKipcbiAqIENhbGxzIG9uRGVzdHJveXMgaG9va3MgZm9yIGFsbCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBpbiBhIGdpdmVuIHZpZXcgYW5kIHRoZW4gcmVtb3ZlcyBhbGxcbiAqIGxpc3RlbmVycy4gTGlzdGVuZXJzIGFyZSByZW1vdmVkIGFzIHRoZSBsYXN0IHN0ZXAgc28gZXZlbnRzIGRlbGl2ZXJlZCBpbiB0aGUgb25EZXN0cm95cyBob29rc1xuICogY2FuIGJlIHByb3BhZ2F0ZWQgdG8gQE91dHB1dCBsaXN0ZW5lcnMuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgZm9yIHRoZSBgTFZpZXdgIHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB0byBjbGVhbiB1cFxuICovXG5mdW5jdGlvbiBjbGVhblVwVmlldyh0VmlldywgbFZpZXcpIHtcbiAgICBpZiAoIShsVmlld1tGTEFHU10gJiAyNTYgLyogRGVzdHJveWVkICovKSkge1xuICAgICAgICAvLyBVc3VhbGx5IHRoZSBBdHRhY2hlZCBmbGFnIGlzIHJlbW92ZWQgd2hlbiB0aGUgdmlldyBpcyBkZXRhY2hlZCBmcm9tIGl0cyBwYXJlbnQsIGhvd2V2ZXJcbiAgICAgICAgLy8gaWYgaXQncyBhIHJvb3QgdmlldywgdGhlIGZsYWcgd29uJ3QgYmUgdW5zZXQgaGVuY2Ugd2h5IHdlJ3JlIGFsc28gcmVtb3Zpbmcgb24gZGVzdHJveS5cbiAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4xMjggLyogQXR0YWNoZWQgKi87XG4gICAgICAgIC8vIE1hcmsgdGhlIExWaWV3IGFzIGRlc3Ryb3llZCAqYmVmb3JlKiBleGVjdXRpbmcgdGhlIG9uRGVzdHJveSBob29rcy4gQW4gb25EZXN0cm95IGhvb2tcbiAgICAgICAgLy8gcnVucyBhcmJpdHJhcnkgdXNlciBjb2RlLCB3aGljaCBjb3VsZCBpbmNsdWRlIGl0cyBvd24gYHZpZXdSZWYuZGVzdHJveSgpYCAob3Igc2ltaWxhcikuIElmXG4gICAgICAgIC8vIFdlIGRvbid0IGZsYWcgdGhlIHZpZXcgYXMgZGVzdHJveWVkIGJlZm9yZSB0aGUgaG9va3MsIHRoaXMgY291bGQgbGVhZCB0byBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgICAvLyBUaGlzIGFsc28gYWxpZ25zIHdpdGggdGhlIFZpZXdFbmdpbmUgYmVoYXZpb3IuIEl0IGFsc28gbWVhbnMgdGhhdCB0aGUgb25EZXN0cm95IGhvb2sgaXNcbiAgICAgICAgLy8gcmVhbGx5IG1vcmUgb2YgYW4gXCJhZnRlckRlc3Ryb3lcIiBob29rIGlmIHlvdSB0aGluayBhYm91dCBpdC5cbiAgICAgICAgbFZpZXdbRkxBR1NdIHw9IDI1NiAvKiBEZXN0cm95ZWQgKi87XG4gICAgICAgIGV4ZWN1dGVPbkRlc3Ryb3lzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIHByb2Nlc3NDbGVhbnVwcyh0VmlldywgbFZpZXcpO1xuICAgICAgICAvLyBGb3IgY29tcG9uZW50IHZpZXdzIG9ubHksIHRoZSBsb2NhbCByZW5kZXJlciBpcyBkZXN0cm95ZWQgYXQgY2xlYW4gdXAgdGltZS5cbiAgICAgICAgaWYgKGxWaWV3W1RWSUVXXS50eXBlID09PSAxIC8qIENvbXBvbmVudCAqLyAmJiBpc1Byb2NlZHVyYWxSZW5kZXJlcihsVmlld1tSRU5ERVJFUl0pKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyRGVzdHJveSsrO1xuICAgICAgICAgICAgbFZpZXdbUkVOREVSRVJdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkNvbnRhaW5lciA9IGxWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdO1xuICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIGFuIGVtYmVkZGVkIHZpZXcgdGhhdCBpcyBzdGlsbCBpbnNlcnRlZCBpbnRvIGEgY29udGFpbmVyXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbnRhaW5lciAhPT0gbnVsbCAmJiBpc0xDb250YWluZXIobFZpZXdbUEFSRU5UXSkpIHtcbiAgICAgICAgICAgIC8vIGFuZCB0aGlzIGlzIGEgcHJvamVjdGVkIHZpZXdcbiAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbnRhaW5lciAhPT0gbFZpZXdbUEFSRU5UXSkge1xuICAgICAgICAgICAgICAgIGRldGFjaE1vdmVkVmlldyhkZWNsYXJhdGlvbkNvbnRhaW5lciwgbFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm9yIGVtYmVkZGVkIHZpZXdzIHN0aWxsIGF0dGFjaGVkIHRvIGEgY29udGFpbmVyOiByZW1vdmUgcXVlcnkgcmVzdWx0IGZyb20gdGhpcyB2aWV3LlxuICAgICAgICAgICAgY29uc3QgbFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXTtcbiAgICAgICAgICAgIGlmIChsUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxRdWVyaWVzLmRldGFjaFZpZXcodFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqIFJlbW92ZXMgbGlzdGVuZXJzIGFuZCB1bnN1YnNjcmliZXMgZnJvbSBvdXRwdXQgc3Vic2NyaXB0aW9ucyAqL1xuZnVuY3Rpb24gcHJvY2Vzc0NsZWFudXBzKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IHRDbGVhbnVwID0gdFZpZXcuY2xlYW51cDtcbiAgICBjb25zdCBsQ2xlYW51cCA9IGxWaWV3W0NMRUFOVVBdO1xuICAgIC8vIGBMQ2xlYW51cGAgY29udGFpbnMgYm90aCBzaGFyZSBpbmZvcm1hdGlvbiB3aXRoIGBUQ2xlYW51cGAgYXMgd2VsbCBhcyBpbnN0YW5jZSBzcGVjaWZpY1xuICAgIC8vIGluZm9ybWF0aW9uIGFwcGVuZGVkIGF0IHRoZSBlbmQuIFdlIG5lZWQgdG8ga25vdyB3aGVyZSB0aGUgZW5kIG9mIHRoZSBgVENsZWFudXBgIGluZm9ybWF0aW9uXG4gICAgLy8gaXMsIGFuZCB3ZSB0cmFjayB0aGlzIHdpdGggYGxhc3RMQ2xlYW51cEluZGV4YC5cbiAgICBsZXQgbGFzdExDbGVhbnVwSW5kZXggPSAtMTtcbiAgICBpZiAodENsZWFudXAgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Q2xlYW51cC5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdENsZWFudXBbaV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5hdGl2ZSBET00gbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBjb25zdCBpZHhPclRhcmdldEdldHRlciA9IHRDbGVhbnVwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0eXBlb2YgaWR4T3JUYXJnZXRHZXR0ZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICBpZHhPclRhcmdldEdldHRlcihsVmlldykgOlxuICAgICAgICAgICAgICAgICAgICB1bndyYXBSTm9kZShsVmlld1tpZHhPclRhcmdldEdldHRlcl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSB0Q2xlYW51cFtpICsgMl1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZUNhcHR1cmVPclN1YklkeCA9IHRDbGVhbnVwW2kgKyAzXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVzZUNhcHR1cmVPclN1YklkeCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5hdGl2ZSBET00gbGlzdGVuZXIgcmVnaXN0ZXJlZCB3aXRoIFJlbmRlcmVyM1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0Q2xlYW51cFtpXSwgbGlzdGVuZXIsIHVzZUNhcHR1cmVPclN1YklkeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNlQ2FwdHVyZU9yU3ViSWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gdXNlQ2FwdHVyZU9yU3ViSWR4XSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsQ2xlYW51cFtsYXN0TENsZWFudXBJbmRleCA9IC11c2VDYXB0dXJlT3JTdWJJZHhdLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGNsZWFudXAgZnVuY3Rpb24gdGhhdCBpcyBncm91cGVkIHdpdGggdGhlIGluZGV4IG9mIGl0cyBjb250ZXh0XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gdENsZWFudXBbaSArIDFdXTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cFtpXS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsQ2xlYW51cCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gbGFzdExDbGVhbnVwSW5kZXggKyAxOyBpIDwgbENsZWFudXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlQ2xlYW51cEZuID0gbENsZWFudXBbaV07XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RnVuY3Rpb24oaW5zdGFuY2VDbGVhbnVwRm4sICdFeHBlY3RpbmcgaW5zdGFuY2UgY2xlYW51cCBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgIGluc3RhbmNlQ2xlYW51cEZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgbFZpZXdbQ0xFQU5VUF0gPSBudWxsO1xuICAgIH1cbn1cbi8qKiBDYWxscyBvbkRlc3Ryb3kgaG9va3MgZm9yIHRoaXMgdmlldyAqL1xuZnVuY3Rpb24gZXhlY3V0ZU9uRGVzdHJveXModFZpZXcsIGxWaWV3KSB7XG4gICAgbGV0IGRlc3Ryb3lIb29rcztcbiAgICBpZiAodFZpZXcgIT0gbnVsbCAmJiAoZGVzdHJveUhvb2tzID0gdFZpZXcuZGVzdHJveUhvb2tzKSAhPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzdHJveUhvb2tzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbFZpZXdbZGVzdHJveUhvb2tzW2ldXTtcbiAgICAgICAgICAgIC8vIE9ubHkgY2FsbCB0aGUgZGVzdHJveSBob29rIGlmIHRoZSBjb250ZXh0IGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICAgICAgICAgIGlmICghKGNvbnRleHQgaW5zdGFuY2VvZiBOb2RlSW5qZWN0b3JGYWN0b3J5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvQ2FsbCA9IGRlc3Ryb3lIb29rc1tpICsgMV07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG9DYWxsKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRvQ2FsbC5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbENvbnRleHQgPSBjb250ZXh0W3RvQ2FsbFtqXV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob29rID0gdG9DYWxsW2ogKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDQgLyogTGlmZWN5Y2xlSG9va1N0YXJ0ICovLCBjYWxsQ29udGV4dCwgaG9vayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvb2suY2FsbChjYWxsQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlcig1IC8qIExpZmVjeWNsZUhvb2tFbmQgKi8sIGNhbGxDb250ZXh0LCBob29rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGNvbnRleHQsIHRvQ2FsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b0NhbGwuY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgY29udGV4dCwgdG9DYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhIG5hdGl2ZSBlbGVtZW50IGlmIGEgbm9kZSBjYW4gYmUgaW5zZXJ0ZWQgaW50byB0aGUgZ2l2ZW4gcGFyZW50LlxuICpcbiAqIFRoZXJlIGFyZSB0d28gcmVhc29ucyB3aHkgd2UgbWF5IG5vdCBiZSBhYmxlIHRvIGluc2VydCBhIGVsZW1lbnQgaW1tZWRpYXRlbHkuXG4gKiAtIFByb2plY3Rpb246IFdoZW4gY3JlYXRpbmcgYSBjaGlsZCBjb250ZW50IGVsZW1lbnQgb2YgYSBjb21wb25lbnQsIHdlIGhhdmUgdG8gc2tpcCB0aGVcbiAqICAgaW5zZXJ0aW9uIGJlY2F1c2UgdGhlIGNvbnRlbnQgb2YgYSBjb21wb25lbnQgd2lsbCBiZSBwcm9qZWN0ZWQuXG4gKiAgIGA8Y29tcG9uZW50Pjxjb250ZW50PmRlbGF5ZWQgZHVlIHRvIHByb2plY3Rpb248L2NvbnRlbnQ+PC9jb21wb25lbnQ+YFxuICogLSBQYXJlbnQgY29udGFpbmVyIGlzIGRpc2Nvbm5lY3RlZDogVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYXJlIGluc2VydGluZyBhIHZpZXcgaW50b1xuICogICBwYXJlbnQgY29udGFpbmVyLCB3aGljaCBpdHNlbGYgaXMgZGlzY29ubmVjdGVkLiBGb3IgZXhhbXBsZSB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBwYXJ0XG4gKiAgIG9mIGEgVmlldyB3aGljaCBoYXMgbm90IGJlIGluc2VydGVkIG9yIGlzIG1hZGUgZm9yIHByb2plY3Rpb24gYnV0IGhhcyBub3QgYmVlbiBpbnNlcnRlZFxuICogICBpbnRvIGRlc3RpbmF0aW9uLlxuICpcbiAqIEBwYXJhbSB0VmlldzogQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIHROb2RlOiBgVE5vZGVgIGZvciB3aGljaCB3ZSB3aXNoIHRvIHJldHJpZXZlIHJlbmRlciBwYXJlbnQuXG4gKiBAcGFyYW0gbFZpZXc6IEN1cnJlbnQgYExWaWV3YC5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50UkVsZW1lbnQodFZpZXcsIHROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBnZXRDbG9zZXN0UkVsZW1lbnQodFZpZXcsIHROb2RlLnBhcmVudCwgbFZpZXcpO1xufVxuLyoqXG4gKiBHZXQgY2xvc2VzdCBgUkVsZW1lbnRgIG9yIGBudWxsYCBpZiBpdCBjYW4ndCBiZSBmb3VuZC5cbiAqXG4gKiBJZiBgVE5vZGVgIGlzIGBUTm9kZVR5cGUuRWxlbWVudGAgPT4gcmV0dXJuIGBSRWxlbWVudGAgYXQgYExWaWV3W3ROb2RlLmluZGV4XWAgbG9jYXRpb24uXG4gKiBJZiBgVE5vZGVgIGlzIGBUTm9kZVR5cGUuRWxlbWVudENvbnRhaW5lcnxJY3VDb250YWluYCA9PiByZXR1cm4gdGhlIHBhcmVudCAocmVjdXJzaXZlbHkpLlxuICogSWYgYFROb2RlYCBpcyBgbnVsbGAgdGhlbiByZXR1cm4gaG9zdCBgUkVsZW1lbnRgOlxuICogICAtIHJldHVybiBgbnVsbGAgaWYgcHJvamVjdGlvblxuICogICAtIHJldHVybiBgbnVsbGAgaWYgcGFyZW50IGNvbnRhaW5lciBpcyBkaXNjb25uZWN0ZWQgKHdlIGhhdmUgbm8gcGFyZW50LilcbiAqXG4gKiBAcGFyYW0gdFZpZXc6IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSB0Tm9kZTogYFROb2RlYCBmb3Igd2hpY2ggd2Ugd2lzaCB0byByZXRyaWV2ZSBgUkVsZW1lbnRgIChvciBgbnVsbGAgaWYgaG9zdCBlbGVtZW50IGlzXG4gKiAgICAgbmVlZGVkKS5cbiAqIEBwYXJhbSBsVmlldzogQ3VycmVudCBgTFZpZXdgLlxuICogQHJldHVybnMgYG51bGxgIGlmIHRoZSBgUkVsZW1lbnRgIGNhbid0IGJlIGRldGVybWluZWQgYXQgdGhpcyB0aW1lIChubyBwYXJlbnQgLyBwcm9qZWN0aW9uKVxuICovXG5mdW5jdGlvbiBnZXRDbG9zZXN0UkVsZW1lbnQodFZpZXcsIHROb2RlLCBsVmlldykge1xuICAgIGxldCBwYXJlbnRUTm9kZSA9IHROb2RlO1xuICAgIC8vIFNraXAgb3ZlciBlbGVtZW50IGFuZCBJQ1UgY29udGFpbmVycyBhcyB0aG9zZSBhcmUgcmVwcmVzZW50ZWQgYnkgYSBjb21tZW50IG5vZGUgYW5kXG4gICAgLy8gY2FuJ3QgYmUgdXNlZCBhcyBhIHJlbmRlciBwYXJlbnQuXG4gICAgd2hpbGUgKHBhcmVudFROb2RlICE9PSBudWxsICYmXG4gICAgICAgIChwYXJlbnRUTm9kZS50eXBlICYgKDggLyogRWxlbWVudENvbnRhaW5lciAqLyB8IDMyIC8qIEljdSAqLykpKSB7XG4gICAgICAgIHROb2RlID0gcGFyZW50VE5vZGU7XG4gICAgICAgIHBhcmVudFROb2RlID0gdE5vZGUucGFyZW50O1xuICAgIH1cbiAgICAvLyBJZiB0aGUgcGFyZW50IHROb2RlIGlzIG51bGwsIHRoZW4gd2UgYXJlIGluc2VydGluZyBhY3Jvc3Mgdmlld3M6IGVpdGhlciBpbnRvIGFuIGVtYmVkZGVkIHZpZXdcbiAgICAvLyBvciBhIGNvbXBvbmVudCB2aWV3LlxuICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBhcmUgaW5zZXJ0aW5nIGEgcm9vdCBlbGVtZW50IG9mIHRoZSBjb21wb25lbnQgdmlldyBpbnRvIHRoZSBjb21wb25lbnQgaG9zdCBlbGVtZW50IGFuZFxuICAgICAgICAvLyBpdCBzaG91bGQgYWx3YXlzIGJlIGVhZ2VyLlxuICAgICAgICByZXR1cm4gbFZpZXdbSE9TVF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHBhcmVudFROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgNCAvKiBDb250YWluZXIgKi8pO1xuICAgICAgICBpZiAocGFyZW50VE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcocGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgIGNvbnN0IGVuY2Fwc3VsYXRpb24gPSB0Vmlldy5kYXRhW3BhcmVudFROb2RlLmRpcmVjdGl2ZVN0YXJ0XS5lbmNhcHN1bGF0aW9uO1xuICAgICAgICAgICAgLy8gV2UndmUgZ290IGEgcGFyZW50IHdoaWNoIGlzIGFuIGVsZW1lbnQgaW4gdGhlIGN1cnJlbnQgdmlldy4gV2UganVzdCBuZWVkIHRvIHZlcmlmeSBpZiB0aGVcbiAgICAgICAgICAgIC8vIHBhcmVudCBlbGVtZW50IGlzIG5vdCBhIGNvbXBvbmVudC4gQ29tcG9uZW50J3MgY29udGVudCBub2RlcyBhcmUgbm90IGluc2VydGVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoZXkgd2lsbCBiZSBwcm9qZWN0ZWQsIGFuZCBzbyBkb2luZyBpbnNlcnQgYXQgdGhpcyBwb2ludCB3b3VsZCBiZSB3YXN0ZWZ1bC5cbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBwcm9qZWN0aW9uIHdvdWxkIHRoZW4gbW92ZSBpdCB0byBpdHMgZmluYWwgZGVzdGluYXRpb24uIE5vdGUgdGhhdCB3ZSBjYW4ndFxuICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGFzc3VtcHRpb24gd2hlbiB1c2luZyB0aGUgU2hhZG93IERPTSwgYmVjYXVzZSB0aGUgbmF0aXZlIHByb2plY3Rpb24gcGxhY2Vob2xkZXJzXG4gICAgICAgICAgICAvLyAoPGNvbnRlbnQ+IG9yIDxzbG90PikgaGF2ZSB0byBiZSBpbiBwbGFjZSBhcyBlbGVtZW50cyBhcmUgYmVpbmcgaW5zZXJ0ZWQuXG4gICAgICAgICAgICBpZiAoZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24kMS5Ob25lIHx8XG4gICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24kMS5FbXVsYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXROYXRpdmVCeVROb2RlKHBhcmVudFROb2RlLCBsVmlldyk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnRzIGEgbmF0aXZlIG5vZGUgYmVmb3JlIGFub3RoZXIgbmF0aXZlIG5vZGUgZm9yIGEgZ2l2ZW4gcGFyZW50IHVzaW5nIHtAbGluayBSZW5kZXJlcjN9LlxuICogVGhpcyBpcyBhIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB3aGVuIG5hdGl2ZSBub2RlcyB3ZXJlIGRldGVybWluZWQgLSBpdCBhYnN0cmFjdHMgYW5cbiAqIGFjdHVhbCByZW5kZXJlciBiZWluZyB1c2VkLlxuICovXG5mdW5jdGlvbiBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJJbnNlcnRCZWZvcmUrKztcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLmluc2VydEJlZm9yZShwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuYXRpdmVBcHBlbmRDaGlsZChyZW5kZXJlciwgcGFyZW50LCBjaGlsZCkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBcHBlbmRDaGlsZCsrO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHBhcmVudCwgJ3BhcmVudCBub2RlIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIuYXBwZW5kQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5hdGl2ZUFwcGVuZE9ySW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpIHtcbiAgICBpZiAoYmVmb3JlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuYXRpdmVBcHBlbmRDaGlsZChyZW5kZXJlciwgcGFyZW50LCBjaGlsZCk7XG4gICAgfVxufVxuLyoqIFJlbW92ZXMgYSBub2RlIGZyb20gdGhlIERPTSBnaXZlbiBpdHMgbmF0aXZlIHBhcmVudC4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVJlbW92ZUNoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBpc0hvc3RFbGVtZW50KSB7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5yZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkLCBpc0hvc3RFbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIHBhcmVudCBvZiBhIGdpdmVuIG5hdGl2ZSBub2RlLlxuICovXG5mdW5jdGlvbiBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBub2RlKSB7XG4gICAgcmV0dXJuIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5wYXJlbnROb2RlKG5vZGUpIDogbm9kZS5wYXJlbnROb2RlKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIG5hdGl2ZSBzaWJsaW5nIG9mIGEgZ2l2ZW4gbmF0aXZlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZU5leHRTaWJsaW5nKHJlbmRlcmVyLCBub2RlKSB7XG4gICAgcmV0dXJuIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLm5leHRTaWJsaW5nKG5vZGUpIDogbm9kZS5uZXh0U2libGluZztcbn1cbi8qKlxuICogRmluZCBhIG5vZGUgaW4gZnJvbnQgb2Ygd2hpY2ggYGN1cnJlbnRUTm9kZWAgc2hvdWxkIGJlIGluc2VydGVkLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRldGVybWluZXMgdGhlIGBSTm9kZWAgaW4gZnJvbnQgb2Ygd2hpY2ggd2Ugc2hvdWxkIGluc2VydCB0aGUgYGN1cnJlbnRSTm9kZWAuIFRoaXNcbiAqIHRha2VzIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgaW50byBhY2NvdW50IGlmIGkxOG4gY29kZSBoYXMgYmVlbiBpbnZva2VkLlxuICpcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBwYXJlbnQgYFROb2RlYFxuICogQHBhcmFtIGN1cnJlbnRUTm9kZSBjdXJyZW50IGBUTm9kZWAgKFRoZSBub2RlIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gaW5zZXJ0IGludG8gdGhlIERPTSlcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpO1xufVxuLyoqXG4gKiBGaW5kIGEgbm9kZSBpbiBmcm9udCBvZiB3aGljaCBgY3VycmVudFROb2RlYCBzaG91bGQgYmUgaW5zZXJ0ZWQuIChEb2VzIG5vdCB0YWtlIGkxOG4gaW50b1xuICogYWNjb3VudClcbiAqXG4gKiBUaGlzIG1ldGhvZCBkZXRlcm1pbmVzIHRoZSBgUk5vZGVgIGluIGZyb250IG9mIHdoaWNoIHdlIHNob3VsZCBpbnNlcnQgdGhlIGBjdXJyZW50Uk5vZGVgLiBUaGlzXG4gKiBkb2VzIG5vdCB0YWtlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgaW50byBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBwYXJlbnQgYFROb2RlYFxuICogQHBhcmFtIGN1cnJlbnRUTm9kZSBjdXJyZW50IGBUTm9kZWAgKFRoZSBub2RlIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gaW5zZXJ0IGludG8gdGhlIERPTSlcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHBhcmVudFROb2RlLnR5cGUgJiAoOCAvKiBFbGVtZW50Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovKSkge1xuICAgICAgICByZXR1cm4gZ2V0TmF0aXZlQnlUTm9kZShwYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVHJlZSBzaGFrYWJsZSBib3VuZGFyeSBmb3IgYGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG5gIGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIHNldCBpZiBpMThuIGNvZGUgcnVucy5cbiAqL1xubGV0IF9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuO1xuLyoqXG4gKiBUcmVlIHNoYWthYmxlIGJvdW5kYXJ5IGZvciBgcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmVgIGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIHNldCBpZiBpMThuIGNvZGUgcnVucy5cbiAqL1xubGV0IF9wcm9jZXNzSTE4bkluc2VydEJlZm9yZTtcbmZ1bmN0aW9uIHNldEkxOG5IYW5kbGluZyhnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuLCBwcm9jZXNzSTE4bkluc2VydEJlZm9yZSkge1xuICAgIF9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bjtcbiAgICBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUgPSBwcm9jZXNzSTE4bkluc2VydEJlZm9yZTtcbn1cbi8qKlxuICogQXBwZW5kcyB0aGUgYGNoaWxkYCBuYXRpdmUgbm9kZSAob3IgYSBjb2xsZWN0aW9uIG9mIG5vZGVzKSB0byB0aGUgYHBhcmVudGAuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIHRvIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGN1cnJlbnQgTFZpZXdcbiAqIEBwYXJhbSBjaGlsZFJOb2RlIFRoZSBuYXRpdmUgY2hpbGQgKG9yIGNoaWxkcmVuKSB0aGF0IHNob3VsZCBiZSBhcHBlbmRlZFxuICogQHBhcmFtIGNoaWxkVE5vZGUgVGhlIFROb2RlIG9mIHRoZSBjaGlsZCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgY2hpbGRSTm9kZSwgY2hpbGRUTm9kZSkge1xuICAgIGNvbnN0IHBhcmVudFJOb2RlID0gZ2V0UGFyZW50UkVsZW1lbnQodFZpZXcsIGNoaWxkVE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBjb25zdCBwYXJlbnRUTm9kZSA9IGNoaWxkVE5vZGUucGFyZW50IHx8IGxWaWV3W1RfSE9TVF07XG4gICAgY29uc3QgYW5jaG9yTm9kZSA9IGdldEluc2VydEluRnJvbnRPZlJOb2RlKHBhcmVudFROb2RlLCBjaGlsZFROb2RlLCBsVmlldyk7XG4gICAgaWYgKHBhcmVudFJOb2RlICE9IG51bGwpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRSTm9kZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRSTm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUFwcGVuZE9ySW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgY2hpbGRSTm9kZVtpXSwgYW5jaG9yTm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCBjaGlsZFJOb2RlLCBhbmNob3JOb2RlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBjaGlsZFROb2RlLCBsVmlldywgY2hpbGRSTm9kZSwgcGFyZW50Uk5vZGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBuYXRpdmUgbm9kZSBmb3IgYSBnaXZlbiBMVmlldywgc3RhcnRpbmcgZnJvbSB0aGUgcHJvdmlkZWQgVE5vZGUuXG4gKlxuICogTmF0aXZlIG5vZGVzIGFyZSByZXR1cm5lZCBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhvc2UgYXBwZWFyIGluIHRoZSBuYXRpdmUgdHJlZSAoRE9NKS5cbiAqL1xuZnVuY3Rpb24gZ2V0Rmlyc3ROYXRpdmVOb2RlKGxWaWV3LCB0Tm9kZSkge1xuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDMyIC8qIEljdSAqLyB8IDE2IC8qIFByb2plY3Rpb24gKi8pO1xuICAgICAgICBjb25zdCB0Tm9kZVR5cGUgPSB0Tm9kZS50eXBlO1xuICAgICAgICBpZiAodE5vZGVUeXBlICYgMyAvKiBBbnlSTm9kZSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJlZm9yZU5vZGVGb3JWaWV3KC0xLCBsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgY29uc3QgZWxJY3VDb250YWluZXJDaGlsZCA9IHROb2RlLmNoaWxkO1xuICAgICAgICAgICAgaWYgKGVsSWN1Q29udGFpbmVyQ2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVOb2RlKGxWaWV3LCBlbEljdUNvbnRhaW5lckNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJOb2RlT3JMQ29udGFpbmVyID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc0xDb250YWluZXIock5vZGVPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRCZWZvcmVOb2RlRm9yVmlldygtMSwgck5vZGVPckxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVud3JhcFJOb2RlKHJOb2RlT3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSB7XG4gICAgICAgICAgICBsZXQgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0ZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgbGV0IHJOb2RlID0gbmV4dFJOb2RlKCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgSUNVIGNvbnRhaW5lciBoYXMgbm8gbm9kZXMsIHRoYW4gd2UgdXNlIHRoZSBJQ1UgYW5jaG9yIGFzIHRoZSBub2RlLlxuICAgICAgICAgICAgcmV0dXJuIHJOb2RlIHx8IHVud3JhcFJOb2RlKGxWaWV3W3ROb2RlLmluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uTm9kZXMgPSBnZXRQcm9qZWN0aW9uTm9kZXMobFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0aW9uTm9kZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9qZWN0aW9uTm9kZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0aW9uTm9kZXNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSBnZXRMVmlld1BhcmVudChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10pO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQYXJlbnRWaWV3KHBhcmVudFZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUocGFyZW50VmlldywgcHJvamVjdGlvbk5vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIHROb2RlLm5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0UHJvamVjdGlvbk5vZGVzKGxWaWV3LCB0Tm9kZSkge1xuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgICAgICBjb25zdCBjb21wb25lbnRIb3N0ID0gY29tcG9uZW50Vmlld1tUX0hPU1RdO1xuICAgICAgICBjb25zdCBzbG90SWR4ID0gdE5vZGUucHJvamVjdGlvbjtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFByb2plY3Rpb25TbG90cyhsVmlldyk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRIb3N0LnByb2plY3Rpb25bc2xvdElkeF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0QmVmb3JlTm9kZUZvclZpZXcodmlld0luZGV4SW5Db250YWluZXIsIGxDb250YWluZXIpIHtcbiAgICBjb25zdCBuZXh0Vmlld0luZGV4ID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgKyB2aWV3SW5kZXhJbkNvbnRhaW5lciArIDE7XG4gICAgaWYgKG5leHRWaWV3SW5kZXggPCBsQ29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IGxDb250YWluZXJbbmV4dFZpZXdJbmRleF07XG4gICAgICAgIGNvbnN0IGZpcnN0VE5vZGVPZlZpZXcgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0VE5vZGVPZlZpZXcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIGZpcnN0VE5vZGVPZlZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsQ29udGFpbmVyW05BVElWRV07XG59XG4vKipcbiAqIFJlbW92ZXMgYSBuYXRpdmUgbm9kZSBpdHNlbGYgdXNpbmcgYSBnaXZlbiByZW5kZXJlci4gVG8gcmVtb3ZlIHRoZSBub2RlIHdlIGFyZSBsb29raW5nIHVwIGl0c1xuICogcGFyZW50IGZyb20gdGhlIG5hdGl2ZSB0cmVlIGFzIG5vdCBhbGwgcGxhdGZvcm1zIC8gYnJvd3NlcnMgc3VwcG9ydCB0aGUgZXF1aXZhbGVudCBvZlxuICogbm9kZS5yZW1vdmUoKS5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgQSByZW5kZXJlciB0byBiZSB1c2VkXG4gKiBAcGFyYW0gck5vZGUgVGhlIG5hdGl2ZSBub2RlIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAqIEBwYXJhbSBpc0hvc3RFbGVtZW50IEEgZmxhZyBpbmRpY2F0aW5nIGlmIGEgbm9kZSB0byBiZSByZW1vdmVkIGlzIGEgaG9zdCBvZiBhIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlUmVtb3ZlTm9kZShyZW5kZXJlciwgck5vZGUsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlTm9kZSsrO1xuICAgIGNvbnN0IG5hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIHJOb2RlKTtcbiAgICBpZiAobmF0aXZlUGFyZW50KSB7XG4gICAgICAgIG5hdGl2ZVJlbW92ZUNoaWxkKHJlbmRlcmVyLCBuYXRpdmVQYXJlbnQsIHJOb2RlLCBpc0hvc3RFbGVtZW50KTtcbiAgICB9XG59XG4vKipcbiAqIFBlcmZvcm1zIHRoZSBvcGVyYXRpb24gb2YgYGFjdGlvbmAgb24gdGhlIG5vZGUuIFR5cGljYWxseSB0aGlzIGludm9sdmVzIGluc2VydGluZyBvciByZW1vdmluZ1xuICogbm9kZXMgb24gdGhlIExWaWV3IG9yIHByb2plY3Rpb24gYm91bmRhcnkuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgdE5vZGUsIGxWaWV3LCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSwgaXNQcm9qZWN0aW9uKSB7XG4gICAgd2hpbGUgKHROb2RlICE9IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAxNiAvKiBQcm9qZWN0aW9uICovIHwgMzIgLyogSWN1ICovKTtcbiAgICAgICAgY29uc3QgcmF3U2xvdFZhbHVlID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBjb25zdCB0Tm9kZVR5cGUgPSB0Tm9kZS50eXBlO1xuICAgICAgICBpZiAoaXNQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSAwIC8qIENyZWF0ZSAqLykge1xuICAgICAgICAgICAgICAgIHJhd1Nsb3RWYWx1ZSAmJiBhdHRhY2hQYXRjaERhdGEodW53cmFwUk5vZGUocmF3U2xvdFZhbHVlKSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDQgLyogaXNQcm9qZWN0ZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0Tm9kZS5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pICE9PSA2NCAvKiBpc0RldGFjaGVkICovKSB7XG4gICAgICAgICAgICBpZiAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCB0Tm9kZS5jaGlsZCwgbFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgcmF3U2xvdFZhbHVlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDMyIC8qIEljdSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRSTm9kZSA9IGljdUNvbnRhaW5lckl0ZXJhdGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICBsZXQgck5vZGU7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJOb2RlID0gbmV4dFJOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgck5vZGUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByYXdTbG90VmFsdWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAgICAgICAgIGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZShyZW5kZXJlciwgYWN0aW9uLCBsVmlldywgdE5vZGUsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCA0IC8qIENvbnRhaW5lciAqLyk7XG4gICAgICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgcmF3U2xvdFZhbHVlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IGlzUHJvamVjdGlvbiA/IHROb2RlLnByb2plY3Rpb25OZXh0IDogdE5vZGUubmV4dDtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgYWN0aW9uLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSkge1xuICAgIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgdFZpZXcuZmlyc3RDaGlsZCwgbFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCBmYWxzZSk7XG59XG4vKipcbiAqIGBhcHBseVByb2plY3Rpb25gIHBlcmZvcm1zIG9wZXJhdGlvbiBvbiB0aGUgcHJvamVjdGlvbi5cbiAqXG4gKiBJbnNlcnRpbmcgYSBwcm9qZWN0aW9uIHJlcXVpcmVzIHVzIHRvIGxvY2F0ZSB0aGUgcHJvamVjdGVkIG5vZGVzIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuIFRoZVxuICogY29tcGxpY2F0aW9uIGlzIHRoYXQgdGhvc2Ugbm9kZXMgdGhlbXNlbHZlcyBjb3VsZCBiZSByZS1wcm9qZWN0ZWQgZnJvbSB0aGVpciBwYXJlbnQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3YCBvZiBgTFZpZXdgIHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkLCBkZXRhY2hlZCwgZGVzdHJveWVkXG4gKiBAcGFyYW0gbFZpZXcgVGhlIGBMVmlld2Agd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWQuXG4gKiBAcGFyYW0gdFByb2plY3Rpb25Ob2RlIG5vZGUgdG8gcHJvamVjdFxuICovXG5mdW5jdGlvbiBhcHBseVByb2plY3Rpb24odFZpZXcsIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBjb25zdCBwYXJlbnRSTm9kZSA9IGdldFBhcmVudFJFbGVtZW50KHRWaWV3LCB0UHJvamVjdGlvbk5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBwYXJlbnRUTm9kZSA9IHRQcm9qZWN0aW9uTm9kZS5wYXJlbnQgfHwgbFZpZXdbVF9IT1NUXTtcbiAgICBsZXQgYmVmb3JlTm9kZSA9IGdldEluc2VydEluRnJvbnRPZlJOb2RlKHBhcmVudFROb2RlLCB0UHJvamVjdGlvbk5vZGUsIGxWaWV3KTtcbiAgICBhcHBseVByb2plY3Rpb25SZWN1cnNpdmUocmVuZGVyZXIsIDAgLyogQ3JlYXRlICovLCBsVmlldywgdFByb2plY3Rpb25Ob2RlLCBwYXJlbnRSTm9kZSwgYmVmb3JlTm9kZSk7XG59XG4vKipcbiAqIGBhcHBseVByb2plY3Rpb25SZWN1cnNpdmVgIHBlcmZvcm1zIG9wZXJhdGlvbiBvbiB0aGUgcHJvamVjdGlvbiBzcGVjaWZpZWQgYnkgYGFjdGlvbmAgKGluc2VydCxcbiAqIGRldGFjaCwgZGVzdHJveSlcbiAqXG4gKiBJbnNlcnRpbmcgYSBwcm9qZWN0aW9uIHJlcXVpcmVzIHVzIHRvIGxvY2F0ZSB0aGUgcHJvamVjdGVkIG5vZGVzIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuIFRoZVxuICogY29tcGxpY2F0aW9uIGlzIHRoYXQgdGhvc2Ugbm9kZXMgdGhlbXNlbHZlcyBjb3VsZCBiZSByZS1wcm9qZWN0ZWQgZnJvbSB0aGVpciBwYXJlbnQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXIgdG8gdXNlXG4gKiBAcGFyYW0gYWN0aW9uIGFjdGlvbiB0byBwZXJmb3JtIChpbnNlcnQsIGRldGFjaCwgZGVzdHJveSlcbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWQuXG4gKiBAcGFyYW0gdFByb2plY3Rpb25Ob2RlIG5vZGUgdG8gcHJvamVjdFxuICogQHBhcmFtIHBhcmVudFJFbGVtZW50IHBhcmVudCBET00gZWxlbWVudCBmb3IgaW5zZXJ0aW9uL3JlbW92YWwuXG4gKiBAcGFyYW0gYmVmb3JlTm9kZSBCZWZvcmUgd2hpY2ggbm9kZSB0aGUgaW5zZXJ0aW9ucyBzaG91bGQgaGFwcGVuLlxuICovXG5mdW5jdGlvbiBhcHBseVByb2plY3Rpb25SZWN1cnNpdmUocmVuZGVyZXIsIGFjdGlvbiwgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpIHtcbiAgICBjb25zdCBjb21wb25lbnRMVmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICBjb25zdCBjb21wb25lbnROb2RlID0gY29tcG9uZW50TFZpZXdbVF9IT1NUXTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIHRQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uLCAnbnVtYmVyJywgJ2V4cGVjdGluZyBwcm9qZWN0aW9uIGluZGV4Jyk7XG4gICAgY29uc3Qgbm9kZVRvUHJvamVjdE9yUk5vZGVzID0gY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uW3RQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlVG9Qcm9qZWN0T3JSTm9kZXMpKSB7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIG5vdCBleGlzdCwgaXQgaXMgYSBiaXQgb2YgYSBoYWNrLiBXaGVuIHdlIGJvb3RzdHJhcCBhIHRvcCBsZXZlbCBub2RlIGFuZCB3ZVxuICAgICAgICAvLyBuZWVkIHRvIHN1cHBvcnQgcGFzc2luZyBwcm9qZWN0YWJsZSBub2Rlcywgc28gd2UgY2hlYXQgYW5kIHB1dCB0aGVtIGluIHRoZSBUTm9kZVxuICAgICAgICAvLyBvZiB0aGUgSG9zdCBUVmlldy4gKFllcyB3ZSBwdXQgaW5zdGFuY2UgaW5mbyBhdCB0aGUgVCBMZXZlbCkuIFdlIGNhbiBnZXQgYXdheSB3aXRoIGl0XG4gICAgICAgIC8vIGJlY2F1c2Ugd2Uga25vdyB0aGF0IHRoYXQgVFZpZXcgaXMgbm90IHNoYXJlZCBhbmQgdGhlcmVmb3JlIGl0IHdpbGwgbm90IGJlIGEgcHJvYmxlbS5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgcmVmYWN0b3JlZCBhbmQgY2xlYW5lZCB1cC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlVG9Qcm9qZWN0T3JSTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJOb2RlID0gbm9kZVRvUHJvamVjdE9yUk5vZGVzW2ldO1xuICAgICAgICAgICAgYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnRSRWxlbWVudCwgck5vZGUsIGJlZm9yZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbm9kZVRvUHJvamVjdCA9IG5vZGVUb1Byb2plY3RPclJOb2RlcztcbiAgICAgICAgY29uc3QgcHJvamVjdGVkQ29tcG9uZW50TFZpZXcgPSBjb21wb25lbnRMVmlld1tQQVJFTlRdO1xuICAgICAgICBhcHBseU5vZGVzKHJlbmRlcmVyLCBhY3Rpb24sIG5vZGVUb1Byb2plY3QsIHByb2plY3RlZENvbXBvbmVudExWaWV3LCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSwgdHJ1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBgYXBwbHlDb250YWluZXJgIHBlcmZvcm1zIGFuIG9wZXJhdGlvbiBvbiB0aGUgY29udGFpbmVyIGFuZCBpdHMgdmlld3MgYXMgc3BlY2lmaWVkIGJ5XG4gKiBgYWN0aW9uYCAoaW5zZXJ0LCBkZXRhY2gsIGRlc3Ryb3kpXG4gKlxuICogSW5zZXJ0aW5nIGEgQ29udGFpbmVyIGlzIGNvbXBsaWNhdGVkIGJ5IHRoZSBmYWN0IHRoYXQgdGhlIGNvbnRhaW5lciBtYXkgaGF2ZSBWaWV3cyB3aGljaFxuICogdGhlbXNlbHZlcyBoYXZlIGNvbnRhaW5lcnMgb3IgcHJvamVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIGFjdGlvbiBhY3Rpb24gdG8gcGVyZm9ybSAoaW5zZXJ0LCBkZXRhY2gsIGRlc3Ryb3kpXG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgTENvbnRhaW5lciB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZC5cbiAqIEBwYXJhbSBwYXJlbnRSRWxlbWVudCBwYXJlbnQgRE9NIGVsZW1lbnQgZm9yIGluc2VydGlvbi9yZW1vdmFsLlxuICogQHBhcmFtIGJlZm9yZU5vZGUgQmVmb3JlIHdoaWNoIG5vZGUgdGhlIGluc2VydGlvbnMgc2hvdWxkIGhhcHBlbi5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDb250YWluZXIocmVuZGVyZXIsIGFjdGlvbiwgbENvbnRhaW5lciwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihsQ29udGFpbmVyKTtcbiAgICBjb25zdCBhbmNob3IgPSBsQ29udGFpbmVyW05BVElWRV07IC8vIExDb250YWluZXIgaGFzIGl0cyBvd24gYmVmb3JlIG5vZGUuXG4gICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUobENvbnRhaW5lcik7XG4gICAgLy8gQW4gTENvbnRhaW5lciBjYW4gYmUgY3JlYXRlZCBkeW5hbWljYWxseSBvbiBhbnkgbm9kZSBieSBpbmplY3RpbmcgVmlld0NvbnRhaW5lclJlZi5cbiAgICAvLyBBc2tpbmcgZm9yIGEgVmlld0NvbnRhaW5lclJlZiBvbiBhbiBlbGVtZW50IHdpbGwgcmVzdWx0IGluIGEgY3JlYXRpb24gb2YgYSBzZXBhcmF0ZSBhbmNob3JcbiAgICAvLyBub2RlIChjb21tZW50IGluIHRoZSBET00pIHRoYXQgd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgTENvbnRhaW5lcidzIGhvc3Qgbm9kZS4gSW4gdGhpc1xuICAgIC8vIHBhcnRpY3VsYXIgY2FzZSB3ZSBuZWVkIHRvIGV4ZWN1dGUgYWN0aW9uIG9uIDIgbm9kZXM6XG4gICAgLy8gLSBjb250YWluZXIncyBob3N0IG5vZGUgKHRoaXMgaXMgZG9uZSBpbiB0aGUgZXhlY3V0ZUFjdGlvbk9uRWxlbWVudE9yQ29udGFpbmVyKVxuICAgIC8vIC0gY29udGFpbmVyJ3MgaG9zdCBub2RlICh0aGlzIGlzIGRvbmUgaGVyZSlcbiAgICBpZiAoYW5jaG9yICE9PSBuYXRpdmUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB2ZXJ5IHN0cmFuZ2UgdG8gbWUgKE1pc2tvKS4gSSB3b3VsZCBleHBlY3QgdGhhdCB0aGUgbmF0aXZlIGlzIHNhbWUgYXMgYW5jaG9yLiBJXG4gICAgICAgIC8vIGRvbid0IHNlZSBhIHJlYXNvbiB3aHkgdGhleSBzaG91bGQgYmUgZGlmZmVyZW50LCBidXQgdGhleSBhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZXkgYXJlIHdlIG5lZWQgdG8gcHJvY2VzcyB0aGUgc2Vjb25kIGFuY2hvciBhcyB3ZWxsLlxuICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCBhbmNob3IsIGJlZm9yZU5vZGUpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgYXBwbHlWaWV3KGxWaWV3W1RWSUVXXSwgbFZpZXcsIHJlbmRlcmVyLCBhY3Rpb24sIHBhcmVudFJFbGVtZW50LCBhbmNob3IpO1xuICAgIH1cbn1cbi8qKlxuICogV3JpdGVzIGNsYXNzL3N0eWxlIHRvIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZS5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGl0IHNob3VsZCBiZSB3cml0dGVuIHRvIGBjbGFzc2AgKGBmYWxzZWAgdG8gd3JpdGUgdG8gYHN0eWxlYClcbiAqIEBwYXJhbSByTm9kZSBUaGUgTm9kZSB0byB3cml0ZSB0by5cbiAqIEBwYXJhbSBwcm9wIFByb3BlcnR5IHRvIHdyaXRlIHRvLiBUaGlzIHdvdWxkIGJlIHRoZSBjbGFzcy9zdHlsZSBuYW1lLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHdyaXRlLiBJZiBgbnVsbGAvYHVuZGVmaW5lZGAvYGZhbHNlYCB0aGlzIGlzIGNvbnNpZGVyZWQgYSByZW1vdmUgKHNldC9hZGRcbiAqICAgICAgICBvdGhlcndpc2UpLlxuICovXG5mdW5jdGlvbiBhcHBseVN0eWxpbmcocmVuZGVyZXIsIGlzQ2xhc3NCYXNlZCwgck5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgY29uc3QgaXNQcm9jZWR1cmFsID0gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpO1xuICAgIGlmIChpc0NsYXNzQmFzZWQpIHtcbiAgICAgICAgLy8gV2UgYWN0dWFsbHkgd2FudCBKUyB0cnVlL2ZhbHNlIGhlcmUgYmVjYXVzZSBhbnkgdHJ1dGh5IHZhbHVlIHNob3VsZCBhZGQgdGhlIGNsYXNzXG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVDbGFzcysrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZUNsYXNzKHJOb2RlLCBwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJOb2RlLmNsYXNzTGlzdC5yZW1vdmUocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQWRkQ2xhc3MrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5hZGRDbGFzcyhyTm9kZSwgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChyTm9kZS5jbGFzc0xpc3QsICdIVE1MRWxlbWVudCBleHBlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHJOb2RlLmNsYXNzTGlzdC5hZGQocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBmbGFncyA9IHByb3AuaW5kZXhPZignLScpID09PSAtMSA/IHVuZGVmaW5lZCA6IFJlbmRlcmVyU3R5bGVGbGFnczIuRGFzaENhc2U7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIC8qKiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlU3R5bGUrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW1vdmVTdHlsZShyTm9kZSwgcHJvcCwgZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgck5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBIHZhbHVlIGlzIGltcG9ydGFudCBpZiBpdCBlbmRzIHdpdGggYCFpbXBvcnRhbnRgLiBUaGUgc3R5bGVcbiAgICAgICAgICAgIC8vIHBhcnNlciBzdHJpcHMgYW55IHNlbWljb2xvbnMgYXQgdGhlIGVuZCBvZiB0aGUgdmFsdWUuXG4gICAgICAgICAgICBjb25zdCBpc0ltcG9ydGFudCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZS5lbmRzV2l0aCgnIWltcG9ydGFudCcpIDogZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNJbXBvcnRhbnQpIHtcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50IGhhcyB0byBiZSBzdHJpcHBlZCBmcm9tIHRoZSB2YWx1ZSBmb3IgaXQgdG8gYmUgdmFsaWQuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCAtMTApO1xuICAgICAgICAgICAgICAgIGZsYWdzIHw9IFJlbmRlcmVyU3R5bGVGbGFnczIuSW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldFN0eWxlKys7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZWR1cmFsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0U3R5bGUock5vZGUsIHByb3AsIHZhbHVlLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChyTm9kZS5zdHlsZSwgJ0hUTUxFbGVtZW50IGV4cGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgck5vZGUuc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgdmFsdWUsIGlzSW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFdyaXRlIGBjc3NUZXh0YCB0byBgUkVsZW1lbnRgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBkaXJlY3Qgd3JpdGUgd2l0aG91dCBhbnkgcmVjb25jaWxpYXRpb24uIFVzZWQgZm9yIHdyaXRpbmcgaW5pdGlhbCB2YWx1ZXMsIHNvXG4gKiB0aGF0IHN0YXRpYyBzdHlsaW5nIHZhbHVlcyBkbyBub3QgcHVsbCBpbiB0aGUgc3R5bGUgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2VcbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHdoaWNoIG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gKiBAcGFyYW0gbmV3VmFsdWUgVGhlIG5ldyBjbGFzcyBsaXN0IHRvIHdyaXRlLlxuICovXG5mdW5jdGlvbiB3cml0ZURpcmVjdFN0eWxlKHJlbmRlcmVyLCBlbGVtZW50LCBuZXdWYWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRTdHJpbmcobmV3VmFsdWUsICdcXCduZXdWYWx1ZVxcJyBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnc3R5bGUnLCBuZXdWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldFN0eWxlKys7XG59XG4vKipcbiAqIFdyaXRlIGBjbGFzc05hbWVgIHRvIGBSRWxlbWVudGAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIGRpcmVjdCB3cml0ZSB3aXRob3V0IGFueSByZWNvbmNpbGlhdGlvbi4gVXNlZCBmb3Igd3JpdGluZyBpbml0aWFsIHZhbHVlcywgc29cbiAqIHRoYXQgc3RhdGljIHN0eWxpbmcgdmFsdWVzIGRvIG5vdCBwdWxsIGluIHRoZSBzdHlsZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hpY2ggbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSBuZXdWYWx1ZSBUaGUgbmV3IGNsYXNzIGxpc3QgdG8gd3JpdGUuXG4gKi9cbmZ1bmN0aW9uIHdyaXRlRGlyZWN0Q2xhc3MocmVuZGVyZXIsIGVsZW1lbnQsIG5ld1ZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyhuZXdWYWx1ZSwgJ1xcJ25ld1ZhbHVlXFwnIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgLy8gVGhlcmUgYXJlIHRlc3RzIGluIGBnb29nbGUzYCB3aGljaCBleHBlY3QgYGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpYCB0byBiZSBgbnVsbGAuXG4gICAgICAgICAgICByZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2NsYXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2NsYXNzJywgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0Q2xhc3NOYW1lKys7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGFuIGluZGV4IG9mIGBjbGFzc1RvU2VhcmNoYCBpbiBgY2xhc3NOYW1lYCB0YWtpbmcgdG9rZW4gYm91bmRhcmllcyBpbnRvIGFjY291bnQuXG4gKlxuICogYGNsYXNzSW5kZXhPZignQUIgQScsICdBJywgMClgIHdpbGwgYmUgMyAobm90IDAgc2luY2UgYEFCIT09QWApXG4gKlxuICogQHBhcmFtIGNsYXNzTmFtZSBBIHN0cmluZyBjb250YWluaW5nIGNsYXNzZXMgKHdoaXRlc3BhY2Ugc2VwYXJhdGVkKVxuICogQHBhcmFtIGNsYXNzVG9TZWFyY2ggQSBjbGFzcyBuYW1lIHRvIGxvY2F0ZVxuICogQHBhcmFtIHN0YXJ0aW5nSW5kZXggU3RhcnRpbmcgbG9jYXRpb24gb2Ygc2VhcmNoXG4gKiBAcmV0dXJucyBhbiBpbmRleCBvZiB0aGUgbG9jYXRlZCBjbGFzcyAob3IgLTEgaWYgbm90IGZvdW5kKVxuICovXG5mdW5jdGlvbiBjbGFzc0luZGV4T2YoY2xhc3NOYW1lLCBjbGFzc1RvU2VhcmNoLCBzdGFydGluZ0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdEVxdWFsKGNsYXNzVG9TZWFyY2gsICcnLCAnY2FuIG5vdCBsb29rIGZvciBcIlwiIHN0cmluZy4nKTtcbiAgICBsZXQgZW5kID0gY2xhc3NOYW1lLmxlbmd0aDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBmb3VuZEluZGV4ID0gY2xhc3NOYW1lLmluZGV4T2YoY2xhc3NUb1NlYXJjaCwgc3RhcnRpbmdJbmRleCk7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybiBmb3VuZEluZGV4O1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gMCB8fCBjbGFzc05hbWUuY2hhckNvZGVBdChmb3VuZEluZGV4IC0gMSkgPD0gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGl0IGhhcyBsZWFkaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNsYXNzVG9TZWFyY2gubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZvdW5kSW5kZXggKyBsZW5ndGggPT09IGVuZCB8fFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZS5jaGFyQ29kZUF0KGZvdW5kSW5kZXggKyBsZW5ndGgpIDw9IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgaXQgaGFzIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGYWxzZSBwb3NpdGl2ZSwga2VlcCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBsZWZ0IG9mZi5cbiAgICAgICAgc3RhcnRpbmdJbmRleCA9IGZvdW5kSW5kZXggKyAxO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCB1bnVzZWRWYWx1ZVRvUGxhY2F0ZUFqZCQxID0gdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNCArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDM7XG5jb25zdCBOR19URU1QTEFURV9TRUxFQ1RPUiA9ICduZy10ZW1wbGF0ZSc7XG4vKipcbiAqIFNlYXJjaCB0aGUgYFRBdHRyaWJ1dGVzYCB0byBzZWUgaWYgaXQgY29udGFpbnMgYGNzc0NsYXNzVG9NYXRjaGAgKGNhc2UgaW5zZW5zaXRpdmUpXG4gKlxuICogQHBhcmFtIGF0dHJzIGBUQXR0cmlidXRlc2AgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0gY3NzQ2xhc3NUb01hdGNoIGNsYXNzIHRvIG1hdGNoIChsb3dlcmNhc2UpXG4gKiBAcGFyYW0gaXNQcm9qZWN0aW9uTW9kZSBXaGV0aGVyIG9yIG5vdCBjbGFzcyBtYXRjaGluZyBzaG91bGQgbG9vayBpbnRvIHRoZSBhdHRyaWJ1dGUgYGNsYXNzYCBpblxuICogICAgYWRkaXRpb24gdG8gdGhlIGBBdHRyaWJ1dGVNYXJrZXIuQ2xhc3Nlc2AuXG4gKi9cbmZ1bmN0aW9uIGlzQ3NzQ2xhc3NNYXRjaGluZyhhdHRycywgY3NzQ2xhc3NUb01hdGNoLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IFRoZSBmYWN0IHRoYXQgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBrbm93IGFib3V0IGBpc1Byb2plY3Rpb25Nb2RlYCBzZWVtcyBzdXNwZWN0LlxuICAgIC8vIEl0IGlzIHN0cmFuZ2UgdG8gbWUgdGhhdCBzb21ldGltZXMgdGhlIGNsYXNzIGluZm9ybWF0aW9uIGNvbWVzIGluIGZvcm0gb2YgYGNsYXNzYCBhdHRyaWJ1dGVcbiAgICAvLyBhbmQgc29tZXRpbWVzIGluIGZvcm0gb2YgYEF0dHJpYnV0ZU1hcmtlci5DbGFzc2VzYC4gU29tZSBpbnZlc3RpZ2F0aW9uIGlzIG5lZWRlZCB0byBkZXRlcm1pbmVcbiAgICAvLyBpZiB0aGF0IGlzIHRoZSByaWdodCBiZWhhdmlvci5cbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoY3NzQ2xhc3NUb01hdGNoLCBjc3NDbGFzc1RvTWF0Y2gudG9Mb3dlckNhc2UoKSwgJ0NsYXNzIG5hbWUgZXhwZWN0ZWQgdG8gYmUgbG93ZXJjYXNlLicpO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICBsZXQgaXRlbSA9IGF0dHJzW2krK107XG4gICAgICAgIGlmIChpc1Byb2plY3Rpb25Nb2RlICYmIGl0ZW0gPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgIGl0ZW0gPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmIChjbGFzc0luZGV4T2YoaXRlbS50b0xvd2VyQ2FzZSgpLCBjc3NDbGFzc1RvTWF0Y2gsIDApICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gPT09IDEgLyogQ2xhc3NlcyAqLykge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgdGhlIGNsYXNzZXMgc2VjdGlvbi4gU3RhcnQgc2VhcmNoaW5nIGZvciB0aGUgY2xhc3MuXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCAmJiB0eXBlb2YgKGl0ZW0gPSBhdHRyc1tpKytdKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIHdoaWxlIHdlIGhhdmUgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnRvTG93ZXJDYXNlKCkgPT09IGNzc0NsYXNzVG9NYXRjaClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgYHROb2RlYCByZXByZXNlbnRzIGFuIGlubGluZSB0ZW1wbGF0ZSAoZS5nLiBgKm5nRm9yYCkuXG4gKlxuICogQHBhcmFtIHROb2RlIGN1cnJlbnQgVE5vZGVcbiAqL1xuZnVuY3Rpb24gaXNJbmxpbmVUZW1wbGF0ZSh0Tm9kZSkge1xuICAgIHJldHVybiB0Tm9kZS50eXBlID09PSA0IC8qIENvbnRhaW5lciAqLyAmJiB0Tm9kZS52YWx1ZSAhPT0gTkdfVEVNUExBVEVfU0VMRUNUT1I7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIHdoZXRoZXIgYSBnaXZlbiB0Tm9kZSBtYXRjaGVzIHRhZy1iYXNlZCBzZWxlY3RvciBhbmQgaGFzIGEgdmFsaWQgdHlwZS5cbiAqXG4gKiBNYXRjaGluZyBjYW4gYmUgcGVyZm9ybWVkIGluIDIgbW9kZXM6IHByb2plY3Rpb24gbW9kZSAod2hlbiB3ZSBwcm9qZWN0IG5vZGVzKSBhbmQgcmVndWxhclxuICogZGlyZWN0aXZlIG1hdGNoaW5nIG1vZGU6XG4gKiAtIGluIHRoZSBcImRpcmVjdGl2ZSBtYXRjaGluZ1wiIG1vZGUgd2UgZG8gX25vdF8gdGFrZSBUQ29udGFpbmVyJ3MgdGFnTmFtZSBpbnRvIGFjY291bnQgaWYgaXQgaXNcbiAqIGRpZmZlcmVudCBmcm9tIE5HX1RFTVBMQVRFX1NFTEVDVE9SICh2YWx1ZSBkaWZmZXJlbnQgZnJvbSBOR19URU1QTEFURV9TRUxFQ1RPUiBpbmRpY2F0ZXMgdGhhdCBhXG4gKiB0YWcgbmFtZSB3YXMgZXh0cmFjdGVkIGZyb20gKiBzeW50YXggc28gd2Ugd291bGQgbWF0Y2ggdGhlIHNhbWUgZGlyZWN0aXZlIHR3aWNlKTtcbiAqIC0gaW4gdGhlIFwicHJvamVjdGlvblwiIG1vZGUsIHdlIHVzZSBhIHRhZyBuYW1lIHBvdGVudGlhbGx5IGV4dHJhY3RlZCBmcm9tIHRoZSAqIHN5bnRheCBwcm9jZXNzaW5nXG4gKiAoYXBwbGljYWJsZSB0byBUTm9kZVR5cGUuQ29udGFpbmVyIG9ubHkpLlxuICovXG5mdW5jdGlvbiBoYXNUYWdBbmRUeXBlTWF0Y2godE5vZGUsIGN1cnJlbnRTZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIGNvbnN0IHRhZ05hbWVUb0NvbXBhcmUgPSB0Tm9kZS50eXBlID09PSA0IC8qIENvbnRhaW5lciAqLyAmJiAhaXNQcm9qZWN0aW9uTW9kZSA/IE5HX1RFTVBMQVRFX1NFTEVDVE9SIDogdE5vZGUudmFsdWU7XG4gICAgcmV0dXJuIGN1cnJlbnRTZWxlY3RvciA9PT0gdGFnTmFtZVRvQ29tcGFyZTtcbn1cbi8qKlxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1hdGNoIGFuIEl2eSBub2RlIHN0YXRpYyBkYXRhIGFnYWluc3QgYSBzaW1wbGUgQ1NTIHNlbGVjdG9yXG4gKlxuICogQHBhcmFtIG5vZGUgc3RhdGljIGRhdGEgb2YgdGhlIG5vZGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBzZWxlY3RvciBUaGUgc2VsZWN0b3IgdG8gdHJ5IG1hdGNoaW5nIGFnYWluc3QgdGhlIG5vZGUuXG4gKiBAcGFyYW0gaXNQcm9qZWN0aW9uTW9kZSBpZiBgdHJ1ZWAgd2UgYXJlIG1hdGNoaW5nIGZvciBjb250ZW50IHByb2plY3Rpb24sIG90aGVyd2lzZSB3ZSBhcmUgZG9pbmdcbiAqIGRpcmVjdGl2ZSBtYXRjaGluZy5cbiAqIEByZXR1cm5zIHRydWUgaWYgbm9kZSBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3IsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChzZWxlY3RvclswXSwgJ1NlbGVjdG9yIHNob3VsZCBoYXZlIGEgdGFnIG5hbWUnKTtcbiAgICBsZXQgbW9kZSA9IDQgLyogRUxFTUVOVCAqLztcbiAgICBjb25zdCBub2RlQXR0cnMgPSB0Tm9kZS5hdHRycyB8fCBbXTtcbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiBmaXJzdCBhdHRyaWJ1dGUgdGhhdCBoYXMgbm8gdmFsdWUsIG9ubHkgYSBuYW1lLlxuICAgIGNvbnN0IG5hbWVPbmx5TWFya2VySWR4ID0gZ2V0TmFtZU9ubHlNYXJrZXJJbmRleChub2RlQXR0cnMpO1xuICAgIC8vIFdoZW4gcHJvY2Vzc2luZyBcIjpub3RcIiBzZWxlY3RvcnMsIHdlIHNraXAgdG8gdGhlIG5leHQgXCI6bm90XCIgaWYgdGhlXG4gICAgLy8gY3VycmVudCBvbmUgZG9lc24ndCBtYXRjaFxuICAgIGxldCBza2lwVG9OZXh0U2VsZWN0b3IgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBzZWxlY3RvcltpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gSWYgd2UgZmluaXNoIHByb2Nlc3NpbmcgYSA6bm90IHNlbGVjdG9yIGFuZCBpdCBoYXNuJ3QgZmFpbGVkLCByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIGlmICghc2tpcFRvTmV4dFNlbGVjdG9yICYmICFpc1Bvc2l0aXZlKG1vZGUpICYmICFpc1Bvc2l0aXZlKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIHNraXBwaW5nIHRvIHRoZSBuZXh0IDpub3QoKSBhbmQgdGhpcyBtb2RlIGZsYWcgaXMgcG9zaXRpdmUsXG4gICAgICAgICAgICAvLyBpdCdzIGEgcGFydCBvZiB0aGUgY3VycmVudCA6bm90KCkgc2VsZWN0b3IsIGFuZCB3ZSBzaG91bGQga2VlcCBza2lwcGluZ1xuICAgICAgICAgICAgaWYgKHNraXBUb05leHRTZWxlY3RvciAmJiBpc1Bvc2l0aXZlKGN1cnJlbnQpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gZmFsc2U7XG4gICAgICAgICAgICBtb2RlID0gY3VycmVudCB8IChtb2RlICYgMSAvKiBOT1QgKi8pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNraXBUb05leHRTZWxlY3RvcilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAobW9kZSAmIDQgLyogRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgbW9kZSA9IDIgLyogQVRUUklCVVRFICovIHwgbW9kZSAmIDEgLyogTk9UICovO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09ICcnICYmICFoYXNUYWdBbmRUeXBlTWF0Y2godE5vZGUsIGN1cnJlbnQsIGlzUHJvamVjdGlvbk1vZGUpIHx8XG4gICAgICAgICAgICAgICAgY3VycmVudCA9PT0gJycgJiYgc2VsZWN0b3IubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JBdHRyVmFsdWUgPSBtb2RlICYgOCAvKiBDTEFTUyAqLyA/IGN1cnJlbnQgOiBzZWxlY3RvclsrK2ldO1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBtYXRjaGluZyBhZ2FpbnN0IGNsYXNzZXMgd2hlbiBhIHROb2RlIGhhcyBiZWVuIGluc3RhbnRpYXRlZCB3aXRoXG4gICAgICAgICAgICAvLyBjbGFzcyBhbmQgc3R5bGUgdmFsdWVzIGFzIHNlcGFyYXRlIGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4gWyd0aXRsZScsIENMQVNTLCAnZm9vJ10pXG4gICAgICAgICAgICBpZiAoKG1vZGUgJiA4IC8qIENMQVNTICovKSAmJiB0Tm9kZS5hdHRycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICghaXNDc3NDbGFzc01hdGNoaW5nKHROb2RlLmF0dHJzLCBzZWxlY3RvckF0dHJWYWx1ZSwgaXNQcm9qZWN0aW9uTW9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSAobW9kZSAmIDggLyogQ0xBU1MgKi8pID8gJ2NsYXNzJyA6IGN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBhdHRySW5kZXhJbk5vZGUgPSBmaW5kQXR0ckluZGV4SW5Ob2RlKGF0dHJOYW1lLCBub2RlQXR0cnMsIGlzSW5saW5lVGVtcGxhdGUodE5vZGUpLCBpc1Byb2plY3Rpb25Nb2RlKTtcbiAgICAgICAgICAgIGlmIChhdHRySW5kZXhJbk5vZGUgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yQXR0clZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGxldCBub2RlQXR0clZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChhdHRySW5kZXhJbk5vZGUgPiBuYW1lT25seU1hcmtlcklkeCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlQXR0clZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydE5vdEVxdWFsKG5vZGVBdHRyc1thdHRySW5kZXhJbk5vZGVdLCAwIC8qIE5hbWVzcGFjZVVSSSAqLywgJ1dlIGRvIG5vdCBtYXRjaCBkaXJlY3RpdmVzIG9uIG5hbWVzcGFjZWQgYXR0cmlidXRlcycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBsb3dlcmNhc2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB0byBiZSBhYmxlIHRvIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdG9ycyB3aXRob3V0IGNhc2Utc2Vuc2l0aXZpdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gKHNlbGVjdG9ycyBhcmUgYWxyZWFkeSBpbiBsb3dlcmNhc2Ugd2hlbiBnZW5lcmF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIG5vZGVBdHRyVmFsdWUgPSBub2RlQXR0cnNbYXR0ckluZGV4SW5Ob2RlICsgMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGFyZUFnYWluc3RDbGFzc05hbWUgPSBtb2RlICYgOCAvKiBDTEFTUyAqLyA/IG5vZGVBdHRyVmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlQWdhaW5zdENsYXNzTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICBjbGFzc0luZGV4T2YoY29tcGFyZUFnYWluc3RDbGFzc05hbWUsIHNlbGVjdG9yQXR0clZhbHVlLCAwKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICAgICAgICAgbW9kZSAmIDIgLyogQVRUUklCVVRFICovICYmIHNlbGVjdG9yQXR0clZhbHVlICE9PSBub2RlQXR0clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNQb3NpdGl2ZShtb2RlKSB8fCBza2lwVG9OZXh0U2VsZWN0b3I7XG59XG5mdW5jdGlvbiBpc1Bvc2l0aXZlKG1vZGUpIHtcbiAgICByZXR1cm4gKG1vZGUgJiAxIC8qIE5PVCAqLykgPT09IDA7XG59XG4vKipcbiAqIEV4YW1pbmVzIHRoZSBhdHRyaWJ1dGUncyBkZWZpbml0aW9uIGFycmF5IGZvciBhIG5vZGUgdG8gZmluZCB0aGUgaW5kZXggb2YgdGhlXG4gKiBhdHRyaWJ1dGUgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBgbmFtZWAuXG4gKlxuICogTk9URTogVGhpcyB3aWxsIG5vdCBtYXRjaCBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMuXG4gKlxuICogQXR0cmlidXRlIG1hdGNoaW5nIGRlcGVuZHMgdXBvbiBgaXNJbmxpbmVUZW1wbGF0ZWAgYW5kIGBpc1Byb2plY3Rpb25Nb2RlYC5cbiAqIFRoZSBmb2xsb3dpbmcgdGFibGUgc3VtbWFyaXplcyB3aGljaCB0eXBlcyBvZiBhdHRyaWJ1dGVzIHdlIGF0dGVtcHQgdG8gbWF0Y2g6XG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZGVzICAgICAgICAgICAgICAgICAgIHwgTm9ybWFsIEF0dHJpYnV0ZXMgfCBCaW5kaW5ncyBBdHRyaWJ1dGVzIHwgVGVtcGxhdGUgQXR0cmlidXRlcyB8IEkxOG5cbiAqIEF0dHJpYnV0ZXNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbmxpbmUgKyBQcm9qZWN0aW9uICAgICB8IFlFUyAgICAgICAgICAgICAgIHwgWUVTICAgICAgICAgICAgICAgICB8IE5PICAgICAgICAgICAgICAgICAgfCBZRVNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBJbmxpbmUgKyBEaXJlY3RpdmUgICAgICB8IE5PICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOT1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE5vbi1pbmxpbmUgKyBQcm9qZWN0aW9uIHwgWUVTICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE5vbi1pbmxpbmUgKyBEaXJlY3RpdmUgIHwgWUVTICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFU1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGZpbmRcbiAqIEBwYXJhbSBhdHRycyB0aGUgYXR0cmlidXRlIGFycmF5IHRvIGV4YW1pbmVcbiAqIEBwYXJhbSBpc0lubGluZVRlbXBsYXRlIHRydWUgaWYgdGhlIG5vZGUgYmVpbmcgbWF0Y2hlZCBpcyBhbiBpbmxpbmUgdGVtcGxhdGUgKGUuZy4gYCpuZ0ZvcmApXG4gKiByYXRoZXIgdGhhbiBhIG1hbnVhbGx5IGV4cGFuZGVkIHRlbXBsYXRlIG5vZGUgKGUuZyBgPG5nLXRlbXBsYXRlPmApLlxuICogQHBhcmFtIGlzUHJvamVjdGlvbk1vZGUgdHJ1ZSBpZiB3ZSBhcmUgbWF0Y2hpbmcgYWdhaW5zdCBjb250ZW50IHByb2plY3Rpb24gb3RoZXJ3aXNlIHdlIGFyZVxuICogbWF0Y2hpbmcgYWdhaW5zdCBkaXJlY3RpdmVzLlxuICovXG5mdW5jdGlvbiBmaW5kQXR0ckluZGV4SW5Ob2RlKG5hbWUsIGF0dHJzLCBpc0lubGluZVRlbXBsYXRlLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgaWYgKGF0dHJzID09PSBudWxsKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgbGV0IGkgPSAwO1xuICAgIGlmIChpc1Byb2plY3Rpb25Nb2RlIHx8ICFpc0lubGluZVRlbXBsYXRlKSB7XG4gICAgICAgIGxldCBiaW5kaW5nc01vZGUgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlQXR0ck5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmIChtYXliZUF0dHJOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSAzIC8qIEJpbmRpbmdzICovIHx8IG1heWJlQXR0ck5hbWUgPT09IDYgLyogSTE4biAqLykge1xuICAgICAgICAgICAgICAgIGJpbmRpbmdzTW9kZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSAxIC8qIENsYXNzZXMgKi8gfHwgbWF5YmVBdHRyTmFtZSA9PT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBza2lwIGNsYXNzZXMgaGVyZSBiZWNhdXNlIHdlIGhhdmUgYSBzZXBhcmF0ZSBtZWNoYW5pc20gZm9yXG4gICAgICAgICAgICAgICAgLy8gbWF0Y2hpbmcgY2xhc3NlcyBpbiBwcm9qZWN0aW9uIG1vZGUuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDQgLyogVGVtcGxhdGUgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3QgY2FyZSBhYm91dCBUZW1wbGF0ZSBhdHRyaWJ1dGVzIGluIHRoaXMgc2NlbmFyaW8uXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUF0dHJOYW1lID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIHdob2xlIG5hbWVzcGFjZWQgYXR0cmlidXRlIGFuZCB2YWx1ZS4gVGhpcyBpcyBieSBkZXNpZ24uXG4gICAgICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW4gYmluZGluZyBtb2RlIHRoZXJlIGFyZSBvbmx5IG5hbWVzLCByYXRoZXIgdGhhbiBuYW1lLXZhbHVlIHBhaXJzLlxuICAgICAgICAgICAgaSArPSBiaW5kaW5nc01vZGUgPyAxIDogMjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBkaWQgbm90IG1hdGNoIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoVGVtcGxhdGVBdHRyaWJ1dGUoYXR0cnMsIG5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBzZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSA9IGZhbHNlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3JbaV0sIGlzUHJvamVjdGlvbk1vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRQcm9qZWN0QXNBdHRyVmFsdWUodE5vZGUpIHtcbiAgICBjb25zdCBub2RlQXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBpZiAobm9kZUF0dHJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbmdQcm9qZWN0QXNBdHRySWR4ID0gbm9kZUF0dHJzLmluZGV4T2YoNSAvKiBQcm9qZWN0QXMgKi8pO1xuICAgICAgICAvLyBvbmx5IGNoZWNrIGZvciBuZ1Byb2plY3RBcyBpbiBhdHRyaWJ1dGUgbmFtZXMsIGRvbid0IGFjY2lkZW50YWxseSBtYXRjaCBhdHRyaWJ1dGUncyB2YWx1ZVxuICAgICAgICAvLyAoYXR0cmlidXRlIG5hbWVzIGFyZSBzdG9yZWQgYXQgZXZlbiBpbmRleGVzKVxuICAgICAgICBpZiAoKG5nUHJvamVjdEFzQXR0cklkeCAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZUF0dHJzW25nUHJvamVjdEFzQXR0cklkeCArIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TmFtZU9ubHlNYXJrZXJJbmRleChub2RlQXR0cnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlQXR0ciA9IG5vZGVBdHRyc1tpXTtcbiAgICAgICAgaWYgKGlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIobm9kZUF0dHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZUF0dHJzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIG1hdGNoVGVtcGxhdGVBdHRyaWJ1dGUoYXR0cnMsIG5hbWUpIHtcbiAgICBsZXQgaSA9IGF0dHJzLmluZGV4T2YoNCAvKiBUZW1wbGF0ZSAqLyk7XG4gICAgaWYgKGkgPiAtMSkge1xuICAgICAgICBpKys7XG4gICAgICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgICAgICAvLyBSZXR1cm4gaW4gY2FzZSB3ZSBjaGVja2VkIGFsbCB0ZW1wbGF0ZSBhdHRycyBhbmQgYXJlIHN3aXRjaGluZyB0byB0aGUgbmV4dCBzZWN0aW9uIGluIHRoZVxuICAgICAgICAgICAgLy8gYXR0cnMgYXJyYXkgKHRoYXQgc3RhcnRzIHdpdGggYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIGFuIGF0dHJpYnV0ZSBtYXJrZXIpLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYXR0ciA9PT0gbmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgc2VsZWN0b3IgaXMgaW5zaWRlIGEgQ3NzU2VsZWN0b3JMaXN0XG4gKiBAcGFyYW0gc2VsZWN0b3IgU2VsZWN0b3IgdG8gYmUgY2hlY2tlZC5cbiAqIEBwYXJhbSBsaXN0IExpc3QgaW4gd2hpY2ggdG8gbG9vayBmb3IgdGhlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBpc1NlbGVjdG9ySW5TZWxlY3Rvckxpc3Qoc2VsZWN0b3IsIGxpc3QpIHtcbiAgICBzZWxlY3Rvckxpc3RMb29wOiBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdG9ySW5MaXN0ID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKHNlbGVjdG9yLmxlbmd0aCAhPT0gY3VycmVudFNlbGVjdG9ySW5MaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzZWxlY3Rvci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yW2pdICE9PSBjdXJyZW50U2VsZWN0b3JJbkxpc3Rbal0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZSBzZWxlY3Rvckxpc3RMb29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBtYXliZVdyYXBJbk5vdFNlbGVjdG9yKGlzTmVnYXRpdmVNb2RlLCBjaHVuaykge1xuICAgIHJldHVybiBpc05lZ2F0aXZlTW9kZSA/ICc6bm90KCcgKyBjaHVuay50cmltKCkgKyAnKScgOiBjaHVuaztcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUNTU1NlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgbGV0IHJlc3VsdCA9IHNlbGVjdG9yWzBdO1xuICAgIGxldCBpID0gMTtcbiAgICBsZXQgbW9kZSA9IDIgLyogQVRUUklCVVRFICovO1xuICAgIGxldCBjdXJyZW50Q2h1bmsgPSAnJztcbiAgICBsZXQgaXNOZWdhdGl2ZU1vZGUgPSBmYWxzZTtcbiAgICB3aGlsZSAoaSA8IHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgICBsZXQgdmFsdWVPck1hcmtlciA9IHNlbGVjdG9yW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlT3JNYXJrZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAobW9kZSAmIDIgLyogQVRUUklCVVRFICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gc2VsZWN0b3JbKytpXTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz1cbiAgICAgICAgICAgICAgICAgICAgJ1snICsgdmFsdWVPck1hcmtlciArIChhdHRyVmFsdWUubGVuZ3RoID4gMCA/ICc9XCInICsgYXR0clZhbHVlICsgJ1wiJyA6ICcnKSArICddJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgJiA4IC8qIENMQVNTICovKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rICs9ICcuJyArIHZhbHVlT3JNYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlICYgNCAvKiBFTEVNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rICs9ICcgJyArIHZhbHVlT3JNYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQXBwZW5kIGN1cnJlbnQgY2h1bmsgdG8gdGhlIGZpbmFsIHJlc3VsdCBpbiBjYXNlIHdlIGNvbWUgYWNyb3NzIFNlbGVjdG9yRmxhZywgd2hpY2hcbiAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGF0IHRoZSBwcmV2aW91cyBzZWN0aW9uIG9mIGEgc2VsZWN0b3IgaXMgb3Zlci4gV2UgbmVlZCB0byBhY2N1bXVsYXRlIGNvbnRlbnRcbiAgICAgICAgICAgIC8vIGJldHdlZW4gZmxhZ3MgdG8gbWFrZSBzdXJlIHdlIHdyYXAgdGhlIGNodW5rIGxhdGVyIGluIDpub3QoKSBzZWxlY3RvciBpZiBuZWVkZWQsIGUuZy5cbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgLy8gIFsnJywgRmxhZ3MuQ0xBU1MsICcuY2xhc3NBJywgRmxhZ3MuQ0xBU1MgfCBGbGFncy5OT1QsICcuY2xhc3NCJywgJy5jbGFzc0MnXVxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgdHJhbnNmb3JtZWQgdG8gYC5jbGFzc0EgOm5vdCguY2xhc3NCIC5jbGFzc0MpYC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBOb3RlOiBmb3IgbmVnYXRpdmUgc2VsZWN0b3IgcGFydCwgd2UgYWNjdW11bGF0ZSBjb250ZW50IGJldHdlZW4gZmxhZ3MgdW50aWwgd2UgZmluZCB0aGVcbiAgICAgICAgICAgIC8vIG5leHQgbmVnYXRpdmUgZmxhZy4gVGhpcyBpcyBuZWVkZWQgdG8gc3VwcG9ydCBhIGNhc2Ugd2hlcmUgYDpub3QoKWAgcnVsZSBjb250YWlucyBtb3JlIHRoYW5cbiAgICAgICAgICAgIC8vIG9uZSBjaHVuaywgZS5nLiB0aGUgZm9sbG93aW5nIHNlbGVjdG9yOlxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyAgWycnLCBGbGFncy5FTEVNRU5UIHwgRmxhZ3MuTk9ULCAncCcsIEZsYWdzLkNMQVNTLCAnZm9vJywgRmxhZ3MuQ0xBU1MgfCBGbGFncy5OT1QsICdiYXInXVxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgc3RyaW5naWZpZWQgdG8gYDpub3QocC5mb28pIDpub3QoLmJhcilgXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaHVuayAhPT0gJycgJiYgIWlzUG9zaXRpdmUodmFsdWVPck1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbWF5YmVXcmFwSW5Ob3RTZWxlY3Rvcihpc05lZ2F0aXZlTW9kZSwgY3VycmVudENodW5rKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZGUgPSB2YWx1ZU9yTWFya2VyO1xuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIENzc1NlbGVjdG9yIHNwZWMsIG9uY2Ugd2UgY29tZSBhY3Jvc3MgYFNlbGVjdG9yRmxhZ3MuTk9UYCBmbGFnLCB0aGUgbmVnYXRpdmVcbiAgICAgICAgICAgIC8vIG1vZGUgaXMgbWFpbnRhaW5lZCBmb3IgcmVtYWluaW5nIGNodW5rcyBvZiBhIHNlbGVjdG9yLlxuICAgICAgICAgICAgaXNOZWdhdGl2ZU1vZGUgPSBpc05lZ2F0aXZlTW9kZSB8fCAhaXNQb3NpdGl2ZShtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChjdXJyZW50Q2h1bmsgIT09ICcnKSB7XG4gICAgICAgIHJlc3VsdCArPSBtYXliZVdyYXBJbk5vdFNlbGVjdG9yKGlzTmVnYXRpdmVNb2RlLCBjdXJyZW50Q2h1bmspO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIENTUyBzZWxlY3RvciBpbiBwYXJzZWQgZm9ybS5cbiAqXG4gKiBDb21wb25lbnREZWYgYW5kIERpcmVjdGl2ZURlZiBhcmUgZ2VuZXJhdGVkIHdpdGggdGhlIHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtIHRvIGF2b2lkIGRvaW5nXG4gKiBhZGRpdGlvbmFsIHBhcnNpbmcgYXQgcnVudGltZSAoZm9yIGV4YW1wbGUsIGZvciBkaXJlY3RpdmUgbWF0Y2hpbmcpLiBIb3dldmVyIGluIHNvbWUgY2FzZXMgKGZvclxuICogZXhhbXBsZSwgd2hpbGUgYm9vdHN0cmFwcGluZyBhIGNvbXBvbmVudCksIGEgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHNlbGVjdG9yIGlzIHJlcXVpcmVkIHRvIHF1ZXJ5XG4gKiBmb3IgdGhlIGhvc3QgZWxlbWVudCBvbiB0aGUgcGFnZS4gVGhpcyBmdW5jdGlvbiB0YWtlcyB0aGUgcGFyc2VkIGZvcm0gb2YgYSBzZWxlY3RvciBhbmQgcmV0dXJuc1xuICogaXRzIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3JMaXN0IHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtXG4gKiBAcmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBnaXZlbiBzZWxlY3RvclxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlDU1NTZWxlY3Rvckxpc3Qoc2VsZWN0b3JMaXN0KSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yTGlzdC5tYXAoc3RyaW5naWZ5Q1NTU2VsZWN0b3IpLmpvaW4oJywnKTtcbn1cbi8qKlxuICogRXh0cmFjdHMgYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBpbmZvcm1hdGlvbiBmcm9tIGEgZ2l2ZW4gQ1NTIHNlbGVjdG9yLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB3aGlsZSBjcmVhdGluZyBhIGNvbXBvbmVudCBkeW5hbWljYWxseS4gSW4gdGhpcyBjYXNlLCB0aGUgaG9zdCBlbGVtZW50XG4gKiAodGhhdCBpcyBjcmVhdGVkIGR5bmFtaWNhbGx5KSBzaG91bGQgY29udGFpbiBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIHNwZWNpZmllZCBpbiBjb21wb25lbnQncyBDU1NcbiAqIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBDU1Mgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm0gKGluIGEgZm9ybSBvZiBhcnJheSlcbiAqIEByZXR1cm5zIG9iamVjdCB3aXRoIGBhdHRyc2AgYW5kIGBjbGFzc2VzYCBmaWVsZHMgdGhhdCBjb250YWluIGV4dHJhY3RlZCBpbmZvcm1hdGlvblxuICovXG5mdW5jdGlvbiBleHRyYWN0QXR0cnNBbmRDbGFzc2VzRnJvbVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgYXR0cnMgPSBbXTtcbiAgICBjb25zdCBjbGFzc2VzID0gW107XG4gICAgbGV0IGkgPSAxO1xuICAgIGxldCBtb2RlID0gMiAvKiBBVFRSSUJVVEUgKi87XG4gICAgd2hpbGUgKGkgPCBzZWxlY3Rvci5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHZhbHVlT3JNYXJrZXIgPSBzZWxlY3RvcltpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZU9yTWFya2VyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IDIgLyogQVRUUklCVVRFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlT3JNYXJrZXIgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJzLnB1c2godmFsdWVPck1hcmtlciwgc2VsZWN0b3JbKytpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gOCAvKiBDTEFTUyAqLykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCh2YWx1ZU9yTWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byBDc3NTZWxlY3RvciBzcGVjLCBvbmNlIHdlIGNvbWUgYWNyb3NzIGBTZWxlY3RvckZsYWdzLk5PVGAgZmxhZywgdGhlIG5lZ2F0aXZlXG4gICAgICAgICAgICAvLyBtb2RlIGlzIG1haW50YWluZWQgZm9yIHJlbWFpbmluZyBjaHVua3Mgb2YgYSBzZWxlY3Rvci4gU2luY2UgYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBhcmVcbiAgICAgICAgICAgIC8vIGV4dHJhY3RlZCBvbmx5IGZvciBcInBvc2l0aXZlXCIgcGFydCBvZiB0aGUgc2VsZWN0b3IsIHdlIGNhbiBzdG9wIGhlcmUuXG4gICAgICAgICAgICBpZiAoIWlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBtb2RlID0gdmFsdWVPck1hcmtlcjtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB7IGF0dHJzLCBjbGFzc2VzIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIEEgc3BlY2lhbCB2YWx1ZSB3aGljaCBkZXNpZ25hdGVzIHRoYXQgYSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQuICovXG5jb25zdCBOT19DSEFOR0UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/IHsgX19icmFuZF9fOiAnTk9fQ0hBTkdFJyB9IDoge307XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZHZhbmNlcyB0byBhbiBlbGVtZW50IGZvciBsYXRlciBiaW5kaW5nIGluc3RydWN0aW9ucy5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggaW5zdHJ1Y3Rpb25zIGxpa2Uge0BsaW5rIHByb3BlcnR5fSB0byBhY3Qgb24gZWxlbWVudHMgd2l0aCBzcGVjaWZpZWRcbiAqIGluZGljZXMsIGZvciBleGFtcGxlIHRob3NlIGNyZWF0ZWQgd2l0aCB7QGxpbmsgZWxlbWVudH0gb3Ige0BsaW5rIGVsZW1lbnRTdGFydH0uXG4gKlxuICogYGBgdHNcbiAqIChyZjogUmVuZGVyRmxhZ3MsIGN0eDogYW55KSA9PiB7XG4gKiAgIGlmIChyZiAmIDEpIHtcbiAqICAgICB0ZXh0KDAsICdIZWxsbycpO1xuICogICAgIHRleHQoMSwgJ0dvb2RieWUnKVxuICogICAgIGVsZW1lbnQoMiwgJ2RpdicpO1xuICogICB9XG4gKiAgIGlmIChyZiAmIDIpIHtcbiAqICAgICBhZHZhbmNlKDIpOyAvLyBBZHZhbmNlIHR3aWNlIHRvIHRoZSA8ZGl2Pi5cbiAqICAgICBwcm9wZXJ0eSgndGl0bGUnLCAndGVzdCcpO1xuICogICB9XG4gKiAgfVxuICogYGBgXG4gKiBAcGFyYW0gZGVsdGEgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIGFkdmFuY2UgZm9yd2FyZHMgYnkuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWFkdmFuY2UoZGVsdGEpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW4oZGVsdGEsIDAsICdDYW4gb25seSBhZHZhbmNlIGZvcndhcmQnKTtcbiAgICBzZWxlY3RJbmRleEludGVybmFsKGdldFRWaWV3KCksIGdldExWaWV3KCksIGdldFNlbGVjdGVkSW5kZXgoKSArIGRlbHRhLCBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkpO1xufVxuZnVuY3Rpb24gc2VsZWN0SW5kZXhJbnRlcm5hbCh0VmlldywgbFZpZXcsIGluZGV4LCBjaGVja05vQ2hhbmdlc01vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZShsVmlldywgaW5kZXgpO1xuICAgIC8vIEZsdXNoIHRoZSBpbml0aWFsIGhvb2tzIGZvciBlbGVtZW50cyBpbiB0aGUgdmlldyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB1cCB0byB0aGlzIHBvaW50LlxuICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgaWYgKCFjaGVja05vQ2hhbmdlc01vZGUpIHtcbiAgICAgICAgY29uc3QgaG9va3NJbml0UGhhc2VDb21wbGV0ZWQgPSAobFZpZXdbRkxBR1NdICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLztcbiAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVPcmRlckNoZWNrSG9va3MgPSB0Vmlldy5wcmVPcmRlckNoZWNrSG9va3M7XG4gICAgICAgICAgICBpZiAocHJlT3JkZXJDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIHByZU9yZGVyQ2hlY2tIb29rcywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlT3JkZXJIb29rcyA9IHRWaWV3LnByZU9yZGVySG9va3M7XG4gICAgICAgICAgICBpZiAocHJlT3JkZXJIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJIb29rcywgMCAvKiBPbkluaXRIb29rc1RvQmVSdW4gKi8sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBtdXN0IHNldCB0aGUgc2VsZWN0ZWQgaW5kZXggKmFmdGVyKiBydW5uaW5nIHRoZSBob29rcywgYmVjYXVzZSBob29rcyBtYXkgaGF2ZSBzaWRlLWVmZmVjdHNcbiAgICAvLyB0aGF0IGNhdXNlIG90aGVyIHRlbXBsYXRlIGZ1bmN0aW9ucyB0byBydW4sIHRodXMgdXBkYXRpbmcgdGhlIHNlbGVjdGVkIGluZGV4LCB3aGljaCBpcyBnbG9iYWxcbiAgICAvLyBzdGF0ZS4gSWYgd2UgcnVuIGBzZXRTZWxlY3RlZEluZGV4YCAqYmVmb3JlKiB3ZSBydW4gdGhlIGhvb2tzLCBpbiBzb21lIGNhc2VzIHRoZSBzZWxlY3RlZCBpbmRleFxuICAgIC8vIHdpbGwgYmUgYWx0ZXJlZCBieSB0aGUgdGltZSB3ZSBsZWF2ZSB0aGUgYMm1ybVhZHZhbmNlYCBpbnN0cnVjdGlvbi5cbiAgICBzZXRTZWxlY3RlZEluZGV4KGluZGV4KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRISVMgRklMRSBDT05UQUlOUyBDT0RFIFdISUNIIFNIT1VMRCBCRSBUUkVFIFNIQUtFTiBBTkQgTkVWRVIgQ0FMTEVEIEZST00gUFJPRFVDVElPTiBDT0RFISEhXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhbiBgQXJyYXlgIGNvbnN0cnVjdGlvbiB3aXRoIGEgZ2l2ZW4gbmFtZS4gVGhpcyBpcyB1c2VmdWwgd2hlblxuICogbG9va2luZyBmb3IgbWVtb3J5IGNvbnN1bXB0aW9uIHRvIHNlZSB3aGF0IHRpbWUgb2YgYXJyYXkgaXQgaXMuXG4gKlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gZ2l2ZSB0byB0aGUgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIEEgc3ViY2xhc3Mgb2YgYEFycmF5YCBpZiBwb3NzaWJsZS4gVGhpcyBjYW4gb25seSBiZSBkb25lIGluXG4gKiAgICAgICAgICBlbnZpcm9ubWVudHMgd2hpY2ggc3VwcG9ydCBgY2xhc3NgIGNvbnN0cnVjdC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTmFtZWRBcnJheVR5cGUobmFtZSkge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpbiBwcm9kIG1vZGUsIHNvIGxldCdzIHZlcmlmeSB0aGF0IGlzIHRoZSBjYXNlLlxuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgZnVuY3Rpb24gd2VyZSBjb21wcm9taXNlZCB0aGUgZm9sbG93aW5nIGNvdWxkIGxlYWQgdG8gYXJiaXRyYXJ5XG4gICAgICAgICAgICAvLyBzY3JpcHQgZXhlY3V0aW9uLiBXZSBibGVzcyBpdCB3aXRoIFRydXN0ZWQgVHlwZXMgYW55d2F5IHNpbmNlIHRoaXNcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGlzIHN0cmlwcGVkIG91dCBvZiBwcm9kdWN0aW9uIGJpbmFyaWVzLlxuICAgICAgICAgICAgcmV0dXJuIChuZXdUcnVzdGVkRnVuY3Rpb25Gb3JEZXYoJ0FycmF5JywgYHJldHVybiBjbGFzcyAke25hbWV9IGV4dGVuZHMgQXJyYXl7fWApKShBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIElmIGl0IGRvZXMgbm90IHdvcmsganVzdCBnaXZlIHVwIGFuZCBmYWxsIGJhY2sgdG8gcmVndWxhciBBcnJheS5cbiAgICAgICAgICAgIHJldHVybiBBcnJheTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb29rcyBsaWtlIHdlIGFyZSBpbiBcXCdwcm9kIG1vZGVcXCcsIGJ1dCB3ZSBhcmUgY3JlYXRpbmcgYSBuYW1lZCBBcnJheSB0eXBlLCB3aGljaCBpcyB3cm9uZyEgQ2hlY2sgeW91ciBjb2RlJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHRvVFN0eWxpbmdSYW5nZShwcmV2LCBuZXh0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UocHJldiwgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UobmV4dCwgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgcmV0dXJuIChwcmV2IDw8IDE3IC8qIFBSRVZfU0hJRlQgKi8gfCBuZXh0IDw8IDIgLyogTkVYVF9TSElGVCAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlID4+IDE3IC8qIFBSRVZfU0hJRlQgKi8pICYgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLztcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgJiAyIC8qIFBSRVZfRFVQTElDQVRFICovKSA9PVxuICAgICAgICAyIC8qIFBSRVZfRFVQTElDQVRFICovO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdSYW5nZSwgcHJldmlvdXMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShwcmV2aW91cywgMCwgMzI3NjcgLyogVU5TSUdORURfTUFTSyAqLyk7XG4gICAgcmV0dXJuICgodFN0eWxpbmdSYW5nZSAmIH40Mjk0ODM2MjI0IC8qIFBSRVZfTUFTSyAqLykgfFxuICAgICAgICAocHJldmlvdXMgPDwgMTcgLyogUFJFVl9TSElGVCAqLykpO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSB8IDIgLyogUFJFVl9EVVBMSUNBVEUgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSAmIDEzMTA2OCAvKiBORVhUX01BU0sgKi8pID4+IDIgLyogTkVYVF9TSElGVCAqLztcbn1cbmZ1bmN0aW9uIHNldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nUmFuZ2UsIG5leHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShuZXh0LCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICByZXR1cm4gKCh0U3R5bGluZ1JhbmdlICYgfjEzMTA2OCAvKiBORVhUX01BU0sgKi8pIHwgLy9cbiAgICAgICAgbmV4dCA8PCAyIC8qIE5FWFRfU0hJRlQgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSAmIDEgLyogTkVYVF9EVVBMSUNBVEUgKi8pID09PVxuICAgICAgICAxIC8qIE5FWFRfRFVQTElDQVRFICovO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSB8IDEgLyogTkVYVF9EVVBMSUNBVEUgKi8pO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZVRhaWwodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIGNvbnN0IG5leHQgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGluZ1JhbmdlKTtcbiAgICByZXR1cm4gbmV4dCA9PT0gMCA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsaW5nUmFuZ2UpIDogbmV4dDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFBhdGNoIGEgYGRlYnVnYCBwcm9wZXJ0eSBvbiB0b3Agb2YgdGhlIGV4aXN0aW5nIG9iamVjdC5cbiAqXG4gKiBOT1RFOiBhbHdheXMgY2FsbCB0aGlzIG1ldGhvZCB3aXRoIGBuZ0Rldk1vZGUgJiYgYXR0YWNoRGVidWdPYmplY3QoLi4uKWBcbiAqXG4gKiBAcGFyYW0gb2JqIE9iamVjdCB0byBwYXRjaFxuICogQHBhcmFtIGRlYnVnIFZhbHVlIHRvIHBhdGNoXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaERlYnVnT2JqZWN0KG9iaiwgZGVidWcpIHtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdkZWJ1ZycsIHsgdmFsdWU6IGRlYnVnLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGd1YXJkZWQgd2l0aCBgbmdEZXZNb2RlYCBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBpbiBwcm9kdWN0aW9uIScpO1xuICAgIH1cbn1cbi8qKlxuICogUGF0Y2ggYSBgZGVidWdgIHByb3BlcnR5IGdldHRlciBvbiB0b3Agb2YgdGhlIGV4aXN0aW5nIG9iamVjdC5cbiAqXG4gKiBOT1RFOiBhbHdheXMgY2FsbCB0aGlzIG1ldGhvZCB3aXRoIGBuZ0Rldk1vZGUgJiYgYXR0YWNoRGVidWdPYmplY3QoLi4uKWBcbiAqXG4gKiBAcGFyYW0gb2JqIE9iamVjdCB0byBwYXRjaFxuICogQHBhcmFtIGRlYnVnR2V0dGVyIEdldHRlciByZXR1cm5pbmcgYSB2YWx1ZSB0byBwYXRjaFxuICovXG5mdW5jdGlvbiBhdHRhY2hEZWJ1Z0dldHRlcihvYmosIGRlYnVnR2V0dGVyKSB7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnZGVidWcnLCB7IGdldDogZGVidWdHZXR0ZXIsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBzaG91bGQgYmUgZ3VhcmRlZCB3aXRoIGBuZ0Rldk1vZGVgIHNvIHRoYXQgaXQgY2FuIGJlIHRyZWUgc2hha2VuIGluIHByb2R1Y3Rpb24hJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgY29uZGl0aW9uYWxseSBhdHRhY2hlZCBjbGFzc2VzIHdoaWNoIHByb3ZpZGUgaHVtYW4gcmVhZGFibGUgKGRlYnVnKSBsZXZlbFxuICogaW5mb3JtYXRpb24gZm9yIGBMVmlld2AsIGBMQ29udGFpbmVyYCBhbmQgb3RoZXIgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzLiBUaGVzZSBkYXRhIHN0cnVjdHVyZXNcbiAqIGFyZSBzdG9yZWQgaW50ZXJuYWxseSBhcyBhcnJheSB3aGljaCBtYWtlcyBpdCB2ZXJ5IGRpZmZpY3VsdCBkdXJpbmcgZGVidWdnaW5nIHRvIHJlYXNvbiBhYm91dCB0aGVcbiAqIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHN5c3RlbS5cbiAqXG4gKiBQYXRjaGluZyB0aGUgYXJyYXkgd2l0aCBleHRyYSBwcm9wZXJ0eSBkb2VzIGNoYW5nZSB0aGUgYXJyYXkncyBoaWRkZW4gY2xhc3MnIGJ1dCBpdCBkb2VzIG5vdFxuICogY2hhbmdlIHRoZSBjb3N0IG9mIGFjY2VzcywgdGhlcmVmb3JlIHRoaXMgcGF0Y2hpbmcgc2hvdWxkIG5vdCBoYXZlIHNpZ25pZmljYW50IGlmIGFueSBpbXBhY3QgaW5cbiAqIGBuZ0Rldk1vZGVgIG1vZGUuIChzZWU6IGh0dHBzOi8vanNwZXJmLmNvbS9hcnJheS12cy1tb25rZXktcGF0Y2gtYXJyYXkpXG4gKlxuICogU28gaW5zdGVhZCBvZiBzZWVpbmc6XG4gKiBgYGBcbiAqIEFycmF5KDMwKSBbT2JqZWN0LCA2NTksIG51bGwsIOKApl1cbiAqIGBgYFxuICpcbiAqIFlvdSBnZXQgdG8gc2VlOlxuICogYGBgXG4gKiBMVmlld0RlYnVnIHtcbiAqICAgdmlld3M6IFsuLi5dLFxuICogICBmbGFnczoge2F0dGFjaGVkOiB0cnVlLCAuLi59XG4gKiAgIG5vZGVzOiBbXG4gKiAgICAge2h0bWw6ICc8ZGl2IGlkPVwiMTIzXCI+JywgLi4uLCBub2RlczogW1xuICogICAgICAge2h0bWw6ICc8c3Bhbj4nLCAuLi4sIG5vZGVzOiBudWxsfVxuICogICAgIF19XG4gKiAgIF1cbiAqIH1cbiAqIGBgYFxuICovXG5sZXQgTFZJRVdfQ09NUE9ORU5UX0NBQ0hFO1xubGV0IExWSUVXX0VNQkVEREVEX0NBQ0hFO1xubGV0IExWSUVXX1JPT1Q7XG5sZXQgTFZJRVdfQ09NUE9ORU5UO1xubGV0IExWSUVXX0VNQkVEREVEO1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNsb25lcyBhIGJsdWVwcmludCBhbmQgY3JlYXRlcyBMVmlldy5cbiAqXG4gKiBTaW1wbGUgc2xpY2Ugd2lsbCBrZWVwIHRoZSBzYW1lIHR5cGUsIGFuZCB3ZSBuZWVkIGl0IHRvIGJlIExWaWV3XG4gKi9cbmZ1bmN0aW9uIGNsb25lVG9MVmlld0Zyb21UVmlld0JsdWVwcmludCh0Vmlldykge1xuICAgIGNvbnN0IGRlYnVnVFZpZXcgPSB0VmlldztcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3VG9DbG9uZShkZWJ1Z1RWaWV3LnR5cGUsIHRWaWV3LnRlbXBsYXRlICYmIHRWaWV3LnRlbXBsYXRlLm5hbWUpO1xuICAgIHJldHVybiBsVmlldy5jb25jYXQodFZpZXcuYmx1ZXByaW50KTtcbn1cbmNsYXNzIExSb290VmlldyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIExDb21wb25lbnRWaWV3IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTEVtYmVkZGVkVmlldyBleHRlbmRzIEFycmF5IHtcbn1cbmZ1bmN0aW9uIGdldExWaWV3VG9DbG9uZSh0eXBlLCBuYW1lKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgMCAvKiBSb290ICovOlxuICAgICAgICAgICAgaWYgKExWSUVXX1JPT1QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBMVklFV19ST09UID0gbmV3IExSb290VmlldygpO1xuICAgICAgICAgICAgcmV0dXJuIExWSUVXX1JPT1Q7XG4gICAgICAgIGNhc2UgMSAvKiBDb21wb25lbnQgKi86XG4gICAgICAgICAgICBpZiAoIW5nRGV2TW9kZSB8fCAhbmdEZXZNb2RlLm5hbWVkQ29uc3RydWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKExWSUVXX0NPTVBPTkVOVCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBMVklFV19DT01QT05FTlQgPSBuZXcgTENvbXBvbmVudFZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTFZJRVdfQ09NUE9ORU5UO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKExWSUVXX0NPTVBPTkVOVF9DQUNIRSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIExWSUVXX0NPTVBPTkVOVF9DQUNIRSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnRBcnJheSA9IExWSUVXX0NPTVBPTkVOVF9DQUNIRS5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50QXJyYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudEFycmF5ID0gbmV3IChjcmVhdGVOYW1lZEFycmF5VHlwZSgnTENvbXBvbmVudFZpZXcnICsgbmFtZVN1ZmZpeChuYW1lKSkpKCk7XG4gICAgICAgICAgICAgICAgTFZJRVdfQ09NUE9ORU5UX0NBQ0hFLnNldChuYW1lLCBjb21wb25lbnRBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50QXJyYXk7XG4gICAgICAgIGNhc2UgMiAvKiBFbWJlZGRlZCAqLzpcbiAgICAgICAgICAgIGlmICghbmdEZXZNb2RlIHx8ICFuZ0Rldk1vZGUubmFtZWRDb25zdHJ1Y3RvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoTFZJRVdfRU1CRURERUQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgTFZJRVdfRU1CRURERUQgPSBuZXcgTEVtYmVkZGVkVmlldygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMVklFV19FTUJFRERFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChMVklFV19FTUJFRERFRF9DQUNIRSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIExWSUVXX0VNQkVEREVEX0NBQ0hFID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgbGV0IGVtYmVkZGVkQXJyYXkgPSBMVklFV19FTUJFRERFRF9DQUNIRS5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoZW1iZWRkZWRBcnJheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZW1iZWRkZWRBcnJheSA9IG5ldyAoY3JlYXRlTmFtZWRBcnJheVR5cGUoJ0xFbWJlZGRlZFZpZXcnICsgbmFtZVN1ZmZpeChuYW1lKSkpKCk7XG4gICAgICAgICAgICAgICAgTFZJRVdfRU1CRURERURfQ0FDSEUuc2V0KG5hbWUsIGVtYmVkZGVkQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVtYmVkZGVkQXJyYXk7XG4gICAgfVxufVxuZnVuY3Rpb24gbmFtZVN1ZmZpeCh0ZXh0KSB7XG4gICAgaWYgKHRleHQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIGNvbnN0IGluZGV4ID0gdGV4dC5sYXN0SW5kZXhPZignX1RlbXBsYXRlJyk7XG4gICAgcmV0dXJuICdfJyArIChpbmRleCA9PT0gLTEgPyB0ZXh0IDogdGV4dC5zdWJzdHIoMCwgaW5kZXgpKTtcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIGRlYnVnIHZlcnNpb24gb2YgT2JqZWN0IGxpdGVyYWwgc28gdGhhdCB3ZSBjYW4gaGF2ZSBjb25zdHJ1Y3RvciBuYW1lIHNob3cgdXBcbiAqIGluXG4gKiBkZWJ1ZyB0b29scyBpbiBuZ0Rldk1vZGUuXG4gKi9cbmNvbnN0IFRWaWV3Q29uc3RydWN0b3IgPSBjbGFzcyBUVmlldyB7XG4gICAgY29uc3RydWN0b3IodHlwZSwgYmx1ZXByaW50LCB0ZW1wbGF0ZSwgcXVlcmllcywgdmlld1F1ZXJ5LCBkZWNsVE5vZGUsIGRhdGEsIGJpbmRpbmdTdGFydEluZGV4LCBleHBhbmRvU3RhcnRJbmRleCwgaG9zdEJpbmRpbmdPcENvZGVzLCBmaXJzdENyZWF0ZVBhc3MsIGZpcnN0VXBkYXRlUGFzcywgc3RhdGljVmlld1F1ZXJpZXMsIHN0YXRpY0NvbnRlbnRRdWVyaWVzLCBwcmVPcmRlckhvb2tzLCBwcmVPcmRlckNoZWNrSG9va3MsIGNvbnRlbnRIb29rcywgY29udGVudENoZWNrSG9va3MsIHZpZXdIb29rcywgdmlld0NoZWNrSG9va3MsIGRlc3Ryb3lIb29rcywgY2xlYW51cCwgY29udGVudFF1ZXJpZXMsIGNvbXBvbmVudHMsIGRpcmVjdGl2ZVJlZ2lzdHJ5LCBwaXBlUmVnaXN0cnksIGZpcnN0Q2hpbGQsIHNjaGVtYXMsIGNvbnN0cywgaW5jb21wbGV0ZUZpcnN0UGFzcywgX2RlY2xzLCBfdmFycykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmJsdWVwcmludCA9IGJsdWVwcmludDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgICAgICB0aGlzLnZpZXdRdWVyeSA9IHZpZXdRdWVyeTtcbiAgICAgICAgdGhpcy5kZWNsVE5vZGUgPSBkZWNsVE5vZGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuYmluZGluZ1N0YXJ0SW5kZXggPSBiaW5kaW5nU3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5leHBhbmRvU3RhcnRJbmRleCA9IGV4cGFuZG9TdGFydEluZGV4O1xuICAgICAgICB0aGlzLmhvc3RCaW5kaW5nT3BDb2RlcyA9IGhvc3RCaW5kaW5nT3BDb2RlcztcbiAgICAgICAgdGhpcy5maXJzdENyZWF0ZVBhc3MgPSBmaXJzdENyZWF0ZVBhc3M7XG4gICAgICAgIHRoaXMuZmlyc3RVcGRhdGVQYXNzID0gZmlyc3RVcGRhdGVQYXNzO1xuICAgICAgICB0aGlzLnN0YXRpY1ZpZXdRdWVyaWVzID0gc3RhdGljVmlld1F1ZXJpZXM7XG4gICAgICAgIHRoaXMuc3RhdGljQ29udGVudFF1ZXJpZXMgPSBzdGF0aWNDb250ZW50UXVlcmllcztcbiAgICAgICAgdGhpcy5wcmVPcmRlckhvb2tzID0gcHJlT3JkZXJIb29rcztcbiAgICAgICAgdGhpcy5wcmVPcmRlckNoZWNrSG9va3MgPSBwcmVPcmRlckNoZWNrSG9va3M7XG4gICAgICAgIHRoaXMuY29udGVudEhvb2tzID0gY29udGVudEhvb2tzO1xuICAgICAgICB0aGlzLmNvbnRlbnRDaGVja0hvb2tzID0gY29udGVudENoZWNrSG9va3M7XG4gICAgICAgIHRoaXMudmlld0hvb2tzID0gdmlld0hvb2tzO1xuICAgICAgICB0aGlzLnZpZXdDaGVja0hvb2tzID0gdmlld0NoZWNrSG9va3M7XG4gICAgICAgIHRoaXMuZGVzdHJveUhvb2tzID0gZGVzdHJveUhvb2tzO1xuICAgICAgICB0aGlzLmNsZWFudXAgPSBjbGVhbnVwO1xuICAgICAgICB0aGlzLmNvbnRlbnRRdWVyaWVzID0gY29udGVudFF1ZXJpZXM7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlUmVnaXN0cnkgPSBkaXJlY3RpdmVSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5waXBlUmVnaXN0cnkgPSBwaXBlUmVnaXN0cnk7XG4gICAgICAgIHRoaXMuZmlyc3RDaGlsZCA9IGZpcnN0Q2hpbGQ7XG4gICAgICAgIHRoaXMuc2NoZW1hcyA9IHNjaGVtYXM7XG4gICAgICAgIHRoaXMuY29uc3RzID0gY29uc3RzO1xuICAgICAgICB0aGlzLmluY29tcGxldGVGaXJzdFBhc3MgPSBpbmNvbXBsZXRlRmlyc3RQYXNzO1xuICAgICAgICB0aGlzLl9kZWNscyA9IF9kZWNscztcbiAgICAgICAgdGhpcy5fdmFycyA9IF92YXJzO1xuICAgIH1cbiAgICBnZXQgdGVtcGxhdGVfKCkge1xuICAgICAgICBjb25zdCBidWYgPSBbXTtcbiAgICAgICAgcHJvY2Vzc1ROb2RlQ2hpbGRyZW4odGhpcy5maXJzdENoaWxkLCBidWYpO1xuICAgICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXQgdHlwZV8oKSB7XG4gICAgICAgIHJldHVybiBUVmlld1R5cGVBc1N0cmluZ1t0aGlzLnR5cGVdIHx8IGBUVmlld1R5cGUuPyR7dGhpcy50eXBlfT9gO1xuICAgIH1cbn07XG5jbGFzcyBUTm9kZSB7XG4gICAgY29uc3RydWN0b3IodFZpZXdfLCAvL1xuICAgIHR5cGUsIC8vXG4gICAgaW5kZXgsIC8vXG4gICAgaW5zZXJ0QmVmb3JlSW5kZXgsIC8vXG4gICAgaW5qZWN0b3JJbmRleCwgLy9cbiAgICBkaXJlY3RpdmVTdGFydCwgLy9cbiAgICBkaXJlY3RpdmVFbmQsIC8vXG4gICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QsIC8vXG4gICAgcHJvcGVydHlCaW5kaW5ncywgLy9cbiAgICBmbGFncywgLy9cbiAgICBwcm92aWRlckluZGV4ZXMsIC8vXG4gICAgdmFsdWUsIC8vXG4gICAgYXR0cnMsIC8vXG4gICAgbWVyZ2VkQXR0cnMsIC8vXG4gICAgbG9jYWxOYW1lcywgLy9cbiAgICBpbml0aWFsSW5wdXRzLCAvL1xuICAgIGlucHV0cywgLy9cbiAgICBvdXRwdXRzLCAvL1xuICAgIHRWaWV3cywgLy9cbiAgICBuZXh0LCAvL1xuICAgIHByb2plY3Rpb25OZXh0LCAvL1xuICAgIGNoaWxkLCAvL1xuICAgIHBhcmVudCwgLy9cbiAgICBwcm9qZWN0aW9uLCAvL1xuICAgIHN0eWxlcywgLy9cbiAgICBzdHlsZXNXaXRob3V0SG9zdCwgLy9cbiAgICByZXNpZHVhbFN0eWxlcywgLy9cbiAgICBjbGFzc2VzLCAvL1xuICAgIGNsYXNzZXNXaXRob3V0SG9zdCwgLy9cbiAgICByZXNpZHVhbENsYXNzZXMsIC8vXG4gICAgY2xhc3NCaW5kaW5ncywgLy9cbiAgICBzdHlsZUJpbmRpbmdzKSB7XG4gICAgICAgIHRoaXMudFZpZXdfID0gdFZpZXdfO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuaW5zZXJ0QmVmb3JlSW5kZXggPSBpbnNlcnRCZWZvcmVJbmRleDtcbiAgICAgICAgdGhpcy5pbmplY3RvckluZGV4ID0gaW5qZWN0b3JJbmRleDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVTdGFydCA9IGRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZUVuZCA9IGRpcmVjdGl2ZUVuZDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVTdHlsaW5nTGFzdCA9IGRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgICAgICB0aGlzLnByb3BlcnR5QmluZGluZ3MgPSBwcm9wZXJ0eUJpbmRpbmdzO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMucHJvdmlkZXJJbmRleGVzID0gcHJvdmlkZXJJbmRleGVzO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgICAgICAgdGhpcy5tZXJnZWRBdHRycyA9IG1lcmdlZEF0dHJzO1xuICAgICAgICB0aGlzLmxvY2FsTmFtZXMgPSBsb2NhbE5hbWVzO1xuICAgICAgICB0aGlzLmluaXRpYWxJbnB1dHMgPSBpbml0aWFsSW5wdXRzO1xuICAgICAgICB0aGlzLmlucHV0cyA9IGlucHV0cztcbiAgICAgICAgdGhpcy5vdXRwdXRzID0gb3V0cHV0cztcbiAgICAgICAgdGhpcy50Vmlld3MgPSB0Vmlld3M7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbk5leHQgPSBwcm9qZWN0aW9uTmV4dDtcbiAgICAgICAgdGhpcy5jaGlsZCA9IGNoaWxkO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuc3R5bGVzV2l0aG91dEhvc3QgPSBzdHlsZXNXaXRob3V0SG9zdDtcbiAgICAgICAgdGhpcy5yZXNpZHVhbFN0eWxlcyA9IHJlc2lkdWFsU3R5bGVzO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBjbGFzc2VzO1xuICAgICAgICB0aGlzLmNsYXNzZXNXaXRob3V0SG9zdCA9IGNsYXNzZXNXaXRob3V0SG9zdDtcbiAgICAgICAgdGhpcy5yZXNpZHVhbENsYXNzZXMgPSByZXNpZHVhbENsYXNzZXM7XG4gICAgICAgIHRoaXMuY2xhc3NCaW5kaW5ncyA9IGNsYXNzQmluZGluZ3M7XG4gICAgICAgIHRoaXMuc3R5bGVCaW5kaW5ncyA9IHN0eWxlQmluZGluZ3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGh1bWFuIGRlYnVnIHZlcnNpb24gb2YgdGhlIHNldCBvZiBgTm9kZUluamVjdG9yYHMgd2hpY2ggd2lsbCBiZSBjb25zdWx0ZWQgd2hlblxuICAgICAqIHJlc29sdmluZyB0b2tlbnMgZnJvbSB0aGlzIGBUTm9kZWAuXG4gICAgICpcbiAgICAgKiBXaGVuIGRlYnVnZ2luZyBhcHBsaWNhdGlvbnMsIGl0IGlzIG9mdGVuIGRpZmZpY3VsdCB0byBkZXRlcm1pbmUgd2hpY2ggYE5vZGVJbmplY3RvcmBzIHdpbGwgYmVcbiAgICAgKiBjb25zdWx0ZWQuIFRoaXMgbWV0aG9kIHNob3dzIGEgbGlzdCBvZiBgRGVidWdOb2RlYHMgcmVwcmVzZW50aW5nIHRoZSBgVE5vZGVgcyB3aGljaCB3aWxsIGJlXG4gICAgICogY29uc3VsdGVkIGluIG9yZGVyIHdoZW4gcmVzb2x2aW5nIGEgdG9rZW4gc3RhcnRpbmcgYXQgdGhpcyBgVE5vZGVgLlxuICAgICAqXG4gICAgICogVGhlIG9yaWdpbmFsIGRhdGEgaXMgc3RvcmVkIGluIGBMVmlld2AgYW5kIGBUVmlld2Agd2l0aCBhIGxvdCBvZiBvZmZzZXQgaW5kZXhlcywgYW5kIHNvIGl0IGlzXG4gICAgICogZGlmZmljdWx0IHRvIHJlYXNvbiBhYm91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCBpbnN0YW5jZSBmb3IgdGhpcyBgVE5vZGVgLlxuICAgICAqL1xuICAgIGRlYnVnTm9kZUluamVjdG9yUGF0aChsVmlldykge1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIGxldCBpbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0aGlzLCBsVmlldyk7XG4gICAgICAgIGlmIChpbmplY3RvckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gTG9va3MgbGlrZSB0aGUgY3VycmVudCBgVE5vZGVgIGRvZXMgbm90IGhhdmUgYE5vZGVJbmplY3RvcmAgYXNzb2NpYXRlZCB3aXRoIGl0ID0+IGxvb2sgZm9yXG4gICAgICAgICAgICAvLyBwYXJlbnQgTm9kZUluamVjdG9yLlxuICAgICAgICAgICAgY29uc3QgcGFyZW50TG9jYXRpb24gPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHRoaXMsIGxWaWV3KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiAhPT0gTk9fUEFSRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBwYXJlbnQsIHNvIHN0YXJ0IHNlYXJjaGluZyBmcm9tIHRoZSBwYXJlbnQgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyBwYXJlbnRzIGhhdmUgYmVlbiBmb3VuZCwgc28gdGhlcmUgYXJlIG5vIGBOb2RlSW5qZWN0b3JgcyB0byBjb25zdWx0LlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVJbmplY3RvcihsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgICAgICAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXTtcbiAgICAgICAgICAgIHBhdGgucHVzaChidWlsZERlYnVnTm9kZSh0Tm9kZSwgbFZpZXcpKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudExvY2F0aW9uID0gbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiA9PT0gTk9fUEFSRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuICAgIGdldCB0eXBlXygpIHtcbiAgICAgICAgcmV0dXJuIHRvVE5vZGVUeXBlQXNTdHJpbmcodGhpcy50eXBlKSB8fCBgVE5vZGVUeXBlLj8ke3RoaXMudHlwZX0/YDtcbiAgICB9XG4gICAgZ2V0IGZsYWdzXygpIHtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAxNiAvKiBoYXNDbGFzc0lucHV0ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5oYXNDbGFzc0lucHV0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgOCAvKiBoYXNDb250ZW50UXVlcnkgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc0NvbnRlbnRRdWVyeScpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDMyIC8qIGhhc1N0eWxlSW5wdXQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc1N0eWxlSW5wdXQnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5oYXNIb3N0QmluZGluZ3MnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNDb21wb25lbnRIb3N0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMSAvKiBpc0RpcmVjdGl2ZUhvc3QgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzRGlyZWN0aXZlSG9zdCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzRGV0YWNoZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiA0IC8qIGlzUHJvamVjdGVkICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5pc1Byb2plY3RlZCcpO1xuICAgICAgICByZXR1cm4gZmxhZ3Muam9pbignfCcpO1xuICAgIH1cbiAgICBnZXQgdGVtcGxhdGVfKCkge1xuICAgICAgICBpZiAodGhpcy50eXBlICYgMSAvKiBUZXh0ICovKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IFtdO1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gdHlwZW9mIHRoaXMudmFsdWUgPT09ICdzdHJpbmcnICYmIHRoaXMudmFsdWUgfHwgdGhpcy50eXBlXztcbiAgICAgICAgYnVmLnB1c2goJzwnLCB0YWdOYW1lKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MpIHtcbiAgICAgICAgICAgIGJ1Zi5wdXNoKCcgJywgdGhpcy5mbGFnc18pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cnMubGVuZ3RoOykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdGhpcy5hdHRyc1tpKytdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ck5hbWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHRoaXMuYXR0cnNbaSsrXTtcbiAgICAgICAgICAgICAgICBidWYucHVzaCgnICcsIGF0dHJOYW1lLCAnPVwiJywgYXR0clZhbHVlLCAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidWYucHVzaCgnPicpO1xuICAgICAgICBwcm9jZXNzVE5vZGVDaGlsZHJlbih0aGlzLmNoaWxkLCBidWYpO1xuICAgICAgICBidWYucHVzaCgnPC8nLCB0YWdOYW1lLCAnPicpO1xuICAgICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXQgc3R5bGVCaW5kaW5nc18oKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnU3R5bGVCaW5kaW5nKHRoaXMsIGZhbHNlKTtcbiAgICB9XG4gICAgZ2V0IGNsYXNzQmluZGluZ3NfKCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z1N0eWxlQmluZGluZyh0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgZ2V0IHByb3ZpZGVySW5kZXhTdGFydF8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgfVxuICAgIGdldCBwcm92aWRlckluZGV4RW5kXygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJJbmRleFN0YXJ0XyArXG4gICAgICAgICAgICAodGhpcy5wcm92aWRlckluZGV4ZXMgPj4+IDIwIC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ICovKTtcbiAgICB9XG59XG5jb25zdCBUTm9kZURlYnVnID0gVE5vZGU7XG5mdW5jdGlvbiB0b0RlYnVnU3R5bGVCaW5kaW5nKHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCB0RGF0YSA9IHROb2RlLnRWaWV3Xy5kYXRhO1xuICAgIGNvbnN0IGJpbmRpbmdzID0gW107XG4gICAgY29uc3QgcmFuZ2UgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBjb25zdCBwcmV2ID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYocmFuZ2UpO1xuICAgIGNvbnN0IG5leHQgPSBnZXRUU3R5bGluZ1JhbmdlTmV4dChyYW5nZSk7XG4gICAgbGV0IGlzVGVtcGxhdGUgPSBuZXh0ICE9PSAwO1xuICAgIGxldCBjdXJzb3IgPSBpc1RlbXBsYXRlID8gbmV4dCA6IHByZXY7XG4gICAgd2hpbGUgKGN1cnNvciAhPT0gMCkge1xuICAgICAgICBjb25zdCBpdGVtS2V5ID0gdERhdGFbY3Vyc29yXTtcbiAgICAgICAgY29uc3QgaXRlbVJhbmdlID0gdERhdGFbY3Vyc29yICsgMV07XG4gICAgICAgIGJpbmRpbmdzLnVuc2hpZnQoe1xuICAgICAgICAgICAga2V5OiBpdGVtS2V5LFxuICAgICAgICAgICAgaW5kZXg6IGN1cnNvcixcbiAgICAgICAgICAgIGlzVGVtcGxhdGU6IGlzVGVtcGxhdGUsXG4gICAgICAgICAgICBwcmV2RHVwbGljYXRlOiBnZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZShpdGVtUmFuZ2UpLFxuICAgICAgICAgICAgbmV4dER1cGxpY2F0ZTogZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUoaXRlbVJhbmdlKSxcbiAgICAgICAgICAgIG5leHRJbmRleDogZ2V0VFN0eWxpbmdSYW5nZU5leHQoaXRlbVJhbmdlKSxcbiAgICAgICAgICAgIHByZXZJbmRleDogZ2V0VFN0eWxpbmdSYW5nZVByZXYoaXRlbVJhbmdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJzb3IgPT09IHByZXYpXG4gICAgICAgICAgICBpc1RlbXBsYXRlID0gZmFsc2U7XG4gICAgICAgIGN1cnNvciA9IGdldFRTdHlsaW5nUmFuZ2VQcmV2KGl0ZW1SYW5nZSk7XG4gICAgfVxuICAgIGJpbmRpbmdzLnB1c2goKGlzQ2xhc3NCYXNlZCA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzKSB8fCBudWxsKTtcbiAgICByZXR1cm4gYmluZGluZ3M7XG59XG5mdW5jdGlvbiBwcm9jZXNzVE5vZGVDaGlsZHJlbih0Tm9kZSwgYnVmKSB7XG4gICAgd2hpbGUgKHROb2RlKSB7XG4gICAgICAgIGJ1Zi5wdXNoKHROb2RlLnRlbXBsYXRlXyk7XG4gICAgICAgIHROb2RlID0gdE5vZGUubmV4dDtcbiAgICB9XG59XG5jbGFzcyBUVmlld0RhdGEgZXh0ZW5kcyBBcnJheSB7XG59XG5sZXQgVFZJRVdEQVRBX0VNUFRZOyAvLyBjYW4ndCBpbml0aWFsaXplIGhlcmUgb3IgaXQgd2lsbCBub3QgYmUgdHJlZSBzaGFrZW4sIGJlY2F1c2Vcbi8vIGBMVmlld2AgY29uc3RydWN0b3IgY291bGQgaGF2ZSBzaWRlLWVmZmVjdHMuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGEgYmx1ZXByaW50IGFuZCBjcmVhdGVzIFREYXRhLlxuICpcbiAqIFNpbXBsZSBzbGljZSB3aWxsIGtlZXAgdGhlIHNhbWUgdHlwZSwgYW5kIHdlIG5lZWQgaXQgdG8gYmUgVERhdGFcbiAqL1xuZnVuY3Rpb24gY2xvbmVUb1RWaWV3RGF0YShsaXN0KSB7XG4gICAgaWYgKFRWSUVXREFUQV9FTVBUWSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBUVklFV0RBVEFfRU1QVFkgPSBuZXcgVFZpZXdEYXRhKCk7XG4gICAgcmV0dXJuIFRWSUVXREFUQV9FTVBUWS5jb25jYXQobGlzdCk7XG59XG5jbGFzcyBMVmlld0JsdWVwcmludCBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIE1hdGNoZXNBcnJheSBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFRWaWV3Q29tcG9uZW50cyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFROb2RlTG9jYWxOYW1lcyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIFROb2RlSW5pdGlhbElucHV0cyBleHRlbmRzIEFycmF5IHtcbn1cbmNsYXNzIExDbGVhbnVwIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVENsZWFudXAgZXh0ZW5kcyBBcnJheSB7XG59XG5mdW5jdGlvbiBhdHRhY2hMVmlld0RlYnVnKGxWaWV3KSB7XG4gICAgYXR0YWNoRGVidWdPYmplY3QobFZpZXcsIG5ldyBMVmlld0RlYnVnKGxWaWV3KSk7XG59XG5mdW5jdGlvbiBhdHRhY2hMQ29udGFpbmVyRGVidWcobENvbnRhaW5lcikge1xuICAgIGF0dGFjaERlYnVnT2JqZWN0KGxDb250YWluZXIsIG5ldyBMQ29udGFpbmVyRGVidWcobENvbnRhaW5lcikpO1xufVxuZnVuY3Rpb24gdG9EZWJ1ZyhvYmopIHtcbiAgICBpZiAob2JqKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnID0gb2JqLmRlYnVnO1xuICAgICAgICBhc3NlcnREZWZpbmVkKGRlYnVnLCAnT2JqZWN0IGRvZXMgbm90IGhhdmUgYSBkZWJ1ZyByZXByZXNlbnRhdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuIGRlYnVnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG59XG4vKipcbiAqIFVzZSB0aGlzIG1ldGhvZCB0byB1bndyYXAgYSBuYXRpdmUgZWxlbWVudCBpbiBgTFZpZXdgIGFuZCBjb252ZXJ0IGl0IGludG8gSFRNTCBmb3IgZWFzaWVyXG4gKiByZWFkaW5nLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBwb3NzaWJseSB3cmFwcGVkIG5hdGl2ZSBET00gbm9kZS5cbiAqIEBwYXJhbSBpbmNsdWRlQ2hpbGRyZW4gSWYgYHRydWVgIHRoZW4gdGhlIHNlcmlhbGl6ZWQgSFRNTCBmb3JtIHdpbGwgaW5jbHVkZSBjaGlsZCBlbGVtZW50c1xuICogKHNhbWVcbiAqIGFzIGBvdXRlckhUTUxgKS4gSWYgYGZhbHNlYCB0aGVuIHRoZSBzZXJpYWxpemVkIEhUTUwgZm9ybSB3aWxsIG9ubHkgY29udGFpbiB0aGUgZWxlbWVudFxuICogaXRzZWxmXG4gKiAod2lsbCBub3Qgc2VyaWFsaXplIGNoaWxkIGVsZW1lbnRzKS5cbiAqL1xuZnVuY3Rpb24gdG9IdG1sKHZhbHVlLCBpbmNsdWRlQ2hpbGRyZW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IG5vZGUgPSB1bndyYXBSTm9kZSh2YWx1ZSk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgICAgY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDwhLS0ke25vZGUudGV4dENvbnRlbnR9LS0+YDtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0ZXJIVE1MID0gbm9kZS5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJIVE1MID0gJz4nICsgbm9kZS5pbm5lckhUTUwgKyAnPCc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAob3V0ZXJIVE1MLnNwbGl0KGlubmVySFRNTClbMF0pICsgJz4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNsYXNzIExWaWV3RGVidWcge1xuICAgIGNvbnN0cnVjdG9yKF9yYXdfbFZpZXcpIHtcbiAgICAgICAgdGhpcy5fcmF3X2xWaWV3ID0gX3Jhd19sVmlldztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmxhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBgTFZpZXdgIHVucGFja2VkIGludG8gYSBtb3JlIHJlYWRhYmxlIHN0YXRlLlxuICAgICAqL1xuICAgIGdldCBmbGFncygpIHtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSB0aGlzLl9yYXdfbFZpZXdbRkxBR1NdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX19yYXdfX2ZsYWdzX186IGZsYWdzLFxuICAgICAgICAgICAgaW5pdFBoYXNlU3RhdGU6IGZsYWdzICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8sXG4gICAgICAgICAgICBjcmVhdGlvbk1vZGU6ICEhKGZsYWdzICYgNCAvKiBDcmVhdGlvbk1vZGUgKi8pLFxuICAgICAgICAgICAgZmlyc3RWaWV3UGFzczogISEoZmxhZ3MgJiA4IC8qIEZpcnN0TFZpZXdQYXNzICovKSxcbiAgICAgICAgICAgIGNoZWNrQWx3YXlzOiAhIShmbGFncyAmIDE2IC8qIENoZWNrQWx3YXlzICovKSxcbiAgICAgICAgICAgIGRpcnR5OiAhIShmbGFncyAmIDY0IC8qIERpcnR5ICovKSxcbiAgICAgICAgICAgIGF0dGFjaGVkOiAhIShmbGFncyAmIDEyOCAvKiBBdHRhY2hlZCAqLyksXG4gICAgICAgICAgICBkZXN0cm95ZWQ6ICEhKGZsYWdzICYgMjU2IC8qIERlc3Ryb3llZCAqLyksXG4gICAgICAgICAgICBpc1Jvb3Q6ICEhKGZsYWdzICYgNTEyIC8qIElzUm9vdCAqLyksXG4gICAgICAgICAgICBpbmRleFdpdGhpbkluaXRQaGFzZTogZmxhZ3MgPj4gMTEgLyogSW5kZXhXaXRoaW5Jbml0UGhhc2VTaGlmdCAqLyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W1BBUkVOVF0pO1xuICAgIH1cbiAgICBnZXQgaG9zdEhUTUwoKSB7XG4gICAgICAgIHJldHVybiB0b0h0bWwodGhpcy5fcmF3X2xWaWV3W0hPU1RdLCB0cnVlKTtcbiAgICB9XG4gICAgZ2V0IGh0bWwoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5ub2RlcyB8fCBbXSkubWFwKG1hcFRvSFRNTCkuam9pbignJyk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W0NPTlRFWFRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHJlZSBvZiBub2RlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgYExWaWV3YC4gVGhlIG5vZGVzIGhhdmUgYmVlbiBub3JtYWxpemVkIGludG9cbiAgICAgKiBhIHRyZWUgc3RydWN0dXJlIHdpdGggcmVsZXZhbnQgZGV0YWlscyBwdWxsZWQgb3V0IGZvciByZWFkYWJpbGl0eS5cbiAgICAgKi9cbiAgICBnZXQgbm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gdGhpcy5fcmF3X2xWaWV3O1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z05vZGVzKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudFZpZXcudGVtcGxhdGVfO1xuICAgIH1cbiAgICBnZXQgdFZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbVFZJRVddO1xuICAgIH1cbiAgICBnZXQgY2xlYW51cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tDTEVBTlVQXTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W0lOSkVDVE9SJDFdO1xuICAgIH1cbiAgICBnZXQgcmVuZGVyZXJGYWN0b3J5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldO1xuICAgIH1cbiAgICBnZXQgcmVuZGVyZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbUkVOREVSRVJdO1xuICAgIH1cbiAgICBnZXQgc2FuaXRpemVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1NBTklUSVpFUl07XG4gICAgfVxuICAgIGdldCBjaGlsZEhlYWQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tDSElMRF9IRUFEXSk7XG4gICAgfVxuICAgIGdldCBuZXh0KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbTkVYVF0pO1xuICAgIH1cbiAgICBnZXQgY2hpbGRUYWlsKCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbQ0hJTERfVEFJTF0pO1xuICAgIH1cbiAgICBnZXQgZGVjbGFyYXRpb25WaWV3KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbREVDTEFSQVRJT05fVklFV10pO1xuICAgIH1cbiAgICBnZXQgcXVlcmllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tRVUVSSUVTXTtcbiAgICB9XG4gICAgZ2V0IHRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1RfSE9TVF07XG4gICAgfVxuICAgIGdldCBkZWNscygpIHtcbiAgICAgICAgcmV0dXJuIHRvTFZpZXdSYW5nZSh0aGlzLnRWaWV3LCB0aGlzLl9yYXdfbFZpZXcsIEhFQURFUl9PRkZTRVQsIHRoaXMudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpO1xuICAgIH1cbiAgICBnZXQgdmFycygpIHtcbiAgICAgICAgcmV0dXJuIHRvTFZpZXdSYW5nZSh0aGlzLnRWaWV3LCB0aGlzLl9yYXdfbFZpZXcsIHRoaXMudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsIHRoaXMudFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgpO1xuICAgIH1cbiAgICBnZXQgZXhwYW5kbygpIHtcbiAgICAgICAgcmV0dXJuIHRvTFZpZXdSYW5nZSh0aGlzLnRWaWV3LCB0aGlzLl9yYXdfbFZpZXcsIHRoaXMudFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIHRoaXMuX3Jhd19sVmlldy5sZW5ndGgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVkIHZpZXcgb2YgY2hpbGQgdmlld3MgKGFuZCBjb250YWluZXJzKSBhdHRhY2hlZCBhdCB0aGlzIGxvY2F0aW9uLlxuICAgICAqL1xuICAgIGdldCBjaGlsZFZpZXdzKCkge1xuICAgICAgICBjb25zdCBjaGlsZFZpZXdzID0gW107XG4gICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRIZWFkO1xuICAgICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgICAgIGNoaWxkVmlld3MucHVzaChjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkVmlld3M7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwVG9IVE1MKG5vZGUpIHtcbiAgICBpZiAobm9kZS50eXBlID09PSAnRWxlbWVudENvbnRhaW5lcicpIHtcbiAgICAgICAgcmV0dXJuIChub2RlLmNoaWxkcmVuIHx8IFtdKS5tYXAobWFwVG9IVE1MKS5qb2luKCcnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS50eXBlID09PSAnSWN1Q29udGFpbmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRvSHRtbChub2RlLm5hdGl2ZSwgdHJ1ZSkgfHwgJyc7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9MVmlld1JhbmdlKHRWaWV3LCBsVmlldywgc3RhcnQsIGVuZCkge1xuICAgIGxldCBjb250ZW50ID0gW107XG4gICAgZm9yIChsZXQgaW5kZXggPSBzdGFydDsgaW5kZXggPCBlbmQ7IGluZGV4KyspIHtcbiAgICAgICAgY29udGVudC5wdXNoKHsgaW5kZXg6IGluZGV4LCB0OiB0Vmlldy5kYXRhW2luZGV4XSwgbDogbFZpZXdbaW5kZXhdIH0pO1xuICAgIH1cbiAgICByZXR1cm4geyBzdGFydDogc3RhcnQsIGVuZDogZW5kLCBsZW5ndGg6IGVuZCAtIHN0YXJ0LCBjb250ZW50OiBjb250ZW50IH07XG59XG4vKipcbiAqIFR1cm5zIGEgZmxhdCBsaXN0IG9mIG5vZGVzIGludG8gYSB0cmVlIGJ5IHdhbGtpbmcgdGhlIGFzc29jaWF0ZWQgYFROb2RlYCB0cmVlLlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICogQHBhcmFtIGxWaWV3XG4gKi9cbmZ1bmN0aW9uIHRvRGVidWdOb2Rlcyh0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAodE5vZGUpIHtcbiAgICAgICAgY29uc3QgZGVidWdOb2RlcyA9IFtdO1xuICAgICAgICBsZXQgdE5vZGVDdXJzb3IgPSB0Tm9kZTtcbiAgICAgICAgd2hpbGUgKHROb2RlQ3Vyc29yKSB7XG4gICAgICAgICAgICBkZWJ1Z05vZGVzLnB1c2goYnVpbGREZWJ1Z05vZGUodE5vZGVDdXJzb3IsIGxWaWV3KSk7XG4gICAgICAgICAgICB0Tm9kZUN1cnNvciA9IHROb2RlQ3Vyc29yLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlYnVnTm9kZXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuZnVuY3Rpb24gYnVpbGREZWJ1Z05vZGUodE5vZGUsIGxWaWV3KSB7XG4gICAgY29uc3QgcmF3VmFsdWUgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgY29uc3QgbmF0aXZlID0gdW53cmFwUk5vZGUocmF3VmFsdWUpO1xuICAgIGNvbnN0IGZhY3RvcmllcyA9IFtdO1xuICAgIGNvbnN0IGluc3RhbmNlcyA9IFtdO1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDsgaSA8IHROb2RlLmRpcmVjdGl2ZUVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIGZhY3Rvcmllcy5wdXNoKGRlZi50eXBlKTtcbiAgICAgICAgaW5zdGFuY2VzLnB1c2gobFZpZXdbaV0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBodG1sOiB0b0h0bWwobmF0aXZlKSxcbiAgICAgICAgdHlwZTogdG9UTm9kZVR5cGVBc1N0cmluZyh0Tm9kZS50eXBlKSxcbiAgICAgICAgdE5vZGUsXG4gICAgICAgIG5hdGl2ZTogbmF0aXZlLFxuICAgICAgICBjaGlsZHJlbjogdG9EZWJ1Z05vZGVzKHROb2RlLmNoaWxkLCBsVmlldyksXG4gICAgICAgIGZhY3RvcmllcyxcbiAgICAgICAgaW5zdGFuY2VzLFxuICAgICAgICBpbmplY3RvcjogYnVpbGROb2RlSW5qZWN0b3JEZWJ1Zyh0Tm9kZSwgdFZpZXcsIGxWaWV3KSxcbiAgICAgICAgZ2V0IGluamVjdG9yUmVzb2x1dGlvblBhdGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdE5vZGUuZGVidWdOb2RlSW5qZWN0b3JQYXRoKGxWaWV3KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGROb2RlSW5qZWN0b3JEZWJ1Zyh0Tm9kZSwgdFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3Qgdmlld1Byb3ZpZGVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5wcm92aWRlckluZGV4U3RhcnRfOyBpIDwgdE5vZGUucHJvdmlkZXJJbmRleEVuZF87IGkrKykge1xuICAgICAgICB2aWV3UHJvdmlkZXJzLnB1c2godFZpZXcuZGF0YVtpXSk7XG4gICAgfVxuICAgIGNvbnN0IHByb3ZpZGVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSB0Tm9kZS5wcm92aWRlckluZGV4RW5kXzsgaSA8IHROb2RlLmRpcmVjdGl2ZUVuZDsgaSsrKSB7XG4gICAgICAgIHByb3ZpZGVycy5wdXNoKHRWaWV3LmRhdGFbaV0pO1xuICAgIH1cbiAgICBjb25zdCBub2RlSW5qZWN0b3JEZWJ1ZyA9IHtcbiAgICAgICAgYmxvb206IHRvQmxvb20obFZpZXcsIHROb2RlLmluamVjdG9ySW5kZXgpLFxuICAgICAgICBjdW11bGF0aXZlQmxvb206IHRvQmxvb20odFZpZXcuZGF0YSwgdE5vZGUuaW5qZWN0b3JJbmRleCksXG4gICAgICAgIHByb3ZpZGVycyxcbiAgICAgICAgdmlld1Byb3ZpZGVycyxcbiAgICAgICAgcGFyZW50SW5qZWN0b3JJbmRleDogbFZpZXdbdE5vZGUucHJvdmlkZXJJbmRleFN0YXJ0XyAtIDFdLFxuICAgIH07XG4gICAgcmV0dXJuIG5vZGVJbmplY3RvckRlYnVnO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgbnVtYmVyIGF0IGBpZHhgIGxvY2F0aW9uIGluIGBhcnJheWAgaW50byBiaW5hcnkgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQHBhcmFtIGFycmF5XG4gKiBAcGFyYW0gaWR4XG4gKi9cbmZ1bmN0aW9uIGJpbmFyeShhcnJheSwgaWR4KSB7XG4gICAgY29uc3QgdmFsdWUgPSBhcnJheVtpZHhdO1xuICAgIC8vIElmIG5vdCBhIG51bWJlciB3ZSBwcmludCA4IGA/YCB0byByZXRhaW4gYWxpZ25tZW50IGJ1dCBsZXQgdXNlciBrbm93IHRoYXQgaXQgd2FzIGNhbGxlZCBvblxuICAgIC8vIHdyb25nIHR5cGUuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiAnPz8/Pz8/Pz8nO1xuICAgIC8vIFdlIHByZWZpeCAwcyBzbyB0aGF0IHdlIGhhdmUgY29uc3RhbnQgbGVuZ3RoIG51bWJlclxuICAgIGNvbnN0IHRleHQgPSAnMDAwMDAwMDAnICsgdmFsdWUudG9TdHJpbmcoMik7XG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHRleHQubGVuZ3RoIC0gOCk7XG59XG4vKipcbiAqIENvbnZlcnQgYSBibG9vbSBmaWx0ZXIgYXQgbG9jYXRpb24gYGlkeGAgaW4gYGFycmF5YCBpbnRvIGJpbmFyeSByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYXJyYXlcbiAqIEBwYXJhbSBpZHhcbiAqL1xuZnVuY3Rpb24gdG9CbG9vbShhcnJheSwgaWR4KSB7XG4gICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgcmV0dXJuICdOT19OT0RFX0lOSkVDVE9SJztcbiAgICB9XG4gICAgcmV0dXJuIGAke2JpbmFyeShhcnJheSwgaWR4ICsgNyl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyA2KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDUpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgNCl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAzKX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDIpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgMSl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAwKX1gO1xufVxuY2xhc3MgTENvbnRhaW5lckRlYnVnIHtcbiAgICBjb25zdHJ1Y3RvcihfcmF3X2xDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5fcmF3X2xDb250YWluZXIgPSBfcmF3X2xDb250YWluZXI7XG4gICAgfVxuICAgIGdldCBoYXNUcmFuc3BsYW50ZWRWaWV3cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW0hBU19UUkFOU1BMQU5URURfVklFV1NdO1xuICAgIH1cbiAgICBnZXQgdmlld3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lci5zbGljZShDT05UQUlORVJfSEVBREVSX09GRlNFVClcbiAgICAgICAgICAgIC5tYXAodG9EZWJ1Zyk7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sQ29udGFpbmVyW1BBUkVOVF0pO1xuICAgIH1cbiAgICBnZXQgbW92ZWRWaWV3cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICB9XG4gICAgZ2V0IGhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbENvbnRhaW5lcltIT1NUXTtcbiAgICB9XG4gICAgZ2V0IG5hdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW05BVElWRV07XG4gICAgfVxuICAgIGdldCBuZXh0KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbENvbnRhaW5lcltORVhUXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgcGVybWFuZW50IG1hcmtlciBwcm9taXNlIHdoaWNoIHNpZ25pZmllcyB0aGF0IHRoZSBjdXJyZW50IENEIHRyZWUgaXNcbiAqIGNsZWFuLlxuICovXG5jb25zdCBfQ0xFQU5fUFJPTUlTRSA9ICgoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCkpKCk7XG4vKipcbiAqIEludm9rZSBgSG9zdEJpbmRpbmdzRnVuY3Rpb25gcyBmb3Igdmlldy5cbiAqXG4gKiBUaGlzIG1ldGhvZHMgZXhlY3V0ZXMgYFRWaWV3Lmhvc3RCaW5kaW5nT3BDb2Rlc2AuIEl0IGlzIHVzZWQgdG8gZXhlY3V0ZSB0aGVcbiAqIGBIb3N0QmluZGluZ3NGdW5jdGlvbmBzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzSG9zdEJpbmRpbmdPcENvZGVzKHRWaWV3LCBsVmlldykge1xuICAgIGNvbnN0IGhvc3RCaW5kaW5nT3BDb2RlcyA9IHRWaWV3Lmhvc3RCaW5kaW5nT3BDb2RlcztcbiAgICBpZiAoaG9zdEJpbmRpbmdPcENvZGVzID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob3N0QmluZGluZ09wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9wQ29kZSA9IGhvc3RCaW5kaW5nT3BDb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBhcmUgZWxlbWVudCBpbmRleGVzLlxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkSW5kZXgofm9wQ29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGl2ZSBudW1iZXJzIGFyZSBOdW1iZXJUdXBsZSB3aGljaCBzdG9yZSBiaW5kaW5nUm9vdEluZGV4IGFuZCBkaXJlY3RpdmVJbmRleC5cbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVJZHggPSBvcENvZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluZGluZ1Jvb3RJbmR4ID0gaG9zdEJpbmRpbmdPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgY29uc3QgaG9zdEJpbmRpbmdGbiA9IGhvc3RCaW5kaW5nT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgIHNldEJpbmRpbmdSb290Rm9ySG9zdEJpbmRpbmdzKGJpbmRpbmdSb290SW5keCwgZGlyZWN0aXZlSWR4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbFZpZXdbZGlyZWN0aXZlSWR4XTtcbiAgICAgICAgICAgICAgICBob3N0QmluZGluZ0ZuKDIgLyogVXBkYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCgtMSk7XG4gICAgfVxufVxuLyoqIFJlZnJlc2hlcyBhbGwgY29udGVudCBxdWVyaWVzIGRlY2xhcmVkIGJ5IGRpcmVjdGl2ZXMgaW4gYSBnaXZlbiB2aWV3ICovXG5mdW5jdGlvbiByZWZyZXNoQ29udGVudFF1ZXJpZXModFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgY29udGVudFF1ZXJpZXMgPSB0Vmlldy5jb250ZW50UXVlcmllcztcbiAgICBpZiAoY29udGVudFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50UXVlcmllcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdGFydElkeCA9IGNvbnRlbnRRdWVyaWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmSWR4ID0gY29udGVudFF1ZXJpZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZURlZklkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSB0Vmlldy5kYXRhW2RpcmVjdGl2ZURlZklkeF07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZGlyZWN0aXZlRGVmLCAnRGlyZWN0aXZlRGVmIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChkaXJlY3RpdmVEZWYuY29udGVudFF1ZXJpZXMsICdjb250ZW50UXVlcmllcyBmdW5jdGlvbiBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRRdWVyeUluZGV4KHF1ZXJ5U3RhcnRJZHgpO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZURlZi5jb250ZW50UXVlcmllcygyIC8qIFVwZGF0ZSAqLywgbFZpZXdbZGlyZWN0aXZlRGVmSWR4XSwgZGlyZWN0aXZlRGVmSWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBSZWZyZXNoZXMgY2hpbGQgY29tcG9uZW50cyBpbiB0aGUgY3VycmVudCB2aWV3ICh1cGRhdGUgbW9kZSkuICovXG5mdW5jdGlvbiByZWZyZXNoQ2hpbGRDb21wb25lbnRzKGhvc3RMVmlldywgY29tcG9uZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZWZyZXNoQ29tcG9uZW50KGhvc3RMVmlldywgY29tcG9uZW50c1tpXSk7XG4gICAgfVxufVxuLyoqIFJlbmRlcnMgY2hpbGQgY29tcG9uZW50cyBpbiB0aGUgY3VycmVudCB2aWV3IChjcmVhdGlvbiBtb2RlKS4gKi9cbmZ1bmN0aW9uIHJlbmRlckNoaWxkQ29tcG9uZW50cyhob3N0TFZpZXcsIGNvbXBvbmVudHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50JDEoaG9zdExWaWV3LCBjb21wb25lbnRzW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVMVmlldyhwYXJlbnRMVmlldywgdFZpZXcsIGNvbnRleHQsIGZsYWdzLCBob3N0LCB0SG9zdE5vZGUsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplciwgaW5qZWN0b3IpIHtcbiAgICBjb25zdCBsVmlldyA9IG5nRGV2TW9kZSA/IGNsb25lVG9MVmlld0Zyb21UVmlld0JsdWVwcmludCh0VmlldykgOiB0Vmlldy5ibHVlcHJpbnQuc2xpY2UoKTtcbiAgICBsVmlld1tIT1NUXSA9IGhvc3Q7XG4gICAgbFZpZXdbRkxBR1NdID0gZmxhZ3MgfCA0IC8qIENyZWF0aW9uTW9kZSAqLyB8IDEyOCAvKiBBdHRhY2hlZCAqLyB8IDggLyogRmlyc3RMVmlld1Bhc3MgKi87XG4gICAgcmVzZXRQcmVPcmRlckhvb2tGbGFncyhsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIHRWaWV3LmRlY2xUTm9kZSAmJiBwYXJlbnRMVmlldyAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHRWaWV3LmRlY2xUTm9kZSwgcGFyZW50TFZpZXcpO1xuICAgIGxWaWV3W1BBUkVOVF0gPSBsVmlld1tERUNMQVJBVElPTl9WSUVXXSA9IHBhcmVudExWaWV3O1xuICAgIGxWaWV3W0NPTlRFWFRdID0gY29udGV4dDtcbiAgICBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXSA9IChyZW5kZXJlckZhY3RvcnkgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbUkVOREVSRVJfRkFDVE9SWV0pO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldLCAnUmVuZGVyZXJGYWN0b3J5IGlzIHJlcXVpcmVkJyk7XG4gICAgbFZpZXdbUkVOREVSRVJdID0gKHJlbmRlcmVyIHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W1JFTkRFUkVSXSk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXdbUkVOREVSRVJdLCAnUmVuZGVyZXIgaXMgcmVxdWlyZWQnKTtcbiAgICBsVmlld1tTQU5JVElaRVJdID0gc2FuaXRpemVyIHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W1NBTklUSVpFUl0gfHwgbnVsbDtcbiAgICBsVmlld1tJTkpFQ1RPUiQxXSA9IGluamVjdG9yIHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W0lOSkVDVE9SJDFdIHx8IG51bGw7XG4gICAgbFZpZXdbVF9IT1NUXSA9IHRIb3N0Tm9kZTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcudHlwZSA9PSAyIC8qIEVtYmVkZGVkICovID8gcGFyZW50TFZpZXcgIT09IG51bGwgOiB0cnVlLCB0cnVlLCAnRW1iZWRkZWQgdmlld3MgbXVzdCBoYXZlIHBhcmVudExWaWV3Jyk7XG4gICAgbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddID1cbiAgICAgICAgdFZpZXcudHlwZSA9PSAyIC8qIEVtYmVkZGVkICovID8gcGFyZW50TFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddIDogbFZpZXc7XG4gICAgbmdEZXZNb2RlICYmIGF0dGFjaExWaWV3RGVidWcobFZpZXcpO1xuICAgIHJldHVybiBsVmlldztcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCB0eXBlLCBuYW1lLCBhdHRycykge1xuICAgIG5nRGV2TW9kZSAmJiBpbmRleCAhPT0gMCAmJiAvLyAwIGFyZSBib2d1cyBub2RlcyBhbmQgdGhleSBhcmUgT0suIFNlZSBgY3JlYXRlQ29udGFpbmVyUmVmYCBpblxuICAgICAgICAvLyBgdmlld19lbmdpbmVfY29tcGF0aWJpbGl0eWAgZm9yIGFkZGl0aW9uYWwgY29udGV4dC5cbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGluZGV4LCBIRUFERVJfT0ZGU0VULCAnVE5vZGVzIGNhblxcJ3QgYmUgaW4gdGhlIExWaWV3IGhlYWRlci4nKTtcbiAgICAvLyBLZWVwIHRoaXMgZnVuY3Rpb24gc2hvcnQsIHNvIHRoYXQgdGhlIFZNIHdpbGwgaW5saW5lIGl0LlxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRQdXJlVE5vZGVUeXBlKHR5cGUpO1xuICAgIGxldCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIGlmICh0Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICB0Tm9kZSA9IGNyZWF0ZVROb2RlQXRJbmRleCh0VmlldywgaW5kZXgsIHR5cGUsIG5hbWUsIGF0dHJzKTtcbiAgICAgICAgaWYgKGlzSW5JMThuQmxvY2soKSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGluIGkxOG4gYmxvY2sgdGhlbiBhbGwgZWxlbWVudHMgc2hvdWxkIGJlIHByZSBkZWNsYXJlZCB0aHJvdWdoIGBQbGFjZWhvbGRlcmBcbiAgICAgICAgICAgIC8vIFNlZSBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBhbmQgYExGcmFtZS5pbkkxOG5gIGZvciBtb3JlIGNvbnRleHQuXG4gICAgICAgICAgICAvLyBJZiB0aGUgYFROb2RlYCB3YXMgbm90IHByZS1kZWNsYXJlZCB0aGFuIGl0IG1lYW5zIGl0IHdhcyBub3QgbWVudGlvbmVkIHdoaWNoIG1lYW5zIGl0IHdhc1xuICAgICAgICAgICAgLy8gcmVtb3ZlZCwgc28gd2UgbWFyayBpdCBhcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDY0IC8qIGlzRGV0YWNoZWQgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDY0IC8qIFBsYWNlaG9sZGVyICovKSB7XG4gICAgICAgIHROb2RlLnR5cGUgPSB0eXBlO1xuICAgICAgICB0Tm9kZS52YWx1ZSA9IG5hbWU7XG4gICAgICAgIHROb2RlLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpO1xuICAgICAgICB0Tm9kZS5pbmplY3RvckluZGV4ID0gcGFyZW50ID09PSBudWxsID8gLTEgOiBwYXJlbnQuaW5qZWN0b3JJbmRleDtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIHRWaWV3KTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGluZGV4LCB0Tm9kZS5pbmRleCwgJ0V4cGVjdGluZyBzYW1lIGluZGV4Jyk7XG4gICAgfVxuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHROb2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpbmRleCwgdHlwZSwgbmFtZSwgYXR0cnMpIHtcbiAgICBjb25zdCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGVQbGFjZWhvbGRlck9rKCk7XG4gICAgY29uc3QgaXNQYXJlbnQgPSBpc0N1cnJlbnRUTm9kZVBhcmVudCgpO1xuICAgIGNvbnN0IHBhcmVudCA9IGlzUGFyZW50ID8gY3VycmVudFROb2RlIDogY3VycmVudFROb2RlICYmIGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgLy8gUGFyZW50cyBjYW5ub3QgY3Jvc3MgY29tcG9uZW50IGJvdW5kYXJpZXMgYmVjYXVzZSBjb21wb25lbnRzIHdpbGwgYmUgdXNlZCBpbiBtdWx0aXBsZSBwbGFjZXMuXG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XSA9XG4gICAgICAgIGNyZWF0ZVROb2RlKHRWaWV3LCBwYXJlbnQsIHR5cGUsIGluZGV4LCBuYW1lLCBhdHRycyk7XG4gICAgLy8gQXNzaWduIGEgcG9pbnRlciB0byB0aGUgZmlyc3QgY2hpbGQgbm9kZSBvZiBhIGdpdmVuIHZpZXcuIFRoZSBmaXJzdCBub2RlIGlzIG5vdCBhbHdheXMgdGhlIG9uZVxuICAgIC8vIGF0IGluZGV4IDAsIGluIGNhc2Ugb2YgaTE4biwgaW5kZXggMCBjYW4gYmUgdGhlIGluc3RydWN0aW9uIGBpMThuU3RhcnRgIGFuZCB0aGUgZmlyc3Qgbm9kZSBoYXNcbiAgICAvLyB0aGUgaW5kZXggMSBvciBtb3JlLCBzbyB3ZSBjYW4ndCBqdXN0IGNoZWNrIG5vZGUgaW5kZXguXG4gICAgaWYgKHRWaWV3LmZpcnN0Q2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcuZmlyc3RDaGlsZCA9IHROb2RlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1BhcmVudCkge1xuICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBUaGlzIGxvZ2ljIGxvb2tzIHVubmVjZXNzYXJpbHkgY29tcGxpY2F0ZWQuIENvdWxkIHdlIHNpbXBsaWZ5P1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRUTm9kZS5jaGlsZCA9PSBudWxsICYmIHROb2RlLnBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBpbiB0aGUgc2FtZSB2aWV3LCB3aGljaCBtZWFucyB3ZSBhcmUgYWRkaW5nIGNvbnRlbnQgbm9kZSB0byB0aGUgcGFyZW50IHZpZXcuXG4gICAgICAgICAgICAgICAgY3VycmVudFROb2RlLmNoaWxkID0gdE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFROb2RlLm5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiBpMThuIHRoZSBgY3VycmVudFROb2RlYCBtYXkgYWxyZWFkeSBiZSBsaW5rZWQsIGluIHdoaWNoIGNhc2Ugd2UgZG9uJ3Qgd2FudFxuICAgICAgICAgICAgICAgIC8vIHRvIGJyZWFrIHRoZSBsaW5rcyB3aGljaCBpMThuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgICAgY3VycmVudFROb2RlLm5leHQgPSB0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIFdoZW4gZWxlbWVudHMgYXJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgYWZ0ZXIgYSB2aWV3IGJsdWVwcmludCBpcyBjcmVhdGVkIChlLmcuIHRocm91Z2hcbiAqIGkxOG5BcHBseSgpKSwgd2UgbmVlZCB0byBhZGp1c3QgdGhlIGJsdWVwcmludCBmb3IgZnV0dXJlXG4gKiB0ZW1wbGF0ZSBwYXNzZXMuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2AgYXNzb2NpYXRlZCB3aXRoIGBMVmlld2BcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCBjb250YWluaW5nIHRoZSBibHVlcHJpbnQgdG8gYWRqdXN0XG4gKiBAcGFyYW0gbnVtU2xvdHNUb0FsbG9jIFRoZSBudW1iZXIgb2Ygc2xvdHMgdG8gYWxsb2MgaW4gdGhlIExWaWV3LCBzaG91bGQgYmUgPjBcbiAqIEBwYXJhbSBpbml0aWFsVmFsdWUgSW5pdGlhbCB2YWx1ZSB0byBzdG9yZSBpbiBibHVlcHJpbnRcbiAqL1xuZnVuY3Rpb24gYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgbnVtU2xvdHNUb0FsbG9jLCBpbml0aWFsVmFsdWUpIHtcbiAgICBpZiAobnVtU2xvdHNUb0FsbG9jID09PSAwKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgICAgICBhc3NlcnRTYW1lKHRWaWV3LCBsVmlld1tUVklFV10sICdgTFZpZXdgIG11c3QgYmUgYXNzb2NpYXRlZCB3aXRoIGBUVmlld2AhJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKHRWaWV3LmRhdGEubGVuZ3RoLCBsVmlldy5sZW5ndGgsICdFeHBlY3RpbmcgTFZpZXcgdG8gYmUgc2FtZSBzaXplIGFzIFRWaWV3Jyk7XG4gICAgICAgIGFzc2VydEVxdWFsKHRWaWV3LmRhdGEubGVuZ3RoLCB0Vmlldy5ibHVlcHJpbnQubGVuZ3RoLCAnRXhwZWN0aW5nIEJsdWVwcmludCB0byBiZSBzYW1lIHNpemUgYXMgVFZpZXcnKTtcbiAgICAgICAgYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKHRWaWV3KTtcbiAgICB9XG4gICAgY29uc3QgYWxsb2NJZHggPSBsVmlldy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TbG90c1RvQWxsb2M7IGkrKykge1xuICAgICAgICBsVmlldy5wdXNoKGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIHRWaWV3LmJsdWVwcmludC5wdXNoKGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIHRWaWV3LmRhdGEucHVzaChudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jSWR4O1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gUmVuZGVyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBQcm9jZXNzZXMgYSB2aWV3IGluIHRoZSBjcmVhdGlvbiBtb2RlLiBUaGlzIGluY2x1ZGVzIGEgbnVtYmVyIG9mIHN0ZXBzIGluIGEgc3BlY2lmaWMgb3JkZXI6XG4gKiAtIGNyZWF0aW5nIHZpZXcgcXVlcnkgZnVuY3Rpb25zIChpZiBhbnkpO1xuICogLSBleGVjdXRpbmcgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBpbiB0aGUgY3JlYXRpb24gbW9kZTtcbiAqIC0gdXBkYXRpbmcgc3RhdGljIHF1ZXJpZXMgKGlmIGFueSk7XG4gKiAtIGNyZWF0aW5nIGNoaWxkIGNvbXBvbmVudHMgZGVmaW5lZCBpbiBhIGdpdmVuIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclZpZXcodFZpZXcsIGxWaWV3LCBjb250ZXh0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGlzQ3JlYXRpb25Nb2RlKGxWaWV3KSwgdHJ1ZSwgJ1Nob3VsZCBiZSBydW4gaW4gY3JlYXRpb24gbW9kZScpO1xuICAgIGVudGVyVmlldyhsVmlldyk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgdmlld1F1ZXJ5ID0gdFZpZXcudmlld1F1ZXJ5O1xuICAgICAgICBpZiAodmlld1F1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVmlld1F1ZXJ5Rm4oMSAvKiBDcmVhdGUgKi8sIHZpZXdRdWVyeSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhlY3V0ZSBhIHRlbXBsYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHZpZXcsIGlmIGl0IGV4aXN0cy4gQSB0ZW1wbGF0ZSBmdW5jdGlvbiBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gZGVmaW5lZCBmb3IgdGhlIHJvb3QgY29tcG9uZW50IHZpZXdzLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZUZuID0gdFZpZXcudGVtcGxhdGU7XG4gICAgICAgIGlmICh0ZW1wbGF0ZUZuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCAxIC8qIENyZWF0ZSAqLywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBzZXQgYmVmb3JlIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQgdG8gc3VwcG9ydCByZWN1cnNpdmUgY29tcG9uZW50cy5cbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCB0byBmYWxzZSBpbW1lZGlhdGVseSBhZnRlciB0aGUgZmlyc3QgY3JlYXRpb24gcnVuIGJlY2F1c2UgaW4gYW5cbiAgICAgICAgLy8gbmdGb3IgbG9vcCwgYWxsIHRoZSB2aWV3cyB3aWxsIGJlIGNyZWF0ZWQgdG9nZXRoZXIgYmVmb3JlIHVwZGF0ZSBtb2RlIHJ1bnMgYW5kIHR1cm5zXG4gICAgICAgIC8vIG9mZiBmaXJzdENyZWF0ZVBhc3MuIElmIHdlIGRvbid0IHNldCBpdCBoZXJlLCBpbnN0YW5jZXMgd2lsbCBwZXJmb3JtIGRpcmVjdGl2ZVxuICAgICAgICAvLyBtYXRjaGluZywgZXRjIGFnYWluIGFuZCBhZ2Fpbi5cbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAgICAgdFZpZXcuZmlyc3RDcmVhdGVQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgcmVzb2x2ZSBjb250ZW50IHF1ZXJpZXMgc3BlY2lmaWNhbGx5IG1hcmtlZCBhcyBgc3RhdGljYCBpbiBjcmVhdGlvbiBtb2RlLiBEeW5hbWljXG4gICAgICAgIC8vIGNvbnRlbnQgcXVlcmllcyBhcmUgcmVzb2x2ZWQgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24gKGkuZS4gdXBkYXRlIG1vZGUpLCBhZnRlciBlbWJlZGRlZFxuICAgICAgICAvLyB2aWV3cyBhcmUgcmVmcmVzaGVkIChzZWUgYmxvY2sgYWJvdmUpLlxuICAgICAgICBpZiAodFZpZXcuc3RhdGljQ29udGVudFF1ZXJpZXMpIHtcbiAgICAgICAgICAgIHJlZnJlc2hDb250ZW50UXVlcmllcyh0VmlldywgbFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG11c3QgbWF0ZXJpYWxpemUgcXVlcnkgcmVzdWx0cyBiZWZvcmUgY2hpbGQgY29tcG9uZW50cyBhcmUgcHJvY2Vzc2VkXG4gICAgICAgIC8vIGluIGNhc2UgYSBjaGlsZCBjb21wb25lbnQgaGFzIHByb2plY3RlZCBhIGNvbnRhaW5lci4gVGhlIExDb250YWluZXIgbmVlZHNcbiAgICAgICAgLy8gdG8gZXhpc3Qgc28gdGhlIGVtYmVkZGVkIHZpZXdzIGFyZSBwcm9wZXJseSBhdHRhY2hlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAgICBpZiAodFZpZXcuc3RhdGljVmlld1F1ZXJpZXMpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVWaWV3UXVlcnlGbigyIC8qIFVwZGF0ZSAqLywgdFZpZXcudmlld1F1ZXJ5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5kZXIgY2hpbGQgY29tcG9uZW50IHZpZXdzLlxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdFZpZXcuY29tcG9uZW50cztcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbmRlckNoaWxkQ29tcG9uZW50cyhsVmlldywgY29tcG9uZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHdlIGRpZG4ndCBtYW5hZ2UgdG8gZ2V0IHBhc3QgdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MgZHVlIHRvXG4gICAgICAgIC8vIGFuIGVycm9yLCBtYXJrIHRoZSB2aWV3IGFzIGNvcnJ1cHRlZCBzbyB3ZSBjYW4gdHJ5IHRvIHJlY292ZXIuXG4gICAgICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgICAgIHRWaWV3LmluY29tcGxldGVGaXJzdFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgdFZpZXcuZmlyc3RDcmVhdGVQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjQgLyogQ3JlYXRpb25Nb2RlICovO1xuICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3NlcyBhIHZpZXcgaW4gdXBkYXRlIG1vZGUuIFRoaXMgaW5jbHVkZXMgYSBudW1iZXIgb2Ygc3RlcHMgaW4gYSBzcGVjaWZpYyBvcmRlcjpcbiAqIC0gZXhlY3V0aW5nIGEgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdXBkYXRlIG1vZGU7XG4gKiAtIGV4ZWN1dGluZyBob29rcztcbiAqIC0gcmVmcmVzaGluZyBxdWVyaWVzO1xuICogLSBzZXR0aW5nIGhvc3QgYmluZGluZ3M7XG4gKiAtIHJlZnJlc2hpbmcgY2hpbGQgKGVtYmVkZGVkIGFuZCBjb21wb25lbnQpIHZpZXdzLlxuICovXG5mdW5jdGlvbiByZWZyZXNoVmlldyh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGNvbnRleHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUobFZpZXcpLCBmYWxzZSwgJ1Nob3VsZCBiZSBydW4gaW4gdXBkYXRlIG1vZGUnKTtcbiAgICBjb25zdCBmbGFncyA9IGxWaWV3W0ZMQUdTXTtcbiAgICBpZiAoKGZsYWdzICYgMjU2IC8qIERlc3Ryb3llZCAqLykgPT09IDI1NiAvKiBEZXN0cm95ZWQgKi8pXG4gICAgICAgIHJldHVybjtcbiAgICBlbnRlclZpZXcobFZpZXcpO1xuICAgIC8vIENoZWNrIG5vIGNoYW5nZXMgbW9kZSBpcyBhIGRldiBvbmx5IG1vZGUgdXNlZCB0byB2ZXJpZnkgdGhhdCBiaW5kaW5ncyBoYXZlIG5vdCBjaGFuZ2VkXG4gICAgLy8gc2luY2UgdGhleSB3ZXJlIGFzc2lnbmVkLiBXZSBkbyBub3Qgd2FudCB0byBleGVjdXRlIGxpZmVjeWNsZSBob29rcyBpbiB0aGF0IG1vZGUuXG4gICAgY29uc3QgaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcyA9IGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKTtcbiAgICB0cnkge1xuICAgICAgICByZXNldFByZU9yZGVySG9va0ZsYWdzKGxWaWV3KTtcbiAgICAgICAgc2V0QmluZGluZ0luZGV4KHRWaWV3LmJpbmRpbmdTdGFydEluZGV4KTtcbiAgICAgICAgaWYgKHRlbXBsYXRlRm4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIDIgLyogVXBkYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob29rc0luaXRQaGFzZUNvbXBsZXRlZCA9IChmbGFncyAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi87XG4gICAgICAgIC8vIGV4ZWN1dGUgcHJlLW9yZGVyIGhvb2tzIChPbkluaXQsIE9uQ2hhbmdlcywgRG9DaGVjaylcbiAgICAgICAgLy8gUEVSRiBXQVJOSU5HOiBkbyBOT1QgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gd2l0aG91dCBydW5uaW5nIGJlbmNobWFya3NcbiAgICAgICAgaWYgKCFpc0luQ2hlY2tOb0NoYW5nZXNQYXNzKSB7XG4gICAgICAgICAgICBpZiAoaG9va3NJbml0UGhhc2VDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVPcmRlckNoZWNrSG9va3MgPSB0Vmlldy5wcmVPcmRlckNoZWNrSG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHByZU9yZGVyQ2hlY2tIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJDaGVja0hvb2tzLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVPcmRlckhvb2tzID0gdFZpZXcucHJlT3JkZXJIb29rcztcbiAgICAgICAgICAgICAgICBpZiAocHJlT3JkZXJIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIHByZU9yZGVySG9va3MsIDAgLyogT25Jbml0SG9va3NUb0JlUnVuICovLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIDAgLyogT25Jbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGaXJzdCBtYXJrIHRyYW5zcGxhbnRlZCB2aWV3cyB0aGF0IGFyZSBkZWNsYXJlZCBpbiB0aGlzIGxWaWV3IGFzIG5lZWRpbmcgYSByZWZyZXNoIGF0IHRoZWlyXG4gICAgICAgIC8vIGluc2VydGlvbiBwb2ludHMuIFRoaXMgaXMgbmVlZGVkIHRvIGF2b2lkIHRoZSBzaXR1YXRpb24gd2hlcmUgdGhlIHRlbXBsYXRlIGlzIGRlZmluZWQgaW4gdGhpc1xuICAgICAgICAvLyBgTFZpZXdgIGJ1dCBpdHMgZGVjbGFyYXRpb24gYXBwZWFycyBhZnRlciB0aGUgaW5zZXJ0aW9uIGNvbXBvbmVudC5cbiAgICAgICAgbWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaChsVmlldyk7XG4gICAgICAgIHJlZnJlc2hFbWJlZGRlZFZpZXdzKGxWaWV3KTtcbiAgICAgICAgLy8gQ29udGVudCBxdWVyeSByZXN1bHRzIG11c3QgYmUgcmVmcmVzaGVkIGJlZm9yZSBjb250ZW50IGhvb2tzIGFyZSBjYWxsZWQuXG4gICAgICAgIGlmICh0Vmlldy5jb250ZW50UXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmcmVzaENvbnRlbnRRdWVyaWVzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSBjb250ZW50IGhvb2tzIChBZnRlckNvbnRlbnRJbml0LCBBZnRlckNvbnRlbnRDaGVja2VkKVxuICAgICAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRDaGVja0hvb2tzID0gdFZpZXcuY29udGVudENoZWNrSG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBjb250ZW50Q2hlY2tIb29rcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudEhvb2tzID0gdFZpZXcuY29udGVudEhvb2tzO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50SG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBjb250ZW50SG9va3MsIDEgLyogQWZ0ZXJDb250ZW50SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCAxIC8qIEFmdGVyQ29udGVudEluaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgLy8gUmVmcmVzaCBjaGlsZCBjb21wb25lbnQgdmlld3MuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0Vmlldy5jb21wb25lbnRzO1xuICAgICAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmcmVzaENoaWxkQ29tcG9uZW50cyhsVmlldywgY29tcG9uZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmlldyBxdWVyaWVzIG11c3QgZXhlY3V0ZSBhZnRlciByZWZyZXNoaW5nIGNoaWxkIGNvbXBvbmVudHMgYmVjYXVzZSBhIHRlbXBsYXRlIGluIHRoaXMgdmlld1xuICAgICAgICAvLyBjb3VsZCBiZSBpbnNlcnRlZCBpbiBhIGNoaWxkIGNvbXBvbmVudC4gSWYgdGhlIHZpZXcgcXVlcnkgZXhlY3V0ZXMgYmVmb3JlIGNoaWxkIGNvbXBvbmVudFxuICAgICAgICAvLyByZWZyZXNoLCB0aGUgdGVtcGxhdGUgbWlnaHQgbm90IHlldCBiZSBpbnNlcnRlZC5cbiAgICAgICAgY29uc3Qgdmlld1F1ZXJ5ID0gdFZpZXcudmlld1F1ZXJ5O1xuICAgICAgICBpZiAodmlld1F1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBleGVjdXRlVmlld1F1ZXJ5Rm4oMiAvKiBVcGRhdGUgKi8sIHZpZXdRdWVyeSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSB2aWV3IGhvb2tzIChBZnRlclZpZXdJbml0LCBBZnRlclZpZXdDaGVja2VkKVxuICAgICAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdDaGVja0hvb2tzID0gdFZpZXcudmlld0NoZWNrSG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXdDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCB2aWV3Q2hlY2tIb29rcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld0hvb2tzID0gdFZpZXcudmlld0hvb2tzO1xuICAgICAgICAgICAgICAgIGlmICh2aWV3SG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCB2aWV3SG9va3MsIDIgLyogQWZ0ZXJWaWV3SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEluaXRQaGFzZUZsYWdzKGxWaWV3LCAyIC8qIEFmdGVyVmlld0luaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0Vmlldy5maXJzdFVwZGF0ZVBhc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgd2Ugb25seSBmbGlwIHRoZSBmbGFnIG9uIHN1Y2Nlc3NmdWwgYHJlZnJlc2hWaWV3YCBvbmx5XG4gICAgICAgICAgICAvLyBEb24ndCBkbyB0aGlzIGluIGBmaW5hbGx5YCBibG9jay5cbiAgICAgICAgICAgIC8vIElmIHdlIGRpZCB0aGlzIGluIGBmaW5hbGx5YCBibG9jayB0aGVuIGFuIGV4Y2VwdGlvbiBjb3VsZCBibG9jayB0aGUgZXhlY3V0aW9uIG9mIHN0eWxpbmdcbiAgICAgICAgICAgIC8vIGluc3RydWN0aW9ucyB3aGljaCBpbiB0dXJuIHdvdWxkIGJlIHVuYWJsZSB0byBpbnNlcnQgdGhlbXNlbHZlcyBpbnRvIHRoZSBzdHlsaW5nIGxpbmtlZFxuICAgICAgICAgICAgLy8gbGlzdC4gVGhlIHJlc3VsdCBvZiB0aGlzIHdvdWxkIGJlIHRoYXQgaWYgdGhlIGV4Y2VwdGlvbiB3b3VsZCBub3QgYmUgdGhyb3cgb24gc3Vic2VxdWVudCBDRFxuICAgICAgICAgICAgLy8gdGhlIHN0eWxpbmcgd291bGQgYmUgdW5hYmxlIHRvIHByb2Nlc3MgaXQgZGF0YSBhbmQgcmVmbGVjdCB0byB0aGUgRE9NLlxuICAgICAgICAgICAgdFZpZXcuZmlyc3RVcGRhdGVQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gbm90IHJlc2V0IHRoZSBkaXJ0eSBzdGF0ZSB3aGVuIHJ1bm5pbmcgaW4gY2hlY2sgbm8gY2hhbmdlcyBtb2RlLiBXZSBkb24ndCB3YW50IGNvbXBvbmVudHNcbiAgICAgICAgLy8gdG8gYmVoYXZlIGRpZmZlcmVudGx5IGRlcGVuZGluZyBvbiB3aGV0aGVyIGNoZWNrIG5vIGNoYW5nZXMgaXMgZW5hYmxlZCBvciBub3QuIEZvciBleGFtcGxlOlxuICAgICAgICAvLyBNYXJraW5nIGFuIE9uUHVzaCBjb21wb25lbnQgYXMgZGlydHkgZnJvbSB3aXRoaW4gdGhlIGBuZ0FmdGVyVmlld0luaXRgIGhvb2sgaW4gb3JkZXIgdG9cbiAgICAgICAgLy8gcmVmcmVzaCBhIGBOZ0NsYXNzYCBiaW5kaW5nIHNob3VsZCB3b3JrLiBJZiB3ZSB3b3VsZCByZXNldCB0aGUgZGlydHkgc3RhdGUgaW4gdGhlIGNoZWNrXG4gICAgICAgIC8vIG5vIGNoYW5nZXMgY3ljbGUsIHRoZSBjb21wb25lbnQgd291bGQgYmUgbm90IGJlIGRpcnR5IGZvciB0aGUgbmV4dCB1cGRhdGUgcGFzcy4gVGhpcyB3b3VsZFxuICAgICAgICAvLyBiZSBkaWZmZXJlbnQgaW4gcHJvZHVjdGlvbiBtb2RlIHdoZXJlIHRoZSBjb21wb25lbnQgZGlydHkgc3RhdGUgaXMgbm90IHJlc2V0LlxuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+KDY0IC8qIERpcnR5ICovIHwgOCAvKiBGaXJzdExWaWV3UGFzcyAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxWaWV3W0ZMQUdTXSAmIDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi8pIHtcbiAgICAgICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+MTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLztcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChsVmlld1tQQVJFTlRdLCAtMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGxlYXZlVmlldygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudE9yVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBjb250ZXh0KSB7XG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgY29uc3Qgbm9ybWFsRXhlY3V0aW9uUGF0aCA9ICFpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCk7XG4gICAgY29uc3QgY3JlYXRpb25Nb2RlSXNBY3RpdmUgPSBpc0NyZWF0aW9uTW9kZShsVmlldyk7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5vcm1hbEV4ZWN1dGlvblBhdGggJiYgIWNyZWF0aW9uTW9kZUlzQWN0aXZlICYmIHJlbmRlcmVyRmFjdG9yeS5iZWdpbikge1xuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWF0aW9uTW9kZUlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZW5kZXJWaWV3KHRWaWV3LCBsVmlldywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVmcmVzaFZpZXcodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmIChub3JtYWxFeGVjdXRpb25QYXRoICYmICFjcmVhdGlvbk1vZGVJc0FjdGl2ZSAmJiByZW5kZXJlckZhY3RvcnkuZW5kKSB7XG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCByZiwgY29udGV4dCkge1xuICAgIGNvbnN0IHByZXZTZWxlY3RlZEluZGV4ID0gZ2V0U2VsZWN0ZWRJbmRleCgpO1xuICAgIGNvbnN0IGlzVXBkYXRlUGhhc2UgPSByZiAmIDIgLyogVXBkYXRlICovO1xuICAgIHRyeSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xuICAgICAgICBpZiAoaXNVcGRhdGVQaGFzZSAmJiBsVmlldy5sZW5ndGggPiBIRUFERVJfT0ZGU0VUKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlJ3JlIHVwZGF0aW5nLCBpbmhlcmVudGx5IHNlbGVjdCAwIHNvIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBoYXZlIHRvIGdlbmVyYXRlIHRoYXQgaW5zdHJ1Y3Rpb24gZm9yIG1vc3QgdXBkYXRlIGJsb2Nrcy5cbiAgICAgICAgICAgIHNlbGVjdEluZGV4SW50ZXJuYWwodFZpZXcsIGxWaWV3LCBIRUFERVJfT0ZGU0VULCBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZUhvb2tUeXBlID0gaXNVcGRhdGVQaGFzZSA/IDIgLyogVGVtcGxhdGVVcGRhdGVTdGFydCAqLyA6IDAgLyogVGVtcGxhdGVDcmVhdGVTdGFydCAqLztcbiAgICAgICAgcHJvZmlsZXIocHJlSG9va1R5cGUsIGNvbnRleHQpO1xuICAgICAgICB0ZW1wbGF0ZUZuKHJmLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgocHJldlNlbGVjdGVkSW5kZXgpO1xuICAgICAgICBjb25zdCBwb3N0SG9va1R5cGUgPSBpc1VwZGF0ZVBoYXNlID8gMyAvKiBUZW1wbGF0ZVVwZGF0ZUVuZCAqLyA6IDEgLyogVGVtcGxhdGVDcmVhdGVFbmQgKi87XG4gICAgICAgIHByb2ZpbGVyKHBvc3RIb29rVHlwZSwgY29udGV4dCk7XG4gICAgfVxufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gRWxlbWVudFxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGV4ZWN1dGVDb250ZW50UXVlcmllcyh0VmlldywgdE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgY29uc3QgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgICAgICBmb3IgKGxldCBkaXJlY3RpdmVJbmRleCA9IHN0YXJ0OyBkaXJlY3RpdmVJbmRleCA8IGVuZDsgZGlyZWN0aXZlSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtkaXJlY3RpdmVJbmRleF07XG4gICAgICAgICAgICBpZiAoZGVmLmNvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgICAgICAgICAgZGVmLmNvbnRlbnRRdWVyaWVzKDEgLyogQ3JlYXRlICovLCBsVmlld1tkaXJlY3RpdmVJbmRleF0sIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBkaXJlY3RpdmUgaW5zdGFuY2VzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpIHtcbiAgICBpZiAoIWdldEJpbmRpbmdzRW5hYmxlZCgpKVxuICAgICAgICByZXR1cm47XG4gICAgaW5zdGFudGlhdGVBbGxEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KSk7XG4gICAgaWYgKCh0Tm9kZS5mbGFncyAmIDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi8pID09PSAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZXNIb3N0QmluZGluZ3ModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBUYWtlcyBhIGxpc3Qgb2YgbG9jYWwgbmFtZXMgYW5kIGluZGljZXMgYW5kIHB1c2hlcyB0aGUgcmVzb2x2ZWQgbG9jYWwgdmFyaWFibGUgdmFsdWVzXG4gKiB0byBMVmlldyBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGV5IGFyZSBsb2FkZWQgaW4gdGhlIHRlbXBsYXRlIHdpdGggbG9hZCgpLlxuICovXG5mdW5jdGlvbiBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEodmlld0RhdGEsIHROb2RlLCBsb2NhbFJlZkV4dHJhY3RvciA9IGdldE5hdGl2ZUJ5VE5vZGUpIHtcbiAgICBjb25zdCBsb2NhbE5hbWVzID0gdE5vZGUubG9jYWxOYW1lcztcbiAgICBpZiAobG9jYWxOYW1lcyAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgbG9jYWxJbmRleCA9IHROb2RlLmluZGV4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbE5hbWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvY2FsTmFtZXNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRleCA9PT0gLTEgP1xuICAgICAgICAgICAgICAgIGxvY2FsUmVmRXh0cmFjdG9yKHROb2RlLCB2aWV3RGF0YSkgOlxuICAgICAgICAgICAgICAgIHZpZXdEYXRhW2luZGV4XTtcbiAgICAgICAgICAgIHZpZXdEYXRhW2xvY2FsSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2V0cyBUVmlldyBmcm9tIGEgdGVtcGxhdGUgZnVuY3Rpb24gb3IgY3JlYXRlcyBhIG5ldyBUVmlld1xuICogaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxuICpcbiAqIEBwYXJhbSBkZWYgQ29tcG9uZW50RGVmXG4gKiBAcmV0dXJucyBUVmlld1xuICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3KGRlZikge1xuICAgIGNvbnN0IHRWaWV3ID0gZGVmLnRWaWV3O1xuICAgIC8vIENyZWF0ZSBhIFRWaWV3IGlmIHRoZXJlIGlzbid0IG9uZSwgb3IgcmVjcmVhdGUgaXQgaWYgdGhlIGZpcnN0IGNyZWF0ZSBwYXNzIGRpZG4ndFxuICAgIC8vIGNvbXBsZXRlIHN1Y2Nlc3NmdWxseSBzaW5jZSB3ZSBjYW4ndCBrbm93IGZvciBzdXJlIHdoZXRoZXIgaXQncyBpbiBhIHVzYWJsZSBzaGFwZS5cbiAgICBpZiAodFZpZXcgPT09IG51bGwgfHwgdFZpZXcuaW5jb21wbGV0ZUZpcnN0UGFzcykge1xuICAgICAgICAvLyBEZWNsYXJhdGlvbiBub2RlIGhlcmUgaXMgbnVsbCBzaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHdlIGR5bmFtaWNhbGx5IGNyZWF0ZSBhXG4gICAgICAgIC8vIGNvbXBvbmVudCBhbmQgaGVuY2UgdGhlcmUgaXMgbm8gZGVjbGFyYXRpb24uXG4gICAgICAgIGNvbnN0IGRlY2xUTm9kZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBkZWYudFZpZXcgPSBjcmVhdGVUVmlldygxIC8qIENvbXBvbmVudCAqLywgZGVjbFROb2RlLCBkZWYudGVtcGxhdGUsIGRlZi5kZWNscywgZGVmLnZhcnMsIGRlZi5kaXJlY3RpdmVEZWZzLCBkZWYucGlwZURlZnMsIGRlZi52aWV3UXVlcnksIGRlZi5zY2hlbWFzLCBkZWYuY29uc3RzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRWaWV3O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVFZpZXcgaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGBUVmlld2AuXG4gKiBAcGFyYW0gZGVjbFROb2RlIERlY2xhcmF0aW9uIGxvY2F0aW9uIG9mIHRoaXMgYFRWaWV3YC5cbiAqIEBwYXJhbSB0ZW1wbGF0ZUZuIFRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcGFyYW0gZGVjbHMgVGhlIG51bWJlciBvZiBub2RlcywgbG9jYWwgcmVmcywgYW5kIHBpcGVzIGluIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSBkaXJlY3RpdmVzIFJlZ2lzdHJ5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIHBpcGVzIFJlZ2lzdHJ5IG9mIHBpcGVzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSB2aWV3UXVlcnkgVmlldyBxdWVyaWVzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSBzY2hlbWFzIFNjaGVtYXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIGNvbnN0cyBDb25zdGFudHMgZm9yIHRoaXMgdmlld1xuICovXG5mdW5jdGlvbiBjcmVhdGVUVmlldyh0eXBlLCBkZWNsVE5vZGUsIHRlbXBsYXRlRm4sIGRlY2xzLCB2YXJzLCBkaXJlY3RpdmVzLCBwaXBlcywgdmlld1F1ZXJ5LCBzY2hlbWFzLCBjb25zdHNPckZhY3RvcnkpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnRWaWV3Kys7XG4gICAgY29uc3QgYmluZGluZ1N0YXJ0SW5kZXggPSBIRUFERVJfT0ZGU0VUICsgZGVjbHM7XG4gICAgLy8gVGhpcyBsZW5ndGggZG9lcyBub3QgeWV0IGNvbnRhaW4gaG9zdCBiaW5kaW5ncyBmcm9tIGNoaWxkIGRpcmVjdGl2ZXMgYmVjYXVzZSBhdCB0aGlzIHBvaW50LFxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggZGlyZWN0aXZlcyBhcmUgYWN0aXZlIG9uIHRoaXMgdGVtcGxhdGUuIEFzIHNvb24gYXMgYSBkaXJlY3RpdmUgaXMgbWF0Y2hlZFxuICAgIC8vIHRoYXQgaGFzIGEgaG9zdCBiaW5kaW5nLCB3ZSB3aWxsIHVwZGF0ZSB0aGUgYmx1ZXByaW50IHdpdGggdGhhdCBkZWYncyBob3N0VmFycyBjb3VudC5cbiAgICBjb25zdCBpbml0aWFsVmlld0xlbmd0aCA9IGJpbmRpbmdTdGFydEluZGV4ICsgdmFycztcbiAgICBjb25zdCBibHVlcHJpbnQgPSBjcmVhdGVWaWV3Qmx1ZXByaW50KGJpbmRpbmdTdGFydEluZGV4LCBpbml0aWFsVmlld0xlbmd0aCk7XG4gICAgY29uc3QgY29uc3RzID0gdHlwZW9mIGNvbnN0c09yRmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnN0c09yRmFjdG9yeSgpIDogY29uc3RzT3JGYWN0b3J5O1xuICAgIGNvbnN0IHRWaWV3ID0gYmx1ZXByaW50W1RWSUVXXSA9IG5nRGV2TW9kZSA/XG4gICAgICAgIG5ldyBUVmlld0NvbnN0cnVjdG9yKHR5cGUsIC8vIHR5cGU6IFRWaWV3VHlwZSxcbiAgICAgICAgYmx1ZXByaW50LCAvLyBibHVlcHJpbnQ6IExWaWV3LFxuICAgICAgICB0ZW1wbGF0ZUZuLCAvLyB0ZW1wbGF0ZTogQ29tcG9uZW50VGVtcGxhdGU8e30+fG51bGwsXG4gICAgICAgIG51bGwsIC8vIHF1ZXJpZXM6IFRRdWVyaWVzfG51bGxcbiAgICAgICAgdmlld1F1ZXJ5LCAvLyB2aWV3UXVlcnk6IFZpZXdRdWVyaWVzRnVuY3Rpb248e30+fG51bGwsXG4gICAgICAgIGRlY2xUTm9kZSwgLy8gZGVjbFROb2RlOiBUTm9kZXxudWxsLFxuICAgICAgICBjbG9uZVRvVFZpZXdEYXRhKGJsdWVwcmludCkuZmlsbChudWxsLCBiaW5kaW5nU3RhcnRJbmRleCksIC8vIGRhdGE6IFREYXRhLFxuICAgICAgICBiaW5kaW5nU3RhcnRJbmRleCwgLy8gYmluZGluZ1N0YXJ0SW5kZXg6IG51bWJlcixcbiAgICAgICAgaW5pdGlhbFZpZXdMZW5ndGgsIC8vIGV4cGFuZG9TdGFydEluZGV4OiBudW1iZXIsXG4gICAgICAgIG51bGwsIC8vIGhvc3RCaW5kaW5nT3BDb2RlczogSG9zdEJpbmRpbmdPcENvZGVzLFxuICAgICAgICB0cnVlLCAvLyBmaXJzdENyZWF0ZVBhc3M6IGJvb2xlYW4sXG4gICAgICAgIHRydWUsIC8vIGZpcnN0VXBkYXRlUGFzczogYm9vbGVhbixcbiAgICAgICAgZmFsc2UsIC8vIHN0YXRpY1ZpZXdRdWVyaWVzOiBib29sZWFuLFxuICAgICAgICBmYWxzZSwgLy8gc3RhdGljQ29udGVudFF1ZXJpZXM6IGJvb2xlYW4sXG4gICAgICAgIG51bGwsIC8vIHByZU9yZGVySG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIHByZU9yZGVyQ2hlY2tIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29udGVudEhvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb250ZW50Q2hlY2tIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gdmlld0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyB2aWV3Q2hlY2tIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gZGVzdHJveUhvb2tzOiBEZXN0cm95SG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY2xlYW51cDogYW55W118bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29udGVudFF1ZXJpZXM6IG51bWJlcltdfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNvbXBvbmVudHM6IG51bWJlcltdfG51bGwsXG4gICAgICAgIHR5cGVvZiBkaXJlY3RpdmVzID09PSAnZnVuY3Rpb24nID8gLy9cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMoKSA6IC8vXG4gICAgICAgICAgICBkaXJlY3RpdmVzLCAvLyBkaXJlY3RpdmVSZWdpc3RyeTogRGlyZWN0aXZlRGVmTGlzdHxudWxsLFxuICAgICAgICB0eXBlb2YgcGlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlcygpIDogcGlwZXMsIC8vIHBpcGVSZWdpc3RyeTogUGlwZURlZkxpc3R8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gZmlyc3RDaGlsZDogVE5vZGV8bnVsbCxcbiAgICAgICAgc2NoZW1hcywgLy8gc2NoZW1hczogU2NoZW1hTWV0YWRhdGFbXXxudWxsLFxuICAgICAgICBjb25zdHMsIC8vIGNvbnN0czogVENvbnN0YW50c3xudWxsXG4gICAgICAgIGZhbHNlLCAvLyBpbmNvbXBsZXRlRmlyc3RQYXNzOiBib29sZWFuXG4gICAgICAgIGRlY2xzLCAvLyBuZ0Rldk1vZGUgb25seTogZGVjbHNcbiAgICAgICAgdmFycykgOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgYmx1ZXByaW50OiBibHVlcHJpbnQsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVGbixcbiAgICAgICAgICAgIHF1ZXJpZXM6IG51bGwsXG4gICAgICAgICAgICB2aWV3UXVlcnk6IHZpZXdRdWVyeSxcbiAgICAgICAgICAgIGRlY2xUTm9kZTogZGVjbFROb2RlLFxuICAgICAgICAgICAgZGF0YTogYmx1ZXByaW50LnNsaWNlKCkuZmlsbChudWxsLCBiaW5kaW5nU3RhcnRJbmRleCksXG4gICAgICAgICAgICBiaW5kaW5nU3RhcnRJbmRleDogYmluZGluZ1N0YXJ0SW5kZXgsXG4gICAgICAgICAgICBleHBhbmRvU3RhcnRJbmRleDogaW5pdGlhbFZpZXdMZW5ndGgsXG4gICAgICAgICAgICBob3N0QmluZGluZ09wQ29kZXM6IG51bGwsXG4gICAgICAgICAgICBmaXJzdENyZWF0ZVBhc3M6IHRydWUsXG4gICAgICAgICAgICBmaXJzdFVwZGF0ZVBhc3M6IHRydWUsXG4gICAgICAgICAgICBzdGF0aWNWaWV3UXVlcmllczogZmFsc2UsXG4gICAgICAgICAgICBzdGF0aWNDb250ZW50UXVlcmllczogZmFsc2UsXG4gICAgICAgICAgICBwcmVPcmRlckhvb2tzOiBudWxsLFxuICAgICAgICAgICAgcHJlT3JkZXJDaGVja0hvb2tzOiBudWxsLFxuICAgICAgICAgICAgY29udGVudEhvb2tzOiBudWxsLFxuICAgICAgICAgICAgY29udGVudENoZWNrSG9va3M6IG51bGwsXG4gICAgICAgICAgICB2aWV3SG9va3M6IG51bGwsXG4gICAgICAgICAgICB2aWV3Q2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgICAgIGRlc3Ryb3lIb29rczogbnVsbCxcbiAgICAgICAgICAgIGNsZWFudXA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50UXVlcmllczogbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgICAgICAgICBkaXJlY3RpdmVSZWdpc3RyeTogdHlwZW9mIGRpcmVjdGl2ZXMgPT09ICdmdW5jdGlvbicgPyBkaXJlY3RpdmVzKCkgOiBkaXJlY3RpdmVzLFxuICAgICAgICAgICAgcGlwZVJlZ2lzdHJ5OiB0eXBlb2YgcGlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlcygpIDogcGlwZXMsXG4gICAgICAgICAgICBmaXJzdENoaWxkOiBudWxsLFxuICAgICAgICAgICAgc2NoZW1hczogc2NoZW1hcyxcbiAgICAgICAgICAgIGNvbnN0czogY29uc3RzLFxuICAgICAgICAgICAgaW5jb21wbGV0ZUZpcnN0UGFzczogZmFsc2VcbiAgICAgICAgfTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSB0VmlldyByZXRhaW5zIHRoZSBzYW1lIHNoYXBlIGR1cmluZyBydW50aW1lLlxuICAgICAgICAvLyAoVG8gbWFrZSBzdXJlIHRoYXQgYWxsIG9mIHRoZSBjb2RlIGlzIG1vbm9tb3JwaGljLikgRm9yIHRoaXMgcmVhc29uIHdlIHNlYWwgdGhlIG9iamVjdCB0b1xuICAgICAgICAvLyBwcmV2ZW50IGNsYXNzIHRyYW5zaXRpb25zLlxuICAgICAgICBPYmplY3Quc2VhbCh0Vmlldyk7XG4gICAgfVxuICAgIHJldHVybiB0Vmlldztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdCbHVlcHJpbnQoYmluZGluZ1N0YXJ0SW5kZXgsIGluaXRpYWxWaWV3TGVuZ3RoKSB7XG4gICAgY29uc3QgYmx1ZXByaW50ID0gbmdEZXZNb2RlID8gbmV3IExWaWV3Qmx1ZXByaW50KCkgOiBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxWaWV3TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmx1ZXByaW50LnB1c2goaSA8IGJpbmRpbmdTdGFydEluZGV4ID8gbnVsbCA6IE5PX0NIQU5HRSk7XG4gICAgfVxuICAgIHJldHVybiBibHVlcHJpbnQ7XG59XG5mdW5jdGlvbiBjcmVhdGVFcnJvcih0ZXh0LCB0b2tlbikge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYFJlbmRlcmVyOiAke3RleHR9IFske3N0cmluZ2lmeUZvckVycm9yKHRva2VuKX1dYCk7XG59XG5mdW5jdGlvbiBhc3NlcnRIb3N0Tm9kZUV4aXN0cyhyRWxlbWVudCwgZWxlbWVudE9yU2VsZWN0b3IpIHtcbiAgICBpZiAoIXJFbGVtZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudE9yU2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSG9zdCBub2RlIHdpdGggc2VsZWN0b3Igbm90IGZvdW5kOicsIGVsZW1lbnRPclNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdIb3N0IG5vZGUgaXMgcmVxdWlyZWQ6JywgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBob3N0IG5hdGl2ZSBlbGVtZW50LCB1c2VkIGZvciBib290c3RyYXBwaW5nIGV4aXN0aW5nIG5vZGVzIGludG8gcmVuZGVyaW5nIHBpcGVsaW5lLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgcmVuZGVyZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0gZWxlbWVudE9yU2VsZWN0b3IgUmVuZGVyIGVsZW1lbnQgb3IgQ1NTIHNlbGVjdG9yIHRvIGxvY2F0ZSB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBlbmNhcHN1bGF0aW9uIFZpZXcgRW5jYXBzdWxhdGlvbiBkZWZpbmVkIGZvciBjb21wb25lbnQgdGhhdCByZXF1ZXN0cyBob3N0IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGxvY2F0ZUhvc3RFbGVtZW50KHJlbmRlcmVyLCBlbGVtZW50T3JTZWxlY3RvciwgZW5jYXBzdWxhdGlvbikge1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgLy8gV2hlbiB1c2luZyBuYXRpdmUgU2hhZG93IERPTSwgZG8gbm90IGNsZWFyIGhvc3QgZWxlbWVudCB0byBhbGxvdyBuYXRpdmUgc2xvdCBwcm9qZWN0aW9uXG4gICAgICAgIGNvbnN0IHByZXNlcnZlQ29udGVudCA9IGVuY2Fwc3VsYXRpb24gPT09IFZpZXdFbmNhcHN1bGF0aW9uJDEuU2hhZG93RG9tO1xuICAgICAgICByZXR1cm4gcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQoZWxlbWVudE9yU2VsZWN0b3IsIHByZXNlcnZlQ29udGVudCk7XG4gICAgfVxuICAgIGxldCByRWxlbWVudCA9IHR5cGVvZiBlbGVtZW50T3JTZWxlY3RvciA9PT0gJ3N0cmluZycgP1xuICAgICAgICByZW5kZXJlci5xdWVyeVNlbGVjdG9yKGVsZW1lbnRPclNlbGVjdG9yKSA6XG4gICAgICAgIGVsZW1lbnRPclNlbGVjdG9yO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIb3N0Tm9kZUV4aXN0cyhyRWxlbWVudCwgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgIC8vIEFsd2F5cyBjbGVhciBob3N0IGVsZW1lbnQncyBjb250ZW50IHdoZW4gUmVuZGVyZXIzIGlzIGluIHVzZS4gRm9yIHByb2NlZHVyYWwgcmVuZGVyZXIgY2FzZSB3ZVxuICAgIC8vIG1ha2UgaXQgZGVwZW5kIG9uIHdoZXRoZXIgU2hhZG93RG9tIGVuY2Fwc3VsYXRpb24gaXMgdXNlZCAoaW4gd2hpY2ggY2FzZSB0aGUgY29udGVudCBzaG91bGQgYmVcbiAgICAvLyBwcmVzZXJ2ZWQgdG8gYWxsb3cgbmF0aXZlIHNsb3QgcHJvamVjdGlvbikuIFNoYWRvd0RvbSBlbmNhcHN1bGF0aW9uIHJlcXVpcmVzIHByb2NlZHVyYWxcbiAgICAvLyByZW5kZXJlciwgYW5kIHByb2NlZHVyYWwgcmVuZGVyZXIgY2FzZSBpcyBoYW5kbGVkIGFib3ZlLlxuICAgIHJFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgcmV0dXJuIHJFbGVtZW50O1xufVxuLyoqXG4gKiBTYXZlcyBjb250ZXh0IGZvciB0aGlzIGNsZWFudXAgZnVuY3Rpb24gaW4gTFZpZXcuY2xlYW51cEluc3RhbmNlcy5cbiAqXG4gKiBPbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcywgc2F2ZXMgaW4gVFZpZXc6XG4gKiAtIENsZWFudXAgZnVuY3Rpb25cbiAqIC0gSW5kZXggb2YgY29udGV4dCB3ZSBqdXN0IHNhdmVkIGluIExWaWV3LmNsZWFudXBJbnN0YW5jZXNcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3RvcmUgaW5zdGFuY2Ugc3BlY2lmaWMgY2xlYW51cCBmbnMuIEluIHRoYXQgY2FzZSB0aGUgYGNvbnRleHRgXG4gKiBpcyBgbnVsbGAgYW5kIHRoZSBmdW5jdGlvbiBpcyBzdG9yZSBpbiBgTFZpZXdgIChyYXRoZXIgdGhhbiBpdCBgVFZpZXdgKS5cbiAqL1xuZnVuY3Rpb24gc3RvcmVDbGVhbnVwV2l0aENvbnRleHQodFZpZXcsIGxWaWV3LCBjb250ZXh0LCBjbGVhbnVwRm4pIHtcbiAgICBjb25zdCBsQ2xlYW51cCA9IGdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwKGxWaWV3KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJZiBjb250ZXh0IGlzIG51bGwgdGhhdCB0aGlzIGlzIGluc3RhbmNlIHNwZWNpZmljIGNhbGxiYWNrLiBUaGVzZSBjYWxsYmFja3MgY2FuIG9ubHkgYmVcbiAgICAgICAgLy8gaW5zZXJ0ZWQgYWZ0ZXIgdGVtcGxhdGUgc2hhcmVkIGluc3RhbmNlcy4gRm9yIHRoaXMgcmVhc29uIGluIG5nRGV2TW9kZSB3ZSBmcmVlemUgdGhlIFRWaWV3LlxuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKGdldE9yQ3JlYXRlVFZpZXdDbGVhbnVwKHRWaWV3KSk7XG4gICAgICAgIH1cbiAgICAgICAgbENsZWFudXAucHVzaChjbGVhbnVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbENsZWFudXAucHVzaChjb250ZXh0KTtcbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAgICAgZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpLnB1c2goY2xlYW51cEZuLCBsQ2xlYW51cC5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVROb2RlKHRWaWV3LCB0UGFyZW50LCB0eXBlLCBpbmRleCwgdmFsdWUsIGF0dHJzKSB7XG4gICAgbmdEZXZNb2RlICYmIGluZGV4ICE9PSAwICYmIC8vIDAgYXJlIGJvZ3VzIG5vZGVzIGFuZCB0aGV5IGFyZSBPSy4gU2VlIGBjcmVhdGVDb250YWluZXJSZWZgIGluXG4gICAgICAgIC8vIGB2aWV3X2VuZ2luZV9jb21wYXRpYmlsaXR5YCBmb3IgYWRkaXRpb25hbCBjb250ZXh0LlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdUTm9kZXMgY2FuXFwndCBiZSBpbiB0aGUgTFZpZXcgaGVhZGVyLicpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKGF0dHJzLCB1bmRlZmluZWQsICdcXCd1bmRlZmluZWRcXCcgaXMgbm90IHZhbGlkIHZhbHVlIGZvciBcXCdhdHRyc1xcJycpO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUudE5vZGUrKztcbiAgICBuZ0Rldk1vZGUgJiYgdFBhcmVudCAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHRQYXJlbnQsIHRWaWV3KTtcbiAgICBsZXQgaW5qZWN0b3JJbmRleCA9IHRQYXJlbnQgPyB0UGFyZW50LmluamVjdG9ySW5kZXggOiAtMTtcbiAgICBjb25zdCB0Tm9kZSA9IG5nRGV2TW9kZSA/XG4gICAgICAgIG5ldyBUTm9kZURlYnVnKHRWaWV3LCAvLyB0Vmlld186IFRWaWV3XG4gICAgICAgIHR5cGUsIC8vIHR5cGU6IFROb2RlVHlwZVxuICAgICAgICBpbmRleCwgLy8gaW5kZXg6IG51bWJlclxuICAgICAgICBudWxsLCAvLyBpbnNlcnRCZWZvcmVJbmRleDogbnVsbHwtMXxudW1iZXJ8bnVtYmVyW11cbiAgICAgICAgaW5qZWN0b3JJbmRleCwgLy8gaW5qZWN0b3JJbmRleDogbnVtYmVyXG4gICAgICAgIC0xLCAvLyBkaXJlY3RpdmVTdGFydDogbnVtYmVyXG4gICAgICAgIC0xLCAvLyBkaXJlY3RpdmVFbmQ6IG51bWJlclxuICAgICAgICAtMSwgLy8gZGlyZWN0aXZlU3R5bGluZ0xhc3Q6IG51bWJlclxuICAgICAgICBudWxsLCAvLyBwcm9wZXJ0eUJpbmRpbmdzOiBudW1iZXJbXXxudWxsXG4gICAgICAgIDAsIC8vIGZsYWdzOiBUTm9kZUZsYWdzXG4gICAgICAgIDAsIC8vIHByb3ZpZGVySW5kZXhlczogVE5vZGVQcm92aWRlckluZGV4ZXNcbiAgICAgICAgdmFsdWUsIC8vIHZhbHVlOiBzdHJpbmd8bnVsbFxuICAgICAgICBhdHRycywgLy8gYXR0cnM6IChzdHJpbmd8QXR0cmlidXRlTWFya2VyfChzdHJpbmd8U2VsZWN0b3JGbGFncylbXSlbXXxudWxsXG4gICAgICAgIG51bGwsIC8vIG1lcmdlZEF0dHJzXG4gICAgICAgIG51bGwsIC8vIGxvY2FsTmFtZXM6IChzdHJpbmd8bnVtYmVyKVtdfG51bGxcbiAgICAgICAgdW5kZWZpbmVkLCAvLyBpbml0aWFsSW5wdXRzOiAoc3RyaW5nW118bnVsbClbXXxudWxsfHVuZGVmaW5lZFxuICAgICAgICBudWxsLCAvLyBpbnB1dHM6IFByb3BlcnR5QWxpYXNlc3xudWxsXG4gICAgICAgIG51bGwsIC8vIG91dHB1dHM6IFByb3BlcnR5QWxpYXNlc3xudWxsXG4gICAgICAgIG51bGwsIC8vIHRWaWV3czogSVRWaWV3fElUVmlld1tdfG51bGxcbiAgICAgICAgbnVsbCwgLy8gbmV4dDogSVROb2RlfG51bGxcbiAgICAgICAgbnVsbCwgLy8gcHJvamVjdGlvbk5leHQ6IElUTm9kZXxudWxsXG4gICAgICAgIG51bGwsIC8vIGNoaWxkOiBJVE5vZGV8bnVsbFxuICAgICAgICB0UGFyZW50LCAvLyBwYXJlbnQ6IFRFbGVtZW50Tm9kZXxUQ29udGFpbmVyTm9kZXxudWxsXG4gICAgICAgIG51bGwsIC8vIHByb2plY3Rpb246IG51bWJlcnwoSVROb2RlfFJOb2RlW10pW118bnVsbFxuICAgICAgICBudWxsLCAvLyBzdHlsZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIG51bGwsIC8vIHN0eWxlc1dpdGhvdXRIb3N0OiBzdHJpbmd8bnVsbFxuICAgICAgICB1bmRlZmluZWQsIC8vIHJlc2lkdWFsU3R5bGVzOiBzdHJpbmd8bnVsbFxuICAgICAgICBudWxsLCAvLyBjbGFzc2VzOiBzdHJpbmd8bnVsbFxuICAgICAgICBudWxsLCAvLyBjbGFzc2VzV2l0aG91dEhvc3Q6IHN0cmluZ3xudWxsXG4gICAgICAgIHVuZGVmaW5lZCwgLy8gcmVzaWR1YWxDbGFzc2VzOiBzdHJpbmd8bnVsbFxuICAgICAgICAwLCAvLyBjbGFzc0JpbmRpbmdzOiBUU3R5bGluZ1JhbmdlO1xuICAgICAgICAwKSA6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGluc2VydEJlZm9yZUluZGV4OiBudWxsLFxuICAgICAgICAgICAgaW5qZWN0b3JJbmRleCxcbiAgICAgICAgICAgIGRpcmVjdGl2ZVN0YXJ0OiAtMSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZUVuZDogLTEsXG4gICAgICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdDogLTEsXG4gICAgICAgICAgICBwcm9wZXJ0eUJpbmRpbmdzOiBudWxsLFxuICAgICAgICAgICAgZmxhZ3M6IDAsXG4gICAgICAgICAgICBwcm92aWRlckluZGV4ZXM6IDAsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBhdHRyczogYXR0cnMsXG4gICAgICAgICAgICBtZXJnZWRBdHRyczogbnVsbCxcbiAgICAgICAgICAgIGxvY2FsTmFtZXM6IG51bGwsXG4gICAgICAgICAgICBpbml0aWFsSW5wdXRzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpbnB1dHM6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXRzOiBudWxsLFxuICAgICAgICAgICAgdFZpZXdzOiBudWxsLFxuICAgICAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgICAgIHByb2plY3Rpb25OZXh0OiBudWxsLFxuICAgICAgICAgICAgY2hpbGQ6IG51bGwsXG4gICAgICAgICAgICBwYXJlbnQ6IHRQYXJlbnQsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBudWxsLFxuICAgICAgICAgICAgc3R5bGVzOiBudWxsLFxuICAgICAgICAgICAgc3R5bGVzV2l0aG91dEhvc3Q6IG51bGwsXG4gICAgICAgICAgICByZXNpZHVhbFN0eWxlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzZXNXaXRob3V0SG9zdDogbnVsbCxcbiAgICAgICAgICAgIHJlc2lkdWFsQ2xhc3NlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2xhc3NCaW5kaW5nczogMCxcbiAgICAgICAgICAgIHN0eWxlQmluZGluZ3M6IDAsXG4gICAgICAgIH07XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgdE5vZGUgcmV0YWlucyB0aGUgc2FtZSBzaGFwZSBkdXJpbmcgcnVudGltZS5cbiAgICAgICAgLy8gKFRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBvZiB0aGUgY29kZSBpcyBtb25vbW9ycGhpYy4pIEZvciB0aGlzIHJlYXNvbiB3ZSBzZWFsIHRoZSBvYmplY3QgdG9cbiAgICAgICAgLy8gcHJldmVudCBjbGFzcyB0cmFuc2l0aW9ucy5cbiAgICAgICAgT2JqZWN0LnNlYWwodE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyhpbnB1dEFsaWFzTWFwLCBkaXJlY3RpdmVEZWZJZHgsIHByb3BTdG9yZSkge1xuICAgIGZvciAobGV0IHB1YmxpY05hbWUgaW4gaW5wdXRBbGlhc01hcCkge1xuICAgICAgICBpZiAoaW5wdXRBbGlhc01hcC5oYXNPd25Qcm9wZXJ0eShwdWJsaWNOYW1lKSkge1xuICAgICAgICAgICAgcHJvcFN0b3JlID0gcHJvcFN0b3JlID09PSBudWxsID8ge30gOiBwcm9wU3RvcmU7XG4gICAgICAgICAgICBjb25zdCBpbnRlcm5hbE5hbWUgPSBpbnB1dEFsaWFzTWFwW3B1YmxpY05hbWVdO1xuICAgICAgICAgICAgaWYgKHByb3BTdG9yZS5oYXNPd25Qcm9wZXJ0eShwdWJsaWNOYW1lKSkge1xuICAgICAgICAgICAgICAgIHByb3BTdG9yZVtwdWJsaWNOYW1lXS5wdXNoKGRpcmVjdGl2ZURlZklkeCwgaW50ZXJuYWxOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIChwcm9wU3RvcmVbcHVibGljTmFtZV0gPSBbZGlyZWN0aXZlRGVmSWR4LCBpbnRlcm5hbE5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcFN0b3JlO1xufVxuLyoqXG4gKiBJbml0aWFsaXplcyBkYXRhIHN0cnVjdHVyZXMgcmVxdWlyZWQgdG8gd29yayB3aXRoIGRpcmVjdGl2ZSBpbnB1dHMgYW5kIG91dHB1dHMuXG4gKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGZvciBhbGwgZGlyZWN0aXZlcyBtYXRjaGVkIG9uIGEgZ2l2ZW4gVE5vZGUuXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVJbnB1dEFuZE91dHB1dEFsaWFzZXModFZpZXcsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgY29uc3QgdFZpZXdEYXRhID0gdFZpZXcuZGF0YTtcbiAgICBjb25zdCB0Tm9kZUF0dHJzID0gdE5vZGUuYXR0cnM7XG4gICAgY29uc3QgaW5wdXRzRnJvbUF0dHJzID0gbmdEZXZNb2RlID8gbmV3IFROb2RlSW5pdGlhbElucHV0cygpIDogW107XG4gICAgbGV0IGlucHV0c1N0b3JlID0gbnVsbDtcbiAgICBsZXQgb3V0cHV0c1N0b3JlID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSB0Vmlld0RhdGFbaV07XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZUlucHV0cyA9IGRpcmVjdGl2ZURlZi5pbnB1dHM7XG4gICAgICAgIC8vIERvIG5vdCB1c2UgdW5ib3VuZCBhdHRyaWJ1dGVzIGFzIGlucHV0cyB0byBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXMsIHNpbmNlIHN0cnVjdHVyYWxcbiAgICAgICAgLy8gZGlyZWN0aXZlIGlucHV0cyBjYW4gb25seSBiZSBzZXQgdXNpbmcgbWljcm9zeW50YXggKGUuZy4gYDxkaXYgKmRpcj1cImV4cFwiPmApLlxuICAgICAgICAvLyBUT0RPKEZXLTE5MzApOiBtaWNyb3N5bnRheCBleHByZXNzaW9ucyBtYXkgYWxzbyBjb250YWluIHVuYm91bmQvc3RhdGljIGF0dHJpYnV0ZXMsIHdoaWNoXG4gICAgICAgIC8vIHNob3VsZCBiZSBzZXQgZm9yIGlubGluZSB0ZW1wbGF0ZXMuXG4gICAgICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSAodE5vZGVBdHRycyAhPT0gbnVsbCAmJiAhaXNJbmxpbmVUZW1wbGF0ZSh0Tm9kZSkpID9cbiAgICAgICAgICAgIGdlbmVyYXRlSW5pdGlhbElucHV0cyhkaXJlY3RpdmVJbnB1dHMsIHROb2RlQXR0cnMpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIGlucHV0c0Zyb21BdHRycy5wdXNoKGluaXRpYWxJbnB1dHMpO1xuICAgICAgICBpbnB1dHNTdG9yZSA9IGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKGRpcmVjdGl2ZUlucHV0cywgaSwgaW5wdXRzU3RvcmUpO1xuICAgICAgICBvdXRwdXRzU3RvcmUgPSBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyhkaXJlY3RpdmVEZWYub3V0cHV0cywgaSwgb3V0cHV0c1N0b3JlKTtcbiAgICB9XG4gICAgaWYgKGlucHV0c1N0b3JlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChpbnB1dHNTdG9yZS5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSkge1xuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gMTYgLyogaGFzQ2xhc3NJbnB1dCAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXRzU3RvcmUuaGFzT3duUHJvcGVydHkoJ3N0eWxlJykpIHtcbiAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDMyIC8qIGhhc1N0eWxlSW5wdXQgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgdE5vZGUuaW5pdGlhbElucHV0cyA9IGlucHV0c0Zyb21BdHRycztcbiAgICB0Tm9kZS5pbnB1dHMgPSBpbnB1dHNTdG9yZTtcbiAgICB0Tm9kZS5vdXRwdXRzID0gb3V0cHV0c1N0b3JlO1xufVxuLyoqXG4gKiBNYXBwaW5nIGJldHdlZW4gYXR0cmlidXRlcyBuYW1lcyB0aGF0IGRvbid0IGNvcnJlc3BvbmQgdG8gdGhlaXIgZWxlbWVudCBwcm9wZXJ0eSBuYW1lcy5cbiAqXG4gKiBQZXJmb3JtYW5jZSBub3RlOiB0aGlzIGZ1bmN0aW9uIGlzIHdyaXR0ZW4gYXMgYSBzZXJpZXMgb2YgaWYgY2hlY2tzIChpbnN0ZWFkIG9mLCBzYXksIGEgcHJvcGVydHlcbiAqIG9iamVjdCBsb29rdXApIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIC0gdGhlIHNlcmllcyBvZiBgaWZgIGNoZWNrcyBzZWVtcyB0byBiZSB0aGUgZmFzdGVzdCB3YXkgb2ZcbiAqIG1hcHBpbmcgcHJvcGVydHkgbmFtZXMuIERvIE5PVCBjaGFuZ2Ugd2l0aG91dCBiZW5jaG1hcmtpbmcuXG4gKlxuICogTm90ZTogdGhpcyBtYXBwaW5nIGhhcyB0byBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgZXF1YWxseSBuYW1lZCBtYXBwaW5nIGluIHRoZSB0ZW1wbGF0ZVxuICogdHlwZS1jaGVja2luZyBtYWNoaW5lcnkgb2Ygbmd0c2MuXG4gKi9cbmZ1bmN0aW9uIG1hcFByb3BOYW1lKG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gJ2NsYXNzJylcbiAgICAgICAgcmV0dXJuICdjbGFzc05hbWUnO1xuICAgIGlmIChuYW1lID09PSAnZm9yJylcbiAgICAgICAgcmV0dXJuICdodG1sRm9yJztcbiAgICBpZiAobmFtZSA9PT0gJ2Zvcm1hY3Rpb24nKVxuICAgICAgICByZXR1cm4gJ2Zvcm1BY3Rpb24nO1xuICAgIGlmIChuYW1lID09PSAnaW5uZXJIdG1sJylcbiAgICAgICAgcmV0dXJuICdpbm5lckhUTUwnO1xuICAgIGlmIChuYW1lID09PSAncmVhZG9ubHknKVxuICAgICAgICByZXR1cm4gJ3JlYWRPbmx5JztcbiAgICBpZiAobmFtZSA9PT0gJ3RhYmluZGV4JylcbiAgICAgICAgcmV0dXJuICd0YWJJbmRleCc7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIHJlbmRlcmVyLCBzYW5pdGl6ZXIsIG5hdGl2ZU9ubHkpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90U2FtZSh2YWx1ZSwgTk9fQ0hBTkdFLCAnSW5jb21pbmcgdmFsdWUgc2hvdWxkIG5ldmVyIGJlIE5PX0NIQU5HRS4nKTtcbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIGxldCBpbnB1dERhdGEgPSB0Tm9kZS5pbnB1dHM7XG4gICAgbGV0IGRhdGFWYWx1ZTtcbiAgICBpZiAoIW5hdGl2ZU9ubHkgJiYgaW5wdXREYXRhICE9IG51bGwgJiYgKGRhdGFWYWx1ZSA9IGlucHV0RGF0YVtwcm9wTmFtZV0pKSB7XG4gICAgICAgIHNldElucHV0c0ZvclByb3BlcnR5KHRWaWV3LCBsVmlldywgZGF0YVZhbHVlLCBwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAoaXNDb21wb25lbnRIb3N0KHROb2RlKSlcbiAgICAgICAgICAgIG1hcmtEaXJ0eUlmT25QdXNoKGxWaWV3LCB0Tm9kZS5pbmRleCk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnRpZXMobFZpZXcsIGVsZW1lbnQsIHROb2RlLnR5cGUsIGRhdGFWYWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB7XG4gICAgICAgIHByb3BOYW1lID0gbWFwUHJvcE5hbWUocHJvcE5hbWUpO1xuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUFnYWluc3RFdmVudFByb3BlcnRpZXMocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVByb3BlcnR5KHRWaWV3LCBlbGVtZW50LCBwcm9wTmFtZSwgdE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGhlcmUgc2luY2Ugd2Ugb25seSBsb2cgd2FybmluZ3MgZm9yIHVua25vd24gcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICBsb2dVbmtub3duUHJvcGVydHlFcnJvcihwcm9wTmFtZSwgdE5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5nRGV2TW9kZS5yZW5kZXJlclNldFByb3BlcnR5Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBzYW5pdGl6ZXIgaXMgb25seSBhZGRlZCB3aGVuIHRoZSBjb21waWxlciBkZXRlcm1pbmVzIHRoYXQgdGhlXG4gICAgICAgIC8vIHByb3BlcnR5IGlzIHJpc2t5LCBzbyBzYW5pdGl6YXRpb24gY2FuIGJlIGRvbmUgd2l0aG91dCBmdXJ0aGVyIGNoZWNrcy5cbiAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZXIgIT0gbnVsbCA/IHNhbml0aXplcih2YWx1ZSwgdE5vZGUudmFsdWUgfHwgJycsIHByb3BOYW1lKSA6IHZhbHVlO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRQcm9wZXJ0eShlbGVtZW50LCBwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc0FuaW1hdGlvblByb3AocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldFByb3BlcnR5ID8gZWxlbWVudC5zZXRQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50W3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAxMiAvKiBBbnlDb250YWluZXIgKi8pIHtcbiAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgYSBjb250YWluZXIgYW5kIHRoZSBwcm9wZXJ0eSBkaWRuJ3RcbiAgICAgICAgLy8gbWF0Y2ggYW55IG9mIHRoZSBpbnB1dHMgb3Igc2NoZW1hcyB3ZSBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgIW1hdGNoaW5nU2NoZW1hcyh0VmlldywgdE5vZGUudmFsdWUpKSB7XG4gICAgICAgICAgICBsb2dVbmtub3duUHJvcGVydHlFcnJvcihwcm9wTmFtZSwgdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIElmIG5vZGUgaXMgYW4gT25QdXNoIGNvbXBvbmVudCwgbWFya3MgaXRzIExWaWV3IGRpcnR5LiAqL1xuZnVuY3Rpb24gbWFya0RpcnR5SWZPblB1c2gobFZpZXcsIHZpZXdJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgY29uc3QgY2hpbGRDb21wb25lbnRMVmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh2aWV3SW5kZXgsIGxWaWV3KTtcbiAgICBpZiAoIShjaGlsZENvbXBvbmVudExWaWV3W0ZMQUdTXSAmIDE2IC8qIENoZWNrQWx3YXlzICovKSkge1xuICAgICAgICBjaGlsZENvbXBvbmVudExWaWV3W0ZMQUdTXSB8PSA2NCAvKiBEaXJ0eSAqLztcbiAgICB9XG59XG5mdW5jdGlvbiBzZXROZ1JlZmxlY3RQcm9wZXJ0eShsVmlldywgZWxlbWVudCwgdHlwZSwgYXR0ck5hbWUsIHZhbHVlKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgYXR0ck5hbWUgPSBub3JtYWxpemVEZWJ1Z0JpbmRpbmdOYW1lKGF0dHJOYW1lKTtcbiAgICBjb25zdCBkZWJ1Z1ZhbHVlID0gbm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUodmFsdWUpO1xuICAgIGlmICh0eXBlICYgMyAvKiBBbnlSTm9kZSAqLykge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lKSA6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID9cbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0ck5hbWUsIGRlYnVnVmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgZGVidWdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZXNjYXBlQ29tbWVudFRleHQoYGJpbmRpbmdzPSR7SlNPTi5zdHJpbmdpZnkoeyBbYXR0ck5hbWVdOiBkZWJ1Z1ZhbHVlIH0sIG51bGwsIDIpfWApO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRWYWx1ZShlbGVtZW50LCB0ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXROZ1JlZmxlY3RQcm9wZXJ0aWVzKGxWaWV3LCBlbGVtZW50LCB0eXBlLCBkYXRhVmFsdWUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDQgLyogQ29udGFpbmVyICovKSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogZGF0YVZhbHVlIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgcnVudGltZSBpbnB1dCBvciBvdXRwdXQgbmFtZXMgZm9yIHRoZSBkaXJlY3RpdmVzOlxuICAgICAgICAgKiBpKzA6IGRpcmVjdGl2ZSBpbnN0YW5jZSBpbmRleFxuICAgICAgICAgKiBpKzE6IHByaXZhdGVOYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIGUuZy4gWzAsICdjaGFuZ2UnLCAnY2hhbmdlLW1pbmlmaWVkJ11cbiAgICAgICAgICogd2Ugd2FudCB0byBzZXQgdGhlIHJlZmxlY3RlZCBwcm9wZXJ0eSB3aXRoIHRoZSBwcml2YXRlTmFtZTogZGF0YVZhbHVlW2krMV1cbiAgICAgICAgICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVZhbHVlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBzZXROZ1JlZmxlY3RQcm9wZXJ0eShsVmlldywgZWxlbWVudCwgdHlwZSwgZGF0YVZhbHVlW2kgKyAxXSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSh0VmlldywgZWxlbWVudCwgcHJvcE5hbWUsIHROb2RlKSB7XG4gICAgLy8gSWYgYHNjaGVtYXNgIGlzIHNldCB0byBgbnVsbGAsIHRoYXQncyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhpcyBDb21wb25lbnQgd2FzIGNvbXBpbGVkIGluIEFPVFxuICAgIC8vIG1vZGUgd2hlcmUgdGhpcyBjaGVjayBoYXBwZW5zIGF0IGNvbXBpbGUgdGltZS4gSW4gSklUIG1vZGUsIGBzY2hlbWFzYCBpcyBhbHdheXMgcHJlc2VudCBhbmRcbiAgICAvLyBkZWZpbmVkIGFzIGFuIGFycmF5IChhcyBhbiBlbXB0eSBhcnJheSBpbiBjYXNlIGBzY2hlbWFzYCBmaWVsZCBpcyBub3QgZGVmaW5lZCkgYW5kIHdlIHNob3VsZFxuICAgIC8vIGV4ZWN1dGUgdGhlIGNoZWNrIGJlbG93LlxuICAgIGlmICh0Vmlldy5zY2hlbWFzID09PSBudWxsKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAvLyBUaGUgcHJvcGVydHkgaXMgY29uc2lkZXJlZCB2YWxpZCBpZiB0aGUgZWxlbWVudCBtYXRjaGVzIHRoZSBzY2hlbWEsIGl0IGV4aXN0cyBvbiB0aGUgZWxlbWVudFxuICAgIC8vIG9yIGl0IGlzIHN5bnRoZXRpYywgYW5kIHdlIGFyZSBpbiBhIGJyb3dzZXIgY29udGV4dCAod2ViIHdvcmtlciBub2RlcyBzaG91bGQgYmUgc2tpcHBlZCkuXG4gICAgaWYgKG1hdGNoaW5nU2NoZW1hcyh0VmlldywgdE5vZGUudmFsdWUpIHx8IHByb3BOYW1lIGluIGVsZW1lbnQgfHwgaXNBbmltYXRpb25Qcm9wKHByb3BOYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gTm90ZTogYHR5cGVvZiBOb2RlYCByZXR1cm5zICdmdW5jdGlvbicgaW4gbW9zdCBicm93c2VycywgYnV0IG9uIElFIGl0IGlzICdvYmplY3QnIHNvIHdlXG4gICAgLy8gbmVlZCB0byBhY2NvdW50IGZvciBib3RoIGhlcmUsIHdoaWxlIGJlaW5nIGNhcmVmdWwgZm9yIGB0eXBlb2YgbnVsbGAgYWxzbyByZXR1cm5pbmcgJ29iamVjdCcuXG4gICAgcmV0dXJuIHR5cGVvZiBOb2RlID09PSAndW5kZWZpbmVkJyB8fCBOb2RlID09PSBudWxsIHx8ICEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpO1xufVxuZnVuY3Rpb24gbWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0YWdOYW1lKSB7XG4gICAgY29uc3Qgc2NoZW1hcyA9IHRWaWV3LnNjaGVtYXM7XG4gICAgaWYgKHNjaGVtYXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzW2ldO1xuICAgICAgICAgICAgaWYgKHNjaGVtYSA9PT0gTk9fRVJST1JTX1NDSEVNQSB8fFxuICAgICAgICAgICAgICAgIHNjaGVtYSA9PT0gQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSAmJiB0YWdOYW1lICYmIHRhZ05hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIExvZ3MgYW4gZXJyb3IgdGhhdCBhIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgb24gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSBwcm9wTmFtZSBOYW1lIG9mIHRoZSBpbnZhbGlkIHByb3BlcnR5LlxuICogQHBhcmFtIHROb2RlIE5vZGUgb24gd2hpY2ggd2UgZW5jb3VudGVyZWQgdGhlIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBsb2dVbmtub3duUHJvcGVydHlFcnJvcihwcm9wTmFtZSwgdE5vZGUpIHtcbiAgICBsZXQgbWVzc2FnZSA9IGBDYW4ndCBiaW5kIHRvICcke3Byb3BOYW1lfScgc2luY2UgaXQgaXNuJ3QgYSBrbm93biBwcm9wZXJ0eSBvZiAnJHt0Tm9kZS52YWx1ZX0nLmA7XG4gICAgY29uc29sZS5lcnJvcihmb3JtYXRSdW50aW1lRXJyb3IoMzAzIC8qIFVOS05PV05fQklORElORyAqLywgbWVzc2FnZSkpO1xufVxuLyoqXG4gKiBJbnN0YW50aWF0ZSBhIHJvb3QgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQodFZpZXcsIGxWaWV3LCBkZWYpIHtcbiAgICBjb25zdCByb290VE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGlmIChkZWYucHJvdmlkZXJzUmVzb2x2ZXIpXG4gICAgICAgICAgICBkZWYucHJvdmlkZXJzUmVzb2x2ZXIoZGVmKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5kZXggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRFcXVhbChkaXJlY3RpdmVJbmRleCwgcm9vdFROb2RlLmRpcmVjdGl2ZVN0YXJ0LCAnQmVjYXVzZSB0aGlzIGlzIGEgcm9vdCBjb21wb25lbnQgdGhlIGFsbG9jYXRlZCBleHBhbmRvIHNob3VsZCBtYXRjaCB0aGUgVE5vZGUgY29tcG9uZW50LicpO1xuICAgICAgICBjb25maWd1cmVWaWV3V2l0aERpcmVjdGl2ZSh0Vmlldywgcm9vdFROb2RlLCBsVmlldywgZGlyZWN0aXZlSW5kZXgsIGRlZik7XG4gICAgfVxuICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCB0Vmlldywgcm9vdFROb2RlLmRpcmVjdGl2ZVN0YXJ0LCByb290VE5vZGUpO1xuICAgIGF0dGFjaFBhdGNoRGF0YShkaXJlY3RpdmUsIGxWaWV3KTtcbiAgICBjb25zdCBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKHJvb3RUTm9kZSwgbFZpZXcpO1xuICAgIGlmIChuYXRpdmUpIHtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xufVxuLyoqXG4gKiBSZXNvbHZlIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb24gYSBub2RlLlxuICovXG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBsb2NhbFJlZnMpIHtcbiAgICAvLyBQbGVhc2UgbWFrZSBzdXJlIHRvIGhhdmUgZXhwbGljaXQgdHlwZSBmb3IgYGV4cG9ydHNNYXBgLiBJbmZlcnJlZCB0eXBlIHRyaWdnZXJzIGJ1ZyBpblxuICAgIC8vIHRzaWNrbGUuXG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgbGV0IGhhc0RpcmVjdGl2ZXMgPSBmYWxzZTtcbiAgICBpZiAoZ2V0QmluZGluZ3NFbmFibGVkKCkpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlRGVmcyA9IGZpbmREaXJlY3RpdmVEZWZNYXRjaGVzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgICAgICBjb25zdCBleHBvcnRzTWFwID0gbG9jYWxSZWZzID09PSBudWxsID8gbnVsbCA6IHsgJyc6IC0xIH07XG4gICAgICAgIGlmIChkaXJlY3RpdmVEZWZzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICAgICAgICAgIGluaXRUTm9kZUZsYWdzKHROb2RlLCB0Vmlldy5kYXRhLmxlbmd0aCwgZGlyZWN0aXZlRGVmcy5sZW5ndGgpO1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgc2FtZSB0b2tlbiBpcyBwcm92aWRlZCBieSBzZXZlcmFsIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWUgbm9kZSwgc29tZSBydWxlcyBhcHBseSBpblxuICAgICAgICAgICAgLy8gdGhlIHZpZXdFbmdpbmU6XG4gICAgICAgICAgICAvLyAtIHZpZXdQcm92aWRlcnMgaGF2ZSBwcmlvcml0eSBvdmVyIHByb3ZpZGVyc1xuICAgICAgICAgICAgLy8gLSB0aGUgbGFzdCBkaXJlY3RpdmUgaW4gTmdNb2R1bGUuZGVjbGFyYXRpb25zIGhhcyBwcmlvcml0eSBvdmVyIHRoZSBwcmV2aW91cyBvbmVcbiAgICAgICAgICAgIC8vIFNvIHRvIG1hdGNoIHRoZXNlIHJ1bGVzLCB0aGUgb3JkZXIgaW4gd2hpY2ggcHJvdmlkZXJzIGFyZSBhZGRlZCBpbiB0aGUgYXJyYXlzIGlzIHZlcnlcbiAgICAgICAgICAgIC8vIGltcG9ydGFudC5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlRGVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IGRpcmVjdGl2ZURlZnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGRlZi5wcm92aWRlcnNSZXNvbHZlcilcbiAgICAgICAgICAgICAgICAgICAgZGVmLnByb3ZpZGVyc1Jlc29sdmVyKGRlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHJlT3JkZXJIb29rc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHJlT3JkZXJDaGVja0hvb2tzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBkaXJlY3RpdmVJZHggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCBkaXJlY3RpdmVEZWZzLmxlbmd0aCwgbnVsbCk7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRTYW1lKGRpcmVjdGl2ZUlkeCwgdE5vZGUuZGlyZWN0aXZlU3RhcnQsICdUTm9kZS5kaXJlY3RpdmVTdGFydCBzaG91bGQgcG9pbnQgdG8ganVzdCBhbGxvY2F0ZWQgc3BhY2UnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlRGVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IGRpcmVjdGl2ZURlZnNbaV07XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgdGhlIGF0dHJzIGluIHRoZSBvcmRlciBvZiBtYXRjaGVzLiBUaGlzIGFzc3VtZXMgdGhhdCB0aGUgZmlyc3QgZGlyZWN0aXZlIGlzIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBpdHNlbGYsIHNvIHRoYXQgdGhlIGNvbXBvbmVudCBoYXMgdGhlIGxlYXN0IHByaW9yaXR5LlxuICAgICAgICAgICAgICAgIHROb2RlLm1lcmdlZEF0dHJzID0gbWVyZ2VIb3N0QXR0cnModE5vZGUubWVyZ2VkQXR0cnMsIGRlZi5ob3N0QXR0cnMpO1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUlkeCwgZGVmKTtcbiAgICAgICAgICAgICAgICBzYXZlTmFtZVRvRXhwb3J0TWFwKGRpcmVjdGl2ZUlkeCwgZGVmLCBleHBvcnRzTWFwKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmLmNvbnRlbnRRdWVyaWVzICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLztcbiAgICAgICAgICAgICAgICBpZiAoZGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCB8fCBkZWYuaG9zdEF0dHJzICE9PSBudWxsIHx8IGRlZi5ob3N0VmFycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gMTI4IC8qIGhhc0hvc3RCaW5kaW5ncyAqLztcbiAgICAgICAgICAgICAgICBjb25zdCBsaWZlQ3ljbGVIb29rcyA9IGRlZi50eXBlLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHB1c2ggYSBub2RlIGluZGV4IGludG8gdGhlIHByZU9yZGVySG9va3MgYXJyYXkgaWYgdGhpcyBpcyB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyBwcmUtb3JkZXIgaG9vayBmb3VuZCBvbiB0aGlzIG5vZGUuXG4gICAgICAgICAgICAgICAgaWYgKCFwcmVPcmRlckhvb2tzRm91bmQgJiZcbiAgICAgICAgICAgICAgICAgICAgKGxpZmVDeWNsZUhvb2tzLm5nT25DaGFuZ2VzIHx8IGxpZmVDeWNsZUhvb2tzLm5nT25Jbml0IHx8IGxpZmVDeWNsZUhvb2tzLm5nRG9DaGVjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugd2lsbCBwdXNoIHRoZSBhY3R1YWwgaG9vayBmdW5jdGlvbiBpbnRvIHRoaXMgYXJyYXkgbGF0ZXIgZHVyaW5nIGRpciBpbnN0YW50aWF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW5ub3QgZG8gaXQgbm93IGJlY2F1c2Ugd2UgbXVzdCBlbnN1cmUgaG9va3MgYXJlIHJlZ2lzdGVyZWQgaW4gdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JkZXIgdGhhdCBkaXJlY3RpdmVzIGFyZSBjcmVhdGVkIChpLmUuIGluamVjdGlvbiBvcmRlcikuXG4gICAgICAgICAgICAgICAgICAgICh0Vmlldy5wcmVPcmRlckhvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckhvb2tzID0gW10pKS5wdXNoKHROb2RlLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcHJlT3JkZXJIb29rc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVPcmRlckNoZWNrSG9va3NGb3VuZCAmJiAobGlmZUN5Y2xlSG9va3MubmdPbkNoYW5nZXMgfHwgbGlmZUN5Y2xlSG9va3MubmdEb0NoZWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgPSBbXSkpLnB1c2godE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBwcmVPcmRlckNoZWNrSG9va3NGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZUlkeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5pdGlhbGl6ZUlucHV0QW5kT3V0cHV0QWxpYXNlcyh0VmlldywgdE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvcnRzTWFwKVxuICAgICAgICAgICAgY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXModE5vZGUsIGxvY2FsUmVmcywgZXhwb3J0c01hcCk7XG4gICAgfVxuICAgIC8vIE1lcmdlIHRoZSB0ZW1wbGF0ZSBhdHRycyBsYXN0IHNvIHRoYXQgdGhleSBoYXZlIHRoZSBoaWdoZXN0IHByaW9yaXR5LlxuICAgIHROb2RlLm1lcmdlZEF0dHJzID0gbWVyZ2VIb3N0QXR0cnModE5vZGUubWVyZ2VkQXR0cnMsIHROb2RlLmF0dHJzKTtcbiAgICByZXR1cm4gaGFzRGlyZWN0aXZlcztcbn1cbi8qKlxuICogQWRkIGBob3N0QmluZGluZ3NgIHRvIHRoZSBgVFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzYC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCB0byB3aGljaCB0aGUgYGhvc3RCaW5kaW5nc2Agc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgdGhlIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIGRpcmVjdGl2ZVxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgY3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gZGlyZWN0aXZlSWR4IERpcmVjdGl2ZSBpbmRleCBpbiB2aWV3LlxuICogQHBhcmFtIGRpcmVjdGl2ZVZhcnNJZHggV2hlcmUgd2lsbCB0aGUgZGlyZWN0aXZlJ3MgdmFycyBiZSBzdG9yZWRcbiAqIEBwYXJhbSBkZWYgYENvbXBvbmVudERlZmAvYERpcmVjdGl2ZURlZmAsIHdoaWNoIGNvbnRhaW5zIHRoZSBgaG9zdFZhcnNgL2Bob3N0QmluZGluZ3NgIHRvIGFkZC5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSWR4LCBkaXJlY3RpdmVWYXJzSWR4LCBkZWYpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCBob3N0QmluZGluZ3MgPSBkZWYuaG9zdEJpbmRpbmdzO1xuICAgIGlmIChob3N0QmluZGluZ3MpIHtcbiAgICAgICAgbGV0IGhvc3RCaW5kaW5nT3BDb2RlcyA9IHRWaWV3Lmhvc3RCaW5kaW5nT3BDb2RlcztcbiAgICAgICAgaWYgKGhvc3RCaW5kaW5nT3BDb2RlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaG9zdEJpbmRpbmdPcENvZGVzID0gdFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudEluZHggPSB+dE5vZGUuaW5kZXg7XG4gICAgICAgIGlmIChsYXN0U2VsZWN0ZWRFbGVtZW50SWR4KGhvc3RCaW5kaW5nT3BDb2RlcykgIT0gZWxlbWVudEluZHgpIHtcbiAgICAgICAgICAgIC8vIENvbmRpdGlvbmFsbHkgYWRkIHNlbGVjdCBlbGVtZW50IHNvIHRoYXQgd2UgYXJlIG1vcmUgZWZmaWNpZW50IGluIGV4ZWN1dGlvbi5cbiAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgaXMgc3RyaWN0bHkgbm90IG5lY2Vzc2FyeSBhbmQgaXQgdHJhZGVzIGNvZGUgc2l6ZSBmb3IgcnVudGltZSBwZXJmLlxuICAgICAgICAgICAgLy8gKFdlIGNvdWxkIGp1c3QgYWx3YXlzIGFkZCBpdC4pXG4gICAgICAgICAgICBob3N0QmluZGluZ09wQ29kZXMucHVzaChlbGVtZW50SW5keCk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdEJpbmRpbmdPcENvZGVzLnB1c2goZGlyZWN0aXZlSWR4LCBkaXJlY3RpdmVWYXJzSWR4LCBob3N0QmluZGluZ3MpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbGFzdCBzZWxlY3RlZCBlbGVtZW50IGluZGV4IGluIHRoZSBgSG9zdEJpbmRpbmdPcENvZGVzYFxuICpcbiAqIEZvciBwZXJmIHJlYXNvbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHNlbGVjdGVkIGVsZW1lbnQgaW5kZXggaW4gYEhvc3RCaW5kaW5nT3BDb2Rlc2Agb25seVxuICogaWYgaXQgY2hhbmdlcy4gVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgbGFzdCBpbmRleCAob3IgJzAnIGlmIG5vdCBmb3VuZC4pXG4gKlxuICogU2VsZWN0ZWQgZWxlbWVudCBpbmRleCBhcmUgb25seSB0aGUgb25lcyB3aGljaCBhcmUgbmVnYXRpdmUuXG4gKi9cbmZ1bmN0aW9uIGxhc3RTZWxlY3RlZEVsZW1lbnRJZHgoaG9zdEJpbmRpbmdPcENvZGVzKSB7XG4gICAgbGV0IGkgPSBob3N0QmluZGluZ09wQ29kZXMubGVuZ3RoO1xuICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGhvc3RCaW5kaW5nT3BDb2Rlc1stLWldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbi8qKlxuICogSW5zdGFudGlhdGUgYWxsIHRoZSBkaXJlY3RpdmVzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlc29sdmVkIG9uIHRoZSBjdXJyZW50IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBuYXRpdmUpIHtcbiAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBpZiAoIXRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSB0Tm9kZS5pbml0aWFsSW5wdXRzO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50ID0gaXNDb21wb25lbnREZWYoZGVmKTtcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovKTtcbiAgICAgICAgICAgIGFkZENvbXBvbmVudExvZ2ljKGxWaWV3LCB0Tm9kZSwgZGVmKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSBnZXROb2RlSW5qZWN0YWJsZShsVmlldywgdFZpZXcsIGksIHROb2RlKTtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZSwgbFZpZXcpO1xuICAgICAgICBpZiAoaW5pdGlhbElucHV0cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0SW5wdXRzRnJvbUF0dHJzKGxWaWV3LCBpIC0gc3RhcnQsIGRpcmVjdGl2ZSwgZGVmLCB0Tm9kZSwgaW5pdGlhbElucHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICBjb21wb25lbnRWaWV3W0NPTlRFWFRdID0gZGlyZWN0aXZlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyh0VmlldywgbFZpZXcsIHROb2RlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgY29uc3QgZmlyc3RDcmVhdGVQYXNzID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzO1xuICAgIGNvbnN0IGVsZW1lbnRJbmRleCA9IHROb2RlLmluZGV4O1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3RpdmVJbmRleCA9IGdldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpO1xuICAgIHRyeSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoZWxlbWVudEluZGV4KTtcbiAgICAgICAgZm9yIChsZXQgZGlySW5kZXggPSBzdGFydDsgZGlySW5kZXggPCBlbmQ7IGRpckluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRWaWV3LmRhdGFbZGlySW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gbFZpZXdbZGlySW5kZXhdO1xuICAgICAgICAgICAgc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGRpckluZGV4KTtcbiAgICAgICAgICAgIGlmIChkZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsIHx8IGRlZi5ob3N0VmFycyAhPT0gMCB8fCBkZWYuaG9zdEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUoZGVmLCBkaXJlY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcbiAgICAgICAgc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGN1cnJlbnREaXJlY3RpdmVJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnZva2UgdGhlIGhvc3QgYmluZGluZ3MgaW4gY3JlYXRpb24gbW9kZS5cbiAqXG4gKiBAcGFyYW0gZGVmIGBEaXJlY3RpdmVEZWZgIHdoaWNoIG1heSBjb250YWluIHRoZSBgaG9zdEJpbmRpbmdzYCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBkaXJlY3RpdmUgSW5zdGFuY2Ugb2YgZGlyZWN0aXZlLlxuICovXG5mdW5jdGlvbiBpbnZva2VIb3N0QmluZGluZ3NJbkNyZWF0aW9uTW9kZShkZWYsIGRpcmVjdGl2ZSkge1xuICAgIGlmIChkZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsKSB7XG4gICAgICAgIGRlZi5ob3N0QmluZGluZ3MoMSAvKiBDcmVhdGUgKi8sIGRpcmVjdGl2ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBNYXRjaGVzIHRoZSBjdXJyZW50IG5vZGUgYWdhaW5zdCBhbGwgYXZhaWxhYmxlIHNlbGVjdG9ycy5cbiAqIElmIGEgY29tcG9uZW50IGlzIG1hdGNoZWQgKGF0IG1vc3Qgb25lKSwgaXQgaXMgcmV0dXJuZWQgaW4gZmlyc3QgcG9zaXRpb24gaW4gdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBmaW5kRGlyZWN0aXZlRGVmTWF0Y2hlcyh0Vmlldywgdmlld0RhdGEsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyk7XG4gICAgY29uc3QgcmVnaXN0cnkgPSB0Vmlldy5kaXJlY3RpdmVSZWdpc3RyeTtcbiAgICBsZXQgbWF0Y2hlcyA9IG51bGw7XG4gICAgaWYgKHJlZ2lzdHJ5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVnaXN0cnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHJlZ2lzdHJ5W2ldO1xuICAgICAgICAgICAgaWYgKGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBkZWYuc2VsZWN0b3JzLCAvKiBpc1Byb2plY3Rpb25Nb2RlICovIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMgfHwgKG1hdGNoZXMgPSBuZ0Rldk1vZGUgPyBuZXcgTWF0Y2hlc0FycmF5KCkgOiBbXSk7XG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgdmlld0RhdGEpLCB0VmlldywgZGVmLnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudERlZihkZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMiAvKiBFbGVtZW50ICovLCBgXCIke3ROb2RlLnZhbHVlfVwiIHRhZ3MgY2Fubm90IGJlIHVzZWQgYXMgY29tcG9uZW50IGhvc3RzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUGxlYXNlIHVzZSBhIGRpZmZlcmVudCB0YWcgdG8gYWN0aXZhdGUgdGhlICR7c3RyaW5naWZ5KGRlZi50eXBlKX0gY29tcG9uZW50LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dNdWx0aXBsZUNvbXBvbmVudEVycm9yKHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXJrQXNDb21wb25lbnRIb3N0KHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb21wb25lbnQgaXMgYWx3YXlzIHN0b3JlZCBmaXJzdCB3aXRoIGRpcmVjdGl2ZXMgYWZ0ZXIuXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMudW5zaGlmdChkZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzO1xufVxuLyoqXG4gKiBNYXJrcyBhIGdpdmVuIFROb2RlIGFzIGEgY29tcG9uZW50J3MgaG9zdC4gVGhpcyBjb25zaXN0cyBvZjpcbiAqIC0gc2V0dGluZyBhcHByb3ByaWF0ZSBUTm9kZSBmbGFncztcbiAqIC0gc3RvcmluZyBpbmRleCBvZiBjb21wb25lbnQncyBob3N0IGVsZW1lbnQgc28gaXQgd2lsbCBiZSBxdWV1ZWQgZm9yIHZpZXcgcmVmcmVzaCBkdXJpbmcgQ0QuXG4gKi9cbmZ1bmN0aW9uIG1hcmtBc0NvbXBvbmVudEhvc3QodFZpZXcsIGhvc3RUTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGhvc3RUTm9kZS5mbGFncyB8PSAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLztcbiAgICAodFZpZXcuY29tcG9uZW50cyB8fCAodFZpZXcuY29tcG9uZW50cyA9IG5nRGV2TW9kZSA/IG5ldyBUVmlld0NvbXBvbmVudHMoKSA6IFtdKSlcbiAgICAgICAgLnB1c2goaG9zdFROb2RlLmluZGV4KTtcbn1cbi8qKiBDYWNoZXMgbG9jYWwgbmFtZXMgYW5kIHRoZWlyIG1hdGNoaW5nIGRpcmVjdGl2ZSBpbmRpY2VzIGZvciBxdWVyeSBhbmQgdGVtcGxhdGUgbG9va3Vwcy4gKi9cbmZ1bmN0aW9uIGNhY2hlTWF0Y2hpbmdMb2NhbE5hbWVzKHROb2RlLCBsb2NhbFJlZnMsIGV4cG9ydHNNYXApIHtcbiAgICBpZiAobG9jYWxSZWZzKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzID0gbmdEZXZNb2RlID8gbmV3IFROb2RlTG9jYWxOYW1lcygpIDogW107XG4gICAgICAgIC8vIExvY2FsIG5hbWVzIG11c3QgYmUgc3RvcmVkIGluIHROb2RlIGluIHRoZSBzYW1lIG9yZGVyIHRoYXQgbG9jYWxSZWZzIGFyZSBkZWZpbmVkXG4gICAgICAgIC8vIGluIHRoZSB0ZW1wbGF0ZSB0byBlbnN1cmUgdGhlIGRhdGEgaXMgbG9hZGVkIGluIHRoZSBzYW1lIHNsb3RzIGFzIHRoZWlyIHJlZnNcbiAgICAgICAgLy8gaW4gdGhlIHRlbXBsYXRlIChmb3IgdGVtcGxhdGUgcXVlcmllcykuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxSZWZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV4cG9ydHNNYXBbbG9jYWxSZWZzW2kgKyAxXV07XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0zMDEgLyogRVhQT1JUX05PVF9GT1VORCAqLywgbmdEZXZNb2RlICYmIGBFeHBvcnQgb2YgbmFtZSAnJHtsb2NhbFJlZnNbaSArIDFdfScgbm90IGZvdW5kIWApO1xuICAgICAgICAgICAgbG9jYWxOYW1lcy5wdXNoKGxvY2FsUmVmc1tpXSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgdXAgYW4gZXhwb3J0IG1hcCBhcyBkaXJlY3RpdmVzIGFyZSBjcmVhdGVkLCBzbyBsb2NhbCByZWZzIGNhbiBiZSBxdWlja2x5IG1hcHBlZFxuICogdG8gdGhlaXIgZGlyZWN0aXZlIGluc3RhbmNlcy5cbiAqL1xuZnVuY3Rpb24gc2F2ZU5hbWVUb0V4cG9ydE1hcChkaXJlY3RpdmVJZHgsIGRlZiwgZXhwb3J0c01hcCkge1xuICAgIGlmIChleHBvcnRzTWFwKSB7XG4gICAgICAgIGlmIChkZWYuZXhwb3J0QXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmLmV4cG9ydEFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0c01hcFtkZWYuZXhwb3J0QXNbaV1dID0gZGlyZWN0aXZlSWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBvbmVudERlZihkZWYpKVxuICAgICAgICAgICAgZXhwb3J0c01hcFsnJ10gPSBkaXJlY3RpdmVJZHg7XG4gICAgfVxufVxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgZmxhZ3Mgb24gdGhlIGN1cnJlbnQgbm9kZSwgc2V0dGluZyBhbGwgaW5kaWNlcyB0byB0aGUgaW5pdGlhbCBpbmRleCxcbiAqIHRoZSBkaXJlY3RpdmUgY291bnQgdG8gMCwgYW5kIGFkZGluZyB0aGUgaXNDb21wb25lbnQgZmxhZy5cbiAqIEBwYXJhbSBpbmRleCB0aGUgaW5pdGlhbCBpbmRleFxuICovXG5mdW5jdGlvbiBpbml0VE5vZGVGbGFncyh0Tm9kZSwgaW5kZXgsIG51bWJlck9mRGlyZWN0aXZlcykge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChudW1iZXJPZkRpcmVjdGl2ZXMsIHROb2RlLmRpcmVjdGl2ZUVuZCAtIHROb2RlLmRpcmVjdGl2ZVN0YXJ0LCAnUmVhY2hlZCB0aGUgbWF4IG51bWJlciBvZiBkaXJlY3RpdmVzJyk7XG4gICAgdE5vZGUuZmxhZ3MgfD0gMSAvKiBpc0RpcmVjdGl2ZUhvc3QgKi87XG4gICAgLy8gV2hlbiB0aGUgZmlyc3QgZGlyZWN0aXZlIGlzIGNyZWF0ZWQgb24gYSBub2RlLCBzYXZlIHRoZSBpbmRleFxuICAgIHROb2RlLmRpcmVjdGl2ZVN0YXJ0ID0gaW5kZXg7XG4gICAgdE5vZGUuZGlyZWN0aXZlRW5kID0gaW5kZXggKyBudW1iZXJPZkRpcmVjdGl2ZXM7XG4gICAgdE5vZGUucHJvdmlkZXJJbmRleGVzID0gaW5kZXg7XG59XG4vKipcbiAqIFNldHVwIGRpcmVjdGl2ZSBmb3IgaW5zdGFudGlhdGlvbi5cbiAqXG4gKiBXZSBuZWVkIHRvIGNyZWF0ZSBhIGBOb2RlSW5qZWN0b3JGYWN0b3J5YCB3aGljaCBpcyB0aGVuIGluc2VydGVkIGluIGJvdGggdGhlIGBCbHVlcHJpbnRgIGFzIHdlbGxcbiAqIGFzIGBMVmlld2AuIGBUVmlld2AgZ2V0cyB0aGUgYERpcmVjdGl2ZURlZmAuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2BcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YFxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEluZGV4IHdoZXJlIHRoZSBkaXJlY3RpdmUgd2lsbCBiZSBzdG9yZWQgaW4gdGhlIEV4cGFuZG8uXG4gKiBAcGFyYW0gZGVmIGBEaXJlY3RpdmVEZWZgXG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBkZWYpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGRpcmVjdGl2ZUluZGV4LCBIRUFERVJfT0ZGU0VULCAnTXVzdCBiZSBpbiBFeHBhbmRvIHNlY3Rpb24nKTtcbiAgICB0Vmlldy5kYXRhW2RpcmVjdGl2ZUluZGV4XSA9IGRlZjtcbiAgICBjb25zdCBkaXJlY3RpdmVGYWN0b3J5ID0gZGVmLmZhY3RvcnkgfHwgKGRlZi5mYWN0b3J5ID0gZ2V0RmFjdG9yeURlZihkZWYudHlwZSwgdHJ1ZSkpO1xuICAgIGNvbnN0IG5vZGVJbmplY3RvckZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShkaXJlY3RpdmVGYWN0b3J5LCBpc0NvbXBvbmVudERlZihkZWYpLCBudWxsKTtcbiAgICB0Vmlldy5ibHVlcHJpbnRbZGlyZWN0aXZlSW5kZXhdID0gbm9kZUluamVjdG9yRmFjdG9yeTtcbiAgICBsVmlld1tkaXJlY3RpdmVJbmRleF0gPSBub2RlSW5qZWN0b3JGYWN0b3J5O1xuICAgIHJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCBkZWYuaG9zdFZhcnMsIE5PX0NIQU5HRSksIGRlZik7XG59XG5mdW5jdGlvbiBhZGRDb21wb25lbnRMb2dpYyhsVmlldywgaG9zdFROb2RlLCBkZWYpIHtcbiAgICBjb25zdCBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKGhvc3RUTm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyhkZWYpO1xuICAgIC8vIE9ubHkgY29tcG9uZW50IHZpZXdzIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgdmlldyB0cmVlIGRpcmVjdGx5LiBFbWJlZGRlZCB2aWV3cyBhcmVcbiAgICAvLyBhY2Nlc3NlZCB0aHJvdWdoIHRoZWlyIGNvbnRhaW5lcnMgYmVjYXVzZSB0aGV5IG1heSBiZSByZW1vdmVkIC8gcmUtYWRkZWQgbGF0ZXIuXG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgY29uc3QgY29tcG9uZW50VmlldyA9IGFkZFRvVmlld1RyZWUobFZpZXcsIGNyZWF0ZUxWaWV3KGxWaWV3LCB0VmlldywgbnVsbCwgZGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIDogMTYgLyogQ2hlY2tBbHdheXMgKi8sIG5hdGl2ZSwgaG9zdFROb2RlLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihuYXRpdmUsIGRlZiksIG51bGwsIG51bGwpKTtcbiAgICAvLyBDb21wb25lbnQgdmlldyB3aWxsIGFsd2F5cyBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgaW5qZWN0ZWQgTENvbnRhaW5lcnMsXG4gICAgLy8gc28gdGhpcyBpcyBhIHJlZ3VsYXIgZWxlbWVudCwgd3JhcCBpdCB3aXRoIHRoZSBjb21wb25lbnQgdmlld1xuICAgIGxWaWV3W2hvc3RUTm9kZS5pbmRleF0gPSBjb21wb25lbnRWaWV3O1xufVxuZnVuY3Rpb24gZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgbmFtZSwgdmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgICAgICB2YWxpZGF0ZUFnYWluc3RFdmVudEF0dHJpYnV0ZXMobmFtZSk7XG4gICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMiAvKiBFbGVtZW50ICovLCBgQXR0ZW1wdGVkIHRvIHNldCBhdHRyaWJ1dGUgXFxgJHtuYW1lfVxcYCBvbiBhIGNvbnRhaW5lciBub2RlLiBgICtcbiAgICAgICAgICAgIGBIb3N0IGJpbmRpbmdzIGFyZSBub3QgdmFsaWQgb24gbmctY29udGFpbmVyIG9yIG5nLXRlbXBsYXRlLmApO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIHNldEVsZW1lbnRBdHRyaWJ1dGUobFZpZXdbUkVOREVSRVJdLCBlbGVtZW50LCBuYW1lc3BhY2UsIHROb2RlLnZhbHVlLCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyKTtcbn1cbmZ1bmN0aW9uIHNldEVsZW1lbnRBdHRyaWJ1dGUocmVuZGVyZXIsIGVsZW1lbnQsIG5hbWVzcGFjZSwgdGFnTmFtZSwgbmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGUrKztcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIG5hbWVzcGFjZSkgOlxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgIGNvbnN0IHN0clZhbHVlID0gc2FuaXRpemVyID09IG51bGwgPyByZW5kZXJTdHJpbmdpZnkodmFsdWUpIDogc2FuaXRpemVyKHZhbHVlLCB0YWdOYW1lIHx8ICcnLCBuYW1lKTtcbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIHN0clZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFtZXNwYWNlID8gZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIG5hbWUsIHN0clZhbHVlKSA6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgc3RyVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBTZXRzIGluaXRpYWwgaW5wdXQgcHJvcGVydGllcyBvbiBkaXJlY3RpdmUgaW5zdGFuY2VzIGZyb20gYXR0cmlidXRlIGRhdGFcbiAqXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBMVmlldyB0aGF0IGlzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBJbmRleCBvZiB0aGUgZGlyZWN0aXZlIGluIGRpcmVjdGl2ZXMgYXJyYXlcbiAqIEBwYXJhbSBpbnN0YW5jZSBJbnN0YW5jZSBvZiB0aGUgZGlyZWN0aXZlIG9uIHdoaWNoIHRvIHNldCB0aGUgaW5pdGlhbCBpbnB1dHNcbiAqIEBwYXJhbSBkZWYgVGhlIGRpcmVjdGl2ZSBkZWYgdGhhdCBjb250YWlucyB0aGUgbGlzdCBvZiBpbnB1dHNcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgc3RhdGljIGRhdGEgZm9yIHRoaXMgbm9kZVxuICovXG5mdW5jdGlvbiBzZXRJbnB1dHNGcm9tQXR0cnMobFZpZXcsIGRpcmVjdGl2ZUluZGV4LCBpbnN0YW5jZSwgZGVmLCB0Tm9kZSwgaW5pdGlhbElucHV0RGF0YSkge1xuICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSBpbml0aWFsSW5wdXREYXRhW2RpcmVjdGl2ZUluZGV4XTtcbiAgICBpZiAoaW5pdGlhbElucHV0cyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzZXRJbnB1dCA9IGRlZi5zZXRJbnB1dDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsSW5wdXRzLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY05hbWUgPSBpbml0aWFsSW5wdXRzW2krK107XG4gICAgICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9IGluaXRpYWxJbnB1dHNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbElucHV0c1tpKytdO1xuICAgICAgICAgICAgaWYgKHNldElucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVmLnNldElucHV0KGluc3RhbmNlLCB2YWx1ZSwgcHVibGljTmFtZSwgcHJpdmF0ZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2VbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICBzZXROZ1JlZmxlY3RQcm9wZXJ0eShsVmlldywgbmF0aXZlRWxlbWVudCwgdE5vZGUudHlwZSwgcHJpdmF0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2VuZXJhdGVzIGluaXRpYWxJbnB1dERhdGEgZm9yIGEgbm9kZSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0ZW1wbGF0ZSdzIHN0YXRpYyBzdG9yYWdlXG4gKiBzbyBzdWJzZXF1ZW50IHRlbXBsYXRlIGludm9jYXRpb25zIGRvbid0IGhhdmUgdG8gcmVjYWxjdWxhdGUgaXQuXG4gKlxuICogaW5pdGlhbElucHV0RGF0YSBpcyBhbiBhcnJheSBjb250YWluaW5nIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgc2V0IGFzIGlucHV0IHByb3BlcnRpZXNcbiAqIGZvciBkaXJlY3RpdmVzIG9uIHRoaXMgbm9kZSwgYnV0IG9ubHkgb25jZSBvbiBjcmVhdGlvbi4gV2UgbmVlZCB0aGlzIGFycmF5IHRvIHN1cHBvcnRcbiAqIHRoZSBjYXNlIHdoZXJlIHlvdSBzZXQgYW4gQElucHV0IHByb3BlcnR5IG9mIGEgZGlyZWN0aXZlIHVzaW5nIGF0dHJpYnV0ZS1saWtlIHN5bnRheC5cbiAqIGUuZy4gaWYgeW91IGhhdmUgYSBgbmFtZWAgQElucHV0LCB5b3UgY2FuIHNldCBpdCBvbmNlIGxpa2UgdGhpczpcbiAqXG4gKiA8bXktY29tcG9uZW50IG5hbWU9XCJCZXNzXCI+PC9teS1jb21wb25lbnQ+XG4gKlxuICogQHBhcmFtIGlucHV0cyBUaGUgbGlzdCBvZiBpbnB1dHMgZnJvbSB0aGUgZGlyZWN0aXZlIGRlZlxuICogQHBhcmFtIGF0dHJzIFRoZSBzdGF0aWMgYXR0cnMgb24gdGhpcyBub2RlXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlSW5pdGlhbElucHV0cyhpbnB1dHMsIGF0dHJzKSB7XG4gICAgbGV0IGlucHV0c1RvU3RvcmUgPSBudWxsO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICBpZiAoYXR0ck5hbWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAvLyBXZSBkbyBub3QgYWxsb3cgaW5wdXRzIG9uIG5hbWVzcGFjZWQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0dHJOYW1lID09PSA1IC8qIFByb2plY3RBcyAqLykge1xuICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHRoZSBgbmdQcm9qZWN0QXNgIHZhbHVlLlxuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGl0IGFueSBvdGhlciBhdHRyaWJ1dGUgbWFya2Vycywgd2UncmUgZG9uZSBhbnl3YXkuIE5vbmUgb2YgdGhvc2UgYXJlIHZhbGlkIGlucHV0cy5cbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyTmFtZSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKGlucHV0cy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dHNUb1N0b3JlID09PSBudWxsKVxuICAgICAgICAgICAgICAgIGlucHV0c1RvU3RvcmUgPSBbXTtcbiAgICAgICAgICAgIGlucHV0c1RvU3RvcmUucHVzaChhdHRyTmFtZSwgaW5wdXRzW2F0dHJOYW1lXSwgYXR0cnNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBpICs9IDI7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dHNUb1N0b3JlO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gVmlld0NvbnRhaW5lciAmIFZpZXdcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBOb3Qgc3VyZSB3aHkgSSBuZWVkIHRvIGRvIGBhbnlgIGhlcmUgYnV0IFRTIGNvbXBsYWlucyBsYXRlci5cbmNvbnN0IExDb250YWluZXJBcnJheSA9IGNsYXNzIExDb250YWluZXIgZXh0ZW5kcyBBcnJheSB7XG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgTENvbnRhaW5lciwgZWl0aGVyIGZyb20gYSBjb250YWluZXIgaW5zdHJ1Y3Rpb24sIG9yIGZvciBhIFZpZXdDb250YWluZXJSZWYuXG4gKlxuICogQHBhcmFtIGhvc3ROYXRpdmUgVGhlIGhvc3QgZWxlbWVudCBmb3IgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIGhvc3QgVE5vZGUgZm9yIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIHBhcmVudCB2aWV3IG9mIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gbmF0aXZlIFRoZSBuYXRpdmUgY29tbWVudCBlbGVtZW50XG4gKiBAcGFyYW0gaXNGb3JWaWV3Q29udGFpbmVyUmVmIE9wdGlvbmFsIGEgZmxhZyBpbmRpY2F0aW5nIHRoZSBWaWV3Q29udGFpbmVyUmVmIGNhc2VcbiAqIEByZXR1cm5zIExDb250YWluZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTENvbnRhaW5lcihob3N0TmF0aXZlLCBjdXJyZW50VmlldywgbmF0aXZlLCB0Tm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhjdXJyZW50Vmlldyk7XG4gICAgbmdEZXZNb2RlICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihjdXJyZW50Vmlld1tSRU5ERVJFUl0pICYmIGFzc2VydERvbU5vZGUobmF0aXZlKTtcbiAgICAvLyBodHRwczovL2pzcGVyZi5jb20vYXJyYXktbGl0ZXJhbC12cy1uZXctYXJyYXktcmVhbGx5XG4gICAgY29uc3QgbENvbnRhaW5lciA9IG5ldyAobmdEZXZNb2RlID8gTENvbnRhaW5lckFycmF5IDogQXJyYXkpKGhvc3ROYXRpdmUsIC8vIGhvc3QgbmF0aXZlXG4gICAgdHJ1ZSwgLy8gQm9vbGVhbiBgdHJ1ZWAgaW4gdGhpcyBwb3NpdGlvbiBzaWduaWZpZXMgdGhhdCB0aGlzIGlzIGFuIGBMQ29udGFpbmVyYFxuICAgIGZhbHNlLCAvLyBoYXMgdHJhbnNwbGFudGVkIHZpZXdzXG4gICAgY3VycmVudFZpZXcsIC8vIHBhcmVudFxuICAgIG51bGwsIC8vIG5leHRcbiAgICAwLCAvLyB0cmFuc3BsYW50ZWQgdmlld3MgdG8gcmVmcmVzaCBjb3VudFxuICAgIHROb2RlLCAvLyB0X2hvc3RcbiAgICBuYXRpdmUsIC8vIG5hdGl2ZSxcbiAgICBudWxsLCAvLyB2aWV3IHJlZnNcbiAgICBudWxsKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwobENvbnRhaW5lci5sZW5ndGgsIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VULCAnU2hvdWxkIGFsbG9jYXRlIGNvcnJlY3QgbnVtYmVyIG9mIHNsb3RzIGZvciBMQ29udGFpbmVyIGhlYWRlci4nKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXR0YWNoTENvbnRhaW5lckRlYnVnKGxDb250YWluZXIpO1xuICAgIHJldHVybiBsQ29udGFpbmVyO1xufVxuLyoqXG4gKiBHb2VzIG92ZXIgZW1iZWRkZWQgdmlld3MgKG9uZXMgY3JlYXRlZCB0aHJvdWdoIFZpZXdDb250YWluZXJSZWYgQVBJcykgYW5kIHJlZnJlc2hlc1xuICogdGhlbSBieSBleGVjdXRpbmcgYW4gYXNzb2NpYXRlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gcmVmcmVzaEVtYmVkZGVkVmlld3MobFZpZXcpIHtcbiAgICBmb3IgKGxldCBsQ29udGFpbmVyID0gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KTsgbENvbnRhaW5lciAhPT0gbnVsbDsgbENvbnRhaW5lciA9IGdldE5leHRMQ29udGFpbmVyKGxDb250YWluZXIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IGVtYmVkZGVkTFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZW1iZWRkZWRUVmlldywgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgICAgICBpZiAodmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3RvcihlbWJlZGRlZExWaWV3KSkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hWaWV3KGVtYmVkZGVkVFZpZXcsIGVtYmVkZGVkTFZpZXcsIGVtYmVkZGVkVFZpZXcudGVtcGxhdGUsIGVtYmVkZGVkTFZpZXdbQ09OVEVYVF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBNYXJrIHRyYW5zcGxhbnRlZCB2aWV3cyBhcyBuZWVkaW5nIHRvIGJlIHJlZnJlc2hlZCBhdCB0aGVpciBpbnNlcnRpb24gcG9pbnRzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB0aGF0IG1heSBoYXZlIHRyYW5zcGxhbnRlZCB2aWV3cy5cbiAqL1xuZnVuY3Rpb24gbWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaChsVmlldykge1xuICAgIGZvciAobGV0IGxDb250YWluZXIgPSBnZXRGaXJzdExDb250YWluZXIobFZpZXcpOyBsQ29udGFpbmVyICE9PSBudWxsOyBsQ29udGFpbmVyID0gZ2V0TmV4dExDb250YWluZXIobENvbnRhaW5lcikpIHtcbiAgICAgICAgaWYgKCFsQ29udGFpbmVyW0hBU19UUkFOU1BMQU5URURfVklFV1NdKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IG1vdmVkVmlld3MgPSBsQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobW92ZWRWaWV3cywgJ1RyYW5zcGxhbnRlZCBWaWV3IGZsYWdzIHNldCBidXQgbWlzc2luZyBNT1ZFRF9WSUVXUycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVkVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVkTFZpZXcgPSBtb3ZlZFZpZXdzW2ldO1xuICAgICAgICAgICAgY29uc3QgaW5zZXJ0aW9uTENvbnRhaW5lciA9IG1vdmVkTFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGluc2VydGlvbkxDb250YWluZXIpO1xuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIG1vdmVkIExWaWV3IHdhcyBhbHJlYWR5IG1hcmtlZCBmb3JcbiAgICAgICAgICAgIC8vIHJlZnJlc2guXG4gICAgICAgICAgICBpZiAoKG1vdmVkTFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc3BsYW50ZWRWaWV3Q291bnQoaW5zZXJ0aW9uTENvbnRhaW5lciwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3RlLCBpdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBgbW92ZWRWaWV3c2AgaXMgdHJhY2tpbmcgdmlld3MgdGhhdCBhcmUgdHJhbnNwbGFudGVkICphbmQqXG4gICAgICAgICAgICAvLyB0aG9zZSB0aGF0IGFyZW4ndCAoZGVjbGFyYXRpb24gY29tcG9uZW50ID09PSBpbnNlcnRpb24gY29tcG9uZW50KS4gSW4gdGhlIGxhdHRlciBjYXNlLFxuICAgICAgICAgICAgLy8gaXQncyBmaW5lIHRvIGFkZCB0aGUgZmxhZywgYXMgd2Ugd2lsbCBjbGVhciBpdCBpbW1lZGlhdGVseSBpblxuICAgICAgICAgICAgLy8gYHJlZnJlc2hFbWJlZGRlZFZpZXdzYCBmb3IgdGhlIHZpZXcgY3VycmVudGx5IGJlaW5nIHJlZnJlc2hlZC5cbiAgICAgICAgICAgIG1vdmVkTFZpZXdbRkxBR1NdIHw9IDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi87XG4gICAgICAgIH1cbiAgICB9XG59XG4vLy8vLy8vLy8vLy8vXG4vKipcbiAqIFJlZnJlc2hlcyBjb21wb25lbnRzIGJ5IGVudGVyaW5nIHRoZSBjb21wb25lbnQgdmlldyBhbmQgcHJvY2Vzc2luZyBpdHMgYmluZGluZ3MsIHF1ZXJpZXMsIGV0Yy5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50SG9zdElkeCAgRWxlbWVudCBpbmRleCBpbiBMVmlld1tdIChhZGp1c3RlZCBmb3IgSEVBREVSX09GRlNFVClcbiAqL1xuZnVuY3Rpb24gcmVmcmVzaENvbXBvbmVudChob3N0TFZpZXcsIGNvbXBvbmVudEhvc3RJZHgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUoaG9zdExWaWV3KSwgZmFsc2UsICdTaG91bGQgYmUgcnVuIGluIHVwZGF0ZSBtb2RlJyk7XG4gICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChjb21wb25lbnRIb3N0SWR4LCBob3N0TFZpZXcpO1xuICAgIC8vIE9ubHkgYXR0YWNoZWQgY29tcG9uZW50cyB0aGF0IGFyZSBDaGVja0Fsd2F5cyBvciBPblB1c2ggYW5kIGRpcnR5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICBpZiAodmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3Rvcihjb21wb25lbnRWaWV3KSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGNvbXBvbmVudFZpZXdbVFZJRVddO1xuICAgICAgICBpZiAoY29tcG9uZW50Vmlld1tGTEFHU10gJiAoMTYgLyogQ2hlY2tBbHdheXMgKi8gfCA2NCAvKiBEaXJ0eSAqLykpIHtcbiAgICAgICAgICAgIHJlZnJlc2hWaWV3KHRWaWV3LCBjb21wb25lbnRWaWV3LCB0Vmlldy50ZW1wbGF0ZSwgY29tcG9uZW50Vmlld1tDT05URVhUXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29tcG9uZW50Vmlld1tUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPiAwKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGF0dGFjaGVkIGNvbXBvbmVudHMgdGhhdCBhcmUgQ2hlY2tBbHdheXMgb3IgT25QdXNoIGFuZCBkaXJ0eSBzaG91bGQgYmUgcmVmcmVzaGVkXG4gICAgICAgICAgICByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcoY29tcG9uZW50Vmlldyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJlZnJlc2hlcyBhbGwgdHJhbnNwbGFudGVkIHZpZXdzIG1hcmtlZCB3aXRoIGBMVmlld0ZsYWdzLlJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3YCB0aGF0IGFyZVxuICogY2hpbGRyZW4gb3IgZGVzY2VuZGFudHMgb2YgdGhlIGdpdmVuIGxWaWV3LlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgbFZpZXcgd2hpY2ggY29udGFpbnMgZGVzY2VuZGFudCB0cmFuc3BsYW50ZWQgdmlld3MgdGhhdCBuZWVkIHRvIGJlIHJlZnJlc2hlZC5cbiAqL1xuZnVuY3Rpb24gcmVmcmVzaENvbnRhaW5zRGlydHlWaWV3KGxWaWV3KSB7XG4gICAgZm9yIChsZXQgbENvbnRhaW5lciA9IGdldEZpcnN0TENvbnRhaW5lcihsVmlldyk7IGxDb250YWluZXIgIT09IG51bGw7IGxDb250YWluZXIgPSBnZXROZXh0TENvbnRhaW5lcihsQ29udGFpbmVyKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZExWaWV3W0ZMQUdTXSAmIDEwMjQgLyogUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXcgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gZW1iZWRkZWRMVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZW1iZWRkZWRUVmlldywgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFZpZXcoZW1iZWRkZWRUVmlldywgZW1iZWRkZWRMVmlldywgZW1iZWRkZWRUVmlldy50ZW1wbGF0ZSwgZW1iZWRkZWRMVmlld1tDT05URVhUXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbWJlZGRlZExWaWV3W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA+IDApIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcoZW1iZWRkZWRMVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgLy8gUmVmcmVzaCBjaGlsZCBjb21wb25lbnQgdmlld3MuXG4gICAgY29uc3QgY29tcG9uZW50cyA9IHRWaWV3LmNvbXBvbmVudHM7XG4gICAgaWYgKGNvbXBvbmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbXBvbmVudHNbaV0sIGxWaWV3KTtcbiAgICAgICAgICAgIC8vIE9ubHkgYXR0YWNoZWQgY29tcG9uZW50cyB0aGF0IGFyZSBDaGVja0Fsd2F5cyBvciBPblB1c2ggYW5kIGRpcnR5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICAgICAgICAgIGlmICh2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKGNvbXBvbmVudFZpZXcpICYmXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Vmlld1tUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaENvbnRhaW5zRGlydHlWaWV3KGNvbXBvbmVudFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50JDEoaG9zdExWaWV3LCBjb21wb25lbnRIb3N0SWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGlzQ3JlYXRpb25Nb2RlKGhvc3RMVmlldyksIHRydWUsICdTaG91bGQgYmUgcnVuIGluIGNyZWF0aW9uIG1vZGUnKTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbXBvbmVudEhvc3RJZHgsIGhvc3RMVmlldyk7XG4gICAgY29uc3QgY29tcG9uZW50VFZpZXcgPSBjb21wb25lbnRWaWV3W1RWSUVXXTtcbiAgICBzeW5jVmlld1dpdGhCbHVlcHJpbnQoY29tcG9uZW50VFZpZXcsIGNvbXBvbmVudFZpZXcpO1xuICAgIHJlbmRlclZpZXcoY29tcG9uZW50VFZpZXcsIGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0pO1xufVxuLyoqXG4gKiBTeW5jcyBhbiBMVmlldyBpbnN0YW5jZSB3aXRoIGl0cyBibHVlcHJpbnQgaWYgdGhleSBoYXZlIGdvdHRlbiBvdXQgb2Ygc3luYy5cbiAqXG4gKiBUeXBpY2FsbHksIGJsdWVwcmludHMgYW5kIHRoZWlyIHZpZXcgaW5zdGFuY2VzIHNob3VsZCBhbHdheXMgYmUgaW4gc3luYywgc28gdGhlIGxvb3AgaGVyZVxuICogd2lsbCBiZSBza2lwcGVkLiBIb3dldmVyLCBjb25zaWRlciB0aGlzIGNhc2Ugb2YgdHdvIGNvbXBvbmVudHMgc2lkZS1ieS1zaWRlOlxuICpcbiAqIEFwcCB0ZW1wbGF0ZTpcbiAqIGBgYFxuICogPGNvbXA+PC9jb21wPlxuICogPGNvbXA+PC9jb21wPlxuICogYGBgXG4gKlxuICogVGhlIGZvbGxvd2luZyB3aWxsIGhhcHBlbjpcbiAqIDEuIEFwcCB0ZW1wbGF0ZSBiZWdpbnMgcHJvY2Vzc2luZy5cbiAqIDIuIEZpcnN0IDxjb21wPiBpcyBtYXRjaGVkIGFzIGEgY29tcG9uZW50IGFuZCBpdHMgTFZpZXcgaXMgY3JlYXRlZC5cbiAqIDMuIFNlY29uZCA8Y29tcD4gaXMgbWF0Y2hlZCBhcyBhIGNvbXBvbmVudCBhbmQgaXRzIExWaWV3IGlzIGNyZWF0ZWQuXG4gKiA0LiBBcHAgdGVtcGxhdGUgY29tcGxldGVzIHByb2Nlc3NpbmcsIHNvIGl0J3MgdGltZSB0byBjaGVjayBjaGlsZCB0ZW1wbGF0ZXMuXG4gKiA1LiBGaXJzdCA8Y29tcD4gdGVtcGxhdGUgaXMgY2hlY2tlZC4gSXQgaGFzIGEgZGlyZWN0aXZlLCBzbyBpdHMgZGVmIGlzIHB1c2hlZCB0byBibHVlcHJpbnQuXG4gKiA2LiBTZWNvbmQgPGNvbXA+IHRlbXBsYXRlIGlzIGNoZWNrZWQuIEl0cyBibHVlcHJpbnQgaGFzIGJlZW4gdXBkYXRlZCBieSB0aGUgZmlyc3RcbiAqIDxjb21wPiB0ZW1wbGF0ZSwgYnV0IGl0cyBMVmlldyB3YXMgY3JlYXRlZCBiZWZvcmUgdGhpcyB1cGRhdGUsIHNvIGl0IGlzIG91dCBvZiBzeW5jLlxuICpcbiAqIE5vdGUgdGhhdCBlbWJlZGRlZCB2aWV3cyBpbnNpZGUgbmdGb3IgbG9vcHMgd2lsbCBuZXZlciBiZSBvdXQgb2Ygc3luYyBiZWNhdXNlIHRoZXNlIHZpZXdzXG4gKiBhcmUgcHJvY2Vzc2VkIGFzIHNvb24gYXMgdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlld2AgdGhhdCBjb250YWlucyB0aGUgYmx1ZXByaW50IGZvciBzeW5jaW5nXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gc3luY1xuICovXG5mdW5jdGlvbiBzeW5jVmlld1dpdGhCbHVlcHJpbnQodFZpZXcsIGxWaWV3KSB7XG4gICAgZm9yIChsZXQgaSA9IGxWaWV3Lmxlbmd0aDsgaSA8IHRWaWV3LmJsdWVwcmludC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsVmlldy5wdXNoKHRWaWV3LmJsdWVwcmludFtpXSk7XG4gICAgfVxufVxuLyoqXG4gKiBBZGRzIExWaWV3IG9yIExDb250YWluZXIgdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCB2aWV3IHRyZWUuXG4gKlxuICogVGhpcyBzdHJ1Y3R1cmUgd2lsbCBiZSB1c2VkIHRvIHRyYXZlcnNlIHRocm91Z2ggbmVzdGVkIHZpZXdzIHRvIHJlbW92ZSBsaXN0ZW5lcnNcbiAqIGFuZCBjYWxsIG9uRGVzdHJveSBjYWxsYmFja3MuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHdoZXJlIExWaWV3IG9yIExDb250YWluZXIgc2hvdWxkIGJlIGFkZGVkXG4gKiBAcGFyYW0gYWRqdXN0ZWRIb3N0SW5kZXggSW5kZXggb2YgdGhlIHZpZXcncyBob3N0IG5vZGUgaW4gTFZpZXdbXSwgYWRqdXN0ZWQgZm9yIGhlYWRlclxuICogQHBhcmFtIGxWaWV3T3JMQ29udGFpbmVyIFRoZSBMVmlldyBvciBMQ29udGFpbmVyIHRvIGFkZCB0byB0aGUgdmlldyB0cmVlXG4gKiBAcmV0dXJucyBUaGUgc3RhdGUgcGFzc2VkIGluXG4gKi9cbmZ1bmN0aW9uIGFkZFRvVmlld1RyZWUobFZpZXcsIGxWaWV3T3JMQ29udGFpbmVyKSB7XG4gICAgLy8gVE9ETyhiZW5sZXNoL21pc2tvKTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBpbmNvcnJlY3QsIGJlY2F1c2UgaXQgYWx3YXlzIGFkZHMgdGhlIExDb250YWluZXJcbiAgICAvLyB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZSwgd2hpY2ggbWVhbnMgaWYgdGhlIGRldmVsb3BlciByZXRyaWV2ZXMgdGhlIExDb250YWluZXJzIGZyb20gUk5vZGVzIG91dFxuICAgIC8vIG9mIG9yZGVyLCB0aGUgY2hhbmdlIGRldGVjdGlvbiB3aWxsIHJ1biBvdXQgb2Ygb3JkZXIsIGFzIHRoZSBhY3Qgb2YgcmV0cmlldmluZyB0aGUgdGhlXG4gICAgLy8gTENvbnRhaW5lciBmcm9tIHRoZSBSTm9kZSBpcyB3aGF0IGFkZHMgaXQgdG8gdGhlIHF1ZXVlLlxuICAgIGlmIChsVmlld1tDSElMRF9IRUFEXSkge1xuICAgICAgICBsVmlld1tDSElMRF9UQUlMXVtORVhUXSA9IGxWaWV3T3JMQ29udGFpbmVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbFZpZXdbQ0hJTERfSEVBRF0gPSBsVmlld09yTENvbnRhaW5lcjtcbiAgICB9XG4gICAgbFZpZXdbQ0hJTERfVEFJTF0gPSBsVmlld09yTENvbnRhaW5lcjtcbiAgICByZXR1cm4gbFZpZXdPckxDb250YWluZXI7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIENoYW5nZSBkZXRlY3Rpb25cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogTWFya3MgY3VycmVudCB2aWV3IGFuZCBhbGwgYW5jZXN0b3JzIGRpcnR5LlxuICpcbiAqIFJldHVybnMgdGhlIHJvb3QgdmlldyBiZWNhdXNlIGl0IGlzIGZvdW5kIGFzIGEgYnlwcm9kdWN0IG9mIG1hcmtpbmcgdGhlIHZpZXcgdHJlZVxuICogZGlydHksIGFuZCBjYW4gYmUgdXNlZCBieSBtZXRob2RzIHRoYXQgY29uc3VtZSBtYXJrVmlld0RpcnR5KCkgdG8gZWFzaWx5IHNjaGVkdWxlXG4gKiBjaGFuZ2UgZGV0ZWN0aW9uLiBPdGhlcndpc2UsIHN1Y2ggbWV0aG9kcyB3b3VsZCBuZWVkIHRvIHRyYXZlcnNlIHVwIHRoZSB2aWV3IHRyZWVcbiAqIGFuIGFkZGl0aW9uYWwgdGltZSB0byBnZXQgdGhlIHJvb3QgdmlldyBhbmQgc2NoZWR1bGUgYSB0aWNrIG9uIGl0LlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgc3RhcnRpbmcgTFZpZXcgdG8gbWFyayBkaXJ0eVxuICogQHJldHVybnMgdGhlIHJvb3QgTFZpZXdcbiAqL1xuZnVuY3Rpb24gbWFya1ZpZXdEaXJ0eShsVmlldykge1xuICAgIHdoaWxlIChsVmlldykge1xuICAgICAgICBsVmlld1tGTEFHU10gfD0gNjQgLyogRGlydHkgKi87XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldExWaWV3UGFyZW50KGxWaWV3KTtcbiAgICAgICAgLy8gU3RvcCB0cmF2ZXJzaW5nIHVwIGFzIHNvb24gYXMgeW91IGZpbmQgYSByb290IHZpZXcgdGhhdCB3YXNuJ3QgYXR0YWNoZWQgdG8gYW55IGNvbnRhaW5lclxuICAgICAgICBpZiAoaXNSb290VmlldyhsVmlldykgJiYgIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGxWaWV3O1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnRpbnVlIG90aGVyd2lzZVxuICAgICAgICBsVmlldyA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFVzZWQgdG8gc2NoZWR1bGUgY2hhbmdlIGRldGVjdGlvbiBvbiB0aGUgd2hvbGUgYXBwbGljYXRpb24uXG4gKlxuICogVW5saWtlIGB0aWNrYCwgYHNjaGVkdWxlVGlja2AgY29hbGVzY2VzIG11bHRpcGxlIGNhbGxzIGludG8gb25lIGNoYW5nZSBkZXRlY3Rpb24gcnVuLlxuICogSXQgaXMgdXN1YWxseSBjYWxsZWQgaW5kaXJlY3RseSBieSBjYWxsaW5nIGBtYXJrRGlydHlgIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmVcbiAqIHJlLXJlbmRlcmVkLlxuICpcbiAqIFR5cGljYWxseSBgc2NoZWR1bGVUaWNrYCB1c2VzIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIHRvIGNvYWxlc2NlIG11bHRpcGxlXG4gKiBgc2NoZWR1bGVUaWNrYCByZXF1ZXN0cy4gVGhlIHNjaGVkdWxpbmcgZnVuY3Rpb24gY2FuIGJlIG92ZXJyaWRkZW4gaW5cbiAqIGByZW5kZXJDb21wb25lbnRgJ3MgYHNjaGVkdWxlcmAgb3B0aW9uLlxuICovXG5mdW5jdGlvbiBzY2hlZHVsZVRpY2socm9vdENvbnRleHQsIGZsYWdzKSB7XG4gICAgY29uc3Qgbm90aGluZ1NjaGVkdWxlZCA9IHJvb3RDb250ZXh0LmZsYWdzID09PSAwIC8qIEVtcHR5ICovO1xuICAgIGlmIChub3RoaW5nU2NoZWR1bGVkICYmIHJvb3RDb250ZXh0LmNsZWFuID09IF9DTEVBTl9QUk9NSVNFKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM5Mjk2XG4gICAgICAgIC8vIHNob3VsZCBvbmx5IGF0dGFjaCB0aGUgZmxhZ3Mgd2hlbiByZWFsbHkgc2NoZWR1bGluZyBhIHRpY2tcbiAgICAgICAgcm9vdENvbnRleHQuZmxhZ3MgfD0gZmxhZ3M7XG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIHJvb3RDb250ZXh0LmNsZWFuID0gbmV3IFByb21pc2UoKHIpID0+IHJlcyA9IHIpO1xuICAgICAgICByb290Q29udGV4dC5zY2hlZHVsZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJvb3RDb250ZXh0LmZsYWdzICYgMSAvKiBEZXRlY3RDaGFuZ2VzICovKSB7XG4gICAgICAgICAgICAgICAgcm9vdENvbnRleHQuZmxhZ3MgJj0gfjEgLyogRGV0ZWN0Q2hhbmdlcyAqLztcbiAgICAgICAgICAgICAgICB0aWNrUm9vdENvbnRleHQocm9vdENvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvb3RDb250ZXh0LmZsYWdzICYgMiAvKiBGbHVzaFBsYXllcnMgKi8pIHtcbiAgICAgICAgICAgICAgICByb290Q29udGV4dC5mbGFncyAmPSB+MiAvKiBGbHVzaFBsYXllcnMgKi87XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGFuZGxlciA9IHJvb3RDb250ZXh0LnBsYXllckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySGFuZGxlci5mbHVzaFBsYXllcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290Q29udGV4dC5jbGVhbiA9IF9DTEVBTl9QUk9NSVNFO1xuICAgICAgICAgICAgcmVzKG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aWNrUm9vdENvbnRleHQocm9vdENvbnRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3RDb250ZXh0LmNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgcm9vdENvbXBvbmVudCA9IHJvb3RDb250ZXh0LmNvbXBvbmVudHNbaV07XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gcmVhZFBhdGNoZWRMVmlldyhyb290Q29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgIHJlbmRlckNvbXBvbmVudE9yVGVtcGxhdGUodFZpZXcsIGxWaWV3LCB0Vmlldy50ZW1wbGF0ZSwgcm9vdENvbXBvbmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRWaWV3LCBsVmlldywgY29udGV4dCkge1xuICAgIGNvbnN0IHJlbmRlcmVyRmFjdG9yeSA9IGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldO1xuICAgIGlmIChyZW5kZXJlckZhY3RvcnkuYmVnaW4pXG4gICAgICAgIHJlbmRlcmVyRmFjdG9yeS5iZWdpbigpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlZnJlc2hWaWV3KHRWaWV3LCBsVmlldywgdFZpZXcudGVtcGxhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IobFZpZXcsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmVuZClcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5lbmQoKTtcbiAgICB9XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGEgcm9vdCB2aWV3IGFuZCBpdHMgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgd2hpY2ggdGhlIGNoYW5nZSBkZXRlY3Rpb24gc2hvdWxkIGJlIHBlcmZvcm1lZCBvbi5cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXcobFZpZXcpIHtcbiAgICB0aWNrUm9vdENvbnRleHQobFZpZXdbQ09OVEVYVF0pO1xufVxuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNJbnRlcm5hbCh0VmlldywgdmlldywgY29udGV4dCkge1xuICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRWaWV3LCB2aWV3LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUoZmFsc2UpO1xuICAgIH1cbn1cbi8qKlxuICogQ2hlY2tzIHRoZSBjaGFuZ2UgZGV0ZWN0b3Igb24gYSByb290IHZpZXcgYW5kIGl0cyBjb21wb25lbnRzLCBhbmQgdGhyb3dzIGlmIGFueSBjaGFuZ2VzIGFyZVxuICogZGV0ZWN0ZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIGluIGRldmVsb3BtZW50IG1vZGUgdG8gdmVyaWZ5IHRoYXQgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uIGRvZXNuJ3RcbiAqIGludHJvZHVjZSBvdGhlciBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgY2hlY2tlZCBvbi5cbiAqL1xuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNJblJvb3RWaWV3KGxWaWV3KSB7XG4gICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW5Sb290VmlldyhsVmlldyk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKGZhbHNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlVmlld1F1ZXJ5Rm4oZmxhZ3MsIHZpZXdRdWVyeUZuLCBjb21wb25lbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh2aWV3UXVlcnlGbiwgJ1ZpZXcgcXVlcmllcyBmdW5jdGlvbiB0byBleGVjdXRlIG11c3QgYmUgZGVmaW5lZC4nKTtcbiAgICBzZXRDdXJyZW50UXVlcnlJbmRleCgwKTtcbiAgICB2aWV3UXVlcnlGbihmbGFncywgY29tcG9uZW50KTtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gQmluZGluZ3MgJiBpbnRlcnBvbGF0aW9uc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBTdG9yZXMgbWV0YS1kYXRhIGZvciBhIHByb3BlcnR5IGJpbmRpbmcgdG8gYmUgdXNlZCBieSBUZXN0QmVkJ3MgYERlYnVnRWxlbWVudC5wcm9wZXJ0aWVzYC5cbiAqXG4gKiBJbiBvcmRlciB0byBzdXBwb3J0IFRlc3RCZWQncyBgRGVidWdFbGVtZW50LnByb3BlcnRpZXNgIHdlIG5lZWQgdG8gc2F2ZSwgZm9yIGVhY2ggYmluZGluZzpcbiAqIC0gYSBib3VuZCBwcm9wZXJ0eSBuYW1lO1xuICogLSBhIHN0YXRpYyBwYXJ0cyBvZiBpbnRlcnBvbGF0ZWQgc3RyaW5ncztcbiAqXG4gKiBBIGdpdmVuIHByb3BlcnR5IG1ldGFkYXRhIGlzIHNhdmVkIGF0IHRoZSBiaW5kaW5nJ3MgaW5kZXggaW4gdGhlIGBUVmlldy5kYXRhYCAoaW4gb3RoZXIgd29yZHMsIGFcbiAqIHByb3BlcnR5IGJpbmRpbmcgbWV0YWRhdGEgd2lsbCBiZSBzdG9yZWQgaW4gYFRWaWV3LmRhdGFgIGF0IHRoZSBzYW1lIGluZGV4IGFzIGEgYm91bmQgdmFsdWUgaW5cbiAqIGBMVmlld2ApLiBNZXRhZGF0YSBhcmUgcmVwcmVzZW50ZWQgYXMgYElOVEVSUE9MQVRJT05fREVMSU1JVEVSYC1kZWxpbWl0ZWQgc3RyaW5nIHdpdGggdGhlXG4gKiBmb2xsb3dpbmcgZm9ybWF0OlxuICogLSBgcHJvcGVydHlOYW1lYCBmb3IgYm91bmQgcHJvcGVydGllcztcbiAqIC0gYHByb3BlcnR5TmFtZe+/vXByZWZpeO+/vWludGVycG9sYXRpb25fc3RhdGljX3BhcnQx77+9Li5pbnRlcnBvbGF0aW9uX3N0YXRpY19wYXJ0Tu+/vXN1ZmZpeGAgZm9yXG4gKiBpbnRlcnBvbGF0ZWQgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSBtZXRhLWRhdGEgd2lsbCBiZSBzYXZlZDtcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHRoYXQgaXMgYSB0YXJnZXQgb2YgdGhlIGJpbmRpbmc7XG4gKiBAcGFyYW0gcHJvcGVydHlOYW1lIGJvdW5kIHByb3BlcnR5IG5hbWU7XG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IGJpbmRpbmcgaW5kZXggaW4gYExWaWV3YFxuICogQHBhcmFtIGludGVycG9sYXRpb25QYXJ0cyBzdGF0aWMgaW50ZXJwb2xhdGlvbiBwYXJ0cyAoZm9yIHByb3BlcnR5IGludGVycG9sYXRpb25zKVxuICovXG5mdW5jdGlvbiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHREYXRhLCB0Tm9kZSwgcHJvcGVydHlOYW1lLCBiaW5kaW5nSW5kZXgsIC4uLmludGVycG9sYXRpb25QYXJ0cykge1xuICAgIC8vIEJpbmRpbmcgbWV0YS1kYXRhIGFyZSBzdG9yZWQgb25seSB0aGUgZmlyc3QgdGltZSBhIGdpdmVuIHByb3BlcnR5IGluc3RydWN0aW9uIGlzIHByb2Nlc3NlZC5cbiAgICAvLyBTaW5jZSB3ZSBkb24ndCBoYXZlIGEgY29uY2VwdCBvZiB0aGUgXCJmaXJzdCB1cGRhdGUgcGFzc1wiIHdlIG5lZWQgdG8gY2hlY2sgZm9yIHByZXNlbmNlIG9mIHRoZVxuICAgIC8vIGJpbmRpbmcgbWV0YS1kYXRhIHRvIGRlY2lkZSBpZiBvbmUgc2hvdWxkIGJlIHN0b3JlZCAob3IgaWYgd2FzIHN0b3JlZCBhbHJlYWR5KS5cbiAgICBpZiAodERhdGFbYmluZGluZ0luZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAodE5vZGUuaW5wdXRzID09IG51bGwgfHwgIXROb2RlLmlucHV0c1twcm9wZXJ0eU5hbWVdKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wQmluZGluZ0lkeHMgPSB0Tm9kZS5wcm9wZXJ0eUJpbmRpbmdzIHx8ICh0Tm9kZS5wcm9wZXJ0eUJpbmRpbmdzID0gW10pO1xuICAgICAgICAgICAgcHJvcEJpbmRpbmdJZHhzLnB1c2goYmluZGluZ0luZGV4KTtcbiAgICAgICAgICAgIGxldCBiaW5kaW5nTWV0YWRhdGEgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvblBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nTWV0YWRhdGEgKz1cbiAgICAgICAgICAgICAgICAgICAgSU5URVJQT0xBVElPTl9ERUxJTUlURVIgKyBpbnRlcnBvbGF0aW9uUGFydHMuam9pbihJTlRFUlBPTEFUSU9OX0RFTElNSVRFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0RGF0YVtiaW5kaW5nSW5kZXhdID0gYmluZGluZ01ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgQ0xFQU5fUFJPTUlTRSA9IF9DTEVBTl9QUk9NSVNFO1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAodmlldykge1xuICAgIC8vIHRvcCBsZXZlbCB2YXJpYWJsZXMgc2hvdWxkIG5vdCBiZSBleHBvcnRlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoUEVSRl9OT1RFUy5tZClcbiAgICByZXR1cm4gdmlld1tDTEVBTlVQXSB8fCAodmlld1tDTEVBTlVQXSA9IG5nRGV2TW9kZSA/IG5ldyBMQ2xlYW51cCgpIDogW10pO1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpIHtcbiAgICByZXR1cm4gdFZpZXcuY2xlYW51cCB8fCAodFZpZXcuY2xlYW51cCA9IG5nRGV2TW9kZSA/IG5ldyBUQ2xlYW51cCgpIDogW10pO1xufVxuLyoqXG4gKiBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgdGhlIHN1YiBjb21wb25lbnQncyByZW5kZXJlciBuZWVkcyB0byBiZSBpbmNsdWRlZFxuICogaW5zdGVhZCBvZiB0aGUgY3VycmVudCByZW5kZXJlciAoc2VlIHRoZSBjb21wb25lbnRTeW50aGV0aWNIb3N0KiBpbnN0cnVjdGlvbnMpLlxuICovXG5mdW5jdGlvbiBsb2FkQ29tcG9uZW50UmVuZGVyZXIoY3VycmVudERlZiwgdE5vZGUsIGxWaWV3KSB7XG4gICAgLy8gVE9ETyhGVy0yMDQzKTogdGhlIGBjdXJyZW50RGVmYCBpcyBudWxsIHdoZW4gaG9zdCBiaW5kaW5ncyBhcmUgaW52b2tlZCB3aGlsZSBjcmVhdGluZyByb290XG4gICAgLy8gY29tcG9uZW50IChzZWUgcGFja2FnZXMvY29yZS9zcmMvcmVuZGVyMy9jb21wb25lbnQudHMpLiBUaGlzIGlzIG5vdCBjb25zaXN0ZW50IHdpdGggdGhlIHByb2Nlc3NcbiAgICAvLyBvZiBjcmVhdGluZyBpbm5lciBjb21wb25lbnRzLCB3aGVuIGN1cnJlbnQgZGlyZWN0aXZlIGluZGV4IGlzIGF2YWlsYWJsZSBpbiB0aGUgc3RhdGUuIEluIG9yZGVyXG4gICAgLy8gdG8gYXZvaWQgcmVseWluZyBvbiBjdXJyZW50IGRlZiBiZWluZyBgbnVsbGAgKHRodXMgc3BlY2lhbC1jYXNpbmcgcm9vdCBjb21wb25lbnQgY3JlYXRpb24pLCB0aGVcbiAgICAvLyBwcm9jZXNzIG9mIGNyZWF0aW5nIHJvb3QgY29tcG9uZW50IHNob3VsZCBiZSB1bmlmaWVkIHdpdGggdGhlIHByb2Nlc3Mgb2YgY3JlYXRpbmcgaW5uZXJcbiAgICAvLyBjb21wb25lbnRzLlxuICAgIGlmIChjdXJyZW50RGVmID09PSBudWxsIHx8IGlzQ29tcG9uZW50RGVmKGN1cnJlbnREZWYpKSB7XG4gICAgICAgIGxWaWV3ID0gdW53cmFwTFZpZXcobFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICB9XG4gICAgcmV0dXJuIGxWaWV3W1JFTkRFUkVSXTtcbn1cbi8qKiBIYW5kbGVzIGFuIGVycm9yIHRocm93biBpbiBhbiBMVmlldy4gKi9cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGxWaWV3LCBlcnJvcikge1xuICAgIGNvbnN0IGluamVjdG9yID0gbFZpZXdbSU5KRUNUT1IkMV07XG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gaW5qZWN0b3IgPyBpbmplY3Rvci5nZXQoRXJyb3JIYW5kbGVyLCBudWxsKSA6IG51bGw7XG4gICAgZXJyb3JIYW5kbGVyICYmIGVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlcnJvcik7XG59XG4vKipcbiAqIFNldCB0aGUgaW5wdXRzIG9mIGRpcmVjdGl2ZXMgYXQgdGhlIGN1cnJlbnQgbm9kZSB0byBjb3JyZXNwb25kaW5nIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgY3VycmVudCBUVmlld1xuICogQHBhcmFtIGxWaWV3IHRoZSBgTFZpZXdgIHdoaWNoIGNvbnRhaW5zIHRoZSBkaXJlY3RpdmVzLlxuICogQHBhcmFtIGlucHV0cyBtYXBwaW5nIGJldHdlZW4gdGhlIHB1YmxpYyBcImlucHV0XCIgbmFtZSBhbmQgcHJpdmF0ZWx5LWtub3duLFxuICogICAgICAgIHBvc3NpYmx5IG1pbmlmaWVkLCBwcm9wZXJ0eSBuYW1lcyB0byB3cml0ZSB0by5cbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldElucHV0c0ZvclByb3BlcnR5KHRWaWV3LCBsVmlldywgaW5wdXRzLCBwdWJsaWNOYW1lLCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDspIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBpbnB1dHNbaSsrXTtcbiAgICAgICAgY29uc3QgcHJpdmF0ZU5hbWUgPSBpbnB1dHNbaSsrXTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBsVmlld1tpbmRleF07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChkZWYuc2V0SW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlZi5zZXRJbnB1dChpbnN0YW5jZSwgdmFsdWUsIHB1YmxpY05hbWUsIHByaXZhdGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc3RhbmNlW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGVzIGEgdGV4dCBiaW5kaW5nIGF0IGEgZ2l2ZW4gaW5kZXggaW4gYSBnaXZlbiBMVmlldy5cbiAqL1xuZnVuY3Rpb24gdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgaW5kZXgsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyh2YWx1ZSwgJ1ZhbHVlIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICd2YWx1ZSBzaG91bGQgbm90IGJlIE5PX0NIQU5HRScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluZGV4KTtcbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgbFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGVsZW1lbnQsICduYXRpdmUgZWxlbWVudCBzaG91bGQgZXhpc3QnKTtcbiAgICB1cGRhdGVUZXh0Tm9kZShsVmlld1tSRU5ERVJFUl0sIGVsZW1lbnQsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbXB1dGUgdGhlIHN0YXRpYyBzdHlsaW5nIChjbGFzcy9zdHlsZSkgZnJvbSBgVEF0dHJpYnV0ZXNgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgYGZpcnN0Q3JlYXRlUGFzc2Agb25seS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIGBUTm9kZWAgaW50byB3aGljaCB0aGUgc3R5bGluZyBpbmZvcm1hdGlvbiBzaG91bGQgYmUgbG9hZGVkLlxuICogQHBhcmFtIGF0dHJzIGBUQXR0cmlidXRlc2AgY29udGFpbmluZyB0aGUgc3R5bGluZyBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB3cml0ZVRvSG9zdCBXaGVyZSBzaG91bGQgdGhlIHJlc3VsdGluZyBzdGF0aWMgc3R5bGVzIGJlIHdyaXR0ZW4/XG4gKiAgIC0gYGZhbHNlYCBXcml0ZSB0byBgVE5vZGUuc3R5bGVzV2l0aG91dEhvc3RgIC8gYFROb2RlLmNsYXNzZXNXaXRob3V0SG9zdGBcbiAqICAgLSBgdHJ1ZWAgV3JpdGUgdG8gYFROb2RlLnN0eWxlc2AgLyBgVE5vZGUuY2xhc3Nlc2BcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIGF0dHJzLCB3cml0ZVRvSG9zdCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3MoZ2V0VFZpZXcoKSwgJ0V4cGVjdGluZyB0byBiZSBjYWxsZWQgaW4gZmlyc3QgdGVtcGxhdGUgcGFzcyBvbmx5Jyk7XG4gICAgbGV0IHN0eWxlcyA9IHdyaXRlVG9Ib3N0ID8gdE5vZGUuc3R5bGVzIDogbnVsbDtcbiAgICBsZXQgY2xhc3NlcyA9IHdyaXRlVG9Ib3N0ID8gdE5vZGUuY2xhc3NlcyA6IG51bGw7XG4gICAgbGV0IG1vZGUgPSAwO1xuICAgIGlmIChhdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBtb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09IDEgLyogQ2xhc3NlcyAqLykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBjb25jYXRTdHJpbmdzV2l0aFNwYWNlKGNsYXNzZXMsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSBhdHRyc1srK2ldO1xuICAgICAgICAgICAgICAgIHN0eWxlcyA9IGNvbmNhdFN0cmluZ3NXaXRoU3BhY2Uoc3R5bGVzLCBzdHlsZSArICc6ICcgKyBzdHlsZVZhbHVlICsgJzsnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB3cml0ZVRvSG9zdCA/IHROb2RlLnN0eWxlcyA9IHN0eWxlcyA6IHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0ID0gc3R5bGVzO1xuICAgIHdyaXRlVG9Ib3N0ID8gdE5vZGUuY2xhc3NlcyA9IGNsYXNzZXMgOiB0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QgPSBjbGFzc2VzO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3luY2hyb25vdXNseSBwZXJmb3JtIGNoYW5nZSBkZXRlY3Rpb24gb24gYSBjb21wb25lbnQgKGFuZCBwb3NzaWJseSBpdHMgc3ViLWNvbXBvbmVudHMpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdHJpZ2dlcnMgY2hhbmdlIGRldGVjdGlvbiBpbiBhIHN5bmNocm9ub3VzIHdheSBvbiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgd2hpY2ggdGhlIGNoYW5nZSBkZXRlY3Rpb24gc2hvdWxkIGJlIHBlcmZvcm1lZCBvbi5cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlcyhjb21wb25lbnQpIHtcbiAgICBjb25zdCB2aWV3ID0gZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50KTtcbiAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodmlld1tUVklFV10sIHZpZXcsIGNvbXBvbmVudCk7XG59XG4vKipcbiAqIE1hcmtzIHRoZSBjb21wb25lbnQgYXMgZGlydHkgKG5lZWRpbmcgY2hhbmdlIGRldGVjdGlvbikuIE1hcmtpbmcgYSBjb21wb25lbnQgZGlydHkgd2lsbFxuICogc2NoZWR1bGUgYSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGl0IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAqXG4gKiBNYXJraW5nIGFuIGFscmVhZHkgZGlydHkgY29tcG9uZW50IGFzIGRpcnR5IHdvbid0IGRvIGFueXRoaW5nLiBPbmx5IG9uZSBvdXRzdGFuZGluZyBjaGFuZ2VcbiAqIGRldGVjdGlvbiBjYW4gYmUgc2NoZWR1bGVkIHBlciBjb21wb25lbnQgdHJlZS5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCB0byBtYXJrIGFzIGRpcnR5LlxuICovXG5mdW5jdGlvbiBtYXJrRGlydHkoY29tcG9uZW50KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY29tcG9uZW50LCAnY29tcG9uZW50Jyk7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSBtYXJrVmlld0RpcnR5KGdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlKGNvbXBvbmVudCkpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJvb3RWaWV3W0NPTlRFWFRdLCAncm9vdENvbnRleHQgc2hvdWxkIGJlIGRlZmluZWQnKTtcbiAgICBzY2hlZHVsZVRpY2socm9vdFZpZXdbQ09OVEVYVF0sIDEgLyogRGV0ZWN0Q2hhbmdlcyAqLyk7XG59XG4vKipcbiAqIFVzZWQgdG8gcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYGRldGVjdENoYW5nZXNgLCBidXQgaW52b2tlZCBvbiByb290IGNvbXBvbmVudC4gQWRkaXRpb25hbGx5LCBgdGlja2BcbiAqIGV4ZWN1dGVzIGxpZmVjeWNsZSBob29rcyBhbmQgY29uZGl0aW9uYWxseSBjaGVja3MgY29tcG9uZW50cyBiYXNlZCBvbiB0aGVpclxuICogYENoYW5nZURldGVjdGlvblN0cmF0ZWd5YCBhbmQgZGlydGluZXNzLlxuICpcbiAqIFRoZSBwcmVmZXJyZWQgd2F5IHRvIHRyaWdnZXIgY2hhbmdlIGRldGVjdGlvbiBpcyB0byBjYWxsIGBtYXJrRGlydHlgLiBgbWFya0RpcnR5YCBpbnRlcm5hbGx5XG4gKiBzY2hlZHVsZXMgYHRpY2tgIHVzaW5nIGEgc2NoZWR1bGVyIGluIG9yZGVyIHRvIGNvYWxlc2NlIG11bHRpcGxlIGBtYXJrRGlydHlgIGNhbGxzIGludG8gYVxuICogc2luZ2xlIGNoYW5nZSBkZXRlY3Rpb24gcnVuLiBCeSBkZWZhdWx0LCB0aGUgc2NoZWR1bGVyIGlzIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLCBidXQgY2FuXG4gKiBiZSBjaGFuZ2VkIHdoZW4gY2FsbGluZyBgcmVuZGVyQ29tcG9uZW50YCBhbmQgcHJvdmlkaW5nIHRoZSBgc2NoZWR1bGVyYCBvcHRpb24uXG4gKi9cbmZ1bmN0aW9uIHRpY2soY29tcG9uZW50KSB7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSBnZXRSb290Vmlldyhjb21wb25lbnQpO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gcm9vdFZpZXdbQ09OVEVYVF07XG4gICAgdGlja1Jvb3RDb250ZXh0KHJvb3RDb250ZXh0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIEluamVjdGlvblRva2VuIHRoYXQgZ2V0cyB0aGUgY3VycmVudCBgSW5qZWN0b3JgIGZvciBgY3JlYXRlSW5qZWN0b3IoKWAtc3R5bGUgaW5qZWN0b3JzLlxuICpcbiAqIFJlcXVlc3RpbmcgdGhpcyB0b2tlbiBpbnN0ZWFkIG9mIGBJbmplY3RvcmAgYWxsb3dzIGBTdGF0aWNJbmplY3RvcmAgdG8gYmUgdHJlZS1zaGFrZW4gZnJvbSBhXG4gKiBwcm9qZWN0LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSU5KRUNUT1IgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0lOSkVDVE9SJywgXG4vLyBEaXNzYWJsZSB0c2xpbnQgYmVjYXVzZSB0aGlzIGlzIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkIG5vdCB0b3AgbGV2ZWwgcHJvcCBhY2Nlc3MuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuLTEgLyogSW5qZWN0b3IgKi8pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIE51bGxJbmplY3RvciB7XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlID09PSBUSFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBOdWxsSW5qZWN0b3JFcnJvcjogTm8gcHJvdmlkZXIgZm9yICR7c3RyaW5naWZ5KHRva2VuKX0hYCk7XG4gICAgICAgICAgICBlcnJvci5uYW1lID0gJ051bGxJbmplY3RvckVycm9yJztcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGludGVybmFsIHRva2VuIHdob3NlIHByZXNlbmNlIGluIGFuIGluamVjdG9yIGluZGljYXRlcyB0aGF0IHRoZSBpbmplY3RvciBzaG91bGQgdHJlYXQgaXRzZWxmXG4gKiBhcyBhIHJvb3Qgc2NvcGVkIGluamVjdG9yIHdoZW4gcHJvY2Vzc2luZyByZXF1ZXN0cyBmb3IgdW5rbm93biB0b2tlbnMgd2hpY2ggbWF5IGluZGljYXRlXG4gKiB0aGV5IGFyZSBwcm92aWRlZCBpbiB0aGUgcm9vdCBzY29wZS5cbiAqL1xuY29uc3QgSU5KRUNUT1JfU0NPUEUgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1NldCBJbmplY3RvciBzY29wZS4nKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtlciB3aGljaCBpbmRpY2F0ZXMgdGhhdCBhIHZhbHVlIGhhcyBub3QgeWV0IGJlZW4gY3JlYXRlZCBmcm9tIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICovXG5jb25zdCBOT1RfWUVUID0ge307XG4vKipcbiAqIE1hcmtlciB3aGljaCBpbmRpY2F0ZXMgdGhhdCB0aGUgZmFjdG9yeSBmdW5jdGlvbiBmb3IgYSB0b2tlbiBpcyBpbiB0aGUgcHJvY2VzcyBvZiBiZWluZyBjYWxsZWQuXG4gKlxuICogSWYgdGhlIGluamVjdG9yIGlzIGFza2VkIHRvIGluamVjdCBhIHRva2VuIHdpdGggaXRzIHZhbHVlIHNldCB0byBDSVJDVUxBUiwgdGhhdCBpbmRpY2F0ZXNcbiAqIGluamVjdGlvbiBvZiBhIGRlcGVuZGVuY3kgaGFzIHJlY3Vyc2l2ZWx5IGF0dGVtcHRlZCB0byBpbmplY3QgdGhlIG9yaWdpbmFsIHRva2VuLCBhbmQgdGhlcmUgaXNcbiAqIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBhbW9uZyB0aGUgcHJvdmlkZXJzLlxuICovXG5jb25zdCBDSVJDVUxBUiA9IHt9O1xuLyoqXG4gKiBBIGxhemlseSBpbml0aWFsaXplZCBOdWxsSW5qZWN0b3IuXG4gKi9cbmxldCBOVUxMX0lOSkVDVE9SJDEgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBnZXROdWxsSW5qZWN0b3IoKSB7XG4gICAgaWYgKE5VTExfSU5KRUNUT1IkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIE5VTExfSU5KRUNUT1IkMSA9IG5ldyBOdWxsSW5qZWN0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIE5VTExfSU5KRUNUT1IkMTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGBJbmplY3RvcmAgd2hpY2ggaXMgY29uZmlndXJlZCB1c2luZyBhIGBkZWZUeXBlYCBvZiBgSW5qZWN0b3JUeXBlPGFueT5gcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKGRlZlR5cGUsIHBhcmVudCA9IG51bGwsIGFkZGl0aW9uYWxQcm92aWRlcnMgPSBudWxsLCBuYW1lKSB7XG4gICAgY29uc3QgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3RvcldpdGhvdXRJbmplY3Rvckluc3RhbmNlcyhkZWZUeXBlLCBwYXJlbnQsIGFkZGl0aW9uYWxQcm92aWRlcnMsIG5hbWUpO1xuICAgIGluamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpO1xuICAgIHJldHVybiBpbmplY3Rvcjtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbmplY3RvciB3aXRob3V0IGVhZ2VybHkgcmVzb2x2aW5nIGl0cyBpbmplY3RvciB0eXBlcy4gQ2FuIGJlIHVzZWQgaW4gcGxhY2VzXG4gKiB3aGVyZSByZXNvbHZpbmcgdGhlIGluamVjdG9yIHR5cGVzIGltbWVkaWF0ZWx5IGNhbiBsZWFkIHRvIGFuIGluZmluaXRlIGxvb3AuIFRoZSBpbmplY3RvciB0eXBlc1xuICogc2hvdWxkIGJlIHJlc29sdmVkIGF0IGEgbGF0ZXIgcG9pbnQgYnkgY2FsbGluZyBgX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzYC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3JXaXRob3V0SW5qZWN0b3JJbnN0YW5jZXMoZGVmVHlwZSwgcGFyZW50ID0gbnVsbCwgYWRkaXRpb25hbFByb3ZpZGVycyA9IG51bGwsIG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFIzSW5qZWN0b3IoZGVmVHlwZSwgYWRkaXRpb25hbFByb3ZpZGVycywgcGFyZW50IHx8IGdldE51bGxJbmplY3RvcigpLCBuYW1lKTtcbn1cbmNsYXNzIFIzSW5qZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRlZiwgYWRkaXRpb25hbFByb3ZpZGVycywgcGFyZW50LCBzb3VyY2UgPSBudWxsKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHRva2VucyB0byByZWNvcmRzIHdoaWNoIGNvbnRhaW4gdGhlIGluc3RhbmNlcyBvZiB0aG9zZSB0b2tlbnMuXG4gICAgICAgICAqIC0gYG51bGxgIHZhbHVlIGltcGxpZXMgdGhhdCB3ZSBkb24ndCBoYXZlIHRoZSByZWNvcmQuIFVzZWQgYnkgdHJlZS1zaGFrYWJsZSBpbmplY3RvcnNcbiAgICAgICAgICogdG8gcHJldmVudCBmdXJ0aGVyIHNlYXJjaGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNvcmRzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zaXRpdmUgc2V0IG9mIGBJbmplY3RvclR5cGVgcyB3aGljaCBkZWZpbmUgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBvZiB2YWx1ZXMgaW5zdGFudGlhdGVkIGJ5IHRoaXMgaW5qZWN0b3Igd2hpY2ggY29udGFpbiBgbmdPbkRlc3Ryb3lgIGxpZmVjeWNsZSBob29rcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25EZXN0cm95ID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZGVkdXBTdGFjayA9IFtdO1xuICAgICAgICAvLyBTdGFydCBvZmYgYnkgY3JlYXRpbmcgUmVjb3JkcyBmb3IgZXZlcnkgcHJvdmlkZXIgZGVjbGFyZWQgaW4gZXZlcnkgSW5qZWN0b3JUeXBlXG4gICAgICAgIC8vIGluY2x1ZGVkIHRyYW5zaXRpdmVseSBpbiBhZGRpdGlvbmFsIHByb3ZpZGVycyB0aGVuIGRvIHRoZSBzYW1lIGZvciBgZGVmYC4gVGhpcyBvcmRlciBpc1xuICAgICAgICAvLyBpbXBvcnRhbnQgYmVjYXVzZSBgZGVmYCBtYXkgaW5jbHVkZSBwcm92aWRlcnMgdGhhdCBvdmVycmlkZSBvbmVzIGluIGFkZGl0aW9uYWxQcm92aWRlcnMuXG4gICAgICAgIGFkZGl0aW9uYWxQcm92aWRlcnMgJiZcbiAgICAgICAgICAgIGRlZXBGb3JFYWNoKGFkZGl0aW9uYWxQcm92aWRlcnMsIHByb3ZpZGVyID0+IHRoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBkZWYsIGFkZGl0aW9uYWxQcm92aWRlcnMpKTtcbiAgICAgICAgZGVlcEZvckVhY2goW2RlZl0sIGluamVjdG9yRGVmID0+IHRoaXMucHJvY2Vzc0luamVjdG9yVHlwZShpbmplY3RvckRlZiwgW10sIGRlZHVwU3RhY2spKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBJTkpFQ1RPUiB0b2tlbiBwcm92aWRlcyB0aGlzIGluamVjdG9yLlxuICAgICAgICB0aGlzLnJlY29yZHMuc2V0KElOSkVDVE9SLCBtYWtlUmVjb3JkKHVuZGVmaW5lZCwgdGhpcykpO1xuICAgICAgICAvLyBEZXRlY3Qgd2hldGhlciB0aGlzIGluamVjdG9yIGhhcyB0aGUgQVBQX1JPT1RfU0NPUEUgdG9rZW4gYW5kIHRodXMgc2hvdWxkIHByb3ZpZGVcbiAgICAgICAgLy8gYW55IGluamVjdGFibGUgc2NvcGVkIHRvIEFQUF9ST09UX1NDT1BFLlxuICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLnJlY29yZHMuZ2V0KElOSkVDVE9SX1NDT1BFKTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHJlY29yZCAhPSBudWxsID8gcmVjb3JkLnZhbHVlIDogbnVsbDtcbiAgICAgICAgLy8gU291cmNlIG5hbWUsIHVzZWQgZm9yIGRlYnVnZ2luZ1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZSB8fCAodHlwZW9mIGRlZiA9PT0gJ29iamVjdCcgPyBudWxsIDogc3RyaW5naWZ5KGRlZikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbGFnIGluZGljYXRpbmcgdGhhdCB0aGlzIGluamVjdG9yIHdhcyBwcmV2aW91c2x5IGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBpbmplY3RvciBhbmQgcmVsZWFzZSByZWZlcmVuY2VzIHRvIGV2ZXJ5IGluc3RhbmNlIG9yIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAgKlxuICAgICAqIEFsc28gY2FsbHMgdGhlIGBPbkRlc3Ryb3lgIGxpZmVjeWNsZSBob29rcyBvZiBldmVyeSBpbnN0YW5jZSB0aGF0IHdhcyBjcmVhdGVkIGZvciB3aGljaCBhXG4gICAgICogaG9vayB3YXMgZm91bmQuXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICAgICAgLy8gU2V0IGRlc3Ryb3llZCA9IHRydWUgZmlyc3QsIGluIGNhc2UgbGlmZWN5Y2xlIGhvb2tzIHJlLWVudGVyIGRlc3Ryb3koKS5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENhbGwgYWxsIHRoZSBsaWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5mb3JFYWNoKHNlcnZpY2UgPT4gc2VydmljZS5uZ09uRGVzdHJveSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIFJlbGVhc2UgYWxsIHJlZmVyZW5jZXMuXG4gICAgICAgICAgICB0aGlzLnJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95LmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQsIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgICAgICAvLyBTZXQgdGhlIGluamVjdGlvbiBjb250ZXh0LlxuICAgICAgICBjb25zdCBwcmV2aW91c0luamVjdG9yID0gc2V0Q3VycmVudEluamVjdG9yKHRoaXMpO1xuICAgICAgICBjb25zdCBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uID0gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24odW5kZWZpbmVkKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgU2tpcFNlbGYgZmxhZy5cbiAgICAgICAgICAgIGlmICghKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcFNlbGYgaXNuJ3Qgc2V0LCBjaGVjayBpZiB0aGUgcmVjb3JkIGJlbG9uZ3MgdG8gdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5yZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHJlY29yZCwgYnV0IG1heWJlIHRoZSB0b2tlbiBpcyBzY29wZWQgdG8gdGhpcyBpbmplY3Rvci4gTG9vayBmb3IgYW4gaW5qZWN0YWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBkZWYgd2l0aCBhIHNjb3BlIG1hdGNoaW5nIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IGNvdWxkQmVJbmplY3RhYmxlVHlwZSh0b2tlbikgJiYgZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWYgJiYgdGhpcy5pbmplY3RhYmxlRGVmSW5TY29wZShkZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBhbiBpbmplY3RhYmxlIGRlZiBhbmQgaXQncyBzY29wZWQgdG8gdGhpcyBpbmplY3Rvci4gUHJldGVuZCBhcyBpZiBpdCB3YXMgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIGFsb25nLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gbWFrZVJlY29yZChpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodG9rZW4pLCBOT1RfWUVUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYSByZWNvcmQgd2FzIGZvdW5kLCBnZXQgdGhlIGluc3RhbmNlIGZvciBpdCBhbmQgcmV0dXJuIGl0LlxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgIT0gbnVsbCAvKiBOT1QgbnVsbCB8fCB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHlkcmF0ZSh0b2tlbiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIG5leHQgaW5qZWN0b3IgYmFzZWQgb24gdGhlIFNlbGYgZmxhZyAtIGlmIHNlbGYgaXMgc2V0LCB0aGUgbmV4dCBpbmplY3RvciBpc1xuICAgICAgICAgICAgLy8gdGhlIE51bGxJbmplY3Rvciwgb3RoZXJ3aXNlIGl0J3MgdGhlIHBhcmVudC5cbiAgICAgICAgICAgIGNvbnN0IG5leHRJbmplY3RvciA9ICEoZmxhZ3MgJiBJbmplY3RGbGFncy5TZWxmKSA/IHRoaXMucGFyZW50IDogZ2V0TnVsbEluamVjdG9yKCk7XG4gICAgICAgICAgICAvLyBTZXQgdGhlIG5vdEZvdW5kVmFsdWUgYmFzZWQgb24gdGhlIE9wdGlvbmFsIGZsYWcgLSBpZiBvcHRpb25hbCBpcyBzZXQgYW5kIG5vdEZvdW5kVmFsdWVcbiAgICAgICAgICAgIC8vIGlzIHVuZGVmaW5lZCwgdGhlIHZhbHVlIGlzIG51bGwsIG90aGVyd2lzZSBpdCdzIHRoZSBub3RGb3VuZFZhbHVlLlxuICAgICAgICAgICAgbm90Rm91bmRWYWx1ZSA9IChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKSAmJiBub3RGb3VuZFZhbHVlID09PSBUSFJPV19JRl9OT1RfRk9VTkQgP1xuICAgICAgICAgICAgICAgIG51bGwgOlxuICAgICAgICAgICAgICAgIG5vdEZvdW5kVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gbmV4dEluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdOdWxsSW5qZWN0b3JFcnJvcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gZVtOR19URU1QX1RPS0VOX1BBVEhdID0gZVtOR19URU1QX1RPS0VOX1BBVEhdIHx8IFtdO1xuICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChzdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNJbmplY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdGlsbCBoYXZlIGEgcGFyZW50IGluamVjdG9yLCBrZWVwIHRocm93aW5nXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgJiB0aHJvdyB0aGUgZmluYWwgZXJyb3IgbWVzc2FnZSB3aGVuIHdlIGRvbid0IGhhdmUgYW55IHByZXZpb3VzIGluamVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRjaEluamVjdG9yRXJyb3IoZSwgdG9rZW4sICdSM0luamVjdG9yRXJyb3InLCB0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIExhc3RseSwgcmVzdG9yZSB0aGUgcHJldmlvdXMgaW5qZWN0aW9uIGNvbnRleHQuXG4gICAgICAgICAgICBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRJbmplY3RvcihwcmV2aW91c0luamVjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCkge1xuICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMuZm9yRWFjaChkZWZUeXBlID0+IHRoaXMuZ2V0KGRlZlR5cGUpKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IFtdLCByZWNvcmRzID0gdGhpcy5yZWNvcmRzO1xuICAgICAgICByZWNvcmRzLmZvckVhY2goKHYsIHRva2VuKSA9PiB0b2tlbnMucHVzaChzdHJpbmdpZnkodG9rZW4pKSk7XG4gICAgICAgIHJldHVybiBgUjNJbmplY3Rvclske3Rva2Vucy5qb2luKCcsICcpfV1gO1xuICAgIH1cbiAgICBhc3NlcnROb3REZXN0cm95ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMjA1IC8qIElOSkVDVE9SX0FMUkVBRFlfREVTVFJPWUVEICovLCBuZ0Rldk1vZGUgJiYgJ0luamVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBgSW5qZWN0b3JUeXBlYCBvciBgSW5qZWN0b3JUeXBlV2l0aFByb3ZpZGVyc2AgYW5kIGFsbCBvZiBpdHMgdHJhbnNpdGl2ZSBwcm92aWRlcnNcbiAgICAgKiB0byB0aGlzIGluamVjdG9yLlxuICAgICAqXG4gICAgICogSWYgYW4gYEluamVjdG9yVHlwZVdpdGhQcm92aWRlcnNgIHRoYXQgZGVjbGFyZXMgcHJvdmlkZXJzIGJlc2lkZXMgdGhlIHR5cGUgaXMgc3BlY2lmaWVkLFxuICAgICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBcInRydWVcIiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwcm92aWRlcnMgb2YgdGhlIHR5cGUgZGVmaW5pdGlvbiBuZWVkXG4gICAgICogdG8gYmUgcHJvY2Vzc2VkLiBUaGlzIGFsbG93cyB1cyB0byBwcm9jZXNzIHByb3ZpZGVycyBvZiBpbmplY3RvciB0eXBlcyBhZnRlciBhbGwgaW1wb3J0cyBvZlxuICAgICAqIGFuIGluamVjdG9yIGRlZmluaXRpb24gYXJlIHByb2Nlc3NlZC4gKGZvbGxvd2luZyBWaWV3IEVuZ2luZSBzZW1hbnRpY3M6IHNlZSBGVy0xMzQ5KVxuICAgICAqL1xuICAgIHByb2Nlc3NJbmplY3RvclR5cGUoZGVmT3JXcmFwcGVkRGVmLCBwYXJlbnRzLCBkZWR1cFN0YWNrKSB7XG4gICAgICAgIGRlZk9yV3JhcHBlZERlZiA9IHJlc29sdmVGb3J3YXJkUmVmKGRlZk9yV3JhcHBlZERlZik7XG4gICAgICAgIGlmICghZGVmT3JXcmFwcGVkRGVmKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBFaXRoZXIgdGhlIGRlZk9yV3JhcHBlZERlZiBpcyBhbiBJbmplY3RvclR5cGUgKHdpdGggaW5qZWN0b3IgZGVmKSBvciBhblxuICAgICAgICAvLyBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzIChha2EgTW9kdWxlV2l0aFByb3ZpZGVycykuIERldGVjdGluZyBlaXRoZXIgaXMgYSBtZWdhbW9ycGhpY1xuICAgICAgICAvLyByZWFkLCBzbyBjYXJlIGlzIHRha2VuIHRvIG9ubHkgZG8gdGhlIHJlYWQgb25jZS5cbiAgICAgICAgLy8gRmlyc3QgYXR0ZW1wdCB0byByZWFkIHRoZSBpbmplY3RvciBkZWYgKGDJtWluamApLlxuICAgICAgICBsZXQgZGVmID0gZ2V0SW5qZWN0b3JEZWYoZGVmT3JXcmFwcGVkRGVmKTtcbiAgICAgICAgLy8gSWYgdGhhdCdzIG5vdCBwcmVzZW50LCB0aGVuIGF0dGVtcHQgdG8gcmVhZCBuZ01vZHVsZSBmcm9tIHRoZSBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzLlxuICAgICAgICBjb25zdCBuZ01vZHVsZSA9IChkZWYgPT0gbnVsbCkgJiYgZGVmT3JXcmFwcGVkRGVmLm5nTW9kdWxlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBJbmplY3RvclR5cGUuIEluIHRoZSBjYXNlIHdoZXJlIGBkZWZPcldyYXBwZWREZWZgIGlzIGFuIGBJbmplY3RvclR5cGVgLFxuICAgICAgICAvLyB0aGVuIHRoaXMgaXMgZWFzeS4gSW4gdGhlIGNhc2Ugb2YgYW4gSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycywgdGhlbiB0aGUgZGVmaW5pdGlvbiB0eXBlXG4gICAgICAgIC8vIGlzIHRoZSBgbmdNb2R1bGVgLlxuICAgICAgICBjb25zdCBkZWZUeXBlID0gKG5nTW9kdWxlID09PSB1bmRlZmluZWQpID8gZGVmT3JXcmFwcGVkRGVmIDogbmdNb2R1bGU7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgcGFyZW50cy5pbmRleE9mKGRlZlR5cGUpICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZGVmTmFtZSA9IHN0cmluZ2lmeShkZWZUeXBlKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBwYXJlbnRzLm1hcChzdHJpbmdpZnkpO1xuICAgICAgICAgICAgdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IoZGVmTmFtZSwgcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIGltcG9ydHMgb2YgdGhlIHNhbWUgbW9kdWxlXG4gICAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gZGVkdXBTdGFjay5pbmRleE9mKGRlZlR5cGUpICE9PSAtMTtcbiAgICAgICAgLy8gRmluYWxseSwgaWYgZGVmT3JXcmFwcGVkVHlwZSB3YXMgYW4gYEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnNgLCB0aGVuIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gYEluamVjdG9yRGVmYCBpcyBvbiBpdHMgYG5nTW9kdWxlYC5cbiAgICAgICAgaWYgKG5nTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlZiA9IGdldEluamVjdG9yRGVmKG5nTW9kdWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyBkZWZpbml0aW9uIHdhcyBmb3VuZCwgaXQgbWlnaHQgYmUgZnJvbSBleHBvcnRzLiBSZW1vdmUgaXQuXG4gICAgICAgIGlmIChkZWYgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBwcm92aWRlcnMgaW4gdGhlIHNhbWUgd2F5IHRoYXQgQE5nTW9kdWxlIHJlc29sdXRpb24gZGlkOlxuICAgICAgICAvLyBGaXJzdCwgaW5jbHVkZSBwcm92aWRlcnMgZnJvbSBhbnkgaW1wb3J0cy5cbiAgICAgICAgaWYgKGRlZi5pbXBvcnRzICE9IG51bGwgJiYgIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICAvLyBCZWZvcmUgcHJvY2Vzc2luZyBkZWZUeXBlJ3MgaW1wb3J0cywgYWRkIGl0IHRvIHRoZSBzZXQgb2YgcGFyZW50cy4gVGhpcyB3YXksIGlmIGl0IGVuZHNcbiAgICAgICAgICAgIC8vIHVwIGRlZXBseSBpbXBvcnRpbmcgaXRzZWxmLCB0aGlzIGNhbiBiZSBkZXRlY3RlZC5cbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBwYXJlbnRzLnB1c2goZGVmVHlwZSk7XG4gICAgICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIHNldCBvZiBkZWR1cHMuIFRoaXMgd2F5IHdlIGNhbiBkZXRlY3QgbXVsdGlwbGUgaW1wb3J0cyBvZiB0aGUgc2FtZSBtb2R1bGVcbiAgICAgICAgICAgIGRlZHVwU3RhY2sucHVzaChkZWZUeXBlKTtcbiAgICAgICAgICAgIGxldCBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlZXBGb3JFYWNoKGRlZi5pbXBvcnRzLCBpbXBvcnRlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NJbmplY3RvclR5cGUoaW1wb3J0ZWQsIHBhcmVudHMsIGRlZHVwU3RhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJvY2Vzc2VkIGltcG9ydCBpcyBhbiBpbmplY3RvciB0eXBlIHdpdGggcHJvdmlkZXJzLCB3ZSBzdG9yZSBpdCBpbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgaW1wb3J0IHR5cGVzIHdpdGggcHJvdmlkZXJzLCBzbyB0aGF0IHdlIGNhbiBwcm9jZXNzIHRob3NlIGFmdGVyd2FyZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMucHVzaChpbXBvcnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBpdCBmcm9tIHRoZSBwYXJlbnRzIHNldCB3aGVuIGZpbmlzaGVkLlxuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBwYXJlbnRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW1wb3J0cyB3aGljaCBhcmUgZGVjbGFyZWQgd2l0aCBwcm92aWRlcnMgKFR5cGVXaXRoUHJvdmlkZXJzKSBuZWVkIHRvIGJlIHByb2Nlc3NlZFxuICAgICAgICAgICAgLy8gYWZ0ZXIgYWxsIGltcG9ydGVkIG1vZHVsZXMgYXJlIHByb2Nlc3NlZC4gVGhpcyBpcyBzaW1pbGFyIHRvIGhvdyBWaWV3IEVuZ2luZVxuICAgICAgICAgICAgLy8gcHJvY2Vzc2VzL21lcmdlcyBtb2R1bGUgaW1wb3J0cyBpbiB0aGUgbWV0YWRhdGEgcmVzb2x2ZXIuIFNlZTogRlctMTM0OS5cbiAgICAgICAgICAgIGlmIChpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbmdNb2R1bGUsIHByb3ZpZGVycyB9ID0gaW1wb3J0VHlwZXNXaXRoUHJvdmlkZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBkZWVwRm9yRWFjaChwcm92aWRlcnMsIHByb3ZpZGVyID0+IHRoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBuZ01vZHVsZSwgcHJvdmlkZXJzIHx8IEVNUFRZX0FSUkFZKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRyYWNrIHRoZSBJbmplY3RvclR5cGUgYW5kIGFkZCBhIHByb3ZpZGVyIGZvciBpdC4gSXQncyBpbXBvcnRhbnQgdGhhdCB0aGlzIGlzIGRvbmUgYWZ0ZXIgdGhlXG4gICAgICAgIC8vIGRlZidzIGltcG9ydHMuXG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5hZGQoZGVmVHlwZSk7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKGRlZlR5cGUpIHx8ICgoKSA9PiBuZXcgZGVmVHlwZSgpKTtcbiAgICAgICAgdGhpcy5yZWNvcmRzLnNldChkZWZUeXBlLCBtYWtlUmVjb3JkKGZhY3RvcnksIE5PVF9ZRVQpKTtcbiAgICAgICAgLy8gTmV4dCwgaW5jbHVkZSBwcm92aWRlcnMgbGlzdGVkIG9uIHRoZSBkZWZpbml0aW9uIGl0c2VsZi5cbiAgICAgICAgY29uc3QgZGVmUHJvdmlkZXJzID0gZGVmLnByb3ZpZGVycztcbiAgICAgICAgaWYgKGRlZlByb3ZpZGVycyAhPSBudWxsICYmICFpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0b3JUeXBlID0gZGVmT3JXcmFwcGVkRGVmO1xuICAgICAgICAgICAgZGVlcEZvckVhY2goZGVmUHJvdmlkZXJzLCBwcm92aWRlciA9PiB0aGlzLnByb2Nlc3NQcm92aWRlcihwcm92aWRlciwgaW5qZWN0b3JUeXBlLCBkZWZQcm92aWRlcnMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG5nTW9kdWxlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGRlZk9yV3JhcHBlZERlZi5wcm92aWRlcnMgIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBgU2luZ2xlUHJvdmlkZXJgIGFuZCBhZGQgaXQuXG4gICAgICovXG4gICAgcHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHRva2VuIGZyb20gdGhlIHByb3ZpZGVyLiBFaXRoZXIgaXQncyBpdHMgb3duIHRva2VuLCBvciBoYXMgYSB7cHJvdmlkZTogLi4ufVxuICAgICAgICAvLyBwcm9wZXJ0eS5cbiAgICAgICAgcHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgICAgIGxldCB0b2tlbiA9IGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSA/IHByb3ZpZGVyIDogcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIgJiYgcHJvdmlkZXIucHJvdmlkZSk7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhIGBSZWNvcmRgIGZvciB0aGUgcHJvdmlkZXIuXG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHByb3ZpZGVyVG9SZWNvcmQocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKTtcbiAgICAgICAgaWYgKCFpc1R5cGVQcm92aWRlcihwcm92aWRlcikgJiYgcHJvdmlkZXIubXVsdGkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwcm92aWRlciBpbmRpY2F0ZXMgdGhhdCBpdCdzIGEgbXVsdGktcHJvdmlkZXIsIHByb2Nlc3MgaXQgc3BlY2lhbGx5LlxuICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgd2hldGhlciBpdCdzIGJlZW4gZGVmaW5lZCBhbHJlYWR5LlxuICAgICAgICAgICAgbGV0IG11bHRpUmVjb3JkID0gdGhpcy5yZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICBpZiAobXVsdGlSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBoYXMuIFRocm93IGEgbmljZSBlcnJvciBpZlxuICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgbXVsdGlSZWNvcmQubXVsdGkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd01peGVkTXVsdGlQcm92aWRlckVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXVsdGlSZWNvcmQgPSBtYWtlUmVjb3JkKHVuZGVmaW5lZCwgTk9UX1lFVCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbXVsdGlSZWNvcmQuZmFjdG9yeSA9ICgpID0+IGluamVjdEFyZ3MobXVsdGlSZWNvcmQubXVsdGkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5zZXQodG9rZW4sIG11bHRpUmVjb3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuID0gcHJvdmlkZXI7XG4gICAgICAgICAgICBtdWx0aVJlY29yZC5tdWx0aS5wdXNoKHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5yZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmIGV4aXN0aW5nICYmIGV4aXN0aW5nLm11bHRpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvd01peGVkTXVsdGlQcm92aWRlckVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgcmVjb3JkKTtcbiAgICB9XG4gICAgaHlkcmF0ZSh0b2tlbiwgcmVjb3JkKSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgcmVjb3JkLnZhbHVlID09PSBDSVJDVUxBUikge1xuICAgICAgICAgICAgdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3Ioc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLnZhbHVlID09PSBOT1RfWUVUKSB7XG4gICAgICAgICAgICByZWNvcmQudmFsdWUgPSBDSVJDVUxBUjtcbiAgICAgICAgICAgIHJlY29yZC52YWx1ZSA9IHJlY29yZC5mYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWNvcmQudmFsdWUgPT09ICdvYmplY3QnICYmIHJlY29yZC52YWx1ZSAmJiBoYXNPbkRlc3Ryb3kocmVjb3JkLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3kuYWRkKHJlY29yZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZC52YWx1ZTtcbiAgICB9XG4gICAgaW5qZWN0YWJsZURlZkluU2NvcGUoZGVmKSB7XG4gICAgICAgIGlmICghZGVmLnByb3ZpZGVkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm92aWRlZEluID0gcmVzb2x2ZUZvcndhcmRSZWYoZGVmLnByb3ZpZGVkSW4pO1xuICAgICAgICBpZiAodHlwZW9mIHByb3ZpZGVkSW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZWRJbiA9PT0gJ2FueScgfHwgKHByb3ZpZGVkSW4gPT09IHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5oYXMocHJvdmlkZWRJbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodG9rZW4pIHtcbiAgICAvLyBNb3N0IHRva2VucyB3aWxsIGhhdmUgYW4gaW5qZWN0YWJsZSBkZWYgZGlyZWN0bHkgb24gdGhlbSwgd2hpY2ggc3BlY2lmaWVzIGEgZmFjdG9yeSBkaXJlY3RseS5cbiAgICBjb25zdCBpbmplY3RhYmxlRGVmID0gZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgY29uc3QgZmFjdG9yeSA9IGluamVjdGFibGVEZWYgIT09IG51bGwgPyBpbmplY3RhYmxlRGVmLmZhY3RvcnkgOiBnZXRGYWN0b3J5RGVmKHRva2VuKTtcbiAgICBpZiAoZmFjdG9yeSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9XG4gICAgLy8gSW5qZWN0aW9uVG9rZW5zIHNob3VsZCBoYXZlIGFuIGluamVjdGFibGUgZGVmICjJtXByb3YpIGFuZCB0aHVzIHNob3VsZCBiZSBoYW5kbGVkIGFib3ZlLlxuICAgIC8vIElmIGl0J3MgbWlzc2luZyB0aGF0LCBpdCdzIGFuIGVycm9yLlxuICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIEluamVjdGlvblRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoMjA0IC8qIElOVkFMSURfSU5KRUNUSU9OX1RPS0VOICovLCBuZ0Rldk1vZGUgJiYgYFRva2VuICR7c3RyaW5naWZ5KHRva2VuKX0gaXMgbWlzc2luZyBhIMm1cHJvdiBkZWZpbml0aW9uLmApO1xuICAgIH1cbiAgICAvLyBVbmRlY29yYXRlZCB0eXBlcyBjYW4gc29tZXRpbWVzIGJlIGNyZWF0ZWQgaWYgdGhleSBoYXZlIG5vIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0VW5kZWNvcmF0ZWRJbmplY3RhYmxlRmFjdG9yeSh0b2tlbik7XG4gICAgfVxuICAgIC8vIFRoZXJlIHdhcyBubyB3YXkgdG8gcmVzb2x2ZSBhIGZhY3RvcnkgZm9yIHRoaXMgdG9rZW4uXG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDQgLyogSU5WQUxJRF9JTkpFQ1RJT05fVE9LRU4gKi8sIG5nRGV2TW9kZSAmJiAndW5yZWFjaGFibGUnKTtcbn1cbmZ1bmN0aW9uIGdldFVuZGVjb3JhdGVkSW5qZWN0YWJsZUZhY3RvcnkodG9rZW4pIHtcbiAgICAvLyBJZiB0aGUgdG9rZW4gaGFzIHBhcmFtZXRlcnMgdGhlbiBpdCBoYXMgZGVwZW5kZW5jaWVzIHRoYXQgd2UgY2Fubm90IHJlc29sdmUgaW1wbGljaXRseS5cbiAgICBjb25zdCBwYXJhbUxlbmd0aCA9IHRva2VuLmxlbmd0aDtcbiAgICBpZiAocGFyYW1MZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBuZXdBcnJheShwYXJhbUxlbmd0aCwgJz8nKTtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDQgLyogSU5WQUxJRF9JTkpFQ1RJT05fVE9LRU4gKi8sIG5nRGV2TW9kZSAmJiBgQ2FuJ3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgJHtzdHJpbmdpZnkodG9rZW4pfTogKCR7YXJncy5qb2luKCcsICcpfSkuYCk7XG4gICAgfVxuICAgIC8vIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcHBlYXJzIHRvIGhhdmUgbm8gcGFyYW1ldGVycy5cbiAgICAvLyBUaGlzIG1pZ2h0IGJlIGJlY2F1c2UgaXQgaW5oZXJpdHMgZnJvbSBhIHN1cGVyLWNsYXNzLiBJbiB3aGljaCBjYXNlLCB1c2UgYW4gaW5qZWN0YWJsZVxuICAgIC8vIGRlZiBmcm9tIGFuIGFuY2VzdG9yIGlmIHRoZXJlIGlzIG9uZS5cbiAgICAvLyBPdGhlcndpc2UgdGhpcyByZWFsbHkgaXMgYSBzaW1wbGUgY2xhc3Mgd2l0aCBubyBkZXBlbmRlbmNpZXMsIHNvIHJldHVybiBhIGZhY3RvcnkgdGhhdFxuICAgIC8vIGp1c3QgaW5zdGFudGlhdGVzIHRoZSB6ZXJvLWFyZyBjb25zdHJ1Y3Rvci5cbiAgICBjb25zdCBpbmhlcml0ZWRJbmplY3RhYmxlRGVmID0gZ2V0SW5oZXJpdGVkSW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgaWYgKGluaGVyaXRlZEluamVjdGFibGVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGluaGVyaXRlZEluamVjdGFibGVEZWYuZmFjdG9yeSh0b2tlbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKCkgPT4gbmV3IHRva2VuKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvdmlkZXJUb1JlY29yZChwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpIHtcbiAgICBpZiAoaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICByZXR1cm4gbWFrZVJlY29yZCh1bmRlZmluZWQsIHByb3ZpZGVyLnVzZVZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBwcm92aWRlclRvRmFjdG9yeShwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gbWFrZVJlY29yZChmYWN0b3J5LCBOT1RfWUVUKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIGEgYFNpbmdsZVByb3ZpZGVyYCBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gcHJvdmlkZXIgcHJvdmlkZXIgdG8gY29udmVydCB0byBmYWN0b3J5XG4gKi9cbmZ1bmN0aW9uIHByb3ZpZGVyVG9GYWN0b3J5KHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgIGxldCBmYWN0b3J5ID0gdW5kZWZpbmVkO1xuICAgIGlmIChpc1R5cGVQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgY29uc3QgdW53cmFwcGVkUHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgICAgIHJldHVybiBnZXRGYWN0b3J5RGVmKHVud3JhcHBlZFByb3ZpZGVyKSB8fCBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodW53cmFwcGVkUHJvdmlkZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzVmFsdWVQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGYWN0b3J5UHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gKCkgPT4gcHJvdmlkZXIudXNlRmFjdG9yeSguLi5pbmplY3RBcmdzKHByb3ZpZGVyLmRlcHMgfHwgW10pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0V4aXN0aW5nUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gKCkgPT4gybXJtWluamVjdChyZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VFeGlzdGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NSZWYgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlciAmJlxuICAgICAgICAgICAgICAgIChwcm92aWRlci51c2VDbGFzcyB8fCBwcm92aWRlci5wcm92aWRlKSk7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmICFjbGFzc1JlZikge1xuICAgICAgICAgICAgICAgIHRocm93SW52YWxpZFByb3ZpZGVyRXJyb3IobmdNb2R1bGVUeXBlLCBwcm92aWRlcnMsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNEZXBzKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiBuZXcgKGNsYXNzUmVmKSguLi5pbmplY3RBcmdzKHByb3ZpZGVyLmRlcHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGYWN0b3J5RGVmKGNsYXNzUmVmKSB8fCBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkoY2xhc3NSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWN0b3J5O1xufVxuZnVuY3Rpb24gbWFrZVJlY29yZChmYWN0b3J5LCB2YWx1ZSwgbXVsdGkgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGZhY3Rvcnk6IGZhY3RvcnksXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgbXVsdGk6IG11bHRpID8gW10gOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzVmFsdWVQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgVVNFX1ZBTFVFJDEgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBpc0V4aXN0aW5nUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUudXNlRXhpc3RpbmcpO1xufVxuZnVuY3Rpb24gaXNGYWN0b3J5UHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUudXNlRmFjdG9yeSk7XG59XG5mdW5jdGlvbiBpc1R5cGVQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0NsYXNzUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZS51c2VDbGFzcztcbn1cbmZ1bmN0aW9uIGhhc0RlcHModmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZS5kZXBzO1xufVxuZnVuY3Rpb24gaGFzT25EZXN0cm95KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlLm5nT25EZXN0cm95ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gY291bGRCZUluamVjdGFibGVUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlIGluc3RhbmNlb2YgSW5qZWN0aW9uVG9rZW4pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29uY3JldGUgaW5qZWN0b3JzIGltcGxlbWVudCB0aGlzIGludGVyZmFjZS4gSW5qZWN0b3JzIGFyZSBjb25maWd1cmVkXG4gKiB3aXRoIFtwcm92aWRlcnNdKGd1aWRlL2dsb3NzYXJ5I3Byb3ZpZGVyKSB0aGF0IGFzc29jaWF0ZVxuICogZGVwZW5kZW5jaWVzIG9mIHZhcmlvdXMgdHlwZXMgd2l0aCBbaW5qZWN0aW9uIHRva2Vuc10oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4pLlxuICpcbiAqIEBzZWUgW1wiREkgUHJvdmlkZXJzXCJdKGd1aWRlL2RlcGVuZGVuY3ktaW5qZWN0aW9uLXByb3ZpZGVycykuXG4gKiBAc2VlIGBTdGF0aWNQcm92aWRlcmBcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqICBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIHNlcnZpY2UgaW5qZWN0b3IgaW5zdGFuY2UuXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvcHJvdmlkZXJfc3BlYy50cyByZWdpb249J0NvbnN0cnVjdG9yUHJvdmlkZXInfVxuICpcbiAqICMjIyBVc2FnZSBleGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J0luamVjdG9yJ31cbiAqXG4gKiBgSW5qZWN0b3JgIHJldHVybnMgaXRzZWxmIHdoZW4gZ2l2ZW4gYEluamVjdG9yYCBhcyBhIHRva2VuOlxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdpbmplY3RJbmplY3Rvcid9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBJbmplY3RvciB7XG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUluamVjdG9yKHsgbmFtZTogJycgfSwgcGFyZW50LCBvcHRpb25zLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gKF9hID0gb3B0aW9ucy5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmplY3Rvcih7IG5hbWUgfSwgb3B0aW9ucy5wYXJlbnQsIG9wdGlvbnMucHJvdmlkZXJzLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORCA9IFRIUk9XX0lGX05PVF9GT1VORDtcbkluamVjdG9yLk5VTEwgPSAoIC8qIEBfX1BVUkVfXyAqL25ldyBOdWxsSW5qZWN0b3IoKSk7XG4vKiogQG5vY29sbGFwc2UgKi9cbkluamVjdG9yLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHtcbiAgICB0b2tlbjogSW5qZWN0b3IsXG4gICAgcHJvdmlkZWRJbjogJ2FueScsXG4gICAgZmFjdG9yeTogKCkgPT4gybXJtWluamVjdChJTkpFQ1RPUiksXG59KTtcbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5JbmplY3Rvci5fX05HX0VMRU1FTlRfSURfXyA9IC0xIC8qIEluamVjdG9yICovO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gRE9NIGVsZW1lbnQuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgRE9NIHN0cnVjdHVyZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLXJvb3Q+XG4gKiAgIDxkaXY+XG4gKiAgICAgPGNoaWxkLWNvbXA+PC9jaGlsZC1jb21wPlxuICogICA8L2Rpdj5cbiAqIDwvYXBwLXJvb3Q+XG4gKiBgYGBcbiAqXG4gKiBDYWxsaW5nIGBnZXRDb21wb25lbnRgIG9uIGA8Y2hpbGQtY29tcD5gIHdpbGwgcmV0dXJuIHRoZSBpbnN0YW5jZSBvZiBgQ2hpbGRDb21wb25lbnRgXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhpcyBET00gZWxlbWVudC5cbiAqXG4gKiBDYWxsaW5nIHRoZSBmdW5jdGlvbiBvbiBgPGFwcC1yb290PmAgd2lsbCByZXR1cm4gdGhlIGBNeUFwcGAgaW5zdGFuY2UuXG4gKlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IERPTSBlbGVtZW50IGZyb20gd2hpY2ggdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHJldHVybnMgQ29tcG9uZW50IGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudCBvciBgbnVsbGAgaWYgdGhlcmVcbiAqICAgIGlzIG5vIGNvbXBvbmVudCBhc3NvY2lhdGVkIHdpdGggaXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnQkMShlbGVtZW50KSB7XG4gICAgYXNzZXJ0RG9tRWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChjb250ZXh0LmNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50ID0gZ2V0Q29tcG9uZW50QXROb2RlSW5kZXgoY29udGV4dC5ub2RlSW5kZXgsIGNvbnRleHQubFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnQ7XG59XG4vKipcbiAqIElmIGluc2lkZSBhbiBlbWJlZGRlZCB2aWV3IChlLmcuIGAqbmdJZmAgb3IgYCpuZ0ZvcmApLCByZXRyaWV2ZXMgdGhlIGNvbnRleHQgb2YgdGhlIGVtYmVkZGVkXG4gKiB2aWV3IHRoYXQgdGhlIGVsZW1lbnQgaXMgcGFydCBvZi4gT3RoZXJ3aXNlIHJldHJpZXZlcyB0aGUgaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCB3aG9zZSB2aWV3XG4gKiBvd25zIHRoZSBlbGVtZW50IChpbiB0aGlzIGNhc2UsIHRoZSByZXN1bHQgaXMgdGhlIHNhbWUgYXMgY2FsbGluZyBgZ2V0T3duaW5nQ29tcG9uZW50YCkuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBzdXJyb3VuZGluZyBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyBJbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IHRoYXQgaXMgYXJvdW5kIHRoZSBlbGVtZW50IG9yIG51bGwgaWYgdGhlIGVsZW1lbnQgaXNuJ3RcbiAqICAgIGluc2lkZSBhbnkgY29tcG9uZW50LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGV4dChlbGVtZW50KSB7XG4gICAgYXNzZXJ0RG9tRWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgcmV0dXJuIGNvbnRleHQgPT09IG51bGwgPyBudWxsIDogY29udGV4dC5sVmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb21wb25lbnQgaW5zdGFuY2Ugd2hvc2UgdmlldyBjb250YWlucyB0aGUgRE9NIGVsZW1lbnQuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmIGA8Y2hpbGQtY29tcD5gIGlzIHVzZWQgaW4gdGhlIHRlbXBsYXRlIG9mIGA8YXBwLWNvbXA+YFxuICogKGkuZS4gYSBgVmlld0NoaWxkYCBvZiBgPGFwcC1jb21wPmApLCBjYWxsaW5nIGBnZXRPd25pbmdDb21wb25lbnRgIG9uIGA8Y2hpbGQtY29tcD5gXG4gKiB3b3VsZCByZXR1cm4gYDxhcHAtY29tcD5gLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50T3JEaXIgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2VcbiAqICAgIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgcm9vdCBjb21wb25lbnRzLlxuICogQHJldHVybnMgQ29tcG9uZW50IGluc3RhbmNlIHdob3NlIHZpZXcgb3ducyB0aGUgRE9NIGVsZW1lbnQgb3IgbnVsbCBpZiB0aGUgZWxlbWVudCBpcyBub3RcbiAqICAgIHBhcnQgb2YgYSBjb21wb25lbnQgdmlldy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldE93bmluZ0NvbXBvbmVudChlbGVtZW50T3JEaXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudE9yRGlyKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICBsZXQgcGFyZW50O1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgd2hpbGUgKGxWaWV3W1RWSUVXXS50eXBlID09PSAyIC8qIEVtYmVkZGVkICovICYmIChwYXJlbnQgPSBnZXRMVmlld1BhcmVudChsVmlldykpKSB7XG4gICAgICAgIGxWaWV3ID0gcGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbFZpZXdbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLyA/IG51bGwgOiBsVmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFsbCByb290IGNvbXBvbmVudHMgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQsIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBSb290IGNvbXBvbmVudHMgYXJlIHRob3NlIHdoaWNoIGhhdmUgYmVlbiBib290c3RyYXBwZWQgYnkgQW5ndWxhci5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudE9yRGlyIERPTSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlXG4gKiAgICBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlIHJvb3QgY29tcG9uZW50cy5cbiAqIEByZXR1cm5zIFJvb3QgY29tcG9uZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRSb290Q29tcG9uZW50cyhlbGVtZW50T3JEaXIpIHtcbiAgICByZXR1cm4gWy4uLmdldFJvb3RDb250ZXh0KGVsZW1lbnRPckRpcikuY29tcG9uZW50c107XG59XG4vKipcbiAqIFJldHJpZXZlcyBhbiBgSW5qZWN0b3JgIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50T3JEaXIgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UgZm9yIHdoaWNoIHRvXG4gKiAgICByZXRyaWV2ZSB0aGUgaW5qZWN0b3IuXG4gKiBAcmV0dXJucyBJbmplY3RvciBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRJbmplY3RvcihlbGVtZW50T3JEaXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudE9yRGlyKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIEluamVjdG9yLk5VTEw7XG4gICAgY29uc3QgdE5vZGUgPSBjb250ZXh0LmxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0Tm9kZSwgY29udGV4dC5sVmlldyk7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgc2V0IG9mIGluamVjdGlvbiB0b2tlbnMgYXQgYSBnaXZlbiBET00gbm9kZS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0aGUgaW5qZWN0aW9uIHRva2VucyBzaG91bGQgYmUgcmV0cmlldmVkLlxuICovXG5mdW5jdGlvbiBnZXRJbmplY3Rpb25Ub2tlbnMoZWxlbWVudCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgIGNvbnN0IHByb3ZpZGVyVG9rZW5zID0gW107XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyAmIDEwNDg1NzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgY29uc3QgZW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIGlmIChpc0RpcmVjdGl2ZURlZkhhY2sodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBUaGUgZmFjdCB0aGF0IHdlIHNvbWV0aW1lcyBzdG9yZSBUeXBlIGFuZCBzb21ldGltZXMgRGlyZWN0aXZlRGVmIGluIHRoaXMgbG9jYXRpb24gaXMgYVxuICAgICAgICAgICAgLy8gZGVzaWduIGZsYXcuICBXZSBzaG91bGQgYWx3YXlzIHN0b3JlIHNhbWUgdHlwZSBzbyB0aGF0IHdlIGNhbiBiZSBtb25vbW9ycGhpYy4gVGhlIGlzc3VlXG4gICAgICAgICAgICAvLyBpcyB0aGF0IGZvciBDb21wb25lbnRzL0RpcmVjdGl2ZXMgd2Ugc3RvcmUgdGhlIGRlZiBpbnN0ZWFkIHRoZSB0eXBlLiBUaGUgY29ycmVjdCBiZWhhdmlvclxuICAgICAgICAgICAgLy8gaXMgdGhhdCB3ZSBzaG91bGQgYWx3YXlzIGJlIHN0b3JpbmcgaW5qZWN0YWJsZSB0eXBlIGluIHRoaXMgbG9jYXRpb24uXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdmlkZXJUb2tlbnMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlclRva2Vucztcbn1cbi8qKlxuICogUmV0cmlldmVzIGRpcmVjdGl2ZSBpbnN0YW5jZXMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gRE9NIG5vZGUuIERvZXMgbm90IGluY2x1ZGVcbiAqIGNvbXBvbmVudCBpbnN0YW5jZXMuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgRE9NIHN0cnVjdHVyZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLXJvb3Q+XG4gKiAgIDxidXR0b24gbXktYnV0dG9uPjwvYnV0dG9uPlxuICogICA8bXktY29tcD48L215LWNvbXA+XG4gKiA8L2FwcC1yb290PlxuICogYGBgXG4gKlxuICogQ2FsbGluZyBgZ2V0RGlyZWN0aXZlc2Agb24gYDxidXR0b24+YCB3aWxsIHJldHVybiBhbiBhcnJheSB3aXRoIGFuIGluc3RhbmNlIG9mIHRoZSBgTXlCdXR0b25gXG4gKiBkaXJlY3RpdmUgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIERPTSBub2RlLlxuICpcbiAqIENhbGxpbmcgYGdldERpcmVjdGl2ZXNgIG9uIGA8bXktY29tcD5gIHdpbGwgcmV0dXJuIGFuIGVtcHR5IGFycmF5LlxuICpcbiAqIEBwYXJhbSBub2RlIERPTSBub2RlIGZvciB3aGljaCB0byBnZXQgdGhlIGRpcmVjdGl2ZXMuXG4gKiBAcmV0dXJucyBBcnJheSBvZiBkaXJlY3RpdmVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgbm9kZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZXMobm9kZSkge1xuICAgIC8vIFNraXAgdGV4dCBub2RlcyBiZWNhdXNlIHdlIGNhbid0IGhhdmUgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggdGhlbS5cbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQobm9kZSk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgY29uc3Qgbm9kZUluZGV4ID0gY29udGV4dC5ub2RlSW5kZXg7XG4gICAgaWYgKCEodFZpZXcgPT09IG51bGwgfHwgdFZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRWaWV3LmRhdGFbbm9kZUluZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5kaXJlY3RpdmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzID0gZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcsIGZhbHNlKTtcbiAgICB9XG4gICAgLy8gVGhlIGBkaXJlY3RpdmVzYCBpbiB0aGlzIGNhc2UgYXJlIGEgbmFtZWQgYXJyYXkgY2FsbGVkIGBMQ29tcG9uZW50Vmlld2AuIENsb25lIHRoZVxuICAgIC8vIHJlc3VsdCBzbyB3ZSBkb24ndCBleHBvc2UgYW4gaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgaW4gdGhlIHVzZXIncyBjb25zb2xlLlxuICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXMgPT09IG51bGwgPyBbXSA6IFsuLi5jb250ZXh0LmRpcmVjdGl2ZXNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWJ1ZyAocGFydGlhbCkgbWV0YWRhdGEgZm9yIGEgcGFydGljdWxhciBkaXJlY3RpdmUgb3IgY29tcG9uZW50IGluc3RhbmNlLlxuICogVGhlIGZ1bmN0aW9uIGFjY2VwdHMgYW4gaW5zdGFuY2Ugb2YgYSBkaXJlY3RpdmUgb3IgY29tcG9uZW50IGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nXG4gKiBtZXRhZGF0YS5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlT3JDb21wb25lbnRJbnN0YW5jZSBJbnN0YW5jZSBvZiBhIGRpcmVjdGl2ZSBvciBjb21wb25lbnRcbiAqIEByZXR1cm5zIG1ldGFkYXRhIG9mIHRoZSBwYXNzZWQgZGlyZWN0aXZlIG9yIGNvbXBvbmVudFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlTWV0YWRhdGEkMShkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgY29uc3QgeyBjb25zdHJ1Y3RvciB9ID0gZGlyZWN0aXZlT3JDb21wb25lbnRJbnN0YW5jZTtcbiAgICBpZiAoIWNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgdGhlIGluc3RhbmNlIGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuICAgIC8vIEluIGNhc2UgYSBjb21wb25lbnQgaW5oZXJpdHMgZnJvbSBhIGRpcmVjdGl2ZSwgd2UgbWF5IGhhdmUgY29tcG9uZW50IGFuZCBkaXJlY3RpdmUgbWV0YWRhdGFcbiAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgZ2V0IHRoZSBtZXRhZGF0YSBvZiB0aGUgZGlyZWN0aXZlLCB3ZSB3YW50IHRvIGNhbGwgYGdldENvbXBvbmVudERlZmAgZmlyc3QuXG4gICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbnN0cnVjdG9yKTtcbiAgICBpZiAoY29tcG9uZW50RGVmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dHM6IGNvbXBvbmVudERlZi5pbnB1dHMsXG4gICAgICAgICAgICBvdXRwdXRzOiBjb21wb25lbnREZWYub3V0cHV0cyxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvbXBvbmVudERlZi5lbmNhcHN1bGF0aW9uLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBjb21wb25lbnREZWYub25QdXNoID8gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoIDpcbiAgICAgICAgICAgICAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5EZWZhdWx0XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGRpcmVjdGl2ZURlZiA9IGdldERpcmVjdGl2ZURlZihjb25zdHJ1Y3Rvcik7XG4gICAgaWYgKGRpcmVjdGl2ZURlZikge1xuICAgICAgICByZXR1cm4geyBpbnB1dHM6IGRpcmVjdGl2ZURlZi5pbnB1dHMsIG91dHB1dHM6IGRpcmVjdGl2ZURlZi5vdXRwdXRzIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBtYXAgb2YgbG9jYWwgcmVmZXJlbmNlcy5cbiAqXG4gKiBUaGUgcmVmZXJlbmNlcyBhcmUgcmV0cmlldmVkIGFzIGEgbWFwIG9mIGxvY2FsIHJlZmVyZW5jZSBuYW1lIHRvIGVsZW1lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UgZm9yIHdoaWNoIHRvIHJldHJpZXZlXG4gKiAgICB0aGUgbG9jYWwgcmVmZXJlbmNlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxSZWZzKHRhcmdldCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dCh0YXJnZXQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4ge307XG4gICAgaWYgKGNvbnRleHQubG9jYWxSZWZzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5sb2NhbFJlZnMgPSBkaXNjb3ZlckxvY2FsUmVmcyhjb250ZXh0LmxWaWV3LCBjb250ZXh0Lm5vZGVJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmxvY2FsUmVmcyB8fCB7fTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBob3N0IGVsZW1lbnQgb2YgYSBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlLlxuICogVGhlIGhvc3QgZWxlbWVudCBpcyB0aGUgRE9NIGVsZW1lbnQgdGhhdCBtYXRjaGVkIHRoZSBzZWxlY3RvciBvZiB0aGUgZGlyZWN0aXZlLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRPckRpcmVjdGl2ZSBDb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlIGZvciB3aGljaCB0aGUgaG9zdFxuICogICAgIGVsZW1lbnQgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqIEByZXR1cm5zIEhvc3QgZWxlbWVudCBvZiB0aGUgdGFyZ2V0LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0SG9zdEVsZW1lbnQoY29tcG9uZW50T3JEaXJlY3RpdmUpIHtcbiAgICByZXR1cm4gZ2V0TENvbnRleHQoY29tcG9uZW50T3JEaXJlY3RpdmUpLm5hdGl2ZTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSByZW5kZXJlZCB0ZXh0IGZvciBhIGdpdmVuIGNvbXBvbmVudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHJpZXZlcyB0aGUgaG9zdCBlbGVtZW50IG9mIGEgY29tcG9uZW50IGFuZFxuICogYW5kIHRoZW4gcmV0dXJucyB0aGUgYHRleHRDb250ZW50YCBmb3IgdGhhdCBlbGVtZW50LiBUaGlzIGltcGxpZXNcbiAqIHRoYXQgdGhlIHRleHQgcmV0dXJuZWQgd2lsbCBpbmNsdWRlIHJlLXByb2plY3RlZCBjb250ZW50IG9mXG4gKiB0aGUgY29tcG9uZW50IGFzIHdlbGwuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIHJldHVybiB0aGUgY29udGVudCB0ZXh0IGZvci5cbiAqL1xuZnVuY3Rpb24gZ2V0UmVuZGVyZWRUZXh0KGNvbXBvbmVudCkge1xuICAgIGNvbnN0IGhvc3RFbGVtZW50ID0gZ2V0SG9zdEVsZW1lbnQoY29tcG9uZW50KTtcbiAgICByZXR1cm4gaG9zdEVsZW1lbnQudGV4dENvbnRlbnQgfHwgJyc7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgZXZlbnQgbGlzdGVuZXJzIGFzc29jaWF0ZWQgd2l0aCBhIERPTSBlbGVtZW50LiBUaGUgbGlzdCBkb2VzIGluY2x1ZGUgaG9zdFxuICogbGlzdGVuZXJzLCBidXQgaXQgZG9lcyBub3QgaW5jbHVkZSBldmVudCBsaXN0ZW5lcnMgZGVmaW5lZCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIGNvbnRleHRcbiAqIChlLmcuIHRocm91Z2ggYGFkZEV2ZW50TGlzdGVuZXJgKS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogR2l2ZW4gdGhlIGZvbGxvd2luZyBET00gc3RydWN0dXJlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxhcHAtcm9vdD5cbiAqICAgPGRpdiAoY2xpY2spPVwiZG9Tb21ldGhpbmcoKVwiPjwvZGl2PlxuICogPC9hcHAtcm9vdD5cbiAqIGBgYFxuICpcbiAqIENhbGxpbmcgYGdldExpc3RlbmVyc2Agb24gYDxkaXY+YCB3aWxsIHJldHVybiBhbiBvYmplY3QgdGhhdCBsb29rcyBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYHRzXG4gKiB7XG4gKiAgIG5hbWU6ICdjbGljaycsXG4gKiAgIGVsZW1lbnQ6IDxkaXY+LFxuICogICBjYWxsYmFjazogKCkgPT4gZG9Tb21ldGhpbmcoKSxcbiAqICAgdXNlQ2FwdHVyZTogZmFsc2VcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgZm9yIHdoaWNoIHRoZSBET00gbGlzdGVuZXJzIHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKiBAcmV0dXJucyBBcnJheSBvZiBldmVudCBsaXN0ZW5lcnMgb24gdGhlIERPTSBlbGVtZW50LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKGVsZW1lbnQpIHtcbiAgICBhc3NlcnREb21FbGVtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGxDb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgbFZpZXcgPSBsQ29udGV4dC5sVmlldztcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCBsQ2xlYW51cCA9IGxWaWV3W0NMRUFOVVBdO1xuICAgIGNvbnN0IHRDbGVhbnVwID0gdFZpZXcuY2xlYW51cDtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBpZiAodENsZWFudXAgJiYgbENsZWFudXApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Q2xlYW51cC5sZW5ndGg7KSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFBhcmFtID0gdENsZWFudXBbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFBhcmFtID0gdENsZWFudXBbaSsrXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlyc3RQYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZmlyc3RQYXJhbTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lckVsZW1lbnQgPSB1bndyYXBSTm9kZShsVmlld1tzZWNvbmRQYXJhbV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gbENsZWFudXBbdENsZWFudXBbaSsrXV07XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlQ2FwdHVyZU9ySW5keCA9IHRDbGVhbnVwW2krK107XG4gICAgICAgICAgICAgICAgLy8gaWYgdXNlQ2FwdHVyZU9ySW5keCBpcyBib29sZWFuIHRoZW4gcmVwb3J0IGl0IGFzIGlzLlxuICAgICAgICAgICAgICAgIC8vIGlmIHVzZUNhcHR1cmVPckluZHggaXMgcG9zaXRpdmUgbnVtYmVyIHRoZW4gaXQgaW4gdW5zdWJzY3JpYmUgbWV0aG9kXG4gICAgICAgICAgICAgICAgLy8gaWYgdXNlQ2FwdHVyZU9ySW5keCBpcyBuZWdhdGl2ZSBudW1iZXIgdGhlbiBpdCBpcyBhIFN1YnNjcmlwdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAodHlwZW9mIHVzZUNhcHR1cmVPckluZHggPT09ICdib29sZWFuJyB8fCB1c2VDYXB0dXJlT3JJbmR4ID49IDApID8gJ2RvbScgOiAnb3V0cHV0JztcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VDYXB0dXJlID0gdHlwZW9mIHVzZUNhcHR1cmVPckluZHggPT09ICdib29sZWFuJyA/IHVzZUNhcHR1cmVPckluZHggOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCA9PSBsaXN0ZW5lckVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBlbGVtZW50LCBuYW1lLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSwgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGlzdGVuZXJzLnNvcnQoc29ydExpc3RlbmVycyk7XG4gICAgcmV0dXJuIGxpc3RlbmVycztcbn1cbmZ1bmN0aW9uIHNvcnRMaXN0ZW5lcnMoYSwgYikge1xuICAgIGlmIChhLm5hbWUgPT0gYi5uYW1lKVxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gYS5uYW1lIDwgYi5uYW1lID8gLTEgOiAxO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBub3QgZXhpc3QgYmVjYXVzZSBpdCBpcyBtZWdhbW9ycGhpYyBhbmQgb25seSBtb3N0bHkgY29ycmVjdC5cbiAqXG4gKiBTZWUgY2FsbCBzaXRlIGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlRGVmSGFjayhvYmopIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgIT09IHVuZGVmaW5lZCAmJiBvYmoudGVtcGxhdGUgIT09IHVuZGVmaW5lZCAmJiBvYmouZGVjbGFyZWRJbnB1dHMgIT09IHVuZGVmaW5lZDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgYXR0YWNoZWQgYERlYnVnTm9kZWAgaW5zdGFuY2UgZm9yIGFuIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyBvd25lZCBieSBhbiBleGlzdGluZyBjb21wb25lbnQncyB2aWV3LlxuICovXG5mdW5jdGlvbiBnZXREZWJ1Z05vZGUkMShlbGVtZW50KSB7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhKGVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGluZyBpbnN0YW5jZSBvZiBET00gRWxlbWVudCcpO1xuICAgIH1cbiAgICBjb25zdCBsQ29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgIGlmIChsQ29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbFZpZXcgPSBsQ29udGV4dC5sVmlldztcbiAgICBjb25zdCBub2RlSW5kZXggPSBsQ29udGV4dC5ub2RlSW5kZXg7XG4gICAgaWYgKG5vZGVJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgdmFsdWVJbkxWaWV3ID0gbFZpZXdbbm9kZUluZGV4XTtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHZhbHVlIGluIHRoZSBsVmlldyBpcyBhIGNvbXBvbmVudCB3aXRoIGl0cyBvd25cbiAgICAgICAgLy8gZGF0YS4gSW4gdGhpcyBzaXR1YXRpb24gdGhlIFROb2RlIGlzIG5vdCBhY2Nlc3NlZCBhdCB0aGUgc2FtZSBzcG90LlxuICAgICAgICBjb25zdCB0Tm9kZSA9IGlzTFZpZXcodmFsdWVJbkxWaWV3KSA/IHZhbHVlSW5MVmlld1tUX0hPU1RdIDogZ2V0VE5vZGUobFZpZXdbVFZJRVddLCBub2RlSW5kZXgpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKHROb2RlLmluZGV4LCBub2RlSW5kZXgsICdFeHBlY3RpbmcgdGhhdCBUTm9kZSBhdCBpbmRleCBpcyBzYW1lIGFzIGluZGV4Jyk7XG4gICAgICAgIHJldHVybiBidWlsZERlYnVnTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIGNvbXBvbmVudCBgTFZpZXdgIGZyb20gY29tcG9uZW50L2VsZW1lbnQuXG4gKlxuICogTk9URTogYExWaWV3YCBpcyBhIHByaXZhdGUgYW5kIHNob3VsZCBub3QgYmUgbGVha2VkIG91dHNpZGUuXG4gKiAgICAgICBEb24ndCBleHBvcnQgdGhpcyBtZXRob2QgdG8gYG5nLipgIG9uIHdpbmRvdy5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IERPTSBlbGVtZW50IG9yIGNvbXBvbmVudCBpbnN0YW5jZSBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlIExWaWV3LlxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRMVmlldyh0YXJnZXQpIHtcbiAgICBjb25zdCBsQ29udGV4dCA9IGdldExDb250ZXh0KHRhcmdldCk7XG4gICAgY29uc3Qgbm9kZUluZHggPSBsQ29udGV4dC5ub2RlSW5kZXg7XG4gICAgY29uc3QgbFZpZXcgPSBsQ29udGV4dC5sVmlldztcbiAgICBjb25zdCBjb21wb25lbnRMVmlldyA9IGxWaWV3W25vZGVJbmR4XTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXcoY29tcG9uZW50TFZpZXcpO1xuICAgIHJldHVybiBjb21wb25lbnRMVmlldztcbn1cbi8qKiBBc3NlcnRzIHRoYXQgYSB2YWx1ZSBpcyBhIERPTSBFbGVtZW50LiAqL1xuZnVuY3Rpb24gYXNzZXJ0RG9tRWxlbWVudCh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGluc3RhbmNlIG9mIERPTSBFbGVtZW50Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFya3MgYSBjb21wb25lbnQgZm9yIGNoZWNrIChpbiBjYXNlIG9mIE9uUHVzaCBjb21wb25lbnRzKSBhbmQgc3luY2hyb25vdXNseVxuICogcGVyZm9ybXMgY2hhbmdlIGRldGVjdGlvbiBvbiB0aGUgYXBwbGljYXRpb24gdGhpcyBjb21wb25lbnQgYmVsb25ncyB0by5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCB0byB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjbWFya0ZvckNoZWNrIG1hcmsgZm9yIGNoZWNrfS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGFwcGx5Q2hhbmdlcyhjb21wb25lbnQpIHtcbiAgICBtYXJrRGlydHkoY29tcG9uZW50KTtcbiAgICBnZXRSb290Q29tcG9uZW50cyhjb21wb25lbnQpLmZvckVhY2gocm9vdENvbXBvbmVudCA9PiBkZXRlY3RDaGFuZ2VzKHJvb3RDb21wb25lbnQpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBpbnRyb2R1Y2VzIHNlcmllcyBvZiBnbG9iYWxseSBhY2Nlc3NpYmxlIGRlYnVnIHRvb2xzXG4gKiB0byBhbGxvdyBmb3IgdGhlIEFuZ3VsYXIgZGVidWdnaW5nIHN0b3J5IHRvIGZ1bmN0aW9uLlxuICpcbiAqIFRvIHNlZSB0aGlzIGluIGFjdGlvbiBydW4gdGhlIGZvbGxvd2luZyBjb21tYW5kOlxuICpcbiAqICAgYmF6ZWwgcnVuIC8vcGFja2FnZXMvY29yZS90ZXN0L2J1bmRsaW5nL3RvZG86ZGV2c2VydmVyXG4gKlxuICogIFRoZW4gbG9hZCBgbG9jYWxob3N0OjU0MzJgIGFuZCBzdGFydCB1c2luZyB0aGUgY29uc29sZSB0b29scy5cbiAqL1xuLyoqXG4gKiBUaGlzIHZhbHVlIHJlZmxlY3RzIHRoZSBwcm9wZXJ0eSBvbiB0aGUgd2luZG93IHdoZXJlIHRoZSBkZXZcbiAqIHRvb2xzIGFyZSBwYXRjaGVkICh3aW5kb3cubmcpLlxuICogKi9cbmNvbnN0IEdMT0JBTF9QVUJMSVNIX0VYUEFORE9fS0VZID0gJ25nJztcbmxldCBfcHVibGlzaGVkID0gZmFsc2U7XG4vKipcbiAqIFB1Ymxpc2hlcyBhIGNvbGxlY3Rpb24gb2YgZGVmYXVsdCBkZWJ1ZyB0b29scyBvbnRvYHdpbmRvdy5uZ2AuXG4gKlxuICogVGhlc2UgZnVuY3Rpb25zIGFyZSBhdmFpbGFibGUgZ2xvYmFsbHkgd2hlbiBBbmd1bGFyIGlzIGluIGRldmVsb3BtZW50XG4gKiBtb2RlIGFuZCBhcmUgYXV0b21hdGljYWxseSBzdHJpcHBlZCBhd2F5IGZyb20gcHJvZCBtb2RlIGlzIG9uLlxuICovXG5mdW5jdGlvbiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEoKSB7XG4gICAgaWYgKCFfcHVibGlzaGVkKSB7XG4gICAgICAgIF9wdWJsaXNoZWQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2FybmluZzogdGhpcyBmdW5jdGlvbiBpcyAqSU5URVJOQUwqIGFuZCBzaG91bGQgbm90IGJlIHJlbGllZCB1cG9uIGluIGFwcGxpY2F0aW9uJ3MgY29kZS5cbiAgICAgICAgICogVGhlIGNvbnRyYWN0IG9mIHRoZSBmdW5jdGlvbiBtaWdodCBiZSBjaGFuZ2VkIGluIGFueSByZWxlYXNlIGFuZC9vciB0aGUgZnVuY3Rpb24gY2FuIGJlXG4gICAgICAgICAqIHJlbW92ZWQgY29tcGxldGVseS5cbiAgICAgICAgICovXG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCfJtXNldFByb2ZpbGVyJywgc2V0UHJvZmlsZXIpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0RGlyZWN0aXZlTWV0YWRhdGEnLCBnZXREaXJlY3RpdmVNZXRhZGF0YSQxKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldENvbXBvbmVudCcsIGdldENvbXBvbmVudCQxKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldENvbnRleHQnLCBnZXRDb250ZXh0KTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldExpc3RlbmVycycsIGdldExpc3RlbmVycyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRPd25pbmdDb21wb25lbnQnLCBnZXRPd25pbmdDb21wb25lbnQpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0SG9zdEVsZW1lbnQnLCBnZXRIb3N0RWxlbWVudCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRJbmplY3RvcicsIGdldEluamVjdG9yKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldFJvb3RDb21wb25lbnRzJywgZ2V0Um9vdENvbXBvbmVudHMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0RGlyZWN0aXZlcycsIGdldERpcmVjdGl2ZXMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnYXBwbHlDaGFuZ2VzJywgYXBwbHlDaGFuZ2VzKTtcbiAgICB9XG59XG4vKipcbiAqIFB1Ymxpc2hlcyB0aGUgZ2l2ZW4gZnVuY3Rpb24gdG8gYHdpbmRvdy5uZ2Agc28gdGhhdCBpdCBjYW4gYmVcbiAqIHVzZWQgZnJvbSB0aGUgYnJvd3NlciBjb25zb2xlIHdoZW4gYW4gYXBwbGljYXRpb24gaXMgbm90IGluIHByb2R1Y3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hHbG9iYWxVdGlsKG5hbWUsIGZuKSB7XG4gICAgaWYgKHR5cGVvZiBDT01QSUxFRCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUNPTVBJTEVEKSB7XG4gICAgICAgIC8vIE5vdGU6IHdlIGNhbid0IGV4cG9ydCBgbmdgIHdoZW4gdXNpbmcgY2xvc3VyZSBlbmhhbmNlZCBvcHRpbWl6YXRpb24gYXM6XG4gICAgICAgIC8vIC0gY2xvc3VyZSBkZWNsYXJlcyBnbG9iYWxzIGl0c2VsZiBmb3IgbWluaWZpZWQgbmFtZXMsIHdoaWNoIHNvbWV0aW1lcyBjbG9iYmVyIG91ciBgbmdgIGdsb2JhbFxuICAgICAgICAvLyAtIHdlIGNhbid0IGRlY2xhcmUgYSBjbG9zdXJlIGV4dGVybiBhcyB0aGUgbmFtZXNwYWNlIGBuZ2AgaXMgYWxyZWFkeSB1c2VkIHdpdGhpbiBHb29nbGVcbiAgICAgICAgLy8gICBmb3IgdHlwaW5ncyBmb3IgQW5ndWxhckpTICh2aWEgYGdvb2cucHJvdmlkZSgnbmcuLi4uJylgKS5cbiAgICAgICAgY29uc3QgdyA9IF9nbG9iYWw7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGZuLCAnZnVuY3Rpb24gbm90IGRlZmluZWQnKTtcbiAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSB3W0dMT0JBTF9QVUJMSVNIX0VYUEFORE9fS0VZXTtcbiAgICAgICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gd1tHTE9CQUxfUFVCTElTSF9FWFBBTkRPX0tFWV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lcltuYW1lXSA9IGZuO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE86IEEgaGFjayB0byBub3QgcHVsbCBpbiB0aGUgTnVsbEluamVjdG9yIGZyb20gQGFuZ3VsYXIvY29yZS5cbmNvbnN0IE5VTExfSU5KRUNUT1IgPSB7XG4gICAgZ2V0OiAodG9rZW4sIG5vdEZvdW5kVmFsdWUpID0+IHtcbiAgICAgICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3IodG9rZW4sICdOdWxsSW5qZWN0b3InKTtcbiAgICB9XG59O1xuLyoqXG4gKiBCb290c3RyYXBzIGEgQ29tcG9uZW50IGludG8gYW4gZXhpc3RpbmcgaG9zdCBlbGVtZW50IGFuZCByZXR1cm5zIGFuIGluc3RhbmNlXG4gKiBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJvb3RzdHJhcCBhIGNvbXBvbmVudCBpbnRvIHRoZSBET00gdHJlZS4gRWFjaCBpbnZvY2F0aW9uXG4gKiBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGEgc2VwYXJhdGUgdHJlZSBvZiBjb21wb25lbnRzLCBpbmplY3RvcnMgYW5kXG4gKiBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlcyBhbmQgbGlmZXRpbWVzLiBUbyBkeW5hbWljYWxseSBpbnNlcnQgYSBuZXcgY29tcG9uZW50XG4gKiBpbnRvIGFuIGV4aXN0aW5nIHRyZWUgc3VjaCB0aGF0IGl0IHNoYXJlcyB0aGUgc2FtZSBpbmplY3Rpb24sIGNoYW5nZSBkZXRlY3Rpb25cbiAqIGFuZCBvYmplY3QgbGlmZXRpbWUsIHVzZSB7QGxpbmsgVmlld0NvbnRhaW5lciNjcmVhdGVDb21wb25lbnR9LlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRUeXBlIENvbXBvbmVudCB0byBib290c3RyYXBcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIHBhcmFtZXRlcnMgd2hpY2ggY29udHJvbCBib290c3RyYXBwaW5nXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnRUeXBlIC8qIFR5cGUgYXMgd29ya2Fyb3VuZCBmb3I6IE1pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy80ODgxICovLCBvcHRzID0ge30pIHtcbiAgICBuZ0Rldk1vZGUgJiYgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydENvbXBvbmVudFR5cGUoY29tcG9uZW50VHlwZSk7XG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gb3B0cy5yZW5kZXJlckZhY3RvcnkgfHwgZG9tUmVuZGVyZXJGYWN0b3J5MztcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBvcHRzLnNhbml0aXplciB8fCBudWxsO1xuICAgIGNvbnN0IGNvbXBvbmVudERlZiA9IGdldENvbXBvbmVudERlZihjb21wb25lbnRUeXBlKTtcbiAgICBpZiAoY29tcG9uZW50RGVmLnR5cGUgIT0gY29tcG9uZW50VHlwZSlcbiAgICAgICAgY29tcG9uZW50RGVmLnR5cGUgPSBjb21wb25lbnRUeXBlO1xuICAgIC8vIFRoZSBmaXJzdCBpbmRleCBvZiB0aGUgZmlyc3Qgc2VsZWN0b3IgaXMgdGhlIHRhZyBuYW1lLlxuICAgIGNvbnN0IGNvbXBvbmVudFRhZyA9IGNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF07XG4gICAgY29uc3QgaG9zdFJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG51bGwsIG51bGwpO1xuICAgIGNvbnN0IGhvc3RSTm9kZSA9IGxvY2F0ZUhvc3RFbGVtZW50KGhvc3RSZW5kZXJlciwgb3B0cy5ob3N0IHx8IGNvbXBvbmVudFRhZywgY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pO1xuICAgIGNvbnN0IHJvb3RGbGFncyA9IGNvbXBvbmVudERlZi5vblB1c2ggPyA2NCAvKiBEaXJ0eSAqLyB8IDUxMiAvKiBJc1Jvb3QgKi8gOlxuICAgICAgICAxNiAvKiBDaGVja0Fsd2F5cyAqLyB8IDUxMiAvKiBJc1Jvb3QgKi87XG4gICAgY29uc3Qgcm9vdENvbnRleHQgPSBjcmVhdGVSb290Q29udGV4dChvcHRzLnNjaGVkdWxlciwgb3B0cy5wbGF5ZXJIYW5kbGVyKTtcbiAgICBjb25zdCByZW5kZXJlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihob3N0Uk5vZGUsIGNvbXBvbmVudERlZik7XG4gICAgY29uc3Qgcm9vdFRWaWV3ID0gY3JlYXRlVFZpZXcoMCAvKiBSb290ICovLCBudWxsLCBudWxsLCAxLCAwLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICBjb25zdCByb290VmlldyA9IGNyZWF0ZUxWaWV3KG51bGwsIHJvb3RUVmlldywgcm9vdENvbnRleHQsIHJvb3RGbGFncywgbnVsbCwgbnVsbCwgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlciwgbnVsbCwgb3B0cy5pbmplY3RvciB8fCBudWxsKTtcbiAgICBlbnRlclZpZXcocm9vdFZpZXcpO1xuICAgIGxldCBjb21wb25lbnQ7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5iZWdpbilcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5iZWdpbigpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gY3JlYXRlUm9vdENvbXBvbmVudFZpZXcoaG9zdFJOb2RlLCBjb21wb25lbnREZWYsIHJvb3RWaWV3LCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCBzYW5pdGl6ZXIpO1xuICAgICAgICBjb21wb25lbnQgPSBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudERlZiwgcm9vdFZpZXcsIHJvb3RDb250ZXh0LCBvcHRzLmhvc3RGZWF0dXJlcyB8fCBudWxsKTtcbiAgICAgICAgLy8gY3JlYXRlIG1vZGUgcGFzc1xuICAgICAgICByZW5kZXJWaWV3KHJvb3RUVmlldywgcm9vdFZpZXcsIG51bGwpO1xuICAgICAgICAvLyB1cGRhdGUgbW9kZSBwYXNzXG4gICAgICAgIHJlZnJlc2hWaWV3KHJvb3RUVmlldywgcm9vdFZpZXcsIG51bGwsIG51bGwpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgbGVhdmVWaWV3KCk7XG4gICAgICAgIGlmIChyZW5kZXJlckZhY3RvcnkuZW5kKVxuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmVuZCgpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSByb290IGNvbXBvbmVudCB2aWV3IGFuZCB0aGUgcm9vdCBjb21wb25lbnQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gck5vZGUgUmVuZGVyIGhvc3QgZWxlbWVudC5cbiAqIEBwYXJhbSBkZWYgQ29tcG9uZW50RGVmXG4gKiBAcGFyYW0gcm9vdFZpZXcgVGhlIHBhcmVudCB2aWV3IHdoZXJlIHRoZSBob3N0IG5vZGUgaXMgc3RvcmVkXG4gKiBAcGFyYW0gcmVuZGVyZXJGYWN0b3J5IEZhY3RvcnkgdG8gYmUgdXNlZCBmb3IgY3JlYXRpbmcgY2hpbGQgcmVuZGVyZXJzLlxuICogQHBhcmFtIGhvc3RSZW5kZXJlciBUaGUgY3VycmVudCByZW5kZXJlclxuICogQHBhcmFtIHNhbml0aXplciBUaGUgc2FuaXRpemVyLCBpZiBwcm92aWRlZFxuICpcbiAqIEByZXR1cm5zIENvbXBvbmVudCB2aWV3IGNyZWF0ZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm9vdENvbXBvbmVudFZpZXcock5vZGUsIGRlZiwgcm9vdFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCB0VmlldyA9IHJvb3RWaWV3W1RWSUVXXTtcbiAgICBjb25zdCBpbmRleCA9IEhFQURFUl9PRkZTRVQ7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShyb290VmlldywgaW5kZXgpO1xuICAgIHJvb3RWaWV3W2luZGV4XSA9IHJOb2RlO1xuICAgIC8vICcjaG9zdCcgaXMgYWRkZWQgaGVyZSBhcyB3ZSBkb24ndCBrbm93IHRoZSByZWFsIGhvc3QgRE9NIG5hbWUgKHdlIGRvbid0IHdhbnQgdG8gcmVhZCBpdCkgYW5kIGF0XG4gICAgLy8gdGhlIHNhbWUgdGltZSB3ZSB3YW50IHRvIGNvbW11bmljYXRlIHRoZSBkZWJ1ZyBgVE5vZGVgIHRoYXQgdGhpcyBpcyBhIHNwZWNpYWwgYFROb2RlYFxuICAgIC8vIHJlcHJlc2VudGluZyBhIGhvc3QgZWxlbWVudC5cbiAgICBjb25zdCB0Tm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCAyIC8qIEVsZW1lbnQgKi8sICcjaG9zdCcsIG51bGwpO1xuICAgIGNvbnN0IG1lcmdlZEF0dHJzID0gdE5vZGUubWVyZ2VkQXR0cnMgPSBkZWYuaG9zdEF0dHJzO1xuICAgIGlmIChtZXJnZWRBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBjb21wdXRlU3RhdGljU3R5bGluZyh0Tm9kZSwgbWVyZ2VkQXR0cnMsIHRydWUpO1xuICAgICAgICBpZiAock5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFVwQXR0cmlidXRlcyhob3N0UmVuZGVyZXIsIHJOb2RlLCBtZXJnZWRBdHRycyk7XG4gICAgICAgICAgICBpZiAodE5vZGUuY2xhc3NlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdyaXRlRGlyZWN0Q2xhc3MoaG9zdFJlbmRlcmVyLCByTm9kZSwgdE5vZGUuY2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodE5vZGUuc3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVEaXJlY3RTdHlsZShob3N0UmVuZGVyZXIsIHJOb2RlLCB0Tm9kZS5zdHlsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHZpZXdSZW5kZXJlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihyTm9kZSwgZGVmKTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gY3JlYXRlTFZpZXcocm9vdFZpZXcsIGdldE9yQ3JlYXRlVENvbXBvbmVudFZpZXcoZGVmKSwgbnVsbCwgZGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIDogMTYgLyogQ2hlY2tBbHdheXMgKi8sIHJvb3RWaWV3W2luZGV4XSwgdE5vZGUsIHJlbmRlcmVyRmFjdG9yeSwgdmlld1JlbmRlcmVyLCBzYW5pdGl6ZXIgfHwgbnVsbCwgbnVsbCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCByb290VmlldyksIHRWaWV3LCBkZWYudHlwZSk7XG4gICAgICAgIG1hcmtBc0NvbXBvbmVudEhvc3QodFZpZXcsIHROb2RlKTtcbiAgICAgICAgaW5pdFROb2RlRmxhZ3ModE5vZGUsIHJvb3RWaWV3Lmxlbmd0aCwgMSk7XG4gICAgfVxuICAgIGFkZFRvVmlld1RyZWUocm9vdFZpZXcsIGNvbXBvbmVudFZpZXcpO1xuICAgIC8vIFN0b3JlIGNvbXBvbmVudCB2aWV3IGF0IG5vZGUgaW5kZXgsIHdpdGggbm9kZSBhcyB0aGUgSE9TVFxuICAgIHJldHVybiByb290Vmlld1tpbmRleF0gPSBjb21wb25lbnRWaWV3O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcm9vdCBjb21wb25lbnQgYW5kIHNldHMgaXQgdXAgd2l0aCBmZWF0dXJlcyBhbmQgaG9zdCBiaW5kaW5ncy4gU2hhcmVkIGJ5XG4gKiByZW5kZXJDb21wb25lbnQoKSBhbmQgVmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoKS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm9vdENvbXBvbmVudChjb21wb25lbnRWaWV3LCBjb21wb25lbnREZWYsIHJvb3RMVmlldywgcm9vdENvbnRleHQsIGhvc3RGZWF0dXJlcykge1xuICAgIGNvbnN0IHRWaWV3ID0gcm9vdExWaWV3W1RWSUVXXTtcbiAgICAvLyBDcmVhdGUgZGlyZWN0aXZlIGluc3RhbmNlIHdpdGggZmFjdG9yeSgpIGFuZCBzdG9yZSBhdCBuZXh0IGluZGV4IGluIHZpZXdEYXRhXG4gICAgY29uc3QgY29tcG9uZW50ID0gaW5zdGFudGlhdGVSb290Q29tcG9uZW50KHRWaWV3LCByb290TFZpZXcsIGNvbXBvbmVudERlZik7XG4gICAgcm9vdENvbnRleHQuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgY29tcG9uZW50Vmlld1tDT05URVhUXSA9IGNvbXBvbmVudDtcbiAgICBob3N0RmVhdHVyZXMgJiYgaG9zdEZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IGZlYXR1cmUoY29tcG9uZW50LCBjb21wb25lbnREZWYpKTtcbiAgICAvLyBXZSB3YW50IHRvIGdlbmVyYXRlIGFuIGVtcHR5IFF1ZXJ5TGlzdCBmb3Igcm9vdCBjb250ZW50IHF1ZXJpZXMgZm9yIGJhY2t3YXJkc1xuICAgIC8vIGNvbXBhdGliaWxpdHkgd2l0aCBWaWV3RW5naW5lLlxuICAgIGlmIChjb21wb25lbnREZWYuY29udGVudFF1ZXJpZXMpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdUTm9kZSBleHBlY3RlZCcpO1xuICAgICAgICBjb21wb25lbnREZWYuY29udGVudFF1ZXJpZXMoMSAvKiBDcmVhdGUgKi8sIGNvbXBvbmVudCwgdE5vZGUuZGlyZWN0aXZlU3RhcnQpO1xuICAgIH1cbiAgICBjb25zdCByb290VE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChyb290VE5vZGUsICd0Tm9kZSBzaG91bGQgaGF2ZSBiZWVuIGFscmVhZHkgY3JlYXRlZCcpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MgJiZcbiAgICAgICAgKGNvbXBvbmVudERlZi5ob3N0QmluZGluZ3MgIT09IG51bGwgfHwgY29tcG9uZW50RGVmLmhvc3RBdHRycyAhPT0gbnVsbCkpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChyb290VE5vZGUuaW5kZXgpO1xuICAgICAgICBjb25zdCByb290VFZpZXcgPSByb290TFZpZXdbVFZJRVddO1xuICAgICAgICByZWdpc3Rlckhvc3RCaW5kaW5nT3BDb2Rlcyhyb290VFZpZXcsIHJvb3RUTm9kZSwgcm9vdExWaWV3LCByb290VE5vZGUuZGlyZWN0aXZlU3RhcnQsIHJvb3RUTm9kZS5kaXJlY3RpdmVFbmQsIGNvbXBvbmVudERlZik7XG4gICAgICAgIGludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlKGNvbXBvbmVudERlZiwgY29tcG9uZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvb3RDb250ZXh0KHNjaGVkdWxlciwgcGxheWVySGFuZGxlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbXBvbmVudHM6IFtdLFxuICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlciB8fCBkZWZhdWx0U2NoZWR1bGVyLFxuICAgICAgICBjbGVhbjogQ0xFQU5fUFJPTUlTRSxcbiAgICAgICAgcGxheWVySGFuZGxlcjogcGxheWVySGFuZGxlciB8fCBudWxsLFxuICAgICAgICBmbGFnczogMCAvKiBFbXB0eSAqL1xuICAgIH07XG59XG4vKipcbiAqIFVzZWQgdG8gZW5hYmxlIGxpZmVjeWNsZSBob29rcyBvbiB0aGUgcm9vdCBjb21wb25lbnQuXG4gKlxuICogSW5jbHVkZSB0aGlzIGZlYXR1cmUgd2hlbiBjYWxsaW5nIGByZW5kZXJDb21wb25lbnRgIGlmIHRoZSByb290IGNvbXBvbmVudFxuICogeW91IGFyZSByZW5kZXJpbmcgaGFzIGxpZmVjeWNsZSBob29rcyBkZWZpbmVkLiBPdGhlcndpc2UsIHRoZSBob29rcyB3b24ndFxuICogYmUgY2FsbGVkIHByb3Blcmx5LlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiByZW5kZXJDb21wb25lbnQoQXBwQ29tcG9uZW50LCB7aG9zdEZlYXR1cmVzOiBbTGlmZWN5Y2xlSG9va3NGZWF0dXJlXX0pO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIExpZmVjeWNsZUhvb2tzRmVhdHVyZShjb21wb25lbnQsIGRlZikge1xuICAgIGNvbnN0IGxWaWV3ID0gcmVhZFBhdGNoZWRMVmlldyhjb21wb25lbnQpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxWaWV3LCAnTFZpZXcgaXMgcmVxdWlyZWQnKTtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgaXMgcmVxdWlyZWQnKTtcbiAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCB0Tm9kZSk7XG59XG4vKipcbiAqIFdhaXQgb24gY29tcG9uZW50IHVudGlsIGl0IGlzIHJlbmRlcmVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIGBQcm9taXNlYCB3aGljaCBpcyByZXNvbHZlZCB3aGVuIHRoZSBjb21wb25lbnQnc1xuICogY2hhbmdlIGRldGVjdGlvbiBpcyBleGVjdXRlZC4gVGhpcyBpcyBkZXRlcm1pbmVkIGJ5IGZpbmRpbmcgdGhlIHNjaGVkdWxlclxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBgY29tcG9uZW50YCdzIHJlbmRlciB0cmVlIGFuZCB3YWl0aW5nIHVudGlsIHRoZSBzY2hlZHVsZXJcbiAqIGZsdXNoZXMuIElmIG5vdGhpbmcgaXMgc2NoZWR1bGVkLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIHJlc29sdmVkIHByb21pc2UuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogYXdhaXQgd2hlblJlbmRlcmVkKG15Q29tcG9uZW50KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHdhaXQgdXBvblxuICogQHJldHVybnMgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQuXG4gKi9cbmZ1bmN0aW9uIHdoZW5SZW5kZXJlZChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gZ2V0Um9vdENvbnRleHQoY29tcG9uZW50KS5jbGVhbjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRTdXBlclR5cGUodHlwZSkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodHlwZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO1xufVxuLyoqXG4gKiBNZXJnZXMgdGhlIGRlZmluaXRpb24gZnJvbSBhIHN1cGVyIGNsYXNzIHRvIGEgc3ViIGNsYXNzLlxuICogQHBhcmFtIGRlZmluaXRpb24gVGhlIGRlZmluaXRpb24gdGhhdCBpcyBhIFN1YkNsYXNzIG9mIGFub3RoZXIgZGlyZWN0aXZlIG9mIGNvbXBvbmVudFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUoZGVmaW5pdGlvbikge1xuICAgIGxldCBzdXBlclR5cGUgPSBnZXRTdXBlclR5cGUoZGVmaW5pdGlvbi50eXBlKTtcbiAgICBsZXQgc2hvdWxkSW5oZXJpdEZpZWxkcyA9IHRydWU7XG4gICAgY29uc3QgaW5oZXJpdGFuY2VDaGFpbiA9IFtkZWZpbml0aW9uXTtcbiAgICB3aGlsZSAoc3VwZXJUeXBlKSB7XG4gICAgICAgIGxldCBzdXBlckRlZiA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZmluaXRpb24pKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB1c2UgZ2V0Q29tcG9uZW50RGVmL2dldERpcmVjdGl2ZURlZi4gVGhpcyBsb2dpYyByZWxpZXMgb24gaW5oZXJpdGFuY2UuXG4gICAgICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS7JtWNtcCB8fCBzdXBlclR5cGUuybVkaXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3VwZXJUeXBlLsm1Y21wKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICAgICAnRGlyZWN0aXZlcyBjYW5ub3QgaW5oZXJpdCBDb21wb25lbnRzJyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAzIC8qIElOVkFMSURfSU5IRVJJVEFOQ0UgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCB1c2UgZ2V0Q29tcG9uZW50RGVmL2dldERpcmVjdGl2ZURlZi4gVGhpcyBsb2dpYyByZWxpZXMgb24gaW5oZXJpdGFuY2UuXG4gICAgICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS7JtWRpcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3VwZXJEZWYpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRJbmhlcml0RmllbGRzKSB7XG4gICAgICAgICAgICAgICAgaW5oZXJpdGFuY2VDaGFpbi5wdXNoKHN1cGVyRGVmKTtcbiAgICAgICAgICAgICAgICAvLyBTb21lIGZpZWxkcyBpbiB0aGUgZGVmaW5pdGlvbiBtYXkgYmUgZW1wdHksIGlmIHRoZXJlIHdlcmUgbm8gdmFsdWVzIHRvIHB1dCBpbiB0aGVtIHRoYXRcbiAgICAgICAgICAgICAgICAvLyB3b3VsZCd2ZSBqdXN0aWZpZWQgb2JqZWN0IGNyZWF0aW9uLiBVbndyYXAgdGhlbSBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVhYmxlRGVmID0gZGVmaW5pdGlvbjtcbiAgICAgICAgICAgICAgICB3cml0ZWFibGVEZWYuaW5wdXRzID0gbWF5YmVVbndyYXBFbXB0eShkZWZpbml0aW9uLmlucHV0cyk7XG4gICAgICAgICAgICAgICAgd3JpdGVhYmxlRGVmLmRlY2xhcmVkSW5wdXRzID0gbWF5YmVVbndyYXBFbXB0eShkZWZpbml0aW9uLmRlY2xhcmVkSW5wdXRzKTtcbiAgICAgICAgICAgICAgICB3cml0ZWFibGVEZWYub3V0cHV0cyA9IG1heWJlVW53cmFwRW1wdHkoZGVmaW5pdGlvbi5vdXRwdXRzKTtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBob3N0QmluZGluZ3NcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlckhvc3RCaW5kaW5ncyA9IHN1cGVyRGVmLmhvc3RCaW5kaW5ncztcbiAgICAgICAgICAgICAgICBzdXBlckhvc3RCaW5kaW5ncyAmJiBpbmhlcml0SG9zdEJpbmRpbmdzKGRlZmluaXRpb24sIHN1cGVySG9zdEJpbmRpbmdzKTtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBxdWVyaWVzXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VwZXJWaWV3UXVlcnkgPSBzdXBlckRlZi52aWV3UXVlcnk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VwZXJDb250ZW50UXVlcmllcyA9IHN1cGVyRGVmLmNvbnRlbnRRdWVyaWVzO1xuICAgICAgICAgICAgICAgIHN1cGVyVmlld1F1ZXJ5ICYmIGluaGVyaXRWaWV3UXVlcnkoZGVmaW5pdGlvbiwgc3VwZXJWaWV3UXVlcnkpO1xuICAgICAgICAgICAgICAgIHN1cGVyQ29udGVudFF1ZXJpZXMgJiYgaW5oZXJpdENvbnRlbnRRdWVyaWVzKGRlZmluaXRpb24sIHN1cGVyQ29udGVudFF1ZXJpZXMpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIGlucHV0cyBhbmQgb3V0cHV0c1xuICAgICAgICAgICAgICAgIGZpbGxQcm9wZXJ0aWVzKGRlZmluaXRpb24uaW5wdXRzLCBzdXBlckRlZi5pbnB1dHMpO1xuICAgICAgICAgICAgICAgIGZpbGxQcm9wZXJ0aWVzKGRlZmluaXRpb24uZGVjbGFyZWRJbnB1dHMsIHN1cGVyRGVmLmRlY2xhcmVkSW5wdXRzKTtcbiAgICAgICAgICAgICAgICBmaWxsUHJvcGVydGllcyhkZWZpbml0aW9uLm91dHB1dHMsIHN1cGVyRGVmLm91dHB1dHMpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIGFuaW1hdGlvbnMgbWV0YWRhdGEuXG4gICAgICAgICAgICAgICAgLy8gSWYgYHN1cGVyRGVmYCBpcyBhIENvbXBvbmVudCwgdGhlIGBkYXRhYCBmaWVsZCBpcyBwcmVzZW50IChkZWZhdWx0cyB0byBhbiBlbXB0eSBvYmplY3QpLlxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudERlZihzdXBlckRlZikgJiYgc3VwZXJEZWYuZGF0YS5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc3VwZXIgZGVmIGlzIGEgQ29tcG9uZW50LCB0aGUgYGRlZmluaXRpb25gIGlzIGFsc28gYSBDb21wb25lbnQsIHNpbmNlIERpcmVjdGl2ZXMgY2FuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBpbmhlcml0IENvbXBvbmVudHMgKHdlIHRocm93IGFuIGVycm9yIGFib3ZlIGFuZCBjYW5ub3QgcmVhY2ggdGhpcyBjb2RlKS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmRGF0YSA9IGRlZmluaXRpb24uZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGVmRGF0YS5hbmltYXRpb24gPSAoZGVmRGF0YS5hbmltYXRpb24gfHwgW10pLmNvbmNhdChzdXBlckRlZi5kYXRhLmFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUnVuIHBhcmVudCBmZWF0dXJlc1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdXBlckRlZi5mZWF0dXJlcztcbiAgICAgICAgICAgIGlmIChmZWF0dXJlcykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZSAmJiBmZWF0dXJlLm5nSW5oZXJpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZShkZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBgSW5oZXJpdERlZmluaXRpb25GZWF0dXJlYCBpcyBhIHBhcnQgb2YgdGhlIGN1cnJlbnQgYHN1cGVyRGVmYCwgaXQgbWVhbnMgdGhhdCB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZiBhbHJlYWR5IGhhcyBhbGwgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiBpbmhlcml0ZWQgZnJvbSBpdHMgc3VwZXIgY2xhc3MoZXMpLCBzbyB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYW4gc3RvcCBtZXJnaW5nIGZpZWxkcyBmcm9tIHN1cGVyIGNsYXNzZXMuIEhvd2V2ZXIgd2UgbmVlZCB0byBpdGVyYXRlIHRocm91Z2ggdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3RvdHlwZSBjaGFpbiB0byBsb29rIGZvciBjbGFzc2VzIHRoYXQgbWlnaHQgY29udGFpbiBvdGhlciBcImZlYXR1cmVzXCIgKGxpa2VcbiAgICAgICAgICAgICAgICAgICAgLy8gTmdPbkNoYW5nZXMpLCB3aGljaCB3ZSBzaG91bGQgaW52b2tlIGZvciB0aGUgb3JpZ2luYWwgYGRlZmluaXRpb25gLiBXZSBzZXQgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGBzaG91bGRJbmhlcml0RmllbGRzYCBmbGFnIHRvIGluZGljYXRlIHRoYXQsIGVzc2VudGlhbGx5IHNraXBwaW5nIGZpZWxkcyBpbmhlcml0YW5jZVxuICAgICAgICAgICAgICAgICAgICAvLyBsb2dpYyBhbmQgb25seSBpbnZva2luZyBmdW5jdGlvbnMgZnJvbSB0aGUgXCJmZWF0dXJlc1wiIGxpc3QuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlID09PSDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRJbmhlcml0RmllbGRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXJUeXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHN1cGVyVHlwZSk7XG4gICAgfVxuICAgIG1lcmdlSG9zdEF0dHJzQWNyb3NzSW5oZXJpdGFuY2UoaW5oZXJpdGFuY2VDaGFpbik7XG59XG4vKipcbiAqIE1lcmdlIHRoZSBgaG9zdEF0dHJzYCBhbmQgYGhvc3RWYXJzYCBmcm9tIHRoZSBpbmhlcml0ZWQgcGFyZW50IHRvIHRoZSBiYXNlIGNsYXNzLlxuICpcbiAqIEBwYXJhbSBpbmhlcml0YW5jZUNoYWluIEEgbGlzdCBvZiBgV3JpdGFibGVEZWZzYCBzdGFydGluZyBhdCB0aGUgdG9wIG1vc3QgdHlwZSBhbmQgbGlzdGluZ1xuICogc3ViLXR5cGVzIGluIG9yZGVyLiBGb3IgZWFjaCB0eXBlIHRha2UgdGhlIGBob3N0QXR0cnNgIGFuZCBgaG9zdFZhcnNgIGFuZCBtZXJnZSBpdCB3aXRoIHRoZSBjaGlsZFxuICogdHlwZS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb3N0QXR0cnNBY3Jvc3NJbmhlcml0YW5jZShpbmhlcml0YW5jZUNoYWluKSB7XG4gICAgbGV0IGhvc3RWYXJzID0gMDtcbiAgICBsZXQgaG9zdEF0dHJzID0gbnVsbDtcbiAgICAvLyBXZSBwcm9jZXNzIHRoZSBpbmhlcml0YW5jZSBvcmRlciBmcm9tIHRoZSBiYXNlIHRvIHRoZSBsZWF2ZXMgaGVyZS5cbiAgICBmb3IgKGxldCBpID0gaW5oZXJpdGFuY2VDaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBkZWYgPSBpbmhlcml0YW5jZUNoYWluW2ldO1xuICAgICAgICAvLyBGb3IgZWFjaCBgaG9zdFZhcnNgLCB3ZSBuZWVkIHRvIGFkZCB0aGUgc3VwZXJjbGFzcyBhbW91bnQuXG4gICAgICAgIGRlZi5ob3N0VmFycyA9IChob3N0VmFycyArPSBkZWYuaG9zdFZhcnMpO1xuICAgICAgICAvLyBmb3IgZWFjaCBgaG9zdEF0dHJzYCB3ZSBuZWVkIHRvIG1lcmdlIGl0IHdpdGggc3VwZXJjbGFzcy5cbiAgICAgICAgZGVmLmhvc3RBdHRycyA9XG4gICAgICAgICAgICBtZXJnZUhvc3RBdHRycyhkZWYuaG9zdEF0dHJzLCBob3N0QXR0cnMgPSBtZXJnZUhvc3RBdHRycyhob3N0QXR0cnMsIGRlZi5ob3N0QXR0cnMpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXliZVVud3JhcEVtcHR5KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBFTVBUWV9PQkopIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA9PT0gRU1QVFlfQVJSQVkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRWaWV3UXVlcnkoZGVmaW5pdGlvbiwgc3VwZXJWaWV3UXVlcnkpIHtcbiAgICBjb25zdCBwcmV2Vmlld1F1ZXJ5ID0gZGVmaW5pdGlvbi52aWV3UXVlcnk7XG4gICAgaWYgKHByZXZWaWV3UXVlcnkpIHtcbiAgICAgICAgZGVmaW5pdGlvbi52aWV3UXVlcnkgPSAocmYsIGN0eCkgPT4ge1xuICAgICAgICAgICAgc3VwZXJWaWV3UXVlcnkocmYsIGN0eCk7XG4gICAgICAgICAgICBwcmV2Vmlld1F1ZXJ5KHJmLCBjdHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVmaW5pdGlvbi52aWV3UXVlcnkgPSBzdXBlclZpZXdRdWVyeTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmhlcml0Q29udGVudFF1ZXJpZXMoZGVmaW5pdGlvbiwgc3VwZXJDb250ZW50UXVlcmllcykge1xuICAgIGNvbnN0IHByZXZDb250ZW50UXVlcmllcyA9IGRlZmluaXRpb24uY29udGVudFF1ZXJpZXM7XG4gICAgaWYgKHByZXZDb250ZW50UXVlcmllcykge1xuICAgICAgICBkZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzID0gKHJmLCBjdHgsIGRpcmVjdGl2ZUluZGV4KSA9PiB7XG4gICAgICAgICAgICBzdXBlckNvbnRlbnRRdWVyaWVzKHJmLCBjdHgsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgICAgIHByZXZDb250ZW50UXVlcmllcyhyZiwgY3R4LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzID0gc3VwZXJDb250ZW50UXVlcmllcztcbiAgICB9XG59XG5mdW5jdGlvbiBpbmhlcml0SG9zdEJpbmRpbmdzKGRlZmluaXRpb24sIHN1cGVySG9zdEJpbmRpbmdzKSB7XG4gICAgY29uc3QgcHJldkhvc3RCaW5kaW5ncyA9IGRlZmluaXRpb24uaG9zdEJpbmRpbmdzO1xuICAgIGlmIChwcmV2SG9zdEJpbmRpbmdzKSB7XG4gICAgICAgIGRlZmluaXRpb24uaG9zdEJpbmRpbmdzID0gKHJmLCBjdHgpID0+IHtcbiAgICAgICAgICAgIHN1cGVySG9zdEJpbmRpbmdzKHJmLCBjdHgpO1xuICAgICAgICAgICAgcHJldkhvc3RCaW5kaW5ncyhyZiwgY3R4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluaXRpb24uaG9zdEJpbmRpbmdzID0gc3VwZXJIb3N0QmluZGluZ3M7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmllbGRzIHdoaWNoIGV4aXN0IG9uIGVpdGhlciBkaXJlY3RpdmUgb3IgY29tcG9uZW50IGRlZmluaXRpb25zLCBhbmQgbmVlZCB0byBiZSBjb3BpZWQgZnJvbVxuICogcGFyZW50IHRvIGNoaWxkIGNsYXNzZXMgYnkgdGhlIGDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlYC5cbiAqL1xuY29uc3QgQ09QWV9ESVJFQ1RJVkVfRklFTERTID0gW1xuICAgIC8vIFRoZSBjaGlsZCBjbGFzcyBzaG91bGQgdXNlIHRoZSBwcm92aWRlcnMgb2YgaXRzIHBhcmVudC5cbiAgICAncHJvdmlkZXJzUmVzb2x2ZXInLFxuICAgIC8vIE5vdCBsaXN0ZWQgaGVyZSBhcmUgYW55IGZpZWxkcyB3aGljaCBhcmUgaGFuZGxlZCBieSB0aGUgYMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmVgLCBzdWNoXG4gICAgLy8gYXMgaW5wdXRzLCBvdXRwdXRzLCBhbmQgaG9zdCBiaW5kaW5nIGZ1bmN0aW9ucy5cbl07XG4vKipcbiAqIEZpZWxkcyB3aGljaCBleGlzdCBvbmx5IG9uIGNvbXBvbmVudCBkZWZpbml0aW9ucywgYW5kIG5lZWQgdG8gYmUgY29waWVkIGZyb20gcGFyZW50IHRvIGNoaWxkXG4gKiBjbGFzc2VzIGJ5IHRoZSBgybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZWAuXG4gKlxuICogVGhlIHR5cGUgaGVyZSBhbGxvd3MgYW55IGZpZWxkIG9mIGBDb21wb25lbnREZWZgIHdoaWNoIGlzIG5vdCBhbHNvIGEgcHJvcGVydHkgb2YgYERpcmVjdGl2ZURlZmAsXG4gKiBzaW5jZSB0aG9zZSBzaG91bGQgZ28gaW4gYENPUFlfRElSRUNUSVZFX0ZJRUxEU2AgYWJvdmUuXG4gKi9cbmNvbnN0IENPUFlfQ09NUE9ORU5UX0ZJRUxEUyA9IFtcbiAgICAvLyBUaGUgY2hpbGQgY2xhc3Mgc2hvdWxkIHVzZSB0aGUgdGVtcGxhdGUgZnVuY3Rpb24gb2YgaXRzIHBhcmVudCwgaW5jbHVkaW5nIGFsbCB0ZW1wbGF0ZVxuICAgIC8vIHNlbWFudGljcy5cbiAgICAndGVtcGxhdGUnLFxuICAgICdkZWNscycsXG4gICAgJ2NvbnN0cycsXG4gICAgJ3ZhcnMnLFxuICAgICdvblB1c2gnLFxuICAgICduZ0NvbnRlbnRTZWxlY3RvcnMnLFxuICAgIC8vIFRoZSBjaGlsZCBjbGFzcyBzaG91bGQgdXNlIHRoZSBDU1Mgc3R5bGVzIG9mIGl0cyBwYXJlbnQsIGluY2x1ZGluZyBhbGwgc3R5bGluZyBzZW1hbnRpY3MuXG4gICAgJ3N0eWxlcycsXG4gICAgJ2VuY2Fwc3VsYXRpb24nLFxuICAgIC8vIFRoZSBjaGlsZCBjbGFzcyBzaG91bGQgYmUgY2hlY2tlZCBieSB0aGUgcnVudGltZSBpbiB0aGUgc2FtZSB3YXkgYXMgaXRzIHBhcmVudC5cbiAgICAnc2NoZW1hcycsXG5dO1xuLyoqXG4gKiBDb3BpZXMgdGhlIGZpZWxkcyBub3QgaGFuZGxlZCBieSB0aGUgYMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmVgIGZyb20gdGhlIHN1cGVydHlwZSBvZiBhXG4gKiBkZWZpbml0aW9uLlxuICpcbiAqIFRoaXMgZXhpc3RzIHByaW1hcmlseSB0byBzdXBwb3J0IG5nY2MgbWlncmF0aW9uIG9mIGFuIGV4aXN0aW5nIFZpZXcgRW5naW5lIHBhdHRlcm4sIHdoZXJlIGFuXG4gKiBlbnRpcmUgZGVjb3JhdG9yIGlzIGluaGVyaXRlZCBmcm9tIGEgcGFyZW50IHRvIGEgY2hpbGQgY2xhc3MuIFdoZW4gbmdjYyBkZXRlY3RzIHRoaXMgY2FzZSwgaXRcbiAqIGdlbmVyYXRlcyBhIHNrZWxldG9uIGRlZmluaXRpb24gb24gdGhlIGNoaWxkIGNsYXNzLCBhbmQgYXBwbGllcyB0aGlzIGZlYXR1cmUuXG4gKlxuICogVGhlIGDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlYCB0aGVuIGNvcGllcyBhbnkgbmVlZGVkIGZpZWxkcyBmcm9tIHRoZSBwYXJlbnQgY2xhc3MnIGRlZmluaXRpb24sXG4gKiBpbmNsdWRpbmcgdGhpbmdzIGxpa2UgdGhlIGNvbXBvbmVudCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiBvZiBhIGNoaWxkIGNsYXNzIHdoaWNoIGluaGVyaXRzIGZyb20gYSBwYXJlbnQgY2xhc3Mgd2l0aCBpdHNcbiAqIG93biBkZWZpbml0aW9uLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUoZGVmaW5pdGlvbikge1xuICAgIGxldCBzdXBlclR5cGUgPSBnZXRTdXBlclR5cGUoZGVmaW5pdGlvbi50eXBlKTtcbiAgICBsZXQgc3VwZXJEZWYgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZmluaXRpb24pKSB7XG4gICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUuybVjbXA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBEb24ndCB1c2UgZ2V0Q29tcG9uZW50RGVmL2dldERpcmVjdGl2ZURlZi4gVGhpcyBsb2dpYyByZWxpZXMgb24gaW5oZXJpdGFuY2UuXG4gICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1ZGlyO1xuICAgIH1cbiAgICAvLyBOZWVkZWQgYmVjYXVzZSBgZGVmaW5pdGlvbmAgZmllbGRzIGFyZSByZWFkb25seS5cbiAgICBjb25zdCBkZWZBbnkgPSBkZWZpbml0aW9uO1xuICAgIC8vIENvcHkgb3ZlciBhbnkgZmllbGRzIHRoYXQgYXBwbHkgdG8gZWl0aGVyIGRpcmVjdGl2ZXMgb3IgY29tcG9uZW50cy5cbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIENPUFlfRElSRUNUSVZFX0ZJRUxEUykge1xuICAgICAgICBkZWZBbnlbZmllbGRdID0gc3VwZXJEZWZbZmllbGRdO1xuICAgIH1cbiAgICBpZiAoaXNDb21wb25lbnREZWYoc3VwZXJEZWYpKSB7XG4gICAgICAgIC8vIENvcHkgb3ZlciBhbnkgY29tcG9uZW50LXNwZWNpZmljIGZpZWxkcy5cbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBDT1BZX0NPTVBPTkVOVF9GSUVMRFMpIHtcbiAgICAgICAgICAgIGRlZkFueVtmaWVsZF0gPSBzdXBlckRlZltmaWVsZF07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9zeW1ib2xJdGVyYXRvciA9IG51bGw7XG5mdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAoIV9zeW1ib2xJdGVyYXRvcikge1xuICAgICAgICBjb25zdCBTeW1ib2wgPSBfZ2xvYmFsWydTeW1ib2wnXTtcbiAgICAgICAgaWYgKFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzNi1zaGltIHNwZWNpZmljIGxvZ2ljXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdlbnRyaWVzJyAmJiBrZXkgIT09ICdzaXplJyAmJlxuICAgICAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW2tleV0gPT09IE1hcC5wcm90b3R5cGVbJ2VudHJpZXMnXSkge1xuICAgICAgICAgICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfc3ltYm9sSXRlcmF0b3I7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZGV2TW9kZUVxdWFsKGEsIGIpIHtcbiAgICBjb25zdCBpc0xpc3RMaWtlSXRlcmFibGVBID0gaXNMaXN0TGlrZUl0ZXJhYmxlKGEpO1xuICAgIGNvbnN0IGlzTGlzdExpa2VJdGVyYWJsZUIgPSBpc0xpc3RMaWtlSXRlcmFibGUoYik7XG4gICAgaWYgKGlzTGlzdExpa2VJdGVyYWJsZUEgJiYgaXNMaXN0TGlrZUl0ZXJhYmxlQikge1xuICAgICAgICByZXR1cm4gYXJlSXRlcmFibGVzRXF1YWwoYSwgYiwgZGV2TW9kZUVxdWFsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGlzQU9iamVjdCA9IGEgJiYgKHR5cGVvZiBhID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyk7XG4gICAgICAgIGNvbnN0IGlzQk9iamVjdCA9IGIgJiYgKHR5cGVvZiBiID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYiA9PT0gJ2Z1bmN0aW9uJyk7XG4gICAgICAgIGlmICghaXNMaXN0TGlrZUl0ZXJhYmxlQSAmJiBpc0FPYmplY3QgJiYgIWlzTGlzdExpa2VJdGVyYWJsZUIgJiYgaXNCT2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuaXMoYSwgYik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKSB7XG4gICAgaWYgKCFpc0pzT2JqZWN0KG9iaikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopIHx8XG4gICAgICAgICghKG9iaiBpbnN0YW5jZW9mIE1hcCkgJiYgLy8gSlMgTWFwIGFyZSBpdGVyYWJsZXMgYnV0IHJldHVybiBlbnRyaWVzIGFzIFtrLCB2XVxuICAgICAgICAgICAgZ2V0U3ltYm9sSXRlcmF0b3IoKSBpbiBvYmopOyAvLyBKUyBJdGVyYWJsZSBoYXZlIGEgU3ltYm9sLml0ZXJhdG9yIHByb3Bcbn1cbmZ1bmN0aW9uIGFyZUl0ZXJhYmxlc0VxdWFsKGEsIGIsIGNvbXBhcmF0b3IpIHtcbiAgICBjb25zdCBpdGVyYXRvcjEgPSBhW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgY29uc3QgaXRlcmF0b3IyID0gYltnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0xID0gaXRlcmF0b3IxLm5leHQoKTtcbiAgICAgICAgY29uc3QgaXRlbTIgPSBpdGVyYXRvcjIubmV4dCgpO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSAmJiBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChpdGVtMS5kb25lIHx8IGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghY29tcGFyYXRvcihpdGVtMS52YWx1ZSwgaXRlbTIudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGl0ZXJhdGVMaXN0TGlrZShvYmosIGZuKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4ob2JqW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBvYmpbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIHdoaWxlICghKChpdGVtID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgZm4oaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG8gPT09ICdvYmplY3QnKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUT0RPKG1pc2tvKTogY29uc2lkZXIgaW5saW5pbmdcbi8qKiBVcGRhdGVzIGJpbmRpbmcgYW5kIHJldHVybnMgdGhlIHZhbHVlLiAqL1xuZnVuY3Rpb24gdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkge1xuICAgIHJldHVybiBsVmlld1tiaW5kaW5nSW5kZXhdID0gdmFsdWU7XG59XG4vKiogR2V0cyB0aGUgY3VycmVudCBiaW5kaW5nIHZhbHVlLiAqL1xuZnVuY3Rpb24gZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYmluZGluZ0luZGV4KTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90U2FtZShsVmlld1tiaW5kaW5nSW5kZXhdLCBOT19DSEFOR0UsICdTdG9yZWQgdmFsdWUgc2hvdWxkIG5ldmVyIGJlIE5PX0NIQU5HRS4nKTtcbiAgICByZXR1cm4gbFZpZXdbYmluZGluZ0luZGV4XTtcbn1cbi8qKlxuICogVXBkYXRlcyBiaW5kaW5nIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGl0IHdhcyB1cGRhdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWxzbyBjaGVja3MgdGhlIGBDaGVja05vQ2hhbmdlc01vZGVgIGFuZCB0aHJvd3MgaWYgY2hhbmdlcyBhcmUgbWFkZS5cbiAqIFNvbWUgY2hhbmdlcyAoT2JqZWN0cy9pdGVyYWJsZXMpIGR1cmluZyBgQ2hlY2tOb0NoYW5nZXNNb2RlYCBhcmUgZXhlbXB0IHRvIGNvbXBseSB3aXRoIFZFXG4gKiBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgY3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IFRoZSBiaW5kaW5nIGluIHRoZSBgTFZpZXdgIHRvIGNoZWNrXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIGNoZWNrIGFnYWluc3QgYGxWaWV3W2JpbmRpbmdJbmRleF1gXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGJpbmRpbmdzIGhhcyBjaGFuZ2VkLiAoVGhyb3dzIGlmIGJpbmRpbmcgaGFzIGNoYW5nZWQgZHVyaW5nXG4gKiAgICAgICAgICBgQ2hlY2tOb0NoYW5nZXNNb2RlYClcbiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90U2FtZSh2YWx1ZSwgTk9fQ0hBTkdFLCAnSW5jb21pbmcgdmFsdWUgc2hvdWxkIG5ldmVyIGJlIE5PX0NIQU5HRS4nKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0TGVzc1RoYW4oYmluZGluZ0luZGV4LCBsVmlldy5sZW5ndGgsIGBTbG90IHNob3VsZCBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQgdG8gTk9fQ0hBTkdFYCk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBsVmlld1tiaW5kaW5nSW5kZXhdO1xuICAgIGlmIChPYmplY3QuaXMob2xkVmFsdWUsIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSkge1xuICAgICAgICAgICAgLy8gVmlldyBlbmdpbmUgZGlkbid0IHJlcG9ydCB1bmRlZmluZWQgdmFsdWVzIGFzIGNoYW5nZWQgb24gdGhlIGZpcnN0IGNoZWNrTm9DaGFuZ2VzIHBhc3NcbiAgICAgICAgICAgIC8vIChiZWZvcmUgdGhlIGNoYW5nZSBkZXRlY3Rpb24gd2FzIHJ1bikuXG4gICAgICAgICAgICBjb25zdCBvbGRWYWx1ZVRvQ29tcGFyZSA9IG9sZFZhbHVlICE9PSBOT19DSEFOR0UgPyBvbGRWYWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghZGV2TW9kZUVxdWFsKG9sZFZhbHVlVG9Db21wYXJlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzID0gZ2V0RXhwcmVzc2lvbkNoYW5nZWRFcnJvckRldGFpbHMobFZpZXcsIGJpbmRpbmdJbmRleCwgb2xkVmFsdWVUb0NvbXBhcmUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9ySWZOb0NoYW5nZXNNb2RlKG9sZFZhbHVlID09PSBOT19DSEFOR0UsIGRldGFpbHMub2xkVmFsdWUsIGRldGFpbHMubmV3VmFsdWUsIGRldGFpbHMucHJvcE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlcmUgd2FzIGEgY2hhbmdlLCBidXQgdGhlIGBkZXZNb2RlRXF1YWxgIGRlY2lkZWQgdGhhdCB0aGUgY2hhbmdlIGlzIGV4ZW1wdCBmcm9tIGFuIGVycm9yLlxuICAgICAgICAgICAgLy8gRm9yIHRoaXMgcmVhc29uIHdlIGV4aXQgYXMgaWYgbm8gY2hhbmdlLiBUaGUgZWFybHkgZXhpdCBpcyBuZWVkZWQgdG8gcHJldmVudCB0aGUgY2hhbmdlZFxuICAgICAgICAgICAgLy8gdmFsdWUgdG8gYmUgd3JpdHRlbiBpbnRvIGBMVmlld2AgKElmIHdlIHdvdWxkIHdyaXRlIHRoZSBuZXcgdmFsdWUgdGhhdCB3ZSB3b3VsZCBub3Qgc2VlIGl0XG4gICAgICAgICAgICAvLyBhcyBjaGFuZ2Ugb24gbmV4dCBDRC4pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbFZpZXdbYmluZGluZ0luZGV4XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4vKiogVXBkYXRlcyAyIGJpbmRpbmdzIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGVpdGhlciB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKSB7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAxLCBleHAyKSB8fCBkaWZmZXJlbnQ7XG59XG4vKiogVXBkYXRlcyAzIGJpbmRpbmdzIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGFueSB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzKSB7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4ICsgMiwgZXhwMykgfHwgZGlmZmVyZW50O1xufVxuLyoqIFVwZGF0ZXMgNCBiaW5kaW5ncyBpZiBjaGFuZ2VkLCB0aGVuIHJldHVybnMgd2hldGhlciBhbnkgd2FzIHVwZGF0ZWQuICovXG5mdW5jdGlvbiBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkge1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyLCBleHAzLCBleHA0KSB8fCBkaWZmZXJlbnQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiBvciByZW1vdmVzIGEgYm91bmQgYXR0cmlidXRlIG9uIGFuIEVsZW1lbnQuXG4gKlxuICogVXNlZCBpbiB0aGUgY2FzZSBvZiBgW2F0dHIudGl0bGVdPVwidmFsdWVcImBcbiAqXG4gKiBAcGFyYW0gbmFtZSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0gdmFsdWUgdmFsdWUgVGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkIHdoZW4gdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICogICAgICAgICAgICAgICAgICBPdGhlcndpc2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyBzZXQgdG8gdGhlIHN0cmluZ2lmaWVkIHZhbHVlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEBwYXJhbSBuYW1lc3BhY2UgT3B0aW9uYWwgbmFtZXNwYWNlIHRvIHVzZSB3aGVuIHNldHRpbmcgdGhlIGF0dHJpYnV0ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlKG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIG5hbWUsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlIGludGVycG9sYXRpb24gYmluZGluZ3Mgd2l0aCBhIHZhcmlhYmxlIG51bWJlciBvZiBleHByZXNzaW9ucy5cbiAqXG4gKiBJZiB0aGVyZSBhcmUgMSB0byA4IGV4cHJlc3Npb25zIGBpbnRlcnBvbGF0aW9uMSgpYCB0byBgaW50ZXJwb2xhdGlvbjgoKWAgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZC5cbiAqIFRob3NlIGFyZSBmYXN0ZXIgYmVjYXVzZSB0aGVyZSBpcyBubyBuZWVkIHRvIGNyZWF0ZSBhbiBhcnJheSBvZiBleHByZXNzaW9ucyBhbmQgaXRlcmF0ZSBvdmVyIGl0LlxuICpcbiAqIGB2YWx1ZXNgOlxuICogLSBoYXMgc3RhdGljIHRleHQgYXQgZXZlbiBpbmRleGVzLFxuICogLSBoYXMgZXZhbHVhdGVkIGV4cHJlc3Npb25zIGF0IG9kZCBpbmRleGVzLlxuICpcbiAqIFJldHVybnMgdGhlIGNvbmNhdGVuYXRlZCBzdHJpbmcgd2hlbiBhbnkgb2YgdGhlIGFyZ3VtZW50cyBjaGFuZ2VzLCBgTk9fQ0hBTkdFYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4oMiwgdmFsdWVzLmxlbmd0aCwgJ3Nob3VsZCBoYXZlIGF0IGxlYXN0IDMgdmFsdWVzJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHZhbHVlcy5sZW5ndGggJSAyLCAxLCAnc2hvdWxkIGhhdmUgYW4gb2RkIG51bWJlciBvZiB2YWx1ZXMnKTtcbiAgICBsZXQgaXNCaW5kaW5nVXBkYXRlZCA9IGZhbHNlO1xuICAgIGxldCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAvLyBDaGVjayBpZiBiaW5kaW5ncyAob2RkIGluZGV4ZXMpIGhhdmUgY2hhbmdlZFxuICAgICAgICBpc0JpbmRpbmdVcGRhdGVkID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCsrLCB2YWx1ZXNbaV0pIHx8IGlzQmluZGluZ1VwZGF0ZWQ7XG4gICAgfVxuICAgIHNldEJpbmRpbmdJbmRleChiaW5kaW5nSW5kZXgpO1xuICAgIGlmICghaXNCaW5kaW5nVXBkYXRlZCkge1xuICAgICAgICByZXR1cm4gTk9fQ0hBTkdFO1xuICAgIH1cbiAgICAvLyBCdWlsZCB0aGUgdXBkYXRlZCBjb250ZW50XG4gICAgbGV0IGNvbnRlbnQgPSB2YWx1ZXNbMF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgY29udGVudCArPSByZW5kZXJTdHJpbmdpZnkodmFsdWVzW2ldKSArIHZhbHVlc1tpICsgMV07XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDEgZXhwcmVzc2lvbi5cbiAqXG4gKiBAcGFyYW0gcHJlZml4IHN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgdmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBzdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIG5leHRCaW5kaW5nSW5kZXgoKSwgdjApO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgc3VmZml4IDogTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDIgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCgyKTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIHN1ZmZpeCA6IE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCAzIGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyKTtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoMyk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/XG4gICAgICAgIHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArIHJlbmRlclN0cmluZ2lmeSh2MikgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA0IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoNCk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArIHJlbmRlclN0cmluZ2lmeSh2MykgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNSBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyLCB2Myk7XG4gICAgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0KSB8fCBkaWZmZXJlbnQ7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDUpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgKyByZW5kZXJTdHJpbmdpZnkodjMpICsgaTMgKyByZW5kZXJTdHJpbmdpZnkodjQpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDYgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyLCB2Myk7XG4gICAgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB2NCwgdjUpIHx8IGRpZmZlcmVudDtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoNik7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/XG4gICAgICAgIHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArXG4gICAgICAgICAgICByZW5kZXJTdHJpbmdpZnkodjMpICsgaTMgKyByZW5kZXJTdHJpbmdpZnkodjQpICsgaTQgKyByZW5kZXJTdHJpbmdpZnkodjUpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDcgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSwgdjYpIHx8IGRpZmZlcmVudDtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoNyk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBpNCArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2NSkgKyBpNSArIHJlbmRlclN0cmluZ2lmeSh2NikgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggOCBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyLCB2Myk7XG4gICAgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB2NCwgdjUsIHY2LCB2NykgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg4KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIGkzICsgcmVuZGVyU3RyaW5naWZ5KHY0KSArIGk0ICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHY1KSArIGk1ICsgcmVuZGVyU3RyaW5naWZ5KHY2KSArIGk2ICsgcmVuZGVyU3RyaW5naWZ5KHY3KSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cblxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxKCd0aXRsZScsICdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEoYXR0ck5hbWUsIHByZWZpeCwgdjAsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMSwgcHJlZml4LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMihhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMiwgcHJlZml4LCBpMCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTI7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyhcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAzLCBwcmVmaXgsIGkwLCBpMSwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTM7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU0KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDQsIHByZWZpeCwgaTAsIGkxLCBpMiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQ7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1KFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNShhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNSwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNihcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA2LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTY7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcoXG4gKiAgICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU3KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDcsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBpNSwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTc7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU4KFxuICogICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDgsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBpNSwgaTYsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU4O1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWKFxuICogICd0aXRsZScsIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbi1iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnLScsIHZhbHVlMSwgJy0nLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWKGF0dHJOYW1lLCB2YWx1ZXMsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuID0gW3ZhbHVlc1swXV07IC8vIHByZWZpeFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuLnB1c2godmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIGludGVycG9sYXRpb25JbkJldHdlZW4ubGVuZ3RoICsgMSwgLi4uaW50ZXJwb2xhdGlvbkluQmV0d2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gdGVtcGxhdGVGaXJzdENyZWF0ZVBhc3MoaW5kZXgsIHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgZGVjbHMsIHZhcnMsIHRhZ05hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5maXJzdENyZWF0ZVBhc3MrKztcbiAgICBjb25zdCB0Vmlld0NvbnN0cyA9IHRWaWV3LmNvbnN0cztcbiAgICAvLyBUT0RPKHBrKTogcmVmYWN0b3IgZ2V0T3JDcmVhdGVUTm9kZSB0byBoYXZlIHRoZSBcImNyZWF0ZVwiIG9ubHkgdmVyc2lvblxuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDQgLyogQ29udGFpbmVyICovLCB0YWdOYW1lIHx8IG51bGwsIGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBhdHRyc0luZGV4KSk7XG4gICAgcmVzb2x2ZURpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGxvY2FsUmVmc0luZGV4KSk7XG4gICAgcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgdE5vZGUpO1xuICAgIGNvbnN0IGVtYmVkZGVkVFZpZXcgPSB0Tm9kZS50Vmlld3MgPSBjcmVhdGVUVmlldygyIC8qIEVtYmVkZGVkICovLCB0Tm9kZSwgdGVtcGxhdGVGbiwgZGVjbHMsIHZhcnMsIHRWaWV3LmRpcmVjdGl2ZVJlZ2lzdHJ5LCB0Vmlldy5waXBlUmVnaXN0cnksIG51bGwsIHRWaWV3LnNjaGVtYXMsIHRWaWV3Q29uc3RzKTtcbiAgICBpZiAodFZpZXcucXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5xdWVyaWVzLnRlbXBsYXRlKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGVtYmVkZGVkVFZpZXcucXVlcmllcyA9IHRWaWV3LnF1ZXJpZXMuZW1iZWRkZWRUVmlldyh0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBMQ29udGFpbmVyIGZvciBhbiBuZy10ZW1wbGF0ZSAoZHluYW1pY2FsbHktaW5zZXJ0ZWQgdmlldyksIGUuZy5cbiAqXG4gKiA8bmctdGVtcGxhdGUgI2Zvbz5cbiAqICAgIDxkaXY+PC9kaXY+XG4gKiA8L25nLXRlbXBsYXRlPlxuICpcbiAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGNvbnRhaW5lciBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIHRlbXBsYXRlRm4gSW5saW5lIHRlbXBsYXRlXG4gKiBAcGFyYW0gZGVjbHMgVGhlIG51bWJlciBvZiBub2RlcywgbG9jYWwgcmVmcywgYW5kIHBpcGVzIGZvciB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0gdmFycyBUaGUgbnVtYmVyIG9mIGJpbmRpbmdzIGZvciB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0gdGFnTmFtZSBUaGUgbmFtZSBvZiB0aGUgY29udGFpbmVyIGVsZW1lbnQsIGlmIGFwcGxpY2FibGVcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRlbXBsYXRlIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmcyBJbmRleCBvZiB0aGUgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZFeHRyYWN0b3IgQSBmdW5jdGlvbiB3aGljaCBleHRyYWN0cyBsb2NhbC1yZWZzIHZhbHVlcyBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAqICAgICAgICBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgbG9jYWwtcmVmLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZW1wbGF0ZShpbmRleCwgdGVtcGxhdGVGbiwgZGVjbHMsIHZhcnMsIHRhZ05hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4LCBsb2NhbFJlZkV4dHJhY3Rvcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyA/IHRlbXBsYXRlRmlyc3RDcmVhdGVQYXNzKGFkanVzdGVkSW5kZXgsIHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgZGVjbHMsIHZhcnMsIHRhZ05hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCBmYWxzZSk7XG4gICAgY29uc3QgY29tbWVudCA9IGxWaWV3W1JFTkRFUkVSXS5jcmVhdGVDb21tZW50KG5nRGV2TW9kZSA/ICdjb250YWluZXInIDogJycpO1xuICAgIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgY29tbWVudCwgdE5vZGUpO1xuICAgIGF0dGFjaFBhdGNoRGF0YShjb21tZW50LCBsVmlldyk7XG4gICAgYWRkVG9WaWV3VHJlZShsVmlldywgbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBjcmVhdGVMQ29udGFpbmVyKGNvbW1lbnQsIGxWaWV3LCBjb21tZW50LCB0Tm9kZSkpO1xuICAgIGlmIChpc0RpcmVjdGl2ZUhvc3QodE5vZGUpKSB7XG4gICAgICAgIGNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIGlmIChsb2NhbFJlZnNJbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YShsVmlldywgdE5vZGUsIGxvY2FsUmVmRXh0cmFjdG9yKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIFN0b3JlIGEgdmFsdWUgaW4gdGhlIGBkYXRhYCBhdCBhIGdpdmVuIGBpbmRleGAuICovXG5mdW5jdGlvbiBzdG9yZSh0VmlldywgbFZpZXcsIGluZGV4LCB2YWx1ZSkge1xuICAgIC8vIFdlIGRvbid0IHN0b3JlIGFueSBzdGF0aWMgZGF0YSBmb3IgbG9jYWwgdmFyaWFibGVzLCBzbyB0aGUgZmlyc3QgdGltZVxuICAgIC8vIHdlIHNlZSB0aGUgdGVtcGxhdGUsIHdlIHNob3VsZCBzdG9yZSBhcyBudWxsIHRvIGF2b2lkIGEgc3BhcnNlIGFycmF5XG4gICAgaWYgKGluZGV4ID49IHRWaWV3LmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHRWaWV3LmRhdGFbaW5kZXhdID0gbnVsbDtcbiAgICAgICAgdFZpZXcuYmx1ZXByaW50W2luZGV4XSA9IG51bGw7XG4gICAgfVxuICAgIGxWaWV3W2luZGV4XSA9IHZhbHVlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBsb2NhbCByZWZlcmVuY2UgZnJvbSB0aGUgY3VycmVudCBjb250ZXh0Vmlld0RhdGEuXG4gKlxuICogSWYgdGhlIHJlZmVyZW5jZSB0byByZXRyaWV2ZSBpcyBpbiBhIHBhcmVudCB2aWV3LCB0aGlzIGluc3RydWN0aW9uIGlzIHVzZWQgaW4gY29uanVuY3Rpb25cbiAqIHdpdGggYSBuZXh0Q29udGV4dCgpIGNhbGwsIHdoaWNoIHdhbGtzIHVwIHRoZSB0cmVlIGFuZCB1cGRhdGVzIHRoZSBjb250ZXh0Vmlld0RhdGEgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbG9jYWwgcmVmIGluIGNvbnRleHRWaWV3RGF0YS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVmZXJlbmNlKGluZGV4KSB7XG4gICAgY29uc3QgY29udGV4dExWaWV3ID0gZ2V0Q29udGV4dExWaWV3KCk7XG4gICAgcmV0dXJuIGxvYWQoY29udGV4dExWaWV3LCBIRUFERVJfT0ZGU0VUICsgaW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBtYXBwaW5nIG9mIHRoZSBAYW5ndWxhci9jb3JlIEFQSSBzdXJmYWNlIHVzZWQgaW4gZ2VuZXJhdGVkIGV4cHJlc3Npb25zIHRvIHRoZSBhY3R1YWwgc3ltYm9scy5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSBrZXB0IHVwIHRvIGRhdGUgd2l0aCB0aGUgcHVibGljIGV4cG9ydHMgb2YgQGFuZ3VsYXIvY29yZS5cbiAqL1xuY29uc3QgYW5ndWxhckNvcmVEaUVudiA9IHtcbiAgICAnybXJtWRlZmluZUluamVjdGFibGUnOiDJtcm1ZGVmaW5lSW5qZWN0YWJsZSxcbiAgICAnybXJtWRlZmluZUluamVjdG9yJzogybXJtWRlZmluZUluamVjdG9yLFxuICAgICfJtcm1aW5qZWN0JzogybXJtWluamVjdCxcbiAgICAnybXJtWludmFsaWRGYWN0b3J5RGVwJzogybXJtWludmFsaWRGYWN0b3J5RGVwLFxuICAgICdyZXNvbHZlRm9yd2FyZFJlZic6IHJlc29sdmVGb3J3YXJkUmVmLFxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbXBpbGUgYW4gQW5ndWxhciBpbmplY3RhYmxlIGFjY29yZGluZyB0byBpdHMgYEluamVjdGFibGVgIG1ldGFkYXRhLCBhbmQgcGF0Y2ggdGhlIHJlc3VsdGluZ1xuICogaW5qZWN0YWJsZSBkZWYgKGDJtXByb3ZgKSBvbnRvIHRoZSBpbmplY3RhYmxlIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVJbmplY3RhYmxlKHR5cGUsIG1ldGEpIHtcbiAgICBsZXQgbmdJbmplY3RhYmxlRGVmID0gbnVsbDtcbiAgICBsZXQgbmdGYWN0b3J5RGVmID0gbnVsbDtcbiAgICAvLyBpZiBOR19QUk9WX0RFRiBpcyBhbHJlYWR5IGRlZmluZWQgb24gdGhpcyBjbGFzcyB0aGVuIGRvbid0IG92ZXJ3cml0ZSBpdFxuICAgIGlmICghdHlwZS5oYXNPd25Qcm9wZXJ0eShOR19QUk9WX0RFRikpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX1BST1ZfREVGLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobmdJbmplY3RhYmxlRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdpbmplY3RhYmxlJywgdHlwZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgbmdJbmplY3RhYmxlRGVmID0gY29tcGlsZXIuY29tcGlsZUluamVjdGFibGUoYW5ndWxhckNvcmVEaUVudiwgYG5nOi8vLyR7dHlwZS5uYW1lfS/JtXByb3YuanNgLCBnZXRJbmplY3RhYmxlTWV0YWRhdGEodHlwZSwgbWV0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmdJbmplY3RhYmxlRGVmO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGlmIE5HX0ZBQ1RPUllfREVGIGlzIGFscmVhZHkgZGVmaW5lZCBvbiB0aGlzIGNsYXNzIHRoZW4gZG9uJ3Qgb3ZlcndyaXRlIGl0XG4gICAgaWYgKCF0eXBlLmhhc093blByb3BlcnR5KE5HX0ZBQ1RPUllfREVGKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfRkFDVE9SWV9ERUYsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZ0ZhY3RvcnlEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZ0ZhY3RvcnlEZWYgPSBjb21waWxlci5jb21waWxlRmFjdG9yeShhbmd1bGFyQ29yZURpRW52LCBgbmc6Ly8vJHt0eXBlLm5hbWV9L8m1ZmFjLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogY29tcGlsZXIuRmFjdG9yeVRhcmdldC5JbmplY3RhYmxlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmdGYWN0b3J5RGVmO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIExlYXZlIHRoaXMgY29uZmlndXJhYmxlIHNvIHRoYXQgdGhlIGZhY3RvcmllcyBmcm9tIGRpcmVjdGl2ZXMgb3IgcGlwZXMgY2FuIHRha2UgcHJlY2VkZW5jZS5cbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG59XG5jb25zdCBVU0VfVkFMVUUgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgcHJvdmlkZTogU3RyaW5nLCB1c2VWYWx1ZTogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmZ1bmN0aW9uIGlzVXNlQ2xhc3NQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIG1ldGEudXNlQ2xhc3MgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzVXNlVmFsdWVQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIFVTRV9WQUxVRSBpbiBtZXRhO1xufVxuZnVuY3Rpb24gaXNVc2VGYWN0b3J5UHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBtZXRhLnVzZUZhY3RvcnkgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzVXNlRXhpc3RpbmdQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIG1ldGEudXNlRXhpc3RpbmcgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGdldEluamVjdGFibGVNZXRhZGF0YSh0eXBlLCBzcmNNZXRhKSB7XG4gICAgLy8gQWxsb3cgdGhlIGNvbXBpbGF0aW9uIG9mIGEgY2xhc3Mgd2l0aCBhIGBASW5qZWN0YWJsZSgpYCBkZWNvcmF0b3Igd2l0aG91dCBwYXJhbWV0ZXJzXG4gICAgY29uc3QgbWV0YSA9IHNyY01ldGEgfHwgeyBwcm92aWRlZEluOiBudWxsIH07XG4gICAgY29uc3QgY29tcGlsZXJNZXRhID0ge1xuICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVBcmd1bWVudENvdW50OiAwLFxuICAgICAgICBwcm92aWRlZEluOiBtZXRhLnByb3ZpZGVkSW4sXG4gICAgfTtcbiAgICBpZiAoKGlzVXNlQ2xhc3NQcm92aWRlcihtZXRhKSB8fCBpc1VzZUZhY3RvcnlQcm92aWRlcihtZXRhKSkgJiYgbWV0YS5kZXBzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLmRlcHMgPSBjb252ZXJ0RGVwZW5kZW5jaWVzKG1ldGEuZGVwcyk7XG4gICAgfVxuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgdXNlciBleHBsaWNpdGx5IHByb3ZpZGVkIGEgYHVzZVh4eHhgIHByb3BlcnR5LlxuICAgIGlmIChpc1VzZUNsYXNzUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZUNsYXNzID0gbWV0YS51c2VDbGFzcztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNVc2VWYWx1ZVByb3ZpZGVyKG1ldGEpKSB7XG4gICAgICAgIGNvbXBpbGVyTWV0YS51c2VWYWx1ZSA9IG1ldGEudXNlVmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpKSB7XG4gICAgICAgIGNvbXBpbGVyTWV0YS51c2VGYWN0b3J5ID0gbWV0YS51c2VGYWN0b3J5O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VzZUV4aXN0aW5nUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZUV4aXN0aW5nID0gbWV0YS51c2VFeGlzdGluZztcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBpbGVyTWV0YTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdGFibGUgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBJbmplY3RhYmxlID0gbWFrZURlY29yYXRvcignSW5qZWN0YWJsZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlSW5qZWN0YWJsZSh0eXBlLCBtZXRhKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZmluZEZpcnN0Q2xvc2VkQ3ljbGUoa2V5cykge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAocmVzLmluZGV4T2Yoa2V5c1tpXSkgPiAtMSkge1xuICAgICAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5wdXNoKGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCByZXZlcnNlZCA9IGZpbmRGaXJzdENsb3NlZEN5Y2xlKGtleXMuc2xpY2UoKS5yZXZlcnNlKCkpO1xuICAgICAgICBjb25zdCB0b2tlblN0cnMgPSByZXZlcnNlZC5tYXAoayA9PiBzdHJpbmdpZnkoay50b2tlbikpO1xuICAgICAgICByZXR1cm4gJyAoJyArIHRva2VuU3Rycy5qb2luKCcgLT4gJykgKyAnKSc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbmZ1bmN0aW9uIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICBjb25zdCBrZXlzID0gW2tleV07XG4gICAgY29uc3QgZXJyTXNnID0gY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZShrZXlzKTtcbiAgICBjb25zdCBlcnJvciA9IChvcmlnaW5hbEVycm9yID8gd3JhcHBlZEVycm9yKGVyck1zZywgb3JpZ2luYWxFcnJvcikgOiBFcnJvcihlcnJNc2cpKTtcbiAgICBlcnJvci5hZGRLZXkgPSBhZGRLZXk7XG4gICAgZXJyb3Iua2V5cyA9IGtleXM7XG4gICAgZXJyb3IuaW5qZWN0b3JzID0gW2luamVjdG9yXTtcbiAgICBlcnJvci5jb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlID0gY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZTtcbiAgICBlcnJvcltFUlJPUl9PUklHSU5BTF9FUlJPUl0gPSBvcmlnaW5hbEVycm9yO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmZ1bmN0aW9uIGFkZEtleShpbmplY3Rvciwga2V5KSB7XG4gICAgdGhpcy5pbmplY3RvcnMucHVzaChpbmplY3Rvcik7XG4gICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICAvLyBOb3RlOiBUaGlzIHVwZGF0ZWQgbWVzc2FnZSB3b24ndCBiZSByZWZsZWN0ZWQgaW4gdGhlIGAuc3RhY2tgIHByb3BlcnR5XG4gICAgdGhpcy5tZXNzYWdlID0gdGhpcy5jb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKHRoaXMua2V5cyk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIHRyeWluZyB0byByZXRyaWV2ZSBhIGRlcGVuZGVuY3kgYnkga2V5IGZyb20ge0BsaW5rIEluamVjdG9yfSwgYnV0IHRoZVxuICoge0BsaW5rIEluamVjdG9yfSBkb2VzIG5vdCBoYXZlIGEge0BsaW5rIFByb3ZpZGVyfSBmb3IgdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYjpCKSB7fVxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIG5vUHJvdmlkZXJFcnJvcihpbmplY3Rvciwga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gc3RyaW5naWZ5KGtleXNbMF0udG9rZW4pO1xuICAgICAgICByZXR1cm4gYE5vIHByb3ZpZGVyIGZvciAke2ZpcnN0fSEke2NvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyl9YDtcbiAgICB9KTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gZGVwZW5kZW5jaWVzIGZvcm0gYSBjeWNsZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAqICAge3Byb3ZpZGU6IFwib25lXCIsIHVzZUZhY3Rvcnk6ICh0d28pID0+IFwidHdvXCIsIGRlcHM6IFtbbmV3IEluamVjdChcInR3b1wiKV1dfSxcbiAqICAge3Byb3ZpZGU6IFwidHdvXCIsIHVzZUZhY3Rvcnk6IChvbmUpID0+IFwib25lXCIsIGRlcHM6IFtbbmV3IEluamVjdChcIm9uZVwiKV1dfVxuICogXSk7XG4gKlxuICogZXhwZWN0KCgpID0+IGluamVjdG9yLmdldChcIm9uZVwiKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKiBSZXRyaWV2aW5nIGBBYCBvciBgQmAgdGhyb3dzIGEgYEN5Y2xpY0RlcGVuZGVuY3lFcnJvcmAgYXMgdGhlIGdyYXBoIGFib3ZlIGNhbm5vdCBiZSBjb25zdHJ1Y3RlZC5cbiAqL1xuZnVuY3Rpb24gY3ljbGljRGVwZW5kZW5jeUVycm9yKGluamVjdG9yLCBrZXkpIHtcbiAgICByZXR1cm4gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgcmV0dXJuIGBDYW5ub3QgaW5zdGFudGlhdGUgY3ljbGljIGRlcGVuZGVuY3khJHtjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpfWA7XG4gICAgfSk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGEgY29uc3RydWN0aW5nIHR5cGUgcmV0dXJucyB3aXRoIGFuIEVycm9yLlxuICpcbiAqIFRoZSBgSW5zdGFudGlhdGlvbkVycm9yYCBjbGFzcyBjb250YWlucyB0aGUgb3JpZ2luYWwgZXJyb3IgcGx1cyB0aGUgZGVwZW5kZW5jeSBncmFwaCB3aGljaCBjYXVzZWRcbiAqIHRoaXMgb2JqZWN0IHRvIGJlIGluc3RhbnRpYXRlZC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXNzYWdlJyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSk7XG5cbiAqIHRyeSB7XG4gKiAgIGluamVjdG9yLmdldChBKTtcbiAqIH0gY2F0Y2ggKGUpIHtcbiAqICAgZXhwZWN0KGUgaW5zdGFuY2VvZiBJbnN0YW50aWF0aW9uRXJyb3IpLnRvQmUodHJ1ZSk7XG4gKiAgIGV4cGVjdChlLm9yaWdpbmFsRXhjZXB0aW9uLm1lc3NhZ2UpLnRvRXF1YWwoXCJtZXNzYWdlXCIpO1xuICogICBleHBlY3QoZS5vcmlnaW5hbFN0YWNrKS50b0JlRGVmaW5lZCgpO1xuICogfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRpb25FcnJvcihpbmplY3Rvciwgb3JpZ2luYWxFeGNlcHRpb24sIG9yaWdpbmFsU3RhY2ssIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICBjb25zdCBmaXJzdCA9IHN0cmluZ2lmeShrZXlzWzBdLnRva2VuKTtcbiAgICAgICAgcmV0dXJuIGAke29yaWdpbmFsRXhjZXB0aW9uLm1lc3NhZ2V9OiBFcnJvciBkdXJpbmcgaW5zdGFudGlhdGlvbiBvZiAke2ZpcnN0fSEke2NvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyl9LmA7XG4gICAgfSwgb3JpZ2luYWxFeGNlcHRpb24pO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBhbiBvYmplY3Qgb3RoZXIgdGhlbiB7QGxpbmsgUHJvdmlkZXJ9IChvciBgVHlwZWApIGlzIHBhc3NlZCB0byB7QGxpbmsgSW5qZWN0b3J9XG4gKiBjcmVhdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXCJub3QgYSB0eXBlXCJdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gaW52YWxpZFByb3ZpZGVyRXJyb3IocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gRXJyb3IoYEludmFsaWQgcHJvdmlkZXIgLSBvbmx5IGluc3RhbmNlcyBvZiBQcm92aWRlciBhbmQgVHlwZSBhcmUgYWxsb3dlZCwgZ290OiAke3Byb3ZpZGVyfWApO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiB0aGUgY2xhc3MgaGFzIG5vIGFubm90YXRpb24gaW5mb3JtYXRpb24uXG4gKlxuICogTGFjayBvZiBhbm5vdGF0aW9uIGluZm9ybWF0aW9uIHByZXZlbnRzIHRoZSB7QGxpbmsgSW5qZWN0b3J9IGZyb20gZGV0ZXJtaW5pbmcgd2hpY2ggZGVwZW5kZW5jaWVzXG4gKiBuZWVkIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnN0cnVjdG9yLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcihiKSB7fVxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICogVGhpcyBlcnJvciBpcyBhbHNvIHRocm93biB3aGVuIHRoZSBjbGFzcyBub3QgbWFya2VkIHdpdGgge0BsaW5rIEluamVjdGFibGV9IGhhcyBwYXJhbWV0ZXIgdHlwZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQiB7fVxuICpcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcihiOkIpIHt9IC8vIG5vIGluZm9ybWF0aW9uIGFib3V0IHRoZSBwYXJhbWV0ZXIgdHlwZXMgb2YgQSBpcyBhdmFpbGFibGUgYXQgcnVudGltZS5cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQSxCXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICovXG5mdW5jdGlvbiBub0Fubm90YXRpb25FcnJvcih0eXBlT3JGdW5jLCBwYXJhbXMpIHtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwYXJhbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXIgPSBwYXJhbXNbaV07XG4gICAgICAgIGlmICghcGFyYW1ldGVyIHx8IHBhcmFtZXRlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgc2lnbmF0dXJlLnB1c2goJz8nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZS5wdXNoKHBhcmFtZXRlci5tYXAoc3RyaW5naWZ5KS5qb2luKCcgJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBFcnJvcignQ2Fubm90IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yIFxcJycgKyBzdHJpbmdpZnkodHlwZU9yRnVuYykgKyAnXFwnKCcgK1xuICAgICAgICBzaWduYXR1cmUuam9pbignLCAnKSArICcpLiAnICtcbiAgICAgICAgJ01ha2Ugc3VyZSB0aGF0IGFsbCB0aGUgcGFyYW1ldGVycyBhcmUgZGVjb3JhdGVkIHdpdGggSW5qZWN0IG9yIGhhdmUgdmFsaWQgdHlwZSBhbm5vdGF0aW9ucyBhbmQgdGhhdCBcXCcnICtcbiAgICAgICAgc3RyaW5naWZ5KHR5cGVPckZ1bmMpICsgJ1xcJyBpcyBkZWNvcmF0ZWQgd2l0aCBJbmplY3RhYmxlLicpO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBnZXR0aW5nIGFuIG9iamVjdCBieSBpbmRleC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHt9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pO1xuICpcbiAqIGV4cGVjdCgoKSA9PiBpbmplY3Rvci5nZXRBdCgxMDApKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqL1xuZnVuY3Rpb24gb3V0T2ZCb3VuZHNFcnJvcihpbmRleCkge1xuICAgIHJldHVybiBFcnJvcihgSW5kZXggJHtpbmRleH0gaXMgb3V0LW9mLWJvdW5kcy5gKTtcbn1cbi8vIFRPRE86IGFkZCBhIHdvcmtpbmcgZXhhbXBsZSBhZnRlciBhbHBoYTM4IGlzIHJlbGVhc2VkXG4vKipcbiAqIFRocm93biB3aGVuIGEgbXVsdGkgcHJvdmlkZXIgYW5kIGEgcmVndWxhciBwcm92aWRlciBhcmUgYm91bmQgdG8gdGhlIHNhbWUgdG9rZW4uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICB7IHByb3ZpZGU6IFwiU3RyaW5nc1wiLCB1c2VWYWx1ZTogXCJzdHJpbmcxXCIsIG11bHRpOiB0cnVlfSxcbiAqICAgeyBwcm92aWRlOiBcIlN0cmluZ3NcIiwgdXNlVmFsdWU6IFwic3RyaW5nMlwiLCBtdWx0aTogZmFsc2V9XG4gKiBdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gbWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yKHByb3ZpZGVyMSwgcHJvdmlkZXIyKSB7XG4gICAgcmV0dXJuIEVycm9yKGBDYW5ub3QgbWl4IG11bHRpIHByb3ZpZGVycyBhbmQgcmVndWxhciBwcm92aWRlcnMsIGdvdDogJHtwcm92aWRlcjF9ICR7cHJvdmlkZXIyfWApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSB1bmlxdWUgb2JqZWN0IHVzZWQgZm9yIHJldHJpZXZpbmcgaXRlbXMgZnJvbSB0aGUge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0uXG4gKlxuICogS2V5cyBoYXZlOlxuICogLSBhIHN5c3RlbS13aWRlIHVuaXF1ZSBgaWRgLlxuICogLSBhIGB0b2tlbmAuXG4gKlxuICogYEtleWAgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGJlY2F1c2UgaXRzIHN5c3RlbS13aWRlIHVuaXF1ZSBgaWRgIGFsbG93c1xuICogdGhlXG4gKiBpbmplY3RvciB0byBzdG9yZSBjcmVhdGVkIG9iamVjdHMgaW4gYSBtb3JlIGVmZmljaWVudCB3YXkuXG4gKlxuICogYEtleWAgc2hvdWxkIG5vdCBiZSBjcmVhdGVkIGRpcmVjdGx5LiB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfSBjcmVhdGVzIGtleXMgYXV0b21hdGljYWxseSB3aGVuXG4gKiByZXNvbHZpbmdcbiAqIHByb3ZpZGVycy5cbiAqXG4gKiBAZGVwcmVjYXRlZCBObyByZXBsYWNlbWVudFxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBSZWZsZWN0aXZlS2V5IHtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodG9rZW4sIGlkKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIG11c3QgYmUgZGVmaW5lZCEnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gc3RyaW5naWZ5KHRoaXMudG9rZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBgS2V5YCBmb3IgYSB0b2tlbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0KHRva2VuKSB7XG4gICAgICAgIHJldHVybiBfZ2xvYmFsS2V5UmVnaXN0cnkuZ2V0KHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2Yga2V5cyByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uXG4gICAgICovXG4gICAgc3RhdGljIGdldCBudW1iZXJPZktleXMoKSB7XG4gICAgICAgIHJldHVybiBfZ2xvYmFsS2V5UmVnaXN0cnkubnVtYmVyT2ZLZXlzO1xuICAgIH1cbn1cbmNsYXNzIEtleVJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fYWxsS2V5cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0KHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIFJlZmxlY3RpdmVLZXkpXG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIGlmICh0aGlzLl9hbGxLZXlzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGxLZXlzLmdldCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3S2V5ID0gbmV3IFJlZmxlY3RpdmVLZXkodG9rZW4sIFJlZmxlY3RpdmVLZXkubnVtYmVyT2ZLZXlzKTtcbiAgICAgICAgdGhpcy5fYWxsS2V5cy5zZXQodG9rZW4sIG5ld0tleSk7XG4gICAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfVxuICAgIGdldCBudW1iZXJPZktleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxLZXlzLnNpemU7XG4gICAgfVxufVxuY29uc3QgX2dsb2JhbEtleVJlZ2lzdHJ5ID0gbmV3IEtleVJlZ2lzdHJ5KCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gcmVmbGVjdGlvbiBkYXRhIGFib3V0IHN5bWJvbHMuIFVzZWQgaW50ZXJuYWxseSBieSBBbmd1bGFyXG4gKiB0byBwb3dlciBkZXBlbmRlbmN5IGluamVjdGlvbiBhbmQgY29tcGlsYXRpb24uXG4gKi9cbmNsYXNzIFJlZmxlY3RvciB7XG4gICAgY29uc3RydWN0b3IocmVmbGVjdGlvbkNhcGFiaWxpdGllcykge1xuICAgICAgICB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgPSByZWZsZWN0aW9uQ2FwYWJpbGl0aWVzO1xuICAgIH1cbiAgICB1cGRhdGVDYXBhYmlsaXRpZXMoY2Fwcykge1xuICAgICAgICB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgPSBjYXBzO1xuICAgIH1cbiAgICBmYWN0b3J5KHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5mYWN0b3J5KHR5cGUpO1xuICAgIH1cbiAgICBwYXJhbWV0ZXJzKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wYXJhbWV0ZXJzKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBhbm5vdGF0aW9ucyh0eXBlT3JGdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuYW5ub3RhdGlvbnModHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIHByb3BNZXRhZGF0YSh0eXBlT3JGdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBoYXNMaWZlY3ljbGVIb29rKHR5cGUsIGxjUHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5oYXNMaWZlY3ljbGVIb29rKHR5cGUsIGxjUHJvcGVydHkpO1xuICAgIH1cbiAgICBnZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmdldHRlcihuYW1lKTtcbiAgICB9XG4gICAgc2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5zZXR0ZXIobmFtZSk7XG4gICAgfVxuICAgIG1ldGhvZChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMubWV0aG9kKG5hbWUpO1xuICAgIH1cbiAgICBpbXBvcnRVcmkodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmltcG9ydFVyaSh0eXBlKTtcbiAgICB9XG4gICAgcmVzb3VyY2VVcmkodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnJlc291cmNlVXJpKHR5cGUpO1xuICAgIH1cbiAgICByZXNvbHZlSWRlbnRpZmllcihuYW1lLCBtb2R1bGVVcmwsIG1lbWJlcnMsIHJ1bnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlSWRlbnRpZmllcihuYW1lLCBtb2R1bGVVcmwsIG1lbWJlcnMsIHJ1bnRpbWUpO1xuICAgIH1cbiAgICByZXNvbHZlRW51bShpZGVudGlmaWVyLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb2x2ZUVudW0oaWRlbnRpZmllciwgbmFtZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIHtAbGluayBSZWZsZWN0b3J9IHVzZWQgaW50ZXJuYWxseSBpbiBBbmd1bGFyIHRvIGFjY2VzcyBtZXRhZGF0YVxuICogYWJvdXQgc3ltYm9scy5cbiAqL1xuY29uc3QgcmVmbGVjdG9yID0gbmV3IFJlZmxlY3RvcihuZXcgUmVmbGVjdGlvbkNhcGFiaWxpdGllcygpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIGBEZXBlbmRlbmN5YCBpcyB1c2VkIGJ5IHRoZSBmcmFtZXdvcmsgdG8gZXh0ZW5kIERJLlxuICogVGhpcyBpcyBpbnRlcm5hbCB0byBBbmd1bGFyIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkuXG4gKi9cbmNsYXNzIFJlZmxlY3RpdmVEZXBlbmRlbmN5IHtcbiAgICBjb25zdHJ1Y3RvcihrZXksIG9wdGlvbmFsLCB2aXNpYmlsaXR5KSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gb3B0aW9uYWw7XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tS2V5KGtleSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVEZXBlbmRlbmN5KGtleSwgZmFsc2UsIG51bGwpO1xuICAgIH1cbn1cbmNvbnN0IF9FTVBUWV9MSVNUID0gW107XG5jbGFzcyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8ge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgcmVzb2x2ZWRGYWN0b3JpZXMsIG11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRGYWN0b3JpZXMgPSByZXNvbHZlZEZhY3RvcmllcztcbiAgICAgICAgdGhpcy5tdWx0aVByb3ZpZGVyID0gbXVsdGlQcm92aWRlcjtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEZhY3RvcnkgPSB0aGlzLnJlc29sdmVkRmFjdG9yaWVzWzBdO1xuICAgIH1cbn1cbi8qKlxuICogQW4gaW50ZXJuYWwgcmVzb2x2ZWQgcmVwcmVzZW50YXRpb24gb2YgYSBmYWN0b3J5IGZ1bmN0aW9uIGNyZWF0ZWQgYnkgcmVzb2x2aW5nIGBQcm92aWRlcmAuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggY2FuIHJldHVybiBhbiBpbnN0YW5jZSBvZiBhbiBvYmplY3QgcmVwcmVzZW50ZWQgYnkgYSBrZXkuXG4gICAgICovXG4gICAgZmFjdG9yeSwgXG4gICAgLyoqXG4gICAgICogQXJndW1lbnRzIChkZXBlbmRlbmNpZXMpIHRvIHRoZSBgZmFjdG9yeWAgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgIH1cbn1cbi8qKlxuICogUmVzb2x2ZSBhIHNpbmdsZSBwcm92aWRlci5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlZmxlY3RpdmVGYWN0b3J5KHByb3ZpZGVyKSB7XG4gICAgbGV0IGZhY3RvcnlGbjtcbiAgICBsZXQgcmVzb2x2ZWREZXBzO1xuICAgIGlmIChwcm92aWRlci51c2VDbGFzcykge1xuICAgICAgICBjb25zdCB1c2VDbGFzcyA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUNsYXNzKTtcbiAgICAgICAgZmFjdG9yeUZuID0gcmVmbGVjdG9yLmZhY3RvcnkodXNlQ2xhc3MpO1xuICAgICAgICByZXNvbHZlZERlcHMgPSBfZGVwZW5kZW5jaWVzRm9yKHVzZUNsYXNzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlRXhpc3RpbmcpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gKGFsaWFzSW5zdGFuY2UpID0+IGFsaWFzSW5zdGFuY2U7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IFtSZWZsZWN0aXZlRGVwZW5kZW5jeS5mcm9tS2V5KFJlZmxlY3RpdmVLZXkuZ2V0KHByb3ZpZGVyLnVzZUV4aXN0aW5nKSldO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm92aWRlci51c2VGYWN0b3J5KSB7XG4gICAgICAgIGZhY3RvcnlGbiA9IHByb3ZpZGVyLnVzZUZhY3Rvcnk7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IGNvbnN0cnVjdERlcGVuZGVuY2llcyhwcm92aWRlci51c2VGYWN0b3J5LCBwcm92aWRlci5kZXBzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZhY3RvcnlGbiA9ICgpID0+IHByb3ZpZGVyLnVzZVZhbHVlO1xuICAgICAgICByZXNvbHZlZERlcHMgPSBfRU1QVFlfTElTVDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5KGZhY3RvcnlGbiwgcmVzb2x2ZWREZXBzKTtcbn1cbi8qKlxuICogQ29udmVydHMgdGhlIGBQcm92aWRlcmAgaW50byBgUmVzb2x2ZWRQcm92aWRlcmAuXG4gKlxuICogYEluamVjdG9yYCBpbnRlcm5hbGx5IG9ubHkgdXNlcyBgUmVzb2x2ZWRQcm92aWRlcmAsIGBQcm92aWRlcmAgY29udGFpbnMgY29udmVuaWVuY2UgcHJvdmlkZXJcbiAqIHN5bnRheC5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcihwcm92aWRlcikge1xuICAgIHJldHVybiBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfKFJlZmxlY3RpdmVLZXkuZ2V0KHByb3ZpZGVyLnByb3ZpZGUpLCBbcmVzb2x2ZVJlZmxlY3RpdmVGYWN0b3J5KHByb3ZpZGVyKV0sIHByb3ZpZGVyLm11bHRpIHx8IGZhbHNlKTtcbn1cbi8qKlxuICogUmVzb2x2ZSBhIGxpc3Qgb2YgUHJvdmlkZXJzLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVycyhwcm92aWRlcnMpIHtcbiAgICBjb25zdCBub3JtYWxpemVkID0gX25vcm1hbGl6ZVByb3ZpZGVycyhwcm92aWRlcnMsIFtdKTtcbiAgICBjb25zdCByZXNvbHZlZCA9IG5vcm1hbGl6ZWQubWFwKHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXIpO1xuICAgIGNvbnN0IHJlc29sdmVkUHJvdmlkZXJNYXAgPSBtZXJnZVJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyhyZXNvbHZlZCwgbmV3IE1hcCgpKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShyZXNvbHZlZFByb3ZpZGVyTWFwLnZhbHVlcygpKTtcbn1cbi8qKlxuICogTWVyZ2VzIGEgbGlzdCBvZiBSZXNvbHZlZFByb3ZpZGVycyBpbnRvIGEgbGlzdCB3aGVyZSBlYWNoIGtleSBpcyBjb250YWluZWQgZXhhY3RseSBvbmNlIGFuZFxuICogbXVsdGkgcHJvdmlkZXJzIGhhdmUgYmVlbiBtZXJnZWQuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycywgbm9ybWFsaXplZFByb3ZpZGVyc01hcCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gcHJvdmlkZXJzW2ldO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IG5vcm1hbGl6ZWRQcm92aWRlcnNNYXAuZ2V0KHByb3ZpZGVyLmtleS5pZCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIgIT09IGV4aXN0aW5nLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3IoZXhpc3RpbmcsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5yZXNvbHZlZEZhY3Rvcmllcy5wdXNoKHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvdmlkZXJzTWFwLnNldChwcm92aWRlci5rZXkuaWQsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXNvbHZlZFByb3ZpZGVyO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyID0gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyhwcm92aWRlci5rZXksIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLnNsaWNlKCksIHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9ybWFsaXplZFByb3ZpZGVyc01hcC5zZXQocHJvdmlkZXIua2V5LmlkLCByZXNvbHZlZFByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZFByb3ZpZGVyc01hcDtcbn1cbmZ1bmN0aW9uIF9ub3JtYWxpemVQcm92aWRlcnMocHJvdmlkZXJzLCByZXMpIHtcbiAgICBwcm92aWRlcnMuZm9yRWFjaChiID0+IHtcbiAgICAgICAgaWYgKGIgaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7IHByb3ZpZGU6IGIsIHVzZUNsYXNzOiBiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcgJiYgYi5wcm92aWRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgIF9ub3JtYWxpemVQcm92aWRlcnMoYiwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWRQcm92aWRlckVycm9yKGIpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdERlcGVuZGVuY2llcyh0eXBlT3JGdW5jLCBkZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoIWRlcGVuZGVuY2llcykge1xuICAgICAgICByZXR1cm4gX2RlcGVuZGVuY2llc0Zvcih0eXBlT3JGdW5jKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGRlcGVuZGVuY2llcy5tYXAodCA9PiBbdF0pO1xuICAgICAgICByZXR1cm4gZGVwZW5kZW5jaWVzLm1hcCh0ID0+IF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgdCwgcGFyYW1zKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gX2RlcGVuZGVuY2llc0Zvcih0eXBlT3JGdW5jKSB7XG4gICAgY29uc3QgcGFyYW1zID0gcmVmbGVjdG9yLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBpZiAocGFyYW1zLnNvbWUocCA9PiBwID09IG51bGwpKSB7XG4gICAgICAgIHRocm93IG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXMubWFwKHAgPT4gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCBwLCBwYXJhbXMpKTtcbn1cbmZ1bmN0aW9uIF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgbWV0YWRhdGEsIHBhcmFtcykge1xuICAgIGxldCB0b2tlbiA9IG51bGw7XG4gICAgbGV0IG9wdGlvbmFsID0gZmFsc2U7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1ldGFkYXRhKSkge1xuICAgICAgICBpZiAobWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeShtZXRhZGF0YS50b2tlbiwgb3B0aW9uYWwsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVEZXBlbmRlbmN5KG1ldGFkYXRhLCBvcHRpb25hbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHZpc2liaWxpdHkgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YWRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgcGFyYW1NZXRhZGF0YSA9IG1ldGFkYXRhW2ldO1xuICAgICAgICBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIFR5cGUpIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgSW5qZWN0KSB7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcmFtTWV0YWRhdGEudG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIE9wdGlvbmFsKSB7XG4gICAgICAgICAgICBvcHRpb25hbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIFNlbGYgfHwgcGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIFNraXBTZWxmKSB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5ID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgSW5qZWN0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlbiA9IHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKTtcbiAgICBpZiAodG9rZW4gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kodG9rZW4sIG9wdGlvbmFsLCB2aXNpYmlsaXR5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZURlcGVuZGVuY3kodG9rZW4sIG9wdGlvbmFsLCB2aXNpYmlsaXR5KSB7XG4gICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlRGVwZW5kZW5jeShSZWZsZWN0aXZlS2V5LmdldCh0b2tlbiksIG9wdGlvbmFsLCB2aXNpYmlsaXR5KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaHJlc2hvbGQgZm9yIHRoZSBkeW5hbWljIHZlcnNpb25cbmNvbnN0IFVOREVGSU5FRCA9IHt9O1xuLyoqXG4gKiBBIFJlZmxlY3RpdmVEZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgdXNlZCBmb3IgaW5zdGFudGlhdGluZyBvYmplY3RzIGFuZCByZXNvbHZpbmdcbiAqIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBBbiBgSW5qZWN0b3JgIGlzIGEgcmVwbGFjZW1lbnQgZm9yIGEgYG5ld2Agb3BlcmF0b3IsIHdoaWNoIGNhbiBhdXRvbWF0aWNhbGx5IHJlc29sdmUgdGhlXG4gKiBjb25zdHJ1Y3RvciBkZXBlbmRlbmNpZXMuXG4gKlxuICogSW4gdHlwaWNhbCB1c2UsIGFwcGxpY2F0aW9uIGNvZGUgYXNrcyBmb3IgdGhlIGRlcGVuZGVuY2llcyBpbiB0aGUgY29uc3RydWN0b3IgYW5kIHRoZXkgYXJlXG4gKiByZXNvbHZlZCBieSB0aGUgYEluamVjdG9yYC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhbiBgSW5qZWN0b3JgIGNvbmZpZ3VyZWQgdG8gY3JlYXRlIGBFbmdpbmVgIGFuZCBgQ2FyYC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBFbmdpbmUge1xuICogfVxuICpcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIENhciB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICogfVxuICpcbiAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtDYXIsIEVuZ2luZV0pO1xuICogdmFyIGNhciA9IGluamVjdG9yLmdldChDYXIpO1xuICogZXhwZWN0KGNhciBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAqIGV4cGVjdChjYXIuZW5naW5lIGluc3RhbmNlb2YgRW5naW5lKS50b0JlKHRydWUpO1xuICogYGBgXG4gKlxuICogTm90aWNlLCB3ZSBkb24ndCB1c2UgdGhlIGBuZXdgIG9wZXJhdG9yIGJlY2F1c2Ugd2UgZXhwbGljaXRseSB3YW50IHRvIGhhdmUgdGhlIGBJbmplY3RvcmBcbiAqIHJlc29sdmUgYWxsIG9mIHRoZSBvYmplY3QncyBkZXBlbmRlbmNpZXMgYXV0b21hdGljYWxseS5cbiAqXG4gKiBUT0RPOiBkZWxldGUgaW4gdjE0LlxuICpcbiAqIEBkZXByZWNhdGVkIGZyb20gdjUgLSBzbG93IGFuZCBicmluZ3MgaW4gYSBsb3Qgb2YgY29kZSwgVXNlIGBJbmplY3Rvci5jcmVhdGVgIGluc3RlYWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlZmxlY3RpdmVJbmplY3RvciB7XG4gICAgLyoqXG4gICAgICogVHVybnMgYW4gYXJyYXkgb2YgcHJvdmlkZXIgZGVmaW5pdGlvbnMgaW50byBhbiBhcnJheSBvZiByZXNvbHZlZCBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBBIHJlc29sdXRpb24gaXMgYSBwcm9jZXNzIG9mIGZsYXR0ZW5pbmcgbXVsdGlwbGUgbmVzdGVkIGFycmF5cyBhbmQgY29udmVydGluZyBpbmRpdmlkdWFsXG4gICAgICogcHJvdmlkZXJzIGludG8gYW4gYXJyYXkgb2YgYFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyYHMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgcHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW0NhciwgW1tFbmdpbmVdXV0pO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVycy5sZW5ndGgpLnRvRXF1YWwoMik7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdIGluc3RhbmNlb2YgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXIpLnRvQmUodHJ1ZSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJDYXJcIik7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5kZXBlbmRlbmNpZXMubGVuZ3RoKS50b0VxdWFsKDEpO1xuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0uZmFjdG9yeSkudG9CZURlZmluZWQoKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMV0ua2V5LmRpc3BsYXlOYW1lKS50b0JlKFwiRW5naW5lXCIpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmUocHJvdmlkZXJzKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVycyhwcm92aWRlcnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhbiBhcnJheSBvZiBwcm92aWRlcnMgYW5kIGNyZWF0ZXMgYW4gaW5qZWN0b3IgZnJvbSB0aG9zZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGUgcGFzc2VkLWluIHByb3ZpZGVycyBjYW4gYmUgYW4gYXJyYXkgb2YgYFR5cGVgLCBgUHJvdmlkZXJgLFxuICAgICAqIG9yIGEgcmVjdXJzaXZlIGFycmF5IG9mIG1vcmUgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0NhciwgRW5naW5lXSk7XG4gICAgICogZXhwZWN0KGluamVjdG9yLmdldChDYXIpIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyByZXNvbHZlQW5kQ3JlYXRlKHByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIGNvbnN0IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiBSZWZsZWN0aXZlSW5qZWN0b3IuZnJvbVJlc29sdmVkUHJvdmlkZXJzKFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycywgcGFyZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbmplY3RvciBmcm9tIHByZXZpb3VzbHkgcmVzb2x2ZWQgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogVGhpcyBBUEkgaXMgdGhlIHJlY29tbWVuZGVkIHdheSB0byBjb25zdHJ1Y3QgaW5qZWN0b3JzIGluIHBlcmZvcm1hbmNlLXNlbnNpdGl2ZSBwYXJ0cy5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBFbmdpbmVdKTtcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IuZnJvbVJlc29sdmVkUHJvdmlkZXJzKHByb3ZpZGVycyk7XG4gICAgICogZXhwZWN0KGluamVjdG9yLmdldChDYXIpIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlSW5qZWN0b3JfKHByb3ZpZGVycywgcGFyZW50KTtcbiAgICB9XG59XG5jbGFzcyBSZWZsZWN0aXZlSW5qZWN0b3JfIHtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX3Byb3ZpZGVycywgX3BhcmVudCkge1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2NvbnN0cnVjdGlvbkNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9wcm92aWRlcnMgPSBfcHJvdmlkZXJzO1xuICAgICAgICB0aGlzLnBhcmVudCA9IF9wYXJlbnQgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgbGVuID0gX3Byb3ZpZGVycy5sZW5ndGg7XG4gICAgICAgIHRoaXMua2V5SWRzID0gW107XG4gICAgICAgIHRoaXMub2JqcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmtleUlkc1tpXSA9IF9wcm92aWRlcnNbaV0ua2V5LmlkO1xuICAgICAgICAgICAgdGhpcy5vYmpzW2ldID0gVU5ERUZJTkVEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSA9IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXkoUmVmbGVjdGl2ZUtleS5nZXQodG9rZW4pLCBudWxsLCBub3RGb3VuZFZhbHVlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUFuZENyZWF0ZUNoaWxkKHByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZChSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMpO1xuICAgIH1cbiAgICBjcmVhdGVDaGlsZEZyb21SZXNvbHZlZChwcm92aWRlcnMpIHtcbiAgICAgICAgY29uc3QgaW5qID0gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdmlkZXJzKTtcbiAgICAgICAgaW5qLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBpbmo7XG4gICAgfVxuICAgIHJlc29sdmVBbmRJbnN0YW50aWF0ZShwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW50aWF0ZVJlc29sdmVkKFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtwcm92aWRlcl0pWzBdKTtcbiAgICB9XG4gICAgaW5zdGFudGlhdGVSZXNvbHZlZChwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFudGlhdGVQcm92aWRlcihwcm92aWRlcik7XG4gICAgfVxuICAgIGdldFByb3ZpZGVyQXRJbmRleChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX3Byb3ZpZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG91dE9mQm91bmRzRXJyb3IoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm92aWRlcnNbaW5kZXhdO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX25ldyhwcm92aWRlcikge1xuICAgICAgICBpZiAodGhpcy5fY29uc3RydWN0aW9uQ291bnRlcisrID4gdGhpcy5fZ2V0TWF4TnVtYmVyT2ZPYmplY3RzKCkpIHtcbiAgICAgICAgICAgIHRocm93IGN5Y2xpY0RlcGVuZGVuY3lFcnJvcih0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9XG4gICAgX2dldE1heE51bWJlck9mT2JqZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Jqcy5sZW5ndGg7XG4gICAgfVxuICAgIF9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICByZXNbaV0gPSB0aGlzLl9pbnN0YW50aWF0ZShwcm92aWRlciwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZShwcm92aWRlciwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXNbMF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pbnN0YW50aWF0ZShwcm92aWRlciwgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeS5mYWN0b3J5O1xuICAgICAgICBsZXQgZGVwcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlcHMgPVxuICAgICAgICAgICAgICAgIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkuZGVwZW5kZW5jaWVzLm1hcChkZXAgPT4gdGhpcy5fZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeShkZXApKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUuYWRkS2V5KSB7XG4gICAgICAgICAgICAgICAgZS5hZGRLZXkodGhpcywgcHJvdmlkZXIua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9iajtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoLi4uZGVwcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IGluc3RhbnRpYXRpb25FcnJvcih0aGlzLCBlLCBlLnN0YWNrLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIF9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KGRlcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXkoZGVwLmtleSwgZGVwLnZpc2liaWxpdHksIGRlcC5vcHRpb25hbCA/IG51bGwgOiBUSFJPV19JRl9OT1RfRk9VTkQpO1xuICAgIH1cbiAgICBfZ2V0QnlLZXkoa2V5LCB2aXNpYmlsaXR5LCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgPT09IFJlZmxlY3RpdmVJbmplY3Rvcl8uSU5KRUNUT1JfS0VZKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlzaWJpbGl0eSBpbnN0YW5jZW9mIFNlbGYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleVNlbGYoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleURlZmF1bHQoa2V5LCBub3RGb3VuZFZhbHVlLCB2aXNpYmlsaXR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0T2JqQnlLZXlJZChrZXlJZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMua2V5SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5rZXlJZHNbaV0gPT09IGtleUlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2Jqc1tpXSA9PT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2Jqc1tpXSA9IHRoaXMuX25ldyh0aGlzLl9wcm92aWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vYmpzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBVTkRFRklORUQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlICE9PSBUSFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbm9Qcm92aWRlckVycm9yKHRoaXMsIGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9nZXRCeUtleVNlbGYoa2V5LCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuX2dldE9iakJ5S2V5SWQoa2V5LmlkKTtcbiAgICAgICAgcmV0dXJuIChvYmogIT09IFVOREVGSU5FRCkgPyBvYmogOiB0aGlzLl90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2dldEJ5S2V5RGVmYXVsdChrZXksIG5vdEZvdW5kVmFsdWUsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgbGV0IGluajtcbiAgICAgICAgaWYgKHZpc2liaWxpdHkgaW5zdGFuY2VvZiBTa2lwU2VsZikge1xuICAgICAgICAgICAgaW5qID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbmogPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmogaW5zdGFuY2VvZiBSZWZsZWN0aXZlSW5qZWN0b3JfKSB7XG4gICAgICAgICAgICBjb25zdCBpbmpfID0gaW5qO1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gaW5qXy5fZ2V0T2JqQnlLZXlJZChrZXkuaWQpO1xuICAgICAgICAgICAgaWYgKG9iaiAhPT0gVU5ERUZJTkVEKVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICBpbmogPSBpbmpfLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5qICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5qLmdldChrZXkudG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rocm93T3JOdWxsKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc3BsYXlOYW1lKCkge1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBfbWFwUHJvdmlkZXJzKHRoaXMsIChiKSA9PiAnIFwiJyArIGIua2V5LmRpc3BsYXlOYW1lICsgJ1wiICcpXG4gICAgICAgICAgICAuam9pbignLCAnKTtcbiAgICAgICAgcmV0dXJuIGBSZWZsZWN0aXZlSW5qZWN0b3IocHJvdmlkZXJzOiBbJHtwcm92aWRlcnN9XSlgO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheU5hbWU7XG4gICAgfVxufVxuUmVmbGVjdGl2ZUluamVjdG9yXy5JTkpFQ1RPUl9LRVkgPSAoIC8qIEBfX1BVUkVfXyAqL1JlZmxlY3RpdmVLZXkuZ2V0KEluamVjdG9yKSk7XG5mdW5jdGlvbiBfbWFwUHJvdmlkZXJzKGluamVjdG9yLCBmbikge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5qZWN0b3IuX3Byb3ZpZGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICByZXNbaV0gPSBmbihpbmplY3Rvci5nZXRQcm92aWRlckF0SW5kZXgoaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gybXJtWRpcmVjdGl2ZUluamVjdCh0b2tlbiwgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIC8vIEZhbGwgYmFjayB0byBpbmplY3QoKSBpZiB2aWV3IGhhc24ndCBiZWVuIGNyZWF0ZWQuIFRoaXMgc2l0dWF0aW9uIGNhbiBoYXBwZW4gaW4gdGVzdHNcbiAgICAvLyBpZiBpbmplY3QgdXRpbGl0aWVzIGFyZSB1c2VkIGJlZm9yZSBib290c3RyYXBwaW5nLlxuICAgIGlmIChsVmlldyA9PT0gbnVsbCkge1xuICAgICAgICAvLyBWZXJpZnkgdGhhdCB3ZSB3aWxsIG5vdCBnZXQgaW50byBpbmZpbml0ZSBsb29wLlxuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5qZWN0SW1wbGVtZW50YXRpb25Ob3RFcXVhbCjJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICAgICAgcmV0dXJuIMm1ybVpbmplY3QodG9rZW4sIGZsYWdzKTtcbiAgICB9XG4gICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICByZXR1cm4gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHROb2RlLCBsVmlldywgcmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pLCBmbGFncyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBlcnJvciBpbmRpY2F0aW5nIHRoYXQgYSBmYWN0b3J5IGZ1bmN0aW9uIGNvdWxkIG5vdCBiZSBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGZvciBhXG4gKiBwYXJ0aWN1bGFyIGNsYXNzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWxsb3dzIHRoZSBhY3R1YWwgZXJyb3IgbWVzc2FnZSB0byBiZSBvcHRpbWl6ZWQgYXdheSB3aGVuIG5nRGV2TW9kZSBpcyB0dXJuZWRcbiAqIG9mZiwgc2F2aW5nIGJ5dGVzIG9mIGdlbmVyYXRlZCBjb2RlIHdoaWxlIHN0aWxsIHByb3ZpZGluZyBhIGdvb2QgZXhwZXJpZW5jZSBpbiBkZXYgbW9kZS5cbiAqXG4gKiBUaGUgbmFtZSBvZiB0aGUgY2xhc3MgaXMgbm90IG1lbnRpb25lZCBoZXJlLCBidXQgd2lsbCBiZSBpbiB0aGUgZ2VuZXJhdGVkIGZhY3RvcnkgZnVuY3Rpb24gbmFtZVxuICogYW5kIHRodXMgaW4gdGhlIHN0YWNrIHRyYWNlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpbnZhbGlkRmFjdG9yeSgpIHtcbiAgICBjb25zdCBtc2cgPSBuZ0Rldk1vZGUgPyBgVGhpcyBjb25zdHJ1Y3RvciB3YXMgbm90IGNvbXBhdGlibGUgd2l0aCBEZXBlbmRlbmN5IEluamVjdGlvbi5gIDogJ2ludmFsaWQnO1xuICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXBkYXRlIGEgcHJvcGVydHkgb24gYSBzZWxlY3RlZCBlbGVtZW50LlxuICpcbiAqIE9wZXJhdGVzIG9uIHRoZSBlbGVtZW50IHNlbGVjdGVkIGJ5IGluZGV4IHZpYSB0aGUge0BsaW5rIHNlbGVjdH0gaW5zdHJ1Y3Rpb24uXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZFxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBOYW1lIG9mIHByb3BlcnR5LiBCZWNhdXNlIGl0IGlzIGdvaW5nIHRvIERPTSwgdGhpcyBpcyBub3Qgc3ViamVjdCB0b1xuICogICAgICAgIHJlbmFtaW5nIGFzIHBhcnQgb2YgbWluaWZpY2F0aW9uLlxuICogQHBhcmFtIHZhbHVlIE5ldyB2YWx1ZSB0byB3cml0ZS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgdmFsdWUuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWRcbiAqIChlLmcuIGBwcm9wZXJ0eSgnbmFtZScsIGN0eC5uYW1lKSgndGl0bGUnLCBjdHgudGl0bGUpYClcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHkocHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gbmV4dEJpbmRpbmdJbmRleCgpO1xuICAgIGlmIChiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIHZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHk7XG59XG4vKipcbiAqIEdpdmVuIGA8ZGl2IHN0eWxlPVwiLi4uXCIgbXktZGlyPmAgYW5kIGBNeURpcmAgd2l0aCBgQElucHV0KCdzdHlsZScpYCB3ZSBuZWVkIHRvIHdyaXRlIHRvXG4gKiBkaXJlY3RpdmUgaW5wdXQuXG4gKi9cbmZ1bmN0aW9uIHNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgdmFsdWUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGlucHV0cyA9IHROb2RlLmlucHV0cztcbiAgICBjb25zdCBwcm9wZXJ0eSA9IGlzQ2xhc3NCYXNlZCA/ICdjbGFzcycgOiAnc3R5bGUnO1xuICAgIC8vIFdlIHN1cHBvcnQgYm90aCAnY2xhc3MnIGFuZCBgY2xhc3NOYW1lYCBoZW5jZSB0aGUgZmFsbGJhY2suXG4gICAgc2V0SW5wdXRzRm9yUHJvcGVydHkodFZpZXcsIGxWaWV3LCBpbnB1dHNbcHJvcGVydHldLCBwcm9wZXJ0eSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRTdGFydEZpcnN0Q3JlYXRlUGFzcyhpbmRleCwgdFZpZXcsIGxWaWV3LCBuYXRpdmUsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5maXJzdENyZWF0ZVBhc3MrKztcbiAgICBjb25zdCB0Vmlld0NvbnN0cyA9IHRWaWV3LmNvbnN0cztcbiAgICBjb25zdCBhdHRycyA9IGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBhdHRyc0luZGV4KTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCAyIC8qIEVsZW1lbnQgKi8sIG5hbWUsIGF0dHJzKTtcbiAgICBjb25zdCBoYXNEaXJlY3RpdmVzID0gcmVzb2x2ZURpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGxvY2FsUmVmc0luZGV4KSk7XG4gICAgbmdEZXZNb2RlICYmIGxvZ1Vua25vd25FbGVtZW50RXJyb3IodFZpZXcsIG5hdGl2ZSwgdE5vZGUsIGhhc0RpcmVjdGl2ZXMpO1xuICAgIGlmICh0Tm9kZS5hdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBjb21wdXRlU3RhdGljU3R5bGluZyh0Tm9kZSwgdE5vZGUuYXR0cnMsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKHROb2RlLm1lcmdlZEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCB0Tm9kZS5tZXJnZWRBdHRycywgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0Vmlldy5xdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogQ3JlYXRlIERPTSBlbGVtZW50LiBUaGUgaW5zdHJ1Y3Rpb24gbXVzdCBsYXRlciBiZSBmb2xsb3dlZCBieSBgZWxlbWVudEVuZCgpYCBjYWxsLlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgTFZpZXcgYXJyYXlcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIERPTSBOb2RlXG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQXR0cmlidXRlcyBhbmQgbG9jYWxSZWZzIGFyZSBwYXNzZWQgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aGVyZSBlbGVtZW50cyB3aXRoIGFuIGV2ZW4gaW5kZXhcbiAqIGhvbGQgYW4gYXR0cmlidXRlIG5hbWUgYW5kIGVsZW1lbnRzIHdpdGggYW4gb2RkIGluZGV4IGhvbGQgYW4gYXR0cmlidXRlIHZhbHVlLCBleC46XG4gKiBbJ2lkJywgJ3dhcm5pbmc1JywgJ2NsYXNzJywgJ2FsZXJ0J11cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudFN0YXJ0KGluZGV4LCBuYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IEhFQURFUl9PRkZTRVQgKyBpbmRleDtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoZ2V0QmluZGluZ0luZGV4KCksIHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCAnZWxlbWVudHMgc2hvdWxkIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBiaW5kaW5ncycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGNvbnN0IG5hdGl2ZSA9IGxWaWV3W2FkanVzdGVkSW5kZXhdID0gY3JlYXRlRWxlbWVudE5vZGUocmVuZGVyZXIsIG5hbWUsIGdldE5hbWVzcGFjZSQxKCkpO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID9cbiAgICAgICAgZWxlbWVudFN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGFkanVzdGVkSW5kZXgsIHRWaWV3LCBsVmlldywgbmF0aXZlLCBuYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkgOlxuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgY29uc3QgbWVyZ2VkQXR0cnMgPSB0Tm9kZS5tZXJnZWRBdHRycztcbiAgICBpZiAobWVyZ2VkQXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKHJlbmRlcmVyLCBuYXRpdmUsIG1lcmdlZEF0dHJzKTtcbiAgICB9XG4gICAgY29uc3QgY2xhc3NlcyA9IHROb2RlLmNsYXNzZXM7XG4gICAgaWYgKGNsYXNzZXMgIT09IG51bGwpIHtcbiAgICAgICAgd3JpdGVEaXJlY3RDbGFzcyhyZW5kZXJlciwgbmF0aXZlLCBjbGFzc2VzKTtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGVzID0gdE5vZGUuc3R5bGVzO1xuICAgIGlmIChzdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgd3JpdGVEaXJlY3RTdHlsZShyZW5kZXJlciwgbmF0aXZlLCBzdHlsZXMpO1xuICAgIH1cbiAgICBpZiAoKHROb2RlLmZsYWdzICYgNjQgLyogaXNEZXRhY2hlZCAqLykgIT09IDY0IC8qIGlzRGV0YWNoZWQgKi8pIHtcbiAgICAgICAgLy8gSW4gdGhlIGkxOG4gY2FzZSwgdGhlIHRyYW5zbGF0aW9uIG1heSBoYXZlIHJlbW92ZWQgdGhpcyBlbGVtZW50LCBzbyBvbmx5IGFkZCBpdCBpZiBpdCBpcyBub3RcbiAgICAgICAgLy8gZGV0YWNoZWQuIFNlZSBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBhbmQgYExGcmFtZS5pbkkxOG5gIGZvciBtb3JlIGNvbnRleHQuXG4gICAgICAgIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgbmF0aXZlLCB0Tm9kZSk7XG4gICAgfVxuICAgIC8vIGFueSBpbW1lZGlhdGUgY2hpbGRyZW4gb2YgYSBjb21wb25lbnQgb3IgdGVtcGxhdGUgY29udGFpbmVyIG11c3QgYmUgcHJlLWVtcHRpdmVseVxuICAgIC8vIG1vbmtleS1wYXRjaGVkIHdpdGggdGhlIGNvbXBvbmVudCB2aWV3IGRhdGEgc28gdGhhdCB0aGUgZWxlbWVudCBjYW4gYmUgaW5zcGVjdGVkXG4gICAgLy8gbGF0ZXIgb24gdXNpbmcgYW55IGVsZW1lbnQgZGlzY292ZXJ5IHV0aWxpdHkgbWV0aG9kcyAoc2VlIGBlbGVtZW50X2Rpc2NvdmVyeS50c2ApXG4gICAgaWYgKGdldEVsZW1lbnREZXB0aENvdW50KCkgPT09IDApIHtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIH1cbiAgICBpbmNyZWFzZUVsZW1lbnREZXB0aENvdW50KCk7XG4gICAgaWYgKGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICAgICAgZXhlY3V0ZUNvbnRlbnRRdWVyaWVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBpZiAobG9jYWxSZWZzSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKGxWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1ZWxlbWVudFN0YXJ0O1xufVxuLyoqXG4gKiBNYXJrIHRoZSBlbmQgb2YgdGhlIGVsZW1lbnQuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRFbmQoKSB7XG4gICAgbGV0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGN1cnJlbnRUTm9kZSwgJ05vIHBhcmVudCBub2RlIHRvIGNsb3NlLicpO1xuICAgIGlmIChpc0N1cnJlbnRUTm9kZVBhcmVudCgpKSB7XG4gICAgICAgIHNldEN1cnJlbnRUTm9kZUFzTm90UGFyZW50KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SGFzUGFyZW50KGdldEN1cnJlbnRUTm9kZSgpKTtcbiAgICAgICAgY3VycmVudFROb2RlID0gY3VycmVudFROb2RlLnBhcmVudDtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlKGN1cnJlbnRUTm9kZSwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCB0Tm9kZSA9IGN1cnJlbnRUTm9kZTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovKTtcbiAgICBkZWNyZWFzZUVsZW1lbnREZXB0aENvdW50KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgY3VycmVudFROb2RlKTtcbiAgICAgICAgaWYgKGlzQ29udGVudFF1ZXJ5SG9zdChjdXJyZW50VE5vZGUpKSB7XG4gICAgICAgICAgICB0Vmlldy5xdWVyaWVzLmVsZW1lbnRFbmQoY3VycmVudFROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0ICE9IG51bGwgJiYgaGFzQ2xhc3NJbnB1dCh0Tm9kZSkpIHtcbiAgICAgICAgc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGdldExWaWV3KCksIHROb2RlLmNsYXNzZXNXaXRob3V0SG9zdCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0Tm9kZS5zdHlsZXNXaXRob3V0SG9zdCAhPSBudWxsICYmIGhhc1N0eWxlSW5wdXQodE5vZGUpKSB7XG4gICAgICAgIHNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmcodFZpZXcsIHROb2RlLCBnZXRMVmlldygpLCB0Tm9kZS5zdHlsZXNXaXRob3V0SG9zdCwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWVsZW1lbnRFbmQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgZWxlbWVudCB1c2luZyB7QGxpbmsgZWxlbWVudFN0YXJ0fSBhbmQge0BsaW5rIGVsZW1lbnRFbmR9XG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBET00gTm9kZVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGVzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnNJbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIGxvY2FsIHJlZmVyZW5jZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50KGluZGV4LCBuYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkge1xuICAgIMm1ybVlbGVtZW50U3RhcnQoaW5kZXgsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KTtcbiAgICDJtcm1ZWxlbWVudEVuZCgpO1xuICAgIHJldHVybiDJtcm1ZWxlbWVudDtcbn1cbmZ1bmN0aW9uIGxvZ1Vua25vd25FbGVtZW50RXJyb3IodFZpZXcsIGVsZW1lbnQsIHROb2RlLCBoYXNEaXJlY3RpdmVzKSB7XG4gICAgY29uc3Qgc2NoZW1hcyA9IHRWaWV3LnNjaGVtYXM7XG4gICAgLy8gSWYgYHNjaGVtYXNgIGlzIHNldCB0byBgbnVsbGAsIHRoYXQncyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhpcyBDb21wb25lbnQgd2FzIGNvbXBpbGVkIGluIEFPVFxuICAgIC8vIG1vZGUgd2hlcmUgdGhpcyBjaGVjayBoYXBwZW5zIGF0IGNvbXBpbGUgdGltZS4gSW4gSklUIG1vZGUsIGBzY2hlbWFzYCBpcyBhbHdheXMgcHJlc2VudCBhbmRcbiAgICAvLyBkZWZpbmVkIGFzIGFuIGFycmF5IChhcyBhbiBlbXB0eSBhcnJheSBpbiBjYXNlIGBzY2hlbWFzYCBmaWVsZCBpcyBub3QgZGVmaW5lZCkgYW5kIHdlIHNob3VsZFxuICAgIC8vIGV4ZWN1dGUgdGhlIGNoZWNrIGJlbG93LlxuICAgIGlmIChzY2hlbWFzID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgdGFnTmFtZSA9IHROb2RlLnZhbHVlO1xuICAgIC8vIElmIHRoZSBlbGVtZW50IG1hdGNoZXMgYW55IGRpcmVjdGl2ZSwgaXQncyBjb25zaWRlcmVkIGFzIHZhbGlkLlxuICAgIGlmICghaGFzRGlyZWN0aXZlcyAmJiB0YWdOYW1lICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIHVua25vd24gaWYgaXQncyBhbiBpbnN0YW5jZSBvZiBIVE1MVW5rbm93bkVsZW1lbnQgb3IgaXQgaXNuJ3QgcmVnaXN0ZXJlZFxuICAgICAgICAvLyBhcyBhIGN1c3RvbSBlbGVtZW50LiBOb3RlIHRoYXQgdW5rbm93biBlbGVtZW50cyB3aXRoIGEgZGFzaCBpbiB0aGVpciBuYW1lIHdvbid0IGJlIGluc3RhbmNlc1xuICAgICAgICAvLyBvZiBIVE1MVW5rbm93bkVsZW1lbnQgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IHdlYiBjb21wb25lbnRzLlxuICAgICAgICBjb25zdCBpc1Vua25vd24gPSBcbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGNhbid0IGNoZWNrIGZvciBgdHlwZW9mIEhUTUxVbmtub3duRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJ2AsXG4gICAgICAgIC8vIGJlY2F1c2Ugd2hpbGUgbW9zdCBicm93c2VycyByZXR1cm4gJ2Z1bmN0aW9uJywgSUUgcmV0dXJucyAnb2JqZWN0Jy5cbiAgICAgICAgKHR5cGVvZiBIVE1MVW5rbm93bkVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIEhUTUxVbmtub3duRWxlbWVudCAmJlxuICAgICAgICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxVbmtub3duRWxlbWVudCkgfHxcbiAgICAgICAgICAgICh0eXBlb2YgY3VzdG9tRWxlbWVudHMgIT09ICd1bmRlZmluZWQnICYmIHRhZ05hbWUuaW5kZXhPZignLScpID4gLTEgJiZcbiAgICAgICAgICAgICAgICAhY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKTtcbiAgICAgICAgaWYgKGlzVW5rbm93biAmJiAhbWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0YWdOYW1lKSkge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBgJyR7dGFnTmFtZX0nIGlzIG5vdCBhIGtub3duIGVsZW1lbnQ6XFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYDEuIElmICcke3RhZ05hbWV9JyBpcyBhbiBBbmd1bGFyIGNvbXBvbmVudCwgdGhlbiB2ZXJpZnkgdGhhdCBpdCBpcyBwYXJ0IG9mIHRoaXMgbW9kdWxlLlxcbmA7XG4gICAgICAgICAgICBpZiAodGFnTmFtZSAmJiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgMi4gSWYgJyR7dGFnTmFtZX0nIGlzIGEgV2ViIENvbXBvbmVudCB0aGVuIGFkZCAnQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQScgdG8gdGhlICdATmdNb2R1bGUuc2NoZW1hcycgb2YgdGhpcyBjb21wb25lbnQgdG8gc3VwcHJlc3MgdGhpcyBtZXNzYWdlLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgICAgIGAyLiBUbyBhbGxvdyBhbnkgZWxlbWVudCBhZGQgJ05PX0VSUk9SU19TQ0hFTUEnIHRvIHRoZSAnQE5nTW9kdWxlLnNjaGVtYXMnIG9mIHRoaXMgY29tcG9uZW50LmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZvcm1hdFJ1bnRpbWVFcnJvcigzMDQgLyogVU5LTk9XTl9FTEVNRU5UICovLCBtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZWxlbWVudENvbnRhaW5lclN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGluZGV4LCB0VmlldywgbFZpZXcsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5maXJzdENyZWF0ZVBhc3MrKztcbiAgICBjb25zdCB0Vmlld0NvbnN0cyA9IHRWaWV3LmNvbnN0cztcbiAgICBjb25zdCBhdHRycyA9IGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBhdHRyc0luZGV4KTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8sICduZy1jb250YWluZXInLCBhdHRycyk7XG4gICAgLy8gV2hpbGUgbmctY29udGFpbmVyIGRvZXNuJ3QgbmVjZXNzYXJpbHkgc3VwcG9ydCBzdHlsaW5nLCB3ZSB1c2UgdGhlIHN0eWxlIGNvbnRleHQgdG8gaWRlbnRpZnlcbiAgICAvLyBhbmQgZXhlY3V0ZSBkaXJlY3RpdmVzIG9uIHRoZSBuZy1jb250YWluZXIuXG4gICAgaWYgKGF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCBhdHRycywgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsUmVmcyA9IGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBsb2NhbFJlZnNJbmRleCk7XG4gICAgcmVzb2x2ZURpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgbG9jYWxSZWZzKTtcbiAgICBpZiAodFZpZXcucXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5xdWVyaWVzLmVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBsb2dpY2FsIGNvbnRhaW5lciBmb3Igb3RoZXIgbm9kZXMgKDxuZy1jb250YWluZXI+KSBiYWNrZWQgYnkgYSBjb21tZW50IG5vZGUgaW4gdGhlIERPTS5cbiAqIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50Q29udGFpbmVyRW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGhlIGNvbnRhaW5lciBhdHRyaWJ1dGVzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyJ3MgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogRXZlbiBpZiB0aGlzIGluc3RydWN0aW9uIGFjY2VwdHMgYSBzZXQgb2YgYXR0cmlidXRlcyBubyBhY3R1YWwgYXR0cmlidXRlIHZhbHVlcyBhcmUgcHJvcGFnYXRlZCB0b1xuICogdGhlIERPTSAoYXMgYSBjb21tZW50IG5vZGUgY2FuJ3QgaGF2ZSBhdHRyaWJ1dGVzKS4gQXR0cmlidXRlcyBhcmUgaGVyZSBvbmx5IGZvciBkaXJlY3RpdmVcbiAqIG1hdGNoaW5nIHB1cnBvc2VzIGFuZCBzZXR0aW5nIGluaXRpYWwgaW5wdXRzIG9mIGRpcmVjdGl2ZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRDb250YWluZXJTdGFydChpbmRleCwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGdldEJpbmRpbmdJbmRleCgpLCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgJ2VsZW1lbnQgY29udGFpbmVycyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgP1xuICAgICAgICBlbGVtZW50Q29udGFpbmVyU3RhcnRGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkgOlxuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICBjb25zdCBuYXRpdmUgPSBsVmlld1thZGp1c3RlZEluZGV4XSA9XG4gICAgICAgIGxWaWV3W1JFTkRFUkVSXS5jcmVhdGVDb21tZW50KG5nRGV2TW9kZSA/ICduZy1jb250YWluZXInIDogJycpO1xuICAgIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgbmF0aXZlLCB0Tm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIGlmIChpc0RpcmVjdGl2ZUhvc3QodE5vZGUpKSB7XG4gICAgICAgIGNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGV4ZWN1dGVDb250ZW50UXVlcmllcyh0VmlldywgdE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgaWYgKGxvY2FsUmVmc0luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKGxWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0O1xufVxuLyoqXG4gKiBNYXJrIHRoZSBlbmQgb2YgdGhlIDxuZy1jb250YWluZXI+LlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50Q29udGFpbmVyRW5kKCkge1xuICAgIGxldCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKGlzQ3VycmVudFROb2RlUGFyZW50KCkpIHtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIYXNQYXJlbnQoY3VycmVudFROb2RlKTtcbiAgICAgICAgY3VycmVudFROb2RlID0gY3VycmVudFROb2RlLnBhcmVudDtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlKGN1cnJlbnRUTm9kZSwgZmFsc2UpO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKGN1cnJlbnRUTm9kZSwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIGlmIChpc0NvbnRlbnRRdWVyeUhvc3QoY3VycmVudFROb2RlKSkge1xuICAgICAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50RW5kKGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50Q29udGFpbmVyRW5kO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGVtcHR5IGxvZ2ljYWwgY29udGFpbmVyIHVzaW5nIHtAbGluayBlbGVtZW50Q29udGFpbmVyU3RhcnR9XG4gKiBhbmQge0BsaW5rIGVsZW1lbnRDb250YWluZXJFbmR9XG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGhlIGNvbnRhaW5lciBhdHRyaWJ1dGVzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyJ3MgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRDb250YWluZXIoaW5kZXgsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgybXJtWVsZW1lbnRDb250YWluZXJTdGFydChpbmRleCwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpO1xuICAgIMm1ybVlbGVtZW50Q29udGFpbmVyRW5kKCk7XG4gICAgcmV0dXJuIMm1ybVlbGVtZW50Q29udGFpbmVyO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlLlxuICpcbiAqIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgcmVzdG9yZVZpZXcoKSBpbnN0cnVjdGlvbiB0byBzYXZlIGEgc25hcHNob3RcbiAqIG9mIHRoZSBjdXJyZW50IHZpZXcgYW5kIHJlc3RvcmUgaXQgd2hlbiBsaXN0ZW5lcnMgYXJlIGludm9rZWQuIFRoaXMgYWxsb3dzXG4gKiB3YWxraW5nIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgaW4gbGlzdGVuZXJzIHRvIGdldCB2YXJzIGZyb20gcGFyZW50IHZpZXdzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVnZXRDdXJyZW50VmlldygpIHtcbiAgICByZXR1cm4gZ2V0TFZpZXcoKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgYXJndW1lbnQgaXMgc2hhcGVkIGxpa2UgYSBQcm9taXNlXG4gKi9cbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICAvLyBhbGxvdyBhbnkgUHJvbWlzZS9BKyBjb21wbGlhbnQgdGhlbmFibGUuXG4gICAgLy8gSXQncyB1cCB0byB0aGUgY2FsbGVyIHRvIGVuc3VyZSB0aGF0IG9iai50aGVuIGNvbmZvcm1zIHRvIHRoZSBzcGVjXG4gICAgcmV0dXJuICEhb2JqICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBhcmd1bWVudCBpcyBhIFN1YnNjcmliYWJsZVxuICovXG5mdW5jdGlvbiBpc1N1YnNjcmliYWJsZShvYmopIHtcbiAgICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iai5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgYXJndW1lbnQgaXMgYW4gT2JzZXJ2YWJsZVxuICpcbiAqIFN0cmljdGx5IHRoaXMgdGVzdHMgdGhhdCB0aGUgYG9iamAgaXMgYFN1YnNjcmliYWJsZWAsIHNpbmNlIGBPYnNlcnZhYmxlYFxuICogdHlwZXMgbmVlZCBhZGRpdGlvbmFsIG1ldGhvZHMsIHN1Y2ggYXMgYGxpZnQoKWAuIEJ1dCBpdCBpcyBhZGVxdWF0ZSBmb3Igb3VyXG4gKiBuZWVkcyBzaW5jZSB3aXRoaW4gdGhlIEFuZ3VsYXIgZnJhbWV3b3JrIGNvZGUgd2Ugb25seSBldmVyIG5lZWQgdG8gdXNlIHRoZVxuICogYHN1YnNjcmliZSgpYCBtZXRob2QsIGFuZCBSeEpTIGhhcyBtZWNoYW5pc21zIHRvIHdyYXAgYFN1YnNjcmliYWJsZWAgb2JqZWN0c1xuICogaW50byBgT2JzZXJ2YWJsZWAgYXMgbmVlZGVkLlxuICovXG5jb25zdCBpc09ic2VydmFibGUgPSBpc1N1YnNjcmliYWJsZTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGN1cnJlbnQgbm9kZS5cbiAqXG4gKiBJZiBhbiBvdXRwdXQgZXhpc3RzIG9uIG9uZSBvZiB0aGUgbm9kZSdzIGRpcmVjdGl2ZXMsIGl0IGFsc28gc3Vic2NyaWJlcyB0byB0aGUgb3V0cHV0XG4gKiBhbmQgc2F2ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3IgbGF0ZXIgY2xlYW51cC5cbiAqXG4gKiBAcGFyYW0gZXZlbnROYW1lIE5hbWUgb2YgdGhlIGV2ZW50XG4gKiBAcGFyYW0gbGlzdGVuZXJGbiBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gZXZlbnQgZW1pdHNcbiAqIEBwYXJhbSB1c2VDYXB0dXJlIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBjYXB0dXJlIGluIGV2ZW50IGxpc3RlbmVyXG4gKiBAcGFyYW0gZXZlbnRUYXJnZXRSZXNvbHZlciBGdW5jdGlvbiB0aGF0IHJldHVybnMgZ2xvYmFsIHRhcmdldCBpbmZvcm1hdGlvbiBpbiBjYXNlIHRoaXMgbGlzdGVuZXJcbiAqIHNob3VsZCBiZSBhdHRhY2hlZCB0byBhIGdsb2JhbCBvYmplY3QgbGlrZSB3aW5kb3csIGRvY3VtZW50IG9yIGJvZHlcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlLCBldmVudFRhcmdldFJlc29sdmVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGxpc3RlbmVySW50ZXJuYWwodFZpZXcsIGxWaWV3LCBsVmlld1tSRU5ERVJFUl0sIHROb2RlLCBldmVudE5hbWUsIGxpc3RlbmVyRm4sICEhdXNlQ2FwdHVyZSwgZXZlbnRUYXJnZXRSZXNvbHZlcik7XG4gICAgcmV0dXJuIMm1ybVsaXN0ZW5lcjtcbn1cbi8qKlxuICogUmVnaXN0ZXJzIGEgc3ludGhldGljIGhvc3QgbGlzdGVuZXIgKGUuZy4gYChAZm9vLnN0YXJ0KWApIG9uIGEgY29tcG9uZW50IG9yIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIGZvciBjb21wYXRpYmlsaXR5IHB1cnBvc2VzIGFuZCBpcyBkZXNpZ25lZCB0byBlbnN1cmUgdGhhdCBhXG4gKiBzeW50aGV0aWMgaG9zdCBsaXN0ZW5lciAoZS5nLiBgQEhvc3RMaXN0ZW5lcignQGZvby5zdGFydCcpYCkgcHJvcGVybHkgZ2V0cyByZW5kZXJlZFxuICogaW4gdGhlIGNvbXBvbmVudCdzIHJlbmRlcmVyLiBOb3JtYWxseSBhbGwgaG9zdCBsaXN0ZW5lcnMgYXJlIGV2YWx1YXRlZCB3aXRoIHRoZVxuICogcGFyZW50IGNvbXBvbmVudCdzIHJlbmRlcmVyLCBidXQsIGluIHRoZSBjYXNlIG9mIGFuaW1hdGlvbiBAdHJpZ2dlcnMsIHRoZXkgbmVlZFxuICogdG8gYmUgZXZhbHVhdGVkIHdpdGggdGhlIHN1YiBjb21wb25lbnQncyByZW5kZXJlciAoYmVjYXVzZSB0aGF0J3Mgd2hlcmUgdGhlXG4gKiBhbmltYXRpb24gdHJpZ2dlcnMgYXJlIGRlZmluZWQpLlxuICpcbiAqIERvIG5vdCB1c2UgdGhpcyBpbnN0cnVjdGlvbiBhcyBhIHJlcGxhY2VtZW50IGZvciBgbGlzdGVuZXJgLiBUaGlzIGluc3RydWN0aW9uXG4gKiBvbmx5IGV4aXN0cyB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBWaWV3RW5naW5lJ3MgaG9zdCBiaW5kaW5nIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnRcbiAqIEBwYXJhbSBsaXN0ZW5lckZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBlbWl0c1xuICogQHBhcmFtIHVzZUNhcHR1cmUgV2hldGhlciBvciBub3QgdG8gdXNlIGNhcHR1cmUgaW4gZXZlbnQgbGlzdGVuZXJcbiAqIEBwYXJhbSBldmVudFRhcmdldFJlc29sdmVyIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBnbG9iYWwgdGFyZ2V0IGluZm9ybWF0aW9uIGluIGNhc2UgdGhpcyBsaXN0ZW5lclxuICogc2hvdWxkIGJlIGF0dGFjaGVkIHRvIGEgZ2xvYmFsIG9iamVjdCBsaWtlIHdpbmRvdywgZG9jdW1lbnQgb3IgYm9keVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzeW50aGV0aWNIb3N0TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lckZuKSB7XG4gICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGN1cnJlbnREZWYgPSBnZXRDdXJyZW50RGlyZWN0aXZlRGVmKHRWaWV3LmRhdGEpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbG9hZENvbXBvbmVudFJlbmRlcmVyKGN1cnJlbnREZWYsIHROb2RlLCBsVmlldyk7XG4gICAgbGlzdGVuZXJJbnRlcm5hbCh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCB0Tm9kZSwgZXZlbnROYW1lLCBsaXN0ZW5lckZuLCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzeW50aGV0aWNIb3N0TGlzdGVuZXI7XG59XG4vKipcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaGFzIGFscmVhZHkgYW4gZXZlbnQgaGFuZGxlciByZWdpc3RlcmVkIGZvciBhblxuICogZXZlbnQgd2l0aCBhIHNwZWNpZmllZCBuYW1lLiBUaGUgVFZpZXcuY2xlYW51cCBkYXRhIHN0cnVjdHVyZSBpcyB1c2VkIHRvIGZpbmQgb3V0IHdoaWNoIGV2ZW50c1xuICogYXJlIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZmluZEV4aXN0aW5nTGlzdGVuZXIodFZpZXcsIGxWaWV3LCBldmVudE5hbWUsIHROb2RlSWR4KSB7XG4gICAgY29uc3QgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIGlmICh0Q2xlYW51cCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdENsZWFudXAubGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwRXZlbnROYW1lID0gdENsZWFudXBbaV07XG4gICAgICAgICAgICBpZiAoY2xlYW51cEV2ZW50TmFtZSA9PT0gZXZlbnROYW1lICYmIHRDbGVhbnVwW2kgKyAxXSA9PT0gdE5vZGVJZHgpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGZvdW5kIGEgbWF0Y2hpbmcgZXZlbnQgbmFtZSBvbiB0aGUgc2FtZSBub2RlIGJ1dCBpdCBtaWdodCBub3QgaGF2ZSBiZWVuXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXJlZCB5ZXQsIHNvIHdlIG11c3QgZXhwbGljaXRseSB2ZXJpZnkgZW50cmllcyBpbiB0aGUgTFZpZXcgY2xlYW51cCBkYXRhXG4gICAgICAgICAgICAgICAgLy8gc3RydWN0dXJlcy5cbiAgICAgICAgICAgICAgICBjb25zdCBsQ2xlYW51cCA9IGxWaWV3W0NMRUFOVVBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVySWR4SW5MQ2xlYW51cCA9IHRDbGVhbnVwW2kgKyAyXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbENsZWFudXAubGVuZ3RoID4gbGlzdGVuZXJJZHhJbkxDbGVhbnVwID8gbENsZWFudXBbbGlzdGVuZXJJZHhJbkxDbGVhbnVwXSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUVmlldy5jbGVhbnVwIGNhbiBoYXZlIGEgbWl4IG9mIDQtZWxlbWVudHMgZW50cmllcyAoZm9yIGV2ZW50IGhhbmRsZXIgY2xlYW51cHMpIG9yXG4gICAgICAgICAgICAvLyAyLWVsZW1lbnQgZW50cmllcyAoZm9yIGRpcmVjdGl2ZSBhbmQgcXVlcmllcyBkZXN0cm95IGhvb2tzKS4gQXMgc3VjaCB3ZSBjYW4gZW5jb3VudGVyXG4gICAgICAgICAgICAvLyBibG9ja3Mgb2YgNCBvciAyIGl0ZW1zIGluIHRoZSB0Vmlldy5jbGVhbnVwIGFuZCB0aGlzIGlzIHdoeSB3ZSBpdGVyYXRlIG92ZXIgMiBlbGVtZW50c1xuICAgICAgICAgICAgLy8gZmlyc3QgYW5kIGp1bXAgYW5vdGhlciAyIGVsZW1lbnRzIGlmIHdlIGRldGVjdCBsaXN0ZW5lcnMgY2xlYW51cCAoNCBlbGVtZW50cykuIEFsc28gY2hlY2tcbiAgICAgICAgICAgIC8vIGRvY3VtZW50YXRpb24gb2YgVFZpZXcuY2xlYW51cCBmb3IgbW9yZSBkZXRhaWxzIG9mIHRoaXMgZGF0YSBzdHJ1Y3R1cmUgbGF5b3V0LlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwRXZlbnROYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGxpc3RlbmVySW50ZXJuYWwodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgdE5vZGUsIGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSwgZXZlbnRUYXJnZXRSZXNvbHZlcikge1xuICAgIGNvbnN0IGlzVE5vZGVEaXJlY3RpdmVIb3N0ID0gaXNEaXJlY3RpdmVIb3N0KHROb2RlKTtcbiAgICBjb25zdCBmaXJzdENyZWF0ZVBhc3MgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3M7XG4gICAgY29uc3QgdENsZWFudXAgPSBmaXJzdENyZWF0ZVBhc3MgJiYgZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBsVmlld1tDT05URVhUXTtcbiAgICAvLyBXaGVuIHRoZSDJtcm1bGlzdGVuZXIgaW5zdHJ1Y3Rpb24gd2FzIGdlbmVyYXRlZCBhbmQgaXMgZXhlY3V0ZWQgd2Uga25vdyB0aGF0IHRoZXJlIGlzIGVpdGhlciBhXG4gICAgLy8gbmF0aXZlIGxpc3RlbmVyIG9yIGEgZGlyZWN0aXZlIG91dHB1dCBvbiB0aGlzIGVsZW1lbnQuIEFzIHN1Y2ggd2Ugd2Uga25vdyB0aGF0IHdlIHdpbGwgaGF2ZSB0b1xuICAgIC8vIHJlZ2lzdGVyIGEgbGlzdGVuZXIgYW5kIHN0b3JlIGl0cyBjbGVhbnVwIGZ1bmN0aW9uIG9uIExWaWV3LlxuICAgIGNvbnN0IGxDbGVhbnVwID0gZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAobFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8pO1xuICAgIGxldCBwcm9jZXNzT3V0cHV0cyA9IHRydWU7XG4gICAgLy8gQWRkaW5nIGEgbmF0aXZlIGV2ZW50IGxpc3RlbmVyIGlzIGFwcGxpY2FibGUgd2hlbjpcbiAgICAvLyAtIFRoZSBjb3JyZXNwb25kaW5nIFROb2RlIHJlcHJlc2VudHMgYSBET00gZWxlbWVudC5cbiAgICAvLyAtIFRoZSBldmVudCB0YXJnZXQgaGFzIGEgcmVzb2x2ZXIgKHVzdWFsbHkgcmVzdWx0aW5nIGluIGEgZ2xvYmFsIG9iamVjdCxcbiAgICAvLyAgIHN1Y2ggYXMgYHdpbmRvd2Agb3IgYGRvY3VtZW50YCkuXG4gICAgaWYgKCh0Tm9kZS50eXBlICYgMyAvKiBBbnlSTm9kZSAqLykgfHwgZXZlbnRUYXJnZXRSZXNvbHZlcikge1xuICAgICAgICBjb25zdCBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50VGFyZ2V0UmVzb2x2ZXIgPyBldmVudFRhcmdldFJlc29sdmVyKG5hdGl2ZSkgOiBuYXRpdmU7XG4gICAgICAgIGNvbnN0IGxDbGVhbnVwSW5kZXggPSBsQ2xlYW51cC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGlkeE9yVGFyZ2V0R2V0dGVyID0gZXZlbnRUYXJnZXRSZXNvbHZlciA/XG4gICAgICAgICAgICAoX2xWaWV3KSA9PiBldmVudFRhcmdldFJlc29sdmVyKHVud3JhcFJOb2RlKF9sVmlld1t0Tm9kZS5pbmRleF0pKSA6XG4gICAgICAgICAgICB0Tm9kZS5pbmRleDtcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gbWF0Y2ggY3VycmVudCBiZWhhdmlvciwgbmF0aXZlIERPTSBldmVudCBsaXN0ZW5lcnMgbXVzdCBiZSBhZGRlZCBmb3IgYWxsXG4gICAgICAgIC8vIGV2ZW50cyAoaW5jbHVkaW5nIG91dHB1dHMpLlxuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSBtdWx0aXBsZSBkaXJlY3RpdmVzIG9uIHRoZSBzYW1lIGVsZW1lbnQgdHJ5IHRvIHJlZ2lzdGVyIGFuIGV2ZW50XG4gICAgICAgICAgICAvLyBoYW5kbGVyIGZ1bmN0aW9uIGZvciB0aGUgc2FtZSBldmVudC4gSW4gdGhpcyBzaXR1YXRpb24gd2Ugd2FudCB0byBhdm9pZCByZWdpc3RyYXRpb24gb2ZcbiAgICAgICAgICAgIC8vIHNldmVyYWwgbmF0aXZlIGxpc3RlbmVycyBhcyBlYWNoIHJlZ2lzdHJhdGlvbiB3b3VsZCBiZSBpbnRlcmNlcHRlZCBieSBOZ1pvbmUgYW5kXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24uIFRoaXMgd291bGQgbWVhbiB0aGF0IGEgc2luZ2xlIHVzZXIgYWN0aW9uIHdvdWxkIHJlc3VsdCBpbiBzZXZlcmFsXG4gICAgICAgICAgICAvLyBjaGFuZ2UgZGV0ZWN0aW9ucyBiZWluZyBpbnZva2VkLiBUbyBhdm9pZCB0aGlzIHNpdHVhdGlvbiB3ZSB3YW50IHRvIGhhdmUgb25seSBvbmUgY2FsbCB0b1xuICAgICAgICAgICAgLy8gbmF0aXZlIGhhbmRsZXIgcmVnaXN0cmF0aW9uIChmb3IgdGhlIHNhbWUgZWxlbWVudCBhbmQgc2FtZSB0eXBlIG9mIGV2ZW50KS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBoYXZlIGp1c3Qgb25lIG5hdGl2ZSBldmVudCBoYW5kbGVyIGluIHByZXNlbmNlIG9mIG11bHRpcGxlIGhhbmRsZXIgZnVuY3Rpb25zLFxuICAgICAgICAgICAgLy8gd2UganVzdCByZWdpc3RlciBhIGZpcnN0IGhhbmRsZXIgZnVuY3Rpb24gYXMgYSBuYXRpdmUgZXZlbnQgbGlzdGVuZXIgYW5kIHRoZW4gY2hhaW5cbiAgICAgICAgICAgIC8vIChjb2FsZXNjZSkgb3RoZXIgaGFuZGxlciBmdW5jdGlvbnMgb24gdG9wIG9mIHRoZSBmaXJzdCBuYXRpdmUgaGFuZGxlciBmdW5jdGlvbi5cbiAgICAgICAgICAgIGxldCBleGlzdGluZ0xpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIC8vIFBsZWFzZSBub3RlIHRoYXQgdGhlIGNvYWxlc2NpbmcgZGVzY3JpYmVkIGhlcmUgZG9lc24ndCBoYXBwZW4gZm9yIGV2ZW50cyBzcGVjaWZ5aW5nIGFuXG4gICAgICAgICAgICAvLyBhbHRlcm5hdGl2ZSB0YXJnZXQgKGV4LiAoZG9jdW1lbnQ6Y2xpY2spKSAtIHRoaXMgaXMgdG8ga2VlcCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggdGhlXG4gICAgICAgICAgICAvLyB2aWV3IGVuZ2luZS5cbiAgICAgICAgICAgIC8vIEFsc28sIHdlIGRvbid0IGhhdmUgdG8gc2VhcmNoIGZvciBleGlzdGluZyBsaXN0ZW5lcnMgaXMgdGhlcmUgYXJlIG5vIGRpcmVjdGl2ZXNcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIG9uIGEgZ2l2ZW4gbm9kZSBhcyB3ZSBjYW4ndCByZWdpc3RlciBtdWx0aXBsZSBldmVudCBoYW5kbGVycyBmb3IgdGhlIHNhbWUgZXZlbnQgaW5cbiAgICAgICAgICAgIC8vIGEgdGVtcGxhdGUgKHRoaXMgd291bGQgbWVhbiBoYXZpbmcgZHVwbGljYXRlIGF0dHJpYnV0ZXMpLlxuICAgICAgICAgICAgaWYgKCFldmVudFRhcmdldFJlc29sdmVyICYmIGlzVE5vZGVEaXJlY3RpdmVIb3N0KSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdMaXN0ZW5lciA9IGZpbmRFeGlzdGluZ0xpc3RlbmVyKHRWaWV3LCBsVmlldywgZXZlbnROYW1lLCB0Tm9kZS5pbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEF0dGFjaCBhIG5ldyBsaXN0ZW5lciB0byBjb2FsZXNjZWQgbGlzdGVuZXJzIGxpc3QsIG1haW50YWluaW5nIHRoZSBvcmRlciBpbiB3aGljaFxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbmVycyBhcmUgcmVnaXN0ZXJlZC4gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHdlIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGxhc3RcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW5lciBpbiB0aGF0IGxpc3QgKGluIGBfX25nTGFzdExpc3RlbmVyRm5fX2AgZmllbGQpLCBzbyB3ZSBjYW4gYXZvaWQgZ29pbmcgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIHRoZSBlbnRpcmUgc2V0IGVhY2ggdGltZSB3ZSBuZWVkIHRvIGFkZCBhIG5ldyBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGlzdGVuZXJGbiA9IGV4aXN0aW5nTGlzdGVuZXIuX19uZ0xhc3RMaXN0ZW5lckZuX18gfHwgZXhpc3RpbmdMaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICBsYXN0TGlzdGVuZXJGbi5fX25nTmV4dExpc3RlbmVyRm5fXyA9IGxpc3RlbmVyRm47XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdMaXN0ZW5lci5fX25nTGFzdExpc3RlbmVyRm5fXyA9IGxpc3RlbmVyRm47XG4gICAgICAgICAgICAgICAgcHJvY2Vzc091dHB1dHMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXIodE5vZGUsIGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBmYWxzZSAvKiogcHJldmVudERlZmF1bHQgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFudXBGbiA9IHJlbmRlcmVyLmxpc3Rlbih0YXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXJGbik7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFkZEV2ZW50TGlzdGVuZXIrKztcbiAgICAgICAgICAgICAgICBsQ2xlYW51cC5wdXNoKGxpc3RlbmVyRm4sIGNsZWFudXBGbik7XG4gICAgICAgICAgICAgICAgdENsZWFudXAgJiYgdENsZWFudXAucHVzaChldmVudE5hbWUsIGlkeE9yVGFyZ2V0R2V0dGVyLCBsQ2xlYW51cEluZGV4LCBsQ2xlYW51cEluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lckZuID0gd3JhcExpc3RlbmVyKHROb2RlLCBsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgdHJ1ZSAvKiogcHJldmVudERlZmF1bHQgKi8pO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBZGRFdmVudExpc3RlbmVyKys7XG4gICAgICAgICAgICBsQ2xlYW51cC5wdXNoKGxpc3RlbmVyRm4pO1xuICAgICAgICAgICAgdENsZWFudXAgJiYgdENsZWFudXAucHVzaChldmVudE5hbWUsIGlkeE9yVGFyZ2V0R2V0dGVyLCBsQ2xlYW51cEluZGV4LCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gRXZlbiBpZiB0aGVyZSBpcyBubyBuYXRpdmUgbGlzdGVuZXIgdG8gYWRkLCB3ZSBzdGlsbCBuZWVkIHRvIHdyYXAgdGhlIGxpc3RlbmVyIHNvIHRoYXQgT25QdXNoXG4gICAgICAgIC8vIGFuY2VzdG9ycyBhcmUgbWFya2VkIGRpcnR5IHdoZW4gYW4gZXZlbnQgb2NjdXJzLlxuICAgICAgICBsaXN0ZW5lckZuID0gd3JhcExpc3RlbmVyKHROb2RlLCBsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZmFsc2UgLyoqIHByZXZlbnREZWZhdWx0ICovKTtcbiAgICB9XG4gICAgLy8gc3Vic2NyaWJlIHRvIGRpcmVjdGl2ZSBvdXRwdXRzXG4gICAgY29uc3Qgb3V0cHV0cyA9IHROb2RlLm91dHB1dHM7XG4gICAgbGV0IHByb3BzO1xuICAgIGlmIChwcm9jZXNzT3V0cHV0cyAmJiBvdXRwdXRzICE9PSBudWxsICYmIChwcm9wcyA9IG91dHB1dHNbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgY29uc3QgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICAgIGlmIChwcm9wc0xlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc0xlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluaWZpZWROYW1lID0gcHJvcHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluc3RhbmNlID0gbFZpZXdbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGRpcmVjdGl2ZUluc3RhbmNlW21pbmlmaWVkTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiAhaXNPYnNlcnZhYmxlKG91dHB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBAT3V0cHV0ICR7bWluaWZpZWROYW1lfSBub3QgaW5pdGlhbGl6ZWQgaW4gJyR7ZGlyZWN0aXZlSW5zdGFuY2UuY29uc3RydWN0b3IubmFtZX0nLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBvdXRwdXQuc3Vic2NyaWJlKGxpc3RlbmVyRm4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IGxDbGVhbnVwLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsQ2xlYW51cC5wdXNoKGxpc3RlbmVyRm4sIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgdENsZWFudXAgJiYgdENsZWFudXAucHVzaChldmVudE5hbWUsIHROb2RlLmluZGV4LCBpZHgsIC0oaWR4ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZXhlY3V0ZUxpc3RlbmVyV2l0aEVycm9ySGFuZGxpbmcobFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIGUpIHtcbiAgICB0cnkge1xuICAgICAgICBwcm9maWxlcig2IC8qIE91dHB1dFN0YXJ0ICovLCBjb250ZXh0LCBsaXN0ZW5lckZuKTtcbiAgICAgICAgLy8gT25seSBleHBsaWNpdGx5IHJldHVybmluZyBmYWxzZSBmcm9tIGEgbGlzdGVuZXIgc2hvdWxkIHByZXZlbnREZWZhdWx0XG4gICAgICAgIHJldHVybiBsaXN0ZW5lckZuKGUpICE9PSBmYWxzZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGxWaWV3LCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHByb2ZpbGVyKDcgLyogT3V0cHV0RW5kICovLCBjb250ZXh0LCBsaXN0ZW5lckZuKTtcbiAgICB9XG59XG4vKipcbiAqIFdyYXBzIGFuIGV2ZW50IGxpc3RlbmVyIHdpdGggYSBmdW5jdGlvbiB0aGF0IG1hcmtzIGFuY2VzdG9ycyBkaXJ0eSBhbmQgcHJldmVudHMgZGVmYXVsdCBiZWhhdmlvcixcbiAqIGlmIGFwcGxpY2FibGUuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBUTm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBsaXN0ZW5lclxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB0aGF0IGNvbnRhaW5zIHRoaXMgbGlzdGVuZXJcbiAqIEBwYXJhbSBsaXN0ZW5lckZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBjYWxsXG4gKiBAcGFyYW0gd3JhcFdpdGhQcmV2ZW50RGVmYXVsdCBXaGV0aGVyIG9yIG5vdCB0byBwcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3JcbiAqICh0aGUgcHJvY2VkdXJhbCByZW5kZXJlciBkb2VzIHRoaXMgYWxyZWFkeSwgc28gaW4gdGhvc2UgY2FzZXMsIHdlIHNob3VsZCBza2lwKVxuICovXG5mdW5jdGlvbiB3cmFwTGlzdGVuZXIodE5vZGUsIGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCB3cmFwV2l0aFByZXZlbnREZWZhdWx0KSB7XG4gICAgLy8gTm90ZTogd2UgYXJlIHBlcmZvcm1pbmcgbW9zdCBvZiB0aGUgd29yayBpbiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gaXRzZWxmXG4gICAgLy8gdG8gb3B0aW1pemUgbGlzdGVuZXIgcmVnaXN0cmF0aW9uLlxuICAgIHJldHVybiBmdW5jdGlvbiB3cmFwTGlzdGVuZXJJbl9tYXJrRGlydHlBbmRQcmV2ZW50RGVmYXVsdChlKSB7XG4gICAgICAgIC8vIEl2eSB1c2VzIGBGdW5jdGlvbmAgYXMgYSBzcGVjaWFsIHRva2VuIHRoYXQgYWxsb3dzIHVzIHRvIHVud3JhcCB0aGUgZnVuY3Rpb25cbiAgICAgICAgLy8gc28gdGhhdCBpdCBjYW4gYmUgaW52b2tlZCBwcm9ncmFtbWF0aWNhbGx5IGJ5IGBEZWJ1Z05vZGUudHJpZ2dlckV2ZW50SGFuZGxlcmAuXG4gICAgICAgIGlmIChlID09PSBGdW5jdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyRm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gYmUgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBWaWV3IEVuZ2luZSwgZXZlbnRzIG9uIGNvbXBvbmVudCBob3N0IG5vZGVzXG4gICAgICAgIC8vIG11c3QgYWxzbyBtYXJrIHRoZSBjb21wb25lbnQgdmlldyBpdHNlbGYgZGlydHkgKGkuZS4gdGhlIHZpZXcgdGhhdCBpdCBvd25zKS5cbiAgICAgICAgY29uc3Qgc3RhcnRWaWV3ID0gdE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLyA/XG4gICAgICAgICAgICBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KSA6XG4gICAgICAgICAgICBsVmlldztcbiAgICAgICAgLy8gU2VlIGludGVyZmFjZXMvdmlldy50cyBmb3IgbW9yZSBvbiBMVmlld0ZsYWdzLk1hbnVhbE9uUHVzaFxuICAgICAgICBpZiAoKGxWaWV3W0ZMQUdTXSAmIDMyIC8qIE1hbnVhbE9uUHVzaCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIG1hcmtWaWV3RGlydHkoc3RhcnRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gZXhlY3V0ZUxpc3RlbmVyV2l0aEVycm9ySGFuZGxpbmcobFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIGUpO1xuICAgICAgICAvLyBBIGp1c3QtaW52b2tlZCBsaXN0ZW5lciBmdW5jdGlvbiBtaWdodCBoYXZlIGNvYWxlc2NlZCBsaXN0ZW5lcnMgc28gd2UgbmVlZCB0byBjaGVjayBmb3JcbiAgICAgICAgLy8gdGhlaXIgcHJlc2VuY2UgYW5kIGludm9rZSBhcyBuZWVkZWQuXG4gICAgICAgIGxldCBuZXh0TGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lckluX21hcmtEaXJ0eUFuZFByZXZlbnREZWZhdWx0Ll9fbmdOZXh0TGlzdGVuZXJGbl9fO1xuICAgICAgICB3aGlsZSAobmV4dExpc3RlbmVyRm4pIHtcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCBwcmV2ZW50IGRlZmF1bHQgaWYgYW55IG9mIHRoZSBsaXN0ZW5lcnMgZXhwbGljaXRseSByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIHJlc3VsdCA9IGV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nKGxWaWV3LCBjb250ZXh0LCBuZXh0TGlzdGVuZXJGbiwgZSkgJiYgcmVzdWx0O1xuICAgICAgICAgICAgbmV4dExpc3RlbmVyRm4gPSBuZXh0TGlzdGVuZXJGbi5fX25nTmV4dExpc3RlbmVyRm5fXztcbiAgICAgICAgfVxuICAgICAgICBpZiAod3JhcFdpdGhQcmV2ZW50RGVmYXVsdCAmJiByZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBOZWNlc3NhcnkgZm9yIGxlZ2FjeSBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJldmVudERlZmF1bHQgKGUuZy4gSUUpXG4gICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHJpZXZlcyBhIGNvbnRleHQgYXQgdGhlIGxldmVsIHNwZWNpZmllZCBhbmQgc2F2ZXMgaXQgYXMgdGhlIGdsb2JhbCwgY29udGV4dFZpZXdEYXRhLlxuICogV2lsbCBnZXQgdGhlIG5leHQgbGV2ZWwgdXAgaWYgbGV2ZWwgaXMgbm90IHNwZWNpZmllZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgdG8gc2F2ZSBjb250ZXh0cyBvZiBwYXJlbnQgdmlld3Mgc28gdGhleSBjYW4gYmUgYm91bmQgaW4gZW1iZWRkZWQgdmlld3MsIG9yXG4gKiBpbiBjb25qdW5jdGlvbiB3aXRoIHJlZmVyZW5jZSgpIHRvIGJpbmQgYSByZWYgZnJvbSBhIHBhcmVudCB2aWV3LlxuICpcbiAqIEBwYXJhbSBsZXZlbCBUaGUgcmVsYXRpdmUgbGV2ZWwgb2YgdGhlIHZpZXcgZnJvbSB3aGljaCB0byBncmFiIGNvbnRleHQgY29tcGFyZWQgdG8gY29udGV4dFZld0RhdGFcbiAqIEByZXR1cm5zIGNvbnRleHRcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmV4dENvbnRleHQobGV2ZWwgPSAxKSB7XG4gICAgcmV0dXJuIG5leHRDb250ZXh0SW1wbChsZXZlbCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDaGVja3MgYSBnaXZlbiBub2RlIGFnYWluc3QgbWF0Y2hpbmcgcHJvamVjdGlvbiBzbG90cyBhbmQgcmV0dXJucyB0aGVcbiAqIGRldGVybWluZWQgc2xvdCBpbmRleC4gUmV0dXJucyBcIm51bGxcIiBpZiBubyBzbG90IG1hdGNoZWQgdGhlIGdpdmVuIG5vZGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBpbnRvIGFjY291bnQgdGhlIHBhcnNlZCBuZ1Byb2plY3RBcyBzZWxlY3RvciBmcm9tIHRoZVxuICogbm9kZSdzIGF0dHJpYnV0ZXMuIElmIHByZXNlbnQsIGl0IHdpbGwgY2hlY2sgd2hldGhlciB0aGUgbmdQcm9qZWN0QXMgc2VsZWN0b3JcbiAqIG1hdGNoZXMgYW55IG9mIHRoZSBwcm9qZWN0aW9uIHNsb3Qgc2VsZWN0b3JzLlxuICovXG5mdW5jdGlvbiBtYXRjaGluZ1Byb2plY3Rpb25TbG90SW5kZXgodE5vZGUsIHByb2plY3Rpb25TbG90cykge1xuICAgIGxldCB3aWxkY2FyZE5nQ29udGVudEluZGV4ID0gbnVsbDtcbiAgICBjb25zdCBuZ1Byb2plY3RBc0F0dHJWYWwgPSBnZXRQcm9qZWN0QXNBdHRyVmFsdWUodE5vZGUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdGlvblNsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNsb3RWYWx1ZSA9IHByb2plY3Rpb25TbG90c1tpXTtcbiAgICAgICAgLy8gVGhlIGxhc3Qgd2lsZGNhcmQgcHJvamVjdGlvbiBzbG90IHNob3VsZCBtYXRjaCBhbGwgbm9kZXMgd2hpY2ggYXJlbid0IG1hdGNoaW5nXG4gICAgICAgIC8vIGFueSBzZWxlY3Rvci4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gYmUgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCB2aWV3IGVuZ2luZS5cbiAgICAgICAgaWYgKHNsb3RWYWx1ZSA9PT0gJyonKSB7XG4gICAgICAgICAgICB3aWxkY2FyZE5nQ29udGVudEluZGV4ID0gaTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIHJhbiBpbnRvIGFuIGBuZ1Byb2plY3RBc2AgYXR0cmlidXRlLCB3ZSBzaG91bGQgbWF0Y2ggaXRzIHBhcnNlZCBzZWxlY3RvclxuICAgICAgICAvLyB0byB0aGUgbGlzdCBvZiBzZWxlY3RvcnMsIG90aGVyd2lzZSB3ZSBmYWxsIGJhY2sgdG8gbWF0Y2hpbmcgYWdhaW5zdCB0aGUgbm9kZS5cbiAgICAgICAgaWYgKG5nUHJvamVjdEFzQXR0clZhbCA9PT0gbnVsbCA/XG4gICAgICAgICAgICBpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCh0Tm9kZSwgc2xvdFZhbHVlLCAvKiBpc1Byb2plY3Rpb25Nb2RlICovIHRydWUpIDpcbiAgICAgICAgICAgIGlzU2VsZWN0b3JJblNlbGVjdG9yTGlzdChuZ1Byb2plY3RBc0F0dHJWYWwsIHNsb3RWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpOyAvLyBmaXJzdCBtYXRjaGluZyBzZWxlY3RvciBcImNhcHR1cmVzXCIgYSBnaXZlbiBub2RlXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHdpbGRjYXJkTmdDb250ZW50SW5kZXg7XG59XG4vKipcbiAqIEluc3RydWN0aW9uIHRvIGRpc3RyaWJ1dGUgcHJvamVjdGFibGUgbm9kZXMgYW1vbmcgPG5nLWNvbnRlbnQ+IG9jY3VycmVuY2VzIGluIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKiBJdCB0YWtlcyBhbGwgdGhlIHNlbGVjdG9ycyBmcm9tIHRoZSBlbnRpcmUgY29tcG9uZW50J3MgdGVtcGxhdGUgYW5kIGRlY2lkZXMgd2hlcmVcbiAqIGVhY2ggcHJvamVjdGVkIG5vZGUgYmVsb25ncyAoaXQgcmUtZGlzdHJpYnV0ZXMgbm9kZXMgYW1vbmcgXCJidWNrZXRzXCIgd2hlcmUgZWFjaCBcImJ1Y2tldFwiIGlzXG4gKiBiYWNrZWQgYnkgYSBzZWxlY3RvcikuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXF1aXJlcyBDU1Mgc2VsZWN0b3JzIHRvIGJlIHByb3ZpZGVkIGluIDIgZm9ybXM6IHBhcnNlZCAoYnkgYSBjb21waWxlcikgYW5kIHRleHQsXG4gKiB1bi1wYXJzZWQgZm9ybS5cbiAqXG4gKiBUaGUgcGFyc2VkIGZvcm0gaXMgbmVlZGVkIGZvciBlZmZpY2llbnQgbWF0Y2hpbmcgb2YgYSBub2RlIGFnYWluc3QgYSBnaXZlbiBDU1Mgc2VsZWN0b3IuXG4gKiBUaGUgdW4tcGFyc2VkLCB0ZXh0dWFsIGZvcm0gaXMgbmVlZGVkIGZvciBzdXBwb3J0IG9mIHRoZSBuZ1Byb2plY3RBcyBhdHRyaWJ1dGUuXG4gKlxuICogSGF2aW5nIGEgQ1NTIHNlbGVjdG9yIGluIDIgZGlmZmVyZW50IGZvcm1hdHMgaXMgbm90IGlkZWFsLCBidXQgYWx0ZXJuYXRpdmVzIGhhdmUgZXZlbiBtb3JlXG4gKiBkcmF3YmFja3M6XG4gKiAtIGhhdmluZyBvbmx5IGEgdGV4dHVhbCBmb3JtIHdvdWxkIHJlcXVpcmUgcnVudGltZSBwYXJzaW5nIG9mIENTUyBzZWxlY3RvcnM7XG4gKiAtIHdlIGNhbid0IGhhdmUgb25seSBhIHBhcnNlZCBhcyB3ZSBjYW4ndCByZS1jb25zdHJ1Y3QgdGV4dHVhbCBmb3JtIGZyb20gaXQgKGFzIGVudGVyZWQgYnkgYVxuICogdGVtcGxhdGUgYXV0aG9yKS5cbiAqXG4gKiBAcGFyYW0gcHJvamVjdGlvblNsb3RzPyBBIGNvbGxlY3Rpb24gb2YgcHJvamVjdGlvbiBzbG90cy4gQSBwcm9qZWN0aW9uIHNsb3QgY2FuIGJlIGJhc2VkXG4gKiAgICAgICAgb24gYSBwYXJzZWQgQ1NTIHNlbGVjdG9ycyBvciBzZXQgdG8gdGhlIHdpbGRjYXJkIHNlbGVjdG9yIChcIipcIikgaW4gb3JkZXIgdG8gbWF0Y2hcbiAqICAgICAgICBhbGwgbm9kZXMgd2hpY2ggZG8gbm90IG1hdGNoIGFueSBzZWxlY3Rvci4gSWYgbm90IHNwZWNpZmllZCwgYSBzaW5nbGUgd2lsZGNhcmRcbiAqICAgICAgICBzZWxlY3RvciBwcm9qZWN0aW9uIHNsb3Qgd2lsbCBiZSBkZWZpbmVkLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9qZWN0aW9uRGVmKHByb2plY3Rpb25TbG90cykge1xuICAgIGNvbnN0IGNvbXBvbmVudE5vZGUgPSBnZXRMVmlldygpW0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXVtUX0hPU1RdO1xuICAgIGlmICghY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uKSB7XG4gICAgICAgIC8vIElmIG5vIGV4cGxpY2l0IHByb2plY3Rpb24gc2xvdHMgYXJlIGRlZmluZWQsIGZhbGwgYmFjayB0byBhIHNpbmdsZVxuICAgICAgICAvLyBwcm9qZWN0aW9uIHNsb3Qgd2l0aCB0aGUgd2lsZGNhcmQgc2VsZWN0b3IuXG4gICAgICAgIGNvbnN0IG51bVByb2plY3Rpb25TbG90cyA9IHByb2plY3Rpb25TbG90cyA/IHByb2plY3Rpb25TbG90cy5sZW5ndGggOiAxO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uSGVhZHMgPSBjb21wb25lbnROb2RlLnByb2plY3Rpb24gPVxuICAgICAgICAgICAgbmV3QXJyYXkobnVtUHJvamVjdGlvblNsb3RzLCBudWxsKTtcbiAgICAgICAgY29uc3QgdGFpbHMgPSBwcm9qZWN0aW9uSGVhZHMuc2xpY2UoKTtcbiAgICAgICAgbGV0IGNvbXBvbmVudENoaWxkID0gY29tcG9uZW50Tm9kZS5jaGlsZDtcbiAgICAgICAgd2hpbGUgKGNvbXBvbmVudENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBzbG90SW5kZXggPSBwcm9qZWN0aW9uU2xvdHMgPyBtYXRjaGluZ1Byb2plY3Rpb25TbG90SW5kZXgoY29tcG9uZW50Q2hpbGQsIHByb2plY3Rpb25TbG90cykgOiAwO1xuICAgICAgICAgICAgaWYgKHNsb3RJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0YWlsc1tzbG90SW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhaWxzW3Nsb3RJbmRleF0ucHJvamVjdGlvbk5leHQgPSBjb21wb25lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25IZWFkc1tzbG90SW5kZXhdID0gY29tcG9uZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhaWxzW3Nsb3RJbmRleF0gPSBjb21wb25lbnRDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudENoaWxkID0gY29tcG9uZW50Q2hpbGQubmV4dDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0cyBwcmV2aW91c2x5IHJlLWRpc3RyaWJ1dGVkIHByb2plY3RlZCBub2Rlcy4gVGhpcyBpbnN0cnVjdGlvbiBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgY2FsbFxuICogdG8gdGhlIHByb2plY3Rpb25EZWYgaW5zdHJ1Y3Rpb24uXG4gKlxuICogQHBhcmFtIG5vZGVJbmRleFxuICogQHBhcmFtIHNlbGVjdG9ySW5kZXg6XG4gKiAgICAgICAgLSAwIHdoZW4gdGhlIHNlbGVjdG9yIGlzIGAqYCAob3IgdW5zcGVjaWZpZWQgYXMgdGhpcyBpcyB0aGUgZGVmYXVsdCB2YWx1ZSksXG4gKiAgICAgICAgLSAxIGJhc2VkIGluZGV4IG9mIHRoZSBzZWxlY3RvciBmcm9tIHRoZSB7QGxpbmsgcHJvamVjdGlvbkRlZn1cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvamVjdGlvbihub2RlSW5kZXgsIHNlbGVjdG9ySW5kZXggPSAwLCBhdHRycykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgdFByb2plY3Rpb25Ob2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgSEVBREVSX09GRlNFVCArIG5vZGVJbmRleCwgMTYgLyogUHJvamVjdGlvbiAqLywgbnVsbCwgYXR0cnMgfHwgbnVsbCk7XG4gICAgLy8gV2UgY2FuJ3QgdXNlIHZpZXdEYXRhW0hPU1RfTk9ERV0gYmVjYXVzZSBwcm9qZWN0aW9uIG5vZGVzIGNhbiBiZSBuZXN0ZWQgaW4gZW1iZWRkZWQgdmlld3MuXG4gICAgaWYgKHRQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uID09PSBudWxsKVxuICAgICAgICB0UHJvamVjdGlvbk5vZGUucHJvamVjdGlvbiA9IHNlbGVjdG9ySW5kZXg7XG4gICAgLy8gYDxuZy1jb250ZW50PmAgaGFzIG5vIGNvbnRlbnRcbiAgICBzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCgpO1xuICAgIGlmICgodFByb2plY3Rpb25Ob2RlLmZsYWdzICYgNjQgLyogaXNEZXRhY2hlZCAqLykgIT09IDY0IC8qIGlzRGV0YWNoZWQgKi8pIHtcbiAgICAgICAgLy8gcmUtZGlzdHJpYnV0aW9uIG9mIHByb2plY3RhYmxlIG5vZGVzIGlzIHN0b3JlZCBvbiBhIGNvbXBvbmVudCdzIHZpZXcgbGV2ZWxcbiAgICAgICAgYXBwbHlQcm9qZWN0aW9uKHRWaWV3LCBsVmlldywgdFByb2plY3Rpb25Ob2RlKTtcbiAgICB9XG59XG5cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIGEgbG9uZSBib3VuZCB2YWx1ZVxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0LCBhbiBubyBhZGRpdGlvbmFsIHRleHRcbiAqIHN1cnJvdW5kcyB0aGF0IGludGVycG9sYXRlZCB2YWx1ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwie3t2MH19XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZSgndGl0bGUnLCB2MCk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlKHByb3BOYW1lLCB2MCwgc2FuaXRpemVyKSB7XG4gICAgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxKHByb3BOYW1lLCAnJywgdjAsICcnLCBzYW5pdGl6ZXIpO1xuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxKCd0aXRsZScsICdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTEocHJvcE5hbWUsIHByZWZpeCwgdjAsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDEsIHByZWZpeCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMigndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyKHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gMiwgcHJlZml4LCBpMCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUzKHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDMsIHByZWZpeCwgaTAsIGkxLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUzO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTQoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0KHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA0LCBwcmVmaXgsIGkwLCBpMSwgaTIsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTQ7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1KHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNSwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYoXG4gKiAgICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU2KHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDYsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU2O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTcoXG4gKiAgICAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3KHByb3BOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA3LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgaTUsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTc7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgoXG4gKiAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlOChwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDgsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBpNSwgaTYsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWKFxuICogICd0aXRsZScsIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW5iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGggYVxuICogc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnLScsIHZhbHVlMSwgJy0nLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYocHJvcE5hbWUsIHZhbHVlcywgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuID0gW3ZhbHVlc1swXV07IC8vIHByZWZpeFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuLnB1c2godmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIGludGVycG9sYXRpb25JbkJldHdlZW4ubGVuZ3RoICsgMSwgLi4uaW50ZXJwb2xhdGlvbkluQmV0d2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE5PVEU6IFRoZSB3b3JkIGBzdHlsaW5nYCBpcyB1c2VkIGludGVyY2hhbmdlYWJseSBhcyBzdHlsZSBvciBjbGFzcyBzdHlsaW5nLlxuICpcbiAqIFRoaXMgZmlsZSBjb250YWlucyBjb2RlIHRvIGxpbmsgc3R5bGluZyBpbnN0cnVjdGlvbnMgdG9nZXRoZXIgc28gdGhhdCB0aGV5IGNhbiBiZSByZXBsYXllZCBpblxuICogcHJpb3JpdHkgb3JkZXIuIFRoZSBmaWxlIGV4aXN0cyBiZWNhdXNlIEl2eSBzdHlsaW5nIGluc3RydWN0aW9uIGV4ZWN1dGlvbiBvcmRlciBkb2VzIG5vdCBtYXRjaFxuICogdGhhdCBvZiB0aGUgcHJpb3JpdHkgb3JkZXIuIFRoZSBwdXJwb3NlIG9mIHRoaXMgY29kZSBpcyB0byBjcmVhdGUgYSBsaW5rZWQgbGlzdCBzbyB0aGF0IHRoZVxuICogaW5zdHJ1Y3Rpb25zIGNhbiBiZSB0cmF2ZXJzZWQgaW4gcHJpb3JpdHkgb3JkZXIgd2hlbiBjb21wdXRpbmcgdGhlIHN0eWxlcy5cbiAqXG4gKiBBc3N1bWUgd2UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgZm9sbG93aW5nIGNvZGU6XG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxteS1jbXAgW3N0eWxlXT1cIiB7Y29sb3I6ICcjMDAxJ30gXCJcbiAqICAgICAgICAgICAgIFtzdHlsZS5jb2xvcl09XCIgIzAwMiBcIlxuICogICAgICAgICAgICAgZGlyLXN0eWxlLWNvbG9yLTFcbiAqICAgICAgICAgICAgIGRpci1zdHlsZS1jb2xvci0yPiBgXG4gKiB9KVxuICogY2xhc3MgRXhhbXBsZUNvbXBvbmVudCB7XG4gKiAgIHN0YXRpYyBuZ0NvbXAgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMSd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6IGBbZGlyLXN0eWxlLWNvbG9yLTFdJyxcbiAqIH0pXG4gKiBjbGFzcyBTdHlsZTFEaXJlY3RpdmUge1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlJykgc3R5bGUgPSB7Y29sb3I6ICcjMDA1J307XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUuY29sb3InKSBjb2xvciA9ICcjMDA2JztcbiAqXG4gKiAgIHN0YXRpYyBuZ0RpciA9IC4uLiB7XG4gKiAgICAgLi4uXG4gKiAgICAgLy8gQ29tcGlsZXIgZW5zdXJlcyB0aGF0IGDJtcm1c3R5bGVQcm9wYCBpcyBhZnRlciBgybXJtXN0eWxlTWFwYFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA1J30pO1xuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogYFtkaXItc3R5bGUtY29sb3ItMl0nLFxuICogfSlcbiAqIGNsYXNzIFN0eWxlMkRpcmVjdGl2ZSB7XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUnKSBzdHlsZSA9IHtjb2xvcjogJyMwMDcnfTtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZS5jb2xvcicpIGNvbG9yID0gJyMwMDgnO1xuICpcbiAqICAgc3RhdGljIG5nRGlyID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDcnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwOCcpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKlxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiBgbXktY21wJyxcbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUnKSBzdHlsZSA9IHtjb2xvcjogJyMwMDMnfTtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZS5jb2xvcicpIGNvbG9yID0gJyMwMDQnO1xuICpcbiAqICAgc3RhdGljIG5nQ29tcCA9IC4uLiB7XG4gKiAgICAgLi4uXG4gKiAgICAgLy8gQ29tcGlsZXIgZW5zdXJlcyB0aGF0IGDJtcm1c3R5bGVQcm9wYCBpcyBhZnRlciBgybXJtXN0eWxlTWFwYFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAzJ30pO1xuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDQnKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVGhlIE9yZGVyIG9mIGluc3RydWN0aW9uIGV4ZWN1dGlvbiBpczpcbiAqXG4gKiBOT1RFOiB0aGUgY29tbWVudCBiaW5kaW5nIGxvY2F0aW9uIGlzIGZvciBpbGx1c3RyYXRpdmUgcHVycG9zZXMgb25seS5cbiAqXG4gKiBgYGBcbiAqIC8vIFRlbXBsYXRlOiAoRXhhbXBsZUNvbXBvbmVudClcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMSd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAxMFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDInKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDEyXG4gKiAvLyBNeUNvbXBvbmVudFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAzJ30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDIwXG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNCcpOyAgLy8gQmluZGluZyBpbmRleDogMjJcbiAqIC8vIFN0eWxlMURpcmVjdGl2ZVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA1J30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDI0XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNicpOyAgLy8gQmluZGluZyBpbmRleDogMjZcbiAqIC8vIFN0eWxlMkRpcmVjdGl2ZVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA3J30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDI4XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwOCcpOyAgLy8gQmluZGluZyBpbmRleDogMzBcbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHByaW9yaXR5IG9yZGVyIG9mIGNvbmNhdGVuYXRpb24gaXM6XG4gKlxuICogYGBgXG4gKiAvLyBNeUNvbXBvbmVudFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDAzJ30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDIwXG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNCcpOyAgLy8gQmluZGluZyBpbmRleDogMjJcbiAqIC8vIFN0eWxlMURpcmVjdGl2ZVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA1J30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDI0XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNicpOyAgLy8gQmluZGluZyBpbmRleDogMjZcbiAqIC8vIFN0eWxlMkRpcmVjdGl2ZVxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA3J30pOyAgIC8vIEJpbmRpbmcgaW5kZXg6IDI4XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwOCcpOyAgLy8gQmluZGluZyBpbmRleDogMzBcbiAqIC8vIFRlbXBsYXRlOiAoRXhhbXBsZUNvbXBvbmVudClcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMSd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAxMFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDInKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDEyXG4gKiBgYGBcbiAqXG4gKiBXaGF0IGNvbG9yIHNob3VsZCBiZSByZW5kZXJlZD9cbiAqXG4gKiBPbmNlIHRoZSBpdGVtcyBhcmUgY29ycmVjdGx5IHNvcnRlZCBpbiB0aGUgbGlzdCwgdGhlIGFuc3dlciBpcyBzaW1wbHkgdGhlIGxhc3QgaXRlbSBpbiB0aGVcbiAqIGNvbmNhdGVuYXRpb24gbGlzdCB3aGljaCBpcyBgIzAwMmAuXG4gKlxuICogVG8gZG8gc28gd2Uga2VlcCBhIGxpbmtlZCBsaXN0IG9mIGFsbCBvZiB0aGUgYmluZGluZ3Mgd2hpY2ggcGVydGFpbiB0byB0aGlzIGVsZW1lbnQuXG4gKiBOb3RpY2UgdGhhdCB0aGUgYmluZGluZ3MgYXJlIGluc2VydGVkIGluIHRoZSBvcmRlciBvZiBleGVjdXRpb24sIGJ1dCB0aGUgYFRWaWV3LmRhdGFgIGFsbG93c1xuICogdXMgdG8gdHJhdmVyc2UgdGhlbSBpbiB0aGUgb3JkZXIgb2YgcHJpb3JpdHkuXG4gKlxuICogfElkeHxgVFZpZXcuZGF0YWB8YExWaWV3YCAgICAgICAgICB8IE5vdGVzXG4gKiB8LS0tfC0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLVxuICogfC4uLnwgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICB8XG4gKiB8MTAgfGBudWxsYCAgICAgIHxge2NvbG9yOiAnIzAwMSd9YHwgYMm1ybVzdHlsZU1hcCgnY29sb3InLCB7Y29sb3I6ICcjMDAxJ30pYFxuICogfDExIHxgMzAgfCAxMmAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MTIgfGBjb2xvcmAgICAgIHxgJyMwMDInYCAgICAgICAgIHwgYMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDInKWBcbiAqIHwxMyB8YDEwIHwgMGAgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfC4uLnwgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICB8XG4gKiB8MjAgfGBudWxsYCAgICAgIHxge2NvbG9yOiAnIzAwMyd9YHwgYMm1ybVzdHlsZU1hcCgnY29sb3InLCB7Y29sb3I6ICcjMDAzJ30pYFxuICogfDIxIHxgMCB8IDIyYCAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjIgfGBjb2xvcmAgICAgIHxgJyMwMDQnYCAgICAgICAgIHwgYMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDQnKWBcbiAqIHwyMyB8YDIwIHwgMjRgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDI0IHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDUnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwNSd9KWBcbiAqIHwyNSB8YDIyIHwgMjZgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDI2IHxgY29sb3JgICAgICB8YCcjMDA2J2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2JylgXG4gKiB8MjcgfGAyNCB8IDI4YCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyOCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDA3J31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDcnfSlgXG4gKiB8MjkgfGAyNiB8IDMwYCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwzMCB8YGNvbG9yYCAgICAgfGAnIzAwOCdgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwOCcpYFxuICogfDMxIHxgMjggfCAxMGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKlxuICogVGhlIGFib3ZlIGRhdGEgc3RydWN0dXJlIGFsbG93cyB1cyB0byByZS1jb25jYXRlbmF0ZSB0aGUgc3R5bGluZyBubyBtYXR0ZXIgd2hpY2ggZGF0YSBiaW5kaW5nXG4gKiBjaGFuZ2VzLlxuICpcbiAqIE5PVEU6IGluIGFkZGl0aW9uIHRvIGtlZXBpbmcgdHJhY2sgb2YgbmV4dC9wcmV2aW91cyBpbmRleCB0aGUgYFRWaWV3LmRhdGFgIGFsc28gc3RvcmVzIHByZXYvbmV4dFxuICogZHVwbGljYXRlIGJpdC4gVGhlIGR1cGxpY2F0ZSBiaXQgaWYgdHJ1ZSBzYXlzIHRoZXJlIGVpdGhlciBpcyBhIGJpbmRpbmcgd2l0aCB0aGUgc2FtZSBuYW1lIG9yXG4gKiB0aGVyZSBpcyBhIG1hcCAod2hpY2ggbWF5IGNvbnRhaW4gdGhlIG5hbWUpLiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBpbiBrbm93aW5nIGlmIG90aGVyXG4gKiBzdHlsZXMgd2l0aCBoaWdoZXIgcHJpb3JpdHkgbmVlZCB0byBiZSBzZWFyY2hlZCBmb3Igb3ZlcndyaXRlcy5cbiAqXG4gKiBOT1RFOiBTZWUgYHNob3VsZCBzdXBwb3J0IGV4YW1wbGUgaW4gJ3Rub2RlX2xpbmtlZF9saXN0LnRzJyBkb2N1bWVudGF0aW9uYCBpblxuICogYHRub2RlX2xpbmtlZF9saXN0X3NwZWMudHNgIGZvciB3b3JraW5nIGV4YW1wbGUuXG4gKi9cbmxldCBfX3VudXNlZF9jb25zdF9hc19jbG9zdXJlX2RvZXNfbm90X2xpa2Vfc3RhbmRhbG9uZV9jb21tZW50X2Jsb2Nrc19fO1xuLyoqXG4gKiBJbnNlcnQgbmV3IGB0U3R5bGVWYWx1ZWAgYXQgYFREYXRhYCBhbmQgbGluayBleGlzdGluZyBzdHlsZSBiaW5kaW5ncyBzdWNoIHRoYXQgd2UgbWFpbnRhaW4gbGlua2VkXG4gKiBsaXN0IG9mIHN0eWxlcyBhbmQgY29tcHV0ZSB0aGUgZHVwbGljYXRlIGZsYWcuXG4gKlxuICogTm90ZTogdGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZCBkdXJpbmcgYGZpcnN0VXBkYXRlUGFzc2Agb25seSB0byBwb3B1bGF0ZSB0aGUgYFRWaWV3LmRhdGFgLlxuICpcbiAqIFRoZSBmdW5jdGlvbiB3b3JrcyBieSBrZWVwaW5nIHRyYWNrIG9mIGB0U3R5bGluZ1JhbmdlYCB3aGljaCBjb250YWlucyB0d28gcG9pbnRlcnMgcG9pbnRpbmcgdG9cbiAqIHRoZSBoZWFkL3RhaWwgb2YgdGhlIHRlbXBsYXRlIHBvcnRpb24gb2YgdGhlIHN0eWxlcy5cbiAqICAtIGlmIGBpc0hvc3QgPT09IGZhbHNlYCAod2UgYXJlIHRlbXBsYXRlKSB0aGVuIGluc2VydGlvbiBpcyBhdCB0YWlsIG9mIGBUU3R5bGluZ1JhbmdlYFxuICogIC0gaWYgYGlzSG9zdCA9PT0gdHJ1ZWAgKHdlIGFyZSBob3N0IGJpbmRpbmcpIHRoZW4gaW5zZXJ0aW9uIGlzIGF0IGhlYWQgb2YgYFRTdHlsaW5nUmFuZ2VgXG4gKlxuICogQHBhcmFtIHREYXRhIFRoZSBgVERhdGFgIHRvIGluc2VydCBpbnRvLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgYXNzb2NpYXRlZCB3aXRoIHRoZSBzdHlsaW5nIGVsZW1lbnQuXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXkgU2VlIGBUU3R5bGluZ0tleWAuXG4gKiBAcGFyYW0gaW5kZXggbG9jYXRpb24gb2Ygd2hlcmUgYHRTdHlsZVZhbHVlYCBzaG91bGQgYmUgc3RvcmVkIChhbmQgbGlua2VkIGludG8gbGlzdC4pXG4gKiBAcGFyYW0gaXNIb3N0QmluZGluZyBgdHJ1ZWAgaWYgdGhlIGluc2VydGlvbiBpcyBmb3IgYSBgaG9zdEJpbmRpbmdgLiAoaW5zZXJ0aW9uIGlzIGluIGZyb250IG9mXG4gKiAgICAgICAgICAgICAgIHRlbXBsYXRlLilcbiAqIEBwYXJhbSBpc0NsYXNzQmluZGluZyBUcnVlIGlmIHRoZSBhc3NvY2lhdGVkIGB0U3R5bGluZ0tleWAgYXMgYSBgY2xhc3NgIHN0eWxpbmcuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgYHROb2RlLmNsYXNzQmluZGluZ3NgIHNob3VsZCBiZSB1c2VkIChvciBgdE5vZGUuc3R5bGVCaW5kaW5nc2Agb3RoZXJ3aXNlLilcbiAqL1xuZnVuY3Rpb24gaW5zZXJ0VFN0eWxpbmdCaW5kaW5nKHREYXRhLCB0Tm9kZSwgdFN0eWxpbmdLZXlXaXRoU3RhdGljLCBpbmRleCwgaXNIb3N0QmluZGluZywgaXNDbGFzc0JpbmRpbmcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKGdldFRWaWV3KCkpO1xuICAgIGxldCB0QmluZGluZ3MgPSBpc0NsYXNzQmluZGluZyA/IHROb2RlLmNsYXNzQmluZGluZ3MgOiB0Tm9kZS5zdHlsZUJpbmRpbmdzO1xuICAgIGxldCB0bXBsSGVhZCA9IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRCaW5kaW5ncyk7XG4gICAgbGV0IHRtcGxUYWlsID0gZ2V0VFN0eWxpbmdSYW5nZU5leHQodEJpbmRpbmdzKTtcbiAgICB0RGF0YVtpbmRleF0gPSB0U3R5bGluZ0tleVdpdGhTdGF0aWM7XG4gICAgbGV0IGlzS2V5RHVwbGljYXRlT2ZTdGF0aWMgPSBmYWxzZTtcbiAgICBsZXQgdFN0eWxpbmdLZXk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXlXaXRoU3RhdGljKSkge1xuICAgICAgICAvLyBXZSBhcmUgY2FzZSB3aGVuIHRoZSBgVFN0eWxpbmdLZXlgIGNvbnRhaW5zIHN0YXRpYyBmaWVsZHMgYXMgd2VsbC5cbiAgICAgICAgY29uc3Qgc3RhdGljS2V5VmFsdWVBcnJheSA9IHRTdHlsaW5nS2V5V2l0aFN0YXRpYztcbiAgICAgICAgdFN0eWxpbmdLZXkgPSBzdGF0aWNLZXlWYWx1ZUFycmF5WzFdOyAvLyB1bndyYXAuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgb3VyIGtleSBpcyBwcmVzZW50IGluIHRoZSBzdGF0aWMgc28gdGhhdCB3ZSBjYW4gbWFyayBpdCBhcyBkdXBsaWNhdGUuXG4gICAgICAgIGlmICh0U3R5bGluZ0tleSA9PT0gbnVsbCB8fFxuICAgICAgICAgICAga2V5VmFsdWVBcnJheUluZGV4T2Yoc3RhdGljS2V5VmFsdWVBcnJheSwgdFN0eWxpbmdLZXkpID4gMCkge1xuICAgICAgICAgICAgLy8gdFN0eWxpbmdLZXkgaXMgcHJlc2VudCBpbiB0aGUgc3RhdGljcywgbmVlZCB0byBtYXJrIGl0IGFzIGR1cGxpY2F0ZS5cbiAgICAgICAgICAgIGlzS2V5RHVwbGljYXRlT2ZTdGF0aWMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0U3R5bGluZ0tleSA9IHRTdHlsaW5nS2V5V2l0aFN0YXRpYztcbiAgICB9XG4gICAgaWYgKGlzSG9zdEJpbmRpbmcpIHtcbiAgICAgICAgLy8gV2UgYXJlIGluc2VydGluZyBob3N0IGJpbmRpbmdzXG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgdGVtcGxhdGUgYmluZGluZ3MgdGhlbiBgdGFpbGAgaXMgMC5cbiAgICAgICAgY29uc3QgaGFzVGVtcGxhdGVCaW5kaW5ncyA9IHRtcGxUYWlsICE9PSAwO1xuICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCB0byBrbm93IGJlY2F1c2UgdGhhdCBtZWFucyB0aGF0IHRoZSBgaGVhZGAgY2FuJ3QgcG9pbnQgdG8gdGhlIGZpcnN0XG4gICAgICAgIC8vIHRlbXBsYXRlIGJpbmRpbmdzICh0aGVyZSBhcmUgbm9uZS4pIEluc3RlYWQgdGhlIGhlYWQgcG9pbnRzIHRvIHRoZSB0YWlsIG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgaWYgKGhhc1RlbXBsYXRlQmluZGluZ3MpIHtcbiAgICAgICAgICAgIC8vIHRlbXBsYXRlIGhlYWQncyBcInByZXZcIiB3aWxsIHBvaW50IHRvIGxhc3QgaG9zdCBiaW5kaW5nIG9yIHRvIDAgaWYgbm8gaG9zdCBiaW5kaW5ncyB5ZXRcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzTm9kZSA9IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHREYXRhW3RtcGxIZWFkICsgMV0pO1xuICAgICAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHRvVFN0eWxpbmdSYW5nZShwcmV2aW91c05vZGUsIHRtcGxIZWFkKTtcbiAgICAgICAgICAgIC8vIGlmIGEgaG9zdCBiaW5kaW5nIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIG5leHQgb2YgdGhhdCBob3N0XG4gICAgICAgICAgICAvLyBiaW5kaW5nIHRvIHBvaW50IHRvIHRoaXMgb25lXG4gICAgICAgICAgICBpZiAocHJldmlvdXNOb2RlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgdGhlIHRlbXBsYXRlLXRhaWwgdmFsdWUgdG8gcG9pbnQgdG8gdXMuXG4gICAgICAgICAgICAgICAgdERhdGFbcHJldmlvdXNOb2RlICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICBzZXRUU3R5bGluZ1JhbmdlTmV4dCh0RGF0YVtwcmV2aW91c05vZGUgKyAxXSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIFwicHJldmlvdXNcIiBvZiB0aGUgdGVtcGxhdGUgYmluZGluZyBoZWFkIHNob3VsZCBwb2ludCB0byB0aGlzIGhvc3QgYmluZGluZ1xuICAgICAgICAgICAgdERhdGFbdG1wbEhlYWQgKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VQcmV2KHREYXRhW3RtcGxIZWFkICsgMV0sIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSB0b1RTdHlsaW5nUmFuZ2UodG1wbEhlYWQsIDApO1xuICAgICAgICAgICAgLy8gaWYgYSBob3N0IGJpbmRpbmcgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgbmV4dCBvZiB0aGF0IGhvc3RcbiAgICAgICAgICAgIC8vIGJpbmRpbmcgdG8gcG9pbnQgdG8gdGhpcyBvbmVcbiAgICAgICAgICAgIGlmICh0bXBsSGVhZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSB0ZW1wbGF0ZS10YWlsIHZhbHVlIHRvIHBvaW50IHRvIHVzLlxuICAgICAgICAgICAgICAgIHREYXRhW3RtcGxIZWFkICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlTmV4dCh0RGF0YVt0bXBsSGVhZCArIDFdLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIHRlbXBsYXRlLCB0aGUgaGVhZCBwb2ludHMgdG8gdGVtcGxhdGUtdGFpbCwgYW5kIG5lZWRzIHRvIGJlIGFkdmFuY2VkLlxuICAgICAgICAgICAgdG1wbEhlYWQgPSBpbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2UgYXJlIGluc2VydGluZyBpbiB0ZW1wbGF0ZSBzZWN0aW9uLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGlzIGJpbmRpbmcncyBcInByZXZpb3VzXCIgdG8gdGhlIGN1cnJlbnQgdGVtcGxhdGUgdGFpbFxuICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gdG9UU3R5bGluZ1JhbmdlKHRtcGxUYWlsLCAwKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRFcXVhbCh0bXBsSGVhZCAhPT0gMCAmJiB0bXBsVGFpbCA9PT0gMCwgZmFsc2UsICdBZGRpbmcgdGVtcGxhdGUgYmluZGluZ3MgYWZ0ZXIgaG9zdEJpbmRpbmdzIGlzIG5vdCBhbGxvd2VkLicpO1xuICAgICAgICBpZiAodG1wbEhlYWQgPT09IDApIHtcbiAgICAgICAgICAgIHRtcGxIZWFkID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcHJldmlvdXMgdmFsdWUgXCJuZXh0XCIgdG8gcG9pbnQgdG8gdGhpcyBiaW5kaW5nXG4gICAgICAgICAgICB0RGF0YVt0bXBsVGFpbCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZU5leHQodERhdGFbdG1wbFRhaWwgKyAxXSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRtcGxUYWlsID0gaW5kZXg7XG4gICAgfVxuICAgIC8vIE5vdyB3ZSBuZWVkIHRvIHVwZGF0ZSAvIGNvbXB1dGUgdGhlIGR1cGxpY2F0ZXMuXG4gICAgLy8gU3RhcnRpbmcgd2l0aCBvdXIgbG9jYXRpb24gc2VhcmNoIHRvd2FyZHMgaGVhZCAobGVhc3QgcHJpb3JpdHkpXG4gICAgaWYgKGlzS2V5RHVwbGljYXRlT2ZTdGF0aWMpIHtcbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHREYXRhW2luZGV4ICsgMV0pO1xuICAgIH1cbiAgICBtYXJrRHVwbGljYXRlcyh0RGF0YSwgdFN0eWxpbmdLZXksIGluZGV4LCB0cnVlLCBpc0NsYXNzQmluZGluZyk7XG4gICAgbWFya0R1cGxpY2F0ZXModERhdGEsIHRTdHlsaW5nS2V5LCBpbmRleCwgZmFsc2UsIGlzQ2xhc3NCaW5kaW5nKTtcbiAgICBtYXJrRHVwbGljYXRlT2ZSZXNpZHVhbFN0eWxpbmcodE5vZGUsIHRTdHlsaW5nS2V5LCB0RGF0YSwgaW5kZXgsIGlzQ2xhc3NCaW5kaW5nKTtcbiAgICB0QmluZGluZ3MgPSB0b1RTdHlsaW5nUmFuZ2UodG1wbEhlYWQsIHRtcGxUYWlsKTtcbiAgICBpZiAoaXNDbGFzc0JpbmRpbmcpIHtcbiAgICAgICAgdE5vZGUuY2xhc3NCaW5kaW5ncyA9IHRCaW5kaW5ncztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHROb2RlLnN0eWxlQmluZGluZ3MgPSB0QmluZGluZ3M7XG4gICAgfVxufVxuLyoqXG4gKiBMb29rIGludG8gdGhlIHJlc2lkdWFsIHN0eWxpbmcgdG8gc2VlIGlmIHRoZSBjdXJyZW50IGB0U3R5bGluZ0tleWAgaXMgZHVwbGljYXRlIG9mIHJlc2lkdWFsLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoZXJlIHRoZSByZXNpZHVhbCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXkgYFRTdHlsaW5nS2V5YCB0byBzdG9yZS5cbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBgTFZpZXdgLlxuICogQHBhcmFtIGluZGV4IGxvY2F0aW9uIG9mIHdoZXJlIGB0U3R5bGVWYWx1ZWAgc2hvdWxkIGJlIHN0b3JlZCAoYW5kIGxpbmtlZCBpbnRvIGxpc3QuKVxuICogQHBhcmFtIGlzQ2xhc3NCaW5kaW5nIFRydWUgaWYgdGhlIGFzc29jaWF0ZWQgYHRTdHlsaW5nS2V5YCBhcyBhIGBjbGFzc2Agc3R5bGluZy5cbiAqICAgICAgICAgICAgICAgICAgICAgICBgdE5vZGUuY2xhc3NCaW5kaW5nc2Agc2hvdWxkIGJlIHVzZWQgKG9yIGB0Tm9kZS5zdHlsZUJpbmRpbmdzYCBvdGhlcndpc2UuKVxuICovXG5mdW5jdGlvbiBtYXJrRHVwbGljYXRlT2ZSZXNpZHVhbFN0eWxpbmcodE5vZGUsIHRTdHlsaW5nS2V5LCB0RGF0YSwgaW5kZXgsIGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgY29uc3QgcmVzaWR1YWwgPSBpc0NsYXNzQmluZGluZyA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzO1xuICAgIGlmIChyZXNpZHVhbCAhPSBudWxsIC8qIG9yIHVuZGVmaW5lZCAqLyAmJiB0eXBlb2YgdFN0eWxpbmdLZXkgPT0gJ3N0cmluZycgJiZcbiAgICAgICAga2V5VmFsdWVBcnJheUluZGV4T2YocmVzaWR1YWwsIHRTdHlsaW5nS2V5KSA+PSAwKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgZHVwbGljYXRlIGluIHRoZSByZXNpZHVhbCBzbyBtYXJrIG91cnNlbHZlcyBhcyBkdXBsaWNhdGUuXG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0RGF0YVtpbmRleCArIDFdKTtcbiAgICB9XG59XG4vKipcbiAqIE1hcmtzIGBUU3R5bGVWYWx1ZWBzIGFzIGR1cGxpY2F0ZXMgaWYgYW5vdGhlciBzdHlsZSBiaW5kaW5nIGluIHRoZSBsaXN0IGhhcyB0aGUgc2FtZVxuICogYFRTdHlsZVZhbHVlYC5cbiAqXG4gKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIGJlIGNhbGxlZCB0d2ljZSBvbmNlIHdpdGggYGlzUHJldkRpcmAgc2V0IHRvIGB0cnVlYCBhbmQgb25jZVxuICogd2l0aCBpdCBzZXQgdG8gYGZhbHNlYCB0byBzZWFyY2ggYm90aCB0aGUgcHJldmlvdXMgYXMgd2VsbCBhcyBuZXh0IGl0ZW1zIGluIHRoZSBsaXN0LlxuICpcbiAqIE5vIGR1cGxpY2F0ZSBjYXNlXG4gKiBgYGBcbiAqICAgW3N0eWxlLmNvbG9yXVxuICogICBbc3R5bGUud2lkdGgucHhdIDw8LSBpbmRleFxuICogICBbc3R5bGUuaGVpZ2h0LnB4XVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGUud2lkdGgucHhdYCB0byB0aGUgZXhpc3RpbmcgYFtzdHlsZS5jb2xvcl1gIHByb2R1Y2VzIG5vXG4gKiBkdXBsaWNhdGVzIGJlY2F1c2UgYHdpZHRoYCBpcyBub3QgZm91bmQgaW4gYW55IG90aGVyIHBhcnQgb2YgdGhlIGxpbmtlZCBsaXN0LlxuICpcbiAqIER1cGxpY2F0ZSBjYXNlXG4gKiBgYGBcbiAqICAgW3N0eWxlLmNvbG9yXVxuICogICBbc3R5bGUud2lkdGguZW1dXG4gKiAgIFtzdHlsZS53aWR0aC5weF0gPDwtIGluZGV4XG4gKiBgYGBcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGFkZGluZyBgW3N0eWxlLndpZHRoLnB4XWAgd2lsbCBwcm9kdWNlIGEgZHVwbGljYXRlIHdpdGggYFtzdHlsZS53aWR0aC5lbV1gXG4gKiBiZWNhdXNlIGB3aWR0aGAgaXMgZm91bmQgaW4gdGhlIGNoYWluLlxuICpcbiAqIE1hcCBjYXNlIDFcbiAqIGBgYFxuICogICBbc3R5bGUud2lkdGgucHhdXG4gKiAgIFtzdHlsZS5jb2xvcl1cbiAqICAgW3N0eWxlXSAgPDwtIGluZGV4XG4gKiBgYGBcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGFkZGluZyBgW3N0eWxlXWAgd2lsbCBwcm9kdWNlIGEgZHVwbGljYXRlIHdpdGggYW55IG90aGVyIGJpbmRpbmdzIGJlY2F1c2VcbiAqIGBbc3R5bGVdYCBpcyBhIE1hcCBhbmQgYXMgc3VjaCBpcyBmdWxseSBkeW5hbWljIGFuZCBjb3VsZCBwcm9kdWNlIGBjb2xvcmAgb3IgYHdpZHRoYC5cbiAqXG4gKiBNYXAgY2FzZSAyXG4gKiBgYGBcbiAqICAgW3N0eWxlXVxuICogICBbc3R5bGUud2lkdGgucHhdXG4gKiAgIFtzdHlsZS5jb2xvcl0gIDw8LSBpbmRleFxuICogYGBgXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZS5jb2xvcl1gIHdpbGwgcHJvZHVjZSBhIGR1cGxpY2F0ZSBiZWNhdXNlIHRoZXJlIGlzIGFscmVhZHkgYVxuICogYFtzdHlsZV1gIGJpbmRpbmcgd2hpY2ggaXMgYSBNYXAgYW5kIGFzIHN1Y2ggaXMgZnVsbHkgZHluYW1pYyBhbmQgY291bGQgcHJvZHVjZSBgY29sb3JgIG9yXG4gKiBgd2lkdGhgLlxuICpcbiAqIE5PVEU6IE9uY2UgYFtzdHlsZV1gIChNYXApIGlzIGFkZGVkIGludG8gdGhlIHN5c3RlbSBhbGwgdGhpbmdzIGFyZSBtYXBwZWQgYXMgZHVwbGljYXRlcy5cbiAqIE5PVEU6IFdlIHVzZSBgc3R5bGVgIGFzIGV4YW1wbGUsIGJ1dCBzYW1lIGxvZ2ljIGlzIGFwcGxpZWQgdG8gYGNsYXNzYGVzIGFzIHdlbGwuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0U3R5bGluZ0tleSBgVFN0eWxpbmdLZXlQcmltaXRpdmVgIHdoaWNoIGNvbnRhaW5zIHRoZSB2YWx1ZSB0byBjb21wYXJlIHRvIG90aGVyIGtleXMgaW5cbiAqICAgICAgICB0aGUgbGlua2VkIGxpc3QuXG4gKiBAcGFyYW0gaW5kZXggU3RhcnRpbmcgbG9jYXRpb24gaW4gdGhlIGxpbmtlZCBsaXN0IHRvIHNlYXJjaCBmcm9tXG4gKiBAcGFyYW0gaXNQcmV2RGlyIERpcmVjdGlvbi5cbiAqICAgICAgICAtIGB0cnVlYCBmb3IgcHJldmlvdXMgKGxvd2VyIHByaW9yaXR5KTtcbiAqICAgICAgICAtIGBmYWxzZWAgZm9yIG5leHQgKGhpZ2hlciBwcmlvcml0eSkuXG4gKi9cbmZ1bmN0aW9uIG1hcmtEdXBsaWNhdGVzKHREYXRhLCB0U3R5bGluZ0tleSwgaW5kZXgsIGlzUHJldkRpciwgaXNDbGFzc0JpbmRpbmcpIHtcbiAgICBjb25zdCB0U3R5bGluZ0F0SW5kZXggPSB0RGF0YVtpbmRleCArIDFdO1xuICAgIGNvbnN0IGlzTWFwID0gdFN0eWxpbmdLZXkgPT09IG51bGw7XG4gICAgbGV0IGN1cnNvciA9IGlzUHJldkRpciA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsaW5nQXRJbmRleCkgOiBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGluZ0F0SW5kZXgpO1xuICAgIGxldCBmb3VuZER1cGxpY2F0ZSA9IGZhbHNlO1xuICAgIC8vIFdlIGtlZXAgaXRlcmF0aW5nIGFzIGxvbmcgYXMgd2UgaGF2ZSBhIGN1cnNvclxuICAgIC8vIEFORCBlaXRoZXI6XG4gICAgLy8gLSB3ZSBmb3VuZCB3aGF0IHdlIGFyZSBsb29raW5nIGZvciwgT1JcbiAgICAvLyAtIHdlIGFyZSBhIG1hcCBpbiB3aGljaCBjYXNlIHdlIGhhdmUgdG8gY29udGludWUgc2VhcmNoaW5nIGV2ZW4gYWZ0ZXIgd2UgZmluZCB3aGF0IHdlIHdlcmVcbiAgICAvLyAgIGxvb2tpbmcgZm9yIHNpbmNlIHdlIGFyZSBhIHdpbGQgY2FyZCBhbmQgZXZlcnl0aGluZyBuZWVkcyB0byBiZSBmbGlwcGVkIHRvIGR1cGxpY2F0ZS5cbiAgICB3aGlsZSAoY3Vyc29yICE9PSAwICYmIChmb3VuZER1cGxpY2F0ZSA9PT0gZmFsc2UgfHwgaXNNYXApKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UodERhdGEsIGN1cnNvcik7XG4gICAgICAgIGNvbnN0IHRTdHlsaW5nVmFsdWVBdEN1cnNvciA9IHREYXRhW2N1cnNvcl07XG4gICAgICAgIGNvbnN0IHRTdHlsZVJhbmdlQXRDdXJzb3IgPSB0RGF0YVtjdXJzb3IgKyAxXTtcbiAgICAgICAgaWYgKGlzU3R5bGluZ01hdGNoKHRTdHlsaW5nVmFsdWVBdEN1cnNvciwgdFN0eWxpbmdLZXkpKSB7XG4gICAgICAgICAgICBmb3VuZER1cGxpY2F0ZSA9IHRydWU7XG4gICAgICAgICAgICB0RGF0YVtjdXJzb3IgKyAxXSA9IGlzUHJldkRpciA/IHNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRTdHlsZVJhbmdlQXRDdXJzb3IpIDpcbiAgICAgICAgICAgICAgICBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0U3R5bGVSYW5nZUF0Q3Vyc29yKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3IgPSBpc1ByZXZEaXIgPyBnZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGVSYW5nZUF0Q3Vyc29yKSA6XG4gICAgICAgICAgICBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGVSYW5nZUF0Q3Vyc29yKTtcbiAgICB9XG4gICAgaWYgKGZvdW5kRHVwbGljYXRlKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGEgZHVwbGljYXRlLCB0aGFuIG1hcmsgb3Vyc2VsdmVzLlxuICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gaXNQcmV2RGlyID8gc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxpbmdBdEluZGV4KSA6XG4gICAgICAgICAgICBzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGluZ0F0SW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0d28gYFRTdHlsaW5nS2V5YHMgYXJlIGEgbWF0Y2guXG4gKlxuICogV2hlbiBjb21wdXRpbmcgd2hldGhlciBhIGJpbmRpbmcgY29udGFpbnMgYSBkdXBsaWNhdGUsIHdlIG5lZWQgdG8gY29tcGFyZSBpZiB0aGUgaW5zdHJ1Y3Rpb25cbiAqIGBUU3R5bGluZ0tleWAgaGFzIGEgbWF0Y2guXG4gKlxuICogSGVyZSBhcmUgZXhhbXBsZXMgb2YgYFRTdHlsaW5nS2V5YHMgd2hpY2ggbWF0Y2ggZ2l2ZW4gYHRTdHlsaW5nS2V5Q3Vyc29yYCBpczpcbiAqIC0gYGNvbG9yYFxuICogICAgLSBgY29sb3JgICAgIC8vIE1hdGNoIGFub3RoZXIgY29sb3JcbiAqICAgIC0gYG51bGxgICAgICAvLyBUaGF0IG1lYW5zIHRoYXQgYHRTdHlsaW5nS2V5YCBpcyBhIGBjbGFzc01hcGAvYHN0eWxlTWFwYCBpbnN0cnVjdGlvblxuICogICAgLSBgWycnLCAnY29sb3InLCAnb3RoZXInLCB0cnVlXWAgLy8gd3JhcHBlZCBgY29sb3JgIHNvIG1hdGNoXG4gKiAgICAtIGBbJycsIG51bGwsICdvdGhlcicsIHRydWVdYCAgICAgICAvLyB3cmFwcGVkIGBudWxsYCBzbyBtYXRjaFxuICogICAgLSBgWycnLCAnd2lkdGgnLCAnY29sb3InLCAndmFsdWUnXWAgLy8gd3JhcHBlZCBzdGF0aWMgdmFsdWUgY29udGFpbnMgYSBtYXRjaCBvbiBgJ2NvbG9yJ2BcbiAqIC0gYG51bGxgICAgICAgIC8vIGB0U3R5bGluZ0tleUN1cnNvcmAgYWx3YXlzIG1hdGNoIGFzIGl0IGlzIGBjbGFzc01hcGAvYHN0eWxlTWFwYCBpbnN0cnVjdGlvblxuICpcbiAqIEBwYXJhbSB0U3R5bGluZ0tleUN1cnNvclxuICogQHBhcmFtIHRTdHlsaW5nS2V5XG4gKi9cbmZ1bmN0aW9uIGlzU3R5bGluZ01hdGNoKHRTdHlsaW5nS2V5Q3Vyc29yLCB0U3R5bGluZ0tleSkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5KSwgdHJ1ZSwgJ0V4cGVjdGVkIHRoYXQgXFwndFN0eWxpbmdLZXlcXCcgaGFzIGJlZW4gdW53cmFwcGVkJyk7XG4gICAgaWYgKHRTdHlsaW5nS2V5Q3Vyc29yID09PSBudWxsIHx8IC8vIElmIHRoZSBjdXJzb3IgaXMgYG51bGxgIGl0IG1lYW5zIHRoYXQgd2UgaGF2ZSBtYXAgYXQgdGhhdFxuICAgICAgICAvLyBsb2NhdGlvbiBzbyB3ZSBtdXN0IGFzc3VtZSB0aGF0IHdlIGhhdmUgYSBtYXRjaC5cbiAgICAgICAgdFN0eWxpbmdLZXkgPT0gbnVsbCB8fCAvLyBJZiBgdFN0eWxpbmdLZXlgIGlzIGBudWxsYCB0aGVuIGl0IGlzIGEgbWFwIHRoZXJlZm9yIGFzc3VtZSB0aGF0IGl0XG4gICAgICAgIC8vIGNvbnRhaW5zIGEgbWF0Y2guXG4gICAgICAgIChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5Q3Vyc29yKSA/IHRTdHlsaW5nS2V5Q3Vyc29yWzFdIDogdFN0eWxpbmdLZXlDdXJzb3IpID09PVxuICAgICAgICAgICAgdFN0eWxpbmdLZXkgLy8gSWYgdGhlIGtleXMgbWF0Y2ggZXhwbGljaXRseSB0aGFuIHdlIGFyZSBhIG1hdGNoLlxuICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleUN1cnNvcikgJiYgdHlwZW9mIHRTdHlsaW5nS2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBpZiB3ZSBkaWQgbm90IGZpbmQgYSBtYXRjaCwgYnV0IGB0U3R5bGluZ0tleUN1cnNvcmAgaXMgYEtleVZhbHVlQXJyYXlgIHRoYXQgbWVhbnMgY3Vyc29yIGhhc1xuICAgICAgICAvLyBzdGF0aWNzIGFuZCB3ZSBuZWVkIHRvIGNoZWNrIHRob3NlIGFzIHdlbGwuXG4gICAgICAgIHJldHVybiBrZXlWYWx1ZUFycmF5SW5kZXhPZih0U3R5bGluZ0tleUN1cnNvciwgdFN0eWxpbmdLZXkpID49XG4gICAgICAgICAgICAwOyAvLyBzZWUgaWYgd2UgYXJlIG1hdGNoaW5nIHRoZSBrZXlcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIEdsb2JhbCBzdGF0ZSBvZiB0aGUgcGFyc2VyLiAoVGhpcyBtYWtlcyBwYXJzZXIgbm9uLXJlZW50cmFudCwgYnV0IHRoYXQgaXMgbm90IGFuIGlzc3VlKVxuY29uc3QgcGFyc2VyU3RhdGUgPSB7XG4gICAgdGV4dEVuZDogMCxcbiAgICBrZXk6IDAsXG4gICAga2V5RW5kOiAwLFxuICAgIHZhbHVlOiAwLFxuICAgIHZhbHVlRW5kOiAwLFxufTtcbi8qKlxuICogUmV0cmlldmVzIHRoZSBsYXN0IHBhcnNlZCBga2V5YCBvZiBzdHlsZS5cbiAqIEBwYXJhbSB0ZXh0IHRoZSB0ZXh0IHRvIHN1YnN0cmluZyB0aGUga2V5IGZyb20uXG4gKi9cbmZ1bmN0aW9uIGdldExhc3RQYXJzZWRLZXkodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhwYXJzZXJTdGF0ZS5rZXksIHBhcnNlclN0YXRlLmtleUVuZCk7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgbGFzdCBwYXJzZWQgYHZhbHVlYCBvZiBzdHlsZS5cbiAqIEBwYXJhbSB0ZXh0IHRoZSB0ZXh0IHRvIHN1YnN0cmluZyB0aGUga2V5IGZyb20uXG4gKi9cbmZ1bmN0aW9uIGdldExhc3RQYXJzZWRWYWx1ZSh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHBhcnNlclN0YXRlLnZhbHVlLCBwYXJzZXJTdGF0ZS52YWx1ZUVuZCk7XG59XG4vKipcbiAqIEluaXRpYWxpemVzIGBjbGFzc05hbWVgIHN0cmluZyBmb3IgcGFyc2luZyBhbmQgcGFyc2VzIHRoZSBmaXJzdCB0b2tlbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gdGhpcyBmb3JtYXQ6XG4gKiBgYGBcbiAqIGZvciAobGV0IGkgPSBwYXJzZUNsYXNzTmFtZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGkpKSB7XG4gKiAgIGNvbnN0IGtleSA9IGdldExhc3RQYXJzZWRLZXkoKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSB0ZXh0IGBjbGFzc05hbWVgIHRvIHBhcnNlXG4gKiBAcmV0dXJucyBpbmRleCB3aGVyZSB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwYXJzZUNsYXNzTmFtZU5leHRgIHNob3VsZCByZXN1bWUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ2xhc3NOYW1lKHRleHQpIHtcbiAgICByZXNldFBhcnNlclN0YXRlKHRleHQpO1xuICAgIHJldHVybiBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgMCwgcGFyc2VyU3RhdGUudGV4dEVuZCkpO1xufVxuLyoqXG4gKiBQYXJzZXMgbmV4dCBgY2xhc3NOYW1lYCB0b2tlbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gdGhpcyBmb3JtYXQ6XG4gKiBgYGBcbiAqIGZvciAobGV0IGkgPSBwYXJzZUNsYXNzTmFtZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGkpKSB7XG4gKiAgIGNvbnN0IGtleSA9IGdldExhc3RQYXJzZWRLZXkoKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdGV4dCBgY2xhc3NOYW1lYCB0byBwYXJzZVxuICogQHBhcmFtIGluZGV4IHdoZXJlIHRoZSBwYXJzaW5nIHNob3VsZCByZXN1bWUuXG4gKiBAcmV0dXJucyBpbmRleCB3aGVyZSB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwYXJzZUNsYXNzTmFtZU5leHRgIHNob3VsZCByZXN1bWUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpbmRleCkge1xuICAgIGNvbnN0IGVuZCA9IHBhcnNlclN0YXRlLnRleHRFbmQ7XG4gICAgaWYgKGVuZCA9PT0gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpbmRleCA9IHBhcnNlclN0YXRlLmtleUVuZCA9IGNvbnN1bWVDbGFzc1Rva2VuKHRleHQsIHBhcnNlclN0YXRlLmtleSA9IGluZGV4LCBlbmQpO1xuICAgIHJldHVybiBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBpbmRleCwgZW5kKTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgYGNzc1RleHRgIHN0cmluZyBmb3IgcGFyc2luZyBhbmQgcGFyc2VzIHRoZSBmaXJzdCBrZXkvdmFsdWVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiB0aGlzIGZvcm1hdDpcbiAqIGBgYFxuICogZm9yIChsZXQgaSA9IHBhcnNlU3R5bGUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlU3R5bGVOZXh0KHRleHQsIGkpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIGNvbnN0IHZhbHVlID0gZ2V0TGFzdFBhcnNlZFZhbHVlKCk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBAcGFyYW0gdGV4dCBgY3NzVGV4dGAgdG8gcGFyc2VcbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlU3R5bGVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZVN0eWxlKHRleHQpIHtcbiAgICByZXNldFBhcnNlclN0YXRlKHRleHQpO1xuICAgIHJldHVybiBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCAwLCBwYXJzZXJTdGF0ZS50ZXh0RW5kKSk7XG59XG4vKipcbiAqIFBhcnNlcyB0aGUgbmV4dCBgY3NzVGV4dGAga2V5L3ZhbHVlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gdGhpcyBmb3JtYXQ6XG4gKiBgYGBcbiAqIGZvciAobGV0IGkgPSBwYXJzZVN0eWxlKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBpKSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICBjb25zdCB2YWx1ZSA9IGdldExhc3RQYXJzZWRWYWx1ZSgpO1xuICogICAuLi5cbiAqIH1cbiAqXG4gKiBAcGFyYW0gdGV4dCBgY3NzVGV4dGAgdG8gcGFyc2VcbiAqIEBwYXJhbSBpbmRleCB3aGVyZSB0aGUgcGFyc2luZyBzaG91bGQgcmVzdW1lLlxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VTdHlsZU5leHRgIHNob3VsZCByZXN1bWUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU3R5bGVOZXh0KHRleHQsIHN0YXJ0SW5kZXgpIHtcbiAgICBjb25zdCBlbmQgPSBwYXJzZXJTdGF0ZS50ZXh0RW5kO1xuICAgIGxldCBpbmRleCA9IHBhcnNlclN0YXRlLmtleSA9IGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZCk7XG4gICAgaWYgKGVuZCA9PT0gaW5kZXgpIHtcbiAgICAgICAgLy8gd2UgcmVhY2hlZCBhbiBlbmQgc28ganVzdCBxdWl0XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaW5kZXggPSBwYXJzZXJTdGF0ZS5rZXlFbmQgPSBjb25zdW1lU3R5bGVLZXkodGV4dCwgaW5kZXgsIGVuZCk7XG4gICAgaW5kZXggPSBjb25zdW1lU2VwYXJhdG9yKHRleHQsIGluZGV4LCBlbmQsIDU4IC8qIENPTE9OICovKTtcbiAgICBpbmRleCA9IHBhcnNlclN0YXRlLnZhbHVlID0gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgaW5kZXgsIGVuZCk7XG4gICAgaW5kZXggPSBwYXJzZXJTdGF0ZS52YWx1ZUVuZCA9IGNvbnN1bWVTdHlsZVZhbHVlKHRleHQsIGluZGV4LCBlbmQpO1xuICAgIHJldHVybiBjb25zdW1lU2VwYXJhdG9yKHRleHQsIGluZGV4LCBlbmQsIDU5IC8qIFNFTUlfQ09MT04gKi8pO1xufVxuLyoqXG4gKiBSZXNldCB0aGUgZ2xvYmFsIHN0YXRlIG9mIHRoZSBzdHlsaW5nIHBhcnNlci5cbiAqIEBwYXJhbSB0ZXh0IFRoZSBzdHlsaW5nIHRleHQgdG8gcGFyc2UuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0UGFyc2VyU3RhdGUodGV4dCkge1xuICAgIHBhcnNlclN0YXRlLmtleSA9IDA7XG4gICAgcGFyc2VyU3RhdGUua2V5RW5kID0gMDtcbiAgICBwYXJzZXJTdGF0ZS52YWx1ZSA9IDA7XG4gICAgcGFyc2VyU3RhdGUudmFsdWVFbmQgPSAwO1xuICAgIHBhcnNlclN0YXRlLnRleHRFbmQgPSB0ZXh0Lmxlbmd0aDtcbn1cbi8qKlxuICogUmV0dXJucyBpbmRleCBvZiBuZXh0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggb2YgbmV4dCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgKE1heSBiZSB0aGUgc2FtZSBhcyBgc3RhcnRgIGlmIG5vIHdoaXRlc3BhY2UgYXRcbiAqICAgICAgICAgIHRoYXQgbG9jYXRpb24uKVxuICovXG5mdW5jdGlvbiBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIHdoaWxlIChzdGFydEluZGV4IDwgZW5kSW5kZXggJiYgdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpIDw9IDMyIC8qIFNQQUNFICovKSB7XG4gICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG59XG4vKipcbiAqIFJldHVybnMgaW5kZXggb2YgbGFzdCBjaGFyIGluIGNsYXNzIHRva2VuLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBsYXN0IGNoYXIgaW4gY2xhc3MgdG9rZW4uXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVDbGFzc1Rva2VuKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgd2hpbGUgKHN0YXJ0SW5kZXggPCBlbmRJbmRleCAmJiB0ZXh0LmNoYXJDb2RlQXQoc3RhcnRJbmRleCkgPiAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBzdGFydEluZGV4O1xufVxuLyoqXG4gKiBDb25zdW1lcyBhbGwgb2YgdGhlIGNoYXJhY3RlcnMgYmVsb25naW5nIHRvIHN0eWxlIGtleSBhbmQgdG9rZW4uXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIGxhc3Qgc3R5bGUga2V5IGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZVN0eWxlS2V5KHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgbGV0IGNoO1xuICAgIHdoaWxlIChzdGFydEluZGV4IDwgZW5kSW5kZXggJiZcbiAgICAgICAgKChjaCA9IHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSkgPT09IDQ1IC8qIERBU0ggKi8gfHwgY2ggPT09IDk1IC8qIFVOREVSU0NPUkUgKi8gfHxcbiAgICAgICAgICAgICgoY2ggJiAtMzMgLyogVVBQRVJfQ0FTRSAqLykgPj0gNjUgLyogQSAqLyAmJiAoY2ggJiAtMzMgLyogVVBQRVJfQ0FTRSAqLykgPD0gOTAgLyogWiAqLykgfHxcbiAgICAgICAgICAgIChjaCA+PSA0OCAvKiBaRVJPICovICYmIGNoIDw9IDU3IC8qIE5JTkUgKi8pKSkge1xuICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBzdGFydEluZGV4O1xufVxuLyoqXG4gKiBDb25zdW1lcyBhbGwgd2hpdGVzcGFjZSBhbmQgdGhlIHNlcGFyYXRvciBgOmAgYWZ0ZXIgdGhlIHN0eWxlIGtleS5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgc2VwYXJhdG9yIGFuZCBzdXJyb3VuZGluZyB3aGl0ZXNwYWNlLlxuICovXG5mdW5jdGlvbiBjb25zdW1lU2VwYXJhdG9yKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBzZXBhcmF0b3IpIHtcbiAgICBzdGFydEluZGV4ID0gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgIGlmIChzdGFydEluZGV4IDwgZW5kSW5kZXgpIHtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiB0ZXh0LmNoYXJDb2RlQXQoc3RhcnRJbmRleCkgIT09IHNlcGFyYXRvcikge1xuICAgICAgICAgICAgbWFsZm9ybWVkU3R5bGVFcnJvcih0ZXh0LCBTdHJpbmcuZnJvbUNoYXJDb2RlKHNlcGFyYXRvciksIHN0YXJ0SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIHN0eWxlIHZhbHVlIGhvbm9yaW5nIGB1cmwoKWAgYW5kIGBcIlwiYCB0ZXh0LlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBsYXN0IHN0eWxlIHZhbHVlIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZVN0eWxlVmFsdWUodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBsZXQgY2gxID0gLTE7IC8vIDFzdCBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICBsZXQgY2gyID0gLTE7IC8vIDJuZCBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICBsZXQgY2gzID0gLTE7IC8vIDNyZCBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICBsZXQgaSA9IHN0YXJ0SW5kZXg7XG4gICAgbGV0IGxhc3RDaEluZGV4ID0gaTtcbiAgICB3aGlsZSAoaSA8IGVuZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoID0gdGV4dC5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgIGlmIChjaCA9PT0gNTkgLyogU0VNSV9DT0xPTiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RDaEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID09PSAzNCAvKiBET1VCTEVfUVVPVEUgKi8gfHwgY2ggPT09IDM5IC8qIFNJTkdMRV9RVU9URSAqLykge1xuICAgICAgICAgICAgbGFzdENoSW5kZXggPSBpID0gY29uc3VtZVF1b3RlZFRleHQodGV4dCwgY2gsIGksIGVuZEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydEluZGV4ID09PVxuICAgICAgICAgICAgaSAtIDQgJiYgLy8gV2UgaGF2ZSBzZWVuIG9ubHkgNCBjaGFyYWN0ZXJzIHNvIGZhciBcIlVSTChcIiAoSWdub3JlIFwiZm9vX1VSTCgpXCIpXG4gICAgICAgICAgICBjaDMgPT09IDg1IC8qIFUgKi8gJiZcbiAgICAgICAgICAgIGNoMiA9PT0gODIgLyogUiAqLyAmJiBjaDEgPT09IDc2IC8qIEwgKi8gJiYgY2ggPT09IDQwIC8qIE9QRU5fUEFSRU4gKi8pIHtcbiAgICAgICAgICAgIGxhc3RDaEluZGV4ID0gaSA9IGNvbnN1bWVRdW90ZWRUZXh0KHRleHQsIDQxIC8qIENMT1NFX1BBUkVOICovLCBpLCBlbmRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPiAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciB0aGVuIGNhcHR1cmUgaXRzIGxvY2F0aW9uXG4gICAgICAgICAgICBsYXN0Q2hJbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgY2gzID0gY2gyO1xuICAgICAgICBjaDIgPSBjaDE7XG4gICAgICAgIGNoMSA9IGNoICYgLTMzIC8qIFVQUEVSX0NBU0UgKi87XG4gICAgfVxuICAgIHJldHVybiBsYXN0Q2hJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgYWxsIG9mIHRoZSBxdW90ZWQgY2hhcmFjdGVycy5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBxdW90ZUNoYXJDb2RlIENoYXJDb2RlIG9mIGVpdGhlciBgXCJgIG9yIGAnYCBxdW90ZSBvciBgKWAgZm9yIGB1cmwoLi4uKWAuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIHF1b3RlZCBjaGFyYWN0ZXJzLlxuICovXG5mdW5jdGlvbiBjb25zdW1lUXVvdGVkVGV4dCh0ZXh0LCBxdW90ZUNoYXJDb2RlLCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGxldCBjaDEgPSAtMTsgLy8gMXN0IHByZXZpb3VzIGNoYXJhY3RlclxuICAgIGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgd2hpbGUgKGluZGV4IDwgZW5kSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaW5kZXgrKyk7XG4gICAgICAgIGlmIChjaCA9PSBxdW90ZUNoYXJDb2RlICYmIGNoMSAhPT0gOTIgLyogQkFDS19TTEFTSCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaCA9PSA5MiAvKiBCQUNLX1NMQVNIICovICYmIGNoMSA9PT0gOTIgLyogQkFDS19TTEFTSCAqLykge1xuICAgICAgICAgICAgLy8gdHdvIGJhY2sgc2xhc2hlcyBjYW5jZWwgZWFjaCBvdGhlciBvdXQuIEZvciBleGFtcGxlIGBcIlxcXFxcImAgc2hvdWxkIHByb3Blcmx5IGVuZCB0aGVcbiAgICAgICAgICAgIC8vIHF1b3RhdGlvbi4gKEl0IHNob3VsZCBub3QgYXNzdW1lIHRoYXQgdGhlIGxhc3QgYFwiYCBpcyBlc2NhcGVkLilcbiAgICAgICAgICAgIGNoMSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaDEgPSBjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZ0Rldk1vZGUgPyBtYWxmb3JtZWRTdHlsZUVycm9yKHRleHQsIFN0cmluZy5mcm9tQ2hhckNvZGUocXVvdGVDaGFyQ29kZSksIGVuZEluZGV4KSA6XG4gICAgICAgIG5ldyBFcnJvcigpO1xufVxuZnVuY3Rpb24gbWFsZm9ybWVkU3R5bGVFcnJvcih0ZXh0LCBleHBlY3RpbmcsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHR5cGVvZiB0ZXh0ID09PSAnc3RyaW5nJywgdHJ1ZSwgJ1N0cmluZyBleHBlY3RlZCBoZXJlJyk7XG4gICAgdGhyb3cgdGhyb3dFcnJvcihgTWFsZm9ybWVkIHN0eWxlIGF0IGxvY2F0aW9uICR7aW5kZXh9IGluIHN0cmluZyAnYCArIHRleHQuc3Vic3RyaW5nKDAsIGluZGV4KSArICdbPj4nICtcbiAgICAgICAgdGV4dC5zdWJzdHJpbmcoaW5kZXgsIGluZGV4ICsgMSkgKyAnPDxdJyArIHRleHQuc3Vic3RyKGluZGV4ICsgMSkgK1xuICAgICAgICBgJy4gRXhwZWN0aW5nICcke2V4cGVjdGluZ30nLmApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXBkYXRlIGEgc3R5bGUgYmluZGluZyBvbiBhbiBlbGVtZW50IHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlLlxuICpcbiAqIElmIHRoZSBzdHlsZSB2YWx1ZSBpcyBmYWxzeSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gKiAob3IgYXNzaWduZWQgYSBkaWZmZXJlbnQgdmFsdWUgZGVwZW5kaW5nIGlmIHRoZXJlIGFyZSBhbnkgc3R5bGVzIHBsYWNlZFxuICogb24gdGhlIGVsZW1lbnQgd2l0aCBgc3R5bGVNYXBgIG9yIGFueSBzdGF0aWMgc3R5bGVzIHRoYXQgYXJlXG4gKiBwcmVzZW50IGZyb20gd2hlbiB0aGUgZWxlbWVudCB3YXMgY3JlYXRlZCB3aXRoIGBzdHlsaW5nYCkuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBzdHlsaW5nIGVsZW1lbnQgaXMgdXBkYXRlZCBhcyBwYXJ0IG9mIGBzdHlsaW5nQXBwbHlgLlxuICpcbiAqIEBwYXJhbSBwcm9wIEEgdmFsaWQgQ1NTIHByb3BlcnR5LlxuICogQHBhcmFtIHZhbHVlIE5ldyB2YWx1ZSB0byB3cml0ZSAoYG51bGxgIG9yIGFuIGVtcHR5IHN0cmluZyB0byByZW1vdmUpLlxuICogQHBhcmFtIHN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIGFwcGx5IHRoZSBwcm92aWRlZCBzdHlsZSB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiB3aXRoaW4gYSBob3N0IGJpbmRpbmcgZnVuY3Rpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcChwcm9wLCB2YWx1ZSwgc3VmZml4KSB7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgdmFsdWUsIHN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wO1xufVxuLyoqXG4gKiBVcGRhdGUgYSBjbGFzcyBiaW5kaW5nIG9uIGFuIGVsZW1lbnQgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBtZWFudCB0byBoYW5kbGUgdGhlIGBbY2xhc3MuZm9vXT1cImV4cFwiYCBjYXNlIGFuZCxcbiAqIHRoZXJlZm9yZSwgdGhlIGNsYXNzIGJpbmRpbmcgaXRzZWxmIG11c3QgYWxyZWFkeSBiZSBhbGxvY2F0ZWQgdXNpbmdcbiAqIGBzdHlsaW5nYCB3aXRoaW4gdGhlIGNyZWF0aW9uIGJsb2NrLlxuICpcbiAqIEBwYXJhbSBwcm9wIEEgdmFsaWQgQ1NTIGNsYXNzIChvbmx5IG9uZSkuXG4gKiBAcGFyYW0gdmFsdWUgQSB0cnVlL2ZhbHNlIHZhbHVlIHdoaWNoIHdpbGwgdHVybiB0aGUgY2xhc3Mgb24gb3Igb2ZmLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgYXBwbHkgdGhlIHByb3ZpZGVkIGNsYXNzIHZhbHVlIHRvIHRoZSBob3N0IGVsZW1lbnQgaWYgdGhpcyBmdW5jdGlvblxuICogaXMgY2FsbGVkIHdpdGhpbiBhIGhvc3QgYmluZGluZyBmdW5jdGlvbi5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NQcm9wKGNsYXNzTmFtZSwgdmFsdWUpIHtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShjbGFzc05hbWUsIHZhbHVlLCBudWxsLCB0cnVlKTtcbiAgICByZXR1cm4gybXJtWNsYXNzUHJvcDtcbn1cbi8qKlxuICogVXBkYXRlIHN0eWxlIGJpbmRpbmdzIHVzaW5nIGFuIG9iamVjdCBsaXRlcmFsIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBtZWFudCB0byBhcHBseSBzdHlsaW5nIHZpYSB0aGUgYFtzdHlsZV09XCJleHBcImAgdGVtcGxhdGUgYmluZGluZ3MuXG4gKiBXaGVuIHN0eWxlcyBhcmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCB0aGV5IHdpbGwgdGhlbiBiZSB1cGRhdGVkIHdpdGggcmVzcGVjdCB0b1xuICogYW55IHN0eWxlcy9jbGFzc2VzIHNldCB2aWEgYHN0eWxlUHJvcGAuIElmIGFueSBzdHlsZXMgYXJlIHNldCB0byBmYWxzeVxuICogdGhlbiB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50LlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgc3R5bGluZyBpbnN0cnVjdGlvbiB3aWxsIG5vdCBiZSBhcHBsaWVkIHVudGlsIGBzdHlsaW5nQXBwbHlgIGlzIGNhbGxlZC5cbiAqXG4gKiBAcGFyYW0gc3R5bGVzIEEga2V5L3ZhbHVlIHN0eWxlIG1hcCBvZiB0aGUgc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICogICAgICAgIEFueSBtaXNzaW5nIHN0eWxlcyAodGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGJlZm9yZWhhbmQpIHdpbGwgYmVcbiAqICAgICAgICByZW1vdmVkICh1bnNldCkgZnJvbSB0aGUgZWxlbWVudCdzIHN0eWxpbmcuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCBhcHBseSB0aGUgcHJvdmlkZWQgc3R5bGVNYXAgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uXG4gKiBpcyBjYWxsZWQgd2l0aGluIGEgaG9zdCBiaW5kaW5nLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcChzdHlsZXMpIHtcbiAgICBjaGVja1N0eWxpbmdNYXAoc3R5bGVLZXlWYWx1ZUFycmF5U2V0LCBzdHlsZVN0cmluZ1BhcnNlciwgc3R5bGVzLCBmYWxzZSk7XG59XG4vKipcbiAqIFBhcnNlIHRleHQgYXMgc3R5bGUgYW5kIGFkZCB2YWx1ZXMgdG8gS2V5VmFsdWVBcnJheS5cbiAqXG4gKiBUaGlzIGNvZGUgaXMgcHVsbGVkIG91dCB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIHRoYXQgaXQgY2FuIGJlIHRyZWUgc2hha2VuIGF3YXkgaWYgaXQgaXMgbm90XG4gKiBuZWVkZWQuIEl0IGlzIG9ubHkgcmVmZXJlbmNlZCBmcm9tIGDJtcm1c3R5bGVNYXBgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IEtleVZhbHVlQXJyYXkgdG8gYWRkIHBhcnNlZCB2YWx1ZXMgdG8uXG4gKiBAcGFyYW0gdGV4dCB0ZXh0IHRvIHBhcnNlLlxuICovXG5mdW5jdGlvbiBzdHlsZVN0cmluZ1BhcnNlcihrZXlWYWx1ZUFycmF5LCB0ZXh0KSB7XG4gICAgZm9yIChsZXQgaSA9IHBhcnNlU3R5bGUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlU3R5bGVOZXh0KHRleHQsIGkpKSB7XG4gICAgICAgIHN0eWxlS2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBnZXRMYXN0UGFyc2VkS2V5KHRleHQpLCBnZXRMYXN0UGFyc2VkVmFsdWUodGV4dCkpO1xuICAgIH1cbn1cbi8qKlxuICogVXBkYXRlIGNsYXNzIGJpbmRpbmdzIHVzaW5nIGFuIG9iamVjdCBsaXRlcmFsIG9yIGNsYXNzLXN0cmluZyBvbiBhbiBlbGVtZW50LlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgbWVhbnQgdG8gYXBwbHkgc3R5bGluZyB2aWEgdGhlIGBbY2xhc3NdPVwiZXhwXCJgIHRlbXBsYXRlIGJpbmRpbmdzLlxuICogV2hlbiBjbGFzc2VzIGFyZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IHRoZXkgd2lsbCB0aGVuIGJlIHVwZGF0ZWQgd2l0aFxuICogcmVzcGVjdCB0byBhbnkgc3R5bGVzL2NsYXNzZXMgc2V0IHZpYSBgY2xhc3NQcm9wYC4gSWYgYW55XG4gKiBjbGFzc2VzIGFyZSBzZXQgdG8gZmFsc3kgdGhlbiB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50LlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgc3R5bGluZyBpbnN0cnVjdGlvbiB3aWxsIG5vdCBiZSBhcHBsaWVkIHVudGlsIGBzdHlsaW5nQXBwbHlgIGlzIGNhbGxlZC5cbiAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgdGhlIHByb3ZpZGVkIGNsYXNzTWFwIHZhbHVlIHRvIHRoZSBob3N0IGVsZW1lbnQgaWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWRcbiAqIHdpdGhpbiBhIGhvc3QgYmluZGluZy5cbiAqXG4gKiBAcGFyYW0gY2xhc3NlcyBBIGtleS92YWx1ZSBtYXAgb3Igc3RyaW5nIG9mIENTUyBjbGFzc2VzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAqICAgICAgICBnaXZlbiBlbGVtZW50LiBBbnkgbWlzc2luZyBjbGFzc2VzICh0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqICAgICAgICBiZWZvcmVoYW5kKSB3aWxsIGJlIHJlbW92ZWQgKHVuc2V0KSBmcm9tIHRoZSBlbGVtZW50J3MgbGlzdCBvZiBDU1MgY2xhc3Nlcy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXAoY2xhc3Nlcykge1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgY2xhc3NlcywgdHJ1ZSk7XG59XG4vKipcbiAqIFBhcnNlIHRleHQgYXMgY2xhc3MgYW5kIGFkZCB2YWx1ZXMgdG8gS2V5VmFsdWVBcnJheS5cbiAqXG4gKiBUaGlzIGNvZGUgaXMgcHVsbGVkIG91dCB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIHRoYXQgaXQgY2FuIGJlIHRyZWUgc2hha2VuIGF3YXkgaWYgaXQgaXMgbm90XG4gKiBuZWVkZWQuIEl0IGlzIG9ubHkgcmVmZXJlbmNlZCBmcm9tIGDJtcm1Y2xhc3NNYXBgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IEtleVZhbHVlQXJyYXkgdG8gYWRkIHBhcnNlZCB2YWx1ZXMgdG8uXG4gKiBAcGFyYW0gdGV4dCB0ZXh0IHRvIHBhcnNlLlxuICovXG5mdW5jdGlvbiBjbGFzc1N0cmluZ1BhcnNlcihrZXlWYWx1ZUFycmF5LCB0ZXh0KSB7XG4gICAgZm9yIChsZXQgaSA9IHBhcnNlQ2xhc3NOYW1lKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaSkpIHtcbiAgICAgICAga2V5VmFsdWVBcnJheVNldChrZXlWYWx1ZUFycmF5LCBnZXRMYXN0UGFyc2VkS2V5KHRleHQpLCB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIENvbW1vbiBjb2RlIGJldHdlZW4gYMm1ybVjbGFzc1Byb3BgIGFuZCBgybXJtXN0eWxlUHJvcGAuXG4gKlxuICogQHBhcmFtIHByb3AgcHJvcGVydHkgbmFtZS5cbiAqIEBwYXJhbSB2YWx1ZSBiaW5kaW5nIHZhbHVlLlxuICogQHBhcmFtIHN1ZmZpeCBzdWZmaXggZm9yIHRoZSBwcm9wZXJ0eSAoZS5nLiBgZW1gIG9yIGBweGApXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIGNoYW5nZSAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgc3VmZml4LCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIC8vIFN0eWxpbmcgaW5zdHJ1Y3Rpb25zIHVzZSAyIHNsb3RzIHBlciBiaW5kaW5nLlxuICAgIC8vIDEuIG9uZSBmb3IgdGhlIHZhbHVlIC8gVFN0eWxpbmdLZXlcbiAgICAvLyAyLiBvbmUgZm9yIHRoZSBpbnRlcm1pdHRlbnQtdmFsdWUgLyBUU3R5bGluZ1JhbmdlXG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gaW5jcmVtZW50QmluZGluZ0luZGV4KDIpO1xuICAgIGlmICh0Vmlldy5maXJzdFVwZGF0ZVBhc3MpIHtcbiAgICAgICAgc3R5bGluZ0ZpcnN0VXBkYXRlUGFzcyh0VmlldywgcHJvcCwgYmluZGluZ0luZGV4LCBpc0NsYXNzQmFzZWQpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IE5PX0NIQU5HRSAmJiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2dldFNlbGVjdGVkSW5kZXgoKV07XG4gICAgICAgIHVwZGF0ZVN0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgbFZpZXdbUkVOREVSRVJdLCBwcm9wLCBsVmlld1tiaW5kaW5nSW5kZXggKyAxXSA9IG5vcm1hbGl6ZVN1ZmZpeCh2YWx1ZSwgc3VmZml4KSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogQ29tbW9uIGNvZGUgYmV0d2VlbiBgybXJtWNsYXNzTWFwYCBhbmQgYMm1ybVzdHlsZU1hcGAuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXlTZXQgKFNlZSBga2V5VmFsdWVBcnJheVNldGAgaW4gXCJ1dGlsL2FycmF5X3V0aWxzXCIpIEdldHMgcGFzc2VkIGluIGFzIGFcbiAqICAgICAgICBmdW5jdGlvbiBzbyB0aGF0IGBzdHlsZWAgY2FuIGJlIHByb2Nlc3NlZC4gVGhpcyBpcyBkb25lIGZvciB0cmVlIHNoYWtpbmcgcHVycG9zZXMuXG4gKiBAcGFyYW0gc3RyaW5nUGFyc2VyIFBhcnNlciB1c2VkIHRvIHBhcnNlIGB2YWx1ZWAgaWYgYHN0cmluZ2AuIChQYXNzZWQgaW4gYXMgYHN0eWxlYCBhbmQgYGNsYXNzYFxuICogICAgICAgIGhhdmUgZGlmZmVyZW50IHBhcnNlcnMuKVxuICogQHBhcmFtIHZhbHVlIGJvdW5kIHZhbHVlIGZyb20gYXBwbGljYXRpb25cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgY2hhbmdlIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBzdHJpbmdQYXJzZXIsIHZhbHVlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gaW5jcmVtZW50QmluZGluZ0luZGV4KDIpO1xuICAgIGlmICh0Vmlldy5maXJzdFVwZGF0ZVBhc3MpIHtcbiAgICAgICAgc3R5bGluZ0ZpcnN0VXBkYXRlUGFzcyh0VmlldywgbnVsbCwgYmluZGluZ0luZGV4LCBpc0NsYXNzQmFzZWQpO1xuICAgIH1cbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgaWYgKHZhbHVlICE9PSBOT19DSEFOR0UgJiYgYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIC8vIGBnZXRTZWxlY3RlZEluZGV4KClgIHNob3VsZCBiZSBoZXJlIChyYXRoZXIgdGhhbiBpbiBpbnN0cnVjdGlvbikgc28gdGhhdCBpdCBpcyBndWFyZGVkIGJ5IHRoZVxuICAgICAgICAvLyBpZiBzbyBhcyBub3QgdG8gcmVhZCB1bm5lY2Vzc2FyaWx5LlxuICAgICAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbZ2V0U2VsZWN0ZWRJbmRleCgpXTtcbiAgICAgICAgaWYgKGhhc1N0eWxpbmdJbnB1dFNoYWRvdyh0Tm9kZSwgaXNDbGFzc0Jhc2VkKSAmJiAhaXNJbkhvc3RCaW5kaW5ncyh0VmlldywgYmluZGluZ0luZGV4KSkge1xuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgIC8vIHZlcmlmeSB0aGF0IGlmIHdlIGFyZSBzaGFkb3dpbmcgdGhlbiBgVERhdGFgIGlzIGFwcHJvcHJpYXRlbHkgbWFya2VkIHNvIHRoYXQgd2Ugc2tpcFxuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBiaW5kaW5nIGluIHN0eWxpbmcgcmVzb2x1dGlvbi5cbiAgICAgICAgICAgICAgICBjb25zdCB0U3R5bGluZ0tleSA9IHRWaWV3LmRhdGFbYmluZGluZ0luZGV4XTtcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5KSA/IHRTdHlsaW5nS2V5WzFdIDogdFN0eWxpbmdLZXksIGZhbHNlLCAnU3R5bGluZyBsaW5rZWQgbGlzdCBzaGFkb3cgaW5wdXQgc2hvdWxkIGJlIG1hcmtlZCBhcyBcXCdmYWxzZVxcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVkUgZG9lcyBub3QgY29uY2F0ZW5hdGUgdGhlIHN0YXRpYyBwb3J0aW9uIGxpa2Ugd2UgYXJlIGRvaW5nIGhlcmUuXG4gICAgICAgICAgICAvLyBJbnN0ZWFkIFZFIGp1c3QgaWdub3JlcyB0aGUgc3RhdGljIGNvbXBsZXRlbHkgaWYgZHluYW1pYyBiaW5kaW5nIGlzIHByZXNlbnQuXG4gICAgICAgICAgICAvLyBCZWNhdXNlIG9mIGxvY2FsaXR5IHdlIGhhdmUgYWxyZWFkeSBzZXQgdGhlIHN0YXRpYyBwb3J0aW9uIGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBpZiB0aGVyZVxuICAgICAgICAgICAgLy8gaXMgYSBkeW5hbWljIHBvcnRpb24gdW50aWwgbGF0ZXIuIElmIHdlIHdvdWxkIGlnbm9yZSB0aGUgc3RhdGljIHBvcnRpb24gaXQgd291bGQgbG9vayBsaWtlXG4gICAgICAgICAgICAvLyB0aGUgYmluZGluZyBoYXMgcmVtb3ZlZCBpdC4gVGhpcyB3b3VsZCBjb25mdXNlIGBbbmdTdHlsZV1gL2BbbmdDbGFzc11gIHRvIGRvIHRoZSB3cm9uZ1xuICAgICAgICAgICAgLy8gdGhpbmcgYXMgaXQgd291bGQgdGhpbmsgdGhhdCB0aGUgc3RhdGljIHBvcnRpb24gd2FzIHJlbW92ZWQuIEZvciB0aGlzIHJlYXNvbiB3ZVxuICAgICAgICAgICAgLy8gY29uY2F0ZW5hdGUgaXQgc28gdGhhdCBgW25nU3R5bGVdYC9gW25nQ2xhc3NdYCAgY2FuIGNvbnRpbnVlIHRvIHdvcmsgb24gY2hhbmdlZC5cbiAgICAgICAgICAgIGxldCBzdGF0aWNQcmVmaXggPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QgOiB0Tm9kZS5zdHlsZXNXaXRob3V0SG9zdDtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBpc0NsYXNzQmFzZWQgPT09IGZhbHNlICYmIHN0YXRpY1ByZWZpeCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHN0YXRpY1ByZWZpeC5lbmRzV2l0aCgnOycpLCB0cnVlLCAnRXhwZWN0aW5nIHN0YXRpYyBwb3J0aW9uIHRvIGVuZCB3aXRoIFxcJztcXCcnKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcmVmaXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSB0aGF0IGZhbHN5IHZhbHVlcyBvZiBgdmFsdWVgIGJlY29tZSBlbXB0eSBzdHJpbmdzLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gY29uY2F0U3RyaW5nc1dpdGhTcGFjZShzdGF0aWNQcmVmaXgsIHZhbHVlID8gdmFsdWUgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHaXZlbiBgPGRpdiBbc3R5bGVdIG15LWRpcj5gIHN1Y2ggdGhhdCBgbXktZGlyYCBoYXMgYEBJbnB1dCgnc3R5bGUnKWAuXG4gICAgICAgICAgICAvLyBUaGlzIHRha2VzIG92ZXIgdGhlIGBbc3R5bGVdYCBiaW5kaW5nLiAoU2FtZSBmb3IgYFtjbGFzc11gKVxuICAgICAgICAgICAgc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCB2YWx1ZSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVN0eWxpbmdNYXAodFZpZXcsIHROb2RlLCBsVmlldywgbFZpZXdbUkVOREVSRVJdLCBsVmlld1tiaW5kaW5nSW5kZXggKyAxXSwgbFZpZXdbYmluZGluZ0luZGV4ICsgMV0gPSB0b1N0eWxpbmdLZXlWYWx1ZUFycmF5KGtleVZhbHVlQXJyYXlTZXQsIHN0cmluZ1BhcnNlciwgdmFsdWUpLCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgd2hlbiB0aGUgYmluZGluZyBpcyBpbiBgaG9zdEJpbmRpbmdzYCBzZWN0aW9uXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIGJpbmRpbmdJbmRleCBpbmRleCBvZiBiaW5kaW5nIHdoaWNoIHdlIHdvdWxkIGxpa2UgaWYgaXQgaXMgaW4gYGhvc3RCaW5kaW5nc2BcbiAqL1xuZnVuY3Rpb24gaXNJbkhvc3RCaW5kaW5ncyh0VmlldywgYmluZGluZ0luZGV4KSB7XG4gICAgLy8gQWxsIGhvc3QgYmluZGluZ3MgYXJlIHBsYWNlZCBhZnRlciB0aGUgZXhwYW5kbyBzZWN0aW9uLlxuICAgIHJldHVybiBiaW5kaW5nSW5kZXggPj0gdFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXg7XG59XG4vKipcbiAqIENvbGxlY3RzIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gaW5zZXJ0IHRoZSBiaW5kaW5nIGludG8gYSBsaW5rZWQgbGlzdCBvZiBzdHlsZSBiaW5kaW5nc1xuICogdXNpbmcgYGluc2VydFRTdHlsaW5nQmluZGluZ2AuXG4gKlxuICogQHBhcmFtIHRWaWV3IGBUVmlld2Agd2hlcmUgdGhlIGJpbmRpbmcgbGlua2VkIGxpc3Qgd2lsbCBiZSBzdG9yZWQuXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXkgUHJvcGVydHkva2V5IG9mIHRoZSBiaW5kaW5nLlxuICogQHBhcmFtIGJpbmRpbmdJbmRleCBJbmRleCBvZiBiaW5kaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb3BgXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIGNoYW5nZSAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBzdHlsaW5nRmlyc3RVcGRhdGVQYXNzKHRWaWV3LCB0U3R5bGluZ0tleSwgYmluZGluZ0luZGV4LCBpc0NsYXNzQmFzZWQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCB0RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgaWYgKHREYXRhW2JpbmRpbmdJbmRleCArIDFdID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRoZSBhYm92ZSBjaGVjayBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBkb24ndCBjbGVhciBmaXJzdCB1cGRhdGUgcGFzcyB1bnRpbCBmaXJzdCBzdWNjZXNzZnVsXG4gICAgICAgIC8vIChubyBleGNlcHRpb24pIHRlbXBsYXRlIGV4ZWN1dGlvbi4gVGhpcyBwcmV2ZW50cyB0aGUgc3R5bGluZyBpbnN0cnVjdGlvbiBmcm9tIGRvdWJsZSBhZGRpbmdcbiAgICAgICAgLy8gaXRzZWxmIHRvIHRoZSBsaXN0LlxuICAgICAgICAvLyBgZ2V0U2VsZWN0ZWRJbmRleCgpYCBzaG91bGQgYmUgaGVyZSAocmF0aGVyIHRoYW4gaW4gaW5zdHJ1Y3Rpb24pIHNvIHRoYXQgaXQgaXMgZ3VhcmRlZCBieSB0aGVcbiAgICAgICAgLy8gaWYgc28gYXMgbm90IHRvIHJlYWQgdW5uZWNlc3NhcmlseS5cbiAgICAgICAgY29uc3QgdE5vZGUgPSB0RGF0YVtnZXRTZWxlY3RlZEluZGV4KCldO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIGV4cGVjdGVkJyk7XG4gICAgICAgIGNvbnN0IGlzSG9zdEJpbmRpbmdzID0gaXNJbkhvc3RCaW5kaW5ncyh0VmlldywgYmluZGluZ0luZGV4KTtcbiAgICAgICAgaWYgKGhhc1N0eWxpbmdJbnB1dFNoYWRvdyh0Tm9kZSwgaXNDbGFzc0Jhc2VkKSAmJiB0U3R5bGluZ0tleSA9PT0gbnVsbCAmJiAhaXNIb3N0QmluZGluZ3MpIHtcbiAgICAgICAgICAgIC8vIGB0U3R5bGluZ0tleSA9PT0gbnVsbGAgaW1wbGllcyB0aGF0IHdlIGFyZSBlaXRoZXIgYFtzdHlsZV1gIG9yIGBbY2xhc3NdYCBiaW5kaW5nLlxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBkaXJlY3RpdmUgd2hpY2ggdXNlcyBgQElucHV0KCdzdHlsZScpYCBvciBgQElucHV0KCdjbGFzcycpYCB0aGFuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIG5ldXRyYWxpemUgdGhpcyBiaW5kaW5nIHNpbmNlIHRoYXQgZGlyZWN0aXZlIGlzIHNoYWRvd2luZyBpdC5cbiAgICAgICAgICAgIC8vIFdlIHR1cm4gdGhpcyBpbnRvIGEgbm9vcCBieSBzZXR0aW5nIHRoZSBrZXkgdG8gYGZhbHNlYFxuICAgICAgICAgICAgdFN0eWxpbmdLZXkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0U3R5bGluZ0tleSA9IHdyYXBJblN0YXRpY1N0eWxpbmdLZXkodERhdGEsIHROb2RlLCB0U3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgaW5zZXJ0VFN0eWxpbmdCaW5kaW5nKHREYXRhLCB0Tm9kZSwgdFN0eWxpbmdLZXksIGJpbmRpbmdJbmRleCwgaXNIb3N0QmluZGluZ3MsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxufVxuLyoqXG4gKiBBZGRzIHN0YXRpYyBzdHlsaW5nIGluZm9ybWF0aW9uIHRvIHRoZSBiaW5kaW5nIGlmIGFwcGxpY2FibGUuXG4gKlxuICogVGhlIGxpbmtlZCBsaXN0IG9mIHN0eWxlcyBub3Qgb25seSBzdG9yZXMgdGhlIGxpc3QgYW5kIGtleXMsIGJ1dCBhbHNvIHN0b3JlcyBzdGF0aWMgc3R5bGluZ1xuICogaW5mb3JtYXRpb24gb24gc29tZSBvZiB0aGUga2V5cy4gVGhpcyBmdW5jdGlvbiBkZXRlcm1pbmVzIGlmIHRoZSBrZXkgc2hvdWxkIGNvbnRhaW4gdGhlIHN0eWxpbmdcbiAqIGluZm9ybWF0aW9uIGFuZCBjb21wdXRlcyBpdC5cbiAqXG4gKiBTZWUgYFRTdHlsaW5nU3RhdGljYCBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3Igd2hpY2ggdGhlIHN0eWxpbmcgaXMgYmVpbmcgY29tcHV0ZWQuXG4gKiBAcGFyYW0gc3R5bGluZ0tleSBgVFN0eWxpbmdLZXlQcmltaXRpdmVgIHdoaWNoIG1heSBuZWVkIHRvIGJlIHdyYXBwZWQgaW50byBgVFN0eWxpbmdLZXlgXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIHdyYXBJblN0YXRpY1N0eWxpbmdLZXkodERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCBob3N0RGlyZWN0aXZlRGVmID0gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0RGF0YSk7XG4gICAgbGV0IHJlc2lkdWFsID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXM7XG4gICAgaWYgKGhvc3REaXJlY3RpdmVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgLy8gV2UgYXJlIGluIHRlbXBsYXRlIG5vZGUuXG4gICAgICAgIC8vIElmIHRlbXBsYXRlIG5vZGUgYWxyZWFkeSBoYWQgc3R5bGluZyBpbnN0cnVjdGlvbiB0aGVuIGl0IGhhcyBhbHJlYWR5IGNvbGxlY3RlZCB0aGUgc3RhdGljXG4gICAgICAgIC8vIHN0eWxpbmcgYW5kIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29sbGVjdCB0aGVtIGFnYWluLiBXZSBrbm93IHRoYXQgd2UgYXJlIHRoZSBmaXJzdCBzdHlsaW5nXG4gICAgICAgIC8vIGluc3RydWN0aW9uIGJlY2F1c2UgdGhlIGBUTm9kZS4qQmluZGluZ3NgIHBvaW50cyB0byAwIChub3RoaW5nIGhhcyBiZWVuIGluc2VydGVkIHlldCkuXG4gICAgICAgIGNvbnN0IGlzRmlyc3RTdHlsaW5nSW5zdHJ1Y3Rpb25JblRlbXBsYXRlID0gKGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzQmluZGluZ3MgOiB0Tm9kZS5zdHlsZUJpbmRpbmdzKSA9PT0gMDtcbiAgICAgICAgaWYgKGlzRmlyc3RTdHlsaW5nSW5zdHJ1Y3Rpb25JblRlbXBsYXRlKSB7XG4gICAgICAgICAgICAvLyBJdCB3b3VsZCBiZSBuaWNlIHRvIGJlIGFibGUgdG8gZ2V0IHRoZSBzdGF0aWNzIGZyb20gYG1lcmdlQXR0cnNgLCBob3dldmVyLCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICAvLyB0aGV5IGFyZSBhbHJlYWR5IG1lcmdlZCBhbmQgaXQgd291bGQgbm90IGJlIHBvc3NpYmxlIHRvIGZpZ3VyZSB3aGljaCBwcm9wZXJ0eSBiZWxvbmdzIHdoZXJlXG4gICAgICAgICAgICAvLyBpbiB0aGUgcHJpb3JpdHkuXG4gICAgICAgICAgICBzdHlsaW5nS2V5ID0gY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyhudWxsLCB0RGF0YSwgdE5vZGUsIHN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICBzdHlsaW5nS2V5ID0gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHN0eWxpbmdLZXksIHROb2RlLmF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgLy8gV2Uga25vdyB0aGF0IGlmIHdlIGhhdmUgc3R5bGluZyBiaW5kaW5nIGluIHRlbXBsYXRlIHdlIGNhbid0IGhhdmUgcmVzaWR1YWwuXG4gICAgICAgICAgICByZXNpZHVhbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbiBob3N0IGJpbmRpbmcgbm9kZSBhbmQgdGhlcmUgd2FzIG5vIGJpbmRpbmcgaW5zdHJ1Y3Rpb24gaW4gdGVtcGxhdGUgbm9kZS5cbiAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHdlIG5lZWQgdG8gY29tcHV0ZSB0aGUgcmVzaWR1YWwuXG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gdE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RTdHlsaW5nSW5zdHJ1Y3Rpb25Jbkhvc3RCaW5kaW5nID0gZGlyZWN0aXZlU3R5bGluZ0xhc3QgPT09IC0xIHx8IHREYXRhW2RpcmVjdGl2ZVN0eWxpbmdMYXN0XSAhPT0gaG9zdERpcmVjdGl2ZURlZjtcbiAgICAgICAgaWYgKGlzRmlyc3RTdHlsaW5nSW5zdHJ1Y3Rpb25Jbkhvc3RCaW5kaW5nKSB7XG4gICAgICAgICAgICBzdHlsaW5nS2V5ID1cbiAgICAgICAgICAgICAgICBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKGhvc3REaXJlY3RpdmVEZWYsIHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIGlmIChyZXNpZHVhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIC0gSWYgYG51bGxgIHRoYW4gZWl0aGVyOlxuICAgICAgICAgICAgICAgIC8vICAgIC0gVGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbiBhbHJlYWR5IHJhbiBhbmQgaXQgaGFzIGNvbnN1bWVkIHRoZSBzdGF0aWNcbiAgICAgICAgICAgICAgICAvLyAgICAgIHN0eWxpbmcgaW50byBpdHMgYFRTdHlsaW5nS2V5YCBhbmQgc28gdGhlcmUgaXMgbm8gbmVlZCB0byB1cGRhdGUgcmVzaWR1YWwuIEluc3RlYWRcbiAgICAgICAgICAgICAgICAvLyAgICAgIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBgVFN0eWxpbmdLZXlgIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlyc3QgdGVtcGxhdGUgbm9kZVxuICAgICAgICAgICAgICAgIC8vICAgICAgaW5zdHJ1Y3Rpb24uIE9SXG4gICAgICAgICAgICAgICAgLy8gICAgLSBTb21lIG90aGVyIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gcmFuIGFuZCBkZXRlcm1pbmVkIHRoYXQgdGhlcmUgYXJlIG5vIHJlc2lkdWFsc1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZVN0eWxpbmdLZXkgPSBnZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlU3R5bGluZ0tleSAhPT0gdW5kZWZpbmVkICYmIEFycmF5LmlzQXJyYXkodGVtcGxhdGVTdHlsaW5nS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlY29tcHV0ZSBpZiBgdGVtcGxhdGVTdHlsaW5nS2V5YCBoYWQgc3RhdGljIHZhbHVlcy4gKElmIG5vIHN0YXRpYyB2YWx1ZSBmb3VuZFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG8gc2luY2UgdGhpcyBvcGVyYXRpb24gY2FuIG9ubHkgcHJvZHVjZSBsZXNzIHN0YXRpYyBrZXlzLCBub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gbW9yZS4pXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlU3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMobnVsbCwgdERhdGEsIHROb2RlLCB0ZW1wbGF0ZVN0eWxpbmdLZXlbMV0gLyogdW53cmFwIHByZXZpb3VzIHN0YXRpY3MgKi8sIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlU3R5bGluZ0tleSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnModGVtcGxhdGVTdHlsaW5nS2V5LCB0Tm9kZS5hdHRycywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQsIHRlbXBsYXRlU3R5bGluZ0tleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugb25seSBuZWVkIHRvIHJlY29tcHV0ZSByZXNpZHVhbCBpZiBpdCBpcyBub3QgYG51bGxgLlxuICAgICAgICAgICAgICAgIC8vIC0gSWYgZXhpc3RpbmcgcmVzaWR1YWwgKGltcGxpZXMgdGhlcmUgd2FzIG5vIHRlbXBsYXRlIHN0eWxpbmcpLiBUaGlzIG1lYW5zIHRoYXQgc29tZSBvZlxuICAgICAgICAgICAgICAgIC8vICAgdGhlIHN0YXRpY3MgbWF5IGhhdmUgbW92ZWQgZnJvbSB0aGUgcmVzaWR1YWwgdG8gdGhlIGBzdHlsaW5nS2V5YCBhbmQgc28gd2UgaGF2ZSB0b1xuICAgICAgICAgICAgICAgIC8vICAgcmVjb21wdXRlLlxuICAgICAgICAgICAgICAgIC8vIC0gSWYgYHVuZGVmaW5lZGAgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB3ZSBhcmUgcnVubmluZy5cbiAgICAgICAgICAgICAgICByZXNpZHVhbCA9IGNvbGxlY3RSZXNpZHVhbCh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2lkdWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNDbGFzc0Jhc2VkID8gKHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA9IHJlc2lkdWFsKSA6ICh0Tm9kZS5yZXNpZHVhbFN0eWxlcyA9IHJlc2lkdWFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxpbmdLZXk7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSBgVFN0eWxpbmdLZXlgIGZvciB0aGUgdGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbi5cbiAqXG4gKiBUaGlzIGlzIG5lZWRlZCBzaW5jZSBgaG9zdEJpbmRpbmdgIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zIGFyZSBpbnNlcnRlZCBhZnRlciB0aGUgdGVtcGxhdGVcbiAqIGluc3RydWN0aW9uLiBXaGlsZSB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gbmVlZHMgdG8gdXBkYXRlIHRoZSByZXNpZHVhbCBpbiBgVE5vZGVgIHRoZVxuICogYGhvc3RCaW5kaW5nYCBpbnN0cnVjdGlvbnMgbmVlZCB0byB1cGRhdGUgdGhlIGBUU3R5bGluZ0tleWAgb2YgdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIGJlY2F1c2VcbiAqIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBpcyBkb3duc3RyZWFtIGZyb20gdGhlIGBob3N0QmluZGluZ3NgIGluc3RydWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIHdoaWNoIHRoZSBzdHlsaW5nIGlzIGJlaW5nIGNvbXB1dGVkLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICogQHJldHVybiBgVFN0eWxpbmdLZXlgIGlmIGZvdW5kIG9yIGB1bmRlZmluZWRgIGlmIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZ2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCBiaW5kaW5ncyA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzQmluZGluZ3MgOiB0Tm9kZS5zdHlsZUJpbmRpbmdzO1xuICAgIGlmIChnZXRUU3R5bGluZ1JhbmdlTmV4dChiaW5kaW5ncykgPT09IDApIHtcbiAgICAgICAgLy8gVGhlcmUgZG9lcyBub3Qgc2VlbSB0byBiZSBhIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gaW4gdGhlIGB0ZW1wbGF0ZWAuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0RGF0YVtnZXRUU3R5bGluZ1JhbmdlUHJldihiaW5kaW5ncyldO1xufVxuLyoqXG4gKiBVcGRhdGUgdGhlIGBUU3R5bGluZ0tleWAgb2YgdGhlIGZpcnN0IHRlbXBsYXRlIGluc3RydWN0aW9uIGluIGBUTm9kZWAuXG4gKlxuICogTG9naWNhbGx5IGBob3N0QmluZGluZ3NgIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zIGFyZSBvZiBsb3dlciBwcmlvcml0eSB0aGFuIHRoYXQgb2YgdGhlIHRlbXBsYXRlLlxuICogSG93ZXZlciwgdGhleSBleGVjdXRlIGFmdGVyIHRoZSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9ucy4gVGhpcyBtZWFucyB0aGF0IHRoZXkgZ2V0IGluc2VydGVkXG4gKiBpbiBmcm9udCBvZiB0aGUgdGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbnMuXG4gKlxuICogSWYgd2UgaGF2ZSBhIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gYW5kIGEgbmV3IGBob3N0QmluZGluZ3NgIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gaXNcbiAqIGV4ZWN1dGVkIGl0IG1lYW5zIHRoYXQgaXQgbWF5IG5lZWQgdG8gc3RlYWwgc3RhdGljIGZpZWxkcyBmcm9tIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbi4gVGhpc1xuICogbWV0aG9kIGFsbG93cyB1cyB0byB1cGRhdGUgdGhlIGZpcnN0IHRlbXBsYXRlIGluc3RydWN0aW9uIGBUU3R5bGluZ0tleWAgd2l0aCBhIG5ldyB2YWx1ZS5cbiAqXG4gKiBBc3N1bWU6XG4gKiBgYGBcbiAqIDxkaXYgbXktZGlyIHN0eWxlPVwiY29sb3I6IHJlZFwiIFtzdHlsZS5jb2xvcl09XCJ0bXBsRXhwXCI+PC9kaXY+XG4gKlxuICogQERpcmVjdGl2ZSh7XG4gKiAgIGhvc3Q6IHtcbiAqICAgICAnc3R5bGUnOiAnd2lkdGg6IDEwMHB4JyxcbiAqICAgICAnW3N0eWxlLmNvbG9yXSc6ICdkaXJFeHAnLFxuICogICB9XG4gKiB9KVxuICogY2xhc3MgTXlEaXIge31cbiAqIGBgYFxuICpcbiAqIHdoZW4gYFtzdHlsZS5jb2xvcl09XCJ0bXBsRXhwXCJgIGV4ZWN1dGVzIGl0IGNyZWF0ZXMgdGhpcyBkYXRhIHN0cnVjdHVyZS5cbiAqIGBgYFxuICogIFsnJywgJ2NvbG9yJywgJ2NvbG9yJywgJ3JlZCcsICd3aWR0aCcsICcxMDBweCddLFxuICogYGBgXG4gKlxuICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBkb2VzIG5vdCBrbm93IGlmIHRoZXJlIGFyZSBzdHlsaW5nXG4gKiBpbnN0cnVjdGlvbnMgYW5kIG11c3QgYXNzdW1lIHRoYXQgdGhlcmUgYXJlIG5vbmUgYW5kIG11c3QgY29sbGVjdCBhbGwgb2YgdGhlIHN0YXRpYyBzdHlsaW5nLlxuICogKGJvdGhcbiAqIGBjb2xvcicgYW5kICd3aWR0aGApXG4gKlxuICogV2hlbiBgJ1tzdHlsZS5jb2xvcl0nOiAnZGlyRXhwJyxgIGV4ZWN1dGVzIHdlIG5lZWQgdG8gaW5zZXJ0IGEgbmV3IGRhdGEgaW50byB0aGUgbGlua2VkIGxpc3QuXG4gKiBgYGBcbiAqICBbJycsICdjb2xvcicsICd3aWR0aCcsICcxMDBweCddLCAgLy8gbmV3bHkgaW5zZXJ0ZWRcbiAqICBbJycsICdjb2xvcicsICdjb2xvcicsICdyZWQnLCAnd2lkdGgnLCAnMTAwcHgnXSwgLy8gdGhpcyBpcyB3cm9uZ1xuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgdGhlIHRlbXBsYXRlIHN0YXRpY3MgaXMgbm93IHdyb25nIGFzIGl0IGluY29ycmVjdGx5IGNvbnRhaW5zIGB3aWR0aGAgc28gd2UgbmVlZCB0b1xuICogdXBkYXRlIGl0IGxpa2Ugc286XG4gKiBgYGBcbiAqICBbJycsICdjb2xvcicsICd3aWR0aCcsICcxMDBweCddLFxuICogIFsnJywgJ2NvbG9yJywgJ2NvbG9yJywgJ3JlZCddLCAgICAvLyBVUERBVEVcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCBmb3Igd2hpY2ggdGhlIHN0eWxpbmcgaXMgYmVpbmcgY29tcHV0ZWQuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXkgTmV3IGBUU3R5bGluZ0tleWAgd2hpY2ggaXMgcmVwbGFjaW5nIHRoZSBvbGQgb25lLlxuICovXG5mdW5jdGlvbiBzZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCwgdFN0eWxpbmdLZXkpIHtcbiAgICBjb25zdCBiaW5kaW5ncyA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzQmluZGluZ3MgOiB0Tm9kZS5zdHlsZUJpbmRpbmdzO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChnZXRUU3R5bGluZ1JhbmdlTmV4dChiaW5kaW5ncyksIDAsICdFeHBlY3RpbmcgdG8gaGF2ZSBhdCBsZWFzdCBvbmUgdGVtcGxhdGUgc3R5bGluZyBiaW5kaW5nLicpO1xuICAgIHREYXRhW2dldFRTdHlsaW5nUmFuZ2VQcmV2KGJpbmRpbmdzKV0gPSB0U3R5bGluZ0tleTtcbn1cbi8qKlxuICogQ29sbGVjdCBhbGwgc3RhdGljIHZhbHVlcyBhZnRlciB0aGUgY3VycmVudCBgVE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3RgIGluZGV4LlxuICpcbiAqIENvbGxlY3QgdGhlIHJlbWFpbmluZyBzdHlsaW5nIGluZm9ybWF0aW9uIHdoaWNoIGhhcyBub3QgeWV0IGJlZW4gY29sbGVjdGVkIGJ5IGFuIGV4aXN0aW5nXG4gKiBzdHlsaW5nIGluc3RydWN0aW9uLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBgRGlyZWN0aXZlRGVmc2AgYXJlIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHdoaWNoIGNvbnRhaW5zIHRoZSBkaXJlY3RpdmUgcmFuZ2UuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RSZXNpZHVhbCh0RGF0YSwgdE5vZGUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGxldCByZXNpZHVhbCA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkaXJlY3RpdmVFbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0LCAtMSwgJ0J5IHRoZSB0aW1lIHRoaXMgZnVuY3Rpb24gZ2V0cyBjYWxsZWQgYXQgbGVhc3Qgb25lIGhvc3RCaW5kaW5ncy1ub2RlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gbXVzdCBoYXZlIGV4ZWN1dGVkLicpO1xuICAgIC8vIFdlIGFkZCBgMSArIHROb2RlLmRpcmVjdGl2ZVN0YXJ0YCBiZWNhdXNlIHdlIG5lZWQgdG8gc2tpcCB0aGUgY3VycmVudCBkaXJlY3RpdmUgKGFzIHdlIGFyZVxuICAgIC8vIGNvbGxlY3RpbmcgdGhpbmdzIGFmdGVyIHRoZSBsYXN0IGBob3N0QmluZGluZ3NgIGRpcmVjdGl2ZSB3aGljaCBoYWQgYSBzdHlsaW5nIGluc3RydWN0aW9uLilcbiAgICBmb3IgKGxldCBpID0gMSArIHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0OyBpIDwgZGlyZWN0aXZlRW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB0RGF0YVtpXS5ob3N0QXR0cnM7XG4gICAgICAgIHJlc2lkdWFsID0gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHJlc2lkdWFsLCBhdHRycywgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhyZXNpZHVhbCwgdE5vZGUuYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG59XG4vKipcbiAqIENvbGxlY3QgdGhlIHN0YXRpYyBzdHlsaW5nIGluZm9ybWF0aW9uIHdpdGggbG93ZXIgcHJpb3JpdHkgdGhhbiBgaG9zdERpcmVjdGl2ZURlZmAuXG4gKlxuICogKFRoaXMgaXMgb3Bwb3NpdGUgb2YgcmVzaWR1YWwgc3R5bGluZy4pXG4gKlxuICogQHBhcmFtIGhvc3REaXJlY3RpdmVEZWYgYERpcmVjdGl2ZURlZmAgZm9yIHdoaWNoIHdlIHdhbnQgdG8gY29sbGVjdCBsb3dlciBwcmlvcml0eSBzdGF0aWNcbiAqICAgICAgICBzdHlsaW5nLiAoT3IgYG51bGxgIGlmIHRlbXBsYXRlIHN0eWxpbmcpXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIHdoaWNoIHRoZSBzdHlsaW5nIGlzIGJlaW5nIGNvbXB1dGVkLlxuICogQHBhcmFtIHN0eWxpbmdLZXkgRXhpc3RpbmcgYFRTdHlsaW5nS2V5YCB0byB1cGRhdGUgb3Igd3JhcC5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyhob3N0RGlyZWN0aXZlRGVmLCB0RGF0YSwgdE5vZGUsIHN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCkge1xuICAgIC8vIFdlIG5lZWQgdG8gbG9vcCBiZWNhdXNlIHRoZXJlIGNhbiBiZSBkaXJlY3RpdmVzIHdoaWNoIGhhdmUgYGhvc3RBdHRyc2AgYnV0IGRvbid0IGhhdmVcbiAgICAvLyBgaG9zdEJpbmRpbmdzYCBzbyB0aGlzIGxvb3AgY2F0Y2hlcyB1cCB0byB0aGUgY3VycmVudCBkaXJlY3RpdmUuLlxuICAgIGxldCBjdXJyZW50RGlyZWN0aXZlID0gbnVsbDtcbiAgICBjb25zdCBkaXJlY3RpdmVFbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgbGV0IGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gdE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7XG4gICAgaWYgKGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID09PSAtMSkge1xuICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QrKztcbiAgICB9XG4gICAgd2hpbGUgKGRpcmVjdGl2ZVN0eWxpbmdMYXN0IDwgZGlyZWN0aXZlRW5kKSB7XG4gICAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSB0RGF0YVtkaXJlY3RpdmVTdHlsaW5nTGFzdF07XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGN1cnJlbnREaXJlY3RpdmUsICdleHBlY3RlZCB0byBiZSBkZWZpbmVkJyk7XG4gICAgICAgIHN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMoc3R5bGluZ0tleSwgY3VycmVudERpcmVjdGl2ZS5ob3N0QXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgIGlmIChjdXJyZW50RGlyZWN0aXZlID09PSBob3N0RGlyZWN0aXZlRGVmKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0Kys7XG4gICAgfVxuICAgIGlmIChob3N0RGlyZWN0aXZlRGVmICE9PSBudWxsKSB7XG4gICAgICAgIC8vIHdlIG9ubHkgYWR2YW5jZSB0aGUgc3R5bGluZyBjdXJzb3IgaWYgd2UgYXJlIGNvbGxlY3RpbmcgZGF0YSBmcm9tIGhvc3QgYmluZGluZ3MuXG4gICAgICAgIC8vIFRlbXBsYXRlIGV4ZWN1dGVzIGJlZm9yZSBob3N0IGJpbmRpbmdzIGFuZCBzbyBpZiB3ZSB3b3VsZCB1cGRhdGUgdGhlIGluZGV4LFxuICAgICAgICAvLyBob3N0IGJpbmRpbmdzIHdvdWxkIG5vdCBnZXQgdGhlaXIgc3RhdGljcy5cbiAgICAgICAgdE5vZGUuZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSBkaXJlY3RpdmVTdHlsaW5nTGFzdDtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxpbmdLZXk7XG59XG4vKipcbiAqIENvbnZlcnQgYFRBdHRyc2AgaW50byBgVFN0eWxpbmdTdGF0aWNgLlxuICpcbiAqIEBwYXJhbSBzdHlsaW5nS2V5IGV4aXN0aW5nIGBUU3R5bGluZ0tleWAgdG8gdXBkYXRlIG9yIHdyYXAuXG4gKiBAcGFyYW0gYXR0cnMgYFRBdHRyaWJ1dGVzYCB0byBwcm9jZXNzLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMoc3R5bGluZ0tleSwgYXR0cnMsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IGRlc2lyZWRNYXJrZXIgPSBpc0NsYXNzQmFzZWQgPyAxIC8qIENsYXNzZXMgKi8gOiAyIC8qIFN0eWxlcyAqLztcbiAgICBsZXQgY3VycmVudE1hcmtlciA9IC0xIC8qIEltcGxpY2l0QXR0cmlidXRlcyAqLztcbiAgICBpZiAoYXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRNYXJrZXIgPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNYXJrZXIgPT09IGRlc2lyZWRNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxpbmdLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsaW5nS2V5ID0gc3R5bGluZ0tleSA9PT0gdW5kZWZpbmVkID8gW10gOiBbJycsIHN0eWxpbmdLZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGtleVZhbHVlQXJyYXlTZXQoc3R5bGluZ0tleSwgaXRlbSwgaXNDbGFzc0Jhc2VkID8gdHJ1ZSA6IGF0dHJzWysraV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGluZ0tleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHN0eWxpbmdLZXk7XG59XG4vKipcbiAqIENvbnZlcnQgdXNlciBpbnB1dCB0byBgS2V5VmFsdWVBcnJheWAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyB1c2VyIGlucHV0IHdoaWNoIGNvdWxkIGJlIGBzdHJpbmdgLCBPYmplY3QgbGl0ZXJhbCwgb3IgaXRlcmFibGUgYW5kIGNvbnZlcnRzXG4gKiBpdCBpbnRvIGEgY29uc2lzdGVudCByZXByZXNlbnRhdGlvbi4gVGhlIG91dHB1dCBvZiB0aGlzIGlzIGBLZXlWYWx1ZUFycmF5YCAod2hpY2ggaXMgYW4gYXJyYXlcbiAqIHdoZXJlXG4gKiBldmVuIGluZGV4ZXMgY29udGFpbiBrZXlzIGFuZCBvZGQgaW5kZXhlcyBjb250YWluIHZhbHVlcyBmb3IgdGhvc2Uga2V5cykuXG4gKlxuICogVGhlIGFkdmFudGFnZSBvZiBjb252ZXJ0aW5nIHRvIGBLZXlWYWx1ZUFycmF5YCBpcyB0aGF0IHdlIGNhbiBwZXJmb3JtIGRpZmYgaW4gYW4gaW5wdXRcbiAqIGluZGVwZW5kZW50XG4gKiB3YXkuXG4gKiAoaWUgd2UgY2FuIGNvbXBhcmUgYGZvbyBiYXJgIHRvIGBbJ2JhcicsICdiYXonXSBhbmQgZGV0ZXJtaW5lIGEgc2V0IG9mIGNoYW5nZXMgd2hpY2ggbmVlZCB0byBiZVxuICogYXBwbGllZClcbiAqXG4gKiBUaGUgZmFjdCB0aGF0IGBLZXlWYWx1ZUFycmF5YCBpcyBzb3J0ZWQgaXMgdmVyeSBpbXBvcnRhbnQgYmVjYXVzZSBpdCBhbGxvd3MgdXMgdG8gY29tcHV0ZSB0aGVcbiAqIGRpZmZlcmVuY2UgaW4gbGluZWFyIGZhc2hpb24gd2l0aG91dCB0aGUgbmVlZCB0byBhbGxvY2F0ZSBhbnkgYWRkaXRpb25hbCBkYXRhLlxuICpcbiAqIEZvciBleGFtcGxlIGlmIHdlIGtlcHQgdGhpcyBhcyBhIGBNYXBgIHdlIHdvdWxkIGhhdmUgdG8gaXRlcmF0ZSBvdmVyIHByZXZpb3VzIGBNYXBgIHRvIGRldGVybWluZVxuICogd2hpY2ggdmFsdWVzIG5lZWQgdG8gYmUgZGVsZXRlZCwgb3ZlciB0aGUgbmV3IGBNYXBgIHRvIGRldGVybWluZSBhZGRpdGlvbnMsIGFuZCB3ZSB3b3VsZCBoYXZlIHRvXG4gKiBrZWVwIGFkZGl0aW9uYWwgYE1hcGAgdG8ga2VlcCB0cmFjayBvZiBkdXBsaWNhdGVzIG9yIGl0ZW1zIHdoaWNoIGhhdmUgbm90IHlldCBiZWVuIHZpc2l0ZWQuXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXlTZXQgKFNlZSBga2V5VmFsdWVBcnJheVNldGAgaW4gXCJ1dGlsL2FycmF5X3V0aWxzXCIpIEdldHMgcGFzc2VkIGluIGFzIGFcbiAqICAgICAgICBmdW5jdGlvbiBzbyB0aGF0IGBzdHlsZWAgY2FuIGJlIHByb2Nlc3NlZC4gVGhpcyBpcyBkb25lXG4gKiAgICAgICAgZm9yIHRyZWUgc2hha2luZyBwdXJwb3Nlcy5cbiAqIEBwYXJhbSBzdHJpbmdQYXJzZXIgVGhlIHBhcnNlciBpcyBwYXNzZWQgaW4gc28gdGhhdCBpdCB3aWxsIGJlIHRyZWUgc2hha2FibGUuIFNlZVxuICogICAgICAgIGBzdHlsZVN0cmluZ1BhcnNlcmAgYW5kIGBjbGFzc1N0cmluZ1BhcnNlcmBcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFyc2UvY29udmVydCB0byBgS2V5VmFsdWVBcnJheWBcbiAqL1xuZnVuY3Rpb24gdG9TdHlsaW5nS2V5VmFsdWVBcnJheShrZXlWYWx1ZUFycmF5U2V0LCBzdHJpbmdQYXJzZXIsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgLyp8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICovIHx8IHZhbHVlID09PSAnJylcbiAgICAgICAgcmV0dXJuIEVNUFRZX0FSUkFZO1xuICAgIGNvbnN0IHN0eWxlS2V5VmFsdWVBcnJheSA9IFtdO1xuICAgIGNvbnN0IHVud3JhcHBlZFZhbHVlID0gdW53cmFwU2FmZVZhbHVlKHZhbHVlKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh1bndyYXBwZWRWYWx1ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bndyYXBwZWRWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAga2V5VmFsdWVBcnJheVNldChzdHlsZUtleVZhbHVlQXJyYXksIHVud3JhcHBlZFZhbHVlW2ldLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdW53cmFwcGVkVmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHVud3JhcHBlZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodW53cmFwcGVkVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGtleVZhbHVlQXJyYXlTZXQoc3R5bGVLZXlWYWx1ZUFycmF5LCBrZXksIHVud3JhcHBlZFZhbHVlW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB1bndyYXBwZWRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nUGFyc2VyKHN0eWxlS2V5VmFsdWVBcnJheSwgdW53cmFwcGVkVmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICB0aHJvd0Vycm9yKCdVbnN1cHBvcnRlZCBzdHlsaW5nIHR5cGUgJyArIHR5cGVvZiB1bndyYXBwZWRWYWx1ZSArICc6ICcgKyB1bndyYXBwZWRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZUtleVZhbHVlQXJyYXk7XG59XG4vKipcbiAqIFNldCBhIGB2YWx1ZWAgZm9yIGEgYGtleWAuXG4gKlxuICogU2VlOiBga2V5VmFsdWVBcnJheVNldGAgZm9yIGRldGFpbHNcbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSBLZXlWYWx1ZUFycmF5IHRvIGFkZCB0by5cbiAqIEBwYXJhbSBrZXkgU3R5bGUga2V5IHRvIGFkZC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzdHlsZUtleVZhbHVlQXJyYXlTZXQoa2V5VmFsdWVBcnJheSwga2V5LCB2YWx1ZSkge1xuICAgIGtleVZhbHVlQXJyYXlTZXQoa2V5VmFsdWVBcnJheSwga2V5LCB1bndyYXBTYWZlVmFsdWUodmFsdWUpKTtcbn1cbi8qKlxuICogVXBkYXRlIG1hcCBiYXNlZCBzdHlsaW5nLlxuICpcbiAqIE1hcCBiYXNlZCBzdHlsaW5nIGNvdWxkIGJlIGFueXRoaW5nIHdoaWNoIGNvbnRhaW5zIG1vcmUgdGhhbiBvbmUgYmluZGluZy4gRm9yIGV4YW1wbGUgYHN0cmluZ2AsXG4gKiBvciBvYmplY3QgbGl0ZXJhbC4gRGVhbGluZyB3aXRoIGFsbCBvZiB0aGVzZSB0eXBlcyB3b3VsZCBjb21wbGljYXRlIHRoZSBsb2dpYyBzb1xuICogaW5zdGVhZCB0aGlzIGZ1bmN0aW9uIGV4cGVjdHMgdGhhdCB0aGUgY29tcGxleCBpbnB1dCBpcyBmaXJzdCBjb252ZXJ0ZWQgaW50byBub3JtYWxpemVkXG4gKiBgS2V5VmFsdWVBcnJheWAuIFRoZSBhZHZhbnRhZ2Ugb2Ygbm9ybWFsaXphdGlvbiBpcyB0aGF0IHdlIGdldCB0aGUgdmFsdWVzIHNvcnRlZCwgd2hpY2ggbWFrZXMgaXRcbiAqIHZlcnkgY2hlYXAgdG8gY29tcHV0ZSBkZWx0YXMgYmV0d2VlbiB0aGUgcHJldmlvdXMgYW5kIGN1cnJlbnQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHRWaWV3IEFzc29jaWF0ZWQgYFRWaWV3LmRhdGFgIGNvbnRhaW5zIHRoZSBsaW5rZWQgbGlzdCBvZiBiaW5kaW5nIHByaW9yaXRpZXMuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGVyZSB0aGUgYmluZGluZyBpcyBsb2NhdGVkLlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgY29udGFpbnMgdGhlIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggb3RoZXIgc3R5bGluZyBiaW5kaW5nIGF0IHRoaXMgYFROb2RlYC5cbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2UgaWYgYW55IHVwZGF0ZXMuXG4gKiBAcGFyYW0gb2xkS2V5VmFsdWVBcnJheSBQcmV2aW91cyB2YWx1ZSByZXByZXNlbnRlZCBhcyBgS2V5VmFsdWVBcnJheWBcbiAqIEBwYXJhbSBuZXdLZXlWYWx1ZUFycmF5IEN1cnJlbnQgdmFsdWUgcmVwcmVzZW50ZWQgYXMgYEtleVZhbHVlQXJyYXlgXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKiBAcGFyYW0gYmluZGluZ0luZGV4IEJpbmRpbmcgaW5kZXggb2YgdGhlIGJpbmRpbmcuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxpbmdNYXAodFZpZXcsIHROb2RlLCBsVmlldywgcmVuZGVyZXIsIG9sZEtleVZhbHVlQXJyYXksIG5ld0tleVZhbHVlQXJyYXksIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KSB7XG4gICAgaWYgKG9sZEtleVZhbHVlQXJyYXkgPT09IE5PX0NIQU5HRSkge1xuICAgICAgICAvLyBPbiBmaXJzdCBleGVjdXRpb24gdGhlIG9sZEtleVZhbHVlQXJyYXkgaXMgTk9fQ0hBTkdFID0+IHRyZWF0IGl0IGFzIGVtcHR5IEtleVZhbHVlQXJyYXkuXG4gICAgICAgIG9sZEtleVZhbHVlQXJyYXkgPSBFTVBUWV9BUlJBWTtcbiAgICB9XG4gICAgbGV0IG9sZEluZGV4ID0gMDtcbiAgICBsZXQgbmV3SW5kZXggPSAwO1xuICAgIGxldCBvbGRLZXkgPSAwIDwgb2xkS2V5VmFsdWVBcnJheS5sZW5ndGggPyBvbGRLZXlWYWx1ZUFycmF5WzBdIDogbnVsbDtcbiAgICBsZXQgbmV3S2V5ID0gMCA8IG5ld0tleVZhbHVlQXJyYXkubGVuZ3RoID8gbmV3S2V5VmFsdWVBcnJheVswXSA6IG51bGw7XG4gICAgd2hpbGUgKG9sZEtleSAhPT0gbnVsbCB8fCBuZXdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuKG9sZEluZGV4LCA5OTksICdBcmUgd2Ugc3R1Y2sgaW4gaW5maW5pdGUgbG9vcD8nKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuKG5ld0luZGV4LCA5OTksICdBcmUgd2Ugc3R1Y2sgaW4gaW5maW5pdGUgbG9vcD8nKTtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBvbGRJbmRleCA8IG9sZEtleVZhbHVlQXJyYXkubGVuZ3RoID8gb2xkS2V5VmFsdWVBcnJheVtvbGRJbmRleCArIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG5ld0luZGV4IDwgbmV3S2V5VmFsdWVBcnJheS5sZW5ndGggPyBuZXdLZXlWYWx1ZUFycmF5W25ld0luZGV4ICsgMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBzZXRLZXkgPSBudWxsO1xuICAgICAgICBsZXQgc2V0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChvbGRLZXkgPT09IG5ld0tleSkge1xuICAgICAgICAgICAgLy8gVVBEQVRFOiBLZXlzIGFyZSBlcXVhbCA9PiBuZXcgdmFsdWUgaXMgb3ZlcndyaXRpbmcgb2xkIHZhbHVlLlxuICAgICAgICAgICAgb2xkSW5kZXggKz0gMjtcbiAgICAgICAgICAgIG5ld0luZGV4ICs9IDI7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0S2V5ID0gbmV3S2V5O1xuICAgICAgICAgICAgICAgIHNldFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3S2V5ID09PSBudWxsIHx8IG9sZEtleSAhPT0gbnVsbCAmJiBvbGRLZXkgPCBuZXdLZXkpIHtcbiAgICAgICAgICAgIC8vIERFTEVURTogb2xkS2V5IGtleSBpcyBtaXNzaW5nIG9yIHdlIGRpZCBub3QgZmluZCB0aGUgb2xkS2V5IGluIHRoZSBuZXdWYWx1ZVxuICAgICAgICAgICAgLy8gKGJlY2F1c2UgdGhlIGtleVZhbHVlQXJyYXkgaXMgc29ydGVkIGFuZCBgbmV3S2V5YCBpcyBmb3VuZCBsYXRlciBhbHBoYWJldGljYWxseSkuXG4gICAgICAgICAgICAvLyBgXCJiYWNrZ3JvdW5kXCIgPCBcImNvbG9yXCJgIHNvIHdlIG5lZWQgdG8gZGVsZXRlIGBcImJhY2tncm91bmRcImAgYmVjYXVzZSBpdCBpcyBub3QgZm91bmQgaW4gdGhlXG4gICAgICAgICAgICAvLyBuZXcgYXJyYXkuXG4gICAgICAgICAgICBvbGRJbmRleCArPSAyO1xuICAgICAgICAgICAgc2V0S2V5ID0gb2xkS2V5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ1JFQVRFOiBuZXdLZXkncyBpcyBlYXJsaWVyIGFscGhhYmV0aWNhbGx5IHRoYW4gb2xkS2V5J3MgKG9yIG5vIG9sZEtleSkgPT4gd2UgaGF2ZSBuZXcga2V5LlxuICAgICAgICAgICAgLy8gYFwiY29sb3JcIiA+IFwiYmFja2dyb3VuZFwiYCBzbyB3ZSBuZWVkIHRvIGFkZCBgY29sb3JgIGJlY2F1c2UgaXQgaXMgaW4gbmV3IGFycmF5IGJ1dCBub3QgaW5cbiAgICAgICAgICAgIC8vIG9sZCBhcnJheS5cbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKG5ld0tleSwgJ0V4cGVjdGluZyB0byBoYXZlIGEgdmFsaWQga2V5Jyk7XG4gICAgICAgICAgICBuZXdJbmRleCArPSAyO1xuICAgICAgICAgICAgc2V0S2V5ID0gbmV3S2V5O1xuICAgICAgICAgICAgc2V0VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0S2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1cGRhdGVTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHJlbmRlcmVyLCBzZXRLZXksIHNldFZhbHVlLCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgb2xkS2V5ID0gb2xkSW5kZXggPCBvbGRLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG9sZEtleVZhbHVlQXJyYXlbb2xkSW5kZXhdIDogbnVsbDtcbiAgICAgICAgbmV3S2V5ID0gbmV3SW5kZXggPCBuZXdLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG5ld0tleVZhbHVlQXJyYXlbbmV3SW5kZXhdIDogbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZSBhIHNpbXBsZSAocHJvcGVydHkgbmFtZSkgc3R5bGluZy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGBwcm9wYCBhbmQgdXBkYXRlcyB0aGUgRE9NIHRvIHRoYXQgdmFsdWUuIFRoZSBmdW5jdGlvbiB0YWtlcyB0aGUgYmluZGluZ1xuICogdmFsdWUgYXMgd2VsbCBhcyBiaW5kaW5nIHByaW9yaXR5IGludG8gY29uc2lkZXJhdGlvbiB0byBkZXRlcm1pbmUgd2hpY2ggdmFsdWUgc2hvdWxkIGJlIHdyaXR0ZW5cbiAqIHRvIERPTS4gKEZvciBleGFtcGxlIGl0IG1heSBiZSBkZXRlcm1pbmVkIHRoYXQgdGhlcmUgaXMgYSBoaWdoZXIgcHJpb3JpdHkgb3ZlcndyaXRlIHdoaWNoIGJsb2Nrc1xuICogdGhlIERPTSB3cml0ZSwgb3IgaWYgdGhlIHZhbHVlIGdvZXMgdG8gYHVuZGVmaW5lZGAgYSBsb3dlciBwcmlvcml0eSBvdmVyd3JpdGUgbWF5IGJlIGNvbnN1bHRlZC4pXG4gKlxuICogQHBhcmFtIHRWaWV3IEFzc29jaWF0ZWQgYFRWaWV3LmRhdGFgIGNvbnRhaW5zIHRoZSBsaW5rZWQgbGlzdCBvZiBiaW5kaW5nIHByaW9yaXRpZXMuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGVyZSB0aGUgYmluZGluZyBpcyBsb2NhdGVkLlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2AgY29udGFpbnMgdGhlIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggb3RoZXIgc3R5bGluZyBiaW5kaW5nIGF0IHRoaXMgYFROb2RlYC5cbiAqIEBwYXJhbSByZW5kZXJlciBSZW5kZXJlciB0byB1c2UgaWYgYW55IHVwZGF0ZXMuXG4gKiBAcGFyYW0gcHJvcCBFaXRoZXIgc3R5bGUgcHJvcGVydHkgbmFtZSBvciBhIGNsYXNzIG5hbWUuXG4gKiBAcGFyYW0gdmFsdWUgRWl0aGVyIHN0eWxlIHZhbHVlIGZvciBgcHJvcGAgb3IgYHRydWVgL2BmYWxzZWAgaWYgYHByb3BgIGlzIGNsYXNzLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICogQHBhcmFtIGJpbmRpbmdJbmRleCBCaW5kaW5nIGluZGV4IG9mIHRoZSBiaW5kaW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHJlbmRlcmVyLCBwcm9wLCB2YWx1ZSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpIHtcbiAgICBpZiAoISh0Tm9kZS50eXBlICYgMyAvKiBBbnlSTm9kZSAqLykpIHtcbiAgICAgICAgLy8gSXQgaXMgcG9zc2libGUgdG8gaGF2ZSBzdHlsaW5nIG9uIG5vbi1lbGVtZW50cyAoc3VjaCBhcyBuZy1jb250YWluZXIpLlxuICAgICAgICAvLyBUaGlzIGlzIHJhcmUsIGJ1dCBpdCBkb2VzIGhhcHBlbi4gSW4gc3VjaCBhIGNhc2UsIGp1c3QgaWdub3JlIHRoZSBiaW5kaW5nLlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHREYXRhID0gdFZpZXcuZGF0YTtcbiAgICBjb25zdCB0UmFuZ2UgPSB0RGF0YVtiaW5kaW5nSW5kZXggKyAxXTtcbiAgICBjb25zdCBoaWdoZXJQcmlvcml0eVZhbHVlID0gZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFJhbmdlKSA/XG4gICAgICAgIGZpbmRTdHlsaW5nVmFsdWUodERhdGEsIHROb2RlLCBsVmlldywgcHJvcCwgZ2V0VFN0eWxpbmdSYW5nZU5leHQodFJhbmdlKSwgaXNDbGFzc0Jhc2VkKSA6XG4gICAgICAgIHVuZGVmaW5lZDtcbiAgICBpZiAoIWlzU3R5bGluZ1ZhbHVlUHJlc2VudChoaWdoZXJQcmlvcml0eVZhbHVlKSkge1xuICAgICAgICAvLyBXZSBkb24ndCBoYXZlIGEgbmV4dCBkdXBsaWNhdGUsIG9yIHdlIGRpZCBub3QgZmluZCBhIGR1cGxpY2F0ZSB2YWx1ZS5cbiAgICAgICAgaWYgKCFpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgZGVsZXRlIGN1cnJlbnQgdmFsdWUgb3IgcmVzdG9yZSB0byBsb3dlciBwcmlvcml0eSB2YWx1ZS5cbiAgICAgICAgICAgIGlmIChnZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0UmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHBvc3NpYmxlIHByZXYgZHVwbGljYXRlLCBsZXQncyByZXRyaWV2ZSBpdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpbmRTdHlsaW5nVmFsdWUodERhdGEsIG51bGwsIGxWaWV3LCBwcm9wLCBiaW5kaW5nSW5kZXgsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgck5vZGUgPSBnZXROYXRpdmVCeUluZGV4KGdldFNlbGVjdGVkSW5kZXgoKSwgbFZpZXcpO1xuICAgICAgICBhcHBseVN0eWxpbmcocmVuZGVyZXIsIGlzQ2xhc3NCYXNlZCwgck5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG4vKipcbiAqIFNlYXJjaCBmb3Igc3R5bGluZyB2YWx1ZSB3aXRoIGhpZ2hlciBwcmlvcml0eSB3aGljaCBpcyBvdmVyd3JpdGluZyBjdXJyZW50IHZhbHVlLCBvciBhXG4gKiB2YWx1ZSBvZiBsb3dlciBwcmlvcml0eSB0byB3aGljaCB3ZSBzaG91bGQgZmFsbCBiYWNrIGlmIHRoZSB2YWx1ZSBpcyBgdW5kZWZpbmVkYC5cbiAqXG4gKiBXaGVuIHZhbHVlIGlzIGJlaW5nIGFwcGxpZWQgYXQgYSBsb2NhdGlvbiwgcmVsYXRlZCB2YWx1ZXMgbmVlZCB0byBiZSBjb25zdWx0ZWQuXG4gKiAtIElmIHRoZXJlIGlzIGEgaGlnaGVyIHByaW9yaXR5IGJpbmRpbmcsIHdlIHNob3VsZCBiZSB1c2luZyB0aGF0IG9uZSBpbnN0ZWFkLlxuICogICBGb3IgZXhhbXBsZSBgPGRpdiAgW3N0eWxlXT1cIntjb2xvcjpleHAxfVwiIFtzdHlsZS5jb2xvcl09XCJleHAyXCI+YCBjaGFuZ2UgdG8gYGV4cDFgXG4gKiAgIHJlcXVpcmVzIHRoYXQgd2UgY2hlY2sgYGV4cDJgIHRvIHNlZSBpZiBpdCBpcyBzZXQgdG8gdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAqIC0gSWYgdGhlcmUgaXMgYSBsb3dlciBwcmlvcml0eSBiaW5kaW5nIGFuZCB3ZSBhcmUgY2hhbmdpbmcgdG8gYHVuZGVmaW5lZGBcbiAqICAgRm9yIGV4YW1wbGUgYDxkaXYgIFtzdHlsZV09XCJ7Y29sb3I6ZXhwMX1cIiBbc3R5bGUuY29sb3JdPVwiZXhwMlwiPmAgY2hhbmdlIHRvIGBleHAyYCB0b1xuICogICBgdW5kZWZpbmVkYCByZXF1aXJlcyB0aGF0IHdlIGNoZWNrIGBleHAxYCAoYW5kIHN0YXRpYyB2YWx1ZXMpIGFuZCB1c2UgdGhhdCBhcyBuZXcgdmFsdWUuXG4gKlxuICogTk9URTogVGhlIHN0eWxpbmcgc3RvcmVzIHR3byB2YWx1ZXMuXG4gKiAxLiBUaGUgcmF3IHZhbHVlIHdoaWNoIGNhbWUgZnJvbSB0aGUgYXBwbGljYXRpb24gaXMgc3RvcmVkIGF0IGBpbmRleCArIDBgIGxvY2F0aW9uLiAoVGhpcyB2YWx1ZVxuICogICAgaXMgdXNlZCBmb3IgZGlydHkgY2hlY2tpbmcpLlxuICogMi4gVGhlIG5vcm1hbGl6ZWQgdmFsdWUgaXMgc3RvcmVkIGF0IGBpbmRleCArIDFgLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHVzZWQgZm9yIHRyYXZlcnNpbmcgdGhlIHByaW9yaXR5LlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgdG8gdXNlIGZvciByZXNvbHZpbmcgc3RhdGljIHN0eWxpbmcuIEFsc28gY29udHJvbHMgc2VhcmNoIGRpcmVjdGlvbi5cbiAqICAgLSBgVE5vZGVgIHNlYXJjaCBuZXh0IGFuZCBxdWl0IGFzIHNvb24gYXMgYGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSlgIGlzIHRydWUuXG4gKiAgICAgIElmIG5vIHZhbHVlIGZvdW5kIGNvbnN1bHQgYHROb2RlLnJlc2lkdWFsU3R5bGVgL2B0Tm9kZS5yZXNpZHVhbENsYXNzYCBmb3IgZGVmYXVsdCB2YWx1ZS5cbiAqICAgLSBgbnVsbGAgc2VhcmNoIHByZXYgYW5kIGdvIGFsbCB0aGUgd2F5IHRvIGVuZC4gUmV0dXJuIGxhc3QgdmFsdWUgd2hlcmVcbiAqICAgICBgaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKWAgaXMgdHJ1ZS5cbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIHVzZWQgZm9yIHJldHJpZXZpbmcgdGhlIGFjdHVhbCB2YWx1ZXMuXG4gKiBAcGFyYW0gcHJvcCBQcm9wZXJ0eSB3aGljaCB3ZSBhcmUgaW50ZXJlc3RlZCBpbi5cbiAqIEBwYXJhbSBpbmRleCBTdGFydGluZyBpbmRleCBpbiB0aGUgbGlua2VkIGxpc3Qgb2Ygc3R5bGluZyBiaW5kaW5ncyB3aGVyZSB0aGUgc2VhcmNoIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gZmluZFN0eWxpbmdWYWx1ZSh0RGF0YSwgdE5vZGUsIGxWaWV3LCBwcm9wLCBpbmRleCwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgLy8gYFROb2RlYCB0byB1c2UgZm9yIHJlc29sdmluZyBzdGF0aWMgc3R5bGluZy4gQWxzbyBjb250cm9scyBzZWFyY2ggZGlyZWN0aW9uLlxuICAgIC8vICAgLSBgVE5vZGVgIHNlYXJjaCBuZXh0IGFuZCBxdWl0IGFzIHNvb24gYXMgYGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSlgIGlzIHRydWUuXG4gICAgLy8gICAgICBJZiBubyB2YWx1ZSBmb3VuZCBjb25zdWx0IGB0Tm9kZS5yZXNpZHVhbFN0eWxlYC9gdE5vZGUucmVzaWR1YWxDbGFzc2AgZm9yIGRlZmF1bHQgdmFsdWUuXG4gICAgLy8gICAtIGBudWxsYCBzZWFyY2ggcHJldiBhbmQgZ28gYWxsIHRoZSB3YXkgdG8gZW5kLiBSZXR1cm4gbGFzdCB2YWx1ZSB3aGVyZVxuICAgIC8vICAgICBgaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKWAgaXMgdHJ1ZS5cbiAgICBjb25zdCBpc1ByZXZEaXJlY3Rpb24gPSB0Tm9kZSA9PT0gbnVsbDtcbiAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgd2hpbGUgKGluZGV4ID4gMCkge1xuICAgICAgICBjb25zdCByYXdLZXkgPSB0RGF0YVtpbmRleF07XG4gICAgICAgIGNvbnN0IGNvbnRhaW5zU3RhdGljcyA9IEFycmF5LmlzQXJyYXkocmF3S2V5KTtcbiAgICAgICAgLy8gVW53cmFwIHRoZSBrZXkgaWYgd2UgY29udGFpbiBzdGF0aWMgdmFsdWVzLlxuICAgICAgICBjb25zdCBrZXkgPSBjb250YWluc1N0YXRpY3MgPyByYXdLZXlbMV0gOiByYXdLZXk7XG4gICAgICAgIGNvbnN0IGlzU3R5bGluZ01hcCA9IGtleSA9PT0gbnVsbDtcbiAgICAgICAgbGV0IHZhbHVlQXRMVmlld0luZGV4ID0gbFZpZXdbaW5kZXggKyAxXTtcbiAgICAgICAgaWYgKHZhbHVlQXRMVmlld0luZGV4ID09PSBOT19DSEFOR0UpIHtcbiAgICAgICAgICAgIC8vIEluIGZpcnN0VXBkYXRlUGFzcyB0aGUgc3R5bGluZyBpbnN0cnVjdGlvbnMgY3JlYXRlIGEgbGlua2VkIGxpc3Qgb2Ygc3R5bGluZy5cbiAgICAgICAgICAgIC8vIE9uIHN1YnNlcXVlbnQgcGFzc2VzIGl0IGlzIHBvc3NpYmxlIGZvciBhIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gdG8gdHJ5IHRvIHJlYWQgYSBiaW5kaW5nXG4gICAgICAgICAgICAvLyB3aGljaFxuICAgICAgICAgICAgLy8gaGFzIG5vdCB5ZXQgZXhlY3V0ZWQuIEluIHRoYXQgY2FzZSB3ZSB3aWxsIGZpbmQgYE5PX0NIQU5HRWAgYW5kIHdlIHNob3VsZCBhc3N1bWUgdGhhdFxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBgdW5kZWZpbmVkYCAob3IgZW1wdHkgYXJyYXkgaW4gY2FzZSBvZiBzdHlsaW5nLW1hcCBpbnN0cnVjdGlvbikgaW5zdGVhZC4gVGhpc1xuICAgICAgICAgICAgLy8gYWxsb3dzIHRoZSByZXNvbHV0aW9uIHRvIGFwcGx5IHRoZSB2YWx1ZSAod2hpY2ggbWF5IGxhdGVyIGJlIG92ZXJ3cml0dGVuIHdoZW4gdGhlXG4gICAgICAgICAgICAvLyBiaW5kaW5nIGFjdHVhbGx5IGV4ZWN1dGVzLilcbiAgICAgICAgICAgIHZhbHVlQXRMVmlld0luZGV4ID0gaXNTdHlsaW5nTWFwID8gRU1QVFlfQVJSQVkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IGlzU3R5bGluZ01hcCA/IGtleVZhbHVlQXJyYXlHZXQodmFsdWVBdExWaWV3SW5kZXgsIHByb3ApIDpcbiAgICAgICAgICAgIGtleSA9PT0gcHJvcCA/IHZhbHVlQXRMVmlld0luZGV4IDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoY29udGFpbnNTdGF0aWNzICYmICFpc1N0eWxpbmdWYWx1ZVByZXNlbnQoY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0ga2V5VmFsdWVBcnJheUdldChyYXdLZXksIHByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0eWxpbmdWYWx1ZVByZXNlbnQoY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNQcmV2RGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRSYW5nZSA9IHREYXRhW2luZGV4ICsgMV07XG4gICAgICAgIGluZGV4ID0gaXNQcmV2RGlyZWN0aW9uID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFJhbmdlKSA6IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRSYW5nZSk7XG4gICAgfVxuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBpbiBjYXNlIHdoZXJlIHdlIGFyZSBnb2luZyBpbiBuZXh0IGRpcmVjdGlvbiBBTkQgd2UgZGlkIG5vdCBmaW5kIGFueXRoaW5nLCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGNvbnN1bHQgcmVzaWR1YWwgc3R5bGluZ1xuICAgICAgICBsZXQgcmVzaWR1YWwgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5yZXNpZHVhbENsYXNzZXMgOiB0Tm9kZS5yZXNpZHVhbFN0eWxlcztcbiAgICAgICAgaWYgKHJlc2lkdWFsICE9IG51bGwgLyoqIE9SIHJlc2lkdWFsICE9PT0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtleVZhbHVlQXJyYXlHZXQocmVzaWR1YWwsIHByb3ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgYmluZGluZyB2YWx1ZSBzaG91bGQgYmUgdXNlZCAob3IgaWYgdGhlIHZhbHVlIGlzICd1bmRlZmluZWQnIGFuZCBoZW5jZSBwcmlvcml0eVxuICogcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZC4pXG4gKlxuICogQHBhcmFtIHZhbHVlIEJpbmRpbmcgc3R5bGUgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSkge1xuICAgIC8vIEN1cnJlbnRseSBvbmx5IGB1bmRlZmluZWRgIHZhbHVlIGlzIGNvbnNpZGVyZWQgbm9uLWJpbmRpbmcuIFRoYXQgaXMgYHVuZGVmaW5lZGAgc2F5cyBJIGRvbid0XG4gICAgLy8gaGF2ZSBhbiBvcGluaW9uIGFzIHRvIHdoYXQgdGhpcyBiaW5kaW5nIHNob3VsZCBiZSBhbmQgeW91IHNob3VsZCBjb25zdWx0IG90aGVyIGJpbmRpbmdzIGJ5XG4gICAgLy8gcHJpb3JpdHkgdG8gZGV0ZXJtaW5lIHRoZSB2YWxpZCB2YWx1ZS5cbiAgICAvLyBUaGlzIGlzIGV4dHJhY3RlZCBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uIHNvIHRoYXQgd2UgaGF2ZSBhIHNpbmdsZSBwbGFjZSB0byBjb250cm9sIHRoaXMuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZXMgYW5kL29yIGFkZHMgYSBzdWZmaXggdG8gdGhlIHZhbHVlLlxuICpcbiAqIElmIHZhbHVlIGlzIGBudWxsYC9gdW5kZWZpbmVkYCBubyBzdWZmaXggaXMgYWRkZWRcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIHN1ZmZpeFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTdWZmaXgodmFsdWUsIHN1ZmZpeCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIC8qKiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHN1ZmZpeCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSArIHN1ZmZpeDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICB2YWx1ZSA9IHN0cmluZ2lmeSh1bndyYXBTYWZlVmFsdWUodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgYFROb2RlYCBoYXMgaW5wdXQgc2hhZG93LlxuICpcbiAqIEFuIGlucHV0IHNoYWRvdyBpcyB3aGVuIGEgZGlyZWN0aXZlIHN0ZWFscyAoc2hhZG93cykgdGhlIGlucHV0IGJ5IHVzaW5nIGBASW5wdXQoJ3N0eWxlJylgIG9yXG4gKiBgQElucHV0KCdjbGFzcycpYCBhcyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGljaCB3ZSB3b3VsZCBsaWtlIHRvIHNlZSBpZiBpdCBoYXMgc2hhZG93LlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBoYXNTdHlsaW5nSW5wdXRTaGFkb3codE5vZGUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAoaXNDbGFzc0Jhc2VkID8gMTYgLyogaGFzQ2xhc3NJbnB1dCAqLyA6IDMyIC8qIGhhc1N0eWxlSW5wdXQgKi8pKSAhPT0gMDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZSBzdGF0aWMgdGV4dCBub2RlXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBub2RlIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gdmFsdWUgU3RhdGljIHN0cmluZyB2YWx1ZSB0byB3cml0ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dChpbmRleCwgdmFsdWUgPSAnJykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoZ2V0QmluZGluZ0luZGV4KCksIHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCAndGV4dCBub2RlcyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgP1xuICAgICAgICBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBhZGp1c3RlZEluZGV4LCAxIC8qIFRleHQgKi8sIHZhbHVlLCBudWxsKSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgY29uc3QgdGV4dE5hdGl2ZSA9IGxWaWV3W2FkanVzdGVkSW5kZXhdID0gY3JlYXRlVGV4dE5vZGUobFZpZXdbUkVOREVSRVJdLCB2YWx1ZSk7XG4gICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCB0ZXh0TmF0aXZlLCB0Tm9kZSk7XG4gICAgLy8gVGV4dCBub2RlcyBhcmUgc2VsZiBjbG9zaW5nLlxuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgZmFsc2UpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCBhIGxvbmUgYm91bmQgdmFsdWVcbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0LCBhbiBubyBhZGRpdGlvbmFsIHRleHRcbiAqIHN1cnJvdW5kcyB0aGF0IGludGVycG9sYXRlZCB2YWx1ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2Pnt7djB9fTwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlKHYwKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlKHYwKSB7XG4gICAgybXJtXRleHRJbnRlcnBvbGF0ZTEoJycsIHYwLCAnJyk7XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGUxKCdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGUxKHByZWZpeCwgdjAsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTE7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlMigncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlMihwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlMyhcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGUzKHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTQoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSDJtcm1dGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTQocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU1KFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTUocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTYoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS4gQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlNihwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTY7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU3KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTcocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSB0ZXh0IGNvbnRlbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU4KFxuICogICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU4KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU4O1xufVxuLyoqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBvdGhlciBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdj5wcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZVYoXG4gKiAgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKi5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbiBiZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnLScsIHZhbHVlMSwgJy0nLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlVih2YWx1ZXMpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGVWO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEoJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxKHByZWZpeCwgdjAsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggMiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIoJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyKHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlMyhcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlMyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlNChcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlNChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU1KFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU1KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjUobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlNihcbiAqICAgICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlNihwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBjbGFzcyBvbiBhbiBlbGVtZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlNyhcbiAqICAgICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlNyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4KFxuICogICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlOChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX0te3t2OH19LXt7djl9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYoXG4gKiAgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKi5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbi1iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnLScsIHZhbHVlMSwgJy0nLCB2YWx1ZTIsIC4uLiwgdmFsdWU5OSwgJ3N1ZmZpeCddYClcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlVih2YWx1ZXMpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTEoJ2tleTogJywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTEocHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyKCdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMihwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDMgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAzIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkyOiB7e3YxfX07IGtleTI6IHt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMoXG4gKiAgICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTQoXG4gKiAgICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTQocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1KFxuICogICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNShwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA2IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07XG4gKiAgICAgICAgICAgICBrZXk1OiB7e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2KFxuICogICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnOyBrZXk1OiAnLCB2NSxcbiAqICAgICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fTsga2V5NToge3t2NX19O1xuICogICAgICAgICAgICAga2V5Njoge3t2Nn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNyhcbiAqICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJzsga2V5NTogJywgdjUsXG4gKiAgICAnOyBrZXk2OiAnLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fTsga2V5NToge3t2NX19O1xuICogICAgICAgICAgICAga2V5Njoge3t2Nn19OyBrZXk3OiB7e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4KFxuICogICAgJ2tleTogJywgdjAsICc7IGtleTE6ICcsIHYxLCAnOyBrZXkyOiAnLCB2MiwgJzsga2V5MzogJywgdjMsICc7IGtleTQ6ICcsIHY0LCAnOyBrZXk1OiAnLCB2NSxcbiAqICAgICc7IGtleTY6ICcsIHY2LCAnOyBrZXk3OiAnLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZU1hcEludGVycG9sYXRlOChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggOSBvciBtb3JlIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIGNsYXNzPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX07IGtleTQ6IHt7djR9fTsga2V5NToge3t2NX19O1xuICogICAgICAgICBrZXk2OiB7e3Y2fX07IGtleTc6IHt7djd9fTsga2V5ODoge3t2OH19OyBrZXk5OiB7e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWKFxuICogICAgWydrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJzsga2V5NTogJywgdjUsXG4gKiAgICAgJzsga2V5NjogJywgdjYsICc7IGtleTc6ICcsIHY3LCAnOyBrZXk4OiAnLCB2OCwgJzsga2V5OTogJywgdjksICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICc7IGtleTI6ICcsIHZhbHVlMSwgJzsga2V5MjogJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYodmFsdWVzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSgwLCAncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxKHByb3AsIHByZWZpeCwgdjAsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMigwLCAncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyKHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTI7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzKDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTM7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCgwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA1IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSgwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2KDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTY7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNyhcbiAqICAgIDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHN0eWxlSW5kZXggSW5kZXggb2Ygc3R5bGUgdG8gdXBkYXRlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgc3R5bGUgaW4gdGhlIHN0eWxlIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYHN0eWxpbmdgLlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2YWx1ZVN1ZmZpeCBPcHRpb25hbCBzdWZmaXguIFVzZWQgd2l0aCBzY2FsYXIgdmFsdWVzIHRvIGFkZCB1bml0IHN1Y2ggYXMgYHB4YC5cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTcocHJvcCwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb243KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4KDAsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NixcbiAqICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4LCB2YWx1ZVN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb244KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieVxuICogdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWKFxuICogIDAsIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC4uXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4tYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWKHByb3AsIHZhbHVlcywgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uVihsVmlldywgdmFsdWVzKTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZSBhIHByb3BlcnR5IG9uIGEgaG9zdCBlbGVtZW50LiBPbmx5IGFwcGxpZXMgdG8gbmF0aXZlIG5vZGUgcHJvcGVydGllcywgbm90IGlucHV0cy5cbiAqXG4gKiBPcGVyYXRlcyBvbiB0aGUgZWxlbWVudCBzZWxlY3RlZCBieSBpbmRleCB2aWEgdGhlIHtAbGluayBzZWxlY3R9IGluc3RydWN0aW9uLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBOYW1lIG9mIHByb3BlcnR5LiBCZWNhdXNlIGl0IGlzIGdvaW5nIHRvIERPTSwgdGhpcyBpcyBub3Qgc3ViamVjdCB0b1xuICogICAgICAgIHJlbmFtaW5nIGFzIHBhcnQgb2YgbWluaWZpY2F0aW9uLlxuICogQHBhcmFtIHZhbHVlIE5ldyB2YWx1ZSB0byB3cml0ZS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgdmFsdWUuXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWRcbiAqIChlLmcuIGBwcm9wZXJ0eSgnbmFtZScsIGN0eC5uYW1lKSgndGl0bGUnLCBjdHgudGl0bGUpYClcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aG9zdFByb3BlcnR5KHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCB2YWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIHRydWUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1aG9zdFByb3BlcnR5O1xufVxuLyoqXG4gKiBVcGRhdGVzIGEgc3ludGhldGljIGhvc3QgYmluZGluZyAoZS5nLiBgW0Bmb29dYCkgb24gYSBjb21wb25lbnQgb3IgZGlyZWN0aXZlLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgZm9yIGNvbXBhdGliaWxpdHkgcHVycG9zZXMgYW5kIGlzIGRlc2lnbmVkIHRvIGVuc3VyZSB0aGF0IGFcbiAqIHN5bnRoZXRpYyBob3N0IGJpbmRpbmcgKGUuZy4gYEBIb3N0QmluZGluZygnQGZvbycpYCkgcHJvcGVybHkgZ2V0cyByZW5kZXJlZCBpblxuICogdGhlIGNvbXBvbmVudCdzIHJlbmRlcmVyLiBOb3JtYWxseSBhbGwgaG9zdCBiaW5kaW5ncyBhcmUgZXZhbHVhdGVkIHdpdGggdGhlIHBhcmVudFxuICogY29tcG9uZW50J3MgcmVuZGVyZXIsIGJ1dCwgaW4gdGhlIGNhc2Ugb2YgYW5pbWF0aW9uIEB0cmlnZ2VycywgdGhleSBuZWVkIHRvIGJlXG4gKiBldmFsdWF0ZWQgd2l0aCB0aGUgc3ViIGNvbXBvbmVudCdzIHJlbmRlcmVyIChiZWNhdXNlIHRoYXQncyB3aGVyZSB0aGUgYW5pbWF0aW9uXG4gKiB0cmlnZ2VycyBhcmUgZGVmaW5lZCkuXG4gKlxuICogRG8gbm90IHVzZSB0aGlzIGluc3RydWN0aW9uIGFzIGEgcmVwbGFjZW1lbnQgZm9yIGBlbGVtZW50UHJvcGVydHlgLiBUaGlzIGluc3RydWN0aW9uXG4gKiBvbmx5IGV4aXN0cyB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBWaWV3RW5naW5lJ3MgaG9zdCBiaW5kaW5nIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gdXBkYXRlIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gcHJvcE5hbWUgTmFtZSBvZiBwcm9wZXJ0eS4gQmVjYXVzZSBpdCBpcyBnb2luZyB0byBET00sIHRoaXMgaXMgbm90IHN1YmplY3QgdG9cbiAqICAgICAgICByZW5hbWluZyBhcyBwYXJ0IG9mIG1pbmlmaWNhdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzeW50aGV0aWNIb3N0UHJvcGVydHkocHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gbmV4dEJpbmRpbmdJbmRleCgpO1xuICAgIGlmIChiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgY29uc3QgY3VycmVudERlZiA9IGdldEN1cnJlbnREaXJlY3RpdmVEZWYodFZpZXcuZGF0YSk7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gbG9hZENvbXBvbmVudFJlbmRlcmVyKGN1cnJlbnREZWYsIHROb2RlLCBsVmlldyk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCB2YWx1ZSwgcmVuZGVyZXIsIHNhbml0aXplciwgdHJ1ZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVzeW50aGV0aWNIb3N0UHJvcGVydHk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBOT1RFOiBjaGFuZ2VzIHRvIHRoZSBgbmdJMThuQ2xvc3VyZU1vZGVgIG5hbWUgbXVzdCBiZSBzeW5jZWQgd2l0aCBgY29tcGlsZXItY2xpL3NyYy90b29saW5nLnRzYC5cbiAqL1xuaWYgKHR5cGVvZiBuZ0kxOG5DbG9zdXJlTW9kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBUaGVzZSBwcm9wZXJ0eSBhY2Nlc3NlcyBjYW4gYmUgaWdub3JlZCBiZWNhdXNlIG5nSTE4bkNsb3N1cmVNb2RlIHdpbGwgYmUgc2V0IHRvIGZhbHNlXG4gICAgLy8gd2hlbiBvcHRpbWl6aW5nIGNvZGUgYW5kIHRoZSB3aG9sZSBpZiBzdGF0ZW1lbnQgd2lsbCBiZSBkcm9wcGVkLlxuICAgIC8vIE1ha2Ugc3VyZSB0byByZWZlciB0byBuZ0kxOG5DbG9zdXJlTW9kZSBhcyBbJ25nSTE4bkNsb3N1cmVNb2RlJ10gZm9yIGNsb3N1cmUuXG4gICAgLy8gTk9URTogd2UgbmVlZCB0byBoYXZlIGl0IGluIElJRkUgc28gdGhhdCB0aGUgdHJlZS1zaGFrZXIgaXMgaGFwcHkuXG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgICAgICBfZ2xvYmFsWyduZ0kxOG5DbG9zdXJlTW9kZSddID1cbiAgICAgICAgICAgIC8vIFRPRE8oRlctMTI1MCk6IHZhbGlkYXRlIHRoYXQgdGhpcyBhY3R1YWxseSwgeW91IGtub3csIHdvcmtzLlxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgICAgICAgICAgdHlwZW9mIGdvb2cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnb29nLmdldE1zZyA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9KSgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRISVMgQ09ERSBJUyBHRU5FUkFURUQgLSBETyBOT1QgTU9ESUZZLlxuY29uc3QgdSA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIHBsdXJhbCh2YWwpIHtcbiAgICBjb25zdCBuID0gdmFsLCBpID0gTWF0aC5mbG9vcihNYXRoLmFicyh2YWwpKSwgdiA9IHZhbC50b1N0cmluZygpLnJlcGxhY2UoL15bXi5dKlxcLj8vLCAnJykubGVuZ3RoO1xuICAgIGlmIChpID09PSAxICYmIHYgPT09IDApXG4gICAgICAgIHJldHVybiAxO1xuICAgIHJldHVybiA1O1xufVxudmFyIGxvY2FsZUVuID0gW1wiZW5cIiwgW1tcImFcIiwgXCJwXCJdLCBbXCJBTVwiLCBcIlBNXCJdLCB1XSwgW1tcIkFNXCIsIFwiUE1cIl0sIHUsIHVdLCBbW1wiU1wiLCBcIk1cIiwgXCJUXCIsIFwiV1wiLCBcIlRcIiwgXCJGXCIsIFwiU1wiXSwgW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLCBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXSwgW1wiU3VcIiwgXCJNb1wiLCBcIlR1XCIsIFwiV2VcIiwgXCJUaFwiLCBcIkZyXCIsIFwiU2FcIl1dLCB1LCBbW1wiSlwiLCBcIkZcIiwgXCJNXCIsIFwiQVwiLCBcIk1cIiwgXCJKXCIsIFwiSlwiLCBcIkFcIiwgXCJTXCIsIFwiT1wiLCBcIk5cIiwgXCJEXCJdLCBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl0sIFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdXSwgdSwgW1tcIkJcIiwgXCJBXCJdLCBbXCJCQ1wiLCBcIkFEXCJdLCBbXCJCZWZvcmUgQ2hyaXN0XCIsIFwiQW5ubyBEb21pbmlcIl1dLCAwLCBbNiwgMF0sIFtcIk0vZC95eVwiLCBcIk1NTSBkLCB5XCIsIFwiTU1NTSBkLCB5XCIsIFwiRUVFRSwgTU1NTSBkLCB5XCJdLCBbXCJoOm1tIGFcIiwgXCJoOm1tOnNzIGFcIiwgXCJoOm1tOnNzIGEgelwiLCBcImg6bW06c3MgYSB6enp6XCJdLCBbXCJ7MX0sIHswfVwiLCB1LCBcInsxfSAnYXQnIHswfVwiLCB1XSwgW1wiLlwiLCBcIixcIiwgXCI7XCIsIFwiJVwiLCBcIitcIiwgXCItXCIsIFwiRVwiLCBcIsOXXCIsIFwi4oCwXCIsIFwi4oieXCIsIFwiTmFOXCIsIFwiOlwiXSwgW1wiIywjIzAuIyMjXCIsIFwiIywjIzAlXCIsIFwiwqQjLCMjMC4wMFwiLCBcIiNFMFwiXSwgXCJVU0RcIiwgXCIkXCIsIFwiVVMgRG9sbGFyXCIsIHt9LCBcImx0clwiLCBwbHVyYWxdO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBjb25zdCBpcyB1c2VkIHRvIHN0b3JlIHRoZSBsb2NhbGUgZGF0YSByZWdpc3RlcmVkIHdpdGggYHJlZ2lzdGVyTG9jYWxlRGF0YWBcbiAqL1xubGV0IExPQ0FMRV9EQVRBID0ge307XG4vKipcbiAqIFJlZ2lzdGVyIGxvY2FsZSBkYXRhIHRvIGJlIHVzZWQgaW50ZXJuYWxseSBieSBBbmd1bGFyLiBTZWUgdGhlXG4gKiBbXCJJMThuIGd1aWRlXCJdKGd1aWRlL2kxOG4tY29tbW9uLWZvcm1hdC1kYXRhLWxvY2FsZSkgdG8ga25vdyBob3cgdG8gaW1wb3J0IGFkZGl0aW9uYWwgbG9jYWxlXG4gKiBkYXRhLlxuICpcbiAqIFRoZSBzaWduYXR1cmUgYHJlZ2lzdGVyTG9jYWxlRGF0YShkYXRhOiBhbnksIGV4dHJhRGF0YT86IGFueSlgIGlzIGRlcHJlY2F0ZWQgc2luY2UgdjUuMVxuICovXG5mdW5jdGlvbiByZWdpc3RlckxvY2FsZURhdGEoZGF0YSwgbG9jYWxlSWQsIGV4dHJhRGF0YSkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlSWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGV4dHJhRGF0YSA9IGxvY2FsZUlkO1xuICAgICAgICBsb2NhbGVJZCA9IGRhdGFbTG9jYWxlRGF0YUluZGV4LkxvY2FsZUlkXTtcbiAgICB9XG4gICAgbG9jYWxlSWQgPSBsb2NhbGVJZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgJy0nKTtcbiAgICBMT0NBTEVfREFUQVtsb2NhbGVJZF0gPSBkYXRhO1xuICAgIGlmIChleHRyYURhdGEpIHtcbiAgICAgICAgTE9DQUxFX0RBVEFbbG9jYWxlSWRdW0xvY2FsZURhdGFJbmRleC5FeHRyYURhdGFdID0gZXh0cmFEYXRhO1xuICAgIH1cbn1cbi8qKlxuICogRmluZHMgdGhlIGxvY2FsZSBkYXRhIGZvciBhIGdpdmVuIGxvY2FsZS5cbiAqXG4gKiBAcGFyYW0gbG9jYWxlIFRoZSBsb2NhbGUgY29kZS5cbiAqIEByZXR1cm5zIFRoZSBsb2NhbGUgZGF0YS5cbiAqIEBzZWUgW0ludGVybmF0aW9uYWxpemF0aW9uIChpMThuKSBHdWlkZV0oaHR0cHM6Ly9hbmd1bGFyLmlvL2d1aWRlL2kxOG4tb3ZlcnZpZXcpXG4gKi9cbmZ1bmN0aW9uIGZpbmRMb2NhbGVEYXRhKGxvY2FsZSkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRMb2NhbGUgPSBub3JtYWxpemVMb2NhbGUobG9jYWxlKTtcbiAgICBsZXQgbWF0Y2ggPSBnZXRMb2NhbGVEYXRhKG5vcm1hbGl6ZWRMb2NhbGUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICAgIC8vIGxldCdzIHRyeSB0byBmaW5kIGEgcGFyZW50IGxvY2FsZVxuICAgIGNvbnN0IHBhcmVudExvY2FsZSA9IG5vcm1hbGl6ZWRMb2NhbGUuc3BsaXQoJy0nKVswXTtcbiAgICBtYXRjaCA9IGdldExvY2FsZURhdGEocGFyZW50TG9jYWxlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgICBpZiAocGFyZW50TG9jYWxlID09PSAnZW4nKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGVFbjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGxvY2FsZSBkYXRhIGZvciB0aGUgbG9jYWxlIFwiJHtsb2NhbGV9XCIuYCk7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIGZvciB0aGUgZ2l2ZW4gbG9jYWxlLlxuICpcbiAqIFRoZSBkZWZhdWx0IGlzIGRlZmluZWQgYXMgdGhlIGZpcnN0IGN1cnJlbmN5IHdoaWNoIGlzIHN0aWxsIGluIHVzZS5cbiAqXG4gKiBAcGFyYW0gbG9jYWxlIFRoZSBjb2RlIG9mIHRoZSBsb2NhbGUgd2hvc2UgY3VycmVuY3kgY29kZSB3ZSB3YW50LlxuICogQHJldHVybnMgVGhlIGNvZGUgb2YgdGhlIGRlZmF1bHQgY3VycmVuY3kgZm9yIHRoZSBnaXZlbiBsb2NhbGUuXG4gKlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVDdXJyZW5jeUNvZGUobG9jYWxlKSB7XG4gICAgY29uc3QgZGF0YSA9IGZpbmRMb2NhbGVEYXRhKGxvY2FsZSk7XG4gICAgcmV0dXJuIGRhdGFbTG9jYWxlRGF0YUluZGV4LkN1cnJlbmN5Q29kZV0gfHwgbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBwbHVyYWwgZnVuY3Rpb24gdXNlZCBieSBJQ1UgZXhwcmVzc2lvbnMgdG8gZGV0ZXJtaW5lIHRoZSBwbHVyYWwgY2FzZSB0byB1c2VcbiAqIGZvciBhIGdpdmVuIGxvY2FsZS5cbiAqIEBwYXJhbSBsb2NhbGUgQSBsb2NhbGUgY29kZSBmb3IgdGhlIGxvY2FsZSBmb3JtYXQgcnVsZXMgdG8gdXNlLlxuICogQHJldHVybnMgVGhlIHBsdXJhbCBmdW5jdGlvbiBmb3IgdGhlIGxvY2FsZS5cbiAqIEBzZWUgYE5nUGx1cmFsYFxuICogQHNlZSBbSW50ZXJuYXRpb25hbGl6YXRpb24gKGkxOG4pIEd1aWRlXShodHRwczovL2FuZ3VsYXIuaW8vZ3VpZGUvaTE4bi1vdmVydmlldylcbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlUGx1cmFsQ2FzZShsb2NhbGUpIHtcbiAgICBjb25zdCBkYXRhID0gZmluZExvY2FsZURhdGEobG9jYWxlKTtcbiAgICByZXR1cm4gZGF0YVtMb2NhbGVEYXRhSW5kZXguUGx1cmFsQ2FzZV07XG59XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGdpdmVuIGBub3JtYWxpemVkTG9jYWxlYCBmcm9tIGBMT0NBTEVfREFUQWBcbiAqIG9yIGZyb20gdGhlIGdsb2JhbCBgbmcuY29tbW9uLmxvY2FsZWAuXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsZURhdGEobm9ybWFsaXplZExvY2FsZSkge1xuICAgIGlmICghKG5vcm1hbGl6ZWRMb2NhbGUgaW4gTE9DQUxFX0RBVEEpKSB7XG4gICAgICAgIExPQ0FMRV9EQVRBW25vcm1hbGl6ZWRMb2NhbGVdID0gX2dsb2JhbC5uZyAmJiBfZ2xvYmFsLm5nLmNvbW1vbiAmJiBfZ2xvYmFsLm5nLmNvbW1vbi5sb2NhbGVzICYmXG4gICAgICAgICAgICBfZ2xvYmFsLm5nLmNvbW1vbi5sb2NhbGVzW25vcm1hbGl6ZWRMb2NhbGVdO1xuICAgIH1cbiAgICByZXR1cm4gTE9DQUxFX0RBVEFbbm9ybWFsaXplZExvY2FsZV07XG59XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byByZW1vdmUgYWxsIHRoZSBsb2NhbGUgZGF0YSBmcm9tIGBMT0NBTEVfREFUQWAuXG4gKi9cbmZ1bmN0aW9uIHVucmVnaXN0ZXJBbGxMb2NhbGVEYXRhKCkge1xuICAgIExPQ0FMRV9EQVRBID0ge307XG59XG4vKipcbiAqIEluZGV4IG9mIGVhY2ggdHlwZSBvZiBsb2NhbGUgZGF0YSBmcm9tIHRoZSBsb2NhbGUgZGF0YSBhcnJheVxuICovXG52YXIgTG9jYWxlRGF0YUluZGV4O1xuKGZ1bmN0aW9uIChMb2NhbGVEYXRhSW5kZXgpIHtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTG9jYWxlSWRcIl0gPSAwXSA9IFwiTG9jYWxlSWRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5UGVyaW9kc0Zvcm1hdFwiXSA9IDFdID0gXCJEYXlQZXJpb2RzRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRheVBlcmlvZHNTdGFuZGFsb25lXCJdID0gMl0gPSBcIkRheVBlcmlvZHNTdGFuZGFsb25lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRheXNGb3JtYXRcIl0gPSAzXSA9IFwiRGF5c0Zvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlzU3RhbmRhbG9uZVwiXSA9IDRdID0gXCJEYXlzU3RhbmRhbG9uZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJNb250aHNGb3JtYXRcIl0gPSA1XSA9IFwiTW9udGhzRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIk1vbnRoc1N0YW5kYWxvbmVcIl0gPSA2XSA9IFwiTW9udGhzU3RhbmRhbG9uZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJFcmFzXCJdID0gN10gPSBcIkVyYXNcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRmlyc3REYXlPZldlZWtcIl0gPSA4XSA9IFwiRmlyc3REYXlPZldlZWtcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiV2Vla2VuZFJhbmdlXCJdID0gOV0gPSBcIldlZWtlbmRSYW5nZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXRlRm9ybWF0XCJdID0gMTBdID0gXCJEYXRlRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIlRpbWVGb3JtYXRcIl0gPSAxMV0gPSBcIlRpbWVGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF0ZVRpbWVGb3JtYXRcIl0gPSAxMl0gPSBcIkRhdGVUaW1lRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIk51bWJlclN5bWJvbHNcIl0gPSAxM10gPSBcIk51bWJlclN5bWJvbHNcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTnVtYmVyRm9ybWF0c1wiXSA9IDE0XSA9IFwiTnVtYmVyRm9ybWF0c1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJDdXJyZW5jeUNvZGVcIl0gPSAxNV0gPSBcIkN1cnJlbmN5Q29kZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJDdXJyZW5jeVN5bWJvbFwiXSA9IDE2XSA9IFwiQ3VycmVuY3lTeW1ib2xcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiQ3VycmVuY3lOYW1lXCJdID0gMTddID0gXCJDdXJyZW5jeU5hbWVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiQ3VycmVuY2llc1wiXSA9IDE4XSA9IFwiQ3VycmVuY2llc1wiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEaXJlY3Rpb25hbGl0eVwiXSA9IDE5XSA9IFwiRGlyZWN0aW9uYWxpdHlcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiUGx1cmFsQ2FzZVwiXSA9IDIwXSA9IFwiUGx1cmFsQ2FzZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJFeHRyYURhdGFcIl0gPSAyMV0gPSBcIkV4dHJhRGF0YVwiO1xufSkoTG9jYWxlRGF0YUluZGV4IHx8IChMb2NhbGVEYXRhSW5kZXggPSB7fSkpO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYW5vbmljYWwgZm9ybSBvZiBhIGxvY2FsZSBuYW1lIC0gbG93ZXJjYXNlIHdpdGggYF9gIHJlcGxhY2VkIHdpdGggYC1gLlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUobG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgJy0nKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBwbHVyYWxNYXBwaW5nID0gWyd6ZXJvJywgJ29uZScsICd0d28nLCAnZmV3JywgJ21hbnknXTtcbi8qKlxuICogUmV0dXJucyB0aGUgcGx1cmFsIGNhc2UgYmFzZWQgb24gdGhlIGxvY2FsZVxuICovXG5mdW5jdGlvbiBnZXRQbHVyYWxDYXNlKHZhbHVlLCBsb2NhbGUpIHtcbiAgICBjb25zdCBwbHVyYWwgPSBnZXRMb2NhbGVQbHVyYWxDYXNlKGxvY2FsZSkocGFyc2VJbnQodmFsdWUsIDEwKSk7XG4gICAgY29uc3QgcmVzdWx0ID0gcGx1cmFsTWFwcGluZ1twbHVyYWxdO1xuICAgIHJldHVybiAocmVzdWx0ICE9PSB1bmRlZmluZWQpID8gcmVzdWx0IDogJ290aGVyJztcbn1cbi8qKlxuICogVGhlIGxvY2FsZSBpZCB0aGF0IHRoZSBhcHBsaWNhdGlvbiBpcyB1c2luZyBieSBkZWZhdWx0IChmb3IgdHJhbnNsYXRpb25zIGFuZCBJQ1UgZXhwcmVzc2lvbnMpLlxuICovXG5jb25zdCBERUZBVUxUX0xPQ0FMRV9JRCA9ICdlbi1VUyc7XG4vKipcbiAqIFVTRCBjdXJyZW5jeSBjb2RlIHRoYXQgdGhlIGFwcGxpY2F0aW9uIHVzZXMgYnkgZGVmYXVsdCBmb3IgQ3VycmVuY3lQaXBlIHdoZW4gbm9cbiAqIERFRkFVTFRfQ1VSUkVOQ1lfQ09ERSBpcyBwcm92aWRlZC5cbiAqL1xuY29uc3QgVVNEX0NVUlJFTkNZX0NPREUgPSAnVVNEJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtzIHRoYXQgdGhlIG5leHQgc3RyaW5nIGlzIGFuIGVsZW1lbnQgbmFtZS5cbiAqXG4gKiBTZWUgYEkxOG5NdXRhdGVPcENvZGVzYCBkb2N1bWVudGF0aW9uLlxuICovXG5jb25zdCBFTEVNRU5UX01BUktFUiA9IHtcbiAgICBtYXJrZXI6ICdlbGVtZW50J1xufTtcbi8qKlxuICogTWFya3MgdGhhdCB0aGUgbmV4dCBzdHJpbmcgaXMgY29tbWVudCB0ZXh0IG5lZWQgZm9yIElDVS5cbiAqXG4gKiBTZWUgYEkxOG5NdXRhdGVPcENvZGVzYCBkb2N1bWVudGF0aW9uLlxuICovXG5jb25zdCBJQ1VfTUFSS0VSID0ge1xuICAgIG1hcmtlcjogJ0lDVSdcbn07XG4vKipcbiAqIFNlZSBgSTE4bkNyZWF0ZU9wQ29kZXNgXG4gKi9cbnZhciBJMThuQ3JlYXRlT3BDb2RlO1xuKGZ1bmN0aW9uIChJMThuQ3JlYXRlT3BDb2RlKSB7XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGJpdHMgdG8gc2hpZnQgaW5kZXggc28gdGhhdCBpdCBjYW4gYmUgY29tYmluZWQgd2l0aCB0aGUgYEFQUEVORF9FQUdFUkxZYCBhbmRcbiAgICAgKiBgQ09NTUVOVGAuXG4gICAgICovXG4gICAgSTE4bkNyZWF0ZU9wQ29kZVtJMThuQ3JlYXRlT3BDb2RlW1wiU0hJRlRcIl0gPSAyXSA9IFwiU0hJRlRcIjtcbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIG5vZGUgYmUgYXBwZW5kZWQgdG8gcGFyZW50IGltZWRkaXRhdGx5IGFmdGVyIGNyZWF0aW9uLlxuICAgICAqL1xuICAgIEkxOG5DcmVhdGVPcENvZGVbSTE4bkNyZWF0ZU9wQ29kZVtcIkFQUEVORF9FQUdFUkxZXCJdID0gMV0gPSBcIkFQUEVORF9FQUdFUkxZXCI7XG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRoZSBub2RlIHNob3VsZCBiZSBjb21tZW50IChyYXRoZXIgdGhhbiBhIHRleHQpIG5vZGUuXG4gICAgICovXG4gICAgSTE4bkNyZWF0ZU9wQ29kZVtJMThuQ3JlYXRlT3BDb2RlW1wiQ09NTUVOVFwiXSA9IDJdID0gXCJDT01NRU5UXCI7XG59KShJMThuQ3JlYXRlT3BDb2RlIHx8IChJMThuQ3JlYXRlT3BDb2RlID0ge30pKTtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDIgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIGxvY2FsZSBpZCB0aGF0IHRoZSBhcHBsaWNhdGlvbiBpcyBjdXJyZW50bHkgdXNpbmcgKGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucykuXG4gKiBUaGlzIGlzIHRoZSBpdnkgdmVyc2lvbiBvZiBgTE9DQUxFX0lEYCB0aGF0IHdhcyBkZWZpbmVkIGFzIGFuIGluamVjdGlvbiB0b2tlbiBmb3IgdGhlIHZpZXcgZW5naW5lXG4gKiBidXQgaXMgbm93IGRlZmluZWQgYXMgYSBnbG9iYWwgdmFsdWUuXG4gKi9cbmxldCBMT0NBTEVfSUQkMSA9IERFRkFVTFRfTE9DQUxFX0lEO1xuLyoqXG4gKiBTZXRzIHRoZSBsb2NhbGUgaWQgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zLlxuICogVGhpcyBpcyB0aGUgaXZ5IHZlcnNpb24gb2YgYExPQ0FMRV9JRGAgdGhhdCB3YXMgZGVmaW5lZCBhcyBhbiBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSB2aWV3IGVuZ2luZVxuICogYnV0IGlzIG5vdyBkZWZpbmVkIGFzIGEgZ2xvYmFsIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsb2NhbGVJZFxuICovXG5mdW5jdGlvbiBzZXRMb2NhbGVJZChsb2NhbGVJZCkge1xuICAgIGFzc2VydERlZmluZWQobG9jYWxlSWQsIGBFeHBlY3RlZCBsb2NhbGVJZCB0byBiZSBkZWZpbmVkYCk7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgTE9DQUxFX0lEJDEgPSBsb2NhbGVJZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgJy0nKTtcbiAgICB9XG59XG4vKipcbiAqIEdldHMgdGhlIGxvY2FsZSBpZCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgdHJhbnNsYXRpb25zIGFuZCBJQ1UgZXhwcmVzc2lvbnMuXG4gKiBUaGlzIGlzIHRoZSBpdnkgdmVyc2lvbiBvZiBgTE9DQUxFX0lEYCB0aGF0IHdhcyBkZWZpbmVkIGFzIGFuIGluamVjdGlvbiB0b2tlbiBmb3IgdGhlIHZpZXcgZW5naW5lXG4gKiBidXQgaXMgbm93IGRlZmluZWQgYXMgYSBnbG9iYWwgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsZUlkKCkge1xuICAgIHJldHVybiBMT0NBTEVfSUQkMTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEZpbmQgYSBub2RlIGluIGZyb250IG9mIHdoaWNoIGBjdXJyZW50VE5vZGVgIHNob3VsZCBiZSBpbnNlcnRlZCAodGFrZXMgaTE4biBpbnRvIGFjY291bnQpLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRldGVybWluZXMgdGhlIGBSTm9kZWAgaW4gZnJvbnQgb2Ygd2hpY2ggd2Ugc2hvdWxkIGluc2VydCB0aGUgYGN1cnJlbnRSTm9kZWAuIFRoaXNcbiAqIHRha2VzIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgaW50byBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSBwYXJlbnRUTm9kZSBwYXJlbnQgYFROb2RlYFxuICogQHBhcmFtIGN1cnJlbnRUTm9kZSBjdXJyZW50IGBUTm9kZWAgKFRoZSBub2RlIHdoaWNoIHdlIHdvdWxkIGxpa2UgdG8gaW5zZXJ0IGludG8gdGhlIERPTSlcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bihwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldykge1xuICAgIGNvbnN0IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXggPSBjdXJyZW50VE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgY29uc3QgaW5zZXJ0QmVmb3JlSW5kZXggPSBBcnJheS5pc0FycmF5KHROb2RlSW5zZXJ0QmVmb3JlSW5kZXgpID8gdE5vZGVJbnNlcnRCZWZvcmVJbmRleFswXSA6IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKGluc2VydEJlZm9yZUluZGV4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhOb0kxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5zZXJ0QmVmb3JlSW5kZXgpO1xuICAgICAgICByZXR1cm4gdW53cmFwUk5vZGUobFZpZXdbaW5zZXJ0QmVmb3JlSW5kZXhdKTtcbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3MgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBieSBhZGRpbmcgaTE4biB0ZXh0IG5vZGVzLlxuICpcbiAqIFNlZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBjaGlsZFROb2RlLCBsVmlldywgY2hpbGRSTm9kZSwgcGFyZW50UkVsZW1lbnQpIHtcbiAgICBjb25zdCB0Tm9kZUluc2VydEJlZm9yZUluZGV4ID0gY2hpbGRUTm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0Tm9kZUluc2VydEJlZm9yZUluZGV4KSkge1xuICAgICAgICAvLyBBbiBhcnJheSBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBhcmUgaTE4biBub2RlcyB0aGF0IG5lZWQgdG8gYmUgYWRkZWQgYXMgY2hpbGRyZW4gb2YgdGhpc1xuICAgICAgICAvLyBgY2hpbGRSTm9kZWAuIFRoZXNlIGkxOG4gbm9kZXMgd2VyZSBjcmVhdGVkIGJlZm9yZSB0aGlzIGBjaGlsZFJOb2RlYCB3YXMgYXZhaWxhYmxlIGFuZCBzb1xuICAgICAgICAvLyBvbmx5IG5vdyBjYW4gYmUgYWRkZWQuIFRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyB0aGUgbm9ybWFsIGluZGV4IHdoZXJlIHdlIHNob3VsZFxuICAgICAgICAvLyBpbnNlcnQgdGhlIGBjaGlsZFJOb2RlYC4gQWRkaXRpb25hbCBlbGVtZW50cyBhcmUgdGhlIGV4dHJhIG5vZGVzIHRvIGJlIGFkZGVkIGFzIGNoaWxkcmVuIG9mXG4gICAgICAgIC8vIGBjaGlsZFJOb2RlYC5cbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoY2hpbGRSTm9kZSk7XG4gICAgICAgIGxldCBpMThuUGFyZW50ID0gY2hpbGRSTm9kZTtcbiAgICAgICAgbGV0IGFuY2hvclJOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKCEoY2hpbGRUTm9kZS50eXBlICYgMyAvKiBBbnlSTm9kZSAqLykpIHtcbiAgICAgICAgICAgIGFuY2hvclJOb2RlID0gaTE4blBhcmVudDtcbiAgICAgICAgICAgIGkxOG5QYXJlbnQgPSBwYXJlbnRSRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaTE4blBhcmVudCAhPT0gbnVsbCAmJiAoY2hpbGRUTm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKSA9PT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0Tm9kZUluc2VydEJlZm9yZUluZGV4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBgdW53cmFwUk5vZGVgIGJlY2F1c2UgYWxsIG9mIHRoZSBpbmRleGVzIHBvaW50IHRvIGkxOG4gdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBzZWUgYGFzc2VydERvbU5vZGVgIGJlbG93LlxuICAgICAgICAgICAgICAgIGNvbnN0IGkxOG5DaGlsZCA9IGxWaWV3W3ROb2RlSW5zZXJ0QmVmb3JlSW5kZXhbaV1dO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgaTE4blBhcmVudCwgaTE4bkNoaWxkLCBhbmNob3JSTm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWRkIGB0Tm9kZWAgdG8gYHByZXZpb3VzVE5vZGVzYCBsaXN0IGFuZCB1cGRhdGUgcmVsZXZhbnQgYFROb2RlYHMgaW4gYHByZXZpb3VzVE5vZGVzYCBsaXN0XG4gKiBgdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICpcbiAqIFRoaW5ncyB0byBrZWVwIGluIG1pbmQ6XG4gKiAxLiBBbGwgaTE4biB0ZXh0IG5vZGVzIGFyZSBlbmNvZGVkIGFzIGBUTm9kZVR5cGUuRWxlbWVudGAgYW5kIGFyZSBjcmVhdGVkIGVhZ2VybHkgYnkgdGhlXG4gKiAgICBgybXJtWkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24uXG4gKiAyLiBBbGwgYFROb2RlVHlwZS5QbGFjZWhvbGRlcmAgYFROb2Rlc2AgYXJlIGVsZW1lbnRzIHdoaWNoIHdpbGwgYmUgY3JlYXRlZCBsYXRlciBieVxuICogICAgYMm1ybVlbGVtZW50U3RhcnRgIGluc3RydWN0aW9uLlxuICogMy4gYMm1ybVlbGVtZW50U3RhcnRgIGluc3RydWN0aW9uIHdpbGwgY3JlYXRlIGBUTm9kZWBzIGluIHRoZSBhc2NlbmRpbmcgYFROb2RlLmluZGV4YCBvcmRlci4gKFNvIGFcbiAqICAgIHNtYWxsZXIgaW5kZXggYFROb2RlYCBpcyBndWFyYW50ZWVkIHRvIGJlIGNyZWF0ZWQgYmVmb3JlIGEgbGFyZ2VyIG9uZSlcbiAqXG4gKiBXZSB1c2UgdGhlIGFib3ZlIHRocmVlIGludmFyaWFudHMgdG8gZGV0ZXJtaW5lIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAuXG4gKlxuICogSW4gYW4gaWRlYWwgd29ybGQgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCB3b3VsZCBhbHdheXMgYmUgYFROb2RlLm5leHQuaW5kZXhgLiBIb3dldmVyLFxuICogdGhpcyB3aWxsIG5vdCB3b3JrIGJlY2F1c2UgYFROb2RlLm5leHQuaW5kZXhgIG1heSBiZSBsYXJnZXIgdGhhbiBgVE5vZGUuaW5kZXhgIHdoaWNoIG1lYW5zIHRoYXRcbiAqIHRoZSBuZXh0IG5vZGUgaXMgbm90IHlldCBjcmVhdGVkIGFuZCB0aGVyZWZvcmUgd2UgY2FuJ3QgaW5zZXJ0IGluIGZyb250IG9mIGl0LlxuICpcbiAqIFJ1bGUxOiBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXggPSBudWxsYCBpZiBgVE5vZGUubmV4dCA9PT0gbnVsbGAgKEluaXRpYWwgY29uZGl0aW9uLCBhcyB3ZSBkb24ndFxuICogICAgICAgIGtub3cgaWYgdGhlcmUgd2lsbCBiZSBmdXJ0aGVyIGBUTm9kZWBzIGluc2VydGVkIGFmdGVyLilcbiAqIFJ1bGUyOiBJZiBgcHJldmlvdXNUTm9kZWAgaXMgY3JlYXRlZCBhZnRlciB0aGUgYHROb2RlYCBiZWluZyBpbnNlcnRlZCwgdGhlblxuICogICAgICAgIGBwcmV2aW91c1ROb2RlLmluc2VydEJlZm9yZU5vZGUgPSB0Tm9kZS5pbmRleGAgKFNvIHdoZW4gYSBuZXcgYHROb2RlYCBpcyBhZGRlZCB3ZSBjaGVja1xuICogICAgICAgIHByZXZpb3VzIHRvIHNlZSBpZiB3ZSBjYW4gdXBkYXRlIGl0cyBgaW5zZXJ0QmVmb3JlVE5vZGVgKVxuICpcbiAqIFNlZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGZvciBtb3JlIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHByZXZpb3VzVE5vZGVzIEEgbGlzdCBvZiBwcmV2aW91cyBUTm9kZXMgc28gdGhhdCB3ZSBjYW4gZWFzaWx5IHRyYXZlcnNlIGBUTm9kZWBzIGluXG4gKiAgICAgcmV2ZXJzZSBvcmRlci4gKElmIGBUTm9kZWAgd291bGQgaGF2ZSBgcHJldmlvdXNgIHRoaXMgd291bGQgbm90IGJlIG5lY2Vzc2FyeS4pXG4gKiBAcGFyYW0gbmV3VE5vZGUgQSBUTm9kZSB0byBhZGQgdG8gdGhlIGBwcmV2aW91c1ROb2Rlc2AgbGlzdC5cbiAqL1xuZnVuY3Rpb24gYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleChwcmV2aW91c1ROb2RlcywgbmV3VE5vZGUpIHtcbiAgICAvLyBTdGFydCB3aXRoIFJ1bGUxXG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKG5ld1ROb2RlLmluc2VydEJlZm9yZUluZGV4LCBudWxsLCAnV2UgZXhwZWN0IHRoYXQgaW5zZXJ0QmVmb3JlSW5kZXggaXMgbm90IHNldCcpO1xuICAgIHByZXZpb3VzVE5vZGVzLnB1c2gobmV3VE5vZGUpO1xuICAgIGlmIChwcmV2aW91c1ROb2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBwcmV2aW91c1ROb2Rlcy5sZW5ndGggLSAyOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUTm9kZSA9IHByZXZpb3VzVE5vZGVzW2ldO1xuICAgICAgICAgICAgLy8gVGV4dCBub2RlcyBhcmUgY3JlYXRlZCBlYWdlcmx5IGFuZCBzbyB0aGV5IGRvbid0IG5lZWQgdGhlaXIgYGluZGV4QmVmb3JlSW5kZXhgIHVwZGF0ZWQuXG4gICAgICAgICAgICAvLyBJdCBpcyBzYWZlIHRvIGlnbm9yZSB0aGVtLlxuICAgICAgICAgICAgaWYgKCFpc0kxOG5UZXh0KGV4aXN0aW5nVE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmV3VE5vZGVDcmVhdGVkQmVmb3JlKGV4aXN0aW5nVE5vZGUsIG5ld1ROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICBnZXRJbnNlcnRCZWZvcmVJbmRleChleGlzdGluZ1ROb2RlKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCB3YXMgY3JlYXRlZCBiZWZvcmUgdXMgaW4gdGltZSwgKGFuZCBpdCBkb2VzIG5vdCB5ZXQgaGF2ZSBgaW5zZXJ0QmVmb3JlSW5kZXhgKVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIGFkZCB0aGUgYGluc2VydEJlZm9yZUluZGV4YC5cbiAgICAgICAgICAgICAgICAgICAgc2V0SW5zZXJ0QmVmb3JlSW5kZXgoZXhpc3RpbmdUTm9kZSwgbmV3VE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSTE4blRleHQodE5vZGUpIHtcbiAgICByZXR1cm4gISh0Tm9kZS50eXBlICYgNjQgLyogUGxhY2Vob2xkZXIgKi8pO1xufVxuZnVuY3Rpb24gaXNOZXdUTm9kZUNyZWF0ZWRCZWZvcmUoZXhpc3RpbmdUTm9kZSwgbmV3VE5vZGUpIHtcbiAgICByZXR1cm4gaXNJMThuVGV4dChuZXdUTm9kZSkgfHwgZXhpc3RpbmdUTm9kZS5pbmRleCA+IG5ld1ROb2RlLmluZGV4O1xufVxuZnVuY3Rpb24gZ2V0SW5zZXJ0QmVmb3JlSW5kZXgodE5vZGUpIHtcbiAgICBjb25zdCBpbmRleCA9IHROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGluZGV4KSA/IGluZGV4WzBdIDogaW5kZXg7XG59XG5mdW5jdGlvbiBzZXRJbnNlcnRCZWZvcmVJbmRleCh0Tm9kZSwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGluZGV4KSkge1xuICAgICAgICAvLyBBcnJheSBpcyBzdG9yZWQgaWYgd2UgaGF2ZSB0byBpbnNlcnQgY2hpbGQgbm9kZXMuIFNlZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgXG4gICAgICAgIGluZGV4WzBdID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRJMThuSGFuZGxpbmcoZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biwgcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUpO1xuICAgICAgICB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleCA9IHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHJpZXZlIGBUSWN1YCBhdCBhIGdpdmVuIGBpbmRleGAuXG4gKlxuICogVGhlIGBUSWN1YCBjYW4gYmUgc3RvcmVkIGVpdGhlciBkaXJlY3RseSAoaWYgaXQgaXMgbmVzdGVkIElDVSkgT1JcbiAqIGl0IGlzIHN0b3JlZCBpbnNpZGUgdGhvIGBUSWN1Q29udGFpbmVyYCBpZiBpdCBpcyB0b3AgbGV2ZWwgSUNVLlxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB0aGUgdG9wIGxldmVsIElDVSBuZWVkIGEgYFROb2RlYCBzbyB0aGF0IHRoZXkgYXJlIHBhcnQgb2YgdGhlIHJlbmRlclxuICogdHJlZSwgYnV0IG5lc3RlZCBJQ1UncyBoYXZlIG5vIFROb2RlLCBiZWNhdXNlIHdlIGRvbid0IGtub3cgYWhlYWQgb2YgdGltZSBpZiB0aGUgbmVzdGVkIElDVSBpc1xuICogZXhwcmVzc2VkIChwYXJlbnQgSUNVIG1heSBoYXZlIHNlbGVjdGVkIGEgY2FzZSB3aGljaCBkb2VzIG5vdCBjb250YWluIGl0LilcbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIGluZGV4IEluZGV4IHdoZXJlIHRoZSB2YWx1ZSBzaG91bGQgYmUgcmVhZCBmcm9tLlxuICovXG5mdW5jdGlvbiBnZXRUSWN1KHRWaWV3LCBpbmRleCkge1xuICAgIGNvbnN0IHZhbHVlID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChuZ0Rldk1vZGUgJiZcbiAgICAgICAgISh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgndFZpZXdzJykgfHwgdmFsdWUuaGFzT3duUHJvcGVydHkoJ2N1cnJlbnRDYXNlTFZpZXdJbmRleCcpKSkge1xuICAgICAgICB0aHJvd0Vycm9yKCdXZSBleHBlY3QgdG8gZ2V0IFxcJ251bGxcXCd8XFwnVEljdVxcJ3xcXCdUSWN1Q29udGFpbmVyXFwnLCBidXQgZ290OiAnICsgdmFsdWUpO1xuICAgIH1cbiAgICAvLyBIZXJlIHRoZSBgdmFsdWUuaGFzT3duUHJvcGVydHkoJ2N1cnJlbnRDYXNlTFZpZXdJbmRleCcpYCBpcyBhIHBvbHltb3JwaGljIHJlYWQgYXMgaXQgY2FuIGJlXG4gICAgLy8gZWl0aGVyIFRJY3Ugb3IgVEljdUNvbnRhaW5lck5vZGUuIFRoaXMgaXMgbm90IGlkZWFsLCBidXQgd2Ugc3RpbGwgdGhpbmsgaXQgaXMgT0sgYmVjYXVzZSBpdFxuICAgIC8vIHdpbGwgYmUganVzdCB0d28gY2FzZXMgd2hpY2ggZml0cyBpbnRvIHRoZSBicm93c2VyIGlubGluZSBjYWNoZSAoaW5saW5lIGNhY2hlIGNhbiB0YWtlIHVwIHRvXG4gICAgLy8gNClcbiAgICBjb25zdCB0SWN1ID0gdmFsdWUuaGFzT3duUHJvcGVydHkoJ2N1cnJlbnRDYXNlTFZpZXdJbmRleCcpID8gdmFsdWUgOlxuICAgICAgICB2YWx1ZS52YWx1ZTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VEljdSh0SWN1KTtcbiAgICByZXR1cm4gdEljdTtcbn1cbi8qKlxuICogU3RvcmUgYFRJY3VgIGF0IGEgZ2l2ZSBgaW5kZXhgLlxuICpcbiAqIFRoZSBgVEljdWAgY2FuIGJlIHN0b3JlZCBlaXRoZXIgZGlyZWN0bHkgKGlmIGl0IGlzIG5lc3RlZCBJQ1UpIE9SXG4gKiBpdCBpcyBzdG9yZWQgaW5zaWRlIHRobyBgVEljdUNvbnRhaW5lcmAgaWYgaXQgaXMgdG9wIGxldmVsIElDVS5cbiAqXG4gKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhlIHRvcCBsZXZlbCBJQ1UgbmVlZCBhIGBUTm9kZWAgc28gdGhhdCB0aGV5IGFyZSBwYXJ0IG9mIHRoZSByZW5kZXJcbiAqIHRyZWUsIGJ1dCBuZXN0ZWQgSUNVJ3MgaGF2ZSBubyBUTm9kZSwgYmVjYXVzZSB3ZSBkb24ndCBrbm93IGFoZWFkIG9mIHRpbWUgaWYgdGhlIG5lc3RlZCBJQ1UgaXNcbiAqIGV4cHJlc3NlZCAocGFyZW50IElDVSBtYXkgaGF2ZSBzZWxlY3RlZCBhIGNhc2Ugd2hpY2ggZG9lcyBub3QgY29udGFpbiBpdC4pXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSBpbmRleCBJbmRleCB3aGVyZSB0aGUgdmFsdWUgc2hvdWxkIGJlIHN0b3JlZCBhdCBpbiBgVHZpZXcuZGF0YWBcbiAqIEBwYXJhbSB0SWN1IFRoZSBUSWN1IHRvIHN0b3JlLlxuICovXG5mdW5jdGlvbiBzZXRUSWN1KHRWaWV3LCBpbmRleCwgdEljdSkge1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKHROb2RlID09PSBudWxsIHx8IHROb2RlLmhhc093blByb3BlcnR5KCd0Vmlld3MnKSwgdHJ1ZSwgJ1dlIGV4cGVjdCB0byBnZXQgXFwnbnVsbFxcJ3xcXCdUSWN1Q29udGFpbmVyXFwnJyk7XG4gICAgaWYgKHROb2RlID09PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LmRhdGFbaW5kZXhdID0gdEljdTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMyIC8qIEljdSAqLyk7XG4gICAgICAgIHROb2RlLnZhbHVlID0gdEljdTtcbiAgICB9XG59XG4vKipcbiAqIFNldCBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIHRha2luZyB0aGUgYEFycmF5YCBpbnRvIGFjY291bnQuXG4gKlxuICogU2VlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAqL1xuZnVuY3Rpb24gc2V0VE5vZGVJbnNlcnRCZWZvcmVJbmRleCh0Tm9kZSwgaW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGUodE5vZGUpO1xuICAgIGxldCBpbnNlcnRCZWZvcmVJbmRleCA9IHROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIGlmIChpbnNlcnRCZWZvcmVJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICBzZXRJMThuSGFuZGxpbmcoZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biwgcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUpO1xuICAgICAgICBpbnNlcnRCZWZvcmVJbmRleCA9IHROb2RlLmluc2VydEJlZm9yZUluZGV4ID1cbiAgICAgICAgICAgIFtudWxsIC8qIG1heSBiZSB1cGRhdGVkIHRvIG51bWJlciBsYXRlciAqLywgaW5kZXhdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0RXF1YWwoQXJyYXkuaXNBcnJheShpbnNlcnRCZWZvcmVJbmRleCksIHRydWUsICdFeHBlY3RpbmcgYXJyYXkgaGVyZScpO1xuICAgICAgICBpbnNlcnRCZWZvcmVJbmRleC5wdXNoKGluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBgVE5vZGUudHlwZT1UTm9kZVR5cGUuUGxhY2Vob2xkZXJgIG5vZGUuXG4gKlxuICogU2VlIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVUTm9kZVBsYWNlaG9sZGVyKHRWaWV3LCBwcmV2aW91c1ROb2RlcywgaW5kZXgpIHtcbiAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlQXRJbmRleCh0VmlldywgaW5kZXgsIDY0IC8qIFBsYWNlaG9sZGVyICovLCBudWxsLCBudWxsKTtcbiAgICBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4KHByZXZpb3VzVE5vZGVzLCB0Tm9kZSk7XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBSZXR1cm5zIGN1cnJlbnQgSUNVIGNhc2UuXG4gKlxuICogSUNVIGNhc2VzIGFyZSBzdG9yZWQgYXMgaW5kZXggaW50byB0aGUgYFRJY3UuY2FzZXNgLlxuICogQXQgdGltZXMgaXQgaXMgbmVjZXNzYXJ5IHRvIGNvbW11bmljYXRlIHRoYXQgdGhlIElDVSBjYXNlIGp1c3Qgc3dpdGNoZWQgYW5kIHRoYXQgbmV4dCBJQ1UgdXBkYXRlXG4gKiBzaG91bGQgdXBkYXRlIGFsbCBiaW5kaW5ncyByZWdhcmRsZXNzIG9mIHRoZSBtYXNrLiBJbiBzdWNoIGEgY2FzZSB0aGUgd2Ugc3RvcmUgbmVnYXRpdmUgbnVtYmVyc1xuICogZm9yIGNhc2VzIHdoaWNoIGhhdmUganVzdCBiZWVuIHN3aXRjaGVkLiBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIG5lZ2F0aXZlIGZsYWcuXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpIHtcbiAgICBjb25zdCBjdXJyZW50Q2FzZSA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XTtcbiAgICByZXR1cm4gY3VycmVudENhc2UgPT09IG51bGwgPyBjdXJyZW50Q2FzZSA6IChjdXJyZW50Q2FzZSA8IDAgPyB+Y3VycmVudENhc2UgOiBjdXJyZW50Q2FzZSk7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRGcm9tSWN1Q3JlYXRlT3BDb2RlKG1lcmdlZENvZGUpIHtcbiAgICByZXR1cm4gbWVyZ2VkQ29kZSA+Pj4gMTcgLyogU0hJRlRfUEFSRU5UICovO1xufVxuZnVuY3Rpb24gZ2V0UmVmRnJvbUljdUNyZWF0ZU9wQ29kZShtZXJnZWRDb2RlKSB7XG4gICAgcmV0dXJuIChtZXJnZWRDb2RlICYgMTMxMDcwIC8qIE1BU0tfUkVGICovKSA+Pj4gMSAvKiBTSElGVF9SRUYgKi87XG59XG5mdW5jdGlvbiBnZXRJbnN0cnVjdGlvbkZyb21JY3VDcmVhdGVPcENvZGUobWVyZ2VkQ29kZSkge1xuICAgIHJldHVybiBtZXJnZWRDb2RlICYgMSAvKiBNQVNLX0lOU1RSVUNUSU9OICovO1xufVxuZnVuY3Rpb24gaWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSwgcGFyZW50SWR4LCByZWZJZHgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKHBhcmVudElkeCwgMCwgJ01pc3NpbmcgcGFyZW50IGluZGV4Jyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuKHJlZklkeCwgMCwgJ01pc3NpbmcgcmVmIGluZGV4Jyk7XG4gICAgcmV0dXJuIG9wQ29kZSB8IHBhcmVudElkeCA8PCAxNyAvKiBTSElGVF9QQVJFTlQgKi8gfCByZWZJZHggPDwgMSAvKiBTSElGVF9SRUYgKi87XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIHdoaWNoIGlucHV0IGJpbmRpbmdzIGluIGDJtcm1aTE4bkV4cGAgaGF2ZSBjaGFuZ2VkLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBlZmZpY2llbnRseSB1cGRhdGUgZXhwcmVzc2lvbnMgaW4gaTE4biBvbmx5IHdoZW4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgaGFzXG4gKiBjaGFuZ2VkLlxuICpcbiAqIDEpIEVhY2ggYml0IHJlcHJlc2VudHMgd2hpY2ggb2YgdGhlIGDJtcm1aTE4bkV4cGAgaGFzIGNoYW5nZWQuXG4gKiAyKSBUaGVyZSBhcmUgMzIgYml0cyBhbGxvd2VkIGluIEpTLlxuICogMykgQml0IDMyIGlzIHNwZWNpYWwgYXMgaXQgaXMgc2hhcmVkIGZvciBhbGwgY2hhbmdlcyBwYXN0IDMyLiAoSW4gb3RoZXIgd29yZHMgaWYgeW91IGhhdmUgbW9yZVxuICogdGhhbiAzMiBgybXJtWkxOG5FeHBgIHRoZW4gYWxsIGNoYW5nZXMgcGFzdCAzMm5kIGDJtcm1aTE4bkV4cGAgd2lsbCBiZSBtYXBwZWQgdG8gc2FtZSBiaXQuIFRoaXMgbWVhbnNcbiAqIHRoYXQgd2UgbWF5IGVuZCB1cCBjaGFuZ2luZyBtb3JlIHRoYW4gd2UgbmVlZCB0by4gQnV0IGkxOG4gZXhwcmVzc2lvbnMgd2l0aCAzMiBiaW5kaW5ncyBpcyByYXJlXG4gKiBzbyBpbiBwcmFjdGljZSBpdCBzaG91bGQgbm90IGJlIGFuIGlzc3VlLilcbiAqL1xubGV0IGNoYW5nZU1hc2sgPSAwYjA7XG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGJpdCBuZWVkcyB0byBiZSB1cGRhdGVkIGluIGBjaGFuZ2VNYXNrYFxuICpcbiAqIFRoaXMgdmFsdWUgZ2V0cyBpbmNyZW1lbnRlZCBvbiBldmVyeSBjYWxsIHRvIGDJtcm1aTE4bkV4cGBcbiAqL1xubGV0IGNoYW5nZU1hc2tDb3VudGVyID0gMDtcbi8qKlxuICogS2VlcCB0cmFjayBvZiB3aGljaCBpbnB1dCBiaW5kaW5ncyBpbiBgybXJtWkxOG5FeHBgIGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBgc2V0TWFza0JpdGAgZ2V0cyBpbnZva2VkIGJ5IGVhY2ggY2FsbCB0byBgybXJtWkxOG5FeHBgLlxuICpcbiAqIEBwYXJhbSBoYXNDaGFuZ2UgZGlkIGDJtcm1aTE4bkV4cGAgZGV0ZWN0IGEgY2hhbmdlLlxuICovXG5mdW5jdGlvbiBzZXRNYXNrQml0KGhhc0NoYW5nZSkge1xuICAgIGlmIChoYXNDaGFuZ2UpIHtcbiAgICAgICAgY2hhbmdlTWFzayA9IGNoYW5nZU1hc2sgfCAoMSA8PCBNYXRoLm1pbihjaGFuZ2VNYXNrQ291bnRlciwgMzEpKTtcbiAgICB9XG4gICAgY2hhbmdlTWFza0NvdW50ZXIrKztcbn1cbmZ1bmN0aW9uIGFwcGx5STE4bih0VmlldywgbFZpZXcsIGluZGV4KSB7XG4gICAgaWYgKGNoYW5nZU1hc2tDb3VudGVyID4gMCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0VmlldywgYHRWaWV3IHNob3VsZCBiZSBkZWZpbmVkYCk7XG4gICAgICAgIGNvbnN0IHRJMThuID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgICAgIC8vIFdoZW4gYGluZGV4YCBwb2ludHMgdG8gYW4gYMm1ybVpMThuQXR0cmlidXRlc2AgdGhlbiB3ZSBoYXZlIGFuIGFycmF5IG90aGVyd2lzZSBgVEkxOG5gXG4gICAgICAgIGNvbnN0IHVwZGF0ZU9wQ29kZXMgPSBBcnJheS5pc0FycmF5KHRJMThuKSA/IHRJMThuIDogdEkxOG4udXBkYXRlO1xuICAgICAgICBjb25zdCBiaW5kaW5nc1N0YXJ0SW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKSAtIGNoYW5nZU1hc2tDb3VudGVyIC0gMTtcbiAgICAgICAgYXBwbHlVcGRhdGVPcENvZGVzKHRWaWV3LCBsVmlldywgdXBkYXRlT3BDb2RlcywgYmluZGluZ3NTdGFydEluZGV4LCBjaGFuZ2VNYXNrKTtcbiAgICB9XG4gICAgLy8gUmVzZXQgY2hhbmdlTWFzayAmIG1hc2tCaXQgdG8gZGVmYXVsdCBmb3IgdGhlIG5leHQgdXBkYXRlIGN5Y2xlXG4gICAgY2hhbmdlTWFzayA9IDBiMDtcbiAgICBjaGFuZ2VNYXNrQ291bnRlciA9IDA7XG59XG4vKipcbiAqIEFwcGx5IGBJMThuQ3JlYXRlT3BDb2Rlc2Agb3AtY29kZXMgYXMgc3RvcmVkIGluIGBUSTE4bi5jcmVhdGVgLlxuICpcbiAqIENyZWF0ZXMgdGV4dCAoYW5kIGNvbW1lbnQpIG5vZGVzIHdoaWNoIGFyZSBpbnRlcm5hdGlvbmFsaXplZC5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBsVmlld1xuICogQHBhcmFtIGNyZWF0ZU9wQ29kZXMgU2V0IG9mIG9wLWNvZGVzIHRvIGFwcGx5XG4gKiBAcGFyYW0gcGFyZW50Uk5vZGUgUGFyZW50IG5vZGUgKHNvIHRoYXQgZGlyZWN0IGNoaWxkcmVuIGNhbiBiZSBhZGRlZCBlYWdlcmx5KSBvciBgbnVsbGAgaWYgaXQgaXNcbiAqICAgICBhIHJvb3Qgbm9kZS5cbiAqIEBwYXJhbSBpbnNlcnRJbkZyb250T2YgRE9NIG5vZGUgdGhhdCBzaG91bGQgYmUgdXNlZCBhcyBhbiBhbmNob3IuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5Q3JlYXRlT3BDb2RlcyhsVmlldywgY3JlYXRlT3BDb2RlcywgcGFyZW50Uk5vZGUsIGluc2VydEluRnJvbnRPZikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3JlYXRlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBjcmVhdGVPcENvZGVzW2krK107XG4gICAgICAgIGNvbnN0IHRleHQgPSBjcmVhdGVPcENvZGVzW2ldO1xuICAgICAgICBjb25zdCBpc0NvbW1lbnQgPSAob3BDb2RlICYgSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UKSA9PT0gSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UO1xuICAgICAgICBjb25zdCBhcHBlbmROb3cgPSAob3BDb2RlICYgSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWSkgPT09IEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gb3BDb2RlID4+PiBJMThuQ3JlYXRlT3BDb2RlLlNISUZUO1xuICAgICAgICBsZXQgck5vZGUgPSBsVmlld1tpbmRleF07XG4gICAgICAgIGlmIChyTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gV2Ugb25seSBjcmVhdGUgbmV3IERPTSBub2RlcyBpZiB0aGV5IGRvbid0IGFscmVhZHkgZXhpc3Q6IElmIElDVSBzd2l0Y2hlcyBjYXNlIGJhY2sgdG8gYVxuICAgICAgICAgICAgLy8gY2FzZSB3aGljaCB3YXMgYWxyZWFkeSBpbnN0YW50aWF0ZWQsIG5vIG5lZWQgdG8gY3JlYXRlIG5ldyBET00gbm9kZXMuXG4gICAgICAgICAgICByTm9kZSA9IGxWaWV3W2luZGV4XSA9XG4gICAgICAgICAgICAgICAgaXNDb21tZW50ID8gcmVuZGVyZXIuY3JlYXRlQ29tbWVudCh0ZXh0KSA6IGNyZWF0ZVRleHROb2RlKHJlbmRlcmVyLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwZW5kTm93ICYmIHBhcmVudFJOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCByTm9kZSwgaW5zZXJ0SW5Gcm9udE9mLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IGBJMThuTXV0YXRlT3BDb2Rlc2AgT3BDb2Rlcy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gbXV0YWJsZU9wQ29kZXMgTXV0YWJsZSBPcENvZGVzIHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBhbmNob3JSTm9kZSBwbGFjZSB3aGVyZSB0aGUgaTE4biBub2RlIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNdXRhYmxlT3BDb2Rlcyh0VmlldywgbXV0YWJsZU9wQ29kZXMsIGxWaWV3LCBhbmNob3JSTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKGFuY2hvclJOb2RlKTtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAvLyBgcm9vdElkeGAgcmVwcmVzZW50cyB0aGUgbm9kZSBpbnRvIHdoaWNoIGFsbCBpbnNlcnRzIGhhcHBlbi5cbiAgICBsZXQgcm9vdElkeCA9IG51bGw7XG4gICAgLy8gYHJvb3RSTm9kZWAgcmVwcmVzZW50cyB0aGUgcmVhbCBub2RlIGludG8gd2hpY2ggd2UgaW5zZXJ0LiBUaGlzIGNhbiBiZSBkaWZmZXJlbnQgZnJvbVxuICAgIC8vIGBsVmlld1tyb290SWR4XWAgaWYgd2UgaGF2ZSBwcm9qZWN0aW9uLlxuICAgIC8vICAtIG51bGwgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCAoYXMgY2FuIGJlIHRoZSBjYXNlIGluIHdoZW4gd2UgYXJlIGluc2VydGluZyBpbnRvIGEgcm9vdCBvZlxuICAgIC8vICAgIExWaWV3IHdoaWNoIGhhcyBubyBwYXJlbnQuKVxuICAgIC8vICAtIGBSRWxlbWVudGAgVGhlIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSByb290IGFmdGVyIHRha2luZyBwcm9qZWN0aW9uIGludG8gYWNjb3VudC5cbiAgICBsZXQgcm9vdFJOb2RlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YWJsZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gbXV0YWJsZU9wQ29kZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Ygb3BDb2RlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZUluZGV4ID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgIGlmIChsVmlld1t0ZXh0Tm9kZUluZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVUZXh0Tm9kZSsrO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHRleHROb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxWaWV3W3RleHROb2RlSW5kZXhdID0gY3JlYXRlVGV4dE5vZGUocmVuZGVyZXIsIG9wQ29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wQ29kZSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgc3dpdGNoIChvcENvZGUgJiAxIC8qIE1BU0tfSU5TVFJVQ1RJT04gKi8pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDAgLyogQXBwZW5kQ2hpbGQgKi86XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudElkeCA9IGdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RJZHggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBvcGVyYXRpb24gc2hvdWxkIHNhdmUgdGhlIGByb290SWR4YCBiZWNhdXNlIHRoZSBmaXJzdCBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG11c3QgaW5zZXJ0IGludG8gdGhlIHJvb3QuIChPbmx5IHN1YnNlcXVlbnQgb3BlcmF0aW9ucyBjYW4gaW5zZXJ0IGludG8gYSBkeW5hbWljXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICByb290SWR4ID0gcGFyZW50SWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdFJOb2RlID0gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgYW5jaG9yUk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnRJbkZyb250T2Y7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRSTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudElkeCA9PT0gcm9vdElkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0SW5Gcm9udE9mID0gYW5jaG9yUk5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRSTm9kZSA9IHJvb3RSTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEluRnJvbnRPZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRSTm9kZSA9IHVud3JhcFJOb2RlKGxWaWV3W3BhcmVudElkeF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FKG1pc2tvKTogUmVmYWN0b3Igd2l0aCBgcHJvY2Vzc0kxOG5UZXh0YFxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50Uk5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgYExWaWV3YCB3ZSBhcmUgYWRkaW5nIHRvIGlzIG5vdCBhdHRhY2hlZCB0byBhIHBhcmVudCBgTFZpZXdgLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gc3VjaCBhIGNhc2UgdGhlcmUgaXMgbm8gXCJyb290XCIgd2UgY2FuIGF0dGFjaCB0by4gVGhpcyBpcyBmaW5lLCBhcyB3ZSBzdGlsbCBuZWVkIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIGVsZW1lbnRzLiBXaGVuIHRoZSBgTFZpZXdgIGdldHMgbGF0ZXIgYWRkZWQgdG8gYSBwYXJlbnQgdGhlc2UgXCJyb290XCIgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBwaWNrZWQgdXAgYW5kIGFkZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUocGFyZW50Uk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmSWR4ID0gZ2V0UmVmRnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuKHJlZklkeCwgSEVBREVSX09GRlNFVCwgJ01pc3NpbmcgcmVmJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgdW53cmFwUk5vZGVgIGlzIG5vdCBuZWVkZWQgaGVyZSBhcyBhbGwgb2YgdGhlc2UgcG9pbnQgdG8gUk5vZGVzIGFzIHBhcnQgb2YgdGhlIGkxOG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGNhbid0IGhhdmUgY29tcG9uZW50cy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbFZpZXdbcmVmSWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50Uk5vZGUsIGNoaWxkLCBpbnNlcnRJbkZyb250T2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRJY3UgPSBnZXRUSWN1KHRWaWV3LCByZWZJZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRJY3UgIT09IG51bGwgJiYgdHlwZW9mIHRJY3UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UganVzdCBhZGRlZCBhIGNvbW1lbnQgbm9kZSB3aGljaCBoYXMgSUNVIHRoZW4gdGhhdCBJQ1UgbWF5IGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyZWQgYW5kIHRoZXJlZm9yZSB3ZSBuZWVkIHRvIHJlLWFkZCBpdCBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUSWN1KHRJY3UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2VJbmRleCA9IGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlNdXRhYmxlT3BDb2Rlcyh0VmlldywgdEljdS5jcmVhdGVbY2FzZUluZGV4XSwgbFZpZXcsIGxWaWV3W3RJY3UuYW5jaG9ySWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBBdHRyICovOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50Tm9kZUluZGV4ID0gb3BDb2RlID4+PiAxIC8qIFNISUZUX1JFRiAqLztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdXNlZCBmb3IgSUNVIGV4cHJlc3Npb25zIG9ubHksIHNpbmNlIHdlIGRvbid0IHN1cHBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlcy9jb21wb25lbnRzIGluIElDVXMsIHdlIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaW5wdXRzIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgc2V0RWxlbWVudEF0dHJpYnV0ZShyZW5kZXJlciwgZ2V0TmF0aXZlQnlJbmRleChlbGVtZW50Tm9kZUluZGV4LCBsVmlldyksIG51bGwsIG51bGwsIGF0dHJOYW1lLCBhdHRyVmFsdWUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDcwMCAvKiBJTlZBTElEX0kxOE5fU1RSVUNUVVJFICovLCBgVW5hYmxlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBtdXRhdGUgb3BlcmF0aW9uIGZvciBcIiR7b3BDb2RlfVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAob3BDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBJQ1VfTUFSS0VSOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tZW50VmFsdWUgPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tZW50Tm9kZUluZGV4ID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxWaWV3W2NvbW1lbnROb2RlSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgY29tbWVudFZhbHVlLCAnc3RyaW5nJywgYEV4cGVjdGVkIFwiJHtjb21tZW50VmFsdWV9XCIgdG8gYmUgYSBjb21tZW50IG5vZGUgdmFsdWVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVDb21tZW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgY29tbWVudE5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tZW50Uk5vZGUgPSBsVmlld1tjb21tZW50Tm9kZUluZGV4XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ29tbWVudE5vZGUocmVuZGVyZXIsIGNvbW1lbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRShtaXNrbyk6IEF0dGFjaGluZyBwYXRjaCBkYXRhIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgcm9vdCAoQWxzbyBhZGQgdGVzdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29tbWVudFJOb2RlLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFTEVNRU5UX01BUktFUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnTmFtZSA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnROb2RlSW5kZXggPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobFZpZXdbZWxlbWVudE5vZGVJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHR5cGVvZiB0YWdOYW1lLCAnc3RyaW5nJywgYEV4cGVjdGVkIFwiJHt0YWdOYW1lfVwiIHRvIGJlIGFuIGVsZW1lbnQgbm9kZSB0YWcgbmFtZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUVsZW1lbnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluRXhwYW5kb1JhbmdlKGxWaWV3LCBlbGVtZW50Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRSTm9kZSA9IGxWaWV3W2VsZW1lbnROb2RlSW5kZXhdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50Tm9kZShyZW5kZXJlciwgdGFnTmFtZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRShtaXNrbyk6IEF0dGFjaGluZyBwYXRjaCBkYXRhIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgcm9vdCAoQWxzbyBhZGQgdGVzdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoZWxlbWVudFJOb2RlLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGBVbmFibGUgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIG11dGF0ZSBvcGVyYXRpb24gZm9yIFwiJHtvcENvZGV9XCJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgYEkxOG5VcGRhdGVPcENvZGVzYCBPcENvZGVzXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIHVwZGF0ZU9wQ29kZXMgT3BDb2RlcyB0byBwcm9jZXNzXG4gKiBAcGFyYW0gYmluZGluZ3NTdGFydEluZGV4IExvY2F0aW9uIG9mIHRoZSBmaXJzdCBgybXJtWkxOG5BcHBseWBcbiAqIEBwYXJhbSBjaGFuZ2VNYXNrIEVhY2ggYml0IGNvcnJlc3BvbmRzIHRvIGEgYMm1ybVpMThuRXhwYCAoQ291bnRpbmcgYmFja3dhcmRzIGZyb21cbiAqICAgICBgYmluZGluZ3NTdGFydEluZGV4YClcbiAqL1xuZnVuY3Rpb24gYXBwbHlVcGRhdGVPcENvZGVzKHRWaWV3LCBsVmlldywgdXBkYXRlT3BDb2RlcywgYmluZGluZ3NTdGFydEluZGV4LCBjaGFuZ2VNYXNrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cGRhdGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGJpdCBjb2RlIHRvIGNoZWNrIGlmIHdlIHNob3VsZCBhcHBseSB0aGUgbmV4dCB1cGRhdGVcbiAgICAgICAgY29uc3QgY2hlY2tCaXQgPSB1cGRhdGVPcENvZGVzW2ldO1xuICAgICAgICAvLyBOdW1iZXIgb2Ygb3BDb2RlcyB0byBza2lwIHVudGlsIG5leHQgc2V0IG9mIHVwZGF0ZSBjb2Rlc1xuICAgICAgICBjb25zdCBza2lwQ29kZXMgPSB1cGRhdGVPcENvZGVzWysraV07XG4gICAgICAgIGlmIChjaGVja0JpdCAmIGNoYW5nZU1hc2spIHtcbiAgICAgICAgICAgIC8vIFRoZSB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkIHNpbmNlIGxhc3QgY2hlY2tlZFxuICAgICAgICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPD0gKGkgKyBza2lwQ29kZXMpOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcENvZGUgPSB1cGRhdGVPcENvZGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3BDb2RlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9wQ29kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wQ29kZSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3BDb2RlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgb3BDb2RlIHJlcHJlc2VudCBgaTE4bkV4cGAgdmFsdWVzIG9mZnNldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHJlbmRlclN0cmluZ2lmeShsVmlld1tiaW5kaW5nc1N0YXJ0SW5kZXggLSBvcENvZGVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVJbmRleCA9IChvcENvZGUgPj4+IDIgLyogU0hJRlRfUkVGICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BDb2RlICYgMyAvKiBNQVNLX09QQ09ERSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBBdHRyICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wTmFtZSA9IHVwZGF0ZU9wQ29kZXNbKytqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVGbiA9IHVwZGF0ZU9wQ29kZXNbKytqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdE5vZGVPclRhZ05hbWUgPSB0Vmlldy5kYXRhW25vZGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHROb2RlT3JUYWdOYW1lLCAnRXhwZXJ0aW5nIFROb2RlIG9yIHN0cmluZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHROb2RlT3JUYWdOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUYgd2UgZG9uJ3QgaGF2ZSBhIGBUTm9kZWAsIHRoZW4gd2UgYXJlIGFuIGVsZW1lbnQgaW4gSUNVIChhcyBJQ1UgY29udGVudCBkb2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3QgaGF2ZSBUTm9kZSksIGluIHdoaWNoIGNhc2Ugd2Uga25vdyB0aGF0IHRoZXJlIGFyZSBubyBkaXJlY3RpdmVzLCBhbmQgaGVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHVzZSBhdHRyaWJ1dGUgc2V0dGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRBdHRyaWJ1dGUobFZpZXdbUkVOREVSRVJdLCBsVmlld1tub2RlSW5kZXhdLCBudWxsLCB0Tm9kZU9yVGFnTmFtZSwgcHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZUZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZU9yVGFnTmFtZSwgbFZpZXcsIHByb3BOYW1lLCB2YWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZUZuLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIFRleHQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJUZXh0ID0gbFZpZXdbbm9kZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgclRleHQgIT09IG51bGwgJiYgdXBkYXRlVGV4dE5vZGUobFZpZXdbUkVOREVSRVJdLCByVGV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogSWN1U3dpdGNoICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUljdVN3aXRjaENhc2UodFZpZXcsIGdldFRJY3UodFZpZXcsIG5vZGVJbmRleCksIGxWaWV3LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBJY3VVcGRhdGUgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5SWN1VXBkYXRlQ2FzZSh0VmlldywgZ2V0VEljdSh0Vmlldywgbm9kZUluZGV4KSwgYmluZGluZ3NTdGFydEluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgb3BDb2RlID0gdXBkYXRlT3BDb2Rlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAob3BDb2RlID4gMCAmJiAob3BDb2RlICYgMyAvKiBNQVNLX09QQ09ERSAqLykgPT09IDMgLyogSWN1VXBkYXRlICovKSB7XG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciB0aGUgYGljdVVwZGF0ZUNhc2VgLiBJdCBjb3VsZCBiZSB0aGF0IHRoZSBtYXNrIGRpZCBub3QgbWF0Y2gsIGJ1dFxuICAgICAgICAgICAgICAgIC8vIHdlIHN0aWxsIG5lZWQgdG8gZXhlY3V0ZSBgaWN1VXBkYXRlQ2FzZWAgYmVjYXVzZSB0aGUgY2FzZSBoYXMgY2hhbmdlZCByZWNlbnRseSBkdWUgdG9cbiAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyBgaWN1U3dpdGNoQ2FzZWAgaW5zdHJ1Y3Rpb24uIChgaWN1U3dpdGNoQ2FzZWAgYW5kIGBpY3VVcGRhdGVDYXNlYCBhbHdheXMgY29tZSBpblxuICAgICAgICAgICAgICAgIC8vIHBhaXJzLilcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlSW5kZXggPSAob3BDb2RlID4+PiAyIC8qIFNISUZUX1JFRiAqLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdEljdSA9IGdldFRJY3UodFZpZXcsIG5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5SWN1VXBkYXRlQ2FzZSh0VmlldywgdEljdSwgYmluZGluZ3NTdGFydEluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkgKz0gc2tpcENvZGVzO1xuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgT3BDb2RlcyBhc3NvY2lhdGVkIHdpdGggdXBkYXRpbmcgYW4gZXhpc3RpbmcgSUNVLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSB0SWN1IEN1cnJlbnQgYFRJY3VgXG4gKiBAcGFyYW0gYmluZGluZ3NTdGFydEluZGV4IExvY2F0aW9uIG9mIHRoZSBmaXJzdCBgybXJtWkxOG5BcHBseWBcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gYXBwbHlJY3VVcGRhdGVDYXNlKHRWaWV3LCB0SWN1LCBiaW5kaW5nc1N0YXJ0SW5kZXgsIGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXgpO1xuICAgIGxldCBhY3RpdmVDYXNlSW5kZXggPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF07XG4gICAgaWYgKGFjdGl2ZUNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgbWFzayA9IGNoYW5nZU1hc2s7XG4gICAgICAgIGlmIChhY3RpdmVDYXNlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgZmxhZy5cbiAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlciBtZWFucyB0aGF0IHRoZSBJQ1Ugd2FzIGZyZXNobHkgY3JlYXRlZCBhbmQgd2UgbmVlZCB0byBmb3JjZSB0aGUgdXBkYXRlLlxuICAgICAgICAgICAgYWN0aXZlQ2FzZUluZGV4ID0gbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdID0gfmFjdGl2ZUNhc2VJbmRleDtcbiAgICAgICAgICAgIC8vIC0xIGlzIHNhbWUgYXMgYWxsIGJpdHMgb24sIHdoaWNoIHNpbXVsYXRlcyBjcmVhdGlvbiBzaW5jZSBpdCBtYXJrcyBhbGwgYml0cyBkaXJ0eVxuICAgICAgICAgICAgbWFzayA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5VXBkYXRlT3BDb2Rlcyh0VmlldywgbFZpZXcsIHRJY3UudXBkYXRlW2FjdGl2ZUNhc2VJbmRleF0sIGJpbmRpbmdzU3RhcnRJbmRleCwgbWFzayk7XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBPcENvZGVzIGFzc29jaWF0ZWQgd2l0aCBzd2l0Y2hpbmcgYSBjYXNlIG9uIElDVS5cbiAqXG4gKiBUaGlzIGludm9sdmVzIHRlYXJpbmcgZG93biBleGlzdGluZyBjYXNlIGFuZCB0aGFuIGJ1aWxkaW5nIHVwIGEgbmV3IGNhc2UuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIHRJY3UgQ3VycmVudCBgVEljdWBcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSBvZiB0aGUgY2FzZSB0byB1cGRhdGUgdG8uXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SWN1U3dpdGNoQ2FzZSh0VmlldywgdEljdSwgbFZpZXcsIHZhbHVlKSB7XG4gICAgLy8gUmVidWlsZCBhIG5ldyBjYXNlIGZvciB0aGlzIElDVVxuICAgIGNvbnN0IGNhc2VJbmRleCA9IGdldENhc2VJbmRleCh0SWN1LCB2YWx1ZSk7XG4gICAgbGV0IGFjdGl2ZUNhc2VJbmRleCA9IGdldEN1cnJlbnRJQ1VDYXNlSW5kZXgodEljdSwgbFZpZXcpO1xuICAgIGlmIChhY3RpdmVDYXNlSW5kZXggIT09IGNhc2VJbmRleCkge1xuICAgICAgICBhcHBseUljdVN3aXRjaENhc2VSZW1vdmUodFZpZXcsIHRJY3UsIGxWaWV3KTtcbiAgICAgICAgbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdID0gY2FzZUluZGV4ID09PSBudWxsID8gbnVsbCA6IH5jYXNlSW5kZXg7XG4gICAgICAgIGlmIChjYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbm9kZXMgZm9yIHRoZSBuZXcgY2FzZVxuICAgICAgICAgICAgY29uc3QgYW5jaG9yUk5vZGUgPSBsVmlld1t0SWN1LmFuY2hvcklkeF07XG4gICAgICAgICAgICBpZiAoYW5jaG9yUk5vZGUpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShhbmNob3JSTm9kZSk7XG4gICAgICAgICAgICAgICAgYXBwbHlNdXRhYmxlT3BDb2Rlcyh0VmlldywgdEljdS5jcmVhdGVbY2FzZUluZGV4XSwgbFZpZXcsIGFuY2hvclJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgT3BDb2RlcyBhc3NvY2lhdGVkIHdpdGggdGVhcmluZyBJQ1UgY2FzZS5cbiAqXG4gKiBUaGlzIGludm9sdmVzIHRlYXJpbmcgZG93biBleGlzdGluZyBjYXNlIGFuZCB0aGFuIGJ1aWxkaW5nIHVwIGEgbmV3IGNhc2UuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIHRJY3UgQ3VycmVudCBgVEljdWBcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqL1xuZnVuY3Rpb24gYXBwbHlJY3VTd2l0Y2hDYXNlUmVtb3ZlKHRWaWV3LCB0SWN1LCBsVmlldykge1xuICAgIGxldCBhY3RpdmVDYXNlSW5kZXggPSBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KTtcbiAgICBpZiAoYWN0aXZlQ2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZUNvZGVzID0gdEljdS5yZW1vdmVbYWN0aXZlQ2FzZUluZGV4XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZU9ySWN1SW5kZXggPSByZW1vdmVDb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChub2RlT3JJY3VJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGl2ZSBudW1iZXJzIGFyZSBgUk5vZGVgcy5cbiAgICAgICAgICAgICAgICBjb25zdCByTm9kZSA9IGdldE5hdGl2ZUJ5SW5kZXgobm9kZU9ySWN1SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICByTm9kZSAhPT0gbnVsbCAmJiBuYXRpdmVSZW1vdmVOb2RlKGxWaWV3W1JFTkRFUkVSXSwgck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBhcmUgSUNVc1xuICAgICAgICAgICAgICAgIGFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSh0VmlldywgZ2V0VEljdSh0Vmlldywgfm5vZGVPckljdUluZGV4KSwgbFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjYXNlIG9mIGFuIElDVSBleHByZXNzaW9uIGRlcGVuZGluZyBvbiB0aGUgbWFpbiBiaW5kaW5nIHZhbHVlXG4gKlxuICogQHBhcmFtIGljdUV4cHJlc3Npb25cbiAqIEBwYXJhbSBiaW5kaW5nVmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBtYWluIGJpbmRpbmcgdXNlZCBieSB0aGlzIElDVSBleHByZXNzaW9uXG4gKi9cbmZ1bmN0aW9uIGdldENhc2VJbmRleChpY3VFeHByZXNzaW9uLCBiaW5kaW5nVmFsdWUpIHtcbiAgICBsZXQgaW5kZXggPSBpY3VFeHByZXNzaW9uLmNhc2VzLmluZGV4T2YoYmluZGluZ1ZhbHVlKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHN3aXRjaCAoaWN1RXhwcmVzc2lvbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogcGx1cmFsICovOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRDYXNlID0gZ2V0UGx1cmFsQ2FzZShiaW5kaW5nVmFsdWUsIGdldExvY2FsZUlkKCkpO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKHJlc29sdmVkQ2FzZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSAmJiByZXNvbHZlZENhc2UgIT09ICdvdGhlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpY3VFeHByZXNzaW9uLmNhc2VzLmluZGV4T2YoJ290aGVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAwIC8qIHNlbGVjdCAqLzoge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKCdvdGhlcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleCA9PT0gLTEgPyBudWxsIDogaW5kZXg7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbG9hZEljdUNvbnRhaW5lclZpc2l0b3IoKSB7XG4gICAgY29uc3QgX3N0YWNrID0gW107XG4gICAgbGV0IF9pbmRleCA9IC0xO1xuICAgIGxldCBfbFZpZXc7XG4gICAgbGV0IF9yZW1vdmVzO1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHNldCBvZiByb290IG5vZGVzIGZyb20gYFRJY3UucmVtb3ZlYC4gVXNlZCBieSBgVE5vZGVUeXBlLklDVUNvbnRhaW5lcmBcbiAgICAgKiB0byBkZXRlcm1pbmUgd2hpY2ggcm9vdCBiZWxvbmcgdG8gdGhlIElDVS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGUgb2YgdXNhZ2UuXG4gICAgICogYGBgXG4gICAgICogY29uc3QgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0b3JTdGFydCh0SWN1Q29udGFpbmVyTm9kZSwgbFZpZXcpO1xuICAgICAqIGxldCByTm9kZTogUk5vZGV8bnVsbDtcbiAgICAgKiB3aGlsZShyTm9kZSA9IG5leHRSTm9kZSgpKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhyTm9kZSk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHRJY3VDb250YWluZXJOb2RlIEN1cnJlbnQgYFRJY3VDb250YWluZXJOb2RlYFxuICAgICAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIHdoZXJlIHRoZSBgUk5vZGVgcyBzaG91bGQgYmUgbG9va2VkIHVwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGljdUNvbnRhaW5lckl0ZXJhdG9yU3RhcnQodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KSB7XG4gICAgICAgIF9sVmlldyA9IGxWaWV3O1xuICAgICAgICB3aGlsZSAoX3N0YWNrLmxlbmd0aClcbiAgICAgICAgICAgIF9zdGFjay5wb3AoKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KTtcbiAgICAgICAgZW50ZXJJY3UodEljdUNvbnRhaW5lck5vZGUudmFsdWUsIGxWaWV3KTtcbiAgICAgICAgcmV0dXJuIGljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50ZXJJY3UodEljdSwgbFZpZXcpIHtcbiAgICAgICAgX2luZGV4ID0gMDtcbiAgICAgICAgY29uc3QgY3VycmVudENhc2UgPSBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KTtcbiAgICAgICAgaWYgKGN1cnJlbnRDYXNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShjdXJyZW50Q2FzZSwgMCwgdEljdS5jYXNlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIF9yZW1vdmVzID0gdEljdS5yZW1vdmVbY3VycmVudENhc2VdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3JlbW92ZXMgPSBFTVBUWV9BUlJBWTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpY3VDb250YWluZXJJdGVyYXRvck5leHQoKSB7XG4gICAgICAgIGlmIChfaW5kZXggPCBfcmVtb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZU9wQ29kZSA9IF9yZW1vdmVzW19pbmRleCsrXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIocmVtb3ZlT3BDb2RlLCAnRXhwZWN0aW5nIE9wQ29kZSBudW1iZXInKTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVPcENvZGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgck5vZGUgPSBfbFZpZXdbcmVtb3ZlT3BDb2RlXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShyTm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3N0YWNrLnB1c2goX2luZGV4LCBfcmVtb3Zlcyk7XG4gICAgICAgICAgICAgICAgLy8gSUNVcyBhcmUgcmVwcmVzZW50ZWQgYnkgbmVnYXRpdmUgaW5kaWNlc1xuICAgICAgICAgICAgICAgIGNvbnN0IHRJY3VJbmRleCA9IH5yZW1vdmVPcENvZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdEljdSA9IF9sVmlld1tUVklFV10uZGF0YVt0SWN1SW5kZXhdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUSWN1KHRJY3UpO1xuICAgICAgICAgICAgICAgIGVudGVySWN1KHRJY3UsIF9sVmlldyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKF9zdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9yZW1vdmVzID0gX3N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIF9pbmRleCA9IF9zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGljdUNvbnRhaW5lckl0ZXJhdG9yU3RhcnQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb252ZXJ0cyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGFycmF5IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGUgYEkxOG5DcmVhdGVPcENvZGVzLmRlYnVnYCBwcm9wZXJ0eSBpZiBgbmdEZXZNb2RlYCBpcyBlbmFibGVkLlxuICogVGhpcyBmdW5jdGlvbiBwcm92aWRlcyBhIGh1bWFuIHJlYWRhYmxlIHZpZXcgb2YgdGhlIG9wY29kZXMuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZGVidWdnaW5nIHRoZVxuICogYXBwbGljYXRpb24gYXMgd2VsbCBhcyB3cml0aW5nIG1vcmUgcmVhZGFibGUgdGVzdHMuXG4gKlxuICogQHBhcmFtIHRoaXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBhdHRhY2hlZCBhcyBhIG1ldGhvZC5cbiAqIEBwYXJhbSBvcGNvZGVzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgaWYgaW52b2tlZCBhcyBhIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBpMThuQ3JlYXRlT3BDb2Rlc1RvU3RyaW5nKG9wY29kZXMpIHtcbiAgICBjb25zdCBjcmVhdGVPcENvZGVzID0gb3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcmVhdGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IGNyZWF0ZU9wQ29kZXNbaSsrXTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGNyZWF0ZU9wQ29kZXNbaV07XG4gICAgICAgIGNvbnN0IGlzQ29tbWVudCA9IChvcENvZGUgJiBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQpID09PSBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQ7XG4gICAgICAgIGNvbnN0IGFwcGVuZE5vdyA9IChvcENvZGUgJiBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZKSA9PT0gSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBvcENvZGUgPj4+IEkxOG5DcmVhdGVPcENvZGUuU0hJRlQ7XG4gICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7aW5kZXh9XSA9IGRvY3VtZW50LiR7aXNDb21tZW50ID8gJ2NyZWF0ZUNvbW1lbnQnIDogJ2NyZWF0ZVRleHQnfSgke0pTT04uc3RyaW5naWZ5KHRleHQpfSk7YCk7XG4gICAgICAgIGlmIChhcHBlbmROb3cpIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYHBhcmVudC5hcHBlbmRDaGlsZChsVmlld1ske2luZGV4fV0pO2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbi8qKlxuICogQ29udmVydHMgYEkxOG5VcGRhdGVPcENvZGVzYCBhcnJheSBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYXR0YWNoZWQgdG8gdGhlIGBJMThuVXBkYXRlT3BDb2Rlcy5kZWJ1Z2AgcHJvcGVydHkgaWYgYG5nRGV2TW9kZWAgaXMgZW5hYmxlZC5cbiAqIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYSBodW1hbiByZWFkYWJsZSB2aWV3IG9mIHRoZSBvcGNvZGVzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRlYnVnZ2luZyB0aGVcbiAqIGFwcGxpY2F0aW9uIGFzIHdlbGwgYXMgd3JpdGluZyBtb3JlIHJlYWRhYmxlIHRlc3RzLlxuICpcbiAqIEBwYXJhbSB0aGlzIGBJMThuVXBkYXRlT3BDb2Rlc2AgaWYgYXR0YWNoZWQgYXMgYSBtZXRob2QuXG4gKiBAcGFyYW0gb3Bjb2RlcyBgSTE4blVwZGF0ZU9wQ29kZXNgIGlmIGludm9rZWQgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IE9wQ29kZVBhcnNlcihvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZnVuY3Rpb24gY29uc3VtZU9wQ29kZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZWYgPSB2YWx1ZSA+Pj4gMiAvKiBTSElGVF9SRUYgKi87XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IHZhbHVlICYgMyAvKiBNQVNLX09QQ09ERSAqLztcbiAgICAgICAgc3dpdGNoIChvcENvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBUZXh0ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgKGxWaWV3WyR7cmVmfV0gYXMgVGV4dCkudGV4dENvbnRlbnQgPSAkJCRgO1xuICAgICAgICAgICAgY2FzZSAxIC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBwYXJzZXIuY29uc3VtZVN0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbml0aXphdGlvbkZuID0gcGFyc2VyLmNvbnN1bWVGdW5jdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2FuaXRpemF0aW9uRm4gPyBgKCR7c2FuaXRpemF0aW9uRm59KSgkJCQpYCA6ICckJCQnO1xuICAgICAgICAgICAgICAgIHJldHVybiBgKGxWaWV3WyR7cmVmfV0gYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKCcke2F0dHJOYW1lfScsICR7dmFsdWV9KWA7XG4gICAgICAgICAgICBjYXNlIDIgLyogSWN1U3dpdGNoICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgaWN1U3dpdGNoQ2FzZSgke3JlZn0sICQkJClgO1xuICAgICAgICAgICAgY2FzZSAzIC8qIEljdVVwZGF0ZSAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGljdVVwZGF0ZUNhc2UoJHtyZWZ9KWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIE9wQ29kZScpO1xuICAgIH1cbiAgICB3aGlsZSAocGFyc2VyLmhhc01vcmUoKSkge1xuICAgICAgICBsZXQgbWFzayA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgIGxldCBzaXplID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgY29uc3QgZW5kID0gcGFyc2VyLmkgKyBzaXplO1xuICAgICAgICBjb25zdCBzdGF0ZW1lbnRzID0gW107XG4gICAgICAgIGxldCBzdGF0ZW1lbnQgPSAnJztcbiAgICAgICAgd2hpbGUgKHBhcnNlci5pIDwgZW5kKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBwYXJzZXIuY29uc3VtZU51bWJlck9yU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudCArPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlcnMgYXJlIHJlZiBpbmRleGVzXG4gICAgICAgICAgICAgICAgLy8gSGVyZSBgaWAgcmVmZXJzIHRvIGN1cnJlbnQgYmluZGluZyBpbmRleC4gSXQgaXMgdG8gc2lnbmlmeSB0aGF0IHRoZSB2YWx1ZSBpcyByZWxhdGl2ZSxcbiAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhhbiBhYnNvbHV0ZS5cbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnQgKz0gJyR7bFZpZXdbaScgKyB2YWx1ZSArICddfSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGl2ZSBudW1iZXJzIGFyZSBvcGVyYXRpb25zLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9wQ29kZVRleHQgPSBjb25zdW1lT3BDb2RlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnRzLnB1c2gob3BDb2RlVGV4dC5yZXBsYWNlKCckJCQnLCAnYCcgKyBzdGF0ZW1lbnQgKyAnYCcpICsgJzsnKTtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaW5lcy5wdXNoKGBpZiAobWFzayAmIDBiJHttYXNrLnRvU3RyaW5nKDIpfSkgeyAke3N0YXRlbWVudHMuam9pbignICcpfSB9YCk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbi8qKlxuICogQ29udmVydHMgYEkxOG5DcmVhdGVPcENvZGVzYCBhcnJheSBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYXR0YWNoZWQgdG8gdGhlIGBJMThuQ3JlYXRlT3BDb2Rlcy5kZWJ1Z2AgaWYgYG5nRGV2TW9kZWAgaXMgZW5hYmxlZC4gVGhpc1xuICogZnVuY3Rpb24gcHJvdmlkZXMgYSBodW1hbiByZWFkYWJsZSB2aWV3IG9mIHRoZSBvcGNvZGVzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRlYnVnZ2luZyB0aGVcbiAqIGFwcGxpY2F0aW9uIGFzIHdlbGwgYXMgd3JpdGluZyBtb3JlIHJlYWRhYmxlIHRlc3RzLlxuICpcbiAqIEBwYXJhbSB0aGlzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgaWYgYXR0YWNoZWQgYXMgYSBtZXRob2QuXG4gKiBAcGFyYW0gb3Bjb2RlcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGludm9rZWQgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaWN1Q3JlYXRlT3BDb2Rlc1RvU3RyaW5nKG9wY29kZXMpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgT3BDb2RlUGFyc2VyKG9wY29kZXMgfHwgKEFycmF5LmlzQXJyYXkodGhpcykgPyB0aGlzIDogW10pKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmdW5jdGlvbiBjb25zdW1lT3BDb2RlKG9wQ29kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBnZXRQYXJlbnRGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgIGNvbnN0IHJlZiA9IGdldFJlZkZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKTtcbiAgICAgICAgc3dpdGNoIChnZXRJbnN0cnVjdGlvbkZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIEFwcGVuZENoaWxkICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgKGxWaWV3WyR7cGFyZW50fV0gYXMgRWxlbWVudCkuYXBwZW5kQ2hpbGQobFZpZXdbJHtsYXN0UmVmfV0pYDtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBBdHRyICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgKGxWaWV3WyR7cmVmfV0gYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKFwiJHtwYXJzZXIuY29uc3VtZVN0cmluZygpfVwiLCBcIiR7cGFyc2VyLmNvbnN1bWVTdHJpbmcoKX1cIilgO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBPcENvZGU6ICcgKyBnZXRJbnN0cnVjdGlvbkZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKSk7XG4gICAgfVxuICAgIGxldCBsYXN0UmVmID0gLTE7XG4gICAgd2hpbGUgKHBhcnNlci5oYXNNb3JlKCkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VyLmNvbnN1bWVOdW1iZXJTdHJpbmdPck1hcmtlcigpO1xuICAgICAgICBpZiAodmFsdWUgPT09IElDVV9NQVJLRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXJzZXIuY29uc3VtZVN0cmluZygpO1xuICAgICAgICAgICAgbGFzdFJlZiA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2xhc3RSZWZ9XSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCIke3RleHR9XCIpYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IEVMRU1FTlRfTUFSS0VSKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFyc2VyLmNvbnN1bWVTdHJpbmcoKTtcbiAgICAgICAgICAgIGxhc3RSZWYgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgbFZpZXdbJHtsYXN0UmVmfV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiJHt0ZXh0fVwiKWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxhc3RSZWYgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgbFZpZXdbJHtsYXN0UmVmfV0gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiR7dmFsdWV9XCIpYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGNvbnN1bWVPcENvZGUodmFsdWUpO1xuICAgICAgICAgICAgbGluZSAmJiBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgSTE4blJlbW92ZU9wQ29kZXNgIGFycmF5IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGUgYEkxOG5SZW1vdmVPcENvZGVzLmRlYnVnYCBpZiBgbmdEZXZNb2RlYCBpcyBlbmFibGVkLiBUaGlzXG4gKiBmdW5jdGlvbiBwcm92aWRlcyBhIGh1bWFuIHJlYWRhYmxlIHZpZXcgb2YgdGhlIG9wY29kZXMuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZGVidWdnaW5nIHRoZVxuICogYXBwbGljYXRpb24gYXMgd2VsbCBhcyB3cml0aW5nIG1vcmUgcmVhZGFibGUgdGVzdHMuXG4gKlxuICogQHBhcmFtIHRoaXMgYEkxOG5SZW1vdmVPcENvZGVzYCBpZiBhdHRhY2hlZCBhcyBhIG1ldGhvZC5cbiAqIEBwYXJhbSBvcGNvZGVzIGBJMThuUmVtb3ZlT3BDb2Rlc2AgaWYgaW52b2tlZCBhcyBhIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBpMThuUmVtb3ZlT3BDb2Rlc1RvU3RyaW5nKG9wY29kZXMpIHtcbiAgICBjb25zdCByZW1vdmVDb2RlcyA9IG9wY29kZXMgfHwgKEFycmF5LmlzQXJyYXkodGhpcykgPyB0aGlzIDogW10pO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZU9ySWN1SW5kZXggPSByZW1vdmVDb2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGVPckljdUluZGV4ID4gMCkge1xuICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVycyBhcmUgYFJOb2RlYHMuXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGByZW1vdmUobFZpZXdbJHtub2RlT3JJY3VJbmRleH1dKWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBhcmUgSUNVc1xuICAgICAgICAgICAgbGluZXMucHVzaChgcmVtb3ZlTmVzdGVkSUNVKCR7fm5vZGVPckljdUluZGV4fSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG5jbGFzcyBPcENvZGVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvZGVzKSB7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMuY29kZXMgPSBjb2RlcztcbiAgICB9XG4gICAgaGFzTW9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaSA8IHRoaXMuY29kZXMubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdW1lTnVtYmVyKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgYXNzZXJ0TnVtYmVyKHZhbHVlLCAnZXhwZWN0aW5nIG51bWJlciBpbiBPcENvZGUnKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdW1lU3RyaW5nKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgYXNzZXJ0U3RyaW5nKHZhbHVlLCAnZXhwZWN0aW5nIHN0cmluZyBpbiBPcENvZGUnKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdW1lRnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RpbmcgZnVuY3Rpb24gaW4gT3BDb2RlJyk7XG4gICAgfVxuICAgIGNvbnN1bWVOdW1iZXJPclN0cmluZygpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0TnVtYmVyKHZhbHVlLCAnZXhwZWN0aW5nIG51bWJlciBvciBzdHJpbmcgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3VtZU51bWJlclN0cmluZ09yTWFya2VyKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB2YWx1ZSA9PSBJQ1VfTUFSS0VSIHx8XG4gICAgICAgICAgICB2YWx1ZSA9PSBFTEVNRU5UX01BUktFUikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydE51bWJlcih2YWx1ZSwgJ2V4cGVjdGluZyBudW1iZXIsIHN0cmluZywgSUNVX01BUktFUiBvciBFTEVNRU5UX01BUktFUiBpbiBPcENvZGUnKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBCSU5ESU5HX1JFR0VYUCA9IC/vv70oXFxkKyk6P1xcZCrvv70vZ2k7XG5jb25zdCBJQ1VfUkVHRVhQID0gLyh7XFxzKu+/vVxcZCs6P1xcZCrvv71cXHMqLFxccypcXFN7Nn1cXHMqLFtcXHNcXFNdKn0pL2dpO1xuY29uc3QgTkVTVEVEX0lDVSA9IC/vv70oXFxkKynvv70vO1xuY29uc3QgSUNVX0JMT0NLX1JFR0VYUCA9IC9eXFxzKijvv71cXGQrOj9cXGQq77+9KVxccyosXFxzKihzZWxlY3R8cGx1cmFsKVxccyosLztcbmNvbnN0IE1BUktFUiA9IGDvv71gO1xuY29uc3QgU1VCVEVNUExBVEVfUkVHRVhQID0gL++/vVxcLz9cXCooXFxkKzpcXGQrKe+/vS9naTtcbmNvbnN0IFBIX1JFR0VYUCA9IC/vv70oXFwvP1sjKl1cXGQrKTo/XFxkKu+/vS9naTtcbi8qKlxuICogQW5ndWxhciBEYXJ0IGludHJvZHVjZWQgJm5nc3A7IGFzIGEgcGxhY2Vob2xkZXIgZm9yIG5vbi1yZW1vdmFibGUgc3BhY2UsIHNlZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJ0LWxhbmcvYW5ndWxhci9ibG9iLzBiYjYxMTM4N2QyOWQ2NWI1YWY3ZjlkMjUxNWFiNTcxZmQzZmJlZTQvX3Rlc3RzL3Rlc3QvY29tcGlsZXIvcHJlc2VydmVfd2hpdGVzcGFjZV90ZXN0LmRhcnQjTDI1LUwzMlxuICogSW4gQW5ndWxhciBEYXJ0ICZuZ3NwOyBpcyBjb252ZXJ0ZWQgdG8gdGhlIDB4RTUwMCBQVUEgKFByaXZhdGUgVXNlIEFyZWFzKSB1bmljb2RlIGNoYXJhY3RlclxuICogYW5kIGxhdGVyIG9uIHJlcGxhY2VkIGJ5IGEgc3BhY2UuIFdlIGFyZSByZS1pbXBsZW1lbnRpbmcgdGhlIHNhbWUgaWRlYSBoZXJlLCBzaW5jZSB0cmFuc2xhdGlvbnNcbiAqIG1pZ2h0IGNvbnRhaW4gdGhpcyBzcGVjaWFsIGNoYXJhY3Rlci5cbiAqL1xuY29uc3QgTkdTUF9VTklDT0RFX1JFR0VYUCA9IC9cXHVFNTAwL2c7XG5mdW5jdGlvbiByZXBsYWNlTmdzcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKE5HU1BfVU5JQ09ERV9SRUdFWFAsICcgJyk7XG59XG4vKipcbiAqIENyZWF0ZSBkeW5hbWljIG5vZGVzIGZyb20gaTE4biB0cmFuc2xhdGlvbiBibG9jay5cbiAqXG4gKiAtIFRleHQgbm9kZXMgYXJlIGNyZWF0ZWQgc3luY2hyb25vdXNseVxuICogLSBUTm9kZXMgYXJlIGxpbmtlZCBpbnRvIHRyZWUgbGF6aWx5XG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmVudFROb2RlSW5kZXggaW5kZXggdG8gdGhlIHBhcmVudCBUTm9kZSBvZiB0aGlzIGkxOG4gYmxvY2tcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiBgybXJtWkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24uXG4gKiBAcGFyYW0gbWVzc2FnZSBNZXNzYWdlIHRvIHRyYW5zbGF0ZS5cbiAqIEBwYXJhbSBzdWJUZW1wbGF0ZUluZGV4IEluZGV4IGludG8gdGhlIHN1YiB0ZW1wbGF0ZSBvZiBtZXNzYWdlIHRyYW5zbGF0aW9uLiAoaWUgaW4gY2FzZSBvZlxuICogICAgIGBuZ0lmYCkgKC0xIG90aGVyd2lzZSlcbiAqL1xuZnVuY3Rpb24gaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3LCBwYXJlbnRUTm9kZUluZGV4LCBsVmlldywgaW5kZXgsIG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICBjb25zdCByb290VE5vZGUgPSBnZXRDdXJyZW50UGFyZW50VE5vZGUoKTtcbiAgICBjb25zdCBjcmVhdGVPcENvZGVzID0gW107XG4gICAgY29uc3QgdXBkYXRlT3BDb2RlcyA9IFtdO1xuICAgIGNvbnN0IGV4aXN0aW5nVE5vZGVTdGFjayA9IFtbXV07XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcihjcmVhdGVPcENvZGVzLCBpMThuQ3JlYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIodXBkYXRlT3BDb2RlcywgaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgfVxuICAgIG1lc3NhZ2UgPSBnZXRUcmFuc2xhdGlvbkZvclRlbXBsYXRlKG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpO1xuICAgIGNvbnN0IG1zZ1BhcnRzID0gcmVwbGFjZU5nc3AobWVzc2FnZSkuc3BsaXQoUEhfUkVHRVhQKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1zZ1BhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG1zZ1BhcnRzW2ldO1xuICAgICAgICBpZiAoKGkgJiAxKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRXZlbiBpbmRleGVzIGFyZSB0ZXh0IChpbmNsdWRpbmcgYmluZGluZ3MgJiBJQ1UgZXhwcmVzc2lvbnMpXG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UodmFsdWUpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgaWYgKChqICYgMSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYGpgIGlzIG9kZCB0aGVyZWZvcmUgYHBhcnRgIGlzIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyh0ZXh0LCAnUGFyc2VkIElDVSBwYXJ0IHNob3VsZCBiZSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3NQcm9jZXNzVGV4dE5vZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZVN0YWNrWzBdLCBjcmVhdGVPcENvZGVzLCB1cGRhdGVPcENvZGVzLCBsVmlldywgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGBqYCBpcyBFdmVuIHRoZXJlZm9yIGBwYXJ0YCBpcyBhbiBgSUNVRXhwcmVzc2lvbmBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWN1RXhwcmVzc2lvbiA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSB0aGF0IElDVSBleHByZXNzaW9uIGhhcyB0aGUgcmlnaHQgc2hhcGUuIFRyYW5zbGF0aW9ucyBtaWdodCBjb250YWluIGludmFsaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3RydWN0aW9ucyAod2hpbGUgb3JpZ2luYWwgbWVzc2FnZXMgd2VyZSBjb3JyZWN0KSwgc28gSUNVIHBhcnNpbmcgYXQgcnVudGltZSBtYXlcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IHN1Y2NlZWQgKHRodXMgYGljdUV4cHJlc3Npb25gIHJlbWFpbnMgYSBzdHJpbmcpLlxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiB3ZSBpbnRlbnRpb25hbGx5IHJldGFpbiB0aGUgZXJyb3IgaGVyZSBieSBub3QgdXNpbmcgYG5nRGV2TW9kZWAsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIGNhbiBjaGFuZ2UgYmFzZWQgb24gdGhlIGxvY2FsZSBhbmQgdXNlcnMgYXJlbid0IGd1YXJhbnRlZWQgdG8gaGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGludmFsaWQgc3RyaW5nIHdoaWxlIHRoZXkncmUgZGV2ZWxvcGluZy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpY3VFeHByZXNzaW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcGFyc2UgSUNVIGV4cHJlc3Npb24gaW4gXCIke21lc3NhZ2V9XCIgbWVzc2FnZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VDb250YWluZXJUTm9kZSA9IGNyZWF0ZVROb2RlQW5kQWRkT3BDb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVTdGFja1swXSwgbFZpZXcsIGNyZWF0ZU9wQ29kZXMsIG5nRGV2TW9kZSA/IGBJQ1UgJHtpbmRleH06JHtpY3VFeHByZXNzaW9uLm1haW5CaW5kaW5nfWAgOiAnJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdU5vZGVJbmRleCA9IGljdUNvbnRhaW5lclROb2RlLmluZGV4O1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpY3VOb2RlSW5kZXgsIEhFQURFUl9PRkZTRVQsICdJbmRleCBtdXN0IGJlIGluIGFic29sdXRlIExWaWV3IG9mZnNldCcpO1xuICAgICAgICAgICAgICAgICAgICBpY3VTdGFydCh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIHBhcmVudFROb2RlSW5kZXgsIGljdUV4cHJlc3Npb24sIGljdU5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gT2RkIGluZGV4ZXMgYXJlIHBsYWNlaG9sZGVycyAoZWxlbWVudHMgYW5kIHN1Yi10ZW1wbGF0ZXMpXG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHZhbHVlIGlzIHNvbWV0aGluZyBsaWtlOiAnLyMxOjInIChvcmlnaW5hbGx5IGNvbWluZyBmcm9tICfvv70vIzE6Mu+/vScpXG4gICAgICAgICAgICBjb25zdCBpc0Nsb3NpbmcgPSB2YWx1ZS5jaGFyQ29kZUF0KDApID09PSA0NyAvKiBTTEFTSCAqLztcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGlzQ2xvc2luZyA/IDEgOiAwKTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRPbmVPZih0eXBlLCA0MiAvKiBTVEFSICovLCAzNSAvKiBIQVNIICovKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gSEVBREVSX09GRlNFVCArIE51bWJlci5wYXJzZUludCh2YWx1ZS5zdWJzdHJpbmcoKGlzQ2xvc2luZyA/IDIgOiAxKSkpO1xuICAgICAgICAgICAgaWYgKGlzQ2xvc2luZykge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVE5vZGVTdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUTm9kZShnZXRDdXJyZW50UGFyZW50VE5vZGUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZVBsYWNlaG9sZGVyKHRWaWV3LCBleGlzdGluZ1ROb2RlU3RhY2tbMF0sIGluZGV4KTtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1ROb2RlU3RhY2sudW5zaGlmdChbXSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0Vmlldy5kYXRhW2luZGV4XSA9IHtcbiAgICAgICAgY3JlYXRlOiBjcmVhdGVPcENvZGVzLFxuICAgICAgICB1cGRhdGU6IHVwZGF0ZU9wQ29kZXMsXG4gICAgfTtcbn1cbi8qKlxuICogQWxsb2NhdGUgc3BhY2UgaW4gaTE4biBSYW5nZSBhZGQgY3JlYXRlIE9wQ29kZSBpbnN0cnVjdGlvbiB0byBjcmVhdGUgYSB0ZXh0IG9yIGNvbW1lbnQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgIG5lZWRlZCB0byBhbGxvY2F0ZSBzcGFjZSBpbiBpMThuIHJhbmdlLlxuICogQHBhcmFtIHJvb3RUTm9kZSBSb290IGBUTm9kZWAgb2YgdGhlIGkxOG4gYmxvY2suIFRoaXMgbm9kZSBkZXRlcm1pbmVzIGlmIHRoZSBuZXcgVE5vZGUgd2lsbCBiZVxuICogICAgIGFkZGVkIGFzIHBhcnQgb2YgdGhlIGBpMThuU3RhcnRgIGluc3RydWN0aW9uIG9yIGFzIHBhcnQgb2YgdGhlIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gZXhpc3RpbmdUTm9kZXMgaW50ZXJuYWwgc3RhdGUgZm9yIGBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4YC5cbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2AgbmVlZGVkIHRvIGFsbG9jYXRlIHNwYWNlIGluIGkxOG4gcmFuZ2UuXG4gKiBAcGFyYW0gY3JlYXRlT3BDb2RlcyBBcnJheSBzdG9yaW5nIGBJMThuQ3JlYXRlT3BDb2Rlc2Agd2hlcmUgbmV3IG9wQ29kZXMgd2lsbCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gYmUgYWRkZWQgd2hlbiB0aGUgYFRleHRgIG9yIGBDb21tZW50YCBub2RlIHdpbGwgYmUgY3JlYXRlZC5cbiAqIEBwYXJhbSBpc0lDVSB0cnVlIGlmIGEgYENvbW1lbnRgIG5vZGUgZm9yIElDVSAoaW5zdGVhZCBvZiBgVGV4dGApIG5vZGUgc2hvdWxkIGJlIGNyZWF0ZWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVROb2RlQW5kQWRkT3BDb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVzLCBsVmlldywgY3JlYXRlT3BDb2RlcywgdGV4dCwgaXNJQ1UpIHtcbiAgICBjb25zdCBpMThuTm9kZUlkeCA9IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIDEsIG51bGwpO1xuICAgIGxldCBvcENvZGUgPSBpMThuTm9kZUlkeCA8PCBJMThuQ3JlYXRlT3BDb2RlLlNISUZUO1xuICAgIGxldCBwYXJlbnRUTm9kZSA9IGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpO1xuICAgIGlmIChyb290VE5vZGUgPT09IHBhcmVudFROb2RlKSB7XG4gICAgICAgIC8vIEZJWE1FKG1pc2tvKTogQSBudWxsIGBwYXJlbnRUTm9kZWAgc2hvdWxkIHJlcHJlc2VudCB3aGVuIHdlIGZhbGwgb2YgdGhlIGBMVmlld2AgYm91bmRhcnkuXG4gICAgICAgIC8vICh0aGVyZSBpcyBubyBwYXJlbnQpLCBidXQgaW4gc29tZSBjaXJjdW1zdGFuY2VzIChiZWNhdXNlIHdlIGFyZSBpbmNvbnNpc3RlbnQgYWJvdXQgaG93IHdlIHNldFxuICAgICAgICAvLyBgcHJldmlvdXNPclBhcmVudFROb2RlYCkgaXQgY291bGQgcG9pbnQgdG8gYHJvb3RUTm9kZWAgU28gdGhpcyBpcyBhIHdvcmsgYXJvdW5kLlxuICAgICAgICBwYXJlbnRUTm9kZSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IHRoYXQgbWVhbnMgdGhhdCB3ZSBjYW4gZWFnZXJseSBhZGQgbm9kZXMuXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwYXJlbnQgdGhhbiB0aGVzZSBub2RlcyBjYW4ndCBiZSBhZGRlZCBub3cgKGFzIHRoZSBwYXJlbnQgaGFzIG5vdCBiZWVuIGNyZWF0ZWRcbiAgICAgICAgLy8geWV0KSBhbmQgaW5zdGVhZCB0aGUgYHBhcmVudFROb2RlYCBpcyByZXNwb25zaWJsZSBmb3IgYWRkaW5nIGl0LiBTZWVcbiAgICAgICAgLy8gYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICAgICAgICBvcENvZGUgfD0gSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWTtcbiAgICB9XG4gICAgaWYgKGlzSUNVKSB7XG4gICAgICAgIG9wQ29kZSB8PSBJMThuQ3JlYXRlT3BDb2RlLkNPTU1FTlQ7XG4gICAgICAgIGVuc3VyZUljdUNvbnRhaW5lclZpc2l0b3JMb2FkZWQobG9hZEljdUNvbnRhaW5lclZpc2l0b3IpO1xuICAgIH1cbiAgICBjcmVhdGVPcENvZGVzLnB1c2gob3BDb2RlLCB0ZXh0ID09PSBudWxsID8gJycgOiB0ZXh0KTtcbiAgICAvLyBXZSBzdG9yZSBge3s/fX1gIHNvIHRoYXQgd2hlbiBsb29raW5nIGF0IGRlYnVnIGBUTm9kZVR5cGUudGVtcGxhdGVgIHdlIGNhbiBzZWUgd2hlcmUgdGhlXG4gICAgLy8gYmluZGluZ3MgYXJlLlxuICAgIGNvbnN0IHROb2RlID0gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpMThuTm9kZUlkeCwgaXNJQ1UgPyAzMiAvKiBJY3UgKi8gOiAxIC8qIFRleHQgKi8sIHRleHQgPT09IG51bGwgPyAobmdEZXZNb2RlID8gJ3t7P319JyA6ICcnKSA6IHRleHQsIG51bGwpO1xuICAgIGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgoZXhpc3RpbmdUTm9kZXMsIHROb2RlKTtcbiAgICBjb25zdCB0Tm9kZUlkeCA9IHROb2RlLmluZGV4O1xuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgZmFsc2UgLyogVGV4dCBub2RlcyBhcmUgc2VsZiBjbG9zaW5nICovKTtcbiAgICBpZiAocGFyZW50VE5vZGUgIT09IG51bGwgJiYgcm9vdFROb2RlICE9PSBwYXJlbnRUTm9kZSkge1xuICAgICAgICAvLyBXZSBhcmUgYSBjaGlsZCBvZiBkZWVwZXIgbm9kZSAocmF0aGVyIHRoYW4gYSBkaXJlY3QgY2hpbGQgb2YgYGkxOG5TdGFydGAgaW5zdHJ1Y3Rpb24uKVxuICAgICAgICAvLyBXZSBoYXZlIHRvIG1ha2Ugc3VyZSB0byBhZGQgb3Vyc2VsdmVzIHRvIHRoZSBwYXJlbnQuXG4gICAgICAgIHNldFROb2RlSW5zZXJ0QmVmb3JlSW5kZXgocGFyZW50VE5vZGUsIHROb2RlSWR4KTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBQcm9jZXNzZXMgdGV4dCBub2RlIGluIGkxOG4gYmxvY2suXG4gKlxuICogVGV4dCBub2RlcyBjYW4gaGF2ZTpcbiAqIC0gQ3JlYXRlIGluc3RydWN0aW9uIGluIGBjcmVhdGVPcENvZGVzYCBmb3IgY3JlYXRpbmcgdGhlIHRleHQgbm9kZS5cbiAqIC0gQWxsb2NhdGUgc3BlYyBmb3IgdGV4dCBub2RlIGluIGkxOG4gcmFuZ2Ugb2YgYExWaWV3YFxuICogLSBJZiBjb250YWlucyBiaW5kaW5nOlxuICogICAgLSBiaW5kaW5ncyA9PiBhbGxvY2F0ZSBzcGFjZSBpbiBpMThuIHJhbmdlIG9mIGBMVmlld2AgdG8gc3RvcmUgdGhlIGJpbmRpbmcgdmFsdWUuXG4gKiAgICAtIHBvcHVsYXRlIGB1cGRhdGVPcENvZGVzYCB3aXRoIHVwZGF0ZSBpbnN0cnVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIHJvb3RUTm9kZSBSb290IGBUTm9kZWAgb2YgdGhlIGkxOG4gYmxvY2suIFRoaXMgbm9kZSBkZXRlcm1pbmVzIGlmIHRoZSBuZXcgVE5vZGUgd2lsbFxuICogICAgIGJlIGFkZGVkIGFzIHBhcnQgb2YgdGhlIGBpMThuU3RhcnRgIGluc3RydWN0aW9uIG9yIGFzIHBhcnQgb2YgdGhlXG4gKiAgICAgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqIEBwYXJhbSBleGlzdGluZ1ROb2RlcyBpbnRlcm5hbCBzdGF0ZSBmb3IgYGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGNyZWF0ZU9wQ29kZXMgTG9jYXRpb24gd2hlcmUgdGhlIGNyZWF0aW9uIE9wQ29kZXMgd2lsbCBiZSBzdG9yZWQuXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gdGV4dCBUaGUgdHJhbnNsYXRlZCB0ZXh0ICh3aGljaCBtYXkgY29udGFpbiBiaW5kaW5nKVxuICovXG5mdW5jdGlvbiBpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3NQcm9jZXNzVGV4dE5vZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZXMsIGNyZWF0ZU9wQ29kZXMsIHVwZGF0ZU9wQ29kZXMsIGxWaWV3LCB0ZXh0KSB7XG4gICAgY29uc3QgaGFzQmluZGluZyA9IHRleHQubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgIGNvbnN0IHROb2RlID0gY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUodFZpZXcsIHJvb3RUTm9kZSwgZXhpc3RpbmdUTm9kZXMsIGxWaWV3LCBjcmVhdGVPcENvZGVzLCBoYXNCaW5kaW5nID8gbnVsbCA6IHRleHQsIGZhbHNlKTtcbiAgICBpZiAoaGFzQmluZGluZykge1xuICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZU9wQ29kZXMsIHRleHQsIHROb2RlLmluZGV4LCBudWxsLCAwLCBudWxsKTtcbiAgICB9XG59XG4vKipcbiAqIFNlZSBgaTE4bkF0dHJpYnV0ZXNgIGFib3ZlLlxuICovXG5mdW5jdGlvbiBpMThuQXR0cmlidXRlc0ZpcnN0UGFzcyh0VmlldywgaW5kZXgsIHZhbHVlcykge1xuICAgIGNvbnN0IHByZXZpb3VzRWxlbWVudCA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGNvbnN0IHByZXZpb3VzRWxlbWVudEluZGV4ID0gcHJldmlvdXNFbGVtZW50LmluZGV4O1xuICAgIGNvbnN0IHVwZGF0ZU9wQ29kZXMgPSBbXTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHVwZGF0ZU9wQ29kZXMsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzICYmIHRWaWV3LmRhdGFbaW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB2YWx1ZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYXR0cmlidXRlIHZhbHVlIGNvbnRhaW5zIGFuIElDVSBhbmQgdGhyb3cgYW4gZXJyb3IgaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgICAgICAgICAgICAgIC8vIElDVXMgaW4gZWxlbWVudCBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IHdlIGludGVudGlvbmFsbHkgcmV0YWluIHRoZSBlcnJvciBoZXJlIGJ5IG5vdCB1c2luZyBgbmdEZXZNb2RlYCwgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBgdmFsdWVgIGNhbiBjaGFuZ2UgYmFzZWQgb24gdGhlIGxvY2FsZSBhbmQgdXNlcnMgYXJlbid0IGd1YXJhbnRlZWQgdG8gaGl0XG4gICAgICAgICAgICAgICAgLy8gYW4gaW52YWxpZCBzdHJpbmcgd2hpbGUgdGhleSdyZSBkZXZlbG9waW5nLlxuICAgICAgICAgICAgICAgIGlmIChJQ1VfUkVHRVhQLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJQ1UgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gYXR0cmlidXRlcy4gTWVzc2FnZTogXCIke21lc3NhZ2V9XCIuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGkxOG4gYXR0cmlidXRlcyB0aGF0IGhpdCB0aGlzIGNvZGUgcGF0aCBhcmUgZ3VhcmFudGVlZCB0byBoYXZlIGJpbmRpbmdzLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBpbGVyIHRyZWF0cyBzdGF0aWMgaTE4biBhdHRyaWJ1dGVzIGFzIHJlZ3VsYXIgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgbWF5IG5vdCBiZSB0aGUgZmlyc3QgaTE4biBhdHRyaWJ1dGUgb24gdGhpcyBlbGVtZW50IHdlIG5lZWQgdG8gcGFzcyBpbiBob3dcbiAgICAgICAgICAgICAgICAvLyBtYW55IHByZXZpb3VzIGJpbmRpbmdzIHRoZXJlIGhhdmUgYWxyZWFkeSBiZWVuLlxuICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2RlcywgbWVzc2FnZSwgcHJldmlvdXNFbGVtZW50SW5kZXgsIGF0dHJOYW1lLCBjb3VudEJpbmRpbmdzKHVwZGF0ZU9wQ29kZXMpLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Vmlldy5kYXRhW2luZGV4XSA9IHVwZGF0ZU9wQ29kZXM7XG4gICAgfVxufVxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgT3BDb2RlcyB0byB1cGRhdGUgdGhlIGJpbmRpbmdzIG9mIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB1cGRhdGVPcENvZGVzIFBsYWNlIHdoZXJlIHRoZSB1cGRhdGUgb3Bjb2RlcyB3aWxsIGJlIHN0b3JlZC5cbiAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyBjb250YWluaW5nIHRoZSBiaW5kaW5ncy5cbiAqIEBwYXJhbSBkZXN0aW5hdGlvbk5vZGUgSW5kZXggb2YgdGhlIGRlc3RpbmF0aW9uIG5vZGUgd2hpY2ggd2lsbCByZWNlaXZlIHRoZSBiaW5kaW5nLlxuICogQHBhcmFtIGF0dHJOYW1lIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZSwgaWYgdGhlIHN0cmluZyBiZWxvbmdzIHRvIGFuIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSBzYW5pdGl6ZUZuIFNhbml0aXphdGlvbiBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSBzdHJpbmcgYWZ0ZXIgdXBkYXRlLCBpZiBuZWNlc3NhcnkuXG4gKiBAcGFyYW0gYmluZGluZ1N0YXJ0IFRoZSBsVmlldyBpbmRleCBvZiB0aGUgbmV4dCBleHByZXNzaW9uIHRoYXQgY2FuIGJlIGJvdW5kIHZpYSBhbiBvcENvZGUuXG4gKiBAcmV0dXJucyBUaGUgbWFzayB2YWx1ZSBmb3IgdGhlc2UgYmluZGluZ3NcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGVPcENvZGVzLCBzdHIsIGRlc3RpbmF0aW9uTm9kZSwgYXR0ck5hbWUsIGJpbmRpbmdTdGFydCwgc2FuaXRpemVGbikge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoZGVzdGluYXRpb25Ob2RlLCBIRUFERVJfT0ZGU0VULCAnSW5kZXggbXVzdCBiZSBpbiBhYnNvbHV0ZSBMVmlldyBvZmZzZXQnKTtcbiAgICBjb25zdCBtYXNrSW5kZXggPSB1cGRhdGVPcENvZGVzLmxlbmd0aDsgLy8gTG9jYXRpb24gb2YgbWFza1xuICAgIGNvbnN0IHNpemVJbmRleCA9IG1hc2tJbmRleCArIDE7IC8vIGxvY2F0aW9uIG9mIHNpemUgZm9yIHNraXBwaW5nXG4gICAgdXBkYXRlT3BDb2Rlcy5wdXNoKG51bGwsIG51bGwpOyAvLyBBbGxvYyBzcGFjZSBmb3IgbWFzayBhbmQgc2l6ZVxuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBtYXNrSW5kZXggKyAyOyAvLyBsb2NhdGlvbiBvZiBmaXJzdCBhbGxvY2F0aW9uLlxuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIodXBkYXRlT3BDb2RlcywgaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgfVxuICAgIGNvbnN0IHRleHRQYXJ0cyA9IHN0ci5zcGxpdChCSU5ESU5HX1JFR0VYUCk7XG4gICAgbGV0IG1hc2sgPSAwO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4dFBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHRleHRWYWx1ZSA9IHRleHRQYXJ0c1tqXTtcbiAgICAgICAgaWYgKGogJiAxKSB7XG4gICAgICAgICAgICAvLyBPZGQgaW5kZXhlcyBhcmUgYmluZGluZ3NcbiAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdTdGFydCArIHBhcnNlSW50KHRleHRWYWx1ZSwgMTApO1xuICAgICAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKC0xIC0gYmluZGluZ0luZGV4KTtcbiAgICAgICAgICAgIG1hc2sgPSBtYXNrIHwgdG9NYXNrQml0KGJpbmRpbmdJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dFZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgLy8gRXZlbiBpbmRleGVzIGFyZSB0ZXh0XG4gICAgICAgICAgICB1cGRhdGVPcENvZGVzLnB1c2godGV4dFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVPcENvZGVzLnB1c2goZGVzdGluYXRpb25Ob2RlIDw8IDIgLyogU0hJRlRfUkVGICovIHxcbiAgICAgICAgKGF0dHJOYW1lID8gMSAvKiBBdHRyICovIDogMCAvKiBUZXh0ICovKSk7XG4gICAgaWYgKGF0dHJOYW1lKSB7XG4gICAgICAgIHVwZGF0ZU9wQ29kZXMucHVzaChhdHRyTmFtZSwgc2FuaXRpemVGbik7XG4gICAgfVxuICAgIHVwZGF0ZU9wQ29kZXNbbWFza0luZGV4XSA9IG1hc2s7XG4gICAgdXBkYXRlT3BDb2Rlc1tzaXplSW5kZXhdID0gdXBkYXRlT3BDb2Rlcy5sZW5ndGggLSBzdGFydEluZGV4O1xuICAgIHJldHVybiBtYXNrO1xufVxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIGJpbmRpbmdzIGluIHRoZSBnaXZlbiBgb3BDb2Rlc2AuXG4gKlxuICogSXQgY291bGQgYmUgcG9zc2libGUgdG8gc3BlZWQgdGhpcyB1cCwgYnkgcGFzc2luZyB0aGUgbnVtYmVyIG9mIGJpbmRpbmdzIGZvdW5kIGJhY2sgZnJvbVxuICogYGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXMoKWAgdG8gYGkxOG5BdHRyaWJ1dGVzRmlyc3RQYXNzKClgIGJ1dCB0aGlzIHdvdWxkIHRoZW4gcmVxdWlyZSBtb3JlXG4gKiBjb21wbGV4aXR5IGluIHRoZSBjb2RlIGFuZC9vciB0cmFuc2llbnQgb2JqZWN0cyB0byBiZSBjcmVhdGVkLlxuICpcbiAqIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZSB3aGVuIHRoZSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQsIGlzIHRyaXZpYWwgaW4gdGhlXG4gKiBmaXJzdCBpbnN0YW5jZSAoc2luY2UgYG9wQ29kZXNgIHdpbGwgYmUgYW4gZW1wdHkgYXJyYXkpLCBhbmQgaXQgaXMgbm90IGNvbW1vbiBmb3IgZWxlbWVudHMgdG9cbiAqIGNvbnRhaW4gbXVsdGlwbGUgaTE4biBib3VuZCBhdHRyaWJ1dGVzLCBpdCBzZWVtcyBsaWtlIHRoaXMgaXMgYSByZWFzb25hYmxlIGNvbXByb21pc2UuXG4gKi9cbmZ1bmN0aW9uIGNvdW50QmluZGluZ3Mob3BDb2Rlcykge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IG9wQ29kZXNbaV07XG4gICAgICAgIC8vIEJpbmRpbmdzIGFyZSBuZWdhdGl2ZSBudW1iZXJzLlxuICAgICAgICBpZiAodHlwZW9mIG9wQ29kZSA9PT0gJ251bWJlcicgJiYgb3BDb2RlIDwgMCkge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG4vKipcbiAqIENvbnZlcnQgYmluZGluZyBpbmRleCB0byBtYXNrIGJpdC5cbiAqXG4gKiBFYWNoIGluZGV4IHJlcHJlc2VudHMgYSBzaW5nbGUgYml0IG9uIHRoZSBiaXQtbWFzay4gQmVjYXVzZSBiaXQtbWFzayBvbmx5IGhhcyAzMiBiaXRzLCB3ZSBtYWtlXG4gKiB0aGUgMzJuZCBiaXQgc2hhcmUgYWxsIG1hc2tzIGZvciBhbGwgYmluZGluZ3MgaGlnaGVyIHRoYW4gMzIuIFNpbmNlIGl0IGlzIGV4dHJlbWVseSByYXJlIHRvXG4gKiBoYXZlIG1vcmUgdGhhbiAzMiBiaW5kaW5ncyB0aGlzIHdpbGwgYmUgaGl0IHZlcnkgcmFyZWx5LiBUaGUgZG93bnNpZGUgb2YgaGl0dGluZyB0aGlzIGNvcm5lclxuICogY2FzZSBpcyB0aGF0IHdlIHdpbGwgZXhlY3V0ZSBiaW5kaW5nIGNvZGUgbW9yZSBvZnRlbiB0aGFuIG5lY2Vzc2FyeS4gKHBlbmFsdHkgb2YgcGVyZm9ybWFuY2UpXG4gKi9cbmZ1bmN0aW9uIHRvTWFza0JpdChiaW5kaW5nSW5kZXgpIHtcbiAgICByZXR1cm4gMSA8PCBNYXRoLm1pbihiaW5kaW5nSW5kZXgsIDMxKTtcbn1cbmZ1bmN0aW9uIGlzUm9vdFRlbXBsYXRlTWVzc2FnZShzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgcmV0dXJuIHN1YlRlbXBsYXRlSW5kZXggPT09IC0xO1xufVxuLyoqXG4gKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSBzdWItdGVtcGxhdGVzIG9mIGEgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uKG1lc3NhZ2UpIHtcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IGluVGVtcGxhdGUgPSBmYWxzZTtcbiAgICBsZXQgdGFnTWF0Y2hlZDtcbiAgICB3aGlsZSAoKG1hdGNoID0gU1VCVEVNUExBVEVfUkVHRVhQLmV4ZWMobWVzc2FnZSkpICE9PSBudWxsKSB7XG4gICAgICAgIGlmICghaW5UZW1wbGF0ZSkge1xuICAgICAgICAgICAgcmVzICs9IG1lc3NhZ2Uuc3Vic3RyaW5nKGluZGV4LCBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB0YWdNYXRjaGVkID0gbWF0Y2hbMV07XG4gICAgICAgICAgICBpblRlbXBsYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtYXRjaFswXSA9PT0gYCR7TUFSS0VSfS8qJHt0YWdNYXRjaGVkfSR7TUFSS0VSfWApIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgICAgICAgICAgICAgIGluVGVtcGxhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoaW5UZW1wbGF0ZSwgZmFsc2UsIGBUYWcgbWlzbWF0Y2g6IHVuYWJsZSB0byBmaW5kIHRoZSBlbmQgb2YgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB0aGUgdHJhbnNsYXRpb24gXCIke21lc3NhZ2V9XCJgKTtcbiAgICByZXMgKz0gbWVzc2FnZS5zdWJzdHIoaW5kZXgpO1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIEV4dHJhY3RzIGEgcGFydCBvZiBhIG1lc3NhZ2UgYW5kIHJlbW92ZXMgdGhlIHJlc3QuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgZXh0cmFjdGluZyBhIHBhcnQgb2YgdGhlIG1lc3NhZ2UgYXNzb2NpYXRlZCB3aXRoIGEgdGVtcGxhdGUuIEFcbiAqIHRyYW5zbGF0ZWQgbWVzc2FnZSBjYW4gc3BhbiBtdWx0aXBsZSB0ZW1wbGF0ZXMuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogPGRpdiBpMThuPlRyYW5zbGF0ZSA8c3BhbiAqbmdJZj5tZTwvc3Bhbj4hPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBjcm9wXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBJbmRleCBvZiB0aGUgc3ViLXRlbXBsYXRlIHRvIGV4dHJhY3QuIElmIHVuZGVmaW5lZCBpdCByZXR1cm5zIHRoZVxuICogZXh0ZXJuYWwgdGVtcGxhdGUgYW5kIHJlbW92ZXMgYWxsIHN1Yi10ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUobWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIGlmIChpc1Jvb3RUZW1wbGF0ZU1lc3NhZ2Uoc3ViVGVtcGxhdGVJbmRleCkpIHtcbiAgICAgICAgLy8gV2Ugd2FudCB0aGUgcm9vdCB0ZW1wbGF0ZSBtZXNzYWdlLCBpZ25vcmUgYWxsIHN1Yi10ZW1wbGF0ZXNcbiAgICAgICAgcmV0dXJuIHJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbihtZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFdlIHdhbnQgYSBzcGVjaWZpYyBzdWItdGVtcGxhdGVcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBtZXNzYWdlLmluZGV4T2YoYDoke3N1YlRlbXBsYXRlSW5kZXh9JHtNQVJLRVJ9YCkgKyAyICsgc3ViVGVtcGxhdGVJbmRleC50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZW5kID0gbWVzc2FnZS5zZWFyY2gobmV3IFJlZ0V4cChgJHtNQVJLRVJ9XFxcXC9cXFxcKlxcXFxkKzoke3N1YlRlbXBsYXRlSW5kZXh9JHtNQVJLRVJ9YCkpO1xuICAgICAgICByZXR1cm4gcmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uKG1lc3NhZ2Uuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpKTtcbiAgICB9XG59XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBPcENvZGVzIGZvciBJQ1UgZXhwcmVzc2lvbnMuXG4gKlxuICogQHBhcmFtIGljdUV4cHJlc3Npb25cbiAqIEBwYXJhbSBpbmRleCBJbmRleCB3aGVyZSB0aGUgYW5jaG9yIGlzIHN0b3JlZCBhbmQgYW4gb3B0aW9uYWwgYFRJY3VDb250YWluZXJOb2RlYFxuICogICAtIGBsVmlld1thbmNob3JJZHhdYCBwb2ludHMgdG8gYSBgQ29tbWVudGAgbm9kZSByZXByZXNlbnRpbmcgdGhlIGFuY2hvciBmb3IgdGhlIElDVS5cbiAqICAgLSBgdFZpZXcuZGF0YVthbmNob3JJZHhdYCBwb2ludHMgdG8gdGhlIGBUSWN1Q29udGFpbmVyTm9kZWAgaWYgSUNVIGlzIHJvb3QgKGBudWxsYCBvdGhlcndpc2UpXG4gKi9cbmZ1bmN0aW9uIGljdVN0YXJ0KHRWaWV3LCBsVmlldywgdXBkYXRlT3BDb2RlcywgcGFyZW50SWR4LCBpY3VFeHByZXNzaW9uLCBhbmNob3JJZHgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChpY3VFeHByZXNzaW9uLCAnSUNVIGV4cHJlc3Npb24gbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgbGV0IGJpbmRpbmdNYXNrID0gMDtcbiAgICBjb25zdCB0SWN1ID0ge1xuICAgICAgICB0eXBlOiBpY3VFeHByZXNzaW9uLnR5cGUsXG4gICAgICAgIGN1cnJlbnRDYXNlTFZpZXdJbmRleDogYWxsb2NFeHBhbmRvKHRWaWV3LCBsVmlldywgMSwgbnVsbCksXG4gICAgICAgIGFuY2hvcklkeCxcbiAgICAgICAgY2FzZXM6IFtdLFxuICAgICAgICBjcmVhdGU6IFtdLFxuICAgICAgICByZW1vdmU6IFtdLFxuICAgICAgICB1cGRhdGU6IFtdXG4gICAgfTtcbiAgICBhZGRVcGRhdGVJY3VTd2l0Y2godXBkYXRlT3BDb2RlcywgaWN1RXhwcmVzc2lvbiwgYW5jaG9ySWR4KTtcbiAgICBzZXRUSWN1KHRWaWV3LCBhbmNob3JJZHgsIHRJY3UpO1xuICAgIGNvbnN0IHZhbHVlcyA9IGljdUV4cHJlc3Npb24udmFsdWVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEVhY2ggdmFsdWUgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyAmIG90aGVyIElDVSBleHByZXNzaW9uc1xuICAgICAgICBjb25zdCB2YWx1ZUFyciA9IHZhbHVlc1tpXTtcbiAgICAgICAgY29uc3QgbmVzdGVkSWN1cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbHVlQXJyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlQXJyW2pdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhbiBuZXN0ZWQgSUNVIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICBjb25zdCBpY3VJbmRleCA9IG5lc3RlZEljdXMucHVzaCh2YWx1ZSkgLSAxO1xuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgbmVzdGVkIElDVSBleHByZXNzaW9uIGJ5IGEgY29tbWVudCBub2RlXG4gICAgICAgICAgICAgICAgdmFsdWVBcnJbal0gPSBgPCEtLe+/vSR7aWN1SW5kZXh977+9LS0+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBiaW5kaW5nTWFzayA9IHBhcnNlSWN1Q2FzZSh0VmlldywgdEljdSwgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIHBhcmVudElkeCwgaWN1RXhwcmVzc2lvbi5jYXNlc1tpXSwgdmFsdWVBcnIuam9pbignJyksIG5lc3RlZEljdXMpIHxcbiAgICAgICAgICAgIGJpbmRpbmdNYXNrO1xuICAgIH1cbiAgICBpZiAoYmluZGluZ01hc2spIHtcbiAgICAgICAgYWRkVXBkYXRlSWN1VXBkYXRlKHVwZGF0ZU9wQ29kZXMsIGJpbmRpbmdNYXNrLCBhbmNob3JJZHgpO1xuICAgIH1cbn1cbi8qKlxuICogUGFyc2VzIHRleHQgY29udGFpbmluZyBhbiBJQ1UgZXhwcmVzc2lvbiBhbmQgcHJvZHVjZXMgYSBKU09OIG9iamVjdCBmb3IgaXQuXG4gKiBPcmlnaW5hbCBjb2RlIGZyb20gY2xvc3VyZSBsaWJyYXJ5LCBtb2RpZmllZCBmb3IgQW5ndWxhci5cbiAqXG4gKiBAcGFyYW0gcGF0dGVybiBUZXh0IGNvbnRhaW5pbmcgYW4gSUNVIGV4cHJlc3Npb24gdGhhdCBuZWVkcyB0byBiZSBwYXJzZWQuXG4gKlxuICovXG5mdW5jdGlvbiBwYXJzZUlDVUJsb2NrKHBhdHRlcm4pIHtcbiAgICBjb25zdCBjYXNlcyA9IFtdO1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGxldCBpY3VUeXBlID0gMSAvKiBwbHVyYWwgKi87XG4gICAgbGV0IG1haW5CaW5kaW5nID0gMDtcbiAgICBwYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKElDVV9CTE9DS19SRUdFWFAsIGZ1bmN0aW9uIChzdHIsIGJpbmRpbmcsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICBpY3VUeXBlID0gMCAvKiBzZWxlY3QgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpY3VUeXBlID0gMSAvKiBwbHVyYWwgKi87XG4gICAgICAgIH1cbiAgICAgICAgbWFpbkJpbmRpbmcgPSBwYXJzZUludChiaW5kaW5nLnN1YnN0cigxKSwgMTApO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSk7XG4gICAgY29uc3QgcGFydHMgPSBpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVKHBhdHRlcm4pO1xuICAgIC8vIExvb2tpbmcgZm9yIChrZXkgYmxvY2spKyBzZXF1ZW5jZS4gT25lIG9mIHRoZSBrZXlzIGhhcyB0byBiZSBcIm90aGVyXCIuXG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgcGFydHMubGVuZ3RoOykge1xuICAgICAgICBsZXQga2V5ID0gcGFydHNbcG9zKytdLnRyaW0oKTtcbiAgICAgICAgaWYgKGljdVR5cGUgPT09IDEgLyogcGx1cmFsICovKSB7XG4gICAgICAgICAgICAvLyBLZXkgY2FuIGJlIFwiPXhcIiwgd2UganVzdCB3YW50IFwieFwiXG4gICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgvXFxzKig/Oj0pPyhcXHcrKVxccyovLCAnJDEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5Lmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IGkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UocGFydHNbcG9zKytdKTtcbiAgICAgICAgaWYgKGNhc2VzLmxlbmd0aCA+IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGJsb2Nrcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyhvY29tYmUpOiBzdXBwb3J0IElDVSBleHByZXNzaW9ucyBpbiBhdHRyaWJ1dGVzLCBzZWUgIzIxNjE1XG4gICAgcmV0dXJuIHsgdHlwZTogaWN1VHlwZSwgbWFpbkJpbmRpbmc6IG1haW5CaW5kaW5nLCBjYXNlcywgdmFsdWVzIH07XG59XG4vKipcbiAqIEJyZWFrcyBwYXR0ZXJuIGludG8gc3RyaW5ncyBhbmQgdG9wIGxldmVsIHsuLi59IGJsb2Nrcy5cbiAqIENhbiBiZSB1c2VkIHRvIGJyZWFrIGEgbWVzc2FnZSBpbnRvIHRleHQgYW5kIElDVSBleHByZXNzaW9ucywgb3IgdG8gYnJlYWsgYW4gSUNVIGV4cHJlc3Npb25cbiAqIGludG8ga2V5cyBhbmQgY2FzZXMuIE9yaWdpbmFsIGNvZGUgZnJvbSBjbG9zdXJlIGxpYnJhcnksIG1vZGlmaWVkIGZvciBBbmd1bGFyLlxuICpcbiAqIEBwYXJhbSBwYXR0ZXJuIChzdWIpUGF0dGVybiB0byBiZSBicm9rZW4uXG4gKiBAcmV0dXJucyBBbiBgQXJyYXk8c3RyaW5nfEljdUV4cHJlc3Npb24+YCB3aGVyZTpcbiAqICAgLSBvZGQgcG9zaXRpb25zOiBgc3RyaW5nYCA9PiB0ZXh0IGJldHdlZW4gSUNVIGV4cHJlc3Npb25zXG4gKiAgIC0gZXZlbiBwb3NpdGlvbnM6IGBJQ1VFeHByZXNzaW9uYCA9PiBJQ1UgZXhwcmVzc2lvbiBwYXJzZWQgaW50byBgSUNVRXhwcmVzc2lvbmAgcmVjb3JkLlxuICovXG5mdW5jdGlvbiBpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVKHBhdHRlcm4pIHtcbiAgICBpZiAoIXBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgcHJldlBvcyA9IDA7XG4gICAgY29uc3QgYnJhY2VTdGFjayA9IFtdO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBjb25zdCBicmFjZXMgPSAvW3t9XS9nO1xuICAgIC8vIGxhc3RJbmRleCBkb2Vzbid0IGdldCBzZXQgdG8gMCBzbyB3ZSBoYXZlIHRvLlxuICAgIGJyYWNlcy5sYXN0SW5kZXggPSAwO1xuICAgIGxldCBtYXRjaDtcbiAgICB3aGlsZSAobWF0Y2ggPSBicmFjZXMuZXhlYyhwYXR0ZXJuKSkge1xuICAgICAgICBjb25zdCBwb3MgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgaWYgKG1hdGNoWzBdID09ICd9Jykge1xuICAgICAgICAgICAgYnJhY2VTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChicmFjZVN0YWNrLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBjb25zdCBibG9jayA9IHBhdHRlcm4uc3Vic3RyaW5nKHByZXZQb3MsIHBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKElDVV9CTE9DS19SRUdFWFAudGVzdChibG9jaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHBhcnNlSUNVQmxvY2soYmxvY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZQb3MgPSBwb3MgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGJyYWNlU3RhY2subGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzdHJpbmcgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zLCBwb3MpO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzdWJzdHJpbmcpO1xuICAgICAgICAgICAgICAgIHByZXZQb3MgPSBwb3MgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJhY2VTdGFjay5wdXNoKCd7Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3Vic3RyaW5nID0gcGF0dGVybi5zdWJzdHJpbmcocHJldlBvcyk7XG4gICAgcmVzdWx0cy5wdXNoKHN1YnN0cmluZyk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG4vKipcbiAqIFBhcnNlcyBhIG5vZGUsIGl0cyBjaGlsZHJlbiBhbmQgaXRzIHNpYmxpbmdzLCBhbmQgZ2VuZXJhdGVzIHRoZSBtdXRhdGUgJiB1cGRhdGUgT3BDb2Rlcy5cbiAqXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSWN1Q2FzZSh0VmlldywgdEljdSwgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIHBhcmVudElkeCwgY2FzZU5hbWUsIHVuc2FmZUNhc2VIdG1sLCBuZXN0ZWRJY3VzKSB7XG4gICAgY29uc3QgY3JlYXRlID0gW107XG4gICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgY29uc3QgdXBkYXRlID0gW107XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcihjcmVhdGUsIGljdUNyZWF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHJlbW92ZSwgaTE4blJlbW92ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHVwZGF0ZSwgaTE4blVwZGF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgfVxuICAgIHRJY3UuY2FzZXMucHVzaChjYXNlTmFtZSk7XG4gICAgdEljdS5jcmVhdGUucHVzaChjcmVhdGUpO1xuICAgIHRJY3UucmVtb3ZlLnB1c2gocmVtb3ZlKTtcbiAgICB0SWN1LnVwZGF0ZS5wdXNoKHVwZGF0ZSk7XG4gICAgY29uc3QgaW5lcnRCb2R5SGVscGVyID0gZ2V0SW5lcnRCb2R5SGVscGVyKGdldERvY3VtZW50KCkpO1xuICAgIGNvbnN0IGluZXJ0Qm9keUVsZW1lbnQgPSBpbmVydEJvZHlIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudCh1bnNhZmVDYXNlSHRtbCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaW5lcnRCb2R5RWxlbWVudCwgJ1VuYWJsZSB0byBnZW5lcmF0ZSBpbmVydCBib2R5IGVsZW1lbnQnKTtcbiAgICBjb25zdCBpbmVydFJvb3ROb2RlID0gZ2V0VGVtcGxhdGVDb250ZW50KGluZXJ0Qm9keUVsZW1lbnQpIHx8IGluZXJ0Qm9keUVsZW1lbnQ7XG4gICAgaWYgKGluZXJ0Um9vdE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHdhbGtJY3VUcmVlKHRWaWV3LCB0SWN1LCBsVmlldywgdXBkYXRlT3BDb2RlcywgY3JlYXRlLCByZW1vdmUsIHVwZGF0ZSwgaW5lcnRSb290Tm9kZSwgcGFyZW50SWR4LCBuZXN0ZWRJY3VzLCAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdhbGtJY3VUcmVlKHRWaWV3LCB0SWN1LCBsVmlldywgc2hhcmVkVXBkYXRlT3BDb2RlcywgY3JlYXRlLCByZW1vdmUsIHVwZGF0ZSwgcGFyZW50Tm9kZSwgcGFyZW50SWR4LCBuZXN0ZWRJY3VzLCBkZXB0aCkge1xuICAgIGxldCBiaW5kaW5nTWFzayA9IDA7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gcGFyZW50Tm9kZS5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICBjb25zdCBuZXdJbmRleCA9IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIDEsIG51bGwpO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnROb2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKFZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENyZWF0ZU5vZGVBbmRBcHBlbmQoY3JlYXRlLCBFTEVNRU5UX01BUktFUiwgdGFnTmFtZSwgcGFyZW50SWR4LCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRWaWV3LmRhdGFbbmV3SW5kZXhdID0gdGFnTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxBdHRycyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbEF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyID0gZWxBdHRycy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93ZXJBdHRyTmFtZSA9IGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzQmluZGluZyA9ICEhYXR0ci52YWx1ZS5tYXRjaChCSU5ESU5HX1JFR0VYUCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhlIGlucHV0IHN0cmluZyBpcyBzYWZlLCB1bmxlc3MgaXQncyB1c2luZyBhIGJpbmRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFZBTElEX0FUVFJTLmhhc093blByb3BlcnR5KGxvd2VyQXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChVUklfQVRUUlNbbG93ZXJBdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlLCBhdHRyLnZhbHVlLCBuZXdJbmRleCwgYXR0ci5uYW1lLCAwLCBfc2FuaXRpemVVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKFNSQ1NFVF9BVFRSU1tsb3dlckF0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIGF0dHIudmFsdWUsIG5ld0luZGV4LCBhdHRyLm5hbWUsIDAsIHNhbml0aXplU3Jjc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlLCBhdHRyLnZhbHVlLCBuZXdJbmRleCwgYXR0ci5uYW1lLCAwLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFdBUk5JTkc6IGlnbm9yaW5nIHVuc2FmZSBhdHRyaWJ1dGUgdmFsdWUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7bG93ZXJBdHRyTmFtZX0gb24gZWxlbWVudCAke3RhZ05hbWV9IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ3JlYXRlQXR0cmlidXRlKGNyZWF0ZSwgbmV3SW5kZXgsIGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUgKGlmIGFueSlcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ01hc2sgPSB3YWxrSWN1VHJlZSh0VmlldywgdEljdSwgbFZpZXcsIHNoYXJlZFVwZGF0ZU9wQ29kZXMsIGNyZWF0ZSwgcmVtb3ZlLCB1cGRhdGUsIGN1cnJlbnROb2RlLCBuZXdJbmRleCwgbmVzdGVkSWN1cywgZGVwdGggKyAxKSB8XG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kaW5nTWFzaztcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVtb3ZlTm9kZShyZW1vdmUsIG5ld0luZGV4LCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN1cnJlbnROb2RlLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0JpbmRpbmcgPSB2YWx1ZS5tYXRjaChCSU5ESU5HX1JFR0VYUCk7XG4gICAgICAgICAgICAgICAgYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIG51bGwsIGhhc0JpbmRpbmcgPyAnJyA6IHZhbHVlLCBwYXJlbnRJZHgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICBhZGRSZW1vdmVOb2RlKHJlbW92ZSwgbmV3SW5kZXgsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQmluZGluZykge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nTWFzayA9XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgdmFsdWUsIG5ld0luZGV4LCBudWxsLCAwLCBudWxsKSB8IGJpbmRpbmdNYXNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTm9kZS5DT01NRU5UX05PREU6XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbW1lbnQgbm9kZSBpcyBhIHBsYWNlaG9sZGVyIGZvciBhIG5lc3RlZCBJQ1VcbiAgICAgICAgICAgICAgICBjb25zdCBpc05lc3RlZEljdSA9IE5FU1RFRF9JQ1UuZXhlYyhjdXJyZW50Tm9kZS50ZXh0Q29udGVudCB8fCAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmVzdGVkSWN1KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEljdUluZGV4ID0gcGFyc2VJbnQoaXNOZXN0ZWRJY3VbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWN1RXhwcmVzc2lvbiA9IG5lc3RlZEljdXNbbmVzdGVkSWN1SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbW1lbnQgbm9kZSB0aGF0IHdpbGwgYW5jaG9yIHRoZSBJQ1UgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgSUNVX01BUktFUiwgbmdEZXZNb2RlID8gYG5lc3RlZCBJQ1UgJHtuZXN0ZWRJY3VJbmRleH1gIDogJycsIHBhcmVudElkeCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpY3VTdGFydCh0VmlldywgbFZpZXcsIHNoYXJlZFVwZGF0ZU9wQ29kZXMsIHBhcmVudElkeCwgaWN1RXhwcmVzc2lvbiwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRSZW1vdmVOZXN0ZWRJY3UocmVtb3ZlLCBuZXdJbmRleCwgZGVwdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gYmluZGluZ01hc2s7XG59XG5mdW5jdGlvbiBhZGRSZW1vdmVOb2RlKHJlbW92ZSwgaW5kZXgsIGRlcHRoKSB7XG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJlbW92ZS5wdXNoKGluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRSZW1vdmVOZXN0ZWRJY3UocmVtb3ZlLCBpbmRleCwgZGVwdGgpIHtcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgcmVtb3ZlLnB1c2gofmluZGV4KTsgLy8gcmVtb3ZlIElDVSBhdCBgaW5kZXhgXG4gICAgICAgIHJlbW92ZS5wdXNoKGluZGV4KTsgLy8gcmVtb3ZlIElDVSBjb21tZW50IGF0IGBpbmRleGBcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRVcGRhdGVJY3VTd2l0Y2godXBkYXRlLCBpY3VFeHByZXNzaW9uLCBpbmRleCkge1xuICAgIHVwZGF0ZS5wdXNoKHRvTWFza0JpdChpY3VFeHByZXNzaW9uLm1haW5CaW5kaW5nKSwgMiwgLTEgLSBpY3VFeHByZXNzaW9uLm1haW5CaW5kaW5nLCBpbmRleCA8PCAyIC8qIFNISUZUX1JFRiAqLyB8IDIgLyogSWN1U3dpdGNoICovKTtcbn1cbmZ1bmN0aW9uIGFkZFVwZGF0ZUljdVVwZGF0ZSh1cGRhdGUsIGJpbmRpbmdNYXNrLCBpbmRleCkge1xuICAgIHVwZGF0ZS5wdXNoKGJpbmRpbmdNYXNrLCAxLCBpbmRleCA8PCAyIC8qIFNISUZUX1JFRiAqLyB8IDMgLyogSWN1VXBkYXRlICovKTtcbn1cbmZ1bmN0aW9uIGFkZENyZWF0ZU5vZGVBbmRBcHBlbmQoY3JlYXRlLCBtYXJrZXIsIHRleHQsIGFwcGVuZFRvUGFyZW50SWR4LCBjcmVhdGVBdElkeCkge1xuICAgIGlmIChtYXJrZXIgIT09IG51bGwpIHtcbiAgICAgICAgY3JlYXRlLnB1c2gobWFya2VyKTtcbiAgICB9XG4gICAgY3JlYXRlLnB1c2godGV4dCwgY3JlYXRlQXRJZHgsIGljdUNyZWF0ZU9wQ29kZSgwIC8qIEFwcGVuZENoaWxkICovLCBhcHBlbmRUb1BhcmVudElkeCwgY3JlYXRlQXRJZHgpKTtcbn1cbmZ1bmN0aW9uIGFkZENyZWF0ZUF0dHJpYnV0ZShjcmVhdGUsIG5ld0luZGV4LCBhdHRyKSB7XG4gICAgY3JlYXRlLnB1c2gobmV3SW5kZXggPDwgMSAvKiBTSElGVF9SRUYgKi8gfCAxIC8qIEF0dHIgKi8sIGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gaTE4blBvc3Rwcm9jZXNzIGNvbnN0c1xuY29uc3QgUk9PVF9URU1QTEFURV9JRCA9IDA7XG5jb25zdCBQUF9NVUxUSV9WQUxVRV9QTEFDRUhPTERFUlNfUkVHRVhQID0gL1xcWyjvv70uKz/vv70/KVxcXS87XG5jb25zdCBQUF9QTEFDRUhPTERFUlNfUkVHRVhQID0gL1xcWyjvv70uKz/vv70/KVxcXXwo77+9XFwvP1xcKlxcZCs6XFxkK++/vSkvZztcbmNvbnN0IFBQX0lDVV9WQVJTX1JFR0VYUCA9IC8oe1xccyopKFZBUl8oUExVUkFMfFNFTEVDVCkoX1xcZCspPykoXFxzKiwpL2c7XG5jb25zdCBQUF9JQ1VfUExBQ0VIT0xERVJTX1JFR0VYUCA9IC97KFtBLVowLTlfXSspfS9nO1xuY29uc3QgUFBfSUNVU19SRUdFWFAgPSAv77+9STE4Tl9FWFBfKElDVShfXFxkKyk/Ke+/vS9nO1xuY29uc3QgUFBfQ0xPU0VfVEVNUExBVEVfUkVHRVhQID0gL1xcL1xcKi87XG5jb25zdCBQUF9URU1QTEFURV9JRF9SRUdFWFAgPSAvXFxkK1xcOihcXGQrKS87XG4vKipcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGZvciBpbnRlcm5hdGlvbmFsaXphdGlvbi5cbiAqXG4gKiBIYW5kbGVzIG1lc3NhZ2Ugc3RyaW5nIHBvc3QtcHJvY2Vzc2luZyBieSB0cmFuc2Zvcm1pbmcgaXQgZnJvbSBpbnRlcm1lZGlhdGVcbiAqIGZvcm1hdCAodGhhdCBtaWdodCBjb250YWluIHNvbWUgbWFya2VycyB0aGF0IHdlIG5lZWQgdG8gcmVwbGFjZSkgdG8gdGhlIGZpbmFsXG4gKiBmb3JtLCBjb25zdW1hYmxlIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvbi4gUG9zdCBwcm9jZXNzaW5nIHN0ZXBzIGluY2x1ZGU6XG4gKlxuICogMS4gUmVzb2x2ZSBhbGwgbXVsdGktdmFsdWUgY2FzZXMgKGxpa2UgW++/vSoxOjHvv73vv70jMjox77+9fO+/vSM0OjHvv71877+9Ne+/vV0pXG4gKiAyLiBSZXBsYWNlIGFsbCBJQ1UgdmFycyAobGlrZSBcIlZBUl9QTFVSQUxcIilcbiAqIDMuIFJlcGxhY2UgYWxsIHBsYWNlaG9sZGVycyB1c2VkIGluc2lkZSBJQ1VzIGluIGEgZm9ybSBvZiB7UExBQ0VIT0xERVJ9XG4gKiA0LiBSZXBsYWNlIGFsbCBJQ1UgcmVmZXJlbmNlcyB3aXRoIGNvcnJlc3BvbmRpbmcgdmFsdWVzIChsaWtlIO+/vUlDVV9FWFBfSUNVXzHvv70pXG4gKiAgICBpbiBjYXNlIG11bHRpcGxlIElDVXMgaGF2ZSB0aGUgc2FtZSBwbGFjZWhvbGRlciBuYW1lXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgUmF3IHRyYW5zbGF0aW9uIHN0cmluZyBmb3IgcG9zdCBwcm9jZXNzaW5nXG4gKiBAcGFyYW0gcmVwbGFjZW1lbnRzIFNldCBvZiByZXBsYWNlbWVudHMgdGhhdCBzaG91bGQgYmUgYXBwbGllZFxuICpcbiAqIEByZXR1cm5zIFRyYW5zZm9ybWVkIHN0cmluZyB0aGF0IGNhbiBiZSBjb25zdW1lZCBieSBpMThuU3RhcnQgaW5zdHJ1Y3Rpb25cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiBpMThuUG9zdHByb2Nlc3MobWVzc2FnZSwgcmVwbGFjZW1lbnRzID0ge30pIHtcbiAgICAvKipcbiAgICAgKiBTdGVwIDE6IHJlc29sdmUgYWxsIG11bHRpLXZhbHVlIHBsYWNlaG9sZGVycyBsaWtlIFvvv70jNe+/vXzvv70qMTox77+977+9IzI6Me+/vXzvv70jNDox77+9XVxuICAgICAqXG4gICAgICogTm90ZTogZHVlIHRvIHRoZSB3YXkgd2UgcHJvY2VzcyBuZXN0ZWQgdGVtcGxhdGVzIChCRlMpLCBtdWx0aS12YWx1ZSBwbGFjZWhvbGRlcnMgYXJlIHR5cGljYWxseVxuICAgICAqIGdyb3VwZWQgYnkgdGVtcGxhdGVzLCBmb3IgZXhhbXBsZTogW++/vSM177+9fO+/vSM277+9fO+/vSMxOjHvv71877+9IzM6Mu+/vV0gd2hlcmUg77+9IzXvv70gYW5kIO+/vSM277+9IGJlbG9uZyB0byByb290XG4gICAgICogdGVtcGxhdGUsIO+/vSMxOjHvv70gYmVsb25nIHRvIG5lc3RlZCB0ZW1wbGF0ZSB3aXRoIGluZGV4IDEgYW5kIO+/vSMxOjLvv70gLSBuZXN0ZWQgdGVtcGxhdGUgd2l0aCBpbmRleFxuICAgICAqIDMuIEhvd2V2ZXIgaW4gcmVhbCB0ZW1wbGF0ZXMgdGhlIG9yZGVyIG1pZ2h0IGJlIGRpZmZlcmVudDogaS5lLiDvv70jMTox77+9IGFuZC9vciDvv70jMzoy77+9IG1heSBnbyBpblxuICAgICAqIGZyb250IG9mIO+/vSM277+9LiBUaGUgcG9zdCBwcm9jZXNzaW5nIHN0ZXAgcmVzdG9yZXMgdGhlIHJpZ2h0IG9yZGVyIGJ5IGtlZXBpbmcgdHJhY2sgb2YgdGhlXG4gICAgICogdGVtcGxhdGUgaWQgc3RhY2sgYW5kIGxvb2tzIGZvciBwbGFjZWhvbGRlcnMgdGhhdCBiZWxvbmcgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgdGVtcGxhdGUuXG4gICAgICovXG4gICAgbGV0IHJlc3VsdCA9IG1lc3NhZ2U7XG4gICAgaWYgKFBQX01VTFRJX1ZBTFVFX1BMQUNFSE9MREVSU19SRUdFWFAudGVzdChtZXNzYWdlKSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0ge307XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlSWRzU3RhY2sgPSBbUk9PVF9URU1QTEFURV9JRF07XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFBQX1BMQUNFSE9MREVSU19SRUdFWFAsIChtLCBwaHMsIHRtcGwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBwaHMgfHwgdG1wbDtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVycyA9IG1hdGNoZXNbY29udGVudF0gfHwgW107XG4gICAgICAgICAgICBpZiAoIXBsYWNlaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnNwbGl0KCd8JykuZm9yRWFjaCgocGxhY2Vob2xkZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBwbGFjZWhvbGRlci5tYXRjaChQUF9URU1QTEFURV9JRF9SRUdFWFApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUlkID0gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSwgMTApIDogUk9PVF9URU1QTEFURV9JRDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDbG9zZVRlbXBsYXRlVGFnID0gUFBfQ0xPU0VfVEVNUExBVEVfUkVHRVhQLnRlc3QocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcnMucHVzaChbdGVtcGxhdGVJZCwgaXNDbG9zZVRlbXBsYXRlVGFnLCBwbGFjZWhvbGRlcl0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1hdGNoZXNbY29udGVudF0gPSBwbGFjZWhvbGRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBsYWNlaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGkxOG4gcG9zdHByb2Nlc3M6IHVubWF0Y2hlZCBwbGFjZWhvbGRlciAtICR7Y29udGVudH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUZW1wbGF0ZUlkID0gdGVtcGxhdGVJZHNTdGFja1t0ZW1wbGF0ZUlkc1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgICAgICAvLyBmaW5kIHBsYWNlaG9sZGVyIGluZGV4IHRoYXQgbWF0Y2hlcyBjdXJyZW50IHRlbXBsYXRlIGlkXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYWNlaG9sZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcnNbaV1bMF0gPT09IGN1cnJlbnRUZW1wbGF0ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0ZW1wbGF0ZSBpZCBzdGFjayBiYXNlZCBvbiB0aGUgY3VycmVudCB0YWcgZXh0cmFjdGVkXG4gICAgICAgICAgICBjb25zdCBbdGVtcGxhdGVJZCwgaXNDbG9zZVRlbXBsYXRlVGFnLCBwbGFjZWhvbGRlcl0gPSBwbGFjZWhvbGRlcnNbaWR4XTtcbiAgICAgICAgICAgIGlmIChpc0Nsb3NlVGVtcGxhdGVUYWcpIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUlkc1N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRlbXBsYXRlSWQgIT09IHRlbXBsYXRlSWQpIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUlkc1N0YWNrLnB1c2godGVtcGxhdGVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvY2Vzc2VkIHRhZyBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICBwbGFjZWhvbGRlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyByZXR1cm4gY3VycmVudCByZXN1bHQgaWYgbm8gcmVwbGFjZW1lbnRzIHNwZWNpZmllZFxuICAgIGlmICghT2JqZWN0LmtleXMocmVwbGFjZW1lbnRzKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RlcCAyOiByZXBsYWNlIGFsbCBJQ1UgdmFycyAobGlrZSBcIlZBUl9QTFVSQUxcIilcbiAgICAgKi9cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9JQ1VfVkFSU19SRUdFWFAsIChtYXRjaCwgc3RhcnQsIGtleSwgX3R5cGUsIF9pZHgsIGVuZCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzLmhhc093blByb3BlcnR5KGtleSkgPyBgJHtzdGFydH0ke3JlcGxhY2VtZW50c1trZXldfSR7ZW5kfWAgOiBtYXRjaDtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGVwIDM6IHJlcGxhY2UgYWxsIHBsYWNlaG9sZGVycyB1c2VkIGluc2lkZSBJQ1VzIGluIGEgZm9ybSBvZiB7UExBQ0VIT0xERVJ9XG4gICAgICovXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVX1BMQUNFSE9MREVSU19SRUdFWFAsIChtYXRjaCwga2V5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudHMuaGFzT3duUHJvcGVydHkoa2V5KSA/IHJlcGxhY2VtZW50c1trZXldIDogbWF0Y2g7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RlcCA0OiByZXBsYWNlIGFsbCBJQ1UgcmVmZXJlbmNlcyB3aXRoIGNvcnJlc3BvbmRpbmcgdmFsdWVzIChsaWtlIO+/vUlDVV9FWFBfSUNVXzHvv70pIGluIGNhc2VcbiAgICAgKiBtdWx0aXBsZSBJQ1VzIGhhdmUgdGhlIHNhbWUgcGxhY2Vob2xkZXIgbmFtZVxuICAgICAqL1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFBQX0lDVVNfUkVHRVhQLCAobWF0Y2gsIGtleSkgPT4ge1xuICAgICAgICBpZiAocmVwbGFjZW1lbnRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSByZXBsYWNlbWVudHNba2V5XTtcbiAgICAgICAgICAgIGlmICghbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGkxOG4gcG9zdHByb2Nlc3M6IHVubWF0Y2hlZCBJQ1UgLSAke21hdGNofSB3aXRoIGtleTogJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlzdC5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFya3MgYSBibG9jayBvZiB0ZXh0IGFzIHRyYW5zbGF0YWJsZS5cbiAqXG4gKiBUaGUgaW5zdHJ1Y3Rpb25zIGBpMThuU3RhcnRgIGFuZCBgaTE4bkVuZGAgbWFyayB0aGUgdHJhbnNsYXRpb24gYmxvY2sgaW4gdGhlIHRlbXBsYXRlLlxuICogVGhlIHRyYW5zbGF0aW9uIGBtZXNzYWdlYCBpcyB0aGUgdmFsdWUgd2hpY2ggaXMgbG9jYWxlIHNwZWNpZmljLiBUaGUgdHJhbnNsYXRpb24gc3RyaW5nIG1heVxuICogY29udGFpbiBwbGFjZWhvbGRlcnMgd2hpY2ggYXNzb2NpYXRlIGlubmVyIGVsZW1lbnRzIGFuZCBzdWItdGVtcGxhdGVzIHdpdGhpbiB0aGUgdHJhbnNsYXRpb24uXG4gKlxuICogVGhlIHRyYW5zbGF0aW9uIGBtZXNzYWdlYCBwbGFjZWhvbGRlcnMgYXJlOlxuICogLSBg77+9e2luZGV4fSg6e2Jsb2NrfSnvv71gOiAqQmluZGluZyBQbGFjZWhvbGRlcio6IE1hcmtzIGEgbG9jYXRpb24gd2hlcmUgYW4gZXhwcmVzc2lvbiB3aWxsIGJlXG4gKiAgIGludGVycG9sYXRlZCBpbnRvLiBUaGUgcGxhY2Vob2xkZXIgYGluZGV4YCBwb2ludHMgdG8gdGhlIGV4cHJlc3Npb24gYmluZGluZyBpbmRleC4gQW4gb3B0aW9uYWxcbiAqICAgYGJsb2NrYCB0aGF0IG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKiAtIGDvv70je2luZGV4fSg6e2Jsb2NrfSnvv71gL2Dvv70vI3tpbmRleH0oOntibG9ja30p77+9YDogKkVsZW1lbnQgUGxhY2Vob2xkZXIqOiAgTWFya3MgdGhlIGJlZ2lubmluZ1xuICogICBhbmQgZW5kIG9mIERPTSBlbGVtZW50IHRoYXQgd2VyZSBlbWJlZGRlZCBpbiB0aGUgb3JpZ2luYWwgdHJhbnNsYXRpb24gYmxvY2suIFRoZSBwbGFjZWhvbGRlclxuICogICBgaW5kZXhgIHBvaW50cyB0byB0aGUgZWxlbWVudCBpbmRleCBpbiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb25zIHNldC4gQW4gb3B0aW9uYWwgYGJsb2NrYCB0aGF0XG4gKiAgIG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKiAtIGDvv70qe2luZGV4fTp7YmxvY2t977+9YC9g77+9Lyp7aW5kZXh9OntibG9ja33vv71gOiAqU3ViLXRlbXBsYXRlIFBsYWNlaG9sZGVyKjogU3ViLXRlbXBsYXRlcyBtdXN0IGJlXG4gKiAgIHNwbGl0IHVwIGFuZCB0cmFuc2xhdGVkIHNlcGFyYXRlbHkgaW4gZWFjaCBhbmd1bGFyIHRlbXBsYXRlIGZ1bmN0aW9uLiBUaGUgYGluZGV4YCBwb2ludHMgdG8gdGhlXG4gKiAgIGB0ZW1wbGF0ZWAgaW5zdHJ1Y3Rpb24gaW5kZXguIEEgYGJsb2NrYCB0aGF0IG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKlxuICogQHBhcmFtIGluZGV4IEEgdW5pcXVlIGluZGV4IG9mIHRoZSB0cmFuc2xhdGlvbiBpbiB0aGUgc3RhdGljIGJsb2NrLlxuICogQHBhcmFtIG1lc3NhZ2VJbmRleCBBbiBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gbWVzc2FnZSBmcm9tIHRoZSBgZGVmLmNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBPcHRpb25hbCBzdWItdGVtcGxhdGUgaW5kZXggaW4gdGhlIGBtZXNzYWdlYC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4blN0YXJ0KGluZGV4LCBtZXNzYWdlSW5kZXgsIHN1YlRlbXBsYXRlSW5kZXggPSAtMSkge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IEhFQURFUl9PRkZTRVQgKyBpbmRleDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0VmlldywgYHRWaWV3IHNob3VsZCBiZSBkZWZpbmVkYCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdldENvbnN0YW50KHRWaWV3LmNvbnN0cywgbWVzc2FnZUluZGV4KTtcbiAgICBjb25zdCBwYXJlbnRUTm9kZSA9IGdldEN1cnJlbnRQYXJlbnRUTm9kZSgpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3LCBwYXJlbnRUTm9kZSA9PT0gbnVsbCA/IDAgOiBwYXJlbnRUTm9kZS5pbmRleCwgbFZpZXcsIGFkanVzdGVkSW5kZXgsIG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCB0STE4biA9IHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgY29uc3Qgc2FtZVZpZXdQYXJlbnRUTm9kZSA9IHBhcmVudFROb2RlID09PSBsVmlld1tUX0hPU1RdID8gbnVsbCA6IHBhcmVudFROb2RlO1xuICAgIGNvbnN0IHBhcmVudFJOb2RlID0gZ2V0Q2xvc2VzdFJFbGVtZW50KHRWaWV3LCBzYW1lVmlld1BhcmVudFROb2RlLCBsVmlldyk7XG4gICAgLy8gSWYgYHBhcmVudFROb2RlYCBpcyBhbiBgRWxlbWVudENvbnRhaW5lcmAgdGhhbiBpdCBoYXMgYDwhLS1uZy1jb250YWluZXItLS0+YC5cbiAgICAvLyBXaGVuIHdlIGRvIGluc2VydHMgd2UgaGF2ZSB0byBtYWtlIHN1cmUgdG8gaW5zZXJ0IGluIGZyb250IG9mIGA8IS0tbmctY29udGFpbmVyLS0tPmAuXG4gICAgY29uc3QgaW5zZXJ0SW5Gcm9udE9mID0gcGFyZW50VE5vZGUgJiYgKHBhcmVudFROb2RlLnR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pID9cbiAgICAgICAgbFZpZXdbcGFyZW50VE5vZGUuaW5kZXhdIDpcbiAgICAgICAgbnVsbDtcbiAgICBhcHBseUNyZWF0ZU9wQ29kZXMobFZpZXcsIHRJMThuLmNyZWF0ZSwgcGFyZW50Uk5vZGUsIGluc2VydEluRnJvbnRPZik7XG4gICAgc2V0SW5JMThuQmxvY2sodHJ1ZSk7XG59XG4vKipcbiAqIFRyYW5zbGF0ZXMgYSB0cmFuc2xhdGlvbiBibG9jayBtYXJrZWQgYnkgYGkxOG5TdGFydGAgYW5kIGBpMThuRW5kYC4gSXQgaW5zZXJ0cyB0aGUgdGV4dC9JQ1Ugbm9kZXNcbiAqIGludG8gdGhlIHJlbmRlciB0cmVlLCBtb3ZlcyB0aGUgcGxhY2Vob2xkZXIgbm9kZXMgYW5kIHJlbW92ZXMgdGhlIGRlbGV0ZWQgbm9kZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5FbmQoKSB7XG4gICAgc2V0SW5JMThuQmxvY2soZmFsc2UpO1xufVxuLyoqXG4gKlxuICogVXNlIHRoaXMgaW5zdHJ1Y3Rpb24gdG8gY3JlYXRlIGEgdHJhbnNsYXRpb24gYmxvY2sgdGhhdCBkb2Vzbid0IGNvbnRhaW4gYW55IHBsYWNlaG9sZGVyLlxuICogSXQgY2FsbHMgYm90aCB7QGxpbmsgaTE4blN0YXJ0fSBhbmQge0BsaW5rIGkxOG5FbmR9IGluIG9uZSBpbnN0cnVjdGlvbi5cbiAqXG4gKiBUaGUgdHJhbnNsYXRpb24gYG1lc3NhZ2VgIGlzIHRoZSB2YWx1ZSB3aGljaCBpcyBsb2NhbGUgc3BlY2lmaWMuIFRoZSB0cmFuc2xhdGlvbiBzdHJpbmcgbWF5XG4gKiBjb250YWluIHBsYWNlaG9sZGVycyB3aGljaCBhc3NvY2lhdGUgaW5uZXIgZWxlbWVudHMgYW5kIHN1Yi10ZW1wbGF0ZXMgd2l0aGluIHRoZSB0cmFuc2xhdGlvbi5cbiAqXG4gKiBUaGUgdHJhbnNsYXRpb24gYG1lc3NhZ2VgIHBsYWNlaG9sZGVycyBhcmU6XG4gKiAtIGDvv717aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpCaW5kaW5nIFBsYWNlaG9sZGVyKjogTWFya3MgYSBsb2NhdGlvbiB3aGVyZSBhbiBleHByZXNzaW9uIHdpbGwgYmVcbiAqICAgaW50ZXJwb2xhdGVkIGludG8uIFRoZSBwbGFjZWhvbGRlciBgaW5kZXhgIHBvaW50cyB0byB0aGUgZXhwcmVzc2lvbiBiaW5kaW5nIGluZGV4LiBBbiBvcHRpb25hbFxuICogICBgYmxvY2tgIHRoYXQgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqIC0gYO+/vSN7aW5kZXh9KDp7YmxvY2t9Ke+/vWAvYO+/vS8je2luZGV4fSg6e2Jsb2NrfSnvv71gOiAqRWxlbWVudCBQbGFjZWhvbGRlcio6ICBNYXJrcyB0aGUgYmVnaW5uaW5nXG4gKiAgIGFuZCBlbmQgb2YgRE9NIGVsZW1lbnQgdGhhdCB3ZXJlIGVtYmVkZGVkIGluIHRoZSBvcmlnaW5hbCB0cmFuc2xhdGlvbiBibG9jay4gVGhlIHBsYWNlaG9sZGVyXG4gKiAgIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBlbGVtZW50IGluZGV4IGluIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbnMgc2V0LiBBbiBvcHRpb25hbCBgYmxvY2tgIHRoYXRcbiAqICAgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqIC0gYO+/vSp7aW5kZXh9OntibG9ja33vv71gL2Dvv70vKntpbmRleH06e2Jsb2Nrfe+/vWA6ICpTdWItdGVtcGxhdGUgUGxhY2Vob2xkZXIqOiBTdWItdGVtcGxhdGVzIG11c3QgYmVcbiAqICAgc3BsaXQgdXAgYW5kIHRyYW5zbGF0ZWQgc2VwYXJhdGVseSBpbiBlYWNoIGFuZ3VsYXIgdGVtcGxhdGUgZnVuY3Rpb24uIFRoZSBgaW5kZXhgIHBvaW50cyB0byB0aGVcbiAqICAgYHRlbXBsYXRlYCBpbnN0cnVjdGlvbiBpbmRleC4gQSBgYmxvY2tgIHRoYXQgbWF0Y2hlcyB0aGUgc3ViLXRlbXBsYXRlIGluIHdoaWNoIGl0IHdhcyBkZWNsYXJlZC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggQSB1bmlxdWUgaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIGluIHRoZSBzdGF0aWMgYmxvY2suXG4gKiBAcGFyYW0gbWVzc2FnZUluZGV4IEFuIGluZGV4IG9mIHRoZSB0cmFuc2xhdGlvbiBtZXNzYWdlIGZyb20gdGhlIGBkZWYuY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBzdWJUZW1wbGF0ZUluZGV4IE9wdGlvbmFsIHN1Yi10ZW1wbGF0ZSBpbmRleCBpbiB0aGUgYG1lc3NhZ2VgLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuKGluZGV4LCBtZXNzYWdlSW5kZXgsIHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICDJtcm1aTE4blN0YXJ0KGluZGV4LCBtZXNzYWdlSW5kZXgsIHN1YlRlbXBsYXRlSW5kZXgpO1xuICAgIMm1ybVpMThuRW5kKCk7XG59XG4vKipcbiAqIE1hcmtzIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGFzIHRyYW5zbGF0YWJsZS5cbiAqXG4gKiBAcGFyYW0gaW5kZXggQSB1bmlxdWUgaW5kZXggaW4gdGhlIHN0YXRpYyBibG9ja1xuICogQHBhcmFtIHZhbHVlc1xuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuQXR0cmlidXRlcyhpbmRleCwgYXR0cnNJbmRleCkge1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0VmlldywgYHRWaWV3IHNob3VsZCBiZSBkZWZpbmVkYCk7XG4gICAgY29uc3QgYXR0cnMgPSBnZXRDb25zdGFudCh0Vmlldy5jb25zdHMsIGF0dHJzSW5kZXgpO1xuICAgIGkxOG5BdHRyaWJ1dGVzRmlyc3RQYXNzKHRWaWV3LCBpbmRleCArIEhFQURFUl9PRkZTRVQsIGF0dHJzKTtcbn1cbi8qKlxuICogU3RvcmVzIHRoZSB2YWx1ZXMgb2YgdGhlIGJpbmRpbmdzIGR1cmluZyBlYWNoIHVwZGF0ZSBjeWNsZSBpbiBvcmRlciB0byBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0b1xuICogdXBkYXRlIHRoZSB0cmFuc2xhdGVkIG5vZGVzLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgYmluZGluZydzIHZhbHVlXG4gKiBAcmV0dXJucyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgaXRzZWxmIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWRcbiAqIChlLmcuIGBpMThuRXhwKGN0eC5uYW1lKShjdHgudGl0bGUpYClcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkV4cCh2YWx1ZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBzZXRNYXNrQml0KGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBuZXh0QmluZGluZ0luZGV4KCksIHZhbHVlKSk7XG4gICAgcmV0dXJuIMm1ybVpMThuRXhwO1xufVxuLyoqXG4gKiBVcGRhdGVzIGEgdHJhbnNsYXRpb24gYmxvY2sgb3IgYW4gaTE4biBhdHRyaWJ1dGUgd2hlbiB0aGUgYmluZGluZ3MgaGF2ZSBjaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiBlaXRoZXIge0BsaW5rIGkxOG5TdGFydH0gKHRyYW5zbGF0aW9uIGJsb2NrKSBvciB7QGxpbmsgaTE4bkF0dHJpYnV0ZXN9XG4gKiAoaTE4biBhdHRyaWJ1dGUpIG9uIHdoaWNoIGl0IHNob3VsZCB1cGRhdGUgdGhlIGNvbnRlbnQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5BcHBseShpbmRleCkge1xuICAgIGFwcGx5STE4bihnZXRUVmlldygpLCBnZXRMVmlldygpLCBpbmRleCArIEhFQURFUl9PRkZTRVQpO1xufVxuLyoqXG4gKiBIYW5kbGVzIG1lc3NhZ2Ugc3RyaW5nIHBvc3QtcHJvY2Vzc2luZyBmb3IgaW50ZXJuYXRpb25hbGl6YXRpb24uXG4gKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgYnkgdHJhbnNmb3JtaW5nIGl0IGZyb20gaW50ZXJtZWRpYXRlXG4gKiBmb3JtYXQgKHRoYXQgbWlnaHQgY29udGFpbiBzb21lIG1hcmtlcnMgdGhhdCB3ZSBuZWVkIHRvIHJlcGxhY2UpIHRvIHRoZSBmaW5hbFxuICogZm9ybSwgY29uc3VtYWJsZSBieSBpMThuU3RhcnQgaW5zdHJ1Y3Rpb24uIFBvc3QgcHJvY2Vzc2luZyBzdGVwcyBpbmNsdWRlOlxuICpcbiAqIDEuIFJlc29sdmUgYWxsIG11bHRpLXZhbHVlIGNhc2VzIChsaWtlIFvvv70qMTox77+977+9IzI6Me+/vXzvv70jNDox77+9fO+/vTXvv71dKVxuICogMi4gUmVwbGFjZSBhbGwgSUNVIHZhcnMgKGxpa2UgXCJWQVJfUExVUkFMXCIpXG4gKiAzLiBSZXBsYWNlIGFsbCBwbGFjZWhvbGRlcnMgdXNlZCBpbnNpZGUgSUNVcyBpbiBhIGZvcm0gb2Yge1BMQUNFSE9MREVSfVxuICogNC4gUmVwbGFjZSBhbGwgSUNVIHJlZmVyZW5jZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcyAobGlrZSDvv71JQ1VfRVhQX0lDVV8x77+9KVxuICogICAgaW4gY2FzZSBtdWx0aXBsZSBJQ1VzIGhhdmUgdGhlIHNhbWUgcGxhY2Vob2xkZXIgbmFtZVxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFJhdyB0cmFuc2xhdGlvbiBzdHJpbmcgZm9yIHBvc3QgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHJlcGxhY2VtZW50cyBTZXQgb2YgcmVwbGFjZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAqXG4gKiBAcmV0dXJucyBUcmFuc2Zvcm1lZCBzdHJpbmcgdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5Qb3N0cHJvY2VzcyhtZXNzYWdlLCByZXBsYWNlbWVudHMgPSB7fSkge1xuICAgIHJldHVybiBpMThuUG9zdHByb2Nlc3MobWVzc2FnZSwgcmVwbGFjZW1lbnRzKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXNvbHZlcyB0aGUgcHJvdmlkZXJzIHdoaWNoIGFyZSBkZWZpbmVkIGluIHRoZSBEaXJlY3RpdmVEZWYuXG4gKlxuICogV2hlbiBpbnNlcnRpbmcgdGhlIHRva2VucyBhbmQgdGhlIGZhY3RvcmllcyBpbiB0aGVpciByZXNwZWN0aXZlIGFycmF5cywgd2UgY2FuIGFzc3VtZSB0aGF0XG4gKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZmlyc3QgZm9yIHRoZSBjb21wb25lbnQgKGlmIGFueSksIGFuZCB0aGVuIGZvciBvdGhlciBkaXJlY3RpdmVzIG9uIHRoZSBzYW1lXG4gKiBub2RlLlxuICogQXMgYSBjb25zZXF1ZW5jZSx0aGUgcHJvdmlkZXJzIGFyZSBhbHdheXMgcHJvY2Vzc2VkIGluIHRoYXQgb3JkZXI6XG4gKiAxKSBUaGUgdmlldyBwcm92aWRlcnMgb2YgdGhlIGNvbXBvbmVudFxuICogMikgVGhlIHByb3ZpZGVycyBvZiB0aGUgY29tcG9uZW50XG4gKiAzKSBUaGUgcHJvdmlkZXJzIG9mIHRoZSBvdGhlciBkaXJlY3RpdmVzXG4gKiBUaGlzIG1hdGNoZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgaW5qZWN0YWJsZXMgYXJyYXlzIG9mIGEgdmlldyAoZm9yIGVhY2ggbm9kZSkuXG4gKiBTbyB0aGUgdG9rZW5zIGFuZCB0aGUgZmFjdG9yaWVzIGNhbiBiZSBwdXNoZWQgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXlzLCBleGNlcHRcbiAqIGluIG9uZSBjYXNlIGZvciBtdWx0aSBwcm92aWRlcnMuXG4gKlxuICogQHBhcmFtIGRlZiB0aGUgZGlyZWN0aXZlIGRlZmluaXRpb25cbiAqIEBwYXJhbSBwcm92aWRlcnM6IEFycmF5IG9mIGBwcm92aWRlcnNgLlxuICogQHBhcmFtIHZpZXdQcm92aWRlcnM6IEFycmF5IG9mIGB2aWV3UHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gcHJvdmlkZXJzUmVzb2x2ZXIoZGVmLCBwcm92aWRlcnMsIHZpZXdQcm92aWRlcnMpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBjb25zdCBpc0NvbXBvbmVudCA9IGlzQ29tcG9uZW50RGVmKGRlZik7XG4gICAgICAgIC8vIFRoZSBsaXN0IG9mIHZpZXcgcHJvdmlkZXJzIGlzIHByb2Nlc3NlZCBmaXJzdCwgYW5kIHRoZSBmbGFncyBhcmUgdXBkYXRlZFxuICAgICAgICByZXNvbHZlUHJvdmlkZXIodmlld1Byb3ZpZGVycywgdFZpZXcuZGF0YSwgdFZpZXcuYmx1ZXByaW50LCBpc0NvbXBvbmVudCwgdHJ1ZSk7XG4gICAgICAgIC8vIFRoZW4sIHRoZSBsaXN0IG9mIHByb3ZpZGVycyBpcyBwcm9jZXNzZWQsIGFuZCB0aGUgZmxhZ3MgYXJlIHVwZGF0ZWRcbiAgICAgICAgcmVzb2x2ZVByb3ZpZGVyKHByb3ZpZGVycywgdFZpZXcuZGF0YSwgdFZpZXcuYmx1ZXByaW50LCBpc0NvbXBvbmVudCwgZmFsc2UpO1xuICAgIH1cbn1cbi8qKlxuICogUmVzb2x2ZXMgYSBwcm92aWRlciBhbmQgcHVibGlzaGVzIGl0IHRvIHRoZSBESSBzeXN0ZW0uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVQcm92aWRlcihwcm92aWRlciwgdEluamVjdGFibGVzLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQsIGlzQ29tcG9uZW50LCBpc1ZpZXdQcm92aWRlcikge1xuICAgIHByb3ZpZGVyID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3ZpZGVyKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjYWxsIGByZXNvbHZlUHJvdmlkZXJgXG4gICAgICAgIC8vIFJlY3Vyc2lvbiBpcyBPSyBpbiB0aGlzIGNhc2UgYmVjYXVzZSB0aGlzIGNvZGUgd2lsbCBub3QgYmUgaW4gaG90LXBhdGggb25jZSB3ZSBpbXBsZW1lbnRcbiAgICAgICAgLy8gY2xvbmluZyBvZiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzb2x2ZVByb3ZpZGVyKHByb3ZpZGVyW2ldLCB0SW5qZWN0YWJsZXMsIGxJbmplY3RhYmxlc0JsdWVwcmludCwgaXNDb21wb25lbnQsIGlzVmlld1Byb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgICAgIGxldCB0b2tlbiA9IGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSA/IHByb3ZpZGVyIDogcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIucHJvdmlkZSk7XG4gICAgICAgIGxldCBwcm92aWRlckZhY3RvcnkgPSBwcm92aWRlclRvRmFjdG9yeShwcm92aWRlcik7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgICAgIGNvbnN0IGJlZ2luSW5kZXggPSB0Tm9kZS5wcm92aWRlckluZGV4ZXMgJiAxMDQ4NTc1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgICAgICBjb25zdCBlbmRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICBjb25zdCBjcHRWaWV3UHJvdmlkZXJzQ291bnQgPSB0Tm9kZS5wcm92aWRlckluZGV4ZXMgPj4gMjAgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnQgKi87XG4gICAgICAgIGlmIChpc1R5cGVQcm92aWRlcihwcm92aWRlcikgfHwgIXByb3ZpZGVyLm11bHRpKSB7XG4gICAgICAgICAgICAvLyBTaW5nbGUgcHJvdmlkZXIgY2FzZTogdGhlIGZhY3RvcnkgaXMgY3JlYXRlZCBhbmQgcHVzaGVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gbmV3IE5vZGVJbmplY3RvckZhY3RvcnkocHJvdmlkZXJGYWN0b3J5LCBpc1ZpZXdQcm92aWRlciwgybXJtWRpcmVjdGl2ZUluamVjdCk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgaXNWaWV3UHJvdmlkZXIgPyBiZWdpbkluZGV4IDogYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRmFjdG9yeUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KSwgdFZpZXcsIHRva2VuKTtcbiAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkKHRWaWV3LCBwcm92aWRlciwgdEluamVjdGFibGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdEluamVjdGFibGVzLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZVN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlRW5kKys7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmlld1Byb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHROb2RlLnByb3ZpZGVySW5kZXhlcyArPSAxMDQ4NTc2IC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ZXIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludC5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGxWaWV3LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdGYWN0b3J5SW5kZXhdID0gZmFjdG9yeTtcbiAgICAgICAgICAgICAgICBsVmlld1tleGlzdGluZ0ZhY3RvcnlJbmRleF0gPSBmYWN0b3J5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTXVsdGkgcHJvdmlkZXIgY2FzZTpcbiAgICAgICAgICAgIC8vIFdlIGNyZWF0ZSBhIG11bHRpIGZhY3Rvcnkgd2hpY2ggaXMgZ29pbmcgdG8gYWdncmVnYXRlIGFsbCB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgLy8gU2luY2UgdGhlIG91dHB1dCBvZiBzdWNoIGEgZmFjdG9yeSBkZXBlbmRzIG9uIGNvbnRlbnQgb3IgdmlldyBpbmplY3Rpb24sXG4gICAgICAgICAgICAvLyB3ZSBjcmVhdGUgdHdvIG9mIHRoZW0sIHdoaWNoIGFyZSBsaW5rZWQgdG9nZXRoZXIuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGZpcnN0IG9uZSAoZm9yIHZpZXcgcHJvdmlkZXJzKSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IGJsb2NrIG9mIHRoZSBpbmplY3RhYmxlcyBhcnJheSxcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgc2Vjb25kIG9uZSAoZm9yIHByb3ZpZGVycykgaXMgYWx3YXlzIGluIHRoZSBzZWNvbmQgYmxvY2suXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIHZpZXcgcHJvdmlkZXJzIGhhdmUgaGlnaGVyIHByaW9yaXR5LiBXaGVuIGEgbXVsdGkgdG9rZW5cbiAgICAgICAgICAgIC8vIGlzIGJlaW5nIGxvb2tlZCB1cCwgdGhlIHZpZXcgcHJvdmlkZXJzIHNob3VsZCBiZSBmb3VuZCBmaXJzdC5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBpdCBpcyBub3QgcG9zc2libGUgdG8gaGF2ZSBhIG11bHRpIGZhY3RvcnkgaW4gdGhlIHRoaXJkIGJsb2NrIChkaXJlY3RpdmUgYmxvY2spLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBhbGdvcml0aG0gdG8gcHJvY2VzcyBtdWx0aSBwcm92aWRlcnMgaXMgYXMgZm9sbG93czpcbiAgICAgICAgICAgIC8vIDEpIElmIHRoZSBtdWx0aSBwcm92aWRlciBjb21lcyBmcm9tIHRoZSBgdmlld1Byb3ZpZGVyc2Agb2YgdGhlIGNvbXBvbmVudDpcbiAgICAgICAgICAgIC8vICAgYSkgSWYgdGhlIHNwZWNpYWwgdmlldyBwcm92aWRlcnMgZmFjdG9yeSBkb2Vzbid0IGV4aXN0LCBpdCBpcyBjcmVhdGVkIGFuZCBwdXNoZWQuXG4gICAgICAgICAgICAvLyAgIGIpIEVsc2UsIHRoZSBtdWx0aSBwcm92aWRlciBpcyBhZGRlZCB0byB0aGUgZXhpc3RpbmcgbXVsdGkgZmFjdG9yeS5cbiAgICAgICAgICAgIC8vIDIpIElmIHRoZSBtdWx0aSBwcm92aWRlciBjb21lcyBmcm9tIHRoZSBgcHJvdmlkZXJzYCBvZiB0aGUgY29tcG9uZW50IG9yIG9mIGFub3RoZXJcbiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZTpcbiAgICAgICAgICAgIC8vICAgYSkgSWYgdGhlIG11bHRpIGZhY3RvcnkgZG9lc24ndCBleGlzdCwgaXQgaXMgY3JlYXRlZCBhbmQgcHJvdmlkZXIgcHVzaGVkIGludG8gaXQuXG4gICAgICAgICAgICAvLyAgICAgIEl0IGlzIGFsc28gbGlua2VkIHRvIHRoZSBtdWx0aSBmYWN0b3J5IGZvciB2aWV3IHByb3ZpZGVycywgaWYgaXQgZXhpc3RzLlxuICAgICAgICAgICAgLy8gICBiKSBFbHNlLCB0aGUgbXVsdGkgcHJvdmlkZXIgaXMgYWRkZWQgdG8gdGhlIGV4aXN0aW5nIG11bHRpIGZhY3RvcnkuXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4ID0gaW5kZXhPZih0b2tlbiwgdEluamVjdGFibGVzLCBiZWdpbkluZGV4LCBiZWdpbkluZGV4ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IGRvZXNQcm92aWRlcnNGYWN0b3J5RXhpc3QgPSBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA+PSAwICYmXG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0ID0gZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4ID49IDAgJiZcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XTtcbiAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlciAmJiAhZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QgfHxcbiAgICAgICAgICAgICAgICAhaXNWaWV3UHJvdmlkZXIgJiYgIWRvZXNQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlcyAxLmEgYW5kIDIuYVxuICAgICAgICAgICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KSwgdFZpZXcsIHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gbXVsdGlGYWN0b3J5KGlzVmlld1Byb3ZpZGVyID8gbXVsdGlWaWV3UHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyIDogbXVsdGlQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIsIGxJbmplY3RhYmxlc0JsdWVwcmludC5sZW5ndGgsIGlzVmlld1Byb3ZpZGVyLCBpc0NvbXBvbmVudCwgcHJvdmlkZXJGYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmlld1Byb3ZpZGVyICYmIGRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXhdLnByb3ZpZGVyRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCB0SW5qZWN0YWJsZXMubGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB0SW5qZWN0YWJsZXMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlU3RhcnQrKztcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVFbmQrKztcbiAgICAgICAgICAgICAgICBpZiAoaXNWaWV3UHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUucHJvdmlkZXJJbmRleGVzICs9IDEwNDg1NzYgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnRlciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgbFZpZXcucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENhc2VzIDEuYiBhbmQgMi5iXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhJbkZhY3RvcnkgPSBtdWx0aUZhY3RvcnlBZGQobEluamVjdGFibGVzQmx1ZXByaW50W2lzVmlld1Byb3ZpZGVyID8gZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4IDpcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXhdLCBwcm92aWRlckZhY3RvcnksICFpc1ZpZXdQcm92aWRlciAmJiBpc0NvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4ID4gLTEgPyBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA6XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCwgaW5kZXhJbkZhY3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1ZpZXdQcm92aWRlciAmJiBpc0NvbXBvbmVudCAmJiBkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCkge1xuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXhdLmNvbXBvbmVudFByb3ZpZGVycysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZWdpc3RlcnMgdGhlIGBuZ09uRGVzdHJveWAgaG9vayBvZiBhIHByb3ZpZGVyLCBpZiB0aGUgcHJvdmlkZXIgc3VwcG9ydHMgZGVzdHJveSBob29rcy5cbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIGluIHdoaWNoIHRvIHJlZ2lzdGVyIHRoZSBob29rLlxuICogQHBhcmFtIHByb3ZpZGVyIFByb3ZpZGVyIHdob3NlIGhvb2sgc2hvdWxkIGJlIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0gY29udGV4dEluZGV4IEluZGV4IHVuZGVyIHdoaWNoIHRvIGZpbmQgdGhlIGNvbnRleHQgZm9yIHRoZSBob29rIHdoZW4gaXQncyBiZWluZyBpbnZva2VkLlxuICogQHBhcmFtIGluZGV4SW5GYWN0b3J5IE9ubHkgcmVxdWlyZWQgZm9yIGBtdWx0aWAgcHJvdmlkZXJzLiBJbmRleCBvZiB0aGUgcHJvdmlkZXIgaW4gdGhlIG11bHRpXG4gKiBwcm92aWRlciBmYWN0b3J5LlxuICovXG5mdW5jdGlvbiByZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkKHRWaWV3LCBwcm92aWRlciwgY29udGV4dEluZGV4LCBpbmRleEluRmFjdG9yeSkge1xuICAgIGNvbnN0IHByb3ZpZGVySXNUeXBlUHJvdmlkZXIgPSBpc1R5cGVQcm92aWRlcihwcm92aWRlcik7XG4gICAgY29uc3QgcHJvdmlkZXJJc0NsYXNzUHJvdmlkZXIgPSBpc0NsYXNzUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIGlmIChwcm92aWRlcklzVHlwZVByb3ZpZGVyIHx8IHByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyKSB7XG4gICAgICAgIC8vIFJlc29sdmUgZm9yd2FyZCByZWZlcmVuY2VzIGFzIGB1c2VDbGFzc2AgY2FuIGhvbGQgYSBmb3J3YXJkIHJlZmVyZW5jZS5cbiAgICAgICAgY29uc3QgY2xhc3NUb2tlbiA9IHByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyID8gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlQ2xhc3MpIDogcHJvdmlkZXI7XG4gICAgICAgIGNvbnN0IHByb3RvdHlwZSA9IGNsYXNzVG9rZW4ucHJvdG90eXBlO1xuICAgICAgICBjb25zdCBuZ09uRGVzdHJveSA9IHByb3RvdHlwZS5uZ09uRGVzdHJveTtcbiAgICAgICAgaWYgKG5nT25EZXN0cm95KSB7XG4gICAgICAgICAgICBjb25zdCBob29rcyA9IHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pO1xuICAgICAgICAgICAgaWYgKCFwcm92aWRlcklzVHlwZVByb3ZpZGVyICYmIHByb3ZpZGVyLm11bHRpKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydERlZmluZWQoaW5kZXhJbkZhY3RvcnksICdpbmRleEluRmFjdG9yeSB3aGVuIHJlZ2lzdGVyaW5nIG11bHRpIGZhY3RvcnkgZGVzdHJveSBob29rJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDYWxsYmFja3NJbmRleCA9IGhvb2tzLmluZGV4T2YoY29udGV4dEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdDYWxsYmFja3NJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MucHVzaChjb250ZXh0SW5kZXgsIFtpbmRleEluRmFjdG9yeSwgbmdPbkRlc3Ryb3ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzW2V4aXN0aW5nQ2FsbGJhY2tzSW5kZXggKyAxXS5wdXNoKGluZGV4SW5GYWN0b3J5LCBuZ09uRGVzdHJveSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9va3MucHVzaChjb250ZXh0SW5kZXgsIG5nT25EZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQWRkIGEgZmFjdG9yeSBpbiBhIG11bHRpIGZhY3RvcnkuXG4gKiBAcmV0dXJucyBJbmRleCBhdCB3aGljaCB0aGUgZmFjdG9yeSB3YXMgaW5zZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIG11bHRpRmFjdG9yeUFkZChtdWx0aUZhY3RvcnksIGZhY3RvcnksIGlzQ29tcG9uZW50UHJvdmlkZXIpIHtcbiAgICBpZiAoaXNDb21wb25lbnRQcm92aWRlcikge1xuICAgICAgICBtdWx0aUZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzKys7XG4gICAgfVxuICAgIHJldHVybiBtdWx0aUZhY3RvcnkubXVsdGkucHVzaChmYWN0b3J5KSAtIDE7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIGl0ZW0gaW4gdGhlIGFycmF5LCBidXQgb25seSBpbiB0aGUgYmVnaW4gdG8gZW5kIHJhbmdlLlxuICovXG5mdW5jdGlvbiBpbmRleE9mKGl0ZW0sIGFyciwgYmVnaW4sIGVuZCkge1xuICAgIGZvciAobGV0IGkgPSBiZWdpbjsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPT09IGl0ZW0pXG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBVc2UgdGhpcyB3aXRoIGBtdWx0aWAgYHByb3ZpZGVyc2AuXG4gKi9cbmZ1bmN0aW9uIG11bHRpUHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyKF8sIHREYXRhLCBsRGF0YSwgdE5vZGUpIHtcbiAgICByZXR1cm4gbXVsdGlSZXNvbHZlKHRoaXMubXVsdGksIFtdKTtcbn1cbi8qKlxuICogVXNlIHRoaXMgd2l0aCBgbXVsdGlgIGB2aWV3UHJvdmlkZXJzYC5cbiAqXG4gKiBUaGlzIGZhY3Rvcnkga25vd3MgaG93IHRvIGNvbmNhdGVuYXRlIGl0c2VsZiB3aXRoIHRoZSBleGlzdGluZyBgbXVsdGlgIGBwcm92aWRlcnNgLlxuICovXG5mdW5jdGlvbiBtdWx0aVZpZXdQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIoXywgdERhdGEsIGxWaWV3LCB0Tm9kZSkge1xuICAgIGNvbnN0IGZhY3RvcmllcyA9IHRoaXMubXVsdGk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAodGhpcy5wcm92aWRlckZhY3RvcnkpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q291bnQgPSB0aGlzLnByb3ZpZGVyRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnM7XG4gICAgICAgIGNvbnN0IG11bHRpUHJvdmlkZXJzID0gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIGxWaWV3W1RWSUVXXSwgdGhpcy5wcm92aWRlckZhY3RvcnkuaW5kZXgsIHROb2RlKTtcbiAgICAgICAgLy8gQ29weSB0aGUgc2VjdGlvbiBvZiB0aGUgYXJyYXkgd2hpY2ggY29udGFpbnMgYG11bHRpYCBgcHJvdmlkZXJzYCBmcm9tIHRoZSBjb21wb25lbnRcbiAgICAgICAgcmVzdWx0ID0gbXVsdGlQcm92aWRlcnMuc2xpY2UoMCwgY29tcG9uZW50Q291bnQpO1xuICAgICAgICAvLyBJbnNlcnQgdGhlIGB2aWV3UHJvdmlkZXJgIGluc3RhbmNlcy5cbiAgICAgICAgbXVsdGlSZXNvbHZlKGZhY3RvcmllcywgcmVzdWx0KTtcbiAgICAgICAgLy8gQ29weSB0aGUgc2VjdGlvbiBvZiB0aGUgYXJyYXkgd2hpY2ggY29udGFpbnMgYG11bHRpYCBgcHJvdmlkZXJzYCBmcm9tIG90aGVyIGRpcmVjdGl2ZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbXBvbmVudENvdW50OyBpIDwgbXVsdGlQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG11bHRpUHJvdmlkZXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIC8vIEluc2VydCB0aGUgYHZpZXdQcm92aWRlcmAgaW5zdGFuY2VzLlxuICAgICAgICBtdWx0aVJlc29sdmUoZmFjdG9yaWVzLCByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBNYXBzIGFuIGFycmF5IG9mIGZhY3RvcmllcyBpbnRvIGFuIGFycmF5IG9mIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gbXVsdGlSZXNvbHZlKGZhY3RvcmllcywgcmVzdWx0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWN0b3JpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IGZhY3Rvcmllc1tpXTtcbiAgICAgICAgcmVzdWx0LnB1c2goZmFjdG9yeSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG11bHRpIGZhY3RvcnkuXG4gKi9cbmZ1bmN0aW9uIG11bHRpRmFjdG9yeShmYWN0b3J5Rm4sIGluZGV4LCBpc1ZpZXdQcm92aWRlciwgaXNDb21wb25lbnQsIGYpIHtcbiAgICBjb25zdCBmYWN0b3J5ID0gbmV3IE5vZGVJbmplY3RvckZhY3RvcnkoZmFjdG9yeUZuLCBpc1ZpZXdQcm92aWRlciwgybXJtWRpcmVjdGl2ZUluamVjdCk7XG4gICAgZmFjdG9yeS5tdWx0aSA9IFtdO1xuICAgIGZhY3RvcnkuaW5kZXggPSBpbmRleDtcbiAgICBmYWN0b3J5LmNvbXBvbmVudFByb3ZpZGVycyA9IDA7XG4gICAgbXVsdGlGYWN0b3J5QWRkKGZhY3RvcnksIGYsIGlzQ29tcG9uZW50ICYmICFpc1ZpZXdQcm92aWRlcik7XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG59XG5cbi8qKlxuICogVGhpcyBmZWF0dXJlIHJlc29sdmVzIHRoZSBwcm92aWRlcnMgb2YgYSBkaXJlY3RpdmUgKG9yIGNvbXBvbmVudCksXG4gKiBhbmQgcHVibGlzaCB0aGVtIGludG8gdGhlIERJIHN5c3RlbSwgbWFraW5nIGl0IHZpc2libGUgdG8gb3RoZXJzIGZvciBpbmplY3Rpb24uXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKiBgYGB0c1xuICogY2xhc3MgQ29tcG9uZW50V2l0aFByb3ZpZGVycyB7XG4gKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZ3JlZXRlcjogR3JlZXRlckRFKSB7fVxuICpcbiAqICAgc3RhdGljIMm1Y21wID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgICB0eXBlOiBDb21wb25lbnRXaXRoUHJvdmlkZXJzLFxuICogICAgIHNlbGVjdG9yczogW1snY29tcG9uZW50LXdpdGgtcHJvdmlkZXJzJ11dLFxuICogICAgZmFjdG9yeTogKCkgPT4gbmV3IENvbXBvbmVudFdpdGhQcm92aWRlcnMoZGlyZWN0aXZlSW5qZWN0KEdyZWV0ZXJERSBhcyBhbnkpKSxcbiAqICAgIGRlY2xzOiAxLFxuICogICAgdmFyczogMSxcbiAqICAgIHRlbXBsYXRlOiBmdW5jdGlvbihmczogUmVuZGVyRmxhZ3MsIGN0eDogQ29tcG9uZW50V2l0aFByb3ZpZGVycykge1xuICogICAgICBpZiAoZnMgJiBSZW5kZXJGbGFncy5DcmVhdGUpIHtcbiAqICAgICAgICDJtcm1dGV4dCgwKTtcbiAqICAgICAgfVxuICogICAgICBpZiAoZnMgJiBSZW5kZXJGbGFncy5VcGRhdGUpIHtcbiAqICAgICAgICDJtcm1dGV4dEludGVycG9sYXRlKGN0eC5ncmVldGVyLmdyZWV0KCkpO1xuICogICAgICB9XG4gKiAgICB9LFxuICogICAgZmVhdHVyZXM6IFvJtcm1UHJvdmlkZXJzRmVhdHVyZShbR3JlZXRlckRFXSldXG4gKiAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZGVmaW5pdGlvblxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVQcm92aWRlcnNGZWF0dXJlKHByb3ZpZGVycywgdmlld1Byb3ZpZGVycyA9IFtdKSB7XG4gICAgcmV0dXJuIChkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIGRlZmluaXRpb24ucHJvdmlkZXJzUmVzb2x2ZXIgPVxuICAgICAgICAgICAgKGRlZiwgcHJvY2Vzc1Byb3ZpZGVyc0ZuKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyc1Jlc29sdmVyKGRlZiwgLy9cbiAgICAgICAgICAgICAgICBwcm9jZXNzUHJvdmlkZXJzRm4gPyBwcm9jZXNzUHJvdmlkZXJzRm4ocHJvdmlkZXJzKSA6IHByb3ZpZGVycywgLy9cbiAgICAgICAgICAgICAgICB2aWV3UHJvdmlkZXJzKTtcbiAgICAgICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb21wb25lbnQgY3JlYXRlZCBieSBhIGBDb21wb25lbnRGYWN0b3J5YC5cbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFuZCByZWxhdGVkIG9iamVjdHMsXG4gKiBhbmQgcHJvdmlkZXMgdGhlIG1lYW5zIG9mIGRlc3Ryb3lpbmcgdGhlIGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgQ29tcG9uZW50UmVmJDEge1xufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhIGZhY3RvcnkgdGhhdCBjYW4gY3JlYXRlIGEgY29tcG9uZW50IGR5bmFtaWNhbGx5LlxuICogSW5zdGFudGlhdGUgYSBmYWN0b3J5IGZvciBhIGdpdmVuIHR5cGUgb2YgY29tcG9uZW50IHdpdGggYHJlc29sdmVDb21wb25lbnRGYWN0b3J5KClgLlxuICogVXNlIHRoZSByZXN1bHRpbmcgYENvbXBvbmVudEZhY3RvcnkuY3JlYXRlKClgIG1ldGhvZCB0byBjcmVhdGUgYSBjb21wb25lbnQgb2YgdGhhdCB0eXBlLlxuICpcbiAqIEBzZWUgW0R5bmFtaWMgQ29tcG9uZW50c10oZ3VpZGUvZHluYW1pYy1jb21wb25lbnQtbG9hZGVyKVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZCBBbmd1bGFyIG5vIGxvbmdlciByZXF1aXJlcyBDb21wb25lbnQgZmFjdG9yaWVzLiBQbGVhc2UgdXNlIG90aGVyIEFQSXMgd2hlcmVcbiAqICAgICBDb21wb25lbnQgY2xhc3MgY2FuIGJlIHVzZWQgZGlyZWN0bHkuXG4gKi9cbmNsYXNzIENvbXBvbmVudEZhY3RvcnkkMSB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9Db21wb25lbnRGYWN0b3J5RXJyb3IoY29tcG9uZW50KSB7XG4gICAgY29uc3QgZXJyb3IgPSBFcnJvcihgTm8gY29tcG9uZW50IGZhY3RvcnkgZm91bmQgZm9yICR7c3RyaW5naWZ5KGNvbXBvbmVudCl9LiBEaWQgeW91IGFkZCBpdCB0byBATmdNb2R1bGUuZW50cnlDb21wb25lbnRzP2ApO1xuICAgIGVycm9yW0VSUk9SX0NPTVBPTkVOVF0gPSBjb21wb25lbnQ7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuY29uc3QgRVJST1JfQ09NUE9ORU5UID0gJ25nQ29tcG9uZW50JztcbmZ1bmN0aW9uIGdldENvbXBvbmVudChlcnJvcikge1xuICAgIHJldHVybiBlcnJvcltFUlJPUl9DT01QT05FTlRdO1xufVxuY2xhc3MgX051bGxDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIge1xuICAgIHJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudCkge1xuICAgICAgICB0aHJvdyBub0NvbXBvbmVudEZhY3RvcnlFcnJvcihjb21wb25lbnQpO1xuICAgIH1cbn1cbi8qKlxuICogQSBzaW1wbGUgcmVnaXN0cnkgdGhhdCBtYXBzIGBDb21wb25lbnRzYCB0byBnZW5lcmF0ZWQgYENvbXBvbmVudEZhY3RvcnlgIGNsYXNzZXNcbiAqIHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGluc3RhbmNlcyBvZiBjb21wb25lbnRzLlxuICogVXNlIHRvIG9idGFpbiB0aGUgZmFjdG9yeSBmb3IgYSBnaXZlbiBjb21wb25lbnQgdHlwZSxcbiAqIHRoZW4gdXNlIHRoZSBmYWN0b3J5J3MgYGNyZWF0ZSgpYCBtZXRob2QgdG8gY3JlYXRlIGEgY29tcG9uZW50IG9mIHRoYXQgdHlwZS5cbiAqXG4gKiBOb3RlOiBzaW5jZSB2MTMsIGR5bmFtaWMgY29tcG9uZW50IGNyZWF0aW9uIHZpYVxuICogW2BWaWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudGBdKGFwaS9jb3JlL1ZpZXdDb250YWluZXJSZWYjY3JlYXRlQ29tcG9uZW50KVxuICogZG9lcyAqKm5vdCoqIHJlcXVpcmUgcmVzb2x2aW5nIGNvbXBvbmVudCBmYWN0b3J5OiBjb21wb25lbnQgY2xhc3MgY2FuIGJlIHVzZWQgZGlyZWN0bHkuXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkIEFuZ3VsYXIgbm8gbG9uZ2VyIHJlcXVpcmVzIENvbXBvbmVudCBmYWN0b3JpZXMuIFBsZWFzZSB1c2Ugb3RoZXIgQVBJcyB3aGVyZVxuICogICAgIENvbXBvbmVudCBjbGFzcyBjYW4gYmUgdXNlZCBkaXJlY3RseS5cbiAqL1xuY2xhc3MgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEge1xufVxuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEuTlVMTCA9ICggLyogQF9fUFVSRV9fICovbmV3IF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhbiBFbGVtZW50UmVmIGZyb20gdGhlIG1vc3QgcmVjZW50IG5vZGUuXG4gKlxuICogQHJldHVybnMgVGhlIEVsZW1lbnRSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGluamVjdEVsZW1lbnRSZWYoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYoZ2V0Q3VycmVudFROb2RlKCksIGdldExWaWV3KCkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEVsZW1lbnRSZWYgZ2l2ZW4gYSBub2RlLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgbm9kZSBmb3Igd2hpY2ggeW91J2QgbGlrZSBhbiBFbGVtZW50UmVmXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHJldHVybnMgVGhlIEVsZW1lbnRSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRSZWYodE5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIG5ldyBFbGVtZW50UmVmKGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KSk7XG59XG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgYSBuYXRpdmUgZWxlbWVudCBpbnNpZGUgb2YgYSBWaWV3LlxuICpcbiAqIEFuIGBFbGVtZW50UmVmYCBpcyBiYWNrZWQgYnkgYSByZW5kZXItc3BlY2lmaWMgZWxlbWVudC4gSW4gdGhlIGJyb3dzZXIsIHRoaXMgaXMgdXN1YWxseSBhIERPTVxuICogZWxlbWVudC5cbiAqXG4gKiBAc2VjdXJpdHkgUGVybWl0dGluZyBkaXJlY3QgYWNjZXNzIHRvIHRoZSBET00gY2FuIG1ha2UgeW91ciBhcHBsaWNhdGlvbiBtb3JlIHZ1bG5lcmFibGUgdG9cbiAqIFhTUyBhdHRhY2tzLiBDYXJlZnVsbHkgcmV2aWV3IGFueSB1c2Ugb2YgYEVsZW1lbnRSZWZgIGluIHlvdXIgY29kZS4gRm9yIG1vcmUgZGV0YWlsLCBzZWUgdGhlXG4gKiBbU2VjdXJpdHkgR3VpZGVdKGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSkuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG4vLyBOb3RlOiBXZSBkb24ndCBleHBvc2UgdGhpbmdzIGxpa2UgYEluamVjdG9yYCwgYFZpZXdDb250YWluZXJgLCAuLi4gaGVyZSxcbi8vIGkuZS4gdXNlcnMgaGF2ZSB0byBhc2sgZm9yIHdoYXQgdGhleSBuZWVkLiBXaXRoIHRoYXQsIHdlIGNhbiBidWlsZCBiZXR0ZXIgYW5hbHlzaXMgdG9vbHNcbi8vIGFuZCBjb3VsZCBkbyBiZXR0ZXIgY29kZWdlbiBpbiB0aGUgZnV0dXJlLlxuY2xhc3MgRWxlbWVudFJlZiB7XG4gICAgY29uc3RydWN0b3IobmF0aXZlRWxlbWVudCkge1xuICAgICAgICB0aGlzLm5hdGl2ZUVsZW1lbnQgPSBuYXRpdmVFbGVtZW50O1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5FbGVtZW50UmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gaW5qZWN0RWxlbWVudFJlZjtcbi8qKlxuICogVW53cmFwcyBgRWxlbWVudFJlZmAgYW5kIHJldHVybiB0aGUgYG5hdGl2ZUVsZW1lbnRgLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSB0byB1bndyYXBcbiAqIEByZXR1cm5zIGBuYXRpdmVFbGVtZW50YCBpZiBgRWxlbWVudFJlZmAgb3RoZXJ3aXNlIHJldHVybnMgdmFsdWUgYXMgaXMuXG4gKi9cbmZ1bmN0aW9uIHVud3JhcEVsZW1lbnRSZWYodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBFbGVtZW50UmVmID8gdmFsdWUubmF0aXZlRWxlbWVudCA6IHZhbHVlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IFJlbmRlcmVyMkludGVyY2VwdG9yID0gbmV3IEluamVjdGlvblRva2VuKCdSZW5kZXJlcjJJbnRlcmNlcHRvcicpO1xuLyoqXG4gKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIGN1c3RvbSByZW5kZXJlciB0aGF0IGltcGxlbWVudHMgdGhlIGBSZW5kZXJlcjJgIGJhc2UgY2xhc3MuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBSZW5kZXJlckZhY3RvcnkyIHtcbn1cbi8qKlxuICogRXh0ZW5kIHRoaXMgYmFzZSBjbGFzcyB0byBpbXBsZW1lbnQgY3VzdG9tIHJlbmRlcmluZy4gQnkgZGVmYXVsdCwgQW5ndWxhclxuICogcmVuZGVycyBhIHRlbXBsYXRlIGludG8gRE9NLiBZb3UgY2FuIHVzZSBjdXN0b20gcmVuZGVyaW5nIHRvIGludGVyY2VwdFxuICogcmVuZGVyaW5nIGNhbGxzLCBvciB0byByZW5kZXIgdG8gc29tZXRoaW5nIG90aGVyIHRoYW4gRE9NLlxuICpcbiAqIENyZWF0ZSB5b3VyIGN1c3RvbSByZW5kZXJlciB1c2luZyBgUmVuZGVyZXJGYWN0b3J5MmAuXG4gKlxuICogVXNlIGEgY3VzdG9tIHJlbmRlcmVyIHRvIGJ5cGFzcyBBbmd1bGFyJ3MgdGVtcGxhdGluZyBhbmRcbiAqIG1ha2UgY3VzdG9tIFVJIGNoYW5nZXMgdGhhdCBjYW4ndCBiZSBleHByZXNzZWQgZGVjbGFyYXRpdmVseS5cbiAqIEZvciBleGFtcGxlIGlmIHlvdSBuZWVkIHRvIHNldCBhIHByb3BlcnR5IG9yIGFuIGF0dHJpYnV0ZSB3aG9zZSBuYW1lIGlzXG4gKiBub3Qgc3RhdGljYWxseSBrbm93biwgdXNlIHRoZSBgc2V0UHJvcGVydHkoKWAgb3JcbiAqIGBzZXRBdHRyaWJ1dGUoKWAgbWV0aG9kLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVuZGVyZXIyIHtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5SZW5kZXJlcjIuX19OR19FTEVNRU5UX0lEX18gPSAoKSA9PiBpbmplY3RSZW5kZXJlcjIoKTtcbi8qKiBSZXR1cm5zIGEgUmVuZGVyZXIyIChvciB0aHJvd3Mgd2hlbiBhcHBsaWNhdGlvbiB3YXMgYm9vdHN0cmFwcGVkIHdpdGggUmVuZGVyZXIzKSAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVSZW5kZXJlcjIobFZpZXcpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBpZiAobmdEZXZNb2RlICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW5qZWN0IFJlbmRlcmVyMiB3aGVuIHRoZSBhcHBsaWNhdGlvbiB1c2VzIFJlbmRlcmVyMyEnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xufVxuLyoqIEluamVjdHMgYSBSZW5kZXJlcjIgZm9yIHRoZSBjdXJyZW50IGNvbXBvbmVudC4gKi9cbmZ1bmN0aW9uIGluamVjdFJlbmRlcmVyMigpIHtcbiAgICAvLyBXZSBuZWVkIHRoZSBSZW5kZXJlciB0byBiZSBiYXNlZCBvbiB0aGUgY29tcG9uZW50IHRoYXQgaXQncyBiZWluZyBpbmplY3RlZCBpbnRvLCBob3dldmVyIHNpbmNlXG4gICAgLy8gREkgaGFwcGVucyBiZWZvcmUgd2UndmUgZW50ZXJlZCBpdHMgdmlldywgYGdldExWaWV3YCB3aWxsIHJldHVybiB0aGUgcGFyZW50IHZpZXcgaW5zdGVhZC5cbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBjb25zdCBub2RlQXRJbmRleCA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpO1xuICAgIHJldHVybiBnZXRPckNyZWF0ZVJlbmRlcmVyMihpc0xWaWV3KG5vZGVBdEluZGV4KSA/IG5vZGVBdEluZGV4IDogbFZpZXcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU2FuaXRpemVyIGlzIHVzZWQgYnkgdGhlIHZpZXdzIHRvIHNhbml0aXplIHBvdGVudGlhbGx5IGRhbmdlcm91cyB2YWx1ZXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBTYW5pdGl6ZXIge1xufVxuLyoqIEBub2NvbGxhcHNlICovXG5TYW5pdGl6ZXIuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoe1xuICAgIHRva2VuOiBTYW5pdGl6ZXIsXG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgIGZhY3Rvcnk6ICgpID0+IG51bGwsXG59KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBSZXByZXNlbnRzIHRoZSB2ZXJzaW9uIG9mIEFuZ3VsYXJcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFZlcnNpb24ge1xuICAgIGNvbnN0cnVjdG9yKGZ1bGwpIHtcbiAgICAgICAgdGhpcy5mdWxsID0gZnVsbDtcbiAgICAgICAgdGhpcy5tYWpvciA9IGZ1bGwuc3BsaXQoJy4nKVswXTtcbiAgICAgICAgdGhpcy5taW5vciA9IGZ1bGwuc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgdGhpcy5wYXRjaCA9IGZ1bGwuc3BsaXQoJy4nKS5zbGljZSgyKS5qb2luKCcuJyk7XG4gICAgfVxufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFZFUlNJT04gPSBuZXcgVmVyc2lvbignMTMuMi42Jyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVGhpcyBkZWZhdWx0IHZhbHVlIGlzIHdoZW4gY2hlY2tpbmcgdGhlIGhpZXJhcmNoeSBmb3IgYSB0b2tlbi5cbi8vXG4vLyBJdCBtZWFucyBib3RoOlxuLy8gLSB0aGUgdG9rZW4gaXMgbm90IHByb3ZpZGVkIGJ5IHRoZSBjdXJyZW50IGluamVjdG9yLFxuLy8gLSBvbmx5IHRoZSBlbGVtZW50IGluamVjdG9ycyBzaG91bGQgYmUgY2hlY2tlZCAoaWUgZG8gbm90IGNoZWNrIG1vZHVsZSBpbmplY3RvcnNcbi8vXG4vLyAgICAgICAgICBtb2QxXG4vLyAgICAgICAgIC9cbi8vICAgICAgIGVsMSAgIG1vZDJcbi8vICAgICAgICAgXFwgIC9cbi8vICAgICAgICAgZWwyXG4vL1xuLy8gV2hlbiByZXF1ZXN0aW5nIGVsMi5pbmplY3Rvci5nZXQodG9rZW4pLCB3ZSBzaG91bGQgY2hlY2sgaW4gdGhlIGZvbGxvd2luZyBvcmRlciBhbmQgcmV0dXJuIHRoZVxuLy8gZmlyc3QgZm91bmQgdmFsdWU6XG4vLyAtIGVsMi5pbmplY3Rvci5nZXQodG9rZW4sIGRlZmF1bHQpXG4vLyAtIGVsMS5pbmplY3Rvci5nZXQodG9rZW4sIE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpIC0+IGRvIG5vdCBjaGVjayB0aGUgbW9kdWxlXG4vLyAtIG1vZDIuaW5qZWN0b3IuZ2V0KHRva2VuLCBkZWZhdWx0KVxuY29uc3QgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiA9IHt9O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3ROYXRpdmVOb2Rlcyh0VmlldywgbFZpZXcsIHROb2RlLCByZXN1bHQsIGlzUHJvamVjdGlvbiA9IGZhbHNlKSB7XG4gICAgd2hpbGUgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMTYgLyogUHJvamVjdGlvbiAqLyB8IDMyIC8qIEljdSAqLyk7XG4gICAgICAgIGNvbnN0IGxOb2RlID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBpZiAobE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHVud3JhcFJOb2RlKGxOb2RlKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBnaXZlbiBsTm9kZSBjYW4gcmVwcmVzZW50IGVpdGhlciBhIG5hdGl2ZSBub2RlIG9yIGEgTENvbnRhaW5lciAod2hlbiBpdCBpcyBhIGhvc3Qgb2YgYVxuICAgICAgICAvLyBWaWV3Q29udGFpbmVyUmVmKS4gV2hlbiB3ZSBmaW5kIGEgTENvbnRhaW5lciB3ZSBuZWVkIHRvIGRlc2NlbmQgaW50byBpdCB0byBjb2xsZWN0IHJvb3Qgbm9kZXNcbiAgICAgICAgLy8gZnJvbSB0aGUgdmlld3MgaW4gdGhpcyBjb250YWluZXIuXG4gICAgICAgIGlmIChpc0xDb250YWluZXIobE5vZGUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBsTm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxWaWV3SW5BQ29udGFpbmVyID0gbE5vZGVbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgbFZpZXdGaXJzdENoaWxkVE5vZGUgPSBsVmlld0luQUNvbnRhaW5lcltUVklFV10uZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAobFZpZXdGaXJzdENoaWxkVE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdE5hdGl2ZU5vZGVzKGxWaWV3SW5BQ29udGFpbmVyW1RWSUVXXSwgbFZpZXdJbkFDb250YWluZXIsIGxWaWV3Rmlyc3RDaGlsZFROb2RlLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0Tm9kZVR5cGUgPSB0Tm9kZS50eXBlO1xuICAgICAgICBpZiAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjb2xsZWN0TmF0aXZlTm9kZXModFZpZXcsIGxWaWV3LCB0Tm9kZS5jaGlsZCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAzMiAvKiBJY3UgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRSTm9kZSA9IGljdUNvbnRhaW5lckl0ZXJhdGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgIGxldCByTm9kZTtcbiAgICAgICAgICAgIHdoaWxlIChyTm9kZSA9IG5leHRSTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gock5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDE2IC8qIFByb2plY3Rpb24gKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzSW5TbG90ID0gZ2V0UHJvamVjdGlvbk5vZGVzKGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2Rlc0luU2xvdCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCguLi5ub2Rlc0luU2xvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRWaWV3ID0gZ2V0TFZpZXdQYXJlbnQobFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddKTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0UGFyZW50VmlldyhwYXJlbnRWaWV3KTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0TmF0aXZlTm9kZXMocGFyZW50Vmlld1tUVklFV10sIHBhcmVudFZpZXcsIG5vZGVzSW5TbG90LCByZXN1bHQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHROb2RlID0gaXNQcm9qZWN0aW9uID8gdE5vZGUucHJvamVjdGlvbk5leHQgOiB0Tm9kZS5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIFZpZXdSZWYkMSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhpcyByZXByZXNlbnRzIGBMVmlld2AgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21wb25lbnQgd2hlbiBWaWV3UmVmIGlzIGEgQ2hhbmdlRGV0ZWN0b3JSZWYuXG4gICAgICpcbiAgICAgKiBXaGVuIFZpZXdSZWYgaXMgY3JlYXRlZCBmb3IgYSBkeW5hbWljIGNvbXBvbmVudCwgdGhpcyBhbHNvIHJlcHJlc2VudHMgdGhlIGBMVmlld2AgZm9yIHRoZVxuICAgICAqIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEZvciBhIFwicmVndWxhclwiIFZpZXdSZWYgY3JlYXRlZCBmb3IgYW4gZW1iZWRkZWQgdmlldywgdGhpcyBpcyB0aGUgYExWaWV3YCBmb3IgdGhlIGVtYmVkZGVkXG4gICAgICogdmlldy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9sVmlldywgXG4gICAgLyoqXG4gICAgICogVGhpcyByZXByZXNlbnRzIHRoZSBgTFZpZXdgIGFzc29jaWF0ZWQgd2l0aCB0aGUgcG9pbnQgd2hlcmUgYENoYW5nZURldGVjdG9yUmVmYCB3YXNcbiAgICAgKiByZXF1ZXN0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBgX2xWaWV3YCBpZiB0aGUgYF9jZFJlZkluamVjdGluZ1ZpZXdgIGlzIGFuIGVtYmVkZGVkIHZpZXcuXG4gICAgICovXG4gICAgX2NkUmVmSW5qZWN0aW5nVmlldykge1xuICAgICAgICB0aGlzLl9sVmlldyA9IF9sVmlldztcbiAgICAgICAgdGhpcy5fY2RSZWZJbmplY3RpbmdWaWV3ID0gX2NkUmVmSW5qZWN0aW5nVmlldztcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IHJvb3ROb2RlcygpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSB0aGlzLl9sVmlldztcbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgIHJldHVybiBjb2xsZWN0TmF0aXZlTm9kZXModFZpZXcsIGxWaWV3LCB0Vmlldy5maXJzdENoaWxkLCBbXSk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbFZpZXdbQ09OVEVYVF07XG4gICAgfVxuICAgIHNldCBjb250ZXh0KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xWaWV3W0NPTlRFWFRdID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fbFZpZXdbRkxBR1NdICYgMjU2IC8qIERlc3Ryb3llZCAqLykgPT09IDI1NiAvKiBEZXN0cm95ZWQgKi87XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcHBSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9sVmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgaWYgKGlzTENvbnRhaW5lcihwYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld1JlZnMgPSBwYXJlbnRbVklFV19SRUZTXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHZpZXdSZWZzID8gdmlld1JlZnMuaW5kZXhPZih0aGlzKSA6IC0xO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoaW5kZXgsIHBhcmVudC5pbmRleE9mKHRoaXMuX2xWaWV3KSAtIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VULCAnQW4gYXR0YWNoZWQgdmlldyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgcG9zaXRpb24gd2l0aGluIGl0cyBjb250YWluZXIgYXMgaXRzIFZpZXdSZWYgaW4gdGhlIFZJRVdfUkVGUyBhcnJheS4nKTtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWNoVmlldyhwYXJlbnQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHZpZXdSZWZzLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95TFZpZXcodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldyk7XG4gICAgfVxuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICBzdG9yZUNsZWFudXBXaXRoQ29udGV4dCh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3LCBudWxsLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgdmlldyBhbmQgYWxsIG9mIGl0cyBhbmNlc3RvcnMgZGlydHkuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGVuc3VyZSBhbiB7QGxpbmsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kjT25QdXNoIE9uUHVzaH0gY29tcG9uZW50IGlzXG4gICAgICogY2hlY2tlZCB3aGVuIGl0IG5lZWRzIHRvIGJlIHJlLXJlbmRlcmVkIGJ1dCB0aGUgdHdvIG5vcm1hbCB0cmlnZ2VycyBoYXZlbid0IG1hcmtlZCBpdFxuICAgICAqIGRpcnR5IChpLmUuIGlucHV0cyBoYXZlbid0IGNoYW5nZWQgYW5kIGV2ZW50cyBoYXZlbid0IGZpcmVkIGluIHRoZSB2aWV3KS5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gT25QdXNoIGNvbXBvbmVudHMgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2FwcC1yb290JyxcbiAgICAgKiAgIHRlbXBsYXRlOiBgTnVtYmVyIG9mIHRpY2tzOiB7e251bWJlck9mVGlja3N9fWBcbiAgICAgKiAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAgKiAgIG51bWJlck9mVGlja3MgPSAwO1xuICAgICAqXG4gICAgICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgICAgKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqICAgICAgIHRoaXMubnVtYmVyT2ZUaWNrcysrO1xuICAgICAqICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgaXMgcmVxdWlyZWQsIG90aGVyd2lzZSB0aGUgdmlldyB3aWxsIG5vdCBiZSB1cGRhdGVkXG4gICAgICogICAgICAgdGhpcy5yZWYubWFya0ZvckNoZWNrKCk7XG4gICAgICogICAgIH0sIDEwMDApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBtYXJrRm9yQ2hlY2soKSB7XG4gICAgICAgIG1hcmtWaWV3RGlydHkodGhpcy5fY2RSZWZJbmplY3RpbmdWaWV3IHx8IHRoaXMuX2xWaWV3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0YWNoZXMgdGhlIHZpZXcgZnJvbSB0aGUgY2hhbmdlIGRldGVjdGlvbiB0cmVlLlxuICAgICAqXG4gICAgICogRGV0YWNoZWQgdmlld3Mgd2lsbCBub3QgYmUgY2hlY2tlZCBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbiBydW5zIHVudGlsIHRoZXkgYXJlXG4gICAgICogcmUtYXR0YWNoZWQsIGV2ZW4gaWYgdGhleSBhcmUgZGlydHkuIGBkZXRhY2hgIGNhbiBiZSB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGhcbiAgICAgKiB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0ZWN0Q2hhbmdlcyBkZXRlY3RDaGFuZ2VzfSB0byBpbXBsZW1lbnQgbG9jYWwgY2hhbmdlXG4gICAgICogZGV0ZWN0aW9uIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpdmUgZGVtbyBvbmNlIHJlZi5kZXRlY3RDaGFuZ2VzIGlzIG1lcmdlZCBpbnRvIG1hc3RlciAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWZpbmVzIGEgY29tcG9uZW50IHdpdGggYSBsYXJnZSBsaXN0IG9mIHJlYWRvbmx5IGRhdGEuXG4gICAgICogSW1hZ2luZSB0aGUgZGF0YSBjaGFuZ2VzIGNvbnN0YW50bHksIG1hbnkgdGltZXMgcGVyIHNlY29uZC4gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsXG4gICAgICogd2Ugd2FudCB0byBjaGVjayBhbmQgdXBkYXRlIHRoZSBsaXN0IGV2ZXJ5IGZpdmUgc2Vjb25kcy4gV2UgY2FuIGRvIHRoYXQgYnkgZGV0YWNoaW5nXG4gICAgICogdGhlIGNvbXBvbmVudCdzIGNoYW5nZSBkZXRlY3RvciBhbmQgZG9pbmcgYSBsb2NhbCBjaGVjayBldmVyeSBmaXZlIHNlY29uZHMuXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgRGF0YVByb3ZpZGVyIHtcbiAgICAgKiAgIC8vIGluIGEgcmVhbCBhcHBsaWNhdGlvbiB0aGUgcmV0dXJuZWQgZGF0YSB3aWxsIGJlIGRpZmZlcmVudCBldmVyeSB0aW1lXG4gICAgICogICBnZXQgZGF0YSgpIHtcbiAgICAgKiAgICAgcmV0dXJuIFsxLDIsMyw0LDVdO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdnaWFudC1saXN0JyxcbiAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICogICAgIDxsaSAqbmdGb3I9XCJsZXQgZCBvZiBkYXRhUHJvdmlkZXIuZGF0YVwiPkRhdGEge3tkfX08L2xpPlxuICAgICAqICAgYCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEdpYW50TGlzdCB7XG4gICAgICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGF0YVByb3ZpZGVyOiBEYXRhUHJvdmlkZXIpIHtcbiAgICAgKiAgICAgcmVmLmRldGFjaCgpO1xuICAgICAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogICAgICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAqICAgICB9LCA1MDAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAgICAgKiAgIHByb3ZpZGVyczogW0RhdGFQcm92aWRlcl0sXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICA8Z2lhbnQtbGlzdD48Z2lhbnQtbGlzdD5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHAge1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIHRoaXMuX2xWaWV3W0ZMQUdTXSAmPSB+MTI4IC8qIEF0dGFjaGVkICovO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZS1hdHRhY2hlcyBhIHZpZXcgdG8gdGhlIGNoYW5nZSBkZXRlY3Rpb24gdHJlZS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcmUtYXR0YWNoIHZpZXdzIHRoYXQgd2VyZSBwcmV2aW91c2x5IGRldGFjaGVkIGZyb20gdGhlIHRyZWVcbiAgICAgKiB1c2luZyB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0uIFZpZXdzIGFyZSBhdHRhY2hlZCB0byB0aGUgdHJlZSBieSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBkZXRhY2gvcmVhdHRhY2gvbG9jYWwgZGlnZXN0IC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBjb21wb25lbnQgZGlzcGxheWluZyBgbGl2ZWAgZGF0YS4gVGhlIGNvbXBvbmVudCB3aWxsIGRldGFjaFxuICAgICAqIGl0cyBjaGFuZ2UgZGV0ZWN0b3IgZnJvbSB0aGUgbWFpbiBjaGFuZ2UgZGV0ZWN0b3IgdHJlZSB3aGVuIHRoZSBjb21wb25lbnQncyBsaXZlIHByb3BlcnR5XG4gICAgICogaXMgc2V0IHRvIGZhbHNlLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIERhdGFQcm92aWRlciB7XG4gICAgICogICBkYXRhID0gMTtcbiAgICAgKlxuICAgICAqICAgY29uc3RydWN0b3IoKSB7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEgKiAyO1xuICAgICAqICAgICB9LCA1MDApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdsaXZlLWRhdGEnLFxuICAgICAqICAgaW5wdXRzOiBbJ2xpdmUnXSxcbiAgICAgKiAgIHRlbXBsYXRlOiAnRGF0YToge3tkYXRhUHJvdmlkZXIuZGF0YX19J1xuICAgICAqIH0pXG4gICAgICogY2xhc3MgTGl2ZURhdGEge1xuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyKSB7fVxuICAgICAqXG4gICAgICogICBzZXQgbGl2ZSh2YWx1ZSkge1xuICAgICAqICAgICBpZiAodmFsdWUpIHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5yZWF0dGFjaCgpO1xuICAgICAqICAgICB9IGVsc2Uge1xuICAgICAqICAgICAgIHRoaXMucmVmLmRldGFjaCgpO1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2FwcC1yb290JyxcbiAgICAgKiAgIHByb3ZpZGVyczogW0RhdGFQcm92aWRlcl0sXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICBMaXZlIFVwZGF0ZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFsobmdNb2RlbCldPVwibGl2ZVwiPlxuICAgICAqICAgICA8bGl2ZS1kYXRhIFtsaXZlXT1cImxpdmVcIj48bGl2ZS1kYXRhPlxuICAgICAqICAgYCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgICogICBsaXZlID0gdHJ1ZTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcmVhdHRhY2goKSB7XG4gICAgICAgIHRoaXMuX2xWaWV3W0ZMQUdTXSB8PSAxMjggLyogQXR0YWNoZWQgKi87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgdmlldyBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYWxzbyBiZSB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGgge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGFjaCBkZXRhY2h9IHRvIGltcGxlbWVudFxuICAgICAqIGxvY2FsIGNoYW5nZSBkZXRlY3Rpb24gY2hlY2tzLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBkZXRhY2gvcmVhdHRhY2gvbG9jYWwgZGlnZXN0IC0tPlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGl2ZSBkZW1vIG9uY2UgcmVmLmRldGVjdENoYW5nZXMgaXMgbWVyZ2VkIGludG8gbWFzdGVyIC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlZmluZXMgYSBjb21wb25lbnQgd2l0aCBhIGxhcmdlIGxpc3Qgb2YgcmVhZG9ubHkgZGF0YS5cbiAgICAgKiBJbWFnaW5lLCB0aGUgZGF0YSBjaGFuZ2VzIGNvbnN0YW50bHksIG1hbnkgdGltZXMgcGVyIHNlY29uZC4gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsXG4gICAgICogd2Ugd2FudCB0byBjaGVjayBhbmQgdXBkYXRlIHRoZSBsaXN0IGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIFdlIGNhbiBkbyB0aGF0IGJ5IGRldGFjaGluZyB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBkb2luZyBhIGxvY2FsIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgKiBjaGVjayBldmVyeSBmaXZlIHNlY29uZHMuXG4gICAgICpcbiAgICAgKiBTZWUge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGFjaCBkZXRhY2h9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGRldGVjdENoYW5nZXMoKSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJbnRlcm5hbCh0aGlzLl9sVmlld1tUVklFV10sIHRoaXMuX2xWaWV3LCB0aGlzLmNvbnRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdGhlIGNoYW5nZSBkZXRlY3RvciBhbmQgaXRzIGNoaWxkcmVuLCBhbmQgdGhyb3dzIGlmIGFueSBjaGFuZ2VzIGFyZSBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCBpbiBkZXZlbG9wbWVudCBtb2RlIHRvIHZlcmlmeSB0aGF0IHJ1bm5pbmcgY2hhbmdlIGRldGVjdGlvbiBkb2Vzbid0XG4gICAgICogaW50cm9kdWNlIG90aGVyIGNoYW5nZXMuXG4gICAgICovXG4gICAgY2hlY2tOb0NoYW5nZXMoKSB7XG4gICAgICAgIGNoZWNrTm9DaGFuZ2VzSW50ZXJuYWwodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldywgdGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKCkge1xuICAgICAgICBpZiAodGhpcy5fYXBwUmVmKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBuZ0Rldk1vZGUgPyAnVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlIEFwcGxpY2F0aW9uUmVmIScgOiAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAyIC8qIFZJRVdfQUxSRUFEWV9BVFRBQ0hFRCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lciA9IHRydWU7XG4gICAgfVxuICAgIGRldGFjaEZyb21BcHBSZWYoKSB7XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IG51bGw7XG4gICAgICAgIHJlbmRlckRldGFjaFZpZXcodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldyk7XG4gICAgfVxuICAgIGF0dGFjaFRvQXBwUmVmKGFwcFJlZikge1xuICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5nRGV2TW9kZSA/ICdUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIhJyA6ICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDIgLyogVklFV19BTFJFQURZX0FUVEFDSEVEICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IGFwcFJlZjtcbiAgICB9XG59XG4vKiogQGludGVybmFsICovXG5jbGFzcyBSb290Vmlld1JlZiBleHRlbmRzIFZpZXdSZWYkMSB7XG4gICAgY29uc3RydWN0b3IoX3ZpZXcpIHtcbiAgICAgICAgc3VwZXIoX3ZpZXcpO1xuICAgICAgICB0aGlzLl92aWV3ID0gX3ZpZXc7XG4gICAgfVxuICAgIGRldGVjdENoYW5nZXMoKSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJblJvb3RWaWV3KHRoaXMuX3ZpZXcpO1xuICAgIH1cbiAgICBjaGVja05vQ2hhbmdlcygpIHtcbiAgICAgICAgY2hlY2tOb0NoYW5nZXNJblJvb3RWaWV3KHRoaXMuX3ZpZXcpO1xuICAgIH1cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBleHRlbmRzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmdNb2R1bGUgVGhlIE5nTW9kdWxlUmVmIHRvIHdoaWNoIGFsbCByZXNvbHZlZCBmYWN0b3JpZXMgYXJlIGJvdW5kLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5nTW9kdWxlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmdNb2R1bGUgPSBuZ01vZHVsZTtcbiAgICB9XG4gICAgcmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50KSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRDb21wb25lbnRUeXBlKGNvbXBvbmVudCk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudERlZiA9IGdldENvbXBvbmVudERlZihjb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50RGVmLCB0aGlzLm5nTW9kdWxlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0b1JlZkFycmF5KG1hcCkge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgbm9uTWluaWZpZWQgaW4gbWFwKSB7XG4gICAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkobm9uTWluaWZpZWQpKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5pZmllZCA9IG1hcFtub25NaW5pZmllZF07XG4gICAgICAgICAgICBhcnJheS5wdXNoKHsgcHJvcE5hbWU6IG1pbmlmaWVkLCB0ZW1wbGF0ZU5hbWU6IG5vbk1pbmlmaWVkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbmZ1bmN0aW9uIGdldE5hbWVzcGFjZShlbGVtZW50TmFtZSkge1xuICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBuYW1lID09PSAnc3ZnJyA/IFNWR19OQU1FU1BBQ0UgOiAobmFtZSA9PT0gJ21hdGgnID8gTUFUSF9NTF9OQU1FU1BBQ0UgOiBudWxsKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRJbmplY3Rvcihyb290Vmlld0luamVjdG9yLCBtb2R1bGVJbmplY3Rvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogKHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByb290Vmlld0luamVjdG9yLmdldCh0b2tlbiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiwgZmxhZ3MpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SIHx8XG4gICAgICAgICAgICAgICAgbm90Rm91bmRWYWx1ZSA9PT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUikge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgZnJvbSB0aGUgcm9vdCBlbGVtZW50IGluamVjdG9yIHdoZW5cbiAgICAgICAgICAgICAgICAvLyAtIGl0IHByb3ZpZGVzIGl0XG4gICAgICAgICAgICAgICAgLy8gICAodmFsdWUgIT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpXG4gICAgICAgICAgICAgICAgLy8gLSB0aGUgbW9kdWxlIGluamVjdG9yIHNob3VsZCBub3QgYmUgY2hlY2tlZFxuICAgICAgICAgICAgICAgIC8vICAgKG5vdEZvdW5kVmFsdWUgPT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogUmVuZGVyMyBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgdmlld0VuZ2luZV9Db21wb25lbnRGYWN0b3J5fS5cbiAqL1xuY2xhc3MgQ29tcG9uZW50RmFjdG9yeSBleHRlbmRzIENvbXBvbmVudEZhY3RvcnkkMSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbXBvbmVudERlZiBUaGUgY29tcG9uZW50IGRlZmluaXRpb24uXG4gICAgICogQHBhcmFtIG5nTW9kdWxlIFRoZSBOZ01vZHVsZVJlZiB0byB3aGljaCB0aGUgZmFjdG9yeSBpcyBib3VuZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnREZWYsIG5nTW9kdWxlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RGVmID0gY29tcG9uZW50RGVmO1xuICAgICAgICB0aGlzLm5nTW9kdWxlID0gbmdNb2R1bGU7XG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudERlZi50eXBlO1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc3RyaW5naWZ5Q1NTU2VsZWN0b3JMaXN0KGNvbXBvbmVudERlZi5zZWxlY3RvcnMpO1xuICAgICAgICB0aGlzLm5nQ29udGVudFNlbGVjdG9ycyA9XG4gICAgICAgICAgICBjb21wb25lbnREZWYubmdDb250ZW50U2VsZWN0b3JzID8gY29tcG9uZW50RGVmLm5nQ29udGVudFNlbGVjdG9ycyA6IFtdO1xuICAgICAgICB0aGlzLmlzQm91bmRUb01vZHVsZSA9ICEhbmdNb2R1bGU7XG4gICAgfVxuICAgIGdldCBpbnB1dHMoKSB7XG4gICAgICAgIHJldHVybiB0b1JlZkFycmF5KHRoaXMuY29tcG9uZW50RGVmLmlucHV0cyk7XG4gICAgfVxuICAgIGdldCBvdXRwdXRzKCkge1xuICAgICAgICByZXR1cm4gdG9SZWZBcnJheSh0aGlzLmNvbXBvbmVudERlZi5vdXRwdXRzKTtcbiAgICB9XG4gICAgY3JlYXRlKGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUsIG5nTW9kdWxlKSB7XG4gICAgICAgIG5nTW9kdWxlID0gbmdNb2R1bGUgfHwgdGhpcy5uZ01vZHVsZTtcbiAgICAgICAgY29uc3Qgcm9vdFZpZXdJbmplY3RvciA9IG5nTW9kdWxlID8gY3JlYXRlQ2hhaW5lZEluamVjdG9yKGluamVjdG9yLCBuZ01vZHVsZS5pbmplY3RvcikgOiBpbmplY3RvcjtcbiAgICAgICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gcm9vdFZpZXdJbmplY3Rvci5nZXQoUmVuZGVyZXJGYWN0b3J5MiwgZG9tUmVuZGVyZXJGYWN0b3J5Myk7XG4gICAgICAgIGNvbnN0IHNhbml0aXplciA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KFNhbml0aXplciwgbnVsbCk7XG4gICAgICAgIGNvbnN0IGhvc3RSZW5kZXJlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCB0aGlzLmNvbXBvbmVudERlZik7XG4gICAgICAgIC8vIERldGVybWluZSBhIHRhZyBuYW1lIHVzZWQgZm9yIGNyZWF0aW5nIGhvc3QgZWxlbWVudHMgd2hlbiB0aGlzIGNvbXBvbmVudCBpcyBjcmVhdGVkXG4gICAgICAgIC8vIGR5bmFtaWNhbGx5LiBEZWZhdWx0IHRvICdkaXYnIGlmIHRoaXMgY29tcG9uZW50IGRpZCBub3Qgc3BlY2lmeSBhbnkgdGFnIG5hbWUgaW4gaXRzIHNlbGVjdG9yLlxuICAgICAgICBjb25zdCBlbGVtZW50TmFtZSA9IHRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXSB8fCAnZGl2JztcbiAgICAgICAgY29uc3QgaG9zdFJOb2RlID0gcm9vdFNlbGVjdG9yT3JOb2RlID9cbiAgICAgICAgICAgIGxvY2F0ZUhvc3RFbGVtZW50KGhvc3RSZW5kZXJlciwgcm9vdFNlbGVjdG9yT3JOb2RlLCB0aGlzLmNvbXBvbmVudERlZi5lbmNhcHN1bGF0aW9uKSA6XG4gICAgICAgICAgICBjcmVhdGVFbGVtZW50Tm9kZShyZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgdGhpcy5jb21wb25lbnREZWYpLCBlbGVtZW50TmFtZSwgZ2V0TmFtZXNwYWNlKGVsZW1lbnROYW1lKSk7XG4gICAgICAgIGNvbnN0IHJvb3RGbGFncyA9IHRoaXMuY29tcG9uZW50RGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIHwgNTEyIC8qIElzUm9vdCAqLyA6XG4gICAgICAgICAgICAxNiAvKiBDaGVja0Fsd2F5cyAqLyB8IDUxMiAvKiBJc1Jvb3QgKi87XG4gICAgICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gY3JlYXRlUm9vdENvbnRleHQoKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSByb290IHZpZXcuIFVzZXMgZW1wdHkgVFZpZXcgYW5kIENvbnRlbnRUZW1wbGF0ZS5cbiAgICAgICAgY29uc3Qgcm9vdFRWaWV3ID0gY3JlYXRlVFZpZXcoMCAvKiBSb290ICovLCBudWxsLCBudWxsLCAxLCAwLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgY29uc3Qgcm9vdExWaWV3ID0gY3JlYXRlTFZpZXcobnVsbCwgcm9vdFRWaWV3LCByb290Q29udGV4dCwgcm9vdEZsYWdzLCBudWxsLCBudWxsLCByZW5kZXJlckZhY3RvcnksIGhvc3RSZW5kZXJlciwgc2FuaXRpemVyLCByb290Vmlld0luamVjdG9yKTtcbiAgICAgICAgLy8gcm9vdFZpZXcgaXMgdGhlIHBhcmVudCB3aGVuIGJvb3RzdHJhcHBpbmdcbiAgICAgICAgLy8gVE9ETyhtaXNrbyk6IGl0IGxvb2tzIGxpa2Ugd2UgYXJlIGVudGVyaW5nIHZpZXcgaGVyZSBidXQgd2UgZG9uJ3QgcmVhbGx5IG5lZWQgdG8gYXNcbiAgICAgICAgLy8gYHJlbmRlclZpZXdgIGRvZXMgdGhhdC4gSG93ZXZlciBhcyB0aGUgY29kZSBpcyB3cml0dGVuIGl0IGlzIG5lZWRlZCBiZWNhdXNlXG4gICAgICAgIC8vIGBjcmVhdGVSb290Q29tcG9uZW50Vmlld2AgYW5kIGBjcmVhdGVSb290Q29tcG9uZW50YCBib3RoIHJlYWQgZ2xvYmFsIHN0YXRlLiBGaXhpbmcgdGhvc2VcbiAgICAgICAgLy8gaXNzdWVzIHdvdWxkIGFsbG93IHVzIHRvIGRyb3AgdGhpcy5cbiAgICAgICAgZW50ZXJWaWV3KHJvb3RMVmlldyk7XG4gICAgICAgIGxldCBjb21wb25lbnQ7XG4gICAgICAgIGxldCB0RWxlbWVudE5vZGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gY3JlYXRlUm9vdENvbXBvbmVudFZpZXcoaG9zdFJOb2RlLCB0aGlzLmNvbXBvbmVudERlZiwgcm9vdExWaWV3LCByZW5kZXJlckZhY3RvcnksIGhvc3RSZW5kZXJlcik7XG4gICAgICAgICAgICBpZiAoaG9zdFJOb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTZWxlY3Rvck9yTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRVcEF0dHJpYnV0ZXMoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIFsnbmctdmVyc2lvbicsIFZFUlNJT04uZnVsbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaG9zdCBlbGVtZW50IGlzIGNyZWF0ZWQgYXMgYSBwYXJ0IG9mIHRoaXMgZnVuY3Rpb24gY2FsbCAoaS5lLiBgcm9vdFNlbGVjdG9yT3JOb2RlYFxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBub3QgZGVmaW5lZCksIGFsc28gYXBwbHkgYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBleHRyYWN0ZWQgZnJvbSBjb21wb25lbnQgc2VsZWN0b3IuXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBmcm9tIHRoZSBmaXJzdCBzZWxlY3RvciBvbmx5IHRvIG1hdGNoIFZFIGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGF0dHJzLCBjbGFzc2VzIH0gPSBleHRyYWN0QXR0cnNBbmRDbGFzc2VzRnJvbVNlbGVjdG9yKHRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKGhvc3RSZW5kZXJlciwgaG9zdFJOb2RlLCBhdHRycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMgJiYgY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZURpcmVjdENsYXNzKGhvc3RSZW5kZXJlciwgaG9zdFJOb2RlLCBjbGFzc2VzLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0RWxlbWVudE5vZGUgPSBnZXRUTm9kZShyb290VFZpZXcsIEhFQURFUl9PRkZTRVQpO1xuICAgICAgICAgICAgaWYgKHByb2plY3RhYmxlTm9kZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSB0RWxlbWVudE5vZGUucHJvamVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZXNmb3JTbG90ID0gcHJvamVjdGFibGVOb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvamVjdGFibGUgbm9kZXMgY2FuIGJlIHBhc3NlZCBhcyBhcnJheSBvZiBhcnJheXMgb3IgYW4gYXJyYXkgb2YgaXRlcmFibGVzIChuZ1VwZ3JhZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSkuIEhlcmUgd2UgZG8gbm9ybWFsaXplIHBhc3NlZCBkYXRhIHN0cnVjdHVyZSB0byBiZSBhbiBhcnJheSBvZiBhcnJheXMgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcGxleCBjaGVja3MgZG93biB0aGUgbGluZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWxzbyBub3JtYWxpemUgdGhlIGxlbmd0aCBvZiB0aGUgcGFzc2VkIGluIHByb2plY3RhYmxlIG5vZGVzICh0byBtYXRjaCB0aGUgbnVtYmVyIG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIDxuZy1jb250YWluZXI+IHNsb3RzIGRlZmluZWQgYnkgYSBjb21wb25lbnQpLlxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLnB1c2gobm9kZXNmb3JTbG90ICE9IG51bGwgPyBBcnJheS5mcm9tKG5vZGVzZm9yU2xvdCkgOiBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgTGlmZWN5Y2xlSG9va3NGZWF0dXJlIGFuZCBvdGhlciBob3N0IGZlYXR1cmVzIGJlIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgYW5kXG4gICAgICAgICAgICAvLyBleGVjdXRlZCBoZXJlP1xuICAgICAgICAgICAgLy8gQW5ndWxhciA1IHJlZmVyZW5jZTogaHR0cHM6Ly9zdGFja2JsaXR6LmNvbS9lZGl0L2xpZmVjeWNsZS1ob29rcy12Y3JlZlxuICAgICAgICAgICAgY29tcG9uZW50ID0gY3JlYXRlUm9vdENvbXBvbmVudChjb21wb25lbnRWaWV3LCB0aGlzLmNvbXBvbmVudERlZiwgcm9vdExWaWV3LCByb290Q29udGV4dCwgW0xpZmVjeWNsZUhvb2tzRmVhdHVyZV0pO1xuICAgICAgICAgICAgcmVuZGVyVmlldyhyb290VFZpZXcsIHJvb3RMVmlldywgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudFJlZih0aGlzLmNvbXBvbmVudFR5cGUsIGNvbXBvbmVudCwgY3JlYXRlRWxlbWVudFJlZih0RWxlbWVudE5vZGUsIHJvb3RMVmlldyksIHJvb3RMVmlldywgdEVsZW1lbnROb2RlKTtcbiAgICB9XG59XG5jb25zdCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBuZXcgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCk7XG4vKipcbiAqIENyZWF0ZXMgYSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuIE9yLCBpZiB0aGVcbiAqIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlclxuICogYWxyZWFkeSBleGlzdHMsIHJldHJpZXZlcyB0aGUgZXhpc3RpbmcgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLlxuICpcbiAqIEByZXR1cm5zIFRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGluamVjdENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpIHtcbiAgICByZXR1cm4gY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGluc3RhbmNlIG9mIGEgQ29tcG9uZW50IGNyZWF0ZWQgdmlhIGEge0BsaW5rIENvbXBvbmVudEZhY3Rvcnl9LlxuICpcbiAqIGBDb21wb25lbnRSZWZgIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgQ29tcG9uZW50IEluc3RhbmNlIGFzIHdlbGwgb3RoZXIgb2JqZWN0cyByZWxhdGVkIHRvIHRoaXNcbiAqIENvbXBvbmVudCBJbnN0YW5jZSBhbmQgYWxsb3dzIHlvdSB0byBkZXN0cm95IHRoZSBDb21wb25lbnQgSW5zdGFuY2UgdmlhIHRoZSB7QGxpbmsgI2Rlc3Ryb3l9XG4gKiBtZXRob2QuXG4gKlxuICovXG5jbGFzcyBDb21wb25lbnRSZWYgZXh0ZW5kcyBDb21wb25lbnRSZWYkMSB7XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50VHlwZSwgaW5zdGFuY2UsIGxvY2F0aW9uLCBfcm9vdExWaWV3LCBfdE5vZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLl9yb290TFZpZXcgPSBfcm9vdExWaWV3O1xuICAgICAgICB0aGlzLl90Tm9kZSA9IF90Tm9kZTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICB0aGlzLmhvc3RWaWV3ID0gdGhpcy5jaGFuZ2VEZXRlY3RvclJlZiA9IG5ldyBSb290Vmlld1JlZihfcm9vdExWaWV3KTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlID0gY29tcG9uZW50VHlwZTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0aGlzLl90Tm9kZSwgdGhpcy5fcm9vdExWaWV3KTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5ob3N0Vmlldy5kZXN0cm95KCk7XG4gICAgfVxuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhvc3RWaWV3Lm9uRGVzdHJveShjYWxsYmFjayk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWRkcyBkZWNvcmF0b3IsIGNvbnN0cnVjdG9yLCBhbmQgcHJvcGVydHkgbWV0YWRhdGEgdG8gYSBnaXZlbiB0eXBlIHZpYSBzdGF0aWMgbWV0YWRhdGEgZmllbGRzXG4gKiBvbiB0aGUgdHlwZS5cbiAqXG4gKiBUaGVzZSBtZXRhZGF0YSBmaWVsZHMgY2FuIGxhdGVyIGJlIHJlYWQgd2l0aCBBbmd1bGFyJ3MgYFJlZmxlY3Rpb25DYXBhYmlsaXRpZXNgIEFQSS5cbiAqXG4gKiBDYWxscyB0byBgc2V0Q2xhc3NNZXRhZGF0YWAgY2FuIGJlIGd1YXJkZWQgYnkgbmdEZXZNb2RlLCByZXN1bHRpbmcgaW4gdGhlIG1ldGFkYXRhIGFzc2lnbm1lbnRzXG4gKiBiZWluZyB0cmVlLXNoYWtlbiBhd2F5IGR1cmluZyBwcm9kdWN0aW9uIGJ1aWxkcy5cbiAqL1xuZnVuY3Rpb24gc2V0Q2xhc3NNZXRhZGF0YSh0eXBlLCBkZWNvcmF0b3JzLCBjdG9yUGFyYW1ldGVycywgcHJvcERlY29yYXRvcnMpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsYXp6ID0gdHlwZTtcbiAgICAgICAgaWYgKGRlY29yYXRvcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjbGF6ei5oYXNPd25Qcm9wZXJ0eSgnZGVjb3JhdG9ycycpICYmIGNsYXp6LmRlY29yYXRvcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNsYXp6LmRlY29yYXRvcnMucHVzaCguLi5kZWNvcmF0b3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsYXp6LmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdG9yUGFyYW1ldGVycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gUmF0aGVyIHRoYW4gbWVyZ2luZywgY2xvYmJlciB0aGUgZXhpc3RpbmcgcGFyYW1ldGVycy4gSWYgb3RoZXIgcHJvamVjdHMgZXhpc3Qgd2hpY2hcbiAgICAgICAgICAgIC8vIHVzZSB0c2lja2xlLXN0eWxlIGFubm90YXRpb25zIGFuZCByZWZsZWN0IG92ZXIgdGhlbSBpbiB0aGUgc2FtZSB3YXksIHRoaXMgY291bGRcbiAgICAgICAgICAgIC8vIGNhdXNlIGlzc3VlcywgYnV0IHRoYXQgaXMgdmFuaXNoaW5nbHkgdW5saWtlbHkuXG4gICAgICAgICAgICBjbGF6ei5jdG9yUGFyYW1ldGVycyA9IGN0b3JQYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wRGVjb3JhdG9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVGhlIHByb3BlcnR5IGRlY29yYXRvciBvYmplY3RzIGFyZSBtZXJnZWQgYXMgaXQgaXMgcG9zc2libGUgZGlmZmVyZW50IGZpZWxkcyBoYXZlXG4gICAgICAgICAgICAvLyBkaWZmZXJlbnQgZGVjb3JhdG9yIHR5cGVzLiBEZWNvcmF0b3JzIG9uIGluZGl2aWR1YWwgZmllbGRzIGFyZSBub3QgbWVyZ2VkLCBhcyBpdCdzXG4gICAgICAgICAgICAvLyBhbHNvIGluY3JlZGlibHkgdW5saWtlbHkgdGhhdCBhIGZpZWxkIHdpbGwgYmUgZGVjb3JhdGVkIGJvdGggd2l0aCBhbiBBbmd1bGFyXG4gICAgICAgICAgICAvLyBkZWNvcmF0b3IgYW5kIGEgbm9uLUFuZ3VsYXIgZGVjb3JhdG9yIHRoYXQncyBhbHNvIGJlZW4gZG93bmxldmVsZWQuXG4gICAgICAgICAgICBpZiAoY2xhenouaGFzT3duUHJvcGVydHkoJ3Byb3BEZWNvcmF0b3JzJykgJiYgY2xhenoucHJvcERlY29yYXRvcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNsYXp6LnByb3BEZWNvcmF0b3JzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjbGF6ei5wcm9wRGVjb3JhdG9ycyksIHByb3BEZWNvcmF0b3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsYXp6LnByb3BEZWNvcmF0b3JzID0gcHJvcERlY29yYXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW5zdGFuY2Ugb2YgYW4gYE5nTW9kdWxlYCBjcmVhdGVkIGJ5IGFuIGBOZ01vZHVsZUZhY3RvcnlgLlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBgTmdNb2R1bGVgIGluc3RhbmNlIGFuZCByZWxhdGVkIG9iamVjdHMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBOZ01vZHVsZVJlZiQxIHtcbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBUaGlzIGNsYXNzIHdhcyBtb3N0bHkgdXNlZCBhcyBhIHBhcnQgb2YgVmlld0VuZ2luZS1iYXNlZCBKSVQgQVBJIGFuZCBpcyBubyBsb25nZXIgbmVlZGVkIGluIEl2eVxuICogSklUIG1vZGUuIFNlZSBbSklUIEFQSSBjaGFuZ2VzIGR1ZSB0byBWaWV3RW5naW5lIGRlcHJlY2F0aW9uXShndWlkZS9kZXByZWNhdGlvbnMjaml0LWFwaS1jaGFuZ2VzKVxuICogZm9yIGFkZGl0aW9uYWwgY29udGV4dC4gQW5ndWxhciBwcm92aWRlcyBBUElzIHRoYXQgYWNjZXB0IE5nTW9kdWxlIGNsYXNzZXMgZGlyZWN0bHkgKHN1Y2ggYXNcbiAqIFtQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVdKGFwaS9jb3JlL1BsYXRmb3JtUmVmI2Jvb3RzdHJhcE1vZHVsZSkgYW5kXG4gKiBbY3JlYXRlTmdNb2R1bGVSZWZdKGFwaS9jb3JlL2NyZWF0ZU5nTW9kdWxlUmVmKSksIGNvbnNpZGVyIHN3aXRjaGluZyB0byB0aG9zZSBBUElzIGluc3RlYWQgb2ZcbiAqIHVzaW5nIGZhY3RvcnktYmFzZWQgb25lcy5cbiAqL1xuY2xhc3MgTmdNb2R1bGVGYWN0b3J5JDEge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFwIG9mIG1vZHVsZS1pZCB0byB0aGUgY29ycmVzcG9uZGluZyBOZ01vZHVsZS5cbiAqIC0gSW4gcHJlIEl2eSB3ZSB0cmFjayBOZ01vZHVsZUZhY3RvcnksXG4gKiAtIEluIHBvc3QgSXZ5IHdlIHRyYWNrIHRoZSBOZ01vZHVsZVR5cGVcbiAqL1xuY29uc3QgbW9kdWxlcyA9IG5ldyBNYXAoKTtcbi8qKlxuICogUmVnaXN0ZXJzIGEgbG9hZGVkIG1vZHVsZS4gU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZyb20gZ2VuZXJhdGVkIE5nTW9kdWxlRmFjdG9yeSBjb2RlLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiByZWdpc3Rlck1vZHVsZUZhY3RvcnkoaWQsIGZhY3RvcnkpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IG1vZHVsZXMuZ2V0KGlkKTtcbiAgICBhc3NlcnRTYW1lT3JOb3RFeGlzdGluZyhpZCwgZXhpc3RpbmcgJiYgZXhpc3RpbmcubW9kdWxlVHlwZSwgZmFjdG9yeS5tb2R1bGVUeXBlKTtcbiAgICBtb2R1bGVzLnNldChpZCwgZmFjdG9yeSk7XG59XG5mdW5jdGlvbiBhc3NlcnRTYW1lT3JOb3RFeGlzdGluZyhpZCwgdHlwZSwgaW5jb21pbmcpIHtcbiAgICBpZiAodHlwZSAmJiB0eXBlICE9PSBpbmNvbWluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJlZCBmb3IgJHtpZH0gLSAke3N0cmluZ2lmeSh0eXBlKX0gdnMgJHtzdHJpbmdpZnkodHlwZS5uYW1lKX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWdpc3Rlck5nTW9kdWxlVHlwZShuZ01vZHVsZVR5cGUpIHtcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldCgpO1xuICAgIHJlY3Vyc2UobmdNb2R1bGVUeXBlKTtcbiAgICBmdW5jdGlvbiByZWN1cnNlKG5nTW9kdWxlVHlwZSkge1xuICAgICAgICAvLyBUaGUgaW1wb3J0cyBhcnJheSBvZiBhbiBOZ01vZHVsZSBtdXN0IHJlZmVyIHRvIG90aGVyIE5nTW9kdWxlcyxcbiAgICAgICAgLy8gc28gYW4gZXJyb3IgaXMgdGhyb3duIGlmIG5vIG1vZHVsZSBkZWZpbml0aW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgY29uc3QgZGVmID0gZ2V0TmdNb2R1bGVEZWYobmdNb2R1bGVUeXBlLCAvKiB0aHJvd05vdEZvdW5kICovIHRydWUpO1xuICAgICAgICBjb25zdCBpZCA9IGRlZi5pZDtcbiAgICAgICAgaWYgKGlkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IG1vZHVsZXMuZ2V0KGlkKTtcbiAgICAgICAgICAgIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCBleGlzdGluZywgbmdNb2R1bGVUeXBlKTtcbiAgICAgICAgICAgIG1vZHVsZXMuc2V0KGlkLCBuZ01vZHVsZVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltcG9ydHMgPSBtYXliZVVud3JhcEZuKGRlZi5pbXBvcnRzKTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIGltcG9ydHMpIHtcbiAgICAgICAgICAgIGlmICghdmlzaXRlZC5oYXMoaSkpIHtcbiAgICAgICAgICAgICAgICB2aXNpdGVkLmFkZChpKTtcbiAgICAgICAgICAgICAgICByZWN1cnNlKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJNb2R1bGVzRm9yVGVzdCgpIHtcbiAgICBtb2R1bGVzLmNsZWFyKCk7XG59XG5mdW5jdGlvbiBnZXRSZWdpc3RlcmVkTmdNb2R1bGVUeXBlKGlkKSB7XG4gICAgcmV0dXJuIChtb2R1bGVzLmdldChpZCkgfHwgYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZFtpZF0pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIG5ldyBOZ01vZHVsZVJlZiBpbnN0YW5jZSBiYXNlZCBvbiB0aGUgTmdNb2R1bGUgY2xhc3MgYW5kIHBhcmVudCBpbmplY3RvciBwcm92aWRlZC5cbiAqIEBwYXJhbSBuZ01vZHVsZSBOZ01vZHVsZSBjbGFzcy5cbiAqIEBwYXJhbSBwYXJlbnRJbmplY3RvciBPcHRpb25hbCBpbmplY3RvciBpbnN0YW5jZSB0byB1c2UgYXMgYSBwYXJlbnQgZm9yIHRoZSBtb2R1bGUgaW5qZWN0b3IuIElmXG4gKiAgICAgbm90IHByb3ZpZGVkLCBgTnVsbEluamVjdG9yYCB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTmdNb2R1bGVSZWYobmdNb2R1bGUsIHBhcmVudEluamVjdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBOZ01vZHVsZVJlZihuZ01vZHVsZSwgcGFyZW50SW5qZWN0b3IgIT09IG51bGwgJiYgcGFyZW50SW5qZWN0b3IgIT09IHZvaWQgMCA/IHBhcmVudEluamVjdG9yIDogbnVsbCk7XG59XG5jbGFzcyBOZ01vZHVsZVJlZiBleHRlbmRzIE5nTW9kdWxlUmVmJDEge1xuICAgIGNvbnN0cnVjdG9yKG5nTW9kdWxlVHlwZSwgX3BhcmVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cmVxdWlyZS1pbnRlcm5hbC13aXRoLXVuZGVyc2NvcmVcbiAgICAgICAgdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmluamVjdG9yID0gdGhpcztcbiAgICAgICAgdGhpcy5kZXN0cm95Q2JzID0gW107XG4gICAgICAgIC8vIFdoZW4gYm9vdHN0cmFwcGluZyBhIG1vZHVsZSB3ZSBoYXZlIGEgZGVwZW5kZW5jeSBncmFwaCB0aGF0IGxvb2tzIGxpa2UgdGhpczpcbiAgICAgICAgLy8gQXBwbGljYXRpb25SZWYgLT4gQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIC0+IE5nTW9kdWxlUmVmLiBUaGUgcHJvYmxlbSBpcyB0aGF0IGlmIHRoZVxuICAgICAgICAvLyBtb2R1bGUgYmVpbmcgcmVzb2x2ZWQgdHJpZXMgdG8gaW5qZWN0IHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIGl0J2xsIGNyZWF0ZSBhXG4gICAgICAgIC8vIGNpcmN1bGFyIGRlcGVuZGVuY3kgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBydW50aW1lIGVycm9yLCBiZWNhdXNlIHRoZSBpbmplY3RvciBkb2Vzbid0XG4gICAgICAgIC8vIGV4aXN0IHlldC4gV2Ugd29yayBhcm91bmQgdGhlIGlzc3VlIGJ5IGNyZWF0aW5nIHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgb3Vyc2VsdmVzXG4gICAgICAgIC8vIGFuZCBwcm92aWRpbmcgaXQsIHJhdGhlciB0aGFuIGxldHRpbmcgdGhlIGluamVjdG9yIHJlc29sdmUgaXQuXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gbmV3IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcih0aGlzKTtcbiAgICAgICAgY29uc3QgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihuZ01vZHVsZVR5cGUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydERlZmluZWQobmdNb2R1bGVEZWYsIGBOZ01vZHVsZSAnJHtzdHJpbmdpZnkobmdNb2R1bGVUeXBlKX0nIGlzIG5vdCBhIHN1YnR5cGUgb2YgJ05nTW9kdWxlVHlwZScuYCk7XG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHMgPSBtYXliZVVud3JhcEZuKG5nTW9kdWxlRGVmLmJvb3RzdHJhcCk7XG4gICAgICAgIHRoaXMuX3IzSW5qZWN0b3IgPSBjcmVhdGVJbmplY3RvcldpdGhvdXRJbmplY3Rvckluc3RhbmNlcyhuZ01vZHVsZVR5cGUsIF9wYXJlbnQsIFtcbiAgICAgICAgICAgIHsgcHJvdmlkZTogTmdNb2R1bGVSZWYkMSwgdXNlVmFsdWU6IHRoaXMgfSwge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxLFxuICAgICAgICAgICAgICAgIHVzZVZhbHVlOiB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclxuICAgICAgICAgICAgfVxuICAgICAgICBdLCBzdHJpbmdpZnkobmdNb2R1bGVUeXBlKSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmVzb2x2ZSB0aGUgaW5qZWN0b3IgdHlwZXMgc2VwYXJhdGVseSBmcm9tIHRoZSBpbmplY3RvciBjcmVhdGlvbiwgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgbW9kdWxlIG1pZ2h0IGJlIHRyeWluZyB0byB1c2UgdGhpcyByZWYgaW4gaXRzIGNvbnN0cnVjdG9yIGZvciBESSB3aGljaCB3aWxsIGNhdXNlIGFcbiAgICAgICAgLy8gY2lyY3VsYXIgZXJyb3IgdGhhdCB3aWxsIGV2ZW50dWFsbHkgZXJyb3Igb3V0LCBiZWNhdXNlIHRoZSBpbmplY3RvciBpc24ndCBjcmVhdGVkIHlldC5cbiAgICAgICAgdGhpcy5fcjNJbmplY3Rvci5fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IHRoaXMuZ2V0KG5nTW9kdWxlVHlwZSk7XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSA9IEluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORCwgaW5qZWN0RmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0KSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gSW5qZWN0b3IgfHwgdG9rZW4gPT09IE5nTW9kdWxlUmVmJDEgfHwgdG9rZW4gPT09IElOSkVDVE9SKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcjNJbmplY3Rvci5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGluamVjdEZsYWdzKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodGhpcy5kZXN0cm95Q2JzLCAnTmdNb2R1bGUgYWxyZWFkeSBkZXN0cm95ZWQnKTtcbiAgICAgICAgY29uc3QgaW5qZWN0b3IgPSB0aGlzLl9yM0luamVjdG9yO1xuICAgICAgICAhaW5qZWN0b3IuZGVzdHJveWVkICYmIGluamVjdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Q2JzLmZvckVhY2goZm4gPT4gZm4oKSk7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicyA9IG51bGw7XG4gICAgfVxuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMucHVzaChjYWxsYmFjayk7XG4gICAgfVxufVxuY2xhc3MgTmdNb2R1bGVGYWN0b3J5IGV4dGVuZHMgTmdNb2R1bGVGYWN0b3J5JDEge1xuICAgIGNvbnN0cnVjdG9yKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tb2R1bGVUeXBlID0gbW9kdWxlVHlwZTtcbiAgICAgICAgY29uc3QgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgaWYgKG5nTW9kdWxlRGVmICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgTmdNb2R1bGUgd2l0aCBBbmd1bGFyJ3MgbW9kdWxlIHJlZ2lzdHJ5LiBUaGUgbG9jYXRpb24gKGFuZCBoZW5jZSB0aW1pbmcpIG9mXG4gICAgICAgICAgICAvLyB0aGlzIGNhbGwgaXMgY3JpdGljYWwgdG8gZW5zdXJlIHRoaXMgd29ya3MgY29ycmVjdGx5IChtb2R1bGVzIGdldCByZWdpc3RlcmVkIHdoZW4gZXhwZWN0ZWQpXG4gICAgICAgICAgICAvLyB3aXRob3V0IGJsb2F0aW5nIGJ1bmRsZXMgKG1vZHVsZXMgYXJlIHJlZ2lzdGVyZWQgd2hlbiBvdGhlcndpc2Ugbm90IHJlZmVyZW5jZWQpLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEluIFZpZXcgRW5naW5lLCByZWdpc3RyYXRpb24gb2NjdXJzIGluIHRoZSAubmdmYWN0b3J5LmpzIGZpbGUgYXMgYSBzaWRlIGVmZmVjdC4gVGhpcyBoYXNcbiAgICAgICAgICAgIC8vIHNldmVyYWwgcHJhY3RpY2FsIGNvbnNlcXVlbmNlczpcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAtIElmIGFuIC5uZ2ZhY3RvcnkgZmlsZSBpcyBub3QgaW1wb3J0ZWQgZnJvbSwgdGhlIG1vZHVsZSB3b24ndCBiZSByZWdpc3RlcmVkIChhbmQgY2FuIGJlXG4gICAgICAgICAgICAvLyAgIHRyZWUgc2hha2VuKS5cbiAgICAgICAgICAgIC8vIC0gSWYgYW4gLm5nZmFjdG9yeSBmaWxlIGlzIGltcG9ydGVkIGZyb20sIHRoZSBtb2R1bGUgd2lsbCBiZSByZWdpc3RlcmVkIGV2ZW4gaWYgYW4gaW5zdGFuY2VcbiAgICAgICAgICAgIC8vICAgaXMgbm90IGFjdHVhbGx5IGNyZWF0ZWQgKHZpYSBgY3JlYXRlYCBiZWxvdykuXG4gICAgICAgICAgICAvLyAtIFNpbmNlIGFuIC5uZ2ZhY3RvcnkgZmlsZSBpbiBWaWV3IEVuZ2luZSByZWZlcmVuY2VzIHRoZSAubmdmYWN0b3J5IGZpbGVzIG9mIHRoZSBOZ01vZHVsZSdzXG4gICAgICAgICAgICAvLyAgIGltcG9ydHMsXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gSXZ5LCB0aGluZ3MgYXJlIGEgYml0IGRpZmZlcmVudC4gLm5nZmFjdG9yeSBmaWxlcyBzdGlsbCBleGlzdCBmb3IgY29tcGF0aWJpbGl0eSwgYnV0IGFyZVxuICAgICAgICAgICAgLy8gbm90IGEgcmVxdWlyZWQgQVBJIHRvIHVzZSAtIHRoZXJlIGFyZSBvdGhlciB3YXlzIHRvIG9idGFpbiBhbiBOZ01vZHVsZUZhY3RvcnkgZm9yIGEgZ2l2ZW5cbiAgICAgICAgICAgIC8vIE5nTW9kdWxlLiBUaHVzLCByZWx5aW5nIG9uIGEgc2lkZSBlZmZlY3QgaW4gdGhlIC5uZ2ZhY3RvcnkgZmlsZSBpcyBub3Qgc3VmZmljaWVudC4gSW5zdGVhZCxcbiAgICAgICAgICAgIC8vIHRoZSBzaWRlIGVmZmVjdCBvZiByZWdpc3RyYXRpb24gaXMgYWRkZWQgaGVyZSwgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIE5nTW9kdWxlRmFjdG9yeSxcbiAgICAgICAgICAgIC8vIGVuc3VyaW5nIG5vIG1hdHRlciBob3cgYSBmYWN0b3J5IGlzIGNyZWF0ZWQsIHRoZSBtb2R1bGUgaXMgcmVnaXN0ZXJlZCBjb3JyZWN0bHkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQW4gYWx0ZXJuYXRpdmUgd291bGQgYmUgdG8gaW5jbHVkZSB0aGUgcmVnaXN0cmF0aW9uIHNpZGUgZWZmZWN0IGlubGluZSBmb2xsb3dpbmcgdGhlIGFjdHVhbFxuICAgICAgICAgICAgLy8gTmdNb2R1bGUgZGVmaW5pdGlvbi4gVGhpcyBhbHNvIGhhcyB0aGUgY29ycmVjdCB0aW1pbmcsIGJ1dCBicmVha3MgdHJlZS1zaGFraW5nIC0gbW9kdWxlc1xuICAgICAgICAgICAgLy8gd2lsbCBiZSByZWdpc3RlcmVkIGFuZCByZXRhaW5lZCBldmVuIGlmIHRoZXkncmUgb3RoZXJ3aXNlIG5ldmVyIHJlZmVyZW5jZWQuXG4gICAgICAgICAgICByZWdpc3Rlck5nTW9kdWxlVHlwZShtb2R1bGVUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGUocGFyZW50SW5qZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOZ01vZHVsZVJlZih0aGlzLm1vZHVsZVR5cGUsIHBhcmVudEluamVjdG9yKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCaW5kaW5ncyBmb3IgcHVyZSBmdW5jdGlvbnMgYXJlIHN0b3JlZCBhZnRlciByZWd1bGFyIGJpbmRpbmdzLlxuICpcbiAqIHwtLS0tLS0tZGVjbHMtLS0tLS18LS0tLS0tLS0tdmFycy0tLS0tLS0tLXwgICAgICAgICAgICAgICAgIHwtLS0tLSBob3N0VmFycyAoZGlyMSkgLS0tLS0tfFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB8IG5vZGVzL3JlZnMvcGlwZXMgfCBiaW5kaW5ncyB8IGZuIHNsb3RzICB8IGluamVjdG9yIHwgZGlyMSB8IGhvc3QgYmluZGluZ3MgfCBob3N0IHNsb3RzIHxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogICAgICAgICAgICAgICAgICAgIF4gICAgICAgICAgICAgICAgICAgICAgXlxuICogICAgICBUVmlldy5iaW5kaW5nU3RhcnRJbmRleCAgICAgIFRWaWV3LmV4cGFuZG9TdGFydEluZGV4XG4gKlxuICogUHVyZSBmdW5jdGlvbiBpbnN0cnVjdGlvbnMgYXJlIGdpdmVuIGFuIG9mZnNldCBmcm9tIHRoZSBiaW5kaW5nIHJvb3QuIEFkZGluZyB0aGUgb2Zmc2V0IHRvIHRoZVxuICogYmluZGluZyByb290IGdpdmVzIHRoZSBmaXJzdCBpbmRleCB3aGVyZSB0aGUgYmluZGluZ3MgYXJlIHN0b3JlZC4gSW4gY29tcG9uZW50IHZpZXdzLCB0aGUgYmluZGluZ1xuICogcm9vdCBpcyB0aGUgYmluZGluZ1N0YXJ0SW5kZXguIEluIGhvc3QgYmluZGluZ3MsIHRoZSBiaW5kaW5nIHJvb3QgaXMgdGhlIGV4cGFuZG9TdGFydEluZGV4ICtcbiAqIGFueSBkaXJlY3RpdmUgaW5zdGFuY2VzICsgYW55IGhvc3RWYXJzIGluIGRpcmVjdGl2ZXMgZXZhbHVhdGVkIGJlZm9yZSBpdC5cbiAqXG4gKiBTZWUgVklFV19EQVRBLm1kIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGhvc3QgYmluZGluZyByZXNvbHV0aW9uLlxuICovXG4vKipcbiAqIElmIHRoZSB2YWx1ZSBoYXNuJ3QgYmVlbiBzYXZlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gc3RvcmUgYW5kIHJldHVybiB0aGVcbiAqIHZhbHVlLiBJZiBpdCBoYXMgYmVlbiBzYXZlZCwgcmV0dXJucyB0aGUgc2F2ZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZVxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uMChzbG90T2Zmc2V0LCBwdXJlRm4sIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgcmV0dXJuIGxWaWV3W2JpbmRpbmdJbmRleF0gPT09IE5PX0NIQU5HRSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcpIDogcHVyZUZuKCkpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4KTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgdGhlIHZhbHVlIGhhcyBub3QgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gdXBkYXRlZCB2YWx1ZVxuICogQHBhcmFtIGV4cCBVcGRhdGVkIGV4cHJlc3Npb24gdmFsdWVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjEoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gcHVyZUZ1bmN0aW9uMUludGVybmFsKGdldExWaWV3KCksIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwLCB0aGlzQXJnKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24yKHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24ySW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCB0aGlzQXJnKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uMyhzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gcHVyZUZ1bmN0aW9uM0ludGVybmFsKGdldExWaWV3KCksIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgdGhpc0FyZyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb240KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb240SW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSBleHA1XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb241KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA1LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSkgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDUpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb242KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4ICsgNCwgZXhwNSwgZXhwNikgfHwgZGlmZmVyZW50ID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNiwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYpIDpcbiAgICAgICAgICAgIHB1cmVGbihleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2KSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA2KTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSBleHA1XG4gKiBAcGFyYW0gZXhwNlxuICogQHBhcmFtIGV4cDdcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjcoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgZXhwNSwgZXhwNiwgZXhwNykgfHwgZGlmZmVyZW50ID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNywgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcpIDpcbiAgICAgICAgICAgIHB1cmVGbihleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3KSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA3KTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSBleHA1XG4gKiBAcGFyYW0gZXhwNlxuICogQHBhcmFtIGV4cDdcbiAqIEBwYXJhbSBleHA4XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb244KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4ICsgNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCkgfHwgZGlmZmVyZW50ID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgOCwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpIDpcbiAgICAgICAgICAgIHB1cmVGbihleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4KSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA4KTtcbn1cbi8qKlxuICogcHVyZUZ1bmN0aW9uIGluc3RydWN0aW9uIHRoYXQgY2FuIHN1cHBvcnQgYW55IG51bWJlciBvZiBiaW5kaW5ncy5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEEgcHVyZSBmdW5jdGlvbiB0aGF0IHRha2VzIGJpbmRpbmcgdmFsdWVzIGFuZCBidWlsZHMgYW4gb2JqZWN0IG9yIGFycmF5XG4gKiBjb250YWluaW5nIHRob3NlIHZhbHVlcy5cbiAqIEBwYXJhbSBleHBzIEFuIGFycmF5IG9mIGJpbmRpbmcgdmFsdWVzXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb25WKHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwcywgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb25WSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKTtcbn1cbi8qKlxuICogUmVzdWx0cyBvZiBhIHB1cmUgZnVuY3Rpb24gaW52b2NhdGlvbiBhcmUgc3RvcmVkIGluIExWaWV3IGluIGEgZGVkaWNhdGVkIHNsb3QgdGhhdCBpcyBpbml0aWFsaXplZFxuICogdG8gTk9fQ0hBTkdFLiBJbiByYXJlIHNpdHVhdGlvbnMgYSBwdXJlIHBpcGUgbWlnaHQgdGhyb3cgYW4gZXhjZXB0aW9uIG9uIHRoZSB2ZXJ5IGZpcnN0XG4gKiBpbnZvY2F0aW9uIGFuZCBub3QgcHJvZHVjZSBhbnkgdmFsaWQgcmVzdWx0cy4gSW4gdGhpcyBjYXNlIExWaWV3IHdvdWxkIGtlZXAgaG9sZGluZyB0aGUgTk9fQ0hBTkdFXG4gKiB2YWx1ZS4gVGhlIE5PX0NIQU5HRSBpcyBub3Qgc29tZXRoaW5nIHRoYXQgd2UgY2FuIHVzZSBpbiBleHByZXNzaW9ucyAvIGJpbmRpbmdzIHRodXMgd2UgY29udmVydFxuICogaXQgdG8gYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlKGxWaWV3LCByZXR1cm5WYWx1ZUluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgcmV0dXJuVmFsdWVJbmRleCk7XG4gICAgY29uc3QgbGFzdFJldHVyblZhbHVlID0gbFZpZXdbcmV0dXJuVmFsdWVJbmRleF07XG4gICAgcmV0dXJuIGxhc3RSZXR1cm5WYWx1ZSA9PT0gTk9fQ0hBTkdFID8gdW5kZWZpbmVkIDogbGFzdFJldHVyblZhbHVlO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiB0aGUgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIHVwZGF0ZWQgdmFsdWVcbiAqIEBwYXJhbSBleHAgVXBkYXRlZCBleHByZXNzaW9uIHZhbHVlXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb24xSW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cCwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwKSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDEsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHApIDogcHVyZUZuKGV4cCkpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDEpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uMkludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMikgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMikgOiBwdXJlRm4oZXhwMSwgZXhwMikpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDIpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjNJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMpID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMywgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMpIDogcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMpKSA6XG4gICAgICAgIGdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAzKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIGxWaWV3IExWaWV3IGluIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZC5cbiAqIEBwYXJhbSBiaW5kaW5nUm9vdCBCaW5kaW5nIHJvb3QgaW5kZXguXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjRJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpIDogcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpKSA6XG4gICAgICAgIGdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0KTtcbn1cbi8qKlxuICogcHVyZUZ1bmN0aW9uIGluc3RydWN0aW9uIHRoYXQgY2FuIHN1cHBvcnQgYW55IG51bWJlciBvZiBiaW5kaW5ncy5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gQSBwdXJlIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYmluZGluZyB2YWx1ZXMgYW5kIGJ1aWxkcyBhbiBvYmplY3Qgb3IgYXJyYXlcbiAqIGNvbnRhaW5pbmcgdGhvc2UgdmFsdWVzLlxuICogQHBhcmFtIGV4cHMgQW4gYXJyYXkgb2YgYmluZGluZyB2YWx1ZXNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvblZJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwcywgdGhpc0FyZykge1xuICAgIGxldCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgbGV0IGRpZmZlcmVudCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4KyssIGV4cHNbaV0pICYmIChkaWZmZXJlbnQgPSB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCwgcHVyZUZuLmFwcGx5KHRoaXNBcmcsIGV4cHMpKSA6XG4gICAgICAgIGdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlIGEgcGlwZS5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3aWxsIGJlIHN0b3JlZC5cbiAqIEBwYXJhbSBwaXBlTmFtZSBUaGUgbmFtZSBvZiB0aGUgcGlwZVxuICogQHJldHVybnMgVCB0aGUgaW5zdGFuY2Ugb2YgdGhlIHBpcGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGUoaW5kZXgsIHBpcGVOYW1lKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGxldCBwaXBlRGVmO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAvLyBUaGUgYGdldFBpcGVEZWZgIHRocm93cyBpZiBhIHBpcGUgd2l0aCBhIGdpdmVuIG5hbWUgaXMgbm90IGZvdW5kXG4gICAgICAgIC8vIChzbyB3ZSB1c2Ugbm9uLW51bGwgYXNzZXJ0aW9uIGJlbG93KS5cbiAgICAgICAgcGlwZURlZiA9IGdldFBpcGVEZWYocGlwZU5hbWUsIHRWaWV3LnBpcGVSZWdpc3RyeSk7XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF0gPSBwaXBlRGVmO1xuICAgICAgICBpZiAocGlwZURlZi5vbkRlc3Ryb3kpIHtcbiAgICAgICAgICAgICh0Vmlldy5kZXN0cm95SG9va3MgfHwgKHRWaWV3LmRlc3Ryb3lIb29rcyA9IFtdKSkucHVzaChhZGp1c3RlZEluZGV4LCBwaXBlRGVmLm9uRGVzdHJveSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBpcGVEZWYgPSB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIH1cbiAgICBjb25zdCBwaXBlRmFjdG9yeSA9IHBpcGVEZWYuZmFjdG9yeSB8fCAocGlwZURlZi5mYWN0b3J5ID0gZ2V0RmFjdG9yeURlZihwaXBlRGVmLnR5cGUsIHRydWUpKTtcbiAgICBjb25zdCBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uID0gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24oybXJtWRpcmVjdGl2ZUluamVjdCk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gREkgZm9yIHBpcGVzIGlzIHN1cHBvc2VkIHRvIGJlaGF2ZSBsaWtlIGRpcmVjdGl2ZXMgd2hlbiBwbGFjZWQgb24gYSBjb21wb25lbnRcbiAgICAgICAgLy8gaG9zdCBub2RlLCB3aGljaCBtZWFucyB0aGF0IHdlIGhhdmUgdG8gZGlzYWJsZSBhY2Nlc3MgdG8gYHZpZXdQcm92aWRlcnNgLlxuICAgICAgICBjb25zdCBwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzID0gc2V0SW5jbHVkZVZpZXdQcm92aWRlcnMoZmFsc2UpO1xuICAgICAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBwaXBlRmFjdG9yeSgpO1xuICAgICAgICBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzKTtcbiAgICAgICAgc3RvcmUodFZpZXcsIGdldExWaWV3KCksIGFkanVzdGVkSW5kZXgsIHBpcGVJbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBwaXBlSW5zdGFuY2U7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIHJlc3RvcmUgdGhlIGluamVjdG9yIGltcGxlbWVudGF0aW9uIGluIGZpbmFsbHksIGp1c3QgaW4gY2FzZSB0aGUgY3JlYXRpb24gb2YgdGhlXG4gICAgICAgIC8vIHBpcGUgdGhyb3dzIGFuIGVycm9yLlxuICAgICAgICBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uKTtcbiAgICB9XG59XG4vKipcbiAqIFNlYXJjaGVzIHRoZSBwaXBlIHJlZ2lzdHJ5IGZvciBhIHBpcGUgd2l0aCB0aGUgZ2l2ZW4gbmFtZS4gSWYgb25lIGlzIGZvdW5kLFxuICogcmV0dXJucyB0aGUgcGlwZS4gT3RoZXJ3aXNlLCBhbiBlcnJvciBpcyB0aHJvd24gYmVjYXVzZSB0aGUgcGlwZSBjYW5ub3QgYmUgcmVzb2x2ZWQuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBwaXBlIHRvIHJlc29sdmVcbiAqIEBwYXJhbSByZWdpc3RyeSBGdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIHBpcGVzXG4gKiBAcmV0dXJucyBNYXRjaGluZyBQaXBlRGVmXG4gKi9cbmZ1bmN0aW9uIGdldFBpcGVEZWYobmFtZSwgcmVnaXN0cnkpIHtcbiAgICBpZiAocmVnaXN0cnkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHJlZ2lzdHJ5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBwaXBlRGVmID0gcmVnaXN0cnlbaV07XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gcGlwZURlZi5uYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpcGVEZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBkZWNsYXJhdGlvbkxWaWV3W0NPTlRFWFRdO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBjb250ZXh0ID8gYCBpbiB0aGUgJyR7Y29udGV4dC5jb25zdHJ1Y3Rvci5uYW1lfScgY29tcG9uZW50YCA6ICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0zMDIgLyogUElQRV9OT1RfRk9VTkQgKi8sIGBUaGUgcGlwZSAnJHtuYW1lfScgY291bGQgbm90IGJlIGZvdW5kJHtjb21wb25lbnR9IWApO1xuICAgIH1cbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCAxIGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHYxIDFzdCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZDEoaW5kZXgsIHNsb3RPZmZzZXQsIHYxKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb24xSW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSh2MSk7XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggMiBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2MSAxc3QgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MiAybmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmQyKGluZGV4LCBzbG90T2Zmc2V0LCB2MSwgdjIpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/XG4gICAgICAgIHB1cmVGdW5jdGlvbjJJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHYyLCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSh2MSwgdjIpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDMgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjMgNHJkIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kMyhpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyLCB2Mykge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uM0ludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgdjIsIHYzLCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSh2MSwgdjIsIHYzKTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCA0IGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHYxIDFzdCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYyIDJuZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYzIDNyZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHY0IDR0aCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZDQoaW5kZXgsIHNsb3RPZmZzZXQsIHYxLCB2MiwgdjMsIHY0KSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgPyBwdXJlRnVuY3Rpb240SW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCB2MiwgdjMsIHY0LCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCk7XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHZhbHVlcyBBcnJheSBvZiBhcmd1bWVudHMgdG8gcGFzcyB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IG1ldGhvZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmRWKGluZGV4LCBzbG90T2Zmc2V0LCB2YWx1ZXMpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/XG4gICAgICAgIHB1cmVGdW5jdGlvblZJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdmFsdWVzLCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybS5hcHBseShwaXBlSW5zdGFuY2UsIHZhbHVlcyk7XG59XG5mdW5jdGlvbiBpc1B1cmUobFZpZXcsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxWaWV3W1RWSUVXXS5kYXRhW2luZGV4XS5wdXJlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIEV2ZW50RW1pdHRlcl8gZXh0ZW5kcyBTdWJqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihpc0FzeW5jID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fX2lzQXN5bmMgPSBpc0FzeW5jO1xuICAgIH1cbiAgICBlbWl0KHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLm5leHQodmFsdWUpO1xuICAgIH1cbiAgICBzdWJzY3JpYmUob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgbGV0IG5leHRGbiA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICBsZXQgZXJyb3JGbiA9IGVycm9yIHx8ICgoKSA9PiBudWxsKTtcbiAgICAgICAgbGV0IGNvbXBsZXRlRm4gPSBjb21wbGV0ZTtcbiAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICYmIHR5cGVvZiBvYnNlcnZlck9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICBuZXh0Rm4gPSAoX2EgPSBvYnNlcnZlci5uZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChvYnNlcnZlcik7XG4gICAgICAgICAgICBlcnJvckZuID0gKF9iID0gb2JzZXJ2ZXIuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgICAgIGNvbXBsZXRlRm4gPSAoX2MgPSBvYnNlcnZlci5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJpbmQob2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9faXNBc3luYykge1xuICAgICAgICAgICAgZXJyb3JGbiA9IF93cmFwSW5UaW1lb3V0KGVycm9yRm4pO1xuICAgICAgICAgICAgaWYgKG5leHRGbikge1xuICAgICAgICAgICAgICAgIG5leHRGbiA9IF93cmFwSW5UaW1lb3V0KG5leHRGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcGxldGVGbikge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlRm4gPSBfd3JhcEluVGltZW91dChjb21wbGV0ZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaW5rID0gc3VwZXIuc3Vic2NyaWJlKHsgbmV4dDogbmV4dEZuLCBlcnJvcjogZXJyb3JGbiwgY29tcGxldGU6IGNvbXBsZXRlRm4gfSk7XG4gICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgb2JzZXJ2ZXJPck5leHQuYWRkKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF93cmFwSW5UaW1lb3V0KGZuKSB7XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KGZuLCB1bmRlZmluZWQsIHZhbHVlKTtcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcl87XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gc3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHNbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbn1cbi8qKlxuICogQW4gdW5tb2RpZmlhYmxlIGxpc3Qgb2YgaXRlbXMgdGhhdCBBbmd1bGFyIGtlZXBzIHVwIHRvIGRhdGUgd2hlbiB0aGUgc3RhdGVcbiAqIG9mIHRoZSBhcHBsaWNhdGlvbiBjaGFuZ2VzLlxuICpcbiAqIFRoZSB0eXBlIG9mIG9iamVjdCB0aGF0IHtAbGluayBWaWV3Q2hpbGRyZW59LCB7QGxpbmsgQ29udGVudENoaWxkcmVufSwgYW5kIHtAbGluayBRdWVyeUxpc3R9XG4gKiBwcm92aWRlLlxuICpcbiAqIEltcGxlbWVudHMgYW4gaXRlcmFibGUgaW50ZXJmYWNlLCB0aGVyZWZvcmUgaXQgY2FuIGJlIHVzZWQgaW4gYm90aCBFUzZcbiAqIGphdmFzY3JpcHQgYGZvciAodmFyIGkgb2YgaXRlbXMpYCBsb29wcyBhcyB3ZWxsIGFzIGluIEFuZ3VsYXIgdGVtcGxhdGVzIHdpdGhcbiAqIGAqbmdGb3I9XCJsZXQgaSBvZiBteUxpc3RcImAuXG4gKlxuICogQ2hhbmdlcyBjYW4gYmUgb2JzZXJ2ZWQgYnkgc3Vic2NyaWJpbmcgdG8gdGhlIGNoYW5nZXMgYE9ic2VydmFibGVgLlxuICpcbiAqIE5PVEU6IEluIHRoZSBmdXR1cmUgdGhpcyBjbGFzcyB3aWxsIGltcGxlbWVudCBhbiBgT2JzZXJ2YWJsZWAgaW50ZXJmYWNlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogQENvbXBvbmVudCh7Li4ufSlcbiAqIGNsYXNzIENvbnRhaW5lciB7XG4gKiAgIEBWaWV3Q2hpbGRyZW4oSXRlbSkgaXRlbXM6UXVlcnlMaXN0PEl0ZW0+O1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBRdWVyeUxpc3Qge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlbWl0RGlzdGluY3RDaGFuZ2VzT25seSBXaGV0aGVyIGBRdWVyeUxpc3QuY2hhbmdlc2Agc2hvdWxkIGZpcmUgb25seSB3aGVuIGFjdHVhbCBjaGFuZ2VcbiAgICAgKiAgICAgaGFzIG9jY3VycmVkLiBPciBpZiBpdCBzaG91bGQgZmlyZSB3aGVuIHF1ZXJ5IGlzIHJlY29tcHV0ZWQuIChyZWNvbXB1dGluZyBjb3VsZCByZXNvbHZlIGluXG4gICAgICogICAgIHRoZSBzYW1lIHJlc3VsdClcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9lbWl0RGlzdGluY3RDaGFuZ2VzT25seSA9IF9lbWl0RGlzdGluY3RDaGFuZ2VzT25seTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgdGhpcy5fY2hhbmdlc0RldGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZmlyc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgZGVjbGFyZWQgb24gdGhlIHByb3RvdHlwZSwgYnV0IGRvaW5nIHNvIHRoZXJlIHdpbGwgY2F1c2UgdGhlIGNsYXNzXG4gICAgICAgIC8vIGRlY2xhcmF0aW9uIHRvIGhhdmUgc2lkZS1lZmZlY3RzIGFuZCBiZWNvbWUgbm90IHRyZWUtc2hha2FibGUuIEZvciB0aGlzIHJlYXNvbiB3ZSBkbyBpdCBpblxuICAgICAgICAvLyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgIC8vIFtnZXRTeW1ib2xJdGVyYXRvcigpXSgpOiBJdGVyYXRvcjxUPiB7IC4uLiB9XG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IHByb3RvID0gUXVlcnlMaXN0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKCFwcm90b1tzeW1ib2xdKVxuICAgICAgICAgICAgcHJvdG9bc3ltYm9sXSA9IHN5bWJvbEl0ZXJhdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGBPYnNlcnZhYmxlYCBvZiBgUXVlcnlMaXN0YCBub3RpZnlpbmcgdGhlIHN1YnNjcmliZXIgb2YgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZXMgfHwgKHRoaXMuX2NoYW5nZXMgPSBuZXcgRXZlbnRFbWl0dGVyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBRdWVyeUxpc3QgZW50cnkgYXQgYGluZGV4YC5cbiAgICAgKi9cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHNbaW5kZXhdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkubWFwXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9tYXApXG4gICAgICovXG4gICAgbWFwKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLm1hcChmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5maWx0ZXJdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlcilcbiAgICAgKi9cbiAgICBmaWx0ZXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmlsdGVyKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZpbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbmQpXG4gICAgICovXG4gICAgZmluZChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnJlZHVjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmVkdWNlKVxuICAgICAqL1xuICAgIHJlZHVjZShmbiwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UoZm4sIGluaXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZm9yRWFjaF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZm9yRWFjaClcbiAgICAgKi9cbiAgICBmb3JFYWNoKGZuKSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdHMuZm9yRWFjaChmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5zb21lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb21lKVxuICAgICAqL1xuICAgIHNvbWUoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZShmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBpbnRlcm5hbCByZXN1bHRzIGxpc3QgYXMgYW4gQXJyYXkuXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2UoKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0b3JlZCBkYXRhIG9mIHRoZSBxdWVyeSBsaXN0LCBhbmQgcmVzZXRzIHRoZSBgZGlydHlgIGZsYWcgdG8gYGZhbHNlYCwgc28gdGhhdFxuICAgICAqIG9uIGNoYW5nZSBkZXRlY3Rpb24sIGl0IHdpbGwgbm90IG5vdGlmeSBvZiBjaGFuZ2VzIHRvIHRoZSBxdWVyaWVzLCB1bmxlc3MgYSBuZXcgY2hhbmdlXG4gICAgICogb2NjdXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3VsdHNUcmVlIFRoZSBxdWVyeSByZXN1bHRzIHRvIHN0b3JlXG4gICAgICogQHBhcmFtIGlkZW50aXR5QWNjZXNzb3IgT3B0aW9uYWwgZnVuY3Rpb24gZm9yIGV4dHJhY3Rpbmcgc3RhYmxlIG9iamVjdCBpZGVudGl0eSBmcm9tIGEgdmFsdWVcbiAgICAgKiAgICBpbiB0aGUgYXJyYXkuIFRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZm9yIGVhY2ggZWxlbWVudCBvZiB0aGUgcXVlcnkgcmVzdWx0IGxpc3Qgd2hpbGVcbiAgICAgKiAgICBjb21wYXJpbmcgY3VycmVudCBxdWVyeSBsaXN0IHdpdGggdGhlIG5ldyBvbmUgKHByb3ZpZGVkIGFzIGEgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGByZXNldGBcbiAgICAgKiAgICBmdW5jdGlvbikgdG8gZGV0ZWN0IGlmIHRoZSBsaXN0cyBhcmUgZGlmZmVyZW50LiBJZiB0aGUgZnVuY3Rpb24gaXMgbm90IHByb3ZpZGVkLCBlbGVtZW50c1xuICAgICAqICAgIGFyZSBjb21wYXJlZCBhcyBpcyAod2l0aG91dCBhbnkgcHJlLXByb2Nlc3NpbmcpLlxuICAgICAqL1xuICAgIHJlc2V0KHJlc3VsdHNUcmVlLCBpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgICAgIC8vIENhc3QgdG8gYFF1ZXJ5TGlzdEludGVybmFsYCBzbyB0aGF0IHdlIGNhbiBtdXRhdGUgZmllbGRzIHdoaWNoIGFyZSByZWFkb25seSBmb3IgdGhlIHVzYWdlIG9mXG4gICAgICAgIC8vIFF1ZXJ5TGlzdCAoYnV0IG5vdCBmb3IgUXVlcnlMaXN0IGl0c2VsZi4pXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG5ld1Jlc3VsdEZsYXQgPSBmbGF0dGVuKHJlc3VsdHNUcmVlKTtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNEZXRlY3RlZCA9ICFhcnJheUVxdWFscyhzZWxmLl9yZXN1bHRzLCBuZXdSZXN1bHRGbGF0LCBpZGVudGl0eUFjY2Vzc29yKSkge1xuICAgICAgICAgICAgc2VsZi5fcmVzdWx0cyA9IG5ld1Jlc3VsdEZsYXQ7XG4gICAgICAgICAgICBzZWxmLmxlbmd0aCA9IG5ld1Jlc3VsdEZsYXQubGVuZ3RoO1xuICAgICAgICAgICAgc2VsZi5sYXN0ID0gbmV3UmVzdWx0RmxhdFt0aGlzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgc2VsZi5maXJzdCA9IG5ld1Jlc3VsdEZsYXRbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYSBjaGFuZ2UgZXZlbnQgYnkgZW1pdHRpbmcgb24gdGhlIGBjaGFuZ2VzYCB7QGxpbmsgRXZlbnRFbWl0dGVyfS5cbiAgICAgKi9cbiAgICBub3RpZnlPbkNoYW5nZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzICYmICh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQgfHwgIXRoaXMuX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5KSlcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXMuZW1pdCh0aGlzKTtcbiAgICB9XG4gICAgLyoqIGludGVybmFsICovXG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICAvKiogaW50ZXJuYWwgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuU3ltYm9sLml0ZXJhdG9yO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBlbWJlZGRlZCB0ZW1wbGF0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIGVtYmVkZGVkIHZpZXdzLlxuICogVG8gaW5zdGFudGlhdGUgZW1iZWRkZWQgdmlld3MgYmFzZWQgb24gYSB0ZW1wbGF0ZSwgdXNlIHRoZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqIG1ldGhvZCBgY3JlYXRlRW1iZWRkZWRWaWV3KClgLlxuICpcbiAqIEFjY2VzcyBhIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2UgYnkgcGxhY2luZyBhIGRpcmVjdGl2ZSBvbiBhbiBgPG5nLXRlbXBsYXRlPmBcbiAqIGVsZW1lbnQgKG9yIGRpcmVjdGl2ZSBwcmVmaXhlZCB3aXRoIGAqYCkuIFRoZSBgVGVtcGxhdGVSZWZgIGZvciB0aGUgZW1iZWRkZWQgdmlld1xuICogaXMgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGRpcmVjdGl2ZSxcbiAqIHVzaW5nIHRoZSBgVGVtcGxhdGVSZWZgIHRva2VuLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgYSBgUXVlcnlgIHRvIGZpbmQgYSBgVGVtcGxhdGVSZWZgIGFzc29jaWF0ZWQgd2l0aFxuICogYSBjb21wb25lbnQgb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogQHNlZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqIEBzZWUgW05hdmlnYXRlIHRoZSBDb21wb25lbnQgVHJlZSB3aXRoIERJXShndWlkZS9kZXBlbmRlbmN5LWluamVjdGlvbi1uYXZ0cmVlKVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVtcGxhdGVSZWYge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cblRlbXBsYXRlUmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gaW5qZWN0VGVtcGxhdGVSZWY7XG5jb25zdCBWaWV3RW5naW5lVGVtcGxhdGVSZWYgPSBUZW1wbGF0ZVJlZjtcbi8vIFRPRE8oYWx4aHViKTogY29tYmluZSBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uLiBDdXJyZW50bHkgdGhpcyBpcyBjaGFsbGVuZ2luZyBzaW5jZSBzb21ldGhpbmdcbi8vIGluIGczIGRlcGVuZHMgb24gdGhlbSBiZWluZyBzZXBhcmF0ZS5cbmNvbnN0IFIzVGVtcGxhdGVSZWYgPSBjbGFzcyBUZW1wbGF0ZVJlZiBleHRlbmRzIFZpZXdFbmdpbmVUZW1wbGF0ZVJlZiB7XG4gICAgY29uc3RydWN0b3IoX2RlY2xhcmF0aW9uTFZpZXcsIF9kZWNsYXJhdGlvblRDb250YWluZXIsIGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZGVjbGFyYXRpb25MVmlldyA9IF9kZWNsYXJhdGlvbkxWaWV3O1xuICAgICAgICB0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIgPSBfZGVjbGFyYXRpb25UQ29udGFpbmVyO1xuICAgICAgICB0aGlzLmVsZW1lbnRSZWYgPSBlbGVtZW50UmVmO1xuICAgIH1cbiAgICBjcmVhdGVFbWJlZGRlZFZpZXcoY29udGV4dCkge1xuICAgICAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLnRWaWV3cztcbiAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGNyZWF0ZUxWaWV3KHRoaXMuX2RlY2xhcmF0aW9uTFZpZXcsIGVtYmVkZGVkVFZpZXcsIGNvbnRleHQsIDE2IC8qIENoZWNrQWx3YXlzICovLCBudWxsLCBlbWJlZGRlZFRWaWV3LmRlY2xUTm9kZSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IHRoaXMuX2RlY2xhcmF0aW9uTFZpZXdbdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLmluZGV4XTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25MQ29udGFpbmVyKTtcbiAgICAgICAgZW1iZWRkZWRMVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXSA9IGRlY2xhcmF0aW9uTENvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25WaWV3TFF1ZXJpZXMgPSB0aGlzLl9kZWNsYXJhdGlvbkxWaWV3W1FVRVJJRVNdO1xuICAgICAgICBpZiAoZGVjbGFyYXRpb25WaWV3TFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVtYmVkZGVkTFZpZXdbUVVFUklFU10gPSBkZWNsYXJhdGlvblZpZXdMUXVlcmllcy5jcmVhdGVFbWJlZGRlZFZpZXcoZW1iZWRkZWRUVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyVmlldyhlbWJlZGRlZFRWaWV3LCBlbWJlZGRlZExWaWV3LCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmJDEoZW1iZWRkZWRMVmlldyk7XG4gICAgfVxufTtcbi8qKlxuICogQ3JlYXRlcyBhIFRlbXBsYXRlUmVmIGdpdmVuIGEgbm9kZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgVGVtcGxhdGVSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGluamVjdFRlbXBsYXRlUmVmKCkge1xuICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZihnZXRDdXJyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBUZW1wbGF0ZVJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gaG9zdFROb2RlIFRoZSBub2RlIG9uIHdoaWNoIGEgVGVtcGxhdGVSZWYgaXMgcmVxdWVzdGVkXG4gKiBAcGFyYW0gaG9zdExWaWV3IFRoZSBgTFZpZXdgIHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBUZW1wbGF0ZVJlZiBpbnN0YW5jZSBvciBudWxsIGlmIHdlIGNhbid0IGNyZWF0ZSBhIFRlbXBsYXRlUmVmIG9uIGEgZ2l2ZW4gbm9kZSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlUmVmKGhvc3RUTm9kZSwgaG9zdExWaWV3KSB7XG4gICAgaWYgKGhvc3RUTm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaG9zdFROb2RlLnRWaWV3cywgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgIHJldHVybiBuZXcgUjNUZW1wbGF0ZVJlZihob3N0TFZpZXcsIGhvc3RUTm9kZSwgY3JlYXRlRWxlbWVudFJlZihob3N0VE5vZGUsIGhvc3RMVmlldykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb250YWluZXIgd2hlcmUgb25lIG9yIG1vcmUgdmlld3MgY2FuIGJlIGF0dGFjaGVkIHRvIGEgY29tcG9uZW50LlxuICpcbiAqIENhbiBjb250YWluICpob3N0IHZpZXdzKiAoY3JlYXRlZCBieSBpbnN0YW50aWF0aW5nIGFcbiAqIGNvbXBvbmVudCB3aXRoIHRoZSBgY3JlYXRlQ29tcG9uZW50KClgIG1ldGhvZCksIGFuZCAqZW1iZWRkZWQgdmlld3MqXG4gKiAoY3JlYXRlZCBieSBpbnN0YW50aWF0aW5nIGEgYFRlbXBsYXRlUmVmYCB3aXRoIHRoZSBgY3JlYXRlRW1iZWRkZWRWaWV3KClgIG1ldGhvZCkuXG4gKlxuICogQSB2aWV3IGNvbnRhaW5lciBpbnN0YW5jZSBjYW4gY29udGFpbiBvdGhlciB2aWV3IGNvbnRhaW5lcnMsXG4gKiBjcmVhdGluZyBhIFt2aWV3IGhpZXJhcmNoeV0oZ3VpZGUvZ2xvc3Nhcnkjdmlldy10cmVlKS5cbiAqXG4gKiBAc2VlIGBDb21wb25lbnRSZWZgXG4gKiBAc2VlIGBFbWJlZGRlZFZpZXdSZWZgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBWaWV3Q29udGFpbmVyUmVmIHtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5WaWV3Q29udGFpbmVyUmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gaW5qZWN0Vmlld0NvbnRhaW5lclJlZjtcbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdDb250YWluZXJSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuIE9yLCBpZiB0aGUgVmlld0NvbnRhaW5lclJlZlxuICogYWxyZWFkeSBleGlzdHMsIHJldHJpZXZlcyB0aGUgZXhpc3RpbmcgVmlld0NvbnRhaW5lclJlZi5cbiAqXG4gKiBAcmV0dXJucyBUaGUgVmlld0NvbnRhaW5lclJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0Vmlld0NvbnRhaW5lclJlZigpIHtcbiAgICBjb25zdCBwcmV2aW91c1ROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbnRhaW5lclJlZihwcmV2aW91c1ROb2RlLCBnZXRMVmlldygpKTtcbn1cbmNvbnN0IFZFX1ZpZXdDb250YWluZXJSZWYgPSBWaWV3Q29udGFpbmVyUmVmO1xuLy8gVE9ETyhhbHhodWIpOiBjbGVhbmluZyB1cCB0aGlzIGluZGlyZWN0aW9uIHRyaWdnZXJzIGEgc3VidGxlIGJ1ZyBpbiBDbG9zdXJlIGluIGczLiBPbmNlIHRoZSBmaXhcbi8vIGZvciB0aGF0IGxhbmRzLCB0aGlzIGNhbiBiZSBjbGVhbmVkIHVwLlxuY29uc3QgUjNWaWV3Q29udGFpbmVyUmVmID0gY2xhc3MgVmlld0NvbnRhaW5lclJlZiBleHRlbmRzIFZFX1ZpZXdDb250YWluZXJSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9sQ29udGFpbmVyLCBfaG9zdFROb2RlLCBfaG9zdExWaWV3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xDb250YWluZXIgPSBfbENvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5faG9zdFROb2RlID0gX2hvc3RUTm9kZTtcbiAgICAgICAgdGhpcy5faG9zdExWaWV3ID0gX2hvc3RMVmlldztcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdExWaWV3KTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0aGlzLl9ob3N0VE5vZGUsIHRoaXMuX2hvc3RMVmlldyk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBObyByZXBsYWNlbWVudCAqL1xuICAgIGdldCBwYXJlbnRJbmplY3RvcigpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TG9jYXRpb24gPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdExWaWV3KTtcbiAgICAgICAgaWYgKGhhc1BhcmVudEluamVjdG9yKHBhcmVudExvY2F0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgdGhpcy5faG9zdExWaWV3KTtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlSW5qZWN0b3IocGFyZW50VmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRUTm9kZSA9IHBhcmVudFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IocGFyZW50VE5vZGUsIHBhcmVudFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IobnVsbCwgdGhpcy5faG9zdExWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhpcy5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZnMgPSBnZXRWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWZzICE9PSBudWxsICYmIHZpZXdSZWZzW2luZGV4XSB8fCBudWxsO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbENvbnRhaW5lci5sZW5ndGggLSBDT05UQUlORVJfSEVBREVSX09GRlNFVDtcbiAgICB9XG4gICAgY3JlYXRlRW1iZWRkZWRWaWV3KHRlbXBsYXRlUmVmLCBjb250ZXh0LCBpbmRleCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGVtcGxhdGVSZWYuY3JlYXRlRW1iZWRkZWRWaWV3KGNvbnRleHQgfHwge30pO1xuICAgICAgICB0aGlzLmluc2VydCh2aWV3UmVmLCBpbmRleCk7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICBjcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeU9yVHlwZSwgaW5kZXhPck9wdGlvbnMsIGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCBuZ01vZHVsZVJlZikge1xuICAgICAgICBjb25zdCBpc0NvbXBvbmVudEZhY3RvcnkgPSBjb21wb25lbnRGYWN0b3J5T3JUeXBlICYmICFpc1R5cGUoY29tcG9uZW50RmFjdG9yeU9yVHlwZSk7XG4gICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyAyIHNpZ25hdHVyZXMgYW5kIHdlIG5lZWQgdG8gaGFuZGxlIG9wdGlvbnMgY29ycmVjdGx5IGZvciBib3RoOlxuICAgICAgICAvLyAgIDEuIFdoZW4gZmlyc3QgYXJndW1lbnQgaXMgYSBDb21wb25lbnQgdHlwZS4gVGhpcyBzaWduYXR1cmUgYWxzbyByZXF1aXJlcyBleHRyYVxuICAgICAgICAvLyAgICAgIG9wdGlvbnMgdG8gYmUgcHJvdmlkZWQgYXMgYXMgb2JqZWN0IChtb3JlIGVyZ29ub21pYyBvcHRpb24pLlxuICAgICAgICAvLyAgIDIuIEZpcnN0IGFyZ3VtZW50IGlzIGEgQ29tcG9uZW50IGZhY3RvcnkuIEluIHRoaXMgY2FzZSBleHRyYSBvcHRpb25zIGFyZSByZXByZXNlbnRlZCBhc1xuICAgICAgICAvLyAgICAgIHBvc2l0aW9uYWwgYXJndW1lbnRzLiBUaGlzIHNpZ25hdHVyZSBpcyBsZXNzIGVyZ29ub21pYyBhbmQgd2lsbCBiZSBkZXByZWNhdGVkLlxuICAgICAgICBpZiAoaXNDb21wb25lbnRGYWN0b3J5KSB7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIGluZGV4T3JPcHRpb25zICE9PSAnb2JqZWN0JywgdHJ1ZSwgJ0l0IGxvb2tzIGxpa2UgQ29tcG9uZW50IGZhY3Rvcnkgd2FzIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuZCBhbiBvcHRpb25zIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LiBUaGlzIGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2lzIGluY29tcGF0aWJsZS4gWW91IGNhbiBlaXRoZXIgY2hhbmdlIHRoZSBmaXJzdCBhcmd1bWVudCB0byBwcm92aWRlIENvbXBvbmVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUgb3IgY2hhbmdlIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBudW1iZXIgKHJlcHJlc2VudGluZyBhbiBpbmRleCBhdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3doaWNoIHRvIGluc2VydCB0aGUgbmV3IGNvbXBvbmVudFxcJ3MgaG9zdCB2aWV3IGludG8gdGhpcyBjb250YWluZXIpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCA9IGluZGV4T3JPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgIGFzc2VydERlZmluZWQoZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudEZhY3RvcnlPclR5cGUpLCBgUHJvdmlkZWQgQ29tcG9uZW50IGNsYXNzIGRvZXNuJ3QgY29udGFpbiBDb21wb25lbnQgZGVmaW5pdGlvbi4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgY2hlY2sgd2hldGhlciBwcm92aWRlZCBjbGFzcyBoYXMgQENvbXBvbmVudCBkZWNvcmF0b3IuYCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIGluZGV4T3JPcHRpb25zICE9PSAnbnVtYmVyJywgdHJ1ZSwgJ0l0IGxvb2tzIGxpa2UgQ29tcG9uZW50IHR5cGUgd2FzIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuZCBhIG51bWJlciAocmVwcmVzZW50aW5nIGFuIGluZGV4IGF0IHdoaWNoIHRvIGluc2VydCB0aGUgbmV3IGNvbXBvbmVudFxcJ3MgJyArXG4gICAgICAgICAgICAgICAgICAgICdob3N0IHZpZXcgaW50byB0aGlzIGNvbnRhaW5lciBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LiBUaGlzIGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2lzIGluY29tcGF0aWJsZS4gUGxlYXNlIHVzZSBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IChpbmRleE9yT3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICBpbmRleCA9IG9wdGlvbnMuaW5kZXg7XG4gICAgICAgICAgICBpbmplY3RvciA9IG9wdGlvbnMuaW5qZWN0b3I7XG4gICAgICAgICAgICBwcm9qZWN0YWJsZU5vZGVzID0gb3B0aW9ucy5wcm9qZWN0YWJsZU5vZGVzO1xuICAgICAgICAgICAgbmdNb2R1bGVSZWYgPSBvcHRpb25zLm5nTW9kdWxlUmVmO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSBpc0NvbXBvbmVudEZhY3RvcnkgP1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeU9yVHlwZSA6XG4gICAgICAgICAgICBuZXcgQ29tcG9uZW50RmFjdG9yeShnZXRDb21wb25lbnREZWYoY29tcG9uZW50RmFjdG9yeU9yVHlwZSkpO1xuICAgICAgICBjb25zdCBjb250ZXh0SW5qZWN0b3IgPSBpbmplY3RvciB8fCB0aGlzLnBhcmVudEluamVjdG9yO1xuICAgICAgICAvLyBJZiBhbiBgTmdNb2R1bGVSZWZgIGlzIG5vdCBwcm92aWRlZCBleHBsaWNpdGx5LCB0cnkgcmV0cmlldmluZyBpdCBmcm9tIHRoZSBESSB0cmVlLlxuICAgICAgICBpZiAoIW5nTW9kdWxlUmVmICYmIGNvbXBvbmVudEZhY3RvcnkubmdNb2R1bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBgQ29tcG9uZW50RmFjdG9yeWAgY2FzZSwgZW50ZXJpbmcgdGhpcyBsb2dpYyBpcyB2ZXJ5IHVubGlrZWx5LCBzaW5jZSB3ZSBleHBlY3QgdGhhdFxuICAgICAgICAgICAgLy8gYW4gaW5zdGFuY2Ugb2YgYSBgQ29tcG9uZW50RmFjdG9yeWAsIHJlc29sdmVkIHZpYSBgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyYCB3b3VsZCBoYXZlIGFuXG4gICAgICAgICAgICAvLyBgbmdNb2R1bGVgIGZpZWxkLiBUaGlzIGlzIHBvc3NpYmxlIGluIHNvbWUgdGVzdCBzY2VuYXJpb3MgYW5kIHBvdGVudGlhbGx5IGluIHNvbWUgSklULWJhc2VkXG4gICAgICAgICAgICAvLyB1c2UtY2FzZXMuIEZvciB0aGUgYENvbXBvbmVudEZhY3RvcnlgIGNhc2Ugd2UgcHJlc2VydmUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgYW5kIHRyeVxuICAgICAgICAgICAgLy8gdXNpbmcgYSBwcm92aWRlZCBpbmplY3RvciBmaXJzdCwgdGhlbiBmYWxsIGJhY2sgdG8gdGhlIHBhcmVudCBpbmplY3RvciBvZiB0aGlzXG4gICAgICAgICAgICAvLyBgVmlld0NvbnRhaW5lclJlZmAgaW5zdGFuY2UuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBmYWN0b3J5LWxlc3MgY2FzZSwgaXQncyBjcml0aWNhbCB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIG1vZHVsZVxuICAgICAgICAgICAgLy8gaW5qZWN0b3IgdHJlZSAoYnkgcmV0cmlldmluZyBhbiBpbnN0YW5jZSBvZiBhbiBgTmdNb2R1bGVSZWZgIGFuZCBhY2Nlc3NpbmcgaXRzIGluamVjdG9yKSxcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgYSBjb21wb25lbnQgY2FuIHVzZSBESSB0b2tlbnMgcHJvdmlkZWQgaW4gTWdNb2R1bGVzLiBGb3IgdGhpcyByZWFzb24sIHdlIGNhbiBub3RcbiAgICAgICAgICAgIC8vIHJlbHkgb24gdGhlIHByb3ZpZGVkIGluamVjdG9yLCBzaW5jZSBpdCBtaWdodCBiZSBkZXRhY2hlZCBmcm9tIHRoZSBESSB0cmVlIChmb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICAgIC8vIGl0IHdhcyBjcmVhdGVkIHZpYSBgSW5qZWN0b3IuY3JlYXRlYCB3aXRob3V0IHNwZWNpZnlpbmcgYSBwYXJlbnQgaW5qZWN0b3IsIG9yIGlmIGFuXG4gICAgICAgICAgICAvLyBpbmplY3RvciBpcyByZXRyaWV2ZWQgZnJvbSBhbiBgTmdNb2R1bGVSZWZgIGNyZWF0ZWQgdmlhIGBjcmVhdGVOZ01vZHVsZVJlZmAgdXNpbmcgYW5cbiAgICAgICAgICAgIC8vIE5nTW9kdWxlIG91dHNpZGUgb2YgYSBtb2R1bGUgdHJlZSkuIEluc3RlYWQsIHdlIGFsd2F5cyB1c2UgYFZpZXdDb250YWluZXJSZWZgJ3MgcGFyZW50XG4gICAgICAgICAgICAvLyBpbmplY3Rvciwgd2hpY2ggaXMgbm9ybWFsbHkgY29ubmVjdGVkIHRvIHRoZSBESSB0cmVlLCB3aGljaCBpbmNsdWRlcyBtb2R1bGUgaW5qZWN0b3JcbiAgICAgICAgICAgIC8vIHN1YnRyZWUuXG4gICAgICAgICAgICBjb25zdCBfaW5qZWN0b3IgPSBpc0NvbXBvbmVudEZhY3RvcnkgPyBjb250ZXh0SW5qZWN0b3IgOiB0aGlzLnBhcmVudEluamVjdG9yO1xuICAgICAgICAgICAgLy8gRE8gTk9UIFJFRkFDVE9SLiBUaGUgY29kZSBoZXJlIHVzZWQgdG8gaGF2ZSBhIGBpbmplY3Rvci5nZXQoTmdNb2R1bGVSZWYsIG51bGwpIHx8XG4gICAgICAgICAgICAvLyB1bmRlZmluZWRgIGV4cHJlc3Npb24gd2hpY2ggc2VlbXMgdG8gY2F1c2UgaW50ZXJuYWwgZ29vZ2xlIGFwcHMgdG8gZmFpbC4gVGhpcyBpcyBkb2N1bWVudGVkXG4gICAgICAgICAgICAvLyBpbiB0aGUgZm9sbG93aW5nIGludGVybmFsIGJ1ZyBpc3N1ZTogZ28vYi8xNDI5Njc4MDJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IF9pbmplY3Rvci5nZXQoTmdNb2R1bGVSZWYkMSwgbnVsbCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgbmdNb2R1bGVSZWYgPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoY29udGV4dEluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCB1bmRlZmluZWQsIG5nTW9kdWxlUmVmKTtcbiAgICAgICAgdGhpcy5pbnNlcnQoY29tcG9uZW50UmVmLmhvc3RWaWV3LCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIGluc2VydCh2aWV3UmVmLCBpbmRleCkge1xuICAgICAgICBjb25zdCBsVmlldyA9IHZpZXdSZWYuX2xWaWV3O1xuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiB2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW5zZXJ0IGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWV3QXR0YWNoZWRUb0NvbnRhaW5lcihsVmlldykpIHtcbiAgICAgICAgICAgIC8vIElmIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCwgZGV0YWNoIGl0IGZpcnN0IHNvIHdlIGNsZWFuIHVwIHJlZmVyZW5jZXMgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgICAgIGNvbnN0IHByZXZJZHggPSB0aGlzLmluZGV4T2Yodmlld1JlZik7XG4gICAgICAgICAgICAvLyBBIHZpZXcgbWlnaHQgYmUgYXR0YWNoZWQgZWl0aGVyIHRvIHRoaXMgb3IgYSBkaWZmZXJlbnQgY29udGFpbmVyLiBUaGUgYHByZXZJZHhgIGZvclxuICAgICAgICAgICAgLy8gdGhvc2UgY2FzZXMgd2lsbCBiZTpcbiAgICAgICAgICAgIC8vIGVxdWFsIHRvIC0xIGZvciB2aWV3cyBhdHRhY2hlZCB0byB0aGlzIFZpZXdDb250YWluZXJSZWZcbiAgICAgICAgICAgIC8vID49IDAgZm9yIHZpZXdzIGF0dGFjaGVkIHRvIGEgZGlmZmVyZW50IFZpZXdDb250YWluZXJSZWZcbiAgICAgICAgICAgIGlmIChwcmV2SWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKHByZXZJZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkxDb250YWluZXIgPSBsVmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChpc0xDb250YWluZXIocHJldkxDb250YWluZXIpLCB0cnVlLCAnQW4gYXR0YWNoZWQgdmlldyBzaG91bGQgaGF2ZSBpdHMgUEFSRU5UIHBvaW50IHRvIGEgY29udGFpbmVyLicpO1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcmUtY3JlYXRlIGEgUjNWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHNpbmNlIHRob3NlIGFyZSBub3Qgc3RvcmVkIG9uXG4gICAgICAgICAgICAgICAgLy8gTFZpZXcgKG5vciBhbnl3aGVyZSBlbHNlKS5cbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VkNSZWYgPSBuZXcgUjNWaWV3Q29udGFpbmVyUmVmKHByZXZMQ29udGFpbmVyLCBwcmV2TENvbnRhaW5lcltUX0hPU1RdLCBwcmV2TENvbnRhaW5lcltQQVJFTlRdKTtcbiAgICAgICAgICAgICAgICBwcmV2VkNSZWYuZGV0YWNoKHByZXZWQ1JlZi5pbmRleE9mKHZpZXdSZWYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMb2dpY2FsIG9wZXJhdGlvbiBvZiBhZGRpbmcgYExWaWV3YCB0byBgTENvbnRhaW5lcmBcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRJZHggPSB0aGlzLl9hZGp1c3RJbmRleChpbmRleCk7XG4gICAgICAgIGNvbnN0IGxDb250YWluZXIgPSB0aGlzLl9sQ29udGFpbmVyO1xuICAgICAgICBpbnNlcnRWaWV3KHRWaWV3LCBsVmlldywgbENvbnRhaW5lciwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICAvLyBQaHlzaWNhbCBvcGVyYXRpb24gb2YgYWRkaW5nIHRoZSBET00gbm9kZXMuXG4gICAgICAgIGNvbnN0IGJlZm9yZU5vZGUgPSBnZXRCZWZvcmVOb2RlRm9yVmlldyhhZGp1c3RlZElkeCwgbENvbnRhaW5lcik7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgICAgICBjb25zdCBwYXJlbnRSTm9kZSA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIGxDb250YWluZXJbTkFUSVZFXSk7XG4gICAgICAgIGlmIChwYXJlbnRSTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYWRkVmlld1RvQ29udGFpbmVyKHRWaWV3LCBsQ29udGFpbmVyW1RfSE9TVF0sIHJlbmRlcmVyLCBsVmlldywgcGFyZW50Uk5vZGUsIGJlZm9yZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdSZWYuYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKCk7XG4gICAgICAgIGFkZFRvQXJyYXkoZ2V0T3JDcmVhdGVWaWV3UmVmcyhsQ29udGFpbmVyKSwgYWRqdXN0ZWRJZHgsIHZpZXdSZWYpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgbW92ZSh2aWV3UmVmLCBuZXdJbmRleCkge1xuICAgICAgICBpZiAobmdEZXZNb2RlICYmIHZpZXdSZWYuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtb3ZlIGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydCh2aWV3UmVmLCBuZXdJbmRleCk7XG4gICAgfVxuICAgIGluZGV4T2Yodmlld1JlZikge1xuICAgICAgICBjb25zdCB2aWV3UmVmc0FyciA9IGdldFZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gdmlld1JlZnNBcnIgIT09IG51bGwgPyB2aWV3UmVmc0Fyci5pbmRleE9mKHZpZXdSZWYpIDogLTE7XG4gICAgfVxuICAgIHJlbW92ZShpbmRleCkge1xuICAgICAgICBjb25zdCBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4LCAtMSk7XG4gICAgICAgIGNvbnN0IGRldGFjaGVkVmlldyA9IGRldGFjaFZpZXcodGhpcy5fbENvbnRhaW5lciwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICBpZiAoZGV0YWNoZWRWaWV3KSB7XG4gICAgICAgICAgICAvLyBCZWZvcmUgZGVzdHJveWluZyB0aGUgdmlldywgcmVtb3ZlIGl0IGZyb20gdGhlIGNvbnRhaW5lcidzIGFycmF5IG9mIGBWaWV3UmVmYHMuXG4gICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIHZpZXcgY29udGFpbmVyIGxlbmd0aCBpcyB1cGRhdGVkIGJlZm9yZSBjYWxsaW5nXG4gICAgICAgICAgICAvLyBgZGVzdHJveUxWaWV3YCwgd2hpY2ggY291bGQgcmVjdXJzaXZlbHkgY2FsbCB2aWV3IGNvbnRhaW5lciBtZXRob2RzIHRoYXRcbiAgICAgICAgICAgIC8vIHJlbHkgb24gYW4gYWNjdXJhdGUgY29udGFpbmVyIGxlbmd0aC5cbiAgICAgICAgICAgIC8vIChlLmcuIGEgbWV0aG9kIG9uIHRoaXMgdmlldyBjb250YWluZXIgYmVpbmcgY2FsbGVkIGJ5IGEgY2hpbGQgZGlyZWN0aXZlJ3MgT25EZXN0cm95XG4gICAgICAgICAgICAvLyBsaWZlY3ljbGUgaG9vaylcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShnZXRPckNyZWF0ZVZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpLCBhZGp1c3RlZElkeCk7XG4gICAgICAgICAgICBkZXN0cm95TFZpZXcoZGV0YWNoZWRWaWV3W1RWSUVXXSwgZGV0YWNoZWRWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXRhY2goaW5kZXgpIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRJZHggPSB0aGlzLl9hZGp1c3RJbmRleChpbmRleCwgLTEpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZGV0YWNoVmlldyh0aGlzLl9sQ29udGFpbmVyLCBhZGp1c3RlZElkeCk7XG4gICAgICAgIGNvbnN0IHdhc0RldGFjaGVkID0gdmlldyAmJiByZW1vdmVGcm9tQXJyYXkoZ2V0T3JDcmVhdGVWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKSwgYWRqdXN0ZWRJZHgpICE9IG51bGw7XG4gICAgICAgIHJldHVybiB3YXNEZXRhY2hlZCA/IG5ldyBWaWV3UmVmJDEodmlldykgOiBudWxsO1xuICAgIH1cbiAgICBfYWRqdXN0SW5kZXgoaW5kZXgsIHNoaWZ0ID0gMCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoICsgc2hpZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW4oaW5kZXgsIC0xLCBgVmlld1JlZiBpbmRleCBtdXN0IGJlIHBvc2l0aXZlLCBnb3QgJHtpbmRleH1gKTtcbiAgICAgICAgICAgIC8vICsxIGJlY2F1c2UgaXQncyBsZWdhbCB0byBpbnNlcnQgYXQgdGhlIGVuZC5cbiAgICAgICAgICAgIGFzc2VydExlc3NUaGFuKGluZGV4LCB0aGlzLmxlbmd0aCArIDEgKyBzaGlmdCwgJ2luZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn07XG5mdW5jdGlvbiBnZXRWaWV3UmVmcyhsQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGxDb250YWluZXJbVklFV19SRUZTXTtcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVmlld1JlZnMobENvbnRhaW5lcikge1xuICAgIHJldHVybiAobENvbnRhaW5lcltWSUVXX1JFRlNdIHx8IChsQ29udGFpbmVyW1ZJRVdfUkVGU10gPSBbXSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVmlld0NvbnRhaW5lclJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gVmlld0NvbnRhaW5lclJlZlRva2VuIFRoZSBWaWV3Q29udGFpbmVyUmVmIHR5cGVcbiAqIEBwYXJhbSBFbGVtZW50UmVmVG9rZW4gVGhlIEVsZW1lbnRSZWYgdHlwZVxuICogQHBhcmFtIGhvc3RUTm9kZSBUaGUgbm9kZSB0aGF0IGlzIHJlcXVlc3RpbmcgYSBWaWV3Q29udGFpbmVyUmVmXG4gKiBAcGFyYW0gaG9zdExWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXJSZWYoaG9zdFROb2RlLCBob3N0TFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKGhvc3RUTm9kZSwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMyAvKiBBbnlSTm9kZSAqLyk7XG4gICAgbGV0IGxDb250YWluZXI7XG4gICAgY29uc3Qgc2xvdFZhbHVlID0gaG9zdExWaWV3W2hvc3RUTm9kZS5pbmRleF07XG4gICAgaWYgKGlzTENvbnRhaW5lcihzbG90VmFsdWUpKSB7XG4gICAgICAgIC8vIElmIHRoZSBob3N0IGlzIGEgY29udGFpbmVyLCB3ZSBkb24ndCBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBMQ29udGFpbmVyXG4gICAgICAgIGxDb250YWluZXIgPSBzbG90VmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgY29tbWVudE5vZGU7XG4gICAgICAgIC8vIElmIHRoZSBob3N0IGlzIGFuIGVsZW1lbnQgY29udGFpbmVyLCB0aGUgbmF0aXZlIGhvc3QgZWxlbWVudCBpcyBndWFyYW50ZWVkIHRvIGJlIGFcbiAgICAgICAgLy8gY29tbWVudCBhbmQgd2UgY2FuIHJldXNlIHRoYXQgY29tbWVudCBhcyBhbmNob3IgZWxlbWVudCBmb3IgdGhlIG5ldyBMQ29udGFpbmVyLlxuICAgICAgICAvLyBUaGUgY29tbWVudCBub2RlIGluIHF1ZXN0aW9uIGlzIGFscmVhZHkgcGFydCBvZiB0aGUgRE9NIHN0cnVjdHVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIGFwcGVuZFxuICAgICAgICAvLyBpdCBhZ2Fpbi5cbiAgICAgICAgaWYgKGhvc3RUTm9kZS50eXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjb21tZW50Tm9kZSA9IHVud3JhcFJOb2RlKHNsb3RWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhIHJlZ3VsYXIgZWxlbWVudCwgd2UgaGF2ZSB0byBpbnNlcnQgYSBjb21tZW50IG5vZGUgbWFudWFsbHkgd2hpY2ggd2lsbFxuICAgICAgICAgICAgLy8gYmUgdXNlZCBhcyBhbiBhbmNob3Igd2hlbiBpbnNlcnRpbmcgZWxlbWVudHMuIEluIHRoaXMgc3BlY2lmaWMgY2FzZSB3ZSB1c2UgbG93LWxldmVsIERPTVxuICAgICAgICAgICAgLy8gbWFuaXB1bGF0aW9uIHRvIGluc2VydCBpdC5cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gaG9zdExWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVDb21tZW50Kys7XG4gICAgICAgICAgICBjb21tZW50Tm9kZSA9IHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ2NvbnRhaW5lcicgOiAnJyk7XG4gICAgICAgICAgICBjb25zdCBob3N0TmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShob3N0VE5vZGUsIGhvc3RMVmlldyk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRPZkhvc3ROYXRpdmUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBob3N0TmF0aXZlKTtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50T2ZIb3N0TmF0aXZlLCBjb21tZW50Tm9kZSwgbmF0aXZlTmV4dFNpYmxpbmcocmVuZGVyZXIsIGhvc3ROYXRpdmUpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdExWaWV3W2hvc3RUTm9kZS5pbmRleF0gPSBsQ29udGFpbmVyID1cbiAgICAgICAgICAgIGNyZWF0ZUxDb250YWluZXIoc2xvdFZhbHVlLCBob3N0TFZpZXcsIGNvbW1lbnROb2RlLCBob3N0VE5vZGUpO1xuICAgICAgICBhZGRUb1ZpZXdUcmVlKGhvc3RMVmlldywgbENvbnRhaW5lcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUjNWaWV3Q29udGFpbmVyUmVmKGxDb250YWluZXIsIGhvc3RUTm9kZSwgaG9zdExWaWV3KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQxID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgdW51c2VkVmFsdWVUb1BsYWNhdGVBamQgPSB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQxICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNSArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDQgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZDtcbmNsYXNzIExRdWVyeV8ge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJ5TGlzdCkge1xuICAgICAgICB0aGlzLnF1ZXJ5TGlzdCA9IHF1ZXJ5TGlzdDtcbiAgICAgICAgdGhpcy5tYXRjaGVzID0gbnVsbDtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTFF1ZXJ5Xyh0aGlzLnF1ZXJ5TGlzdCk7XG4gICAgfVxuICAgIHNldERpcnR5KCkge1xuICAgICAgICB0aGlzLnF1ZXJ5TGlzdC5zZXREaXJ0eSgpO1xuICAgIH1cbn1cbmNsYXNzIExRdWVyaWVzXyB7XG4gICAgY29uc3RydWN0b3IocXVlcmllcyA9IFtdKSB7XG4gICAgICAgIHRoaXMucXVlcmllcyA9IHF1ZXJpZXM7XG4gICAgfVxuICAgIGNyZWF0ZUVtYmVkZGVkVmlldyh0Vmlldykge1xuICAgICAgICBjb25zdCB0UXVlcmllcyA9IHRWaWV3LnF1ZXJpZXM7XG4gICAgICAgIGlmICh0UXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgbm9PZkluaGVyaXRlZFF1ZXJpZXMgPSB0Vmlldy5jb250ZW50UXVlcmllcyAhPT0gbnVsbCA/IHRWaWV3LmNvbnRlbnRRdWVyaWVzWzBdIDogdFF1ZXJpZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3Qgdmlld0xRdWVyaWVzID0gW107XG4gICAgICAgICAgICAvLyBBbiBlbWJlZGRlZCB2aWV3IGhhcyBxdWVyaWVzIHByb3BhZ2F0ZWQgZnJvbSBhIGRlY2xhcmF0aW9uIHZpZXcgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICAgICAgICAgIC8vIFRRdWVyaWVzIGNvbGxlY3Rpb24gYW5kIHVwIHVudGlsIGEgZmlyc3QgY29udGVudCBxdWVyeSBkZWNsYXJlZCBpbiB0aGUgZW1iZWRkZWQgdmlldy4gT25seVxuICAgICAgICAgICAgLy8gcHJvcGFnYXRlZCBMUXVlcmllcyBhcmUgY3JlYXRlZCBhdCB0aGlzIHBvaW50IChMUXVlcnkgY29ycmVzcG9uZGluZyB0byBkZWNsYXJlZCBjb250ZW50XG4gICAgICAgICAgICAvLyBxdWVyaWVzIHdpbGwgYmUgaW5zdGFudGlhdGVkIGZyb20gdGhlIGNvbnRlbnQgcXVlcnkgaW5zdHJ1Y3Rpb25zIGZvciBlYWNoIGRpcmVjdGl2ZSkuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vT2ZJbmhlcml0ZWRRdWVyaWVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0UXVlcnkgPSB0UXVlcmllcy5nZXRCeUluZGV4KGkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudExRdWVyeSA9IHRoaXMucXVlcmllc1t0UXVlcnkuaW5kZXhJbkRlY2xhcmF0aW9uVmlld107XG4gICAgICAgICAgICAgICAgdmlld0xRdWVyaWVzLnB1c2gocGFyZW50TFF1ZXJ5LmNsb25lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMUXVlcmllc18odmlld0xRdWVyaWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5zZXJ0Vmlldyh0Vmlldykge1xuICAgICAgICB0aGlzLmRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHRWaWV3KTtcbiAgICB9XG4gICAgZGV0YWNoVmlldyh0Vmlldykge1xuICAgICAgICB0aGlzLmRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHRWaWV3KTtcbiAgICB9XG4gICAgZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModFZpZXcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChnZXRUUXVlcnkodFZpZXcsIGkpLm1hdGNoZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0uc2V0RGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFRRdWVyeU1ldGFkYXRhXyB7XG4gICAgY29uc3RydWN0b3IocHJlZGljYXRlLCBmbGFncywgcmVhZCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5yZWFkID0gcmVhZDtcbiAgICB9XG59XG5jbGFzcyBUUXVlcmllc18ge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJpZXMgPSBbXSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgIH1cbiAgICBlbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3LCAnUXVlcmllcyBzaG91bGQgY29sbGVjdCByZXN1bHRzIG9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVlcmllc1tpXS5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50RW5kKHROb2RlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0uZWxlbWVudEVuZCh0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1iZWRkZWRUVmlldyh0Tm9kZSkge1xuICAgICAgICBsZXQgcXVlcmllc0ZvclRlbXBsYXRlUmVmID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFF1ZXJ5SW5kZXggPSBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgIT09IG51bGwgPyBxdWVyaWVzRm9yVGVtcGxhdGVSZWYubGVuZ3RoIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHRxdWVyeUNsb25lID0gdGhpcy5nZXRCeUluZGV4KGkpLmVtYmVkZGVkVFZpZXcodE5vZGUsIGNoaWxkUXVlcnlJbmRleCk7XG4gICAgICAgICAgICBpZiAodHF1ZXJ5Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICB0cXVlcnlDbG9uZS5pbmRleEluRGVjbGFyYXRpb25WaWV3ID0gaTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcmllc0ZvclRlbXBsYXRlUmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZi5wdXNoKHRxdWVyeUNsb25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiA9IFt0cXVlcnlDbG9uZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgIT09IG51bGwgPyBuZXcgVFF1ZXJpZXNfKHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZikgOiBudWxsO1xuICAgIH1cbiAgICB0ZW1wbGF0ZSh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcsICdRdWVyaWVzIHNob3VsZCBjb2xsZWN0IHJlc3VsdHMgb24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3Mgb25seScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLnRlbXBsYXRlKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QnlJbmRleChpbmRleCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHRoaXMucXVlcmllcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyaWVzW2luZGV4XTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcmllcy5sZW5ndGg7XG4gICAgfVxuICAgIHRyYWNrKHRxdWVyeSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMucHVzaCh0cXVlcnkpO1xuICAgIH1cbn1cbmNsYXNzIFRRdWVyeV8ge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBub2RlSW5kZXggPSAtMSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMubWF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldyA9IC0xO1xuICAgICAgICB0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWcgaW5kaWNhdGluZyBpZiBhIGdpdmVuIHF1ZXJ5IHN0aWxsIGFwcGxpZXMgdG8gbm9kZXMgaXQgaXMgY3Jvc3NpbmcuIFdlIHVzZSB0aGlzIGZsYWdcbiAgICAgICAgICogKGFsb25nc2lkZSB3aXRoIF9kZWNsYXJhdGlvbk5vZGVJbmRleCkgdG8ga25vdyB3aGVuIHRvIHN0b3AgYXBwbHlpbmcgY29udGVudCBxdWVyaWVzIHRvXG4gICAgICAgICAqIGVsZW1lbnRzIGluIGEgdGVtcGxhdGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4ID0gbm9kZUluZGV4O1xuICAgIH1cbiAgICBlbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQXBwbHlpbmdUb05vZGUodE5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGUodFZpZXcsIHROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50RW5kKHROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleCA9PT0gdE5vZGUuaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGxpZXNUb05leHROb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGVtcGxhdGUodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgfVxuICAgIGVtYmVkZGVkVFZpZXcodE5vZGUsIGNoaWxkUXVlcnlJbmRleCkge1xuICAgICAgICBpZiAodGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHROb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBBIG1hcmtlciBpbmRpY2F0aW5nIGEgYDxuZy10ZW1wbGF0ZT5gIGVsZW1lbnQgKGEgcGxhY2Vob2xkZXIgZm9yIHF1ZXJ5IHJlc3VsdHMgZnJvbVxuICAgICAgICAgICAgLy8gZW1iZWRkZWQgdmlld3MgY3JlYXRlZCBiYXNlZCBvbiB0aGlzIGA8bmctdGVtcGxhdGU+YCkuXG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoKC10Tm9kZS5pbmRleCwgY2hpbGRRdWVyeUluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVFF1ZXJ5Xyh0aGlzLm1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaXNBcHBseWluZ1RvTm9kZSh0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5fYXBwbGllc1RvTmV4dE5vZGUgJiZcbiAgICAgICAgICAgICh0aGlzLm1ldGFkYXRhLmZsYWdzICYgMSAvKiBkZXNjZW5kYW50cyAqLykgIT09IDEgLyogZGVzY2VuZGFudHMgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTm9kZUlkeCA9IHRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4O1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHROb2RlLnBhcmVudDtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBpZiBhIGdpdmVuIFROb2RlIGlzIGEgXCJkaXJlY3RcIiBjaGlsZCBvZiBhIG5vZGUgb24gd2hpY2ggYSBjb250ZW50IHF1ZXJ5IHdhc1xuICAgICAgICAgICAgLy8gZGVjbGFyZWQgKG9ubHkgZGlyZWN0IGNoaWxkcmVuIG9mIHF1ZXJ5J3MgaG9zdCBub2RlIGNhbiBtYXRjaCB3aXRoIHRoZSBkZXNjZW5kYW50czogZmFsc2VcbiAgICAgICAgICAgIC8vIG9wdGlvbikuIFRoZXJlIGFyZSAzIG1haW4gdXNlLWNhc2UgLyBjb25kaXRpb25zIHRvIGNvbnNpZGVyIGhlcmU6XG4gICAgICAgICAgICAvLyAtIDxuZWVkcy10YXJnZXQ+PGkgI3RhcmdldD48L2k+PC9uZWVkcy10YXJnZXQ+OiBoZXJlIDxpICN0YXJnZXQ+IHBhcmVudCBub2RlIGlzIGEgcXVlcnlcbiAgICAgICAgICAgIC8vIGhvc3Qgbm9kZTtcbiAgICAgICAgICAgIC8vIC0gPG5lZWRzLXRhcmdldD48bmctdGVtcGxhdGUgW25nSWZdPVwidHJ1ZVwiPjxpICN0YXJnZXQ+PC9pPjwvbmctdGVtcGxhdGU+PC9uZWVkcy10YXJnZXQ+OlxuICAgICAgICAgICAgLy8gaGVyZSA8aSAjdGFyZ2V0PiBwYXJlbnQgbm9kZSBpcyBudWxsO1xuICAgICAgICAgICAgLy8gLSA8bmVlZHMtdGFyZ2V0PjxuZy1jb250YWluZXI+PGkgI3RhcmdldD48L2k+PC9uZy1jb250YWluZXI+PC9uZWVkcy10YXJnZXQ+OiBoZXJlIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGdvIHBhc3QgYDxuZy1jb250YWluZXI+YCB0byBkZXRlcm1pbmUgPGkgI3RhcmdldD4gcGFyZW50IG5vZGUgKGJ1dCB3ZSBzaG91bGRuJ3QgdHJhdmVyc2VcbiAgICAgICAgICAgIC8vIHVwIHBhc3QgdGhlIHF1ZXJ5J3MgaG9zdCBub2RlISkuXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQudHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykgJiZcbiAgICAgICAgICAgICAgICBwYXJlbnQuaW5kZXggIT09IGRlY2xhcmF0aW9uTm9kZUlkeCkge1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjbGFyYXRpb25Ob2RlSWR4ID09PSAocGFyZW50ICE9PSBudWxsID8gcGFyZW50LmluZGV4IDogLTEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZTtcbiAgICB9XG4gICAgbWF0Y2hUTm9kZSh0VmlldywgdE5vZGUpIHtcbiAgICAgICAgY29uc3QgcHJlZGljYXRlID0gdGhpcy5tZXRhZGF0YS5wcmVkaWNhdGU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByZWRpY2F0ZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZGljYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHByZWRpY2F0ZVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIGdldElkeE9mTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgbmFtZSkpO1xuICAgICAgICAgICAgICAgIC8vIEFsc28gdHJ5IG1hdGNoaW5nIHRoZSBuYW1lIHRvIGEgcHJvdmlkZXIgc2luY2Ugc3RyaW5ncyBjYW4gYmUgdXNlZCBhcyBESSB0b2tlbnMgdG9vLlxuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIG5hbWUsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSA9PT0gVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgICAgICBpZiAodE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgLTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgdFZpZXcsIHByZWRpY2F0ZSwgZmFsc2UsIGZhbHNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHRWaWV3LCB0Tm9kZSwgbm9kZU1hdGNoSWR4KSB7XG4gICAgICAgIGlmIChub2RlTWF0Y2hJZHggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWQgPSB0aGlzLm1ldGFkYXRhLnJlYWQ7XG4gICAgICAgICAgICBpZiAocmVhZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWFkID09PSBFbGVtZW50UmVmIHx8IHJlYWQgPT09IFZpZXdDb250YWluZXJSZWYgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVhZCA9PT0gVGVtcGxhdGVSZWYgJiYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCh0Tm9kZS5pbmRleCwgLTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlT3JQcm92aWRlcklkeCA9IGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCByZWFkLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aXZlT3JQcm92aWRlcklkeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCh0Tm9kZS5pbmRleCwgZGlyZWN0aXZlT3JQcm92aWRlcklkeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE1hdGNoKHROb2RlLmluZGV4LCBub2RlTWF0Y2hJZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZE1hdGNoKHROb2RlSWR4LCBtYXRjaElkeCkge1xuICAgICAgICBpZiAodGhpcy5tYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBbdE5vZGVJZHgsIG1hdGNoSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hlcy5wdXNoKHROb2RlSWR4LCBtYXRjaElkeCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgbG9jYWwgbmFtZXMgZm9yIGEgZ2l2ZW4gbm9kZSBhbmQgcmV0dXJucyBkaXJlY3RpdmUgaW5kZXhcbiAqIChvciAtMSBpZiBhIGxvY2FsIG5hbWUgcG9pbnRzIHRvIGFuIGVsZW1lbnQpLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBzdGF0aWMgZGF0YSBvZiBhIG5vZGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBzZWxlY3RvciBzZWxlY3RvciB0byBtYXRjaFxuICogQHJldHVybnMgZGlyZWN0aXZlIGluZGV4LCAtMSBvciBudWxsIGlmIGEgc2VsZWN0b3IgZGlkbid0IG1hdGNoIGFueSBvZiB0aGUgbG9jYWwgbmFtZXNcbiAqL1xuZnVuY3Rpb24gZ2V0SWR4T2ZNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzO1xuICAgIGlmIChsb2NhbE5hbWVzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKGxvY2FsTmFtZXNbaV0gPT09IHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsTmFtZXNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVzdWx0QnlUTm9kZVR5cGUodE5vZGUsIGN1cnJlbnRWaWV3KSB7XG4gICAgaWYgKHROb2RlLnR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDggLyogRWxlbWVudENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYodE5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZih0Tm9kZSwgY3VycmVudFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlc3VsdEZvck5vZGUobFZpZXcsIHROb2RlLCBtYXRjaGluZ0lkeCwgcmVhZCkge1xuICAgIGlmIChtYXRjaGluZ0lkeCA9PT0gLTEpIHtcbiAgICAgICAgLy8gaWYgcmVhZCB0b2tlbiBhbmQgLyBvciBzdHJhdGVneSBpcyBub3Qgc3BlY2lmaWVkLCBkZXRlY3QgaXQgdXNpbmcgYXBwcm9wcmlhdGUgdE5vZGUgdHlwZVxuICAgICAgICByZXR1cm4gY3JlYXRlUmVzdWx0QnlUTm9kZVR5cGUodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF0Y2hpbmdJZHggPT09IC0yKSB7XG4gICAgICAgIC8vIHJlYWQgYSBzcGVjaWFsIHRva2VuIGZyb20gYSBub2RlIGluamVjdG9yXG4gICAgICAgIHJldHVybiBjcmVhdGVTcGVjaWFsVG9rZW4obFZpZXcsIHROb2RlLCByZWFkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHJlYWQgYSB0b2tlblxuICAgICAgICByZXR1cm4gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIGxWaWV3W1RWSUVXXSwgbWF0Y2hpbmdJZHgsIHROb2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTcGVjaWFsVG9rZW4obFZpZXcsIHROb2RlLCByZWFkKSB7XG4gICAgaWYgKHJlYWQgPT09IEVsZW1lbnRSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVhZCA9PT0gVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlYWQgPT09IFZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb250YWluZXJSZWYodE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgdGhyb3dFcnJvcihgU3BlY2lhbCB0b2tlbiB0byByZWFkIHNob3VsZCBiZSBvbmUgb2YgRWxlbWVudFJlZiwgVGVtcGxhdGVSZWYgb3IgVmlld0NvbnRhaW5lclJlZiBidXQgZ290ICR7c3RyaW5naWZ5KHJlYWQpfS5gKTtcbiAgICB9XG59XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBxdWVyeSByZXN1bHRzIGZvciBhIGdpdmVuIHZpZXcuIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgdG8gZG8gdGhlXG4gKiBwcm9jZXNzaW5nIG9uY2UgYW5kIG9ubHkgb25jZSBmb3IgYSBnaXZlbiB2aWV3IGluc3RhbmNlIChhIHNldCBvZiByZXN1bHRzIGZvciBhIGdpdmVuIHZpZXdcbiAqIGRvZXNuJ3QgY2hhbmdlKS5cbiAqL1xuZnVuY3Rpb24gbWF0ZXJpYWxpemVWaWV3UmVzdWx0cyh0VmlldywgbFZpZXcsIHRRdWVyeSwgcXVlcnlJbmRleCkge1xuICAgIGNvbnN0IGxRdWVyeSA9IGxWaWV3W1FVRVJJRVNdLnF1ZXJpZXNbcXVlcnlJbmRleF07XG4gICAgaWYgKGxRdWVyeS5tYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgICAgIGNvbnN0IHRRdWVyeU1hdGNoZXMgPSB0UXVlcnkubWF0Y2hlcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdFF1ZXJ5TWF0Y2hlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZE5vZGVJZHggPSB0UXVlcnlNYXRjaGVzW2ldO1xuICAgICAgICAgICAgaWYgKG1hdGNoZWROb2RlSWR4IDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGF0IHRoZSA8bmctdGVtcGxhdGU+IG1hcmtlciB3aGljaCBtaWdodCBoYXZlIHJlc3VsdHMgaW4gdmlld3MgY3JlYXRlZCBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gPG5nLXRlbXBsYXRlPiAtIHRob3NlIHJlc3VsdHMgd2lsbCBiZSBpbiBzZXBhcmF0ZSB2aWV3cyB0aG91Z2gsIHNvIGhlcmUgd2UganVzdCBsZWF2ZVxuICAgICAgICAgICAgICAgIC8vIG51bGwgYXMgYSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh0Vmlld0RhdGEsIG1hdGNoZWROb2RlSWR4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0Tm9kZSA9IHRWaWV3RGF0YVttYXRjaGVkTm9kZUlkeF07XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3JlYXRlUmVzdWx0Rm9yTm9kZShsVmlldywgdE5vZGUsIHRRdWVyeU1hdGNoZXNbaSArIDFdLCB0UXVlcnkubWV0YWRhdGEucmVhZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxRdWVyeS5tYXRjaGVzID0gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbFF1ZXJ5Lm1hdGNoZXM7XG59XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgY29sbGVjdHMgKGFscmVhZHkgbWF0ZXJpYWxpemVkKSBxdWVyeSByZXN1bHRzIGZyb20gYSB0cmVlIG9mIHZpZXdzLFxuICogc3RhcnRpbmcgd2l0aCBhIHByb3ZpZGVkIExWaWV3LlxuICovXG5mdW5jdGlvbiBjb2xsZWN0UXVlcnlSZXN1bHRzKHRWaWV3LCBsVmlldywgcXVlcnlJbmRleCwgcmVzdWx0KSB7XG4gICAgY29uc3QgdFF1ZXJ5ID0gdFZpZXcucXVlcmllcy5nZXRCeUluZGV4KHF1ZXJ5SW5kZXgpO1xuICAgIGNvbnN0IHRRdWVyeU1hdGNoZXMgPSB0UXVlcnkubWF0Y2hlcztcbiAgICBpZiAodFF1ZXJ5TWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBsVmlld1Jlc3VsdHMgPSBtYXRlcmlhbGl6ZVZpZXdSZXN1bHRzKHRWaWV3LCBsVmlldywgdFF1ZXJ5LCBxdWVyeUluZGV4KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0UXVlcnlNYXRjaGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCB0Tm9kZUlkeCA9IHRRdWVyeU1hdGNoZXNbaV07XG4gICAgICAgICAgICBpZiAodE5vZGVJZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobFZpZXdSZXN1bHRzW2kgLyAyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFF1ZXJ5SW5kZXggPSB0UXVlcnlNYXRjaGVzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNsYXJhdGlvbkxDb250YWluZXIgPSBsVmlld1stdE5vZGVJZHhdO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGRlY2xhcmF0aW9uTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdCBtYXRjaGVzIGZvciB2aWV3cyBpbnNlcnRlZCBpbiB0aGlzIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGRlY2xhcmF0aW9uTENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gZGVjbGFyYXRpb25MQ29udGFpbmVyW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW1iZWRkZWRMVmlld1tERUNMQVJBVElPTl9MQ09OVEFJTkVSXSA9PT0gZW1iZWRkZWRMVmlld1tQQVJFTlRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0UXVlcnlSZXN1bHRzKGVtYmVkZGVkTFZpZXdbVFZJRVddLCBlbWJlZGRlZExWaWV3LCBjaGlsZFF1ZXJ5SW5kZXgsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdCBtYXRjaGVzIGZvciB2aWV3cyBjcmVhdGVkIGZyb20gdGhpcyBkZWNsYXJhdGlvbiBjb250YWluZXIgYW5kIGluc2VydGVkIGludG9cbiAgICAgICAgICAgICAgICAvLyBkaWZmZXJlbnQgY29udGFpbmVyc1xuICAgICAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkxDb250YWluZXJbTU9WRURfVklFV1NdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXdzID0gZGVjbGFyYXRpb25MQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbWJlZGRlZExWaWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGVtYmVkZGVkTFZpZXdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFF1ZXJ5UmVzdWx0cyhlbWJlZGRlZExWaWV3W1RWSUVXXSwgZW1iZWRkZWRMVmlldywgY2hpbGRRdWVyeUluZGV4LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFJlZnJlc2hlcyBhIHF1ZXJ5IGJ5IGNvbWJpbmluZyBtYXRjaGVzIGZyb20gYWxsIGFjdGl2ZSB2aWV3cyBhbmQgcmVtb3ZpbmcgbWF0Y2hlcyBmcm9tIGRlbGV0ZWRcbiAqIHZpZXdzLlxuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiBhIHF1ZXJ5IGdvdCBkaXJ0eSBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbiBvciBpZiB0aGlzIGlzIGEgc3RhdGljIHF1ZXJ5XG4gKiByZXNvbHZpbmcgaW4gY3JlYXRpb24gbW9kZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXF1ZXJ5UmVmcmVzaChxdWVyeUxpc3QpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IHF1ZXJ5SW5kZXggPSBnZXRDdXJyZW50UXVlcnlJbmRleCgpO1xuICAgIHNldEN1cnJlbnRRdWVyeUluZGV4KHF1ZXJ5SW5kZXggKyAxKTtcbiAgICBjb25zdCB0UXVlcnkgPSBnZXRUUXVlcnkodFZpZXcsIHF1ZXJ5SW5kZXgpO1xuICAgIGlmIChxdWVyeUxpc3QuZGlydHkgJiZcbiAgICAgICAgKGlzQ3JlYXRpb25Nb2RlKGxWaWV3KSA9PT1cbiAgICAgICAgICAgICgodFF1ZXJ5Lm1ldGFkYXRhLmZsYWdzICYgMiAvKiBpc1N0YXRpYyAqLykgPT09IDIgLyogaXNTdGF0aWMgKi8pKSkge1xuICAgICAgICBpZiAodFF1ZXJ5Lm1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5TGlzdC5yZXNldChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0UXVlcnkuY3Jvc3Nlc05nVGVtcGxhdGUgP1xuICAgICAgICAgICAgICAgIGNvbGxlY3RRdWVyeVJlc3VsdHModFZpZXcsIGxWaWV3LCBxdWVyeUluZGV4LCBbXSkgOlxuICAgICAgICAgICAgICAgIG1hdGVyaWFsaXplVmlld1Jlc3VsdHModFZpZXcsIGxWaWV3LCB0UXVlcnksIHF1ZXJ5SW5kZXgpO1xuICAgICAgICAgICAgcXVlcnlMaXN0LnJlc2V0KHJlc3VsdCwgdW53cmFwRWxlbWVudFJlZik7XG4gICAgICAgICAgICBxdWVyeUxpc3Qubm90aWZ5T25DaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBuZXcgUXVlcnlMaXN0LCBzdG9yZXMgdGhlIHJlZmVyZW5jZSBpbiBMVmlldyBhbmQgcmV0dXJucyBRdWVyeUxpc3QuXG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSBUaGUgdHlwZSBmb3Igd2hpY2ggdGhlIHF1ZXJ5IHdpbGwgc2VhcmNoXG4gKiBAcGFyYW0gZmxhZ3MgRmxhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBxdWVyeVxuICogQHBhcmFtIHJlYWQgV2hhdCB0byBzYXZlIGluIHRoZSBxdWVyeVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV2aWV3UXVlcnkocHJlZGljYXRlLCBmbGFncywgcmVhZCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIoZmxhZ3MsICdFeHBlY3RpbmcgZmxhZ3MnKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICBjcmVhdGVUUXVlcnkodFZpZXcsIG5ldyBUUXVlcnlNZXRhZGF0YV8ocHJlZGljYXRlLCBmbGFncywgcmVhZCksIC0xKTtcbiAgICAgICAgaWYgKChmbGFncyAmIDIgLyogaXNTdGF0aWMgKi8pID09PSAyIC8qIGlzU3RhdGljICovKSB7XG4gICAgICAgICAgICB0Vmlldy5zdGF0aWNWaWV3UXVlcmllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTFF1ZXJ5KHRWaWV3LCBnZXRMVmlldygpLCBmbGFncyk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIFF1ZXJ5TGlzdCwgYXNzb2NpYXRlZCB3aXRoIGEgY29udGVudCBxdWVyeSwgZm9yIGxhdGVyIHJlZnJlc2ggKHBhcnQgb2YgYSB2aWV3XG4gKiByZWZyZXNoKS5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggQ3VycmVudCBkaXJlY3RpdmUgaW5kZXhcbiAqIEBwYXJhbSBwcmVkaWNhdGUgVGhlIHR5cGUgZm9yIHdoaWNoIHRoZSBxdWVyeSB3aWxsIHNlYXJjaFxuICogQHBhcmFtIGZsYWdzIEZsYWdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcXVlcnlcbiAqIEBwYXJhbSByZWFkIFdoYXQgdG8gc2F2ZSBpbiB0aGUgcXVlcnlcbiAqIEByZXR1cm5zIFF1ZXJ5TGlzdDxUPlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjb250ZW50UXVlcnkoZGlyZWN0aXZlSW5kZXgsIHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKGZsYWdzLCAnRXhwZWN0aW5nIGZsYWdzJyk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICAgICAgY3JlYXRlVFF1ZXJ5KHRWaWV3LCBuZXcgVFF1ZXJ5TWV0YWRhdGFfKHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpLCB0Tm9kZS5pbmRleCk7XG4gICAgICAgIHNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCh0VmlldywgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICBpZiAoKGZsYWdzICYgMiAvKiBpc1N0YXRpYyAqLykgPT09IDIgLyogaXNTdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIHRWaWV3LnN0YXRpY0NvbnRlbnRRdWVyaWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVMUXVlcnkodFZpZXcsIGdldExWaWV3KCksIGZsYWdzKTtcbn1cbi8qKlxuICogTG9hZHMgYSBRdWVyeUxpc3QgY29ycmVzcG9uZGluZyB0byB0aGUgY3VycmVudCB2aWV3IG9yIGNvbnRlbnQgcXVlcnkuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWxvYWRRdWVyeSgpIHtcbiAgICByZXR1cm4gbG9hZFF1ZXJ5SW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0Q3VycmVudFF1ZXJ5SW5kZXgoKSk7XG59XG5mdW5jdGlvbiBsb2FkUXVlcnlJbnRlcm5hbChsVmlldywgcXVlcnlJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnREZWZpbmVkKGxWaWV3W1FVRVJJRVNdLCAnTFF1ZXJpZXMgc2hvdWxkIGJlIGRlZmluZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCBhIHF1ZXJ5Jyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlld1tRVUVSSUVTXS5xdWVyaWVzLCBxdWVyeUluZGV4KTtcbiAgICByZXR1cm4gbFZpZXdbUVVFUklFU10ucXVlcmllc1txdWVyeUluZGV4XS5xdWVyeUxpc3Q7XG59XG5mdW5jdGlvbiBjcmVhdGVMUXVlcnkodFZpZXcsIGxWaWV3LCBmbGFncykge1xuICAgIGNvbnN0IHF1ZXJ5TGlzdCA9IG5ldyBRdWVyeUxpc3QoKGZsYWdzICYgNCAvKiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seSAqLykgPT09IDQgLyogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgKi8pO1xuICAgIHN0b3JlQ2xlYW51cFdpdGhDb250ZXh0KHRWaWV3LCBsVmlldywgcXVlcnlMaXN0LCBxdWVyeUxpc3QuZGVzdHJveSk7XG4gICAgaWYgKGxWaWV3W1FVRVJJRVNdID09PSBudWxsKVxuICAgICAgICBsVmlld1tRVUVSSUVTXSA9IG5ldyBMUXVlcmllc18oKTtcbiAgICBsVmlld1tRVUVSSUVTXS5xdWVyaWVzLnB1c2gobmV3IExRdWVyeV8ocXVlcnlMaXN0KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVUUXVlcnkodFZpZXcsIG1ldGFkYXRhLCBub2RlSW5kZXgpIHtcbiAgICBpZiAodFZpZXcucXVlcmllcyA9PT0gbnVsbClcbiAgICAgICAgdFZpZXcucXVlcmllcyA9IG5ldyBUUXVlcmllc18oKTtcbiAgICB0Vmlldy5xdWVyaWVzLnRyYWNrKG5ldyBUUXVlcnlfKG1ldGFkYXRhLCBub2RlSW5kZXgpKTtcbn1cbmZ1bmN0aW9uIHNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCh0VmlldywgZGlyZWN0aXZlSW5kZXgpIHtcbiAgICBjb25zdCB0Vmlld0NvbnRlbnRRdWVyaWVzID0gdFZpZXcuY29udGVudFF1ZXJpZXMgfHwgKHRWaWV3LmNvbnRlbnRRdWVyaWVzID0gW10pO1xuICAgIGNvbnN0IGxhc3RTYXZlZERpcmVjdGl2ZUluZGV4ID0gdFZpZXdDb250ZW50UXVlcmllcy5sZW5ndGggPyB0Vmlld0NvbnRlbnRRdWVyaWVzW3RWaWV3Q29udGVudFF1ZXJpZXMubGVuZ3RoIC0gMV0gOiAtMTtcbiAgICBpZiAoZGlyZWN0aXZlSW5kZXggIT09IGxhc3RTYXZlZERpcmVjdGl2ZUluZGV4KSB7XG4gICAgICAgIHRWaWV3Q29udGVudFF1ZXJpZXMucHVzaCh0Vmlldy5xdWVyaWVzLmxlbmd0aCAtIDEsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUUXVlcnkodFZpZXcsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcucXVlcmllcywgJ1RRdWVyaWVzIG11c3QgYmUgZGVmaW5lZCB0byByZXRyaWV2ZSBhIFRRdWVyeScpO1xuICAgIHJldHVybiB0Vmlldy5xdWVyaWVzLmdldEJ5SW5kZXgoaW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0cmlldmVzIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2UgZnJvbSBgSW5qZWN0b3JgIHdoZW4gYSBsb2NhbCByZWZlcmVuY2UgaXMgcGxhY2VkIG9uIHRoZVxuICogYDxuZy10ZW1wbGF0ZT5gIGVsZW1lbnQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRlbXBsYXRlUmVmRXh0cmFjdG9yKHROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZih0Tm9kZSwgbFZpZXcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgbWFwcGluZyBvZiB0aGUgQGFuZ3VsYXIvY29yZSBBUEkgc3VyZmFjZSB1c2VkIGluIGdlbmVyYXRlZCBleHByZXNzaW9ucyB0byB0aGUgYWN0dWFsIHN5bWJvbHMuXG4gKlxuICogVGhpcyBzaG91bGQgYmUga2VwdCB1cCB0byBkYXRlIHdpdGggdGhlIHB1YmxpYyBleHBvcnRzIG9mIEBhbmd1bGFyL2NvcmUuXG4gKi9cbmNvbnN0IGFuZ3VsYXJDb3JlRW52ID0gKCgpID0+ICh7XG4gICAgJ8m1ybVhdHRyaWJ1dGUnOiDJtcm1YXR0cmlidXRlLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMic6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU0JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNCxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNSc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU3JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOCc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1ZGVmaW5lQ29tcG9uZW50JzogybXJtWRlZmluZUNvbXBvbmVudCxcbiAgICAnybXJtWRlZmluZURpcmVjdGl2ZSc6IMm1ybVkZWZpbmVEaXJlY3RpdmUsXG4gICAgJ8m1ybVkZWZpbmVJbmplY3RhYmxlJzogybXJtWRlZmluZUluamVjdGFibGUsXG4gICAgJ8m1ybVkZWZpbmVJbmplY3Rvcic6IMm1ybVkZWZpbmVJbmplY3RvcixcbiAgICAnybXJtWRlZmluZU5nTW9kdWxlJzogybXJtWRlZmluZU5nTW9kdWxlLFxuICAgICfJtcm1ZGVmaW5lUGlwZSc6IMm1ybVkZWZpbmVQaXBlLFxuICAgICfJtcm1ZGlyZWN0aXZlSW5qZWN0JzogybXJtWRpcmVjdGl2ZUluamVjdCxcbiAgICAnybXJtWdldEluaGVyaXRlZEZhY3RvcnknOiDJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSxcbiAgICAnybXJtWluamVjdCc6IMm1ybVpbmplY3QsXG4gICAgJ8m1ybVpbmplY3RBdHRyaWJ1dGUnOiDJtcm1aW5qZWN0QXR0cmlidXRlLFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnknOiDJtcm1aW52YWxpZEZhY3RvcnksXG4gICAgJ8m1ybVpbnZhbGlkRmFjdG9yeURlcCc6IMm1ybVpbnZhbGlkRmFjdG9yeURlcCxcbiAgICAnybXJtXRlbXBsYXRlUmVmRXh0cmFjdG9yJzogybXJtXRlbXBsYXRlUmVmRXh0cmFjdG9yLFxuICAgICfJtcm1TmdPbkNoYW5nZXNGZWF0dXJlJzogybXJtU5nT25DaGFuZ2VzRmVhdHVyZSxcbiAgICAnybXJtVByb3ZpZGVyc0ZlYXR1cmUnOiDJtcm1UHJvdmlkZXJzRmVhdHVyZSxcbiAgICAnybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZSc6IMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUsXG4gICAgJ8m1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUnOiDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlLFxuICAgICfJtcm1bmV4dENvbnRleHQnOiDJtcm1bmV4dENvbnRleHQsXG4gICAgJ8m1ybVuYW1lc3BhY2VIVE1MJzogybXJtW5hbWVzcGFjZUhUTUwsXG4gICAgJ8m1ybVuYW1lc3BhY2VNYXRoTUwnOiDJtcm1bmFtZXNwYWNlTWF0aE1MLFxuICAgICfJtcm1bmFtZXNwYWNlU1ZHJzogybXJtW5hbWVzcGFjZVNWRyxcbiAgICAnybXJtWVuYWJsZUJpbmRpbmdzJzogybXJtWVuYWJsZUJpbmRpbmdzLFxuICAgICfJtcm1ZGlzYWJsZUJpbmRpbmdzJzogybXJtWRpc2FibGVCaW5kaW5ncyxcbiAgICAnybXJtWVsZW1lbnRTdGFydCc6IMm1ybVlbGVtZW50U3RhcnQsXG4gICAgJ8m1ybVlbGVtZW50RW5kJzogybXJtWVsZW1lbnRFbmQsXG4gICAgJ8m1ybVlbGVtZW50JzogybXJtWVsZW1lbnQsXG4gICAgJ8m1ybVlbGVtZW50Q29udGFpbmVyU3RhcnQnOiDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0LFxuICAgICfJtcm1ZWxlbWVudENvbnRhaW5lckVuZCc6IMm1ybVlbGVtZW50Q29udGFpbmVyRW5kLFxuICAgICfJtcm1ZWxlbWVudENvbnRhaW5lcic6IMm1ybVlbGVtZW50Q29udGFpbmVyLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMCc6IMm1ybVwdXJlRnVuY3Rpb24wLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMSc6IMm1ybVwdXJlRnVuY3Rpb24xLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMic6IMm1ybVwdXJlRnVuY3Rpb24yLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uMyc6IMm1ybVwdXJlRnVuY3Rpb24zLFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNCc6IMm1ybVwdXJlRnVuY3Rpb240LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNSc6IMm1ybVwdXJlRnVuY3Rpb241LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNic6IMm1ybVwdXJlRnVuY3Rpb242LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uNyc6IMm1ybVwdXJlRnVuY3Rpb243LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uOCc6IMm1ybVwdXJlRnVuY3Rpb244LFxuICAgICfJtcm1cHVyZUZ1bmN0aW9uVic6IMm1ybVwdXJlRnVuY3Rpb25WLFxuICAgICfJtcm1Z2V0Q3VycmVudFZpZXcnOiDJtcm1Z2V0Q3VycmVudFZpZXcsXG4gICAgJ8m1ybVyZXN0b3JlVmlldyc6IMm1ybVyZXN0b3JlVmlldyxcbiAgICAnybXJtWxpc3RlbmVyJzogybXJtWxpc3RlbmVyLFxuICAgICfJtcm1cHJvamVjdGlvbic6IMm1ybVwcm9qZWN0aW9uLFxuICAgICfJtcm1c3ludGhldGljSG9zdFByb3BlcnR5JzogybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSxcbiAgICAnybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lcic6IMm1ybVzeW50aGV0aWNIb3N0TGlzdGVuZXIsXG4gICAgJ8m1ybVwaXBlQmluZDEnOiDJtcm1cGlwZUJpbmQxLFxuICAgICfJtcm1cGlwZUJpbmQyJzogybXJtXBpcGVCaW5kMixcbiAgICAnybXJtXBpcGVCaW5kMyc6IMm1ybVwaXBlQmluZDMsXG4gICAgJ8m1ybVwaXBlQmluZDQnOiDJtcm1cGlwZUJpbmQ0LFxuICAgICfJtcm1cGlwZUJpbmRWJzogybXJtXBpcGVCaW5kVixcbiAgICAnybXJtXByb2plY3Rpb25EZWYnOiDJtcm1cHJvamVjdGlvbkRlZixcbiAgICAnybXJtWhvc3RQcm9wZXJ0eSc6IMm1ybVob3N0UHJvcGVydHksXG4gICAgJ8m1ybVwcm9wZXJ0eSc6IMm1ybVwcm9wZXJ0eSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxLFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTInOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlMyc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMyxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNic6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNixcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlVic6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVixcbiAgICAnybXJtXBpcGUnOiDJtcm1cGlwZSxcbiAgICAnybXJtXF1ZXJ5UmVmcmVzaCc6IMm1ybVxdWVyeVJlZnJlc2gsXG4gICAgJ8m1ybV2aWV3UXVlcnknOiDJtcm1dmlld1F1ZXJ5LFxuICAgICfJtcm1bG9hZFF1ZXJ5JzogybXJtWxvYWRRdWVyeSxcbiAgICAnybXJtWNvbnRlbnRRdWVyeSc6IMm1ybVjb250ZW50UXVlcnksXG4gICAgJ8m1ybVyZWZlcmVuY2UnOiDJtcm1cmVmZXJlbmNlLFxuICAgICfJtcm1Y2xhc3NNYXAnOiDJtcm1Y2xhc3NNYXAsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlMSc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlMSxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNCc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNCxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU1JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNyc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNyxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVzdHlsZU1hcCc6IMm1ybVzdHlsZU1hcCxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxJzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxLFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTInOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlMyc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlMyxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNic6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNixcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlVic6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlVixcbiAgICAnybXJtXN0eWxlUHJvcCc6IMm1ybVzdHlsZVByb3AsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyJzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMixcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlMyc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlNic6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTcnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlVic6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVjbGFzc1Byb3AnOiDJtcm1Y2xhc3NQcm9wLFxuICAgICfJtcm1YWR2YW5jZSc6IMm1ybVhZHZhbmNlLFxuICAgICfJtcm1dGVtcGxhdGUnOiDJtcm1dGVtcGxhdGUsXG4gICAgJ8m1ybV0ZXh0JzogybXJtXRleHQsXG4gICAgJ8m1ybV0ZXh0SW50ZXJwb2xhdGUnOiDJtcm1dGV4dEludGVycG9sYXRlLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlMSc6IMm1ybV0ZXh0SW50ZXJwb2xhdGUxLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlMic6IMm1ybV0ZXh0SW50ZXJwb2xhdGUyLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlMyc6IMm1ybV0ZXh0SW50ZXJwb2xhdGUzLFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNCc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU0LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNSc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU1LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNic6IMm1ybV0ZXh0SW50ZXJwb2xhdGU2LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlNyc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU3LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlOCc6IMm1ybV0ZXh0SW50ZXJwb2xhdGU4LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlVic6IMm1ybV0ZXh0SW50ZXJwb2xhdGVWLFxuICAgICfJtcm1aTE4bic6IMm1ybVpMThuLFxuICAgICfJtcm1aTE4bkF0dHJpYnV0ZXMnOiDJtcm1aTE4bkF0dHJpYnV0ZXMsXG4gICAgJ8m1ybVpMThuRXhwJzogybXJtWkxOG5FeHAsXG4gICAgJ8m1ybVpMThuU3RhcnQnOiDJtcm1aTE4blN0YXJ0LFxuICAgICfJtcm1aTE4bkVuZCc6IMm1ybVpMThuRW5kLFxuICAgICfJtcm1aTE4bkFwcGx5JzogybXJtWkxOG5BcHBseSxcbiAgICAnybXJtWkxOG5Qb3N0cHJvY2Vzcyc6IMm1ybVpMThuUG9zdHByb2Nlc3MsXG4gICAgJ8m1ybVyZXNvbHZlV2luZG93JzogybXJtXJlc29sdmVXaW5kb3csXG4gICAgJ8m1ybVyZXNvbHZlRG9jdW1lbnQnOiDJtcm1cmVzb2x2ZURvY3VtZW50LFxuICAgICfJtcm1cmVzb2x2ZUJvZHknOiDJtcm1cmVzb2x2ZUJvZHksXG4gICAgJ8m1ybVzZXRDb21wb25lbnRTY29wZSc6IMm1ybVzZXRDb21wb25lbnRTY29wZSxcbiAgICAnybXJtXNldE5nTW9kdWxlU2NvcGUnOiDJtcm1c2V0TmdNb2R1bGVTY29wZSxcbiAgICAnybXJtXNhbml0aXplSHRtbCc6IMm1ybVzYW5pdGl6ZUh0bWwsXG4gICAgJ8m1ybVzYW5pdGl6ZVN0eWxlJzogybXJtXNhbml0aXplU3R5bGUsXG4gICAgJ8m1ybVzYW5pdGl6ZVJlc291cmNlVXJsJzogybXJtXNhbml0aXplUmVzb3VyY2VVcmwsXG4gICAgJ8m1ybVzYW5pdGl6ZVNjcmlwdCc6IMm1ybVzYW5pdGl6ZVNjcmlwdCxcbiAgICAnybXJtXNhbml0aXplVXJsJzogybXJtXNhbml0aXplVXJsLFxuICAgICfJtcm1c2FuaXRpemVVcmxPclJlc291cmNlVXJsJzogybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCxcbiAgICAnybXJtXRydXN0Q29uc3RhbnRIdG1sJzogybXJtXRydXN0Q29uc3RhbnRIdG1sLFxuICAgICfJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsJzogybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCxcbiAgICAnZm9yd2FyZFJlZic6IGZvcndhcmRSZWYsXG4gICAgJ3Jlc29sdmVGb3J3YXJkUmVmJzogcmVzb2x2ZUZvcndhcmRSZWYsXG59KSkoKTtcblxubGV0IGppdE9wdGlvbnMgPSBudWxsO1xuZnVuY3Rpb24gc2V0Sml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKGppdE9wdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb24gIT09IGppdE9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb24pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb3ZpZGVkIHZhbHVlIGZvciBgZGVmYXVsdEVuY2Fwc3VsYXRpb25gIGNhbiBub3QgYmUgY2hhbmdlZCBvbmNlIGl0IGhhcyBiZWVuIHNldC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzICE9PSBqaXRPcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZXMpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb3ZpZGVkIHZhbHVlIGZvciBgcHJlc2VydmVXaGl0ZXNwYWNlc2AgY2FuIG5vdCBiZSBjaGFuZ2VkIG9uY2UgaXQgaGFzIGJlZW4gc2V0LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGppdE9wdGlvbnMgPSBvcHRpb25zO1xufVxuZnVuY3Rpb24gZ2V0Sml0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gaml0T3B0aW9ucztcbn1cbmZ1bmN0aW9uIHJlc2V0Sml0T3B0aW9ucygpIHtcbiAgICBqaXRPcHRpb25zID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBtb2R1bGVRdWV1ZSA9IFtdO1xuLyoqXG4gKiBFbnF1ZXVlcyBtb2R1bGVEZWYgdG8gYmUgY2hlY2tlZCBsYXRlciB0byBzZWUgaWYgc2NvcGUgY2FuIGJlIHNldCBvbiBpdHNcbiAqIGNvbXBvbmVudCBkZWNsYXJhdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGVucXVldWVNb2R1bGVGb3JEZWxheWVkU2NvcGluZyhtb2R1bGVUeXBlLCBuZ01vZHVsZSkge1xuICAgIG1vZHVsZVF1ZXVlLnB1c2goeyBtb2R1bGVUeXBlLCBuZ01vZHVsZSB9KTtcbn1cbmxldCBmbHVzaGluZ01vZHVsZVF1ZXVlID0gZmFsc2U7XG4vKipcbiAqIExvb3BzIG92ZXIgcXVldWVkIG1vZHVsZSBkZWZpbml0aW9ucywgaWYgYSBnaXZlbiBtb2R1bGUgZGVmaW5pdGlvbiBoYXMgYWxsIG9mIGl0c1xuICogZGVjbGFyYXRpb25zIHJlc29sdmVkLCBpdCBkZXF1ZXVlcyB0aGF0IG1vZHVsZSBkZWZpbml0aW9uIGFuZCBzZXRzIHRoZSBzY29wZSBvblxuICogaXRzIGRlY2xhcmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlKCkge1xuICAgIGlmICghZmx1c2hpbmdNb2R1bGVRdWV1ZSkge1xuICAgICAgICBmbHVzaGluZ01vZHVsZVF1ZXVlID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBtb2R1bGVRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlVHlwZSwgbmdNb2R1bGUgfSA9IG1vZHVsZVF1ZXVlW2ldO1xuICAgICAgICAgICAgICAgIGlmIChuZ01vZHVsZS5kZWNsYXJhdGlvbnMgJiYgbmdNb2R1bGUuZGVjbGFyYXRpb25zLmV2ZXJ5KGlzUmVzb2x2ZWREZWNsYXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVxdWV1ZVxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVRdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGZsdXNoaW5nTW9kdWxlUXVldWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0cnV0aHkgaWYgYSBkZWNsYXJhdGlvbiBoYXMgcmVzb2x2ZWQuIElmIHRoZSBkZWNsYXJhdGlvbiBoYXBwZW5zIHRvIGJlXG4gKiBhbiBhcnJheSBvZiBkZWNsYXJhdGlvbnMsIGl0IHdpbGwgcmVjdXJzZSB0byBjaGVjayBlYWNoIGRlY2xhcmF0aW9uIGluIHRoYXQgYXJyYXlcbiAqICh3aGljaCBtYXkgYWxzbyBiZSBhcnJheXMpLlxuICovXG5mdW5jdGlvbiBpc1Jlc29sdmVkRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWNsYXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uLmV2ZXJ5KGlzUmVzb2x2ZWREZWNsYXJhdGlvbik7XG4gICAgfVxuICAgIHJldHVybiAhIXJlc29sdmVGb3J3YXJkUmVmKGRlY2xhcmF0aW9uKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBtb2R1bGUgaW4gSklUIG1vZGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhdXRvbWF0aWNhbGx5IGdldHMgY2FsbGVkIHdoZW4gYSBjbGFzcyBoYXMgYSBgQE5nTW9kdWxlYCBkZWNvcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZShtb2R1bGVUeXBlLCBuZ01vZHVsZSA9IHt9KSB7XG4gICAgY29tcGlsZU5nTW9kdWxlRGVmcyhtb2R1bGVUeXBlLCBuZ01vZHVsZSk7XG4gICAgLy8gQmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIGFsbCBkZWNsYXJhdGlvbnMgaGF2ZSByZXNvbHZlZCB5ZXQgYXQgdGhlIG1vbWVudCB0aGVcbiAgICAvLyBOZ01vZHVsZSBkZWNvcmF0b3IgaXMgZXhlY3V0aW5nLCB3ZSdyZSBlbnF1ZXVlaW5nIHRoZSBzZXR0aW5nIG9mIG1vZHVsZSBzY29wZVxuICAgIC8vIG9uIGl0cyBkZWNsYXJhdGlvbnMgdG8gYmUgcnVuIGF0IGEgbGF0ZXIgdGltZSB3aGVuIGFsbCBkZWNsYXJhdGlvbnMgZm9yIHRoZSBtb2R1bGUsXG4gICAgLy8gaW5jbHVkaW5nIGZvcndhcmQgcmVmcywgaGF2ZSByZXNvbHZlZC5cbiAgICBlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmcobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhbmQgYWRkcyB0aGUgYMm1bW9kYCwgYMm1ZmFjYCBhbmQgYMm1aW5qYCBwcm9wZXJ0aWVzIHRvIHRoZSBtb2R1bGUgY2xhc3MuXG4gKlxuICogSXQncyBwb3NzaWJsZSB0byBjb21waWxlIGEgbW9kdWxlIHZpYSB0aGlzIEFQSSB3aGljaCB3aWxsIGFsbG93IGR1cGxpY2F0ZSBkZWNsYXJhdGlvbnMgaW4gaXRzXG4gKiByb290LlxuICovXG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGVEZWZzKG1vZHVsZVR5cGUsIG5nTW9kdWxlLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCA9IGZhbHNlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobW9kdWxlVHlwZSwgJ1JlcXVpcmVkIHZhbHVlIG1vZHVsZVR5cGUnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZSwgJ1JlcXVpcmVkIHZhbHVlIG5nTW9kdWxlJyk7XG4gICAgY29uc3QgZGVjbGFyYXRpb25zID0gZmxhdHRlbihuZ01vZHVsZS5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVkpO1xuICAgIGxldCBuZ01vZHVsZURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZVR5cGUsIE5HX01PRF9ERUYsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ01vZHVsZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgbmdNb2R1bGUuaW1wb3J0cyAmJiBuZ01vZHVsZS5pbXBvcnRzLmluZGV4T2YobW9kdWxlVHlwZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGFzc2VydCB0aGlzIGltbWVkaWF0ZWx5LCBiZWNhdXNlIGFsbG93aW5nIGl0IHRvIGNvbnRpbnVlIHdpbGwgY2F1c2UgaXQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gZ28gaW50byBhbiBpbmZpbml0ZSBsb29wIGJlZm9yZSB3ZSd2ZSByZWFjaGVkIHRoZSBwb2ludCB3aGVyZSB3ZSB0aHJvdyBhbGwgdGhlIGVycm9ycy5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtzdHJpbmdpZnlGb3JFcnJvcihtb2R1bGVUeXBlKX0nIG1vZHVsZSBjYW4ndCBpbXBvcnQgaXRzZWxmYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdNb2R1bGVEZWYgPSBjb21waWxlci5jb21waWxlTmdNb2R1bGUoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21vZHVsZVR5cGUubmFtZX0vybVtb2QuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcDogZmxhdHRlbihuZ01vZHVsZS5ib290c3RyYXAgfHwgRU1QVFlfQVJSQVkpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IGZsYXR0ZW4obmdNb2R1bGUuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAocmVzb2x2ZUZvcndhcmRSZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGV4cGFuZE1vZHVsZVdpdGhQcm92aWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBmbGF0dGVuKG5nTW9kdWxlLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVkpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc29sdmVGb3J3YXJkUmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogbmdNb2R1bGUuc2NoZW1hcyA/IGZsYXR0ZW4obmdNb2R1bGUuc2NoZW1hcykgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpZDogbmdNb2R1bGUuaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgYHNjaGVtYXNgIG9uIG5nTW9kdWxlRGVmIHRvIGFuIGVtcHR5IGFycmF5IGluIEpJVCBtb2RlIHRvIGluZGljYXRlIHRoYXQgcnVudGltZVxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCB2ZXJpZnkgdGhhdCB0aGVyZSBhcmUgbm8gdW5rbm93biBlbGVtZW50cyBpbiBhIHRlbXBsYXRlLiBJbiBBT1QgbW9kZSwgdGhhdCBjaGVja1xuICAgICAgICAgICAgICAgIC8vIGhhcHBlbnMgYXQgY29tcGlsZSB0aW1lIGFuZCBgc2NoZW1hc2AgaW5mb3JtYXRpb24gaXMgbm90IHByZXNlbnQgb24gQ29tcG9uZW50IGFuZCBNb2R1bGVcbiAgICAgICAgICAgICAgICAvLyBkZWZzIGFmdGVyIGNvbXBpbGF0aW9uIChzbyB0aGUgY2hlY2sgZG9lc24ndCBoYXBwZW4gdGhlIHNlY29uZCB0aW1lIGF0IHJ1bnRpbWUpLlxuICAgICAgICAgICAgICAgIGlmICghbmdNb2R1bGVEZWYuc2NoZW1hcykge1xuICAgICAgICAgICAgICAgICAgICBuZ01vZHVsZURlZi5zY2hlbWFzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nTW9kdWxlRGVmO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZVR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21vZHVsZVR5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1vZHVsZVR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kdWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyhtb2R1bGVUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG4gICAgbGV0IG5nSW5qZWN0b3JEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGVUeXBlLCBOR19JTkpfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nSW5qZWN0b3JEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2R1bGVUeXBlLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbW9kdWxlVHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IG5nTW9kdWxlLnByb3ZpZGVycyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgKG5nTW9kdWxlLmltcG9ydHMgfHwgRU1QVFlfQVJSQVkpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgICAgICAobmdNb2R1bGUuZXhwb3J0cyB8fCBFTVBUWV9BUlJBWSkubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdJbmplY3RvckRlZiA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmNvbXBpbGVJbmplY3Rvcihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bW9kdWxlVHlwZS5uYW1lfS/JtWluai5qc2AsIG1ldGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nSW5qZWN0b3JEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKG1vZHVsZVR5cGUsIGFsbG93RHVwbGljYXRlRGVjbGFyYXRpb25zSW5Sb290LCBpbXBvcnRpbmdNb2R1bGUpIHtcbiAgICBpZiAodmVyaWZpZWROZ01vZHVsZS5nZXQobW9kdWxlVHlwZSkpXG4gICAgICAgIHJldHVybjtcbiAgICB2ZXJpZmllZE5nTW9kdWxlLnNldChtb2R1bGVUeXBlLCB0cnVlKTtcbiAgICBtb2R1bGVUeXBlID0gcmVzb2x2ZUZvcndhcmRSZWYobW9kdWxlVHlwZSk7XG4gICAgbGV0IG5nTW9kdWxlRGVmO1xuICAgIGlmIChpbXBvcnRpbmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgaWYgKCFuZ01vZHVsZURlZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHZhbHVlICcke21vZHVsZVR5cGUubmFtZX0nIGltcG9ydGVkIGJ5IHRoZSBtb2R1bGUgJyR7aW1wb3J0aW5nTW9kdWxlLm5hbWV9Jy4gUGxlYXNlIGFkZCBhbiBATmdNb2R1bGUgYW5ub3RhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlLCB0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3QgZGVjbGFyYXRpb25zID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5kZWNsYXJhdGlvbnMpO1xuICAgIGNvbnN0IGltcG9ydHMgPSBtYXliZVVud3JhcEZuKG5nTW9kdWxlRGVmLmltcG9ydHMpO1xuICAgIGZsYXR0ZW4oaW1wb3J0cykubWFwKHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKS5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVJbXBvcnQobW9kLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2QsIGZhbHNlLCBtb2R1bGVUeXBlKTtcbiAgICB9KTtcbiAgICBjb25zdCBleHBvcnRzID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5leHBvcnRzKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlEZWNsYXJhdGlvbnNIYXZlRGVmaW5pdGlvbnMpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKHZlcmlmeURpcmVjdGl2ZXNIYXZlU2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvbWJpbmVkRGVjbGFyYXRpb25zID0gW1xuICAgICAgICAuLi5kZWNsYXJhdGlvbnMubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgLi4uZmxhdHRlbihpbXBvcnRzLm1hcChjb21wdXRlQ29tYmluZWRFeHBvcnRzKSkubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICBdO1xuICAgIGV4cG9ydHMuZm9yRWFjaCh2ZXJpZnlFeHBvcnRzQXJlRGVjbGFyZWRPclJlRXhwb3J0ZWQpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKGRlY2wgPT4gdmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZShkZWNsLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCkpO1xuICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKHZlcmlmeUNvbXBvbmVudEVudHJ5Q29tcG9uZW50c0lzUGFydE9mTmdNb2R1bGUpO1xuICAgIGNvbnN0IG5nTW9kdWxlID0gZ2V0QW5ub3RhdGlvbihtb2R1bGVUeXBlLCAnTmdNb2R1bGUnKTtcbiAgICBpZiAobmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGUuaW1wb3J0cyAmJlxuICAgICAgICAgICAgZmxhdHRlbihuZ01vZHVsZS5pbXBvcnRzKS5tYXAodW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHMpLmZvckVhY2gobW9kID0+IHtcbiAgICAgICAgICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0KG1vZCwgbW9kdWxlVHlwZSk7XG4gICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2QsIGZhbHNlLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBuZ01vZHVsZS5ib290c3RyYXAgJiYgZGVlcEZvckVhY2gobmdNb2R1bGUuYm9vdHN0cmFwLCB2ZXJpZnlDb3JyZWN0Qm9vdHN0cmFwVHlwZSk7XG4gICAgICAgIG5nTW9kdWxlLmJvb3RzdHJhcCAmJiBkZWVwRm9yRWFjaChuZ01vZHVsZS5ib290c3RyYXAsIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUpO1xuICAgICAgICBuZ01vZHVsZS5lbnRyeUNvbXBvbmVudHMgJiZcbiAgICAgICAgICAgIGRlZXBGb3JFYWNoKG5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cywgdmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgfVxuICAgIC8vIFRocm93IEVycm9yIGlmIGFueSBlcnJvcnMgd2VyZSBkZXRlY3RlZC5cbiAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgZnVuY3Rpb24gdmVyaWZ5RGVjbGFyYXRpb25zSGF2ZURlZmluaXRpb25zKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBkZWYgPSBnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpIHx8IGdldFBpcGVEZWYkMSh0eXBlKTtcbiAgICAgICAgaWYgKCFkZWYpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBVbmV4cGVjdGVkIHZhbHVlICcke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfScgZGVjbGFyZWQgYnkgdGhlIG1vZHVsZSAnJHtzdHJpbmdpZnlGb3JFcnJvcihtb2R1bGVUeXBlKX0nLiBQbGVhc2UgYWRkIGEgQFBpcGUvQERpcmVjdGl2ZS9AQ29tcG9uZW50IGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5RGlyZWN0aXZlc0hhdmVTZWxlY3Rvcih0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZGVmID0gZ2V0RGlyZWN0aXZlRGVmKHR5cGUpO1xuICAgICAgICBpZiAoIWdldENvbXBvbmVudERlZih0eXBlKSAmJiBkZWYgJiYgZGVmLnNlbGVjdG9ycy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYERpcmVjdGl2ZSAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBoYXMgbm8gc2VsZWN0b3IsIHBsZWFzZSBhZGQgaXQhYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5RXhwb3J0c0FyZURlY2xhcmVkT3JSZUV4cG9ydGVkKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBraW5kID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpICYmICdjb21wb25lbnQnIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSAmJiAnZGlyZWN0aXZlJyB8fFxuICAgICAgICAgICAgZ2V0UGlwZURlZiQxKHR5cGUpICYmICdwaXBlJztcbiAgICAgICAgaWYgKGtpbmQpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgY2hlY2tlZCBpZiB3ZSBhcmUgZGVjbGFyZWQgYXMgQ29tcG9uZW50LCBEaXJlY3RpdmUsIG9yIFBpcGVcbiAgICAgICAgICAgIC8vIE1vZHVsZXMgZG9uJ3QgbmVlZCB0byBiZSBkZWNsYXJlZCBvciBpbXBvcnRlZC5cbiAgICAgICAgICAgIGlmIChjb21iaW5lZERlY2xhcmF0aW9ucy5sYXN0SW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgZXhwb3J0aW5nIHNvbWV0aGluZyB3aGljaCB3ZSBkb24ndCBleHBsaWNpdGx5IGRlY2xhcmUgb3IgaW1wb3J0LlxuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBDYW4ndCBleHBvcnQgJHtraW5kfSAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSBmcm9tICR7c3RyaW5naWZ5Rm9yRXJyb3IobW9kdWxlVHlwZSl9IGFzIGl0IHdhcyBuZWl0aGVyIGRlY2xhcmVkIG5vciBpbXBvcnRlZCFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlEZWNsYXJhdGlvbklzVW5pcXVlKHR5cGUsIHN1cHByZXNzRXJyb3JzKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdNb2R1bGUgPSBvd25lck5nTW9kdWxlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nTW9kdWxlICYmIGV4aXN0aW5nTW9kdWxlICE9PSBtb2R1bGVUeXBlKSB7XG4gICAgICAgICAgICBpZiAoIXN1cHByZXNzRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlcyA9IFtleGlzdGluZ01vZHVsZSwgbW9kdWxlVHlwZV0ubWFwKHN0cmluZ2lmeUZvckVycm9yKS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYFR5cGUgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gaXMgcGFydCBvZiB0aGUgZGVjbGFyYXRpb25zIG9mIDIgbW9kdWxlczogJHttb2R1bGVzWzBdfSBhbmQgJHttb2R1bGVzWzFdfSEgYCArXG4gICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgY29uc2lkZXIgbW92aW5nICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IHRvIGEgaGlnaGVyIG1vZHVsZSB0aGF0IGltcG9ydHMgJHttb2R1bGVzWzBdfSBhbmQgJHttb2R1bGVzWzFdfS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBZb3UgY2FuIGFsc28gY3JlYXRlIGEgbmV3IE5nTW9kdWxlIHRoYXQgZXhwb3J0cyBhbmQgaW5jbHVkZXMgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gdGhlbiBpbXBvcnQgdGhhdCBOZ01vZHVsZSBpbiAke21vZHVsZXNbMF19IGFuZCAke21vZHVsZXNbMV19LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFyayB0eXBlIGFzIGhhdmluZyBvd25lci5cbiAgICAgICAgICAgIG93bmVyTmdNb2R1bGUuc2V0KHR5cGUsIG1vZHVsZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kdWxlID0gb3duZXJOZ01vZHVsZS5nZXQodHlwZSk7XG4gICAgICAgIGlmICghZXhpc3RpbmdNb2R1bGUpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBDb21wb25lbnQgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gaXMgbm90IHBhcnQgb2YgYW55IE5nTW9kdWxlIG9yIHRoZSBtb2R1bGUgaGFzIG5vdCBiZWVuIGltcG9ydGVkIGludG8geW91ciBtb2R1bGUuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5Q29ycmVjdEJvb3RzdHJhcFR5cGUodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGlmICghZ2V0Q29tcG9uZW50RGVmKHR5cGUpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gY2Fubm90IGJlIHVzZWQgYXMgYW4gZW50cnkgY29tcG9uZW50LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUNvbXBvbmVudEVudHJ5Q29tcG9uZW50c0lzUGFydE9mTmdNb2R1bGUodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGlmIChnZXRDb21wb25lbnREZWYodHlwZSkpIHtcbiAgICAgICAgICAgIC8vIFdlIGtub3cgd2UgYXJlIGNvbXBvbmVudFxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZ2V0QW5ub3RhdGlvbih0eXBlLCAnQ29tcG9uZW50Jyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5lbnRyeUNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICBkZWVwRm9yRWFjaChjb21wb25lbnQuZW50cnlDb21wb25lbnRzLCB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0KHR5cGUsIGltcG9ydGluZ01vZHVsZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGlmIChnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZGlyZWN0aXZlICcke3R5cGUubmFtZX0nIGltcG9ydGVkIGJ5IHRoZSBtb2R1bGUgJyR7aW1wb3J0aW5nTW9kdWxlLm5hbWV9Jy4gUGxlYXNlIGFkZCBhbiBATmdNb2R1bGUgYW5ub3RhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGlwZURlZiQxKHR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcGlwZSAnJHt0eXBlLm5hbWV9JyBpbXBvcnRlZCBieSB0aGUgbW9kdWxlICcke2ltcG9ydGluZ01vZHVsZS5uYW1lfScuIFBsZWFzZSBhZGQgYW4gQE5nTW9kdWxlIGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB1bndyYXBNb2R1bGVXaXRoUHJvdmlkZXJzSW1wb3J0cyh0eXBlT3JXaXRoUHJvdmlkZXJzKSB7XG4gICAgdHlwZU9yV2l0aFByb3ZpZGVycyA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGVPcldpdGhQcm92aWRlcnMpO1xuICAgIHJldHVybiB0eXBlT3JXaXRoUHJvdmlkZXJzLm5nTW9kdWxlIHx8IHR5cGVPcldpdGhQcm92aWRlcnM7XG59XG5mdW5jdGlvbiBnZXRBbm5vdGF0aW9uKHR5cGUsIG5hbWUpIHtcbiAgICBsZXQgYW5ub3RhdGlvbiA9IG51bGw7XG4gICAgY29sbGVjdCh0eXBlLl9fYW5ub3RhdGlvbnNfXyk7XG4gICAgY29sbGVjdCh0eXBlLmRlY29yYXRvcnMpO1xuICAgIHJldHVybiBhbm5vdGF0aW9uO1xuICAgIGZ1bmN0aW9uIGNvbGxlY3QoYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgaWYgKGFubm90YXRpb25zKSB7XG4gICAgICAgICAgICBhbm5vdGF0aW9ucy5mb3JFYWNoKHJlYWRBbm5vdGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQW5ub3RhdGlvbihkZWNvcmF0b3IpIHtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWNvcmF0b3IpO1xuICAgICAgICAgICAgaWYgKHByb3RvLm5nTWV0YWRhdGFOYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uID0gZGVjb3JhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVjb3JhdG9yLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWNvcmF0b3IudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3RvLm5nTWV0YWRhdGFOYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbiA9IGRlY29yYXRvci5hcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogS2VlcCB0cmFjayBvZiBjb21waWxlZCBjb21wb25lbnRzLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIGluIHRlc3RzIHdlIG9mdGVuIHdhbnQgdG8gY29tcGlsZSB0aGVcbiAqIHNhbWUgY29tcG9uZW50IHdpdGggbW9yZSB0aGFuIG9uZSBOZ01vZHVsZS4gVGhpcyB3b3VsZCBjYXVzZSBhbiBlcnJvciB1bmxlc3Mgd2UgcmVzZXQgd2hpY2hcbiAqIE5nTW9kdWxlIHRoZSBjb21wb25lbnQgYmVsb25ncyB0by4gV2Uga2VlcCB0aGUgbGlzdCBvZiBjb21waWxlZCBjb21wb25lbnRzIGhlcmUgc28gdGhhdCB0aGVcbiAqIFRlc3RCZWQgY2FuIHJlc2V0IGl0IGxhdGVyLlxuICovXG5sZXQgb3duZXJOZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgdmVyaWZpZWROZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiByZXNldENvbXBpbGVkQ29tcG9uZW50cygpIHtcbiAgICBvd25lck5nTW9kdWxlID0gbmV3IFdlYWtNYXAoKTtcbiAgICB2ZXJpZmllZE5nTW9kdWxlID0gbmV3IFdlYWtNYXAoKTtcbiAgICBtb2R1bGVRdWV1ZS5sZW5ndGggPSAwO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY29tYmluZWQgZGVjbGFyYXRpb25zIG9mIGV4cGxpY2l0IGRlY2xhcmF0aW9ucywgYXMgd2VsbCBhcyBkZWNsYXJhdGlvbnMgaW5oZXJpdGVkIGJ5XG4gKiB0cmF2ZXJzaW5nIHRoZSBleHBvcnRzIG9mIGltcG9ydGVkIG1vZHVsZXMuXG4gKiBAcGFyYW0gdHlwZVxuICovXG5mdW5jdGlvbiBjb21wdXRlQ29tYmluZWRFeHBvcnRzKHR5cGUpIHtcbiAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgY29uc3QgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZih0eXBlLCB0cnVlKTtcbiAgICByZXR1cm4gWy4uLmZsYXR0ZW4obWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5leHBvcnRzKS5tYXAoKHR5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYodHlwZSk7XG4gICAgICAgICAgICBpZiAobmdNb2R1bGVEZWYpIHtcbiAgICAgICAgICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmKHR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyh0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSldO1xufVxuLyoqXG4gKiBTb21lIGRlY2xhcmVkIGNvbXBvbmVudHMgbWF5IGJlIGNvbXBpbGVkIGFzeW5jaHJvbm91c2x5LCBhbmQgdGh1cyBtYXkgbm90IGhhdmUgdGhlaXJcbiAqIMm1Y21wIHNldCB5ZXQuIElmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZW4gYSByZWZlcmVuY2UgdG8gdGhlIG1vZHVsZSBpcyB3cml0dGVuIGludG9cbiAqIHRoZSBgbmdTZWxlY3RvclNjb3BlYCBwcm9wZXJ0eSBvZiB0aGUgZGVjbGFyZWQgdHlwZS5cbiAqL1xuZnVuY3Rpb24gc2V0U2NvcGVPbkRlY2xhcmVkQ29tcG9uZW50cyhtb2R1bGVUeXBlLCBuZ01vZHVsZSkge1xuICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IGZsYXR0ZW4obmdNb2R1bGUuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZKTtcbiAgICBjb25zdCB0cmFuc2l0aXZlU2NvcGVzID0gdHJhbnNpdGl2ZVNjb3Blc0Zvcihtb2R1bGVUeXBlKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaChkZWNsYXJhdGlvbiA9PiB7XG4gICAgICAgIGlmIChkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19DT01QX0RFRikpIHtcbiAgICAgICAgICAgIC8vIEEgYMm1Y21wYCBmaWVsZCBleGlzdHMgLSBnbyBhaGVhZCBhbmQgcGF0Y2ggdGhlIGNvbXBvbmVudCBkaXJlY3RseS5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRlY2xhcmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudCk7XG4gICAgICAgICAgICBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZShjb21wb25lbnREZWYsIHRyYW5zaXRpdmVTY29wZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19ESVJfREVGKSAmJiAhZGVjbGFyYXRpb24uaGFzT3duUHJvcGVydHkoTkdfUElQRV9ERUYpKSB7XG4gICAgICAgICAgICAvLyBTZXQgYG5nU2VsZWN0b3JTY29wZWAgZm9yIGZ1dHVyZSByZWZlcmVuY2Ugd2hlbiB0aGUgY29tcG9uZW50IGNvbXBpbGF0aW9uIGZpbmlzaGVzLlxuICAgICAgICAgICAgZGVjbGFyYXRpb24ubmdTZWxlY3RvclNjb3BlID0gbW9kdWxlVHlwZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBQYXRjaCB0aGUgZGVmaW5pdGlvbiBvZiBhIGNvbXBvbmVudCB3aXRoIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGZyb20gdGhlIGNvbXBpbGF0aW9uIHNjb3BlIG9mXG4gKiBhIGdpdmVuIG1vZHVsZS5cbiAqL1xuZnVuY3Rpb24gcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUoY29tcG9uZW50RGVmLCB0cmFuc2l0aXZlU2NvcGVzKSB7XG4gICAgY29tcG9uZW50RGVmLmRpcmVjdGl2ZURlZnMgPSAoKSA9PiBBcnJheS5mcm9tKHRyYW5zaXRpdmVTY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcylcbiAgICAgICAgLm1hcChkaXIgPT4gZGlyLmhhc093blByb3BlcnR5KE5HX0NPTVBfREVGKSA/IGdldENvbXBvbmVudERlZihkaXIpIDogZ2V0RGlyZWN0aXZlRGVmKGRpcikpXG4gICAgICAgIC5maWx0ZXIoZGVmID0+ICEhZGVmKTtcbiAgICBjb21wb25lbnREZWYucGlwZURlZnMgPSAoKSA9PiBBcnJheS5mcm9tKHRyYW5zaXRpdmVTY29wZXMuY29tcGlsYXRpb24ucGlwZXMpLm1hcChwaXBlID0+IGdldFBpcGVEZWYkMShwaXBlKSk7XG4gICAgY29tcG9uZW50RGVmLnNjaGVtYXMgPSB0cmFuc2l0aXZlU2NvcGVzLnNjaGVtYXM7XG4gICAgLy8gU2luY2Ugd2UgYXZvaWQgQ29tcG9uZW50cy9EaXJlY3RpdmVzL1BpcGVzIHJlY29tcGlsaW5nIGluIGNhc2UgdGhlcmUgYXJlIG5vIG92ZXJyaWRlcywgd2VcbiAgICAvLyBtYXkgZmFjZSBhIHByb2JsZW0gd2hlcmUgcHJldmlvdXNseSBjb21waWxlZCBkZWZzIGF2YWlsYWJsZSB0byBhIGdpdmVuIENvbXBvbmVudC9EaXJlY3RpdmVcbiAgICAvLyBhcmUgY2FjaGVkIGluIFRWaWV3IGFuZCBtYXkgYmVjb21lIHN0YWxlIChpbiBjYXNlIGFueSBvZiB0aGVzZSBkZWZzIGdldHMgcmVjb21waWxlZCkuIEluXG4gICAgLy8gb3JkZXIgdG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBmb3JjZSBmcmVzaCBUVmlldyB0byBiZSBjcmVhdGVkLlxuICAgIGNvbXBvbmVudERlZi50VmlldyA9IG51bGw7XG59XG4vKipcbiAqIENvbXB1dGUgdGhlIHBhaXIgb2YgdHJhbnNpdGl2ZSBzY29wZXMgKGNvbXBpbGF0aW9uIHNjb3BlIGFuZCBleHBvcnRlZCBzY29wZSkgZm9yIGEgZ2l2ZW4gbW9kdWxlLlxuICpcbiAqIFRoaXMgb3BlcmF0aW9uIGlzIG1lbW9pemVkIGFuZCB0aGUgcmVzdWx0IGlzIGNhY2hlZCBvbiB0aGUgbW9kdWxlJ3MgZGVmaW5pdGlvbi4gVGhpcyBmdW5jdGlvbiBjYW5cbiAqIGJlIGNhbGxlZCBvbiBtb2R1bGVzIHdpdGggY29tcG9uZW50cyB0aGF0IGhhdmUgbm90IGZ1bGx5IGNvbXBpbGVkIHlldCwgYnV0IHRoZSByZXN1bHQgc2hvdWxkIG5vdFxuICogYmUgdXNlZCB1bnRpbCB0aGV5IGhhdmUuXG4gKlxuICogQHBhcmFtIG1vZHVsZVR5cGUgbW9kdWxlIHRoYXQgdHJhbnNpdGl2ZSBzY29wZSBzaG91bGQgYmUgY2FsY3VsYXRlZCBmb3IuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zaXRpdmVTY29wZXNGb3IobW9kdWxlVHlwZSkge1xuICAgIGlmICghaXNOZ01vZHVsZShtb2R1bGVUeXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bW9kdWxlVHlwZS5uYW1lfSBkb2VzIG5vdCBoYXZlIGEgbW9kdWxlIGRlZiAoybVtb2QgcHJvcGVydHkpYCk7XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgIGlmIChkZWYudHJhbnNpdGl2ZUNvbXBpbGVTY29wZXMgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcztcbiAgICB9XG4gICAgY29uc3Qgc2NvcGVzID0ge1xuICAgICAgICBzY2hlbWFzOiBkZWYuc2NoZW1hcyB8fCBudWxsLFxuICAgICAgICBjb21waWxhdGlvbjoge1xuICAgICAgICAgICAgZGlyZWN0aXZlczogbmV3IFNldCgpLFxuICAgICAgICAgICAgcGlwZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgfSxcbiAgICAgICAgZXhwb3J0ZWQ6IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHBpcGVzOiBuZXcgU2V0KCksXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBtYXliZVVud3JhcEZuKGRlZi5pbXBvcnRzKS5mb3JFYWNoKChpbXBvcnRlZCkgPT4ge1xuICAgICAgICBjb25zdCBpbXBvcnRlZFR5cGUgPSBpbXBvcnRlZDtcbiAgICAgICAgaWYgKCFpc05nTW9kdWxlKGltcG9ydGVkVHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW1wb3J0aW5nICR7aW1wb3J0ZWRUeXBlLm5hbWV9IHdoaWNoIGRvZXMgbm90IGhhdmUgYSDJtW1vZCBwcm9wZXJ0eWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhpcyBtb2R1bGUgaW1wb3J0cyBhbm90aGVyLCB0aGUgaW1wb3J0ZWQgbW9kdWxlJ3MgZXhwb3J0ZWQgZGlyZWN0aXZlcyBhbmQgcGlwZXMgYXJlXG4gICAgICAgIC8vIGFkZGVkIHRvIHRoZSBjb21waWxhdGlvbiBzY29wZSBvZiB0aGlzIG1vZHVsZS5cbiAgICAgICAgY29uc3QgaW1wb3J0ZWRTY29wZSA9IHRyYW5zaXRpdmVTY29wZXNGb3IoaW1wb3J0ZWRUeXBlKTtcbiAgICAgICAgaW1wb3J0ZWRTY29wZS5leHBvcnRlZC5kaXJlY3RpdmVzLmZvckVhY2goZW50cnkgPT4gc2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KSk7XG4gICAgICAgIGltcG9ydGVkU2NvcGUuZXhwb3J0ZWQucGlwZXMuZm9yRWFjaChlbnRyeSA9PiBzY29wZXMuY29tcGlsYXRpb24ucGlwZXMuYWRkKGVudHJ5KSk7XG4gICAgfSk7XG4gICAgbWF5YmVVbndyYXBGbihkZWYuZGVjbGFyYXRpb25zKS5mb3JFYWNoKGRlY2xhcmVkID0+IHtcbiAgICAgICAgY29uc3QgZGVjbGFyZWRXaXRoRGVmcyA9IGRlY2xhcmVkO1xuICAgICAgICBpZiAoZ2V0UGlwZURlZiQxKGRlY2xhcmVkV2l0aERlZnMpKSB7XG4gICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24ucGlwZXMuYWRkKGRlY2xhcmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEVpdGhlciBkZWNsYXJlZCBoYXMgYSDJtWNtcCBvciDJtWRpciwgb3IgaXQncyBhIGNvbXBvbmVudCB3aGljaCBoYXNuJ3RcbiAgICAgICAgICAgIC8vIGhhZCBpdHMgdGVtcGxhdGUgY29tcGlsZWQgeWV0LiBJbiBlaXRoZXIgY2FzZSwgaXQgZ2V0cyBhZGRlZCB0byB0aGUgY29tcGlsYXRpb24nc1xuICAgICAgICAgICAgLy8gZGlyZWN0aXZlcy5cbiAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChkZWNsYXJlZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtYXliZVVud3JhcEZuKGRlZi5leHBvcnRzKS5mb3JFYWNoKChleHBvcnRlZCkgPT4ge1xuICAgICAgICBjb25zdCBleHBvcnRlZFR5cGUgPSBleHBvcnRlZDtcbiAgICAgICAgLy8gRWl0aGVyIHRoZSB0eXBlIGlzIGEgbW9kdWxlLCBhIHBpcGUsIG9yIGEgY29tcG9uZW50L2RpcmVjdGl2ZSAod2hpY2ggbWF5IG5vdCBoYXZlIGFcbiAgICAgICAgLy8gybVjbXAgYXMgaXQgbWlnaHQgYmUgY29tcGlsZWQgYXN5bmNocm9ub3VzbHkpLlxuICAgICAgICBpZiAoaXNOZ01vZHVsZShleHBvcnRlZFR5cGUpKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoaXMgbW9kdWxlIGV4cG9ydHMgYW5vdGhlciwgdGhlIGV4cG9ydGVkIG1vZHVsZSdzIGV4cG9ydGVkIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGFyZVxuICAgICAgICAgICAgLy8gYWRkZWQgdG8gYm90aCB0aGUgY29tcGlsYXRpb24gYW5kIGV4cG9ydGVkIHNjb3BlcyBvZiB0aGlzIG1vZHVsZS5cbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydGVkU2NvcGUgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKGV4cG9ydGVkVHlwZSk7XG4gICAgICAgICAgICBleHBvcnRlZFNjb3BlLmV4cG9ydGVkLmRpcmVjdGl2ZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQuZGlyZWN0aXZlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBvcnRlZFNjb3BlLmV4cG9ydGVkLnBpcGVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5waXBlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5waXBlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2V0UGlwZURlZiQxKGV4cG9ydGVkVHlwZSkpIHtcbiAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5waXBlcy5hZGQoZXhwb3J0ZWRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5kaXJlY3RpdmVzLmFkZChleHBvcnRlZFR5cGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZGVmLnRyYW5zaXRpdmVDb21waWxlU2NvcGVzID0gc2NvcGVzO1xuICAgIHJldHVybiBzY29wZXM7XG59XG5mdW5jdGlvbiBleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKHZhbHVlKSB7XG4gICAgaWYgKGlzTW9kdWxlV2l0aFByb3ZpZGVycyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm5nTW9kdWxlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBpc01vZHVsZVdpdGhQcm92aWRlcnModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUubmdNb2R1bGUgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzTmdNb2R1bGUodmFsdWUpIHtcbiAgICByZXR1cm4gISFnZXROZ01vZHVsZURlZih2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIHRoZSBjb21waWxhdGlvbiBkZXB0aCB0byBhdm9pZCByZWVudHJhbmN5IGlzc3VlcyBkdXJpbmcgSklUIGNvbXBpbGF0aW9uLiBUaGlzXG4gKiBtYXR0ZXJzIGluIHRoZSBmb2xsb3dpbmcgc2NlbmFyaW86XG4gKlxuICogQ29uc2lkZXIgYSBjb21wb25lbnQgJ0EnIHRoYXQgZXh0ZW5kcyBjb21wb25lbnQgJ0InLCBib3RoIGRlY2xhcmVkIGluIG1vZHVsZSAnTScuIER1cmluZ1xuICogdGhlIGNvbXBpbGF0aW9uIG9mICdBJyB0aGUgZGVmaW5pdGlvbiBvZiAnQicgaXMgcmVxdWVzdGVkIHRvIGNhcHR1cmUgdGhlIGluaGVyaXRhbmNlIGNoYWluLFxuICogcG90ZW50aWFsbHkgdHJpZ2dlcmluZyBjb21waWxhdGlvbiBvZiAnQicuIElmIHRoaXMgbmVzdGVkIGNvbXBpbGF0aW9uIHdlcmUgdG8gdHJpZ2dlclxuICogYGZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZWAgaXQgbWF5IGhhcHBlbiB0aGF0IG1vZHVsZSAnTScgaXMgc3RpbGwgcGVuZGluZyBpbiB0aGVcbiAqIHF1ZXVlLCByZXN1bHRpbmcgaW4gJ0EnIGFuZCAnQicgdG8gYmUgcGF0Y2hlZCB3aXRoIHRoZSBOZ01vZHVsZSBzY29wZS4gQXMgdGhlIGNvbXBpbGF0aW9uIG9mXG4gKiAnQScgaXMgc3RpbGwgaW4gcHJvZ3Jlc3MsIHRoaXMgd291bGQgaW50cm9kdWNlIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBvbiBpdHMgY29tcGlsYXRpb24uIFRvIGF2b2lkXG4gKiB0aGlzIGlzc3VlLCB0aGUgbW9kdWxlIHNjb3BlIHF1ZXVlIGlzIG9ubHkgZmx1c2hlZCBmb3IgY29tcGlsYXRpb25zIGF0IHRoZSBkZXB0aCAwLCB0byBlbnN1cmVcbiAqIGFsbCBjb21waWxhdGlvbnMgaGF2ZSBmaW5pc2hlZC5cbiAqL1xubGV0IGNvbXBpbGF0aW9uRGVwdGggPSAwO1xuLyoqXG4gKiBDb21waWxlIGFuIEFuZ3VsYXIgY29tcG9uZW50IGFjY29yZGluZyB0byBpdHMgZGVjb3JhdG9yIG1ldGFkYXRhLCBhbmQgcGF0Y2ggdGhlIHJlc3VsdGluZ1xuICogY29tcG9uZW50IGRlZiAoybVjbXApIG9udG8gdGhlIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIENvbXBpbGF0aW9uIG1heSBiZSBhc3luY2hyb25vdXMgKGR1ZSB0byB0aGUgbmVlZCB0byByZXNvbHZlIFVSTHMgZm9yIHRoZSBjb21wb25lbnQgdGVtcGxhdGUgb3JcbiAqIG90aGVyIHJlc291cmNlcywgZm9yIGV4YW1wbGUpLiBJbiB0aGUgZXZlbnQgdGhhdCBjb21waWxhdGlvbiBpcyBub3QgaW1tZWRpYXRlLCBgY29tcGlsZUNvbXBvbmVudGBcbiAqIHdpbGwgZW5xdWV1ZSByZXNvdXJjZSByZXNvbHV0aW9uIGludG8gYSBnbG9iYWwgcXVldWUgYW5kIHdpbGwgZmFpbCB0byByZXR1cm4gdGhlIGDJtWNtcGBcbiAqIHVudGlsIHRoZSBnbG9iYWwgcXVldWUgaGFzIGJlZW4gcmVzb2x2ZWQgd2l0aCBhIGNhbGwgdG8gYHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXNgLlxuICovXG5mdW5jdGlvbiBjb21waWxlQ29tcG9uZW50KHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBuZ0Rldk1vZGUuIFRoaXMgbXVzdCBiZSB0aGUgZmlyc3Qgc3RhdGVtZW50IGluIGNvbXBpbGVDb21wb25lbnQuXG4gICAgLy8gU2VlIHRoZSBgaW5pdE5nRGV2TW9kZWAgZG9jc3RyaW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKTtcbiAgICBsZXQgbmdDb21wb25lbnREZWYgPSBudWxsO1xuICAgIC8vIE1ldGFkYXRhIG1heSBoYXZlIHJlc291cmNlcyB3aGljaCBuZWVkIHRvIGJlIHJlc29sdmVkLlxuICAgIG1heWJlUXVldWVSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXModHlwZSwgbWV0YWRhdGEpO1xuICAgIC8vIE5vdGUgdGhhdCB3ZSdyZSB1c2luZyB0aGUgc2FtZSBmdW5jdGlvbiBhcyBgRGlyZWN0aXZlYCwgYmVjYXVzZSB0aGF0J3Mgb25seSBzdWJzZXQgb2YgbWV0YWRhdGFcbiAgICAvLyB0aGF0IHdlIG5lZWQgdG8gY3JlYXRlIHRoZSBuZ0ZhY3RvcnlEZWYuIFdlJ3JlIGF2b2lkaW5nIHVzaW5nIHRoZSBjb21wb25lbnQgbWV0YWRhdGFcbiAgICAvLyBiZWNhdXNlIHdlJ2QgaGF2ZSB0byByZXNvbHZlIHRoZSBhc3luY2hyb25vdXMgdGVtcGxhdGVzLlxuICAgIGFkZERpcmVjdGl2ZUZhY3RvcnlEZWYodHlwZSwgbWV0YWRhdGEpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19DT01QX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0NvbXBvbmVudERlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdjb21wb25lbnQnLCB0eXBlOiB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnROZWVkc1Jlc29sdXRpb24obWV0YWRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gW2BDb21wb25lbnQgJyR7dHlwZS5uYW1lfScgaXMgbm90IHJlc29sdmVkOmBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goYCAtIHRlbXBsYXRlVXJsOiAke21ldGFkYXRhLnRlbXBsYXRlVXJsfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YS5zdHlsZVVybHMgJiYgbWV0YWRhdGEuc3R5bGVVcmxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChgIC0gc3R5bGVVcmxzOiAke0pTT04uc3RyaW5naWZ5KG1ldGFkYXRhLnN0eWxlVXJscyl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChgRGlkIHlvdSBydW4gYW5kIHdhaXQgZm9yICdyZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKCknP2ApO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3Iuam9pbignXFxuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbnN0IHdhcyBjYWxsZWQgYGppdE9wdGlvbnNgIHByZXZpb3VzbHkgYnV0IGhhZCB0byBiZSByZW5hbWVkIHRvIGBvcHRpb25zYCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gb2YgYSBidWcgd2l0aCBUZXJzZXIgdGhhdCBjYXVzZWQgb3B0aW1pemVkIEpJVCBidWlsZHMgdG8gdGhyb3cgYSBgUmVmZXJlbmNlRXJyb3JgLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYnVnIHdhcyBpbnZlc3RpZ2F0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci1jbGkvaXNzdWVzLzE3MjY0LlxuICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBub3QgcmVuYW1lIGl0IGJhY2sgdW50aWwgaHR0cHM6Ly9naXRodWIuY29tL3RlcnNlci90ZXJzZXIvaXNzdWVzLzYxNSBpcyBmaXhlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0Sml0T3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIGxldCBwcmVzZXJ2ZVdoaXRlc3BhY2VzID0gbWV0YWRhdGEucHJlc2VydmVXaGl0ZXNwYWNlcztcbiAgICAgICAgICAgICAgICBpZiAocHJlc2VydmVXaGl0ZXNwYWNlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2VzID0gb3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBlbmNhcHN1bGF0aW9uID0gbWV0YWRhdGEuZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoZW5jYXBzdWxhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9IG9wdGlvbnMuZGVmYXVsdEVuY2Fwc3VsYXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNhcHN1bGF0aW9uID0gVmlld0VuY2Fwc3VsYXRpb24kMS5FbXVsYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZVVybCA9IG1ldGFkYXRhLnRlbXBsYXRlVXJsIHx8IGBuZzovLy8ke3R5cGUubmFtZX0vdGVtcGxhdGUuaHRtbGA7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpKSwgeyB0eXBlU291cmNlU3BhbjogY29tcGlsZXIuY3JlYXRlUGFyc2VTb3VyY2VTcGFuKCdDb21wb25lbnQnLCB0eXBlLm5hbWUsIHRlbXBsYXRlVXJsKSwgdGVtcGxhdGU6IG1ldGFkYXRhLnRlbXBsYXRlIHx8ICcnLCBwcmVzZXJ2ZVdoaXRlc3BhY2VzLCBzdHlsZXM6IG1ldGFkYXRhLnN0eWxlcyB8fCBFTVBUWV9BUlJBWSwgYW5pbWF0aW9uczogbWV0YWRhdGEuYW5pbWF0aW9ucywgZGlyZWN0aXZlczogW10sIGNoYW5nZURldGVjdGlvbjogbWV0YWRhdGEuY2hhbmdlRGV0ZWN0aW9uLCBwaXBlczogbmV3IE1hcCgpLCBlbmNhcHN1bGF0aW9uLCBpbnRlcnBvbGF0aW9uOiBtZXRhZGF0YS5pbnRlcnBvbGF0aW9uLCB2aWV3UHJvdmlkZXJzOiBtZXRhZGF0YS52aWV3UHJvdmlkZXJzIHx8IG51bGwgfSk7XG4gICAgICAgICAgICAgICAgY29tcGlsYXRpb25EZXB0aCsrO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhLnVzZXNJbmhlcml0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRGlyZWN0aXZlRGVmVG9VbmRlY29yYXRlZFBhcmVudHModHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmdDb21wb25lbnREZWYgPSBjb21waWxlci5jb21waWxlQ29tcG9uZW50KGFuZ3VsYXJDb3JlRW52LCB0ZW1wbGF0ZVVybCwgbWV0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgY29tcGlsYXRpb24gZGVwdGggaXMgZGVjcmVtZW50ZWQgZXZlbiB3aGVuIHRoZSBjb21waWxhdGlvbiBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGF0aW9uRGVwdGgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBpbGF0aW9uRGVwdGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBOZ01vZHVsZSBkZWNvcmF0b3IgZXhlY3V0ZWQsIHdlIGVucXVldWVkIHRoZSBtb2R1bGUgZGVmaW5pdGlvbiBzdWNoIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgd291bGQgb25seSBkZXF1ZXVlIGFuZCBhZGQgaXRzZWxmIGFzIG1vZHVsZSBzY29wZSB0byBhbGwgb2YgaXRzIGRlY2xhcmF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG9ubHkgaWYgIGlmIGFsbCBvZiBpdHMgZGVjbGFyYXRpb25zIGhhZCByZXNvbHZlZC4gVGhpcyBjYWxsIHJ1bnMgdGhlIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHNlZSBpZiBhbnkgbW9kdWxlcyB0aGF0IGFyZSBpbiB0aGUgcXVldWUgY2FuIGJlIGRlcXVldWVkIGFuZCBhZGQgc2NvcGUgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlaXIgZGVjbGFyYXRpb25zLlxuICAgICAgICAgICAgICAgICAgICBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgY29tcG9uZW50IGNvbXBpbGF0aW9uIGlzIGFzeW5jLCB0aGVuIHRoZSBATmdNb2R1bGUgYW5ub3RhdGlvbiB3aGljaCBkZWNsYXJlcyB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGV4ZWN1dGUgYW5kIHNldCBhbiBuZ1NlbGVjdG9yU2NvcGUgcHJvcGVydHkgb24gdGhlIGNvbXBvbmVudCB0eXBlLiBUaGlzXG4gICAgICAgICAgICAgICAgLy8gYWxsb3dzIHRoZSBjb21wb25lbnQgdG8gcGF0Y2ggaXRzZWxmIHdpdGggZGlyZWN0aXZlRGVmcyBmcm9tIHRoZSBtb2R1bGUgYWZ0ZXIgaXRcbiAgICAgICAgICAgICAgICAvLyBmaW5pc2hlcyBjb21waWxpbmcuXG4gICAgICAgICAgICAgICAgaWYgKGhhc1NlbGVjdG9yU2NvcGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVzID0gdHJhbnNpdGl2ZVNjb3Blc0Zvcih0eXBlLm5nU2VsZWN0b3JTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKG5nQ29tcG9uZW50RGVmLCBzY29wZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0NvbXBvbmVudERlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdG9yU2NvcGUoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudC5uZ1NlbGVjdG9yU2NvcGUgIT09IHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGRpcmVjdGl2ZSBhY2NvcmRpbmcgdG8gaXRzIGRlY29yYXRvciBtZXRhZGF0YSwgYW5kIHBhdGNoIHRoZSByZXN1bHRpbmdcbiAqIGRpcmVjdGl2ZSBkZWYgb250byB0aGUgY29tcG9uZW50IHR5cGUuXG4gKlxuICogSW4gdGhlIGV2ZW50IHRoYXQgY29tcGlsYXRpb24gaXMgbm90IGltbWVkaWF0ZSwgYGNvbXBpbGVEaXJlY3RpdmVgIHdpbGwgcmV0dXJuIGEgYFByb21pc2VgIHdoaWNoXG4gKiB3aWxsIHJlc29sdmUgd2hlbiBjb21waWxhdGlvbiBjb21wbGV0ZXMgYW5kIHRoZSBkaXJlY3RpdmUgYmVjb21lcyB1c2FibGUuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVEaXJlY3RpdmUodHlwZSwgZGlyZWN0aXZlKSB7XG4gICAgbGV0IG5nRGlyZWN0aXZlRGVmID0gbnVsbDtcbiAgICBhZGREaXJlY3RpdmVGYWN0b3J5RGVmKHR5cGUsIGRpcmVjdGl2ZSB8fCB7fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0RJUl9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdEaXJlY3RpdmVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBgZGlyZWN0aXZlYCBjYW4gYmUgbnVsbCBpbiB0aGUgY2FzZSBvZiBhYnN0cmFjdCBkaXJlY3RpdmVzIGFzIGEgYmFzZSBjbGFzc1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgdXNlIGBARGlyZWN0aXZlKClgIHdpdGggbm8gc2VsZWN0b3IuIEluIHRoYXQgY2FzZSwgcGFzcyBlbXB0eSBvYmplY3QgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gYGRpcmVjdGl2ZU1ldGFkYXRhYCBmdW5jdGlvbiBpbnN0ZWFkIG9mIG51bGwuXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGdldERpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIGRpcmVjdGl2ZSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdEaXJlY3RpdmVEZWYgPVxuICAgICAgICAgICAgICAgICAgICBjb21waWxlci5jb21waWxlRGlyZWN0aXZlKGFuZ3VsYXJDb3JlRW52LCBtZXRhLnNvdXJjZU1hcFVybCwgbWV0YS5tZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdEaXJlY3RpdmVEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXREaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSkge1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlICYmIHR5cGUubmFtZTtcbiAgICBjb25zdCBzb3VyY2VNYXBVcmwgPSBgbmc6Ly8vJHtuYW1lfS/JtWRpci5qc2A7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGUgfSk7XG4gICAgY29uc3QgZmFjYWRlID0gZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpO1xuICAgIGZhY2FkZS50eXBlU291cmNlU3BhbiA9IGNvbXBpbGVyLmNyZWF0ZVBhcnNlU291cmNlU3BhbignRGlyZWN0aXZlJywgbmFtZSwgc291cmNlTWFwVXJsKTtcbiAgICBpZiAoZmFjYWRlLnVzZXNJbmhlcml0YW5jZSkge1xuICAgICAgICBhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyh0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWV0YWRhdGE6IGZhY2FkZSwgc291cmNlTWFwVXJsIH07XG59XG5mdW5jdGlvbiBhZGREaXJlY3RpdmVGYWN0b3J5RGVmKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgbGV0IG5nRmFjdG9yeURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0ZBQ1RPUllfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBnZXREaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2RpcmVjdGl2ZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke3R5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1ldGEubWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbWV0YS5tZXRhZGF0YS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nRmFjdG9yeURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGV4dGVuZHNEaXJlY3RseUZyb21PYmplY3QodHlwZSkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodHlwZS5wcm90b3R5cGUpID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuLyoqXG4gKiBFeHRyYWN0IHRoZSBgUjNEaXJlY3RpdmVNZXRhZGF0YWAgZm9yIGEgcGFydGljdWxhciBkaXJlY3RpdmUgKGVpdGhlciBhIGBEaXJlY3RpdmVgIG9yIGFcbiAqIGBDb21wb25lbnRgKS5cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpIHtcbiAgICAvLyBSZWZsZWN0IGlucHV0cyBhbmQgb3V0cHV0cy5cbiAgICBjb25zdCByZWZsZWN0ID0gZ2V0UmVmbGVjdCgpO1xuICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHJlZmxlY3Qub3duUHJvcE1ldGFkYXRhKHR5cGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgc2VsZWN0b3I6IG1ldGFkYXRhLnNlbGVjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhZGF0YS5zZWxlY3RvciA6IG51bGwsXG4gICAgICAgIGhvc3Q6IG1ldGFkYXRhLmhvc3QgfHwgRU1QVFlfT0JKLFxuICAgICAgICBwcm9wTWV0YWRhdGE6IHByb3BNZXRhZGF0YSxcbiAgICAgICAgaW5wdXRzOiBtZXRhZGF0YS5pbnB1dHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIG91dHB1dHM6IG1ldGFkYXRhLm91dHB1dHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIHF1ZXJpZXM6IGV4dHJhY3RRdWVyaWVzTWV0YWRhdGEodHlwZSwgcHJvcE1ldGFkYXRhLCBpc0NvbnRlbnRRdWVyeSksXG4gICAgICAgIGxpZmVjeWNsZTogeyB1c2VzT25DaGFuZ2VzOiByZWZsZWN0Lmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgJ25nT25DaGFuZ2VzJykgfSxcbiAgICAgICAgdHlwZVNvdXJjZVNwYW46IG51bGwsXG4gICAgICAgIHVzZXNJbmhlcml0YW5jZTogIWV4dGVuZHNEaXJlY3RseUZyb21PYmplY3QodHlwZSksXG4gICAgICAgIGV4cG9ydEFzOiBleHRyYWN0RXhwb3J0QXMobWV0YWRhdGEuZXhwb3J0QXMpLFxuICAgICAgICBwcm92aWRlcnM6IG1ldGFkYXRhLnByb3ZpZGVycyB8fCBudWxsLFxuICAgICAgICB2aWV3UXVlcmllczogZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzVmlld1F1ZXJ5KVxuICAgIH07XG59XG4vKipcbiAqIEFkZHMgYSBkaXJlY3RpdmUgZGVmaW5pdGlvbiB0byBhbGwgcGFyZW50IGNsYXNzZXMgb2YgYSB0eXBlIHRoYXQgZG9uJ3QgaGF2ZSBhbiBBbmd1bGFyIGRlY29yYXRvci5cbiAqL1xuZnVuY3Rpb24gYWRkRGlyZWN0aXZlRGVmVG9VbmRlY29yYXRlZFBhcmVudHModHlwZSkge1xuICAgIGNvbnN0IG9ialByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgbGV0IHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG4gICAgLy8gR28gdXAgdGhlIHByb3RvdHlwZSB1bnRpbCB3ZSBoaXQgYE9iamVjdGAuXG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IG9ialByb3RvdHlwZSkge1xuICAgICAgICAvLyBTaW5jZSBpbmhlcml0YW5jZSB3b3JrcyBpZiB0aGUgY2xhc3Mgd2FzIGFubm90YXRlZCBhbHJlYWR5LCB3ZSBvbmx5IG5lZWQgdG8gYWRkXG4gICAgICAgIC8vIHRoZSBkZWYgaWYgdGhlcmUgYXJlIG5vIGFubm90YXRpb25zIGFuZCB0aGUgZGVmIGhhc24ndCBiZWVuIGNyZWF0ZWQgYWxyZWFkeS5cbiAgICAgICAgaWYgKCFnZXREaXJlY3RpdmVEZWYocGFyZW50KSAmJiAhZ2V0Q29tcG9uZW50RGVmKHBhcmVudCkgJiZcbiAgICAgICAgICAgIHNob3VsZEFkZEFic3RyYWN0RGlyZWN0aXZlKHBhcmVudCkpIHtcbiAgICAgICAgICAgIGNvbXBpbGVEaXJlY3RpdmUocGFyZW50LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGFyZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9SM1F1ZXJ5UHJlZGljYXRlKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycgPyBzcGxpdEJ5Q29tbWEoc2VsZWN0b3IpIDogcmVzb2x2ZUZvcndhcmRSZWYoc2VsZWN0b3IpO1xufVxuZnVuY3Rpb24gY29udmVydFRvUjNRdWVyeU1ldGFkYXRhKHByb3BlcnR5TmFtZSwgYW5uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsXG4gICAgICAgIHByZWRpY2F0ZTogY29udmVydFRvUjNRdWVyeVByZWRpY2F0ZShhbm4uc2VsZWN0b3IpLFxuICAgICAgICBkZXNjZW5kYW50czogYW5uLmRlc2NlbmRhbnRzLFxuICAgICAgICBmaXJzdDogYW5uLmZpcnN0LFxuICAgICAgICByZWFkOiBhbm4ucmVhZCA/IGFubi5yZWFkIDogbnVsbCxcbiAgICAgICAgc3RhdGljOiAhIWFubi5zdGF0aWMsXG4gICAgICAgIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OiAhIWFubi5lbWl0RGlzdGluY3RDaGFuZ2VzT25seSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzUXVlcnlBbm4pIHtcbiAgICBjb25zdCBxdWVyaWVzTWV0YSA9IFtdO1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gcHJvcE1ldGFkYXRhKSB7XG4gICAgICAgIGlmIChwcm9wTWV0YWRhdGEuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IHByb3BNZXRhZGF0YVtmaWVsZF07XG4gICAgICAgICAgICBhbm5vdGF0aW9ucy5mb3JFYWNoKGFubiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUXVlcnlBbm4oYW5uKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFubi5zZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBjb25zdHJ1Y3QgYSBxdWVyeSBmb3IgdGhlIHByb3BlcnR5IFwiJHtmaWVsZH1cIiBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXCIke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfVwiIHNpbmNlIHRoZSBxdWVyeSBzZWxlY3RvciB3YXNuJ3QgZGVmaW5lZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ub3RhdGlvbnMuc29tZShpc0lucHV0QW5ub3RhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbWJpbmUgQElucHV0IGRlY29yYXRvcnMgd2l0aCBxdWVyeSBkZWNvcmF0b3JzYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcXVlcmllc01ldGEucHVzaChjb252ZXJ0VG9SM1F1ZXJ5TWV0YWRhdGEoZmllbGQsIGFubikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyaWVzTWV0YTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RFeHBvcnRBcyhleHBvcnRBcykge1xuICAgIHJldHVybiBleHBvcnRBcyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHNwbGl0QnlDb21tYShleHBvcnRBcyk7XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRRdWVyeSh2YWx1ZSkge1xuICAgIGNvbnN0IG5hbWUgPSB2YWx1ZS5uZ01ldGFkYXRhTmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ0NvbnRlbnRDaGlsZCcgfHwgbmFtZSA9PT0gJ0NvbnRlbnRDaGlsZHJlbic7XG59XG5mdW5jdGlvbiBpc1ZpZXdRdWVyeSh2YWx1ZSkge1xuICAgIGNvbnN0IG5hbWUgPSB2YWx1ZS5uZ01ldGFkYXRhTmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ1ZpZXdDaGlsZCcgfHwgbmFtZSA9PT0gJ1ZpZXdDaGlsZHJlbic7XG59XG5mdW5jdGlvbiBpc0lucHV0QW5ub3RhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5uZ01ldGFkYXRhTmFtZSA9PT0gJ0lucHV0Jztcbn1cbmZ1bmN0aW9uIHNwbGl0QnlDb21tYSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnLCcpLm1hcChwaWVjZSA9PiBwaWVjZS50cmltKCkpO1xufVxuY29uc3QgTElGRUNZQ0xFX0hPT0tTID0gW1xuICAgICduZ09uQ2hhbmdlcycsICduZ09uSW5pdCcsICduZ09uRGVzdHJveScsICduZ0RvQ2hlY2snLCAnbmdBZnRlclZpZXdJbml0JywgJ25nQWZ0ZXJWaWV3Q2hlY2tlZCcsXG4gICAgJ25nQWZ0ZXJDb250ZW50SW5pdCcsICduZ0FmdGVyQ29udGVudENoZWNrZWQnXG5dO1xuZnVuY3Rpb24gc2hvdWxkQWRkQWJzdHJhY3REaXJlY3RpdmUodHlwZSkge1xuICAgIGNvbnN0IHJlZmxlY3QgPSBnZXRSZWZsZWN0KCk7XG4gICAgaWYgKExJRkVDWUNMRV9IT09LUy5zb21lKGhvb2tOYW1lID0+IHJlZmxlY3QuaGFzTGlmZWN5Y2xlSG9vayh0eXBlLCBob29rTmFtZSkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSByZWZsZWN0LnByb3BNZXRhZGF0YSh0eXBlKTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIHByb3BNZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IHByb3BNZXRhZGF0YVtmaWVsZF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhbm5vdGF0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhTmFtZSA9IGN1cnJlbnQubmdNZXRhZGF0YU5hbWU7XG4gICAgICAgICAgICBpZiAoaXNJbnB1dEFubm90YXRpb24oY3VycmVudCkgfHwgaXNDb250ZW50UXVlcnkoY3VycmVudCkgfHwgaXNWaWV3UXVlcnkoY3VycmVudCkgfHxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YU5hbWUgPT09ICdPdXRwdXQnIHx8IG1ldGFkYXRhTmFtZSA9PT0gJ0hvc3RCaW5kaW5nJyB8fFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhTmFtZSA9PT0gJ0hvc3RMaXN0ZW5lcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gY29tcGlsZVBpcGUodHlwZSwgbWV0YSkge1xuICAgIGxldCBuZ1BpcGVEZWYgPSBudWxsO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0ZhY3RvcnlEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGdldFBpcGVNZXRhZGF0YSh0eXBlLCBtZXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAncGlwZScsIHR5cGU6IG1ldGFkYXRhLnR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdGYWN0b3J5RGVmID0gY29tcGlsZXIuY29tcGlsZUZhY3RvcnkoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21ldGFkYXRhLm5hbWV9L8m1ZmFjLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZXRhZGF0YS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogcmVmbGVjdERlcGVuZGVuY2llcyh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LlBpcGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX1BJUEVfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nUGlwZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0UGlwZU1ldGFkYXRhKHR5cGUsIG1ldGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdwaXBlJywgdHlwZTogbWV0YWRhdGEudHlwZSB9KTtcbiAgICAgICAgICAgICAgICBuZ1BpcGVEZWYgPVxuICAgICAgICAgICAgICAgICAgICBjb21waWxlci5jb21waWxlUGlwZShhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7bWV0YWRhdGEubmFtZX0vybVwaXBlLmpzYCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nUGlwZURlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBpcGVNZXRhZGF0YSh0eXBlLCBtZXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICBwaXBlTmFtZTogbWV0YS5uYW1lLFxuICAgICAgICBwdXJlOiBtZXRhLnB1cmUgIT09IHVuZGVmaW5lZCA/IG1ldGEucHVyZSA6IHRydWVcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVHlwZSBvZiB0aGUgRGlyZWN0aXZlIG1ldGFkYXRhLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgRGlyZWN0aXZlID0gbWFrZURlY29yYXRvcignRGlyZWN0aXZlJywgKGRpciA9IHt9KSA9PiBkaXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAodHlwZSwgbWV0YSkgPT4gY29tcGlsZURpcmVjdGl2ZSh0eXBlLCBtZXRhKSk7XG4vKipcbiAqIENvbXBvbmVudCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENvbXBvbmVudCA9IG1ha2VEZWNvcmF0b3IoJ0NvbXBvbmVudCcsIChjID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5EZWZhdWx0IH0sIGMpKSwgRGlyZWN0aXZlLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlQ29tcG9uZW50KHR5cGUsIG1ldGEpKTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUGlwZSA9IG1ha2VEZWNvcmF0b3IoJ1BpcGUnLCAocCkgPT4gKE9iamVjdC5hc3NpZ24oeyBwdXJlOiB0cnVlIH0sIHApKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICh0eXBlLCBtZXRhKSA9PiBjb21waWxlUGlwZSh0eXBlLCBtZXRhKSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IElucHV0ID0gbWFrZVByb3BEZWNvcmF0b3IoJ0lucHV0JywgKGJpbmRpbmdQcm9wZXJ0eU5hbWUpID0+ICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBPdXRwdXQgPSBtYWtlUHJvcERlY29yYXRvcignT3V0cHV0JywgKGJpbmRpbmdQcm9wZXJ0eU5hbWUpID0+ICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBIb3N0QmluZGluZyA9IG1ha2VQcm9wRGVjb3JhdG9yKCdIb3N0QmluZGluZycsIChob3N0UHJvcGVydHlOYW1lKSA9PiAoeyBob3N0UHJvcGVydHlOYW1lIH0pKTtcbi8qKlxuICogRGVjb3JhdG9yIHRoYXQgYmluZHMgYSBET00gZXZlbnQgdG8gYSBob3N0IGxpc3RlbmVyIGFuZCBzdXBwbGllcyBjb25maWd1cmF0aW9uIG1ldGFkYXRhLlxuICogQW5ndWxhciBpbnZva2VzIHRoZSBzdXBwbGllZCBoYW5kbGVyIG1ldGhvZCB3aGVuIHRoZSBob3N0IGVsZW1lbnQgZW1pdHMgdGhlIHNwZWNpZmllZCBldmVudCxcbiAqIGFuZCB1cGRhdGVzIHRoZSBib3VuZCBlbGVtZW50IHdpdGggdGhlIHJlc3VsdC5cbiAqXG4gKiBJZiB0aGUgaGFuZGxlciBtZXRob2QgcmV0dXJucyBmYWxzZSwgYXBwbGllcyBgcHJldmVudERlZmF1bHRgIG9uIHRoZSBib3VuZCBlbGVtZW50LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlY2xhcmVzIGEgZGlyZWN0aXZlXG4gKiB0aGF0IGF0dGFjaGVzIGEgY2xpY2sgbGlzdGVuZXIgdG8gYSBidXR0b24gYW5kIGNvdW50cyBjbGlja3MuXG4gKlxuICogYGBgdHNcbiAqIEBEaXJlY3RpdmUoe3NlbGVjdG9yOiAnYnV0dG9uW2NvdW50aW5nXSd9KVxuICogY2xhc3MgQ291bnRDbGlja3Mge1xuICogICBudW1iZXJPZkNsaWNrcyA9IDA7XG4gKlxuICogICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50LnRhcmdldCddKVxuICogICBvbkNsaWNrKGJ0bikge1xuICogICAgIGNvbnNvbGUubG9nKCdidXR0b24nLCBidG4sICdudW1iZXIgb2YgY2xpY2tzOicsIHRoaXMubnVtYmVyT2ZDbGlja3MrKyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogJzxidXR0b24gY291bnRpbmc+SW5jcmVtZW50PC9idXR0b24+JyxcbiAqIH0pXG4gKiBjbGFzcyBBcHAge31cbiAqXG4gKiBgYGBcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgcmVnaXN0ZXJzIGFub3RoZXIgRE9NIGV2ZW50IGhhbmRsZXIgdGhhdCBsaXN0ZW5zIGZvciBgRW50ZXJgIGtleS1wcmVzc1xuICogZXZlbnRzIG9uIHRoZSBnbG9iYWwgYHdpbmRvd2AuXG4gKiBgYGAgdHNcbiAqIGltcG9ydCB7IEhvc3RMaXN0ZW5lciwgQ29tcG9uZW50IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYDxoMT5IZWxsbywgeW91IGhhdmUgcHJlc3NlZCBlbnRlciB7e2NvdW50ZXJ9fSBudW1iZXIgb2YgdGltZXMhPC9oMT4gUHJlc3MgZW50ZXIga2V5XG4gKiB0byBpbmNyZW1lbnQgdGhlIGNvdW50ZXIuXG4gKiAgIDxidXR0b24gKGNsaWNrKT1cInJlc2V0Q291bnRlcigpXCI+UmVzZXQgQ291bnRlcjwvYnV0dG9uPmBcbiAqIH0pXG4gKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICogICBjb3VudGVyID0gMDtcbiAqICAgQEhvc3RMaXN0ZW5lcignd2luZG93OmtleWRvd24uZW50ZXInLCBbJyRldmVudCddKVxuICogICBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gKiAgICAgdGhpcy5jb3VudGVyKys7XG4gKiAgIH1cbiAqICAgcmVzZXRDb3VudGVyKCkge1xuICogICAgIHRoaXMuY291bnRlciA9IDA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogVGhlIGxpc3Qgb2YgdmFsaWQga2V5IG5hbWVzIGZvciBga2V5ZG93bmAgYW5kIGBrZXl1cGAgZXZlbnRzXG4gKiBjYW4gYmUgZm91bmQgaGVyZTpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMta2V5LyNuYW1lZC1rZXktYXR0cmlidXRlLXZhbHVlc1xuICpcbiAqIE5vdGUgdGhhdCBrZXlzIGNhbiBhbHNvIGJlIGNvbWJpbmVkLCBlLmcuIGBASG9zdExpc3RlbmVyKCdrZXlkb3duLnNoaWZ0LmEnKWAuXG4gKlxuICogVGhlIGdsb2JhbCB0YXJnZXQgbmFtZXMgdGhhdCBjYW4gYmUgdXNlZCB0byBwcmVmaXggYW4gZXZlbnQgbmFtZSBhcmVcbiAqIGBkb2N1bWVudDpgLCBgd2luZG93OmAgYW5kIGBib2R5OmAuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSG9zdExpc3RlbmVyID0gbWFrZVByb3BEZWNvcmF0b3IoJ0hvc3RMaXN0ZW5lcicsIChldmVudE5hbWUsIGFyZ3MpID0+ICh7IGV2ZW50TmFtZSwgYXJncyB9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBOZ01vZHVsZSA9IG1ha2VEZWNvcmF0b3IoJ05nTW9kdWxlJywgKG5nTW9kdWxlKSA9PiBuZ01vZHVsZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFxuLyoqXG4gKiBEZWNvcmF0b3IgdGhhdCBtYXJrcyB0aGUgZm9sbG93aW5nIGNsYXNzIGFzIGFuIE5nTW9kdWxlLCBhbmQgc3VwcGxpZXNcbiAqIGNvbmZpZ3VyYXRpb24gbWV0YWRhdGEgZm9yIGl0LlxuICpcbiAqICogVGhlIGBkZWNsYXJhdGlvbnNgIGFuZCBgZW50cnlDb21wb25lbnRzYCBvcHRpb25zIGNvbmZpZ3VyZSB0aGUgY29tcGlsZXJcbiAqIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBiZWxvbmdzIHRvIHRoZSBOZ01vZHVsZS5cbiAqICogVGhlIGBwcm92aWRlcnNgIG9wdGlvbnMgY29uZmlndXJlcyB0aGUgTmdNb2R1bGUncyBpbmplY3RvciB0byBwcm92aWRlXG4gKiBkZXBlbmRlbmNpZXMgdGhlIE5nTW9kdWxlIG1lbWJlcnMuXG4gKiAqIFRoZSBgaW1wb3J0c2AgYW5kIGBleHBvcnRzYCBvcHRpb25zIGJyaW5nIGluIG1lbWJlcnMgZnJvbSBvdGhlciBtb2R1bGVzLCBhbmQgbWFrZVxuICogdGhpcyBtb2R1bGUncyBtZW1iZXJzIGF2YWlsYWJsZSB0byBvdGhlcnMuXG4gKi9cbih0eXBlLCBtZXRhKSA9PiBjb21waWxlTmdNb2R1bGUodHlwZSwgbWV0YSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBub29wKC4uLmFyZ3MpIHtcbiAgICAvLyBEbyBub3RoaW5nLlxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIGV4aXN0ZW5jZSBvZiB0aGlzIGNvbnN0YW50IChpbiB0aGlzIHBhcnRpY3VsYXIgZmlsZSkgaW5mb3JtcyB0aGUgQW5ndWxhciBjb21waWxlciB0aGF0IHRoZVxuICogY3VycmVudCBwcm9ncmFtIGlzIGFjdHVhbGx5IEBhbmd1bGFyL2NvcmUsIHdoaWNoIG5lZWRzIHRvIGJlIGNvbXBpbGVkIHNwZWNpYWxseS5cbiAqL1xuY29uc3QgSVRTX0pVU1RfQU5HVUxBUiA9IHRydWU7XG5cbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSB0aGF0IHlvdSBjYW4gdXNlIHRvIHByb3ZpZGVcbiAqIG9uZSBvciBtb3JlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9ucy5cbiAqXG4gKiBUaGUgcHJvdmlkZWQgZnVuY3Rpb25zIGFyZSBpbmplY3RlZCBhdCBhcHBsaWNhdGlvbiBzdGFydHVwIGFuZCBleGVjdXRlZCBkdXJpbmdcbiAqIGFwcCBpbml0aWFsaXphdGlvbi4gSWYgYW55IG9mIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm5zIGEgUHJvbWlzZSBvciBhbiBPYnNlcnZhYmxlLCBpbml0aWFsaXphdGlvblxuICogZG9lcyBub3QgY29tcGxldGUgdW50aWwgdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQgb3IgdGhlIE9ic2VydmFibGUgaXMgY29tcGxldGVkLlxuICpcbiAqIFlvdSBjYW4sIGZvciBleGFtcGxlLCBjcmVhdGUgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgbG9hZHMgbGFuZ3VhZ2UgZGF0YVxuICogb3IgYW4gZXh0ZXJuYWwgY29uZmlndXJhdGlvbiwgYW5kIHByb3ZpZGUgdGhhdCBmdW5jdGlvbiB0byB0aGUgYEFQUF9JTklUSUFMSVpFUmAgdG9rZW4uXG4gKiBUaGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZHVyaW5nIHRoZSBhcHBsaWNhdGlvbiBib290c3RyYXAgcHJvY2VzcyxcbiAqIGFuZCB0aGUgbmVlZGVkIGRhdGEgaXMgYXZhaWxhYmxlIG9uIHN0YXJ0dXAuXG4gKlxuICogQHNlZSBgQXBwbGljYXRpb25Jbml0U3RhdHVzYFxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGlsbHVzdHJhdGVzIGhvdyB0byBjb25maWd1cmUgYSBtdWx0aS1wcm92aWRlciB1c2luZyBgQVBQX0lOSVRJQUxJWkVSYCB0b2tlblxuICogYW5kIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvbWlzZS5cbiAqXG4gKiBgYGBcbiAqICBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCk6IFByb21pc2U8YW55PiB7XG4gKiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICogICAgICAvLyBEbyBzb21lIGFzeW5jaHJvbm91cyBzdHVmZlxuICogICAgICByZXNvbHZlKCk7XG4gKiAgICB9KTtcbiAqICB9XG4gKlxuICogIEBOZ01vZHVsZSh7XG4gKiAgIGltcG9ydHM6IFtCcm93c2VyTW9kdWxlXSxcbiAqICAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgcHJvdmlkZXJzOiBbe1xuICogICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAqICAgICB1c2VGYWN0b3J5OiAoKSA9PiBpbml0aWFsaXplQXBwLFxuICogICAgIG11bHRpOiB0cnVlXG4gKiAgICB9XVxuICogICB9KVxuICogIGV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge31cbiAqIGBgYFxuICpcbiAqIEl0J3MgYWxzbyBwb3NzaWJsZSB0byBjb25maWd1cmUgYSBtdWx0aS1wcm92aWRlciB1c2luZyBgQVBQX0lOSVRJQUxJWkVSYCB0b2tlbiBhbmQgYSBmdW5jdGlvblxuICogcmV0dXJuaW5nIGFuIG9ic2VydmFibGUsIHNlZSBhbiBleGFtcGxlIGJlbG93LiBOb3RlOiB0aGUgYEh0dHBDbGllbnRgIGluIHRoaXMgZXhhbXBsZSBpcyB1c2VkIGZvclxuICogZGVtbyBwdXJwb3NlcyB0byBpbGx1c3RyYXRlIGhvdyB0aGUgZmFjdG9yeSBmdW5jdGlvbiBjYW4gd29yayB3aXRoIG90aGVyIHByb3ZpZGVycyBhdmFpbGFibGVcbiAqIHRocm91Z2ggREkuXG4gKlxuICogYGBgXG4gKiAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcEZhY3RvcnkoaHR0cENsaWVudDogSHR0cENsaWVudCk6ICgpID0+IE9ic2VydmFibGU8YW55PiB7XG4gKiAgIHJldHVybiAoKSA9PiBodHRwQ2xpZW50LmdldChcImh0dHBzOi8vc29tZVVybC5jb20vYXBpL3VzZXJcIilcbiAqICAgICAucGlwZShcbiAqICAgICAgICB0YXAodXNlciA9PiB7IC4uLiB9KVxuICogICAgICk7XG4gKiAgfVxuICpcbiAqICBATmdNb2R1bGUoe1xuICogICAgaW1wb3J0czogW0Jyb3dzZXJNb2R1bGUsIEh0dHBDbGllbnRNb2R1bGVdLFxuICogICAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSxcbiAqICAgIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sXG4gKiAgICBwcm92aWRlcnM6IFt7XG4gKiAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAqICAgICAgdXNlRmFjdG9yeTogaW5pdGlhbGl6ZUFwcEZhY3RvcnksXG4gKiAgICAgIGRlcHM6IFtIdHRwQ2xpZW50XSxcbiAqICAgICAgbXVsdGk6IHRydWVcbiAqICAgIH1dXG4gKiAgfSlcbiAqICBleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9JTklUSUFMSVpFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwbGljYXRpb24gSW5pdGlhbGl6ZXInKTtcbi8qKlxuICogQSBjbGFzcyB0aGF0IHJlZmxlY3RzIHRoZSBzdGF0ZSBvZiBydW5uaW5nIHtAbGluayBBUFBfSU5JVElBTElaRVJ9IGZ1bmN0aW9ucy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uSW5pdFN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoYXBwSW5pdHMpIHtcbiAgICAgICAgdGhpcy5hcHBJbml0cyA9IGFwcEluaXRzO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSBub29wO1xuICAgICAgICB0aGlzLnJlamVjdCA9IG5vb3A7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9uZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlcztcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJ1bkluaXRpYWxpemVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhc3luY0luaXRQcm9taXNlcyA9IFtdO1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuYXBwSW5pdHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hcHBJbml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRSZXN1bHQgPSB0aGlzLmFwcEluaXRzW2ldKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShpbml0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICBhc3luY0luaXRQcm9taXNlcy5wdXNoKGluaXRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc09ic2VydmFibGUoaW5pdFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2YWJsZUFzUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRSZXN1bHQuc3Vic2NyaWJlKHsgY29tcGxldGU6IHJlc29sdmUsIGVycm9yOiByZWplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBhc3luY0luaXRQcm9taXNlcy5wdXNoKG9ic2VydmFibGVBc1Byb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlLmFsbChhc3luY0luaXRQcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhc3luY0luaXRQcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxufVxuQXBwbGljYXRpb25Jbml0U3RhdHVzLsm1ZmFjID0gZnVuY3Rpb24gQXBwbGljYXRpb25Jbml0U3RhdHVzX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uSW5pdFN0YXR1cykoybXJtWluamVjdChBUFBfSU5JVElBTElaRVIsIDgpKTsgfTtcbkFwcGxpY2F0aW9uSW5pdFN0YXR1cy7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgZmFjdG9yeTogQXBwbGljYXRpb25Jbml0U3RhdHVzLsm1ZmFjLCBwcm92aWRlZEluOiAncm9vdCcgfSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShBcHBsaWNhdGlvbkluaXRTdGF0dXMsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbQVBQX0lOSVRJQUxJWkVSXVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9LCBudWxsKTtcbn0pKCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFtESSB0b2tlbl0oZ3VpZGUvZ2xvc3NhcnkjZGktdG9rZW4gXCJESSB0b2tlbiBkZWZpbml0aW9uXCIpIHJlcHJlc2VudGluZyBhIHVuaXF1ZSBzdHJpbmcgSUQsIHVzZWRcbiAqIHByaW1hcmlseSBmb3IgcHJlZml4aW5nIGFwcGxpY2F0aW9uIGF0dHJpYnV0ZXMgYW5kIENTUyBzdHlsZXMgd2hlblxuICoge0BsaW5rIFZpZXdFbmNhcHN1bGF0aW9uI0VtdWxhdGVkIFZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkfSBpcyBiZWluZyB1c2VkLlxuICpcbiAqIEJZIGRlZmF1bHQsIHRoZSB2YWx1ZSBpcyByYW5kb21seSBnZW5lcmF0ZWQgYW5kIGFzc2lnbmVkIHRvIHRoZSBhcHBsaWNhdGlvbiBieSBBbmd1bGFyLlxuICogVG8gcHJvdmlkZSBhIGN1c3RvbSBJRCB2YWx1ZSwgdXNlIGEgREkgcHJvdmlkZXIgPCEtLSBUT0RPOiBwcm92aWRlciAtLT4gdG8gY29uZmlndXJlXG4gKiB0aGUgcm9vdCB7QGxpbmsgSW5qZWN0b3J9IHRoYXQgdXNlcyB0aGlzIHRva2VuLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBJZCcsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5LFxufSk7XG5mdW5jdGlvbiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGAke19yYW5kb21DaGFyKCl9JHtfcmFuZG9tQ2hhcigpfSR7X3JhbmRvbUNoYXIoKX1gO1xufVxuLyoqXG4gKiBQcm92aWRlcnMgdGhhdCBnZW5lcmF0ZSBhIHJhbmRvbSBgQVBQX0lEX1RPS0VOYC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0lEX1JBTkRPTV9QUk9WSURFUiA9IHtcbiAgICBwcm92aWRlOiBBUFBfSUQsXG4gICAgdXNlRmFjdG9yeTogX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5LFxuICAgIGRlcHM6IFtdLFxufTtcbmZ1bmN0aW9uIF9yYW5kb21DaGFyKCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUpKTtcbn1cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIHdoZW4gYSBwbGF0Zm9ybSBpcyBpbml0aWFsaXplZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUExBVEZPUk1fSU5JVElBTElaRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1BsYXRmb3JtIEluaXRpYWxpemVyJyk7XG4vKipcbiAqIEEgdG9rZW4gdGhhdCBpbmRpY2F0ZXMgYW4gb3BhcXVlIHBsYXRmb3JtIElELlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQTEFURk9STV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSUQnKTtcbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIGNhbGxiYWNrcyB0b1xuICogYmUgY2FsbGVkIGZvciBldmVyeSBjb21wb25lbnQgdGhhdCBpcyBib290c3RyYXBwZWQuXG4gKlxuICogRWFjaCBjYWxsYmFjayBtdXN0IHRha2UgYSBgQ29tcG9uZW50UmVmYCBpbnN0YW5jZSBhbmQgcmV0dXJuIG5vdGhpbmcuXG4gKlxuICogYChjb21wb25lbnRSZWY6IENvbXBvbmVudFJlZikgPT4gdm9pZGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9CT09UU1RSQVBfTElTVEVORVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ2FwcEJvb3RzdHJhcExpc3RlbmVyJyk7XG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgdGhhdCBpbmRpY2F0ZXMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mXG4gKiB0aGUgYXBwbGljYXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUEFDS0FHRV9ST09UX1VSTCA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwbGljYXRpb24gUGFja2FnZXMgUm9vdCBVUkwnKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBDb25zb2xlIHtcbiAgICBsb2cobWVzc2FnZSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG4gICAgLy8gTm90ZTogZm9yIHJlcG9ydGluZyBlcnJvcnMgdXNlIGBET00ubG9nRXJyb3IoKWAgYXMgaXQgaXMgcGxhdGZvcm0gc3BlY2lmaWNcbiAgICB3YXJuKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbn1cbkNvbnNvbGUuybVmYWMgPSBmdW5jdGlvbiBDb25zb2xlX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IENvbnNvbGUpKCk7IH07XG5Db25zb2xlLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQ29uc29sZSwgZmFjdG9yeTogQ29uc29sZS7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKENvbnNvbGUsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBudWxsLCBudWxsKTtcbn0pKCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBXb3JrIG91dCB0aGUgbG9jYWxlIGZyb20gdGhlIHBvdGVudGlhbCBnbG9iYWwgcHJvcGVydGllcy5cbiAqXG4gKiAqIENsb3N1cmUgQ29tcGlsZXI6IHVzZSBgZ29vZy5nZXRMb2NhbGUoKWAuXG4gKiAqIEl2eSBlbmFibGVkOiB1c2UgYCRsb2NhbGl6ZS5sb2NhbGVgXG4gKi9cbmZ1bmN0aW9uIGdldEdsb2JhbExvY2FsZSgpIHtcbiAgICBpZiAodHlwZW9mIG5nSTE4bkNsb3N1cmVNb2RlICE9PSAndW5kZWZpbmVkJyAmJiBuZ0kxOG5DbG9zdXJlTW9kZSAmJlxuICAgICAgICB0eXBlb2YgZ29vZyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ29vZy5nZXRMb2NhbGUoKSAhPT0gJ2VuJykge1xuICAgICAgICAvLyAqIFRoZSBkZWZhdWx0IGBnb29nLmdldExvY2FsZSgpYCB2YWx1ZSBpcyBgZW5gLCB3aGlsZSBBbmd1bGFyIHVzZWQgYGVuLVVTYC5cbiAgICAgICAgLy8gKiBJbiBvcmRlciB0byBwcmVzZXJ2ZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgd2UgdXNlIEFuZ3VsYXIgZGVmYXVsdCB2YWx1ZSBvdmVyXG4gICAgICAgIC8vICAgQ2xvc3VyZSBDb21waWxlcidzIG9uZS5cbiAgICAgICAgcmV0dXJuIGdvb2cuZ2V0TG9jYWxlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBLRUVQIGB0eXBlb2YgJGxvY2FsaXplICE9PSAndW5kZWZpbmVkJyAmJiAkbG9jYWxpemUubG9jYWxlYCBJTiBTWU5DIFdJVEggVEhFIExPQ0FMSVpFXG4gICAgICAgIC8vIENPTVBJTEUtVElNRSBJTkxJTkVSLlxuICAgICAgICAvL1xuICAgICAgICAvLyAqIER1cmluZyBjb21waWxlIHRpbWUgaW5saW5pbmcgb2YgdHJhbnNsYXRpb25zIHRoZSBleHByZXNzaW9uIHdpbGwgYmUgcmVwbGFjZWRcbiAgICAgICAgLy8gICB3aXRoIGEgc3RyaW5nIGxpdGVyYWwgdGhhdCBpcyB0aGUgY3VycmVudCBsb2NhbGUuIE90aGVyIGZvcm1zIG9mIHRoaXMgZXhwcmVzc2lvbiBhcmUgbm90XG4gICAgICAgIC8vICAgZ3VhcmFudGVlZCB0byBiZSByZXBsYWNlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gKiBEdXJpbmcgcnVudGltZSB0cmFuc2xhdGlvbiBldmFsdWF0aW9uLCB0aGUgZGV2ZWxvcGVyIGlzIHJlcXVpcmVkIHRvIHNldCBgJGxvY2FsaXplLmxvY2FsZWBcbiAgICAgICAgLy8gICBpZiByZXF1aXJlZCwgb3IganVzdCB0byBwcm92aWRlIHRoZWlyIG93biBgTE9DQUxFX0lEYCBwcm92aWRlci5cbiAgICAgICAgcmV0dXJuICh0eXBlb2YgJGxvY2FsaXplICE9PSAndW5kZWZpbmVkJyAmJiAkbG9jYWxpemUubG9jYWxlKSB8fCBERUZBVUxUX0xPQ0FMRV9JRDtcbiAgICB9XG59XG4vKipcbiAqIFByb3ZpZGUgdGhpcyB0b2tlbiB0byBzZXQgdGhlIGxvY2FsZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICogSXQgaXMgdXNlZCBmb3IgaTE4biBleHRyYWN0aW9uLCBieSBpMThuIHBpcGVzIChEYXRlUGlwZSwgSTE4blBsdXJhbFBpcGUsIEN1cnJlbmN5UGlwZSxcbiAqIERlY2ltYWxQaXBlIGFuZCBQZXJjZW50UGlwZSkgYW5kIGJ5IElDVSBleHByZXNzaW9ucy5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuLWNvbW1vbi1sb2NhbGUtaWQpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IExPQ0FMRV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogTE9DQUxFX0lELCB1c2VWYWx1ZTogJ2VuLVVTJyB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IExPQ0FMRV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignTG9jYWxlSWQnLCB7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgIGZhY3Rvcnk6ICgpID0+IGluamVjdChMT0NBTEVfSUQsIEluamVjdEZsYWdzLk9wdGlvbmFsIHwgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpIHx8IGdldEdsb2JhbExvY2FsZSgpLFxufSk7XG4vKipcbiAqIFByb3ZpZGUgdGhpcyB0b2tlbiB0byBzZXQgdGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSB5b3VyIGFwcGxpY2F0aW9uIHVzZXMgZm9yXG4gKiBDdXJyZW5jeVBpcGUgd2hlbiB0aGVyZSBpcyBubyBjdXJyZW5jeSBjb2RlIHBhc3NlZCBpbnRvIGl0LiBUaGlzIGlzIG9ubHkgdXNlZCBieVxuICogQ3VycmVuY3lQaXBlIGFuZCBoYXMgbm8gcmVsYXRpb24gdG8gbG9jYWxlIGN1cnJlbmN5LiBEZWZhdWx0cyB0byBVU0QgaWYgbm90IGNvbmZpZ3VyZWQuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbG9jYWxlLWlkKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgaXMtaGVscGZ1bFwiPlxuICpcbiAqICoqRGVwcmVjYXRpb24gbm90aWNlOioqXG4gKlxuICogVGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSBpcyBjdXJyZW50bHkgYWx3YXlzIGBVU0RgIGJ1dCB0aGlzIGlzIGRlcHJlY2F0ZWQgZnJvbSB2OS5cbiAqXG4gKiAqKkluIHYxMCB0aGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIHdpbGwgYmUgdGFrZW4gZnJvbSB0aGUgY3VycmVudCBsb2NhbGUuKipcbiAqXG4gKiBJZiB5b3UgbmVlZCB0aGUgcHJldmlvdXMgYmVoYXZpb3IgdGhlbiBzZXQgaXQgYnkgY3JlYXRpbmcgYSBgREVGQVVMVF9DVVJSRU5DWV9DT0RFYCBwcm92aWRlciBpblxuICogeW91ciBhcHBsaWNhdGlvbiBgTmdNb2R1bGVgOlxuICpcbiAqIGBgYHRzXG4gKiB7cHJvdmlkZTogREVGQVVMVF9DVVJSRU5DWV9DT0RFLCB1c2VWYWx1ZTogJ1VTRCd9XG4gKiBgYGBcbiAqXG4gKiA8L2Rpdj5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBERUZBVUxUX0NVUlJFTkNZX0NPREUsIHVzZVZhbHVlOiAnRVVSJyB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IERFRkFVTFRfQ1VSUkVOQ1lfQ09ERSA9IG5ldyBJbmplY3Rpb25Ub2tlbignRGVmYXVsdEN1cnJlbmN5Q29kZScsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogKCkgPT4gVVNEX0NVUlJFTkNZX0NPREUsXG59KTtcbi8qKlxuICogVXNlIHRoaXMgdG9rZW4gYXQgYm9vdHN0cmFwIHRvIHByb3ZpZGUgdGhlIGNvbnRlbnQgb2YgeW91ciB0cmFuc2xhdGlvbiBmaWxlIChgeHRiYCxcbiAqIGB4bGZgIG9yIGB4bGYyYCkgd2hlbiB5b3Ugd2FudCB0byB0cmFuc2xhdGUgeW91ciBhcHBsaWNhdGlvbiBpbiBhbm90aGVyIGxhbmd1YWdlLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLW1lcmdlKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBUUkFOU0xBVElPTlMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogLy8gY29udGVudCBvZiB5b3VyIHRyYW5zbGF0aW9uIGZpbGVcbiAqIGNvbnN0IHRyYW5zbGF0aW9ucyA9ICcuLi4uJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogVFJBTlNMQVRJT05TLCB1c2VWYWx1ZTogdHJhbnNsYXRpb25zIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVFJBTlNMQVRJT05TID0gbmV3IEluamVjdGlvblRva2VuKCdUcmFuc2xhdGlvbnMnKTtcbi8qKlxuICogUHJvdmlkZSB0aGlzIHRva2VuIGF0IGJvb3RzdHJhcCB0byBzZXQgdGhlIGZvcm1hdCBvZiB5b3VyIHtAbGluayBUUkFOU0xBVElPTlN9OiBgeHRiYCxcbiAqIGB4bGZgIG9yIGB4bGYyYC5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuLWNvbW1vbi1tZXJnZSkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgVFJBTlNMQVRJT05TX0ZPUk1BVCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogVFJBTlNMQVRJT05TX0ZPUk1BVCwgdXNlVmFsdWU6ICd4bGYnIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVFJBTlNMQVRJT05TX0ZPUk1BVCA9IG5ldyBJbmplY3Rpb25Ub2tlbignVHJhbnNsYXRpb25zRm9ybWF0Jyk7XG4vKipcbiAqIFVzZSB0aGlzIGVudW0gYXQgYm9vdHN0cmFwIGFzIGFuIG9wdGlvbiBvZiBgYm9vdHN0cmFwTW9kdWxlYCB0byBkZWZpbmUgdGhlIHN0cmF0ZWd5XG4gKiB0aGF0IHRoZSBjb21waWxlciBzaG91bGQgdXNlIGluIGNhc2Ugb2YgbWlzc2luZyB0cmFuc2xhdGlvbnM6XG4gKiAtIEVycm9yOiB0aHJvdyBpZiB5b3UgaGF2ZSBtaXNzaW5nIHRyYW5zbGF0aW9ucy5cbiAqIC0gV2FybmluZyAoZGVmYXVsdCk6IHNob3cgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGFuZC9vciBzaGVsbC5cbiAqIC0gSWdub3JlOiBkbyBub3RoaW5nLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLW1lcmdlI3JlcG9ydC1taXNzaW5nLXRyYW5zbGF0aW9ucykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBtaXNzaW5nVHJhbnNsYXRpb246IE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LkVycm9yXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5O1xuKGZ1bmN0aW9uIChNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSkge1xuICAgIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W1wiRXJyb3JcIl0gPSAwXSA9IFwiRXJyb3JcIjtcbiAgICBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtcIldhcm5pbmdcIl0gPSAxXSA9IFwiV2FybmluZ1wiO1xuICAgIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W1wiSWdub3JlXCJdID0gMl0gPSBcIklnbm9yZVwiO1xufSkoTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgfHwgKE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5ID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbWJpbmF0aW9uIG9mIE5nTW9kdWxlRmFjdG9yeSBhbmQgQ29tcG9uZW50RmFjdG9yaWVzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogSXZ5IEpJVCBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBhY2Nlc3NpbmcgdGhpcyBzeW1ib2wuXG4gKiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcykgZm9yXG4gKiBhZGRpdGlvbmFsIGNvbnRleHQuXG4gKi9cbmNsYXNzIE1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMge1xuICAgIGNvbnN0cnVjdG9yKG5nTW9kdWxlRmFjdG9yeSwgY29tcG9uZW50RmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMubmdNb2R1bGVGYWN0b3J5ID0gbmdNb2R1bGVGYWN0b3J5O1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcmllcyA9IGNvbXBvbmVudEZhY3RvcmllcztcbiAgICB9XG59XG4vKipcbiAqIExvdy1sZXZlbCBzZXJ2aWNlIGZvciBydW5uaW5nIHRoZSBhbmd1bGFyIGNvbXBpbGVyIGR1cmluZyBydW50aW1lXG4gKiB0byBjcmVhdGUge0BsaW5rIENvbXBvbmVudEZhY3Rvcnl9cywgd2hpY2hcbiAqIGNhbiBsYXRlciBiZSB1c2VkIHRvIGNyZWF0ZSBhbmQgcmVuZGVyIGEgQ29tcG9uZW50IGluc3RhbmNlLlxuICpcbiAqIEVhY2ggYEBOZ01vZHVsZWAgcHJvdmlkZXMgYW4gb3duIGBDb21waWxlcmAgdG8gaXRzIGluamVjdG9yLFxuICogdGhhdCB3aWxsIHVzZSB0aGUgZGlyZWN0aXZlcy9waXBlcyBvZiB0aGUgbmcgbW9kdWxlIGZvciBjb21waWxhdGlvblxuICogb2YgY29tcG9uZW50cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEl2eSBKSVQgbW9kZSBkb2Vzbid0IHJlcXVpcmUgYWNjZXNzaW5nIHRoaXMgc3ltYm9sLlxuICogU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpIGZvclxuICogYWRkaXRpb25hbCBjb250ZXh0LlxuICovXG5jbGFzcyBDb21waWxlciB7XG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIGdpdmVuIE5nTW9kdWxlIGFuZCBhbGwgb2YgaXRzIGNvbXBvbmVudHMuIEFsbCB0ZW1wbGF0ZXMgb2YgdGhlIGNvbXBvbmVudHMgbGlzdGVkXG4gICAgICogaW4gYGVudHJ5Q29tcG9uZW50c2AgaGF2ZSB0byBiZSBpbmxpbmVkLlxuICAgICAqL1xuICAgIGNvbXBpbGVNb2R1bGVTeW5jKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOZ01vZHVsZUZhY3RvcnkobW9kdWxlVHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBnaXZlbiBOZ01vZHVsZSBhbmQgYWxsIG9mIGl0cyBjb21wb25lbnRzXG4gICAgICovXG4gICAgY29tcGlsZU1vZHVsZUFzeW5jKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXBpbGVNb2R1bGVTeW5jKG1vZHVsZVR5cGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB7QGxpbmsgI2NvbXBpbGVNb2R1bGVTeW5jfSBidXQgYWxzbyBjcmVhdGVzIENvbXBvbmVudEZhY3RvcmllcyBmb3IgYWxsIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgY29uc3QgbmdNb2R1bGVGYWN0b3J5ID0gdGhpcy5jb21waWxlTW9kdWxlU3luYyhtb2R1bGVUeXBlKTtcbiAgICAgICAgY29uc3QgbW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcmllcyA9IG1heWJlVW53cmFwRm4obW9kdWxlRGVmLmRlY2xhcmF0aW9ucylcbiAgICAgICAgICAgIC5yZWR1Y2UoKGZhY3RvcmllcywgZGVjbGFyYXRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudERlZiA9IGdldENvbXBvbmVudERlZihkZWNsYXJhdGlvbik7XG4gICAgICAgICAgICBjb21wb25lbnREZWYgJiYgZmFjdG9yaWVzLnB1c2gobmV3IENvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50RGVmKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yaWVzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBuZXcgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyhuZ01vZHVsZUZhY3RvcnksIGNvbXBvbmVudEZhY3Rvcmllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMge0BsaW5rICNjb21waWxlTW9kdWxlQXN5bmN9IGJ1dCBhbHNvIGNyZWF0ZXMgQ29tcG9uZW50RmFjdG9yaWVzIGZvciBhbGwgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luYyhtb2R1bGVUeXBlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIGNsZWFyQ2FjaGUoKSB7IH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIGZvciB0aGUgZ2l2ZW4gY29tcG9uZW50L25nTW9kdWxlLlxuICAgICAqL1xuICAgIGNsZWFyQ2FjaGVGb3IodHlwZSkgeyB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaWQgZm9yIGEgZ2l2ZW4gTmdNb2R1bGUsIGlmIG9uZSBpcyBkZWZpbmVkIGFuZCBrbm93biB0byB0aGUgY29tcGlsZXIuXG4gICAgICovXG4gICAgZ2V0TW9kdWxlSWQobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbkNvbXBpbGVyLsm1ZmFjID0gZnVuY3Rpb24gQ29tcGlsZXJfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgQ29tcGlsZXIpKCk7IH07XG5Db21waWxlci7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IENvbXBpbGVyLCBmYWN0b3J5OiBDb21waWxlci7JtWZhYywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQ29tcGlsZXIsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgICAgIH1dLCBudWxsLCBudWxsKTtcbn0pKCk7XG4vKipcbiAqIFRva2VuIHRvIHByb3ZpZGUgQ29tcGlsZXJPcHRpb25zIGluIHRoZSBwbGF0Zm9ybSBpbmplY3Rvci5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENPTVBJTEVSX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ2NvbXBpbGVyT3B0aW9ucycpO1xuLyoqXG4gKiBBIGZhY3RvcnkgZm9yIGNyZWF0aW5nIGEgQ29tcGlsZXJcbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEl2eSBKSVQgbW9kZSBkb2Vzbid0IHJlcXVpcmUgYWNjZXNzaW5nIHRoaXMgc3ltYm9sLlxuICogU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpIGZvclxuICogYWRkaXRpb25hbCBjb250ZXh0LlxuICovXG5jbGFzcyBDb21waWxlckZhY3Rvcnkge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHByb21pc2UgPSAoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKDApKSgpO1xuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2soZm4pIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHVzZSBwcm9taXNlIHRvIHNjaGVkdWxlIG1pY3JvVGFzayBpbnN0ZWFkIG9mIHVzZSBab25lXG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmbiAmJiBmbi5hcHBseShudWxsLCBudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soJ3NjaGVkdWxlTWljcm90YXNrJywgZm4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXROYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgbGV0IG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IF9nbG9iYWxbJ3JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIGxldCBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSA9IF9nbG9iYWxbJ2NhbmNlbEFuaW1hdGlvbkZyYW1lJ107XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgJiYgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgLy8gdXNlIHVucGF0Y2hlZCB2ZXJzaW9uIG9mIHJlcXVlc3RBbmltYXRpb25GcmFtZShuYXRpdmUgZGVsZWdhdGUpIGlmIHBvc3NpYmxlXG4gICAgICAgIC8vIHRvIGF2b2lkIGFub3RoZXIgQ2hhbmdlIGRldGVjdGlvblxuICAgICAgICBjb25zdCB1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWVbWm9uZS5fX3N5bWJvbF9fKCdPcmlnaW5hbERlbGVnYXRlJyldO1xuICAgICAgICBpZiAodW5wYXRjaGVkUmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5wYXRjaGVkQ2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZVtab25lLl9fc3ltYm9sX18oJ09yaWdpbmFsRGVsZWdhdGUnKV07XG4gICAgICAgIGlmICh1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiBpbmplY3RhYmxlIHNlcnZpY2UgZm9yIGV4ZWN1dGluZyB3b3JrIGluc2lkZSBvciBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogVGhlIG1vc3QgY29tbW9uIHVzZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gb3B0aW1pemUgcGVyZm9ybWFuY2Ugd2hlbiBzdGFydGluZyBhIHdvcmsgY29uc2lzdGluZyBvZlxuICogb25lIG9yIG1vcmUgYXN5bmNocm9ub3VzIHRhc2tzIHRoYXQgZG9uJ3QgcmVxdWlyZSBVSSB1cGRhdGVzIG9yIGVycm9yIGhhbmRsaW5nIHRvIGJlIGhhbmRsZWQgYnlcbiAqIEFuZ3VsYXIuIFN1Y2ggdGFza3MgY2FuIGJlIGtpY2tlZCBvZmYgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFuZCBpZiBuZWVkZWQsIHRoZXNlIHRhc2tzXG4gKiBjYW4gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIHZpYSB7QGxpbmsgI3J1bn0uXG4gKlxuICogPCEtLSBUT0RPOiBhZGQvZml4IGxpbmtzIHRvOlxuICogICAtIGRvY3MgZXhwbGFpbmluZyB6b25lcyBhbmQgdGhlIHVzZSBvZiB6b25lcyBpbiBBbmd1bGFyIGFuZCBjaGFuZ2UtZGV0ZWN0aW9uXG4gKiAgIC0gbGluayB0byBydW5PdXRzaWRlQW5ndWxhci9ydW4gKHRocm91Z2hvdXQgdGhpcyBmaWxlISlcbiAqICAgLS0+XG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgTmdab25lfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7TmdJZn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICduZy16b25lLWRlbW8nLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxoMj5EZW1vOiBOZ1pvbmU8L2gyPlxuICpcbiAqICAgICA8cD5Qcm9ncmVzczoge3twcm9ncmVzc319JTwvcD5cbiAqICAgICA8cCAqbmdJZj1cInByb2dyZXNzID49IDEwMFwiPkRvbmUgcHJvY2Vzc2luZyB7e2xhYmVsfX0gb2YgQW5ndWxhciB6b25lITwvcD5cbiAqXG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIHdpdGhpbiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgb3V0c2lkZSBvZiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgYCxcbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgTmdab25lRGVtbyB7XG4gKiAgIHByb2dyZXNzOiBudW1iZXIgPSAwO1xuICogICBsYWJlbDogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbmdab25lOiBOZ1pvbmUpIHt9XG4gKlxuICogICAvLyBMb29wIGluc2lkZSB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ2luc2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiBjb25zb2xlLmxvZygnSW5zaWRlIERvbmUhJykpO1xuICogICB9XG4gKlxuICogICAvLyBMb29wIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyBOT1QgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnb3V0c2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAqICAgICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4ge1xuICogICAgICAgICAvLyByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRpc3BsYXkgZG9uZVxuICogICAgICAgICB0aGlzLl9uZ1pvbmUucnVuKCgpID0+IHsgY29uc29sZS5sb2coJ091dHNpZGUgRG9uZSEnKTsgfSk7XG4gKiAgICAgICB9KTtcbiAqICAgICB9KTtcbiAqICAgfVxuICpcbiAqICAgX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyArPSAxO1xuICogICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2dyZXNzOiAke3RoaXMucHJvZ3Jlc3N9JWApO1xuICpcbiAqICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCkge1xuICogICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2spLCAxMCk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBOZ1pvbmUge1xuICAgIGNvbnN0cnVjdG9yKHsgZW5hYmxlTG9uZ1N0YWNrVHJhY2UgPSBmYWxzZSwgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9IGZhbHNlLCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZXJlIGFyZSBubyBvdXRzdGFuZGluZyBtaWNyb3Rhc2tzIG9yIG1hY3JvdGFza3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gY29kZSBlbnRlcnMgQW5ndWxhciBab25lLiBUaGlzIGdldHMgZmlyZWQgZmlyc3Qgb24gVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VbnN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGVyZSBpcyBubyBtb3JlIG1pY3JvdGFza3MgZW5xdWV1ZWQgaW4gdGhlIGN1cnJlbnQgVk0gVHVybi5cbiAgICAgICAgICogVGhpcyBpcyBhIGhpbnQgZm9yIEFuZ3VsYXIgdG8gZG8gY2hhbmdlIGRldGVjdGlvbiwgd2hpY2ggbWF5IGVucXVldWUgbW9yZSBtaWNyb3Rhc2tzLlxuICAgICAgICAgKiBGb3IgdGhpcyByZWFzb24gdGhpcyBldmVudCBjYW4gZmlyZSBtdWx0aXBsZSB0aW1lcyBwZXIgVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25NaWNyb3Rhc2tFbXB0eSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGUgbGFzdCBgb25NaWNyb3Rhc2tFbXB0eWAgaGFzIHJ1biBhbmQgdGhlcmUgYXJlIG5vIG1vcmUgbWljcm90YXNrcywgd2hpY2hcbiAgICAgICAgICogaW1wbGllcyB3ZSBhcmUgYWJvdXQgdG8gcmVsaW5xdWlzaCBWTSB0dXJuLlxuICAgICAgICAgKiBUaGlzIGV2ZW50IGdldHMgY2FsbGVkIGp1c3Qgb25jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgYW4gZXJyb3IgaGFzIGJlZW4gZGVsaXZlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIGlmICh0eXBlb2YgWm9uZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbiB0aGlzIGNvbmZpZ3VyYXRpb24gQW5ndWxhciByZXF1aXJlcyBab25lLmpzYCk7XG4gICAgICAgIH1cbiAgICAgICAgWm9uZS5hc3NlcnRab25lUGF0Y2hlZCgpO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5fbmVzdGluZyA9IDA7XG4gICAgICAgIHNlbGYuX291dGVyID0gc2VsZi5faW5uZXIgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgIGlmIChab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsobmV3IFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVMb25nU3RhY2tUcmFjZSAmJiBab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUsIGFsbCB0YXNrcyBpbmNsdWRpbmcgZXZlbnQgdGFza3Mgd2lsbCBiZVxuICAgICAgICAvLyBjb2FsZXNjZWQsIHNvIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gb3B0aW9uIGlzIG5vdCBuZWNlc3NhcnkgYW5kIGNhbiBiZSBza2lwcGVkLlxuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPVxuICAgICAgICAgICAgIXNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uICYmIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgc2VsZi5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBnZXROYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHNlbGYpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICAvLyBab25lIG5lZWRzIHRvIGJlIGNoZWNrZWQsIGJlY2F1c2UgdGhpcyBtZXRob2QgbWlnaHQgYmUgY2FsbGVkIGV2ZW4gd2hlbiBOb29wTmdab25lIGlzIHVzZWQuXG4gICAgICAgIHJldHVybiB0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgWm9uZS5jdXJyZW50LmdldCgnaXNBbmd1bGFyWm9uZScpID09PSB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKCFOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90IScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFzIGEgdGFzayBhbmQgcmV0dXJucyB2YWx1ZVxuICAgICAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW5UYXNrKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncywgbmFtZSkge1xuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5faW5uZXI7XG4gICAgICAgIGNvbnN0IHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdOZ1pvbmVFdmVudDogJyArIG5hbWUsIGZuLCBFTVBUWV9QQVlMT0FELCBub29wLCBub29wKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB6b25lLnJ1blRhc2sodGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgYHJ1bmAsIGV4Y2VwdCB0aGF0IHN5bmNocm9ub3VzIGVycm9ycyBhcmUgY2F1Z2h0IGFuZCBmb3J3YXJkZWQgdmlhIGBvbkVycm9yYCBhbmQgbm90XG4gICAgICogcmV0aHJvd24uXG4gICAgICovXG4gICAgcnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSBpbiBBbmd1bGFyJ3MgcGFyZW50IHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYWxsb3dzIHlvdSB0byBlc2NhcGUgQW5ndWxhcidzIHpvbmUgYW5kIGRvXG4gICAgICogd29yayB0aGF0XG4gICAgICogZG9lc24ndCB0cmlnZ2VyIEFuZ3VsYXIgY2hhbmdlLWRldGVjdGlvbiBvciBpcyBzdWJqZWN0IHRvIEFuZ3VsYXIncyBlcnJvciBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayAjcnVufSB0byByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRvIHdvcmsgdGhhdCB1cGRhdGVzIHRoZSBhcHBsaWNhdGlvbiBtb2RlbC5cbiAgICAgKi9cbiAgICBydW5PdXRzaWRlQW5ndWxhcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXIucnVuKGZuKTtcbiAgICB9XG59XG5jb25zdCBFTVBUWV9QQVlMT0FEID0ge307XG5mdW5jdGlvbiBjaGVja1N0YWJsZSh6b25lKSB7XG4gICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc2hvdWxkIGNoZWNrIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgdG8gcHJldmVudFxuICAgIC8vIHJlLWVudHJ5LiBUaGUgY2FzZSBpczpcbiAgICAvL1xuICAgIC8vIEBDb21wb25lbnQoey4uLn0pXG4gICAgLy8gZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgLy8gY29uc3RydWN0b3IocHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSkge1xuICAgIC8vICAgdGhpcy5uZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAvLyAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IGNvbnNvbGUubG9nKCdzdGFibGUnKTspO1xuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gVGhlIG9uU3RhYmxlIHN1YnNjcmliZXIgcnVuIGFub3RoZXIgZnVuY3Rpb24gaW5zaWRlIG5nWm9uZVxuICAgIC8vIHdoaWNoIGNhdXNlcyBgY2hlY2tTdGFibGUoKWAgcmUtZW50cnkuXG4gICAgLy8gQnV0IHRoaXMgZml4IGNhdXNlcyBzb21lIGlzc3VlcyBpbiBnMywgc28gdGhpcyBmaXggd2lsbCBiZVxuICAgIC8vIGxhdW5jaGVkIGluIGFub3RoZXIgUFIuXG4gICAgaWYgKHpvbmUuX25lc3RpbmcgPT0gMCAmJiAhem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyAmJiAhem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZysrO1xuICAgICAgICAgICAgem9uZS5vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgICAgICAgICBpZiAoIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25TdGFibGUuZW1pdChudWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKSB7XG4gICAgLyoqXG4gICAgICogV2UgYWxzbyBuZWVkIHRvIGNoZWNrIF9uZXN0aW5nIGhlcmVcbiAgICAgKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2Ugd2l0aCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHRydWVcbiAgICAgKlxuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqXG4gICAgICogV2Ugd2FudCB0aGUgdHdvIGBuZ1pvbmUucnVuKClgIG9ubHkgdHJpZ2dlciBvbmUgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIHdoZW4gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZS5cbiAgICAgKiBBbmQgYmVjYXVzZSBpbiB0aGlzIGNhc2UsIGNoYW5nZSBkZXRlY3Rpb24gcnVuIGluIGFzeW5jIHdheShyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxuICAgICAqIHNvIHdlIGFsc28gbmVlZCB0byBjaGVjayB0aGUgX25lc3RpbmcgaGVyZSB0byBwcmV2ZW50IG11bHRpcGxlXG4gICAgICogY2hhbmdlIGRldGVjdGlvbnMuXG4gICAgICovXG4gICAgaWYgKHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgfHwgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSB6b25lLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZS5jYWxsKF9nbG9iYWwsICgpID0+IHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zNjgzOS5cbiAgICAgICAgLy8gVGhlIGNvcmUgaXNzdWUgaXMgdGhhdCB3aGVuIGV2ZW50IGNvYWxlc2NpbmcgaXMgZW5hYmxlZCBpdCBpcyBwb3NzaWJsZSBmb3IgbWljcm90YXNrc1xuICAgICAgICAvLyB0byBnZXQgZmx1c2hlZCB0b28gZWFybHkgKEFzIGlzIHRoZSBjYXNlIHdpdGggYFByb21pc2UudGhlbmApIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVG8gd29ya2Fyb3VuZCB0aGlzIHdlIHNjaGVkdWxlIGEgXCJmYWtlXCIgZXZlbnRUYXNrIGJlZm9yZSB3ZSBwcm9jZXNzIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuIFRoZSBiZW5lZml0IG9mIHRoaXMgaXMgdGhhdCB0aGUgXCJmYWtlXCIgY29udGFpbmVyIGV2ZW50VGFza1xuICAgICAgICAvLyAgd2lsbCBwcmV2ZW50IHRoZSBtaWNyb3Rhc2tzIHF1ZXVlIGZyb20gZ2V0dGluZyBkcmFpbmVkIGluIGJldHdlZW4gdGhlIGNvYWxlc2NpbmdcbiAgICAgICAgLy8gZXZlbnRUYXNrIGV4ZWN1dGlvbi5cbiAgICAgICAgaWYgKCF6b25lLmZha2VUb3BFdmVudFRhc2spIHtcbiAgICAgICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzayA9IFpvbmUucm9vdC5zY2hlZHVsZUV2ZW50VGFzaygnZmFrZVRvcEV2ZW50VGFzaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB1bmRlZmluZWQsICgpID0+IHsgfSwgKCkgPT4geyB9KTtcbiAgICAgICAgfVxuICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2suaW52b2tlKCk7XG4gICAgfSk7XG4gICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xufVxuZnVuY3Rpb24gZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioem9uZSkge1xuICAgIGNvbnN0IGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUgPSAoKSA9PiB7XG4gICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpO1xuICAgIH07XG4gICAgem9uZS5faW5uZXIgPSB6b25lLl9pbm5lci5mb3JrKHtcbiAgICAgICAgbmFtZTogJ2FuZ3VsYXInLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7ICdpc0FuZ3VsYXJab25lJzogdHJ1ZSB9LFxuICAgICAgICBvbkludm9rZVRhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKCh6b25lLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gJiYgdGFzay50eXBlID09PSAnZXZlbnRUYXNrJykgfHxcbiAgICAgICAgICAgICAgICAgICAgem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSW52b2tlOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlKHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhc1Rhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBoYXNUYXNrU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gaGFzVGFzayBldmVudHMgd2hpY2ggb3JpZ2luYXRlIGZyb20gb3VyIHpvbmVcbiAgICAgICAgICAgICAgICAvLyAoQSBjaGlsZCBoYXNUYXNrIGV2ZW50IGlzIG5vdCBpbnRlcmVzdGluZyB0byB1cylcbiAgICAgICAgICAgICAgICBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWljcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5taWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21hY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5tYWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhbmRsZUVycm9yOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhbmRsZUVycm9yKHRhcmdldCwgZXJyb3IpO1xuICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uRXJyb3IuZW1pdChlcnJvcikpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSkge1xuICAgIGlmICh6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyB8fFxuICAgICAgICAoKHpvbmUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiB8fCB6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSAmJlxuICAgICAgICAgICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSkge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkVudGVyKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgaWYgKHpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgem9uZS5pc1N0YWJsZSA9IGZhbHNlO1xuICAgICAgICB6b25lLm9uVW5zdGFibGUuZW1pdChudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkxlYXZlKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgY2hlY2tTdGFibGUoem9uZSk7XG59XG4vKipcbiAqIFByb3ZpZGVzIGEgbm9vcCBpbXBsZW1lbnRhdGlvbiBvZiBgTmdab25lYCB3aGljaCBkb2VzIG5vdGhpbmcuIFRoaXMgem9uZSByZXF1aXJlcyBleHBsaWNpdCBjYWxsc1xuICogdG8gZnJhbWV3b3JrIHRvIHBlcmZvcm0gcmVuZGVyaW5nLlxuICovXG5jbGFzcyBOb29wTmdab25lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uVW5zdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25NaWNyb3Rhc2tFbXB0eSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIHJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIHJ1bk91dHNpZGVBbmd1bGFyKGZuKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBydW5UYXNrKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncywgbmFtZSkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBUZXN0YWJpbGl0eSBzZXJ2aWNlIHByb3ZpZGVzIHRlc3RpbmcgaG9va3MgdGhhdCBjYW4gYmUgYWNjZXNzZWQgZnJvbVxuICogdGhlIGJyb3dzZXIuIEVhY2ggYm9vdHN0cmFwcGVkIEFuZ3VsYXIgYXBwbGljYXRpb24gb24gdGhlIHBhZ2Ugd2lsbCBoYXZlXG4gKiBhbiBpbnN0YW5jZSBvZiBUZXN0YWJpbGl0eS5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVzdGFiaWxpdHkge1xuICAgIGNvbnN0cnVjdG9yKF9uZ1pvbmUpIHtcbiAgICAgICAgdGhpcy5fbmdab25lID0gX25nWm9uZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgYW55IHdvcmsgd2FzIGRvbmUgc2luY2UgdGhlIGxhc3QgJ3doZW5TdGFibGUnIGNhbGxiYWNrLiBUaGlzIGlzXG4gICAgICAgICAqIHVzZWZ1bCB0byBkZXRlY3QgaWYgdGhpcyBjb3VsZCBoYXZlIHBvdGVudGlhbGx5IGRlc3RhYmlsaXplZCBhbm90aGVyXG4gICAgICAgICAqIGNvbXBvbmVudCB3aGlsZSBpdCBpcyBzdGFiaWxpemluZy5cbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kaWRXb3JrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnRhc2tUcmFja2luZ1pvbmUgPSBudWxsO1xuICAgICAgICB0aGlzLl93YXRjaEFuZ3VsYXJFdmVudHMoKTtcbiAgICAgICAgX25nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrVHJhY2tpbmdab25lID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgWm9uZSA9PSAndW5kZWZpbmVkJyA/IG51bGwgOiBab25lLmN1cnJlbnQuZ2V0KCdUYXNrVHJhY2tpbmdab25lJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfd2F0Y2hBbmd1bGFyRXZlbnRzKCkge1xuICAgICAgICB0aGlzLl9uZ1pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzWm9uZVN0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RcbiAgICAgKiBAZGVwcmVjYXRlZCBwZW5kaW5nIHJlcXVlc3RzIGFyZSBub3cgdHJhY2tlZCB3aXRoIHpvbmVzLlxuICAgICAqL1xuICAgIGluY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ICs9IDE7XG4gICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNyZWFzZXMgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RcbiAgICAgKiBAZGVwcmVjYXRlZCBwZW5kaW5nIHJlcXVlc3RzIGFyZSBub3cgdHJhY2tlZCB3aXRoIHpvbmVzXG4gICAgICovXG4gICAgZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50KCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdDb3VudCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGVuZGluZyBhc3luYyByZXF1ZXN0cyBiZWxvdyB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFuIGFzc29jaWF0ZWQgYXBwbGljYXRpb24gaXMgc3RhYmxlXG4gICAgICovXG4gICAgaXNTdGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1pvbmVTdGFibGUgJiYgdGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmICF0aGlzLl9uZ1pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3M7XG4gICAgfVxuICAgIF9ydW5DYWxsYmFja3NJZlJlYWR5KCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZXMgdGhlIGNhbGwgYmFja3MgaW4gYSBuZXcgZnJhbWUgc28gdGhhdCBpdCBpcyBhbHdheXMgYXN5bmMuXG4gICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2NhbGxiYWNrcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNiID0gdGhpcy5fY2FsbGJhY2tzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2IudGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgY2IuZG9uZUNiKHRoaXMuX2RpZFdvcmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9kaWRXb3JrID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0aWxsIG5vdCBzdGFibGUsIHNlbmQgdXBkYXRlcy5cbiAgICAgICAgICAgIGxldCBwZW5kaW5nID0gdGhpcy5nZXRQZW5kaW5nVGFza3MoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcy5maWx0ZXIoKGNiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNiLnVwZGF0ZUNiICYmIGNiLnVwZGF0ZUNiKHBlbmRpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjYi50aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQZW5kaW5nVGFza3MoKSB7XG4gICAgICAgIGlmICghdGhpcy50YXNrVHJhY2tpbmdab25lKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSB0aGUgdGFza3MgZGF0YSBzbyB0aGF0IHdlIGRvbid0IGxlYWsgdGFza3MuXG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tUcmFja2luZ1pvbmUubWFjcm9UYXNrcy5tYXAoKHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiB0LnNvdXJjZSxcbiAgICAgICAgICAgICAgICAvLyBGcm9tIFRhc2tUcmFja2luZ1pvbmU6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvem9uZS5qcy9ibG9iL21hc3Rlci9saWIvem9uZS1zcGVjL3Rhc2stdHJhY2tpbmcudHMjTDQwXG4gICAgICAgICAgICAgICAgY3JlYXRpb25Mb2NhdGlvbjogdC5jcmVhdGlvbkxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IHQuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZENhbGxiYWNrKGNiLCB0aW1lb3V0LCB1cGRhdGVDYikge1xuICAgICAgICBsZXQgdGltZW91dElkID0gLTE7XG4gICAgICAgIGlmICh0aW1lb3V0ICYmIHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MuZmlsdGVyKChjYikgPT4gY2IudGltZW91dElkICE9PSB0aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgIGNiKHRoaXMuX2RpZFdvcmssIHRoaXMuZ2V0UGVuZGluZ1Rhc2tzKCkpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLnB1c2goeyBkb25lQ2I6IGNiLCB0aW1lb3V0SWQ6IHRpbWVvdXRJZCwgdXBkYXRlQ2I6IHVwZGF0ZUNiIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXYWl0IGZvciB0aGUgYXBwbGljYXRpb24gdG8gYmUgc3RhYmxlIHdpdGggYSB0aW1lb3V0LiBJZiB0aGUgdGltZW91dCBpcyByZWFjaGVkIGJlZm9yZSB0aGF0XG4gICAgICogaGFwcGVucywgdGhlIGNhbGxiYWNrIHJlY2VpdmVzIGEgbGlzdCBvZiB0aGUgbWFjcm8gdGFza3MgdGhhdCB3ZXJlIHBlbmRpbmcsIG90aGVyd2lzZSBudWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvbmVDYiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gQW5ndWxhciBpcyBzdGFibGUgb3IgdGhlIHRpbWVvdXQgZXhwaXJlc1xuICAgICAqICAgIHdoaWNoZXZlciBjb21lcyBmaXJzdC5cbiAgICAgKiBAcGFyYW0gdGltZW91dCBPcHRpb25hbC4gVGhlIG1heGltdW0gdGltZSB0byB3YWl0IGZvciBBbmd1bGFyIHRvIGJlY29tZSBzdGFibGUuIElmIG5vdFxuICAgICAqICAgIHNwZWNpZmllZCwgd2hlblN0YWJsZSgpIHdpbGwgd2FpdCBmb3JldmVyLlxuICAgICAqIEBwYXJhbSB1cGRhdGVDYiBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aGVuZXZlciB0aGUgc2V0IG9mXG4gICAgICogICAgcGVuZGluZyBtYWNyb3Rhc2tzIGNoYW5nZXMuIElmIHRoaXMgY2FsbGJhY2sgcmV0dXJucyB0cnVlIGRvbmVDYiB3aWxsIG5vdCBiZSBpbnZva2VkXG4gICAgICogICAgYW5kIG5vIGZ1cnRoZXIgdXBkYXRlcyB3aWxsIGJlIGlzc3VlZC5cbiAgICAgKi9cbiAgICB3aGVuU3RhYmxlKGRvbmVDYiwgdGltZW91dCwgdXBkYXRlQ2IpIHtcbiAgICAgICAgaWYgKHVwZGF0ZUNiICYmICF0aGlzLnRhc2tUcmFja2luZ1pvbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFzayB0cmFja2luZyB6b25lIGlzIHJlcXVpcmVkIHdoZW4gcGFzc2luZyBhbiB1cGRhdGUgY2FsbGJhY2sgdG8gJyArXG4gICAgICAgICAgICAgICAgJ3doZW5TdGFibGUoKS4gSXMgXCJ6b25lLmpzL3BsdWdpbnMvdGFzay10cmFja2luZ1wiIGxvYWRlZD8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVzZSBhcmd1bWVudHMgYXJlICdGdW5jdGlvbicgYWJvdmUgdG8ga2VlcCB0aGUgcHVibGljIEFQSSBzaW1wbGUuXG4gICAgICAgIHRoaXMuYWRkQ2FsbGJhY2soZG9uZUNiLCB0aW1lb3V0LCB1cGRhdGVDYik7XG4gICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgcGVuZGluZyByZXF1ZXN0c1xuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXNcbiAgICAgKi9cbiAgICBnZXRQZW5kaW5nUmVxdWVzdENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHByb3ZpZGVycyBieSBuYW1lXG4gICAgICogQHBhcmFtIHVzaW5nIFRoZSByb290IGVsZW1lbnQgdG8gc2VhcmNoIGZyb21cbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgVGhlIG5hbWUgb2YgYmluZGluZyB2YXJpYWJsZVxuICAgICAqIEBwYXJhbSBleGFjdE1hdGNoIFdoZXRoZXIgdXNpbmcgZXhhY3RNYXRjaFxuICAgICAqL1xuICAgIGZpbmRQcm92aWRlcnModXNpbmcsIHByb3ZpZGVyLCBleGFjdE1hdGNoKSB7XG4gICAgICAgIC8vIFRPRE8oanVsaWVtcik6IGltcGxlbWVudC5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cblRlc3RhYmlsaXR5Lsm1ZmFjID0gZnVuY3Rpb24gVGVzdGFiaWxpdHlfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgVGVzdGFiaWxpdHkpKMm1ybVpbmplY3QoTmdab25lKSk7IH07XG5UZXN0YWJpbGl0eS7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IFRlc3RhYmlsaXR5LCBmYWN0b3J5OiBUZXN0YWJpbGl0eS7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKFRlc3RhYmlsaXR5LCBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmdab25lIH1dOyB9LCBudWxsKTtcbn0pKCk7XG4vKipcbiAqIEEgZ2xvYmFsIHJlZ2lzdHJ5IG9mIHtAbGluayBUZXN0YWJpbGl0eX0gaW5zdGFuY2VzIGZvciBzcGVjaWZpYyBlbGVtZW50cy5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVzdGFiaWxpdHlSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGVzdGFiaWxpdHlHZXR0ZXIuYWRkVG9XaW5kb3codGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBhcHBsaWNhdGlvbiB3aXRoIGEgdGVzdGFiaWxpdHkgaG9vayBzbyB0aGF0IGl0IGNhbiBiZSB0cmFja2VkXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gdGVzdGFiaWxpdHkgVGVzdGFiaWxpdHkgaG9va1xuICAgICAqL1xuICAgIHJlZ2lzdGVyQXBwbGljYXRpb24odG9rZW4sIHRlc3RhYmlsaXR5KSB7XG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucy5zZXQodG9rZW4sIHRlc3RhYmlsaXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYW4gYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQXBwbGljYXRpb24odG9rZW4pIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIGFsbCBhcHBsaWNhdGlvbnNcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCkge1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdGVzdGFiaWxpdHkgaG9vayBhc3NvY2lhdGVkIHdpdGggdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIGVsZW0gcm9vdCBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0VGVzdGFiaWxpdHkoZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbGljYXRpb25zLmdldChlbGVtKSB8fCBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgdGVzdGFiaWxpdGllc1xuICAgICAqL1xuICAgIGdldEFsbFRlc3RhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcmVnaXN0ZXJlZCBhcHBsaWNhdGlvbnMocm9vdCBlbGVtZW50cylcbiAgICAgKi9cbiAgICBnZXRBbGxSb290RWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy5rZXlzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRlc3RhYmlsaXR5IG9mIGEgbm9kZSBpbiB0aGUgVHJlZVxuICAgICAqIEBwYXJhbSBlbGVtIG5vZGVcbiAgICAgKiBAcGFyYW0gZmluZEluQW5jZXN0b3JzIHdoZXRoZXIgZmluZGluZyB0ZXN0YWJpbGl0eSBpbiBhbmNlc3RvcnMgaWYgdGVzdGFiaWxpdHkgd2FzIG5vdCBmb3VuZCBpblxuICAgICAqIGN1cnJlbnQgbm9kZVxuICAgICAqL1xuICAgIGZpbmRUZXN0YWJpbGl0eUluVHJlZShlbGVtLCBmaW5kSW5BbmNlc3RvcnMgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBfdGVzdGFiaWxpdHlHZXR0ZXIuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsIGVsZW0sIGZpbmRJbkFuY2VzdG9ycyk7XG4gICAgfVxufVxuVGVzdGFiaWxpdHlSZWdpc3RyeS7JtWZhYyA9IGZ1bmN0aW9uIFRlc3RhYmlsaXR5UmVnaXN0cnlfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgVGVzdGFiaWxpdHlSZWdpc3RyeSkoKTsgfTtcblRlc3RhYmlsaXR5UmVnaXN0cnkuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBmYWN0b3J5OiBUZXN0YWJpbGl0eVJlZ2lzdHJ5Lsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoVGVzdGFiaWxpdHlSZWdpc3RyeSwgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9LCBudWxsKTtcbn0pKCk7XG5jbGFzcyBfTm9vcEdldFRlc3RhYmlsaXR5IHtcbiAgICBhZGRUb1dpbmRvdyhyZWdpc3RyeSkgeyB9XG4gICAgZmluZFRlc3RhYmlsaXR5SW5UcmVlKHJlZ2lzdHJ5LCBlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgdGhlIHtAbGluayBHZXRUZXN0YWJpbGl0eX0gaW1wbGVtZW50YXRpb24gdXNlZCBieSB0aGUgQW5ndWxhciB0ZXN0aW5nIGZyYW1ld29yay5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gc2V0VGVzdGFiaWxpdHlHZXR0ZXIoZ2V0dGVyKSB7XG4gICAgX3Rlc3RhYmlsaXR5R2V0dGVyID0gZ2V0dGVyO1xufVxubGV0IF90ZXN0YWJpbGl0eUdldHRlciA9IG5ldyBfTm9vcEdldFRlc3RhYmlsaXR5KCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9wbGF0Zm9ybTtcbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZUZhY3RvcnkoaW5qZWN0b3IsIG9wdGlvbnMsIG1vZHVsZVR5cGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TmdNb2R1bGVUeXBlKG1vZHVsZVR5cGUpO1xuICAgIGNvbnN0IG1vZHVsZUZhY3RvcnkgPSBuZXcgTmdNb2R1bGVGYWN0b3J5KG1vZHVsZVR5cGUpO1xuICAgIC8vIEFsbCBvZiB0aGUgbG9naWMgYmVsb3cgaXMgaXJyZWxldmFudCBmb3IgQU9ULWNvbXBpbGVkIGNvZGUuXG4gICAgaWYgKHR5cGVvZiBuZ0ppdE1vZGUgIT09ICd1bmRlZmluZWQnICYmICFuZ0ppdE1vZGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2R1bGVGYWN0b3J5KTtcbiAgICB9XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gaW5qZWN0b3IuZ2V0KENPTVBJTEVSX09QVElPTlMsIFtdKS5jb25jYXQob3B0aW9ucyk7XG4gICAgLy8gQ29uZmlndXJlIHRoZSBjb21waWxlciB0byB1c2UgdGhlIHByb3ZpZGVkIG9wdGlvbnMuIFRoaXMgY2FsbCBtYXkgZmFpbCB3aGVuIG11bHRpcGxlIG1vZHVsZXNcbiAgICAvLyBhcmUgYm9vdHN0cmFwcGVkIHdpdGggaW5jb21wYXRpYmxlIG9wdGlvbnMsIGFzIGEgY29tcG9uZW50IGNhbiBvbmx5IGJlIGNvbXBpbGVkIGFjY29yZGluZyB0b1xuICAgIC8vIGEgc2luZ2xlIHNldCBvZiBvcHRpb25zLlxuICAgIHNldEppdE9wdGlvbnMoe1xuICAgICAgICBkZWZhdWx0RW5jYXBzdWxhdGlvbjogX2xhc3REZWZpbmVkKGNvbXBpbGVyT3B0aW9ucy5tYXAob3B0cyA9PiBvcHRzLmRlZmF1bHRFbmNhcHN1bGF0aW9uKSksXG4gICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZXM6IF9sYXN0RGVmaW5lZChjb21waWxlck9wdGlvbnMubWFwKG9wdHMgPT4gb3B0cy5wcmVzZXJ2ZVdoaXRlc3BhY2VzKSksXG4gICAgfSk7XG4gICAgaWYgKGlzQ29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWVFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyUHJvdmlkZXJzID0gX21lcmdlQXJyYXlzKGNvbXBpbGVyT3B0aW9ucy5tYXAobyA9PiBvLnByb3ZpZGVycykpO1xuICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG5vIGNvbXBpbGVyIHByb3ZpZGVycywgd2UganVzdCByZXR1cm4gdGhlIG1vZHVsZSBmYWN0b3J5IGFzXG4gICAgLy8gdGhlcmUgd29uJ3QgYmUgYW55IHJlc291cmNlIGxvYWRlci4gVGhpcyBjYW4gaGFwcGVuIHdpdGggSXZ5LCBiZWNhdXNlIEFPVCBjb21waWxlZFxuICAgIC8vIG1vZHVsZXMgY2FuIGJlIHN0aWxsIHBhc3NlZCB0aHJvdWdoIFwiYm9vdHN0cmFwTW9kdWxlXCIuIEluIHRoYXQgY2FzZSB3ZSBzaG91bGRuJ3RcbiAgICAvLyB1bm5lY2Vzc2FyaWx5IHJlcXVpcmUgdGhlIEpJVCBjb21waWxlci5cbiAgICBpZiAoY29tcGlsZXJQcm92aWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoe1xuICAgICAgICB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sXG4gICAgICAgIGtpbmQ6ICdOZ01vZHVsZScsXG4gICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogY29tcGlsZXJQcm92aWRlcnMgfSk7XG4gICAgY29uc3QgcmVzb3VyY2VMb2FkZXIgPSBjb21waWxlckluamVjdG9yLmdldChjb21waWxlci5SZXNvdXJjZUxvYWRlcik7XG4gICAgLy8gVGhlIHJlc291cmNlIGxvYWRlciBjYW4gYWxzbyByZXR1cm4gYSBzdHJpbmcgd2hpbGUgdGhlIFwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlc1wiXG4gICAgLy8gYWx3YXlzIGV4cGVjdHMgYSBwcm9taXNlLiBUaGVyZWZvcmUgd2UgbmVlZCB0byB3cmFwIHRoZSByZXR1cm5lZCB2YWx1ZSBpbiBhIHByb21pc2UuXG4gICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXModXJsID0+IFByb21pc2UucmVzb2x2ZShyZXNvdXJjZUxvYWRlci5nZXQodXJsKSkpXG4gICAgICAgIC50aGVuKCgpID0+IG1vZHVsZUZhY3RvcnkpO1xufVxuZnVuY3Rpb24gcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscygpIHtcbiAgICBuZ0Rldk1vZGUgJiYgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxKCk7XG59XG5mdW5jdGlvbiBpc0JvdW5kVG9Nb2R1bGUoY2YpIHtcbiAgICByZXR1cm4gY2YuaXNCb3VuZFRvTW9kdWxlO1xufVxuY29uc3QgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TID0gbmV3IEluamVjdGlvblRva2VuKCdBbGxvd011bHRpcGxlVG9rZW4nKTtcbi8qKlxuICogQSB0b2tlbiBmb3IgdGhpcmQtcGFydHkgY29tcG9uZW50cyB0aGF0IGNhbiByZWdpc3RlciB0aGVtc2VsdmVzIHdpdGggTmdQcm9iZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nUHJvYmVUb2tlbiB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdG9rZW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIHBsYXRmb3JtLlxuICogUGxhdGZvcm1zIG11c3QgYmUgY3JlYXRlZCBvbiBsYXVuY2ggdXNpbmcgdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtKGluamVjdG9yKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCAmJlxuICAgICAgICAhX3BsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAnVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4nIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMCAvKiBNVUxUSVBMRV9QTEFURk9STVMgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMoKTtcbiAgICBfcGxhdGZvcm0gPSBpbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgIGNvbnN0IGluaXRzID0gaW5qZWN0b3IuZ2V0KFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBudWxsKTtcbiAgICBpZiAoaW5pdHMpXG4gICAgICAgIGluaXRzLmZvckVhY2goKGluaXQpID0+IGluaXQoKSk7XG4gICAgcmV0dXJuIF9wbGF0Zm9ybTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGZhY3RvcnkgZm9yIGEgcGxhdGZvcm0uIENhbiBiZSB1c2VkIHRvIHByb3ZpZGUgb3Igb3ZlcnJpZGUgYFByb3ZpZGVyc2Agc3BlY2lmaWMgdG9cbiAqIHlvdXIgYXBwbGljYXRpb24ncyBydW50aW1lIG5lZWRzLCBzdWNoIGFzIGBQTEFURk9STV9JTklUSUFMSVpFUmAgYW5kIGBQTEFURk9STV9JRGAuXG4gKiBAcGFyYW0gcGFyZW50UGxhdGZvcm1GYWN0b3J5IEFub3RoZXIgcGxhdGZvcm0gZmFjdG9yeSB0byBtb2RpZnkuIEFsbG93cyB5b3UgdG8gY29tcG9zZSBmYWN0b3JpZXNcbiAqIHRvIGJ1aWxkIHVwIGNvbmZpZ3VyYXRpb25zIHRoYXQgbWlnaHQgYmUgcmVxdWlyZWQgYnkgZGlmZmVyZW50IGxpYnJhcmllcyBvciBwYXJ0cyBvZiB0aGVcbiAqIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIG5hbWUgSWRlbnRpZmllcyB0aGUgbmV3IHBsYXRmb3JtIGZhY3RvcnkuXG4gKiBAcGFyYW0gcHJvdmlkZXJzIEEgc2V0IG9mIGRlcGVuZGVuY3kgcHJvdmlkZXJzIGZvciBwbGF0Zm9ybXMgY3JlYXRlZCB3aXRoIHRoZSBuZXcgZmFjdG9yeS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwYXJlbnRQbGF0Zm9ybUZhY3RvcnksIG5hbWUsIHByb3ZpZGVycyA9IFtdKSB7XG4gICAgY29uc3QgZGVzYyA9IGBQbGF0Zm9ybTogJHtuYW1lfWA7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IEluamVjdGlvblRva2VuKGRlc2MpO1xuICAgIHJldHVybiAoZXh0cmFQcm92aWRlcnMgPSBbXSkgPT4ge1xuICAgICAgICBsZXQgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgICAgICBpZiAoIXBsYXRmb3JtIHx8IHBsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudFBsYXRmb3JtRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFBsYXRmb3JtRmFjdG9yeShwcm92aWRlcnMuY29uY2F0KGV4dHJhUHJvdmlkZXJzKS5jb25jYXQoeyBwcm92aWRlOiBtYXJrZXIsIHVzZVZhbHVlOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGVkUHJvdmlkZXJzID0gcHJvdmlkZXJzLmNvbmNhdChleHRyYVByb3ZpZGVycykuY29uY2F0KHsgcHJvdmlkZTogbWFya2VyLCB1c2VWYWx1ZTogdHJ1ZSB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IElOSkVDVE9SX1NDT1BFLFxuICAgICAgICAgICAgICAgICAgICB1c2VWYWx1ZTogJ3BsYXRmb3JtJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVBsYXRmb3JtKEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogaW5qZWN0ZWRQcm92aWRlcnMsIG5hbWU6IGRlc2MgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NlcnRQbGF0Zm9ybShtYXJrZXIpO1xuICAgIH07XG59XG4vKipcbiAqIENoZWNrcyB0aGF0IHRoZXJlIGlzIGN1cnJlbnRseSBhIHBsYXRmb3JtIHRoYXQgY29udGFpbnMgdGhlIGdpdmVuIHRva2VuIGFzIGEgcHJvdmlkZXIuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBhc3NlcnRQbGF0Zm9ybShyZXF1aXJlZFRva2VuKSB7XG4gICAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgIGlmICghcGxhdGZvcm0pIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgPyAnTm8gcGxhdGZvcm0gZXhpc3RzIScgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDEgLyogUExBVEZPUk1fTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiZcbiAgICAgICAgIXBsYXRmb3JtLmluamVjdG9yLmdldChyZXF1aXJlZFRva2VuLCBudWxsKSkge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMCAvKiBNVUxUSVBMRV9QTEFURk9STVMgKi8sICdBIHBsYXRmb3JtIHdpdGggYSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBjcmVhdGVkLiBQbGVhc2UgZGVzdHJveSBpdCBmaXJzdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXRmb3JtO1xufVxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY3VycmVudCBBbmd1bGFyIHBsYXRmb3JtIGFuZCBhbGwgQW5ndWxhciBhcHBsaWNhdGlvbnMgb24gdGhlIHBhZ2UuXG4gKiBEZXN0cm95cyBhbGwgbW9kdWxlcyBhbmQgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgcGxhdGZvcm0uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBkZXN0cm95UGxhdGZvcm0oKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCkge1xuICAgICAgICBfcGxhdGZvcm0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldFBsYXRmb3JtKCkge1xuICAgIHJldHVybiBfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQgPyBfcGxhdGZvcm0gOiBudWxsO1xufVxuLyoqXG4gKiBUaGUgQW5ndWxhciBwbGF0Zm9ybSBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIEFuZ3VsYXIgb24gYSB3ZWIgcGFnZS5cbiAqIEVhY2ggcGFnZSBoYXMgZXhhY3RseSBvbmUgcGxhdGZvcm0uIFNlcnZpY2VzIChzdWNoIGFzIHJlZmxlY3Rpb24pIHdoaWNoIGFyZSBjb21tb25cbiAqIHRvIGV2ZXJ5IEFuZ3VsYXIgYXBwbGljYXRpb24gcnVubmluZyBvbiB0aGUgcGFnZSBhcmUgYm91bmQgaW4gaXRzIHNjb3BlLlxuICogQSBwYWdlJ3MgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQgaW1wbGljaXRseSB3aGVuIGEgcGxhdGZvcm0gaXMgY3JlYXRlZCB1c2luZyBhIHBsYXRmb3JtXG4gKiBmYWN0b3J5IHN1Y2ggYXMgYFBsYXRmb3JtQnJvd3NlcmAsIG9yIGV4cGxpY2l0bHkgYnkgY2FsbGluZyB0aGUgYGNyZWF0ZVBsYXRmb3JtKClgIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUGxhdGZvcm1SZWYge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3RvcihfaW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX21vZHVsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgQE5nTW9kdWxlYCBmb3IgdGhlIGdpdmVuIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGFzc2luZyBOZ01vZHVsZSBmYWN0b3JpZXMgYXMgdGhlIGBQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVGYWN0b3J5YCBmdW5jdGlvblxuICAgICAqICAgICBhcmd1bWVudCBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIGBQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVgIEFQSSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSwgb3B0aW9ucykge1xuICAgICAgICAvLyBOb3RlOiBXZSBuZWVkIHRvIGNyZWF0ZSB0aGUgTmdab25lIF9iZWZvcmVfIHdlIGluc3RhbnRpYXRlIHRoZSBtb2R1bGUsXG4gICAgICAgIC8vIGFzIGluc3RhbnRpYXRpbmcgdGhlIG1vZHVsZSBjcmVhdGVzIHNvbWUgcHJvdmlkZXJzIGVhZ2VybHkuXG4gICAgICAgIC8vIFNvIHdlIGNyZWF0ZSBhIG1pbmkgcGFyZW50IGluamVjdG9yIHRoYXQganVzdCBjb250YWlucyB0aGUgbmV3IE5nWm9uZSBhbmRcbiAgICAgICAgLy8gcGFzcyB0aGF0IGFzIHBhcmVudCB0byB0aGUgTmdNb2R1bGVGYWN0b3J5LlxuICAgICAgICBjb25zdCBuZ1pvbmVPcHRpb24gPSBvcHRpb25zID8gb3B0aW9ucy5uZ1pvbmUgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5nWm9uZUV2ZW50Q29hbGVzY2luZyA9IChvcHRpb25zICYmIG9wdGlvbnMubmdab25lRXZlbnRDb2FsZXNjaW5nKSB8fCBmYWxzZTtcbiAgICAgICAgY29uc3Qgbmdab25lUnVuQ29hbGVzY2luZyA9IChvcHRpb25zICYmIG9wdGlvbnMubmdab25lUnVuQ29hbGVzY2luZykgfHwgZmFsc2U7XG4gICAgICAgIGNvbnN0IG5nWm9uZSA9IGdldE5nWm9uZShuZ1pvbmVPcHRpb24sIHsgbmdab25lRXZlbnRDb2FsZXNjaW5nLCBuZ1pvbmVSdW5Db2FsZXNjaW5nIH0pO1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBbeyBwcm92aWRlOiBOZ1pvbmUsIHVzZVZhbHVlOiBuZ1pvbmUgfV07XG4gICAgICAgIC8vIE5vdGU6IENyZWF0ZSBuZ1pvbmVJbmplY3RvciB3aXRoaW4gbmdab25lLnJ1biBzbyB0aGF0IGFsbCBvZiB0aGUgaW5zdGFudGlhdGVkIHNlcnZpY2VzIGFyZVxuICAgICAgICAvLyBjcmVhdGVkIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lXG4gICAgICAgIC8vIERvIG5vdCB0cnkgdG8gcmVwbGFjZSBuZ1pvbmUucnVuIHdpdGggQXBwbGljYXRpb25SZWYjcnVuIGJlY2F1c2UgQXBwbGljYXRpb25SZWYgd291bGQgdGhlbiBiZVxuICAgICAgICAvLyBjcmVhdGVkIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgICAgcmV0dXJuIG5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbmdab25lSW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IHByb3ZpZGVycywgcGFyZW50OiB0aGlzLmluamVjdG9yLCBuYW1lOiBtb2R1bGVGYWN0b3J5Lm1vZHVsZVR5cGUubmFtZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZVJlZiA9IG1vZHVsZUZhY3RvcnkuY3JlYXRlKG5nWm9uZUluamVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGV4Y2VwdGlvbkhhbmRsZXIgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoIWV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgICAgICdObyBFcnJvckhhbmRsZXIuIElzIHBsYXRmb3JtIG1vZHVsZSAoQnJvd3Nlck1vZHVsZSkgaW5jbHVkZWQ/JyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAyIC8qIEVSUk9SX0hBTkRMRVJfTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZ1pvbmUub25FcnJvci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbW9kdWxlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0aGlzLl9tb2R1bGVzLCBtb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIoZXhjZXB0aW9uSGFuZGxlciwgbmdab25lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdFN0YXR1cyA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoQXBwbGljYXRpb25Jbml0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICBpbml0U3RhdHVzLnJ1bkluaXRpYWxpemVycygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0U3RhdHVzLmRvbmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYExPQ0FMRV9JRGAgcHJvdmlkZXIgaXMgZGVmaW5lZCBhdCBib290c3RyYXAgdGhlbiB3ZSBzZXQgdGhlIHZhbHVlIGZvciBpdnlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxlSWQgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KExPQ0FMRV9JRCwgREVGQVVMVF9MT0NBTEVfSUQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbGVJZChsb2NhbGVJZCB8fCBERUZBVUxUX0xPQ0FMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZHVsZURvQm9vdHN0cmFwKG1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVSZWY7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYEBOZ01vZHVsZWAgZm9yIGEgZ2l2ZW4gcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBTaW1wbGUgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBOZ01vZHVsZSh7XG4gICAgICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV1cbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIE15TW9kdWxlIHt9XG4gICAgICpcbiAgICAgKiBsZXQgbW9kdWxlUmVmID0gcGxhdGZvcm1Ccm93c2VyKCkuYm9vdHN0cmFwTW9kdWxlKE15TW9kdWxlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIGJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMgPSBbXSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc1JlZHVjZXIoe30sIGNvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBjb21waWxlTmdNb2R1bGVGYWN0b3J5KHRoaXMuaW5qZWN0b3IsIG9wdGlvbnMsIG1vZHVsZVR5cGUpXG4gICAgICAgICAgICAudGhlbihtb2R1bGVGYWN0b3J5ID0+IHRoaXMuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5LCBvcHRpb25zKSk7XG4gICAgfVxuICAgIF9tb2R1bGVEb0Jvb3RzdHJhcChtb2R1bGVSZWYpIHtcbiAgICAgICAgY29uc3QgYXBwUmVmID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChBcHBsaWNhdGlvblJlZik7XG4gICAgICAgIGlmIChtb2R1bGVSZWYuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW9kdWxlUmVmLl9ib290c3RyYXBDb21wb25lbnRzLmZvckVhY2goZiA9PiBhcHBSZWYuYm9vdHN0cmFwKGYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2R1bGVSZWYuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCkge1xuICAgICAgICAgICAgbW9kdWxlUmVmLmluc3RhbmNlLm5nRG9Cb290c3RyYXAoYXBwUmVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgVGhlIG1vZHVsZSAke3N0cmluZ2lmeShtb2R1bGVSZWYuaW5zdGFuY2UuY29uc3RydWN0b3IpfSB3YXMgYm9vdHN0cmFwcGVkLCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlIFwiQE5nTW9kdWxlLmJvb3RzdHJhcFwiIGNvbXBvbmVudHMgbm9yIGEgXCJuZ0RvQm9vdHN0cmFwXCIgbWV0aG9kLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmAgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDMgLyogQk9PVFNUUkFQX0NPTVBPTkVOVFNfTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZHVsZXMucHVzaChtb2R1bGVSZWYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGxhdGZvcm0gaXMgZGVzdHJveWVkLlxuICAgICAqL1xuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHBsYXRmb3JtIHtAbGluayBJbmplY3Rvcn0sIHdoaWNoIGlzIHRoZSBwYXJlbnQgaW5qZWN0b3IgZm9yXG4gICAgICogZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSBhbmQgcHJvdmlkZXMgc2luZ2xldG9uIHByb3ZpZGVycy5cbiAgICAgKi9cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmplY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGN1cnJlbnQgQW5ndWxhciBwbGF0Zm9ybSBhbmQgYWxsIEFuZ3VsYXIgYXBwbGljYXRpb25zIG9uIHRoZSBwYWdlLlxuICAgICAqIERlc3Ryb3lzIGFsbCBtb2R1bGVzIGFuZCBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBwbGF0Zm9ybS5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ1RoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEnIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDA0IC8qIEFMUkVBRFlfREVTVFJPWUVEX1BMQVRGT1JNICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZHVsZXMuc2xpY2UoKS5mb3JFYWNoKG1vZHVsZSA9PiBtb2R1bGUuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cbn1cblBsYXRmb3JtUmVmLsm1ZmFjID0gZnVuY3Rpb24gUGxhdGZvcm1SZWZfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgUGxhdGZvcm1SZWYpKMm1ybVpbmplY3QoSW5qZWN0b3IpKTsgfTtcblBsYXRmb3JtUmVmLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogUGxhdGZvcm1SZWYsIGZhY3Rvcnk6IFBsYXRmb3JtUmVmLsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoUGxhdGZvcm1SZWYsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBJbmplY3RvciB9XTsgfSwgbnVsbCk7XG59KSgpO1xuZnVuY3Rpb24gZ2V0Tmdab25lKG5nWm9uZU9wdGlvbiwgZXh0cmEpIHtcbiAgICBsZXQgbmdab25lO1xuICAgIGlmIChuZ1pvbmVPcHRpb24gPT09ICdub29wJykge1xuICAgICAgICBuZ1pvbmUgPSBuZXcgTm9vcE5nWm9uZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdab25lID0gKG5nWm9uZU9wdGlvbiA9PT0gJ3pvbmUuanMnID8gdW5kZWZpbmVkIDogbmdab25lT3B0aW9uKSB8fCBuZXcgTmdab25lKHtcbiAgICAgICAgICAgIGVuYWJsZUxvbmdTdGFja1RyYWNlOiB0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogISFuZ0Rldk1vZGUsXG4gICAgICAgICAgICBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOiAhIShleHRyYSA9PT0gbnVsbCB8fCBleHRyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0cmEubmdab25lRXZlbnRDb2FsZXNjaW5nKSxcbiAgICAgICAgICAgIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uOiAhIShleHRyYSA9PT0gbnVsbCB8fCBleHRyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0cmEubmdab25lUnVuQ29hbGVzY2luZylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZ1pvbmU7XG59XG5mdW5jdGlvbiBfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyKGVycm9ySGFuZGxlciwgbmdab25lLCBjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICAgICAgICAgIC8vIHJldGhyb3cgYXMgdGhlIGV4Y2VwdGlvbiBoYW5kbGVyIG1pZ2h0IG5vdCBkbyBpdFxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpKTtcbiAgICAgICAgLy8gcmV0aHJvdyBhcyB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgbWlnaHQgbm90IGRvIGl0XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuZnVuY3Rpb24gb3B0aW9uc1JlZHVjZXIoZHN0LCBvYmpzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqcykpIHtcbiAgICAgICAgZHN0ID0gb2Jqcy5yZWR1Y2Uob3B0aW9uc1JlZHVjZXIsIGRzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3QgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRzdCksIG9ianMpO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIHJ1bm5pbmcgb24gYSBwYWdlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICoge0BhIGlzLXN0YWJsZS1leGFtcGxlc31cbiAqICMjIyBpc1N0YWJsZSBleGFtcGxlcyBhbmQgY2F2ZWF0c1xuICpcbiAqIE5vdGUgdHdvIGltcG9ydGFudCBwb2ludHMgYWJvdXQgYGlzU3RhYmxlYCwgZGVtb25zdHJhdGVkIGluIHRoZSBleGFtcGxlcyBiZWxvdzpcbiAqIC0gdGhlIGFwcGxpY2F0aW9uIHdpbGwgbmV2ZXIgYmUgc3RhYmxlIGlmIHlvdSBzdGFydCBhbnkga2luZFxuICogb2YgcmVjdXJyZW50IGFzeW5jaHJvbm91cyB0YXNrIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHN0YXJ0c1xuICogKGZvciBleGFtcGxlIGZvciBhIHBvbGxpbmcgcHJvY2Vzcywgc3RhcnRlZCB3aXRoIGEgYHNldEludGVydmFsYCwgYSBgc2V0VGltZW91dGBcbiAqIG9yIHVzaW5nIFJ4SlMgb3BlcmF0b3JzIGxpa2UgYGludGVydmFsYCk7XG4gKiAtIHRoZSBgaXNTdGFibGVgIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogTGV0J3MgaW1hZ2luZSB0aGF0IHlvdSBzdGFydCBhIHJlY3VycmVudCB0YXNrXG4gKiAoaGVyZSBpbmNyZW1lbnRpbmcgYSBjb3VudGVyLCB1c2luZyBSeEpTIGBpbnRlcnZhbGApLFxuICogYW5kIGF0IHRoZSBzYW1lIHRpbWUgc3Vic2NyaWJlIHRvIGBpc1N0YWJsZWAuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgICBmaWx0ZXIoc3RhYmxlID0+IHN0YWJsZSlcbiAqICAgKS5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ0FwcCBpcyBzdGFibGUgbm93Jyk7XG4gKiAgIGludGVydmFsKDEwMDApLnN1YnNjcmliZShjb3VudGVyID0+IGNvbnNvbGUubG9nKGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICogSW4gdGhpcyBleGFtcGxlLCBgaXNTdGFibGVgIHdpbGwgbmV2ZXIgZW1pdCBgdHJ1ZWAsXG4gKiBhbmQgdGhlIHRyYWNlIFwiQXBwIGlzIHN0YWJsZSBub3dcIiB3aWxsIG5ldmVyIGdldCBsb2dnZWQuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gZXhlY3V0ZSBzb21ldGhpbmcgd2hlbiB0aGUgYXBwIGlzIHN0YWJsZSxcbiAqIHlvdSBoYXZlIHRvIHdhaXQgZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSBzdGFibGVcbiAqIGJlZm9yZSBzdGFydGluZyB5b3VyIHBvbGxpbmcgcHJvY2Vzcy5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgdGFwKHN0YWJsZSA9PiBjb25zb2xlLmxvZygnQXBwIGlzIHN0YWJsZSBub3cnKSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IGNvbnNvbGUubG9nKGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICogSW4gdGhpcyBleGFtcGxlLCB0aGUgdHJhY2UgXCJBcHAgaXMgc3RhYmxlIG5vd1wiIHdpbGwgYmUgbG9nZ2VkXG4gKiBhbmQgdGhlbiB0aGUgY291bnRlciBzdGFydHMgaW5jcmVtZW50aW5nIGV2ZXJ5IHNlY29uZC5cbiAqXG4gKiBOb3RlIGFsc28gdGhhdCB0aGlzIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUsXG4gKiB3aGljaCBtZWFucyB0aGF0IHRoZSBjb2RlIGluIHRoZSBzdWJzY3JpcHRpb25cbiAqIHRvIHRoaXMgT2JzZXJ2YWJsZSB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uLlxuICpcbiAqIExldCdzIGltYWdpbmUgdGhhdCBpbnN0ZWFkIG9mIGxvZ2dpbmcgdGhlIGNvdW50ZXIgdmFsdWUsXG4gKiB5b3UgdXBkYXRlIGEgZmllbGQgb2YgeW91ciBjb21wb25lbnRcbiAqIGFuZCBkaXNwbGF5IGl0IGluIGl0cyB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHRoaXMudmFsdWUgPSBjb3VudGVyKTtcbiAqIH1cbiAqIGBgYFxuICogQXMgdGhlIGBpc1N0YWJsZWAgT2JzZXJ2YWJsZSBydW5zIG91dHNpZGUgdGhlIHpvbmUsXG4gKiB0aGUgYHZhbHVlYCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgcHJvcGVybHksXG4gKiBidXQgdGhlIHRlbXBsYXRlIHdpbGwgbm90IGJlIHJlZnJlc2hlZCFcbiAqXG4gKiBZb3UnbGwgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLCBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHtcbiAqICAgICB0aGlzLnZhbHVlID0gY291bnRlcjtcbiAqICAgICBjZC5kZXRlY3RDaGFuZ2VzKCk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogT3IgbWFrZSB0aGUgc3Vic2NyaXB0aW9uIGNhbGxiYWNrIHJ1biBpbnNpZGUgdGhlIHpvbmUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLCB6b25lOiBOZ1pvbmUpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHpvbmUucnVuKCgpID0+IHRoaXMudmFsdWUgPSBjb3VudGVyKSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uUmVmIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29uc3RydWN0b3IoX3pvbmUsIF9pbmplY3RvciwgX2V4Y2VwdGlvbkhhbmRsZXIsIF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIF9pbml0U3RhdHVzKSB7XG4gICAgICAgIHRoaXMuX3pvbmUgPSBfem9uZTtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIgPSBfZXhjZXB0aW9uSGFuZGxlcjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5faW5pdFN0YXR1cyA9IF9pbml0U3RhdHVzO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl92aWV3cyA9IFtdO1xuICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgbGlzdCBvZiBjb21wb25lbnQgdHlwZXMgcmVnaXN0ZXJlZCB0byB0aGlzIGFwcGxpY2F0aW9uLlxuICAgICAgICAgKiBUaGlzIGxpc3QgaXMgcG9wdWxhdGVkIGV2ZW4gYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgY3JlYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbiA9IHRoaXMuX3pvbmUub25NaWNyb3Rhc2tFbXB0eS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpc0N1cnJlbnRseVN0YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gdGhpcy5fem9uZS5pc1N0YWJsZSAmJiAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzO1xuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0aGlzLl9zdGFibGUpO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGlzU3RhYmxlID0gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHN1YnNjcmlwdGlvbiB0byBvblN0YWJsZSBvdXRzaWRlIHRoZSBBbmd1bGFyIFpvbmUgc28gdGhhdFxuICAgICAgICAgICAgLy8gdGhlIGNhbGxiYWNrIGlzIHJ1biBvdXRzaWRlIHRoZSBBbmd1bGFyIFpvbmUuXG4gICAgICAgICAgICBsZXQgc3RhYmxlU3ViO1xuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhYmxlU3ViID0gdGhpcy5fem9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZXJlIGFyZSBubyBwZW5kaW5nIG1hY3JvL21pY3JvIHRhc2tzIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgZm9yIE5nWm9uZSB0byB1cGRhdGUgdGhlIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3N0YWJsZSAmJiAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdW5zdGFibGVTdWIgPSB0aGlzLl96b25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBzdGFibGVTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB1bnN0YWJsZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaXNTdGFibGUgPVxuICAgICAgICAgICAgbWVyZ2UkMShpc0N1cnJlbnRseVN0YWJsZSwgaXNTdGFibGUucGlwZShzaGFyZSgpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJvb3RzdHJhcCBhIGNvbXBvbmVudCBvbnRvIHRoZSBlbGVtZW50IGlkZW50aWZpZWQgYnkgaXRzIHNlbGVjdG9yIG9yLCBvcHRpb25hbGx5LCB0byBhXG4gICAgICogc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBCb290c3RyYXAgcHJvY2Vzc1xuICAgICAqXG4gICAgICogV2hlbiBib290c3RyYXBwaW5nIGEgY29tcG9uZW50LCBBbmd1bGFyIG1vdW50cyBpdCBvbnRvIGEgdGFyZ2V0IERPTSBlbGVtZW50XG4gICAgICogYW5kIGtpY2tzIG9mZiBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbi4gVGhlIHRhcmdldCBET00gZWxlbWVudCBjYW4gYmVcbiAgICAgKiBwcm92aWRlZCB1c2luZyB0aGUgYHJvb3RTZWxlY3Rvck9yTm9kZWAgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IERPTSBlbGVtZW50IGlzIG5vdCBwcm92aWRlZCwgQW5ndWxhciB0cmllcyB0byBmaW5kIG9uZSBvbiBhIHBhZ2VcbiAgICAgKiB1c2luZyB0aGUgYHNlbGVjdG9yYCBvZiB0aGUgY29tcG9uZW50IHRoYXQgaXMgYmVpbmcgYm9vdHN0cmFwcGVkXG4gICAgICogKGZpcnN0IG1hdGNoZWQgZWxlbWVudCBpcyB1c2VkKS5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBHZW5lcmFsbHksIHdlIGRlZmluZSB0aGUgY29tcG9uZW50IHRvIGJvb3RzdHJhcCBpbiB0aGUgYGJvb3RzdHJhcGAgYXJyYXkgb2YgYE5nTW9kdWxlYCxcbiAgICAgKiBidXQgaXQgcmVxdWlyZXMgdXMgdG8ga25vdyB0aGUgY29tcG9uZW50IHdoaWxlIHdyaXRpbmcgdGhlIGFwcGxpY2F0aW9uIGNvZGUuXG4gICAgICpcbiAgICAgKiBJbWFnaW5lIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGhhdmUgdG8gd2FpdCBmb3IgYW4gQVBJIGNhbGwgdG8gZGVjaWRlIGFib3V0IHRoZSBjb21wb25lbnQgdG9cbiAgICAgKiBib290c3RyYXAuIFdlIGNhbiB1c2UgdGhlIGBuZ0RvQm9vdHN0cmFwYCBob29rIG9mIHRoZSBgTmdNb2R1bGVgIGFuZCBjYWxsIHRoaXMgbWV0aG9kIHRvXG4gICAgICogZHluYW1pY2FsbHkgYm9vdHN0cmFwIGEgY29tcG9uZW50LlxuICAgICAqXG4gICAgICoge0BleGFtcGxlIGNvcmUvdHMvcGxhdGZvcm0vcGxhdGZvcm0udHMgcmVnaW9uPSdjb21wb25lbnRTZWxlY3Rvcid9XG4gICAgICpcbiAgICAgKiBPcHRpb25hbGx5LCBhIGNvbXBvbmVudCBjYW4gYmUgbW91bnRlZCBvbnRvIGEgRE9NIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGVcbiAgICAgKiBzZWxlY3RvciBvZiB0aGUgYm9vdHN0cmFwcGVkIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgd2UgYXJlIHByb3ZpZGluZyBhIENTUyBzZWxlY3RvciB0byBtYXRjaCB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgY29yZS90cy9wbGF0Zm9ybS9wbGF0Zm9ybS50cyByZWdpb249J2Nzc1NlbGVjdG9yJ31cbiAgICAgKlxuICAgICAqIFdoaWxlIGluIHRoaXMgZXhhbXBsZSwgd2UgYXJlIHByb3ZpZGluZyByZWZlcmVuY2UgdG8gYSBET00gbm9kZS5cbiAgICAgKlxuICAgICAqIHtAZXhhbXBsZSBjb3JlL3RzL3BsYXRmb3JtL3BsYXRmb3JtLnRzIHJlZ2lvbj0nZG9tTm9kZSd9XG4gICAgICovXG4gICAgYm9vdHN0cmFwKGNvbXBvbmVudE9yRmFjdG9yeSwgcm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdFN0YXR1cy5kb25lKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ0Nhbm5vdCBib290c3RyYXAgYXMgdGhlcmUgYXJlIHN0aWxsIGFzeW5jaHJvbm91cyBpbml0aWFsaXplcnMgcnVubmluZy4gJyArXG4gICAgICAgICAgICAgICAgICAgICdCb290c3RyYXAgY29tcG9uZW50cyBpbiB0aGUgYG5nRG9Cb290c3RyYXBgIG1ldGhvZCBvZiB0aGUgcm9vdCBtb2R1bGUuJyA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwNSAvKiBBU1lOQ19JTklUSUFMSVpFUlNfU1RJTExfUlVOTklORyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcG9uZW50RmFjdG9yeTtcbiAgICAgICAgaWYgKGNvbXBvbmVudE9yRmFjdG9yeSBpbnN0YW5jZW9mIENvbXBvbmVudEZhY3RvcnkkMSkge1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeSA9IGNvbXBvbmVudE9yRmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudEZhY3RvcnkgPVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRPckZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChjb21wb25lbnRGYWN0b3J5LmNvbXBvbmVudFR5cGUpO1xuICAgICAgICAvLyBDcmVhdGUgYSBmYWN0b3J5IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2R1bGUgaWYgaXQncyBub3QgYm91bmQgdG8gc29tZSBvdGhlclxuICAgICAgICBjb25zdCBuZ01vZHVsZSA9IGlzQm91bmRUb01vZHVsZShjb21wb25lbnRGYWN0b3J5KSA/IHVuZGVmaW5lZCA6IHRoaXMuX2luamVjdG9yLmdldChOZ01vZHVsZVJlZiQxKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JPck5vZGUgPSByb290U2VsZWN0b3JPck5vZGUgfHwgY29tcG9uZW50RmFjdG9yeS5zZWxlY3RvcjtcbiAgICAgICAgY29uc3QgY29tcFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKEluamVjdG9yLk5VTEwsIFtdLCBzZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpO1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gY29tcFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCB0ZXN0YWJpbGl0eSA9IGNvbXBSZWYuaW5qZWN0b3IuZ2V0KFRlc3RhYmlsaXR5LCBudWxsKTtcbiAgICAgICAgY29uc3QgdGVzdGFiaWxpdHlSZWdpc3RyeSA9IHRlc3RhYmlsaXR5ICYmIGNvbXBSZWYuaW5qZWN0b3IuZ2V0KFRlc3RhYmlsaXR5UmVnaXN0cnkpO1xuICAgICAgICBpZiAodGVzdGFiaWxpdHkgJiYgdGVzdGFiaWxpdHlSZWdpc3RyeSkge1xuICAgICAgICAgICAgdGVzdGFiaWxpdHlSZWdpc3RyeS5yZWdpc3RlckFwcGxpY2F0aW9uKG5hdGl2ZUVsZW1lbnQsIHRlc3RhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaFZpZXcoY29tcFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICByZW1vdmUodGhpcy5jb21wb25lbnRzLCBjb21wUmVmKTtcbiAgICAgICAgICAgIGlmICh0ZXN0YWJpbGl0eVJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICAgICAgdGVzdGFiaWxpdHlSZWdpc3RyeS51bnJlZ2lzdGVyQXBwbGljYXRpb24obmF0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9sb2FkQ29tcG9uZW50KGNvbXBSZWYpO1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBfY29uc29sZSA9IHRoaXMuX2luamVjdG9yLmdldChDb25zb2xlKTtcbiAgICAgICAgICAgIF9jb25zb2xlLmxvZyhgQW5ndWxhciBpcyBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGUuIENhbGwgZW5hYmxlUHJvZE1vZGUoKSB0byBlbmFibGUgcHJvZHVjdGlvbiBtb2RlLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gZXhwbGljaXRseSBwcm9jZXNzIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGl0cyBzaWRlLWVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBJbiBkZXZlbG9wbWVudCBtb2RlLCBgdGljaygpYCBhbHNvIHBlcmZvcm1zIGEgc2Vjb25kIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUgdG8gZW5zdXJlIHRoYXQgbm9cbiAgICAgKiBmdXJ0aGVyIGNoYW5nZXMgYXJlIGRldGVjdGVkLiBJZiBhZGRpdGlvbmFsIGNoYW5nZXMgYXJlIHBpY2tlZCB1cCBkdXJpbmcgdGhpcyBzZWNvbmQgY3ljbGUsXG4gICAgICogYmluZGluZ3MgaW4gdGhlIGFwcCBoYXZlIHNpZGUtZWZmZWN0cyB0aGF0IGNhbm5vdCBiZSByZXNvbHZlZCBpbiBhIHNpbmdsZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogcGFzcy5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIEFuZ3VsYXIgdGhyb3dzIGFuIGVycm9yLCBzaW5jZSBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIGNhbiBvbmx5IGhhdmUgb25lIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBwYXNzIGR1cmluZyB3aGljaCBhbGwgY2hhbmdlIGRldGVjdGlvbiBtdXN0IGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHRpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl9ydW5uaW5nVGljaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICdBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseScgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigxMDEgLyogUkVDVVJTSVZFX0FQUExJQ0FUSU9OX1JFRl9USUNLICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMuX3ZpZXdzKSB7XG4gICAgICAgICAgICAgICAgdmlldy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLl92aWV3cykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNoZWNrTm9DaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBBdHRlbnRpb246IERvbid0IHJldGhyb3cgYXMgaXQgY291bGQgY2FuY2VsIHN1YnNjcmlwdGlvbnMgdG8gT2JzZXJ2YWJsZXMhXG4gICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHZpZXcgc28gdGhhdCBpdCB3aWxsIGJlIGRpcnR5IGNoZWNrZWQuXG4gICAgICogVGhlIHZpZXcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRldGFjaGVkIHdoZW4gaXQgaXMgZGVzdHJveWVkLlxuICAgICAqIFRoaXMgd2lsbCB0aHJvdyBpZiB0aGUgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgVmlld0NvbnRhaW5lci5cbiAgICAgKi9cbiAgICBhdHRhY2hWaWV3KHZpZXdSZWYpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuX3ZpZXdzLnB1c2godmlldyk7XG4gICAgICAgIHZpZXcuYXR0YWNoVG9BcHBSZWYodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGFjaGVzIGEgdmlldyBmcm9tIGRpcnR5IGNoZWNraW5nIGFnYWluLlxuICAgICAqL1xuICAgIGRldGFjaFZpZXcodmlld1JlZikge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmlld1JlZjtcbiAgICAgICAgcmVtb3ZlKHRoaXMuX3ZpZXdzLCB2aWV3KTtcbiAgICAgICAgdmlldy5kZXRhY2hGcm9tQXBwUmVmKCk7XG4gICAgfVxuICAgIF9sb2FkQ29tcG9uZW50KGNvbXBvbmVudFJlZikge1xuICAgICAgICB0aGlzLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudFJlZik7XG4gICAgICAgIC8vIEdldCB0aGUgbGlzdGVuZXJzIGxhemlseSB0byBwcmV2ZW50IERJIGN5Y2xlcy5cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5faW5qZWN0b3IuZ2V0KEFQUF9CT09UU1RSQVBfTElTVEVORVIsIFtdKS5jb25jYXQodGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzKTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihjb21wb25lbnRSZWYpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2goKHZpZXcpID0+IHZpZXcuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYXR0YWNoZWQgdmlld3MuXG4gICAgICovXG4gICAgZ2V0IHZpZXdDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aDtcbiAgICB9XG59XG5BcHBsaWNhdGlvblJlZi7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uUmVmX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uUmVmKSjJtcm1aW5qZWN0KE5nWm9uZSksIMm1ybVpbmplY3QoSW5qZWN0b3IpLCDJtcm1aW5qZWN0KEVycm9ySGFuZGxlciksIMm1ybVpbmplY3QoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEpLCDJtcm1aW5qZWN0KEFwcGxpY2F0aW9uSW5pdFN0YXR1cykpOyB9O1xuQXBwbGljYXRpb25SZWYuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBBcHBsaWNhdGlvblJlZiwgZmFjdG9yeTogQXBwbGljYXRpb25SZWYuybVmYWMsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKEFwcGxpY2F0aW9uUmVmLCBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHByb3ZpZGVkSW46ICdyb290JyB9XVxuICAgICAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmdab25lIH0sIHsgdHlwZTogSW5qZWN0b3IgfSwgeyB0eXBlOiBFcnJvckhhbmRsZXIgfSwgeyB0eXBlOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSB9LCB7IHR5cGU6IEFwcGxpY2F0aW9uSW5pdFN0YXR1cyB9XTsgfSwgbnVsbCk7XG59KSgpO1xuZnVuY3Rpb24gcmVtb3ZlKGxpc3QsIGVsKSB7XG4gICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YoZWwpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfbGFzdERlZmluZWQoYXJncykge1xuICAgIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChhcmdzW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBfbWVyZ2VBcnJheXMocGFydHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBwYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiBwYXJ0ICYmIHJlc3VsdC5wdXNoKC4uLnBhcnQpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGlzIHVzZWQgdG8gY29udHJvbCBpZiB0aGUgZGVmYXVsdCByZW5kZXJpbmcgcGlwZWxpbmUgc2hvdWxkIGJlIGBWaWV3RW5naW5lYCBvciBgSXZ5YC5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gcnVuIGFuZCBkZWJ1ZyB0ZXN0cyB3aXRoIGVpdGhlciBJdnkgb3IgVmlldyBFbmdpbmUgKGxlZ2FjeSksXG4gKiBwbGVhc2Ugc2VlIFtCQVpFTC5tZF0oLi9kb2NzL0JBWkVMLm1kKS5cbiAqL1xubGV0IF9kZXZNb2RlID0gdHJ1ZTtcbmxldCBfcnVuTW9kZUxvY2tlZCA9IGZhbHNlO1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgQW5ndWxhciBpcyBpbiBkZXZlbG9wbWVudCBtb2RlLiBBZnRlciBjYWxsZWQgb25jZSxcbiAqIHRoZSB2YWx1ZSBpcyBsb2NrZWQgYW5kIHdvbid0IGNoYW5nZSBhbnkgbW9yZS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRydWUsIHVubGVzcyBhIHVzZXIgY2FsbHMgYGVuYWJsZVByb2RNb2RlYCBiZWZvcmUgY2FsbGluZyB0aGlzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gaXNEZXZNb2RlKCkge1xuICAgIF9ydW5Nb2RlTG9ja2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gX2Rldk1vZGU7XG59XG4vKipcbiAqIERpc2FibGUgQW5ndWxhcidzIGRldmVsb3BtZW50IG1vZGUsIHdoaWNoIHR1cm5zIG9mZiBhc3NlcnRpb25zIGFuZCBvdGhlclxuICogY2hlY2tzIHdpdGhpbiB0aGUgZnJhbWV3b3JrLlxuICpcbiAqIE9uZSBpbXBvcnRhbnQgYXNzZXJ0aW9uIHRoaXMgZGlzYWJsZXMgdmVyaWZpZXMgdGhhdCBhIGNoYW5nZSBkZXRlY3Rpb24gcGFzc1xuICogZG9lcyBub3QgcmVzdWx0IGluIGFkZGl0aW9uYWwgY2hhbmdlcyB0byBhbnkgYmluZGluZ3MgKGFsc28ga25vd24gYXNcbiAqIHVuaWRpcmVjdGlvbmFsIGRhdGEgZmxvdykuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBlbmFibGVQcm9kTW9kZSgpIHtcbiAgICBpZiAoX3J1bk1vZGVMb2NrZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZW5hYmxlIHByb2QgbW9kZSBhZnRlciBwbGF0Zm9ybSBzZXR1cC4nKTtcbiAgICB9XG4gICAgLy8gVGhlIGJlbG93IGNoZWNrIGlzIHRoZXJlIHNvIHdoZW4gbmdEZXZNb2RlIGlzIHNldCB2aWEgdGVyc2VyXG4gICAgLy8gYGdsb2JhbFsnbmdEZXZNb2RlJ10gPSBmYWxzZTtgIGlzIGFsc28gZHJvcHBlZC5cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gdW5kZWZpbmVkIHx8ICEhbmdEZXZNb2RlKSB7XG4gICAgICAgIF9nbG9iYWxbJ25nRGV2TW9kZSddID0gZmFsc2U7XG4gICAgfVxuICAgIF9kZXZNb2RlID0gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIE5nTW9kdWxlRmFjdG9yeSB3aXRoIHRoZSBnaXZlbiBpZCAoc3BlY2lmaWVkIHVzaW5nIFtATmdNb2R1bGUuaWRcbiAqIGZpZWxkXShhcGkvY29yZS9OZ01vZHVsZSNpZCkpLCBpZiBpdCBleGlzdHMgYW5kIGhhcyBiZWVuIGxvYWRlZC4gRmFjdG9yaWVzIGZvciBOZ01vZHVsZXMgdGhhdCBkb1xuICogbm90IHNwZWNpZnkgYW4gYGlkYCBjYW5ub3QgYmUgcmV0cmlldmVkLiBUaHJvd3MgaWYgYW4gTmdNb2R1bGUgY2Fubm90IGJlIGZvdW5kLlxuICogQHB1YmxpY0FwaVxuICogQGRlcHJlY2F0ZWQgVXNlIGBnZXROZ01vZHVsZUJ5SWRgIGluc3RlYWQuXG4gKi9cbmZ1bmN0aW9uIGdldE1vZHVsZUZhY3RvcnkoaWQpIHtcbiAgICBjb25zdCB0eXBlID0gZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZShpZCk7XG4gICAgaWYgKCF0eXBlKVxuICAgICAgICB0aHJvdyBub01vZHVsZUVycm9yKGlkKTtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlRmFjdG9yeSh0eXBlKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgTmdNb2R1bGUgY2xhc3Mgd2l0aCB0aGUgZ2l2ZW4gaWQgKHNwZWNpZmllZCB1c2luZyBbQE5nTW9kdWxlLmlkXG4gKiBmaWVsZF0oYXBpL2NvcmUvTmdNb2R1bGUjaWQpKSwgaWYgaXQgZXhpc3RzIGFuZCBoYXMgYmVlbiBsb2FkZWQuIENsYXNzZXMgZm9yIE5nTW9kdWxlcyB0aGF0IGRvXG4gKiBub3Qgc3BlY2lmeSBhbiBgaWRgIGNhbm5vdCBiZSByZXRyaWV2ZWQuIFRocm93cyBpZiBhbiBOZ01vZHVsZSBjYW5ub3QgYmUgZm91bmQuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldE5nTW9kdWxlQnlJZChpZCkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRSZWdpc3RlcmVkTmdNb2R1bGVUeXBlKGlkKTtcbiAgICBpZiAoIXR5cGUpXG4gICAgICAgIHRocm93IG5vTW9kdWxlRXJyb3IoaWQpO1xuICAgIHJldHVybiB0eXBlO1xufVxuZnVuY3Rpb24gbm9Nb2R1bGVFcnJvcihpZCkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYE5vIG1vZHVsZSB3aXRoIElEICR7aWR9IGxvYWRlZGApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQmFzZSBjbGFzcyB0aGF0IHByb3ZpZGVzIGNoYW5nZSBkZXRlY3Rpb24gZnVuY3Rpb25hbGl0eS5cbiAqIEEgY2hhbmdlLWRldGVjdGlvbiB0cmVlIGNvbGxlY3RzIGFsbCB2aWV3cyB0aGF0IGFyZSB0byBiZSBjaGVja2VkIGZvciBjaGFuZ2VzLlxuICogVXNlIHRoZSBtZXRob2RzIHRvIGFkZCBhbmQgcmVtb3ZlIHZpZXdzIGZyb20gdGhlIHRyZWUsIGluaXRpYXRlIGNoYW5nZS1kZXRlY3Rpb24sXG4gKiBhbmQgZXhwbGljaXRseSBtYXJrIHZpZXdzIGFzIF9kaXJ0eV8sIG1lYW5pbmcgdGhhdCB0aGV5IGhhdmUgY2hhbmdlZCBhbmQgbmVlZCB0byBiZSByZS1yZW5kZXJlZC5cbiAqXG4gKiBAc2VlIFtVc2luZyBjaGFuZ2UgZGV0ZWN0aW9uIGhvb2tzXShndWlkZS9saWZlY3ljbGUtaG9va3MjdXNpbmctY2hhbmdlLWRldGVjdGlvbi1ob29rcylcbiAqIEBzZWUgW0RlZmluaW5nIGN1c3RvbSBjaGFuZ2UgZGV0ZWN0aW9uXShndWlkZS9saWZlY3ljbGUtaG9va3MjZGVmaW5pbmctY3VzdG9tLWNoYW5nZS1kZXRlY3Rpb24pXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGVzIGRlbW9uc3RyYXRlIGhvdyB0byBtb2RpZnkgZGVmYXVsdCBjaGFuZ2UtZGV0ZWN0aW9uIGJlaGF2aW9yXG4gKiB0byBwZXJmb3JtIGV4cGxpY2l0IGRldGVjdGlvbiB3aGVuIG5lZWRlZC5cbiAqXG4gKiAjIyMgVXNlIGBtYXJrRm9yQ2hlY2soKWAgd2l0aCBgQ2hlY2tPbmNlYCBzdHJhdGVneVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzZXRzIHRoZSBgT25QdXNoYCBjaGFuZ2UtZGV0ZWN0aW9uIHN0cmF0ZWd5IGZvciBhIGNvbXBvbmVudFxuICogKGBDaGVja09uY2VgLCByYXRoZXIgdGhhbiB0aGUgZGVmYXVsdCBgQ2hlY2tBbHdheXNgKSwgdGhlbiBmb3JjZXMgYSBzZWNvbmQgY2hlY2tcbiAqIGFmdGVyIGFuIGludGVydmFsLiBTZWUgW2xpdmUgZGVtb10oaHR0cHM6Ly9wbG5rci5jby9lZGl0L0dDNTEyYj9wPXByZXZpZXcpLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCJcbiAqIHJlZ2lvbj1cIm1hcmstZm9yLWNoZWNrXCI+PC9jb2RlLWV4YW1wbGU+XG4gKlxuICogIyMjIERldGFjaCBjaGFuZ2UgZGV0ZWN0b3IgdG8gbGltaXQgaG93IG9mdGVuIGNoZWNrIG9jY3Vyc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWZpbmVzIGEgY29tcG9uZW50IHdpdGggYSBsYXJnZSBsaXN0IG9mIHJlYWQtb25seSBkYXRhXG4gKiB0aGF0IGlzIGV4cGVjdGVkIHRvIGNoYW5nZSBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuXG4gKiBUbyBpbXByb3ZlIHBlcmZvcm1hbmNlLCB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3RcbiAqIGxlc3Mgb2Z0ZW4gdGhhbiB0aGUgY2hhbmdlcyBhY3R1YWxseSBvY2N1ci4gVG8gZG8gdGhhdCwgd2UgZGV0YWNoXG4gKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBwZXJmb3JtIGFuIGV4cGxpY2l0IGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiIHJlZ2lvbj1cImRldGFjaFwiPjwvY29kZS1leGFtcGxlPlxuICpcbiAqXG4gKiAjIyMgUmVhdHRhY2hpbmcgYSBkZXRhY2hlZCBjb21wb25lbnRcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIGNvbXBvbmVudCBkaXNwbGF5aW5nIGxpdmUgZGF0YS5cbiAqIFRoZSBjb21wb25lbnQgZGV0YWNoZXMgaXRzIGNoYW5nZSBkZXRlY3RvciBmcm9tIHRoZSBtYWluIGNoYW5nZSBkZXRlY3RvciB0cmVlXG4gKiB3aGVuIHRoZSBgbGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIGZhbHNlLCBhbmQgcmVhdHRhY2hlcyBpdCB3aGVuIHRoZSBwcm9wZXJ0eVxuICogYmVjb21lcyB0cnVlLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCIgcmVnaW9uPVwicmVhdHRhY2hcIj48L2NvZGUtZXhhbXBsZT5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIENoYW5nZURldGVjdG9yUmVmIHtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBAbm9jb2xsYXBzZVxuICovXG5DaGFuZ2VEZXRlY3RvclJlZi5fX05HX0VMRU1FTlRfSURfXyA9IGluamVjdENoYW5nZURldGVjdG9yUmVmO1xuLyoqIFJldHVybnMgYSBDaGFuZ2VEZXRlY3RvclJlZiAoYS5rLmEuIGEgVmlld1JlZikgKi9cbmZ1bmN0aW9uIGluamVjdENoYW5nZURldGVjdG9yUmVmKGZsYWdzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZpZXdSZWYoZ2V0Q3VycmVudFROb2RlKCksIGdldExWaWV3KCksIChmbGFncyAmIDE2IC8qIEZvclBpcGUgKi8pID09PSAxNiAvKiBGb3JQaXBlICovKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IgYXMgQ2hhbmdlRGV0ZWN0b3JSZWYgKHB1YmxpYyBhbGlhcykuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSBub2RlIHRoYXQgaXMgcmVxdWVzdGluZyBhIENoYW5nZURldGVjdG9yUmVmXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHBhcmFtIGlzUGlwZSBXaGV0aGVyIHRoZSB2aWV3IGlzIGJlaW5nIGluamVjdGVkIGludG8gYSBwaXBlLlxuICogQHJldHVybnMgVGhlIENoYW5nZURldGVjdG9yUmVmIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3UmVmKHROb2RlLCBsVmlldywgaXNQaXBlKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50SG9zdCh0Tm9kZSkgJiYgIWlzUGlwZSkge1xuICAgICAgICAvLyBUaGUgTFZpZXcgcmVwcmVzZW50cyB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIGNvbXBvbmVudCBpcyBkZWNsYXJlZC5cbiAgICAgICAgLy8gSW5zdGVhZCB3ZSB3YW50IHRoZSBMVmlldyBmb3IgdGhlIGNvbXBvbmVudCBWaWV3IGFuZCBzbyB3ZSBuZWVkIHRvIGxvb2sgaXQgdXAuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTsgLy8gbG9vayBkb3duXG4gICAgICAgIHJldHVybiBuZXcgVmlld1JlZiQxKGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAzMiAvKiBJY3UgKi8pKSB7XG4gICAgICAgIC8vIFRoZSBMVmlldyByZXByZXNlbnRzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgaW5qZWN0aW9uIGlzIHJlcXVlc3RlZCBmcm9tLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGxvY2F0ZSB0aGUgY29udGFpbmluZyBMVmlldyAoaW4gY2FzZSB3aGVyZSB0aGUgYGxWaWV3YCBpcyBhbiBlbWJlZGRlZCB2aWV3KVxuICAgICAgICBjb25zdCBob3N0Q29tcG9uZW50VmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTsgLy8gbG9vayB1cFxuICAgICAgICByZXR1cm4gbmV3IFZpZXdSZWYkMShob3N0Q29tcG9uZW50VmlldywgbFZpZXcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gQW5ndWxhciBbdmlld10oZ3VpZGUvZ2xvc3NhcnkjdmlldyBcIkRlZmluaXRpb25cIikuXG4gKlxuICogQHNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjdXNhZ2Utbm90ZXMgQ2hhbmdlIGRldGVjdGlvbiB1c2FnZX1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFZpZXdSZWYgZXh0ZW5kcyBDaGFuZ2VEZXRlY3RvclJlZiB7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gQW5ndWxhciBbdmlld10oZ3VpZGUvZ2xvc3NhcnkjdmlldykgaW4gYSB2aWV3IGNvbnRhaW5lci5cbiAqIEFuIFtlbWJlZGRlZCB2aWV3XShndWlkZS9nbG9zc2FyeSN2aWV3LXRyZWUpIGNhbiBiZSByZWZlcmVuY2VkIGZyb20gYSBjb21wb25lbnRcbiAqIG90aGVyIHRoYW4gdGhlIGhvc3RpbmcgY29tcG9uZW50IHdob3NlIHRlbXBsYXRlIGRlZmluZXMgaXQsIG9yIGl0IGNhbiBiZSBkZWZpbmVkXG4gKiBpbmRlcGVuZGVudGx5IGJ5IGEgYFRlbXBsYXRlUmVmYC5cbiAqXG4gKiBQcm9wZXJ0aWVzIG9mIGVsZW1lbnRzIGluIGEgdmlldyBjYW4gY2hhbmdlLCBidXQgdGhlIHN0cnVjdHVyZSAobnVtYmVyIGFuZCBvcmRlcikgb2YgZWxlbWVudHMgaW5cbiAqIGEgdmlldyBjYW5ub3QuIENoYW5nZSB0aGUgc3RydWN0dXJlIG9mIGVsZW1lbnRzIGJ5IGluc2VydGluZywgbW92aW5nLCBvclxuICogcmVtb3ZpbmcgbmVzdGVkIHZpZXdzIGluIGEgdmlldyBjb250YWluZXIuXG4gKlxuICogQHNlZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgYnJlYWtzIGRvd24gaW50byB0d28gc2VwYXJhdGUgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZXMsXG4gKiBhbiBvdXRlciBvbmUgYW5kIGFuIGlubmVyIG9uZS5cbiAqXG4gKiBgYGBcbiAqIENvdW50OiB7e2l0ZW1zLmxlbmd0aH19XG4gKiA8dWw+XG4gKiAgIDxsaSAqbmdGb3I9XCJsZXQgIGl0ZW0gb2YgaXRlbXNcIj57e2l0ZW19fTwvbGk+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogVGhpcyBpcyB0aGUgb3V0ZXIgYFRlbXBsYXRlUmVmYDpcbiAqXG4gKiBgYGBcbiAqIENvdW50OiB7e2l0ZW1zLmxlbmd0aH19XG4gKiA8dWw+XG4gKiAgIDxuZy10ZW1wbGF0ZSBuZ0ZvciBsZXQtaXRlbSBbbmdGb3JPZl09XCJpdGVtc1wiPjwvbmctdGVtcGxhdGU+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogVGhpcyBpcyB0aGUgaW5uZXIgYFRlbXBsYXRlUmVmYDpcbiAqXG4gKiBgYGBcbiAqICAgPGxpPnt7aXRlbX19PC9saT5cbiAqIGBgYFxuICpcbiAqIFRoZSBvdXRlciBhbmQgaW5uZXIgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZXMgYXJlIGFzc2VtYmxlZCBpbnRvIHZpZXdzIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgXG4gKiA8IS0tIFZpZXdSZWY6IG91dGVyLTAgLS0+XG4gKiBDb3VudDogMlxuICogPHVsPlxuICogICA8bmctdGVtcGxhdGUgdmlldy1jb250YWluZXItcmVmPjwvbmctdGVtcGxhdGU+XG4gKiAgIDwhLS0gVmlld1JlZjogaW5uZXItMSAtLT48bGk+Zmlyc3Q8L2xpPjwhLS0gL1ZpZXdSZWY6IGlubmVyLTEgLS0+XG4gKiAgIDwhLS0gVmlld1JlZjogaW5uZXItMiAtLT48bGk+c2Vjb25kPC9saT48IS0tIC9WaWV3UmVmOiBpbm5lci0yIC0tPlxuICogPC91bD5cbiAqIDwhLS0gL1ZpZXdSZWY6IG91dGVyLTAgLS0+XG4gKiBgYGBcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRW1iZWRkZWRWaWV3UmVmIGV4dGVuZHMgVmlld1JlZiB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZmlsZSBleGlzdHMgZm9yIGVhc2lseSBwYXRjaGluZyBOZ01vZHVsZUZhY3RvcnlMb2FkZXIgaW4gZzNcbnZhciBuZ19tb2R1bGVfZmFjdG9yeV9sb2FkZXJfaW1wbCA9IHt9O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBEZWJ1Z0V2ZW50TGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gYXNOYXRpdmVFbGVtZW50cyhkZWJ1Z0Vscykge1xuICAgIHJldHVybiBkZWJ1Z0Vscy5tYXAoKGVsKSA9PiBlbC5uYXRpdmVFbGVtZW50KTtcbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBEZWJ1Z05vZGUge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVOb2RlID0gbmF0aXZlTm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGBEZWJ1Z0VsZW1lbnRgIHBhcmVudC4gV2lsbCBiZSBgbnVsbGAgaWYgdGhpcyBpcyB0aGUgcm9vdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubmF0aXZlTm9kZS5wYXJlbnROb2RlO1xuICAgICAgICByZXR1cm4gcGFyZW50ID8gbmV3IERlYnVnRWxlbWVudChwYXJlbnQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhvc3QgZGVwZW5kZW5jeSBpbmplY3Rvci4gRm9yIGV4YW1wbGUsIHRoZSByb290IGVsZW1lbnQncyBjb21wb25lbnQgaW5zdGFuY2UgaW5qZWN0b3IuXG4gICAgICovXG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW5qZWN0b3IodGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQncyBvd24gY29tcG9uZW50IGluc3RhbmNlLCBpZiBpdCBoYXMgb25lLlxuICAgICAqL1xuICAgIGdldCBjb21wb25lbnRJbnN0YW5jZSgpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMubmF0aXZlTm9kZTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUVsZW1lbnQgJiZcbiAgICAgICAgICAgIChnZXRDb21wb25lbnQkMShuYXRpdmVFbGVtZW50KSB8fCBnZXRPd25pbmdDb21wb25lbnQobmF0aXZlRWxlbWVudCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBwcm92aWRlcyBwYXJlbnQgY29udGV4dCBmb3IgdGhpcyBlbGVtZW50LiBPZnRlbiBhbiBhbmNlc3RvciBjb21wb25lbnQgaW5zdGFuY2VcbiAgICAgKiB0aGF0IGdvdmVybnMgdGhpcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogV2hlbiBhbiBlbGVtZW50IGlzIHJlcGVhdGVkIHdpdGhpbiAqbmdGb3IsIHRoZSBjb250ZXh0IGlzIGFuIGBOZ0Zvck9mYCB3aG9zZSBgJGltcGxpY2l0YFxuICAgICAqIHByb3BlcnR5IGlzIHRoZSB2YWx1ZSBvZiB0aGUgcm93IGluc3RhbmNlIHZhbHVlLiBGb3IgZXhhbXBsZSwgdGhlIGBoZXJvYCBpbiBgKm5nRm9yPVwibGV0IGhlcm9cbiAgICAgKiBvZiBoZXJvZXNcImAuXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnQkMSh0aGlzLm5hdGl2ZU5vZGUpIHx8IGdldENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxiYWNrcyBhdHRhY2hlZCB0byB0aGUgY29tcG9uZW50J3MgQE91dHB1dCBwcm9wZXJ0aWVzIGFuZC9vciB0aGUgZWxlbWVudCdzIGV2ZW50XG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBnZXQgbGlzdGVuZXJzKCkge1xuICAgICAgICByZXR1cm4gZ2V0TGlzdGVuZXJzKHRoaXMubmF0aXZlTm9kZSkuZmlsdGVyKGxpc3RlbmVyID0+IGxpc3RlbmVyLnR5cGUgPT09ICdkb20nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGljdGlvbmFyeSBvZiBvYmplY3RzIGFzc29jaWF0ZWQgd2l0aCB0ZW1wbGF0ZSBsb2NhbCB2YXJpYWJsZXMgKGUuZy4gI2ZvbyksIGtleWVkIGJ5IHRoZSBsb2NhbFxuICAgICAqIHZhcmlhYmxlIG5hbWUuXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZXMoKSB7XG4gICAgICAgIHJldHVybiBnZXRMb2NhbFJlZnModGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBjb21wb25lbnQncyBpbmplY3RvciBsb29rdXAgdG9rZW5zLiBJbmNsdWRlcyB0aGUgY29tcG9uZW50IGl0c2VsZiBwbHVzIHRoZSB0b2tlbnMgdGhhdCB0aGVcbiAgICAgKiBjb21wb25lbnQgbGlzdHMgaW4gaXRzIHByb3ZpZGVycyBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBnZXQgcHJvdmlkZXJUb2tlbnMoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbmplY3Rpb25Ub2tlbnModGhpcy5uYXRpdmVOb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAc2VlIFtDb21wb25lbnQgdGVzdGluZyBzY2VuYXJpb3NdKGd1aWRlL3Rlc3RpbmctY29tcG9uZW50cy1zY2VuYXJpb3MpXG4gKiBAc2VlIFtCYXNpY3Mgb2YgdGVzdGluZyBjb21wb25lbnRzXShndWlkZS90ZXN0aW5nLWNvbXBvbmVudHMtYmFzaWNzKVxuICogQHNlZSBbVGVzdGluZyB1dGlsaXR5IEFQSXNdKGd1aWRlL3Rlc3RpbmctdXRpbGl0eS1hcGlzKVxuICovXG5jbGFzcyBEZWJ1Z0VsZW1lbnQgZXh0ZW5kcyBEZWJ1Z05vZGUge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIHN1cGVyKG5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdW5kZXJseWluZyBET00gZWxlbWVudCBhdCB0aGUgcm9vdCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBuYXRpdmVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVOb2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFID8gdGhpcy5uYXRpdmVOb2RlIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgdGFnIG5hbWUsIGlmIGl0IGlzIGFuIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dCh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoY29udGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgICAgICAgICAgY29uc3QgdERhdGEgPSBsVmlld1tUVklFV10uZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHROb2RlID0gdERhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICAgICAgcmV0dXJuIHROb2RlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlTm9kZS5ub2RlTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgR2V0cyBhIG1hcCBvZiBwcm9wZXJ0eSBuYW1lcyB0byBwcm9wZXJ0eSB2YWx1ZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiAgVGhpcyBtYXAgaW5jbHVkZXM6XG4gICAgICogIC0gUmVndWxhciBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgW2lkXT1cImlkXCJgKVxuICAgICAqICAtIEhvc3QgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYGhvc3Q6IHsgJ1tpZF0nOiBcImlkXCIgfWApXG4gICAgICogIC0gSW50ZXJwb2xhdGVkIHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIGBpZD1cInt7IHZhbHVlIH19XCIpXG4gICAgICpcbiAgICAgKiAgSXQgZG9lcyBub3QgaW5jbHVkZTpcbiAgICAgKiAgLSBpbnB1dCBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgW215Q3VzdG9tSW5wdXRdPVwidmFsdWVcImApXG4gICAgICogIC0gYXR0cmlidXRlIGJpbmRpbmdzIChlLmcuIGBbYXR0ci5yb2xlXT1cIm1lbnVcImApXG4gICAgICovXG4gICAgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dCh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgY29uc3QgdERhdGEgPSBsVmlld1tUVklFV10uZGF0YTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSB0RGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgLy8gQ29sbGVjdCBwcm9wZXJ0aWVzIGZyb20gdGhlIERPTS5cbiAgICAgICAgY29weURvbVByb3BlcnRpZXModGhpcy5uYXRpdmVFbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgLy8gQ29sbGVjdCBwcm9wZXJ0aWVzIGZyb20gdGhlIGJpbmRpbmdzLiBUaGlzIGlzIG5lZWRlZCBmb3IgYW5pbWF0aW9uIHJlbmRlcmVyIHdoaWNoIGhhc1xuICAgICAgICAvLyBzeW50aGV0aWMgcHJvcGVydGllcyB3aGljaCBkb24ndCBnZXQgcmVmbGVjdGVkIGludG8gdGhlIERPTS5cbiAgICAgICAgY29sbGVjdFByb3BlcnR5QmluZGluZ3MocHJvcGVydGllcywgdE5vZGUsIGxWaWV3LCB0RGF0YSk7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAgQSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IGF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgICAgICBjb25zdCB0Tm9kZUF0dHJzID0gbFZpZXdbVFZJRVddLmRhdGFbY29udGV4dC5ub2RlSW5kZXhdLmF0dHJzO1xuICAgICAgICBjb25zdCBsb3dlcmNhc2VUTm9kZUF0dHJzID0gW107XG4gICAgICAgIC8vIEZvciBkZWJ1ZyBub2RlcyB3ZSB0YWtlIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlIGRpcmVjdGx5IGZyb20gdGhlIERPTSBzaW5jZSBpdCBhbGxvd3MgdXNcbiAgICAgICAgLy8gdG8gYWNjb3VudCBmb3Igb25lcyB0aGF0IHdlcmVuJ3Qgc2V0IHZpYSBiaW5kaW5ncyAoZS5nLiBWaWV3RW5naW5lIGtlZXBzIHRyYWNrIG9mIHRoZSBvbmVzXG4gICAgICAgIC8vIHRoYXQgYXJlIHNldCB0aHJvdWdoIGBSZW5kZXJlcjJgKS4gVGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgYnJvd3NlciB3aWxsIGxvd2VyY2FzZSBhbGwgbmFtZXMsXG4gICAgICAgIC8vIGhvd2V2ZXIgc2luY2Ugd2UgaGF2ZSB0aGUgYXR0cmlidXRlcyBhbHJlYWR5IG9uIHRoZSBUTm9kZSwgd2UgY2FuIHByZXNlcnZlIHRoZSBjYXNlIGJ5IGdvaW5nXG4gICAgICAgIC8vIHRocm91Z2ggdGhlbSBvbmNlLCBhZGRpbmcgdGhlbSB0byB0aGUgYGF0dHJpYnV0ZXNgIG1hcCBhbmQgcHV0dGluZyB0aGVpciBsb3dlci1jYXNlZCBuYW1lXG4gICAgICAgIC8vIGludG8gYW4gYXJyYXkuIEFmdGVyd2FyZHMgd2hlbiB3ZSdyZSBnb2luZyB0aHJvdWdoIHRoZSBuYXRpdmUgRE9NIGF0dHJpYnV0ZXMsIHdlIGNhbiBjaGVja1xuICAgICAgICAvLyB3aGV0aGVyIHdlIGhhdmVuJ3QgcnVuIGludG8gYW4gYXR0cmlidXRlIGFscmVhZHkgdGhyb3VnaCB0aGUgVE5vZGUuXG4gICAgICAgIGlmICh0Tm9kZUF0dHJzKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHROb2RlQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB0Tm9kZUF0dHJzW2ldO1xuICAgICAgICAgICAgICAgIC8vIFN0b3AgYXMgc29vbiBhcyB3ZSBoaXQgYSBtYXJrZXIuIFdlIG9ubHkgY2FyZSBhYm91dCB0aGUgcmVndWxhciBhdHRyaWJ1dGVzLiBFdmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgLy8gZWxzZSB3aWxsIGJlIGhhbmRsZWQgYmVsb3cgd2hlbiB3ZSByZWFkIHRoZSBmaW5hbCBhdHRyaWJ1dGVzIG9mZiB0aGUgRE9NLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ck5hbWUgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSB0Tm9kZUF0dHJzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJOYW1lXSA9IGF0dHJWYWx1ZTtcbiAgICAgICAgICAgICAgICBsb3dlcmNhc2VUTm9kZUF0dHJzLnB1c2goYXR0ck5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVBdHRycyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBlQXR0cnNbaV07XG4gICAgICAgICAgICBjb25zdCBsb3dlcmNhc2VOYW1lID0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCBhc3NpZ24gdGhlIHNhbWUgYXR0cmlidXRlIGJvdGggaW4gaXRzXG4gICAgICAgICAgICAvLyBjYXNlLXNlbnNpdGl2ZSBmb3JtIGFuZCB0aGUgbG93ZXItY2FzZWQgb25lIGZyb20gdGhlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlVE5vZGVBdHRycy5pbmRleE9mKGxvd2VyY2FzZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGxvd2VyY2FzZSBuYW1lIHRvIGFsaWduIHRoZSBiZWhhdmlvciBiZXR3ZWVuIGJyb3dzZXJzLlxuICAgICAgICAgICAgICAgIC8vIElFIHByZXNlcnZlcyB0aGUgY2FzZSwgd2hpbGUgYWxsIG90aGVyIGJyb3dzZXIgY29udmVydCBpdCB0byBsb3dlciBjYXNlLlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbbG93ZXJjYXNlTmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaW5saW5lIHN0eWxlcyBvZiB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBXaWxsIGJlIGBudWxsYCBpZiB0aGVyZSBpcyBubyBgc3R5bGVgIHByb3BlcnR5IG9uIHRoZSB1bmRlcmx5aW5nIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHNlZSBbRWxlbWVudENTU0lubGluZVN0eWxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudENTU0lubGluZVN0eWxlL3N0eWxlKVxuICAgICAqL1xuICAgIGdldCBzdHlsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZUVsZW1lbnQgJiYgdGhpcy5uYXRpdmVFbGVtZW50LnN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVFbGVtZW50LnN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgY29udGFpbmluZyB0aGUgY2xhc3MgbmFtZXMgb24gdGhlIGVsZW1lbnQgYXMga2V5cy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWFwIGlzIGRlcml2ZWQgZnJvbSB0aGUgYGNsYXNzTmFtZWAgcHJvcGVydHkgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogTm90ZTogVGhlIHZhbHVlcyBvZiB0aGlzIG9iamVjdCB3aWxsIGFsd2F5cyBiZSBgdHJ1ZWAuIFRoZSBjbGFzcyBrZXkgd2lsbCBub3QgYXBwZWFyIGluIHRoZSBLVlxuICAgICAqIG9iamVjdCBpZiBpdCBkb2VzIG5vdCBleGlzdCBvbiB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzZWUgW0VsZW1lbnQuY2xhc3NOYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9jbGFzc05hbWUpXG4gICAgICovXG4gICAgZ2V0IGNsYXNzZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICAvLyBTVkcgZWxlbWVudHMgcmV0dXJuIGFuIGBTVkdBbmltYXRlZFN0cmluZ2AgaW5zdGVhZCBvZiBhIHBsYWluIHN0cmluZyBmb3IgdGhlIGBjbGFzc05hbWVgLlxuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTtcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IHR5cGVvZiBjbGFzc05hbWUgIT09ICdzdHJpbmcnID8gY2xhc3NOYW1lLmJhc2VWYWwuc3BsaXQoJyAnKSA6IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBjbGFzc2VzLmZvckVhY2goKHZhbHVlKSA9PiByZXN1bHRbdmFsdWVdID0gdHJ1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgY2hpbGROb2Rlc2Agb2YgdGhlIERPTSBlbGVtZW50IGFzIGEgYERlYnVnTm9kZWAgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc2VlIFtOb2RlLmNoaWxkTm9kZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2NoaWxkTm9kZXMpXG4gICAgICovXG4gICAgZ2V0IGNoaWxkTm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzLm5hdGl2ZU5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goZ2V0RGVidWdOb2RlKGVsZW1lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpbW1lZGlhdGUgYERlYnVnRWxlbWVudGAgY2hpbGRyZW4uIFdhbGsgdGhlIHRyZWUgYnkgZGVzY2VuZGluZyB0aHJvdWdoIGBjaGlsZHJlbmAuXG4gICAgICovXG4gICAgZ2V0IGNoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAoIW5hdGl2ZUVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBuYXRpdmVFbGVtZW50LmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChnZXREZWJ1Z05vZGUoZWxlbWVudCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIGZpcnN0IGBEZWJ1Z0VsZW1lbnRgIHRoYXQgbWF0Y2hlcyB0aGUgcHJlZGljYXRlIGF0IGFueSBkZXB0aCBpbiB0aGUgc3VidHJlZS5cbiAgICAgKi9cbiAgICBxdWVyeShwcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucXVlcnlBbGwocHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF0gfHwgbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQWxsIGBEZWJ1Z0VsZW1lbnRgIG1hdGNoZXMgZm9yIHRoZSBwcmVkaWNhdGUgYXQgYW55IGRlcHRoIGluIHRoZSBzdWJ0cmVlLlxuICAgICAqL1xuICAgIHF1ZXJ5QWxsKHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgICAgIF9xdWVyeUFsbCh0aGlzLCBwcmVkaWNhdGUsIG1hdGNoZXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQWxsIGBEZWJ1Z05vZGVgIG1hdGNoZXMgZm9yIHRoZSBwcmVkaWNhdGUgYXQgYW55IGRlcHRoIGluIHRoZSBzdWJ0cmVlLlxuICAgICAqL1xuICAgIHF1ZXJ5QWxsTm9kZXMocHJlZGljYXRlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5QWxsKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGV2ZW50IGJ5IGl0cyBuYW1lIGlmIHRoZXJlIGlzIGEgY29ycmVzcG9uZGluZyBsaXN0ZW5lciBpbiB0aGUgZWxlbWVudCdzXG4gICAgICogYGxpc3RlbmVyc2AgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIElmIHRoZSBldmVudCBsYWNrcyBhIGxpc3RlbmVyIG9yIHRoZXJlJ3Mgc29tZSBvdGhlciBwcm9ibGVtLCBjb25zaWRlclxuICAgICAqIGNhbGxpbmcgYG5hdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudE9iamVjdClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gdHJpZ2dlclxuICAgICAqIEBwYXJhbSBldmVudE9iaiBUaGUgX2V2ZW50IG9iamVjdF8gZXhwZWN0ZWQgYnkgdGhlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBzZWUgW1Rlc3RpbmcgY29tcG9uZW50cyBzY2VuYXJpb3NdKGd1aWRlL3Rlc3RpbmctY29tcG9uZW50cy1zY2VuYXJpb3MjdHJpZ2dlci1ldmVudC1oYW5kbGVyKVxuICAgICAqL1xuICAgIHRyaWdnZXJFdmVudEhhbmRsZXIoZXZlbnROYW1lLCBldmVudE9iaikge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5uYXRpdmVOb2RlO1xuICAgICAgICBjb25zdCBpbnZva2VkTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm5hbWUgPT09IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gbGlzdGVuZXIuY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChub2RlLCBldmVudE9iaik7XG4gICAgICAgICAgICAgICAgaW52b2tlZExpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgd2hldGhlciBgZXZlbnRMaXN0ZW5lcnNgIGV4aXN0cywgYmVjYXVzZSBpdCdzIHNvbWV0aGluZ1xuICAgICAgICAvLyB0aGF0IFpvbmUuanMgb25seSBhZGRzIHRvIGBFdmVudFRhcmdldGAgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuXG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZS5ldmVudExpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGluIEl2eSB3ZSB3cmFwIGV2ZW50IGxpc3RlbmVycyB3aXRoIGEgY2FsbCB0byBgZXZlbnQucHJldmVudERlZmF1bHRgIGluIHNvbWVcbiAgICAgICAgICAgIC8vIGNhc2VzLiBXZSB1c2UgJ19fbmdVbndyYXBfXycgYXMgYSBzcGVjaWFsIHRva2VuIHRoYXQgZ2l2ZXMgdXMgYWNjZXNzIHRvIHRoZSBhY3R1YWwgZXZlbnRcbiAgICAgICAgICAgIC8vIGxpc3RlbmVyLlxuICAgICAgICAgICAgbm9kZS5ldmVudExpc3RlbmVycyhldmVudE5hbWUpLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgd2UgY2FuIGRldGVjdCB0aGUgc3BlY2lhbCBfX25nVW53cmFwX18gdG9rZW4gZGVzY3JpYmVkIGFib3ZlLCB3ZVxuICAgICAgICAgICAgICAgIC8vIHVzZSBgdG9TdHJpbmdgIG9uIHRoZSBsaXN0ZW5lciBhbmQgc2VlIGlmIGl0IGNvbnRhaW5zIHRoZSB0b2tlbi4gV2UgdXNlIHRoaXMgYXBwcm9hY2ggdG9cbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCBpdCBzdGlsbCB3b3JrZWQgd2l0aCBjb21waWxlZCBjb2RlIHNpbmNlIGl0IGNhbm5vdCByZW1vdmUgb3IgcmVuYW1lIHN0cmluZ1xuICAgICAgICAgICAgICAgIC8vIGxpdGVyYWxzLiBXZSBhbHNvIGNvbnNpZGVyZWQgdXNpbmcgYSBzcGVjaWFsIGZ1bmN0aW9uIG5hbWUgKGkuZS4gaWYobGlzdGVuZXIubmFtZSA9PT1cbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsKSkgYnV0IHRoYXQgd2FzIG1vcmUgY3VtYmVyc29tZSBhbmQgd2Ugd2VyZSBhbHNvIGNvbmNlcm5lZCB0aGUgY29tcGlsZWQgY29kZSBjb3VsZFxuICAgICAgICAgICAgICAgIC8vIHN0cmlwIHRoZSBuYW1lLCB0dXJuaW5nIHRoZSBjb25kaXRpb24gaW4gdG8gKFwiXCIgPT09IFwiXCIpIGFuZCBhbHdheXMgcmV0dXJuaW5nIHRydWUuXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnRvU3RyaW5nKCkuaW5kZXhPZignX19uZ1Vud3JhcF9fJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVud3JhcHBlZExpc3RlbmVyID0gbGlzdGVuZXIoJ19fbmdVbndyYXBfXycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW52b2tlZExpc3RlbmVycy5pbmRleE9mKHVud3JhcHBlZExpc3RlbmVyKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHVud3JhcHBlZExpc3RlbmVyLmNhbGwobm9kZSwgZXZlbnRPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY29weURvbVByb3BlcnRpZXMoZWxlbWVudCwgcHJvcGVydGllcykge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIC8vIFNraXAgb3duIHByb3BlcnRpZXMgKGFzIHRob3NlIGFyZSBwYXRjaGVkKVxuICAgICAgICBsZXQgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBOb2RlUHJvdG90eXBlID0gTm9kZS5wcm90b3R5cGU7XG4gICAgICAgIHdoaWxlIChvYmogIT09IG51bGwgJiYgb2JqICE9PSBOb2RlUHJvdG90eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaik7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtleS5zdGFydHNXaXRoKCdfXycpICYmICFrZXkuc3RhcnRzV2l0aCgnb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIHByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCBgX19gIGFuZCBgb25gLlxuICAgICAgICAgICAgICAgICAgICAvLyBgX19gIGFyZSBwYXRjaGVkIHZhbHVlcyB3aGljaCBzaG91bGQgbm90IGJlIGluY2x1ZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBgb25gIGFyZSBsaXN0ZW5lcnMgd2hpY2ggYWxzbyBzaG91bGQgbm90IGJlIGluY2x1ZGVkLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsZW1lbnRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJpbWl0aXZlVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQcmltaXRpdmVWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdmFsdWUgPT09IG51bGw7XG59XG5mdW5jdGlvbiBfcXVlcnlBbGwocGFyZW50RWxlbWVudCwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQocGFyZW50RWxlbWVudC5uYXRpdmVOb2RlKTtcbiAgICBpZiAoY29udGV4dCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBwYXJlbnRUTm9kZSA9IGNvbnRleHQubFZpZXdbVFZJRVddLmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4ocGFyZW50VE5vZGUsIGNvbnRleHQubFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCBwYXJlbnRFbGVtZW50Lm5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvbnRleHQgaXMgbnVsbCwgdGhlbiBgcGFyZW50RWxlbWVudGAgd2FzIGVpdGhlciBjcmVhdGVkIHdpdGggUmVuZGVyZXIyIG9yIG5hdGl2ZSBET01cbiAgICAgICAgLy8gQVBJcy5cbiAgICAgICAgX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKHBhcmVudEVsZW1lbnQubmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgIH1cbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgbWF0Y2ggdGhlIGN1cnJlbnQgVE5vZGUgYWdhaW5zdCB0aGUgcHJlZGljYXRlLCBhbmQgZ29lcyBvbiB3aXRoIHRoZSBuZXh0IG9uZXMuXG4gKlxuICogQHBhcmFtIHROb2RlIHRoZSBjdXJyZW50IFROb2RlXG4gKiBAcGFyYW0gbFZpZXcgdGhlIExWaWV3IG9mIHRoaXMgVE5vZGVcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byBtYXRjaFxuICogQHBhcmFtIG1hdGNoZXMgdGhlIGxpc3Qgb2YgcG9zaXRpdmUgbWF0Y2hlc1xuICogQHBhcmFtIGVsZW1lbnRzT25seSB3aGV0aGVyIG9ubHkgZWxlbWVudHMgc2hvdWxkIGJlIHNlYXJjaGVkXG4gKiBAcGFyYW0gcm9vdE5hdGl2ZU5vZGUgdGhlIHJvb3QgbmF0aXZlIG5vZGUgb24gd2hpY2ggcHJlZGljYXRlIHNob3VsZCBub3QgYmUgbWF0Y2hlZFxuICovXG5mdW5jdGlvbiBfcXVlcnlOb2RlQ2hpbGRyZW4odE5vZGUsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IG5hdGl2ZU5vZGUgPSBnZXROYXRpdmVCeVROb2RlT3JOdWxsKHROb2RlLCBsVmlldyk7XG4gICAgLy8gRm9yIGVhY2ggdHlwZSBvZiBUTm9kZSwgc3BlY2lmaWMgbG9naWMgaXMgZXhlY3V0ZWQuXG4gICAgaWYgKHROb2RlLnR5cGUgJiAoMyAvKiBBbnlSTm9kZSAqLyB8IDggLyogRWxlbWVudENvbnRhaW5lciAqLykpIHtcbiAgICAgICAgLy8gQ2FzZSAxOiB0aGUgVE5vZGUgaXMgYW4gZWxlbWVudFxuICAgICAgICAvLyBUaGUgbmF0aXZlIG5vZGUgaGFzIHRvIGJlIGNoZWNrZWQuXG4gICAgICAgIF9hZGRRdWVyeU1hdGNoKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEhvc3QodE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyB0aGUgaG9zdCBvZiBhIGNvbXBvbmVudCwgdGhlbiBhbGwgbm9kZXMgaW4gaXRzIHZpZXcgaGF2ZSB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAgICAvLyBOb3RlOiB0aGUgY29tcG9uZW50J3MgY29udGVudCAodE5vZGUuY2hpbGQpIHdpbGwgYmUgcHJvY2Vzc2VkIGZyb20gdGhlIGluc2VydGlvbiBwb2ludHMuXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50VmlldyAmJiBjb21wb25lbnRWaWV3W1RWSUVXXS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKGNvbXBvbmVudFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQsIGNvbXBvbmVudFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodE5vZGUuY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGl0cyBjaGlsZHJlbiBoYXZlIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4odE5vZGUuY2hpbGQsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBoYXZlIHRvIHF1ZXJ5IHRoZSBET00gZGlyZWN0bHkgaW4gb3JkZXIgdG8gY2F0Y2ggZWxlbWVudHMgaW5zZXJ0ZWQgdGhyb3VnaFxuICAgICAgICAgICAgLy8gUmVuZGVyZXIyLiBOb3RlIHRoYXQgdGhpcyBpcyBfX25vdF9fIG9wdGltYWwsIGJlY2F1c2Ugd2UncmUgd2Fsa2luZyBzaW1pbGFyIHRyZWVzIG11bHRpcGxlXG4gICAgICAgICAgICAvLyB0aW1lcy4gVmlld0VuZ2luZSBjb3VsZCBkbyBpdCBtb3JlIGVmZmljaWVudGx5LCBiZWNhdXNlIGFsbCB0aGUgaW5zZXJ0aW9ucyBnbyB0aHJvdWdoXG4gICAgICAgICAgICAvLyBSZW5kZXJlcjIsIGhvd2V2ZXIgdGhhdCdzIG5vdCB0aGUgY2FzZSBpbiBJdnkuIFRoaXMgYXBwcm9hY2ggaXMgYmVpbmcgdXNlZCBiZWNhdXNlOlxuICAgICAgICAgICAgLy8gMS4gTWF0Y2hpbmcgdGhlIFZpZXdFbmdpbmUgYmVoYXZpb3Igd291bGQgbWVhbiBwb3RlbnRpYWxseSBpbnRyb2R1Y2luZyBhIGRlcGVkZW5jeVxuICAgICAgICAgICAgLy8gICAgZnJvbSBgUmVuZGVyZXIyYCB0byBJdnkgd2hpY2ggY291bGQgYnJpbmcgSXZ5IGNvZGUgaW50byBWaWV3RW5naW5lLlxuICAgICAgICAgICAgLy8gMi4gV2Ugd291bGQgaGF2ZSB0byBtYWtlIGBSZW5kZXJlcjNgIFwia25vd1wiIGFib3V0IGRlYnVnIG5vZGVzLlxuICAgICAgICAgICAgLy8gMy4gSXQgYWxsb3dzIHVzIHRvIGNhcHR1cmUgbm9kZXMgdGhhdCB3ZXJlIGluc2VydGVkIGRpcmVjdGx5IHZpYSB0aGUgRE9NLlxuICAgICAgICAgICAgbmF0aXZlTm9kZSAmJiBfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIGFsbCBjYXNlcywgaWYgYSBkeW5hbWljIGNvbnRhaW5lciBleGlzdHMgZm9yIHRoaXMgbm9kZSwgZWFjaCB2aWV3IGluc2lkZSBpdCBoYXMgdG8gYmVcbiAgICAgICAgLy8gcHJvY2Vzc2VkLlxuICAgICAgICBjb25zdCBub2RlT3JDb250YWluZXIgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIGlmIChpc0xDb250YWluZXIobm9kZU9yQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIobm9kZU9yQ29udGFpbmVyLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAvLyBDYXNlIDI6IHRoZSBUTm9kZSBpcyBhIGNvbnRhaW5lclxuICAgICAgICAvLyBUaGUgbmF0aXZlIG5vZGUgaGFzIHRvIGJlIGNoZWNrZWQuXG4gICAgICAgIGNvbnN0IGxDb250YWluZXIgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIF9hZGRRdWVyeU1hdGNoKGxDb250YWluZXJbTkFUSVZFXSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgLy8gRWFjaCB2aWV3IGluc2lkZSB0aGUgY29udGFpbmVyIGhhcyB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyKGxDb250YWluZXIsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgIC8vIENhc2UgMzogdGhlIFROb2RlIGlzIGEgcHJvamVjdGlvbiBpbnNlcnRpb24gcG9pbnQgKGkuZS4gYSA8bmctY29udGVudD4pLlxuICAgICAgICAvLyBUaGUgbm9kZXMgcHJvamVjdGVkIGF0IHRoaXMgbG9jYXRpb24gYWxsIG5lZWQgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgICAgICBjb25zdCBjb21wb25lbnRIb3N0ID0gY29tcG9uZW50Vmlld1tUX0hPU1RdO1xuICAgICAgICBjb25zdCBoZWFkID0gY29tcG9uZW50SG9zdC5wcm9qZWN0aW9uW3ROb2RlLnByb2plY3Rpb25dO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShoZWFkKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgbmF0aXZlTm9kZSBvZiBoZWFkKSB7XG4gICAgICAgICAgICAgICAgX2FkZFF1ZXJ5TWF0Y2gobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoZWFkKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TFZpZXcgPSBjb21wb25lbnRWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICBjb25zdCBuZXh0VE5vZGUgPSBuZXh0TFZpZXdbVFZJRVddLmRhdGFbaGVhZC5pbmRleF07XG4gICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4obmV4dFROb2RlLCBuZXh0TFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUuY2hpbGQpIHtcbiAgICAgICAgLy8gQ2FzZSA0OiB0aGUgVE5vZGUgaXMgYSB2aWV3LlxuICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4odE5vZGUuY2hpbGQsIGxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICAvLyBXZSBkb24ndCB3YW50IHRvIGdvIHRvIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIHJvb3Qgbm9kZS5cbiAgICBpZiAocm9vdE5hdGl2ZU5vZGUgIT09IG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgLy8gVG8gZGV0ZXJtaW5lIHRoZSBuZXh0IG5vZGUgdG8gYmUgcHJvY2Vzc2VkLCB3ZSBuZWVkIHRvIHVzZSB0aGUgbmV4dCBvciB0aGUgcHJvamVjdGlvbk5leHRcbiAgICAgICAgLy8gbGluaywgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgbm9kZSBoYXMgYmVlbiBwcm9qZWN0ZWQuXG4gICAgICAgIGNvbnN0IG5leHRUTm9kZSA9ICh0Tm9kZS5mbGFncyAmIDQgLyogaXNQcm9qZWN0ZWQgKi8pID8gdE5vZGUucHJvamVjdGlvbk5leHQgOiB0Tm9kZS5uZXh0O1xuICAgICAgICBpZiAobmV4dFROb2RlKSB7XG4gICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4obmV4dFROb2RlLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUHJvY2VzcyBhbGwgVE5vZGVzIGluIGEgZ2l2ZW4gY29udGFpbmVyLlxuICpcbiAqIEBwYXJhbSBsQ29udGFpbmVyIHRoZSBjb250YWluZXIgdG8gYmUgcHJvY2Vzc2VkXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IG9mIHBvc2l0aXZlIG1hdGNoZXNcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICogQHBhcmFtIHJvb3ROYXRpdmVOb2RlIHRoZSByb290IG5hdGl2ZSBub2RlIG9uIHdoaWNoIHByZWRpY2F0ZSBzaG91bGQgbm90IGJlIG1hdGNoZWRcbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIobENvbnRhaW5lciwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKSB7XG4gICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICBjb25zdCBmaXJzdENoaWxkID0gY2hpbGRWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKGZpcnN0Q2hpbGQsIGNoaWxkVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTWF0Y2ggdGhlIGN1cnJlbnQgbmF0aXZlIG5vZGUgYWdhaW5zdCB0aGUgcHJlZGljYXRlLlxuICpcbiAqIEBwYXJhbSBuYXRpdmVOb2RlIHRoZSBjdXJyZW50IG5hdGl2ZSBub2RlXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IG9mIHBvc2l0aXZlIG1hdGNoZXNcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICogQHBhcmFtIHJvb3ROYXRpdmVOb2RlIHRoZSByb290IG5hdGl2ZSBub2RlIG9uIHdoaWNoIHByZWRpY2F0ZSBzaG91bGQgbm90IGJlIG1hdGNoZWRcbiAqL1xuZnVuY3Rpb24gX2FkZFF1ZXJ5TWF0Y2gobmF0aXZlTm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKSB7XG4gICAgaWYgKHJvb3ROYXRpdmVOb2RlICE9PSBuYXRpdmVOb2RlKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnTm9kZSA9IGdldERlYnVnTm9kZShuYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKCFkZWJ1Z05vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUeXBlIG9mIHRoZSBcInByZWRpY2F0ZSBhbmQgXCJtYXRjaGVzXCIgYXJyYXkgYXJlIHNldCBiYXNlZCBvbiB0aGUgdmFsdWUgb2ZcbiAgICAgICAgLy8gdGhlIFwiZWxlbWVudHNPbmx5XCIgcGFyYW1ldGVyLiBUeXBlU2NyaXB0IGlzIG5vdCBhYmxlIHRvIHByb3Blcmx5IGluZmVyIHRoZXNlXG4gICAgICAgIC8vIHR5cGVzIHdpdGggZ2VuZXJpY3MsIHNvIHdlIG1hbnVhbGx5IGNhc3QgdGhlIHBhcmFtZXRlcnMgYWNjb3JkaW5nbHkuXG4gICAgICAgIGlmIChlbGVtZW50c09ubHkgJiYgKGRlYnVnTm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgIG1hdGNoZXMuaW5kZXhPZihkZWJ1Z05vZGUpID09PSAtMSkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWVsZW1lbnRzT25seSAmJiBwcmVkaWNhdGUoZGVidWdOb2RlKSAmJlxuICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTWF0Y2ggYWxsIHRoZSBkZXNjZW5kYW50cyBvZiBhIERPTSBub2RlIGFnYWluc3QgYSBwcmVkaWNhdGUuXG4gKlxuICogQHBhcmFtIG5hdGl2ZU5vZGUgdGhlIGN1cnJlbnQgbmF0aXZlIG5vZGVcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byBtYXRjaFxuICogQHBhcmFtIG1hdGNoZXMgdGhlIGxpc3Qgd2hlcmUgbWF0Y2hlcyBhcmUgc3RvcmVkXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKHBhcmVudE5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KSB7XG4gICAgY29uc3Qgbm9kZXMgPSBwYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgY29uc3QgbGVuZ3RoID0gbm9kZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBjb25zdCBkZWJ1Z05vZGUgPSBnZXREZWJ1Z05vZGUobm9kZSk7XG4gICAgICAgIGlmIChkZWJ1Z05vZGUpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50c09ubHkgJiYgKGRlYnVnTm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFlbGVtZW50c09ubHkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVidWdOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhub2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggdGhlIHByb3BlcnR5IGJpbmRpbmdzIGZvciBhIGdpdmVuIG5vZGUgYW5kIGdlbmVyYXRlc1xuICogYSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gdmFsdWVzLiBUaGlzIG1hcCBvbmx5IGNvbnRhaW5zIHByb3BlcnR5IGJpbmRpbmdzXG4gKiBkZWZpbmVkIGluIHRlbXBsYXRlcywgbm90IGluIGhvc3QgYmluZGluZ3MuXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RQcm9wZXJ0eUJpbmRpbmdzKHByb3BlcnRpZXMsIHROb2RlLCBsVmlldywgdERhdGEpIHtcbiAgICBsZXQgYmluZGluZ0luZGV4ZXMgPSB0Tm9kZS5wcm9wZXJ0eUJpbmRpbmdzO1xuICAgIGlmIChiaW5kaW5nSW5kZXhlcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdJbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nSW5kZXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHREYXRhW2JpbmRpbmdJbmRleF07XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YVBhcnRzID0gcHJvcE1ldGFkYXRhLnNwbGl0KElOVEVSUE9MQVRJT05fREVMSU1JVEVSKTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IG1ldGFkYXRhUGFydHNbMF07XG4gICAgICAgICAgICBpZiAobWV0YWRhdGFQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gbWV0YWRhdGFQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8IG1ldGFkYXRhUGFydHMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHJlbmRlclN0cmluZ2lmeShsVmlld1tiaW5kaW5nSW5kZXggKyBqIC0gMV0pICsgbWV0YWRhdGFQYXJ0c1tqICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gbFZpZXdbYmluZGluZ0luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIE5lZWQgdG8ga2VlcCB0aGUgbm9kZXMgaW4gYSBnbG9iYWwgTWFwIHNvIHRoYXQgbXVsdGlwbGUgYW5ndWxhciBhcHBzIGFyZSBzdXBwb3J0ZWQuXG5jb25zdCBfbmF0aXZlTm9kZVRvRGVidWdOb2RlID0gbmV3IE1hcCgpO1xuY29uc3QgTkdfREVCVUdfUFJPUEVSVFkgPSAnX19uZ19kZWJ1Z19fJztcbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXREZWJ1Z05vZGUobmF0aXZlTm9kZSkge1xuICAgIGlmIChuYXRpdmVOb2RlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICBpZiAoIShuYXRpdmVOb2RlLmhhc093blByb3BlcnR5KE5HX0RFQlVHX1BST1BFUlRZKSkpIHtcbiAgICAgICAgICAgIG5hdGl2ZU5vZGVbTkdfREVCVUdfUFJPUEVSVFldID0gbmF0aXZlTm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSA/XG4gICAgICAgICAgICAgICAgbmV3IERlYnVnRWxlbWVudChuYXRpdmVOb2RlKSA6XG4gICAgICAgICAgICAgICAgbmV3IERlYnVnTm9kZShuYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF0aXZlTm9kZVtOR19ERUJVR19QUk9QRVJUWV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gVE9ETzogY2xlYW51cCBhbGwgcmVmZXJlbmNlcyB0byB0aGlzIGZ1bmN0aW9uIGFuZCByZW1vdmUgaXQuXG5mdW5jdGlvbiBnZXREZWJ1Z05vZGVSMihfbmF0aXZlTm9kZSkge1xuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0QWxsRGVidWdOb2RlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShfbmF0aXZlTm9kZVRvRGVidWdOb2RlLnZhbHVlcygpKTtcbn1cbmZ1bmN0aW9uIGluZGV4RGVidWdOb2RlKG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLnNldChub2RlLm5hdGl2ZU5vZGUsIG5vZGUpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRGVidWdOb2RlRnJvbUluZGV4KG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLmRlbGV0ZShub2RlLm5hdGl2ZU5vZGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3VwcG9ydHMob2JqKSB7XG4gICAgICAgIHJldHVybiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKTtcbiAgICB9XG4gICAgY3JlYXRlKHRyYWNrQnlGbikge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRJdGVyYWJsZURpZmZlcih0cmFja0J5Rm4pO1xuICAgIH1cbn1cbmNvbnN0IHRyYWNrQnlJZGVudGl0eSA9IChpbmRleCwgaXRlbSkgPT4gaXRlbTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdjQuMC4wIC0gU2hvdWxkIG5vdCBiZSBwYXJ0IG9mIHB1YmxpYyBBUEkuXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIERlZmF1bHRJdGVyYWJsZURpZmZlciB7XG4gICAgY29uc3RydWN0b3IodHJhY2tCeUZuKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHVzZWQgcmVjb3JkcyBhdCBhbnkgcG9pbnQgaW4gdGltZSAoZHVyaW5nICYgYWNyb3NzIGBfY2hlY2soKWAgY2FsbHMpXG4gICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMgPSBudWxsO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgcmVtb3ZlZCByZWNvcmRzIGF0IGFueSBwb2ludCBpbiB0aW1lIGR1cmluZyBgX2NoZWNrKClgIGNhbGxzLlxuICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0SGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0VGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gbnVsbDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgcmVjb3JkcyB3aGVyZSBjdXN0b20gdHJhY2sgYnkgaXMgdGhlIHNhbWUsIGJ1dCBpdGVtIGlkZW50aXR5IGhhcyBjaGFuZ2VkXG4gICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdHJhY2tCeUZuID0gdHJhY2tCeUZuIHx8IHRyYWNrQnlJZGVudGl0eTtcbiAgICB9XG4gICAgZm9yRWFjaEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hPcGVyYXRpb24oZm4pIHtcbiAgICAgICAgbGV0IG5leHRJdCA9IHRoaXMuX2l0SGVhZDtcbiAgICAgICAgbGV0IG5leHRSZW1vdmUgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7XG4gICAgICAgIGxldCBhZGRSZW1vdmVPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgbW92ZU9mZnNldHMgPSBudWxsO1xuICAgICAgICB3aGlsZSAobmV4dEl0IHx8IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggaXMgdGhlIG5leHQgcmVjb3JkIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIC8vIE9yZGVyOiByZW1vdmUsIGFkZCwgbW92ZVxuICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gIW5leHRSZW1vdmUgfHxcbiAgICAgICAgICAgICAgICBuZXh0SXQgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV4dEl0LmN1cnJlbnRJbmRleCA8XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRQcmV2aW91c0luZGV4KG5leHRSZW1vdmUsIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpID9cbiAgICAgICAgICAgICAgICBuZXh0SXQgOlxuICAgICAgICAgICAgICAgIG5leHRSZW1vdmU7XG4gICAgICAgICAgICBjb25zdCBhZGpQcmV2aW91c0luZGV4ID0gZ2V0UHJldmlvdXNJbmRleChyZWNvcmQsIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIC8vIGNvbnN1bWUgdGhlIGl0ZW0sIGFuZCBhZGp1c3QgdGhlIGFkZFJlbW92ZU9mZnNldCBhbmQgdXBkYXRlIG1vdmVEaXN0YW5jZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBhZGRSZW1vdmVPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlID0gbmV4dFJlbW92ZS5fbmV4dFJlbW92ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0SXQgPSBuZXh0SXQuX25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5wcmV2aW91c0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVtb3ZlT2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJTlZBUklBTlQ6ICBjdXJyZW50SW5kZXggPCBwcmV2aW91c0luZGV4XG4gICAgICAgICAgICAgICAgICAgIGlmICghbW92ZU9mZnNldHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbE1vdmVQcmV2aW91c0luZGV4ID0gYWRqUHJldmlvdXNJbmRleCAtIGFkZFJlbW92ZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxDdXJyZW50SW5kZXggPSBjdXJyZW50SW5kZXggLSBhZGRSZW1vdmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbE1vdmVQcmV2aW91c0luZGV4ICE9IGxvY2FsQ3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsTW92ZVByZXZpb3VzSW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGkgPCBtb3ZlT2Zmc2V0cy5sZW5ndGggPyBtb3ZlT2Zmc2V0c1tpXSA6IChtb3ZlT2Zmc2V0c1tpXSA9IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gb2Zmc2V0ICsgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxDdXJyZW50SW5kZXggPD0gaW5kZXggJiYgaW5kZXggPCBsb2NhbE1vdmVQcmV2aW91c0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVPZmZzZXRzW2ldID0gb2Zmc2V0ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0luZGV4ID0gcmVjb3JkLnByZXZpb3VzSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0c1twcmV2aW91c0luZGV4XSA9IGxvY2FsQ3VycmVudEluZGV4IC0gbG9jYWxNb3ZlUHJldmlvdXNJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGpQcmV2aW91c0luZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmbihyZWNvcmQsIGFkalByZXZpb3VzSW5kZXgsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFByZXZpb3VzSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzSXRIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFByZXZpb3VzKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hBZGRlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hNb3ZlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9tb3Zlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0TW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFJlbW92ZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcmVtb3ZhbHNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFJlbW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaElkZW50aXR5Q2hhbmdlKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRJZGVudGl0eUNoYW5nZSkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaWZmKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbClcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBbXTtcbiAgICAgICAgaWYgKCFpc0xpc3RMaWtlSXRlcmFibGUoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7c3RyaW5naWZ5KGNvbGxlY3Rpb24pfScuIE9ubHkgYXJyYXlzIGFuZCBpdGVyYWJsZXMgYXJlIGFsbG93ZWRgIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHsgfVxuICAgIGNoZWNrKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMuX2l0SGVhZDtcbiAgICAgICAgbGV0IG1heUJlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgbGV0IGl0ZW1UcmFja0J5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpdGVtVHJhY2tCeSA9IHRoaXMuX3RyYWNrQnlGbihpbmRleCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCB8fCAhT2JqZWN0LmlzKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9taXNtYXRjaChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIG1heUJlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heUJlRGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8obWlza28pOiBjYW4gd2UgbGltaXQgdGhpcyB0byBkdXBsaWNhdGVzIG9ubHk/XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl92ZXJpZnlSZWluc2VydGlvbihyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgaXRlcmF0ZUxpc3RMaWtlKGNvbGxlY3Rpb24sIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbVRyYWNrQnkgPSB0aGlzLl90cmFja0J5Rm4oaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwgfHwgIU9iamVjdC5pcyhyZWNvcmQudHJhY2tCeUlkLCBpdGVtVHJhY2tCeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RydW5jYXRlKHJlY29yZCk7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlydHk7XG4gICAgfVxuICAgIC8qIENvbGxlY3Rpb25DaGFuZ2VzIGlzIGNvbnNpZGVyZWQgZGlydHkgaWYgaXQgaGFzIGFueSBhZGRpdGlvbnMsIG1vdmVzLCByZW1vdmFscywgb3IgaWRlbnRpdHlcbiAgICAgKiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkaXRpb25zSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9tb3Zlc0hlYWQgIT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkICE9PSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGNoYW5nZSBvYmplY3RzIHRvIHNob3cgbm8gY2hhbmdlcy4gVGhpcyBtZWFucyBzZXQgcHJldmlvdXNLZXkgdG9cbiAgICAgKiBjdXJyZW50S2V5LCBhbmQgY2xlYXIgYWxsIG9mIHRoZSBxdWV1ZXMgKGFkZGl0aW9ucywgbW92ZXMsIHJlbW92YWxzKS5cbiAgICAgKiBTZXQgdGhlIHByZXZpb3VzSW5kZXhlcyBvZiBtb3ZlZCBhbmQgYWRkZWQgaXRlbXMgdG8gdGhlaXIgY3VycmVudEluZGV4ZXNcbiAgICAgKiBSZXNldCB0aGUgbGlzdCBvZiBhZGRpdGlvbnMsIG1vdmVzIGFuZCByZW1vdmFsc1xuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KSB7XG4gICAgICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IHRoaXMuX2l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c0luZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzSW5kZXggPSByZWNvcmQuY3VycmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOiB3aGVuIGFzc2VydCBnZXRzIHN1cHBvcnRlZFxuICAgICAgICAgICAgLy8gYXNzZXJ0KCF0aGlzLmlzRGlydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGNvcmUgZnVuY3Rpb24gd2hpY2ggaGFuZGxlcyBkaWZmZXJlbmNlcyBiZXR3ZWVuIGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogLSBgcmVjb3JkYCBpcyB0aGUgcmVjb3JkIHdoaWNoIHdlIHNhdyBhdCB0aGlzIHBvc2l0aW9uIGxhc3QgdGltZS4gSWYgbnVsbCB0aGVuIGl0IGlzIGEgbmV3XG4gICAgICogICBpdGVtLlxuICAgICAqIC0gYGl0ZW1gIGlzIHRoZSBjdXJyZW50IGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiAtIGBpbmRleGAgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpIHtcbiAgICAgICAgLy8gVGhlIHByZXZpb3VzIHJlY29yZCBhZnRlciB3aGljaCB3ZSB3aWxsIGFwcGVuZCB0aGUgY3VycmVudCBvbmUuXG4gICAgICAgIGxldCBwcmV2aW91c1JlY29yZDtcbiAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcHJldmlvdXNSZWNvcmQgPSB0aGlzLl9pdFRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2aW91c1JlY29yZCA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmVjb3JkIGZyb20gdGhlIGNvbGxlY3Rpb24gc2luY2Ugd2Uga25vdyBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgaXRlbS5cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlZSBpZiB3ZSBoYXZlIGV2aWN0ZWQgdGhlIGl0ZW0sIHdoaWNoIHVzZWQgdG8gYmUgYXQgc29tZSBhbnRlcmlvciBwb3NpdGlvbiBvZiBfaXRIZWFkIGxpc3QuXG4gICAgICAgIHJlY29yZCA9IHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBudWxsKTtcbiAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSXQgaXMgYW4gaXRlbSB3aGljaCB3ZSBoYXZlIGV2aWN0ZWQgZWFybGllcjogcmVpbnNlcnQgaXQgYmFjayBpbnRvIHRoZSBsaXN0LlxuICAgICAgICAgICAgLy8gQnV0IGZpcnN0IHdlIG5lZWQgdG8gY2hlY2sgaWYgaWRlbnRpdHkgY2hhbmdlZCwgc28gd2UgY2FuIHVwZGF0ZSBpbiB2aWV3IGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fcmVpbnNlcnRBZnRlcihyZWNvcmQsIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIHNlZSBpZiB0aGUgaXRlbSBpcyBhdCBzb21lIHBvc3RlcmlvciBwb3NpdGlvbiBvZiBfaXRIZWFkIGxpc3QuXG4gICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICBpZiAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0aGUgaXRlbSBpbiBfaXRIZWFkIGF0L2FmdGVyIGBpbmRleGAgcG9zaXRpb24uIFdlIG5lZWQgdG8gbW92ZSBpdCBmb3J3YXJkIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgLy8gQnV0IGZpcnN0IHdlIG5lZWQgdG8gY2hlY2sgaWYgaWRlbnRpdHkgY2hhbmdlZCwgc28gd2UgY2FuIHVwZGF0ZSBpbiB2aWV3IGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92ZUFmdGVyKHJlY29yZCwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGEgbmV3IGl0ZW06IGFkZCBpdC5cbiAgICAgICAgICAgICAgICByZWNvcmQgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRBZnRlcihuZXcgSXRlcmFibGVDaGFuZ2VSZWNvcmRfKGl0ZW0sIGl0ZW1UcmFja0J5KSwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGNoZWNrIGlzIG9ubHkgbmVlZGVkIGlmIGFuIGFycmF5IGNvbnRhaW5zIGR1cGxpY2F0ZXMuIChTaG9ydCBjaXJjdWl0IG9mIG5vdGhpbmcgZGlydHkpXG4gICAgICpcbiAgICAgKiBVc2UgY2FzZTogYFthLCBhXWAgPT4gYFtiLCBhLCBhXWBcbiAgICAgKlxuICAgICAqIElmIHdlIGRpZCBub3QgaGF2ZSB0aGlzIGNoZWNrIHRoZW4gdGhlIGluc2VydGlvbiBvZiBgYmAgd291bGQ6XG4gICAgICogICAxKSBldmljdCBmaXJzdCBgYWBcbiAgICAgKiAgIDIpIGluc2VydCBgYmAgYXQgYDBgIGluZGV4LlxuICAgICAqICAgMykgbGVhdmUgYGFgIGF0IGluZGV4IGAxYCBhcyBpcy4gPC0tIHRoaXMgaXMgd3JvbmchXG4gICAgICogICAzKSByZWluc2VydCBgYWAgYXQgaW5kZXggMi4gPC0tIHRoaXMgaXMgd3JvbmchXG4gICAgICpcbiAgICAgKiBUaGUgY29ycmVjdCBiZWhhdmlvciBpczpcbiAgICAgKiAgIDEpIGV2aWN0IGZpcnN0IGBhYFxuICAgICAqICAgMikgaW5zZXJ0IGBiYCBhdCBgMGAgaW5kZXguXG4gICAgICogICAzKSByZWluc2VydCBgYWAgYXQgaW5kZXggMS5cbiAgICAgKiAgIDMpIG1vdmUgYGFgIGF0IGZyb20gYDFgIHRvIGAyYC5cbiAgICAgKlxuICAgICAqXG4gICAgICogRG91YmxlIGNoZWNrIHRoYXQgd2UgaGF2ZSBub3QgZXZpY3RlZCBhIGR1cGxpY2F0ZSBpdGVtLiBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBpdGVtIHR5cGUgbWF5XG4gICAgICogaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZDpcbiAgICAgKiBUaGUgaW5zZXJ0aW9uIG9mIGIgd2lsbCBldmljdCB0aGUgZmlyc3QgJ2EnLiBJZiB3ZSBkb24ndCByZWluc2VydCBpdCBub3cgaXQgd2lsbCBiZSByZWluc2VydGVkXG4gICAgICogYXQgdGhlIGVuZC4gV2hpY2ggd2lsbCBzaG93IHVwIGFzIHRoZSB0d28gJ2EncyBzd2l0Y2hpbmcgcG9zaXRpb24uIFRoaXMgaXMgaW5jb3JyZWN0LCBzaW5jZSBhXG4gICAgICogYmV0dGVyIHdheSB0byB0aGluayBvZiBpdCBpcyBhcyBpbnNlcnQgb2YgJ2InIHJhdGhlciB0aGVuIHN3aXRjaCAnYScgd2l0aCAnYicgYW5kIHRoZW4gYWRkICdhJ1xuICAgICAqIGF0IHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHJlaW5zZXJ0UmVjb3JkID0gdGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnksIG51bGwpO1xuICAgICAgICBpZiAocmVpbnNlcnRSZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVpbnNlcnRSZWNvcmQsIHJlY29yZC5fcHJldiwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZC5jdXJyZW50SW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHJpZCBvZiBhbnkgZXhjZXNzIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99cyBmcm9tIHRoZSBwcmV2aW91cyBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiAtIGByZWNvcmRgIFRoZSBmaXJzdCBleGNlc3Mge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfdHJ1bmNhdGUocmVjb3JkKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGFmdGVyIHRoYXQgbmVlZHMgdG8gYmUgcmVtb3ZlZDtcbiAgICAgICAgd2hpbGUgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgICAgICAgICAgcmVjb3JkID0gbmV4dFJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2l0VGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3JlaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldlJlbW92ZWQ7XG4gICAgICAgIGNvbnN0IG5leHQgPSByZWNvcmQuX25leHRSZW1vdmVkO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHRSZW1vdmVkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXZSZW1vdmVkID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9tb3ZlQWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICB0aGlzLl91bmxpbmsocmVjb3JkKTtcbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfYWRkQWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQodGhpcy5fYWRkaXRpb25zSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gdGhpcy5fYWRkaXRpb25zSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0QWRkZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZCAhPSBwcmV2UmVjb3JkKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dCA9PT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX3ByZXYgPT09IG51bGwpO1xuICAgICAgICBjb25zdCBuZXh0ID0gcHJldlJlY29yZCA9PT0gbnVsbCA/IHRoaXMuX2l0SGVhZCA6IHByZXZSZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChuZXh0ICE9IHJlY29yZCk7XG4gICAgICAgIC8vIGFzc2VydChwcmV2UmVjb3JkICE9IHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5fbmV4dCA9IG5leHQ7XG4gICAgICAgIHJlY29yZC5fcHJldiA9IHByZXZSZWNvcmQ7XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdFRhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UmVjb3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdEhlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2UmVjb3JkLl9uZXh0ID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9saW5rZWRSZWNvcmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbmV3IF9EdXBsaWNhdGVNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzLnB1dChyZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcmVtb3ZlKHJlY29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsocmVjb3JkKSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfdW5saW5rKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fbGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2ID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQoKHJlY29yZC5fcHJldiA9IG51bGwpID09PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KChyZWNvcmQuX25leHQgPSBudWxsKSA9PT0gbnVsbCk7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdEhlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2FkZFRvTW92ZXMocmVjb3JkLCB0b0luZGV4KSB7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRNb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNJbmRleCA9PT0gdG9JbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9tb3Zlc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gdGhpcy5fbW92ZXNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfbW92ZXNUYWlsLl9uZXh0TW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gdGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgX2FkZFRvUmVtb3ZhbHMocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3JkcyA9IG5ldyBfRHVwbGljYXRlTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzLnB1dChyZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgcmVjb3JkLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmFsc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX3JlbW92YWxzSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSB0aGlzLl9yZW1vdmFsc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dFJlbW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCA9IHRoaXMuX3JlbW92YWxzVGFpbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pIHtcbiAgICAgICAgcmVjb3JkLml0ZW0gPSBpdGVtO1xuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxufVxuY2xhc3MgSXRlcmFibGVDaGFuZ2VSZWNvcmRfIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtLCB0cmFja0J5SWQpIHtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy50cmFja0J5SWQgPSB0cmFja0J5SWQ7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2aW91c0luZGV4ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXZEdXAgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHREdXAgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0TW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRJZGVudGl0eUNoYW5nZSA9IG51bGw7XG4gICAgfVxufVxuLy8gQSBsaW5rZWQgbGlzdCBvZiBJdGVyYWJsZUNoYW5nZVJlY29yZHMgd2l0aCB0aGUgc2FtZSBJdGVyYWJsZUNoYW5nZVJlY29yZF8uaXRlbVxuY2xhc3MgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIHRoZSByZWNvcmQgdG8gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIE5vdGU6IGJ5IGRlc2lnbiBhbGwgcmVjb3JkcyBpbiB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGhvbGQgdGhlIHNhbWUgdmFsdWUgaW4gcmVjb3JkLml0ZW0uXG4gICAgICovXG4gICAgYWRkKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5faGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX25leHREdXAgPSBudWxsO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLml0ZW0gPT0gIF9oZWFkLml0ZW0gfHxcbiAgICAgICAgICAgIC8vICAgICAgIHJlY29yZC5pdGVtIGlzIG51bSAmJiByZWNvcmQuaXRlbS5pc05hTiAmJiBfaGVhZC5pdGVtIGlzIG51bSAmJiBfaGVhZC5pdGVtLmlzTmFOKTtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwuX25leHREdXAgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZEdXAgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyBoYXZpbmcgSXRlcmFibGVDaGFuZ2VSZWNvcmRfLnRyYWNrQnlJZCA9PSB0cmFja0J5SWQgYW5kXG4gICAgLy8gSXRlcmFibGVDaGFuZ2VSZWNvcmRfLmN1cnJlbnRJbmRleCA+PSBhdE9yQWZ0ZXJJbmRleFxuICAgIGdldCh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHREdXApIHtcbiAgICAgICAgICAgIGlmICgoYXRPckFmdGVySW5kZXggPT09IG51bGwgfHwgYXRPckFmdGVySW5kZXggPD0gcmVjb3JkLmN1cnJlbnRJbmRleCkgJiZcbiAgICAgICAgICAgICAgICBPYmplY3QuaXMocmVjb3JkLnRyYWNrQnlJZCwgdHJhY2tCeUlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvbmUge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30gZnJvbSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgaXMgZW1wdHkuXG4gICAgICovXG4gICAgcmVtb3ZlKHJlY29yZCkge1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQoKCkge1xuICAgICAgICAvLyAgLy8gdmVyaWZ5IHRoYXQgdGhlIHJlY29yZCBiZWluZyByZW1vdmVkIGlzIGluIHRoZSBsaXN0LlxuICAgICAgICAvLyAgZm9yIChJdGVyYWJsZUNoYW5nZVJlY29yZF8gY3Vyc29yID0gX2hlYWQ7IGN1cnNvciAhPSBudWxsOyBjdXJzb3IgPSBjdXJzb3IuX25leHREdXApIHtcbiAgICAgICAgLy8gICAgaWYgKGlkZW50aWNhbChjdXJzb3IsIHJlY29yZCkpIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAgfVxuICAgICAgICAvLyAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvL30pO1xuICAgICAgICBjb25zdCBwcmV2ID0gcmVjb3JkLl9wcmV2RHVwO1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0RHVwO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0RHVwID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2RHVwID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faGVhZCA9PT0gbnVsbDtcbiAgICB9XG59XG5jbGFzcyBfRHVwbGljYXRlTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHB1dChyZWNvcmQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVjb3JkLnRyYWNrQnlJZDtcbiAgICAgICAgbGV0IGR1cGxpY2F0ZXMgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFkdXBsaWNhdGVzKSB7XG4gICAgICAgICAgICBkdXBsaWNhdGVzID0gbmV3IF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGtleSwgZHVwbGljYXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZHVwbGljYXRlcy5hZGQocmVjb3JkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGB2YWx1ZWAgdXNpbmcga2V5LiBCZWNhdXNlIHRoZSBJdGVyYWJsZUNoYW5nZVJlY29yZF8gdmFsdWUgbWF5IGJlIG9uZSB3aGljaCB3ZVxuICAgICAqIGhhdmUgYWxyZWFkeSBpdGVyYXRlZCBvdmVyLCB3ZSB1c2UgdGhlIGBhdE9yQWZ0ZXJJbmRleGAgdG8gcHJldGVuZCBpdCBpcyBub3QgdGhlcmUuXG4gICAgICpcbiAgICAgKiBVc2UgY2FzZTogYFthLCBiLCBjLCBhLCBhXWAgaWYgd2UgYXJlIGF0IGluZGV4IGAzYCB3aGljaCBpcyB0aGUgc2Vjb25kIGBhYCB0aGVuIGFza2luZyBpZiB3ZVxuICAgICAqIGhhdmUgYW55IG1vcmUgYGFgcyBuZWVkcyB0byByZXR1cm4gdGhlIHNlY29uZCBgYWAuXG4gICAgICovXG4gICAgZ2V0KHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdHJhY2tCeUlkO1xuICAgICAgICBjb25zdCByZWNvcmRMaXN0ID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiByZWNvcmRMaXN0ID8gcmVjb3JkTGlzdC5nZXQodHJhY2tCeUlkLCBhdE9yQWZ0ZXJJbmRleCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30gZnJvbSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogVGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBhbHNvIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIGlmIGl0IGdldHMgZW1wdHkuXG4gICAgICovXG4gICAgcmVtb3ZlKHJlY29yZCkge1xuICAgICAgICBjb25zdCBrZXkgPSByZWNvcmQudHJhY2tCeUlkO1xuICAgICAgICBjb25zdCByZWNvcmRMaXN0ID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIHdoZW4gaXQgZ2V0cyBlbXB0eVxuICAgICAgICBpZiAocmVjb3JkTGlzdC5yZW1vdmUocmVjb3JkKSkge1xuICAgICAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5zaXplID09PSAwO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRQcmV2aW91c0luZGV4KGl0ZW0sIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpIHtcbiAgICBjb25zdCBwcmV2aW91c0luZGV4ID0gaXRlbS5wcmV2aW91c0luZGV4O1xuICAgIGlmIChwcmV2aW91c0luZGV4ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gcHJldmlvdXNJbmRleDtcbiAgICBsZXQgbW92ZU9mZnNldCA9IDA7XG4gICAgaWYgKG1vdmVPZmZzZXRzICYmIHByZXZpb3VzSW5kZXggPCBtb3ZlT2Zmc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgbW92ZU9mZnNldCA9IG1vdmVPZmZzZXRzW3ByZXZpb3VzSW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNJbmRleCArIGFkZFJlbW92ZU9mZnNldCArIG1vdmVPZmZzZXQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICBzdXBwb3J0cyhvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1hcCB8fCBpc0pzT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0S2V5VmFsdWVEaWZmZXIoKTtcbiAgICB9XG59XG5jbGFzcyBEZWZhdWx0S2V5VmFsdWVEaWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9yZWNvcmRzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9tYXBIZWFkID0gbnVsbDtcbiAgICAgICAgLy8gX2FwcGVuZEFmdGVyIGlzIHVzZWQgaW4gdGhlIGNoZWNrIGxvb3BcbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmV2aW91c01hcEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgIH1cbiAgICBnZXQgaXNEaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZGl0aW9uc0hlYWQgIT09IG51bGwgfHwgdGhpcy5fY2hhbmdlc0hlYWQgIT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCAhPT0gbnVsbDtcbiAgICB9XG4gICAgZm9yRWFjaEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9tYXBIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoUHJldmlvdXNJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNNYXBIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFByZXZpb3VzKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hDaGFuZ2VkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaEFkZGVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFJlbW92ZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcmVtb3ZhbHNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFJlbW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlmZihtYXApIHtcbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghKG1hcCBpbnN0YW5jZW9mIE1hcCB8fCBpc0pzT2JqZWN0KG1hcCkpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgYEVycm9yIHRyeWluZyB0byBkaWZmICcke3N0cmluZ2lmeShtYXApfScuIE9ubHkgbWFwcyBhbmQgb2JqZWN0cyBhcmUgYWxsb3dlZGAgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDAgLyogSU5WQUxJRF9ESUZGRVJfSU5QVVQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2sobWFwKSA/IHRoaXMgOiBudWxsO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7IH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbWFwIHZzIHRoZSBwcmV2aW91cy5cbiAgICAgKiBUaGUgYWxnb3JpdGhtIGlzIG9wdGltaXNlZCBmb3Igd2hlbiB0aGUga2V5cyBkbyBubyBjaGFuZ2UuXG4gICAgICovXG4gICAgY2hlY2sobWFwKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIGxldCBpbnNlcnRCZWZvcmUgPSB0aGlzLl9tYXBIZWFkO1xuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gobWFwLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZSAmJiBpbnNlcnRCZWZvcmUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhpbnNlcnRCZWZvcmUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IGluc2VydEJlZm9yZTtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmUuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSB0aGlzLl9pbnNlcnRCZWZvcmVPckFwcGVuZChpbnNlcnRCZWZvcmUsIHJlY29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJdGVtcyByZW1haW5pbmcgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBoYXZlIGJlZW4gZGVsZXRlZFxuICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlLl9wcmV2KSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlLl9wcmV2Ll9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IGluc2VydEJlZm9yZTtcbiAgICAgICAgICAgIGZvciAobGV0IHJlY29yZCA9IGluc2VydEJlZm9yZTsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gdGhpcy5fbWFwSGVhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjb3Jkcy5kZWxldGUocmVjb3JkLmtleSk7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UmVtb3ZlZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0YWlscyBoYXZlIG5vIG5leHQgcmVjb3JkcyBmcm9tIHByZXZpb3VzIHJ1bnNcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNUYWlsKVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwpXG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgcmVjb3JkIGJlZm9yZSBgYmVmb3JlYCBvciBhcHBlbmQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCB3aGVuIGBiZWZvcmVgIGlzIG51bGwuXG4gICAgICpcbiAgICAgKiBOb3RlczpcbiAgICAgKiAtIFRoaXMgbWV0aG9kIGFwcGVuZHMgYXQgYHRoaXMuX2FwcGVuZEFmdGVyYCxcbiAgICAgKiAtIFRoaXMgbWV0aG9kIHVwZGF0ZXMgYHRoaXMuX2FwcGVuZEFmdGVyYCxcbiAgICAgKiAtIFRoZSByZXR1cm4gdmFsdWUgaXMgdGhlIG5ldyB2YWx1ZSBmb3IgdGhlIGluc2VydGlvbiBwb2ludGVyLlxuICAgICAqL1xuICAgIF9pbnNlcnRCZWZvcmVPckFwcGVuZChiZWZvcmUsIHJlY29yZCkge1xuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gYmVmb3JlLl9wcmV2O1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gYmVmb3JlO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gcHJldjtcbiAgICAgICAgICAgIGJlZm9yZS5fcHJldiA9IHJlY29yZDtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgcHJldi5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiZWZvcmUgPT09IHRoaXMuX21hcEhlYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBiZWZvcmU7XG4gICAgICAgICAgICByZXR1cm4gYmVmb3JlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hcHBlbmRBZnRlcikge1xuICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIuX25leHQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSB0aGlzLl9hcHBlbmRBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcEhlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSByZWNvcmQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVjb3Jkcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5fcmVjb3Jkcy5nZXQoa2V5KTtcbiAgICAgICAgICAgIHRoaXMuX21heWJlQWRkVG9DaGFuZ2VzKHJlY29yZCwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcHJldjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY29yZC5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWNvcmQgPSBuZXcgS2V5VmFsdWVDaGFuZ2VSZWNvcmRfKGtleSk7XG4gICAgICAgIHRoaXMuX3JlY29yZHMuc2V0KGtleSwgcmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9hZGRUb0FkZGl0aW9ucyhyZWNvcmQpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KSB7XG4gICAgICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICAgICAgLy8gbGV0IGBfcHJldmlvdXNNYXBIZWFkYCBjb250YWluIHRoZSBzdGF0ZSBvZiB0aGUgbWFwIGJlZm9yZSB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNNYXBIZWFkID0gdGhpcy5fbWFwSGVhZDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNNYXBIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dFByZXZpb3VzID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIGByZWNvcmQucHJldmlvdXNWYWx1ZWAgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIGl0ZW0gYmVmb3JlIHRoZSBjaGFuZ2VzXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSBhbGwgY2hhbmdlZCBpdGVtcyAodGhhdCdzIHRob3NlIHdoaWNoIGhhdmUgYmVlbiBhZGRlZCBhbmQgY2hhbmdlZClcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fY2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSB0aGlzLl9jaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgcmVjb3JkIG9yIGEgZ2l2ZW4ga2V5IHRvIHRoZSBsaXN0IG9mIGNoYW5nZXMgb25seSB3aGVuIHRoZSB2YWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZFxuICAgIF9tYXliZUFkZFRvQ2hhbmdlcyhyZWNvcmQsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmICghT2JqZWN0LmlzKG5ld1ZhbHVlLCByZWNvcmQuY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9DaGFuZ2VzKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZFRvQWRkaXRpb25zKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zSGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRUb0NoYW5nZXMocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzSGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSB0aGlzLl9jaGFuZ2VzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZCA9IHJlY29yZDtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZm9yRWFjaChvYmosIGZuKSB7XG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgIG9iai5mb3JFYWNoKGZuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrID0+IGZuKG9ialtrXSwgaykpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgS2V5VmFsdWVDaGFuZ2VSZWNvcmRfIHtcbiAgICBjb25zdHJ1Y3RvcihrZXkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIG5ldyBJdGVyYWJsZURpZmZlcnMoW25ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCldKTtcbn1cbi8qKlxuICogQSByZXBvc2l0b3J5IG9mIGRpZmZlcmVudCBpdGVyYWJsZSBkaWZmaW5nIHN0cmF0ZWdpZXMgdXNlZCBieSBOZ0ZvciwgTmdDbGFzcywgYW5kIG90aGVycy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEl0ZXJhYmxlRGlmZmVycyB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY29waWVkID0gcGFyZW50LmZhY3Rvcmllcy5zbGljZSgpO1xuICAgICAgICAgICAgZmFjdG9yaWVzID0gZmFjdG9yaWVzLmNvbmNhdChjb3BpZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSXRlcmFibGVEaWZmZXJzKGZhY3Rvcmllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIHtAbGluayBJdGVyYWJsZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtAbGluayBJdGVyYWJsZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge0BsaW5rIEl0ZXJhYmxlRGlmZmVyc30gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGV4dGVuZCBhbiBleGlzdGluZyBsaXN0IG9mIGZhY3RvcmllcyxcbiAgICAgKiB3aGljaCB3aWxsIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgaW5qZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogVGhpcyBzdGVwIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWQgdG8gbWFrZSBhIG5ldyB7QGxpbmsgSXRlcmFibGVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBJdGVyYWJsZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTGlzdERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmQoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm92aWRlOiBJdGVyYWJsZURpZmZlcnMsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiAocGFyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgcGFyZW50IGlzIG51bGwsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGluIHRoZSByb290IGluamVjdG9yIGFuZCB3ZSBoYXZlIGp1c3Qgb3ZlcnJpZGRlblxuICAgICAgICAgICAgICAgIC8vIHRoZSBkZWZhdWx0IGluamVjdGlvbiBtZWNoYW5pc20gZm9yIEl0ZXJhYmxlRGlmZmVycywgaW4gc3VjaCBhIGNhc2UganVzdCBhc3N1bWVcbiAgICAgICAgICAgICAgICAvLyBgZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnlgLlxuICAgICAgICAgICAgICAgIHJldHVybiBJdGVyYWJsZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50IHx8IGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlcGVuZGVuY3kgdGVjaG5pY2FsbHkgaXNuJ3Qgb3B0aW9uYWwsIGJ1dCB3ZSBjYW4gcHJvdmlkZSBhIGJldHRlciBlcnJvciBtZXNzYWdlIHRoaXMgd2F5LlxuICAgICAgICAgICAgZGVwczogW1tJdGVyYWJsZURpZmZlcnMsIG5ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKV1dXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmQoaXRlcmFibGUpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMuZmFjdG9yaWVzLmZpbmQoZiA9PiBmLnN1cHBvcnRzKGl0ZXJhYmxlKSk7XG4gICAgICAgIGlmIChmYWN0b3J5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgIGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHtpdGVyYWJsZX0nIG9mIHR5cGUgJyR7Z2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcoaXRlcmFibGUpfSdgIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAxIC8qIE5PX1NVUFBPUlRJTkdfRElGRkVSX0ZBQ1RPUlkgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogQG5vY29sbGFwc2UgKi9cbkl0ZXJhYmxlRGlmZmVycy7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBJdGVyYWJsZURpZmZlcnMsIHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkgfSk7XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbJ25hbWUnXSB8fCB0eXBlb2YgdHlwZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IEtleVZhbHVlRGlmZmVycyhbbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKV0pO1xufVxuLyoqXG4gKiBBIHJlcG9zaXRvcnkgb2YgZGlmZmVyZW50IE1hcCBkaWZmaW5nIHN0cmF0ZWdpZXMgdXNlZCBieSBOZ0NsYXNzLCBOZ1N0eWxlLCBhbmQgb3RoZXJzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgS2V5VmFsdWVEaWZmZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBmYWN0b3JpZXM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29waWVkID0gcGFyZW50LmZhY3Rvcmllcy5zbGljZSgpO1xuICAgICAgICAgICAgZmFjdG9yaWVzID0gZmFjdG9yaWVzLmNvbmNhdChjb3BpZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgS2V5VmFsdWVEaWZmZXJzKGZhY3Rvcmllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIHtAbGluayBLZXlWYWx1ZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge0BsaW5rIEtleVZhbHVlRGlmZmVyc30gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGV4dGVuZCBhbiBleGlzdGluZyBsaXN0IG9mIGZhY3RvcmllcyxcbiAgICAgKiB3aGljaCB3aWxsIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgaW5qZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogVGhpcyBzdGVwIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWQgdG8gbWFrZSBhIG5ldyB7QGxpbmsgS2V5VmFsdWVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBLZXlWYWx1ZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTWFwRGlmZmVyKCldKVxuICAgICAqICAgXVxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZChmYWN0b3JpZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEtleVZhbHVlRGlmZmVycyxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IChwYXJlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiBwYXJlbnQgaXMgbnVsbCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgaW4gdGhlIHJvb3QgaW5qZWN0b3IgYW5kIHdlIGhhdmUganVzdCBvdmVycmlkZGVuXG4gICAgICAgICAgICAgICAgLy8gdGhlIGRlZmF1bHQgaW5qZWN0aW9uIG1lY2hhbmlzbSBmb3IgS2V5VmFsdWVEaWZmZXJzLCBpbiBzdWNoIGEgY2FzZSBqdXN0IGFzc3VtZVxuICAgICAgICAgICAgICAgIC8vIGBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeWAuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtleVZhbHVlRGlmZmVycy5jcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQgfHwgZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnkoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGVwZW5kZW5jeSB0ZWNobmljYWxseSBpc24ndCBvcHRpb25hbCwgYnV0IHdlIGNhbiBwcm92aWRlIGEgYmV0dGVyIGVycm9yIG1lc3NhZ2UgdGhpcyB3YXkuXG4gICAgICAgICAgICBkZXBzOiBbW0tleVZhbHVlRGlmZmVycywgbmV3IFNraXBTZWxmKCksIG5ldyBPcHRpb25hbCgpXV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmluZChrdikge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmID0+IGYuc3VwcG9ydHMoa3YpKTtcbiAgICAgICAgaWYgKGZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgIGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHtrdn0nYCA6XG4gICAgICAgICAgICAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDEgLyogTk9fU1VQUE9SVElOR19ESUZGRVJfRkFDVE9SWSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG59XG4vKiogQG5vY29sbGFwc2UgKi9cbktleVZhbHVlRGlmZmVycy7JtXByb3YgPSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBLZXlWYWx1ZURpZmZlcnMsIHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnkgfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTdHJ1Y3R1cmFsIGRpZmZpbmcgZm9yIGBPYmplY3RgcyBhbmQgYE1hcGBzLlxuICovXG5jb25zdCBrZXlWYWxEaWZmID0gW25ldyBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5KCldO1xuLyoqXG4gKiBTdHJ1Y3R1cmFsIGRpZmZpbmcgZm9yIGBJdGVyYWJsZWAgdHlwZXMgc3VjaCBhcyBgQXJyYXlgcy5cbiAqL1xuY29uc3QgaXRlcmFibGVEaWZmID0gW25ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCldO1xuY29uc3QgZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyA9IG5ldyBJdGVyYWJsZURpZmZlcnMoaXRlcmFibGVEaWZmKTtcbmNvbnN0IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnMgPSBuZXcgS2V5VmFsdWVEaWZmZXJzKGtleVZhbERpZmYpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfQ09SRV9QTEFURk9STV9QUk9WSURFUlMgPSBbXG4gICAgLy8gU2V0IGEgZGVmYXVsdCBwbGF0Zm9ybSBuYW1lIGZvciBwbGF0Zm9ybXMgdGhhdCBkb24ndCBzZXQgaXQgZXhwbGljaXRseS5cbiAgICB7IHByb3ZpZGU6IFBMQVRGT1JNX0lELCB1c2VWYWx1ZTogJ3Vua25vd24nIH0sXG4gICAgeyBwcm92aWRlOiBQbGF0Zm9ybVJlZiwgZGVwczogW0luamVjdG9yXSB9LFxuICAgIHsgcHJvdmlkZTogVGVzdGFiaWxpdHlSZWdpc3RyeSwgZGVwczogW10gfSxcbiAgICB7IHByb3ZpZGU6IENvbnNvbGUsIGRlcHM6IFtdIH0sXG5dO1xuLyoqXG4gKiBUaGlzIHBsYXRmb3JtIGhhcyB0byBiZSBpbmNsdWRlZCBpbiBhbnkgb3RoZXIgcGxhdGZvcm1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IHBsYXRmb3JtQ29yZSA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShudWxsLCAnY29yZScsIF9DT1JFX1BMQVRGT1JNX1BST1ZJREVSUyk7XG5cbi8qKlxuICogUmUtZXhwb3J0ZWQgYnkgYEJyb3dzZXJNb2R1bGVgLCB3aGljaCBpcyBpbmNsdWRlZCBhdXRvbWF0aWNhbGx5IGluIHRoZSByb290XG4gKiBgQXBwTW9kdWxlYCB3aGVuIHlvdSBjcmVhdGUgYSBuZXcgYXBwIHdpdGggdGhlIENMSSBgbmV3YCBjb21tYW5kLiBFYWdlcmx5IGluamVjdHNcbiAqIGBBcHBsaWNhdGlvblJlZmAgdG8gaW5zdGFudGlhdGUgaXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBBcHBsaWNhdGlvbk1vZHVsZSB7XG4gICAgLy8gSW5qZWN0IEFwcGxpY2F0aW9uUmVmIHRvIG1ha2UgaXQgZWFnZXIuLi5cbiAgICBjb25zdHJ1Y3RvcihhcHBSZWYpIHsgfVxufVxuQXBwbGljYXRpb25Nb2R1bGUuybVmYWMgPSBmdW5jdGlvbiBBcHBsaWNhdGlvbk1vZHVsZV9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBBcHBsaWNhdGlvbk1vZHVsZSkoybXJtWluamVjdChBcHBsaWNhdGlvblJlZikpOyB9O1xuQXBwbGljYXRpb25Nb2R1bGUuybVtb2QgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVOZ01vZHVsZSh7IHR5cGU6IEFwcGxpY2F0aW9uTW9kdWxlIH0pO1xuQXBwbGljYXRpb25Nb2R1bGUuybVpbmogPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3Rvcih7fSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShBcHBsaWNhdGlvbk1vZHVsZSwgW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBBcHBsaWNhdGlvblJlZiB9XTsgfSwgbnVsbCk7XG59KSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE8oYWx4aHViKTogYWxsb3dzIHRlc3RzIHRvIGNvbXBpbGUsIGNhbiBiZSByZW1vdmVkIHdoZW4gdGVzdHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXG5jb25zdCDJtWl2eUVuYWJsZWQgPSB0cnVlO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdkaXJlY3RpdmUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVEaXJlY3RpdmVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1ZmFjLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIEV2YWx1YXRlcyB0aGUgY2xhc3MgbWV0YWRhdGEgZGVjbGFyYXRpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoZGVjbCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgc2V0Q2xhc3NNZXRhZGF0YShkZWNsLnR5cGUsIGRlY2wuZGVjb3JhdG9ycywgKF9hID0gZGVjbC5jdG9yUGFyYW1ldGVycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCwgKF9iID0gZGVjbC5wcm9wRGVjb3JhdG9ycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBjb21wb25lbnQgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIGNvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlQ29tcG9uZW50KGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnY29tcG9uZW50JywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWNtcC5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgcGlwZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgcGlwZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlRmFjdG9yeShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7XG4gICAgICAgIHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLyxcbiAgICAgICAga2luZDogZ2V0RmFjdG9yeUtpbmQoZGVjbC50YXJnZXQpLFxuICAgICAgICB0eXBlOiBkZWNsLnR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUZhY3RvcnlEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1ZmFjLmpzYCwgZGVjbCk7XG59XG5mdW5jdGlvbiBnZXRGYWN0b3J5S2luZCh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlOlxuICAgICAgICAgICAgcmV0dXJuICdkaXJlY3RpdmUnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuQ29tcG9uZW50OlxuICAgICAgICAgICAgcmV0dXJuICdjb21wb25lbnQnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZTpcbiAgICAgICAgICAgIHJldHVybiAnaW5qZWN0YWJsZSc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5QaXBlOlxuICAgICAgICAgICAgcmV0dXJuICdwaXBlJztcbiAgICAgICAgY2FzZSBGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlOlxuICAgICAgICAgICAgcmV0dXJuICdOZ01vZHVsZSc7XG4gICAgfVxufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgaW5qZWN0YWJsZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgaW5qZWN0YWJsZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlSW5qZWN0YWJsZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVJbmplY3RhYmxlRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtXByb3YuanNgLCBkZWNsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGluamVjdG9yIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBpbmplY3RvciBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlSW5qZWN0b3IoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWluai5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgTmdNb2R1bGUgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIE5nTW9kdWxlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVOZ01vZHVsZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1bW9kLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBwaXBlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBwaXBlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVQaXBlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAncGlwZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZVBpcGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1cGlwZS5qc2AsIGRlY2wpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIGNsYW5nLWZvcm1hdCBvblxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmlmICh0eXBlb2YgbmdEZXZNb2RlICE9PSAndW5kZWZpbmVkJyAmJiBuZ0Rldk1vZGUpIHtcbiAgICAvLyBUaGlzIGhlbHBlciBpcyB0byBnaXZlIGEgcmVhc29uYWJsZSBlcnJvciBtZXNzYWdlIHRvIHBlb3BsZSB1cGdyYWRpbmcgdG8gdjkgdGhhdCBoYXZlIG5vdCB5ZXRcbiAgICAvLyBpbnN0YWxsZWQgYEBhbmd1bGFyL2xvY2FsaXplYCBpbiB0aGVpciBhcHAuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBfZ2xvYmFsLiRsb2NhbGl6ZSA9IF9nbG9iYWwuJGxvY2FsaXplIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBsb29rcyBsaWtlIHlvdXIgYXBwbGljYXRpb24gb3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMgaXMgdXNpbmcgaTE4bi5cXG4nICtcbiAgICAgICAgICAgICdBbmd1bGFyIDkgaW50cm9kdWNlZCBhIGdsb2JhbCBgJGxvY2FsaXplKClgIGZ1bmN0aW9uIHRoYXQgbmVlZHMgdG8gYmUgbG9hZGVkLlxcbicgK1xuICAgICAgICAgICAgJ1BsZWFzZSBydW4gYG5nIGFkZCBAYW5ndWxhci9sb2NhbGl6ZWAgZnJvbSB0aGUgQW5ndWxhciBDTEkuXFxuJyArXG4gICAgICAgICAgICAnKEZvciBub24tQ0xJIHByb2plY3RzLCBhZGQgYGltcG9ydCBcXCdAYW5ndWxhci9sb2NhbGl6ZS9pbml0XFwnO2AgdG8geW91ciBgcG9seWZpbGxzLnRzYCBmaWxlLlxcbicgK1xuICAgICAgICAgICAgJ0ZvciBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgYXBwbGljYXRpb25zIGFkZCB0aGUgaW1wb3J0IHRvIHlvdXIgYG1haW4uc2VydmVyLnRzYCBmaWxlLiknKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZmlsZSBvbmx5IHJlZXhwb3J0cyBjb250ZW50IG9mIHRoZSBgc3JjYCBmb2xkZXIuIEtlZXAgaXQgdGhhdCB3YXkuXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIEFQUF9CT09UU1RSQVBfTElTVEVORVIsIEFQUF9JRCwgQVBQX0lOSVRJQUxJWkVSLCBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIEFwcGxpY2F0aW9uTW9kdWxlLCBBcHBsaWNhdGlvblJlZiwgQXR0cmlidXRlLCBDT01QSUxFUl9PUFRJT05TLCBDVVNUT01fRUxFTUVOVFNfU0NIRU1BLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBpbGVyLCBDb21waWxlckZhY3RvcnksIENvbXBvbmVudCwgQ29tcG9uZW50RmFjdG9yeSQxIGFzIENvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIGFzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQ29tcG9uZW50UmVmJDEgYXMgQ29tcG9uZW50UmVmLCBDb250ZW50Q2hpbGQsIENvbnRlbnRDaGlsZHJlbiwgREVGQVVMVF9DVVJSRU5DWV9DT0RFLCBEZWJ1Z0VsZW1lbnQsIERlYnVnRXZlbnRMaXN0ZW5lciwgRGVidWdOb2RlLCBEZWZhdWx0SXRlcmFibGVEaWZmZXIsIERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgRW1iZWRkZWRWaWV3UmVmLCBFcnJvckhhbmRsZXIsIEV2ZW50RW1pdHRlciwgSG9zdCwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lciwgSU5KRUNUT1IsIEluamVjdCwgSW5qZWN0RmxhZ3MsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuLCBJbmplY3RvciwgSW5wdXQsIEl0ZXJhYmxlRGlmZmVycywgS2V5VmFsdWVEaWZmZXJzLCBMT0NBTEVfSUQsIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LCBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzLCBOT19FUlJPUlNfU0NIRU1BLCBOZ01vZHVsZSwgTmdNb2R1bGVGYWN0b3J5JDEgYXMgTmdNb2R1bGVGYWN0b3J5LCBOZ01vZHVsZVJlZiQxIGFzIE5nTW9kdWxlUmVmLCBOZ1Byb2JlVG9rZW4sIE5nWm9uZSwgT3B0aW9uYWwsIE91dHB1dCwgUEFDS0FHRV9ST09UX1VSTCwgUExBVEZPUk1fSUQsIFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBQaXBlLCBQbGF0Zm9ybVJlZiwgUXVlcnksIFF1ZXJ5TGlzdCwgUmVmbGVjdGl2ZUluamVjdG9yLCBSZWZsZWN0aXZlS2V5LCBSZW5kZXJlcjIsIFJlbmRlcmVyRmFjdG9yeTIsIFJlbmRlcmVyU3R5bGVGbGFnczIsIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnksIFNhbml0aXplciwgU2VjdXJpdHlDb250ZXh0LCBTZWxmLCBTaW1wbGVDaGFuZ2UsIFNraXBTZWxmLCBUUkFOU0xBVElPTlMsIFRSQU5TTEFUSU9OU19GT1JNQVQsIFRlbXBsYXRlUmVmLCBUZXN0YWJpbGl0eSwgVGVzdGFiaWxpdHlSZWdpc3RyeSwgVHlwZSwgVkVSU0lPTiwgVmVyc2lvbiwgVmlld0NoaWxkLCBWaWV3Q2hpbGRyZW4sIFZpZXdDb250YWluZXJSZWYsIFZpZXdFbmNhcHN1bGF0aW9uJDEgYXMgVmlld0VuY2Fwc3VsYXRpb24sIFZpZXdSZWYsIGFzTmF0aXZlRWxlbWVudHMsIGFzc2VydFBsYXRmb3JtLCBjcmVhdGVOZ01vZHVsZVJlZiwgY3JlYXRlUGxhdGZvcm0sIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgZGVmaW5lSW5qZWN0YWJsZSwgZGVzdHJveVBsYXRmb3JtLCBlbmFibGVQcm9kTW9kZSwgZm9yd2FyZFJlZiwgZ2V0RGVidWdOb2RlLCBnZXRNb2R1bGVGYWN0b3J5LCBnZXROZ01vZHVsZUJ5SWQsIGdldFBsYXRmb3JtLCBpbmplY3QsIGlzRGV2TW9kZSwgcGxhdGZvcm1Db3JlLCByZXNvbHZlRm9yd2FyZFJlZiwgc2V0VGVzdGFiaWxpdHlHZXR0ZXIsIEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyBhcyDJtUFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgQVBQX0lEX1JBTkRPTV9QUk9WSURFUiBhcyDJtUFQUF9JRF9SQU5ET01fUFJPVklERVIsIENoYW5nZURldGVjdG9yU3RhdHVzIGFzIMm1Q2hhbmdlRGV0ZWN0b3JTdGF0dXMsIENvbXBvbmVudEZhY3RvcnkkMSBhcyDJtUNvbXBvbmVudEZhY3RvcnksIENvbnNvbGUgYXMgybVDb25zb2xlLCBERUZBVUxUX0xPQ0FMRV9JRCBhcyDJtURFRkFVTFRfTE9DQUxFX0lELCBJTkpFQ1RPUl9TQ09QRSBhcyDJtUlOSkVDVE9SX1NDT1BFLCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYXMgybVMaWZlY3ljbGVIb29rc0ZlYXR1cmUsIExvY2FsZURhdGFJbmRleCBhcyDJtUxvY2FsZURhdGFJbmRleCwgTkdfQ09NUF9ERUYgYXMgybVOR19DT01QX0RFRiwgTkdfRElSX0RFRiBhcyDJtU5HX0RJUl9ERUYsIE5HX0VMRU1FTlRfSUQgYXMgybVOR19FTEVNRU5UX0lELCBOR19JTkpfREVGIGFzIMm1TkdfSU5KX0RFRiwgTkdfTU9EX0RFRiBhcyDJtU5HX01PRF9ERUYsIE5HX1BJUEVfREVGIGFzIMm1TkdfUElQRV9ERUYsIE5HX1BST1ZfREVGIGFzIMm1TkdfUFJPVl9ERUYsIE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgYXMgybVOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBOT19DSEFOR0UgYXMgybVOT19DSEFOR0UsIE5nTW9kdWxlRmFjdG9yeSBhcyDJtU5nTW9kdWxlRmFjdG9yeSwgTm9vcE5nWm9uZSBhcyDJtU5vb3BOZ1pvbmUsIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgYXMgybVSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLCBDb21wb25lbnRGYWN0b3J5IGFzIMm1UmVuZGVyM0NvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudFJlZiBhcyDJtVJlbmRlcjNDb21wb25lbnRSZWYsIE5nTW9kdWxlUmVmIGFzIMm1UmVuZGVyM05nTW9kdWxlUmVmLCBSdW50aW1lRXJyb3IgYXMgybVSdW50aW1lRXJyb3IsIFZpZXdSZWYkMSBhcyDJtVZpZXdSZWYsIF9zYW5pdGl6ZUh0bWwgYXMgybVfc2FuaXRpemVIdG1sLCBfc2FuaXRpemVVcmwgYXMgybVfc2FuaXRpemVVcmwsIGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3cgYXMgybVhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93LCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsLCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0LCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlIGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSwgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCwgY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSBhcyDJtWNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUsIGNvbXBpbGVDb21wb25lbnQgYXMgybVjb21waWxlQ29tcG9uZW50LCBjb21waWxlRGlyZWN0aXZlIGFzIMm1Y29tcGlsZURpcmVjdGl2ZSwgY29tcGlsZU5nTW9kdWxlIGFzIMm1Y29tcGlsZU5nTW9kdWxlLCBjb21waWxlTmdNb2R1bGVEZWZzIGFzIMm1Y29tcGlsZU5nTW9kdWxlRGVmcywgY29tcGlsZU5nTW9kdWxlRmFjdG9yeSBhcyDJtWNvbXBpbGVOZ01vZHVsZUZhY3RvcnksIGNvbXBpbGVQaXBlIGFzIMm1Y29tcGlsZVBpcGUsIGNyZWF0ZUluamVjdG9yIGFzIMm1Y3JlYXRlSW5qZWN0b3IsIGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgYXMgybVkZWZhdWx0SXRlcmFibGVEaWZmZXJzLCBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIGFzIMm1ZGVmYXVsdEtleVZhbHVlRGlmZmVycywgZGV0ZWN0Q2hhbmdlcyBhcyDJtWRldGVjdENoYW5nZXMsIGRldk1vZGVFcXVhbCBhcyDJtWRldk1vZGVFcXVhbCwgZmluZExvY2FsZURhdGEgYXMgybVmaW5kTG9jYWxlRGF0YSwgZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlIGFzIMm1Zmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlLCBnZXREZWJ1Z05vZGUgYXMgybVnZXREZWJ1Z05vZGUsIGdldERlYnVnTm9kZVIyIGFzIMm1Z2V0RGVidWdOb2RlUjIsIGdldERpcmVjdGl2ZXMgYXMgybVnZXREaXJlY3RpdmVzLCBnZXRIb3N0RWxlbWVudCBhcyDJtWdldEhvc3RFbGVtZW50LCBnZXRJbmplY3RhYmxlRGVmIGFzIMm1Z2V0SW5qZWN0YWJsZURlZiwgZ2V0TENvbnRleHQgYXMgybVnZXRMQ29udGV4dCwgZ2V0TG9jYWxlQ3VycmVuY3lDb2RlIGFzIMm1Z2V0TG9jYWxlQ3VycmVuY3lDb2RlLCBnZXRMb2NhbGVQbHVyYWxDYXNlIGFzIMm1Z2V0TG9jYWxlUGx1cmFsQ2FzZSwgZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSBhcyDJtWdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUsIF9nbG9iYWwgYXMgybVnbG9iYWwsIGluamVjdENoYW5nZURldGVjdG9yUmVmIGFzIMm1aW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYsIGlzQm91bmRUb01vZHVsZSBhcyDJtWlzQm91bmRUb01vZHVsZSwgaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgYXMgybVpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgaXNMaXN0TGlrZUl0ZXJhYmxlIGFzIMm1aXNMaXN0TGlrZUl0ZXJhYmxlLCBpc09ic2VydmFibGUgYXMgybVpc09ic2VydmFibGUsIGlzUHJvbWlzZSBhcyDJtWlzUHJvbWlzZSwgaXNTdWJzY3JpYmFibGUgYXMgybVpc1N1YnNjcmliYWJsZSwgybVpdnlFbmFibGVkLCBtYWtlRGVjb3JhdG9yIGFzIMm1bWFrZURlY29yYXRvciwgbWFya0RpcnR5IGFzIMm1bWFya0RpcnR5LCBub1NpZGVFZmZlY3RzIGFzIMm1bm9TaWRlRWZmZWN0cywgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUgYXMgybVwYXRjaENvbXBvbmVudERlZldpdGhTY29wZSwgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxIGFzIMm1cHVibGlzaERlZmF1bHRHbG9iYWxVdGlscywgcHVibGlzaEdsb2JhbFV0aWwgYXMgybVwdWJsaXNoR2xvYmFsVXRpbCwgcmVnaXN0ZXJMb2NhbGVEYXRhIGFzIMm1cmVnaXN0ZXJMb2NhbGVEYXRhLCByZWdpc3Rlck5nTW9kdWxlVHlwZSBhcyDJtXJlZ2lzdGVyTmdNb2R1bGVUeXBlLCByZW5kZXJDb21wb25lbnQgYXMgybVyZW5kZXJDb21wb25lbnQsIHJlc2V0Q29tcGlsZWRDb21wb25lbnRzIGFzIMm1cmVzZXRDb21waWxlZENvbXBvbmVudHMsIHJlc2V0Sml0T3B0aW9ucyBhcyDJtXJlc2V0Sml0T3B0aW9ucywgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyBhcyDJtXJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMsIHNldENsYXNzTWV0YWRhdGEgYXMgybVzZXRDbGFzc01ldGFkYXRhLCBzZXRDdXJyZW50SW5qZWN0b3IgYXMgybVzZXRDdXJyZW50SW5qZWN0b3IsIHNldERvY3VtZW50IGFzIMm1c2V0RG9jdW1lbnQsIHNldExvY2FsZUlkIGFzIMm1c2V0TG9jYWxlSWQsIHN0b3JlIGFzIMm1c3RvcmUsIHN0cmluZ2lmeSBhcyDJtXN0cmluZ2lmeSwgdHJhbnNpdGl2ZVNjb3Blc0ZvciBhcyDJtXRyYW5zaXRpdmVTY29wZXNGb3IsIHVucmVnaXN0ZXJBbGxMb2NhbGVEYXRhIGFzIMm1dW5yZWdpc3RlckxvY2FsZURhdGEsIHVud3JhcFNhZmVWYWx1ZSBhcyDJtXVud3JhcFNhZmVWYWx1ZSwgd2hlblJlbmRlcmVkIGFzIMm1d2hlblJlbmRlcmVkLCDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlLCBGYWN0b3J5VGFyZ2V0IGFzIMm1ybVGYWN0b3J5VGFyZ2V0LCDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlLCDJtcm1TmdPbkNoYW5nZXNGZWF0dXJlLCDJtcm1UHJvdmlkZXJzRmVhdHVyZSwgybXJtWFkdmFuY2UsIMm1ybVhdHRyaWJ1dGUsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYsIMm1ybVjbGFzc01hcCwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIsIMm1ybVjbGFzc01hcEludGVycG9sYXRlMywgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUsIMm1ybVjbGFzc01hcEludGVycG9sYXRlNiwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgsIMm1ybVjbGFzc01hcEludGVycG9sYXRlViwgybXJtWNsYXNzUHJvcCwgybXJtWNvbnRlbnRRdWVyeSwgybXJtWRlZmluZUNvbXBvbmVudCwgybXJtWRlZmluZURpcmVjdGl2ZSwgybXJtWRlZmluZUluamVjdGFibGUsIMm1ybVkZWZpbmVJbmplY3RvciwgybXJtWRlZmluZU5nTW9kdWxlLCDJtcm1ZGVmaW5lUGlwZSwgybXJtWRpcmVjdGl2ZUluamVjdCwgybXJtWRpc2FibGVCaW5kaW5ncywgybXJtWVsZW1lbnQsIMm1ybVlbGVtZW50Q29udGFpbmVyLCDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCwgybXJtWVsZW1lbnRDb250YWluZXJTdGFydCwgybXJtWVsZW1lbnRFbmQsIMm1ybVlbGVtZW50U3RhcnQsIMm1ybVlbmFibGVCaW5kaW5ncywgybXJtWdldEN1cnJlbnRWaWV3LCDJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSwgybXJtWhvc3RQcm9wZXJ0eSwgybXJtWkxOG4sIMm1ybVpMThuQXBwbHksIMm1ybVpMThuQXR0cmlidXRlcywgybXJtWkxOG5FbmQsIMm1ybVpMThuRXhwLCDJtcm1aTE4blBvc3Rwcm9jZXNzLCDJtcm1aTE4blN0YXJ0LCDJtcm1aW5qZWN0LCDJtcm1aW5qZWN0QXR0cmlidXRlLCDJtcm1aW52YWxpZEZhY3RvcnksIMm1ybVpbnZhbGlkRmFjdG9yeURlcCwgybXJtWxpc3RlbmVyLCDJtcm1bG9hZFF1ZXJ5LCDJtcm1bmFtZXNwYWNlSFRNTCwgybXJtW5hbWVzcGFjZU1hdGhNTCwgybXJtW5hbWVzcGFjZVNWRywgybXJtW5leHRDb250ZXh0LCDJtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSwgybXJtW5nRGVjbGFyZUNvbXBvbmVudCwgybXJtW5nRGVjbGFyZURpcmVjdGl2ZSwgybXJtW5nRGVjbGFyZUZhY3RvcnksIMm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlLCDJtcm1bmdEZWNsYXJlSW5qZWN0b3IsIMm1ybVuZ0RlY2xhcmVOZ01vZHVsZSwgybXJtW5nRGVjbGFyZVBpcGUsIMm1ybVwaXBlLCDJtcm1cGlwZUJpbmQxLCDJtcm1cGlwZUJpbmQyLCDJtcm1cGlwZUJpbmQzLCDJtcm1cGlwZUJpbmQ0LCDJtcm1cGlwZUJpbmRWLCDJtcm1cHJvamVjdGlvbiwgybXJtXByb2plY3Rpb25EZWYsIMm1ybVwcm9wZXJ0eSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyLCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNCwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNywgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYsIMm1ybVwdXJlRnVuY3Rpb24wLCDJtcm1cHVyZUZ1bmN0aW9uMSwgybXJtXB1cmVGdW5jdGlvbjIsIMm1ybVwdXJlRnVuY3Rpb24zLCDJtcm1cHVyZUZ1bmN0aW9uNCwgybXJtXB1cmVGdW5jdGlvbjUsIMm1ybVwdXJlRnVuY3Rpb242LCDJtcm1cHVyZUZ1bmN0aW9uNywgybXJtXB1cmVGdW5jdGlvbjgsIMm1ybVwdXJlRnVuY3Rpb25WLCDJtcm1cXVlcnlSZWZyZXNoLCDJtcm1cmVmZXJlbmNlLCDJtcm1cmVzb2x2ZUJvZHksIMm1ybVyZXNvbHZlRG9jdW1lbnQsIMm1ybVyZXNvbHZlV2luZG93LCDJtcm1cmVzdG9yZVZpZXcsIMm1ybVzYW5pdGl6ZUh0bWwsIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsLCDJtcm1c2FuaXRpemVTY3JpcHQsIMm1ybVzYW5pdGl6ZVN0eWxlLCDJtcm1c2FuaXRpemVVcmwsIMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwsIMm1ybVzZXRDb21wb25lbnRTY29wZSwgybXJtXNldE5nTW9kdWxlU2NvcGUsIMm1ybVzdHlsZU1hcCwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMywgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNiwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlViwgybXJtXN0eWxlUHJvcCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMiwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMywgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNiwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNywgybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlViwgybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lciwgybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSwgybXJtXRlbXBsYXRlLCDJtcm1dGVtcGxhdGVSZWZFeHRyYWN0b3IsIMm1ybV0ZXh0LCDJtcm1dGV4dEludGVycG9sYXRlLCDJtcm1dGV4dEludGVycG9sYXRlMSwgybXJtXRleHRJbnRlcnBvbGF0ZTIsIMm1ybV0ZXh0SW50ZXJwb2xhdGUzLCDJtcm1dGV4dEludGVycG9sYXRlNCwgybXJtXRleHRJbnRlcnBvbGF0ZTUsIMm1ybV0ZXh0SW50ZXJwb2xhdGU2LCDJtcm1dGV4dEludGVycG9sYXRlNywgybXJtXRleHRJbnRlcnBvbGF0ZTgsIMm1ybV0ZXh0SW50ZXJwb2xhdGVWLCDJtcm1dHJ1c3RDb25zdGFudEh0bWwsIMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwsIMm1ybV2aWV3UXVlcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUubWpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgeyBTaWduYWxpbmdTZXJ2ZXIgfSBmcm9tIFwiLi9zaWduYWxpbmdTZXJ2ZXJcIjtcbmV4cG9ydCB7IFdlYlJ0Y1Byb3ZpZGVyIH0gZnJvbSBcIi4vd2ViUnRjLnByb3ZpZGVyXCI7XG5leHBvcnQgeyBQcm9vZm1lVXRpbHNQcm92aWRlciB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHMucHJvdmlkZXJcIjtcbmV4cG9ydCB7IFByb29mbWVVdGlscyB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHNcIjtcbmV4cG9ydCB7IFNpZ25hbFNlcnZlclYyIH0gZnJvbSBcIi4vc2lnbmFsU2VydmVyL3NpZ25hbFNlcnZlclYyXCI7XG5leHBvcnQgeyBnZXRTdWJEb21haW4gfSBmcm9tIFwiLi91dGlscy9nbG9iYWwvdjFVdGlsc1wiO1xuZXhwb3J0IHsgSVJUQ0Nvbm5lY3Rpb25Db25maWcgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3J0Y0Nvbm5lY3Rpb25Db25maWcuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ29ubmVjdGlvbkRldGFpbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2Nvbm5lY3Rpb25EZXRhaWxzXCI7XG5leHBvcnQgeyBJV2ViUlRDQ29uZmlnIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy93ZWJSdGNDb25maWcuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBFTWltZVR5cGUgfSBmcm9tIFwiLi9lbnVtcy9taW1lVHlwZXMuZW51bVwiO1xuZXhwb3J0IHsgRVNpZ25hdHVyZVR5cGVzIH0gZnJvbSBcIi4vZW51bXMvc2lnbmF0dXJlVHlwZXMuZW51bVwiO1xuZXhwb3J0IHsgRUNsYWltVHlwZSB9IGZyb20gXCIuL2VudW1zL2NsYWltVHlwZXMuZW51bVwiO1xuZXhwb3J0IHsgSVNpZ25lZENvbnRlbnQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NsYWltcy9zaWduZWRDb250ZW50LmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVByb29mIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wcm9vZi5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElDaGVja2VkRGlkIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9jaGVja2VkRGlkLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxLZXkgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxLZXkuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3ZhbGlkYXRlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNyZWRlbnRpYWxPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWxzT2JqZWN0LmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNyZWRlbnRpYWxLZXlPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWxLZXlPYmplY3QuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHRcIjtcbmV4cG9ydCB7IEVQcm9vZm1lRGF0YVB1cnBvc2UgfSBmcm9tIFwiLi9lbnVtcy9wcm9vZm1lRGF0YVB1cnBvc2VcIjtcbmV4cG9ydCB7IEVQcm9vZm1lRGF0YVN0b3JhZ2UgfSBmcm9tIFwiLi9lbnVtcy9wcm9vZm1lRGF0YVN0b3JhZ2VcIjtcbmV4cG9ydCB7IEVQcm9vZlR5cGUgfSBmcm9tIFwiLi9lbnVtcy9wcm9vZlR5cGUuZW51bVwiO1xuZXhwb3J0IHsgRVdlYnNvY2tldFJlYWR5U3RhdGUgfSBmcm9tIFwiLi9lbnVtcy93ZWJzb2NrZXRSZWFkeVN0YXRlLmVudW1cIjtcbmV4cG9ydCB7IGNoZWNrS2V5Rm9yRGlkIH0gZnJvbSBcIi4vdXRpbHMvc21hcnRDb250cmFjdHMvc21hcnRDb250cmFjdFV0aWxzXCJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJnbG9iYWwiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwidGhpcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIkFzeW5jU3ViamVjdCIsIl9zdXBlciIsIl90aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdmFsdWUiLCJfaGFzVmFsdWUiLCJfaXNDb21wbGV0ZSIsIl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzIiwic3Vic2NyaWJlciIsIl9hIiwiaGFzRXJyb3IiLCJ0aHJvd25FcnJvciIsImlzU3RvcHBlZCIsImVycm9yIiwibmV4dCIsImNvbXBsZXRlIiwiU3ViamVjdCIsIkJlaGF2aW9yU3ViamVjdCIsImdldCIsImdldFZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9zdWJzY3JpYmUiLCJzdWJzY3JpcHRpb24iLCJjbG9zZWQiLCJfdGhyb3dJZkNsb3NlZCIsIm9ic2VydmVOb3RpZmljYXRpb24iLCJOb3RpZmljYXRpb24iLCJOb3RpZmljYXRpb25LaW5kIiwiZW1wdHlfMSIsIm9mXzEiLCJ0aHJvd0Vycm9yXzEiLCJpc0Z1bmN0aW9uXzEiLCJraW5kIiwiaGFzVmFsdWUiLCJvYnNlcnZlIiwib2JzZXJ2ZXIiLCJkbyIsIm5leHRIYW5kbGVyIiwiZXJyb3JIYW5kbGVyIiwiY29tcGxldGVIYW5kbGVyIiwiYWNjZXB0IiwibmV4dE9yT2JzZXJ2ZXIiLCJpc0Z1bmN0aW9uIiwidG9PYnNlcnZhYmxlIiwicmVzdWx0Iiwib2YiLCJ0aHJvd0Vycm9yIiwiRU1QVFkiLCJjcmVhdGVOZXh0IiwiY3JlYXRlRXJyb3IiLCJlcnIiLCJ1bmRlZmluZWQiLCJjcmVhdGVDb21wbGV0ZSIsImNvbXBsZXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiX2IiLCJfYyIsIl9kIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsImVycm9yTm90aWZpY2F0aW9uIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwiT2JzZXJ2YWJsZSIsIlN1YnNjcmliZXJfMSIsIlN1YnNjcmlwdGlvbl8xIiwib2JzZXJ2YWJsZV8xIiwicGlwZV8xIiwiY29uZmlnXzEiLCJlcnJvckNvbnRleHRfMSIsInN1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsIm9ic2VydmFibGUiLCJzb3VyY2UiLCJvYnNlcnZlck9yTmV4dCIsIlN1YnNjcmliZXIiLCJpc09ic2VydmVyIiwiaXNTdWJzY3JpcHRpb24iLCJTYWZlU3Vic2NyaWJlciIsImVycm9yQ29udGV4dCIsImFkZCIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwidW5zdWJzY3JpYmUiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwibGVuZ3RoIiwicGlwZUZyb21BcnJheSIsInRvUHJvbWlzZSIsIngiLCJjb25maWciLCJQcm9taXNlIiwiUmVwbGF5U3ViamVjdCIsIlN1YmplY3RfMSIsImRhdGVUaW1lc3RhbXBQcm92aWRlcl8xIiwiX2J1ZmZlclNpemUiLCJfd2luZG93VGltZSIsIl90aW1lc3RhbXBQcm92aWRlciIsIkluZmluaXR5IiwiZGF0ZVRpbWVzdGFtcFByb3ZpZGVyIiwiX2J1ZmZlciIsIl9pbmZpbml0ZVRpbWVXaW5kb3ciLCJNYXRoIiwibWF4IiwicHVzaCIsIm5vdyIsIl90cmltQnVmZmVyIiwiX2lubmVyU3Vic2NyaWJlIiwiY29weSIsInNsaWNlIiwiaSIsImFkanVzdGVkQnVmZmVyU2l6ZSIsInNwbGljZSIsImxhc3QiLCJTY2hlZHVsZXIiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwic2NoZWR1bGUiLCJ3b3JrIiwiZGVsYXkiLCJzdGF0ZSIsIl9fdmFsdWVzIiwibyIsInMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm0iLCJkb25lIiwiQW5vbnltb3VzU3ViamVjdCIsIk9ic2VydmFibGVfMSIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEiLCJhcnJSZW1vdmVfMSIsIm9ic2VydmVycyIsInN1YmplY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsImVfMSIsImNvcHlfMSIsImNvcHlfMV8xIiwiZV8xXzEiLCJyZXR1cm4iLCJzaGlmdCIsIkVNUFRZX1NVQlNDUklQVElPTiIsIlN1YnNjcmlwdGlvbiIsImFyclJlbW92ZSIsImFzT2JzZXJ2YWJsZSIsImRlc3RpbmF0aW9uIiwiRU1QVFlfT0JTRVJWRVIiLCJyZXBvcnRVbmhhbmRsZWRFcnJvcl8xIiwibm9vcF8xIiwiTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEiLCJ0aW1lb3V0UHJvdmlkZXJfMSIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJiaW5kIiwiZm4iLCJ0aGlzQXJnIiwiQ29uc3VtZXJPYnNlcnZlciIsInBhcnRpYWxPYnNlcnZlciIsImhhbmRsZVVuaGFuZGxlZEVycm9yIiwiY29udGV4dF8xIiwidXNlRGVwcmVjYXRlZE5leHRDb250ZXh0IiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsImNhcHR1cmVFcnJvciIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwidGltZW91dFByb3ZpZGVyIiwic2V0VGltZW91dCIsIm5vb3AiLCJfX3JlYWQiLCJuIiwiciIsImUiLCJhciIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJpbCIsImoiLCJVbnN1YnNjcmlwdGlvbkVycm9yXzEiLCJpbml0aWFsVGVhcmRvd24iLCJfcGFyZW50YWdlIiwiX3RlYXJkb3ducyIsImVtcHR5IiwiZV8yIiwiZXJyb3JzIiwiaXNBcnJheSIsIl9wYXJlbnRhZ2VfMSIsIl9wYXJlbnRhZ2VfMV8xIiwicmVtb3ZlIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIl90ZWFyZG93bnNfMSIsIl90ZWFyZG93bnNfMV8xIiwidGVhcmRvd25fMSIsImV4ZWNUZWFyZG93biIsImVfMl8xIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIm9uVW5oYW5kbGVkRXJyb3IiLCJDb25uZWN0YWJsZU9ic2VydmFibGUiLCJyZWZDb3VudF8xIiwiT3BlcmF0b3JTdWJzY3JpYmVyXzEiLCJsaWZ0XzEiLCJzdWJqZWN0RmFjdG9yeSIsIl9zdWJqZWN0IiwiX3JlZkNvdW50IiwiX2Nvbm5lY3Rpb24iLCJoYXNMaWZ0IiwiZ2V0U3ViamVjdCIsIl90ZWFyZG93biIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwic3ViamVjdF8xIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwicmVmQ291bnQiLCJjb21iaW5lTGF0ZXN0SW5pdCIsImNvbWJpbmVMYXRlc3QiLCJhcmdzQXJnQXJyYXlPck9iamVjdF8xIiwiZnJvbV8xIiwiaWRlbnRpdHlfMSIsIm1hcE9uZU9yTWFueUFyZ3NfMSIsImFyZ3NfMSIsImNyZWF0ZU9iamVjdF8xIiwiZXhlY3V0ZVNjaGVkdWxlXzEiLCJvYnNlcnZhYmxlcyIsInNjaGVkdWxlciIsInZhbHVlVHJhbnNmb3JtIiwiaWRlbnRpdHkiLCJtYXliZVNjaGVkdWxlIiwidmFsdWVzIiwiYWN0aXZlIiwicmVtYWluaW5nRmlyc3RWYWx1ZXMiLCJfbG9vcF8xIiwiaGFzRmlyc3RWYWx1ZSIsImV4ZWN1dGUiLCJleGVjdXRlU2NoZWR1bGUiLCJhcmdzIiwicG9wU2NoZWR1bGVyIiwicmVzdWx0U2VsZWN0b3IiLCJwb3BSZXN1bHRTZWxlY3RvciIsImFyZ3NBcmdBcnJheU9yT2JqZWN0Iiwia2V5cyIsImNyZWF0ZU9iamVjdCIsIm1hcE9uZU9yTWFueUFyZ3MiLCJjb25jYXQiLCJjb25jYXRBbGxfMSIsImNvbmNhdEFsbCIsImVtcHR5U2NoZWR1bGVkIiwic2NoZWR1bGVkXzEiLCJpbm5lckZyb21fMSIsImlucHV0Iiwic2NoZWR1bGVkIiwiaW5uZXJGcm9tIiwiZnJvbVN1YnNjcmliYWJsZSIsInN1YnNjcmliYWJsZSIsIl9fYXdhaXRlciIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJ2Iiwib3AiLCJwb3AiLCJfX2FzeW5jVmFsdWVzIiwiYXN5bmNJdGVyYXRvciIsInNldHRsZSIsImZyb21SZWFkYWJsZVN0cmVhbUxpa2UiLCJmcm9tQXN5bmNJdGVyYWJsZSIsImZyb21JdGVyYWJsZSIsImZyb21Qcm9taXNlIiwiZnJvbUFycmF5TGlrZSIsImZyb21JbnRlcm9wT2JzZXJ2YWJsZSIsImlzQXJyYXlMaWtlXzEiLCJpc1Byb21pc2VfMSIsImlzSW50ZXJvcE9ic2VydmFibGVfMSIsImlzQXN5bmNJdGVyYWJsZV8xIiwidGhyb3dVbm9ic2VydmFibGVFcnJvcl8xIiwiaXNJdGVyYWJsZV8xIiwiaXNSZWFkYWJsZVN0cmVhbUxpa2VfMSIsIm9iaiIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsIml0ZXJhYmxlIiwiaXRlcmFibGVfMSIsIml0ZXJhYmxlXzFfMSIsImFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlXzEiLCJhc3luY0l0ZXJhYmxlXzFfMSIsInByb2Nlc3MiLCJjYXRjaCIsInJlYWRhYmxlU3RyZWFtIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsImlzQXN5bmNJdGVyYWJsZSIsImlzSXRlcmFibGUiLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaW50ZXJ2YWwiLCJhc3luY18xIiwidGltZXJfMSIsInBlcmlvZCIsImFzeW5jU2NoZWR1bGVyIiwidGltZXIiLCJyYWNlSW5pdCIsInJhY2UiLCJhcmdzT3JBcmdBcnJheV8xIiwic291cmNlcyIsInN1YnNjcmlwdGlvbnMiLCJhcmdzT3JBcmdBcnJheSIsImVycm9yT3JFcnJvckZhY3RvcnkiLCJlcnJvckZhY3RvcnkiLCJpbml0IiwiaXNTY2hlZHVsZXJfMSIsImlzRGF0ZV8xIiwiZHVlVGltZSIsImludGVydmFsT3JTY2hlZHVsZXIiLCJhc3luYyIsImludGVydmFsRHVyYXRpb24iLCJpc1NjaGVkdWxlciIsImR1ZSIsImlzVmFsaWREYXRlIiwiemlwIiwiYnVmZmVycyIsIm1hcCIsImNvbXBsZXRlZCIsInNvdXJjZUluZGV4IiwiZXZlcnkiLCJidWZmZXIiLCJzb21lIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsImF1ZGl0IiwiZHVyYXRpb25TZWxlY3RvciIsIm9wZXJhdGUiLCJsYXN0VmFsdWUiLCJkdXJhdGlvblN1YnNjcmliZXIiLCJpc0NvbXBsZXRlIiwiZW5kRHVyYXRpb24iLCJjbGVhbnVwRHVyYXRpb24iLCJhdWRpdFRpbWUiLCJhdWRpdF8xIiwiZHVyYXRpb24iLCJjbG9zaW5nTm90aWZpZXIiLCJjdXJyZW50QnVmZmVyIiwiYnVmZmVyQ291bnQiLCJidWZmZXJTaXplIiwic3RhcnRCdWZmZXJFdmVyeSIsImNvdW50IiwidG9FbWl0IiwiYnVmZmVyc18xIiwiYnVmZmVyc18xXzEiLCJ0b0VtaXRfMSIsInRvRW1pdF8xXzEiLCJlXzMiLCJidWZmZXJzXzIiLCJidWZmZXJzXzJfMSIsImVfM18xIiwiYnVmZmVyVGltZSIsImJ1ZmZlclRpbWVTcGFuIiwib3RoZXJBcmdzIiwiYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCIsIm1heEJ1ZmZlclNpemUiLCJidWZmZXJSZWNvcmRzIiwicmVzdGFydE9uRW1pdCIsImVtaXQiLCJyZWNvcmQiLCJzdWJzIiwic3RhcnRCdWZmZXIiLCJyZWNvcmRfMSIsImJ1ZmZlclRpbWVTdWJzY3JpYmVyIiwicmVjb3Jkc0NvcHkiLCJyZWNvcmRzQ29weV8xIiwicmVjb3Jkc0NvcHlfMV8xIiwiYnVmZmVyVG9nZ2xlIiwib3BlbmluZ3MiLCJjbG9zaW5nU2VsZWN0b3IiLCJvcGVuVmFsdWUiLCJjbG9zaW5nU3Vic2NyaXB0aW9uIiwiYnVmZmVyV2hlbiIsImNsb3NpbmdTdWJzY3JpYmVyIiwib3BlbkJ1ZmZlciIsImNhdGNoRXJyb3IiLCJzZWxlY3RvciIsImhhbmRsZWRSZXN1bHQiLCJpbm5lclN1YiIsInN5bmNVbnN1YiIsImNvbWJpbmVBbGwiLCJjb21iaW5lTGF0ZXN0QWxsXzEiLCJjb21iaW5lTGF0ZXN0QWxsIiwiY29tYmluZUxhdGVzdF8xIiwiam9pbkFsbEludGVybmFsc18xIiwicHJvamVjdCIsImpvaW5BbGxJbnRlcm5hbHMiLCJjb21iaW5lTGF0ZXN0V2l0aCIsIm90aGVyU291cmNlcyIsIm1lcmdlQWxsXzEiLCJtZXJnZUFsbCIsImNvbmNhdE1hcCIsIm1lcmdlTWFwXzEiLCJtZXJnZU1hcCIsImNvbmNhdE1hcFRvIiwiY29uY2F0TWFwXzEiLCJpbm5lck9ic2VydmFibGUiLCJjb25jYXRXaXRoIiwiY29uY2F0XzEiLCJmcm9tU3Vic2NyaWJhYmxlXzEiLCJERUZBVUxUX0NPTkZJRyIsImNvbm5lY3RvciIsInJlZHVjZV8xIiwicHJlZGljYXRlIiwicmVkdWNlIiwidG90YWwiLCJkZWJvdW5jZSIsImRlYm91bmNlVGltZSIsImFjdGl2ZVRhc2siLCJsYXN0VGltZSIsImVtaXRXaGVuSWRsZSIsInRhcmdldFRpbWUiLCJkZWZhdWx0SWZFbXB0eSIsImRlZmF1bHRWYWx1ZSIsImRlbGF5V2hlbl8xIiwiZGVsYXlXaGVuIiwidGFrZV8xIiwiaWdub3JlRWxlbWVudHNfMSIsIm1hcFRvXzEiLCJkZWxheUR1cmF0aW9uU2VsZWN0b3IiLCJzdWJzY3JpcHRpb25EZWxheSIsInRha2UiLCJpZ25vcmVFbGVtZW50cyIsImluZGV4IiwibWFwVG8iLCJkZW1hdGVyaWFsaXplIiwiTm90aWZpY2F0aW9uXzEiLCJkaXN0aW5jdCIsImtleVNlbGVjdG9yIiwiZmx1c2hlcyIsImRpc3RpbmN0S2V5cyIsIlNldCIsImtleSIsImhhcyIsImNsZWFyIiwiZGlzdGluY3RVbnRpbENoYW5nZWQiLCJkZWZhdWx0Q29tcGFyZSIsImEiLCJjb21wYXJhdG9yIiwicHJldmlvdXNLZXkiLCJmaXJzdCIsImN1cnJlbnRLZXkiLCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkXzEiLCJjb21wYXJlIiwiZWxlbWVudEF0IiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JfMSIsImZpbHRlcl8xIiwidGhyb3dJZkVtcHR5XzEiLCJkZWZhdWx0SWZFbXB0eV8xIiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IiLCJoYXNEZWZhdWx0VmFsdWUiLCJmaWx0ZXIiLCJ0aHJvd0lmRW1wdHkiLCJlbmRXaXRoIiwiZXhoYXVzdCIsImV4aGF1c3RBbGxfMSIsImV4aGF1c3RBbGwiLCJpbm5lciIsImV4aGF1c3RNYXAiLCJtYXBfMSIsImlpIiwib3V0ZXJWYWx1ZSIsImV4cGFuZCIsIm1lcmdlSW50ZXJuYWxzXzEiLCJjb25jdXJyZW50IiwibWVyZ2VJbnRlcm5hbHMiLCJmaW5hbGl6ZSIsImNhbGxiYWNrIiwiY3JlYXRlRmluZCIsImZpbmQiLCJmaW5kSW5kZXgiLCJmaW5kXzEiLCJFbXB0eUVycm9yXzEiLCJFbXB0eUVycm9yIiwiZmxhdE1hcCIsImdyb3VwQnkiLCJlbGVtZW50T3JPcHRpb25zIiwiZWxlbWVudCIsImdyb3VwcyIsIk1hcCIsIm5vdGlmeSIsImNiIiwiaGFuZGxlRXJyb3IiLCJjb25zdW1lciIsImFjdGl2ZUdyb3VwcyIsInRlYXJkb3duQXR0ZW1wdGVkIiwiZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIiLCJrZXlfMSIsImdyb3VwXzEiLCJzZXQiLCJncm91cGVkIiwiZ3JvdXBTdWJqZWN0IiwiZ3JvdXBTdWJzY3JpYmVyIiwiZHVyYXRpb25TdWJzY3JpYmVyXzEiLCJkZWxldGUiLCJpc0VtcHR5IiwidG9BcnJheV8xIiwiam9pbkZuIiwidG9BcnJheSIsInRha2VMYXN0XzEiLCJ0YWtlTGFzdCIsIm1hdGVyaWFsaXplIiwiY29tcGFyZXIiLCJtZXJnZSIsInBvcE51bWJlciIsIm9uQmVmb3JlTmV4dCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbFRlYXJkb3duIiwiY2hlY2tDb21wbGV0ZSIsIm91dGVyTmV4dCIsImRvSW5uZXJTdWIiLCJpbm5lckNvbXBsZXRlIiwiaW5uZXJWYWx1ZSIsImJ1ZmZlcmVkVmFsdWUiLCJtZXJnZU1hcFRvIiwibWVyZ2VTY2FuIiwiYWNjdW11bGF0b3IiLCJzZWVkIiwibWVyZ2VXaXRoIiwibWVyZ2VfMSIsIm1pbiIsIm11bHRpY2FzdCIsIkNvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xIiwiY29ubmVjdF8xIiwic3ViamVjdE9yU3ViamVjdEZhY3RvcnkiLCJvYnNlcnZlT24iLCJvbkVycm9yUmVzdW1lTmV4dCIsIm5leHRTb3VyY2VzIiwicmVtYWluaW5nIiwic3Vic2NyaWJlTmV4dCIsIm5leHRTb3VyY2UiLCJwYWlyd2lzZSIsInByZXYiLCJoYXNQcmV2IiwicGFydGl0aW9uIiwibm90XzEiLCJub3QiLCJwbHVjayIsInByb3BlcnRpZXMiLCJFcnJvciIsImN1cnJlbnRQcm9wIiwicHVibGlzaCIsIm11bHRpY2FzdF8xIiwicHVibGlzaEJlaGF2aW9yIiwiQmVoYXZpb3JTdWJqZWN0XzEiLCJpbml0aWFsVmFsdWUiLCJwdWJsaXNoTGFzdCIsIkFzeW5jU3ViamVjdF8xIiwicHVibGlzaFJlcGxheSIsIlJlcGxheVN1YmplY3RfMSIsIndpbmRvd1RpbWUiLCJzZWxlY3Rvck9yU2NoZWR1bGVyIiwidGltZXN0YW1wUHJvdmlkZXIiLCJyYWNlV2l0aF8xIiwicmFjZVdpdGgiLCJyYWNlXzEiLCJzY2FuSW50ZXJuYWxzXzEiLCJzY2FuSW50ZXJuYWxzIiwicmVmQ291bnRlciIsInNoYXJlZENvbm5lY3Rpb24iLCJjb25uIiwicmVwZWF0IiwiY291bnRPckNvbmZpZyIsInNvdXJjZVN1YiIsInNvRmFyIiwicmVzdWJzY3JpYmUiLCJub3RpZmllciIsIm5vdGlmaWVyU3Vic2NyaWJlcl8xIiwic3Vic2NyaWJlVG9Tb3VyY2UiLCJyZXBlYXRXaGVuIiwiY29tcGxldGlvbnMkIiwic3luY1Jlc3ViIiwiaXNOb3RpZmllckNvbXBsZXRlIiwiaXNNYWluQ29tcGxldGUiLCJzdWJzY3JpYmVGb3JSZXBlYXRXaGVuIiwicmV0cnkiLCJjb25maWdPckNvdW50IiwicmVzZXRPblN1Y2Nlc3MiLCJzdWJzY3JpYmVGb3JSZXRyeSIsInJlc3ViXzEiLCJyZXRyeVdoZW4iLCJlcnJvcnMkIiwic3Vic2NyaWJlRm9yUmV0cnlXaGVuIiwic2FtcGxlIiwic2FtcGxlVGltZSIsInNhbXBsZV8xIiwiaW50ZXJ2YWxfMSIsInNjYW4iLCJoYXNTZWVkIiwiZW1pdE9uTmV4dCIsImVtaXRCZWZvcmVDb21wbGV0ZSIsImhhc1N0YXRlIiwic2VxdWVuY2VFcXVhbCIsImNvbXBhcmVUbyIsImFTdGF0ZSIsImJTdGF0ZSIsImlzRXF1YWwiLCJjcmVhdGVTdWJzY3JpYmVyIiwic2VsZlN0YXRlIiwib3RoZXJTdGF0ZSIsInNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyIiwic2hhcmUiLCJoYW5kbGVSZXNldCIsInJlc2V0Iiwib24iLCJvcHRpb25zIiwicmVzZXRPbkVycm9yIiwicmVzZXRPbkNvbXBsZXRlIiwicmVzZXRPblJlZkNvdW50WmVybyIsIndyYXBwZXJTb3VyY2UiLCJyZXNldENvbm5lY3Rpb24iLCJoYXNDb21wbGV0ZWQiLCJoYXNFcnJvcmVkIiwiY2FuY2VsUmVzZXQiLCJyZXNldEFuZFVuc3Vic2NyaWJlIiwiZGVzdCIsInNoYXJlUmVwbGF5Iiwic2hhcmVfMSIsImNvbmZpZ09yQnVmZmVyU2l6ZSIsInNpbmdsZSIsIlNlcXVlbmNlRXJyb3JfMSIsIk5vdEZvdW5kRXJyb3JfMSIsInNpbmdsZVZhbHVlIiwic2VlblZhbHVlIiwiU2VxdWVuY2VFcnJvciIsIk5vdEZvdW5kRXJyb3IiLCJza2lwIiwic2tpcExhc3QiLCJza2lwQ291bnQiLCJyaW5nIiwic2VlbiIsInZhbHVlSW5kZXgiLCJvbGRWYWx1ZSIsInNraXBVbnRpbCIsInRha2luZyIsInNraXBTdWJzY3JpYmVyIiwic2tpcFdoaWxlIiwic3RhcnRXaXRoIiwic3Vic2NyaWJlT24iLCJzd2l0Y2hBbGwiLCJzd2l0Y2hNYXBfMSIsInN3aXRjaE1hcCIsImlubmVyU3Vic2NyaWJlciIsImlubmVySW5kZXgiLCJvdXRlckluZGV4Iiwic3dpdGNoTWFwVG8iLCJzd2l0Y2hTY2FuIiwiYnVmZmVyXzEiLCJidWZmZXJfMV8xIiwidGFrZVVudGlsIiwidGFrZVdoaWxlIiwiaW5jbHVzaXZlIiwidGFwIiwidGFwT2JzZXJ2ZXIiLCJpc1Vuc3ViIiwidGhyb3R0bGUiLCJkZWZhdWx0VGhyb3R0bGVDb25maWciLCJsZWFkaW5nIiwidHJhaWxpbmciLCJzZW5kVmFsdWUiLCJ0aHJvdHRsZWQiLCJlbmRUaHJvdHRsaW5nIiwic2VuZCIsImNsZWFudXBUaHJvdHRsaW5nIiwic3RhcnRUaHJvdHRsZSIsInRocm90dGxlVGltZSIsInRocm90dGxlXzEiLCJkdXJhdGlvbiQiLCJkZWZhdWx0RXJyb3JGYWN0b3J5IiwiVGltZUludGVydmFsIiwidGltZUludGVydmFsIiwidGltZW91dCIsIlRpbWVvdXRFcnJvciIsImNyZWF0ZUVycm9yQ2xhc3NfMSIsInRpbWVvdXRFcnJvckZhY3RvcnkiLCJpbmZvIiwiY3JlYXRlRXJyb3JDbGFzcyIsIm1lc3NhZ2UiLCJuYW1lIiwic2NoZWR1bGVyQXJnIiwiZWFjaCIsIndpdGgiLCJfd2l0aCIsIm1ldGEiLCJvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbiIsInRpbWVyU3Vic2NyaXB0aW9uIiwic3RhcnRUaW1lciIsInRpbWVvdXRXaXRoIiwidGltZW91dF8xIiwid2l0aE9ic2VydmFibGUiLCJ0aW1lc3RhbXAiLCJhcnJSZWR1Y2VyIiwiYXJyIiwid2luZG93Iiwid2luZG93Qm91bmRhcmllcyIsIndpbmRvd1N1YmplY3QiLCJ3aW5kb3dDb3VudCIsIndpbmRvd1NpemUiLCJzdGFydFdpbmRvd0V2ZXJ5Iiwic3RhcnRFdmVyeSIsIndpbmRvd3MiLCJ3aW5kb3dzXzEiLCJ3aW5kb3dzXzFfMSIsImMiLCJ3aW5kb3dfMiIsIndpbmRvd1RpbWVTcGFuIiwid2luZG93Q3JlYXRpb25JbnRlcnZhbCIsIm1heFdpbmRvd1NpemUiLCJ3aW5kb3dSZWNvcmRzIiwicmVzdGFydE9uQ2xvc2UiLCJjbG9zZVdpbmRvdyIsInN0YXJ0V2luZG93Iiwid2luZG93XzEiLCJsb29wIiwidGVybWluYXRlIiwid2luZG93VG9nZ2xlIiwid2luZG93c0NvcHkiLCJ3aW5kb3dzQ29weV8xIiwid2luZG93c0NvcHlfMV8xIiwid2luZG93V2hlbiIsIm9wZW5XaW5kb3ciLCJ3aXRoTGF0ZXN0RnJvbSIsImlucHV0cyIsImxlbiIsIm90aGVyVmFsdWVzIiwicmVhZHkiLCJ6aXBfMSIsInppcEFsbCIsInppcFdpdGgiLCJvdGhlcklucHV0cyIsInNjaGVkdWxlQXJyYXkiLCJzY2hlZHVsZUFzeW5jSXRlcmFibGUiLCJzY2hlZHVsZUl0ZXJhYmxlIiwiaXRlcmF0b3JfMSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsIm9ic2VydmVPbl8xIiwic3Vic2NyaWJlT25fMSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlXzEiLCJzY2hlZHVsZU9ic2VydmFibGVfMSIsInNjaGVkdWxlUHJvbWlzZV8xIiwic2NoZWR1bGVBcnJheV8xIiwic2NoZWR1bGVJdGVyYWJsZV8xIiwic2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2VfMSIsIkFjdGlvbiIsIkFzeW5jQWN0aW9uIiwiQWN0aW9uXzEiLCJpbnRlcnZhbFByb3ZpZGVyXzEiLCJwZW5kaW5nIiwiaWQiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwiX2lkIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiZmx1c2giLCJfc2NoZWR1bGVyIiwiY2xlYXJJbnRlcnZhbCIsIl9leGVjdXRlIiwiX2RlbGF5IiwiZXJyb3JWYWx1ZSIsImVycm9yZWQiLCJhY3Rpb25zIiwiQXN5bmNTY2hlZHVsZXIiLCJTY2hlZHVsZXJfMSIsIlNjaGVkdWxlckFjdGlvbiIsIl9hY3RpdmUiLCJfc2NoZWR1bGVkIiwiYWN0aW9uIiwiQXN5bmNBY3Rpb25fMSIsIkFzeW5jU2NoZWR1bGVyXzEiLCJkZWxlZ2F0ZSIsIkRhdGUiLCJoYW5kbGUiLCJjbGVhclRpbWVvdXQiLCJnZXRTeW1ib2xJdGVyYXRvciIsInRvU3RyaW5nIiwiam9pbiIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG8iLCJnZXRLZXlzIiwiZmlyc3RfMSIsIml0ZW0iLCJpbmRleE9mIiwiY3JlYXRlSW1wbCIsImN0b3JGdW5jIiwiaW5zdGFuY2UiLCJzdGFjayIsImNvbnRleHQiLCJpc1Jvb3QiLCJlcnJvclRocm93biIsInBhcmVudFN1YnNjcmlwdGlvbiIsInNjaGVkdWxlU3Vic2NyaXB0aW9uIiwiaXNOYU4iLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwicmVhZCIsInJlbGVhc2VMb2NrIiwibGlmdGVkU291cmNlIiwiY2FsbE9yQXBwbHkiLCJwcmVkIiwiZm5zIiwiRUNsYWltVHlwZSIsIkVESURBY2Nlc3NMZXZlbCIsIkVNaW1lVHlwZSIsIkVQcm9vZm1lRGF0YVB1cnBvc2UiLCJFUHJvb2ZtZURhdGFTdG9yYWdlIiwiRVNpZ25hdHVyZVR5cGVzIiwiY2hhbm5lbElkIiwiY29ubmVjdGlvbnMiLCJjbGllbnQiLCJ1dWlkIiwiY2hhbm5lbCIsImhvc3QiLCJ0eXBlIiwidHVybkV4cGlyYXRpb24iLCJ0dXJuU2VjcmV0IiwidHVyblVybCIsInVzZXJuYW1lIiwiZmxvb3IiLCJpY2VDYW5kaWRhdGVQb29sU2l6ZSIsImljZVNlcnZlcnMiLCJ1cmxzIiwiY3JlZGVudGlhbCIsImNyZWF0ZUhtYWMiLCJ1cGRhdGUiLCJkaWdlc3QiLCJQcm9vZm1lVXRpbHNQcm92aWRlciIsInByb29mbWVVdGlscyIsIlByb29mbWVVdGlscyIsImNyZWRlbnRpYWxPYmplY3QiLCJ3ZWIzVXJsIiwicmVxdWVzdGVkQ3JlZGVudGlhbHMiLCJ0cnVzdGVkRGlkcyIsImNoZWNrVXNlck5vbmNlIiwibGl2ZW5lc3NDaGVja1JlcXVpcmVkIiwiaXNWYWxpZENyZWRlbnRpYWxzIiwiZ2V0U2lnbmF0dXJlIiwicHJpdmF0ZUtleSIsInNpZ25DcmVkZW50aWFsT2JqZWN0IiwiY2xhaW1ob2xkZXJBYmkiLCJpc1ZhbGlkUmVxdWVzdGVkQ3JlZGVudGlhbHMiLCJnZW5lcmF0ZUNoYWxsZW5nZSIsInB1YmxpY0tleSIsImRpZCIsIkluamVjdGFibGUiLCJ3ZWIzIiwicmVxdWVzdGVkQ2hlY2tSZXN1bHQiLCJyZXF1ZXN0ZWRDcmVkZW50aWFsc0NvcnJlY3QiLCJzdWNjZXNzIiwiY3JlZGVudGlhbHMiLCJjaGVja0NyZWRlbnRpYWxzIiwidmFsaWQiLCJ1dGlscyIsImlzQWRkcmVzcyIsImNvbnNvbGUiLCJjaGVja2VkRGlkIiwidmFsaWRDcmVkZW50aWFsc0Ftb3VudCIsImNyZWRlbnRpYWxzQW1vdW50IiwiaW52YWxpZENyZWRlbnRpYWxzIiwicHJvdmlkZXIiLCJlbnRyaWVzIiwiY3VycmVudENyZWRlbnRpYWxLZXkiLCJpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MiLCJpc3N1ZXIiLCJzcGxpdCIsImZvdW5kVmFsaWQiLCJpbnZhbGlkS2V5UHJvdmlkZXIiLCJpbnZhbGlkS2V5UHJvdmlkZXJBbGxvd2VkS2V5cyIsIm5vVHJ1c3RlZENsYWltRm91bmQiLCJmb3VuZEVudHJ5IiwiY2xhaW0iLCJnZXRDbGFpbXMiLCJleHBpcmF0aW9uRGF0ZSIsImNsYWltQWxsb3dlZENyZWRlbnRpYWxLZXlzIiwicHJvdmlkZXJDcmVkZW50aWFsS2V5IiwiY29kZSIsIkpTT04iLCJwYXJzZSIsInJlT3JkZXJDcmVkZW50aWFsT2JqZWN0Iiwid2ViM05vZGUiLCJjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlIiwic3RyaW5naWZ5IiwicHJvb2YiLCJzaWduYXR1cmUiLCJ1c2VyUmVjb3ZlcmVkQWRkcmVzcyIsImV0aCIsImFjY291bnRzIiwicmVjb3ZlciIsInVzZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmciLCJob2xkZXIiLCJ2ZXJzaW9uIiwiY3JlZGVudGlhbEV4cGlyYXRpb25EYXRlIiwibm9uY2UiLCJjYWxjdWxhdGVNaW51dGVzRGlmZmVyZW5jZSIsImlzc3VlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyIsImlzc3VlckhvbGRlcktleSIsImRpZENvbnRyYWN0S2V5V3JvbmciLCJjbGFpbUhvbGRlckFiaSIsInVzZXJIb2xkZXJLZXkiLCJ1c2VyRGlkQ29udHJhY3RBZGRyZXNzIiwidmVyaWZpZWQiLCJob2xkZXJLZXkiLCJyZWNvdmVyZWRBZGRyZXNzIiwiaXNzdWVyU2lnbmF0dXJlIiwiY3JlZGVudGlhbElzc3VlcktleSIsImNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YiLCJkaWRBZGRyZXNzIiwia25vd25BZGRyZXNzZXMiLCJzaGEzS2V5IiwiZ2V0U2hhM0tleSIsImtleU1hbmFnZXJDb250cmFjdCIsIkNvbnRyYWN0Iiwia25vd25BZGRyZXNzZXNDb250YWlucyIsImtleVB1cnBvc2UiLCJwYXJzZUludCIsImdldEtleVB1cnBvc2UiLCJsaXN0IiwiZGlkQ29udHJhY3RBZGRyZXNzIiwibGlzdEl0ZW0iLCJrZWNjYWsyNTYiLCJhZGRyZXNzIiwibWV0aG9kcyIsImR0MiIsImR0MSIsImRpZmYiLCJnZXRUaW1lIiwiYWJzIiwicm91bmQiLCJjcmVkZW50aWFsS2V5cyIsImNyZWRlbnRpYWxLZXkiLCJzb3J0IiwicmVPcmRlcmVkQ3JlZGVudGlhbHMiLCJyZU9yZGVyZWRDcmVkZW50aWFsIiwicmVPcmRlckNyZWRlbnRpYWwiLCJyZU9yZGVyQ3JlZGVudGlhbFByb29mIiwic29ydE9iamVjdEFscGhhYmV0aWNhbGx5Iiwib2JqZWN0Iiwic29ydGVkT2JqIiwia2V5MSIsImtleTIiLCJ0b0xvd2VyQ2FzZSIsInJlT3JkZXJPYmplY3QiLCJzaWduIiwiY29udGVudFRvU2lnbiIsImNsYWltVHlwZSIsImNvbnRyYWN0QWRkcmVzcyIsImNvbnRyYWN0IiwiY2xhaW1JZHMiLCJnZXRDbGFpbUlkc0J5VHlwZSIsInJhd0NsYWltcyIsImdldENsYWltIiwicGFyc2VkQ2xhaW1zIiwidG9Bc2NpaSIsImRhdGEiLCJjaGVja1Jlc3VsdCIsIm1pc3NpbmdLZXlzIiwicmVxdWVzdGVkQ3JlZGVudGlhbCIsImlzSW5zaWRlTWluaW11bVJlcXVpcmVkIiwibWluaW11bVJlcXVpcmVkIiwicmVxdWlyZWQiLCJmb3VuZCIsInByb3ZpZGVycyIsImZvdW5kQ3JlZGVudGlhbHMiLCJhbW91bnQiLCJtaXNzaW5nTWVzc2FnZSIsInJlY292ZXJBZGRyZXNzRnJvbVNpZ25hdHVyZSIsInNpZ25SZXF1ZXN0ZWRDcmVkZW50aWFscyIsIkVDRFNBIiwicmVxdWVzdGVkQ3JlZGVudGlhbHNDb3B5IiwiY2xhaW1Ib2xkZXJDb250cmFjdCIsImtlY2NhazI1Nk9yZ2FuaXNhdGlvbktleSIsIk1BTkFHRU1FTlRfS0VZIiwiQUNUSU9OX0tFWSIsInByaXZhdGVLZXlUb1B1YmxpY0tleSIsInByaXZhdGVLZXlUb0FjY291bnQiLCJjaGFsbGVuZ2UiLCJlbmRwb2ludCIsIndzU2VydmVyIiwid3NSZXF1ZXN0JCIsInN0YXJ0U2lnbmFsIiwiaHR0cFNlcnZlciIsImF1dG9BY2NlcHRDb25uZWN0aW9ucyIsInJlcXVlc3QiLCJzZW5kVG8iLCJzZW5kVVRGIiwicmVqZWN0Q29ubmVjdGlvbiIsInJlYXNvbiIsInRvSVNPU3RyaW5nIiwicmVtb3RlQWRkcmVzc2VzIiwidmFsaWRTaWduIiwib3JpZ2luQWxsb3dlZCIsInNpZ25hbFNlcnZlciIsImFjdGlvblR5cGUiLCJvcmlnaW4iLCJsb2ciLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJwdWJsaWNrZXkiLCJhdXRoZW50aWNhdGVkIiwic2V0dXBXZWJzb2NrZXRMaXN0ZW5lcnMiLCJ3ZWJSdGNDb25maWciLCJnZXRSVENDb25uZWN0aW9uQ29uZmlnIiwid2ViUnRjQ29ubmVjdGlvbkNvbmZpZyIsIndlYlJ0Y0NsaWVudCIsIldlYlJUQ0NsaWVudFYyIiwic2V0dXBQZWVyY29ubmVjdGlvbiIsImhvc3RDaGFubmVsIiwic2V0Q2xpZW50Q2hhbm5lbCIsImNsb3NlIiwidXRmOERhdGEiLCJvZmZlciIsImFuc3dlciIsImNhbmRpZGF0ZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwic2VuZEFuc3dlciIsImNsaWVudENoYW5uZWwiLCJhZGRDYW5kaWRhdGUiLCJyZWFzb25Db2RlIiwiZGVzY3JpcHRpb24iLCJyZW1vdGVBZGRyZXNzIiwicnRjQ29ubmVjdGlvbkNvbmZpZyIsInNldFJUQ0Nvbm5lY3Rpb25Db25maWciLCJ0dXJuRW5hYmxlZCIsImNyeXB0byIsInN0dW5FbmFibGVkIiwic3R1blVybCIsInNlcnZlciIsIldlYlNvY2tldCIsIlNlcnZlciIsImRhdGFjaGFubmVsIiwid3MiLCJjb25uZWN0ZWQiLCJtc2ciLCJ0b2tlbiIsImhvc3RzIiwiY2xpZW50cyIsInNpemUiLCJob3N0c09mZmVyIiwid3NBcmciLCJjbGllbnRBcmciLCJjb25zdGFudCIsIm91dHB1dHMiLCJwYXlhYmxlIiwic3RhdGVNdXRhYmlsaXR5IiwiYW5vbnltb3VzIiwiaW5kZXhlZCIsIklkZW50aXR5IiwiYWJpIiwidXJsIiwicmVwbGFjZSIsImtleVRvQ2hlY2siLCJzaGFBZGRyZXNzIiwic2hhMyIsImtleUhhc1B1cnBvc2UiLCJXZWJSdGNQcm92aWRlciIsImhvc3RVdWlkIiwicGVlckNvbm5lY3Rpb24iLCJkYXRhQ2hhbm5lbCIsIndzQ2xpZW50IiwicmVjZWl2ZWRBY3Rpb25zJCIsInV1aWQkIiwid2Vic29ja2V0TWVzc2FnZSQiLCJ3ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJCIsIndlYnNvY2tldENvbm5lY3Rpb25PcGVuJCIsIndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQiLCJjb25uZWN0aW9uVGltZW91dCIsInBvbmdDaGVja0ludGVydmFsIiwicGluZ1RpbWVvdXQiLCJXRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkiLCJXRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSIsImdldENvbmZpZyIsInNldEhvc3RVdWlkIiwic2VuZFAyUERhdGEiLCJyZWFkeVN0YXRlIiwic2VuZFdlYnNvY2tldERhdGEiLCJPUEVOIiwiZ2V0V2Vic29ja2V0Iiwic2V0VXVpZCIsImRpc2Nvbm5lY3QiLCJvbmNsb3NlIiwicmVtb3RlRGlzY29ubmVjdCIsImNyZWF0ZU9mZmVyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsImNvbm5lY3Rpb25TdWNjZXNzIiwic2lnbmFsaW5nVXJsIiwidzNjd2Vic29ja2V0Iiwib25lcnJvciIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInNlbmRQaW5nIiwiaXNIb3N0IiwibWF4VHJpZXMiLCJ0cmllcyIsInNlbmRPZmZlciIsIlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiIsImhvc3RBbnN3ZXIiLCJjcmVhdGVBbnN3ZXIiLCJjbGllbnRDYW5kaWRhdGUiLCJSVENJY2VDYW5kaWRhdGUiLCJhZGRJY2VDYW5kaWRhdGUiLCJSVENQZWVyQ29ubmVjdGlvbiIsImNyZWF0ZURhdGFDaGFubmVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZXZlbnRNZXNzYWdlIiwicDJwQ29ubmVjdGVkIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwiaG9zdFdzQ29ubmVjdGlvbiIsImRhdGFDaGFubmVsT3BlbiQiLCJkYXRhQ2hhbm5lbE1lc3NhZ2UkIiwiY2hhbm5lbFV1aWQiLCJkYXRhQ2hhbm5lbEV2ZW50IiwibWVzc2FnZUV2ZW50IiwicGFyc2VkTWVzc2FnZSIsInJlbW90ZURlc2NyaXB0aW9uIiwicmVxdWlyZSIsImdldENsb3N1cmVTYWZlUHJvcGVydHkiLCJvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QiLCJmaWxsUHJvcGVydGllcyIsInRhcmdldCIsIm92ZXJyaWRkZW5OYW1lIiwicmVzIiwibmV3TGluZUluZGV4Iiwic3Vic3RyaW5nIiwiY29uY2F0U3RyaW5nc1dpdGhTcGFjZSIsImJlZm9yZSIsImFmdGVyIiwiX19mb3J3YXJkX3JlZl9fIiwiZm9yd2FyZFJlZiIsImZvcndhcmRSZWZGbiIsInJlc29sdmVGb3J3YXJkUmVmIiwiaXNGb3J3YXJkUmVmIiwiUnVudGltZUVycm9yIiwic3VwZXIiLCJmb3JtYXRSdW50aW1lRXJyb3IiLCJmdWxsQ29kZSIsImVycm9yTWVzc2FnZSIsIm5nRGV2TW9kZSIsInJlbmRlclN0cmluZ2lmeSIsInN0cmluZ2lmeUZvckVycm9yIiwidGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IiLCJwYXRoIiwiZGVwUGF0aCIsInRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IiLCJ0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvciIsImluamVjdG9yTmFtZSIsImluamVjdG9yRGV0YWlscyIsImFzc2VydE51bWJlciIsImFjdHVhbCIsImFzc2VydE51bWJlckluUmFuZ2UiLCJtaW5JbmNsdXNpdmUiLCJtYXhJbmNsdXNpdmUiLCJhc3NlcnRMZXNzVGhhbk9yRXF1YWwiLCJhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwiLCJhc3NlcnRTdHJpbmciLCJhc3NlcnRFcXVhbCIsImV4cGVjdGVkIiwiYXNzZXJ0Tm90RXF1YWwiLCJhc3NlcnRTYW1lIiwiYXNzZXJ0Tm90U2FtZSIsImFzc2VydExlc3NUaGFuIiwiYXNzZXJ0R3JlYXRlclRoYW4iLCJhc3NlcnREZWZpbmVkIiwiY29tcGFyaXNvbiIsImFzc2VydERvbU5vZGUiLCJub2RlIiwiTm9kZSIsImFzc2VydEluZGV4SW5SYW5nZSIsIm1heExlbiIsImFzc2VydE9uZU9mIiwidmFsaWRWYWx1ZXMiLCJvcHRzIiwicHJvdmlkZWRJbiIsImRlZmluZUluamVjdGFibGUiLCJpbXBvcnRzIiwiZ2V0SW5qZWN0YWJsZURlZiIsImdldE93bkRlZmluaXRpb24iLCJOR19QUk9WX0RFRiIsIk5HX0lOSkVDVEFCTEVfREVGIiwiZmllbGQiLCJnZXRJbmplY3RvckRlZiIsIk5HX0lOSl9ERUYiLCJOR19JTkpFQ1RPUl9ERUYiLCJuZ0luamVjdGFibGVEZWYiLCJuZ0luamVjdG9yRGVmIiwiSW5qZWN0RmxhZ3MiLCJfaW5qZWN0SW1wbGVtZW50YXRpb24iLCJzZXRJbmplY3RJbXBsZW1lbnRhdGlvbiIsImltcGwiLCJwcmV2aW91cyIsImluamVjdFJvb3RMaW1wTW9kZSIsIm5vdEZvdW5kVmFsdWUiLCJmbGFncyIsImluamVjdGFibGVEZWYiLCJPcHRpb25hbCIsIm5vU2lkZUVmZmVjdHMiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNoYW5nZURldGVjdG9yU3RhdHVzIiwiVmlld0VuY2Fwc3VsYXRpb24kMSIsImlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJEZWZhdWx0IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJfX2dsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwiX193aW5kb3ciLCJfX3NlbGYiLCJzZWxmIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJfX2dsb2JhbCIsIl9nbG9iYWwiLCJpbml0TmdEZXZNb2RlIiwibG9jYXRpb25TdHJpbmciLCJsb2NhdGlvbiIsIm5ld0NvdW50ZXJzIiwibmFtZWRDb25zdHJ1Y3RvcnMiLCJmaXJzdENyZWF0ZVBhc3MiLCJ0Tm9kZSIsInRWaWV3IiwicmVuZGVyZXJDcmVhdGVUZXh0Tm9kZSIsInJlbmRlcmVyU2V0VGV4dCIsInJlbmRlcmVyQ3JlYXRlRWxlbWVudCIsInJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lciIsInJlbmRlcmVyU2V0QXR0cmlidXRlIiwicmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGUiLCJyZW5kZXJlclNldFByb3BlcnR5IiwicmVuZGVyZXJTZXRDbGFzc05hbWUiLCJyZW5kZXJlckFkZENsYXNzIiwicmVuZGVyZXJSZW1vdmVDbGFzcyIsInJlbmRlcmVyU2V0U3R5bGUiLCJyZW5kZXJlclJlbW92ZVN0eWxlIiwicmVuZGVyZXJEZXN0cm95IiwicmVuZGVyZXJEZXN0cm95Tm9kZSIsInJlbmRlcmVyTW92ZU5vZGUiLCJyZW5kZXJlclJlbW92ZU5vZGUiLCJyZW5kZXJlckFwcGVuZENoaWxkIiwicmVuZGVyZXJJbnNlcnRCZWZvcmUiLCJyZW5kZXJlckNyZWF0ZUNvbW1lbnQiLCJhbGxvd05nRGV2TW9kZVRydWUiLCJuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycyIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUkFZIiwiZnJlZXplIiwiTkdfQ09NUF9ERUYiLCJOR19ESVJfREVGIiwiTkdfUElQRV9ERUYiLCJOR19NT0RfREVGIiwiTkdfRkFDVE9SWV9ERUYiLCJOR19FTEVNRU5UX0lEIiwiX19OR19FTEVNRU5UX0lEX18iLCJfcmVuZGVyQ29tcENvdW50IiwiY29tcG9uZW50RGVmaW5pdGlvbiIsImRlY2xhcmVkSW5wdXRzIiwiZGVmIiwicHJvdmlkZXJzUmVzb2x2ZXIiLCJkZWNscyIsInZhcnMiLCJ0ZW1wbGF0ZSIsImNvbnN0cyIsIm5nQ29udGVudFNlbGVjdG9ycyIsImhvc3RCaW5kaW5ncyIsImhvc3RWYXJzIiwiaG9zdEF0dHJzIiwiY29udGVudFF1ZXJpZXMiLCJleHBvcnRBcyIsIm9uUHVzaCIsImNoYW5nZURldGVjdGlvbiIsIk9uUHVzaCIsImRpcmVjdGl2ZURlZnMiLCJwaXBlRGVmcyIsInNlbGVjdG9ycyIsInZpZXdRdWVyeSIsImZlYXR1cmVzIiwiZW5jYXBzdWxhdGlvbiIsIkVtdWxhdGVkIiwic3R5bGVzIiwic2V0SW5wdXQiLCJzY2hlbWFzIiwiZGlyZWN0aXZlVHlwZXMiLCJkaXJlY3RpdmVzIiwiZmVhdHVyZSIsInBpcGVUeXBlcyIsInBpcGVzIiwiaW52ZXJ0T2JqZWN0IiwiZXh0cmFjdERpcmVjdGl2ZURlZiIsImV4dHJhY3RQaXBlRGVmIiwiZ2V0Q29tcG9uZW50RGVmIiwiZ2V0RGlyZWN0aXZlRGVmIiwiZ2V0UGlwZURlZiQxIiwiYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZCIsImJvb3RzdHJhcCIsImRlY2xhcmF0aW9ucyIsInRyYW5zaXRpdmVDb21waWxlU2NvcGVzIiwic2NvcGUiLCJuZ01vZHVsZURlZiIsImdldE5nTW9kdWxlRGVmIiwic2Vjb25kYXJ5IiwibmV3TG9va3VwIiwibWluaWZpZWRLZXkiLCJwdWJsaWNOYW1lIiwiZGVjbGFyZWROYW1lIiwicGlwZURlZiIsInB1cmUiLCJvbkRlc3Ryb3kiLCJuZ09uRGVzdHJveSIsInRocm93Tm90Rm91bmQiLCJDT05UQUlORVJfSEVBREVSX09GRlNFVCIsIkhFQURFUl9PRkZTRVQiLCJUVmlld1R5cGVBc1N0cmluZyIsImlzTFZpZXciLCJpc0xDb250YWluZXIiLCJpc0NvbnRlbnRRdWVyeUhvc3QiLCJpc0NvbXBvbmVudEhvc3QiLCJpc0RpcmVjdGl2ZUhvc3QiLCJpc0NvbXBvbmVudERlZiIsImFzc2VydFROb2RlRm9yTFZpZXciLCJsVmlldyIsImFzc2VydFROb2RlRm9yVFZpZXciLCJhc3NlcnRUTm9kZSIsInRWaWV3XyIsImFzc2VydFRJY3UiLCJ0SWN1IiwiY3VycmVudENhc2VMVmlld0luZGV4IiwiYXNzZXJ0Q29tcG9uZW50VHlwZSIsImFzc2VydEhhc1BhcmVudCIsImFzc2VydExDb250YWluZXIiLCJhc3NlcnRMVmlld09yVW5kZWZpbmVkIiwiYXNzZXJ0TFZpZXciLCJhc3NlcnRGaXJzdENyZWF0ZVBhc3MiLCJlcnJNZXNzYWdlIiwiYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzIiwiZmlyc3RVcGRhdGVQYXNzIiwiYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZSIsImFzc2VydEJldHdlZW4iLCJleHBhbmRvU3RhcnRJbmRleCIsImxvd2VyIiwidXBwZXIiLCJhc3NlcnRQYXJlbnRWaWV3IiwiYXNzZXJ0Tm9kZUluamVjdG9yIiwiaW5qZWN0b3JJbmRleCIsImdldEZhY3RvcnlEZWYiLCJoYXNGYWN0b3J5RGVmIiwiU2ltcGxlQ2hhbmdlIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImZpcnN0Q2hhbmdlIiwiaXNGaXJzdENoYW5nZSIsIk5nT25DaGFuZ2VzRmVhdHVyZUltcGwiLCJkZWZpbml0aW9uIiwibmdPbkNoYW5nZXMiLCJuZ09uQ2hhbmdlc1NldElucHV0IiwicmVtZW1iZXJDaGFuZ2VIaXN0b3J5QW5kSW52b2tlT25DaGFuZ2VzSG9vayIsInNpbXBsZUNoYW5nZXNTdG9yZSIsImdldFNpbXBsZUNoYW5nZXNTdG9yZSIsImN1cnJlbnQiLCJwcml2YXRlTmFtZSIsInN0b3JlIiwic2V0U2ltcGxlQ2hhbmdlc1N0b3JlIiwicHJldmlvdXNDaGFuZ2UiLCJuZ0luaGVyaXQiLCJwcm9maWxlckNhbGxiYWNrIiwic2V0UHJvZmlsZXIiLCJwcm9maWxlciIsImhvb2tPckxpc3RlbmVyIiwiU1ZHX05BTUVTUEFDRSIsIk1BVEhfTUxfTkFNRVNQQUNFIiwiRE9DVU1FTlQiLCJzZXREb2N1bWVudCIsImRvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJSZW5kZXJlclN0eWxlRmxhZ3MzIiwiaXNQcm9jZWR1cmFsUmVuZGVyZXIiLCJyZW5kZXJlciIsImRvbVJlbmRlcmVyRmFjdG9yeTMiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwicmVuZGVyZXJUeXBlIiwidW53cmFwUk5vZGUiLCJnZXROYXRpdmVCeUluZGV4IiwiZ2V0TmF0aXZlQnlUTm9kZSIsIlJFTkRFUkVSIiwiZ2V0VE5vZGUiLCJsb2FkIiwidmlldyIsImdldENvbXBvbmVudExWaWV3QnlJbmRleCIsIm5vZGVJbmRleCIsImhvc3RWaWV3Iiwic2xvdFZhbHVlIiwiaXNDcmVhdGlvbk1vZGUiLCJ2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yIiwiZ2V0Q29uc3RhbnQiLCJyZXNldFByZU9yZGVySG9va0ZsYWdzIiwiUFJFT1JERVJfSE9PS19GTEFHUyIsInVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudCIsImxDb250YWluZXIiLCJ2aWV3T3JDb250YWluZXIiLCJpbnN0cnVjdGlvblN0YXRlIiwibEZyYW1lIiwiY3JlYXRlTEZyYW1lIiwiYmluZGluZ3NFbmFibGVkIiwiaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSIsImdldEJpbmRpbmdzRW5hYmxlZCIsImdldExWaWV3IiwiZ2V0VFZpZXciLCJ2aWV3VG9SZXN0b3JlIiwiY29udGV4dExWaWV3IiwiZ2V0Q3VycmVudFROb2RlIiwiY3VycmVudFROb2RlIiwiZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPayIsImdldEN1cnJlbnRQYXJlbnRUTm9kZSIsImlzUGFyZW50Iiwic2V0Q3VycmVudFROb2RlIiwiaXNDdXJyZW50VE5vZGVQYXJlbnQiLCJzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCIsInNldElzSW5DaGVja05vQ2hhbmdlc01vZGUiLCJtb2RlIiwiZ2V0QmluZGluZ1Jvb3QiLCJiaW5kaW5nUm9vdEluZGV4IiwiYmluZGluZ1N0YXJ0SW5kZXgiLCJnZXRCaW5kaW5nSW5kZXgiLCJiaW5kaW5nSW5kZXgiLCJzZXRCaW5kaW5nSW5kZXgiLCJuZXh0QmluZGluZ0luZGV4IiwiaW5jcmVtZW50QmluZGluZ0luZGV4Iiwic2V0SW5JMThuQmxvY2siLCJpc0luSTE4bkJsb2NrIiwiaW5JMThuIiwic2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MiLCJjdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJnZXRDdXJyZW50RGlyZWN0aXZlRGVmIiwidERhdGEiLCJnZXRDdXJyZW50UXVlcnlJbmRleCIsImN1cnJlbnRRdWVyeUluZGV4Iiwic2V0Q3VycmVudFF1ZXJ5SW5kZXgiLCJnZXREZWNsYXJhdGlvblROb2RlIiwiZGVjbFROb2RlIiwiZW50ZXJESSIsIlNraXBTZWxmIiwicGFyZW50VE5vZGUiLCJwYXJlbnRMVmlldyIsIkhvc3QiLCJERUNMQVJBVElPTl9WSUVXIiwiYWxsb2NMRnJhbWUiLCJlbnRlclZpZXciLCJuZXdWaWV3IiwibmV3TEZyYW1lIiwic2VsZWN0ZWRJbmRleCIsImVsZW1lbnREZXB0aENvdW50IiwiY3VycmVudE5hbWVzcGFjZSIsImZpcnN0Q2hpbGQiLCJjdXJyZW50TEZyYW1lIiwiY2hpbGRMRnJhbWUiLCJjaGlsZCIsImxlYXZlVmlld0xpZ2h0Iiwib2xkTEZyYW1lIiwibGVhdmVESSIsImxlYXZlVmlldyIsImdldFNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZEluZGV4IiwiZ2V0U2VsZWN0ZWRUTm9kZSIsInJlZ2lzdGVyUG9zdE9yZGVySG9va3MiLCJkaXJlY3RpdmVTdGFydCIsImVuZCIsImRpcmVjdGl2ZUVuZCIsImRpcmVjdGl2ZURlZiIsImxpZmVjeWNsZUhvb2tzIiwibmdBZnRlckNvbnRlbnRJbml0IiwibmdBZnRlckNvbnRlbnRDaGVja2VkIiwibmdBZnRlclZpZXdJbml0IiwibmdBZnRlclZpZXdDaGVja2VkIiwiY29udGVudEhvb2tzIiwiY29udGVudENoZWNrSG9va3MiLCJ2aWV3SG9va3MiLCJ2aWV3Q2hlY2tIb29rcyIsImRlc3Ryb3lIb29rcyIsImV4ZWN1dGVDaGVja0hvb2tzIiwiaG9va3MiLCJjYWxsSG9va3MiLCJleGVjdXRlSW5pdEFuZENoZWNrSG9va3MiLCJpbml0UGhhc2UiLCJpbmNyZW1lbnRJbml0UGhhc2VGbGFncyIsImN1cnJlbnRWaWV3IiwiY3VycmVudE5vZGVJbmRleCIsInN0YXJ0SW5kZXgiLCJub2RlSW5kZXhMaW1pdCIsImxhc3ROb2RlSW5kZXhGb3VuZCIsImNhbGxIb29rIiwiaXNJbml0SG9vayIsImhvb2siLCJkaXJlY3RpdmUiLCJOT19QQVJFTlRfSU5KRUNUT1IiLCJOb2RlSW5qZWN0b3JGYWN0b3J5IiwiaXNWaWV3UHJvdmlkZXIiLCJpbmplY3RJbXBsZW1lbnRhdGlvbiIsInJlc29sdmluZyIsImNhblNlZVZpZXdQcm92aWRlcnMiLCJpbmplY3RJbXBsIiwidG9UTm9kZVR5cGVBc1N0cmluZyIsInROb2RlVHlwZSIsInRleHQiLCJhc3NlcnRUTm9kZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwic2V0VXBBdHRyaWJ1dGVzIiwibmF0aXZlIiwiYXR0cnMiLCJpc1Byb2MiLCJuYW1lc3BhY2VVUkkiLCJhdHRyTmFtZSIsImF0dHJWYWwiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsImlzQW5pbWF0aW9uUHJvcCIsInNldFByb3BlcnR5IiwiaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlciIsIm1hcmtlciIsImNoYXJDb2RlQXQiLCJtZXJnZUhvc3RBdHRycyIsImRzdCIsInNyYyIsInNyY01hcmtlciIsIm1lcmdlSG9zdEF0dHJpYnV0ZSIsIm1hcmtlckluc2VydFBvc2l0aW9uIiwiZHN0VmFsdWUiLCJoYXNQYXJlbnRJbmplY3RvciIsInBhcmVudExvY2F0aW9uIiwiZ2V0UGFyZW50SW5qZWN0b3JJbmRleCIsImdldFBhcmVudEluamVjdG9yVmlldyIsInN0YXJ0VmlldyIsInZpZXdPZmZzZXQiLCJwYXJlbnRWaWV3IiwiaW5jbHVkZVZpZXdQcm92aWRlcnMiLCJzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyIsIm5leHROZ0VsZW1lbnRJZCIsImdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSIsImV4aXN0aW5nSW5qZWN0b3JJbmRleCIsImdldEluamVjdG9ySW5kZXgiLCJpbnNlcnRCbG9vbSIsImJsdWVwcmludCIsInBhcmVudExvYyIsImdldFBhcmVudEluamVjdG9yTG9jYXRpb24iLCJwYXJlbnRJbmRleCIsInBhcmVudERhdGEiLCJmb290ZXIiLCJkZWNsYXJhdGlvblZpZXdPZmZzZXQiLCJsVmlld0N1cnNvciIsInRWaWV3VHlwZSIsImRpUHVibGljSW5JbmplY3RvciIsImJsb29tSGFzaCIsIkJMT09NX1NJWkUiLCJtYXNrIiwiYmxvb21BZGQiLCJub3RGb3VuZFZhbHVlT3JUaHJvdyIsImxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvciIsIlNlbGYiLCJtb2R1bGVJbmplY3RvciIsInByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24iLCJnZXRPckNyZWF0ZUluamVjdGFibGUiLCJ0b2tlbklkIiwiY3JlYXRlTm9kZUluamVjdG9yIiwiYmxvb21IYXNoQml0T3JGYWN0b3J5IiwicHJldmlvdXNUVmlldyIsImhvc3RURWxlbWVudE5vZGUiLCJERUNMQVJBVElPTl9DT01QT05FTlRfVklFVyIsInNob3VsZFNlYXJjaFBhcmVudCIsImJsb29tSGFzVG9rZW4iLCJzZWFyY2hUb2tlbnNPbkluamVjdG9yIiwiTk9UX0ZPVU5EIiwiTm9kZUluamVjdG9yIiwiY3VycmVudFRWaWV3IiwiaW5qZWN0YWJsZUlkeCIsImxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIiLCJnZXROb2RlSW5qZWN0YWJsZSIsImNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMiLCJpc0hvc3RTcGVjaWFsQ2FzZSIsIm5vZGVQcm92aWRlckluZGV4ZXMiLCJwcm92aWRlckluZGV4ZXMiLCJ0SW5qZWN0YWJsZXMiLCJpbmplY3RhYmxlc1N0YXJ0IiwiZGlyZWN0aXZlc1N0YXJ0IiwiY3B0Vmlld1Byb3ZpZGVyc0NvdW50IiwiZW5kSW5kZXgiLCJwcm92aWRlclRva2VuT3JEZWYiLCJkaXJEZWYiLCJwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzIiwiZGlyZWN0aXZlSW5kZXgiLCJuZ09uSW5pdCIsIm5nRG9DaGVjayIsIndyYXBwZWRPbkNoYW5nZXMiLCJwcmVPcmRlckhvb2tzIiwicHJlT3JkZXJDaGVja0hvb2tzIiwicmVnaXN0ZXJQcmVPcmRlckhvb2tzIiwiaW5qZWN0b3JWaWV3IiwiaXNGaXJzdEhvc3RUTm9kZSIsIl90Tm9kZSIsIl9sVmlldyIsIm93bkNvbnN0cnVjdG9yIiwib3duRmFjdG9yeSIsImdldEZhY3RvcnlPZiIsIm9iamVjdFByb3RvdHlwZSIsImF0dHJOYW1lVG9JbmplY3QiLCJjbGFzc2VzIiwiYXR0cnNMZW5ndGgiLCJpbmplY3RBdHRyaWJ1dGVJbXBsIiwiQU5OT1RBVElPTlMiLCJQQVJBTUVURVJTIiwiUFJPUF9NRVRBREFUQSIsIm1ha2VEZWNvcmF0b3IiLCJwcm9wcyIsInBhcmVudENsYXNzIiwiYWRkaXRpb25hbFByb2Nlc3NpbmciLCJ0eXBlRm4iLCJtZXRhQ3RvciIsIm1ha2VNZXRhZGF0YUN0b3IiLCJEZWNvcmF0b3JGYWN0b3J5IiwiYW5ub3RhdGlvbkluc3RhbmNlIiwiY2xzIiwibmdNZXRhZGF0YU5hbWUiLCJhbm5vdGF0aW9uQ2xzIiwicHJvcE5hbWUiLCJtYWtlUGFyYW1EZWNvcmF0b3IiLCJQYXJhbURlY29yYXRvckZhY3RvcnkiLCJQYXJhbURlY29yYXRvciIsImFubm90YXRpb24iLCJ1bnVzZWRLZXkiLCJwYXJhbWV0ZXJzIiwibWFrZVByb3BEZWNvcmF0b3IiLCJQcm9wRGVjb3JhdG9yRmFjdG9yeSIsImRlY29yYXRvckluc3RhbmNlIiwidW5zaGlmdCIsIkF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJJbmplY3Rpb25Ub2tlbiIsIl9kZXNjIiwiQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyIsIlF1ZXJ5IiwiQ29udGVudENoaWxkcmVuIiwiYXNzaWduIiwiaXNWaWV3UXVlcnkiLCJkZXNjZW5kYW50cyIsImVtaXREaXN0aW5jdENoYW5nZXNPbmx5IiwiQ29udGVudENoaWxkIiwiVmlld0NoaWxkcmVuIiwiVmlld0NoaWxkIiwiRmFjdG9yeVRhcmdldCIsImdldENvbXBpbGVyRmFjYWRlIiwiZ2xvYmFsTmciLCJ1c2FnZSIsIlR5cGUiLCJpc1R5cGUiLCJmbGF0dGVuIiwiZGVlcEZvckVhY2giLCJhZGRUb0FycmF5IiwicmVtb3ZlRnJvbUFycmF5IiwibmV3QXJyYXkiLCJrZXlWYWx1ZUFycmF5U2V0Iiwia2V5VmFsdWVBcnJheSIsImtleVZhbHVlQXJyYXlJbmRleE9mIiwidmFsdWUxIiwidmFsdWUyIiwicHJldmlvdXNFbmQiLCJhcnJheUluc2VydDIiLCJrZXlWYWx1ZUFycmF5R2V0Iiwic3RhcnQiLCJtaWRkbGUiLCJfYXJyYXlJbmRleE9mU29ydGVkIiwiRVM1X0RFTEVHQVRFX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTIiwiRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiIsIlJlZmxlY3Rpb25DYXBhYmlsaXRpZXMiLCJyZWZsZWN0IiwiX3JlZmxlY3QiLCJpc1JlZmxlY3Rpb25FbmFibGVkIiwiX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMiLCJwYXJhbVR5cGVzIiwicGFyYW1Bbm5vdGF0aW9ucyIsIl9vd25QYXJhbWV0ZXJzIiwicGFyZW50Q3RvciIsInR5cGVTdHIiLCJ0ZXN0IiwidHNpY2tsZUN0b3JQYXJhbXMiLCJjdG9yUGFyYW1ldGVycyIsImN0b3JQYXJhbSIsImNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhIiwiZGVjb3JhdG9ycyIsImdldE93bk1ldGFkYXRhIiwiZ2V0UGFyZW50Q3RvciIsIl9vd25Bbm5vdGF0aW9ucyIsInR5cGVPckZ1bmMiLCJhbm5vdGF0aW9ucyIsIm93bkFubm90YXRpb25zIiwiX293blByb3BNZXRhZGF0YSIsInByb3BNZXRhZGF0YSIsInByb3BEZWNvcmF0b3JzIiwicHJvcCIsInBhcmVudFByb3BNZXRhZGF0YSIsIm93blByb3BNZXRhZGF0YSIsImhhc0xpZmVjeWNsZUhvb2siLCJsY1Byb3BlcnR5IiwiZ3VhcmRzIiwiZ2V0dGVyIiwic2V0dGVyIiwibWV0aG9kIiwiaW1wb3J0VXJpIiwicmVzb3VyY2VVcmkiLCJyZXNvbHZlSWRlbnRpZmllciIsIm1vZHVsZVVybCIsIm1lbWJlcnMiLCJydW50aW1lIiwicmVzb2x2ZUVudW0iLCJlbnVtSWRlbnRpZmllciIsImRlY29yYXRvckludm9jYXRpb25zIiwiZGVjb3JhdG9ySW52b2NhdGlvbiIsImN0b3IiLCJwYXJlbnRQcm90byIsIlRIUk9XX0lGX05PVF9GT1VORCIsIk5FV19MSU5FIiwiU09VUkNFIiwiVVNFX1ZBTFVFJDEiLCJwcm92aWRlIiwidXNlVmFsdWUiLCJfY3VycmVudEluamVjdG9yIiwic2V0Q3VycmVudEluamVjdG9yIiwiaW5qZWN0b3IiLCJmb3JtZXIiLCJpbmplY3RJbmplY3Rvck9ubHkiLCJpbmplY3QiLCJpbmplY3RBcmdzIiwidHlwZXMiLCJhcmciLCJmbGFnIiwiYXR0YWNoSW5qZWN0RmxhZyIsImRlY29yYXRvciIsIkluamVjdCIsImdldFJlZmxlY3QiLCJyZWZsZWN0RGVwZW5kZW5jaWVzIiwiY29udmVydERlcGVuZGVuY2llcyIsImRlcHMiLCJkZXAiLCJhdHRyaWJ1dGUiLCJvcHRpb25hbCIsInNraXBTZWxmIiwicGFyYW0iLCJwcm90byIsInJlZmxlY3REZXBlbmRlbmN5IiwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyIsInJlc291cmNlUmVzb2x2ZXIiLCJjb21wb25lbnRSZXNvbHZlZCIsInVybE1hcCIsImNhY2hlZFJlc291cmNlUmVzb2x2ZSIsInJlc3AiLCJ1bndyYXBSZXNwb25zZSIsImNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlIiwiY29tcG9uZW50IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInN0eWxlT2Zmc2V0Iiwic3R5bGVVcmwiLCJzdHlsZSIsImZ1bGx5UmVzb2x2ZWQiLCJhbGwiLCJjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiIsImNvbXBvbmVudERlZlJlc29sdmVkIiwiY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSIsImNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbiIsIm9sZCIsInJlc3BvbnNlIiwicG9saWN5JDEiLCJwb2xpY3kiLCJnZXRQb2xpY3kkMSIsInRydXN0ZWRUeXBlcyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJjcmVhdGVTY3JpcHQiLCJjcmVhdGVTY3JpcHRVUkwiLCJ0cnVzdGVkSFRNTEZyb21TdHJpbmciLCJodG1sIiwiZ2V0UG9saWN5IiwidHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzIiwidHJ1c3RlZFNjcmlwdEZyb21TdHJpbmdCeXBhc3MiLCJzY3JpcHQiLCJ0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZ0J5cGFzcyIsIlNhZmVWYWx1ZUltcGwiLCJjaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5IiwiU2FmZUh0bWxJbXBsIiwiZ2V0VHlwZU5hbWUiLCJTYWZlU3R5bGVJbXBsIiwiU2FmZVNjcmlwdEltcGwiLCJTYWZlVXJsSW1wbCIsIlNhZmVSZXNvdXJjZVVybEltcGwiLCJ1bndyYXBTYWZlVmFsdWUiLCJhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93IiwiYWN0dWFsVHlwZSIsImdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwiLCJ0cnVzdGVkSHRtbCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUiLCJ0cnVzdGVkU3R5bGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCIsInRydXN0ZWRTY3JpcHQiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCIsInRydXN0ZWRVcmwiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsIiwidHJ1c3RlZFJlc291cmNlVXJsIiwiZ2V0SW5lcnRCb2R5SGVscGVyIiwiZGVmYXVsdERvYyIsImluZXJ0RG9jdW1lbnRIZWxwZXIiLCJJbmVydERvY3VtZW50SGVscGVyIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaXNET01QYXJzZXJBdmFpbGFibGUiLCJET01QYXJzZXJIZWxwZXIiLCJnZXRJbmVydEJvZHlFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJpbmVydERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJpbmVydEh0bWwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbmVydEJvZHlFbGVtZW50IiwidGVtcGxhdGVFbCIsImlubmVySFRNTCIsImluZXJ0Qm9keSIsImRvY3VtZW50TW9kZSIsInN0cmlwQ3VzdG9tTnNBdHRycyIsImVsIiwiZWxBdHRycyIsImF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGlsZE5vZGUiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsIm5leHRTaWJsaW5nIiwiU0FGRV9VUkxfUEFUVEVSTiIsIkRBVEFfVVJMX1BBVFRFUk4iLCJfc2FuaXRpemVVcmwiLCJtYXRjaCIsIndhcm4iLCJzYW5pdGl6ZVNyY3NldCIsInNyY3NldCIsInRyaW0iLCJ0YWdTZXQiLCJ0YWdzIiwic2V0cyIsIlZPSURfRUxFTUVOVFMiLCJPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMiLCJPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTIiwiQkxPQ0tfRUxFTUVOVFMiLCJJTkxJTkVfRUxFTUVOVFMiLCJWQUxJRF9FTEVNRU5UUyIsIlVSSV9BVFRSUyIsIlNSQ1NFVF9BVFRSUyIsIkhUTUxfQVRUUlMiLCJBUklBX0FUVFJTIiwiVkFMSURfQVRUUlMiLCJTS0lQX1RSQVZFUlNJTkdfQ09OVEVOVF9JRl9JTlZBTElEX0VMRU1FTlRTIiwiU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIiwic2FuaXRpemVkU29tZXRoaW5nIiwiYnVmIiwic2FuaXRpemVDaGlsZHJlbiIsInRyYXZlcnNlQ29udGVudCIsInN0YXJ0RWxlbWVudCIsIlRFWFRfTk9ERSIsImNoYXJzIiwibm9kZVZhbHVlIiwiZW5kRWxlbWVudCIsImNoZWNrQ2xvYmJlcmVkRWxlbWVudCIsInBhcmVudE5vZGUiLCJ0YWdOYW1lIiwibm9kZU5hbWUiLCJlbEF0dHIiLCJlbmNvZGVFbnRpdGllcyIsIm5leHROb2RlIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkiLCJvdXRlckhUTUwiLCJTVVJST0dBVEVfUEFJUl9SRUdFWFAiLCJOT05fQUxQSEFOVU1FUklDX1JFR0VYUCIsImluZXJ0Qm9keUhlbHBlciIsIl9zYW5pdGl6ZUh0bWwiLCJ1bnNhZmVIdG1sSW5wdXQiLCJ1bnNhZmVIdG1sIiwibVhTU0F0dGVtcHRzIiwicGFyc2VkSHRtbCIsInNhbml0aXplciIsInNhZmVIdG1sIiwiZ2V0VGVtcGxhdGVDb250ZW50IiwiaXNUZW1wbGF0ZUVsZW1lbnQiLCJjb250ZW50IiwiU2VjdXJpdHlDb250ZXh0IiwiZ2V0U2FuaXRpemVyIiwic2FuaXRpemUiLCJIVE1MIiwidW5zYWZlU3R5bGUiLCJTVFlMRSIsInVuc2FmZVVybCIsIlVSTCIsInVuc2FmZVJlc291cmNlVXJsIiwiUkVTT1VSQ0VfVVJMIiwidW5zYWZlU2NyaXB0IiwiU0NSSVBUIiwicmF3IiwidHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmciLCJ0YWciLCJnZXRVcmxTYW5pdGl6ZXIiLCJnZXRMQ29udGV4dCIsIm1wVmFsdWUiLCJyZWFkUGF0Y2hlZERhdGEiLCJmaW5kVmlhQ29tcG9uZW50IiwiaXNEaXJlY3RpdmVJbnN0YW5jZSIsImRpcmVjdGl2ZUluc3RhbmNlIiwiZGlyZWN0aXZlSW5kZXhTdGFydCIsImRpcmVjdGl2ZUluZGV4RW5kIiwidHJhdmVyc2VOZXh0RWxlbWVudCIsImZpbmRWaWFEaXJlY3RpdmUiLCJnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgiLCJmaW5kVmlhTmF0aXZlRWxlbWVudCIsImV4aXN0aW5nQ3R4IiwiY3JlYXRlTENvbnRleHQiLCJhdHRhY2hQYXRjaERhdGEiLCJyRWxlbWVudCIsInBhcmVudENvbnRleHQiLCJsb2NhbFJlZnMiLCJnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZSIsImNvbXBvbmVudEluc3RhbmNlIiwicmVhZFBhdGNoZWRMVmlldyIsImNvbXBvbmVudEluZGljZXMiLCJjb21wb25lbnRzIiwiZWxlbWVudENvbXBvbmVudEluZGV4IiwiaW5jbHVkZUNvbXBvbmVudHMiLCJkaXJlY3RpdmVTdGFydEluZGV4IiwiZGlyZWN0aXZlRW5kSW5kZXgiLCJnZXRPcmlnaW5hbEVycm9yIiwiZGVmYXVsdEVycm9yTG9nZ2VyIiwiRXJyb3JIYW5kbGVyIiwiX2NvbnNvbGUiLCJvcmlnaW5hbEVycm9yIiwiX2ZpbmRPcmlnaW5hbEVycm9yIiwiZXJyb3JMb2dnZXIiLCJnZXRFcnJvckxvZ2dlciIsIkNVU1RPTV9FTEVNRU5UU19TQ0hFTUEiLCJOT19FUlJPUlNfU0NIRU1BIiwiQ09NTUVOVF9ESVNBTExPV0VEIiwiQ09NTUVOVF9ERUxJTUlURVIiLCJlc2NhcGVDb21tZW50VGV4dCIsIkNBTUVMX0NBU0VfUkVHRVhQIiwiZGVmYXVsdFNjaGVkdWxlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsIklOVEVSUE9MQVRJT05fREVMSU1JVEVSIiwibWF5YmVVbndyYXBGbiIsInRocm93TXVsdGlwbGVDb21wb25lbnRFcnJvciIsImNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uIiwicm9vdEluZGV4IiwiZXhwcmVzc2lvbkluZGV4IiwiY2hhbmdlZFZhbHVlIiwicHJlZml4IiwiY2h1bmtzIiwibmV3VmFsdWUiLCJzbG90SWR4IiwiUmVuZGVyZXJTdHlsZUZsYWdzMiIsIl9pY3VDb250YWluZXJJdGVyYXRlIiwiaWN1Q29udGFpbmVySXRlcmF0ZSIsInRJY3VDb250YWluZXJOb2RlIiwiZ2V0TFZpZXdQYXJlbnQiLCJnZXRSb290Q29udGV4dCIsInZpZXdPckNvbXBvbmVudCIsInJvb3RWaWV3IiwiY29tcG9uZW50T3JMVmlldyIsImdldFJvb3RWaWV3IiwiZ2V0Rmlyc3RMQ29udGFpbmVyIiwiZ2V0TmVhcmVzdExDb250YWluZXIiLCJDSElMRF9IRUFEIiwiZ2V0TmV4dExDb250YWluZXIiLCJjb250YWluZXIiLCJhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyIiwibE5vZGVUb0hhbmRsZSIsImJlZm9yZU5vZGUiLCJpc0NvbXBvbmVudCIsInJOb2RlIiwibmF0aXZlQXBwZW5kQ2hpbGQiLCJuYXRpdmVJbnNlcnRCZWZvcmUiLCJuYXRpdmVSZW1vdmVOb2RlIiwiZGVzdHJveU5vZGUiLCJwYXJlbnRSRWxlbWVudCIsImFuY2hvciIsImFwcGx5VmlldyIsImFwcGx5Q29udGFpbmVyIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVUZXh0IiwidXBkYXRlVGV4dE5vZGUiLCJzZXRWYWx1ZSIsInRleHRDb250ZW50IiwiY3JlYXRlQ29tbWVudE5vZGUiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRWxlbWVudE5vZGUiLCJuYW1lc3BhY2UiLCJuYW1lc3BhY2VVcmkiLCJnZXROYW1lc3BhY2VVcmkiLCJjcmVhdGVFbGVtZW50TlMiLCJkZXRhY2hNb3ZlZFZpZXciLCJkZWNsYXJhdGlvbkNvbnRhaW5lciIsIm1vdmVkVmlld3MiLCJkZWNsYXJhdGlvblZpZXdJbmRleCIsImluc2VydGlvbkxDb250YWluZXIiLCJkZXRhY2hWaWV3IiwicmVtb3ZlSW5kZXgiLCJpbmRleEluQ29udGFpbmVyIiwidmlld1RvRGV0YWNoIiwiZGVjbGFyYXRpb25MQ29udGFpbmVyIiwicmVtb3ZlZExWaWV3IiwibFF1ZXJpZXMiLCJRVUVSSUVTIiwiZGVzdHJveUxWaWV3IiwibFZpZXdPckxDb250YWluZXIiLCJjbGVhblVwVmlldyIsImZpcnN0VmlldyIsImRlc3Ryb3lWaWV3VHJlZSIsInRvQ2FsbCIsImNhbGxDb250ZXh0IiwiZXhlY3V0ZU9uRGVzdHJveXMiLCJ0Q2xlYW51cCIsImNsZWFudXAiLCJsQ2xlYW51cCIsImxhc3RMQ2xlYW51cEluZGV4IiwiaWR4T3JUYXJnZXRHZXR0ZXIiLCJsaXN0ZW5lciIsInVzZUNhcHR1cmVPclN1YklkeCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbnN0YW5jZUNsZWFudXBGbiIsInByb2Nlc3NDbGVhbnVwcyIsImRlc3Ryb3kiLCJnZXRQYXJlbnRSRWxlbWVudCIsImdldENsb3Nlc3RSRWxlbWVudCIsIk5vbmUiLCJpc01vdmUiLCJpbnNlcnRCZWZvcmUiLCJuYXRpdmVBcHBlbmRPckluc2VydEJlZm9yZSIsIm5hdGl2ZVBhcmVudE5vZGUiLCJnZXRJbnNlcnRJbkZyb250T2ZSTm9kZSIsIl9nZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuIiwiZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuIiwiX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlIiwic2V0STE4bkhhbmRsaW5nIiwiZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biIsInByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlIiwiY2hpbGRSTm9kZSIsImNoaWxkVE5vZGUiLCJwYXJlbnRSTm9kZSIsImFuY2hvck5vZGUiLCJnZXRGaXJzdE5hdGl2ZU5vZGUiLCJnZXRCZWZvcmVOb2RlRm9yVmlldyIsImVsSWN1Q29udGFpbmVyQ2hpbGQiLCJyTm9kZU9yTENvbnRhaW5lciIsIm5leHRSTm9kZSIsInByb2plY3Rpb25Ob2RlcyIsImdldFByb2plY3Rpb25Ob2RlcyIsImNvbXBvbmVudEhvc3QiLCJwcm9qZWN0aW9uIiwiYXNzZXJ0UHJvamVjdGlvblNsb3RzIiwidmlld0luZGV4SW5Db250YWluZXIiLCJuZXh0Vmlld0luZGV4IiwiZmlyc3RUTm9kZU9mVmlldyIsImlzSG9zdEVsZW1lbnQiLCJuYXRpdmVQYXJlbnQiLCJuYXRpdmVSZW1vdmVDaGlsZCIsImFwcGx5Tm9kZXMiLCJpc1Byb2plY3Rpb24iLCJyYXdTbG90VmFsdWUiLCJhcHBseVByb2plY3Rpb25SZWN1cnNpdmUiLCJwcm9qZWN0aW9uTmV4dCIsInRQcm9qZWN0aW9uTm9kZSIsImNvbXBvbmVudExWaWV3IiwiY29tcG9uZW50Tm9kZSIsIm5vZGVUb1Byb2plY3RPclJOb2RlcyIsIndyaXRlRGlyZWN0U3R5bGUiLCJjc3NUZXh0Iiwid3JpdGVEaXJlY3RDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzSW5kZXhPZiIsImNsYXNzVG9TZWFyY2giLCJzdGFydGluZ0luZGV4IiwiZm91bmRJbmRleCIsIk5HX1RFTVBMQVRFX1NFTEVDVE9SIiwiaXNDc3NDbGFzc01hdGNoaW5nIiwiY3NzQ2xhc3NUb01hdGNoIiwiaXNQcm9qZWN0aW9uTW9kZSIsImlzSW5saW5lVGVtcGxhdGUiLCJoYXNUYWdBbmRUeXBlTWF0Y2giLCJjdXJyZW50U2VsZWN0b3IiLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yIiwibm9kZUF0dHJzIiwibmFtZU9ubHlNYXJrZXJJZHgiLCJnZXROYW1lT25seU1hcmtlckluZGV4Iiwic2tpcFRvTmV4dFNlbGVjdG9yIiwiaXNQb3NpdGl2ZSIsInNlbGVjdG9yQXR0clZhbHVlIiwiYXR0ckluZGV4SW5Ob2RlIiwiZmluZEF0dHJJbmRleEluTm9kZSIsIm5vZGVBdHRyVmFsdWUiLCJjb21wYXJlQWdhaW5zdENsYXNzTmFtZSIsImJpbmRpbmdzTW9kZSIsIm1heWJlQXR0ck5hbWUiLCJhdHRyIiwibWF0Y2hUZW1wbGF0ZUF0dHJpYnV0ZSIsImlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0IiwiaXNTZWxlY3RvckluU2VsZWN0b3JMaXN0Iiwic2VsZWN0b3JMaXN0TG9vcCIsImN1cnJlbnRTZWxlY3RvckluTGlzdCIsIm1heWJlV3JhcEluTm90U2VsZWN0b3IiLCJpc05lZ2F0aXZlTW9kZSIsImNodW5rIiwic3RyaW5naWZ5Q1NTU2VsZWN0b3IiLCJjdXJyZW50Q2h1bmsiLCJ2YWx1ZU9yTWFya2VyIiwiYXR0clZhbHVlIiwiTk9fQ0hBTkdFIiwiX19icmFuZF9fIiwiZGVsdGEiLCJzZWxlY3RJbmRleEludGVybmFsIiwiY2hlY2tOb0NoYW5nZXNNb2RlIiwiYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZSIsImNyZWF0ZU5hbWVkQXJyYXlUeXBlIiwidG9UU3R5bGluZ1JhbmdlIiwiZ2V0VFN0eWxpbmdSYW5nZVByZXYiLCJ0U3R5bGluZ1JhbmdlIiwiZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUiLCJzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSIsImdldFRTdHlsaW5nUmFuZ2VOZXh0Iiwic2V0VFN0eWxpbmdSYW5nZU5leHQiLCJnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSIsInNldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlIiwiYXR0YWNoRGVidWdPYmplY3QiLCJkZWJ1ZyIsImF0dGFjaERlYnVnR2V0dGVyIiwiZGVidWdHZXR0ZXIiLCJMVklFV19DT01QT05FTlRfQ0FDSEUiLCJMVklFV19FTUJFRERFRF9DQUNIRSIsIkxWSUVXX1JPT1QiLCJMVklFV19DT01QT05FTlQiLCJMVklFV19FTUJFRERFRCIsIkxSb290VmlldyIsIkxDb21wb25lbnRWaWV3IiwiTEVtYmVkZGVkVmlldyIsIm5hbWVTdWZmaXgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsInRvRGVidWdTdHlsZUJpbmRpbmciLCJpc0NsYXNzQmFzZWQiLCJiaW5kaW5ncyIsInJhbmdlIiwiY2xhc3NCaW5kaW5ncyIsInN0eWxlQmluZGluZ3MiLCJpc1RlbXBsYXRlIiwiY3Vyc29yIiwiaXRlbUtleSIsIml0ZW1SYW5nZSIsInByZXZEdXBsaWNhdGUiLCJuZXh0RHVwbGljYXRlIiwibmV4dEluZGV4IiwicHJldkluZGV4IiwicmVzaWR1YWxDbGFzc2VzIiwicmVzaWR1YWxTdHlsZXMiLCJwcm9jZXNzVE5vZGVDaGlsZHJlbiIsInRlbXBsYXRlXyIsIlRWaWV3RGF0YSIsIlRWSUVXREFUQV9FTVBUWSIsIkxWaWV3Qmx1ZXByaW50IiwiTWF0Y2hlc0FycmF5IiwiVFZpZXdDb21wb25lbnRzIiwiVE5vZGVMb2NhbE5hbWVzIiwiVE5vZGVJbml0aWFsSW5wdXRzIiwiTENsZWFudXAiLCJUQ2xlYW51cCIsInRvRGVidWciLCJ0b0h0bWwiLCJpbmNsdWRlQ2hpbGRyZW4iLCJDT01NRU5UX05PREUiLCJMVmlld0RlYnVnIiwiX3Jhd19sVmlldyIsIl9fcmF3X19mbGFnc19fIiwiaW5pdFBoYXNlU3RhdGUiLCJjcmVhdGlvbk1vZGUiLCJmaXJzdFZpZXdQYXNzIiwiY2hlY2tBbHdheXMiLCJkaXJ0eSIsImF0dGFjaGVkIiwiZGVzdHJveWVkIiwiaW5kZXhXaXRoaW5Jbml0UGhhc2UiLCJob3N0SFRNTCIsIm5vZGVzIiwibWFwVG9IVE1MIiwidG9EZWJ1Z05vZGVzIiwicmVuZGVyZXJGYWN0b3J5IiwiUkVOREVSRVJfRkFDVE9SWSIsImNoaWxkSGVhZCIsImNoaWxkVGFpbCIsImRlY2xhcmF0aW9uVmlldyIsInF1ZXJpZXMiLCJ0SG9zdCIsInRvTFZpZXdSYW5nZSIsImV4cGFuZG8iLCJjaGlsZFZpZXdzIiwiY2hpbGRyZW4iLCJsIiwiZGVidWdOb2RlcyIsInROb2RlQ3Vyc29yIiwiYnVpbGREZWJ1Z05vZGUiLCJmYWN0b3JpZXMiLCJpbnN0YW5jZXMiLCJidWlsZE5vZGVJbmplY3RvckRlYnVnIiwiaW5qZWN0b3JSZXNvbHV0aW9uUGF0aCIsImRlYnVnTm9kZUluamVjdG9yUGF0aCIsInZpZXdQcm92aWRlcnMiLCJwcm92aWRlckluZGV4U3RhcnRfIiwicHJvdmlkZXJJbmRleEVuZF8iLCJibG9vbSIsInRvQmxvb20iLCJjdW11bGF0aXZlQmxvb20iLCJwYXJlbnRJbmplY3RvckluZGV4IiwiYmluYXJ5IiwiaWR4IiwiTENvbnRhaW5lckRlYnVnIiwiX3Jhd19sQ29udGFpbmVyIiwiaGFzVHJhbnNwbGFudGVkVmlld3MiLCJ2aWV3cyIsIl9DTEVBTl9QUk9NSVNFIiwicmVmcmVzaENvbnRlbnRRdWVyaWVzIiwicXVlcnlTdGFydElkeCIsImRpcmVjdGl2ZURlZklkeCIsImNyZWF0ZUxWaWV3IiwidEhvc3ROb2RlIiwiY29tcG9uZW50QXJyYXkiLCJlbWJlZGRlZEFycmF5IiwiZ2V0TFZpZXdUb0Nsb25lIiwiY2xvbmVUb0xWaWV3RnJvbVRWaWV3Qmx1ZXByaW50IiwiYXR0YWNoTFZpZXdEZWJ1ZyIsImdldE9yQ3JlYXRlVE5vZGUiLCJhc3NlcnRQdXJlVE5vZGVUeXBlIiwiY3JlYXRlVE5vZGVBdEluZGV4IiwidFBhcmVudCIsImluc2VydEJlZm9yZUluZGV4IiwiZGlyZWN0aXZlU3R5bGluZ0xhc3QiLCJwcm9wZXJ0eUJpbmRpbmdzIiwibWVyZ2VkQXR0cnMiLCJsb2NhbE5hbWVzIiwiaW5pdGlhbElucHV0cyIsInRWaWV3cyIsInN0eWxlc1dpdGhvdXRIb3N0IiwiY2xhc3Nlc1dpdGhvdXRIb3N0IiwidHlwZV8iLCJmbGFnc18iLCJzdHlsZUJpbmRpbmdzXyIsImNsYXNzQmluZGluZ3NfIiwic2VhbCIsImNyZWF0ZVROb2RlIiwiYWxsb2NFeHBhbmRvIiwibnVtU2xvdHNUb0FsbG9jIiwiYWxsb2NJZHgiLCJyZW5kZXJWaWV3IiwiZXhlY3V0ZVZpZXdRdWVyeUZuIiwidGVtcGxhdGVGbiIsImV4ZWN1dGVUZW1wbGF0ZSIsInN0YXRpY0NvbnRlbnRRdWVyaWVzIiwic3RhdGljVmlld1F1ZXJpZXMiLCJob3N0TFZpZXciLCJyZW5kZXJDb21wb25lbnQkMSIsInJlbmRlckNoaWxkQ29tcG9uZW50cyIsImluY29tcGxldGVGaXJzdFBhc3MiLCJyZWZyZXNoVmlldyIsImlzSW5DaGVja05vQ2hhbmdlc1Bhc3MiLCJob29rc0luaXRQaGFzZUNvbXBsZXRlZCIsIm1vdmVkTFZpZXciLCJtYXJrVHJhbnNwbGFudGVkVmlld3NGb3JSZWZyZXNoIiwiZW1iZWRkZWRMVmlldyIsImVtYmVkZGVkVFZpZXciLCJyZWZyZXNoRW1iZWRkZWRWaWV3cyIsImhvc3RCaW5kaW5nT3BDb2RlcyIsIm9wQ29kZSIsImRpcmVjdGl2ZUlkeCIsImJpbmRpbmdSb290SW5keCIsImhvc3RCaW5kaW5nRm4iLCJwcm9jZXNzSG9zdEJpbmRpbmdPcENvZGVzIiwicmVmcmVzaENvbXBvbmVudCIsInJlZnJlc2hDaGlsZENvbXBvbmVudHMiLCJyZW5kZXJDb21wb25lbnRPclRlbXBsYXRlIiwibm9ybWFsRXhlY3V0aW9uUGF0aCIsImNyZWF0aW9uTW9kZUlzQWN0aXZlIiwiYmVnaW4iLCJyZiIsInByZXZTZWxlY3RlZEluZGV4IiwiaXNVcGRhdGVQaGFzZSIsImV4ZWN1dGVDb250ZW50UXVlcmllcyIsImNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXMiLCJhZGRDb21wb25lbnRMb2dpYyIsInNldElucHV0c0Zyb21BdHRycyIsImluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyIsImVsZW1lbnRJbmRleCIsImRpckluZGV4IiwiaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUiLCJpbnZva2VEaXJlY3RpdmVzSG9zdEJpbmRpbmdzIiwic2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhIiwidmlld0RhdGEiLCJsb2NhbFJlZkV4dHJhY3RvciIsImxvY2FsSW5kZXgiLCJnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3IiwiY3JlYXRlVFZpZXciLCJjb25zdHNPckZhY3RvcnkiLCJpbml0aWFsVmlld0xlbmd0aCIsImNyZWF0ZVZpZXdCbHVlcHJpbnQiLCJkaXJlY3RpdmVSZWdpc3RyeSIsInBpcGVSZWdpc3RyeSIsIl9kZWNscyIsIl92YXJzIiwiZmlsbCIsImxvY2F0ZUhvc3RFbGVtZW50IiwiZWxlbWVudE9yU2VsZWN0b3IiLCJwcmVzZXJ2ZUNvbnRlbnQiLCJTaGFkb3dEb20iLCJzZWxlY3RSb290RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhc3NlcnRIb3N0Tm9kZUV4aXN0cyIsInN0b3JlQ2xlYW51cFdpdGhDb250ZXh0IiwiY2xlYW51cEZuIiwiZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAiLCJnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCIsImdlbmVyYXRlUHJvcGVydHlBbGlhc2VzIiwiaW5wdXRBbGlhc01hcCIsInByb3BTdG9yZSIsImludGVybmFsTmFtZSIsImVsZW1lbnRQcm9wZXJ0eUludGVybmFsIiwibmF0aXZlT25seSIsImRhdGFWYWx1ZSIsImlucHV0RGF0YSIsInNldElucHV0c0ZvclByb3BlcnR5Iiwidmlld0luZGV4IiwiY2hpbGRDb21wb25lbnRMVmlldyIsIm1hcmtEaXJ0eUlmT25QdXNoIiwic2V0TmdSZWZsZWN0UHJvcGVydHkiLCJzZXROZ1JlZmxlY3RQcm9wZXJ0aWVzIiwic3RhcnRzV2l0aCIsInZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyIsIm1hdGNoaW5nU2NoZW1hcyIsInZhbGlkYXRlUHJvcGVydHkiLCJsb2dVbmtub3duUHJvcGVydHlFcnJvciIsImRlYnVnVmFsdWUiLCJub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSIsInNjaGVtYSIsInJlc29sdmVEaXJlY3RpdmVzIiwiaGFzRGlyZWN0aXZlcyIsInJlZ2lzdHJ5IiwibWF0Y2hlcyIsIm1hcmtBc0NvbXBvbmVudEhvc3QiLCJmaW5kRGlyZWN0aXZlRGVmTWF0Y2hlcyIsImV4cG9ydHNNYXAiLCJpbml0VE5vZGVGbGFncyIsInByZU9yZGVySG9va3NGb3VuZCIsInByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kIiwiY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUiLCJzYXZlTmFtZVRvRXhwb3J0TWFwIiwibGlmZUN5Y2xlSG9va3MiLCJ0Vmlld0RhdGEiLCJ0Tm9kZUF0dHJzIiwiaW5wdXRzRnJvbUF0dHJzIiwiaW5wdXRzU3RvcmUiLCJvdXRwdXRzU3RvcmUiLCJkaXJlY3RpdmVJbnB1dHMiLCJnZW5lcmF0ZUluaXRpYWxJbnB1dHMiLCJpbml0aWFsaXplSW5wdXRBbmRPdXRwdXRBbGlhc2VzIiwiY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXMiLCJyZWdpc3Rlckhvc3RCaW5kaW5nT3BDb2RlcyIsImRpcmVjdGl2ZVZhcnNJZHgiLCJlbGVtZW50SW5keCIsImxhc3RTZWxlY3RlZEVsZW1lbnRJZHgiLCJob3N0VE5vZGUiLCJudW1iZXJPZkRpcmVjdGl2ZXMiLCJkaXJlY3RpdmVGYWN0b3J5Iiwibm9kZUluamVjdG9yRmFjdG9yeSIsImNvbXBvbmVudFZpZXciLCJhZGRUb1ZpZXdUcmVlIiwiZWxlbWVudEF0dHJpYnV0ZUludGVybmFsIiwidmFsaWRhdGVBZ2FpbnN0RXZlbnRBdHRyaWJ1dGVzIiwic2V0RWxlbWVudEF0dHJpYnV0ZSIsInN0clZhbHVlIiwiaW5pdGlhbElucHV0RGF0YSIsImlucHV0c1RvU3RvcmUiLCJMQ29udGFpbmVyQXJyYXkiLCJjcmVhdGVMQ29udGFpbmVyIiwiaG9zdE5hdGl2ZSIsImF0dGFjaExDb250YWluZXJEZWJ1ZyIsImNvbXBvbmVudEhvc3RJZHgiLCJyZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXciLCJjb21wb25lbnRUVmlldyIsInN5bmNWaWV3V2l0aEJsdWVwcmludCIsIm1hcmtWaWV3RGlydHkiLCJ0aWNrUm9vdENvbnRleHQiLCJyb290Q29udGV4dCIsInJvb3RDb21wb25lbnQiLCJkZXRlY3RDaGFuZ2VzSW50ZXJuYWwiLCJkZXRlY3RDaGFuZ2VzSW5Sb290VmlldyIsInZpZXdRdWVyeUZuIiwic3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSIsInByb3BlcnR5TmFtZSIsImludGVycG9sYXRpb25QYXJ0cyIsImJpbmRpbmdNZXRhZGF0YSIsIkNMRUFOX1BST01JU0UiLCJsb2FkQ29tcG9uZW50UmVuZGVyZXIiLCJjdXJyZW50RGVmIiwidW53cmFwTFZpZXciLCJ0ZXh0QmluZGluZ0ludGVybmFsIiwiY29tcHV0ZVN0YXRpY1N0eWxpbmciLCJ3cml0ZVRvSG9zdCIsImRldGVjdENoYW5nZXMiLCJtYXJrRGlydHkiLCJjbGVhbiIsInBsYXllckhhbmRsZXIiLCJmbHVzaFBsYXllcnMiLCJzY2hlZHVsZVRpY2siLCJJTkpFQ1RPUiIsIk51bGxJbmplY3RvciIsIklOSkVDVE9SX1NDT1BFIiwiTk9UX1lFVCIsIkNJUkNVTEFSIiwiTlVMTF9JTkpFQ1RPUiQxIiwiZ2V0TnVsbEluamVjdG9yIiwiY3JlYXRlSW5qZWN0b3IiLCJkZWZUeXBlIiwiYWRkaXRpb25hbFByb3ZpZGVycyIsImNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzIiwiX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzIiwiUjNJbmplY3RvciIsInJlY29yZHMiLCJpbmplY3RvckRlZlR5cGVzIiwiX2Rlc3Ryb3llZCIsImRlZHVwU3RhY2siLCJwcm9jZXNzUHJvdmlkZXIiLCJpbmplY3RvckRlZiIsInByb2Nlc3NJbmplY3RvclR5cGUiLCJtYWtlUmVjb3JkIiwiYXNzZXJ0Tm90RGVzdHJveWVkIiwic2VydmljZSIsInByZXZpb3VzSW5qZWN0b3IiLCJpbmplY3RhYmxlRGVmSW5TY29wZSIsImluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSIsImh5ZHJhdGUiLCJuZXh0SW5qZWN0b3IiLCJpbmplY3RvckVycm9yTmFtZSIsInRva2VuUGF0aCIsImNoYXJBdCIsInBhcnRzIiwiZm9ybWF0RXJyb3IiLCJjYXRjaEluamVjdG9yRXJyb3IiLCJ0b2tlbnMiLCJkZWZPcldyYXBwZWREZWYiLCJwYXJlbnRzIiwibmdNb2R1bGUiLCJpc0R1cGxpY2F0ZSIsImltcG9ydFR5cGVzV2l0aFByb3ZpZGVycyIsImltcG9ydGVkIiwiZGVmUHJvdmlkZXJzIiwiaW5qZWN0b3JUeXBlIiwibmdNb2R1bGVUeXBlIiwiaXNUeXBlUHJvdmlkZXIiLCJpc1ZhbHVlUHJvdmlkZXIiLCJwcm92aWRlclRvRmFjdG9yeSIsInByb3ZpZGVyVG9SZWNvcmQiLCJtdWx0aSIsImV4aXN0aW5nIiwibXVsdGlSZWNvcmQiLCJwYXJhbUxlbmd0aCIsImluaGVyaXRlZEluamVjdGFibGVEZWYiLCJ0eXBlTmFtZSIsImdldEluaGVyaXRlZEluamVjdGFibGVEZWYiLCJnZXRVbmRlY29yYXRlZEluamVjdGFibGVGYWN0b3J5IiwidW53cmFwcGVkUHJvdmlkZXIiLCJ1c2VGYWN0b3J5IiwidXNlRXhpc3RpbmciLCJpc0V4aXN0aW5nUHJvdmlkZXIiLCJjbGFzc1JlZiIsInVzZUNsYXNzIiwibmdNb2R1bGVEZXRhaWwiLCJ0aHJvd0ludmFsaWRQcm92aWRlckVycm9yIiwiaGFzRGVwcyIsIkluamVjdG9yIiwic3RhdGljIiwiZ2V0Q29tcG9uZW50JDEiLCJhc3NlcnREb21FbGVtZW50IiwiZ2V0Q29tcG9uZW50QXROb2RlSW5kZXgiLCJnZXRDb250ZXh0IiwiZ2V0T3duaW5nQ29tcG9uZW50IiwiZWxlbWVudE9yRGlyIiwiZ2V0Um9vdENvbXBvbmVudHMiLCJnZXRJbmplY3RvciIsIk5VTEwiLCJnZXREaXJlY3RpdmVzIiwiVGV4dCIsImdldERpcmVjdGl2ZU1ldGFkYXRhJDEiLCJkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlIiwiY29tcG9uZW50RGVmIiwiZ2V0SG9zdEVsZW1lbnQiLCJjb21wb25lbnRPckRpcmVjdGl2ZSIsImdldExpc3RlbmVycyIsImxDb250ZXh0IiwibGlzdGVuZXJzIiwiZmlyc3RQYXJhbSIsInNlY29uZFBhcmFtIiwibGlzdGVuZXJFbGVtZW50IiwidXNlQ2FwdHVyZU9ySW5keCIsInVzZUNhcHR1cmUiLCJzb3J0TGlzdGVuZXJzIiwiRWxlbWVudCIsImFwcGx5Q2hhbmdlcyIsIl9wdWJsaXNoZWQiLCJwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEiLCJwdWJsaXNoR2xvYmFsVXRpbCIsIkNPTVBJTEVEIiwidyIsInJlbmRlckNvbXBvbmVudCIsImNvbXBvbmVudFR5cGUiLCJjb21wb25lbnRUYWciLCJob3N0Uk5vZGUiLCJyb290RmxhZ3MiLCJjcmVhdGVSb290Q29udGV4dCIsInJvb3RUVmlldyIsImNyZWF0ZVJvb3RDb21wb25lbnQiLCJjcmVhdGVSb290Q29tcG9uZW50VmlldyIsImhvc3RGZWF0dXJlcyIsImhvc3RSZW5kZXJlciIsInZpZXdSZW5kZXJlciIsInJvb3RMVmlldyIsInJvb3RUTm9kZSIsImluc3RhbnRpYXRlUm9vdENvbXBvbmVudCIsIkxpZmVjeWNsZUhvb2tzRmVhdHVyZSIsIndoZW5SZW5kZXJlZCIsImdldFN1cGVyVHlwZSIsInN1cGVyVHlwZSIsInNob3VsZEluaGVyaXRGaWVsZHMiLCJpbmhlcml0YW5jZUNoYWluIiwic3VwZXJEZWYiLCJ3cml0ZWFibGVEZWYiLCJtYXliZVVud3JhcEVtcHR5Iiwic3VwZXJIb3N0QmluZGluZ3MiLCJpbmhlcml0SG9zdEJpbmRpbmdzIiwic3VwZXJWaWV3UXVlcnkiLCJzdXBlckNvbnRlbnRRdWVyaWVzIiwiaW5oZXJpdFZpZXdRdWVyeSIsImluaGVyaXRDb250ZW50UXVlcmllcyIsImFuaW1hdGlvbiIsImRlZkRhdGEiLCJtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlIiwicHJldlZpZXdRdWVyeSIsImN0eCIsInByZXZDb250ZW50UXVlcmllcyIsInByZXZIb3N0QmluZGluZ3MiLCJDT1BZX0RJUkVDVElWRV9GSUVMRFMiLCJDT1BZX0NPTVBPTkVOVF9GSUVMRFMiLCJkZWZBbnkiLCJfc3ltYm9sSXRlcmF0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZGV2TW9kZUVxdWFsIiwiaXNMaXN0TGlrZUl0ZXJhYmxlQSIsImlzTGlzdExpa2VJdGVyYWJsZSIsImlzTGlzdExpa2VJdGVyYWJsZUIiLCJpdGVyYXRvcjEiLCJpdGVyYXRvcjIiLCJpdGVtMSIsIml0ZW0yIiwiYXJlSXRlcmFibGVzRXF1YWwiLCJpc0FPYmplY3QiLCJpc0JPYmplY3QiLCJpcyIsImlzSnNPYmplY3QiLCJ1cGRhdGVCaW5kaW5nIiwiZ2V0QmluZGluZyIsImJpbmRpbmdVcGRhdGVkIiwib2xkVmFsdWVUb0NvbXBhcmUiLCJkZXRhaWxzIiwibWV0YWRhdGEiLCJSZWdFeHAiLCJnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyIsImN1cnJWYWx1ZSIsInRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUiLCJiaW5kaW5nVXBkYXRlZDIiLCJleHAxIiwiZXhwMiIsImRpZmZlcmVudCIsImJpbmRpbmdVcGRhdGVkMyIsImV4cDMiLCJiaW5kaW5nVXBkYXRlZDQiLCJleHA0IiwiaW50ZXJwb2xhdGlvblYiLCJpc0JpbmRpbmdVcGRhdGVkIiwiaW50ZXJwb2xhdGlvbjEiLCJ2MCIsInN1ZmZpeCIsImludGVycG9sYXRpb24yIiwiaTAiLCJ2MSIsImludGVycG9sYXRpb24zIiwiaTEiLCJ2MiIsImludGVycG9sYXRpb240IiwiaTIiLCJ2MyIsImludGVycG9sYXRpb241IiwiaTMiLCJ2NCIsImludGVycG9sYXRpb242IiwiaTQiLCJ2NSIsImludGVycG9sYXRpb243IiwiaTUiLCJ2NiIsImludGVycG9sYXRpb244IiwiaTYiLCJ2NyIsImludGVycG9sYXRlZFZhbHVlIiwiaW50ZXJwb2xhdGVkIiwiaW50ZXJwb2xhdGlvbkluQmV0d2VlbiIsImF0dHJzSW5kZXgiLCJsb2NhbFJlZnNJbmRleCIsImFkanVzdGVkSW5kZXgiLCJ0Vmlld0NvbnN0cyIsInRlbXBsYXRlRmlyc3RDcmVhdGVQYXNzIiwiY29tbWVudCIsImFuZ3VsYXJDb3JlRGlFbnYiLCJVU0VfVkFMVUUiLCJpc1VzZUNsYXNzUHJvdmlkZXIiLCJpc1VzZUZhY3RvcnlQcm92aWRlciIsIm5nRmFjdG9yeURlZiIsImNvbXBpbGVyIiwiY29tcGlsZUluamVjdGFibGUiLCJzcmNNZXRhIiwiY29tcGlsZXJNZXRhIiwidHlwZUFyZ3VtZW50Q291bnQiLCJpc1VzZVZhbHVlUHJvdmlkZXIiLCJpc1VzZUV4aXN0aW5nUHJvdmlkZXIiLCJnZXRJbmplY3RhYmxlTWV0YWRhdGEiLCJjb21waWxlRmFjdG9yeSIsImNvbnN0cnVjdFJlc29sdmluZ1BhdGgiLCJmaW5kRmlyc3RDbG9zZWRDeWNsZSIsInJldmVyc2UiLCJrIiwiaW5qZWN0aW9uRXJyb3IiLCJjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlIiwiZXJyTXNnIiwid3JhcHBlZEVycm9yIiwiYWRkS2V5IiwiaW5qZWN0b3JzIiwibm9Bbm5vdGF0aW9uRXJyb3IiLCJwYXJhbXMiLCJwYXJhbWV0ZXIiLCJSZWZsZWN0aXZlS2V5IiwiZGlzcGxheU5hbWUiLCJfZ2xvYmFsS2V5UmVnaXN0cnkiLCJudW1iZXJPZktleXMiLCJfYWxsS2V5cyIsIm5ld0tleSIsInJlZmxlY3RvciIsInJlZmxlY3Rpb25DYXBhYmlsaXRpZXMiLCJ1cGRhdGVDYXBhYmlsaXRpZXMiLCJjYXBzIiwiaWRlbnRpZmllciIsIlJlZmxlY3RpdmVEZXBlbmRlbmN5IiwidmlzaWJpbGl0eSIsIl9FTVBUWV9MSVNUIiwiUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfIiwicmVzb2x2ZWRGYWN0b3JpZXMiLCJtdWx0aVByb3ZpZGVyIiwicmVzb2x2ZWRGYWN0b3J5IiwiUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSIsImRlcGVuZGVuY2llcyIsInJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeSIsImZhY3RvcnlGbiIsInJlc29sdmVkRGVwcyIsIl9kZXBlbmRlbmNpZXNGb3IiLCJhbGlhc0luc3RhbmNlIiwiZnJvbUtleSIsIl9leHRyYWN0VG9rZW4iLCJjb25zdHJ1Y3REZXBlbmRlbmNpZXMiLCJyZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyIiwicmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMiLCJyZXNvbHZlZFByb3ZpZGVyTWFwIiwibm9ybWFsaXplZFByb3ZpZGVyc01hcCIsInJlc29sdmVkUHJvdmlkZXIiLCJtZXJnZVJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyIsIl9ub3JtYWxpemVQcm92aWRlcnMiLCJfY3JlYXRlRGVwZW5kZW5jeSIsInBhcmFtTWV0YWRhdGEiLCJVTkRFRklORUQiLCJSZWZsZWN0aXZlSW5qZWN0b3IiLCJSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMiLCJmcm9tUmVzb2x2ZWRQcm92aWRlcnMiLCJSZWZsZWN0aXZlSW5qZWN0b3JfIiwiX3Byb3ZpZGVycyIsIl9wYXJlbnQiLCJfY29uc3RydWN0aW9uQ291bnRlciIsImtleUlkcyIsIm9ianMiLCJfZ2V0QnlLZXkiLCJyZXNvbHZlQW5kQ3JlYXRlQ2hpbGQiLCJjcmVhdGVDaGlsZEZyb21SZXNvbHZlZCIsImluaiIsInJlc29sdmVBbmRJbnN0YW50aWF0ZSIsImluc3RhbnRpYXRlUmVzb2x2ZWQiLCJfaW5zdGFudGlhdGVQcm92aWRlciIsImdldFByb3ZpZGVyQXRJbmRleCIsIm91dE9mQm91bmRzRXJyb3IiLCJfbmV3IiwiX2dldE1heE51bWJlck9mT2JqZWN0cyIsIl9pbnN0YW50aWF0ZSIsIl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5Iiwib3JpZ2luYWxFeGNlcHRpb24iLCJJTkpFQ1RPUl9LRVkiLCJfZ2V0QnlLZXlTZWxmIiwiX2dldEJ5S2V5RGVmYXVsdCIsIl9nZXRPYmpCeUtleUlkIiwia2V5SWQiLCJfdGhyb3dPck51bGwiLCJub1Byb3ZpZGVyRXJyb3IiLCJpbmpfIiwiX21hcFByb3ZpZGVycyIsInNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmciLCJwcm9wZXJ0eSIsIkhUTUxVbmtub3duRWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwibG9nVW5rbm93bkVsZW1lbnRFcnJvciIsImVsZW1lbnRTdGFydCIsImVsZW1lbnRTdGFydEZpcnN0Q3JlYXRlUGFzcyIsImVsZW1lbnRFbmQiLCJoYXNDbGFzc0lucHV0IiwiaGFzU3R5bGVJbnB1dCIsImVsZW1lbnRDb250YWluZXJTdGFydEZpcnN0Q3JlYXRlUGFzcyIsImlzU3Vic2NyaWJhYmxlIiwiaXNPYnNlcnZhYmxlIiwiZXZlbnROYW1lIiwibGlzdGVuZXJGbiIsImV2ZW50VGFyZ2V0UmVzb2x2ZXIiLCJsaXN0ZW5lckludGVybmFsIiwiaXNUTm9kZURpcmVjdGl2ZUhvc3QiLCJwcm9jZXNzT3V0cHV0cyIsImxDbGVhbnVwSW5kZXgiLCJleGlzdGluZ0xpc3RlbmVyIiwidE5vZGVJZHgiLCJjbGVhbnVwRXZlbnROYW1lIiwibGlzdGVuZXJJZHhJbkxDbGVhbnVwIiwiZmluZEV4aXN0aW5nTGlzdGVuZXIiLCJfX25nTGFzdExpc3RlbmVyRm5fXyIsIl9fbmdOZXh0TGlzdGVuZXJGbl9fIiwid3JhcExpc3RlbmVyIiwibGlzdGVuIiwicHJvcHNMZW5ndGgiLCJtaW5pZmllZE5hbWUiLCJvdXRwdXQiLCJleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyIsIndyYXBXaXRoUHJldmVudERlZmF1bHQiLCJ3cmFwTGlzdGVuZXJJbl9tYXJrRGlydHlBbmRQcmV2ZW50RGVmYXVsdCIsIm5leHRMaXN0ZW5lckZuIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImxldmVsIiwibmVzdGluZ0xldmVsIiwid2Fsa1VwVmlld3MiLCJuZXh0Q29udGV4dEltcGwiLCJtYXRjaGluZ1Byb2plY3Rpb25TbG90SW5kZXgiLCJwcm9qZWN0aW9uU2xvdHMiLCJ3aWxkY2FyZE5nQ29udGVudEluZGV4IiwibmdQcm9qZWN0QXNBdHRyVmFsIiwibmdQcm9qZWN0QXNBdHRySWR4IiwiZ2V0UHJvamVjdEFzQXR0clZhbHVlIiwibnVtUHJvamVjdGlvblNsb3RzIiwicHJvamVjdGlvbkhlYWRzIiwidGFpbHMiLCJjb21wb25lbnRDaGlsZCIsInNsb3RJbmRleCIsInNlbGVjdG9ySW5kZXgiLCJhcHBseVByb2plY3Rpb24iLCJtYXJrRHVwbGljYXRlcyIsInRTdHlsaW5nS2V5IiwiaXNQcmV2RGlyIiwiaXNDbGFzc0JpbmRpbmciLCJ0U3R5bGluZ0F0SW5kZXgiLCJpc01hcCIsImZvdW5kRHVwbGljYXRlIiwidFN0eWxpbmdWYWx1ZUF0Q3Vyc29yIiwidFN0eWxlUmFuZ2VBdEN1cnNvciIsImlzU3R5bGluZ01hdGNoIiwidFN0eWxpbmdLZXlDdXJzb3IiLCJwYXJzZXJTdGF0ZSIsInRleHRFbmQiLCJrZXlFbmQiLCJ2YWx1ZUVuZCIsImdldExhc3RQYXJzZWRLZXkiLCJnZXRMYXN0UGFyc2VkVmFsdWUiLCJwYXJzZUNsYXNzTmFtZU5leHQiLCJjb25zdW1lQ2xhc3NUb2tlbiIsImNvbnN1bWVXaGl0ZXNwYWNlIiwicGFyc2VTdHlsZU5leHQiLCJjaCIsImNvbnN1bWVTdHlsZUtleSIsImNvbnN1bWVTZXBhcmF0b3IiLCJjaDEiLCJjaDIiLCJjaDMiLCJsYXN0Q2hJbmRleCIsImNvbnN1bWVRdW90ZWRUZXh0IiwiY29uc3VtZVN0eWxlVmFsdWUiLCJyZXNldFBhcnNlclN0YXRlIiwic2VwYXJhdG9yIiwibWFsZm9ybWVkU3R5bGVFcnJvciIsImZyb21DaGFyQ29kZSIsInF1b3RlQ2hhckNvZGUiLCJleHBlY3RpbmciLCJjaGVja1N0eWxpbmdQcm9wZXJ0eSIsImNoZWNrU3R5bGluZ01hcCIsInN0eWxlS2V5VmFsdWVBcnJheVNldCIsInN0eWxlU3RyaW5nUGFyc2VyIiwicGFyc2VTdHlsZSIsImNsYXNzU3RyaW5nUGFyc2VyIiwicGFyc2VDbGFzc05hbWUiLCJzdHlsaW5nRmlyc3RVcGRhdGVQYXNzIiwidXBkYXRlU3R5bGluZyIsIm5vcm1hbGl6ZVN1ZmZpeCIsInN0cmluZ1BhcnNlciIsImhhc1N0eWxpbmdJbnB1dFNoYWRvdyIsImlzSW5Ib3N0QmluZGluZ3MiLCJzdGF0aWNQcmVmaXgiLCJlbmRzV2l0aCIsIm9sZEtleVZhbHVlQXJyYXkiLCJuZXdLZXlWYWx1ZUFycmF5Iiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIm9sZEtleSIsInNldEtleSIsInVwZGF0ZVN0eWxpbmdNYXAiLCJzdHlsZUtleVZhbHVlQXJyYXkiLCJ1bndyYXBwZWRWYWx1ZSIsInRvU3R5bGluZ0tleVZhbHVlQXJyYXkiLCJpc0hvc3RCaW5kaW5ncyIsInN0eWxpbmdLZXkiLCJob3N0RGlyZWN0aXZlRGVmIiwicmVzaWR1YWwiLCJjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMiLCJjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzIiwidGVtcGxhdGVTdHlsaW5nS2V5IiwiZ2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkiLCJzZXRUZW1wbGF0ZUhlYWRUU3R5bGluZ0tleSIsImNvbGxlY3RSZXNpZHVhbCIsIndyYXBJblN0YXRpY1N0eWxpbmdLZXkiLCJ0U3R5bGluZ0tleVdpdGhTdGF0aWMiLCJpc0hvc3RCaW5kaW5nIiwidEJpbmRpbmdzIiwidG1wbEhlYWQiLCJ0bXBsVGFpbCIsImlzS2V5RHVwbGljYXRlT2ZTdGF0aWMiLCJzdGF0aWNLZXlWYWx1ZUFycmF5IiwicHJldmlvdXNOb2RlIiwibWFya0R1cGxpY2F0ZU9mUmVzaWR1YWxTdHlsaW5nIiwiaW5zZXJ0VFN0eWxpbmdCaW5kaW5nIiwiY3VycmVudERpcmVjdGl2ZSIsImRlc2lyZWRNYXJrZXIiLCJjdXJyZW50TWFya2VyIiwidFJhbmdlIiwiaXNTdHlsaW5nVmFsdWVQcmVzZW50IiwiZmluZFN0eWxpbmdWYWx1ZSIsImlzUHJvY2VkdXJhbCIsImFkZENsYXNzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJEYXNoQ2FzZSIsInJlbW92ZVN0eWxlIiwicmVtb3ZlUHJvcGVydHkiLCJpc0ltcG9ydGFudCIsIkltcG9ydGFudCIsInNldFN0eWxlIiwiYXBwbHlTdHlsaW5nIiwiaXNQcmV2RGlyZWN0aW9uIiwicmF3S2V5IiwiY29udGFpbnNTdGF0aWNzIiwiaXNTdHlsaW5nTWFwIiwidmFsdWVBdExWaWV3SW5kZXgiLCJ0ZXh0TmF0aXZlIiwidmFsdWVTdWZmaXgiLCJuZ0kxOG5DbG9zdXJlTW9kZSIsImdvb2ciLCJnZXRNc2ciLCJ1IiwibG9jYWxlRW4iLCJ2YWwiLCJMT0NBTEVfREFUQSIsInJlZ2lzdGVyTG9jYWxlRGF0YSIsImxvY2FsZUlkIiwiZXh0cmFEYXRhIiwiTG9jYWxlRGF0YUluZGV4IiwiTG9jYWxlSWQiLCJFeHRyYURhdGEiLCJmaW5kTG9jYWxlRGF0YSIsImxvY2FsZSIsIm5vcm1hbGl6ZWRMb2NhbGUiLCJub3JtYWxpemVMb2NhbGUiLCJnZXRMb2NhbGVEYXRhIiwicGFyZW50TG9jYWxlIiwiZ2V0TG9jYWxlQ3VycmVuY3lDb2RlIiwiQ3VycmVuY3lDb2RlIiwiZ2V0TG9jYWxlUGx1cmFsQ2FzZSIsIlBsdXJhbENhc2UiLCJuZyIsImNvbW1vbiIsImxvY2FsZXMiLCJ1bnJlZ2lzdGVyQWxsTG9jYWxlRGF0YSIsInBsdXJhbE1hcHBpbmciLCJERUZBVUxUX0xPQ0FMRV9JRCIsIkVMRU1FTlRfTUFSS0VSIiwiSUNVX01BUktFUiIsIkkxOG5DcmVhdGVPcENvZGUiLCJMT0NBTEVfSUQkMSIsInNldExvY2FsZUlkIiwidE5vZGVJbnNlcnRCZWZvcmVJbmRleCIsImkxOG5QYXJlbnQiLCJhbmNob3JSTm9kZSIsImFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgiLCJwcmV2aW91c1ROb2RlcyIsIm5ld1ROb2RlIiwiZXhpc3RpbmdUTm9kZSIsImlzSTE4blRleHQiLCJpc05ld1ROb2RlQ3JlYXRlZEJlZm9yZSIsImdldEluc2VydEJlZm9yZUluZGV4Iiwic2V0SW5zZXJ0QmVmb3JlSW5kZXgiLCJnZXRUSWN1IiwiY3JlYXRlVE5vZGVQbGFjZWhvbGRlciIsImdldEN1cnJlbnRJQ1VDYXNlSW5kZXgiLCJjdXJyZW50Q2FzZSIsImdldFBhcmVudEZyb21JY3VDcmVhdGVPcENvZGUiLCJtZXJnZWRDb2RlIiwiZ2V0UmVmRnJvbUljdUNyZWF0ZU9wQ29kZSIsImdldEluc3RydWN0aW9uRnJvbUljdUNyZWF0ZU9wQ29kZSIsImNoYW5nZU1hc2siLCJjaGFuZ2VNYXNrQ291bnRlciIsImFwcGx5TXV0YWJsZU9wQ29kZXMiLCJtdXRhYmxlT3BDb2RlcyIsInJvb3RSTm9kZSIsInJvb3RJZHgiLCJ0ZXh0Tm9kZUluZGV4IiwicGFyZW50SWR4IiwiaW5zZXJ0SW5Gcm9udE9mIiwicmVmSWR4IiwiY2FzZUluZGV4IiwiYW5jaG9ySWR4IiwiZWxlbWVudE5vZGVJbmRleCIsImNvbW1lbnRWYWx1ZSIsImNvbW1lbnROb2RlSW5kZXgiLCJhcHBseVVwZGF0ZU9wQ29kZXMiLCJ1cGRhdGVPcENvZGVzIiwiYmluZGluZ3NTdGFydEluZGV4IiwiY2hlY2tCaXQiLCJza2lwQ29kZXMiLCJzYW5pdGl6ZUZuIiwidE5vZGVPclRhZ05hbWUiLCJyVGV4dCIsImFwcGx5SWN1U3dpdGNoQ2FzZSIsImFwcGx5SWN1VXBkYXRlQ2FzZSIsImFjdGl2ZUNhc2VJbmRleCIsImljdUV4cHJlc3Npb24iLCJiaW5kaW5nVmFsdWUiLCJjYXNlcyIsInJlc29sdmVkQ2FzZSIsInBsdXJhbCIsImdldFBsdXJhbENhc2UiLCJnZXRDYXNlSW5kZXgiLCJhcHBseUljdVN3aXRjaENhc2VSZW1vdmUiLCJyZW1vdmVDb2RlcyIsIm5vZGVPckljdUluZGV4IiwibG9hZEljdUNvbnRhaW5lclZpc2l0b3IiLCJfc3RhY2siLCJfcmVtb3ZlcyIsIl9pbmRleCIsImVudGVySWN1IiwiaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0IiwicmVtb3ZlT3BDb2RlIiwidEljdUluZGV4IiwiaTE4bkNyZWF0ZU9wQ29kZXNUb1N0cmluZyIsIm9wY29kZXMiLCJjcmVhdGVPcENvZGVzIiwibGluZXMiLCJpc0NvbW1lbnQiLCJDT01NRU5UIiwiYXBwZW5kTm93IiwiQVBQRU5EX0VBR0VSTFkiLCJTSElGVCIsImkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmciLCJwYXJzZXIiLCJPcENvZGVQYXJzZXIiLCJjb25zdW1lT3BDb2RlIiwicmVmIiwiY29uc3VtZVN0cmluZyIsInNhbml0aXphdGlvbkZuIiwiY29uc3VtZUZ1bmN0aW9uIiwiaGFzTW9yZSIsImNvbnN1bWVOdW1iZXIiLCJzdGF0ZW1lbnRzIiwic3RhdGVtZW50IiwiY29uc3VtZU51bWJlck9yU3RyaW5nIiwib3BDb2RlVGV4dCIsImljdUNyZWF0ZU9wQ29kZXNUb1N0cmluZyIsImxhc3RSZWYiLCJjb25zdW1lTnVtYmVyU3RyaW5nT3JNYXJrZXIiLCJsaW5lIiwiaTE4blJlbW92ZU9wQ29kZXNUb1N0cmluZyIsImNvZGVzIiwiQklORElOR19SRUdFWFAiLCJJQ1VfUkVHRVhQIiwiTkVTVEVEX0lDVSIsIklDVV9CTE9DS19SRUdFWFAiLCJTVUJURU1QTEFURV9SRUdFWFAiLCJQSF9SRUdFWFAiLCJOR1NQX1VOSUNPREVfUkVHRVhQIiwiY3JlYXRlVE5vZGVBbmRBZGRPcENvZGUiLCJleGlzdGluZ1ROb2RlcyIsImlzSUNVIiwiaTE4bk5vZGVJZHgiLCJzZXRUTm9kZUluc2VydEJlZm9yZUluZGV4IiwiaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzUHJvY2Vzc1RleHROb2RlIiwiaGFzQmluZGluZyIsImdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXMiLCJzdHIiLCJkZXN0aW5hdGlvbk5vZGUiLCJiaW5kaW5nU3RhcnQiLCJtYXNrSW5kZXgiLCJzaXplSW5kZXgiLCJ0ZXh0UGFydHMiLCJ0ZXh0VmFsdWUiLCJ0b01hc2tCaXQiLCJjb3VudEJpbmRpbmdzIiwib3BDb2RlcyIsInJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbiIsInRhZ01hdGNoZWQiLCJpblRlbXBsYXRlIiwiZXhlYyIsImljdVN0YXJ0IiwiYmluZGluZ01hc2siLCJtYWluQmluZGluZyIsImFkZFVwZGF0ZUljdVN3aXRjaCIsInNldFRJY3UiLCJ2YWx1ZUFyciIsIm5lc3RlZEljdXMiLCJpY3VJbmRleCIsInBhcnNlSWN1Q2FzZSIsImFkZFVwZGF0ZUljdVVwZGF0ZSIsInBhcnNlSUNVQmxvY2siLCJwYXR0ZXJuIiwiaWN1VHlwZSIsImkxOG5QYXJzZVRleHRJbnRvUGFydHNBbmRJQ1UiLCJiaW5kaW5nIiwicG9zIiwiYmxvY2tzIiwicHJldlBvcyIsImJyYWNlU3RhY2siLCJyZXN1bHRzIiwiYnJhY2VzIiwibGFzdEluZGV4IiwiYmxvY2siLCJjYXNlTmFtZSIsInVuc2FmZUNhc2VIdG1sIiwiaW5lcnRSb290Tm9kZSIsIndhbGtJY3VUcmVlIiwic2hhcmVkVXBkYXRlT3BDb2RlcyIsImRlcHRoIiwiY3VycmVudE5vZGUiLCJhZGRDcmVhdGVOb2RlQW5kQXBwZW5kIiwibG93ZXJBdHRyTmFtZSIsImFkZENyZWF0ZUF0dHJpYnV0ZSIsImFkZFJlbW92ZU5vZGUiLCJpc05lc3RlZEljdSIsIm5lc3RlZEljdUluZGV4IiwiYWRkUmVtb3ZlTmVzdGVkSWN1IiwiYXBwZW5kVG9QYXJlbnRJZHgiLCJjcmVhdGVBdElkeCIsIlBQX01VTFRJX1ZBTFVFX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9QTEFDRUhPTERFUlNfUkVHRVhQIiwiUFBfSUNVX1ZBUlNfUkVHRVhQIiwiUFBfSUNVX1BMQUNFSE9MREVSU19SRUdFWFAiLCJQUF9JQ1VTX1JFR0VYUCIsIlBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUCIsIlBQX1RFTVBMQVRFX0lEX1JFR0VYUCIsIm1lc3NhZ2VJbmRleCIsInN1YlRlbXBsYXRlSW5kZXgiLCJwYXJlbnRUTm9kZUluZGV4IiwiZXhpc3RpbmdUTm9kZVN0YWNrIiwiaXNSb290VGVtcGxhdGVNZXNzYWdlIiwic2VhcmNoIiwiZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZSIsIm1zZ1BhcnRzIiwicGFydCIsImljdU5vZGVJbmRleCIsImlzQ2xvc2luZyIsIk51bWJlciIsImkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyIsInRJMThuIiwiYXBwbHlDcmVhdGVPcENvZGVzIiwicHJldmlvdXNFbGVtZW50SW5kZXgiLCJpMThuQXR0cmlidXRlc0ZpcnN0UGFzcyIsImFwcGx5STE4biIsInJlcGxhY2VtZW50cyIsInRlbXBsYXRlSWRzU3RhY2siLCJwaHMiLCJ0bXBsIiwicGxhY2Vob2xkZXJzIiwicGxhY2Vob2xkZXIiLCJ0ZW1wbGF0ZUlkIiwiaXNDbG9zZVRlbXBsYXRlVGFnIiwiY3VycmVudFRlbXBsYXRlSWQiLCJfdHlwZSIsIl9pZHgiLCJpMThuUG9zdHByb2Nlc3MiLCJyZXNvbHZlUHJvdmlkZXIiLCJsSW5qZWN0YWJsZXNCbHVlcHJpbnQiLCJwcm92aWRlckZhY3RvcnkiLCJiZWdpbkluZGV4IiwiZXhpc3RpbmdGYWN0b3J5SW5kZXgiLCJyZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkIiwiZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXgiLCJleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXgiLCJkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0IiwiZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QiLCJjb21wb25lbnRQcm92aWRlcnMiLCJtdWx0aUZhY3RvcnlBZGQiLCJtdWx0aUZhY3RvcnkiLCJtdWx0aVZpZXdQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIiLCJtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciIsImNvbnRleHRJbmRleCIsImluZGV4SW5GYWN0b3J5IiwicHJvdmlkZXJJc1R5cGVQcm92aWRlciIsInByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyIiwiZXhpc3RpbmdDYWxsYmFja3NJbmRleCIsImlzQ29tcG9uZW50UHJvdmlkZXIiLCJsRGF0YSIsIm11bHRpUmVzb2x2ZSIsImNvbXBvbmVudENvdW50IiwibXVsdGlQcm92aWRlcnMiLCJwcm9jZXNzUHJvdmlkZXJzRm4iLCJDb21wb25lbnRSZWYkMSIsIkNvbXBvbmVudEZhY3RvcnkkMSIsIl9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJub0NvbXBvbmVudEZhY3RvcnlFcnJvciIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIiwiY3JlYXRlRWxlbWVudFJlZiIsIkVsZW1lbnRSZWYiLCJuYXRpdmVFbGVtZW50IiwidW53cmFwRWxlbWVudFJlZiIsIlJlbmRlcmVyRmFjdG9yeTIiLCJSZW5kZXJlcjIiLCJub2RlQXRJbmRleCIsImdldE9yQ3JlYXRlUmVuZGVyZXIyIiwiaW5qZWN0UmVuZGVyZXIyIiwiU2FuaXRpemVyIiwiVmVyc2lvbiIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwicGF0Y2giLCJWRVJTSU9OIiwiTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiIsImNvbGxlY3ROYXRpdmVOb2RlcyIsImxOb2RlIiwibFZpZXdJbkFDb250YWluZXIiLCJsVmlld0ZpcnN0Q2hpbGRUTm9kZSIsIm5vZGVzSW5TbG90IiwiVmlld1JlZiQxIiwiX2NkUmVmSW5qZWN0aW5nVmlldyIsIl9hcHBSZWYiLCJfYXR0YWNoZWRUb1ZpZXdDb250YWluZXIiLCJyb290Tm9kZXMiLCJ2aWV3UmVmcyIsIm1hcmtGb3JDaGVjayIsImRldGFjaCIsInJlYXR0YWNoIiwiY2hlY2tOb0NoYW5nZXMiLCJjaGVja05vQ2hhbmdlc0ludGVybmFsIiwiYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmIiwiZGV0YWNoRnJvbUFwcFJlZiIsImF0dGFjaFRvQXBwUmVmIiwiYXBwUmVmIiwiUm9vdFZpZXdSZWYiLCJfdmlldyIsImNoZWNrTm9DaGFuZ2VzSW5Sb290VmlldyIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkNvbXBvbmVudEZhY3RvcnkiLCJ0b1JlZkFycmF5Iiwibm9uTWluaWZpZWQiLCJtaW5pZmllZCIsInRlbXBsYXRlTmFtZSIsImlzQm91bmRUb01vZHVsZSIsInByb2plY3RhYmxlTm9kZXMiLCJyb290U2VsZWN0b3JPck5vZGUiLCJyb290Vmlld0luamVjdG9yIiwiY3JlYXRlQ2hhaW5lZEluamVjdG9yIiwiZWxlbWVudE5hbWUiLCJnZXROYW1lc3BhY2UiLCJ0RWxlbWVudE5vZGUiLCJleHRyYWN0QXR0cnNBbmRDbGFzc2VzRnJvbVNlbGVjdG9yIiwibm9kZXNmb3JTbG90IiwiQ29tcG9uZW50UmVmIiwiX3Jvb3RMVmlldyIsImNoYW5nZURldGVjdG9yUmVmIiwic2V0Q2xhc3NNZXRhZGF0YSIsImNsYXp6IiwiTmdNb2R1bGVSZWYkMSIsIk5nTW9kdWxlRmFjdG9yeSQxIiwibW9kdWxlcyIsInJlZ2lzdGVyTmdNb2R1bGVUeXBlIiwidmlzaXRlZCIsInJlY3Vyc2UiLCJpbmNvbWluZyIsImFzc2VydFNhbWVPck5vdEV4aXN0aW5nIiwiZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZSIsImNyZWF0ZU5nTW9kdWxlUmVmIiwicGFyZW50SW5qZWN0b3IiLCJOZ01vZHVsZVJlZiIsIl9ib290c3RyYXBDb21wb25lbnRzIiwiZGVzdHJveUNicyIsImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl9yM0luamVjdG9yIiwiaW5qZWN0RmxhZ3MiLCJOZ01vZHVsZUZhY3RvcnkiLCJtb2R1bGVUeXBlIiwic2xvdE9mZnNldCIsInB1cmVGbiIsImV4cCIsInB1cmVGdW5jdGlvbjFJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjJJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjNJbnRlcm5hbCIsInB1cmVGdW5jdGlvbjRJbnRlcm5hbCIsImV4cDUiLCJleHA2IiwiZXhwNyIsImV4cDgiLCJleHBzIiwicHVyZUZ1bmN0aW9uVkludGVybmFsIiwiZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUiLCJyZXR1cm5WYWx1ZUluZGV4IiwibGFzdFJldHVyblZhbHVlIiwiYmluZGluZ1Jvb3QiLCJwaXBlTmFtZSIsImdldFBpcGVEZWYiLCJwaXBlRmFjdG9yeSIsInBpcGVJbnN0YW5jZSIsImlzUHVyZSIsInRyYW5zZm9ybSIsIkV2ZW50RW1pdHRlcl8iLCJpc0FzeW5jIiwiX19pc0FzeW5jIiwibmV4dEZuIiwiZXJyb3JGbiIsImNvbXBsZXRlRm4iLCJfd3JhcEluVGltZW91dCIsIkV2ZW50RW1pdHRlciIsInN5bWJvbEl0ZXJhdG9yIiwiX3Jlc3VsdHMiLCJRdWVyeUxpc3QiLCJfZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkiLCJfY2hhbmdlc0RldGVjdGVkIiwiX2NoYW5nZXMiLCJzeW1ib2wiLCJjaGFuZ2VzIiwicmVzdWx0c1RyZWUiLCJpZGVudGl0eUFjY2Vzc29yIiwibmV3UmVzdWx0RmxhdCIsInZhbHVlQSIsInZhbHVlQiIsImFycmF5RXF1YWxzIiwibm90aWZ5T25DaGFuZ2VzIiwic2V0RGlydHkiLCJUZW1wbGF0ZVJlZiIsImNyZWF0ZVRlbXBsYXRlUmVmIiwiVmlld0VuZ2luZVRlbXBsYXRlUmVmIiwiUjNUZW1wbGF0ZVJlZiIsIl9kZWNsYXJhdGlvbkxWaWV3IiwiX2RlY2xhcmF0aW9uVENvbnRhaW5lciIsImVsZW1lbnRSZWYiLCJjcmVhdGVFbWJlZGRlZFZpZXciLCJkZWNsYXJhdGlvblZpZXdMUXVlcmllcyIsIlZpZXdDb250YWluZXJSZWYiLCJjcmVhdGVDb250YWluZXJSZWYiLCJWRV9WaWV3Q29udGFpbmVyUmVmIiwiUjNWaWV3Q29udGFpbmVyUmVmIiwiX2xDb250YWluZXIiLCJfaG9zdFROb2RlIiwiX2hvc3RMVmlldyIsImdldFZpZXdSZWZzIiwidGVtcGxhdGVSZWYiLCJ2aWV3UmVmIiwiaW5zZXJ0IiwiY3JlYXRlQ29tcG9uZW50IiwiY29tcG9uZW50RmFjdG9yeU9yVHlwZSIsImluZGV4T3JPcHRpb25zIiwibmdNb2R1bGVSZWYiLCJpc0NvbXBvbmVudEZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3J5IiwiY29udGV4dEluamVjdG9yIiwiY29tcG9uZW50UmVmIiwicHJldklkeCIsInByZXZMQ29udGFpbmVyIiwicHJldlZDUmVmIiwiYWRqdXN0ZWRJZHgiLCJfYWRqdXN0SW5kZXgiLCJjb250YWluZXJMZW5ndGgiLCJpbnNlcnRlZExDb250YWluZXIiLCJpbnNlcnRlZENvbXBvbmVudExWaWV3IiwiZGVjbGFyZWRDb21wb25lbnRMVmlldyIsInRyYWNrTW92ZWRWaWV3IiwiaW5zZXJ0VmlldyIsInBhcmVudE5hdGl2ZU5vZGUiLCJhZGRWaWV3VG9Db250YWluZXIiLCJnZXRPckNyZWF0ZVZpZXdSZWZzIiwibW92ZSIsInZpZXdSZWZzQXJyIiwiZGV0YWNoZWRWaWV3IiwiY29tbWVudE5vZGUiLCJuYXRpdmVOZXh0U2libGluZyIsIkxRdWVyeV8iLCJxdWVyeUxpc3QiLCJjbG9uZSIsIkxRdWVyaWVzXyIsInRRdWVyaWVzIiwibm9PZkluaGVyaXRlZFF1ZXJpZXMiLCJ2aWV3TFF1ZXJpZXMiLCJ0UXVlcnkiLCJnZXRCeUluZGV4IiwicGFyZW50TFF1ZXJ5IiwiaW5kZXhJbkRlY2xhcmF0aW9uVmlldyIsImRpcnR5UXVlcmllc1dpdGhNYXRjaGVzIiwiZ2V0VFF1ZXJ5IiwiVFF1ZXJ5TWV0YWRhdGFfIiwiVFF1ZXJpZXNfIiwicXVlcmllc0ZvclRlbXBsYXRlUmVmIiwiY2hpbGRRdWVyeUluZGV4IiwidHF1ZXJ5Q2xvbmUiLCJ0cmFjayIsInRxdWVyeSIsIlRRdWVyeV8iLCJjcm9zc2VzTmdUZW1wbGF0ZSIsIl9hcHBsaWVzVG9OZXh0Tm9kZSIsIl9kZWNsYXJhdGlvbk5vZGVJbmRleCIsImlzQXBwbHlpbmdUb05vZGUiLCJtYXRjaFROb2RlIiwiYWRkTWF0Y2giLCJkZWNsYXJhdGlvbk5vZGVJZHgiLCJtYXRjaFROb2RlV2l0aFJlYWRPcHRpb24iLCJnZXRJZHhPZk1hdGNoaW5nU2VsZWN0b3IiLCJub2RlTWF0Y2hJZHgiLCJkaXJlY3RpdmVPclByb3ZpZGVySWR4IiwibWF0Y2hJZHgiLCJjcmVhdGVSZXN1bHRGb3JOb2RlIiwibWF0Y2hpbmdJZHgiLCJjcmVhdGVSZXN1bHRCeVROb2RlVHlwZSIsImNyZWF0ZVNwZWNpYWxUb2tlbiIsIm1hdGVyaWFsaXplVmlld1Jlc3VsdHMiLCJxdWVyeUluZGV4IiwibFF1ZXJ5IiwidFF1ZXJ5TWF0Y2hlcyIsIm1hdGNoZWROb2RlSWR4IiwiY29sbGVjdFF1ZXJ5UmVzdWx0cyIsImxWaWV3UmVzdWx0cyIsImVtYmVkZGVkTFZpZXdzIiwiY3JlYXRlVFF1ZXJ5IiwiY3JlYXRlTFF1ZXJ5IiwidFZpZXdDb250ZW50UXVlcmllcyIsInNhdmVDb250ZW50UXVlcnlBbmREaXJlY3RpdmVJbmRleCIsImFuZ3VsYXJDb3JlRW52Iiwiaml0T3B0aW9ucyIsInJlc2V0Sml0T3B0aW9ucyIsIm1vZHVsZVF1ZXVlIiwiZmx1c2hpbmdNb2R1bGVRdWV1ZSIsImZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSIsImlzUmVzb2x2ZWREZWNsYXJhdGlvbiIsInNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMiLCJkZWNsYXJhdGlvbiIsImNvbXBpbGVOZ01vZHVsZSIsImNvbXBpbGVOZ01vZHVsZURlZnMiLCJlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmciLCJhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCIsImV4cGFuZE1vZHVsZVdpdGhQcm92aWRlcnMiLCJOZ01vZHVsZSIsInZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYiLCJjb21waWxlSW5qZWN0b3IiLCJpbXBvcnRpbmdNb2R1bGUiLCJ2ZXJpZmllZE5nTW9kdWxlIiwidW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHMiLCJtb2QiLCJ2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0IiwiY29tYmluZWREZWNsYXJhdGlvbnMiLCJjb21wdXRlQ29tYmluZWRFeHBvcnRzIiwiZGVjbCIsInN1cHByZXNzRXJyb3JzIiwiZXhpc3RpbmdNb2R1bGUiLCJvd25lck5nTW9kdWxlIiwidmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZSIsImdldEFubm90YXRpb24iLCJlbnRyeUNvbXBvbmVudHMiLCJ2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlIiwidHlwZU9yV2l0aFByb3ZpZGVycyIsImNvbGxlY3QiLCJfX2Fubm90YXRpb25zX18iLCJyZWFkQW5ub3RhdGlvbiIsIldlYWtNYXAiLCJyZXNldENvbXBpbGVkQ29tcG9uZW50cyIsInRyYW5zaXRpdmVTY29wZXMiLCJ0cmFuc2l0aXZlU2NvcGVzRm9yIiwicGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUiLCJuZ1NlbGVjdG9yU2NvcGUiLCJjb21waWxhdGlvbiIsImRpciIsImlzTmdNb2R1bGUiLCJzY29wZXMiLCJleHBvcnRlZCIsImltcG9ydGVkVHlwZSIsImltcG9ydGVkU2NvcGUiLCJlbnRyeSIsImRlY2xhcmVkIiwiZXhwb3J0ZWRUeXBlIiwiZXhwb3J0ZWRTY29wZSIsImlzTW9kdWxlV2l0aFByb3ZpZGVycyIsImNvbXBpbGF0aW9uRGVwdGgiLCJjb21waWxlQ29tcG9uZW50IiwibmdDb21wb25lbnREZWYiLCJtYXliZVF1ZXVlUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzIiwiYWRkRGlyZWN0aXZlRmFjdG9yeURlZiIsInByZXNlcnZlV2hpdGVzcGFjZXMiLCJkZWZhdWx0RW5jYXBzdWxhdGlvbiIsImRpcmVjdGl2ZU1ldGFkYXRhIiwidHlwZVNvdXJjZVNwYW4iLCJjcmVhdGVQYXJzZVNvdXJjZVNwYW4iLCJhbmltYXRpb25zIiwiaW50ZXJwb2xhdGlvbiIsInVzZXNJbmhlcml0YW5jZSIsImFkZERpcmVjdGl2ZURlZlRvVW5kZWNvcmF0ZWRQYXJlbnRzIiwiY29tcGlsZURpcmVjdGl2ZSIsIm5nRGlyZWN0aXZlRGVmIiwiZ2V0RGlyZWN0aXZlTWV0YWRhdGEiLCJzb3VyY2VNYXBVcmwiLCJmYWNhZGUiLCJEaXJlY3RpdmUiLCJleHRlbmRzRGlyZWN0bHlGcm9tT2JqZWN0IiwiZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSIsImlzQ29udGVudFF1ZXJ5IiwibGlmZWN5Y2xlIiwidXNlc09uQ2hhbmdlcyIsInNwbGl0QnlDb21tYSIsInZpZXdRdWVyaWVzIiwib2JqUHJvdG90eXBlIiwic2hvdWxkQWRkQWJzdHJhY3REaXJlY3RpdmUiLCJjb252ZXJ0VG9SM1F1ZXJ5TWV0YWRhdGEiLCJhbm4iLCJpc1F1ZXJ5QW5uIiwicXVlcmllc01ldGEiLCJpc0lucHV0QW5ub3RhdGlvbiIsInBpZWNlIiwiTElGRUNZQ0xFX0hPT0tTIiwiaG9va05hbWUiLCJtZXRhZGF0YU5hbWUiLCJjb21waWxlUGlwZSIsIm5nUGlwZURlZiIsImdldFBpcGVNZXRhZGF0YSIsIlBpcGUiLCJDb21wb25lbnQiLCJJbnB1dCIsImJpbmRpbmdQcm9wZXJ0eU5hbWUiLCJPdXRwdXQiLCJIb3N0QmluZGluZyIsImhvc3RQcm9wZXJ0eU5hbWUiLCJIb3N0TGlzdGVuZXIiLCJBUFBfSU5JVElBTElaRVIiLCJBcHBsaWNhdGlvbkluaXRTdGF0dXMiLCJhcHBJbml0cyIsImluaXRpYWxpemVkIiwiZG9uZVByb21pc2UiLCJyZWoiLCJydW5Jbml0aWFsaXplcnMiLCJhc3luY0luaXRQcm9taXNlcyIsImluaXRSZXN1bHQiLCJvYnNlcnZhYmxlQXNQcm9taXNlIiwiQVBQX0lEIiwiX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5IiwiX3JhbmRvbUNoYXIiLCJBUFBfSURfUkFORE9NX1BST1ZJREVSIiwicmFuZG9tIiwiUExBVEZPUk1fSU5JVElBTElaRVIiLCJQTEFURk9STV9JRCIsIkFQUF9CT09UU1RSQVBfTElTVEVORVIiLCJQQUNLQUdFX1JPT1RfVVJMIiwiQ29uc29sZSIsIkxPQ0FMRV9JRCIsImdldExvY2FsZSIsIiRsb2NhbGl6ZSIsIkRFRkFVTFRfQ1VSUkVOQ1lfQ09ERSIsIlRSQU5TTEFUSU9OUyIsIlRSQU5TTEFUSU9OU19GT1JNQVQiLCJNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSIsIk1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMiLCJuZ01vZHVsZUZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3JpZXMiLCJDb21waWxlciIsImNvbXBpbGVNb2R1bGVTeW5jIiwiY29tcGlsZU1vZHVsZUFzeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyIsImNsZWFyQ2FjaGUiLCJjbGVhckNhY2hlRm9yIiwiZ2V0TW9kdWxlSWQiLCJDT01QSUxFUl9PUFRJT05TIiwiQ29tcGlsZXJGYWN0b3J5Iiwic2NoZWR1bGVNaWNyb1Rhc2siLCJab25lIiwiTmdab25lIiwiZW5hYmxlTG9uZ1N0YWNrVHJhY2UiLCJzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIiwic2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24iLCJoYXNQZW5kaW5nTWFjcm90YXNrcyIsImhhc1BlbmRpbmdNaWNyb3Rhc2tzIiwiaXNTdGFibGUiLCJvblVuc3RhYmxlIiwib25NaWNyb3Rhc2tFbXB0eSIsIm9uU3RhYmxlIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJfbmVzdGluZyIsIl9vdXRlciIsIl9pbm5lciIsImZvcmsiLCJsYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQiLCJuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSIsInVucGF0Y2hlZFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9fc3ltYm9sX18iLCJ1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSIsImdldE5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsInpvbmUiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlIiwiaXNDaGVja1N0YWJsZVJ1bm5pbmciLCJmYWtlVG9wRXZlbnRUYXNrIiwic2NoZWR1bGVFdmVudFRhc2siLCJ1cGRhdGVNaWNyb1Rhc2tTdGF0dXMiLCJjaGVja1N0YWJsZSIsImludm9rZSIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzIiwib25JbnZva2VUYXNrIiwidGFzayIsImFwcGx5VGhpcyIsImFwcGx5QXJncyIsIm9uRW50ZXIiLCJpbnZva2VUYXNrIiwib25MZWF2ZSIsIm9uSW52b2tlIiwib25IYXNUYXNrIiwiaGFzVGFza1N0YXRlIiwiaGFzVGFzayIsImNoYW5nZSIsIl9oYXNQZW5kaW5nTWljcm90YXNrcyIsIm1pY3JvVGFzayIsIm1hY3JvVGFzayIsIm9uSGFuZGxlRXJyb3IiLCJydW5PdXRzaWRlQW5ndWxhciIsImZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yIiwiaXNJbkFuZ3VsYXJab25lIiwicnVuIiwicnVuVGFzayIsIkVNUFRZX1BBWUxPQUQiLCJjYW5jZWxUYXNrIiwicnVuR3VhcmRlZCIsIk5vb3BOZ1pvbmUiLCJUZXN0YWJpbGl0eSIsIl9uZ1pvbmUiLCJfcGVuZGluZ0NvdW50IiwiX2lzWm9uZVN0YWJsZSIsIl9kaWRXb3JrIiwiX2NhbGxiYWNrcyIsInRhc2tUcmFja2luZ1pvbmUiLCJfd2F0Y2hBbmd1bGFyRXZlbnRzIiwiYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSIsIl9ydW5DYWxsYmFja3NJZlJlYWR5IiwiaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50IiwiZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50IiwidGltZW91dElkIiwiZG9uZUNiIiwiZ2V0UGVuZGluZ1Rhc2tzIiwidXBkYXRlQ2IiLCJtYWNyb1Rhc2tzIiwiY3JlYXRpb25Mb2NhdGlvbiIsImFkZENhbGxiYWNrIiwid2hlblN0YWJsZSIsImdldFBlbmRpbmdSZXF1ZXN0Q291bnQiLCJmaW5kUHJvdmlkZXJzIiwidXNpbmciLCJleGFjdE1hdGNoIiwiVGVzdGFiaWxpdHlSZWdpc3RyeSIsIl9hcHBsaWNhdGlvbnMiLCJfdGVzdGFiaWxpdHlHZXR0ZXIiLCJhZGRUb1dpbmRvdyIsInJlZ2lzdGVyQXBwbGljYXRpb24iLCJ0ZXN0YWJpbGl0eSIsInVucmVnaXN0ZXJBcHBsaWNhdGlvbiIsInVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMiLCJnZXRUZXN0YWJpbGl0eSIsImVsZW0iLCJnZXRBbGxUZXN0YWJpbGl0aWVzIiwiZ2V0QWxsUm9vdEVsZW1lbnRzIiwiZmluZFRlc3RhYmlsaXR5SW5UcmVlIiwiZmluZEluQW5jZXN0b3JzIiwic2V0VGVzdGFiaWxpdHlHZXR0ZXIiLCJfcGxhdGZvcm0iLCJjb21waWxlTmdNb2R1bGVGYWN0b3J5IiwiYXNzZXJ0TmdNb2R1bGVUeXBlIiwibW9kdWxlRmFjdG9yeSIsIm5nSml0TW9kZSIsImNvbXBpbGVyT3B0aW9ucyIsInNldEppdE9wdGlvbnMiLCJfbGFzdERlZmluZWQiLCJjb21waWxlclByb3ZpZGVycyIsIl9tZXJnZUFycmF5cyIsInJlc291cmNlTG9hZGVyIiwiUmVzb3VyY2VMb2FkZXIiLCJjZiIsIkFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyIsIk5nUHJvYmVUb2tlbiIsImNyZWF0ZVBsYXRmb3JtIiwiUGxhdGZvcm1SZWYiLCJpbml0cyIsImNyZWF0ZVBsYXRmb3JtRmFjdG9yeSIsInBhcmVudFBsYXRmb3JtRmFjdG9yeSIsImRlc2MiLCJleHRyYVByb3ZpZGVycyIsInBsYXRmb3JtIiwiZ2V0UGxhdGZvcm0iLCJpbmplY3RlZFByb3ZpZGVycyIsImFzc2VydFBsYXRmb3JtIiwicmVxdWlyZWRUb2tlbiIsImRlc3Ryb3lQbGF0Zm9ybSIsIl9pbmplY3RvciIsIl9tb2R1bGVzIiwiX2Rlc3Ryb3lMaXN0ZW5lcnMiLCJib290c3RyYXBNb2R1bGVGYWN0b3J5Iiwibmdab25lIiwibmdab25lT3B0aW9uIiwiZXh0cmEiLCJuZ1pvbmVFdmVudENvYWxlc2NpbmciLCJuZ1pvbmVSdW5Db2FsZXNjaW5nIiwiZ2V0Tmdab25lIiwibmdab25lSW5qZWN0b3IiLCJtb2R1bGVSZWYiLCJleGNlcHRpb25IYW5kbGVyIiwiX2NhbGxBbmRSZXBvcnRUb0Vycm9ySGFuZGxlciIsImluaXRTdGF0dXMiLCJfbW9kdWxlRG9Cb290c3RyYXAiLCJib290c3RyYXBNb2R1bGUiLCJvcHRpb25zUmVkdWNlciIsIkFwcGxpY2F0aW9uUmVmIiwibmdEb0Jvb3RzdHJhcCIsIl96b25lIiwiX2V4Y2VwdGlvbkhhbmRsZXIiLCJfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiX2luaXRTdGF0dXMiLCJfYm9vdHN0cmFwTGlzdGVuZXJzIiwiX3ZpZXdzIiwiX3J1bm5pbmdUaWNrIiwiX3N0YWJsZSIsImNvbXBvbmVudFR5cGVzIiwiX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24iLCJ0aWNrIiwiaXNDdXJyZW50bHlTdGFibGUiLCJzdGFibGVTdWIiLCJ1bnN0YWJsZVN1YiIsImFzc2VydEluQW5ndWxhclpvbmUiLCJjb21wb25lbnRPckZhY3RvcnkiLCJzZWxlY3Rvck9yTm9kZSIsImNvbXBSZWYiLCJ0ZXN0YWJpbGl0eVJlZ2lzdHJ5IiwiX2xvYWRDb21wb25lbnQiLCJhdHRhY2hWaWV3Iiwidmlld0NvdW50IiwiX2Rldk1vZGUiLCJfcnVuTW9kZUxvY2tlZCIsImlzRGV2TW9kZSIsImVuYWJsZVByb2RNb2RlIiwiZ2V0TW9kdWxlRmFjdG9yeSIsIm5vTW9kdWxlRXJyb3IiLCJnZXROZ01vZHVsZUJ5SWQiLCJDaGFuZ2VEZXRlY3RvclJlZiIsImluamVjdENoYW5nZURldGVjdG9yUmVmIiwiaXNQaXBlIiwiaG9zdENvbXBvbmVudFZpZXciLCJjcmVhdGVWaWV3UmVmIiwiVmlld1JlZiIsIkVtYmVkZGVkVmlld1JlZiIsIkRlYnVnRXZlbnRMaXN0ZW5lciIsImFzTmF0aXZlRWxlbWVudHMiLCJkZWJ1Z0VscyIsIkRlYnVnTm9kZSIsIm5hdGl2ZU5vZGUiLCJEZWJ1Z0VsZW1lbnQiLCJyZWZlcmVuY2VzIiwiZGlzY292ZXJMb2NhbFJlZnMiLCJnZXRMb2NhbFJlZnMiLCJwcm92aWRlclRva2VucyIsImdldEluamVjdGlvblRva2VucyIsIk5vZGVQcm90b3R5cGUiLCJkZXNjcmlwdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJpc1ByaW1pdGl2ZVZhbHVlIiwiY29weURvbVByb3BlcnRpZXMiLCJiaW5kaW5nSW5kZXhlcyIsIm1ldGFkYXRhUGFydHMiLCJjb2xsZWN0UHJvcGVydHlCaW5kaW5ncyIsImxvd2VyY2FzZVROb2RlQXR0cnMiLCJlQXR0cnMiLCJsb3dlcmNhc2VOYW1lIiwiYmFzZVZhbCIsImNoaWxkTm9kZXMiLCJnZXREZWJ1Z05vZGUiLCJxdWVyeSIsInF1ZXJ5QWxsIiwiX3F1ZXJ5QWxsIiwicXVlcnlBbGxOb2RlcyIsInRyaWdnZXJFdmVudEhhbmRsZXIiLCJldmVudE9iaiIsImludm9rZWRMaXN0ZW5lcnMiLCJldmVudExpc3RlbmVycyIsInVud3JhcHBlZExpc3RlbmVyIiwicGFyZW50RWxlbWVudCIsImVsZW1lbnRzT25seSIsIl9xdWVyeU5vZGVDaGlsZHJlbiIsIl9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyIsInJvb3ROYXRpdmVOb2RlIiwiZ2V0TmF0aXZlQnlUTm9kZU9yTnVsbCIsIl9hZGRRdWVyeU1hdGNoIiwibm9kZU9yQ29udGFpbmVyIiwiX3F1ZXJ5Tm9kZUNoaWxkcmVuSW5Db250YWluZXIiLCJoZWFkIiwibmV4dExWaWV3IiwibmV4dFROb2RlIiwiY2hpbGRWaWV3IiwiZGVidWdOb2RlIiwiZ2V0RGVidWdOb2RlUjIiLCJfbmF0aXZlTm9kZSIsIkRlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkiLCJzdXBwb3J0cyIsInRyYWNrQnlGbiIsIkRlZmF1bHRJdGVyYWJsZURpZmZlciIsInRyYWNrQnlJZGVudGl0eSIsIl9saW5rZWRSZWNvcmRzIiwiX3VubGlua2VkUmVjb3JkcyIsIl9wcmV2aW91c0l0SGVhZCIsIl9pdEhlYWQiLCJfaXRUYWlsIiwiX2FkZGl0aW9uc0hlYWQiLCJfYWRkaXRpb25zVGFpbCIsIl9tb3Zlc0hlYWQiLCJfbW92ZXNUYWlsIiwiX3JlbW92YWxzSGVhZCIsIl9yZW1vdmFsc1RhaWwiLCJfaWRlbnRpdHlDaGFuZ2VzSGVhZCIsIl9pZGVudGl0eUNoYW5nZXNUYWlsIiwiX3RyYWNrQnlGbiIsImZvckVhY2hJdGVtIiwiZm9yRWFjaE9wZXJhdGlvbiIsIm5leHRJdCIsIm5leHRSZW1vdmUiLCJhZGRSZW1vdmVPZmZzZXQiLCJtb3ZlT2Zmc2V0cyIsImN1cnJlbnRJbmRleCIsImdldFByZXZpb3VzSW5kZXgiLCJhZGpQcmV2aW91c0luZGV4IiwiX25leHRSZW1vdmVkIiwicHJldmlvdXNJbmRleCIsImxvY2FsTW92ZVByZXZpb3VzSW5kZXgiLCJsb2NhbEN1cnJlbnRJbmRleCIsIm9mZnNldCIsImZvckVhY2hQcmV2aW91c0l0ZW0iLCJfbmV4dFByZXZpb3VzIiwiZm9yRWFjaEFkZGVkSXRlbSIsIl9uZXh0QWRkZWQiLCJmb3JFYWNoTW92ZWRJdGVtIiwiX25leHRNb3ZlZCIsImZvckVhY2hSZW1vdmVkSXRlbSIsImZvckVhY2hJZGVudGl0eUNoYW5nZSIsIl9uZXh0SWRlbnRpdHlDaGFuZ2UiLCJjb2xsZWN0aW9uIiwiY2hlY2siLCJfcmVzZXQiLCJpdGVtVHJhY2tCeSIsIm1heUJlRGlydHkiLCJ0cmFja0J5SWQiLCJfdmVyaWZ5UmVpbnNlcnRpb24iLCJfYWRkSWRlbnRpdHlDaGFuZ2UiLCJfbWlzbWF0Y2giLCJpdGVyYXRlTGlzdExpa2UiLCJfdHJ1bmNhdGUiLCJpc0RpcnR5IiwicHJldmlvdXNSZWNvcmQiLCJfcHJldiIsIl9yZW1vdmUiLCJfcmVpbnNlcnRBZnRlciIsIl9tb3ZlQWZ0ZXIiLCJfYWRkQWZ0ZXIiLCJJdGVyYWJsZUNoYW5nZVJlY29yZF8iLCJyZWluc2VydFJlY29yZCIsIl9hZGRUb01vdmVzIiwibmV4dFJlY29yZCIsIl9hZGRUb1JlbW92YWxzIiwiX3VubGluayIsInByZXZSZWNvcmQiLCJfcHJldlJlbW92ZWQiLCJfaW5zZXJ0QWZ0ZXIiLCJfRHVwbGljYXRlTWFwIiwicHV0IiwidG9JbmRleCIsIl9wcmV2RHVwIiwiX25leHREdXAiLCJfRHVwbGljYXRlSXRlbVJlY29yZExpc3QiLCJfaGVhZCIsIl90YWlsIiwiYXRPckFmdGVySW5kZXgiLCJkdXBsaWNhdGVzIiwicmVjb3JkTGlzdCIsIm1vdmVPZmZzZXQiLCJEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5IiwiRGVmYXVsdEtleVZhbHVlRGlmZmVyIiwiX3JlY29yZHMiLCJfbWFwSGVhZCIsIl9hcHBlbmRBZnRlciIsIl9wcmV2aW91c01hcEhlYWQiLCJfY2hhbmdlc0hlYWQiLCJfY2hhbmdlc1RhaWwiLCJmb3JFYWNoQ2hhbmdlZEl0ZW0iLCJfbmV4dENoYW5nZWQiLCJfZm9yRWFjaCIsIl9tYXliZUFkZFRvQ2hhbmdlcyIsIl9nZXRPckNyZWF0ZVJlY29yZEZvcktleSIsIl9pbnNlcnRCZWZvcmVPckFwcGVuZCIsIktleVZhbHVlQ2hhbmdlUmVjb3JkXyIsIl9hZGRUb0FkZGl0aW9ucyIsIl9hZGRUb0NoYW5nZXMiLCJkZWZhdWx0SXRlcmFibGVEaWZmZXJzRmFjdG9yeSIsIkl0ZXJhYmxlRGlmZmVycyIsImNvcGllZCIsImRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5IiwiS2V5VmFsdWVEaWZmZXJzIiwia3YiLCJrZXlWYWxEaWZmIiwiaXRlcmFibGVEaWZmIiwiZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyIsImRlZmF1bHRLZXlWYWx1ZURpZmZlcnMiLCJwbGF0Zm9ybUNvcmUiLCJBcHBsaWNhdGlvbk1vZHVsZSIsImNvbXBpbGVEaXJlY3RpdmVEZWNsYXJhdGlvbiIsImNvbXBpbGVDb21wb25lbnREZWNsYXJhdGlvbiIsImdldEZhY3RvcnlLaW5kIiwiY29tcGlsZUZhY3RvcnlEZWNsYXJhdGlvbiIsImNvbXBpbGVJbmplY3RhYmxlRGVjbGFyYXRpb24iLCJjb21waWxlSW5qZWN0b3JEZWNsYXJhdGlvbiIsImNvbXBpbGVOZ01vZHVsZURlY2xhcmF0aW9uIiwiY29tcGlsZVBpcGVEZWNsYXJhdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJ0b1N0cmluZ1RhZyIsIlNpZ25hbGluZ1NlcnZlciIsIlNpZ25hbFNlcnZlclYyIiwiZ2V0U3ViRG9tYWluIiwiY2hlY2tLZXlGb3JEaWQiXSwic291cmNlUm9vdCI6IiJ9